const _0x13d7bc=(function(){let _0x165754=!![];return function(_0x2b8d6c,_0x6dc4bc){const _0x541379=_0x165754?function(){if(_0x6dc4bc){const _0x414a49=_0x6dc4bc['apply'](_0x2b8d6c,arguments);return _0x6dc4bc=null,_0x414a49;}}:function(){};return _0x165754=![],_0x541379;};}()),_0x222439=_0x13d7bc(this,function(){return _0x222439['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0x222439)['search']('(((.+)+)+)'+'+$');});_0x222439();const _0x18bf3a=(function(){let _0x2021e9=!![];return function(_0x2a109f,_0x38e034){const _0x5860b0=_0x2021e9?function(){if(_0x38e034){const _0x500b8f=_0x38e034['apply'](_0x2a109f,arguments);return _0x38e034=null,_0x500b8f;}}:function(){};return _0x2021e9=![],_0x5860b0;};}());(function(){_0x18bf3a(this,function(){const _0x547f27=new RegExp('function\x20*'+'\x5c(\x20*\x5c)'),_0x5752a0=new RegExp('\x5c+\x5c+\x20*(?:['+'a-zA-Z_$]['+'0-9a-zA-Z_'+'$]*)','i'),_0x535d69=_0x158edf('init');!_0x547f27['test'](_0x535d69+'chain')||!_0x5752a0['test'](_0x535d69+'input')?_0x535d69('0'):_0x158edf();})();}());const _0x2d91b8=(function(){let _0x4a58cb=!![];return function(_0x1f8306,_0x159518){const _0x44af5a=_0x4a58cb?function(){if(_0x159518){const _0x25aa1b=_0x159518['apply'](_0x1f8306,arguments);return _0x159518=null,_0x25aa1b;}}:function(){};return _0x4a58cb=![],_0x44af5a;};}()),_0x2a350b=_0x2d91b8(this,function(){let _0x183e5b;try{const _0x478a86=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x183e5b=_0x478a86();}catch(_0x285e34){_0x183e5b=window;}const _0x4837ea=_0x183e5b['console']=_0x183e5b['console']||{},_0x1dd7ea=['log','warn','info','error','exception','table','trace'];for(let _0xe99907=-0x1b5d+-0x19da+0x3537;_0xe99907<_0x1dd7ea['length'];_0xe99907++){const _0x5169fa=_0x2d91b8['constructo'+'r']['prototype']['bind'](_0x2d91b8),_0x529627=_0x1dd7ea[_0xe99907],_0x5b73ec=_0x4837ea[_0x529627]||_0x5169fa;_0x5169fa['__proto__']=_0x2d91b8['bind'](_0x2d91b8),_0x5169fa['toString']=_0x5b73ec['toString']['bind'](_0x5b73ec),_0x4837ea[_0x529627]=_0x5169fa;}});_0x2a350b();var k0=Object['defineProp'+'erty'],U0=(_0x33c532,_0x1967cf,_0x2c1cee)=>_0x1967cf in _0x33c532?k0(_0x33c532,_0x1967cf,{'enumerable':!(-0x2*-0xc27+0x97*0x26+0x256*-0x14),'configurable':!(0x26fb+0x22bd+-0x2a2*0x1c),'writable':!(0x38*0x5b+0x1*0xc5b+-0x2043),'value':_0x2c1cee}):_0x33c532[_0x1967cf]=_0x2c1cee,h=(_0x453fed,_0x3c86cb,_0x5ddeba)=>U0(_0x453fed,typeof _0x3c86cb!='symbol'?_0x3c86cb+'':_0x3c86cb,_0x5ddeba),B0=(_0x3d9336=>(_0x3d9336['HIGH']='high',_0x3d9336['MEDIUM']='medium',_0x3d9336['LOW']='low',_0x3d9336['LOW_VR']='lowVR',_0x3d9336))(B0||{});const z0=()=>!HS()&&!WS()&&!GS()&&!V0(),GS=()=>{const _0x2f5851=navigator['userAgent']['includes']('Macintosh'),_0x1680d8=navigator['maxTouchPo'+'ints']===0x1*0x2417+0xad7+-0xfa3*0x3,_0x1d7fbd=/^((?!chrome|android).)*safari/i['test'](navigator['userAgent']);return _0x2f5851&&_0x1680d8&&_0x1d7fbd;},HS=()=>navigator['userAgent']['includes']('Quest'),V0=()=>{const _0x3f9f11=navigator['userAgent']['toLowerCas'+'e']();return _0x3f9f11['includes']('pico')||_0x3f9f11['includes']('picolrowse'+'r');},WS=()=>['iOS','Android']['includes'](G0()),FU=()=>new URL(location['href'])['searchPara'+'ms']['has']('nowheel'),NU=()=>new URL(location['href'])['searchPara'+'ms']['has']('nowheel'),G0=()=>{const _0x3e0a05=window['navigator']['userAgent']['toLowerCas'+'e'](),_0x184437=window['navigator']['platform']['toLowerCas'+'e']();return/iphone|ipad|ipod/['test'](_0x3e0a05)?'iOS':/android/['test'](_0x3e0a05)?'Android':/mac/['test'](_0x184437)?'macOS':/win/['test'](_0x184437)?'Windows':/linux/['test'](_0x184437)?'Linux':'Unknown';};class kU{constructor(){this['HIGH_FPS_T'+'HRESHOLD']=0x79c+-0x21a1+0x1a32,this['MEDIUM_FPS'+'_THRESHOLD']=-0xa*-0xa+0xba*0x2a+-0x1eca,this['HIGH_MEMOR'+'Y_THRESHOL'+'D']=(-0x362+0x957+-0x5f1)*(-0x8e4+-0x1d6e+0x2a52)*(0x1f*0x4f+-0x175e+0x11cd)*(0xa7+0x8f*-0x30+0x1*0x1e29),this['MEDIUM_MEM'+'ORY_THRESH'+'OLD']=(0x190e*0x1+-0x124*0x9+-0xec8)*(0xcb+-0x1d33+0x1034*0x2)*(-0x1*-0x1589+-0x1bef+-0x16*-0x79)*(0x3a4*-0x1+-0x21fe+0x29a2),this['SCORE_THRE'+'SHOLDS']={'HIGH':0x46,'MEDIUM':0x32,'LOW':0x1e},this['VENDOR_WEI'+'GHTS']={'nvidia':0x1,'amd':0.9,'apple':0.8,'intel':0.6,'qualcomm':0.5,'arm':0.4},this['HIGH_END_P'+'ATTERNS']={'nvidia':[/geforce\s+(?:rtx\s*[3-4]|titan\s*(?:rtx|xp|v))|quadro\s+(?:rtx|a[0-9]+)/i,/a[1-9][0-9]+/i],'amd':[/radeon\s+(?:rx\s*[6-9]|rx\s*7[0-9]+|pro\s*w[5-9])|instinct\s+mi[2-9]/i],'apple':[/m[1-3]\s+(?:pro|max|ultra)?/i]},this['MEDIUM_END'+'_PATTERNS']={'nvidia':[/geforce\s+(?:rtx\s*2|gtx\s*1[6-9])|quadro\s+(?:p[2-9]|t[1-9])/i],'amd':[/radeon\s+(?:rx\s*[4-5]|vega\s*[5-9])|pro\s*w[2-4]/i],'apple':[/a[1-9][0-9]+\s+(?:x|z)?/i]},this['LOW_END_PA'+'TTERNS']={'intel':[/(?:hd|uhd|iris|xe)\s*graphics\s*(?:[6-9][0-9]+|[1-9][0-9]+g)/i],'qualcomm':[/adreno\s*[6-9][0-9]+/i],'arm':[/mali\s*-?(?:g[7-9][0-9]|t[8-9][0-9])/i]};}['getVendorS'+'core'](_0x25fe9c){const _0x1b6de5=_0x25fe9c['toLowerCas'+'e']();for(const [_0x4189aa,_0x4e9162]of Object['entries'](this['VENDOR_WEI'+'GHTS']))if(_0x1b6de5['includes'](_0x4189aa))return _0x4e9162*(-0x140e+-0xed*0x11+-0x9d*-0x3b);return 0x1063*0x1+-0x4d8+-0xb59;}['getModelSc'+'ore'](_0x1e76dd,_0x469862){const _0xead494=_0x1e76dd['toLowerCas'+'e'](),_0x587768=_0x469862['toLowerCas'+'e']();for(const [_0x5581b2,_0x341c41]of Object['entries'](this['HIGH_END_P'+'ATTERNS']))if(_0xead494['includes'](_0x5581b2)&&_0x341c41['some'](_0x49c004=>_0x49c004['test'](_0x587768)))return 0x1979+0x11db*0x1+-0x2afa;for(const [_0x48cfe8,_0x1d7de8]of Object['entries'](this['MEDIUM_END'+'_PATTERNS']))if(_0xead494['includes'](_0x48cfe8)&&_0x1d7de8['some'](_0xd913ed=>_0xd913ed['test'](_0x587768)))return-0x2028+0xe16+-0x1*-0x1258;for(const [_0x40a66a,_0xaa09ed]of Object['entries'](this['LOW_END_PA'+'TTERNS']))if(_0xead494['includes'](_0x40a66a)&&_0xaa09ed['some'](_0x4d86e5=>_0x4d86e5['test'](_0x587768)))return 0x2db+-0x4*-0x7fc+0x1*-0x2299;return 0x2e4+0x26b9+-0x2961;}['getMemoryS'+'core'](_0x102312){return _0x102312?_0x102312>=0x4e9d+-0x3ff1+0x4*0x80d?-0x624*-0x1+-0xbf*0x26+0x169a:_0x102312>=0x2ed0+0x1bfd+0x2b8d*-0x1?-0x1c5*0x3+0xe2d*-0x1+0x13d6:_0x102312>=-0xa7d+0x194a+0x21*0x43?0x1996+0x996+-0x22dc:_0x102312>=0xed3+0x873+0x2*-0x3d3?0x1a4c+-0x22f4+0x8ee:_0x102312>=-0x1565+-0x252e*0x1+0x4263?0x1*0x150b+0x1e*0x9b+0xb*-0x38b:-0x1*-0x183b+-0x151*-0x9+0x1*-0x23e2:-0x9f*0x7+-0x1105+0x1590;}['getDriverS'+'core'](_0x242f5a){if(!_0x242f5a)return-0x1964+-0x3e*-0x83+-0x20c*0x3;const _0x211a47=_0x242f5a['match'](/20[2-9][0-9]/);if(_0x211a47){const _0x8d4a27=parseInt(_0x211a47[0x2*-0x11f9+-0x1*-0x1af+0x2243]);if(_0x8d4a27>=0x1*-0x1d5d+-0x1*0x2557+-0x10d*-0x47)return-0x204*0xd+-0x2636+0x40ce;if(_0x8d4a27>=-0xd25+0xd48+0x7c3)return-0x1*-0x24ce+-0x6*0x4b1+0x3*-0x2c8;if(_0x8d4a27>=0x1116*-0x2+0x1fea+0xa27)return 0x1e*-0xc7+0x3*0x47f+0x1*0xa11;}return 0x13*-0x103+-0x152d+0x2898;}['evaluateGP'+'U'](_0x44eef5){const _0x34a16d=this['getVendorS'+'core'](_0x44eef5['vendor']),_0x1a8f4e=this['getModelSc'+'ore'](_0x44eef5['vendor'],_0x44eef5['renderer']),_0x54f70c=this['getMemoryS'+'core'](_0x44eef5['memory']),_0x98f5a5=this['getDriverS'+'core'](_0x44eef5['driverVers'+'ion']);return console['log']('GPU:',_0x44eef5['vendor']),console['log']('GPU:',_0x44eef5['renderer']),console['log']('GPU:',_0x44eef5['driverVers'+'ion']),console['table'](_0x44eef5),_0x34a16d*(-0x22c9+0x192b+-0x2*-0x4cf+0.3)+_0x1a8f4e*(-0x1918+0x1*-0x1625+0x1d*0x1a1+0.4)+_0x54f70c*(0x6*0x2c8+0xe0+-0x1190+0.2)+_0x98f5a5*(0x4bf+-0x10d*-0xc+-0x5c9*0x3+0.1);}['evaluateCP'+'U'](){const _0x2678d0=navigator['hardwareCo'+'ncurrency'];return _0x2678d0>=0x11c8+-0xdf*-0x6+0x22*-0xad?-0x101b*-0x1+0x5*-0x46b+0x5ff:_0x2678d0>=-0x10c4+-0x1356+0x241e?0x8dc+-0x16ee+0xe14:0x2219+0x2093+-0x42ab;}['evaluateMe'+'mory'](_0x145b44){return typeof _0x145b44=='string'?0x720+0x2004+0x343*-0xc:_0x145b44['totalJSHea'+'pSize'];}['evaluatePe'+'rformance'](_0xc3b73c){const _0x2ca03b=WS(),_0x19a7ec=GS(),_0x2759ed=HS();if(_0x19a7ec)return'medium';if(_0x2759ed)return'lowVR';if(_0x2ca03b)return'low';const _0x5efcfa=_0xc3b73c['fps']>=this['HIGH_FPS_T'+'HRESHOLD']?-0x1518*0x1+-0x16c9+0x35*0xd4:_0xc3b73c['fps']>=this['MEDIUM_FPS'+'_THRESHOLD']?0x19f1+-0xc2a*0x1+-0xdc5:0xe9*0x2+-0x2356+0x2185*0x1;let _0x4ccb1c=0x1a56+0x4d6+-0x1f2b;typeof _0xc3b73c['gpuInfo']!='string'&&(_0x4ccb1c=this['evaluateGP'+'U'](_0xc3b73c['gpuInfo']));const _0x176f78=this['evaluateCP'+'U'](),_0x4884ed=this['evaluateMe'+'mory'](_0xc3b73c['memoryInfo'])>=this['HIGH_MEMOR'+'Y_THRESHOL'+'D']?-0x1441+-0x107f*0x1+0x24c3*0x1:this['evaluateMe'+'mory'](_0xc3b73c['memoryInfo'])>=this['MEDIUM_MEM'+'ORY_THRESH'+'OLD']?0x4fd*0x2+-0x734*0x5+-0x2*-0xd06:-0x1*-0x204d+0x7ee+-0x283a,_0x268dfa=_0x5efcfa+_0x4ccb1c+_0x176f78+_0x4884ed;return console['log']('GPU:',_0x5efcfa,_0x4ccb1c,_0x176f78,_0x4884ed),_0x268dfa>=this['SCORE_THRE'+'SHOLDS']['HIGH']?'high':_0x268dfa>=this['SCORE_THRE'+'SHOLDS']['MEDIUM']?'medium':'low';}['getModelQu'+'alitySetti'+'ngs'](_0x24947b){return{'high':{'textureQuality':'high'},'medium':{'textureQuality':'medium'},'low':{'textureQuality':'low'},'lowVR':{'textureQuality':'lowVR'}}[_0x24947b];}}const H0=()=>{globalThis['requestIdl'+'eCallback']=globalThis['requestIdl'+'eCallback']||function(_0x55fa30){var _0x2a578e=Date['now']();return setTimeout(function(){_0x55fa30({'didTimeout':!(0x1*0x2663+-0x3*-0x471+-0x1ab*0x1f),'timeRemaining':function(){return Math['max'](0x49*-0x4f+-0x4df+0x15*0x14e,0x12db+0x1ea0+-0x3149-(Date['now']()-_0x2a578e));}});},0x15*0x1f+0x3*0x56d+-0x12d1);},globalThis['cancelIdle'+'Callback']=globalThis['cancelIdle'+'Callback']||function(_0x49af06){clearTimeout(_0x49af06);};},W0='RenderFram'+'e',Ld='RenderFram'+'eTime',Pm='RenderPass',cn='RenderPass'+'Detail',Vl='RenderActi'+'on',Mm='RenderTarg'+'etAlloc',Dm='TextureAll'+'oc',Im='ShaderAllo'+'c',$0='ShaderComp'+'ile',X0='VRAM.Textu'+'re',q0='VRAM.Vb',j0='VRAM.Ib',Y0='BindGroupA'+'lloc',K0='BindGroupF'+'ormatAlloc',Vs='Element',Z0='Textures',Gl='GpuTimings',hn='$_CURRENT_'+'SDK_VERSIO'+'N',$S='$_CURRENT_'+'SDK_REVISI'+'ON';function ah(_0x317aad,_0x2d0df0){for(const _0x2a7a57 in _0x2d0df0){const _0x22bb01=_0x2d0df0[_0x2a7a57];Array['isArray'](_0x22bb01)?_0x317aad[_0x2a7a57]=ah([],_0x22bb01):_0x22bb01&&typeof _0x22bb01=='object'?_0x317aad[_0x2a7a57]=ah({},_0x22bb01):_0x317aad[_0x2a7a57]=_0x22bb01;}return _0x317aad;}const Q0={'create'(){return('xxxxxxxx-x'+'xxx-4xxx-y'+'xxx-xxxxxx'+'xxxxxx')['replace'](/[xy]/g,_0x3c12c0=>{const _0x4e46fa=Math['random']()*(0x18c3*0x1+0x1faa+0x1*-0x385d)|-0x126d*-0x2+-0x3*-0x22e+-0x2b64;return(_0x3c12c0==='x'?_0x4e46fa:_0x4e46fa&-0x1f0e+-0x76+0x1f87|0x65*-0x1c+0x9d0+0x144)['toString'](0x9*-0x271+0x5de*-0x5+0x335f);});}},xe={'delimiter':'/','join'(..._0x5655c4){let _0x75d4ab=_0x5655c4[0x244+-0x743*0x4+-0x2*-0xd64];for(let _0x71f2fc=-0x23d+0xf6e+-0xd31*0x1;_0x71f2fc<_0x5655c4['length']-(0x476*-0x1+-0x2246+-0x26bd*-0x1);_0x71f2fc++){const _0x282fe3=_0x5655c4[_0x71f2fc],_0x56f273=_0x5655c4[_0x71f2fc+(0x1916+-0xb*-0xd9+-0x2268)];if(_0x56f273[0x18be+0x768+-0x2026]===xe['delimiter']){_0x75d4ab=_0x56f273;continue;}_0x282fe3&&_0x56f273&&_0x282fe3[_0x282fe3['length']-(0x1*-0xad0+-0x194+-0xc65*-0x1)]!==xe['delimiter']&&_0x56f273[0x1039*0x1+0x1dcf+0x3d6*-0xc]!==xe['delimiter']?_0x75d4ab+=xe['delimiter']+_0x56f273:_0x75d4ab+=_0x56f273;}return _0x75d4ab;},'normalize'(_0x51432c){const _0x7177d2=_0x51432c['startsWith'](xe['delimiter']),_0x532f40=_0x51432c['endsWith'](xe['delimiter']),_0x2fe4c1=_0x51432c['split']('/');let _0x2fb7fe='',_0x4ac5fb=[];for(let _0x29214e=0x1d2*0x14+-0x1*-0x59a+-0x2a02;_0x29214e<_0x2fe4c1['length'];_0x29214e++)if(_0x2fe4c1[_0x29214e]!==''&&_0x2fe4c1[_0x29214e]!=='.'){if(_0x2fe4c1[_0x29214e]==='..'&&_0x4ac5fb['length']>-0x5*0x8d+-0x1*0xb3+0x34*0x11){_0x4ac5fb=_0x4ac5fb['slice'](0x35f*-0x3+-0x13*-0x4+-0x1*-0x9d1,_0x4ac5fb['length']-(0x1980+0x2557+-0x3ed5));continue;}_0x29214e>0x23f4+-0xf68+-0x2*0xa46&&_0x4ac5fb['push'](xe['delimiter']),_0x4ac5fb['push'](_0x2fe4c1[_0x29214e]);}return _0x2fb7fe=_0x4ac5fb['join'](''),!_0x7177d2&&_0x2fb7fe[-0x1276+0x1*-0x26a7+0x1*0x391d]===xe['delimiter']&&(_0x2fb7fe=_0x2fb7fe['slice'](-0x23df+0x1*-0x1ab1+-0x14db*-0x3)),_0x532f40&&_0x2fb7fe[_0x2fb7fe['length']-(0x22*-0x116+-0x4d3+0x29c0)]!==xe['delimiter']&&(_0x2fb7fe+=xe['delimiter']),_0x2fb7fe;},'split'(_0x571f1b){const _0x40ff06=_0x571f1b['lastIndexO'+'f'](xe['delimiter']);return _0x40ff06!==-(-0x1*-0x772+-0x7c*0x30+-0xd5*-0x13)?[_0x571f1b['substring'](0x892+-0x120d+0x97b,_0x40ff06),_0x571f1b['substring'](_0x40ff06+(0x1*0x201f+0x1d9*-0xa+-0x246*0x6))]:['',_0x571f1b];},'getBasename'(_0x140d9a){return xe['split'](_0x140d9a)[-0x1*0x1147+-0x24c9+0x3611*0x1];},'getDirectory'(_0x4116f0){return xe['split'](_0x4116f0)[-0x11*-0x1e8+-0x9f6*0x3+-0x13*0x22];},'getExtension'(_0x12178d){const _0x72845d=_0x12178d['split']('?')[0x249f+0x12b*0x13+-0x3ad0]['split']('.')['pop']();return _0x72845d!==_0x12178d?'.'+_0x72845d:'';},'isRelativePath'(_0x29bac3){return _0x29bac3['charAt'](-0x7*-0x35c+0xdab*-0x1+-0x9d9)!=='/'&&_0x29bac3['match'](/:\/\//)===null;},'extractPath'(_0x113c07){let _0x3f0cd9='';const _0x3b479f=_0x113c07['split']('/');let _0x7d8c7c=-0x26f3+-0xb*0xf5+-0x6*-0x83f;if(_0x3b479f['length']>-0x6*0x9a+-0x4*-0x86c+-0x1*0x1e13){if(xe['isRelative'+'Path'](_0x113c07)){if(_0x3b479f[-0x3*-0x6d9+-0x3*0xca9+0x3e*0x48]==='.'){for(_0x7d8c7c=-0x5*0x48c+0x1be4+-0x528;_0x7d8c7c<_0x3b479f['length']-(0x65e+0xdd0+-0x142d);++_0x7d8c7c)_0x3f0cd9+=_0x7d8c7c===-0xda4+-0x11ed+0x1f91*0x1?_0x3b479f[_0x7d8c7c]:'/'+_0x3b479f[_0x7d8c7c];}else{if(_0x3b479f[0x1831+0x233e*-0x1+0xb0d]==='..'){for(_0x7d8c7c=-0x3f5+0x2ba+0x13b;_0x7d8c7c<_0x3b479f['length']-(-0x2566+0x11*-0x146+0x3b0d);++_0x7d8c7c)_0x3f0cd9+=_0x7d8c7c===-0x1f3c*0x1+-0x280+0x1fc*0x11?_0x3b479f[_0x7d8c7c]:'/'+_0x3b479f[_0x7d8c7c];}else{for(_0x3f0cd9='.',_0x7d8c7c=0x2032+-0x12da+-0xd58;_0x7d8c7c<_0x3b479f['length']-(0x110f+-0x1577+-0x469*-0x1);++_0x7d8c7c)_0x3f0cd9+='/'+_0x3b479f[_0x7d8c7c];}}}else{for(_0x7d8c7c=0x138e*-0x1+-0x19*-0x3e+0x2*0x6c0;_0x7d8c7c<_0x3b479f['length']-(0x844+0x204b+0x1d*-0x166);++_0x7d8c7c)_0x3f0cd9+=_0x7d8c7c===-0x153a+-0xdb*-0x1d+0x1*-0x395?_0x3b479f[_0x7d8c7c]:'/'+_0x3b479f[_0x7d8c7c];}}return _0x3f0cd9;}},J0=()=>{let _0x2fd950=!(0x1549*0x1+-0x2425+0xedd);try{const _0x3d5e6d=Object['defineProp'+'erty']({},'passive',{'get':function(){return _0x2fd950=!(-0x6*0x372+-0x16c1*0x1+0x2b6d),!(-0x1*-0x1a41+0x4c1*0x1+-0x1f01);}});window['addEventLi'+'stener']('testpassiv'+'e',null,_0x3d5e6d),window['removeEven'+'tListener']('testpassiv'+'e',null,_0x3d5e6d);}catch{}return _0x2fd950;},Bi=typeof navigator<'u'?navigator['userAgent']:'',nh=typeof window<'u'?'browser':typeof global<'u'?'node':'worker',Lm=/android/i['test'](Bi)?'android':/ip(?:[ao]d|hone)/i['test'](Bi)?'ios':/windows/i['test'](Bi)?'windows':/mac os/i['test'](Bi)?'osx':/linux/i['test'](Bi)?'linux':/cros/i['test'](Bi)?'cros':null,ex=nh!=='browser'?null:/Chrome\/|Chromium\/|Edg.*\//['test'](Bi)?'chrome':/Safari\//['test'](Bi)?'safari':/Firefox\//['test'](Bi)?'firefox':'other',tx=nh==='browser'&&('ontouchsta'+'rt'in window||'maxTouchPo'+'ints'in navigator&&navigator['maxTouchPo'+'ints']>-0x403*-0x6+0x1*0x9a9+-0x21bb),sx=J0(),Ae={'name':Lm,'browser':nh==='browser','worker':nh==='worker','android':Lm==='android','touch':tx,'passiveEvents':sx,'browserName':ex},XS='abcdefghij'+'klmnopqrst'+'uvwxyz',qS='ABCDEFGHIJ'+'KLMNOPQRST'+'UVWXYZ',ix=XS+qS,Bf=-0x103f0+0x4c*0x4b6+0x75e8,jS=0x1080c+0xcc1a+-0xf827,Rm=0xe*-0x11b1+-0x117c*0x7+0x24e12,rx=0x17ce0+-0x675d*0x1+-0x3584,ax=0x78d*0x8+-0x37e+-0x18dd,Om=0x2bf7e+-0x1340*-0x7+0x4*-0x5516,Fm=-0x1*0x4ab9+-0xae75+-0xe19*-0x35,nx=-0x2*0x1be87+0x3*-0x9859+-0x5*-0x17204,ox=0x2fcc5*0x1+-0x1b85b+0xaf95,lx=-0x3736+0x6b9*-0x2+0x44*0x17e,cx=0x1733+0x1f9+0x7d3,zf=-0xe659*-0x1+-0x145d3*-0x1+0x4b8b*-0x4,Vf=0x1*0x1c3a0+-0x12e59+0x68c8;function Gf(_0x398d0c,_0x25afe0=0x355*0x5+0x3*-0x141+0xfe*-0xd){const _0x568029=_0x398d0c['length'];if(_0x25afe0<0x23c3+-0x21fd+-0x1c6||_0x25afe0>=_0x568029)return null;const _0x92517f=_0x398d0c['charCodeAt'](_0x25afe0);if(_0x568029>0x1503+0xe75*-0x2+0x7e8&&_0x92517f>=Bf&&_0x92517f<=jS){const _0x3a578b=_0x398d0c['charCodeAt'](_0x25afe0+(-0x4f*0x19+-0x377*0x7+-0x1*-0x1ff9));if(_0x3a578b>=Rm&&_0x3a578b<=rx)return{'code':(_0x92517f-Bf)*(-0xb57*-0x1+0xffe+-0x1755)+_0x3a578b-Rm+(-0x231*0xe5+-0xd*-0x61+0x2f0e8),'long':!(0x3*0xa3e+-0x15c6+0x2fc*-0x3)};}return{'code':_0x92517f,'long':!(-0x41d+-0x5*0x611+0x2273)};}function fr(_0x2d7bf5,_0x1ea410,_0x4b36be){if(!_0x2d7bf5)return!(-0x2*-0x621+0x7c3*-0x1+0x1*-0x47e);const _0x4c5f3c=Gf(_0x2d7bf5);if(_0x4c5f3c){const _0xbc869=_0x4c5f3c['code'];return _0xbc869>=_0x1ea410&&_0xbc869<=_0x4b36be;}return!(0x805+0x1f25+-0x2729);}function hx(_0x58e865,_0x4ce73b){if(_0x4ce73b===_0x58e865['length']-(0x13*0x139+0x1d7b+-0x34b5))return-0x265a*0x1+-0x183+0x36*0xbd;if(fr(_0x58e865[_0x4ce73b],Bf,jS)){const _0x2f1fff=_0x58e865['substring'](_0x4ce73b,_0x4ce73b+(0x18fd+-0x233*0x2+0x1495*-0x1)),_0x4db8b1=_0x58e865['substring'](_0x4ce73b+(0x18f0+0x1*-0x13dd+-0x511),_0x4ce73b+(0x8df+0x1fad+0x2888*-0x1));return fr(_0x4db8b1,nx,ox)||fr(_0x2f1fff,Om,Fm)&&fr(_0x4db8b1,Om,Fm)?0x158f+0xc33+-0x21be:fr(_0x4db8b1,zf,Vf)?-0x5e9+0x1179+-0xb8d:-0x1*-0x63d+0x20c+0xd*-0xa3;}return fr(_0x58e865[_0x4ce73b+(0x1b32+-0x15f2+0x11*-0x4f)],zf,Vf)?-0x289*-0x3+-0x5f8*0x4+0x1047:-0x51*-0x13+-0x7*0x4ff+-0x5*-0x5cb;}const Hc={'ASCII_LOWERCASE':XS,'ASCII_UPPERCASE':qS,'ASCII_LETTERS':ix,'format'(_0x27a724,..._0x11cf89){for(let _0xd57afc=-0x1*-0x257b+0x482+-0x29fd;_0xd57afc<_0x11cf89['length'];_0xd57afc++)_0x27a724=_0x27a724['replace']('{'+_0xd57afc+'}',_0x11cf89[_0xd57afc]);return _0x27a724;},'getCodePoint'(_0x3043fb,_0x5ab0dd){const _0x25d8db=Gf(_0x3043fb,_0x5ab0dd);return _0x25d8db&&_0x25d8db['code'];},'getCodePoints'(_0x4129bd){if(typeof _0x4129bd!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x2c30c3=-0x7f*-0x47+0x7*-0x4b2+-0x25b;const _0x2d682e=[];let _0x56a071;for(;_0x56a071=Gf(_0x4129bd,_0x2c30c3);)_0x2d682e['push'](_0x56a071['code']),_0x2c30c3+=_0x56a071['long']?-0x1*-0x14db+-0x11f3+-0x2e6:0x512+0xe*-0x12b+0xb49;return _0x2d682e;},'getSymbols'(_0x42e6c4){if(typeof _0x42e6c4!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x5df041=-0x1cd*-0x1+-0x2f*-0x47+-0xed6;const _0x5b9baf=_0x42e6c4['length'],_0x5ed82d=[];let _0x38988e=0xdf*-0x17+0x1a5*0x3+0xf1a,_0x14b701;for(;_0x5df041<_0x5b9baf;){if(_0x38988e+=hx(_0x42e6c4,_0x5df041+_0x38988e),_0x14b701=_0x42e6c4[_0x5df041+_0x38988e],fr(_0x14b701,lx,cx)&&(_0x14b701=_0x42e6c4[_0x5df041+_0x38988e++]),fr(_0x14b701,zf,Vf)&&(_0x14b701=_0x42e6c4[_0x5df041+_0x38988e++]),_0x14b701&&_0x14b701['charCodeAt'](0x1119*-0x2+-0x1dac+0x5*0xcc6)===ax){_0x14b701=_0x42e6c4[_0x5df041+_0x38988e++];continue;}const _0x3f4e4b=_0x42e6c4['substring'](_0x5df041,_0x5df041+_0x38988e);_0x5ed82d['push'](_0x3f4e4b),_0x5df041+=_0x38988e,_0x38988e=0x1*0x93d+0x1089+-0x19c6;}return _0x5ed82d;},'fromCodePoint'(..._0x5589e7){return _0x5589e7['map'](_0x22abe8=>_0x22abe8>-0x2b8*0x7+0x126*-0x3d+-0x15915*-0x1?(_0x22abe8-=-0x14ba5*0x1+-0x110d7+0x35c7c,String['fromCharCo'+'de']((_0x22abe8>>-0x22b6+-0x562+0x2822)+(-0x1479+0xe32f+-0x1d*-0x52),_0x22abe8%(-0x1*-0x22f7+-0x2b*-0x74+-0x3273)+(-0x30*0x44e+-0x114*0x111+0x2d0f4))):String['fromCharCo'+'de'](_0x22abe8))['join']('');}},Zr=class Zr{static['set'](_0x332b5c,_0x53fe9f=!(0x550+0x1902+-0x1e52)){_0x53fe9f?Zr['_traceChan'+'nels']['add'](_0x332b5c):Zr['_traceChan'+'nels']['delete'](_0x332b5c);}static['get'](_0xea26e5){return Zr['_traceChan'+'nels']['has'](_0xea26e5);}};h(Zr,'_traceChan'+'nels',new Set()),h(Zr,'stack',!(-0x2ba*-0x7+-0x136a+-0x55*-0x1));let mi=Zr;const Vt=class Vt{static['deprecated'](_0xcad65f){Vt['_loggedMes'+'sages']['has'](_0xcad65f)||(Vt['_loggedMes'+'sages']['add'](_0xcad65f),console['warn']('DEPRECATED'+':\x20'+_0xcad65f));}static['removed'](_0x2899b7){Vt['_loggedMes'+'sages']['has'](_0x2899b7)||(Vt['_loggedMes'+'sages']['add'](_0x2899b7),console['error']('REMOVED:\x20'+_0x2899b7));}static['assertDepr'+'ecated'](_0xef23f7,_0xc42448){_0xef23f7||Vt['deprecated'](_0xc42448);}static['assert'](_0x36e224,..._0x3bee13){_0x36e224||console['error']('ASSERT\x20FAI'+'LED:\x20',..._0x3bee13);}static['assertDest'+'royed'](_0x10a966){var _0x1a51b5;if(_0x10a966!=null&&_0x10a966['__alreadyD'+'estroyed']){const _0x4a6a07='['+((_0x1a51b5=_0x10a966['constructo'+'r'])==null?void(0x1*0x20e3+-0xf5e*-0x1+-0x3041*0x1):_0x1a51b5['name'])+(']\x20with\x20nam'+'e\x20[')+_0x10a966['name']+(']\x20has\x20alre'+'ady\x20been\x20d'+'estroyed,\x20'+'and\x20cannot'+'\x20be\x20used.');Vt['_loggedMes'+'sages']['has'](_0x4a6a07)||(Vt['_loggedMes'+'sages']['add'](_0x4a6a07),console['error']('ASSERT\x20FAI'+'LED:\x20',_0x4a6a07,_0x10a966));}}static['call'](_0xfc1d4e){_0xfc1d4e();}static['log'](..._0x2d76cb){console['log'](..._0x2d76cb);}static['logOnce'](_0xc17558,..._0x5a6ed8){Vt['_loggedMes'+'sages']['has'](_0xc17558)||(Vt['_loggedMes'+'sages']['add'](_0xc17558),console['log'](_0xc17558,..._0x5a6ed8));}static['warn'](..._0xda7460){console['warn'](..._0xda7460);}static['warnOnce'](_0x398c66,..._0x32bd42){Vt['_loggedMes'+'sages']['has'](_0x398c66)||(Vt['_loggedMes'+'sages']['add'](_0x398c66),console['warn'](_0x398c66,..._0x32bd42));}static['error'](..._0x56648d){console['error'](..._0x56648d);}static['errorOnce'](_0x1f6621,..._0x38ecb6){Vt['_loggedMes'+'sages']['has'](_0x1f6621)||(Vt['_loggedMes'+'sages']['add'](_0x1f6621),console['error'](_0x1f6621,..._0x38ecb6));}static['trace'](_0x4455c1,..._0x590114){mi['get'](_0x4455c1)&&(console['groupColla'+'psed'](_0x4455c1['padEnd'](0x68*-0x30+0x1*0x18c5+-0x1bb*0x3,'\x20')+'|',..._0x590114),console['groupEnd']());}};h(Vt,'_loggedMes'+'sages',new Set());let w=Vt;class Ea{static['setName'](_0x17eee5,_0x1fded2){_0x17eee5&&(_0x17eee5['name']=_0x1fded2);}static['setLabel'](_0x473af6,_0x1535ff){_0x473af6&&(_0x473af6['label']=_0x1535ff);}static['setDestroy'+'ed'](_0x3ee4df){_0x3ee4df&&(_0x3ee4df['__alreadyD'+'estroyed']=!(0xd4*0x2+-0xc49*-0x3+-0x2683*0x1));}}class dx{constructor(_0x56dccb,_0x43a071,_0x5939dc,_0xe38777,_0x395739=!(-0x805+-0x113d+0x1943)){h(this,'handler'),h(this,'name'),h(this,'callback'),h(this,'scope'),h(this,'_once'),h(this,'_removed',!(0x1*-0x59e+0x245+0x35a)),(this['handler']=_0x56dccb,this['name']=_0x43a071,this['callback']=_0x5939dc,this['scope']=_0xe38777,this['_once']=_0x395739);}['off'](){this['_removed']||this['handler']['offByHandl'+'e'](this);}['on'](_0x1feebf,_0x449e3f,_0x16be1d=this){return w['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.on\x20is\x20d'+'eprecated,'+'\x20subscribe'+'\x20to\x20an\x20eve'+'nt\x20from\x20Ev'+'entHandler'+'\x20directly\x20'+'instead.'),this['handler']['_addCallba'+'ck'](_0x1feebf,_0x449e3f,_0x16be1d,!(0x1272+0xce8+-0x1f59));}['once'](_0x20a41e,_0x2c725f,_0x30fe9e=this){return w['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.once\x20is'+'\x20deprecate'+'d,\x20subscri'+'be\x20to\x20an\x20e'+'vent\x20from\x20'+'EventHandl'+'er\x20directl'+'y\x20instead.'),this['handler']['_addCallba'+'ck'](_0x20a41e,_0x2c725f,_0x30fe9e,!(0x1bd5+-0x1de3+0x2*0x107));}set['removed'](_0x298b86){_0x298b86&&(this['_removed']=!(0xfd1+-0x20b1*0x1+0x10e0));}get['removed'](){return this['_removed'];}['toJSON'](_0x58af50){}}class me{constructor(){h(this,'_callbacks',new Map()),h(this,'_callbackA'+'ctive',new Map());}['initEventH'+'andler'](){this['_callbacks']=new Map(),this['_callbackA'+'ctive']=new Map();}['_addCallba'+'ck'](_0x34905b,_0x576e63,_0x4d8c55,_0x200fe5){if((!_0x34905b||typeof _0x34905b!='string'||!_0x576e63)&&console['warn']('EventHandl'+'er:\x20subscr'+'ibing\x20to\x20a'+'n\x20event\x20('+_0x34905b+(')\x20with\x20mis'+'sing\x20argum'+'ents'),_0x576e63),this['_callbacks']['has'](_0x34905b)||this['_callbacks']['set'](_0x34905b,[]),this['_callbackA'+'ctive']['has'](_0x34905b)){const _0x28fa0f=this['_callbackA'+'ctive']['get'](_0x34905b);_0x28fa0f&&_0x28fa0f===this['_callbacks']['get'](_0x34905b)&&this['_callbackA'+'ctive']['set'](_0x34905b,_0x28fa0f['slice']());}const _0x3c6b4b=new dx(this,_0x34905b,_0x576e63,_0x4d8c55,_0x200fe5);return this['_callbacks']['get'](_0x34905b)['push'](_0x3c6b4b),_0x3c6b4b;}['on'](_0x23a077,_0x304873,_0x1a09f5=this){return this['_addCallba'+'ck'](_0x23a077,_0x304873,_0x1a09f5,!(-0x11*-0x1e7+-0xb86+0x8*-0x29a));}['once'](_0x2ee12c,_0x11350f,_0x50e374=this){return this['_addCallba'+'ck'](_0x2ee12c,_0x11350f,_0x50e374,!(-0x267e+0x1*0x125e+0x170*0xe));}['off'](_0x3fa590,_0x30e111,_0x54abe2){if(_0x3fa590)this['_callbackA'+'ctive']['has'](_0x3fa590)&&this['_callbackA'+'ctive']['get'](_0x3fa590)===this['_callbacks']['get'](_0x3fa590)&&this['_callbackA'+'ctive']['set'](_0x3fa590,this['_callbackA'+'ctive']['get'](_0x3fa590)['slice']());else{for(const [_0x43c213,_0x438858]of this['_callbackA'+'ctive'])this['_callbacks']['has'](_0x43c213)&&this['_callbacks']['get'](_0x43c213)===_0x438858&&this['_callbackA'+'ctive']['set'](_0x43c213,_0x438858['slice']());}if(_0x3fa590){if(_0x30e111){const _0x369090=this['_callbacks']['get'](_0x3fa590);if(!_0x369090)return this;for(let _0x508ce7=0xf01+-0x19bb+0x2*0x55d;_0x508ce7<_0x369090['length'];_0x508ce7++)_0x369090[_0x508ce7]['callback']===_0x30e111&&(_0x54abe2&&_0x369090[_0x508ce7]['scope']!==_0x54abe2||(_0x369090[_0x508ce7]['removed']=!(0x1ef4+0x1498+-0x338c),_0x369090['splice'](_0x508ce7,0x1209+-0x1*-0x88f+-0x1a97),_0x508ce7--));_0x369090['length']===-0x1ebc+-0x1d66+0x2b*0x166&&this['_callbacks']['delete'](_0x3fa590);}else{const _0x472604=this['_callbacks']['get'](_0x3fa590);if(_0x472604){for(let _0x3498d3=-0x1b30+0x35*0x7a+0x1ee;_0x3498d3<_0x472604['length'];_0x3498d3++)_0x472604[_0x3498d3]['removed']=!(0xbb8+0x1a54+0x3ce*-0xa);this['_callbacks']['delete'](_0x3fa590);}}}else{for(const _0x4de5f7 of this['_callbacks']['values']())for(let _0x383c84=0x8c+0x1632+-0x16be;_0x383c84<_0x4de5f7['length'];_0x383c84++)_0x4de5f7[_0x383c84]['removed']=!(0x9*-0x35f+0xce6*-0x3+0x81*0x89);this['_callbacks']['clear']();}return this;}['offByHandl'+'e'](_0x1f60fd){const _0x29986=_0x1f60fd['name'];_0x1f60fd['removed']=!(0x1*0x665+0x1072+-0x16d7),this['_callbackA'+'ctive']['has'](_0x29986)&&this['_callbackA'+'ctive']['get'](_0x29986)===this['_callbacks']['get'](_0x29986)&&this['_callbackA'+'ctive']['set'](_0x29986,this['_callbackA'+'ctive']['get'](_0x29986)['slice']());const _0x139092=this['_callbacks']['get'](_0x29986);if(!_0x139092)return this;const _0x2acd74=_0x139092['indexOf'](_0x1f60fd);return _0x2acd74!==-(-0x1b66+0x22b8+-0x751)&&(_0x139092['splice'](_0x2acd74,0x444+-0x1eb7+0x1a74*0x1),_0x139092['length']===-0x7*-0x347+-0x133f*-0x1+-0x2a30&&this['_callbacks']['delete'](_0x29986)),this;}['fire'](_0x4d330e,_0x1f946f,_0x23aae9,_0x14cf35,_0x20fa23,_0x3c417b,_0x5d760e,_0x5dd507,_0x2e2bdd){if(!_0x4d330e)return this;const _0x3fb5e5=this['_callbacks']['get'](_0x4d330e);if(!_0x3fb5e5)return this;let _0x38b219;this['_callbackA'+'ctive']['has'](_0x4d330e)?this['_callbackA'+'ctive']['get'](_0x4d330e)!==_0x3fb5e5&&(_0x38b219=_0x3fb5e5['slice']()):this['_callbackA'+'ctive']['set'](_0x4d330e,_0x3fb5e5);for(let _0x56c4b2=0x1b*0xd5+-0x1*0x46a+-0x120d;(_0x38b219||this['_callbackA'+'ctive']['get'](_0x4d330e))&&_0x56c4b2<(_0x38b219||this['_callbackA'+'ctive']['get'](_0x4d330e))['length'];_0x56c4b2++){const _0x5ed8df=(_0x38b219||this['_callbackA'+'ctive']['get'](_0x4d330e))[_0x56c4b2];if(_0x5ed8df['callback']&&(_0x5ed8df['callback']['call'](_0x5ed8df['scope'],_0x1f946f,_0x23aae9,_0x14cf35,_0x20fa23,_0x3c417b,_0x5d760e,_0x5dd507,_0x2e2bdd),_0x5ed8df['_once'])){const _0x2c052d=this['_callbacks']['get'](_0x4d330e),_0x461847=_0x2c052d?_0x2c052d['indexOf'](_0x5ed8df):-(0x1e6b*-0x1+-0xe26*-0x1+-0x1046*-0x1);if(_0x461847!==-(0x375+-0x2*-0xdd9+-0x1f26)){this['_callbackA'+'ctive']['get'](_0x4d330e)===_0x2c052d&&this['_callbackA'+'ctive']['set'](_0x4d330e,this['_callbackA'+'ctive']['get'](_0x4d330e)['slice']());const _0x4a1b96=this['_callbacks']['get'](_0x4d330e);if(!_0x4a1b96)continue;_0x4a1b96[_0x461847]['removed']=!(0xf70+-0x1ac9+0x5*0x245),_0x4a1b96['splice'](_0x461847,0x1*0x8ad+0x1705+-0x3d*0x85),_0x4a1b96['length']===-0xa*0x212+0x26c6+-0x1212&&this['_callbacks']['delete'](_0x4d330e);}}}return _0x38b219||this['_callbackA'+'ctive']['delete'](_0x4d330e),this;}['hasEvent'](_0x506a15){var _0x382c22;return!!((_0x382c22=this['_callbacks']['get'](_0x506a15))!=null&&_0x382c22['length']);}}class fx{constructor(){h(this,'_list',[]),h(this,'_index',{});}['push'](_0x187710,_0x50070a){if(this['_index'][_0x187710])throw Error('Key\x20alread'+'y\x20in\x20index'+'\x20'+_0x187710);const _0x1fd428=this['_list']['push'](_0x50070a)-(0x1b83*0x1+0x202f+-0x103*0x3b);this['_index'][_0x187710]=_0x1fd428;}['has'](_0x4acdb4){return this['_index'][_0x4acdb4]!==void(0xa3+-0x5ec*0x1+0x549);}['get'](_0x4b28ad){const _0x34276f=this['_index'][_0x4b28ad];return _0x34276f!==void(-0x2c0+-0x2558+0x2818)?this['_list'][_0x34276f]:null;}['remove'](_0x8f0841){const _0x4d1fc3=this['_index'][_0x8f0841];if(_0x4d1fc3!==void(0x1abf+0x137*0x20+0x419f*-0x1)){this['_list']['splice'](_0x4d1fc3,0x7*0x2b1+0x794+-0x1a6a),delete this['_index'][_0x8f0841];for(_0x8f0841 in this['_index']){const _0x165307=this['_index'][_0x8f0841];_0x165307>_0x4d1fc3&&(this['_index'][_0x8f0841]=_0x165307-(-0x5*-0x5db+0x2164+0x1f55*-0x2));}return!(0x19b8+-0x4ff*0x1+-0x425*0x5);}return!(-0x7*0x8f+-0x427*-0x2+0x1*-0x464);}['list'](){return this['_list'];}['clear'](){this['_list']['length']=-0x89*-0x15+0x2*0x81b+-0x1*0x1b73;for(const _0x1a42aa in this['_index'])delete this['_index'][_0x1a42aa];}}const ux=_0x1ea674=>{const _0x4affbb={};let _0x2c5274=_0x4affbb;return()=>(_0x2c5274===_0x4affbb&&(_0x2c5274=_0x1ea674()),_0x2c5274);},ii=class ii{static['loadScript'](_0x5873ff,_0x791eb){const _0x2a062b=document['createElem'+'ent']('script');_0x2a062b['setAttribu'+'te']('src',_0x5873ff),_0x2a062b['onload']=()=>{_0x791eb(null);},_0x2a062b['onerror']=()=>{_0x791eb('Failed\x20to\x20'+'load\x20scrip'+'t=\x27'+_0x5873ff+'\x27');},document['body']['appendChil'+'d'](_0x2a062b);}static['loadWasm'](_0x5cce6c,_0x144ee5,_0x45a19e){const _0x3a100b=ii['wasmSuppor'+'ted']()&&_0x144ee5['glueUrl']&&_0x144ee5['wasmUrl']?_0x144ee5['glueUrl']:_0x144ee5['fallbackUr'+'l'];_0x3a100b?ii['loadScript'](_0x3a100b,_0x7dcfca=>{if(_0x7dcfca)_0x45a19e(_0x7dcfca,null);else{const _0x21f8f4=window[_0x5cce6c];window[_0x5cce6c]=void(-0x9d5*0x3+0x14b+0x1c34),_0x21f8f4({'locateFile':()=>_0x144ee5['wasmUrl'],'onAbort':()=>{_0x45a19e('wasm\x20modul'+'e\x20aborted.');}})['then'](_0x121e0b=>{_0x45a19e(null,_0x121e0b);});}}):_0x45a19e('No\x20support'+'ed\x20wasm\x20mo'+'dules\x20foun'+'d.',null);}static['getModule'](_0x4c8d1b){return ii['modules']['hasOwnProp'+'erty'](_0x4c8d1b)||(ii['modules'][_0x4c8d1b]={'config':null,'initializing':!(0x83e+-0x156e+0x1*0xd31),'instance':null,'callbacks':[]}),ii['modules'][_0x4c8d1b];}static['initialize'](_0x30a12f,_0x48bf20){if(_0x48bf20['initializi'+'ng'])return;const _0x2173d1=_0x48bf20['config'];(_0x2173d1['glueUrl']||_0x2173d1['wasmUrl']||_0x2173d1['fallbackUr'+'l'])&&(_0x48bf20['initializi'+'ng']=!(0x1961+-0x2e1*0x1+0x140*-0x12),ii['loadWasm'](_0x30a12f,_0x2173d1,(_0x521269,_0x656e9a)=>{_0x521269?_0x2173d1['errorHandl'+'er']?_0x2173d1['errorHandl'+'er'](_0x521269):console['error']('failed\x20to\x20'+'initialize'+'\x20module='+_0x30a12f+'\x20error='+_0x521269):(_0x48bf20['instance']=_0x656e9a,_0x48bf20['callbacks']['forEach'](_0x27b7e0=>{_0x27b7e0(_0x656e9a);}));}));}};h(ii,'modules',{}),h(ii,'wasmSuppor'+'ted',ux(()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x54e7e0=new WebAssembly['Module'](Uint8Array['of'](-0xfe7+-0x1f7c+0x1*0x2f63,0xfde+0x5*-0x7bb+0x5*0x4a2,-0x3*-0x5d9+-0x4*0x4ff+0x2e4,-0x1aa+-0x9be+-0xbd5*-0x1,0x240+-0x2208+0x4f*0x67,-0x26e9*-0x1+0x1b74+-0x425d,-0x1155+0x3eb*-0x2+0x192b,-0x1b02*-0x1+0x1a9e+0x478*-0xc));if(_0x54e7e0 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x54e7e0)instanceof WebAssembly['Instance'];}}catch{}return!(-0x1152+-0x1780+0x28d3);}));let Yr=ii;class YS{static['setConfig'](_0x51af22,_0x1c6d4f){const _0x3ad547=Yr['getModule'](_0x51af22);_0x3ad547['config']=_0x1c6d4f,_0x3ad547['callbacks']['length']>-0x1d94+0xd25*0x2+-0x1a5*-0x2&&Yr['initialize'](_0x51af22,_0x3ad547);}static['getConfig'](_0x1870f0){var _0x23b1e3,_0x30664b;return(_0x30664b=(_0x23b1e3=Yr['modules'])==null?void(0x253d+0x9*0x7+-0x257c):_0x23b1e3[_0x1870f0])==null?void(0x26*-0x9f+-0x14e7+0x2c81*0x1):_0x30664b['config'];}static['getInstanc'+'e'](_0x309f5c,_0x13c945){const _0xe50e63=Yr['getModule'](_0x309f5c);_0xe50e63['instance']?_0x13c945(_0xe50e63['instance']):(_0xe50e63['callbacks']['push'](_0x13c945),_0xe50e63['config']&&Yr['initialize'](_0x309f5c,_0xe50e63));}}class KS{constructor(_0x898f3e){h(this,'arraybuffe'+'r'),h(this,'dataView'),h(this,'offset',-0x23f0+-0x225*-0x5+0x1937),(this['arraybuffe'+'r']=_0x898f3e,this['dataView']=new DataView(_0x898f3e));}get['remainingB'+'ytes'](){return this['dataView']['byteLength']-this['offset'];}['reset'](_0xc4e34e=-0x2*-0x133b+-0x2*0x3ee+-0x2*0xf4d){this['offset']=_0xc4e34e;}['skip'](_0x5bef46){this['offset']+=_0x5bef46;}['align'](_0x51a4d2){this['offset']=this['offset']+_0x51a4d2-(0xc7*-0x18+-0x1225+0x24ce)&~(_0x51a4d2-(0x12a7+-0xbb1*0x1+-0x6f5));}['_inc'](_0x3c718a){return this['offset']+=_0x3c718a,this['offset']-_0x3c718a;}['readChar'](){return String['fromCharCo'+'de'](this['dataView']['getUint8'](this['offset']++));}['readChars'](_0x160143){let _0x88bf2='';for(let _0x1753ad=0x1133+0x582+0x16b5*-0x1;_0x1753ad<_0x160143;++_0x1753ad)_0x88bf2+=this['readChar']();return _0x88bf2;}['readU8'](){return this['dataView']['getUint8'](this['offset']++);}['readU16'](){return this['dataView']['getUint16'](this['_inc'](-0x89*-0x5+0x3e5*-0x4+0xce9),!(-0x2538+0x1*-0x441+0x2979));}['readU32'](){return this['dataView']['getUint32'](this['_inc'](0x1*0x231c+-0x1d98*0x1+-0x580*0x1),!(-0x1*0xda5+0x12c8+-0x523));}['readU64'](){return this['readU32']()+(0x4*0x796+-0x1b98+-0x2be)**(0x3*0x47d+0xa9*0x36+0x1*-0x30fd)*this['readU32']();}['readU32be'](){return this['dataView']['getUint32'](this['_inc'](0x24ec+0x3b4+-0x289c),!(-0x94f*0x2+0x206e+0x1f9*-0x7));}['readArray'](_0x3eeadf){for(let _0x2dd24b=-0x25*-0x5e+0x25cb+-0x3361;_0x2dd24b<_0x3eeadf['length'];++_0x2dd24b)_0x3eeadf[_0x2dd24b]=this['readU8']();}['readLine'](){const _0x418d86=this['dataView'];let _0x2b4506='';for(;!(this['offset']>=_0x418d86['byteLength']);){const _0x2e7380=String['fromCharCo'+'de'](this['readU8']());if(_0x2e7380==='\x0a')break;_0x2b4506+=_0x2e7380;}return _0x2b4506;}}class oh{constructor(_0x3485e6){h(this,'items',[]),h(this,'length',0xb1*0xd+0x136+0x175*-0x7),h(this,'loopIndex',-(-0x7*0x586+0xc79*0x1+-0x7*-0x3be)),h(this,'_sortBy'),h(this,'_sortHandl'+'er'),(this['_sortBy']=_0x3485e6['sortBy'],this['_sortHandl'+'er']=this['_doSort']['bind'](this));}['_binarySea'+'rch'](_0x559d77){let _0x4e8f1f=-0x61*0x5a+0x8b3+0x3a1*0x7,_0x5e003b=this['items']['length']-(-0x1*-0xb93+0x22e2+-0x4*0xb9d);const _0x1e111d=_0x559d77[this['_sortBy']];let _0x2d1553,_0x27d1ef;for(;_0x4e8f1f<=_0x5e003b;)_0x2d1553=Math['floor']((_0x4e8f1f+_0x5e003b)/(-0xa00+-0x20e+0x2*0x608)),_0x27d1ef=this['items'][_0x2d1553][this['_sortBy']],_0x27d1ef<=_0x1e111d?_0x4e8f1f=_0x2d1553+(-0x25f0+-0x216e+0x475f*0x1):_0x27d1ef>_0x1e111d&&(_0x5e003b=_0x2d1553-(-0x169c+-0x313*-0x3+0x6b2*0x2));return _0x4e8f1f;}['_doSort'](_0x4bffc2,_0x4ec406){const _0x2c862c=this['_sortBy'];return _0x4bffc2[_0x2c862c]-_0x4ec406[_0x2c862c];}['insert'](_0x20b258){const _0xc504ac=this['_binarySea'+'rch'](_0x20b258);this['items']['splice'](_0xc504ac,-0xe07+-0x2f*-0xa7+-0x10a2,_0x20b258),this['length']++,this['loopIndex']>=_0xc504ac&&this['loopIndex']++;}['append'](_0x59392b){this['items']['push'](_0x59392b),this['length']++;}['remove'](_0x22a60f){const _0x5e098d=this['items']['indexOf'](_0x22a60f);_0x5e098d<0xb7c+-0x948+-0x234||(this['items']['splice'](_0x5e098d,0x1b9a+-0x57*0x4f+-0xc0),this['length']--,this['loopIndex']>=_0x5e098d&&this['loopIndex']--);}['sort'](){const _0x4fdab9=this['loopIndex']>=-0x13a*0x6+0x4e3*0x3+-0x74d?this['items'][this['loopIndex']]:null;this['items']['sort'](this['_sortHandl'+'er']),_0x4fdab9!==null&&(this['loopIndex']=this['items']['indexOf'](_0x4fdab9));}}class Oo extends me{constructor(_0x309749){super(),h(this,'_index',{}),h(this,'_list',[]),this['_parent']=_0x309749;}['add'](..._0x3060c2){let _0x4735a0=!(0x46*0x25+-0x1*-0x1307+-0x4*0x749);const _0x5dcbf0=this['_processAr'+'guments'](_0x3060c2,!(0x1db2+-0x9e*0x17+-0x80*0x1f));if(!_0x5dcbf0['length'])return _0x4735a0;for(let _0xf4e514=-0x248c+-0x1672+-0x3*-0x13aa;_0xf4e514<_0x5dcbf0['length'];_0xf4e514++)this['_index'][_0x5dcbf0[_0xf4e514]]||(_0x4735a0=!(-0xdb7+-0x1587+0x233e),this['_index'][_0x5dcbf0[_0xf4e514]]=!(-0x1930+-0xec3+0x27f3),this['_list']['push'](_0x5dcbf0[_0xf4e514]),this['fire']('add',_0x5dcbf0[_0xf4e514],this['_parent']));return _0x4735a0&&this['fire']('change',this['_parent']),_0x4735a0;}['remove'](..._0x4d6e44){let _0x3dd6c2=!(0x100d+-0x22b5+0x1*0x12a9);if(!this['_list']['length'])return _0x3dd6c2;const _0x4b05ec=this['_processAr'+'guments'](_0x4d6e44,!(0xff8+-0x1*-0x1c67+-0x2c5f));if(!_0x4b05ec['length'])return _0x3dd6c2;for(let _0xe1eb3c=-0x1*0x14b7+0x2c9*-0xb+0x139*0x2a;_0xe1eb3c<_0x4b05ec['length'];_0xe1eb3c++)this['_index'][_0x4b05ec[_0xe1eb3c]]&&(_0x3dd6c2=!(-0x1fac+0x557+0x3f*0x6b),delete this['_index'][_0x4b05ec[_0xe1eb3c]],this['_list']['splice'](this['_list']['indexOf'](_0x4b05ec[_0xe1eb3c]),-0x1*-0x13bd+0x2572+-0x392e),this['fire']('remove',_0x4b05ec[_0xe1eb3c],this['_parent']));return _0x3dd6c2&&this['fire']('change',this['_parent']),_0x3dd6c2;}['clear'](){if(!this['_list']['length'])return;const _0x1e9973=this['_list']['slice'](0x1*0x2576+-0x4*0x4bb+-0x153*0xe);this['_list']=[],this['_index']={};for(let _0x55f22d=0xba3+-0x591+-0x309*0x2;_0x55f22d<_0x1e9973['length'];_0x55f22d++)this['fire']('remove',_0x1e9973[_0x55f22d],this['_parent']);this['fire']('change',this['_parent']);}['has'](..._0x4bfcfc){return this['_list']['length']?this['_has'](this['_processAr'+'guments'](_0x4bfcfc)):!(-0x1019+0x257*0xd+0x1*-0xe51);}['_has'](_0x189772){if(!this['_list']['length']||!_0x189772['length'])return!(0x1841*0x1+-0x2*0x5c5+0x65b*-0x2);for(let _0x28ca8c=0x2199+-0xc*-0x1ad+0x35b5*-0x1;_0x28ca8c<_0x189772['length'];_0x28ca8c++)if(_0x189772[_0x28ca8c]['length']===-0xdd1+0x1*0x1645+-0x873){if(this['_index'][_0x189772[_0x28ca8c][-0x4*0x5+-0x4d5*-0x2+0x996*-0x1]])return!(-0x1e71+0x1181*0x2+-0x491);}else{let _0x5a831f=!(-0x18*0x55+-0x1*0x38b+0xb83);for(let _0x2d3292=0x2c1*0x3+-0x14a4+0xc61;_0x2d3292<_0x189772[_0x28ca8c]['length'];_0x2d3292++)if(!this['_index'][_0x189772[_0x28ca8c][_0x2d3292]]){_0x5a831f=!(0x1871*0x1+-0x153b+-0x335);break;}if(_0x5a831f)return!(0x10b1*-0x1+-0x1eca+0x2f7b);}return!(0x22d*0x11+0xaab+-0x2fa7);}['list'](){return this['_list']['slice'](-0x86*0xb+0x143*-0x13+0x1dbb);}['_processAr'+'guments'](_0x803896,_0x26b73d){const _0x136a53=[];let _0x340ade=[];if(!_0x803896||!_0x803896['length'])return _0x136a53;for(let _0x277fc5=0x3*0xb47+0x1e8c+-0x1*0x4061;_0x277fc5<_0x803896['length'];_0x277fc5++)if(_0x803896[_0x277fc5]instanceof Array){_0x26b73d||(_0x340ade=[]);for(let _0x1f60f5=-0x1525+0x2315+-0xdf0;_0x1f60f5<_0x803896[_0x277fc5]['length'];_0x1f60f5++)typeof _0x803896[_0x277fc5][_0x1f60f5]=='string'&&(_0x26b73d?_0x136a53['push'](_0x803896[_0x277fc5][_0x1f60f5]):_0x340ade['push'](_0x803896[_0x277fc5][_0x1f60f5]));!_0x26b73d&&_0x340ade['length']&&_0x136a53['push'](_0x340ade);}else typeof _0x803896[_0x277fc5]=='string'&&(_0x26b73d?_0x136a53['push'](_0x803896[_0x277fc5]):_0x136a53['push']([_0x803896[_0x277fc5]]));return _0x136a53;}get['size'](){return this['_list']['length'];}}h(Oo,'EVENT_ADD','add'),h(Oo,'EVENT_REMO'+'VE','remove'),h(Oo,'EVENT_CHAN'+'GE','change');const de=typeof window<'u'&&window['performanc'+'e']&&window['performanc'+'e']['now']?performance['now']['bind'](performance):Date['now'],px=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class Rd{constructor(_0x376cd1){h(this,'scheme'),h(this,'authority'),h(this,'path'),h(this,'query'),h(this,'fragment');const _0x15d7de=_0x376cd1['match'](px);this['scheme']=_0x15d7de[-0x3*-0xc5+-0x6*-0x551+-0x55*0x67],this['authority']=_0x15d7de[0x27f*-0x3+-0x13fa+0x1b7b],this['path']=_0x15d7de[-0x830+-0x1711*0x1+0x1f46],this['query']=_0x15d7de[-0x16b5+-0x9f7*-0x2+0x167*0x2],this['fragment']=_0x15d7de[-0x1fa6+-0x3b3*0x5+-0x10ba*-0x3];}['toString'](){let _0x42fedb='';return this['scheme']&&(_0x42fedb+=this['scheme']+':'),this['authority']&&(_0x42fedb+='//'+this['authority']),_0x42fedb+=this['path'],this['query']&&(_0x42fedb+='?'+this['query']),this['fragment']&&(_0x42fedb+='#'+this['fragment']),_0x42fedb;}['getQuery'](){const _0xb7862a={};if(this['query']){const _0x254784=decodeURIComponent(this['query'])['split']('&');for(const _0x4e8d03 of _0x254784){const _0x26f397=_0x4e8d03['split']('=');_0xb7862a[_0x26f397[-0x131d+-0x361*0x8+-0x1*-0x2e25]]=_0x26f397[-0x17ef+0x1*-0x1515+-0x2d05*-0x1];}}return _0xb7862a;}['setQuery'](_0xa64fc7){let _0x5a1072='';for(const _0xf22ff6 in _0xa64fc7)_0xa64fc7['hasOwnProp'+'erty'](_0xf22ff6)&&(_0x5a1072!==''&&(_0x5a1072+='&'),_0x5a1072+=encodeURIComponent(_0xf22ff6)+'='+encodeURIComponent(_0xa64fc7[_0xf22ff6]));this['query']=_0x5a1072;}}const mx=-0x1b1+-0x72c+0x8dd,tp=0x245d+-0x1464+-0xff8,Nm=-0x2594+0xda2+0x1*0x17f6,_x=0x1447+0x17*0x35+-0x1905,Y={'DEG_TO_RAD':Math['PI']/(0x9*-0x1+-0x4*-0x1a7+-0x5df),'RAD_TO_DEG':(-0xecb*0x2+-0x5d*0x33+-0x30d1*-0x1)/Math['PI'],'clamp'(_0xfe2be6,_0x40b0ec,_0x4e8393){return _0xfe2be6>=_0x4e8393?_0x4e8393:_0xfe2be6<=_0x40b0ec?_0x40b0ec:_0xfe2be6;},'intToBytes24'(_0x7d5bec){const _0x5593ba=_0x7d5bec>>0xd0f+-0xa8a+-0x25*0x11&0xd3d+0x2*-0x1357+-0x69c*-0x4,_0x5ebf0f=_0x7d5bec>>0x24c7+-0x2*-0xd03+-0x3ec5&-0xa*0x25+0xef3+0x641*-0x2,_0x531a9b=_0x7d5bec&-0x2233+0x2227+-0x59*-0x3;return[_0x5593ba,_0x5ebf0f,_0x531a9b];},'intToBytes32'(_0x23a6b4){const _0x445cc7=_0x23a6b4>>0x17d7*0x1+0x7*0xc4+0x1d1b*-0x1&0x2657+0x419*-0x1+-0xb15*0x3,_0x42cb60=_0x23a6b4>>0x3*0xc47+-0x484*0x5+0xad*-0x15&0xd43+0x2*0xd3a+0x19d*-0x18,_0x46a9b1=_0x23a6b4>>0x65*0x44+0x11cb+-0x5*0x8eb&0x52*-0x1+0x7bb+-0x66a*0x1,_0xfc648c=_0x23a6b4&-0x1*-0x17ba+-0x23bf+0xd04;return[_0x445cc7,_0x42cb60,_0x46a9b1,_0xfc648c];},'bytesToInt24'(_0x4240d4,_0x2eaa51,_0x189497){return _0x4240d4['length']&&(_0x189497=_0x4240d4[-0xe*0x1a3+-0x1b66+-0x3*-0x10c6],_0x2eaa51=_0x4240d4[0x4fb+0x1f41+-0x243b],_0x4240d4=_0x4240d4[0x1f*0x43+0xcdb+-0x8*0x29f]),_0x4240d4<<0x65*-0x11+-0x23e4+0x2aa9|_0x2eaa51<<-0x2609+0x158b*0x1+0x1086|_0x189497;},'bytesToInt32'(_0x481d84,_0x5a5e87,_0x226626,_0x1fd73b){return _0x481d84['length']&&(_0x1fd73b=_0x481d84[-0x67c+0x8ec+-0x26d],_0x226626=_0x481d84[0x1e31+0xf4+-0x1f23],_0x5a5e87=_0x481d84[0x1dbe+-0x8d7*-0x3+-0x3842],_0x481d84=_0x481d84[0x1f82+-0x4af*-0x3+0x6b*-0x6d]),(_0x481d84<<0x169+-0x2*-0x11ab+-0x24a7|_0x5a5e87<<-0x89*0xd+-0x4bb+0xbc0|_0x226626<<-0x96b*0x4+-0x3*0xc07+-0x49c9*-0x1|_0x1fd73b)>>>-0x1*0x5ab+0x1a3d*-0x1+0x3fd*0x8;},'lerp'(_0x34f14c,_0x31329b,_0x1bcdca){return _0x34f14c+(_0x31329b-_0x34f14c)*Y['clamp'](_0x1bcdca,-0x3*-0x1c3+0x155f+-0x2*0xd54,0x1dd7*-0x1+-0x5*0x1aa+0x262a);},'lerpAngle'(_0x128246,_0x12b023,_0x29a798){return _0x12b023-_0x128246>0x1ba+-0x95c+0x856&&(_0x12b023-=-0x1d11+0x1c2b+0x24e),_0x12b023-_0x128246<-(0x2*-0x51+0xb9*0xd+0x1*-0x80f)&&(_0x12b023+=-0x1e65+-0x1fec+0x1*0x3fb9),Y['lerp'](_0x128246,_0x12b023,Y['clamp'](_0x29a798,0x10d6+-0x837+-0x89f*0x1,0x17ab+-0x4e8*0x2+-0xdda));},'powerOfTwo'(_0x23c094){return _0x23c094!==-0x1692+0xe29+0x869*0x1&&!(_0x23c094&_0x23c094-(-0x20f5+0x13*-0x7f+0x2a63));},'nextPowerOfTwo'(_0x587bcd){return _0x587bcd--,_0x587bcd|=_0x587bcd>>0x15*-0x101+-0x5e8+0x1*0x1afe,_0x587bcd|=_0x587bcd>>0x3*-0x53a+0xf1*-0x13+0x2193,_0x587bcd|=_0x587bcd>>-0x26de+-0x425+0x2b07,_0x587bcd|=_0x587bcd>>-0x2030+0x214c+-0x114,_0x587bcd|=_0x587bcd>>0x2e8+0x10*0x26b+-0x2988,_0x587bcd++,_0x587bcd;},'nearestPowerOfTwo'(_0xa98ba3){return Math['pow'](-0x22f3*0x1+-0x13ab+0x36a0,Math['round'](Math['log2'](_0xa98ba3)));},'random'(_0x37aeb2,_0x324108){const _0x1aa389=_0x324108-_0x37aeb2;return Math['random']()*_0x1aa389+_0x37aeb2;},'smoothstep'(_0x92fd40,_0x1342ed,_0x4cc197){return _0x4cc197<=_0x92fd40?-0x6*-0x2db+-0x1584+-0x66*-0xb:_0x4cc197>=_0x1342ed?0x2321+-0x12ea+-0x1036:(_0x4cc197=(_0x4cc197-_0x92fd40)/(_0x1342ed-_0x92fd40),_0x4cc197*_0x4cc197*(-0x2483+0x188c+0x1b6*0x7-(0x26ca+-0x4*0x623+0x71e*-0x2)*_0x4cc197));},'smootherstep'(_0x43995d,_0x1091a4,_0x3dc8fe){return _0x3dc8fe<=_0x43995d?-0x1d40+-0xe5b+0x2b9b:_0x3dc8fe>=_0x1091a4?-0x5cc+-0xc27+0x11f4:(_0x3dc8fe=(_0x3dc8fe-_0x43995d)/(_0x1091a4-_0x43995d),_0x3dc8fe*_0x3dc8fe*_0x3dc8fe*(_0x3dc8fe*(_0x3dc8fe*(0x1a*-0x14a+0xe84+0x1306)-(-0x1b8+-0x2421+0x25e8))+(-0xc65*0x1+-0x47d+0x10ec)));},'roundUp'(_0x404c5f,_0x2cc5a4){return _0x2cc5a4===-0x217d+0xb0d+0xb38*0x2?_0x404c5f:Math['ceil'](_0x404c5f/_0x2cc5a4)*_0x2cc5a4;},'between'(_0x25e46b,_0x383bbf,_0x282513,_0x5ecef2){const _0xcbd5db=Math['min'](_0x383bbf,_0x282513),_0x24d3cd=Math['max'](_0x383bbf,_0x282513);return _0x5ecef2?_0x25e46b>=_0xcbd5db&&_0x25e46b<=_0x24d3cd:_0x25e46b>_0xcbd5db&&_0x25e46b<_0x24d3cd;}},Tt=class Tt{constructor(_0x268544=0x2d9+-0x1ced*0x1+0x685*0x4,_0x3dc19e=0x1*0x3bb+-0xa65*0x3+0x1b74,_0x148564=0x2b*0x89+0xe42*0x1+-0x2545,_0x4ae43d=0x392+0x183c+-0x1bcd){h(this,'r'),h(this,'g'),h(this,'b'),h(this,'a');const _0x5768b3=_0x268544['length'];_0x5768b3===-0x2068+-0x13d+0x59c*0x6||_0x5768b3===0x13*-0x12f+0x5cb+-0x1f*-0x8a?(this['r']=_0x268544[0xf63*0x1+-0x3*0x455+-0x1*0x264],this['g']=_0x268544[0x2370+-0x25ba+0x24b*0x1],this['b']=_0x268544[-0x9bf+0x963*0x3+-0x1f*0x98],this['a']=_0x268544[-0x1022+0x1*-0x1152+0x2177]??0xe8e+-0x59b*-0x5+-0x2*0x154a):(this['r']=_0x268544,this['g']=_0x3dc19e,this['b']=_0x148564,this['a']=_0x4ae43d);}['clone'](){const _0x1745cd=this['constructo'+'r'];return new _0x1745cd(this['r'],this['g'],this['b'],this['a']);}['copy'](_0x29bf86){return this['r']=_0x29bf86['r'],this['g']=_0x29bf86['g'],this['b']=_0x29bf86['b'],this['a']=_0x29bf86['a'],this;}['equals'](_0x5ea267){return this['r']===_0x5ea267['r']&&this['g']===_0x5ea267['g']&&this['b']===_0x5ea267['b']&&this['a']===_0x5ea267['a'];}['set'](_0x564595,_0xa29d60,_0x3e4129,_0x520348=0x614*-0x1+-0x1*0x1271+0x1886){return this['r']=_0x564595,this['g']=_0xa29d60,this['b']=_0x3e4129,this['a']=_0x520348,this;}['lerp'](_0x12a9c6,_0x594c37,_0x480496){return this['r']=_0x12a9c6['r']+_0x480496*(_0x594c37['r']-_0x12a9c6['r']),this['g']=_0x12a9c6['g']+_0x480496*(_0x594c37['g']-_0x12a9c6['g']),this['b']=_0x12a9c6['b']+_0x480496*(_0x594c37['b']-_0x12a9c6['b']),this['a']=_0x12a9c6['a']+_0x480496*(_0x594c37['a']-_0x12a9c6['a']),this;}['linear'](_0x8fb197=this){return this['r']=Math['pow'](_0x8fb197['r'],-0x1*0x1d21+-0x21f+0x1*0x1f42+0.20000000000000018),this['g']=Math['pow'](_0x8fb197['g'],0x3*0x97b+0xbe9*0x1+-0x2858+0.20000000000000018),this['b']=Math['pow'](_0x8fb197['b'],0x15b1+-0x9*0x376+0x977+0.20000000000000018),this['a']=_0x8fb197['a'],this;}['gamma'](_0x5b95ca=this){return this['r']=Math['pow'](_0x5b95ca['r'],(-0x1*-0xb6d+-0xb38+-0x34)/(0x1c2a+-0x1345*0x1+0xd*-0xaf+0.20000000000000018)),this['g']=Math['pow'](_0x5b95ca['g'],(0x12b8*-0x1+0x2492+-0x11d9)/(-0x1*0xea3+0x21e8+-0x1343+0.20000000000000018)),this['b']=Math['pow'](_0x5b95ca['b'],(0x186c*0x1+-0x194d+0x1*0xe2)/(-0x2*-0x815+-0xaf+0xe9*-0x11+0.20000000000000018)),this['a']=_0x5b95ca['a'],this;}['mulScalar'](_0x4d6a2d){return this['r']*=_0x4d6a2d,this['g']*=_0x4d6a2d,this['b']*=_0x4d6a2d,this;}['fromString'](_0x2b03fe){const _0x3fbf29=parseInt(_0x2b03fe['replace']('#','0x'),0x317*-0x3+0x194*0xc+-0x1*0x99b);let _0x41c474;return _0x2b03fe['length']>0x1*0x2348+0x2a*0xce+0x647*-0xb?_0x41c474=Y['intToBytes'+'32'](_0x3fbf29):(_0x41c474=Y['intToBytes'+'24'](_0x3fbf29),_0x41c474[-0xa95+-0x1ca4+0x273c]=-0x16d5*-0x1+-0x1d48+0x772),this['set'](_0x41c474[-0x86f+-0xb94+-0x1403*-0x1]/(0x3*-0x3b7+0x1*0x1ea1+-0x127d),_0x41c474[-0x1ed6+0xb1d*-0x2+0x13*0x2cb]/(0x24e*0x7+0x6b6+-0x15d9),_0x41c474[0x13dd+-0x2143*0x1+0xd68]/(0x1286*-0x2+0x188c+0xd7f),_0x41c474[0x2*-0x673+-0xb2+-0x51*-0x2b]/(0x13ff+0x1dec+-0x7c*0x65)),this;}['fromArray'](_0x30f05c,_0x5a8f29=0x511+0x1240+-0x1751){return this['r']=_0x30f05c[_0x5a8f29]??this['r'],this['g']=_0x30f05c[_0x5a8f29+(-0x2*0x6df+-0x38*0x20+0x14bf)]??this['g'],this['b']=_0x30f05c[_0x5a8f29+(0xc3*-0x1a+0x1293*-0x1+0x2663)]??this['b'],this['a']=_0x30f05c[_0x5a8f29+(-0xbfc+-0x1d0d+0x290c)]??this['a'],this;}['toString'](_0x2e57db,_0x5717d3){const {r:_0xdec1dc,g:_0x55311c,b:_0x12968c,a:_0x295191}=this;if(_0x5717d3||_0xdec1dc>-0x1*-0x9eb+0xd33+-0x171d||_0x55311c>0x16fe+0x19de+-0x30db||_0x12968c>0x5*0x64b+0x19f7+0x1*-0x396d)return _0xdec1dc['toFixed'](0xc8c+0x2*0x161+-0x5*0x30f)+',\x20'+_0x55311c['toFixed'](0xf1a+-0x16*0x16d+0x1047)+',\x20'+_0x12968c['toFixed'](-0x1f*-0x13d+0x1f5*-0xd+-0x1*0xcef)+',\x20'+_0x295191['toFixed'](-0x1dba+0xe3*0x8+0x16a5);let _0x2402cc='#'+((-0x6d8*0x1+0x53*0x71+-0x1dca<<-0xe*-0x229+-0x6c6+-0x44*0x58)+(Math['round'](_0xdec1dc*(-0x1b4f+-0x59*0x28+0x151b*0x2))<<-0x6bb+-0xa82+-0x1*-0x114d)+(Math['round'](_0x55311c*(0x2616+0x2559+-0x4a7*0x10))<<0x8*-0x1d8+-0x1bdf+-0x1*-0x2aa7)+Math['round'](_0x12968c*(0x2303+0xd0+-0x22d4)))['toString'](0x59+0x24cd*-0x1+0x2484)['slice'](-0x1877+-0x5e*-0x4a+-0x2b4);if(_0x2e57db===!(-0x168c+0x38c+0x1300)){const _0x5d2f75=Math['round'](_0x295191*(0x7f4+0x41*0x89+0x14df*-0x2))['toString'](0x1*-0x166d+0x1*0x26c3+-0x823*0x2);this['a']<(-0x1c*0xa7+-0x12f0*0x1+-0x212*-0x12)/(0xb93+0x1780+0x2d7*-0xc)?_0x2402cc+='0'+_0x5d2f75:_0x2402cc+=_0x5d2f75;}return _0x2402cc;}['toArray'](_0x4e2977=[],_0x3d2959=0x21c7+0x1*0x170b+-0x38d2,_0x13d400=!(-0x10d*0x1a+-0x1*0x2551+-0x1*-0x40a3)){return _0x4e2977[_0x3d2959]=this['r'],_0x4e2977[_0x3d2959+(-0x701+-0xdd7+0x14d9)]=this['g'],_0x4e2977[_0x3d2959+(0x140b*0x1+0x33*0xa7+-0x354e)]=this['b'],_0x13d400&&(_0x4e2977[_0x3d2959+(0x1*0x669+-0x2653*0x1+-0x1fed*-0x1)]=this['a']),_0x4e2977;}};h(Tt,'BLACK',Object['freeze'](new Tt(-0x7c9*-0x1+0x1792+-0x1*0x1f5b,-0x1d28+-0x1d3a+0x3a62,-0x5b*-0x29+0x7b3*0x1+-0x1646*0x1,0x9fd+-0x1*-0x1951+-0x7*0x50b))),h(Tt,'BLUE',Object['freeze'](new Tt(0x7*-0x3f+0xaf*0x2b+-0x1bac,0x1e4+0x9c+-0x280,0xb3*-0x27+0x158b+0x1*0x5bb,-0x34d*-0x3+-0x1dad+-0x13c7*-0x1))),h(Tt,'CYAN',Object['freeze'](new Tt(-0x2418+0x439+0xc7*0x29,-0x23ad+-0xb85*-0x2+0xca4,-0x95*0x25+0x14*0x3d+0x26*0x71,-0x1dd*-0x13+0x19c+-0x2502))),h(Tt,'GRAY',Object['freeze'](new Tt(-0x877*-0x1+0xd*0x9d+-0x1070+0.5,-0x95f*0x3+-0x1*-0x1e97+-0x27a+0.5,-0x209e+-0x1f3*0x2+0x2484+0.5,0x504+-0x194+-0x3*0x125))),h(Tt,'GREEN',Object['freeze'](new Tt(-0x7b3+0x5d*-0xe+0xcc9*0x1,-0x1*0x213d+-0x2*-0xf4d+0x2*0x152,0x1f85*-0x1+-0x1dab+0x3d30,0xe2b+-0xd0*-0x10+-0x72*0x3d))),h(Tt,'MAGENTA',Object['freeze'](new Tt(0x1b82+0x1d99*-0x1+-0x2*-0x10c,0x1df8+-0xf77+-0xe81,0x1a7f+0x1d33+-0x1*0x37b1,0xd*-0x7+-0x463+0x4bf))),h(Tt,'RED',Object['freeze'](new Tt(-0x1f40+0x5fe+-0x1943*-0x1,0xad5+-0x9b8+0xf*-0x13,0x1ba8+0x293*0xc+-0x3a8c,0x1*-0x73+-0x10*-0x12a+-0x122c))),h(Tt,'WHITE',Object['freeze'](new Tt(-0x1*0x1b4c+0xdeb+0xd62,-0x56+0x1b31+-0x1ada,-0xc4f*0x1+-0x1f*0xce+-0x26*-0xfb,0x5f*0x2b+0x1375+-0x2369))),h(Tt,'YELLOW',Object['freeze'](new Tt(-0x255*0xe+0x1c11+0x1*0x496,-0x1313+-0x51*-0x76+-0x39*0x52,-0xa4e+0x1*-0x192+-0x10*-0xbe,-0x1dd6+0xc3*0x30+-0x1*0x6b9)));let ie=Tt;class ZS{constructor(_0x55adb3,_0x42239e=0x43*-0x12+0x1767+-0x12b1){h(this,'_curve'),h(this,'_left',-(0x1a9d+-0x2044+0x5a8)/(-0x1f*0x4f+-0xe*0x229+0xed*0x2b)),h(this,'_right',(-0xc49+0x16*-0xf9+-0x2*-0x10d8)/(0x1bc1*0x1+0xeca+0x2a8b*-0x1)),h(this,'_recip',-0x27f*-0x3+-0x1632+-0xeb5*-0x1),h(this,'_p0',-0x1*0x1357+0x22cb+-0xf74),h(this,'_p1',-0x21*-0x49+-0x1*0x1a87+0x1*0x111e),h(this,'_m0',-0x1*-0x1809+-0xad8*0x1+-0xd31),h(this,'_m1',0xbf8+-0x155d+0x965),(this['_curve']=_0x55adb3,this['_reset'](_0x42239e));}['evaluate'](_0x10ae32,_0x36fc8c=!(-0x4*-0x3a5+-0x18f2*0x1+0xa5f)){(_0x36fc8c||_0x10ae32<this['_left']||_0x10ae32>=this['_right'])&&this['_reset'](_0x10ae32);let _0x488a04;const _0x40cd79=this['_curve']['type'];if(_0x40cd79===_x)_0x488a04=this['_p0'];else{const _0xb32999=this['_recip']===0x1d96+0x5*0x5df+-0x3af1?0x61*0x5+0xd7c+0xf61*-0x1:(_0x10ae32-this['_left'])*this['_recip'];_0x40cd79===mx?_0x488a04=Y['lerp'](this['_p0'],this['_p1'],_0xb32999):_0x40cd79===tp?_0x488a04=Y['lerp'](this['_p0'],this['_p1'],_0xb32999*_0xb32999*(-0x73e+-0x671+0x1*0xdb2-(-0x15fe+-0x111+0x1711)*_0xb32999)):_0x488a04=this['_evaluateH'+'ermite'](this['_p0'],this['_p1'],this['_m0'],this['_m1'],_0xb32999);}return _0x488a04;}['_reset'](_0x45b2f7){const _0x245118=this['_curve']['keys'],_0x49d60c=_0x245118['length'];if(!_0x49d60c)this['_left']=-(-0x27f+0x232c+0x6*-0x572)/(-0xa7a+0x2*0xcc7+0x4*-0x3c5),this['_right']=(-0x170b+-0x591+0x1c9d)/(-0x1780+-0x1116*-0x2+-0xaac*0x1),this['_recip']=-0xa*0x1fe+-0x24a5+0x3891,this['_p0']=this['_p1']=this['_m0']=this['_m1']=-0x71+0x1970+0x2c7*-0x9;else{if(_0x45b2f7<_0x245118[-0x14f9+-0x11c*0x13+0x2a0d][-0x1*-0x1642+-0x292*-0x2+-0x1b66])this['_left']=-(0x891+-0xb37+0x2a7)/(0x2*-0xf31+-0x1dfc+0x3c5e),this['_right']=_0x245118[0x248*0x11+-0x4*-0x50e+-0x3b00][-0xc1*0x1b+0x26e6+-0x128b],this['_recip']=-0x1*0x56+0x3*-0xc03+0x245f*0x1,this['_p0']=this['_p1']=_0x245118[0x1d2a+-0x1adf+-0x24b][-0x935+-0x1*0xfd3+0x1909],this['_m0']=this['_m1']=-0x1ef3+0x1*0x1057+0xe9c;else{if(_0x45b2f7>=_0x245118[_0x49d60c-(-0x1*0x50d+0x71*-0x3a+0xa38*0x3)][-0x1*0x230b+-0x1b*0x16b+0x4954])this['_left']=_0x245118[_0x49d60c-(-0x1a4c+-0x803+0x2250)][0x19*0xd7+-0xf35*-0x1+-0x2434],this['_right']=(-0x1b29+0x16*0x54+0x13f2)/(-0xc6b+0x5e1+0x68a),this['_recip']=0x7fb+-0x1*0x1ff9+0x25*0xa6,this['_p0']=this['_p1']=_0x245118[_0x49d60c-(-0xfa3+-0x2551+-0x3*-0x11a7)][-0x1a2+-0xa83+-0x137*-0xa],this['_m0']=this['_m1']=-0x7d3*-0x1+-0x19cd+0xd*0x162;else{let _0x3bdb86=-0xfd7+-0x1*-0x1161+-0x18a*0x1;for(;_0x45b2f7>=_0x245118[_0x3bdb86+(-0x1e65+-0xaac*0x1+0x2912)][0x316+-0x1*-0xbba+-0xed0];)_0x3bdb86++;this['_left']=_0x245118[_0x3bdb86][0x399+0x2*0x8b+-0x4af*0x1],this['_right']=_0x245118[_0x3bdb86+(0x13cd*-0x1+0x20b5+-0xce7)][-0x1e1*-0x1+-0xe8d+0xcac];const _0x3e03ea=(-0x13b7+-0x457*-0x7+-0xaa9)/(this['_right']-this['_left']);this['_recip']=isFinite(_0x3e03ea)?_0x3e03ea:-0x218+0x259a+-0x2382,this['_p0']=_0x245118[_0x3bdb86][0x1*0x1c8a+0x1dfb+-0x3a84],this['_p1']=_0x245118[_0x3bdb86+(-0xdc1+-0xb37*0x3+-0xfcd*-0x3)][-0x569+0x2411+-0x1ea7],this['_curve']['type']===Nm&&this['_calcTange'+'nts'](_0x245118,_0x3bdb86);}}}}['_calcTange'+'nts'](_0x76bf26,_0x26912a){let _0x53a273;const _0x58c5b7=_0x76bf26[_0x26912a],_0x3507f6=_0x76bf26[_0x26912a+(-0xb13+-0x4d*0x31+0x19d1*0x1)];let _0x4c6089;if(_0x26912a===0x1*-0x1edf+0x4a7+-0x68e*-0x4?_0x53a273=[_0x76bf26[-0x1077+0xfe3+-0x4*-0x25][0x18d*0xf+0x9*0x2e7+-0x2b*0x126]+(_0x76bf26[0x2ab*0x2+0x26d+-0x7c3][0x5*0x66c+-0x14c8+-0x2d5*0x4]-_0x76bf26[-0x2416*0x1+0x8f4*-0x4+0x47e7][-0x1af9+-0xf88+0x2a81]),_0x76bf26[0x1736*0x1+-0x1c86+0x550][-0x26ba+-0x1239*0x1+0x38f4]+(_0x76bf26[-0x7*-0x4f7+-0x28+-0x209*0x11][-0x16ac+0x10f2*0x1+-0x3*-0x1e9]-_0x76bf26[-0xc31+0xd85+0x1*-0x153][0x2*0x5b1+-0x757*0x1+-0x40a])]:_0x53a273=_0x76bf26[_0x26912a-(0xca4+0x241*-0x6+0x1*0xe3)],_0x26912a===_0x76bf26['length']-(0x25f4+0x479*0x2+0x2ee4*-0x1)?_0x4c6089=[_0x76bf26[_0x26912a+(0x1f12+-0x1*0x4ef+0xa*-0x29d)][0x336+0x2017+0x234d*-0x1]+(_0x76bf26[_0x26912a+(-0x1f3d+-0x3*-0x663+-0x3*-0x407)][-0xd4b+-0x1*-0x116f+-0x424]-_0x76bf26[_0x26912a][-0x1*0x1367+0x12ae+0x1*0xb9]),_0x76bf26[_0x26912a+(-0x192b+-0x3*-0x36+-0x2ba*-0x9)][-0xcdd+-0x1d98*-0x1+0x2*-0x85d]+(_0x76bf26[_0x26912a+(-0x1*0x1dfd+0x221b*-0x1+0x4019)][-0x1*-0x1b65+-0x155d+-0x607*0x1]-_0x76bf26[_0x26912a][0x1*-0x2443+-0x10f1+0x3535])]:_0x4c6089=_0x76bf26[_0x26912a+(-0x2d7*-0xd+-0x973*-0x3+-0x4142)],this['_curve']['type']===Nm){const _0x3c22fd=(-0xa3*-0x2+0x8b*0x35+-0x1e0b)*(_0x3507f6[0x1*-0x12f+-0x1c22+0x1d51*0x1]-_0x58c5b7[-0x42*0x3e+0x15dd+-0x12d*0x5])/(_0x3507f6[-0x27a*-0x2+0x26b3+-0x2ba7]-_0x53a273[0x1*0x1a97+-0x1*-0x332+-0x1dc9]),_0x169aca=(0x151a+0x1dca+-0x32e2)*(_0x3507f6[-0x265*-0x3+0x7b9+-0x8*0x1dd]-_0x58c5b7[0x4e0+0x9*-0xfc+0x3fc])/(_0x4c6089[0x2166+0x8e8+-0x2a4e]-_0x58c5b7[-0x17f*-0x5+0x1*-0x109e+-0x923*-0x1]);this['_m0']=this['_curve']['tension']*(isFinite(_0x3c22fd)?_0x3c22fd:0x215d+-0xe20+0x5*-0x3d9)*(_0x3507f6[-0x1dfa+-0x5*-0x621+0xaa*-0x1]-_0x53a273[-0x34*0x19+-0x239a+0x28af]),this['_m1']=this['_curve']['tension']*(isFinite(_0x169aca)?_0x169aca:0x1435*0x1+0x21c9+0x2*-0x1aff)*(_0x4c6089[0x1f9+0x346*0x5+-0x1256]-_0x58c5b7[-0x2654+0x4d+0x2608]);}else{const _0x195654=(_0x3507f6[0x1f47+0x2191+0x33e*-0x14]-_0x58c5b7[-0x1c64+-0x1285+0x2ee9])/(_0x58c5b7[-0x9*0xa7+-0x1*0x2237+0x2dd*0xe]-_0x53a273[0x8f9*0x3+0x94d*-0x3+0xfc]),_0x54d009=(_0x3507f6[-0xc*0xe3+0xea7+-0x403]-_0x58c5b7[0xc22+-0xf88+0x6*0x91])/(_0x4c6089[0x1*0x1c9+0x1af9+-0x1cc2]-_0x3507f6[-0x22f2+-0x3*-0x750+0xd02]),_0xe4010d=_0x58c5b7[-0x2705+-0x5*0x266+0x1*0x3304]+(_0x53a273[0x1*0x91c+0x1*-0x2383+-0x28*-0xa9]-_0x58c5b7[0x13*0x1b2+-0xb*0x53+0x1*-0x1ca4])*(isFinite(_0x195654)?_0x195654:0xa0b*-0x3+-0x4*0xe5+-0x21b5*-0x1),_0x5ab064=_0x3507f6[0x8da+0x1bd7*-0x1+0x12fe]+(_0x4c6089[-0x15*0xe3+-0xae8+-0xd8*-0x23]-_0x3507f6[0x3d*0x65+0x1*0x1a02+-0x3212])*(isFinite(_0x54d009)?_0x54d009:-0x780+0x1388+-0xc08),_0x5cbe77=this['_curve']['tension'];this['_m0']=_0x5cbe77*(_0x3507f6[0x1df3+0x94*0x39+-0x3ee6]-_0xe4010d),this['_m1']=_0x5cbe77*(_0x5ab064-_0x58c5b7[-0x79b*-0x1+0x1*-0xa2a+0x290]);}}['_evaluateH'+'ermite'](_0x1622a9,_0x275bb6,_0x1a84cb,_0x48833b,_0x2e264f){const _0x3cd42a=_0x2e264f*_0x2e264f,_0x2424ab=_0x2e264f+_0x2e264f,_0x8f613c=-0xb35+-0x2395*-0x1+-0x185f-_0x2e264f,_0x511b87=_0x8f613c*_0x8f613c;return _0x1622a9*((0x1556*-0x1+-0x1a35+0x2f8c+_0x2424ab)*_0x511b87)+_0x1a84cb*(_0x2e264f*_0x511b87)+_0x275bb6*(_0x3cd42a*(-0x2100+0x191c+-0x7e7*-0x1-_0x2424ab))+_0x48833b*(_0x3cd42a*(_0x2e264f-(0xbb*-0x25+0x113e+-0x1*-0x9ca)));}}class qs{constructor(_0x233784){h(this,'keys',[]),h(this,'type',tp),h(this,'tension',0x190c+0x3*0x2af+-0x2119+0.5),h(this,'_eval',new ZS(this));if(_0x233784){for(let _0x14ffc1=-0x4fd*0x1+0x1533+-0x1036;_0x14ffc1<_0x233784['length']-(-0x3*-0xb5+-0x1bae+0x1990);_0x14ffc1+=-0x88b+0x4*-0x670+0x224d*0x1)this['keys']['push']([_0x233784[_0x14ffc1],_0x233784[_0x14ffc1+(-0x1a5b+0x22d+-0x182f*-0x1)]]);}this['sort']();}get['length'](){return this['keys']['length'];}['add'](_0x512086,_0x289619){const _0xf6f20=this['keys'],_0x1031d3=_0xf6f20['length'];let _0x3b58f9=0xeec+-0xfa4+0xb8;for(;_0x3b58f9<_0x1031d3&&!(_0xf6f20[_0x3b58f9][-0x25b4+-0x9f2+0x17d3*0x2]>_0x512086);_0x3b58f9++);const _0x1ceb36=[_0x512086,_0x289619];return this['keys']['splice'](_0x3b58f9,0x208+0xaea+-0xcf2,_0x1ceb36),_0x1ceb36;}['get'](_0x48d4ac){return this['keys'][_0x48d4ac];}['sort'](){this['keys']['sort']((_0x302519,_0x2f76b1)=>_0x302519[0x30*-0xad+-0x2*0x11af+0x43ce]-_0x2f76b1[0x1*0x1a5a+-0x530+-0x152a]);}['value'](_0x35718f){return this['_eval']['evaluate'](_0x35718f,!(0x2*-0x127b+0x156c+0x297*0x6));}['closest'](_0x2e9a00){const _0x59108e=this['keys'],_0xe634a=_0x59108e['length'];let _0xaa6fcf=-0x394*-0x3+-0x5d4*0x1+-0x4e6,_0x43d8d4=null;for(let _0xb55e32=-0x2021+-0xff4*-0x1+0x102d;_0xb55e32<_0xe634a;_0xb55e32++){const _0x4715cc=Math['abs'](_0x2e9a00-_0x59108e[_0xb55e32][-0x62f*-0x3+-0x1c23+0x996]);if(_0xaa6fcf>=_0x4715cc)_0xaa6fcf=_0x4715cc,_0x43d8d4=_0x59108e[_0xb55e32];else break;}return _0x43d8d4;}['clone'](){const _0x87883=new this['constructo'+'r']();return _0x87883['keys']=this['keys']['map'](_0x29700d=>[..._0x29700d]),_0x87883['type']=this['type'],_0x87883['tension']=this['tension'],_0x87883;}['quantize'](_0x59612a){_0x59612a=Math['max'](_0x59612a,-0x547*-0x1+0x1a3d*0x1+-0x1*0x1f82);const _0x42c8af=new Float32Array(_0x59612a),_0x323284=(-0x1*0x351+-0x26cf+-0xf*-0x2cf)/(_0x59612a-(-0x29*-0x1+0x1daf*-0x1+0x1d87*0x1));_0x42c8af[-0x33c*-0xc+0x2600+0x2*-0x2668]=this['_eval']['evaluate'](-0x117a+-0x69a+-0x4*-0x605,!(-0x526*0x5+0x7d1+0x11ed*0x1));for(let _0x40a7b2=-0x9d8+-0x2a6*-0xd+-0x1*0x1895;_0x40a7b2<_0x59612a;_0x40a7b2++)_0x42c8af[_0x40a7b2]=this['_eval']['evaluate'](_0x323284*_0x40a7b2);return _0x42c8af;}['quantizeCl'+'amped'](_0x5a0f0a,_0x38f956,_0x579ff7){const _0xfea07c=this['quantize'](_0x5a0f0a);for(let _0x34a1e4=0x1ed3+0x2*0xa4f+0x3f5*-0xd;_0x34a1e4<_0xfea07c['length'];++_0x34a1e4)_0xfea07c[_0x34a1e4]=Math['min'](_0x579ff7,Math['max'](_0x38f956,_0xfea07c[_0x34a1e4]));return _0xfea07c;}}class na{constructor(..._0x1e09cf){h(this,'curves',[]),h(this,'_type',tp);if(_0x1e09cf['length']>-0x15dd+-0x16c2+0x8*0x594){for(let _0x2a55d3=-0x1453+-0x39+0xa46*0x2;_0x2a55d3<_0x1e09cf['length'];_0x2a55d3++)this['curves']['push'](new qs(_0x1e09cf[_0x2a55d3]));}else{if(_0x1e09cf['length']===-0x1f3+-0x25c*-0x10+0xeb*-0x27)this['curves']['push'](new qs());else{const _0x579b5b=_0x1e09cf[-0x10ec+0x13*0x92+0x616];if(typeof _0x579b5b=='number'){for(let _0x578eb2=-0x40*-0xb+0x1b5d+0x251*-0xd;_0x578eb2<_0x579b5b;_0x578eb2++)this['curves']['push'](new qs());}else{for(let _0x1234ba=0x3c*0x35+0x1*0x15ad+-0x2219;_0x1234ba<_0x579b5b['length'];_0x1234ba++)this['curves']['push'](new qs(_0x579b5b[_0x1234ba]));}}}}get['length'](){return this['curves']['length'];}set['type'](_0x1fc85d){this['_type']=_0x1fc85d;for(let _0xe8697c=-0x4*0x2e9+-0x1*0x794+0x1338;_0xe8697c<this['curves']['length'];_0xe8697c++)this['curves'][_0xe8697c]['type']=_0x1fc85d;}get['type'](){return this['_type'];}['get'](_0x204ac9){return this['curves'][_0x204ac9];}['value'](_0x2b9e5e,_0x34d1aa=[]){const _0x1f2c87=this['curves']['length'];_0x34d1aa['length']=_0x1f2c87;for(let _0x5a46a3=-0x18d6+-0x1*-0x24e9+0x119*-0xb;_0x5a46a3<_0x1f2c87;_0x5a46a3++)_0x34d1aa[_0x5a46a3]=this['curves'][_0x5a46a3]['value'](_0x2b9e5e);return _0x34d1aa;}['clone'](){const _0xed7ea9=new this['constructo'+'r']();_0xed7ea9['curves']=[];for(let _0x5e409d=-0x165d+0xab0+0x31*0x3d;_0x5e409d<this['curves']['length'];_0x5e409d++)_0xed7ea9['curves']['push'](this['curves'][_0x5e409d]['clone']());return _0xed7ea9['_type']=this['_type'],_0xed7ea9;}['quantize'](_0xf9bdac){_0xf9bdac=Math['max'](_0xf9bdac,0x53*0x2c+-0x4f*0x43+0x66b);const _0x29d21a=this['curves']['length'],_0x32e4c3=new Float32Array(_0xf9bdac*_0x29d21a),_0x378802=(0x107*0x13+0xdab*0x1+-0x212f)/(_0xf9bdac-(0x1*0xc3e+0x3a2+-0x1*0xfdf));for(let _0x4cc251=-0x2*-0x1019+0x239c+-0x43ce;_0x4cc251<_0x29d21a;_0x4cc251++){const _0x3defe3=new ZS(this['curves'][_0x4cc251]);for(let _0xd86d99=0x115a*0x1+-0x1*-0x712+-0x1*0x186c;_0xd86d99<_0xf9bdac;_0xd86d99++)_0x32e4c3[_0xd86d99*_0x29d21a+_0x4cc251]=_0x3defe3['evaluate'](_0x378802*_0xd86d99);}return _0x32e4c3;}['quantizeCl'+'amped'](_0x10a212,_0xb89c59,_0x1afd47){const _0x40a037=this['quantize'](_0x10a212);for(let _0x59f48d=0x2673+-0x2b*0x7f+0x272*-0x7;_0x59f48d<_0x40a037['length'];++_0x59f48d)_0x40a037[_0x59f48d]=Math['min'](_0x1afd47,Math['max'](_0xb89c59,_0x40a037[_0x59f48d]));return _0x40a037;}}const Hf=new Float32Array(0x19*0x1e+0x7*0x151+-0xc24),km=new Int32Array(Hf['buffer']);class Mn{static['float2Half'](_0x1f0c22){Hf[0x841*0x2+0x1*0x712+-0x1794]=_0x1f0c22;const _0x329f7=km[-0x1e70+0x3fd+0x1a73];let _0x5333cc=_0x329f7>>0x1b5b+-0x1ea7+0x35c&-0x1*-0x4af2+0x2*-0x62d5+0xfab8,_0x4a76f3=_0x329f7>>-0xe39+-0x4e6+-0x1*-0x132b&0x2*0x9a9+0x1*0x1f5+0x1*-0xd48;const _0x251e0d=_0x329f7>>0x36b+-0x24b2+0x215e&-0xd4*0x25+-0x19b9+-0x395c*-0x1;return _0x251e0d<-0xc3f+-0x1870+0x1*0x2516?_0x5333cc:_0x251e0d>0xe8e+-0x1*0x16af+0x8af?(_0x5333cc|=-0x1*-0x1a95+-0x7c0a+0xdd75,_0x5333cc|=(_0x251e0d===0x1f*0x63+-0x1add+0xef*0x11?0x1*0x3d7+-0xd6*-0x2+0x11*-0x53:-0x1*-0x710+-0x2e*0xd5+0x1f37*0x1)&&_0x329f7&-0x3378a+0x1*0xf5def7+-0x72a76e,_0x5333cc):_0x251e0d<-0x2154+0x815+-0x1*-0x19b0?(_0x4a76f3|=-0xae9+-0x7f3+0x1adc,_0x5333cc|=(_0x4a76f3>>-0x1881+0x102+0x17f1*0x1-_0x251e0d)+(_0x4a76f3>>0x124e+0xe09*0x2+-0x2def-_0x251e0d&0x5ae*-0x2+-0xa5e+0x15bb),_0x5333cc):(_0x5333cc|=_0x251e0d-(0x1619*-0x1+-0x2*0x11c3+-0xa7*-0x59)<<-0xcf2*-0x2+0x2495+0x5ad*-0xb|_0x4a76f3>>-0x4ea*-0x5+-0x3*-0x5dc+-0x2a25,_0x5333cc+=_0x4a76f3&0x13b5+0x2429+-0x37dd,_0x5333cc);}static['float2RGBA'+'8'](_0x46d137,_0x154c81){Hf[-0x2525+0x2*-0x10d+0x273f]=_0x46d137;const _0x280c7b=km[-0x1c4e*-0x1+0x1*0x1307+-0x2f55];_0x154c81['r']=(_0x280c7b>>0xbdf*0x1+0x2207*0x1+-0xb*0x42a&-0xc4f+0x1*-0x1e45+-0x61*-0x73)/(0xb2b+0x2112+0x52*-0x87),_0x154c81['g']=(_0x280c7b>>0x25ee+0x12*-0x6c+0x1e46*-0x1&-0x89*0x9+0xea*0x3+0x312)/(0x37*-0x5a+0x1*0x1f65+0x76*-0x18),_0x154c81['b']=(_0x280c7b>>-0x6*0x404+-0x1*-0x1613+0x23*0xf&-0x8cc*0x1+-0x1*-0x95+0x936)/(0x3*0xd5+-0x4*-0x1be+-0x878),_0x154c81['a']=(_0x280c7b&-0x20e9+-0x57*-0x3+0x20e3*0x1)/(0x18af*-0x1+0xfee+0x9c0);}}const wt=class wt{constructor(_0x61ebce=-0xc25*0x1+0x5*0x4b7+-0xb6e,_0x11f334=0x26a7+-0x9a7+-0x1d00,_0x36c7c3=0x620*0x4+-0x7*0x4a7+-0x1*-0x811){h(this,'x'),h(this,'y'),h(this,'z'),_0x61ebce['length']===-0x20b1+0x3*-0xb57+0x42b9?(this['x']=_0x61ebce[0x18ed+-0x626*0x1+0x1*-0x12c7],this['y']=_0x61ebce[-0x3*0x832+-0x240f+0x3ca6],this['z']=_0x61ebce[0x1389+-0x3*0x2f9+-0xa9c]):(this['x']=_0x61ebce,this['y']=_0x11f334,this['z']=_0x36c7c3);}['add'](_0x4fdf37){return this['x']+=_0x4fdf37['x'],this['y']+=_0x4fdf37['y'],this['z']+=_0x4fdf37['z'],this;}['add2'](_0x2bec40,_0x526567){return this['x']=_0x2bec40['x']+_0x526567['x'],this['y']=_0x2bec40['y']+_0x526567['y'],this['z']=_0x2bec40['z']+_0x526567['z'],this;}['addScalar'](_0x15723d){return this['x']+=_0x15723d,this['y']+=_0x15723d,this['z']+=_0x15723d,this;}['addScaled'](_0x187e67,_0x2312e9){return this['x']+=_0x187e67['x']*_0x2312e9,this['y']+=_0x187e67['y']*_0x2312e9,this['z']+=_0x187e67['z']*_0x2312e9,this;}['clone'](){const _0x55f595=this['constructo'+'r'];return new _0x55f595(this['x'],this['y'],this['z']);}['copy'](_0x42b309){return this['x']=_0x42b309['x'],this['y']=_0x42b309['y'],this['z']=_0x42b309['z'],this;}['cross'](_0x4fc068,_0x3a9a92){const _0x1aaba8=_0x4fc068['x'],_0x356755=_0x4fc068['y'],_0x8f5a84=_0x4fc068['z'],_0x21d30e=_0x3a9a92['x'],_0xb67a66=_0x3a9a92['y'],_0x400444=_0x3a9a92['z'];return this['x']=_0x356755*_0x400444-_0xb67a66*_0x8f5a84,this['y']=_0x8f5a84*_0x21d30e-_0x400444*_0x1aaba8,this['z']=_0x1aaba8*_0xb67a66-_0x21d30e*_0x356755,this;}['distance'](_0x415989){const _0x20a690=this['x']-_0x415989['x'],_0x28de79=this['y']-_0x415989['y'],_0x5f40a4=this['z']-_0x415989['z'];return Math['sqrt'](_0x20a690*_0x20a690+_0x28de79*_0x28de79+_0x5f40a4*_0x5f40a4);}['div'](_0xc236eb){return this['x']/=_0xc236eb['x'],this['y']/=_0xc236eb['y'],this['z']/=_0xc236eb['z'],this;}['div2'](_0x32fbe0,_0x3276a8){return this['x']=_0x32fbe0['x']/_0x3276a8['x'],this['y']=_0x32fbe0['y']/_0x3276a8['y'],this['z']=_0x32fbe0['z']/_0x3276a8['z'],this;}['divScalar'](_0x11973a){return this['x']/=_0x11973a,this['y']/=_0x11973a,this['z']/=_0x11973a,this;}['dot'](_0x212db6){return this['x']*_0x212db6['x']+this['y']*_0x212db6['y']+this['z']*_0x212db6['z'];}['equals'](_0x28153e){return this['x']===_0x28153e['x']&&this['y']===_0x28153e['y']&&this['z']===_0x28153e['z'];}['equalsAppr'+'ox'](_0x441631,_0x190317=-0x7*0x2a5+-0x2439+0x36bc+0.000001){return Math['abs'](this['x']-_0x441631['x'])<_0x190317&&Math['abs'](this['y']-_0x441631['y'])<_0x190317&&Math['abs'](this['z']-_0x441631['z'])<_0x190317;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];}['lerp'](_0x1fe3e2,_0x52144c,_0x2c0e33){return this['x']=_0x1fe3e2['x']+_0x2c0e33*(_0x52144c['x']-_0x1fe3e2['x']),this['y']=_0x1fe3e2['y']+_0x2c0e33*(_0x52144c['y']-_0x1fe3e2['y']),this['z']=_0x1fe3e2['z']+_0x2c0e33*(_0x52144c['z']-_0x1fe3e2['z']),this;}['mul'](_0x31b625){return this['x']*=_0x31b625['x'],this['y']*=_0x31b625['y'],this['z']*=_0x31b625['z'],this;}['mul2'](_0x129556,_0x5a0b6d){return this['x']=_0x129556['x']*_0x5a0b6d['x'],this['y']=_0x129556['y']*_0x5a0b6d['y'],this['z']=_0x129556['z']*_0x5a0b6d['z'],this;}['mulScalar'](_0x1d42b6){return this['x']*=_0x1d42b6,this['y']*=_0x1d42b6,this['z']*=_0x1d42b6,this;}['normalize'](_0x3fff71=this){const _0x755e99=_0x3fff71['x']*_0x3fff71['x']+_0x3fff71['y']*_0x3fff71['y']+_0x3fff71['z']*_0x3fff71['z'];if(_0x755e99>-0x1*0x1d8b+0x40*0x78+0xd*-0x9){const _0x214528=(0x1d76+0x15*0x1c5+-0x429e)/Math['sqrt'](_0x755e99);this['x']=_0x3fff71['x']*_0x214528,this['y']=_0x3fff71['y']*_0x214528,this['z']=_0x3fff71['z']*_0x214528;}return this;}['floor'](_0xb73bee=this){return this['x']=Math['floor'](_0xb73bee['x']),this['y']=Math['floor'](_0xb73bee['y']),this['z']=Math['floor'](_0xb73bee['z']),this;}['ceil'](_0x2e64a9=this){return this['x']=Math['ceil'](_0x2e64a9['x']),this['y']=Math['ceil'](_0x2e64a9['y']),this['z']=Math['ceil'](_0x2e64a9['z']),this;}['round'](_0xf5fd1e=this){return this['x']=Math['round'](_0xf5fd1e['x']),this['y']=Math['round'](_0xf5fd1e['y']),this['z']=Math['round'](_0xf5fd1e['z']),this;}['min'](_0x27d2ab){return _0x27d2ab['x']<this['x']&&(this['x']=_0x27d2ab['x']),_0x27d2ab['y']<this['y']&&(this['y']=_0x27d2ab['y']),_0x27d2ab['z']<this['z']&&(this['z']=_0x27d2ab['z']),this;}['max'](_0x45c64a){return _0x45c64a['x']>this['x']&&(this['x']=_0x45c64a['x']),_0x45c64a['y']>this['y']&&(this['y']=_0x45c64a['y']),_0x45c64a['z']>this['z']&&(this['z']=_0x45c64a['z']),this;}['project'](_0xe15ec1){const _0x48e77b=this['x']*_0xe15ec1['x']+this['y']*_0xe15ec1['y']+this['z']*_0xe15ec1['z'],_0x5d9612=_0xe15ec1['x']*_0xe15ec1['x']+_0xe15ec1['y']*_0xe15ec1['y']+_0xe15ec1['z']*_0xe15ec1['z'],_0x3e82e9=_0x48e77b/_0x5d9612;return this['x']=_0xe15ec1['x']*_0x3e82e9,this['y']=_0xe15ec1['y']*_0x3e82e9,this['z']=_0xe15ec1['z']*_0x3e82e9,this;}['set'](_0x1dc12d,_0x4d3a73,_0x3a8e66){return this['x']=_0x1dc12d,this['y']=_0x4d3a73,this['z']=_0x3a8e66,this;}['sub'](_0x240804){return this['x']-=_0x240804['x'],this['y']-=_0x240804['y'],this['z']-=_0x240804['z'],this;}['sub2'](_0x6eba41,_0x5dceb9){return this['x']=_0x6eba41['x']-_0x5dceb9['x'],this['y']=_0x6eba41['y']-_0x5dceb9['y'],this['z']=_0x6eba41['z']-_0x5dceb9['z'],this;}['subScalar'](_0xb89ad5){return this['x']-=_0xb89ad5,this['y']-=_0xb89ad5,this['z']-=_0xb89ad5,this;}['fromArray'](_0x3c1525,_0x36b1ba=-0xaab*0x2+0x37d*0x7+0x1*-0x315){return this['x']=_0x3c1525[_0x36b1ba]??this['x'],this['y']=_0x3c1525[_0x36b1ba+(-0x1*0x17b7+0x45e+-0x2*-0x9ad)]??this['y'],this['z']=_0x3c1525[_0x36b1ba+(-0x1*-0x13bf+-0x152d+0x17*0x10)]??this['z'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+']';}['toArray'](_0x20865d=[],_0x3b4d3a=0x963+0x198+-0xafb){return _0x20865d[_0x3b4d3a]=this['x'],_0x20865d[_0x3b4d3a+(0x1a8f*0x1+0xf76+-0x2a04)]=this['y'],_0x20865d[_0x3b4d3a+(0xd*0x23e+-0x18c+0xdcc*-0x2)]=this['z'],_0x20865d;}};h(wt,'ZERO',Object['freeze'](new wt(-0x1188+0xb90+0x5f8,0xd9e+0x1*0xed+-0xe8b,-0x2430+-0x1701*0x1+0x3b31))),h(wt,'HALF',Object['freeze'](new wt(0xac9*-0x1+0x26*-0x61+-0x1*-0x192f+0.5,0x1dd6+-0x26d2+0x8fc+0.5,-0x9b*-0xb+0xf8e+-0x1637+0.5))),h(wt,'ONE',Object['freeze'](new wt(0x226f+0xe0c+-0x307a,-0x2110+0x1*-0x5ec+0x26fd,-0x5ab*0x3+0x1157*0x2+-0x11ac))),h(wt,'UP',Object['freeze'](new wt(0x5fd+0x1c17+-0x2214,-0xb5*0x2b+-0xf89+-0x13*-0x26b,-0xbc7*0x3+0x2*-0xe8a+0x4069))),h(wt,'DOWN',Object['freeze'](new wt(-0x2*0xe15+-0x19db+-0x1*-0x3605,-(0x9aa+-0xc12+0x269*0x1),0x3*0x15d+0x148d*0x1+0x4c*-0x53))),h(wt,'RIGHT',Object['freeze'](new wt(0x1*-0x32f+0x1059+-0xd29,0xdc5+-0x1077+0x2b2,-0xe19+0x1*0x16eb+-0x8d2))),h(wt,'LEFT',Object['freeze'](new wt(-(0x212+0x65*-0xb+0x123*0x2),0x593+0xc7*0x30+0x1*-0x2ae3,0x26f6+-0x17b8+-0xf3e))),h(wt,'FORWARD',Object['freeze'](new wt(-0x2aa*0x8+0x1*-0x1e81+-0x23*-0x17b,-0x13f4+0x4a+0x13aa,-(0x15aa+-0x20d*-0x2+-0x19c3)))),h(wt,'BACK',Object['freeze'](new wt(0x24*0x67+-0x1*-0x16e3+-0x255f,-0x1*-0x9a+0x5b4+-0x64e,0x15*0x13+-0x25*0xc9+0x1b7f)));let D=wt;const gn=class gn{constructor(){h(this,'data',new Float32Array(0x3bd+-0x3*-0x655+-0x3*0x791)),this['data'][0x3b9*0x6+0x2*-0xd89+-0x1*-0x4bc]=this['data'][0x1d39+-0x41d+0x8*-0x323]=this['data'][-0x25e8+-0xc43+0x3233]=0x40e+0x5a8*-0x3+0x1*0xceb;}['clone'](){const _0xf406fc=this['constructo'+'r'];return new _0xf406fc()['copy'](this);}['copy'](_0x1d8ba7){const _0x430737=_0x1d8ba7['data'],_0x3c9d58=this['data'];return _0x3c9d58[0xa27+-0x12f7+-0xc*-0xbc]=_0x430737[0x1f*-0x120+-0x1*-0x20ef+0x1f1],_0x3c9d58[0x6b*-0x2b+0xa6d*0x2+-0x170*0x2]=_0x430737[0x1299+0xf2*-0x21+-0x64d*-0x2],_0x3c9d58[0x11a2+-0x11*-0xe9+0x25*-0xe5]=_0x430737[0x34f+-0xb6+-0x27*0x11],_0x3c9d58[-0x3*-0xc0+-0x5*-0x79+-0x49a]=_0x430737[-0x53c+-0x1f25+-0x4*-0x919],_0x3c9d58[0xfd1*-0x1+0xeec*-0x1+0x1ec1]=_0x430737[-0xd2*-0x2+0x18a7*-0x1+0x1707],_0x3c9d58[-0xf17+-0x13fe+0x231a*0x1]=_0x430737[-0x4b7*0x7+-0x1*-0x940+0x166*0x11],_0x3c9d58[-0x17cc+0x23cf+0x9*-0x155]=_0x430737[0x26c+-0x134a+-0x2*-0x872],_0x3c9d58[-0x1431+-0x14f*-0x3+0x104b]=_0x430737[-0x181b+-0x249c+0x3cbe],_0x3c9d58[-0x13e2+0x12e7+0x103*0x1]=_0x430737[0x152c+0xd35+-0x2259],this;}['set'](_0x42446d){const _0x43df65=this['data'];return _0x43df65[-0x21d2+0xe3*0xd+-0x1*-0x164b]=_0x42446d[-0xf*0x283+0x173d+0xe70],_0x43df65[-0x2561+0x9e0*0x1+-0x3ee*-0x7]=_0x42446d[-0x1*0x2145+-0x7*0x9d+0x2591],_0x43df65[0x3*-0xb5+-0xbcb+0x3*0x4a4]=_0x42446d[-0x1f5a*0x1+0x1242+0x4e*0x2b],_0x43df65[0x250c+0x15f+-0x2668]=_0x42446d[0x1bc6+-0x4d9+-0x16ea],_0x43df65[0xa1+0x51b*-0x5+0x18ea]=_0x42446d[-0x215f+0x1*-0x8ab+0x7*0x602],_0x43df65[0x205*-0x2+0x3f2+0x1d]=_0x42446d[-0x407*0x4+-0x13fe+0x241f],_0x43df65[0x2351+0x2*0x1b5+-0x3*0xce7]=_0x42446d[0x7*0x331+-0x15df*0x1+0x39*-0x2],_0x43df65[0x20aa+0x3d*0x6d+-0x7c*0x79]=_0x42446d[0x1d11+0x1d*0x123+0x25*-0x1ad],_0x43df65[-0x252a*0x1+0x22b+0x93*0x3d]=_0x42446d[0x341*-0xb+0x9d*0x3+0xc*0x2d5],this;}['getX'](_0x37889e=new D()){return _0x37889e['set'](this['data'][-0x1b52+-0x260d+0x415f],this['data'][0x591+0xc7+0x3*-0x21d],this['data'][-0x444*0x6+-0x1048+0x29e2]);}['getY'](_0x47c439=new D()){return _0x47c439['set'](this['data'][0x24de+0x1f62+-0x443d],this['data'][-0xa18+0xf68+-0x4*0x153],this['data'][-0x2513*0x1+-0x5bf+0x2ad7*0x1]);}['getZ'](_0x3cd24f=new D()){return _0x3cd24f['set'](this['data'][-0x1f11+0x1fb6+-0x9f],this['data'][0x67e+-0x2*-0x4a+-0x70b],this['data'][0xfd*0x1d+0x1a23+0x4*-0xdb1]);}['equals'](_0xa06125){const _0x15dd7f=this['data'],_0x40154e=_0xa06125['data'];return _0x15dd7f[0x23f8*-0x1+-0x73+0x246b]===_0x40154e[-0x1c09*0x1+0x4*0x1c1+0x1505]&&_0x15dd7f[0x1154+0x1d5f+-0x1*0x2eb2]===_0x40154e[0x17d2+-0xfb3+-0x81e]&&_0x15dd7f[-0x2*-0x653+-0x1d58+-0x42d*-0x4]===_0x40154e[0x59+-0x25d2+0x257b]&&_0x15dd7f[-0x14af+0x2*-0x825+0x24fc]===_0x40154e[0x1b57*-0x1+0x1ae2+0x8*0xf]&&_0x15dd7f[-0x50f*-0x3+0x1596+-0x24bf]===_0x40154e[-0x6dd+0x183*0x4+-0x1*-0xd5]&&_0x15dd7f[-0x1147*0x2+-0x15c9+0x385c]===_0x40154e[-0x594+-0xa77+-0x1*-0x1010]&&_0x15dd7f[-0x1d7d*-0x1+-0x1*-0x21f1+-0x3f68]===_0x40154e[0x101+-0xd*-0x26+-0x2e9*0x1]&&_0x15dd7f[0x191b*-0x1+-0x61*-0x4d+-0x40b]===_0x40154e[-0x12e+-0x595*0x5+0x1d1e]&&_0x15dd7f[-0x1*0x15cd+0x59f+-0x32*-0x53]===_0x40154e[-0xa*0x272+0xba2+-0x46*-0x2f];}['isIdentity'](){const _0x5caf68=this['data'];return _0x5caf68[-0xe73+-0x102c+0x1e9f]===-0x23*-0xed+-0x229c+0x236&&_0x5caf68[-0x79b+-0x10f+0x8ab]===-0x1*-0x1057+0x227f+0x12*-0x2d3&&_0x5caf68[-0xf97+-0x121f*0x1+0xd*0x298]===0x2*0x2af+0x1*0x19b2+-0x470*0x7&&_0x5caf68[-0x1078+0xb1c+0x55f]===0x1686+0x16*-0x62+0x2d2*-0x5&&_0x5caf68[0xec+-0x881+0x799]===0x157d*-0x1+-0x611*0x5+-0x1*-0x33d3&&_0x5caf68[0xcd4*0x1+-0x3a4*0x3+-0x1e3]===-0x1b*0x14b+-0x1*-0x8d4+-0x25f*-0xb&&_0x5caf68[0x1497+0x3e8+-0x1879]===-0x20e5+0x3b*0x8d+-0x6*-0x11&&_0x5caf68[0x1641*0x1+-0x19*-0xff+-0x27b*0x13]===0x19c2+0x2*0xf67+-0x3890&&_0x5caf68[-0x193*-0x9+-0x3*-0x209+-0x143e]===-0x2075+0x19d7+0xf*0x71;}['setIdentit'+'y'](){const _0x4cc5be=this['data'];return _0x4cc5be[-0x7ca*-0x2+-0x397*-0x5+-0x2187]=-0x998+0x12*0x10b+-0x105*0x9,_0x4cc5be[-0x363*0x8+-0x1*-0x9a2+0x1177]=0x1*-0x171b+0x1d5a+-0x63f,_0x4cc5be[0x1*0x136b+0x1*-0xffb+-0x36e]=-0x1d*-0x8e+0x15c6+-0x1*0x25dc,_0x4cc5be[-0x25cf+-0x2581*0x1+0x4b53]=0x1b16+-0x2158+0x642,_0x4cc5be[-0xa*-0x13a+0x17d4+0x120a*-0x2]=0x2c*0x5+0x3*-0x646+0x11f7,_0x4cc5be[0x114+-0xdef+0xce0]=0xa95+-0xc5f*0x1+-0xe5*-0x2,_0x4cc5be[-0x22f+0x1*0xb97+-0x962]=0x73b+0x11b*0x17+-0x20a8,_0x4cc5be[-0x139*0x9+0xda*-0x1c+0x1*0x22e0]=-0x2681*0x1+-0x119*0x23+-0x2*-0x2676,_0x4cc5be[-0xd53+0x1cd0+-0xf75]=0x3*0x38+-0x805*0x2+0xf63,this;}['toString'](){return'['+this['data']['join'](',\x20')+']';}['transpose'](_0x19523e=this){const _0x210baa=_0x19523e['data'],_0x5993d2=this['data'];if(_0x210baa===_0x5993d2){let _0x3e3a20;_0x3e3a20=_0x210baa[-0x1*0x1e71+0x8db+0x1597],_0x5993d2[0xa6f*-0x2+-0x1acd+-0xbeb*-0x4]=_0x210baa[-0x5ea*-0x2+0x3*-0x253+-0x26c*0x2],_0x5993d2[-0x3*-0x99c+-0x1*0xff9+-0x448*0x3]=_0x3e3a20,_0x3e3a20=_0x210baa[-0x2*0xaf7+0x1b*0x9c+0xd*0x6c],_0x5993d2[0x6b*0x7+0x18ad+-0x1b98]=_0x210baa[-0x3*-0x335+0x361*-0x1+-0x18e*0x4],_0x5993d2[-0x2*-0x164+-0x1*-0xc2f+-0xe1*0x11]=_0x3e3a20,_0x3e3a20=_0x210baa[0x7a*-0x26+-0x1*0x100c+0x222d],_0x5993d2[0x19*0x71+0x208a+0x8b6*-0x5]=_0x210baa[-0x22c5+-0x10f*-0x1f+0x1fb],_0x5993d2[0x11f5*-0x2+0x12aa*0x1+0x1147*0x1]=_0x3e3a20;}else _0x5993d2[0x10d3+0x7eb+0x18be*-0x1]=_0x210baa[0x16b1+0x6a0+-0x1d51],_0x5993d2[-0x791+-0x18f4+0x2086]=_0x210baa[-0x10ff*0x2+-0xcdf*-0x1+0x1522],_0x5993d2[0x19b7+-0x162c+0x5*-0xb5]=_0x210baa[-0xd65+0x23b7+-0x4*0x593],_0x5993d2[-0xad*-0x36+0x12d8+-0x3753]=_0x210baa[-0x1bf6+0x16f8+0x1*0x4ff],_0x5993d2[0x6b1+0x10cf*0x1+-0x177c]=_0x210baa[-0x119d+-0x1*-0x11e3+-0x42],_0x5993d2[0x10bb*0x2+0x1b5b+-0x3ccc*0x1]=_0x210baa[-0x8f8+0x1ba1+0xf*-0x13e],_0x5993d2[-0x18b6*-0x1+-0xae*0x27+-0xe9*-0x2]=_0x210baa[0x87c+-0x7a8+-0xd2],_0x5993d2[0x1ae9+0x1f7b+-0x1*0x3a5d]=_0x210baa[-0x1237+0x188a+0x2*-0x327],_0x5993d2[0xc99*-0x2+-0x18e7+0x3221]=_0x210baa[-0x95*0x1f+-0x7f2+0x1a05];return this;}['setFromMat'+'4'](_0x111e55){const _0x1e4b6c=_0x111e55['data'],_0x1f6c99=this['data'];return _0x1f6c99[0x1f9d+-0xcde*0x3+0x6fd]=_0x1e4b6c[-0xaa7+-0xc*-0x2f5+0x18d5*-0x1],_0x1f6c99[0x1*-0xd99+0xbb7+0x1e3]=_0x1e4b6c[0x8*0x4d7+-0x6b*-0x1f+0x33ac*-0x1],_0x1f6c99[-0x2*0x49a+0x16*0x32+0x275*0x2]=_0x1e4b6c[0x1*-0x1247+-0x144a+0x2693],_0x1f6c99[0x1eca+0x1457+-0x331e]=_0x1e4b6c[0x1*0x14b7+0xd5*-0x22+0x797],_0x1f6c99[-0x44e+-0x72c+0xb7e]=_0x1e4b6c[0x6da+-0x35d+0x18*-0x25],_0x1f6c99[-0x1f58+0x2154+-0x1f7*0x1]=_0x1e4b6c[-0x11d*-0x1d+-0x2197*0x1+0x154],_0x1f6c99[-0xb0f+0x8b2+0x263]=_0x1e4b6c[0x721*0x3+0x2652+-0x3bad],_0x1f6c99[0x27b+-0x2599+0x2325]=_0x1e4b6c[-0xc69+-0x2*0xbf6+-0x7*-0x532],_0x1f6c99[-0x114b+0x1343*-0x1+0xc32*0x3]=_0x1e4b6c[0x26d*-0x5+0x11e7+-0x5bc],this;}['setFromQua'+'t'](_0x51ac35){const _0x4bef8b=_0x51ac35['x'],_0x1e3eb1=_0x51ac35['y'],_0x41563d=_0x51ac35['z'],_0x330bcb=_0x51ac35['w'],_0x111d30=_0x4bef8b+_0x4bef8b,_0x1f0350=_0x1e3eb1+_0x1e3eb1,_0x20aa0e=_0x41563d+_0x41563d,_0x213130=_0x4bef8b*_0x111d30,_0x5f9741=_0x4bef8b*_0x1f0350,_0x3a3795=_0x4bef8b*_0x20aa0e,_0x21a459=_0x1e3eb1*_0x1f0350,_0x59ba60=_0x1e3eb1*_0x20aa0e,_0x468b81=_0x41563d*_0x20aa0e,_0x49378e=_0x330bcb*_0x111d30,_0x328e8c=_0x330bcb*_0x1f0350,_0x2b05f4=_0x330bcb*_0x20aa0e,_0x486e56=this['data'];return _0x486e56[0x1619+-0x5*-0x358+-0x26d1]=0x26a9+-0x1253+0x3*-0x6c7-(_0x21a459+_0x468b81),_0x486e56[-0xdda+-0x5a+-0xe35*-0x1]=_0x5f9741+_0x2b05f4,_0x486e56[-0xba8*-0x1+-0x2*-0x46d+-0x1480]=_0x3a3795-_0x328e8c,_0x486e56[-0x9cb*0x1+0x22f8+-0x192a]=_0x5f9741-_0x2b05f4,_0x486e56[0x15*-0xd7+0x232e+-0x1187]=0x65b*-0x4+0x2ef+0x167e-(_0x213130+_0x468b81),_0x486e56[0x1*0x1d79+-0x2460+0x6ec]=_0x59ba60+_0x49378e,_0x486e56[0x1f*-0x3d+-0x1078+0x17e1]=_0x3a3795+_0x328e8c,_0x486e56[-0x18e*-0x12+0x6cc+0x11f*-0x1f]=_0x59ba60-_0x49378e,_0x486e56[-0x4ef+0x1f96+-0x1a9f]=0x108b+0x401*-0x5+0x37b-(_0x213130+_0x21a459),this;}['invertMat4'](_0x12a607){const _0x8cb004=_0x12a607['data'],_0x1c418e=_0x8cb004[0x312*-0x7+0x2*-0x10e3+0x12*0x312],_0x2acccd=_0x8cb004[0x1*0x2437+0xd1*0x2b+-0x1*0x4751],_0x4e6ae5=_0x8cb004[0xa7f+0xe1+-0xb5e],_0x3cb6e7=_0x8cb004[0x1735+-0x1*0x2355+0x6*0x206],_0x285d70=_0x8cb004[0x1b*-0x16+-0x1a57+0x1cae],_0x4e8151=_0x8cb004[-0x1307+-0x1e5f+0x316c],_0x2b5aff=_0x8cb004[0x1297+-0x14e*-0x10+-0x276f*0x1],_0x3cb3de=_0x8cb004[-0x3*0x57b+-0x49*0x2b+0x1cbd],_0x5ad38f=_0x8cb004[-0x1f6f+-0xc*0x2cf+0x2f*0x163],_0x37ea31=_0x5ad38f*_0x285d70-_0x4e8151*_0x3cb3de,_0x523a7e=-_0x5ad38f*_0x2acccd+_0x4e6ae5*_0x3cb3de,_0x1fd231=_0x4e8151*_0x2acccd-_0x4e6ae5*_0x285d70,_0x25e268=-_0x5ad38f*_0x3cb6e7+_0x4e8151*_0x2b5aff,_0x588571=_0x5ad38f*_0x1c418e-_0x4e6ae5*_0x2b5aff,_0x26165d=-_0x4e8151*_0x1c418e+_0x4e6ae5*_0x3cb6e7,_0x5ba35b=_0x3cb3de*_0x3cb6e7-_0x285d70*_0x2b5aff,_0x54f531=-_0x3cb3de*_0x1c418e+_0x2acccd*_0x2b5aff,_0x5e83d8=_0x285d70*_0x1c418e-_0x2acccd*_0x3cb6e7,_0x3fa844=_0x1c418e*_0x37ea31+_0x2acccd*_0x25e268+_0x4e6ae5*_0x5ba35b;if(_0x3fa844===-0xa*0x1b8+0x5*-0x72b+0x3507)this['setIdentit'+'y']();else{const _0x4d5b0c=(-0x47*-0x4b+-0xffe+-0x7b*0xa)/_0x3fa844,_0x4d93af=this['data'];_0x4d93af[-0x551*-0x7+0x1f9*-0x2+-0xa7*0x33]=_0x37ea31*_0x4d5b0c,_0x4d93af[0x13e+-0xdca+-0x11*-0xbd]=_0x523a7e*_0x4d5b0c,_0x4d93af[0x10b*0x1b+-0x20*-0x85+0x2cc7*-0x1]=_0x1fd231*_0x4d5b0c,_0x4d93af[-0x2012+-0x2f6*-0x2+0x1a29]=_0x25e268*_0x4d5b0c,_0x4d93af[0x259b*-0x1+0x9c1*0x3+-0x42e*-0x2]=_0x588571*_0x4d5b0c,_0x4d93af[0x788+-0xaeb+0xda*0x4]=_0x26165d*_0x4d5b0c,_0x4d93af[0x162e*-0x1+-0x165f+0x2c93]=_0x5ba35b*_0x4d5b0c,_0x4d93af[0x1da4+0x22f7*0x1+-0x4094]=_0x54f531*_0x4d5b0c,_0x4d93af[-0x5*0x35+-0x1097*0x2+-0x1*-0x223f]=_0x5e83d8*_0x4d5b0c;}return this;}['transformV'+'ector'](_0x1782ce,_0x3d5ac1=new D()){const _0x291d89=this['data'],{x:_0x11e2b0,y:_0x5521df,z:_0x4fd904}=_0x1782ce;return _0x3d5ac1['x']=_0x11e2b0*_0x291d89[0xfc8+-0x1cb1+0xce9]+_0x5521df*_0x291d89[0x6*0x457+0x1d12+-0x3719]+_0x4fd904*_0x291d89[-0xb34+0x370+-0x2*-0x3e5],_0x3d5ac1['y']=_0x11e2b0*_0x291d89[0x2*-0x787+-0x184d+0x275c]+_0x5521df*_0x291d89[-0x3c9+-0x194f+0x1*0x1d1c]+_0x4fd904*_0x291d89[-0x26a7+-0x1*0x24cb+0x4b79],_0x3d5ac1['z']=_0x11e2b0*_0x291d89[-0x1*0x1ccc+0x6c*-0x2b+0xfa6*0x3]+_0x5521df*_0x291d89[0x6cc*-0x3+-0x3*-0x9d6+-0x919]+_0x4fd904*_0x291d89[0x14c*0x2+0x1234+-0x14c4],_0x3d5ac1;}};h(gn,'IDENTITY',Object['freeze'](new gn())),h(gn,'ZERO',Object['freeze'](new gn()['set']([0x2*-0x32f+-0x7*-0x2fb+0x3*-0x4d5,-0x2447+-0x2562+0x49a9,-0x10*0x155+0x2*-0xc4d+0x3*0xf4e,0x10*0x1c9+0x1*-0x1fcf+-0x33f*-0x1,-0x2190+-0x157+0x22e7,0x1*0x1b65+-0x943*-0x3+-0x372e,0x5*0x643+0x613+-0x16*0x1b3,-0x21d*0x3+0xaef+-0x498,-0x1*0x1841+-0x8b5+-0x2*-0x107b])));let _i=gn;const Gt=class Gt{constructor(_0x429b44=0x16*0xaf+-0x216e+0x1264,_0x4c2b4e=0x76c+-0x11b3*-0x1+-0x191f){h(this,'x'),h(this,'y'),_0x429b44['length']===-0x1951+-0x12e1+0x1*0x2c34?(this['x']=_0x429b44[0x34a+-0x2039+0x337*0x9],this['y']=_0x429b44[0xfe9+0x2*-0x4eb+-0xe*0x6f]):(this['x']=_0x429b44,this['y']=_0x4c2b4e);}['add'](_0x29fe38){return this['x']+=_0x29fe38['x'],this['y']+=_0x29fe38['y'],this;}['add2'](_0xd7ab2b,_0x2113a2){return this['x']=_0xd7ab2b['x']+_0x2113a2['x'],this['y']=_0xd7ab2b['y']+_0x2113a2['y'],this;}['addScalar'](_0x13e5e1){return this['x']+=_0x13e5e1,this['y']+=_0x13e5e1,this;}['addScaled'](_0x5ab403,_0x1927fa){return this['x']+=_0x5ab403['x']*_0x1927fa,this['y']+=_0x5ab403['y']*_0x1927fa,this;}['clone'](){const _0x62cd1f=this['constructo'+'r'];return new _0x62cd1f(this['x'],this['y']);}['copy'](_0x12903f){return this['x']=_0x12903f['x'],this['y']=_0x12903f['y'],this;}['cross'](_0x34b415){return this['x']*_0x34b415['y']-this['y']*_0x34b415['x'];}['distance'](_0x336d0b){const _0xf02317=this['x']-_0x336d0b['x'],_0x2a11cf=this['y']-_0x336d0b['y'];return Math['sqrt'](_0xf02317*_0xf02317+_0x2a11cf*_0x2a11cf);}['div'](_0x2c8abc){return this['x']/=_0x2c8abc['x'],this['y']/=_0x2c8abc['y'],this;}['div2'](_0x2ab34c,_0x6d678d){return this['x']=_0x2ab34c['x']/_0x6d678d['x'],this['y']=_0x2ab34c['y']/_0x6d678d['y'],this;}['divScalar'](_0x5ab3e1){return this['x']/=_0x5ab3e1,this['y']/=_0x5ab3e1,this;}['dot'](_0x5e78f8){return this['x']*_0x5e78f8['x']+this['y']*_0x5e78f8['y'];}['equals'](_0x230238){return this['x']===_0x230238['x']&&this['y']===_0x230238['y'];}['equalsAppr'+'ox'](_0x3fb9c8,_0x2e660e=-0xc45+0x8c6*0x1+0x1*0x37f+0.000001){return Math['abs'](this['x']-_0x3fb9c8['x'])<_0x2e660e&&Math['abs'](this['y']-_0x3fb9c8['y'])<_0x2e660e;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y'];}['lerp'](_0x5d317b,_0x2951ea,_0x4e678b){return this['x']=_0x5d317b['x']+_0x4e678b*(_0x2951ea['x']-_0x5d317b['x']),this['y']=_0x5d317b['y']+_0x4e678b*(_0x2951ea['y']-_0x5d317b['y']),this;}['mul'](_0x25df26){return this['x']*=_0x25df26['x'],this['y']*=_0x25df26['y'],this;}['mul2'](_0x4cec41,_0x4ce1fc){return this['x']=_0x4cec41['x']*_0x4ce1fc['x'],this['y']=_0x4cec41['y']*_0x4ce1fc['y'],this;}['mulScalar'](_0xcdce4c){return this['x']*=_0xcdce4c,this['y']*=_0xcdce4c,this;}['normalize'](_0x3e0174=this){const _0x5b9be1=_0x3e0174['x']*_0x3e0174['x']+_0x3e0174['y']*_0x3e0174['y'];if(_0x5b9be1>-0x467*-0x2+0x70+-0xe*0xa9){const _0x8e41c3=(0x1328*-0x1+-0x1600+-0x101*-0x29)/Math['sqrt'](_0x5b9be1);this['x']=_0x3e0174['x']*_0x8e41c3,this['y']=_0x3e0174['y']*_0x8e41c3;}return this;}['rotate'](_0x36d946){const _0x5982c1=Math['atan2'](this['x'],this['y'])+_0x36d946*Y['DEG_TO_RAD'],_0x502e54=Math['sqrt'](this['x']*this['x']+this['y']*this['y']);return this['x']=Math['sin'](_0x5982c1)*_0x502e54,this['y']=Math['cos'](_0x5982c1)*_0x502e54,this;}['angle'](){return Math['atan2'](this['x'],this['y'])*Y['RAD_TO_DEG'];}['angleTo'](_0x2c2c8b){return Math['atan2'](this['x']*_0x2c2c8b['y']+this['y']*_0x2c2c8b['x'],this['x']*_0x2c2c8b['x']+this['y']*_0x2c2c8b['y'])*Y['RAD_TO_DEG'];}['floor'](_0xa59189=this){return this['x']=Math['floor'](_0xa59189['x']),this['y']=Math['floor'](_0xa59189['y']),this;}['ceil'](_0x1946ea=this){return this['x']=Math['ceil'](_0x1946ea['x']),this['y']=Math['ceil'](_0x1946ea['y']),this;}['round'](_0x5cd1fb=this){return this['x']=Math['round'](_0x5cd1fb['x']),this['y']=Math['round'](_0x5cd1fb['y']),this;}['min'](_0x5d4c4b){return _0x5d4c4b['x']<this['x']&&(this['x']=_0x5d4c4b['x']),_0x5d4c4b['y']<this['y']&&(this['y']=_0x5d4c4b['y']),this;}['max'](_0x4e532d){return _0x4e532d['x']>this['x']&&(this['x']=_0x4e532d['x']),_0x4e532d['y']>this['y']&&(this['y']=_0x4e532d['y']),this;}['set'](_0x144403,_0x1a7cc2){return this['x']=_0x144403,this['y']=_0x1a7cc2,this;}['sub'](_0x2c92eb){return this['x']-=_0x2c92eb['x'],this['y']-=_0x2c92eb['y'],this;}['sub2'](_0x2226d2,_0x35715b){return this['x']=_0x2226d2['x']-_0x35715b['x'],this['y']=_0x2226d2['y']-_0x35715b['y'],this;}['subScalar'](_0x452b79){return this['x']-=_0x452b79,this['y']-=_0x452b79,this;}['fromArray'](_0x5508e0,_0x1fee42=0x1159*-0x1+0x13fa+0x2a1*-0x1){return this['x']=_0x5508e0[_0x1fee42]??this['x'],this['y']=_0x5508e0[_0x1fee42+(0x1482+0xb5+0xa*-0x21f)]??this['y'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+']';}['toArray'](_0x3abf74=[],_0x4b1cf7=-0x1930+-0x193f*-0x1+-0xf*0x1){return _0x3abf74[_0x4b1cf7]=this['x'],_0x3abf74[_0x4b1cf7+(-0x2*0xa55+0xef*0x1+-0x4ef*-0x4)]=this['y'],_0x3abf74;}static['angleRad'](_0x500fdb,_0x7d7bdb){return Math['atan2'](_0x500fdb['x']*_0x7d7bdb['y']-_0x500fdb['y']*_0x7d7bdb['x'],_0x500fdb['x']*_0x7d7bdb['x']+_0x500fdb['y']*_0x7d7bdb['y']);}};h(Gt,'ZERO',Object['freeze'](new Gt(-0xe68+0x17f*0x11+-0xb07,0x1*-0x129d+-0x269c+0x3939))),h(Gt,'HALF',Object['freeze'](new Gt(-0x1*0x4c7+0x11*-0x134+-0x3*-0x869+0.5,-0x137d*-0x2+0x2*0x67e+-0x33f6+0.5))),h(Gt,'ONE',Object['freeze'](new Gt(0x13*0x1b7+0x24e7+-0x9ed*0x7,-0x13c3+0xc1*-0x17+-0x7*-0x54d))),h(Gt,'UP',Object['freeze'](new Gt(0x40b*-0x3+-0x19ac+0x25cd,0x1fa2+-0x647*-0x2+-0x2c2f*0x1))),h(Gt,'DOWN',Object['freeze'](new Gt(-0x1d+-0x1*-0xb7d+0x4*-0x2d8,-(-0x17*-0xaa+-0x20b1+-0x116c*-0x1)))),h(Gt,'RIGHT',Object['freeze'](new Gt(0xf8a+-0x11d9+0x250,0x19dc+-0xb91*0x3+0x8d7*0x1))),h(Gt,'LEFT',Object['freeze'](new Gt(-(-0x1ff9+-0x1e36+0x3e30),-0x1*0x220f+0x75e+0x1ab1)));let J=Gt;const pr=class pr{constructor(_0x24fb62=0x2359+0x1494+-0x8b*0x67,_0x4120f6=0x26*-0x76+-0x174c+0x28d0,_0x2f727b=0x85*0x37+-0x1*-0xd0f+-0x2*0x14d1,_0x3ef3d2=-0xac5+0xbfb+-0x136*0x1){h(this,'x'),h(this,'y'),h(this,'z'),h(this,'w'),_0x24fb62['length']===0x2068+0x1427+0x1*-0x348b?(this['x']=_0x24fb62[0x5e*0x13+0x2697+0x2d91*-0x1],this['y']=_0x24fb62[-0x162e+-0x1220+0x1*0x284f],this['z']=_0x24fb62[0x223d+0xd*-0x283+0x2*-0xca],this['w']=_0x24fb62[0x21f1*-0x1+-0x7*0x269+0x32d3]):(this['x']=_0x24fb62,this['y']=_0x4120f6,this['z']=_0x2f727b,this['w']=_0x3ef3d2);}['add'](_0x57da7f){return this['x']+=_0x57da7f['x'],this['y']+=_0x57da7f['y'],this['z']+=_0x57da7f['z'],this['w']+=_0x57da7f['w'],this;}['add2'](_0x4fd331,_0x27c3cc){return this['x']=_0x4fd331['x']+_0x27c3cc['x'],this['y']=_0x4fd331['y']+_0x27c3cc['y'],this['z']=_0x4fd331['z']+_0x27c3cc['z'],this['w']=_0x4fd331['w']+_0x27c3cc['w'],this;}['addScalar'](_0x2bb014){return this['x']+=_0x2bb014,this['y']+=_0x2bb014,this['z']+=_0x2bb014,this['w']+=_0x2bb014,this;}['addScaled'](_0x1614ed,_0x16c356){return this['x']+=_0x1614ed['x']*_0x16c356,this['y']+=_0x1614ed['y']*_0x16c356,this['z']+=_0x1614ed['z']*_0x16c356,this['w']+=_0x1614ed['w']*_0x16c356,this;}['clone'](){const _0x2d8d4f=this['constructo'+'r'];return new _0x2d8d4f(this['x'],this['y'],this['z'],this['w']);}['copy'](_0xbfe12){return this['x']=_0xbfe12['x'],this['y']=_0xbfe12['y'],this['z']=_0xbfe12['z'],this['w']=_0xbfe12['w'],this;}['div'](_0x376e27){return this['x']/=_0x376e27['x'],this['y']/=_0x376e27['y'],this['z']/=_0x376e27['z'],this['w']/=_0x376e27['w'],this;}['div2'](_0x3be5f8,_0x1b9491){return this['x']=_0x3be5f8['x']/_0x1b9491['x'],this['y']=_0x3be5f8['y']/_0x1b9491['y'],this['z']=_0x3be5f8['z']/_0x1b9491['z'],this['w']=_0x3be5f8['w']/_0x1b9491['w'],this;}['divScalar'](_0x385fa9){return this['x']/=_0x385fa9,this['y']/=_0x385fa9,this['z']/=_0x385fa9,this['w']/=_0x385fa9,this;}['dot'](_0x27d097){return this['x']*_0x27d097['x']+this['y']*_0x27d097['y']+this['z']*_0x27d097['z']+this['w']*_0x27d097['w'];}['equals'](_0xe2e9e2){return this['x']===_0xe2e9e2['x']&&this['y']===_0xe2e9e2['y']&&this['z']===_0xe2e9e2['z']&&this['w']===_0xe2e9e2['w'];}['equalsAppr'+'ox'](_0x508813,_0xd741d9=0xb93*-0x1+-0x1*-0xe65+0x169*-0x2+0.000001){return Math['abs'](this['x']-_0x508813['x'])<_0xd741d9&&Math['abs'](this['y']-_0x508813['y'])<_0xd741d9&&Math['abs'](this['z']-_0x508813['z'])<_0xd741d9&&Math['abs'](this['w']-_0x508813['w'])<_0xd741d9;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x273b1b,_0x19534c,_0x1ea71e){return this['x']=_0x273b1b['x']+_0x1ea71e*(_0x19534c['x']-_0x273b1b['x']),this['y']=_0x273b1b['y']+_0x1ea71e*(_0x19534c['y']-_0x273b1b['y']),this['z']=_0x273b1b['z']+_0x1ea71e*(_0x19534c['z']-_0x273b1b['z']),this['w']=_0x273b1b['w']+_0x1ea71e*(_0x19534c['w']-_0x273b1b['w']),this;}['mul'](_0x4ce540){return this['x']*=_0x4ce540['x'],this['y']*=_0x4ce540['y'],this['z']*=_0x4ce540['z'],this['w']*=_0x4ce540['w'],this;}['mul2'](_0x1f5ac5,_0x4460c6){return this['x']=_0x1f5ac5['x']*_0x4460c6['x'],this['y']=_0x1f5ac5['y']*_0x4460c6['y'],this['z']=_0x1f5ac5['z']*_0x4460c6['z'],this['w']=_0x1f5ac5['w']*_0x4460c6['w'],this;}['mulScalar'](_0x3fa84c){return this['x']*=_0x3fa84c,this['y']*=_0x3fa84c,this['z']*=_0x3fa84c,this['w']*=_0x3fa84c,this;}['normalize'](_0x5b2cd3=this){const _0x1074f7=_0x5b2cd3['x']*_0x5b2cd3['x']+_0x5b2cd3['y']*_0x5b2cd3['y']+_0x5b2cd3['z']*_0x5b2cd3['z']+_0x5b2cd3['w']*_0x5b2cd3['w'];if(_0x1074f7>-0x2417+-0x17b5+0x3bcc){const _0x5e2c36=(-0x1cf6+-0x517*0x1+0x220e)/Math['sqrt'](_0x1074f7);this['x']=_0x5b2cd3['x']*_0x5e2c36,this['y']=_0x5b2cd3['y']*_0x5e2c36,this['z']=_0x5b2cd3['z']*_0x5e2c36,this['w']=_0x5b2cd3['w']*_0x5e2c36;}return this;}['floor'](_0x5d1507=this){return this['x']=Math['floor'](_0x5d1507['x']),this['y']=Math['floor'](_0x5d1507['y']),this['z']=Math['floor'](_0x5d1507['z']),this['w']=Math['floor'](_0x5d1507['w']),this;}['ceil'](_0x1504ec=this){return this['x']=Math['ceil'](_0x1504ec['x']),this['y']=Math['ceil'](_0x1504ec['y']),this['z']=Math['ceil'](_0x1504ec['z']),this['w']=Math['ceil'](_0x1504ec['w']),this;}['round'](_0x17d4ad=this){return this['x']=Math['round'](_0x17d4ad['x']),this['y']=Math['round'](_0x17d4ad['y']),this['z']=Math['round'](_0x17d4ad['z']),this['w']=Math['round'](_0x17d4ad['w']),this;}['min'](_0x3dc444){return _0x3dc444['x']<this['x']&&(this['x']=_0x3dc444['x']),_0x3dc444['y']<this['y']&&(this['y']=_0x3dc444['y']),_0x3dc444['z']<this['z']&&(this['z']=_0x3dc444['z']),_0x3dc444['w']<this['w']&&(this['w']=_0x3dc444['w']),this;}['max'](_0x23e2f9){return _0x23e2f9['x']>this['x']&&(this['x']=_0x23e2f9['x']),_0x23e2f9['y']>this['y']&&(this['y']=_0x23e2f9['y']),_0x23e2f9['z']>this['z']&&(this['z']=_0x23e2f9['z']),_0x23e2f9['w']>this['w']&&(this['w']=_0x23e2f9['w']),this;}['set'](_0x1dd135,_0x467ab6,_0x19a507,_0x27c379){return this['x']=_0x1dd135,this['y']=_0x467ab6,this['z']=_0x19a507,this['w']=_0x27c379,this;}['sub'](_0x538d70){return this['x']-=_0x538d70['x'],this['y']-=_0x538d70['y'],this['z']-=_0x538d70['z'],this['w']-=_0x538d70['w'],this;}['sub2'](_0x2cd36c,_0x342ce7){return this['x']=_0x2cd36c['x']-_0x342ce7['x'],this['y']=_0x2cd36c['y']-_0x342ce7['y'],this['z']=_0x2cd36c['z']-_0x342ce7['z'],this['w']=_0x2cd36c['w']-_0x342ce7['w'],this;}['subScalar'](_0x4bf0e8){return this['x']-=_0x4bf0e8,this['y']-=_0x4bf0e8,this['z']-=_0x4bf0e8,this['w']-=_0x4bf0e8,this;}['fromArray'](_0x41ec58,_0x34da83=-0xcc0+0x212f+-0x146f){return this['x']=_0x41ec58[_0x34da83]??this['x'],this['y']=_0x41ec58[_0x34da83+(-0x1c3d+-0x2cc*-0x2+0x16a6)]??this['y'],this['z']=_0x41ec58[_0x34da83+(-0x1*0x275+-0x5cd+0x844)]??this['z'],this['w']=_0x41ec58[_0x34da83+(-0x3*0x5ab+0x76a+0x2*0x4cd)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x4f0cb0=[],_0x252a61=0x1f*-0x3c+0x1afd+0x231*-0x9){return _0x4f0cb0[_0x252a61]=this['x'],_0x4f0cb0[_0x252a61+(-0xd6+-0xee8+0xfbf)]=this['y'],_0x4f0cb0[_0x252a61+(0x2505+0x193d+-0x60*0xa6)]=this['z'],_0x4f0cb0[_0x252a61+(0x2704+0x146b+-0x3b6c)]=this['w'],_0x4f0cb0;}};h(pr,'ZERO',Object['freeze'](new pr(0x1cd*0x11+-0x4*-0x32b+-0x2b49*0x1,-0x86f+0x2203+0x1994*-0x1,-0xae+-0x1637+0x16e5,-0x140+0x94*-0x32+0x1e28))),h(pr,'HALF',Object['freeze'](new pr(0x1a07+0x752*-0x3+-0x411+0.5,-0xcca+0xa97*0x1+0x1*0x233+0.5,-0xb*-0xff+-0x1b2*0xc+0x963+0.5,0xf3f+-0x29b+-0xca4*0x1+0.5))),h(pr,'ONE',Object['freeze'](new pr(-0xca6+-0xc74+0x191b*0x1,0xd20+0x1818+-0x2537,-0xa81*0x1+-0xc95*0x1+0x1717,0x1864+0x1429+-0x2c8c)));let re=pr;const to=new J(),Os=new D(),Js=new D(),ei=new D(),Hl=new D(),Qr=class Qr{constructor(){h(this,'data',new Float32Array(-0x1aa0+0x15e3+0x1*0x4cd)),this['data'][-0x141b*0x1+0x17+-0x2dc*-0x7]=this['data'][0x317*0x3+-0x2645+0x1d05]=this['data'][-0x3*0xb15+-0x2425+0x456e]=this['data'][-0x2201+0x1910*-0x1+0x58*0xac]=0x1fd8+-0xca4+-0x1333;}static['_getPerspe'+'ctiveHalfS'+'ize'](_0xffadb3,_0x52fa95,_0x484304,_0x485b90,_0x5cdd83){_0x5cdd83?(_0xffadb3['x']=_0x485b90*Math['tan'](_0x52fa95*Math['PI']/(0x3c4*-0x6+-0x1ce9+0x34e9)),_0xffadb3['y']=_0xffadb3['x']/_0x484304):(_0xffadb3['y']=_0x485b90*Math['tan'](_0x52fa95*Math['PI']/(0xbb0+-0x1*-0x248e+-0xda*0x37)),_0xffadb3['x']=_0xffadb3['y']*_0x484304);}['add2'](_0x9a5f8,_0x4535f9){const _0x2b1961=_0x9a5f8['data'],_0x2c13e9=_0x4535f9['data'],_0x1dc819=this['data'];return _0x1dc819[0xbad+-0x1*-0x649+0x1*-0x11f6]=_0x2b1961[0x9*-0x1a3+0x1836+-0x97b]+_0x2c13e9[0xfa9+-0x255f+0x15b6],_0x1dc819[-0xa22+-0x15*0x3f+0xf4e]=_0x2b1961[0x6f1*-0x1+0x1*-0xf4f+0x1641]+_0x2c13e9[-0x10*-0x7a+-0xdb8+0x1*0x619],_0x1dc819[-0x2*0x335+-0x15b4+0x1c20]=_0x2b1961[-0x1cea*0x1+0x1f*0xa8+-0x3d*-0x24]+_0x2c13e9[-0x22dd+0x22f0+-0x1*0x11],_0x1dc819[-0x1435*0x1+0x21d8+-0xda0]=_0x2b1961[0xd*-0x26b+-0x15ff+0x3571]+_0x2c13e9[0x33b*0x3+0x1*0x15b3+0x1*-0x1f61],_0x1dc819[-0x292*0x2+0xaf1*-0x2+0x1b0a]=_0x2b1961[-0x7fe+-0xa60+0x1262*0x1]+_0x2c13e9[0x88+-0x1da7+0x1d23],_0x1dc819[0x449+0x1be+0x602*-0x1]=_0x2b1961[-0x14c*0xb+-0x21d*0xc+0xc7*0x33]+_0x2c13e9[-0x1*-0x1b55+-0x336+-0xa*0x269],_0x1dc819[-0xede+0x1421+-0x53d]=_0x2b1961[-0x341*0x5+0xf2d+0x11e*0x1]+_0x2c13e9[0x1cd*0xd+0x33*0x79+0x2*-0x17bf],_0x1dc819[0x387*0x2+0x3e*-0x82+0x1*0x1875]=_0x2b1961[-0x13*0x56+0x16b2+0x17b*-0xb]+_0x2c13e9[0x3*-0xa84+0x25b7+-0x624],_0x1dc819[-0x82*-0x41+0x3f*-0x3b+-0x1275]=_0x2b1961[-0x21f9+0xc8e+0x1573]+_0x2c13e9[0x2009+-0x1ad9*0x1+-0x528],_0x1dc819[-0x2281+0xd4*0x13+0x12ce]=_0x2b1961[0x152+-0x1e97+-0xf2*-0x1f]+_0x2c13e9[-0x1f5a+0xa82+-0x5*-0x42d],_0x1dc819[-0x239f+0x2e*-0xd0+-0x1*-0x4909]=_0x2b1961[-0x4*0x48b+-0x67*0x35+0x2789]+_0x2c13e9[0x134a+-0x2110+0xdd0],_0x1dc819[-0x1*0x16cf+0x1*-0x1867+0x1*0x2f41]=_0x2b1961[0x21b0+-0xe19*-0x1+0x12*-0x2a7]+_0x2c13e9[-0x1de+-0xb*0x24a+0x1*0x1b17],_0x1dc819[-0x58e+0x975+-0x3db]=_0x2b1961[0x2424+0x733+-0x2b4b]+_0x2c13e9[0x1*0x21ca+-0x1cec+-0x4d2],_0x1dc819[-0x1b*0x36+-0x10*-0x83+-0x271]=_0x2b1961[0x9e*0xb+0x7*0x3d+0x4*-0x21a]+_0x2c13e9[0x1*-0xfa3+-0x2*-0xeef+-0xe2e],_0x1dc819[0x15d1+0xca8+-0x226b]=_0x2b1961[-0xae6+-0xe*-0x178+-0xa4*0xf]+_0x2c13e9[0xfe9*-0x1+-0xc17+0x1c0e],_0x1dc819[-0x1ef1+-0x8f*0x7+-0x22e9*-0x1]=_0x2b1961[-0x1*-0x1ea8+0x671*-0x5+0x67*0x4]+_0x2c13e9[-0x1886+0xa3a+-0xaf*-0x15],this;}['add'](_0x52f50c){return this['add2'](this,_0x52f50c);}['clone'](){const _0x1e06a2=this['constructo'+'r'];return new _0x1e06a2()['copy'](this);}['copy'](_0x3db6e3){const _0x452f73=_0x3db6e3['data'],_0x393a92=this['data'];return _0x393a92[0x1*0x95c+-0x11*-0x229+0x2f*-0xfb]=_0x452f73[0x2*0x7aa+-0x2*0x17d+-0xc5a],_0x393a92[-0x1413+0x3*0xb99+-0xeb7]=_0x452f73[0x5e4+0xb14*0x3+-0x271f],_0x393a92[-0x16f7+-0x1*-0x123e+0xad*0x7]=_0x452f73[0x1e64+-0x85*-0x4+-0x2076],_0x393a92[0x425*0x1+0xa83+-0xa3*0x17]=_0x452f73[0x258e+0x17f5+-0x3*0x1480],_0x393a92[-0x4*-0x59f+-0x3b*0x7b+0x7*0xd7]=_0x452f73[0x1*0x21bf+-0x1a5e+0x5*-0x179],_0x393a92[0x1f0b*-0x1+0x21b+0x1cf5]=_0x452f73[0x1196+-0x8cd+0x33*-0x2c],_0x393a92[0xa94*-0x1+0x83f*-0x2+0x1b18]=_0x452f73[-0x8b*-0x1+-0xd33+0xcae],_0x393a92[0x1b92+0x1aaa+-0x3635]=_0x452f73[-0x264d+0x13a3+-0x3*-0x63b],_0x393a92[-0x8d*0x1e+-0x1bb6+0x2c44]=_0x452f73[0x1fab+0x241*-0x10+0x46d],_0x393a92[-0x50e+-0x1*0x67+0x57e]=_0x452f73[0x20d5+-0x2085+-0x47*0x1],_0x393a92[-0x1927+0x88f*0x3+-0x7c]=_0x452f73[0x1226+0x4d*0x67+-0x3117],_0x393a92[0x17bf*0x1+0x236b*-0x1+-0x1*-0xbb7]=_0x452f73[0x5*-0x2c6+-0xb3*0x1+0xe9c],_0x393a92[0xc32+0x9ff+-0x1625]=_0x452f73[0x15*-0x1b1+0x213a+-0x257*-0x1],_0x393a92[-0xf2f+0x5ad*0x5+-0xd25]=_0x452f73[-0xdb8+0x218c+-0x53*0x3d],_0x393a92[-0x1316+-0x19dd+-0x2d01*-0x1]=_0x452f73[-0xb73+0x1*0x16dd+-0xb5c],_0x393a92[0x41*0x2+-0x1f9+-0x1a*-0xf]=_0x452f73[-0x84d+-0x4*0x8ed+0x2c10],this;}['equals'](_0x397524){const _0x58da11=this['data'],_0x4d52e1=_0x397524['data'];return _0x58da11[-0x1d9+-0x159c+0x4b1*0x5]===_0x4d52e1[0x23b7+-0x1*-0x2112+0x1*-0x44c9]&&_0x58da11[-0x176f+-0x99f+0x210f]===_0x4d52e1[0x1eb9+0x1677+0x1*-0x352f]&&_0x58da11[-0x1f*-0xfb+0x1cb2+-0x3b15]===_0x4d52e1[0x21ca+-0x1*-0x20e7+-0x42af]&&_0x58da11[0x187a+0x10c5+-0x293c]===_0x4d52e1[-0x2445*0x1+-0x1*-0x1892+0x2*0x5db]&&_0x58da11[0xed6+-0x1811+0x3*0x315]===_0x4d52e1[-0x1ff3+0x1d6d+-0x1a*-0x19]&&_0x58da11[-0xd2b*-0x2+0x30*-0x9d+0x31f]===_0x4d52e1[-0x1763+-0x4b*-0x2f+0x9a3]&&_0x58da11[-0xa8e+0x2*0x917+-0x79a]===_0x4d52e1[-0x1*-0x2171+-0x4b*-0x5a+-0x3bc9]&&_0x58da11[0xb1+0x1b5f+-0x1c09]===_0x4d52e1[-0x168c+-0x17f2+-0x2e85*-0x1]&&_0x58da11[-0x1b+0x935*-0x1+0x958]===_0x4d52e1[0x22ad+0x1*0x85f+0xac1*-0x4]&&_0x58da11[0x22c*-0x11+-0x624+0x2b19]===_0x4d52e1[0x9*0x35d+0x1013+-0x5*0x943]&&_0x58da11[-0x13*-0x43+-0x2216+0x1d27]===_0x4d52e1[-0x2139+0x1603+0xb40]&&_0x58da11[0x29*0x3d+-0x271+0x1*-0x749]===_0x4d52e1[0x8f4+-0x229*-0xc+-0x22d5*0x1]&&_0x58da11[0xb25*-0x3+0xcc5*0x2+-0x1*-0x7f1]===_0x4d52e1[0x1d3c+-0xb*0x231+-0x1*0x515]&&_0x58da11[0x19ba+-0x25*-0xdb+-0x3954]===_0x4d52e1[0x344*-0x5+0x5*0x2c5+0x288]&&_0x58da11[0x1297*-0x1+0xa4d+0x8*0x10b]===_0x4d52e1[-0x94+0x24bd+-0x241b]&&_0x58da11[-0x1*0x3cb+-0xe1b+0x1*0x11f5]===_0x4d52e1[-0x1*0x23f6+-0x1e4b+0x2*0x2128];}['isIdentity'](){const _0x164580=this['data'];return _0x164580[0xffe*-0x1+-0x96*-0x38+0x10d2*-0x1]===-0x23e8+0x1a8c+0x8d*0x11&&_0x164580[-0x95f+-0x3*0x1f1+-0x511*-0x3]===-0xa76*0x3+-0x1519+0x347b&&_0x164580[0x12b4+0x1c1*-0x9+-0x2e9]===-0x1*-0xf7e+-0x20cc+0x114e&&_0x164580[0x5*-0x4d+0x12f+-0x11*-0x5]===-0xd*0x1c+-0xf68+0x10d4&&_0x164580[0x1*0x3fa+0x241d+0x2813*-0x1]===0xa9e+-0x1*-0x883+-0x1321&&_0x164580[-0x1af6+0x3c9*0x3+0x28*0x64]===0x207c+0x1666+-0x36e1&&_0x164580[-0xad*0x7+0x16*-0x77+0xefb]===-0x1fe4+-0x1*0x5c9+0x3*0xc8f&&_0x164580[-0x37*0x79+-0x1f2b+0x3931]===0x215d+0x1*-0x254d+-0x2a*-0x18&&_0x164580[0x1745+0x9f*0x1b+-0x12*0x239]===0x18*0xd1+-0x4a5+-0xef3&&_0x164580[-0x2*0x5e+-0xe69+0xf2e]===0x2165*0x1+0x4*0x3ad+0x1*-0x3019&&_0x164580[0xfa3+0x2*0x149+-0x122b]===0x7*-0x263+-0x89*-0x1+0x102d&&_0x164580[0x72f+-0x13d8+-0xcb4*-0x1]===0x5b*-0x65+0x1bf5+0x71*0x12&&_0x164580[-0xa9c+0x17*0x15d+-0x14b3]===0x3df*-0x5+0x20d6+-0xcb*0x11&&_0x164580[0x205f*0x1+0x15f3+-0x3645]===0x20cb+0x7e6+-0x28b1&&_0x164580[-0x8c2+0x2650*-0x1+0x2f20]===-0x275+0x1*-0xfc4+0x1239&&_0x164580[0x11*0x25+0x5*-0x584+0x192e]===0xcc4+0x777+0x2*-0xa1d;}['mul2'](_0x2b32e0,_0x2a49d0){const _0x176cac=_0x2b32e0['data'],_0x1b3d7a=_0x2a49d0['data'],_0x2cb58d=this['data'],_0x12141b=_0x176cac[-0x6*0x311+0xb*0x2cd+-0x3*0x423],_0x4c821e=_0x176cac[0x1a25+-0x159d+0x13*-0x3d],_0x515844=_0x176cac[0xb*0x2f6+-0x1d08+-0x388],_0x49e026=_0x176cac[-0xa*0xfd+-0x1cdf+0x26c4],_0x1260db=_0x176cac[-0x1e40+0x84*-0x31+0x3788],_0xcc8f1a=_0x176cac[0x15bc+0x2c*-0xb6+0x991],_0x8c11f2=_0x176cac[0x7*0x271+0xd0e+-0x1e1f],_0x11afb5=_0x176cac[0x2600+0x8cf+-0x7cc*0x6],_0x175765=_0x176cac[-0x813+-0x47c*-0x1+0x9*0x67],_0x106ef1=_0x176cac[0x1118+0xd*-0x1f5+0x1*0x862],_0x3ec9c6=_0x176cac[-0xb*0xf8+-0x281*0x2+0xfb4],_0x8600e1=_0x176cac[0xc14+-0x1*0x8f4+0x107*-0x3],_0x202301=_0x176cac[0x0+0x1*-0x1439+0x1445],_0x1e5280=_0x176cac[0x1920+0x1*-0x1565+-0x13a*0x3],_0x32d0b0=_0x176cac[-0x112*-0xb+-0x118a+0x5*0x12a],_0x29970d=_0x176cac[0xd*-0x2b4+-0x2557+0x488a];let _0x1dd483,_0x1aa874,_0x14afa4,_0x2954ff;return _0x1dd483=_0x1b3d7a[0xd8d*-0x1+0x29*0x63+-0x24e],_0x1aa874=_0x1b3d7a[0xad9+-0xb8+-0xa20],_0x14afa4=_0x1b3d7a[-0x1*-0x177c+-0x1927+0x1ad],_0x2954ff=_0x1b3d7a[0x5*-0x238+0x5d*-0x3b+-0x11*-0x1ea],_0x2cb58d[-0x1a03+0x63c+-0x53*-0x3d]=_0x12141b*_0x1dd483+_0x1260db*_0x1aa874+_0x175765*_0x14afa4+_0x202301*_0x2954ff,_0x2cb58d[-0x15be+-0xe05+0x23c4]=_0x4c821e*_0x1dd483+_0xcc8f1a*_0x1aa874+_0x106ef1*_0x14afa4+_0x1e5280*_0x2954ff,_0x2cb58d[-0x1f3b+-0x115e+-0x17*-0x21d]=_0x515844*_0x1dd483+_0x8c11f2*_0x1aa874+_0x3ec9c6*_0x14afa4+_0x32d0b0*_0x2954ff,_0x2cb58d[0x1506+0xed1+-0x23d4]=_0x49e026*_0x1dd483+_0x11afb5*_0x1aa874+_0x8600e1*_0x14afa4+_0x29970d*_0x2954ff,_0x1dd483=_0x1b3d7a[0x41*0x45+0x830+0x1*-0x19b1],_0x1aa874=_0x1b3d7a[-0x8*-0xfe+-0x43b+-0x3b0],_0x14afa4=_0x1b3d7a[-0x2a*0xbf+0x1815+0x3*0x26d],_0x2954ff=_0x1b3d7a[0x1*-0x25f+0x112a*-0x2+-0x2*-0x125d],_0x2cb58d[-0x2238+0xe67*0x1+0x1*0x13d5]=_0x12141b*_0x1dd483+_0x1260db*_0x1aa874+_0x175765*_0x14afa4+_0x202301*_0x2954ff,_0x2cb58d[0x5f6+0x1*0x2151+-0x32*0xc9]=_0x4c821e*_0x1dd483+_0xcc8f1a*_0x1aa874+_0x106ef1*_0x14afa4+_0x1e5280*_0x2954ff,_0x2cb58d[0x16a9+-0x3d*0x97+-0xe*-0xf4]=_0x515844*_0x1dd483+_0x8c11f2*_0x1aa874+_0x3ec9c6*_0x14afa4+_0x32d0b0*_0x2954ff,_0x2cb58d[-0x6ac+0x52d+0x82*0x3]=_0x49e026*_0x1dd483+_0x11afb5*_0x1aa874+_0x8600e1*_0x14afa4+_0x29970d*_0x2954ff,_0x1dd483=_0x1b3d7a[-0x1d3*0x2+0x11e8+-0xe3a*0x1],_0x1aa874=_0x1b3d7a[-0x6e*-0x30+-0xd01+0x796*-0x1],_0x14afa4=_0x1b3d7a[-0x2079+0xe01+0xce*0x17],_0x2954ff=_0x1b3d7a[-0x1997*-0x1+0x8*-0x43a+0x844],_0x2cb58d[0x12b3*0x1+-0x1dfc+0xb51*0x1]=_0x12141b*_0x1dd483+_0x1260db*_0x1aa874+_0x175765*_0x14afa4+_0x202301*_0x2954ff,_0x2cb58d[-0x7cd+0x1271+-0xa9b]=_0x4c821e*_0x1dd483+_0xcc8f1a*_0x1aa874+_0x106ef1*_0x14afa4+_0x1e5280*_0x2954ff,_0x2cb58d[-0x56*0x2c+0x26f1+-0x5*0x4d3]=_0x515844*_0x1dd483+_0x8c11f2*_0x1aa874+_0x3ec9c6*_0x14afa4+_0x32d0b0*_0x2954ff,_0x2cb58d[-0x12ec*-0x1+-0x1ec+-0x10f5]=_0x49e026*_0x1dd483+_0x11afb5*_0x1aa874+_0x8600e1*_0x14afa4+_0x29970d*_0x2954ff,_0x1dd483=_0x1b3d7a[0x26da+0x5*0x6d3+-0x15*0x379],_0x1aa874=_0x1b3d7a[0x2*-0x114d+0xcc5*0x1+0x15e2],_0x14afa4=_0x1b3d7a[0x3*0x527+0x49*0x4a+-0x2481],_0x2954ff=_0x1b3d7a[-0x37c+-0x58f*-0x3+-0xd22],_0x2cb58d[0x2411+0xc5*0x1c+0x3991*-0x1]=_0x12141b*_0x1dd483+_0x1260db*_0x1aa874+_0x175765*_0x14afa4+_0x202301*_0x2954ff,_0x2cb58d[0x419*-0x4+-0x22ee+0x335f*0x1]=_0x4c821e*_0x1dd483+_0xcc8f1a*_0x1aa874+_0x106ef1*_0x14afa4+_0x1e5280*_0x2954ff,_0x2cb58d[0xad9*-0x1+-0x1*0x1ec1+-0x7c*-0x56]=_0x515844*_0x1dd483+_0x8c11f2*_0x1aa874+_0x3ec9c6*_0x14afa4+_0x32d0b0*_0x2954ff,_0x2cb58d[-0x86a*0x1+0x1c8f+-0x1416]=_0x49e026*_0x1dd483+_0x11afb5*_0x1aa874+_0x8600e1*_0x14afa4+_0x29970d*_0x2954ff,this;}['mulAffine2'](_0xe1bd10,_0x384369){const _0xfcdd31=_0xe1bd10['data'],_0x34265c=_0x384369['data'],_0xa1995c=this['data'],_0x6865a2=_0xfcdd31[0x2375+0x179b+-0x3b10*0x1],_0x56a58a=_0xfcdd31[-0x87*-0x2+0x10dd+-0x11ea],_0x130239=_0xfcdd31[-0x2296+0x8a1*-0x3+0x27*0x18d],_0x79fefd=_0xfcdd31[-0xc5f+0x8*0x12+0xbd3],_0x47a945=_0xfcdd31[-0x123*0xb+-0x15a1+-0x7*-0x4e1],_0x3d18db=_0xfcdd31[0x256a+-0x39a+-0x32*0xad],_0x23ce5a=_0xfcdd31[0x182d+0x1952+-0xbd*0x43],_0x32643c=_0xfcdd31[-0x2c2+0x2440+-0x2175],_0x1723b1=_0xfcdd31[-0x213f+-0x1*0x1893+0x39dc],_0x6f8076=_0xfcdd31[-0x13b0+0x147*0x4+0xea0],_0x1e498e=_0xfcdd31[-0x2d0+0xe*0x1b8+-0x51*0x43],_0x244a5e=_0xfcdd31[0x2*-0xd5+-0x15c*0x1a+0x10*0x251];let _0x3c0417,_0x126dfa,_0x1ade37;return _0x3c0417=_0x34265c[-0x12fc+0x715*0x2+0x4d2],_0x126dfa=_0x34265c[-0xf5e+-0x3bf*-0xa+-0x1617],_0x1ade37=_0x34265c[-0x1957+0x20dd*0x1+0x784*-0x1],_0xa1995c[0xc1*-0x8+-0x359*-0x3+-0x403]=_0x6865a2*_0x3c0417+_0x79fefd*_0x126dfa+_0x23ce5a*_0x1ade37,_0xa1995c[-0x37*0x8e+-0x26f1+0x4574]=_0x56a58a*_0x3c0417+_0x47a945*_0x126dfa+_0x32643c*_0x1ade37,_0xa1995c[0x134f+0x51d+-0x186a]=_0x130239*_0x3c0417+_0x3d18db*_0x126dfa+_0x1723b1*_0x1ade37,_0xa1995c[-0x1eed+-0x4a3+0x515*0x7]=0x2526+0x139e+-0x38c4,_0x3c0417=_0x34265c[-0x210a+0x336+0x1dd8],_0x126dfa=_0x34265c[0x1cb+-0xc4a+-0x542*-0x2],_0x1ade37=_0x34265c[-0x1d2*-0x15+-0x1*-0x1004+0xa*-0x56c],_0xa1995c[-0x260f*-0x1+-0x1703+-0xf08]=_0x6865a2*_0x3c0417+_0x79fefd*_0x126dfa+_0x23ce5a*_0x1ade37,_0xa1995c[-0xb25*0x1+0xdab*-0x1+0x18d5]=_0x56a58a*_0x3c0417+_0x47a945*_0x126dfa+_0x32643c*_0x1ade37,_0xa1995c[0x9da*-0x2+-0x193*-0xb+0x269]=_0x130239*_0x3c0417+_0x3d18db*_0x126dfa+_0x1723b1*_0x1ade37,_0xa1995c[0xc6f*0x3+-0x5f*-0x56+-0x4530]=0x2*0x32c+-0xe48+0x7f0,_0x3c0417=_0x34265c[0x181f+0x1*-0x16c+-0x16ab],_0x126dfa=_0x34265c[-0xf35*-0x2+-0x4*-0x105+-0x2275],_0x1ade37=_0x34265c[0x220e+-0x2014+0x4*-0x7c],_0xa1995c[-0xe4b+0x875+0x2ef*0x2]=_0x6865a2*_0x3c0417+_0x79fefd*_0x126dfa+_0x23ce5a*_0x1ade37,_0xa1995c[-0x1*-0x313+0x10a3+0x13ad*-0x1]=_0x56a58a*_0x3c0417+_0x47a945*_0x126dfa+_0x32643c*_0x1ade37,_0xa1995c[-0x16a2+-0x1*-0x1b69+-0x4bd]=_0x130239*_0x3c0417+_0x3d18db*_0x126dfa+_0x1723b1*_0x1ade37,_0xa1995c[0x650+-0x1*-0x1ded+-0x1*0x2432]=0x1cd8+-0x1170+0xa*-0x124,_0x3c0417=_0x34265c[-0x170a+0x1*0x1d91+0x15*-0x4f],_0x126dfa=_0x34265c[-0x1*-0x53+-0xe*0x259+0x2098],_0x1ade37=_0x34265c[-0xfb3*-0x1+-0xe1+-0xec4],_0xa1995c[0x1*0x377+-0x1*0xcca+0x95f*0x1]=_0x6865a2*_0x3c0417+_0x79fefd*_0x126dfa+_0x23ce5a*_0x1ade37+_0x6f8076,_0xa1995c[-0xa9+0x961+-0x8ab*0x1]=_0x56a58a*_0x3c0417+_0x47a945*_0x126dfa+_0x32643c*_0x1ade37+_0x1e498e,_0xa1995c[0x233a+0x14*0xb+0x481*-0x8]=_0x130239*_0x3c0417+_0x3d18db*_0x126dfa+_0x1723b1*_0x1ade37+_0x244a5e,_0xa1995c[0x21c8+-0x13ca+0x29*-0x57]=-0x49*-0xd+-0x2321+0x1f6d,this;}['mul'](_0x262681){return this['mul2'](this,_0x262681);}['transformP'+'oint'](_0x1ff295,_0x32b82a=new D()){const _0xb640f2=this['data'],{x:_0x1bdbf8,y:_0x71bef3,z:_0x236cca}=_0x1ff295;return _0x32b82a['x']=_0x1bdbf8*_0xb640f2[0x1958+-0x1511+-0xf*0x49]+_0x71bef3*_0xb640f2[-0x18d8+0xc5e+0xc7e]+_0x236cca*_0xb640f2[-0x1730+0x1e2c+-0x6f4]+_0xb640f2[0x1*0x2488+-0xdc1+-0x211*0xb],_0x32b82a['y']=_0x1bdbf8*_0xb640f2[-0xedc*-0x1+-0xfdd+0x6*0x2b]+_0x71bef3*_0xb640f2[-0x1c9*-0xe+-0x1*-0x923+-0x221c]+_0x236cca*_0xb640f2[-0x1a9f+0x109a+0xa0e]+_0xb640f2[0x264a+0x8b9+0x2*-0x177b],_0x32b82a['z']=_0x1bdbf8*_0xb640f2[0x1e99+-0x6cb+-0xbe6*0x2]+_0x71bef3*_0xb640f2[-0x3*-0xb3a+-0x1*0x1c0b+-0x1df*0x3]+_0x236cca*_0xb640f2[0x1646+0x1bac+-0x31e8]+_0xb640f2[0x1*0x2267+0x9*-0x41+-0x2010],_0x32b82a;}['transformV'+'ector'](_0x143b16,_0x3a0ab1=new D()){const _0x169b19=this['data'],{x:_0x1b14c1,y:_0x281cdd,z:_0x293df4}=_0x143b16;return _0x3a0ab1['x']=_0x1b14c1*_0x169b19[0x121+-0x2302+0x21e1]+_0x281cdd*_0x169b19[-0x17d1+-0x2381+0x3b56]+_0x293df4*_0x169b19[-0x1*0x53f+-0x5f3*-0x3+-0xc92],_0x3a0ab1['y']=_0x1b14c1*_0x169b19[0x13b5+-0x6f7*-0x3+-0x2899]+_0x281cdd*_0x169b19[0x1eeb+-0x1ac3*-0x1+-0x39a9]+_0x293df4*_0x169b19[-0x1*-0xef+0x5*0x1c9+-0x9d3*0x1],_0x3a0ab1['z']=_0x1b14c1*_0x169b19[-0x231*-0x11+0xd58+-0x1*0x3297]+_0x281cdd*_0x169b19[0x26ad+-0x1eb3+0x7f4*-0x1]+_0x293df4*_0x169b19[0x9*0xf1+0x1f4d+-0x1*0x27bc],_0x3a0ab1;}['transformV'+'ec4'](_0x110013,_0x4612d5=new re()){const _0x5f2526=this['data'],{x:_0x599e63,y:_0x542c85,z:_0x49136e,w:_0x398fd2}=_0x110013;return _0x4612d5['x']=_0x599e63*_0x5f2526[-0x14da+-0x3cb*-0x8+-0x5*0x1e6]+_0x542c85*_0x5f2526[-0x1004+0x10*0x1d5+-0xd48]+_0x49136e*_0x5f2526[0x49*-0xb+-0x98*-0x3+0x163]+_0x398fd2*_0x5f2526[0x1e59*0x1+-0x1*0x652+-0x17fb],_0x4612d5['y']=_0x599e63*_0x5f2526[-0xfc4*0x2+0x1*0xeef+0x109a*0x1]+_0x542c85*_0x5f2526[-0x1046*0x1+-0x21be+0x3209*0x1]+_0x49136e*_0x5f2526[-0x163b+-0xf*0x22b+0x36c9]+_0x398fd2*_0x5f2526[-0x1*-0x151+0x1ad0+-0x1c14],_0x4612d5['z']=_0x599e63*_0x5f2526[0x26c4+0x2e+-0x26f0]+_0x542c85*_0x5f2526[0x1d2*0x1+0x853+0x1*-0xa1f]+_0x49136e*_0x5f2526[-0x1bbc+-0x574+0x213a]+_0x398fd2*_0x5f2526[-0x78*0x43+0x13f3+0xb83],_0x4612d5['w']=_0x599e63*_0x5f2526[0x1027+-0x240f+0x13eb]+_0x542c85*_0x5f2526[0x3*0x7bb+-0x681+-0x10a9]+_0x49136e*_0x5f2526[-0x4f*0xd+-0xf4d+0x135b]+_0x398fd2*_0x5f2526[-0x1*-0x3fa+-0x24a5+0x1*0x20ba],_0x4612d5;}['setLookAt'](_0xcf628c,_0x13112e,_0x33c404){ei['sub2'](_0xcf628c,_0x13112e)['normalize'](),Js['copy'](_0x33c404)['normalize'](),Os['cross'](Js,ei)['normalize'](),Js['cross'](ei,Os);const _0x40edce=this['data'];return _0x40edce[-0x20e6*0x1+0x2307+-0x221]=Os['x'],_0x40edce[-0x473+-0x137*-0x19+-0x19eb]=Os['y'],_0x40edce[-0x43*-0x56+0x3*0xacc+-0x36e4]=Os['z'],_0x40edce[0x297+0x1c1*-0x13+0x1ebf*0x1]=0x527*0x7+0x2249*-0x1+-0x1c8,_0x40edce[-0x1e2d+0x2*-0xec+0x2009]=Js['x'],_0x40edce[-0x205*0x4+0x5eb*-0x6+-0xe89*-0x3]=Js['y'],_0x40edce[-0x1f8b+-0x16eb*-0x1+-0x9*-0xf6]=Js['z'],_0x40edce[-0x30c+-0x3*-0x97a+-0x195b]=0x17b9+-0x1b*-0xe5+-0x2fe0*0x1,_0x40edce[-0x1*0x76+0xe05+-0xd87]=ei['x'],_0x40edce[0xf72+-0x1255+0x2ec]=ei['y'],_0x40edce[-0x19a5+-0x4d9+-0x1e88*-0x1]=ei['z'],_0x40edce[0x2*-0x9fd+0x106c+0x399]=0x1a39+-0x1*-0x94f+0x2f6*-0xc,_0x40edce[-0x52f*-0x7+0x5*-0x78d+-0x2*-0xc2]=_0xcf628c['x'],_0x40edce[-0x25cd+0x1fb6+-0x20c*-0x3]=_0xcf628c['y'],_0x40edce[-0x22fd+0x23b6+-0xab]=_0xcf628c['z'],_0x40edce[0xa3e*0x2+0x244a+-0x38b7]=-0x21*-0x9e+-0xd*-0x179+-0x1*0x2782,this;}['setFrustum'](_0x499727,_0x562481,_0x4eee95,_0x4954a2,_0x2c9e72,_0x378607){const _0x2b6f60=(0x58a*-0x7+-0x254f*0x1+0x4c17)*_0x2c9e72,_0x35047b=_0x562481-_0x499727,_0xcd4b8a=_0x4954a2-_0x4eee95,_0x4dda4e=_0x378607-_0x2c9e72,_0x3c584b=this['data'];return _0x3c584b[0x1031+0x139f+-0x47a*0x8]=_0x2b6f60/_0x35047b,_0x3c584b[-0x1*0xc34+-0x7*0x1df+-0x52*-0x4f]=0x494+0x449*-0x9+0x317*0xb,_0x3c584b[0x1*0xb07+-0x39*0xa1+-0x4*-0x635]=-0x1c59+0xc+0x1c4d,_0x3c584b[0x56c+-0x93b*0x3+0x1648]=-0x3b*-0x69+-0x2*-0x124a+-0x3cc7,_0x3c584b[-0x137*-0x17+0xf8f*0x1+-0x2b7c]=0x1*-0xf92+-0x1f*0x5d+0x1*0x1ad5,_0x3c584b[0x3cb+-0x17a5+0x13df]=_0x2b6f60/_0xcd4b8a,_0x3c584b[-0x819+-0x1*0x2579+0x2d98]=-0x1088+0x1f4+0x4dc*0x3,_0x3c584b[0x19a0+-0x162+-0x1837]=0x8d+-0x1352*0x2+-0xc7*-0x31,_0x3c584b[-0xe3b+-0x8ba+-0x1*-0x16fd]=(_0x562481+_0x499727)/_0x35047b,_0x3c584b[-0x14c4+0x6a8*-0x3+-0x1*-0x28c5]=(_0x4954a2+_0x4eee95)/_0xcd4b8a,_0x3c584b[-0x23*-0x72+-0xc5e+-0x32e]=(-_0x378607-_0x2c9e72)/_0x4dda4e,_0x3c584b[-0x7b3+0x1ffa*-0x1+0x29*0xf8]=-(-0x24f5*-0x1+0xe2b+0x1*-0x331f),_0x3c584b[-0x20e0+-0x10*0xd8+0x2e6c]=0x1*-0xdba+0xebb*0x1+-0x101,_0x3c584b[0x1b*-0x6e+-0x2346+0x2eed]=0x1*-0x16a1+-0x2194+-0x1*-0x3835,_0x3c584b[-0x1*0x1a1e+0xd09+0xd23]=-_0x2b6f60*_0x378607/_0x4dda4e,_0x3c584b[0xe*0x1d9+0xdfd*0x1+-0x27cc]=0x1ab*-0x17+-0x40f+-0xb5*-0x3c,this;}['setPerspec'+'tive'](_0x12919d,_0x8db7a5,_0x257ef4,_0x258ee4,_0x228ee5){return Qr['_getPerspe'+'ctiveHalfS'+'ize'](to,_0x12919d,_0x8db7a5,_0x257ef4,_0x228ee5),this['setFrustum'](-to['x'],to['x'],-to['y'],to['y'],_0x257ef4,_0x258ee4);}['setOrtho'](_0x361028,_0x581b3f,_0x405b3c,_0x75ff40,_0x4d35d7,_0x21926f){const _0x15625e=this['data'];return _0x15625e[0x403*0x5+-0xb69*0x1+-0x8a6]=(0x1096+0x243b+-0x34cf)/(_0x581b3f-_0x361028),_0x15625e[-0x25f0*-0x1+0x3*-0x95b+-0x9de]=0x1*0x188f+-0x11*-0x26+-0x1b15,_0x15625e[0x2465+0x6fc+-0x2b5f]=-0x18e+0x21e8+-0x205a,_0x15625e[-0x2c*0xad+0x47f*0x6+0x2c5]=0x2267+-0x9dd+-0x417*0x6,_0x15625e[-0x2b3+-0x1e38+-0x20ef*-0x1]=0x8*-0x13+-0x2444+0x24dc,_0x15625e[0x1*0x143b+0x13de+0x6*-0x6ae]=(-0xcc7*0x1+-0x2212+0x2edb)/(_0x75ff40-_0x405b3c),_0x15625e[-0x25ac+-0x44c+0x1ae*0x19]=-0xee8+-0x1*-0x238d+-0x5*0x421,_0x15625e[0x24a4+-0x5c2*0x1+-0x1*0x1edb]=0x25f9+0x17*0xc1+-0x938*0x6,_0x15625e[0x1*-0x26d3+-0x15d8+-0x3cb3*-0x1]=-0x1*0x262+-0x1b41+0x1da3,_0x15625e[0x702+-0x1*0xe40+0x45*0x1b]=0x174+0x1*-0x12b9+0x1145*0x1,_0x15625e[0x25be*0x1+-0x1*-0xd+0x5*-0x78d]=-(-0x12ef+0x71*0x1f+-0x2*-0x2a1)/(_0x21926f-_0x4d35d7),_0x15625e[-0x17f9+-0x1*0x1f0f+0x3713*0x1]=-0xe*-0xbf+0x5b*0x1+-0xacd,_0x15625e[-0x1*-0xd82+0x16d*-0x7+-0x3*0x129]=-(_0x581b3f+_0x361028)/(_0x581b3f-_0x361028),_0x15625e[0x16e1+0x4f7*-0x1+0x11dd*-0x1]=-(_0x75ff40+_0x405b3c)/(_0x75ff40-_0x405b3c),_0x15625e[0x2557+-0x1bd8+-0x971]=-(_0x21926f+_0x4d35d7)/(_0x21926f-_0x4d35d7),_0x15625e[-0x2a*0x34+0x6d1*-0x2+-0x1639*-0x1]=0x1*-0x915+-0x323*-0xb+-0x196b,this;}['setFromAxi'+'sAngle'](_0x25052b,_0x342722){_0x342722*=Y['DEG_TO_RAD'];const {x:_0x397ed4,y:_0x10c589,z:_0x55391a}=_0x25052b,_0x48636b=Math['cos'](_0x342722),_0x55901e=Math['sin'](_0x342722),_0x4170b9=-0x1cf+0x15a0*-0x1+0x1770-_0x48636b,_0x3fdde0=_0x4170b9*_0x397ed4,_0x5a2c29=_0x4170b9*_0x10c589,_0x48ea4c=this['data'];return _0x48ea4c[0x10*0xd7+-0xaec+-0x17*0x1c]=_0x3fdde0*_0x397ed4+_0x48636b,_0x48ea4c[0x2029+-0xc2d*0x1+-0x5*0x3ff]=_0x3fdde0*_0x10c589+_0x55901e*_0x55391a,_0x48ea4c[-0x299+0x1*0x2e7+0x4c*-0x1]=_0x3fdde0*_0x55391a-_0x55901e*_0x10c589,_0x48ea4c[-0x1016+-0x15f0+-0x6b*-0x5b]=0x2285*-0x1+-0xdfc+0x3081,_0x48ea4c[-0x8fc+0x983+-0x83*0x1]=_0x3fdde0*_0x10c589-_0x55901e*_0x55391a,_0x48ea4c[0x2461*-0x1+0x3*0x51f+-0x703*-0x3]=_0x5a2c29*_0x10c589+_0x48636b,_0x48ea4c[-0x175d*0x1+0x1*0x200+0x1563]=_0x5a2c29*_0x55391a+_0x55901e*_0x397ed4,_0x48ea4c[-0x20ef+-0x8*-0x3fb+0x1a*0xb]=-0xe12*-0x1+-0x1673+-0x37*-0x27,_0x48ea4c[0x1529*0x1+0xdd*0x3+-0x17b8]=_0x3fdde0*_0x55391a+_0x55901e*_0x10c589,_0x48ea4c[-0x1e94+-0x12db*-0x1+0xbc2]=_0x5a2c29*_0x55391a-_0x397ed4*_0x55901e,_0x48ea4c[0xfb5+0x247*-0xf+0x93f*0x2]=_0x4170b9*_0x55391a*_0x55391a+_0x48636b,_0x48ea4c[-0x40f*0x2+0x6c5+0x164]=-0x19*0x14b+0x1883+-0x14*-0x64,_0x48ea4c[0x9c9+0x13ad+-0x1d6a]=0x25ac*0x1+0x75e*-0x3+-0xf92*0x1,_0x48ea4c[0x1394+0xa7*0x22+-0x29b5]=0x3f1*0x2+-0x1be5+0x1403,_0x48ea4c[-0x244d+-0x9*-0x5f+-0x1082*-0x2]=0x2582+-0x2dd*-0x2+-0x4*0xacf,_0x48ea4c[-0xff5+-0x50b*0x6+0x2e46]=-0x970+-0x77b+0x10ec,this;}['setTransla'+'te'](_0x154047,_0xafe9b7,_0x20fb54){const _0x5b732d=this['data'];return _0x5b732d[-0x1a8d+0x37+0x1a56*0x1]=-0x1fd6+-0x1d9d+0x3d74,_0x5b732d[0x1da2+0x8bf*-0x3+-0x364]=0x1357+0x1*0x1815+-0x2b6c,_0x5b732d[0x60a+0x4*0x1d+-0x67c]=-0x207*0x2+-0x2095+-0x1*-0x24a3,_0x5b732d[-0x1*0x78e+0x1*0xf07+-0x776]=0x8*0x1df+-0x25+-0x159*0xb,_0x5b732d[-0x2e*0x9+-0x18b0+0x1a52]=-0x2027*0x1+0x1*0x156b+-0x2af*-0x4,_0x5b732d[-0x2582*0x1+-0x12d6+0x385d]=-0x16a*-0x9+0x46f+-0x1*0x1128,_0x5b732d[0x4*-0x2a1+-0x1*0x17e1+-0x21*-0x10b]=-0x2a5*-0xa+-0x7b+0x19f7*-0x1,_0x5b732d[0x2673+0x1*-0x811+-0x1e5b]=0x17e8+-0x1295+-0x553,_0x5b732d[0x4*0x53c+-0x2*-0xa23+-0x292e*0x1]=0x1889+0x1ebb+0x20c*-0x1b,_0x5b732d[0x2*0x197+-0xd*-0xd+-0x2*0x1e7]=-0x2*-0x32b+0x172f+-0x1d85,_0x5b732d[0x905*0x1+0x1dcb*-0x1+0x29a*0x8]=0x1*0x10b9+0x4*0x5f3+0x2*-0x1442,_0x5b732d[-0x3b*0x8e+-0x3*-0xb08+-0x53]=0x445*0x1+-0x184*0x1+-0x2c1,_0x5b732d[-0x14b0+-0x2f*-0x71+-0x3]=_0x154047,_0x5b732d[-0xc6f+-0x3*-0xa49+-0x125f]=_0xafe9b7,_0x5b732d[0x866+-0x71*-0x1f+-0x1607]=_0x20fb54,_0x5b732d[-0x21f*-0x2+-0x5b9+0xc5*0x2]=0x1e12+-0x11d4+-0xc3d,this;}['setScale'](_0xbf6f3d,_0xe29388,_0xc3011b){const _0x331c9b=this['data'];return _0x331c9b[-0x9d0*0x3+0x95b+0x1415]=_0xbf6f3d,_0x331c9b[0x28d*0x2+0x157c+0x5*-0x551]=0xda6+0x19b1*-0x1+0xc0b*0x1,_0x331c9b[-0x19a8+0xe9d+0xb0d]=-0x9d2+0x1*0x101+0x1*0x8d1,_0x331c9b[0xb5*-0x37+-0x1524+0x3c0a]=0xb21+-0x1eaf+0x9c7*0x2,_0x331c9b[-0x792+0x22e6+-0x1b50]=0xd*-0x129+-0x4*0x1e3+0x16a1,_0x331c9b[0x1*0x1e79+-0x1169*0x1+-0x35*0x3f]=_0xe29388,_0x331c9b[0x1086+0x295*0xb+0x8fb*-0x5]=-0x1127*0x1+-0x157f+0x2*0x1353,_0x331c9b[-0x1*-0x47+0x300*0xb+0x428*-0x8]=-0x9a9*0x3+0x1c5f+-0xd*-0xc,_0x331c9b[-0x11b9+-0x3*-0x663+-0x12*0x14]=0xf*-0x1e+-0xe04+0xfc6,_0x331c9b[-0x2531+-0x19c3*0x1+0x4b*0xd7]=0x697*-0x1+0x4*-0x3c4+0x15a7,_0x331c9b[-0x5*0x287+-0x1363+0x2010*0x1]=_0xc3011b,_0x331c9b[0x11fc+-0x1d9b+0xbaa]=-0xe75+0x1d80+0xf0b*-0x1,_0x331c9b[0x9bf+-0x1*0x1d35+-0x1c6*-0xb]=-0x305*0x5+0x140c*-0x1+-0x3*-0xbb7,_0x331c9b[0x1fe3+-0x1*-0x439+-0x33*0xb5]=-0x89f*-0x3+0x159+-0x1b36,_0x331c9b[0xe87+-0x945*0x4+0x169b]=0x7*-0x57c+0x5*0x10f+-0x1*-0x2119,_0x331c9b[0x79a+0x423*-0x5+0x74*0x1d]=0x4e*0x3d+-0xb20+-0x775,this;}['setViewpor'+'t'](_0x485f54,_0x5c735f,_0x1f0be0,_0xc5ae72){const _0x4f9fc4=this['data'];return _0x4f9fc4[-0x205d+0x5a6+-0x7*-0x3d1]=_0x1f0be0*(0x295*-0x3+0x14c8+-0x1*0xd09+0.5),_0x4f9fc4[-0x307+0x4d3*-0x5+0x1*0x1b27]=0xf*-0x151+0x1987*-0x1+0x5f*0x7a,_0x4f9fc4[-0x9e1+0x1c*0x7+-0x1*-0x91f]=-0x6e0+0x40b+0x1d*0x19,_0x4f9fc4[0x33*-0xa+0x245e+-0x1*0x225d]=0x981*0x3+-0x6ba+0xa9*-0x21,_0x4f9fc4[-0x197*0x3+-0xb9f+-0x1068*-0x1]=-0x2651+-0x993+0x2fe4,_0x4f9fc4[-0x1181+-0x1add+0x2c63]=_0xc5ae72*(0xe2*0x1+-0x2c9+0x1e7+0.5),_0x4f9fc4[-0x2*0x7ae+-0x167+-0x10c9*-0x1]=-0x34c*0x8+0x1ccf+-0x26f,_0x4f9fc4[0x33*0x9e+0x2281*-0x1+0x30e]=-0xbb*-0x24+-0x1835*0x1+-0x1*0x217,_0x4f9fc4[0xa16+0x890+-0x2*0x94f]=-0xfe8+0x2053+-0x106b,_0x4f9fc4[0xf33+0x5e*-0x4f+0xdd8]=0x1ed*-0x2+-0x1d1+-0x5ab*-0x1,_0x4f9fc4[-0x1b2c+0xa59+0x10dd]=0x21e6+-0x89d+0x1*-0x1949+0.5,_0x4f9fc4[0x19*-0x101+0x5b3+0x1371]=0x1*0x2391+-0x137b*0x1+-0x1016,_0x4f9fc4[-0x1e5a+0x1*0xdcb+0x109b]=_0x485f54+_0x1f0be0*(-0x20db+-0xab*-0x1f+0xc26+0.5),_0x4f9fc4[-0x35f*0xb+0x1*0x1d41+0x7e1*0x1]=_0x5c735f+_0xc5ae72*(0x4eb*-0x4+0x2*0xcf5+-0x63e+0.5),_0x4f9fc4[0xe0*0xa+-0x165a+0xda8]=0xb5d+0x1f*0xa+0x25*-0x57+0.5,_0x4f9fc4[0x135b*-0x1+-0x432+0x179c]=-0x14e6*0x1+0x1*0x18e+0x1359,this;}['setReflect'+'ion'](_0xedb76a,_0x52deaf){const _0x5b23fa=_0xedb76a['x'],_0x5740f3=_0xedb76a['y'],_0x106b97=_0xedb76a['z'],_0x45fa57=this['data'];return _0x45fa57[0x56*0x2f+0xb4a+-0x1b14]=-0x1*0x254a+0x1e9+0x1*0x2362-(0x3d*-0x8a+0x1860+-0x5*-0x1b4)*_0x5b23fa*_0x5b23fa,_0x45fa57[-0x249*0xe+-0x52d+0x252c]=-(0xb9f+0x49*0x2+-0xc2f)*_0x5b23fa*_0x5740f3,_0x45fa57[-0x524+0x1a54+-0x152e*0x1]=-(-0x20c0+-0x1923+0x39e5)*_0x5b23fa*_0x106b97,_0x45fa57[-0x57*0x2+0x2*-0x1024+0x20f9]=0x4f6*-0x4+-0x19*-0x9d+0x3*0x181,_0x45fa57[0x25d1+-0xc*0x187+0x5*-0x3e5]=-(0xa0+0x234*-0x4+-0x419*-0x2)*_0x5b23fa*_0x5740f3,_0x45fa57[-0x10f2+-0x8ac+-0x1*-0x19a3]=0x722+0x1167+-0x5*0x4e8-(0x49*-0x2f+0xd64+0x5)*_0x5740f3*_0x5740f3,_0x45fa57[0x1b59*0x1+-0x17cd+-0x386]=-(0x3ad*0x1+0x4c*0x67+0x31d*-0xb)*_0x5740f3*_0x106b97,_0x45fa57[0x1d*0x35+0x1f*-0x52+0x3f4]=-0xd*0x1d9+-0x5*0x10f+0x3aa*0x8,_0x45fa57[0x718+-0x1*-0xe80+-0x1590]=-(-0x1273*0x1+-0xa89*-0x1+0x1a*0x4e)*_0x5b23fa*_0x106b97,_0x45fa57[0xca2+-0x233+-0xa66*0x1]=-(-0x1541*0x1+0x12*-0x15+0x16bd)*_0x5740f3*_0x106b97,_0x45fa57[0x1afe*0x1+-0x1fc+-0x18f8]=-0x16c8+0x1*0x1921+-0x258-(0x1039+-0xed+-0xf4a)*_0x106b97*_0x106b97,_0x45fa57[-0x145f+-0x27*0x8f+0x2a33]=0x1*0x89+-0x14f7*-0x1+-0x4*0x560,_0x45fa57[-0x16b6+-0xcdc*0x2+0x307a]=-(0x4*0x85f+0x2597*-0x1+0x41d)*_0x5b23fa*_0x52deaf,_0x45fa57[0x7*-0x33+0x26d6+0x2*-0x12b2]=-(-0x1a53+-0x1b20+0x3575)*_0x5740f3*_0x52deaf,_0x45fa57[-0x1922+-0x13*0x1dc+-0x142c*-0x3]=-(0x25*-0xe5+-0x1f3f+-0x2*-0x202d)*_0x106b97*_0x52deaf,_0x45fa57[-0x7d7+0x1*0x203e+0x4c*-0x52]=-0xe3f+0x79a+0x6a6,this;}['invert'](_0x512791=this){const _0xfb8d73=_0x512791['data'],_0x41f50f=_0xfb8d73[0x105d+0x9c5*-0x1+-0x698*0x1],_0x7ff079=_0xfb8d73[0xf6d+0x955*0x2+0x1*-0x2216],_0x380b2e=_0xfb8d73[-0x13*-0x47+-0x17b2+-0x1ad*-0xb],_0x30d15d=_0xfb8d73[-0x22fc+0x275*-0x1+0xc7c*0x3],_0x354b1f=_0xfb8d73[-0x1d65+0xf4*0x8+0x15c9],_0x12594a=_0xfb8d73[-0x1*-0x24ff+0xc5b+-0x3155],_0x56dd63=_0xfb8d73[-0x118d*0x1+-0xab7+0x1c4a],_0x52d912=_0xfb8d73[0xd*-0xb7+-0x606+0xf58],_0x1e2bd5=_0xfb8d73[0x1*-0xd5d+0x1760+-0x49*0x23],_0x183372=_0xfb8d73[-0x1fe2+0x20ef*-0x1+0x40da],_0x19ccf6=_0xfb8d73[0xa1c+-0x2216+0x1804],_0x2ebfe2=_0xfb8d73[-0xecf+-0x11*-0x75+0x25*0x31],_0x549f00=_0xfb8d73[-0x26a5+-0x13c2+-0x1*-0x3a73],_0x2c997e=_0xfb8d73[0xfe1+0x4*0x7db+-0x2f40],_0x26f9ac=_0xfb8d73[0xbbb*0x2+0x1*-0x8ad+-0xebb],_0x255484=_0xfb8d73[0x1ea+0x33*-0x4+-0x10f],_0x22f472=_0x41f50f*_0x12594a-_0x7ff079*_0x354b1f,_0x56daca=_0x41f50f*_0x56dd63-_0x380b2e*_0x354b1f,_0x3041b7=_0x41f50f*_0x52d912-_0x30d15d*_0x354b1f,_0x3bedce=_0x7ff079*_0x56dd63-_0x380b2e*_0x12594a,_0x2984e3=_0x7ff079*_0x52d912-_0x30d15d*_0x12594a,_0x37f6c9=_0x380b2e*_0x52d912-_0x30d15d*_0x56dd63,_0xb200f7=_0x1e2bd5*_0x2c997e-_0x183372*_0x549f00,_0x1281fb=_0x1e2bd5*_0x26f9ac-_0x19ccf6*_0x549f00,_0x195405=_0x1e2bd5*_0x255484-_0x2ebfe2*_0x549f00,_0x583f44=_0x183372*_0x26f9ac-_0x19ccf6*_0x2c997e,_0x4dadcc=_0x183372*_0x255484-_0x2ebfe2*_0x2c997e,_0x223341=_0x19ccf6*_0x255484-_0x2ebfe2*_0x26f9ac,_0x712e14=_0x22f472*_0x223341-_0x56daca*_0x4dadcc+_0x3041b7*_0x583f44+_0x3bedce*_0x195405-_0x2984e3*_0x1281fb+_0x37f6c9*_0xb200f7;if(_0x712e14===-0x1eb*0xf+-0x6e9*-0x3+0x126*0x7)this['setIdentit'+'y']();else{const _0x120d55=(0x25bf+-0x1906+-0x2c*0x4a)/_0x712e14,_0x2c68aa=this['data'];_0x2c68aa[0x1397*0x1+0xae1+-0x1e78]=(_0x12594a*_0x223341-_0x56dd63*_0x4dadcc+_0x52d912*_0x583f44)*_0x120d55,_0x2c68aa[-0x4*-0x305+-0x870+-0x7*0x85]=(-_0x7ff079*_0x223341+_0x380b2e*_0x4dadcc-_0x30d15d*_0x583f44)*_0x120d55,_0x2c68aa[-0x11c4+0x69b*-0x3+-0x1*-0x2597]=(_0x2c997e*_0x37f6c9-_0x26f9ac*_0x2984e3+_0x255484*_0x3bedce)*_0x120d55,_0x2c68aa[0xaa1*0x1+-0x203f+0x1*0x15a1]=(-_0x183372*_0x37f6c9+_0x19ccf6*_0x2984e3-_0x2ebfe2*_0x3bedce)*_0x120d55,_0x2c68aa[-0x533+-0x6*-0x307+0x297*-0x5]=(-_0x354b1f*_0x223341+_0x56dd63*_0x195405-_0x52d912*_0x1281fb)*_0x120d55,_0x2c68aa[0x1bb8+-0x1bd1+0xf*0x2]=(_0x41f50f*_0x223341-_0x380b2e*_0x195405+_0x30d15d*_0x1281fb)*_0x120d55,_0x2c68aa[0x1efd+-0x9ac+0x3*-0x719]=(-_0x549f00*_0x37f6c9+_0x26f9ac*_0x3041b7-_0x255484*_0x56daca)*_0x120d55,_0x2c68aa[0xd73+-0x3*0x617+-0x11*-0x49]=(_0x1e2bd5*_0x37f6c9-_0x19ccf6*_0x3041b7+_0x2ebfe2*_0x56daca)*_0x120d55,_0x2c68aa[-0x2bf+-0x76e+0xc9*0xd]=(_0x354b1f*_0x4dadcc-_0x12594a*_0x195405+_0x52d912*_0xb200f7)*_0x120d55,_0x2c68aa[0x8*-0x95+-0x443+0x8f4]=(-_0x41f50f*_0x4dadcc+_0x7ff079*_0x195405-_0x30d15d*_0xb200f7)*_0x120d55,_0x2c68aa[0xa22+-0xb*-0x18a+-0x1b06]=(_0x549f00*_0x2984e3-_0x2c997e*_0x3041b7+_0x255484*_0x22f472)*_0x120d55,_0x2c68aa[-0x25db+-0x24f0+0x4ad6]=(-_0x1e2bd5*_0x2984e3+_0x183372*_0x3041b7-_0x2ebfe2*_0x22f472)*_0x120d55,_0x2c68aa[0x24a6+0xa41+0x2edb*-0x1]=(-_0x354b1f*_0x583f44+_0x12594a*_0x1281fb-_0x56dd63*_0xb200f7)*_0x120d55,_0x2c68aa[-0x62*-0x4a+-0x65*0x61+-0x9fe*-0x1]=(_0x41f50f*_0x583f44-_0x7ff079*_0x1281fb+_0x380b2e*_0xb200f7)*_0x120d55,_0x2c68aa[0xe24+0x43*0x2c+0x2*-0xccd]=(-_0x549f00*_0x3bedce+_0x2c997e*_0x56daca-_0x26f9ac*_0x22f472)*_0x120d55,_0x2c68aa[-0x10cd+-0x1*0x102b+0x2107]=(_0x1e2bd5*_0x3bedce-_0x183372*_0x56daca+_0x19ccf6*_0x22f472)*_0x120d55;}return this;}['set'](_0x1fe8b4){const _0x5c6d41=this['data'];return _0x5c6d41[-0x2335+0x2166+0x1cf]=_0x1fe8b4[0x250d*0x1+-0x26da+0x1cd],_0x5c6d41[0x18f5+-0x2b5+-0x163f]=_0x1fe8b4[-0x1d*-0x79+-0x48c+0x928*-0x1],_0x5c6d41[-0x818*0x2+0xe71+0x1c1]=_0x1fe8b4[0x2*-0xb36+0x1c9e+-0x630],_0x5c6d41[0xa16+0x345+0x38*-0x3d]=_0x1fe8b4[0x2b*-0xa+0x875+-0x4*0x1b1],_0x5c6d41[0xb9d+0x124e+-0x1de7]=_0x1fe8b4[-0xd*-0x2bb+0x158+-0x24d3],_0x5c6d41[-0x8d*-0x7+-0x226b+0x1e95]=_0x1fe8b4[0x833*0x3+0x1e6c+0x80*-0x6e],_0x5c6d41[-0xa3b+-0x265+0x2*0x653]=_0x1fe8b4[0x2656+0x1733+-0x3d83],_0x5c6d41[-0x79c*-0x4+-0x43d+-0x29e*0xa]=_0x1fe8b4[-0x1f46+-0x24fb*-0x1+0x2*-0x2d7],_0x5c6d41[0x2505+0xfd1+-0x34ce]=_0x1fe8b4[0x17cc+-0x52e+0x3*-0x632],_0x5c6d41[-0x2358+0x5bf*0x3+0x1224]=_0x1fe8b4[-0x1a97+0x2002+-0x562*0x1],_0x5c6d41[0x42*-0x93+-0x500+-0x728*-0x6]=_0x1fe8b4[-0xf9*-0x1+-0x16b2+0x15c3],_0x5c6d41[-0x26*-0x2f+-0x12f8+0xc09*0x1]=_0x1fe8b4[0x4c*-0x6+0x174a+0x311*-0x7],_0x5c6d41[-0x1*0x1313+0x35*0x90+-0xa1*0x11]=_0x1fe8b4[0xaba*-0x2+0x2607+-0x1087],_0x5c6d41[-0xc89*-0x3+-0xfed+-0x7*0x317]=_0x1fe8b4[-0xa*-0x81+-0x1*0x2441+0x5c*0x57],_0x5c6d41[0x2*0xa21+-0x14a1+0x6d]=_0x1fe8b4[0x1*0x98f+0x1*-0xad+-0x8d4],_0x5c6d41[0x8c3+0x1*0x13f9+-0x1cad]=_0x1fe8b4[-0x189a+-0x15*0x118+0x1*0x2fa1],this;}['setIdentit'+'y'](){const _0x1b421a=this['data'];return _0x1b421a[-0x1*0x24cb+0x88*0x11+0x135*0x17]=0xd2+0x135a+0x6b9*-0x3,_0x1b421a[0x1ade+0x91d*0x1+0x133*-0x1e]=0x1d5e+0x1bc5+-0x3923,_0x1b421a[0x1160+-0x1*-0x2326+-0x3484]=0xe10+-0xea8+0x13*0x8,_0x1b421a[-0x1ce1*0x1+0x117*-0x2+0x1f12]=-0x1*-0x1989+0x5*-0x52f+-0x1*-0x62,_0x1b421a[0x1215+0x1e0d+-0x1*0x301e]=-0x1f9+-0x1*-0x747+-0x54e,_0x1b421a[0x6de+-0x6d1+0x8*-0x1]=-0x2*-0xfc6+-0x52a*-0x2+-0x29df,_0x1b421a[-0x11d5+-0x349*-0x1+0xa*0x175]=0x3*-0x9f7+-0x1dfc+0x3be1*0x1,_0x1b421a[-0x7*-0x4e1+0x14bc+-0x36dc]=0x1*-0x26c4+-0xc24+0x1974*0x2,_0x1b421a[-0x1273+-0xa*-0xa9+-0x1*-0xbe1]=-0x215*-0x11+0x30b*0x1+-0x2670,_0x1b421a[-0x15c5+-0x239c+0x396a]=0x8cd*-0x2+0x9c0+0x7da,_0x1b421a[-0x2551+0xc8f+0x18cc]=-0xa*-0xc1+0x1fdf*-0x1+0x1856,_0x1b421a[-0xf0f+0x1*-0x2278+0x3192]=-0xd83+0x298*-0x7+0x1fab,_0x1b421a[0x1f35*0x1+-0x9a9+0x1*-0x1580]=-0x20b*0x9+-0x4cf*0x1+0x1732,_0x1b421a[-0x1f3a+-0x4*0x96b+0x13*0x3a1]=0x4*0x2c9+0x873+-0x1397,_0x1b421a[0x7d8*0x1+-0x141e+0x4*0x315]=-0x7*0x1f+-0xe66*-0x1+0xd8d*-0x1,_0x1b421a[0x83e+0xcef+-0x151e]=-0x1*0xd37+-0x1049+0x245*0xd,this;}['setTRS'](_0x46b453,_0x2bd58a,_0x13b966){const _0x3d795c=_0x2bd58a['x'],_0x1ffb96=_0x2bd58a['y'],_0x56d8b0=_0x2bd58a['z'],_0x389522=_0x2bd58a['w'],_0x345361=_0x13b966['x'],_0x478480=_0x13b966['y'],_0x3819aa=_0x13b966['z'],_0x1228e3=_0x3d795c+_0x3d795c,_0x225e6b=_0x1ffb96+_0x1ffb96,_0x2da950=_0x56d8b0+_0x56d8b0,_0xea4386=_0x3d795c*_0x1228e3,_0x3cd3a7=_0x3d795c*_0x225e6b,_0x4c0b5c=_0x3d795c*_0x2da950,_0x589dc1=_0x1ffb96*_0x225e6b,_0x37f8e2=_0x1ffb96*_0x2da950,_0x3b2e0c=_0x56d8b0*_0x2da950,_0x432215=_0x389522*_0x1228e3,_0x732b2a=_0x389522*_0x225e6b,_0x2493e9=_0x389522*_0x2da950,_0x5c3e72=this['data'];return _0x5c3e72[-0x22a3+-0x54c+-0x1*-0x27ef]=(-0x1209+-0x2518+0x2*0x1b91-(_0x589dc1+_0x3b2e0c))*_0x345361,_0x5c3e72[0x2272*-0x1+0x231b+-0xa8]=(_0x3cd3a7+_0x2493e9)*_0x345361,_0x5c3e72[0x2a*0x8+-0x1*-0xdd2+0x3c8*-0x4]=(_0x4c0b5c-_0x732b2a)*_0x345361,_0x5c3e72[-0x1fb6+0x8f3*-0x1+0x28ac]=0x1fc0+-0x1efc+-0xc4,_0x5c3e72[-0x2*0x2fb+0x708+0x9*-0x1e]=(_0x3cd3a7-_0x2493e9)*_0x478480,_0x5c3e72[-0x120e*0x2+-0x2*0x353+-0x2f*-0xe9]=(-0x17f+0x1793+-0x1*0x1613-(_0xea4386+_0x3b2e0c))*_0x478480,_0x5c3e72[0x1297+0xfd9*-0x1+-0x2b8]=(_0x37f8e2+_0x432215)*_0x478480,_0x5c3e72[-0x451*0x3+0x93c+-0x1df*-0x2]=0x1e9f+-0x568+0x1*-0x1937,_0x5c3e72[0x1*0x23fc+-0x83*0x26+0x841*-0x2]=(_0x4c0b5c+_0x732b2a)*_0x3819aa,_0x5c3e72[-0x7*0x425+0xdb5+0xf57]=(_0x37f8e2-_0x432215)*_0x3819aa,_0x5c3e72[-0xb*-0x175+0x1949*0x1+-0x2946]=(-0x53*0x1f+-0x124b*0x1+-0x1c59*-0x1-(_0xea4386+_0x589dc1))*_0x3819aa,_0x5c3e72[-0x17a8+0x1ca3+-0x4f0]=-0x1fb+-0x140+-0x33b*-0x1,_0x5c3e72[-0x26af+0xbf1*0x3+-0x4*-0xba]=_0x46b453['x'],_0x5c3e72[-0x11ed+0x59f*0x2+0x35e*0x2]=_0x46b453['y'],_0x5c3e72[0x802+0x20af+-0x67*0x65]=_0x46b453['z'],_0x5c3e72[-0x5*-0x469+0x6*-0x3a3+-0x2c]=0x2*-0x14a+0x9ba+-0x725,this;}['transpose'](_0x6dd31e=this){const _0x48da02=_0x6dd31e['data'],_0x12d974=this['data'];if(_0x48da02===_0x12d974){let _0x151b02;_0x151b02=_0x48da02[0xb48+-0xa40*-0x2+-0x1fc7],_0x12d974[0x1168+-0xf92*0x2+0x1*0xdbd]=_0x48da02[-0x1781+-0x2*0xe98+0x34b5],_0x12d974[-0x1330*-0x1+-0x1811+0x4e5]=_0x151b02,_0x151b02=_0x48da02[-0x13fe+-0x1f00+-0x20*-0x198],_0x12d974[-0x1fa2*-0x1+0x2556+-0x44f6]=_0x48da02[-0xfb7+0xb03+0x4bc],_0x12d974[0xe7b+0x3*0x567+-0x3*0xa38]=_0x151b02,_0x151b02=_0x48da02[0x1ee*0x4+-0x15dc+0x1*0xe27],_0x12d974[-0x1*0x153+0x2f*-0x7a+-0xe*-0x1b2]=_0x48da02[-0x1d30*-0x1+-0x238a+-0x15*-0x4e],_0x12d974[0x20f1+-0xbfb*0x1+-0x14ea]=_0x151b02,_0x151b02=_0x48da02[-0x785*-0x5+0x153+0x1a*-0x17f],_0x12d974[-0x2b9+0x2273*-0x1+0x2532]=_0x48da02[-0x1*0x251+-0x1541+0x179b],_0x12d974[-0xbeb+-0x2*0x513+0x161a*0x1]=_0x151b02,_0x151b02=_0x48da02[-0xe67+-0xdd+0xf4b],_0x12d974[-0x11*0xd9+-0x55d+0x13cd]=_0x48da02[-0x1a97+0xe43+-0xc61*-0x1],_0x12d974[-0xb*0x379+-0x5ef+-0x2c2f*-0x1]=_0x151b02,_0x151b02=_0x48da02[0x2129+0x26e3+0x4801*-0x1],_0x12d974[-0x1c7*-0x5+-0x1*0x1bd4+0x12fc]=_0x48da02[-0x1cd4+0x1*0x10a2+0xc40],_0x12d974[-0xae+0x88a+0x1*-0x7ce]=_0x151b02;}else _0x12d974[0x670*-0x1+-0x1*-0x89f+-0x22f]=_0x48da02[-0x10e5+-0xfea+-0xe3*-0x25],_0x12d974[-0x2*-0x4db+0x26*0xa3+-0x21e7]=_0x48da02[0x1*0x26a5+0x734+-0x2dd5],_0x12d974[-0x1b27+-0x57*-0x63+-0xa6*0xa]=_0x48da02[0x2*-0x7cc+0xe2c+0x174],_0x12d974[0xc1*-0x2b+-0x2124+-0x4d*-0xda]=_0x48da02[0x98f*0x1+0x975+-0x12f8],_0x12d974[0x2ce*-0xb+-0x1*0x1032+0x1788*0x2]=_0x48da02[0x196a+0x1*0x1607+-0x17b8*0x2],_0x12d974[0x8*0xf+-0x8*-0x1b4+-0x4b1*0x3]=_0x48da02[0x7cf*-0x1+0x6af+-0x125*-0x1],_0x12d974[-0xe85+-0x26cf+0x2*0x1aad]=_0x48da02[0x17b1+-0x1*0x685+-0x1123],_0x12d974[-0x1*0x8aa+0x1537*0x1+-0xc86]=_0x48da02[-0x1*0x2297+-0x123c+-0x11a*-0x30],_0x12d974[0x1034+0x18dc+-0x2908]=_0x48da02[-0x72*0x8+0x5e*0x5e+-0x11*0x1d2],_0x12d974[0x2288+0x13*-0x117+0x1*-0xdca]=_0x48da02[-0x18d*-0xa+0x20b5*0x1+-0xa9*0x49],_0x12d974[0x308*-0xb+0xf96+0x11cc]=_0x48da02[-0x62c+0x1*0xd0f+0x1*-0x6d9],_0x12d974[0x21df*0x1+-0x7*-0x49f+-0x422d]=_0x48da02[-0x2e6+-0x2009+0x22fd],_0x12d974[-0x31e+-0x2*-0x12c9+-0x44d*0x8]=_0x48da02[-0x5ee*-0x3+-0x239*-0xb+0x73*-0x5e],_0x12d974[0x8d1+0x26f6+0x1*-0x2fba]=_0x48da02[-0xd48+0x1901*-0x1+0x2650],_0x12d974[-0xf*0x13b+-0x5*0x347+-0x5d1*-0x6]=_0x48da02[0x97f+0x5*-0x641+-0x45d*-0x5],_0x12d974[0x48d*-0x3+-0x151a+-0x22d*-0x10]=_0x48da02[0x56e+-0x1*-0x368+0x1*-0x8c7];return this;}['getTransla'+'tion'](_0x1db0b1=new D()){return _0x1db0b1['set'](this['data'][-0xd*0x1c9+0x1a*0x14c+-0xa77],this['data'][-0x1*-0x7d6+0x1145+-0x190e*0x1],this['data'][0x2509+0xdc7+-0x92*0x59]);}['getX'](_0x46cccf=new D()){return _0x46cccf['set'](this['data'][0x1a45+-0x1fd+0x15*-0x128],this['data'][-0x16d6+0x12b5*0x2+-0xe93],this['data'][-0x16*0x6c+-0x1c*0x49+0x1146]);}['getY'](_0x194512=new D()){return _0x194512['set'](this['data'][0xeb*-0x25+0x1adb+0x720],this['data'][0x2*-0x9f5+0x25b9+-0x11ca],this['data'][0xc42+0x16d0+-0x4*0x8c3]);}['getZ'](_0x5f1a90=new D()){return _0x5f1a90['set'](this['data'][-0x3*0x51b+0x442+0xb17],this['data'][0x11*0xd6+-0x18+-0xe15],this['data'][-0x11c+-0x6b*-0x4c+-0x1e9e]);}['getScale'](_0x236198=new D()){return this['getX'](Os),this['getY'](Js),this['getZ'](ei),_0x236198['set'](Os['length'](),Js['length'](),ei['length']()),_0x236198;}get['scaleSign'](){return this['getX'](Os),this['getY'](Js),this['getZ'](ei),Os['cross'](Os,Js),Os['dot'](ei)<-0x610+-0x1*-0x3c7+0x249?-(0x1*0x262+-0xbc5*-0x3+-0x25b0):-0x17f*0x11+0x159a+0x3d6;}['setFromEul'+'erAngles'](_0x30897e,_0x2efb7f,_0x41502f){_0x30897e*=Y['DEG_TO_RAD'],_0x2efb7f*=Y['DEG_TO_RAD'],_0x41502f*=Y['DEG_TO_RAD'];const _0x3c84a1=Math['sin'](-_0x30897e),_0x352834=Math['cos'](-_0x30897e),_0x2a178a=Math['sin'](-_0x2efb7f),_0x3ea56a=Math['cos'](-_0x2efb7f),_0x1cf389=Math['sin'](-_0x41502f),_0x83a7be=Math['cos'](-_0x41502f),_0x24ac17=this['data'];return _0x24ac17[0x1c0d+-0x298+-0x1975]=_0x3ea56a*_0x83a7be,_0x24ac17[-0x134+-0x7f6+0x92b*0x1]=-_0x3ea56a*_0x1cf389,_0x24ac17[-0xb5b*-0x1+0x16*-0xc6+-0x5ab*-0x1]=_0x2a178a,_0x24ac17[0x642*-0x3+0x481*0x7+-0xcbe]=0x2487+-0x1dfe+-0x7*0xef,_0x24ac17[0x855*0x3+0xa*0xb2+-0x1fef]=_0x352834*_0x1cf389+_0x83a7be*_0x3c84a1*_0x2a178a,_0x24ac17[0xd8c+-0x6d*0x2b+0x4c8]=_0x352834*_0x83a7be-_0x3c84a1*_0x2a178a*_0x1cf389,_0x24ac17[0x9d*0x19+0x2*-0x26b+-0xa79]=-_0x3ea56a*_0x3c84a1,_0x24ac17[-0xd16+0x1ab3+-0xd96]=-0x204+0x5e*-0x67+0x1*0x27d6,_0x24ac17[0x1252+0xb*0x128+-0x36*0x93]=_0x3c84a1*_0x1cf389-_0x352834*_0x83a7be*_0x2a178a,_0x24ac17[-0x6*-0x29+-0x36d+0x280]=_0x83a7be*_0x3c84a1+_0x352834*_0x2a178a*_0x1cf389,_0x24ac17[-0x2*-0x2e7+-0x887*0x4+-0x8*-0x38b]=_0x352834*_0x3ea56a,_0x24ac17[0xf9*-0x25+0x1e52*-0x1+0x6*0xb0f]=-0x62*-0x8+0x12a*0x8+-0xc60,_0x24ac17[0x1*0x1471+-0x1*-0x16c3+-0x1*0x2b28]=-0x7*0x219+-0x2114+0x2fc3,_0x24ac17[0xfd6*0x1+-0xa9*-0x2+-0x111b]=-0x2249+0x54e*-0x7+0x476b,_0x24ac17[0x5*-0x25b+-0xc93+0xc34*0x2]=-0x1*-0x1a78+0xf2c+-0x29a4,_0x24ac17[-0x23*0xb3+0x2e*-0x65+-0x9*-0x4be]=0x265d*-0x1+-0x2415+0x4a73,this;}['getEulerAn'+'gles'](_0x2b2219=new D()){this['getScale'](Hl);const _0x3f7d5f=Hl['x'],_0x50300a=Hl['y'],_0x4862fb=Hl['z'];if(_0x3f7d5f===-0xa7f*-0x1+0x1*0x94f+-0x13ce||_0x50300a===0x3*-0x81e+-0x163b+0x2e95||_0x4862fb===0x10f5+-0x13ce+0x1*0x2d9)return _0x2b2219['set'](-0x1aad+0x1e94+-0x3e7*0x1,-0x233b*0x1+-0x10a7+0x33e2,0x2439+-0x4*-0x4f7+-0x31*0x125);const _0x2ac336=this['data'],_0x22abc6=Math['asin'](-_0x2ac336[0xe3*-0x1a+-0x1*0x8c8+0x1fd8]/_0x3f7d5f),_0x378c71=Math['PI']*(0x426*-0x7+0x18a7*-0x1+0x5*0xabd+0.5);let _0x44e353,_0x2eb9c7;return _0x22abc6<_0x378c71?_0x22abc6>-_0x378c71?(_0x44e353=Math['atan2'](_0x2ac336[-0x1e*0x14c+0x1*0x14a4+0x124a]/_0x50300a,_0x2ac336[-0x902+0xfb0+-0x6a4]/_0x4862fb),_0x2eb9c7=Math['atan2'](_0x2ac336[0x1bc5+0x5*-0x43a+-0x6a2*0x1]/_0x3f7d5f,_0x2ac336[0x3*-0x3ac+-0x1*0x505+0x1009]/_0x3f7d5f)):(_0x2eb9c7=0x7*-0x54f+-0x22e9+0xf*0x4ce,_0x44e353=-Math['atan2'](_0x2ac336[0x2b*0xd4+-0xe*0x1f1+-0x167*0x6]/_0x50300a,_0x2ac336[0x14c4+0xa91+0x18*-0x14e]/_0x50300a)):(_0x2eb9c7=0x2141+-0x1ce2+-0x175*0x3,_0x44e353=Math['atan2'](_0x2ac336[0x1b23+-0x199*-0x13+-0x397a]/_0x50300a,_0x2ac336[-0x18b8+-0xf9*-0x10+0x92d]/_0x50300a)),_0x2b2219['set'](_0x44e353,_0x22abc6,_0x2eb9c7)['mulScalar'](Y['RAD_TO_DEG']);}['toString'](){return'['+this['data']['join'](',\x20')+']';}};h(Qr,'IDENTITY',Object['freeze'](new Qr())),h(Qr,'ZERO',Object['freeze'](new Qr()['set']([0x3*-0x4a7+-0x4*0x575+0x23c9,0x102a+-0x1cd*-0x1+-0x11f7,-0x26a4+0x88a*0x2+-0x17*-0xf0,-0x24*0xd0+-0x1d31+0x1*0x3a71,0x6ed*0x3+0x256d+-0x3a34,0x1e9c*-0x1+0x158f*0x1+0x90d,0x1675*0x1+0x2*0xc7+0x1803*-0x1,-0x2*-0xb0e+0x1209+-0x2825,0x88*0x1+0x313*-0x5+0xed7*0x1,-0x1*0x1387+-0x58f+0x1916,-0x2cd*0x3+-0x3*0x793+0x1f20,-0x1*0x16cc+-0xd2a+0x23f6,0xbba+-0x24ad+0x3*0x851,-0x1f*-0x125+-0xfc5+-0x13b6,0x107*0x15+-0x13f6+-0x19d,0x1*-0x1cba+0x1e4+0x2af*0xa])));let te=Qr;const Sn=class Sn{constructor(_0x272611=0x182*-0x9+0xf28+-0x196,_0x47f6b8=-0x122b+-0x10a5+0x22d0,_0x5b2836=0x12a5+-0x3*-0xbbd+0xd77*-0x4,_0x2ca783=-0x805*0x1+0x1f*-0xd5+0x21d1){h(this,'x'),h(this,'y'),h(this,'z'),h(this,'w'),_0x272611['length']===-0x1a03*0x1+0x1*0x1ca1+-0x6*0x6f?(this['x']=_0x272611[-0x1be+0xc1d+-0xa5f],this['y']=_0x272611[0x180b+-0x1*-0x25cf+-0x3dd9],this['z']=_0x272611[0x3*-0x16d+0x231b+-0x1ed2],this['w']=_0x272611[0x140*0x2+0x234*0x3+0x89*-0x11]):(this['x']=_0x272611,this['y']=_0x47f6b8,this['z']=_0x5b2836,this['w']=_0x2ca783);}['clone'](){const _0x1df451=this['constructo'+'r'];return new _0x1df451(this['x'],this['y'],this['z'],this['w']);}['conjugate'](_0x190c12=this){return this['x']=_0x190c12['x']*-(0xba+-0x1*0x1ad7+-0x1*-0x1a1e),this['y']=_0x190c12['y']*-(0x2d*-0x49+0xaab*0x3+0x7*-0x2bd),this['z']=_0x190c12['z']*-(-0x1*0x80c+-0xd7*-0x6+0x303),this['w']=_0x190c12['w'],this;}['copy'](_0x3bc5c1){return this['x']=_0x3bc5c1['x'],this['y']=_0x3bc5c1['y'],this['z']=_0x3bc5c1['z'],this['w']=_0x3bc5c1['w'],this;}['dot'](_0x4a6fee){return this['x']*_0x4a6fee['x']+this['y']*_0x4a6fee['y']+this['z']*_0x4a6fee['z']+this['w']*_0x4a6fee['w'];}['equals'](_0x32e520){return this['x']===_0x32e520['x']&&this['y']===_0x32e520['y']&&this['z']===_0x32e520['z']&&this['w']===_0x32e520['w'];}['equalsAppr'+'ox'](_0x91302b,_0x5de8db=-0x1*0x8a5+-0x1a9*0x7+-0x1444*-0x1+0.000001){return Math['abs'](this['x']-_0x91302b['x'])<_0x5de8db&&Math['abs'](this['y']-_0x91302b['y'])<_0x5de8db&&Math['abs'](this['z']-_0x91302b['z'])<_0x5de8db&&Math['abs'](this['w']-_0x91302b['w'])<_0x5de8db;}['getAxisAng'+'le'](_0xbb60a3){let _0x2376ad=Math['acos'](this['w'])*(0x12be+0x1c31+-0x2eed);const _0x1bf689=Math['sin'](_0x2376ad/(-0x2292+0x21f4+0xa0));return _0x1bf689!==0x2546+-0x13*-0x6e+-0x10*0x2d7?(_0xbb60a3['x']=this['x']/_0x1bf689,_0xbb60a3['y']=this['y']/_0x1bf689,_0xbb60a3['z']=this['z']/_0x1bf689,(_0xbb60a3['x']<-0x3e8+-0x7*0x419+0x51*0x67||_0xbb60a3['y']<0x188*0xa+0x1924+-0x2874||_0xbb60a3['z']<0x3*0xa5+-0x9*-0x141+-0xd38)&&(_0xbb60a3['x']*=-(-0xf*-0x1+-0x1fde+0x1fd0),_0xbb60a3['y']*=-(-0x371*0x7+-0x59*0xc+-0x192*-0x12),_0xbb60a3['z']*=-(-0x10bc+-0x2*-0x99e+-0x27f),_0x2376ad*=-(0xf1*0xd+0x1*0x16cf+-0x230b))):(_0xbb60a3['x']=-0x22c*-0x10+0x42d*-0x2+-0x1a65,_0xbb60a3['y']=0xea4+0x243c*0x1+-0x32e0,_0xbb60a3['z']=0xec7*0x1+-0x153e+0x677),_0x2376ad*Y['RAD_TO_DEG'];}['getEulerAn'+'gles'](_0x2ab130=new D()){let _0x53a13c,_0x3daf07,_0x59826e;const _0x22b996=this['x'],_0x13ddd3=this['y'],_0x41ea88=this['z'],_0x26eec1=this['w'],_0x426b2f=(0xcd*-0xe+-0xd*0x16e+0x1dce)*(_0x26eec1*_0x13ddd3-_0x22b996*_0x41ea88);return _0x426b2f<=-(-0x16d*0x5+-0x972+0x1093+0.99999)?(_0x53a13c=(0x1426*0x1+-0x3*-0xae7+-0x53*0xa3)*Math['atan2'](_0x22b996,_0x26eec1),_0x3daf07=-Math['PI']/(-0x5cb+0x1c6b+-0x169e),_0x59826e=0x1*-0x757+-0x1*0xc89+-0x13e0*-0x1):_0x426b2f>=0x2*-0xd31+0x8c+0x19d6+0.99999?(_0x53a13c=(-0x1*-0x1426+0xb*-0x28f+-0x3*-0x2ab)*Math['atan2'](_0x22b996,_0x26eec1),_0x3daf07=Math['PI']/(0x1e2f+0x1*0x1920+-0x126f*0x3),_0x59826e=0x77e+-0x127b+0xafd):(_0x53a13c=Math['atan2']((0x169+0x21f5+-0x235c)*(_0x26eec1*_0x22b996+_0x13ddd3*_0x41ea88),-0x1*0x1b0a+-0x1b7*0x1+0x1cc2-(-0x61+-0x5*-0x2b6+0x1*-0xd2b)*(_0x22b996*_0x22b996+_0x13ddd3*_0x13ddd3)),_0x3daf07=Math['asin'](_0x426b2f),_0x59826e=Math['atan2']((0x12a*0x19+0x9*-0x175+0xffb*-0x1)*(_0x26eec1*_0x41ea88+_0x22b996*_0x13ddd3),-0x22fd*0x1+0x5*0x2c4+0x152a-(-0x12e2*0x2+0x22cb+0x6d*0x7)*(_0x13ddd3*_0x13ddd3+_0x41ea88*_0x41ea88))),_0x2ab130['set'](_0x53a13c,_0x3daf07,_0x59826e)['mulScalar'](Y['RAD_TO_DEG']);}['invert'](_0x3ad4ac=this){return this['conjugate'](_0x3ad4ac)['normalize']();}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x133a16,_0x5981b1,_0x4a515f){const _0x52a31b=(0x1f9*0x3+0x1679+0xa9*-0x2b-_0x4a515f)*(_0x133a16['dot'](_0x5981b1)<-0x1*-0xd96+-0x36*0xac+-0x46*-0x53?-(-0x2*-0x149+-0x21fd+-0xfb6*-0x2):-0x1*0x1569+-0x22f8+0x3862);return this['x']=_0x133a16['x']*_0x52a31b+_0x5981b1['x']*_0x4a515f,this['y']=_0x133a16['y']*_0x52a31b+_0x5981b1['y']*_0x4a515f,this['z']=_0x133a16['z']*_0x52a31b+_0x5981b1['z']*_0x4a515f,this['w']=_0x133a16['w']*_0x52a31b+_0x5981b1['w']*_0x4a515f,this['normalize']();}['mul'](_0x5e1496){const _0x230933=this['x'],_0xd8037e=this['y'],_0x59c28e=this['z'],_0x5b06d8=this['w'],_0x5a77ae=_0x5e1496['x'],_0x531b51=_0x5e1496['y'],_0x40bbd9=_0x5e1496['z'],_0x3c52f4=_0x5e1496['w'];return this['x']=_0x5b06d8*_0x5a77ae+_0x230933*_0x3c52f4+_0xd8037e*_0x40bbd9-_0x59c28e*_0x531b51,this['y']=_0x5b06d8*_0x531b51+_0xd8037e*_0x3c52f4+_0x59c28e*_0x5a77ae-_0x230933*_0x40bbd9,this['z']=_0x5b06d8*_0x40bbd9+_0x59c28e*_0x3c52f4+_0x230933*_0x531b51-_0xd8037e*_0x5a77ae,this['w']=_0x5b06d8*_0x3c52f4-_0x230933*_0x5a77ae-_0xd8037e*_0x531b51-_0x59c28e*_0x40bbd9,this;}['mulScalar'](_0x22f841,_0x18059f=this){return this['x']=_0x18059f['x']*_0x22f841,this['y']=_0x18059f['y']*_0x22f841,this['z']=_0x18059f['z']*_0x22f841,this['w']=_0x18059f['w']*_0x22f841,this;}['mul2'](_0x5f02b4,_0x1fcc37){const _0x48bc8b=_0x5f02b4['x'],_0x14f378=_0x5f02b4['y'],_0x215556=_0x5f02b4['z'],_0x7f69f8=_0x5f02b4['w'],_0x27817f=_0x1fcc37['x'],_0x1e21ef=_0x1fcc37['y'],_0x1f3c14=_0x1fcc37['z'],_0x15b28b=_0x1fcc37['w'];return this['x']=_0x7f69f8*_0x27817f+_0x48bc8b*_0x15b28b+_0x14f378*_0x1f3c14-_0x215556*_0x1e21ef,this['y']=_0x7f69f8*_0x1e21ef+_0x14f378*_0x15b28b+_0x215556*_0x27817f-_0x48bc8b*_0x1f3c14,this['z']=_0x7f69f8*_0x1f3c14+_0x215556*_0x15b28b+_0x48bc8b*_0x1e21ef-_0x14f378*_0x27817f,this['w']=_0x7f69f8*_0x15b28b-_0x48bc8b*_0x27817f-_0x14f378*_0x1e21ef-_0x215556*_0x1f3c14,this;}['normalize'](_0x348023=this){let _0x15b045=_0x348023['length']();return _0x15b045===0x1*0x1f29+0x9c9+-0x28f2*0x1?(this['x']=this['y']=this['z']=-0x243*-0x3+0x2a*0x38+0x1d*-0x8d,this['w']=0x24a8+-0x2c*-0x3b+-0x9*0x533):(_0x15b045=(-0x3d*0x49+-0x1a1+0x1*0x1307)/_0x15b045,this['x']=_0x348023['x']*_0x15b045,this['y']=_0x348023['y']*_0x15b045,this['z']=_0x348023['z']*_0x15b045,this['w']=_0x348023['w']*_0x15b045),this;}['set'](_0x46e1b4,_0x33fd9e,_0x26dd81,_0x275290){return this['x']=_0x46e1b4,this['y']=_0x33fd9e,this['z']=_0x26dd81,this['w']=_0x275290,this;}['setFromAxi'+'sAngle'](_0xa8f119,_0x1aa7fe){_0x1aa7fe*=(0x3f3+0x10c7+-0x14ba+0.5)*Y['DEG_TO_RAD'];const _0x2e0b05=Math['sin'](_0x1aa7fe),_0x4b3e82=Math['cos'](_0x1aa7fe);return this['x']=_0x2e0b05*_0xa8f119['x'],this['y']=_0x2e0b05*_0xa8f119['y'],this['z']=_0x2e0b05*_0xa8f119['z'],this['w']=_0x4b3e82,this;}['setFromEul'+'erAngles'](_0x1a402b,_0xde25f9,_0x35be10){if(_0x1a402b instanceof D){const _0x13ee55=_0x1a402b;_0x1a402b=_0x13ee55['x'],_0xde25f9=_0x13ee55['y'],_0x35be10=_0x13ee55['z'];}const _0x2f7ff1=(0x1*-0x486+0x242d+-0x1*0x1fa7+0.5)*Y['DEG_TO_RAD'];_0x1a402b*=_0x2f7ff1,_0xde25f9*=_0x2f7ff1,_0x35be10*=_0x2f7ff1;const _0x52c87e=Math['sin'](_0x1a402b),_0x234c04=Math['cos'](_0x1a402b),_0x1fc3d3=Math['sin'](_0xde25f9),_0x113628=Math['cos'](_0xde25f9),_0x328d9d=Math['sin'](_0x35be10),_0x476831=Math['cos'](_0x35be10);return this['x']=_0x52c87e*_0x113628*_0x476831-_0x234c04*_0x1fc3d3*_0x328d9d,this['y']=_0x234c04*_0x1fc3d3*_0x476831+_0x52c87e*_0x113628*_0x328d9d,this['z']=_0x234c04*_0x113628*_0x328d9d-_0x52c87e*_0x1fc3d3*_0x476831,this['w']=_0x234c04*_0x113628*_0x476831+_0x52c87e*_0x1fc3d3*_0x328d9d,this;}['setFromMat'+'4'](_0x5ac81d){const _0x55e752=_0x5ac81d['data'];let _0x529e12=_0x55e752[-0x12*-0x2f+-0xd3f+0x9f1],_0x2d4b4a=_0x55e752[-0x42*0x68+-0x69*0x56+0x3e17],_0x1180dc=_0x55e752[-0x1319*0x1+-0xe90+0x21ab],_0x2b50c3=_0x55e752[-0x28c*0x2+-0x58f*0x5+0x20e7],_0x33cbe5=_0x55e752[0x2213+-0x1862+-0x9ac],_0x1bcd2d=_0x55e752[-0x438*-0x6+-0x7*-0x55b+-0x3*0x14ed],_0x2e7973=_0x55e752[-0x1*0x1c28+0x1*-0x731+-0x1*-0x2361],_0x595536=_0x55e752[-0x4*-0x303+-0x14*0x3a+-0x77b],_0x96a319=_0x55e752[-0x13d8+-0x4e*0x6d+-0x6a3*-0x8],_0xbc901d;return _0xbc901d=_0x529e12*_0x529e12+_0x2d4b4a*_0x2d4b4a+_0x1180dc*_0x1180dc,_0xbc901d===0x1690+0x1*-0xe89+-0x807?this['set'](-0x130c*-0x1+0xb*0x139+-0x207f*0x1,0x1*-0x1237+-0x91a*-0x1+0x91d,0x157*0x2+-0x8f1*-0x2+0xbc*-0x1c,0x11*0x3+0x6*0x3dd+-0x1760):(_0xbc901d=(-0xff3*0x1+0x24d2+0x2*-0xa6f)/Math['sqrt'](_0xbc901d),_0x529e12*=_0xbc901d,_0x2d4b4a*=_0xbc901d,_0x1180dc*=_0xbc901d,_0xbc901d=_0x2b50c3*_0x2b50c3+_0x33cbe5*_0x33cbe5+_0x1bcd2d*_0x1bcd2d,_0xbc901d===-0x1d1c+-0x131*0x13+0x33bf?this['set'](0x1*0x1b55+0x2587*0x1+-0x40dc,-0x1*-0x188b+-0x20c0+-0x835*-0x1,-0x183a+-0x1c0a+0xa74*0x5,0xd*-0x17+-0x4ff+0x1*0x62b):(_0xbc901d=(-0x3*-0x5e9+0x1*-0x1c97+0x1*0xadd)/Math['sqrt'](_0xbc901d),_0x2b50c3*=_0xbc901d,_0x33cbe5*=_0xbc901d,_0x1bcd2d*=_0xbc901d,_0xbc901d=_0x2e7973*_0x2e7973+_0x595536*_0x595536+_0x96a319*_0x96a319,_0xbc901d===0x10a0+0x12f8+0x473*-0x8?this['set'](0xbd+0x1877*-0x1+0x17ba*0x1,-0xd1e+-0x1139+0x1e57,0x535+-0x58a*-0x5+-0x1*0x20e7,0x242d+-0x12bb+-0x5*0x37d):(_0xbc901d=(0x2082*0x1+0x4b4*-0x7+0x6b)/Math['sqrt'](_0xbc901d),_0x2e7973*=_0xbc901d,_0x595536*=_0xbc901d,_0x96a319*=_0xbc901d,_0x96a319<-0x156e+0x15f1+-0x83?_0x529e12>_0x33cbe5?this['set'](0x1*-0x2699+-0x851*-0x2+-0x94*-0x26+_0x529e12-_0x33cbe5-_0x96a319,_0x2d4b4a+_0x2b50c3,_0x2e7973+_0x1180dc,_0x1bcd2d-_0x595536):this['set'](_0x2d4b4a+_0x2b50c3,-0x3e7+-0x13*0xb+0x4b9-_0x529e12+_0x33cbe5-_0x96a319,_0x1bcd2d+_0x595536,_0x2e7973-_0x1180dc):_0x529e12<-_0x33cbe5?this['set'](_0x2e7973+_0x1180dc,_0x1bcd2d+_0x595536,-0x1f9+-0x1*0x1e4f+-0x675*-0x5-_0x529e12-_0x33cbe5+_0x96a319,_0x2d4b4a-_0x2b50c3):this['set'](_0x1bcd2d-_0x595536,_0x2e7973-_0x1180dc,_0x2d4b4a-_0x2b50c3,-0xa7d+-0x2a2+0xe*0xf0+_0x529e12+_0x33cbe5+_0x96a319),this['mulScalar']((0x131a+-0x1b5f+0x846)/this['length']()))));}['setFromDir'+'ections'](_0x5301b3,_0x181627){const _0x3b3b40=-0x3d*0x97+0x1b08+-0x17e*-0x6+_0x5301b3['dot'](_0x181627);return _0x3b3b40<Number['EPSILON']?Math['abs'](_0x5301b3['x'])>Math['abs'](_0x5301b3['y'])?(this['x']=-_0x5301b3['z'],this['y']=0x765+0x104+-0x869,this['z']=_0x5301b3['x'],this['w']=-0xd*0x7+-0x239+0x294):(this['x']=0x1*0x1229+0x69*-0x13+-0xa5e,this['y']=-_0x5301b3['z'],this['z']=_0x5301b3['y'],this['w']=0x5ea*0x3+-0x718+-0xaa6):(this['x']=_0x5301b3['y']*_0x181627['z']-_0x5301b3['z']*_0x181627['y'],this['y']=_0x5301b3['z']*_0x181627['x']-_0x5301b3['x']*_0x181627['z'],this['z']=_0x5301b3['x']*_0x181627['y']-_0x5301b3['y']*_0x181627['x'],this['w']=_0x3b3b40),this['normalize']();}['slerp'](_0x17f79b,_0x4ab970,_0x3bb7a3){const _0x5154f9=_0x17f79b['x'],_0xb21747=_0x17f79b['y'],_0x30a792=_0x17f79b['z'],_0x5ba11f=_0x17f79b['w'];let _0x4644e8=_0x4ab970['x'],_0x589ec6=_0x4ab970['y'],_0x136a62=_0x4ab970['z'],_0x251035=_0x4ab970['w'],_0x5ec979=_0x5ba11f*_0x251035+_0x5154f9*_0x4644e8+_0xb21747*_0x589ec6+_0x30a792*_0x136a62;if(_0x5ec979<0x2f3+-0x8*0x329+0x1655*0x1&&(_0x251035=-_0x251035,_0x4644e8=-_0x4644e8,_0x589ec6=-_0x589ec6,_0x136a62=-_0x136a62,_0x5ec979=-_0x5ec979),Math['abs'](_0x5ec979)>=-0xbcc+0x19ab+-0xa*0x163)return this['w']=_0x5ba11f,this['x']=_0x5154f9,this['y']=_0xb21747,this['z']=_0x30a792,this;const _0x43448b=Math['acos'](_0x5ec979),_0x270cf1=Math['sqrt'](-0x1d0+0x1*0x1cb5+-0x1ae4-_0x5ec979*_0x5ec979);if(Math['abs'](_0x270cf1)<0x8*0x37a+0x19+-0x1be9+0.001)return this['w']=_0x5ba11f*(0x1a35+0x1f0c*-0x1+0x19d*0x3+0.5)+_0x251035*(-0x13bc+0x1288+-0x134*-0x1+0.5),this['x']=_0x5154f9*(0x84b+-0x4*0x374+-0x585*-0x1+0.5)+_0x4644e8*(0x79*-0x1f+-0x17*-0x17f+-0x13c2*0x1+0.5),this['y']=_0xb21747*(0x243+0x13d7+-0x161a+0.5)+_0x589ec6*(-0xd1c+-0x2*0x5dd+0x18d6+0.5),this['z']=_0x30a792*(0x1b*-0x2b+-0x3*0x43b+0x113a+0.5)+_0x136a62*(-0x16e4+-0xe5b*0x2+0x529*0xa+0.5),this;const _0xe36d14=Math['sin']((0xc7c+-0xf81+0x306-_0x3bb7a3)*_0x43448b)/_0x270cf1,_0x1f9a88=Math['sin'](_0x3bb7a3*_0x43448b)/_0x270cf1;return this['w']=_0x5ba11f*_0xe36d14+_0x251035*_0x1f9a88,this['x']=_0x5154f9*_0xe36d14+_0x4644e8*_0x1f9a88,this['y']=_0xb21747*_0xe36d14+_0x589ec6*_0x1f9a88,this['z']=_0x30a792*_0xe36d14+_0x136a62*_0x1f9a88,this;}['transformV'+'ector'](_0x181eaa,_0x22263e=new D()){const _0x5ecf2c=_0x181eaa['x'],_0x564b13=_0x181eaa['y'],_0x51c3c0=_0x181eaa['z'],_0x5743f0=this['x'],_0x14d1d4=this['y'],_0x4dadaf=this['z'],_0x2a4683=this['w'],_0x17bc6c=_0x2a4683*_0x5ecf2c+_0x14d1d4*_0x51c3c0-_0x4dadaf*_0x564b13,_0x2f76b9=_0x2a4683*_0x564b13+_0x4dadaf*_0x5ecf2c-_0x5743f0*_0x51c3c0,_0x330ec2=_0x2a4683*_0x51c3c0+_0x5743f0*_0x564b13-_0x14d1d4*_0x5ecf2c,_0x3bc6d6=-_0x5743f0*_0x5ecf2c-_0x14d1d4*_0x564b13-_0x4dadaf*_0x51c3c0;return _0x22263e['x']=_0x17bc6c*_0x2a4683+_0x3bc6d6*-_0x5743f0+_0x2f76b9*-_0x4dadaf-_0x330ec2*-_0x14d1d4,_0x22263e['y']=_0x2f76b9*_0x2a4683+_0x3bc6d6*-_0x14d1d4+_0x330ec2*-_0x5743f0-_0x17bc6c*-_0x4dadaf,_0x22263e['z']=_0x330ec2*_0x2a4683+_0x3bc6d6*-_0x4dadaf+_0x17bc6c*-_0x14d1d4-_0x2f76b9*-_0x5743f0,_0x22263e;}['fromArray'](_0x5a2f2f,_0x3b54d3=0x1d97*-0x1+-0x2ed*0x7+0x3212){return this['x']=_0x5a2f2f[_0x3b54d3]??this['x'],this['y']=_0x5a2f2f[_0x3b54d3+(-0x4b*-0x13+0x13d4+-0x1964)]??this['y'],this['z']=_0x5a2f2f[_0x3b54d3+(-0x1dca+-0x14c3+-0x328f*-0x1)]??this['z'],this['w']=_0x5a2f2f[_0x3b54d3+(0x1c5d+-0xd*0x1df+-0x407)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x1c5606=[],_0x1e0a36=-0x12ab*0x1+-0xc86+0x1f31){return _0x1c5606[_0x1e0a36]=this['x'],_0x1c5606[_0x1e0a36+(-0x2*0x6f7+-0x2*0x2dd+0x13a9)]=this['y'],_0x1c5606[_0x1e0a36+(0x12ca+-0x15e5+-0x1*-0x31d)]=this['z'],_0x1c5606[_0x1e0a36+(-0x1140+0x1*-0x1cca+-0x1*-0x2e0d)]=this['w'],_0x1c5606;}};h(Sn,'IDENTITY',Object['freeze'](new Sn(-0xda3*0x2+-0x182c+-0xf*-0x36e,0x82b*0x1+0xc85+-0x14b0,0x706+-0x1434+0xd2e,0x1229*0x1+-0x706+-0xb22))),h(Sn,'ZERO',Object['freeze'](new Sn(-0x24aa+0x17*-0x81+0x1*0x3041,-0x9*-0x61+-0x17*-0x89+-0xfb8,0xbd2+0x1*0x1035+-0x19*0x11f,0x24af+0x1*0x149f+-0x394e)));let le=Sn;const Pa=new D(),Ma=new D(),Um=new D(),Bm=new D(),gx=new D();class De{constructor(_0xf9617,_0x1eb6f3){h(this,'center',new D()),h(this,'halfExtent'+'s',new D(0x92a+0x126c+-0x499*0x6+0.5,0x1326+0x5*-0xf2+-0x4*0x39b+0.5,-0x3*0x239+-0x14ba+0x1b65+0.5)),h(this,'_min',new D()),h(this,'_max',new D()),(_0xf9617&&this['center']['copy'](_0xf9617),_0x1eb6f3&&this['halfExtent'+'s']['copy'](_0x1eb6f3));}['add'](_0x26e95b){const _0x49e766=this['center'],_0x13d6c5=_0x49e766['x'],_0x2ea34e=_0x49e766['y'],_0x4f8e75=_0x49e766['z'],_0x3366ba=this['halfExtent'+'s'],_0x458be9=_0x3366ba['x'],_0x572464=_0x3366ba['y'],_0x40dc68=_0x3366ba['z'];let _0x1fa871=_0x13d6c5-_0x458be9,_0x16b915=_0x13d6c5+_0x458be9,_0x10e495=_0x2ea34e-_0x572464,_0x4c1dbc=_0x2ea34e+_0x572464,_0x12047a=_0x4f8e75-_0x40dc68,_0x2d6acb=_0x4f8e75+_0x40dc68;const _0x2f42fb=_0x26e95b['center'],_0x27a9bf=_0x2f42fb['x'],_0x5ac595=_0x2f42fb['y'],_0x5431e7=_0x2f42fb['z'],_0x489b46=_0x26e95b['halfExtent'+'s'],_0xfa988=_0x489b46['x'],_0x24f84c=_0x489b46['y'],_0x12a96b=_0x489b46['z'],_0x19453e=_0x27a9bf-_0xfa988,_0x30f4de=_0x27a9bf+_0xfa988,_0x3210ed=_0x5ac595-_0x24f84c,_0x3432f4=_0x5ac595+_0x24f84c,_0x2192b0=_0x5431e7-_0x12a96b,_0x59b6f3=_0x5431e7+_0x12a96b;_0x19453e<_0x1fa871&&(_0x1fa871=_0x19453e),_0x30f4de>_0x16b915&&(_0x16b915=_0x30f4de),_0x3210ed<_0x10e495&&(_0x10e495=_0x3210ed),_0x3432f4>_0x4c1dbc&&(_0x4c1dbc=_0x3432f4),_0x2192b0<_0x12047a&&(_0x12047a=_0x2192b0),_0x59b6f3>_0x2d6acb&&(_0x2d6acb=_0x59b6f3),_0x49e766['x']=(_0x1fa871+_0x16b915)*(0x20e9+-0x8f2*0x1+-0x17f7*0x1+0.5),_0x49e766['y']=(_0x10e495+_0x4c1dbc)*(0x3*-0xacb+0x3a7+0x1cba+0.5),_0x49e766['z']=(_0x12047a+_0x2d6acb)*(0x1*-0x1f7a+0x1*-0x6+0x1f80+0.5),_0x3366ba['x']=(_0x16b915-_0x1fa871)*(0x14ee+0x215a+-0x48*0xc1+0.5),_0x3366ba['y']=(_0x4c1dbc-_0x10e495)*(0x13b1+0x1275+-0x2626+0.5),_0x3366ba['z']=(_0x2d6acb-_0x12047a)*(0x209e+-0x2159*-0x1+-0x41f7+0.5);}['copy'](_0x3aeab2){this['center']['copy'](_0x3aeab2['center']),this['halfExtent'+'s']['copy'](_0x3aeab2['halfExtent'+'s']);}['clone'](){return new De(this['center'],this['halfExtent'+'s']);}['intersects'](_0x49a65c){const _0x20921e=this['getMax'](),_0x2c1e7f=this['getMin'](),_0x5d9aec=_0x49a65c['getMax'](),_0x561367=_0x49a65c['getMin']();return _0x2c1e7f['x']<=_0x5d9aec['x']&&_0x20921e['x']>=_0x561367['x']&&_0x2c1e7f['y']<=_0x5d9aec['y']&&_0x20921e['y']>=_0x561367['y']&&_0x2c1e7f['z']<=_0x5d9aec['z']&&_0x20921e['z']>=_0x561367['z'];}['_intersect'+'sRay'](_0x31fa9b,_0x193798){const _0x59f904=Pa['copy'](this['getMin']())['sub'](_0x31fa9b['origin']),_0x1ab389=Ma['copy'](this['getMax']())['sub'](_0x31fa9b['origin']),_0x37aae6=_0x31fa9b['direction'];_0x37aae6['x']===0x10f3*-0x1+0xbd2*0x1+0x521?(_0x59f904['x']=_0x59f904['x']<0x87f+-0x1*0x1547+0xcc8?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x1ab389['x']=_0x1ab389['x']<0x1486+0x435*-0x3+-0x7e7*0x1?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x59f904['x']/=_0x37aae6['x'],_0x1ab389['x']/=_0x37aae6['x']),_0x37aae6['y']===0x273+-0xb38+-0x1*-0x8c5?(_0x59f904['y']=_0x59f904['y']<-0x4e4*-0x2+-0x18*0xf8+0xd78?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x1ab389['y']=_0x1ab389['y']<-0x17e8+-0x1*-0x2237+0x1d*-0x5b?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x59f904['y']/=_0x37aae6['y'],_0x1ab389['y']/=_0x37aae6['y']),_0x37aae6['z']===0x121+-0x87b*0x3+0x1850?(_0x59f904['z']=_0x59f904['z']<0xa4b+0x1f*0xf2+-0x2799?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x1ab389['z']=_0x1ab389['z']<-0x243a+0x2*-0x11db+0x47f0?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x59f904['z']/=_0x37aae6['z'],_0x1ab389['z']/=_0x37aae6['z']);const _0xb625e1=Um['set'](Math['min'](_0x59f904['x'],_0x1ab389['x']),Math['min'](_0x59f904['y'],_0x1ab389['y']),Math['min'](_0x59f904['z'],_0x1ab389['z'])),_0x238091=Bm['set'](Math['max'](_0x59f904['x'],_0x1ab389['x']),Math['max'](_0x59f904['y'],_0x1ab389['y']),Math['max'](_0x59f904['z'],_0x1ab389['z'])),_0x10c662=Math['min'](Math['min'](_0x238091['x'],_0x238091['y']),_0x238091['z']),_0x53ab97=Math['max'](Math['max'](_0xb625e1['x'],_0xb625e1['y']),_0xb625e1['z']),_0x447a46=_0x10c662>=_0x53ab97&&_0x53ab97>=0x1*-0x14de+-0x1620+0x2*0x157f;return _0x447a46&&_0x193798['copy'](_0x31fa9b['direction'])['mulScalar'](_0x53ab97)['add'](_0x31fa9b['origin']),_0x447a46;}['_fastInter'+'sectsRay'](_0x369edc){const _0x3ddc68=Pa,_0x186536=Ma,_0x1dc21d=Um,_0x13d0f8=Bm,_0x319d40=gx,_0x336996=_0x369edc['direction'];return _0x3ddc68['sub2'](_0x369edc['origin'],this['center']),_0x13d0f8['set'](Math['abs'](_0x3ddc68['x']),Math['abs'](_0x3ddc68['y']),Math['abs'](_0x3ddc68['z'])),_0x1dc21d['mul2'](_0x3ddc68,_0x336996),!(_0x13d0f8['x']>this['halfExtent'+'s']['x']&&_0x1dc21d['x']>=0x219f+0x1f16+0x5*-0xcf1||_0x13d0f8['y']>this['halfExtent'+'s']['y']&&_0x1dc21d['y']>=-0x9f7+0x12b0+-0x8b9||_0x13d0f8['z']>this['halfExtent'+'s']['z']&&_0x1dc21d['z']>=-0x21*0x13+-0x266+0x11*0x49||(_0x319d40['set'](Math['abs'](_0x336996['x']),Math['abs'](_0x336996['y']),Math['abs'](_0x336996['z'])),_0x186536['cross'](_0x336996,_0x3ddc68),_0x186536['set'](Math['abs'](_0x186536['x']),Math['abs'](_0x186536['y']),Math['abs'](_0x186536['z'])),_0x186536['x']>this['halfExtent'+'s']['y']*_0x319d40['z']+this['halfExtent'+'s']['z']*_0x319d40['y'])||_0x186536['y']>this['halfExtent'+'s']['x']*_0x319d40['z']+this['halfExtent'+'s']['z']*_0x319d40['x']||_0x186536['z']>this['halfExtent'+'s']['x']*_0x319d40['y']+this['halfExtent'+'s']['y']*_0x319d40['x']);}['intersects'+'Ray'](_0x251bfe,_0x3dc3a8){return _0x3dc3a8?this['_intersect'+'sRay'](_0x251bfe,_0x3dc3a8):this['_fastInter'+'sectsRay'](_0x251bfe);}['setMinMax'](_0x472f52,_0x5464c1){this['center']['add2'](_0x5464c1,_0x472f52)['mulScalar'](-0x142e+0xa*-0x1c3+0x25cc+0.5),this['halfExtent'+'s']['sub2'](_0x5464c1,_0x472f52)['mulScalar'](0x8f3+-0xa58+0x165+0.5);}['getMin'](){return this['_min']['copy'](this['center'])['sub'](this['halfExtent'+'s']);}['getMax'](){return this['_max']['copy'](this['center'])['add'](this['halfExtent'+'s']);}['containsPo'+'int'](_0x250d1c){const _0x5c283c=this['getMin'](),_0x38aca3=this['getMax']();return!(_0x250d1c['x']<_0x5c283c['x']||_0x250d1c['x']>_0x38aca3['x']||_0x250d1c['y']<_0x5c283c['y']||_0x250d1c['y']>_0x38aca3['y']||_0x250d1c['z']<_0x5c283c['z']||_0x250d1c['z']>_0x38aca3['z']);}['setFromTra'+'nsformedAa'+'bb'](_0x474fd9,_0x490ce2,_0x5e59fa=!(-0x1403*0x1+-0x1d2b+0x1*0x312f)){const _0x5d7b44=_0x474fd9['center'],_0x26d0bc=_0x474fd9['halfExtent'+'s'],_0x37250d=_0x490ce2['data'];let _0x4e67e2=_0x37250d[-0x91*-0x3+0x23dd*-0x1+0x222a],_0x38d6c9=_0x37250d[0x1*-0x1df2+-0xe51+0x2c47],_0x4f3b2b=_0x37250d[0x1cf*0x7+-0x1*0x20a3+0x18a*0xd],_0x2f2583=_0x37250d[0x268a+-0x257*0x3+-0x1f84],_0x3e439a=_0x37250d[-0xef8+0x5e*0x2+-0xe41*-0x1],_0x4393e9=_0x37250d[0x2120+-0xbfe*-0x2+0x3913*-0x1],_0x5000ba=_0x37250d[0x1a95+-0x171a*0x1+0x7f*-0x7],_0x2003dc=_0x37250d[-0x20ef*0x1+-0x1*0x23d6+-0xb*-0x641],_0x58ebb4=_0x37250d[-0x14dd+0x74b*-0x1+0x1c32];if(_0x5e59fa){let _0x572f99=_0x4e67e2*_0x4e67e2+_0x38d6c9*_0x38d6c9+_0x4f3b2b*_0x4f3b2b;if(_0x572f99>-0x1c99+0x35*-0xa5+0x3ec2){const _0x2ca0da=(0x446+0x1*0x240d+-0x18d*0x1a)/Math['sqrt'](_0x572f99);_0x4e67e2*=_0x2ca0da,_0x38d6c9*=_0x2ca0da,_0x4f3b2b*=_0x2ca0da;}if(_0x572f99=_0x2f2583*_0x2f2583+_0x3e439a*_0x3e439a+_0x4393e9*_0x4393e9,_0x572f99>-0x1bf+0x1*-0x935+0xaf4){const _0x30c8c1=(-0x610*-0x6+0x5a0+-0x1*0x29ff)/Math['sqrt'](_0x572f99);_0x2f2583*=_0x30c8c1,_0x3e439a*=_0x30c8c1,_0x4393e9*=_0x30c8c1;}if(_0x572f99=_0x5000ba*_0x5000ba+_0x2003dc*_0x2003dc+_0x58ebb4*_0x58ebb4,_0x572f99>0x92b+0x51c*-0x1+-0x40f){const _0x24a239=(-0x7*0x1c1+-0xeb4+0x1afc)/Math['sqrt'](_0x572f99);_0x5000ba*=_0x24a239,_0x2003dc*=_0x24a239,_0x58ebb4*=_0x24a239;}}this['center']['set'](_0x37250d[0x1*0x2cf+0x1*-0x21ff+0x1f3c]+_0x4e67e2*_0x5d7b44['x']+_0x38d6c9*_0x5d7b44['y']+_0x4f3b2b*_0x5d7b44['z'],_0x37250d[0x21ef+0x2396+0x5ca*-0xc]+_0x2f2583*_0x5d7b44['x']+_0x3e439a*_0x5d7b44['y']+_0x4393e9*_0x5d7b44['z'],_0x37250d[0x13a3+0x16+0x1*-0x13ab]+_0x5000ba*_0x5d7b44['x']+_0x2003dc*_0x5d7b44['y']+_0x58ebb4*_0x5d7b44['z']),this['halfExtent'+'s']['set'](Math['abs'](_0x4e67e2)*_0x26d0bc['x']+Math['abs'](_0x38d6c9)*_0x26d0bc['y']+Math['abs'](_0x4f3b2b)*_0x26d0bc['z'],Math['abs'](_0x2f2583)*_0x26d0bc['x']+Math['abs'](_0x3e439a)*_0x26d0bc['y']+Math['abs'](_0x4393e9)*_0x26d0bc['z'],Math['abs'](_0x5000ba)*_0x26d0bc['x']+Math['abs'](_0x2003dc)*_0x26d0bc['y']+Math['abs'](_0x58ebb4)*_0x26d0bc['z']);}static['computeMin'+'Max'](_0x1518b0,_0x1d79a7,_0x302a1a,_0x128b93=_0x1518b0['length']/(0x480+0x95*-0x3+-0x2be)){if(_0x128b93>0x7b5*-0x3+-0x1432+0x2b51){let _0x11ef27=_0x1518b0[0x89e+0x25*-0x25+0x1f*-0x1b],_0x32be5c=_0x1518b0[-0x83f*0x1+0x1212+-0x9d2],_0x36b97e=_0x1518b0[0x94a+-0x1627+0xcdf],_0xef8536=_0x11ef27,_0x24f56c=_0x32be5c,_0xb0c06b=_0x36b97e;const _0x69e4d6=_0x128b93*(-0xdaf*-0x1+0xa*-0x1c7+0x69*0xa);for(let _0x18632f=0x34*-0x7e+-0x2509*0x1+0x26*0x1a6;_0x18632f<_0x69e4d6;_0x18632f+=-0x88f+0x1*-0x16f+0xa01){const _0x3ed8e6=_0x1518b0[_0x18632f],_0x4c3cd7=_0x1518b0[_0x18632f+(-0x10*-0x49+-0x11*-0x22c+-0x297b)],_0x562a60=_0x1518b0[_0x18632f+(-0xb09+0x2*-0x11ff+-0x1*-0x2f09)];_0x3ed8e6<_0x11ef27&&(_0x11ef27=_0x3ed8e6),_0x4c3cd7<_0x32be5c&&(_0x32be5c=_0x4c3cd7),_0x562a60<_0x36b97e&&(_0x36b97e=_0x562a60),_0x3ed8e6>_0xef8536&&(_0xef8536=_0x3ed8e6),_0x4c3cd7>_0x24f56c&&(_0x24f56c=_0x4c3cd7),_0x562a60>_0xb0c06b&&(_0xb0c06b=_0x562a60);}_0x1d79a7['set'](_0x11ef27,_0x32be5c,_0x36b97e),_0x302a1a['set'](_0xef8536,_0x24f56c,_0xb0c06b);}}['compute'](_0x2de4a7,_0x2883cf){De['computeMin'+'Max'](_0x2de4a7,Pa,Ma,_0x2883cf),this['setMinMax'](Pa,Ma);}['intersects'+'BoundingSp'+'here'](_0x5e4747){return this['_distanceT'+'oBoundingS'+'phereSq'](_0x5e4747)<=_0x5e4747['radius']*_0x5e4747['radius'];}['_distanceT'+'oBoundingS'+'phereSq'](_0x478763){const _0x378dc9=this['getMin'](),_0x5a1327=this['getMax']();let _0x10b8a7=0x2dd*-0x1+-0x1438+-0x137*-0x13;const _0x4c8da3=['x','y','z'];for(let _0x48d36c=-0xffa+0xe91+0x169;_0x48d36c<0x8e*0x25+0x35b*-0x5+-0x3bc;++_0x48d36c){let _0x410874=-0xeb3+-0x1529+0x23dc;const _0x5865cc=_0x478763['center'][_0x4c8da3[_0x48d36c]],_0x59b324=_0x378dc9[_0x4c8da3[_0x48d36c]],_0x3cb0b8=_0x5a1327[_0x4c8da3[_0x48d36c]];let _0x125bcd=0x86c+-0xc34+-0xb*-0x58;_0x5865cc<_0x59b324&&(_0x125bcd=_0x59b324-_0x5865cc,_0x410874+=_0x125bcd*_0x125bcd),_0x5865cc>_0x3cb0b8&&(_0x125bcd=_0x5865cc-_0x3cb0b8,_0x410874+=_0x125bcd*_0x125bcd),_0x10b8a7+=_0x410874;}return _0x10b8a7;}['_expand'](_0x4d85ac,_0x4d4ca3){Pa['add2'](this['getMin'](),_0x4d85ac),Ma['add2'](this['getMax'](),_0x4d4ca3),this['setMinMax'](Pa,Ma);}}const Wl=new D(),Sx=new D();class sp{constructor(_0x55df8b=new D(),_0x4366fc=0x1256+0x2*0x75e+-0x2112+0.5){h(this,'center'),h(this,'radius'),(w['assert'](!Object['isFrozen'](_0x55df8b),'The\x20constr'+'uctor\x20of\x20\x27'+'BoundingSp'+'here\x27\x20does'+'\x20not\x20accep'+'t\x20a\x20consta'+'nt\x20(frozen'+')\x20object\x20a'+'s\x20a\x20\x27cente'+'r\x27\x20paramet'+'er'),this['center']=_0x55df8b,this['radius']=_0x4366fc);}['containsPo'+'int'](_0x2d52e5){const _0x270b43=Wl['sub2'](_0x2d52e5,this['center'])['lengthSq'](),_0x107043=this['radius'];return _0x270b43<_0x107043*_0x107043;}['intersects'+'Ray'](_0x3b65fc,_0x3f2c27){const _0xc96da0=Wl['copy'](_0x3b65fc['origin'])['sub'](this['center']),_0x5700f2=_0xc96da0['dot'](Sx['copy'](_0x3b65fc['direction'])['normalize']()),_0x1035c4=_0xc96da0['dot'](_0xc96da0)-this['radius']*this['radius'];if(_0x1035c4>-0xc3d*-0x2+-0x1c5d+0x3e3&&_0x5700f2>-0x1a01+0x1*-0xd76+0x1*0x2777)return!(-0x1*-0x1537+0x80b*-0x3+0x2eb);const _0x560442=_0x5700f2*_0x5700f2-_0x1035c4;if(_0x560442<-0x3aa+0x1289+-0xedf*0x1)return!(0x2*0x100a+0x226d+-0x380*0x13);const _0x2e167c=Math['abs'](-_0x5700f2-Math['sqrt'](_0x560442));return _0x3f2c27&&_0x3f2c27['copy'](_0x3b65fc['direction'])['mulScalar'](_0x2e167c)['add'](_0x3b65fc['origin']),!(0x997*-0x1+-0x7f4+0x118b);}['intersects'+'BoundingSp'+'here'](_0x2cc151){Wl['sub2'](_0x2cc151['center'],this['center']);const _0x547757=_0x2cc151['radius']+this['radius'];return Wl['lengthSq']()<=_0x547757*_0x547757;}}class QS{constructor(_0x34a833=D['UP'],_0x18d3ad=-0x1545*-0x1+-0x137*0x5+-0xf32*0x1){h(this,'normal',new D()),h(this,'distance'),(this['normal']['copy'](_0x34a833),this['distance']=_0x18d3ad);}['clone'](){const _0x42017a=this['constructo'+'r'];return new _0x42017a()['copy'](this);}['copy'](_0x193792){return this['normal']['copy'](_0x193792['normal']),this['distance']=_0x193792['distance'],this;}['intersects'+'Line'](_0x46d54a,_0x88488a,_0x5a6c1b){const _0x42c2cb=this['distance'],_0x27e639=this['normal']['dot'](_0x46d54a)+_0x42c2cb,_0x24e9e2=this['normal']['dot'](_0x88488a)+_0x42c2cb,_0x32cf97=_0x27e639/(_0x27e639-_0x24e9e2),_0x246e4c=_0x32cf97>=-0x3*0x8bf+0x2f*0x21+0x142e&&_0x32cf97<=0x48+-0x2*-0xe47+0x79*-0x3d;return _0x246e4c&&_0x5a6c1b&&_0x5a6c1b['lerp'](_0x46d54a,_0x88488a,_0x32cf97),_0x246e4c;}['intersects'+'Ray'](_0x2c5317,_0x2040b3){const _0x2d30af=this['normal']['dot'](_0x2c5317['direction']);if(_0x2d30af===0x1bc4+0x9b1+0x2b*-0xdf)return!(-0x2f9*-0xa+0x69e*-0x1+-0x171b);const _0x5cb130=-(this['normal']['dot'](_0x2c5317['origin'])+this['distance'])/_0x2d30af;return _0x5cb130>=-0xa*-0x58+0x1501*-0x1+-0x3*-0x5db&&_0x2040b3&&_0x2040b3['copy'](_0x2c5317['direction'])['mulScalar'](_0x5cb130)['add'](_0x2c5317['origin']),_0x5cb130>=0x231d+-0x1*0xf86+-0x1397;}['normalize'](){const _0x136418=(0x1c74+0x1b1a+0x1*-0x378d)/this['normal']['length']();return this['normal']['mulScalar'](_0x136418),this['distance']*=_0x136418,this;}['set'](_0x24107b,_0x5eb457,_0x41fb3b,_0x481485){return this['normal']['set'](_0x24107b,_0x5eb457,_0x41fb3b),this['distance']=_0x481485,this;}['setFromPoi'+'ntNormal'](_0x2441f9,_0x58a8ec){return this['normal']['copy'](_0x58a8ec),this['distance']=-this['normal']['dot'](_0x2441f9),this;}}class yx{constructor(){h(this,'planes',[]);for(let _0x40342a=0xb65+-0x207f+-0x25*-0x92;_0x40342a<-0x1bc*-0xe+0x1155+-0x2997;_0x40342a++)this['planes'][_0x40342a]=new QS();}['clone'](){const _0x2e297c=this['constructo'+'r'];return new _0x2e297c()['copy'](this);}['copy'](_0x5f2e2a){for(let _0x3e4150=0x445*-0x1+0x11b1+0xd6c*-0x1;_0x3e4150<0x232d+-0x1*-0x1d5d+0x4084*-0x1;_0x3e4150++)this['planes'][_0x3e4150]['copy'](_0x5f2e2a['planes'][_0x3e4150]);return this;}['setFromMat'+'4'](_0x58f85d){const [_0x2b5279,_0x3a91f7,_0x3c6e24,_0x5214b1,_0xad0942,_0x2cf4e9,_0x151a99,_0xfc9c04,_0x7b479c,_0x3f80a4,_0x17ac14,_0x257d99,_0x2b3a63,_0x1d188e,_0x3cbf3d,_0x5018ee]=_0x58f85d['data'],_0x2726c8=this['planes'];_0x2726c8[0x97c+-0x1fa1+0x1*0x1625]['set'](_0x5214b1-_0x2b5279,_0xfc9c04-_0xad0942,_0x257d99-_0x7b479c,_0x5018ee-_0x2b3a63)['normalize'](),_0x2726c8[-0x862+-0x266a+-0x2ecd*-0x1]['set'](_0x5214b1+_0x2b5279,_0xfc9c04+_0xad0942,_0x257d99+_0x7b479c,_0x5018ee+_0x2b3a63)['normalize'](),_0x2726c8[-0x1*0x1355+-0xfc7+0x91*0x3e]['set'](_0x5214b1+_0x3a91f7,_0xfc9c04+_0x2cf4e9,_0x257d99+_0x3f80a4,_0x5018ee+_0x1d188e)['normalize'](),_0x2726c8[0x1*-0x2252+-0xa19+-0x5e*-0x79]['set'](_0x5214b1-_0x3a91f7,_0xfc9c04-_0x2cf4e9,_0x257d99-_0x3f80a4,_0x5018ee-_0x1d188e)['normalize'](),_0x2726c8[0x19c*0x2+0x1e8a+0x10df*-0x2]['set'](_0x5214b1-_0x3c6e24,_0xfc9c04-_0x151a99,_0x257d99-_0x17ac14,_0x5018ee-_0x3cbf3d)['normalize'](),_0x2726c8[-0x9a*0x37+0xf*-0x1e9+0x3dc2]['set'](_0x5214b1+_0x3c6e24,_0xfc9c04+_0x151a99,_0x257d99+_0x17ac14,_0x5018ee+_0x3cbf3d)['normalize']();}['containsPo'+'int'](_0x17ef6d){for(let _0x2059fa=0x18c9+0x10b6+-0x297f;_0x2059fa<-0x791*0x5+-0x55*-0x1+0x2586;_0x2059fa++){const {normal:_0x159180,distance:_0x101fb7}=this['planes'][_0x2059fa];if(_0x159180['dot'](_0x17ef6d)+_0x101fb7<=-0x9e0+0x5*0x39a+-0x822)return!(-0x1904+0xd3*0x11+-0x1*-0xb02);}return!(0x512+-0x8b0+-0x39e*-0x1);}['containsSp'+'here'](_0x8ee596){const {center:_0x3990c0,radius:_0x20b52e}=_0x8ee596;let _0x31077d=-0x16db+-0x1194+0x286f;for(let _0x177e09=0x1813*0x1+0x14d8+0xef9*-0x3;_0x177e09<0xd1*0x5+-0x76e+0x1*0x35f;_0x177e09++){const {normal:_0xc2018f,distance:_0xb0edb6}=this['planes'][_0x177e09],_0x259c41=_0xc2018f['dot'](_0x3990c0)+_0xb0edb6;if(_0x259c41<=-_0x20b52e)return-0x1923+0xf19+0xa0a;_0x259c41>_0x20b52e&&_0x31077d++;}return _0x31077d===0x176a*-0x1+0x1*-0xb6a+0x22da?0x1d7c+-0x19*0x86+-0x419*0x4:0x5d*0x56+-0x22d*-0x7+0x2e78*-0x1;}}class Dn{constructor(_0x211f2c,_0x54e51c){h(this,'origin',new D()),h(this,'direction',D['FORWARD']['clone']()),(_0x211f2c&&this['origin']['copy'](_0x211f2c),_0x54e51c&&this['direction']['copy'](_0x54e51c));}['set'](_0x2ea2d9,_0x8981ce){return this['origin']['copy'](_0x2ea2d9),this['direction']['copy'](_0x8981ce),this;}['copy'](_0x13a1b6){return this['set'](_0x13a1b6['origin'],_0x13a1b6['direction']);}['clone'](){return new this['constructo'+'r'](this['origin'],this['direction']);}}const yt=0xf1a+-0x1c24+-0x2*-0x685,ue=0x2391+-0x64d*-0x3+-0x3677,ip=0x14e8+0x3*0xc95+-0x3aa5,rp=-0x779+-0x42f+0xba8,Ft=0x74*-0x3e+-0xb*-0x33b+-0x2*0x3b8,vx=-0x58f*0x1+0x1*0x39+0x558,JS=0x149b+-0x233+-0x1264,xx=-0x52*0x6b+-0x1a2*0x3+0x2731,jh=-0x238f+0x4fd*-0x2+0x6b*0x6d,Yh=-0x26ca+-0x1ce6+0x43b8,fs=0x46*0x55+-0x18e5*-0x1+-0x1*0x3023,Tx=0x19*-0x5e+0xd*-0x1c6+0x203e,wx=0x1f*0x53+-0xfa*-0x15+-0x187*0x14,Ex=0x11ae+-0x13bb*-0x1+-0xc77*0x3,ms=0xaeb+0x169*0xd+-0x1d40,lh=-0x5*0x1eb+0xf6c+-0x4*0x175,ey=-0x1240*0x2+0x1fc3+0x9*0x87,bx=-0x1da8+-0x198f*0x1+-0x1*-0x373a,jo=-0x1ec1*-0x1+-0x3a5+-0x1b1b,Yo=0x2*-0x98f+-0x2535+0x3855,ch=-0xe3*0x1a+-0xb14+0x3e*0x8d,bt=-0xadf+0x1*0x1f62+-0x1483,pa=0xd8+0x1*-0x229f+-0x2e*-0xbc,Fo=0x13ea+-0x413+-0xfd5,Ax=0x1e9b*-0x1+0x10e0+0xdbe,Te=0x1*0x1d6f+-0x1f9+0xb9*-0x26,vt=0x26*0xc7+-0xf6*-0x4+-0x2161,Kh=0xa25+0xa9*0x31+-0x2a7c,Zh=0x16be+-0x433*0x5+-0x94*0x3,Qh=0x26ea*-0x1+0x25f*0x2+0x2230,ma=0xd49+-0xac7+-0xd*0x31,Cx=-0x1567+0x27d+0x12ea,hh=0x13c1+0xe4a*0x1+-0x220a,dh=0x6d*-0x26+0x4*0x5b0+0x150*-0x5,Wf=0x1*0x917+0x1d27+-0x1*0x263b,Px=-0x3*-0xff+-0x313+0x1*0x1a,Mx=0x3*0x4b3+-0xffa*-0x1+-0x2*0xf07,Dx=-0x465+-0x14de+0x1949,Wi=-0x660+0x2100+-0x1a99,$f=0x1a82+0x147f+-0x2f01,Yi=-0xb13+-0x246c+-0x17c0*-0x2,wr=0xcbb*0x1+-0x1f9+-0x158*0x8,ty=0xdf*0x23+0x6d*-0x17+-0x14b2,sy=-0x2133*-0x1+-0x103f+-0x10f3*0x1,ap=-0xc7*0x1+-0x104d+0xa2*0x1b,Jh=0x154f+0xe*0xb5+-0x1f32,np=0x26ae+0x805+-0x11*0x2bf,ed=-0x183*-0x11+0x1*0x20de+-0x3a8c,Cr=-0x1fb2+0x1aa*-0xf+0xa*0x5ab,Ne=0x829*-0x3+-0x1*0x102+-0x1*-0x1984,td=-0xd9f+-0x20fd*-0x1+-0x5a*0x37,op=0x1254+-0x1*0x2679+0x23e*0x9,vl=-0x21d*-0xa+0x27*0x45+-0x1f9b,ui=0x2b*-0x49+-0x23b7+0x1*0x3005,nt=-0x5c+0x480+-0x418*0x1,Ye=-0x1*-0x8ab+0xbd+-0x95b,Xt=0xbfb*0x1+-0x4*-0x758+0x1*-0x294d,Ji=-0x6e4+0x2*0x772+-0x7f1,$i=0x3*0x405+-0x943+-0x19*0x1c,sd=-0xe01+0x2002+-0x11f0,In=-0x1ec5*-0x1+0x2b*0xc6+-0x3ff5,lp=-0xd63*0x1+-0xca5*-0x2+-0xbd4,_s=-0x1059+-0xb95+0x1e*0xef,id=-0x2*0xf38+-0x24dc+0x1*0x4361,cp=0x1e+-0x129*0x7+0x817,hp=0xa54+0xfdc+-0x1a19,xl=0x149b+0x3e4+0x1867*-0x1,Tl=-0x10a+0x1383+-0x10*0x126,rd=0x123*0x7+-0x1018+0x83d,ad=-0xf76+0x186c+0x1*-0x8db,iy=-0x1be5+0x25b+0x62*0x43,ry=0x894+0x3da*-0x2+-0xc3,ay=-0x6ff*0x3+-0xb39+0x2054,ny=-0x1b4*-0xa+0x1*0xe59+-0x1*0x1f42,dp=0x1918+0x1*-0xd01+-0x3*0x3fd,oy=0xc9+0x15*-0x11f+0x16e3,fp=-0x1*0x722+-0xb9d+0x12e1,up=0x2c*-0xb5+-0x2479*-0x1+-0x53a,pp=0x1*0x1d5d+0x5d1+-0x230a,Ki=-0x1876+0x15*-0x17+0x1a7e,mp=-0x13*-0x167+0x2*-0xaa1+-0x53d,ly=0x16e8+0x5*0x5f3+0xc0*-0x46,_p=-0x131b+-0x5ed*0x1+0x1f*0xd0,gp=0x318*0x2+0x1*0xeaa+-0x14b1*0x1,Sp=0x1ee1+0x1*-0x252e+-0x14b*-0x5,yp=-0x485+0x29*0xe1+-0x1f59,vp=-0x1c38+0x2101+0x49d*-0x1,cy=-0x19*0x12c+-0x1*-0xccb+0x23*0x7a,xp=-0x63a*0x2+0x1*0x1cf0+-0x104e,nd=0x310+0x1*-0x2458+0x293*0xd,Tp=-0x7a0+-0xafd+0x12cd,Ue=0x17b4+0x210e+-0x3891,od=-0x3ee*-0x7+-0x1c4c+0xfc,wp=-0x1e9a+-0xf48+-0x2f*-0xfb,Ep=-0x1ce+0x97*0x35+0x1d41*-0x1,bp=-0x24f5+-0x4*-0x976+-0xae,Xf=0x1fad+-0x210f+0x198,qf=0x1111*0x1+0x2033*0x1+-0x310d,jf=-0x2*-0xe66+0x1*0x1ec5+0x3b59*-0x1,Yf=-0x8*0x18f+-0x1d*-0x39+-0x4*-0x190,Kf=0x25*-0xf1+-0x100*-0x8+0x1d*0xef,Zf=0x925*0x3+0xfcf+-0x2aff,hy=0x3*0x47+-0x2b3*-0x4+-0xb61,dy=-0xed3+0xcff+0x215,fy=0x17e1*0x1+-0x10e4+0x1*-0x6bb,uy=0x3*0x397+-0xa7a+-0x1*0x8,Qf=-0x3*0xa14+0x84e*-0x1+0x1367*0x2,vn=0xd56+0xb7b*-0x1+-0xe*0x1d,Nt=new Map([[ty,{'name':'A8','size':0x1,'ldr':!(-0x228+0xba8+-0x260*0x4)}],[Ep,{'name':'R8','size':0x1,'ldr':!(0x180c+0x3a7*0xa+-0x1*0x3c92)}],[sy,{'name':'L8','size':0x1,'ldr':!(0x259d+0x1c2f+-0x41cc)}],[ap,{'name':'LA8','size':0x2,'ldr':!(0x1f79+0x8a5*0x1+0x1*-0x281e)}],[bp,{'name':'RG8','size':0x2,'ldr':!(0x5*0x10f+-0x20ae+0x921*0x3)}],[Jh,{'name':'RGB565','size':0x2,'ldr':!(0x1*0xe72+-0xb71*-0x2+-0x2554)}],[np,{'name':'RGBA5551','size':0x2,'ldr':!(-0x156b*-0x1+0x1901*0x1+0x4*-0xb9b)}],[ed,{'name':'RGBA4','size':0x2,'ldr':!(-0xe71+0x1019+-0x1a8)}],[Cr,{'name':'RGB8','size':0x4,'ldr':!(-0x261d+0x23c8+0x1*0x255)}],[Ne,{'name':'RGBA8','size':0x4,'ldr':!(0x25b+0xb87+-0xde2),'srgbFormat':_s}],[od,{'name':'R16F','size':0x2}],[wp,{'name':'RG16F','size':0x4}],[ui,{'name':'RGB16F','size':0x8}],[nt,{'name':'RGBA16F','size':0x8}],[Ye,{'name':'RGB32F','size':0x10}],[Xt,{'name':'RGBA32F','size':0x10}],[Ji,{'name':'R32F','size':0x4}],[$i,{'name':'DEPTH','size':0x4}],[vn,{'name':'DEPTH16','size':0x2}],[sd,{'name':'DEPTHSTENC'+'IL','size':0x4}],[In,{'name':'111110F','size':0x4}],[lp,{'name':'SRGB8','size':0x4,'ldr':!(-0x1ea9+0xdaf+0x6a*0x29),'srgb':!(0x1326+-0x2*-0xa37+-0x44*0x95)}],[_s,{'name':'SRGBA8','size':0x4,'ldr':!(0x22ec+-0x43c+-0x2*0xf58),'srgb':!(-0x180b*-0x1+0x4*0x175+-0x1ddf*0x1)}],[ny,{'name':'BGRA8','size':0x4,'ldr':!(0x1000+0xe58+-0x1e58)}],[hy,{'name':'SBGRA8','size':0x4,'ldr':!(0x1*-0x863+-0x2*0xd56+-0x19*-0x167),'srgb':!(-0x3*0x681+0x356*0x1+-0x1*-0x102d)}],[td,{'name':'DXT1','blockSize':0x8,'ldr':!(-0x9d9*-0x3+0xb*-0x2b3+0x26),'srgbFormat':Xf}],[op,{'name':'DXT3','blockSize':0x10,'ldr':!(0x66*0x5c+0x675*-0x6+0x216),'srgbFormat':qf}],[vl,{'name':'DXT5','blockSize':0x10,'ldr':!(-0x1456+-0x239*0x10+0x37e6),'srgbFormat':jf}],[id,{'name':'ETC1','blockSize':0x8,'ldr':!(0x31*0x9f+0x24aa+0x1*-0x4319)}],[cp,{'name':'ETC2_RGB','blockSize':0x8,'ldr':!(0x15b2+-0x8e*0x31+-0xc*-0x75),'srgbFormat':Yf}],[hp,{'name':'ETC2_RGBA','blockSize':0x10,'ldr':!(0x2eb*-0x3+-0x218c+0x2a4d),'srgbFormat':Kf}],[xl,{'name':'PVRTC_2BPP'+'_RGB_1','ldr':!(0x8*0x4a+0x151b*0x1+-0x1*0x176b),'blockSize':0x8}],[Tl,{'name':'PVRTC_2BPP'+'_RGBA_1','ldr':!(0x139*0x8+0x1*0xc41+-0x1609),'blockSize':0x8}],[rd,{'name':'PVRTC_4BPP'+'_RGB_1','ldr':!(0x7d*-0x3a+-0x2*0x392+0x2376),'blockSize':0x8}],[ad,{'name':'PVRTC_4BPP'+'_RGBA_1','ldr':!(0x21d*0x5+-0x132d*0x1+0x89c),'blockSize':0x8}],[iy,{'name':'ASTC_4x4','blockSize':0x10,'ldr':!(0x2456+-0x820+-0x1c36),'srgbFormat':Zf}],[ry,{'name':'ATC_RGB','blockSize':0x8,'ldr':!(0x2296+0x3*-0x21d+0x1c3f*-0x1)}],[ay,{'name':'ATC_RGBA','blockSize':0x10,'ldr':!(-0x208f*0x1+-0x1*0x49d+-0x9c*-0x3d)}],[dy,{'name':'BC6H_RGBF','blockSize':0x10}],[fy,{'name':'BC6H_RGBUF','blockSize':0x10}],[uy,{'name':'BC7_RGBA','blockSize':0x10,'ldr':!(-0x1*0xec6+-0xaf8+0x19be),'srgbFormat':Qf}],[Xf,{'name':'DXT1_SRGB','blockSize':0x8,'ldr':!(-0x5e6+-0x1*-0x1f75+-0x2d7*0x9),'srgb':!(0x1d22+0x22aa+-0xff3*0x4)}],[qf,{'name':'DXT3_SRGBA','blockSize':0x10,'ldr':!(-0x26b*-0xb+0x1bfb+-0x3694),'srgb':!(-0x1*0x4fd+-0x174a+-0x1*-0x1c47)}],[jf,{'name':'DXT5_SRGBA','blockSize':0x10,'ldr':!(0x175a*0x1+-0x53*0x3f+-0x2ed),'srgb':!(0x200e+0x19a9*-0x1+-0x665*0x1)}],[Yf,{'name':'ETC2_SRGB','blockSize':0x8,'ldr':!(-0x1fa8+0x1778+0x830),'srgb':!(-0x1289+0x5f9*0x5+-0xb54)}],[Kf,{'name':'ETC2_SRGBA','blockSize':0x10,'ldr':!(-0x11*0xa7+-0x201a+-0x2b31*-0x1),'srgb':!(-0x1fc9+0x1*0x202d+-0x64*0x1)}],[Zf,{'name':'ASTC_4x4_S'+'RGB','blockSize':0x10,'ldr':!(0x1c97+0x12e8+-0x7*0x6c9),'srgb':!(-0x2*0x16e+0x1b38+-0x1*0x185c)}],[Qf,{'name':'BC7_SRGBA','blockSize':0x10,'ldr':!(-0x1d*0xef+-0x17d6+0x32e9),'srgb':!(0x124d*-0x2+0x15b4+-0x773*-0x2)}],[dp,{'name':'R8I','size':0x1,'isInt':!(-0x6fd+0x1154+-0x1*0xa57)}],[oy,{'name':'R8U','size':0x1,'isInt':!(-0x218a*-0x1+-0xdf9+0x1*-0x1391)}],[fp,{'name':'R16I','size':0x2,'isInt':!(-0x143e+-0xb03*-0x1+0x93b*0x1)}],[up,{'name':'R16U','size':0x2,'isInt':!(-0x14*0x35+0x106*0x19+-0x1572)}],[pp,{'name':'R32I','size':0x4,'isInt':!(-0x5*-0x531+0x2*-0x10de+0xb*0xb5)}],[Ki,{'name':'R32U','size':0x4,'isInt':!(0x1ac6*-0x1+-0x23bb+0x1*0x3e81)}],[mp,{'name':'RG8I','size':0x2,'isInt':!(-0x1279+-0x99e*0x4+0x38f1)}],[ly,{'name':'RG8U','size':0x2,'isInt':!(-0xbf*-0x8+-0x967+0x36f)}],[_p,{'name':'RG16I','size':0x4,'isInt':!(0x15db*-0x1+-0x117f+0xdb*0x2e)}],[gp,{'name':'RG16U','size':0x4,'isInt':!(-0x1*-0x25cb+-0x2ed*0xb+0x4*-0x167)}],[Sp,{'name':'RG32I','size':0x8,'isInt':!(-0xc93+-0x6cb*-0x5+-0x2*0xab2)}],[yp,{'name':'RG32U','size':0x8,'isInt':!(0x67d+-0xceb+-0x337*-0x2)}],[vp,{'name':'RGBA8I','size':0x4,'isInt':!(0x1*0x1871+-0x1*0x16a9+-0x1c8*0x1)}],[cy,{'name':'RGBA8U','size':0x4,'isInt':!(0x2*-0xa35+0x2a6*-0x1+-0x2e2*-0x8)}],[xp,{'name':'RGBA16I','size':0x8,'isInt':!(-0x18a7+0x6d*0x3e+-0x1bf*0x1)}],[nd,{'name':'RGBA16U','size':0x8,'isInt':!(0x19a*-0xe+0x842+0x62*0x25)}],[Tp,{'name':'RGBA32I','size':0x10,'isInt':!(0x163*0x5+-0xe76+0x1*0x787)}],[Ue,{'name':'RGBA32U','size':0x10,'isInt':!(-0x2123+-0x1b4*-0x3+0x1c07)}]]),Ix=_0x1a317e=>{var _0x167eaa;return((_0x167eaa=Nt['get'](_0x1a317e))==null?void(-0x1*0x4a9+-0x324*-0xb+-0x1de3):_0x167eaa['blockSize'])!==void(0x1aab+0x6b*0x3d+-0x342a);},fh=_0x1ffd8a=>{var _0x29aaae;return((_0x29aaae=Nt['get'](_0x1ffd8a))==null?void(-0xbc5+-0x1d89+0x294e):_0x29aaae['srgb'])===!(0x1*-0x1ece+-0xb46+-0x2*-0x150a);},dn=_0x19c5d4=>{var _0x5bd282;return((_0x5bd282=Nt['get'](_0x19c5d4))==null?void(0x813*-0x3+0x282*0x3+-0x1*-0x10b3):_0x5bd282['isInt'])===!(-0x3*-0x73d+-0x182f+-0x8*-0x4f);},ld=_0x30ab55=>{var _0x2e6f01;return((_0x2e6f01=Nt['get'](_0x30ab55))==null?void(-0xf4b+-0x21fa+-0x1*-0x3145):_0x2e6f01['srgbFormat'])||_0x30ab55;},Lx=_0x56abba=>{for(const [_0x57a94d,_0x27543f]of Nt)if(_0x27543f['srgbFormat']===_0x56abba)return _0x57a94d;return _0x56abba;},py=_0x1e8045=>{const _0x59667b=Nt['get'](_0x1e8045);return!!(_0x59667b!=null&&_0x59667b['ldr']&&!(_0x59667b!=null&&_0x59667b['srgb']));},my=_0x34324d=>{switch(_0x34324d){case Ji:case Ye:case Xt:return Float32Array;case pp:case Sp:case Tp:return Int32Array;case Ki:case yp:case Ue:return Uint32Array;case fp:case _p:case xp:return Int16Array;case bp:case up:case gp:case nd:case Jh:case np:case ed:case od:case wp:case ui:case nt:return Uint16Array;case dp:case mp:case vp:return Int8Array;default:return Uint8Array;}},cd=-0xa*0xaa+0x24+-0x4*-0x1a0,hd=-0x9aa*-0x4+0x725+0x3d1*-0xc,_y=0x918+0x1138+-0x1a4e,gy=0x211*0x11+-0x130c*-0x2+0x4936*-0x1,js=0xf40+0x672+-0x15ae,Er=-0x505*0x1+0x6*0x565+0x27c*-0xb,oa=-0x1918+-0x1*-0xc31+0xced,Me='POSITION',gs='NORMAL',yi='TANGENT',gi='BLENDWEIGH'+'T',us='BLENDINDIC'+'ES',Wt='COLOR',zm='TEXCOORD',is='TEXCOORD0',ba='TEXCOORD1',wl='TEXCOORD2',El='TEXCOORD3',bl='TEXCOORD4',Al='TEXCOORD5',Cl='TEXCOORD6',Pl='TEXCOORD7',Jf='ATTR0',uh='ATTR1',Ap='ATTR2',Cp='ATTR3',Pp='ATTR4',Rx='ATTR5',Ox='ATTR6',Fx='ATTR7',Ko='ATTR8',Zo='ATTR9',Nx='ATTR10',Mp='ATTR11',Dp='ATTR12',ph='ATTR13',Ip='ATTR14',Ln='ATTR15',Sy=0x1*-0x23eb+0x1d96+0x656,xn=0x537+-0x244a+0x1f13,kx=-0x3a*0x76+0x1821+0x29d,Ux=-0xc12+0x550*0x6+-0x1*0x13cb,Bx=0x1bbf*0x1+0x1ffb+0xbf1*-0x5,$l=-0x7cd*0x4+0x340+0x1bf4,yy=0x1bfb*-0x1+0x178a+0x472,Od=-0xc6*0x25+-0x61*0x29+0x2c29,Ds='default',Zi='rgbm',mh='rgbe',Qo='rgbp',Jo='swizzleGGG'+'R',eu=-0x12c0+0x4eb*-0x5+0x2b58,Pr=-0x236a+0x171e+-0x7*-0x1c2,vy=-0x1*0x9c6+-0x1*0x11f3+0x1bbc,xy='2d',zx=0x30b+-0x1*-0xb15+-0x388*0x4,Vx='none',tu='cube',Vm='equirect',Gx='octahedral',Fe='glsl',it='wgsl',dd=-0x5*-0x1bb+0x5c0*0x1+-0xe67,la=0x126d+0xc5*-0x13+0x3cd*-0x1,fd=0x1016+0x23f4+-0x48*0xb9,Ml=0x10e9+0x1044+0x11b*-0x1e,Ty=-0x1*0x1674+-0x26*0xef+-0x1cf9*-0x2,el=0xa92+-0xc17+0x18a*0x1,Ve=-0x129b+-0x22*-0x59+0x6cf,Tn=0x1375+-0xc9*-0x1a+0xad*-0x3b,_a=-0x8d1+-0x3*0x18b+0xd73,Xs=0x1*0xd1f+0x1*0xcf5+-0x1a12,ga=-0x1*0x26e9+-0x2538+0x1*0x4c24,ds=0x407+-0x233a*0x1+-0x1f37*-0x1,Rn=0x434+-0x14ec+-0x10bd*-0x1,ca=-0x26b*0x1+-0x15*0x175+0x210a,ha=-0x551*0x1+-0xb8*0x35+0x116*0x28,da=0x5a*-0x58+0x1965+-0x593*-0x1,tl=0x1620+0x1df2+-0x3409,sl=-0x38*-0x1+-0x23*-0x91+-0x1401,il=0x5a*0x12+-0xf*0xa6+-0x371*-0x1,_h=-0xcb7*0x1+0xa0b+0x18*0x1d,On=0x1c30+-0x5*-0x781+-0x2fc*0x16,li=0x7bb+0x6a*-0x11+-0xa3*0x1,Hx=0x223c+-0x1fc9+-0x2*0x132,Wx=0xb16+0x11ea+-0x1cf0,ud=0x4f3+0x26f5+-0x2bd7*0x1,$x=-0x1833+-0x44e+0x1c93,Xx=-0x41*-0x63+-0xe*-0x277+-0x3b92,qx=-0x1c17*-0x1+0x1bd0+-0x37d3,pd=0x1791+-0x4*0x59b+-0x110,md=-0x37*0x1+0xc29+-0xbdc,Lp=0x13a5+-0x1*0x2c9+-0x10c5,wy=-0x3*0x3cd+-0x2*-0x1012+-0x14a5,jx=0x3*0x387+-0x7b3+-0x2c9,Fn=0xc3d+-0x2b6+-0x1*0x96d,Nn=0xe49+0x203b+-0x2e69,kn=-0x528+0x869*0x1+-0x325,Un=-0x1e0d+-0x5b1+0x23db,Bn=-0x77f+0x15fb+0x72f*-0x2,_d=-0x10c0+-0x56*-0x6b+-0x1313,gd=0x1c4e+-0x21de+0x2d8*0x2,zn=-0x1970+-0xaf*-0x1d+0x5be,Sd=0xd0d+0x246d+0x2*-0x18ac,yd=-0x2f5*-0x1+0xd76+-0x4*0x412,Vn=-0x1b75+0x24*0x9b+0x5cd,vd=-0x10*0x7a+-0x1b65*-0x1+-0x13a0,xd=0x14a5+-0x5e2*-0x4+-0xead*0x3,gh=-0x10e*-0x1e+0x2*-0x110f+-0x2a1*-0x1,Rp=-0x1a44+-0x1d41+-0x3*-0x128f,Op=0x241*0xd+-0x1286+-0xa9e,Yx=-0x2521+-0x205a+0x45a5,Kx=-0x1c8b+0x1*0x183f+0x477,Zx=-0x286*0x5+-0x21ac+0x1*0x2e76,Qx=-0x5af+-0xa1+0x67d,Jx=-0x2*0x4af+0x1d5a+0x2*-0x9e7,eT=-0x1833+-0x1309+-0x8af*-0x5,tT=-0x2a6+0x1f4b+-0x1c75,sT=-0x123a*0x1+-0x877+0x1ae2,Ey=['bool','int','float','vec2','vec3','vec4','ivec2','ivec3','ivec4','bvec2','bvec3','bvec4','mat2','mat3','mat4','sampler2D','samplerCub'+'e','','sampler2DS'+'hadow','samplerCub'+'eShadow','sampler3D','','','','','sampler2DA'+'rray','uint','uvec2','uvec3','uvec4','','','','','','','','','','','','','isampler2D','usampler2D','isamplerCu'+'be','usamplerCu'+'be','isampler3D','usampler3D','isampler2D'+'Array','usampler2D'+'Array'],iT=[['bool'],['i32'],['f32'],['vec2f','vec2<f32>'],['vec3f','vec3<f32>'],['vec4f','vec4<f32>'],['vec2i','vec2<i32>'],['vec3i','vec3<i32>'],['vec4i','vec4<i32>'],['vec2<bool>'],['vec3<bool>'],['vec4<bool>'],['mat2x2f','mat2x2<f32'+'>'],['mat3x3f','mat3x3<f32'+'>'],['mat4x4f','mat4x4<f32'+'>'],['texture_2d'+'<f32>'],['texture_cu'+'be<f32>'],['array<f32>'],['texture_de'+'pth_2d'],['texture_de'+'pth_cube'],['texture_3d'+'<f32>'],['array<vec2'+'<f32>>'],['array<vec3'+'<f32>>'],['array<vec4'+'<f32>>'],['array<mat4'+'x4<f32>>'],['texture_2d'+'_array<f32'+'>'],['u32'],['vec2u','vec2<u32>'],['vec3u','vec3<u32>'],['vec4u','vec4<u32>'],['array<i32>'],['array<u32>'],['array<bool'+'>'],['array<vec2'+'i>','array<vec2'+'<i32>>'],['array<vec2'+'u>','array<vec2'+'<u32>>'],['array<vec2'+'b>','array<vec2'+'<bool>>'],['array<vec3'+'i>','array<vec3'+'<i32>>'],['array<vec3'+'u>','array<vec3'+'<u32>>'],['array<vec3'+'b>','array<vec3'+'<bool>>'],['array<vec4'+'i>','array<vec4'+'<i32>>'],['array<vec4'+'u>','array<vec4'+'<u32>>'],['array<vec4'+'b>','array<vec4'+'<bool>>'],['texture_2d'+'<i32>'],['texture_2d'+'<u32>'],['texture_cu'+'be<i32>'],['texture_cu'+'be<u32>'],['texture_3d'+'<i32>'],['texture_3d'+'<u32>'],['texture_2d'+'_array<i32'+'>'],['texture_2d'+'_array<u32'+'>']],rT=new Map();iT['forEach']((_0x562f40,_0x48dd09)=>{_0x562f40['forEach'](_0x4f4f3d=>rT['set'](_0x4f4f3d,_0x48dd09));});const aT='webgl2',Fp=0x589*0x5+-0x1b87*0x1+-0x25*0x1,by=-0x2*-0x3eb+-0x350+-0x1*0x484,nT=0xa2e+-0x345+0x6e5*-0x1,oT='ldr',Ay=0xfc+-0x48f*-0x8+-0x2573,Cy=-0x355*0x6+0x1db7+-0x33d*0x3,Py=0x1645+0x11ce+-0x280f,My=0xceb+-0xac3*0x3+-0x2*-0x9b3,Dy=0x1e*-0x4f+0x8e2*-0x2+0x1*0x1b16,Iy=-0x10df+0x669*0x4+0x8a5*-0x1,Ly=-0x17*-0x19+0x7*0x189+0x1*-0xcbe,Ry=-0x12e9+-0x168e+0x29f7*0x1,lT=-0x5f*-0x11+0x217e+-0x26ce,rl=0xbc6*0x1+0x1eb*0x7+-0x1*0x1933,Oy=0x5*0x599+0x15d+-0x1d59,su=0x748+0x1*0x711+-0xe57,Np='default',wn=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array],No=[-0x20ff+0x23fd+-0x2fd,-0x837+0x15a8+-0x10*0xd7,-0xa61+-0xdc1+-0xc*-0x203,-0x1949+0x435*-0x4+-0x2a1f*-0x1,0x302+-0x1dbd+0x1abf,0xca4+-0x1*-0x131+-0x189*0x9,-0x121*-0x2+0x5d*-0x3d+-0x13eb*-0x1,-0x1474+-0x835+0x1cab],cT=['INT8','UINT8','INT16','UINT16','INT32','UINT32','FLOAT32','FLOAT16'],Sh=[Uint8Array,Uint16Array,Uint32Array],hT=[-0x1*-0x11c8+-0x257+0x34*-0x4c,-0xf3+0x1*0xf5f+-0xf*0xf6,-0x1a83*-0x1+-0x626*0x2+-0xe33],Fy=new Map([['float','f32'],['vec2','vec2f'],['vec3','vec3f'],['vec4','vec4f'],['int','i32'],['ivec2','vec2i'],['ivec3','vec3i'],['ivec4','vec4i'],['uint','u32'],['uvec2','vec2u'],['uvec3','vec3u'],['uvec4','vec4u']]),Le={};Le[Me]=0x1*0x2513+0x2*-0xb11+-0x11*0xe1,Le[gs]=-0x29*0x56+0x154a+-0x783,Le[gi]=-0x1d30+0xd*-0xb0+0x2622,Le[us]=0x969+-0x104f+-0x3d*-0x1d,Le[Wt]=0x874+-0x1f1+-0x67f*0x1,Le[is]=0xa*0x1d9+0x130d+-0x2582,Le[ba]=0xed5+-0x1*-0x25bd+0x461*-0xc,Le[wl]=0xef6+-0x12a5*-0x2+-0x3439,Le[El]=-0x1*0x2709+0x1ade+0x411*0x3,Le[bl]=0x218d+-0x2655+0x4d1*0x1,Le[Al]=0x45d+0x15bb+0x122*-0x17,Le[Cl]=0x1ef*-0x4+-0x1*0x16f7+0x1ebe,Le[Pl]=0x21e2+-0xdab+-0x142b,Le[yi]=0x5*-0x309+-0xa*0x2cb+-0x1594*-0x2,Le[Jf]=-0x196d*-0x1+-0xeec+-0xa81,Le[uh]=-0x325+-0x1*0x392+0x6b8,Le[Ap]=-0x678+-0x6*-0x39f+-0xf40,Le[Cp]=-0x31e+-0x1*-0x1e65+-0x1b44,Le[Pp]=0x95a+-0x76*0x2b+-0x1*-0xa7c,Le[Rx]=0xfe2+0x1*0x15c5+-0x12d1*0x2,Le[Ox]=-0x598+-0xe+0x1*0x5ac,Le[Fx]=-0xd95+-0x206*-0x8+0x1*-0x294,Le[Ko]=-0x23e6+0x4c7*-0x4+0x370a*0x1,Le[Zo]=-0xb39*-0x3+-0x24f0+0x34e,Le[Nx]=0x1*-0xce5+-0x21*-0xd6+0xea7*-0x1,Le[Mp]=0x7*-0x3d0+-0x24f*-0x5+0xf30,Le[Dp]=0x25da+-0xfa3+-0x162b,Le[ph]=-0xb*-0x36d+0x5*0x195+-0x2d8b,Le[Ip]=0x194*-0x4+-0x9ab+0x5*0x335,Le[Ln]=0x1*-0xe7a+-0x53*-0x47+-0x87c;const mr=class mr{static['clearGpuMa'+'rkers'](){mr['markers']['length']=0x15f7*0x1+-0x95*-0x3d+-0x3978;}static['pushGpuMar'+'ker'](_0x2628ca,_0x30ecb6){mr['markers']['push'](_0x30ecb6),_0x2628ca['pushMarker'](_0x30ecb6);}static['popGpuMark'+'er'](_0x371a2f){mr['markers']['length']&&mr['markers']['pop'](),_0x371a2f['popMarker']();}static['toString'](){return mr['markers']['join']('\x20|\x20');}};h(mr,'markers',[]);let Q=mr,dT=-0x146b+0xa65*-0x3+0x339a;class Td{constructor(_0x33ff76,_0x11357e){h(this,'slot',-(0x663+-0x27*0x51+0x5f5)),h(this,'scopeId',null),(this['name']=_0x33ff76,this['visibility']=_0x11357e);}}class kp extends Td{}class fT extends Td{constructor(_0x5e0e5b,_0x98094f,_0x4c0d79=!(0x1*0x12f+-0x17f4+0x16c6)){super(_0x5e0e5b,_0x98094f),h(this,'format',''),(this['readOnly']=_0x4c0d79,w['assert'](_0x4c0d79||!(_0x98094f&Fp),'Storage\x20bu'+'ffer\x20can\x20o'+'nly\x20be\x20use'+'d\x20in\x20read-'+'only\x20mode\x20'+'in\x20SHADERS'+'TAGE_VERTE'+'X.'));}}class Gm extends Td{constructor(_0x3079ab,_0x3faa6f,_0x16225c=xy,_0x3a2131=zx,_0x24d497=!(0x1*-0x1df+-0x1d35*-0x1+-0x1*0x1b56),_0x46983b=null){super(_0x3079ab,_0x3faa6f),this['textureDim'+'ension']=_0x16225c,this['sampleType']=_0x3a2131,this['hasSampler']=_0x24d497,this['samplerNam'+'e']=_0x46983b??_0x3079ab+'_sampler';}}class uT extends Td{constructor(_0x32a2c2,_0x3d5647=Ne,_0x58a751=xy,_0x4bc2c8=!(0x193c+0x47*0x55+0x1*-0x30cf),_0x4187d0=!(0x25b7+0x7f3+-0x2da9*0x1)){super(_0x32a2c2,nT),this['format']=_0x3d5647,this['textureDim'+'ension']=_0x58a751,this['write']=_0x4bc2c8,this['read']=_0x4187d0;}}class Ny{constructor(_0x1423ac,_0x1694e7){h(this,'uniformBuf'+'ferFormats',[]),h(this,'textureFor'+'mats',[]),h(this,'storageTex'+'tureFormat'+'s',[]),h(this,'storageBuf'+'ferFormats',[]),(this['id']=dT++,Ea['setName'](this,'BindGroupF'+'ormat_'+this['id']),w['assert'](_0x1694e7));let _0x4270fc=0x302+-0x13*0x15d+0x16e5;_0x1694e7['forEach'](_0x1be450=>{_0x1be450['slot']=_0x4270fc++,_0x1be450 instanceof Gm&&_0x1be450['hasSampler']&&_0x4270fc++,_0x1be450 instanceof kp?this['uniformBuf'+'ferFormats']['push'](_0x1be450):_0x1be450 instanceof Gm?this['textureFor'+'mats']['push'](_0x1be450):_0x1be450 instanceof uT?this['storageTex'+'tureFormat'+'s']['push'](_0x1be450):_0x1be450 instanceof fT?this['storageBuf'+'ferFormats']['push'](_0x1be450):w['assert']('Invalid\x20bi'+'nd\x20format',_0x1be450);}),this['device']=_0x1423ac;const _0x34dbbd=_0x1423ac['scope'];this['bufferForm'+'atsMap']=new Map(),this['uniformBuf'+'ferFormats']['forEach']((_0x2a5502,_0x15f530)=>this['bufferForm'+'atsMap']['set'](_0x2a5502['name'],_0x15f530)),this['textureFor'+'matsMap']=new Map(),this['textureFor'+'mats']['forEach']((_0x3d05d6,_0x2a6479)=>{this['textureFor'+'matsMap']['set'](_0x3d05d6['name'],_0x2a6479),_0x3d05d6['scopeId']=_0x34dbbd['resolve'](_0x3d05d6['name']);}),this['storageTex'+'tureFormat'+'sMap']=new Map(),this['storageTex'+'tureFormat'+'s']['forEach']((_0x915fe8,_0x178340)=>{this['storageTex'+'tureFormat'+'sMap']['set'](_0x915fe8['name'],_0x178340),_0x915fe8['scopeId']=_0x34dbbd['resolve'](_0x915fe8['name']);}),this['storageBuf'+'ferFormats'+'Map']=new Map(),this['storageBuf'+'ferFormats']['forEach']((_0x32f422,_0x2c41e3)=>{this['storageBuf'+'ferFormats'+'Map']['set'](_0x32f422['name'],_0x2c41e3),_0x32f422['scopeId']=_0x34dbbd['resolve'](_0x32f422['name']);}),this['impl']=_0x1423ac['createBind'+'GroupForma'+'tImpl'](this),w['trace'](K0,'Alloc:\x20Id\x20'+this['id']+(',\x20while\x20re'+'ndering\x20[')+Q['toString']()+']',this);}['destroy'](){this['impl']['destroy']();}['getTexture'](_0x406c28){const _0x1ea559=this['textureFor'+'matsMap']['get'](_0x406c28);return _0x1ea559!==void(0x2*0x7aa+-0x503+-0xa51)?this['textureFor'+'mats'][_0x1ea559]:null;}['getStorage'+'Texture'](_0x3ba27a){const _0x37aad8=this['storageTex'+'tureFormat'+'sMap']['get'](_0x3ba27a);return _0x37aad8!==void(0x14*0x86+-0x1bfe+0x1186)?this['storageTex'+'tureFormat'+'s'][_0x37aad8]:null;}['loseContex'+'t'](){}}class Kt{constructor(){h(this,'_cache',new Map());}['get'](_0x5ba7a0,_0x5912a6){return this['_cache']['has'](_0x5ba7a0)||(this['_cache']['set'](_0x5ba7a0,_0x5912a6()),_0x5ba7a0['on']('destroy',()=>{this['remove'](_0x5ba7a0);}),_0x5ba7a0['on']('devicelost',()=>{var _0x326a51,_0x5e52cf;(_0x5e52cf=(_0x326a51=this['_cache']['get'](_0x5ba7a0))==null?void(0x1*-0x2cf+0x3b*0x3a+-0x9f*0x11):_0x326a51['loseContex'+'t'])==null||_0x5e52cf['call'](_0x326a51,_0x5ba7a0);})),this['_cache']['get'](_0x5ba7a0);}['remove'](_0xd5de04){var _0x1fd3c9,_0x3955cf;(_0x3955cf=(_0x1fd3c9=this['_cache']['get'](_0xd5de04))==null?void(-0x13d1*-0x1+-0x1fa6+0xbd5):_0x1fd3c9['destroy'])==null||_0x3955cf['call'](_0x1fd3c9,_0xd5de04),this['_cache']['delete'](_0xd5de04);}}class Xi{static['calcLevelD'+'imension'](_0x316f5b,_0x14f68b){return Math['max'](_0x316f5b>>_0x14f68b,-0x1*0x1cd+-0x20ff+0x22cd);}static['calcMipLev'+'elsCount'](_0x58a658,_0x51face,_0x2f9ba1=0x238f+-0x1*-0x1468+-0x26*0x179){return-0x207a+0x22bc+-0x241+Math['floor'](Math['log2'](Math['max'](_0x58a658,_0x51face,_0x2f9ba1)));}static['calcLevelG'+'puSize'](_0x48b1c7,_0xd03fc8,_0x3965e1,_0x482146){var _0x449d06;const _0x28d83d=Nt['get'](_0x482146);w['assert'](_0x28d83d!==void(0x3*0x77c+-0xe12+-0x862),'Invalid\x20pi'+'xel\x20format'+'\x20'+_0x482146);const _0x3227a6=((_0x449d06=Nt['get'](_0x482146))==null?void(-0x18ea+0x245+-0xb*-0x20f):_0x449d06['size'])??-0xdf*-0x29+-0x211a+-0x29d;if(_0x3227a6>0x1131+0x1db6+0x1*-0x2ee7)return _0x48b1c7*_0xd03fc8*_0x3965e1*_0x3227a6;const _0xae598b=_0x28d83d['blockSize']??0x51*0x1a+-0x12d1+-0xa97*-0x1;let _0x1466ba=Math['floor']((_0x48b1c7+(0x2475+0xed0+-0x3342))/(-0xea5+0xff4*0x1+0x14b*-0x1));const _0x1cf538=Math['floor']((_0xd03fc8+(0xd7c+0x6b*-0x50+0x13f7))/(-0x1692+-0x37c*-0x8+-0x54a)),_0x17cdcb=Math['floor']((_0x3965e1+(-0x1da7+0x630+0x177a))/(0x303*0x1+0x20f4+-0x23f3));return(_0x482146===xl||_0x482146===Tl)&&(_0x1466ba=Math['max'](Math['floor'](_0x1466ba/(0x25*0xdd+-0xc20+-0x13cf)),-0x11df+0x41*-0x3f+-0x12b*-0x1d)),_0x1466ba*_0x1cf538*_0x17cdcb*_0xae598b;}static['calcGpuSiz'+'e'](_0x53d477,_0x48c1e3,_0x999245,_0x415539,_0x378d39,_0x1f75a1){let _0x7b67ec=0xd*0x142+0x7*-0x2a7+0x237;for(;_0x7b67ec+=Xi['calcLevelG'+'puSize'](_0x53d477,_0x48c1e3,_0x999245,_0x415539),!(!_0x378d39||_0x53d477===-0x298+0x18ff*-0x1+0x1b98&&_0x48c1e3===-0x118d+-0x20b*0xd+0x1*0x2c1d&&_0x999245===-0x1*-0x95f+-0xf44+0x5e6);)_0x53d477=Math['max'](_0x53d477>>0x1063+-0x19*0x157+0x111d,0x2441*0x1+0x222a*0x1+-0x466a),_0x48c1e3=Math['max'](_0x48c1e3>>-0x1efe+-0x1eb*0x9+0x3042,-0x1a5+0x3*0x7e1+0x1b1*-0xd),_0x999245=Math['max'](_0x999245>>0x162f+0x6e1+0x1d0f*-0x1,0x4ae+-0x1283+0xa1*0x16);return _0x7b67ec*(_0x1f75a1?0x1*-0x119a+-0x47+0x11e7:0x1128+-0x626+-0xb01);}}let pT=0x1*0x103f+-0x1d*0x14c+-0x71f*-0x3;class _e{constructor(_0x5cb6a4,_0x1df3ec={}){h(this,'name'),h(this,'_gpuSize',-0xd00*0x3+-0x1*0x2479+0x4b79*0x1),h(this,'id',pT++),h(this,'_invalid',!(0x2295+-0xd58+0x24*-0x97)),h(this,'_lockedLev'+'el',-(-0x11f4*0x1+0x37d*0x3+-0x112*-0x7)),h(this,'_lockedMod'+'e',$l),h(this,'renderVers'+'ionDirty',-0x267f+0x191*0x11+0xe*0xd9),h(this,'_storage',!(0xa56+-0x2027*-0x1+-0x2a7c)),h(this,'_numLevels',-0x1f6+0x676*-0x4+0x1bce),h(this,'_numLevels'+'Requested');var _0x5cef98;this['device']=_0x5cb6a4,w['assert'](this['device'],'Texture\x20co'+'nstructor\x20'+'requires\x20a'+'\x20graphicsD'+'evice\x20to\x20b'+'e\x20valid'),w['assert'](!_0x1df3ec['width']||Number['isInteger'](_0x1df3ec['width']),'Texture\x20wi'+'dth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x1df3ec),w['assert'](!_0x1df3ec['height']||Number['isInteger'](_0x1df3ec['height']),'Texture\x20he'+'ight\x20must\x20'+'be\x20an\x20inte'+'ger\x20number'+',\x20got',_0x1df3ec),w['assert'](!_0x1df3ec['depth']||Number['isInteger'](_0x1df3ec['depth']),'Texture\x20de'+'pth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x1df3ec),this['name']=_0x1df3ec['name']??'',this['_width']=Math['floor'](_0x1df3ec['width']??-0xf4*-0xe+0x1bc5*0x1+-0x1*0x2919),this['_height']=Math['floor'](_0x1df3ec['height']??-0x1*-0x1517+0x242*0x8+0x2b*-0xe9),this['_format']=_0x1df3ec['format']??Ne,this['_compresse'+'d']=Ix(this['_format']),this['_integerFo'+'rmat']=dn(this['_format']),this['_integerFo'+'rmat']&&(_0x1df3ec['minFilter']=Te,_0x1df3ec['magFilter']=Te),this['_volume']=_0x1df3ec['volume']??!(-0x5*0x76f+-0x53*0xb+0x28bd*0x1),this['_depth']=Math['floor'](_0x1df3ec['depth']??-0x2613+0x1*0x1055+0x13*0x125),this['_arrayLeng'+'th']=Math['floor'](_0x1df3ec['arrayLengt'+'h']??0xdd0+-0x9e7+0x1*-0x3e9),this['_storage']=_0x1df3ec['storage']??!(0x94d+-0x1*-0x1b2a+-0x2476),this['_cubemap']=_0x1df3ec['cubemap']??!(-0x8dc+-0xe92+0x359*0x7),this['_flipY']=_0x1df3ec['flipY']??!(0x1*0x19+-0x135b+0x1343),this['_premultip'+'lyAlpha']=_0x1df3ec['premultipl'+'yAlpha']??!(-0x676+0x1625*-0x1+-0x2*-0xe4e),this['_mipmaps']=_0x1df3ec['mipmaps']??!(0x2de*0xb+-0x874*0x4+0x246),this['_numLevels'+'Requested']=_0x1df3ec['numLevels'],_0x1df3ec['numLevels']!==void(-0x7*0x3be+-0x12*-0x72+0xb3*0x1a)&&(this['_numLevels']=_0x1df3ec['numLevels']),this['_updateNum'+'Level'](),this['_minFilter']=_0x1df3ec['minFilter']??ma,this['_magFilter']=_0x1df3ec['magFilter']??vt,this['_anisotrop'+'y']=_0x1df3ec['anisotropy']??-0xe7d*-0x1+-0x16*0x15b+0xf56*0x1,this['_addressU']=_0x1df3ec['addressU']??yt,this['_addressV']=_0x1df3ec['addressV']??yt,this['_addressW']=_0x1df3ec['addressW']??yt,this['_compareOn'+'Read']=_0x1df3ec['compareOnR'+'ead']??!(-0x100a+0x1*-0xf1c+0x1f27*0x1),this['_compareFu'+'nc']=_0x1df3ec['compareFun'+'c']??hh,this['_type']=_0x1df3ec['type']??Ds,w['assert'](!_0x1df3ec['hasOwnProp'+'erty']('rgbm'),'Use\x20option'+'s.type.'),w['assert'](!_0x1df3ec['hasOwnProp'+'erty']('swizzleGGG'+'R'),'Use\x20option'+'s.type.'),this['projection']=Vx,this['_cubemap']?this['projection']=tu:_0x1df3ec['projection']&&_0x1df3ec['projection']!==tu&&(this['projection']=_0x1df3ec['projection']),this['profilerHi'+'nt']=_0x1df3ec['profilerHi'+'nt']??0x1*-0x1de9+0x6*-0xa1+0x21af,this['_levels']=_0x1df3ec['levels'];const _0x529b9b=!!_0x1df3ec['levels'];this['_levels']||this['_clearLeve'+'ls'](),this['recreateIm'+'pl'](_0x529b9b),_0x5cb6a4['textures']['push'](this),w['trace'](Dm,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+'\x20['+((_0x5cef98=Nt['get'](this['format']))==null?void(-0x1*-0x205e+-0x513+-0x1b4b):_0x5cef98['name'])+']'+(this['cubemap']?'[Cubemap]':'')+(this['volume']?'[Volume]':'')+(this['array']?'[Array]':'')+('[MipLevels'+':')+this['numLevels']+']',this);}['destroy'](){w['trace'](Dm,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x2b946b=this['device'];if(_0x2b946b){const _0x47d3f7=_0x2b946b['textures']['indexOf'](this);_0x47d3f7!==-(0x2537+-0x2591+0x1*0x5b)&&_0x2b946b['textures']['splice'](_0x47d3f7,-0x575*0x2+0x6d4+0x417),_0x2b946b['scope']['removeValu'+'e'](this),this['impl']['destroy'](_0x2b946b),this['adjustVram'+'SizeTracki'+'ng'](_0x2b946b['_vram'],-this['_gpuSize']),this['_levels']=null,this['device']=null;}}['recreateIm'+'pl'](_0x164775=!(0x7a5+0x2483+-0x24*0x13a)){var _0x5d0492;const {device:_0x48a7be}=this;(_0x5d0492=this['impl'])==null||_0x5d0492['destroy'](_0x48a7be),this['impl']=null,this['impl']=_0x48a7be['createText'+'ureImpl'](this),this['dirtyAll'](),_0x164775&&this['upload']();}['_clearLeve'+'ls'](){this['_levels']=this['_cubemap']?[[null,null,null,null,null,null]]:[null];}['resize'](_0x854131,_0x1b8682,_0x421f11=0xb*-0x1e2+0x7f4+-0x129*-0xb){const _0xf15ba6=this['device'];this['adjustVram'+'SizeTracki'+'ng'](_0xf15ba6['_vram'],-this['_gpuSize']),this['impl']['destroy'](_0xf15ba6),this['_clearLeve'+'ls'](),this['_width']=Math['floor'](_0x854131),this['_height']=Math['floor'](_0x1b8682),this['_depth']=Math['floor'](_0x421f11),this['_updateNum'+'Level'](),this['impl']=_0xf15ba6['createText'+'ureImpl'](this),this['dirtyAll']();}['loseContex'+'t'](){this['impl']['loseContex'+'t'](),this['dirtyAll']();}['adjustVram'+'SizeTracki'+'ng'](_0x14d9d2,_0x532b74){w['trace'](X0,this['id']+'\x20'+this['name']+'\x20size:\x20'+_0x532b74+('\x20vram.text'+'ure:\x20')+_0x14d9d2['tex']+'\x20=>\x20'+(_0x14d9d2['tex']+_0x532b74)),_0x14d9d2['tex']+=_0x532b74,this['profilerHi'+'nt']===eu?_0x14d9d2['texShadow']+=_0x532b74:this['profilerHi'+'nt']===Pr?_0x14d9d2['texAsset']+=_0x532b74:this['profilerHi'+'nt']===vy&&(_0x14d9d2['texLightma'+'p']+=_0x532b74);}['propertyCh'+'anged'](_0x3edc40){this['impl']['propertyCh'+'anged'](_0x3edc40),this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion'];}['_updateNum'+'Level'](){const _0x15b26b=this['mipmaps']?Xi['calcMipLev'+'elsCount'](this['width'],this['height']):0xff+0x259*0x5+-0xcbb,_0x5cd36c=this['_numLevels'+'Requested'];_0x5cd36c!==void(-0x2b*0x18+0x1f95+-0x1b8d)&&_0x5cd36c>_0x15b26b&&w['warn']('Texture#nu'+'mLevels:\x20r'+'equested\x20m'+'ip\x20level\x20c'+'ount\x20is\x20gr'+'eater\x20than'+'\x20the\x20maxim'+'um\x20possibl'+'e,\x20will\x20be'+'\x20clamped\x20t'+'o',_0x15b26b,this),this['_numLevels']=Math['min'](_0x5cd36c??_0x15b26b,_0x15b26b),this['_mipmaps']=this['_numLevels']>-0x1*-0x2fc+-0x8d0+0x1*0x5d5;}get['lockedMode'](){return this['_lockedMod'+'e'];}set['minFilter'](_0x1de5c2){this['_minFilter']!==_0x1de5c2&&(dn(this['_format'])?w['warn']('Texture#mi'+'nFilter:\x20m'+'inFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_minFilter']=_0x1de5c2,this['propertyCh'+'anged'](Ay)));}get['minFilter'](){return this['_minFilter'];}set['magFilter'](_0x15b1fd){this['_magFilter']!==_0x15b1fd&&(dn(this['_format'])?w['warn']('Texture#ma'+'gFilter:\x20m'+'agFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_magFilter']=_0x15b1fd,this['propertyCh'+'anged'](Cy)));}get['magFilter'](){return this['_magFilter'];}set['addressU'](_0x3dda15){this['_addressU']!==_0x3dda15&&(this['_addressU']=_0x3dda15,this['propertyCh'+'anged'](Py));}get['addressU'](){return this['_addressU'];}set['addressV'](_0x11acae){this['_addressV']!==_0x11acae&&(this['_addressV']=_0x11acae,this['propertyCh'+'anged'](My));}get['addressV'](){return this['_addressV'];}set['addressW'](_0x157e60){if(!this['_volume']){w['warn']('pc.Texture'+'#addressW:'+'\x20Can\x27t\x20set'+'\x20W\x20address'+'ing\x20mode\x20f'+'or\x20a\x20non-3'+'D\x20texture.');return;}_0x157e60!==this['_addressW']&&(this['_addressW']=_0x157e60,this['propertyCh'+'anged'](Dy));}get['addressW'](){return this['_addressW'];}set['compareOnR'+'ead'](_0x55c5d9){this['_compareOn'+'Read']!==_0x55c5d9&&(this['_compareOn'+'Read']=_0x55c5d9,this['propertyCh'+'anged'](Iy));}get['compareOnR'+'ead'](){return this['_compareOn'+'Read'];}set['compareFun'+'c'](_0x1f1d64){this['_compareFu'+'nc']!==_0x1f1d64&&(this['_compareFu'+'nc']=_0x1f1d64,this['propertyCh'+'anged'](Ly));}get['compareFun'+'c'](){return this['_compareFu'+'nc'];}set['anisotropy'](_0x20c33c){this['_anisotrop'+'y']!==_0x20c33c&&(this['_anisotrop'+'y']=_0x20c33c,this['propertyCh'+'anged'](Ry));}get['anisotropy'](){return this['_anisotrop'+'y'];}set['mipmaps'](_0x25cff7){this['_mipmaps']!==_0x25cff7&&(this['device']['isWebGPU']?w['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20is\x20curr'+'ently\x20not\x20'+'allowed\x20to'+'\x20be\x20change'+'d\x20on\x20WebGP'+'U,\x20create\x20'+'the\x20textur'+'e\x20appropri'+'ately.',this):dn(this['_format'])?w['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20cannot\x20'+'be\x20changed'+'\x20on\x20an\x20int'+'eger\x20textu'+'re,\x20will\x20r'+'emain\x20fals'+'e',this):this['_mipmaps']=_0x25cff7,_0x25cff7&&(this['_needsMipm'+'apsUpload']=!(0x1*-0x11c3+-0x256b+0x372e)));}get['mipmaps'](){return this['_mipmaps'];}get['numLevels'](){return this['_numLevels'];}get['storage'](){return this['_storage'];}get['width'](){return this['_width'];}get['height'](){return this['_height'];}get['depth'](){return this['_depth'];}get['format'](){return this['_format'];}get['cubemap'](){return this['_cubemap'];}get['gpuSize'](){const _0x1a25cd=this['pot']&&this['_mipmaps']&&!(this['_compresse'+'d']&&this['_levels']['length']===-0xeef+-0x1c47+0x2b37);return Xi['calcGpuSiz'+'e'](this['_width'],this['_height'],this['_depth'],this['_format'],_0x1a25cd,this['_cubemap']);}get['array'](){return this['_arrayLeng'+'th']>-0x17f9*0x1+0x1ec1+-0xe*0x7c;}get['arrayLengt'+'h'](){return this['_arrayLeng'+'th'];}get['volume'](){return this['_volume'];}set['type'](_0x37bb9d){this['_type']!==_0x37bb9d&&(this['_type']=_0x37bb9d,this['device']['_shadersDi'+'rty']=!(-0x1bdf+0x1*-0xc3b+0x281a));}get['type'](){return this['_type'];}set['srgb'](_0x481fd5){var _0x3d8925,_0x4c6dbd,_0x38152d,_0x338eff;const _0x51d7dd=fh(this['format']);if(_0x481fd5!==_0x51d7dd){if(_0x481fd5){const _0x56ca97=ld(this['format']);this['_format']!==_0x56ca97&&(w['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20sRGB\x20'+'equivalent'+':\x20')+((_0x3d8925=Nt['get'](this['format']))==null?void(0xe9+0x11bd*0x1+-0x12a6):_0x3d8925['name'])+'\x20->\x20'+((_0x4c6dbd=Nt['get'](_0x56ca97))==null?void(0x1456+0x2*-0xb05+0x1b4):_0x4c6dbd['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x56ca97,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x312+0xc8a+0x6*-0x194));}else{const _0x589815=Lx(this['format']);this['_format']!==_0x589815&&(w['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20linea'+'r\x20equivale'+'nt:\x20')+((_0x38152d=Nt['get'](this['format']))==null?void(0x1*-0x1bce+-0xe13+-0x1*-0x29e1):_0x38152d['name'])+'\x20->\x20'+((_0x338eff=Nt['get'](_0x589815))==null?void(0x444+-0xc74*0x2+0x4*0x529):_0x338eff['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x589815,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x1*0x1e91+0x12d0+-0x3b*-0x33));}}}get['srgb'](){return fh(this['format']);}set['flipY'](_0x4e1072){this['_flipY']!==_0x4e1072&&(this['_flipY']=_0x4e1072,this['_needsUplo'+'ad']=!(0xb5*0x34+-0x1fd*0x7+-0x16d9));}get['flipY'](){return this['_flipY'];}set['premultipl'+'yAlpha'](_0x532b3d){this['_premultip'+'lyAlpha']!==_0x532b3d&&(this['_premultip'+'lyAlpha']=_0x532b3d,this['_needsUplo'+'ad']=!(0x3d1*0x8+-0x5*0x19+0x1e0b*-0x1));}get['premultipl'+'yAlpha'](){return this['_premultip'+'lyAlpha'];}get['pot'](){return Y['powerOfTwo'](this['_width'])&&Y['powerOfTwo'](this['_height']);}get['encoding'](){switch(this['type']){case Zi:return'rgbm';case mh:return'rgbe';case Qo:return'rgbp';}return py(this['format'])?'srgb':'linear';}['dirtyAll'](){this['_levelsUpd'+'ated']=this['_cubemap']?[[!(0x2*0x99a+0x4e3*-0x6+0x50f*0x2),!(0x17ed+0x170d+-0x2efa),!(-0x1*0x11f+0xfc9+-0xeaa),!(-0x8e2+-0x27*0x1+0x909),!(-0xf07+0x20db+-0x11d4),!(0x1*-0x17ad+-0x2576+0x3d23)]]:[!(0x8*-0x327+0x1f7*0xa+0x592)],this['_needsUplo'+'ad']=!(-0x7c5*-0x3+0x21*0xf2+-0x3681),this['_needsMipm'+'apsUpload']=this['_mipmaps'],this['_mipmapsUp'+'loaded']=!(-0x1f68*-0x1+-0x1b59*0x1+-0x40e),this['propertyCh'+'anged'](lT);}['lock'](_0x3988f3={}){_0x3988f3['level']??(_0x3988f3['level']=-0x766*-0x5+0x235*0x1+-0x3*0xd11),_0x3988f3['face']??(_0x3988f3['face']=-0x1*-0x1597+-0x11*-0x22+-0x17d9),_0x3988f3['mode']??(_0x3988f3['mode']=Od),w['assert'](this['_lockedMod'+'e']===$l,'The\x20textur'+'e\x20is\x20alrea'+'dy\x20locked.'+'\x20Call\x20`tex'+'ture.unloc'+'k()`\x20befor'+'e\x20attempti'+'ng\x20to\x20lock'+'\x20again.',this),w['assert'](_0x3988f3['mode']===yy||_0x3988f3['mode']===Od,'Cannot\x20loc'+'k\x20a\x20textur'+'e\x20with\x20TEX'+'TURELOCK_N'+'ONE.\x20To\x20un'+'lock\x20a\x20tex'+'ture,\x20call'+'\x20`texture.'+'unlock()`.',this),this['_lockedMod'+'e']=_0x3988f3['mode'],this['_lockedLev'+'el']=_0x3988f3['level'];const _0x2cbf15=this['cubemap']?this['_levels'][_0x3988f3['face']]:this['_levels'];if((_0x2cbf15==null?void(-0xfd9+0x2441*-0x1+0x341a):_0x2cbf15[_0x3988f3['level']])===null){const _0xe5d0dd=Math['max'](-0x1*-0x1f0b+-0x191*-0x11+-0x39ab,this['_width']>>_0x3988f3['level']),_0x9889d8=Math['max'](-0x129+-0x7ab+0x143*0x7,this['_height']>>_0x3988f3['level']),_0x165525=Math['max'](0x66f*0x6+-0x157+-0x2542,this['_depth']>>_0x3988f3['level']),_0x26debb=new ArrayBuffer(Xi['calcLevelG'+'puSize'](_0xe5d0dd,_0x9889d8,_0x165525,this['_format']));_0x2cbf15[_0x3988f3['level']]=new(my(this['_format']))(_0x26debb);}return _0x2cbf15==null?void(0x114f+-0x1dcb+0x22*0x5e):_0x2cbf15[_0x3988f3['level']];}['setSource'](_0x35757a,_0x46c71b=-0x3*-0x7da+0x1e2a+-0x35b8){let _0x12be15=!(-0x45a*-0x4+0x1*0xff4+-0x215b),_0x418817,_0x17036a;if(this['_cubemap']){if(_0x35757a[0xf*-0x68+-0x2e*0x11+0x926]){_0x418817=_0x35757a[-0x413+-0x2655+-0x8*-0x54d]['width']||-0x49*0x39+0x22fd+-0x12bc,_0x17036a=_0x35757a[-0x3*-0x17+0x1c3d*-0x1+-0xb3*-0x28]['height']||-0x2*-0x51+0x9*0x115+-0x5*0x213;for(let _0x2cbc9b=0x5*0x152+0x106*-0x7+0xc*0xc;_0x2cbc9b<0x11*-0x1cb+-0x4*-0x2e8+0x12e1;_0x2cbc9b++){const _0x4f0992=_0x35757a[_0x2cbc9b];if(!_0x4f0992||_0x4f0992['width']!==_0x418817||_0x4f0992['height']!==_0x17036a||!this['device']['_isBrowser'+'Interface'](_0x4f0992)){_0x12be15=!(0x26da+0x1f1*-0x9+0x1561*-0x1);break;}}}else _0x12be15=!(0x7c*0x3d+-0x1f5c+0x1d0);if(!_0x12be15){for(let _0x4c4f89=0x1185+0x21a+-0x139f*0x1;_0x4c4f89<0x2292+-0xb54+-0x8*0x2e7;_0x4c4f89++)this['_levels'][_0x46c71b][_0x4c4f89]!==_0x35757a[_0x4c4f89]&&(this['_levelsUpd'+'ated'][_0x46c71b][_0x4c4f89]=!(-0x94f+-0x1fff+0x11*0x26e));}}else this['device']['_isBrowser'+'Interface'](_0x35757a)||(_0x12be15=!(0x1cd2*-0x1+0x2096+-0x4*0xf1)),_0x12be15||(_0x35757a!==this['_levels'][_0x46c71b]&&(this['_levelsUpd'+'ated'][_0x46c71b]=!(-0x1*0x1237+0x35b+0xedc)),_0x35757a instanceof HTMLVideoElement?(_0x418817=_0x35757a['videoWidth'],_0x17036a=_0x35757a['videoHeigh'+'t']):(_0x418817=_0x35757a['width'],_0x17036a=_0x35757a['height']));if(_0x12be15){if(this['_width']=-0x403*-0x1+0x1*0x1279+-0x2cf*0x8,this['_height']=-0x164*-0xe+-0x215+-0x115f*0x1,this['_cubemap']){for(let _0x504264=0x75*0x41+0x1790+0x419*-0xd;_0x504264<0xfac+-0xd23+-0x283;_0x504264++)this['_levels'][_0x46c71b][_0x504264]=null,this['_levelsUpd'+'ated'][_0x46c71b][_0x504264]=!(0xa*0x36e+-0x5b6*0x2+-0x16e0);}else this['_levels'][_0x46c71b]=null,this['_levelsUpd'+'ated'][_0x46c71b]=!(-0x2*-0x134c+-0x645+0x5*-0x677);}else _0x46c71b===0xb7*0x19+-0x120e+0x1*0x2f&&(this['_width']=_0x418817,this['_height']=_0x17036a),this['_levels'][_0x46c71b]=_0x35757a;(this['_invalid']!==_0x12be15||!_0x12be15)&&(this['_invalid']=_0x12be15,this['upload']());}['getSource'](_0x5aa1f8=-0x1*-0x26c9+-0x237f+-0x34a){return this['_levels'][_0x5aa1f8];}['unlock'](){this['_lockedMod'+'e']===$l&&w['warn']('pc.Texture'+'#unlock:\x20A'+'ttempting\x20'+'to\x20unlock\x20'+'a\x20texture\x20'+'that\x20is\x20no'+'t\x20locked.',this),this['_lockedMod'+'e']===Od&&this['upload'](),this['_lockedLev'+'el']=-(-0x2*0xec2+-0x2588+-0x430d*-0x1),this['_lockedMod'+'e']=$l;}['upload'](){var _0x33eb6a,_0x335db6;this['_needsUplo'+'ad']=!(-0x2b7*-0xe+-0x7d8*0x1+-0x2be*0xb),this['_needsMipm'+'apsUpload']=this['_mipmaps'],(_0x335db6=(_0x33eb6a=this['impl'])['uploadImme'+'diate'])==null||_0x335db6['call'](_0x33eb6a,this['device'],this);}['read'](_0x52508a,_0x419114,_0xe67c0b,_0x145d2c,_0x5daf97={}){var _0x340dff,_0x3b789c;return(_0x3b789c=(_0x340dff=this['impl'])['read'])==null?void(0x4ca+0x1d5f*-0x1+-0x383*-0x7):_0x3b789c['call'](_0x340dff,_0x52508a,_0x419114,_0xe67c0b,_0x145d2c,_0x5daf97);}['write'](_0x3008e4,_0x4efab,_0x54f924,_0x45294f,_0x20c110){var _0x5c6540,_0x207a0b;return(_0x207a0b=(_0x5c6540=this['impl'])['write'])==null?void(-0x1*-0x10b1+0x22f8*0x1+-0x1*0x33a9):_0x207a0b['call'](_0x5c6540,_0x3008e4,_0x4efab,_0x54f924,_0x45294f,_0x20c110);}}const mT={'white':[0x7*-0x1e9+0x2018+-0x11ba,0x2*-0x399+-0x1c5a+0x248b,0x1fa9+-0x7b9*0x3+-0x77f,-0x42d+0x1af+0x37d],'gray':[0x1cb0+-0x1802+-0x42e,0x4a*0x11+-0x11f6+-0x44*-0x33,0x5+0x1e32+-0x1db7,0x3*0x133+-0x176e*-0x1+-0x1a08],'black':[0x1*-0xc8a+0x62f+0x65b,-0x3*-0xc92+0x16d0+0x1e43*-0x2,0x23fd+-0x1f27+-0x26b*0x2,0x1*0x23b3+-0x1*0x2246+0x1*-0x6e],'normal':[-0x1f90+-0x1a57+0x3a67,0x1f46+0x1c34+-0x3afa,0x261b+0x1266+-0x3782,0x21*-0x9d+0x2e*-0x65+0x2762],'pink':[-0xee0+-0x1b47+-0xe*-0x315,-0x4*0xfd+-0x1c6d*0x1+0x20e1,0x1*-0x146f+0x16b9+-0x14b*0x1,0x55b*0x2+0x1*-0x26b+-0x1d3*0x4]};class _T{constructor(){h(this,'map',new Map());}['destroy'](){this['map']['forEach'](_0x7f8cc2=>{_0x7f8cc2['destroy']();});}}const gT=new Kt(),fa=(_0x2b9762,_0x303fd8)=>{const _0x417a79=gT['get'](_0x2b9762,()=>new _T());if(!_0x417a79['map']['has'](_0x303fd8)){const _0x2c586d=new _e(_0x2b9762,{'name':'built-in-t'+'exture-'+_0x303fd8,'width':0x1,'height':0x1,'format':Ne}),_0x469e7e=_0x2c586d['lock'](),_0x423df1=mT[_0x303fd8];w['assert'](_0x423df1,'Data\x20for\x20b'+'uilt-in\x20te'+'xture\x20\x27'+_0x303fd8+('\x27\x20not\x20foun'+'d')),_0x469e7e['set'](_0x423df1),_0x2c586d['unlock'](),_0x417a79['map']['set'](_0x303fd8,_0x2c586d);}return _0x417a79['map']['get'](_0x303fd8);};let ST=0x594+-0x1d7+0x21*-0x1d;class ky{constructor(){h(this,'bindGroup'),h(this,'offsets',[]);}}class Up{constructor(_0x110138,_0x30089c,_0x369cf8){h(this,'renderVers'+'ionUpdated',-(-0x1*0x821+0xe57*-0x2+-0x7c*-0x4c)),h(this,'uniformBuf'+'fers'),h(this,'uniformBuf'+'ferOffsets',[]),(this['id']=ST++,this['device']=_0x110138,this['format']=_0x30089c,this['dirty']=!(0x1*0x13fc+0x8c*0x3d+-0x3558),this['impl']=_0x110138['createBind'+'GroupImpl'](this),this['textures']=[],this['storageTex'+'tures']=[],this['storageBuf'+'fers']=[],this['uniformBuf'+'fers']=[],this['defaultUni'+'formBuffer']=_0x369cf8,_0x369cf8&&this['setUniform'+'Buffer'](Np,_0x369cf8),w['trace'](Y0,'Alloc:\x20Id\x20'+this['id'],this,_0x30089c));}['destroy'](){this['impl']['destroy'](),this['impl']=null,this['format']=null,this['defaultUni'+'formBuffer']=null;}['setUniform'+'Buffer'](_0x251bf4,_0x5ea8e7){const _0x281c4b=this['format']['bufferForm'+'atsMap']['get'](_0x251bf4);w['assert'](_0x281c4b!==void(-0x6be+0x33+0x68b),'Setting\x20a\x20'+'uniform\x20['+_0x251bf4+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['uniformBuf'+'fers'][_0x281c4b]!==_0x5ea8e7&&(this['uniformBuf'+'fers'][_0x281c4b]=_0x5ea8e7,this['dirty']=!(0xd07+-0x2202+0x14fb));}['setStorage'+'Buffer'](_0x473db6,_0x1faa46){const _0x34b60e=this['format']['storageBuf'+'ferFormats'+'Map']['get'](_0x473db6);w['assert'](_0x34b60e!==void(0x1*-0xa39+-0x289+-0x1*-0xcc2),'Setting\x20a\x20'+'storage\x20bu'+'ffer\x20['+_0x473db6+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['storageBuf'+'fers'][_0x34b60e]!==_0x1faa46&&(this['storageBuf'+'fers'][_0x34b60e]=_0x1faa46,this['dirty']=!(0xfba+-0x1*0xa+-0xfb0));}['setTexture'](_0x43eb7d,_0x6a55bc){const _0x58baba=this['format']['textureFor'+'matsMap']['get'](_0x43eb7d);w['assert'](_0x58baba!==void(0xf0+0x2*-0x29b+0x223*0x2),'Setting\x20a\x20'+'texture\x20['+_0x43eb7d+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['textures'][_0x58baba]!==_0x6a55bc?(this['textures'][_0x58baba]=_0x6a55bc,this['dirty']=!(0x1b31+-0x4d1*-0x5+0x19a3*-0x2)):this['renderVers'+'ionUpdated']<_0x6a55bc['renderVers'+'ionDirty']&&(this['dirty']=!(-0x1b68+0x3*0xce5+-0xb47));}['setStorage'+'Texture'](_0x57a318,_0x207aaf){const _0x1ddb97=this['format']['storageTex'+'tureFormat'+'sMap']['get'](_0x57a318);w['assert'](_0x1ddb97!==void(-0x3*-0x6bb+0x10a7+-0x126c*0x2),'Setting\x20a\x20'+'storage\x20te'+'xture\x20['+_0x57a318+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['storageTex'+'tures'][_0x1ddb97]!==_0x207aaf?(this['storageTex'+'tures'][_0x1ddb97]=_0x207aaf,this['dirty']=!(-0x1a74*-0x1+0xc32+-0x66*0x61)):this['renderVers'+'ionUpdated']<_0x207aaf['renderVers'+'ionDirty']&&(this['dirty']=!(0x3*-0x641+-0x1*0x863+0x1b26*0x1));}['updateUnif'+'ormBuffers'](){for(let _0x1a2a3b=-0xbc6+0xdb6+-0x2*0xf8;_0x1a2a3b<this['uniformBuf'+'fers']['length'];_0x1a2a3b++)this['uniformBuf'+'fers'][_0x1a2a3b]['update']();}['update'](){const {textureFormats:_0x3e5f05,storageTextureFormats:_0x299c97,storageBufferFormats:_0x3bc9d0}=this['format'];for(let _0x106427=-0xa51*-0x2+-0x219+0x49*-0x41;_0x106427<_0x3e5f05['length'];_0x106427++){const _0x28ddb4=_0x3e5f05[_0x106427];let _0x34f66d=_0x28ddb4['scopeId']['value'];_0x34f66d||(_0x28ddb4['name']==='uSceneDept'+'hMap'&&(w['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x34f66d=fa(this['device'],'white')),_0x28ddb4['name']==='uSceneColo'+'rMap'&&(w['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x34f66d=fa(this['device'],'pink')),_0x34f66d||(w['errorOnce']('Texture\x20'+_0x28ddb4['name']+('\x20is\x20requir'+'ed\x20for\x20ren'+'dering\x20but'+'\x20was\x20not\x20s'+'et.\x20Render'+'ing\x20[')+Q['toString']()+']'),_0x34f66d=fa(this['device'],'pink'))),this['setTexture'](_0x28ddb4['name'],_0x34f66d);}for(let _0x59cd7f=-0xa39*0x3+0x1c00+0x2ab;_0x59cd7f<_0x299c97['length'];_0x59cd7f++){const _0x4d71a7=_0x299c97[_0x59cd7f],_0xadb5fd=_0x4d71a7['scopeId']['value'];w['assert'](_0xadb5fd,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20texture\x20s'+'lot\x20['+_0x4d71a7['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+Q['toString']()+']',this),this['setStorage'+'Texture'](_0x4d71a7['name'],_0xadb5fd);}for(let _0x54016c=0x26c9*-0x1+-0x1*-0x1827+0xea2;_0x54016c<_0x3bc9d0['length'];_0x54016c++){const _0x2011b4=_0x3bc9d0[_0x54016c],_0x296088=_0x2011b4['scopeId']['value'];w['assert'](_0x296088,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20buffer\x20sl'+'ot\x20['+_0x2011b4['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+Q['toString']()+']',this),this['setStorage'+'Buffer'](_0x2011b4['name'],_0x296088);}this['uniformBuf'+'ferOffsets']['length']=this['uniformBuf'+'fers']['length'];for(let _0x363bc9=0x1922+-0x2*0x56e+0x6*-0x261;_0x363bc9<this['uniformBuf'+'fers']['length'];_0x363bc9++){const _0x3601c7=this['uniformBuf'+'fers'][_0x363bc9];this['uniformBuf'+'ferOffsets'][_0x363bc9]=_0x3601c7['offset'],this['renderVers'+'ionUpdated']<_0x3601c7['renderVers'+'ionDirty']&&(this['dirty']=!(-0xc4a+-0x11e0+-0x129*-0x1a));}this['dirty']&&(this['dirty']=!(-0x33*-0x95+-0x1d3*-0xb+0x2d*-0x11b),this['renderVers'+'ionUpdated']=this['device']['renderVers'+'ion'],this['impl']['update'](this));}}const qe={'set'(_0x3196c0,_0x52672e,_0x55be25,_0x28bbac=0x2087+-0x1030+-0x1056){return _0x3196c0&~(_0x28bbac<<_0x55be25)|_0x52672e<<_0x55be25;},'get'(_0xda85cd,_0x1a45f9,_0x588975=0xb1b+0x4*-0x25+-0xa86){return _0xda85cd>>_0x1a45f9&_0x588975;},'all'(_0x3af787,_0x4ddbce,_0x2c4f38=0x19a9*0x1+-0x1*0xc07+-0xda1){const _0x42507d=_0x2c4f38<<_0x4ddbce;return(_0x3af787&_0x42507d)===_0x42507d;},'any'(_0x4e0635,_0xa8b3f3,_0x1eedde=0xdc2+0x2656+0x5*-0xa6b){return(_0x4e0635&_0x1eedde<<_0xa8b3f3)!==0x907*-0x1+-0xd0e+0x1615;}},Xl=-0x22c*-0x4+-0x97*0x1d+0x872,ir=-0x3a9+-0x19d6+0x1d8e,Hm=0x1573+-0x1d05+-0x72*-0x11,Wm=0x2*-0x5bd+-0x3*-0x55e+-0x49d*0x1,$m=-0x5e*-0x1+-0x20cf+0x2078,Xm=-0x1*-0x1b23+-0x1*-0x716+0x32*-0xaf,qm=-0x1*0x1000+0xb*-0x119+0x1c21,jm=0x1c85+0x19*-0xa+0x21d*-0xd,iu=-0x1*0xb11+-0x1615+0x6*0x58a,Ym=0x1*-0x102a+-0x1c19+0x1*0x2c5a,Km=0x1038*0x2+-0x1d7e+-0x2da,Zm=-0x34*-0x6f+0x1d42+-0x763*0x7,Qm=-0xdc0*0x1+0x2031+0x139*-0xf,yT=0x21*-0x5d+-0x7ae+0x13ba,vT=iu,ri=class ri{constructor(_0x1b1662=!(0x1412+-0x36d*-0x6+-0x1*0x289f),_0x461c65=fs,_0x46d373=Ft,_0x53180c=rp,_0x5e04aa,_0x5642b6,_0x3fb7f1,_0x25c8dc=!(0x1*0x142c+-0x55d+-0x1*0xecf),_0x5eb5e6=!(-0x2226+0x1f*0xd9+-0x5*-0x193),_0x32c39e=!(0x2*-0x54+0x342+-0x29a),_0x59de92=!(0x11b*0xf+-0x18e5*0x1+0x850)){h(this,'target0',-0x249f+-0xb1f+-0x369*-0xe),(this['setColorBl'+'end'](_0x461c65,_0x46d373,_0x53180c),this['setAlphaBl'+'end'](_0x5e04aa??_0x461c65,_0x5642b6??_0x46d373,_0x3fb7f1??_0x53180c),this['setColorWr'+'ite'](_0x25c8dc,_0x5eb5e6,_0x32c39e,_0x59de92),this['blend']=_0x1b1662);}set['blend'](_0x521c9c){this['target0']=qe['set'](this['target0'],_0x521c9c?0x3*0x579+0x1f88+-0x2ff2:-0x1e23+-0x1cf1*0x1+-0x3b14*-0x1,Qm);}get['blend'](){return qe['all'](this['target0'],Qm);}['setColorBl'+'end'](_0x465da2,_0xe167e7,_0x4149d0){this['target0']=qe['set'](this['target0'],_0x465da2,Hm,Xl),this['target0']=qe['set'](this['target0'],_0xe167e7,Wm,ir),this['target0']=qe['set'](this['target0'],_0x4149d0,$m,ir);}['setAlphaBl'+'end'](_0x3d5f9a,_0x2148f8,_0x4e060d){this['target0']=qe['set'](this['target0'],_0x3d5f9a,Xm,Xl),this['target0']=qe['set'](this['target0'],_0x2148f8,qm,ir),this['target0']=qe['set'](this['target0'],_0x4e060d,jm,ir);}['setColorWr'+'ite'](_0x385e45,_0x39b526,_0x166a7b,_0x26c7b0){this['redWrite']=_0x385e45,this['greenWrite']=_0x39b526,this['blueWrite']=_0x166a7b,this['alphaWrite']=_0x26c7b0;}get['colorOp'](){return qe['get'](this['target0'],Hm,Xl);}get['colorSrcFa'+'ctor'](){return qe['get'](this['target0'],Wm,ir);}get['colorDstFa'+'ctor'](){return qe['get'](this['target0'],$m,ir);}get['alphaOp'](){return qe['get'](this['target0'],Xm,Xl);}get['alphaSrcFa'+'ctor'](){return qe['get'](this['target0'],qm,ir);}get['alphaDstFa'+'ctor'](){return qe['get'](this['target0'],jm,ir);}set['redWrite'](_0x4e0d08){this['target0']=qe['set'](this['target0'],_0x4e0d08?0xfa7*0x1+0xdb7*0x2+-0x2b14:0x2*0x124+-0x180b*-0x1+-0x1*0x1a53,iu);}get['redWrite'](){return qe['all'](this['target0'],iu);}set['greenWrite'](_0x41f3de){this['target0']=qe['set'](this['target0'],_0x41f3de?0xd*-0x139+0x1b1*-0x14+0x18dd*0x2:0x31f*-0xc+-0x135b*-0x2+-0xe*0x17,Ym);}get['greenWrite'](){return qe['all'](this['target0'],Ym);}set['blueWrite'](_0x1f07a8){this['target0']=qe['set'](this['target0'],_0x1f07a8?-0x2657+-0x1c2d*-0x1+0x1*0xa2b:0x1f63+0x62d+-0x10*0x259,Km);}get['blueWrite'](){return qe['all'](this['target0'],Km);}set['alphaWrite'](_0x4cd2ff){this['target0']=qe['set'](this['target0'],_0x4cd2ff?0x2*-0xce+-0x241a+0x1*0x25b7:-0x1931+-0x15b*-0x14+-0x1eb,Zm);}get['alphaWrite'](){return qe['all'](this['target0'],Zm);}get['allWrite'](){return qe['get'](this['target0'],vT,yT);}['copy'](_0x97fd00){return this['target0']=_0x97fd00['target0'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}get['key'](){return this['target0'];}['equals'](_0x2dbb8d){return this['target0']===_0x2dbb8d['target0'];}};h(ri,'NOBLEND',Object['freeze'](new ri())),h(ri,'NOWRITE',Object['freeze'](new ri(void(0x57*0x71+-0x76f+-0x1ef8),void(-0x1947*-0x1+-0x639+-0x130e),void(-0x3*-0x2b0+-0x1*0xc53+-0x443*-0x1),void(0xd6c+-0x2*0x2cd+0x3e9*-0x2),void(0x4*0x20e+-0x1*-0x22db+-0x2b13*0x1),void(-0x2354+0x3*-0x6fb+0x3845),void(0x75f*-0x2+-0x1d4a+0x8*0x581),!(-0x56*0x1+-0x9*-0xb9+0x3*-0x20e),!(0x52*-0x55+0x48b+-0x5ac*-0x4),!(0x94*-0x3b+0x1c9e+0x57f),!(0x2f1*-0x3+0x224a+0x1*-0x1976)))),h(ri,'ALPHABLEND',Object['freeze'](new ri(!(0x178c+0x5f0+-0x1d7c),fs,jh,Yh))),h(ri,'ADDBLEND',Object['freeze'](new ri(!(0x109d*0x1+0x1cf9*0x1+-0x30a*0xf),fs,Ft,Ft)));let pt=ri;class Bp{constructor(){h(this,'map',new Map()),h(this,'id',0x16c4+0x23*0x37+0x1*-0x1e49);}['get'](_0x5d092f){let _0x135191=this['map']['get'](_0x5d092f);return _0x135191===void(-0x16*0x6f+0x103+0x3b*0x25)&&(_0x135191=this['id']++,this['map']['set'](_0x5d092f,_0x135191)),_0x135191;}}const xT=new Bp(),Jm=0x990+-0x40f*0x5+0x561*0x2,e_=0x213e+-0x11d*-0x13+0x1*-0x3665,t_=-0x1c7d+0x1*0x395+0x18eb,_r=class _r{constructor(_0x5dfcfa=Wf,_0x525cc9=!(0x1*-0x207b+0x1*0xa8b+0x15f0)){h(this,'data',-0x6*-0x279+-0x9*-0x207+-0x1*0x2115),h(this,'_depthBias',-0x4*-0x58f+-0x1*-0xa0b+0x1*-0x2047),h(this,'_depthBias'+'Slope',-0x2660+-0x1*-0x15a9+0x1*0x10b7),h(this,'key',0x1092+0x763+-0x17f5*0x1),(this['func']=_0x5dfcfa,this['write']=_0x525cc9);}set['test'](_0x3e758f){this['func']=_0x3e758f?Wf:Wi,this['updateKey']();}get['test'](){return this['func']!==Wi;}set['write'](_0x448362){this['data']=qe['set'](this['data'],_0x448362?0x2d*0x67+0x2*-0xf3f+-0x4*-0x319:0x2c*0xd6+0x73*-0xf+0x1e0b*-0x1,t_),this['updateKey']();}get['write'](){return qe['all'](this['data'],t_);}set['func'](_0xe9fabb){this['data']=qe['set'](this['data'],_0xe9fabb,e_,Jm),this['updateKey']();}get['func'](){return qe['get'](this['data'],e_,Jm);}set['depthBias'](_0x12a137){this['_depthBias']=_0x12a137,this['updateKey']();}get['depthBias'](){return this['_depthBias'];}set['depthBiasS'+'lope'](_0x1c4e99){this['_depthBias'+'Slope']=_0x1c4e99,this['updateKey']();}get['depthBiasS'+'lope'](){return this['_depthBias'+'Slope'];}['copy'](_0x39ff7a){return this['data']=_0x39ff7a['data'],this['_depthBias']=_0x39ff7a['_depthBias'],this['_depthBias'+'Slope']=_0x39ff7a['_depthBias'+'Slope'],this['key']=_0x39ff7a['key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['updateKey'](){const {data:_0xec0df9,_depthBias:_0x39a547,_depthBiasSlope:_0x540c2d}=this,_0x241676=_0xec0df9+'-'+_0x39a547+'-'+_0x540c2d;this['key']=xT['get'](_0x241676);}['equals'](_0x338994){return this['key']===_0x338994['key'];}};h(_r,'DEFAULT',Object['freeze'](new _r())),h(_r,'NODEPTH',Object['freeze'](new _r(Wi,!(-0x1d0*0x1+-0x1*-0x1ec2+-0x1*0x1cf1)))),h(_r,'WRITEDEPTH',Object['freeze'](new _r(Wi,!(0x169f+0x1eb5*-0x1+0x5a*0x17))));let Yt=_r;class Uy{constructor(){h(this,'globalId',0x156f+0x2*0x5f9+-0x6ad*0x5),h(this,'revision',0x107*0x7+-0x5*-0x4b1+-0x1ea6);}['equals'](_0x118589){return this['globalId']===_0x118589['globalId']&&this['revision']===_0x118589['revision'];}['copy'](_0x25b435){this['globalId']=_0x25b435['globalId'],this['revision']=_0x25b435['revision'];}['reset'](){this['globalId']=-0x45+0xb18+-0x11*0xa3,this['revision']=-0x9af*0x1+0x15*-0xd3+0x1afe;}}let s_=0x3*-0x85f+0x111a*0x2+0xb3*-0xd;class TT{constructor(){s_++,this['version']=new Uy(),this['version']['globalId']=s_;}['increment'](){this['version']['revision']++;}}class wT{constructor(_0x2748c4){this['name']=_0x2748c4,this['value']=null,this['versionObj'+'ect']=new TT();}['toJSON'](_0x3dceea){}['setValue'](_0x84b097){this['value']=_0x84b097,this['versionObj'+'ect']['increment']();}['getValue'](){return this['value'];}}class ET{constructor(_0x447c6b){this['name']=_0x447c6b,this['variables']=new Map();}['resolve'](_0x20bba6){return this['variables']['has'](_0x20bba6)||this['variables']['set'](_0x20bba6,new wT(_0x20bba6)),this['variables']['get'](_0x20bba6);}['removeValu'+'e'](_0x140e89){for(const _0x58229c in this['variables']){const _0x16a6ae=this['variables'][_0x58229c];_0x16a6ae['value']===_0x140e89&&(_0x16a6ae['value']=null);}}}let bT=0x17da+0x1540+-0x2d1a;class Is{constructor(_0x5e4b01,_0x30501a,_0x61e500,_0xe643cf){h(this,'usage',ms),(w['assert'](arguments['length']<=0x6d8*-0x4+-0xa90+0x2*0x12fa&&(!_0xe643cf||typeof _0xe643cf=='object'),'incorrect\x20'+'arguments'),this['usage']=(_0xe643cf==null?void(0x16ed*-0x1+-0x1fa3*-0x1+0x2*-0x45b):_0xe643cf['usage'])??ms,this['device']=_0x5e4b01,this['format']=_0x30501a,this['numVertice'+'s']=_0x61e500,this['id']=bT++,this['impl']=_0x5e4b01['createVert'+'exBufferIm'+'pl'](this,_0x30501a,_0xe643cf),this['numBytes']=_0x30501a['verticesBy'+'teSize']?_0x30501a['verticesBy'+'teSize']:_0x30501a['size']*_0x61e500,this['adjustVram'+'SizeTracki'+'ng'](_0x5e4b01['_vram'],this['numBytes']));const _0xb431e4=_0xe643cf==null?void(-0x112*0x3+-0x104d+0x1383):_0xe643cf['data'];_0xb431e4?this['setData'](_0xb431e4):this['storage']=new ArrayBuffer(this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x138e8d=this['device'],_0x4bce38=_0x138e8d['buffers']['indexOf'](this);_0x4bce38!==-(0x1b*0x2b+0x21c7*0x1+-0x1d3*0x15)&&_0x138e8d['buffers']['splice'](_0x4bce38,-0x2455+-0x2466+-0x746*-0xa),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x138e8d),this['adjustVram'+'SizeTracki'+'ng'](_0x138e8d['_vram'],-this['storage']['byteLength'])),this['storage']=null;}['adjustVram'+'SizeTracki'+'ng'](_0x142296,_0x3d737a){w['trace'](q0,this['id']+'\x20size:\x20'+_0x3d737a+'\x20vram.vb:\x20'+_0x142296['vb']+'\x20=>\x20'+(_0x142296['vb']+_0x3d737a)),_0x142296['vb']+=_0x3d737a;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getUsage'](){return this['usage'];}['getNumVert'+'ices'](){return this['numVertice'+'s'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x4fd9a8){return _0x4fd9a8['byteLength']!==this['numBytes']?(w['error']('VertexBuff'+'er:\x20wrong\x20'+'initial\x20da'+'ta\x20size:\x20e'+'xpected\x20'+this['numBytes']+',\x20got\x20'+_0x4fd9a8['byteLength']),!(0x90d+0x1*0x1da3+-0x26af)):(this['storage']=_0x4fd9a8,this['unlock'](),!(-0xb80+0x1fc1+-0x1441));}}function hi(_0x573e10){if(_0x573e10==null)return-0x56*-0x11+0x1b59*-0x1+0x15a3;let _0x3a7e47=0x12b+0x12af*0x1+-0x13da;for(let _0xa673f7=0x1*0x167c+-0x43*-0x19+-0x1d07,_0x37a78a=_0x573e10['length'];_0xa673f7<_0x37a78a;_0xa673f7++)_0x3a7e47=(_0x3a7e47<<0x12c8+0x22*-0x3e+-0xa87)-_0x3a7e47+_0x573e10['charCodeAt'](_0xa673f7),_0x3a7e47|=-0x2*-0x1381+-0x4d2*-0x8+-0x4d92;return _0x3a7e47;}function By(_0x3e3709){let _0x13467f=-0x3af15*0x43f0+-0x85431514+0x6ebfe9*0x4a1;for(let _0x5c126a=-0x19f*0x1+-0x13a6+0x1545;_0x5c126a<_0x3e3709['length'];_0x5c126a++)_0x13467f^=_0x3e3709[_0x5c126a],_0x13467f*=0xc8a6a8+-0xc52334+0xfc7e1f*0x1;return _0x13467f>>>0x2359*0x1+-0x210d*0x1+-0xc4*0x3;}const AT=new Bp(),CT=[0x806+-0x937+0x1*0x133,0x76*0x35+-0x833+-0x1037,-0x89a+0x767+0x13b,-0x31+-0x2*-0x10b7+-0x2131,-0xd7*-0x1d+-0x7d7+-0x1074],PT=new Kt();class kt{constructor(_0x4286f3,_0x23d944,_0x3f0683){this['device']=_0x4286f3,this['_elements']=[],this['hasUv0']=!(0x1a34+-0x1*-0x60d+-0x2040),this['hasUv1']=!(-0x1272+-0xc*0x49+-0x1fd*-0xb),this['hasColor']=!(0x282*0xd+0x3*-0x1f3+-0x1ac0),this['hasTangent'+'s']=!(-0x1e63*-0x1+-0x6*-0x4f9+-0x1*0x3c38),this['verticesBy'+'teSize']=-0xa*-0x236+-0x170f+0xf3,this['vertexCoun'+'t']=_0x3f0683,this['interleave'+'d']=_0x3f0683===void(-0x1418+0x1a3a*0x1+-0x622),this['instancing']=!(0x24c9+-0x1f30+-0xb3*0x8),this['size']=_0x23d944['reduce']((_0x1e4802,_0x1dd89e)=>_0x1e4802+Math['ceil'](_0x1dd89e['components']*No[_0x1dd89e['type']]/(0x45d*0x7+0x83f*-0x2+-0xe09))*(-0x24*-0xda+-0x1e56+-0x4e),0x1210+-0x1b8b+-0x97b*-0x1);let _0xaa878b=-0x387*-0x9+0x3*-0x27+-0x1bd*0x12,_0x1eb9d3;for(let _0x5ef2fd=0x1a77+0x15cb+-0x3042,_0x306815=_0x23d944['length'];_0x5ef2fd<_0x306815;_0x5ef2fd++){const _0x16033a=_0x23d944[_0x5ef2fd];_0x1eb9d3=_0x16033a['components']*No[_0x16033a['type']],w['assert'](kt['isElementV'+'alid'](_0x4286f3,_0x16033a),'WebGPU\x20doe'+'s\x20not\x20supp'+'ort\x20the\x20fo'+'rmat\x20of\x20ve'+'rtex\x20eleme'+'nt\x20'+_0x16033a['semantic']+'\x20:\x20'+cT[_0x16033a['type']]+'\x20x\x20'+_0x16033a['components']),_0x3f0683&&(_0xaa878b=Y['roundUp'](_0xaa878b,_0x1eb9d3),w['assert'](_0x1eb9d3%(-0x194c*0x1+0x29a*-0x3+-0x9d*-0x36)===-0xa6+-0x1*0x111b+0x11c1,'Non-interl'+'eaved\x20vert'+'ex\x20format\x20'+'with\x20eleme'+'nt\x20size\x20no'+'t\x20multiple'+'\x20of\x204\x20can\x20'+'have\x20perfo'+'rmance\x20imp'+'act\x20on\x20som'+'e\x20platform'+'s.\x20Element'+'\x20size:\x20'+_0x1eb9d3));const _0x3ad3da=_0x16033a['asInt']??!(0x1d*0x7f+-0x2516+-0x4*-0x5ad),_0x5164ae=_0x3ad3da?!(0x2b*-0x3+0x773+-0x6f1):_0x16033a['normalize']??!(-0x864+-0x137a+0x593*0x5),_0x5dad9e={'name':_0x16033a['semantic'],'offset':_0x3f0683?_0xaa878b:_0x16033a['hasOwnProp'+'erty']('offset')?_0x16033a['offset']:_0xaa878b,'stride':_0x3f0683?_0x1eb9d3:_0x16033a['hasOwnProp'+'erty']('stride')?_0x16033a['stride']:this['size'],'dataType':_0x16033a['type'],'numComponents':_0x16033a['components'],'normalize':_0x5164ae,'size':_0x1eb9d3,'asInt':_0x3ad3da};this['_elements']['push'](_0x5dad9e),_0x3f0683?_0xaa878b+=_0x1eb9d3*_0x3f0683:_0xaa878b+=Math['ceil'](_0x1eb9d3/(0x439+0x8b+-0x4c0))*(-0x1ccb+0x14ba+0x815),_0x16033a['semantic']===is?this['hasUv0']=!(0x409*0x5+-0x1*-0x15ed+-0x2*0x150d):_0x16033a['semantic']===ba?this['hasUv1']=!(-0xa0b+0x5*0x7c7+-0x1*0x1cd8):_0x16033a['semantic']===Wt?this['hasColor']=!(-0x121f+-0x482+-0x78b*-0x3):_0x16033a['semantic']===yi&&(this['hasTangent'+'s']=!(-0x1fe9+0x2275+-0x28c));}_0x3f0683&&(this['verticesBy'+'teSize']=_0xaa878b),this['_evaluateH'+'ash']();}get['elements'](){return this['_elements'];}static['getDefault'+'Instancing'+'Format'](_0x22f1f8){return PT['get'](_0x22f1f8,()=>new kt(_0x22f1f8,[{'semantic':Mp,'components':0x4,'type':Ve},{'semantic':Dp,'components':0x4,'type':Ve},{'semantic':Ip,'components':0x4,'type':Ve},{'semantic':Ln,'components':0x4,'type':Ve}]));}static['isElementV'+'alid'](_0x3a6158,_0x322dbb){const _0x32e711=_0x322dbb['components']*No[_0x322dbb['type']];return!(_0x3a6158['isWebGPU']&&!CT['includes'](_0x32e711));}['update'](){w['assert'](!this['device']['isWebGPU'],'VertexForm'+'at#update\x20'+'is\x20not\x20sup'+'ported\x20on\x20'+'WebGPU\x20and'+'\x20VertexFor'+'mat\x20cannot'+'\x20be\x20modifi'+'ed.'),this['_evaluateH'+'ash']();}['_evaluateH'+'ash'](){const _0x2eb955=[],_0x1619e1=[],_0x4c09b5=this['_elements']['length'];for(let _0x1509b6=0x4f*-0x55+0x6*-0x55f+-0x16d*-0x29;_0x1509b6<_0x4c09b5;_0x1509b6++){const {name:_0x4625ac,dataType:_0x301482,numComponents:_0x77978c,normalize:_0x368815,offset:_0x266896,stride:_0x1be00c,size:_0x1d8d40,asInt:_0x2ce1bf}=this['_elements'][_0x1509b6],_0x5d4571=_0x4625ac+_0x301482+_0x77978c+_0x368815+_0x2ce1bf;_0x2eb955['push'](_0x5d4571);const _0xf904fb=_0x5d4571+_0x266896+_0x1be00c+_0x1d8d40;_0x1619e1['push'](_0xf904fb);}_0x2eb955['sort']();const _0x254cd5=_0x2eb955['join']();this['batchingHa'+'sh']=hi(_0x254cd5),this['shaderProc'+'essingHash'+'String']=_0x254cd5,this['renderingH'+'ashString']=_0x1619e1['join']('_'),this['renderingH'+'ash']=AT['get'](this['renderingH'+'ashString']);}}const MT=new Bp(),zh=class zh{constructor(_0x396cc5={}){h(this,'_func'),h(this,'_ref'),h(this,'_fail'),h(this,'_zfail'),h(this,'_zpass'),h(this,'_readMask'),h(this,'_writeMask'),h(this,'_dirty',!(-0x146*-0xe+-0x22f1+-0x1*-0x111d)),h(this,'_key'),(this['_func']=_0x396cc5['func']??Wi,this['_ref']=_0x396cc5['ref']??0xde*0x17+0x998*-0x1+-0x52d*0x2,this['_readMask']=_0x396cc5['readMask']??0x5*0x2d5+0x24c2+-0x31ec,this['_writeMask']=_0x396cc5['writeMask']??-0x1b*-0x83+-0x24e2+0x1810,this['_fail']=_0x396cc5['fail']??xn,this['_zfail']=_0x396cc5['zfail']??xn,this['_zpass']=_0x396cc5['zpass']??xn,this['_evalKey']());}set['func'](_0x830e4c){this['_func']=_0x830e4c,this['_dirty']=!(-0x17d9+-0x1*-0x16af+0x12a);}get['func'](){return this['_func'];}set['ref'](_0x3dd544){this['_ref']=_0x3dd544,this['_dirty']=!(-0x16*-0x1a2+0x1e1*0xe+-0x12*0x375);}get['ref'](){return this['_ref'];}set['fail'](_0x2c4447){this['_fail']=_0x2c4447,this['_dirty']=!(-0x1f0d+-0x2*-0x1e2+0xb*0x27b);}get['fail'](){return this['_fail'];}set['zfail'](_0x17d909){this['_zfail']=_0x17d909,this['_dirty']=!(-0x1*0x2033+0x1d26+0x30d);}get['zfail'](){return this['_zfail'];}set['zpass'](_0xc67a5){this['_zpass']=_0xc67a5,this['_dirty']=!(-0x1*-0x1cdf+-0x1f31+0x21*0x12);}get['zpass'](){return this['_zpass'];}set['readMask'](_0x38d6ff){this['_readMask']=_0x38d6ff,this['_dirty']=!(-0x64d*-0x2+-0xa79+-0x221);}get['readMask'](){return this['_readMask'];}set['writeMask'](_0x4ce426){this['_writeMask']=_0x4ce426,this['_dirty']=!(-0x7eb+-0x1*-0x1951+-0x1166);}get['writeMask'](){return this['_writeMask'];}['_evalKey'](){const {_func:_0x156349,_ref:_0x57d2b0,_fail:_0x264fba,_zfail:_0x28f6cb,_zpass:_0x10ca99,_readMask:_0x1bd144,_writeMask:_0x5e5896}=this,_0x4bea34=_0x156349+','+_0x57d2b0+','+_0x264fba+','+_0x28f6cb+','+_0x10ca99+','+_0x1bd144+','+_0x5e5896;this['_key']=MT['get'](_0x4bea34),this['_dirty']=!(-0x1*0x2459+0x5da+-0x7a*-0x40);}get['key'](){return this['_dirty']&&this['_evalKey'](),this['_key'];}['copy'](_0x2bae7a){return this['_func']=_0x2bae7a['_func'],this['_ref']=_0x2bae7a['_ref'],this['_readMask']=_0x2bae7a['_readMask'],this['_writeMask']=_0x2bae7a['_writeMask'],this['_fail']=_0x2bae7a['_fail'],this['_zfail']=_0x2bae7a['_zfail'],this['_zpass']=_0x2bae7a['_zpass'],this['_dirty']=_0x2bae7a['_dirty'],this['_key']=_0x2bae7a['_key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}};h(zh,'DEFAULT',Object['freeze'](new zh()));let pi=zh;const ql=new Set(),Vh=class Vh extends me{constructor(_0x3003c2,_0x58d255){var _0x4fdd18,_0x2d9e6b,_0x457ced,_0x13703b,_0x1e4c37,_0x53ec33;super(),h(this,'canvas'),h(this,'backBuffer',null),h(this,'backBuffer'+'Size',new J()),h(this,'backBuffer'+'Format'),h(this,'backBuffer'+'Antialias',!(0xff3+-0x23*-0xe5+-0x2f41)),h(this,'isWebGPU',!(-0x1625+0x2*-0xe72+0x330a)),h(this,'isWebGL2',!(-0x193+-0xe33+-0x1*-0xfc7)),h(this,'isHdr',!(0x3c0+0xf09+-0x12c8)),h(this,'scope'),h(this,'maxIndirec'+'tDrawCount',0xa*-0x3b3+0x15e8+0x1316*0x1),h(this,'maxAnisotr'+'opy'),h(this,'maxCubeMap'+'Size'),h(this,'maxTexture'+'Size'),h(this,'maxVolumeS'+'ize'),h(this,'maxColorAt'+'tachments',-0xea3+0x1*-0x10e7+0x1f8b),h(this,'precision'),h(this,'samples'),h(this,'maxSamples',0x24bf+0x3*-0x903+0x23*-0x47),h(this,'supportsSt'+'encil'),h(this,'supportsCo'+'mpute',!(0x21bb+-0x2668*0x1+0x4ae)),h(this,'supportsSt'+'orageTextu'+'reRead',!(0x203a+0x1929+-0x3962)),h(this,'renderTarg'+'et',null),h(this,'shaders',[]),h(this,'textures',[]),h(this,'targets',new Set()),h(this,'renderVers'+'ion',0xd5d+0xfc2+-0x1d1f),h(this,'renderPass'+'Index'),h(this,'insideRend'+'erPass',!(0xc9*0xc+-0x131a+0x25*0x43)),h(this,'supportsUn'+'iformBuffe'+'rs',!(0x2444+0x6a5*-0x1+-0x1d9e)),h(this,'supportsCl'+'ipDistance'+'s',!(0x1bb0+-0x2655+0xaa6)),h(this,'textureFlo'+'atRenderab'+'le'),h(this,'textureHal'+'fFloatRend'+'erable'),h(this,'textureRG1'+'1B10Render'+'able',!(-0x1b3d*-0x1+0x220e+-0x3d4a)),h(this,'textureFlo'+'atFilterab'+'le',!(-0x889*0x4+-0x5*-0x6ce+0x1f)),h(this,'quadVertex'+'Buffer'),h(this,'blendState',new pt()),h(this,'depthState',new Yt()),h(this,'stencilEna'+'bled',!(-0x1f*-0x72+0x119*-0x1+-0xcb4)),h(this,'stencilFro'+'nt',new pi()),h(this,'stencilBac'+'k',new pi()),h(this,'dynamicBuf'+'fers'),h(this,'gpuProfile'+'r'),h(this,'defaultCle'+'arOptions',{'color':[0x262c+-0x739+-0x8b*0x39,-0x12b3*-0x2+0x13d2+-0x3938,-0x3d3*0x2+0x2*-0x1eb+0xb7c,0x174f+-0x5f*-0x28+-0x1*0x2626],'depth':0x1,'stencil':0x0,'flags':jo|Yo}),h(this,'clientRect',{'width':0x0,'height':0x0}),h(this,'_shadersDi'+'rty',!(0x23e5+-0x1*0x6f4+0x1cf0*-0x1)),h(this,'capsDefine'+'s',new Map()),h(this,'mapsToClea'+'r',new Set()),(this['canvas']=_0x3003c2,'setAttribu'+'te'in _0x3003c2&&_0x3003c2['setAttribu'+'te']('data-engin'+'e','PlayCanvas'+'\x20'+hn),this['initOption'+'s']={..._0x58d255},(_0x4fdd18=this['initOption'+'s'])['alpha']??(_0x4fdd18['alpha']=!(-0xfdd+0x1c9b+-0xcbe)),(_0x2d9e6b=this['initOption'+'s'])['depth']??(_0x2d9e6b['depth']=!(-0x1d2+0x104a*-0x2+0x2266*0x1)),(_0x457ced=this['initOption'+'s'])['stencil']??(_0x457ced['stencil']=!(-0x1f*-0xfe+0x1ca4+0x1*-0x3b66)),(_0x13703b=this['initOption'+'s'])['antialias']??(_0x13703b['antialias']=!(0x1ce9+-0x2d7+-0x1a12)),(_0x1e4c37=this['initOption'+'s'])['powerPrefe'+'rence']??(_0x1e4c37['powerPrefe'+'rence']='high-perfo'+'rmance'),(_0x53ec33=this['initOption'+'s'])['displayFor'+'mat']??(_0x53ec33['displayFor'+'mat']=oT),this['_maxPixelR'+'atio']=Ae['browser']?Math['min'](-0xe49+0x1758+0x26*-0x3d,window['devicePixe'+'lRatio']):0xf34+0x1381*0x1+0x1*-0x22b4,this['buffers']=[],this['_vram']={'texShadow':0x0,'texAsset':0x0,'texLightmap':0x0,'tex':0x0,'vb':0x0,'ib':0x0,'ub':0x0,'sb':0x0},this['_shaderSta'+'ts']={'vsCompiled':0x0,'fsCompiled':0x0,'linked':0x0,'materialShaders':0x0,'compileTime':0x0},this['initialize'+'ContextCac'+'hes'](),this['_drawCalls'+'PerFrame']=0x4*-0x850+-0x3*-0xb0d+-0x19*-0x1,this['_shaderSwi'+'tchesPerFr'+'ame']=0xff3*0x1+0x11ee+-0x21e1,this['_primsPerF'+'rame']=[]);for(let _0x47bf64=cd;_0x47bf64<=oa;_0x47bf64++)this['_primsPerF'+'rame'][_0x47bf64]=-0x2401*-0x1+0x629+-0x2*0x1515;this['_renderTar'+'getCreatio'+'nTime']=0x614*0x3+-0x379*0x8+-0xd*-0xbc,this['scope']=new ET('Device'),this['textureBia'+'s']=this['scope']['resolve']('textureBia'+'s'),this['textureBia'+'s']['setValue'](-0x71*0x43+0x2452+-0x6bf);}['postInit'](){const _0x196101=new kt(this,[{'semantic':Me,'components':0x2,'type':Ve}]),_0x3d825b=new Float32Array([-(0x251+-0x6c2*0x1+0x472),-(0xab3+-0x1298+0x7e6),-0x593+0x26aa+-0x6e*0x4d,-(0x3*-0x1a5+-0x1c39*-0x1+-0x1*0x1749),-(-0x93c*-0x3+0xdeb+0x14cf*-0x2),-0x658*0x1+-0x2e*0xa2+0x2375,0x8c*-0x16+0x64d+0x2de*0x2,-0x1920+-0x1*0x12d7+0x2bf8]);this['quadVertex'+'Buffer']=new Is(this,_0x196101,-0x1*0x181d+0x2c7+0x155a,{'data':_0x3d825b});}['initCapsDe'+'fines'](){const {capsDefines:_0x9389ff}=this;_0x9389ff['clear'](),this['textureFlo'+'atFilterab'+'le']&&_0x9389ff['set']('CAPS_TEXTU'+'RE_FLOAT_F'+'ILTERABLE',''),this['textureFlo'+'atRenderab'+'le']&&_0x9389ff['set']('CAPS_TEXTU'+'RE_FLOAT_R'+'ENDERABLE','');}['destroy'](){var _0x4f8a99,_0x41110e,_0x209048;this['fire']('destroy'),(_0x4f8a99=this['quadVertex'+'Buffer'])==null||_0x4f8a99['destroy'](),this['quadVertex'+'Buffer']=null,(_0x41110e=this['dynamicBuf'+'fers'])==null||_0x41110e['destroy'](),this['dynamicBuf'+'fers']=null,(_0x209048=this['gpuProfile'+'r'])==null||_0x209048['destroy'](),this['gpuProfile'+'r']=null;}['onDestroyS'+'hader'](_0x4134a5){this['fire']('destroy:sh'+'ader',_0x4134a5);const _0x1f9603=this['shaders']['indexOf'](_0x4134a5);_0x1f9603!==-(-0x3a6+0x989+-0x6*0xfb)&&this['shaders']['splice'](_0x1f9603,-0x4d*-0x5c+-0x1da1+-0x1*-0x1f6);}['postDestro'+'y'](){this['scope']=null,this['canvas']=null;}['loseContex'+'t'](){var _0x539de6;this['contextLos'+'t']=!(-0x417+-0x1a25+0xc*0x285),this['backBuffer'+'Size']['set'](-(0x4*0x3b+0x2*-0x5e6+0xae1),-(0x12*-0x61+0x42*0x7b+-0x18e3));for(const _0x3a0b19 of this['textures'])_0x3a0b19['loseContex'+'t']();for(const _0x364e68 of this['buffers'])_0x364e68['loseContex'+'t']();for(const _0x4acb73 of this['targets'])_0x4acb73['loseContex'+'t']();(_0x539de6=this['gpuProfile'+'r'])==null||_0x539de6['loseContex'+'t']();}['restoreCon'+'text'](){var _0x497dba,_0x1eb62e;this['contextLos'+'t']=!(-0x1*-0x189d+-0x7a4*0x2+0xc7*-0xc),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes']();for(const _0x535a26 of this['buffers'])_0x535a26['unlock']();(_0x1eb62e=(_0x497dba=this['gpuProfile'+'r'])==null?void(0x224f+0x1583+-0x37d2):_0x497dba['restoreCon'+'text'])==null||_0x1eb62e['call'](_0x497dba);}['toJSON'](_0x1dc372){}['initialize'+'ContextCac'+'hes'](){this['vertexBuff'+'ers']=[],this['shader']=null,this['shaderVali'+'d']=void(-0x88d+-0x5*-0x6cd+-0x2d4*0x9),this['shaderAsyn'+'cCompile']=!(-0x75d+-0x286+0x9e4),this['renderTarg'+'et']=null;}['initialize'+'RenderStat'+'e'](){this['blendState']=new pt(),this['depthState']=new Yt(),this['cullMode']=pa,this['vx']=this['vy']=this['vw']=this['vh']=0x483*-0x2+-0x24f7*0x1+0x2dfd,this['sx']=this['sy']=this['sw']=this['sh']=0x2245+0x12fd+0x191*-0x22,this['blendColor']=new ie(0x31*-0xbe+0x17ad+-0x39*-0x39,-0x159a+0x16d3+-0x139,0x10f*0x13+0x7*-0x7a+-0x1*0x10c7,-0x2057+0x2277+-0x88*0x4);}['setStencil'+'State'](_0x47f0e2,_0x3c03b8){w['assert'](!(0x21db+0x1653+-0xc5*0x49));}['setBlendSt'+'ate'](_0xace44d){w['assert'](!(0x1b71+-0x222d+0x3*0x23f));}['setBlendCo'+'lor'](_0x8be298,_0xf3cc17,_0x1daab7,_0x23f0a3){w['assert'](!(0x1113*0x1+-0x9c0+-0x752*0x1));}['setDepthSt'+'ate'](_0x106dca){w['assert'](!(0x349*0x5+0x78*-0x1a+-0x21e*0x2));}['setCullMod'+'e'](_0xc5a739){w['assert'](!(-0x1a4d+-0x1240+0x3*0xeda));}['setRenderT'+'arget'](_0xafcedd){this['renderTarg'+'et']=_0xafcedd;}['setVertexB'+'uffer'](_0x4b1b0d){_0x4b1b0d&&this['vertexBuff'+'ers']['push'](_0x4b1b0d);}['clearVerte'+'xBuffer'](){this['vertexBuff'+'ers']['length']=0x1bb*-0xd+0xaad+-0x5e9*-0x2;}['getIndirec'+'tDrawSlot'](){return-0x22f3+0x11*-0x1aa+0x3f3d;}get['indirectDr'+'awBuffer'](){return null;}['getRenderT'+'arget'](){return this['renderTarg'+'et'];}['initRender'+'Target'](_0x376301){if(_0x376301['initialize'+'d'])return;const _0x10c3d8=de();this['fire']('fbo:create',{'timestamp':_0x10c3d8,'target':this}),_0x376301['init'](),this['targets']['add'](_0x376301),this['_renderTar'+'getCreatio'+'nTime']+=de()-_0x10c3d8;}['draw'](_0x4c4278,_0x3b8a40,_0x23ea1c,_0x17e208,_0x4d9dd0=!(0xbf*0x6+0x41b*0x1+-0x895),_0xfaf86a=!(-0x1534+-0x20e*0x1+0x1742)){w['assert'](!(0x28c*0xb+-0x153*0xd+-0x2*0x566));}['_isBrowser'+'Interface'](_0x29d118){return this['_isImageBr'+'owserInter'+'face'](_0x29d118)||this['_isImageCa'+'nvasInterf'+'ace'](_0x29d118)||this['_isImageVi'+'deoInterfa'+'ce'](_0x29d118);}['_isImageBr'+'owserInter'+'face'](_0x11c688){return typeof ImageBitmap<'u'&&_0x11c688 instanceof ImageBitmap||typeof HTMLImageElement<'u'&&_0x11c688 instanceof HTMLImageElement;}['_isImageCa'+'nvasInterf'+'ace'](_0x580e21){return typeof HTMLCanvasElement<'u'&&_0x580e21 instanceof HTMLCanvasElement;}['_isImageVi'+'deoInterfa'+'ce'](_0x292c7e){return typeof HTMLVideoElement<'u'&&_0x292c7e instanceof HTMLVideoElement;}['resizeCanv'+'as'](_0x909ed8,_0x409f24){const _0x28574b=Math['min'](this['_maxPixelR'+'atio'],Ae['browser']?window['devicePixe'+'lRatio']:0xe33*-0x2+-0x1397+0x2ffe),_0x3ae399=Math['floor'](_0x909ed8*_0x28574b),_0x22d399=Math['floor'](_0x409f24*_0x28574b);(_0x3ae399!==this['canvas']['width']||_0x22d399!==this['canvas']['height'])&&this['setResolut'+'ion'](_0x3ae399,_0x22d399);}['setResolut'+'ion'](_0x5234a0,_0x22f4a3){this['canvas']['width']=_0x5234a0,this['canvas']['height']=_0x22f4a3,this['fire'](Vh['EVENT_RESI'+'ZE'],_0x5234a0,_0x22f4a3);}['update'](){this['updateClie'+'ntRect']();}['updateClie'+'ntRect'](){if(Ae['worker'])this['clientRect']['width']=this['canvas']['width'],this['clientRect']['height']=this['canvas']['height'];else{const _0x2d9dd2=this['canvas']['getBoundin'+'gClientRec'+'t']();this['clientRect']['width']=_0x2d9dd2['width'],this['clientRect']['height']=_0x2d9dd2['height'];}}get['width'](){return this['canvas']['width'];}get['height'](){return this['canvas']['height'];}set['fullscreen'](_0x4b9b0f){w['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.');}get['fullscreen'](){return w['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.'),!(-0x2b*0xb7+-0x24d3*0x1+-0x7*-0x9a7);}set['maxPixelRa'+'tio'](_0x4b8413){this['_maxPixelR'+'atio']=_0x4b8413;}get['maxPixelRa'+'tio'](){return this['_maxPixelR'+'atio'];}get['deviceType'](){return this['_deviceTyp'+'e'];}['startRende'+'rPass'](_0x3abeca){}['endRenderP'+'ass'](_0x510a2a){}['startCompu'+'tePass'](_0x498764){}['endCompute'+'Pass'](){}['frameStart'](){this['renderPass'+'Index']=-0x19*0x7a+-0x1*-0xca3+-0x5*0x25,this['renderVers'+'ion']++,w['call'](()=>{if(mi['get'](Z0)){const _0x1e68ad=this['textures']['slice']();_0x1e68ad['sort']((_0x53b9a2,_0x184ebf)=>_0x184ebf['gpuSize']-_0x53b9a2['gpuSize']),w['log']('Textures:\x20'+_0x1e68ad['length']);let _0x4225ef=-0x1*-0x20dd+-0x6e1+-0x19fc;_0x1e68ad['forEach']((_0x5ef178,_0x2e068f)=>{const _0x35a9ed=_0x5ef178['gpuSize'];_0x4225ef+=_0x35a9ed,w['log'](_0x2e068f+'.\x20'+_0x5ef178['name']+'\x20'+_0x5ef178['width']+'x'+_0x5ef178['height']+'\x20VRAM:\x20'+(_0x35a9ed/(-0xcf5+0x4*0x15b+-0xb89*-0x1)/(-0xb5b+0x1*0x1eb5+0x51e*-0x3))['toFixed'](-0x25f*-0xb+0x53*0x3b+-0x2d34)+'\x20MB');}),w['log']('Total:\x20'+(_0x4225ef/(0x1*0x24c9+0x2e*0xd7+-0x476b*0x1)/(-0x9eb+0x135*0x9+0x30e))['toFixed'](-0x1919*-0x1+0x9d*-0x22+-0x43d)+'MB');}});}['frameEnd'](){this['mapsToClea'+'r']['forEach'](_0x5b274f=>_0x5b274f['clear']()),this['mapsToClea'+'r']['clear']();}['computeDis'+'patch'](_0x12a952,_0x34513c='Unnamed'){}['getRendera'+'bleHdrForm'+'at'](_0x101b32=[In,nt,Xt],_0x3cca98=!(-0x3*-0x673+-0x1346+0x1*-0x13),_0x5678fc=-0x29*-0x39+0x67*0xd+-0xe5b){for(let _0x5e67d0=-0x567*-0x4+-0x1*-0x8cb+0x2b*-0xb5;_0x5e67d0<_0x101b32['length'];_0x5e67d0++){const _0x3a44bc=_0x101b32[_0x5e67d0];switch(_0x3a44bc){case In:{if(this['textureRG1'+'1B10Render'+'able'])return _0x3a44bc;break;}case nt:if(this['textureHal'+'fFloatRend'+'erable'])return _0x3a44bc;break;case Xt:if(this['isWebGPU']&&_0x5678fc>0x1*0xfe+-0x3*0x77+0x1*0x68)continue;if(this['textureFlo'+'atRenderab'+'le']&&(!_0x3cca98||this['textureFlo'+'atFilterab'+'le']))return _0x3a44bc;break;}}}['validateAt'+'tributes'](_0x734e16,_0x53af38,_0x47e4d9){w['call'](()=>{ql['clear'](),_0x53af38==null||_0x53af38['elements']['forEach'](_0x1cac9a=>ql['add'](Le[_0x1cac9a['name']])),_0x47e4d9==null||_0x47e4d9['elements']['forEach'](_0x5ee22c=>ql['add'](Le[_0x5ee22c['name']]));for(const [_0xfc4e13,_0x23dc2b]of _0x734e16['attributes'])ql['has'](_0xfc4e13)||w['errorOnce']('Vertex\x20att'+'ribute\x20['+_0x23dc2b+(']\x20at\x20locat'+'ion\x20')+_0xfc4e13+('\x20required\x20'+'by\x20the\x20sha'+'der\x20is\x20not'+'\x20present\x20i'+'n\x20the\x20curr'+'ently\x20assi'+'gned\x20verte'+'x\x20buffers,'+'\x20while\x20ren'+'dering\x20[')+Q['toString']()+']',{'shader':_0x734e16,'vb0Format':_0x53af38,'vb1Format':_0x47e4d9});});}};h(Vh,'EVENT_RESI'+'ZE','resizecanv'+'as');let $e=Vh,DT=-0x2*0x136b+-0x982+0x3058*0x1;class gt{constructor(_0x55b72f={}){h(this,'name'),h(this,'_device'),h(this,'_colorBuff'+'er'),h(this,'_colorBuff'+'ers'),h(this,'_depthBuff'+'er'),h(this,'_depth'),h(this,'_stencil'),h(this,'_samples'),h(this,'autoResolv'+'e'),h(this,'_face'),h(this,'_mipLevel'),h(this,'_mipmaps'),h(this,'flipY');var _0x2a19af,_0x2baeb2,_0x2ed3bb,_0x2a941e,_0x4aa24e,_0x2d2493;w['assert'](!(_0x55b72f instanceof $e),'pc.RenderT'+'arget\x20cons'+'tructor\x20no'+'\x20longer\x20ac'+'cepts\x20Grap'+'hicsDevice'+'\x20parameter'+'.'),this['id']=DT++;const _0x221ed0=((_0x2a19af=_0x55b72f['colorBuffe'+'r'])==null?void(0x151e+-0x1*0x2b1+-0x126d*0x1):_0x2a19af['device'])??((_0x2baeb2=_0x55b72f['colorBuffe'+'rs'])==null?void(-0x9c9+-0x136b+0x164*0x15):_0x2baeb2[0x4*-0x626+-0x2*-0xae4+0x2d0]['device'])??((_0x2ed3bb=_0x55b72f['depthBuffe'+'r'])==null?void(-0x1*-0x25a5+0x167*-0x3+0x358*-0xa):_0x2ed3bb['device'])??_0x55b72f['graphicsDe'+'vice'];w['assert'](_0x221ed0,'Failed\x20to\x20'+'obtain\x20the'+'\x20device,\x20c'+'olorBuffer'+'\x20nor\x20depth'+'Buffer\x20sto'+'re\x20it.'),this['_device']=_0x221ed0;const {maxSamples:_0x212e98}=this['_device'];if(this['_samples']=Math['min'](_0x55b72f['samples']??-0xd80+0x1*0x1c7c+0x2ff*-0x5,_0x212e98),_0x221ed0['isWebGPU']&&(this['_samples']=this['_samples']>0x25c5+-0x22*-0x1c+-0x297c?_0x212e98:0x43*-0x17+-0x20e4+0x26ea),this['_colorBuff'+'er']=_0x55b72f['colorBuffe'+'r'],_0x55b72f['colorBuffe'+'r']&&(this['_colorBuff'+'ers']=[_0x55b72f['colorBuffe'+'r']]),this['_depthBuff'+'er']=_0x55b72f['depthBuffe'+'r'],this['_face']=_0x55b72f['face']??0xce+0x434*-0x2+0x79a,this['_depthBuff'+'er']){const _0x41cef4=this['_depthBuff'+'er']['_format'];_0x41cef4===$i||_0x41cef4===vn?(this['_depth']=!(-0x13*0x115+-0x2354+0x37e3),this['_stencil']=!(0x27*-0x1+0xd4*0x2c+-0x36*0xac)):_0x41cef4===sd?(this['_depth']=!(-0x154e+-0x2246+0x3794),this['_stencil']=!(-0x1d26+0xa86+0x20*0x95)):_0x41cef4===Ji&&this['_depthBuff'+'er']['device']['isWebGPU']&&this['_samples']>-0x2294*0x1+-0x164+0x23f9?(this['_depth']=!(0x2*-0xac+0xba5+-0xa4d),this['_stencil']=!(-0xb5d*-0x2+-0x80*-0x22+0x1*-0x27b9)):(w['warn']('Incorrect\x20'+'depthBuffe'+'r\x20format.\x20'+'Must\x20be\x20pc'+'.PIXELFORM'+'AT_DEPTH\x20o'+'r\x20pc.PIXEL'+'FORMAT_DEP'+'THSTENCIL'),this['_depth']=!(0x1390+-0x6*0x51c+-0x3*-0x3b3),this['_stencil']=!(-0x141c+0x609+0x2*0x70a));}else this['_depth']=_0x55b72f['depth']??!(-0xb*0x1eb+-0x3d*-0x1+0x14dc),this['_stencil']=_0x55b72f['stencil']??!(0x1512+0x2*-0x65+-0x1447);_0x55b72f['colorBuffe'+'rs']&&(w['assert'](!this['_colorBuff'+'ers'],'When\x20const'+'ructing\x20Re'+'nderTarget'+'\x20and\x20optio'+'ns.colorBu'+'ffers\x20is\x20u'+'sed,\x20optio'+'ns.colorBu'+'ffer\x20must\x20'+'not\x20be\x20use'+'d.'),this['_colorBuff'+'ers']||(this['_colorBuff'+'ers']=[..._0x55b72f['colorBuffe'+'rs']],this['_colorBuff'+'er']=_0x55b72f['colorBuffe'+'rs'][-0x134d+-0xf*0xd3+0x1faa])),this['autoResolv'+'e']=_0x55b72f['autoResolv'+'e']??!(-0x1467*0x1+0x8*0x1d2+0x5d7),this['name']=_0x55b72f['name'],this['name']||(this['name']=(_0x2a941e=this['_colorBuff'+'er'])==null?void(0x1*-0x1da+0x1efe+-0x1d24*0x1):_0x2a941e['name']),this['name']||(this['name']=(_0x4aa24e=this['_depthBuff'+'er'])==null?void(0x34*0x49+0x1408+-0xc2*0x2e):_0x4aa24e['name']),this['name']||(this['name']='Untitled'),this['flipY']=_0x55b72f['flipY']??!(0x1917+-0x4*-0x4d6+0x2f*-0xf2),this['_mipLevel']=_0x55b72f['mipLevel']??0x14b8+0x45*-0x12+-0xfde,this['_mipLevel']>0xbb*0x5+0xf35*-0x1+0xb8e&&this['_depth']&&(w['error']('Rendering\x20'+'to\x20a\x20mipLe'+'vel\x20is\x20not'+'\x20supported'+'\x20when\x20rend'+'er\x20target\x20'+'uses\x20a\x20dep'+'th\x20buffer.'+'\x20Ignoring\x20'+'mipLevel\x20'+this['_mipLevel']+('\x20for\x20rende'+'r\x20target\x20')+this['name'],{'renderTarget':this,'options':_0x55b72f}),this['_mipLevel']=-0x704*-0x4+-0x2161+0x1*0x551),this['_mipmaps']=_0x55b72f['mipLevel']===void(0xd2f+-0x1931+0xc02),this['validateMr'+'t'](),this['impl']=_0x221ed0['createRend'+'erTargetIm'+'pl'](this),w['trace'](Mm,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+('\x20[samples:'+'\x20')+this['samples']+']'+((_0x2d2493=this['_colorBuff'+'ers'])!=null&&_0x2d2493['length']?'[MRT:\x20'+this['_colorBuff'+'ers']['length']+']':'')+(this['colorBuffe'+'r']?'[Color]':'')+(this['depth']?'[Depth]':'')+(this['stencil']?'[Stencil]':'')+'[Face:'+this['face']+']');}['destroy'](){w['trace'](Mm,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x80fc0b=this['_device'];_0x80fc0b&&(_0x80fc0b['targets']['delete'](this),_0x80fc0b['renderTarg'+'et']===this&&_0x80fc0b['setRenderT'+'arget'](null),this['destroyFra'+'meBuffers']());}['destroyFra'+'meBuffers'](){const _0x3a5e18=this['_device'];_0x3a5e18&&this['impl']['destroy'](_0x3a5e18);}['destroyTex'+'tureBuffer'+'s'](){var _0x162033,_0x56a4a9;(_0x162033=this['_depthBuff'+'er'])==null||_0x162033['destroy'](),this['_depthBuff'+'er']=null,(_0x56a4a9=this['_colorBuff'+'ers'])==null||_0x56a4a9['forEach'](_0x1ef342=>{_0x1ef342['destroy']();}),this['_colorBuff'+'ers']=null,this['_colorBuff'+'er']=null;}['resize'](_0x4c1b49,_0x5ecee5){var _0x4f6c31,_0x378f80;if(this['width']!==_0x4c1b49||this['height']!==_0x5ecee5){if(this['mipLevel']>0x2*0x3ce+-0x2b8+-0x4e4*0x1){w['warn']('Only\x20a\x20ren'+'der\x20target'+'\x20rendering'+'\x20to\x20mipLev'+'el\x200\x20can\x20b'+'e\x20resized,'+'\x20ignoring.',this);return;}const _0xe6ee7c=this['_device'];this['destroyFra'+'meBuffers'](),_0xe6ee7c['renderTarg'+'et']===this&&_0xe6ee7c['setRenderT'+'arget'](null),(_0x4f6c31=this['_depthBuff'+'er'])==null||_0x4f6c31['resize'](_0x4c1b49,_0x5ecee5),(_0x378f80=this['_colorBuff'+'ers'])==null||_0x378f80['forEach'](_0x821100=>{_0x821100['resize'](_0x4c1b49,_0x5ecee5);}),this['validateMr'+'t'](),this['impl']=_0xe6ee7c['createRend'+'erTargetIm'+'pl'](this);}}['validateMr'+'t'](){w['call'](()=>{if(this['_colorBuff'+'ers']){const {width:_0x123cc3,height:_0x51f059,cubemap:_0x19be3d,volume:_0x13bdf9}=this['_colorBuff'+'ers'][-0xf69+0x1*-0x926+0x188f];for(let _0x54dc34=-0x1840*0x1+-0x111c+0x295d;_0x54dc34<this['_colorBuff'+'ers']['length'];_0x54dc34++){const _0x4d09b1=this['_colorBuff'+'ers'][_0x54dc34];w['assert'](_0x4d09b1['width']===_0x123cc3,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20width',this),w['assert'](_0x4d09b1['height']===_0x51f059,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20height',this),w['assert'](_0x4d09b1['cubemap']===_0x19be3d,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20cubemap\x20s'+'etting',this),w['assert'](_0x4d09b1['volume']===_0x13bdf9,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20volume\x20se'+'tting',this);}}});}['init'](){this['impl']['init'](this['_device'],this);}get['initialize'+'d'](){return this['impl']['initialize'+'d'];}get['device'](){return this['_device'];}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['resolve'](_0x4433d1=!(-0x133c+-0x33b*0x3+-0x5*-0x5c9),_0x3fbf81=!!this['_depthBuff'+'er']){this['_device']&&this['_samples']>-0x1*-0x316+-0x1*-0x1093+-0x13a8&&(Q['pushGpuMar'+'ker'](this['_device'],'RESOLVE-RT'+':'+this['name']+':'+(_0x4433d1?'[color]':'')+':'+(_0x3fbf81?'[depth]':'')),this['impl']['resolve'](this['_device'],this,_0x4433d1,_0x3fbf81),Q['popGpuMark'+'er'](this['_device']));}['copy'](_0x497abb,_0x28c108,_0x2e0076){if(!this['_device']){if(_0x497abb['_device'])this['_device']=_0x497abb['_device'];else return w['error']('Render\x20tar'+'gets\x20are\x20n'+'ot\x20initial'+'ized'),!(0x24b5+0x9d*-0x33+-0x56d);}Q['pushGpuMar'+'ker'](this['_device'],'COPY-RT:'+_0x497abb['name']+'->'+this['name']);const _0x35eb87=this['_device']['copyRender'+'Target'](_0x497abb,this,_0x28c108,_0x2e0076);return Q['popGpuMark'+'er'](this['_device']),_0x35eb87;}get['samples'](){return this['_samples'];}get['depth'](){return this['_depth'];}get['stencil'](){return this['_stencil'];}get['colorBuffe'+'r'](){return this['_colorBuff'+'er'];}['getColorBu'+'ffer'](_0xea2c28){var _0x5acec3;return(_0x5acec3=this['_colorBuff'+'ers'])==null?void(0x1*0x2575+0x103*0x4+-0x2981):_0x5acec3[_0xea2c28];}get['depthBuffe'+'r'](){return this['_depthBuff'+'er'];}get['face'](){return this['_face'];}get['mipLevel'](){return this['_mipLevel'];}get['mipmaps'](){return this['_mipmaps'];}get['width'](){var _0x5e8eec,_0x26f9b6;let _0x4d31a9=((_0x5e8eec=this['_colorBuff'+'er'])==null?void(-0x15de+0x1a3d*0x1+0x175*-0x3):_0x5e8eec['width'])||((_0x26f9b6=this['_depthBuff'+'er'])==null?void(0x199b+-0x62b*0x2+-0xd45):_0x26f9b6['width'])||this['_device']['width'];return this['_mipLevel']>0x3d3+0x19e*0x8+-0x10c3&&(_0x4d31a9=Xi['calcLevelD'+'imension'](_0x4d31a9,this['_mipLevel'])),_0x4d31a9;}get['height'](){var _0x2ce389,_0x37034a;let _0x125d73=((_0x2ce389=this['_colorBuff'+'er'])==null?void(-0x1d8a*0x1+-0x1c8e+0xb*0x548):_0x2ce389['height'])||((_0x37034a=this['_depthBuff'+'er'])==null?void(0x64*-0xd+0x2480+-0x1f6c):_0x37034a['height'])||this['_device']['height'];return this['_mipLevel']>0x151e+0x3*-0xb82+0x11e*0xc&&(_0x125d73=Xi['calcLevelD'+'imension'](_0x125d73,this['_mipLevel'])),_0x125d73;}['isColorBuf'+'ferSrgb'](_0x15a60d=-0x1*0x2429+0x1f55+0x4d4){if(this['device']['backBuffer']===this)return fh(this['device']['backBuffer'+'Format']);const _0x50fbcc=this['getColorBu'+'ffer'](_0x15a60d);return _0x50fbcc?fh(_0x50fbcc['format']):!(0x5c*-0x5b+0x80b*-0x1+-0x28c0*-0x1);}}const IT={'equals'(_0x3485f6,_0x418855){if(_0x3485f6['length']!==_0x418855['length'])return!(-0x2564+0x1945+0x61*0x20);for(let _0x63cca8=-0x1*-0xbd1+0x2156+-0x2d27;_0x63cca8<_0x3485f6['length'];_0x63cca8++)if(_0x3485f6[_0x63cca8]!==_0x418855[_0x63cca8])return!(-0x2*-0xf81+0x135c+0x1*-0x325d);return!(0xc11*-0x3+0x2*-0x705+-0x9*-0x595);}};class wd{constructor(){h(this,'_refCount',-0x1*-0x3b9+-0x21c9+0x1e10);}['incRefCoun'+'t'](){this['_refCount']++;}['decRefCoun'+'t'](){this['_refCount']--;}get['refCount'](){return this['_refCount'];}}class LT extends wd{constructor(_0x9f5d49){super(),h(this,'object'),(this['object']=_0x9f5d49,this['incRefCoun'+'t']());}}class RT{constructor(){h(this,'cache',new Map());}['destroy'](){this['cache']['forEach'](_0x37bba1=>{var _0xd8a5ea;(_0xd8a5ea=_0x37bba1['object'])==null||_0xd8a5ea['destroy']();}),this['cache']['clear']();}['clear'](){this['cache']['clear']();}['get'](_0x1f887e){const _0x4deb99=this['cache']['get'](_0x1f887e);return _0x4deb99?(_0x4deb99['incRefCoun'+'t'](),_0x4deb99['object']):null;}['set'](_0x3683c4,_0x3bbc99){w['assert'](!this['cache']['has'](_0x3683c4),'RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'put\x20object'+'\x20with\x20key\x20'+'that\x20alrea'+'dy\x20exists\x20'+'in\x20the\x20cac'+'he',{'key':_0x3683c4,'object':_0x3bbc99}),this['cache']['set'](_0x3683c4,new LT(_0x3bbc99));}['release'](_0x9ab054){var _0x124546;const _0x1fdc70=this['cache']['get'](_0x9ab054);_0x1fdc70?(_0x1fdc70['decRefCoun'+'t'](),_0x1fdc70['refCount']===0x13+-0x2b7+0x2a4&&(this['cache']['delete'](_0x9ab054),(_0x124546=_0x1fdc70['object'])==null||_0x124546['destroy']())):w['warn']('RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'release\x20ob'+'ject\x20that\x20'+'is\x20not\x20in\x20'+'the\x20cache',{'key':_0x9ab054});}}class OT extends RT{['loseContex'+'t'](_0x15d83c){this['clear']();}}const FT=new Kt(),Fd=_0x234c35=>FT['get'](_0x234c35,()=>new OT()),At=[];At[Xs]=0x133d*-0x1+-0x4*-0x93c+-0x11b2,At[ga]=-0x117+0xa4b+-0x499*0x2,At[ds]=-0x24b*0xb+0x2f*0x65+0x23b*0x3,At[Rn]=-0x3*0x23b+-0xf44+0x15f9,At[_a]=0xff+-0x4*-0x305+-0xd12,At[ca]=-0x196a+-0x817+0x2183,At[ha]=-0x2b*0xa6+-0x3bb*-0x1+0x182a,At[da]=-0x2399+0x176c*0x1+0x1*0xc31,At[Tn]=-0x13d7+-0x1b2a+0x2f02,At[tl]=0x68f*0x2+0xdd4+-0x1af0,At[sl]=-0x5ec+0xbe0+0x3*-0x1fb,At[il]=-0x22f7+-0x5*0x60a+0x412d,At[_h]=-0x155*0x13+0xb5*0xb+-0x10*-0x119,At[On]=-0x11*-0xd7+-0x6a*0xb+-0x9ad*0x1,At[li]=0x8*-0xb5+-0x1925+0x1edd,At[Fn]=0x19fc+0x2207+-0x3c02,At[Nn]=-0x23f6+-0x45*-0x76+0x1a*0x29,At[kn]=-0x22f*-0x1+0x6*-0x6f+0x6e,At[Un]=0x6b*0x21+0x1c*-0x101+0x4c7*0x3;class dt{constructor(_0x405afc,_0x4a306b,_0x2c572e=0x259d+-0x20*0x4a+-0x1c5d){h(this,'name'),h(this,'type'),h(this,'byteSize'),h(this,'offset'),h(this,'scopeId'),h(this,'count'),h(this,'numCompone'+'nts');if(this['shortName']=_0x405afc,this['name']=_0x2c572e?_0x405afc+'[0]':_0x405afc,this['type']=_0x4a306b,this['numCompone'+'nts']=At[_0x4a306b],w['assert'](this['numCompone'+'nts'],'Unhandled\x20'+'uniform\x20fo'+'rmat\x20'+_0x4a306b+'\x20used\x20for\x20'+_0x405afc),this['updateType']=_0x4a306b,_0x2c572e>-0x3d*-0x4+-0x1*0x1297+0x11a3)switch(_0x4a306b){case Xs:this['updateType']=ud;break;case _a:this['updateType']=Bn;break;case Fn:this['updateType']=_d;break;case Tn:this['updateType']=gd;break;case ga:this['updateType']=pd;break;case ca:this['updateType']=zn;break;case Nn:this['updateType']=Sd;break;case tl:this['updateType']=yd;break;case ds:this['updateType']=md;break;case ha:this['updateType']=Vn;break;case kn:this['updateType']=vd;break;case sl:this['updateType']=xd;break;case Rn:this['updateType']=Lp;break;case da:this['updateType']=gh;break;case Un:this['updateType']=Rp;break;case il:this['updateType']=Op;break;case li:this['updateType']=wy;break;default:w['error']('Uniform\x20ar'+'ray\x20of\x20typ'+'e\x20'+Ey[_0x4a306b]+('\x20is\x20not\x20su'+'pported\x20wh'+'en\x20process'+'ing\x20unifor'+'m\x20\x27')+_0x405afc+'\x27.'),w['call'](()=>{this['invalid']=!(0x253b+0x1*-0x207d+0x25f*-0x2);});break;}this['count']=_0x2c572e,w['assert'](!isNaN(_0x2c572e),'Unsupporte'+'d\x20uniform:'+'\x20'+_0x405afc+'['+_0x2c572e+']'),w['call'](()=>{isNaN(_0x2c572e)&&(this['invalid']=!(0x17f*0x3+-0x2e0+-0x3b*0x7));});let _0x2810b8=this['numCompone'+'nts'];_0x2c572e&&(_0x2810b8=Y['roundUp'](_0x2810b8,0x989+-0x1a58+-0x10d3*-0x1)),this['byteSize']=_0x2810b8*(0x1a*-0x1+-0x20*-0x88+-0x10e2),_0x2c572e&&(this['byteSize']*=_0x2c572e),w['assert'](this['byteSize'],'Unknown\x20by'+'te\x20size\x20fo'+'r\x20uniform\x20'+'format\x20'+_0x4a306b+'\x20used\x20for\x20'+_0x405afc);}get['isArrayTyp'+'e'](){return this['count']>-0xb*0x2c3+-0x87c+0x26dd;}['calculateO'+'ffset'](_0x547bfa){let _0x33d8a7=this['byteSize']<=0x2477+-0x2b6*-0x7+-0x3769?this['byteSize']:-0x1*-0x619+-0x3e*-0x6d+-0x17*0x169;this['count']&&(_0x33d8a7=0x30b*0x2+-0x2438+0x1e32),_0x547bfa=Y['roundUp'](_0x547bfa,_0x33d8a7),this['offset']=_0x547bfa/(0x914+-0x2348+0xd1c*0x2);}}class zy{constructor(_0x12c21a,_0x15c4f0){h(this,'byteSize',-0x15e3*0x1+0xf72+-0x671*-0x1),h(this,'map',new Map()),(this['scope']=_0x12c21a['scope'],this['uniforms']=_0x15c4f0);let _0x3d55b6=-0x268f*-0x1+-0x25b+-0x2434;for(let _0x27bed3=-0x6f1*0x4+0x233c+0x3bc*-0x2;_0x27bed3<_0x15c4f0['length'];_0x27bed3++){const _0x346332=_0x15c4f0[_0x27bed3];_0x346332['calculateO'+'ffset'](_0x3d55b6),_0x3d55b6=_0x346332['offset']*(0x64a+-0x11*0xc1+-0x68b*-0x1)+_0x346332['byteSize'],_0x346332['scopeId']=this['scope']['resolve'](_0x346332['name']),this['map']['set'](_0x346332['name'],_0x346332);}this['byteSize']=Y['roundUp'](_0x3d55b6,0xedb+-0x2*-0xa75+-0x23b5*0x1);}['get'](_0x5197d8){return this['map']['get'](_0x5197d8);}}const Lr='Preprocess'+'or',Fs=/[ \t]*#(ifn?def|if|endif|else|elif|define|undef|extension|include)/g,Nd=/define[ \t]+([^\n]+)\r?(?:\n|$)/g,i_=/extension[ \t]+([\w-]+)[ \t]*:[ \t]*(enable|require)/g,kd=/undef[ \t]+([^\n]+)\r?(?:\n|$)/g,Ud=/(ifdef|ifndef|if)[ \t]*([^\r\n]+)\r?\n/g,Bd=/(endif|else|elif)(?:[ \t]+([^\r\n]*))?\r?\n?/g,r_=/\{?[\w-]+\}?/,NT=/(!|\s)?defined\(([\w-]+)\)/,kT=/!?defined\s*\([^)]*\)/g,UT=/!?defined\s*$/,BT=/([a-z_]\w*)\s*(==|!=|<|<=|>|>=)\s*([\w"']+)/i,zT=/[+\-]/g,zd=/include[ \t]+"([\w-]+)(?:\s*,\s*([\w-]+))?"/g,VT=/\{i\}/g,a_=/(pcFragColor[1-8])\b/g,Lt=class Lt{static['run'](_0x49e0fe,_0x3ea2eb=new Map(),_0x5bacc3={}){Lt['sourceName']=_0x5bacc3['sourceName'],_0x49e0fe=this['stripComme'+'nts'](_0x49e0fe),_0x49e0fe=_0x49e0fe['split'](/\r?\n/)['map'](_0x18bfb0=>_0x18bfb0['trimEnd']())['join']('\x0a');const _0x5f41e8=new Map(),_0x4ed84c=new Map();if(_0x49e0fe=this['_preproces'+'s'](_0x49e0fe,_0x5f41e8,_0x4ed84c,_0x3ea2eb,_0x5bacc3['stripDefin'+'es']),_0x49e0fe===null)return null;const _0x34a058=new Map();return _0x5f41e8['forEach']((_0x3c82b4,_0x1eff69)=>{Number['isInteger'](parseFloat(_0x3c82b4))&&!_0x3c82b4['includes']('.')&&_0x34a058['set'](_0x1eff69,_0x3c82b4);}),_0x49e0fe=this['stripComme'+'nts'](_0x49e0fe),_0x49e0fe=this['stripUnuse'+'dColorAtta'+'chments'](_0x49e0fe,_0x5bacc3),_0x49e0fe=this['RemoveEmpt'+'yLines'](_0x49e0fe),_0x49e0fe=this['processArr'+'aySize'](_0x49e0fe,_0x34a058),_0x49e0fe=this['injectDefi'+'nes'](_0x49e0fe,_0x4ed84c),_0x49e0fe;}static['stripUnuse'+'dColorAtta'+'chments'](_0x12bd6c,_0x389a59){if(_0x389a59['stripUnuse'+'dColorAtta'+'chments']){const _0x273998=new Map(),_0x54ca63=_0x12bd6c['match'](a_);if(_0x54ca63==null||_0x54ca63['forEach'](_0x529599=>{const _0x4b3002=parseInt(_0x529599['charAt'](_0x529599['length']-(0x2114+0x55f*-0x5+-0x638)),-0xc0b+0x1*-0x20c3+0x2cd8);_0x273998['set'](_0x4b3002,(_0x273998['get'](_0x4b3002)??0x1102+0xac*-0x25+0x7da)+(0x4e8+0x53b*0x7+0xa61*-0x4));}),Array['from'](_0x273998['values']())['some'](_0x2ca2c=>_0x2ca2c===0x2*-0x537+0x246c+-0x19fd*0x1)){const _0x2b6890=_0x12bd6c['split']('\x0a'),_0x66d789=[];for(let _0x37bb73=-0x150b*-0x1+0x1e96+0x1*-0x33a1;_0x37bb73<_0x2b6890['length'];_0x37bb73++){const _0x2e31c7=_0x2b6890[_0x37bb73]['match'](a_);if(_0x2e31c7){const _0x5253a7=parseInt(_0x2e31c7[0x1*-0x35b+-0xbf8+0xf53]['charAt'](_0x2e31c7[-0x1747+0x1017+-0x2*-0x398]['length']-(-0x12a7+-0x246e*-0x1+-0x11c6)),-0x54*0x74+-0x20fa+0x4714);if(_0x5253a7>-0x5fb*0x1+0x2b*-0xd3+0x296c&&_0x273998['get'](_0x5253a7)===0xa*-0x131+0x230c+-0x1*0x1721)continue;}_0x66d789['push'](_0x2b6890[_0x37bb73]);}_0x12bd6c=_0x66d789['join']('\x0a');}}return _0x12bd6c;}static['stripComme'+'nts'](_0x520b51){return _0x520b51['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1');}static['processArr'+'aySize'](_0x433550,_0x294bc6){return _0x433550!==null&&_0x294bc6['forEach']((_0x3bb313,_0x35557d)=>{_0x433550=_0x433550['replace'](new RegExp('\x5c['+_0x35557d+'\x5c]','g'),'['+_0x3bb313+']');}),_0x433550;}static['injectDefi'+'nes'](_0x4da1d1,_0x2a5ddc){if(_0x4da1d1!==null&&_0x2a5ddc['size']>-0x2dd*0xd+0x1*0x1391+0x5*0x388){const _0x16fd1c=_0x4da1d1['split']('\x0a');_0x2a5ddc['forEach']((_0xd5a8c0,_0x1292df)=>{const _0x29f7ca=new RegExp(_0x1292df,'g');for(let _0x36916e=-0x1960+0x876+0x10ea;_0x36916e<_0x16fd1c['length'];_0x36916e++)_0x16fd1c[_0x36916e]['includes']('#')||(_0x16fd1c[_0x36916e]=_0x16fd1c[_0x36916e]['replace'](_0x29f7ca,_0xd5a8c0));}),_0x4da1d1=_0x16fd1c['join']('\x0a');}return _0x4da1d1;}static['RemoveEmpt'+'yLines'](_0xedaa04){return _0xedaa04!==null&&(_0xedaa04=_0xedaa04['split'](/\r?\n/)['map'](_0x54a777=>_0x54a777['trim']()===''?'':_0x54a777)['join']('\x0a'),_0xedaa04=_0xedaa04['replace'](/(\n\n){3,}/g,'\x0a\x0a')),_0xedaa04;}static['_preproces'+'s'](_0x56505a,_0x3c2efb=new Map(),_0x2312b8,_0x49fd08,_0x21cbc9){var _0x455aaf;const _0x5a0292=_0x56505a,_0x4ac1ca=[];let _0x1ce4a9=!(0xe9a+-0x31*0x69+0x2c*0x20),_0x2897ff;for(;(_0x2897ff=Fs['exec'](_0x56505a))!==null&&!_0x1ce4a9;){const _0x5304b8=_0x2897ff[0x1ed3+-0x1d7d*-0x1+0x1*-0x3c4f];switch(_0x5304b8){case'define':{Nd['lastIndex']=_0x2897ff['index'];const _0x2b015a=Nd['exec'](_0x56505a);w['assert'](_0x2b015a,'Invalid\x20['+_0x5304b8+']:\x20'+_0x56505a['substring'](_0x2897ff['index'],_0x2897ff['index']+(-0x2*-0x251+0xd*-0x163+0xdc9*0x1))+'...'),_0x1ce4a9||(_0x1ce4a9=_0x2b015a===null);const _0x23093e=_0x2b015a[0x11*0x191+0xce3+-0x2783];r_['lastIndex']=_0x2b015a['index'];const _0x131643=r_['exec'](_0x23093e)[0x33*-0x92+0x18c9+0x44d];let _0x5482c5=_0x23093e['substring'](_0x131643['length'])['trim']();_0x5482c5===''&&(_0x5482c5='true');const _0x3c525a=Lt['_keep'](_0x4ac1ca);let _0x55ba6f=_0x21cbc9;if(_0x3c525a){const _0x1b834c=_0x131643['startsWith']('{')&&_0x131643['endsWith']('}');_0x1b834c&&(_0x55ba6f=!(0x3a*-0x27+0x6b*-0x1e+0x1560)),_0x1b834c?_0x2312b8['set'](_0x131643,_0x5482c5):_0x3c2efb['set'](_0x131643,_0x5482c5),_0x55ba6f&&(_0x56505a=_0x56505a['substring'](-0x1014+0x228a+-0x1276,_0x2b015a['index']-(0x1*0x1872+0x1*0x8e9+-0x215a*0x1))+_0x56505a['substring'](Nd['lastIndex']),Fs['lastIndex']=_0x2b015a['index']-(0x15a2+-0x2*0x14d+-0x1307));}w['trace'](Lr,_0x5304b8+':\x20['+_0x131643+']\x20'+_0x5482c5+'\x20'+(_0x3c525a?'':'IGNORED')),_0x55ba6f||(Fs['lastIndex']=_0x2b015a['index']+_0x2b015a[0x15af+-0x1516+-0x99]['length']);break;}case'undef':{kd['lastIndex']=_0x2897ff['index'];const _0x2cf467=kd['exec'](_0x56505a),_0x4a6c65=_0x2cf467[-0x2629*-0x1+0x11bd+0x29*-0x15d]['trim'](),_0x26bc11=Lt['_keep'](_0x4ac1ca);_0x26bc11&&(_0x3c2efb['delete'](_0x4a6c65),_0x21cbc9&&(_0x56505a=_0x56505a['substring'](0x4*0x4de+-0xc8a+-0x6ee,_0x2cf467['index']-(0x1f9f+-0x6fa+0x629*-0x4))+_0x56505a['substring'](kd['lastIndex']),Fs['lastIndex']=_0x2cf467['index']-(0xad0+0x18c5+-0x2394))),w['trace'](Lr,_0x5304b8+':\x20['+_0x4a6c65+']\x20'+(_0x26bc11?'':'IGNORED')),_0x21cbc9||(Fs['lastIndex']=_0x2cf467['index']+_0x2cf467[-0x12fc+0x1500+-0x204]['length']);break;}case'extension':{i_['lastIndex']=_0x2897ff['index'];const _0x49b174=i_['exec'](_0x56505a);if(w['assert'](_0x49b174,'Invalid\x20['+_0x5304b8+']:\x20'+_0x56505a['substring'](_0x2897ff['index'],_0x2897ff['index']+(0x1568+-0x1*0x1e04+-0x300*-0x3))+'...'),_0x1ce4a9||(_0x1ce4a9=_0x49b174===null),_0x49b174){const _0x565f94=_0x49b174[0x335*0x7+0x249c+-0x3b0e],_0x2cd7c3=Lt['_keep'](_0x4ac1ca);_0x2cd7c3&&_0x3c2efb['set'](_0x565f94,'true'),w['trace'](Lr,_0x5304b8+':\x20['+_0x565f94+']\x20'+(_0x2cd7c3?'':'IGNORED'));}Fs['lastIndex']=_0x49b174['index']+_0x49b174[-0x1991+-0x691*0x4+0x3*0x1147]['length'];break;}case'ifdef':case'ifndef':case'if':{Ud['lastIndex']=_0x2897ff['index'];const _0x40d949=Ud['exec'](_0x56505a),_0x1a0b55=_0x40d949[-0x186+-0x1984+0x1b0c],_0x56a8bc=Lt['evaluate'](_0x1a0b55,_0x3c2efb);_0x1ce4a9||(_0x1ce4a9=_0x56a8bc['error']);let _0xf1d765=_0x56a8bc['result'];_0x5304b8==='ifndef'&&(_0xf1d765=!_0xf1d765),_0x4ac1ca['push']({'anyKeep':_0xf1d765,'keep':_0xf1d765,'start':_0x2897ff['index'],'end':Ud['lastIndex']}),w['trace'](Lr,_0x5304b8+':\x20['+_0x1a0b55+']\x20=>\x20'+_0xf1d765),Fs['lastIndex']=_0x40d949['index']+_0x40d949[-0x30*-0xce+0x1b31+-0x41d1]['length'];break;}case'endif':case'else':case'elif':{Bd['lastIndex']=_0x2897ff['index'];const _0x39f750=Bd['exec'](_0x56505a),_0x4e9c60=_0x4ac1ca['pop']();if(!_0x4e9c60){console['error']('Shader\x20pre'+'processing'+'\x20encounter'+'ed\x20\x22#'+_0x39f750[-0x1*0x96b+0x1*0xd08+-0x39c]+('\x22\x20without\x20'+'a\x20precedin'+'g\x20#if\x20#ifd'+'ef\x20#ifndef'+'\x20while\x20pre'+'processing'+'\x20')+Lt['sourceName']+('\x20on\x20line:\x0a'+'\x20')+_0x56505a['substring'](_0x2897ff['index'],_0x2897ff['index']+(-0x2*0xc8e+-0x1746+0x30c6))+'...',{'source':_0x5a0292}),_0x1ce4a9=!(-0x1b*0x47+0x1b04+0x1*-0x1387);continue;}const _0x44f70b=_0x4e9c60['keep']?_0x56505a['substring'](_0x4e9c60['end'],_0x2897ff['index']):'';w['trace'](Lr,_0x5304b8+(':\x20[previou'+'s\x20block]\x20='+'>\x20')+(_0x44f70b!=='')),_0x56505a=_0x56505a['substring'](-0x17fe+0x18ef*-0x1+-0xf*-0x343,_0x4e9c60['start'])+_0x44f70b+_0x56505a['substring'](Bd['lastIndex']),Fs['lastIndex']=_0x4e9c60['start']+_0x44f70b['length'];const _0x320163=_0x39f750[0x152b+-0x1*-0xb93+0x20bd*-0x1];if(_0x320163==='else'||_0x320163==='elif'){let _0x40434d=!(0x1b47+-0x236d+-0x1*-0x827);if(!_0x4e9c60['anyKeep']){if(_0x320163==='else')_0x40434d=!_0x4e9c60['keep'];else{const _0x217d83=Lt['evaluate'](_0x39f750[-0x15*-0x142+0x1843+-0x32ab],_0x3c2efb);_0x40434d=_0x217d83['result'],_0x1ce4a9||(_0x1ce4a9=_0x217d83['error']);}}_0x4ac1ca['push']({'anyKeep':_0x4e9c60['anyKeep']||_0x40434d,'keep':_0x40434d,'start':Fs['lastIndex'],'end':Fs['lastIndex']}),w['trace'](Lr,_0x5304b8+':\x20['+_0x39f750[-0x2*-0x944+-0x7f*0x12+0x998*-0x1]+']\x20=>\x20'+_0x40434d);}break;}case'include':{zd['lastIndex']=_0x2897ff['index'];const _0x5954c0=zd['exec'](_0x56505a);if(_0x1ce4a9||(_0x1ce4a9=_0x5954c0===null),!_0x5954c0){w['assert'](_0x5954c0,'Invalid\x20['+_0x5304b8+(']\x20while\x20pr'+'eprocessin'+'g\x20')+Lt['sourceName']+':\x0a'+_0x56505a['substring'](_0x2897ff['index'],_0x2897ff['index']+(-0x1*-0x694+0x233b+-0x296b))+'...'),_0x1ce4a9=!(-0x4ac*0x1+0x2011+-0x1b65*0x1);continue;}const _0xc80ac=_0x5954c0[0xb2*-0x2c+-0x2c6*-0x6+0xdf5]['trim'](),_0x3e868b=(_0x455aaf=_0x5954c0[0x11*-0x58+0xb6a+-0x590])==null?void(-0x2541+-0xf2b+0x37*0xf4):_0x455aaf['trim'](),_0x54be64=Lt['_keep'](_0x4ac1ca);if(_0x54be64){let _0x2fef03=_0x49fd08==null?void(-0x26b6+-0x1f53+0x4609):_0x49fd08['get'](_0xc80ac);if(_0x2fef03!==void(-0x17c8+-0x228b+-0x4f*-0xbd)){if(_0x2fef03=this['stripComme'+'nts'](_0x2fef03),_0x3e868b){const _0x4711c2=_0x3c2efb['get'](_0x3e868b),_0x200d00=parseFloat(_0x4711c2);if(Number['isInteger'](_0x200d00)){let _0x1e2db6='';for(let _0x184e8e=0xd9a+0x180d+0x1cb*-0x15;_0x184e8e<_0x200d00;_0x184e8e++)_0x1e2db6+=_0x2fef03['replace'](VT,String(_0x184e8e));_0x2fef03=_0x1e2db6;}else console['error']('Include\x20Co'+'unt\x20identi'+'fier\x20\x22'+_0x3e868b+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+Lt['sourceName']+('\x20on\x20line:\x0a'+'\x20')+_0x56505a['substring'](_0x2897ff['index'],_0x2897ff['index']+(0x2226*0x1+0xee*0x1a+-0x5cb*0xa))+'...',{'originalSource':_0x5a0292,'source':_0x56505a}),_0x1ce4a9=!(-0x1a43+0x1*-0x581+0x1fc4);}_0x56505a=_0x56505a['substring'](0xe63*-0x1+-0x5*0x119+0x13e0,_0x5954c0['index']-(0xad5+-0x1f4f+0x147b))+_0x2fef03+_0x56505a['substring'](zd['lastIndex']),Fs['lastIndex']=_0x5954c0['index']-(0x230f*-0x1+-0xc45*-0x1+0x16cb);}else{console['error']('Include\x20\x22'+_0xc80ac+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+Lt['sourceName'],{'originalSource':_0x5a0292,'source':_0x56505a}),_0x1ce4a9=!(0x2b*0xdc+0x1cba*-0x1+-0x83a*0x1);continue;}}w['trace'](Lr,_0x5304b8+':\x20['+_0xc80ac+']\x20'+(_0x54be64?'':'IGNORED'));break;}}}return _0x4ac1ca['length']>-0x257*0x2+0x9*-0xbd+0xb53&&(console['error']('Shader\x20pre'+'processing'+'\x20reached\x20t'+'he\x20end\x20of\x20'+'the\x20file\x20w'+'ithout\x20enc'+'ountering\x20'+'the\x20necess'+'ary\x20#endif'+'\x20to\x20close\x20'+'a\x20precedin'+'g\x20#if,\x20#if'+'def,\x20or\x20#i'+'fndef\x20bloc'+'k.\x20'+Lt['sourceName']),_0x1ce4a9=!(-0x1b50+0xafb+0x25*0x71)),_0x1ce4a9?(console['error']('Failed\x20to\x20'+'preprocess'+'\x20shader:\x20',{'source':_0x5a0292}),null):_0x56505a;}static['_keep'](_0x4b3446){for(let _0x146593=-0x1270*0x2+0x1*-0x1f57+0x4437;_0x146593<_0x4b3446['length'];_0x146593++)if(!_0x4b3446[_0x146593]['keep'])return!(-0x11fc+-0x1*-0x484+0xd79*0x1);return!(-0x1*0x1e32+-0x234+0x1*0x2066);}static['evaluateAt'+'omicExpres'+'sion'](_0x2fa9cd,_0x38f4bc){let _0x41e235=!(-0x1df9+0x2b*0x35+0x5*0x437);_0x2fa9cd=_0x2fa9cd['trim']();let _0xd52f28=!(0x10d6+0xc58+-0x1d2d);if(_0x2fa9cd==='true')return{'result':!(0x6ec+-0x25c1+0x1ed5),'error':_0x41e235};if(_0x2fa9cd==='false')return{'result':!(-0x79f+0xbce*-0x1+-0x3*-0x67a),'error':_0x41e235};const _0xad5c3=NT['exec'](_0x2fa9cd);if(_0xad5c3){_0xd52f28=_0xad5c3[-0x2268+-0x1f6b+0x41d4]==='!',_0x2fa9cd=_0xad5c3[0x3b*-0x41+0x1754+-0x857]['trim']();const _0x5af52f=_0x38f4bc['has'](_0x2fa9cd);return{'result':_0xd52f28?!_0x5af52f:_0x5af52f,'error':_0x41e235};}const _0x1405a9=BT['exec'](_0x2fa9cd);if(_0x1405a9){const _0x252f82=_0x38f4bc['get'](_0x1405a9[0x148+-0x23e+-0xd*-0x13]['trim']())??_0x1405a9[0x13c2+-0x14*-0x1e5+-0x39a5]['trim'](),_0x3f1e13=_0x38f4bc['get'](_0x1405a9[-0x15e3+-0x1c14+0x1*0x31fa]['trim']())??_0x1405a9[0x187a+0x1af9*0x1+-0x3370]['trim'](),_0x1a1d8b=_0x1405a9[-0x203c*0x1+0x2059+-0x1b]['trim']();let _0x20385c=!(-0x1447+0xc57+0x7f1);switch(_0x1a1d8b){case'==':_0x20385c=_0x252f82===_0x3f1e13;break;case'!=':_0x20385c=_0x252f82!==_0x3f1e13;break;case'<':_0x20385c=_0x252f82<_0x3f1e13;break;case'<=':_0x20385c=_0x252f82<=_0x3f1e13;break;case'>':_0x20385c=_0x252f82>_0x3f1e13;break;case'>=':_0x20385c=_0x252f82>=_0x3f1e13;break;default:_0x41e235=!(-0x1dc+0x2ce*0xb+0x3*-0x9aa);}return{'result':_0x20385c,'error':_0x41e235};}return{'result':_0x38f4bc['has'](_0x2fa9cd),'error':_0x41e235};}static['processPar'+'entheses'](_0x1f9c99,_0x48bbf4){let _0x281022=!(-0x22ba+-0x1fa8+0xb*0x609),_0xb8891d=_0x1f9c99['trim']();for(;_0xb8891d['startsWith']('(')&&_0xb8891d['endsWith'](')');){let _0x5c83ce=-0x2*-0x3bc+0x7f1*0x2+-0x31*0x7a,_0x379f82=!(0x119*-0xb+-0xe9*0x11+0x1b8c);for(let _0x5822d8=0xe10+-0xb1e+-0x2f2;_0x5822d8<_0xb8891d['length']-(0xe40+-0x17fd*0x1+0x1*0x9be);_0x5822d8++)if(_0xb8891d[_0x5822d8]==='(')_0x5c83ce++;else{if(_0xb8891d[_0x5822d8]===')'&&(_0x5c83ce--,_0x5c83ce===-0x204d*-0x1+-0x1a*-0xa+-0x2151)){_0x379f82=!(-0x23*0x5b+0x1841*0x1+-0xbcf);break;}}if(_0x379f82)_0xb8891d=_0xb8891d['slice'](0x5*0x335+-0x194*-0xd+-0x248c,-(-0xfe5*-0x1+0x1d6e+0x2*-0x16a9))['trim']();else break;}for(;;){let _0x2d5199=!(-0x1d79+-0x2017+-0x1*-0x3d91),_0x56154b=0x29f*-0x2+0x647*0x6+-0x33e*0xa,_0x42e233=0x2ef+0x511+0x200*-0x4,_0x16d584=-(-0x16be+-0x5*-0x37c+0x553),_0x3c9c36=-(0x10*0xe7+0x745*0x1+-0x15b4),_0x5d30af=-0x8*-0x1+0x1c57+0x1c5f*-0x1;for(let _0x918215=0x24f7+-0x3*-0xb3+-0x2710;_0x918215<_0xb8891d['length'];_0x918215++)if(_0xb8891d[_0x918215]==='('){const _0x49d52f=_0xb8891d['substring'](-0x12*-0x61+0x1ef*0x9+-0x3*0x813,_0x918215);UT['test'](_0x49d52f)?_0x5d30af++:_0x5d30af===-0x4*0xca+0x10f*-0x7+0xa91&&(_0x56154b++,_0x56154b>_0x42e233&&(_0x42e233=_0x56154b,_0x16d584=_0x918215),_0x2d5199=!(-0x272*0x2+0x89e*-0x3+0x1ebe));}else _0xb8891d[_0x918215]===')'&&(_0x5d30af>0x3*0x3f8+0x105*0x1d+-0xdd3*0x3?_0x5d30af--:_0x56154b>0x5*0x3ad+0x16c6+0x12d*-0x23&&(_0x56154b===_0x42e233&&_0x16d584!==-(0x74*0x2d+0x4a*-0x1+-0x1419)&&(_0x3c9c36=_0x918215),_0x56154b--));if(!_0x2d5199||_0x16d584===-(-0x1cbd+0x1a4f+0x7*0x59)||_0x3c9c36===-(0x430+-0x121c+0x1f*0x73))break;const _0x39d2c8=_0xb8891d['substring'](_0x16d584+(-0x1*-0xc91+-0x178e+0xafe),_0x3c9c36),{result:_0x287186,error:_0x3d3ec8}=Lt['evaluate'](_0x39d2c8,_0x48bbf4);_0x281022=_0x281022||_0x3d3ec8,_0xb8891d=_0xb8891d['substring'](0x1d24+0xb8d+0x3b3*-0xb,_0x16d584)+(_0x287186?'true':'false')+_0xb8891d['substring'](_0x3c9c36+(0x1f29+-0x61*-0x13+-0x1*0x265b));}return{'expression':_0xb8891d,'error':_0x281022};}static['evaluate'](_0x33ef75,_0x26d9b9){const _0x42a45f=zT['exec'](_0x33ef75)===null;w['assert'](_0x42a45f,'Resolving\x20'+'expression'+'\x20like\x20this'+'\x20is\x20not\x20su'+'pported:\x20'+_0x33ef75);let _0x307a38=_0x33ef75,_0x365b88=!(0x1*0x2099+0xe3*-0x12+-0x10a2);if(_0x33ef75['replace'](kT,'')['indexOf']('(')!==-(0x1e1a*0x1+-0xf6b+-0xeae)){const _0x45a678=Lt['processPar'+'entheses'](_0x33ef75,_0x26d9b9);_0x307a38=_0x45a678['expression'],_0x365b88=_0x45a678['error'];}if(_0x365b88)return w['log']('Parenthesi'+'s\x20parsing\x20'+'error\x20in\x20e'+'xpression:'+'\x20\x22'+_0x33ef75+'\x22'),{'result':!(0x1*0x1871+-0x97*-0x25+-0x2e43),'error':!(0x1558+0x1531+-0x2a89*0x1)};const _0x44df53=_0x307a38['split']('||');for(const _0x4166de of _0x44df53){const _0x4d4402=_0x4166de['split']('&&');let _0x3bb936=!(-0xd30+-0x6f*-0x2e+-0x6c2);for(const _0x2eedcc of _0x4d4402){const {result:_0x18b208,error:_0x76db84}=Lt['evaluateAt'+'omicExpres'+'sion'](_0x2eedcc['trim'](),_0x26d9b9);if(!_0x18b208||_0x76db84){_0x3bb936=!(0x3*0x104+0x1945*0x1+0x1c50*-0x1);break;}}if(_0x3bb936)return{'result':!(-0x19a5+0x8ef*0x4+-0x35d*0x3),'error':!_0x42a45f};}return{'result':!(-0x22f*0x1+-0x2159+0x2389),'error':!_0x42a45f};}};h(Lt,'sourceName');let ko=Lt;const Vy='\x0a\x0a#ifndef\x20'+'outType_0\x0a'+'#define\x20ou'+'tType_0\x20ve'+'c4\x0a#endif\x0a'+'\x0alayout(lo'+'cation\x20=\x200'+')\x20out\x20high'+'p\x20outType_'+'0\x20pcFragCo'+'lor0;\x0a\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_1\x0a'+'layout(loc'+'ation\x20=\x201)'+'\x20out\x20highp'+'\x20outType_1'+'\x20pcFragCol'+'or1;\x0a#endi'+'f\x0a\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_2\x0alayo'+'ut(locatio'+'n\x20=\x202)\x20out'+'\x20highp\x20out'+'Type_2\x20pcF'+'ragColor2;'+'\x0a#endif\x0a\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'3\x0alayout(l'+'ocation\x20=\x20'+'3)\x20out\x20hig'+'hp\x20outType'+'_3\x20pcFragC'+'olor3;\x0a#en'+'dif\x0a\x0a#if\x20C'+'OLOR_ATTAC'+'HMENT_4\x0ala'+'yout(locat'+'ion\x20=\x204)\x20o'+'ut\x20highp\x20o'+'utType_4\x20p'+'cFragColor'+'4;\x0a#endif\x0a'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_5\x0alayout'+'(location\x20'+'=\x205)\x20out\x20h'+'ighp\x20outTy'+'pe_5\x20pcFra'+'gColor5;\x0a#'+'endif\x0a\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_6\x0a'+'layout(loc'+'ation\x20=\x206)'+'\x20out\x20highp'+'\x20outType_6'+'\x20pcFragCol'+'or6;\x0a#endi'+'f\x0a\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_7\x0alayo'+'ut(locatio'+'n\x20=\x207)\x20out'+'\x20highp\x20out'+'Type_7\x20pcF'+'ragColor7;'+'\x0a#endif\x0a\x0a#'+'define\x20gl_'+'FragColor\x20'+'pcFragColo'+'r0\x0a\x0a#defin'+'e\x20varying\x20'+'in\x0a\x0a#defin'+'e\x20texture2'+'D\x20texture\x0a'+'#define\x20te'+'xture2DBia'+'s\x20texture\x0a'+'#define\x20te'+'xtureCube\x20'+'texture\x0a#d'+'efine\x20text'+'ure2DProj\x20'+'texturePro'+'j\x0a#define\x20'+'texture2DL'+'od\x20texture'+'Lod\x0a#defin'+'e\x20texture2'+'DProjLod\x20t'+'extureProj'+'Lod\x0a#defin'+'e\x20textureC'+'ubeLod\x20tex'+'tureLod\x0a#d'+'efine\x20text'+('ure2DGrad\x20'+'textureGra'+'d\x0a#define\x20'+'texture2DP'+'rojGrad\x20te'+'xtureProjG'+'rad\x0a#defin'+'e\x20textureC'+'ubeGrad\x20te'+'xtureGrad\x0a'+'#define\x20ut'+'exture2D\x20t'+'exture\x0a#de'+'fine\x20itext'+'ure2D\x20text'+'ure\x0a\x0a//\x20de'+'precated\x20d'+'efines\x0a#de'+'fine\x20textu'+'re2DLodEXT'+'\x20texture2D'+'LodEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DLod_ins'+'tead\x0a#defi'+'ne\x20texture'+'2DProjLodE'+'XT\x20texture'+'2DProjLodE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'texture2DP'+'rojLod\x0a#de'+'fine\x20textu'+'reCubeLodE'+'XT\x20texture'+'CubeLodEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xtureCubeL'+'od_instead'+'\x0a#define\x20t'+'exture2DGr'+'adEXT\x20text'+'ure2DGradE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'texture2DG'+'rad_instea'+'d\x0a#define\x20'+'texture2DP'+'rojGradEXT'+'\x20texture2D'+'ProjGradEX'+'T_is_no_lo'+'nger_suppo'+'rted_use_t'+'exture2DPr'+'ojGrad_ins'+'tead\x0a#defi'+'ne\x20texture'+'CubeGradEX'+'T\x20textureC'+'ubeGradEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xtureCubeG'+'rad_instea'+'d\x0a\x0a//\x20samp'+'le\x20shadows'+'\x20using\x20tex'+'tureGrad\x20t'+'o\x20remove\x20d'+'erivatives'+'\x20in\x20the\x20dy'+'namic\x20loop'+'s\x20(which\x20a'+'re\x20used\x20by'+'\x0a//\x20cluste'+'red\x20lighti'+'ng)\x20-\x20as\x20D'+'irectX\x20sha'+'der\x20compil'+'er\x20tries\x20t'+'o\x20unroll\x20t'+'he\x20loops\x20a'+'nd\x20takes\x20l'+'ong\x20time\x0a/'+'/\x20to\x20compi'+'le\x20the\x20sha'+'der.\x20Using'+'\x20textureLo'+'d\x20would\x20be'+'\x20even\x20bett')+('er,\x20but\x20We'+'bGl\x20does\x20n'+'ot\x20transla'+'te\x20it\x20to\x0a/'+'/\x20lod\x20inst'+'ruction\x20fo'+'r\x20DirectX\x20'+'correctly\x20'+'and\x20uses\x20S'+'ampleCmp\x20i'+'nstead\x20of\x20'+'SampleCmpL'+'evelZero\x20o'+'r\x20similar.'+'\x0a#define\x20t'+'extureShad'+'ow(res,\x20uv'+')\x20textureG'+'rad(res,\x20u'+'v,\x20vec2(1,'+'\x201),\x20vec2('+'1,\x201))\x0a\x0a//'+'\x20pass\x20/\x20ac'+'cept\x20shado'+'w\x20map\x20or\x20t'+'exture\x20as\x20'+'a\x20function'+'\x20parameter'+',\x20on\x20webgl'+'\x20this\x20is\x20s'+'imply\x20pass'+'ed\x20as\x20is\x0a/'+'/\x20but\x20this'+'\x20is\x20needed'+'\x20for\x20WebGP'+'U\x0a#define\x20'+'SHADOWMAP_'+'PASS(name)'+'\x20name\x0a#def'+'ine\x20SHADOW'+'MAP_ACCEPT'+'(name)\x20sam'+'pler2DShad'+'ow\x20name\x0a#d'+'efine\x20TEXT'+'URE_PASS(n'+'ame)\x20name\x0a'+'#define\x20TE'+'XTURE_ACCE'+'PT(name)\x20s'+'ampler2D\x20n'+'ame\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT_HIG'+'HP(name)\x20h'+'ighp\x20sampl'+'er2D\x20name\x0a'+'\x0a#define\x20G'+'L2\x0a'),Gy='\x0a#define\x20a'+'ttribute\x20i'+'n\x0a#define\x20'+'varying\x20ou'+'t\x0a#define\x20'+'texture2D\x20'+'texture\x0a#d'+'efine\x20utex'+'ture2D\x20tex'+'ture\x0a#defi'+'ne\x20itextur'+'e2D\x20textur'+'e\x0a#define\x20'+'GL2\x0a#defin'+'e\x20VERTEXSH'+'ADER\x0a\x0a#def'+'ine\x20TEXTUR'+'E_PASS(nam'+'e)\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'(name)\x20sam'+'pler2D\x20nam'+'e\x0a#define\x20'+'TEXTURE_AC'+'CEPT_HIGHP'+'(name)\x20hig'+'hp\x20sampler'+'2D\x20name\x0a',Hy='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#ifnde'+'f\x20outType_'+'0\x0a#define\x20'+'outType_0\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_1\x0a'+'#define\x20ou'+'tType_1\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_2\x0a#d'+'efine\x20outT'+'ype_2\x20vec4'+'\x0a#endif\x0a#i'+'fndef\x20outT'+'ype_3\x0a#def'+'ine\x20outTyp'+'e_3\x20vec4\x0a#'+'endif\x0a#ifn'+'def\x20outTyp'+'e_4\x0a#defin'+'e\x20outType_'+'4\x20vec4\x0a#en'+'dif\x0a#ifnde'+'f\x20outType_'+'5\x0a#define\x20'+'outType_5\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_6\x0a'+'#define\x20ou'+'tType_6\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_7\x0a#d'+'efine\x20outT'+'ype_7\x20vec4'+'\x0a#endif\x0a\x0al'+'ayout(loca'+'tion\x20=\x200)\x20'+'out\x20highp\x20'+'outType_0\x20'+'pcFragColo'+'r0;\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pcFra'+'gColor1;\x0al'+'ayout(loca'+'tion\x20=\x202)\x20'+'out\x20highp\x20'+'outType_2\x20'+'pcFragColo'+'r2;\x0alayout'+'(location\x20'+'=\x203)\x20out\x20h'+'ighp\x20outTy'+'pe_3\x20pcFra'+'gColor3;\x0al'+'ayout(loca'+'tion\x20=\x204)\x20'+'out\x20highp\x20'+'outType_4\x20'+'pcFragColo'+'r4;\x0alayout'+'(location\x20'+'=\x205)\x20out\x20h'+'ighp\x20outTy'+'pe_5\x20pcFra'+'gColor5;\x0al'+'ayout(loca'+'tion\x20=\x206)\x20'+'out\x20highp\x20'+'outType_6\x20'+'pcFragColo'+'r6;\x0alayout'+'(location\x20'+'=\x207)\x20out\x20h'+'ighp\x20outTy'+'pe_7\x20pcFra'+'gColor7;\x0a\x0a'+'#define\x20gl'+'_FragColor'+'\x20pcFragCol'+'or0\x0a\x0a#defi'+'ne\x20texture'+'2D(res,\x20uv'+')\x20texture('+'sampler2D('+('res,\x20res\x20#'+'#\x20_sampler'+'),\x20uv)\x0a#de'+'fine\x20textu'+'re2DBias(r'+'es,\x20uv,\x20bi'+'as)\x20textur'+'e(sampler2'+'D(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv,\x20b'+'ias)\x0a#defi'+'ne\x20texture'+'2DLod(res,'+'\x20uv,\x20lod)\x20'+'textureLod'+'(sampler2D'+'(res,\x20res\x20'+'##\x20_sample'+'r),\x20uv,\x20lo'+'d)\x0a#define'+'\x20textureCu'+'be(res,\x20uv'+')\x20texture('+'samplerCub'+'e(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv)\x0a#'+'define\x20tex'+'tureCubeLo'+'d(res,\x20uv,'+'\x20lod)\x20text'+'ureLod(sam'+'plerCube(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x20lod)'+'\x0a#define\x20t'+'extureShad'+'ow(res,\x20uv'+')\x20textureL'+'od(sampler'+'2DShadow(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x200.0)'+'\x0a#define\x20i'+'texture2D('+'res,\x20uv)\x20t'+'exture(isa'+'mpler2D(re'+'s,\x20res\x20##\x20'+'_sampler),'+'\x20uv)\x0a#defi'+'ne\x20utextur'+'e2D(res,\x20u'+'v)\x20texture'+'(usampler2'+'D(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv)\x0a\x0a'+'//\x20depreca'+'ted\x20define'+'s\x0a#define\x20'+'texture2DL'+'odEXT\x20text'+'ure2DLodEX'+'T_is_no_lo'+'nger_suppo'+'rted_use_t'+'exture2DLo'+'d_instead\x0a'+'#define\x20te'+'xture2DPro'+'jLodEXT\x20te'+'xture2DPro'+'jLodEXT_is'+'_no_longer'+'_supported'+'_use_textu'+'re2DProjLo'+'d\x0a#define\x20'+'textureCub'+'eLodEXT\x20te'+'xtureCubeL'+'odEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'CubeLod_in'+'stead\x0a#def'+'ine\x20textur'+'e2DGradEXT'+'\x20texture2D'+'GradEXT_is'+'_no_longer'+'_supported'+'_use_textu'+'re2DGrad_i'+'nstead\x0a#de')+('fine\x20textu'+'re2DProjGr'+'adEXT\x20text'+'ure2DProjG'+'radEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DProjGra'+'d_instead\x0a'+'#define\x20te'+'xtureCubeG'+'radEXT\x20tex'+'tureCubeGr'+'adEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'CubeGrad_i'+'nstead\x0a\x0a//'+'\x20TODO:\x20imp'+'lement\x20oth'+'er\x20texture'+'\x20sampling\x20'+'macros\x0a//\x20'+'#define\x20te'+'xture2DPro'+'j\x20textureP'+'roj\x0a//\x20#de'+'fine\x20textu'+'re2DProjLo'+'d\x20textureP'+'rojLod\x0a//\x20'+'#define\x20te'+'xture2DGra'+'d\x20textureG'+'rad\x0a//\x20#de'+'fine\x20textu'+'re2DProjGr'+'ad\x20texture'+'ProjGrad\x0a/'+'/\x20#define\x20'+'textureCub'+'eGrad\x20text'+'ureGrad\x0a\x0a/'+'/\x20pass\x20/\x20a'+'ccept\x20shad'+'ow\x20map\x20as\x20'+'a\x20function'+'\x20parameter'+',\x20passes\x20b'+'oth\x20the\x20te'+'xture\x20as\x20w'+'ell\x20as\x20sam'+'pler\x0a//\x20as'+'\x20the\x20combi'+'ned\x20sample'+'r\x20can\x20be\x20o'+'nly\x20create'+'d\x20at\x20a\x20poi'+'nt\x20of\x20use\x0a'+'#define\x20SH'+'ADOWMAP_PA'+'SS(name)\x20n'+'ame,\x20name\x20'+'##\x20_sample'+'r\x0a#define\x20'+'SHADOWMAP_'+'ACCEPT(nam'+'e)\x20texture'+'2D\x20name,\x20s'+'ampler\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'PASS(name)'+'\x20name,\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT(nam'+'e)\x20texture'+'2D\x20name,\x20s'+'ampler\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT_HIG'+'HP\x20TEXTURE'+'_ACCEPT\x0a\x0a#'+'define\x20GL2'+'\x0a#define\x20W'+'EBGPU\x0a'),Wy='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#defin'+'e\x20texture2'+'D(res,\x20uv)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20itextu'+'re2D(res,\x20'+'uv)\x20textur'+'e(isampler'+'2D(res,\x20re'+'s\x20##\x20_samp'+'ler),\x20uv)\x0a'+'#define\x20ut'+'exture2D(r'+'es,\x20uv)\x20te'+'xture(usam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a\x0a#defi'+'ne\x20TEXTURE'+'_PASS(name'+')\x20name,\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT(na'+'me)\x20textur'+'e2D\x20name,\x20'+'sampler\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT_HI'+'GHP\x20TEXTUR'+'E_ACCEPT\x0a\x0a'+'#define\x20GL'+'2\x0a#define\x20'+'WEBGPU\x0a#de'+'fine\x20VERTE'+'XSHADER\x0a#d'+'efine\x20gl_V'+'ertexID\x20gl'+'_VertexInd'+'ex\x0a#define'+'\x20gl_Instan'+'ceID\x20gl_In'+'stanceInde'+'x\x0a',$y='\x0a',Xy='\x0a#define\x20V'+'ERTEXSHADE'+'R\x0a',n_='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20to'+'\x20sample\x20sc'+'ene\x20grab\x20t'+'extures\x0ave'+'c2\x20getGrab'+'ScreenPos('+'vec4\x20clipP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x200.5;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'WEBGPU\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv.y\x20'+'=\x201.0\x20-\x20uv'+'.y;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a\x0a//\x20con'+'vert\x20uv\x20co'+'ordinates\x20'+'to\x20sample\x20'+'image\x20effe'+'ct\x20texture'+'\x20(render\x20t'+'arget\x20text'+'ure\x20render'+'ed\x20without'+'\x0a//\x20forwar'+'d\x20renderer'+'\x20which\x20doe'+'s\x20the\x20flip'+'\x20in\x20the\x20pr'+'ojection\x20m'+'atrix)\x0avec'+'2\x20getImage'+'EffectUV(v'+'ec2\x20uv)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv.y'+'\x20=\x201.0\x20-\x20u'+'v.y;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20uv'+';\x0a}\x0a',o_='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20fo'+'r\x20sampling'+'\x20scene\x20gra'+'b\x20textures'+'\x0afn\x20getGra'+'bScreenPos'+'(clipPos:\x20'+'vec4<f32>)'+'\x20->\x20vec2<f'+'32>\x20{\x0a\x20\x20\x20\x20'+'var\x20uv:\x20ve'+'c2<f32>\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x20vec2<f3'+'2>(0.5);\x0a\x20'+'\x20\x20\x20uv.y\x20=\x20'+'1.0\x20-\x20uv.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'//\x20convert'+'\x20uv\x20coordi'+'nates\x20to\x20s'+'ample\x20imag'+'e\x20effect\x20t'+'exture\x20(re'+'nder\x20targe'+'t\x20texture\x20'+'rendered\x20w'+'ithout\x0a//\x20'+'forward\x20re'+'nderer\x20whi'+'ch\x20does\x20th'+'e\x20flip\x20in\x20'+'the\x20projec'+'tion\x20matri'+'x)\x0afn\x20getI'+'mageEffect'+'UV(uv:\x20vec'+'2<f32>)\x20->'+'\x20vec2<f32>'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20modifiedU'+'V:\x20vec2<f3'+'2>\x20=\x20uv;\x0a\x20'+'\x20\x20\x20modifie'+'dUV.y\x20=\x201.'+'0\x20-\x20modifi'+'edUV.y;\x0a\x20\x20'+'\x20\x20return\x20m'+'odifiedUV;'+'\x0a}\x0a\x0a//\x20typ'+'es\x20wrapped'+'\x20in\x20size\x20a'+'ligned\x20str'+'uctures\x20to'+'\x20ensure\x20co'+'rrect\x20alig'+'nment\x20in\x20u'+'niform\x20buf'+'fer\x20arrays'+'\x0astruct\x20Wr'+'appedF32\x20{'+'\x20@size(16)'+'\x20element:\x20'+'f32\x20}\x0astru'+'ct\x20Wrapped'+'I32\x20{\x20@siz'+'e(16)\x20elem'+'ent:\x20i32\x20}'+'\x0astruct\x20Wr'+'appedU32\x20{'+'\x20@size(16)'+'\x20element:\x20'+'u32\x20}\x0astru'+'ct\x20Wrapped'+'Vec2F\x20{\x20@s'+'ize(16)\x20el'+'ement:\x20vec'+'2f\x20}\x0astruc'+'t\x20WrappedV'+'ec2I\x20{\x20@si'+'ze(16)\x20ele'+'ment:\x20vec2'+'i\x20}\x0astruct'+'\x20WrappedVe'+'c2U\x20{\x20@siz'+'e(16)\x20elem'+'ent:\x20vec2u'+'\x20}\x0a',GT={'vertex_position':Me,'vertex_normal':gs,'vertex_tangent':yi,'vertex_texCoord0':is,'vertex_texCoord1':ba,'vertex_texCoord2':wl,'vertex_texCoord3':El,'vertex_texCoord4':bl,'vertex_texCoord5':Al,'vertex_texCoord6':Cl,'vertex_texCoord7':Pl,'vertex_color':Wt,'vertex_boneIndices':us,'vertex_boneWeights':gi};class Jt{static['createDefi'+'nition'](_0x3fad63,_0xd76d04){w['assert'](_0xd76d04),w['assert'](!_0xd76d04['vertexDefi'+'nes']||_0xd76d04['vertexDefi'+'nes']instanceof Map),w['assert'](!_0xd76d04['vertexIncl'+'udes']||_0xd76d04['vertexIncl'+'udes']instanceof Map),w['assert'](!_0xd76d04['fragmentDe'+'fines']||_0xd76d04['fragmentDe'+'fines']instanceof Map),w['assert'](!_0xd76d04['fragmentIn'+'cludes']||_0xd76d04['fragmentIn'+'cludes']instanceof Map);const _0xfcf7e0=_0x51241d=>{let _0x27ca4b=_0x51241d['fragmentOu'+'tputTypes']??'vec4';return Array['isArray'](_0x27ca4b)||(_0x27ca4b=[_0x27ca4b]),_0x27ca4b;},_0x288177=(_0x2e8161,_0x52ed81,_0x18903c,_0x53a535)=>{const _0x20d4ab=_0x3fad63['isWebGPU']?_0x2e8161:_0x52ed81;let _0x129df9='';if(!_0x18903c){const _0x5db30f=_0xfcf7e0(_0x53a535);for(let _0x23c177=-0x1be*-0x8+0x13*0x5+-0xe4f;_0x23c177<_0x3fad63['maxColorAt'+'tachments'];_0x23c177++){_0x129df9+='#define\x20CO'+'LOR_ATTACH'+'MENT_'+_0x23c177+'\x0a';const _0x436bf6=_0x5db30f[_0x23c177]??'vec4';_0x129df9+='#define\x20ou'+'tType_'+_0x23c177+'\x20'+_0x436bf6+'\x0a';}}return _0x129df9+_0x20d4ab;},_0x276e1b=(_0x4037dc,_0x5b8415)=>{let _0x551e06='';if(!_0x4037dc){const _0x1a76cb=_0xfcf7e0(_0x5b8415);for(let _0x140700=-0xa45*0x2+0x1741+-0x2b7;_0x140700<_0x3fad63['maxColorAt'+'tachments'];_0x140700++){const _0x10ae7c=_0x1a76cb[_0x140700]??'vec4',_0x335dc8=Fy['get'](_0x10ae7c);w['assert'](_0x335dc8,'Unknown\x20ou'+'tput\x20type\x20'+'translatio'+'n:\x20'+_0x10ae7c+'\x20->\x20'+_0x335dc8),_0x551e06+='alias\x20pcOu'+'tType'+_0x140700+'\x20=\x20'+_0x335dc8+';\x0a';}}return _0x551e06;},_0x52d608=_0xd76d04['name']??'Untitled';let _0x5c8668,_0x1f3b26;const _0x41e1fc=Jt['getDefines'+'Code'](_0x3fad63,_0xd76d04['vertexDefi'+'nes']),_0x42368f=Jt['getDefines'+'Code'](_0x3fad63,_0xd76d04['fragmentDe'+'fines']);return _0xd76d04['shaderLang'+'uage']===it?(_0x5c8668='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20'+_0x276e1b(!(-0x1690+0x133*-0x13+0x2d59),_0xd76d04)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Xy+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+o_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x41e1fc+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0xd76d04['vertexCode']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'),_0x1f3b26='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20'+_0x276e1b(!(-0x1933+0x616*-0x2+0x2560),_0xd76d04)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+$y+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+o_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x42368f+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0xd76d04['fragmentCo'+'de']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')):(w['assert'](_0xd76d04['vertexCode']),_0x5c8668=Jt['versionCod'+'e'](_0x3fad63)+_0x288177(Wy,Gy,!(-0x17*-0x14b+-0x4*0x730+0x1*-0xfd),_0xd76d04)+_0x41e1fc+Jt['precisionC'+'ode'](_0x3fad63)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+n_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Jt['getShaderN'+'ameCode'](_0x52d608)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0xd76d04['vertexCode'],w['assert'](_0xd76d04['fragmentCo'+'de']),_0x1f3b26=(_0xd76d04['fragmentPr'+'eamble']||'')+Jt['versionCod'+'e'](_0x3fad63)+_0x288177(Hy,Vy,!(-0x16a8+-0x64*-0x26+0x7d1),_0xd76d04)+_0x42368f+Jt['precisionC'+'ode'](_0x3fad63)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+n_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Jt['getShaderN'+'ameCode'](_0x52d608)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0xd76d04['fragmentCo'+'de']),{'name':_0x52d608,'shaderLanguage':_0xd76d04['shaderLang'+'uage']??Fe,'attributes':_0xd76d04['attributes'],'vshader':_0x5c8668,'vincludes':_0xd76d04['vertexIncl'+'udes'],'fincludes':_0xd76d04['fragmentIn'+'cludes'],'fshader':_0x1f3b26,'useTransformFeedback':_0xd76d04['useTransfo'+'rmFeedback'],'meshUniformBufferFormat':_0xd76d04['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0xd76d04['meshBindGr'+'oupFormat']};}static['getDefines'+'Code'](_0x3b5565,_0x538785){let _0xc5941a='';return _0x3b5565['capsDefine'+'s']['forEach']((_0x3ab742,_0x412224)=>{_0xc5941a+='#define\x20'+_0x412224+'\x20'+_0x3ab742+'\x0a';}),_0xc5941a+='\x0a',_0x538785==null||_0x538785['forEach']((_0x89c42b,_0x40b67e)=>{_0xc5941a+='#define\x20'+_0x40b67e+'\x20'+_0x89c42b+'\x0a';}),_0xc5941a+='\x0a',_0xc5941a;}static['getShaderN'+'ameCode'](_0x571493){return'#define\x20SH'+'ADER_NAME\x20'+_0x571493+'\x0a';}static['versionCod'+'e'](_0x1a761a){return _0x1a761a['isWebGPU']?'#version\x204'+'50\x0a':'#version\x203'+'00\x20es\x0a';}static['precisionC'+'ode'](_0x447174,_0x4555c9){_0x4555c9&&_0x4555c9!=='highp'&&_0x4555c9!=='mediump'&&_0x4555c9!=='lowp'&&(_0x4555c9=null),_0x4555c9&&(_0x4555c9==='highp'&&_0x447174['maxPrecisi'+'on']!=='highp'&&(_0x4555c9='mediump'),_0x4555c9==='mediump'&&_0x447174['maxPrecisi'+'on']==='lowp'&&(_0x4555c9='lowp'));const _0x5dab07=_0x4555c9||_0x447174['precision'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20precisi'+'on\x20'+_0x5dab07+('\x20float;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x5dab07+('\x20int;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20pr'+'ecision\x20')+_0x5dab07+('\x20usampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x5dab07+('\x20isampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x5dab07+('\x20sampler2D'+'Shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x5dab07+('\x20samplerCu'+'beShadow;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20precisio'+'n\x20')+_0x5dab07+('\x20sampler2D'+'Array;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}static['collectAtt'+'ributes'](_0x511d2a){const _0xc933e={};let _0x419e54=0x27*0x43+0x142+-0x1*0xb77,_0x1b21b1=_0x511d2a['indexOf']('attribute');for(;_0x1b21b1>=-0x1b23+0x1134*0x1+0x9ef*0x1&&!(_0x1b21b1>0x167c+0xb9+-0x1*0x1735&&_0x511d2a[_0x1b21b1-(-0x3*0x15c+0x5*0x62+-0xb9*-0x3)]==='/');){let _0x2a105f=!(-0xd75+0x1d7d+0x1*-0x1007);if(_0x1b21b1>-0x1644+0xb97+0xaad){let _0x5eb03c=_0x511d2a['lastIndexO'+'f']('\x0a',_0x1b21b1);_0x5eb03c=_0x5eb03c!==-(-0xfd*0x1d+-0x1cb4+0x395e)?_0x5eb03c+(0x21f3+-0x3*0xbb7+0x133):-0x2663+-0x2595+0x4bf8,_0x511d2a['substring'](_0x5eb03c,_0x1b21b1)['includes']('#')&&(_0x2a105f=!(0x4a8*0x2+0xf*-0x143+0x99d));}if(!_0x2a105f){const _0x1f6cc4=_0x511d2a['indexOf'](';',_0x1b21b1),_0x2ab38b=_0x511d2a['lastIndexO'+'f']('\x20',_0x1f6cc4),_0x382b19=_0x511d2a['substring'](_0x2ab38b+(0x1b9c*0x1+0x16f4+0x1*-0x328f),_0x1f6cc4);if(_0xc933e[_0x382b19])w['warn']('Attribute\x20'+'['+_0x382b19+(']\x20already\x20'+'exists\x20whe'+'n\x20extracti'+'ng\x20the\x20att'+'ributes\x20fr'+'om\x20the\x20ver'+'tex\x20shader'+',\x20ignoring'+'.'),{'vsCode':_0x511d2a});else{const _0x24203a=GT[_0x382b19];_0x24203a!==void(-0x2*-0x96b+-0x4a*-0x16+0x285*-0xa)?_0xc933e[_0x382b19]=_0x24203a:(_0xc933e[_0x382b19]='ATTR'+_0x419e54,_0x419e54++);}}_0x1b21b1=_0x511d2a['indexOf']('attribute',_0x1b21b1+(0xfbd+0x1*0x19e8+0x34*-0xcd));}return _0xc933e;}}let HT=0xb3*-0x5+0x1*0x232a+-0x1fab;class qy{constructor(_0x2dee5c,_0x57dc9a){h(this,'meshUnifor'+'mBufferFor'+'mat'),h(this,'meshBindGr'+'oupFormat'),h(this,'attributes',new Map());if(this['id']=HT++,this['device']=_0x2dee5c,this['definition']=_0x57dc9a,this['name']=_0x57dc9a['name']||'Untitled',this['init'](),_0x57dc9a['cshader'])w['assert'](_0x2dee5c['supportsCo'+'mpute'],'Compute\x20sh'+'aders\x20are\x20'+'not\x20suppor'+'ted\x20on\x20thi'+'s\x20device.'),w['assert'](!_0x57dc9a['vshader']&&!_0x57dc9a['fshader'],'Vertex\x20and'+'\x20fragment\x20'+'shaders\x20ar'+'e\x20not\x20supp'+'orted\x20when'+'\x20creating\x20'+'a\x20compute\x20'+'shader.'),_0x57dc9a['cshader']=ko['run'](_0x57dc9a['cshader'],_0x57dc9a['cincludes'],{'sourceName':'compute\x20sh'+'ader\x20for\x20'+this['label'],'stripDefines':!(-0xee8+0x1*0x1b19+-0xc31*0x1)});else{w['assert'](_0x57dc9a['vshader'],'No\x20vertex\x20'+'shader\x20has'+'\x20been\x20spec'+'ified\x20when'+'\x20creating\x20'+'a\x20shader.'),w['assert'](_0x57dc9a['fshader'],'No\x20fragmen'+'t\x20shader\x20h'+'as\x20been\x20sp'+'ecified\x20wh'+'en\x20creatin'+'g\x20a\x20shader'+'.'),w['call'](()=>{this['vUnmodifie'+'d']=_0x57dc9a['vshader'],this['fUnmodifie'+'d']=_0x57dc9a['fshader'];});const _0xba6a9b=_0x57dc9a['shaderLang'+'uage']===it;_0x57dc9a['vshader']=ko['run'](_0x57dc9a['vshader'],_0x57dc9a['vincludes'],{'sourceName':'vertex\x20sha'+'der\x20for\x20'+this['label'],'stripDefines':_0xba6a9b}),_0x57dc9a['shaderLang'+'uage']===Fe&&(_0x57dc9a['attributes']??(_0x57dc9a['attributes']=Jt['collectAtt'+'ributes'](_0x57dc9a['vshader'])));const _0x5914d9=_0x2dee5c['isWebGL2']&&(Ae['name']==='osx'||Ae['name']==='ios');if(_0x57dc9a['fshader']=ko['run'](_0x57dc9a['fshader'],_0x57dc9a['fincludes'],{'stripUnusedColorAttachments':_0x5914d9,'stripDefines':_0xba6a9b,'sourceName':'fragment\x20s'+'hader\x20for\x20'+this['label']}),!_0x57dc9a['vshader']||!_0x57dc9a['fshader']){w['error']('Shader:\x20Fa'+'iled\x20to\x20cr'+'eate\x20shade'+'r\x20'+this['label']+('.\x20Vertex\x20o'+'r\x20fragment'+'\x20shader\x20so'+'urce\x20is\x20em'+'pty.'),this),this['failed']=!(-0x1ee9+-0x1bb9*-0x1+0x330);return;}}this['impl']=_0x2dee5c['createShad'+'erImpl'](this),w['trace'](Im,'Alloc:\x20'+this['label']+',\x20stack:\x20'+Q['toString'](),{'instance':this});}['init'](){this['ready']=!(0x77c*-0x1+-0x1*0x37a+0x7*0x191),this['failed']=!(-0x18bd+-0xbd2+0x2490);}get['label'](){return'Shader\x20Id\x20'+this['id']+'\x20('+(this['definition']['shaderLang'+'uage']===it?'WGSL':'GLSL')+')\x20'+this['name'];}['destroy'](){w['trace'](Im,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']),this['device']['onDestroyS'+'hader'](this),this['impl']['destroy'](this);}['loseContex'+'t'](){this['init'](),this['impl']['loseContex'+'t']();}['restoreCon'+'text'](){this['impl']['restoreCon'+'text'](this['device'],this);}}class WT{constructor(){h(this,'storage'),h(this,'gpuBuffer'),h(this,'offset');}}const Be=[];Be[Xs]=function(_0xfa84b3,_0x21ae89,_0x47a412){const _0xad6009=_0xfa84b3['storageFlo'+'at32'];_0xad6009[_0x47a412]=_0x21ae89;},Be[ga]=(_0x487c3a,_0x5c15b1,_0x339ec8)=>{const _0xd37306=_0x487c3a['storageFlo'+'at32'];_0xd37306[_0x339ec8]=_0x5c15b1[0x1905+0x12*0x95+-0x237f],_0xd37306[_0x339ec8+(-0x185f+0x1*0x1459+0x407)]=_0x5c15b1[0x4*-0x4bd+0x5*-0x761+0x1bed*0x2];},Be[ds]=(_0x2f7d5e,_0x4235e8,_0x58deed)=>{const _0x92e34=_0x2f7d5e['storageFlo'+'at32'];_0x92e34[_0x58deed]=_0x4235e8[0x1c3e+0x3*-0x315+0x1*-0x12ff],_0x92e34[_0x58deed+(-0x6b8+0xd3b+-0x682)]=_0x4235e8[0x5e*0x23+0x2d*0xcb+-0x3088],_0x92e34[_0x58deed+(-0x373+-0x13c0+0x1735)]=_0x4235e8[-0x179b*-0x1+-0x31b+0xa3f*-0x2];},Be[Rn]=(_0x5a002a,_0x20121d,_0x7ae470)=>{const _0x92a09c=_0x5a002a['storageFlo'+'at32'];_0x92a09c[_0x7ae470]=_0x20121d[-0x4fd*-0x6+-0x233f+0x551],_0x92a09c[_0x7ae470+(-0x71a+0x313*-0x3+0x1054)]=_0x20121d[-0x1408+0xc93+0x2*0x3bb],_0x92a09c[_0x7ae470+(0x15*0x3d+0x2*-0x10f5+-0xb*-0x2a1)]=_0x20121d[-0x1fd*0xb+0x21b3*-0x1+0x3794],_0x92a09c[_0x7ae470+(-0x470*0x8+0x1c3c+-0x1*-0x747)]=_0x20121d[0xb25*-0x3+-0xf*-0x24d+-0x111];},Be[_a]=function(_0x48fa52,_0x577f3e,_0x5379fc){const _0x1d20a7=_0x48fa52['storageInt'+'32'];_0x1d20a7[_0x5379fc]=_0x577f3e;},Be[ca]=function(_0xa1ee77,_0x1b6330,_0x152704){const _0x1cf2bb=_0xa1ee77['storageInt'+'32'];_0x1cf2bb[_0x152704]=_0x1b6330[-0xa2a+-0x409*0x2+0xc*0x185],_0x1cf2bb[_0x152704+(-0x17*-0xb9+0x176d+-0x280b)]=_0x1b6330[0x25d8+-0x53*0x5f+-0x70a];},Be[ha]=function(_0x5430d1,_0x2cdbc3,_0x25c6c9){const _0x29e0cf=_0x5430d1['storageInt'+'32'];_0x29e0cf[_0x25c6c9]=_0x2cdbc3[-0x2437+-0x25*0x8d+-0x1c4c*-0x2],_0x29e0cf[_0x25c6c9+(-0x5d0*-0x4+-0x1596+-0x19*0x11)]=_0x2cdbc3[0x11c4+-0x1e34+-0x23*-0x5b],_0x29e0cf[_0x25c6c9+(-0xff2*0x1+0xbc7+0x42d)]=_0x2cdbc3[0x34*-0x7a+-0x9*-0x2b5+-0x1*-0x6d];},Be[da]=function(_0x133284,_0x4763aa,_0x5885fe){const _0x26df69=_0x133284['storageInt'+'32'];_0x26df69[_0x5885fe]=_0x4763aa[0x1*0xb3e+0x1440+-0x1d*0x116],_0x26df69[_0x5885fe+(-0x1d2c+-0x129+0x2c2*0xb)]=_0x4763aa[-0x14d4+0x838+0xc9d*0x1],_0x26df69[_0x5885fe+(-0xc*0x240+0x1108+0x9fa)]=_0x4763aa[0x81b*-0x2+-0x13a1+0x23d9],_0x26df69[_0x5885fe+(-0x1*0x55f+-0x207e+0x25e0*0x1)]=_0x4763aa[-0x3da+0x5bf*-0x5+-0x95*-0x38];},Be[_h]=(_0x3a8d8b,_0x32f2fa,_0x328904)=>{const _0x4c110e=_0x3a8d8b['storageFlo'+'at32'];_0x4c110e[_0x328904]=_0x32f2fa[0x1145+-0x8*0x442+-0x1*-0x10cb],_0x4c110e[_0x328904+(0x8*0x448+-0x9*-0x411+-0x46d8)]=_0x32f2fa[-0x1*-0x2653+-0x251+-0x2401],_0x4c110e[_0x328904+(0x2079+-0x19ec+-0x689)]=_0x32f2fa[0x1865+0xce7+0x56*-0x6f],_0x4c110e[_0x328904+(0x7ab*-0x1+-0x7b9*-0x1+0x1*-0x9)]=_0x32f2fa[0x10d*0x1d+0x2*0x104c+0x1*-0x3f0e],_0x4c110e[_0x328904+(-0x589+0x5f9+0x34*-0x2)]=_0x32f2fa[-0x2d3+0x9b*0x7+-0x1*0x166],_0x4c110e[_0x328904+(-0x5*0x755+0x23e0+0xd2)]=_0x32f2fa[0x96c+-0x20e+-0x759];},Be[On]=(_0x1f5461,_0x219b99,_0x1d685c)=>{const _0x412561=_0x1f5461['storageFlo'+'at32'];_0x412561[_0x1d685c]=_0x219b99[-0x1*0x6c7+-0x765+0x38b*0x4],_0x412561[_0x1d685c+(0x22*-0x1+-0xd*0x15c+-0x1*-0x11cf)]=_0x219b99[0x2*0x5e0+0x12*0x28+-0xe8f*0x1],_0x412561[_0x1d685c+(-0x15a2+-0x12fa+-0x289e*-0x1)]=_0x219b99[0x758+0x25c7+-0x2d1d],_0x412561[_0x1d685c+(0xb*-0x71+-0x89a+0xd79)]=_0x219b99[0x3*-0xa88+0xb98*0x2+-0x5*-0x1af],_0x412561[_0x1d685c+(-0xc34*0x1+-0x39*0xab+0x324c)]=_0x219b99[0x26ab+-0x150d+0x6*-0x2ef],_0x412561[_0x1d685c+(-0x3e+0x1*-0x7e3+-0x827*-0x1)]=_0x219b99[-0xdf3*-0x1+-0x1*-0x1da8+-0x63a*0x7],_0x412561[_0x1d685c+(0x10bb+-0x218f+-0x10dc*-0x1)]=_0x219b99[0x24*-0x1f+-0x26d*0x7+-0x71f*-0x3],_0x412561[_0x1d685c+(0x2*0x9b2+-0x13f9*-0x1+-0x2754)]=_0x219b99[-0x61*-0x41+-0x509*-0x1+-0x1da3],_0x412561[_0x1d685c+(-0x140f+0x186+0x1293)]=_0x219b99[0x1da4+-0x5fc*0x3+0x8*-0x175];},Be[ud]=function(_0x4a7b99,_0x5b190f,_0x589e5e,_0x44552d){const _0x226af0=_0x4a7b99['storageFlo'+'at32'];for(let _0x39b503=-0x4d*-0x2+0x1b04+-0x2c3*0xa;_0x39b503<_0x44552d;_0x39b503++)_0x226af0[_0x589e5e+_0x39b503*(-0x53*-0x31+0x2*0xb92+-0x2703)]=_0x5b190f[_0x39b503];},Be[pd]=(_0x46b690,_0x24ced9,_0x5a2876,_0x57ba4f)=>{const _0x160d90=_0x46b690['storageFlo'+'at32'];for(let _0x13fabe=0x14cc+-0x5*0x7e+0x2*-0x92b;_0x13fabe<_0x57ba4f;_0x13fabe++)_0x160d90[_0x5a2876+_0x13fabe*(-0x103a+0x2*0xfa1+-0x1*0xf04)]=_0x24ced9[_0x13fabe*(-0x1d9f+0x25c1+0xa0*-0xd)],_0x160d90[_0x5a2876+_0x13fabe*(-0x1fe7+-0x2191+0x6*0xaea)+(0x218b+0xcbb+-0x2e45)]=_0x24ced9[_0x13fabe*(0x1*-0x307+0xb3b+-0x419*0x2)+(-0x859+0x57*0x61+-0x189d)];},Be[md]=(_0xbc1bca,_0x4d8db5,_0x56e9fe,_0x4256d2)=>{const _0x3f00a3=_0xbc1bca['storageFlo'+'at32'];for(let _0x8ba0c3=0xe3c+0x1ebd+-0x2cf9;_0x8ba0c3<_0x4256d2;_0x8ba0c3++)_0x3f00a3[_0x56e9fe+_0x8ba0c3*(-0x1b*0xa1+0x9*0x123+0x1*0x6c4)]=_0x4d8db5[_0x8ba0c3*(-0x1478+-0x1*-0x22d9+-0xe5e)],_0x3f00a3[_0x56e9fe+_0x8ba0c3*(-0x43*0x2e+-0x9e3*-0x1+0x22b)+(-0x59+-0x14da+0x2*0xa9a)]=_0x4d8db5[_0x8ba0c3*(-0x18a8+-0x800+0x20ab*0x1)+(0x529*-0x1+-0x1*-0xe31+-0x1*0x907)],_0x3f00a3[_0x56e9fe+_0x8ba0c3*(0x1d2e+0x132d+0x21*-0x177)+(0x65*-0x45+-0x529*0x7+0x3f5a)]=_0x4d8db5[_0x8ba0c3*(-0xc81*-0x3+0xd01+-0x3281)+(0x16df+0x35f*-0x4+-0x961)];},Be[Fn]=(_0x3dd737,_0x38934e,_0x550780,_0x495aca)=>{const _0x32f369=_0x3dd737['storageUin'+'t32'];_0x32f369[_0x550780]=_0x38934e;},Be[Nn]=(_0x5361bd,_0x367cc1,_0x3adb46,_0x3f2957)=>{const _0x4145f4=_0x5361bd['storageUin'+'t32'];_0x4145f4[_0x3adb46]=_0x367cc1[0x13de+0x255d+0x5b*-0xa1],_0x4145f4[_0x3adb46+(-0x11f1+0xe32+-0x1*-0x3c0)]=_0x367cc1[0x607*-0x4+0xf88+-0xa9*-0xd];},Be[kn]=(_0x5eca62,_0x201414,_0x3c3e97,_0x4c5662)=>{const _0x2ac8f3=_0x5eca62['storageUin'+'t32'];_0x2ac8f3[_0x3c3e97]=_0x201414[-0x2a7+-0x33*0xad+-0x2*-0x128f],_0x2ac8f3[_0x3c3e97+(-0x3*0x965+0xa*0x3a1+-0x81a)]=_0x201414[0x25c2+-0x1*-0x17e1+0x1*-0x3da2],_0x2ac8f3[_0x3c3e97+(0x2701+0x665+-0x2d64)]=_0x201414[0x22d6+-0x1c8c+0xc*-0x86];},Be[Un]=(_0xb3563b,_0x233a9e,_0x18ec5d,_0x55a5b0)=>{const _0x1d749c=_0xb3563b['storageUin'+'t32'];_0x1d749c[_0x18ec5d]=_0x233a9e[0x26da+0xf3d+-0xe3*0x3d],_0x1d749c[_0x18ec5d+(-0x69*-0x3f+0xe73+-0x2849)]=_0x233a9e[-0x18c4+-0x1c*-0x14+0x1695],_0x1d749c[_0x18ec5d+(-0x13*0x154+-0x2*0xd80+0x343e)]=_0x233a9e[-0x714*-0x5+0x1*0x1621+-0x3983],_0x1d749c[_0x18ec5d+(-0x2221+-0x2d4+0x16c*0x1a)]=_0x233a9e[-0x20b2+-0x71*0x55+-0x231d*-0x2];},Be[Bn]=function(_0x466390,_0x226e51,_0x543237,_0x534457){const _0x19de18=_0x466390['storageInt'+'32'];for(let _0xc98651=0x1*0x1451+-0x2678+0x1227;_0xc98651<_0x534457;_0xc98651++)_0x19de18[_0x543237+_0xc98651*(-0xf75*0x1+0x83*0x18+-0x1*-0x331)]=_0x226e51[_0xc98651];},Be[gd]=Be[Bn],Be[_d]=function(_0x228f87,_0x482e37,_0x4e9550,_0x1a16f2){const _0x2a1fee=_0x228f87['storageUin'+'t32'];for(let _0x5ebf9e=-0x5*0x4d+-0x23e2+0x2563;_0x5ebf9e<_0x1a16f2;_0x5ebf9e++)_0x2a1fee[_0x4e9550+_0x5ebf9e*(-0xab8+-0x10b*0x7+0x1209)]=_0x482e37[_0x5ebf9e];},Be[zn]=(_0x3c149b,_0x1aa378,_0x296f22,_0x2aa11f)=>{const _0x6a2c46=_0x3c149b['storageInt'+'32'];for(let _0x28e247=-0x2281+-0x7*0x1fb+0x97*0x52;_0x28e247<_0x2aa11f;_0x28e247++)_0x6a2c46[_0x296f22+_0x28e247*(0x13cd*-0x1+-0x17*0x12b+0x2eae)]=_0x1aa378[_0x28e247*(0x2374+-0x1a92+-0x8e0)],_0x6a2c46[_0x296f22+_0x28e247*(0x16d0+0x140+-0x4c*0x51)+(-0x5*0x6c6+0x14e*0x13+0x915)]=_0x1aa378[_0x28e247*(0x3d1*-0xa+0xdad+0x187f)+(-0x233d+0x1bb7+0x787)];},Be[yd]=Be[zn],Be[Sd]=(_0x123437,_0x5c993e,_0xf9ed1e,_0x16f6f1)=>{const _0x3c4864=_0x123437['storageUin'+'t32'];for(let _0x5efbc4=0x77f*0x1+0x260e+-0x381*0xd;_0x5efbc4<_0x16f6f1;_0x5efbc4++)_0x3c4864[_0xf9ed1e+_0x5efbc4*(-0x15af+0x277*-0xe+0x3835)]=_0x5c993e[_0x5efbc4*(-0x1af8+-0x102f*0x1+0x2b29)],_0x3c4864[_0xf9ed1e+_0x5efbc4*(-0x3b0+0x6*0x650+-0x51*0x6c)+(0x1e6f+-0x1*0x2289+0x41b)]=_0x5c993e[_0x5efbc4*(0x26cf*0x1+0x2293*0x1+-0x1258*0x4)+(0x133*0x1+-0x2646+0x2514*0x1)];},Be[Vn]=(_0x43719a,_0x348e33,_0x208ee8,_0xa1833)=>{const _0xb0d857=_0x43719a['storageInt'+'32'];for(let _0x1a505a=0x403+-0x16bb+0x12b8;_0x1a505a<_0xa1833;_0x1a505a++)_0xb0d857[_0x208ee8+_0x1a505a*(0x1*-0x1e93+0x24fd+-0x666)]=_0x348e33[_0x1a505a*(0x16ce+0x2*-0xaf2+-0x7*0x21)],_0xb0d857[_0x208ee8+_0x1a505a*(0x18e5+0x18ec+-0x31cd)+(-0x477+-0x713*0x4+-0xaec*-0x3)]=_0x348e33[_0x1a505a*(0x1778+-0x1ea6+0x731)+(-0x180e+0x4*-0x285+0x2223)],_0xb0d857[_0x208ee8+_0x1a505a*(0xd6a+-0x2532+0x17cc)+(0x3c0+-0x190c+-0x36*-0x65)]=_0x348e33[_0x1a505a*(0x20d8+0x556*-0x7+0x485)+(-0x7a6+0x1*-0x1e61+0x2609)];},Be[xd]=Be[Vn],Be[vd]=(_0xd6a44,_0x1e09a3,_0x14239a,_0x1b4137)=>{const _0x180136=_0xd6a44['storageUin'+'t32'];for(let _0x384f32=-0x84+0x1*-0x695+0x719;_0x384f32<_0x1b4137;_0x384f32++)_0x180136[_0x14239a+_0x384f32*(0xf*-0x29+0x1626+-0x1*0x13bb)]=_0x1e09a3[_0x384f32*(-0x23c8+-0x20c5+0x1*0x4490)],_0x180136[_0x14239a+_0x384f32*(-0x20ce+-0x6f5+-0x1*-0x27c7)+(-0x83c*-0x4+-0x26f0+0x601)]=_0x1e09a3[_0x384f32*(-0x1f3c+-0x9*0x265+-0xda*-0x3e)+(0x488*-0x2+0x198a+-0x1079*0x1)],_0x180136[_0x14239a+_0x384f32*(-0x293*-0x7+-0x117b+0x1*-0x86)+(-0xa4c*0x1+0x2*-0x72e+-0x4d*-0x52)]=_0x1e09a3[_0x384f32*(0x1da8+0x8b0+-0xcc7*0x3)+(-0xd*-0x279+-0x5a2*0x5+-0x3f9)];};class zp{constructor(_0x15b9a2,_0x4f5ee7,_0x34506f=!(0x1181+0x122f+-0x23b0*0x1)){h(this,'device'),h(this,'persistent'),h(this,'allocation'),h(this,'storageFlo'+'at32'),h(this,'storageInt'+'32'),h(this,'storageUin'+'t32'),h(this,'renderVers'+'ionDirty',0x159+0x3a2+-0x4fb);if(this['device']=_0x15b9a2,this['format']=_0x4f5ee7,this['persistent']=_0x34506f,w['assert'](_0x4f5ee7),_0x34506f){this['impl']=_0x15b9a2['createUnif'+'ormBufferI'+'mpl'](this);const _0x1ce0b5=new ArrayBuffer(_0x4f5ee7['byteSize']);this['assignStor'+'age'](new Int32Array(_0x1ce0b5)),_0x15b9a2['_vram']['ub']+=this['format']['byteSize'];}else this['allocation']=new WT();}['destroy'](){if(this['persistent']){const _0x11c503=this['device'];this['impl']['destroy'](_0x11c503),_0x11c503['_vram']['ub']-=this['format']['byteSize'];}}get['offset'](){return this['persistent']?0x7*0x4c7+-0x1af*-0x3+-0x267e:this['allocation']['offset'];}['assignStor'+'age'](_0xdbe78d){this['storageInt'+'32']=_0xdbe78d,this['storageUin'+'t32']=new Uint32Array(_0xdbe78d['buffer'],_0xdbe78d['byteOffset'],_0xdbe78d['byteLength']/(-0x12b7+-0x1ab6+0x2d71)),this['storageFlo'+'at32']=new Float32Array(_0xdbe78d['buffer'],_0xdbe78d['byteOffset'],_0xdbe78d['byteLength']/(-0x9e*0x1d+-0x5*-0x3ca+0x21*-0x8));}['loseContex'+'t'](){var _0x393b28;(_0x393b28=this['impl'])==null||_0x393b28['loseContex'+'t']();}['setUniform'](_0x34db0b,_0x14157e){w['assert'](_0x34db0b);const _0xc14e50=_0x34db0b['offset'];if(_0x14157e!=null){const _0x428cb9=Be[_0x34db0b['updateType']];_0x428cb9?_0x428cb9(this,_0x14157e,_0xc14e50,_0x34db0b['count']):this['storageFlo'+'at32']['set'](_0x14157e,_0xc14e50);}else w['warnOnce']('Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20to\x20unif'+'orm\x20['+_0x34db0b['name']+('],\x20expecte'+'d\x20type\x20')+Ey[_0x34db0b['type']]+('\x20while\x20ren'+'dering\x20')+Q['toString']());}['set'](_0x459973,_0x51b273){const _0x4852d0=this['format']['map']['get'](_0x459973);w['assert'](_0x4852d0,'Uniform\x20na'+'me\x20['+_0x459973+(']\x20is\x20not\x20p'+'art\x20of\x20the'+'\x20Uniform\x20b'+'uffer.')),_0x4852d0&&this['setUniform'](_0x4852d0,_0x51b273);}['startUpdat'+'e'](_0x49cf97){if(!this['persistent']){const _0x1ae678=this['allocation'],_0x341088=_0x1ae678['gpuBuffer'];this['device']['dynamicBuf'+'fers']['alloc'](_0x1ae678,this['format']['byteSize']),this['assignStor'+'age'](_0x1ae678['storage']),_0x49cf97&&(_0x49cf97['bindGroup']=_0x1ae678['gpuBuffer']['getBindGro'+'up'](this),_0x49cf97['offsets'][0xb82+-0xb*-0x21d+-0x22c1]=_0x1ae678['offset']),_0x341088!==_0x1ae678['gpuBuffer']&&(this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion']);}}['endUpdate'](){this['persistent']?this['impl']['unlock'](this):(this['storageFlo'+'at32']=null,this['storageInt'+'32']=null);}['update'](_0x50b60c){this['startUpdat'+'e'](_0x50b60c);const _0x561a36=this['format']['uniforms'];for(let _0x3575f5=-0x1af1+-0x25eb+-0x944*-0x7;_0x3575f5<_0x561a36['length'];_0x3575f5++){const _0x5594a2=_0x561a36[_0x3575f5]['scopeId']['value'];this['setUniform'](_0x561a36[_0x3575f5],_0x5594a2);}this['endUpdate']();}}class $T{constructor(){h(this,'frameAlloc'+'ations',[]),h(this,'pastFrameA'+'llocations',new Map()),h(this,'_enabled',!(0x213a*-0x1+-0x2218*-0x1+-0xdd)),h(this,'_enableReq'+'uest',!(-0x18*0x15b+-0x1b0c+-0x1*-0x3b95)),h(this,'_frameTime',-0xf9*0x16+0x10c7+0x7*0xa9);}['loseContex'+'t'](){this['pastFrameA'+'llocations']['clear']();}set['enabled'](_0xdfb205){this['_enableReq'+'uest']=_0xdfb205;}get['enabled'](){return this['_enableReq'+'uest'];}['processEna'+'bleRequest'](){this['_enableReq'+'uest']!==this['_enabled']&&(this['_enabled']=this['_enableReq'+'uest'],this['_enabled']||(this['_frameTime']=0x24cb+-0x1*-0x58f+-0x2a5a));}['request'](_0x10bcc8){this['pastFrameA'+'llocations']['set'](_0x10bcc8,this['frameAlloc'+'ations']),this['frameAlloc'+'ations']=[];}['report'](_0x323a8b,_0x17d8f5){if(_0x17d8f5){const _0x427037=this['pastFrameA'+'llocations']['get'](_0x323a8b);if(w['assert'](_0x427037['length']===_0x17d8f5['length']),_0x17d8f5['length']>0x1ee7+-0x23f*0x9+-0xab0&&(this['_frameTime']=_0x17d8f5['reduce']((_0xfc70fe,_0x202b8e)=>_0xfc70fe+_0x202b8e,0x253d+-0x1*-0x1bfa+-0x4137)),mi['get'](Gl)){w['trace'](Gl,'--\x20GPU\x20tim'+'ings\x20for\x20f'+'rame\x20'+_0x323a8b+'\x20--');let _0x715617=0x6*0x57f+-0x504+0x3*-0x952;for(let _0x16ecd1=-0x3c5*0x5+0x1*0x1ef6+-0xc1d;_0x16ecd1<_0x427037['length'];++_0x16ecd1){const _0x101381=_0x427037[_0x16ecd1];_0x715617+=_0x17d8f5[_0x16ecd1],w['trace'](Gl,_0x17d8f5[_0x16ecd1]['toFixed'](0x12d5+-0x1*-0xc8c+-0x1f5f)+'\x20ms\x20'+_0x101381);}w['trace'](Gl,_0x715617['toFixed'](0x15c2+-0x1c9c+-0x2*-0x36e)+'\x20ms\x20TOTAL');}}this['pastFrameA'+'llocations']['delete'](_0x323a8b);}['getSlot'](_0x727bf3){const _0x51e462=this['frameAlloc'+'ations']['length'];return this['frameAlloc'+'ations']['push'](_0x727bf3),_0x51e462;}get['slotCount'](){return this['frameAlloc'+'ations']['length'];}}class jy{constructor(){h(this,'bufferId',null);}['destroy'](_0x353e08){this['bufferId']&&(_0x353e08['gl']['deleteBuff'+'er'](this['bufferId']),this['bufferId']=null);}get['initialize'+'d'](){return!!this['bufferId'];}['loseContex'+'t'](){this['bufferId']=null;}['unlock'](_0x2eee6a,_0xad8b05,_0x597f7a,_0x170593){const _0x766fd7=_0x2eee6a['gl'];if(this['bufferId'])_0x766fd7['bindBuffer'](_0x597f7a,this['bufferId']),_0x766fd7['bufferSubD'+'ata'](_0x597f7a,-0x70b+0x1d2a+-0x161f,_0x170593);else{let _0x1ca899;switch(_0xad8b05){case ms:_0x1ca899=_0x766fd7['STATIC_DRA'+'W'];break;case lh:_0x1ca899=_0x766fd7['DYNAMIC_DR'+'AW'];break;case ey:_0x1ca899=_0x766fd7['STREAM_DRA'+'W'];break;case bx:_0x1ca899=_0x766fd7['DYNAMIC_CO'+'PY'];break;}this['bufferId']=_0x766fd7['createBuff'+'er'](),_0x766fd7['bindBuffer'](_0x597f7a,this['bufferId']),_0x766fd7['bufferData'](_0x597f7a,_0x170593,_0x1ca899);}}}class XT extends jy{constructor(){super(...arguments),h(this,'vao',null);}['destroy'](_0x3c8e96){super['destroy'](_0x3c8e96),_0x3c8e96['unbindVert'+'exArray']();}['loseContex'+'t'](){super['loseContex'+'t'](),this['vao']=null;}['unlock'](_0x58b267){const _0x43ce8f=_0x58b267['device'];super['unlock'](_0x43ce8f,_0x58b267['usage'],_0x43ce8f['gl']['ARRAY_BUFF'+'ER'],_0x58b267['storage']);}}class qT extends jy{constructor(_0x2595c9){super();const _0x4712f7=_0x2595c9['device']['gl'],_0x15a2ea=_0x2595c9['format'];_0x15a2ea===$f?this['glFormat']=_0x4712f7['UNSIGNED_B'+'YTE']:_0x15a2ea===Yi?this['glFormat']=_0x4712f7['UNSIGNED_S'+'HORT']:_0x15a2ea===wr&&(this['glFormat']=_0x4712f7['UNSIGNED_I'+'NT']);}['unlock'](_0x57658b){const _0x28f2a1=_0x57658b['device'];super['unlock'](_0x28f2a1,_0x57658b['usage'],_0x28f2a1['gl']['ELEMENT_AR'+'RAY_BUFFER'],_0x57658b['storage']);}}class jT{constructor(_0x52ef8d,_0x4ac6bd,_0x5b0a89,_0x440559){if(this['locationId']=_0x440559,this['scopeId']=_0x52ef8d['scope']['resolve'](_0x4ac6bd),this['version']=new Uy(),_0x4ac6bd['substring'](_0x4ac6bd['length']-(-0xd*0x1f7+-0xa69+0x23f7))==='[0]')switch(_0x5b0a89){case Xs:_0x5b0a89=ud;break;case _a:_0x5b0a89=Bn;break;case Fn:_0x5b0a89=_d;break;case Tn:_0x5b0a89=gd;break;case ga:_0x5b0a89=pd;break;case ca:_0x5b0a89=zn;break;case Nn:_0x5b0a89=Sd;break;case tl:_0x5b0a89=yd;break;case ds:_0x5b0a89=md;break;case ha:_0x5b0a89=Vn;break;case kn:_0x5b0a89=vd;break;case sl:_0x5b0a89=xd;break;case Rn:_0x5b0a89=Lp;break;case da:_0x5b0a89=gh;break;case Un:_0x5b0a89=Rp;break;case il:_0x5b0a89=Op;break;}this['dataType']=_0x5b0a89,this['value']=[null,null,null,null],this['array']=[];}}let l_=0xb3*-0x1f+-0x3*-0x592+0x4f7;const YT=new Set(['gl_VertexI'+'D','gl_Instanc'+'eID','gl_DrawID','gl_BaseVer'+'tex','gl_BaseIns'+'tance']);class KT{constructor(){h(this,'map',new Map());}['destroy'](_0x46a17b){this['map']['forEach'](_0x52db7b=>{_0x46a17b['gl']['deleteShad'+'er'](_0x52db7b);});}['loseContex'+'t'](_0x5af1c4){this['map']['clear']();}}const ZT=new Kt(),QT=new Kt();class JT{constructor(_0x7d2130){h(this,'compileDur'+'ation',-0x1*-0x1139+-0x1541+0x408),(this['init'](),this['compile'](_0x7d2130['device'],_0x7d2130),this['link'](_0x7d2130['device'],_0x7d2130),_0x7d2130['device']['shaders']['push'](_0x7d2130));}['destroy'](_0x16f886){this['glProgram']&&(_0x16f886['device']['gl']['deleteProg'+'ram'](this['glProgram']),this['glProgram']=null);}['init'](){this['uniforms']=[],this['samplers']=[],this['attributes']=[],this['glProgram']=null,this['glVertexSh'+'ader']=null,this['glFragment'+'Shader']=null;}['loseContex'+'t'](){this['init']();}['restoreCon'+'text'](_0x25d806,_0x3becec){this['compile'](_0x25d806,_0x3becec),this['link'](_0x25d806,_0x3becec);}['compile'](_0x1d3a18,_0x58f60e){const _0x51cbe7=_0x58f60e['definition'];this['glVertexSh'+'ader']=this['_compileSh'+'aderSource'](_0x1d3a18,_0x51cbe7['vshader'],!(-0x88e+-0x8f2*-0x2+-0x5*0x1de)),this['glFragment'+'Shader']=this['_compileSh'+'aderSource'](_0x1d3a18,_0x51cbe7['fshader'],!(-0xe35+0x59e+0x898));}['link'](_0x2c06e2,_0x2b972a){if(this['glProgram'])return;const _0x2b0b95=_0x2c06e2['gl'];if(_0x2b0b95['isContextL'+'ost']())return;let _0x5d89ba=0xf33*-0x1+0x1*0x1e98+-0xf65;w['call'](()=>{this['compileDur'+'ation']=0x1*0x223e+0x3*0x78e+-0x3*0x12f8,_0x5d89ba=de();});const _0x49dfdc=_0x2b0b95['createProg'+'ram']();this['glProgram']=_0x49dfdc,_0x2b0b95['attachShad'+'er'](_0x49dfdc,this['glVertexSh'+'ader']),_0x2b0b95['attachShad'+'er'](_0x49dfdc,this['glFragment'+'Shader']);const _0x132751=_0x2b972a['definition'],_0x10a22b=_0x132751['attributes'];if(_0x132751['useTransfo'+'rmFeedback']){const _0x33fba7=[];for(const _0x2fb024 in _0x10a22b)_0x10a22b['hasOwnProp'+'erty'](_0x2fb024)&&_0x33fba7['push']('out_'+_0x2fb024);_0x2b0b95['transformF'+'eedbackVar'+'yings'](_0x49dfdc,_0x33fba7,_0x2b0b95['INTERLEAVE'+'D_ATTRIBS']);}const _0x3090de={};for(const _0x940f1f in _0x10a22b)if(_0x10a22b['hasOwnProp'+'erty'](_0x940f1f)){const _0x533b0e=_0x10a22b[_0x940f1f],_0x2ad01f=Le[_0x533b0e];w['assert'](!_0x3090de['hasOwnProp'+'erty'](_0x2ad01f),'WARNING:\x20T'+'wo\x20attribu'+'tes\x20are\x20ma'+'pped\x20to\x20th'+'e\x20same\x20loc'+'ation\x20in\x20a'+'\x20shader:\x20'+_0x3090de[_0x2ad01f]+'\x20and\x20'+_0x940f1f),_0x3090de[_0x2ad01f]=_0x940f1f,_0x2b0b95['bindAttrib'+'Location'](_0x49dfdc,_0x2ad01f,_0x940f1f);}_0x2b0b95['linkProgra'+'m'](_0x49dfdc),w['call'](()=>{this['compileDur'+'ation']=de()-_0x5d89ba;}),_0x2c06e2['_shaderSta'+'ts']['linked']++,_0x132751['tag']===Sy&&_0x2c06e2['_shaderSta'+'ts']['materialSh'+'aders']++;}['_compileSh'+'aderSource'](_0x3fc4cf,_0x822459,_0x754b71){const _0x179e93=_0x3fc4cf['gl'];if(_0x179e93['isContextL'+'ost']())return null;const _0x57a89f=(_0x754b71?ZT:QT)['get'](_0x3fc4cf,()=>new KT());let _0x337a97=_0x57a89f['map']['get'](_0x822459);if(!_0x337a97){const _0x476deb=de();_0x3fc4cf['fire']('shader:com'+'pile:start',{'timestamp':_0x476deb,'target':_0x3fc4cf}),_0x337a97=_0x179e93['createShad'+'er'](_0x754b71?_0x179e93['VERTEX_SHA'+'DER']:_0x179e93['FRAGMENT_S'+'HADER']),_0x179e93['shaderSour'+'ce'](_0x337a97,_0x822459),_0x179e93['compileSha'+'der'](_0x337a97),_0x57a89f['map']['set'](_0x822459,_0x337a97);const _0x5d2897=de();_0x3fc4cf['fire']('shader:com'+'pile:end',{'timestamp':_0x5d2897,'target':_0x3fc4cf}),_0x3fc4cf['_shaderSta'+'ts']['compileTim'+'e']+=_0x5d2897-_0x476deb,_0x754b71?_0x3fc4cf['_shaderSta'+'ts']['vsCompiled']++:_0x3fc4cf['_shaderSta'+'ts']['fsCompiled']++;}return _0x337a97;}['finalize'](_0x2dbd6f,_0xbd3e4){var _0x650810,_0x35b2bb;const _0x887b1c=_0x2dbd6f['gl'];if(_0x887b1c['isContextL'+'ost']())return!(0x17cb*0x1+-0x1f03+-0x54*-0x16);const _0x429482=this['glProgram'],_0x4c46e4=_0xbd3e4['definition'],_0x27d997=de();_0x2dbd6f['fire']('shader:lin'+'k:start',{'timestamp':_0x27d997,'target':_0x2dbd6f});let _0x4fde87=-0x2*0xb15+0x1a5*0x4+0x15*0xbe;if(w['call'](()=>{_0x4fde87=de();}),!_0x887b1c['getProgram'+'Parameter'](_0x429482,_0x887b1c['LINK_STATU'+'S'])){if(!this['_isCompile'+'d'](_0x2dbd6f,_0xbd3e4,this['glVertexSh'+'ader'],_0x4c46e4['vshader'],'vertex')||!this['_isCompile'+'d'](_0x2dbd6f,_0xbd3e4,this['glFragment'+'Shader'],_0x4c46e4['fshader'],'fragment'))return!(-0x1c02+0x383+0x1880);const _0x587f8a='Failed\x20to\x20'+'link\x20shade'+'r\x20program.'+'\x20Error:\x20'+_0x887b1c['getProgram'+'InfoLog'](_0x429482);return _0x4c46e4['translated'+'Frag']=(_0x650810=_0x887b1c['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(0x1949+-0x1126+-0x823*0x1):_0x650810['getTransla'+'tedShaderS'+'ource'](this['glFragment'+'Shader']),_0x4c46e4['translated'+'Vert']=(_0x35b2bb=_0x887b1c['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0x1359+0xe*-0x239+0x3277):_0x35b2bb['getTransla'+'tedShaderS'+'ource'](this['glVertexSh'+'ader']),console['error'](_0x587f8a,_0x4c46e4),console['error'](_0x587f8a),!(0x1*0xe71+-0x1*-0xd15+0x581*-0x5);}const _0x141e2c=_0x887b1c['getProgram'+'Parameter'](_0x429482,_0x887b1c['ACTIVE_ATT'+'RIBUTES']);_0xbd3e4['attributes']['clear']();for(let _0x22fc4d=-0x655*-0x1+-0x1c65+0x10*0x161;_0x22fc4d<_0x141e2c;_0x22fc4d++){const _0x5908d9=_0x887b1c['getActiveA'+'ttrib'](_0x429482,_0x22fc4d),_0x30f776=_0x887b1c['getAttribL'+'ocation'](_0x429482,_0x5908d9['name']);YT['has'](_0x5908d9['name'])||(_0x4c46e4['attributes'][_0x5908d9['name']]===void(-0xf53+0xd*-0x16a+-0x1*-0x21b5)?(console['error']('Vertex\x20sha'+'der\x20attrib'+'ute\x20\x22'+_0x5908d9['name']+('\x22\x20is\x20not\x20m'+'apped\x20to\x20a'+'\x20semantic\x20'+'in\x20shader\x20'+'definition'+',\x20shader\x20[')+_0xbd3e4['label']+']',_0xbd3e4),_0xbd3e4['failed']=!(0x12a9+-0x10bf*-0x1+0x338*-0xb)):_0xbd3e4['attributes']['set'](_0x30f776,_0x5908d9['name']));}const _0x2d8253=_0x2dbd6f['_samplerTy'+'pes'],_0x2754aa=_0x887b1c['getProgram'+'Parameter'](_0x429482,_0x887b1c['ACTIVE_UNI'+'FORMS']);for(let _0x586153=0x1e01+-0x2189+0x388;_0x586153<_0x2754aa;_0x586153++){const _0xe677f=_0x887b1c['getActiveU'+'niform'](_0x429482,_0x586153),_0x1fc70a=_0x887b1c['getUniform'+'Location'](_0x429482,_0xe677f['name']),_0x410848=new jT(_0x2dbd6f,_0xe677f['name'],_0x2dbd6f['pcUniformT'+'ype'][_0xe677f['type']],_0x1fc70a);_0x2d8253['has'](_0xe677f['type'])?this['samplers']['push'](_0x410848):this['uniforms']['push'](_0x410848);}_0xbd3e4['ready']=!(-0x259a+0x1f*-0x67+0x3213);const _0x4d0917=de();return _0x2dbd6f['fire']('shader:lin'+'k:end',{'timestamp':_0x4d0917,'target':_0x2dbd6f}),_0x2dbd6f['_shaderSta'+'ts']['compileTim'+'e']+=_0x4d0917-_0x27d997,w['call'](()=>{const _0xf680fb=de()-_0x4fde87;this['compileDur'+'ation']+=_0xf680fb,l_+=this['compileDur'+'ation'],w['trace']($0,'[id:\x20'+_0xbd3e4['id']+']\x20'+_0xbd3e4['name']+':\x20'+this['compileDur'+'ation']['toFixed'](-0x1c*0x4e+-0x1ed+0xa76)+('ms,\x20TOTAL:'+'\x20')+l_['toFixed'](0x1397+0x16e5+-0x2a7b)+'ms');}),!(0x1*0xe54+0xfb1*0x1+-0x1e05);}['_isCompile'+'d'](_0x4ebbff,_0x58e5b9,_0x476192,_0x1a75e0,_0x5133ff){const _0x102c7e=_0x4ebbff['gl'];if(!_0x102c7e['getShaderP'+'arameter'](_0x476192,_0x102c7e['COMPILE_ST'+'ATUS'])){const _0x498320=_0x102c7e['getShaderI'+'nfoLog'](_0x476192),[_0x32a629,_0x53d0c6]=this['_processEr'+'ror'](_0x1a75e0,_0x498320),_0x8ed133='Failed\x20to\x20'+'compile\x20'+_0x5133ff+'\x20shader:\x0a\x0a'+_0x498320+'\x0a'+_0x32a629+('\x20while\x20ren'+'dering\x20')+Q['toString']();return _0x53d0c6['shader']=_0x58e5b9,console['error'](_0x8ed133,_0x53d0c6),console['error'](_0x8ed133),!(-0x1446+-0x1*0x1fd2+0x3419*0x1);}return!(0x827+-0x1*0x188+-0x5*0x153);}['isLinked'](_0x9521c6){const {extParallelShaderCompile:_0x4eb32c}=_0x9521c6;return _0x4eb32c?_0x9521c6['gl']['getProgram'+'Parameter'](this['glProgram'],_0x4eb32c['COMPLETION'+'_STATUS_KH'+'R']):!(-0x1*-0x1c13+0x12af*0x1+0x299*-0x12);}['_processEr'+'ror'](_0x45867a,_0x2bd4a1){const _0xf64590={};let _0x11ab96='';if(_0x45867a){const _0x2b9939=_0x45867a['split']('\x0a');let _0x16d06d=-0x1*-0x174c+-0x1*0x9aa+0x2*-0x6d1,_0x3c6c1d=_0x2b9939['length'];if(_0x2bd4a1&&_0x2bd4a1['startsWith']('ERROR:')){const _0x202694=_0x2bd4a1['match'](/^ERROR:\s(\d+):(\d+):\s*(.+)/);_0x202694&&(_0xf64590['message']=_0x202694[0xfba+0x1609*0x1+0x4b8*-0x8],_0xf64590['line']=parseInt(_0x202694[-0x1ec6+-0x1b33+0x39fb],0x144b+0x71*-0x39+0x4e8),_0x16d06d=Math['max'](0x3*-0xb93+-0x21c2+0x175*0x2f,_0xf64590['line']-(-0x1*-0x1a55+-0x127f+-0x7d0)),_0x3c6c1d=Math['min'](_0x2b9939['length'],_0xf64590['line']+(0x1b9a+-0x1*-0x1883+-0x3418)));}for(let _0x5f0fa6=_0x16d06d;_0x5f0fa6<_0x3c6c1d;_0x5f0fa6++){const _0xc4ed9e=_0x5f0fa6+(0x699+0x6a*-0x26+0x924)===_0xf64590['line']?'>\x20':'\x20\x20';_0x11ab96+=''+_0xc4ed9e+(_0x5f0fa6+(-0xd*0x3d+0x1e3+-0x137*-0x1))+':\x09'+_0x2b9939[_0x5f0fa6]+'\x0a';}_0xf64590['source']=_0x45867a;}return[_0x11ab96,_0xf64590];}}function c_(_0x49d10d,_0x2b7d7d){const _0x55bd69=_0x49d10d['width'],_0x33663b=_0x49d10d['height'];if(_0x55bd69>_0x2b7d7d||_0x33663b>_0x2b7d7d){const _0x2f9b7d=_0x2b7d7d/Math['max'](_0x55bd69,_0x33663b),_0x20e7e3=Math['floor'](_0x55bd69*_0x2f9b7d),_0x317f11=Math['floor'](_0x33663b*_0x2f9b7d);w['warn']('Image\x20dime'+'nsions\x20lar'+'ger\x20than\x20m'+'ax\x20support'+'ed\x20texture'+'\x20size\x20of\x20'+_0x2b7d7d+('.\x20Resizing'+'\x20from\x20')+_0x55bd69+',\x20'+_0x33663b+'\x20to\x20'+_0x20e7e3+',\x20'+_0x317f11+'.');const _0x3ec34a=document['createElem'+'ent']('canvas');return _0x3ec34a['width']=_0x20e7e3,_0x3ec34a['height']=_0x317f11,_0x3ec34a['getContext']('2d')['drawImage'](_0x49d10d,0x25fa+0x1*-0x4a4+-0x2156*0x1,0x43*0x1a+-0x205*0x13+0x1f91,_0x55bd69,_0x33663b,0x1564+-0x36*0xa1+0xc92,0x1*-0x1d09+-0xd*0x15f+-0x2*-0x176e,_0x20e7e3,_0x317f11),_0x3ec34a;}return _0x49d10d;}class ew{constructor(_0x4fdc9b){h(this,'_glTexture',null),h(this,'_glTarget'),h(this,'_glFormat'),h(this,'_glInterna'+'lFormat'),h(this,'_glPixelTy'+'pe'),h(this,'_glCreated'),h(this,'dirtyParam'+'eterFlags',-0xa1c*-0x2+0x52e*-0x3+-0x4ae),this['texture']=_0x4fdc9b;}['destroy'](_0x57369f){if(this['_glTexture']){for(let _0x4799b9=-0xc5+-0x49*0x2f+0xe2c;_0x4799b9<_0x57369f['textureUni'+'ts']['length'];_0x4799b9++){const _0x2e1cb0=_0x57369f['textureUni'+'ts'][_0x4799b9];for(let _0x315f56=-0x556*0x7+-0xb3f+0x3099;_0x315f56<_0x2e1cb0['length'];_0x315f56++)_0x2e1cb0[_0x315f56]===this['_glTexture']&&(_0x2e1cb0[_0x315f56]=null);}_0x57369f['gl']['deleteText'+'ure'](this['_glTexture']),this['_glTexture']=null;}}['loseContex'+'t'](){this['_glTexture']=null;}['propertyCh'+'anged'](_0x3068ec){this['dirtyParam'+'eterFlags']|=_0x3068ec;}['initialize'](_0x1b04f9,_0x752d9c){const _0x315ece=_0x1b04f9['gl'];switch(this['_glTexture']=_0x315ece['createText'+'ure'](),this['_glTarget']=_0x752d9c['_cubemap']?_0x315ece['TEXTURE_CU'+'BE_MAP']:_0x752d9c['_volume']?_0x315ece['TEXTURE_3D']:_0x752d9c['array']?_0x315ece['TEXTURE_2D'+'_ARRAY']:_0x315ece['TEXTURE_2D'],_0x752d9c['_format']){case ty:this['_glFormat']=_0x315ece['ALPHA'],this['_glInterna'+'lFormat']=_0x315ece['ALPHA'],this['_glPixelTy'+'pe']=_0x315ece['UNSIGNED_B'+'YTE'];break;case sy:this['_glFormat']=_0x315ece['LUMINANCE'],this['_glInterna'+'lFormat']=_0x315ece['LUMINANCE'],this['_glPixelTy'+'pe']=_0x315ece['UNSIGNED_B'+'YTE'];break;case ap:this['_glFormat']=_0x315ece['LUMINANCE_'+'ALPHA'],this['_glInterna'+'lFormat']=_0x315ece['LUMINANCE_'+'ALPHA'],this['_glPixelTy'+'pe']=_0x315ece['UNSIGNED_B'+'YTE'];break;case Ep:this['_glFormat']=_0x315ece['RED'],this['_glInterna'+'lFormat']=_0x315ece['R8'],this['_glPixelTy'+'pe']=_0x315ece['UNSIGNED_B'+'YTE'];break;case bp:this['_glFormat']=_0x315ece['RG'],this['_glInterna'+'lFormat']=_0x315ece['RG8'],this['_glPixelTy'+'pe']=_0x315ece['UNSIGNED_B'+'YTE'];break;case Jh:this['_glFormat']=_0x315ece['RGB'],this['_glInterna'+'lFormat']=_0x315ece['RGB565'],this['_glPixelTy'+'pe']=_0x315ece['UNSIGNED_S'+'HORT_5_6_5'];break;case np:this['_glFormat']=_0x315ece['RGBA'],this['_glInterna'+'lFormat']=_0x315ece['RGB5_A1'],this['_glPixelTy'+'pe']=_0x315ece['UNSIGNED_S'+'HORT_5_5_5'+'_1'];break;case ed:this['_glFormat']=_0x315ece['RGBA'],this['_glInterna'+'lFormat']=_0x315ece['RGBA4'],this['_glPixelTy'+'pe']=_0x315ece['UNSIGNED_S'+'HORT_4_4_4'+'_4'];break;case Cr:this['_glFormat']=_0x315ece['RGB'],this['_glInterna'+'lFormat']=_0x315ece['RGB8'],this['_glPixelTy'+'pe']=_0x315ece['UNSIGNED_B'+'YTE'];break;case Ne:this['_glFormat']=_0x315ece['RGBA'],this['_glInterna'+'lFormat']=_0x315ece['RGBA8'],this['_glPixelTy'+'pe']=_0x315ece['UNSIGNED_B'+'YTE'];break;case ny:case hy:w['error']('BGRA8\x20and\x20'+'SBGRA8\x20tex'+'ture\x20forma'+'ts\x20are\x20not'+'\x20supported'+'\x20by\x20WebGL.');break;case td:this['_glFormat']=_0x315ece['RGB'],this['_glInterna'+'lFormat']=_0x1b04f9['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGB_S3TC_'+'DXT1_EXT'];break;case op:this['_glFormat']=_0x315ece['RGBA'],this['_glInterna'+'lFormat']=_0x1b04f9['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT3_EXT'];break;case vl:this['_glFormat']=_0x315ece['RGBA'],this['_glInterna'+'lFormat']=_0x1b04f9['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT5_EXT'];break;case id:this['_glFormat']=_0x315ece['RGB'],this['_glInterna'+'lFormat']=_0x1b04f9['extCompres'+'sedTexture'+'ETC1']['COMPRESSED'+'_RGB_ETC1_'+'WEBGL'];break;case xl:this['_glFormat']=_0x315ece['RGB'],this['_glInterna'+'lFormat']=_0x1b04f9['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_2BPPV1_IM'+'G'];break;case Tl:this['_glFormat']=_0x315ece['RGBA'],this['_glInterna'+'lFormat']=_0x1b04f9['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_2BPPV1_I'+'MG'];break;case rd:this['_glFormat']=_0x315ece['RGB'],this['_glInterna'+'lFormat']=_0x1b04f9['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_4BPPV1_IM'+'G'];break;case ad:this['_glFormat']=_0x315ece['RGBA'],this['_glInterna'+'lFormat']=_0x1b04f9['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_4BPPV1_I'+'MG'];break;case cp:this['_glFormat']=_0x315ece['RGB'],this['_glInterna'+'lFormat']=_0x1b04f9['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGB8_ETC2'];break;case hp:this['_glFormat']=_0x315ece['RGBA'],this['_glInterna'+'lFormat']=_0x1b04f9['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGBA8_ETC'+'2_EAC'];break;case iy:this['_glFormat']=_0x315ece['RGBA'],this['_glInterna'+'lFormat']=_0x1b04f9['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_RGBA_ASTC'+'_4x4_KHR'];break;case ry:this['_glFormat']=_0x315ece['RGB'],this['_glInterna'+'lFormat']=_0x1b04f9['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGB_ATC_W'+'EBGL'];break;case ay:this['_glFormat']=_0x315ece['RGBA'],this['_glInterna'+'lFormat']=_0x1b04f9['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGBA_ATC_'+'INTERPOLAT'+'ED_ALPHA_W'+'EBGL'];break;case dy:this['_glFormat']=_0x315ece['RGB'],this['_glInterna'+'lFormat']=_0x1b04f9['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'SIGNED_FLO'+'AT_EXT'];break;case fy:this['_glFormat']=_0x315ece['RGB'],this['_glInterna'+'lFormat']=_0x1b04f9['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'UNSIGNED_F'+'LOAT_EXT'];break;case uy:this['_glFormat']=_0x315ece['RGBA'],this['_glInterna'+'lFormat']=_0x1b04f9['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGBA_BPTC'+'_UNORM_EXT'];break;case Xf:this['_glFormat']=_0x315ece['SRGB'],this['_glInterna'+'lFormat']=_0x1b04f9['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_S3TC'+'_DXT1_EXT'];break;case qf:this['_glFormat']=_0x315ece['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x1b04f9['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'3_EXT'];break;case jf:this['_glFormat']=_0x315ece['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x1b04f9['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'5_EXT'];break;case Yf:this['_glFormat']=_0x315ece['SRGB'],this['_glInterna'+'lFormat']=_0x1b04f9['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ETC'+'2'];break;case Kf:this['_glFormat']=_0x315ece['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x1b04f9['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ETC2_E'+'AC'];break;case Zf:this['_glFormat']=_0x315ece['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x1b04f9['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ASTC_4'+'x4_KHR'];break;case Qf:this['_glFormat']=_0x315ece['RGBA'],this['_glInterna'+'lFormat']=_0x1b04f9['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_SRGB_ALPH'+'A_BPTC_UNO'+'RM_EXT'];break;case od:this['_glFormat']=_0x315ece['RED'],this['_glInterna'+'lFormat']=_0x315ece['R16F'],this['_glPixelTy'+'pe']=_0x315ece['HALF_FLOAT'];break;case wp:this['_glFormat']=_0x315ece['RG'],this['_glInterna'+'lFormat']=_0x315ece['RG16F'],this['_glPixelTy'+'pe']=_0x315ece['HALF_FLOAT'];break;case ui:this['_glFormat']=_0x315ece['RGB'],this['_glInterna'+'lFormat']=_0x315ece['RGB16F'],this['_glPixelTy'+'pe']=_0x315ece['HALF_FLOAT'];break;case nt:this['_glFormat']=_0x315ece['RGBA'],this['_glInterna'+'lFormat']=_0x315ece['RGBA16F'],this['_glPixelTy'+'pe']=_0x315ece['HALF_FLOAT'];break;case Ye:this['_glFormat']=_0x315ece['RGB'],this['_glInterna'+'lFormat']=_0x315ece['RGB32F'],this['_glPixelTy'+'pe']=_0x315ece['FLOAT'];break;case Xt:this['_glFormat']=_0x315ece['RGBA'],this['_glInterna'+'lFormat']=_0x315ece['RGBA32F'],this['_glPixelTy'+'pe']=_0x315ece['FLOAT'];break;case Ji:this['_glFormat']=_0x315ece['RED'],this['_glInterna'+'lFormat']=_0x315ece['R32F'],this['_glPixelTy'+'pe']=_0x315ece['FLOAT'];break;case $i:this['_glFormat']=_0x315ece['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x315ece['DEPTH_COMP'+'ONENT32F'],this['_glPixelTy'+'pe']=_0x315ece['FLOAT'];break;case vn:this['_glFormat']=_0x315ece['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x315ece['DEPTH_COMP'+'ONENT16'],this['_glPixelTy'+'pe']=_0x315ece['UNSIGNED_S'+'HORT'];break;case sd:this['_glFormat']=_0x315ece['DEPTH_STEN'+'CIL'],this['_glInterna'+'lFormat']=_0x315ece['DEPTH24_ST'+'ENCIL8'],this['_glPixelTy'+'pe']=_0x315ece['UNSIGNED_I'+'NT_24_8'];break;case In:this['_glFormat']=_0x315ece['RGB'],this['_glInterna'+'lFormat']=_0x315ece['R11F_G11F_'+'B10F'],this['_glPixelTy'+'pe']=_0x315ece['UNSIGNED_I'+'NT_10F_11F'+'_11F_REV'];break;case lp:this['_glFormat']=_0x315ece['RGB'],this['_glInterna'+'lFormat']=_0x315ece['SRGB8'],this['_glPixelTy'+'pe']=_0x315ece['UNSIGNED_B'+'YTE'];break;case _s:this['_glFormat']=_0x315ece['RGBA'],this['_glInterna'+'lFormat']=_0x315ece['SRGB8_ALPH'+'A8'],this['_glPixelTy'+'pe']=_0x315ece['UNSIGNED_B'+'YTE'];break;case dp:this['_glFormat']=_0x315ece['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x315ece['R8I'],this['_glPixelTy'+'pe']=_0x315ece['BYTE'];break;case oy:this['_glFormat']=_0x315ece['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x315ece['R8UI'],this['_glPixelTy'+'pe']=_0x315ece['UNSIGNED_B'+'YTE'];break;case fp:this['_glFormat']=_0x315ece['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x315ece['R16I'],this['_glPixelTy'+'pe']=_0x315ece['SHORT'];break;case up:this['_glFormat']=_0x315ece['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x315ece['R16UI'],this['_glPixelTy'+'pe']=_0x315ece['UNSIGNED_S'+'HORT'];break;case pp:this['_glFormat']=_0x315ece['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x315ece['R32I'],this['_glPixelTy'+'pe']=_0x315ece['INT'];break;case Ki:this['_glFormat']=_0x315ece['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x315ece['R32UI'],this['_glPixelTy'+'pe']=_0x315ece['UNSIGNED_I'+'NT'];break;case mp:this['_glFormat']=_0x315ece['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x315ece['RG8I'],this['_glPixelTy'+'pe']=_0x315ece['BYTE'];break;case ly:this['_glFormat']=_0x315ece['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x315ece['RG8UI'],this['_glPixelTy'+'pe']=_0x315ece['UNSIGNED_B'+'YTE'];break;case _p:this['_glFormat']=_0x315ece['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x315ece['RG16I'],this['_glPixelTy'+'pe']=_0x315ece['SHORT'];break;case gp:this['_glFormat']=_0x315ece['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x315ece['RG16UI'],this['_glPixelTy'+'pe']=_0x315ece['UNSIGNED_S'+'HORT'];break;case Sp:this['_glFormat']=_0x315ece['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x315ece['RG32I'],this['_glPixelTy'+'pe']=_0x315ece['INT'];break;case yp:this['_glFormat']=_0x315ece['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x315ece['RG32UI'],this['_glPixelTy'+'pe']=_0x315ece['UNSIGNED_I'+'NT'];break;case vp:this['_glFormat']=_0x315ece['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x315ece['RGBA8I'],this['_glPixelTy'+'pe']=_0x315ece['BYTE'];break;case cy:this['_glFormat']=_0x315ece['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x315ece['RGBA8UI'],this['_glPixelTy'+'pe']=_0x315ece['UNSIGNED_B'+'YTE'];break;case xp:this['_glFormat']=_0x315ece['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x315ece['RGBA16I'],this['_glPixelTy'+'pe']=_0x315ece['SHORT'];break;case nd:this['_glFormat']=_0x315ece['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x315ece['RGBA16UI'],this['_glPixelTy'+'pe']=_0x315ece['UNSIGNED_S'+'HORT'];break;case Tp:this['_glFormat']=_0x315ece['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x315ece['RGBA32I'],this['_glPixelTy'+'pe']=_0x315ece['INT'];break;case Ue:this['_glFormat']=_0x315ece['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x315ece['RGBA32UI'],this['_glPixelTy'+'pe']=_0x315ece['UNSIGNED_I'+'NT'];break;}this['_glCreated']=!(0x12d*0x5+-0x1ed5+0x18f5);}['upload'](_0x2cc16b,_0x49d357){w['assert'](_0x49d357['device'],'Attempting'+'\x20to\x20use\x20a\x20'+'texture\x20th'+'at\x20has\x20bee'+'n\x20destroye'+'d.',_0x49d357);const _0x411ef5=_0x2cc16b['gl'];if(!_0x49d357['_needsUplo'+'ad']&&(_0x49d357['_needsMipm'+'apsUpload']&&_0x49d357['_mipmapsUp'+'loaded']||!_0x49d357['pot']))return;let _0x449dc2=0xea4*0x1+0x1617+-0x1*0x24bb,_0x247623,_0x44cc95;const _0x6e83b5=_0x49d357['numLevels'];for(_0x49d357['array']&&_0x411ef5['texStorage'+'3D'](_0x411ef5['TEXTURE_2D'+'_ARRAY'],_0x6e83b5,this['_glInterna'+'lFormat'],_0x49d357['_width'],_0x49d357['_height'],_0x49d357['_arrayLeng'+'th']);_0x49d357['_levels'][_0x449dc2]||_0x449dc2===0x55f+-0xc3c+-0xfb*-0x7;){if(!_0x49d357['_needsUplo'+'ad']&&_0x449dc2===0x3*0x3d7+-0x192*0xa+0x3f*0x11){_0x449dc2++;continue;}else{if(_0x449dc2&&(!_0x49d357['_needsMipm'+'apsUpload']||!_0x49d357['_mipmaps']))break;}if(_0x247623=_0x49d357['_levels'][_0x449dc2],_0x44cc95=(-0x234+-0x24a6*0x1+0x26db*0x1)/Math['pow'](-0x6a8+0x2537+-0xa2f*0x3,_0x449dc2),_0x449dc2===-0xe7+0x1cfd*0x1+-0x1c15&&!_0x49d357['_compresse'+'d']&&!_0x49d357['_integerFo'+'rmat']&&_0x49d357['_levels']['length']<_0x6e83b5&&(_0x411ef5['generateMi'+'pmap'](this['_glTarget']),_0x49d357['_mipmapsUp'+'loaded']=!(-0x365+-0x2461+-0x27c6*-0x1)),_0x49d357['_cubemap']){let _0x38ca09;if(_0x2cc16b['_isBrowser'+'Interface'](_0x247623[-0x1*-0xc69+0x17d0+0x1*-0x2439]))for(_0x38ca09=0x1b5a+-0x1*0x1672+-0x4e8;_0x38ca09<0x6*0x3bf+-0x260*-0xb+-0x3094;_0x38ca09++){if(!_0x49d357['_levelsUpd'+'ated'][0x1a12+0x16*0x30+-0x1e32][_0x38ca09])continue;let _0x1004f2=_0x247623[_0x38ca09];_0x2cc16b['_isImageBr'+'owserInter'+'face'](_0x1004f2)&&(_0x1004f2['width']>_0x2cc16b['maxCubeMap'+'Size']||_0x1004f2['height']>_0x2cc16b['maxCubeMap'+'Size'])&&(_0x1004f2=c_(_0x1004f2,_0x2cc16b['maxCubeMap'+'Size']),_0x449dc2===0x23cd+-0x1411+0x2*-0x7de&&(_0x49d357['_width']=_0x1004f2['width'],_0x49d357['_height']=_0x1004f2['height'])),_0x2cc16b['setUnpackF'+'lipY'](!(-0x10f*-0x24+0x1320+-0x393b)),_0x2cc16b['setUnpackP'+'remultiply'+'Alpha'](_0x49d357['_premultip'+'lyAlpha']),this['_glCreated']?_0x411ef5['texSubImag'+'e2D'](_0x411ef5['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x38ca09,_0x449dc2,0xb82*0x3+0x13e0+-0x16*0x279,0x1f70*0x1+0x7*-0x26e+-0xe6e,this['_glFormat'],this['_glPixelTy'+'pe'],_0x1004f2):_0x411ef5['texImage2D'](_0x411ef5['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x38ca09,_0x449dc2,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x1004f2);}else for(_0x44cc95=(0x1*-0x243e+0x12d8+-0x37b*-0x5)/Math['pow'](0x4cd+0x500+-0x9cb,_0x449dc2),_0x38ca09=0x403*0x7+-0x1*0x1c8d+0x5*0x18;_0x38ca09<0x47*-0x5f+0xca7+-0x2*-0x6dc;_0x38ca09++){if(!_0x49d357['_levelsUpd'+'ated'][0x7*0x185+0x1f30+0x3*-0xdf1][_0x38ca09])continue;const _0x8ce1eb=_0x247623[_0x38ca09];_0x49d357['_compresse'+'d']?this['_glCreated']&&_0x8ce1eb?_0x411ef5['compressed'+'TexSubImag'+'e2D'](_0x411ef5['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x38ca09,_0x449dc2,-0x99*-0x1d+0x1097+0x1a*-0x14e,-0x252d*0x1+-0x11*0x203+-0x1*-0x4760,Math['max'](_0x49d357['_width']*_0x44cc95,0x5*0x71f+0x1606+-0x8*0x734),Math['max'](_0x49d357['_height']*_0x44cc95,-0x22a5+-0xc*-0x244+0x776),this['_glInterna'+'lFormat'],_0x8ce1eb):_0x411ef5['compressed'+'TexImage2D'](_0x411ef5['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x38ca09,_0x449dc2,this['_glInterna'+'lFormat'],Math['max'](_0x49d357['_width']*_0x44cc95,0x8*-0x3e6+-0x846+0x2777),Math['max'](_0x49d357['_height']*_0x44cc95,-0x1*-0x1ad9+-0xdf*-0x18+0x20*-0x17e),0x1422+-0xbda+-0x848,_0x8ce1eb):(_0x2cc16b['setUnpackF'+'lipY'](!(0x23b0+0x80*0x20+-0x33af)),_0x2cc16b['setUnpackP'+'remultiply'+'Alpha'](_0x49d357['_premultip'+'lyAlpha']),this['_glCreated']&&_0x8ce1eb?_0x411ef5['texSubImag'+'e2D'](_0x411ef5['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x38ca09,_0x449dc2,0xa62*0x2+0x13*0x94+-0x1fc0,-0x1521+0x9*0x107+0xbe2,Math['max'](_0x49d357['_width']*_0x44cc95,-0x209c+-0x136*0x9+0x2b83),Math['max'](_0x49d357['_height']*_0x44cc95,-0x2b4*-0xa+-0x2*-0xf90+-0x3a27),this['_glFormat'],this['_glPixelTy'+'pe'],_0x8ce1eb):_0x411ef5['texImage2D'](_0x411ef5['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x38ca09,_0x449dc2,this['_glInterna'+'lFormat'],Math['max'](_0x49d357['_width']*_0x44cc95,0xe9d+0xc4f+0x1*-0x1aeb),Math['max'](_0x49d357['_height']*_0x44cc95,-0x8*0x5+-0x2183+0x21ac),-0xb43+-0x1*0x1e9e+0x29e1,this['_glFormat'],this['_glPixelTy'+'pe'],_0x8ce1eb));}}else{if(_0x49d357['_volume'])_0x49d357['_compresse'+'d']?_0x411ef5['compressed'+'TexImage3D'](_0x411ef5['TEXTURE_3D'],_0x449dc2,this['_glInterna'+'lFormat'],Math['max'](_0x49d357['_width']*_0x44cc95,-0x1677+0x93a+0xd3e),Math['max'](_0x49d357['_height']*_0x44cc95,-0x2*-0x1332+-0xcad+-0x19b6),Math['max'](_0x49d357['_depth']*_0x44cc95,0xe6*-0x3+0x279+0x3a),0xc5*0x1a+-0x484+0x1*-0xf7e,_0x247623):(_0x2cc16b['setUnpackF'+'lipY'](!(0x19df*-0x1+0x1*0x1943+0x9d)),_0x2cc16b['setUnpackP'+'remultiply'+'Alpha'](_0x49d357['_premultip'+'lyAlpha']),_0x411ef5['texImage3D'](_0x411ef5['TEXTURE_3D'],_0x449dc2,this['_glInterna'+'lFormat'],Math['max'](_0x49d357['_width']*_0x44cc95,-0xbb5+-0x82a+0x13e0),Math['max'](_0x49d357['_height']*_0x44cc95,-0xa0c+-0x2344+-0x2d51*-0x1),Math['max'](_0x49d357['_depth']*_0x44cc95,-0x5*0x4b5+-0x4f*-0x1d+0x2d*0x53),-0x1*0x1b01+0x2598+-0xa97*0x1,this['_glFormat'],this['_glPixelTy'+'pe'],_0x247623));else{if(_0x49d357['array']&&typeof _0x247623=='object'){if(_0x49d357['_arrayLeng'+'th']===_0x247623['length']){if(_0x49d357['_compresse'+'d']){for(let _0x1f88d7=-0x61c+-0x172e+0x1d4a;_0x1f88d7<_0x49d357['_arrayLeng'+'th'];_0x1f88d7++)_0x411ef5['compressed'+'TexSubImag'+'e3D'](_0x411ef5['TEXTURE_2D'+'_ARRAY'],_0x449dc2,0xee*0x1d+0x16f7*-0x1+0x5d*-0xb,0x10c9+-0x1967+0x2*0x44f,_0x1f88d7,Math['max'](Math['floor'](_0x49d357['_width']*_0x44cc95),-0x1c*-0x11e+-0x1*-0x25b9+-0x5c0*0xc),Math['max'](Math['floor'](_0x49d357['_height']*_0x44cc95),0xe7*0x23+0x497+-0x242b),-0x2169*-0x1+-0x8*0x16+-0x20b8,this['_glInterna'+'lFormat'],_0x247623[_0x1f88d7]);}else{for(let _0x444108=0xb46*-0x2+-0x2*0x12ce+-0x604*-0xa;_0x444108<_0x49d357['_arrayLeng'+'th'];_0x444108++)_0x411ef5['texSubImag'+'e3D'](_0x411ef5['TEXTURE_2D'+'_ARRAY'],_0x449dc2,0x2b7+-0x156b*0x1+0x12b4,0x3d*-0x91+0x102a*0x1+0x1263,_0x444108,Math['max'](Math['floor'](_0x49d357['_width']*_0x44cc95),0x812+-0x23b*0x11+0x1*0x1dda),Math['max'](Math['floor'](_0x49d357['_height']*_0x44cc95),0x1*0x1bbf+-0x226e+-0x6b*-0x10),-0x5fd+-0x3*0x50b+0x1*0x151f,this['_glFormat'],this['_glPixelTy'+'pe'],_0x247623[_0x444108]);}}}else{if(_0x2cc16b['_isBrowser'+'Interface'](_0x247623)){_0x2cc16b['_isImageBr'+'owserInter'+'face'](_0x247623)&&(_0x247623['width']>_0x2cc16b['maxTexture'+'Size']||_0x247623['height']>_0x2cc16b['maxTexture'+'Size'])&&(_0x247623=c_(_0x247623,_0x2cc16b['maxTexture'+'Size']),_0x449dc2===0xc5*-0x3+0x8dd*-0x2+0x1409&&(_0x49d357['_width']=_0x247623['width'],_0x49d357['_height']=_0x247623['height']));const _0x4cbe5f=_0x247623['width']||_0x247623['videoWidth'],_0x151880=_0x247623['height']||_0x247623['videoHeigh'+'t'];_0x2cc16b['setUnpackF'+'lipY'](_0x49d357['_flipY']),_0x2cc16b['setUnpackP'+'remultiply'+'Alpha'](_0x49d357['_premultip'+'lyAlpha']),this['_glCreated']&&_0x49d357['_width']===_0x4cbe5f&&_0x49d357['_height']===_0x151880&&!_0x2cc16b['_isImageVi'+'deoInterfa'+'ce'](_0x247623)?_0x411ef5['texSubImag'+'e2D'](_0x411ef5['TEXTURE_2D'],_0x449dc2,0x707+-0x1b*0x19+-0x232*0x2,-0x1*-0x12+-0x1*0xf23+0x1*0xf11,this['_glFormat'],this['_glPixelTy'+'pe'],_0x247623):(_0x411ef5['texImage2D'](_0x411ef5['TEXTURE_2D'],_0x449dc2,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x247623),_0x449dc2===0x23f2+-0x22*-0x125+-0x4adc&&(_0x49d357['_width']=_0x4cbe5f,_0x49d357['_height']=_0x151880));}else _0x44cc95=(0x1cac+0x1f7f+0x3*-0x140e)/Math['pow'](-0xdf2+0x1e7*0xf+0xe95*-0x1,_0x449dc2),_0x49d357['_compresse'+'d']?this['_glCreated']&&_0x247623?_0x411ef5['compressed'+'TexSubImag'+'e2D'](_0x411ef5['TEXTURE_2D'],_0x449dc2,0x2578+-0x1694*-0x1+-0xf03*0x4,-0x17dc+0x1330+0x4ac,Math['max'](Math['floor'](_0x49d357['_width']*_0x44cc95),-0x2eb*0xb+0x2b*-0x1f+0x254f),Math['max'](Math['floor'](_0x49d357['_height']*_0x44cc95),0x22e7+0x1f03+0x167*-0x2f),this['_glInterna'+'lFormat'],_0x247623):_0x411ef5['compressed'+'TexImage2D'](_0x411ef5['TEXTURE_2D'],_0x449dc2,this['_glInterna'+'lFormat'],Math['max'](Math['floor'](_0x49d357['_width']*_0x44cc95),-0x1ea7+0x1*-0x4ff+-0x23a7*-0x1),Math['max'](Math['floor'](_0x49d357['_height']*_0x44cc95),0x195*-0xb+-0x1307+0x246f*0x1),-0x3b*-0x89+0x5*0x1b1+-0xf4*0x2a,_0x247623):(_0x2cc16b['setUnpackF'+'lipY'](!(-0xb2*-0xa+0x24d9*-0x1+0x1de6)),_0x2cc16b['setUnpackP'+'remultiply'+'Alpha'](_0x49d357['_premultip'+'lyAlpha']),this['_glCreated']&&_0x247623?_0x411ef5['texSubImag'+'e2D'](_0x411ef5['TEXTURE_2D'],_0x449dc2,0x1*-0x24df+0x21*-0xb5+0x3c34,-0x1a07+-0x1fe2+-0x251*-0x19,Math['max'](_0x49d357['_width']*_0x44cc95,0x2299*-0x1+0xa*0x2ae+0x7ce),Math['max'](_0x49d357['_height']*_0x44cc95,-0x30d*0x3+0xb*-0x35+0xb6f),this['_glFormat'],this['_glPixelTy'+'pe'],_0x247623):_0x411ef5['texImage2D'](_0x411ef5['TEXTURE_2D'],_0x449dc2,this['_glInterna'+'lFormat'],Math['max'](_0x49d357['_width']*_0x44cc95,0x2b*-0x76+-0x1cd*0x5+0x1cd4),Math['max'](_0x49d357['_height']*_0x44cc95,0x16cd*-0x1+0xdc7+0x1*0x907),-0x1efa+-0x2438+0x4332,this['_glFormat'],this['_glPixelTy'+'pe'],_0x247623));_0x449dc2===-0x17ea+0x4*0x377+0xa0e?_0x49d357['_mipmapsUp'+'loaded']=!(0x526+0x1ff1+-0x1*0x2516):_0x49d357['_mipmapsUp'+'loaded']=!(0x1377+0x2447+0xa*-0x593);}}}_0x449dc2++;}if(_0x49d357['_needsUplo'+'ad']){if(_0x49d357['_cubemap']){for(let _0x25a538=0x22e6+0xf01*0x1+-0x31e7;_0x25a538<-0x1f08+0x2000+-0xb*0x16;_0x25a538++)_0x49d357['_levelsUpd'+'ated'][-0x6*-0x282+-0xd4*-0x7+-0x74*0x2e][_0x25a538]=!(-0x38*-0x84+-0x128a+-0x17*0x73);}else _0x49d357['_levelsUpd'+'ated'][-0x2*-0xa18+-0x9c+0xe*-0x166]=!(-0x20ff+-0x1*-0x439+0x1cc7);}!_0x49d357['_compresse'+'d']&&!_0x49d357['_integerFo'+'rmat']&&_0x49d357['_mipmaps']&&_0x49d357['_needsMipm'+'apsUpload']&&_0x49d357['_levels']['length']===-0x1105+-0x8*0x3e5+0x302e&&(_0x411ef5['generateMi'+'pmap'](this['_glTarget']),_0x49d357['_mipmapsUp'+'loaded']=!(0x12*0x1de+0x1781+-0x391d)),_0x49d357['_gpuSize']&&_0x49d357['adjustVram'+'SizeTracki'+'ng'](_0x2cc16b['_vram'],-_0x49d357['_gpuSize']),_0x49d357['_gpuSize']=_0x49d357['gpuSize'],_0x49d357['adjustVram'+'SizeTracki'+'ng'](_0x2cc16b['_vram'],_0x49d357['_gpuSize']),this['_glCreated']=!(0x51b*0x2+0x1*0x1b59+-0x258f*0x1);}['read'](_0x2849f0,_0x25cde3,_0x455d7c,_0x29bae4,_0x447e24){const _0x16df94=this['texture'];return _0x16df94['device']['readTextur'+'eAsync'](_0x16df94,_0x2849f0,_0x25cde3,_0x455d7c,_0x29bae4,_0x447e24);}['write'](_0x668370,_0x4a612f,_0x4efc0d,_0x22517d,_0x778954){const {texture:_0x4474fb}=this,{device:_0xd7b6ab}=_0x4474fb;return _0xd7b6ab['setTexture'](_0x4474fb,-0x454*-0x3+0x4f0*0x6+-0x2a9c),_0xd7b6ab['writeTextu'+'reAsync'](_0x4474fb,_0x668370,_0x4a612f,_0x4efc0d,_0x22517d,_0x778954);}}class tw{constructor(_0x46c7a1,_0x13738c){h(this,'msaaFB'),h(this,'resolveFB'),(this['msaaFB']=_0x46c7a1,this['resolveFB']=_0x13738c);}['destroy'](_0x708cf1){this['msaaFB']&&(_0x708cf1['deleteRend'+'erbuffer'](this['msaaFB']),this['msaaFB']=null),this['resolveFB']&&(_0x708cf1['deleteRend'+'erbuffer'](this['resolveFB']),this['resolveFB']=null);}}class sw{constructor(){h(this,'_glFrameBu'+'ffer',null),h(this,'_glDepthBu'+'ffer',null),h(this,'_glResolve'+'FrameBuffe'+'r',null),h(this,'colorMrtFr'+'amebuffers',null),h(this,'_glMsaaCol'+'orBuffers',[]),h(this,'_glMsaaDep'+'thBuffer',null),h(this,'msaaDepthB'+'ufferKey'),h(this,'suppliedCo'+'lorFramebu'+'ffer'),h(this,'_isInitial'+'ized',!(0x1*-0x164e+-0x20ea+0x3739));}['destroy'](_0x2ff1eb){var _0x3d31cc;const _0x2719db=_0x2ff1eb['gl'];this['_isInitial'+'ized']=!(0x18a9+0xc*-0xa4+-0x10f8*0x1),this['_glFrameBu'+'ffer']&&(this['_glFrameBu'+'ffer']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x2719db['deleteFram'+'ebuffer'](this['_glFrameBu'+'ffer']),this['_glFrameBu'+'ffer']=null),this['_glDepthBu'+'ffer']&&(_0x2719db['deleteRend'+'erbuffer'](this['_glDepthBu'+'ffer']),this['_glDepthBu'+'ffer']=null),this['_glResolve'+'FrameBuffe'+'r']&&(this['_glResolve'+'FrameBuffe'+'r']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x2719db['deleteFram'+'ebuffer'](this['_glResolve'+'FrameBuffe'+'r']),this['_glResolve'+'FrameBuffe'+'r']=null),this['_glMsaaCol'+'orBuffers']['forEach'](_0x539a85=>{_0x2719db['deleteRend'+'erbuffer'](_0x539a85);}),this['_glMsaaCol'+'orBuffers']['length']=-0x1659+-0x13c2+0xe09*0x3,(_0x3d31cc=this['colorMrtFr'+'amebuffers'])==null||_0x3d31cc['forEach'](_0x2c85a7=>{_0x2c85a7['destroy'](_0x2719db);}),this['colorMrtFr'+'amebuffers']=null,this['_glMsaaDep'+'thBuffer']&&(this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']&&Fd(_0x2ff1eb)['release'](this['msaaDepthB'+'ufferKey'])),this['suppliedCo'+'lorFramebu'+'ffer']=void(0x14a0+0x45*-0x2f+-0x7f5);}get['initialize'+'d'](){return this['_isInitial'+'ized'];}['init'](_0x493b99,_0x338391){var _0x21060d,_0x52434d;const _0x48ecb4=_0x493b99['gl'];w['assert'](!this['_isInitial'+'ized'],'Render\x20tar'+'get\x20alread'+'y\x20initiali'+'zed.'),this['_isInitial'+'ized']=!(0xb7d+0x23ef+-0x2f6c);const _0x302089=[];if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0x9d6+0x5*0x4bb+-0x217d))this['_glFrameBu'+'ffer']=this['suppliedCo'+'lorFramebu'+'ffer'];else{w['call'](()=>{(_0x338391['width']<=0x13da+-0xf64*0x2+0x1*0xaee||_0x338391['height']<=0x2*-0x826+-0xa*-0x33b+0x556*-0x3)&&w['warnOnce']('Invalid\x20re'+'nder\x20targe'+'t\x20size:\x20'+_0x338391['width']+'\x20x\x20'+_0x338391['height'],_0x338391);}),this['_glFrameBu'+'ffer']=_0x48ecb4['createFram'+'ebuffer'](),_0x493b99['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x2e77a6=((_0x21060d=_0x338391['_colorBuff'+'ers'])==null?void(0x500+-0x1*-0xcc7+-0x3*0x5ed):_0x21060d['length'])??-0xbab+0xb*-0x71+-0x6*-0x2c1,_0x2424ca=_0x48ecb4['COLOR_ATTA'+'CHMENT0'];for(let _0x215f88=-0x6d6+-0x21d6+0x13*0x224;_0x215f88<_0x2e77a6;++_0x215f88){const _0x1fd5fe=_0x338391['getColorBu'+'ffer'](_0x215f88);_0x1fd5fe&&(_0x1fd5fe['impl']['_glTexture']||(_0x1fd5fe['_width']=Math['min'](_0x1fd5fe['width'],_0x493b99['maxRenderB'+'ufferSize']),_0x1fd5fe['_height']=Math['min'](_0x1fd5fe['height'],_0x493b99['maxRenderB'+'ufferSize']),_0x493b99['setTexture'](_0x1fd5fe,0x94d+-0x69f+-0x2ae)),_0x48ecb4['framebuffe'+'rTexture2D'](_0x48ecb4['FRAMEBUFFE'+'R'],_0x2424ca+_0x215f88,_0x1fd5fe['_cubemap']?_0x48ecb4['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x338391['_face']:_0x48ecb4['TEXTURE_2D'],_0x1fd5fe['impl']['_glTexture'],_0x338391['mipLevel']),_0x302089['push'](_0x2424ca+_0x215f88));}_0x48ecb4['drawBuffer'+'s'](_0x302089);const _0x5a4312=_0x338391['_depthBuff'+'er'];if(_0x5a4312||_0x338391['_depth']){const _0x483c09=_0x338391['_stencil']?_0x48ecb4['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x48ecb4['DEPTH_ATTA'+'CHMENT'];if(_0x5a4312)_0x5a4312['impl']['_glTexture']||(_0x5a4312['_width']=Math['min'](_0x5a4312['width'],_0x493b99['maxRenderB'+'ufferSize']),_0x5a4312['_height']=Math['min'](_0x5a4312['height'],_0x493b99['maxRenderB'+'ufferSize']),_0x493b99['setTexture'](_0x5a4312,-0x228*0xd+0xb33+0x10d5)),_0x48ecb4['framebuffe'+'rTexture2D'](_0x48ecb4['FRAMEBUFFE'+'R'],_0x483c09,_0x5a4312['_cubemap']?_0x48ecb4['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x338391['_face']:_0x48ecb4['TEXTURE_2D'],_0x338391['_depthBuff'+'er']['impl']['_glTexture'],_0x338391['mipLevel']);else{if(!(_0x338391['_samples']>-0x4*-0x65+-0xc*-0x191+-0x145f)){this['_glDepthBu'+'ffer']||(this['_glDepthBu'+'ffer']=_0x48ecb4['createRend'+'erbuffer']());const _0x5c4124=_0x338391['_stencil']?_0x48ecb4['DEPTH24_ST'+'ENCIL8']:_0x48ecb4['DEPTH_COMP'+'ONENT32F'];_0x48ecb4['bindRender'+'buffer'](_0x48ecb4['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x48ecb4['renderbuff'+'erStorage'](_0x48ecb4['RENDERBUFF'+'ER'],_0x5c4124,_0x338391['width'],_0x338391['height']),_0x48ecb4['framebuffe'+'rRenderbuf'+'fer'](_0x48ecb4['FRAMEBUFFE'+'R'],_0x483c09,_0x48ecb4['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x48ecb4['bindRender'+'buffer'](_0x48ecb4['RENDERBUFF'+'ER'],null);}}}w['call'](()=>this['_checkFbo'](_0x493b99,_0x338391));}if(_0x338391['_samples']>-0x7a4+0x463*-0x1+-0xa*-0x134){this['_glResolve'+'FrameBuffe'+'r']=this['_glFrameBu'+'ffer'],this['_glFrameBu'+'ffer']=_0x48ecb4['createFram'+'ebuffer'](),_0x493b99['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x3146c0=((_0x52434d=_0x338391['_colorBuff'+'ers'])==null?void(0x2*-0x60b+0x7f*0x8+-0x81e*-0x1):_0x52434d['length'])??-0x1e5d+0x1*0x14b9+0x9a4;if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0xd*0x1f5+0x2001*-0x1+-0x10*-0x69)){const _0x5f05ea=_0x48ecb4['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x5f05ea);const _0x403d2f=_0x493b99['backBuffer'+'Format']===Ne?_0x48ecb4['RGBA8']:_0x48ecb4['RGB8'];_0x48ecb4['bindRender'+'buffer'](_0x48ecb4['RENDERBUFF'+'ER'],_0x5f05ea),_0x48ecb4['renderbuff'+'erStorageM'+'ultisample'](_0x48ecb4['RENDERBUFF'+'ER'],_0x338391['_samples'],_0x403d2f,_0x338391['width'],_0x338391['height']),_0x48ecb4['framebuffe'+'rRenderbuf'+'fer'](_0x48ecb4['FRAMEBUFFE'+'R'],_0x48ecb4['COLOR_ATTA'+'CHMENT0'],_0x48ecb4['RENDERBUFF'+'ER'],_0x5f05ea);}else for(let _0x34cce8=0xc7*0x7+-0x1a2e+0x14bd;_0x34cce8<_0x3146c0;++_0x34cce8){const _0x4c0ff5=_0x338391['getColorBu'+'ffer'](_0x34cce8);if(_0x4c0ff5){const _0x5e22eb=_0x48ecb4['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x5e22eb),_0x48ecb4['bindRender'+'buffer'](_0x48ecb4['RENDERBUFF'+'ER'],_0x5e22eb),_0x48ecb4['renderbuff'+'erStorageM'+'ultisample'](_0x48ecb4['RENDERBUFF'+'ER'],_0x338391['_samples'],_0x4c0ff5['impl']['_glInterna'+'lFormat'],_0x338391['width'],_0x338391['height']),_0x48ecb4['framebuffe'+'rRenderbuf'+'fer'](_0x48ecb4['FRAMEBUFFE'+'R'],_0x48ecb4['COLOR_ATTA'+'CHMENT0']+_0x34cce8,_0x48ecb4['RENDERBUFF'+'ER'],_0x5e22eb);}}if(_0x338391['_depth']){w['assert'](!this['_glMsaaDep'+'thBuffer']);const _0x4aa1a1=_0x338391['_stencil']?_0x48ecb4['DEPTH24_ST'+'ENCIL8']:_0x48ecb4['DEPTH_COMP'+'ONENT32F'],_0x33e889=_0x338391['_stencil']?_0x48ecb4['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x48ecb4['DEPTH_ATTA'+'CHMENT'];let _0x176690;const _0x221f2d=_0x338391['_depthBuff'+'er'];_0x221f2d&&(_0x176690=_0x221f2d['id']+':'+_0x338391['width']+':'+_0x338391['height']+':'+_0x338391['_samples']+':'+_0x4aa1a1+':'+_0x33e889,this['_glMsaaDep'+'thBuffer']=Fd(_0x493b99)['get'](_0x176690)),this['_glMsaaDep'+'thBuffer']||(this['_glMsaaDep'+'thBuffer']=_0x48ecb4['createRend'+'erbuffer'](),_0x48ecb4['bindRender'+'buffer'](_0x48ecb4['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']),_0x48ecb4['renderbuff'+'erStorageM'+'ultisample'](_0x48ecb4['RENDERBUFF'+'ER'],_0x338391['_samples'],_0x4aa1a1,_0x338391['width'],_0x338391['height']),this['_glMsaaDep'+'thBuffer']['destroy']=function(){_0x48ecb4['deleteRend'+'erbuffer'](this);},_0x221f2d&&Fd(_0x493b99)['set'](_0x176690,this['_glMsaaDep'+'thBuffer'])),this['msaaDepthB'+'ufferKey']=_0x176690,_0x48ecb4['framebuffe'+'rRenderbuf'+'fer'](_0x48ecb4['FRAMEBUFFE'+'R'],_0x33e889,_0x48ecb4['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']);}w['call'](()=>this['_checkFbo'](_0x493b99,_0x338391,'MSAA')),_0x3146c0>0x1464+-0xaed*-0x1+-0x1f50&&(this['_createMsa'+'aMrtFrameb'+'uffers'](_0x493b99,_0x338391,_0x3146c0),_0x493b99['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']),_0x48ecb4['drawBuffer'+'s'](_0x302089));}}['_createMsa'+'aMrtFrameb'+'uffers'](_0x25d2f1,_0x129b8a,_0x6bb84d){const _0x3c4530=_0x25d2f1['gl'];this['colorMrtFr'+'amebuffers']=[];for(let _0x3eaa72=-0x8*0x4e1+0x1e3+0x2525;_0x3eaa72<_0x6bb84d;++_0x3eaa72){const _0x97cbdc=_0x129b8a['getColorBu'+'ffer'](_0x3eaa72),_0x3f1122=_0x3c4530['createFram'+'ebuffer']();_0x25d2f1['setFramebu'+'ffer'](_0x3f1122);const _0x1aa846=this['_glMsaaCol'+'orBuffers'][_0x3eaa72];_0x3c4530['bindRender'+'buffer'](_0x3c4530['RENDERBUFF'+'ER'],_0x1aa846),_0x3c4530['renderbuff'+'erStorageM'+'ultisample'](_0x3c4530['RENDERBUFF'+'ER'],_0x129b8a['_samples'],_0x97cbdc['impl']['_glInterna'+'lFormat'],_0x129b8a['width'],_0x129b8a['height']),_0x3c4530['framebuffe'+'rRenderbuf'+'fer'](_0x3c4530['FRAMEBUFFE'+'R'],_0x3c4530['COLOR_ATTA'+'CHMENT0'],_0x3c4530['RENDERBUFF'+'ER'],_0x1aa846),_0x3c4530['drawBuffer'+'s']([_0x3c4530['COLOR_ATTA'+'CHMENT0']]),w['call'](()=>this['_checkFbo'](_0x25d2f1,_0x129b8a,'MSAA-MRT-s'+'rc'+_0x3eaa72));const _0x3cb45e=_0x3c4530['createFram'+'ebuffer']();_0x25d2f1['setFramebu'+'ffer'](_0x3cb45e),_0x3c4530['framebuffe'+'rTexture2D'](_0x3c4530['FRAMEBUFFE'+'R'],_0x3c4530['COLOR_ATTA'+'CHMENT0'],_0x97cbdc['_cubemap']?_0x3c4530['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x129b8a['_face']:_0x3c4530['TEXTURE_2D'],_0x97cbdc['impl']['_glTexture'],-0x7c5+-0x97b+0x1140),this['colorMrtFr'+'amebuffers'][_0x3eaa72]=new tw(_0x3f1122,_0x3cb45e),w['call'](()=>this['_checkFbo'](_0x25d2f1,_0x129b8a,'MSAA-MRT-d'+'st'+_0x3eaa72));}}['_checkFbo'](_0x9b444,_0x4638b0,_0xb9d21=''){const _0x7212ca=_0x9b444['gl'],_0x2a8e3b=_0x7212ca['checkFrame'+'bufferStat'+'us'](_0x7212ca['FRAMEBUFFE'+'R']);let _0x30b63d;switch(_0x2a8e3b){case _0x7212ca['FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT']:_0x30b63d='FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT';break;case _0x7212ca['FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T']:_0x30b63d='FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T';break;case _0x7212ca['FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS']:_0x30b63d='FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS';break;case _0x7212ca['FRAMEBUFFE'+'R_UNSUPPOR'+'TED']:_0x30b63d='FRAMEBUFFE'+'R_UNSUPPOR'+'TED';break;}w['assert'](!_0x30b63d,'Framebuffe'+'r\x20creation'+'\x20failed\x20wi'+'th\x20error\x20c'+'ode\x20'+_0x30b63d+(',\x20render\x20t'+'arget:\x20')+_0x4638b0['name']+'\x20'+_0xb9d21,_0x4638b0);}['loseContex'+'t'](){this['_glFrameBu'+'ffer']=null,this['_glDepthBu'+'ffer']=null,this['_glResolve'+'FrameBuffe'+'r']=null,this['_glMsaaCol'+'orBuffers']['length']=-0x1*-0x158b+0xf*0x1f9+0x77*-0x6e,this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']=void(0x268f*-0x1+-0x19c2+-0x1bd*-0x25),this['colorMrtFr'+'amebuffers']=null,this['suppliedCo'+'lorFramebu'+'ffer']=void(0x1*-0x51b+0xacf*0x2+-0x1083),this['_isInitial'+'ized']=!(-0x2f7*0x1+-0x219f*-0x1+-0x19d*0x13);}['internalRe'+'solve'](_0x5e9d97,_0x58b198,_0x43a740,_0x32b758,_0x2db1fa){w['assert'](_0x58b198!==_0x43a740,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x5e9d97['setScissor'](0x14f*-0x13+0x1141+0x79c,-0x506*-0x1+0x1bb6+-0x20bc,_0x32b758['width'],_0x32b758['height']);const _0x537f2a=_0x5e9d97['gl'];_0x537f2a['bindFrameb'+'uffer'](_0x537f2a['READ_FRAME'+'BUFFER'],_0x58b198),_0x537f2a['bindFrameb'+'uffer'](_0x537f2a['DRAW_FRAME'+'BUFFER'],_0x43a740),_0x537f2a['blitFrameb'+'uffer'](0xa0a*0x1+-0x2346+0x193c,0x1*-0xbfe+0x1*-0x1c3f+0x283d,_0x32b758['width'],_0x32b758['height'],-0x2128+0x10ca*0x1+0x82f*0x2,-0x8eb+0x2*0x1358+-0x1dc5,_0x32b758['width'],_0x32b758['height'],_0x2db1fa,_0x537f2a['NEAREST']);}['resolve'](_0x10fa99,_0x1ba1f2,_0x57b19d,_0x5af803){const _0x2a7e0f=_0x10fa99['gl'];if(this['colorMrtFr'+'amebuffers']){if(_0x57b19d)for(let _0x130eca=0xb03+0x1beb+-0x1*0x26ee;_0x130eca<this['colorMrtFr'+'amebuffers']['length'];_0x130eca++){const _0x41a652=this['colorMrtFr'+'amebuffers'][_0x130eca];Q['pushGpuMar'+'ker'](_0x10fa99,'RESOLVE-MR'+'T'+_0x130eca),this['internalRe'+'solve'](_0x10fa99,_0x41a652['msaaFB'],_0x41a652['resolveFB'],_0x1ba1f2,_0x2a7e0f['COLOR_BUFF'+'ER_BIT']),Q['popGpuMark'+'er'](_0x10fa99);}_0x5af803&&(Q['pushGpuMar'+'ker'](_0x10fa99,'RESOLVE-MR'+'T-DEPTH'),this['internalRe'+'solve'](_0x10fa99,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x1ba1f2,_0x2a7e0f['DEPTH_BUFF'+'ER_BIT']),Q['popGpuMark'+'er'](_0x10fa99));}else Q['pushGpuMar'+'ker'](_0x10fa99,'RESOLVE'),this['internalRe'+'solve'](_0x10fa99,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x1ba1f2,(_0x57b19d?_0x2a7e0f['COLOR_BUFF'+'ER_BIT']:-0x1*0x841+-0x1bac+0x23ed)|(_0x5af803?_0x2a7e0f['DEPTH_BUFF'+'ER_BIT']:-0x3*0x6c5+0x11*-0x239+0x3a18)),Q['popGpuMark'+'er'](_0x10fa99);_0x2a7e0f['bindFrameb'+'uffer'](_0x2a7e0f['FRAMEBUFFE'+'R'],this['_glFrameBu'+'ffer']);}}class iw{constructor(){h(this,'renderVers'+'ion'),h(this,'queries',[]);}['destroy'](_0x437948){this['queries']['forEach'](_0x339cc1=>_0x437948['deleteQuer'+'y'](_0x339cc1)),this['queries']=null;}}class rw extends $T{constructor(_0x37ba18){super(),h(this,'device'),h(this,'freeQuerie'+'s',[]),h(this,'frameQueri'+'es',[]),h(this,'previousFr'+'ameQueries',[]),h(this,'timings',[]),(this['device']=_0x37ba18,this['ext']=_0x37ba18['extDisjoin'+'tTimerQuer'+'y']);}['destroy'](){this['freeQuerie'+'s']['forEach'](_0xd304a9=>this['device']['gl']['deleteQuer'+'y'](_0xd304a9)),this['frameQueri'+'es']['forEach'](_0xb8a755=>this['device']['gl']['deleteQuer'+'y'](_0xb8a755)),this['previousFr'+'ameQueries']['forEach'](_0x108b97=>_0x108b97['destroy'](this['device']['gl'])),this['freeQuerie'+'s']=null,this['frameQueri'+'es']=null,this['previousFr'+'ameQueries']=null;}['loseContex'+'t'](){super['loseContex'+'t'](),this['freeQuerie'+'s']=[],this['frameQueri'+'es']=[],this['previousFr'+'ameQueries']=[];}['restoreCon'+'text'](){this['ext']=this['device']['extDisjoin'+'tTimerQuer'+'y'];}['getQuery'](){return this['freeQuerie'+'s']['pop']()??this['device']['gl']['createQuer'+'y']();}['start'](_0x5ee3c3){if(this['ext']){const _0x9d8ddf=this['getSlot'](_0x5ee3c3),_0x318123=this['getQuery']();return this['frameQueri'+'es'][_0x9d8ddf]=_0x318123,this['device']['gl']['beginQuery'](this['ext']['TIME_ELAPS'+'ED_EXT'],_0x318123),_0x9d8ddf;}}['end'](_0x4d5797){_0x4d5797!==void(0x5*-0x502+0x8*0x277+0x2a9*0x2)&&this['device']['gl']['endQuery'](this['ext']['TIME_ELAPS'+'ED_EXT']);}['frameStart'](){this['processEna'+'bleRequest'](),this['_enabled']&&(this['frameGPUMa'+'rkerSlot']=this['start']('GpuFrame'));}['frameEnd'](){this['_enabled']&&this['end'](this['frameGPUMa'+'rkerSlot']);}['request'](){if(this['_enabled']){const _0x2c308=this['ext'],_0x184e8=this['device']['gl'],_0x77a543=this['device']['renderVers'+'ion'],_0x125d95=this['frameQueri'+'es'];if(_0x125d95['length']>-0x22dc+0xbe0+0x2*0xb7e){this['frameQueri'+'es']=[];const _0x20a6e4=new iw();_0x20a6e4['queries']=_0x125d95,_0x20a6e4['renderVers'+'ion']=_0x77a543,this['previousFr'+'ameQueries']['push'](_0x20a6e4);}if(this['previousFr'+'ameQueries']['length']>-0x1245+0xe5*0x24+-0xdef){const _0x487c8e=this['previousFr'+'ameQueries'][0x2163+0x11*0x43+-0x25d6],_0x183a1b=_0x487c8e['queries'],_0x135fa3=_0x183a1b[_0x183a1b['length']-(-0x1*-0x2361+-0xdf8+0x28*-0x89)],_0x447992=_0x184e8['getQueryPa'+'rameter'](_0x135fa3,_0x184e8['QUERY_RESU'+'LT_AVAILAB'+'LE']),_0x3cca0b=_0x184e8['getParamet'+'er'](_0x2c308['GPU_DISJOI'+'NT_EXT']);if(_0x447992&&!_0x3cca0b){this['previousFr'+'ameQueries']['shift']();const _0x5a06db=this['timings'];_0x5a06db['length']=0x28a+-0x45*0x44+0xfca;for(let _0xaccc19=-0x2*-0x337+-0x14a0+0x2e*0x4f;_0xaccc19<_0x183a1b['length'];_0xaccc19++){const _0x33e93b=_0x183a1b[_0xaccc19],_0x22b70e=_0x184e8['getQueryPa'+'rameter'](_0x33e93b,_0x184e8['QUERY_RESU'+'LT']);_0x5a06db[_0xaccc19]=_0x22b70e*(-0x11b3+-0x104c+0x3*0xb55+0.000001),this['freeQuerie'+'s']['push'](_0x33e93b);}this['report'](_0x487c8e['renderVers'+'ion'],_0x5a06db);}_0x3cca0b&&(this['previousFr'+'ameQueries']['forEach'](_0x38a674=>{this['report'](_0x38a674['renderVers'+'ion'],null),_0x38a674['destroy'](_0x184e8);}),this['previousFr'+'ameQueries']['length']=0x1*0x1af2+-0x1*-0x1ba7+0x3699*-0x1);}super['request'](_0x77a543);}}}const Da=[];class aw extends $e{constructor(_0x5221a2,_0x4face2={}){super(_0x5221a2,_0x4face2),h(this,'gl'),h(this,'_defaultFr'+'amebuffer',null),h(this,'_defaultFr'+'amebufferC'+'hanged',!(-0x215b*-0x1+0x737*-0x1+-0x1a23*0x1)),(_0x4face2=this['initOption'+'s'],this['updateClie'+'ntRect'](),this['initTextur'+'eUnits'](),this['contextLos'+'t']=!(0x6b*0x2c+0x1fba+0x1*-0x321d),this['_contextLo'+'stHandler']=_0x365856=>{_0x365856['preventDef'+'ault'](),this['loseContex'+'t'](),w['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20lost.'),this['fire']('devicelost');},this['_contextRe'+'storedHand'+'ler']=()=>{w['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20restore'+'d.'),this['restoreCon'+'text'](),this['fire']('devicerest'+'ored');});const _0xb55243=typeof navigator<'u'&&navigator['userAgent'];if(this['forceDisab'+'leMultisam'+'pling']=_0xb55243&&_0xb55243['includes']('AppleWebKi'+'t')&&(_0xb55243['includes']('15.4')||_0xb55243['includes']('15_4')),this['forceDisab'+'leMultisam'+'pling']&&(_0x4face2['antialias']=!(-0x2*0x28b+0xbe1*0x1+-0x6ca),w['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'AppleWebKi'+'t\x2015.4')),Ae['browserNam'+'e']==='firefox'){const _0x2b3ae4=(typeof navigator<'u'?navigator['userAgent']:'')['match'](/Firefox\/(\d+(\.\d+)*)/),_0x214dfa=_0x2b3ae4?_0x2b3ae4[0xe8e*-0x2+0x13f5+0x928*0x1]:null;if(_0x214dfa){const _0x3b90c3=parseFloat(_0x214dfa);(Ae['name']==='windows'&&(_0x3b90c3>=0x13d+0x2b0*-0x2+0x9*0x83||_0x3b90c3===0x102a+-0x86+-0xf31)||Ae['name']==='android'&&_0x3b90c3>=0x20af+-0x1*0x19ed+-0x63e)&&(_0x4face2['antialias']=!(-0x1d69+0x4ab+-0xb5*-0x23),w['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'Firefox\x20'+Ae['name']+('\x20platform\x20'+'version\x20')+_0x214dfa));}}this['backBuffer'+'Antialias']=_0x4face2['antialias']??!(-0x1*0x1e3b+0x1278+-0x2*-0x5e2),_0x4face2['antialias']=!(0x3c7*-0x1+0xde1+-0xa19);const _0x1696c4=_0x4face2['gl']??_0x5221a2['getContext']('webgl2',_0x4face2);if(!_0x1696c4)throw new Error('WebGL\x20not\x20'+'supported');this['gl']=_0x1696c4,this['isWebGL2']=!(-0x1*-0x245a+0x8*0x407+-0x4492),this['_deviceTyp'+'e']=aT,this['updateBack'+'bufferForm'+'at'](null);const _0x34bf9b=Ae['browserNam'+'e']==='chrome',_0x5e4dfd=Ae['browserNam'+'e']==='safari',_0x1b93d8=Ae['browser']&&navigator['appVersion']['indexOf']('Mac')!==-(0x1139*0x2+-0x1*-0x7c2+0x27*-0x115);this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']=_0x5e4dfd,this['_tempMacCh'+'romeBlitFr'+'amebufferW'+'orkaround']=_0x1b93d8&&_0x34bf9b&&!_0x4face2['alpha'],_0x5221a2['addEventLi'+'stener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(-0x5*0x3c6+-0xdfd+0x20dc)),_0x5221a2['addEventLi'+'stener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(0x13a9*-0x1+-0x1*0x1ff6+0x3b0*0xe)),this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes'](),this['createBack'+'buffer'](null),this['supportsIm'+'ageBitmap']=!_0x5e4dfd&&typeof ImageBitmap<'u',this['_samplerTy'+'pes']=new Set([_0x1696c4['SAMPLER_2D'],_0x1696c4['SAMPLER_CU'+'BE'],_0x1696c4['UNSIGNED_I'+'NT_SAMPLER'+'_2D'],_0x1696c4['INT_SAMPLE'+'R_2D'],_0x1696c4['SAMPLER_2D'+'_SHADOW'],_0x1696c4['SAMPLER_CU'+'BE_SHADOW'],_0x1696c4['SAMPLER_3D'],_0x1696c4['INT_SAMPLE'+'R_3D'],_0x1696c4['UNSIGNED_I'+'NT_SAMPLER'+'_3D'],_0x1696c4['SAMPLER_2D'+'_ARRAY'],_0x1696c4['INT_SAMPLE'+'R_2D_ARRAY'],_0x1696c4['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]),this['glAddress']=[_0x1696c4['REPEAT'],_0x1696c4['CLAMP_TO_E'+'DGE'],_0x1696c4['MIRRORED_R'+'EPEAT']],this['glBlendEqu'+'ation']=[_0x1696c4['FUNC_ADD'],_0x1696c4['FUNC_SUBTR'+'ACT'],_0x1696c4['FUNC_REVER'+'SE_SUBTRAC'+'T'],_0x1696c4['MIN'],_0x1696c4['MAX']],this['glBlendFun'+'ctionColor']=[_0x1696c4['ZERO'],_0x1696c4['ONE'],_0x1696c4['SRC_COLOR'],_0x1696c4['ONE_MINUS_'+'SRC_COLOR'],_0x1696c4['DST_COLOR'],_0x1696c4['ONE_MINUS_'+'DST_COLOR'],_0x1696c4['SRC_ALPHA'],_0x1696c4['SRC_ALPHA_'+'SATURATE'],_0x1696c4['ONE_MINUS_'+'SRC_ALPHA'],_0x1696c4['DST_ALPHA'],_0x1696c4['ONE_MINUS_'+'DST_ALPHA'],_0x1696c4['CONSTANT_C'+'OLOR'],_0x1696c4['ONE_MINUS_'+'CONSTANT_C'+'OLOR']],this['glBlendFun'+'ctionAlpha']=[_0x1696c4['ZERO'],_0x1696c4['ONE'],_0x1696c4['SRC_COLOR'],_0x1696c4['ONE_MINUS_'+'SRC_COLOR'],_0x1696c4['DST_COLOR'],_0x1696c4['ONE_MINUS_'+'DST_COLOR'],_0x1696c4['SRC_ALPHA'],_0x1696c4['SRC_ALPHA_'+'SATURATE'],_0x1696c4['ONE_MINUS_'+'SRC_ALPHA'],_0x1696c4['DST_ALPHA'],_0x1696c4['ONE_MINUS_'+'DST_ALPHA'],_0x1696c4['CONSTANT_A'+'LPHA'],_0x1696c4['ONE_MINUS_'+'CONSTANT_A'+'LPHA']],this['glComparis'+'on']=[_0x1696c4['NEVER'],_0x1696c4['LESS'],_0x1696c4['EQUAL'],_0x1696c4['LEQUAL'],_0x1696c4['GREATER'],_0x1696c4['NOTEQUAL'],_0x1696c4['GEQUAL'],_0x1696c4['ALWAYS']],this['glStencilO'+'p']=[_0x1696c4['KEEP'],_0x1696c4['ZERO'],_0x1696c4['REPLACE'],_0x1696c4['INCR'],_0x1696c4['INCR_WRAP'],_0x1696c4['DECR'],_0x1696c4['DECR_WRAP'],_0x1696c4['INVERT']],this['glClearFla'+'g']=[0x1da7+0xda4+-0x2b4b,_0x1696c4['COLOR_BUFF'+'ER_BIT'],_0x1696c4['DEPTH_BUFF'+'ER_BIT'],_0x1696c4['COLOR_BUFF'+'ER_BIT']|_0x1696c4['DEPTH_BUFF'+'ER_BIT'],_0x1696c4['STENCIL_BU'+'FFER_BIT'],_0x1696c4['STENCIL_BU'+'FFER_BIT']|_0x1696c4['COLOR_BUFF'+'ER_BIT'],_0x1696c4['STENCIL_BU'+'FFER_BIT']|_0x1696c4['DEPTH_BUFF'+'ER_BIT'],_0x1696c4['STENCIL_BU'+'FFER_BIT']|_0x1696c4['COLOR_BUFF'+'ER_BIT']|_0x1696c4['DEPTH_BUFF'+'ER_BIT']],this['glCull']=[-0x5b*-0x4d+0x519+-0x2078,_0x1696c4['BACK'],_0x1696c4['FRONT'],_0x1696c4['FRONT_AND_'+'BACK']],this['glFilter']=[_0x1696c4['NEAREST'],_0x1696c4['LINEAR'],_0x1696c4['NEAREST_MI'+'PMAP_NEARE'+'ST'],_0x1696c4['NEAREST_MI'+'PMAP_LINEA'+'R'],_0x1696c4['LINEAR_MIP'+'MAP_NEARES'+'T'],_0x1696c4['LINEAR_MIP'+'MAP_LINEAR']],this['glPrimitiv'+'e']=[_0x1696c4['POINTS'],_0x1696c4['LINES'],_0x1696c4['LINE_LOOP'],_0x1696c4['LINE_STRIP'],_0x1696c4['TRIANGLES'],_0x1696c4['TRIANGLE_S'+'TRIP'],_0x1696c4['TRIANGLE_F'+'AN']],this['glType']=[_0x1696c4['BYTE'],_0x1696c4['UNSIGNED_B'+'YTE'],_0x1696c4['SHORT'],_0x1696c4['UNSIGNED_S'+'HORT'],_0x1696c4['INT'],_0x1696c4['UNSIGNED_I'+'NT'],_0x1696c4['FLOAT'],_0x1696c4['HALF_FLOAT']],this['pcUniformT'+'ype']={},this['pcUniformT'+'ype'][_0x1696c4['BOOL']]=Tn,this['pcUniformT'+'ype'][_0x1696c4['INT']]=_a,this['pcUniformT'+'ype'][_0x1696c4['FLOAT']]=Xs,this['pcUniformT'+'ype'][_0x1696c4['FLOAT_VEC2']]=ga,this['pcUniformT'+'ype'][_0x1696c4['FLOAT_VEC3']]=ds,this['pcUniformT'+'ype'][_0x1696c4['FLOAT_VEC4']]=Rn,this['pcUniformT'+'ype'][_0x1696c4['INT_VEC2']]=ca,this['pcUniformT'+'ype'][_0x1696c4['INT_VEC3']]=ha,this['pcUniformT'+'ype'][_0x1696c4['INT_VEC4']]=da,this['pcUniformT'+'ype'][_0x1696c4['BOOL_VEC2']]=tl,this['pcUniformT'+'ype'][_0x1696c4['BOOL_VEC3']]=sl,this['pcUniformT'+'ype'][_0x1696c4['BOOL_VEC4']]=il,this['pcUniformT'+'ype'][_0x1696c4['FLOAT_MAT2']]=_h,this['pcUniformT'+'ype'][_0x1696c4['FLOAT_MAT3']]=On,this['pcUniformT'+'ype'][_0x1696c4['FLOAT_MAT4']]=li,this['pcUniformT'+'ype'][_0x1696c4['SAMPLER_2D']]=Hx,this['pcUniformT'+'ype'][_0x1696c4['SAMPLER_CU'+'BE']]=Wx,this['pcUniformT'+'ype'][_0x1696c4['UNSIGNED_I'+'NT']]=Fn,this['pcUniformT'+'ype'][_0x1696c4['UNSIGNED_I'+'NT_VEC2']]=Nn,this['pcUniformT'+'ype'][_0x1696c4['UNSIGNED_I'+'NT_VEC3']]=kn,this['pcUniformT'+'ype'][_0x1696c4['UNSIGNED_I'+'NT_VEC4']]=Un,this['pcUniformT'+'ype'][_0x1696c4['SAMPLER_2D'+'_SHADOW']]=$x,this['pcUniformT'+'ype'][_0x1696c4['SAMPLER_CU'+'BE_SHADOW']]=Xx,this['pcUniformT'+'ype'][_0x1696c4['SAMPLER_2D'+'_ARRAY']]=jx,this['pcUniformT'+'ype'][_0x1696c4['SAMPLER_3D']]=qx,this['pcUniformT'+'ype'][_0x1696c4['INT_SAMPLE'+'R_2D']]=Yx,this['pcUniformT'+'ype'][_0x1696c4['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=Kx,this['pcUniformT'+'ype'][_0x1696c4['INT_SAMPLE'+'R_CUBE']]=Zx,this['pcUniformT'+'ype'][_0x1696c4['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=Qx,this['pcUniformT'+'ype'][_0x1696c4['INT_SAMPLE'+'R_3D']]=Jx,this['pcUniformT'+'ype'][_0x1696c4['UNSIGNED_I'+'NT_SAMPLER'+'_3D']]=eT,this['pcUniformT'+'ype'][_0x1696c4['INT_SAMPLE'+'R_2D_ARRAY']]=tT,this['pcUniformT'+'ype'][_0x1696c4['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]=sT,this['targetToSl'+'ot']={},this['targetToSl'+'ot'][_0x1696c4['TEXTURE_2D']]=0x128b+-0x15f9+0x36e,this['targetToSl'+'ot'][_0x1696c4['TEXTURE_CU'+'BE_MAP']]=0x22f8+-0x208e+-0x269*0x1,this['targetToSl'+'ot'][_0x1696c4['TEXTURE_3D']]=0x44b+0x169e+-0x1ae7;let _0x41b031,_0x430925,_0x694eef,_0x29baf8,_0x4d28e9;this['commitFunc'+'tion']=[],this['commitFunc'+'tion'][Tn]=function(_0x590445,_0xb43096){_0x590445['value']!==_0xb43096&&(_0x1696c4['uniform1i'](_0x590445['locationId'],_0xb43096),_0x590445['value']=_0xb43096);},this['commitFunc'+'tion'][_a]=this['commitFunc'+'tion'][Tn],this['commitFunc'+'tion'][Xs]=function(_0x5653e5,_0x5a27cc){_0x5653e5['value']!==_0x5a27cc&&(_0x1696c4['uniform1f'](_0x5653e5['locationId'],_0x5a27cc),_0x5653e5['value']=_0x5a27cc);},this['commitFunc'+'tion'][ga]=function(_0x20b1bf,_0x1ceff6){_0x4d28e9=_0x20b1bf['value'],_0x41b031=_0x1ceff6[-0x1*-0x187f+-0x5f3*-0x1+-0x1e72],_0x430925=_0x1ceff6[-0x1f5b+0x1*0x1391+0xbcb],(_0x4d28e9[-0x557+0xc8+-0x48f*-0x1]!==_0x41b031||_0x4d28e9[0x9*0x1b4+-0x1cbd+0xd6a]!==_0x430925)&&(_0x1696c4['uniform2fv'](_0x20b1bf['locationId'],_0x1ceff6),_0x4d28e9[0x40*0x16+-0x1*0x21e5+0x1*0x1c65]=_0x41b031,_0x4d28e9[0x2*0xefb+-0x10dc+-0x1df*0x7]=_0x430925);},this['commitFunc'+'tion'][ds]=function(_0x1410f1,_0x38956d){_0x4d28e9=_0x1410f1['value'],_0x41b031=_0x38956d[0x4*-0x775+-0x9*-0x14f+0x120d*0x1],_0x430925=_0x38956d[-0x1083+0x1b93+-0xb0f],_0x694eef=_0x38956d[0x1b*0x8b+0x97e+-0x1825],(_0x4d28e9[0x935*0x4+-0x2c*-0xdb+0x129e*-0x4]!==_0x41b031||_0x4d28e9[0x18e*0x4+-0x25c8+0x1f91]!==_0x430925||_0x4d28e9[0x1706+0x1*-0x120a+-0x4fa]!==_0x694eef)&&(_0x1696c4['uniform3fv'](_0x1410f1['locationId'],_0x38956d),_0x4d28e9[0x1*0x1be+0x5*0x7a9+-0x99*0x43]=_0x41b031,_0x4d28e9[-0x7e9+0x7a4+0x46]=_0x430925,_0x4d28e9[0x88c+-0xd*0x81+-0x1fd]=_0x694eef);},this['commitFunc'+'tion'][Rn]=function(_0xecf506,_0x5e3270){_0x4d28e9=_0xecf506['value'],_0x41b031=_0x5e3270[-0x6*0x247+-0x258d*-0x1+-0x17e3],_0x430925=_0x5e3270[-0x2134+-0x2302*0x1+0x4437],_0x694eef=_0x5e3270[-0x7*-0x15f+0xe57+-0x3*0x7fa],_0x29baf8=_0x5e3270[0x2*0x37c+-0x1c93+0x159e],(_0x4d28e9[0x267f+0x2c5*0xe+-0x4d45]!==_0x41b031||_0x4d28e9[0x25f8+0x23+-0x261a]!==_0x430925||_0x4d28e9[0x18cd*-0x1+-0xcb1*0x2+-0x3*-0x10bb]!==_0x694eef||_0x4d28e9[0x3f*-0x6d+-0x1*-0x403+0x1*0x16d3]!==_0x29baf8)&&(_0x1696c4['uniform4fv'](_0xecf506['locationId'],_0x5e3270),_0x4d28e9[-0x23f4+-0x1859+0x3c4d]=_0x41b031,_0x4d28e9[-0x3*-0xc99+-0x1d93*-0x1+0x5*-0xd79]=_0x430925,_0x4d28e9[0xaab+-0xfa5+0x4fc]=_0x694eef,_0x4d28e9[0x23bc+0x1cde+-0x4097]=_0x29baf8);},this['commitFunc'+'tion'][ca]=function(_0x592cb3,_0xf91ca6){_0x4d28e9=_0x592cb3['value'],_0x41b031=_0xf91ca6[0x363+-0x144a+0x10e7],_0x430925=_0xf91ca6[0x2195+-0xac5+-0x16cf],(_0x4d28e9[0x131a+-0x1c*0x106+0x98e]!==_0x41b031||_0x4d28e9[-0x20eb+-0x20d1+0x41bd]!==_0x430925)&&(_0x1696c4['uniform2iv'](_0x592cb3['locationId'],_0xf91ca6),_0x4d28e9[-0x211d+-0x11*0x1cd+0x3fba]=_0x41b031,_0x4d28e9[-0x2306+-0x1*-0x1715+0x16*0x8b]=_0x430925);},this['commitFunc'+'tion'][tl]=this['commitFunc'+'tion'][ca],this['commitFunc'+'tion'][ha]=function(_0x29b7d3,_0x530a89){_0x4d28e9=_0x29b7d3['value'],_0x41b031=_0x530a89[0x1*0x676+0x5ac+-0xc22],_0x430925=_0x530a89[-0xa*0x21d+-0xcbd+0x21e0],_0x694eef=_0x530a89[-0x43*-0x45+-0x132d+0x120],(_0x4d28e9[0x1b7*0x7+-0x1c3*0x1+-0x1b5*0x6]!==_0x41b031||_0x4d28e9[0x19d6+0x72e+-0x2103]!==_0x430925||_0x4d28e9[-0x397*-0x1+0x4*-0x80b+0x1c97]!==_0x694eef)&&(_0x1696c4['uniform3iv'](_0x29b7d3['locationId'],_0x530a89),_0x4d28e9[0x136d+-0xf9b+-0x3d2]=_0x41b031,_0x4d28e9[0x1c1a+0x1e8e*0x1+-0x3aa7]=_0x430925,_0x4d28e9[0x24a9+-0x1654+-0xe53]=_0x694eef);},this['commitFunc'+'tion'][sl]=this['commitFunc'+'tion'][ha],this['commitFunc'+'tion'][da]=function(_0x278295,_0x3c8cea){_0x4d28e9=_0x278295['value'],_0x41b031=_0x3c8cea[0x133b+-0x228e+0xf53*0x1],_0x430925=_0x3c8cea[-0xcbf+0x3a9*0x2+0x56e],_0x694eef=_0x3c8cea[0x4*0x28d+-0x7*0x1a9+0x16d],_0x29baf8=_0x3c8cea[-0x1*0x24d7+0x1d*0x5+0x2449],(_0x4d28e9[0x3*0x1aa+-0xc5b*-0x1+-0x1159]!==_0x41b031||_0x4d28e9[0x2283+-0x1*-0xf83+-0x3205]!==_0x430925||_0x4d28e9[-0xda6+0x45f*0x6+-0xc92]!==_0x694eef||_0x4d28e9[-0x2460+-0x1*-0xc89+-0x2*-0xbed]!==_0x29baf8)&&(_0x1696c4['uniform4iv'](_0x278295['locationId'],_0x3c8cea),_0x4d28e9[-0x2245*0x1+-0x171d+-0x235*-0x1a]=_0x41b031,_0x4d28e9[0x30*-0x13+0x1c78+0x84d*-0x3]=_0x430925,_0x4d28e9[-0x11*-0x83+-0x2*-0x890+-0x19d1]=_0x694eef,_0x4d28e9[0x1*0x1e6e+0x11*-0x7+-0x1df4]=_0x29baf8);},this['commitFunc'+'tion'][il]=this['commitFunc'+'tion'][da],this['commitFunc'+'tion'][_h]=function(_0x14904d,_0xe80d30){_0x1696c4['uniformMat'+'rix2fv'](_0x14904d['locationId'],!(0x495+0x1b78+0x24a*-0xe),_0xe80d30);},this['commitFunc'+'tion'][On]=function(_0x27cfa5,_0x4f67d7){_0x1696c4['uniformMat'+'rix3fv'](_0x27cfa5['locationId'],!(-0x25*-0xce+0x2*0xeb3+-0x3b2b),_0x4f67d7);},this['commitFunc'+'tion'][li]=function(_0x4e1bf2,_0x190a56){_0x1696c4['uniformMat'+'rix4fv'](_0x4e1bf2['locationId'],!(0x1522+0x1305+0x476*-0x9),_0x190a56);},this['commitFunc'+'tion'][ud]=function(_0x477731,_0x4d15e0){_0x1696c4['uniform1fv'](_0x477731['locationId'],_0x4d15e0);},this['commitFunc'+'tion'][pd]=function(_0x101194,_0x584827){_0x1696c4['uniform2fv'](_0x101194['locationId'],_0x584827);},this['commitFunc'+'tion'][md]=function(_0x213cf6,_0x52def1){_0x1696c4['uniform3fv'](_0x213cf6['locationId'],_0x52def1);},this['commitFunc'+'tion'][Lp]=function(_0x4be033,_0x9a8f76){_0x1696c4['uniform4fv'](_0x4be033['locationId'],_0x9a8f76);},this['commitFunc'+'tion'][Fn]=function(_0x5f0aae,_0x26e6c4){_0x5f0aae['value']!==_0x26e6c4&&(_0x1696c4['uniform1ui'](_0x5f0aae['locationId'],_0x26e6c4),_0x5f0aae['value']=_0x26e6c4);},this['commitFunc'+'tion'][Nn]=function(_0x564168,_0x1c8556){_0x4d28e9=_0x564168['value'],_0x41b031=_0x1c8556[0x379*-0x5+-0x1cb2+0x1*0x2e0f],_0x430925=_0x1c8556[-0x4*-0x6f1+0x1e*-0x1+0x1ba5*-0x1],(_0x4d28e9[-0x97d+0x607+0x376]!==_0x41b031||_0x4d28e9[-0x23de+-0x15ed+-0x3*-0x1344]!==_0x430925)&&(_0x1696c4['uniform2ui'+'v'](_0x564168['locationId'],_0x1c8556),_0x4d28e9[0x25ec+0x177b+-0x3d67]=_0x41b031,_0x4d28e9[-0x188+0xa37*0x2+0x7*-0x2b3]=_0x430925);},this['commitFunc'+'tion'][kn]=function(_0x391903,_0x4b2fcb){_0x4d28e9=_0x391903['value'],_0x41b031=_0x4b2fcb[-0x23e3+-0x1b88+-0x5*-0xcaf],_0x430925=_0x4b2fcb[-0x194c+0x595*-0x1+0x2*0xf71],_0x694eef=_0x4b2fcb[0x1*0x152b+0xbc0+-0x695*0x5],(_0x4d28e9[-0x1*0x236d+-0x2057+0x43c4]!==_0x41b031||_0x4d28e9[0x2351+0xa94+-0x2de4]!==_0x430925||_0x4d28e9[-0x1994+0x1*0x2364+-0x9ce]!==_0x694eef)&&(_0x1696c4['uniform3ui'+'v'](_0x391903['locationId'],_0x4b2fcb),_0x4d28e9[0x1*0x3f1+-0x1b73*-0x1+-0x1f64]=_0x41b031,_0x4d28e9[0x2d3+0x1470+0x2*-0xba1]=_0x430925,_0x4d28e9[0x1*0x155b+0xf0c+0x2465*-0x1]=_0x694eef);},this['commitFunc'+'tion'][Un]=function(_0x5b2876,_0x50afec){_0x4d28e9=_0x5b2876['value'],_0x41b031=_0x50afec[0x6c+0x1417+-0x1483*0x1],_0x430925=_0x50afec[0x135f+-0x6*-0xc5+-0x17fc],_0x694eef=_0x50afec[-0x37*-0xa3+-0x4*-0x877+-0x44df],_0x29baf8=_0x50afec[-0x3f2+-0x3*0x14e+-0x1*-0x7df],(_0x4d28e9[0x20ce+0x1440+-0x350e]!==_0x41b031||_0x4d28e9[0x2f*0x1+0x7*-0x39+-0x1*-0x161]!==_0x430925||_0x4d28e9[0x9f+0x62*0x2+-0x161]!==_0x694eef||_0x4d28e9[-0x12f3+-0x3d3+0x16c9]!==_0x29baf8)&&(_0x1696c4['uniform4ui'+'v'](_0x5b2876['locationId'],_0x50afec),_0x4d28e9[-0x14f6*0x1+-0x1126*0x2+-0x506*-0xb]=_0x41b031,_0x4d28e9[-0x5a+0x1ff6*0x1+-0x1f9b]=_0x430925,_0x4d28e9[0x1*0x129a+0x4*-0x1df+-0xb1c]=_0x694eef,_0x4d28e9[0x5*0x2ba+-0x15d*-0x5+-0x1470]=_0x29baf8);},this['commitFunc'+'tion'][Bn]=function(_0x7eb465,_0x2571f6){_0x1696c4['uniform1iv'](_0x7eb465['locationId'],_0x2571f6);},this['commitFunc'+'tion'][_d]=function(_0x4bebb3,_0x2662a9){_0x1696c4['uniform1ui'+'v'](_0x4bebb3['locationId'],_0x2662a9);},this['commitFunc'+'tion'][gd]=this['commitFunc'+'tion'][Bn],this['commitFunc'+'tion'][zn]=function(_0x58fe68,_0x2f38eb){_0x1696c4['uniform2iv'](_0x58fe68['locationId'],_0x2f38eb);},this['commitFunc'+'tion'][Sd]=function(_0x413e17,_0x8fdeaa){_0x1696c4['uniform2ui'+'v'](_0x413e17['locationId'],_0x8fdeaa);},this['commitFunc'+'tion'][yd]=this['commitFunc'+'tion'][zn],this['commitFunc'+'tion'][Vn]=function(_0x4de232,_0x14eaa2){_0x1696c4['uniform3iv'](_0x4de232['locationId'],_0x14eaa2);},this['commitFunc'+'tion'][vd]=function(_0x2bebd4,_0x31eac7){_0x1696c4['uniform3ui'+'v'](_0x2bebd4['locationId'],_0x31eac7);},this['commitFunc'+'tion'][xd]=this['commitFunc'+'tion'][Vn],this['commitFunc'+'tion'][gh]=function(_0x320d9c,_0x683f03){_0x1696c4['uniform4iv'](_0x320d9c['locationId'],_0x683f03);},this['commitFunc'+'tion'][Rp]=function(_0x1d25d0,_0x2e6008){_0x1696c4['uniform4ui'+'v'](_0x1d25d0['locationId'],_0x2e6008);},this['commitFunc'+'tion'][Op]=this['commitFunc'+'tion'][gh],this['commitFunc'+'tion'][wy]=function(_0x123fee,_0x3abddb){_0x1696c4['uniformMat'+'rix4fv'](_0x123fee['locationId'],!(-0x7*0x2+-0x7*0x572+0x262d),_0x3abddb);},this['constantTe'+'xSource']=this['scope']['resolve']('source'),this['postInit']();}['postInit'](){super['postInit'](),this['gpuProfile'+'r']=new rw(this);}['destroy'](){super['destroy']();const _0x5f464f=this['gl'];this['feedback']&&_0x5f464f['deleteTran'+'sformFeedb'+'ack'](this['feedback']),this['clearVerte'+'xArrayObje'+'ctCache'](),this['canvas']['removeEven'+'tListener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0xb*0x2bb+0x15e9*-0x1+-0x81f)),this['canvas']['removeEven'+'tListener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(0xbea+-0x2189+0x2b4*0x8)),this['_contextLo'+'stHandler']=null,this['_contextRe'+'storedHand'+'ler']=null,this['gl']=null,super['postDestro'+'y']();}['createBack'+'buffer'](_0x2bc80b){this['supportsSt'+'encil']=this['initOption'+'s']['stencil'],this['backBuffer']=new gt({'name':'WebglFrame'+'buffer','graphicsDevice':this,'depth':this['initOption'+'s']['depth'],'stencil':this['supportsSt'+'encil'],'samples':this['samples']}),this['backBuffer']['impl']['suppliedCo'+'lorFramebu'+'ffer']=_0x2bc80b;}['updateBack'+'bufferForm'+'at'](_0x18f7c6){const _0x1f0a43=this['gl'];_0x1f0a43['bindFrameb'+'uffer'](_0x1f0a43['FRAMEBUFFE'+'R'],_0x18f7c6);const _0x370923=this['gl']['getParamet'+'er'](this['gl']['ALPHA_BITS']);this['backBuffer'+'Format']=_0x370923?Ne:Cr;}['updateBack'+'buffer'](){const _0x5abf7f=this['canvas']['width']!==this['backBuffer'+'Size']['x']||this['canvas']['height']!==this['backBuffer'+'Size']['y'];(this['_defaultFr'+'amebufferC'+'hanged']||_0x5abf7f)&&(this['_defaultFr'+'amebufferC'+'hanged']&&this['updateBack'+'bufferForm'+'at'](this['_defaultFr'+'amebuffer']),this['_defaultFr'+'amebufferC'+'hanged']=!(0x163*-0x1b+-0x1*-0x15a3+0xfcf),this['backBuffer'+'Size']['set'](this['canvas']['width'],this['canvas']['height']),this['backBuffer']['destroy'](),this['createBack'+'buffer'](this['_defaultFr'+'amebuffer']));}['createVert'+'exBufferIm'+'pl'](_0x1f4ca2,_0x1c9068){return new XT();}['createInde'+'xBufferImp'+'l'](_0xdaeb19){return new qT(_0xdaeb19);}['createShad'+'erImpl'](_0x2f5656){return new JT(_0x2f5656);}['createText'+'ureImpl'](_0x3b4f47){return new ew(_0x3b4f47);}['createRend'+'erTargetIm'+'pl'](_0x4fa1ac){return new sw();}['pushMarker'](_0xc82253){if(Ae['browser']&&window['spector']){const _0x3c025a=Q['toString']();window['spector']['setMarker'](_0x3c025a+'\x20#');}}['popMarker'](){if(Ae['browser']&&window['spector']){const _0x1fb0eb=Q['toString']();_0x1fb0eb['length']?window['spector']['setMarker'](_0x1fb0eb+'\x20#'):window['spector']['clearMarke'+'r']();}}['getPrecisi'+'on'](){const _0x539163=this['gl'];let _0x7887e7='highp';if(_0x539163['getShaderP'+'recisionFo'+'rmat']){const _0x29653e=_0x539163['getShaderP'+'recisionFo'+'rmat'](_0x539163['VERTEX_SHA'+'DER'],_0x539163['HIGH_FLOAT']),_0x1a3ebe=_0x539163['getShaderP'+'recisionFo'+'rmat'](_0x539163['VERTEX_SHA'+'DER'],_0x539163['MEDIUM_FLO'+'AT']),_0x11964e=_0x539163['getShaderP'+'recisionFo'+'rmat'](_0x539163['FRAGMENT_S'+'HADER'],_0x539163['HIGH_FLOAT']),_0xdd0ea4=_0x539163['getShaderP'+'recisionFo'+'rmat'](_0x539163['FRAGMENT_S'+'HADER'],_0x539163['MEDIUM_FLO'+'AT']);if(_0x29653e&&_0x1a3ebe&&_0x11964e&&_0xdd0ea4){const _0x4db92b=_0x29653e['precision']>0x554+0x56b+-0xabf&&_0x11964e['precision']>0x4f*0x3+0x1eb*0x5+-0xa84,_0x5e4abd=_0x1a3ebe['precision']>-0xf3+0x58*-0x5+-0x1*-0x2ab&&_0xdd0ea4['precision']>0x3*-0x975+-0x18ca+0x1b7*0x1f;_0x4db92b||(_0x5e4abd?(_0x7887e7='mediump',w['warn']('WARNING:\x20h'+'ighp\x20not\x20s'+'upported,\x20'+'using\x20medi'+'ump')):(_0x7887e7='lowp',w['warn']('WARNING:\x20h'+'ighp\x20and\x20m'+'ediump\x20not'+'\x20supported'+',\x20using\x20lo'+'wp')));}}return _0x7887e7;}['getExtensi'+'on'](){for(let _0x2c6825=-0x16ed+0x55b+0x1192;_0x2c6825<arguments['length'];_0x2c6825++)if(this['supportedE'+'xtensions']['indexOf'](arguments[_0x2c6825])!==-(-0x13c8+0x3*0x10a+0x10ab))return this['gl']['getExtensi'+'on'](arguments[_0x2c6825]);return null;}get['extDisjoin'+'tTimerQuer'+'y'](){return this['_extDisjoi'+'ntTimerQue'+'ry']||(this['_extDisjoi'+'ntTimerQue'+'ry']=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery')),this['_extDisjoi'+'ntTimerQue'+'ry'];}['initialize'+'Extensions'](){const _0x5b7b68=this['gl'];this['supportedE'+'xtensions']=_0x5b7b68['getSupport'+'edExtensio'+'ns']()??[],this['_extDisjoi'+'ntTimerQue'+'ry']=null,this['textureRG1'+'1B10Render'+'able']=!(-0x160*-0x12+-0x25*0x1f+-0x1*0x1445),this['extColorBu'+'fferFloat']=this['getExtensi'+'on']('EXT_color_'+'buffer_flo'+'at'),this['textureFlo'+'atRenderab'+'le']=!!this['extColorBu'+'fferFloat'],this['extColorBu'+'fferHalfFl'+'oat']=this['getExtensi'+'on']('EXT_color_'+'buffer_hal'+'f_float'),this['textureHal'+'fFloatRend'+'erable']=!!this['extColorBu'+'fferHalfFl'+'oat']||!!this['extColorBu'+'fferFloat'],this['extDebugRe'+'ndererInfo']=this['getExtensi'+'on']('WEBGL_debu'+'g_renderer'+'_info'),this['extTexture'+'FloatLinea'+'r']=this['getExtensi'+'on']('OES_textur'+'e_float_li'+'near'),this['textureFlo'+'atFilterab'+'le']=!!this['extTexture'+'FloatLinea'+'r'],this['extFloatBl'+'end']=this['getExtensi'+'on']('EXT_float_'+'blend'),this['extTexture'+'FilterAnis'+'otropic']=this['getExtensi'+'on']('EXT_textur'+'e_filter_a'+'nisotropic','WEBKIT_EXT'+'_texture_f'+'ilter_anis'+'otropic'),this['extParalle'+'lShaderCom'+'pile']=this['getExtensi'+'on']('KHR_parall'+'el_shader_'+'compile'),this['extCompres'+'sedTexture'+'ETC1']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc1'),this['extCompres'+'sedTexture'+'ETC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc'),this['extCompres'+'sedTexture'+'PVRTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_pvrtc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_pvrtc'),this['extCompres'+'sedTexture'+'S3TC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_s3tc'),this['extCompres'+'sedTexture'+'S3TC_SRGB']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc_'+'srgb'),this['extCompres'+'sedTexture'+'ATC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_atc'),this['extCompres'+'sedTexture'+'ASTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_astc'),this['extTexture'+'Compressio'+'nBPTC']=this['getExtensi'+'on']('EXT_textur'+'e_compress'+'ion_bptc');}['initialize'+'Capabiliti'+'es'](){const _0x55194d=this['gl'];let _0x3ad475;const _0x42131f=typeof navigator<'u'?navigator['userAgent']:'';this['maxPrecisi'+'on']=this['precision']=this['getPrecisi'+'on']();const _0x143c54=_0x55194d['getContext'+'Attributes']();this['supportsMs'+'aa']=(_0x143c54==null?void(0x73c+-0x1800+-0x3a*-0x4a):_0x143c54['antialias'])??!(-0x8d+-0x240+0x2ce),this['supportsSt'+'encil']=(_0x143c54==null?void(-0x2167+0x1baf*0x1+-0x3d*-0x18):_0x143c54['stencil'])??!(-0x10dd+0x1ded+-0xd0f),this['maxTexture'+'Size']=_0x55194d['getParamet'+'er'](_0x55194d['MAX_TEXTUR'+'E_SIZE']),this['maxCubeMap'+'Size']=_0x55194d['getParamet'+'er'](_0x55194d['MAX_CUBE_M'+'AP_TEXTURE'+'_SIZE']),this['maxRenderB'+'ufferSize']=_0x55194d['getParamet'+'er'](_0x55194d['MAX_RENDER'+'BUFFER_SIZ'+'E']),this['maxTexture'+'s']=_0x55194d['getParamet'+'er'](_0x55194d['MAX_TEXTUR'+'E_IMAGE_UN'+'ITS']),this['maxCombine'+'dTextures']=_0x55194d['getParamet'+'er'](_0x55194d['MAX_COMBIN'+'ED_TEXTURE'+'_IMAGE_UNI'+'TS']),this['maxVertexT'+'extures']=_0x55194d['getParamet'+'er'](_0x55194d['MAX_VERTEX'+'_TEXTURE_I'+'MAGE_UNITS']),this['vertexUnif'+'ormsCount']=_0x55194d['getParamet'+'er'](_0x55194d['MAX_VERTEX'+'_UNIFORM_V'+'ECTORS']),this['fragmentUn'+'iformsCoun'+'t']=_0x55194d['getParamet'+'er'](_0x55194d['MAX_FRAGME'+'NT_UNIFORM'+'_VECTORS']),this['maxColorAt'+'tachments']=_0x55194d['getParamet'+'er'](_0x55194d['MAX_COLOR_'+'ATTACHMENT'+'S']),this['maxVolumeS'+'ize']=_0x55194d['getParamet'+'er'](_0x55194d['MAX_3D_TEX'+'TURE_SIZE']),_0x3ad475=this['extDebugRe'+'ndererInfo'],this['unmaskedRe'+'nderer']=_0x3ad475?_0x55194d['getParamet'+'er'](_0x3ad475['UNMASKED_R'+'ENDERER_WE'+'BGL']):'',this['unmaskedVe'+'ndor']=_0x3ad475?_0x55194d['getParamet'+'er'](_0x3ad475['UNMASKED_V'+'ENDOR_WEBG'+'L']):'';const _0x525964=/\bMali-G52+/,_0x426445=/SM-[a-zA-Z0-9]+/;this['supportsGp'+'uParticles']=!(this['unmaskedVe'+'ndor']==='ARM'&&_0x42131f['match'](_0x426445))&&!this['unmaskedRe'+'nderer']['match'](_0x525964),_0x3ad475=this['extTexture'+'FilterAnis'+'otropic'],this['maxAnisotr'+'opy']=_0x3ad475?_0x55194d['getParamet'+'er'](_0x3ad475['MAX_TEXTUR'+'E_MAX_ANIS'+'OTROPY_EXT']):0x7c6+0x244a+-0x2c0f;const _0x5b7309=!this['forceDisab'+'leMultisam'+'pling'];this['maxSamples']=_0x5b7309?_0x55194d['getParamet'+'er'](_0x55194d['MAX_SAMPLE'+'S']):-0x2a8+-0x11c3*0x1+0x1*0x146c,this['maxSamples']=Math['min'](this['maxSamples'],-0x24*-0x5f+-0x657*-0x2+0x1*-0x1a06),this['samples']=_0x5b7309&&this['backBuffer'+'Antialias']?this['maxSamples']:0x23eb+-0x114+0xb6*-0x31,this['supportsAr'+'eaLights']=!Ae['android'],this['maxTexture'+'s']<=-0x1bc4+-0xce*-0x2f+-0xa06&&(this['supportsAr'+'eaLights']=!(0x17c2+0x255b+-0x3d1c)),this['initCapsDe'+'fines']();}['initialize'+'RenderStat'+'e'](){super['initialize'+'RenderStat'+'e']();const _0x4a5ccf=this['gl'];_0x4a5ccf['disable'](_0x4a5ccf['BLEND']),_0x4a5ccf['blendFunc'](_0x4a5ccf['ONE'],_0x4a5ccf['ZERO']),_0x4a5ccf['blendEquat'+'ion'](_0x4a5ccf['FUNC_ADD']),_0x4a5ccf['colorMask'](!(0x129d+0xe69+-0x2*0x1083),!(-0xd9c+-0x111d*-0x2+-0x149e),!(-0x1ea9+-0x1556+-0x1d*-0x1cb),!(0x1418+-0x119*-0x19+-0x2f89)),_0x4a5ccf['blendColor'](0x753+0x509+-0xc5c,-0xcf7+-0x2fd*0x5+0x5e*0x4c,0x1435+0x25e+0x1693*-0x1,-0x2d*-0x54+0x5d2*-0x5+0xe56),_0x4a5ccf['enable'](_0x4a5ccf['CULL_FACE']),this['cullFace']=_0x4a5ccf['BACK'],_0x4a5ccf['cullFace'](_0x4a5ccf['BACK']),_0x4a5ccf['enable'](_0x4a5ccf['DEPTH_TEST']),_0x4a5ccf['depthFunc'](_0x4a5ccf['LEQUAL']),_0x4a5ccf['depthMask'](!(-0x1*0x2563+-0x6f+0x25d2)),this['stencil']=!(-0x1977+0x1329+0x64f),_0x4a5ccf['disable'](_0x4a5ccf['STENCIL_TE'+'ST']),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=Wi,this['stencilRef'+'Front']=this['stencilRef'+'Back']=-0x1187*0x1+0xaf8+0x68f,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=0x6d*0x1c+-0x3a*-0x3+-0xb9b*0x1,_0x4a5ccf['stencilFun'+'c'](_0x4a5ccf['ALWAYS'],0x386+-0xb19*0x2+0x12ac,-0x2497+-0x1*0x65+-0x3*-0xca9),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=xn,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=xn,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=xn,this['stencilWri'+'teMaskFron'+'t']=-0x12*0x4f+0x140c+-0x2b3*0x5,this['stencilWri'+'teMaskBack']=-0x3*0x639+-0x157b+-0x3*-0xdb7,_0x4a5ccf['stencilOp'](_0x4a5ccf['KEEP'],_0x4a5ccf['KEEP'],_0x4a5ccf['KEEP']),_0x4a5ccf['stencilMas'+'k'](-0x1525*-0x1+-0x195b*-0x1+0x2d81*-0x1),this['alphaToCov'+'erage']=!(0x16e4+0x186d+0x4*-0xbd4),this['raster']=!(0x18f3+-0xfa+-0x17f9),_0x4a5ccf['disable'](_0x4a5ccf['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']),_0x4a5ccf['disable'](_0x4a5ccf['RASTERIZER'+'_DISCARD']),this['depthBiasE'+'nabled']=!(-0x1e4*-0x5+0x73*0x4f+0x2cf0*-0x1),_0x4a5ccf['disable'](_0x4a5ccf['POLYGON_OF'+'FSET_FILL']),this['clearDepth']=-0xc*0x2c4+-0x198a+0x3abb,_0x4a5ccf['clearDepth'](0x1*0x1cf9+-0x1*0x221+0x1ad7*-0x1),this['clearColor']=new ie(0x2*-0x5a6+-0xc*-0x161+-0x18*0x38,0x1933+0x1779*-0x1+-0x1a*0x11,0x29c+0x1a10+-0x1cac,0xef*-0x28+-0x16a1*0x1+0x3bf9),_0x4a5ccf['clearColor'](-0xdd*0x27+0x71*-0x3a+0x3b45,-0x214d+0x3d*-0x3a+0x2f1f,0x2528+-0x1*0x1b7f+0x9a9*-0x1,-0x4bf+-0x1aa4+0x1f63),this['clearStenc'+'il']=0x534+0x1f57+0x1*-0x248b,_0x4a5ccf['clearStenc'+'il'](0x3*-0x593+-0x101*0x2+0x12bb),_0x4a5ccf['hint'](_0x4a5ccf['FRAGMENT_S'+'HADER_DERI'+'VATIVE_HIN'+'T'],_0x4a5ccf['NICEST']),_0x4a5ccf['enable'](_0x4a5ccf['SCISSOR_TE'+'ST']),_0x4a5ccf['pixelStore'+'i'](_0x4a5ccf['UNPACK_COL'+'ORSPACE_CO'+'NVERSION_W'+'EBGL'],_0x4a5ccf['NONE']),this['unpackFlip'+'Y']=!(-0x7*0x27a+0x4ed*0x7+-0x1*0x1124),_0x4a5ccf['pixelStore'+'i'](_0x4a5ccf['UNPACK_FLI'+'P_Y_WEBGL'],!(-0x1*0x3e5+0x5*-0x153+0xa85)),this['unpackPrem'+'ultiplyAlp'+'ha']=!(0x10f0*0x1+-0x185*-0x13+-0x2dce),_0x4a5ccf['pixelStore'+'i'](_0x4a5ccf['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],!(0x2*0x7a+-0x22b*-0x12+0x1*-0x27f9)),_0x4a5ccf['pixelStore'+'i'](_0x4a5ccf['UNPACK_ALI'+'GNMENT'],-0x26b1+0x4ff+0x21b3);}['initTextur'+'eUnits'](_0x432be6=-0xe19+0x1*0x1ef7+-0x10ce){this['textureUni'+'ts']=[];for(let _0x191402=0x214f+-0xc6e+-0x14e1*0x1;_0x191402<_0x432be6;_0x191402++)this['textureUni'+'ts']['push']([null,null,null]);}['initialize'+'ContextCac'+'hes'](){super['initialize'+'ContextCac'+'hes'](),this['_vaoMap']=new Map(),this['boundVao']=null,this['activeFram'+'ebuffer']=null,this['feedback']=null,this['transformF'+'eedbackBuf'+'fer']=null,this['textureUni'+'t']=0x3*0x2f3+-0x159f+0x2*0x663,this['initTextur'+'eUnits'](this['maxCombine'+'dTextures']);}['loseContex'+'t'](){super['loseContex'+'t']();for(const _0x29e9e5 of this['shaders'])_0x29e9e5['loseContex'+'t']();}['restoreCon'+'text'](){this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),super['restoreCon'+'text']();for(const _0x2808e2 of this['shaders'])_0x2808e2['restoreCon'+'text']();}['setViewpor'+'t'](_0x764bf1,_0x25715c,_0x5d6a53,_0x2c98eb){(this['vx']!==_0x764bf1||this['vy']!==_0x25715c||this['vw']!==_0x5d6a53||this['vh']!==_0x2c98eb)&&(this['gl']['viewport'](_0x764bf1,_0x25715c,_0x5d6a53,_0x2c98eb),this['vx']=_0x764bf1,this['vy']=_0x25715c,this['vw']=_0x5d6a53,this['vh']=_0x2c98eb);}['setScissor'](_0x3c80a2,_0x29c1d5,_0xf0ebf9,_0x39967e){(this['sx']!==_0x3c80a2||this['sy']!==_0x29c1d5||this['sw']!==_0xf0ebf9||this['sh']!==_0x39967e)&&(this['gl']['scissor'](_0x3c80a2,_0x29c1d5,_0xf0ebf9,_0x39967e),this['sx']=_0x3c80a2,this['sy']=_0x29c1d5,this['sw']=_0xf0ebf9,this['sh']=_0x39967e);}['setFramebu'+'ffer'](_0x52497c){if(this['activeFram'+'ebuffer']!==_0x52497c){const _0x3b386a=this['gl'];_0x3b386a['bindFrameb'+'uffer'](_0x3b386a['FRAMEBUFFE'+'R'],_0x52497c),this['activeFram'+'ebuffer']=_0x52497c;}}['copyRender'+'Target'](_0x1848bc,_0x2c03bc,_0x55784a,_0x4eeb0c){var _0x402e4d,_0x7f4491;const _0x28fa04=this['gl'];if(_0x1848bc===this['backBuffer']&&(_0x1848bc=null),_0x55784a){if(_0x2c03bc){if(_0x1848bc){if(!_0x1848bc['_colorBuff'+'er']||!_0x2c03bc['_colorBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20color\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0x77d+-0x1b9b+0x65*0x33);if(_0x1848bc['_colorBuff'+'er']['_format']!==_0x2c03bc['_colorBuff'+'er']['_format'])return w['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20c'+'olor\x20forma'+'ts'),!(0x1dbe+0x2*-0x12f4+-0x1*-0x82b);}}else{if(!_0x1848bc['_colorBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20empty\x20col'+'or\x20buffer\x20'+'to\x20backbuf'+'fer'),!(-0x1aa8+0x19f7+0xb2);}}if(_0x4eeb0c&&_0x1848bc&&!_0x1848bc['_depth']){if(!_0x1848bc['_depthBuff'+'er']||!_0x2c03bc['_depthBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20depth\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0xeb*0x1f+-0x2*0x427+-0x1426);if(_0x1848bc['_depthBuff'+'er']['_format']!==_0x2c03bc['_depthBuff'+'er']['_format'])return w['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20d'+'epth\x20forma'+'ts'),!(0xcff*0x1+-0x1b5b+0x1*0xe5d);}Q['pushGpuMar'+'ker'](this,'COPY-RT');const _0x5384f7=this['renderTarg'+'et'];this['renderTarg'+'et']=_0x2c03bc,this['updateBegi'+'n']();const _0x921de6=_0x1848bc?_0x1848bc['impl']['_glFrameBu'+'ffer']:(_0x402e4d=this['backBuffer'])==null?void(-0x4*0x21f+-0x1d6c*-0x1+-0x14f0):_0x402e4d['impl']['_glFrameBu'+'ffer'],_0x4ff790=_0x2c03bc?_0x2c03bc['impl']['_glFrameBu'+'ffer']:(_0x7f4491=this['backBuffer'])==null?void(-0x4bd+0x26*-0xfb+-0x33b*-0xd):_0x7f4491['impl']['_glFrameBu'+'ffer'];w['assert'](_0x921de6!==_0x4ff790,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x28fa04['bindFrameb'+'uffer'](_0x28fa04['READ_FRAME'+'BUFFER'],_0x921de6),_0x28fa04['bindFrameb'+'uffer'](_0x28fa04['DRAW_FRAME'+'BUFFER'],_0x4ff790);const _0x3408fc=_0x1848bc?_0x1848bc['width']:_0x2c03bc?_0x2c03bc['width']:this['width'],_0x3bdf2e=_0x1848bc?_0x1848bc['height']:_0x2c03bc?_0x2c03bc['height']:this['height'];return _0x28fa04['blitFrameb'+'uffer'](-0x127+0x1*-0x22a3+0x23ca,-0x2093+0x1*-0x8eb+0xe2*0x2f,_0x3408fc,_0x3bdf2e,0x251*0xa+-0x2055+0x92b,-0x24be+0x150d+0xfb1,_0x3408fc,_0x3bdf2e,(_0x55784a?_0x28fa04['COLOR_BUFF'+'ER_BIT']:-0x2545+0x4*0x15e+0x1fcd)|(_0x4eeb0c?_0x28fa04['DEPTH_BUFF'+'ER_BIT']:0x334*-0x4+-0x24a9+0x11*0x2e9),_0x28fa04['NEAREST']),this['renderTarg'+'et']=_0x5384f7,_0x28fa04['bindFrameb'+'uffer'](_0x28fa04['FRAMEBUFFE'+'R'],_0x5384f7?_0x5384f7['impl']['_glFrameBu'+'ffer']:null),Q['popGpuMark'+'er'](this),!(0x1df6+-0x4*0x7c0+0x10a);}['frameStart'](){super['frameStart'](),this['updateBack'+'buffer'](),this['gpuProfile'+'r']['frameStart']();}['frameEnd'](){super['frameEnd'](),this['gpuProfile'+'r']['frameEnd'](),this['gpuProfile'+'r']['request']();}['startRende'+'rPass'](_0x52a1df){const _0xffe633=_0x52a1df['renderTarg'+'et']??this['backBuffer'];this['renderTarg'+'et']=_0xffe633,w['assert'](_0xffe633),Q['pushGpuMar'+'ker'](this,'Pass:'+_0x52a1df['name']+'\x20RT:'+_0xffe633['name']),Q['pushGpuMar'+'ker'](this,'START-PASS'),this['updateBegi'+'n']();const {width:_0x586a50,height:_0x12721e}=_0xffe633;this['setViewpor'+'t'](-0x193a+-0x11c*-0x19+-0x282,-0x13e*0xf+-0x18cc+-0xda*-0x33,_0x586a50,_0x12721e),this['setScissor'](0x208f*-0x1+0x2165+-0xd6,-0x82b+-0x15f6+0x1e21*0x1,_0x586a50,_0x12721e);const _0x1f3c15=_0x52a1df['colorOps'],_0x211c12=_0x52a1df['depthStenc'+'ilOps'];if(_0x1f3c15!=null&&_0x1f3c15['clear']||_0x211c12['clearDepth']||_0x211c12['clearStenc'+'il']){let _0x68d449=0x2236+-0x23*0x56+-0x1674;const _0x4b1377={};_0x1f3c15!=null&&_0x1f3c15['clear']&&(_0x68d449|=jo,_0x4b1377['color']=[_0x1f3c15['clearValue']['r'],_0x1f3c15['clearValue']['g'],_0x1f3c15['clearValue']['b'],_0x1f3c15['clearValue']['a']]),_0x211c12['clearDepth']&&(_0x68d449|=Yo,_0x4b1377['depth']=_0x211c12['clearDepth'+'Value']),_0x211c12['clearStenc'+'il']&&(_0x68d449|=ch,_0x4b1377['stencil']=_0x211c12['clearStenc'+'ilValue']),_0x4b1377['flags']=_0x68d449,this['clear'](_0x4b1377);}w['call'](()=>{this['insideRend'+'erPass']&&w['errorOnce']('RenderPass'+'\x20cannot\x20be'+'\x20started\x20w'+'hile\x20insid'+'e\x20another\x20'+'render\x20pas'+'s.');}),this['insideRend'+'erPass']=!(-0x5*0x6df+0xf9a+0x12c1),Q['popGpuMark'+'er'](this);}['endRenderP'+'ass'](_0x53155d){var _0x57ccde;Q['pushGpuMar'+'ker'](this,'END-PASS'),this['unbindVert'+'exArray']();const _0xa7cd11=this['renderTarg'+'et'],_0x4aac8b=_0x53155d['colorArray'+'Ops']['length'];if(_0xa7cd11){Da['length']=0x1*0x1aaa+-0x218+-0x275*0xa;const _0x294e28=this['gl'];for(let _0xa7f679=-0x197a+-0x3*-0xbb+0x1*0x1749;_0xa7f679<_0x4aac8b;_0xa7f679++){const _0x547214=_0x53155d['colorArray'+'Ops'][_0xa7f679];_0x547214['store']||_0x547214['resolve']||Da['push'](_0x294e28['COLOR_ATTA'+'CHMENT0']+_0xa7f679);}_0xa7cd11!==this['backBuffer']&&(_0x53155d['depthStenc'+'ilOps']['storeDepth']||Da['push'](_0x294e28['DEPTH_ATTA'+'CHMENT']),_0x53155d['depthStenc'+'ilOps']['storeStenc'+'il']||Da['push'](_0x294e28['STENCIL_AT'+'TACHMENT'])),Da['length']>-0x14c1+0x1ebb+0x1*-0x9fa&&_0x53155d['fullSizeCl'+'earRect']&&_0x294e28['invalidate'+'Framebuffe'+'r'](_0x294e28['DRAW_FRAME'+'BUFFER'],Da),_0x4aac8b&&((_0x57ccde=_0x53155d['colorOps'])!=null&&_0x57ccde['resolve'])&&_0x53155d['samples']>-0x1d2*0xa+-0x20bf+0xcbd*0x4&&_0xa7cd11['autoResolv'+'e']&&_0xa7cd11['resolve'](!(-0x229e+0x4*-0x5a2+0x3926),!(-0x13df+0x2065+-0x1*0xc85)),_0xa7cd11['depthBuffe'+'r']&&_0x53155d['depthStenc'+'ilOps']['resolveDep'+'th']&&_0x53155d['samples']>-0x1*-0x25a6+0x1ed2+-0x4477&&_0xa7cd11['autoResolv'+'e']&&_0xa7cd11['resolve'](!(-0xec5+-0x33f+-0x293*-0x7),!(0x230b+-0xca4+-0x1667));for(let _0xd4e3ab=-0xee6+-0x26+0xf0c;_0xd4e3ab<_0x4aac8b;_0xd4e3ab++)if(_0x53155d['colorArray'+'Ops'][_0xd4e3ab]['genMipmaps']){const _0x10cb04=_0xa7cd11['_colorBuff'+'ers'][_0xd4e3ab];_0x10cb04&&_0x10cb04['impl']['_glTexture']&&_0x10cb04['mipmaps']&&(Q['pushGpuMar'+'ker'](this,'MIPS'+_0xd4e3ab),this['activeText'+'ure'](this['maxCombine'+'dTextures']-(-0x12eb+-0xaba+0x1da6)),this['bindTextur'+'e'](_0x10cb04),this['gl']['generateMi'+'pmap'](_0x10cb04['impl']['_glTarget']),Q['popGpuMark'+'er'](this));}}this['insideRend'+'erPass']=!(0x505+0x217c+-0x2680),Q['popGpuMark'+'er'](this),Q['popGpuMark'+'er'](this);}set['defaultFra'+'mebuffer'](_0x1c2568){this['_defaultFr'+'amebuffer']!==_0x1c2568&&(this['_defaultFr'+'amebuffer']=_0x1c2568,this['_defaultFr'+'amebufferC'+'hanged']=!(0x7bd*0x2+0x1*0x1da6+0x260*-0x13));}get['defaultFra'+'mebuffer'](){return this['_defaultFr'+'amebuffer'];}['updateBegi'+'n'](){if(Q['pushGpuMar'+'ker'](this,'UPDATE-BEG'+'IN'),this['boundVao']=null,this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']){for(let _0x4ab432=-0xad7*0x1+-0x1722+0x21f9;_0x4ab432<this['textureUni'+'ts']['length'];++_0x4ab432)for(let _0x3e2e3f=-0x1b0a+-0xe39+0x2943;_0x3e2e3f<-0x1ae2+0x2*0x259+0x1633*0x1;++_0x3e2e3f)this['textureUni'+'ts'][_0x4ab432][_0x3e2e3f]=null;}const _0x198d82=this['renderTarg'+'et']??this['backBuffer'];w['assert'](_0x198d82);const _0x1eb575=_0x198d82['impl'];_0x1eb575['initialize'+'d']||this['initRender'+'Target'](_0x198d82),this['setFramebu'+'ffer'](_0x1eb575['_glFrameBu'+'ffer']),Q['popGpuMark'+'er'](this);}['updateEnd'](){Q['pushGpuMar'+'ker'](this,'UPDATE-END'),this['unbindVert'+'exArray']();const _0x5ad016=this['renderTarg'+'et'];if(_0x5ad016&&_0x5ad016!==this['backBuffer']){_0x5ad016['_samples']>0x581*0x2+0xcef+-0x17f0&&_0x5ad016['autoResolv'+'e']&&_0x5ad016['resolve']();const _0xb9601a=_0x5ad016['_colorBuff'+'er'];_0xb9601a&&_0xb9601a['impl']['_glTexture']&&_0xb9601a['mipmaps']&&(this['activeText'+'ure'](this['maxCombine'+'dTextures']-(0x14fa+0x1b5e+-0x3057)),this['bindTextur'+'e'](_0xb9601a),this['gl']['generateMi'+'pmap'](_0xb9601a['impl']['_glTarget']));}Q['popGpuMark'+'er'](this);}['setUnpackF'+'lipY'](_0x2048e3){if(this['unpackFlip'+'Y']!==_0x2048e3){this['unpackFlip'+'Y']=_0x2048e3;const _0x2be390=this['gl'];_0x2be390['pixelStore'+'i'](_0x2be390['UNPACK_FLI'+'P_Y_WEBGL'],_0x2048e3);}}['setUnpackP'+'remultiply'+'Alpha'](_0x3860db){if(this['unpackPrem'+'ultiplyAlp'+'ha']!==_0x3860db){this['unpackPrem'+'ultiplyAlp'+'ha']=_0x3860db;const _0x407d6c=this['gl'];_0x407d6c['pixelStore'+'i'](_0x407d6c['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],_0x3860db);}}['activeText'+'ure'](_0x1563f1){this['textureUni'+'t']!==_0x1563f1&&(this['gl']['activeText'+'ure'](this['gl']['TEXTURE0']+_0x1563f1),this['textureUni'+'t']=_0x1563f1);}['bindTextur'+'e'](_0xb9f73c){const _0xf3fc37=_0xb9f73c['impl'],_0x151630=_0xf3fc37['_glTarget'],_0x3feb1f=_0xf3fc37['_glTexture'],_0x3cd467=this['textureUni'+'t'],_0x437cfa=this['targetToSl'+'ot'][_0x151630];this['textureUni'+'ts'][_0x3cd467][_0x437cfa]!==_0x3feb1f&&(this['gl']['bindTextur'+'e'](_0x151630,_0x3feb1f),this['textureUni'+'ts'][_0x3cd467][_0x437cfa]=_0x3feb1f);}['bindTextur'+'eOnUnit'](_0x8a9c01,_0x469152){const _0x3a6e42=_0x8a9c01['impl'],_0x58a264=_0x3a6e42['_glTarget'],_0x2b6165=_0x3a6e42['_glTexture'],_0x3f6c76=this['targetToSl'+'ot'][_0x58a264];this['textureUni'+'ts'][_0x469152][_0x3f6c76]!==_0x2b6165&&(this['activeText'+'ure'](_0x469152),this['gl']['bindTextur'+'e'](_0x58a264,_0x2b6165),this['textureUni'+'ts'][_0x469152][_0x3f6c76]=_0x2b6165);}['setTexture'+'Parameters'](_0x5ce25b){const _0x2c004c=this['gl'],_0xe12c66=_0x5ce25b['impl']['dirtyParam'+'eterFlags'],_0x52458c=_0x5ce25b['impl']['_glTarget'];if(_0xe12c66&Ay){let _0x98e003=_0x5ce25b['_minFilter'];(!_0x5ce25b['_mipmaps']||_0x5ce25b['_compresse'+'d']&&_0x5ce25b['_levels']['length']===-0x1*-0x64d+0x2265+-0x3b3*0xb)&&(_0x98e003===Kh||_0x98e003===Zh?_0x98e003=Te:(_0x98e003===Qh||_0x98e003===ma)&&(_0x98e003=vt)),_0x2c004c['texParamet'+'eri'](_0x52458c,_0x2c004c['TEXTURE_MI'+'N_FILTER'],this['glFilter'][_0x98e003]);}if(_0xe12c66&Cy&&_0x2c004c['texParamet'+'eri'](_0x52458c,_0x2c004c['TEXTURE_MA'+'G_FILTER'],this['glFilter'][_0x5ce25b['_magFilter']]),_0xe12c66&Py&&_0x2c004c['texParamet'+'eri'](_0x52458c,_0x2c004c['TEXTURE_WR'+'AP_S'],this['glAddress'][_0x5ce25b['_addressU']]),_0xe12c66&My&&_0x2c004c['texParamet'+'eri'](_0x52458c,_0x2c004c['TEXTURE_WR'+'AP_T'],this['glAddress'][_0x5ce25b['_addressV']]),_0xe12c66&Dy&&_0x2c004c['texParamet'+'eri'](_0x52458c,_0x2c004c['TEXTURE_WR'+'AP_R'],this['glAddress'][_0x5ce25b['_addressW']]),_0xe12c66&Iy&&_0x2c004c['texParamet'+'eri'](_0x52458c,_0x2c004c['TEXTURE_CO'+'MPARE_MODE'],_0x5ce25b['_compareOn'+'Read']?_0x2c004c['COMPARE_RE'+'F_TO_TEXTU'+'RE']:_0x2c004c['NONE']),_0xe12c66&Ly&&_0x2c004c['texParamet'+'eri'](_0x52458c,_0x2c004c['TEXTURE_CO'+'MPARE_FUNC'],this['glComparis'+'on'][_0x5ce25b['_compareFu'+'nc']]),_0xe12c66&Ry){const _0x30da35=this['extTexture'+'FilterAnis'+'otropic'];_0x30da35&&_0x2c004c['texParamet'+'erf'](_0x52458c,_0x30da35['TEXTURE_MA'+'X_ANISOTRO'+'PY_EXT'],Y['clamp'](Math['round'](_0x5ce25b['_anisotrop'+'y']),0xb*0xf2+0x21c*-0x12+0x1b93,this['maxAnisotr'+'opy']));}}['setTexture'](_0x44f63c,_0x19f95e){const _0x3448f=_0x44f63c['impl'];_0x3448f['_glTexture']||_0x3448f['initialize'](this,_0x44f63c),_0x3448f['dirtyParam'+'eterFlags']>-0x1f4d+0x1*-0x21dd+-0x36e*-0x13||_0x44f63c['_needsUplo'+'ad']||_0x44f63c['_needsMipm'+'apsUpload']?(this['activeText'+'ure'](_0x19f95e),this['bindTextur'+'e'](_0x44f63c),_0x3448f['dirtyParam'+'eterFlags']&&(this['setTexture'+'Parameters'](_0x44f63c),_0x3448f['dirtyParam'+'eterFlags']=0x1b90+0xc11+0x5*-0x7ed),(_0x44f63c['_needsUplo'+'ad']||_0x44f63c['_needsMipm'+'apsUpload'])&&(_0x3448f['upload'](this,_0x44f63c),_0x44f63c['_needsUplo'+'ad']=!(-0x1aa6+0x1363*0x1+-0xba*-0xa),_0x44f63c['_needsMipm'+'apsUpload']=!(0x1*0x25a8+-0x206f+-0x538))):this['bindTextur'+'eOnUnit'](_0x44f63c,_0x19f95e);}['createVert'+'exArray'](_0x186e02){let _0x5e64d7,_0x36d4ec;const _0x5ccfc5=_0x186e02['length']>-0x195b*0x1+0xe31+-0x3*-0x3b9;if(_0x5ccfc5){_0x5e64d7='';for(let _0x29cd95=-0x279*0x6+-0x1*0x69+0xf3f*0x1;_0x29cd95<_0x186e02['length'];_0x29cd95++){const _0x5ee7ed=_0x186e02[_0x29cd95];_0x5e64d7+=_0x5ee7ed['id']+_0x5ee7ed['format']['renderingH'+'ash'];}_0x36d4ec=this['_vaoMap']['get'](_0x5e64d7);}if(!_0x36d4ec){const _0x351abd=this['gl'];_0x36d4ec=_0x351abd['createVert'+'exArray'](),_0x351abd['bindVertex'+'Array'](_0x36d4ec),_0x351abd['bindBuffer'](_0x351abd['ELEMENT_AR'+'RAY_BUFFER'],null);let _0x5bda56=!(-0x5*-0x1d2+0x669+0x7c1*-0x2);for(let _0x3dd35a=-0x12a9*0x1+-0x41*-0x47+-0x51*-0x2;_0x3dd35a<_0x186e02['length'];_0x3dd35a++){const _0x4ef825=_0x186e02[_0x3dd35a];_0x351abd['bindBuffer'](_0x351abd['ARRAY_BUFF'+'ER'],_0x4ef825['impl']['bufferId']);const _0x57f331=_0x4ef825['format']['elements'];for(let _0x36b341=0xfcb+0x1165*0x2+-0x3295;_0x36b341<_0x57f331['length'];_0x36b341++){const _0x10a42c=_0x57f331[_0x36b341],_0xd51363=Le[_0x10a42c['name']];_0xd51363===0x24e*0x3+0x21f8+-0x28e2&&(_0x5bda56=!(0x3*-0x83b+-0x211b+0x9*0x66c)),_0x10a42c['asInt']?_0x351abd['vertexAttr'+'ibIPointer'](_0xd51363,_0x10a42c['numCompone'+'nts'],this['glType'][_0x10a42c['dataType']],_0x10a42c['stride'],_0x10a42c['offset']):_0x351abd['vertexAttr'+'ibPointer'](_0xd51363,_0x10a42c['numCompone'+'nts'],this['glType'][_0x10a42c['dataType']],_0x10a42c['normalize'],_0x10a42c['stride'],_0x10a42c['offset']),_0x351abd['enableVert'+'exAttribAr'+'ray'](_0xd51363),_0x4ef825['format']['instancing']&&_0x351abd['vertexAttr'+'ibDivisor'](_0xd51363,0xac*-0x29+0x404+0x1789);}}_0x351abd['bindVertex'+'Array'](null),_0x351abd['bindBuffer'](_0x351abd['ARRAY_BUFF'+'ER'],null),_0x5ccfc5&&this['_vaoMap']['set'](_0x5e64d7,_0x36d4ec),_0x5bda56||w['warn']('No\x20vertex\x20'+'attribute\x20'+'is\x20mapped\x20'+'to\x20locatio'+'n\x200,\x20which'+'\x20might\x20cau'+'se\x20compati'+'bility\x20iss'+'ues\x20on\x20Saf'+'ari\x20on\x20Mac'+'OS\x20-\x20pleas'+'e\x20use\x20attr'+'ibute\x20SEMA'+'NTIC_POSIT'+'ION\x20or\x20SEM'+'ANTIC_ATTR'+'15');}return _0x36d4ec;}['unbindVert'+'exArray'](){this['boundVao']&&(this['boundVao']=null,this['gl']['bindVertex'+'Array'](null));}['setBuffers'](_0x86f24){const _0x893963=this['gl'];let _0x37ac79;if(this['vertexBuff'+'ers']['length']===0x11a*-0x17+0x1*-0x1a96+0x33ed){const _0x1128e3=this['vertexBuff'+'ers'][-0x1989+0xa*-0x166+0x2785];w['assert'](_0x1128e3['device']===this,'The\x20Vertex'+'Buffer\x20was'+'\x20not\x20creat'+'ed\x20using\x20c'+'urrent\x20Gra'+'phicsDevic'+'e'),_0x1128e3['impl']['vao']||(_0x1128e3['impl']['vao']=this['createVert'+'exArray'](this['vertexBuff'+'ers'])),_0x37ac79=_0x1128e3['impl']['vao'];}else _0x37ac79=this['createVert'+'exArray'](this['vertexBuff'+'ers']);this['boundVao']!==_0x37ac79&&(this['boundVao']=_0x37ac79,_0x893963['bindVertex'+'Array'](_0x37ac79));const _0x33c361=_0x86f24?_0x86f24['impl']['bufferId']:null;_0x893963['bindBuffer'](_0x893963['ELEMENT_AR'+'RAY_BUFFER'],_0x33c361);}['draw'](_0x29eb20,_0x460c06,_0x1b7366,_0x3e338a,_0x4f2fc6=!(-0xfe0+0x5be+0xa22*0x1),_0x407718=!(0x43*-0x35+0x7*0x3d+0xc34)){const _0x59e4f8=this['shader'];if(_0x59e4f8&&(this['activateSh'+'ader'](),this['shaderVali'+'d'])){const _0x46088b=this['gl'];_0x4f2fc6&&(w['call'](()=>{var _0x1b6b35,_0x1d7e78;return this['validateAt'+'tributes'](this['shader'],(_0x1b6b35=this['vertexBuff'+'ers'][0xd*0x8f+0x27*-0xe8+-0x4f*-0x5b])==null?void(-0x9d6+0x921*0x3+-0x118d):_0x1b6b35['format'],(_0x1d7e78=this['vertexBuff'+'ers'][-0x8*-0x295+-0x1f*-0x8b+-0x257c])==null?void(-0x2*0x903+-0x53b*-0x2+-0x8*-0xf2):_0x1d7e78['format']);}),this['setBuffers'](_0x460c06));let _0x1d7e98=-0x3*-0x3ad+0x210c+-0xeb1*0x3;const _0x39641d=_0x59e4f8['impl']['samplers'];for(let _0x2384c6=-0x1cb1+-0x7a8+0x2459,_0x3b62ff=_0x39641d['length'];_0x2384c6<_0x3b62ff;_0x2384c6++){const _0x371598=_0x39641d[_0x2384c6];let _0x369114=_0x371598['scopeId']['value'];if(!_0x369114){const _0x176401=_0x371598['scopeId']['name'];w['assert'](_0x176401!=='texture_gr'+'abPass','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27texture'+'_grabPass\x27'+'\x20is\x20not\x20lo'+'nger\x20suppo'+'rted,\x20use\x20'+'\x27uSceneCol'+'orMap\x27\x20ins'+'tead'),w['assert'](_0x176401!=='uDepthMap','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27uDepthM'+'ap\x27\x20is\x20not'+'\x20longer\x20su'+'pported,\x20u'+'se\x20\x27uScene'+'DepthMap\x27\x20'+'instead'),_0x176401==='uSceneDept'+'hMap'&&(w['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x369114=fa(this,'white')),_0x176401==='uSceneColo'+'rMap'&&(w['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x369114=fa(this,'pink')),_0x369114||(w['errorOnce']('Shader\x20'+_0x59e4f8['name']+'\x20requires\x20'+_0x176401+('\x20texture\x20w'+'hich\x20was\x20n'+'ot\x20set.\x20Re'+'ndering\x20[')+Q['toString']()+']',_0x59e4f8),_0x369114=fa(this,'pink'));}if(_0x369114 instanceof _e){const _0xc328b=_0x369114;this['setTexture'](_0xc328b,_0x1d7e98),this['renderTarg'+'et']&&this['renderTarg'+'et']['_samples']<0x2e1+0x1a96+-0x1d75&&(this['renderTarg'+'et']['colorBuffe'+'r']&&this['renderTarg'+'et']['colorBuffe'+'r']===_0xc328b?w['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20color\x20b'+'uffer\x20as\x20a'+'\x20texture',{'renderTarget':this['renderTarg'+'et'],'texture':_0xc328b}):this['renderTarg'+'et']['depthBuffe'+'r']&&this['renderTarg'+'et']['depthBuffe'+'r']===_0xc328b&&w['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20depth\x20b'+'uffer\x20as\x20a'+'\x20texture',{'texture':_0xc328b})),_0x371598['slot']!==_0x1d7e98&&(_0x46088b['uniform1i'](_0x371598['locationId'],_0x1d7e98),_0x371598['slot']=_0x1d7e98),_0x1d7e98++;}else{_0x371598['array']['length']=0x1*0x7ab+-0x62f*-0x4+-0xed*0x23;const _0x5d855b=_0x369114['length'];for(let _0x3aed17=-0x2b*0x75+-0x11*-0x133+-0x1*0xbc;_0x3aed17<_0x5d855b;_0x3aed17++){const _0x242122=_0x369114[_0x3aed17];this['setTexture'](_0x242122,_0x1d7e98),_0x371598['array'][_0x3aed17]=_0x1d7e98,_0x1d7e98++;}_0x46088b['uniform1iv'](_0x371598['locationId'],_0x371598['array']);}}const _0x50855a=_0x59e4f8['impl']['uniforms'];for(let _0x450b5a=-0x7*0x47f+-0x2467*0x1+-0x10*-0x43e,_0x135451=_0x50855a['length'];_0x450b5a<_0x135451;_0x450b5a++){const _0x48a829=_0x50855a[_0x450b5a],_0x5118a5=_0x48a829['scopeId'],_0x394521=_0x48a829['version'],_0x2ebe8b=_0x5118a5['versionObj'+'ect']['version'];if(_0x394521['globalId']!==_0x2ebe8b['globalId']||_0x394521['revision']!==_0x2ebe8b['revision']){_0x394521['globalId']=_0x2ebe8b['globalId'],_0x394521['revision']=_0x2ebe8b['revision'];const _0x2bf5c9=_0x5118a5['value'];_0x2bf5c9!=null?this['commitFunc'+'tion'][_0x48a829['dataType']](_0x48a829,_0x2bf5c9):w['warnOnce']('Shader\x20['+_0x59e4f8['label']+(']\x20requires'+'\x20uniform\x20[')+_0x48a829['scopeId']['name']+(']\x20which\x20ha'+'s\x20not\x20been'+'\x20set,\x20whil'+'e\x20renderin'+'g\x20[')+Q['toString']()+']');}}this['transformF'+'eedbackBuf'+'fer']&&(_0x46088b['bindBuffer'+'Base'](_0x46088b['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x3*0xc69+0x1f*0x3+-0x2598,this['transformF'+'eedbackBuf'+'fer']['impl']['bufferId']),_0x46088b['beginTrans'+'formFeedba'+'ck'](_0x46088b['POINTS']));const _0x4246e9=this['glPrimitiv'+'e'][_0x29eb20['type']],_0x3e5eab=_0x29eb20['count'];if(_0x29eb20['indexed']){w['assert'](_0x460c06['device']===this,'The\x20IndexB'+'uffer\x20was\x20'+'not\x20create'+'d\x20using\x20cu'+'rrent\x20Grap'+'hicsDevice');const _0x5ad04f=_0x460c06['impl']['glFormat'],_0x317e6b=_0x29eb20['base']*_0x460c06['bytesPerIn'+'dex'];_0x1b7366>-0x191+0x1145+-0xfb4*0x1?_0x46088b['drawElemen'+'tsInstance'+'d'](_0x4246e9,_0x3e5eab,_0x5ad04f,_0x317e6b,_0x1b7366):_0x46088b['drawElemen'+'ts'](_0x4246e9,_0x3e5eab,_0x5ad04f,_0x317e6b);}else{const _0x5b3340=_0x29eb20['base'];_0x1b7366>0x2*-0x10ab+0x1c3a+-0x147*-0x4?_0x46088b['drawArrays'+'Instanced'](_0x4246e9,_0x5b3340,_0x3e5eab,_0x1b7366):_0x46088b['drawArrays'](_0x4246e9,_0x5b3340,_0x3e5eab);}this['transformF'+'eedbackBuf'+'fer']&&(_0x46088b['endTransfo'+'rmFeedback'](),_0x46088b['bindBuffer'+'Base'](_0x46088b['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0xd7*0x23+-0x516+-0x184f,null)),this['_drawCalls'+'PerFrame']++,this['_primsPerF'+'rame'][_0x29eb20['type']]+=_0x29eb20['count']*(_0x1b7366>-0x2d5*-0x1+0x957*-0x1+-0x683*-0x1?_0x1b7366:-0x1efb+0x1450+0xaac*0x1);}_0x407718&&this['clearVerte'+'xBuffer']();}['clear'](_0x113e49){const _0x57f1bd=this['defaultCle'+'arOptions'];_0x113e49=_0x113e49||_0x57f1bd;const _0x8c94fd=_0x113e49['flags']??_0x57f1bd['flags'];if(_0x8c94fd!==0x2*0x53b+0x7c*0x1f+-0x197a){const _0x1af741=this['gl'];if(_0x8c94fd&jo){const _0x578b0c=_0x113e49['color']??_0x57f1bd['color'],_0x2a56b9=_0x578b0c[-0xc15+-0x5ea+0x10f*0x11],_0x14129e=_0x578b0c[-0x84a+0x1c21+-0x13d6],_0x55d68f=_0x578b0c[0x1*0x1fd8+-0x20c*-0x2+0x11f7*-0x2],_0x162e2a=_0x578b0c[-0x2c5*-0x1+-0x1c14+-0x7*-0x39e],_0x5c64b5=this['clearColor'];(_0x2a56b9!==_0x5c64b5['r']||_0x14129e!==_0x5c64b5['g']||_0x55d68f!==_0x5c64b5['b']||_0x162e2a!==_0x5c64b5['a'])&&(this['gl']['clearColor'](_0x2a56b9,_0x14129e,_0x55d68f,_0x162e2a),this['clearColor']['set'](_0x2a56b9,_0x14129e,_0x55d68f,_0x162e2a)),this['setBlendSt'+'ate'](pt['NOBLEND']);}if(_0x8c94fd&Yo){const _0x4b81f7=_0x113e49['depth']??_0x57f1bd['depth'];_0x4b81f7!==this['clearDepth']&&(this['gl']['clearDepth'](_0x4b81f7),this['clearDepth']=_0x4b81f7),this['setDepthSt'+'ate'](Yt['WRITEDEPTH']);}if(_0x8c94fd&ch){const _0x37b219=_0x113e49['stencil']??_0x57f1bd['stencil'];_0x37b219!==this['clearStenc'+'il']&&(this['gl']['clearStenc'+'il'](_0x37b219),this['clearStenc'+'il']=_0x37b219),_0x1af741['stencilMas'+'k'](-0x94b+0x7*-0x17d+0x13*0x117),this['stencilWri'+'teMaskFron'+'t']=0x4a*-0x2+0x4d*0x6a+0x1*-0x1e4f,this['stencilWri'+'teMaskBack']=0x1735+0x122e+-0x16*0x1d6;}_0x1af741['clear'](this['glClearFla'+'g'][_0x8c94fd]);}}['submit'](){this['gl']['flush']();}['readPixels'](_0x25b8b5,_0x3c7272,_0x29ea7b,_0x3701a1,_0xde8b6c){const _0x2d3967=this['gl'];_0x2d3967['readPixels'](_0x25b8b5,_0x3c7272,_0x29ea7b,_0x3701a1,_0x2d3967['RGBA'],_0x2d3967['UNSIGNED_B'+'YTE'],_0xde8b6c);}['clientWait'+'Async'](_0x4ce655,_0x24bf7b){const _0x16c901=this['gl'],_0x1f5183=_0x16c901['fenceSync'](_0x16c901['SYNC_GPU_C'+'OMMANDS_CO'+'MPLETE'],0x1e39+-0x25*0x84+0x13d*-0x9);return this['submit'](),new Promise((_0xf16695,_0x124f2d)=>{function _0x4941d2(){const _0x26c58e=_0x16c901['clientWait'+'Sync'](_0x1f5183,_0x4ce655,0x1397+0x19*-0x74+0x2c1*-0x3);_0x26c58e===_0x16c901['TIMEOUT_EX'+'PIRED']?setTimeout(_0x4941d2,_0x24bf7b):(_0x16c901['deleteSync'](_0x1f5183),_0x26c58e===_0x16c901['WAIT_FAILE'+'D']?_0x124f2d(new Error('webgl\x20clie'+'ntWaitSync'+'\x20sync\x20fail'+'ed')):_0xf16695());}_0x4941d2();});}async['readPixels'+'Async'](_0x32e9b5,_0x353737,_0x42c9f7,_0x3edacc,_0x2b360c){var _0x1b51e6;const _0x54a93c=this['gl'],_0x1f5cc4=(_0x1b51e6=this['renderTarg'+'et']['colorBuffe'+'r'])==null?void(0xb0*-0x10+0x2*-0xc15+0x1195*0x2):_0x1b51e6['impl'],_0x93bda3=(_0x1f5cc4==null?void(0x147f+0x9*-0x3f5+0xf1e):_0x1f5cc4['_glFormat'])??_0x54a93c['RGBA'],_0x3c7df7=(_0x1f5cc4==null?void(0x1*-0x2657+0x109b+0x15bc):_0x1f5cc4['_glPixelTy'+'pe'])??_0x54a93c['UNSIGNED_B'+'YTE'],_0x2ba7dd=_0x54a93c['createBuff'+'er']();return _0x54a93c['bindBuffer'](_0x54a93c['PIXEL_PACK'+'_BUFFER'],_0x2ba7dd),_0x54a93c['bufferData'](_0x54a93c['PIXEL_PACK'+'_BUFFER'],_0x2b360c['byteLength'],_0x54a93c['STREAM_REA'+'D']),_0x54a93c['readPixels'](_0x32e9b5,_0x353737,_0x42c9f7,_0x3edacc,_0x93bda3,_0x3c7df7,0x16*0x16e+0x1*0x1e5e+0x1*-0x3dd2),_0x54a93c['bindBuffer'](_0x54a93c['PIXEL_PACK'+'_BUFFER'],null),await this['clientWait'+'Async'](0x4f+0x209*-0x1+-0x1ba*-0x1,-0x1d*0x6d+-0x1*-0x16dd+-0xa74),_0x54a93c['bindBuffer'](_0x54a93c['PIXEL_PACK'+'_BUFFER'],_0x2ba7dd),_0x54a93c['getBufferS'+'ubData'](_0x54a93c['PIXEL_PACK'+'_BUFFER'],-0x91b+0x111c+-0x1*0x801,_0x2b360c),_0x54a93c['bindBuffer'](_0x54a93c['PIXEL_PACK'+'_BUFFER'],null),_0x54a93c['deleteBuff'+'er'](_0x2ba7dd),_0x2b360c;}['readTextur'+'eAsync'](_0x508ebb,_0x132904,_0x3f02a7,_0x56f41e,_0x3b14e9,_0x22d820){const _0x3b207e=_0x22d820['face']??-0x1cc+-0xc8e*0x1+0xe5a,_0x2d6a41=_0x22d820['renderTarg'+'et']??new gt({'colorBuffer':_0x508ebb,'depth':!(-0x25f7+-0x1*-0x2203+0x3f5*0x1),'face':_0x3b207e});w['assert'](_0x2d6a41['colorBuffe'+'r']===_0x508ebb);const _0x3f94d0=new ArrayBuffer(Xi['calcLevelG'+'puSize'](_0x56f41e,_0x3b14e9,-0x1c2d+0x2ae+-0x20*-0xcc,_0x508ebb['_format'])),_0x4a7f2a=_0x22d820['data']??new(my(_0x508ebb['_format']))(_0x3f94d0);return this['setRenderT'+'arget'](_0x2d6a41),this['initRender'+'Target'](_0x2d6a41),new Promise((_0x58cef2,_0x2541cd)=>{this['readPixels'+'Async'](_0x132904,_0x3f02a7,_0x56f41e,_0x3b14e9,_0x4a7f2a)['then'](_0x5c1247=>{_0x22d820['renderTarg'+'et']||_0x2d6a41['destroy'](),_0x58cef2(_0x5c1247);})['catch'](_0x2541cd);});}async['writeTextu'+'reAsync'](_0x183eef,_0x5632c5,_0x2306e0,_0x175be9,_0x2325e7,_0x34598d){const _0x55d29=this['gl'],_0xc6f30b=_0x183eef['impl'],_0x1eae2f=(_0xc6f30b==null?void(0x1*0x1ad9+-0x1954*0x1+-0x185):_0xc6f30b['_glFormat'])??_0x55d29['RGBA'],_0x42df79=(_0xc6f30b==null?void(0x3*0xbce+-0x15b4+-0xdb6):_0xc6f30b['_glPixelTy'+'pe'])??_0x55d29['UNSIGNED_B'+'YTE'],_0x51cb1a=_0x55d29['createBuff'+'er']();_0x55d29['bindBuffer'](_0x55d29['PIXEL_UNPA'+'CK_BUFFER'],_0x51cb1a),_0x55d29['bufferData'](_0x55d29['PIXEL_UNPA'+'CK_BUFFER'],_0x34598d,_0x55d29['STREAM_DRA'+'W']),_0x55d29['bindTextur'+'e'](_0x55d29['TEXTURE_2D'],_0xc6f30b['_glTexture']),_0x55d29['texSubImag'+'e2D'](_0x55d29['TEXTURE_2D'],0x3*0xc89+-0x6*-0x574+-0x11*0x423,_0x5632c5,_0x2306e0,_0x175be9,_0x2325e7,_0x1eae2f,_0x42df79,0x26d5+0x913+-0x2fe8),_0x55d29['bindBuffer'](_0x55d29['PIXEL_UNPA'+'CK_BUFFER'],null),_0x183eef['_needsUplo'+'ad']=!(-0xb97+-0x2e7*-0x1+0x59*0x19),_0x183eef['_mipmapsUp'+'loaded']=!(-0x15ba+0x1ec4+-0x909),await this['clientWait'+'Async'](-0x201d+-0x4*-0x1e1+0x1899,-0x15*0xe2+-0x2196+0x3430);}['setAlphaTo'+'Coverage'](_0x4bc7ca){this['alphaToCov'+'erage']!==_0x4bc7ca&&(this['alphaToCov'+'erage']=_0x4bc7ca,_0x4bc7ca?this['gl']['enable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']):this['gl']['disable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']));}['setTransfo'+'rmFeedback'+'Buffer'](_0x244428){if(this['transformF'+'eedbackBuf'+'fer']!==_0x244428){this['transformF'+'eedbackBuf'+'fer']=_0x244428;const _0x5401e8=this['gl'];_0x244428?(this['feedback']||(this['feedback']=_0x5401e8['createTran'+'sformFeedb'+'ack']()),_0x5401e8['bindTransf'+'ormFeedbac'+'k'](_0x5401e8['TRANSFORM_'+'FEEDBACK'],this['feedback'])):_0x5401e8['bindTransf'+'ormFeedbac'+'k'](_0x5401e8['TRANSFORM_'+'FEEDBACK'],null);}}['setRaster'](_0x2c22fa){this['raster']!==_0x2c22fa&&(this['raster']=_0x2c22fa,_0x2c22fa?this['gl']['disable'](this['gl']['RASTERIZER'+'_DISCARD']):this['gl']['enable'](this['gl']['RASTERIZER'+'_DISCARD']));}['setStencil'+'Test'](_0x3be603){if(this['stencil']!==_0x3be603){const _0x4d01bf=this['gl'];_0x3be603?_0x4d01bf['enable'](_0x4d01bf['STENCIL_TE'+'ST']):_0x4d01bf['disable'](_0x4d01bf['STENCIL_TE'+'ST']),this['stencil']=_0x3be603;}}['setStencil'+'Func'](_0x7c7acd,_0x34c3c1,_0x4677fb){(this['stencilFun'+'cFront']!==_0x7c7acd||this['stencilRef'+'Front']!==_0x34c3c1||this['stencilMas'+'kFront']!==_0x4677fb||this['stencilFun'+'cBack']!==_0x7c7acd||this['stencilRef'+'Back']!==_0x34c3c1||this['stencilMas'+'kBack']!==_0x4677fb)&&(this['gl']['stencilFun'+'c'](this['glComparis'+'on'][_0x7c7acd],_0x34c3c1,_0x4677fb),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=_0x7c7acd,this['stencilRef'+'Front']=this['stencilRef'+'Back']=_0x34c3c1,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=_0x4677fb);}['setStencil'+'FuncFront'](_0x3158a0,_0x2756c9,_0x51be0b){if(this['stencilFun'+'cFront']!==_0x3158a0||this['stencilRef'+'Front']!==_0x2756c9||this['stencilMas'+'kFront']!==_0x51be0b){const _0x116a63=this['gl'];_0x116a63['stencilFun'+'cSeparate'](_0x116a63['FRONT'],this['glComparis'+'on'][_0x3158a0],_0x2756c9,_0x51be0b),this['stencilFun'+'cFront']=_0x3158a0,this['stencilRef'+'Front']=_0x2756c9,this['stencilMas'+'kFront']=_0x51be0b;}}['setStencil'+'FuncBack'](_0x156bd5,_0x54903d,_0x30aea3){if(this['stencilFun'+'cBack']!==_0x156bd5||this['stencilRef'+'Back']!==_0x54903d||this['stencilMas'+'kBack']!==_0x30aea3){const _0x2a77b8=this['gl'];_0x2a77b8['stencilFun'+'cSeparate'](_0x2a77b8['BACK'],this['glComparis'+'on'][_0x156bd5],_0x54903d,_0x30aea3),this['stencilFun'+'cBack']=_0x156bd5,this['stencilRef'+'Back']=_0x54903d,this['stencilMas'+'kBack']=_0x30aea3;}}['setStencil'+'Operation'](_0x2f359f,_0x466abd,_0x233301,_0x2649e2){(this['stencilFai'+'lFront']!==_0x2f359f||this['stencilZfa'+'ilFront']!==_0x466abd||this['stencilZpa'+'ssFront']!==_0x233301||this['stencilFai'+'lBack']!==_0x2f359f||this['stencilZfa'+'ilBack']!==_0x466abd||this['stencilZpa'+'ssBack']!==_0x233301)&&(this['gl']['stencilOp'](this['glStencilO'+'p'][_0x2f359f],this['glStencilO'+'p'][_0x466abd],this['glStencilO'+'p'][_0x233301]),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=_0x2f359f,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=_0x466abd,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=_0x233301),(this['stencilWri'+'teMaskFron'+'t']!==_0x2649e2||this['stencilWri'+'teMaskBack']!==_0x2649e2)&&(this['gl']['stencilMas'+'k'](_0x2649e2),this['stencilWri'+'teMaskFron'+'t']=_0x2649e2,this['stencilWri'+'teMaskBack']=_0x2649e2);}['setStencil'+'OperationF'+'ront'](_0x5a42fe,_0x4e0eac,_0x36890a,_0x2cf5e7){(this['stencilFai'+'lFront']!==_0x5a42fe||this['stencilZfa'+'ilFront']!==_0x4e0eac||this['stencilZpa'+'ssFront']!==_0x36890a)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['FRONT'],this['glStencilO'+'p'][_0x5a42fe],this['glStencilO'+'p'][_0x4e0eac],this['glStencilO'+'p'][_0x36890a]),this['stencilFai'+'lFront']=_0x5a42fe,this['stencilZfa'+'ilFront']=_0x4e0eac,this['stencilZpa'+'ssFront']=_0x36890a),this['stencilWri'+'teMaskFron'+'t']!==_0x2cf5e7&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['FRONT'],_0x2cf5e7),this['stencilWri'+'teMaskFron'+'t']=_0x2cf5e7);}['setStencil'+'OperationB'+'ack'](_0x413991,_0x3c1b60,_0x2a8328,_0x531278){(this['stencilFai'+'lBack']!==_0x413991||this['stencilZfa'+'ilBack']!==_0x3c1b60||this['stencilZpa'+'ssBack']!==_0x2a8328)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['BACK'],this['glStencilO'+'p'][_0x413991],this['glStencilO'+'p'][_0x3c1b60],this['glStencilO'+'p'][_0x2a8328]),this['stencilFai'+'lBack']=_0x413991,this['stencilZfa'+'ilBack']=_0x3c1b60,this['stencilZpa'+'ssBack']=_0x2a8328),this['stencilWri'+'teMaskBack']!==_0x531278&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['BACK'],_0x531278),this['stencilWri'+'teMaskBack']=_0x531278);}['setBlendSt'+'ate'](_0x573469){const _0x281dcd=this['blendState'];if(!_0x281dcd['equals'](_0x573469)){const _0x24dbb8=this['gl'],{blend:_0x1b96c4,colorOp:_0x48daff,alphaOp:_0x36eab3,colorSrcFactor:_0x332097,colorDstFactor:_0x37d4fd,alphaSrcFactor:_0x3fa44e,alphaDstFactor:_0x235a35}=_0x573469;if(_0x281dcd['blend']!==_0x1b96c4&&(_0x1b96c4?_0x24dbb8['enable'](_0x24dbb8['BLEND']):_0x24dbb8['disable'](_0x24dbb8['BLEND'])),_0x281dcd['colorOp']!==_0x48daff||_0x281dcd['alphaOp']!==_0x36eab3){const _0x534cc5=this['glBlendEqu'+'ation'];_0x24dbb8['blendEquat'+'ionSeparat'+'e'](_0x534cc5[_0x48daff],_0x534cc5[_0x36eab3]);}(_0x281dcd['colorSrcFa'+'ctor']!==_0x332097||_0x281dcd['colorDstFa'+'ctor']!==_0x37d4fd||_0x281dcd['alphaSrcFa'+'ctor']!==_0x3fa44e||_0x281dcd['alphaDstFa'+'ctor']!==_0x235a35)&&_0x24dbb8['blendFuncS'+'eparate'](this['glBlendFun'+'ctionColor'][_0x332097],this['glBlendFun'+'ctionColor'][_0x37d4fd],this['glBlendFun'+'ctionAlpha'][_0x3fa44e],this['glBlendFun'+'ctionAlpha'][_0x235a35]),_0x281dcd['allWrite']!==_0x573469['allWrite']&&this['gl']['colorMask'](_0x573469['redWrite'],_0x573469['greenWrite'],_0x573469['blueWrite'],_0x573469['alphaWrite']),_0x281dcd['copy'](_0x573469);}}['setBlendCo'+'lor'](_0x43faed,_0x34359f,_0x321cc5,_0x4bfc6d){const _0x2a982a=this['blendColor'];(_0x43faed!==_0x2a982a['r']||_0x34359f!==_0x2a982a['g']||_0x321cc5!==_0x2a982a['b']||_0x4bfc6d!==_0x2a982a['a'])&&(this['gl']['blendColor'](_0x43faed,_0x34359f,_0x321cc5,_0x4bfc6d),_0x2a982a['set'](_0x43faed,_0x34359f,_0x321cc5,_0x4bfc6d));}['setStencil'+'State'](_0x2725a0,_0x565d09){_0x2725a0||_0x565d09?(this['setStencil'+'Test'](!(0x1*0x60a+-0x1c5c+-0x1*-0x1652)),_0x2725a0===_0x565d09?(this['setStencil'+'Func'](_0x2725a0['func'],_0x2725a0['ref'],_0x2725a0['readMask']),this['setStencil'+'Operation'](_0x2725a0['fail'],_0x2725a0['zfail'],_0x2725a0['zpass'],_0x2725a0['writeMask'])):(_0x2725a0??(_0x2725a0=pi['DEFAULT']),this['setStencil'+'FuncFront'](_0x2725a0['func'],_0x2725a0['ref'],_0x2725a0['readMask']),this['setStencil'+'OperationF'+'ront'](_0x2725a0['fail'],_0x2725a0['zfail'],_0x2725a0['zpass'],_0x2725a0['writeMask']),_0x565d09??(_0x565d09=pi['DEFAULT']),this['setStencil'+'FuncBack'](_0x565d09['func'],_0x565d09['ref'],_0x565d09['readMask']),this['setStencil'+'OperationB'+'ack'](_0x565d09['fail'],_0x565d09['zfail'],_0x565d09['zpass'],_0x565d09['writeMask']))):this['setStencil'+'Test'](!(-0x17b7+0x1*-0x13bc+0x19c*0x1b));}['setDepthSt'+'ate'](_0x87df5b){const _0x17002c=this['depthState'];if(!_0x17002c['equals'](_0x87df5b)){const _0x51b9d7=this['gl'],_0x3f0ec4=_0x87df5b['write'];_0x17002c['write']!==_0x3f0ec4&&_0x51b9d7['depthMask'](_0x3f0ec4);let {func:_0x2e858c,test:_0x226acb}=_0x87df5b;!_0x226acb&&_0x3f0ec4&&(_0x226acb=!(-0x1*-0x269b+-0x13e*0x11+0xb*-0x197),_0x2e858c=Wi),_0x17002c['func']!==_0x2e858c&&_0x51b9d7['depthFunc'](this['glComparis'+'on'][_0x2e858c]),_0x17002c['test']!==_0x226acb&&(_0x226acb?_0x51b9d7['enable'](_0x51b9d7['DEPTH_TEST']):_0x51b9d7['disable'](_0x51b9d7['DEPTH_TEST']));const {depthBias:_0x593ee3,depthBiasSlope:_0x2aef43}=_0x87df5b;_0x593ee3||_0x2aef43?(this['depthBiasE'+'nabled']||(this['depthBiasE'+'nabled']=!(0x2355+-0x161*0x14+-0x7c1),this['gl']['enable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x51b9d7['polygonOff'+'set'](_0x2aef43,_0x593ee3)):this['depthBiasE'+'nabled']&&(this['depthBiasE'+'nabled']=!(0x6a3+-0x201c+0x197a),this['gl']['disable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x17002c['copy'](_0x87df5b);}}['setCullMod'+'e'](_0x552836){if(this['cullMode']!==_0x552836){if(_0x552836===bt)this['gl']['disable'](this['gl']['CULL_FACE']);else{this['cullMode']===bt&&this['gl']['enable'](this['gl']['CULL_FACE']);const _0x36e3b0=this['glCull'][_0x552836];this['cullFace']!==_0x36e3b0&&(this['gl']['cullFace'](_0x36e3b0),this['cullFace']=_0x36e3b0);}this['cullMode']=_0x552836;}}['setShader'](_0x20a44e,_0x59fa0b=!(-0x4e+-0x1*0x24b+0x12*0x25)){_0x20a44e!==this['shader']&&(this['shader']=_0x20a44e,this['shaderAsyn'+'cCompile']=_0x59fa0b,this['shaderVali'+'d']=void(0x68+0x361+-0x3c9),this['_shaderSwi'+'tchesPerFr'+'ame']++);}['activateSh'+'ader'](){const {shader:_0x28c95d}=this,{impl:_0x4f1b3a}=_0x28c95d;this['shaderVali'+'d']===void(-0x1*-0xabb+0xa07+-0x14c2)&&(_0x28c95d['failed']?this['shaderVali'+'d']=!(0x1685*0x1+0x7*-0x281+0x1*-0x4fd):_0x28c95d['ready']||(this['shaderAsyn'+'cCompile']?_0x4f1b3a['isLinked'](this)?_0x4f1b3a['finalize'](this,_0x28c95d)||(_0x28c95d['failed']=!(-0x1*0x1862+0x195a+-0x4*0x3e),this['shaderVali'+'d']=!(0x2291+-0x3*0x362+-0x2*0xc35)):this['shaderVali'+'d']=!(0x4e1*-0x1+0x3*-0x61f+0x173f):_0x4f1b3a['finalize'](this,_0x28c95d)||(_0x28c95d['failed']=!(0x11b*-0x15+0xd38+-0x355*-0x3),this['shaderVali'+'d']=!(-0x1e8*0x13+0x556*0x1+0x1ee3)))),this['shaderVali'+'d']===void(-0x11d4+0xc28+0x5ac)&&(this['gl']['useProgram'](_0x4f1b3a['glProgram']),this['shaderVali'+'d']=!(-0x42*0x41+-0x1*-0x2239+-0x1177));}['clearVerte'+'xArrayObje'+'ctCache'](){const _0x5bacd6=this['gl'];this['_vaoMap']['forEach']((_0x41739c,_0x570bf7,_0x3b5247)=>{_0x5bacd6['deleteVert'+'exArray'](_0x41739c);}),this['_vaoMap']['clear']();}set['fullscreen'](_0x61bc29){_0x61bc29?this['gl']['canvas']['requestFul'+'lscreen']():document['exitFullsc'+'reen']();}get['fullscreen'](){return!!document['fullscreen'+'Element'];}['debugLoseC'+'ontext'](_0x3ca95d=0x12f*0x13+-0x2*0x995+-0x2ef*0x1){const _0xf056bb=this['gl']['getExtensi'+'on']('WEBGL_lose'+'_context');_0xf056bb['loseContex'+'t'](),setTimeout(()=>_0xf056bb['restoreCon'+'text'](),_0x3ca95d);}}let nw=0x1*0x7dd+-0x3ea+-0x3f3;class br{constructor(_0x1cb25c,_0x2834c3,_0x166a66,_0x33e603=ms,_0x20a45b,_0x5966aa){this['device']=_0x1cb25c,this['format']=_0x2834c3,this['numIndices']=_0x166a66,this['usage']=_0x33e603,this['id']=nw++,this['impl']=_0x1cb25c['createInde'+'xBufferImp'+'l'](this,_0x5966aa);const _0x4baaf2=hT[_0x2834c3];this['bytesPerIn'+'dex']=_0x4baaf2,this['numBytes']=this['numIndices']*_0x4baaf2,_0x20a45b?this['setData'](_0x20a45b):this['storage']=new ArrayBuffer(this['numBytes']),this['adjustVram'+'SizeTracki'+'ng'](_0x1cb25c['_vram'],this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x1ee2d6=this['device'],_0x37b0af=_0x1ee2d6['buffers']['indexOf'](this);_0x37b0af!==-(0xf76+-0x11f*-0x19+0x5c*-0x79)&&_0x1ee2d6['buffers']['splice'](_0x37b0af,-0xc5*-0x7+-0x5*-0x307+-0x1485),this['device']['indexBuffe'+'r']===this&&(this['device']['indexBuffe'+'r']=null),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x1ee2d6),this['adjustVram'+'SizeTracki'+'ng'](_0x1ee2d6['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x3d7899,_0x2516f0){w['trace'](j0,this['id']+'\x20size:\x20'+_0x2516f0+'\x20vram.ib:\x20'+_0x3d7899['ib']+'\x20=>\x20'+(_0x3d7899['ib']+_0x2516f0)),_0x3d7899['ib']+=_0x2516f0;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getNumIndi'+'ces'](){return this['numIndices'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x5928b9){return _0x5928b9['byteLength']!==this['numBytes']?(w['error']('IndexBuffe'+'r:\x20wrong\x20i'+'nitial\x20dat'+'a\x20size:\x20ex'+'pected\x20'+this['numBytes']+',\x20got\x20'+_0x5928b9['byteLength']),!(-0x1*0xe9+0x1500+0x2*-0xa0b)):(this['storage']=_0x5928b9,this['unlock'](),!(0x3*0x7ff+-0xb5*-0x1b+-0x2b14));}['_lockTyped'+'Array'](){const _0x490d50=this['lock']();return this['format']===wr?new Uint32Array(_0x490d50):this['format']===Yi?new Uint16Array(_0x490d50):new Uint8Array(_0x490d50);}['writeData'](_0x5be3ba,_0x57ee58){const _0x2fcbca=this['_lockTyped'+'Array']();if(_0x5be3ba['length']>_0x57ee58){if(ArrayBuffer['isView'](_0x5be3ba))_0x5be3ba=_0x5be3ba['subarray'](0xfa0+0x257+-0x11f7,_0x57ee58),_0x2fcbca['set'](_0x5be3ba);else{for(let _0x35afdd=0xb*-0x20e+0x3b3+0x1*0x12e7;_0x35afdd<_0x57ee58;_0x35afdd++)_0x2fcbca[_0x35afdd]=_0x5be3ba[_0x35afdd];}}else _0x2fcbca['set'](_0x5be3ba);this['unlock']();}['readData'](_0x382d0a){const _0x591a4c=this['_lockTyped'+'Array'](),_0x1efc07=this['numIndices'];if(ArrayBuffer['isView'](_0x382d0a))_0x382d0a['set'](_0x591a4c);else{_0x382d0a['length']=0x32*0x41+-0x1fc9*0x1+0x1317;for(let _0x571480=-0x126+-0x23c7+0x24ed;_0x571480<_0x1efc07;_0x571480++)_0x382d0a[_0x571480]=_0x591a4c[_0x571480];}return _0x1efc07;}}class ow{constructor(){h(this,'clearValue',new ie(-0xcbd*0x2+0x195*0x5+0x3*0x5db,-0x577*-0x2+-0x1e8f+0x13a1,-0x29*-0x61+0x1ae5+-0x2a6e,0xa6d+0xfa2+0x1a0e*-0x1)),h(this,'clearValue'+'Linear',new ie(-0x67d+0x457*0x3+0x4*-0x1a2,0x20d7+0x1*0x22+-0x20f9,-0x77+-0x2385+0x1*0x23fc,-0x1e7f+0x11c*0x10+0xcc0)),h(this,'clear',!(-0x1833+-0x20b9*0x1+-0x13*-0x2ff)),h(this,'store',!(-0x26f0+-0xcce*-0x2+0xd55)),h(this,'resolve',!(-0x1eb*0x13+0x1d7*0x3+0x1eec)),h(this,'genMipmaps',!(0x799+0x2134+-0x1466*0x2));}}class lw{constructor(){h(this,'clearDepth'+'Value',-0x241*0x10+-0x7*-0x13d+0x1b66),h(this,'clearStenc'+'ilValue',-0x4*-0x737+0x3*-0x31d+-0x107*0x13),h(this,'clearDepth',!(-0x1fe7+-0x13*0x1ea+0x4446)),h(this,'clearStenc'+'il',!(0xb5*0xc+-0x1*-0x1c4+0x2b*-0x3d)),h(this,'storeDepth',!(-0x86e+-0xe1b+0xa*0x241)),h(this,'resolveDep'+'th',!(-0x84b+0x1683*0x1+-0xe37)),h(this,'storeStenc'+'il',!(-0x13ae+-0x89*0x6+0x16e5));}}class ys{constructor(_0x1327d1){h(this,'_name'),h(this,'device'),h(this,'_enabled',!(-0x1bf5+-0x819+0x240e)),h(this,'_skipStart',!(0xc1d+0x2323+-0x2f3f)),h(this,'_skipEnd',!(-0x178b+-0x1977*0x1+-0x1*-0x3103)),h(this,'executeEna'+'bled',!(0x26*0x95+0x2699*-0x1+-0x107b*-0x1)),h(this,'renderTarg'+'et'),h(this,'_options'),h(this,'samples',0xca*-0x2f+-0xd26+0xa*0x506),h(this,'colorArray'+'Ops',[]),h(this,'depthStenc'+'ilOps'),h(this,'requiresCu'+'bemaps',!(0x262e+0x5*-0x2ce+-0x1828*0x1)),h(this,'fullSizeCl'+'earRect',!(0x13dc+-0x1*0x18de+0x502)),h(this,'beforePass'+'es',[]),h(this,'afterPasse'+'s',[]),(w['assert'](_0x1327d1),this['device']=_0x1327d1);}get['colorOps'](){return this['colorArray'+'Ops'][-0x2*0xb5d+0x2474*0x1+0xdba*-0x1];}set['name'](_0x3f80c9){this['_name']=_0x3f80c9;}get['name'](){return this['_name']||(this['_name']=this['constructo'+'r']['name']),this['_name'];}set['scaleX'](_0x15ce7b){w['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleX']=_0x15ce7b;}get['scaleX'](){return this['_options']['scaleX'];}set['scaleY'](_0x1b70f9){w['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleY']=_0x1b70f9;}get['scaleY'](){return this['_options']['scaleY'];}set['options'](_0x13dd84){this['_options']=_0x13dd84,_0x13dd84&&(this['scaleX']=this['scaleX']??0x1470+-0x1*-0x1783+-0x2bf2,this['scaleY']=this['scaleY']??0x1*0x463+-0x1*-0x905+0x49*-0x2f);}get['options'](){return this['_options'];}['init'](_0x57680d=null,_0x29a75e){this['options']=_0x29a75e,this['renderTarg'+'et']=_0x57680d,this['samples']=Math['max'](this['renderTarg'+'et']?this['renderTarg'+'et']['samples']:this['device']['samples'],-0xc+0x26*-0x59+0x7*0x1e5),this['allocateAt'+'tachments'](),this['postInit']();}['allocateAt'+'tachments'](){var _0x4e3c77,_0x136ed9,_0x3f3119,_0xc21ba1;const _0x5800c7=this['renderTarg'+'et'];this['depthStenc'+'ilOps']=new lw(),_0x5800c7!=null&&_0x5800c7['depthBuffe'+'r']&&(this['depthStenc'+'ilOps']['storeDepth']=!(-0x1*0x1115+-0x43*0x8f+-0x1*-0x3682));const _0xd2e41c=_0x5800c7?((_0x4e3c77=_0x5800c7['_colorBuff'+'ers'])==null?void(0x4af*-0x7+0x15f9+-0x2b4*-0x4):_0x4e3c77['length'])??-0x14c7+-0x3*0xa43+0x3390:0x129*0x5+-0x1d55+0x4b5*0x5;this['colorArray'+'Ops']['length']=0x186a+-0x1d24+-0xf2*-0x5;for(let _0x34173d=0x281*-0xc+-0xf21+0x2d2d;_0x34173d<_0xd2e41c;_0x34173d++){const _0x151f11=new ow();this['colorArray'+'Ops'][_0x34173d]=_0x151f11,this['samples']===0x25bd+0x2171*-0x1+-0x44b&&(_0x151f11['store']=!(0x14c*0x10+0x1ebb+-0x337b),_0x151f11['resolve']=!(-0xd54+-0x19ea+0x273f));const _0x390168=(_0x3f3119=(_0x136ed9=this['renderTarg'+'et'])==null?void(-0xc75*-0x1+-0x1ebb*-0x1+0x2b30*-0x1):_0x136ed9['_colorBuff'+'ers'])==null?void(0x3*-0x312+-0x947*-0x4+-0x1be6):_0x3f3119[_0x34173d];if((_0xc21ba1=this['renderTarg'+'et'])!=null&&_0xc21ba1['mipmaps']&&(_0x390168!=null&&_0x390168['mipmaps'])){const _0x32f625=dn(_0x390168['_format']);_0x151f11['genMipmaps']=!_0x32f625;}}}['destroy'](){}['postInit'](){}['frameUpdat'+'e'](){if(this['_options']&&this['renderTarg'+'et']){const _0x4232cb=this['_options']['resizeSour'+'ce']??this['device']['backBuffer'],_0x4e1bfb=Math['floor'](_0x4232cb['width']*this['scaleX']),_0x517323=Math['floor'](_0x4232cb['height']*this['scaleY']);this['renderTarg'+'et']['resize'](_0x4e1bfb,_0x517323);}}['before'](){}['execute'](){}['after'](){}['onEnable'](){}['onDisable'](){}set['enabled'](_0x500c04){this['_enabled']!==_0x500c04&&(this['_enabled']=_0x500c04,_0x500c04?this['onEnable']():this['onDisable']());}get['enabled'](){return this['_enabled'];}['setClearCo'+'lor'](_0x4fa4b9){const _0x4625d4=this['colorArray'+'Ops']['length'];for(let _0x58fe0c=-0x1314+-0x1ed1+0x31e5;_0x58fe0c<_0x4625d4;_0x58fe0c++){const _0x2e25e1=this['colorArray'+'Ops'][_0x58fe0c];_0x4fa4b9&&(_0x2e25e1['clearValue']['copy'](_0x4fa4b9),_0x2e25e1['clearValue'+'Linear']['linear'](_0x4fa4b9)),_0x2e25e1['clear']=!!_0x4fa4b9;}}['setClearDe'+'pth'](_0x55ef74){_0x55ef74&&(this['depthStenc'+'ilOps']['clearDepth'+'Value']=_0x55ef74),this['depthStenc'+'ilOps']['clearDepth']=_0x55ef74!==void(-0x2384+0xc3d+-0x1*-0x1747);}['setClearSt'+'encil'](_0x56e5f2){_0x56e5f2&&(this['depthStenc'+'ilOps']['clearStenc'+'ilValue']=_0x56e5f2),this['depthStenc'+'ilOps']['clearStenc'+'il']=_0x56e5f2!==void(0x75*-0x53+0x1*-0x13db+-0x1ce5*-0x2);}['render'](){if(this['enabled']){const _0x1770a9=this['device'],_0xfd2f87=this['renderTarg'+'et']!==void(0x1*-0x1286+-0x1*-0x22e5+0x575*-0x3);w['call'](()=>{this['log'](_0x1770a9,_0x1770a9['renderPass'+'Index']);}),this['before'](),this['executeEna'+'bled']&&(_0xfd2f87&&!this['_skipStart']&&_0x1770a9['startRende'+'rPass'](this),this['execute'](),_0xfd2f87&&!this['_skipEnd']&&_0x1770a9['endRenderP'+'ass'](this)),this['after'](),_0x1770a9['renderPass'+'Index']++;}}['log'](_0x3caaad,_0x1300c6=-0x110e*0x2+-0x1*0x1f13+-0x197*-0x29){var _0x2c84be,_0x26e49a,_0x43969b;if(mi['get'](Pm)||mi['get'](cn)){const _0xa01f28=this['renderTarg'+'et']??(this['renderTarg'+'et']===null?_0x3caaad['backBuffer']:null),_0x47fd72=!!(_0xa01f28!=null&&_0xa01f28['impl']['assignedCo'+'lorTexture'])||(_0xa01f28==null?void(0x3d*0x2+-0x19f3*0x1+0x1979):_0xa01f28['impl']['suppliedCo'+'lorFramebu'+'ffer'])!==void(0x913+-0x107e+-0xd3*-0x9),_0x39d325=((_0x2c84be=_0xa01f28==null?void(-0x1be9+-0x2*0x3c+0x1*0x1c61):_0xa01f28['_colorBuff'+'ers'])==null?void(-0x25*-0x20+-0xf6d+0xacd):_0x2c84be['length'])??(_0x47fd72?0x246e+-0x90f+-0x1b5e:0x1*-0x8df+-0x7e8+0x10c7),_0x212640=_0xa01f28==null?void(-0x3bf*-0x4+0x19*0x135+-0x2d29):_0xa01f28['depth'],_0x49c246=_0xa01f28==null?void(-0x2*0x39+-0x254+0x2c6):_0xa01f28['stencil'],_0x1f942e=_0xa01f28==null?void(-0xf11+-0xf75*-0x1+-0x64):_0xa01f28['mipLevel'],_0xb373d1=_0xa01f28?'\x20RT:\x20'+(_0xa01f28?_0xa01f28['name']:'NULL')+'\x20'+(_0x39d325>0x119*-0x3+-0x5*-0x1bb+-0xc4*0x7?'[Color'+(_0x39d325>-0x431*0x6+-0x807+0x212e?'\x20x\x20'+_0x39d325:'')+']':'')+(_0x212640?'[Depth]':'')+(_0x49c246?'[Stencil]':'')+'\x20'+_0xa01f28['width']+'\x20x\x20'+_0xa01f28['height']+(this['samples']>0x20e7*0x1+-0x194c+0xb*-0xb1?'\x20samples:\x20'+this['samples']:'')+(_0x1f942e>-0x1055+-0x23c3+0x3418?'\x20mipLevel:'+'\x20'+_0x1f942e:''):'',_0x2cdb16=this['_skipStart']?'++':_0x1300c6['toString']()['padEnd'](0x11b3+0x1*0x3bb+-0x1c9*0xc,'\x20');w['trace'](Pm,_0x2cdb16+':\x20'+this['name']['padEnd'](0x2bd+0x1eba+-0x2163,'\x20')+(this['executeEna'+'bled']?'':'\x20DISABLED\x20')+_0xb373d1['padEnd'](0xa9f*-0x1+-0x1*-0x2057+-0x159a));for(let _0x387849=0x117f+-0xf4d*-0x2+-0x3019;_0x387849<_0x39d325;_0x387849++){const _0x65a9d4=this['colorArray'+'Ops'][_0x387849],_0x27bcdd=(_0x26e49a=Nt['get'](_0x47fd72?_0x3caaad['backBuffer'+'Format']:_0xa01f28['getColorBu'+'ffer'](_0x387849)['format']))==null?void(-0x13ef+-0x1c91+0x3080):_0x26e49a['name'];w['trace'](cn,'\x20\x20\x20\x20color['+_0x387849+']:\x20'+(_0x65a9d4['clear']?'clear':'load')+'->'+(_0x65a9d4['store']?'store':'discard')+'\x20'+(_0x65a9d4['resolve']?'resolve\x20':'')+(_0x65a9d4['genMipmaps']?'mipmaps\x20':'')+'\x20[format:\x20'+_0x27bcdd+']\x20'+(_0x65a9d4['clear']?'[clear:\x20'+_0x65a9d4['clearValue']['toString'](!(-0xc13+0x13*0x1a6+-0x1*0x133f),!(0x5*0x295+-0x2185+0x149c))+']':''));}if(this['depthStenc'+'ilOps']){const _0xebe4f7=''+(_0xa01f28['depthBuffe'+'r']?'\x20[format:\x20'+((_0x43969b=Nt['get'](_0xa01f28['depthBuffe'+'r']['format']))==null?void(-0x1*0x1bbb+0x18b9+0x9a*0x5):_0x43969b['name'])+']':'');_0x212640&&w['trace'](cn,'\x20\x20\x20\x20depthO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearDepth']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeDepth']?'store':'discard')+(this['depthStenc'+'ilOps']['resolveDep'+'th']?'\x20resolve':'')+_0xebe4f7+(this['depthStenc'+'ilOps']['clearDepth']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearDepth'+'Value']+']':'')),_0x49c246&&w['trace'](cn,'\x20\x20\x20\x20stencO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeStenc'+'il']?'store':'discard')+_0xebe4f7+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearStenc'+'ilValue']+']':''));}}}}function cw(_0x4042c0){this['array'][this['index']]=_0x4042c0;}function hw(_0x2219f1,_0x13b33e){this['array'][this['index']]=_0x2219f1,this['array'][this['index']+(0x3*0xa2a+-0x1cc+-0x1cb1)]=_0x13b33e;}function dw(_0x99b875,_0x5a7d0d,_0x18f518){this['array'][this['index']]=_0x99b875,this['array'][this['index']+(-0x149d+0x1*-0x1bc4+-0x16*-0x233)]=_0x5a7d0d,this['array'][this['index']+(0x1*0x3f4+0x1*0x8cd+0x1*-0xcbf)]=_0x18f518;}function fw(_0x17b2f8,_0x6b05dc,_0x56463f,_0x4705d0){this['array'][this['index']]=_0x17b2f8,this['array'][this['index']+(0x2657+0x205b+-0x1*0x46b1)]=_0x6b05dc,this['array'][this['index']+(-0x2*0x128+-0x7*-0x3f3+-0x1953)]=_0x56463f,this['array'][this['index']+(0xc12+-0x1ef8+0x67*0x2f)]=_0x4705d0;}function uw(_0x33dc66,_0x2d5df5,_0x5c80fe){this['array'][_0x33dc66]=_0x2d5df5[_0x5c80fe];}function pw(_0x43903c,_0x4ce4be,_0x58a414){this['array'][_0x43903c]=_0x4ce4be[_0x58a414],this['array'][_0x43903c+(-0x2*0x136b+-0x1c51+0x4328)]=_0x4ce4be[_0x58a414+(-0x1*0x19b+-0x3*-0x1a5+-0x353)];}function mw(_0x6b6704,_0x4adf5e,_0x3d0972){this['array'][_0x6b6704]=_0x4adf5e[_0x3d0972],this['array'][_0x6b6704+(-0x147e+-0x1c34+0x7*0x6f5)]=_0x4adf5e[_0x3d0972+(0xc3b+-0x5e7*0x2+-0x6c)],this['array'][_0x6b6704+(-0x1738*0x1+0x143b*0x1+-0x2ff*-0x1)]=_0x4adf5e[_0x3d0972+(-0x532*-0x3+0x1*0x5d+-0x173*0xb)];}function _w(_0x4edc93,_0x587347,_0x1a2ba4){this['array'][_0x4edc93]=_0x587347[_0x1a2ba4],this['array'][_0x4edc93+(-0x1ca3+-0x19e6+0xd*0x432)]=_0x587347[_0x1a2ba4+(0x21bf*0x1+-0x3*0x257+-0x1ab9)],this['array'][_0x4edc93+(0xaf*0x1+0x1931+-0x19de)]=_0x587347[_0x1a2ba4+(0x13*-0x3d+-0xa*0x91+0x1*0xa33)],this['array'][_0x4edc93+(-0x1d*-0xbb+0x469+-0x1995)]=_0x587347[_0x1a2ba4+(-0x1333+0x2dd*0x2+0x6be*0x2)];}function gw(_0x3630c9,_0x4acbc0,_0x281dc2){_0x4acbc0[_0x281dc2]=this['array'][_0x3630c9];}function Sw(_0x1db289,_0x650034,_0xbda7ee){_0x650034[_0xbda7ee]=this['array'][_0x1db289],_0x650034[_0xbda7ee+(0x1824+-0x73a+-0x1e1*0x9)]=this['array'][_0x1db289+(-0x1c3e+0xc49+0x12*0xe3)];}function yw(_0x1262f8,_0x564427,_0x3e5045){_0x564427[_0x3e5045]=this['array'][_0x1262f8],_0x564427[_0x3e5045+(0x3*0x778+0x34a+-0x1*0x19b1)]=this['array'][_0x1262f8+(-0x1906+-0x55*-0x62+-0x1*0x783)],_0x564427[_0x3e5045+(0x3*-0x34+-0x8*0x4d2+0x272e)]=this['array'][_0x1262f8+(0x2369+0x3*-0x283+0x6*-0x4a5)];}function vw(_0x520748,_0x1ccd42,_0x1202f5){_0x1ccd42[_0x1202f5]=this['array'][_0x520748],_0x1ccd42[_0x1202f5+(-0x1f71+0x53*0x3e+-0x58*-0x21)]=this['array'][_0x520748+(-0x1e98+-0x1a85+0x3*0x130a)],_0x1ccd42[_0x1202f5+(0x23b7+-0x5de*-0x5+0x410b*-0x1)]=this['array'][_0x520748+(0x16*0x1a3+0x820+0x2c20*-0x1)],_0x1ccd42[_0x1202f5+(0x22c4+-0x1186+0x1*-0x113b)]=this['array'][_0x520748+(0x2b*0x67+0xbd3*0x1+0x1d1d*-0x1)];}class xw{constructor(_0x2b68b2,_0xebe283,_0x1b18c4){switch(this['index']=0x161*-0xb+-0x64e*-0x1+-0x8dd*-0x1,this['numCompone'+'nts']=_0xebe283['numCompone'+'nts'],_0x1b18c4['interleave'+'d']?this['array']=new wn[_0xebe283['dataType']](_0x2b68b2,_0xebe283['offset']):this['array']=new wn[_0xebe283['dataType']](_0x2b68b2,_0xebe283['offset'],_0x1b18c4['vertexCoun'+'t']*_0xebe283['numCompone'+'nts']),this['stride']=_0xebe283['stride']/this['array']['constructo'+'r']['BYTES_PER_'+'ELEMENT'],_0xebe283['numCompone'+'nts']){case 0x254a+0x1f47+-0x4490:this['set']=cw,this['getToArray']=gw,this['setFromArr'+'ay']=uw;break;case-0x338+-0x2ae+0x5e8:this['set']=hw,this['getToArray']=Sw,this['setFromArr'+'ay']=pw;break;case-0xb9e+0x216e*0x1+-0x15cd:this['set']=dw,this['getToArray']=yw,this['setFromArr'+'ay']=mw;break;case-0x1b72+-0xc*-0xa0+0x13f6:this['set']=fw,this['getToArray']=vw,this['setFromArr'+'ay']=_w;break;}}['get'](_0x276553){return this['array'][this['index']+_0x276553];}['set'](_0x2e9c33,_0x405c85,_0x26ffe2,_0x268087){}['getToArray'](_0x5426b1,_0x1a881c,_0x5a1f18){}['setFromArr'+'ay'](_0xd8ec7d,_0x3b5bda,_0x40ddc3){}}class Uo{constructor(_0x1f5dac){this['vertexBuff'+'er']=_0x1f5dac,this['vertexForm'+'atSize']=_0x1f5dac['getFormat']()['size'],this['buffer']=this['vertexBuff'+'er']['lock'](),this['accessors']=[],this['element']={};const _0x3bed0d=this['vertexBuff'+'er']['getFormat']();for(let _0x41ebdb=0x35*-0x99+-0x13*0x7e+0x2907;_0x41ebdb<_0x3bed0d['elements']['length'];_0x41ebdb++){const _0x4890f3=_0x3bed0d['elements'][_0x41ebdb];this['accessors'][_0x41ebdb]=new xw(this['buffer'],_0x4890f3,_0x3bed0d),this['element'][_0x4890f3['name']]=this['accessors'][_0x41ebdb];}}['next'](_0xedfad=-0x1*0x255f+0xa2b*0x3+0x6df){let _0x2f59ae=0x1bee+-0x5ad+-0x1641;const _0x5936d9=this['accessors'],_0x532efe=this['accessors']['length'];for(;_0x2f59ae<_0x532efe;){const _0x5d7bc3=_0x5936d9[_0x2f59ae++];_0x5d7bc3['index']+=_0xedfad*_0x5d7bc3['stride'];}}['end'](){this['vertexBuff'+'er']['unlock']();}['writeData'](_0x4542b3,_0xf32fe2,_0xb367f2){const _0x352e8b=this['element'][_0x4542b3];if(_0x352e8b){_0xb367f2>this['vertexBuff'+'er']['numVertice'+'s']&&(w['error']('NumVertice'+'s\x20provided'+'\x20to\x20setDat'+'a:\x20'+_0xb367f2+('\x20is\x20larger'+'\x20than\x20spac'+'e\x20in\x20Verte'+'xBuffer:\x20')+this['vertexBuff'+'er']['numVertice'+'s']),_0xb367f2=this['vertexBuff'+'er']['numVertice'+'s']);const _0x32bee0=_0x352e8b['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){let _0x5b4d1a=0x1cfd+0x24fd*0x1+-0x3*0x15fe;for(let _0x4e2603=0xd55*-0x1+0x5e9+0x76c;_0x4e2603<_0xb367f2;_0x4e2603++)_0x352e8b['setFromArr'+'ay'](_0x5b4d1a,_0xf32fe2,_0x4e2603*_0x32bee0),_0x5b4d1a+=_0x352e8b['stride'];}else{if(_0xf32fe2['length']>_0xb367f2*_0x32bee0){const _0x1a4e69=_0xb367f2*_0x32bee0;if(ArrayBuffer['isView'](_0xf32fe2))_0xf32fe2=_0xf32fe2['subarray'](0x2660+-0x20e5+0x1*-0x57b,_0x1a4e69),_0x352e8b['array']['set'](_0xf32fe2);else{for(let _0x2907cc=0xb3*-0x17+-0x237e+0x5bb*0x9;_0x2907cc<_0x1a4e69;_0x2907cc++)_0x352e8b['array'][_0x2907cc]=_0xf32fe2[_0x2907cc];}}else _0x352e8b['array']['set'](_0xf32fe2);}}}['readData'](_0x4bd415,_0x37dbb8){const _0xf7f5ee=this['element'][_0x4bd415];let _0xa52ceb=0x11b*-0x1d+-0x8*0x2+-0xab5*-0x3;if(_0xf7f5ee){_0xa52ceb=this['vertexBuff'+'er']['numVertice'+'s'];let _0x488afb;const _0x59b541=_0xf7f5ee['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){Array['isArray'](_0x37dbb8)&&(_0x37dbb8['length']=0xc21*-0x1+0x14d5*-0x1+0x20f6),_0xf7f5ee['index']=-0x1f7b+0x16e3+0x898;let _0x28b7e5=0x1952+-0x1868+0x75*-0x2;for(_0x488afb=-0x11be+-0x1884+0x2a42;_0x488afb<_0xa52ceb;_0x488afb++)_0xf7f5ee['getToArray'](_0x28b7e5,_0x37dbb8,_0x488afb*_0x59b541),_0x28b7e5+=_0xf7f5ee['stride'];}else{if(ArrayBuffer['isView'](_0x37dbb8))_0x37dbb8['set'](_0xf7f5ee['array']);else{_0x37dbb8['length']=0x1c7*0xa+-0x75*-0x15+0x7*-0x3e9;const _0x54a4f7=_0xa52ceb*_0x59b541;for(_0x488afb=0x2b3+-0x20c3*-0x1+-0x2376;_0x488afb<_0x54a4f7;_0x488afb++)_0x37dbb8[_0x488afb]=_0xf7f5ee['array'][_0x488afb];}}}return _0xa52ceb;}}const Tw=-(0xad3*-0x3+-0x1859+0x175*0x27);class ww{constructor(_0xee8fc2,_0x5d3a63){h(this,'key',null),h(this,'element',null),h(this,'event',null),_0x5d3a63&&(this['key']=_0x5d3a63['keyCode'],this['element']=_0x5d3a63['target'],this['event']=_0x5d3a63);}}const jl=new ww();function Vd(_0x476fdf){return jl['key']=_0x476fdf['keyCode'],jl['element']=_0x476fdf['target'],jl['event']=_0x476fdf,jl;}function Yl(_0x1ad7ee){return typeof _0x1ad7ee=='string'?_0x1ad7ee['toUpperCas'+'e']()['charCodeAt'](-0x2*-0x11a7+0x57*0x49+0x3c1d*-0x1):_0x1ad7ee;}const Ew={0x9:'Tab',0xd:'Enter',0x10:'Shift',0x11:'Control',0x12:'Alt',0x1b:'Escape',0x25:'Left',0x26:'Up',0x27:'Right',0x28:'Down',0x2e:'Delete',0x5b:'Win'};class h_ extends me{constructor(_0x1faf5b,_0x46060f={}){super(),h(this,'_element',null),h(this,'_keymap',{}),h(this,'_lastmap',{}),(this['_keyDownHa'+'ndler']=this['_handleKey'+'Down']['bind'](this),this['_keyUpHand'+'ler']=this['_handleKey'+'Up']['bind'](this),this['_keyPressH'+'andler']=this['_handleKey'+'Press']['bind'](this),this['_visibilit'+'yChangeHan'+'dler']=this['_handleVis'+'ibilityCha'+'nge']['bind'](this),this['_windowBlu'+'rHandler']=this['_handleWin'+'dowBlur']['bind'](this),_0x1faf5b&&this['attach'](_0x1faf5b),this['preventDef'+'ault']=_0x46060f['preventDef'+'ault']||!(0x979+-0x1*0x1462+0x1*0xaea),this['stopPropag'+'ation']=_0x46060f['stopPropag'+'ation']||!(0x2*0xef+-0x3b+-0x1a2));}['attach'](_0x2157ca){this['_element']&&this['detach'](),this['_element']=_0x2157ca,this['_element']['addEventLi'+'stener']('keydown',this['_keyDownHa'+'ndler'],!(0xf3a+0x484+-0x1f*0xa3)),this['_element']['addEventLi'+'stener']('keypress',this['_keyPressH'+'andler'],!(0x3*-0x507+0x142d+-0x517)),this['_element']['addEventLi'+'stener']('keyup',this['_keyUpHand'+'ler'],!(0x2*-0xdcb+0x1e65+-0x2*0x167)),document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x13a6+-0x3*-0x677+-0x270a)),window['addEventLi'+'stener']('blur',this['_windowBlu'+'rHandler'],!(-0xb40+-0xf6c+-0x1aad*-0x1));}['detach'](){if(!this['_element']){w['warn']('Unable\x20to\x20'+'detach\x20key'+'board.\x20It\x20'+'is\x20not\x20att'+'ached\x20to\x20a'+'n\x20element.');return;}this['_element']['removeEven'+'tListener']('keydown',this['_keyDownHa'+'ndler']),this['_element']['removeEven'+'tListener']('keypress',this['_keyPressH'+'andler']),this['_element']['removeEven'+'tListener']('keyup',this['_keyUpHand'+'ler']),this['_element']=null,document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x205f+-0x14b2+-0xf9*0xc)),window['removeEven'+'tListener']('blur',this['_windowBlu'+'rHandler'],!(0x1*0x8e1+0x2*0xa84+-0x1de8));}['toKeyIdent'+'ifier'](_0xf04b62){_0xf04b62=Yl(_0xf04b62);const _0x4d560f=Ew[_0xf04b62['toString']()];if(_0x4d560f)return _0x4d560f;let _0x243850=_0xf04b62['toString'](-0x2418+-0x126b+0x3693)['toUpperCas'+'e']();const _0x1ce82d=_0x243850['length'];for(let _0x5b2a86=-0x3b9*-0x7+-0x15f8+-0x417;_0x5b2a86<0xa0c+-0x4*0x2bd+0xec-_0x1ce82d;_0x5b2a86++)_0x243850='0'+_0x243850;return'U+'+_0x243850;}['_handleKey'+'Down'](_0x8a910f){const _0x37d1bf=_0x8a910f['keyCode']||_0x8a910f['charCode'];if(_0x37d1bf===void(0x1d9e+0x1*0xbd3+-0x2971))return;const _0x517b3e=this['toKeyIdent'+'ifier'](_0x37d1bf);this['_keymap'][_0x517b3e]=!(-0x166b+0x1bdd+-0x52*0x11),this['fire']('keydown',Vd(_0x8a910f)),this['preventDef'+'ault']&&_0x8a910f['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x8a910f['stopPropag'+'ation']();}['_handleKey'+'Up'](_0x436798){const _0x30b594=_0x436798['keyCode']||_0x436798['charCode'];if(_0x30b594===void(-0xabd*-0x1+0x1943+-0xc00*0x3))return;const _0x33dd48=this['toKeyIdent'+'ifier'](_0x30b594);delete this['_keymap'][_0x33dd48],this['fire']('keyup',Vd(_0x436798)),this['preventDef'+'ault']&&_0x436798['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x436798['stopPropag'+'ation']();}['_handleKey'+'Press'](_0x3080bf){this['fire']('keypress',Vd(_0x3080bf)),this['preventDef'+'ault']&&_0x3080bf['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x3080bf['stopPropag'+'ation']();}['_handleVis'+'ibilityCha'+'nge'](){document['visibility'+'State']==='hidden'&&this['_handleWin'+'dowBlur']();}['_handleWin'+'dowBlur'](){this['_keymap']={},this['_lastmap']={};}['update'](){for(const _0x17e606 in this['_lastmap'])delete this['_lastmap'][_0x17e606];for(const _0x453c9e in this['_keymap'])this['_keymap']['hasOwnProp'+'erty'](_0x453c9e)&&(this['_lastmap'][_0x453c9e]=this['_keymap'][_0x453c9e]);}['isPressed'](_0x39c0ad){const _0x575ca9=Yl(_0x39c0ad),_0x32ac47=this['toKeyIdent'+'ifier'](_0x575ca9);return!!this['_keymap'][_0x32ac47];}['wasPressed'](_0x12c15c){const _0x90e096=Yl(_0x12c15c),_0x21f5e9=this['toKeyIdent'+'ifier'](_0x90e096);return!!this['_keymap'][_0x21f5e9]&&!this['_lastmap'][_0x21f5e9];}['wasRelease'+'d'](_0x156ec6){const _0x467ebc=Yl(_0x156ec6),_0x1437fa=this['toKeyIdent'+'ifier'](_0x467ebc);return!this['_keymap'][_0x1437fa]&&!!this['_lastmap'][_0x1437fa];}}h(h_,'EVENT_KEYD'+'OWN','keydown'),h(h_,'EVENT_KEYU'+'P','keyup');function ru(){return!!(document['pointerLoc'+'kElement']||document['mozPointer'+'LockElemen'+'t']||document['webkitPoin'+'terLockEle'+'ment']);}class ta{constructor(_0x5edfae,_0x52ef54){h(this,'x',-0xa8e*0x3+0x14b9*0x1+0xaf1*0x1),h(this,'y',-0x13d*0x5+0x25*0xda+0x1951*-0x1),h(this,'dx',-0x198*0x9+-0x6*-0x1ab+0x456),h(this,'dy',0x24e+-0x1a6+-0xa8),h(this,'button',Tw),h(this,'wheelDelta',0x1153*-0x1+0xdf*-0x29+0x350a),h(this,'element'),h(this,'ctrlKey',!(-0xbe3+-0x23bf*0x1+0x2fa3)),h(this,'altKey',!(-0x1b9f+-0xe58+-0xa7e*-0x4)),h(this,'shiftKey',!(-0x1c89+-0x1cd*-0xb+0x8bb)),h(this,'metaKey',!(-0x5f4*0x3+-0xa*0x119+0x99d*0x3)),h(this,'event');let _0x56360a={'x':0x0,'y':0x0};if(_0x52ef54){if(_0x52ef54 instanceof ta)throw Error('Expected\x20M'+'ouseEvent');_0x56360a=_0x5edfae['_getTarget'+'Coords'](_0x52ef54);}else _0x52ef54={};if(_0x56360a)this['x']=_0x56360a['x'],this['y']=_0x56360a['y'];else{if(ru())this['x']=-0x238b*-0x1+0x240b+-0x4796,this['y']=0xabd+0x38*0x1f+-0x1185;else return;}_0x52ef54['type']==='wheel'&&(_0x52ef54['deltaY']>-0x2*0xb55+-0x22ae+0x5bc*0xa?this['wheelDelta']=-0x1966+-0x162f*0x1+0x1*0x2f96:_0x52ef54['deltaY']<0xa7*-0x36+0x26dd+-0x3a3&&(this['wheelDelta']=-(-0xc57+0x7*-0x3e4+0x2794))),ru()?(this['dx']=_0x52ef54['movementX']||_0x52ef54['webkitMove'+'mentX']||_0x52ef54['mozMovemen'+'tX']||0xfb1+0x4*0x38a+0x9f3*-0x3,this['dy']=_0x52ef54['movementY']||_0x52ef54['webkitMove'+'mentY']||_0x52ef54['mozMovemen'+'tY']||-0x1102+0x22f2+-0x11f0):(this['dx']=this['x']-_0x5edfae['_lastX'],this['dy']=this['y']-_0x5edfae['_lastY']),(_0x52ef54['type']==='mousedown'||_0x52ef54['type']==='mouseup')&&(this['button']=_0x52ef54['button']),this['buttons']=_0x5edfae['_buttons']['slice'](-0x40*-0x23+-0x2*-0x50d+-0x12da),this['element']=_0x52ef54['target'],this['ctrlKey']=_0x52ef54['ctrlKey']??!(0x1*0x40e+-0x1*0xb51+0x744),this['altKey']=_0x52ef54['altKey']??!(-0x1962+-0x1bf4+-0xaab*-0x5),this['shiftKey']=_0x52ef54['shiftKey']??!(-0x2bf+-0x1*0x19b5+0x5*0x5b1),this['metaKey']=_0x52ef54['metaKey']??!(0xe69*0x1+-0x688+0x70*-0x12),this['event']=_0x52ef54;}}class sa extends me{constructor(_0x366db5){super(),h(this,'_lastX',0x48*-0x6b+-0x22ff*0x1+0x4117*0x1),h(this,'_lastY',-0x6e2*0x5+0xd8a*0x2+0x756),h(this,'_buttons',[!(0x1*-0x10f4+-0x66b+-0xbb0*-0x2),!(-0x1c33+0x1856+0x3de),!(0x1faa+-0x1*-0x1807+-0x37b0)]),h(this,'_lastbutto'+'ns',[!(-0x2f3*-0x1+-0x337*-0x7+-0x1973),!(0x2a*0x5e+-0x241*-0x10+-0x1*0x337b),!(-0x11b*0x17+0x3*-0x493+-0x2727*-0x1)]),h(this,'_target',null),h(this,'_attached',!(-0x2ee*-0x5+0x92a+-0x35*0x73)),(this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_contextMe'+'nuHandler']=_0x454845=>{_0x454845['preventDef'+'ault']();},this['attach'](_0x366db5));}static['isPointerL'+'ocked'](){return ru();}['attach'](_0x25cffc){if(this['_target']=_0x25cffc,this['_attached'])return;this['_attached']=!(-0x69*0x10+-0x1*-0x1912+-0x1282);const _0x188ac9={'passive':!(-0x4f+0x1227+0x1*-0x11d7)},_0x4716a3=Ae['passiveEve'+'nts']?_0x188ac9:!(-0x2*0x412+-0x16c3+0x1ee8);window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x4716a3),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x4716a3),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x4716a3),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x4716a3);}['detach'](){if(!this['_attached'])return;this['_attached']=!(-0xaf*-0x10+0x26a4+0x7*-0x715),this['_target']=null;const _0x5c07d1={'passive':!(-0x1998+-0x3*-0x307+0x1084)},_0x19fc0a=Ae['passiveEve'+'nts']?_0x5c07d1:!(-0x3d1*0x7+0x2a1*0x7+0x851);window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x19fc0a),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x19fc0a),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x19fc0a),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x19fc0a);}['disableCon'+'textMenu'](){this['_target']&&this['_target']['addEventLi'+'stener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enableCont'+'extMenu'](){this['_target']&&this['_target']['removeEven'+'tListener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enablePoin'+'terLock'](_0x27c29e,_0x32f231){if(!document['body']['requestPoi'+'nterLock']){_0x32f231&&_0x32f231();return;}const _0x1ef93b=()=>{_0x27c29e(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x1ef93b);},_0x1164f4=()=>{_0x32f231(),document['removeEven'+'tListener']('pointerloc'+'kerror',_0x1164f4);};_0x27c29e&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x1ef93b,!(0x34*0x39+-0x47*-0xb+-0xea0)),_0x32f231&&document['addEventLi'+'stener']('pointerloc'+'kerror',_0x1164f4,!(-0xa24+-0xa*0x26+0xba1)),document['body']['requestPoi'+'nterLock']();}['disablePoi'+'nterLock'](_0x2c906c){if(!document['exitPointe'+'rLock'])return;const _0xa84880=()=>{_0x2c906c(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0xa84880);};_0x2c906c&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0xa84880,!(-0x349*-0x4+0x5*0x2dd+-0x1b74)),document['exitPointe'+'rLock']();}['update'](){this['_lastbutto'+'ns'][-0x28f+-0x56b+0x7fa]=this['_buttons'][0x4cf+-0xb*-0x113+0x10a0*-0x1],this['_lastbutto'+'ns'][-0x18d1+0xb97+0x3*0x469]=this['_buttons'][0xc29+-0x2fc+-0x92c],this['_lastbutto'+'ns'][0x865*-0x3+-0xfd8+0x2909]=this['_buttons'][-0xc*-0x73+-0x2331+0x1dcf];}['isPressed'](_0x129442){return this['_buttons'][_0x129442];}['wasPressed'](_0x25be62){return this['_buttons'][_0x25be62]&&!this['_lastbutto'+'ns'][_0x25be62];}['wasRelease'+'d'](_0x399b5d){return!this['_buttons'][_0x399b5d]&&this['_lastbutto'+'ns'][_0x399b5d];}['_handleUp'](_0x1d47d8){this['_buttons'][_0x1d47d8['button']]=!(0x1*0x1ae3+0x4*-0x8c6+0x836);const _0x1c16a4=new ta(this,_0x1d47d8);_0x1c16a4['event']&&this['fire']('mouseup',_0x1c16a4);}['_handleDow'+'n'](_0x549795){this['_buttons'][_0x549795['button']]=!(0x1*-0x192+0x3*0x64d+-0x1155);const _0x6c579f=new ta(this,_0x549795);_0x6c579f['event']&&this['fire']('mousedown',_0x6c579f);}['_handleMov'+'e'](_0x12f19c){const _0x1b49d9=new ta(this,_0x12f19c);_0x1b49d9['event']&&(this['fire']('mousemove',_0x1b49d9),this['_lastX']=_0x1b49d9['x'],this['_lastY']=_0x1b49d9['y']);}['_handleWhe'+'el'](_0x535f09){const _0x51cb4f=new ta(this,_0x535f09);_0x51cb4f['event']&&this['fire']('mousewheel',_0x51cb4f);}['_getTarget'+'Coords'](_0x3b3d7b){const _0x3b2641=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x340aa0=Math['floor'](_0x3b2641['left']),_0x5270cb=Math['floor'](_0x3b2641['top']);return _0x3b3d7b['clientX']<_0x340aa0||_0x3b3d7b['clientX']>=_0x340aa0+this['_target']['clientWidt'+'h']||_0x3b3d7b['clientY']<_0x5270cb||_0x3b3d7b['clientY']>=_0x5270cb+this['_target']['clientHeig'+'ht']?null:{'x':_0x3b3d7b['clientX']-_0x340aa0,'y':_0x3b3d7b['clientY']-_0x5270cb};}}h(sa,'EVENT_MOUS'+'EMOVE','mousemove'),h(sa,'EVENT_MOUS'+'EDOWN','mousedown'),h(sa,'EVENT_MOUS'+'EUP','mouseup'),h(sa,'EVENT_MOUS'+'EWHEEL','mousewheel');function Wc(_0x411dd3){let _0x11ba24=0x1ecb+-0x8*-0x35a+-0x399b,_0x65fe5c=-0x14bd+0x1*-0xc61+-0x9*-0x3ae,_0x2cb51a=_0x411dd3['target'];for(;!(_0x2cb51a instanceof HTMLElement)&&_0x2cb51a;)_0x2cb51a=_0x2cb51a['parentNode'];for(;_0x2cb51a;)_0x11ba24+=_0x2cb51a['offsetLeft']-_0x2cb51a['scrollLeft'],_0x65fe5c+=_0x2cb51a['offsetTop']-_0x2cb51a['scrollTop'],_0x2cb51a=_0x2cb51a['offsetPare'+'nt'];return{'x':_0x411dd3['pageX']-_0x11ba24,'y':_0x411dd3['pageY']-_0x65fe5c};}class d_{constructor(_0x2fc92e){h(this,'id'),h(this,'x'),h(this,'y'),h(this,'target'),h(this,'touch');const _0x578161=Wc(_0x2fc92e);this['id']=_0x2fc92e['identifier'],this['x']=_0x578161['x'],this['y']=_0x578161['y'],this['target']=_0x2fc92e['target'],this['touch']=_0x2fc92e;}}class Kl{constructor(_0x3a9eb4,_0x14ddf5){h(this,'element'),h(this,'event'),h(this,'touches',[]),h(this,'changedTou'+'ches',[]),(this['element']=_0x14ddf5['target'],this['event']=_0x14ddf5,this['touches']=Array['from'](_0x14ddf5['touches'])['map'](_0x4af559=>new d_(_0x4af559)),this['changedTou'+'ches']=Array['from'](_0x14ddf5['changedTou'+'ches'])['map'](_0xa77fbb=>new d_(_0xa77fbb)));}['getTouchBy'+'Id'](_0x19b8f8,_0x3451a1){return _0x3451a1['find'](_0x54c627=>_0x54c627['id']===_0x19b8f8)||null;}}class Zl extends me{constructor(_0x20e546){super(),this['_element']=null,this['_startHand'+'ler']=this['_handleTou'+'chStart']['bind'](this),this['_endHandle'+'r']=this['_handleTou'+'chEnd']['bind'](this),this['_moveHandl'+'er']=this['_handleTou'+'chMove']['bind'](this),this['_cancelHan'+'dler']=this['_handleTou'+'chCancel']['bind'](this),this['attach'](_0x20e546);}['attach'](_0x33c800){this['_element']&&this['detach'](),this['_element']=_0x33c800,this['_element']['addEventLi'+'stener']('touchstart',this['_startHand'+'ler'],!(0x1e77+0x25d1+-0x4447)),this['_element']['addEventLi'+'stener']('touchend',this['_endHandle'+'r'],!(-0xfc7*-0x2+-0x1e86+-0x107)),this['_element']['addEventLi'+'stener']('touchmove',this['_moveHandl'+'er'],!(0x1*-0x6b9+-0x17ab+0x1e65)),this['_element']['addEventLi'+'stener']('touchcance'+'l',this['_cancelHan'+'dler'],!(-0x1734+-0x1*0x1d39+0x346e));}['detach'](){this['_element']&&(this['_element']['removeEven'+'tListener']('touchstart',this['_startHand'+'ler'],!(-0x1*-0x1f5a+-0x52*0x2b+-0x1193)),this['_element']['removeEven'+'tListener']('touchend',this['_endHandle'+'r'],!(-0x7*0x107+-0x1aef*-0x1+-0x13bd)),this['_element']['removeEven'+'tListener']('touchmove',this['_moveHandl'+'er'],!(0x14d*-0x13+-0xb35*0x1+0x23ed)),this['_element']['removeEven'+'tListener']('touchcance'+'l',this['_cancelHan'+'dler'],!(0x881*0x1+0x87a+0x2*-0x87d))),this['_element']=null;}['_handleTou'+'chStart'](_0xb13914){this['fire']('touchstart',new Kl(this,_0xb13914));}['_handleTou'+'chEnd'](_0x117777){this['fire']('touchend',new Kl(this,_0x117777));}['_handleTou'+'chMove'](_0x4e1fa7){_0x4e1fa7['preventDef'+'ault'](),this['fire']('touchmove',new Kl(this,_0x4e1fa7));}['_handleTou'+'chCancel'](_0x3e14e8){this['fire']('touchcance'+'l',new Kl(this,_0x3e14e8));}}h(Zl,'EVENT_TOUC'+'HSTART','touchstart'),h(Zl,'EVENT_TOUC'+'HEND','touchend'),h(Zl,'EVENT_TOUC'+'HMOVE','touchmove'),h(Zl,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');const Oe=class Oe{['get'](_0x5b3502,_0x16ed79,_0x601c1a){typeof _0x16ed79=='function'&&(_0x601c1a=_0x16ed79,_0x16ed79={});const _0x190e45=this['request']('GET',_0x5b3502,_0x16ed79,_0x601c1a),{progress:_0x86e0b9}=_0x16ed79;if(_0x86e0b9){const _0x5edfbb=_0x321c96=>{_0x321c96['lengthComp'+'utable']&&_0x86e0b9['fire']('progress',_0x321c96['loaded'],_0x321c96['total']);},_0x34f231=_0x5d26b4=>{_0x5edfbb(_0x5d26b4),_0x190e45['removeEven'+'tListener']('loadstart',_0x5edfbb),_0x190e45['removeEven'+'tListener']('progress',_0x5edfbb),_0x190e45['removeEven'+'tListener']('loadend',_0x34f231);};_0x190e45['addEventLi'+'stener']('loadstart',_0x5edfbb),_0x190e45['addEventLi'+'stener']('progress',_0x5edfbb),_0x190e45['addEventLi'+'stener']('loadend',_0x34f231);}return _0x190e45;}['post'](_0x591b38,_0x20cc98,_0x2ed329,_0x41899c){return typeof _0x2ed329=='function'&&(_0x41899c=_0x2ed329,_0x2ed329={}),_0x2ed329['postdata']=_0x20cc98,this['request']('POST',_0x591b38,_0x2ed329,_0x41899c);}['put'](_0x956e8c,_0x4a31b3,_0x25b478,_0x1dba0f){return typeof _0x25b478=='function'&&(_0x1dba0f=_0x25b478,_0x25b478={}),_0x25b478['postdata']=_0x4a31b3,this['request']('PUT',_0x956e8c,_0x25b478,_0x1dba0f);}['del'](_0xd03772,_0x9872f,_0x403e1f){return typeof _0x9872f=='function'&&(_0x403e1f=_0x9872f,_0x9872f={}),this['request']('DELETE',_0xd03772,_0x9872f,_0x403e1f);}['request'](_0x53e744,_0x273dd6,_0x37ba54,_0x289505){let _0x25da50,_0x3b0f6f,_0x26189b,_0x4bf447=!(-0x379*0x3+-0x1e29+0x2895);if(typeof _0x37ba54=='function'&&(_0x289505=_0x37ba54,_0x37ba54={}),_0x37ba54['retry']&&(_0x37ba54=Object['assign']({'retries':0x0,'maxRetries':0x5},_0x37ba54)),_0x37ba54['callback']=_0x289505,_0x37ba54['async']==null&&(_0x37ba54['async']=!(-0xbdd*-0x2+0x2326+-0x3ae0)),_0x37ba54['headers']==null&&(_0x37ba54['headers']={}),_0x37ba54['postdata']!=null){if(_0x37ba54['postdata']instanceof Document)_0x26189b=_0x37ba54['postdata'];else{if(_0x37ba54['postdata']instanceof FormData)_0x26189b=_0x37ba54['postdata'];else{if(_0x37ba54['postdata']instanceof Object){let _0x537c8c=_0x37ba54['headers']['Content-Ty'+'pe'];switch(_0x537c8c===void(-0x1*-0x41f+-0x1*-0xe01+-0x1220)&&(_0x37ba54['headers']['Content-Ty'+'pe']=Oe['ContentTyp'+'e']['FORM_URLEN'+'CODED'],_0x537c8c=_0x37ba54['headers']['Content-Ty'+'pe']),_0x537c8c){case Oe['ContentTyp'+'e']['FORM_URLEN'+'CODED']:{_0x26189b='';let _0x282de8=!(-0x1*-0x1b61+0x4d0+0xc9*-0x29);for(const _0x1324d9 in _0x37ba54['postdata'])if(_0x37ba54['postdata']['hasOwnProp'+'erty'](_0x1324d9)){_0x282de8?_0x282de8=!(-0x9*0x1f6+-0xdde+0x1f85):_0x26189b+='&';const _0xa186c9=encodeURIComponent(_0x1324d9),_0x4c188c=encodeURIComponent(_0x37ba54['postdata'][_0x1324d9]);_0x26189b+=_0xa186c9+'='+_0x4c188c;}break;}default:case Oe['ContentTyp'+'e']['JSON']:_0x537c8c==null&&(_0x37ba54['headers']['Content-Ty'+'pe']=Oe['ContentTyp'+'e']['JSON']),_0x26189b=JSON['stringify'](_0x37ba54['postdata']);break;}}else _0x26189b=_0x37ba54['postdata'];}}}if(_0x37ba54['cache']===!(0xfb3+0xc63+-0x1c15*0x1)){const _0x550502=de();_0x25da50=new Rd(_0x273dd6),_0x25da50['query']?_0x25da50['query']=_0x25da50['query']+'&ts='+_0x550502:_0x25da50['query']='ts='+_0x550502,_0x273dd6=_0x25da50['toString']();}_0x37ba54['query']&&(_0x25da50=new Rd(_0x273dd6),_0x3b0f6f=ah(_0x25da50['getQuery'](),_0x37ba54['query']),_0x25da50['setQuery'](_0x3b0f6f),_0x273dd6=_0x25da50['toString']());const _0x59e484=new XMLHttpRequest();_0x59e484['open'](_0x53e744,_0x273dd6,_0x37ba54['async']),_0x59e484['withCreden'+'tials']=_0x37ba54['withCreden'+'tials']!==void(-0x840+0x476*0x3+-0x522)?_0x37ba54['withCreden'+'tials']:!(-0x4*-0xb8+-0xdbb+-0x56e*-0x2),_0x59e484['responseTy'+'pe']=_0x37ba54['responseTy'+'pe']||this['_guessResp'+'onseType'](_0x273dd6);for(const _0xe3bb1a in _0x37ba54['headers'])_0x37ba54['headers']['hasOwnProp'+'erty'](_0xe3bb1a)&&_0x59e484['setRequest'+'Header'](_0xe3bb1a,_0x37ba54['headers'][_0xe3bb1a]);_0x59e484['onreadysta'+'techange']=()=>{this['_onReadySt'+'ateChange'](_0x53e744,_0x273dd6,_0x37ba54,_0x59e484);},_0x59e484['onerror']=()=>{this['_onError'](_0x53e744,_0x273dd6,_0x37ba54,_0x59e484),_0x4bf447=!(-0xd4*-0x12+-0x1ad5+-0x47*-0x2b);};try{_0x59e484['send'](_0x26189b);}catch(_0x20ed16){_0x4bf447||_0x37ba54['error'](_0x59e484['status'],_0x59e484,_0x20ed16);}return _0x59e484;}['_guessResp'+'onseType'](_0x4b3e46){const _0xd76911=new Rd(_0x4b3e46),_0x5abe50=xe['getExtensi'+'on'](_0xd76911['path'])['toLowerCas'+'e']();return Oe['binaryExte'+'nsions']['indexOf'](_0x5abe50)>=-0x2699+0xc49+-0x10*-0x1a5?Oe['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x5abe50==='.json'?Oe['ResponseTy'+'pe']['JSON']:_0x5abe50==='.xml'?Oe['ResponseTy'+'pe']['DOCUMENT']:Oe['ResponseTy'+'pe']['TEXT'];}['_isBinaryC'+'ontentType'](_0x1fc64a){return[Oe['ContentTyp'+'e']['BASIS'],Oe['ContentTyp'+'e']['BIN'],Oe['ContentTyp'+'e']['DDS'],Oe['ContentTyp'+'e']['GLB'],Oe['ContentTyp'+'e']['MP3'],Oe['ContentTyp'+'e']['MP4'],Oe['ContentTyp'+'e']['OGG'],Oe['ContentTyp'+'e']['OPUS'],Oe['ContentTyp'+'e']['WAV']]['indexOf'](_0x1fc64a)>=0x12e*0x8+-0x1dab+0x143b;}['_isBinaryR'+'esponseTyp'+'e'](_0x213d09){return _0x213d09===Oe['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']||_0x213d09===Oe['ResponseTy'+'pe']['BLOB']||_0x213d09===Oe['ResponseTy'+'pe']['JSON'];}['_onReadySt'+'ateChange'](_0x4c2a86,_0x3aee97,_0x2ff2ea,_0x5abb65){if(_0x5abb65['readyState']===0x2473*0x1+-0x108c+-0x1*0x13e3)switch(_0x5abb65['status']){case 0x676*-0x4+0x443*0x5+-0x9*-0x81:{_0x5abb65['responseUR'+'L']&&_0x5abb65['responseUR'+'L']['startsWith']('file:///')?this['_onSuccess'](_0x4c2a86,_0x3aee97,_0x2ff2ea,_0x5abb65):this['_onError'](_0x4c2a86,_0x3aee97,_0x2ff2ea,_0x5abb65);break;}case 0x1b6d+-0x154a+-0x55b:case 0x1ef8+0x2305+-0x2*0x209a:case 0x2250+0x95*0x1+0x2217*-0x1:case-0xbbc+0x2*0x45d+0x432:{this['_onSuccess'](_0x4c2a86,_0x3aee97,_0x2ff2ea,_0x5abb65);break;}default:{this['_onError'](_0x4c2a86,_0x3aee97,_0x2ff2ea,_0x5abb65);break;}}}['_onSuccess'](_0x5da4a4,_0x575616,_0x1dced5,_0x28cf4d){let _0x4c7cef,_0xa39cd4;const _0x1476eb=_0x28cf4d['getRespons'+'eHeader']('Content-Ty'+'pe');_0x1476eb&&(_0xa39cd4=_0x1476eb['split'](';')[0xc90+0x1*0xb87+0x7*-0x371]['trim']());try{this['_isBinaryC'+'ontentType'](_0xa39cd4)||this['_isBinaryR'+'esponseTyp'+'e'](_0x28cf4d['responseTy'+'pe'])?_0x4c7cef=_0x28cf4d['response']:_0xa39cd4===Oe['ContentTyp'+'e']['JSON']||_0x575616['split']('?')[0x6f*-0x1d+-0x2*-0x643+0xd*0x1]['endsWith']('.json')?_0x4c7cef=JSON['parse'](_0x28cf4d['responseTe'+'xt']):_0x28cf4d['responseTy'+'pe']===Oe['ResponseTy'+'pe']['DOCUMENT']||_0xa39cd4===Oe['ContentTyp'+'e']['XML']?_0x4c7cef=_0x28cf4d['responseXM'+'L']:_0x4c7cef=_0x28cf4d['responseTe'+'xt'],_0x1dced5['callback'](null,_0x4c7cef);}catch(_0x2cdd87){_0x1dced5['callback'](_0x2cdd87);}}['_onError'](_0x17591d,_0x5a9e0d,_0x50c68f,_0x1ff79c){if(!_0x50c68f['retrying']){if(_0x50c68f['retry']&&_0x50c68f['retries']<_0x50c68f['maxRetries']){_0x50c68f['retries']++,_0x50c68f['retrying']=!(-0x1cd1+-0xd5a+0x2a2b);const _0x49d38e=Y['clamp'](Math['pow'](-0x1799+0x27e+0x151d,_0x50c68f['retries'])*Oe['retryDelay'],-0x6*0x371+-0x2e+-0x14d4*-0x1,_0x50c68f['maxRetryDe'+'lay']||-0x2f*0x71+-0x26bb+-0x1*-0x4f02);console['log'](_0x17591d+':\x20'+_0x5a9e0d+'\x20-\x20Error\x20'+_0x1ff79c['status']+('.\x20Retrying'+'\x20in\x20')+_0x49d38e+'\x20ms'),setTimeout(()=>{_0x50c68f['retrying']=!(-0x1111+0xb5a*0x1+0x5b8),this['request'](_0x17591d,_0x5a9e0d,_0x50c68f,_0x50c68f['callback']);},_0x49d38e);}else _0x50c68f['callback'](_0x1ff79c['status']===0x202f+0x1*-0x21d+-0x1e12?'Network\x20er'+'ror':_0x1ff79c['status'],null);}}};h(Oe,'ContentTyp'+'e',{'AAC':'audio/aac','BASIS':'image/basi'+'s','BIN':'applicatio'+'n/octet-st'+'ream','DDS':'image/dds','FORM_URLENCODED':'applicatio'+'n/x-www-fo'+'rm-urlenco'+'ded','GIF':'image/gif','GLB':'model/gltf'+'-binary','JPEG':'image/jpeg','JSON':'applicatio'+'n/json','MP3':'audio/mpeg','MP4':'audio/mp4','OGG':'audio/ogg','OPUS':'audio/ogg;'+'\x20codecs=\x22o'+'pus\x22','PNG':'image/png','TEXT':'text/plain','WAV':'audio/x-wa'+'v','XML':'applicatio'+'n/xml'}),h(Oe,'ResponseTy'+'pe',{'TEXT':'text','ARRAY_BUFFER':'arraybuffe'+'r','BLOB':'blob','DOCUMENT':'document','JSON':'json'}),h(Oe,'binaryExte'+'nsions',['.model','.wav','.ogg','.mp3','.mp4','.m4a','.aac','.dds','.basis','.glb','.opus']),h(Oe,'retryDelay',0xd3*-0x1a+-0x103*-0x18+-0x276);let Ls=Oe;const ot=new Ls(),Vp='linear',bw='inverse',Aw='exponentia'+'l';class Cw{constructor(_0x59e820){h(this,'_manager'),h(this,'position',new D()),h(this,'orientatio'+'n',new te()),this['_manager']=_0x59e820;}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x16e862){this['position']['copy'](_0x16e862);const _0x36235a=this['listener'];_0x36235a&&('positionX'in _0x36235a?(_0x36235a['positionX']['value']=_0x16e862['x'],_0x36235a['positionY']['value']=_0x16e862['y'],_0x36235a['positionZ']['value']=_0x16e862['z']):_0x36235a['setPositio'+'n']&&_0x36235a['setPositio'+'n'](_0x16e862['x'],_0x16e862['y'],_0x16e862['z']));}['setOrienta'+'tion'](_0x325253){this['orientatio'+'n']['copy'](_0x325253);const _0x5ead85=this['listener'];if(_0x5ead85){const _0x1131b5=_0x325253['data'];'forwardX'in _0x5ead85?(_0x5ead85['forwardX']['value']=-_0x1131b5[-0x1*0x19d5+0x1*0x1d99+0x3bc*-0x1],_0x5ead85['forwardY']['value']=-_0x1131b5[0x107*0x17+-0x1787*0x1+-0x11],_0x5ead85['forwardZ']['value']=-_0x1131b5[-0x1ac*0x4+0x21f6+-0xc*0x245],_0x5ead85['upX']['value']=_0x1131b5[-0x2*-0x217+0x3*-0x99b+-0x1*-0x18a7],_0x5ead85['upY']['value']=_0x1131b5[0x1*-0x49f+-0x649*-0x6+-0x11*0x1f2],_0x5ead85['upZ']['value']=_0x1131b5[-0x283+0x1e33+-0x1baa]):_0x5ead85['setOrienta'+'tion']&&_0x5ead85['setOrienta'+'tion'](-_0x1131b5[-0x2343+0xf7c+-0x1cd*-0xb],-_0x1131b5[-0x1*-0x2525+-0x84a+-0x1cd2],-_0x1131b5[-0x1062+0x915+0x757*0x1],_0x1131b5[-0x24b*0x3+0x70e+0x29*-0x1],_0x1131b5[-0x893*0x3+0xe4*0x26+-0x2*0x40d],_0x1131b5[-0x1c01*-0x1+0x1*-0x122e+0xc1*-0xd]);}}['getOrienta'+'tion'](){return this['orientatio'+'n'];}get['listener'](){const _0x1763bb=this['_manager']['context'];return _0x1763bb?_0x1763bb['listener']:null;}}const Ql='running',f_=['click','touchstart','mousedown'];class Pw extends me{constructor(){super(),this['_context']=null,this['AudioConte'+'xt']=typeof AudioContext<'u'&&AudioContext||typeof webkitAudioContext<'u'&&webkitAudioContext,this['AudioConte'+'xt']||w['warn']('No\x20support'+'\x20for\x203D\x20au'+'dio\x20found'),this['_unlockHan'+'dlerFunc']=this['_unlockHan'+'dler']['bind'](this),this['_userSuspe'+'nded']=!(0xb*0x29+-0x157+-0x6b),this['listener']=new Cw(this),this['_volume']=-0x7b3*0x2+0x33*-0x95+0x2d16;}set['volume'](_0x5d572a){_0x5d572a=Y['clamp'](_0x5d572a,0x814+0x3b*-0xa1+0x1*0x1d07,0x6bb+-0x1*-0x9df+-0x1*0x1099),this['_volume']=_0x5d572a,this['fire']('volumechan'+'ge',_0x5d572a);}get['volume'](){return this['_volume'];}get['suspended'](){return this['_userSuspe'+'nded'];}get['context'](){return!this['_context']&&this['AudioConte'+'xt']&&(this['_context']=new this['AudioConte'+'xt'](),this['_context']['state']!==Ql&&this['_registerU'+'nlockListe'+'ners']()),this['_context'];}['suspend'](){this['_userSuspe'+'nded']||(this['_userSuspe'+'nded']=!(0x1366+0xd8+-0x143e*0x1),this['_context']&&this['_context']['state']===Ql&&this['_suspend']());}['resume'](){this['_userSuspe'+'nded']&&(this['_userSuspe'+'nded']=!(-0x2031+0x1a37+0x5fb),this['_context']&&this['_context']['state']!==Ql&&this['_resume']());}['destroy'](){var _0x38e43f;this['fire']('destroy'),this['_context']&&(this['_removeUnl'+'ockListene'+'rs'](),(_0x38e43f=this['_context'])==null||_0x38e43f['close'](),this['_context']=null);}['_resume'](){this['_context']['resume']()['then'](()=>{const _0x462582=this['_context']['createBuff'+'erSource']();_0x462582['buffer']=this['_context']['createBuff'+'er'](-0x7*0x2bd+0x1*-0x11e3+0x250f,-0x2137*0x1+0x215d+0x1*-0x25,this['_context']['sampleRate']),_0x462582['connect'](this['_context']['destinatio'+'n']),_0x462582['start'](-0xc39+-0xa*-0xe6+0x33d*0x1),_0x462582['onended']=_0x53b072=>{_0x462582['disconnect'](-0x8*-0x484+-0x1a97+-0x989*0x1),this['fire']('resume');};},_0xcdbb97=>{w['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20it\x20'+'was\x20reject'+'ed\x20'+_0xcdbb97);})['catch'](_0xccc9b6=>{w['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20thr'+'ew\x20an\x20exce'+'ption\x20'+_0xccc9b6);});}['_suspend'](){this['_context']['suspend']()['then'](()=>{this['fire']('suspend');},_0x58379f=>{w['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20i'+'t\x20was\x20reje'+'cted\x20'+_0x58379f);})['catch'](_0x15ea5e=>{w['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20t'+'hrew\x20an\x20ex'+'ception\x20'+_0x15ea5e);});}['_unlockHan'+'dler'](){this['_removeUnl'+'ockListene'+'rs'](),!this['_userSuspe'+'nded']&&this['_context']['state']!==Ql&&this['_resume']();}['_registerU'+'nlockListe'+'ners'](){f_['forEach'](_0x359cb5=>{window['addEventLi'+'stener'](_0x359cb5,this['_unlockHan'+'dlerFunc'],!(-0x20cf+0x180e*-0x1+0x38de));});}['_removeUnl'+'ockListene'+'rs'](){f_['forEach'](_0x131728=>{window['removeEven'+'tListener'](_0x131728,this['_unlockHan'+'dlerFunc'],!(-0xac7+0x126d+-0x7a5*0x1));});}}class Mw{constructor(_0x20cc31){h(this,'audio'),h(this,'buffer'),_0x20cc31 instanceof Audio?this['audio']=_0x20cc31:this['buffer']=_0x20cc31;}get['duration'](){let _0x2fdf45=-0x1*-0x21a1+0x5*-0x444+0xc4d*-0x1;return this['buffer']?_0x2fdf45=this['buffer']['duration']:this['audio']&&(_0x2fdf45=this['audio']['duration']),_0x2fdf45||0x11da*-0x2+-0x10b0+0x3464;}}function Dl(){return typeof AudioContext<'u'||typeof webkitAudioContext<'u';}const Zt=-0x887*-0x4+0x1*0xa59+-0x2c75*0x1,fn=0x1*0x14d0+-0x1*-0x1c9b+-0x316a,Hs=0x204e+-0x1*0x2572+0x1*0x526;function es(_0x142d02,_0xe8e7f3){return _0x142d02%_0xe8e7f3||-0x1*-0x1d75+-0x193e+-0x437;}class As extends me{constructor(_0xffb58f,_0x27c8d9,_0x12123d){super(),h(this,'source',null),(this['_manager']=_0xffb58f,this['_volume']=_0x12123d['volume']!==void(0x1*0x1a14+-0x22*-0x2+-0x1a58)?Y['clamp'](Number(_0x12123d['volume'])||-0x45*0x86+-0x1b*-0x1+0x2403,-0x1ae*0xd+0x241d+0x2db*-0x5,-0x5*0x2bd+0x1*0x621+0x95*0xd):-0x3*0x647+0x337*0xa+0x47*-0x30,this['_pitch']=_0x12123d['pitch']!==void(0x290+-0x2252+0x1e*0x10f)?Math['max'](0x1afb*0x1+-0x22a9+0x7ae+0.01,Number(_0x12123d['pitch'])||0x1*-0x1aa5+0x1d7a+0x19*-0x1d):-0x1*0xb48+0x110b+0xb*-0x86,this['_loop']=!!(_0x12123d['loop']!==void(-0x76*-0x7+-0x1*0x13f7+0x359*0x5)&&_0x12123d['loop']),this['_sound']=_0x27c8d9,this['_state']=Hs,this['_suspended']=!(-0x6*0x412+-0x1b62+0x33cf),this['_suspendEn'+'dEvent']=-0x2*-0x3c3+0x18ac+-0x2032,this['_suspendIn'+'stanceEven'+'ts']=!(-0x1*0x1a06+0x1*0x1a5a+0x1*-0x53),this['_playWhenL'+'oaded']=!(0x6*0x184+-0x5*0x31f+0x683),this['_startTime']=Math['max'](0x1*-0x5b8+0x146*-0xe+0x2*0xbc6,Number(_0x12123d['startTime'])||-0x1493+-0x18ae+0x2d41),this['_duration']=Math['max'](0x173c+-0x1d4f+0x613,Number(_0x12123d['duration'])||0xb*-0x31+0x2f5*-0x1+-0x1*-0x510),this['_startOffs'+'et']=null,this['_onPlayCal'+'lback']=_0x12123d['onPlay'],this['_onPauseCa'+'llback']=_0x12123d['onPause'],this['_onResumeC'+'allback']=_0x12123d['onResume'],this['_onStopCal'+'lback']=_0x12123d['onStop'],this['_onEndCall'+'back']=_0x12123d['onEnd'],Dl()?(this['_startedAt']=0x4dd+0x5*0x2b3+-0xbc*0x19,this['_currentTi'+'me']=-0x5e4+0xd0b+-0x1*0x727,this['_currentOf'+'fset']=0x22a+0x24*-0x115+0x24ca,this['_inputNode']=null,this['_connector'+'Node']=null,this['_firstNode']=null,this['_lastNode']=null,this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x893*-0x2+0x82*-0x3+-0x1f*0x81),this['_initializ'+'eNodes'](),this['_endedHand'+'ler']=this['_onEnded']['bind'](this)):(this['_isReady']=!(-0x7cf+0x1d0f+-0x153f),this['_loadedMet'+'adataHandl'+'er']=this['_onLoadedM'+'etadata']['bind'](this),this['_timeUpdat'+'eHandler']=this['_onTimeUpd'+'ate']['bind'](this),this['_endedHand'+'ler']=this['_onEnded']['bind'](this),this['_createSou'+'rce']()));}set['currentTim'+'e'](_0x198d21){if(!(_0x198d21<0x1a21+-0x19*-0xa5+-0x2a3e)){if(this['_state']===Zt){const _0x488db5=this['_suspendIn'+'stanceEven'+'ts'];this['_suspendIn'+'stanceEven'+'ts']=!(0x13*-0x20b+-0xb78+0x3249),this['stop'](),this['_startOffs'+'et']=_0x198d21,this['play'](),this['_suspendIn'+'stanceEven'+'ts']=_0x488db5;}else this['_startOffs'+'et']=_0x198d21,this['_currentTi'+'me']=_0x198d21;}}get['currentTim'+'e'](){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===fn?this['_currentTi'+'me']:this['_state']===Hs||!this['source']?-0x1449+-0x3*-0x66a+-0x1*-0x10b:(this['_updateCur'+'rentTime'](),this['_currentTi'+'me']);}set['duration'](_0x353ecd){this['_duration']=Math['max'](0x5eb+-0x62f+0x44,Number(_0x353ecd)||-0x8*0x422+0x3f1*0x2+0x192e);const _0x574b0e=this['_state']===Zt;this['stop'](),_0x574b0e&&this['play']();}get['duration'](){return this['_sound']?this['_duration']?es(this['_duration'],this['_sound']['duration']):this['_sound']['duration']:-0xcb6+-0x77b*-0x1+0x53b;}get['isPaused'](){return this['_state']===fn;}get['isPlaying'](){return this['_state']===Zt;}get['isStopped'](){return this['_state']===Hs;}get['isSuspende'+'d'](){return this['_suspended'];}set['loop'](_0x22d09c){this['_loop']=!!_0x22d09c,this['source']&&(this['source']['loop']=this['_loop']);}get['loop'](){return this['_loop'];}set['pitch'](_0x3716a1){this['_currentOf'+'fset']=this['currentTim'+'e'],this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_pitch']=Math['max'](Number(_0x3716a1)||0xdee+-0x2149+-0x3df*-0x5,-0x1428+-0x277*-0xe+0xe5a*-0x1+0.01),this['source']&&(this['source']['playbackRa'+'te']['value']=this['_pitch']);}get['pitch'](){return this['_pitch'];}set['sound'](_0x2ccd65){this['_sound']=_0x2ccd65,this['_state']!==Hs?this['stop']():this['_createSou'+'rce']();}get['sound'](){return this['_sound'];}set['startTime'](_0x1cd83b){this['_startTime']=Math['max'](0x2095+0x14af*0x1+-0x3544,Number(_0x1cd83b)||-0x6b3*-0x1+0x181f+-0x1ed2);const _0x468f92=this['_state']===Zt;this['stop'](),_0x468f92&&this['play']();}get['startTime'](){return this['_startTime'];}set['volume'](_0x1b5806){_0x1b5806=Y['clamp'](_0x1b5806,0x1e85*0x1+0x22d6+-0x415b,-0x6*0x679+-0x15*0x185+0x46c0),this['_volume']=_0x1b5806,this['gain']&&(this['gain']['gain']['value']=_0x1b5806*this['_manager']['volume']);}get['volume'](){return this['_volume'];}['_onPlay'](){this['fire']('play'),this['_onPlayCal'+'lback']&&this['_onPlayCal'+'lback'](this);}['_onPause'](){this['fire']('pause'),this['_onPauseCa'+'llback']&&this['_onPauseCa'+'llback'](this);}['_onResume'](){this['fire']('resume'),this['_onResumeC'+'allback']&&this['_onResumeC'+'allback'](this);}['_onStop'](){this['fire']('stop'),this['_onStopCal'+'lback']&&this['_onStopCal'+'lback'](this);}['_onEnded'](){if(this['_suspendEn'+'dEvent']>-0x137e+0x1d*-0xdb+0x2c4d){this['_suspendEn'+'dEvent']--;return;}this['fire']('end'),this['_onEndCall'+'back']&&this['_onEndCall'+'back'](this),this['stop']();}['_onManager'+'VolumeChan'+'ge'](){this['volume']=this['_volume'];}['_onManager'+'Suspend'](){this['_state']===Zt&&!this['_suspended']&&(this['_suspended']=!(0x1c4e+-0x214e+0x280*0x2),this['pause']());}['_onManager'+'Resume'](){this['_suspended']&&(this['_suspended']=!(-0x2421+0x4b7+0x15*0x17f),this['resume']());}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['_inputNode']=this['gain'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}['play'](){return this['_state']!==Hs&&this['stop'](),this['_state']=Zt,this['_playWhenL'+'oaded']=!(-0x1771+-0x1e52+-0x3e*-0xde),this['_waitingCo'+'ntextSuspe'+'nsion']?!(0xa0*0x1+-0x7f*0x1+-0x10*0x2):this['_manager']['suspended']?(this['_manager']['once']('resume',this['_playAudio'+'Immediate'],this),this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x234a*0x1+-0x1713+-0x3a5d*-0x1),!(-0x1*-0x103f+-0xa07+-0x25*0x2b)):(this['_playAudio'+'Immediate'](),!(-0x9cc+0x13b7+-0x9eb*0x1));}['_playAudio'+'Immediate'](){if(this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x1b16+0x1bb2+-0x36c7),this['_state']!==Zt)return;this['source']||this['_createSou'+'rce']();let _0x5db25b=es(this['_startOffs'+'et'],this['duration']);_0x5db25b=es(this['_startTime']+_0x5db25b,this['_sound']['duration']),this['_startOffs'+'et']=null,this['_duration']?this['source']['start'](-0xb1a+-0x424+0x2*0x79f,_0x5db25b,this['_duration']):this['source']['start'](-0x1b0f+-0x10e3+0xfa*0x2d,_0x5db25b),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentTi'+'me']=0x19c3+0xb7d+-0x2*0x12a0,this['_currentOf'+'fset']=_0x5db25b,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay']();}['pause'](){return this['_playWhenL'+'oaded']=!(0x267+-0x726+0x4c0),this['_state']!==Zt?!(0x1027+0x56*-0xb+0x1*-0xc74):(this['_state']=fn,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_updateCur'+'rentTime'](),this['_suspendEn'+'dEvent']++,this['source']['stop'](-0x223c+0x251a+0x1*-0x2de),this['source']=null,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause']()),!(0x21fd*0x1+-0xa1e+0x2a7*-0x9));}['resume'](){if(this['_state']!==fn)return!(0x1dee+0x2c2*0x1+-0x20af);let _0x104705=this['currentTim'+'e'];return this['_state']=Zt,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['source']||this['_createSou'+'rce'](),this['_startOffs'+'et']!==null&&(_0x104705=es(this['_startOffs'+'et'],this['duration']),_0x104705=es(this['_startTime']+_0x104705,this['_sound']['duration']),this['_startOffs'+'et']=null),this['_duration']?this['source']['start'](-0x187+0x2*0x4e8+-0x3*0x2c3,_0x104705,this['_duration']):this['source']['start'](-0x15d*0x12+0x188a+0x0,_0x104705),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentOf'+'fset']=_0x104705,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_playWhenL'+'oaded']=!(0x1865+0x1*0x179e+-0x4cd*0xa),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(0xe9d+0x640+0x6d*-0x31);}['stop'](){if(this['_playWhenL'+'oaded']=!(0xca0*-0x3+-0x1819*-0x1+-0x38*-0x3f),this['_state']===Hs)return!(0x3*0x511+-0x704*0x1+0x2*-0x417);const _0x34f055=this['_state']===Zt;return this['_state']=Hs,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_startedAt']=-0xa*-0x12a+0xb87*0x1+-0x172b,this['_currentTi'+'me']=-0x24a2+-0x1*-0x205b+0x447,this['_currentOf'+'fset']=0xa71+0x61*-0x7+-0x7ca,this['_startOffs'+'et']=null,this['_suspendEn'+'dEvent']++,_0x34f055&&this['source']&&this['source']['stop'](0x3*0x2ac+0x1*-0x1da1+0x159d),this['source']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop']()),!(-0x3a6*-0xa+-0x3e*-0x59+-0x1b5*0x22);}['setExterna'+'lNodes'](_0x36a91d,_0x1ed15b){if(!_0x36a91d){console['error']('The\x20firstN'+'ode\x20must\x20b'+'e\x20a\x20valid\x20'+'Audio\x20Node');return;}_0x1ed15b||(_0x1ed15b=_0x36a91d);const _0x5d1428=this['_manager']['context']['destinatio'+'n'];this['_firstNode']!==_0x36a91d&&(this['_firstNode']?this['_connector'+'Node']['disconnect'](this['_firstNode']):this['_connector'+'Node']['disconnect'](_0x5d1428),this['_firstNode']=_0x36a91d,this['_connector'+'Node']['connect'](_0x36a91d)),this['_lastNode']!==_0x1ed15b&&(this['_lastNode']&&this['_lastNode']['disconnect'](_0x5d1428),this['_lastNode']=_0x1ed15b,this['_lastNode']['connect'](_0x5d1428));}['clearExter'+'nalNodes'](){const _0x4bc18a=this['_manager']['context']['destinatio'+'n'];this['_firstNode']&&(this['_connector'+'Node']['disconnect'](this['_firstNode']),this['_firstNode']=null),this['_lastNode']&&(this['_lastNode']['disconnect'](_0x4bc18a),this['_lastNode']=null),this['_connector'+'Node']['connect'](_0x4bc18a);}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_createSou'+'rce'](){if(!this['_sound'])return null;const _0x294f32=this['_manager']['context'];return this['_sound']['buffer']&&(this['source']=_0x294f32['createBuff'+'erSource'](),this['source']['buffer']=this['_sound']['buffer'],this['source']['connect'](this['_inputNode']),this['source']['onended']=this['_endedHand'+'ler'],this['source']['loopStart']=es(this['_startTime'],this['source']['buffer']['duration']),this['_duration']&&(this['source']['loopEnd']=Math['max'](this['source']['loopStart'],es(this['_startTime']+this['_duration'],this['source']['buffer']['duration'])))),this['source'];}['_updateCur'+'rentTime'](){this['_currentTi'+'me']=es((this['_manager']['context']['currentTim'+'e']-this['_startedAt'])*this['_pitch']+this['_currentOf'+'fset'],this['duration']);}['_onManager'+'Destroy'](){this['source']&&this['_state']===Zt&&(this['source']['stop'](0xb28*0x3+-0x9fd+-0x177b*0x1),this['source']=null);}}h(As,'EVENT_PLAY','play'),h(As,'EVENT_PAUS'+'E','pause'),h(As,'EVENT_RESU'+'ME','resume'),h(As,'EVENT_STOP','stop'),h(As,'EVENT_END','end'),Dl()||(Object['assign'](As['prototype'],{'play':function(){return this['_state']!==Hs&&this['stop'](),!this['source']&&!this['_createSou'+'rce']()?!(0x1*0x1979+0x3d+-0x19b5):(this['volume']=this['_volume'],this['pitch']=this['_pitch'],this['loop']=this['_loop'],this['source']['play'](),this['_state']=Zt,this['_playWhenL'+'oaded']=!(0x9cc+-0x3*0x46d+0x37c),this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_manager']['suspended']&&this['_onManager'+'Suspend'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay'](),!(-0x9e2+0x149f+0x1*-0xabd));},'pause':function(){return!this['source']||this['_state']!==Zt?!(-0x175c+-0x1*-0x39a+0x1*0x13c3):(this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(0x19d4+-0x58a*-0x6+0x1*-0x3b0f),this['_state']=fn,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause'](),!(-0x1*-0x935+-0x1561+0xc2c));},'resume':function(){return!this['source']||this['_state']!==fn?!(0x1a9f+0x2cf*0x1+0x1d6d*-0x1):(this['_state']=Zt,this['_playWhenL'+'oaded']=!(-0x956+0xe*0xf4+0x401*-0x1),this['source']['paused']&&(this['source']['play'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(0x1c76+0x1ce9+-0x395f));},'stop':function(){return!this['source']||this['_state']===Hs?!(-0xfba+0x225a+-0x129f):(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(0x1a2e+-0x1*0xe2+0x39d*-0x7),this['_state']=Hs,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop'](),!(0x1*0x11b0+0x4a7+0x331*-0x7));},'setExternalNodes':function(){},'clearExternalNodes':function(){},'getExternalNodes':function(){return[null,null];},'_onLoadedMetadata':function(){this['source']['removeEven'+'tListener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['_isReady']=!(-0x2609+-0x1*0x1b88+0x4191);let _0x3ccba7=es(this['_startOffs'+'et'],this['duration']);_0x3ccba7=es(this['_startTime']+_0x3ccba7,this['_sound']['duration']),this['_startOffs'+'et']=null,this['source']['currentTim'+'e']=_0x3ccba7;},'_createSource':function(){return this['_sound']&&this['_sound']['audio']&&(this['_isReady']=!(0x7*0x529+-0x17ee+-0xf*0xd0),this['source']=this['_sound']['audio']['cloneNode'](!(0x22ce+0x1d*-0xf4+-0x395*0x2)),this['source']['addEventLi'+'stener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['source']['addEventLi'+'stener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['onended']=this['_endedHand'+'ler']),this['source'];},'_onTimeUpdate':function(){this['_duration']&&this['source']['currentTim'+'e']>es(this['_startTime']+this['_duration'],this['source']['duration'])&&(this['loop']?this['source']['currentTim'+'e']=es(this['_startTime'],this['source']['duration']):(this['source']['removeEven'+'tListener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['pause'](),this['_onEnded']()));},'_onManagerDestroy':function(){this['source']&&this['source']['pause']();}}),Object['defineProp'+'erty'](As['prototype'],'volume',{'get':function(){return this['_volume'];},'set':function(_0x11d156){_0x11d156=Y['clamp'](_0x11d156,0x134b+-0x220f+0x7e*0x1e,-0x4*-0x52f+0x148b+-0xdc2*0x3),this['_volume']=_0x11d156,this['source']&&(this['source']['volume']=_0x11d156*this['_manager']['volume']);}}),Object['defineProp'+'erty'](As['prototype'],'pitch',{'get':function(){return this['_pitch'];},'set':function(_0x2cbcdc){this['_pitch']=Math['max'](Number(_0x2cbcdc)||-0x1*0xca+0x1*-0xf95+0xb*0x17d,-0x10ad+-0xa3c+0x1ae9+0.01),this['source']&&(this['source']['playbackRa'+'te']=this['_pitch']);}}),Object['defineProp'+'erty'](As['prototype'],'sound',{'get':function(){return this['_sound'];},'set':function(_0x421501){this['stop'](),this['_sound']=_0x421501;}}),Object['defineProp'+'erty'](As['prototype'],'currentTim'+'e',{'get':function(){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===Hs||!this['source']?0x228a*-0x1+-0x7*0x293+-0x41*-0xcf:this['source']['currentTim'+'e']-this['_startTime'];},'set':function(_0x42a467){_0x42a467<0xf*0x27+0x1*-0x980+0x737||(this['_startOffs'+'et']=_0x42a467,this['source']&&this['_isReady']&&(this['source']['currentTim'+'e']=es(this['_startTime']+es(_0x42a467,this['duration']),this['_sound']['duration']),this['_startOffs'+'et']=null));}}));const Dw=-0xc61*0x2+-0x3750+0x7722;class sn extends As{constructor(_0x3516f9,_0x4662e6,_0x2d86a1={}){super(_0x3516f9,_0x4662e6,_0x2d86a1),h(this,'_position',new D()),h(this,'_velocity',new D()),(_0x2d86a1['position']&&(this['position']=_0x2d86a1['position']),this['maxDistanc'+'e']=_0x2d86a1['maxDistanc'+'e']!==void(-0x1*-0x2203+0x24*0x87+-0x34ff*0x1)?Number(_0x2d86a1['maxDistanc'+'e']):Dw,this['refDistanc'+'e']=_0x2d86a1['refDistanc'+'e']!==void(0x16*-0x15b+0xe1b+0xfb7)?Number(_0x2d86a1['refDistanc'+'e']):0x264f+-0x31*0x41+-0x19dd,this['rollOffFac'+'tor']=_0x2d86a1['rollOffFac'+'tor']!==void(0x15d6+0x1950+-0x2f26*0x1)?Number(_0x2d86a1['rollOffFac'+'tor']):-0x223b+-0x13c9+-0x3605*-0x1,this['distanceMo'+'del']=_0x2d86a1['distanceMo'+'del']!==void(-0x17*-0x49+0x5*0x27+-0x752)?_0x2d86a1['distanceMo'+'del']:Vp);}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['panner']=this['_manager']['context']['createPann'+'er'](),this['panner']['connect'](this['gain']),this['_inputNode']=this['panner'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}set['position'](_0x2b0b6a){this['_position']['copy'](_0x2b0b6a);const _0x3ee38b=this['panner'];'positionX'in _0x3ee38b?(_0x3ee38b['positionX']['value']=_0x2b0b6a['x'],_0x3ee38b['positionY']['value']=_0x2b0b6a['y'],_0x3ee38b['positionZ']['value']=_0x2b0b6a['z']):_0x3ee38b['setPositio'+'n']&&_0x3ee38b['setPositio'+'n'](_0x2b0b6a['x'],_0x2b0b6a['y'],_0x2b0b6a['z']);}get['position'](){return this['_position'];}set['velocity'](_0x2b6ad1){w['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity']['copy'](_0x2b6ad1);}get['velocity'](){return w['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity'];}set['maxDistanc'+'e'](_0x2e85a9){this['panner']['maxDistanc'+'e']=_0x2e85a9;}get['maxDistanc'+'e'](){return this['panner']['maxDistanc'+'e'];}set['refDistanc'+'e'](_0x645b46){this['panner']['refDistanc'+'e']=_0x645b46;}get['refDistanc'+'e'](){return this['panner']['refDistanc'+'e'];}set['rollOffFac'+'tor'](_0x51bd86){this['panner']['rolloffFac'+'tor']=_0x51bd86;}get['rollOffFac'+'tor'](){return this['panner']['rolloffFac'+'tor'];}set['distanceMo'+'del'](_0x19fcae){this['panner']['distanceMo'+'del']=_0x19fcae;}get['distanceMo'+'del'](){return this['panner']['distanceMo'+'del'];}}if(!Dl()){let l=new D();const t=function(_0x10671c,_0x1cc12a,_0x127c04,_0x37d05b,_0x219877,_0x505180){l=l['sub2'](_0x10671c,_0x1cc12a);const _0x4541ec=l['length']();if(_0x4541ec<_0x127c04)return 0xfb1+-0x1a*0x10+-0xe10;if(_0x4541ec>_0x37d05b)return 0x1401+-0x2138+0xd37;let _0x54cbfa=-0x427*0x7+-0x1d0e*0x1+0x3a1f*0x1;return _0x505180===Vp?_0x54cbfa=0x1e26+-0x2516*0x1+0x6f1-_0x219877*(_0x4541ec-_0x127c04)/(_0x37d05b-_0x127c04):_0x505180===bw?_0x54cbfa=_0x127c04/(_0x127c04+_0x219877*(_0x4541ec-_0x127c04)):_0x505180===Aw&&(_0x54cbfa=Math['pow'](_0x4541ec/_0x127c04,-_0x219877)),Y['clamp'](_0x54cbfa,-0x2293+-0xa*0xfe+0x2c7f,0x5*-0x16d+-0x33*-0x99+-0x1759*0x1);};Object['defineProp'+'erty'](sn['prototype'],'position',{'get':function(){return this['_position'];},'set':function(_0x3109e2){if(this['_position']['copy'](_0x3109e2),this['source']){const _0x13dce6=this['_manager']['listener']['getPositio'+'n'](),_0x37edb9=t(_0x13dce6,this['_position'],this['refDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x31729c=this['volume'];this['source']['volume']=_0x31729c*_0x37edb9*this['_manager']['volume'];}}}),Object['defineProp'+'erty'](sn['prototype'],'maxDistanc'+'e',{'get':function(){return this['_maxDistan'+'ce'];},'set':function(_0xde02d6){this['_maxDistan'+'ce']=_0xde02d6;}}),Object['defineProp'+'erty'](sn['prototype'],'refDistanc'+'e',{'get':function(){return this['_refDistan'+'ce'];},'set':function(_0x5229a3){this['_refDistan'+'ce']=_0x5229a3;}}),Object['defineProp'+'erty'](sn['prototype'],'rollOffFac'+'tor',{'get':function(){return this['_rollOffFa'+'ctor'];},'set':function(_0x36d50d){this['_rollOffFa'+'ctor']=_0x36d50d;}}),Object['defineProp'+'erty'](sn['prototype'],'distanceMo'+'del',{'get':function(){return this['_distanceM'+'odel'];},'set':function(_0x3d2c3a){this['_distanceM'+'odel']=_0x3d2c3a;}});}const Gp=-0x4a*0x37+-0x1b9c+0x2b82,Hp=-0x1*0x6d9+-0x33*0x29+0xf05*0x1,Zs=0x6b3+-0x1895+0x11e4,Cs=0x1ef4+0x690+-0x2581,Gn=0x632+-0x13a+0x4f4*-0x1,Wp=-0x17e2+-0x102f*0x1+-0x5ba*-0x7,Ed=0x3a9*-0x5+0x387+0xecc,$p=0x1018+-0xc7*0x16+0x109*0x1,Xp=-0x400*0x3+-0x2*0x829+0x1c5a,qp=-0xc01+0x20bd+-0x14b3,jp=-0x2*-0x6b8+0x149f+-0x2205,Yy={[Gp]:'SUBTRACTIV'+'E',[Hp]:'ADDITIVE',[Zs]:'NORMAL',[Cs]:'NONE',[Gn]:'PREMULTIPL'+'IED',[Wp]:'MULTIPLICA'+'TIVE',[Ed]:'ADDITIVEAL'+'PHA',[$p]:'MULTIPLICA'+'TIVE2X',[Xp]:'SCREEN',[qp]:'MIN',[jp]:'MAX'},Kn='none',Iw='linear',Lw=0x4ab+-0x4*-0x26+-0x1c1*0x3,Yp=-0x5*0x363+0x2*-0x3cd+0x188b,Rw={[Lw]:'NONE',[Yp]:'SCHLICK'},Ow=-0x7d*0x25+-0x18*0xed+-0x2849*-0x1,Ky=0x2627+-0x1a8c+-0xb8c,er=-0x265f+0x11ad*0x1+0x14b2,ps=0x2678+0x1*0x1c74+-0x42eb,Kp=-0x1159*-0x1+0x1b51+0x595*-0x8,Zp=-0x31c+-0x3*-0x127+-0x56,Il=0x18c6+0xeb3*0x1+-0x2775,ve=-0xe*-0x24b+0xa0b*0x2+-0x3430,Ke=-0x634+-0x10*0x23e+0x2a15,Ze=-0x15d1*0x1+-0x1551+0x2b24,u_={[ve]:'DIRECTIONA'+'L',[Ke]:'OMNI',[Ze]:'SPOT'},$c=-0x466*-0x6+0x387+0x1d87*-0x1,Ys=-0xf7*-0x21+0x2*-0xa3d+-0xb5d*0x1,Zy=-0x80d+-0x1154+0x1962,Qy=0x68*0x10+0x69b*0x3+0x1*-0x1a4f,Jy=0x2324+-0x1b2*0x13+-0x2eb,Fw={[Ys]:'PUNCTUAL',[Zy]:'RECT',[Qy]:'DISK',[Jy]:'SPHERE'},Qp=-0x97+0x1*0x13d8+0x9f*-0x1f,ev=-0x1*0x1867+-0x7b*0x47+-0x47*-0xd3,Nw={[Qp]:'LINEAR',[ev]:'INVERSESQU'+'ARED'},$s=0xfa2*-0x2+0x1*0xc97+0x12ad,au=-0x9e8+0x13*0x157+-0xf8b,Jp=-0xa6f+0xdb+-0x5*-0x1eb,kw=0x483+0x40c*0x1+-0x88b,tv=-0x15f*-0x2+-0x2*0xe1b+0x2d5*0x9,al=0x1cee+0x154*0xe+-0x2f80,sv=-0x5*-0x509+0x27*-0x3a+0xe8*-0x12,iv=0x1*0x494+0x1de7+-0x2273,Uw=-0x113*-0x13+-0x24c5+0x1065,qi=new Map([[tv,{'name':'PCF1_32F','kind':'PCF1','format':$i,'pcf':!(-0x9e2+0x1f0*0xf+-0x132e)}],[$s,{'name':'PCF3_32F','kind':'PCF3','format':$i,'pcf':!(0x270b*-0x1+0xb59*0x1+0x1bb2)}],[kw,{'name':'PCF5_32F','kind':'PCF5','format':$i,'pcf':!(-0x26e3+0xf84+0x175f)}],[sv,{'name':'PCF1_16F','kind':'PCF1','format':vn,'pcf':!(0x6*0x13c+0x7a*0x22+-0x179c)}],[iv,{'name':'PCF3_16F','kind':'PCF3','format':vn,'pcf':!(0x269*-0x1+0x219a+0x5*-0x63d)}],[Uw,{'name':'PCF5_16F','kind':'PCF5','format':vn,'pcf':!(-0xcd8+0x1*0x115d+-0x59*0xd)}],[au,{'name':'VSM_16F','kind':'VSM','format':nt,'vsm':!(-0x4*-0x1+-0x14c6+0x1*0x14c2)}],[Jp,{'name':'VSM_32F','kind':'VSM','format':Xt,'vsm':!(0x940+-0x1*0x12e9+-0x1*-0x9a9)}],[al,{'name':'PCSS_32F','kind':'PCSS','format':Ji,'pcss':!(0x2b*0x55+0xa9*-0x11+-0x1*0x30e)}]]),Bw=-0x1d0c+0x5*-0x6d9+0x4048,em=0x1*0x983+0x11de+-0x1b60,nu=-0x4*0x48b+0x2*-0xded+-0x2*-0x1703,rv=-0x1945+0x5c*0x3e+0x2fd,ai=-0xa3d+-0x1cf*0x11+0x28fc,zw=-0xd0e+0x1235+0x1*-0x526,yh=0x1845+0x17d*0xa+-0x2727,Vw=-0x1527*-0x1+0x15*0x196+-0x22*0x19a,ni=0xac2+-0x2496+-0x1*-0x19d4,En=0x23b8+-0xdae*-0x2+-0x3f13,un=0x1903+-0x12a9+0x21e*-0x3,$r=0x1238+-0x973+-0x8c4,Jl=0x1618+-0x1*0xf1+0x1525*-0x1,tm=-0x6*-0x19c+-0x149e+0xaf6,av=0x1*-0x24cb+-0x106*0x1d+0x427a,Gw={[tm]:'NONE',[av]:'BOX'},p_='mul',Ll=-0x2131+-0x1d*-0x10f+-0x1d*-0x16,Xc=0x18*-0x25+-0xc73+0xfec,Hw={[Ll]:'NONE',[Xc]:'SRGB'},sm=-0x8cc+-0x226b+0x2b37,UU=0x1*0x1e0a+0x1fd*-0xf+-0x36,BU=-0x5*-0x79d+0x2019+-0x5*0xe08,zU=-0x2466+0x18*-0xba+-0x397*-0xf,VU=0x1*-0x231d+0xb6f*0x3+-0xd4*-0x1,GU=0x2*-0xfe2+0x2a0+0x1d29,nv=-0x435+0x701*0x2+-0x1*0x9c7,ov=['LINEAR','FILMIC','HEJL','ACES','ACES2','NEUTRAL','NONE'],lv=-0x1f02+-0xcbd+0x2bbf,bd=-0xcda+0x11*0x137+-0x4*0x1f3,cv=0x1da0+-0x9ae+-0x13f0,Ww={[lv]:'NONE',[bd]:'AO',[cv]:'GLOSSDEPEN'+'DENT'},vr='none',vh='envAtlas',xh='envAtlasHQ',Th='cubeMap',hv='sphereMap',$w={[vr]:'NONE',[vh]:'ENVATLAS',[xh]:'ENVATLASHQ',[Th]:'CUBEMAP',[hv]:'SPHEREMAP'},im='ambientSH',rm='envAtlas',am='constant',Xw={[im]:'AMBIENTSH',[rm]:'ENVALATLAS',[am]:'CONSTANT'},wh=-0x12*-0x201+-0x40*-0x19+0x3*-0xe1b,nl=0x14b1+-0x2f8+-0x1*0x11b7,nm=-0x86*-0x33+0x26f9+0x157*-0x31,dv=0x25*-0xd9+-0x1*-0x173f+-0x413*-0x2,fv=-0x25d9*0x1+-0x66a*0x2+-0x32bd*-0x1,ol=-0x1dbe+-0xbba+-0x2*-0x14cc,ou=-0x367*0xb+-0x2*0x8c7+-0x623*-0x9,uv=-0x1347+0x13c4+0x3*0x1,Eh=-0x8*0x20b+0x5*-0x3a1+0x237d,om=0x2bb*0x5+-0xbc9+-0x11*-0x2,ll=0x2ae+0x6b1+-0x5*0x113,cl=0x11dd+-0x4c9+0x514*-0x1,pv=0x7*-0x161+-0x3*-0xc5f+-0x9*0x146,hl=-0x16*0x19+-0x34c0+0xe*0x635,qc=-0x2014*0x3+0x661d+0x3a1f*0x1,Ps=-0x1604+0x25f2+-0xfee*0x1,xr=0x872*0x4+0x1*0x1c73+-0x3e3a,lm=0x1205*0x1+-0xa6c+-0x1d*0x43,Ss=0x14*0x67+0x5ba+-0xdc5,di=-0x1d17+-0x6a+0x1d83,fi=0x3f*0x11+-0x5b4+0x189,Aa=0x6ab*-0x5+-0x1*0x205d+0x41b4,Rl=0x557*0x1+-0x1698+0x1142,cm=0x7f*0x10+-0xabb+0x2cd,Zn=0xa1*-0x2a+0xa1b+0x1052,ci=-0xbe*0x9+-0x2002+0x26b0,Pt=-0xc6a+0x14a9+-0x41f*0x2,Mt=0x1*-0x241f+0x14c+0x22d5,qw={[ci]:'SIMPLE',[Pt]:'SLICED',[Mt]:'TILED'},jc=0x7*-0xc0+-0x1*0x14a2+-0x8a1*-0x3,ec=0xec5+-0x639*0x6+0x1*0x1691,Yc=0x1c7d+-0x1dbf+0x2*0xa1,jw=-0xd*0x1bb+0x1*-0x2c9+0x1949*0x1,Yw=-0xa*-0x12f+0x1896+-0x246a,m_=-0x1787*0x1+0xb7c+-0x1*-0xc0e,Kw=0x30*0xba+-0x1*0x3c8+0x4*-0x7c5,Zw=-0x1*0x2337+-0x1196+-0x34d2*-0x1,hm=-0x1591*-0x1+0x1*-0x536+-0x105b,lu=-0xb*-0x191+0xe1e+-0x1f58,Ce=0x1*-0x11c9+0x1755+0x4*-0x163,je=-0xa*-0x392+0x9b6+-0x2d69,Bo='infinite',Qw='box',Jw='dome',Sa='none',eE='bayer8',tE='bluenoise',sE='ignnoise',iE={[Sa]:'NONE',[eE]:'BAYER8',[tE]:'BLUENOISE',[sE]:'IGNNOISE'},rE='prerender',aE='postrender',nE='prerender:'+'layer',oE='postrender'+':layer',mv='precull',_v='postcull',lE='cull:end';class Ad{constructor(_0x1f0cc9,_0x4efa3a,_0x25252b){h(this,'uniformFor'+'mats',[]),h(this,'bindGroupF'+'ormats',[]),h(this,'vertexForm'+'at'),(this['uniformFor'+'mats'][rl]=_0x1f0cc9,this['bindGroupF'+'ormats'][rl]=_0x4efa3a,this['vertexForm'+'at']=_0x25252b);}['hasUniform'](_0x159ac0){for(let _0x5934d7=0x1a31*-0x1+-0x2*0xc4f+0x32cf;_0x5934d7<this['uniformFor'+'mats']['length'];_0x5934d7++){const _0x545965=this['uniformFor'+'mats'][_0x5934d7];if(_0x545965!=null&&_0x545965['get'](_0x159ac0))return!(0x2306+-0x22eb+-0x1b);}return!(-0x1f99+-0x1*0xf3a+-0x7ce*-0x6);}['hasTexture'](_0x29a00b){for(let _0x7a384c=0x1fad+-0x1709+-0x4f*0x1c;_0x7a384c<this['bindGroupF'+'ormats']['length'];_0x7a384c++){const _0x3d628c=this['bindGroupF'+'ormats'][_0x7a384c];if(_0x3d628c!=null&&_0x3d628c['getTexture'](_0x29a00b))return!(-0x1*0xf7d+0x10ed+-0x8*0x2e);}return!(-0x20d*-0xd+-0x9ef+-0x10b9);}['getVertexE'+'lement'](_0xa1a847){var _0x2c1ae6;return(_0x2c1ae6=this['vertexForm'+'at'])==null?void(0x22*0x71+-0x15db+-0x6d9*-0x1):_0x2c1ae6['elements']['find'](_0x13d93c=>_0x13d93c['name']===_0xa1a847);}['generateKe'+'y'](_0xab00f8){var _0x503c5a;let _0x440718=JSON['stringify'](this['uniformFor'+'mats'])+JSON['stringify'](this['bindGroupF'+'ormats']);return _0xab00f8['isWebGPU']&&(_0x440718+=(_0x503c5a=this['vertexForm'+'at'])==null?void(0x9*-0xb3+0x1*-0xe8f+0x14da):_0x503c5a['shaderProc'+'essingHash'+'String']),_0x440718;}}const gv=new Kt();function Hn(_0x1c0ece){const _0x305b14=gv['get'](_0x1c0ece);return w['assert'](_0x305b14),_0x305b14;}function cE(_0x8feba5,_0xca5c67){w['assert'](_0xca5c67),gv['get'](_0x8feba5,()=>_0xca5c67);}class ya{static['definesHas'+'h'](_0x1e1cfa){const _0x4283f8=Array['from'](_0x1e1cfa)['sort']((_0x5ebb17,_0x18d574)=>_0x5ebb17[0x11*-0x71+0xe91*-0x1+0x1612]>_0x18d574[-0x183b+0x8f7+-0x2*-0x7a2]?0x22a9+0x4ff*-0x5+-0x9ad:-(0x7fa*0x2+-0x1*-0x1ccf+-0x1*0x2cc2));return hi(JSON['stringify'](_0x4283f8));}}const hE=new Kt();class dE{constructor(_0x5c80f1,_0xc4ef60,_0x56274a={}){h(this,'index'),h(this,'name'),h(this,'defines',new Map()),(w['assert'](/^[a-z]\w*$/i['test'](_0x5c80f1),'ShaderPass'+'\x20name\x20can\x20'+'only\x20conta'+'in\x20letters'+',\x20numbers\x20'+'and\x20unders'+'cores\x20and\x20'+'start\x20with'+'\x20a\x20letter:'+'\x20'+_0x5c80f1),this['name']=_0x5c80f1,this['index']=_0xc4ef60,Object['assign'](this,_0x56274a),this['buildShade'+'rDefines']());}['buildShade'+'rDefines'](){let _0x4ea1b8;this['isShadow']?_0x4ea1b8='SHADOW':this['isForward']?_0x4ea1b8='FORWARD':this['index']===Zn&&(_0x4ea1b8='PICK'),this['defines']['set'](_0x4ea1b8+'_PASS',''),this['defines']['set'](this['name']['toUpperCas'+'e']()+'_PASS','');}}class Si{constructor(){h(this,'passesName'+'d',new Map()),h(this,'passesInde'+'xed',[]),h(this,'nextIndex',0x1474+0x857+-0x3f*0x75);const _0x28227a=(_0x590960,_0x2f22b7,_0xc8a97a)=>{const _0x3dc5a2=this['allocate'](_0x590960,_0xc8a97a);w['assert'](_0x3dc5a2['index']===_0x2f22b7);};_0x28227a('forward',Aa,{'isForward':!(-0xbaf*-0x3+-0x4*0x8e9+0x97)}),_0x28227a('prepass',Rl),_0x28227a('shadow',cm),_0x28227a('pick',Zn);}static['get'](_0x32734d){return w['assert'](_0x32734d),hE['get'](_0x32734d,()=>new Si());}['allocate'](_0x11ddef,_0x449afc){let _0x2b41d1=this['passesName'+'d']['get'](_0x11ddef);return _0x2b41d1===void(-0x2c*-0x82+0xf50+-0x25a8)&&(_0x2b41d1=new dE(_0x11ddef,this['nextIndex'],_0x449afc),this['passesName'+'d']['set'](_0x2b41d1['name'],_0x2b41d1),this['passesInde'+'xed'][_0x2b41d1['index']]=_0x2b41d1,this['nextIndex']++),_0x2b41d1;}['getByIndex'](_0x3d6f86){const _0x20b380=this['passesInde'+'xed'][_0x3d6f86];return w['assert'](_0x20b380),_0x20b380;}['getByName'](_0x53d2b3){return this['passesName'+'d']['get'](_0x53d2b3);}}class __ extends Map{constructor(){super(...arguments),h(this,'_keyDirty',!(0x2*-0xc4d+0x1*0xe96+-0xab*-0xf)),h(this,'_key','');}['set'](_0x1dc72d,_0xa40c45){return(!this['has'](_0x1dc72d)||this['get'](_0x1dc72d)!==_0xa40c45)&&this['markDirty'](),super['set'](_0x1dc72d,_0xa40c45);}['add'](_0xd81418){for(const [_0x4bf8da,_0x330c0d]of Object['entries'](_0xd81418))this['set'](_0x4bf8da,_0x330c0d);return this;}['delete'](_0xeb6260){const _0x185a8f=this['has'](_0xeb6260),_0x2023cd=super['delete'](_0xeb6260);return _0x185a8f&&_0x2023cd&&this['markDirty'](),_0x2023cd;}['clear'](){this['size']>-0x1369*0x2+-0xba6+0x3278&&this['markDirty'](),super['clear']();}['markDirty'](){this['_dirty']=!(-0x754+0x1*-0xe35+0x25*0x95),this['_keyDirty']=!(0xdab+0x1*0xf59+-0x4*0x741);}['isDirty'](){return this['_dirty'];}['resetDirty'](){this['_dirty']=!(0x1ad4+0x186e+-0x3341);}get['key'](){return this['_keyDirty']&&(this['_keyDirty']=!(-0x1d22+-0x2575+-0x4298*-0x1),this['_key']=Array['from'](this['entries']())['sort'](([_0x2b809a],[_0x837b50])=>_0x2b809a<_0x837b50?-(0x334+0x53*0x41+-0x1846):_0x2b809a>_0x837b50?-0x1e85+-0x69+0x1eef:-0x12*0x104+0x89a+0x9ae)['map'](([_0x587847,_0x80966a])=>_0x587847+'='+hi(_0x80966a))['join'](',')),this['_key'];}['copy'](_0x49547b){this['clear']();for(const [_0x25ee77,_0x3e5042]of _0x49547b)this['set'](_0x25ee77,_0x3e5042);return this;}}const fE=new Kt();class Pe{constructor(){h(this,'glsl',new __()),h(this,'wgsl',new __()),h(this,'version','');}static['get'](_0x1f4797,_0x2e5c7f=Fe){const _0x3e18ab=fE['get'](_0x1f4797,()=>new Pe());return _0x2e5c7f===Fe?_0x3e18ab['glsl']:_0x3e18ab['wgsl'];}get['useWGSL'](){return this['glsl']['size']===-0x825+-0x1*-0xf62+-0x73d||this['wgsl']['size']>-0x2455*0x1+0x830+0x1c25;}get['key'](){return'GLSL:'+this['glsl']['key']+'|WGSL:'+this['wgsl']['key']+'|API:'+this['version'];}['isDirty'](){return this['glsl']['isDirty']()||this['wgsl']['isDirty']();}['resetDirty'](){this['glsl']['resetDirty'](),this['wgsl']['resetDirty']();}['copy'](_0x4b59d5){return this['version']=_0x4b59d5['version'],this['glsl']['copy'](_0x4b59d5['glsl']),this['wgsl']['copy'](_0x4b59d5['wgsl']),this;}}class bh{static['merge'](..._0x2022b9){const _0x4f165f=new Map(_0x2022b9[-0x7*0x220+0x1*0x1189+-0x2a9]??[]);for(let _0x450e58=0x1775+-0x18fd*0x1+0x189;_0x450e58<_0x2022b9['length'];_0x450e58++){const _0x5c1d1c=_0x2022b9[_0x450e58];if(_0x5c1d1c){for(const [_0x271fc2,_0x38d463]of _0x5c1d1c)_0x4f165f['set'](_0x271fc2,_0x38d463);}}return _0x4f165f;}}class uE extends ya{constructor(_0x333593,_0x360568){super(),this['key']=_0x333593,this['shaderDefi'+'nition']=_0x360568;}['generateKe'+'y'](_0x9dd531){return this['key'];}['createShad'+'erDefiniti'+'on'](_0x2e61a1,_0x1e6f71){return this['shaderDefi'+'nition'];}}class $t{static['createShad'+'er'](_0x42d40d,_0x23bc09){const _0x227bf1=Hn(_0x42d40d);let _0x42421e=_0x227bf1['getCachedS'+'hader'](_0x23bc09['uniqueName']);if(!_0x42421e){const _0x15f40c=_0x42d40d['isWebGPU']&&(!!_0x23bc09['vertexWGSL']||!!_0x23bc09['vertexChun'+'k'])&&(!!_0x23bc09['fragmentWG'+'SL']||!!_0x23bc09['fragmentCh'+'unk']),_0x48fdd7=Pe['get'](_0x42d40d,_0x15f40c?it:Fe),_0x4f45d3=_0x23bc09['vertexChun'+'k']?_0x48fdd7['get'](_0x23bc09['vertexChun'+'k']):_0x15f40c?_0x23bc09['vertexWGSL']:_0x23bc09['vertexGLSL'],_0x13ff66=_0x23bc09['fragmentCh'+'unk']?_0x48fdd7['get'](_0x23bc09['fragmentCh'+'unk']):_0x15f40c?_0x23bc09['fragmentWG'+'SL']:_0x23bc09['fragmentGL'+'SL'];w['assert'](_0x4f45d3,'ShaderUtil'+'s.createSh'+'ader:\x20vert'+'ex\x20shader\x20'+'code\x20not\x20p'+'rovided',_0x23bc09),w['assert'](_0x13ff66,'ShaderUtil'+'s.createSh'+'ader:\x20frag'+'ment\x20shade'+'r\x20code\x20not'+'\x20provided',_0x23bc09);const _0x580e70=bh['merge'](_0x48fdd7,_0x23bc09['fragmentIn'+'cludes']),_0x3acd40=bh['merge'](_0x48fdd7,_0x23bc09['vertexIncl'+'udes']);_0x42421e=new qy(_0x42d40d,Jt['createDefi'+'nition'](_0x42d40d,{'name':_0x23bc09['uniqueName'],'shaderLanguage':_0x15f40c?it:Fe,'attributes':_0x23bc09['attributes'],'vertexCode':_0x4f45d3,'fragmentCode':_0x13ff66,'useTransformFeedback':_0x23bc09['useTransfo'+'rmFeedback'],'vertexIncludes':_0x3acd40,'vertexDefines':_0x23bc09['vertexDefi'+'nes'],'fragmentIncludes':_0x580e70,'fragmentDefines':_0x23bc09['fragmentDe'+'fines'],'fragmentOutputTypes':_0x23bc09['fragmentOu'+'tputTypes']})),_0x227bf1['setCachedS'+'hader'](_0x23bc09['uniqueName'],_0x42421e);}return _0x42421e;}static['getCoreDef'+'ines'](_0x200aef,_0x59827c){const _0x5dbcbb=new Map(_0x200aef['defines']);return _0x59827c['cameraShad'+'erParams']['defines']['forEach']((_0x49d50c,_0x4f3289)=>_0x5dbcbb['set'](_0x4f3289,_0x49d50c)),Si['get'](_0x59827c['device'])['getByIndex'](_0x59827c['pass'])['defines']['forEach']((_0x5cb823,_0x62b294)=>_0x5dbcbb['set'](_0x62b294,_0x5cb823)),_0x5dbcbb;}static['processSha'+'der'](_0x43b2e3,_0x5a9582){w['assert'](_0x43b2e3);const _0x5e9b16=_0x43b2e3['definition'],_0x5d4d0e=(_0x5e9b16['name']??'shader')+'-id-'+_0x43b2e3['id'],_0x11e7f2=new uE(_0x5d4d0e,_0x5e9b16),_0x5a21ed='shader',_0x346fcf=Hn(_0x43b2e3['device']);w['assert'](!_0x346fcf['isRegister'+'ed'](_0x5a21ed)),_0x346fcf['register'](_0x5a21ed,_0x11e7f2);const _0x15cb1d=_0x346fcf['getProgram'](_0x5a21ed,{},_0x5a9582);return _0x346fcf['unregister'](_0x5a21ed),_0x15cb1d;}static['addScreenD'+'epthChunkD'+'efines'](_0x1756b9,_0x2cf010,_0x293e01){_0x2cf010['sceneDepth'+'MapLinear']&&_0x293e01['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',''),_0x1756b9['textureFlo'+'atRenderab'+'le']&&_0x293e01['set']('SCENE_DEPT'+'HMAP_FLOAT','');}}const pE={'type':Er,'base':0x0,'baseVertex':0x0,'count':0x4,'indexed':!(0x1*-0x224b+0x21*-0xb4+0x140*0x2e)},so=new re(),io=new re(),Gd=new ky();class Ah{constructor(_0x46723d){h(this,'uniformBuf'+'fer'),h(this,'bindGroup');const _0x15a656=_0x46723d['device'];if(this['shader']=_0x46723d,w['assert'](_0x46723d),_0x15a656['supportsUn'+'iformBuffe'+'rs']){const _0x33436b=new Ad();this['shader']=$t['processSha'+'der'](_0x46723d,_0x33436b);const _0xc5a3f7=this['shader']['meshUnifor'+'mBufferFor'+'mat'];_0xc5a3f7&&(this['uniformBuf'+'fer']=new zp(_0x15a656,_0xc5a3f7,!(0x147*0xc+-0x449+0x585*-0x2)));const _0x522f56=this['shader']['meshBindGr'+'oupFormat'];w['assert'](_0x522f56),this['bindGroup']=new Up(_0x15a656,_0x522f56),Ea['setName'](this['bindGroup'],'QuadRender'+'-MeshBindG'+'roup_'+this['bindGroup']['id']);}}['destroy'](){var _0x452aa0,_0xd8bb90;(_0x452aa0=this['uniformBuf'+'fer'])==null||_0x452aa0['destroy'](),this['uniformBuf'+'fer']=null,(_0xd8bb90=this['bindGroup'])==null||_0xd8bb90['destroy'](),this['bindGroup']=null;}['render'](_0x18f60d,_0x365612){const _0x39ab87=this['shader']['device'];Q['pushGpuMar'+'ker'](_0x39ab87,'QuadRender'),_0x18f60d&&(so['set'](_0x39ab87['vx'],_0x39ab87['vy'],_0x39ab87['vw'],_0x39ab87['vh']),io['set'](_0x39ab87['sx'],_0x39ab87['sy'],_0x39ab87['sw'],_0x39ab87['sh']),_0x365612=_0x365612??_0x18f60d,_0x39ab87['setViewpor'+'t'](_0x18f60d['x'],_0x18f60d['y'],_0x18f60d['z'],_0x18f60d['w']),_0x39ab87['setScissor'](_0x365612['x'],_0x365612['y'],_0x365612['z'],_0x365612['w'])),_0x39ab87['setVertexB'+'uffer'](_0x39ab87['quadVertex'+'Buffer'],-0x1*0x8d2+0x5*-0x207+-0xd3*-0x17);const _0x1b91ee=this['shader'];if(_0x39ab87['setShader'](_0x1b91ee),_0x39ab87['supportsUn'+'iformBuffe'+'rs']){_0x39ab87['setBindGro'+'up'](rl,_0x39ab87['emptyBindG'+'roup']);const _0x7cf876=this['bindGroup'];_0x7cf876['update'](),_0x39ab87['setBindGro'+'up'](Oy,_0x7cf876);const _0x282cca=this['uniformBuf'+'fer'];_0x282cca?(_0x282cca['update'](Gd),_0x39ab87['setBindGro'+'up'](su,Gd['bindGroup'],Gd['offsets'])):_0x39ab87['setBindGro'+'up'](su,_0x39ab87['emptyBindG'+'roup']);}_0x39ab87['draw'](pE),_0x18f60d&&(_0x39ab87['setViewpor'+'t'](so['x'],so['y'],so['z'],so['w']),_0x39ab87['setScissor'](io['x'],io['y'],io['z'],io['w'])),Q['popGpuMark'+'er'](_0x39ab87);}}class mE extends ys{constructor(_0x166cd7,_0x139bf1,_0x310888,_0x28ca1a){super(_0x166cd7),this['quad']=_0x139bf1,this['rect']=_0x310888,this['scissorRec'+'t']=_0x28ca1a;}['execute'](){const {device:_0x5243b3}=this;Q['pushGpuMar'+'ker'](_0x5243b3,this['name']+':'+this['quad']['shader']['name']),_0x5243b3['setCullMod'+'e'](bt),_0x5243b3['setDepthSt'+'ate'](Yt['NODEPTH']),_0x5243b3['setStencil'+'State'](null,null),this['quad']['render'](this['rect'],this['scissorRec'+'t']),Q['popGpuMark'+'er'](_0x5243b3);}}const _E=new re();function Ar(_0x4c4591,_0x3b34fa,_0x565e63,_0x27c552,_0x5a0738){w['assert'](_0x3b34fa!==void(-0x3*0x7df+-0x1*0xeb1+0x264e));const _0x4f2769=arguments[-0x20b8+0xc1*0x2f+-0x2b2];w['call'](()=>{_0x4f2769!==void(0xa68+0x5*0x749+0x1*-0x2ed5)&&w['warnOnce']('pc.drawQua'+'dWithShade'+'r\x20no\x20longe'+'r\x20accepts\x20'+'useBlend\x20p'+'arameter,\x20'+'and\x20blendi'+'ng\x20state\x20n'+'eeds\x20to\x20be'+'\x20set\x20up\x20us'+'ing\x20Graphi'+'csDevice.s'+'etBlendSta'+'te.');});const _0x55120e=new Ah(_0x565e63);_0x27c552||(_0x27c552=_E,_0x27c552['x']=0x116e*-0x2+-0x25c1+0x281*0x1d,_0x27c552['y']=-0xa8*-0x26+0x15*0x1c4+-0x3e04,_0x27c552['z']=_0x3b34fa?_0x3b34fa['width']:_0x4c4591['width'],_0x27c552['w']=_0x3b34fa?_0x3b34fa['height']:_0x4c4591['height']);const _0x59e9a3=new mE(_0x4c4591,_0x55120e,_0x27c552,_0x5a0738);_0x59e9a3['init'](_0x3b34fa),_0x59e9a3['colorOps']['clear']=!(0x631*0x1+0x20ed*0x1+-0x271d),_0x59e9a3['depthStenc'+'ilOps']['clearDepth']=!(0x224a+0x1817+0x1d30*-0x2),_0x4c4591['isWebGPU']&&_0x3b34fa===null&&_0x4c4591['samples']>0x161a+-0x544*-0x4+-0x2b29*0x1&&(_0x59e9a3['colorOps']['store']=!(-0xb53+0x1d5f+0x3c*-0x4d)),_0x59e9a3['render'](),_0x55120e['destroy']();}class g_{constructor(_0x1db875,_0x556e4d,_0x45e505){h(this,'_aabb',new De()),h(this,'origMeshIn'+'stances'),h(this,'meshInstan'+'ce',null),h(this,'dynamic'),h(this,'batchGroup'+'Id'),(this['origMeshIn'+'stances']=_0x1db875,this['dynamic']=_0x556e4d,this['batchGroup'+'Id']=_0x45e505);}['destroy'](_0x4bff26,_0x402113){this['meshInstan'+'ce']&&(this['removeFrom'+'Layers'](_0x4bff26,_0x402113),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}['addToLayer'+'s'](_0x4d6cc0,_0x1ff09b){for(let _0x47f461=0x211*0x11+-0x2466+-0xd*-0x19;_0x47f461<_0x1ff09b['length'];_0x47f461++){const _0x2f7ce8=_0x4d6cc0['layers']['getLayerBy'+'Id'](_0x1ff09b[_0x47f461]);_0x2f7ce8&&_0x2f7ce8['addMeshIns'+'tances']([this['meshInstan'+'ce']]);}}['removeFrom'+'Layers'](_0x1f0249,_0x5c6276){for(let _0x359f78=-0x2*-0x59f+0x407+0x1*-0xf45;_0x359f78<_0x5c6276['length'];_0x359f78++){const _0x512da1=_0x1f0249['layers']['getLayerBy'+'Id'](_0x5c6276[_0x359f78]);_0x512da1&&_0x512da1['removeMesh'+'Instances']([this['meshInstan'+'ce']]);}}['updateBoun'+'dingBox'](){this['_aabb']['copy'](this['origMeshIn'+'stances'][0x174f+0x1*-0x1553+0x1*-0x1fc]['aabb']);for(let _0x185deb=0x1*-0x1652+-0x16fc+-0x7*-0x679;_0x185deb<this['origMeshIn'+'stances']['length'];_0x185deb++)this['_aabb']['add'](this['origMeshIn'+'stances'][_0x185deb]['aabb']);this['meshInstan'+'ce']['aabb']=this['_aabb'],this['meshInstan'+'ce']['_aabbVer']=-0x15b1+0x992+0x1d*0x6b;}get['model'](){w['removed']('pc.Batch#m'+'odel\x20was\x20r'+'emoved.\x20Us'+'e\x20pc.Batch'+'#meshInsta'+'nce\x20to\x20acc'+'ess\x20batche'+'d\x20mesh\x20ins'+'tead.');}}class St{constructor(_0x571571,_0x3d69ec,_0x3719c2,_0x3ff12d,_0xdd395e=[er]){h(this,'_ui',!(0xdcf+0x59*0x40+-0x240e)),h(this,'_sprite',!(-0x94f+0x19c1+-0x1071)),h(this,'_obj',{'model':[],'element':[],'sprite':[],'render':[]}),h(this,'id'),h(this,'name'),h(this,'dynamic'),h(this,'maxAabbSiz'+'e'),h(this,'layers'),(this['id']=_0x571571,this['name']=_0x3d69ec,this['dynamic']=_0x3719c2,this['maxAabbSiz'+'e']=_0x3ff12d,this['layers']=_0xdd395e);}}h(St,'MODEL','model'),h(St,'ELEMENT','element'),h(St,'SPRITE','sprite'),h(St,'RENDER','render');const S_=new te();class Ol{constructor(_0x3de8bb){h(this,'bones'),(this['_dirty']=!(-0x362+0x1c5b+-0x1*0x18f9),this['_rootBone']=null,this['_skinUpdat'+'eIndex']=-(-0x24bb+0xb3f*-0x3+0x4679),this['_updateBef'+'oreCull']=!(-0x35e+-0xcee+0x104c),_0x3de8bb&&this['initSkin'](_0x3de8bb));}set['rootBone'](_0x42f9d){this['_rootBone']=_0x42f9d;}get['rootBone'](){return this['_rootBone'];}['init'](_0x312381,_0x84d83b){const _0x395a13=_0x84d83b*(-0x2261*0x1+-0x5*0x60e+-0x158e*-0x3);let _0x4c6321=Math['ceil'](Math['sqrt'](_0x395a13));_0x4c6321=Y['roundUp'](_0x4c6321,-0x233c+-0x1877+0x3bb6);const _0x2e1461=Math['ceil'](_0x395a13/_0x4c6321);this['boneTextur'+'e']=new _e(_0x312381,{'width':_0x4c6321,'height':_0x2e1461,'format':Xt,'mipmaps':!(0x9b*-0x17+0x14*-0x101+-0x3*-0xb56),'minFilter':Te,'magFilter':Te,'name':'skin'}),this['matrixPale'+'tte']=this['boneTextur'+'e']['lock']({'mode':yy}),this['boneTextur'+'e']['unlock']();}['destroy'](){this['boneTextur'+'e']&&(this['boneTextur'+'e']['destroy'](),this['boneTextur'+'e']=null);}['resolve'](_0x38c3a8,_0x5cb754){this['rootBone']=_0x38c3a8;const _0x3272bd=this['skin'],_0xa729d1=[];for(let _0x4edd3c=0x7f7*-0x1+0xccb*0x3+-0x1e6a;_0x4edd3c<_0x3272bd['boneNames']['length'];_0x4edd3c++){const _0x4fcd7a=_0x3272bd['boneNames'][_0x4edd3c];let _0x547202=_0x38c3a8['findByName'](_0x4fcd7a);_0x547202||(w['error']('Failed\x20to\x20'+'find\x20bone\x20'+'['+_0x4fcd7a+(']\x20in\x20the\x20e'+'ntity\x20hier'+'archy,\x20Ren'+'derCompone'+'nt\x20on\x20')+_0x5cb754['name']+(',\x20rootBone'+':\x20')+_0x38c3a8['name']),_0x547202=_0x5cb754),_0xa729d1['push'](_0x547202);}this['bones']=_0xa729d1;}['initSkin'](_0x4c36d4){this['skin']=_0x4c36d4,this['bones']=[];const _0xc295fb=_0x4c36d4['inverseBin'+'dPose']['length'];this['init'](_0x4c36d4['device'],_0xc295fb),this['matrices']=[];for(let _0x55eb19=0xb0d+0x16d*-0x8+0x5b;_0x55eb19<_0xc295fb;_0x55eb19++)this['matrices'][_0x55eb19]=new te();}['uploadBone'+'s'](_0x14529f){this['boneTextur'+'e']['upload']();}['_updateMat'+'rices'](_0x2d7dfc,_0x4d22fd){if(this['_skinUpdat'+'eIndex']!==_0x4d22fd){this['_skinUpdat'+'eIndex']=_0x4d22fd,S_['copy'](_0x2d7dfc['getWorldTr'+'ansform']())['invert']();for(let _0x5ba0af=this['bones']['length']-(0x983+-0x903+-0x7f*0x1);_0x5ba0af>=-0xc6f+-0x1426*-0x1+0x18b*-0x5;_0x5ba0af--)this['matrices'][_0x5ba0af]['mulAffine2'](S_,this['bones'][_0x5ba0af]['getWorldTr'+'ansform']()),this['matrices'][_0x5ba0af]['mulAffine2'](this['matrices'][_0x5ba0af],this['skin']['inverseBin'+'dPose'][_0x5ba0af]);}}['updateMatr'+'ices'](_0x5e7da5,_0x489747){this['_updateBef'+'oreCull']&&this['_updateMat'+'rices'](_0x5e7da5,_0x489747);}['updateMatr'+'ixPalette'](_0x8c32e4,_0x1dda92){this['_updateMat'+'rices'](_0x8c32e4,_0x1dda92);const _0x58bf39=this['matrixPale'+'tte'],_0x26c7d5=this['bones']['length'];for(let _0x1284fe=0x7*-0x57e+-0xf*-0x15b+0x121d;_0x1284fe<_0x26c7d5;_0x1284fe++){const _0x81bb37=this['matrices'][_0x1284fe]['data'],_0x53e455=_0x1284fe*(0x1e3d+-0x1efd*0x1+0x44*0x3);_0x58bf39[_0x53e455]=_0x81bb37[-0x1716+-0xd53+0x2469],_0x58bf39[_0x53e455+(-0xb89*-0x2+-0xc8f+0x5*-0x21a)]=_0x81bb37[0xf*0x20c+-0x451+0x1a5f*-0x1],_0x58bf39[_0x53e455+(0x9*0x118+-0x745*-0x4+-0x26ea)]=_0x81bb37[0x971+-0x1c69+0x1300],_0x58bf39[_0x53e455+(-0x896+-0x88c+-0x273*-0x7)]=_0x81bb37[-0x33*0xb+-0x1c94+-0x1*-0x1ed1],_0x58bf39[_0x53e455+(0x18e5*0x1+-0xe0*-0x1f+-0x3401)]=_0x81bb37[0x5c*0x49+-0x26bb+0xc80],_0x58bf39[_0x53e455+(-0xe*-0xc7+0x7cd+-0x2*0x955)]=_0x81bb37[-0x125*0x13+-0x1634+0x2bf8],_0x58bf39[_0x53e455+(0x466*0x8+-0x1051*-0x1+0x1129*-0x3)]=_0x81bb37[-0x1*0x24cb+0x19ed*0x1+-0x1*-0xae7],_0x58bf39[_0x53e455+(-0x7f*0x8+-0x1*-0x1247+0x2*-0x724)]=_0x81bb37[-0x2649+0x4f*-0x7a+-0x4bfc*-0x1],_0x58bf39[_0x53e455+(-0x1562+-0x833*-0x3+-0x1*0x32f)]=_0x81bb37[0x1*0x30b+-0x1f7e+0x2f*0x9b],_0x58bf39[_0x53e455+(-0x20dd+-0x1*-0x24c5+-0x3df)]=_0x81bb37[0x2124+0xcf0+0x106*-0x2d],_0x58bf39[_0x53e455+(-0x76d*-0x1+-0xbde*0x1+-0x47b*-0x1)]=_0x81bb37[-0x1*-0x50f+0xd*-0x97+-0x2*-0x153],_0x58bf39[_0x53e455+(-0xe2c*0x2+0x1*-0x1507+0x316a)]=_0x81bb37[0x751*0x1+0x19ba+-0xaff*0x3];}this['uploadBone'+'s'](this['skin']['device']);}}class y_ extends Ol{constructor(_0x5b3222,_0x413cb3,_0x222419){super();const _0x49213a=_0x413cb3['length'];this['init'](_0x5b3222,_0x49213a),this['device']=_0x5b3222,this['rootNode']=_0x222419,this['bones']=_0x413cb3;}['updateMatr'+'ices'](_0x3956c6,_0x3708f9){}['updateMatr'+'ixPalette'](_0x11f7bc,_0x5bc72e){const _0x10d8ae=this['matrixPale'+'tte'],_0x4e790c=this['bones']['length'];for(let _0x5f544b=-0xa4a*0x1+0x1b8e+-0x1144;_0x5f544b<_0x4e790c;_0x5f544b++){const _0x37bd11=this['bones'][_0x5f544b]['getWorldTr'+'ansform']()['data'],_0x568dd1=_0x5f544b*(0x20cb+-0x1b68+-0x557);_0x10d8ae[_0x568dd1]=_0x37bd11[-0x1c89+0x11a*-0xc+0x29c1],_0x10d8ae[_0x568dd1+(0x1565*0x1+0x59*-0x1+-0x150b)]=_0x37bd11[-0x3*-0x3e1+0x5*-0x38f+0x5*0x13c],_0x10d8ae[_0x568dd1+(0x1f*0x2f+0x13bb+0x196a*-0x1)]=_0x37bd11[0x123+-0x4ba+0x39f],_0x10d8ae[_0x568dd1+(0x1f53+-0x821*-0x1+-0x2771)]=_0x37bd11[0x1*0x69d+0x2*0x764+-0x1559],_0x10d8ae[_0x568dd1+(0x7ee+-0x43*-0x65+0x9*-0x3d1)]=_0x37bd11[-0x1*-0x1597+0x14b9*-0x1+-0xdd],_0x10d8ae[_0x568dd1+(0x1b32*-0x1+-0x1e22+0x115*0x35)]=_0x37bd11[0x1cf*0xf+0x14e*0x1b+-0x3e56],_0x10d8ae[_0x568dd1+(-0x469+-0x5*-0x2e1+0x1a9*-0x6)]=_0x37bd11[-0x31a*0x1+0x243c+-0x1*0x2119],_0x10d8ae[_0x568dd1+(-0x1fc8+-0x6ae*-0x4+-0x517*-0x1)]=_0x37bd11[-0x431+-0x214a+-0x2588*-0x1],_0x10d8ae[_0x568dd1+(0x21b0+0x5f0+-0x2798)]=_0x37bd11[-0x4d1+0x1*-0x501+-0x11*-0x94],_0x10d8ae[_0x568dd1+(-0x1023+0x2179+-0x114d)]=_0x37bd11[0xf2d+-0xdb0+0x19*-0xf],_0x10d8ae[_0x568dd1+(-0x1*-0x1aae+-0x1*0x16f7+-0x1*0x3ad)]=_0x37bd11[-0xcb4+0x697+0x627],_0x10d8ae[_0x568dd1+(0x18f9+-0x23ef*0x1+0x9*0x139)]=_0x37bd11[0x10c4+-0x69*-0x59+-0x3537];}this['uploadBone'+'s'](this['device']);}}let gE=-0x313+0x945+-0xd*0x7a;class oi{constructor(){this['initDefaul'+'ts']();}['initDefaul'+'ts'](){this['recreate']=!(0x20*0xf2+0xec8+0x1*-0x2d07),this['verticesUs'+'age']=ms,this['indicesUsa'+'ge']=ms,this['maxVertice'+'s']=0x2075+-0x1f46+0x65*-0x3,this['maxIndices']=0x172+0xac3+0x271*-0x5,this['vertexCoun'+'t']=0x1680+-0x1*-0x1e0+-0x1860,this['indexCount']=-0x64*0x56+-0x23a0+0x4538,this['vertexStre'+'amsUpdated']=!(0x3*-0x7e5+0x1f2b+0x5*-0x17f),this['indexStrea'+'mUpdated']=!(-0x1*-0x14a2+0xa9d*-0x1+-0x1*0xa04),this['vertexStre'+'amDictiona'+'ry']={},this['indices']=null;}['_changeVer'+'texCount'](_0x233f98,_0x3e9474){this['vertexCoun'+'t']?w['assert'](this['vertexCoun'+'t']===_0x233f98,'Vertex\x20str'+'eam\x20'+_0x3e9474+'\x20has\x20'+_0x233f98+('\x20vertices,'+'\x20which\x20doe'+'s\x20not\x20matc'+'h\x20already\x20'+'set\x20stream'+'s\x20with\x20')+this['vertexCoun'+'t']+'\x20vertices.'):this['vertexCoun'+'t']=_0x233f98;}}h(oi,'DEFAULT_CO'+'MPONENTS_P'+'OSITION',0x579+0x1736*0x1+-0x1cac),h(oi,'DEFAULT_CO'+'MPONENTS_N'+'ORMAL',0x766+0xe2a+-0x9*0x265),h(oi,'DEFAULT_CO'+'MPONENTS_U'+'V',-0x249a*-0x1+0xa11+0x2ea9*-0x1),h(oi,'DEFAULT_CO'+'MPONENTS_C'+'OLORS',-0x8c*-0x41+-0x1588+-0x2*0x700);class SE{constructor(_0x5c8362,_0x40ab01,_0x6cf3a5,_0x5dbf5b,_0x4adf65){this['data']=_0x5c8362,this['componentC'+'ount']=_0x40ab01,this['dataType']=_0x6cf3a5,this['dataTypeNo'+'rmalize']=_0x5dbf5b,this['asInt']=_0x4adf65;}}class Ge extends wd{constructor(_0x3d6413,_0x3352f1){super(),h(this,'indexBuffe'+'r',[null]),h(this,'vertexBuff'+'er',null),h(this,'primitive',[{'type':0x0,'base':0x0,'baseVertex':0x0,'count':0x0}]),h(this,'skin',null),h(this,'boneAabb',null),h(this,'_aabbVer',-0x1*0x232e+-0x127+0x2455),h(this,'_aabb',new De()),h(this,'_geometryD'+'ata',null),h(this,'_morph',null),h(this,'_storageIn'+'dex',!(-0x1*0x18d6+0xa4e+0xe89)),h(this,'_storageVe'+'rtex',!(0x6cb*0x5+-0x21b4+-0x42)),(this['id']=gE++,w['assert'](_0x3d6413,'Mesh\x20const'+'ructor\x20tak'+'es\x20a\x20Graph'+'icsDevice\x20'+'as\x20a\x20param'+'eter,\x20and\x20'+'it\x20was\x20not'+'\x20provided.'),this['device']=_0x3d6413,this['_storageIn'+'dex']=(_0x3352f1==null?void(0x11f5+0x238c+-0x3581):_0x3352f1['storageInd'+'ex'])||!(-0x545+-0xe54+0x139a),this['_storageVe'+'rtex']=(_0x3352f1==null?void(0x1*-0xc5f+0xa3*0x18+-0x2e9):_0x3352f1['storageVer'+'tex'])||!(-0x1b60+-0x1467+0x2fc8));}static['fromGeomet'+'ry'](_0x1558b5,_0x1a3396,_0x1cbc13={}){const _0xbb7d26=new Ge(_0x1558b5,_0x1cbc13),{positions:_0x25ffa0,normals:_0x26ecd9,tangents:_0x44fa7f,colors:_0x5a48dd,uvs:_0x5b998b,uvs1:_0x36f807,blendIndices:_0x420f30,blendWeights:_0x5ca54d,indices:_0x1ef886}=_0x1a3396;return _0x25ffa0&&_0xbb7d26['setPositio'+'ns'](_0x25ffa0),_0x26ecd9&&_0xbb7d26['setNormals'](_0x26ecd9),_0x44fa7f&&_0xbb7d26['setVertexS'+'tream'](yi,_0x44fa7f,-0x163f+-0x1fc8+-0x1*-0x360b),_0x5a48dd&&_0xbb7d26['setColors3'+'2'](_0x5a48dd),_0x5b998b&&_0xbb7d26['setUvs'](0x1*-0x185+0x1e95+0xa*-0x2e8,_0x5b998b),_0x36f807&&_0xbb7d26['setUvs'](-0x11d+-0x94a+0xa68,_0x36f807),_0x420f30&&_0xbb7d26['setVertexS'+'tream'](us,_0x420f30,-0x3e*0x21+-0x1c00+-0x1201*-0x2,_0x420f30['length']/(0x3fc*0x4+0x7cb+0x1*-0x17b7),la),_0x5ca54d&&_0xbb7d26['setVertexS'+'tream'](gi,_0x5ca54d,-0x1647+0x20a7+0x1a*-0x66),_0x1ef886&&_0xbb7d26['setIndices'](_0x1ef886),_0xbb7d26['update'](),_0xbb7d26;}set['morph'](_0x2222d1){_0x2222d1!==this['_morph']&&(this['_morph']&&this['_morph']['decRefCoun'+'t'](),this['_morph']=_0x2222d1,_0x2222d1&&_0x2222d1['incRefCoun'+'t']());}get['morph'](){return this['_morph'];}set['aabb'](_0x16fb3f){this['_aabb']=_0x16fb3f,this['_aabbVer']++;}get['aabb'](){return this['_aabb'];}['destroy'](){const _0x5ced4c=this['morph'];_0x5ced4c&&(this['morph']=null,_0x5ced4c['refCount']<-0x1687+-0x23c7+0x3a4f&&_0x5ced4c['destroy']()),this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);for(let _0x1ca369=-0x18a8+-0x39*0x61+0x2e41;_0x1ca369<this['indexBuffe'+'r']['length'];_0x1ca369++)this['_destroyIn'+'dexBuffer'](_0x1ca369);this['indexBuffe'+'r']['length']=-0x190e+0x215c+-0x84e,this['_geometryD'+'ata']=null;}['_destroyIn'+'dexBuffer'](_0x11b4bd){this['indexBuffe'+'r'][_0x11b4bd]&&(this['indexBuffe'+'r'][_0x11b4bd]['destroy'](),this['indexBuffe'+'r'][_0x11b4bd]=null);}['_initBoneA'+'abbs'](_0x33d880){this['boneAabb']=[],this['boneUsed']=[];let _0x359db2,_0x35025d,_0x992ab6,_0x2d500e,_0x57dd5e;const _0x57723e=[],_0x149661=[],_0x10585a=this['boneUsed'],_0xa866a4=this['skin']['boneNames']['length'];let _0x17aede,_0x1c7c89,_0x3c480e;for(let _0x4a2c4b=-0x1871+0x1b2c+0x1*-0x2bb;_0x4a2c4b<_0xa866a4;_0x4a2c4b++)_0x57723e[_0x4a2c4b]=new D(Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']),_0x149661[_0x4a2c4b]=new D(-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);const _0x3a3d74=new Uo(this['vertexBuff'+'er']),_0x47f05e=_0x3a3d74['element'][Me],_0x588be1=_0x3a3d74['element'][gi],_0x5dca06=_0x3a3d74['element'][us],_0x3fc27c=this['vertexBuff'+'er']['numVertice'+'s'];for(let _0x469e05=-0x1e02+0x9*0x1c5+0xe15;_0x469e05<_0x3fc27c;_0x469e05++){for(let _0x550f48=0x2026+-0x1126*0x2+0x226;_0x550f48<-0x9f5+-0xd24*0x1+-0x171d*-0x1;_0x550f48++)if(_0x588be1['array'][_0x588be1['index']+_0x550f48]>-0x1677+-0x9cd+-0x7*-0x49c){const _0x551bcb=_0x5dca06['array'][_0x5dca06['index']+_0x550f48];if(_0x10585a[_0x551bcb]=!(0x4ee*-0x1+-0x3b4+-0x22*-0x41),_0x359db2=_0x47f05e['array'][_0x47f05e['index']],_0x35025d=_0x47f05e['array'][_0x47f05e['index']+(0x959+-0x91a*-0x1+-0x1272*0x1)],_0x992ab6=_0x47f05e['array'][_0x47f05e['index']+(-0xf8d*0x2+-0x48e+0x5*0x722)],_0x2d500e=_0x149661[_0x551bcb],_0x57dd5e=_0x57723e[_0x551bcb],_0x57dd5e['x']>_0x359db2&&(_0x57dd5e['x']=_0x359db2),_0x57dd5e['y']>_0x35025d&&(_0x57dd5e['y']=_0x35025d),_0x57dd5e['z']>_0x992ab6&&(_0x57dd5e['z']=_0x992ab6),_0x2d500e['x']<_0x359db2&&(_0x2d500e['x']=_0x359db2),_0x2d500e['y']<_0x35025d&&(_0x2d500e['y']=_0x35025d),_0x2d500e['z']<_0x992ab6&&(_0x2d500e['z']=_0x992ab6),_0x33d880){let _0x418dc1=_0x17aede=_0x359db2,_0x166ab8=_0x1c7c89=_0x35025d,_0x33a6b7=_0x3c480e=_0x992ab6;for(let _0x525ac2=0x8b7+-0x81*0x4a+0x1c93;_0x525ac2<_0x33d880['length'];_0x525ac2++){const _0x11cecc=_0x33d880[_0x525ac2],_0x18ddaf=_0x11cecc['deltaPosit'+'ions'][_0x469e05*(0x193c+0xad6+0x3*-0xc05)],_0x55804a=_0x11cecc['deltaPosit'+'ions'][_0x469e05*(0x2*-0xfaa+0xba7+-0xb4*-0x1c)+(0x1ca2+0x1e4d+0x31a*-0x13)],_0x17cdd9=_0x11cecc['deltaPosit'+'ions'][_0x469e05*(-0x3f*0x88+0x15*-0xe8+0x3483)+(0x307*-0x9+0x2*-0x889+0x1*0x2c53)];_0x18ddaf<0x1f54+-0x3*0xa41+-0x91?_0x418dc1+=_0x18ddaf:_0x17aede+=_0x18ddaf,_0x55804a<-0x33*-0x3b+0x1f08+-0x2ac9?_0x166ab8+=_0x55804a:_0x1c7c89+=_0x55804a,_0x17cdd9<-0x2181+0x731*0x1+0x1a50?_0x33a6b7+=_0x17cdd9:_0x3c480e+=_0x17cdd9;}_0x57dd5e['x']>_0x418dc1&&(_0x57dd5e['x']=_0x418dc1),_0x57dd5e['y']>_0x166ab8&&(_0x57dd5e['y']=_0x166ab8),_0x57dd5e['z']>_0x33a6b7&&(_0x57dd5e['z']=_0x33a6b7),_0x2d500e['x']<_0x17aede&&(_0x2d500e['x']=_0x17aede),_0x2d500e['y']<_0x1c7c89&&(_0x2d500e['y']=_0x1c7c89),_0x2d500e['z']<_0x3c480e&&(_0x2d500e['z']=_0x3c480e);}}_0x3a3d74['next']();}const _0x48c379=this['vertexBuff'+'er']['getFormat']()['elements']['find'](_0x229ea9=>_0x229ea9['name']===Me);if(_0x48c379&&_0x48c379['normalize']){const _0x174d92=((()=>{switch(_0x48c379['dataType']){case dd:return _0x105708=>Math['max'](_0x105708/(0x1*0x283+0x1eb5+-0x20b9),-(0x1817+0x1b7*-0x16+0xda4));case la:return _0x103bef=>_0x103bef/(0x237d+-0x1192+-0x10ec);case fd:return _0x5b1312=>Math['max'](_0x5b1312/(-0x9e17*-0x1+-0xb147+0x932f),-(-0xa3e+0x21*0x59+-0x13a));case Ml:return _0x2b60e6=>_0x2b60e6/(0x1bfef+0xe8ea+-0x1a8da);default:return _0x1f068f=>_0x1f068f;}})());for(let _0x504ceb=0x1*0x259d+-0xa99*0x1+-0x6c1*0x4;_0x504ceb<_0xa866a4;_0x504ceb++)if(_0x10585a[_0x504ceb]){const _0x57904b=_0x57723e[_0x504ceb],_0x1f9e65=_0x149661[_0x504ceb];_0x57904b['set'](_0x174d92(_0x57904b['x']),_0x174d92(_0x57904b['y']),_0x174d92(_0x57904b['z'])),_0x1f9e65['set'](_0x174d92(_0x1f9e65['x']),_0x174d92(_0x1f9e65['y']),_0x174d92(_0x1f9e65['z']));}}for(let _0x1b0f98=0x3*0x55b+0x1*0x1891+-0x28a2;_0x1b0f98<_0xa866a4;_0x1b0f98++){const _0x31f186=new De();_0x31f186['setMinMax'](_0x57723e[_0x1b0f98],_0x149661[_0x1b0f98]),this['boneAabb']['push'](_0x31f186);}}['_initGeome'+'tryData'](){this['_geometryD'+'ata']||(this['_geometryD'+'ata']=new oi(),this['vertexBuff'+'er']&&(this['_geometryD'+'ata']['vertexCoun'+'t']=this['vertexBuff'+'er']['numVertice'+'s'],this['_geometryD'+'ata']['maxVertice'+'s']=this['vertexBuff'+'er']['numVertice'+'s']),this['indexBuffe'+'r']['length']>0x1*0x751+0x26f8+-0x2e49&&this['indexBuffe'+'r'][-0x12da+0x81c+0xa*0x113]&&(this['_geometryD'+'ata']['indexCount']=this['indexBuffe'+'r'][-0x5*0x751+0x52f+-0x1f66*-0x1]['numIndices'],this['_geometryD'+'ata']['maxIndices']=this['indexBuffe'+'r'][0x2b*0x1b+0x1e61+0x22ea*-0x1]['numIndices']));}['clear'](_0x4403d8,_0x16c0d3,_0x813ae3=0x50d*0x6+-0xb*0xa3+0x4a9*-0x5,_0x3bdb11=0x1c2b+0x167b*-0x1+-0xb6*0x8){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['initDefaul'+'ts'](),this['_geometryD'+'ata']['recreate']=!(0x20dc+-0x2*0xec9+-0x1*0x34a),this['_geometryD'+'ata']['maxVertice'+'s']=_0x813ae3,this['_geometryD'+'ata']['maxIndices']=_0x3bdb11,this['_geometryD'+'ata']['verticesUs'+'age']=_0x4403d8?ms:lh,this['_geometryD'+'ata']['indicesUsa'+'ge']=_0x16c0d3?ms:lh;}['setVertexS'+'tream'](_0x57d4fc,_0x99fc7,_0x2f4dcf,_0x2ccd77,_0x3a754f=Ve,_0x40b31d=!(0x1*0x1593+0x1*-0x204d+0x43*0x29),_0x46d59f=!(0x1*0x21af+-0x1*0x1934+-0x87a)){this['_initGeome'+'tryData']();const _0x458c53=_0x2ccd77||_0x99fc7['length']/_0x2f4dcf;this['_geometryD'+'ata']['_changeVer'+'texCount'](_0x458c53,_0x57d4fc),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(0x74b*-0x4+-0x2111*-0x1+-0x3e5),this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x57d4fc]=new SE(_0x99fc7,_0x2f4dcf,_0x3a754f,_0x40b31d,_0x46d59f);}['getVertexS'+'tream'](_0x28c49b,_0x17dcb5){let _0x355da8=-0x9b9+-0x1f2c+0x169*0x1d,_0x1c4d4d=!(-0x1682+-0x37*0x9c+-0x801*-0x7);if(this['_geometryD'+'ata']){const _0x5c5e32=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x28c49b];_0x5c5e32&&(_0x1c4d4d=!(-0x1b79+-0x1*-0x43e+0x173b),_0x355da8=this['_geometryD'+'ata']['vertexCoun'+'t'],ArrayBuffer['isView'](_0x17dcb5)?_0x17dcb5['set'](_0x5c5e32['data']):(_0x17dcb5['length']=-0xaed+-0x1*-0x7d7+0x316,_0x17dcb5['push'](_0x5c5e32['data'])));}return _0x1c4d4d||this['vertexBuff'+'er']&&(_0x355da8=new Uo(this['vertexBuff'+'er'])['readData'](_0x28c49b,_0x17dcb5)),_0x355da8;}['setPositio'+'ns'](_0x346698,_0x4531f3=oi['DEFAULT_CO'+'MPONENTS_P'+'OSITION'],_0x38513f){this['setVertexS'+'tream'](Me,_0x346698,_0x4531f3,_0x38513f,Ve,!(-0x1df*0xb+-0x2*-0x84f+-0x3f8*-0x1));}['setNormals'](_0xb5ba17,_0x4ec46b=oi['DEFAULT_CO'+'MPONENTS_N'+'ORMAL'],_0x109e1a){this['setVertexS'+'tream'](gs,_0xb5ba17,_0x4ec46b,_0x109e1a,Ve,!(0xf5e+0x1dfb*0x1+-0x2d58));}['setUvs'](_0xe97650,_0x2d1fc7,_0x13a4b0=oi['DEFAULT_CO'+'MPONENTS_U'+'V'],_0x3e589d){this['setVertexS'+'tream'](zm+_0xe97650,_0x2d1fc7,_0x13a4b0,_0x3e589d,Ve,!(-0x164f+-0x1*-0x1235+0x41b));}['setColors'](_0xa06fe2,_0x5bf729=oi['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x6cd141){this['setVertexS'+'tream'](Wt,_0xa06fe2,_0x5bf729,_0x6cd141,Ve,!(0x1ec7+0x1edd*-0x1+0x17));}['setColors3'+'2'](_0x121a30,_0x3e43a7){this['setVertexS'+'tream'](Wt,_0x121a30,oi['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x3e43a7,la,!(0x1b2f+0xac0+-0x2eb*0xd));}['setIndices'](_0x5e06ca,_0x387294){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x10e2*-0x1+-0x26ff+0x37e1),this['_geometryD'+'ata']['indices']=_0x5e06ca,this['_geometryD'+'ata']['indexCount']=_0x387294||_0x5e06ca['length'];}['getPositio'+'ns'](_0x1d7502){return this['getVertexS'+'tream'](Me,_0x1d7502);}['getNormals'](_0x192c31){return this['getVertexS'+'tream'](gs,_0x192c31);}['getUvs'](_0x1f9056,_0x17bc26){return this['getVertexS'+'tream'](zm+_0x1f9056,_0x17bc26);}['getColors'](_0x4e43b6){return this['getVertexS'+'tream'](Wt,_0x4e43b6);}['getIndices'](_0x2f6417){let _0x2b6ca1=-0xddb*-0x1+0x81*-0x2a+0x74f;if(this['_geometryD'+'ata']&&this['_geometryD'+'ata']['indices']){const _0x55963e=this['_geometryD'+'ata']['indices'];if(_0x2b6ca1=this['_geometryD'+'ata']['indexCount'],ArrayBuffer['isView'](_0x2f6417))_0x2f6417['set'](_0x55963e);else{_0x2f6417['length']=-0x11a8+0x1639+-0x491;for(let _0x481a35=-0x11ec*-0x2+-0x1bc2+-0x6*0x159,_0x22a613=_0x55963e['length'];_0x481a35<_0x22a613;_0x481a35++)_0x2f6417['push'](_0x55963e[_0x481a35]);}}else this['indexBuffe'+'r']['length']>0xaf*0x2b+-0x765*-0x2+0x1*-0x2c2f&&this['indexBuffe'+'r'][0x20a4+-0x1*0x1c0b+-0xb*0x6b]&&(_0x2b6ca1=this['indexBuffe'+'r'][-0x158b*0x1+-0xe42+0x1*0x23cd]['readData'](_0x2f6417));return _0x2b6ca1;}['update'](_0x4bb9b4=js,_0x207234=!(-0xb98+0x1645*-0x1+0x21dd)){if(this['_geometryD'+'ata']){if(_0x207234){const _0x1a5e92=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][Me];_0x1a5e92&&_0x1a5e92['componentC'+'ount']===-0x7cf+0x1fdd+0x5*-0x4cf&&(this['_aabb']['compute'](_0x1a5e92['data'],this['_geometryD'+'ata']['vertexCoun'+'t']),this['_aabbVer']++);}let _0x40d9fb=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['vertexCoun'+'t']>this['_geometryD'+'ata']['maxVertice'+'s']&&(_0x40d9fb=!(-0xd1+0x1f95+-0x1ec4),this['_geometryD'+'ata']['maxVertice'+'s']=this['_geometryD'+'ata']['vertexCoun'+'t']),_0x40d9fb&&this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);let _0x5a92ca=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['indexCount']>this['_geometryD'+'ata']['maxIndices']&&(_0x5a92ca=!(0x1*0xa4e+-0x136*0xd+0x570),this['_geometryD'+'ata']['maxIndices']=this['_geometryD'+'ata']['indexCount']),_0x5a92ca&&this['indexBuffe'+'r']['length']>-0x24+0x1710+-0x16ec&&this['indexBuffe'+'r'][-0x7f9+-0xb*0x241+0x20c4]&&(this['indexBuffe'+'r'][-0x2522+-0x1*0x2ff+0x2821]['destroy'](),this['indexBuffe'+'r'][0x52d+-0x6d9*0x1+-0x6b*-0x4]=null),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&this['_updateVer'+'texBuffer'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&this['_updateInd'+'exBuffer'](),this['primitive'][0x42*0x19+0x26c3+-0x2d35]['type']=_0x4bb9b4,this['indexBuffe'+'r']['length']>0x1395+-0x213*-0x6+0x9*-0x38f&&this['indexBuffe'+'r'][0x8e5+-0x3b6+0x1*-0x52f]?this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&(this['primitive'][-0x1956*-0x1+0xb*0x1ed+-0x2e85]['count']=this['_geometryD'+'ata']['indexCount'],this['primitive'][-0x2e0*0x1+-0x8*-0x29+0x198]['indexed']=!(0x1f94+-0x2149+0x1b5)):this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&(this['primitive'][-0xdf*0x8+0x1*0x53f+0x1b9*0x1]['count']=this['_geometryD'+'ata']['vertexCoun'+'t'],this['primitive'][-0x2*-0xdea+-0x1*-0x25d9+-0x41ad]['indexed']=!(0x1164+-0x1b6a+0xa07)),this['_geometryD'+'ata']['vertexCoun'+'t']=-0x1383+0x1*0x2135+-0x1*0xdb2,this['_geometryD'+'ata']['indexCount']=0x1506+-0x2b*0xa0+0x5da,this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(0xb41*0x2+0x1d0b+0x2*-0x19c6),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x1d35*0x1+0x1*0xe87+-0x2bbb),this['_geometryD'+'ata']['recreate']=!(-0x5*-0x323+-0x17ad+0x7ff),this['updateRend'+'erStates']();}}['_buildVert'+'exFormat'](_0x4adb21){const _0x461700=[];for(const _0x42f3cd in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x2ec391=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x42f3cd];_0x461700['push']({'semantic':_0x42f3cd,'components':_0x2ec391['componentC'+'ount'],'type':_0x2ec391['dataType'],'normalize':_0x2ec391['dataTypeNo'+'rmalize'],'asInt':_0x2ec391['asInt']});}return new kt(this['device'],_0x461700,_0x4adb21);}['_updateVer'+'texBuffer'](){if(!this['vertexBuff'+'er']){const _0x36b08b=this['_geometryD'+'ata']['maxVertice'+'s'],_0x5d11f0=this['_buildVert'+'exFormat'](_0x36b08b);this['vertexBuff'+'er']=new Is(this['device'],_0x5d11f0,_0x36b08b,{'usage':this['_geometryD'+'ata']['verticesUs'+'age'],'storage':this['_storageVe'+'rtex']});}const _0x262ea3=new Uo(this['vertexBuff'+'er']),_0x91e459=this['_geometryD'+'ata']['vertexCoun'+'t'];for(const _0x1a0834 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x267bb7=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x1a0834];_0x262ea3['writeData'](_0x1a0834,_0x267bb7['data'],_0x91e459),delete this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x1a0834];}_0x262ea3['end']();}['_updateInd'+'exBuffer'](){if(this['indexBuffe'+'r']['length']<=0x69b+0x94a+0xd*-0x139||!this['indexBuffe'+'r'][-0x11*0x1c9+0x1d0c+0x9*0x25]){const _0x466696=this['_geometryD'+'ata']['maxVertice'+'s'],_0x1843ad=_0x466696>0x2*-0x840b+-0x11b2*0x17+0x1*0x39f13||_0x466696===-0x1*0x1165+-0x43*-0x53+0x1*-0x454?wr:Yi,_0x2cdd9b=this['_storageIn'+'dex']?{'storage':!(0x1ffc+0x1130+-0x312c)}:void(0x9c5+-0x1829+0x2*0x732);this['indexBuffe'+'r'][-0x43*0x6e+0x2*0xe48+0x1*0x3a]=new br(this['device'],_0x1843ad,this['_geometryD'+'ata']['maxIndices'],this['_geometryD'+'ata']['indicesUsa'+'ge'],void(-0x1b9b*-0x1+-0x1*-0x2+-0x1b9d),_0x2cdd9b);}const _0x220be6=this['_geometryD'+'ata']['indices'];_0x220be6&&(this['indexBuffe'+'r'][-0x2*-0xdc9+-0x5*-0x78b+0x26b*-0x1b]['writeData'](_0x220be6,this['_geometryD'+'ata']['indexCount']),this['_geometryD'+'ata']['indices']=null);}['prepareRen'+'derState'](_0x58e840){_0x58e840===$r?this['generateWi'+'reframe']():_0x58e840===Jl&&(this['primitive'][Jl]={'type':cd,'base':0x0,'baseVertex':0x0,'count':this['vertexBuff'+'er']?this['vertexBuff'+'er']['numVertice'+'s']:0x11d+-0x193*-0x1+-0x2b*0x10,'indexed':!(-0x85f+-0x1127*0x1+-0x5*-0x51b)});}['updateRend'+'erStates'](){this['primitive'][Jl]&&this['prepareRen'+'derState'](Jl),this['primitive'][$r]&&this['prepareRen'+'derState']($r);}['generateWi'+'reframe'](){this['_destroyIn'+'dexBuffer']($r);const _0x588f86=this['vertexBuff'+'er']['numVertice'+'s'],_0x26ec5f=[];let _0x1523d9;if(this['indexBuffe'+'r']['length']>-0x109d*0x1+0x1af*-0xd+0x2680&&this['indexBuffe'+'r'][-0x19*-0x113+-0x1173*0x1+-0x968]){const _0x4928b7=[[-0x81*0x44+0x61f*0x4+-0x139*-0x8,0x87e+-0x91b+0x9e],[-0x2*0x196+0x3*-0x869+0x12*0x194,-0x23bf+0x7*0x143+0xd76*0x2],[0x13b9+-0xca*-0x13+-0x22b5,-0x1*0x20f+0x66a+0xdf*-0x5]],_0xd73c44=this['primitive'][un]['base'],_0x546f04=this['primitive'][un]['count'],_0x39f211=this['primitive'][un]['baseVertex']||-0x31b+-0x14d5*-0x1+-0x11ba,_0x2342f9=this['indexBuffe'+'r'][un],_0x5e2996=new Sh[_0x2342f9['format']](_0x2342f9['storage']),_0x5368e5=new Set();for(let _0x563180=_0xd73c44;_0x563180<_0xd73c44+_0x546f04;_0x563180+=-0x1*0x3c4+0x1*-0xab5+-0x39f*-0x4)for(let _0x22b9b3=0x859+0x105e+-0x18b7;_0x22b9b3<0x21c4+-0xa45+0x14e*-0x12;_0x22b9b3++){const _0x3890c1=_0x5e2996[_0x563180+_0x4928b7[_0x22b9b3][0x11f2*-0x1+0x1cdc+-0xb*0xfe]]+_0x39f211,_0x39ba3a=_0x5e2996[_0x563180+_0x4928b7[_0x22b9b3][-0x7*0x2d7+-0x33*0x9d+0x3329]]+_0x39f211,_0xa2d15c=_0x3890c1>_0x39ba3a?_0x39ba3a*_0x588f86+_0x3890c1:_0x3890c1*_0x588f86+_0x39ba3a;_0x5368e5['has'](_0xa2d15c)||(_0x5368e5['add'](_0xa2d15c),_0x26ec5f['push'](_0x3890c1,_0x39ba3a));}_0x1523d9=_0x2342f9['format'];}else{for(let _0x7b3129=-0x7*-0x33d+-0x1*0xcd4+0xe5*-0xb;_0x7b3129<_0x588f86;_0x7b3129+=-0xc93+-0x1*-0x16b3+0x1*-0xa1d)_0x26ec5f['push'](_0x7b3129,_0x7b3129+(0x1e83+0x1*-0x32d+-0x1b55*0x1),_0x7b3129+(-0x2*-0x806+-0x2*0x7b8+-0x9b),_0x7b3129+(0x116d+-0x1*-0xd76+0x3*-0xa4b),_0x7b3129+(-0x139*-0x17+-0x16b7+-0x566),_0x7b3129);_0x1523d9=_0x26ec5f['length']>-0x15a2d+0x8799+0x1d293?wr:Yi;}const _0x504128=new br(this['vertexBuff'+'er']['device'],_0x1523d9,_0x26ec5f['length']);new Sh[_0x504128['format']](_0x504128['storage'])['set'](_0x26ec5f),_0x504128['unlock'](),this['primitive'][$r]={'type':hd,'base':0x0,'baseVertex':0x0,'count':_0x26ec5f['length'],'indexed':!(0x65d+0x244a+-0x3d*0xb3)},this['indexBuffe'+'r'][$r]=_0x504128;}}const v_=new te(),Hd=new D(),x_=new le(),Wd=new le(),T_=new D(),w_=new D(),yE=new te(),vE=new le(),rs=new D(),ro=new te(),as=new le(),Ia=new le(),E_=new te(),$d=new D(),tc=new D();function b_(_0x29cb5d,_0x300408){return _0x29cb5d instanceof Function?_0x29cb5d:_0x2185aa=>{let _0x465d65=_0x2185aa[_0x29cb5d];return _0x465d65 instanceof Function&&(_0x465d65=_0x465d65()),_0x465d65===_0x300408;};}function Sv(_0x22777d,_0x5d434d){if(_0x5d434d(_0x22777d))return _0x22777d;const _0x209e44=_0x22777d['_children'],_0x266367=_0x209e44['length'];for(let _0x52ad7e=0x751*0x4+0x1*0x1ec7+-0x3c0b;_0x52ad7e<_0x266367;++_0x52ad7e){const _0x3fd312=Sv(_0x209e44[_0x52ad7e],_0x5d434d);if(_0x3fd312)return _0x3fd312;}return null;}class Ie extends me{constructor(_0x5cd971='Untitled'){super(),h(this,'name'),h(this,'tags',new Oo(this)),h(this,'localPosit'+'ion',new D()),h(this,'localRotat'+'ion',new le()),h(this,'localScale',new D(0x1*0x134a+-0x654+-0xcf5,0x50d*0x1+-0x69f+0x193*0x1,0x65*0x5b+0x1*-0x21b5+-0x231)),h(this,'localEuler'+'Angles',new D()),h(this,'position',new D()),h(this,'rotation',new le()),h(this,'eulerAngle'+'s',new D()),h(this,'_scale',null),h(this,'localTrans'+'form',new te()),h(this,'_dirtyLoca'+'l',!(0x13*-0xac+-0x1975+0x263a)),h(this,'_aabbVer',-0x1920+0xd40+-0xbe*-0x10),h(this,'_frozen',!(-0x1cec+0x1660+0x68d)),h(this,'worldTrans'+'form',new te()),h(this,'_dirtyWorl'+'d',!(-0x20f3+0x1*-0x256a+0x465e)),h(this,'_worldScal'+'eSign',0xc*0x12e+0x1277+-0x209f),h(this,'_normalMat'+'rix',new _i()),h(this,'_dirtyNorm'+'al',!(0x8de+-0x22d7+0x3d*0x6d)),h(this,'_right',null),h(this,'_up',null),h(this,'_forward',null),h(this,'_parent',null),h(this,'_children',[]),h(this,'_graphDept'+'h',-0x16ff+0x177f+-0x80),h(this,'_enabled',!(-0x5*0x753+0x20b1+-0x1f7*-0x2)),h(this,'_enabledIn'+'Hierarchy',!(-0x561+0x18aa*-0x1+0x1e0c)),h(this,'scaleCompe'+'nsation',!(-0xd*-0x194+-0x1e29+0x5f*0x1a)),this['name']=_0x5cd971;}get['right'](){return this['_right']||(this['_right']=new D()),this['getWorldTr'+'ansform']()['getX'](this['_right'])['normalize']();}get['up'](){return this['_up']||(this['_up']=new D()),this['getWorldTr'+'ansform']()['getY'](this['_up'])['normalize']();}get['forward'](){return this['_forward']||(this['_forward']=new D()),this['getWorldTr'+'ansform']()['getZ'](this['_forward'])['normalize']()['mulScalar'](-(-0x250*-0x1+-0x12f8*0x1+0x10a9));}get['normalMatr'+'ix'](){const _0x119cc1=this['_normalMat'+'rix'];return this['_dirtyNorm'+'al']&&(_0x119cc1['invertMat4'](this['getWorldTr'+'ansform']())['transpose'](),this['_dirtyNorm'+'al']=!(0x17*-0x1ac+-0x94*0x42+-0xb*-0x6f7)),_0x119cc1;}set['enabled'](_0x9d54f7){var _0x5c01bc;this['_enabled']!==_0x9d54f7&&(this['_enabled']=_0x9d54f7,(_0x9d54f7&&((_0x5c01bc=this['_parent'])!=null&&_0x5c01bc['enabled'])||!_0x9d54f7)&&this['_notifyHie'+'rarchyStat'+'eChanged'](this,_0x9d54f7));}get['enabled'](){return this['_enabled']&&this['_enabledIn'+'Hierarchy'];}get['parent'](){return this['_parent'];}get['path'](){let _0x55ba1f=this['_parent'];if(!_0x55ba1f)return'';let _0x3547d0=this['name'];for(;_0x55ba1f&&_0x55ba1f['_parent'];)_0x3547d0=_0x55ba1f['name']+'/'+_0x3547d0,_0x55ba1f=_0x55ba1f['_parent'];return _0x3547d0;}get['root'](){let _0x2e4199=this;for(;_0x2e4199['_parent'];)_0x2e4199=_0x2e4199['_parent'];return _0x2e4199;}get['children'](){return this['_children'];}get['graphDepth'](){return this['_graphDept'+'h'];}['_notifyHie'+'rarchyStat'+'eChanged'](_0x4fea9e,_0x2f9fb8){_0x4fea9e['_onHierarc'+'hyStateCha'+'nged'](_0x2f9fb8);const _0x450b53=_0x4fea9e['_children'];for(let _0x49750d=-0x1033+-0x3b*0x89+-0x2*-0x17e3,_0x3b9e7e=_0x450b53['length'];_0x49750d<_0x3b9e7e;_0x49750d++)_0x450b53[_0x49750d]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x450b53[_0x49750d],_0x2f9fb8);}['_onHierarc'+'hyStateCha'+'nged'](_0x3fc5d3){this['_enabledIn'+'Hierarchy']=_0x3fc5d3,_0x3fc5d3&&!this['_frozen']&&this['_unfreezeP'+'arentToRoo'+'t']();}['_cloneInte'+'rnal'](_0x2e0a86){_0x2e0a86['name']=this['name'];const _0x10b5be=this['tags']['_list'];_0x2e0a86['tags']['clear']();for(let _0x53ae2a=-0x143a*-0x1+0x2000+-0x343a;_0x53ae2a<_0x10b5be['length'];_0x53ae2a++)_0x2e0a86['tags']['add'](_0x10b5be[_0x53ae2a]);_0x2e0a86['localPosit'+'ion']['copy'](this['localPosit'+'ion']),_0x2e0a86['localRotat'+'ion']['copy'](this['localRotat'+'ion']),_0x2e0a86['localScale']['copy'](this['localScale']),_0x2e0a86['localEuler'+'Angles']['copy'](this['localEuler'+'Angles']),_0x2e0a86['position']['copy'](this['position']),_0x2e0a86['rotation']['copy'](this['rotation']),_0x2e0a86['eulerAngle'+'s']['copy'](this['eulerAngle'+'s']),_0x2e0a86['localTrans'+'form']['copy'](this['localTrans'+'form']),_0x2e0a86['_dirtyLoca'+'l']=this['_dirtyLoca'+'l'],_0x2e0a86['worldTrans'+'form']['copy'](this['worldTrans'+'form']),_0x2e0a86['_dirtyWorl'+'d']=this['_dirtyWorl'+'d'],_0x2e0a86['_dirtyNorm'+'al']=this['_dirtyNorm'+'al'],_0x2e0a86['_aabbVer']=this['_aabbVer']+(-0x1*-0x1328+0x114f+-0x2*0x123b),_0x2e0a86['_enabled']=this['_enabled'],_0x2e0a86['scaleCompe'+'nsation']=this['scaleCompe'+'nsation'],_0x2e0a86['_enabledIn'+'Hierarchy']=!(-0x1*0x1d7+-0x2*-0x50+0x138);}['clone'](){const _0x236ea2=new this['constructo'+'r']();return this['_cloneInte'+'rnal'](_0x236ea2),_0x236ea2;}['copy'](_0xf23cc7){return _0xf23cc7['_cloneInte'+'rnal'](this),this;}['destroy'](){this['remove']();const _0x1be365=this['_children'];for(;_0x1be365['length'];){const _0xa99b23=_0x1be365['pop']();_0xa99b23['_parent']=null,_0xa99b23['destroy']();}this['fire']('destroy',this),this['off']();}['find'](_0x2ec7d8,_0x2bd8fb){const _0x4d34cf=[],_0x280949=b_(_0x2ec7d8,_0x2bd8fb);return this['forEach'](_0x3e2e17=>{_0x280949(_0x3e2e17)&&_0x4d34cf['push'](_0x3e2e17);}),_0x4d34cf;}['findOne'](_0x4ca0f2,_0x283c69){const _0x1dba95=b_(_0x4ca0f2,_0x283c69);return Sv(this,_0x1dba95);}['findByTag'](..._0x3563ff){const _0x3a0480=[],_0x2eaaaa=(_0x19bdfd,_0x1a4340)=>{_0x1a4340&&_0x19bdfd['tags']['has'](..._0x3563ff)&&_0x3a0480['push'](_0x19bdfd);for(let _0x22ff51=0x14e3*-0x1+-0x2700+0x3be3;_0x22ff51<_0x19bdfd['_children']['length'];_0x22ff51++)_0x2eaaaa(_0x19bdfd['_children'][_0x22ff51],!(0x1*0x63d+0x14e6+-0x1b23));};return _0x2eaaaa(this,!(0x1*0x2293+0x1d89+-0x401b)),_0x3a0480;}['findByName'](_0x314a9a){return this['findOne']('name',_0x314a9a);}['findByPath'](_0x433767){const _0x53f34e=Array['isArray'](_0x433767)?_0x433767:_0x433767['split']('/');let _0x264f7d=this;for(let _0x5c1589=-0x1f6a*0x1+0x1e4b+0x11f,_0x411e67=_0x53f34e['length'];_0x5c1589<_0x411e67;++_0x5c1589)if(_0x264f7d=_0x264f7d['children']['find'](_0x1aed14=>_0x1aed14['name']===_0x53f34e[_0x5c1589]),!_0x264f7d)return null;return _0x264f7d;}['forEach'](_0x4e9fcc,_0x47b9e4){_0x4e9fcc['call'](_0x47b9e4,this);const _0x3af101=this['_children'],_0x241d4f=_0x3af101['length'];for(let _0x598515=-0x1f50+0x198b+-0x1*-0x5c5;_0x598515<_0x241d4f;++_0x598515)_0x3af101[_0x598515]['forEach'](_0x4e9fcc,_0x47b9e4);}['isDescenda'+'ntOf'](_0x43f3e7){let _0x57376d=this['_parent'];for(;_0x57376d;){if(_0x57376d===_0x43f3e7)return!(0x1d98+-0x68+-0x1d30);_0x57376d=_0x57376d['_parent'];}return!(0x1b+-0x1*0x1263+0x1249);}['isAncestor'+'Of'](_0x5282b6){return _0x5282b6['isDescenda'+'ntOf'](this);}['getEulerAn'+'gles'](){return this['getWorldTr'+'ansform']()['getEulerAn'+'gles'](this['eulerAngle'+'s']),this['eulerAngle'+'s'];}['getLocalEu'+'lerAngles'](){return this['localRotat'+'ion']['getEulerAn'+'gles'](this['localEuler'+'Angles']),this['localEuler'+'Angles'];}['getLocalPo'+'sition'](){return this['localPosit'+'ion'];}['getLocalRo'+'tation'](){return this['localRotat'+'ion'];}['getLocalSc'+'ale'](){return this['localScale'];}['getLocalTr'+'ansform'](){return this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0x17e5*0x1+-0x1*-0x21e5+0x1343*-0x3)),this['localTrans'+'form'];}['getPositio'+'n'](){return this['getWorldTr'+'ansform']()['getTransla'+'tion'](this['position']),this['position'];}['getRotatio'+'n'](){return this['rotation']['setFromMat'+'4'](this['getWorldTr'+'ansform']()),this['rotation'];}['getScale'](){return this['_scale']||(this['_scale']=new D()),this['getWorldTr'+'ansform']()['getScale'](this['_scale']);}['getWorldTr'+'ansform'](){return!this['_dirtyLoca'+'l']&&!this['_dirtyWorl'+'d']?this['worldTrans'+'form']:(this['_parent']&&this['_parent']['getWorldTr'+'ansform'](),this['_sync'](),this['worldTrans'+'form']);}get['worldScale'+'Sign'](){return this['_worldScal'+'eSign']===0x4a3*0x8+0x112f+-0xadb*0x5&&(this['_worldScal'+'eSign']=this['getWorldTr'+'ansform']()['scaleSign']),this['_worldScal'+'eSign'];}['remove'](){var _0x46263e;(_0x46263e=this['_parent'])==null||_0x46263e['removeChil'+'d'](this);}['reparent'](_0x4d6ffd,_0x310b00){this['remove'](),_0x4d6ffd&&(_0x310b00>=-0x1*-0x2099+0x1b66+-0x3bff?_0x4d6ffd['insertChil'+'d'](this,_0x310b00):_0x4d6ffd['addChild'](this));}['setLocalEu'+'lerAngles'](_0x12e9ff,_0x4242d3,_0x15b208){this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x12e9ff,_0x4242d3,_0x15b208),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalPo'+'sition'](_0x40bdaf,_0x5b3955,_0x2ea493){_0x40bdaf instanceof D?this['localPosit'+'ion']['copy'](_0x40bdaf):this['localPosit'+'ion']['set'](_0x40bdaf,_0x5b3955,_0x2ea493),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalRo'+'tation'](_0x51882c,_0x22377d,_0x27dcaa,_0x483d8f){_0x51882c instanceof le?this['localRotat'+'ion']['copy'](_0x51882c):this['localRotat'+'ion']['set'](_0x51882c,_0x22377d,_0x27dcaa,_0x483d8f),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalSc'+'ale'](_0x3f3668,_0x409554,_0xc3379a){_0x3f3668 instanceof D?this['localScale']['copy'](_0x3f3668):this['localScale']['set'](_0x3f3668,_0x409554,_0xc3379a),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_dirtifyLo'+'cal'](){this['_dirtyLoca'+'l']||(this['_dirtyLoca'+'l']=!(0x1bc4+-0x5b3*0x4+-0x4f8),this['_dirtyWorl'+'d']||this['_dirtifyWo'+'rld']());}['_unfreezeP'+'arentToRoo'+'t'](){let _0x49fc13=this['_parent'];for(;_0x49fc13;)_0x49fc13['_frozen']=!(0x1*-0x1b6b+-0x9*0x2fe+-0x1b2d*-0x2),_0x49fc13=_0x49fc13['_parent'];}['_dirtifyWo'+'rld'](){this['_dirtyWorl'+'d']||this['_unfreezeP'+'arentToRoo'+'t'](),this['_dirtifyWo'+'rldInterna'+'l']();}['_dirtifyWo'+'rldInterna'+'l'](){if(!this['_dirtyWorl'+'d']){this['_frozen']=!(0x1*-0x25eb+-0x2*0xab5+0x5*0xbde),this['_dirtyWorl'+'d']=!(0x1c9*-0xb+0xe*-0x176+0x2817);for(let _0x4db495=-0x1*-0x383+0x9c7+0x2*-0x6a5;_0x4db495<this['_children']['length'];_0x4db495++)this['_children'][_0x4db495]['_dirtyWorl'+'d']||this['_children'][_0x4db495]['_dirtifyWo'+'rldInterna'+'l']();}this['_dirtyNorm'+'al']=!(0x7*-0x582+0x1a00+0x647*0x2),this['_worldScal'+'eSign']=-0x932+0x241a+-0xe*0x1ec,this['_aabbVer']++;}['setPositio'+'n'](_0x52b5ee,_0x264369,_0x1e5881){_0x52b5ee instanceof D?rs['copy'](_0x52b5ee):rs['set'](_0x52b5ee,_0x264369,_0x1e5881),this['_parent']===null?this['localPosit'+'ion']['copy'](rs):(ro['copy'](this['_parent']['getWorldTr'+'ansform']())['invert'](),ro['transformP'+'oint'](rs,this['localPosit'+'ion'])),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setRotatio'+'n'](_0x487078,_0x3c1576,_0x139c60,_0x291744){if(_0x487078 instanceof le?as['copy'](_0x487078):as['set'](_0x487078,_0x3c1576,_0x139c60,_0x291744),this['_parent']===null)this['localRotat'+'ion']['copy'](as);else{const _0x280da8=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x280da8)['invert'](),this['localRotat'+'ion']['copy'](Ia)['mul'](as);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setPositio'+'nAndRotati'+'on'](_0x2b6d42,_0xc62f4a){if(this['_parent']===null)this['localPosit'+'ion']['copy'](_0x2b6d42),this['localRotat'+'ion']['copy'](_0xc62f4a);else{const _0x2b7cef=this['_parent']['getWorldTr'+'ansform']();ro['copy'](_0x2b7cef)['invert'](),ro['transformP'+'oint'](_0x2b6d42,this['localPosit'+'ion']),this['localRotat'+'ion']['setFromMat'+'4'](ro)['mul'](_0xc62f4a);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setEulerAn'+'gles'](_0xcaccb1,_0x5061e2,_0x146035){if(this['localRotat'+'ion']['setFromEul'+'erAngles'](_0xcaccb1,_0x5061e2,_0x146035),this['_parent']!==null){const _0xc773e6=this['_parent']['getRotatio'+'n']();Ia['copy'](_0xc773e6)['invert'](),this['localRotat'+'ion']['mul2'](Ia,this['localRotat'+'ion']);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['addChild'](_0x984ad8){this['_prepareIn'+'sertChild'](_0x984ad8),this['_children']['push'](_0x984ad8),this['_onInsertC'+'hild'](_0x984ad8);}['addChildAn'+'dSaveTrans'+'form'](_0x3f8a26){const _0x4480b3=_0x3f8a26['getPositio'+'n'](),_0x5ea498=_0x3f8a26['getRotatio'+'n']();this['_prepareIn'+'sertChild'](_0x3f8a26),_0x3f8a26['setPositio'+'n'](yE['copy'](this['worldTrans'+'form'])['invert']()['transformP'+'oint'](_0x4480b3)),_0x3f8a26['setRotatio'+'n'](vE['copy'](this['getRotatio'+'n']())['invert']()['mul'](_0x5ea498)),this['_children']['push'](_0x3f8a26),this['_onInsertC'+'hild'](_0x3f8a26);}['insertChil'+'d'](_0x467614,_0x404f18){this['_prepareIn'+'sertChild'](_0x467614),this['_children']['splice'](_0x404f18,-0x1cf*-0xd+-0x1dca+0x647,_0x467614),this['_onInsertC'+'hild'](_0x467614);}['_prepareIn'+'sertChild'](_0x2272aa){_0x2272aa['remove'](),w['assert'](_0x2272aa!==this,'GraphNode\x20'+(_0x2272aa==null?void(-0x234c+0x3*0xa11+0x519):_0x2272aa['name'])+('\x20cannot\x20be'+'\x20a\x20child\x20o'+'f\x20itself')),w['assert'](!this['isDescenda'+'ntOf'](_0x2272aa),'GraphNode\x20'+(_0x2272aa==null?void(-0xc1*-0x9+-0x1*-0x2263+-0x154*0x1f):_0x2272aa['name'])+('\x20cannot\x20ad'+'d\x20an\x20ances'+'tor\x20as\x20a\x20c'+'hild'));}['_fireOnHie'+'rarchy'](_0x23b4d5,_0x45632c,_0xfe7f0f){this['fire'](_0x23b4d5,_0xfe7f0f);for(let _0x33c0ad=-0x117*0x1b+-0x1*-0x15f2+0x77b;_0x33c0ad<this['_children']['length'];_0x33c0ad++)this['_children'][_0x33c0ad]['_fireOnHie'+'rarchy'](_0x45632c,_0x45632c,_0xfe7f0f);}['_onInsertC'+'hild'](_0x4cc379){_0x4cc379['_parent']=this;const _0x2d0111=_0x4cc379['_enabled']&&this['enabled'];_0x4cc379['_enabledIn'+'Hierarchy']!==_0x2d0111&&(_0x4cc379['_enabledIn'+'Hierarchy']=_0x2d0111,_0x4cc379['_notifyHie'+'rarchyStat'+'eChanged'](_0x4cc379,_0x2d0111)),_0x4cc379['_updateGra'+'phDepth'](),_0x4cc379['_dirtifyWo'+'rld'](),this['_frozen']&&_0x4cc379['_unfreezeP'+'arentToRoo'+'t'](),_0x4cc379['_fireOnHie'+'rarchy']('insert','inserthier'+'archy',this),this['fire']&&this['fire']('childinser'+'t',_0x4cc379);}['_updateGra'+'phDepth'](){this['_graphDept'+'h']=this['_parent']?this['_parent']['_graphDept'+'h']+(0x66c+-0x1336*0x1+0xccb):0x135b+0x3*-0x1a1+-0xe78;for(let _0x2580e5=0x1a30+0xa32+-0x2*0x1231,_0x588f8d=this['_children']['length'];_0x2580e5<_0x588f8d;_0x2580e5++)this['_children'][_0x2580e5]['_updateGra'+'phDepth']();}['removeChil'+'d'](_0x4e843d){const _0x5e273e=this['_children']['indexOf'](_0x4e843d);_0x5e273e!==-(-0x2*0x7f0+-0x1*0x217+0x11f8)&&(this['_children']['splice'](_0x5e273e,0x1*-0x220a+-0x17*-0xca+0xfe5),_0x4e843d['_parent']=null,_0x4e843d['_fireOnHie'+'rarchy']('remove','removehier'+'archy',this),this['fire']('childremov'+'e',_0x4e843d));}['_sync'](){if(this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(-0x1d4f+0xa2e+0x1322)),this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['scaleCompe'+'nsation']){let _0x388ce0;const _0xc32173=this['_parent'];let _0x22d4df=this['localScale'],_0x5500bb=_0xc32173;if(_0x5500bb){for(;_0x5500bb&&_0x5500bb['scaleCompe'+'nsation'];)_0x5500bb=_0x5500bb['_parent'];_0x5500bb&&(_0x5500bb=_0x5500bb['_parent'],_0x5500bb&&(_0x388ce0=_0x5500bb['worldTrans'+'form']['getScale'](),T_['mul2'](_0x388ce0,this['localScale']),_0x22d4df=T_));}Wd['setFromMat'+'4'](_0xc32173['worldTrans'+'form']),x_['mul2'](Wd,this['localRotat'+'ion']);let _0x1329f=_0xc32173['worldTrans'+'form'];_0xc32173['scaleCompe'+'nsation']&&(w_['mul2'](_0x388ce0,_0xc32173['getLocalSc'+'ale']()),v_['setTRS'](_0xc32173['worldTrans'+'form']['getTransla'+'tion'](Hd),Wd,w_),_0x1329f=v_),_0x1329f['transformP'+'oint'](this['localPosit'+'ion'],Hd),this['worldTrans'+'form']['setTRS'](Hd,x_,_0x22d4df);}else this['worldTrans'+'form']['mulAffine2'](this['_parent']['worldTrans'+'form'],this['localTrans'+'form']);}this['_dirtyWorl'+'d']=!(-0x7f*-0x3f+-0x13a8+0x1*-0xb98);}}['syncHierar'+'chy'](){if(!this['_enabled']||this['_frozen'])return;this['_frozen']=!(0x1d60+0x1*0xb9e+-0x28fe),(this['_dirtyLoca'+'l']||this['_dirtyWorl'+'d'])&&this['_sync']();const _0x41d7b2=this['_children'];for(let _0x252159=0x1*0x3ce+-0x14c8+0x10fa,_0x17f262=_0x41d7b2['length'];_0x252159<_0x17f262;_0x252159++)_0x41d7b2[_0x252159]['syncHierar'+'chy']();}['lookAt'](_0x13b463,_0x399413,_0x1a78b6,_0x525c19=-0x101*0x6+0x13c5*-0x1+0x19cb,_0x3a66df=-0x25d7+-0x1eb2+0x448a,_0x21afb0=-0x225f+0x19fe+0x861){if(_0x13b463 instanceof D)$d['copy'](_0x13b463),_0x399413 instanceof D?tc['copy'](_0x399413):tc['copy'](D['UP']);else{if(_0x1a78b6===void(-0x2*0xda1+-0x119+0x1c5b))return;$d['set'](_0x13b463,_0x399413,_0x1a78b6),tc['set'](_0x525c19,_0x3a66df,_0x21afb0);}E_['setLookAt'](this['getPositio'+'n'](),$d,tc),as['setFromMat'+'4'](E_),this['setRotatio'+'n'](as);}['translate'](_0x1e3e4b,_0x246bff,_0x571db5){_0x1e3e4b instanceof D?rs['copy'](_0x1e3e4b):rs['set'](_0x1e3e4b,_0x246bff,_0x571db5),rs['add'](this['getPositio'+'n']()),this['setPositio'+'n'](rs);}['translateL'+'ocal'](_0x2cd917,_0x4e44ff,_0x246b34){_0x2cd917 instanceof D?rs['copy'](_0x2cd917):rs['set'](_0x2cd917,_0x4e44ff,_0x246b34),this['localRotat'+'ion']['transformV'+'ector'](rs,rs),this['localPosit'+'ion']['add'](rs),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotate'](_0x23d753,_0x20189c,_0x2c48a9){if(as['setFromEul'+'erAngles'](_0x23d753,_0x20189c,_0x2c48a9),this['_parent']===null)this['localRotat'+'ion']['mul2'](as,this['localRotat'+'ion']);else{const _0x4da164=this['getRotatio'+'n'](),_0xd7f70e=this['_parent']['getRotatio'+'n']();Ia['copy'](_0xd7f70e)['invert'](),as['mul2'](Ia,as),this['localRotat'+'ion']['mul2'](as,_0x4da164);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotateLoca'+'l'](_0x388bca,_0x3d75c2,_0x162535){as['setFromEul'+'erAngles'](_0x388bca,_0x3d75c2,_0x162535),this['localRotat'+'ion']['mul'](as),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}}const yv=new Kt();function Qn(_0x485d66){const _0x3d0d1a=yv['get'](_0x485d66);return w['assert'](_0x3d0d1a),_0x3d0d1a;}function xE(_0x500073,_0x4cd0f1){w['assert'](_0x4cd0f1),yv['get'](_0x500073,()=>_0x4cd0f1);}class TE{constructor(){h(this,'cache',new Map());}['destroy'](){this['cache']['forEach']((_0x348924,_0x2ff6fc)=>{_0x2ff6fc['destroy']();}),this['cache']['clear']();}['incRef'](_0x16b55e){const _0xf1f663=(this['cache']['get'](_0x16b55e)||-0x6b5+0x5d*0x6a+-0x1fcd)+(0xd39+-0xc*0x2f6+0x1650);this['cache']['set'](_0x16b55e,_0xf1f663);}['decRef'](_0x11e635){if(_0x11e635){let _0xba7ef6=this['cache']['get'](_0x11e635);_0xba7ef6&&(_0xba7ef6--,_0xba7ef6===-0x1325*-0x2+-0x2262+-0x3e8?(this['cache']['delete'](_0x11e635),_0x11e635['destroy']()):this['cache']['set'](_0x11e635,_0xba7ef6));}}}class zi{static['incRef'](_0x30c300){this['cache']['incRef'](_0x30c300);}static['decRef'](_0xd15f6f){this['cache']['decRef'](_0xd15f6f);}static['destroy'](){this['cache']['destroy']();}}h(zi,'cache',new TE());let wE=0x2617+-0x67*0x5+0x2414*-0x1;const EE=new De(),sc=new De(),Xd=new sp(),qd=new Set(),Rr=new Uint32Array(-0x1*-0x1680+0x1*0x2dd+-0x1959);class bE{constructor(_0x1fd278){h(this,'vertexBuff'+'er',null),h(this,'_destroyVe'+'rtexBuffer',!(0x1*-0x1b67+0x2c9*-0x9+0x85*0x65)),this['count']=_0x1fd278;}['destroy'](){var _0x35ea3a;this['_destroyVe'+'rtexBuffer']&&((_0x35ea3a=this['vertexBuff'+'er'])==null||_0x35ea3a['destroy']()),this['vertexBuff'+'er']=null;}}class AE{constructor(){h(this,'map',new Map()),h(this,'meshMetaDa'+'ta',new Int32Array(0x1*0x1cce+-0xff6+-0xcd4));}['get'](_0x10fc30){return this['map']['get'](_0x10fc30)??this['map']['get'](null);}}class CE{constructor(){h(this,'shader'),h(this,'bindGroup',null),h(this,'uniformBuf'+'fer',null),h(this,'hashes');}['getBindGro'+'up'](_0x44e7bc){if(!this['bindGroup']){const _0x486faf=this['shader'];w['assert'](_0x486faf);const _0x17b677=_0x486faf['meshBindGr'+'oupFormat'];w['assert'](_0x17b677),this['bindGroup']=new Up(_0x44e7bc,_0x17b677),Ea['setName'](this['bindGroup'],'MeshBindGr'+'oup_'+this['bindGroup']['id']);}return this['bindGroup'];}['getUniform'+'Buffer'](_0x2f33d8){if(!this['uniformBuf'+'fer']){const _0x59597c=this['shader'];w['assert'](_0x59597c);const _0x5558a2=_0x59597c['meshUnifor'+'mBufferFor'+'mat'];w['assert'](_0x5558a2),this['uniformBuf'+'fer']=new zp(_0x2f33d8,_0x5558a2,!(0x2f*0x19+0x194+-0x3*0x20e));}return this['uniformBuf'+'fer'];}['destroy'](){var _0x2adb64,_0x5df6fc;(_0x2adb64=this['bindGroup'])==null||_0x2adb64['destroy'](),this['bindGroup']=null,(_0x5df6fc=this['uniformBuf'+'fer'])==null||_0x5df6fc['destroy'](),this['uniformBuf'+'fer']=null;}}const Jr=class Jr{constructor(_0x2edf85,_0x55cad5,_0x185494=null){h(this,'castShadow',!(-0x1*-0x1e27+-0x987+-0x149f)),h(this,'shadowCasc'+'adeMask',Bw),h(this,'cull',!(0xb91*0x2+0x1091+-0x27b3)),h(this,'drawOrder',-0x1b0c+0x1aa6+0x11*0x6),h(this,'_drawBucke'+'t',0xd1*-0x1d+-0xa89+0x22b5),h(this,'node'),h(this,'visible',!(-0xd0*0x22+-0x754+0x22f4)),h(this,'visibleThi'+'sFrame',!(0x1e*0xb2+-0x1824+0x349)),h(this,'flipFacesF'+'actor',-0xc5*0x4+-0x22fb+0x150*0x1d),h(this,'gsplatInst'+'ance',null),h(this,'id',wE++),h(this,'isVisibleF'+'unc',null),h(this,'instancing'+'Data',null),h(this,'indirectDa'+'ta',null),h(this,'parameters',{}),h(this,'pick',!(0x181d+0x1abe+-0x32db*0x1)),h(this,'stencilFro'+'nt',null),h(this,'stencilBac'+'k',null),h(this,'transparen'+'t',!(-0x1a5*-0x5+-0x277*0x6+0x692)),h(this,'_aabb',new De()),h(this,'_aabbVer',-(0x1273*0x1+-0x1325*-0x1+0x2597*-0x1)),h(this,'_aabbMeshV'+'er',-(0x1*-0x1119+0x2*-0x47f+-0x1a18*-0x1)),h(this,'_customAab'+'b',null),h(this,'_updateAab'+'b',!(-0x1bc4+0x162*-0x9+-0x2*-0x141b)),h(this,'_updateAab'+'bFunc',null),h(this,'_sortKeySh'+'adow',0xeb6+-0x66+-0xe50),h(this,'_sortKeyFo'+'rward',-0x1548+-0x3e2*0x7+-0x3076*-0x1),h(this,'_sortKeyDy'+'namic',-0x8e7+-0x104+0x9eb*0x1),h(this,'_layer',Ky),h(this,'_material',null),h(this,'_skinInsta'+'nce',null),h(this,'_morphInst'+'ance',null),h(this,'_receiveSh'+'adow',!(0x419+0x1e3d*0x1+-0x2256)),h(this,'_renderSty'+'le',un),h(this,'_screenSpa'+'ce',!(-0x1*0x701+0xaee+-0x3ec)),h(this,'_shaderCac'+'he',new Map()),h(this,'_shaderDef'+'s',Ss<<0x1*-0x237e+0x812+0x1b7c),h(this,'_calculate'+'SortDistan'+'ce',null);if(w['assert'](!(_0x2edf85 instanceof Ie),'Incorrect\x20'+'parameters'+'\x20for\x20MeshI'+'nstance\x27s\x20'+'constructo'+'r.\x20Use\x20new'+'\x20MeshInsta'+'nce(mesh,\x20'+'material,\x20'+'node)'),this['node']=_0x185494,this['_mesh']=_0x2edf85,_0x2edf85['incRefCoun'+'t'](),this['material']=_0x55cad5,_0x2edf85['vertexBuff'+'er']){const _0x21ff83=_0x2edf85['vertexBuff'+'er']['format'];this['_shaderDef'+'s']|=_0x21ff83['hasUv0']?nm:0x13*-0x15a+0x1*0x1a55+-0xa7*0x1,this['_shaderDef'+'s']|=_0x21ff83['hasUv1']?dv:-0x18cf+-0xd43+0x2612,this['_shaderDef'+'s']|=_0x21ff83['hasColor']?fv:-0x1fa0+-0x101a+0x2fba,this['_shaderDef'+'s']|=_0x21ff83['hasTangent'+'s']?om:-0x1e+0x8f1+-0x8d3;}this['updateKey']();}set['drawBucket'](_0x4d9cea){this['_drawBucke'+'t']=Math['floor'](_0x4d9cea)&-0xaa+-0x546+-0x163*-0x5,this['updateKey']();}get['drawBucket'](){return this['_drawBucke'+'t'];}set['renderStyl'+'e'](_0x325d71){this['_renderSty'+'le']=_0x325d71,this['mesh']['prepareRen'+'derState'](_0x325d71);}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['mesh'](_0x2e4ef4){_0x2e4ef4!==this['_mesh']&&(this['_mesh']&&this['_mesh']['decRefCoun'+'t'](),this['_mesh']=_0x2e4ef4,_0x2e4ef4&&_0x2e4ef4['incRefCoun'+'t']());}get['mesh'](){return this['_mesh'];}set['aabb'](_0x4876e4){this['_aabb']=_0x4876e4;}get['aabb'](){if(!this['_updateAab'+'b'])return this['_aabb'];if(this['_updateAab'+'bFunc'])return this['_updateAab'+'bFunc'](this['_aabb']);let _0x29804d=this['_customAab'+'b'],_0x45da48=!!_0x29804d;if(!_0x29804d){if(_0x29804d=EE,this['skinInstan'+'ce']){if(!this['mesh']['boneAabb']){const _0x3b8c3a=this['_morphInst'+'ance']?this['_morphInst'+'ance']['morph']['_targets']:null;this['mesh']['_initBoneA'+'abbs'](_0x3b8c3a);}const _0x498c6c=this['mesh']['boneUsed'];let _0x46cec3=!(0x852*-0x2+0xd7c+-0x1*-0x328);for(let _0x9bbb41=-0x4*0x7e7+0x1833*-0x1+0x37cf;_0x9bbb41<this['mesh']['boneAabb']['length'];_0x9bbb41++)_0x498c6c[_0x9bbb41]&&(sc['setFromTra'+'nsformedAa'+'bb'](this['mesh']['boneAabb'][_0x9bbb41],this['skinInstan'+'ce']['matrices'][_0x9bbb41]),_0x46cec3?(_0x46cec3=!(0xcbb*0x1+-0x1d5a+0x10a0),_0x29804d['center']['copy'](sc['center']),_0x29804d['halfExtent'+'s']['copy'](sc['halfExtent'+'s'])):_0x29804d['add'](sc));_0x45da48=!(-0x1ec0+0x2*0x893+0xd9a);}else{if(this['node']['_aabbVer']!==this['_aabbVer']||this['mesh']['_aabbVer']!==this['_aabbMeshV'+'er']){if(this['mesh']?(_0x29804d['center']['copy'](this['mesh']['aabb']['center']),_0x29804d['halfExtent'+'s']['copy'](this['mesh']['aabb']['halfExtent'+'s'])):(_0x29804d['center']['set'](0xa79+0x22f5+-0x2d6e,-0x1*0x1522+0x4e*-0x26+-0x4f*-0x6a,0x2541+-0x2cc+-0x2275),_0x29804d['halfExtent'+'s']['set'](-0x7*-0x101+-0x10d2*0x1+0x9cb,0x1021+-0x1*0x2153+0x1132,-0xb4e+0x58*-0x2b+0x1a16)),this['mesh']&&this['mesh']['morph']){const _0x29ff8b=this['mesh']['morph']['aabb'];_0x29804d['_expand'](_0x29ff8b['getMin'](),_0x29ff8b['getMax']());}_0x45da48=!(-0x270c+0x1*0x22df+0x42d),this['_aabbVer']=this['node']['_aabbVer'],this['_aabbMeshV'+'er']=this['mesh']['_aabbVer'];}}}return _0x45da48&&this['_aabb']['setFromTra'+'nsformedAa'+'bb'](_0x29804d,this['node']['getWorldTr'+'ansform']()),this['_aabb'];}['clearShade'+'rs'](){this['_shaderCac'+'he']['forEach'](_0x1f9a96=>{_0x1f9a96['destroy']();}),this['_shaderCac'+'he']['clear']();}['getShaderI'+'nstance'](_0x49bc2d,_0x51c46a,_0x240276,_0x11e3cb,_0x2fff59,_0x56aa,_0x1a72c9){var _0x5dca9a;const _0x4170b8=this['_shaderDef'+'s'];Rr[0x1410*-0x1+-0x1ec4+-0x196a*-0x2]=_0x49bc2d,Rr[-0x19ab+-0x1*0x1301+0x2cad]=_0x51c46a,Rr[0x122d+0x1db*-0x4+-0x1*0xabf]=_0x4170b8,Rr[-0x1*0x26d5+0x1*0x222d+-0x4ab*-0x1]=_0x11e3cb['hash'];const _0x5f3ae1=By(Rr);let _0x2cfdaa=this['_shaderCac'+'he']['get'](_0x5f3ae1);if(!_0x2cfdaa){const _0x16fcbf=this['_material'];if(_0x2cfdaa=new CE(),_0x2cfdaa['shader']=_0x16fcbf['variants']['get'](_0x5f3ae1),_0x2cfdaa['hashes']=new Uint32Array(Rr),!_0x2cfdaa['shader']){Q['pushGpuMar'+'ker'](this['mesh']['device'],'Node:\x20'+this['node']['name']);const _0x399137=_0x16fcbf['getShaderV'+'ariant']({'device':this['mesh']['device'],'scene':_0x240276,'objDefs':_0x4170b8,'cameraShaderParams':_0x11e3cb,'pass':_0x49bc2d,'sortedLights':_0x1a72c9,'viewUniformFormat':_0x2fff59,'viewBindGroupFormat':_0x56aa,'vertexFormat':(_0x5dca9a=this['mesh']['vertexBuff'+'er'])==null?void(0xa*0x14b+-0x141d+0x265*0x3):_0x5dca9a['format']});Q['popGpuMark'+'er'](this['mesh']['device']),_0x16fcbf['variants']['set'](_0x5f3ae1,_0x399137),_0x2cfdaa['shader']=_0x399137;}this['_shaderCac'+'he']['set'](_0x5f3ae1,_0x2cfdaa);}return w['call'](()=>{IT['equals'](_0x2cfdaa['hashes'],Rr)||w['errorOnce']('Hash\x20colli'+'sion\x20in\x20th'+'e\x20shader\x20c'+'ache\x20for\x20m'+'esh\x20instan'+'ce.\x20This\x20i'+'s\x20very\x20unl'+'ikely\x20but\x20'+'still\x20poss'+'ible.\x20Plea'+'se\x20report\x20'+'this\x20issue'+'.');}),_0x2cfdaa;}set['material'](_0x1f7b8e){this['clearShade'+'rs']();const _0x13b6b3=this['_material'];_0x13b6b3&&_0x13b6b3['removeMesh'+'InstanceRe'+'f'](this),this['_material']=_0x1f7b8e,_0x1f7b8e&&(_0x1f7b8e['addMeshIns'+'tanceRef'](this),this['transparen'+'t']=_0x1f7b8e['transparen'+'t'],this['updateKey']());}get['material'](){return this['_material'];}['_updateSha'+'derDefs'](_0x3af43e){_0x3af43e!==this['_shaderDef'+'s']&&(this['_shaderDef'+'s']=_0x3af43e,this['clearShade'+'rs']());}set['calculateS'+'ortDistanc'+'e'](_0xf96ffd){this['_calculate'+'SortDistan'+'ce']=_0xf96ffd;}get['calculateS'+'ortDistanc'+'e'](){return this['_calculate'+'SortDistan'+'ce'];}set['receiveSha'+'dow'](_0x53a4d9){this['_receiveSh'+'adow']!==_0x53a4d9&&(this['_receiveSh'+'adow']=_0x53a4d9,this['_updateSha'+'derDefs'](_0x53a4d9?this['_shaderDef'+'s']&~wh:this['_shaderDef'+'s']|wh));}get['receiveSha'+'dow'](){return this['_receiveSh'+'adow'];}set['batching'](_0x54084b){this['_updateSha'+'derDefs'](_0x54084b?this['_shaderDef'+'s']|qc:this['_shaderDef'+'s']&~qc);}get['batching'](){return(this['_shaderDef'+'s']&qc)!==0x940+-0x1*-0x757+-0x1097;}set['skinInstan'+'ce'](_0xea173f){this['_skinInsta'+'nce']=_0xea173f,this['_updateSha'+'derDefs'](_0xea173f?this['_shaderDef'+'s']|nl:this['_shaderDef'+'s']&~nl),this['_setupSkin'+'Update']();}get['skinInstan'+'ce'](){return this['_skinInsta'+'nce'];}set['morphInsta'+'nce'](_0x5a6cd6){var _0x5f293a;(_0x5f293a=this['_morphInst'+'ance'])==null||_0x5f293a['destroy'](),this['_morphInst'+'ance']=_0x5a6cd6;let _0x479d5c=this['_shaderDef'+'s'];_0x479d5c=_0x5a6cd6&&_0x5a6cd6['morph']['morphPosit'+'ions']?_0x479d5c|ll:_0x479d5c&~ll,_0x479d5c=_0x5a6cd6&&_0x5a6cd6['morph']['morphNorma'+'ls']?_0x479d5c|cl:_0x479d5c&~cl,_0x479d5c=_0x5a6cd6&&_0x5a6cd6['morph']['intRenderF'+'ormat']?_0x479d5c|hl:_0x479d5c&~hl,this['_updateSha'+'derDefs'](_0x479d5c);}get['morphInsta'+'nce'](){return this['_morphInst'+'ance'];}set['screenSpac'+'e'](_0x4df712){this['_screenSpa'+'ce']!==_0x4df712&&(this['_screenSpa'+'ce']=_0x4df712,this['_updateSha'+'derDefs'](_0x4df712?this['_shaderDef'+'s']|Eh:this['_shaderDef'+'s']&~Eh));}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['key'](_0xbe9e){this['_sortKeyFo'+'rward']=_0xbe9e;}get['key'](){return this['_sortKeyFo'+'rward'];}set['mask'](_0x21496b){const _0x182e97=this['_shaderDef'+'s']&-0x2eab*0x4+0x599*-0x59+0x1*0x3acdc;this['_updateSha'+'derDefs'](_0x182e97|_0x21496b<<0x234+-0x269*-0x1+0x48d*-0x1);}get['mask'](){return this['_shaderDef'+'s']>>-0x1d56+0x2*0x836+-0x12e*-0xb;}set['instancing'+'Count'](_0x783f7){this['instancing'+'Data']&&(this['instancing'+'Data']['count']=_0x783f7);}get['instancing'+'Count'](){return this['instancing'+'Data']?this['instancing'+'Data']['count']:-0x1aeb*-0x1+0x153f+-0x1*0x302a;}['destroy'](){var _0x440494,_0x21864f,_0x3ded2e;const _0x48ac00=this['mesh'];_0x48ac00&&(this['mesh']=null,_0x48ac00['refCount']<-0xd1a*-0x2+0x7*0x44d+-0x384e&&_0x48ac00['destroy']()),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][-0x1*-0x2552+0xd59+-0x32ab],null),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][-0x2*0x10d5+0x1604+0xba7],null),(_0x440494=this['_skinInsta'+'nce'])==null||_0x440494['destroy'](),this['_skinInsta'+'nce']=null,(_0x21864f=this['morphInsta'+'nce'])==null||_0x21864f['destroy'](),this['morphInsta'+'nce']=null,this['clearShade'+'rs'](),this['material']=null,(_0x3ded2e=this['instancing'+'Data'])==null||_0x3ded2e['destroy']();}static['_prepareRe'+'nderStyleF'+'orArray'](_0x2859e6,_0x41bfed){if(_0x2859e6){for(let _0x4734a2=0x468+-0x46e*0x6+-0x42*-0x56;_0x4734a2<_0x2859e6['length'];_0x4734a2++){_0x2859e6[_0x4734a2]['_renderSty'+'le']=_0x41bfed;const _0x49f2f9=_0x2859e6[_0x4734a2]['mesh'];qd['has'](_0x49f2f9)||(qd['add'](_0x49f2f9),_0x49f2f9['prepareRen'+'derState'](_0x41bfed));}qd['clear']();}}['_isVisible'](_0x12af1b){return this['visible']?this['isVisibleF'+'unc']?this['isVisibleF'+'unc'](_0x12af1b):(Xd['center']=this['aabb']['center'],Xd['radius']=this['_aabb']['halfExtent'+'s']['length'](),_0x12af1b['frustum']['containsSp'+'here'](Xd)>-0x160*0xb+-0x1*0x11ef+0x210f):!(-0x1*0x75+0x5ff*-0x1+0x675);}['updateKey'](){const {material:_0x3f4e08}=this;this['_sortKeyFo'+'rward']=this['_drawBucke'+'t']<<-0x4a5+-0xfa7*-0x2+-0x1a92|(_0x3f4e08['alphaToCov'+'erage']||_0x3f4e08['alphaTest']?0x234614+-0x7819d9+-0x1542d3*-0x7:-0xb8e*-0x1+0x12c0+-0x6*0x50d)|_0x3f4e08['id']&-0xc67*0x8d1+-0x952c8+0xb6aade;}['setInstanc'+'ing'](_0x453208,_0x127e59=!(0x1b66+-0x18d1*0x1+-0x4*0xa5)){_0x453208?(this['instancing'+'Data']=new bE(_0x453208['numVertice'+'s']),this['instancing'+'Data']['vertexBuff'+'er']=_0x453208,_0x453208['format']['instancing']=!(-0x1ad*-0xd+-0x14f0+0x1f*-0x7),this['cull']=_0x127e59):(this['instancing'+'Data']=null,this['cull']=!(0xc77+0x1ac2+-0x2739)),this['_updateSha'+'derDefs'](_0x453208?this['_shaderDef'+'s']|ol:this['_shaderDef'+'s']&~ol);}['setIndirec'+'t'](_0xead252,_0x4d859d){this['_allocIndi'+'rectData'](),this['indirectDa'+'ta']['map']['set']((_0xead252==null?void(0x114b+-0x1197+0x4c):_0xead252['camera'])??null,_0x4d859d),this['mesh']['device']['mapsToClea'+'r']['add'](this['indirectDa'+'ta']['map']);}['getIndirec'+'tMetaData'](){var _0x498dfb;this['_allocIndi'+'rectData']();const _0x437979=(_0x498dfb=this['mesh'])==null?void(0x40b+0x7*0x387+0xc*-0x265):_0x498dfb['primitive'][this['renderStyl'+'e']],_0xfb3809=this['indirectDa'+'ta']['meshMetaDa'+'ta'];return _0xfb3809[0x78c*-0x1+0xdc7+-0x63b]=_0x437979['count'],_0xfb3809[-0xaf4+0x201b+-0x1526]=_0x437979['base'],_0xfb3809[0xdf*-0xd+0xe62+-0x30d]=_0x437979['baseVertex'],_0xfb3809;}['_allocIndi'+'rectData'](){this['indirectDa'+'ta']||(this['indirectDa'+'ta']=new AE());}['ensureMate'+'rial'](_0x22ad9e){this['material']||(w['warn']('Mesh\x20attac'+'hed\x20to\x20ent'+'ity\x20\x27'+this['node']['name']+('\x27\x20does\x20not'+'\x20have\x20a\x20ma'+'terial,\x20us'+'ing\x20a\x20defa'+'ult\x20one.')),this['material']=Qn(_0x22ad9e));}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['getParamet'+'er'](_0x19d9cf){return this['parameters'][_0x19d9cf];}['setParamet'+'er'](_0xcf8fa4,_0x215cf7,_0x39ecf2=0x3b*0x51b5b79+-0x547b870*0xf+0x21e5b9ac){const _0x9d3e37=this['parameters'][_0xcf8fa4];_0x9d3e37?(_0x9d3e37['data']=_0x215cf7,_0x9d3e37['passFlags']=_0x39ecf2):this['parameters'][_0xcf8fa4]={'scopeId':null,'data':_0x215cf7,'passFlags':_0x39ecf2};}['setRealtim'+'eLightmap'](_0x42ea68,_0x22aae7){const _0x24d8fd=this['getParamet'+'er'](_0x42ea68);_0x24d8fd!==_0x22aae7&&(_0x24d8fd&&zi['decRef'](_0x24d8fd['data']),_0x22aae7?(zi['incRef'](_0x22aae7),this['setParamet'+'er'](_0x42ea68,_0x22aae7)):this['deletePara'+'meter'](_0x42ea68));}['deletePara'+'meter'](_0x4a89c5){this['parameters'][_0x4a89c5]&&delete this['parameters'][_0x4a89c5];}['setParamet'+'ers'](_0x247564,_0x5bf343){const _0xde9c2c=this['parameters'];for(const _0xaa299c in _0xde9c2c){const _0x1a32e9=_0xde9c2c[_0xaa299c];_0x1a32e9['passFlags']&_0x5bf343&&(_0x1a32e9['scopeId']||(_0x1a32e9['scopeId']=_0x247564['scope']['resolve'](_0xaa299c)),_0x1a32e9['scopeId']['setValue'](_0x1a32e9['data']));}}['setLightma'+'pped'](_0x448640){_0x448640?this['mask']=(this['mask']|di)&-(0x1ae0+-0x9+-0x1ad1):(this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][0x122c+-0x1966+0x172*0x5],null),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][-0x1b4*-0x1+-0xcef+0xb3c],null),this['_shaderDef'+'s']&=-(0x6bb*0x1+-0x2475+-0x1*-0x2e7b),this['mask']=(this['mask']|Ss)&-(0x1*0x11d9+0x6*-0x187+0x1*-0x8a8));}['setCustomA'+'abb'](_0x1f716f){_0x1f716f?this['_customAab'+'b']?this['_customAab'+'b']['copy'](_0x1f716f):this['_customAab'+'b']=_0x1f716f['clone']():(this['_customAab'+'b']=null,this['_aabbVer']=-(0x187c*0x1+-0x24e8+0xc6d)),this['_setupSkin'+'Update']();}['_setupSkin'+'Update'](){this['_skinInsta'+'nce']&&(this['_skinInsta'+'nce']['_updateBef'+'oreCull']=!this['_customAab'+'b']);}};h(Jr,'lightmapPa'+'ramNames',['texture_li'+'ghtMap','texture_di'+'rLightMap']);let He=Jr;const PE=[-0x2702+0x5d6*-0x1+0x11f*0x28,-0xb1e+-0x2071+-0x110*-0x29,-0x555+0x3*0xb38+-0x1c50*0x1,0x1952*-0x1+-0x4dc+0x2e*0xa8,0x14cb*0x1+-0xa*-0xe1+0x2*-0xec9,0x3*0x17f+-0x4*0x6d9+0x16e8],ME=[-0x1dbd+-0x10ed+0x2eaa,-0xac7+-0x1ab2*-0x1+-0xfea,-0x1a64+0x107e+0x9e9,-0x1*-0x4e4+-0x409*0x7+0x175b,-0x2147+0x9b2+0x1798,-0xf*0x7c+0x1*-0xe61+0x15a7],A_=new _i();function C_(_0xa187a9,_0x2e5130){if(_0xa187a9&&!_0x2e5130||!_0xa187a9&&_0x2e5130)return!(-0x4ee+0x9e5+0x1*-0x4f6);if(_0xa187a9=_0xa187a9['data'],_0x2e5130=_0x2e5130['data'],_0xa187a9===_0x2e5130)return!(0x3a*-0x7d+0x17c4+0x48e);if(_0xa187a9 instanceof Float32Array&&_0x2e5130 instanceof Float32Array){if(_0xa187a9['length']!==_0x2e5130['length'])return!(-0x145*0x2+-0xa05+-0x10c*-0xc);for(let _0x8ab494=0x1e8b+-0x89*0x24+-0xb47*0x1;_0x8ab494<_0xa187a9['length'];_0x8ab494++)if(_0xa187a9[_0x8ab494]!==_0x2e5130[_0x8ab494])return!(0x25be+-0xd46*0x2+-0xb31);return!(-0x17f0+-0xcf9+0x24e9);}return!(-0x265*0xb+0x1ec5+-0x46d);}function DE(_0x4f7c9b,_0x17a839){for(const _0x1f1b8c in _0x4f7c9b)if(_0x4f7c9b['hasOwnProp'+'erty'](_0x1f1b8c)&&!C_(_0x4f7c9b[_0x1f1b8c],_0x17a839[_0x1f1b8c]))return!(-0x41*-0x21+-0x1*0x1087+-0x1*-0x827);for(const _0x4357da in _0x17a839)if(_0x17a839['hasOwnProp'+'erty'](_0x4357da)&&!C_(_0x17a839[_0x4357da],_0x4f7c9b[_0x4357da]))return!(-0x312+-0x1*-0x1c8d+0x6*-0x43f);return!(0x1fe8+-0x1*0x14d3+-0x1*0xb15);}function jd(_0x5086c8){return _0x5086c8['node']['worldTrans'+'form']['scaleSign'];}class IE{constructor(_0x2daa1f,_0x55cfb1,_0x1000f3){this['device']=_0x2daa1f,this['rootNode']=_0x55cfb1,this['scene']=_0x1000f3,this['_init']=!(0x127*-0x1e+0x1*-0x1cb5+-0x32*-0x144),this['_batchGrou'+'ps']={},this['_batchGrou'+'pCounter']=-0x1*-0xf7+0x8f8+-0x9ef,this['_batchList']=[],this['_dirtyGrou'+'ps']=[],this['_stats']={'createTime':0x0,'updateLastFrameTime':0x0};}['destroy'](){this['device']=null,this['rootNode']=null,this['scene']=null,this['_batchGrou'+'ps']={},this['_batchList']=[],this['_dirtyGrou'+'ps']=[];}['addGroup'](_0x43ae33,_0x2e5607,_0x57f489,_0x4947fa,_0x32c09f){if(_0x4947fa===void(0x2*0x849+0x43*0x1+-0x1*0x10d5)&&(_0x4947fa=this['_batchGrou'+'pCounter'],this['_batchGrou'+'pCounter']++),this['_batchGrou'+'ps'][_0x4947fa]){w['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x4947fa+('\x20already\x20e'+'xists.'));return;}const _0x2e807b=new St(_0x4947fa,_0x43ae33,_0x2e5607,_0x57f489,_0x32c09f);return this['_batchGrou'+'ps'][_0x4947fa]=_0x2e807b,_0x2e807b;}['removeGrou'+'p'](_0x4ce0ba){if(!this['_batchGrou'+'ps'][_0x4ce0ba]){w['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x4ce0ba+('\x20doesn\x27t\x20e'+'xist.'));return;}const _0x15a479=[];for(let _0x66a1ed=-0xb87+-0x116f+-0x2a2*-0xb;_0x66a1ed<this['_batchList']['length'];_0x66a1ed++)this['_batchList'][_0x66a1ed]['batchGroup'+'Id']===_0x4ce0ba?this['destroyBat'+'ch'](this['_batchList'][_0x66a1ed]):_0x15a479['push'](this['_batchList'][_0x66a1ed]);this['_batchList']=_0x15a479,this['_removeMod'+'elsFromBat'+'chGroup'](this['rootNode'],_0x4ce0ba),delete this['_batchGrou'+'ps'][_0x4ce0ba];}['markGroupD'+'irty'](_0x177168){this['_dirtyGrou'+'ps']['indexOf'](_0x177168)<0x36d*-0xb+0x8e5+0xb*0x29e&&this['_dirtyGrou'+'ps']['push'](_0x177168);}['getGroupBy'+'Name'](_0x4b7ae8){const _0x440af=this['_batchGrou'+'ps'];for(const _0x5b7e7f in _0x440af)if(_0x440af['hasOwnProp'+'erty'](_0x5b7e7f)&&_0x440af[_0x5b7e7f]['name']===_0x4b7ae8)return _0x440af[_0x5b7e7f];return null;}['getBatches'](_0x3cc5f7){const _0x190d7c=[],_0x37ff54=this['_batchList']['length'];for(let _0x4a50dc=-0x107*-0xf+-0x14ff+-0xd*-0x6e;_0x4a50dc<_0x37ff54;_0x4a50dc++){const _0x2e398e=this['_batchList'][_0x4a50dc];_0x2e398e['batchGroup'+'Id']===_0x3cc5f7&&_0x190d7c['push'](_0x2e398e);}return _0x190d7c;}['_removeMod'+'elsFromBat'+'chGroup'](_0x2e1d47,_0x48afd4){if(_0x2e1d47['enabled']){_0x2e1d47['model']&&_0x2e1d47['model']['batchGroup'+'Id']===_0x48afd4&&(_0x2e1d47['model']['batchGroup'+'Id']=-(-0xe1b+-0x4a+0xe66)),_0x2e1d47['render']&&_0x2e1d47['render']['batchGroup'+'Id']===_0x48afd4&&(_0x2e1d47['render']['batchGroup'+'Id']=-(0x1*0xc86+0xf2*-0x1f+-0x10c9*-0x1)),_0x2e1d47['element']&&_0x2e1d47['element']['batchGroup'+'Id']===_0x48afd4&&(_0x2e1d47['element']['batchGroup'+'Id']=-(0x25c+0xcf7+-0xf52)),_0x2e1d47['sprite']&&_0x2e1d47['sprite']['batchGroup'+'Id']===_0x48afd4&&(_0x2e1d47['sprite']['batchGroup'+'Id']=-(0x3c2+-0x21bd*0x1+0x1dfc));for(let _0x237177=0x24df*0x1+0xa86+-0x1*0x2f65;_0x237177<_0x2e1d47['_children']['length'];_0x237177++)this['_removeMod'+'elsFromBat'+'chGroup'](_0x2e1d47['_children'][_0x237177],_0x48afd4);}}['insert'](_0x5d5216,_0x127b67,_0x4defa3){const _0x4cdcb9=this['_batchGrou'+'ps'][_0x127b67];w['assert'](_0x4cdcb9,'Invalid\x20ba'+'tch\x20'+_0x127b67+'\x20insertion'),_0x4cdcb9&&_0x4cdcb9['_obj'][_0x5d5216]['indexOf'](_0x4defa3)<-0x11*0x20+-0xf42+0x1162&&(_0x4cdcb9['_obj'][_0x5d5216]['push'](_0x4defa3),this['markGroupD'+'irty'](_0x127b67));}['remove'](_0x1d3865,_0x1c8fb7,_0x102114){const _0x354ff8=this['_batchGrou'+'ps'][_0x1c8fb7];if(w['assert'](_0x354ff8,'Invalid\x20ba'+'tch\x20'+_0x1c8fb7+'\x20insertion'),_0x354ff8){const _0xde7725=_0x354ff8['_obj'][_0x1d3865]['indexOf'](_0x102114);_0xde7725>=0x72*0x1f+-0x2256+0x1488&&(_0x354ff8['_obj'][_0x1d3865]['splice'](_0xde7725,0x2347+-0x17ff*0x1+0x1*-0xb47),this['markGroupD'+'irty'](_0x1c8fb7));}}['_extractRe'+'nder'](_0x291812,_0x592c78,_0x4048e0,_0x277129){return _0x291812['render']&&(_0x592c78=_0x277129[_0x291812['render']['batchGroup'+'Id']]=_0x592c78['concat'](_0x291812['render']['meshInstan'+'ces']),_0x291812['render']['removeFrom'+'Layers']()),_0x592c78;}['_extractMo'+'del'](_0x4c5967,_0x303fa2,_0x31eba3,_0x3ee62f){return _0x4c5967['model']&&_0x4c5967['model']['model']&&(_0x303fa2=_0x3ee62f[_0x4c5967['model']['batchGroup'+'Id']]=_0x303fa2['concat'](_0x4c5967['model']['meshInstan'+'ces']),_0x4c5967['model']['removeMode'+'lFromLayer'+'s'](),_0x4c5967['model']['_batchGrou'+'p']=_0x31eba3),_0x303fa2;}['_extractEl'+'ement'](_0x9ae88a,_0x2e3ce9,_0x53c86c){if(!_0x9ae88a['element'])return;let _0x210a2d=!(-0x2425*0x1+-0x1349*-0x1+0x10dd);_0x9ae88a['element']['_text']&&_0x9ae88a['element']['_text']['_model']['meshInstan'+'ces']['length']>-0x815+-0x229+0x36a*0x3?(_0x2e3ce9['push'](_0x9ae88a['element']['_text']['_model']['meshInstan'+'ces'][0x14*-0xe3+-0x933*0x1+-0x23*-0xc5]),_0x9ae88a['element']['removeMode'+'lFromLayer'+'s'](_0x9ae88a['element']['_text']['_model']),_0x210a2d=!(-0xdb*0x1a+-0x20b*-0xd+-0x41*0x11)):_0x9ae88a['element']['_image']&&(_0x2e3ce9['push'](_0x9ae88a['element']['_image']['_renderabl'+'e']['meshInstan'+'ce']),_0x9ae88a['element']['removeMode'+'lFromLayer'+'s'](_0x9ae88a['element']['_image']['_renderabl'+'e']['model']),_0x9ae88a['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']&&(_0x2e3ce9['push'](_0x9ae88a['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']),(!_0x9ae88a['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']||!_0x9ae88a['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k'])&&(_0x9ae88a['element']['_dirtifyMa'+'sk'](),_0x9ae88a['element']['_onPrerend'+'er']())),_0x210a2d=!(0x1063*-0x1+0xa01*0x1+0x662)),_0x210a2d&&(_0x53c86c['_ui']=!(0xb04+-0xd85+0x281),_0x9ae88a['element']['_batchGrou'+'p']=_0x53c86c);}['_collectAn'+'dRemoveMes'+'hInstances'](_0x2b6351,_0x3f8b8f){for(let _0x1dffe4=-0x1*0xb0d+0x42*-0x54+-0x1*-0x20b5;_0x1dffe4<_0x3f8b8f['length'];_0x1dffe4++){const _0x543587=_0x3f8b8f[_0x1dffe4],_0x12db3e=this['_batchGrou'+'ps'][_0x543587];if(!_0x12db3e)continue;let _0xfb2a58=_0x2b6351[_0x543587];_0xfb2a58||(_0xfb2a58=_0x2b6351[_0x543587]=[]);for(let _0x21572d=0x38f+0x297+-0x626;_0x21572d<_0x12db3e['_obj']['model']['length'];_0x21572d++)_0xfb2a58=this['_extractMo'+'del'](_0x12db3e['_obj']['model'][_0x21572d],_0xfb2a58,_0x12db3e,_0x2b6351);for(let _0x3fce35=0x166+-0x26bd+0x2557;_0x3fce35<_0x12db3e['_obj']['render']['length'];_0x3fce35++)_0xfb2a58=this['_extractRe'+'nder'](_0x12db3e['_obj']['render'][_0x3fce35],_0xfb2a58,_0x12db3e,_0x2b6351);for(let _0x485b43=-0xd19*0x1+-0x2168+-0x2e81*-0x1;_0x485b43<_0x12db3e['_obj']['element']['length'];_0x485b43++)this['_extractEl'+'ement'](_0x12db3e['_obj']['element'][_0x485b43],_0xfb2a58,_0x12db3e);for(let _0x4cd714=0x559+0x1f96+-0x24ef;_0x4cd714<_0x12db3e['_obj']['sprite']['length'];_0x4cd714++){const _0x29927f=_0x12db3e['_obj']['sprite'][_0x4cd714];_0x29927f['sprite']&&_0x29927f['sprite']['_meshInsta'+'nce']&&(_0x12db3e['dynamic']||_0x29927f['sprite']['sprite']['_renderMod'+'e']===ci)&&(_0xfb2a58['push'](_0x29927f['sprite']['_meshInsta'+'nce']),_0x29927f['sprite']['removeMode'+'lFromLayer'+'s'](),_0x12db3e['_sprite']=!(0x1fec+-0x1*-0x16bb+-0x337*0x11),_0x29927f['sprite']['_batchGrou'+'p']=_0x12db3e);}}}['generate'](_0x1c0124){const _0x5c41ec={};_0x1c0124||(_0x1c0124=Object['keys'](this['_batchGrou'+'ps']));const _0x4fd76c=[];for(let _0x4a6c67=0x85f+0xa*-0x2f4+-0x1529*-0x1;_0x4a6c67<this['_batchList']['length'];_0x4a6c67++){if(_0x1c0124['indexOf'](this['_batchList'][_0x4a6c67]['batchGroup'+'Id'])<-0x641+0xe4*-0xb+0x100d){_0x4fd76c['push'](this['_batchList'][_0x4a6c67]);continue;}this['destroyBat'+'ch'](this['_batchList'][_0x4a6c67]);}if(this['_batchList']=_0x4fd76c,this['_collectAn'+'dRemoveMes'+'hInstances'](_0x5c41ec,_0x1c0124),_0x1c0124===this['_dirtyGrou'+'ps'])this['_dirtyGrou'+'ps']['length']=-0x4*0x987+0x1210+-0x4*-0x503;else{const _0x410e8f=[];for(let _0x26ee05=0x1*-0x517+0x132c+-0xe15;_0x26ee05<this['_dirtyGrou'+'ps']['length'];_0x26ee05++)_0x1c0124['indexOf'](this['_dirtyGrou'+'ps'][_0x26ee05])<-0x262d*0x1+0x37a+0x22b3*0x1&&_0x410e8f['push'](this['_dirtyGrou'+'ps'][_0x26ee05]);this['_dirtyGrou'+'ps']=_0x410e8f;}let _0x93cd7f,_0x2ec0fa,_0x43ed4d,_0x140810;for(const _0x5253b5 in _0x5c41ec)if(_0x5c41ec['hasOwnProp'+'erty'](_0x5253b5)){if(_0x93cd7f=_0x5c41ec[_0x5253b5],_0x43ed4d=this['_batchGrou'+'ps'][_0x5253b5],!_0x43ed4d){w['error']('batch\x20grou'+'p\x20'+_0x5253b5+'\x20not\x20found');continue;}_0x2ec0fa=this['prepare'](_0x93cd7f,_0x43ed4d['dynamic'],_0x43ed4d['maxAabbSiz'+'e'],_0x43ed4d['_ui']||_0x43ed4d['_sprite']);for(let _0x47bba0=-0x12c5+0x466+0xe5f;_0x47bba0<_0x2ec0fa['length'];_0x47bba0++)_0x140810=this['create'](_0x2ec0fa[_0x47bba0],_0x43ed4d['dynamic'],parseInt(_0x5253b5,0x2*0xcfb+-0x10fe+-0x8ee)),_0x140810&&_0x140810['addToLayer'+'s'](this['scene'],_0x43ed4d['layers']);}}['prepare'](_0x45f8b9,_0x38248c,_0x50008b=Number['POSITIVE_I'+'NFINITY'],_0x32bdd4){if(_0x45f8b9['length']===-0x13*-0x171+0x1*-0x8f2+-0x1*0x1271)return[];const _0x5b1c1c=_0x50008b*(0x2638+-0x1504+-0x1134+0.5),_0x2ed563=-0x17a4+-0x2*0x9a3+0x1775*0x2,_0x2906d9=-0x16ce67*0xb2d+-0x14c96d3ef*0x1+0x34b778909,_0x216b30=new De(),_0x261259=new De();let _0x3e157c=null,_0x53aced;const _0x839309=[];let _0x4ecc0b=-0xe18+0x17*-0x137+0x2a09;_0x32bdd4&&_0x45f8b9['sort']((_0x361d23,_0x47dbd5)=>_0x361d23['drawOrder']-_0x47dbd5['drawOrder']);let _0x2694b1=_0x45f8b9,_0x2887bd;const _0x83f330=_0x32bdd4?function(_0x1a5cf0){_0x3e157c?_0x3e157c['add'](_0x1a5cf0['aabb']):_0x3e157c=_0x1a5cf0['aabb']['clone'](),_0x2887bd['push'](_0x1a5cf0);}:function(_0xf66a04){_0x2887bd['push'](_0xf66a04);};for(;_0x2694b1['length']>-0x31*-0x7+-0x1e32+0x1cdb;){_0x839309[_0x4ecc0b]=[_0x2694b1[-0x9*0x59+-0x2a5*-0x5+-0x11*0x98]],_0x2887bd=[];const _0x46db8f=_0x2694b1[0x25e4+0x925+-0x2f09]['material'],_0x10f041=_0x2694b1[0x107*0xe+0x167e+-0x24e0]['layer'],_0x4252ed=_0x2694b1[0x696+-0x1*-0x22fc+-0x22*0x139]['_shaderDef'+'s'],_0x547520=_0x2694b1[-0x2*-0x73d+0x3*-0x9db+-0xf17*-0x1]['parameters'],_0x162637=_0x2694b1[0x191e+-0xb70+-0xce*0x11]['stencilFro'+'nt'];let _0x59b6dd=_0x2694b1[0x26dc+-0x67*0x8+-0x23a4]['mesh']['vertexBuff'+'er']['getNumVert'+'ices']();const _0x375f23=_0x2694b1[-0x1*0x1247+0x27e+0x543*0x3]['drawOrder'];_0x216b30['copy'](_0x2694b1[-0x4*-0x2e+-0x1989+-0x18d1*-0x1]['aabb']);const _0x2aa2f1=jd(_0x2694b1[0x9*0x385+-0x2*-0xacd+-0x3547]),_0x2184b8=_0x2694b1[0xe35+0x2543+-0x66f*0x8]['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh'],_0x27b424=_0x2694b1[-0x25de*0x1+-0x9*-0x32b+0x1*0x95b]['mesh']['primitive'][-0x2581+-0x6d*-0x41+-0x275*-0x4]['indexed'];_0x3e157c=null;for(let _0x37c604=-0x13*0x105+-0xd59+-0x1*-0x20b9;_0x37c604<_0x2694b1['length'];_0x37c604++){const _0x156e9b=_0x2694b1[_0x37c604];if(_0x38248c&&_0x839309[_0x4ecc0b]['length']>=_0x2ed563){_0x2887bd=_0x2887bd['concat'](_0x2694b1['slice'](_0x37c604));break;}if(_0x46db8f!==_0x156e9b['material']||_0x10f041!==_0x156e9b['layer']||_0x2184b8!==_0x156e9b['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh']||_0x27b424!==_0x156e9b['mesh']['primitive'][-0xff5+-0x1f11+0x2f06]['indexed']||_0x4252ed!==_0x156e9b['_shaderDef'+'s']||_0x59b6dd+_0x156e9b['mesh']['vertexBuff'+'er']['getNumVert'+'ices']()>_0x2906d9){_0x83f330(_0x156e9b);continue;}if(_0x261259['copy'](_0x216b30),_0x261259['add'](_0x156e9b['aabb']),_0x261259['halfExtent'+'s']['x']>_0x5b1c1c||_0x261259['halfExtent'+'s']['y']>_0x5b1c1c||_0x261259['halfExtent'+'s']['z']>_0x5b1c1c){_0x83f330(_0x156e9b);continue;}if(_0x162637&&(!(_0x53aced=_0x156e9b['stencilFro'+'nt'])||_0x162637['func']!==_0x53aced['func']||_0x162637['zpass']!==_0x53aced['zpass'])){_0x83f330(_0x156e9b);continue;}if(_0x2aa2f1!==jd(_0x156e9b)){_0x83f330(_0x156e9b);continue;}if(!DE(_0x547520,_0x156e9b['parameters'])){_0x83f330(_0x156e9b);continue;}if(_0x32bdd4&&_0x3e157c&&_0x3e157c['intersects'](_0x156e9b['aabb'])&&_0x156e9b['drawOrder']!==_0x375f23){_0x83f330(_0x156e9b);continue;}_0x216b30['add'](_0x156e9b['aabb']),_0x59b6dd+=_0x156e9b['mesh']['vertexBuff'+'er']['getNumVert'+'ices'](),_0x839309[_0x4ecc0b]['push'](_0x156e9b);}_0x4ecc0b++,_0x2694b1=_0x2887bd;}return _0x839309;}['collectBat'+'chedMeshDa'+'ta'](_0x1043bd,_0x2aa8fd){let _0xd40f7=null,_0x1d6d7a=-0x1c*-0xe5+-0x12e2+-0x62a,_0x37273d=-0x82a*0x1+0xcf0+0x1a*-0x2f,_0x5c8c3a=null;for(let _0x204eb5=0x1b74+-0x284*-0x1+0x448*-0x7;_0x204eb5<_0x1043bd['length'];_0x204eb5++)if(_0x1043bd[_0x204eb5]['visible']){const _0x3b37c6=_0x1043bd[_0x204eb5]['mesh'],_0x15d737=_0x3b37c6['vertexBuff'+'er']['numVertice'+'s'];if(_0x1d6d7a+=_0x15d737,_0x3b37c6['primitive'][0x11*-0x9f+0x26d0+-0x1c41*0x1]['indexed'])_0x37273d+=_0x3b37c6['primitive'][0x2*-0x943+-0x1efb+0x29b*0x13]['count'];else{const _0x251b4f=_0x3b37c6['primitive'][0x182+-0x6d*0xd+0x407]['type'];(_0x251b4f===oa||_0x251b4f===Er)&&_0x3b37c6['primitive'][-0x248+0x27*0xc+0x1d*0x4]['count']===0x598*0x6+-0x8cc*0x1+0xc6*-0x20&&(_0x37273d+=-0xde4+0x2*-0xda6+0x2936);}if(!_0xd40f7){_0x5c8c3a=_0x1043bd[_0x204eb5]['material'],_0xd40f7={};const _0x1328b1=_0x3b37c6['vertexBuff'+'er']['format']['elements'];for(let _0x3fce15=-0x1*0x506+0x1168+-0xa*0x13d;_0x3fce15<_0x1328b1['length'];_0x3fce15++){const _0x3fa9d6=_0x1328b1[_0x3fce15]['name'];_0xd40f7[_0x3fa9d6]={'numComponents':_0x1328b1[_0x3fce15]['numCompone'+'nts'],'dataType':_0x1328b1[_0x3fce15]['dataType'],'normalize':_0x1328b1[_0x3fce15]['normalize'],'count':0x0};}_0x2aa8fd&&(_0xd40f7[us]={'numComponents':0x1,'dataType':Ve,'normalize':!(0x1*-0x20ab+0x61d+0x1a8f),'count':0x0});}}return{'streams':_0xd40f7,'batchNumVerts':_0x1d6d7a,'batchNumIndices':_0x37273d,'material':_0x5c8c3a};}['create'](_0x325730,_0x443e15,_0x1eb389){const _0x478f89=de();this['_init']||(this['vertexForm'+'ats']={},this['_init']=!(-0x1f0f+0x1*0x1c01+0x30e*0x1));let _0x5d0654=null,_0x4717af,_0x16b335,_0x1092b8,_0x11e681=null;const _0x1fc1f9=this['collectBat'+'chedMeshDa'+'ta'](_0x325730,_0x443e15);if(_0x1fc1f9['streams']){const _0x26ae95=_0x1fc1f9['streams'];let _0x3d10af=_0x1fc1f9['material'];const _0xad464=_0x1fc1f9['batchNumVe'+'rts'],_0x24d606=_0x1fc1f9['batchNumIn'+'dices'];_0x11e681=new g_(_0x325730,_0x443e15,_0x1eb389),this['_batchList']['push'](_0x11e681);let _0x3c3e99,_0x4c70e5,_0x68eb6d,_0x1bb8d9,_0x3b8f88=0x5*0x6a3+-0x3*0x44d+-0x1448,_0x5319bd=-0xa63*-0x2+0x26*0x6b+-0x88*0x45,_0x117e68;const _0x36bd03=_0xad464<=0x12434+0x83e7+-0xa81c?Uint16Array:Uint32Array,_0xd7ed2e=new _0x36bd03(_0x24d606);for(_0x4717af in _0x26ae95)_0x5d0654=_0x26ae95[_0x4717af],_0x5d0654['typeArrayT'+'ype']=wn[_0x5d0654['dataType']],_0x5d0654['elementByt'+'eSize']=No[_0x5d0654['dataType']],_0x5d0654['buffer']=new _0x5d0654['typeArrayT'+'ype'](_0xad464*_0x5d0654['numCompone'+'nts']);for(let _0x24d921=-0x41d+-0x425*-0x3+-0x852;_0x24d921<_0x325730['length'];_0x24d921++)if(_0x325730[_0x24d921]['visible']){_0x16b335=_0x325730[_0x24d921]['mesh'],_0x1092b8=_0x16b335['vertexBuff'+'er']['numVertice'+'s'],_0x443e15||(_0x117e68=_0x325730[_0x24d921]['node']['getWorldTr'+'ansform']());for(_0x4717af in _0x26ae95)if(_0x4717af!==us){_0x5d0654=_0x26ae95[_0x4717af];const _0x624179=new _0x5d0654['typeArrayT'+'ype'](_0x5d0654['buffer']['buffer'],_0x5d0654['elementByt'+'eSize']*_0x5d0654['count']),_0x29f9cd=_0x16b335['getVertexS'+'tream'](_0x4717af,_0x624179)*_0x5d0654['numCompone'+'nts'];if(_0x5d0654['count']+=_0x29f9cd,!_0x443e15&&_0x5d0654['numCompone'+'nts']>=-0x7f*0x14+-0x1572+0x1f61*0x1){if(_0x4717af===Me){const _0x1ba8f4=_0x117e68['data'],_0xf9c376=_0x1ba8f4[0x3*-0x39f+-0x1*-0x1225+-0x748],_0x578faa=_0x1ba8f4[0x1251+0x26ca+-0x391a],_0x15953c=_0x1ba8f4[0x15c+-0x1*0x83+0xd7*-0x1],_0x9440f2=_0x1ba8f4[-0x41c*-0x9+-0x1577+0x237*-0x7],_0x22f1a3=_0x1ba8f4[0x22b+0x3*0x896+0x13*-0x178],_0x226a9f=_0x1ba8f4[0x47+0x901+-0x942],_0x4cb42f=_0x1ba8f4[-0x158a*-0x1+-0x1*0x199+0x3*-0x6a3],_0x2cbc46=_0x1ba8f4[0x9e3+-0xfa*0x6+-0x92*0x7],_0x238cd7=_0x1ba8f4[-0x9*0x272+0x11*-0xe7+0x2563],_0x3b95a4=_0x1ba8f4[-0x17ea+-0x26*0xc1+-0x3c2*-0xe],_0x387e65=_0x1ba8f4[0x209a+-0x6b8+-0x19d5],_0xbd941=_0x1ba8f4[0x1b23+0x12b5*0x2+-0x407f];let _0x2338f6,_0x317ea6,_0x5b7817;for(let _0x5826e2=0x5*-0x655+-0x1b17+0x3ac0;_0x5826e2<_0x29f9cd;_0x5826e2+=_0x5d0654['numCompone'+'nts'])_0x2338f6=_0x624179[_0x5826e2],_0x317ea6=_0x624179[_0x5826e2+(0xd32+-0x2317+0x15e6)],_0x5b7817=_0x624179[_0x5826e2+(-0x1*-0x1a53+0x1228+-0x63*0x73)],_0x624179[_0x5826e2]=_0x2338f6*_0xf9c376+_0x317ea6*_0x9440f2+_0x5b7817*_0x4cb42f+_0x3b95a4,_0x624179[_0x5826e2+(0x1*-0x105d+0x42b*-0x6+-0x52c*-0x8)]=_0x2338f6*_0x578faa+_0x317ea6*_0x22f1a3+_0x5b7817*_0x2cbc46+_0x387e65,_0x624179[_0x5826e2+(-0x210+-0x36e*0x8+-0x4eb*-0x6)]=_0x2338f6*_0x15953c+_0x317ea6*_0x226a9f+_0x5b7817*_0x238cd7+_0xbd941;}else{if(_0x4717af===gs||_0x4717af===yi){A_['invertMat4'](_0x117e68)['transpose']();const [_0x39dcad,_0x4d60eb,_0x4beb73,_0xf265fb,_0x3d6862,_0x3899a1,_0x236071,_0x7f011b,_0x180409]=A_['data'];let _0x459887,_0x257d31,_0x2dfc76;for(let _0x4eeffe=-0x2087*-0x1+0x1fb4+-0x403b;_0x4eeffe<_0x29f9cd;_0x4eeffe+=_0x5d0654['numCompone'+'nts'])_0x459887=_0x624179[_0x4eeffe],_0x257d31=_0x624179[_0x4eeffe+(-0x1f18+0xc10+-0x1bb*-0xb)],_0x2dfc76=_0x624179[_0x4eeffe+(0x29*0x9b+-0x1107*-0x1+-0x29d8)],_0x624179[_0x4eeffe]=_0x459887*_0x39dcad+_0x257d31*_0xf265fb+_0x2dfc76*_0x236071,_0x624179[_0x4eeffe+(-0x12d*0x13+0x51c*-0x3+0x25ac)]=_0x459887*_0x4d60eb+_0x257d31*_0x3d6862+_0x2dfc76*_0x7f011b,_0x624179[_0x4eeffe+(-0x1461+-0x11d*-0x13+-0xc4)]=_0x459887*_0x4beb73+_0x257d31*_0x3899a1+_0x2dfc76*_0x180409;}}}}if(_0x443e15){_0x5d0654=_0x26ae95[us];for(let _0x58e936=-0xf1*-0x11+0x1*0x1b9d+-0x2b9e;_0x58e936<_0x1092b8;_0x58e936++)_0x5d0654['buffer'][_0x5d0654['count']++]=_0x24d921;}if(_0x16b335['primitive'][0x1414+0x2189+-0x359d]['indexed']){_0x3c3e99=_0x16b335['primitive'][0x8d1+-0x13*-0x51+-0xed4]['base'],_0x4c70e5=_0x16b335['primitive'][0xe45+0x1371+-0x21b6]['baseVertex']||0x20e9+-0x10db+-0x100e,_0x68eb6d=_0x16b335['primitive'][0x1e54+0x23c8+-0x421c]['count'];const _0x521353=_0x16b335['indexBuffe'+'r'][0x1c62+-0xd*-0x1de+0x151*-0x28]['getFormat']();_0x1bb8d9=new Sh[_0x521353](_0x16b335['indexBuffe'+'r'][0x16ba+-0x2151+0xa97*0x1]['storage']);}else{_0x4c70e5=0x3de*0x8+-0x488+-0x1a68;const _0x3d70ec=_0x16b335['primitive'][0x1892*0x1+-0x38+0x1*-0x185a]['type'];if(_0x3d70ec===oa||_0x3d70ec===Er){if(_0x16b335['primitive'][0xedd+-0x1*0x382+-0xb5b]['count']===-0x42d*0x1+0x1091*-0x1+0xa61*0x2)_0x3c3e99=0x12bb+-0x2558+0x129d,_0x68eb6d=-0x17a2+-0x2*0x127c+0x3ca0,_0x1bb8d9=_0x3d70ec===oa?PE:ME;else{_0x68eb6d=-0x1c51*0x1+-0xc85+0x28d6;continue;}}}for(let _0x3ff200=0x1849+-0x1f33+0x6ea;_0x3ff200<_0x68eb6d;_0x3ff200++)_0xd7ed2e[_0x3ff200+_0x5319bd]=_0x1bb8d9[_0x3c3e99+_0x3ff200]+_0x4c70e5+_0x3b8f88;_0x5319bd+=_0x68eb6d,_0x3b8f88+=_0x1092b8;}_0x16b335=new Ge(this['device']);for(_0x4717af in _0x26ae95)_0x5d0654=_0x26ae95[_0x4717af],_0x16b335['setVertexS'+'tream'](_0x4717af,_0x5d0654['buffer'],_0x5d0654['numCompone'+'nts'],void(-0x4*0x984+-0x24de+0x4aee),_0x5d0654['dataType'],_0x5d0654['normalize']);_0xd7ed2e['length']>-0xccc+0x5ef+0x6dd&&_0x16b335['setIndices'](_0xd7ed2e),_0x16b335['update'](js,!(-0x1b59+-0x1141*-0x1+0xa19*0x1)),_0x443e15&&(_0x3d10af=_0x3d10af['clone'](),_0x3d10af['update']());const _0x33dc59=new He(_0x16b335,_0x3d10af,this['rootNode']);_0x33dc59['castShadow']=_0x11e681['origMeshIn'+'stances'][0x210+0x293+-0x4a3]['castShadow'],_0x33dc59['parameters']=_0x11e681['origMeshIn'+'stances'][0xe75+-0x1*0x1de+-0xc97]['parameters'],_0x33dc59['layer']=_0x11e681['origMeshIn'+'stances'][0x7ed+0x82+-0x86f]['layer'],_0x33dc59['_shaderDef'+'s']=_0x11e681['origMeshIn'+'stances'][0x10f7+0xc85+-0x1d7c]['_shaderDef'+'s'],_0x33dc59['batching']=!(-0xc7*-0x1a+-0x313*0x6+-0x1c4),_0x33dc59['cull']=_0x11e681['origMeshIn'+'stances'][-0x1daa+-0x46b+0x2215]['cull'];const _0x3b4905=this['_batchGrou'+'ps'][_0x1eb389];if(_0x3b4905&&_0x3b4905['_ui']&&(_0x33dc59['cull']=!(-0x23cd+0x1d0e+-0x90*-0xc)),_0x443e15){const _0x5d36fd=[];for(let _0x5ec925=-0x1c1*-0x1+-0x8*-0x14e+0xc31*-0x1;_0x5ec925<_0x11e681['origMeshIn'+'stances']['length'];_0x5ec925++)_0x5d36fd['push'](_0x11e681['origMeshIn'+'stances'][_0x5ec925]['node']);_0x33dc59['skinInstan'+'ce']=new y_(this['device'],_0x5d36fd,this['rootNode']);}_0x33dc59['_updateAab'+'b']=!(-0x1*-0x19ab+-0xb69+-0x1*0xe41),_0x33dc59['drawOrder']=_0x11e681['origMeshIn'+'stances'][0x194*0x2+-0x1430+0x1108]['drawOrder'],_0x33dc59['stencilFro'+'nt']=_0x11e681['origMeshIn'+'stances'][-0xa44+0x2b*0x71+-0x8b7]['stencilFro'+'nt'],_0x33dc59['stencilBac'+'k']=_0x11e681['origMeshIn'+'stances'][-0x13eb+-0xe05+0x21f0]['stencilBac'+'k'],_0x33dc59['flipFacesF'+'actor']=jd(_0x11e681['origMeshIn'+'stances'][-0x49*0x60+0x1bb5+-0x55]),_0x33dc59['castShadow']=_0x11e681['origMeshIn'+'stances'][0x1904+0xbf1*-0x2+-0x122]['castShadow'],_0x11e681['meshInstan'+'ce']=_0x33dc59,_0x11e681['updateBoun'+'dingBox']();}return this['_stats']['createTime']+=de()-_0x478f89,_0x11e681;}['updateAll'](){this['_dirtyGrou'+'ps']['length']>0x43b+-0x142a+-0xfef*-0x1&&this['generate'](this['_dirtyGrou'+'ps']);const _0x1179f5=de();for(let _0x47af6c=-0x611*0x1+-0x893*-0x4+-0x1c3b;_0x47af6c<this['_batchList']['length'];_0x47af6c++)this['_batchList'][_0x47af6c]['dynamic']&&this['_batchList'][_0x47af6c]['updateBoun'+'dingBox']();this['_stats']['updateLast'+'FrameTime']=de()-_0x1179f5;}['clone'](_0x359955,_0x46225d){const _0x22a5fe=new g_(_0x46225d,_0x359955['dynamic'],_0x359955['batchGroup'+'Id']);this['_batchList']['push'](_0x22a5fe);const _0x1ea9f5=[];for(let _0x1f29ac=0x3*0x6c5+0x1*0xf95+-0x23e4;_0x1f29ac<_0x46225d['length'];_0x1f29ac++)_0x1ea9f5['push'](_0x46225d[_0x1f29ac]['node']);return _0x22a5fe['meshInstan'+'ce']=new He(_0x359955['meshInstan'+'ce']['mesh'],_0x359955['meshInstan'+'ce']['material'],_0x359955['meshInstan'+'ce']['node']),_0x22a5fe['meshInstan'+'ce']['_updateAab'+'b']=!(-0x107*-0xb+0x13ef*0x1+-0x1*0x1f3b),_0x22a5fe['meshInstan'+'ce']['parameters']=_0x46225d[-0x94*-0x26+0x1*-0x14cf+-0x129]['parameters'],_0x22a5fe['meshInstan'+'ce']['cull']=_0x46225d[0x4*-0x7b5+-0x11ff+0x30d3*0x1]['cull'],_0x22a5fe['meshInstan'+'ce']['layer']=_0x46225d[-0x845+0x2a5*-0xb+-0x31d*-0xc]['layer'],_0x359955['dynamic']&&(_0x22a5fe['meshInstan'+'ce']['skinInstan'+'ce']=new y_(this['device'],_0x1ea9f5,this['rootNode'])),_0x22a5fe['meshInstan'+'ce']['castShadow']=_0x359955['meshInstan'+'ce']['castShadow'],_0x22a5fe;}['destroyBat'+'ch'](_0x50b83e){_0x50b83e['destroy'](this['scene'],this['_batchGrou'+'ps'][_0x50b83e['batchGroup'+'Id']]['layers']);}}const P_='uSceneColo'+'rMap';class LE extends ys{constructor(){super(...arguments),h(this,'colorRende'+'rTarget',null),h(this,'source',null);}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']);}['shouldReal'+'locate'](_0x313172,_0x4e45bd,_0x4ef2f5){if((_0x313172==null?void(-0xa1b*-0x2+-0x1730+0x2fa):_0x313172['colorBuffe'+'r']['format'])!==_0x4ef2f5)return!(0x1538+0x1d7e+0x32b6*-0x1);const _0x5c8e68=(_0x4e45bd==null?void(-0x12ed+-0x1*-0x91f+0x9ce):_0x4e45bd['width'])||this['device']['width'],_0x4e207e=(_0x4e45bd==null?void(0x7ab+0x4dc+-0xc87):_0x4e45bd['height'])||this['device']['height'];return!_0x313172||_0x5c8e68!==_0x313172['width']||_0x4e207e!==_0x313172['height'];}['allocateRe'+'nderTarget'](_0x70fb92,_0x551022,_0x143c43,_0x1f8ea3){const _0xfb24a2=new _e(_0x143c43,{'name':P_,'format':_0x1f8ea3,'width':_0x551022?_0x551022['colorBuffe'+'r']['width']:_0x143c43['width'],'height':_0x551022?_0x551022['colorBuffe'+'r']['height']:_0x143c43['height'],'mipmaps':!(-0xde*-0x1b+0x5f4+-0x1d5e),'minFilter':ma,'magFilter':vt,'addressU':ue,'addressV':ue});return _0x70fb92?(_0x70fb92['destroyFra'+'meBuffers'](),_0x70fb92['_colorBuff'+'er']=_0xfb24a2,_0x70fb92['_colorBuff'+'ers']=[_0xfb24a2]):_0x70fb92=new gt({'name':'ColorGrabR'+'T','colorBuffer':_0xfb24a2,'depth':!(0x3af*-0x5+-0x2526+0x3792),'stencil':!(-0xb5a*-0x2+-0x11cb+-0x1*0x4e8),'autoResolve':!(-0x5b*0x6d+0x1*0x19bd+-0x1*-0xd03)}),_0x70fb92;}['releaseRen'+'derTarget'](_0x374529){_0x374529&&(_0x374529['destroyTex'+'tureBuffer'+'s'](),_0x374529['destroy']());}['frameUpdat'+'e'](){const _0x32b91d=this['device'],_0x4b7068=this['source'],_0x312cb7=(_0x4b7068==null?void(0x1*-0xcab+0x2384+0x16d9*-0x1):_0x4b7068['colorBuffe'+'r']['format'])??this['device']['backBuffer'+'Format'];this['shouldReal'+'locate'](this['colorRende'+'rTarget'],_0x4b7068==null?void(0x20e*-0xe+0x2417*-0x1+0x40db):_0x4b7068['colorBuffe'+'r'],_0x312cb7)&&(this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']),this['colorRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['colorRende'+'rTarget'],_0x4b7068,_0x32b91d,_0x312cb7));const _0x545809=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x32b91d['scope']['resolve'](P_)['setValue'](_0x545809);}['execute'](){const _0x5c2756=this['device'];Q['pushGpuMar'+'ker'](_0x5c2756,'GRAB-COLOR');const _0x227308=this['source'],_0x494c8b=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x5c2756['isWebGPU']?(_0x5c2756['copyRender'+'Target'](_0x227308,this['colorRende'+'rTarget'],!(-0x5*0x55d+-0x1*-0x94a+0x1187),!(0x1e4d*0x1+0x2*-0xe85+0x7*-0x2e)),_0x5c2756['mipmapRend'+'erer']['generate'](this['colorRende'+'rTarget']['colorBuffe'+'r']['impl'])):(_0x5c2756['copyRender'+'Target'](_0x227308,this['colorRende'+'rTarget'],!(0x537+-0x87c*0x2+0x3eb*0x3),!(0x1*-0x1753+0x5e*0x4c+-0x494)),_0x5c2756['activeText'+'ure'](_0x5c2756['maxCombine'+'dTextures']-(-0x4fc+-0x4*-0x33d+-0x1*0x7f7)),_0x5c2756['bindTextur'+'e'](_0x494c8b),_0x5c2756['gl']['generateMi'+'pmap'](_0x494c8b['impl']['_glTarget'])),Q['popGpuMark'+'er'](_0x5c2756);}}const M_='uSceneDept'+'hMap';class RE extends ys{constructor(_0x3d65df,_0x327543){super(_0x3d65df),h(this,'depthRende'+'rTarget',null),h(this,'camera',null),this['camera']=_0x327543;}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']);}['shouldReal'+'locate'](_0x4bcd7d,_0xa749f8){const _0x499a4e=(_0xa749f8==null?void(0x2*0xd1f+-0x209c+0x65e):_0xa749f8['width'])||this['device']['width'],_0x5760e8=(_0xa749f8==null?void(-0x72a+-0x1*-0x1e8f+-0x1765):_0xa749f8['height'])||this['device']['height'];return!_0x4bcd7d||_0x499a4e!==_0x4bcd7d['width']||_0x5760e8!==_0x4bcd7d['height'];}['allocateRe'+'nderTarget'](_0x1348cc,_0x415f59,_0x4cae37,_0x504f04,_0x4496cd){const _0x27dc17=new _e(_0x4cae37,{'name':M_,'format':_0x504f04,'width':_0x415f59?_0x415f59['colorBuffe'+'r']['width']:_0x4cae37['width'],'height':_0x415f59?_0x415f59['colorBuffe'+'r']['height']:_0x4cae37['height'],'mipmaps':!(-0x33f+0x2*0xbd7+0xa*-0x20b),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue});return _0x1348cc?(_0x1348cc['destroyFra'+'meBuffers'](),_0x4496cd?_0x1348cc['_depthBuff'+'er']=_0x27dc17:(_0x1348cc['_colorBuff'+'er']=_0x27dc17,_0x1348cc['_colorBuff'+'ers']=[_0x27dc17])):_0x1348cc=new gt({'name':'DepthGrabR'+'T','colorBuffer':_0x4496cd?null:_0x27dc17,'depthBuffer':_0x4496cd?_0x27dc17:null,'depth':!_0x4496cd,'stencil':_0x4cae37['supportsSt'+'encil'],'autoResolve':!(0x54b*-0x4+-0x7eb*-0x2+0x557)}),_0x1348cc;}['releaseRen'+'derTarget'](_0x221adb){_0x221adb&&(_0x221adb['destroyTex'+'tureBuffer'+'s'](),_0x221adb['destroy']());}['before'](){var _0x2f82a7,_0x12ced4;const _0x21d268=this['camera'],_0x4516a8=this['device'],_0x331fd2=(_0x21d268==null?void(-0x101f*0x2+0x24d1+-0x493*0x1):_0x21d268['renderTarg'+'et'])??_0x4516a8['backBuffer'];let _0x1068d9=!(-0x832*-0x4+0xdff*0x2+-0x3cc6),_0x15b593=_0x331fd2['stencil']?sd:$i;_0x4516a8['isWebGPU']&&_0x331fd2['samples']>-0x112*-0x21+-0x21cd+-0x2*0xc2&&(_0x15b593=Ji,_0x1068d9=!(0xfe1+0x11*-0x71+-0x85f));const _0x9444e0=((_0x2f82a7=_0x21d268['renderTarg'+'et'])==null?void(0xc*0x35+-0x1d94+0x1b18):_0x2f82a7['depthBuffe'+'r'])??((_0x12ced4=_0x21d268['renderTarg'+'et'])==null?void(0x59*-0x35+0x317+0x7ab*0x2):_0x12ced4['colorBuffe'+'r']);this['shouldReal'+'locate'](this['depthRende'+'rTarget'],_0x9444e0)&&(this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']),this['depthRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['depthRende'+'rTarget'],_0x21d268['renderTarg'+'et'],_0x4516a8,_0x15b593,_0x1068d9));const _0x427947=_0x1068d9?this['depthRende'+'rTarget']['depthBuffe'+'r']:this['depthRende'+'rTarget']['colorBuffe'+'r'];_0x4516a8['scope']['resolve'](M_)['setValue'](_0x427947);}['execute'](){const _0x2ea622=this['device'];if(Q['pushGpuMar'+'ker'](_0x2ea622,'GRAB-DEPTH'),_0x2ea622['isWebGL2']&&_0x2ea622['renderTarg'+'et']['samples']>-0x17d7*-0x1+0xc69+-0x1*0x243f){const _0x136ca1=_0x2ea622['renderTarg'+'et']['impl']['_glFrameBu'+'ffer'],_0x35909c=this['depthRende'+'rTarget'];_0x2ea622['renderTarg'+'et']=_0x35909c,_0x2ea622['updateBegi'+'n'](),this['depthRende'+'rTarget']['impl']['internalRe'+'solve'](_0x2ea622,_0x136ca1,_0x35909c['impl']['_glFrameBu'+'ffer'],this['depthRende'+'rTarget'],_0x2ea622['gl']['DEPTH_BUFF'+'ER_BIT']);}else _0x2ea622['copyRender'+'Target'](_0x2ea622['renderTarg'+'et'],this['depthRende'+'rTarget'],!(-0x1f5b+-0x229a+0x41f6),!(-0xb5*0xf+-0xc*0x283+0x28bf));Q['popGpuMark'+'er'](_0x2ea622);}}class vv{constructor(){h(this,'_gammaCorr'+'ection',Xc),h(this,'_toneMappi'+'ng',sm),h(this,'_srgbRende'+'rTarget',!(-0xc52+-0x453+0x10a6)),h(this,'_ssaoEnabl'+'ed',!(0x179e+0x23a9+-0x1*0x3b46)),h(this,'_fog',Kn),h(this,'_sceneDept'+'hMapLinear',!(0x40*0x14+-0x19b*0x9+0xf2*0xa)),h(this,'_hash'),h(this,'_defines',new Map()),h(this,'_definesDi'+'rty',!(0x111*0xe+-0x2060+0x1172));}get['hash'](){if(this['_hash']===void(0x1de+-0x205a+0x79f*0x4)){const _0x322670=this['gammaCorre'+'ction']+'_'+this['toneMappin'+'g']+'_'+this['srgbRender'+'Target']+'_'+this['fog']+'_'+this['ssaoEnable'+'d']+'_'+this['sceneDepth'+'MapLinear'];this['_hash']=hi(_0x322670);}return this['_hash'];}get['defines'](){const _0x896d61=this['_defines'];return this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(-0x1*-0xb85+-0x256b+-0x1*-0x19e7),_0x896d61['clear'](),this['_sceneDept'+'hMapLinear']&&_0x896d61['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',!(-0xa03+-0x59*-0x4a+-0x95*0x1b)),_0x896d61['set']('FOG',this['_fog']['toUpperCas'+'e']()),_0x896d61['set']('TONEMAP',ov[this['_toneMappi'+'ng']]),_0x896d61['set']('GAMMA',Hw[this['shaderOutp'+'utGamma']])),_0x896d61;}['markDirty'](){this['_hash']=void(-0xd*0x9d+0x15b1+-0x4*0x36e),this['_definesDi'+'rty']=!(0xa80+-0x2135*0x1+0x16b5);}set['fog'](_0x107948){this['_fog']!==_0x107948&&(this['_fog']=_0x107948,this['markDirty']());}get['fog'](){return this['_fog'];}set['ssaoEnable'+'d'](_0x5c5789){this['_ssaoEnabl'+'ed']!==_0x5c5789&&(this['_ssaoEnabl'+'ed']=_0x5c5789,this['markDirty']());}get['ssaoEnable'+'d'](){return this['_ssaoEnabl'+'ed'];}set['gammaCorre'+'ction'](_0x14f84b){this['_gammaCorr'+'ectionAssi'+'gned']=!(-0x347*0x5+-0x223b+-0x3e*-0xd1),this['_gammaCorr'+'ection']!==_0x14f84b&&(this['_gammaCorr'+'ection']=_0x14f84b,this['markDirty']());}get['gammaCorre'+'ction'](){return this['_gammaCorr'+'ection'];}set['toneMappin'+'g'](_0x104e8a){this['_toneMappi'+'ng']!==_0x104e8a&&(this['_toneMappi'+'ng']=_0x104e8a,this['markDirty']());}get['toneMappin'+'g'](){return this['_toneMappi'+'ng'];}set['srgbRender'+'Target'](_0x3417a7){this['_srgbRende'+'rTarget']!==_0x3417a7&&(this['_srgbRende'+'rTarget']=_0x3417a7,this['markDirty']());}get['srgbRender'+'Target'](){return this['_srgbRende'+'rTarget'];}set['sceneDepth'+'MapLinear'](_0x138a05){this['_sceneDept'+'hMapLinear']!==_0x138a05&&(this['_sceneDept'+'hMapLinear']=_0x138a05,this['markDirty']());}get['sceneDepth'+'MapLinear'](){return this['_sceneDept'+'hMapLinear'];}get['shaderOutp'+'utGamma'](){return this['_gammaCorr'+'ection']===Xc&&!this['_srgbRende'+'rTarget']?Xc:Ll;}}const La=new D(),ao=new D(),D_=new D(),I_=new te(),OE=[new D(),new D(),new D(),new D(),new D(),new D(),new D(),new D()];class Fl{constructor(){h(this,'shaderPass'+'Info',null),h(this,'renderPass'+'ColorGrab',null),h(this,'renderPass'+'DepthGrab',null),h(this,'fogParams',null),h(this,'shaderPara'+'ms',new vv()),h(this,'renderPass'+'es',[]),h(this,'jitter',0x3a*-0x67+0x409*0x5+0x329),(this['_aspectRat'+'io']=(0x1100+-0x2059+0xf69)/(-0x3*-0xcbd+0x5d*-0x44+-0xd7a),this['_aspectRat'+'ioMode']=hm,this['_calculate'+'Projection']=null,this['_calculate'+'Transform']=null,this['_clearColo'+'r']=new ie(0x1a00+-0x149f*0x1+-0x11*0x51+0.75,-0xfcc*0x2+-0x4*0x166+0x2530+0.75,-0x80*-0x8+0x10*0xe8+0x25*-0x80+0.75,-0x146f+-0xbe8+0x2058),this['_clearColo'+'rBuffer']=!(0x1*-0xffb+0x1bd6+-0xbdb),this['_clearDept'+'h']=-0x4e3+-0x437*0x3+-0x1189*-0x1,this['_clearDept'+'hBuffer']=!(0x25*-0x49+0x7cf*-0x2+0x8b9*0x3),this['_clearSten'+'cil']=-0x89b*0x2+0x1fa6+-0xe70,this['_clearSten'+'cilBuffer']=!(0x1f80+0x20df+-0x405f),this['_cullFaces']=!(-0x1ebf+0x1e*0x9e+0xc3b),this['_farClip']=-0x2*-0x6d+0x234d+-0x5*0x673,this['_flipFaces']=!(-0x137*0x8+0x2*-0x8a5+0x901*0x3),this['_fov']=-0x4*0xcc+0x1de8+-0x1a8b,this['_frustumCu'+'lling']=!(-0x1*-0x1ddb+-0x88*0x1d+0x4d1*-0x3),this['_horizonta'+'lFov']=!(0x2f9+0x5a9*0x1+-0x8a1),this['_layers']=[er,ps,Kp,Il,Zp],this['_layersSet']=new Set(this['_layers']),this['_nearClip']=-0x1bd0+-0x1bf3+0x37c3+0.1,this['_node']=null,this['_orthoHeig'+'ht']=0x9*0x335+0x151c+-0x31ef,this['_projectio'+'n']=ni,this['_rect']=new re(-0x65e+-0x3*0xc0d+0x1*0x2a85,-0xde*-0x1+-0x1a93+0x19b5,0xf4d+0x6d0+-0x161c,0x1e77+0x1314+0x11*-0x2ea),this['_renderTar'+'get']=null,this['_scissorRe'+'ct']=new re(-0x1b63+-0x1114*0x1+0x2c77,0x1*0x2005+-0xf3*-0x11+0x17*-0x218,-0xc57+-0x1abf*-0x1+-0xe67,-0x11e7+-0xe*-0xc1+0x75a),this['_scissorRe'+'ctClear']=!(0x1161*0x1+-0x1f*-0xfc+-0x2*0x17f2),this['_aperture']=-0x1*0x271+-0xba1*0x3+0x2564,this['_shutter']=(-0x1bad+-0x4d6+0x2084)/(0x1a1b*0x1+0x234c+-0x397f),this['_sensitivi'+'ty']=0x2*0x2ea+-0x1499*-0x1+-0x1685,this['_projMat']=new te(),this['_projMatDi'+'rty']=!(0x2580+-0x1b49+-0xa37),this['_projMatSk'+'ybox']=new te(),this['_viewMat']=new te(),this['_viewMatDi'+'rty']=!(-0x14d9+-0x11*0xe1+0x23ca),this['_viewProjM'+'at']=new te(),this['_viewProjM'+'atDirty']=!(-0x167b+0x18a4+0x1*-0x229),this['_shaderMat'+'ricesVersi'+'on']=-0x1be6+0x11e*0x1a+0x126*-0x1,this['_viewProjI'+'nverse']=new te(),this['_viewProjC'+'urrent']=null,this['_viewProjP'+'revious']=new te(),this['_jitters']=[0xe*0x256+-0x3d*-0x80+-0x3f34,-0x2572+-0x17b1*0x1+0x2f*0x14d,-0x1f61+0x3*0x435+0x12c2,0x1c*-0x2+-0x267+0x29f],this['frustum']=new yx(),this['_xr']=null,this['_xrPropert'+'ies']={'horizontalFov':this['_horizonta'+'lFov'],'fov':this['_fov'],'aspectRatio':this['_aspectRat'+'io'],'farClip':this['_farClip'],'nearClip':this['_nearClip']});}['destroy'](){var _0xa5a3d4,_0x4b6698;(_0xa5a3d4=this['renderPass'+'ColorGrab'])==null||_0xa5a3d4['destroy'](),this['renderPass'+'ColorGrab']=null,(_0x4b6698=this['renderPass'+'DepthGrab'])==null||_0x4b6698['destroy'](),this['renderPass'+'DepthGrab']=null,this['renderPass'+'es']['length']=0xb*-0x20b+0x1*-0x177e+0x29*0x11f;}['_storeShad'+'erMatrices'](_0x32037f,_0x37eaa7,_0x526b6d,_0x117d7e){this['_shaderMat'+'ricesVersi'+'on']!==_0x117d7e&&(this['_shaderMat'+'ricesVersi'+'on']=_0x117d7e,this['_viewProjP'+'revious']['copy'](this['_viewProjC'+'urrent']??_0x32037f),this['_viewProjC'+'urrent']??(this['_viewProjC'+'urrent']=new te()),this['_viewProjC'+'urrent']['copy'](_0x32037f),this['_viewProjI'+'nverse']['invert'](_0x32037f),this['_jitters'][-0x4f*0x3d+0x106b+0x26a]=this['_jitters'][0x195a+-0x943*-0x3+-0x1*0x3523],this['_jitters'][0x15fb+-0x232*-0x7+0x213*-0x12]=this['_jitters'][0x9*-0x1e3+-0x1143+0x31d*0xb],this['_jitters'][-0xa32+0x4*0x7ba+-0x14b6]=_0x37eaa7,this['_jitters'][-0xc24+-0x1*0x167d+-0x11e*-0x1f]=_0x526b6d);}get['fullSizeCl'+'earRect'](){const _0x38c793=this['_scissorRe'+'ctClear']?this['scissorRec'+'t']:this['_rect'];return _0x38c793['x']===0x1bfd+-0x2558+-0x1df*-0x5&&_0x38c793['y']===0x2195*-0x1+-0xff9+-0x2*-0x18c7&&_0x38c793['z']===0x8d9+0x1b36+-0x240e&&_0x38c793['w']===-0x1*0x2360+0x1303+-0x82f*-0x2;}set['aspectRati'+'o'](_0x47e3ce){this['_aspectRat'+'io']!==_0x47e3ce&&(this['_aspectRat'+'io']=_0x47e3ce,this['_projMatDi'+'rty']=!(0x2390*0x1+-0x24f9+-0x1*-0x169));}get['aspectRati'+'o'](){var _0x6c4d6b;return(_0x6c4d6b=this['xr'])!=null&&_0x6c4d6b['active']?this['_xrPropert'+'ies']['aspectRati'+'o']:this['_aspectRat'+'io'];}set['aspectRati'+'oMode'](_0x14641a){this['_aspectRat'+'ioMode']!==_0x14641a&&(this['_aspectRat'+'ioMode']=_0x14641a,this['_projMatDi'+'rty']=!(0xb75+-0x27f*-0x3+-0x12f2));}get['aspectRati'+'oMode'](){return this['_aspectRat'+'ioMode'];}set['calculateP'+'rojection'](_0x453738){this['_calculate'+'Projection']=_0x453738,this['_projMatDi'+'rty']=!(0x5*-0x83+0x1aa+0xe5);}get['calculateP'+'rojection'](){return this['_calculate'+'Projection'];}set['calculateT'+'ransform'](_0xdce6b6){this['_calculate'+'Transform']=_0xdce6b6;}get['calculateT'+'ransform'](){return this['_calculate'+'Transform'];}set['clearColor'](_0x1d2fb0){this['_clearColo'+'r']['copy'](_0x1d2fb0);}get['clearColor'](){return this['_clearColo'+'r'];}set['clearColor'+'Buffer'](_0x2ca4d1){this['_clearColo'+'rBuffer']=_0x2ca4d1;}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'](_0x289a15){this['_clearDept'+'h']=_0x289a15;}get['clearDepth'](){return this['_clearDept'+'h'];}set['clearDepth'+'Buffer'](_0x2b5615){this['_clearDept'+'hBuffer']=_0x2b5615;}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'il'](_0x3e2990){this['_clearSten'+'cil']=_0x3e2990;}get['clearStenc'+'il'](){return this['_clearSten'+'cil'];}set['clearStenc'+'ilBuffer'](_0x10507c){this['_clearSten'+'cilBuffer']=_0x10507c;}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}set['cullFaces'](_0x5eed71){this['_cullFaces']=_0x5eed71;}get['cullFaces'](){return this['_cullFaces'];}set['farClip'](_0x2abaf8){this['_farClip']!==_0x2abaf8&&(this['_farClip']=_0x2abaf8,this['_projMatDi'+'rty']=!(0xaa8+0x2002+-0x2aaa));}get['farClip'](){var _0x910bf0;return(_0x910bf0=this['xr'])!=null&&_0x910bf0['active']?this['_xrPropert'+'ies']['farClip']:this['_farClip'];}set['flipFaces'](_0x15ecb7){this['_flipFaces']=_0x15ecb7;}get['flipFaces'](){return this['_flipFaces'];}set['fov'](_0x4bccf3){this['_fov']!==_0x4bccf3&&(this['_fov']=_0x4bccf3,this['_projMatDi'+'rty']=!(-0x7*0x53+0x18e3+0x3c5*-0x6));}get['fov'](){var _0x3cfa68;return(_0x3cfa68=this['xr'])!=null&&_0x3cfa68['active']?this['_xrPropert'+'ies']['fov']:this['_fov'];}set['frustumCul'+'ling'](_0x4d0928){this['_frustumCu'+'lling']=_0x4d0928;}get['frustumCul'+'ling'](){return this['_frustumCu'+'lling'];}set['horizontal'+'Fov'](_0x33312b){this['_horizonta'+'lFov']!==_0x33312b&&(this['_horizonta'+'lFov']=_0x33312b,this['_projMatDi'+'rty']=!(-0xf2c*-0x1+0x644+0x70*-0x31));}get['horizontal'+'Fov'](){var _0x130690;return(_0x130690=this['xr'])!=null&&_0x130690['active']?this['_xrPropert'+'ies']['horizontal'+'Fov']:this['_horizonta'+'lFov'];}set['layers'](_0x4c73f8){this['_layers']=_0x4c73f8['slice'](0x121c+-0x1*-0xe80+-0x209c*0x1),this['_layersSet']=new Set(this['_layers']);}get['layers'](){return this['_layers'];}get['layersSet'](){return this['_layersSet'];}set['nearClip'](_0x49a8ec){this['_nearClip']!==_0x49a8ec&&(this['_nearClip']=_0x49a8ec,this['_projMatDi'+'rty']=!(-0x65*0x7+-0x2f*0x31+0xbc2));}get['nearClip'](){var _0x200691;return(_0x200691=this['xr'])!=null&&_0x200691['active']?this['_xrPropert'+'ies']['nearClip']:this['_nearClip'];}set['node'](_0x946b78){this['_node']=_0x946b78;}get['node'](){return this['_node'];}set['orthoHeigh'+'t'](_0x431408){this['_orthoHeig'+'ht']!==_0x431408&&(this['_orthoHeig'+'ht']=_0x431408,this['_projMatDi'+'rty']=!(0x84f+0x7a9+-0xff8));}get['orthoHeigh'+'t'](){return this['_orthoHeig'+'ht'];}set['projection'](_0x2a7105){this['_projectio'+'n']!==_0x2a7105&&(this['_projectio'+'n']=_0x2a7105,this['_projMatDi'+'rty']=!(0x1*0xa75+-0x24fd+-0x46c*-0x6));}get['projection'](){return this['_projectio'+'n'];}get['projection'+'Matrix'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMat'];}set['rect'](_0x410480){this['_rect']['copy'](_0x410480);}get['rect'](){return this['_rect'];}set['renderTarg'+'et'](_0x4fdfaf){this['_renderTar'+'get']=_0x4fdfaf;}get['renderTarg'+'et'](){return this['_renderTar'+'get'];}set['scissorRec'+'t'](_0x2ef862){this['_scissorRe'+'ct']['copy'](_0x2ef862);}get['scissorRec'+'t'](){return this['_scissorRe'+'ct'];}get['viewMatrix'](){if(this['_viewMatDi'+'rty']){const _0x20b095=this['_node']['getWorldTr'+'ansform']();this['_viewMat']['copy'](_0x20b095)['invert'](),this['_viewMatDi'+'rty']=!(-0x1a5c+0x1bba+-0x15d);}return this['_viewMat'];}set['aperture'](_0x41c12b){this['_aperture']=_0x41c12b;}get['aperture'](){return this['_aperture'];}set['sensitivit'+'y'](_0x1198e7){this['_sensitivi'+'ty']=_0x1198e7;}get['sensitivit'+'y'](){return this['_sensitivi'+'ty'];}set['shutter'](_0xc59f5c){this['_shutter']=_0xc59f5c;}get['shutter'](){return this['_shutter'];}set['xr'](_0x340ad4){this['_xr']!==_0x340ad4&&(this['_xr']=_0x340ad4,this['_projMatDi'+'rty']=!(-0x1578+0x1f8+0x1380));}get['xr'](){return this['_xr'];}['clone'](){return new Fl()['copy'](this);}['copy'](_0x52a449){return this['_aspectRat'+'io']=_0x52a449['_aspectRat'+'io'],this['_farClip']=_0x52a449['_farClip'],this['_fov']=_0x52a449['_fov'],this['_horizonta'+'lFov']=_0x52a449['_horizonta'+'lFov'],this['_nearClip']=_0x52a449['_nearClip'],this['_xrPropert'+'ies']['aspectRati'+'o']=_0x52a449['_xrPropert'+'ies']['aspectRati'+'o'],this['_xrPropert'+'ies']['farClip']=_0x52a449['_xrPropert'+'ies']['farClip'],this['_xrPropert'+'ies']['fov']=_0x52a449['_xrPropert'+'ies']['fov'],this['_xrPropert'+'ies']['horizontal'+'Fov']=_0x52a449['_xrPropert'+'ies']['horizontal'+'Fov'],this['_xrPropert'+'ies']['nearClip']=_0x52a449['_xrPropert'+'ies']['nearClip'],this['aspectRati'+'oMode']=_0x52a449['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x52a449['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x52a449['calculateT'+'ransform'],this['clearColor']=_0x52a449['clearColor'],this['clearColor'+'Buffer']=_0x52a449['clearColor'+'Buffer'],this['clearDepth']=_0x52a449['clearDepth'],this['clearDepth'+'Buffer']=_0x52a449['clearDepth'+'Buffer'],this['clearStenc'+'il']=_0x52a449['clearStenc'+'il'],this['clearStenc'+'ilBuffer']=_0x52a449['clearStenc'+'ilBuffer'],this['cullFaces']=_0x52a449['cullFaces'],this['flipFaces']=_0x52a449['flipFaces'],this['frustumCul'+'ling']=_0x52a449['frustumCul'+'ling'],this['layers']=_0x52a449['layers'],this['orthoHeigh'+'t']=_0x52a449['orthoHeigh'+'t'],this['projection']=_0x52a449['projection'],this['rect']=_0x52a449['rect'],this['renderTarg'+'et']=_0x52a449['renderTarg'+'et'],this['scissorRec'+'t']=_0x52a449['scissorRec'+'t'],this['aperture']=_0x52a449['aperture'],this['shutter']=_0x52a449['shutter'],this['sensitivit'+'y']=_0x52a449['sensitivit'+'y'],this['shaderPass'+'Info']=_0x52a449['shaderPass'+'Info'],this['jitter']=_0x52a449['jitter'],this['_projMatDi'+'rty']=!(-0x239*-0xb+0x987+-0x21fa),this;}['_enableRen'+'derPassCol'+'orGrab'](_0x33c3e6,_0x54d18e){var _0x318d19;_0x54d18e?this['renderPass'+'ColorGrab']||(this['renderPass'+'ColorGrab']=new LE(_0x33c3e6)):((_0x318d19=this['renderPass'+'ColorGrab'])==null||_0x318d19['destroy'](),this['renderPass'+'ColorGrab']=null);}['_enableRen'+'derPassDep'+'thGrab'](_0x10530e,_0x56db7c,_0x48c0d2){var _0x416181;_0x48c0d2?this['renderPass'+'DepthGrab']||(this['renderPass'+'DepthGrab']=new RE(_0x10530e,this)):((_0x416181=this['renderPass'+'DepthGrab'])==null||_0x416181['destroy'](),this['renderPass'+'DepthGrab']=null);}['_updateVie'+'wProjMat'](){(this['_projMatDi'+'rty']||this['_viewMatDi'+'rty']||this['_viewProjM'+'atDirty'])&&(this['_viewProjM'+'at']['mul2'](this['projection'+'Matrix'],this['viewMatrix']),this['_viewProjM'+'atDirty']=!(-0x1*-0x6f7+0x2521+-0x2c17*0x1));}['worldToScr'+'een'](_0x15d870,_0x122722,_0x368c87,_0xc98bef=new D()){this['_updateVie'+'wProjMat'](),this['_viewProjM'+'at']['transformP'+'oint'](_0x15d870,_0xc98bef);const _0x3c9657=this['_viewProjM'+'at']['data'],_0x4d0084=_0x15d870['x']*_0x3c9657[-0x2a*0x95+-0x1*-0x1327+-0x2*-0x2a7]+_0x15d870['y']*_0x3c9657[0xd60+0x17*-0x115+-0xe*-0xd3]+_0x15d870['z']*_0x3c9657[-0x680+0x1e28+-0x179d]+(-0x1b4a+0xb0e+0x103d)*_0x3c9657[0xa83+-0x25*0x1a+-0x6b2];_0xc98bef['x']=(_0xc98bef['x']/_0x4d0084+(0x1aa+0x603+-0x7ac))*(0x9*-0x1c1+0x21fc+-0x1233+0.5),_0xc98bef['y']=(0x1*0x1db3+-0x1*-0x1f7+-0x1fa9-_0xc98bef['y']/_0x4d0084)*(-0xb0d*-0x1+0x12b0+0x1dbd*-0x1+0.5);const {x:_0x5b29a9,y:_0x249a67,z:_0x10f419,w:_0x38cb14}=this['_rect'];return _0xc98bef['x']=_0xc98bef['x']*_0x10f419*_0x122722+_0x5b29a9*_0x122722,_0xc98bef['y']=_0xc98bef['y']*_0x38cb14*_0x368c87+(0x2*-0xf67+0x103d+0xe92-_0x249a67-_0x38cb14)*_0x368c87,_0xc98bef;}['screenToWo'+'rld'](_0x59b364,_0x2dcde8,_0x339358,_0x4e84f2,_0x4b2e40,_0x562877=new D()){const {x:_0x1bf78e,y:_0x392e65,z:_0x3ce63c,w:_0x2b7101}=this['_rect'],_0x2f7521=this['farClip']-this['nearClip'];if(La['set']((_0x59b364-_0x1bf78e*_0x4e84f2)/(_0x3ce63c*_0x4e84f2),0x355*0x8+-0xfd1+-0xad6*0x1-(_0x2dcde8-(-0x1c3a*-0x1+-0x1739+0x50*-0x10-_0x392e65-_0x2b7101)*_0x4b2e40)/(_0x2b7101*_0x4b2e40),_0x339358/_0x2f7521),La['mulScalar'](0x2b3*0x4+-0xc4+0x1*-0xa06),La['sub'](D['ONE']),this['_projectio'+'n']===ni){te['_getPerspe'+'ctiveHalfS'+'ize'](ao,this['fov'],this['aspectRati'+'o'],this['nearClip'],this['horizontal'+'Fov']),ao['x']*=La['x'],ao['y']*=La['y'];const _0x327756=this['_node']['getWorldTr'+'ansform']();ao['z']=-this['nearClip'],_0x327756['transformP'+'oint'](ao,D_);const _0x487cad=this['_node']['getPositio'+'n']();_0x562877['sub2'](D_,_0x487cad),_0x562877['normalize'](),_0x562877['mulScalar'](_0x339358),_0x562877['add'](_0x487cad);}else this['_updateVie'+'wProjMat'](),I_['copy'](this['_viewProjM'+'at'])['invert'](),I_['transformP'+'oint'](La,_0x562877);return _0x562877;}['_evaluateP'+'rojectionM'+'atrix'](){if(this['_projMatDi'+'rty']){if(this['_projectio'+'n']===ni)this['_projMat']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip'],this['horizontal'+'Fov']),this['_projMatSk'+'ybox']['copy'](this['_projMat']);else{const _0x3eff18=this['_orthoHeig'+'ht'],_0x298761=_0x3eff18*this['aspectRati'+'o'];this['_projMat']['setOrtho'](-_0x298761,_0x298761,-_0x3eff18,_0x3eff18,this['nearClip'],this['farClip']),this['_projMatSk'+'ybox']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip']);}this['_projMatDi'+'rty']=!(-0xbfb*0x2+0xf37+0x5*0x1c0);}}['getProject'+'ionMatrixS'+'kybox'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMatSk'+'ybox'];}['getExposur'+'e'](){const _0x58a1d6=Math['log2'](this['_aperture']*this['_aperture']/this['_shutter']*(0x12c*-0x17+-0x2f4*0x5+-0x1*-0x2a1c)/this['_sensitivi'+'ty']);return(-0x225*0x3+0x2235+-0x1bc5)/(Math['pow'](-0x5*0x2fe+0xc7+0xe31,_0x58a1d6)*(-0x5*-0x103+-0x21ad+-0x1c9f*-0x1+0.19999999999999996));}['getScreenS'+'ize'](_0x2c6c8c){if(this['_projectio'+'n']===ni){const _0x585b5c=this['_node']['getPositio'+'n']()['distance'](_0x2c6c8c['center']);if(_0x585b5c<_0x2c6c8c['radius'])return 0x971+0x244f+-0x2dbf;const _0x59f4d2=Math['asin'](_0x2c6c8c['radius']/_0x585b5c),_0x6a4254=Math['tan'](_0x59f4d2),_0x1dc9ba=Math['tan'](this['fov']/(0x279+0x1278+-0x14ef*0x1)*Y['DEG_TO_RAD']);return Math['min'](_0x6a4254/_0x1dc9ba,-0x12c+-0x1d2a+0xa1d*0x3);}return Y['clamp'](_0x2c6c8c['radius']/this['_orthoHeig'+'ht'],0x823+-0x2*0x214+0x1*-0x3fb,0x97*0x39+-0x1f4b*-0x1+-0x40e9);}['getFrustum'+'Corners'](_0x399e32=this['nearClip'],_0x5e9e5b=this['farClip']){const _0x1bbb0b=this['fov']*Math['PI']/(-0x2344+-0x19e0*-0x1+0xa18);let _0x1a4988,_0x1ebc8a;this['projection']===ni?this['horizontal'+'Fov']?(_0x1a4988=_0x399e32*Math['tan'](_0x1bbb0b/(0x2194+0x15e1*0x1+-0x3773)),_0x1ebc8a=_0x1a4988/this['aspectRati'+'o']):(_0x1ebc8a=_0x399e32*Math['tan'](_0x1bbb0b/(-0xeed+-0x12a7+0x2196)),_0x1a4988=_0x1ebc8a*this['aspectRati'+'o']):(_0x1ebc8a=this['_orthoHeig'+'ht'],_0x1a4988=_0x1ebc8a*this['aspectRati'+'o']);const _0x31e398=OE;return _0x31e398[0x13d5+-0x66e*0x2+-0x6f9]['x']=_0x1a4988,_0x31e398[0x193d+0xb34+0x2471*-0x1]['y']=-_0x1ebc8a,_0x31e398[-0x24e8+0x11f0+0x12f8]['z']=-_0x399e32,_0x31e398[-0x1b25+0x1cb5*-0x1+0x37db]['x']=_0x1a4988,_0x31e398[-0x1*0x641+0x713+-0xb*0x13]['y']=_0x1ebc8a,_0x31e398[0x1*-0x14c4+-0xe43+0x3b*0x98]['z']=-_0x399e32,_0x31e398[0x830+-0xf03+0x6d5]['x']=-_0x1a4988,_0x31e398[0x5*0x455+-0x1b57+0x5b0]['y']=_0x1ebc8a,_0x31e398[0x18d5+-0xd06*0x1+0x35*-0x39]['z']=-_0x399e32,_0x31e398[0x788+-0xc34*-0x1+-0x13b9]['x']=-_0x1a4988,_0x31e398[-0x2*-0x69a+-0x1*-0x184a+-0x257b]['y']=-_0x1ebc8a,_0x31e398[-0x2f7+-0xb3a+-0xe34*-0x1]['z']=-_0x399e32,this['_projectio'+'n']===ni&&(this['horizontal'+'Fov']?(_0x1a4988=_0x5e9e5b*Math['tan'](_0x1bbb0b/(-0x2325+-0x7*0x2b9+0x3636)),_0x1ebc8a=_0x1a4988/this['aspectRati'+'o']):(_0x1ebc8a=_0x5e9e5b*Math['tan'](_0x1bbb0b/(0x11*0x1d2+-0x2400+-0xc*-0x6c)),_0x1a4988=_0x1ebc8a*this['aspectRati'+'o'])),_0x31e398[-0xe71*-0x2+0xe7*0x17+-0x319f*0x1]['x']=_0x1a4988,_0x31e398[-0x34*0xb5+-0xae5*-0x1+-0x8d*-0x2f]['y']=-_0x1ebc8a,_0x31e398[0x1fd*0x1+-0x979*0x2+0x10f9]['z']=-_0x5e9e5b,_0x31e398[0xede+-0x1196+0x2bd]['x']=_0x1a4988,_0x31e398[0x5*0x25+-0x1138+0x1084]['y']=_0x1ebc8a,_0x31e398[0x231b+0x2*0xff5+-0x4*0x10c0]['z']=-_0x5e9e5b,_0x31e398[-0x1169+0xb5*0x1a+-0x9*0x1b]['x']=-_0x1a4988,_0x31e398[-0x21fb+0xfc3+-0x91f*-0x2]['y']=_0x1ebc8a,_0x31e398[-0x202c+0x885+0x17ad]['z']=-_0x5e9e5b,_0x31e398[0x125f+-0x30e+0x13*-0xce]['x']=-_0x1a4988,_0x31e398[-0x124e*0x2+0x1*0xa0a+-0x26b*-0xb]['y']=-_0x1ebc8a,_0x31e398[0x67*0x16+-0x18d*-0x19+-0x17cc*0x2]['z']=-_0x5e9e5b,_0x31e398;}['setXrPrope'+'rties'](_0x4c7ad7){Object['assign'](this['_xrPropert'+'ies'],_0x4c7ad7),this['_projMatDi'+'rty']=!(-0x15dd*0x1+0x21a7+-0x3*0x3ee);}}const L_=new te(),R_=new te(),O_=new te(),gr=class gr{static['create'](_0xb1ddf7,_0x3996df,_0x12bfe2){const _0x842cb7=new Fl();switch(_0x842cb7['node']=new Ie(_0xb1ddf7),_0x842cb7['aspectRati'+'o']=0x6e*0x40+-0x860+-0x131f,_0x842cb7['aspectRati'+'oMode']=lu,_0x842cb7['_scissorRe'+'ctClear']=!(-0x1*-0x1b3+0x2211+-0x23c4),_0x3996df){case Ke:_0x842cb7['node']['setRotatio'+'n'](gr['pointLight'+'Rotations'][_0x12bfe2]),_0x842cb7['fov']=-0xf3f+-0x6b+0x32*0x52,_0x842cb7['projection']=ni;break;case Ze:_0x842cb7['projection']=ni;break;case ve:_0x842cb7['projection']=En;break;}return _0x842cb7;}static['evalSpotCo'+'okieMatrix'](_0xf9e830){let _0x37828f=gr['_spotCooki'+'eCamera'];_0x37828f||(_0x37828f=gr['create']('SpotCookie'+'Camera',Ze),gr['_spotCooki'+'eCamera']=_0x37828f),_0x37828f['fov']=_0xf9e830['_outerCone'+'Angle']*(0x1bc2+0x5*0x529+0x1*-0x358d);const _0x6df641=_0x37828f['_node'];_0x6df641['setPositio'+'n'](_0xf9e830['_node']['getPositio'+'n']()),_0x6df641['setRotatio'+'n'](_0xf9e830['_node']['getRotatio'+'n']()),_0x6df641['rotateLoca'+'l'](-(-0x1c8f+0x1d52+-0x69),-0x6e*-0x59+-0x210f+0x52f*-0x1,-0x1*0x11a7+0xf22+0x285),L_['setTRS'](_0x6df641['getPositio'+'n'](),_0x6df641['getRotatio'+'n'](),D['ONE'])['invert'](),R_['mul2'](_0x37828f['projection'+'Matrix'],L_);const _0x4f2e26=_0xf9e830['cookieMatr'+'ix'],_0x4af526=_0xf9e830['atlasViewp'+'ort'];return O_['setViewpor'+'t'](_0x4af526['x'],_0x4af526['y'],_0x4af526['z'],_0x4af526['w']),_0x4f2e26['mul2'](O_,R_),_0x4f2e26;}};h(gr,'pointLight'+'Rotations',[new le()['setFromEul'+'erAngles'](-0xd0c+0x5b5+0x757,-0x1472+0x18b9*0x1+-0x1*0x3ed,0x1*-0xafc+0x1b*0x12+-0x2*-0x4e5),new le()['setFromEul'+'erAngles'](-0x313*0x8+0x19a7+0x1*-0x10f,-(-0xa7*0xf+-0x7f*0x7+-0xd*-0x10c),0x15fb+-0x1f69+0xa22),new le()['setFromEul'+'erAngles'](-0x25*-0xc5+0x2*0x12be+-0x419b,-0x1606+0x23d2+-0xdcc,-0x2401*0x1+-0x26a5+0x4aa6),new le()['setFromEul'+'erAngles'](-(0x2651+0x8a+-0x2681*0x1),-0x1*0x184d+-0xa6d+0x22ba,-0x1*-0x3c5+0xb*-0x1f6+-0x28b*-0x7),new le()['setFromEul'+'erAngles'](-0x2200+-0x11*-0x217+-0x187,0xd72+-0x6d*0x12+-0x19*0x34,-0xd64+-0x1*0x2563+0x1129*0x3),new le()['setFromEul'+'erAngles'](-0x142*0xf+-0x12*0x48+0x6*0x3fd,-0xfa4+-0xb*-0x132+-0x13f*-0x2,0x18d*-0x19+-0x57*0x5f+0x1*0x47c2)]),h(gr,'_spotCooki'+'eCamera',null);let Wn=gr;const vs=new D(),Or=new Float32Array(-0x1*0x4d7+0x1*0xbea+-0x70d*0x1),FE=new D(-(-0x3e0*-0xa+0x1c67*-0x1+0x3*-0x373+0.5),-0x12e2+0x1c67*-0x1+0x2f49,0x104e+0x1b75+0x1*-0x2bc3),NE=new D(0xcf4+-0xe76+0x182,-0x3*-0xac0+0x7ed*-0x1+-0x1853,0x145*-0x17+-0x2039+0x3d6c+0.5),at={'POSITION_RANGE':0x0,'DIRECTION_FLAGS':0x1,'COLOR_ANGLES_BIAS':0x2,'PROJ_MAT_0':0x3,'ATLAS_VIEWPORT':0x3,'PROJ_MAT_1':0x4,'PROJ_MAT_2':0x5,'PROJ_MAT_3':0x6,'AREA_DATA_WIDTH':0x7,'AREA_DATA_HEIGHT':0x8,'COUNT':0x9},kE={'LIGHTSHAPE_PUNCTUAL':Ys+'u','LIGHTSHAPE_RECT':Zy+'u','LIGHTSHAPE_DISK':Qy+'u','LIGHTSHAPE_SPHERE':Jy+'u','LIGHT_COLOR_DIVIDER':$c+'.0'},F_=(_0x3357d6,_0x5d99cd)=>Object['keys'](_0x3357d6)['map'](_0x4a0260=>'#define\x20{'+_0x5d99cd+_0x4a0260+'}\x20'+_0x3357d6[_0x4a0260])['join']('\x0a'),N_='\x0a\x0a\x20\x20\x20\x20'+F_(at,'CLUSTER_TE'+'XTURE_')+'\x0a\x20\x20\x20\x20'+F_(kE,'')+'\x0a';class UE{constructor(_0x427bac){h(this,'areaLights'+'Enabled',!(-0x4*-0x21a+0x1f*0xcc+-0x211b)),(this['device']=_0x427bac,Pe['get'](_0x427bac,Fe)['set']('lightBuffe'+'rDefinesPS',N_),Pe['get'](_0x427bac,it)['set']('lightBuffe'+'rDefinesPS',N_),this['cookiesEna'+'bled']=!(-0x8*0x6c+0x8a9+-0x548),this['shadowsEna'+'bled']=!(-0x1da6+-0x54*0x4a+0x35ef*0x1),this['areaLights'+'Enabled']=!(-0x10e*-0xd+-0x14ce+0x719),this['maxLights']=0xef8+-0x3*-0xc8f+-0x33a6);const _0x1972ad=at['COUNT'];this['lightsFloa'+'t']=new Float32Array((0x659+0x102f*0x1+0x16*-0x106)*_0x1972ad*this['maxLights']),this['lightsUint']=new Uint32Array(this['lightsFloa'+'t']['buffer']),this['lightsText'+'ure']=this['createText'+'ure'](this['device'],_0x1972ad,this['maxLights'],Xt,'LightsText'+'ure'),this['_lightsTex'+'tureId']=this['device']['scope']['resolve']('lightsText'+'ure'),this['invMaxColo'+'rValue']=0x1*-0xe94+-0xe83+0x1d17,this['invMaxAtte'+'nuation']=0x267b*0x1+0xbfb+-0x3276,this['boundsMin']=new D(),this['boundsDelt'+'a']=new D();}['destroy'](){var _0x19bc6b;(_0x19bc6b=this['lightsText'+'ure'])==null||_0x19bc6b['destroy'](),this['lightsText'+'ure']=null;}['createText'+'ure'](_0xacfbc8,_0x2b276d,_0x56bba8,_0xafa557,_0x3a80b7){return new _e(_0xacfbc8,{'name':_0x3a80b7,'width':_0x2b276d,'height':_0x56bba8,'mipmaps':!(-0x2575*0x1+0x501*0x1+0x2075),'format':_0xafa557,'addressU':ue,'addressV':ue,'type':Ds,'magFilter':Te,'minFilter':Te,'anisotropy':0x1});}['setBounds'](_0x57ccf6,_0x2c9843){this['boundsMin']['copy'](_0x57ccf6),this['boundsDelt'+'a']['copy'](_0x2c9843);}['uploadText'+'ures'](){this['lightsText'+'ure']['lock']()['set'](this['lightsFloa'+'t']),this['lightsText'+'ure']['unlock']();}['updateUnif'+'orms'](){this['_lightsTex'+'tureId']['setValue'](this['lightsText'+'ure']);}['getSpotDir'+'ection'](_0x48b3ce,_0x397871){_0x397871['_node']['getWorldTr'+'ansform']()['getY'](_0x48b3ce)['mulScalar'](-(-0xb41+0x1e70+0x997*-0x2)),_0x48b3ce['normalize']();}['getLightAr'+'eaSizes'](_0x5c2c75){const _0x2ca4d4=_0x5c2c75['_node']['getWorldTr'+'ansform']();return _0x2ca4d4['transformV'+'ector'](FE,vs),Or[-0x170d*0x1+-0x1daf+0x34bc]=vs['x'],Or[-0x1a58+-0x95*-0x3+-0x1*-0x189a]=vs['y'],Or[-0xe*-0x11a+0x1*-0x2534+0x15ca]=vs['z'],_0x2ca4d4['transformV'+'ector'](NE,vs),Or[-0x2*0x3cb+-0xb29+0x12c2]=vs['x'],Or[0x1261+0x1c1*-0x1+-0x109c]=vs['y'],Or[0x1005*0x2+0x1d0e+-0x3d13]=vs['z'],Or;}['addLightDa'+'ta'](_0x53149f,_0x4db777){const _0x5ea17a=_0x53149f['_type']===Ze,_0x586a5e=_0x53149f['atlasViewp'+'ortAllocat'+'ed'],_0x356a29=this['cookiesEna'+'bled']&&!!_0x53149f['_cookie']&&_0x586a5e,_0x4b06ac=this['areaLights'+'Enabled']&&_0x53149f['shape']!==Ys,_0x5c338b=this['shadowsEna'+'bled']&&_0x53149f['castShadow'+'s']&&_0x586a5e,_0x50724d=_0x53149f['_node']['getPositio'+'n']();let _0x9f355a=null,_0x23a393=null;_0x5ea17a?_0x5c338b?_0x9f355a=_0x53149f['getRenderD'+'ata'](null,0xe+0x327+0x1*-0x335)['shadowMatr'+'ix']:_0x356a29&&(_0x9f355a=Wn['evalSpotCo'+'okieMatrix'](_0x53149f)):(_0x5c338b||_0x356a29)&&(_0x23a393=_0x53149f['atlasViewp'+'ort']);const _0x466270=this['lightsFloa'+'t'],_0x2f4057=this['lightsUint'],_0x3f441a=_0x4db777*this['lightsText'+'ure']['width']*(0x1*-0xa03+-0x12f9*-0x1+0xe5*-0xa);_0x466270[_0x3f441a+(-0x22fd+-0x1e0a+0x410b)*at['POSITION_R'+'ANGE']+(-0xe8b+0x9b7+0x4d4)]=_0x50724d['x'],_0x466270[_0x3f441a+(-0x134f*0x2+-0x1cf1+0x4393)*at['POSITION_R'+'ANGE']+(0x25c0+0x17db+-0x3d9a)]=_0x50724d['y'],_0x466270[_0x3f441a+(0x5*0x18b+0x3*0x207+0x8*-0x1b9)*at['POSITION_R'+'ANGE']+(0x15e*0x16+0x1dbd+0x1*-0x3bcf)]=_0x50724d['z'],_0x466270[_0x3f441a+(-0x1505+-0x166*-0x2+-0x1d*-0xa1)*at['POSITION_R'+'ANGE']+(0x3d2+-0x5*-0xd+-0x410)]=_0x53149f['attenuatio'+'nEnd'];const _0x5406d1=_0x53149f['clusteredD'+'ata'];if(_0x2f4057[_0x3f441a+(-0x3*-0x6f4+-0x1a*0x179+0x1172)*at['COLOR_ANGL'+'ES_BIAS']+(-0x7*0xa3+-0x14a7+0x4*0x647)]=_0x5406d1[0x17*-0xcd+0x53*0x2+0x11c5],_0x2f4057[_0x3f441a+(0x3*-0xce5+0x9*-0x226+0x3a09)*at['COLOR_ANGL'+'ES_BIAS']+(0x1fc6+0x19f0+-0x39b5)]=_0x5406d1[-0x73*0x25+0xf*0x23d+-0x10f3],_0x2f4057[_0x3f441a+(0x1f77+0xe0b+0xf2a*-0x3)*at['COLOR_ANGL'+'ES_BIAS']+(0x2238+0x1917+-0x3b4d)]=_0x5406d1[-0x9*-0x1a5+-0x8*0x226+0x265],_0x53149f['castShadow'+'s']){const _0x3e14e1=_0x53149f['getRenderD'+'ata'](null,0x2*0x3f6+0xf8*0xf+0x59d*-0x4),_0x4bd2dc=_0x53149f['_getUnifor'+'mBiasValue'+'s'](_0x3e14e1),_0x87f7c2=Mn['float2Half'](_0x4bd2dc['bias']),_0x259ade=Mn['float2Half'](_0x4bd2dc['normalBias']);_0x2f4057[_0x3f441a+(0x5*0x34d+-0x1101+-0x42*-0x2)*at['COLOR_ANGL'+'ES_BIAS']+(0x1c5c+0xad*-0x31+0x4c4)]=_0x87f7c2|_0x259ade<<0x13e3+-0x12b7*0x2+0x119b*0x1;}if(_0x5ea17a&&(this['getSpotDir'+'ection'](vs,_0x53149f),_0x466270[_0x3f441a+(-0x20*-0x17+-0x2*0x3b+-0x266)*at['DIRECTION_'+'FLAGS']+(-0x2415+-0x124b+0x3660)]=vs['x'],_0x466270[_0x3f441a+(-0x1ef6+0xc54+0x2*0x953)*at['DIRECTION_'+'FLAGS']+(-0x1*-0x1db+0x1*-0x1a42+0x1868)]=vs['y'],_0x466270[_0x3f441a+(-0x14f0+0x5*-0x502+0x3a*0xcb)*at['DIRECTION_'+'FLAGS']+(0xd9f+-0x1293+0x4f6*0x1)]=vs['z']),_0x2f4057[_0x3f441a+(0x24a*0xf+0x1f22+-0x4174)*at['DIRECTION_'+'FLAGS']+(0x136*-0x1+0x916*-0x3+-0x13d*-0x17)]=_0x53149f['getCluster'+'edFlags'](_0x5c338b,_0x356a29),_0x9f355a){const _0x53142e=_0x9f355a['data'];for(let _0x503f96=0xdd2*-0x1+0x1915+-0x3*0x3c1;_0x503f96<-0x319*-0x1+-0x150e+0x1205;_0x503f96++)_0x466270[_0x3f441a+(0x669*0x2+0x14a3+0x7*-0x4c7)*at['PROJ_MAT_0']+_0x503f96]=_0x53142e[_0x503f96];}if(_0x23a393&&(_0x466270[_0x3f441a+(-0x1494+-0x8*-0x37f+-0x760)*at['ATLAS_VIEW'+'PORT']+(-0x1*0x124d+0x1a3c+-0x1*0x7ef)]=_0x23a393['x'],_0x466270[_0x3f441a+(-0x2*0x283+-0xacd+0xfd7*0x1)*at['ATLAS_VIEW'+'PORT']+(-0x1*0x731+0x1551+-0xe1f)]=_0x23a393['y'],_0x466270[_0x3f441a+(0x1*0xa96+0x1e9f+0x11d*-0x25)*at['ATLAS_VIEW'+'PORT']+(-0x1a35+-0x1c08+-0x3*-0x1215)]=_0x23a393['z']/(0xe17+0x1937*0x1+-0x15*0x1df)),_0x4b06ac){const _0x38f739=this['getLightAr'+'eaSizes'](_0x53149f);_0x466270[_0x3f441a+(0x7af+-0x6f*0x35+0xf50)*at['AREA_DATA_'+'WIDTH']+(-0x1*-0x261f+-0x1424+0x1*-0x11fb)]=_0x38f739[-0x1e1d+0x1d97+0x86],_0x466270[_0x3f441a+(-0x26*-0x101+-0x987+-0x1c9b)*at['AREA_DATA_'+'WIDTH']+(-0xc0f+-0x1*0x55f+0x116f*0x1)]=_0x38f739[0x14*0x45+-0x2260+0x1cfd],_0x466270[_0x3f441a+(0x1901+-0x5f+-0x189e)*at['AREA_DATA_'+'WIDTH']+(0xc*-0x20f+0x204d*0x1+-0x43*0x1d)]=_0x38f739[0x36a+0x33d*0xb+-0x2707],_0x466270[_0x3f441a+(-0xa0a+0x1d5f*-0x1+0x276d)*at['AREA_DATA_'+'HEIGHT']+(-0x7ec+0x795*-0x2+-0x5*-0x49e)]=_0x38f739[-0x17b9*0x1+-0x7b*0x29+0x2b6f],_0x466270[_0x3f441a+(-0x903*0x2+-0x41*-0x25+-0x8a5*-0x1)*at['AREA_DATA_'+'HEIGHT']+(0x15b2*-0x1+0x1cd+-0x13e6*-0x1)]=_0x38f739[-0x3fd*-0x4+-0x692+0xb*-0xda],_0x466270[_0x3f441a+(0x1*-0x2423+0x1b76+0x5*0x1bd)*at['AREA_DATA_'+'HEIGHT']+(-0x1945+-0x1*-0x2015+-0x6ce)]=_0x38f739[-0x1fc5+-0x8a5*-0x1+-0x18b*-0xf];}}}const ic=new D(),rc=new D(),ac=new D(),Yd=new De(),k_=0xf86+0x1cf*-0x7+0x1*0xd23;class U_{constructor(){this['light']=null,this['min']=new D(),this['max']=new D();}}class cu{constructor(_0x478766){h(this,'clusterTex'+'ture'),(this['device']=_0x478766,this['name']='Untitled',this['reportCoun'+'t']=0x1cf1+-0x236*-0x5+-0x27ff,this['boundsMin']=new D(),this['boundsMax']=new D(),this['boundsDelt'+'a']=new D(),this['_cells']=new D(0x1*-0xef3+-0x200b*0x1+0x2eff,-0x1e07*0x1+0x15c4+0x2e*0x2e,0x2604*-0x1+0x541+0x20c4),this['_cellsLimi'+'t']=new D(),this['cells']=this['_cells'],this['maxCellLig'+'htCount']=-0x8d8+-0x1d5f+0x263b,this['_usedLight'+'s']=[],this['_usedLight'+'s']['push'](new U_()),this['lightsBuff'+'er']=new UE(_0x478766),this['registerUn'+'iforms'](_0x478766));}set['maxCellLig'+'htCount'](_0x266b9b){_0x266b9b!==this['_maxCellLi'+'ghtCount']&&(this['_maxCellLi'+'ghtCount']=_0x266b9b,this['_cellsDirt'+'y']=!(-0x8ea+-0x1b35+0x7*0x529));}get['maxCellLig'+'htCount'](){return this['_maxCellLi'+'ghtCount'];}set['cells'](_0x519c42){ic['copy'](_0x519c42)['floor'](),this['_cells']['equals'](ic)||(this['_cells']['copy'](ic),this['_cellsLimi'+'t']['copy'](ic)['sub'](D['ONE']),this['_cellsDirt'+'y']=!(-0xa8*-0x30+0x1895*0x1+-0x3815));}get['cells'](){return this['_cells'];}['destroy'](){this['lightsBuff'+'er']['destroy'](),this['releaseClu'+'sterTextur'+'e']();}['releaseClu'+'sterTextur'+'e'](){this['clusterTex'+'ture']&&(this['clusterTex'+'ture']['destroy'](),this['clusterTex'+'ture']=null);}['registerUn'+'iforms'](_0x2f9410){this['_clusterSk'+'ipId']=_0x2f9410['scope']['resolve']('clusterSki'+'p'),this['_clusterMa'+'xCellsId']=_0x2f9410['scope']['resolve']('clusterMax'+'Cells'),this['_clusterWo'+'rldTexture'+'Id']=_0x2f9410['scope']['resolve']('clusterWor'+'ldTexture'),this['_clusterTe'+'xtureSizeI'+'d']=_0x2f9410['scope']['resolve']('clusterTex'+'tureSize'),this['_clusterTe'+'xtureSizeD'+'ata']=new Float32Array(0x17d2+-0x17ee+0x1f),this['_clusterBo'+'undsMinId']=_0x2f9410['scope']['resolve']('clusterBou'+'ndsMin'),this['_clusterBo'+'undsMinDat'+'a']=new Float32Array(-0x154d+0x1*-0x159b+-0x2aeb*-0x1),this['_clusterBo'+'undsDeltaI'+'d']=_0x2f9410['scope']['resolve']('clusterBou'+'ndsDelta'),this['_clusterBo'+'undsDeltaD'+'ata']=new Float32Array(0x51*-0x1b+-0x1*-0x1821+-0x9*0x1bb),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']=_0x2f9410['scope']['resolve']('clusterCel'+'lsCountByB'+'oundsSize'),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']=new Float32Array(-0x1aea+0xe5*-0x1d+-0x65*-0x86),this['_clusterCe'+'llsDotId']=_0x2f9410['scope']['resolve']('clusterCel'+'lsDot'),this['_clusterCe'+'llsDotData']=new Float32Array(-0x525*0x3+0x4*0x4cd+-0x3c2),this['_clusterCe'+'llsMaxId']=_0x2f9410['scope']['resolve']('clusterCel'+'lsMax'),this['_clusterCe'+'llsMaxData']=new Float32Array(-0x517*0x7+-0x18c5+0x3c69);}['updatePara'+'ms'](_0x1d51be){_0x1d51be&&(this['cells']=_0x1d51be['cells'],this['maxCellLig'+'htCount']=_0x1d51be['maxLightsP'+'erCell'],this['lightsBuff'+'er']['cookiesEna'+'bled']=_0x1d51be['cookiesEna'+'bled'],this['lightsBuff'+'er']['shadowsEna'+'bled']=_0x1d51be['shadowsEna'+'bled'],this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x1d51be['areaLights'+'Enabled']);}['updateCell'+'s'](){if(this['_cellsDirt'+'y']){this['_cellsDirt'+'y']=!(-0x16c4+0x1f8c+-0x2ed*0x3);const _0x25f297=this['_cells']['x'],_0x1a8131=this['_cells']['y'],_0x3d2a55=this['_cells']['z'],_0x2ccdf4=_0x25f297*_0x1a8131*_0x3d2a55,_0x1744af=this['maxCellLig'+'htCount']*_0x2ccdf4;let _0x410e62=Math['ceil'](Math['sqrt'](_0x1744af));_0x410e62=Y['roundUp'](_0x410e62,this['maxCellLig'+'htCount']);const _0x2a0011=Math['ceil'](_0x1744af/_0x410e62);w['assert'](_0x410e62<=k_&&_0x2a0011<=k_,'Clustered\x20'+'lights\x20par'+'ameters\x20ca'+'use\x20the\x20te'+'xture\x20size'+'\x20to\x20be\x20ove'+'r\x20the\x20limi'+'t,\x20please\x20'+'adjust\x20the'+'m.'),this['_clusterCe'+'llsMaxData'][0xf31+-0x2*0x1123+0x1315*0x1]=_0x25f297,this['_clusterCe'+'llsMaxData'][0x2320+-0x12b5+0x106a*-0x1]=_0x1a8131,this['_clusterCe'+'llsMaxData'][-0x1*0x1d1e+0x1c9f+-0x2b*-0x3]=_0x3d2a55,this['_clusterCe'+'llsDotData'][0x1*0x1956+0x2*-0x1346+0xd36]=this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][-0x11fa+-0xeb3+0x20ae]=_0x25f297*_0x3d2a55*this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][-0x8cd+-0x1445*-0x1+0x3*-0x3d2]=_0x25f297*this['maxCellLig'+'htCount'],this['clusters']=new Uint8ClampedArray(_0x1744af),this['counts']=new Int32Array(_0x2ccdf4),this['_clusterTe'+'xtureSizeD'+'ata'][-0x3*0x1df+0x4*0x1fa+-0x24b]=_0x410e62,this['_clusterTe'+'xtureSizeD'+'ata'][-0x2e*0xba+0x5*-0x6c2+0x4337]=(-0x17cd+-0x1244+-0x5*-0x86a)/_0x410e62,this['_clusterTe'+'xtureSizeD'+'ata'][0x11cf+0xc93+-0x1e60]=(0x1ab7+0x177f+-0x3235)/_0x2a0011,this['releaseClu'+'sterTextur'+'e'](),this['clusterTex'+'ture']=this['lightsBuff'+'er']['createText'+'ure'](this['device'],_0x410e62,_0x2a0011,Ep,'ClusterTex'+'ture');}}['uploadText'+'ures'](){this['clusterTex'+'ture']['lock']()['set'](this['clusters']),this['clusterTex'+'ture']['unlock'](),this['lightsBuff'+'er']['uploadText'+'ures']();}['updateUnif'+'orms'](){this['_clusterSk'+'ipId']['setValue'](this['_usedLight'+'s']['length']>0x1bbd+-0x72+-0x1f3*0xe?0x188d+-0x12e3+0x1d*-0x32:-0x14e7+-0xa9c+0x7e1*0x4),this['lightsBuff'+'er']['updateUnif'+'orms'](),this['_clusterWo'+'rldTexture'+'Id']['setValue'](this['clusterTex'+'ture']),this['_clusterMa'+'xCellsId']['setValue'](this['maxCellLig'+'htCount']);const _0xcdf761=this['boundsDelt'+'a'];this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x5f2+-0x6a*0x27+0xa34]=this['_cells']['x']/_0xcdf761['x'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x6*0x561+-0x26f7+-0x1*-0x473e]=this['_cells']['y']/_0xcdf761['y'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x211f+-0x1b16+-0x607]=this['_cells']['z']/_0xcdf761['z'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']['setValue'](this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']),this['_clusterBo'+'undsMinDat'+'a'][-0x10*-0x243+-0x1*0x2029+-0x1*0x407]=this['boundsMin']['x'],this['_clusterBo'+'undsMinDat'+'a'][0x8c3*0x2+-0x1*0xb19+0x66c*-0x1]=this['boundsMin']['y'],this['_clusterBo'+'undsMinDat'+'a'][0x174+0x8ae+0x144*-0x8]=this['boundsMin']['z'],this['_clusterBo'+'undsDeltaD'+'ata'][-0x2*-0x923+0x3f4+0x2*-0xb1d]=_0xcdf761['x'],this['_clusterBo'+'undsDeltaD'+'ata'][0x1b42*0x1+-0x18aa*0x1+0xdd*-0x3]=_0xcdf761['y'],this['_clusterBo'+'undsDeltaD'+'ata'][-0x20*-0xfb+0x10*0xd4+-0x2c9e]=_0xcdf761['z'],this['_clusterTe'+'xtureSizeI'+'d']['setValue'](this['_clusterTe'+'xtureSizeD'+'ata']),this['_clusterBo'+'undsMinId']['setValue'](this['_clusterBo'+'undsMinDat'+'a']),this['_clusterBo'+'undsDeltaI'+'d']['setValue'](this['_clusterBo'+'undsDeltaD'+'ata']),this['_clusterCe'+'llsDotId']['setValue'](this['_clusterCe'+'llsDotData']),this['_clusterCe'+'llsMaxId']['setValue'](this['_clusterCe'+'llsMaxData']);}['evalLightC'+'ellMinMax'](_0x50ed73,_0x4c7403,_0x1e1263){_0x4c7403['copy'](_0x50ed73['min']),_0x4c7403['sub'](this['boundsMin']),_0x4c7403['div'](this['boundsDelt'+'a']),_0x4c7403['mul2'](_0x4c7403,this['cells']),_0x4c7403['floor'](),_0x1e1263['copy'](_0x50ed73['max']),_0x1e1263['sub'](this['boundsMin']),_0x1e1263['div'](this['boundsDelt'+'a']),_0x1e1263['mul2'](_0x1e1263,this['cells']),_0x1e1263['ceil'](),_0x4c7403['max'](D['ZERO']),_0x1e1263['min'](this['_cellsLimi'+'t']);}['collectLig'+'hts'](_0xe6d391){const _0x4d04b1=this['lightsBuff'+'er']['maxLights'],_0x17ea1f=this['_usedLight'+'s'];let _0x112319=0x24d2+0x188*-0x14+0x13d*-0x5;_0xe6d391['forEach'](_0x4d5ab1=>{const _0x587cbc=!!(_0x4d5ab1['mask']&(Ss|di)),_0x75f46a=_0x4d5ab1['type']===Ze&&_0x4d5ab1['_outerCone'+'Angle']===-0x1*0x1bfb+-0x54d*0x3+-0x29*-0x112;if(_0x4d5ab1['enabled']&&_0x4d5ab1['type']!==ve&&_0x4d5ab1['visibleThi'+'sFrame']&&_0x4d5ab1['intensity']>0x5e8+-0x26c9+0x20e1&&_0x587cbc&&!_0x75f46a){if(_0x112319<_0x4d04b1){let _0x20814f;_0x112319<_0x17ea1f['length']?_0x20814f=_0x17ea1f[_0x112319]:(_0x20814f=new U_(),_0x17ea1f['push'](_0x20814f)),_0x20814f['light']=_0x4d5ab1,_0x4d5ab1['getBoundin'+'gBox'](Yd),_0x20814f['min']['copy'](Yd['getMin']()),_0x20814f['max']['copy'](Yd['getMax']()),_0x112319++;}else w['warnOnce']('Clustered\x20'+'lighting:\x20'+'more\x20than\x20'+(_0x4d04b1-(0x20fd+-0x20a+0x1*-0x1ef2))+('\x20lights\x20in'+'\x20the\x20frame'+',\x20ignoring'+'\x20some.'));}}),_0x17ea1f['length']=_0x112319;}['evaluateBo'+'unds'](){const _0xbe7d40=this['_usedLight'+'s'],_0x45d2ff=this['boundsMin'],_0x514383=this['boundsMax'];if(_0xbe7d40['length']>-0x2cf+0x1*0x554+-0x17*0x1c){_0x45d2ff['copy'](_0xbe7d40[0x1*0x1f61+-0x1370+0x10*-0xbf]['min']),_0x514383['copy'](_0xbe7d40[-0x31*-0x19+-0x2b4+-0x214]['max']);for(let _0x5ddea9=0xe7+0x1*0x26e+-0x353;_0x5ddea9<_0xbe7d40['length'];_0x5ddea9++)_0x45d2ff['min'](_0xbe7d40[_0x5ddea9]['min']),_0x514383['max'](_0xbe7d40[_0x5ddea9]['max']);}else _0x45d2ff['set'](0xb3*-0x5+-0x1*-0x11f+0x10*0x26,0xd22+0x20d1+0x9*-0x51b,-0x191d*-0x1+-0x7*-0x174+-0xbc3*0x3),_0x514383['set'](-0x6*0x10d+-0xc02+0x1251,0x1c44+-0x3a3+-0x18a0,0x49*-0x45+-0x7bc+0x1b6a);this['boundsDelt'+'a']['sub2'](_0x514383,_0x45d2ff),this['lightsBuff'+'er']['setBounds'](_0x45d2ff,this['boundsDelt'+'a']);}['updateClus'+'ters'](_0x6e3ea8){this['counts']['fill'](0x13*0x1f5+-0x1f94+0x29*-0x23),this['clusters']['fill'](-0x1d*-0xd7+-0xe80+-0x9db),this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x6e3ea8?_0x6e3ea8['areaLights'+'Enabled']:!(-0x7a*-0x47+0x7*-0xad+-0x1d1a);const _0x200262=this['_cells']['x'],_0x3dcf0d=this['_cells']['z'],_0x2050fd=this['counts'],_0x589ed2=this['_maxCellLi'+'ghtCount'],_0x9127c9=this['clusters'],_0x210a4d=this['maxCellLig'+'htCount'];let _0x148516=!(-0x1*-0x2329+-0xb1*-0x3+-0x9*0x423);const _0x5ccb76=this['_usedLight'+'s'];for(let _0x10e77e=0x1*-0x1193+0xa2e+0x766;_0x10e77e<_0x5ccb76['length'];_0x10e77e++){const _0x32339e=_0x5ccb76[_0x10e77e],_0x598929=_0x32339e['light'];this['lightsBuff'+'er']['addLightDa'+'ta'](_0x598929,_0x10e77e),this['evalLightC'+'ellMinMax'](_0x32339e,rc,ac);const _0x53910d=rc['x'],_0x556b72=ac['x'],_0x4a20c9=rc['y'],_0x44441a=ac['y'],_0x9241ac=rc['z'],_0x466441=ac['z'];for(let _0x3f5f73=_0x53910d;_0x3f5f73<=_0x556b72;_0x3f5f73++)for(let _0x1aa25d=_0x9241ac;_0x1aa25d<=_0x466441;_0x1aa25d++)for(let _0x33c51d=_0x4a20c9;_0x33c51d<=_0x44441a;_0x33c51d++){const _0x10c6cd=_0x3f5f73+_0x200262*(_0x1aa25d+_0x33c51d*_0x3dcf0d),_0x399b35=_0x2050fd[_0x10c6cd];_0x399b35<_0x589ed2?(_0x9127c9[_0x210a4d*_0x10c6cd+_0x399b35]=_0x10e77e,_0x2050fd[_0x10c6cd]=_0x399b35+(0xa*0x3c4+0x6*0x607+-0x49d1)):_0x148516=!(0x938+0x187*0x17+-0x1*0x2c59);}}_0x148516&&this['reportCoun'+'t']<0x1*-0x17a0+-0xf8a+0x272f&&(console['warn']('Too\x20many\x20l'+'ights\x20in\x20l'+'ight\x20clust'+'er\x20'+this['name']+(',\x20please\x20a'+'djust\x20para'+'meters.')+(this['reportCoun'+'t']===-0x1a0+-0xe93+0x1037?'\x20Giving\x20up'+'\x20on\x20report'+'ing\x20it.':'')),this['reportCoun'+'t']++);}['update'](_0x59f569,_0x530103=null){this['updatePara'+'ms'](_0x530103),this['updateCell'+'s'](),this['collectLig'+'hts'](_0x59f569),this['evaluateBo'+'unds'](),this['updateClus'+'ters'](_0x530103),this['uploadText'+'ures']();}['activate'](){this['updateUnif'+'orms']();}}const B_=0x3*-0x20+0x1*-0x228d+0x22ef+0.39996322972865306,Nl={'circlePoint'(_0x36abd2){const _0x4b23a0=Math['sqrt'](Math['random']()),_0x32edb6=Math['random']()*(-0xb2*0x33+0x773+-0x1*-0x1c05)*Math['PI'];_0x36abd2['x']=_0x4b23a0*Math['cos'](_0x32edb6),_0x36abd2['y']=_0x4b23a0*Math['sin'](_0x32edb6);},'circlePointDeterministic'(_0x265b9c,_0x5a9251,_0x3fc4dc){const _0x4b747b=_0x5a9251*B_,_0x26aa75=Math['sqrt'](_0x5a9251)/Math['sqrt'](_0x3fc4dc);_0x265b9c['x']=_0x26aa75*Math['cos'](_0x4b747b),_0x265b9c['y']=_0x26aa75*Math['sin'](_0x4b747b);},'spherePointDeterministic'(_0x3cbb08,_0x1bc3d4,_0x311c33,_0x564422=-0x3d5+0x804+0x1*-0x42f,_0x9cef23=-0x1794+-0x25+0x17ba){_0x564422=0x1fc5+0x313*0xb+-0xa3*0x67-(-0xee0+0x15*-0x12+-0x6*-0x2ba)*_0x564422,_0x9cef23=-0x2f*0x72+-0xeef+0x23de-(-0xbed+0x1ef+0x2*0x500)*_0x9cef23;const _0x1d6203=Y['lerp'](_0x564422,_0x9cef23,_0x1bc3d4/_0x311c33),_0x14c0bd=Math['sqrt'](-0x1*-0x1fe1+0x96b*0x1+0x1f*-0x155-_0x1d6203*_0x1d6203),_0x291959=B_*_0x1bc3d4;_0x3cbb08['x']=Math['cos'](_0x291959)*_0x14c0bd,_0x3cbb08['y']=_0x1d6203,_0x3cbb08['z']=Math['sin'](_0x291959)*_0x14c0bd;},'radicalInverse'(_0x1c9bf3){let _0x1d8f0e=(_0x1c9bf3<<0xbc*-0x10+0x19bb+-0xdeb|_0x1c9bf3>>>-0x67*0x22+0x40c*-0x9+-0x2*-0x1915)>>>0x29*0x4d+-0xccc+0x77;return _0x1d8f0e=((_0x1d8f0e&0x7251c220+0x1c3a2fa0*0x4+-0x62b5aed*0x17)<<-0xb6*-0x11+-0x1*0xd1f+0x10a|(_0x1d8f0e&0x1*-0x13f4e7cda+-0x2a364720+0x20ec8a*0x102a)>>>0x5d*0x3e+-0x10d7+-0x5ae)>>>-0x83*0x33+0x1b91*-0x1+0x35aa,_0x1d8f0e=((_0x1d8f0e&0x1*-0x4ef11069+-0x11ea1*0x47f6+0xd2b65952)<<0x1fda+0x223f+0x4217*-0x1|(_0x1d8f0e&0x5a8ccbfd+0x3*0x13b11dbf+0x372ca792)>>>-0x10e*-0x1c+0x1e46+-0x164*0x2b)>>>-0x2232+0x2*0x64d+-0xacc*-0x2,_0x1d8f0e=((_0x1d8f0e&-0x446*-0x4c007+0x4063006+-0x943bee1)<<-0x9fd*-0x1+-0x142+-0x17*0x61|(_0x1d8f0e&0x25bd7996*-0x7+-0x6f0f7ad*-0x3+-0xbcfe94b*-0x29)>>>0x749+0x2*0xe3b+-0x23bb*0x1)>>>-0x65*0x14+-0x1a9e+0x4ee*0x7,_0x1d8f0e=((_0x1d8f0e&0xe5569b+-0x545fc3+0x6f*0xfdc9)<<-0x1550+0x373*0x2+0x56*0x2b|(_0x1d8f0e&0x5f*-0x250e290+0x62*-0x312187f+0x307f2730e)>>>-0x6d*-0xd+0x19f2+-0x53*0x61)>>>0x511*0x3+0x65f+0xfb*-0x16,_0x1d8f0e*(-0x26ed*0x1+0x1a1c+0xcd1+2.3283064365386963e-10);}},BE={'linear':'decodeLine'+'ar','srgb':'decodeGamm'+'a','rgbm':'decodeRGBM','rgbe':'decodeRGBE','rgbp':'decodeRGBP','xy':'unpackNorm'+'alXY','xyz':'unpackNorm'+'alXYZ'},zE={'linear':'encodeLine'+'ar','srgb':'encodeGamm'+'a','rgbm':'encodeRGBM','rgbe':'encodeRGBE','rgbp':'encodeRGBP'};class Tr{static['decodeFunc'](_0x14b8e9){return BE[_0x14b8e9]??'decodeGamm'+'a';}static['encodeFunc'](_0x4585dc){return zE[_0x4585dc]??'encodeGamm'+'a';}}const z_=_0x3b7b9d=>{switch(_0x3b7b9d){case tu:return'Cubemap';case Gx:return'Octahedral';default:return'Equirect';}},nc=(_0x3aac1d,_0x375721,_0x1a315c)=>{if(_0x3aac1d<=-0x22a7*0x1+0x1f7b+0x32c)_0x375721[_0x1a315c+(0xe23+0x795+-0x8*0x2b7)]=0x3*-0x2dd+0x851+0x46,_0x375721[_0x1a315c+(0xca9*0x1+-0x2*-0x1267+-0x3176)]=0x517+0x2ba+-0x17*0x57,_0x375721[_0x1a315c+(-0xa8*0x2+0x118e+-0x1*0x103c)]=0x88f+-0xb*0x10f+0x2*0x18b,_0x375721[_0x1a315c+(0x1ab7+0x17b1*0x1+-0x3265)]=-0x34*0x30+-0x12c2+0x1c82;else{if(_0x3aac1d>=-0x41*-0x53+-0x4f*-0x3d+0x7*-0x5b3)_0x375721[_0x1a315c+(-0x1cc7+0x2696+0x51*-0x1f)]=0x2*-0x550+0x169e+-0xaff,_0x375721[_0x1a315c+(0x221+0xff9+-0x1219)]=0x14b*-0x3+-0xf53*0x1+0x1334,_0x375721[_0x1a315c+(-0x195b+0x19dc+-0x1*0x7f)]=0x1058*0x2+0x327*0xb+-0x435d,_0x375721[_0x1a315c+(0x1*-0x1280+-0x2*0x2ce+0x181f)]=-0x1*0xf97+-0x1bf4+0x9d*0x47;else{let _0x3ec470=(0x1*0x1ba7+0x10db*-0x2+-0x10*-0x61)*_0x3aac1d%(0x1*-0x7b7+-0x76*0x1f+0x1602),_0x3ee57b=(0xc11*0x1+-0x112b+0x619)*_0x3aac1d%(-0x1*-0x266f+-0x468*0x7+0x3cb*-0x2),_0x366e6c=(0x1836f+-0x53*-0x409+-0x1d459)*_0x3aac1d%(0x23c4+0x1eaa+-0x426d);const _0x560357=(0xdf2e27+0x17*0x1a947+0x1*-0x86089)*_0x3aac1d%(-0x1adc+0x1527+0x11*0x56);_0x3ec470-=_0x3ee57b/(0x30b*0x3+-0x88a+0x68),_0x3ee57b-=_0x366e6c/(0x3c*-0x2+0x1d*-0x5c+0xbe3*0x1),_0x366e6c-=_0x560357/(-0x1c54+0x15a8+0x1*0x7ab),_0x375721[_0x1a315c+(-0x1*-0x191c+-0xbdf*0x3+0xa81)]=Math['min'](0xb4b+0x14f*0x13+-0x2329,Math['floor'](_0x3ec470*(0x541+0x2*-0xb0c+0x1*0x11d7))),_0x375721[_0x1a315c+(-0x193e+0x9*-0x15d+-0x961*-0x4)]=Math['min'](0x83f*0x4+0x15d2+-0x35cf,Math['floor'](_0x3ee57b*(0xf7*0x4+-0x4de+0x202))),_0x375721[_0x1a315c+(0x2316+-0x324+-0x1ff0)]=Math['min'](-0x2357+0x1b15*0x1+0x941,Math['floor'](_0x366e6c*(-0x15be+0x289*0xa+-0x29c))),_0x375721[_0x1a315c+(0x363+0x6ef*-0x3+0x116d)]=Math['min'](0x2582+0x9e3*0x1+-0x2e66*0x1,Math['floor'](_0x560357*(0x1108+0x3ae+-0x13b6*0x1)));}}},VE=_0x46d2d8=>{const _0x2a4b13=_0x46d2d8['length'],_0x1993a0=Math['min'](_0x2a4b13,-0x84a*0x3+-0x13af+0x2e8d*0x1),_0xbb7619=Math['ceil'](_0x2a4b13/_0x1993a0),_0x297e62=new Uint8Array(_0x1993a0*_0xbb7619*(0x1*-0x2157+-0x1686+0x37e1));let _0x43b02c=-0x819+0x1*0x10f+-0x6a*-0x11;for(let _0x2cf032=-0x2f*-0x9+-0x15a9+0x1402;_0x2cf032<_0x2a4b13;_0x2cf032+=-0x4a3*-0x5+0x2345+-0x3a70)nc(_0x46d2d8[_0x2cf032+(0x15b*-0x1b+0xc9f*0x1+0x1*0x17fa)]*(-0xd6*-0x18+0x261*-0x8+-0x58*0x3+0.5)+(0x5*-0x2be+-0x1f*0x86+0x1*0x1df0+0.5),_0x297e62,_0x43b02c+(-0x1*0x1466+-0x255a+0x39c0)),nc(_0x46d2d8[_0x2cf032+(-0x20c9+-0x12b*0xf+0xf3*0x35)]*(-0x3*0x20c+0xca7+-0x683+0.5)+(0x1*-0xdd9+-0xd*0x12b+0x1d08+0.5),_0x297e62,_0x43b02c+(-0x8c*0x2a+-0x6d*-0x28+0x5f4)),nc(_0x46d2d8[_0x2cf032+(-0x36*0x9f+-0x1aa+0x2336)]*(0x8c3*-0x2+-0x22a7+0x342d+0.5)+(-0xd13*-0x1+0x1*-0x1d07+0xff4+0.5),_0x297e62,_0x43b02c+(0xb9*0x19+0x2531*-0x1+0x1328)),nc(_0x46d2d8[_0x2cf032+(0x1*-0x25b7+-0xc3*-0x29+0x67f)]/(0x13*-0x16e+0x7bb*-0x1+0x22ed),_0x297e62,_0x43b02c+(-0x18a0+0x15be+0x2ee)),_0x43b02c+=0x186c+0x1921+-0x317d;return{'width':_0x1993a0,'height':_0xbb7619,'data':_0x297e62};},GE=(_0x5e6796,_0x1b592c,_0x396d2a,_0x81edd8)=>{const _0x574d29=_0x396d2a*(-0x1*0xf51+-0x1f3e+0x395*0xd)*Math['PI'],_0x4c5a4a=Math['pow'](-0x2397*0x1+0x133*-0x3+0x2731*0x1-_0x1b592c,(-0x1*0x2518+0x24df*0x1+0x3a)/(_0x81edd8+(0x2476+0x52+0x10d*-0x23))),_0x53a414=Math['sqrt'](0x6*0x18+-0x367+0x2d8-_0x4c5a4a*_0x4c5a4a);_0x5e6796['set'](Math['cos'](_0x574d29)*_0x53a414,Math['sin'](_0x574d29)*_0x53a414,_0x4c5a4a)['normalize']();},HE=(_0x4a1256,_0x569c39,_0x531684)=>{const _0x2115e6=_0x531684*(-0x2*0x968+-0x20ee+0x33c0)*Math['PI'],_0x5f19c5=Math['sqrt'](0x246a+0xdf*0x22+0x4207*-0x1-_0x569c39),_0x11c298=Math['sqrt'](_0x569c39);_0x4a1256['set'](Math['cos'](_0x2115e6)*_0x11c298,Math['sin'](_0x2115e6)*_0x11c298,_0x5f19c5)['normalize']();},WE=(_0xa14f61,_0x147c6a,_0x2c19a3,_0x473724)=>{const _0x2cf6df=_0x2c19a3*(0x83+0x8eb+-0x96c)*Math['PI'],_0xc7fdb9=Math['sqrt']((0x9*0x51+-0x1946+0x166e-_0x147c6a)/(-0x218*0x1+0x3*-0x3af+-0x693*-0x2+(_0x473724*_0x473724-(0x3*0xcb5+0x461*0x8+-0x4926))*_0x147c6a)),_0x51cded=Math['sqrt'](-0x9bc+0x7ca*0x1+0x1*0x1f3-_0xc7fdb9*_0xc7fdb9);_0xa14f61['set'](Math['cos'](_0x2cf6df)*_0x51cded,Math['sin'](_0x2cf6df)*_0x51cded,_0xc7fdb9)['normalize']();},$E=(_0x107835,_0x5758da)=>{const _0x1ec1c4=_0x107835*_0x5758da,_0x2c87a6=_0x5758da/(0x7c*-0x2f+-0x37d+0x1a42-_0x107835*_0x107835+_0x1ec1c4*_0x1ec1c4);return _0x2c87a6*_0x2c87a6*((0x1ca3+-0x1*0x2339+0x1*0x697)/Math['PI']);},XE=(_0x2e56f1,_0x4d8211)=>{const _0x5c4990=new D(),_0x579dd5=[];for(let _0xf51b0=0x169*-0x6+0x24fa+0x4*-0x721;_0xf51b0<_0x2e56f1;++_0xf51b0)GE(_0x5c4990,_0xf51b0/_0x2e56f1,Nl['radicalInv'+'erse'](_0xf51b0),_0x4d8211),_0x579dd5['push'](_0x5c4990['x'],_0x5c4990['y'],_0x5c4990['z'],-0x97a+0xe48+-0x4ce);return _0x579dd5;},qE=(_0x557cec,_0x3171cd)=>{const _0x254625=_0x3171cd/_0x557cec,_0x1db46d=new D(),_0x508d6f=[];for(let _0x148edb=-0x81e*-0x4+0x13d*0x7+-0x2923;_0x148edb<_0x557cec;++_0x148edb){HE(_0x1db46d,_0x148edb/_0x557cec,Nl['radicalInv'+'erse'](_0x148edb));const _0x3716e2=_0x1db46d['z']/Math['PI'],_0x13fc43=(0x1b53+-0x1455*0x1+-0x6fe+0.5)*Math['log2'](_0x254625/_0x3716e2);_0x508d6f['push'](_0x1db46d['x'],_0x1db46d['y'],_0x1db46d['z'],_0x13fc43);}return _0x508d6f;},jE={0x10:{0x2:0x1a,0x8:0x14,0x20:0x11,0x80:0x10,0x200:0x10},0x20:{0x2:0x35,0x8:0x28,0x20:0x22,0x80:0x20,0x200:0x20},0x80:{0x2:0xd6,0x8:0xa3,0x20:0x8b,0x80:0x82,0x200:0x80},0x400:{0x2:0x6ba,0x8:0x51e,0x20:0x45a,0x80:0x411,0x200:0x401}},YE=(_0x3b127d,_0x268a2c)=>{const _0x394b37=jE[_0x3b127d];return _0x394b37&&_0x394b37[_0x268a2c]||_0x3b127d;},KE=(_0x138255,_0x18d51a,_0x4112a0)=>{const _0x23c40a=_0x4112a0/_0x138255,_0x31faa8=0x1*-0x88a+-0x5df*-0x1+0x2ac-Math['log2'](_0x18d51a)/(-0x1*-0x101f+-0x3*-0xbf5+0x155*-0x27),_0x254714=_0x31faa8*_0x31faa8,_0xfeb07=new D(),_0x2e9821=new D(),_0x4d51d3=new D(-0x1*-0x125+0x3d1*0x5+0x35f*-0x6,-0x57d+0x2*-0xd03+-0x3*-0xa81,-0x3*0x4f3+-0x8*0x74+0x127a),_0x491bc8=[],_0x1bfa0f=YE(_0x138255,_0x18d51a);for(let _0x4b8deb=0x2*0x7a2+0x3*-0x10+-0xf14;_0x4b8deb<_0x1bfa0f;++_0x4b8deb){WE(_0xfeb07,_0x4b8deb/_0x1bfa0f,Nl['radicalInv'+'erse'](_0x4b8deb),_0x254714);const _0x24156a=_0xfeb07['z'];if(_0x2e9821['set'](_0xfeb07['x'],_0xfeb07['y'],_0xfeb07['z'])['mulScalar']((0xf*-0x262+-0x1*-0x24dd+0x11d*-0x1)*_0x24156a)['sub'](_0x4d51d3),_0x2e9821['z']>0x19ad*0x1+0x196a*0x1+0x4a5*-0xb){const _0x1691ac=$E(Math['min'](0x1*0xaeb+-0xc1f+-0x135*-0x1,_0x24156a),_0x254714)/(-0x12c1+0x1241*-0x2+-0x10b*-0x35)+(0x803+-0xa7c*-0x1+0x5*-0x3b3+0.001),_0x4652c3=(-0x992*-0x4+-0x19*-0xd5+0x19*-0x25d+0.5)*Math['log2'](_0x23c40a/_0x1691ac);_0x491bc8['push'](_0x2e9821['x'],_0x2e9821['y'],_0x2e9821['z'],_0x4652c3);}}for(;_0x491bc8['length']<_0x138255*(0x17c2+-0x2ee+-0x14d0);)_0x491bc8['push'](-0x1f98+-0x699+0x3*0xcbb,0x1fa0+-0x14f5+0x1*-0xaab,0x695+0x189a+0xa65*-0x3,-0xf37*-0x1+-0x2ae*-0x4+0x19ef*-0x1);return _0x491bc8;},ZE=(_0x1adc02,_0x50c158,_0x298ff3)=>{const _0x5a724c=VE(_0x298ff3);return new _e(_0x1adc02,{'name':_0x50c158,'width':_0x5a724c['width'],'height':_0x5a724c['height'],'mipmaps':!(-0x2046*0x1+0x6cc+0xb*0x251),'minFilter':Te,'magFilter':Te,'levels':[_0x5a724c['data']]});};class xv{constructor(_0x29be05=!(0x16cd+-0x50*-0x6+0x18ad*-0x1)){h(this,'map',new Map()),this['destroyCon'+'tent']=_0x29be05;}['destroy'](){this['destroyCon'+'tent']&&this['map']['forEach']((_0x207c09,_0x23c78e)=>{_0x207c09['destroy']();});}['get'](_0x1a551f,_0x4d6171){if(!this['map']['has'](_0x1a551f)){const _0x268900=_0x4d6171();return this['map']['set'](_0x1a551f,_0x268900),_0x268900;}return this['map']['get'](_0x1a551f);}}const QE=new xv(!(0xaf0+0x6c9+0x2*-0x8dc)),JE=new Kt(),dm=(_0x57e4ef,_0x190f4d,_0x5f5465)=>JE['get'](_0x57e4ef,()=>new xv())['get'](_0x190f4d,()=>ZE(_0x57e4ef,_0x190f4d,QE['get'](_0x190f4d,_0x5f5465))),eb=(_0x4d7303,_0x3eda89,_0x1ec491)=>{const _0x596126='lambert-sa'+'mples-'+_0x3eda89+'-'+_0x1ec491;return dm(_0x4d7303,_0x596126,()=>qE(_0x3eda89,_0x1ec491));},tb=(_0x31c63c,_0x105dba,_0x5bd9d2)=>{const _0x1c2b69='phong-samp'+'les-'+_0x105dba+'-'+_0x5bd9d2;return dm(_0x31c63c,_0x1c2b69,()=>XE(_0x105dba,_0x5bd9d2));},sb=(_0x290bd7,_0x263ad7,_0x5b4ebb,_0x39c333)=>{const _0xaff9f6='ggx-sample'+'s-'+_0x263ad7+'-'+_0x5b4ebb+'-'+_0x39c333;return dm(_0x290bd7,_0xaff9f6,()=>KE(_0x263ad7,_0x5b4ebb,_0x39c333));};function vi(_0x27c9da,_0x5dcc85,_0x47ce37={}){var _0x2131f3,_0x28d3b4;w['assert'](_0x27c9da instanceof _e&&_0x5dcc85 instanceof _e,'source\x20and'+'\x20target\x20mu'+'st\x20be\x20text'+'ures');const _0x41aaef=_0x47ce37['seamPixels']??-0x1307*0x2+-0x49f*-0x1+0x216f,_0x185c42=(((_0x2131f3=_0x47ce37['rect'])==null?void(0x1a7b+0xdbe*-0x1+-0xcbd):_0x2131f3['z'])??_0x5dcc85['width'])-_0x41aaef*(0x1762+-0x12c0+-0x4a0),_0x3b44c3=(((_0x28d3b4=_0x47ce37['rect'])==null?void(-0x1*-0x2a3+-0x1*0x9e3+0x3a0*0x2):_0x28d3b4['w'])??_0x5dcc85['height'])-_0x41aaef*(0x2458+-0x9ad+-0x1aa9);if(_0x185c42<0x1036*-0x1+0x3*-0x704+0x1*0x2543||_0x3b44c3<0x1253+0x1609*0x1+-0x285b)return!(-0x26e7+0x4f5+0x21f3);const _0x315fbe={'none':'reproject','lambert':'prefilterS'+'amplesUnwe'+'ighted','phong':'prefilterS'+'amplesUnwe'+'ighted','ggx':'prefilterS'+'amples'},_0x3f3e9b=_0x47ce37['hasOwnProp'+'erty']('specularPo'+'wer')?_0x47ce37['specularPo'+'wer']:0x3*-0x53+-0x1*0x1fc7+-0xaeb*-0x3,_0x46dd39=_0x47ce37['hasOwnProp'+'erty']('face')?_0x47ce37['face']:null,_0xaaabc0=_0x47ce37['hasOwnProp'+'erty']('distributi'+'on')?_0x47ce37['distributi'+'on']:_0x3f3e9b===-0x295*-0x5+0x13db+-0x20c3?'none':'phong',_0x184c27=_0x315fbe[_0xaaabc0]||'reproject',_0x40eb41=_0x184c27['startsWith']('prefilterS'+'amples'),_0x5442d1=Tr['decodeFunc'](_0x27c9da['encoding']),_0x2880a8=Tr['encodeFunc'](_0x5dcc85['encoding']),_0x45124f='sample'+z_(_0x27c9da['projection']),_0x2e1a66='getDirecti'+'on'+z_(_0x5dcc85['projection']),_0x280dde=_0x47ce37['hasOwnProp'+'erty']('numSamples')?_0x47ce37['numSamples']:-0x81d+0x137c*0x1+-0x75f,_0x4f98ba='ReprojectS'+'hader:'+_0x184c27+'_'+_0x5442d1+'_'+_0x2880a8+'_'+_0x45124f+'_'+_0x2e1a66+'_'+_0x280dde,_0x12237b=_0x27c9da['device'];let _0x3c2a8a=Hn(_0x12237b)['getCachedS'+'hader'](_0x4f98ba);if(!_0x3c2a8a){const _0x57d741=new Map();_0x40eb41&&_0x57d741['set']('USE_SAMPLE'+'S_TEX',''),_0x27c9da['cubemap']&&_0x57d741['set']('CUBEMAP_SO'+'URCE',''),_0x57d741['set']('{PROCESS_F'+'UNC}',_0x184c27),_0x57d741['set']('{DECODE_FU'+'NC}',_0x5442d1),_0x57d741['set']('{ENCODE_FU'+'NC}',_0x2880a8),_0x57d741['set']('{SOURCE_FU'+'NC}',_0x45124f),_0x57d741['set']('{TARGET_FU'+'NC}',_0x2e1a66),_0x57d741['set']('{NUM_SAMPL'+'ES}',_0x280dde),_0x57d741['set']('{NUM_SAMPL'+'ES_SQRT}',Math['round'](Math['sqrt'](_0x280dde))['toFixed'](0x1a3d*0x1+0x2*0x9ca+0x1*-0x2dd0));const _0x292d7c=_0x12237b['isWebGPU'],_0x3533ff=Pe['get'](_0x12237b,_0x292d7c?it:Fe),_0x4b517c=new Map();_0x4b517c['set']('decodePS',_0x3533ff['get']('decodePS')),_0x4b517c['set']('encodePS',_0x3533ff['get']('encodePS')),_0x3c2a8a=$t['createShad'+'er'](_0x12237b,{'uniqueName':_0x4f98ba,'attributes':{'vertex_position':Me},'vertexChunk':'reprojectV'+'S','fragmentChunk':'reprojectP'+'S','fragmentIncludes':_0x4b517c,'fragmentDefines':_0x57d741});}Q['pushGpuMar'+'ker'](_0x12237b,'ReprojectT'+'exture'),_0x12237b['setBlendSt'+'ate'](pt['NOBLEND']);const _0x1d9ba7=_0x12237b['scope']['resolve'](_0x27c9da['cubemap']?'sourceCube':'sourceTex');w['assert'](_0x1d9ba7),_0x1d9ba7['setValue'](_0x27c9da);const _0x2832de=_0x12237b['scope']['resolve']('params'),_0x196af7=_0x12237b['scope']['resolve']('uvMod');_0x41aaef>0x21d*-0x8+0xf3a*-0x1+0x2022?_0x196af7['setValue']([(_0x185c42+_0x41aaef*(-0x525*0x1+0x81c+0x1*-0x2f5))/_0x185c42,(_0x3b44c3+_0x41aaef*(0xfcc+-0x220f+0x1245))/_0x3b44c3,-_0x41aaef/_0x185c42,-_0x41aaef/_0x3b44c3]):_0x196af7['setValue']([-0x15f2*-0x1+0x2243+-0x3834,0x1d*-0x135+0x1*-0x1787+0x681*0x9,0x1de3*-0x1+-0x2*-0x426+-0x1*-0x1597,-0x13fd+-0x1*0x1445+0x1421*0x2]);const _0x3c0c9b=[-0x24a+-0x26ec+0xa*0x41f,_0x5dcc85['width']*_0x5dcc85['height']*(_0x5dcc85['cubemap']?-0x5*-0x75b+-0x537+-0x16*0x16f:-0x7ce+0x23fd*-0x1+0x2bcc*0x1),_0x27c9da['width']*_0x27c9da['height']*(_0x27c9da['cubemap']?0x16c2*-0x1+0x1*-0x1051+-0x1*-0x2719:0x1e2a+0x1d5*-0x6+-0x132b)];if(_0x40eb41){const _0x13e19d=_0x27c9da['width']*_0x27c9da['height']*(_0x27c9da['cubemap']?0x1*-0x766+0x47*0x27+-0x365*0x1:0x5*0x15d+-0x18e*-0xf+-0x1e22),_0x406f73=_0xaaabc0==='ggx'?sb(_0x12237b,_0x280dde,_0x3f3e9b,_0x13e19d):_0xaaabc0==='lambert'?eb(_0x12237b,_0x280dde,_0x13e19d):tb(_0x12237b,_0x280dde,_0x3f3e9b);_0x12237b['scope']['resolve']('samplesTex')['setValue'](_0x406f73),_0x12237b['scope']['resolve']('samplesTex'+'InverseSiz'+'e')['setValue']([(0x1*0x1cd1+-0x16f7+-0x5d9*0x1)/_0x406f73['width'],(-0xc5f+-0x1492+0x1079*0x2)/_0x406f73['height']]);}for(let _0xa46e59=-0x1886+-0x2*0x1241+0x174*0x2a;_0xa46e59<(_0x5dcc85['cubemap']?-0x220f+-0xcf2+0x2f07:0x1*0x2111+-0x38e+-0x9d6*0x3);_0xa46e59++)if(_0x46dd39===null||_0xa46e59===_0x46dd39){const _0x57a84c=new gt({'colorBuffer':_0x5dcc85,'face':_0xa46e59,'depth':!(0x1b98+0x1*-0x1cae+-0x9*-0x1f),'flipY':_0x12237b['isWebGPU']});_0x3c0c9b[-0xfa7*-0x1+-0x16ba*-0x1+-0xccb*0x3]=_0xa46e59,_0x2832de['setValue'](_0x3c0c9b),Ar(_0x12237b,_0x57a84c,_0x3c2a8a,_0x47ce37==null?void(0x1d*-0x13f+0x26be+-0x29b*0x1):_0x47ce37['rect']),_0x57a84c['destroy']();}return Q['popGpuMark'+'er'](_0x12237b),!(0xfbd+-0x25a8+0x15eb);}const Kd=(_0x3d6e2e,_0x2d223a=-0x1027+-0x1f*-0xfb+0x71f*-0x2)=>-0x19*0xf+-0x2*-0x13c+-0x40*0x4+Math['floor'](Math['log2'](Math['max'](_0x3d6e2e,_0x2d223a))),ib=_0x571e82=>_0x571e82['textureHal'+'fFloatRend'+'erable'],rb=_0xb9929=>_0xb9929['textureFlo'+'atRenderab'+'le'],ab=_0x277b89=>ib(_0x277b89)?nt:rb(_0x277b89)?Xt:Ne,nb=_0x236749=>Ne,ob=(_0x2ac6c6,_0x9ef782,_0x43e93c,_0x4b10f9)=>new _e(_0x2ac6c6,{'name':'lighting-'+_0x9ef782,'cubemap':!(0x2*0xfb5+-0x1ab0+-0x4ba*0x1),'width':_0x9ef782,'height':_0x9ef782,'format':_0x43e93c,'type':Qo,'addressU':ue,'addressV':ue,'mipmaps':!(-0x1*0x349+-0x6b*0x2+0x420)});class Tv{static['generateSk'+'yboxCubema'+'p'](_0x3ebc89,_0x526d36){const _0x3e3a60=_0x3ebc89['device'];Q['pushGpuMar'+'ker'](_0x3e3a60,'genSkyboxC'+'ubemap');const _0x304fac=ob(_0x3e3a60,_0x526d36||(_0x3ebc89['cubemap']?_0x3ebc89['width']:_0x3ebc89['width']/(0x2123+-0x13fa*0x1+-0xd25)),Ne);return vi(_0x3ebc89,_0x304fac,{'numSamples':0x400}),Q['popGpuMark'+'er'](_0x3e3a60),_0x304fac;}static['generateLi'+'ghtingSour'+'ce'](_0x9af0f1,_0x452413){const _0x28d816=_0x9af0f1['device'];Q['pushGpuMar'+'ker'](_0x28d816,'genLightin'+'gSource');const _0x4262da=ab(_0x28d816),_0x4a6a79=(_0x452413==null?void(-0x1649+0x10*0x7b+0x65*0x25):_0x452413['target'])||new _e(_0x28d816,{'name':'lighting-s'+'ource','cubemap':!(-0x5*-0x7ae+-0x1fd0+-0x696),'width':(_0x452413==null?void(-0x43*0x4f+-0x3cd*-0x6+-0x221):_0x452413['size'])||-0x287*0x7+-0x872+0x3*0x8e1,'height':(_0x452413==null?void(0x1*0xcbd+0x1*-0xac9+0xa*-0x32):_0x452413['size'])||-0x21*0x4c+0x29*0xea+-0x1b2e,'format':_0x4262da,'type':_0x4262da===Ne?Qo:Ds,'addressU':ue,'addressV':ue,'mipmaps':!(0x9*0xed+0x154c*-0x1+0xcf7)});return vi(_0x9af0f1,_0x4a6a79,{'numSamples':_0x9af0f1['mipmaps']?-0x258c+-0x3*-0x7ef+0x370*0x4:-0x1d10+0x16bf+0xa51}),Q['popGpuMark'+'er'](_0x28d816),_0x4a6a79;}static['generateAt'+'las'](_0x589c52,_0x36912f){const _0x2e1fe6=_0x589c52['device'],_0xdb75cd=nb();Q['pushGpuMar'+'ker'](_0x2e1fe6,'genAtlas');const _0x509140=(_0x36912f==null?void(-0x631+0x778+-0x147):_0x36912f['target'])||new _e(_0x2e1fe6,{'name':'envAtlas','width':(_0x36912f==null?void(0x11*-0xd9+0xe0+0x483*0x3):_0x36912f['size'])||0x1f8e+-0x1*-0xcbb+0x5*-0x875,'height':(_0x36912f==null?void(-0x5*0x3c6+0x1*-0xec3+0x21a1*0x1):_0x36912f['size'])||0x4*0x93b+0x1769+0x6d*-0x89,'format':_0xdb75cd,'type':Qo,'projection':Vm,'addressU':ue,'addressV':ue,'mipmaps':!(0x174c+-0x16fc+-0x4f)});Q['pushGpuMar'+'ker'](_0x2e1fe6,'mipmaps');const _0x1dcf4b=_0x509140['width']/(0x62c*0x5+0x2*0xed8+0x2*-0x1d46),_0x582245=new re(0x1ae0+0x215d*0x1+-0x3c3d,-0x12b4+0x3*0x895+0x3*-0x259,(-0x5*0x3c1+-0x3*-0xb3e+-0xcf5)*_0x1dcf4b,(0x82*-0x49+-0x7*-0x329+-0x551*-0x3)*_0x1dcf4b),_0x582f1e=Kd(-0x21a0*0x1+-0xd8+0x8de*0x4)-Kd(0x1d70+-0x182b*0x1+0x541*-0x1);for(let _0x26441d=-0x15e3*-0x1+-0xd45*0x2+0x1*0x4a7;_0x26441d<_0x582f1e;++_0x26441d)vi(_0x589c52,_0x509140,{'numSamples':0x1,'rect':_0x582245,'seamPixels':_0x1dcf4b}),_0x582245['x']+=_0x582245['w'],_0x582245['y']+=_0x582245['w'],_0x582245['z']=Math['max'](-0x1979+-0x214d+0x1*0x3ac7,Math['floor'](_0x582245['z']*(-0x2*-0x9c2+-0x2427+0x10a3+0.5))),_0x582245['w']=Math['max'](0x1*0x1bdd+-0x9*0x21d+0x1*-0x8d7,Math['floor'](_0x582245['w']*(0x3ab+0x13fa+-0x17a5+0.5)));Q['popGpuMark'+'er'](_0x2e1fe6),Q['pushGpuMar'+'ker'](_0x2e1fe6,'reflection'+'s'),_0x582245['set'](0x473*0x2+0x7*0x295+-0x1*0x1af9,(-0x262b*-0x1+0x8*-0x342+-0xb1b)*_0x1dcf4b,(-0x1*0x302+-0x18e5+-0x7*-0x421)*_0x1dcf4b,(-0x6*0xa9+-0x35f+0x7d5)*_0x1dcf4b);for(let _0x5656c3=0x38+0x21d7+-0x220e;_0x5656c3<0xb0a+0x377+-0x22*0x6d;++_0x5656c3)vi(_0x589c52,_0x509140,{'numSamples':(_0x36912f==null?void(-0x3*-0x647+0xbf9*0x1+0x1ece*-0x1):_0x36912f['numReflect'+'ionSamples'])||-0x1*0xd9f+-0x6e6+0x1885,'distribution':(_0x36912f==null?void(-0x24a9*-0x1+0xa4f*0x1+-0x2ef8):_0x36912f['distributi'+'on'])||'ggx','specularPower':Math['max'](-0x164c+-0x1108+-0x1*-0x2755,0x13b9+0x11fa*0x1+0x1*-0x1db3>>_0x5656c3*(0x33f*-0x8+-0x1b7f*0x1+0x3579)),'rect':_0x582245,'seamPixels':_0x1dcf4b}),_0x582245['y']+=_0x582245['w'],_0x582245['z']=Math['max'](0x26b8+-0x93b+0x1*-0x1d7c,Math['floor'](_0x582245['z']*(-0xed0+0x8f*-0x27+0x1*0x2499+0.5))),_0x582245['w']=Math['max'](-0x32*-0x6e+0x5*0x38d+-0x144*0x1f,Math['floor'](_0x582245['w']*(0x3f*0x21+-0x174e+0xf2f+0.5)));return Q['popGpuMark'+'er'](_0x2e1fe6),Q['pushGpuMar'+'ker'](_0x2e1fe6,'ambient'),_0x582245['set']((-0x1ae3*0x1+0x1cc4+0x161*-0x1)*_0x1dcf4b,(0x6a6+0x237a+-0x28a0)*_0x1dcf4b,(0x1d1d+0x116a+-0x2e47)*_0x1dcf4b,(-0x7*-0xce+-0x17*-0x93+0x12b7*-0x1)*_0x1dcf4b),vi(_0x589c52,_0x509140,{'numSamples':(_0x36912f==null?void(-0x375*0x9+0x12cc+0xc51):_0x36912f['numAmbient'+'Samples'])||-0x2*0x718+0x1585+-0x9*-0x13,'distribution':'lambert','rect':_0x582245,'seamPixels':_0x1dcf4b}),Q['popGpuMark'+'er'](_0x2e1fe6),Q['popGpuMark'+'er'](_0x2e1fe6),_0x509140;}static['generatePr'+'efilteredA'+'tlas'](_0x4315c7,_0x35d13d){const _0x2f142c=_0x4315c7[0x71e+0x1*-0x3da+0x344*-0x1]['device'],_0x1d8401=_0x4315c7[-0x77a+0x227e+-0x1b04]['format'],_0x803cd=_0x4315c7[0x1994+-0x58+-0x193c]['type'];Q['pushGpuMar'+'ker'](_0x2f142c,'genPrefilt'+'eredAtlas');const _0x2bb0ff=(_0x35d13d==null?void(0x4d*0x35+0x1a*-0x67+-0x1*0x57b):_0x35d13d['target'])||new _e(_0x2f142c,{'name':'envPrefilt'+'eredAtlas','width':(_0x35d13d==null?void(0x1327+0x1899+0x140*-0x23):_0x35d13d['size'])||0x342+0x115f*0x1+-0xfb*0x13,'height':(_0x35d13d==null?void(0x1169+-0x2*-0x545+-0x1bf3):_0x35d13d['size'])||-0xeef+0x1899+-0x7aa,'format':_0x1d8401,'type':_0x803cd,'projection':Vm,'addressU':ue,'addressV':ue,'mipmaps':!(0x10ea*0x1+0x25e5+-0x36ce)});Q['pushGpuMar'+'ker'](_0x2f142c,'mipmaps');const _0x3ffa0d=_0x2bb0ff['width']/(0xc*-0xb+0x1*-0x1c76+-0x2*-0xf7d),_0x587075=new re(-0xcf7*-0x1+0x557+0x1aa*-0xb,-0x3cb*-0x1+0x245e+-0x95*0x45,(-0x1*0x25e1+-0xc2*0xc+-0x15*-0x255)*_0x3ffa0d,(0x5af*0x2+0xb64+-0xa*0x22d)*_0x3ffa0d),_0x51d8aa=Kd(-0x1cb2+0x7*0x3a9+0x513);for(let _0x2c1cb3=0x27*-0xc8+0x2*-0x2fa+0x246c;_0x2c1cb3<_0x51d8aa;++_0x2c1cb3)vi(_0x4315c7[-0x2a*0x31+0x270a+0x7c*-0x40],_0x2bb0ff,{'numSamples':0x1,'rect':_0x587075,'seamPixels':_0x3ffa0d}),_0x587075['x']+=_0x587075['w'],_0x587075['y']+=_0x587075['w'],_0x587075['z']=Math['max'](-0xa48+0x18d3+0xe8a*-0x1,Math['floor'](_0x587075['z']*(-0x63a+-0x26f8+0x2d32+0.5))),_0x587075['w']=Math['max'](-0xd96*-0x2+0x45b+-0x64e*0x5,Math['floor'](_0x587075['w']*(0x1*-0x10b2+0x1*0x1927+-0x1*0x875+0.5)));Q['popGpuMark'+'er'](_0x2f142c),Q['pushGpuMar'+'ker'](_0x2f142c,'reflection'+'s'),_0x587075['set'](-0x147d+0x1ce+0x12af*0x1,(-0x617+-0x1046*-0x1+-0x1*0x92f)*_0x3ffa0d,(0x844+0x10*0x212+0x2*-0x1432)*_0x3ffa0d,(0x13b0+-0xb*-0x289+-0x9*0x53b)*_0x3ffa0d);for(let _0x473f19=-0x98+0x1a51*0x1+-0x8*0x337;_0x473f19<_0x4315c7['length'];++_0x473f19)vi(_0x4315c7[_0x473f19],_0x2bb0ff,{'numSamples':0x1,'rect':_0x587075,'seamPixels':_0x3ffa0d}),_0x587075['y']+=_0x587075['w'],_0x587075['z']=Math['max'](-0x3bf*0x1+-0x1f62+0x3*0xbb6,Math['floor'](_0x587075['z']*(0x581*-0x1+0x6df+-0x15e+0.5))),_0x587075['w']=Math['max'](-0x1*0x1710+-0x12d4+0x29e5,Math['floor'](_0x587075['w']*(0x854+0x1c9*-0x5+-0x99*-0x1+0.5)));return Q['popGpuMark'+'er'](_0x2f142c),Q['pushGpuMar'+'ker'](_0x2f142c,'ambient'),_0x587075['set']((-0x197a+-0x13*0x151+0x32fd)*_0x3ffa0d,(-0xb*-0x272+-0x1047+-0x1*0x91f)*_0x3ffa0d,(0x2*0xc92+-0x2509*0x1+0xc25)*_0x3ffa0d,(0x1a*0xa9+-0xce*0x10+-0x2*0x215)*_0x3ffa0d),_0x35d13d!=null&&_0x35d13d['legacyAmbi'+'ent']?vi(_0x4315c7[0x2*0x5eb+-0x2505+0x64d*0x4],_0x2bb0ff,{'numSamples':0x1,'rect':_0x587075,'seamPixels':_0x3ffa0d}):vi(_0x4315c7[0xec7*-0x1+-0x71c+0x15e3],_0x2bb0ff,{'numSamples':(_0x35d13d==null?void(-0x1ecd*-0x1+0x9b*0x2f+-0x3b42):_0x35d13d['numSamples'])||-0xffb*-0x1+-0x2496+0x1c9b,'distribution':'lambert','rect':_0x587075,'seamPixels':_0x3ffa0d}),Q['popGpuMark'+'er'](_0x2f142c),Q['popGpuMark'+'er'](_0x2f142c),_0x2bb0ff;}}const lb={'aoPS':'1.57','clearCoatPS':'1.57','clearCoatGlossPS':'1.60','clearCoatNormalPS':'1.57','diffusePS':'1.57','emissivePS':'1.57','glossPS':'1.60','metalnessPS':'1.57','normalMapPS':'1.57','opacityPS':'1.57','parallaxPS':'1.57','sheenPS':'1.57','sheenGlossPS':'1.60','specularPS':'1.57','specularityFactorPS':'1.57','thicknessPS':'1.57','transmissionPS':'1.57','normalVertexPS':'1.55','aoDiffuseOccPS':'1.62','aoSpecOccPS':'2.6','clusteredLightPS':'1.62','clusteredLightShadowPS':'1.62','combinePS':'1.62','falloffInvSquaredPS':'1.62','falloffLinearPS':'1.62','lightDiffuseLambertPS':'1.62','lightSheenPS':'1.62','lightSpecularAnisoGGXPS':'1.62','lightSpecularBlinnPS':'1.62','ltcPS':'1.62','reflDirPS':'1.62','reflDirAnisoPS':'1.62','reflectionCCPS':'1.62','reflectionCubePS':'2.6','reflectionEnvPS':'2.6','reflectionEnvHQPS':'2.6','reflectionSpherePS':'2.6','reflectionSheenPS':'1.62','shadowCommonPS':'1.62','shadowCoordPS':'1.62','shadowCoordPerspZBufferPS':'1.62','shadowEVSMPS':'1.62','spotPS':'1.62','TBNPS':'1.62','endPS':'1.65','metalnessModulatePS':'1.65','outputAlphaPS':'1.65','outputAlphaPremulPS':'1.65','fresnelSchlickPS':'1.65','iridescenceDiffractionPS':'1.65','lightmapAddPS':'1.65','refractionCubePS':'1.70','refractionDynamicPS':'1.70'},V_={'ambientPrefilteredCubePS':'1.51','ambientPrefilteredCubeLodPS':'1.51','dpAtlasQuadPS':'1.51','genParaboloidPS':'1.51','prefilterCubemapPS':'1.51','reflectionDpAtlasPS':'1.51','reflectionPrefilteredCubePS':'1.51','reflectionPrefilteredCubeLodPS':'1.51','refractionPS':'1.56','combineClearCoatPS':'1.56','combineDiffusePS':'1.56','combineDiffuseSpecularPS':'1.56','combineDiffuseSpecularNoReflPS':'1.56','combineDiffuseSpecularNoReflSeparateAmbientPS':'1.56','combineDiffuseSpecularOldPS':'1.56','lightmapSingleVertPS':'1.55','normalMapFastPS':'1.55','specularAaNonePS':'1.55','specularAaToksvigPS':'1.55','specularAaToksvigFastPS':'1.55','skyboxEnvPS':'2.1','skyboxHDRPS':'2.1','shadowVSM8PS':'2.3','fogExpPS':'2.5','fogExp2PS':'2.5','fogLinearPS':'2.5','fogNonePS':'2.5','gamma1_0PS':'2.5','gamma2_2PS':'2.5','storeEVSMPS':'2.6','shadowEVSMnPS':'2.6','shadowVSM_commonPS':'2.6','shadowStandardPS':'2.6','shadowStandardGL2PS':'2.6','startVS':'2.6','endVS':'2.6','baseVS':'2.6','baseNineSlicedVS':'2.6','viewNormalVS':'2.6','lightmapDirAddPS':'2.6','TBNObjectSpacePS':'2.6','TBNderivativePS':'2.6','startPS':'2.6','outputAlphaOpaque':'2.6','outputAlphaPremul':'2.6','cubeMapProjectBoxPS':'2.6','cubeMapProjectNonePS':'2.6','envMultiplyPS':'2.6','envConstPS':'2.6','aoSpecOccConstPS':'2.6','aoSpecOccConstSimplePS':'2.6','aoSpecOccSimplePS':'2.6','ambientConstantPS':'2.6','ambientEnvPS':'2.6','ambientSHPS':'2.6','shadowSampleCoordPS':'2.6','diffuseDetailMapPS':'2.7','normalDetailMapPS':'2.7','normalXYPS':'2.7','normalXYZPS':'2.7','aoDetailMapPS':'2.7','lightmapDirPS':'2.7','lightmapSinglePS':'2.7','tangentBinormalVS':'2.7'},cb=(_0x5c01b0,_0x131887)=>{const _0x361e2d=_0x5c01b0['split']('.')['map'](_0x1dbfca=>parseInt(_0x1dbfca,0x212a+0x1*-0x246b+-0x34b*-0x1)),_0x409fb7=_0x131887['split']('.')['map'](_0xf6eb9=>parseInt(_0xf6eb9,0x1*0xd2d+0x1f*-0x22+-0x1*0x905));return _0x361e2d[0x1*-0x268a+0x14d*-0x13+0x3f41*0x1]<_0x409fb7[-0xf0f+-0x17b8+0x9*0x44f]||_0x361e2d[0x1ded+-0x1*0x20bd+-0x168*-0x2]===_0x409fb7[0x371+0x2285+-0x12fb*0x2]&&_0x361e2d[-0x98f+0x1203+-0x3*0x2d1]<_0x409fb7[-0x1675*0x1+-0x2036+0x36ac*0x1];},hb=(_0x5e2bd8,_0xe25312)=>{for(const _0x54a5db of _0x5e2bd8['keys']())if(V_['hasOwnProp'+'erty'](_0x54a5db)){const _0x26f8d1=V_[_0x54a5db];w['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x54a5db+('\x27\x20was\x20remo'+'ved\x20in\x20API'+'\x20')+_0x26f8d1+('\x20and\x20is\x20no'+'\x20longer\x20su'+'pported.'));}else{const _0x279a6c=lb[_0x54a5db];_0x279a6c&&(!_0xe25312||cb(_0xe25312,_0x279a6c))&&w['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x54a5db+('\x27\x20is\x20API\x20v'+'ersion\x20')+_0x279a6c+(',\x20but\x20the\x20'+'supplied\x20c'+'hunk\x20is\x20ve'+'rsion\x20')+(_0xe25312||'undefined')+('.\x20Please\x20u'+'pdate\x20to\x20t'+'he\x20latest\x20'+'API:\x20https'+'://develop'+'er.playcan'+'vas.com/us'+'er-manual/'+'graphics/s'+'hader-chun'+'k-migratio'+'ns/'));}},Zd={'vertex_normal':gs,'vertex_tangent':yi,'vertex_texCoord0':is,'vertex_texCoord1':ba,'vertex_color':Wt,'vertex_boneWeights':gi,'vertex_boneIndices':us};class db{constructor(_0x4757b6,_0x5c050f,_0x1a74f8=!(-0x1b39*-0x1+0x1120+0x2c59*-0x1)){h(this,'varyingsCo'+'de',''),h(this,'device'),h(this,'options'),h(this,'shaderLang'+'uage'),h(this,'vDefines',new Map()),h(this,'fDefines',new Map()),h(this,'includes',new Map()),h(this,'chunks',null),(this['device']=_0x4757b6,this['options']=_0x5c050f);const _0x973efe=_0x5c050f['shaderChun'+'ks'];if(this['shaderLang'+'uage']=_0x4757b6['isWebGPU']&&_0x1a74f8&&(_0x973efe!=null&&_0x973efe['useWGSL'])?it:Fe,this['attributes']={'vertex_position':Me},_0x5c050f['userAttrib'+'utes']){for(const [_0x5079fb,_0x5d2860]of Object['entries'](_0x5c050f['userAttrib'+'utes']))this['attributes'][_0x5d2860]=_0x5079fb;}const _0x94dd6a=Pe['get'](_0x4757b6,this['shaderLang'+'uage']);if(this['chunks']=new Map(_0x94dd6a),_0x973efe){const _0x5c0f18=this['shaderLang'+'uage']===Fe?_0x973efe['glsl']:_0x973efe['wgsl'];w['call'](()=>{hb(_0x5c0f18,_0x973efe['version']);}),_0x5c0f18['forEach']((_0x537b46,_0x87f531)=>{for(const _0x5986b0 in Zd)Zd['hasOwnProp'+'erty'](_0x5986b0)&&_0x537b46['indexOf'](_0x5986b0)>=0xd6*-0x1e+-0x228+0x15*0x14c&&(this['attributes'][_0x5986b0]=Zd[_0x5986b0]);this['chunks']['set'](_0x87f531,_0x537b46);});}this['shaderPass'+'Info']=Si['get'](this['device'])['getByIndex'](_0x5c050f['pass']),this['shadowPass']=this['shaderPass'+'Info']['isShadow'],this['lighting']=_0x5c050f['lights']['length']>-0x16a5+-0xd59+0x22*0x10f||_0x5c050f['dirLightMa'+'pEnabled']||_0x5c050f['clusteredL'+'ightingEna'+'bled'],this['reflection'+'s']=_0x5c050f['reflection'+'Source']!==vr,this['needsNorma'+'l']=this['lighting']||this['reflection'+'s']||_0x5c050f['useSpecula'+'r']||_0x5c050f['ambientSH']||_0x5c050f['useHeights']||_0x5c050f['enableGGXS'+'pecular']||_0x5c050f['clusteredL'+'ightingEna'+'bled']&&!this['shadowPass']||_0x5c050f['useClearCo'+'atNormals'],this['needsNorma'+'l']=this['needsNorma'+'l']&&!this['shadowPass'],this['needsScene'+'Color']=_0x5c050f['useDynamic'+'Refraction'],this['needsScree'+'nSize']=_0x5c050f['useDynamic'+'Refraction'],this['needsTrans'+'forms']=_0x5c050f['useDynamic'+'Refraction'],this['vshader']=null,this['fshader']=null;}['fDefineSet'](_0x26b66a,_0x2636d9,_0x3c203e=''){_0x26b66a&&this['fDefines']['set'](_0x2636d9,_0x3c203e);}['generateVe'+'rtexShader'](_0x42f652,_0x5eefe7,_0x15074c){const {options:_0xac9ab3,vDefines:_0x414301,attributes:_0x24cf66}=this,_0x38f46c=new Map();if(_0x38f46c['set']('vPositionW','vec3'),(_0xac9ab3['nineSliced'+'Mode']===Pt||_0xac9ab3['nineSliced'+'Mode']===Mt)&&_0x414301['set']('NINESLICED',!(-0x1*-0x869+-0x45*-0x5d+-0x217a*0x1)),this['options']['linearDept'+'h']&&(_0x414301['set']('LINEAR_DEP'+'TH',!(0x7c9+0x2514+-0x8f9*0x5)),_0x38f46c['set']('vLinearDep'+'th','float')),this['needsNorma'+'l']&&_0x414301['set']('NORMALS',!(0xa91+0x1316+0x1da7*-0x1)),this['options']['useInstanc'+'ing']){const _0x50dcbc=Pe['get'](this['device'],this['shaderLang'+'uage']);this['chunks']['get']('transformI'+'nstancingV'+'S')===_0x50dcbc['get']('transformI'+'nstancingV'+'S')&&(_0x24cf66['instance_l'+'ine1']=Mp,_0x24cf66['instance_l'+'ine2']=Dp,_0x24cf66['instance_l'+'ine3']=Ip,_0x24cf66['instance_l'+'ine4']=Ln);}this['needsNorma'+'l']&&(_0x24cf66['vertex_nor'+'mal']=gs,_0x38f46c['set']('vNormalW','vec3'),_0xac9ab3['hasTangent'+'s']&&(_0xac9ab3['useHeights']||_0xac9ab3['useNormals']||_0xac9ab3['useClearCo'+'atNormals']||_0xac9ab3['enableGGXS'+'pecular'])?(_0x414301['set']('TANGENTS',!(0x1aa+-0x1d8a*0x1+-0x4*-0x6f8)),_0x24cf66['vertex_tan'+'gent']=yi,_0x38f46c['set']('vTangentW','vec3'),_0x38f46c['set']('vBinormalW','vec3')):_0xac9ab3['enableGGXS'+'pecular']&&(_0x414301['set']('GGX_SPECUL'+'AR',!(0x10ad*0x1+-0x1096+-0x17)),_0x38f46c['set']('vObjectSpa'+'ceUpW','vec3')));const _0x1cc9ba=0x3*-0xcab+0x3b9*-0x8+-0xc3*-0x59;for(let _0x4e3652=0x139*0xb+-0x65f*0x5+0x1268;_0x4e3652<_0x1cc9ba;_0x4e3652++)_0x42f652[_0x4e3652]&&(_0x414301['set']('UV'+_0x4e3652,!(-0x25bc+0xc3+0x24f9)),_0x24cf66['vertex_tex'+'Coord'+_0x4e3652]='TEXCOORD'+_0x4e3652),_0x5eefe7[_0x4e3652]&&(_0x414301['set']('UV'+_0x4e3652+('_UNMODIFIE'+'D'),!(0x6*0x607+-0x1*0x2669+0x23f)),_0x38f46c['set']('vUv'+_0x4e3652,'vec2'));let _0x5b26d9=-0x19bb+0x1580+0x39*0x13;const _0x3c27e7=new Set();_0x15074c['forEach'](_0xa0c734=>{const {id:_0x243d5d,uv:_0x1c9cec,name:_0x5091b6}=_0xa0c734,_0x37416b=_0x243d5d+_0x1c9cec*(-0x2315+-0x9d*0x3a+-0x1*-0x470b);if(!_0x3c27e7['has'](_0x37416b)){_0x3c27e7['add'](_0x37416b),_0x38f46c['set']('vUV'+_0x1c9cec+'_'+_0x243d5d,'vec2');const _0x2bf9d8='texture_'+_0x5091b6+('MapTransfo'+'rm');_0x414301['set']('{TRANSFORM'+'_NAME_'+_0x5b26d9+'}',_0x2bf9d8),_0x414301['set']('{TRANSFORM'+'_UV_'+_0x5b26d9+'}',_0x1c9cec),_0x414301['set']('{TRANSFORM'+'_ID_'+_0x5b26d9+'}',_0x243d5d),_0x5b26d9++;}}),_0x414301['set']('UV_TRANSFO'+'RMS_COUNT',_0x5b26d9),_0xac9ab3['vertexColo'+'rs']&&(_0x24cf66['vertex_col'+'or']=Wt,_0x414301['set']('VERTEX_COL'+'OR',!(0x1a9*0x17+0x8ca+0x39d*-0xd)),_0x38f46c['set']('vVertexCol'+'or','vec4')),_0xac9ab3['useMsdf']&&_0xac9ab3['msdfTextAt'+'tribute']&&(_0x24cf66['vertex_out'+'lineParame'+'ters']=Ko,_0x24cf66['vertex_sha'+'dowParamet'+'ers']=Zo,_0x414301['set']('MSDF',!(-0x2c4+0x2348+-0x4*0x821))),(_0xac9ab3['useMorphPo'+'sition']||_0xac9ab3['useMorphNo'+'rmal'])&&(_0x414301['set']('MORPHING',!(0x662+-0x849+0x1e7*0x1)),_0xac9ab3['useMorphTe'+'xtureBased'+'Int']&&_0x414301['set']('MORPHING_I'+'NT',!(-0x10c*-0xf+0x11*0x155+-0x2659)),_0xac9ab3['useMorphPo'+'sition']&&_0x414301['set']('MORPHING_P'+'OSITION',!(0x2262+-0x3*0x1de+-0x998*0x3)),_0xac9ab3['useMorphNo'+'rmal']&&_0x414301['set']('MORPHING_N'+'ORMAL',!(0x69a+0x18d*-0x5+0x127)),_0x24cf66['morph_vert'+'ex_id']=Ln),_0xac9ab3['skin']&&(_0x24cf66['vertex_bon'+'eIndices']=us,_0xac9ab3['batch']?_0x414301['set']('BATCH',!(-0x1e3f+0x1a7c+0x3c3)):(_0x24cf66['vertex_bon'+'eWeights']=gi,_0x414301['set']('SKIN',!(0x24d0+-0x2619*-0x1+-0x4ae9)))),_0xac9ab3['useInstanc'+'ing']&&_0x414301['set']('INSTANCING',!(-0x1*-0xc7+0x61f*0x2+-0x12f*0xb)),_0xac9ab3['screenSpac'+'e']&&_0x414301['set']('SCREENSPAC'+'E',!(0x24e2+0x1*-0x240b+-0x2b*0x5)),_0xac9ab3['pixelSnap']&&_0x414301['set']('PIXELSNAP',!(-0x59*0x49+0x4d*0x73+-0x12*0x83)),_0x38f46c['forEach']((_0x4f1f1a,_0xf49c56)=>{this['varyingsCo'+'de']+='#define\x20VA'+'RYING_'+_0xf49c56['toUpperCas'+'e']()+'\x0a',this['varyingsCo'+'de']+=this['shaderLang'+'uage']===it?'varying\x20'+_0xf49c56+':\x20'+Fy['get'](_0x4f1f1a)+';\x0a':'varying\x20'+_0x4f1f1a+'\x20'+_0xf49c56+';\x0a';}),this['includes']['set']('varyingsVS',this['varyingsCo'+'de']),this['includes']['set']('varyingsPS',this['varyingsCo'+'de']),this['vshader']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22litMain'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20';}['_setupLigh'+'tingDefine'+'s'](_0x1fea1f,_0x5731eb){const _0x5dba28=this['fDefines'],_0x533977=this['options'];if(this['fDefines']['set']('LIGHT_COUN'+'T',_0x533977['lights']['length']),_0x1fea1f&&_0x5dba28['set']('AREA_LIGHT'+'S',!(-0x2296+-0x24ec+0x4782)),_0x5731eb&&this['lighting']&&(_0x5dba28['set']('LIT_CLUSTE'+'RED_LIGHTS',!(0x194+0x3bb*0x4+-0x1080)),_0x533977['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x5dba28['set']('CLUSTER_CO'+'OKIES',!(0x2ff*0x1+-0x16b0+0x13b1)),_0x533977['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&_0x5dba28['set']('CLUSTER_AR'+'EALIGHTS',!(-0x1f3e+-0x1*0x1c8d+0x3bcb*0x1)),_0x533977['lightMaskD'+'ynamic']&&_0x5dba28['set']('CLUSTER_ME'+'SH_DYNAMIC'+'_LIGHTS',!(-0x7*-0x134+0x1*0x222d+-0x1*0x2a99)),_0x533977['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x533977['noShadow'])){const _0x1e974f=qi['get'](_0x533977['clusteredL'+'ightingSha'+'dowType']);_0x5dba28['set']('CLUSTER_SH'+'ADOWS',!(0x10bd*-0x1+0x1e7+0xed6)),_0x5dba28['set']('SHADOW_KIN'+'D_'+_0x1e974f['kind'],!(-0x105b+0x4c*-0x3b+0x21df)),_0x5dba28['set']('CLUSTER_SH'+'ADOW_TYPE_'+_0x1e974f['kind'],!(0x235c+-0x97*0x17+-0x15cb));}for(let _0x2bd15e=-0xbb*0x25+0x2*-0x120e+-0x7*-0x905;_0x2bd15e<_0x533977['lights']['length'];_0x2bd15e++){const _0x1afa6c=_0x533977['lights'][_0x2bd15e],_0x2209e1=_0x1afa6c['_type'];if(_0x5731eb&&_0x2209e1!==ve)continue;const _0x4737bf=_0x1fea1f&&_0x1afa6c['_shape']?_0x1afa6c['_shape']:Ys,_0x21b22e=_0x1afa6c['_shadowTyp'+'e'],_0x32eb76=_0x1afa6c['castShadow'+'s']&&!_0x533977['noShadow'],_0x1dde04=qi['get'](_0x21b22e);w['assert'](_0x1dde04),_0x5dba28['set']('LIGHT'+_0x2bd15e,!(-0x1d9+-0x1cd4+0x1ead)),_0x5dba28['set']('LIGHT'+_0x2bd15e+'TYPE',''+u_[_0x2209e1]),_0x5dba28['set']('LIGHT'+_0x2bd15e+'SHADOWTYPE',''+_0x1dde04['name']),_0x5dba28['set']('LIGHT'+_0x2bd15e+'SHAPE',''+Fw[_0x4737bf]),_0x5dba28['set']('LIGHT'+_0x2bd15e+'FALLOFF',''+Nw[_0x1afa6c['_falloffMo'+'de']]),_0x1afa6c['affectSpec'+'ularity']&&_0x5dba28['set']('LIGHT'+_0x2bd15e+('AFFECT_SPE'+'CULARITY'),!(-0x1292*-0x1+0x19eb+0x1*-0x2c7d)),_0x1afa6c['_cookie']&&(_0x2209e1===Ze&&!_0x1afa6c['_cookie']['_cubemap']||_0x2209e1===Ke&&_0x1afa6c['_cookie']['_cubemap'])&&(_0x5dba28['set']('LIGHT'+_0x2bd15e+'COOKIE',!(-0xa96+0x51e+0x28*0x23)),_0x5dba28['set']('{LIGHT'+_0x2bd15e+('COOKIE_CHA'+'NNEL}'),_0x1afa6c['_cookieCha'+'nnel']),_0x2209e1===Ze&&(_0x1afa6c['_cookieTra'+'nsform']&&_0x5dba28['set']('LIGHT'+_0x2bd15e+('COOKIE_TRA'+'NSFORM'),!(-0x1ea9+0x2*0x699+-0x1177*-0x1)),_0x1afa6c['_cookieFal'+'loff']&&_0x5dba28['set']('LIGHT'+_0x2bd15e+('COOKIE_FAL'+'LOFF'),!(-0x1fee+-0x23a4+0x4392)))),_0x32eb76&&(_0x5dba28['set']('LIGHT'+_0x2bd15e+'CASTSHADOW',!(-0x4c7*-0x5+0x1090+-0x2873)),_0x1dde04['pcf']&&_0x5dba28['set']('LIGHT'+_0x2bd15e+'SHADOW_PCF',!(-0x1e9*0xf+-0x4*-0x293+-0x25*-0x7f)),_0x1afa6c['_normalOff'+'setBias']&&!_0x1afa6c['_isVsm']&&_0x5dba28['set']('LIGHT'+_0x2bd15e+('_SHADOW_SA'+'MPLE_NORMA'+'L_OFFSET'),!(0x3*0x282+0x22b4+-0x2a3a)),_0x2209e1===ve&&(_0x5dba28['set']('LIGHT'+_0x2bd15e+('_SHADOW_SA'+'MPLE_ORTHO'),!(0x175*0x11+-0x16*0x37+0x1*-0x140b)),_0x1afa6c['cascadeBle'+'nd']>0x19c3+-0x147+-0x4*0x61f&&_0x5dba28['set']('LIGHT'+_0x2bd15e+('_SHADOW_CA'+'SCADE_BLEN'+'D'),!(0x10b3+-0xf0f*-0x1+-0x1fc2)),_0x1afa6c['numCascade'+'s']>-0x2203+0x7*0x373+0x9df&&_0x5dba28['set']('LIGHT'+_0x2bd15e+('_SHADOW_CA'+'SCADES'),!(0x2*-0x1145+0x24ad+-0x223))),(_0x1dde04['pcf']||_0x1dde04['pcss']||this['device']['isWebGPU'])&&_0x5dba28['set']('LIGHT'+_0x2bd15e+('_SHADOW_SA'+'MPLE_SOURC'+'E_ZBUFFER'),!(0x20f6+-0xe8a*0x2+0x1f1*-0x2)),_0x2209e1===Ke&&_0x5dba28['set']('LIGHT'+_0x2bd15e+('_SHADOW_SA'+'MPLE_POINT'),!(0x1d94+0x1703+-0x3497))),_0x32eb76&&(_0x5dba28['set']('SHADOW_KIN'+'D_'+_0x1dde04['kind'],!(0x287+0x119*0x1a+-0x1f11)),_0x2209e1===ve&&_0x5dba28['set']('SHADOW_DIR'+'ECTIONAL',!(0x26be+-0x1f11*0x1+-0x1*0x7ad)));}}['prepareFor'+'wardPass'](_0x13fa7d){const {options:_0x19056a}=this,_0x4fc16c=_0x19056a['clusteredL'+'ightingEna'+'bled']&&_0x19056a['clusteredL'+'ightingAre'+'aLightsEna'+'bled']||_0x19056a['lights']['some'](_0x4e28bc=>_0x4e28bc['_shape']&&_0x4e28bc['_shape']!==Ys),_0x201a3a=!_0x19056a['lightMapEn'+'abled']||_0x19056a['lightMapWi'+'thoutAmbie'+'nt'],_0x13b261=this['needsNorma'+'l']&&(_0x19056a['useNormals']||_0x19056a['useClearCo'+'atNormals']||_0x19056a['enableGGXS'+'pecular']&&!_0x19056a['useHeights']);_0x19056a['useSpecula'+'r']&&(this['fDefineSet'](!(0x901*0x3+-0x413+-0x16f0),'LIT_SPECUL'+'AR'),this['fDefineSet'](this['reflection'+'s'],'LIT_REFLEC'+'TIONS'),this['fDefineSet'](_0x19056a['useClearCo'+'at'],'LIT_CLEARC'+'OAT'),this['fDefineSet'](_0x19056a['fresnelMod'+'el']>0xa5a*0x1+-0x2651+-0x1*-0x1bf7,'LIT_SPECUL'+'AR_FRESNEL'),this['fDefineSet'](_0x19056a['useSheen'],'LIT_SHEEN'),this['fDefineSet'](_0x19056a['useIridesc'+'ence'],'LIT_IRIDES'+'CENCE')),this['fDefineSet'](this['lighting']&&_0x19056a['useSpecula'+'r']||this['reflection'+'s'],'LIT_SPECUL'+'AR_OR_REFL'+'ECTION'),this['fDefineSet'](this['needsScene'+'Color'],'LIT_SCENE_'+'COLOR'),this['fDefineSet'](this['needsScree'+'nSize'],'LIT_SCREEN'+'_SIZE'),this['fDefineSet'](this['needsTrans'+'forms'],'LIT_TRANSF'+'ORMS'),this['fDefineSet'](this['needsNorma'+'l'],'LIT_NEEDS_'+'NORMAL'),this['fDefineSet'](this['lighting'],'LIT_LIGHTI'+'NG'),this['fDefineSet'](_0x19056a['useMetalne'+'ss'],'LIT_METALN'+'ESS'),this['fDefineSet'](_0x19056a['enableGGXS'+'pecular'],'LIT_GGX_SP'+'ECULAR'),this['fDefineSet'](_0x19056a['useSpecula'+'rityFactor'],'LIT_SPECUL'+'ARITY_FACT'+'OR'),this['fDefineSet'](_0x19056a['useCubeMap'+'Rotation'],'CUBEMAP_RO'+'TATION'),this['fDefineSet'](_0x19056a['occludeSpe'+'cularFloat'],'LIT_OCCLUD'+'E_SPECULAR'+'_FLOAT'),this['fDefineSet'](_0x19056a['separateAm'+'bient'],'LIT_SEPARA'+'TE_AMBIENT'),this['fDefineSet'](_0x19056a['twoSidedLi'+'ghting'],'LIT_TWO_SI'+'DED_LIGHTI'+'NG'),this['fDefineSet'](_0x19056a['lightMapEn'+'abled'],'LIT_LIGHTM'+'AP'),this['fDefineSet'](_0x19056a['dirLightMa'+'pEnabled'],'LIT_DIR_LI'+'GHTMAP'),this['fDefineSet'](_0x19056a['skyboxInte'+'nsity']>0x1441+0x53*-0x6f+0xfbc,'LIT_SKYBOX'+'_INTENSITY'),this['fDefineSet'](_0x19056a['clusteredL'+'ightingSha'+'dowsEnable'+'d'],'LIT_CLUSTE'+'RED_SHADOW'+'S'),this['fDefineSet'](_0x19056a['clusteredL'+'ightingAre'+'aLightsEna'+'bled'],'LIT_CLUSTE'+'RED_AREA_L'+'IGHTS'),this['fDefineSet'](_0x13b261,'LIT_TBN'),this['fDefineSet'](_0x201a3a,'LIT_ADD_AM'+'BIENT'),this['fDefineSet'](_0x19056a['hasTangent'+'s'],'LIT_TANGEN'+'TS'),this['fDefineSet'](_0x19056a['useNormals'],'LIT_USE_NO'+'RMALS'),this['fDefineSet'](_0x19056a['useClearCo'+'atNormals'],'LIT_USE_CL'+'EARCOAT_NO'+'RMALS'),this['fDefineSet'](_0x19056a['useRefract'+'ion'],'LIT_REFRAC'+'TION'),this['fDefineSet'](_0x19056a['useDynamic'+'Refraction'],'LIT_DYNAMI'+'C_REFRACTI'+'ON'),this['fDefineSet'](_0x19056a['dispersion'],'LIT_DISPER'+'SION'),this['fDefineSet'](_0x19056a['useHeights'],'LIT_HEIGHT'+'S'),this['fDefineSet'](_0x19056a['opacityFad'+'esSpecular'],'LIT_OPACIT'+'Y_FADES_SP'+'ECULAR'),this['fDefineSet'](_0x19056a['alphaToCov'+'erage'],'LIT_ALPHA_'+'TO_COVERAG'+'E'),this['fDefineSet'](_0x19056a['alphaTest'],'LIT_ALPHA_'+'TEST'),this['fDefineSet'](_0x19056a['useMsdf'],'LIT_MSDF'),this['fDefineSet'](_0x19056a['ssao'],'LIT_SSAO'),this['fDefineSet'](_0x19056a['useAo'],'LIT_AO'),this['fDefineSet'](_0x19056a['occludeDir'+'ect'],'LIT_OCCLUD'+'E_DIRECT'),this['fDefineSet'](_0x19056a['msdfTextAt'+'tribute'],'LIT_MSDF_T'+'EXT_ATTRIB'+'UTE'),this['fDefineSet'](_0x19056a['diffuseMap'+'Enabled'],'LIT_DIFFUS'+'E_MAP'),this['fDefineSet'](_0x19056a['shadowCatc'+'her'],'LIT_SHADOW'+'_CATCHER'),this['fDefineSet'](!(-0x179b+0x1d6+0x15c5*0x1),'LIT_FRESNE'+'L_MODEL',Rw[_0x19056a['fresnelMod'+'el']]),this['fDefineSet'](!(-0x81*0x39+-0x1b08+0x7*0x7f7),'LIT_NONE_S'+'LICE_MODE',qw[_0x19056a['nineSliced'+'Mode']]),this['fDefineSet'](!(-0x27f*-0xc+0x11aa+0x986*-0x5),'LIT_BLEND_'+'TYPE',Yy[_0x19056a['blendType']]),this['fDefineSet'](!(-0x978+-0x1e22+0x279a),'LIT_CUBEMA'+'P_PROJECTI'+'ON',Gw[_0x19056a['cubeMapPro'+'jection']]),this['fDefineSet'](!(0x7*0x4f+0x1ac3*-0x1+0x189a),'LIT_OCCLUD'+'E_SPECULAR',Ww[_0x19056a['occludeSpe'+'cular']]),this['fDefineSet'](!(-0xd*0xa3+-0x9d9*0x2+0x1bf9),'LIT_REFLEC'+'TION_SOURC'+'E',$w[_0x19056a['reflection'+'Source']]),this['fDefineSet'](!(-0x1761+0x1d1*0xb+0x3a*0xf),'LIT_AMBIEN'+'T_SOURCE',Xw[_0x19056a['ambientSou'+'rce']]),this['fDefineSet'](!(-0xb0*0x2+-0x1544+0x16a4),'{lightingU'+'v}',_0x13fa7d??''),this['fDefineSet'](!(-0x2*0x481+-0x187e+-0x2*-0x10c0),'{reflectio'+'nDecode}',Tr['decodeFunc'](_0x19056a['reflection'+'Encoding'])),this['fDefineSet'](!(0x1*0x1734+-0x2*-0x63d+-0x23ae*0x1),'{reflectio'+'nCubemapDe'+'code}',Tr['decodeFunc'](_0x19056a['reflection'+'CubemapEnc'+'oding'])),this['fDefineSet'](!(0x1*-0x1835+0x804+-0x5*-0x33d),'{ambientDe'+'code}',Tr['decodeFunc'](_0x19056a['ambientEnc'+'oding'])),this['_setupLigh'+'tingDefine'+'s'](_0x4fc16c,_0x19056a['clusteredL'+'ightingEna'+'bled']);}['prepareSha'+'dowPass'](){const {options:_0x170e17}=this,_0x1e8fd4=this['shaderPass'+'Info']['lightType'],_0x1c4118=this['shaderPass'+'Info']['shadowType'],_0x5cd506=qi['get'](_0x1c4118);w['assert'](_0x5cd506);const _0x3e04ff=_0x1e8fd4===ve||!_0x5cd506['vsm']&&_0x1e8fd4===Ze;this['fDefineSet'](_0x3e04ff,'PERSPECTIV'+'E_DEPTH'),this['fDefineSet'](!(-0x1c62*0x1+0x101e+0x9d*0x14),'LIGHT_TYPE',''+u_[_0x1e8fd4]),this['fDefineSet'](!(-0x2*0x353+0xdf*0x2a+0x4*-0x77c),'SHADOW_TYP'+'E',''+_0x5cd506['name']),this['fDefineSet'](_0x170e17['alphaTest'],'LIT_ALPHA_'+'TEST');}['generateFr'+'agmentShad'+'er'](_0x36a3da,_0x28338f,_0x30e9a1){const _0x498f5a=this['options'];this['includes']['set']('frontendDe'+'clPS',_0x36a3da??''),this['includes']['set']('frontendCo'+'dePS',_0x28338f??''),_0x498f5a['pass']===Zn||_0x498f5a['pass']===Rl||(this['shadowPass']?this['prepareSha'+'dowPass']():this['prepareFor'+'wardPass'](_0x30e9a1)),this['fshader']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22litMain'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20';}}class wv{constructor(){h(this,'hasTangent'+'s',!(0x1*0x2579+0x3*0xb7e+-0x47f2*0x1)),h(this,'shaderChun'+'ks',null),h(this,'pass',0x94f*-0x2+-0x1*-0x2217+0xe9*-0x11),h(this,'alphaTest',!(0x23da+-0x21ad*0x1+-0x22c)),h(this,'blendType',Cs),h(this,'separateAm'+'bient',!(0x1*-0x349+0x2313+-0x1fc9)),h(this,'screenSpac'+'e',!(0x11*0xad+0x25da+0x4ef*-0xa)),h(this,'skin',!(0x14a7*0x1+-0x4cd*0x5+-0x1*-0x35b)),h(this,'batch',!(-0x1*0x12a9+0x1b7*0xe+-0x156*0x4)),h(this,'useInstanc'+'ing',!(-0x1*-0x26d5+-0xaf6+0xf6*-0x1d)),h(this,'useMorphPo'+'sition',!(-0x1*-0x101b+-0x2*0x1e8+-0xc4a)),h(this,'useMorphNo'+'rmal',!(-0xcaf*0x3+-0x277*-0x2+0x2120)),h(this,'useMorphTe'+'xtureBased'+'Int',!(-0xb1+0x2c*0x8d+-0x178a)),h(this,'nineSliced'+'Mode',-0x25*-0x10b+0xb*-0x219+0x3e1*-0x4),h(this,'clusteredL'+'ightingEna'+'bled',!(-0x144b*0x1+-0x81b+0x1*0x1c66)),h(this,'clusteredL'+'ightingCoo'+'kiesEnable'+'d',!(-0x115d*-0x2+-0x2654+0x1*0x39b)),h(this,'clusteredL'+'ightingSha'+'dowsEnable'+'d',!(0x101e+0x206d+0x28e*-0x13)),h(this,'clusteredL'+'ightingSha'+'dowType',-0x20b1*0x1+0x4*-0x1b4+0x2781*0x1),h(this,'clusteredL'+'ightingAre'+'aLightsEna'+'bled',!(0x1*0x25fd+0x343+-0x1*0x293f)),h(this,'vertexColo'+'rs',!(0x31*-0x9b+0x1*-0x2d3+0x207f)),h(this,'lightMapEn'+'abled',!(0x8e*0x31+-0xf3e+-0xd*0xeb)),h(this,'dirLightMa'+'pEnabled',!(0x1dff*0x1+-0x20b*-0xb+-0x197*0x21)),h(this,'useHeights',!(-0x1c3*0x1+-0x1412+0x82*0x2b)),h(this,'useNormals',!(-0xf09*0x1+0x5d3+0x1*0x937)),h(this,'useClearCo'+'atNormals',!(-0x2ae*0xa+-0x458+0x1d5*0x11)),h(this,'useAo',!(0xf96+0x21d*0xa+0x24b7*-0x1)),h(this,'diffuseMap'+'Enabled',!(-0xbb*0x1b+-0x1cf*-0x9+-0x373*-0x1)),h(this,'pixelSnap',!(-0x226f+-0x1*-0x617+0x1c59)),h(this,'ambientSH',!(-0x4ca*-0x8+-0x191f+-0xd30*0x1)),h(this,'ssao',!(0x12c1+-0x1416+0x156)),h(this,'twoSidedLi'+'ghting',!(0x1*0x5+0x269*0x1+0x26d*-0x1)),h(this,'occludeDir'+'ect',!(-0x1*-0x71c+0x1740+-0x1e5b)),h(this,'occludeSpe'+'cular',-0x1be*0xa+-0x23e3+-0x3*-0x11c5),h(this,'occludeSpe'+'cularFloat',!(0x1*-0x1c31+-0xa03*0x1+0x2635)),h(this,'useMsdf',!(0x1ba2+-0x1f33+0x392)),h(this,'msdfTextAt'+'tribute',!(-0xab7*0x2+0x951*0x3+0x342*-0x2)),h(this,'alphaToCov'+'erage',!(-0x157a+0x3e*0x47+0x1*0x449)),h(this,'opacityFad'+'esSpecular',!(-0x1*-0xda9+0xb1+-0xe59)),h(this,'opacityDit'+'her',Sa),h(this,'opacitySha'+'dowDither',Sa),h(this,'cubeMapPro'+'jection',-0x1149+-0x8*-0x92+0xcb9),h(this,'useSpecula'+'r',!(-0x27*0x76+-0xd3*0x1e+-0x1*-0x2ab5)),h(this,'useSpecula'+'rityFactor',!(0x192+-0x1765+0xfe*0x16)),h(this,'enableGGXS'+'pecular',!(-0xac6+0x191f+-0x4c8*0x3)),h(this,'fresnelMod'+'el',-0x43*-0x2b+0x5*0x137+0x2*-0x8aa),h(this,'useRefract'+'ion',!(0x1*-0x26f6+-0x55b+-0x3d*-0xba)),h(this,'useClearCo'+'at',!(-0x18a*-0xc+-0x1316+0x9f)),h(this,'useSheen',!(0x9b8*-0x2+-0x1e*0x9c+0x25b9)),h(this,'useIridesc'+'ence',!(-0x260d+0x10*-0x23b+0x49be)),h(this,'useMetalne'+'ss',!(0x3*-0xb4d+0x2516+-0x2*0x197)),h(this,'useDynamic'+'Refraction',!(-0x1375+-0x1f31+-0x32a7*-0x1)),h(this,'dispersion',!(0x155b+0x1*-0x2a5+-0x12b5)),h(this,'fog',Kn),h(this,'gamma',Ll),h(this,'toneMap',-(0x1eb9*-0x1+0x2179+0x13*-0x25)),h(this,'reflection'+'Source',vr),h(this,'reflection'+'Encoding',null),h(this,'reflection'+'CubemapEnc'+'oding',null),h(this,'ambientSou'+'rce','constant'),h(this,'ambientEnc'+'oding',null),h(this,'skyboxInte'+'nsity',-0x10f*0xb+-0x2036+-0x7*-0x644),h(this,'useCubeMap'+'Rotation',!(-0x10*-0x14b+0x25dd+-0x3a8c)),h(this,'lightMapWi'+'thoutAmbie'+'nt',!(0x23dc+0x179c+0x3b77*-0x1)),h(this,'lights',[]),h(this,'noShadow',!(-0xd9b+0xcae*-0x2+0x26f8)),h(this,'lightMaskD'+'ynamic',-0x1a0f+-0x24b3+0x3ec2),h(this,'userAttrib'+'utes',{}),h(this,'linearDept'+'h',!(-0x4*-0x8e9+-0x1a+0x1*-0x2389)),h(this,'shadowCatc'+'her',!(-0x231e*0x1+-0x1*0xb83+-0xfe*-0x2f));}}class dl{constructor(){h(this,'defines',new Map()),h(this,'forceUv1',!(-0xd44+0x1*-0x12a1+-0x2*-0xff3)),h(this,'specularTi'+'nt',!(-0x687*-0x3+-0x26a*-0xa+0x8*-0x577)),h(this,'metalnessT'+'int',!(0x43f*0x9+-0x343+0x22f3*-0x1)),h(this,'glossTint',!(0x2320+-0x1*-0x2259+-0x4578)),h(this,'emissiveEn'+'coding','linear'),h(this,'lightMapEn'+'coding','linear'),h(this,'packedNorm'+'al',!(0x177a+0x1*-0x2b3+-0x14c6)),h(this,'normalDeta'+'ilPackedNo'+'rmal',!(-0x43*0x5+0x1e76+-0xb6*0x29)),h(this,'clearCoatP'+'ackedNorma'+'l',!(-0x267b+-0x21b*0x1+0x2897)),h(this,'glossInver'+'t',!(0x1*0x11df+-0x1e67+0x1*0xc89)),h(this,'sheenGloss'+'Invert',!(-0x1*-0x263b+0x1*-0x1893+0x2bb*-0x5)),h(this,'clearCoatG'+'lossInvert',!(0xb87*0x3+-0x5e*0x39+0x2*-0x6d3)),h(this,'useAO',!(-0x3c*-0x8f+0x5*-0x1f3+0x34*-0x75)),h(this,'litOptions',new wv());}get['pass'](){return this['litOptions']['pass'];}}const Ev={'generateKey'(_0x4ff658){return'lit'+Object['keys'](_0x4ff658)['sort']()['map'](_0x2e55d0=>{var _0x5977d9;return _0x2e55d0==='shaderChun'+'ks'?((_0x5977d9=_0x4ff658['shaderChun'+'ks'])==null?void(0x2*-0x107e+-0xd1f*0x2+0x3b3a):_0x5977d9['key'])??'':_0x2e55d0==='lights'?Ev['generateLi'+'ghtsKey'](_0x4ff658):_0x2e55d0+_0x4ff658[_0x2e55d0];})['join']('\x0a');},'generateLightsKey'(_0x2a940d){return'lights:'+_0x2a940d['lights']['map'](_0x2765cc=>!_0x2a940d['clusteredL'+'ightingEna'+'bled']||_0x2765cc['_type']===ve?_0x2765cc['key']+',':'')['join']('');}},bn=[],Qd=_0x16cf0e=>Object['keys'](_0x16cf0e)['filter'](_0x2566a7=>_0x2566a7!=='litOptions')['sort']();class fb extends ya{constructor(){super(...arguments),h(this,'optionsCon'+'text',new dl()),h(this,'optionsCon'+'textMin',new dl());}['generateKe'+'y'](_0x3c72f7){let _0x16c367;return _0x3c72f7===this['optionsCon'+'textMin']?(this['propsMin']||(this['propsMin']=Qd(_0x3c72f7)),_0x16c367=this['propsMin']):_0x3c72f7===this['optionsCon'+'text']?(this['props']||(this['props']=Qd(_0x3c72f7)),_0x16c367=this['props']):_0x16c367=Qd(_0x3c72f7),'standard:\x0a'+ya['definesHas'+'h'](_0x3c72f7['defines'])+'\x0a'+_0x16c367['map'](_0x2bb8ae=>_0x2bb8ae+_0x3c72f7[_0x2bb8ae])['join']('\x0a')+Ev['generateKe'+'y'](_0x3c72f7['litOptions']);}['_getUvSour'+'ceExpressi'+'on'](_0xbfef33,_0x1174d7,_0x720b72){const _0x5c55dc=_0x720b72[_0xbfef33],_0x851acc=_0x720b72[_0x1174d7],_0x41800a=_0x720b72['litOptions']['pass']===Aa;let _0x2ec549;return _0x41800a&&_0x720b72['litOptions']['nineSliced'+'Mode']===Pt||_0x41800a&&_0x720b72['litOptions']['nineSliced'+'Mode']===Mt?_0x2ec549='nineSliced'+'Uv':(_0x5c55dc===-0x141*-0xe+0xdf2+0x540*-0x6?_0x2ec549='vUv'+_0x851acc:_0x2ec549='vUV'+_0x851acc+'_'+_0x5c55dc,_0x720b72['heightMap']&&_0xbfef33!=='heightMapT'+'ransform'&&(_0x2ec549+='\x20+\x20dUvOffs'+'et')),_0x2ec549;}['_validateM'+'apChunk'](_0x3fc199,_0xca8a16,_0x3f72b9){w['call'](()=>{const _0x40a743=_0x3f72b9['get'](_0xca8a16)['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1'),_0x22c92b=[],_0xb09235=(_0x553e5a,_0x13130f)=>{_0x40a743['includes'](_0x553e5a)&&_0x22c92b['push']('\x20\x20'+_0x553e5a+'\x20->\x20'+_0x13130f);};[['$UV','{STD_'+_0x3fc199+('_TEXTURE_U'+'V}')],['$CH','{STD_'+_0x3fc199+('_TEXTURE_C'+'HANNEL}')],['$SAMPLER','{STD_'+_0x3fc199+('_TEXTURE_N'+'AME}')],['$DECODE','{STD_'+_0x3fc199+('_TEXTURE_D'+'ECODE}')],['$VC','{STD_'+_0x3fc199+('_VERTEX_CH'+'ANNEL}')],['$DETAILMOD'+'E','{STD_'+_0x3fc199+('_DETAILMOD'+'E}')],['unpackNorm'+'al(','{STD_'+_0x3fc199+('_TEXTURE_D'+'ECODE}(')]]['forEach'](([_0x4aa01d,_0x4b6873])=>_0xb09235(_0x4aa01d,_0x4b6873)),[['MAPFLOAT','STD_'+_0x3fc199+'_CONSTANT'],['MAPCOLOR','STD_'+_0x3fc199+'_CONSTANT'],['MAPVERTEX','STD_'+_0x3fc199+'_VERTEX'],['MAPTEXTURE','STD_'+_0x3fc199+'_TEXTURE'],['MAPINVERT','STD_'+_0x3fc199+'_INVERT']]['forEach'](([_0x455db6,_0x46a7f3])=>_0xb09235(_0x455db6,_0x46a7f3)),_0x40a743['includes']('$texture2D'+'SAMPLE')&&_0xb09235('$texture2D'+'SAMPLE','(Macro\x20no\x20'+'longer\x20sup'+'ported\x20-\x20r'+'emove/refa'+'ctor)'),_0x22c92b['length']>-0x2142+0x215f+-0x1*0x1d&&w['errorOnce']('Shader\x20chu'+'nk\x20'+_0xca8a16+('\x20is\x20in\x20no\x20'+'longer\x20com'+'patible\x20fo'+'rmat.\x20Plea'+'se\x20make\x20th'+'ese\x20replac'+'ements\x20to\x20'+'bring\x20it\x20t'+'o\x20the\x20curr'+'ent\x20versio'+'n:\x0a')+_0x22c92b['join']('\x0a'),{'code':_0x40a743});});}['_addMapDef'+'ines'](_0xb67d1e,_0x22cdbf,_0x380a9e,_0x45e59f,_0x747b64,_0x4021b3,_0x21b49c=null){const _0x1bb309=_0x22cdbf+'Map',_0x183e36=_0x22cdbf['toUpperCas'+'e'](),_0x3a4b16=_0x1bb309+'Uv',_0x51a5d4=_0x1bb309+'Identifier',_0x3f20ac=_0x1bb309+'Transform',_0x4a430b=_0x1bb309+'Channel',_0x227217=_0x22cdbf+('VertexColo'+'rChannel'),_0x3521d5=_0x22cdbf+'Tint',_0x55e7ac=_0x22cdbf+('VertexColo'+'r'),_0x18b1d8=_0x22cdbf+'Mode',_0x2be0ec=_0x22cdbf+'Invert',_0x110c38=_0x45e59f[_0x3521d5],_0x5bcd89=_0x45e59f[_0x55e7ac],_0x3f0305=_0x45e59f[_0x1bb309],_0x2d51e4=_0x45e59f[_0x51a5d4],_0x7c3173=_0x45e59f[_0x18b1d8],_0x13a4fa=_0x747b64['get'](_0x380a9e);if(w['assert'](_0x13a4fa,'Shader\x20chu'+'nk\x20'+_0x380a9e+('\x20not\x20found'+'.')),w['call'](()=>{_0x13a4fa&&this['_validateM'+'apChunk'](_0x183e36,_0x380a9e,_0x747b64);}),_0x3f0305){_0xb67d1e['set']('STD_'+_0x183e36+'_TEXTURE','');const _0x548bb0=this['_getUvSour'+'ceExpressi'+'on'](_0x3f20ac,_0x3a4b16,_0x45e59f);_0xb67d1e['set']('{STD_'+_0x183e36+('_TEXTURE_U'+'V}'),_0x548bb0),_0xb67d1e['set']('{STD_'+_0x183e36+('_TEXTURE_C'+'HANNEL}'),_0x45e59f[_0x4a430b]);const _0x5bdccc='{STD_'+_0x183e36+('_TEXTURE_N'+'AME}');if(_0x13a4fa['includes'](_0x5bdccc)){let _0x475797='texture_'+_0x1bb309;const _0x1b83ac=_0x4021b3[_0x2d51e4];_0x1b83ac?_0x475797=_0x1b83ac:(_0x4021b3[_0x2d51e4]=_0x475797,_0xb67d1e['set']('STD_'+_0x183e36+('_TEXTURE_A'+'LLOCATE'),'')),_0xb67d1e['set'](_0x5bdccc,_0x475797);}if(_0x21b49c){const _0xb1a8d7=_0x45e59f[_0x4a430b]==='aaa'?'passThroug'+'h':Tr['decodeFunc'](_0x21b49c);_0xb67d1e['set']('{STD_'+_0x183e36+('_TEXTURE_D'+'ECODE}'),_0xb1a8d7);}}_0x5bcd89&&(_0xb67d1e['set']('STD_'+_0x183e36+'_VERTEX',''),_0xb67d1e['set']('{STD_'+_0x183e36+('_VERTEX_CH'+'ANNEL}'),_0x45e59f[_0x227217])),_0x7c3173&&_0xb67d1e['set']('{STD_'+_0x183e36+('_DETAILMOD'+'E}'),_0x7c3173),_0x110c38&&_0xb67d1e['set']('STD_'+_0x183e36+'_CONSTANT',''),_0x45e59f[_0x2be0ec]&&_0xb67d1e['set']('STD_'+_0x183e36+'_INVERT','');}['_correctCh'+'annel'](_0x2f2fdb,_0x2941da,_0x34976f){if(_0x34976f[_0x2f2fdb]>-0x4*-0x4a+-0x1556+0x3*0x6ba){if(_0x34976f[_0x2f2fdb]<_0x2941da['length'])return _0x2941da['substring'](-0x858+0x2aa+0x5ae*0x1,_0x34976f[_0x2f2fdb]);if(_0x34976f[_0x2f2fdb]>_0x2941da['length']){let _0x525283=_0x2941da;const _0x13b822=_0x525283['charAt'](_0x525283['length']-(-0x1593+-0xc1d*-0x2+-0x2a6)),_0x439b62=_0x34976f[_0x2f2fdb]-_0x525283['length'];for(let _0x22f23d=0x1b61+-0x221f*-0x1+-0x3d80;_0x22f23d<_0x439b62;_0x22f23d++)_0x525283+=_0x13b822;return _0x525283;}return _0x2941da;}}['createVert'+'exShader'](_0x45d168,_0x400237){const _0x380f72=[],_0x19e9da=[],_0x22bdc4=[];for(const _0x8b9317 in bn){const _0x42c6ca=_0x8b9317+'Map';if(_0x400237[_0x8b9317+('VertexColo'+'r')]){const _0x11188b=_0x8b9317+('VertexColo'+'rChannel');_0x400237[_0x11188b]=this['_correctCh'+'annel'](_0x8b9317,_0x400237[_0x11188b],bn);}if(_0x400237[_0x42c6ca]){const _0x5c647c=_0x42c6ca+'Channel',_0x58536d=_0x42c6ca+'Transform',_0x3a0e2a=_0x42c6ca+'Uv';_0x400237[_0x3a0e2a]=Math['min'](_0x400237[_0x3a0e2a],-0x21af+-0x1168+0x3318),_0x400237[_0x5c647c]=this['_correctCh'+'annel'](_0x8b9317,_0x400237[_0x5c647c],bn);const _0x214520=_0x400237[_0x3a0e2a];_0x380f72[_0x214520]=!(-0x11*-0x94+0x1dde+0x27b2*-0x1),_0x19e9da[_0x214520]=_0x19e9da[_0x214520]||_0x400237[_0x42c6ca]&&!_0x400237[_0x58536d],_0x400237[_0x58536d]&&_0x22bdc4['push']({'name':_0x8b9317,'id':_0x400237[_0x58536d],'uv':_0x400237[_0x3a0e2a]});}}_0x400237['forceUv1']&&(_0x380f72[-0x1656+0x1c81+-0x6*0x107]=!(-0x1*-0xd3d+-0x42*0x73+0x1069),_0x19e9da[-0x13d+0x2de+-0x1a0]=_0x19e9da[-0xa79+-0x1dff*0x1+-0xd*-0x31d]!==void(-0xe72+-0x11bf+0x2031)?_0x19e9da[-0x3a3+0xaf2*0x3+-0xe99*0x2]:!(0x200f+0x1*0x8b5+-0x28c4)),_0x45d168['generateVe'+'rtexShader'](_0x380f72,_0x19e9da,_0x22bdc4);}['prepareFra'+'gmentDefin'+'es'](_0x5bde37,_0x1a55b5,_0x196722){const _0xadfc9=(_0x3dc94a,_0x3b9b33,_0x3f2fa8='')=>{_0x3dc94a&&_0x1a55b5['set'](_0x3b9b33,_0x3f2fa8);};_0xadfc9(_0x5bde37['lightMap'],'STD_LIGHTM'+'AP',''),_0xadfc9(_0x5bde37['lightVerte'+'xColor'],'STD_LIGHT_'+'VERTEX_COL'+'OR',''),_0xadfc9(_0x5bde37['dirLightMa'+'p']&&_0x5bde37['litOptions']['useSpecula'+'r'],'STD_LIGHTM'+'AP_DIR',''),_0xadfc9(_0x5bde37['heightMap'],'STD_HEIGHT'+'_MAP',''),_0xadfc9(_0x5bde37['useSpecula'+'rColor'],'STD_SPECUL'+'AR_COLOR',''),_0xadfc9(_0x5bde37['aoMap']||_0x5bde37['aoVertexCo'+'lor']||_0x5bde37['useAO'],'STD_AO',''),_0xadfc9(!(0x18e0+0xd*-0x1c6+-0x1d2*0x1),'STD_OPACIT'+'Y_DITHER',iE[_0x196722['isForward']?_0x5bde37['litOptions']['opacityDit'+'her']:_0x5bde37['litOptions']['opacitySha'+'dowDither']]);}['createShad'+'erDefiniti'+'on'](_0x244c5d,_0x494b23){const _0x26be9f=Si['get'](_0x244c5d)['getByIndex'](_0x494b23['litOptions']['pass']),_0x42918f=_0x26be9f['isForward'],_0x226de7=new db(_0x244c5d,_0x494b23['litOptions']);this['createVert'+'exShader'](_0x226de7,_0x494b23);const _0x254047={};_0x494b23['litOptions']['fresnelMod'+'el']=_0x494b23['litOptions']['fresnelMod'+'el']===-0xa55+-0x23d3+0x1714*0x2?Yp:_0x494b23['litOptions']['fresnelMod'+'el'];const _0x18fed2=_0x226de7['fDefines'];this['prepareFra'+'gmentDefin'+'es'](_0x494b23,_0x18fed2,_0x26be9f);let _0x19a7a6='';if(_0x42918f){if(_0x494b23['heightMap']&&this['_addMapDef'+'ines'](_0x18fed2,'height','parallaxPS',_0x494b23,_0x226de7['chunks'],_0x254047),(_0x494b23['litOptions']['blendType']!==Cs||_0x494b23['litOptions']['alphaTest']||_0x494b23['litOptions']['alphaToCov'+'erage']||_0x494b23['litOptions']['opacityDit'+'her']!==Sa)&&this['_addMapDef'+'ines'](_0x18fed2,'opacity','opacityPS',_0x494b23,_0x226de7['chunks'],_0x254047),_0x226de7['needsNorma'+'l']){if((_0x494b23['normalMap']||_0x494b23['clearCoatN'+'ormalMap'])&&!_0x494b23['litOptions']['hasTangent'+'s']){const _0x4c6e43=_0x494b23['normalMap']?'normalMap':'clearCoatN'+'ormalMap';_0x19a7a6=this['_getUvSour'+'ceExpressi'+'on'](_0x4c6e43+'Transform',_0x4c6e43+'Uv',_0x494b23);}this['_addMapDef'+'ines'](_0x18fed2,'normalDeta'+'il','normalMapP'+'S',_0x494b23,_0x226de7['chunks'],_0x254047,_0x494b23['normalDeta'+'ilPackedNo'+'rmal']?'xy':'xyz'),this['_addMapDef'+'ines'](_0x18fed2,'normal','normalMapP'+'S',_0x494b23,_0x226de7['chunks'],_0x254047,_0x494b23['packedNorm'+'al']?'xy':'xyz');}_0x494b23['diffuseDet'+'ail']&&this['_addMapDef'+'ines'](_0x18fed2,'diffuseDet'+'ail','diffusePS',_0x494b23,_0x226de7['chunks'],_0x254047,_0x494b23['diffuseDet'+'ailEncodin'+'g']),this['_addMapDef'+'ines'](_0x18fed2,'diffuse','diffusePS',_0x494b23,_0x226de7['chunks'],_0x254047,_0x494b23['diffuseEnc'+'oding']),_0x494b23['litOptions']['useRefract'+'ion']&&(this['_addMapDef'+'ines'](_0x18fed2,'refraction','transmissi'+'onPS',_0x494b23,_0x226de7['chunks'],_0x254047),this['_addMapDef'+'ines'](_0x18fed2,'thickness','thicknessP'+'S',_0x494b23,_0x226de7['chunks'],_0x254047)),_0x494b23['litOptions']['useIridesc'+'ence']&&(this['_addMapDef'+'ines'](_0x18fed2,'iridescenc'+'e','iridescenc'+'ePS',_0x494b23,_0x226de7['chunks'],_0x254047),this['_addMapDef'+'ines'](_0x18fed2,'iridescenc'+'eThickness','iridescenc'+'eThickness'+'PS',_0x494b23,_0x226de7['chunks'],_0x254047)),(_0x226de7['lighting']&&_0x494b23['litOptions']['useSpecula'+'r']||_0x226de7['reflection'+'s'])&&(_0x494b23['litOptions']['useSheen']&&(this['_addMapDef'+'ines'](_0x18fed2,'sheen','sheenPS',_0x494b23,_0x226de7['chunks'],_0x254047,_0x494b23['sheenEncod'+'ing']),this['_addMapDef'+'ines'](_0x18fed2,'sheenGloss','sheenGloss'+'PS',_0x494b23,_0x226de7['chunks'],_0x254047)),_0x494b23['litOptions']['useMetalne'+'ss']&&(this['_addMapDef'+'ines'](_0x18fed2,'metalness','metalnessP'+'S',_0x494b23,_0x226de7['chunks'],_0x254047),this['_addMapDef'+'ines'](_0x18fed2,'ior','iorPS',_0x494b23,_0x226de7['chunks'],_0x254047)),_0x494b23['litOptions']['useSpecula'+'rityFactor']&&this['_addMapDef'+'ines'](_0x18fed2,'specularit'+'yFactor','specularit'+'yFactorPS',_0x494b23,_0x226de7['chunks'],_0x254047),_0x494b23['useSpecula'+'rColor']&&this['_addMapDef'+'ines'](_0x18fed2,'specular','specularPS',_0x494b23,_0x226de7['chunks'],_0x254047,_0x494b23['specularEn'+'coding']),this['_addMapDef'+'ines'](_0x18fed2,'gloss','glossPS',_0x494b23,_0x226de7['chunks'],_0x254047)),_0x494b23['aoDetail']&&this['_addMapDef'+'ines'](_0x18fed2,'aoDetail','aoPS',_0x494b23,_0x226de7['chunks'],_0x254047),(_0x494b23['aoMap']||_0x494b23['aoVertexCo'+'lor']||_0x494b23['useAO'])&&this['_addMapDef'+'ines'](_0x18fed2,'ao','aoPS',_0x494b23,_0x226de7['chunks'],_0x254047),this['_addMapDef'+'ines'](_0x18fed2,'emissive','emissivePS',_0x494b23,_0x226de7['chunks'],_0x254047,_0x494b23['emissiveEn'+'coding']),_0x494b23['litOptions']['useClearCo'+'at']&&(this['_addMapDef'+'ines'](_0x18fed2,'clearCoat','clearCoatP'+'S',_0x494b23,_0x226de7['chunks'],_0x254047),this['_addMapDef'+'ines'](_0x18fed2,'clearCoatG'+'loss','clearCoatG'+'lossPS',_0x494b23,_0x226de7['chunks'],_0x254047),this['_addMapDef'+'ines'](_0x18fed2,'clearCoatN'+'ormal','clearCoatN'+'ormalPS',_0x494b23,_0x226de7['chunks'],_0x254047,_0x494b23['clearCoatP'+'ackedNorma'+'l']?'xy':'xyz')),_0x494b23['litOptions']['enableGGXS'+'pecular']&&this['_addMapDef'+'ines'](_0x18fed2,'anisotropy','anisotropy'+'PS',_0x494b23,_0x226de7['chunks'],_0x254047),(_0x494b23['lightMap']||_0x494b23['lightVerte'+'xColor'])&&this['_addMapDef'+'ines'](_0x18fed2,'light','lightmapPS',_0x494b23,_0x226de7['chunks'],_0x254047,_0x494b23['lightMapEn'+'coding']);}else{const _0x18e0e9=_0x494b23['litOptions']['opacitySha'+'dowDither'];(_0x494b23['litOptions']['alphaTest']||_0x18e0e9)&&this['_addMapDef'+'ines'](_0x18fed2,'opacity','opacityPS',_0x494b23,_0x226de7['chunks'],_0x254047);}_0x226de7['generateFr'+'agmentShad'+'er'](_0x226de7['chunks']['get']('stdDeclara'+'tionPS'),_0x226de7['chunks']['get']('stdFrontEn'+'dPS'),_0x19a7a6);const _0x82e467=bh['merge'](_0x226de7['chunks'],_0x226de7['includes']),_0x424e0c=_0x226de7['vDefines'];_0x494b23['defines']['forEach']((_0x26d948,_0x35ad19)=>_0x424e0c['set'](_0x35ad19,_0x26d948)),_0x494b23['defines']['forEach']((_0x222b14,_0x247082)=>_0x18fed2['set'](_0x247082,_0x222b14));const _0x397b37=Jt['createDefi'+'nition'](_0x244c5d,{'name':'StandardSh'+'ader','attributes':_0x226de7['attributes'],'shaderLanguage':_0x226de7['shaderLang'+'uage'],'vertexCode':_0x226de7['vshader'],'fragmentCode':_0x226de7['fshader'],'vertexIncludes':_0x82e467,'fragmentIncludes':_0x82e467,'fragmentDefines':_0x18fed2,'vertexDefines':_0x424e0c});return _0x226de7['shaderPass'+'Info']['isForward']&&(_0x397b37['tag']=Sy),_0x397b37;}}const Jd=new fb(),ss=[];ss[Gp]={'src':Ft,'dst':Ft,'op':Tx},ss[Cs]={'src':Ft,'dst':rp,'op':fs},ss[Zs]={'src':jh,'dst':Yh,'op':fs,'alphaSrc':Ft},ss[Gn]={'src':Ft,'dst':Yh,'op':fs},ss[Hp]={'src':Ft,'dst':Ft,'op':fs},ss[Ed]={'src':jh,'dst':Ft,'op':fs},ss[$p]={'src':JS,'dst':vx,'op':fs},ss[Xp]={'src':xx,'dst':Ft,'op':fs},ss[Wp]={'src':JS,'dst':rp,'op':fs},ss[qp]={'src':Ft,'dst':Ft,'op':wx},ss[jp]={'src':Ft,'dst':Ft,'op':Ex};let ub=0x1*-0x21ea+-0x167*-0x5+0x61*0x47;class tr{constructor(){h(this,'meshInstan'+'ces',[]),h(this,'name','Untitled'),h(this,'userId',''),h(this,'id',ub++),h(this,'variants',new Map()),h(this,'defines',new Map()),h(this,'_definesDi'+'rty',!(-0x3f8*-0x3+0x649*-0x4+0xd3d)),h(this,'parameters',{}),h(this,'alphaTest',-0x8d5+0xc*0x1d1+-0xcf7),h(this,'alphaToCov'+'erage',!(0x276+0xde5+0x7*-0x256)),h(this,'_blendStat'+'e',new pt()),h(this,'_depthStat'+'e',new Yt()),h(this,'cull',pa),h(this,'stencilFro'+'nt',null),h(this,'stencilBac'+'k',null),h(this,'_shaderChu'+'nks',null),h(this,'_oldChunks',{}),h(this,'_dirtyShad'+'er',!(-0x2a2*0x1+-0xb*-0x27+-0x5*-0x31)),h(this,'_shaderVer'+'sion',0x1b32+-0x1*-0x887+-0x23b9),h(this,'_scene',null),h(this,'dirty',!(-0x5*0xe9+0x141*0x1f+-0x2252)),new.target===tr&&w['error']('Material\x20c'+'lass\x20canno'+'t\x20be\x20insta'+'ntiated,\x20u'+'se\x20ShaderM'+'aterial\x20in'+'stead');}get['hasShaderC'+'hunks'](){return this['_shaderChu'+'nks']!=null;}get['shaderChun'+'ks'](){return this['_shaderChu'+'nks']||(this['_shaderChu'+'nks']=new Pe()),this['_shaderChu'+'nks'];}['getShaderC'+'hunks'](_0x154e6f=Fe){const _0xc2b6cc=this['shaderChun'+'ks'];return _0x154e6f===Fe?_0xc2b6cc['glsl']:_0xc2b6cc['wgsl'];}set['shaderChun'+'ksVersion'](_0x387e25){this['shaderChun'+'ks']['version']=_0x387e25;}get['shaderChun'+'ksVersion'](){return this['shaderChun'+'ks']['version'];}set['chunks'](_0x4b2f88){w['deprecated']('Material.c'+'hunks\x20has\x20'+'been\x20remov'+'ed,\x20please'+'\x20use\x20Mater'+'ial.getSha'+'derChunks\x20'+'instead.\x20F'+'or\x20example'+':\x20material'+'.getShader'+'Chunks(pc.'+'SHADERLANG'+'UAGE_GLSL)'+'.set(\x22chun'+'kName\x22,\x20\x22c'+'hunkCode\x22)'),this['_oldChunks']=_0x4b2f88;}get['chunks'](){return w['deprecated']('Material.c'+'hunks\x20has\x20'+'been\x20remov'+'ed,\x20please'+'\x20use\x20Mater'+'ial.getSha'+'derChunks\x20'+'instead.\x20F'+'or\x20example'+':\x20material'+'.getShader'+'Chunks(pc.'+'SHADERLANG'+'UAGE_GLSL)'+'.set(\x22chun'+'kName\x22,\x20\x22c'+'hunkCode\x22)'),Object['assign'](this['_oldChunks'],Object['fromEntrie'+'s'](this['shaderChun'+'ks']['glsl'])),this['_oldChunks'];}set['depthBias'](_0x5a1125){this['_depthStat'+'e']['depthBias']=_0x5a1125;}get['depthBias'](){return this['_depthStat'+'e']['depthBias'];}set['slopeDepth'+'Bias'](_0x5c1873){this['_depthStat'+'e']['depthBiasS'+'lope']=_0x5c1873;}get['slopeDepth'+'Bias'](){return this['_depthStat'+'e']['depthBiasS'+'lope'];}set['redWrite'](_0x5a93fc){this['_blendStat'+'e']['redWrite']=_0x5a93fc;}get['redWrite'](){return this['_blendStat'+'e']['redWrite'];}set['greenWrite'](_0xca15da){this['_blendStat'+'e']['greenWrite']=_0xca15da;}get['greenWrite'](){return this['_blendStat'+'e']['greenWrite'];}set['blueWrite'](_0x1d2692){this['_blendStat'+'e']['blueWrite']=_0x1d2692;}get['blueWrite'](){return this['_blendStat'+'e']['blueWrite'];}set['alphaWrite'](_0x1c2f74){this['_blendStat'+'e']['alphaWrite']=_0x1c2f74;}get['alphaWrite'](){return this['_blendStat'+'e']['alphaWrite'];}get['transparen'+'t'](){return this['_blendStat'+'e']['blend'];}['_updateTra'+'nsparency'](){const _0x5d53af=this['transparen'+'t'],_0x2d5e08=this['meshInstan'+'ces'];for(let _0x2d6972=0x1*-0x6d9+0xdf0+-0x717;_0x2d6972<_0x2d5e08['length'];_0x2d6972++)_0x2d5e08[_0x2d6972]['transparen'+'t']=_0x5d53af;}set['blendState'](_0x2efd84){this['_blendStat'+'e']['copy'](_0x2efd84),this['_updateTra'+'nsparency']();}get['blendState'](){return this['_blendStat'+'e'];}set['blendType'](_0xf673e0){const _0x47a0f5=ss[_0xf673e0];w['assert'](_0x47a0f5,'Unknown\x20bl'+'end\x20mode\x20'+_0xf673e0),this['_blendStat'+'e']['setColorBl'+'end'](_0x47a0f5['op'],_0x47a0f5['src'],_0x47a0f5['dst']),this['_blendStat'+'e']['setAlphaBl'+'end'](_0x47a0f5['alphaOp']??_0x47a0f5['op'],_0x47a0f5['alphaSrc']??_0x47a0f5['src'],_0x47a0f5['alphaDst']??_0x47a0f5['dst']);const _0x2dd998=_0xf673e0!==Cs;this['_blendStat'+'e']['blend']!==_0x2dd998&&(this['_blendStat'+'e']['blend']=_0x2dd998,this['_updateTra'+'nsparency']()),this['_updateMes'+'hInstanceK'+'eys']();}get['blendType'](){if(!this['transparen'+'t'])return Cs;const {colorOp:_0x591daf,colorSrcFactor:_0x2f6ae8,colorDstFactor:_0x6312af,alphaOp:_0xe23aa5,alphaSrcFactor:_0x92d964,alphaDstFactor:_0x1e448d}=this['_blendStat'+'e'];for(let _0x41f360=-0x8d*-0x8+0x2476+-0x28de;_0x41f360<ss['length'];_0x41f360++){const _0x5791c1=ss[_0x41f360];if(_0x5791c1['src']===_0x2f6ae8&&_0x5791c1['dst']===_0x6312af&&_0x5791c1['op']===_0x591daf&&_0x5791c1['src']===_0x92d964&&_0x5791c1['dst']===_0x1e448d&&_0x5791c1['op']===_0xe23aa5)return _0x41f360;}return Zs;}set['depthState'](_0x14bad8){this['_depthStat'+'e']['copy'](_0x14bad8);}get['depthState'](){return this['_depthStat'+'e'];}set['depthTest'](_0x564bfa){this['_depthStat'+'e']['test']=_0x564bfa;}get['depthTest'](){return this['_depthStat'+'e']['test'];}set['depthFunc'](_0x3de2f8){this['_depthStat'+'e']['func']=_0x3de2f8;}get['depthFunc'](){return this['_depthStat'+'e']['func'];}set['depthWrite'](_0x1545bb){this['_depthStat'+'e']['write']=_0x1545bb;}get['depthWrite'](){return this['_depthStat'+'e']['write'];}['copy'](_0x3f4887){var _0x20aa90,_0x2c4744;this['name']=_0x3f4887['name'],this['alphaTest']=_0x3f4887['alphaTest'],this['alphaToCov'+'erage']=_0x3f4887['alphaToCov'+'erage'],this['_blendStat'+'e']['copy'](_0x3f4887['_blendStat'+'e']),this['_depthStat'+'e']['copy'](_0x3f4887['_depthStat'+'e']),this['cull']=_0x3f4887['cull'],this['stencilFro'+'nt']=(_0x20aa90=_0x3f4887['stencilFro'+'nt'])==null?void(0x72+0x209*0x11+0x1*-0x230b):_0x20aa90['clone'](),_0x3f4887['stencilBac'+'k']&&(this['stencilBac'+'k']=_0x3f4887['stencilFro'+'nt']===_0x3f4887['stencilBac'+'k']?this['stencilFro'+'nt']:_0x3f4887['stencilBac'+'k']['clone']()),this['clearParam'+'eters']();for(const _0x4d8f60 in _0x3f4887['parameters'])_0x3f4887['parameters']['hasOwnProp'+'erty'](_0x4d8f60)&&this['_setParame'+'terSimple'](_0x4d8f60,_0x3f4887['parameters'][_0x4d8f60]['data']);return this['defines']['clear'](),_0x3f4887['defines']['forEach']((_0x17c375,_0x158889)=>this['defines']['set'](_0x158889,_0x17c375)),this['_shaderChu'+'nks']=_0x3f4887['hasShaderC'+'hunks']?new Pe():null,(_0x2c4744=this['_shaderChu'+'nks'])==null||_0x2c4744['copy'](_0x3f4887['_shaderChu'+'nks']),this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['_updateMes'+'hInstanceK'+'eys'](){const _0x4ce17f=this['meshInstan'+'ces'];for(let _0x46c208=0x1e00+-0x1cfd+-0x103;_0x46c208<_0x4ce17f['length'];_0x46c208++)_0x4ce17f[_0x46c208]['updateKey']();}['updateUnif'+'orms'](_0x14dde3,_0x5e803e){this['_dirtyShad'+'er']&&this['clearVaria'+'nts']();}['getShaderV'+'ariant'](_0x27b534){w['assert'](!(0x2*-0x9c1+0x8fe+0xa85),'Not\x20implem'+'ented');}['update'](){var _0x4c1356,_0x269442;if(Object['keys'](this['_oldChunks'])['length']>-0x263e+0xd4*-0x2f+0x4d2a){for(const [_0x504ee9,_0x34e4c0]of Object['entries'](this['_oldChunks']))this['shaderChun'+'ks']['glsl']['set'](_0x504ee9,_0x34e4c0),delete this['_oldChunks'][_0x504ee9];}(this['_definesDi'+'rty']||(_0x4c1356=this['_shaderChu'+'nks'])!=null&&_0x4c1356['isDirty']())&&(this['_definesDi'+'rty']=!(0x172*0x13+0x1e2*0xc+-0x320d),(_0x269442=this['_shaderChu'+'nks'])==null||_0x269442['resetDirty'](),this['clearVaria'+'nts']()),this['dirty']=!(0x5e3+-0x2dd*0x1+-0x306);}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['clearVaria'+'nts'](){this['variants']['clear']();const _0x28f11b=this['meshInstan'+'ces'],_0x157029=_0x28f11b['length'];for(let _0x2b13bf=-0x230b+0x15bc+0xd4f;_0x2b13bf<_0x157029;_0x2b13bf++)_0x28f11b[_0x2b13bf]['clearShade'+'rs']();}['getParamet'+'er'](_0x59c696){return this['parameters'][_0x59c696];}['_setParame'+'terSimple'](_0x5c780d,_0x1ef41e){w['call'](()=>{_0x1ef41e===void(-0x5*-0x656+-0x1c10+-0x39e)&&w['warnOnce']('Material#s'+'etParamete'+'r:\x20Attempt'+'ing\x20to\x20set'+'\x20undefined'+'\x20data\x20for\x20'+'parameter\x20'+'\x22'+_0x5c780d+('\x22,\x20this\x20is'+'\x20likely\x20no'+'t\x20expected'+'.'),this);});const _0x463472=this['parameters'][_0x5c780d];_0x463472?_0x463472['data']=_0x1ef41e:this['parameters'][_0x5c780d]={'scopeId':null,'data':_0x1ef41e};}['setParamet'+'er'](_0x7ba79d,_0xfbb383){if(_0xfbb383===void(-0x3*0x487+0x13*0x1a8+0x11e3*-0x1)&&typeof _0x7ba79d=='object'){const _0x54bd97=_0x7ba79d;if(_0x54bd97['length']){for(let _0x542af6=0x1b02*0x1+-0x3b5*-0x2+-0x226c;_0x542af6<_0x54bd97['length'];_0x542af6++)this['setParamet'+'er'](_0x54bd97[_0x542af6]);return;}_0x7ba79d=_0x54bd97['name'],_0xfbb383=_0x54bd97['value'];}this['_setParame'+'terSimple'](_0x7ba79d,_0xfbb383);}['deletePara'+'meter'](_0xe35f4a){this['parameters'][_0xe35f4a]&&delete this['parameters'][_0xe35f4a];}['setParamet'+'ers'](_0x11aa2f,_0x4a6cc8){const _0x518d66=this['parameters'];_0x4a6cc8===void(-0x6a3*0x1+0x1*-0x21a7+0x284a)&&(_0x4a6cc8=_0x518d66);for(const _0x459687 in _0x4a6cc8){const _0x329ac1=_0x518d66[_0x459687];_0x329ac1&&(_0x329ac1['scopeId']||(_0x329ac1['scopeId']=_0x11aa2f['scope']['resolve'](_0x459687)),_0x329ac1['scopeId']['setValue'](_0x329ac1['data']));}}['setDefine'](_0x37a2db,_0x48cce9){let _0x4fca13=!(0x2388+0x1*0xe57+-0x2*0x18ef);const {defines:_0x2128e5}=this;_0x48cce9!==void(0x1c82+-0x1fa5+0x323)&&_0x48cce9!==!(0x13cd+0x7ed*-0x1+-0xbdf)?(_0x4fca13=!_0x2128e5['has'](_0x37a2db)||_0x2128e5['get'](_0x37a2db)!==_0x48cce9,_0x2128e5['set'](_0x37a2db,_0x48cce9)):(_0x4fca13=_0x2128e5['has'](_0x37a2db),_0x2128e5['delete'](_0x37a2db)),this['_definesDi'+'rty']||(this['_definesDi'+'rty']=_0x4fca13);}['getDefine'](_0x504099){return this['defines']['has'](_0x504099);}['destroy'](){this['variants']['clear']();for(let _0x1731d3=-0x2f*-0x71+0x747+-0x1c06;_0x1731d3<this['meshInstan'+'ces']['length'];_0x1731d3++){const _0x2989a1=this['meshInstan'+'ces'][_0x1731d3];if(_0x2989a1['clearShade'+'rs'](),_0x2989a1['_material']=null,_0x2989a1['mesh']){const _0x18c556=Qn(_0x2989a1['mesh']['device']);this!==_0x18c556&&(_0x2989a1['material']=_0x18c556);}else w['warn']('pc.Materia'+'l:\x20MeshIns'+'tance.mesh'+'\x20is\x20null,\x20'+'default\x20ma'+'terial\x20can'+'not\x20be\x20ass'+'igned\x20to\x20t'+'he\x20MeshIns'+'tance');}this['meshInstan'+'ces']['length']=-0x2098+-0x26da+0x4772;}['addMeshIns'+'tanceRef'](_0x26a739){this['meshInstan'+'ces']['push'](_0x26a739);}['removeMesh'+'InstanceRe'+'f'](_0x4b9d65){const _0x3d5529=this['meshInstan'+'ces'],_0x2fdce2=_0x3d5529['indexOf'](_0x4b9d65);_0x2fdce2!==-(0x2*-0x9af+0x5*0x4ff+-0x1*0x59c)&&_0x3d5529['splice'](_0x2fdce2,0x1e2d+0x329*-0x2+-0x17da);}}class Ws{static['update'](_0x41f089,_0x43d934,_0x572587,_0x5bd804,_0x15161f,_0x859e89,_0x2c0567){Ws['updateShar'+'edOptions'](_0x41f089,_0x43d934,_0x572587,_0x15161f,_0x859e89),Ws['updateMate'+'rialOption'+'s'](_0x41f089,_0x43d934),Ws['updateEnvO'+'ptions'](_0x41f089,_0x43d934,_0x572587,_0x5bd804),Ws['updateLigh'+'tingOption'+'s'](_0x41f089,_0x43d934,_0x572587,_0x15161f,_0x2c0567);}static['updateShar'+'edOptions'](_0x5319a0,_0x2d72a9,_0x279b61,_0xbc93a6,_0x1c78c2){_0x5319a0['shaderChun'+'ks']=_0x2d72a9['shaderChun'+'ks'],_0x5319a0['pass']=_0x1c78c2,_0x5319a0['alphaTest']=_0x2d72a9['alphaTest']>0x1*-0x908+-0x21db+0x2ae3,_0x5319a0['blendType']=_0x2d72a9['blendType'],_0x5319a0['screenSpac'+'e']=_0xbc93a6&&(_0xbc93a6&Eh)!==0x56a+-0x2519*0x1+0x1faf,_0x5319a0['skin']=_0xbc93a6&&(_0xbc93a6&nl)!==0x383*0x4+0x1355*-0x1+-0xb*-0x7b,_0x5319a0['useInstanc'+'ing']=_0xbc93a6&&(_0xbc93a6&ol)!==-0x5c6+-0x1730+0x1cf6,_0x5319a0['useMorphPo'+'sition']=_0xbc93a6&&(_0xbc93a6&ll)!==0x210b+-0x1*0xe0c+0x1*-0x12ff,_0x5319a0['useMorphNo'+'rmal']=_0xbc93a6&&(_0xbc93a6&cl)!==-0x3d*-0x1+0xfbd+-0xffa,_0x5319a0['useMorphTe'+'xtureBased'+'Int']=_0xbc93a6&&(_0xbc93a6&hl)!==-0x2127+0x132*-0x18+0x3dd7,_0x5319a0['hasTangent'+'s']=_0xbc93a6&&(_0xbc93a6&om)!==-0xad7+0x10a1+-0x5ca,_0x5319a0['nineSliced'+'Mode']=_0x2d72a9['nineSliced'+'Mode']||ci,_0x2d72a9['useLightin'+'g']&&_0x279b61['clusteredL'+'ightingEna'+'bled']?(_0x5319a0['clusteredL'+'ightingEna'+'bled']=!(0x83*0xd+-0x2388+0x1ce1),_0x5319a0['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x279b61['lighting']['cookiesEna'+'bled'],_0x5319a0['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x279b61['lighting']['shadowsEna'+'bled'],_0x5319a0['clusteredL'+'ightingSha'+'dowType']=_0x279b61['lighting']['shadowType'],_0x5319a0['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x279b61['lighting']['areaLights'+'Enabled']):(_0x5319a0['clusteredL'+'ightingEna'+'bled']=!(0x89d+0x712*0x5+-0x2bf6),_0x5319a0['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0x1875+-0xa50+0x22c6),_0x5319a0['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(0x1*0x1679+-0x5ef+-0x1089),_0x5319a0['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(-0x115*-0x19+0x1d54+-0x3860));}static['updateMate'+'rialOption'+'s'](_0x2c4e6e,_0x4ac7d5){_0x2c4e6e['separateAm'+'bient']=!(0x792+0x3*-0x7d6+-0x173*-0xb),_0x2c4e6e['pixelSnap']=_0x4ac7d5['pixelSnap'],_0x2c4e6e['ambientSH']=_0x4ac7d5['ambientSH'],_0x2c4e6e['twoSidedLi'+'ghting']=_0x4ac7d5['twoSidedLi'+'ghting'],_0x2c4e6e['occludeDir'+'ect']=_0x4ac7d5['occludeDir'+'ect'],_0x2c4e6e['occludeSpe'+'cular']=_0x4ac7d5['occludeSpe'+'cular'],_0x2c4e6e['occludeSpe'+'cularFloat']=_0x4ac7d5['occludeSpe'+'cularInten'+'sity']!==-0x13da+-0x112d+0x1*0x2508,_0x2c4e6e['useMsdf']=!(-0x1d03+0x86e+0x1496),_0x2c4e6e['msdfTextAt'+'tribute']=!(0x1069+-0x10e7+0x7f),_0x2c4e6e['alphaToCov'+'erage']=_0x4ac7d5['alphaToCov'+'erage'],_0x2c4e6e['opacityFad'+'esSpecular']=_0x4ac7d5['opacityFad'+'esSpecular'],_0x2c4e6e['opacityDit'+'her']=_0x4ac7d5['opacityDit'+'her'],_0x2c4e6e['cubeMapPro'+'jection']=tm,_0x2c4e6e['useSpecula'+'r']=_0x4ac7d5['hasSpecula'+'r'],_0x2c4e6e['useSpecula'+'rityFactor']=_0x4ac7d5['hasSpecula'+'rityFactor'],_0x2c4e6e['enableGGXS'+'pecular']=_0x4ac7d5['ggxSpecula'+'r'],_0x2c4e6e['fresnelMod'+'el']=_0x4ac7d5['fresnelMod'+'el'],_0x2c4e6e['useRefract'+'ion']=_0x4ac7d5['hasRefract'+'ion'],_0x2c4e6e['useClearCo'+'at']=_0x4ac7d5['hasClearCo'+'at'],_0x2c4e6e['useSheen']=_0x4ac7d5['hasSheen'],_0x2c4e6e['useIridesc'+'ence']=_0x4ac7d5['hasIrrides'+'cence'],_0x2c4e6e['useMetalne'+'ss']=_0x4ac7d5['hasMetalne'+'ss'],_0x2c4e6e['useDynamic'+'Refraction']=_0x4ac7d5['dynamicRef'+'raction'],_0x2c4e6e['dispersion']=_0x4ac7d5['dispersion']>0x17*0x183+0x1c0c+-0x3ed1,_0x2c4e6e['vertexColo'+'rs']=!(0x1e17+0xd*0x6b+0x513*-0x7),_0x2c4e6e['lightMapEn'+'abled']=_0x4ac7d5['hasLightin'+'g'],_0x2c4e6e['dirLightMa'+'pEnabled']=_0x4ac7d5['dirLightMa'+'p'],_0x2c4e6e['useHeights']=_0x4ac7d5['hasHeights'],_0x2c4e6e['useNormals']=_0x4ac7d5['hasNormals'],_0x2c4e6e['useClearCo'+'atNormals']=_0x4ac7d5['hasClearCo'+'atNormals'],_0x2c4e6e['useAo']=_0x4ac7d5['hasAo'],_0x2c4e6e['diffuseMap'+'Enabled']=_0x4ac7d5['hasDiffuse'+'Map'];}static['updateEnvO'+'ptions'](_0x464cdc,_0x441ce3,_0x191979,_0x17fe7){_0x464cdc['fog']=_0x441ce3['useFog']?_0x17fe7['fog']:Kn,_0x464cdc['gamma']=_0x17fe7['shaderOutp'+'utGamma'],_0x464cdc['toneMap']=_0x441ce3['useTonemap']?_0x17fe7['toneMappin'+'g']:nv,_0x441ce3['useSkybox']&&_0x191979['envAtlas']&&_0x191979['skybox']?(_0x464cdc['reflection'+'Source']=xh,_0x464cdc['reflection'+'Encoding']=_0x191979['envAtlas']['encoding'],_0x464cdc['reflection'+'CubemapEnc'+'oding']=_0x191979['skybox']['encoding']):_0x441ce3['useSkybox']&&_0x191979['envAtlas']?(_0x464cdc['reflection'+'Source']=vh,_0x464cdc['reflection'+'Encoding']=_0x191979['envAtlas']['encoding']):_0x441ce3['useSkybox']&&_0x191979['skybox']?(_0x464cdc['reflection'+'Source']=Th,_0x464cdc['reflection'+'Encoding']=_0x191979['skybox']['encoding']):(_0x464cdc['reflection'+'Source']=vr,_0x464cdc['reflection'+'Encoding']=null),_0x441ce3['ambientSH']?(_0x464cdc['ambientSou'+'rce']=im,_0x464cdc['ambientEnc'+'oding']=null):_0x464cdc['reflection'+'Source']!==vr&&_0x191979['envAtlas']?(_0x464cdc['ambientSou'+'rce']=rm,_0x464cdc['ambientEnc'+'oding']=_0x191979['envAtlas']['encoding']):(_0x464cdc['ambientSou'+'rce']=am,_0x464cdc['ambientEnc'+'oding']=null);const _0x36df79=_0x464cdc['reflection'+'Source']!==vr;_0x464cdc['skyboxInte'+'nsity']=_0x36df79,_0x464cdc['useCubeMap'+'Rotation']=_0x36df79&&_0x191979['_skyboxRot'+'ationShade'+'rInclude'];}static['updateLigh'+'tingOption'+'s'](_0x3ec7db,_0x54a251,_0x505504,_0xbdc234,_0x41b55c){if(_0x3ec7db['lightMapWi'+'thoutAmbie'+'nt']=!(0x284*0xb+0x1ff3*-0x1+0x448),_0x54a251['useLightin'+'g']){const _0x3dddf0=[],_0x3c0542=_0xbdc234?_0xbdc234>>0x66*0x10+-0x15dd*-0x1+-0x1*0x1c2d:Ss;_0x3ec7db['lightMaskD'+'ynamic']=!!(_0x3c0542&Ss),_0x3ec7db['lightMapWi'+'thoutAmbie'+'nt']=!(-0xd9b+0x862*0x3+-0xb8a),_0x41b55c&&(Ws['collectLig'+'hts'](ve,_0x41b55c[ve],_0x3dddf0,_0x3c0542),_0x505504['clusteredL'+'ightingEna'+'bled']||(Ws['collectLig'+'hts'](Ke,_0x41b55c[Ke],_0x3dddf0,_0x3c0542),Ws['collectLig'+'hts'](Ze,_0x41b55c[Ze],_0x3dddf0,_0x3c0542))),_0x3ec7db['lights']=_0x3dddf0;}else _0x3ec7db['lights']=[];(_0x3ec7db['lights']['length']===0x915+-0x1*-0x166a+0x2dd*-0xb&&!_0x505504['clusteredL'+'ightingEna'+'bled']||(_0xbdc234&wh)!==-0x2615+0x3*0x829+0xd9a)&&(_0x3ec7db['noShadow']=!(-0x47f*0x3+-0x9*0xa7+0x2*0x9ae));}static['collectLig'+'hts'](_0x160e93,_0x2a726e,_0x2613ca,_0x184dee){for(let _0x5e7870=0xf6b+-0x1656+0x6eb;_0x5e7870<_0x2a726e['length'];_0x5e7870++){const _0xa45dc4=_0x2a726e[_0x5e7870];_0xa45dc4['enabled']&&_0xa45dc4['mask']&_0x184dee&&_0x2613ca['push'](_0xa45dc4);}}}const G_=(_0x3a41c5,_0x555867)=>{if(_0x3a41c5['length']!==_0x555867['length'])return!(0x11*0x161+-0x6ba+-0x592*0x3);for(let _0x12c133=-0x2132+-0x20*-0x112+-0x10e;_0x12c133<_0x3a41c5['length'];++_0x12c133)if(_0x3a41c5[_0x12c133]!==_0x555867[_0x12c133])return!(0xea2*-0x1+0x15d1+-0x72e);return!(-0x2306+0x1301*-0x2+0x1c8*0x29);},pb=_0x523248=>_0x523248['r']!==0x6*0x39e+-0x1328*0x1+-0x28b||_0x523248['g']!==-0x241d+0x3*-0x4ae+0x3228*0x1||_0x523248['b']!==-0x1e9d+-0x2d4+-0x2*-0x10b9,mb=_0x5bb5f4=>_0x5bb5f4['r']!==-0x1a73*-0x1+-0x1*-0x86f+-0x22e2||_0x5bb5f4['g']!==-0x2284+0x2569+0x27*-0x13||_0x5bb5f4['b']!==-0x11ef+0x1*0x90d+-0x2f6*-0x3;class _b{constructor(){this['_mapXForms']=null;}['updateMinR'+'ef'](_0x33d9a5,_0x57af39,_0x3df7da,_0x2f7d05,_0x117e49,_0x13ede0){this['_updateSha'+'redOptions'](_0x33d9a5,_0x57af39,_0x3df7da,_0x2f7d05,_0x117e49),this['_updateMin'+'Options'](_0x33d9a5,_0x3df7da,_0x117e49),this['_updateUVO'+'ptions'](_0x33d9a5,_0x3df7da,_0x2f7d05,!(-0x1763*0x1+0x11ba+0x5a9));}['updateRef'](_0x3ead44,_0x5c8271,_0x1cf003,_0x4c156c,_0x3992f6,_0x30615c,_0x36bd3c){this['_updateSha'+'redOptions'](_0x3ead44,_0x5c8271,_0x4c156c,_0x3992f6,_0x30615c),this['_updateEnv'+'Options'](_0x3ead44,_0x4c156c,_0x5c8271,_0x1cf003),this['_updateMat'+'erialOptio'+'ns'](_0x3ead44,_0x4c156c,_0x5c8271),_0x3ead44['litOptions']['hasTangent'+'s']=_0x3992f6&&(_0x3992f6&om)!==0x2388+-0x3*0x24d+-0x98b*0x3,this['_updateLig'+'htOptions'](_0x3ead44,_0x5c8271,_0x4c156c,_0x3992f6,_0x36bd3c),this['_updateUVO'+'ptions'](_0x3ead44,_0x4c156c,_0x3992f6,!(-0x1349+0x1*0xb1b+0x5*0x1a3),_0x1cf003);}['_updateSha'+'redOptions'](_0x19b18c,_0x5e02e5,_0x14787f,_0x46ecfd,_0x3128d3){_0x19b18c['forceUv1']=_0x14787f['forceUv1'],_0x14787f['userAttrib'+'utes']&&(_0x19b18c['litOptions']['userAttrib'+'utes']=Object['fromEntrie'+'s'](_0x14787f['userAttrib'+'utes']['entries']())),_0x19b18c['litOptions']['shaderChun'+'ks']=_0x14787f['shaderChun'+'ks'],_0x19b18c['litOptions']['pass']=_0x3128d3,_0x19b18c['litOptions']['alphaTest']=_0x14787f['alphaTest']>0x1*0x6dd+-0x1aca+0x13ed*0x1,_0x19b18c['litOptions']['blendType']=_0x14787f['blendType'],_0x19b18c['litOptions']['screenSpac'+'e']=_0x46ecfd&&(_0x46ecfd&Eh)!==0x1*-0x412+-0x1*-0x1c19+-0x1807,_0x19b18c['litOptions']['skin']=_0x46ecfd&&(_0x46ecfd&nl)!==0xb8d+-0xc3b*-0x3+-0x303e,_0x19b18c['litOptions']['batch']=_0x46ecfd&&(_0x46ecfd&qc)!==0x3c*0x61+0x43c+-0x1af8,_0x19b18c['litOptions']['useInstanc'+'ing']=_0x46ecfd&&(_0x46ecfd&ol)!==-0x73d*-0x2+-0xb5a+-0x320,_0x19b18c['litOptions']['useMorphPo'+'sition']=_0x46ecfd&&(_0x46ecfd&ll)!==-0x2*0x1243+0x84a*-0x3+0x3d64,_0x19b18c['litOptions']['useMorphNo'+'rmal']=_0x46ecfd&&(_0x46ecfd&cl)!==0x27+-0x9b0+0x1*0x989,_0x19b18c['litOptions']['useMorphTe'+'xtureBased'+'Int']=_0x46ecfd&&(_0x46ecfd&hl)!==-0x35e*0xa+0xf87+0x1225,_0x19b18c['litOptions']['nineSliced'+'Mode']=_0x14787f['nineSliced'+'Mode']||-0x5*-0x49d+-0x1dbd+0x2*0x356,_0x5e02e5['clusteredL'+'ightingEna'+'bled']&&_0x14787f['useLightin'+'g']?(_0x19b18c['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x10c3+0x339*-0x6+0x1*0x293),_0x19b18c['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x5e02e5['lighting']['cookiesEna'+'bled'],_0x19b18c['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x5e02e5['lighting']['shadowsEna'+'bled'],_0x19b18c['litOptions']['clusteredL'+'ightingSha'+'dowType']=_0x5e02e5['lighting']['shadowType'],_0x19b18c['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x5e02e5['lighting']['areaLights'+'Enabled']):(_0x19b18c['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x14c+0xdf9+-0xf44),_0x19b18c['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0x19a3*0x1+-0x3*-0x3a4+0xeb8),_0x19b18c['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0x5bf*-0x1+0xe0b+-0x13c9),_0x19b18c['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(-0x2*0xc7f+-0x374*0x2+0x1fe7));}['_updateUVO'+'ptions'](_0x1534ea,_0x5b31de,_0x1d464,_0x1542e3,_0x58b894){let _0x2c6018=!(-0xb15*-0x1+0x1*-0x19e1+0x4ef*0x3),_0x472b76=!(-0x79d*-0x1+0x13a0+-0x1b3c),_0x1750e6=!(0x6*0x1f7+0x5*0x677+-0x2c1c);_0x1d464&&(_0x2c6018=(_0x1d464&nm)!==-0xa39*0x1+-0x43*0x8c+0x2edd,_0x472b76=(_0x1d464&dv)!==0xc5*-0x10+0x3*-0x391+0x1703,_0x1750e6=(_0x1d464&fv)!==-0x4*-0x73b+-0x2*0x53c+-0x1274),_0x1534ea['litOptions']['vertexColo'+'rs']=!(-0x1*-0x165+-0x2072+0x13e*0x19),this['_mapXForms']=[];const _0x53adfc={};for(const _0x474252 in bn)this['_updateTex'+'Options'](_0x1534ea,_0x5b31de,_0x474252,_0x2c6018,_0x472b76,_0x1750e6,_0x1542e3,_0x53adfc);this['_mapXForms']=null,_0x1534ea['litOptions']['ssao']=_0x58b894==null?void(-0x56*0x66+0x2523+-0x2df):_0x58b894['ssaoEnable'+'d'],_0x1534ea['useAO']=_0x1534ea['litOptions']['ssao'],_0x1534ea['litOptions']['lightMapEn'+'abled']=_0x1534ea['lightMap'],_0x1534ea['litOptions']['dirLightMa'+'pEnabled']=_0x1534ea['dirLightMa'+'p'],_0x1534ea['litOptions']['useHeights']=_0x1534ea['heightMap'],_0x1534ea['litOptions']['useNormals']=_0x1534ea['normalMap'],_0x1534ea['litOptions']['useClearCo'+'atNormals']=_0x1534ea['clearCoatN'+'ormalMap'],_0x1534ea['litOptions']['useAo']=_0x1534ea['aoMap']||_0x1534ea['aoVertexCo'+'lor']||_0x1534ea['litOptions']['ssao'],_0x1534ea['litOptions']['diffuseMap'+'Enabled']=_0x1534ea['diffuseMap'];}['_updateTex'+'Options'](_0x30bd1f,_0xdddc1c,_0x3a625c,_0x12d608,_0x4e9c58,_0x5c12be,_0x57ba61,_0x4a4b21){const _0x3f8ec9=_0x3a625c==='opacity';if(!_0x57ba61||_0x3f8ec9){const _0x2aafc5=_0x3a625c+'Map',_0x143b4c=_0x3a625c+('VertexColo'+'r'),_0x4898bf=_0x3a625c+('VertexColo'+'rChannel'),_0x157082=_0x2aafc5+'Channel',_0x204020=_0x2aafc5+'Transform',_0x4ab401=_0x2aafc5+'Uv',_0x421f01=_0x2aafc5+'Identifier';if(_0x3a625c!=='light'&&(_0x30bd1f[_0x2aafc5]=!(-0x1*0x787+0x1*0x1f3+0x595),_0x30bd1f[_0x421f01]=void(0x1*-0xbf7+0xa*0x130+0x17),_0x30bd1f[_0x157082]='',_0x30bd1f[_0x204020]=-0x69d*-0x3+0x13*-0x47+-0x1*0xe92,_0x30bd1f[_0x4ab401]=-0x249*-0xd+-0x2496+0x6e1),_0x30bd1f[_0x143b4c]=!(-0x257b+-0x30*-0xb+0x236c),_0x30bd1f[_0x4898bf]='',_0x3f8ec9&&_0xdddc1c['blendType']===Cs&&_0xdddc1c['alphaTest']===0x45a*-0x2+0x57c+0x338&&!_0xdddc1c['alphaToCov'+'erage']&&_0xdddc1c['opacityDit'+'her']===Sa)return;if(_0x3a625c!=='height'&&_0xdddc1c[_0x143b4c]&&_0x5c12be&&(_0x30bd1f[_0x143b4c]=_0xdddc1c[_0x143b4c],_0x30bd1f[_0x4898bf]=_0xdddc1c[_0x4898bf],_0x30bd1f['litOptions']['vertexColo'+'rs']=!(0x1*0x15cf+-0x21a*0x10+-0xb*-0x113)),_0xdddc1c[_0x2aafc5]){let _0x16c915=!(0x2cf*0x8+0x1990+-0x3008);if(_0xdddc1c[_0x4ab401]===-0x7db+-0x65a+0xe35&&!_0x12d608&&(_0x16c915=!(-0x1*0xb3+0x247d*-0x1+0x2531)),_0xdddc1c[_0x4ab401]===0x850*-0x2+-0x167*-0x13+-0xa04&&!_0x4e9c58&&(_0x16c915=!(0xf0d*0x1+-0x1db+-0xb*0x133)),_0x16c915){const _0x1bf8e4=_0xdddc1c[_0x2aafc5]['id'];let _0x514842=_0x4a4b21[_0x1bf8e4];_0x514842===void(-0x1*0xa8d+-0x86e*0x1+0x71*0x2b)&&(_0x4a4b21[_0x1bf8e4]=_0x3a625c,_0x514842=_0x3a625c),_0x30bd1f[_0x2aafc5]=!!_0xdddc1c[_0x2aafc5],_0x30bd1f[_0x421f01]=_0x514842,_0x30bd1f[_0x204020]=this['_getMapTra'+'nsformID'](_0xdddc1c['getUniform'](_0x204020),_0xdddc1c[_0x4ab401]),_0x30bd1f[_0x157082]=_0xdddc1c[_0x157082],_0x30bd1f[_0x4ab401]=_0xdddc1c[_0x4ab401];}}}}['_updateMin'+'Options'](_0x658b32,_0x5ec91d,_0x5255d9){const _0x432a4a=_0x5255d9===Rl;_0x658b32['litOptions']['opacitySha'+'dowDither']=_0x432a4a?_0x5ec91d['opacityDit'+'her']:_0x5ec91d['opacitySha'+'dowDither'],_0x658b32['litOptions']['linearDept'+'h']=_0x432a4a,_0x658b32['litOptions']['lights']=[];}['_updateMat'+'erialOptio'+'ns'](_0x18d3be,_0x95277a,_0x30a890){var _0x3e62c4,_0x41c084,_0x34ed2a,_0x37db14,_0x436f9b,_0x2c7b4f;const _0x49b56d=!!(_0x95277a['useMetalne'+'ss']||_0x95277a['specularMa'+'p']||_0x95277a['sphereMap']||_0x95277a['cubeMap']||mb(_0x95277a['specular'])||_0x95277a['specularit'+'yFactor']>0xabb*-0x1+0x79b+0x2*0x190&&_0x95277a['useMetalne'+'ss']||_0x95277a['enableGGXS'+'pecular']||_0x95277a['clearCoat']>0x5a5+0x1b4e+0x5*-0x697),_0x2ef1bc=!_0x95277a['useMetalne'+'ss']||_0x95277a['useMetalne'+'ssSpecular'+'Color'],_0x1abeea=_0x49b56d&&(_0x95277a['specularTi'+'nt']||!_0x95277a['specularMa'+'p']&&!_0x95277a['specularVe'+'rtexColor'])&&pb(_0x95277a['specular']),_0x4e964a=_0x49b56d&&_0x95277a['useMetalne'+'ssSpecular'+'Color']&&(_0x95277a['specularit'+'yFactorTin'+'t']||_0x95277a['specularit'+'yFactor']<0x5e8*0x1+-0x142e+-0xe47*-0x1&&!_0x95277a['specularit'+'yFactorMap']),_0x517410=_0x28502f=>_0x28502f?_0x28502f['format']===vl||_0x28502f['type']===Jo:!(-0x1ec2+-0x2204+0x40c7),_0x444482=(_0x146148,_0x1910e8)=>Math['abs'](_0x146148-_0x1910e8)<-0x2033+0x1432*-0x1+0x3465+0.0001;_0x18d3be['specularTi'+'nt']=_0x1abeea,_0x18d3be['specularit'+'yFactorTin'+'t']=_0x4e964a,_0x18d3be['metalnessT'+'int']=_0x95277a['useMetalne'+'ss']&&_0x95277a['metalness']<0x148f+0x259*0xe+0x41c*-0xd,_0x18d3be['glossTint']=!(0x896+-0x14bc+0xc26),_0x18d3be['diffuseEnc'+'oding']=(_0x3e62c4=_0x95277a['diffuseMap'])==null?void(0x207+-0xbe1*0x1+0x9da):_0x3e62c4['encoding'],_0x18d3be['diffuseDet'+'ailEncodin'+'g']=(_0x41c084=_0x95277a['diffuseDet'+'ailMap'])==null?void(0x1ded+0x11*0x192+-0x1*0x389f):_0x41c084['encoding'],_0x18d3be['emissiveEn'+'coding']=(_0x34ed2a=_0x95277a['emissiveMa'+'p'])==null?void(-0x19b*-0x6+0x4*-0x5d9+0xdc2):_0x34ed2a['encoding'],_0x18d3be['lightMapEn'+'coding']=(_0x37db14=_0x95277a['lightMap'])==null?void(0x11*-0x72+-0x1ec5+-0xd*-0x2f3):_0x37db14['encoding'],_0x18d3be['packedNorm'+'al']=_0x517410(_0x95277a['normalMap']),_0x18d3be['refraction'+'Tint']=_0x444482(_0x95277a['refraction'],0x3eb+0x7f*0x2f+-0x1b3b),_0x18d3be['refraction'+'IndexTint']=_0x444482(_0x95277a['refraction'+'Index'],(-0x7ef+0x1dca+-0x15da)/(-0x92f+-0x458*-0x2+0x1*0x80+0.5)),_0x18d3be['thicknessT'+'int']=_0x95277a['useDynamic'+'Refraction']&&_0x95277a['thickness']!==0x1eda+-0x9ad+-0x152c,_0x18d3be['specularEn'+'coding']=(_0x436f9b=_0x95277a['specularMa'+'p'])==null?void(-0x17f5*0x1+-0x148*0xa+-0x24c5*-0x1):_0x436f9b['encoding'],_0x18d3be['sheenEncod'+'ing']=(_0x2c7b4f=_0x95277a['sheenMap'])==null?void(-0x4df+0x1*0xb35+-0x656):_0x2c7b4f['encoding'],_0x18d3be['aoMapUv']=_0x95277a['aoUvSet'],_0x18d3be['aoDetail']=!!_0x95277a['aoDetailMa'+'p'],_0x18d3be['diffuseDet'+'ail']=!!_0x95277a['diffuseDet'+'ailMap'],_0x18d3be['normalDeta'+'il']=!!_0x95277a['normalMap'],_0x18d3be['normalDeta'+'ilPackedNo'+'rmal']=_0x517410(_0x95277a['normalDeta'+'ilMap']),_0x18d3be['diffuseDet'+'ailMode']=_0x95277a['diffuseDet'+'ailMode'],_0x18d3be['aoDetailMo'+'de']=_0x95277a['aoDetailMo'+'de'],_0x18d3be['clearCoatG'+'loss']=!!_0x95277a['clearCoatG'+'loss'],_0x18d3be['clearCoatP'+'ackedNorma'+'l']=_0x517410(_0x95277a['clearCoatN'+'ormalMap']),_0x18d3be['iorTint']=_0x444482(_0x95277a['refraction'+'Index'],(-0x1e30+-0x1833+0x3664)/(0x8c7+-0x1040+0x21*0x3a+0.5)),_0x30a890['forcePassT'+'hroughSpec'+'ular']&&(_0x18d3be['specularEn'+'coding']='linear',_0x18d3be['sheenEncod'+'ing']='linear'),_0x18d3be['iridescenc'+'eTint']=_0x95277a['iridescenc'+'e']!==-0x214b+-0x5*-0x647+0x1e9,_0x18d3be['glossInver'+'t']=_0x95277a['glossInver'+'t'],_0x18d3be['sheenGloss'+'Invert']=_0x95277a['sheenGloss'+'Invert'],_0x18d3be['clearCoatG'+'lossInvert']=_0x95277a['clearCoatG'+'lossInvert'],_0x18d3be['useSpecula'+'rColor']=_0x2ef1bc,_0x18d3be['litOptions']['separateAm'+'bient']=!(0x1234+0x1c4d+0x60*-0x7c),_0x18d3be['litOptions']['pixelSnap']=_0x95277a['pixelSnap'],_0x18d3be['litOptions']['ambientSH']=!!_0x95277a['ambientSH'],_0x18d3be['litOptions']['twoSidedLi'+'ghting']=_0x95277a['twoSidedLi'+'ghting'],_0x18d3be['litOptions']['occludeSpe'+'cular']=_0x95277a['occludeSpe'+'cular'],_0x18d3be['litOptions']['occludeSpe'+'cularFloat']=_0x95277a['occludeSpe'+'cularInten'+'sity']!==0x11*-0x89+0x198e+-0x1074,_0x18d3be['litOptions']['useMsdf']=!!_0x95277a['msdfMap'],_0x18d3be['litOptions']['msdfTextAt'+'tribute']=!!_0x95277a['msdfTextAt'+'tribute'],_0x18d3be['litOptions']['alphaToCov'+'erage']=_0x95277a['alphaToCov'+'erage'],_0x18d3be['litOptions']['opacityFad'+'esSpecular']=_0x95277a['opacityFad'+'esSpecular'],_0x18d3be['litOptions']['opacityDit'+'her']=_0x95277a['opacityDit'+'her'],_0x18d3be['litOptions']['cubeMapPro'+'jection']=_0x95277a['cubeMapPro'+'jection'],_0x18d3be['litOptions']['occludeDir'+'ect']=_0x95277a['occludeDir'+'ect'],_0x18d3be['litOptions']['useSpecula'+'r']=_0x49b56d,_0x18d3be['litOptions']['useSpecula'+'rityFactor']=(_0x4e964a||!!_0x95277a['specularit'+'yFactorMap'])&&_0x95277a['useMetalne'+'ssSpecular'+'Color'],_0x18d3be['litOptions']['enableGGXS'+'pecular']=_0x95277a['enableGGXS'+'pecular'],_0x18d3be['litOptions']['fresnelMod'+'el']=_0x95277a['fresnelMod'+'el'],_0x18d3be['litOptions']['useRefract'+'ion']=(_0x95277a['refraction']||!!_0x95277a['refraction'+'Map'])&&(_0x95277a['useDynamic'+'Refraction']||_0x18d3be['litOptions']['reflection'+'Source']!==vr),_0x18d3be['litOptions']['useClearCo'+'at']=!!_0x95277a['clearCoat'],_0x18d3be['litOptions']['useSheen']=_0x95277a['useSheen'],_0x18d3be['litOptions']['useIridesc'+'ence']=_0x95277a['useIridesc'+'ence']&&_0x95277a['iridescenc'+'e']!==0x4f3*0x5+-0xf9e+-0x30b*0x3,_0x18d3be['litOptions']['useMetalne'+'ss']=_0x95277a['useMetalne'+'ss'],_0x18d3be['litOptions']['useDynamic'+'Refraction']=_0x95277a['useDynamic'+'Refraction'],_0x18d3be['litOptions']['dispersion']=_0x95277a['dispersion']>0x13d1+-0x1*-0x1ab+-0x157c,_0x18d3be['litOptions']['shadowCatc'+'her']=_0x95277a['shadowCatc'+'her'];}['_updateEnv'+'Options'](_0x2700ee,_0x3b65ca,_0x462e3a,_0x1a9b05){_0x2700ee['litOptions']['fog']=_0x3b65ca['useFog']?_0x1a9b05['fog']:Kn,_0x2700ee['litOptions']['gamma']=_0x1a9b05['shaderOutp'+'utGamma'],_0x2700ee['litOptions']['toneMap']=_0x3b65ca['useTonemap']?_0x1a9b05['toneMappin'+'g']:nv;let _0x558513=!(0x1*0x143e+0x19d1+0xf5a*-0x3);if(_0x3b65ca['envAtlas']&&_0x3b65ca['cubeMap']?(_0x2700ee['litOptions']['reflection'+'Source']=xh,_0x2700ee['litOptions']['reflection'+'Encoding']=_0x3b65ca['envAtlas']['encoding'],_0x2700ee['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x3b65ca['cubeMap']['encoding']):_0x3b65ca['envAtlas']?(_0x2700ee['litOptions']['reflection'+'Source']=vh,_0x2700ee['litOptions']['reflection'+'Encoding']=_0x3b65ca['envAtlas']['encoding']):_0x3b65ca['cubeMap']?(_0x2700ee['litOptions']['reflection'+'Source']=Th,_0x2700ee['litOptions']['reflection'+'Encoding']=_0x3b65ca['cubeMap']['encoding']):_0x3b65ca['sphereMap']?(_0x2700ee['litOptions']['reflection'+'Source']=hv,_0x2700ee['litOptions']['reflection'+'Encoding']=_0x3b65ca['sphereMap']['encoding']):_0x3b65ca['useSkybox']&&_0x462e3a['envAtlas']&&_0x462e3a['skybox']?(_0x2700ee['litOptions']['reflection'+'Source']=xh,_0x2700ee['litOptions']['reflection'+'Encoding']=_0x462e3a['envAtlas']['encoding'],_0x2700ee['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x462e3a['skybox']['encoding'],_0x558513=!(0x896+0x20*0x25+-0xd36)):_0x3b65ca['useSkybox']&&_0x462e3a['envAtlas']?(_0x2700ee['litOptions']['reflection'+'Source']=vh,_0x2700ee['litOptions']['reflection'+'Encoding']=_0x462e3a['envAtlas']['encoding'],_0x558513=!(0x111e+-0x2b*-0x7a+-0x74*0x53)):_0x3b65ca['useSkybox']&&_0x462e3a['skybox']?(_0x2700ee['litOptions']['reflection'+'Source']=Th,_0x2700ee['litOptions']['reflection'+'Encoding']=_0x462e3a['skybox']['encoding'],_0x558513=!(0x1*0xdb2+0x16*-0x158+0xfde)):(_0x2700ee['litOptions']['reflection'+'Source']=vr,_0x2700ee['litOptions']['reflection'+'Encoding']=null),_0x3b65ca['ambientSH'])_0x2700ee['litOptions']['ambientSou'+'rce']=im,_0x2700ee['litOptions']['ambientEnc'+'oding']=null;else{const _0x2e8767=_0x3b65ca['envAtlas']||(_0x3b65ca['useSkybox']&&_0x462e3a['envAtlas']?_0x462e3a['envAtlas']:null);_0x2e8767&&!_0x3b65ca['sphereMap']?(_0x2700ee['litOptions']['ambientSou'+'rce']=rm,_0x2700ee['litOptions']['ambientEnc'+'oding']=_0x2e8767['encoding']):(_0x2700ee['litOptions']['ambientSou'+'rce']=am,_0x2700ee['litOptions']['ambientEnc'+'oding']=null);}_0x2700ee['litOptions']['skyboxInte'+'nsity']=_0x558513,_0x2700ee['litOptions']['useCubeMap'+'Rotation']=_0x558513&&_0x462e3a['_skyboxRot'+'ationShade'+'rInclude'];}['_updateLig'+'htOptions'](_0x4a028a,_0x1d30d9,_0x355f85,_0x24550f,_0x53e5dd){if(_0x4a028a['lightMap']=!(-0x243c+-0x1df3+0x4230),_0x4a028a['lightMapCh'+'annel']='',_0x4a028a['lightMapUv']=0x1600+0x729+-0x1d29,_0x4a028a['lightMapTr'+'ansform']=0x18c9+-0xc9d*0x1+-0xc2c,_0x4a028a['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x1*-0x1a22+-0x342*-0x9+-0x32f*0x1),_0x4a028a['dirLightMa'+'p']=!(0x1b40+-0x61*-0x4a+0x3749*-0x1),_0x24550f&&(_0x4a028a['litOptions']['noShadow']=(_0x24550f&wh)!==-0x17c1*0x1+-0x2a1+-0x1a62*-0x1,(_0x24550f&ou)!==0x3e9*0x3+-0x14aa+0x8ef*0x1&&(_0x4a028a['lightMapEn'+'coding']=_0x1d30d9['lightmapPi'+'xelFormat']===Ne?'rgbm':'linear',_0x4a028a['lightMap']=!(0x178d+0xf5d*-0x1+-0x83*0x10),_0x4a028a['lightMapCh'+'annel']='rgb',_0x4a028a['lightMapUv']=0x1bdb+-0x3*0x55+-0x1adb,_0x4a028a['lightMapTr'+'ansform']=-0x23b*-0x4+-0x1af4+0x1208,_0x4a028a['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!_0x355f85['lightMap'],(_0x24550f&uv)!==-0x2d*0x92+-0x1*0x1651+0x2ffb&&(_0x4a028a['dirLightMa'+'p']=!(0x1*-0x1736+0x66e*-0x3+0x2a80)),(_0x24550f&pv)!==0xad3+-0x205d+-0x72e*-0x3&&(_0x4a028a['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x23f8+0x1a99+-0x3e90)))),_0x355f85['useLightin'+'g']){const _0x5d0686=[],_0x1090a8=_0x24550f?_0x24550f>>-0x1bfa+0x25ad*-0x1+0x41b7:Ss;_0x4a028a['litOptions']['lightMaskD'+'ynamic']=!!(_0x1090a8&Ss),_0x53e5dd&&(Ws['collectLig'+'hts'](ve,_0x53e5dd[ve],_0x5d0686,_0x1090a8),_0x1d30d9['clusteredL'+'ightingEna'+'bled']||(Ws['collectLig'+'hts'](Ke,_0x53e5dd[Ke],_0x5d0686,_0x1090a8),Ws['collectLig'+'hts'](Ze,_0x53e5dd[Ze],_0x5d0686,_0x1090a8))),_0x4a028a['litOptions']['lights']=_0x5d0686;}else _0x4a028a['litOptions']['lights']=[];_0x4a028a['litOptions']['lights']['length']===-0x11e1+0xf59*-0x1+0x1*0x213a&&!_0x1d30d9['clusteredL'+'ightingEna'+'bled']&&(_0x4a028a['litOptions']['noShadow']=!(-0x1c73+0x6e*-0x47+0x489*0xd));}['_getMapTra'+'nsformID'](_0x25aea8,_0xf730de){if(!_0x25aea8)return 0x240d+-0x264b+0x23e;let _0xab7e87=this['_mapXForms'][_0xf730de];_0xab7e87||(_0xab7e87=[],this['_mapXForms'][_0xf730de]=_0xab7e87);for(let _0x475b9d=-0x73b+0xd47+-0x60c;_0x475b9d<_0xab7e87['length'];_0x475b9d++)if(G_(_0xab7e87[_0x475b9d][0x1e62*-0x1+0x1*0xcff+0x1163*0x1]['value'],_0x25aea8[0x1b1*0x1+-0x15fa+0x1449*0x1]['value'])&&G_(_0xab7e87[_0x475b9d][0x6*0x1bb+0xd44+0x1*-0x17a5]['value'],_0x25aea8[0x62*-0x2f+0x13c+-0x265*-0x7]['value']))return _0x475b9d+(-0x2ac+-0x19c4+-0x1*-0x1c71);return _0xab7e87['push'](_0x25aea8);}}function rt(_0x3d5a47,_0x19cde5=!(0x1*-0xd25+0x10f6+-0x1*0x3d1),_0x507b34=!(0x21a*0x5+0x1*-0xe8f+0x40d)){const _0x56a020={};return _0x56a020[_0x3d5a47+'Map']='texture',_0x56a020[_0x3d5a47+'MapTiling']='vec2',_0x56a020[_0x3d5a47+'MapOffset']='vec2',_0x56a020[_0x3d5a47+('MapRotatio'+'n')]='number',_0x56a020[_0x3d5a47+'MapUv']='number',_0x19cde5&&(_0x56a020[_0x3d5a47+'MapChannel']='string',_0x507b34&&(_0x56a020[_0x3d5a47+('VertexColo'+'r')]='boolean',_0x56a020[_0x3d5a47+('VertexColo'+'rChannel')]='string')),_0x56a020;}const $n={'name':'string','chunks':'chunks','mappingFormat':'string','_engine':'boolean','ambient':'rgb',...rt('ao'),...rt('aoDetail',!(-0x1138+-0x17*0xda+0x2a1*0xe),!(-0x16f4+0xf8b+-0x49*-0x1a)),'aoDetailMode':'string','aoIntensity':'number','diffuse':'rgb',...rt('diffuse'),...rt('diffuseDet'+'ail',!(0x11b2+-0x2638+0x1486),!(0x1f70+-0xb11+-0x9e*0x21)),'diffuseDetailMode':'string','specular':'rgb','specularTint':'boolean',...rt('specular'),'occludeSpecular':'enum:occlu'+'deSpecular','specularityFactor':'number','specularityFactorTint':'boolean',...rt('specularit'+'yFactor'),'useMetalness':'boolean','metalness':'number','enableGGXSpecular':'boolean','metalnessTint':'boolean',...rt('metalness'),'useMetalnessSpecularColor':'boolean','anisotropyIntensity':'number','anisotropyRotation':'number',...rt('anisotropy'),'shininess':'number','gloss':'number','glossInvert':'boolean',...rt('gloss'),'clearCoat':'number',...rt('clearCoat'),'clearCoatGloss':'number','clearCoatGlossInvert':'boolean',...rt('clearCoatG'+'loss'),'clearCoatBumpiness':'number',...rt('clearCoatN'+'ormal',!(-0xf5f+-0x12f3+0x1*0x2253)),'useSheen':'boolean','sheen':'rgb',...rt('sheen'),'sheenGloss':'number','sheenGlossInvert':'boolean',...rt('sheenGloss'),'fresnelModel':'number','emissive':'rgb',...rt('emissive'),'emissiveIntensity':'number',...rt('normal',!(0x74c+-0x6a9+-0xa2)),'bumpiness':'number',...rt('normalDeta'+'il',!(0x1ae5*-0x1+-0x25*0xee+-0xf53*-0x4)),'normalDetailMapBumpiness':'number',...rt('height',!(0x421+0x1c2f+-0x40a*0x8),!(-0x13*0x19f+-0x1*-0xadf+0x13ef)),'heightMapFactor':'number','alphaToCoverage':'boolean','alphaTest':'number','alphaFade':'number','opacity':'number',...rt('opacity'),'opacityFadesSpecular':'boolean','opacityDither':'string','opacityShadowDither':'string','reflectivity':'number','refraction':'number','refractionTint':'boolean',...rt('refraction'),'refractionIndex':'number','dispersion':'number','thickness':'number','thicknessTint':'boolean',...rt('thickness'),'attenuation':'rgb','attenuationDistance':'number','useDynamicRefraction':'boolean','sphereMap':'texture','cubeMap':'cubemap','cubeMapProjection':'number','cubeMapProjectionBox':'boundingbo'+'x','useIridescence':'boolean','iridescence':'number','iridescenceTint':'boolean',...rt('iridescenc'+'e'),'iridescenceThicknessTint':'boolean','iridescenceThicknessMin':'number','iridescenceThicknessMax':'number','iridescenceRefractionIndex':'number',...rt('iridescenc'+'eThickness'),...rt('light'),'depthTest':'boolean','depthFunc':'enum:depth'+'Func','depthWrite':'boolean','depthBias':'number','slopeDepthBias':'number','cull':'enum:cull','blendType':'enum:blend'+'Type','useFog':'boolean','useLighting':'boolean','useSkybox':'boolean','useTonemap':'boolean','envAtlas':'texture','twoSidedLighting':'boolean','shadowCatcher':'boolean'},Cd=[];for(const l in $n)$n[l]==='texture'&&Cd['push'](l);const fm=[];for(const l in $n)$n[l]==='cubemap'&&fm['push'](l);const gb={'aoMapVertexColor':'boolean','diffuseMapTint':'boolean','diffuseMapVertexColor':'boolean','emissiveMapTint':'boolean','emissiveMapVertexColor':'boolean','glossMapVertexColor':'boolean','metalnessMapVertexColor':'boolean','opacityMapVertexColor':'boolean','specularAntialias':'boolean','specularMapTint':'boolean','specularMapVertexColor':'boolean','ambientTint':'boolean','emissiveTint':'boolean','diffuseTint':'boolean','sheenTint':'boolean','conserveEnergy':'boolean','useGamma':'boolean','useGammaTonemap':'boolean','sheenGlossTint':'boolean','anisotropy':'boolean'},Kc={},bv={};let no=new Set();const oc=new ie();class Ut extends tr{constructor(){super(),h(this,'userAttrib'+'utes',new Map()),h(this,'onUpdateSh'+'ader'),(this['_assetRefe'+'rences']={},this['_activePar'+'ams']=new Set(),this['_activeLig'+'htingParam'+'s']=new Set(),this['shaderOptB'+'uilder']=new _b(),this['reset']());}['reset'](){Object['keys'](Kc)['forEach'](_0x5a118f=>{this['_'+_0x5a118f]=Kc[_0x5a118f]['value']();}),this['_uniformCa'+'che']={};}['copy'](_0x4e08c5){return super['copy'](_0x4e08c5),Object['keys'](Kc)['forEach'](_0x570666=>{this[_0x570666]=_0x4e08c5[_0x570666];}),this['userAttrib'+'utes']=new Map(_0x4e08c5['userAttrib'+'utes']),this;}['setAttribu'+'te'](_0x448a89,_0x3b3133){this['userAttrib'+'utes']['set'](_0x3b3133,_0x448a89);}['_setParame'+'ter'](_0x1c5a6a,_0x3fd0f8){no['add'](_0x1c5a6a),this['setParamet'+'er'](_0x1c5a6a,_0x3fd0f8);}['_setParame'+'ters'](_0x5831a5){_0x5831a5['forEach'](_0x56610b=>{this['_setParame'+'ter'](_0x56610b['name'],_0x56610b['value']);});}['_processPa'+'rameters'](_0x4dfbaf){const _0x3ffa1e=this[_0x4dfbaf];_0x3ffa1e['forEach'](_0x4b9b0e=>{no['has'](_0x4b9b0e)||delete this['parameters'][_0x4b9b0e];}),this[_0x4dfbaf]=no,no=_0x3ffa1e,no['clear']();}['_updateMap'](_0x1fb14d){const _0x49cb10=_0x1fb14d+'Map',_0x38058e=this[_0x49cb10];if(_0x38058e){this['_setParame'+'ter']('texture_'+_0x49cb10,_0x38058e);const _0x47ceb5=_0x49cb10+'Transform',_0x5957c0=this['getUniform'](_0x47ceb5);_0x5957c0&&this['_setParame'+'ters'](_0x5957c0);}}['_allocUnif'+'orm'](_0x5de2d8,_0x11dcef){let _0x2dcc6b=this['_uniformCa'+'che'][_0x5de2d8];return _0x2dcc6b||(_0x2dcc6b=_0x11dcef(),this['_uniformCa'+'che'][_0x5de2d8]=_0x2dcc6b),_0x2dcc6b;}['getUniform'](_0x416a49,_0x39d5ec,_0x12f081){return bv[_0x416a49](this,_0x39d5ec,_0x12f081);}['updateUnif'+'orms'](_0x4bf399,_0x4e6783){const _0x5bf522=_0x59b6b0=>this['getUniform'](_0x59b6b0,_0x4bf399,_0x4e6783);this['_setParame'+'ter']('material_a'+'mbient',_0x5bf522('ambient')),this['_setParame'+'ter']('material_d'+'iffuse',_0x5bf522('diffuse')),this['_setParame'+'ter']('material_a'+'oIntensity',this['aoIntensit'+'y']),this['useMetalne'+'ss']?((!this['metalnessM'+'ap']||this['metalness']<0x1ff3*0x1+0x1d8b+-0x3d7d)&&this['_setParame'+'ter']('material_m'+'etalness',this['metalness']),(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x5bf522('specular')),(!this['specularit'+'yFactorMap']||this['specularit'+'yFactorTin'+'t'])&&this['_setParame'+'ter']('material_s'+'pecularity'+'Factor',this['specularit'+'yFactor']),this['_setParame'+'ter']('material_s'+'heen',_0x5bf522('sheen')),this['_setParame'+'ter']('material_s'+'heenGloss',this['sheenGloss']),this['_setParame'+'ter']('material_r'+'efractionI'+'ndex',this['refraction'+'Index'])):(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x5bf522('specular')),this['enableGGXS'+'pecular']&&(this['_setParame'+'ter']('material_a'+'nisotropyI'+'ntensity',this['anisotropy'+'Intensity']),this['_setParame'+'ter']('material_a'+'nisotropyR'+'otation',[Math['cos'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD']),Math['sin'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD'])])),this['clearCoat']>-0xcca*0x1+-0x4eb*0x1+-0x5e7*-0x3&&(this['_setParame'+'ter']('material_c'+'learCoat',this['clearCoat']),this['_setParame'+'ter']('material_c'+'learCoatGl'+'oss',this['clearCoatG'+'loss']),this['_setParame'+'ter']('material_c'+'learCoatBu'+'mpiness',this['clearCoatB'+'umpiness'])),this['_setParame'+'ter']('material_g'+'loss',this['gloss']),w['call'](()=>{this['emissiveMa'+'p']&&this['emissive']['r']===0x1497+0xe0d+-0x1*0x22a4&&this['emissive']['g']===-0x2*0xf31+-0xd1d+-0x2b7f*-0x1&&this['emissive']['b']===0x7*0x2d2+-0x2091+0xcd3*0x1&&w['warnOnce']('Emissive\x20m'+'ap\x20is\x20set\x20'+'but\x20emissi'+'ve\x20color\x20i'+'s\x20black,\x20m'+'aking\x20the\x20'+'map\x20invisi'+'ble.\x20Set\x20e'+'missive\x20co'+'lor\x20to\x20whi'+'te\x20to\x20make'+'\x20the\x20map\x20v'+'isible.\x20Re'+'ndering\x20['+Q['toString']()+']',this);}),this['_setParame'+'ter']('material_e'+'missive',_0x5bf522('emissive')),this['_setParame'+'ter']('material_e'+'missiveInt'+'ensity',this['emissiveIn'+'tensity']),this['refraction']>0x856+-0xa4*0x3c+0x1e1a&&this['_setParame'+'ter']('material_r'+'efraction',this['refraction']),this['dispersion']>-0x6*-0x58e+-0x24d6+0x382&&this['_setParame'+'ter']('material_d'+'ispersion',this['dispersion']),this['useDynamic'+'Refraction']&&(this['_setParame'+'ter']('material_t'+'hickness',this['thickness']),this['_setParame'+'ter']('material_a'+'ttenuation',_0x5bf522('attenuatio'+'n')),this['_setParame'+'ter']('material_i'+'nvAttenuat'+'ionDistanc'+'e',this['attenuatio'+'nDistance']===-0x3*-0x142+0x2d*-0x6e+0xf90?-0x1c43*0x1+0x17*0x25+0x10a*0x18:(-0x13df+-0x1d00+0x30e0)/this['attenuatio'+'nDistance'])),this['useIridesc'+'ence']&&(this['_setParame'+'ter']('material_i'+'ridescence',this['iridescenc'+'e']),this['_setParame'+'ter']('material_i'+'ridescence'+'Refraction'+'Index',this['iridescenc'+'eRefractio'+'nIndex']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'in',this['iridescenc'+'eThickness'+'Min']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'ax',this['iridescenc'+'eThickness'+'Max'])),this['_setParame'+'ter']('material_o'+'pacity',this['opacity']),this['opacityFad'+'esSpecular']===!(0x1a22+0xe2f+-0x28*0x102)&&this['_setParame'+'ter']('material_a'+'lphaFade',this['alphaFade']),this['occludeSpe'+'cular']&&this['_setParame'+'ter']('material_o'+'ccludeSpec'+'ularIntens'+'ity',this['occludeSpe'+'cularInten'+'sity']),this['cubeMapPro'+'jection']===av&&this['_setParame'+'ter'](_0x5bf522('cubeMapPro'+'jectionBox'));for(const _0x2b0fc2 in bn)this['_updateMap'](_0x2b0fc2);this['ambientSH']&&this['_setParame'+'ter']('ambientSH['+'0]',this['ambientSH']),this['normalMap']&&this['_setParame'+'ter']('material_b'+'umpiness',this['bumpiness']),this['normalMap']&&this['normalDeta'+'ilMap']&&this['_setParame'+'ter']('material_n'+'ormalDetai'+'lMapBumpin'+'ess',this['normalDeta'+'ilMapBumpi'+'ness']),this['heightMap']&&this['_setParame'+'ter']('material_h'+'eightMapFa'+'ctor',_0x5bf522('heightMapF'+'actor')),this['envAtlas']&&this['cubeMap']?(this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap'])):this['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']):this['cubeMap']?this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap']):this['sphereMap']&&this['_setParame'+'ter']('texture_sp'+'hereMap',this['sphereMap']),this['_setParame'+'ter']('material_r'+'eflectivit'+'y',this['reflectivi'+'ty']),this['_processPa'+'rameters']('_activePar'+'ams'),super['updateUnif'+'orms'](_0x4bf399,_0x4e6783);}['updateEnvU'+'niforms'](_0xee4dc9,_0x3630e3){!(this['envAtlas']||this['cubeMap']||this['sphereMap'])&&this['useSkybox']&&(_0x3630e3['envAtlas']&&_0x3630e3['skybox']?(this['_setParame'+'ter']('texture_en'+'vAtlas',_0x3630e3['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',_0x3630e3['skybox'])):_0x3630e3['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',_0x3630e3['envAtlas']):_0x3630e3['skybox']&&this['_setParame'+'ter']('texture_cu'+'beMap',_0x3630e3['skybox'])),this['_processPa'+'rameters']('_activeLig'+'htingParam'+'s');}['getShaderV'+'ariant'](_0x4b1d3b){const {device:_0x12fd25,scene:_0x5cf7c6,pass:_0x450806,objDefs:_0x55abc5,sortedLights:_0x2ad997,cameraShaderParams:_0x17310f}=_0x4b1d3b;this['updateEnvU'+'niforms'](_0x12fd25,_0x5cf7c6);const _0x438b0d=Si['get'](_0x12fd25)['getByIndex'](_0x450806),_0x883d9a=_0x450806===Zn||_0x450806===Rl||_0x438b0d['isShadow'];let _0x213f5d=_0x883d9a?Jd['optionsCon'+'textMin']:Jd['optionsCon'+'text'];_0x213f5d['defines']=$t['getCoreDef'+'ines'](this,_0x4b1d3b),_0x883d9a?this['shaderOptB'+'uilder']['updateMinR'+'ef'](_0x213f5d,_0x5cf7c6,this,_0x55abc5,_0x450806,_0x2ad997):this['shaderOptB'+'uilder']['updateRef'](_0x213f5d,_0x5cf7c6,_0x17310f,this,_0x55abc5,_0x450806,_0x2ad997),this['useFog']||_0x213f5d['defines']['set']('FOG','NONE'),_0x213f5d['defines']['set']('TONEMAP',ov[_0x213f5d['litOptions']['toneMap']]),this['onUpdateSh'+'ader']&&(_0x213f5d=this['onUpdateSh'+'ader'](_0x213f5d));const _0x2a953d=new Ad(_0x4b1d3b['viewUnifor'+'mFormat'],_0x4b1d3b['viewBindGr'+'oupFormat'],_0x4b1d3b['vertexForm'+'at']),_0x31e09c=Hn(_0x12fd25);_0x31e09c['register']('standard',Jd);const _0x86c4ac=_0x31e09c['getProgram']('standard',_0x213f5d,_0x2a953d,this['userId']);return this['_dirtyShad'+'er']=!(0x1e33+0x1*0x68e+-0xc0*0x31),_0x86c4ac;}['destroy'](){for(const _0x3d99f1 in this['_assetRefe'+'rences'])this['_assetRefe'+'rences'][_0x3d99f1]['_unbind']();this['_assetRefe'+'rences']=null,super['destroy']();}}h(Ut,'TEXTURE_PA'+'RAMETERS',Cd),h(Ut,'CUBEMAP_PA'+'RAMETERS',fm);const Pd=(_0x142f4b,_0x1c898e)=>{bv[_0x142f4b]=_0x1c898e;},um=(_0x385a6e,_0x5908c2,_0x503007,_0x14a267)=>{Object['defineProp'+'erty'](Ut['prototype'],_0x385a6e,{'get':_0x14a267||function(){return this['_'+_0x385a6e];},'set':_0x503007}),Kc[_0x385a6e]={'value':_0x5908c2};},Sb=_0x4fe23a=>{const _0x2f99b6='_'+_0x4fe23a['name'],_0x357a1a=_0x4fe23a['dirtyShade'+'rFunc']||(()=>!(-0xc9d*0x3+0x12af+0x265*0x8)),_0x370a90=function(_0x1ff7f4){const _0x47f738=this[_0x2f99b6];_0x47f738!==_0x1ff7f4&&(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x357a1a(_0x47f738,_0x1ff7f4),this[_0x2f99b6]=_0x1ff7f4);};um(_0x4fe23a['name'],()=>_0x4fe23a['defaultVal'+'ue'],_0x370a90,_0x4fe23a['getterFunc']);},yb=_0x2a37a8=>{const _0x18c1f6='_'+_0x2a37a8['name'],_0x2f27b9=_0x2a37a8['dirtyShade'+'rFunc']||(()=>!(0x113a+0xf6+-0x1230)),_0x32228e=function(_0x4d8776){const _0x529b40=this[_0x18c1f6];_0x529b40['equals'](_0x4d8776)||(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x2f27b9(_0x529b40,_0x4d8776),this[_0x18c1f6]=_0x529b40['copy'](_0x4d8776));};um(_0x2a37a8['name'],()=>_0x2a37a8['defaultVal'+'ue']['clone'](),_0x32228e,_0x2a37a8['getterFunc']);},Es=_0x2d4184=>_0x2d4184['defaultVal'+'ue']&&_0x2d4184['defaultVal'+'ue']['clone']?yb(_0x2d4184):Sb(_0x2d4184);function et(_0x14a644,_0x584d01='rgb',_0x4efea3=!(0x1847+-0x40c*-0x5+-0x2c83),_0x4b3426=0x11b4*0x1+-0x1549+0x395){bn[_0x14a644]=_0x584d01['length']||-(0x176b+0xac*0x9+0x1*-0x1d76),Es({'name':_0x14a644+'Map','defaultValue':null,'dirtyShaderFunc':(_0x385524,_0x9da714)=>!!_0x385524!=!!_0x9da714||_0x385524&&(_0x385524['type']!==_0x9da714['type']||_0x385524['format']!==_0x9da714['format'])}),Es({'name':_0x14a644+'MapTiling','defaultValue':new J(0x8fb+0xd*0x1ac+-0x1eb6,0x1*0x131b+0x2040+-0x335a)}),Es({'name':_0x14a644+'MapOffset','defaultValue':new J(0x1*0x1572+-0x1*0xed1+-0x6a1,-0x5dd*0x2+-0x1ab+0xd65)}),Es({'name':_0x14a644+('MapRotatio'+'n'),'defaultValue':0x0}),Es({'name':_0x14a644+'MapUv','defaultValue':_0x4b3426}),_0x584d01&&(Es({'name':_0x14a644+'MapChannel','defaultValue':_0x584d01}),_0x4efea3&&(Es({'name':_0x14a644+('VertexColo'+'r'),'defaultValue':!(-0xe9b*0x1+-0x1df2+0x3*0xeda)}),Es({'name':_0x14a644+('VertexColo'+'rChannel'),'defaultValue':_0x584d01})));const _0x49a941=_0x14a644+'MapTiling',_0x1b6d80=_0x14a644+'MapOffset',_0x1ee083=_0x14a644+('MapRotatio'+'n'),_0x2b16dd=_0x14a644+('MapTransfo'+'rm');Pd(_0x2b16dd,(_0x230496,_0x5989f1,_0x1e94d6)=>{const _0x30267a=_0x230496[_0x49a941],_0xd7c8e0=_0x230496[_0x1b6d80],_0x342ab3=_0x230496[_0x1ee083];if(_0x30267a['x']===-0x765*0x2+-0x243a*-0x1+0x1*-0x156f&&_0x30267a['y']===0x1e74+0x240+-0x20b3&&_0xd7c8e0['x']===-0x1*0x1030+0x1*0x180a+0x29e*-0x3&&_0xd7c8e0['y']===0x67b*-0x5+-0x561*0x3+0x308a&&_0x342ab3===-0x48*0x35+-0x43c+0x1324)return null;const _0x4d75df=_0x230496['_allocUnif'+'orm'](_0x2b16dd,()=>[{'name':'texture_'+_0x2b16dd+'0','value':new Float32Array(0xa1a+0x20b8+-0x2acf)},{'name':'texture_'+_0x2b16dd+'1','value':new Float32Array(0x39a*-0x9+-0x5b1+0x261e)}]),_0x511f68=Math['cos'](_0x342ab3*Y['DEG_TO_RAD']),_0x1dba53=Math['sin'](_0x342ab3*Y['DEG_TO_RAD']),_0xc645e1=_0x4d75df[-0x1e*-0x1a+0x1177+-0x1483*0x1]['value'];_0xc645e1[0x27b*0x1+-0x1c09+-0x198e*-0x1]=_0x511f68*_0x30267a['x'],_0xc645e1[0x1*-0x245+0x8*0x317+-0x1672]=-_0x1dba53*_0x30267a['y'],_0xc645e1[0x1b66+-0xa9*0x2a+0x56]=_0xd7c8e0['x'];const _0xbcdcda=_0x4d75df[-0x1717+0x984+-0x16*-0x9e]['value'];return _0xbcdcda[-0x1*-0x9df+0x88c*0x2+-0x1af7]=_0x1dba53*_0x30267a['x'],_0xbcdcda[0x1*-0x75a+-0xf7b*0x1+0x1*0x16d6]=_0x511f68*_0x30267a['y'],_0xbcdcda[-0x917+0x1*-0x1a15+0x232e]=-0x3f1*0x1+-0x76c*-0x1+-0x5*0xb2-_0x30267a['y']-_0xd7c8e0['y'],_0x4d75df;});}function Ra(_0x2f4bed,_0x351b10){Es({'name':_0x2f4bed,'defaultValue':_0x351b10,'getterFunc':function(){return this['_dirtyShad'+'er']=!(0x5d*-0x8+-0x939+0x9*0x159),this['_'+_0x2f4bed];}}),Pd(_0x2f4bed,(_0x5514c9,_0xd7cbad,_0xb852e7)=>{const _0x4a7614=_0x5514c9['_allocUnif'+'orm'](_0x2f4bed,()=>new Float32Array(0xb*0xbf+0x545*0x3+-0x1801)),_0x16aa47=_0x5514c9[_0x2f4bed];return oc['linear'](_0x16aa47),_0x4a7614[0x43*0x7b+0x6*-0x233+0x1*-0x12ff]=oc['r'],_0x4a7614[0x2302*-0x1+0x2*-0xab5+0x12cf*0x3]=oc['g'],_0x4a7614[0x1*-0xf3e+0x1*-0x1349+0x2289*0x1]=oc['b'],_0x4a7614;});}function ze(_0x226595,_0x31509f,_0x4be356){Es({'name':_0x226595,'defaultValue':_0x31509f,'dirtyShaderFunc':(_0x53789d,_0x5ea40d)=>(_0x53789d===0x1483+-0x232d+0xeaa*0x1||_0x53789d===-0x40e*0x7+0xa*-0xcb+-0x1*-0x2451)!=(_0x5ea40d===-0x1f16+0xad4+0x1442||_0x5ea40d===0x1ab1+0x1176+-0x2c26)}),Pd(_0x226595,_0x4be356);}function oo(_0x3a9879,_0x28ed97){Es({'name':_0x3a9879,'defaultValue':null,'dirtyShaderFunc':(_0x1828d9,_0x2eedda)=>!!_0x1828d9==!!_0x2eedda}),Pd(_0x3a9879,_0x28ed97);}function ke(_0x4175f7,_0x4fe583){Es({'name':_0x4175f7,'defaultValue':_0x4fe583});}function vb(){Ra('ambient',new ie(-0x1a44+0x20*-0x3a+0x2185*0x1,0x14f7+0x68c+0x1*-0x1b82,-0x4*0x6cd+0x295*-0x3+0x22f4)),Ra('diffuse',new ie(0xcfa+0x1423+-0x211c,-0x22eb+-0x117e+0x346a,-0x1a35+-0x20*-0x9d+0x696)),Ra('specular',new ie(-0x1*0x156b+-0x2*0x709+-0x4f*-0x73,-0x1a55+0xea*0x1f+0x13*-0x1b,0xdbd+0x1*0x1dff+-0x2bbc)),Ra('emissive',new ie(0x1da+0x3*0xbe9+-0x2595,0x6*-0x3e5+0x119c+0x5c2,0x25*-0x90+0xf76*-0x1+0x2446)),Ra('sheen',new ie(0xa1c+0xbd9*0x3+-0x2da6*0x1,0x13d*0x1+0x19b*-0x7+0xa01,0x4c4*-0x1+0x1970+-0x14ab)),Ra('attenuatio'+'n',new ie(-0x24d9+-0x979+0x3b*0xc9,-0x980*-0x1+0xa84+0x1403*-0x1,-0x3*-0xc95+-0x1fc*0xf+-0x7fa)),ze('emissiveIn'+'tensity',-0x164a+-0xcf4+0x233f),ze('specularit'+'yFactor',-0x236*0xf+0x41*0x35+0x13b6),ze('sheenGloss',0x1dd+0xd73+-0xf50),ze('gloss',-0x2a+-0x99*0x4+0x28e+0.25),ze('aoIntensit'+'y',-0xc06+0x1608+-0xd*0xc5),ze('heightMapF'+'actor',-0x26d3+0x9d*0x15+0x19f3,(_0x29f80c,_0x224dcf,_0x11b940)=>_0x29f80c['heightMapF'+'actor']*(-0x704+-0x439+0xb3d+0.025)),ze('opacity',-0x85f*0x1+-0xf5d+0x17bd),ze('alphaFade',-0x34*-0x2e+0x10a*-0x13+0xa67),ze('alphaTest',0x1419+-0x2b4*-0xc+-0x3489),ze('bumpiness',-0x1220+-0x334+0x1555),ze('normalDeta'+'ilMapBumpi'+'ness',-0x161*-0x5+-0xfff+0x91b),ze('reflectivi'+'ty',-0x1*-0x1622+0x34*0x22+-0x1d09),ze('occludeSpe'+'cularInten'+'sity',-0x2*0x506+0x116a*-0x1+0x1b77),ze('refraction',-0x1*0x1f51+0x1017+-0x2*-0x79d),ze('refraction'+'Index',(-0x2*-0xfd5+0x12b4+-0x325d)/(0x11*0x187+0xafe*0x1+-0x24f4+0.5)),ze('dispersion',0x2*-0xf7b+0x1527+-0x51*-0x1f),ze('thickness',-0x838+0x1eb3*-0x1+0xcf9*0x3),ze('attenuatio'+'nDistance',0x23d4+0x1b9d*0x1+0x1*-0x3f71),ze('metalness',-0x2651*0x1+0x89*0x29+0x1061),ze('anisotropy'+'Intensity',0x1ca8+0x234a+-0x2*0x1ff9),ze('anisotropy'+'Rotation',0x1*0x229d+0x206a+0x1*-0x4307),ze('clearCoat',0x7*-0x3c1+-0x11*-0x11+0xae*0x25),ze('clearCoatG'+'loss',-0x1744+0x1a79+0x29*-0x14),ze('clearCoatB'+'umpiness',-0x1*0x1e17+-0x3e6*0x9+0x412e),ze('aoUvSet',0x4aa*-0x2+0x2382+0xd17*-0x2,null),ze('iridescenc'+'e',-0x4f*0x67+-0x2*0x83b+-0x303f*-0x1),ze('iridescenc'+'eRefractio'+'nIndex',(-0x38c+-0xfe1*0x1+-0x1*-0x136e)/(0x2169+0x2299+-0x4401+0.5)),ze('iridescenc'+'eThickness'+'Min',0x102*-0xf+0x1*-0xefe+0x2f*0xa4),ze('iridescenc'+'eThickness'+'Max',0x148*0x10+0x73a+-0x1bba),oo('ambientSH'),oo('cubeMapPro'+'jectionBox',(_0x57d144,_0x3cf7a8,_0x52d541)=>{const _0xc2206c=_0x57d144['_allocUnif'+'orm']('cubeMapPro'+'jectionBox',()=>[{'name':'envBoxMin','value':new Float32Array(0x1fb0*0x1+-0x33e+-0x1c6f)},{'name':'envBoxMax','value':new Float32Array(-0x1c30+-0x26e7+0x431a)}]),_0x58da50=_0x57d144['cubeMapPro'+'jectionBox']['getMin'](),_0x84fe24=_0xc2206c[0x1281+-0x1*-0x935+-0x1bb6]['value'];_0x84fe24[0x1153+-0x76*0x53+-0xe9*-0x17]=_0x58da50['x'],_0x84fe24[0x2c*-0x7+0x25f*-0xf+0x24c6]=_0x58da50['y'],_0x84fe24[-0x1*0x2351+0x20f4+-0x1*-0x25f]=_0x58da50['z'];const _0x37aafe=_0x57d144['cubeMapPro'+'jectionBox']['getMax'](),_0x411267=_0xc2206c[0x1e*0x42+-0x167*-0x2+-0xa89]['value'];return _0x411267[0x1*-0x6a1+0x1027+-0x986]=_0x37aafe['x'],_0x411267[-0xf28*-0x1+0x1be*-0x4+-0x82f]=_0x37aafe['y'],_0x411267[-0x1c7e+-0x14b6+0x3136]=_0x37aafe['z'],_0xc2206c;}),ke('specularTi'+'nt',!(0x107*-0x26+0x1dbc+0x94f)),ke('specularit'+'yFactorTin'+'t',!(-0x1692*-0x1+-0x467*-0x7+-0x3562)),ke('useMetalne'+'ss',!(0x8cf+0xc11*0x1+-0x14df)),ke('useMetalne'+'ssSpecular'+'Color',!(0x25a+-0x1168+0xf0f)),ke('useSheen',!(-0x10e8+-0x1a07*0x1+0x4*0xabc)),ke('enableGGXS'+'pecular',!(0x1*-0x1968+-0xf5c+0xd5*0x31)),ke('occludeDir'+'ect',!(0xbf1*0x1+0x254f+0x313f*-0x1)),ke('opacityFad'+'esSpecular',!(0x2381+0x4bd*-0x1+-0x1ec4)),ke('occludeSpe'+'cular',bd),ke('fresnelMod'+'el',Yp),ke('useDynamic'+'Refraction',!(-0x1f8*0x1+0x1*-0x2119+0x2312)),ke('cubeMapPro'+'jection',tm),ke('useFog',!(0x21db+0x1d*-0x79+-0x1426)),ke('useLightin'+'g',!(0x1331*-0x2+-0x1*0x16e1+0x1*0x3d43)),ke('useTonemap',!(-0x8ef*-0x1+-0x11d7*-0x2+-0x2c9d*0x1)),ke('useSkybox',!(0x2386+0x3*0xcf5+-0x4a65)),ke('forceUv1',!(0x1a*-0x129+-0x253b+0x4366)),ke('pixelSnap',!(-0x2*0x32+-0x10eb+-0x1*-0x1150)),ke('twoSidedLi'+'ghting',!(-0x1d6b+0x15d2+0x79a)),ke('nineSliced'+'Mode',void(-0x13b1+0x36*0x8a+-0x96b)),ke('msdfTextAt'+'tribute',!(0x153a+-0xd3c+0x7fd*-0x1)),ke('useIridesc'+'ence',!(-0xe1d+-0x1fd+0x101b)),ke('glossInver'+'t',!(0x22cf+0x14c6*0x1+0x1*-0x3794)),ke('sheenGloss'+'Invert',!(0x1*-0x263a+-0x2278+0x1*0x48b3)),ke('clearCoatG'+'lossInvert',!(0x1*-0x1e29+-0x3*-0x623+0xbc1)),ke('opacityDit'+'her',Sa),ke('opacitySha'+'dowDither',Sa),ke('shadowCatc'+'her',!(-0xa*-0x31+-0x7*-0x296+-0x1*0x1403)),et('diffuse'),et('specular'),et('emissive'),et('thickness','g'),et('specularit'+'yFactor','g'),et('normal',''),et('metalness','g'),et('gloss','g'),et('opacity','a'),et('refraction','g'),et('height','g',!(-0x2072+-0x23ae+0x6b*0xa3)),et('ao','g'),et('light','rgb',!(0x1*-0xb5b+-0xc42+-0x1d1*-0xd),0x427*0x3+0x2353*-0x1+0x493*0x5),et('msdf',''),et('diffuseDet'+'ail','rgb',!(0x1104+0x78f+-0x1892)),et('normalDeta'+'il',''),et('aoDetail','g',!(-0x1cfa+0x4f4+0x1807)),et('clearCoat','g'),et('clearCoatG'+'loss','g'),et('clearCoatN'+'ormal',''),et('sheen','rgb'),et('sheenGloss','g'),et('iridescenc'+'e','g'),et('iridescenc'+'eThickness','g'),et('anisotropy',''),ke('diffuseDet'+'ailMode',p_),ke('aoDetailMo'+'de',p_),oo('cubeMap'),oo('sphereMap'),oo('envAtlas');const _0x5d90e5=function(){return this['_prefilter'+'edCubemaps'];},_0x37d5a7=function(_0x131585){const _0x7cbcba=this['_prefilter'+'edCubemaps'];_0x131585=_0x131585||[];let _0x1ff03c=!(-0x9*-0x405+-0x1*0x19db+0x1*-0xa51),_0x3d7602=!(0x860*-0x1+-0xfa8+0xc04*0x2);for(let _0x1c9e08=-0x1c77+0x508+-0x1*-0x176f;_0x1c9e08<-0xa*0xd+-0xca*0xc+-0x14*-0x80;++_0x1c9e08){const _0x151807=_0x131585[_0x1c9e08]||null;_0x7cbcba[_0x1c9e08]!==_0x151807&&(_0x7cbcba[_0x1c9e08]=_0x151807,_0x1ff03c=!(0x2*0xd28+-0x337*-0x6+-0xd*0x382)),_0x3d7602=_0x3d7602&&!!_0x7cbcba[_0x1c9e08];}_0x1ff03c&&(_0x3d7602?this['envAtlas']=Tv['generatePr'+'efilteredA'+'tlas'](_0x7cbcba,{'target':this['envAtlas']}):this['envAtlas']&&(this['envAtlas']['destroy'](),this['envAtlas']=null),this['_dirtyShad'+'er']=!(0x4*0x3eb+0x8*-0x1bf+0x2*-0xda));},_0x5c44ff=[null,null,null,null,null,null];um('prefiltere'+'dCubemaps',()=>_0x5c44ff['slice'](),_0x37d5a7,_0x5d90e5);}vb();const Rt=class Rt{static['render'](_0x1fc338,_0x49cd0b){const _0x5ce06f=_0x49cd0b['device'],_0x4f74d6=_0x1fc338['cells'],_0x1e9c9c=_0x1fc338['lightsBuff'+'er'],_0x51774a=_0x1e9c9c['boundsMin'],_0x286099=_0x1e9c9c['boundsDelt'+'a'],_0x11a132=_0x51774a['clone']()['add'](_0x286099),_0x3bc3fa=_0x1e9c9c['boundsDelt'+'a']['clone']()['div'](_0x4f74d6),_0x1985b3=Rt['gridPositi'+'ons'],_0x25136d=Rt['gridColors'],_0xab62f3=new ie(-0x4*0x576+0x1*0x1c0c+0x18d*-0x4+0.3,0x1*0x12db+0x1774+-0x2a4f+0.3,0x3a0+0x1f*-0xfb+0x1ac5+0.3),_0x1dee9f=(_0x18ce36,_0x10c9cf,_0x4f3146,_0x5d0e85,_0xb531,_0x2bc903,_0x3f1527,_0x3f2395,_0x145c27)=>{for(let _0x22865e=-0x9b*-0xf+0x19df+-0x22f4;_0x22865e<=_0x18ce36;_0x22865e++)for(let _0x364fe7=0x1c77*-0x1+0x16df+0x598;_0x364fe7<=_0x10c9cf;_0x364fe7++){const _0x604d7b=_0x4f3146+_0x22865e*_0x5d0e85,_0x2a6530=_0xb531+_0x364fe7*_0x2bc903;_0x145c27===0x14f2+0x973+-0x1e65?_0x1985b3['push'](_0x604d7b,_0x3f1527,_0x2a6530,_0x604d7b,_0x3f2395,_0x2a6530):_0x145c27===-0x4ba+0x664*0x2+-0x80d?_0x1985b3['push'](_0x604d7b,_0x2a6530,_0x3f1527,_0x604d7b,_0x2a6530,_0x3f2395):_0x145c27===0x20d1+0x3e6*-0x8+-0x19f&&_0x1985b3['push'](_0x3f1527,_0x604d7b,_0x2a6530,_0x3f2395,_0x604d7b,_0x2a6530);}};if(_0x1dee9f(_0x4f74d6['x'],_0x4f74d6['z'],_0x51774a['x'],_0x3bc3fa['x'],_0x51774a['z'],_0x3bc3fa['z'],_0x51774a['y'],_0x11a132['y'],-0xacf+0xba7+-0xd8),_0x1dee9f(_0x4f74d6['x'],_0x4f74d6['y'],_0x51774a['x'],_0x3bc3fa['x'],_0x51774a['y'],_0x3bc3fa['y'],_0x51774a['z'],_0x11a132['z'],0x18*0x1a+-0x3d8+0x13*0x13),_0x1dee9f(_0x4f74d6['y'],_0x4f74d6['z'],_0x51774a['y'],_0x3bc3fa['y'],_0x51774a['z'],_0x3bc3fa['z'],_0x51774a['x'],_0x11a132['x'],-0x243*-0xd+0x7be+-0x2523),_0x1985b3['length']){const _0x984ac9=_0x1985b3['length']/(0x16c2+-0x1*-0xc30+-0xba5*0x3);if(_0x984ac9!==_0x25136d['length']/(-0xfbc+-0xcf2+0x1cb2)){_0x25136d['length']=-0x12a3*-0x2+0x17c6+-0x4*0xf43;for(let _0x210cd6=-0x3*0x4e1+-0xc8d*-0x3+0x5c1*-0x4;_0x210cd6<_0x984ac9;_0x210cd6++)_0x25136d['push'](_0xab62f3['r'],_0xab62f3['g'],_0xab62f3['b'],_0xab62f3['a']);}_0x49cd0b['drawLineAr'+'rays'](_0x1985b3,_0x25136d),_0x1985b3['length']=-0x15f*0xa+0x2b2+-0x5e*-0x1e;}let _0x3b4200=Rt['mesh'];_0x3b4200||(_0x3b4200=new Ge(_0x5ce06f),_0x3b4200['clear'](!(0x27*0x43+0x242*0x7+0x1a03*-0x1),!(0xe7+-0xf*0x67+0x522)),Rt['mesh']=_0x3b4200);const _0x1c3c1e=[],_0x33d549=[],_0x32356e=[],_0x5050dd=_0x1fc338['_cells']['x'],_0x2e89b1=_0x1fc338['_cells']['z'],_0xd50a9a=_0x1fc338['counts'],_0x5254d2=_0x1fc338['_maxCellLi'+'ghtCount'],_0x1775bc=new D(),_0x35c6b9=new D(),_0x49aff9=new D(),_0x463010=_0x286099['clone']()['div'](_0x4f74d6);let _0x4298d3=-0x2174+0xdf+-0x1*-0x2095;for(let _0x61dfe9=-0xae2+-0xed1+-0x99*-0x2b;_0x61dfe9<_0x4f74d6['x'];_0x61dfe9++)for(let _0x334b07=-0x1*-0x1b92+0x1bba+0x1ba6*-0x2;_0x334b07<_0x4f74d6['z'];_0x334b07++)for(let _0x19743b=0x7*-0x5+0x197*-0xb+0x18*0xbc;_0x19743b<_0x4f74d6['y'];_0x19743b++){const _0x1d8cb3=_0x61dfe9+_0x5050dd*(_0x334b07+_0x19743b*_0x2e89b1),_0x396475=_0xd50a9a[_0x1d8cb3];if(_0x396475>0xf9a*-0x2+-0x250c+0x4440){_0x1775bc['x']=_0x51774a['x']+_0x463010['x']*_0x61dfe9,_0x1775bc['y']=_0x51774a['y']+_0x463010['y']*_0x19743b,_0x1775bc['z']=_0x51774a['z']+_0x463010['z']*_0x334b07,_0x35c6b9['add2'](_0x1775bc,_0x463010),_0x1c3c1e['push'](_0x1775bc['x'],_0x1775bc['y'],_0x35c6b9['z']),_0x1c3c1e['push'](_0x35c6b9['x'],_0x1775bc['y'],_0x35c6b9['z']),_0x1c3c1e['push'](_0x35c6b9['x'],_0x35c6b9['y'],_0x35c6b9['z']),_0x1c3c1e['push'](_0x1775bc['x'],_0x35c6b9['y'],_0x35c6b9['z']),_0x1c3c1e['push'](_0x35c6b9['x'],_0x1775bc['y'],_0x1775bc['z']),_0x1c3c1e['push'](_0x1775bc['x'],_0x1775bc['y'],_0x1775bc['z']),_0x1c3c1e['push'](_0x1775bc['x'],_0x35c6b9['y'],_0x1775bc['z']),_0x1c3c1e['push'](_0x35c6b9['x'],_0x35c6b9['y'],_0x1775bc['z']),_0x49aff9['lerp'](Rt['colorLow'],Rt['colorHigh'],_0x396475/_0x5254d2)['round']();for(let _0x123db9=0x1ac4*-0x1+0x2a1*0x1+-0x1*-0x1823;_0x123db9<-0xa*-0x1b7+0x200e+0x1896*-0x2;_0x123db9++)_0x33d549['push'](_0x49aff9['x'],_0x49aff9['y'],_0x49aff9['z'],-0x226*-0xc+-0x1*-0x1c17+0xa*-0x563);_0x32356e['push'](_0x4298d3*(-0x11af+0x1f19+0x1*-0xd62)+(-0x12ce+0x19*0xfb+-0x5b5),_0x4298d3*(0x1920+0x1*-0x2115+0x7fd*0x1)+(0x1388+-0x6*0x46+-0x11e3),_0x4298d3*(-0xd5e+0x145+0xc21)+(0x1c63+0x4*-0x3a9+-0x2*0x6de)),_0x32356e['push'](_0x4298d3*(-0xb41+-0x17c9+0x2312)+(0x63d+0x4be*-0x7+0x1af8),_0x4298d3*(-0xe92+-0x264f+0x34e9)+(0x1af*-0x5+-0xcfa+-0xab3*-0x2),_0x4298d3*(-0x7e6+0x1209+-0xa1b)+(0x2*0x12e4+0x1*0x278+0x12f*-0x22)),_0x32356e['push'](_0x4298d3*(-0x141f+-0x1e12+0x3239)+(0x2*-0x959+-0x8*-0x3c3+-0x2*0x5b1),_0x4298d3*(-0x563+-0x3f1+0x95c)+(0x15ad+-0x2351+-0x1*-0xda9),_0x4298d3*(-0x1*-0x15e5+-0x525*0x2+0xb93*-0x1)+(0x1*0x6fd+-0x89*0x9+0x1*-0x225)),_0x32356e['push'](_0x4298d3*(0x998+0x28a*0x4+0x2*-0x9dc)+(-0xe71*0x2+-0x20d1+-0x2*-0x1edd),_0x4298d3*(0xbbd+0x6*0x2c5+-0x1c53)+(-0x21*-0xd+0x26a8+-0x1428*0x2),_0x4298d3*(0x1134+-0x8*-0x498+0x74*-0x77)+(0xa*-0x17e+0x1e65+-0xf73)),_0x32356e['push'](_0x4298d3*(-0x4e5+0x1859*0x1+-0x2*0x9b6)+(-0x1*-0x1fca+0x209*-0x1+-0x1*0x1dbe),_0x4298d3*(0x3*0x641+0x6b*-0x13+-0xaca)+(0x1*-0xb61+-0x14b0*-0x1+-0x1*0x94d),_0x4298d3*(0x1d7e+0x1f3e+0x40c*-0xf)+(-0x404*0x4+0x1aad+-0xa97)),_0x32356e['push'](_0x4298d3*(0x12d5*-0x1+0xc6b+0x672)+(0x42*-0x6b+-0x12b3+0x2e4b),_0x4298d3*(-0x11b8+-0x262*-0x5+0x5d6)+(0x8f7+0x16*0x3d+-0x21*0x6e),_0x4298d3*(-0x1714+0xf8e+0x78e)+(0x24da+0x399+0x286d*-0x1)),_0x32356e['push'](_0x4298d3*(-0x4bf+0x19*0x10+0x337)+(0x12da+0x1e15+0x2*-0x1877),_0x4298d3*(-0x15ff+-0xbf3+0x21fa)+(-0x2c2*-0x1+0x327*-0x1+-0x65*-0x1),_0x4298d3*(0x85c+-0xfd6+-0x3c1*-0x2)+(-0x44*0x44+0xd7*-0x25+0x3127)),_0x32356e['push'](_0x4298d3*(-0xe97+-0x1*-0x100f+-0x170)+(-0x5*0x1d5+0x802+0x1*0x127),_0x4298d3*(-0x982*0x1+-0x2*0x5bf+0xa84*0x2)+(-0x229a+0x1*-0x26d0+0x496f*0x1),_0x4298d3*(-0xd78+0x4*-0x247+0x169c)+(-0x654+-0x1e3f+-0x1ed*-0x13)),_0x32356e['push'](_0x4298d3*(0x20f7+-0x3*0xb1e+0x1*0x6b)+(0x17*-0x1ab+0x971+0x1*0x1ced),_0x4298d3*(0x52*-0x19+0x26b0+-0x1ea6)+(-0x1a71+-0x54c+0xb*0x2e3),_0x4298d3*(0x1*-0x17c0+-0x12*-0x88+0xe38)+(-0x199*0x17+-0x579+0x2a3a)),_0x32356e['push'](_0x4298d3*(0xb8f+-0x8e9+-0x86*0x5)+(-0x3fb*0x2+0x1033*-0x1+0x182d),_0x4298d3*(-0xd0b+0x25f6+-0x17*0x115)+(0x25*-0x4b+0x6ad*0x1+0x431),_0x4298d3*(-0x81f+-0x106c+0x1b*0xe9)+(-0x93*-0x7+-0xa5f+0x65c*0x1)),_0x32356e['push'](_0x4298d3*(0xe9*0xf+0xc8e*0x2+0x26bb*-0x1)+(0x1e2a+-0x1ee4+-0x1*-0xbf),_0x4298d3*(0x2438+0x9*0x209+-0x3*0x122b)+(0x1bd4+0x4b+0x139*-0x17),_0x4298d3*(0x152e+-0xed1*-0x2+-0x32c8)+(0x276+-0xf6*0x1a+0x168c)),_0x32356e['push'](_0x4298d3*(-0x1*-0x789+-0x2*-0x11c+-0x9b9)+(-0x4*-0x551+-0x80a+0x69d*-0x2),_0x4298d3*(0x2099+0x13d8+-0x3469)+(-0x4*-0x312+-0x19f3+0xdae),_0x4298d3*(-0xad*-0x13+-0xdb1+0xe2)+(0xcd2+-0x1*-0x2482+-0x314e)),_0x4298d3++;}}if(_0x4298d3){if(_0x3b4200['setPositio'+'ns'](_0x1c3c1e),_0x3b4200['setNormals'](new Float32Array(_0x1c3c1e['length'])),_0x3b4200['setColors3'+'2'](_0x33d549),_0x3b4200['setIndices'](_0x32356e),_0x3b4200['update'](js,!(0xaaa+-0x4ab*0x1+-0x2*0x2ff)),!Rt['meshInstan'+'ce']){const _0x45938d=new Ut();_0x45938d['useLightin'+'g']=!(0x1f99+-0x89f+-0x16f9),_0x45938d['emissive']=new ie(0x2605+-0x3*0xc5b+0x3*-0x51,0x8ea*-0x1+-0x91b+0x1206,-0x1de*-0x1+-0x463*-0x2+0x7*-0x185),_0x45938d['emissiveVe'+'rtexColor']=!(-0x1*0xaa0+-0x5*0x25f+0x1*0x167b),_0x45938d['blendType']=Ed,_0x45938d['depthWrite']=!(-0x2173*0x1+-0x5a7+0x271b),_0x45938d['update']();const _0xc7d6be=new Ie('WorldClust'+'ersDebug');_0xc7d6be['worldTrans'+'form']=te['IDENTITY'],_0xc7d6be['_dirtyWorl'+'d']=_0xc7d6be['_dirtyNorm'+'al']=!(0x789+0x2232+-0x7*0x5f6),Rt['meshInstan'+'ce']=new He(_0x3b4200,_0x45938d,_0xc7d6be),Rt['meshInstan'+'ce']['cull']=!(0x58e+0x7fd+-0xd8a);}const _0x583c83=Rt['meshInstan'+'ce'];_0x49cd0b['immediate']['drawMesh'](_0x583c83['material'],_0x583c83['node']['worldTrans'+'form'],null,_0x583c83,_0x49cd0b['defaultDra'+'wLayer']);}}};h(Rt,'gridPositi'+'ons',[]),h(Rt,'gridColors',[]),h(Rt,'mesh',null),h(Rt,'meshInstan'+'ce',null),h(Rt,'colorLow',new D(0x1*0x4d2+-0x4*-0x6fb+-0x20bd,-0x16f5+-0x75e*0x1+-0x1e54*-0x1,0x1760+-0x5c9*-0x5+0xd13*-0x4)),h(Rt,'colorHigh',new D(-0x54e+-0x67*-0x1d+0xe3*-0x7,-0x13eb+0x1fa2*-0x1+0x338d,-0x51c+-0x21c8+-0x4*-0x9b9));let hu=Rt;const xb='muPIHORMLN'+'DCz4DxVR/Z'+'vYfAUVEFR4'+'7KRIC4nwAA'+'AAAP7WxlhD'+'6Ci+2HCe7B'+'F8jRAPZwdH'+'2UPpI5PdLC'+'JdkvG4UTaN'+'DJ/0crAzne'+'71GCrb4kbd'+'MjjCEGzdX6'+'fNxDMLJq5x'+'keoIVTdfiZ'+'kodEeArmZm'+'p/FQzFjD4x'+'8iOW7Dg64n'+'+3mWqyEwLx'+'XT8zoJXfbw'+'8QJKDCaarU'+'YyTlMzNFHb'+'gUe9IQV7g4'+'YOgtSKpIFZ'+'J0qERm7u4P'+'pmiF89ktHW'+'CywaGmD6h+'+'hfh2/Zd8KY'+'lKqqo4Cem4'+'T42bT/Z9Fp'+'CQF1hhSjfB'+'zZ5XFn/y3j'+'egWC6u86Ku'+'ELRundQS/1'+'Rp+XuKKGIg'+'Rv3CvP5y74'+'9yqLlFO495'+'JOT3+f2CXg'+'d71npU0/Kj'+'jpkZucbJ5m'+'78IVyuSrSo'+'zc9jgBUhDr'+'z0hFsyb7LF'+'UH9//wJbBg'+'LdNWJZObfK'+'xrNt8TliLA'+'9w9sXFv6g2'+'6iXpf6r/Bq'+'cAusj/QzGB'+'ZuoUGeEtw8'+'BCXCZ3jUiw'+'4hvM18ZVql'+'UD3C40LAFX'+'W6FRjuAZGR'+'Nstb0/qVk4'+'skwyT+MHrv'+'RorI4rKHVM'+'WZmKyAkzL/'+'78u/9pMQuX'+'14pZN50b2P'+'Hn6fRxeaCQ'+'LsfT4dpvIk'+'WWFuFVENZI'+'h+8xgR6lU+'+'85W0PPdAu1'+'j99kcCG40J'+'BQa4JMyRzq'+'6qriOBLtqF'+'87vpCJan0W'+'EduVr/mOYk'+'S00urVA0mA'+'6M3031+GmG'+'mW48PaJDYO'+'EIb3bIXWPa'+'LoAOEinX1T'+'N3+/vwhG6n'+'qJu0TdHped'+'S7QsGZIoxH'+'3nQYYjQP1j'+'mbahlbNngw'+'5ogsGk1y50'+'XZyUmQBY+/'+'JBJ3Unu4dA'+'pm+WmPwHPU'+'9gLb+4mHh4'+'BiY6M86pq+'+'WeTyWdI3s0'+'CXPEtHGXZ8'+'zMZgUoyRom'+'Bi1VdazzuN'+'+WOmQ9Pa0Z'+'0tlNopUi8A'+'J4x2Xn4mmO'+'KEbXLxlbVs'+'Wu8XhuDGYF'+'OGCRVdSqDP'+'XrHU5SDdUl'+'ti3k5///SB'+'wzTMwK3L4a'+'1H7w4lnpEa'+'s6////AfX8'+('asyIBfeFXV'+'J3tgvxQ/bl'+'ZuUKyIODIf'+'r/UzdWNu7p'+'ciLBpdZRZ4'+'pIfZ1R6szq'+'+XNxkGG///'+'8EZFpu7VHA'+'hFWqHEOrB9'+'unw+YQa5o8'+'/9IR/V5/zq'+'+986rJSyfg'+'JKt2u9hxU1'+'wzyQWPjJGv'+'zG9+eWWxGF'+'OHVKqI4jBQ'+'ALwZZswesn'+'vZ2UmmkEXd'+'iRpz8B+oWE'+'7PY70ZTMnd'+'isYSXg2Tqo'+'I+3y9BxbnY'+'2Y4EfbdcRh'+'AvG59NqDEN'+'NYbxKvK5HJ'+'fPG5M+Wi2A'+'cpLVJrD6ca'+'iEOzgSoVNS'+'gQK8fm2M3z'+'GcF4xtClv/'+'8Hs9oD7C3j'+'itTATYNQxm'+'KqKf1LhIxz'+'f1bmfiNn7U'+'KFmcJu4sLq'+'VLwxGSue3t'+'aBEyknkw5h'+'XTsUCvqmmL'+'/f8n/w0giR'+'7Hu/9EHvpk'+'z3yuu64Tio'+'MkzdTJ30i0'+'+hFnQqW1+v'+'9mMwq+z9qG'+'X0UFu9Momv'+'VG2xod6vc1'+'2AAAAACq7s'+'Ga5qptFR0j'+'F3nQt/D+7P'+'ibKYahaxP3'+'hEixPbGi9n'+'wNf2LAa7Lk'+'EZRKxzXeCD'+'64Xpii5n+8'+'Kpg8eHIv7A'+'WXZltgMoGl'+'tmoJ0XGdOC'+'L8WkzphvR9'+'N2o3ARSZ42'+'l5e5Pe4B58'+'MCRlP3EKv+'+'mcloknH+ft'+'o5BWsmEutW'+'6KvjOVsznF'+'CktkSczVk4'+'aGvj9VXlRc'+'LeDoKG8RkB'+'gdcNG2bf8H'+'UL4MT2DM+a'+'r7NImJhKpx'+'akX4Vk0CnP'+'+/XNhl5UsP'+'0lXgeZXPoD'+'BMSW5An+DX'+'lTCO5FQGwS'+'PYwHLKYVIi'+'mEdAoVe49r'+'QLaaNcye5L'+'xU2/c5TijT'+'gJtD5eQQIe'+'1snxauj5jZ'+'sxJBUJdoP/'+'zqpjqv8qBr'+'uoPsVsP8N4'+'4PCUW5Dd0D'+'zqjSS/Dl5m'+'I9cn1w2ndN'+'/0KAEm1QAA'+'AACwu6KM/0'+'83IBbH5bPa'+'/9oHUwcU8I'+'9v3j6/v18Q'+'Yammrf+P6V'+'L///8BrpuM'+'3fOLCxaLNO'+'FNF1zPbPYT'+'P65ni6njft'+'4eVcyrVXRQ'+'Frs52tr35S'+'tiSp55edVD')+('CBC0H5rIfa'+'c6nzUwxQSt'+'7y15QoKb+5'+'zebEQUmVbr'+'PjXuUa19Ey'+'7sqXMiSUKH'+'aw72PJKDdr'+'utJoQr3u6l'+'EYJ8K0MakW'+'Kj9zjTFi4X'+'94TsKYco0G'+'rLeB60M6D8'+'M/80rhXUW8'+'iMequg8y5F'+'838WI0+gp3'+'GBN5Kj/xIO'+'xTWQuUaPV/'+'LwvARr1VH9'+'3BFgGZR1MF'+'W0Ua30GbYm'+'dnAgo9VWy8'+'SQtpDUgGE2'+'r2zq2eTEMC'+'L7sMKmE1hc'+'hVhuF/TCq9'+'iXKEm86kzO'+'f3Rp9ZnCxb'+'pDUj+FKNxV'+'yXe6pVZkRX'+'v/m95SnB/E'+'B8aME29N85'+'MtAcDoXWlo'+'r8De2Q5Dg1'+'tar+8wgiZu'+'fbMam81j//'+'ASUohoR/zS'+'h2KG4bvT6m'+'kIPz6C5/98'+'DC3LaWlaEZ'+'1zA5JORZRu'+'6J/a0GY285'+'sEYzw71YqO'+'T1ihAG0z5S'+'Dt1xNiDQWZ'+'dFpndArp6x'+'WhqSDkRb4k'+'SJEHb9liPv'+'w7uLV/6i5M'+'Vf//A9Qjr8'+'xkAEUh+KDI'+'+zdtJ68d6M'+'BOktg1iyp/'+'SCq8O9f5pb'+'amn1VVVQPR'+'TWqNBvhQKa'+'07s6P0lc9L'+'uu/3gw4Hey'+'OUfz8MxMwV'+'4UQhua+t9c'+'r4bz/nIB2w'+'nDSK1K7I94'+'M+s6C84hta'+'X/CNlMQUSs'+'2KJO+yaebf'+'TbkNX5yWcq'+'EJevo0vbKU'+'iETuFXiL01'+'9A3E+lmsyZ'+'MwXrXLLiQA'+'Z5t9+jI3Jo'+'bhJTMiDH5Z'+'OQ+8Jau555'+'5NMjHSscP9'+'qCVaa40doh'+'+1a3Ukf6jq'+'BmLddgh79/'+'fwTfCyqiul'+'dNkUoy+nUp'+'+4nerwg0Oj'+'tGv2x485PJ'+'OJvUEokNhY'+'IdWjpx7BWk'+'0VZGWOp3jS'+'FTJ2bnu6KC'+'duZtG/UcBC'+'9RZ3W/jMSf'+'SMw4Etr/Do'+'D/XYP2V5Ov'+'w+YoM3F5g2'+'dGLdvuG6Zk'+'VGLE6Dk5Zr'+'+sdSyGliJP'+'1y2OFf/KFO'+'0RWO+3gsGh'+'esTnfZVpTd'+'8/HwgO216g'+'waqo+vY3Tl'+'jfJWowY+i0'+'p0Os4SLn/1'+'wLqDHMlszg')+('gmT/D8MRFz'+'s+pLv6LNJS'+'sNZ/r41mWi'+'/rF6ZcKp/y'+'zJdK0VU44h'+'skq3RGpgO6'+'mIpJDsf/mZ'+'kFrz0yYOML'+'buaj/wp1v7'+'JMFM5eqvBh'+'mTd7U8frQA'+'tHtys4zgpj'+'ZmzUhOVTfN'+'NLifElGXAD'+'lqHGKrkBT/'+'nYwX8ZRm3R'+'jvyPvjKyEq'+'EGKUpVnvOG'+'x+NKPHiWM/'+'/ZDpDVGvvr'+'jmk8RPF/wi'+'YZD3+Us8YC'+'XjrVOfjdd1'+'UPAfjLp8jg'+'Sn4me7DPTp'+'z1Ggy9XL80'+'guFO7ECT10'+'AvILKfD18Q'+'x+KY/f8aRq'+'u0oOO8hfKR'+'FZa9PUJwCs'+'p6VdZz6LFk'+'m2b9Pl2LIi'+'fCwzRy7Tpd'+'G2uAtOxP2O'+'emY26bJMa9'+'ZGSLIRlMsg'+'pDpnDJwd0o'+'a5pQ13x1hr'+'Hf52HpulUW'+'onGWsfXZbS'+'QYKu9bnEN7'+'6ciQih0opN'+'3deDVrbrxo'+'rfVlnCmL1R'+'9zq3ePGWIv'+'21c7pW8kEi'+'FTM5JX8dAw'+'867s/60cf7'+'9/BH+MDFCZ'+'BHlz1L+qGO'+'Jf/1txhhmr'+'f3//As+RIJ'+'wevDb+fgNX'+'VeHw67QptZ'+'egayhrEwr5'+'Gy+EPo1RLa'+'MtPbqOZYoV'+'zXzwzjMFWZ'+'xyUG9YUIf6'+'////AQWy84'+'iAygLk9COt'+'Xt92+0mT/x'+'g0zMzMBeLk'+'b8y9SL2TDX'+'gSX422hDgp'+'GNLJyuPioA'+'+YJ91G8znr'+'pNqHkwYysc'+'aJDEc9Vc+j'+'4cXle3hvcd'+'2JqDQH2lBZ'+'xDn6mUTs0b'+'75raMvbs72'+'7codX01Anj'+'8f3wir9P2x'+'QaQ22v/TxC'+'MglKDFoTja'+'P01XTLgxnT'+'vPv02JgEUr'+'W6UDgOnobF'+'pLdvKdlypg'+'IzPcq14fgX'+'U5tvVW0FEs'+'7VRlsG1IyA'+'69fN4n+awH'+'hT34cE+xUv'+'dj86C8LgAs'+'FheTjI9Ht9'+'EyYAAAAAAV'+'BVKRx2wLgU'+'TI0/2QfyJo'+'2riRw3JDqz'+'EShmx/Lifo'+'6mRkQVbS7X'+'53t+EvKxcX'+'ogtdts31e9'+'MRHdcHgsA8'+'rt4/mt2unl'+'zQ/wsU8Gu7')+('+W6Oj7eD8E'+'QdDp5XlCsV'+'aS/AV/t5Zp'+'POHR3rGpyA'+'Je9IPV+xMr'+'BL1Oz/8MQh'+'Fs31h0N1cV'+'nq371uqIJY'+'HyafKH1jte'+'AK3VpMXBcu'+'C+yt0ZeKyR'+'UY4QhdrJJ4'+'tJ1wg3Hu6k'+'DsbovxupTM'+'kGdRrm8oZS'+'oYPbJ+PwH/'+'xotgTdkA12'+'05vUEfnqkI'+'04T/fnnd1f'+'iZW5AwNcgg'+'d7fi4j5zas'+'mcntZexIxq'+'FZQMzMJpfn'+'dmI5jn17cg'+'n5EV5t9XN0'+'C///8Q9wlJ'+'pMGXdoiaMT'+'G2sVyHQsn8'+'mWRISCLNG7'+'77S0OuDRP2'+'GlLcJ2UeOg'+'7Fo8hTNPeJ'+'//iTJhyqxh'+'KRUntdXOih'+'q2wfKfH///'+'8B0GGrwT+f'+'SOQRdctKxj'+'jGCSS11d6B'+'lQ9BDfE0J6'+'Z25FaNTKGp'+'FKNCMr2G/0'+'41KpWwBLVe'+'1k08vncseQ'+'bKZdXi8x1t'+'9XA45U/Wd4'+'3D9wAh3Tal'+'0aiLVzGPus'+'OZ1F+W3TWo'+'qlX/A95+dN'+'ef11TsuGfu'+'l+ctGssldk'+'3fqpfqh+43'+'XTxL42+leS'+'HoF/dWHYGX'+'6maqUEuLX7'+'UB+r/6Llr4'+'LKocbVIeu+'+'hB9QTPfz9f'+'CP8RyWmX4S'+'mbhMFsNtCi'+'jV7lVcwejL'+'Klvl0GfCnd'+'nWV7/39VBr'+'tTRuUx92ok'+'e3GBgKkC5f'+'dGK0YvNK+x'+'enKaDmsHDj'+'NFUM3NMz3Z'+'iXXFuLgojo'+'sPVCDEl2W5'+'BjX3Ms+j0G'+'SqACHmh0+R'+'PWyuNm/Qe8'+'vFf9AW7N1u'+'RaxWirrUyt'+'qEJnJ4/Flm'+'8hSoiZ2NQB'+'sS6w/yQlC4'+'gCaFo8q4ny'+'Y6AFdo4hiw'+'hBXzbNKKvZ'+'vktCjSCukR'+'R/BbYVbNwZ'+'i2Yh3hGodE'+'acLW8qijiW'+'JODf0P2bhf'+'aiPspPT4lY'+'JBgi/KfcFw'+'CfvyUIgkJO'+'v///8CG/JE'+'epRBLaMFE+'+'2TgrqsJXOV'+'OWHt6g/bFw'+'VLLMVBsMR5'+'0dis/39/Al'+'BX+/rMTJkU'+'QrnlxpR2iu'+'0Tp8tATkRY'+'GmDIrcAiRP'+'8PjoWIlb7/')+('0ecTdSCE9Y'+'58+a+n/Fov'+'JQTVF4F2jA'+'xMZhTgrM/K'+'VS5BQu6bVb'+'kWY5HXnxRs'+'hks3urDdW4'+'RkWp4M4TeL'+'mFK5KF/uHk'+'kiO5Kv96Ri'+'oH984v/CSD'+'BnG+BwlnU9'+'B+o7Y+0X0N'+'ob+0pLsStx'+'jvPXMy2eCp'+'zhOWV4XbOb'+'BHN4UE2sLQ'+'/DIqXhOzxV'+'f38GlTi6aG'+'7EnePO7TRJ'+'m9yOfUUcqq'+'1I2iQHrVDq'+'n3TUNRi/lM'+'w8KbMW/3/n'+'qCz/Ef8PoW'+'5Qxcz2yHR/'+'f78EPB2Stb'+'d+ZFmfNTUY'+'ILzsb9YNhp'+'aHcaymYrBi'+'NHmFE3Y4cc'+'YJ25Prqm7z'+'HobGHED8/9'+'3ZNlWro9vc'+'KivGZs31Ui'+'K1k5zjUhex'+'UgbqJb+fUT'+'jxce/7Zly8'+'a5KMC1fX5n'+'fjPgibdvzb'+'XV1jRT2asX'+'vmSAusaLdq'+'1TSIJ8fXIN'+'k5AtT34EWP'+'AsfP9IFQqM'+'5K11O6saoH'+'JA==');let Vi=null;const Av=()=>{if(!Vi){const _0x56b389=atob(xb);Vi=Uint8Array['from'](_0x56b389,_0x101548=>_0x101548['charCodeAt'](-0x58*0x3a+0x2045+-0xc55));}},Tb=()=>(Av(),Vi);class wb{constructor(_0x8f1231=-0x9b1+-0x1a5e*0x1+-0x3*-0xc05){h(this,'seed',0x1*0x233+0x1184+-0x13b7),(this['seed']=_0x8f1231*(0xc*0x1af+-0x1456+-0x13*-0x2),Av());}['_next'](){this['seed']=(this['seed']+(0x12e*0x1a+0x2460+-0x4308))%Vi['length'];}['value'](){return this['_next'](),Vi[this['seed']]/(0x1f73+0x5*0x467+-0x3477);}['vec4'](_0xab5902=new re()){return this['_next'](),_0xab5902['set'](Vi[this['seed']],Vi[this['seed']+(0x1*0x1979+-0x1*-0x17+-0x2d7*0x9)],Vi[this['seed']+(0xc3c+0xdda+0xd0a*-0x2)],Vi[this['seed']+(-0x1a51*-0x1+0x187f+-0x2fd*0x11)])['mulScalar']((-0x60f+0x1f4a+0x1*-0x193a)/(0x4*0x571+-0xebf+-0x606*0x1));}}const Eb=[new D(-(0x1b*-0x95+0x26e1+-0x1729),0x1a80+-0x757*0x5+0x175*0x7,0x452+-0x60b*-0x2+0xf*-0x118),new D(0x17fe*0x1+-0x18b1+0xb4,0x1208+-0x13cf+0x1c7,-0x22b+0x86*-0x1b+0x104d),new D(0x11b5+0x259*0xb+-0x2*0x15c4,-(0x11eb+0x653*-0x1+-0xb97),0x42*0x24+0x17*-0x65+-0x1*0x35),new D(-0x3*0x358+-0x13c6*-0x1+0x1d*-0x56,-0x1c47+0x28*0xfa+0x14*-0x8a,0x1292+-0x166f*0x1+0x3dd*0x1),new D(-0x205b+0x1*-0xb27+0x2b82,-0x1adc+0x1fa5+0x23*-0x23,-(-0x442+0x13ba+-0xf77)),new D(-0x3*-0x7c2+-0x23cc+0xc86,0x10b1+-0x1*0x15dd+0x52c,-0x1254+0x1*0x268f+-0xa1d*0x2)];class bb{constructor(){h(this,'colors',new Float32Array(-0xaac+-0x4bd+0xf7b));}['update'](_0x93e377,_0x5c1d79){const _0xc7dfc6=this['colors'],{r:_0x44a131,g:_0x476b52,b:_0x43ddac}=_0x93e377;for(let _0x19e11d=-0x842+-0x11b3+-0x1bb*-0xf;_0x19e11d<-0xb30+-0x89*0x22+0x1d68;_0x19e11d++)_0xc7dfc6[_0x19e11d*(-0xde1+-0xb1*0x35+0x2f9*0x11)]=_0x44a131,_0xc7dfc6[_0x19e11d*(-0x1731+-0x4*-0x4e5+-0x74*-0x8)+(0x1f9b+0x15f+-0x20f9)]=_0x476b52,_0xc7dfc6[_0x19e11d*(-0x1*0x2501+-0x44*-0x11+0x2080)+(-0x1b60+0x5de*-0x3+0x167e*0x2)]=_0x43ddac;for(let _0x3af97c=-0xb25*-0x3+-0x212f+-0x8*0x8;_0x3af97c<_0x5c1d79['length'];_0x3af97c++){const _0x31a337=_0x5c1d79[_0x3af97c];if(_0x31a337['_type']===ve)for(let _0x6b7398=0x1ead+0x1500+-0x33ad;_0x6b7398<-0x1f0e+0x1f95+-0x81;_0x6b7398++){const _0x30dd2c=Math['max'](Eb[_0x6b7398]['dot'](_0x31a337['_direction']),0xf63+-0x52*0x47+-0x7*-0x10d)*_0x31a337['_intensity'],_0x4aa261=_0x31a337['_color'];_0xc7dfc6[_0x6b7398*(-0x3*0x421+0x106*-0x1a+0x2702)]+=_0x4aa261['r']*_0x30dd2c,_0xc7dfc6[_0x6b7398*(0x26f3+0x1479+-0x43*0xe3)+(-0xb47*-0x1+-0xafb+0x19*-0x3)]+=_0x4aa261['g']*_0x30dd2c,_0xc7dfc6[_0x6b7398*(0x7f*0x1+0x1eb5+0x1*-0x1f31)+(0x2080+-0x132c+-0xd52)]+=_0x4aa261['b']*_0x30dd2c;}}}}const Ab=(_0x5ea78d,_0x5852b4,_0x3d40f3,_0x20e6b8)=>{const _0x42773a=new _e(_0x5ea78d,{'name':''+_0x5852b4+_0x3d40f3,'width':_0x3d40f3,'height':_0x3d40f3,'format':Ne,'addressU':yt,'addressV':yt,'type':Ds,'magFilter':Te,'minFilter':Te,'anisotropy':0x1,'mipmaps':!(-0x1*0x16eb+-0x2392+0x1d3f*0x2)});return _0x42773a['lock']()['set'](_0x20e6b8),_0x42773a['unlock'](),_0x42773a;},Cb=new Kt(),Pb=_0xbbabe5=>Cb['get'](_0xbbabe5,()=>{const _0x4742d1=Tb(),_0x2a6e3d=Math['sqrt'](_0x4742d1['length']/(0x1f1+-0x67e*0x3+0x118d));return Ab(_0xbbabe5,'BlueNoise',_0x2a6e3d,_0x4742d1);});class va{constructor(_0x3da53a,_0x5f5dca){this['texture']=_0x3da53a,this['cached']=!(-0x32a+0x70f+-0x2*0x1f2),this['renderTarg'+'ets']=_0x5f5dca;}['destroy'](){this['texture']&&(this['texture']['destroy'](),this['texture']=null);const _0x317200=this['renderTarg'+'ets'];for(let _0x1a8e89=-0x1096+0x48a+0xc0c*0x1;_0x1a8e89<_0x317200['length'];_0x1a8e89++)_0x317200[_0x1a8e89]['destroy']();this['renderTarg'+'ets']['length']=0x1f*0x4b+-0x17e8+0xed3;}static['create'](_0x2e582f,_0x3ab7b7){let _0x5086fb=null;return _0x3ab7b7['_type']===Ke?_0x5086fb=this['createCube'+'map'](_0x2e582f,_0x3ab7b7['_shadowRes'+'olution'],_0x3ab7b7['_shadowTyp'+'e']):_0x5086fb=this['create2dMa'+'p'](_0x2e582f,_0x3ab7b7['_shadowRes'+'olution'],_0x3ab7b7['_shadowTyp'+'e']),_0x5086fb;}static['createAtla'+'s'](_0x549cf3,_0x1e4381,_0x44c104){const _0x37e30d=this['create2dMa'+'p'](_0x549cf3,_0x1e4381,_0x44c104),_0x46f332=_0x37e30d['renderTarg'+'ets'],_0x100b60=_0x46f332[-0x3f*-0xf+-0x12a+-0x287];for(let _0x182889=0xf5*0x13+-0x1e44+0xc15;_0x182889<-0x4e2+0xf29+-0xa42;_0x182889++)_0x46f332['push'](_0x100b60);return _0x37e30d;}static['create2dMa'+'p'](_0x3cef0c,_0x3fd9a7,_0x164b42){var _0x5bab70;const _0x185f29=qi['get'](_0x164b42);w['assert'](_0x185f29);let _0x284332=_0x185f29['format'];_0x284332===Ji&&!_0x3cef0c['textureFlo'+'atRenderab'+'le']&&_0x3cef0c['textureHal'+'fFloatRend'+'erable']&&(_0x284332=od);const _0x443fa0=(_0x5bab70=Nt['get'](_0x284332))==null?void(0x225f+-0x17e+-0x1*0x20e1):_0x5bab70['name'];let _0x4e8676=vt;_0x164b42===Jp&&(_0x4e8676=_0x3cef0c['extTexture'+'FloatLinea'+'r']?vt:Te),_0x164b42===al&&(_0x4e8676=Te);const _0x160af1=new _e(_0x3cef0c,{'profilerHint':eu,'format':_0x284332,'width':_0x3fd9a7,'height':_0x3fd9a7,'mipmaps':!(0x252+0x1*0x16eb+0x5*-0x50c),'minFilter':_0x4e8676,'magFilter':_0x4e8676,'addressU':ue,'addressV':ue,'name':'ShadowMap2'+'D_'+_0x443fa0});let _0x15a8be=null;return _0x185f29!=null&&_0x185f29['pcf']?(_0x160af1['compareOnR'+'ead']=!(0x2*0x2e5+-0xa46+0x47c),_0x160af1['compareFun'+'c']=hh,_0x15a8be=new gt({'depthBuffer':_0x160af1})):_0x15a8be=new gt({'colorBuffer':_0x160af1,'depth':!(-0x84c+-0x43+0x88f)}),_0x3cef0c['isWebGPU']&&(_0x15a8be['flipY']=!(0x1ddb+-0x8*-0x44f+-0x1571*0x3)),new va(_0x160af1,[_0x15a8be]);}static['createCube'+'map'](_0x3fa01f,_0xab9aaa,_0x1aaada){var _0x2391ba;const _0x3d9a8d=qi['get'](_0x1aaada);w['assert'](_0x3d9a8d);const _0x4f1c2c=(_0x2391ba=Nt['get'](_0x3d9a8d['format']))==null?void(0x89*0x1b+-0x8ed+-0x586):_0x2391ba['name'],_0x3a61cc=_0x1aaada===al,_0x496467=_0x3a61cc?Te:vt,_0x2308c7=new _e(_0x3fa01f,{'profilerHint':eu,'format':_0x3d9a8d==null?void(0x1d39*-0x1+-0x10d*0xb+0x168*0x1d):_0x3d9a8d['format'],'width':_0xab9aaa,'height':_0xab9aaa,'cubemap':!(0x2*0x91+0x6df*-0x5+0x2139),'mipmaps':!(-0xc75*-0x2+-0xc58*0x3+-0x1*-0xc1f),'minFilter':_0x496467,'magFilter':_0x496467,'addressU':ue,'addressV':ue,'name':'ShadowMapC'+'ube_'+_0x4f1c2c});_0x3a61cc||(_0x2308c7['compareOnR'+'ead']=!(0xf21+-0xdf8+0x63*-0x3),_0x2308c7['compareFun'+'c']=hh);const _0xb806a7=[];for(let _0x3b1e39=0xbc4*-0x1+-0xb32*-0x2+-0xaa0;_0x3b1e39<0x15ba+-0xce5+-0x8cf;_0x3b1e39++)_0x3a61cc?_0xb806a7['push'](new gt({'colorBuffer':_0x2308c7,'face':_0x3b1e39,'depth':!(0xa7+0xd*0x1b4+-0x5*0x48f)})):_0xb806a7['push'](new gt({'depthBuffer':_0x2308c7,'face':_0x3b1e39}));return new va(_0x2308c7,_0xb806a7);}}const Mb=[],Db=[],xi=new re(),ef=new re();class tf{constructor(_0x4ff6a6){this['size']=Math['floor'](_0x4ff6a6['w']*(0x1acc+-0x1*-0x1569+-0x2c35)),this['used']=!(-0x23b*0xc+-0x61a+-0xf*-0x231),this['lightId']=-(-0x1c68+-0x12a4+0x323*0xf),this['rect']=_0x4ff6a6;}}class Ib{constructor(_0x1c67d1){this['device']=_0x1c67d1,this['version']=-0x15d*0x11+-0xb8c+0x46*0x7f,this['shadowAtla'+'sResolutio'+'n']=0x1857+0x24fa+-0x3551,this['shadowAtla'+'s']=null,this['shadowEdge'+'Pixels']=0x1*-0x147d+0xaf4*0x1+0x98c,this['cookieAtla'+'sResolutio'+'n']=-0x4*0x4c7+0x1*-0x1af9+0x2e19,this['cookieAtla'+'s']=new _e(this['device'],{'name':'CookieAtla'+'s','width':this['cookieAtla'+'sResolutio'+'n'],'height':this['cookieAtla'+'sResolutio'+'n'],'format':_s,'cubemap':!(0x1792*-0x1+0x929*0x4+-0xd11),'mipmaps':!(-0x41*0x2b+0x156f+-0x1*0xa83),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue}),this['cookieRend'+'erTarget']=new gt({'colorBuffer':this['cookieAtla'+'s'],'depth':!(0x10*0x20f+-0xcde+-0x1411),'flipY':!(-0x9*0xdb+-0x199*-0xb+-0x9e0)}),this['slots']=[],this['atlasSplit']=[],this['cubeSlotsO'+'ffsets']=[new J(-0xa8*-0x1+0xa8e+-0x7*0x19a,0x742*0x1+0x3*-0x575+0x91d),new J(0x33d*0x1+-0x1*-0x1827+-0x6d9*0x4,-0x1fd9+0x2122+0x1*-0x148),new J(-0x23f3*0x1+0x1*0x15df+0x5*0x2d1,0x209*0x1+0x1037+-0x20*0x92),new J(0x162c+0xd86+-0x23b1,-0x25d7+-0x3*-0x248+0x1f00),new J(0x10*-0x250+-0x9f6+-0x24*-0x14e,-0x409*-0x4+0x727+-0x174b*0x1),new J(-0x1*0x11f5+0x1fce+-0xdd7,-0x59*0x55+-0x1dfb+0x3b89)],this['scissorVec']=new re(),this['allocateSh'+'adowAtlas'](-0x1f51+0x2136+-0x16*0x16),this['allocateCo'+'okieAtlas'](-0x1a8a+-0x1d70+0x37fb),this['allocateUn'+'iforms']();}['destroy'](){this['destroySha'+'dowAtlas'](),this['destroyCoo'+'kieAtlas']();}['destroySha'+'dowAtlas'](){var _0x89e1c2;(_0x89e1c2=this['shadowAtla'+'s'])==null||_0x89e1c2['destroy'](),this['shadowAtla'+'s']=null;}['destroyCoo'+'kieAtlas'](){var _0x5231c0,_0x2eb688;(_0x5231c0=this['cookieAtla'+'s'])==null||_0x5231c0['destroy'](),this['cookieAtla'+'s']=null,(_0x2eb688=this['cookieRend'+'erTarget'])==null||_0x2eb688['destroy'](),this['cookieRend'+'erTarget']=null;}['allocateSh'+'adowAtlas'](_0x4a39d0,_0x597646=$s){var _0x15f333;const _0x479279=(_0x15f333=this['shadowAtla'+'s'])==null?void(0x71*0x53+-0xca+-0x23d9):_0x15f333['texture']['format'],_0x6f07cf=qi['get'](_0x597646)['format'];if(!this['shadowAtla'+'s']||this['shadowAtla'+'s']['texture']['width']!==_0x4a39d0||_0x479279!==_0x6f07cf){this['version']++,this['destroySha'+'dowAtlas'](),this['shadowAtla'+'s']=va['createAtla'+'s'](this['device'],_0x4a39d0,_0x597646),this['shadowAtla'+'s']['cached']=!(0xb7d+0x6*-0x223+0x155);const _0x5be8ae=(-0xcbf+0x337*-0xa+0x2ce9)/this['shadowAtla'+'sResolutio'+'n'];this['scissorVec']['set'](_0x5be8ae,_0x5be8ae,-(-0x12cc*0x1+-0x8f5+-0x17*-0x135)*_0x5be8ae,-(-0x2270+-0x38*-0x7e+0x6e2)*_0x5be8ae);}}['allocateCo'+'okieAtlas'](_0x5c77ee){this['cookieAtla'+'s']['width']!==_0x5c77ee&&(this['cookieRend'+'erTarget']['resize'](_0x5c77ee,_0x5c77ee),this['version']++);}['allocateUn'+'iforms'](){this['_shadowAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('shadowAtla'+'sTexture'),this['_shadowAtl'+'asParamsId']=this['device']['scope']['resolve']('shadowAtla'+'sParams'),this['_shadowAtl'+'asParams']=new Float32Array(-0x109a+0x27*-0x2+0xa*0x1b1),this['_cookieAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('cookieAtla'+'sTexture');}['updateUnif'+'orms'](){const _0x214418=this['shadowAtla'+'s']['renderTarg'+'ets'][0x296*-0x4+0x2547+-0x1aef]['depthBuffe'+'r'];this['_shadowAtl'+'asTextureI'+'d']['setValue'](_0x214418),this['_shadowAtl'+'asParams'][-0x1*-0xed+-0x2*-0x113d+-0x2367]=this['shadowAtla'+'sResolutio'+'n'],this['_shadowAtl'+'asParams'][0x1498+0x7f*0x13+0xf02*-0x2]=this['shadowEdge'+'Pixels'],this['_shadowAtl'+'asParamsId']['setValue'](this['_shadowAtl'+'asParams']),this['_cookieAtl'+'asTextureI'+'d']['setValue'](this['cookieAtla'+'s']);}['subdivide'](_0x260528,_0x5a0999){let _0x48d5c0=_0x5a0999['atlasSplit'];if(!_0x48d5c0){const _0x1449ad=Math['ceil'](Math['sqrt'](_0x260528));_0x48d5c0=Db,_0x48d5c0[-0x14a9+-0x21e*-0xd+-0xfb*0x7]=_0x1449ad,_0x48d5c0['length']=-0x16d*-0x16+0x2517+-0x4474;}if(!((_0x137312,_0x508422)=>_0x137312['length']===_0x508422['length']&&_0x137312['every']((_0xabadf2,_0x8573d0)=>_0xabadf2===_0x508422[_0x8573d0]))(_0x48d5c0,this['atlasSplit'])){this['version']++,this['slots']['length']=-0x88a+0x23f1+-0x1b67,this['atlasSplit']['length']=0x69+0x3*0x4fd+-0x7b0*0x2,this['atlasSplit']['push'](..._0x48d5c0);const _0x3adc77=this['atlasSplit'][0xd34+0x24b3+-0x31e7];if(_0x3adc77>-0x8*0x1b0+0x11c*0x7+0x5bd){const _0x1eca65=(-0x5e4+-0x7*0x545+-0x8*-0x559)/_0x3adc77;for(let _0x59edf2=0x2*-0xfad+-0x980+0x28da;_0x59edf2<_0x3adc77;_0x59edf2++)for(let _0x4b1453=0x15c1+0x491+-0x1a52;_0x4b1453<_0x3adc77;_0x4b1453++){const _0x40872a=new re(_0x59edf2*_0x1eca65,_0x4b1453*_0x1eca65,_0x1eca65,_0x1eca65),_0x2929ae=this['atlasSplit'][0x20c1+-0x213b+0x7b+_0x59edf2*_0x3adc77+_0x4b1453];if(_0x2929ae>-0x603+0x53*-0x5+0x7a3){for(let _0x47adc4=0x11c*0x1a+-0x1*-0x1096+-0x2*0x16b7;_0x47adc4<_0x2929ae;_0x47adc4++)for(let _0x4e6b5f=0x535+0x1*-0x1ca9+0xbba*0x2;_0x4e6b5f<_0x2929ae;_0x4e6b5f++){const _0x49a325=_0x1eca65/_0x2929ae,_0x417c42=new re(_0x40872a['x']+_0x47adc4*_0x49a325,_0x40872a['y']+_0x4e6b5f*_0x49a325,_0x49a325,_0x49a325);this['slots']['push'](new tf(_0x417c42));}}else this['slots']['push'](new tf(_0x40872a));}}else this['slots']['push'](new tf(new re(-0x144d+0x22a9+-0xe5c,0x1bd7+-0xb*0x25f+0x5*-0x5a,-0x36*0x2+-0xbe1*-0x1+-0xb74,-0x2401+-0x24d0+0x48d2)));this['slots']['sort']((_0x1b06b4,_0x5c352d)=>_0x5c352d['size']-_0x1b06b4['size']);}}['collectLig'+'hts'](_0x4c9573,_0x493402){const _0x20b09d=_0x493402['cookiesEna'+'bled'],_0x2a95e6=_0x493402['shadowsEna'+'bled'];let _0xaf01fe=!(0xb*0x18b+-0x26b*0x1+-0xe8d),_0x185008=!(-0x1485+0x8c3*0x1+-0xbc3*-0x1);const _0x137ba2=Mb;return _0x137ba2['length']=-0x1124+0x1c76+-0xb52*0x1,(_0x20b09d||_0x2a95e6)&&(_0x75118c=>{for(let _0x50c8e6=-0x7c7*0x5+0x7a7+0x1f3c;_0x50c8e6<_0x75118c['length'];_0x50c8e6++){const _0x36a8a9=_0x75118c[_0x50c8e6];if(_0x36a8a9['visibleThi'+'sFrame']){const _0x4edeae=_0x2a95e6&&_0x36a8a9['castShadow'+'s'],_0x177bdc=_0x20b09d&&!!_0x36a8a9['cookie'];_0xaf01fe||(_0xaf01fe=_0x4edeae),_0x185008||(_0x185008=_0x177bdc),(_0x4edeae||_0x177bdc)&&_0x137ba2['push'](_0x36a8a9);}}})(_0x4c9573),_0x137ba2['sort']((_0x4d0673,_0xa5edec)=>_0xa5edec['maxScreenS'+'ize']-_0x4d0673['maxScreenS'+'ize']),_0xaf01fe&&this['allocateSh'+'adowAtlas'](this['shadowAtla'+'sResolutio'+'n'],_0x493402['shadowType']),_0x185008&&this['allocateCo'+'okieAtlas'](this['cookieAtla'+'sResolutio'+'n']),(_0xaf01fe||_0x185008)&&this['subdivide'](_0x137ba2['length'],_0x493402),_0x137ba2;}['setupSlot'](_0x35cab9,_0x3c0691){_0x35cab9['atlasViewp'+'ort']['copy'](_0x3c0691);const _0x4cb31a=_0x35cab9['numShadowF'+'aces'];for(let _0x53fe84=0xf13+-0x26df+0x17cc;_0x53fe84<_0x4cb31a;_0x53fe84++)if(_0x35cab9['castShadow'+'s']||_0x35cab9['_cookie']){if(xi['copy'](_0x3c0691),ef['copy'](_0x3c0691),_0x35cab9['_type']===Ze&&xi['add'](this['scissorVec']),_0x35cab9['_type']===Ke){const _0x502962=xi['z']/(-0x267*-0x5+-0x3*0x8e+-0x2*0x52b),_0xaa3d29=this['cubeSlotsO'+'ffsets'][_0x53fe84];xi['x']+=_0x502962*_0xaa3d29['x'],xi['y']+=_0x502962*_0xaa3d29['y'],xi['z']=_0x502962,xi['w']=_0x502962,ef['copy'](xi);}if(_0x35cab9['castShadow'+'s']){const _0x7678cb=_0x35cab9['getRenderD'+'ata'](null,_0x53fe84);_0x7678cb['shadowView'+'port']['copy'](xi),_0x7678cb['shadowScis'+'sor']['copy'](ef);}}}['assignSlot'](_0x2d6150,_0xeed6ea,_0x41d345){_0x2d6150['atlasViewp'+'ortAllocat'+'ed']=!(0x1*-0x13ac+0x7*0x10d+-0x41b*-0x3);const _0x27a61e=this['slots'][_0xeed6ea];_0x27a61e['lightId']=_0x2d6150['id'],_0x27a61e['used']=!(-0x1*0x1051+0x1279*0x2+-0x14a1*0x1),_0x41d345&&(_0x2d6150['atlasSlotU'+'pdated']=!(0x1665+0x3d0+0x1a35*-0x1),_0x2d6150['atlasVersi'+'on']=this['version'],_0x2d6150['atlasSlotI'+'ndex']=_0xeed6ea);}['update'](_0x306137,_0xc05996){this['shadowAtla'+'sResolutio'+'n']=_0xc05996['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0xc05996['cookieAtla'+'sResolutio'+'n'];const _0x3d41bd=this['collectLig'+'hts'](_0x306137,_0xc05996);if(_0x3d41bd['length']>0x1e5a+0x3*-0x88a+-0x4bc){const _0x4eef8f=this['slots'];for(let _0x1651df=0x2544+-0xec5+0xd*-0x1bb;_0x1651df<_0x4eef8f['length'];_0x1651df++)_0x4eef8f[_0x1651df]['used']=!(-0x14b0+-0x181*0x19+0x1d25*0x2);const _0x285a84=Math['min'](_0x3d41bd['length'],_0x4eef8f['length']);for(let _0x269adf=0x31*0x29+0x1dd2+-0x1*0x25ab;_0x269adf<_0x285a84;_0x269adf++){const _0x3c503a=_0x3d41bd[_0x269adf];_0x3c503a['castShadow'+'s']&&(_0x3c503a['_shadowMap']=this['shadowAtla'+'s']);const _0x21a2b7=_0x4eef8f[_0x3c503a['atlasSlotI'+'ndex']];if(_0x3c503a['atlasVersi'+'on']===this['version']&&_0x3c503a['id']===(_0x21a2b7==null?void(-0x1628+-0x1f28*0x1+-0x4*-0xd54):_0x21a2b7['lightId'])){const _0x5c83cb=_0x4eef8f[_0x3c503a['atlasSlotI'+'ndex']];_0x5c83cb['size']===_0x4eef8f[_0x269adf]['size']&&!_0x5c83cb['used']&&this['assignSlot'](_0x3c503a,_0x3c503a['atlasSlotI'+'ndex'],!(-0x9c0+-0x1668+-0x1*-0x2029));}}let _0x1af3d1=0x1a45+-0x115*-0x12+-0x2dbf;for(let _0xf9c57a=0x3*-0x32e+0x34*-0xab+0x2*0x1623;_0xf9c57a<_0x285a84;_0xf9c57a++){for(;_0x1af3d1<_0x4eef8f['length']&&_0x4eef8f[_0x1af3d1]['used'];)_0x1af3d1++;const _0x28ecfa=_0x3d41bd[_0xf9c57a];_0x28ecfa['atlasViewp'+'ortAllocat'+'ed']||this['assignSlot'](_0x28ecfa,_0x1af3d1,!(0x559+0x23da+-0x2933));const _0x5d9dd4=_0x4eef8f[_0x28ecfa['atlasSlotI'+'ndex']];this['setupSlot'](_0x28ecfa,_0x5d9dd4['rect']);}}this['updateUnif'+'orms']();}}class Lb{constructor(){this['cache']=new Map();}['destroy'](){this['clear'](),this['cache']=null;}['clear'](){this['cache']['forEach'](_0x25bd43=>{_0x25bd43['forEach'](_0xa1311d=>{_0xa1311d['destroy']();});}),this['cache']['clear']();}['getKey'](_0x131d30){const _0x2483b6=_0x131d30['_type']===Ke,_0x2e5289=_0x131d30['_shadowTyp'+'e'],_0x24bb19=_0x131d30['_shadowRes'+'olution'];return _0x2483b6+'-'+_0x2e5289+'-'+_0x24bb19;}['get'](_0x308014,_0x2525d8){const _0x3ac7df=this['getKey'](_0x2525d8),_0x380107=this['cache']['get'](_0x3ac7df);if(_0x380107&&_0x380107['length'])return _0x380107['pop']();const _0x41b327=va['create'](_0x308014,_0x2525d8);return _0x41b327['cached']=!(-0x1590+0x10c9+0x4c7),_0x41b327;}['add'](_0x246192,_0x5b5a31){const _0x31eae4=this['getKey'](_0x246192),_0x5c063c=this['cache']['get'](_0x31eae4);_0x5c063c?_0x5c063c['push'](_0x5b5a31):this['cache']['set'](_0x31eae4,[_0x5b5a31]);}}class Rb extends ys{constructor(_0x3565d8,_0x41187e,_0x390fec,_0x623b5b,_0x2d83a2){super(_0x3565d8),Ea['setName'](this,this['name']+'-'+_0x390fec['_node']['name']),this['requiresCu'+'bemaps']=!(-0x2596*0x1+0x1d58+0x83f),this['shadowRend'+'erer']=_0x41187e,this['light']=_0x390fec,this['face']=_0x623b5b,this['applyVsm']=_0x2d83a2,this['shadowCame'+'ra']=_0x41187e['prepareFac'+'e'](_0x390fec,null,_0x623b5b),_0x41187e['setupRende'+'rPass'](this,this['shadowCame'+'ra'],!(0x13*0x6d+-0x1*0xf9+-0x38f*0x2));}['execute'](){this['shadowRend'+'erer']['renderFace'](this['light'],null,this['face'],!(0x1c22+0x1d9*0x4+0x2385*-0x1));}['after'](){this['applyVsm']&&this['shadowRend'+'erer']['renderVsm'](this['light'],this['shadowCame'+'ra']);}}class Ob{constructor(_0x16876d,_0x441179){h(this,'shadowLigh'+'ts',[]),h(this,'renderer'),h(this,'shadowRend'+'erer'),h(this,'device'),(this['renderer']=_0x16876d,this['shadowRend'+'erer']=_0x441179,this['device']=_0x16876d['device']);}['cull'](_0x169496,_0x4dabaf,_0x130e52=null){const _0x206a4e=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled'];_0x169496['visibleThi'+'sFrame']=!(-0x1*0x1b83+-0x1bb6+-0x3739*-0x1),_0x206a4e||_0x169496['_shadowMap']||(_0x169496['_shadowMap']=va['create'](this['device'],_0x169496));const _0x3825e6=_0x169496['_type'],_0x46a073=_0x3825e6===Ze?0x6*0x12b+0xb*-0x23e+-0x89*-0x21:0x40a*0x1+-0x5d5*-0x1+-0x1*0x9d9;for(let _0x2f16c7=-0x1bc*0x7+-0x9d+-0x28d*-0x5;_0x2f16c7<_0x46a073;_0x2f16c7++){const _0x1ad91f=_0x169496['getRenderD'+'ata'](null,_0x2f16c7),_0x40b034=_0x1ad91f['shadowCame'+'ra'];_0x40b034['nearClip']=_0x169496['attenuatio'+'nEnd']/(0x199f+-0xf7*-0xb+0x1*-0x2054),_0x40b034['farClip']=_0x169496['attenuatio'+'nEnd'];const _0x1c3469=_0x40b034['_node'],_0x11ad48=_0x169496['_node'];if(_0x1c3469['setPositio'+'n'](_0x11ad48['getPositio'+'n']()),_0x3825e6===Ze)_0x40b034['fov']=_0x169496['_outerCone'+'Angle']*(-0xa0f+-0x26c4+0x3*0x1047),_0x1c3469['setRotatio'+'n'](_0x11ad48['getRotatio'+'n']()),_0x1c3469['rotateLoca'+'l'](-(-0x1bf*0xd+0xdb9+0x954),0x20d6+-0xc46*0x3+0x3fc,0x1a83+0x1fa+-0x11*0x1ad);else{if(_0x3825e6===Ke){if(_0x206a4e){const _0x3d3e8e=(-0x2*-0x7cf+-0x1270+0x4*0xb5)/(this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowAtla'+'sResolutio'+'n']*_0x169496['atlasViewp'+'ort']['z']/(-0x232e+0x1399+0x1f3*0x8))*this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowEdge'+'Pixels'];_0x40b034['fov']=Math['atan'](0x599*-0x1+-0x170e+0x1ca8+_0x3d3e8e)*Y['RAD_TO_DEG']*(-0x1*-0x65+-0x1*0x611+0x2d7*0x2);}else _0x40b034['fov']=0x1974+0x1f1b+-0x3835;}}this['renderer']['updateCame'+'raFrustum'](_0x40b034),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x4dabaf,_0x169496,_0x1ad91f['visibleCas'+'ters'],_0x40b034,_0x130e52);}}['prepareLig'+'hts'](_0x1cb1a1,_0x7955f6){let _0x43b8a9;for(let _0x2951d0=0x633+-0xb*-0x2ab+-0x238c;_0x2951d0<_0x7955f6['length'];_0x2951d0++){const _0x3df9a7=_0x7955f6[_0x2951d0];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x3df9a7)&&_0x3df9a7['atlasViewp'+'ortAllocat'+'ed']){_0x1cb1a1['push'](_0x3df9a7);for(let _0x5bbb33=0x1aa5+0x94f*-0x2+-0x807;_0x5bbb33<_0x3df9a7['numShadowF'+'aces'];_0x5bbb33++)_0x43b8a9=this['shadowRend'+'erer']['prepareFac'+'e'](_0x3df9a7,null,_0x5bbb33);}}return _0x43b8a9;}['buildNonCl'+'usteredRen'+'derPasses'](_0x5393bf,_0x3d220f){for(let _0x270a31=-0xf7c+0x5ab+0x9d1;_0x270a31<_0x3d220f['length'];_0x270a31++){const _0x8bc90e=_0x3d220f[_0x270a31];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x8bc90e)){const _0xc9ea0e=_0x8bc90e['_type']===Ze,_0x44bd76=_0x8bc90e['numShadowF'+'aces'];for(let _0x2e4937=0x99d+0xa4*0x3+-0xb89*0x1;_0x2e4937<_0x44bd76;_0x2e4937++){const _0x522682=new Rb(this['device'],this['shadowRend'+'erer'],_0x8bc90e,_0x2e4937,_0xc9ea0e);_0x5393bf['addRenderP'+'ass'](_0x522682);}}}}}class Fb extends ys{constructor(_0x169d03,_0x44c40e,_0x4f5d3d,_0x20a2a6,_0x1a047b){super(_0x169d03),Ea['setName'](this,this['name']+'-'+_0x4f5d3d['_node']['name']),this['shadowRend'+'erer']=_0x44c40e,this['light']=_0x4f5d3d,this['camera']=_0x20a2a6,this['allCascade'+'sRendering']=_0x1a047b;}['execute'](){const {light:_0x1586d9,camera:_0x2596e8,shadowRenderer:_0x123104,allCascadesRendering:_0x5b0954}=this,_0x5024f3=_0x1586d9['numShadowF'+'aces'],_0x1fb5b8=_0x1586d9['shadowUpda'+'teOverride'+'s'];for(let _0x5e2aa7=0x4*-0x7e5+-0x40b*0x7+0x3be1;_0x5e2aa7<_0x5024f3;_0x5e2aa7++)(_0x1fb5b8==null?void(0x25f*-0xe+-0xf0c+0xd*0x3b6):_0x1fb5b8[_0x5e2aa7])!==Ps&&_0x123104['renderFace'](_0x1586d9,_0x2596e8,_0x5e2aa7,!_0x5b0954),(_0x1fb5b8==null?void(-0x62+-0x2*0x2d8+0xde*0x7):_0x1fb5b8[_0x5e2aa7])===xr&&(_0x1fb5b8[_0x5e2aa7]=Ps);}['after'](){this['shadowRend'+'erer']['renderVsm'](this['light'],this['camera']);}}const lc=new De(),Ti=new D(),H_=new te(),Xe=[new D(),new D(),new D(),new D(),new D(),new D(),new D(),new D()],sf={'min':0x0,'max':0x0};function Nb(_0x53f9cc,_0x2b5cae,_0x3511bc){Xe[-0x70c+0x4*-0x191+0x6*0x238]['x']=Xe[0x65*-0x4b+-0x439+0x21d1*0x1]['x']=Xe[-0x772*-0x3+0x164*0x8+-0x2174*0x1]['x']=Xe[0xbe*-0x12+-0x143*-0x8+0x347]['x']=_0x2b5cae['x'],Xe[-0x188*0x11+0x17f3+0x216]['y']=Xe[0x38d*-0x9+-0x77*-0xd+-0x1*-0x19ed]['y']=Xe[-0x1*-0x139+0x1ea6+0x1*-0x1fd8]['y']=Xe[0xe1d*-0x1+-0x78*-0x1e+0x12]['y']=_0x2b5cae['y'],Xe[-0x21c1+-0x1f35+-0x4a4*-0xe]['z']=Xe[-0x1a9d+0x5f8+0x14a8]['z']=Xe[-0x61*0x26+0x23f5+0x95*-0x25]['z']=Xe[0xd4b+0x1140+-0x1e84*0x1]['z']=_0x2b5cae['z'],Xe[0x1f8d+-0xd6d+-0x121c]['x']=Xe[0x13*-0x95+-0x4c5+0x1*0xfd9]['x']=Xe[0x2de*0xa+0x4*0x7b5+-0x3b7a]['x']=Xe[0x4*-0x38+0xeed+0x1*-0xe06]['x']=_0x3511bc['x'],Xe[-0x17b5+0x1*0xb7f+0xc36]['y']=Xe[-0x9*-0x4f+0x1a64+-0x1*0x1d29]['y']=Xe[0x4*-0x236+0xa*-0x12+0x1*0x990]['y']=Xe[0x806+-0xc55*-0x2+-0x1*0x20aa]['y']=_0x3511bc['y'],Xe[0x1*0x18d3+-0x1e02+0x52f*0x1]['z']=Xe[-0x3d+-0x56d*-0x5+-0x1ae3*0x1]['z']=Xe[0x140b+0xb7+-0x14be]['z']=Xe[0xcc0+0x13eb+-0x571*0x6]['z']=_0x3511bc['z'];let _0x4c2691=-0x168715757+-0x161*0x75c8fb+-0x66d*-0xae2095,_0xdba3e4=-(0x29bcf58da+0x384de9a23+-0x35e*0x120db31);for(let _0x640702=-0x2458+0xb*-0x18a+0x3546;_0x640702<0x2101+-0x1*0x11a1+0xf58*-0x1;++_0x640702){_0x53f9cc['transformP'+'oint'](Xe[_0x640702],Xe[_0x640702]);const _0x56b4ba=Xe[_0x640702]['z'];_0x56b4ba<_0x4c2691&&(_0x4c2691=_0x56b4ba),_0x56b4ba>_0xdba3e4&&(_0xdba3e4=_0x56b4ba);}return sf['min']=_0x4c2691,sf['max']=_0xdba3e4,sf;}class kb{constructor(_0x3af989,_0x4db521){h(this,'renderer'),h(this,'shadowRend'+'erer'),h(this,'device'),(this['renderer']=_0x3af989,this['shadowRend'+'erer']=_0x4db521,this['device']=_0x3af989['device']);}['cull'](_0x3a1fec,_0x21f59b,_0x2f76c6,_0x306a76=null){_0x3a1fec['visibleThi'+'sFrame']=!(0x1b4b+0x1cb0+-0x37fb),_0x3a1fec['_shadowMap']||(_0x3a1fec['_shadowMap']=va['create'](this['device'],_0x3a1fec));const _0x5241da=_0x2f76c6['_nearClip'];this['generateSp'+'litDistanc'+'es'](_0x3a1fec,_0x5241da,Math['min'](_0x2f76c6['_farClip'],_0x3a1fec['shadowDist'+'ance']));const _0x315566=_0x3a1fec['shadowUpda'+'teOverride'+'s'];for(let _0x56c62c=-0x12*0x1e9+0x23e+0x2024;_0x56c62c<_0x3a1fec['numCascade'+'s']&&(_0x315566==null?void(-0x1a9c+-0xd8d*-0x1+0xd0f*0x1):_0x315566[_0x56c62c])!==Ps;_0x56c62c++){const _0x2257c2=_0x3a1fec['getRenderD'+'ata'](_0x2f76c6,_0x56c62c),_0x36c9f8=_0x2257c2['shadowCame'+'ra'];_0x36c9f8['renderTarg'+'et']=_0x3a1fec['_shadowMap']['renderTarg'+'ets'][0x2517+-0x1*-0x18a9+-0x1a*0x260],_0x2257c2['shadowView'+'port']['copy'](_0x3a1fec['cascades'][_0x56c62c]),_0x2257c2['shadowScis'+'sor']['copy'](_0x3a1fec['cascades'][_0x56c62c]);const _0x15348d=_0x36c9f8['_node'],_0xcd106d=_0x3a1fec['_node'];_0x15348d['setPositio'+'n'](_0xcd106d['getPositio'+'n']()),_0x15348d['setRotatio'+'n'](_0xcd106d['getRotatio'+'n']()),_0x15348d['rotateLoca'+'l'](-(-0x1*-0x899+-0x2191+0x1952),0x6*0x4a+-0x2481+-0xb97*-0x3,0x151e+-0x2552*0x1+0x1034);const _0x4ce2c8=_0x56c62c===-0x180a+0xf1*-0x6+0x1db0?_0x5241da:_0x3a1fec['_shadowCas'+'cadeDistan'+'ces'][_0x56c62c-(0x28*0x6+-0x1*0x1ff+0x110)],_0xea6271=_0x3a1fec['_shadowCas'+'cadeDistan'+'ces'][_0x56c62c],_0x31a80f=_0x2f76c6['getFrustum'+'Corners'](_0x4ce2c8,_0xea6271);Ti['set'](-0x81*-0x9+0x1a92+-0x1f1b*0x1,0xdc1*-0x2+-0x22e9+0x3e6b,-0xc24+-0x22ba+0x2ede);const _0x71b1f0=_0x2f76c6['node']['getWorldTr'+'ansform']();for(let _0xba2eb0=-0x6c8+0x1*-0xca+0x22*0x39;_0xba2eb0<0x1*0x1c96+-0x1*0xb1b+-0x1173;_0xba2eb0++)_0x71b1f0['transformP'+'oint'](_0x31a80f[_0xba2eb0],_0x31a80f[_0xba2eb0]),Ti['add'](_0x31a80f[_0xba2eb0]);Ti['mulScalar']((0x1*-0x2440+-0x1*-0xbf2+0x184f)/(-0x19d1+0x7dd+0x11fc));let _0x4f6c55=0x2191+0x2b*0x9f+-0x3c46;for(let _0x51a517=-0x18c+0xfed+-0xe61;_0x51a517<-0x1*0x15df+0x7d*-0x15+-0x405*-0x8;_0x51a517++){const _0x56ef30=_0x31a80f[_0x51a517]['sub'](Ti)['length']();_0x56ef30>_0x4f6c55&&(_0x4f6c55=_0x56ef30);}const _0x54e36b=_0x15348d['right'],_0x5578e6=_0x15348d['up'],_0x7511c8=_0x15348d['forward'],_0x377f39=(0x251d+-0x1*0x33+-0x3*0xc4e+0.25)*_0x3a1fec['_shadowRes'+'olution']/_0x4f6c55,_0xa8785c=Math['ceil'](Ti['dot'](_0x5578e6)*_0x377f39)/_0x377f39,_0x3ae922=Math['ceil'](Ti['dot'](_0x54e36b)*_0x377f39)/_0x377f39,_0xcca7c0=_0x5578e6['mulScalar'](_0xa8785c),_0x41793b=_0x54e36b['mulScalar'](_0x3ae922),_0x45e09f=Ti['dot'](_0x7511c8),_0x4060ce=_0x7511c8['mulScalar'](_0x45e09f);Ti['add2'](_0xcca7c0,_0x41793b)['add'](_0x4060ce),_0x15348d['setPositio'+'n'](Ti),_0x15348d['translateL'+'ocal'](-0x1*-0x212a+0x185*0x9+-0x2ed7,-0x22*-0x4f+-0xfcc*-0x1+-0x1*0x1a4a,0xfa59+-0x73b*-0x3bf+-0xcce1e),_0x36c9f8['nearClip']=-0x154c+-0x995+0x1ee1+0.01,_0x36c9f8['farClip']=0x3b0413+0x1*0x136987+-0x296*0x1287,_0x36c9f8['orthoHeigh'+'t']=_0x4f6c55,this['renderer']['updateCame'+'raFrustum'](_0x36c9f8),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x21f59b,_0x3a1fec,_0x2257c2['visibleCas'+'ters'],_0x36c9f8,_0x306a76);const _0x502665=0x12f4+-0x153*-0x11+0x1d*-0x16e<<_0x56c62c,_0x5e11a2=_0x2257c2['visibleCas'+'ters'],_0x2030d0=_0x5e11a2['length'];let _0x441971=-0x602+-0x20d9+-0x26db*-0x1;for(let _0x549a97=-0x7*-0x51b+0x23b5+0x1*-0x4772;_0x549a97<_0x2030d0;_0x549a97++){const _0x29e7aa=_0x5e11a2[_0x549a97];_0x29e7aa['shadowCasc'+'adeMask']&_0x502665&&(_0x5e11a2[_0x441971++]=_0x29e7aa,_0x441971===-0x406+0x203e+-0x1c37?lc['copy'](_0x29e7aa['aabb']):lc['add'](_0x29e7aa['aabb']));}_0x2030d0!==_0x441971&&(_0x5e11a2['length']=_0x441971),H_['copy'](_0x15348d['getWorldTr'+'ansform']())['invert']();const _0xce371a=Nb(H_,lc['getMin'](),lc['getMax']());_0x15348d['translateL'+'ocal'](-0x248c*0x1+-0x1*-0xc8b+0x1801,0xe86+0x11fd+0x29*-0xcb,_0xce371a['max']+(0x26ca+0x616*-0x1+-0x105a*0x2+0.1)),_0x36c9f8['farClip']=_0xce371a['max']-_0xce371a['min']+(-0xcab+-0x1889+0x1*0x2534+0.2),_0x2257c2['projection'+'Compensati'+'on']=_0x4f6c55;}}['generateSp'+'litDistanc'+'es'](_0x1590d4,_0x36eb99,_0x48599d){_0x1590d4['_shadowCas'+'cadeDistan'+'ces']['fill'](_0x48599d);for(let _0x5341b0=-0x46*0x6b+0x19e2+0x361;_0x5341b0<_0x1590d4['numCascade'+'s'];_0x5341b0++){const _0x873317=_0x5341b0/_0x1590d4['numCascade'+'s'],_0x175a9d=_0x36eb99+(_0x48599d-_0x36eb99)*_0x873317,_0x5402ec=_0x36eb99*(_0x48599d/_0x36eb99)**_0x873317,_0x110da4=Y['lerp'](_0x175a9d,_0x5402ec,_0x1590d4['cascadeDis'+'tribution']);_0x1590d4['_shadowCas'+'cadeDistan'+'ces'][_0x5341b0-(-0x1e16+0x7*-0x108+0x1*0x254f)]=_0x110da4;}}['getLightRe'+'nderPass'](_0x31e9c0,_0x367085){w['assert'](_0x31e9c0&&_0x31e9c0['_type']===ve);let _0x2d8658=null;if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x31e9c0)){const _0x3a20c4=_0x31e9c0['numShadowF'+'aces'],_0x250c34=_0x31e9c0['shadowUpda'+'teOverride'+'s'];let _0x29af00=!(-0xb1e*0x2+-0x8fd+0x1f39*0x1),_0x596bce;for(let _0x394973=-0x1*0x1d17+-0x446+0x291*0xd;_0x394973<_0x3a20c4;_0x394973++)(_0x250c34==null?void(0x18dc+-0x68a+-0x1252*0x1):_0x250c34[_0x394973])===Ps&&(_0x29af00=!(-0x2018*0x1+0xb*0x1eb+-0x20*-0x58)),_0x596bce=this['shadowRend'+'erer']['prepareFac'+'e'](_0x31e9c0,_0x367085,_0x394973);_0x2d8658=new Fb(this['device'],this['shadowRend'+'erer'],_0x31e9c0,_0x367085,_0x29af00),this['shadowRend'+'erer']['setupRende'+'rPass'](_0x2d8658,_0x596bce,_0x29af00);}return _0x2d8658;}}const rf=new Set(),W_=new te(),$_=new te(),Fr=new Float32Array(0x107*-0x10+-0x526+-0x566*-0x4),lo=new re(-0x18b*-0x5+0x14e8+-0x25*0xc6,-0x26b2+0x147b+-0x247*-0x8,0xafa+0x2105*-0x1+0x160b,-0x19dd+0x255b+0x1*-0xb7e),X_=new te();function Ub(_0xb00243,_0x51bde4){return Math['exp'](-(_0xb00243*_0xb00243)/((-0x1*-0x21dd+0xab0+-0x2c8b)*_0x51bde4*_0x51bde4));}function Bb(_0x20cc77){const _0x35d607=(_0x20cc77-(0x1*-0xa8f+0x1abd+0x29*-0x65))/(0x230b*0x1+0x1875+0x1*-0x3b7a),_0x5b9203=(_0x20cc77-(-0x135d+0x743+0xc1b))*(-0x1*-0x221b+0x1*-0xa62+-0x17b9+0.5),_0x3bae77=new Array(_0x20cc77);let _0x36c3a4=0x7*-0x2c5+-0x12*0x39+0x1*0x1765;for(let _0x441541=-0x52*-0x26+-0x18af+-0xc83*-0x1;_0x441541<_0x20cc77;++_0x441541)_0x3bae77[_0x441541]=Ub(_0x441541-_0x5b9203,_0x35d607),_0x36c3a4+=_0x3bae77[_0x441541];for(let _0x50ef37=0x224d+-0xde2+-0x146b;_0x50ef37<_0x20cc77;++_0x50ef37)_0x3bae77[_0x50ef37]/=_0x36c3a4;return _0x3bae77;}class Cv{constructor(_0x30a966,_0x50382f){h(this,'shadowPass'+'Cache',[]),(this['device']=_0x30a966['device'],this['renderer']=_0x30a966,this['lightTextu'+'reAtlas']=_0x50382f);const _0x4ea9d6=this['device']['scope'];this['sourceId']=_0x4ea9d6['resolve']('source'),this['pixelOffse'+'tId']=_0x4ea9d6['resolve']('pixelOffse'+'t'),this['weightId']=_0x4ea9d6['resolve']('weight[0]'),this['blurVsmSha'+'der']=[{},{}],this['blurVsmWei'+'ghts']={},this['shadowMapL'+'ightRadius'+'Id']=_0x4ea9d6['resolve']('light_radi'+'us'),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['blendState'+'Write']=new pt(),this['blendState'+'NoWrite']=new pt(),this['blendState'+'NoWrite']['setColorWr'+'ite'](!(-0xdf6+-0x21f6+0x2fed),!(0x1a6+0x420*-0x1+0x27b),!(0x911+0x78b+-0x109b),!(0x182+-0x16ae+0x152d));}static['createShad'+'owCamera'](_0x4ba450,_0x15961e,_0x3fac89){const _0x20c80f=Wn['create']('ShadowCame'+'ra',_0x15961e,_0x3fac89),_0x280ba1=qi['get'](_0x4ba450);w['assert'](_0x280ba1);const _0x8eec27=(_0x280ba1==null?void(0x9bb*-0x1+0x634*0x5+-0x1549):_0x280ba1['vsm'])??!(0x1*0x2452+-0x615*-0x3+-0x3690),_0x39965d=(_0x280ba1==null?void(-0x1fd8+-0x31b+0x22f3):_0x280ba1['pcf'])??!(-0x208+-0x15ed+-0x1*-0x17f6);return _0x8eec27?_0x20c80f['clearColor']=new ie(0x10c7+-0x58*0x16+-0x7*0x151,-0x482+0x17*0xa8+-0x1*0xa96,-0x1*0x1115+-0x1b91+-0x17d*-0x1e,0x11a8+-0xb3e+-0x66a):_0x20c80f['clearColor']=new ie(-0x15ac+0xc6+0x1*0x14e7,-0x174*-0x10+-0x11*0x10f+0x54*-0x10,-0x5e*0x4d+0x3*0xcb9+-0x9e4,-0x2200+0x8ab+0x2*0xcab),_0x20c80f['clearDepth'+'Buffer']=!(0x10*0x26+-0x9d+0x29*-0xb),_0x20c80f['clearStenc'+'ilBuffer']=!(-0x133f+0x24fb+-0x33*0x59),_0x20c80f['clearColor'+'Buffer']=!_0x39965d,_0x20c80f;}['_cullShado'+'wCastersIn'+'ternal'](_0x19ec5c,_0x558da8,_0x2d2aff){const _0x475efc=_0x19ec5c['length'];for(let _0x1b08aa=0x463*0x1+0x20bd+0x420*-0x9;_0x1b08aa<_0x475efc;_0x1b08aa++){const _0x4ee700=_0x19ec5c[_0x1b08aa];_0x4ee700['castShadow']&&(!_0x4ee700['cull']||_0x4ee700['_isVisible'](_0x2d2aff))&&(_0x4ee700['visibleThi'+'sFrame']=!(0x3*-0xe2+-0xea3*-0x1+-0xbfd),_0x558da8['push'](_0x4ee700));}}['cullShadow'+'Casters'](_0x49a79f,_0x567c83,_0x19c989,_0x585986,_0x125c52){var _0x48bd3b,_0x8ce2d6;if((_0x48bd3b=this['renderer']['scene'])==null||_0x48bd3b['fire'](mv,_0x585986),_0x19c989['length']=0x223e+-0x2*0xf2f+0x10*-0x3e,_0x125c52)this['_cullShado'+'wCastersIn'+'ternal'](_0x125c52,_0x19c989,_0x585986);else{const _0x488725=_0x49a79f['layerList'],_0x4a4453=_0x488725['length'];for(let _0x52ef1b=-0x15a6+0xb5c+-0x1*-0xa4a;_0x52ef1b<_0x4a4453;_0x52ef1b++){const _0x58c398=_0x488725[_0x52ef1b];_0x58c398['_lightsSet']['has'](_0x567c83)&&(rf['has'](_0x58c398)||(rf['add'](_0x58c398),this['_cullShado'+'wCastersIn'+'ternal'](_0x58c398['shadowCast'+'ers'],_0x19c989,_0x585986)));}rf['clear']();}_0x19c989['sort'](this['sortCompar'+'eShader']),(_0x8ce2d6=this['renderer']['scene'])==null||_0x8ce2d6['fire'](_v,_0x585986);}['sortCompar'+'eShader'](_0x3098b7,_0x41a049){const _0x41cedf=_0x3098b7['_sortKeySh'+'adow'],_0x43a4af=_0x41a049['_sortKeySh'+'adow'];return _0x41cedf===_0x43a4af?_0x41a049['mesh']['id']-_0x3098b7['mesh']['id']:_0x43a4af-_0x41cedf;}['setupRende'+'rState'](_0x11cb6b,_0x425fd7){const _0x189896=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']?_0x425fd7['_isPcf']:_0x425fd7['_isPcf']&&_0x425fd7['_type']!==Ke;_0x11cb6b['setBlendSt'+'ate'](_0x189896?this['blendState'+'NoWrite']:this['blendState'+'Write']),_0x11cb6b['setDepthSt'+'ate'](_0x425fd7['shadowDept'+'hState']),_0x11cb6b['setStencil'+'State'](null,null);}['dispatchUn'+'iforms'](_0x434965,_0x1742e8,_0x3ec76c,_0x266071){const _0x143160=_0x1742e8['_node'];_0x434965['_type']!==ve&&(this['renderer']['dispatchVi'+'ewPos'](_0x143160['getPositio'+'n']()),this['shadowMapL'+'ightRadius'+'Id']['setValue'](_0x434965['attenuatio'+'nEnd'])),W_['setTRS'](_0x143160['getPositio'+'n'](),_0x143160['getRotatio'+'n'](),D['ONE'])['invert'](),$_['mul2'](_0x1742e8['projection'+'Matrix'],W_);const _0x76e310=_0x3ec76c['shadowView'+'port'];_0x1742e8['rect']=_0x76e310,_0x1742e8['scissorRec'+'t']=_0x3ec76c['shadowScis'+'sor'],X_['setViewpor'+'t'](_0x76e310['x'],_0x76e310['y'],_0x76e310['z'],_0x76e310['w']),_0x3ec76c['shadowMatr'+'ix']['mul2'](X_,$_),_0x434965['_type']===ve&&_0x434965['_shadowMat'+'rixPalette']['set'](_0x3ec76c['shadowMatr'+'ix']['data'],_0x266071*(0x1146+-0x1e39+-0xd03*-0x1));}['getShadowP'+'ass'](_0x1145db){var _0x13943f;const _0x4fc0bf=_0x1145db['_type'],_0x1cdb61=_0x1145db['_shadowTyp'+'e'];let _0x5015bc=(_0x13943f=this['shadowPass'+'Cache'][_0x4fc0bf])==null?void(0x1*0x17f5+-0x2*0x13d+-0x157b):_0x13943f[_0x1cdb61];if(!_0x5015bc){const _0x3664ee='ShadowPass'+'_'+_0x4fc0bf+'_'+_0x1cdb61;_0x5015bc=Si['get'](this['device'])['allocate'](_0x3664ee,{'isShadow':!(0xb47+-0x1*0x26f6+0x1baf),'lightType':_0x4fc0bf,'shadowType':_0x1cdb61}),this['shadowPass'+'Cache'][_0x4fc0bf]||(this['shadowPass'+'Cache'][_0x4fc0bf]=[]),this['shadowPass'+'Cache'][_0x4fc0bf][_0x1cdb61]=_0x5015bc;}return _0x5015bc['index'];}['submitCast'+'ers'](_0x19a4a0,_0xadab71,_0x4cea91){var _0x144b4b;const _0x1a76a1=this['device'],_0x305832=this['renderer'],_0x2aef9a=_0x305832['scene'],_0x3b84fa=0x26d5+-0xb11+0x1bc3*-0x1<<cm,_0x3f6360=this['getShadowP'+'ass'](_0xadab71),_0x54e108=_0x4cea91['shaderPara'+'ms'],_0x17e791=_0x4cea91['renderTarg'+'et']['flipY']?-(0xa*0x21+-0x1f64+0x1e1b):-0x1*-0x1c32+-0x15a3*0x1+0x347*-0x2,_0x3ee347=_0x19a4a0['length'];for(let _0x1b7112=0x13d8+0x122f+-0x2607;_0x1b7112<_0x3ee347;_0x1b7112++){const _0x1fc483=_0x19a4a0[_0x1b7112],_0x4e5463=_0x1fc483['mesh'],_0x3b060a=_0x1fc483['instancing'+'Data'];if(_0x3b060a&&_0x3b060a['count']<=0x1*-0x2392+0x4ce+-0x1ec4*-0x1)continue;_0x1fc483['ensureMate'+'rial'](_0x1a76a1);const _0x247aa9=_0x1fc483['material'];Q['pushGpuMar'+'ker'](_0x1a76a1,'Node:\x20'+_0x1fc483['node']['name']+(',\x20Material'+':\x20')+_0x247aa9['name']),_0x305832['setBaseCon'+'stants'](_0x1a76a1,_0x247aa9),_0x305832['setSkinnin'+'g'](_0x1a76a1,_0x1fc483),_0x247aa9['dirty']&&(_0x247aa9['updateUnif'+'orms'](_0x1a76a1,_0x2aef9a),_0x247aa9['dirty']=!(0x256b+0x1*0x4ca+-0x2a34)),_0x305832['setupCullM'+'ode'](!(0x29e+-0x493*-0x4+-0x14ea),_0x17e791,_0x1fc483),_0x247aa9['setParamet'+'ers'](_0x1a76a1),_0x1fc483['setParamet'+'ers'](_0x1a76a1,_0x3b84fa);const _0x1e0702=_0x1fc483['getShaderI'+'nstance'](_0x3f6360,0x3ce*0x7+0x116a+-0x2c0c,_0x2aef9a,_0x54e108,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat']),_0x2c5425=_0x1e0702['shader'];if(w['assert'](_0x2c5425,'no\x20shader\x20'+'for\x20pass\x20'+_0x3f6360,_0x247aa9),_0x2c5425['failed'])continue;_0x1fc483['_sortKeySh'+'adow']=_0x2c5425['id'],_0x1a76a1['setShader'](_0x2c5425),_0x305832['setVertexB'+'uffers'](_0x1a76a1,_0x4e5463),_0x305832['setMorphin'+'g'](_0x1a76a1,_0x1fc483['morphInsta'+'nce']),_0x3b060a&&_0x1a76a1['setVertexB'+'uffer'](_0x3b060a['vertexBuff'+'er']),_0x305832['setMeshIns'+'tanceMatri'+'ces'](_0x1fc483),_0x305832['setupMeshU'+'niformBuff'+'ers'](_0x1e0702);const _0x4f63b6=_0x1fc483['renderStyl'+'e'],_0x65ab1e=(_0x144b4b=_0x1fc483['indirectDa'+'ta'])==null?void(0x2131*0x1+0xab0+-0x2be1):_0x144b4b['get'](_0x4cea91);_0x1a76a1['draw'](_0x4e5463['primitive'][_0x4f63b6],_0x4e5463['indexBuffe'+'r'][_0x4f63b6],_0x3b060a==null?void(0x17d9+0xf10+-0x26e9):_0x3b060a['count'],_0x65ab1e),_0x305832['_shadowDra'+'wCalls']++,_0x3b060a&&_0x305832['_instanced'+'DrawCalls']++,Q['popGpuMark'+'er'](_0x1a76a1);}}['needsShado'+'wRendering'](_0x58dafc){const _0x4d31ad=_0x58dafc['enabled']&&_0x58dafc['castShadow'+'s']&&_0x58dafc['shadowUpda'+'teMode']!==Ps&&_0x58dafc['visibleThi'+'sFrame'];return _0x58dafc['shadowUpda'+'teMode']===xr&&(_0x58dafc['shadowUpda'+'teMode']=Ps),_0x4d31ad&&(this['renderer']['_shadowMap'+'Updates']+=_0x58dafc['numShadowF'+'aces']),_0x4d31ad;}['getLightRe'+'nderData'](_0x862a8a,_0x42eac2,_0x3857a6){return _0x862a8a['getRenderD'+'ata'](_0x862a8a['_type']===ve?_0x42eac2:null,_0x3857a6);}['setupRende'+'rPass'](_0x5ae5f1,_0x1c4dae,_0x5ead3d){const _0x49e340=_0x1c4dae['renderTarg'+'et'];_0x5ae5f1['init'](_0x49e340),_0x5ae5f1['depthStenc'+'ilOps']['clearDepth'+'Value']=0x17cf*-0x1+0x106c*0x2+-0x908*0x1,_0x5ae5f1['depthStenc'+'ilOps']['clearDepth']=_0x5ead3d,_0x49e340['depthBuffe'+'r']?_0x5ae5f1['depthStenc'+'ilOps']['storeDepth']=!(0x1b20+-0x923*-0x1+-0x1*0x2443):(_0x5ae5f1['colorOps']['clearValue']['copy'](_0x1c4dae['clearColor']),_0x5ae5f1['colorOps']['clear']=_0x5ead3d,_0x5ae5f1['depthStenc'+'ilOps']['storeDepth']=!(-0x2d7*0xd+0xd5*0x16+0x129e)),_0x5ae5f1['requiresCu'+'bemaps']=!(-0x1*-0x67d+0x1936+0x1fb2*-0x1);}['prepareFac'+'e'](_0x191765,_0x4d9c58,_0x1d9dcc){const _0x385f84=_0x191765['_type'],_0x3a1d22=this['getLightRe'+'nderData'](_0x191765,_0x4d9c58,_0x1d9dcc)['shadowCame'+'ra'],_0x5f50a0=_0x385f84===ve?0xc82*0x2+-0x1a93*0x1+0x18f:_0x1d9dcc;return _0x3a1d22['renderTarg'+'et']=_0x191765['_shadowMap']['renderTarg'+'ets'][_0x5f50a0],_0x3a1d22;}['renderFace'](_0x26a7d5,_0x3ecc05,_0xa34cae,_0x43eae6,_0x42b56b=!(-0x537+-0x1*-0xe77+-0x40*0x25)){const _0x1e1bd3=this['device'],_0x564144=de();Q['pushGpuMar'+'ker'](_0x1e1bd3,'SHADOW\x20'+_0x26a7d5['_node']['name']+'\x20FACE\x20'+_0xa34cae);const _0x4702c7=this['getLightRe'+'nderData'](_0x26a7d5,_0x3ecc05,_0xa34cae),_0x26fc6c=_0x4702c7['shadowCame'+'ra'];this['dispatchUn'+'iforms'](_0x26a7d5,_0x26fc6c,_0x4702c7,_0xa34cae);const _0x258d20=_0x26fc6c['renderTarg'+'et'],_0x3ddfc1=this['renderer'];_0x3ddfc1['setCameraU'+'niforms'](_0x26fc6c,_0x258d20),_0x1e1bd3['supportsUn'+'iformBuffe'+'rs']&&_0x3ddfc1['setupViewU'+'niformBuff'+'ers'](_0x4702c7['viewBindGr'+'oups'],this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],null),_0x42b56b?(_0x3ddfc1['setupViewp'+'ort'](_0x26fc6c,_0x258d20),_0x43eae6&&_0x3ddfc1['clear'](_0x26fc6c)):_0x3ddfc1['clearView'](_0x26fc6c,_0x258d20,!(0x2*0x16d+0x1*0x11b9+-0x1*0x1493),!(0x2*-0xe96+-0x2*0xa81+0x1bb*0x1d)),this['setupRende'+'rState'](_0x1e1bd3,_0x26a7d5),this['submitCast'+'ers'](_0x4702c7['visibleCas'+'ters'],_0x26a7d5,_0x26fc6c),Q['popGpuMark'+'er'](_0x1e1bd3),_0x3ddfc1['_shadowMap'+'Time']+=de()-_0x564144;}['render'](_0x5c7886,_0x962fa9,_0x93e11=!(0x630*0x4+0x1428+-0x2ce8)){if(this['needsShado'+'wRendering'](_0x5c7886)){const _0x19e785=_0x5c7886['numShadowF'+'aces'];for(let _0x455bff=0xdf2+-0x1f7+-0xbfb*0x1;_0x455bff<_0x19e785;_0x455bff++)this['prepareFac'+'e'](_0x5c7886,_0x962fa9,_0x455bff),this['renderFace'](_0x5c7886,_0x962fa9,_0x455bff,!(-0x742*0x5+-0x1*0x1764+0x3bae),_0x93e11);this['renderVsm'](_0x5c7886,_0x962fa9);}}['renderVsm'](_0x3f406b,_0x323ef7){_0x3f406b['_isVsm']&&_0x3f406b['_vsmBlurSi'+'ze']>-0x24c7*0x1+0x3df*-0x4+0x3444&&(!this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']||_0x3f406b['_type']===ve)&&this['applyVsmBl'+'ur'](_0x3f406b,_0x323ef7);}['getVsmBlur'+'Shader'](_0x1439de,_0x49a4e3){const _0x39d5ba=this['blurVsmSha'+'der'];let _0x9a6fda=_0x39d5ba[_0x1439de][_0x49a4e3];if(!_0x9a6fda){this['blurVsmWei'+'ghts'][_0x49a4e3]=Bb(_0x49a4e3);const _0x1fe3aa=new Map();_0x1fe3aa['set']('{SAMPLES}',_0x49a4e3),_0x1439de===0x1*0x550+0x6b9+-0xc08&&_0x1fe3aa['set']('GAUSS',''),_0x9a6fda=$t['createShad'+'er'](this['device'],{'uniqueName':'blurVsm'+_0x1439de+_0x49a4e3,'attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentChunk':'blurVSMPS','fragmentDefines':_0x1fe3aa}),_0x39d5ba[_0x1439de][_0x49a4e3]=_0x9a6fda;}return _0x9a6fda;}['applyVsmBl'+'ur'](_0x56498e,_0x19f526){const _0x329875=this['device'];Q['pushGpuMar'+'ker'](_0x329875,'VSM\x20'+_0x56498e['_node']['name']),_0x329875['setBlendSt'+'ate'](pt['NOBLEND']);const _0x406d5c=_0x56498e['getRenderD'+'ata'](_0x56498e['_type']===ve?_0x19f526:null,-0x1*-0x1a0c+-0x3*0xc07+-0xa09*-0x1)['shadowCame'+'ra']['renderTarg'+'et'],_0x88c355=this['renderer']['shadowMapC'+'ache']['get'](_0x329875,_0x56498e),_0x35c538=_0x88c355['renderTarg'+'ets'][0x1*0xa61+0x481+-0xf*0xfe],_0x3c60b1=_0x56498e['vsmBlurMod'+'e'],_0x798459=_0x56498e['_vsmBlurSi'+'ze'],_0x1e3dfa=this['getVsmBlur'+'Shader'](_0x3c60b1,_0x798459);lo['z']=_0x56498e['_shadowRes'+'olution']-(-0x1991*-0x1+-0x2611+0xc82*0x1),lo['w']=lo['z'],this['sourceId']['setValue'](_0x406d5c['colorBuffe'+'r']),Fr[0x305*-0xb+-0x3eb*0x6+0x38b9]=(0x5*0x9a+0x1*0x1c76+-0x219*0xf)/_0x56498e['_shadowRes'+'olution'],Fr[0x1d5c+0x1*0x12da+0x3035*-0x1]=0x2*-0x1de+-0x17*0x73+0xe11,this['pixelOffse'+'tId']['setValue'](Fr),_0x3c60b1===em&&this['weightId']['setValue'](this['blurVsmWei'+'ghts'][_0x798459]),Ar(_0x329875,_0x35c538,_0x1e3dfa,null,lo),this['sourceId']['setValue'](_0x35c538['colorBuffe'+'r']),Fr[-0x20b7*0x1+0x138d*-0x1+0x3445]=Fr[-0x2205+0x1c3b+0x5ca],Fr[0x296+-0x165*0x15+0x1ab3]=0x19b3+0x1e50+0x1*-0x3803,this['pixelOffse'+'tId']['setValue'](Fr),Ar(_0x329875,_0x406d5c,_0x1e3dfa,null,lo),this['renderer']['shadowMapC'+'ache']['add'](_0x56498e,_0x88c355),Q['popGpuMark'+'er'](_0x329875);}['initViewBi'+'ndGroupFor'+'mat'](){this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']&&(this['viewUnifor'+'mFormat']=new zy(this['device'],[new dt('matrix_vie'+'wProjectio'+'n',li)]),this['viewBindGr'+'oupFormat']=new Ny(this['device'],[new kp(Np,Fp|by)]));}['frameUpdat'+'e'](){this['initViewBi'+'ndGroupFor'+'mat']();}}const cc=[];class zb{constructor(_0x2040b1){h(this,'_empty',null),h(this,'_allocated',[]),h(this,'_clusters',new Map()),this['device']=_0x2040b1;}['destroy'](){this['_empty']&&(this['_empty']['destroy'](),this['_empty']=null),this['_allocated']['forEach'](_0x3c16b7=>{_0x3c16b7['destroy']();}),this['_allocated']['length']=-0x424+0x1503+0x10df*-0x1;}get['count'](){return this['_allocated']['length'];}get['empty'](){if(!this['_empty']){const _0x47eabf=new cu(this['device']);_0x47eabf['name']='ClusterEmp'+'ty',_0x47eabf['update']([]),this['_empty']=_0x47eabf;}return this['_empty'];}['assign'](_0x4be162){const _0x1004b4=this['empty'];cc['push'](...this['_allocated']),this['_allocated']['length']=0x1103*-0x1+0x868+0x89b,this['_clusters']['clear']();const _0x1dcce7=_0x4be162['length'];for(let _0x375974=-0x657+0xb55*0x1+-0x47*0x12;_0x375974<_0x1dcce7;_0x375974++){const _0x3101de=_0x4be162[_0x375974]['renderActi'+'ons'];if(_0x3101de){const _0x2bc7d6=_0x3101de['length'];for(let _0x26627a=-0x256b+0x2374+0x1*0x1f7;_0x26627a<_0x2bc7d6;_0x26627a++){const _0xee49ea=_0x3101de[_0x26627a];_0xee49ea['lightClust'+'ers']=null;const _0x1751a6=_0xee49ea['layer'];if(_0x1751a6['hasCluster'+'edLights']&&_0x1751a6['meshInstan'+'ces']['length']){const _0x46ebd8=_0x1751a6['getLightId'+'Hash'](),_0x46a737=this['_clusters']['get'](_0x46ebd8);let _0x193a99=_0x46a737==null?void(-0x509+-0x1563+-0x2*-0xd36):_0x46a737['lightClust'+'ers'];_0x193a99||(_0x193a99=cc['pop']()??new cu(this['device']),Ea['setName'](_0x193a99,'Cluster-'+this['_allocated']['length']),this['_allocated']['push'](_0x193a99),this['_clusters']['set'](_0x46ebd8,_0xee49ea)),_0xee49ea['lightClust'+'ers']=_0x193a99;}_0xee49ea['lightClust'+'ers']||(_0xee49ea['lightClust'+'ers']=_0x1004b4);}}}cc['forEach'](_0x453115=>_0x453115['destroy']()),cc['length']=0x25*-0x2+-0x157b+0x15c5*0x1;}['update'](_0x1410de,_0x23906e){this['assign'](_0x1410de),this['_clusters']['forEach'](_0x474c7f=>{const _0x3a0aaa=_0x474c7f['layer'];_0x474c7f['lightClust'+'ers']['update'](_0x3a0aaa['clusteredL'+'ightsSet'],_0x23906e);});}}const rr=new re(),af=[];class pm extends ys{constructor(_0x17fefe,_0x441e41){super(_0x17fefe),h(this,'_quadRende'+'rer2D',null),h(this,'_quadRende'+'rerCube',null),h(this,'_filteredL'+'ights',[]),h(this,'_forceCopy',!(0x2603+0x1bc7*0x1+-0x1*0x41c9)),h(this,'_evtDevice'+'Restored',null),(this['_cubeSlots'+'Offsets']=_0x441e41,this['requiresCu'+'bemaps']=!(-0x20f7+0x10f0+-0x13*-0xd8),this['blitTextur'+'eId']=_0x17fefe['scope']['resolve']('blitTextur'+'e'),this['invViewPro'+'jId']=_0x17fefe['scope']['resolve']('invViewPro'+'j'),this['_evtDevice'+'Restored']=_0x17fefe['on']('devicerest'+'ored',this['onDeviceRe'+'stored'],this));}['destroy'](){var _0x186d81,_0x345735,_0x7b7801;(_0x186d81=this['_quadRende'+'rer2D'])==null||_0x186d81['destroy'](),this['_quadRende'+'rer2D']=null,(_0x345735=this['_quadRende'+'rerCube'])==null||_0x345735['destroy'](),this['_quadRende'+'rerCube']=null,(_0x7b7801=this['_evtDevice'+'Restored'])==null||_0x7b7801['off'](),this['_evtDevice'+'Restored']=null;}static['create'](_0x38c37d,_0x12d95e){w['assert'](_0x38c37d);const _0x9e4c4f=new pm(_0x38c37d['device'],_0x12d95e);return _0x9e4c4f['init'](_0x38c37d),_0x9e4c4f['colorOps']['clear']=!(-0xc8d+-0x1*0x9ef+0x167d),_0x9e4c4f['depthStenc'+'ilOps']['clearDepth']=!(-0x14a9+0xd5b+0x1*0x74f),_0x9e4c4f;}['onDeviceRe'+'stored'](){this['_forceCopy']=!(-0x7b6+0x645+0x171);}['update'](_0x18bc23){const _0x469b80=this['_filteredL'+'ights'];this['filter'](_0x18bc23,_0x469b80),this['executeEna'+'bled']=_0x469b80['length']>-0x1c72+0x1*-0x11a5+-0x1b5*-0x1b;}['filter'](_0x482363,_0x5c6d45){for(let _0x2c363b=0x1035+-0x3d*0x73+0x1*0xb32;_0x2c363b<_0x482363['length'];_0x2c363b++){const _0x47accb=_0x482363[_0x2c363b];_0x47accb['_type']!==ve&&_0x47accb['atlasViewp'+'ortAllocat'+'ed']&&(!_0x47accb['atlasSlotU'+'pdated']&&!this['_forceCopy']||_0x47accb['enabled']&&_0x47accb['cookie']&&_0x47accb['visibleThi'+'sFrame']&&_0x5c6d45['push'](_0x47accb));}this['_forceCopy']=!(0x5*-0x269+0xe6+-0x88*-0x15);}['initInvVie'+'wProjMatri'+'ces'](){if(!af['length'])for(let _0x2d158d=0x19f8+-0x1ab3+0xbb;_0x2d158d<-0x9d8+0x5*-0x22d+0x14bf;_0x2d158d++){const _0x164f6f=Wn['create'](null,Ke,_0x2d158d),_0x2473b5=_0x164f6f['projection'+'Matrix'],_0x48e44f=_0x164f6f['node']['getLocalTr'+'ansform']()['clone']()['invert']();af[_0x2d158d]=new te()['mul2'](_0x2473b5,_0x48e44f)['invert']();}}get['quadRender'+'er2D'](){if(!this['_quadRende'+'rer2D']){const _0x18e182=$t['createShad'+'er'](this['device'],{'uniqueName':'cookieRend'+'erer2d','attributes':{'vertex_position':Me},'vertexChunk':'cookieBlit'+'VS','fragmentChunk':'cookieBlit'+'2DPS'});this['_quadRende'+'rer2D']=new Ah(_0x18e182);}return this['_quadRende'+'rer2D'];}get['quadRender'+'erCube'](){if(!this['_quadRende'+'rerCube']){const _0x1682b=$t['createShad'+'er'](this['device'],{'uniqueName':'cookieRend'+'ererCube','attributes':{'vertex_position':Me},'vertexChunk':'cookieBlit'+'VS','fragmentChunk':'cookieBlit'+'CubePS'});this['_quadRende'+'rerCube']=new Ah(_0x1682b);}return this['_quadRende'+'rerCube'];}['execute'](){const _0x5b957d=this['device'];_0x5b957d['setBlendSt'+'ate'](pt['NOBLEND']),_0x5b957d['setCullMod'+'e'](bt),_0x5b957d['setDepthSt'+'ate'](Yt['NODEPTH']),_0x5b957d['setStencil'+'State']();const _0x3301a2=this['renderTarg'+'et']['colorBuffe'+'r']['width'],_0x5368c4=this['_cubeSlots'+'Offsets'],_0x1b6f99=this['_filteredL'+'ights'];for(let _0x457c79=0xc*-0x1a7+0xf52+0x482*0x1;_0x457c79<_0x1b6f99['length'];_0x457c79++){const _0x8a541=_0x1b6f99[_0x457c79];Q['pushGpuMar'+'ker'](this['device'],'COOKIE\x20'+_0x8a541['_node']['name']);const _0x3c51cf=_0x8a541['numShadowF'+'aces'],_0x1374cf=_0x3c51cf>-0x1c6e+-0x139c+0x300b?this['quadRender'+'erCube']:this['quadRender'+'er2D'];_0x3c51cf>0xd*-0x8+-0x52*0x36+0x3*0x5e7&&this['initInvVie'+'wProjMatri'+'ces'](),this['blitTextur'+'eId']['setValue'](_0x8a541['cookie']);for(let _0x9ee5a=0x1eff+-0x1*0x5ff+-0x1900;_0x9ee5a<_0x3c51cf;_0x9ee5a++){if(rr['copy'](_0x8a541['atlasViewp'+'ort']),_0x3c51cf>-0x100+-0xe35+0x76*0x21){const _0xd75fcd=rr['z']/(-0x160e+-0x1*-0x62b+-0x32e*-0x5),_0x362e6c=_0x5368c4[_0x9ee5a];rr['x']+=_0xd75fcd*_0x362e6c['x'],rr['y']+=_0xd75fcd*_0x362e6c['y'],rr['z']=_0xd75fcd,rr['w']=_0xd75fcd,this['invViewPro'+'jId']['setValue'](af[_0x9ee5a]['data']);}rr['mulScalar'](_0x3301a2),_0x1374cf['render'](rr);}Q['popGpuMark'+'er'](_0x5b957d);}_0x1b6f99['length']=0x1b3+0x7b8+0x1*-0x96b;}}class Vb extends ys{constructor(_0x1f3e20,_0x5bfe98,_0x5f14e8){super(_0x1f3e20),this['requiresCu'+'bemaps']=!(0x1*-0x22c4+0x54a*0x1+0x1d7b*0x1),this['shadowRend'+'erer']=_0x5bfe98,this['shadowRend'+'ererLocal']=_0x5f14e8;}['update'](_0x4fbaf9){const _0x146fc3=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x5dff0a=this['shadowRend'+'ererLocal']['prepareLig'+'hts'](_0x146fc3,_0x4fbaf9),_0x237a0f=_0x146fc3['length'];this['enabled']=_0x237a0f>0x97c*0x1+-0x3fd*-0x8+-0x6e6*0x6,_0x237a0f&&this['shadowRend'+'erer']['setupRende'+'rPass'](this,_0x5dff0a,!(0x2c8+-0xe27*-0x1+0x877*-0x2));}['execute'](){const _0xafab7=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x52c435=_0xafab7['length'];for(let _0x2c158f=-0x1e94+-0x7d8+0x1336*0x2;_0x2c158f<_0x52c435;_0x2c158f++){const _0x39db69=_0xafab7[_0x2c158f];for(let _0x4825a6=0x320+-0xead+0xb8d*0x1;_0x4825a6<_0x39db69['numShadowF'+'aces'];_0x4825a6++)this['shadowRend'+'erer']['renderFace'](_0x39db69,null,_0x4825a6,!(-0x5bd+0x4b*-0x7d+0x2a5c));}_0xafab7['length']=-0x6cd+0x4*-0x251+0x1011;}}class Gb extends ys{constructor(_0x16c2da,_0x5cd64b,_0x452c8c,_0xf73bc0,_0x269c16){super(_0x16c2da),this['renderer']=_0x5cd64b,this['frameGraph']=null,this['cookiesRen'+'derPass']=pm['create'](_0x269c16['cookieRend'+'erTarget'],_0x269c16['cubeSlotsO'+'ffsets']),this['beforePass'+'es']['push'](this['cookiesRen'+'derPass']),this['shadowRend'+'erPass']=new Vb(_0x16c2da,_0x452c8c,_0xf73bc0),this['beforePass'+'es']['push'](this['shadowRend'+'erPass']);}['update'](_0x401fad,_0x365e0f,_0x206b9f,_0x5a162e,_0x40ee6e){this['frameGraph']=_0x401fad,this['cookiesRen'+'derPass']['enabled']=_0x206b9f,_0x206b9f&&this['cookiesRen'+'derPass']['update'](_0x5a162e),this['shadowRend'+'erPass']['enabled']=_0x365e0f,_0x365e0f&&this['shadowRend'+'erPass']['update'](_0x40ee6e);}['destroy'](){this['cookiesRen'+'derPass']['destroy'](),this['cookiesRen'+'derPass']=null;}['execute'](){const _0x3c6e84=de(),{renderer:_0x4e1a7d}=this,{scene:_0x41c1be}=_0x4e1a7d;_0x4e1a7d['worldClust'+'ersAllocat'+'or']['update'](this['frameGraph']['renderPass'+'es'],_0x41c1be['lighting']),_0x4e1a7d['_lightClus'+'tersTime']+=de()-_0x3c6e84,_0x4e1a7d['_lightClus'+'ters']=_0x4e1a7d['worldClust'+'ersAllocat'+'or']['count'];}}let nf=0x1*0xd9d+0x1*0x13c0+0x215d*-0x1;const ar=new te(),nr=new te(),Oa=new te(),q_=new _i(),of=new sp(),j_=new te()['setScale'](-0x44*0x34+-0x2*-0x11ff+-0x162d,-(0x2128+0x1c23+0x146e*-0x3),-0x5*-0x3f9+-0x1*0x2141+0xd65),lf=new Set(),cf=new Set(),hf=new ky(),Y_=new te()['set']([-0x1*-0x7fe+-0x1945+0x1148,0x1*0x541+-0x121e+0xcdd,-0x24f6+0x3*-0xc0e+0x4920,-0xdd+-0x2121+0x21fe,-0x1*0x135a+-0x12c8+0x2622,-0x1477+-0x24d3*-0x1+-0x4f*0x35,-0x1af8+-0x1e5c+0x3954,0x11b6*0x2+-0x1*0x1779+0x1b5*-0x7,0x4*0x209+-0xd4d+0x529*0x1,0x1393+-0xe*0x20+-0x11d3,-0x76d*-0x1+-0x94*-0x8+0x5*-0x269+0.5,0x1a0f+0xd*-0x1c8+0x2e7*-0x1,0x1ecc+-0x1b0f+-0x3bd,0x1ed*0x1+0x1234+-0x1421,0x22c8+-0x1*-0xcc5+-0x2f8d+0.5,-0x503+0x11e*-0x3+0x85e]),K_=[new J(0x12*-0x4e+-0x421+0x99d+0.5,-0xa98+-0x136f+0x1e07+0.333333),new J(-0x1*0x116d+-0x1*-0x1271+0x4*-0x41+0.25,-0x1*-0xe6+0x740+-0x826+0.666667),new J(-0x23c9*-0x1+-0x26e0+0x317+0.75,0x3c3+0x16f6+-0x1ab9+0.111111),new J(0x1d1+0x19cc+-0x1*0x1b9d+0.125,0x1ae3+-0xc31*0x1+-0xeb2+0.444444),new J(0x3*0xa7+-0x1b42+0x17d*0x11+0.625,-0x241*0x4+0x5*-0x74a+0x2d76+0.777778),new J(-0x1b23+0x31*-0x91+0xc*0x493+0.375,-0x191*0x7+0x3*-0xcc3+0x2*0x18a0+0.222222),new J(-0x12e3*0x1+-0xc7a+0x103*0x1f+0.875,0x1baf+-0xad5*-0x1+-0x2684+0.555556),new J(0xc*0x10b+0x728*0x3+0x10fe*-0x2+0.0625,-0x334+-0x27*-0x13+0x4f+0.888889),new J(0x435*0x1+0x825+-0xc5a+0.5625,0x1*0x4d3+0x1ce1*-0x1+0x180e+0.037037),new J(0x3*0x118+0xf69+-0x12b1+0.3125,0x1*0x29+0x22da+-0x2303*0x1+0.37037),new J(0x1d1c+0xefa+-0x2c16+0.8125,-0xc0+0x173d+-0x167d+0.703704),new J(-0xef*0x28+-0xdc1+0x3319+0.1875,-0x1d6*-0x5+0xe4e+-0xc*0x1f5+0.148148),new J(-0x6*0x298+-0x561+-0x1*-0x14f1+0.6875,0x149f+-0x3*-0x5c+0x65*-0x37+0.481481),new J(-0xdd+0x8*0x171+-0xaab+0.4375,-0x13b3+0x1*0x22a7+-0xef4+0.814815),new J(-0x6*-0x2bd+0x3*0x98d+-0x2d15+0.9375,0x1f69+-0x1c*-0x10f+0x3d0d*-0x1+0.259259),new J(-0x323*-0x2+-0x20d5+0x1a8f+0.03125,0xb29*0x1+0x1cf1+0x162*-0x1d+0.592593)],Hb=new te(),Wb=new te(),$b=new te(),Xb=new te(),qb=new te(),jb=new te(),Fa=new Set(),df=[],ff=[];class Yb{constructor(_0x383271){h(this,'clustersDe'+'bugRendere'+'d',!(0x1*-0x224b+0x2632*-0x1+-0x3*-0x182a)),h(this,'processing'+'MeshInstan'+'ces',new Set()),h(this,'worldClust'+'ersAllocat'+'or'),h(this,'lights',[]),h(this,'localLight'+'s',[]),h(this,'cameraDirS'+'hadowLight'+'s',new Map()),h(this,'dirLightSh'+'adows',new Map()),h(this,'blueNoise',new wb(0x141d*-0x1+-0x1a6*0xc+0x2860)),(this['device']=_0x383271,this['scene']=null,this['worldClust'+'ersAllocat'+'or']=new zb(_0x383271),this['lightTextu'+'reAtlas']=new Ib(_0x383271),this['shadowMapC'+'ache']=new Lb(),this['shadowRend'+'erer']=new Cv(this,this['lightTextu'+'reAtlas']),this['_shadowRen'+'dererLocal']=new Ob(this,this['shadowRend'+'erer']),this['_shadowRen'+'dererDirec'+'tional']=new kb(this,this['shadowRend'+'erer']),this['_renderPas'+'sUpdateClu'+'stered']=new Gb(this['device'],this,this['shadowRend'+'erer'],this['_shadowRen'+'dererLocal'],this['lightTextu'+'reAtlas']),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['_skinTime']=-0x11f0+-0x2130+-0xcc8*-0x4,this['_morphTime']=-0x2088*-0x1+0x108+-0x2cc*0xc,this['_cullTime']=-0x602+0x1853*-0x1+0x5*0x611,this['_shadowMap'+'Time']=-0x34e+-0x226b+-0x9*-0x431,this['_lightClus'+'tersTime']=0x1*0x977+0x20f5+0xa9b*-0x4,this['_layerComp'+'ositionUpd'+'ateTime']=0x4*0x96f+0x2*-0xf7e+-0x1b0*0x4,this['_shadowDra'+'wCalls']=0x2*0x461+-0x16cc*-0x1+-0xfc7*0x2,this['_skinDrawC'+'alls']=0x1*-0x1d4f+0xb*0x2f5+-0xce*0x4,this['_instanced'+'DrawCalls']=0x20b5+0x4*0x51a+-0x351d,this['_shadowMap'+'Updates']=0x3*-0x357+0xe*0x21e+-0x139f,this['_numDrawCa'+'llsCulled']=0x2674+-0xe3*0x11+0x5*-0x4ad,this['_camerasRe'+'ndered']=0xc2f+-0x6ef*0x4+0xf8d,this['_lightClus'+'ters']=-0x1ade+0x1bde+-0x100);const _0x498237=_0x383271['scope'];this['boneTextur'+'eId']=_0x498237['resolve']('texture_po'+'seMap'),this['modelMatri'+'xId']=_0x498237['resolve']('matrix_mod'+'el'),this['normalMatr'+'ixId']=_0x498237['resolve']('matrix_nor'+'mal'),this['viewInvId']=_0x498237['resolve']('matrix_vie'+'wInverse'),this['viewPos']=new Float32Array(0x96+0xf53+-0x2*0x7f3),this['viewPosId']=_0x498237['resolve']('view_posit'+'ion'),this['projId']=_0x498237['resolve']('matrix_pro'+'jection'),this['projSkybox'+'Id']=_0x498237['resolve']('matrix_pro'+'jectionSky'+'box'),this['viewId']=_0x498237['resolve']('matrix_vie'+'w'),this['viewId3']=_0x498237['resolve']('matrix_vie'+'w3'),this['viewProjId']=_0x498237['resolve']('matrix_vie'+'wProjectio'+'n'),this['flipYId']=_0x498237['resolve']('projection'+'FlipY'),this['tbnBasis']=_0x498237['resolve']('tbnBasis'),this['nearClipId']=_0x498237['resolve']('camera_nea'+'r'),this['farClipId']=_0x498237['resolve']('camera_far'),this['cameraPara'+'ms']=new Float32Array(0xa7b+0xbbc+-0x1*0x1633),this['cameraPara'+'msId']=_0x498237['resolve']('camera_par'+'ams'),this['viewIndexI'+'d']=_0x498237['resolve']('view_index'),this['viewIndexI'+'d']['setValue'](0xe41+-0x3*0x631+-0x4f*-0xe),this['blueNoiseJ'+'itterVersi'+'on']=-0x193f+-0x434*-0x7+-0x42d,this['blueNoiseJ'+'itterVec']=new re(),this['blueNoiseJ'+'itterData']=new Float32Array(-0x1a05*-0x1+0x6db+0x6*-0x57a),this['blueNoiseJ'+'itterId']=_0x498237['resolve']('blueNoiseJ'+'itter'),this['blueNoiseT'+'extureId']=_0x498237['resolve']('blueNoiseT'+'ex32'),this['alphaTestI'+'d']=_0x498237['resolve']('alpha_ref'),this['opacityMap'+'Id']=_0x498237['resolve']('texture_op'+'acityMap'),this['exposureId']=_0x498237['resolve']('exposure'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']=_0x498237['resolve']('twoSidedLi'+'ghtingNegS'+'caleFactor'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](0x11e9+-0x121d+0xd*0x4),this['morphPosit'+'ionTex']=_0x498237['resolve']('morphPosit'+'ionTex'),this['morphNorma'+'lTex']=_0x498237['resolve']('morphNorma'+'lTex'),this['morphTexPa'+'rams']=_0x498237['resolve']('morph_tex_'+'params'),this['lightCube']=new bb(),this['constantLi'+'ghtCube']=_0x498237['resolve']('lightCube['+'0]');}['destroy'](){this['shadowRend'+'erer']=null,this['_shadowRen'+'dererLocal']=null,this['_shadowRen'+'dererDirec'+'tional']=null,this['shadowMapC'+'ache']['destroy'](),this['shadowMapC'+'ache']=null,this['_renderPas'+'sUpdateClu'+'stered']['destroy'](),this['_renderPas'+'sUpdateClu'+'stered']=null,this['lightTextu'+'reAtlas']['destroy'](),this['lightTextu'+'reAtlas']=null;}['setupViewp'+'ort'](_0x4ea716,_0x47147a){const _0x40bb86=this['device'],_0x1f5fab=_0x47147a?_0x47147a['width']:_0x40bb86['width'],_0x1a4b18=_0x47147a?_0x47147a['height']:_0x40bb86['height'],_0x3888d3=_0x4ea716['rect'];let _0x45db8b=Math['floor'](_0x3888d3['x']*_0x1f5fab),_0x35cc95=Math['floor'](_0x3888d3['y']*_0x1a4b18),_0x4fe482=Math['floor'](_0x3888d3['z']*_0x1f5fab),_0xa0472d=Math['floor'](_0x3888d3['w']*_0x1a4b18);if(_0x40bb86['setViewpor'+'t'](_0x45db8b,_0x35cc95,_0x4fe482,_0xa0472d),_0x4ea716['_scissorRe'+'ctClear']){const _0x5739c1=_0x4ea716['scissorRec'+'t'];_0x45db8b=Math['floor'](_0x5739c1['x']*_0x1f5fab),_0x35cc95=Math['floor'](_0x5739c1['y']*_0x1a4b18),_0x4fe482=Math['floor'](_0x5739c1['z']*_0x1f5fab),_0xa0472d=Math['floor'](_0x5739c1['w']*_0x1a4b18);}_0x40bb86['setScissor'](_0x45db8b,_0x35cc95,_0x4fe482,_0xa0472d);}['setCameraU'+'niforms'](_0x50dad7,_0x4d9523){var _0x43a091,_0x2ed13b;const _0x1bdc35=_0x4d9523==null?void(-0x3*0x874+-0x1d7c*-0x1+0x108*-0x4):_0x4d9523['flipY'];let _0x1ff2dd=null;if(_0x50dad7['xr']&&_0x50dad7['xr']['session']){const _0x4e169c=((_0x2ed13b=(_0x43a091=_0x50dad7['_node'])==null?void(-0x25db*-0x1+0x12ef+-0x38ca):_0x43a091['parent'])==null?void(0xd*-0x86+0x629*-0x1+0x1*0xcf7):_0x2ed13b['getWorldTr'+'ansform']())||null;_0x1ff2dd=_0x50dad7['xr']['views']['list'];for(let _0x29cea6=0x1367+0x16*0xdf+-0x2691;_0x29cea6<_0x1ff2dd['length'];_0x29cea6++){const _0x5c837=_0x1ff2dd[_0x29cea6];_0x5c837['updateTran'+'sforms'](_0x4e169c),_0x50dad7['frustum']['setFromMat'+'4'](_0x5c837['projViewOf'+'fMat']);}}else{let _0x38c022=_0x50dad7['projection'+'Matrix'];_0x50dad7['calculateP'+'rojection']&&_0x50dad7['calculateP'+'rojection'](_0x38c022,ec);let _0x44f949=_0x50dad7['getProject'+'ionMatrixS'+'kybox']();_0x1bdc35&&(_0x38c022=Hb['mul2'](j_,_0x38c022),_0x44f949=Wb['mul2'](j_,_0x44f949)),this['device']['isWebGPU']&&(_0x38c022=$b['mul2'](Y_,_0x38c022),_0x44f949=Xb['mul2'](Y_,_0x44f949));const {jitter:_0x1c9240}=_0x50dad7;let _0x26f172=-0x16*-0x9d+-0x1e42*0x1+-0x3a*-0x4a,_0x165cb2=0x14c1+-0x9a3*0x2+-0x17b*0x1;if(_0x1c9240>-0x1*0x1e74+-0x564*0x1+0x23d8){const _0x26ab70=_0x4d9523?_0x4d9523['width']:this['device']['width'],_0x19eeb5=_0x4d9523?_0x4d9523['height']:this['device']['height'],_0x255885=K_[this['device']['renderVers'+'ion']%K_['length']];_0x26f172=_0x1c9240*(_0x255885['x']*(0x1*0x2261+-0x1*0x19b+-0x20c4)-(0xb04+-0x768*0x2+0x3cd))/_0x26ab70,_0x165cb2=_0x1c9240*(_0x255885['y']*(0x206d+-0x643+-0x6c*0x3e)-(0x139a+0x1*-0x10+-0x1389))/_0x19eeb5,_0x38c022=qb['copy'](_0x38c022),_0x38c022['data'][-0x1*0x729+0xc*-0x30+0x971*0x1]=_0x26f172,_0x38c022['data'][0x39*0x9f+-0x941*0x2+-0x10dc]=_0x165cb2,_0x44f949=jb['copy'](_0x44f949),_0x44f949['data'][-0x1c4d+-0x1d*0x153+0x42bc*0x1]=_0x26f172,_0x44f949['data'][0x1296+0x20a2+-0x332f]=_0x165cb2,this['blueNoiseJ'+'itterVersi'+'on']!==this['device']['renderVers'+'ion']&&(this['blueNoiseJ'+'itterVersi'+'on']=this['device']['renderVers'+'ion'],this['blueNoise']['vec4'](this['blueNoiseJ'+'itterVec']));}const _0x4d67fd=_0x1c9240>0x240f*0x1+-0xd*0x115+-0xa*0x233?this['blueNoiseJ'+'itterVec']:re['ZERO'];if(this['blueNoiseJ'+'itterData'][-0x449*-0x4+0x2511+-0x3635]=_0x4d67fd['x'],this['blueNoiseJ'+'itterData'][-0x2*-0x4ef+0xb53+-0x2a6*0x8]=_0x4d67fd['y'],this['blueNoiseJ'+'itterData'][-0x10f4+-0x24aa+-0x108*-0x34]=_0x4d67fd['z'],this['blueNoiseJ'+'itterData'][-0x61*0x1f+0xa*0x52+0x88e]=_0x4d67fd['w'],this['blueNoiseJ'+'itterId']['setValue'](this['blueNoiseJ'+'itterData']),this['projId']['setValue'](_0x38c022['data']),this['projSkybox'+'Id']['setValue'](_0x44f949['data']),_0x50dad7['calculateT'+'ransform'])_0x50dad7['calculateT'+'ransform'](nr,ec);else{const _0x169805=_0x50dad7['_node']['getPositio'+'n'](),_0x3d1544=_0x50dad7['_node']['getRotatio'+'n']();nr['setTRS'](_0x169805,_0x3d1544,D['ONE']);}this['viewInvId']['setValue'](nr['data']),Oa['copy'](nr)['invert'](),this['viewId']['setValue'](Oa['data']),q_['setFromMat'+'4'](Oa),this['viewId3']['setValue'](q_['data']),ar['mul2'](_0x38c022,Oa),this['viewProjId']['setValue'](ar['data']),_0x50dad7['_storeShad'+'erMatrices'](ar,_0x26f172,_0x165cb2,this['device']['renderVers'+'ion']),this['flipYId']['setValue'](_0x1bdc35?-(0x167*0x2+-0x11*0x22a+0x1*0x21fd):-0x241b+0xed*0x13+0xb*0x1af),this['dispatchVi'+'ewPos'](_0x50dad7['_node']['getPositio'+'n']()),_0x50dad7['frustum']['setFromMat'+'4'](ar);}this['tbnBasis']['setValue'](_0x1bdc35?-(-0x526+0x2079+-0x2*0xda9):-0x1a6*0x2+-0xb3+-0x1*-0x400);const _0x5d4a7c=_0x50dad7['_nearClip'],_0x5bfa14=_0x50dad7['_farClip'];return this['nearClipId']['setValue'](_0x5d4a7c),this['farClipId']['setValue'](_0x5bfa14),this['cameraPara'+'ms'][-0x277*0xe+0x1*-0x1b49+-0x3*-0x1499]=(0x1*0x272+-0x2072*-0x1+-0x22e3)/_0x5bfa14,this['cameraPara'+'ms'][0x266b+-0x1df*0x10+0x43d*-0x2]=_0x5bfa14,this['cameraPara'+'ms'][-0x2*0x639+-0xe25+0x26b*0xb]=_0x5d4a7c,this['cameraPara'+'ms'][-0x20d9+-0x1d75+0x3e51]=_0x50dad7['projection']===En?0xe2c+0x8bb+-0x16e6:0x2137+-0x1e7+-0x29c*0xc,this['cameraPara'+'msId']['setValue'](this['cameraPara'+'ms']),this['exposureId']['setValue'](this['scene']['physicalUn'+'its']?_0x50dad7['getExposur'+'e']():this['scene']['exposure']),_0x1ff2dd;}['clear'](_0x1c6ade,_0x18f366,_0x361a3a,_0x56b4a5){const _0x2d6d57=(_0x18f366??_0x1c6ade['_clearColo'+'rBuffer']?jo:-0x1*0xbfe+-0x6c7+0x9b*0x1f)|(_0x361a3a??_0x1c6ade['_clearDept'+'hBuffer']?Yo:0x2d5*0x3+0x4dc+0xd5b*-0x1)|(_0x56b4a5??_0x1c6ade['_clearSten'+'cilBuffer']?ch:-0x4*-0x904+-0x15d3*0x1+0x2d*-0x51);if(_0x2d6d57){const _0x369eab=this['device'];Q['pushGpuMar'+'ker'](_0x369eab,'CLEAR'),_0x369eab['clear']({'color':[_0x1c6ade['_clearColo'+'r']['r'],_0x1c6ade['_clearColo'+'r']['g'],_0x1c6ade['_clearColo'+'r']['b'],_0x1c6ade['_clearColo'+'r']['a']],'depth':_0x1c6ade['_clearDept'+'h'],'stencil':_0x1c6ade['_clearSten'+'cil'],'flags':_0x2d6d57}),Q['popGpuMark'+'er'](_0x369eab);}}['setCamera'](_0x25670d,_0x52e294,_0x420f70,_0x2e3b99=null){this['setCameraU'+'niforms'](_0x25670d,_0x52e294),this['clearView'](_0x25670d,_0x52e294,_0x420f70,!(0x1312*0x2+0x232e+0x1*-0x4951));}['clearView'](_0x13e7c5,_0x34e051,_0x3c538b,_0x14e2b3){const _0xa893aa=this['device'];if(Q['pushGpuMar'+'ker'](_0xa893aa,'CLEAR-VIEW'),_0xa893aa['setRenderT'+'arget'](_0x34e051),_0xa893aa['updateBegi'+'n'](),_0x14e2b3&&(_0xa893aa['setColorWr'+'ite'](!(-0x2653+-0x1a0*0x6+0x3013),!(0x7fe+0x2034+-0x2832),!(-0x883+0x5e+0x825),!(0x347*-0x1+-0x10f2+0x1439)),_0xa893aa['setDepthWr'+'ite'](!(0x1104+-0x422+-0xce2))),this['setupViewp'+'ort'](_0x13e7c5,_0x34e051),_0x3c538b){const _0x4adaf6=_0x13e7c5['_clearOpti'+'ons'];_0xa893aa['clear'](_0x4adaf6||{'color':[_0x13e7c5['_clearColo'+'r']['r'],_0x13e7c5['_clearColo'+'r']['g'],_0x13e7c5['_clearColo'+'r']['b'],_0x13e7c5['_clearColo'+'r']['a']],'depth':_0x13e7c5['_clearDept'+'h'],'flags':(_0x13e7c5['_clearColo'+'rBuffer']?jo:0x1476+-0x2bd*-0x6+-0x1*0x24e4)|(_0x13e7c5['_clearDept'+'hBuffer']?Yo:0x1cf4+0x116*-0x9+-0x132e)|(_0x13e7c5['_clearSten'+'cilBuffer']?ch:-0x2338+-0x82e+-0x3f2*-0xb),'stencil':_0x13e7c5['_clearSten'+'cil']});}Q['popGpuMark'+'er'](_0xa893aa);}['setupCullM'+'ode'](_0x177011,_0x40a307,_0x6440d8){const _0x3cdf40=_0x6440d8['material'];let _0x1f3213=bt;if(_0x177011){let _0x420212=0x1c*0xfd+-0x6*0x5f3+0x5*0x19b;(_0x3cdf40['cull']===Fo||_0x3cdf40['cull']===pa)&&(_0x420212=_0x40a307*_0x6440d8['flipFacesF'+'actor']*_0x6440d8['node']['worldScale'+'Sign']),_0x420212<-0x185a+0x1d3e+-0x4e4?_0x1f3213=_0x3cdf40['cull']===Fo?pa:Fo:_0x1f3213=_0x3cdf40['cull'];}this['device']['setCullMod'+'e'](_0x1f3213),_0x1f3213===bt&&_0x3cdf40['cull']===bt&&this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](_0x6440d8['node']['worldScale'+'Sign']);}['updateCame'+'raFrustum'](_0x538d30){if(_0x538d30['xr']&&_0x538d30['xr']['views']['list']['length']){const _0x399d3c=_0x538d30['xr']['views']['list'][-0x127a+-0x1*-0x128d+0x13*-0x1];ar['mul2'](_0x399d3c['projMat'],_0x399d3c['viewOffMat']),_0x538d30['frustum']['setFromMat'+'4'](ar);return;}const _0x2c0ac5=_0x538d30['projection'+'Matrix'];if(_0x538d30['calculateP'+'rojection']&&_0x538d30['calculateP'+'rojection'](_0x2c0ac5,ec),_0x538d30['calculateT'+'ransform'])_0x538d30['calculateT'+'ransform'](nr,ec);else{const _0x9ad6b2=_0x538d30['_node']['getPositio'+'n'](),_0x2224b4=_0x538d30['_node']['getRotatio'+'n']();nr['setTRS'](_0x9ad6b2,_0x2224b4,D['ONE']),this['viewInvId']['setValue'](nr['data']);}Oa['copy'](nr)['invert'](),ar['mul2'](_0x2c0ac5,Oa),_0x538d30['frustum']['setFromMat'+'4'](ar);}['setBaseCon'+'stants'](_0x5611d3,_0x12f093){_0x5611d3['setCullMod'+'e'](_0x12f093['cull']),_0x12f093['opacityMap']&&this['opacityMap'+'Id']['setValue'](_0x12f093['opacityMap']),(_0x12f093['opacityMap']||_0x12f093['alphaTest']>-0x1*-0xa51+-0x47*0x4c+0xac3)&&this['alphaTestI'+'d']['setValue'](_0x12f093['alphaTest']);}['updateCpuS'+'kinMatrice'+'s'](_0x321f91){nf++;const _0x351394=_0x321f91['length'];if(_0x351394===-0x7cd*0x4+-0x2*0x12ce+0x44d0)return;const _0x277071=de();for(let _0x37b4c0=0x20e2+0xf5*-0x1+-0x1fed;_0x37b4c0<_0x351394;_0x37b4c0++){const _0x3ebf96=_0x321f91[_0x37b4c0]['skinInstan'+'ce'];_0x3ebf96&&(_0x3ebf96['updateMatr'+'ices'](_0x321f91[_0x37b4c0]['node'],nf),_0x3ebf96['_dirty']=!(-0x1a6f+-0x273*-0x1+0x17fc));}this['_skinTime']+=de()-_0x277071;}['updateGpuS'+'kinMatrice'+'s'](_0x1ac3df){const _0x430a8c=de();for(const _0x8fa2b6 of _0x1ac3df){const _0x1308a5=_0x8fa2b6['skinInstan'+'ce'];_0x1308a5&&_0x1308a5['_dirty']&&(_0x1308a5['updateMatr'+'ixPalette'](_0x8fa2b6['node'],nf),_0x1308a5['_dirty']=!(0x1fc6+0x3*0x5+-0x1fd4));}this['_skinTime']+=de()-_0x430a8c;}['updateMorp'+'hing'](_0x31b210){const _0x5963e6=de();for(const _0x2e2b7c of _0x31b210){const _0x4c9309=_0x2e2b7c['morphInsta'+'nce'];_0x4c9309&&_0x4c9309['_dirty']&&_0x4c9309['update']();}this['_morphTime']+=de()-_0x5963e6;}['updateGSpl'+'ats'](_0x76cb56){var _0x362e7c;for(const _0x1fdf05 of _0x76cb56)(_0x362e7c=_0x1fdf05['gsplatInst'+'ance'])==null||_0x362e7c['update']();}['gpuUpdate'](_0x29db36){this['updateGpuS'+'kinMatrice'+'s'](_0x29db36),this['updateMorp'+'hing'](_0x29db36),this['updateGSpl'+'ats'](_0x29db36);}['setVertexB'+'uffers'](_0x3497be,_0x3c9c75){_0x3497be['setVertexB'+'uffer'](_0x3c9c75['vertexBuff'+'er']);}['setMorphin'+'g'](_0x2ac10a,_0x5a3e6f){_0x5a3e6f&&(_0x5a3e6f['prepareRen'+'dering'](_0x2ac10a),_0x2ac10a['setVertexB'+'uffer'](_0x5a3e6f['morph']['vertexBuff'+'erIds']),this['morphPosit'+'ionTex']['setValue'](_0x5a3e6f['texturePos'+'itions']),this['morphNorma'+'lTex']['setValue'](_0x5a3e6f['textureNor'+'mals']),this['morphTexPa'+'rams']['setValue'](_0x5a3e6f['_texturePa'+'rams']));}['setSkinnin'+'g'](_0x504697,_0x5de241){const _0x205232=_0x5de241['skinInstan'+'ce'];if(_0x205232){this['_skinDrawC'+'alls']++;const _0x1edf67=_0x205232['boneTextur'+'e'];this['boneTextur'+'eId']['setValue'](_0x1edf67);}}['dispatchVi'+'ewPos'](_0x43993c){const _0x9d2db0=this['viewPos'];_0x9d2db0[-0x1d12+-0x16d9+-0x33eb*-0x1]=_0x43993c['x'],_0x9d2db0[-0x2e6*0x9+-0xcb+0x1ae2]=_0x43993c['y'],_0x9d2db0[0x1753*-0x1+0x187a+0x125*-0x1]=_0x43993c['z'],this['viewPosId']['setValue'](_0x9d2db0);}['initViewBi'+'ndGroupFor'+'mat'](_0x142218){if(this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']){const _0x872927=[new dt('matrix_vie'+'w',li),new dt('matrix_vie'+'wInverse',li),new dt('matrix_pro'+'jection',li),new dt('matrix_pro'+'jectionSky'+'box',li),new dt('matrix_vie'+'wProjectio'+'n',li),new dt('matrix_vie'+'w3',On),new dt('cubeMapRot'+'ationMatri'+'x',On),new dt('view_posit'+'ion',ds),new dt('skyboxInte'+'nsity',Xs),new dt('exposure',Xs),new dt('textureBia'+'s',Xs),new dt('view_index',Xs)];_0x142218&&_0x872927['push'](new dt('clusterCel'+'lsCountByB'+'oundsSize',ds),new dt('clusterTex'+'tureSize',ds),new dt('clusterBou'+'ndsMin',ds),new dt('clusterBou'+'ndsDelta',ds),new dt('clusterCel'+'lsDot',ds),new dt('clusterCel'+'lsMax',ds),new dt('shadowAtla'+'sParams',ga),new dt('clusterMax'+'Cells',_a),new dt('clusterSki'+'p',Xs)),this['viewUnifor'+'mFormat']=new zy(this['device'],_0x872927);const _0x253996=[new kp(Np,Fp|by)];this['viewBindGr'+'oupFormat']=new Ny(this['device'],_0x253996);}}['setupViewU'+'niforms'](_0x23741e,_0x23cf28){this['projId']['setValue'](_0x23741e['projMat']['data']),this['projSkybox'+'Id']['setValue'](_0x23741e['projMat']['data']),this['viewId']['setValue'](_0x23741e['viewOffMat']['data']),this['viewInvId']['setValue'](_0x23741e['viewInvOff'+'Mat']['data']),this['viewId3']['setValue'](_0x23741e['viewMat3']['data']),this['viewProjId']['setValue'](_0x23741e['projViewOf'+'fMat']['data']),this['viewPosId']['setValue'](_0x23741e['positionDa'+'ta']),this['viewIndexI'+'d']['setValue'](_0x23cf28);}['setupViewU'+'niformBuff'+'ers'](_0x16c842,_0x7f3c74,_0x219428,_0x569e6f){w['assert'](Array['isArray'](_0x16c842),'viewBindGr'+'oups\x20must\x20'+'be\x20an\x20arra'+'y');const {device:_0x2d00cc}=this,_0x130077=(_0x569e6f==null?void(0x2581+0x4a+0x2d*-0xd7):_0x569e6f['length'])??-0x13b+0x2046+-0x89*0x3a;for(;_0x16c842['length']<_0x130077;){const _0x11cf24=new zp(_0x2d00cc,_0x7f3c74,!(-0x1bd5+0x156f+0x667)),_0x4a2033=new Up(_0x2d00cc,_0x219428,_0x11cf24);Ea['setName'](_0x4a2033,'ViewBindGr'+'oup_'+_0x4a2033['id']),_0x16c842['push'](_0x4a2033);}if(_0x569e6f)for(let _0x40d2b9=-0x25ef+0x1*-0xbe5+-0x6*-0x84e;_0x40d2b9<_0x130077;_0x40d2b9++){const _0x4c5725=_0x569e6f[_0x40d2b9];this['setupViewU'+'niforms'](_0x4c5725,_0x40d2b9);const _0x2324e5=_0x16c842[_0x40d2b9];_0x2324e5['defaultUni'+'formBuffer']['update'](),_0x2324e5['update']();}else{const _0x5959a5=_0x16c842[-0x1*0x131f+-0x5*-0x798+0x1*-0x12d9];_0x5959a5['defaultUni'+'formBuffer']['update'](),_0x5959a5['update']();}_0x569e6f||_0x2d00cc['setBindGro'+'up'](rl,_0x16c842[0x1*0x26ae+-0x1*0x254c+0x6*-0x3b]);}['setupMeshU'+'niformBuff'+'ers'](_0x26ab06){const _0x573125=this['device'];if(_0x573125['supportsUn'+'iformBuffe'+'rs']){const _0x18c9f5=_0x26ab06['getBindGro'+'up'](_0x573125);_0x18c9f5['update'](),_0x573125['setBindGro'+'up'](Oy,_0x18c9f5),_0x26ab06['getUniform'+'Buffer'](_0x573125)['update'](hf),_0x573125['setBindGro'+'up'](su,hf['bindGroup'],hf['offsets']);}}['setMeshIns'+'tanceMatri'+'ces'](_0x541003,_0x46d3aa=!(0x1*-0xc1d+0x1cd+-0x13*-0x8b)){const _0x4bae6b=_0x541003['node']['worldTrans'+'form'];this['modelMatri'+'xId']['setValue'](_0x4bae6b['data']),_0x46d3aa&&this['normalMatr'+'ixId']['setValue'](_0x541003['node']['normalMatr'+'ix']['data']);}['cull'](_0x3646f7,_0x34d9cf,_0x23e944){const _0x3aeb2b=de(),_0x4b182a=_0x23e944['opaque'];_0x4b182a['length']=-0x1aae+-0x19*-0x167+-0x861*0x1;const _0x419302=_0x23e944['transparen'+'t'];_0x419302['length']=0x13f9+0x83*-0x22+-0x293;const _0x13bded=_0x3646f7['frustumCul'+'ling'],_0x18f175=_0x34d9cf['length'];for(let _0x305202=0x23*0x10c+-0xdb3+-0x16f1;_0x305202<_0x18f175;_0x305202++){const _0x640b6b=_0x34d9cf[_0x305202];_0x640b6b['visible']&&(!_0x13bded||!_0x640b6b['cull']||_0x640b6b['_isVisible'](_0x3646f7))&&(_0x640b6b['visibleThi'+'sFrame']=!(0x602*0x1+-0x40*-0x49+-0x1842),(_0x640b6b['transparen'+'t']?_0x419302:_0x4b182a)['push'](_0x640b6b),(_0x640b6b['skinInstan'+'ce']||_0x640b6b['morphInsta'+'nce']||_0x640b6b['gsplatInst'+'ance'])&&(this['processing'+'MeshInstan'+'ces']['add'](_0x640b6b),_0x640b6b['gsplatInst'+'ance']&&_0x640b6b['gsplatInst'+'ance']['cameras']['push'](_0x3646f7)));}this['_cullTime']+=de()-_0x3aeb2b,this['_numDrawCa'+'llsCulled']+=_0x13bded?_0x18f175:-0x801+0x1*0x2345+-0x1b44;}['collectLig'+'hts'](_0x3c9bcf){this['lights']['length']=-0xb11+-0x3d3+-0x772*-0x2,this['localLight'+'s']['length']=-0x58b*-0x5+-0x4a1+-0x1716;const _0x438163=this['scene']['_stats'];_0x438163['dynamicLig'+'hts']=-0x16*-0x8a+-0x131b+0x73f,_0x438163['bakedLight'+'s']=-0xdb8+-0xb9*0xb+0x15ab;const _0x218934=_0x3c9bcf['layerList']['length'];for(let _0xf5850f=0x1a7d+-0x141a+-0x5*0x147;_0xf5850f<_0x218934;_0xf5850f++){const _0x1574bc=_0x3c9bcf['layerList'][_0xf5850f];if(!cf['has'](_0x1574bc)){cf['add'](_0x1574bc);const _0x365a1a=_0x1574bc['_lights'];for(let _0x4cb8e7=0x1ca*-0xb+0x3*-0x3ee+0x1*0x1f78;_0x4cb8e7<_0x365a1a['length'];_0x4cb8e7++){const _0x3996e4=_0x365a1a[_0x4cb8e7];lf['has'](_0x3996e4)||(lf['add'](_0x3996e4),this['lights']['push'](_0x3996e4),_0x3996e4['_type']!==ve&&this['localLight'+'s']['push'](_0x3996e4),(_0x3996e4['mask']&Ss||_0x3996e4['mask']&di)&&_0x438163['dynamicLig'+'hts']++,_0x3996e4['mask']&fi&&_0x438163['bakedLight'+'s']++);}}}_0x438163['lights']=this['lights']['length'],lf['clear'](),cf['clear']();}['cullLights'](_0x399884,_0x4418cd){const _0x349f57=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x38b6db=this['scene']['physicalUn'+'its'];for(let _0x468c23=-0x1165*-0x2+-0x1*0x144d+-0xe7d;_0x468c23<_0x4418cd['length'];_0x468c23++){const _0x5dceb0=_0x4418cd[_0x468c23];if(_0x5dceb0['enabled']){if(_0x5dceb0['_type']!==ve){if(_0x5dceb0['getBoundin'+'gSphere'](of),_0x399884['frustum']['containsSp'+'here'](of)){_0x5dceb0['visibleThi'+'sFrame']=!(-0x12a2*-0x1+0x4b0+0x7c6*-0x3),_0x5dceb0['usePhysica'+'lUnits']=_0x38b6db;const _0x21d934=_0x399884['getScreenS'+'ize'](of);_0x5dceb0['maxScreenS'+'ize']=Math['max'](_0x5dceb0['maxScreenS'+'ize'],_0x21d934);}else _0x349f57||_0x5dceb0['castShadow'+'s']&&!_0x5dceb0['shadowMap']&&(_0x5dceb0['visibleThi'+'sFrame']=!(-0x230b*0x1+-0x90d+-0x14c*-0x22));}else _0x5dceb0['usePhysica'+'lUnits']=this['scene']['physicalUn'+'its'];}}}['cullShadow'+'maps'](_0x3f069a){const _0x5da874=this['scene']['clusteredL'+'ightingEna'+'bled'];for(let _0x8a1954=0x948+0x20ae+-0x29f6;_0x8a1954<this['localLight'+'s']['length'];_0x8a1954++){const _0x3d2077=this['localLight'+'s'][_0x8a1954];_0x3d2077['_type']!==ve&&(_0x5da874?_0x3d2077['atlasSlotU'+'pdated']&&_0x3d2077['shadowUpda'+'teMode']===Ps&&(_0x3d2077['shadowUpda'+'teMode']=xr):_0x3d2077['shadowUpda'+'teMode']===Ps&&_0x3d2077['castShadow'+'s']&&(_0x3d2077['getRenderD'+'ata'](null,-0x2*0xa71+-0x27*-0x3a+0xc0c)['shadowCame'+'ra']['renderTarg'+'et']||(_0x3d2077['shadowUpda'+'teMode']=xr)),_0x3d2077['visibleThi'+'sFrame']&&_0x3d2077['castShadow'+'s']&&_0x3d2077['shadowUpda'+'teMode']!==Ps&&this['_shadowRen'+'dererLocal']['cull'](_0x3d2077,_0x3f069a));}this['cameraDirS'+'hadowLight'+'s']['clear']();const _0x4e9646=_0x3f069a['cameras'];for(let _0x29e643=0x22*0xe3+-0x1a19+-0x40d;_0x29e643<_0x4e9646['length'];_0x29e643++){const _0x38061f=_0x4e9646[_0x29e643];if(_0x38061f['enabled']){const _0x30e067=_0x38061f['camera'];let _0x4d7eb7;const _0x376552=_0x30e067['layers'];for(let _0x54dfc2=0xdb6+-0x47*-0x9+-0x567*0x3;_0x54dfc2<_0x376552['length'];_0x54dfc2++){const _0x2f29eb=_0x3f069a['getLayerBy'+'Id'](_0x376552[_0x54dfc2]);if(_0x2f29eb){const _0x2e975c=_0x2f29eb['splitLight'+'s'][ve];for(let _0x4f5337=-0xd3*-0x2b+-0x342+-0x202f;_0x4f5337<_0x2e975c['length'];_0x4f5337++){const _0x3eb611=_0x2e975c[_0x4f5337];_0x3eb611['castShadow'+'s']&&!Fa['has'](_0x3eb611)&&(Fa['add'](_0x3eb611),_0x4d7eb7=_0x4d7eb7??[],_0x4d7eb7['push'](_0x3eb611),this['_shadowRen'+'dererDirec'+'tional']['cull'](_0x3eb611,_0x3f069a,_0x30e067));}}}_0x4d7eb7&&this['cameraDirS'+'hadowLight'+'s']['set'](_0x30e067,_0x4d7eb7),Fa['clear']();}}}['cullCompos'+'ition'](_0x3cefc0){const _0x2f3978=de(),{scene:_0x1cb234}=this;this['processing'+'MeshInstan'+'ces']['clear']();const _0x3fcd1a=_0x3cefc0['cameras']['length'];this['_camerasRe'+'ndered']+=_0x3fcd1a;for(let _0x157835=-0x1afc+0x5*0x358+-0x291*-0x4;_0x157835<_0x3fcd1a;_0x157835++){const _0x396b30=_0x3cefc0['cameras'][_0x157835];_0x1cb234==null||_0x1cb234['fire'](mv,_0x396b30);const _0x236d43=_0x396b30['renderTarg'+'et'];_0x396b30['frameUpdat'+'e'](_0x236d43),this['updateCame'+'raFrustum'](_0x396b30['camera']);const _0x3ea0ae=_0x396b30['layers'];for(let _0x2ecd4c=-0x1*-0xa39+0x28*0x1c+-0x1*0xe99;_0x2ecd4c<_0x3ea0ae['length'];_0x2ecd4c++){const _0x168242=_0x3cefc0['getLayerBy'+'Id'](_0x3ea0ae[_0x2ecd4c]);if(_0x168242&&_0x168242['enabled']){this['cullLights'](_0x396b30['camera'],_0x168242['_lights']);const _0x387e0c=_0x168242['getCulledI'+'nstances'](_0x396b30['camera']);this['cull'](_0x396b30['camera'],_0x168242['meshInstan'+'ces'],_0x387e0c);}}_0x1cb234==null||_0x1cb234['fire'](_v,_0x396b30);}_0x1cb234['clusteredL'+'ightingEna'+'bled']&&this['updateLigh'+'tTextureAt'+'las'](),this['cullShadow'+'maps'](_0x3cefc0),_0x1cb234==null||_0x1cb234['fire'](lE),this['_cullTime']+=de()-_0x2f3978;}['updateShad'+'ers'](_0x30a08f,_0xf515a4){const _0x2955d7=_0x30a08f['length'];for(let _0x573402=0x1*0x16bd+-0x1d75+-0xac*-0xa;_0x573402<_0x2955d7;_0x573402++){const _0xde70b=_0x30a08f[_0x573402]['material'];if(_0xde70b&&!Fa['has'](_0xde70b)&&(Fa['add'](_0xde70b),_0xde70b['getShaderV'+'ariant']!==tr['prototype']['getShaderV'+'ariant'])){if(_0xf515a4&&(!_0xde70b['useLightin'+'g']||_0xde70b['emitter']&&!_0xde70b['emitter']['lighting']))continue;_0xde70b['clearVaria'+'nts']();}}Fa['clear']();}['updateFram'+'eUniforms'](){this['blueNoiseT'+'extureId']['setValue'](Pb(this['device']));}['beginFrame'](_0x346b6b){const _0x36ec4c=this['scene'],_0x2c11f5=_0x36ec4c['updateShad'+'ers']||this['device']['_shadersDi'+'rty'];let _0x42d640=0x1*0x1085+-0x18fd+-0x878*-0x1;const _0x1931ca=_0x346b6b['layerList'],_0x43489a=_0x1931ca['length'];for(let _0x4bc6e4=-0x49*0x12+0x466*0x1+0xbc;_0x4bc6e4<_0x43489a;_0x4bc6e4++){const _0x2d7984=_0x1931ca[_0x4bc6e4]['meshInstan'+'ces'],_0x15df39=_0x2d7984['length'];_0x42d640+=_0x15df39;for(let _0x1e60d9=0x1416*0x1+0xef9+-0x167*0x19;_0x1e60d9<_0x15df39;_0x1e60d9++){const _0x5a58c3=_0x2d7984[_0x1e60d9];_0x5a58c3['visibleThi'+'sFrame']=!(-0x91e*0x4+-0x1c49+0x40c2),_0x2c11f5&&df['push'](_0x5a58c3),_0x5a58c3['skinInstan'+'ce']&&ff['push'](_0x5a58c3);}}if(_0x36ec4c['_stats']['meshInstan'+'ces']=_0x42d640,_0x2c11f5){const _0x1b3bd0=!_0x36ec4c['updateShad'+'ers']||!this['device']['_shadersDi'+'rty'];this['updateShad'+'ers'](df,_0x1b3bd0),_0x36ec4c['updateShad'+'ers']=!(0x7*0x35f+-0x1950+-0x2*-0xdc),this['device']['_shadersDi'+'rty']=!(-0x25*0x2f+0x1650+-0xc*0x14b),_0x36ec4c['_shaderVer'+'sion']++;}this['updateFram'+'eUniforms'](),this['updateCpuS'+'kinMatrice'+'s'](ff),df['length']=-0x2493+0x24e2*-0x1+0xeb1*0x5,ff['length']=-0x64f+0x10a6+-0x1*0xa57;const _0x2576d5=this['lights'],_0x2d2377=_0x2576d5['length'];for(let _0x30af8a=0x2f0*-0x5+-0x1e9c+0x2d4c;_0x30af8a<_0x2d2377;_0x30af8a++)_0x2576d5[_0x30af8a]['beginFrame']();}['updateLigh'+'tTextureAt'+'las'](){this['lightTextu'+'reAtlas']['update'](this['localLight'+'s'],this['scene']['lighting']);}['updateLaye'+'rCompositi'+'on'](_0x82c569){const _0x42d6ee=de(),_0x50c382=_0x82c569['layerList']['length'],_0xe0995c=this['scene']['_shaderVer'+'sion'];for(let _0x2888e3=-0x1357*0x2+0x1*0x2245+0x469;_0x2888e3<_0x50c382;_0x2888e3++){const _0x5e5de5=_0x82c569['layerList'][_0x2888e3];_0x5e5de5['_shaderVer'+'sion']=_0xe0995c,_0x5e5de5['_skipRende'+'rCounter']=0x6f*0x29+0x1*0x2f+-0x11f6,_0x5e5de5['_forwardDr'+'awCalls']=0x1*0xb17+0x26f1+-0x3208,_0x5e5de5['_shadowDra'+'wCalls']=-0x4*0x794+-0x16b+0x1fbb*0x1,_0x5e5de5['_renderTim'+'e']=-0x3e3*-0x2+-0x2076+0x18b0;}_0x82c569['_update'](),this['_layerComp'+'ositionUpd'+'ateTime']+=de()-_0x42d6ee;}['frameUpdat'+'e'](){this['clustersDe'+'bugRendere'+'d']=!(-0xb*0x362+-0x102d+0x6*0x8e6),this['initViewBi'+'ndGroupFor'+'mat'](this['scene']['clusteredL'+'ightingEna'+'bled']),this['dirLightSh'+'adows']['clear']();}}class Pv{constructor(){h(this,'camera',null),(this['layer']=null,this['transparen'+'t']=!(0x597+0x1897+0x67*-0x4b),this['renderTarg'+'et']=null,this['lightClust'+'ers']=null,this['clearColor']=!(-0xdc+-0x8d*0x39+0x2042*0x1),this['clearDepth']=!(-0x2*0x7c4+-0x3d4*0x7+0x2a55),this['clearStenc'+'il']=!(-0x6f2+0x1a4a*-0x1+0x213d),this['triggerPos'+'tprocess']=!(0x2533+0x22b7+0x29*-0x1c1),this['firstCamer'+'aUse']=!(0x13d3+-0x2635+0x9*0x20b),this['lastCamera'+'Use']=!(0xd37*-0x1+-0x587*-0x1+0xb3*0xb),this['viewBindGr'+'oups']=[],this['useCameraP'+'asses']=!(-0x17e*0x19+-0x17f*0x11+-0x3*-0x14ea));}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x12feda=>{_0x12feda['defaultUni'+'formBuffer']['destroy'](),_0x12feda['destroy']();}),this['viewBindGr'+'oups']['length']=0x22eb+0x50a+-0x27f5*0x1;}['setupClear'+'s'](_0x1faa74,_0x4b0015){this['clearColor']=(_0x1faa74==null?void(-0x9*-0x3ce+0x19e*0x14+0x3b3*-0x12):_0x1faa74['clearColor'+'Buffer'])||_0x4b0015['clearColor'+'Buffer'],this['clearDepth']=(_0x1faa74==null?void(0x17e0*0x1+0x6f*0x45+0x125*-0x2f):_0x1faa74['clearDepth'+'Buffer'])||_0x4b0015['clearDepth'+'Buffer'],this['clearStenc'+'il']=(_0x1faa74==null?void(0x2*-0x66b+0x1d7e+-0x148*0xd):_0x1faa74['clearStenc'+'ilBuffer'])||_0x4b0015['clearStenc'+'ilBuffer'];}}class Kb extends ys{constructor(_0xe57246,_0x2ac693,_0xe572c8,_0xdc1d48){super(_0xe57246),h(this,'layerCompo'+'sition'),h(this,'scene'),h(this,'renderer'),h(this,'renderActi'+'ons',[]),h(this,'gammaCorre'+'ction'),h(this,'toneMappin'+'g'),h(this,'noDepthCle'+'ar',!(-0x266a+-0x6c2+0x2d2d)),(this['layerCompo'+'sition']=_0x2ac693,this['scene']=_0xe572c8,this['renderer']=_0xdc1d48);}get['rendersAny'+'thing'](){return this['renderActi'+'ons']['length']>0x1*0x411+-0x1a38+0x1627;}['addRenderA'+'ction'](_0x1771c7){this['renderActi'+'ons']['push'](_0x1771c7);}['addLayer'](_0x1c8489,_0x2419e6,_0x455fd3,_0x3b12cb=!(-0x1*0x1bdd+0x1288+-0x955*-0x1)){w['assert'](_0x1c8489),w['assert'](this['renderTarg'+'et']!==void(-0x116f*-0x1+0x4a*-0x1a+0x9eb*-0x1),'Render\x20pas'+'s\x20needs\x20to'+'\x20be\x20initia'+'lized\x20befo'+'re\x20adding\x20'+'layers'),w['assert'](_0x1c8489['camera']['layersSet']['has'](_0x2419e6['id']),'Camera\x20'+_0x1c8489['entity']['name']+('\x20does\x20not\x20'+'render\x20lay'+'er\x20')+_0x2419e6['name']+'.');const _0x45464f=new Pv();if(_0x45464f['renderTarg'+'et']=this['renderTarg'+'et'],_0x45464f['camera']=_0x1c8489,_0x45464f['layer']=_0x2419e6,_0x45464f['transparen'+'t']=_0x455fd3,_0x3b12cb){const _0x462d8e=this['renderActi'+'ons']['length']===0xad*0x2+0x18cf+-0x1a29;_0x45464f['setupClear'+'s'](_0x462d8e?_0x1c8489:void(-0x2054+0x1050+0x1004),_0x2419e6);}this['addRenderA'+'ction'](_0x45464f);}['addLayers'](_0x3d5ffa,_0x29056f,_0x5be24a,_0x457a45,_0x57d1b9,_0x52d2f8=!(-0x1a78+-0x1*-0x17f+0x18f9)){const {layerList:_0x9a607b,subLayerList:_0x190400}=_0x3d5ffa;let _0x3be72d=_0x457a45,_0x4f519b=_0x5be24a;for(;_0x4f519b<_0x9a607b['length'];){const _0x150987=_0x9a607b[_0x4f519b],_0xbf71a3=_0x190400[_0x4f519b];if(_0x29056f['camera']['layersSet']['has'](_0x150987['id'])&&(this['addLayer'](_0x29056f,_0x150987,_0xbf71a3,_0x3be72d),_0x3be72d=!(-0x595+0x1d7+-0x3bf*-0x1)),_0x4f519b++,_0x150987['id']===_0x57d1b9&&_0xbf71a3===_0x52d2f8)break;}return _0x4f519b;}['updateDire'+'ctionalSha'+'dows'](){const {renderer:_0x1122e,renderActions:_0x288158}=this;for(let _0x393182=-0x1*-0x1603+-0x2148+-0x5*-0x241;_0x393182<_0x288158['length'];_0x393182++){const _0x3825c6=_0x288158[_0x393182]['camera']['camera'],_0x3c01ad=this['renderer']['cameraDirS'+'hadowLight'+'s']['get'](_0x3825c6);if(_0x3c01ad)for(let _0x14ff7c=-0x1*-0x25+-0x125*0x16+-0xdd*-0x1d;_0x14ff7c<_0x3c01ad['length'];_0x14ff7c++){const _0x11a6aa=_0x3c01ad[_0x14ff7c];if(_0x1122e['dirLightSh'+'adows']['get'](_0x11a6aa)!==_0x3825c6){_0x1122e['dirLightSh'+'adows']['set'](_0x11a6aa,_0x3825c6);const _0xc48258=_0x1122e['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x11a6aa,_0x3825c6);_0xc48258&&this['beforePass'+'es']['push'](_0xc48258);}}}}['updateClea'+'rs'](){const _0x49208a=this['renderActi'+'ons'][0x1ffb+0x261b+-0x4616*0x1];if(_0x49208a){const _0x1aaf74=_0x49208a['camera']['camera'],_0x5ef5a2=_0x1aaf74['fullSizeCl'+'earRect'];this['setClearCo'+'lor'](_0x5ef5a2&&_0x49208a['clearColor']?_0x1aaf74['clearColor']:void(0x11e9+-0x1*-0xd33+-0x1f1c*0x1)),this['setClearDe'+'pth'](_0x5ef5a2&&_0x49208a['clearDepth']&&!this['noDepthCle'+'ar']?_0x1aaf74['clearDepth']:void(-0x2066+-0x2*0xfc3+0x3fec)),this['setClearSt'+'encil'](_0x5ef5a2&&_0x49208a['clearStenc'+'il']?_0x1aaf74['clearStenc'+'il']:void(-0xde9+-0x1*0x1277+0x94*0x38));}}['frameUpdat'+'e'](){super['frameUpdat'+'e'](),this['updateDire'+'ctionalSha'+'dows'](),this['updateClea'+'rs']();}['before'](){const {renderActions:_0x95691e}=this;for(let _0x2a3d0a=-0xd67*0x2+-0x3d9*-0x1+0x28d*0x9;_0x2a3d0a<_0x95691e['length'];_0x2a3d0a++){const _0x245bba=_0x95691e[_0x2a3d0a];_0x245bba['firstCamer'+'aUse']&&this['scene']['fire'](rE,_0x245bba['camera']);}}['execute'](){const {layerComposition:_0xe4dc9b,renderActions:_0x26bbc8}=this;for(let _0x27801a=0x1*0x2709+-0x9*-0x2ab+0xc9c*-0x5;_0x27801a<_0x26bbc8['length'];_0x27801a++){const _0x3452e1=_0x26bbc8[_0x27801a],_0xcc7ebe=_0x3452e1['layer'];w['call'](()=>{_0xe4dc9b['getLayerBy'+'Name'](_0xcc7ebe['name'])||w['warnOnce']('Layer\x20'+_0xcc7ebe['name']+('\x20is\x20not\x20fo'+'und\x20in\x20the'+'\x20scene\x20and'+'\x20will\x20not\x20'+'be\x20rendere'+'d.\x20Your\x20re'+'nder\x20pass\x20'+'setup\x20migh'+'t\x20need\x20to\x20'+'be\x20updated'+'.'));}),_0xe4dc9b['isEnabled'](_0xcc7ebe,_0x3452e1['transparen'+'t'])&&this['renderRend'+'erAction'](_0x3452e1,_0x27801a===-0x19*0x3d+-0xb57*-0x1+-0x562);}}['after'](){for(let _0x2714f7=-0x69f+0x9*0x30e+0x14df*-0x1;_0x2714f7<this['renderActi'+'ons']['length'];_0x2714f7++){const _0x586c2f=this['renderActi'+'ons'][_0x2714f7];_0x586c2f['lastCamera'+'Use']&&this['scene']['fire'](aE,_0x586c2f['camera']);}this['beforePass'+'es']['length']=0xe0e+-0x3e0+-0xa2e;}['renderRend'+'erAction'](_0x14f2ac,_0x19a887){var _0x3020bb;const {renderer:_0x479865,scene:_0xf7560c}=this,_0x30f27b=_0x479865['device'],{layer:_0x33506a,transparent:_0x2d1ecc,camera:_0x468bf0}=_0x14f2ac;Q['pushGpuMar'+'ker'](this['device'],'Camera:\x20'+(_0x468bf0?_0x468bf0['entity']['name']:'Unnamed')+',\x20Layer:\x20'+_0x33506a['name']+'('+(_0x2d1ecc?'TRANSP':'OPAQUE')+')');const _0x5dc426=de();if(_0x468bf0){const _0x550b89=_0x468bf0['gammaCorre'+'ction'],_0x2e3186=_0x468bf0['toneMappin'+'g'];this['gammaCorre'+'ction']!==void(-0x1f85+0x144a+0xb3b)&&(_0x468bf0['gammaCorre'+'ction']=this['gammaCorre'+'ction']),this['toneMappin'+'g']!==void(0x1*-0x1362+0x5*0x568+0xb2*-0xb)&&(_0x468bf0['toneMappin'+'g']=this['toneMappin'+'g']),_0xf7560c['fire'](nE,_0x468bf0,_0x33506a,_0x2d1ecc);const _0x4746dc={'lightClusters':_0x14f2ac['lightClust'+'ers']},_0x35aff2=((_0x3020bb=_0x468bf0['camera']['shaderPass'+'Info'])==null?void(-0x1*-0xc29+0x97*-0x35+0x3d2*0x5):_0x3020bb['index'])??Aa;(!_0x19a887||!_0x468bf0['camera']['fullSizeCl'+'earRect'])&&(_0x4746dc['clearColor']=_0x14f2ac['clearColor'],_0x4746dc['clearDepth']=_0x14f2ac['clearDepth'],_0x4746dc['clearStenc'+'il']=_0x14f2ac['clearStenc'+'il']);const _0x59736b=_0x14f2ac['renderTarg'+'et']??_0x30f27b['backBuffer'];_0x479865['renderForw'+'ardLayer'](_0x468bf0['camera'],_0x59736b,_0x33506a,_0x2d1ecc,_0x35aff2,_0x14f2ac['viewBindGr'+'oups'],_0x4746dc),_0x30f27b['setBlendSt'+'ate'](pt['NOBLEND']),_0x30f27b['setStencil'+'State'](null,null),_0x30f27b['setAlphaTo'+'Coverage'](!(0x1*0x20c3+-0x8c*-0x13+-0x2b26)),_0xf7560c['fire'](oE,_0x468bf0,_0x33506a,_0x2d1ecc),this['gammaCorre'+'ction']!==void(0x19*0x56+0x1*0x1bdb+-0x1*0x2441)&&(_0x468bf0['gammaCorre'+'ction']=_0x550b89),this['toneMappin'+'g']!==void(0x10d0+-0x2392+0x12c2)&&(_0x468bf0['toneMappin'+'g']=_0x2e3186);}Q['popGpuMark'+'er'](this['device']),_0x33506a['_renderTim'+'e']+=de()-_0x5dc426;}['log'](_0x4983b9,_0xa90984){if(super['log'](_0x4983b9,_0xa90984),mi['get'](cn)){const {layerComposition:_0x36b602}=this;this['renderActi'+'ons']['forEach']((_0x10dad3,_0x473319)=>{const _0x5a8341=_0x10dad3['layer'],_0xb17d1d=_0x5a8341['enabled']&&_0x36b602['isEnabled'](_0x5a8341,_0x10dad3['transparen'+'t']),_0x1ea703=_0x10dad3['camera'];w['trace'](cn,'\x20\x20\x20\x20'+_0x473319+':'+('\x20Cam:\x20'+(_0x1ea703?_0x1ea703['entity']['name']:'-'))['padEnd'](-0x22e7*0x1+0x71*-0x37+0x3b44,'\x20')+('\x20Lay:\x20'+_0x5a8341['name'])['padEnd'](0x1*-0x1db+0xfe*0x14+-0x11e7,'\x20')+(_0x10dad3['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0xb17d1d?'\x20ENABLED':'\x20DISABLED')+('\x20Meshes:\x20'+_0x5a8341['meshInstan'+'ces']['length'])['padEnd'](0x2*-0x136d+0xb*-0x2ee+0x4719,'\x20'));});}}}class Zb extends ys{constructor(_0x84fdd4,_0x19b565,_0x37690e){super(_0x84fdd4),this['renderer']=_0x19b565,this['renderActi'+'on']=_0x37690e,this['requiresCu'+'bemaps']=!(0x1f73+0x15*0x7+-0x1*0x2005);}['execute'](){const _0x44cd54=this['renderActi'+'on'],_0x36f1c0=_0x44cd54['camera'];w['assert'](_0x44cd54['triggerPos'+'tprocess']&&_0x36f1c0['onPostproc'+'essing']),_0x36f1c0['onPostproc'+'essing']();}}const Qb=[[],[],[]],or=new ie(),Nr={'drawCalls':[],'shaderInstances':[],'isNewMaterial':[],'lightMaskChanged':[],'clear':function(){this['drawCalls']['length']=-0x1754+-0x224e+0x39a2,this['shaderInst'+'ances']['length']=0x2*-0x7db+-0xb51*-0x2+0x6ec*-0x1,this['isNewMater'+'ial']['length']=-0x1dad*-0x1+-0x3d*0x13+0x6*-0x431,this['lightMaskC'+'hanged']['length']=-0x9*0x33d+-0x2512+0x2e1*0x17;}};function Jb(_0x1d30b1){const _0xcf9b3a=[];for(let _0x1e0242=0x5a9+0x18a*-0xc+0xccf;_0x1e0242<_0x1d30b1;++_0x1e0242){const _0x1affec=Math['sqrt'](_0x1e0242+(-0xc0e+0x16b*0x1a+-0x18d0+0.5))/Math['sqrt'](_0x1d30b1);_0xcf9b3a['push'](_0x1affec);}return _0xcf9b3a;}function eA(_0x548e00){const _0x5ba249=[];for(let _0x5b94ff=0xede+0xb82+-0x1a60;_0x5b94ff<_0x548e00;_0x5b94ff++){const _0x186006=_0x5b94ff/_0x548e00,_0xe1276e=Math['sqrt'](_0x186006*_0x186006);_0x5ba249['push'](_0xe1276e);}return _0x5ba249;}const Ni=class Ni extends Yb{constructor(_0x94a023){super(_0x94a023);const _0xb40889=this['device'];this['_forwardDr'+'awCalls']=-0x1a6f*0x1+-0x23e0+0x3e4f,this['_materialS'+'witches']=-0x5d6+0x1*0x57a+0x5c,this['_depthMapT'+'ime']=-0xec0+-0x26bc+0x357c*0x1,this['_forwardTi'+'me']=-0x128f+0x5*0x9+0xd*0x16a,this['_sortTime']=-0x17ee+0x440+-0x9d7*-0x2;const _0x3fc375=_0xb40889['scope'];this['fogColorId']=_0x3fc375['resolve']('fog_color'),this['fogStartId']=_0x3fc375['resolve']('fog_start'),this['fogEndId']=_0x3fc375['resolve']('fog_end'),this['fogDensity'+'Id']=_0x3fc375['resolve']('fog_densit'+'y'),this['ambientId']=_0x3fc375['resolve']('light_glob'+'alAmbient'),this['skyboxInte'+'nsityId']=_0x3fc375['resolve']('skyboxInte'+'nsity'),this['cubeMapRot'+'ationMatri'+'xId']=_0x3fc375['resolve']('cubeMapRot'+'ationMatri'+'x'),this['pcssDiskSa'+'mplesId']=_0x3fc375['resolve']('pcssDiskSa'+'mples[0]'),this['pcssSphere'+'SamplesId']=_0x3fc375['resolve']('pcssSphere'+'Samples[0]'),this['lightColor'+'Id']=[],this['lightDir']=[],this['lightDirId']=[],this['lightShado'+'wMapId']=[],this['lightShado'+'wMatrixId']=[],this['lightShado'+'wParamsId']=[],this['lightShado'+'wIntensity']=[],this['lightRadiu'+'sId']=[],this['lightPos']=[],this['lightPosId']=[],this['lightWidth']=[],this['lightWidth'+'Id']=[],this['lightHeigh'+'t']=[],this['lightHeigh'+'tId']=[],this['lightInAng'+'leId']=[],this['lightOutAn'+'gleId']=[],this['lightCooki'+'eId']=[],this['lightCooki'+'eIntId']=[],this['lightCooki'+'eMatrixId']=[],this['lightCooki'+'eOffsetId']=[],this['lightShado'+'wSearchAre'+'aId']=[],this['lightCamer'+'aParamsId']=[],this['lightSoftS'+'hadowParam'+'sId']=[],this['shadowMatr'+'ixPaletteI'+'d']=[],this['shadowCasc'+'adeDistanc'+'esId']=[],this['shadowCasc'+'adeCountId']=[],this['shadowCasc'+'adeBlendId']=[],this['screenSize'+'Id']=_0x3fc375['resolve']('uScreenSiz'+'e'),this['_screenSiz'+'e']=new Float32Array(-0x4*-0x4be+0x27*-0xd+-0x5*0x365),this['fogColor']=new Float32Array(0x1*-0x838+-0x1*0x873+-0x1*-0x10ae),this['ambientCol'+'or']=new Float32Array(0xda0+0x1544*-0x1+0x7a7),this['pcssDiskSa'+'mples']=Jb(-0xcaf+0x129e+-0x1f5*0x3),this['pcssSphere'+'Samples']=eA(0x6c4+0x29*0x3d+-0x1079);}['destroy'](){super['destroy']();}['dispatchGl'+'obalLights'](_0x44e530){const _0x3811c7=this['ambientCol'+'or'];if(or['linear'](_0x44e530['ambientLig'+'ht']),_0x3811c7[0x1a42+0xe0e+-0x2850]=or['r'],_0x3811c7[-0x1c53+-0x145f+0x30b3]=or['g'],_0x3811c7[-0x137*0x1d+-0x816+-0xe71*-0x3]=or['b'],_0x44e530['physicalUn'+'its']){for(let _0x125c05=-0x1*0x443+-0x1fbf+0x2402;_0x125c05<-0x41b*0x1+0xe*-0x161+-0x5db*-0x4;_0x125c05++)_0x3811c7[_0x125c05]*=_0x44e530['ambientLum'+'inance'];}this['ambientId']['setValue'](_0x3811c7),this['skyboxInte'+'nsityId']['setValue'](_0x44e530['physicalUn'+'its']?_0x44e530['skyboxLumi'+'nance']:_0x44e530['skyboxInte'+'nsity']),this['cubeMapRot'+'ationMatri'+'xId']['setValue'](_0x44e530['_skyboxRot'+'ationMat3']['data']);}['_resolveLi'+'ght'](_0x34502d,_0x2184ee){const _0x1a96b3='light'+_0x2184ee;this['lightColor'+'Id'][_0x2184ee]=_0x34502d['resolve'](_0x1a96b3+'_color'),this['lightDir'][_0x2184ee]=new Float32Array(-0x8e*0x12+-0x7*0x581+0x3086),this['lightDirId'][_0x2184ee]=_0x34502d['resolve'](_0x1a96b3+'_direction'),this['lightShado'+'wMapId'][_0x2184ee]=_0x34502d['resolve'](_0x1a96b3+'_shadowMap'),this['lightShado'+'wMatrixId'][_0x2184ee]=_0x34502d['resolve'](_0x1a96b3+('_shadowMat'+'rix')),this['lightShado'+'wParamsId'][_0x2184ee]=_0x34502d['resolve'](_0x1a96b3+('_shadowPar'+'ams')),this['lightShado'+'wIntensity'][_0x2184ee]=_0x34502d['resolve'](_0x1a96b3+('_shadowInt'+'ensity')),this['lightShado'+'wSearchAre'+'aId'][_0x2184ee]=_0x34502d['resolve'](_0x1a96b3+('_shadowSea'+'rchArea')),this['lightRadiu'+'sId'][_0x2184ee]=_0x34502d['resolve'](_0x1a96b3+'_radius'),this['lightPos'][_0x2184ee]=new Float32Array(-0x3d5*0x9+-0xc8c+-0x2f0c*-0x1),this['lightPosId'][_0x2184ee]=_0x34502d['resolve'](_0x1a96b3+'_position'),this['lightWidth'][_0x2184ee]=new Float32Array(0xe54+0x1a45+-0x2896),this['lightWidth'+'Id'][_0x2184ee]=_0x34502d['resolve'](_0x1a96b3+'_halfWidth'),this['lightHeigh'+'t'][_0x2184ee]=new Float32Array(0x1742+0x1aa1*0x1+-0x4*0xc78),this['lightHeigh'+'tId'][_0x2184ee]=_0x34502d['resolve'](_0x1a96b3+('_halfHeigh'+'t')),this['lightInAng'+'leId'][_0x2184ee]=_0x34502d['resolve'](_0x1a96b3+('_innerCone'+'Angle')),this['lightOutAn'+'gleId'][_0x2184ee]=_0x34502d['resolve'](_0x1a96b3+('_outerCone'+'Angle')),this['lightCooki'+'eId'][_0x2184ee]=_0x34502d['resolve'](_0x1a96b3+'_cookie'),this['lightCooki'+'eIntId'][_0x2184ee]=_0x34502d['resolve'](_0x1a96b3+('_cookieInt'+'ensity')),this['lightCooki'+'eMatrixId'][_0x2184ee]=_0x34502d['resolve'](_0x1a96b3+('_cookieMat'+'rix')),this['lightCooki'+'eOffsetId'][_0x2184ee]=_0x34502d['resolve'](_0x1a96b3+('_cookieOff'+'set')),this['lightCamer'+'aParamsId'][_0x2184ee]=_0x34502d['resolve'](_0x1a96b3+('_cameraPar'+'ams')),this['lightSoftS'+'hadowParam'+'sId'][_0x2184ee]=_0x34502d['resolve'](_0x1a96b3+('_softShado'+'wParams')),this['shadowMatr'+'ixPaletteI'+'d'][_0x2184ee]=_0x34502d['resolve'](_0x1a96b3+('_shadowMat'+'rixPalette'+'[0]')),this['shadowCasc'+'adeDistanc'+'esId'][_0x2184ee]=_0x34502d['resolve'](_0x1a96b3+('_shadowCas'+'cadeDistan'+'ces')),this['shadowCasc'+'adeCountId'][_0x2184ee]=_0x34502d['resolve'](_0x1a96b3+('_shadowCas'+'cadeCount')),this['shadowCasc'+'adeBlendId'][_0x2184ee]=_0x34502d['resolve'](_0x1a96b3+('_shadowCas'+'cadeBlend'));}['setLTCDire'+'ctionalLig'+'ht'](_0x4259a2,_0x24568e,_0x286e23,_0x5c35e0,_0x1caf46){this['lightPos'][_0x24568e][0xc28+-0x3c4+-0xc*0xb3]=_0x5c35e0['x']-_0x286e23['x']*_0x1caf46,this['lightPos'][_0x24568e][-0x2423+-0x1*-0x24b8+-0x94]=_0x5c35e0['y']-_0x286e23['y']*_0x1caf46,this['lightPos'][_0x24568e][0x1f2f+-0x2*0x579+0x1*-0x143b]=_0x5c35e0['z']-_0x286e23['z']*_0x1caf46,this['lightPosId'][_0x24568e]['setValue'](this['lightPos'][_0x24568e]);const _0x595ad2=_0x4259a2['transformV'+'ector'](new D(-(-0x179b+-0x139e+-0x1*-0x2b39+0.5),0x1999+0x242f+0x8*-0x7b9,-0xe07+0x2268+0x1*-0x1461));this['lightWidth'][_0x24568e][0x25a6+-0x1*0x373+-0x203*0x11]=_0x595ad2['x']*_0x1caf46,this['lightWidth'][_0x24568e][-0xe*-0x196+-0x9d*-0x30+-0x33a3]=_0x595ad2['y']*_0x1caf46,this['lightWidth'][_0x24568e][-0x23d6+0x1*0x2670+-0x298]=_0x595ad2['z']*_0x1caf46,this['lightWidth'+'Id'][_0x24568e]['setValue'](this['lightWidth'][_0x24568e]);const _0x1e4ebb=_0x4259a2['transformV'+'ector'](new D(0x1*-0x189d+0x82*-0x5+0x1b27,-0xcc3+0x39*0x49+-0x37e,0x6*0x56d+-0x245d+0x3cf+0.5));this['lightHeigh'+'t'][_0x24568e][0x1f*0x34+0x26*-0x3f+0x30e]=_0x1e4ebb['x']*_0x1caf46,this['lightHeigh'+'t'][_0x24568e][0x29*-0xa0+0x812*-0x3+0x31d7]=_0x1e4ebb['y']*_0x1caf46,this['lightHeigh'+'t'][_0x24568e][-0x24da+-0x1403+0xd3*0x45]=_0x1e4ebb['z']*_0x1caf46,this['lightHeigh'+'tId'][_0x24568e]['setValue'](this['lightHeigh'+'t'][_0x24568e]);}['dispatchDi'+'rectLights'](_0x36305a,_0x1f6cf7,_0x46c33e){let _0x2d7b7e=0x185c+0x828+-0x2084;const _0xeae48c=this['device']['scope'];for(let _0x329c63=0x1c59+-0x2fc+-0x97*0x2b;_0x329c63<_0x36305a['length'];_0x329c63++){if(!(_0x36305a[_0x329c63]['mask']&_0x1f6cf7))continue;const _0x348b0e=_0x36305a[_0x329c63],_0x52949a=_0x348b0e['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x2d7b7e]||this['_resolveLi'+'ght'](_0xeae48c,_0x2d7b7e),this['lightColor'+'Id'][_0x2d7b7e]['setValue'](_0x348b0e['_colorLine'+'ar']),_0x52949a['getY'](_0x348b0e['_direction'])['mulScalar'](-(-0x585+-0x550+-0x1*-0xad6)),_0x348b0e['_direction']['normalize'](),this['lightDir'][_0x2d7b7e][-0x1526*-0x1+-0x176a+0x244*0x1]=_0x348b0e['_direction']['x'],this['lightDir'][_0x2d7b7e][-0x1*-0x7a2+-0x3d*0x2e+0x355]=_0x348b0e['_direction']['y'],this['lightDir'][_0x2d7b7e][-0xd4b*0x1+-0x9c*0x3+-0x1*-0xf21]=_0x348b0e['_direction']['z'],this['lightDirId'][_0x2d7b7e]['setValue'](this['lightDir'][_0x2d7b7e]),_0x348b0e['shape']!==Ys&&this['setLTCDire'+'ctionalLig'+'ht'](_0x52949a,_0x2d7b7e,_0x348b0e['_direction'],_0x46c33e['_node']['getPositio'+'n'](),_0x46c33e['farClip']),_0x348b0e['castShadow'+'s']){const _0x4a4547=_0x348b0e['getRenderD'+'ata'](_0x46c33e,0x1*0x1597+0x9b9*0x4+0x3*-0x1429),_0x2fb298=_0x348b0e['_getUnifor'+'mBiasValue'+'s'](_0x4a4547);this['lightShado'+'wMapId'][_0x2d7b7e]['setValue'](_0x4a4547['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x2d7b7e]['setValue'](_0x4a4547['shadowMatr'+'ix']['data']),this['shadowMatr'+'ixPaletteI'+'d'][_0x2d7b7e]['setValue'](_0x348b0e['_shadowMat'+'rixPalette']),this['shadowCasc'+'adeDistanc'+'esId'][_0x2d7b7e]['setValue'](_0x348b0e['_shadowCas'+'cadeDistan'+'ces']),this['shadowCasc'+'adeCountId'][_0x2d7b7e]['setValue'](_0x348b0e['numCascade'+'s']),this['shadowCasc'+'adeBlendId'][_0x2d7b7e]['setValue'](-0x4*-0x1fc+0x286*0xd+-0x28bd-_0x348b0e['cascadeBle'+'nd']),this['lightShado'+'wIntensity'][_0x2d7b7e]['setValue'](_0x348b0e['shadowInte'+'nsity']),this['lightSoftS'+'hadowParam'+'sId'][_0x2d7b7e]['setValue'](_0x348b0e['_softShado'+'wParams']),_0x4a4547['shadowCame'+'ra']['renderTarg'+'et']&&this['lightShado'+'wSearchAre'+'aId'][_0x2d7b7e]['setValue'](_0x348b0e['penumbraSi'+'ze']/_0x4a4547['shadowCame'+'ra']['renderTarg'+'et']['width']*_0x4a4547['projection'+'Compensati'+'on']);const _0xd4d255=_0x348b0e['_shadowCam'+'eraParams'];_0xd4d255['length']=-0x440+-0x20ab*-0x1+-0xb*0x295,_0xd4d255[0x6f3+0x2*0xb1d+-0x1d2d]=0x1dc6+-0x35*0x69+-0x809,_0xd4d255[-0x2a8+0x13*-0x167+0x1d4e]=_0x4a4547['shadowCame'+'ra']['_farClip'],_0xd4d255[0x132c+-0x1*-0x849+-0x1b73]=_0x4a4547['shadowCame'+'ra']['_nearClip'],_0xd4d255[0x2*-0x4af+-0x1*0x1b69+0x24ca]=-0x99d+0x64b*-0x1+0x1*0xfe9,this['lightCamer'+'aParamsId'][_0x2d7b7e]['setValue'](_0xd4d255);const _0x3b0ad4=_0x348b0e['_shadowRen'+'derParams'];_0x3b0ad4['length']=0x2b*-0x5e+-0x1771+-0x33*-0xc5,_0x3b0ad4[-0xec3+-0x9d2+0x1895]=_0x348b0e['_shadowRes'+'olution'],_0x3b0ad4[0x121*-0x17+-0x1cb5+0x36ad]=_0x2fb298['normalBias'],_0x3b0ad4[-0x1aca+0x7b*0x25+0x905]=_0x2fb298['bias'],_0x3b0ad4[-0xa8*-0x34+-0xd7f+-0x179*0xe]=0x27a+-0x2*0x10c7+0x1f14,this['lightShado'+'wParamsId'][_0x2d7b7e]['setValue'](_0x3b0ad4);}_0x2d7b7e++;}return _0x2d7b7e;}['setLTCPosi'+'tionalLigh'+'t'](_0x20e33e,_0x45ed85){const _0x573603=_0x20e33e['transformV'+'ector'](new D(-(-0x19d2*0x1+0xf5a+0x1*0xa78+0.5),0x11e7*0x1+-0x121b+0x34,0x24a7+0xbcb*-0x3+-0x146));this['lightWidth'][_0x45ed85][-0x65*0xe+0x1*-0xd75+0x12fb]=_0x573603['x'],this['lightWidth'][_0x45ed85][-0x26be+-0x15*-0x185+0x6d6]=_0x573603['y'],this['lightWidth'][_0x45ed85][-0xc12+-0x1d44*0x1+0x2958]=_0x573603['z'],this['lightWidth'+'Id'][_0x45ed85]['setValue'](this['lightWidth'][_0x45ed85]);const _0x15e939=_0x20e33e['transformV'+'ector'](new D(0x1c79*0x1+-0xfe2+-0x1*0xc97,-0x9d0+-0x1*0x17f+0xf*0xc1,0x23c5+-0x1c*-0x7d+-0x3171+0.5));this['lightHeigh'+'t'][_0x45ed85][-0x162*0x2+-0x2447+0x270b]=_0x15e939['x'],this['lightHeigh'+'t'][_0x45ed85][-0x10b*-0x1+0x539*-0x4+0x13da]=_0x15e939['y'],this['lightHeigh'+'t'][_0x45ed85][-0x26bd+0x1560+0x115f]=_0x15e939['z'],this['lightHeigh'+'tId'][_0x45ed85]['setValue'](this['lightHeigh'+'t'][_0x45ed85]);}['dispatchOm'+'niLight'](_0x436104,_0x4bbb6b,_0x4fce73){const _0x1bda88=_0x4bbb6b['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x4fce73]||this['_resolveLi'+'ght'](_0x436104,_0x4fce73),this['lightRadiu'+'sId'][_0x4fce73]['setValue'](_0x4bbb6b['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x4fce73]['setValue'](_0x4bbb6b['_colorLine'+'ar']),_0x1bda88['getTransla'+'tion'](_0x4bbb6b['_position']),this['lightPos'][_0x4fce73][0x1*-0x19b5+0x1*-0x725+-0x349*-0xa]=_0x4bbb6b['_position']['x'],this['lightPos'][_0x4fce73][0x1711+-0x3*0xb29+-0x379*-0x3]=_0x4bbb6b['_position']['y'],this['lightPos'][_0x4fce73][0x652+0x5a*-0x61+-0x1bca*-0x1]=_0x4bbb6b['_position']['z'],this['lightPosId'][_0x4fce73]['setValue'](this['lightPos'][_0x4fce73]),_0x4bbb6b['shape']!==Ys&&this['setLTCPosi'+'tionalLigh'+'t'](_0x1bda88,_0x4fce73),_0x4bbb6b['castShadow'+'s']){const _0x1bdf86=_0x4bbb6b['getRenderD'+'ata'](null,-0xc83*0x1+-0x15c6+0x2249);this['lightShado'+'wMapId'][_0x4fce73]['setValue'](_0x1bdf86['shadowBuff'+'er']);const _0x51b810=_0x4bbb6b['_getUnifor'+'mBiasValue'+'s'](_0x1bdf86),_0x522cd2=_0x4bbb6b['_shadowRen'+'derParams'];_0x522cd2['length']=-0x1*-0x2275+0x12d*0x19+-0x1feb*0x2,_0x522cd2[-0x1462+0x1a7c+-0x61a]=_0x4bbb6b['_shadowRes'+'olution'],_0x522cd2[-0x168b+0xdbd*-0x1+0x7*0x52f]=_0x51b810['normalBias'],_0x522cd2[0x1fa1+-0x1*0x1d0e+-0x3*0xdb]=_0x51b810['bias'],_0x522cd2[-0x5f*0x34+-0x1808+0x7*0x631]=(0x1*-0x93+-0x90b*-0x1+-0x877)/_0x4bbb6b['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x4fce73]['setValue'](_0x522cd2),this['lightShado'+'wIntensity'][_0x4fce73]['setValue'](_0x4bbb6b['shadowInte'+'nsity']);const _0x3f2df3=_0x4bbb6b['penumbraSi'+'ze']/_0x1bdf86['shadowCame'+'ra']['renderTarg'+'et']['width'];this['lightShado'+'wSearchAre'+'aId'][_0x4fce73]['setValue'](_0x3f2df3);const _0x42540e=_0x4bbb6b['_shadowCam'+'eraParams'];_0x42540e['length']=-0x1c43+-0xa0c*-0x3+-0x35*0x9,_0x42540e[0x11f9*0x1+0x1d32+-0x2f2b]=0x12b+0x93*-0x18+0xc9d,_0x42540e[-0x59*-0x3a+-0x1346*0x2+0x1*0x1263]=_0x1bdf86['shadowCame'+'ra']['_farClip'],_0x42540e[0x65b+0x1475*-0x1+-0xac*-0x15]=_0x1bdf86['shadowCame'+'ra']['_nearClip'],_0x42540e[-0x4c3+-0xcbb*0x1+0x1181]=0x95f+0x24c1+-0x120*0x29,this['lightCamer'+'aParamsId'][_0x4fce73]['setValue'](_0x42540e);}_0x4bbb6b['_cookie']&&(this['lightCooki'+'eId'][_0x4fce73]['setValue'](_0x4bbb6b['_cookie']),this['lightShado'+'wMatrixId'][_0x4fce73]['setValue'](_0x1bda88['data']),this['lightCooki'+'eIntId'][_0x4fce73]['setValue'](_0x4bbb6b['cookieInte'+'nsity']));}['dispatchSp'+'otLight'](_0x47de0e,_0x17fe70,_0x393d57){const _0x3f9c3b=_0x17fe70['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x393d57]||this['_resolveLi'+'ght'](_0x47de0e,_0x393d57),this['lightInAng'+'leId'][_0x393d57]['setValue'](_0x17fe70['_innerCone'+'AngleCos']),this['lightOutAn'+'gleId'][_0x393d57]['setValue'](_0x17fe70['_outerCone'+'AngleCos']),this['lightRadiu'+'sId'][_0x393d57]['setValue'](_0x17fe70['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x393d57]['setValue'](_0x17fe70['_colorLine'+'ar']),_0x3f9c3b['getTransla'+'tion'](_0x17fe70['_position']),this['lightPos'][_0x393d57][-0xfae+-0x13*-0x95+0x5b*0xd]=_0x17fe70['_position']['x'],this['lightPos'][_0x393d57][-0x2*-0xb99+-0x22*-0x2d+-0x39*0x83]=_0x17fe70['_position']['y'],this['lightPos'][_0x393d57][-0x1*-0xa6d+-0x1*0x851+-0x21a]=_0x17fe70['_position']['z'],this['lightPosId'][_0x393d57]['setValue'](this['lightPos'][_0x393d57]),_0x17fe70['shape']!==Ys&&this['setLTCPosi'+'tionalLigh'+'t'](_0x3f9c3b,_0x393d57),_0x3f9c3b['getY'](_0x17fe70['_direction'])['mulScalar'](-(-0x2556+-0x1dbe+0x4315)),_0x17fe70['_direction']['normalize'](),this['lightDir'][_0x393d57][0x1128+0x1058*0x2+-0x31d8]=_0x17fe70['_direction']['x'],this['lightDir'][_0x393d57][-0x1*0x319+0x534*-0x6+0x17e*0x17]=_0x17fe70['_direction']['y'],this['lightDir'][_0x393d57][0x168a+-0x4c6+-0x11c2]=_0x17fe70['_direction']['z'],this['lightDirId'][_0x393d57]['setValue'](this['lightDir'][_0x393d57]),_0x17fe70['castShadow'+'s']){const _0x48ac57=_0x17fe70['getRenderD'+'ata'](null,-0x23*0xeb+0x249a+0x5*-0xe5);this['lightShado'+'wMapId'][_0x393d57]['setValue'](_0x48ac57['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x393d57]['setValue'](_0x48ac57['shadowMatr'+'ix']['data']);const _0x17e13a=_0x17fe70['_getUnifor'+'mBiasValue'+'s'](_0x48ac57),_0x132bf8=_0x17fe70['_shadowRen'+'derParams'];_0x132bf8['length']=0x17f9+-0x236*-0xc+0xa19*-0x5,_0x132bf8[-0x1d9b*0x1+-0xb51*0x3+0x3f8e]=_0x17fe70['_shadowRes'+'olution'],_0x132bf8[0x9d4+0xc*-0x216+-0xe5*-0x11]=_0x17e13a['normalBias'],_0x132bf8[-0x18da+-0x7b6+-0x1049*-0x2]=_0x17e13a['bias'],_0x132bf8[-0x50b*-0x3+0xe*0x1c1+0x13d6*-0x2]=(0x117a+-0x1eae+0xd35)/_0x17fe70['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x393d57]['setValue'](_0x132bf8),this['lightShado'+'wIntensity'][_0x393d57]['setValue'](_0x17fe70['shadowInte'+'nsity']);const _0x2e8829=_0x17fe70['penumbraSi'+'ze']/_0x48ac57['shadowCame'+'ra']['renderTarg'+'et']['width'],_0x53cd8d=_0x48ac57['shadowCame'+'ra']['_fov']*Math['PI']/(-0x12c*0x10+-0x1*-0xf31+0x443),_0x4c7bd9=(0x23a1+-0x24b*-0x7+-0x33ad)/Math['tan'](_0x53cd8d/(0x16a1+-0x1c4f*0x1+0x5b0));this['lightShado'+'wSearchAre'+'aId'][_0x393d57]['setValue'](_0x2e8829*_0x4c7bd9);const _0x15265a=_0x17fe70['_shadowCam'+'eraParams'];_0x15265a['length']=0xc*-0x1f+0x1*-0xf37+-0x1*-0x10af,_0x15265a[-0x4*-0x149+-0x24e2+0x1fbe]=-0x59*-0x37+-0x1279+0x53*-0x2,_0x15265a[-0x1*0x112f+-0x436*0x3+0x16*0x15b]=_0x48ac57['shadowCame'+'ra']['_farClip'],_0x15265a[0x99e*-0x2+-0x1d*-0x46+-0xb5*-0x10]=_0x48ac57['shadowCame'+'ra']['_nearClip'],_0x15265a[-0x9f*0x3b+-0x1*0x1ec+0x337*0xc]=-0x1af4+-0x1*0x267d+0x4171,this['lightCamer'+'aParamsId'][_0x393d57]['setValue'](_0x15265a);}if(_0x17fe70['_cookie']){if(!_0x17fe70['castShadow'+'s']){const _0x5089ed=Wn['evalSpotCo'+'okieMatrix'](_0x17fe70);this['lightShado'+'wMatrixId'][_0x393d57]['setValue'](_0x5089ed['data']);}this['lightCooki'+'eId'][_0x393d57]['setValue'](_0x17fe70['_cookie']),this['lightCooki'+'eIntId'][_0x393d57]['setValue'](_0x17fe70['cookieInte'+'nsity']),_0x17fe70['_cookieTra'+'nsform']&&(_0x17fe70['_cookieTra'+'nsformUnif'+'orm'][-0x12e1+0x6b5+0xc2c]=_0x17fe70['_cookieTra'+'nsform']['x'],_0x17fe70['_cookieTra'+'nsformUnif'+'orm'][0xb*-0x211+-0x2dc+0xfc*0x1a]=_0x17fe70['_cookieTra'+'nsform']['y'],_0x17fe70['_cookieTra'+'nsformUnif'+'orm'][-0x1*-0x10ad+-0x109e+-0xd*0x1]=_0x17fe70['_cookieTra'+'nsform']['z'],_0x17fe70['_cookieTra'+'nsformUnif'+'orm'][0x59*-0x62+0x1e21+0x3f4]=_0x17fe70['_cookieTra'+'nsform']['w'],this['lightCooki'+'eMatrixId'][_0x393d57]['setValue'](_0x17fe70['_cookieTra'+'nsformUnif'+'orm']),_0x17fe70['_cookieOff'+'setUniform'][0x1a8e+-0x3*-0x7cd+-0x31f5]=_0x17fe70['_cookieOff'+'set']['x'],_0x17fe70['_cookieOff'+'setUniform'][0x1e67+-0xcf*-0x1d+-0x35d9]=_0x17fe70['_cookieOff'+'set']['y'],this['lightCooki'+'eOffsetId'][_0x393d57]['setValue'](_0x17fe70['_cookieOff'+'setUniform']));}}['dispatchLo'+'calLights'](_0x20c019,_0x337dd,_0x3af4de){let _0x305472=_0x3af4de;const _0x1c8eec=this['device']['scope'],_0x1c1e45=_0x20c019[Ke],_0x22b719=_0x1c1e45['length'];for(let _0x930101=-0x2206+0x106a+0x119c;_0x930101<_0x22b719;_0x930101++){const _0x593762=_0x1c1e45[_0x930101];_0x593762['mask']&_0x337dd&&(this['dispatchOm'+'niLight'](_0x1c8eec,_0x593762,_0x305472),_0x305472++);}const _0x4e0245=_0x20c019[Ze],_0x2aad62=_0x4e0245['length'];for(let _0x297c3a=-0x2*-0x1045+-0x37a+-0x1d10;_0x297c3a<_0x2aad62;_0x297c3a++){const _0x23d443=_0x4e0245[_0x297c3a];_0x23d443['mask']&_0x337dd&&(this['dispatchSp'+'otLight'](_0x1c8eec,_0x23d443,_0x305472),_0x305472++);}}['renderForw'+'ardPrepare'+'Materials'](_0x14b027,_0x317102,_0x5b156b,_0x13874e,_0x4eb0e6,_0x4b1d2b){const _0x5f1749=_0x14b027['fogParams']??this['scene']['fog'],_0x3f989f=_0x14b027['shaderPara'+'ms'];_0x3f989f['fog']=_0x5f1749['type'],_0x3f989f['srgbRender'+'Target']=(_0x317102==null?void(0x3be+-0x9fe+-0x14*-0x50):_0x317102['isColorBuf'+'ferSrgb'](-0xe2f*0x2+-0x94*0x8+0x20fe))??!(-0x6*0x22d+0xcac+0x63);const _0x537ca4=(_0x3dbf26,_0x3b4380,_0x1fe039,_0x3a0afe)=>{Nr['drawCalls']['push'](_0x3dbf26),Nr['shaderInst'+'ances']['push'](_0x3b4380),Nr['isNewMater'+'ial']['push'](_0x1fe039),Nr['lightMaskC'+'hanged']['push'](_0x3a0afe);};Nr['clear']();const _0x1d3430=this['device'],_0x25ecf6=this['scene'],_0x369960=_0x25ecf6['clusteredL'+'ightingEna'+'bled'],_0x4f5c73=(_0x4eb0e6==null?void(0x8cb+-0x1f*-0xa9+-0x1d42):_0x4eb0e6['getLightHa'+'sh'](_0x369960))??0x1dd5*-0x1+0x23b5+-0x2f*0x20;let _0x2d3fb5=null,_0x155f42,_0x11b17a;const _0x115dd9=_0x5b156b['length'];for(let _0x1ac94b=-0x158d*-0x1+-0x251+-0x133c;_0x1ac94b<_0x115dd9;_0x1ac94b++){const _0x53a5df=_0x5b156b[_0x1ac94b];if(_0x14b027===Ni['skipRender'+'Camera']){if(Ni['_skipRende'+'rCounter']>=Ni['skipRender'+'After'])continue;Ni['_skipRende'+'rCounter']++;}if(_0x4eb0e6){if(_0x4eb0e6['_skipRende'+'rCounter']>=_0x4eb0e6['skipRender'+'After'])continue;_0x4eb0e6['_skipRende'+'rCounter']++;}const _0x16045e=_0x53a5df['instancing'+'Data'];if(_0x16045e&&_0x16045e['count']<=-0x743+0x25b2+-0x1e6f)continue;_0x53a5df['ensureMate'+'rial'](_0x1d3430);const _0x1c66a5=_0x53a5df['material'],_0x175914=_0x53a5df['_shaderDef'+'s'],_0x11db5a=_0x53a5df['mask'];_0x1c66a5&&_0x1c66a5===_0x2d3fb5&&_0x175914!==_0x155f42&&(_0x2d3fb5=null),_0x1c66a5!==_0x2d3fb5&&(this['_materialS'+'witches']++,_0x1c66a5['_scene']=_0x25ecf6,_0x1c66a5['dirty']&&(Q['pushGpuMar'+'ker'](_0x1d3430,'Node:\x20'+_0x53a5df['node']['name']+(',\x20Material'+':\x20')+_0x1c66a5['name']),_0x1c66a5['updateUnif'+'orms'](_0x1d3430,_0x25ecf6),_0x1c66a5['dirty']=!(0x5*0x709+-0x1277+-0x10b5),Q['popGpuMark'+'er'](_0x1d3430)));const _0x5781bd=_0x53a5df['getShaderI'+'nstance'](_0x4b1d2b,_0x4f5c73,_0x25ecf6,_0x3f989f,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x13874e);_0x537ca4(_0x53a5df,_0x5781bd,_0x1c66a5!==_0x2d3fb5,!_0x2d3fb5||_0x11db5a!==_0x11b17a),_0x2d3fb5=_0x1c66a5,_0x155f42=_0x175914,_0x11b17a=_0x11db5a;}return Nr;}['renderForw'+'ardInterna'+'l'](_0x1112fc,_0x5a6d7a,_0x14b8c5,_0x2b3b9a,_0x424846,_0x4a6463,_0x18cabc){var _0x4ba3d,_0x3078c5;const _0x41493f=this['device'],_0x10f490=this['scene'],_0x339d5d=0x11bb+-0x4*-0x1b6+0xa*-0x275<<_0x2b3b9a,_0x3761d6=_0x4a6463?-(-0x1*0x165e+0x1636*0x1+0x29):0x15d0+0x1dc2+0x3391*-0x1,_0x1cb64e=_0x10f490['clusteredL'+'ightingEna'+'bled'],_0x371034=(_0x4ba3d=_0x1112fc['xr'])!=null&&_0x4ba3d['session']&&_0x1112fc['xr']['views']['list']['length']?_0x1112fc['xr']['views']['list']:null,_0x269fda=_0x5a6d7a['drawCalls']['length'];for(let _0x3870fd=0x2649+-0xa6c+-0x1bdd;_0x3870fd<_0x269fda;_0x3870fd++){const _0x43feb3=_0x5a6d7a['drawCalls'][_0x3870fd],_0x28642e=_0x5a6d7a['isNewMater'+'ial'][_0x3870fd],_0x555bca=_0x5a6d7a['lightMaskC'+'hanged'][_0x3870fd],_0x42f787=_0x5a6d7a['shaderInst'+'ances'][_0x3870fd],_0x4ce055=_0x43feb3['material'],_0x27eb0f=_0x43feb3['mask'];if(_0x42f787['shader']['failed'])continue;if(_0x28642e){if(_0x41493f['setShader'](_0x42f787['shader'],!(-0x2358+0xffd*0x1+-0x6*-0x33a)),_0x4ce055['setParamet'+'ers'](_0x41493f),_0x555bca){const _0x1f1d68=this['dispatchDi'+'rectLights'](_0x14b8c5[ve],_0x27eb0f,_0x1112fc);_0x1cb64e||this['dispatchLo'+'calLights'](_0x14b8c5,_0x27eb0f,_0x1f1d68);}this['alphaTestI'+'d']['setValue'](_0x4ce055['alphaTest']),_0x41493f['setBlendSt'+'ate'](_0x4ce055['blendState']),_0x41493f['setDepthSt'+'ate'](_0x4ce055['depthState']),_0x41493f['setAlphaTo'+'Coverage'](_0x4ce055['alphaToCov'+'erage']);}Q['pushGpuMar'+'ker'](_0x41493f,'Node:\x20'+_0x43feb3['node']['name']+(',\x20Material'+':\x20')+_0x4ce055['name']),this['setupCullM'+'ode'](_0x1112fc['_cullFaces'],_0x3761d6,_0x43feb3);const _0x32187e=_0x43feb3['stencilFro'+'nt']??_0x4ce055['stencilFro'+'nt'],_0xe9f401=_0x43feb3['stencilBac'+'k']??_0x4ce055['stencilBac'+'k'];_0x41493f['setStencil'+'State'](_0x32187e,_0xe9f401),_0x43feb3['setParamet'+'ers'](_0x41493f,_0x339d5d),_0x41493f['scope']['resolve']('meshInstan'+'ceId')['setValue'](_0x43feb3['id']);const _0x553b79=_0x43feb3['mesh'];this['setVertexB'+'uffers'](_0x41493f,_0x553b79),this['setMorphin'+'g'](_0x41493f,_0x43feb3['morphInsta'+'nce']),this['setSkinnin'+'g'](_0x41493f,_0x43feb3);const _0x1ded03=_0x43feb3['instancing'+'Data'];_0x1ded03&&_0x41493f['setVertexB'+'uffer'](_0x1ded03['vertexBuff'+'er']),this['setMeshIns'+'tanceMatri'+'ces'](_0x43feb3,!(-0x57*0x5+0x3*0x189+-0x2e8)),this['setupMeshU'+'niformBuff'+'ers'](_0x42f787);const _0x531ec6=_0x43feb3['renderStyl'+'e'],_0x55f251=_0x553b79['indexBuffe'+'r'][_0x531ec6];_0x424846==null||_0x424846(_0x43feb3,_0x3870fd);const _0x43ded9=(_0x3078c5=_0x43feb3['indirectDa'+'ta'])==null?void(-0x606*0x1+0x2c2*-0x6+0x1692):_0x3078c5['get'](_0x1112fc);if(_0x371034)for(let _0x3c3c78=-0x66f*0x2+0x2*-0xef8+0x2ace*0x1;_0x3c3c78<_0x371034['length'];_0x3c3c78++){const _0xe2a162=_0x371034[_0x3c3c78];if(_0x41493f['setViewpor'+'t'](_0xe2a162['viewport']['x'],_0xe2a162['viewport']['y'],_0xe2a162['viewport']['z'],_0xe2a162['viewport']['w']),_0x41493f['supportsUn'+'iformBuffe'+'rs']){const _0x887ae7=_0x18cabc[_0x3c3c78];_0x41493f['setBindGro'+'up'](rl,_0x887ae7);}else this['setupViewU'+'niforms'](_0xe2a162,_0x3c3c78);const _0x1e5c70=_0x3c3c78===-0x13e0+0x32e*-0xc+0x1358*0x3,_0x8bf194=_0x3c3c78===_0x371034['length']-(0x16d8+0xcb5*-0x1+-0xa22);_0x41493f['draw'](_0x553b79['primitive'][_0x531ec6],_0x55f251,_0x1ded03==null?void(0x117d+0x1*0x1db9+-0x2f36):_0x1ded03['count'],_0x43ded9,_0x1e5c70,_0x8bf194),this['_forwardDr'+'awCalls']++,_0x43feb3['instancing'+'Data']&&this['_instanced'+'DrawCalls']++;}else _0x41493f['draw'](_0x553b79['primitive'][_0x531ec6],_0x55f251,_0x1ded03==null?void(-0x268d+-0x52e+0x2bbb):_0x1ded03['count'],_0x43ded9),this['_forwardDr'+'awCalls']++,_0x43feb3['instancing'+'Data']&&this['_instanced'+'DrawCalls']++;_0x3870fd<_0x269fda-(0x468+-0xa0f+0x5a8)&&!_0x5a6d7a['isNewMater'+'ial'][_0x3870fd+(0x96e+-0x1a*0xf6+0xf8f)]&&_0x4ce055['setParamet'+'ers'](_0x41493f,_0x43feb3['parameters']),Q['popGpuMark'+'er'](_0x41493f);}}['renderForw'+'ard'](_0x58d573,_0x577535,_0x53b8db,_0x4aa6c8,_0x20b8ce,_0x2c6755,_0x265b4e,_0x22d5f7,_0x5808f5){const _0xf1910f=de(),_0x501e71=this['renderForw'+'ardPrepare'+'Materials'](_0x58d573,_0x577535,_0x53b8db,_0x4aa6c8,_0x265b4e,_0x20b8ce);this['renderForw'+'ardInterna'+'l'](_0x58d573,_0x501e71,_0x4aa6c8,_0x20b8ce,_0x2c6755,_0x22d5f7,_0x5808f5),Nr['clear'](),this['_forwardTi'+'me']+=de()-_0xf1910f;}['renderForw'+'ardLayer'](_0x15b353,_0x3546ba,_0x3e7e36,_0x230545,_0x14b803,_0x309497,_0x504880={}){const {scene:_0x1c0807,device:_0x3d3982}=this,_0x16442b=_0x1c0807['clusteredL'+'ightingEna'+'bled'];this['setupViewp'+'ort'](_0x15b353,_0x3546ba);let _0xea6726,_0x25b9a2;if(_0x3e7e36){const _0x1e060e=de();_0x3e7e36['sortVisibl'+'e'](_0x15b353,_0x230545),this['_sortTime']+=de()-_0x1e060e;const _0x24313a=_0x3e7e36['getCulledI'+'nstances'](_0x15b353);_0xea6726=_0x230545?_0x24313a['transparen'+'t']:_0x24313a['opaque'],_0x1c0807['immediate']['onPreRende'+'rLayer'](_0x3e7e36,_0xea6726,_0x230545),_0x3e7e36['requiresLi'+'ghtCube']&&(this['lightCube']['update'](_0x1c0807['ambientLig'+'ht'],_0x3e7e36['_lights']),this['constantLi'+'ghtCube']['setValue'](this['lightCube']['colors'])),_0x25b9a2=_0x3e7e36['splitLight'+'s'];}else _0xea6726=_0x504880['meshInstan'+'ces'],_0x25b9a2=_0x504880['splitLight'+'s']??Qb;if(w['assert'](_0xea6726,'Either\x20lay'+'er\x20or\x20opti'+'ons.meshIn'+'stances\x20mu'+'st\x20be\x20prov'+'ided'),_0x16442b){const _0x546186=_0x504880['lightClust'+'ers']??this['worldClust'+'ersAllocat'+'or']['empty'];_0x546186['activate'](),_0x3e7e36&&!this['clustersDe'+'bugRendere'+'d']&&_0x1c0807['lighting']['debugLayer']===_0x3e7e36['id']&&(this['clustersDe'+'bugRendere'+'d']=!(0xfec+0xccb+0x1*-0x1cb7),hu['render'](_0x546186,this['scene']));}_0x1c0807['_activeCam'+'era']=_0x15b353;const _0x37d116=_0x15b353['fogParams']??this['scene']['fog'];this['setFogCons'+'tants'](_0x37d116);const _0x5f0688=this['setCameraU'+'niforms'](_0x15b353,_0x3546ba);_0x3d3982['supportsUn'+'iformBuffe'+'rs']&&this['setupViewU'+'niformBuff'+'ers'](_0x309497,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x5f0688);const _0x2ac30c=_0x504880['clearColor']??!(0x157d*0x1+-0x1*-0x67f+-0x1bfb),_0x183d47=_0x504880['clearDepth']??!(-0x92e+-0x1*0xffd+0x432*0x6),_0x27d8cc=_0x504880['clearStenc'+'il']??!(0x259b+-0x2e*-0xb3+-0x45c4);(_0x2ac30c||_0x183d47||_0x27d8cc)&&this['clear'](_0x15b353,_0x2ac30c,_0x183d47,_0x27d8cc);const _0x41a80b=!!(_0x15b353['_flipFaces']^(_0x3546ba==null?void(0xeaa+0xb49+0xd*-0x1ff):_0x3546ba['flipY'])),_0x51eee1=this['_forwardDr'+'awCalls'];this['renderForw'+'ard'](_0x15b353,_0x3546ba,_0xea6726,_0x25b9a2,_0x14b803,null,_0x3e7e36,_0x41a80b,_0x309497),_0x3e7e36&&(_0x3e7e36['_forwardDr'+'awCalls']+=this['_forwardDr'+'awCalls']-_0x51eee1);}['setFogCons'+'tants'](_0x5de2cf){if(_0x5de2cf['type']!==Kn){or['linear'](_0x5de2cf['color']);const _0xbaca7e=this['fogColor'];_0xbaca7e[-0xefc+-0x1135+0x3*0xabb]=or['r'],_0xbaca7e[0xf0a+0x527+-0x1430]=or['g'],_0xbaca7e[0x1bbd+-0xb*0x37+-0x195e]=or['b'],this['fogColorId']['setValue'](_0xbaca7e),_0x5de2cf['type']===Iw?(this['fogStartId']['setValue'](_0x5de2cf['start']),this['fogEndId']['setValue'](_0x5de2cf['end'])):this['fogDensity'+'Id']['setValue'](_0x5de2cf['density']);}}['setSceneCo'+'nstants'](){const _0x3e1e02=this['scene'];this['dispatchGl'+'obalLights'](_0x3e1e02);const _0x511be8=this['device'];this['_screenSiz'+'e'][-0x8*0x144+-0x1463+0x1e83]=_0x511be8['width'],this['_screenSiz'+'e'][0x7c2+-0x1*0x513+-0x2ae]=_0x511be8['height'],this['_screenSiz'+'e'][0x1c49+-0x31*0x9b+0x164]=(-0x1ac2+-0x1bb*-0x1+0x1908)/_0x511be8['width'],this['_screenSiz'+'e'][0x71*0x35+0x1*0x830+-0x1f92]=(-0x18c+0xd64*-0x1+0xef1)/_0x511be8['height'],this['screenSize'+'Id']['setValue'](this['_screenSiz'+'e']),this['pcssDiskSa'+'mplesId']['setValue'](this['pcssDiskSa'+'mples']),this['pcssSphere'+'SamplesId']['setValue'](this['pcssSphere'+'Samples']);}['buildFrame'+'Graph'](_0x1be49b,_0x299fca){const _0x1e4ac5=this['scene'];if(_0x1be49b['reset'](),_0x1e4ac5['clusteredL'+'ightingEna'+'bled']){const {shadowsEnabled:_0x3dc5a9,cookiesEnabled:_0x506395}=_0x1e4ac5['lighting'];this['_renderPas'+'sUpdateClu'+'stered']['update'](_0x1be49b,_0x3dc5a9,_0x506395,this['lights'],this['localLight'+'s']),_0x1be49b['addRenderP'+'ass'](this['_renderPas'+'sUpdateClu'+'stered']);}else this['_shadowRen'+'dererLocal']['buildNonCl'+'usteredRen'+'derPasses'](_0x1be49b,this['localLight'+'s']);let _0x484481=0x24ca+0x5f6+0xe4*-0x30,_0x28578d=!(0x191*0x17+0x2+0xcd*-0x2d),_0x22a6d1=null;const _0x3e01cf=_0x299fca['_renderAct'+'ions'];for(let _0xd2ec14=_0x484481;_0xd2ec14<_0x3e01cf['length'];_0xd2ec14++){const _0x38ee03=_0x3e01cf[_0xd2ec14],{layer:_0x11e474,camera:_0x10a12d}=_0x38ee03;if(_0x38ee03['useCameraP'+'asses'])w['call'](()=>{_0x10a12d['postEffect'+'s']['effects']['length']>0x10e5+-0x6*0x665+0x1579&&w['warnOnce']('Camera\x20\x27'+_0x10a12d['entity']['name']+('\x27\x20uses\x20ren'+'der\x20passes'+',\x20which\x20ar'+'e\x20not\x20comp'+'atible\x20wit'+'h\x20post-eff'+'ects\x20scrip'+'ts.\x20Render'+'ing\x20of\x20the'+'\x20post-effe'+'cts\x20is\x20ign'+'ored,\x20but\x20'+'they\x20shoul'+'d\x20not\x20be\x20a'+'ttached\x20to'+'\x20the\x20camer'+'a.'));}),_0x10a12d['camera']['renderPass'+'es']['forEach'](_0x827e1b=>{_0x1be49b['addRenderP'+'ass'](_0x827e1b);});else{const _0x1adc37=_0x11e474['id']===ps,_0x1df674=_0x1adc37&&(_0x10a12d['renderScen'+'eColorMap']||_0x10a12d['renderScen'+'eDepthMap']);_0x28578d&&(_0x28578d=!(-0x549*0x3+0x4e*-0x5+0x1*0x1162),_0x484481=_0xd2ec14,_0x22a6d1=_0x38ee03['renderTarg'+'et']);const _0x4aee6c=_0x3e01cf[_0xd2ec14+(0x1*0x1c+-0x16f7*0x1+0x344*0x7)],_0x1fd16d=(_0x4aee6c?!_0x4aee6c['useCameraP'+'asses']&&_0x4aee6c['layer']['id']===ps:!(0x41b*0x7+-0x2473+0x7b7*0x1))&&(_0x10a12d['renderScen'+'eColorMap']||_0x10a12d['renderScen'+'eDepthMap']),_0x4713b0=_0x4aee6c?_0x4aee6c['firstCamer'+'aUse']&&this['cameraDirS'+'hadowLight'+'s']['has'](_0x4aee6c['camera']['camera']):!(-0x870+-0x9ed+0x2*0x92f);if(!_0x4aee6c||_0x4aee6c['renderTarg'+'et']!==_0x22a6d1||_0x4713b0||_0x1fd16d||_0x1df674){if(_0x1adc37&&_0x484481===_0xd2ec14||this['addMainRen'+'derPass'](_0x1be49b,_0x299fca,_0x22a6d1,_0x484481,_0xd2ec14),_0x1adc37){if(_0x10a12d['renderScen'+'eColorMap']){const _0x257252=_0x10a12d['camera']['renderPass'+'ColorGrab'];_0x257252['source']=_0x10a12d['renderTarg'+'et'],_0x1be49b['addRenderP'+'ass'](_0x257252);}_0x10a12d['renderScen'+'eDepthMap']&&_0x1be49b['addRenderP'+'ass'](_0x10a12d['camera']['renderPass'+'DepthGrab']);}if(_0x38ee03['triggerPos'+'tprocess']&&(_0x10a12d!=null&&_0x10a12d['onPostproc'+'essing'])){const _0x5957c5=new Zb(this['device'],this,_0x38ee03);_0x1be49b['addRenderP'+'ass'](_0x5957c5);}_0x28578d=!(-0x1424+0xa7*-0x11+-0x27*-0xcd);}}}}['addMainRen'+'derPass'](_0x30b886,_0x53a78e,_0x227d20,_0x13d325,_0x3f00c2){const _0x17f9eb=new Kb(this['device'],_0x53a78e,this['scene'],this);_0x17f9eb['init'](_0x227d20);const _0x4d6ac2=_0x53a78e['_renderAct'+'ions'];for(let _0x1121f1=_0x13d325;_0x1121f1<=_0x3f00c2;_0x1121f1++)_0x17f9eb['addRenderA'+'ction'](_0x4d6ac2[_0x1121f1]);_0x30b886['addRenderP'+'ass'](_0x17f9eb);}['update'](_0x26ab67){this['frameUpdat'+'e'](),this['shadowRend'+'erer']['frameUpdat'+'e'](),this['scene']['_updateSky'+'Mesh'](),this['updateLaye'+'rCompositi'+'on'](_0x26ab67),this['collectLig'+'hts'](_0x26ab67),this['beginFrame'](_0x26ab67),this['setSceneCo'+'nstants'](),this['cullCompos'+'ition'](_0x26ab67),this['gpuUpdate'](this['processing'+'MeshInstan'+'ces']);}};h(Ni,'skipRender'+'Camera',null),h(Ni,'_skipRende'+'rCounter',-0x2*-0xf2a+0x2041+-0x3e95),h(Ni,'skipRender'+'After',0x24e4+-0x1a96+-0xa4e);let fl=Ni,uf=0x1ddf+-0xfa9+-0xe36;const co=[],hc=new Set();function tA(_0x232d36,_0xaaf53){return _0x232d36['drawOrder']-_0xaaf53['drawOrder'];}function sA(_0x2d7fe1,_0x3224ab){const _0x301141=_0x2d7fe1['_sortKeyFo'+'rward'],_0x2ace86=_0x3224ab['_sortKeyFo'+'rward'];return _0x301141===_0x2ace86?_0x3224ab['mesh']['id']-_0x2d7fe1['mesh']['id']:_0x2ace86-_0x301141;}function iA(_0xc8f519,_0x2c70c3){return _0x2c70c3['_sortKeyDy'+'namic']-_0xc8f519['_sortKeyDy'+'namic'];}function rA(_0x210759,_0x43bc04){return _0x210759['_sortKeyDy'+'namic']-_0x43bc04['_sortKeyDy'+'namic'];}const aA=[null,tA,sA,iA,rA];class nA{constructor(){h(this,'opaque',[]),h(this,'transparen'+'t',[]);}}class Ot{constructor(_0x309eac={}){h(this,'meshInstan'+'ces',[]),h(this,'meshInstan'+'cesSet',new Set()),h(this,'shadowCast'+'ers',[]),h(this,'shadowCast'+'ersSet',new Set()),h(this,'_visibleIn'+'stances',new WeakMap()),h(this,'_lights',[]),h(this,'_lightsSet',new Set()),h(this,'_clustered'+'LightsSet',new Set()),h(this,'_splitLigh'+'ts',[[],[],[]]),h(this,'_splitLigh'+'tsDirty',!(-0x2a5*-0xb+0xee*-0x29+0x907*0x1)),h(this,'requiresLi'+'ghtCube',!(-0x1*-0x173f+-0x7ca*-0x1+-0x1*0x1f08)),h(this,'cameras',[]),h(this,'camerasSet',new Set()),h(this,'_dirtyComp'+'osition',!(-0x2067+-0x798+0x2800)),(_0x309eac['id']!==void(0x20eb+-0x98d+-0x1*0x175e)?(this['id']=_0x309eac['id'],uf=Math['max'](this['id']+(0x1c7e+-0x1729+-0x554*0x1),uf)):this['id']=uf++,this['name']=_0x309eac['name'],this['_enabled']=_0x309eac['enabled']??!(-0x25c1+-0x1295+0x3856),this['_refCounte'+'r']=this['_enabled']?-0x20f6+-0x10*0x1e+-0x3df*-0x9:0x18c8+0x11ff+-0xe9*0x2f,this['opaqueSort'+'Mode']=_0x309eac['opaqueSort'+'Mode']??Yw,this['transparen'+'tSortMode']=_0x309eac['transparen'+'tSortMode']??m_,_0x309eac['renderTarg'+'et']&&(this['renderTarg'+'et']=_0x309eac['renderTarg'+'et']),this['_clearColo'+'rBuffer']=!!_0x309eac['clearColor'+'Buffer'],this['_clearDept'+'hBuffer']=!!_0x309eac['clearDepth'+'Buffer'],this['_clearSten'+'cilBuffer']=!!_0x309eac['clearStenc'+'ilBuffer'],this['onEnable']=_0x309eac['onEnable'],this['onDisable']=_0x309eac['onDisable'],this['_enabled']&&this['onEnable']&&this['onEnable'](),this['customSort'+'Callback']=null,this['customCalc'+'ulateSortV'+'alues']=null,this['_lightHash']=-0x95c+0xab3*-0x3+-0x2975*-0x1,this['_lightHash'+'Dirty']=!(-0x5*0x2fa+-0x17a2+0x2685),this['_lightIdHa'+'sh']=-0x6f0+-0x55+0x745,this['_lightIdHa'+'shDirty']=!(0x9*-0x42d+0x5d8+0x1fbe),this['skipRender'+'After']=Number['MAX_VALUE'],this['_skipRende'+'rCounter']=-0x1*-0x139f+-0x1873+-0x3*-0x19c,this['_renderTim'+'e']=-0x98e+0x27*0x24+0x412,this['_forwardDr'+'awCalls']=0x795*0x1+0x13e8+-0x1b7d,this['_shadowDra'+'wCalls']=-0x1244+-0x1c95+0x2ed9,this['_shaderVer'+'sion']=-(-0xd56+-0x9c7+0x171e));}set['enabled'](_0x58c32e){_0x58c32e!==this['_enabled']&&(this['_dirtyComp'+'osition']=!(0x988+-0x8b*-0x3+0x1*-0xb29),this['_enabled']=_0x58c32e,_0x58c32e?(this['incrementC'+'ounter'](),this['onEnable']&&this['onEnable']()):(this['decrementC'+'ounter'](),this['onDisable']&&this['onDisable']()));}get['enabled'](){return this['_enabled'];}set['clearColor'+'Buffer'](_0x12f6c6){this['_clearColo'+'rBuffer']=_0x12f6c6,this['_dirtyComp'+'osition']=!(-0x4b4*0x7+0x4*-0x1ce+-0x2de*-0xe);}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'+'Buffer'](_0x405c28){this['_clearDept'+'hBuffer']=_0x405c28,this['_dirtyComp'+'osition']=!(0x26b+0xb9b+0x2*-0x703);}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'ilBuffer'](_0x10500e){this['_clearSten'+'cilBuffer']=_0x10500e,this['_dirtyComp'+'osition']=!(0x1c09*-0x1+-0xb4+-0x41b*-0x7);}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}get['hasCluster'+'edLights'](){return this['_clustered'+'LightsSet']['size']>0x1*-0xd6c+-0xb*0x2dd+0x2ceb*0x1;}get['clusteredL'+'ightsSet'](){return this['_clustered'+'LightsSet'];}['incrementC'+'ounter'](){this['_refCounte'+'r']===-0x1*-0x254b+0x1*-0x19dc+0x1*-0xb6f&&(this['_enabled']=!(0xb27+-0x1*0x598+-0x58f),this['onEnable']&&this['onEnable']()),this['_refCounte'+'r']++;}['decrementC'+'ounter'](){if(this['_refCounte'+'r']===0x1aef*0x1+0x2*-0x12fd+0xb0c)this['_enabled']=!(0x29+0x123c+0x499*-0x4),this['onDisable']&&this['onDisable']();else{if(this['_refCounte'+'r']===-0x2665+-0x8c9+0x2f2e){w['warn']('Trying\x20to\x20'+'decrement\x20'+'layer\x20coun'+'ter\x20below\x20'+'0');return;}}this['_refCounte'+'r']--;}['addMeshIns'+'tances'](_0x3d22d4,_0x3b7bff){const _0x49f687=this['meshInstan'+'ces'],_0x485df4=this['meshInstan'+'cesSet'];for(let _0x17c655=-0x249*0xf+0x1bca+0x67d;_0x17c655<_0x3d22d4['length'];_0x17c655++){const _0x54144e=_0x3d22d4[_0x17c655];_0x485df4['has'](_0x54144e)||(_0x49f687['push'](_0x54144e),_0x485df4['add'](_0x54144e),hc['add'](_0x54144e['material']));}if(_0x3b7bff||this['addShadowC'+'asters'](_0x3d22d4),hc['size']>0x1*-0x7ff+0x1975+-0x3*0x5d2){const _0x742bf9=this['_shaderVer'+'sion'];hc['forEach'](_0x2c671d=>{_0x742bf9>=-0x189f+-0x2a5+0x1b44&&_0x2c671d['_shaderVer'+'sion']!==_0x742bf9&&(_0x2c671d['getShaderV'+'ariant']!==tr['prototype']['getShaderV'+'ariant']&&_0x2c671d['clearVaria'+'nts'](),_0x2c671d['_shaderVer'+'sion']=_0x742bf9);}),hc['clear']();}}['removeMesh'+'Instances'](_0x48fe17,_0x28f186){const _0x32ecb4=this['meshInstan'+'ces'],_0x347451=this['meshInstan'+'cesSet'];for(let _0x2c6844=0x3*-0x803+0x12cb*0x1+-0x7a*-0xb;_0x2c6844<_0x48fe17['length'];_0x2c6844++){const _0x20b7a7=_0x48fe17[_0x2c6844];if(_0x347451['has'](_0x20b7a7)){_0x347451['delete'](_0x20b7a7);const _0x440b07=_0x32ecb4['indexOf'](_0x20b7a7);_0x440b07>=0xc03+-0x2356+0x1753*0x1&&_0x32ecb4['splice'](_0x440b07,-0x1d82+-0x49*-0x3d+0xc1e);}}_0x28f186||this['removeShad'+'owCasters'](_0x48fe17);}['addShadowC'+'asters'](_0x3c5343){const _0x1a4301=this['shadowCast'+'ers'],_0x2d4240=this['shadowCast'+'ersSet'];for(let _0x4beee2=-0x5*0x4a7+-0x4e0+0x1c23;_0x4beee2<_0x3c5343['length'];_0x4beee2++){const _0x217c09=_0x3c5343[_0x4beee2];_0x217c09['castShadow']&&!_0x2d4240['has'](_0x217c09)&&(_0x2d4240['add'](_0x217c09),_0x1a4301['push'](_0x217c09));}}['removeShad'+'owCasters'](_0x4ed7b4){const _0x1c1839=this['shadowCast'+'ers'],_0x3b0fb8=this['shadowCast'+'ersSet'];for(let _0x26b1a2=-0x36d*-0x9+0x1fbd*-0x1+-0xe8*-0x1;_0x26b1a2<_0x4ed7b4['length'];_0x26b1a2++){const _0x2260c9=_0x4ed7b4[_0x26b1a2];if(_0x3b0fb8['has'](_0x2260c9)){_0x3b0fb8['delete'](_0x2260c9);const _0x1f583b=_0x1c1839['indexOf'](_0x2260c9);_0x1f583b>=0x2c*-0x95+-0x3af+0x1d4b&&_0x1c1839['splice'](_0x1f583b,-0x4*0x83d+0x1*-0x23ae+0x3*0x16e1);}}}['clearMeshI'+'nstances'](_0x108bf0=!(-0x1*-0x1d0d+0xbf*-0x23+0x2ef*-0x1)){this['meshInstan'+'ces']['length']=-0x23e3*0x1+-0x212+0x25f5,this['meshInstan'+'cesSet']['clear'](),_0x108bf0||(this['shadowCast'+'ers']['length']=-0x1*0x43b+0x1*0x22c7+-0x1e8c,this['shadowCast'+'ersSet']['clear']());}['markLights'+'Dirty'](){this['_lightHash'+'Dirty']=!(0x1*-0x1f11+0x7ab*-0x5+0x4568),this['_lightIdHa'+'shDirty']=!(-0x1618+-0x574*-0x1+0xf*0x11c),this['_splitLigh'+'tsDirty']=!(-0xb*0x151+-0x141d+0x18*0x171);}['hasLight'](_0x36b97a){return this['_lightsSet']['has'](_0x36b97a);}['addLight'](_0x5e76b1){const _0x17d27e=_0x5e76b1['light'];this['_lightsSet']['has'](_0x17d27e)||(this['_lightsSet']['add'](_0x17d27e),this['_lights']['push'](_0x17d27e),this['markLights'+'Dirty']()),_0x17d27e['type']!==ve&&this['_clustered'+'LightsSet']['add'](_0x17d27e);}['removeLigh'+'t'](_0x22e609){const _0x1c093d=_0x22e609['light'];this['_lightsSet']['has'](_0x1c093d)&&(this['_lightsSet']['delete'](_0x1c093d),this['_lights']['splice'](this['_lights']['indexOf'](_0x1c093d),0x51a*0x3+0xf7d+-0x1eca),this['markLights'+'Dirty']()),_0x1c093d['type']!==ve&&this['_clustered'+'LightsSet']['delete'](_0x1c093d);}['clearLight'+'s'](){this['_lightsSet']['forEach'](_0x423fd3=>_0x423fd3['removeLaye'+'r'](this)),this['_lightsSet']['clear'](),this['_clustered'+'LightsSet']['clear'](),this['_lights']['length']=-0x79d*-0x1+0x1*0x20c5+-0x6*0x6bb,this['markLights'+'Dirty']();}get['splitLight'+'s'](){if(this['_splitLigh'+'tsDirty']){this['_splitLigh'+'tsDirty']=!(0x919*0x3+-0x2240+0x37b*0x2);const _0x30c89d=this['_splitLigh'+'ts'];for(let _0x18c04f=-0x740+0x173a+-0xffa;_0x18c04f<_0x30c89d['length'];_0x18c04f++)_0x30c89d[_0x18c04f]['length']=0x3*0x58f+0x1fcf+-0xd6*0x3a;const _0x2ca682=this['_lights'];for(let _0x4971f7=0x1*-0xd81+0x53*0x6b+-0x1530;_0x4971f7<_0x2ca682['length'];_0x4971f7++){const _0x54c1f8=_0x2ca682[_0x4971f7];_0x54c1f8['enabled']&&_0x30c89d[_0x54c1f8['_type']]['push'](_0x54c1f8);}for(let _0xb1f644=0x123+0x1*0xab6+-0xbd9;_0xb1f644<_0x30c89d['length'];_0xb1f644++)_0x30c89d[_0xb1f644]['sort']((_0x291deb,_0x47e893)=>_0x291deb['key']-_0x47e893['key']);}return this['_splitLigh'+'ts'];}['evaluateLi'+'ghtHash'](_0x4ce90b,_0x51a910,_0x5e02ff){let _0x15eea6=0x17b7+0x8b7+-0xe*0x251;const _0x1e2ba3=this['_lights'];for(let _0x4a3c84=-0xd2*-0x11+0xe2*0x13+0x8*-0x3d7;_0x4a3c84<_0x1e2ba3['length'];_0x4a3c84++){const _0x8eab5c=_0x1e2ba3[_0x4a3c84]['type']!==ve;(_0x4ce90b&&_0x8eab5c||_0x51a910&&!_0x8eab5c)&&co['push'](_0x5e02ff?_0x1e2ba3[_0x4a3c84]['id']:_0x1e2ba3[_0x4a3c84]['key']);}return co['length']>-0x2b*-0x97+0xf47*0x1+-0x28a4&&(co['sort'](),_0x15eea6=By(co),co['length']=-0x1673+0x193f+0xb3*-0x4),_0x15eea6;}['getLightHa'+'sh'](_0x2ab56d){return this['_lightHash'+'Dirty']&&(this['_lightHash'+'Dirty']=!(-0xf*-0x26b+0x44c+-0x2890),this['_lightHash']=this['evaluateLi'+'ghtHash'](!_0x2ab56d,!(-0xc2b+-0x184f+0x247a),!(-0x816+0x1c5e+-0xb3*0x1d))),this['_lightHash'];}['getLightId'+'Hash'](){return this['_lightIdHa'+'shDirty']&&(this['_lightIdHa'+'shDirty']=!(0x25f2+0xa70+-0x9ad*0x5),this['_lightIdHa'+'sh']=this['evaluateLi'+'ghtHash'](!(0x11a1+0x1dd5+-0x2f76),!(0xfd6+0x1*-0x10fd+-0x25*-0x8),!(0x1297*0x1+-0x55*-0x2f+-0x2*0x1119))),this['_lightIdHa'+'sh'];}['addCamera'](_0xc089d8){this['camerasSet']['has'](_0xc089d8['camera'])||(this['camerasSet']['add'](_0xc089d8['camera']),this['cameras']['push'](_0xc089d8),this['_dirtyComp'+'osition']=!(-0x1ce9+-0x116+-0x449*-0x7));}['removeCame'+'ra'](_0x1561f4){if(this['camerasSet']['has'](_0x1561f4['camera'])){this['camerasSet']['delete'](_0x1561f4['camera']);const _0x2f7e08=this['cameras']['indexOf'](_0x1561f4);this['cameras']['splice'](_0x2f7e08,-0x12a0+0x6*0x5b3+-0x5*0x31d),this['_dirtyComp'+'osition']=!(0x1*-0x64+-0x109a+-0x87f*-0x2);}}['clearCamer'+'as'](){this['cameras']['length']=0x61*0x3a+0xe*-0x2a+-0x13ae,this['camerasSet']['clear'](),this['_dirtyComp'+'osition']=!(-0x1aad+0x10ac+0xa01);}['_calculate'+'SortDistan'+'ces'](_0x2d8a02,_0x212b68,_0x10ed39){const _0x2fbb29=_0x2d8a02['length'],{x:_0x116f28,y:_0x5bd96a,z:_0x45559d}=_0x212b68,{x:_0x3f3b5a,y:_0xb3ffe7,z:_0x35e5e5}=_0x10ed39;for(let _0x5d078c=0x22f7+0x7f9+-0x2af0;_0x5d078c<_0x2fbb29;_0x5d078c++){const _0x5886e9=_0x2d8a02[_0x5d078c];let _0x2985f5;if(_0x5886e9['calculateS'+'ortDistanc'+'e'])_0x2985f5=_0x5886e9['calculateS'+'ortDistanc'+'e'](_0x5886e9,_0x212b68,_0x10ed39);else{const _0x4db352=_0x5886e9['aabb']['center'];_0x2985f5=(_0x4db352['x']-_0x116f28)*_0x3f3b5a+(_0x4db352['y']-_0x5bd96a)*_0xb3ffe7+(_0x4db352['z']-_0x45559d)*_0x35e5e5;}const _0xdb1870=_0x5886e9['_drawBucke'+'t']*(-0x2fa2c3e7+-0x335a4920+0x9e97d707);_0x5886e9['_sortKeyDy'+'namic']=_0xdb1870+_0x2985f5;}}['getCulledI'+'nstances'](_0x528130){let _0x53dde4=this['_visibleIn'+'stances']['get'](_0x528130);return _0x53dde4||(_0x53dde4=new nA(),this['_visibleIn'+'stances']['set'](_0x528130,_0x53dde4)),_0x53dde4;}['sortVisibl'+'e'](_0x2c96c9,_0x4fba16){const _0x2adc6d=_0x4fba16?this['transparen'+'tSortMode']:this['opaqueSort'+'Mode'];if(_0x2adc6d===Yc)return;const _0x132e34=this['getCulledI'+'nstances'](_0x2c96c9),_0x5b145c=_0x4fba16?_0x132e34['transparen'+'t']:_0x132e34['opaque'],_0x3b4ea8=_0x2c96c9['node'];if(_0x2adc6d===Zw){const _0x50a810=_0x3b4ea8['getPositio'+'n'](),_0x1bcf50=_0x3b4ea8['forward'];this['customCalc'+'ulateSortV'+'alues']&&this['customCalc'+'ulateSortV'+'alues'](_0x5b145c,_0x5b145c['length'],_0x50a810,_0x1bcf50),this['customSort'+'Callback']&&_0x5b145c['sort'](this['customSort'+'Callback']);}else{if(_0x2adc6d===m_||_0x2adc6d===Kw){const _0x2f5e3e=_0x3b4ea8['getPositio'+'n'](),_0x180d88=_0x3b4ea8['forward'];this['_calculate'+'SortDistan'+'ces'](_0x5b145c,_0x2f5e3e,_0x180d88);}_0x5b145c['sort'](aA[_0x2adc6d]);}}}const oA=(_0x1b7d2d,_0x35a83e)=>_0x1b7d2d['priority']-_0x35a83e['priority'],ul=_0x33266f=>_0x33266f['sort'](oA);class du extends me{constructor(_0x4a8588='Untitled'){super(),h(this,'layerList',[]),h(this,'layerIdMap',new Map()),h(this,'layerNameM'+'ap',new Map()),h(this,'layerOpaqu'+'eIndexMap',new Map()),h(this,'layerTrans'+'parentInde'+'xMap',new Map()),h(this,'subLayerLi'+'st',[]),h(this,'subLayerEn'+'abled',[]),h(this,'cameras',[]),h(this,'_renderAct'+'ions',[]),h(this,'_dirty',!(-0x1321+-0x5f1+-0x83*-0x31)),(this['name']=_0x4a8588,this['_opaqueOrd'+'er']={},this['_transpare'+'ntOrder']={});}['destroy'](){this['destroyRen'+'derActions']();}['destroyRen'+'derActions'](){this['_renderAct'+'ions']['forEach'](_0x587c7c=>_0x587c7c['destroy']()),this['_renderAct'+'ions']['length']=0x1e2*-0x5+0xd0+0x89a;}['markDirty'](){this['_dirty']=!(-0xa8a+0xda*-0x3+0x1a3*0x8);}['_update'](){const _0x22d493=this['layerList']['length'];if(!this['_dirty']){for(let _0x67ec8f=-0x212a+0x7*-0xa1+0x2591;_0x67ec8f<_0x22d493;_0x67ec8f++)if(this['layerList'][_0x67ec8f]['_dirtyComp'+'osition']){this['_dirty']=!(0x137b+-0x1353+-0x28);break;}}if(this['_dirty']){this['_dirty']=!(0x23bb+0xf71+-0x332b),this['cameras']['length']=-0x731+0x23c5+-0x1c94;for(let _0x5ebb89=0x2*-0x136d+0x86e+0x2c4*0xb;_0x5ebb89<_0x22d493;_0x5ebb89++){const _0x4c05d4=this['layerList'][_0x5ebb89];_0x4c05d4['_dirtyComp'+'osition']=!(0xc0*0x30+-0x22db+-0x124);for(let _0x3c773d=-0x4*0x1e9+0x987*0x4+-0x5*0x618;_0x3c773d<_0x4c05d4['cameras']['length'];_0x3c773d++){const _0xd07862=_0x4c05d4['cameras'][_0x3c773d];this['cameras']['indexOf'](_0xd07862)<-0x4d6+-0x121*-0x1d+-0x3*0x94d&&this['cameras']['push'](_0xd07862);}}this['cameras']['length']>0x8*-0x361+0xe5*0x6+-0x1*-0x15ab&&ul(this['cameras']);let _0x1b1cc8=0x6ab*-0x5+-0x27c*0x8+0x1*0x3537;this['destroyRen'+'derActions']();for(let _0x4f5c41=0x1247+0xe*0x18d+-0x27fd;_0x4f5c41<this['cameras']['length'];_0x4f5c41++){const _0x385cac=this['cameras'][_0x4f5c41];if(_0x385cac['camera']['renderPass'+'es']['length']>0x7*0x37d+-0x135b+0x36*-0x18){this['addDummyRe'+'nderAction'](_0x1b1cc8,_0x385cac),_0x1b1cc8++;continue;}let _0x8f01ab=!(-0x18f6+0x3*-0x3a3+-0x23df*-0x1);const _0x222b66=_0x1b1cc8;let _0x3f22e7=null,_0x2baa6b=!(0x7*0x4fc+-0x17ff+-0xae4);for(let _0x4b3344=-0x1e1*-0x5+0x1ff5+-0x295a;_0x4b3344<_0x22d493;_0x4b3344++){const _0x44b76f=this['layerList'][_0x4b3344];if(_0x44b76f['enabled']&&this['subLayerEn'+'abled'][_0x4b3344]&&_0x44b76f['cameras']['length']>0xe33*-0x1+-0x259d*-0x1+-0x7ce*0x3&&_0x385cac['layers']['indexOf'](_0x44b76f['id'])>=0x201d+-0xa97+0x227*-0xa){!_0x2baa6b&&_0x44b76f['id']===_0x385cac['disablePos'+'tEffectsLa'+'yer']&&(_0x2baa6b=!(-0x1*0x10c1+-0x1*0x18b3+0x2974),_0x3f22e7&&(_0x3f22e7['triggerPos'+'tprocess']=!(-0x1*0x1d45+0x1953+0x3f2)));const _0x22ae81=this['subLayerLi'+'st'][_0x4b3344];_0x3f22e7=this['addRenderA'+'ction'](_0x1b1cc8,_0x44b76f,_0x22ae81,_0x385cac,_0x8f01ab,_0x2baa6b),_0x1b1cc8++,_0x8f01ab=!(-0x115*0x1+0x1b7+0x1*-0xa1);}}_0x222b66<_0x1b1cc8&&(_0x3f22e7['lastCamera'+'Use']=!(0x1*0x1c12+-0x58*0x11+-0x163a*0x1)),!_0x2baa6b&&_0x3f22e7&&(_0x3f22e7['triggerPos'+'tprocess']=!(0x323+-0xf10+0xbed)),_0x385cac['renderTarg'+'et']&&_0x385cac['postEffect'+'sEnabled']&&this['propagateR'+'enderTarge'+'t'](_0x222b66-(-0x22ca+0xcb5*-0x1+-0x8*-0x5f0),_0x385cac);}this['_logRender'+'Actions']();}}['getNextRen'+'derAction'](_0x3e1da0){w['assert'](this['_renderAct'+'ions']['length']===_0x3e1da0);const _0x1f8e1a=new Pv();return this['_renderAct'+'ions']['push'](_0x1f8e1a),_0x1f8e1a;}['addDummyRe'+'nderAction'](_0x305107,_0x4a4c0d){const _0x207bfe=this['getNextRen'+'derAction'](_0x305107);_0x207bfe['camera']=_0x4a4c0d,_0x207bfe['useCameraP'+'asses']=!(0x2027+-0x7*-0x1f5+-0x2dda);}['addRenderA'+'ction'](_0x106163,_0x212b60,_0x871ed,_0x879625,_0x385d96,_0x9c13c0){let _0x45cd32=_0x212b60['id']!==ps?_0x879625['renderTarg'+'et']:null,_0x543beb=!(-0x2*0xc86+0x617+0x12f6);const _0x3a3fb1=this['_renderAct'+'ions'];for(let _0x580fb5=_0x106163-(0x923*-0x1+0x71*-0x3+-0x1*-0xa77);_0x580fb5>=0xf95+-0x16*0x1ac+0x1533;_0x580fb5--)if(_0x3a3fb1[_0x580fb5]['camera']===_0x879625&&_0x3a3fb1[_0x580fb5]['renderTarg'+'et']===_0x45cd32){_0x543beb=!(0x69c+-0x10e1+0xa45);break;}_0x9c13c0&&_0x879625['postEffect'+'sEnabled']&&(_0x45cd32=null);const _0x2d4f9a=this['getNextRen'+'derAction'](_0x106163);_0x2d4f9a['triggerPos'+'tprocess']=!(0x61*-0x3d+-0xb52+0x2270),_0x2d4f9a['layer']=_0x212b60,_0x2d4f9a['transparen'+'t']=_0x871ed,_0x2d4f9a['camera']=_0x879625,_0x2d4f9a['renderTarg'+'et']=_0x45cd32,_0x2d4f9a['firstCamer'+'aUse']=_0x385d96,_0x2d4f9a['lastCamera'+'Use']=!(-0x5d4*-0x1+0x1*-0x716+0x143);const _0x30c55=_0x385d96||!_0x543beb,_0x171fd0=_0x212b60['clearColor'+'Buffer']||_0x212b60['clearDepth'+'Buffer']||_0x212b60['clearStenc'+'ilBuffer'];return(_0x30c55||_0x171fd0)&&_0x2d4f9a['setupClear'+'s'](_0x30c55?_0x879625:void(-0x1c47+0x807*0x1+0x1440),_0x212b60),_0x2d4f9a;}['propagateR'+'enderTarge'+'t'](_0x3c0226,_0x9d9b55){for(let _0x58baca=_0x3c0226;_0x58baca>=-0x2*-0xceb+0x94+0xd35*-0x2;_0x58baca--){const _0x16e6d3=this['_renderAct'+'ions'][_0x58baca],_0x4e39b3=_0x16e6d3['layer'];if(_0x16e6d3['renderTarg'+'et']&&_0x4e39b3['id']!==ps)break;if(_0x4e39b3['id']===ps)continue;if(_0x16e6d3['useCameraP'+'asses'])break;const _0x141b7f=_0x16e6d3==null?void(-0x1*0x1a4d+0xac2+0x1*0xf8b):_0x16e6d3['camera']['camera'];if(_0x141b7f&&(!_0x9d9b55['camera']['rect']['equals'](_0x141b7f['rect'])||!_0x9d9b55['camera']['scissorRec'+'t']['equals'](_0x141b7f['scissorRec'+'t'])))break;_0x16e6d3['renderTarg'+'et']=_0x9d9b55['renderTarg'+'et'];}}['_logRender'+'Actions'](){if(mi['get'](Vl)){w['trace'](Vl,'Render\x20Act'+'ions\x20for\x20c'+'omposition'+':\x20'+this['name']);for(let _0x184b3f=0xc74+0xf05+0x1*-0x1b79;_0x184b3f<this['_renderAct'+'ions']['length'];_0x184b3f++){const _0x338f47=this['_renderAct'+'ions'][_0x184b3f],_0x46ee34=_0x338f47['camera'];if(_0x338f47['useCameraP'+'asses'])w['trace'](Vl,_0x184b3f+('CustomPass'+'es\x20Cam:\x20')+(_0x46ee34?_0x46ee34['entity']['name']:'-'));else{const _0x449c56=_0x338f47['layer'],_0x59feca=_0x449c56['enabled']&&this['isEnabled'](_0x449c56,_0x338f47['transparen'+'t']),_0x413560=(_0x338f47['clearColor']?'Color\x20':'.....\x20')+(_0x338f47['clearDepth']?'Depth\x20':'.....\x20')+(_0x338f47['clearStenc'+'il']?'Stencil':'.......');w['trace'](Vl,_0x184b3f+('\x20Cam:\x20'+(_0x46ee34?_0x46ee34['entity']['name']:'-'))['padEnd'](0x3df+0xe84*-0x2+0x193f*0x1,'\x20')+('\x20Lay:\x20'+_0x449c56['name'])['padEnd'](-0xb82*-0x1+0x19dc+-0x2548,'\x20')+(_0x338f47['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x59feca?'\x20ENABLED\x20':'\x20DISABLED')+('\x20RT:\x20'+(_0x338f47['renderTarg'+'et']?_0x338f47['renderTarg'+'et']['name']:'-'))['padEnd'](-0x57a*0x7+0x138e*-0x1+-0x5a*-0xa5,'\x20')+'\x20Clear:\x20'+_0x413560+(_0x338f47['firstCamer'+'aUse']?'\x20CAM-FIRST':'')+(_0x338f47['lastCamera'+'Use']?'\x20CAM-LAST':'')+(_0x338f47['triggerPos'+'tprocess']?'\x20POSTPROCE'+'SS':''));}}}}['_isLayerAd'+'ded'](_0x4f83a9){const _0x27c72d=this['layerIdMap']['get'](_0x4f83a9['id'])===_0x4f83a9;return w['assert'](!_0x27c72d,'Layer\x20is\x20a'+'lready\x20add'+'ed:\x20'+_0x4f83a9['name']),_0x27c72d;}['_isSublaye'+'rAdded'](_0x43c151,_0x180e39){return(_0x180e39?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['get'](_0x43c151)!==void(0x2463+0x1*-0x182e+-0x1*0xc35)?(w['error']('Sublayer\x20'+_0x43c151['name']+(',\x20transpar'+'ent:\x20')+_0x180e39+('\x20is\x20alread'+'y\x20added.')),!(-0xa4a+-0x1*-0x2051+-0x1607)):!(-0x1aa3+-0x17d4+0x88*0x5f);}['push'](_0x12a608){this['_isLayerAd'+'ded'](_0x12a608)||(this['layerList']['push'](_0x12a608),this['layerList']['push'](_0x12a608),this['_opaqueOrd'+'er'][_0x12a608['id']]=this['subLayerLi'+'st']['push'](!(0x1f*-0x2f+0x139*-0x1+0x6eb))-(0xd67+-0x21e0*0x1+0x147a),this['_transpare'+'ntOrder'][_0x12a608['id']]=this['subLayerLi'+'st']['push'](!(0x878+-0x1*0x2649+0x1dd1))-(0x6d2+-0x10f4+-0xad*-0xf),this['subLayerEn'+'abled']['push'](!(0x268d+-0x125*-0xb+-0x3324)),this['subLayerEn'+'abled']['push'](!(-0x40e+0x5*-0x25f+0xfe9*0x1)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x20c8+0x1fa7+0x406f*-0x1),this['fire']('add',_0x12a608));}['insert'](_0x177ce9,_0x1d7e73){if(this['_isLayerAd'+'ded'](_0x177ce9))return;this['layerList']['splice'](_0x1d7e73,0x6e7*0x1+0x25fe+-0x4fd*0x9,_0x177ce9,_0x177ce9),this['subLayerLi'+'st']['splice'](_0x1d7e73,-0xbe1*-0x2+0x1b*-0xb9+-0x43f,!(-0x1*-0x1a7e+0x744+0x1*-0x21c1),!(-0x337*-0xb+0x168d+-0x39ea));const _0xf51436=this['layerList']['length'];this['_updateOpa'+'queOrder'](_0x1d7e73,_0xf51436-(-0x1dc2*-0x1+0x2456*0x1+0x4217*-0x1)),this['_updateTra'+'nsparentOr'+'der'](_0x1d7e73,_0xf51436-(0x1*-0x220c+0x20c0+0x14d)),this['subLayerEn'+'abled']['splice'](_0x1d7e73,0x2240+0x6*-0x272+-0x1394,!(0x3c0+-0x1c5*-0x9+-0x13ad),!(0x36c+0x66+0x3d2*-0x1)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0xbb0+-0x24a+-0x6fd*-0x2),this['fire']('add',_0x177ce9);}['remove'](_0x42db0f){let _0x40bb38=this['layerList']['indexOf'](_0x42db0f);for(delete this['_opaqueOrd'+'er'][_0x40bb38],delete this['_transpare'+'ntOrder'][_0x40bb38];_0x40bb38>=-0x1*-0x4c7+-0x1a9d+0x41*0x56;)this['layerList']['splice'](_0x40bb38,-0x1d77+0x20*-0x6b+0x6*0x724),this['subLayerLi'+'st']['splice'](_0x40bb38,0x3*0xce3+-0xbdd*0x1+0x1acb*-0x1),this['subLayerEn'+'abled']['splice'](_0x40bb38,0x12c4*-0x2+-0xded+0x1*0x3376),_0x40bb38=this['layerList']['indexOf'](_0x42db0f),this['_dirty']=!(-0x148*0x1c+0x1b27+0x8b9),this['fire']('remove',_0x42db0f);const _0x5118df=this['layerList']['length'];this['_updateOpa'+'queOrder'](-0x13*0x163+0x123*0x1+0x1936,_0x5118df-(-0x1*-0xbdd+0xc89+-0x1865)),this['_updateTra'+'nsparentOr'+'der'](0x1*0x1079+-0x166f*0x1+0x5f6,_0x5118df-(-0x1de+-0xe9d+0x2*0x83e)),this['_updateLay'+'erMaps']();}['pushOpaque'](_0x3a2e5c){this['_isSublaye'+'rAdded'](_0x3a2e5c,!(0xf98+-0x288*0xd+0xd*0x155))||(this['layerList']['push'](_0x3a2e5c),this['_opaqueOrd'+'er'][_0x3a2e5c['id']]=this['subLayerLi'+'st']['push'](!(0x28a+0x1*-0x1735+0x14ac))-(-0x268b+0x19*0xdb+0x17*0xbf),this['subLayerEn'+'abled']['push'](!(-0x24a4+-0xa*-0x1ff+0x7a*0x23)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0xdc8+-0x2e0+0x854*0x2),this['fire']('add',_0x3a2e5c));}['insertOpaq'+'ue'](_0x1ec7de,_0x1e2c83){if(this['_isSublaye'+'rAdded'](_0x1ec7de,!(-0x2511+0x1595+0xf7d)))return;this['layerList']['splice'](_0x1e2c83,-0x2f3+-0x45*-0x82+-0x2017,_0x1ec7de),this['subLayerLi'+'st']['splice'](_0x1e2c83,0xfdd+-0xf0f*0x1+-0xce,!(-0xf91+0xc09*0x1+-0x1*-0x389));const _0x2bb5f4=this['subLayerLi'+'st']['length'];this['_updateOpa'+'queOrder'](_0x1e2c83,_0x2bb5f4-(0x4c1*-0x1+0x1697+-0x11d5)),this['subLayerEn'+'abled']['splice'](_0x1e2c83,-0x1ce0*0x1+-0x2b2+-0x2*-0xfc9,!(-0xb49+0xd58+0x20f*-0x1)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x282+0xfab*0x1+-0xb*0x1a7),this['fire']('add',_0x1ec7de);}['removeOpaq'+'ue'](_0x20c256){for(let _0x229862=-0x1c12*-0x1+-0x935+0xb*-0x1b7,_0x1f0901=this['layerList']['length'];_0x229862<_0x1f0901;_0x229862++)if(this['layerList'][_0x229862]===_0x20c256&&!this['subLayerLi'+'st'][_0x229862]){this['layerList']['splice'](_0x229862,0xd39+-0x41b+-0x91d),this['subLayerLi'+'st']['splice'](_0x229862,0x1*-0x1102+-0x148c+-0x281*-0xf),_0x1f0901--,this['_updateOpa'+'queOrder'](_0x229862,_0x1f0901-(-0x20*-0xf1+0x86*0x1d+-0x2d4d)),this['subLayerEn'+'abled']['splice'](_0x229862,0x9ff*-0x1+0x453*-0x1+0xe53),this['_dirty']=!(-0x18c6*0x1+0x13a3+0x1*0x523),this['layerList']['indexOf'](_0x20c256)<-0xcae+-0xe6e+-0xd8e*-0x2&&this['fire']('remove',_0x20c256);break;}this['_updateLay'+'erMaps']();}['pushTransp'+'arent'](_0x5b99b2){this['_isSublaye'+'rAdded'](_0x5b99b2,!(-0x4f0*-0x4+0xaed+0x1*-0x1ead))||(this['layerList']['push'](_0x5b99b2),this['_transpare'+'ntOrder'][_0x5b99b2['id']]=this['subLayerLi'+'st']['push'](!(0x1d75*0x1+-0x1054+-0xd21))-(0x5*0x6d1+0x241*0x5+-0x13*0x263),this['subLayerEn'+'abled']['push'](!(0x185d+0x1160+-0x859*0x5)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x238a+0x1*-0x1ce3+-0x1*0x6a7),this['fire']('add',_0x5b99b2));}['insertTran'+'sparent'](_0x2b482f,_0x310e2f){if(this['_isSublaye'+'rAdded'](_0x2b482f,!(0x260b*0x1+0x1448+-0x3a53)))return;this['layerList']['splice'](_0x310e2f,0xd39+0x15dd+-0x2316,_0x2b482f),this['subLayerLi'+'st']['splice'](_0x310e2f,0xc8+0x64e*-0x5+0x1ebe,!(-0x780+0x1270+0x8*-0x15e));const _0x5ec294=this['subLayerLi'+'st']['length'];this['_updateTra'+'nsparentOr'+'der'](_0x310e2f,_0x5ec294-(-0xc6b*-0x1+0x1*0x602+-0x126c)),this['subLayerEn'+'abled']['splice'](_0x310e2f,0x1f40+0x3a6+-0x1173*0x2,!(0x1*-0x13ce+-0x1be7*-0x1+-0x819*0x1)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0xccd+-0x24e0+0x31ad),this['fire']('add',_0x2b482f);}['removeTran'+'sparent'](_0x38c566){for(let _0x530e26=0x4d2*-0x3+0x49*0x14+0x26*0x3b,_0x21d046=this['layerList']['length'];_0x530e26<_0x21d046;_0x530e26++)if(this['layerList'][_0x530e26]===_0x38c566&&this['subLayerLi'+'st'][_0x530e26]){this['layerList']['splice'](_0x530e26,0x39d+0x881+0x1bb*-0x7),this['subLayerLi'+'st']['splice'](_0x530e26,-0x29*0x72+0xd59+0x4ea),_0x21d046--,this['_updateTra'+'nsparentOr'+'der'](_0x530e26,_0x21d046-(0x1*0x143b+0x1ba3+-0x2fdd*0x1)),this['subLayerEn'+'abled']['splice'](_0x530e26,-0x4a*0x4+0x2190+-0x2067),this['_dirty']=!(-0x2*0x10c0+-0x1a*-0x80+0x1480),this['layerList']['indexOf'](_0x38c566)<0x1*-0x138b+0x61*-0x3+0x14ae*0x1&&this['fire']('remove',_0x38c566);break;}this['_updateLay'+'erMaps']();}['getOpaqueI'+'ndex'](_0x5d0d4c){return this['layerOpaqu'+'eIndexMap']['get'](_0x5d0d4c)??-(-0x3*-0x6f5+-0xb78+-0x2*0x4b3);}['getTranspa'+'rentIndex'](_0x33412){return this['layerTrans'+'parentInde'+'xMap']['get'](_0x33412)??-(-0x1cf4+0xfd6+0xd1f);}['isEnabled'](_0x36439c,_0x55eb7d){if(_0x36439c['enabled']){const _0x2a742a=_0x55eb7d?this['getTranspa'+'rentIndex'](_0x36439c):this['getOpaqueI'+'ndex'](_0x36439c);if(_0x2a742a>=0x265b+0x2*-0x1c1+0x1*-0x22d9)return this['subLayerEn'+'abled'][_0x2a742a];}return!(0x21dd*-0x1+0x75f+0x1a7f);}['_updateLay'+'erMaps'](){this['layerIdMap']['clear'](),this['layerNameM'+'ap']['clear'](),this['layerOpaqu'+'eIndexMap']['clear'](),this['layerTrans'+'parentInde'+'xMap']['clear']();for(let _0x365d2f=-0x1b2e+0xd3*0x1+-0xd*-0x207;_0x365d2f<this['layerList']['length'];_0x365d2f++){const _0x3ffb72=this['layerList'][_0x365d2f];this['layerIdMap']['set'](_0x3ffb72['id'],_0x3ffb72),this['layerNameM'+'ap']['set'](_0x3ffb72['name'],_0x3ffb72),(this['subLayerLi'+'st'][_0x365d2f]?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['set'](_0x3ffb72,_0x365d2f);}}['getLayerBy'+'Id'](_0x1c17aa){return this['layerIdMap']['get'](_0x1c17aa)??null;}['getLayerBy'+'Name'](_0x2cd668){return this['layerNameM'+'ap']['get'](_0x2cd668)??null;}['_updateOpa'+'queOrder'](_0x1354b6,_0x502c90){for(let _0x4aef0c=_0x1354b6;_0x4aef0c<=_0x502c90;_0x4aef0c++)this['subLayerLi'+'st'][_0x4aef0c]===!(-0x22*-0x1f+0x56c*-0x2+-0x1*-0x6bb)&&(this['_opaqueOrd'+'er'][this['layerList'][_0x4aef0c]['id']]=_0x4aef0c);}['_updateTra'+'nsparentOr'+'der'](_0x291d6c,_0x219962){for(let _0x7de342=_0x291d6c;_0x7de342<=_0x219962;_0x7de342++)this['subLayerLi'+'st'][_0x7de342]===!(0x1*-0x265a+-0x4d*0x2f+0x347d)&&(this['_transpare'+'ntOrder'][this['layerList'][_0x7de342]['id']]=_0x7de342);}['_sortLayer'+'sDescendin'+'g'](_0xa50799,_0x5bcd16,_0x1dcc1f){let _0x264282=-(0x2044+0x2f+-0x2072),_0x3e68c8=-(0x1292+0xdd+-0x67a*0x3);for(let _0x2e0cc6=-0x6*-0x3ba+-0x20e5+0x1f*0x57,_0x50b635=_0xa50799['length'];_0x2e0cc6<_0x50b635;_0x2e0cc6++){const _0x1ba7d1=_0xa50799[_0x2e0cc6];_0x1dcc1f['hasOwnProp'+'erty'](_0x1ba7d1)&&(_0x264282=Math['max'](_0x264282,_0x1dcc1f[_0x1ba7d1]));}for(let _0x3c3e58=0x235+0x2c0+-0x4f5,_0x371e54=_0x5bcd16['length'];_0x3c3e58<_0x371e54;_0x3c3e58++){const _0x180e52=_0x5bcd16[_0x3c3e58];_0x1dcc1f['hasOwnProp'+'erty'](_0x180e52)&&(_0x3e68c8=Math['max'](_0x3e68c8,_0x1dcc1f[_0x180e52]));}return _0x264282===-(-0x1*-0xbcb+-0x17*0x113+0xceb)&&_0x3e68c8!==-(-0xfca+0x1029+-0x1*0x5e)?-0x183e+-0x4ee*0x3+0x2709:_0x3e68c8===-(0x1b9d+-0xcb*0x7+-0x160f)&&_0x264282!==-(0x1311+-0x2*0x432+-0xaac)?-(0x5*-0x59f+0x1c6f+-0x53):_0x3e68c8-_0x264282;}['sortTransp'+'arentLayer'+'s'](_0x34ef37,_0x4028b7){return this['_sortLayer'+'sDescendin'+'g'](_0x34ef37,_0x4028b7,this['_transpare'+'ntOrder']);}['sortOpaque'+'Layers'](_0x4d5510,_0x205d9d){return this['_sortLayer'+'sDescendin'+'g'](_0x4d5510,_0x205d9d,this['_opaqueOrd'+'er']);}}const dc=new D(),wi={'bias':0x0,'normalBias':0x0},ho=new ie(),pf={'r':0x0,'g':0x1,'b':0x2,'a':0x3},fu={'directional':ve,'omni':Ke,'point':Ke,'spot':Ze},lA=[[new re(-0x5d*0x1+-0x5*0x69d+-0x10b7*-0x2,-0x1*-0x209+-0x1*0x245b+0x2252,0x19d5+0x79d*-0x1+-0x1237*0x1,0x7*-0x1+0x1394+-0x138c)],[new re(-0x167c+0x2c7*-0xc+-0xbc*-0x4c,0x19*0x12d+-0xc9d+-0x10c8,0xb15*-0x3+-0x14c0+0x35ff+0.5,0xf8+-0x2320+0x88a*0x4+0.5),new re(0x2066+-0x257*-0x4+0x2*-0x14e1,0x1cca*0x1+-0x131f*0x1+-0x9ab+0.5,0x251+0xc1*-0x23+0x1812+0.5,-0x4*0x13c+-0xae*-0x30+-0x1bb0+0.5)],[new re(0x2460+-0x2*-0xf12+0x2c*-0x183,0xa*0x34+-0x2290+0x2088,-0x149c+-0x26b*0x9+0x2a5f+0.5,-0x1e83+0x1800+0x1*0x683+0.5),new re(0x3*0x832+0x4*-0x1f6+-0x10be*0x1,-0x8fc+-0x26a2+0xe6*0x35+0.5,-0x2478+0x15e8*0x1+0xe90+0.5,0x23fc+0x1b60+0x14*-0x32b+0.5),new re(-0x79*-0x7+-0x527*0x1+0x1d8+0.5,0x22*-0x26+0x11e3*-0x1+-0x135*-0x13,0x18b+-0xa16*-0x1+0x1*-0xba1+0.5,-0xceb+0x4a*-0x59+-0x1*-0x26a5+0.5)],[new re(0x65*0x47+0x70f*0x1+-0x2312,0x2537+-0x1c34+-0x903,0x11*-0x225+-0x22ae+0x4723*0x1+0.5,-0xbf*0x22+0x899+0x10c5+0.5),new re(0x1563+0xea*0xb+-0x1f71,0x1757+0xf1*0xe+0x1*-0x2485+0.5,0x239d+-0x162*0x2+-0x3*0xaf3+0.5,-0x1*-0x1e76+-0x1b89+-0x2ed+0.5),new re(0x1*-0x1e6+-0x1289+0x146f+0.5,-0xbeb+-0xcb6+-0x61*-0x41,-0xa97*0x1+0x1*0x2335+0x189e*-0x1+0.5,-0x133e+-0xf*0xa3+-0x15*-0x15f+0.5),new re(-0x2423+0x3*0x71+0x1*0x22d0+0.5,-0x611*-0x6+-0x1b*0xfb+-0x9ed+0.5,0x6cd*0x5+-0x445*0x7+-0x41e+0.5,-0x85d*0x3+-0x1*0x2563+0x3e7a+0.5)]],cA={'rrr':0x1,'ggg':0x2,'bbb':0x4,'aaa':0x8,'rgb':0x7};let hA=-0x252c+-0x3*-0x56+0x242a;class dA{constructor(_0x4bdfa8,_0x130a24,_0x2972fb){this['light']=_0x2972fb,this['camera']=_0x4bdfa8,this['shadowCame'+'ra']=Cv['createShad'+'owCamera'](_0x2972fb['_shadowTyp'+'e'],_0x2972fb['_type'],_0x130a24),this['shadowMatr'+'ix']=new te(),this['shadowView'+'port']=new re(-0x10f7+-0xf*-0x181+-0x598,-0x11*0x5f+0x1*0x112c+-0x135*0x9,0x8*-0x3a+0x89+0x148,0x8a5*-0x2+-0x2308+-0x1171*-0x3),this['shadowScis'+'sor']=new re(0x599*0x1+-0x1331+0x488*0x3,0x644*-0x1+-0x37*-0xad+-0x1*0x1ee7,0x6d6+-0x85*-0x1+-0x3ad*0x2,-0x181*-0x17+0x1*-0x1d41+-0x555),this['projection'+'Compensati'+'on']=-0x1*0x215a+0x1*-0x2a7+0x2c5*0xd,this['face']=_0x130a24,this['visibleCas'+'ters']=[],this['viewBindGr'+'oups']=[];}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0xb00260=>{_0xb00260['defaultUni'+'formBuffer']['destroy'](),_0xb00260['destroy']();}),this['viewBindGr'+'oups']['length']=-0x10ce+0x17f*-0x9+0x1e45;}get['shadowBuff'+'er'](){const _0x6b777e=this['shadowCame'+'ra']['renderTarg'+'et'];return _0x6b777e?this['light']['_isPcf']?_0x6b777e['depthBuffe'+'r']:_0x6b777e['colorBuffe'+'r']:null;}}class pl{constructor(_0x5fafa3,_0x4d8353){h(this,'layers',new Set()),h(this,'clusteredL'+'ighting'),h(this,'shadowDept'+'hState',Yt['DEFAULT']['clone']()),h(this,'clusteredF'+'lags',-0x65*-0x1d+-0x138c+0x81b),h(this,'clusteredD'+'ata',new Uint32Array(0xb9*0x1+0x2f6*-0x8+0x16fa)),h(this,'clusteredD'+'ata16',new Uint16Array(this['clusteredD'+'ata']['buffer'])),h(this,'_evtDevice'+'Restored',null),(this['device']=_0x5fafa3,this['clusteredL'+'ighting']=_0x4d8353,this['id']=hA++,this['_evtDevice'+'Restored']=_0x5fafa3['on']('devicerest'+'ored',this['onDeviceRe'+'stored'],this),this['_type']=ve,this['_color']=new ie(0xe3b+0x1*-0x1a3f+-0x602*-0x2+0.8,-0x1b02+0x1176+-0x1*-0x98c+0.8,-0xc5f*0x1+0x1939+-0xcda+0.8),this['_intensity']=-0x1e7d+0x296*0x1+0x37d*0x8,this['_affectSpe'+'cularity']=!(-0x1cf3+0x1fdc+-0x2e9),this['_luminance']=0x1ccd+-0x6ee*0x5+-0x3*-0x1f3,this['_castShado'+'ws']=!(0xa8b+-0x213c+0x16b2),this['_enabled']=!(-0xf20*0x1+-0x76d*-0x1+0x7b4*0x1),this['_mask']=Ss,this['isStatic']=!(0x67*-0x30+-0x9f7+0x1d48),this['key']=-0x1480+-0x1b8f+0x300f,this['bakeDir']=!(-0x178c*0x1+-0x1e44+0x35d0),this['bakeNumSam'+'ples']=-0x1*-0x115a+0x9f0+-0x1b49,this['bakeArea']=-0x29*0x57+0x20f3+-0x1304,this['attenuatio'+'nStart']=0xb*0x15b+0x105*0xa+-0x1911,this['attenuatio'+'nEnd']=0x9f*-0xa+-0x16b2+0x1cf2,this['_falloffMo'+'de']=Qp,this['_shadowTyp'+'e']=$s,this['_vsmBlurSi'+'ze']=-0x102+-0x24*0xc9+-0x5dd*-0x5,this['vsmBlurMod'+'e']=em,this['vsmBias']=(-0x1b9e+-0x26fa+0x4298+0.01)*(-0x71*-0x1d+-0x749*-0x2+0xd*-0x21b+0.25),this['_cookie']=null,this['cookieInte'+'nsity']=0x1479+0x117e+0x1*-0x25f6,this['_cookieFal'+'loff']=!(-0x265*-0x5+-0xe33*0x1+0x2*0x11d),this['_cookieCha'+'nnel']='rgb',this['_cookieTra'+'nsform']=null,this['_cookieTra'+'nsformUnif'+'orm']=new Float32Array(-0x1*0x2c5+0x143f+0xa*-0x1bf),this['_cookieOff'+'set']=null,this['_cookieOff'+'setUniform']=new Float32Array(0xb4+0x7d3+0x1*-0x885),this['_cookieTra'+'nsformSet']=!(-0x2332+-0x102c+0x335f),this['_cookieOff'+'setSet']=!(0x16b8+0x19ac+-0x3063),this['_innerCone'+'Angle']=0x1ba5+-0x302+-0x187b,this['_outerCone'+'Angle']=0xe81*0x1+-0x1f25+0x10d1,this['cascades']=null,this['_shadowMat'+'rixPalette']=null,this['_shadowCas'+'cadeDistan'+'ces']=null,this['numCascade'+'s']=-0x1798+-0x1*-0x1e4b+-0x6b2,this['_cascadeBl'+'end']=-0xa18+0x213e+0x2*-0xb93,this['cascadeDis'+'tribution']=-0x113b+0x1606+-0x4cb*0x1+0.5,this['_shape']=Ys,this['_colorLine'+'ar']=new Float32Array(0x45d*-0x4+-0x6a+0x17*0xc7),this['_updateLin'+'earColor'](),this['_position']=new D(0xe*-0x4a+-0x223*0x6+0x10de,0x14a+0x1d*-0xfa+0x8*0x361,-0xf7d+-0xa7e+0x19fb),this['_direction']=new D(0x1bd3+0xa0*-0x1e+-0x1*0x913,0x1d3b+0x263*0x8+0x59*-0x8b,0x15f9+-0x2659+0x1060),this['_innerCone'+'AngleCos']=Math['cos'](this['_innerCone'+'Angle']*Math['PI']/(0xbb*0xd+-0x6d3+0x7e*-0x4)),this['_updateOut'+'erAngle'](this['_outerCone'+'Angle']),this['_usePhysic'+'alUnits']=void(-0xf81+0x7*-0x57d+0x3da*0xe),this['_shadowMap']=null,this['_shadowRen'+'derParams']=[],this['_shadowCam'+'eraParams']=[],this['shadowDist'+'ance']=0x1cba*-0x1+0x29c*-0x1+-0xfbf*-0x2,this['_shadowRes'+'olution']=0x13*0x1f9+-0x1ef3+-0x288,this['_shadowBia'+'s']=-(0xb51*-0x3+-0x67+-0x1*-0x225a+0.0005),this['_shadowInt'+'ensity']=-0x210c+-0x1*-0x1459+-0x65a*-0x2,this['_normalOff'+'setBias']=-0x1a33*-0x1+0x1acc+-0x1*0x34ff,this['shadowUpda'+'teMode']=lm,this['shadowUpda'+'teOverride'+'s']=null,this['_isVsm']=!(-0x26de*-0x1+0x1f7+-0x28d4),this['_isPcf']=!(-0x26bf+0x22e0+-0x1*-0x3df),this['_softShado'+'wParams']=new Float32Array(0x95a+0x16ac+-0x22*0xf1),this['shadowSamp'+'les']=-0x31+0x1*0x1f79+-0x1f38,this['shadowBloc'+'kerSamples']=-0xbd9*0x2+0x72e*-0x1+0x50*0x63,this['penumbraSi'+'ze']=0x11*0x66+0x2d8*0x7+0x1*-0x1aad,this['penumbraFa'+'lloff']=-0x7d*-0x13+0x24f+-0x1*0xb95,this['_cookieMat'+'rix']=null,this['_atlasView'+'port']=null,this['atlasViewp'+'ortAllocat'+'ed']=!(0x1280+-0x2a5+-0xfda),this['atlasVersi'+'on']=0x2416+0xa66*0x1+-0xaa*0x46,this['atlasSlotI'+'ndex']=-0x1*-0x4f+0x230c+0x7*-0x50d,this['atlasSlotU'+'pdated']=!(0x1bb*-0x9+0x3f2+0x5d1*0x2),this['_node']=null,this['_renderDat'+'a']=[],this['visibleThi'+'sFrame']=!(-0x180*-0x17+-0xcca+-0x15b5),this['maxScreenS'+'ize']=0x126*0x9+-0x38*0x6+-0xa*0xe7,this['_updateSha'+'dowBias']());}['destroy'](){var _0x5b1fae;(_0x5b1fae=this['_evtDevice'+'Restored'])==null||_0x5b1fae['off'](),this['_evtDevice'+'Restored']=null,this['_destroySh'+'adowMap'](),this['releaseRen'+'derData'](),this['_renderDat'+'a']=null;}['onDeviceRe'+'stored'](){this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=xr);}['releaseRen'+'derData'](){if(this['_renderDat'+'a']){for(let _0x2f7585=-0x1feb+-0x2632+0x5d*0xc1;_0x2f7585<this['_renderDat'+'a']['length'];_0x2f7585++)this['_renderDat'+'a'][_0x2f7585]['destroy']();this['_renderDat'+'a']['length']=0xfb*0x17+0x1193+-0x2820;}}['addLayer'](_0x47c3be){this['layers']['add'](_0x47c3be);}['removeLaye'+'r'](_0x51fab1){this['layers']['delete'](_0x51fab1);}set['shadowSamp'+'les'](_0x270087){this['_softShado'+'wParams'][-0x1*0xce1+-0x1*-0x6fb+0x5e6]=_0x270087;}get['shadowSamp'+'les'](){return this['_softShado'+'wParams'][0xce6+0x18f9+-0x25df];}set['shadowBloc'+'kerSamples'](_0x474ee1){this['_softShado'+'wParams'][0x17ed+-0x17b+-0x77b*0x3]=_0x474ee1;}get['shadowBloc'+'kerSamples'](){return this['_softShado'+'wParams'][-0xa*0x4b+-0x69a+0x989];}set['shadowBias'](_0x3be560){this['_shadowBia'+'s']!==_0x3be560&&(this['_shadowBia'+'s']=_0x3be560,this['_updateSha'+'dowBias']());}get['shadowBias'](){return this['_shadowBia'+'s'];}set['numCascade'+'s'](_0x3dda65){(!this['cascades']||this['numCascade'+'s']!==_0x3dda65)&&(this['cascades']=lA[_0x3dda65-(-0x1*-0x1987+0x95*-0x8+0x14de*-0x1)],this['_shadowMat'+'rixPalette']=new Float32Array(0x1d73+0x17c3*-0x1+-0x570),this['_shadowCas'+'cadeDistan'+'ces']=new Float32Array(0x4*-0x9be+0x1efb+0x801),this['_destroySh'+'adowMap'](),this['updateKey']());}get['numCascade'+'s'](){return this['cascades']['length'];}set['cascadeBle'+'nd'](_0x2512d1){this['_cascadeBl'+'end']!==_0x2512d1&&(this['_cascadeBl'+'end']=_0x2512d1,this['updateKey']());}get['cascadeBle'+'nd'](){return this['_cascadeBl'+'end'];}set['shadowMap'](_0x3bb583){this['_shadowMap']!==_0x3bb583&&(this['_destroySh'+'adowMap'](),this['_shadowMap']=_0x3bb583);}get['shadowMap'](){return this['_shadowMap'];}set['mask'](_0x4ad442){this['_mask']!==_0x4ad442&&(this['_mask']=_0x4ad442,this['updateKey'](),this['updateClus'+'teredFlags']());}get['mask'](){return this['_mask'];}get['numShadowF'+'aces'](){const _0x44dc93=this['_type'];return _0x44dc93===ve?this['numCascade'+'s']:_0x44dc93===Ke?0x5*-0x2ff+0x803+-0x166*-0x5:-0x1*0x142c+0x885+-0x5d4*-0x2;}set['type'](_0x575b34){if(this['_type']===_0x575b34)return;this['_type']=_0x575b34,this['_destroySh'+'adowMap'](),this['_updateSha'+'dowBias'](),this['updateKey'](),this['updateClus'+'teredFlags']();const _0x1e9310=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowUpda'+'teOverride'+'s']=null,this['shadowType']=_0x1e9310;}get['type'](){return this['_type'];}set['shape'](_0x13d95d){if(this['_shape']===_0x13d95d)return;this['_shape']=_0x13d95d,this['_destroySh'+'adowMap'](),this['updateKey'](),this['updateClus'+'teredFlags']();const _0x674635=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowType']=_0x674635;}get['shape'](){return this['_shape'];}set['usePhysica'+'lUnits'](_0x58b1ef){this['_usePhysic'+'alUnits']!==_0x58b1ef&&(this['_usePhysic'+'alUnits']=_0x58b1ef,this['_updateLin'+'earColor']());}get['usePhysica'+'lUnits'](){return this['_usePhysic'+'alUnits'];}set['shadowType'](_0xf8c84e){if(this['_shadowTyp'+'e']===_0xf8c84e)return;let _0xbda038=qi['get'](_0xf8c84e);_0xbda038||(_0xf8c84e=$s);const _0x2b25cf=this['device'];_0xf8c84e===al&&!_0x2b25cf['textureFlo'+'atRenderab'+'le']&&!_0x2b25cf['textureHal'+'fFloatRend'+'erable']&&(_0xf8c84e=$s),this['_type']===Ke&&_0xf8c84e!==tv&&_0xf8c84e!==$s&&_0xf8c84e!==sv&&_0xf8c84e!==iv&&_0xf8c84e!==al&&(_0xf8c84e=$s),_0xf8c84e===Jp&&(!_0x2b25cf['textureFlo'+'atRenderab'+'le']||!_0x2b25cf['textureFlo'+'atFilterab'+'le'])&&(_0xf8c84e=au),_0xf8c84e===au&&!_0x2b25cf['textureHal'+'fFloatRend'+'erable']&&(_0xf8c84e=$s),_0xbda038=qi['get'](_0xf8c84e),this['_isVsm']=(_0xbda038==null?void(0x5ad+0x9*0x1b2+-0x14ef*0x1):_0xbda038['vsm'])??!(0x1ab1+0x1f07+-0x133d*0x3),this['_isPcf']=(_0xbda038==null?void(0x3*0x64+0x9c7*-0x1+0x89b):_0xbda038['pcf'])??!(-0x1be4+0x1f01+-0x31c),this['_shadowTyp'+'e']=_0xf8c84e,this['_destroySh'+'adowMap'](),this['updateKey']();}get['shadowType'](){return this['_shadowTyp'+'e'];}set['enabled'](_0x486bd1){this['_enabled']!==_0x486bd1&&(this['_enabled']=_0x486bd1,this['layersDirt'+'y']());}get['enabled'](){return this['_enabled'];}set['castShadow'+'s'](_0x1b8b1a){this['_castShado'+'ws']!==_0x1b8b1a&&(this['_castShado'+'ws']=_0x1b8b1a,this['_destroySh'+'adowMap'](),this['layersDirt'+'y'](),this['updateKey']());}get['castShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']!==fi&&this['_mask']!==0x189c+-0x1*-0x2629+0x1*-0x3ec5;}set['shadowInte'+'nsity'](_0x40cd37){this['_shadowInt'+'ensity']!==_0x40cd37&&(this['_shadowInt'+'ensity']=_0x40cd37,this['updateKey']());}get['shadowInte'+'nsity'](){return this['_shadowInt'+'ensity'];}get['bakeShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']===fi;}set['shadowReso'+'lution'](_0x4ef35d){this['_shadowRes'+'olution']!==_0x4ef35d&&(this['_type']===Ke?_0x4ef35d=Math['min'](_0x4ef35d,this['device']['maxCubeMap'+'Size']):_0x4ef35d=Math['min'](_0x4ef35d,this['device']['maxTexture'+'Size']),this['_shadowRes'+'olution']=_0x4ef35d,this['_destroySh'+'adowMap']());}get['shadowReso'+'lution'](){return this['_shadowRes'+'olution'];}set['vsmBlurSiz'+'e'](_0x544bb1){this['_vsmBlurSi'+'ze']!==_0x544bb1&&(_0x544bb1%(0x1d0b+0xb03*0x1+-0x280c)===-0x41*0x3e+-0x1838+0x27f6&&_0x544bb1++,this['_vsmBlurSi'+'ze']=_0x544bb1);}get['vsmBlurSiz'+'e'](){return this['_vsmBlurSi'+'ze'];}set['normalOffs'+'etBias'](_0x4e2cb4){if(this['_normalOff'+'setBias']!==_0x4e2cb4){const _0x51d644=!this['_normalOff'+'setBias']&&_0x4e2cb4||this['_normalOff'+'setBias']&&!_0x4e2cb4;this['_normalOff'+'setBias']=_0x4e2cb4,_0x51d644&&this['updateKey']();}}get['normalOffs'+'etBias'](){return this['_normalOff'+'setBias'];}set['falloffMod'+'e'](_0x554ed6){this['_falloffMo'+'de']!==_0x554ed6&&(this['_falloffMo'+'de']=_0x554ed6,this['updateKey'](),this['updateClus'+'teredFlags']());}get['falloffMod'+'e'](){return this['_falloffMo'+'de'];}set['innerConeA'+'ngle'](_0x567f9b){this['_innerCone'+'Angle']!==_0x567f9b&&(this['_innerCone'+'Angle']=_0x567f9b,this['_innerCone'+'AngleCos']=Math['cos'](_0x567f9b*Math['PI']/(-0x469*-0x8+0x102*-0xb+-0x177e)),this['updateClus'+'terData'](!(-0x7b*0x27+0x96a+-0x1*-0x954),!(-0x1*-0xc13+-0x1ec3+0x12b0)),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['innerConeA'+'ngle'](){return this['_innerCone'+'Angle'];}set['outerConeA'+'ngle'](_0x53a798){this['_outerCone'+'Angle']!==_0x53a798&&(this['_outerCone'+'Angle']=_0x53a798,this['_updateOut'+'erAngle'](_0x53a798),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['outerConeA'+'ngle'](){return this['_outerCone'+'Angle'];}set['penumbraSi'+'ze'](_0x23c485){this['_penumbraS'+'ize']=_0x23c485,this['_softShado'+'wParams'][0x16f6*0x1+-0x9c7+-0x1*0xd2d]=_0x23c485;}get['penumbraSi'+'ze'](){return this['_penumbraS'+'ize'];}set['penumbraFa'+'lloff'](_0x3ff3c9){this['_softShado'+'wParams'][-0xf98+-0x1d*-0x11b+-0x6c*0x27]=_0x3ff3c9;}get['penumbraFa'+'lloff'](){return this['_softShado'+'wParams'][-0x19*0x87+0x7*0x4d5+-0x14a1];}['_updateOut'+'erAngle'](_0x495963){const _0x251bdf=_0x495963*Math['PI']/(0x112+-0xd*0x203+0x19c9);this['_outerCone'+'AngleCos']=Math['cos'](_0x251bdf),this['_outerCone'+'AngleSin']=Math['sin'](_0x251bdf),this['updateClus'+'terData'](!(0x15*-0xb7+0x2*-0x9f7+-0xe*-0x27f),!(0x1058+0x1f3*-0xf+0xce5));}set['intensity'](_0x5d4dc5){this['_intensity']!==_0x5d4dc5&&(this['_intensity']=_0x5d4dc5,this['_updateLin'+'earColor']());}get['intensity'](){return this['_intensity'];}set['affectSpec'+'ularity'](_0x475f52){this['_type']===ve&&(this['_affectSpe'+'cularity']=_0x475f52,this['updateKey']());}get['affectSpec'+'ularity'](){return this['_affectSpe'+'cularity'];}set['luminance'](_0x1d319f){this['_luminance']!==_0x1d319f&&(this['_luminance']=_0x1d319f,this['_updateLin'+'earColor']());}get['luminance'](){return this['_luminance'];}get['cookieMatr'+'ix'](){return this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new te()),this['_cookieMat'+'rix'];}get['atlasViewp'+'ort'](){return this['_atlasView'+'port']||(this['_atlasView'+'port']=new re(-0xe8*-0x27+0x2*0xe3f+-0x2*0x1feb,-0x1*-0x2647+0xa72+-0x30b9,0x791+0x12+-0x7a2,0x33d*-0x8+-0x1ee1+0x977*0x6)),this['_atlasView'+'port'];}set['cookie'](_0x1485d3){this['_cookie']!==_0x1485d3&&(this['_cookie']=_0x1485d3,this['updateKey']());}get['cookie'](){return this['_cookie'];}set['cookieFall'+'off'](_0x204722){this['_cookieFal'+'loff']!==_0x204722&&(this['_cookieFal'+'loff']=_0x204722,this['updateKey']());}get['cookieFall'+'off'](){return this['_cookieFal'+'loff'];}set['cookieChan'+'nel'](_0x54ce7e){if(this['_cookieCha'+'nnel']!==_0x54ce7e){if(_0x54ce7e['length']<-0x265*0x5+-0x853*-0x3+-0xcfd){const _0x3104c7=_0x54ce7e['charAt'](_0x54ce7e['length']-(0x8f5*-0x3+-0x1*0xc05+0x26e5*0x1)),_0x2557a3=-0x1c87+-0x1c6e*0x1+0x38f8-_0x54ce7e['length'];for(let _0x5cbdab=-0x25f6+0x172*0x11+-0x6b2*-0x2;_0x5cbdab<_0x2557a3;_0x5cbdab++)_0x54ce7e+=_0x3104c7;}this['_cookieCha'+'nnel']=_0x54ce7e,this['updateKey'](),this['updateClus'+'teredFlags']();}}get['cookieChan'+'nel'](){return this['_cookieCha'+'nnel'];}set['cookieTran'+'sform'](_0x2dd566){this['_cookieTra'+'nsform']!==_0x2dd566&&(this['_cookieTra'+'nsform']=_0x2dd566,this['_cookieTra'+'nsformSet']=!!_0x2dd566,_0x2dd566&&!this['_cookieOff'+'set']&&(this['cookieOffs'+'et']=new J(),this['_cookieOff'+'setSet']=!(-0x10*0x269+0xfff+0x1692)),this['updateKey']());}get['cookieTran'+'sform'](){return this['_cookieTra'+'nsform'];}set['cookieOffs'+'et'](_0x491a55){if(this['_cookieOff'+'set']===_0x491a55)return;!!(this['_cookieTra'+'nsformSet']||_0x491a55)&&!_0x491a55&&this['_cookieOff'+'set']?this['_cookieOff'+'set']['set'](-0x1*-0x23c9+-0x4*0x482+0x11c1*-0x1,-0x115*0x1+-0xa2e+0x3*0x3c1):this['_cookieOff'+'set']=_0x491a55,this['_cookieOff'+'setSet']=!!_0x491a55,_0x491a55&&!this['_cookieTra'+'nsform']&&(this['cookieTran'+'sform']=new re(0xac4+0x13e7+-0x1eaa,0x1fab+-0x40d*-0x7+-0x3c05,0x250e+0x1e5d+-0x436b,0x636+-0x28*0x86+0xeba),this['_cookieTra'+'nsformSet']=!(0x8*0x464+-0x1b31+-0x122*0x7)),this['updateKey']();}get['cookieOffs'+'et'](){return this['_cookieOff'+'set'];}['beginFrame'](){this['visibleThi'+'sFrame']=this['_type']===ve&&this['_enabled'],this['maxScreenS'+'ize']=-0x1*0xa9f+0xe19*-0x1+0x8*0x317,this['atlasViewp'+'ortAllocat'+'ed']=!(0x1af1+0x1*-0xd99+0x5*-0x2ab),this['atlasSlotU'+'pdated']=!(0x11*0x1c+-0x17*0x12e+0x1947);}['_destroySh'+'adowMap'](){if(this['releaseRen'+'derData'](),this['_shadowMap']&&(this['_shadowMap']['cached']||this['_shadowMap']['destroy'](),this['_shadowMap']=null),this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=xr),this['shadowUpda'+'teOverride'+'s']){for(let _0xffb577=-0x1*0x73+0x139*-0x1+0x1ac;_0xffb577<this['shadowUpda'+'teOverride'+'s']['length'];_0xffb577++)this['shadowUpda'+'teOverride'+'s'][_0xffb577]===Ps&&(this['shadowUpda'+'teOverride'+'s'][_0xffb577]=xr);}}['getRenderD'+'ata'](_0x5bc16a,_0x30f22f){for(let _0xef5780=-0x4a0*0x4+0x2137+-0xeb7;_0xef5780<this['_renderDat'+'a']['length'];_0xef5780++){const _0x4127cd=this['_renderDat'+'a'][_0xef5780];if(_0x4127cd['camera']===_0x5bc16a&&_0x4127cd['face']===_0x30f22f)return _0x4127cd;}const _0x341763=new dA(_0x5bc16a,_0x30f22f,this);return this['_renderDat'+'a']['push'](_0x341763),_0x341763;}['clone'](){const _0x486dc8=new pl(this['device'],this['clusteredL'+'ighting']);return _0x486dc8['type']=this['_type'],_0x486dc8['setColor'](this['_color']),_0x486dc8['intensity']=this['_intensity'],_0x486dc8['affectSpec'+'ularity']=this['_affectSpe'+'cularity'],_0x486dc8['luminance']=this['_luminance'],_0x486dc8['castShadow'+'s']=this['castShadow'+'s'],_0x486dc8['_enabled']=this['_enabled'],_0x486dc8['attenuatio'+'nStart']=this['attenuatio'+'nStart'],_0x486dc8['attenuatio'+'nEnd']=this['attenuatio'+'nEnd'],_0x486dc8['falloffMod'+'e']=this['_falloffMo'+'de'],_0x486dc8['shadowType']=this['_shadowTyp'+'e'],_0x486dc8['vsmBlurSiz'+'e']=this['_vsmBlurSi'+'ze'],_0x486dc8['vsmBlurMod'+'e']=this['vsmBlurMod'+'e'],_0x486dc8['vsmBias']=this['vsmBias'],_0x486dc8['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x486dc8['mask']=this['mask'],this['shadowUpda'+'teOverride'+'s']&&(_0x486dc8['shadowUpda'+'teOverride'+'s']=this['shadowUpda'+'teOverride'+'s']['slice']()),_0x486dc8['innerConeA'+'ngle']=this['_innerCone'+'Angle'],_0x486dc8['outerConeA'+'ngle']=this['_outerCone'+'Angle'],_0x486dc8['numCascade'+'s']=this['numCascade'+'s'],_0x486dc8['cascadeDis'+'tribution']=this['cascadeDis'+'tribution'],_0x486dc8['cascadeBle'+'nd']=this['_cascadeBl'+'end'],_0x486dc8['shape']=this['_shape'],_0x486dc8['shadowDept'+'hState']['copy'](this['shadowDept'+'hState']),_0x486dc8['shadowBias']=this['shadowBias'],_0x486dc8['normalOffs'+'etBias']=this['_normalOff'+'setBias'],_0x486dc8['shadowReso'+'lution']=this['_shadowRes'+'olution'],_0x486dc8['shadowDist'+'ance']=this['shadowDist'+'ance'],_0x486dc8['shadowInte'+'nsity']=this['shadowInte'+'nsity'],_0x486dc8['shadowSamp'+'les']=this['shadowSamp'+'les'],_0x486dc8['shadowBloc'+'kerSamples']=this['shadowBloc'+'kerSamples'],_0x486dc8['penumbraSi'+'ze']=this['penumbraSi'+'ze'],_0x486dc8['penumbraFa'+'lloff']=this['penumbraFa'+'lloff'],_0x486dc8;}static['getLightUn'+'itConversi'+'on'](_0x313e5c,_0x3dc369=Math['PI']/(0xc01+0x330+-0x50f*0x3),_0x50a0b8=0xc54+0xa18+-0x166c){switch(_0x313e5c){case Ze:{const _0x339c33=Math['cos'](_0x3dc369),_0x5941ca=Math['cos'](_0x50a0b8);return(0x1c21+0x22*0x94+-0x2fc7)*Math['PI']*(0x18*0x127+-0x43d+-0x9*0x29a-_0x5941ca+(_0x5941ca-_0x339c33)/(-0x643*-0x1+-0x247f+-0x7*-0x452));}case Ke:return(-0xe6e+0x1a37+-0x1*0xbc5)*Math['PI'];case ve:return 0x1b3f+-0x1*-0xc28+-0x2766;}}['_getUnifor'+'mBiasValue'+'s'](_0x53e122){const _0x20d9fe=_0x53e122['shadowCame'+'ra']['_farClip'];switch(this['_type']){case Ke:wi['bias']=this['shadowBias'],wi['normalBias']=this['_normalOff'+'setBias'];break;case Ze:this['_isVsm']?wi['bias']=-(0x29*-0xe5+0x1a56+0xa57+0.00001)*(0x831*-0x4+-0x1*-0xe75+0x1263):wi['bias']=this['shadowBias']*(0x7a*-0x3e+0x137*-0x8+-0x4*-0x9d6),wi['normalBias']=this['_isVsm']?this['vsmBias']/(this['attenuatio'+'nEnd']/(-0x2353+0x109f+0x12bb)):this['_normalOff'+'setBias'];break;case ve:this['_isVsm']?wi['bias']=-(-0xace*0x1+-0x9d3+0x14a1+0.00001)*(-0xbd2+0xb63+0x83):wi['bias']=this['shadowBias']/_0x20d9fe*(0x2c3*0x8+-0x8b5*-0x1+-0x5*0x615),wi['normalBias']=this['_isVsm']?this['vsmBias']/(_0x20d9fe/(-0x15*0x63+-0x456+0xc7c)):this['_normalOff'+'setBias'];break;}return wi;}['getColor'](){return this['_color'];}['getBoundin'+'gSphere'](_0x2e4942){if(this['_type']===Ze){const _0x12b3a0=this['attenuatio'+'nEnd'],_0xe4a0fc=this['_outerCone'+'Angle'],_0x84fd51=this['_outerCone'+'AngleCos'],_0x250dd4=this['_node'];dc['copy'](_0x250dd4['up']),_0xe4a0fc>-0x25b*-0xd+0x1d5c+-0x5*0xbf6?(_0x2e4942['radius']=_0x12b3a0*this['_outerCone'+'AngleSin'],dc['mulScalar'](-_0x12b3a0*_0x84fd51)):(_0x2e4942['radius']=_0x12b3a0/((0x238c+0x2219+-0x45a3)*_0x84fd51),dc['mulScalar'](-_0x2e4942['radius'])),_0x2e4942['center']['add2'](_0x250dd4['getPositio'+'n'](),dc);}else this['_type']===Ke&&(_0x2e4942['center']=this['_node']['getPositio'+'n'](),_0x2e4942['radius']=this['attenuatio'+'nEnd']);}['getBoundin'+'gBox'](_0x1e4b64){if(this['_type']===Ze){const _0x241997=this['attenuatio'+'nEnd'],_0xcf26a4=this['_outerCone'+'Angle'],_0x48df29=this['_node'],_0x217ef1=Math['abs'](Math['sin'](_0xcf26a4*Y['DEG_TO_RAD'])*_0x241997);_0x1e4b64['center']['set'](0x634*0x6+-0xeb7+-0x337*0x7,-_0x241997*(0x1*0x100a+0x119b+-0x21a5+0.5),-0x8f8*0x4+0x2064+0x37c),_0x1e4b64['halfExtent'+'s']['set'](_0x217ef1,_0x241997*(0x1443+0x2270+0x4f9*-0xb+0.5),_0x217ef1),_0x1e4b64['setFromTra'+'nsformedAa'+'bb'](_0x1e4b64,_0x48df29['getWorldTr'+'ansform'](),!(0x42f*0x2+0x1606+-0x1e64*0x1));}else this['_type']===Ke&&(_0x1e4b64['center']['copy'](this['_node']['getPositio'+'n']()),_0x1e4b64['halfExtent'+'s']['set'](this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd']));}['_updateSha'+'dowBias'](){if(this['_type']===Ke&&!this['clusteredL'+'ighting'])this['shadowDept'+'hState']['depthBias']=0xe9a+0x4d5*0x1+-0x5*0x3e3,this['shadowDept'+'hState']['depthBiasS'+'lope']=0x164+0x19*0x39+-0x6f5;else{const _0x2b6043=this['shadowBias']*-(-0x6*-0x56e+0x1aa2+0x1ba7*-0x2);this['shadowDept'+'hState']['depthBias']=_0x2b6043,this['shadowDept'+'hState']['depthBiasS'+'lope']=_0x2b6043;}}['_updateLin'+'earColor'](){let _0x7a8c87=this['_intensity'];this['_usePhysic'+'alUnits']&&(_0x7a8c87=this['_luminance']/pl['getLightUn'+'itConversi'+'on'](this['_type'],this['_outerCone'+'Angle']*Y['DEG_TO_RAD'],this['_innerCone'+'Angle']*Y['DEG_TO_RAD']));const _0x27c8d0=this['_color'],_0x1c2cfc=this['_colorLine'+'ar'];_0x7a8c87>=-0x1*0x1031+-0x1212+-0x44*-0x81?ho['linear'](_0x27c8d0)['mulScalar'](_0x7a8c87):ho['copy'](_0x27c8d0)['mulScalar'](_0x7a8c87)['linear'](),_0x1c2cfc[0x1d37+0x2*0x1129+-0x1*0x3f89]=ho['r'],_0x1c2cfc[0x45f+0x1cc2+-0xa*0x350]=ho['g'],_0x1c2cfc[-0xcfa*0x2+0x18*-0x92+0x27a6]=ho['b'],this['updateClus'+'terData'](!(-0x67d+-0x2*-0x530+-0x5*0xc7));}['setColor'](){arguments['length']===0x1835*-0x1+0x1a1*-0x5+-0x2f1*-0xb?this['_color']['set'](arguments[-0x5cf+0x2db*0x1+0x2f4]['r'],arguments[0x1*-0x1e8f+0x15ea+0x1*0x8a5]['g'],arguments[0x2706+0xcc0+-0x33c6]['b']):arguments['length']===0x2e6+-0x1df*0x14+0x2289&&this['_color']['set'](arguments[0xcd9+0x13ab+-0x2084],arguments[-0x2b3*0x1+-0x657*-0x3+-0x1051],arguments[0x158b+0x570+-0x1af9]),this['_updateLin'+'earColor']();}['layersDirt'+'y'](){this['layers']['forEach'](_0x569a0e=>{_0x569a0e['hasLight'](this)&&_0x569a0e['markLights'+'Dirty']();});}['updateKey'](){let _0x5da1f1=this['_type']<<-0x1*0x493+-0x19e3+0x1e93|this['_shadowTyp'+'e']<<0x295*0xb+0x22e8+-0x3f36|this['_falloffMo'+'de']<<0x1027+0x2400*0x1+0x3b8*-0xe|(this['_normalOff'+'setBias']!==-0x10b*0xd+0x1*-0x2659+0x33e8?0x675+-0x26b5+-0x2041*-0x1:0x1459+0x25c9*-0x1+-0x48*-0x3e)<<0xd0a+-0x1c87+-0x1bb*-0x9|(this['_cookie']?0x65b*0x2+-0x1a33+0xd7e:0x35f*0x1+-0x83f*0x1+0x4*0x138)<<0x1*0x17a5+0x316+-0x1aa6|(this['_cookieFal'+'loff']?-0x373*0x9+0xc7c+0x1290:-0x1*0x5cb+0x1b6e*0x1+0x1d*-0xbf)<<0x503+-0x1b1e+0x9*0x277|pf[this['_cookieCha'+'nnel']['charAt'](-0x1*0x1c2b+-0xa5e+0x2689*0x1)]<<0x892+-0x1031+0xb*0xb3|(this['_cookieTra'+'nsform']?0x1d46+0x2043+0xf62*-0x4:-0x148c+0x1ced+-0x861)<<-0x978+-0x1057*0x1+-0x1*-0x19db|this['_shape']<<-0x4*0x26f+0x7*0x12+-0x21*-0x48|(this['numCascade'+'s']>0x2a1*0x2+-0x2326+0x1de4?0x1f11+0x1*-0xf37+-0xfd9*0x1:-0xdf3+-0x11de+0x1fd1)<<-0xb*0x2b+0x21d6+-0x5*0x664|(this['_cascadeBl'+'end']>0x2*0xf4+-0xad*-0x2a+-0x1e4a?0xc52*0x2+0xe88+-0x10f*0x25:0x60d*-0x3+0x11*0x59+0xc3e)<<0x1c91+0x17f7+-0x3480|(this['affectSpec'+'ularity']?-0x1c0*0x4+0x20f3+-0x6*0x453:0x149+-0x1f85+0x56*0x5a)<<0x1*-0x4e7+0x1fb+0x2f3*0x1|this['mask']<<-0x2*-0x525+-0x76f*-0x5+-0x2f6f*0x1|(this['_castShado'+'ws']?0xff3+0x95*-0x35+-0x2fb*-0x5:-0x377*-0x4+0xbca+-0x1d5*0xe)<<-0xa*-0x355+-0x1887+-0x8c8;this['_cookieCha'+'nnel']['length']===-0x2104+0x248*0xa+0x5*0x20b&&(_0x5da1f1|=pf[this['_cookieCha'+'nnel']['charAt'](0x116*-0x1+0x2*0xe71+0x1*-0x1bcb)]<<0x102d+-0x2f0+-0xd2d,_0x5da1f1|=pf[this['_cookieCha'+'nnel']['charAt'](-0x1474+0x4f*0x76+-0xff4)]<<-0x163d*0x1+0x966*-0x4+0x3be3*0x1),_0x5da1f1!==this['key']&&this['layersDirt'+'y'](),this['key']=_0x5da1f1;}['updateClus'+'teredFlags'](){const _0xa789a4=!!(this['mask']&Ss),_0x101bc5=!!(this['mask']&di);this['clusteredF'+'lags']=(this['type']===Ze?0x1262+-0x2*-0x491+0x1*-0x1b83:0xeac+-0x207c+-0x4*-0x474)<<0x26a*0x1+-0x5bf*0x6+0x202e|(this['_shape']&-0x14*-0x1ca+0x9*0x26d+-0x399a)<<-0xca0+-0xae9+-0x1*-0x17a5|(this['_falloffMo'+'de']&0x6*-0x5e7+-0x42b+0x9*0x466)<<-0x206*0xb+0x104e+-0xb*-0x8d|(cA[this['_cookieCha'+'nnel']]??-0x58*-0x5e+0x23e5+-0x13*0x397)<<0x3*0x79c+0x2*0x31f+-0x1*0x1cfb|(_0xa789a4?-0x1*0x418+-0x1bed+0x2006:0x2428+0x1373+0xf*-0x3b5)<<0x7ff+-0x2522+0x1d39|(_0x101bc5?-0x1fd*-0x6+-0x4*0xbb+-0x1cd*0x5:-0x25ec+0xa1*-0x2f+-0x2b3*-0x19)<<-0x1*0xbb7+-0x1a0b*-0x1+0x209*-0x7;}['getCluster'+'edFlags'](_0x2b9bda,_0x3eca9a){return this['clusteredF'+'lags']|((_0x2b9bda?Math['floor'](this['shadowInte'+'nsity']*(0x1850+0xfc2+-0x2713)):0xf50+-0x4c0+0xd0*-0xd)&0xec6+-0x191*0x3+0x245*-0x4)<<-0x9c6+0x115c*0x1+-0x796|((_0x3eca9a?Math['floor'](this['cookieInte'+'nsity']*(0x1*0x685+-0xfa8+0xa22)):0x56*0x49+0x551*-0x5+0x11*0x1f)&-0xe79+-0x2212+-0x18c5*-0x2)<<0x1*-0xf0e+0xc18+0x2fe;}['updateClus'+'terData'](_0x439459,_0x3e1445){const {clusteredData16:_0x6612d0}=this,_0x3eeeab=Mn['float2Half'];_0x439459&&(_0x6612d0[-0x23cf+0x16*0xb6+0x142b]=_0x3eeeab(Y['clamp'](this['_colorLine'+'ar'][0x12e2+0xfe0+-0x22c2]/$c,0x1271+0x180a+-0x2a7b,-0x3bea*0x4+0xe92a+-0x2b*-0x61a)),_0x6612d0[0x295+0x186a+-0x1afe]=_0x3eeeab(Y['clamp'](this['_colorLine'+'ar'][0x2*0xbcb+-0x4d5*0x2+-0xdeb]/$c,0xd6*0x1+0xa3*0xf+-0xa63,-0x22*-0x33d+-0x1*0x102c3+0x19489)),_0x6612d0[-0x1*-0x1ad1+-0xc56+-0xe79]=_0x3eeeab(Y['clamp'](this['_colorLine'+'ar'][0xb4e+0x1ace+-0x261a]/$c,-0x32d+0x1e8d+-0x1b60,-0x1b2e0+0x2f*0xacf+-0xb*-0x109d))),_0x3e1445&&(_0x6612d0[0x75*-0x22+-0x1968+0x62*0x6b]=_0x3eeeab(this['_innerCone'+'AngleCos']),_0x6612d0[0x99b*0x3+0x86*0x2+-0x1dd8]=_0x3eeeab(this['_outerCone'+'AngleCos']));}}class Mv{constructor(_0x1204b0,_0x388ef8,_0x4fc6be){h(this,'_areaLight'+'sEnabled',!(-0x89a+-0x1*-0x14f9+-0xc5e)),h(this,'_cells',new D(0x442*-0x7+-0x7*-0x1d5+-0x1*-0x1105,-0x1*-0x1267+0x6*0x1b+-0x983*0x2,-0x3e*-0x87+-0x2*-0xab6+-0x1b0a*0x2)),h(this,'_maxLights'+'PerCell',-0x1*-0x958+0x1*-0xd3b+0x7d*0xa),h(this,'_shadowsEn'+'abled',!(0x19c+-0x5*0x1fd+0x855)),h(this,'_shadowTyp'+'e',$s),h(this,'_shadowAtl'+'asResoluti'+'on',-0x4*-0x4d3+0xfac+-0xd7c*0x2),h(this,'_cookiesEn'+'abled',!(0x3d*-0xd+-0x244d+0x2767)),h(this,'_cookieAtl'+'asResoluti'+'on',-0x1975+-0x2*-0xd28+0x725),h(this,'debugLayer'),h(this,'atlasSplit',null),(this['_supportsA'+'reaLights']=_0x1204b0,this['_maxTextur'+'eSize']=_0x388ef8,this['_dirtyLigh'+'tsFnc']=_0x4fc6be);}['applySetti'+'ngs'](_0x3d5c14){this['shadowsEna'+'bled']=_0x3d5c14['lightingSh'+'adowsEnabl'+'ed']??this['shadowsEna'+'bled'],this['cookiesEna'+'bled']=_0x3d5c14['lightingCo'+'okiesEnabl'+'ed']??this['cookiesEna'+'bled'],this['areaLights'+'Enabled']=_0x3d5c14['lightingAr'+'eaLightsEn'+'abled']??this['areaLights'+'Enabled'],this['shadowAtla'+'sResolutio'+'n']=_0x3d5c14['lightingSh'+'adowAtlasR'+'esolution']??this['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x3d5c14['lightingCo'+'okieAtlasR'+'esolution']??this['cookieAtla'+'sResolutio'+'n'],this['maxLightsP'+'erCell']=_0x3d5c14['lightingMa'+'xLightsPer'+'Cell']??this['maxLightsP'+'erCell'],this['shadowType']=_0x3d5c14['lightingSh'+'adowType']??this['shadowType'],_0x3d5c14['lightingCe'+'lls']&&(this['cells']=new D(_0x3d5c14['lightingCe'+'lls']));}set['cells'](_0x36873f){this['_cells']['copy'](_0x36873f);}get['cells'](){return this['_cells'];}set['maxLightsP'+'erCell'](_0xb3a7e6){this['_maxLights'+'PerCell']=Y['clamp'](_0xb3a7e6,0x46*0x31+-0x21cb+0x2*0xa33,-0x1ec7+-0x3*0x2e9+-0x2881*-0x1);}get['maxLightsP'+'erCell'](){return this['_maxLights'+'PerCell'];}set['cookieAtla'+'sResolutio'+'n'](_0x43b760){this['_cookieAtl'+'asResoluti'+'on']=Y['clamp'](_0x43b760,-0xaa*0x14+0x1bb2+0x3e*-0x3b,this['_maxTextur'+'eSize']);}get['cookieAtla'+'sResolutio'+'n'](){return this['_cookieAtl'+'asResoluti'+'on'];}set['shadowAtla'+'sResolutio'+'n'](_0x19d491){this['_shadowAtl'+'asResoluti'+'on']=Y['clamp'](_0x19d491,0x93*-0x5+0x11*0x49+-0x1da,this['_maxTextur'+'eSize']);}get['shadowAtla'+'sResolutio'+'n'](){return this['_shadowAtl'+'asResoluti'+'on'];}set['shadowType'](_0xf57b97){this['_shadowTyp'+'e']!==_0xf57b97&&(this['_shadowTyp'+'e']=_0xf57b97,this['_dirtyLigh'+'tsFnc']());}get['shadowType'](){return this['_shadowTyp'+'e'];}set['cookiesEna'+'bled'](_0x47de62){this['_cookiesEn'+'abled']!==_0x47de62&&(this['_cookiesEn'+'abled']=_0x47de62,this['_dirtyLigh'+'tsFnc']());}get['cookiesEna'+'bled'](){return this['_cookiesEn'+'abled'];}set['areaLights'+'Enabled'](_0x588ffa){this['_supportsA'+'reaLights']&&this['_areaLight'+'sEnabled']!==_0x588ffa&&(this['_areaLight'+'sEnabled']=_0x588ffa,this['_dirtyLigh'+'tsFnc']());}get['areaLights'+'Enabled'](){return this['_areaLight'+'sEnabled'];}set['shadowsEna'+'bled'](_0xcba455){this['_shadowsEn'+'abled']!==_0xcba455&&(this['_shadowsEn'+'abled']=_0xcba455,this['_dirtyLigh'+'tsFnc']());}get['shadowsEna'+'bled'](){return this['_shadowsEn'+'abled'];}}class xa{constructor(_0xa01af6){this['morph']=_0xa01af6,_0xa01af6['incRefCoun'+'t'](),this['device']=_0xa01af6['device'];const _0x3285ee=_0xa01af6['_targets']['length'];this['shader']=this['_createSha'+'der'](_0x3285ee),this['_weights']=[],this['_weightMap']=new Map();for(let _0x263ddd=0x2245+-0x4*-0x3df+-0x2f*0x10f;_0x263ddd<_0xa01af6['_targets']['length'];_0x263ddd++){const _0x3d17de=_0xa01af6['_targets'][_0x263ddd];_0x3d17de['name']&&this['_weightMap']['set'](_0x3d17de['name'],_0x263ddd),this['setWeight'](_0x263ddd,_0x3d17de['defaultWei'+'ght']);}this['_shaderMor'+'phWeights']=new Float32Array(_0x3285ee),this['_shaderMor'+'phIndex']=new Uint32Array(_0x3285ee);const _0x4c674f=(_0x12c647,_0x151636)=>(this[_0x151636]=_0xa01af6['_createTex'+'ture'](_0x12c647,_0xa01af6['_renderTex'+'tureFormat']),new gt({'colorBuffer':this[_0x151636],'depth':!(0x26c6*0x1+0x209*0xe+-0x1*0x4343)}));_0xa01af6['morphPosit'+'ions']&&(this['rtPosition'+'s']=_0x4c674f('MorphRTPos','texturePos'+'itions')),_0xa01af6['morphNorma'+'ls']&&(this['rtNormals']=_0x4c674f('MorphRTNrm','textureNor'+'mals')),this['_texturePa'+'rams']=new Float32Array([_0xa01af6['morphTextu'+'reWidth'],_0xa01af6['morphTextu'+'reHeight']]);const _0x2bbea9=_0xa01af6['aabb']['halfExtent'+'s'];this['_aabbSize']=new Float32Array([_0x2bbea9['x']*(-0x28d*-0x2+0x35*-0x61+0xeff),_0x2bbea9['y']*(0xb*-0x57+0x1e50+-0x1a8f*0x1),_0x2bbea9['z']*(0x5*0x49d+-0x5e4+-0x1129*0x1)]);const _0x1f1d88=_0xa01af6['aabb']['getMin']();this['_aabbMin']=new Float32Array([_0x1f1d88['x']*(0x1ef*-0x2+0xe1d+-0xa3d),_0x1f1d88['y']*(-0x205c+-0xef9*0x1+0x2f57),_0x1f1d88['z']*(-0x8cb*0x1+0xa1*-0x7+0xd34)]),this['_aabbNrmSi'+'ze']=new Float32Array([0x2c*0x9+-0x1*-0x1c1d+-0x1*0x1da7,0x8*0x2b0+-0x55*-0x55+0xb*-0x485,-0x175d+0xc5f+0xb00*0x1]),this['_aabbNrmMi'+'n']=new Float32Array([-(0x1155+-0x3d*0x1e+-0xa2e),-(0x13b7+0x7*-0x2c5+0x1*-0x53),-(-0x2113*0x1+0x3*0x1f+-0x68b*-0x5)]),this['aabbSizeId']=this['device']['scope']['resolve']('aabbSize'),this['aabbMinId']=this['device']['scope']['resolve']('aabbMin'),this['morphTextu'+'reId']=this['device']['scope']['resolve']('morphTextu'+'re'),this['morphFacto'+'r']=this['device']['scope']['resolve']('morphFacto'+'r[0]'),this['morphIndex']=this['device']['scope']['resolve']('morphIndex'+'[0]'),this['countId']=this['device']['scope']['resolve']('count'),this['zeroTextur'+'es']=!(0x2dd*0x5+0x1*0x146+-0xf96);}['destroy'](){var _0x570b2b,_0x430ad0,_0x4a1464,_0x308d6b;this['shader']=null;const _0x31037d=this['morph'];_0x31037d&&(this['morph']=null,_0x31037d['decRefCoun'+'t'](),_0x31037d['refCount']<-0x1d21+-0x424*-0x7+0x26&&_0x31037d['destroy']()),(_0x570b2b=this['rtPosition'+'s'])==null||_0x570b2b['destroy'](),this['rtPosition'+'s']=null,(_0x430ad0=this['texturePos'+'itions'])==null||_0x430ad0['destroy'](),this['texturePos'+'itions']=null,(_0x4a1464=this['rtNormals'])==null||_0x4a1464['destroy'](),this['rtNormals']=null,(_0x308d6b=this['textureNor'+'mals'])==null||_0x308d6b['destroy'](),this['textureNor'+'mals']=null;}['clone'](){return new xa(this['morph']);}['_getWeight'+'Index'](_0x542d53){if(typeof _0x542d53=='string'){const _0x2e268e=this['_weightMap']['get'](_0x542d53);return _0x2e268e===void(0x53*0xe+0x189+-0x613)&&w['errorOnce']('Cannot\x20fin'+'d\x20morph\x20ta'+'rget\x20with\x20'+'name:\x20'+_0x542d53+'.'),_0x2e268e;}return _0x542d53;}['getWeight'](_0x4c69ec){const _0x228bff=this['_getWeight'+'Index'](_0x4c69ec);return this['_weights'][_0x228bff];}['setWeight'](_0xb83b95,_0x424b85){const _0x3676cf=this['_getWeight'+'Index'](_0xb83b95);w['assert'](_0x3676cf>=0x2490+0x19bc+-0x3e4c&&_0x3676cf<this['morph']['_targets']['length']),this['_weights'][_0x3676cf]=_0x424b85,this['_dirty']=!(-0x14db+-0x1433+0x290e);}['_createSha'+'der'](_0x539285){const _0x39f6f2=new Map();_0x39f6f2['set']('{MORPH_TEX'+'TURE_MAX_C'+'OUNT}',_0x539285),this['morph']['intRenderF'+'ormat']&&_0x39f6f2['set']('MORPH_INT','');const _0xa8be41=this['morph']['intRenderF'+'ormat']?'uvec4':'vec4';return $t['createShad'+'er'](this['device'],{'uniqueName':'TextureMor'+'phShader_'+_0x539285+'-'+(this['morph']['intRenderF'+'ormat']?'int':'float'),'attributes':{'vertex_position':Me},'vertexChunk':'morphVS','fragmentChunk':'morphPS','fragmentDefines':_0x39f6f2,'fragmentOutputTypes':[_0xa8be41]});}['_updateTex'+'tureRender'+'Target'](_0x4c9730,_0x8f5e7b,_0x13dce9){const {morph:_0x3912de,device:_0x44e86d}=this;this['setAabbUni'+'forms'](_0x13dce9),this['morphTextu'+'reId']['setValue'](_0x13dce9?_0x3912de['targetsTex'+'turePositi'+'ons']:_0x3912de['targetsTex'+'tureNormal'+'s']),_0x44e86d['setBlendSt'+'ate'](pt['NOBLEND']),this['countId']['setValue'](_0x8f5e7b),this['morphFacto'+'r']['setValue'](this['_shaderMor'+'phWeights']),this['morphIndex']['setValue'](this['_shaderMor'+'phIndex']),Ar(_0x44e86d,_0x4c9730,this['shader']);}['_updateTex'+'tureMorph'](_0x21d920){const _0x3b5c6b=this['device'];Q['pushGpuMar'+'ker'](_0x3b5c6b,'MorphUpdat'+'e'),(_0x21d920>-0x1*0x1265+0x2*0x2fb+-0x3*-0x425||!this['zeroTextur'+'es'])&&(this['rtPosition'+'s']&&this['_updateTex'+'tureRender'+'Target'](this['rtPosition'+'s'],_0x21d920,!(-0x2375+0x1*-0x333+-0x26a8*-0x1)),this['rtNormals']&&this['_updateTex'+'tureRender'+'Target'](this['rtNormals'],_0x21d920,!(0x7e6+-0x1fcf+0x17ea)),this['zeroTextur'+'es']=_0x21d920===-0x12c2+-0x1bf8+-0x2eba*-0x1),Q['popGpuMark'+'er'](_0x3b5c6b);}['setAabbUni'+'forms'](_0x38471e=!(0xe23*0x1+-0x2582+-0x175f*-0x1)){this['aabbSizeId']['setValue'](_0x38471e?this['_aabbSize']:this['_aabbNrmSi'+'ze']),this['aabbMinId']['setValue'](_0x38471e?this['_aabbMin']:this['_aabbNrmMi'+'n']);}['prepareRen'+'dering'](_0x555ce8){this['setAabbUni'+'forms']();}['update'](){this['_dirty']=!(0x2145+-0x6*0xfd+0x1b56*-0x1);const _0x2479d3=this['morph']['_targets'],_0x4096d7=0x4e5+-0x2*0xcf7+0x1509+0.00001,_0x49eca4=this['_shaderMor'+'phWeights'],_0x3ef277=this['_shaderMor'+'phIndex'];let _0x3d08df=0x6ea+0xfbe*0x1+0x3a*-0x64;for(let _0x17d5b5=0x323*0xb+-0x1*-0x6b9+-0x3*0xdbe;_0x17d5b5<_0x2479d3['length'];_0x17d5b5++)Math['abs'](this['getWeight'](_0x17d5b5))>_0x4096d7&&(_0x49eca4[_0x3d08df]=this['getWeight'](_0x17d5b5),_0x3ef277[_0x3d08df]=_0x17d5b5,_0x3d08df++);this['_updateTex'+'tureMorph'](_0x3d08df);}}class sr{constructor(){h(this,'graph',null),h(this,'meshInstan'+'ces',[]),h(this,'skinInstan'+'ces',[]),h(this,'morphInsta'+'nces',[]),(this['cameras']=[],this['lights']=[],this['_shadersVe'+'rsion']=-0x308*0x1+-0x241+0x549,this['_immutable']=!(-0x167d+0x4*-0x968+0x32a*0x13));}['getGraph'](){return this['graph'];}['setGraph'](_0x1a727e){this['graph']=_0x1a727e;}['getCameras'](){return this['cameras'];}['setCameras'](_0x3027b0){this['cameras']=_0x3027b0;}['getLights'](){return this['lights'];}['setLights'](_0x4df69c){this['lights']=_0x4df69c;}['getMateria'+'ls'](){const _0x2d71b8=[];for(let _0x1b32d8=-0x9*0x13+-0x45f+0x3*0x1ae;_0x1b32d8<this['meshInstan'+'ces']['length'];_0x1b32d8++){const _0x54c955=this['meshInstan'+'ces'][_0x1b32d8];_0x2d71b8['indexOf'](_0x54c955['material'])===-(0x730+0x43*-0x17+-0x12a)&&_0x2d71b8['push'](_0x54c955['material']);}return _0x2d71b8;}['clone'](){const _0x15663b=[],_0x18b201=[],_0x34a0d9=function(_0x255ff1){const _0x2c8a14=_0x255ff1['clone']();_0x15663b['push'](_0x255ff1),_0x18b201['push'](_0x2c8a14);for(let _0xabf913=0x8*-0xfb+-0x12f*-0x21+0x83*-0x3d;_0xabf913<_0x255ff1['_children']['length'];_0xabf913++)_0x2c8a14['addChild'](_0x34a0d9(_0x255ff1['_children'][_0xabf913]));return _0x2c8a14;},_0x121b30=_0x34a0d9(this['graph']),_0xc176d1=[],_0x44671f=[],_0x227aec=[];for(let _0x38ebf1=0xa53+0x1d75*-0x1+-0x1f*-0x9e;_0x38ebf1<this['skinInstan'+'ces']['length'];_0x38ebf1++){const _0x1c3b3e=this['skinInstan'+'ces'][_0x38ebf1]['skin'],_0x4a0d77=new Ol(_0x1c3b3e),_0x264755=[];for(let _0x347670=0x5*-0x426+0x593*-0x3+-0x45*-0x8b;_0x347670<_0x1c3b3e['boneNames']['length'];_0x347670++){const _0x31d3d6=_0x1c3b3e['boneNames'][_0x347670],_0x5db47c=_0x121b30['findByName'](_0x31d3d6);_0x264755['push'](_0x5db47c);}_0x4a0d77['bones']=_0x264755,_0x44671f['push'](_0x4a0d77);}for(let _0x517c90=0x36*-0x4f+-0x177f+0x2829;_0x517c90<this['morphInsta'+'nces']['length'];_0x517c90++){const _0x595281=this['morphInsta'+'nces'][_0x517c90]['morph'],_0x301d54=new xa(_0x595281);_0x227aec['push'](_0x301d54);}for(let _0x125380=-0xbad+-0x53*-0x67+-0x22c*0xa;_0x125380<this['meshInstan'+'ces']['length'];_0x125380++){const _0x1628a5=this['meshInstan'+'ces'][_0x125380],_0x518045=_0x15663b['indexOf'](_0x1628a5['node']),_0x1feb85=new He(_0x1628a5['mesh'],_0x1628a5['material'],_0x18b201[_0x518045]);if(_0x1628a5['skinInstan'+'ce']){const _0x3fbc4f=this['skinInstan'+'ces']['indexOf'](_0x1628a5['skinInstan'+'ce']);_0x1feb85['skinInstan'+'ce']=_0x44671f[_0x3fbc4f];}if(_0x1628a5['morphInsta'+'nce']){const _0x551a5c=this['morphInsta'+'nces']['indexOf'](_0x1628a5['morphInsta'+'nce']);_0x1feb85['morphInsta'+'nce']=_0x227aec[_0x551a5c];}_0xc176d1['push'](_0x1feb85);}const _0x2b62c1=new sr();return _0x2b62c1['graph']=_0x121b30,_0x2b62c1['meshInstan'+'ces']=_0xc176d1,_0x2b62c1['skinInstan'+'ces']=_0x44671f,_0x2b62c1['morphInsta'+'nces']=_0x227aec,_0x2b62c1['getGraph']()['syncHierar'+'chy'](),_0x2b62c1;}['destroy'](){const _0x53ae16=this['meshInstan'+'ces'];for(let _0x456192=-0xb1c+-0x8*-0x457+0xbce*-0x2;_0x456192<_0x53ae16['length'];_0x456192++)_0x53ae16[_0x456192]['destroy']();this['meshInstan'+'ces']['length']=0x18a1+-0xaaf+-0x5*0x2ca;}['generateWi'+'reframe'](){He['_prepareRe'+'nderStyleF'+'orArray'](this['meshInstan'+'ces'],$r);}}class mm extends wd{constructor(_0x14a372,_0x1e2bff,{preferHighPrecision:_0xf47816=!(0x4*-0x393+-0x184+0xfd1)}={}){super(),h(this,'_aabb'),h(this,'preferHigh'+'Precision'),(w['assert'](_0x1e2bff,'Morph\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x1e2bff);const _0x5947cb=_0x1e2bff;this['preferHigh'+'Precision']=_0xf47816,w['assert'](_0x14a372['every'](_0x540590=>!_0x540590['used']),'A\x20specifie'+'d\x20target\x20h'+'as\x20already'+'\x20been\x20used'+'\x20to\x20create'+'\x20a\x20Morph,\x20'+'use\x20its\x20cl'+'one\x20instea'+'d.'),this['_targets']=_0x14a372['slice']();const _0x41fec9=_0x5947cb['textureHal'+'fFloatRend'+'erable']?nt:void(0x7*-0x49f+-0xcf4+0x2d4d),_0x5e7b28=_0x5947cb['textureFlo'+'atRenderab'+'le']?Xt:void(-0x2605+0x70f*-0x5+-0x5c*-0xcc);this['_renderTex'+'tureFormat']=this['preferHigh'+'Precision']?_0x5e7b28??_0x41fec9:_0x41fec9??_0x5e7b28,this['_renderTex'+'tureFormat']=this['_renderTex'+'tureFormat']??nd,this['intRenderF'+'ormat']=dn(this['_renderTex'+'tureFormat']),this['_textureFo'+'rmat']=this['preferHigh'+'Precision']?Xt:nt,this['_init'](),this['_updateMor'+'phFlags']();}['destroy'](){var _0x579de8,_0xed9fe4,_0x54eded;(_0x579de8=this['vertexBuff'+'erIds'])==null||_0x579de8['destroy'](),this['vertexBuff'+'erIds']=null,(_0xed9fe4=this['targetsTex'+'turePositi'+'ons'])==null||_0xed9fe4['destroy'](),this['targetsTex'+'turePositi'+'ons']=null,(_0x54eded=this['targetsTex'+'tureNormal'+'s'])==null||_0x54eded['destroy'](),this['targetsTex'+'tureNormal'+'s']=null;}get['aabb'](){if(!this['_aabb']){const _0x141240=new D(),_0x201740=new D();for(let _0x2e17fe=0x1867*-0x1+0x121*-0x17+-0x399*-0xe;_0x2e17fe<this['_targets']['length'];_0x2e17fe++){const _0x3d251d=this['_targets'][_0x2e17fe]['aabb'];_0x141240['min'](_0x3d251d['getMin']()),_0x201740['max'](_0x3d251d['getMax']());}this['_aabb']=new De(),this['_aabb']['setMinMax'](_0x141240,_0x201740);}return this['_aabb'];}get['morphPosit'+'ions'](){return this['_morphPosi'+'tions'];}get['morphNorma'+'ls'](){return this['_morphNorm'+'als'];}['_init'](){this['_initTextu'+'reBased']();for(let _0xf3240e=-0x2dd+0x757*-0x4+0x71*0x49;_0xf3240e<this['_targets']['length'];_0xf3240e++)this['_targets'][_0xf3240e]['_postInit']();}['_findSpars'+'eSet'](_0x51d1cc,_0x1e7f23,_0x188c95){let _0xbcb221=0x1*-0x74f+-0x3fa+-0x1*-0xb4a;const _0x2d783d=_0x51d1cc[-0x46*-0x8d+-0x190e*-0x1+-0x45*0xec]['length'];for(let _0x10f187=-0x1228+0x1*0xd9a+-0x247*-0x2;_0x10f187<_0x2d783d;_0x10f187+=-0x2540+-0x24cd+0x4a10){let _0x44c0ca=!(-0x85c+-0x1891+0xf*0x232);for(let _0x5a6b2c=0x15e3+-0x247+-0x4*0x4e7;_0x5a6b2c<_0x51d1cc['length'];_0x5a6b2c++){const _0x1bd938=_0x51d1cc[_0x5a6b2c];if(_0x1bd938[_0x10f187]!==0x53*-0x63+0x7a*0x49+-0x35*0xd||_0x1bd938[_0x10f187+(0x1237+0xdb*0x1e+-0x2be0)]!==-0x171+-0x593*0x3+0x915*0x2||_0x1bd938[_0x10f187+(0x5c1+0x24d+-0x203*0x4)]!==-0xa7f*0x1+-0x2209*-0x1+-0x178a){_0x44c0ca=!(-0x6*-0x45b+0x1595+0x15d*-0x23);break;}}_0x44c0ca?(_0x1e7f23['push'](_0xbcb221),_0x188c95['push'](_0x10f187/(0xf45+-0xe55+-0xed)),_0xbcb221++):_0x1e7f23['push'](0x90*-0x12+0x21e*-0x2+0xe5c);}return _0xbcb221;}['_initTextu'+'reBased'](){const _0x2bb64f=[],_0x373f5b=[],_0x24a2c0=this['_targets'];for(let _0x1c2410=0xfb*0x25+-0x2a9*0xb+-0x704;_0x1c2410<_0x24a2c0['length'];_0x1c2410++){const _0x1ad9a9=_0x24a2c0[_0x1c2410];_0x1ad9a9['options']['deltaPosit'+'ions']&&(_0x2bb64f['push'](_0x1ad9a9['options']['deltaPosit'+'ions']),_0x373f5b['push'](!(-0x524+-0xfce+0x14f2))),_0x1ad9a9['options']['deltaNorma'+'ls']&&(_0x2bb64f['push'](_0x1ad9a9['options']['deltaNorma'+'ls']),_0x373f5b['push'](!(0xb5c*0x3+0x1*-0x3f3+-0x788*0x4)));}const _0x1428c0=[],_0x5c08ca=[],_0x47fa0b=this['_findSpars'+'eSet'](_0x2bb64f,_0x1428c0,_0x5c08ca),_0x5f0de2=this['device']['maxTexture'+'Size'];let _0x4f8f31=Math['ceil'](Math['sqrt'](_0x47fa0b));_0x4f8f31=Math['min'](_0x4f8f31,_0x5f0de2);const _0x1bc36b=Math['ceil'](_0x47fa0b/_0x4f8f31);if(_0x1bc36b>_0x5f0de2){w['warnOnce']('Morph\x20targ'+'et\x20data\x20is'+'\x20too\x20large'+'\x20to\x20fit\x20in'+'to\x20a\x20textu'+'re\x20array.\x20'+'Required\x20t'+'exture\x20siz'+'e:\x20'+_0x4f8f31+'x'+_0x1bc36b+(',\x20max\x20text'+'ure\x20size:\x20')+_0x5f0de2+'x'+_0x5f0de2+'.');return;}this['morphTextu'+'reWidth']=_0x4f8f31,this['morphTextu'+'reHeight']=_0x1bc36b;let _0x5b9c82=!(0x203a+-0xdc6+-0x1273);const _0x386ffa=Mn['float2Half'];this['_textureFo'+'rmat']===nt&&(_0x5b9c82=!(0x2367+-0x3*0x8d2+-0x8f1));const _0x4f741d=[],_0x3b1b20=[],_0x1a3981=_0x4f8f31*_0x1bc36b*(-0x1f1c+-0x2*0x59+0x1fd2);for(let _0x175a6b=0x140a+0x1465+-0x286f;_0x175a6b<_0x2bb64f['length'];_0x175a6b++){const _0x8e1c3=_0x2bb64f[_0x175a6b],_0x28de6f=this['_textureFo'+'rmat']===nt?new Uint16Array(_0x1a3981):new Float32Array(_0x1a3981);if((_0x373f5b[_0x175a6b]?_0x4f741d:_0x3b1b20)['push'](_0x28de6f),_0x5b9c82)for(let _0xd38987=0x1929+0x2*-0x11d2+0xa7b*0x1;_0xd38987<_0x5c08ca['length'];_0xd38987++){const _0x9d62bd=_0x5c08ca[_0xd38987]*(0x2692+-0x1de9+-0x3*0x2e2),_0x26c4c3=_0xd38987*(0xa03+-0xd*-0x1d3+-0x21b6)+(0x19b+-0x13d*0x5+0x49a);_0x28de6f[_0x26c4c3]=_0x386ffa(_0x8e1c3[_0x9d62bd]),_0x28de6f[_0x26c4c3+(0x5*-0x398+0x3*-0x79f+0x28d6)]=_0x386ffa(_0x8e1c3[_0x9d62bd+(0x7ab*-0x1+-0x63*-0x2e+-0xa1e)]),_0x28de6f[_0x26c4c3+(0x1fcf+0x2f5+-0x22c2)]=_0x386ffa(_0x8e1c3[_0x9d62bd+(0x5*-0x49b+-0x220e+0x1*0x3917)]);}else for(let _0x349c56=0x7f*0x1+0x4c2+-0x541*0x1;_0x349c56<_0x5c08ca['length'];_0x349c56++){const _0x7e3c76=_0x5c08ca[_0x349c56]*(0x2692+0x903*0x1+-0x17c9*0x2),_0x3a543e=_0x349c56*(-0x109d*0x2+-0x2267+-0x43a5*-0x1)+(-0x8c5+-0x12*-0x11b+0x239*-0x5);_0x28de6f[_0x3a543e]=_0x8e1c3[_0x7e3c76],_0x28de6f[_0x3a543e+(-0xa50+0x1935+-0xee4)]=_0x8e1c3[_0x7e3c76+(-0x1852+0x1*0x813+0x1040)],_0x28de6f[_0x3a543e+(0x10+0x3a4+0x1*-0x3b2)]=_0x8e1c3[_0x7e3c76+(-0x1d*-0x97+0x99+-0xa*0x1c5)];}}_0x4f741d['length']>-0x655*0x5+0x15d*-0x2+0x2263*0x1&&(this['targetsTex'+'turePositi'+'ons']=this['_createTex'+'ture']('MorphPosit'+'ionsTextur'+'e',this['_textureFo'+'rmat'],_0x24a2c0['length'],[_0x4f741d]),this['targetsTex'+'turePositi'+'ons']['upload']()),_0x3b1b20['length']>0x1267+-0xfe8+-0x27f&&(this['targetsTex'+'tureNormal'+'s']=this['_createTex'+'ture']('MorphNorma'+'lsTexture',this['_textureFo'+'rmat'],_0x24a2c0['length'],[_0x3b1b20]),this['targetsTex'+'tureNormal'+'s']['upload']());const _0x2d0aee=[{'semantic':Ln,'components':0x1,'type':el,'asInt':!(0x1d*-0x133+-0x2466+-0x13*-0x3bf)}];return this['vertexBuff'+'erIds']=new Is(this['device'],new kt(this['device'],_0x2d0aee,_0x1428c0['length']),_0x1428c0['length'],{'data':new Uint32Array(_0x1428c0)}),!(0x3f2+0x1289+-0x167b);}get['targets'](){return this['_targets'];}['_updateMor'+'phFlags'](){this['_morphPosi'+'tions']=!(-0xbef+-0x25*-0x3d+0x31f),this['_morphNorm'+'als']=!(-0x156a+-0x1b06+0x3071);for(let _0x3177d2=0x40*0x14+-0x5*-0x4f2+-0x1dba;_0x3177d2<this['_targets']['length'];_0x3177d2++){const _0x2e6c45=this['_targets'][_0x3177d2];_0x2e6c45['morphPosit'+'ions']&&(this['_morphPosi'+'tions']=!(-0x1*-0x161d+-0x8f8*0x3+0x4cb)),_0x2e6c45['morphNorma'+'ls']&&(this['_morphNorm'+'als']=!(-0x1e4c+-0x153*0xa+0x2b8a*0x1));}}['_createTex'+'ture'](_0xfc334b,_0x4d3a02,_0x54076d,_0x582f09){return new _e(this['device'],{'levels':_0x582f09,'arrayLength':_0x54076d,'width':this['morphTextu'+'reWidth'],'height':this['morphTextu'+'reHeight'],'format':_0x4d3a02,'cubemap':!(-0xc5d+0xf4d+0x1*-0x2ef),'mipmaps':!(-0x118+0x220c+0x697*-0x5),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':_0xfc334b});}}class Md{constructor(_0x7bc90c){h(this,'used',!(0x2653+-0x11*0x105+0x9*-0x255)),(w['assert'](arguments['length']===-0x1*-0x9b+0x1*-0x1da1+0x1d07),this['options']=_0x7bc90c,this['_name']=_0x7bc90c['name'],this['_defaultWe'+'ight']=_0x7bc90c['defaultWei'+'ght']||0x1*-0x91d+-0x1fc8+0x1*0x28e5,this['_aabb']=_0x7bc90c['aabb'],this['deltaPosit'+'ions']=_0x7bc90c['deltaPosit'+'ions'],this['morphPosit'+'ions']=!!_0x7bc90c['deltaPosit'+'ions'],this['morphNorma'+'ls']=!!_0x7bc90c['deltaNorma'+'ls']);}get['name'](){return this['_name'];}get['defaultWei'+'ght'](){return this['_defaultWe'+'ight'];}get['aabb'](){return this['_aabb']||(this['_aabb']=new De(),this['deltaPosit'+'ions']&&this['_aabb']['compute'](this['deltaPosit'+'ions'])),this['_aabb'];}['clone'](){return w['assert'](this['options'],'MorphTarge'+'t\x20cannot\x20b'+'e\x20cloned,\x20'+'was\x20it\x20cre'+'ated\x20with\x20'+'a\x20preserve'+'Data\x20optio'+'n?'),new Md(this['options']);}['_postInit'](){this['options']['preserveDa'+'ta']||(this['options']=null),this['used']=!(0x2e*-0x9+-0x21e*0x9+-0x17a*-0xe);}}let Ei,Z_=0x14d8+0x256*0xf+-0x37e1;const ce=-0x80*0x4c+-0x1401+0x3a05*0x1,mf=new te(),_f=new te(),ti=new D(),tt=new D(),Ns=new D(),Na=new D(),ns=new D(),_t=new D(),ka=new D(),Ua=new D(),fo=new D(),Q_=new D(),zt=new D(),fc=new D(),kr=new D();function pn(_0x374206){return _0x374206-Math['floor'](_0x374206);}function fA(_0x3630bc){return Math['max'](Math['min'](_0x3630bc,-0x1*0xbef+-0xd11+0x25*0xad),0x6e*0x35+0x163*-0xb+-0x785);}function gf(_0x20f4a3,_0x312caf){return _0x20f4a3-_0x312caf*Math['floor'](_0x20f4a3/_0x312caf);}function uA(_0x247bc5){let _0x342d3f=pn(_0x247bc5),_0x4ae39a=pn((-0x2*0x1d+0x2584+0x3*-0xc19)*_0x247bc5),_0x28e733=pn((-0x1*0x178b5+-0x2*0xbda9+-0x3f208*-0x1)*_0x247bc5),_0x1b5777=pn((-0x19*-0xc29031+-0xac241f7+0x154742d)*_0x247bc5);return _0x342d3f-=_0x4ae39a/(-0x1*0x11fb+-0xddc+0x20d6),_0x4ae39a-=_0x28e733/(-0x6be+0x10b3+0x8f6*-0x1),_0x28e733-=_0x1b5777/(-0x1337+-0x1785+0x2bbb),_0x1b5777-=_0x1b5777/(0xf4*-0x24+0x674+0x1cdb),[_0x342d3f,_0x4ae39a,_0x28e733,_0x1b5777];}function uc(_0x1855bb){let _0x2289f9=pn(_0x1855bb),_0x484043=pn((-0xde1*0x1+0x1a33+0x1*-0xb53)*_0x1855bb);return _0x2289f9-=_0x484043/(0x1*-0xc01+0x4*0x5d9+-0xa64),_0x484043-=_0x484043/(-0x1876+0x15b*0x2+-0x795*-0x3),[_0x2289f9,_0x484043];}class pA{constructor(_0x124335){this['_emitter']=_0x124335;}['calcSpawnP'+'osition'](_0x1184d5,_0x56f44f,_0x4aad41,_0x27a0ef,_0x43c58f){const _0x50a6ff=this['_emitter'],_0x53522f=Math['random'](),_0x39d934=Math['random'](),_0xea58eb=Math['random'](),_0x16663d=Math['random']();if(_0x50a6ff['useCpu']&&(_0x1184d5[_0x43c58f*ce+(0xc+-0xda+-0x67*-0x2)+_0x50a6ff['numParticl'+'esPot']*(-0x1187*-0x1+0xdff+-0x1f84)*ce]=_0x53522f,_0x1184d5[_0x43c58f*ce+(0x3*-0x1de+0x30b*0x3+0x2*-0x1c3)+_0x50a6ff['numParticl'+'esPot']*(-0x65*-0x3+-0x62*0x4+0x5b)*ce]=_0x39d934,_0x1184d5[_0x43c58f*ce+(0x1*0x14c3+0xaaa+-0x1f6b*0x1)+_0x50a6ff['numParticl'+'esPot']*(0x21b9+0x1ae0+0x3c97*-0x1)*ce]=_0xea58eb),tt['x']=_0x53522f-(-0x308*0x2+0x2635*-0x1+0x1*0x2c45+0.5),tt['y']=_0x39d934-(-0x1441+0x1736+0x1*-0x2f5+0.5),tt['z']=_0xea58eb-(0x7ca+-0x183*-0xd+0x19*-0x119+0.5),_0x50a6ff['emitterSha'+'pe']===ai){const _0x2ee4ea=Math['max'](Math['abs'](tt['x']),Math['max'](Math['abs'](tt['y']),Math['abs'](tt['z']))),_0x5cac2a=_0x2ee4ea+(0xf*0xfb+-0x12a3+0x3ee+0.5-_0x2ee4ea)*_0x4aad41[-0xfa+-0x2033+0x3*0xb0f],_0x3b115a=_0x2ee4ea+(-0x6b*-0x1+0x8ab+-0x916+0.5-_0x2ee4ea)*_0x4aad41[-0x1da9+0x1a05+0x3a5],_0x1258c0=_0x2ee4ea+(0x58*0x42+0x262*0xd+0x35aa*-0x1+0.5-_0x2ee4ea)*_0x4aad41[-0x20*0x8a+0x173e+-0x5fc];tt['x']=_0x5cac2a*(_0x2ee4ea===Math['abs'](tt['x'])?Math['sign'](tt['x']):(-0x755+0x192e+0x1*-0x11d7)*tt['x']),tt['y']=_0x3b115a*(_0x2ee4ea===Math['abs'](tt['y'])?Math['sign'](tt['y']):(-0x7*0x3ee+0x1d2f*0x1+0x3d*-0x7)*tt['y']),tt['z']=_0x1258c0*(_0x2ee4ea===Math['abs'](tt['z'])?Math['sign'](tt['z']):(-0x2127+0x37*-0x71+-0x72e*-0x8)*tt['z']),_0x50a6ff['localSpace']?ti['copy'](_0x56f44f['transformP'+'oint'](tt)):ti['copy'](_0x27a0ef)['add'](_0x56f44f['transformP'+'oint'](tt));}else{tt['normalize']();const _0x30169d=_0x50a6ff['emitterRad'+'ius']===0x1b4b+0x20f0+-0x3c3b?-0x245b*0x1+-0x1*0xbad+-0x74*-0x6a:_0x50a6ff['emitterRad'+'iusInner']/_0x50a6ff['emitterRad'+'ius'],_0x5e7164=_0x16663d*(0x9fd+-0xa63+-0x1*-0x67-_0x30169d)+_0x30169d;_0x50a6ff['localSpace']?ti['copy'](tt['mulScalar'](_0x5e7164*_0x50a6ff['emitterRad'+'ius'])):ti['copy'](_0x27a0ef)['add'](tt['mulScalar'](_0x5e7164*_0x50a6ff['emitterRad'+'ius']));}let _0x30bca6=-Y['lerp'](_0x50a6ff['rate'],_0x50a6ff['rate2'],_0x53522f)*_0x43c58f;if(_0x50a6ff['pack8']){const _0x89efb3=(ti['x']-_0x50a6ff['worldBound'+'s']['center']['x'])/_0x50a6ff['worldBound'+'sSize']['x']+(0x1d*0x134+-0x24d3+0x1ef+0.5),_0x5daac9=(ti['y']-_0x50a6ff['worldBound'+'s']['center']['y'])/_0x50a6ff['worldBound'+'sSize']['y']+(-0x22f*0x1+-0x98f*0x4+0x286b*0x1+0.5),_0x38b62b=(ti['z']-_0x50a6ff['worldBound'+'s']['center']['z'])/_0x50a6ff['worldBound'+'sSize']['z']+(-0x4f*0x6d+-0x2*0x6cd+0x2f3d+0.5);let _0x436866=Y['lerp'](_0x50a6ff['startAngle']*Y['DEG_TO_RAD'],_0x50a6ff['startAngle'+'2']*Y['DEG_TO_RAD'],_0x53522f);_0x436866=_0x436866%(Math['PI']*(-0x7d7*0x1+0x1e82+0x1*-0x16a9))/(Math['PI']*(-0x18af+0xc95+0xc1c));const _0x285fe8=uc(_0x89efb3);_0x1184d5[_0x43c58f*ce]=_0x285fe8[-0x1c9*-0xb+-0x255a+0x11b7*0x1],_0x1184d5[_0x43c58f*ce+(-0x296*0x2+0xbf3+-0x11*0x66)]=_0x285fe8[0x107+-0x9e8*0x1+-0x2f6*-0x3];const _0x5e78a5=uc(_0x5daac9);_0x1184d5[_0x43c58f*ce+(0x2328*0x1+-0x3e5*0x2+-0x1b5c)]=_0x5e78a5[-0x743+0x5*0x326+-0x87b],_0x1184d5[_0x43c58f*ce+(0x1d8e+0x2269+-0x3ff4)]=_0x5e78a5[0xa12+-0x6*0x60a+0x8b9*0x3];const _0x29a5dc=uc(_0x38b62b);_0x1184d5[_0x43c58f*ce+(-0x20a0+0x2146*0x1+-0xa6)+_0x50a6ff['numParticl'+'esPot']*ce]=_0x29a5dc[0xa3*-0x33+-0x1943*-0x1+0x736],_0x1184d5[_0x43c58f*ce+(-0x46*0x2b+0x17c3+0x8*-0x180)+_0x50a6ff['numParticl'+'esPot']*ce]=_0x29a5dc[-0x1ce5*-0x1+0x1b6*-0x9+-0xd7e];const _0x3e8342=uc(_0x436866);_0x1184d5[_0x43c58f*ce+(-0xd5*-0x3+0x1919*-0x1+-0x5a7*-0x4)+_0x50a6ff['numParticl'+'esPot']*ce]=_0x3e8342[0x1b96+-0x1522+-0x674],_0x1184d5[_0x43c58f*ce+(-0x201b+0x1145+0xed9)+_0x50a6ff['numParticl'+'esPot']*ce]=_0x3e8342[0x14d+0x1*0xbe0+0xd2c*-0x1];const _0x4c73cc=0x48c+0x1fe8+-0x2473;_0x1184d5[_0x43c58f*ce+(-0x219f+-0x17a4+0x3946)+_0x50a6ff['numParticl'+'esPot']*ce*(0xc2*0xe+0xd4f+-0x1*0x17e9)]=_0x4c73cc;const _0x27cc00=Math['max'](_0x50a6ff['lifetime'],(_0x50a6ff['numParticl'+'es']-(0x379+0x1*0x2337+-0x26af))*Math['max'](_0x50a6ff['rate'],_0x50a6ff['rate2'])),_0x21a6d9=_0x50a6ff['lifetime']+(0x1506+0x7b8+-0x1*0x1cbd);_0x30bca6=(_0x30bca6+_0x27cc00)/(_0x27cc00+_0x21a6d9);const _0x2e0149=uA(_0x30bca6);_0x1184d5[_0x43c58f*ce+(-0x26a0+-0xa36+0x30d6)+_0x50a6ff['numParticl'+'esPot']*ce*(0x1*0xd8e+0x1*0x1a44+-0x27cf)]=_0x2e0149[-0xc05*0x2+-0x1*-0x14e5+0x325],_0x1184d5[_0x43c58f*ce+(0x1b0e*0x1+-0x23ad+0x4*0x228)+_0x50a6ff['numParticl'+'esPot']*ce*(0x9e9+-0x2181+0x179b)]=_0x2e0149[-0xf12+0x1da6+0x5b*-0x29],_0x1184d5[_0x43c58f*ce+(-0x1*0x142c+-0x2478+0x1*0x38a6)+_0x50a6ff['numParticl'+'esPot']*ce*(0xe3d+-0x2*0x2ef+-0x85c)]=_0x2e0149[-0x1f98+0x21f6+-0x25c],_0x1184d5[_0x43c58f*ce+(-0x5*-0x445+0xa44+0xa*-0x329)+_0x50a6ff['numParticl'+'esPot']*ce*(-0x296+0x112*-0x10+0x1*0x13b9)]=_0x2e0149[0x35*-0x3d+0xc67+0x3d];}else _0x1184d5[_0x43c58f*ce]=ti['x'],_0x1184d5[_0x43c58f*ce+(-0x7f2+0x1ec8+-0x16d5)]=ti['y'],_0x1184d5[_0x43c58f*ce+(0x1321+0x6*0x5ec+0x337*-0x11)]=ti['z'],_0x1184d5[_0x43c58f*ce+(0x248f+0x1de4*-0x1+-0x6a8)]=Y['lerp'](_0x50a6ff['startAngle']*Y['DEG_TO_RAD'],_0x50a6ff['startAngle'+'2']*Y['DEG_TO_RAD'],_0x53522f),_0x1184d5[_0x43c58f*ce+(0x2b*-0x77+0x2249*0x1+0xe49*-0x1)+_0x50a6ff['numParticl'+'esPot']*ce]=_0x30bca6;}['update'](_0x18c9b2,_0x37d1a2,_0xa83220,_0x19c588,_0x5904b,_0x2cb3ab,_0x19889f,_0x5e057f){let _0x594436,_0x444025,_0x298af1;const _0x3f50b8=this['_emitter'];if(_0x3f50b8['meshInstan'+'ce']['node']){const _0x5f1caf=_0x3f50b8['meshInstan'+'ce']['node']['worldTrans'+'form'];for(let _0x170d29=0x1b44+0x34*0xa9+-0x3d98;_0x170d29<0xeba+0x13a1+-0x224f;_0x170d29++)mf['data'][_0x170d29]=_0x5f1caf['data'][_0x170d29];_f['copy'](mf),_f['invert'](),Ei=_0x3f50b8['meshInstan'+'ce']['node']['localScale'],Z_=Math['max'](Math['max'](Ei['x'],Ei['y']),Ei['z']);}_0x2cb3ab=_0x3f50b8['meshInstan'+'ce']['node']===null||_0x3f50b8['localSpace']?D['ZERO']:_0x3f50b8['meshInstan'+'ce']['node']['getPositio'+'n']();const _0x149eae=_0x3f50b8['camera']?_0x3f50b8['camera']['_node']['getPositio'+'n']():D['ZERO'],_0x39c623=_0x3f50b8['useMesh']?0x74+0x192e+0x253*-0xb:0x1bbe+-0x2b6+-0x18f9*0x1;let _0x5ed89e,_0x5a082e,_0x2633d3,_0x3e732f,_0x176b6a,_0x55efff,_0x5cb27c,_0x43b2c7,_0x547ba2;const _0x263522=_0x3f50b8['precision']-(-0x1ad3+-0x16b1*-0x1+0x423);for(let _0x53c28e=-0x1*-0x12d5+-0x13b9+0xe4;_0x53c28e<_0x3f50b8['numParticl'+'es'];_0x53c28e++){const _0x4b2d8f=Math['floor'](_0x3f50b8['vbCPU'][_0x53c28e*_0x3f50b8['numParticl'+'eVerts']*(_0x3f50b8['useMesh']?0x1*-0x721+0x25e7+-0x148*0x18:0x1ca0*0x1+-0x1c85+0x17*-0x1)+(-0x6d*0x27+0xb31+-0x56d*-0x1)]),_0x23eaa7=_0xa83220[_0x4b2d8f*ce+(-0x1d87*0x1+-0x3*-0xf9+-0x1a9c*-0x1)+_0x3f50b8['numParticl'+'esPot']*(0x1bf8+0xee8*-0x2+-0x1da*-0x1)*ce];Ns['x']=_0x23eaa7,Ns['y']=_0xa83220[_0x4b2d8f*ce+(-0x201*-0x3+-0x1ae9+0x14e7)+_0x3f50b8['numParticl'+'esPot']*(0xe6b+-0x569+-0x900)*ce],Ns['z']=_0xa83220[_0x4b2d8f*ce+(-0x409*-0x2+0x1a25+0x7*-0x4e3)+_0x3f50b8['numParticl'+'esPot']*(0x1e6d*-0x1+-0x1f12+-0x43*-0xeb)*ce];const _0x41440e=_0x3f50b8['rate']+(_0x3f50b8['rate2']-_0x3f50b8['rate'])*_0x23eaa7,_0x2a12e4=_0x3f50b8['lifetime'];let _0x3b2ac5=_0xa83220[_0x4b2d8f*ce+(-0x12c3+0xad3+0x7f3)+_0x3f50b8['numParticl'+'esPot']*ce]+_0x19889f;const _0x1bfca6=fA(_0x3b2ac5/_0x2a12e4);let _0x31963f=-0x244*-0x5+0x1*-0x1c6f+0x111b*0x1,_0x4adb17=-0x2*0x42e+-0x2*0x527+0x12aa;const _0x4919bf=-0x3*0xa57+0xc9*-0x15+-0x2f82*-0x1;(_0x3b2ac5-_0x19889f<=-0x1*0x1896+-0x7d9+0x13*0x1b5||_0x3b2ac5>=_0x2a12e4)&&this['calcSpawnP'+'osition'](_0xa83220,_0x19c588,_0x5904b,_0x2cb3ab,_0x4b2d8f);let _0x3280c0=_0x3b2ac5>-0x16e0+-0x1*-0xbb9+0x5*0x23b&&_0x3b2ac5<_0x2a12e4;_0x3280c0&&(_0x298af1=_0x1bfca6*_0x263522,_0x5ed89e=Math['floor'](_0x298af1),_0x5a082e=Math['ceil'](_0x298af1),_0x298af1%=-0x3e7*0x8+0xecc+0x106d*0x1,_0x594436=_0x3f50b8['qRotSpeed'][_0x5ed89e],_0x444025=_0x3f50b8['qRotSpeed'][_0x5a082e],_0x2633d3=_0x594436+(_0x444025-_0x594436)*_0x298af1,_0x594436=_0x3f50b8['qRotSpeed2'][_0x5ed89e],_0x444025=_0x3f50b8['qRotSpeed2'][_0x5a082e],_0x3e732f=_0x594436+(_0x444025-_0x594436)*_0x298af1,_0x594436=_0x3f50b8['qScale'][_0x5ed89e],_0x444025=_0x3f50b8['qScale'][_0x5a082e],_0x31963f=_0x594436+(_0x444025-_0x594436)*_0x298af1,_0x594436=_0x3f50b8['qScale2'][_0x5ed89e],_0x444025=_0x3f50b8['qScale2'][_0x5a082e],_0x176b6a=_0x594436+(_0x444025-_0x594436)*_0x298af1,_0x594436=_0x3f50b8['qAlpha'][_0x5ed89e],_0x444025=_0x3f50b8['qAlpha'][_0x5a082e],_0x55efff=_0x594436+(_0x444025-_0x594436)*_0x298af1,_0x594436=_0x3f50b8['qAlpha2'][_0x5ed89e],_0x444025=_0x3f50b8['qAlpha2'][_0x5a082e],_0x5cb27c=_0x594436+(_0x444025-_0x594436)*_0x298af1,_0x594436=_0x3f50b8['qRadialSpe'+'ed'][_0x5ed89e],_0x444025=_0x3f50b8['qRadialSpe'+'ed'][_0x5a082e],_0x43b2c7=_0x594436+(_0x444025-_0x594436)*_0x298af1,_0x594436=_0x3f50b8['qRadialSpe'+'ed2'][_0x5ed89e],_0x444025=_0x3f50b8['qRadialSpe'+'ed2'][_0x5a082e],_0x547ba2=_0x594436+(_0x444025-_0x594436)*_0x298af1,_0x43b2c7+=(_0x547ba2-_0x43b2c7)*(_0x23eaa7*(-0xf47+-0x5c8+0x1573)%(0x1dab+0xdbe*0x2+0x2*-0x1c93)),Na['x']=_0xa83220[_0x4b2d8f*ce],Na['y']=_0xa83220[_0x4b2d8f*ce+(-0xf5a+0x116a+0x11*-0x1f)],Na['z']=_0xa83220[_0x4b2d8f*ce+(0x2573+-0x1*-0x20bf+-0x4*0x118c)],_0x3f50b8['localSpace']?fo['copy'](Na):fo['copy'](Na)['sub'](_0x2cb3ab),fo['normalize']()['mulScalar'](_0x43b2c7),_0x5ed89e*=-0x68f+0x1764+-0x1*0x10d2,_0x5a082e*=0x1f6*-0x8+0x264c+0x5*-0x485,_0x594436=_0x3f50b8['qLocalVelo'+'city'][_0x5ed89e],_0x444025=_0x3f50b8['qLocalVelo'+'city'][_0x5a082e],_t['x']=_0x594436+(_0x444025-_0x594436)*_0x298af1,_0x594436=_0x3f50b8['qLocalVelo'+'city'][_0x5ed89e+(0x21a0+-0x13*-0x14c+-0x3a43)],_0x444025=_0x3f50b8['qLocalVelo'+'city'][_0x5a082e+(0x1*-0x2635+0x1a3f+0xbf7)],_t['y']=_0x594436+(_0x444025-_0x594436)*_0x298af1,_0x594436=_0x3f50b8['qLocalVelo'+'city'][_0x5ed89e+(0x2a*0x1f+0x4e*0x68+-0x16a*0x1a)],_0x444025=_0x3f50b8['qLocalVelo'+'city'][_0x5a082e+(0x100e+-0x3a2+-0xc6a)],_t['z']=_0x594436+(_0x444025-_0x594436)*_0x298af1,_0x594436=_0x3f50b8['qLocalVelo'+'city2'][_0x5ed89e],_0x444025=_0x3f50b8['qLocalVelo'+'city2'][_0x5a082e],Ua['x']=_0x594436+(_0x444025-_0x594436)*_0x298af1,_0x594436=_0x3f50b8['qLocalVelo'+'city2'][_0x5ed89e+(-0x885*0x3+-0x1*0x1efd+-0x1f*-0x1d3)],_0x444025=_0x3f50b8['qLocalVelo'+'city2'][_0x5a082e+(-0x95*-0xb+-0x1*0x2456+0xef8*0x2)],Ua['y']=_0x594436+(_0x444025-_0x594436)*_0x298af1,_0x594436=_0x3f50b8['qLocalVelo'+'city2'][_0x5ed89e+(0x9f5*0x3+-0x21ef+0x209*0x2)],_0x444025=_0x3f50b8['qLocalVelo'+'city2'][_0x5a082e+(0x1f6a+-0x79c+-0x17cc)],Ua['z']=_0x594436+(_0x444025-_0x594436)*_0x298af1,_0x594436=_0x3f50b8['qVelocity'][_0x5ed89e],_0x444025=_0x3f50b8['qVelocity'][_0x5a082e],ns['x']=_0x594436+(_0x444025-_0x594436)*_0x298af1,_0x594436=_0x3f50b8['qVelocity'][_0x5ed89e+(0x2c*-0xd6+0x12*0x185+0x96f)],_0x444025=_0x3f50b8['qVelocity'][_0x5a082e+(0x67*0x5+-0xb*-0x349+-0x2625)],ns['y']=_0x594436+(_0x444025-_0x594436)*_0x298af1,_0x594436=_0x3f50b8['qVelocity'][_0x5ed89e+(0xc8e+0x2202+-0x3b*0xca)],_0x444025=_0x3f50b8['qVelocity'][_0x5a082e+(0xd*-0x20b+0xc92+0x1*0xdff)],ns['z']=_0x594436+(_0x444025-_0x594436)*_0x298af1,_0x594436=_0x3f50b8['qVelocity2'][_0x5ed89e],_0x444025=_0x3f50b8['qVelocity2'][_0x5a082e],ka['x']=_0x594436+(_0x444025-_0x594436)*_0x298af1,_0x594436=_0x3f50b8['qVelocity2'][_0x5ed89e+(0x34+-0x1592*0x1+0x155f*0x1)],_0x444025=_0x3f50b8['qVelocity2'][_0x5a082e+(-0x1780+0x1e86+0x257*-0x3)],ka['y']=_0x594436+(_0x444025-_0x594436)*_0x298af1,_0x594436=_0x3f50b8['qVelocity2'][_0x5ed89e+(0x1*-0xb17+0x1*-0x1dc3+-0x82c*-0x5)],_0x444025=_0x3f50b8['qVelocity2'][_0x5a082e+(-0x13f8*-0x1+0x2c9*0x1+-0x16bf*0x1)],ka['z']=_0x594436+(_0x444025-_0x594436)*_0x298af1,_t['x']+=(Ua['x']-_t['x'])*Ns['x'],_t['y']+=(Ua['y']-_t['y'])*Ns['y'],_t['z']+=(Ua['z']-_t['z'])*Ns['z'],_0x3f50b8['initialVel'+'ocity']>-0x10f*0xd+-0x1009*-0x2+0x1*-0x124f&&(_0x3f50b8['emitterSha'+'pe']===zw?(tt['copy'](Ns)['mulScalar'](-0x1*0xb01+0x1321+-0x81e)['sub'](D['ONE'])['normalize'](),_t['add'](tt['mulScalar'](_0x3f50b8['initialVel'+'ocity']))):_t['add'](D['FORWARD']['mulScalar'](_0x3f50b8['initialVel'+'ocity']))),ns['x']+=(ka['x']-ns['x'])*Ns['x'],ns['y']+=(ka['y']-ns['y'])*Ns['y'],ns['z']+=(ka['z']-ns['z'])*Ns['z'],_0x2633d3+=(_0x3e732f-_0x2633d3)*Ns['y'],_0x31963f=(_0x31963f+(_0x176b6a-_0x31963f)*(_0x23eaa7*(-0xe01+0x46e4+-0x11d3)%(0x18b4+-0x1910*-0x1+-0x31c3*0x1)))*Z_,_0x4adb17=(_0x5cb27c-_0x55efff)*(_0x23eaa7*(0x9e+-0x231c+0x2666)%(0xb3+-0x6*0x1e7+0xab8)),_0x3f50b8['meshInstan'+'ce']['node']&&(_0x3f50b8['localSpace']?(_t['x']/=Ei['x'],_t['y']/=Ei['y'],_t['z']/=Ei['z']):mf['transformP'+'oint'](_t,_t)),_0x3f50b8['localSpace']?(_f['transformP'+'oint'](ns,ns),_t['add'](ns)['add'](fo)):(_t['add'](ns['mul'](Ei)),_t['add'](fo['mul'](Ei))),fc['copy'](_t),Q_['copy'](Na)['add'](_t['mulScalar'](_0x19889f)),zt['copy'](Q_),_0xa83220[_0x4b2d8f*ce]=zt['x'],_0xa83220[_0x4b2d8f*ce+(-0x1*-0x4d5+0x206*0x5+-0x779*0x2)]=zt['y'],_0xa83220[_0x4b2d8f*ce+(0x8e*0x24+0x1ebf+-0x10e7*0x3)]=zt['z'],_0xa83220[_0x4b2d8f*ce+(-0x240d+-0xc5f*0x3+0x492d*0x1)]+=_0x2633d3*_0x19889f,_0x3f50b8['wrap']&&_0x3f50b8['wrapBounds']&&(_0x3f50b8['localSpace']||zt['sub'](_0x2cb3ab),zt['x']=gf(zt['x'],_0x3f50b8['wrapBounds']['x'])-_0x3f50b8['wrapBounds']['x']*(0x60*-0x1a+-0x3*0xd7+-0x9*-0x15d+0.5),zt['y']=gf(zt['y'],_0x3f50b8['wrapBounds']['y'])-_0x3f50b8['wrapBounds']['y']*(0x9d8+0x233*-0x9+-0x3*-0x351+0.5),zt['z']=gf(zt['z'],_0x3f50b8['wrapBounds']['z'])-_0x3f50b8['wrapBounds']['z']*(-0x1ddb+-0xdda+0x2bb5+0.5),_0x3f50b8['localSpace']||zt['add'](_0x2cb3ab)),_0x3f50b8['sort']>0x21*0x33+-0xe60+0x7cd&&(_0x3f50b8['sort']===0xc4*-0xd+0x1365+0x1*-0x970?(kr['copy'](zt)['sub'](_0x149eae),_0x3f50b8['particleDi'+'stance'][_0x4b2d8f]=-(kr['x']*kr['x']+kr['y']*kr['y']+kr['z']*kr['z'])):_0x3f50b8['sort']===0x1f75+-0x26bc+0x749?_0x3f50b8['particleDi'+'stance'][_0x4b2d8f]=_0x3b2ac5:_0x3f50b8['sort']===0x1d69+0x159*-0x12+-0x524&&(_0x3f50b8['particleDi'+'stance'][_0x4b2d8f]=-_0x3b2ac5))),_0x5e057f?_0x3b2ac5<0x1aa3+0x8ff+-0x23a2&&(_0xa83220[_0x4b2d8f*ce+(0xf*-0xdf+-0x5db*0x4+0x2480)+_0x3f50b8['numParticl'+'esPot']*(-0x12*0x22a+0x943*0x1+0x1*0x1db3)*ce]=-(-0x82b+-0x307*0x7+-0x1d5d*-0x1)):(_0x3b2ac5>=_0x2a12e4&&(_0x3b2ac5-=Math['max'](_0x2a12e4,(_0x3f50b8['numParticl'+'es']-(-0x2589+0x1d92+0x7f8))*_0x41440e),_0xa83220[_0x4b2d8f*ce+(0x2575+-0xd6*0xb+-0x388*0x8)+_0x3f50b8['numParticl'+'esPot']*(-0x17b7+0x14*0xae+0xa21)*ce]=_0x3f50b8['loop']?0x1da1+0x15f+0x1eff*-0x1:-(-0x100*0xf+0x1*0x257+0xcaa)),_0x3b2ac5<0x159*-0x7+0x2023+-0x16b4&&_0x3f50b8['loop']&&(_0xa83220[_0x4b2d8f*ce+(0xd3*0x2e+0x1783+-0x3d6a)+_0x3f50b8['numParticl'+'esPot']*(-0x1ff5+-0xcad*0x1+0x2ca4)*ce]=-0xfd5*0x1+0x4cb*0x1+0xb0b)),_0xa83220[_0x4b2d8f*ce+(-0xede*0x2+0x23b7+-0x4*0x17e)+_0x3f50b8['numParticl'+'esPot']*(0xfc1*0x2+-0x3a2+-0x1bde)*ce]<-0x3*0xa8a+-0x1f8+0x2196&&(_0x3280c0=!(0x178+0x1012+-0x43*0x43)),_0xa83220[_0x4b2d8f*ce+(-0x672+-0x16a0+0x1d15)+_0x3f50b8['numParticl'+'esPot']*ce]=_0x3b2ac5;for(let _0xcea268=-0x1abd+0x20b+0x18b2;_0xcea268<_0x3f50b8['numParticl'+'eVerts'];_0xcea268++){const _0x8f3c7f=(_0x53c28e*_0x3f50b8['numParticl'+'eVerts']+_0xcea268)*(_0x3f50b8['useMesh']?-0x1d18*0x1+-0xd5*-0x9+0x15a1:-0x1*-0x1e13+-0x44a+-0x1*0x19c5);let _0x4115ff=_0x3f50b8['vbCPU'][_0x8f3c7f],_0x57f9ed=_0x3f50b8['vbCPU'][_0x8f3c7f+(0x3*-0x902+-0x3*0xa39+-0xd3*-0x46)],_0x551683=_0x3f50b8['vbCPU'][_0x8f3c7f+(-0x18eb+-0xd11+0x25fe*0x1)];_0x3280c0||(_0x4115ff=_0x57f9ed=_0x551683=0x1*0x7f+0x2276+0x1*-0x22f5);const _0x5d511c=_0x53c28e*_0x3f50b8['numParticl'+'eVerts']*_0x39c623+_0xcea268*_0x39c623;_0x18c9b2[_0x5d511c]=zt['x'],_0x18c9b2[_0x5d511c+(-0x27*-0x6d+0xafd*-0x1+-0x59d)]=zt['y'],_0x18c9b2[_0x5d511c+(0x307*0x3+0x955*0x3+0xa*-0x3b5)]=zt['z'],_0x18c9b2[_0x5d511c+(0x172b+-0x23ad+-0x281*-0x5)]=_0x1bfca6,_0x18c9b2[_0x5d511c+(0xc04+-0x1b*-0xc9+-0x2133)]=_0x3f50b8['alignToMot'+'ion']?_0x4919bf:_0xa83220[_0x4b2d8f*ce+(-0xd4e+0x1212+-0x4c1)],_0x18c9b2[_0x5d511c+(0x3*0x71f+-0x1*-0x1044+-0x1*0x259c)]=_0x31963f,_0x18c9b2[_0x5d511c+(0xedf+0x347*-0x5+0x18a)]=_0x4adb17,_0x18c9b2[_0x5d511c+(0x1*-0x2190+0x12*0x151+0x9e5)]=fc['x'],_0x18c9b2[_0x5d511c+(0x2691+0x33f*0x5+-0x4*0xdb1)]=_0x4115ff,_0x18c9b2[_0x5d511c+(0x17b+0x17a*0x7+0xe8*-0xd)]=_0x57f9ed,_0x18c9b2[_0x5d511c+(0x2050+-0x3*-0x277+-0x2a5*0xf)]=_0x551683,_0x18c9b2[_0x5d511c+(0x247a+0x2228+-0x4697)]=fc['y'],_0x18c9b2[_0x5d511c+(0xad2+-0x1*-0x86f+-0x1*0x1335)]=_0x4b2d8f,_0x18c9b2[_0x5d511c+(0x255d+-0x2*-0xfa1+0x4492*-0x1)]=fc['z'],_0x18c9b2[_0x5d511c+(-0x23ba+0x231+0x2197)]=_0x3f50b8['vbCPU'][_0x8f3c7f+(0x21d3*-0x1+-0x3b*-0x97+-0x13*0xd)],_0x3f50b8['useMesh']&&(_0x18c9b2[_0x5d511c+(-0x1fcf*0x1+-0x185a+-0x1*-0x3838)]=_0x3f50b8['vbCPU'][_0x8f3c7f+(-0x1ed1+-0x1*0x12fb+-0x31d*-0x10)],_0x18c9b2[_0x5d511c+(0x25fa*-0x1+-0xd92*-0x1+0x74*0x36)]=_0x3f50b8['vbCPU'][_0x8f3c7f+(0x908+0x1*0x813+0x36*-0x51)]);}}if(_0x3f50b8['sort']>nu&&_0x3f50b8['camera']){const _0x394b9c=_0x3f50b8['useMesh']?0x17e*0x17+0x1c*-0xd+-0x20e0:0x1*-0x234+-0x2000+0x2238,_0x4d05e0=_0x3f50b8['particleDi'+'stance'];for(let _0xb88436=0xe3e*-0x1+0x2*0x1048+-0x1252;_0xb88436<_0x3f50b8['numParticl'+'es'];_0xb88436++)_0x37d1a2[_0xb88436][0x1b7*-0x2+0x1d5c+-0x19ee]=_0xb88436,_0x37d1a2[_0xb88436][0x132f+0x2086+0xced*-0x4]=_0x4d05e0[Math['floor'](_0x3f50b8['vbCPU'][_0xb88436*_0x3f50b8['numParticl'+'eVerts']*_0x394b9c+(0x1*-0x134a+0x229c+-0xf4f)])];_0x3f50b8['vbOld']['set'](_0x3f50b8['vbCPU']),_0x37d1a2['sort']((_0x525fe8,_0x5bb94f)=>_0x525fe8[0x685+0x26*-0xfd+0x1f0a]-_0x5bb94f[-0x16*0x115+-0x222c+-0x1*-0x39fb]);for(let _0x142814=0x117e+0xe2*0xd+-0x1cf8;_0x142814<_0x3f50b8['numParticl'+'es'];_0x142814++){const _0x352faf=_0x37d1a2[_0x142814][0x13b4+0x13b7+-0x1*0x276b]*_0x3f50b8['numParticl'+'eVerts']*_0x394b9c,_0x4312ff=_0x142814*_0x3f50b8['numParticl'+'eVerts']*_0x394b9c;for(let _0x3f7472=-0x2471+-0xe8d*0x1+-0x6b*-0x7a;_0x3f7472<_0x3f50b8['numParticl'+'eVerts']*_0x394b9c;_0x3f7472++)_0x3f50b8['vbCPU'][_0x4312ff+_0x3f7472]=_0x3f50b8['vbOld'][_0x352faf+_0x3f7472];}}}}const J_=new _i(),eg=new _i(),tg=new _i();class mA{constructor(_0x3bd054,_0x17399f){this['_emitter']=_0x3bd054,this['frameRando'+'mUniform']=new Float32Array(0xdbc+0x6d7+-0x2*0xa48),this['emitterPos'+'Uniform']=new Float32Array(-0x1980+0x3*-0xcff+0x4080),this['emitterSca'+'leUniform']=new Float32Array([-0x1e13*-0x1+0x4*-0x463+-0x1*0xc86,-0x324+-0x1032+0x1357,0x125e*0x1+0x331*0x3+-0x1bf0]),this['worldBound'+'sMulUnifor'+'m']=new Float32Array(-0x1*-0xcb3+0x2490+-0x20*0x18a),this['worldBound'+'sAddUnifor'+'m']=new Float32Array(0x1*0x3af+-0x45*-0x13+-0x8cb*0x1),this['inBoundsSi'+'zeUniform']=new Float32Array(-0x182*0xb+0x54a*-0x2+-0x90f*-0x3),this['inBoundsCe'+'nterUnifor'+'m']=new Float32Array(-0x1*-0x504+-0x14b*0x16+0x161*0x11),this['constantPa'+'rticleTexI'+'N']=_0x17399f['scope']['resolve']('particleTe'+'xIN'),this['constantPa'+'rticleTexO'+'UT']=_0x17399f['scope']['resolve']('particleTe'+'xOUT'),this['constantEm'+'itterPos']=_0x17399f['scope']['resolve']('emitterPos'),this['constantEm'+'itterScale']=_0x17399f['scope']['resolve']('emitterSca'+'le'),this['constantSp'+'awnBounds']=_0x17399f['scope']['resolve']('spawnBound'+'s'),this['constantSp'+'awnPosInne'+'rRatio']=_0x17399f['scope']['resolve']('spawnPosIn'+'nerRatio'),this['constantSp'+'awnBoundsS'+'phere']=_0x17399f['scope']['resolve']('spawnBound'+'sSphere'),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']=_0x17399f['scope']['resolve']('spawnBound'+'sSphereInn'+'erRatio'),this['constantIn'+'itialVeloc'+'ity']=_0x17399f['scope']['resolve']('initialVel'+'ocity'),this['constantFr'+'ameRandom']=_0x17399f['scope']['resolve']('frameRando'+'m'),this['constantDe'+'lta']=_0x17399f['scope']['resolve']('delta'),this['constantRa'+'te']=_0x17399f['scope']['resolve']('rate'),this['constantRa'+'teDiv']=_0x17399f['scope']['resolve']('rateDiv'),this['constantLi'+'fetime']=_0x17399f['scope']['resolve']('lifetime'),this['constantGr'+'aphSampleS'+'ize']=_0x17399f['scope']['resolve']('graphSampl'+'eSize'),this['constantGr'+'aphNumSamp'+'les']=_0x17399f['scope']['resolve']('graphNumSa'+'mples'),this['constantIn'+'ternalTex0']=_0x17399f['scope']['resolve']('internalTe'+'x0'),this['constantIn'+'ternalTex1']=_0x17399f['scope']['resolve']('internalTe'+'x1'),this['constantIn'+'ternalTex2']=_0x17399f['scope']['resolve']('internalTe'+'x2'),this['constantIn'+'ternalTex3']=_0x17399f['scope']['resolve']('internalTe'+'x3'),this['constantEm'+'itterMatri'+'x']=_0x17399f['scope']['resolve']('emitterMat'+'rix'),this['constantEm'+'itterMatri'+'xInv']=_0x17399f['scope']['resolve']('emitterMat'+'rixInv'),this['constantNu'+'mParticles']=_0x17399f['scope']['resolve']('numParticl'+'es'),this['constantNu'+'mParticles'+'Pot']=_0x17399f['scope']['resolve']('numParticl'+'esPot'),this['constantLo'+'calVelocit'+'yDivMult']=_0x17399f['scope']['resolve']('localVeloc'+'ityDivMult'),this['constantVe'+'locityDivM'+'ult']=_0x17399f['scope']['resolve']('velocityDi'+'vMult'),this['constantRo'+'tSpeedDivM'+'ult']=_0x17399f['scope']['resolve']('rotSpeedDi'+'vMult'),this['constantSe'+'ed']=_0x17399f['scope']['resolve']('seed'),this['constantSt'+'artAngle']=_0x17399f['scope']['resolve']('startAngle'),this['constantSt'+'artAngle2']=_0x17399f['scope']['resolve']('startAngle'+'2'),this['constantOu'+'tBoundsMul']=_0x17399f['scope']['resolve']('outBoundsM'+'ul'),this['constantOu'+'tBoundsAdd']=_0x17399f['scope']['resolve']('outBoundsA'+'dd'),this['constantIn'+'BoundsSize']=_0x17399f['scope']['resolve']('inBoundsSi'+'ze'),this['constantIn'+'BoundsCent'+'er']=_0x17399f['scope']['resolve']('inBoundsCe'+'nter'),this['constantMa'+'xVel']=_0x17399f['scope']['resolve']('maxVel'),this['constantFa'+'ceTangent']=_0x17399f['scope']['resolve']('faceTangen'+'t'),this['constantFa'+'ceBinorm']=_0x17399f['scope']['resolve']('faceBinorm');}['_setInputB'+'ounds'](){this['inBoundsSi'+'zeUniform'][-0x1f99+0x4*0x8ad+0x35*-0xf]=this['_emitter']['prevWorldB'+'oundsSize']['x'],this['inBoundsSi'+'zeUniform'][0x1831+0x1*-0x905+0x1*-0xf2b]=this['_emitter']['prevWorldB'+'oundsSize']['y'],this['inBoundsSi'+'zeUniform'][-0x86e+-0x2ad*-0xd+-0x1a59]=this['_emitter']['prevWorldB'+'oundsSize']['z'],this['constantIn'+'BoundsSize']['setValue'](this['inBoundsSi'+'zeUniform']),this['inBoundsCe'+'nterUnifor'+'m'][-0x5*-0x7ab+0x5*0x277+-0x1955*0x2]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['x'],this['inBoundsCe'+'nterUnifor'+'m'][-0x1*0x3d7+0x1723+-0x134b]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['y'],this['inBoundsCe'+'nterUnifor'+'m'][-0x23*0x3b+-0x562*-0x6+-0x1839]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['z'],this['constantIn'+'BoundsCent'+'er']['setValue'](this['inBoundsCe'+'nterUnifor'+'m']);}['randomize'](){this['frameRando'+'mUniform'][-0x4*-0x33a+-0x232b+0x1*0x1643]=Math['random'](),this['frameRando'+'mUniform'][0x18fd*-0x1+-0x1d8d+-0x1*-0x368b]=Math['random'](),this['frameRando'+'mUniform'][-0x5d*0xd+-0xcec+0x1*0x11a7]=Math['random']();}['update'](_0x23029a,_0x405ae4,_0x510eeb,_0x3bb4f4,_0x4bdc26){Q['pushGpuMar'+'ker'](_0x23029a,'ParticleGP'+'U');const _0x3a6825=this['_emitter'];_0x23029a['setBlendSt'+'ate'](pt['NOBLEND']),_0x23029a['setDepthSt'+'ate'](Yt['NODEPTH']),_0x23029a['setCullMod'+'e'](bt),this['randomize'](),this['constantGr'+'aphSampleS'+'ize']['setValue']((-0x30e*0x4+0x2679+-0x1c0*0xf)/_0x3a6825['precision']),this['constantGr'+'aphNumSamp'+'les']['setValue'](_0x3a6825['precision']),this['constantNu'+'mParticles']['setValue'](_0x3a6825['numParticl'+'es']),this['constantNu'+'mParticles'+'Pot']['setValue'](_0x3a6825['numParticl'+'esPot']),this['constantIn'+'ternalTex0']['setValue'](_0x3a6825['internalTe'+'x0']),this['constantIn'+'ternalTex1']['setValue'](_0x3a6825['internalTe'+'x1']),this['constantIn'+'ternalTex2']['setValue'](_0x3a6825['internalTe'+'x2']),this['constantIn'+'ternalTex3']['setValue'](_0x3a6825['internalTe'+'x3']);const _0x24e3a1=_0x3a6825['meshInstan'+'ce']['node'],_0x40a0a6=_0x24e3a1===null?D['ONE']:_0x24e3a1['localScale'];if(_0x3a6825['pack8']){this['worldBound'+'sMulUnifor'+'m'][0x1*0x1687+-0x597+-0x21e*0x8]=_0x3a6825['worldBound'+'sMul']['x'],this['worldBound'+'sMulUnifor'+'m'][-0x2c7+-0x593+0x85b]=_0x3a6825['worldBound'+'sMul']['y'],this['worldBound'+'sMulUnifor'+'m'][-0x3c4+-0xbe1+0x1*0xfa7]=_0x3a6825['worldBound'+'sMul']['z'],this['constantOu'+'tBoundsMul']['setValue'](this['worldBound'+'sMulUnifor'+'m']),this['worldBound'+'sAddUnifor'+'m'][0x753+-0x11f3+0xaa0]=_0x3a6825['worldBound'+'sAdd']['x'],this['worldBound'+'sAddUnifor'+'m'][0x9*0x122+-0x3*-0xc4b+-0x2f12]=_0x3a6825['worldBound'+'sAdd']['y'],this['worldBound'+'sAddUnifor'+'m'][0x95a+0x10e5+-0x1a3d*0x1]=_0x3a6825['worldBound'+'sAdd']['z'],this['constantOu'+'tBoundsAdd']['setValue'](this['worldBound'+'sAddUnifor'+'m']),this['_setInputB'+'ounds']();let _0x17cab3=_0x3a6825['maxVel']*Math['max'](Math['max'](_0x40a0a6['x'],_0x40a0a6['y']),_0x40a0a6['z']);_0x17cab3=Math['max'](_0x17cab3,-0x12b*-0x1+-0x3*0x2af+0x2b*0x29),this['constantMa'+'xVel']['setValue'](_0x17cab3);}const _0x5b6ad7=_0x24e3a1===null||_0x3a6825['localSpace']?D['ZERO']:_0x24e3a1['getPositio'+'n'](),_0x5875d4=_0x24e3a1===null?te['IDENTITY']:_0x24e3a1['getWorldTr'+'ansform']();_0x3a6825['emitterSha'+'pe']===ai?(J_['setFromMat'+'4'](_0x405ae4),this['constantSp'+'awnBounds']['setValue'](J_['data']),this['constantSp'+'awnPosInne'+'rRatio']['setValue'](_0x510eeb)):(this['constantSp'+'awnBoundsS'+'phere']['setValue'](_0x3a6825['emitterRad'+'ius']),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']['setValue'](_0x3a6825['emitterRad'+'ius']===-0xbb2+-0x2482+-0x9a4*-0x5?-0x120f+0x49d+0x1*0xd72:_0x3a6825['emitterRad'+'iusInner']/_0x3a6825['emitterRad'+'ius'])),this['constantIn'+'itialVeloc'+'ity']['setValue'](_0x3a6825['initialVel'+'ocity']),eg['setFromMat'+'4'](_0x5875d4),tg['invertMat4'](_0x5875d4),this['emitterPos'+'Uniform'][0x1363+-0x19ec+0x1*0x689]=_0x5b6ad7['x'],this['emitterPos'+'Uniform'][-0x1197+0x1*-0x1183+0x231b]=_0x5b6ad7['y'],this['emitterPos'+'Uniform'][-0x24*0x90+-0x25d7+0x3a19]=_0x5b6ad7['z'],this['constantEm'+'itterPos']['setValue'](this['emitterPos'+'Uniform']),this['constantFr'+'ameRandom']['setValue'](this['frameRando'+'mUniform']),this['constantDe'+'lta']['setValue'](_0x3bb4f4),this['constantRa'+'te']['setValue'](_0x3a6825['rate']),this['constantRa'+'teDiv']['setValue'](_0x3a6825['rate2']-_0x3a6825['rate']),this['constantSt'+'artAngle']['setValue'](_0x3a6825['startAngle']*Y['DEG_TO_RAD']),this['constantSt'+'artAngle2']['setValue'](_0x3a6825['startAngle'+'2']*Y['DEG_TO_RAD']),this['constantSe'+'ed']['setValue'](_0x3a6825['seed']),this['constantLi'+'fetime']['setValue'](_0x3a6825['lifetime']),this['emitterSca'+'leUniform'][0x80e*0x2+0x29d*0x3+-0x17f3]=_0x40a0a6['x'],this['emitterSca'+'leUniform'][0x1829+-0x631*0x5+0x6cd]=_0x40a0a6['y'],this['emitterSca'+'leUniform'][0x1cc1+-0x2650*-0x1+-0x430f]=_0x40a0a6['z'],this['constantEm'+'itterScale']['setValue'](this['emitterSca'+'leUniform']),this['constantEm'+'itterMatri'+'x']['setValue'](eg['data']),this['constantEm'+'itterMatri'+'xInv']['setValue'](tg['data']),this['constantLo'+'calVelocit'+'yDivMult']['setValue'](_0x3a6825['localVeloc'+'ityUMax']),this['constantVe'+'locityDivM'+'ult']['setValue'](_0x3a6825['velocityUM'+'ax']),this['constantRo'+'tSpeedDivM'+'ult']['setValue'](_0x3a6825['rotSpeedUM'+'ax'][-0x163+-0x1*0x10e3+0x1246*0x1]);let _0x476fcf=_0x3a6825['swapTex']?_0x3a6825['particleTe'+'xOUT']:_0x3a6825['particleTe'+'xIN'];_0x476fcf=_0x3a6825['beenReset']?_0x3a6825['particleTe'+'xStart']:_0x476fcf;const _0x195d1f=_0x3a6825['swapTex']?_0x3a6825['particleTe'+'xIN']:_0x3a6825['particleTe'+'xOUT'];this['constantPa'+'rticleTexI'+'N']['setValue'](_0x476fcf),Ar(_0x23029a,_0x3a6825['swapTex']?_0x3a6825['rtParticle'+'TexIN']:_0x3a6825['rtParticle'+'TexOUT'],_0x4bdc26?_0x3a6825['shaderPart'+'icleUpdate'+'OnStop']:_0x3a6825['loop']?_0x3a6825['shaderPart'+'icleUpdate'+'Respawn']:_0x3a6825['shaderPart'+'icleUpdate'+'NoRespawn']),_0x3a6825['material']['setParamet'+'er']('particleTe'+'xOUT',_0x476fcf),_0x3a6825['material']['setParamet'+'er']('particleTe'+'xIN',_0x195d1f),_0x3a6825['beenReset']=!(0x1*-0xda9+0x211+0xb99),_0x3a6825['swapTex']=!_0x3a6825['swapTex'],_0x3a6825['prevWorldB'+'oundsSize']['copy'](_0x3a6825['worldBound'+'sSize']),_0x3a6825['prevWorldB'+'oundsCente'+'r']['copy'](_0x3a6825['worldBound'+'s']['center']),_0x3a6825['pack8']&&this['_setInputB'+'ounds'](),Q['popGpuMark'+'er'](_0x23029a);}}const sg=['NONE','VERTEX','MAP'];class _A extends ya{['generateKe'+'y'](_0x72aff6){let _0x23b868='particle_'+ya['definesHas'+'h'](_0x72aff6['defines'])+'_';for(const _0x59a894 in _0x72aff6)_0x72aff6['hasOwnProp'+'erty'](_0x59a894)&&(_0x23b868+=_0x72aff6[_0x59a894]);return _0x23b868;}['createVert'+'exDefines'](_0x51fbae,_0xee6365){const _0x4d06bd=new Map(_0x51fbae['defines']);return _0x51fbae['mesh']&&_0x4d06bd['set']('USE_MESH',''),_0x51fbae['meshUv']&&_0x4d06bd['set']('USE_MESH_U'+'V',''),_0x51fbae['localSpace']&&_0x4d06bd['set']('LOCAL_SPAC'+'E',''),_0x51fbae['screenSpac'+'e']&&_0x4d06bd['set']('SCREEN_SPA'+'CE',''),_0x51fbae['animTex']&&_0x4d06bd['set']('ANIMTEX',''),_0x51fbae['soft']>0x6*-0x3ec+0x1e77+-0x6ef&&_0x4d06bd['set']('SOFT',''),_0x51fbae['stretch']>0x9*0x11a+0x169b+-0x2085&&_0x4d06bd['set']('STRETCH',''),_0x51fbae['customFace']&&_0x4d06bd['set']('CUSTOM_FAC'+'E',''),_0x51fbae['pack8']&&_0x4d06bd['set']('PACK8',''),_0x51fbae['localSpace']&&_0x4d06bd['set']('LOCAL_SPAC'+'E',''),_0x51fbae['animTexLoo'+'p']&&_0x4d06bd['set']('ANIMTEX_LO'+'OP',''),_0x51fbae['wrap']&&_0x4d06bd['set']('WRAP',''),_0x51fbae['alignToMot'+'ion']&&_0x4d06bd['set']('ALIGN_TO_M'+'OTION',''),_0x4d06bd['set']('NORMAL',sg[_0x51fbae['normal']]),_0xee6365['particle_v'+'ertexData']=Me,_0x51fbae['mesh']&&_0x51fbae['meshUv']&&(_0xee6365['particle_u'+'v']=is),_0x51fbae['useCpu']&&(_0xee6365['particle_v'+'ertexData2']=uh,_0xee6365['particle_v'+'ertexData3']=Ap,_0xee6365['particle_v'+'ertexData4']=Cp,_0xee6365['particle_v'+'ertexData5']=Pp),_0x4d06bd;}['createFrag'+'mentDefine'+'s'](_0x37feb2){const _0x587487=new Map(_0x37feb2['defines']);return _0x37feb2['soft']>-0x1*0x1cee+-0x1427*0x1+-0x3115*-0x1&&_0x587487['set']('SOFT',''),_0x37feb2['halflamber'+'t']&&_0x587487['set']('HALF_LAMBE'+'RT',''),_0x587487['set']('NORMAL',sg[_0x37feb2['normal']]),_0x587487['set']('BLEND',Yy[_0x37feb2['blend']]),_0x587487;}['createShad'+'erDefiniti'+'on'](_0x235528,_0x52d9ec){const _0x24c4cc=_0x235528['isWebGPU']?it:Fe,_0x3dd5dd=Pe['get'](_0x235528,_0x24c4cc),_0xdb60d8={},_0xcb57d7=this['createVert'+'exDefines'](_0x52d9ec,_0xdb60d8),_0x1af6af=this['createFrag'+'mentDefine'+'s'](_0x52d9ec),_0x5f1398='PARTICLE_'+(_0x52d9ec['useCpu']?'CPU':'GPU')+'\x0a';_0xcb57d7['set'](_0x5f1398,''),_0x1af6af['set'](_0x5f1398,'');const _0x5a5fca=new Map(_0x3dd5dd);return Jt['createDefi'+'nition'](_0x235528,{'name':'ParticleSh'+'ader','shaderLanguage':_0x24c4cc,'attributes':_0xdb60d8,'vertexCode':_0x3dd5dd['get']('particle_s'+'haderVS'),'fragmentCode':_0x3dd5dd['get']('particle_s'+'haderPS'),'fragmentDefines':_0x1af6af,'fragmentIncludes':_0x5a5fca,'vertexIncludes':_0x5a5fca,'vertexDefines':_0xcb57d7});}}const gA=new _A();class SA extends tr{constructor(_0x14feae){super(),h(this,'emitter',null),(this['emitter']=_0x14feae,w['assert'](_0x14feae));}['getShaderV'+'ariant'](_0x535a03){const {device:_0x200652,scene:_0x13bc6a,cameraShaderParams:_0x227104,objDefs:_0x5c475a}=_0x535a03,{emitter:_0x58adae}=this,_0x567974={'defines':$t['getCoreDef'+'ines'](this,_0x535a03),'pass':Aa,'useCpu':this['emitter']['useCpu'],'normal':_0x58adae['lighting']?_0x58adae['normalMap']!==null?0x20d+0x1*0xd06+-0x7*0x227:0x4a9*-0x5+0x1308+0x446:0x1d03+0x1*-0x26f+-0x144*0x15,'halflambert':this['emitter']['halfLamber'+'t'],'stretch':this['emitter']['stretch'],'alignToMotion':this['emitter']['alignToMot'+'ion'],'soft':this['emitter']['depthSofte'+'ning'],'mesh':this['emitter']['useMesh'],'meshUv':_0x5c475a&nm,'gamma':(_0x227104==null?void(0xae3*0x3+0x35*0x29+-0x1493*0x2):_0x227104['shaderOutp'+'utGamma'])??Ll,'toneMap':(_0x227104==null?void(0x1*0x1867+-0x4*-0x617+0x13*-0x291):_0x227104['toneMappin'+'g'])??sm,'fog':_0x13bc6a&&!this['emitter']['noFog']?_0x13bc6a['fog']['type']:'none','wrap':this['emitter']['wrap']&&this['emitter']['wrapBounds'],'localSpace':this['emitter']['localSpace'],'screenSpace':_0x58adae['inTools']?!(-0x8*0x36d+0x5*-0x2ff+-0x1*-0x2a64):this['emitter']['screenSpac'+'e'],'blend':this['emitter']['blendType'],'animTex':this['emitter']['_isAnimate'+'d'](),'animTexLoop':this['emitter']['animLoop'],'pack8':this['emitter']['pack8'],'customFace':this['emitter']['orientatio'+'n']!==yh},_0x3d920a=new Ad(_0x535a03['viewUnifor'+'mFormat'],_0x535a03['viewBindGr'+'oupFormat'],_0x535a03['vertexForm'+'at']),_0x5e1b4b=Hn(_0x200652);return _0x5e1b4b['register']('particle',gA),_0x5e1b4b['getProgram']('particle',_0x567974,_0x3d920a,this['userId']);}}const ig=[[-(0x12e3*-0x1+-0x19e4+0x1*0x2cc8),-(0x1*-0x16bb+0x6b*-0x25+-0x575*-0x7)],[-0x1980+0x3d1*-0x1+0x1d52,-(-0x384+-0x135*-0x1+-0x4a*-0x8)],[0x19ae+0xd63+0xa*-0x3e8,-0x1c2*-0x1+-0x1101+-0x20*-0x7a],[-(-0xe0c+0xac3+0x34a),0xa6*-0x2a+0x11e*-0x10+-0x2d1d*-0x1]];function xs(_0xd2c920,_0x3c5951,_0x44bf03,_0x24de94,_0x1009b9=Xt,_0x4a0832,_0x2e1dd9){let _0x4aa27c=Te;_0x2e1dd9&&(_0x1009b9===Ne||_0x1009b9===_s)&&(_0x4aa27c=vt);const _0x32a891=new _e(_0xd2c920,{'width':_0x3c5951,'height':_0x44bf03,'format':_0x1009b9,'cubemap':!(0x2041*0x1+0xe9b+-0x1*0x2edb),'mipmaps':!(0x1*-0x23b7+0x2*-0x7c7+0x3346),'minFilter':_0x4aa27c,'magFilter':_0x4aa27c,'addressU':ue,'addressV':ue,'name':'ParticleSy'+'stemTextur'+'e'}),_0x2275d3=_0x32a891['lock']();if(_0x1009b9===Ne||_0x1009b9===_s){const _0x3feaba=new Uint8Array(_0x24de94['length']);for(let _0x3be1dc=0xe5*-0x29+-0x2434+-0x1*-0x48e1;_0x3be1dc<_0x24de94['length'];_0x3be1dc++)_0x3feaba[_0x3be1dc]=_0x24de94[_0x3be1dc]*_0x4a0832*(0xb*0x8e+-0x92b+0x410);_0x24de94=_0x3feaba;}return _0x2275d3['set'](_0x24de94),_0x32a891['unlock'](),_0x32a891;}function rg(_0x2ff453){return Math['max'](Math['min'](_0x2ff453,0x5*-0x2e7+0x1*-0x7+-0x11*-0xdb),0x7*-0xf9+0x29*0xa7+-0x9f8*0x2);}const ag=new qs([-0x1fba+0x14*-0x1e+0x2212,-0x1a1+0x216*-0xd+-0x3*-0x995,-0x17*-0x40+-0x304+0x1*-0x2bb,0xee7+-0x15d0+0x1d*0x3d]),ng=new qs([-0x1401+-0x24fd+0x38fe,-0x1*0xd76+0x1f1e*-0x1+-0x65*-0x71,0x907+0x1362+0x978*-0x3,-0xea+0x1083+-0xf98*0x1]),og=new na([0x69*-0xb+-0x413+0x896,-0x1131+0x1f*0x3+0x2*0x86a,-0x1e1e+-0x3*-0x494+0x1063,0x2*0x703+-0x2397+0x1591],[0x8*0x1cf+0x43+-0xebb,-0x7*0x205+-0xf23+0x1*0x1d46,-0x1703+0x1bd0+-0x4cc,-0xdc4+-0xd2a*-0x1+0x9a],[0x212+-0xe8e+0xc7c,-0x1da9+0x48e*0x2+0x148d,-0x3*0x527+0x1b*-0x86+-0x766*-0x4,0x1844+0x217b+0x1*-0x39bf]),yA=new na([0x3*-0x7d3+-0x1754+0x2ecd,0x41d*0x3+-0x1*0x26d5+0x143*0x15,0x262+0x1938+0x311*-0x9,-0x1f*0x97+0x3*0x4a2+0x464],[-0x21b3+0x97*-0x21+-0x5*-0xaa2,-0x12d3+-0xd89+0x205d,0xd*-0x18d+-0x2b*0xe3+0x3a4b,0x26ea+0x4ea+-0x2bd3],[-0x1*0x16e5+-0x14b*-0x13+-0x1ac,-0x121*0x7+0x1778+-0x1*0xf90,0x6e8+0xf5d+-0x1644,-0x1*0x11c9+0x24ff+0x667*-0x3]);let bi=-0x60+-0x1344+0x13a6;const pc=-0x510+-0x260*-0x4+-0x46c,Ai=new Float32Array(0x1575+-0x623+0x1*-0xf4f),Ur=new te(),lg=new D(),mc=new D(),_c=new D();let uu,Zc;function he(_0x2291d0,_0x20622c){Zc[_0x2291d0]!==void(-0x2440+-0x1*0x1097+0x34d7)&&Zc[_0x2291d0]!==null?uu[_0x2291d0]=Zc[_0x2291d0]:uu[_0x2291d0]=_0x20622c;}function Dv(_0x3c61db,_0x50087b,_0x1ac6be){return(_0x3c61db*(-0x5*0x3a0+0x2644+-0x1325)<<0x61d+-0x32f*0x7+0x103c|_0x50087b*(-0x11*-0x137+-0x68e*-0x1+-0x1a36)<<-0x1*0xbd9+-0x1*0x7c0+0x13a1|_0x1ac6be*(0x28b+-0x1470+0x12e4))/(-0x10b4+-0xad6+0x1*0x1b8b<<-0x311+0x81*-0x31+0x3e*0x73);}function cg(_0x584dfd,_0x4ca60d){const _0x1eb1fa=_0x584dfd['length']/(-0x1e99+0x1cb*0x13+-0x375),_0x47430c=new Array(_0x1eb1fa*(0x1*-0x137f+0xd94+0x7*0xd9));for(let _0x1fb858=-0x23e3*0x1+0x2*0x46+-0x2357*-0x1;_0x1fb858<_0x1eb1fa;_0x1fb858++)_0x47430c[_0x1fb858*(0x2*0x1175+-0xbe7+-0x16ff)]=_0x584dfd[_0x1fb858*(0x1*-0x2645+0xa*0x2f9+0x1*0x88e)],_0x47430c[_0x1fb858*(0x1d4e+-0x1*0x19d1+-0x379)+(-0x287*-0xa+0x1*0x7d+0x2*-0xce1)]=_0x584dfd[_0x1fb858*(-0x1af9+-0x9c3+0x17*0x199)+(-0x6d0*0x2+-0x12db+0x207c)],_0x47430c[_0x1fb858*(-0x26f2+0x4f0+-0x41*-0x86)+(-0x1*0x1993+-0x4*-0x90c+0x389*-0x3)]=_0x584dfd[_0x1fb858*(0x2647+-0xcbb+0x3*-0x883)+(-0x9e*0x2c+-0x193a+-0x1c*-0x1df)],_0x47430c[_0x1fb858*(0x2*0x87+-0x126a+0x1160)+(-0x1bcd+-0x53*-0x1+0x1b7d*0x1)]=Dv(_0x4ca60d[_0x1fb858*(-0x1227+-0x1*-0x121f+0xb)],_0x4ca60d[_0x1fb858*(-0x1de+0x856*0x1+-0x675)+(-0x1*0x159b+0x19+-0x1*-0x1583)],_0x4ca60d[_0x1fb858*(-0x1336+-0xf61*0x2+0x9ff*0x5)+(0x151f+-0x1ce5+0x7c8)]);return _0x47430c;}function vA(_0xfdb9b9,_0x1c6676){const _0x2c5cd5=new Array(_0x1c6676['length']*(0xfbc+-0x1*0xf13+-0xa5*0x1));for(let _0x595a71=-0x245b+-0x1cda+0x4135*0x1;_0x595a71<_0x1c6676['length'];_0x595a71++)_0x2c5cd5[_0x595a71*(-0x1f67*0x1+-0x7b*-0x46+-0x51*0x7)]=_0xfdb9b9[_0x595a71*(0x1*0x153d+-0x241*-0xd+-0x3287)],_0x2c5cd5[_0x595a71*(0x3*0x18+-0x2504*0x1+0x24c0*0x1)+(0x2566*-0x1+-0x5*0x17b+0x2cce)]=_0xfdb9b9[_0x595a71*(0x1*-0x10af+-0x9*0x33+0x1*0x127d)+(-0x8*-0x446+0x124a*0x2+0x1*-0x46c3)],_0x2c5cd5[_0x595a71*(-0x65a+0x1*-0x97+0x6f5)+(-0x1*0xc47+0x2227+-0x15de)]=_0xfdb9b9[_0x595a71*(-0x1a92+-0xd5f*0x2+-0x3553*-0x1)+(0x1*-0x1349+-0x228e+0x35d9)],_0x2c5cd5[_0x595a71*(0x9f*0x1d+0x1de3+0x1*-0x2fe2)+(0x2077+-0xa01+-0x1673)]=_0x1c6676[_0x595a71];return _0x2c5cd5;}function xA(_0x503c23,_0x24847c,_0x30f137,_0x3b01b6,_0x5ec8be){const _0xc4daf5=new Array(_0x503c23['length']*(0x1727*-0x1+0x8db*0x3+0xf*-0x3a));for(let _0x30f49e=-0x1*-0x1239+-0x9ca+-0x1*0x86f;_0x30f49e<_0x503c23['length'];_0x30f49e++)_0xc4daf5[_0x30f49e*(-0x152f+-0x1e5e+-0x2b*-0x133)]=_0x503c23[_0x30f49e],_0xc4daf5[_0x30f49e*(-0x785*0x5+0x239*0x10+0x20d)+(0x269b+0x1784+0x2*-0x1f0f)]=_0x24847c[_0x30f49e],_0xc4daf5[_0x30f49e*(0x14a1+0x855+-0x1cf2)+(0x2ec*-0x1+-0x1e7*0xd+0x49*0x61)]=0xe38+-0x1*0x8bd+0x1*-0x57b,_0xc4daf5[_0x30f49e*(-0x1091+-0x1747+0x27dc)+(0x82a+-0x2*0x1c9+-0x17*0x33)]=Dv(_0x30f137[_0x30f49e],_0x3b01b6[_0x30f49e],_0x5ec8be[_0x30f49e]);return _0xc4daf5;}function TA(_0x3a16f8,_0xab4eb0){const _0x4b138a=new Array(_0x3a16f8['length']*(-0x23*-0x11+-0x26f5+-0x1*-0x24a6));for(let _0x4935fe=0x2493+0x15bb*0x1+-0x3a4e;_0x4935fe<_0x3a16f8['length'];_0x4935fe++)_0x4b138a[_0x4935fe*(-0x287+-0xc5*-0x17+-0x61*0x28)]=_0x3a16f8[_0x4935fe],_0x4b138a[_0x4935fe*(0x4b*0x15+0x1fc9*-0x1+0x19a6)+(0x1b01+-0x2*-0xe2f+-0x375e)]=_0xab4eb0[_0x4935fe],_0x4b138a[_0x4935fe*(0x1*-0x2284+-0x17f*-0x10+-0x18*-0x71)+(0x55d+0x1069+0xae2*-0x2)]=-0x421*-0x9+-0x136f+0x2*-0x8dd,_0x4b138a[_0x4935fe*(-0x10b5+-0x3+0x6*0x2ca)+(-0x79*0x40+0xbc*0x6+0x19db)]=-0x75*-0x27+0x24*-0x51+-0x66f;return _0x4b138a;}function wA(_0x464add){const _0x925d11=Math['max'](_0x464add['rate'],_0x464add['rate2'])*_0x464add['numParticl'+'es']+_0x464add['lifetime'];return Date['now']()+_0x925d11*(-0x11f5*-0x2+-0x1e33+-0x1cf);}function EA(_0x38aa66,_0x102614){const _0x591188=new Float32Array(_0x38aa66['length']);for(let _0x38fe48=-0x2f*0xa+0x1b6f*0x1+0x1*-0x1999;_0x38fe48<_0x38aa66['length'];_0x38fe48++)_0x591188[_0x38fe48]=_0x38aa66[_0x38fe48]-_0x102614[_0x38fe48];return _0x591188;}function Xr(_0x36f05c,_0x15212d){const _0x1c3bd6=_0x15212d['length'],_0x17fbaf=_0x36f05c['length']/_0x1c3bd6;for(let _0x1aa678=0x1a17*-0x1+0x19dd+0x3a;_0x1aa678<_0x17fbaf;_0x1aa678++)for(let _0x1427de=-0x2021+0x29*-0x77+0x5b*0x90;_0x1427de<_0x1c3bd6;_0x1427de++){const _0x189264=Math['abs'](_0x36f05c[_0x1aa678*_0x1c3bd6+_0x1427de]);_0x15212d[_0x1427de]=Math['max'](_0x15212d[_0x1427de],_0x189264);}}function bA(_0x30fc48,_0x480d1d){const _0x2d9bbf=_0x480d1d['length'],_0x485268=_0x30fc48['length']/_0x2d9bbf;for(let _0x4e1a22=-0xac4+-0x1d20+0x27e4;_0x4e1a22<_0x485268;_0x4e1a22++)for(let _0x496d59=-0x22e+0x3*-0x905+0x1d3d;_0x496d59<_0x2d9bbf;_0x496d59++)_0x30fc48[_0x4e1a22*_0x2d9bbf+_0x496d59]/=_0x480d1d[_0x496d59]===-0x295*0x1+-0x5*-0x75a+0x1*-0x222d?-0x3ed+0x16fd+-0x130f:_0x480d1d[_0x496d59],_0x30fc48[_0x4e1a22*_0x2d9bbf+_0x496d59]*=0x3*0x65d+-0x14cb*-0x1+-0x1*0x27e2+0.5,_0x30fc48[_0x4e1a22*_0x2d9bbf+_0x496d59]+=-0x2*0x84a+-0x3*-0xbbf+-0x11*0x119+0.5;}function Br(_0x27f560,_0x5e5f87,_0x20d99b){const _0x5f0562=EA(_0x5e5f87,_0x27f560);return Xr(_0x5f0562,_0x20d99b),bA(_0x5f0562,_0x20d99b),_0x5f0562;}const AA=new Kt();class CA{constructor(_0x18162f,_0x3d0a35){h(this,'material',null),h(this,'internalTe'+'x0',null),h(this,'internalTe'+'x1',null),h(this,'internalTe'+'x2',null),h(this,'colorParam',null),this['graphicsDe'+'vice']=_0x18162f;const _0x4aacb0=_0x18162f,_0x3d31a6=0x62*0x9+-0xee7+0x251*0x5;this['precision']=_0x3d31a6,this['_addTimeTi'+'me']=-0x2e1*0x1+0x4*0x1f6+0x1f*-0x29,uu=this,Zc=_0x3d0a35,he('numParticl'+'es',0x1*0xa4+-0x22cd+0x222a),this['numParticl'+'es']>_0x18162f['maxTexture'+'Size']&&(w['warn']('WARNING:\x20c'+'an\x27t\x20creat'+'e\x20more\x20tha'+'n\x20'+_0x18162f['maxTexture'+'Size']+('\x20particles'+'\x20on\x20this\x20d'+'evice.')),this['numParticl'+'es']=_0x18162f['maxTexture'+'Size']),he('rate',-0xd3b+-0x1e5*-0x7+-0x1*0x7),he('rate2',this['rate']),he('lifetime',0xd*-0x74+0x260c+-0x1ff6),he('emitterExt'+'ents',new D(-0x216*0xe+0x1449+0x2f9*0x3,-0x5*-0x3bc+0x6ff*0x1+-0x1*0x19ab,-0x5*0x59b+0xe6e*-0x1+0x2a75)),he('emitterExt'+'entsInner',new D(-0x13*0xd1+0x12b2+-0x1*0x32f,-0x501*0x1+-0xa84+0x1*0xf85,-0x64c+0x1*0x1c6d+-0x1621)),he('emitterRad'+'ius',-0xa4+0x1460+0x1a5*-0xc),he('emitterRad'+'iusInner',-0x3*0x7db+0x95*0x11+0x4*0x36b),he('emitterSha'+'pe',ai),he('initialVel'+'ocity',0xc82*-0x1+-0x14a*0x1+0x1*0xdcd),he('wrap',!(0x667+0x1*0x17f+-0x7e5)),he('localSpace',!(0x63b+-0x1*-0x215d+0x1*-0x2797)),he('screenSpac'+'e',!(0x22d6+-0xc8c+-0x475*0x5)),he('wrapBounds',null),he('colorMap',this['defaultPar'+'amTexture']),he('normalMap',null),he('loop',!(-0x19df+-0xe74+0x2853)),he('preWarm',!(-0x1*-0x9a5+0xc1c+0x1d0*-0xc)),he('sort',nu),he('mode',rv),he('scene',null),he('lighting',!(0x418+0xf0*-0x28+0x2169)),he('halfLamber'+'t',!(0x1cd0+-0x14*-0xf1+-0x2fa3)),he('intensity',-0x12b5*-0x2+0xb0*0x16+-0x3489),he('stretch',-0x1303*-0x1+-0x1*-0xc8f+0x382*-0x9),he('alignToMot'+'ion',!(0x96b*0x3+0x32*-0x6a+-0x78c)),he('depthSofte'+'ning',-0x25e1+0x1f+0x25c2),he('mesh',null),he('particleNo'+'rmal',new D(0x1*-0x12a9+0x1674+-0x3cb,-0x962+0x434*0x9+-0x1c71,-0x1487+0x1*-0x1d4b+0x31d2)),he('orientatio'+'n',yh),he('depthWrite',!(0x1a*-0xb3+0xcf6+0x539)),he('noFog',!(-0x2c4+-0x2506+0x27cb)),he('blendType',Zs),he('node',null),he('startAngle',0x540+0x16c9+0x1c09*-0x1),he('startAngle'+'2',this['startAngle']),he('animTilesX',-0xfc6+0x47f*0x6+-0xb33),he('animTilesY',-0x53*-0x41+-0x3*0x7bb+0x21f),he('animStartF'+'rame',0x47b+0x1e23+-0x1*0x229e),he('animNumFra'+'mes',0x5ad*-0x4+0x34*-0x95+0x34f9),he('animNumAni'+'mations',0x10*-0x16a+0x51*-0x1+0x16*0x10b),he('animIndex',0x4*-0x14b+0x13c7+-0xe9b*0x1),he('randomizeA'+'nimIndex',!(0x3*-0x17f+-0x140+-0x3*-0x1ea)),he('animSpeed',0x1*0x26ad+0x1*0xc91+-0x333d),he('animLoop',!(0x1*-0x21a1+0x57+0x214a)),this['_gpuUpdate'+'r']=new mA(this,_0x4aacb0),this['_cpuUpdate'+'r']=new pA(this),this['emitterPos'+'Uniform']=new Float32Array(0x2*-0x1093+0xfb5*0x1+0x4*0x45d),this['wrapBounds'+'Uniform']=new Float32Array(-0x1cb7+0x2a4+0x1a16),this['emitterSca'+'leUniform']=new Float32Array([0x25e+-0x1*0x1cfd+0x1aa0,0x441+0x1*0x21ce+-0x260e,0x24a6+0x1*0x9aa+-0x943*0x5]),he('colorGraph',yA),he('colorGraph'+'2',this['colorGraph']),he('scaleGraph',ng),he('scaleGraph'+'2',this['scaleGraph']),he('alphaGraph',ng),he('alphaGraph'+'2',this['alphaGraph']),he('localVeloc'+'ityGraph',og),he('localVeloc'+'ityGraph2',this['localVeloc'+'ityGraph']),he('velocityGr'+'aph',og),he('velocityGr'+'aph2',this['velocityGr'+'aph']),he('rotationSp'+'eedGraph',ag),he('rotationSp'+'eedGraph2',this['rotationSp'+'eedGraph']),he('radialSpee'+'dGraph',ag),he('radialSpee'+'dGraph2',this['radialSpee'+'dGraph']),this['animTilesP'+'arams']=new Float32Array(-0x2*0x10d2+-0xfa1*-0x1+0x1205),this['animParams']=new Float32Array(0x755*0x2+0x7d3+-0x20b*0xb),this['animIndexP'+'arams']=new Float32Array(-0x1*-0xd0b+0xef6+-0x1*0x1bff),this['vbToSort']=null,this['vbOld']=null,this['particleDi'+'stance']=null,this['camera']=null,this['swapTex']=!(0x1*0x1e1a+0x2178+-0x3f91),this['useMesh']=!(-0x214c+0x6df*-0x1+0x282b),this['useCpu']=!_0x18162f['supportsGp'+'uParticles'],this['pack8']=!(-0x62a+0x5c*-0x2f+0x1a*0xe3),this['localBound'+'s']=new De(),this['worldBound'+'sNoTrail']=new De(),this['worldBound'+'sTrail']=[new De(),new De()],this['worldBound'+'s']=new De(),this['worldBound'+'sSize']=new D(),this['prevWorldB'+'oundsSize']=new D(),this['prevWorldB'+'oundsCente'+'r']=new D(),this['prevEmitte'+'rExtents']=this['emitterExt'+'ents'],this['prevEmitte'+'rRadius']=this['emitterRad'+'ius'],this['worldBound'+'sMul']=new D(),this['worldBound'+'sAdd']=new D(),this['timeToSwit'+'chBounds']=0x60f+-0x1f74+0xc5*0x21,this['shaderPart'+'icleUpdate'+'Respawn']=null,this['shaderPart'+'icleUpdate'+'NoRespawn']=null,this['shaderPart'+'icleUpdate'+'OnStop']=null,this['numParticl'+'eVerts']=-0x2*0x6a9+-0x1f53+0x2ca5,this['numParticl'+'eIndices']=-0x1530*0x1+-0x1fc+0x172c,this['material']=null,this['meshInstan'+'ce']=null,this['drawOrder']=-0x3e*0x38+0xc46+0x14a,this['seed']=Math['random'](),this['fixedTimeS'+'tep']=(0x16b7+0x1777*-0x1+0xc1)/(-0x38*-0x30+0x1b57+-0x259b),this['maxSubStep'+'s']=-0xe7d*-0x1+0x338+-0x11ab*0x1,this['simTime']=0xef3+-0x10bb*0x2+0x1283,this['simTimeTot'+'al']=-0x7*0x516+-0x136f+0x1*0x3709,this['beenReset']=!(0x1974+0x597+-0x1f0a),this['_layer']=null,this['rebuild']();}get['defaultPar'+'amTexture'](){return w['assert'](this['graphicsDe'+'vice']),AA['get'](this['graphicsDe'+'vice'],()=>{const _0x56ce75=new Float32Array(0x99d+0x93b+-0xbe*0x14);for(let _0x513acf=0x1*-0x12ef+0xe3d+-0x1*-0x4b2;_0x513acf<0x26b6*-0x1+-0x15d*0x2+-0x2*-0x14c0;_0x513acf++)for(let _0x5c64c2=0xe51+0x2301+-0x1*0x3152;_0x5c64c2<0x832+0x2*0x455+-0x10cc;_0x5c64c2++){const _0x527f1a=_0x5c64c2+(0x90e*0x1+0x139*-0x17+0x1312)-(-0x4c1+-0x7*-0x1a+0x95*0x7+0.5),_0x186caf=_0x513acf+(-0x203d+0x1*-0xfa9+0x2fe7)-(0x1*0x13d5+-0x56*-0x6e+-0x38c1+0.5),_0xcc917b=rg(0xc*0x257+0x6*-0x75+-0x511*0x5-rg(Math['sqrt'](_0x527f1a*_0x527f1a+_0x186caf*_0x186caf)/(-0xf7*-0x3+0x1002+-0x7*0x2b1))-(-0xf9*-0x5+0x38*-0x21+0x3*0xc9+0.5)),_0x624a7a=_0x513acf*(0x25b7+-0x10c*0x1c+-0x857)+_0x5c64c2;_0x56ce75[_0x624a7a*(-0xbef+0x2708+-0x1b15)]=0x4*-0x6ad+0x20fb+-0x646,_0x56ce75[_0x624a7a*(0x197d+-0x127*-0x1d+-0xeb9*0x4)+(-0x8f*0x1f+0x2551+-0x13ff)]=-0x255c+-0xa59*0x3+-0x1*-0x4468,_0x56ce75[_0x624a7a*(-0x1f*-0xe0+0x1cc9*-0x1+0x1ad)+(-0x2*0x295+-0x1*-0x265b+-0x212f)]=0x125f*0x2+0x80+0x1*-0x253d,_0x56ce75[_0x624a7a*(0x21b1+0x1*-0x11e4+0x1*-0xfc9)+(-0x1*0x26+-0xb7f+0x8*0x175)]=_0xcc917b;}const _0x44d6fe=xs(this['graphicsDe'+'vice'],-0x1f*0x59+-0x22ef*0x1+0x2dc6,-0x1200+-0x17*-0x1a9+0x6b5*-0x3,_0x56ce75,_s,-0xd57+0x23a0+-0x1648,!(-0x10d+-0xf*-0x27b+-0x2428));return _0x44d6fe['minFilter']=vt,_0x44d6fe['magFilter']=vt,_0x44d6fe;});}['onChangeCa'+'mera'](){this['resetMater'+'ial']();}['calculateB'+'oundsMad'](){this['worldBound'+'sMul']['x']=(-0x448+0x1a10+-0x15c7*0x1)/this['worldBound'+'sSize']['x'],this['worldBound'+'sMul']['y']=(-0xc9d+-0x3*0x68f+-0x49d*-0x7)/this['worldBound'+'sSize']['y'],this['worldBound'+'sMul']['z']=(0x1*0x187d+0x2*0x8f1+0x13f*-0x22)/this['worldBound'+'sSize']['z'],this['worldBound'+'sAdd']['copy'](this['worldBound'+'s']['center'])['mul'](this['worldBound'+'sMul'])['mulScalar'](-(0x25ce+0x1*0x2047+-0x4614)),this['worldBound'+'sAdd']['x']+=0x18*-0xd5+-0x63*0x1a+0x1e06*0x1+0.5,this['worldBound'+'sAdd']['y']+=0x22c5+0x19*0x133+-0x40c0+0.5,this['worldBound'+'sAdd']['z']+=0xd23+-0x1d68+0x1045+0.5;}['calculateW'+'orldBounds'](){if(!this['node'])return;if(this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),!this['useCpu']){let _0x3c4fe9=!(0x185*-0x11+-0x1*-0xe2f+0x1*0xba7);this['emitterSha'+'pe']===ai?_0x3c4fe9=!this['emitterExt'+'ents']['equals'](this['prevEmitte'+'rExtents']):_0x3c4fe9=this['emitterRad'+'ius']!==this['prevEmitte'+'rRadius'],_0x3c4fe9&&this['calculateL'+'ocalBounds']();}const _0x5bc2e8=this['node']['getWorldTr'+'ansform']();this['localSpace']?this['worldBound'+'sNoTrail']['copy'](this['localBound'+'s']):this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],_0x5bc2e8),this['worldBound'+'sTrail'][0x9db+0x7f8+-0x11d3]['add'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][-0xd42+0x3*-0x10f+-0x4*-0x41c]['add'](this['worldBound'+'sNoTrail']);const _0x3a407c=this['simTimeTot'+'al'];_0x3a407c>=this['timeToSwit'+'chBounds']&&(this['worldBound'+'sTrail'][-0x1869+-0x2455*-0x1+-0xbec]['copy'](this['worldBound'+'sTrail'][-0x15*-0x4f+-0xc3*0x13+0x7ff]),this['worldBound'+'sTrail'][-0x2490+0x1aa3*-0x1+0x329*0x14]['copy'](this['worldBound'+'sNoTrail']),this['timeToSwit'+'chBounds']=_0x3a407c+this['lifetime']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0x75b+0xe08*0x1+0x6ad*-0x1]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x1e0a+0xfa+0x1b9*-0x12),this['localSpace']?(this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x5bc2e8),this['meshInstan'+'ce']['mesh']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x5bc2e8)):(this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['mesh']['aabb']['copy'](this['worldBound'+'s'])),this['meshInstan'+'ce']['_aabbVer']=0x121*-0x16+-0x1*-0x1aad+0x5*-0x5e-this['meshInstan'+'ce']['_aabbVer'],this['pack8']&&this['calculateB'+'oundsMad']();}['resetWorld'+'Bounds'](){this['node']&&(this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?te['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][0x557*0x1+0x1f6f+-0x24c6]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][-0x237*-0x7+-0xfe3+-0x21*-0x3]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0x2330+0x1ae3*0x1+-0x1*-0x84d]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x3b5*0x3+0x1*0x193a+0x1*-0xe19),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['simTimeTot'+'al']=0x8e2*0x2+-0x32a+-0xe9a,this['timeToSwit'+'chBounds']=0x2b3*-0x7+0x591+0x6aa*0x2);}['calculateL'+'ocalBounds'](){let _0x1ee92c=Number['MAX_VALUE'],_0x34f449=Number['MAX_VALUE'],_0x326d0e=Number['MAX_VALUE'],_0x592a65=-Number['MAX_VALUE'],_0x4641ab=-Number['MAX_VALUE'],_0x313c61=-Number['MAX_VALUE'],_0xc34566=0x3*0xcd9+-0x3*0x982+-0xa05,_0x5132ed=0x6*0xe9+0x2205+-0x277b;const _0xef2c8f=this['lifetime']/this['precision'],_0x5a1f90=[this['qVelocity'],this['qVelocity2']],_0x26d131=[this['qLocalVelo'+'city'],this['qLocalVelo'+'city2']],_0x19e389=[-0x13a0+-0xaf4*-0x1+0x8ac,-0x18e*0x4+-0x3ff+0xa37],_0x19cdb0=[0x135*-0x4+0x20ad+0x1*-0x1bd9,-0x26a7+-0x28f*0x2+0x2bc5],_0x299a89=[-0x81e+-0x21d9+0x29f7,0x13ed+-0x28d*-0xe+-0x37a3],_0x3ddfd6=[0x527*0x1+-0x7d6+0x1*0x2af,-0xf19+-0x85+0xf9e],_0x5aa699=[0x1b*-0x2f+-0xf*-0x112+-0xb19,0x8e0+0x20c6*-0x1+0x17e6];let _0x145628,_0x35f379,_0x33ea2f;for(let _0x4be766=-0x695*0x1+0x2b*-0xb1+0x298*0xe;_0x4be766<this['precision']+(0x5*0xbf+0x1a84+-0x1e3e);_0x4be766++){const _0x58fcbb=Math['min'](_0x4be766,this['precision']-(0x15c8+-0x1*0x270a+0x5c1*0x3));for(let _0xaf8ccd=-0xef5+-0x1efb+0x50*0x93;_0xaf8ccd<-0x252a+-0xed2+0x33fe;_0xaf8ccd++)_0x145628=_0x26d131[_0xaf8ccd][_0x58fcbb*(-0xe3*0xb+-0x8b5*-0x1+0x10f)+(0x546+0x67*-0x55+-0x1*-0x1ced)]*_0xef2c8f+_0x19e389[_0xaf8ccd],_0x35f379=_0x26d131[_0xaf8ccd][_0x58fcbb*(-0x52c+-0x7d*-0x16+-0x58f)+(0x25df+-0xa29*0x3+-0x763*0x1)]*_0xef2c8f+_0x19cdb0[_0xaf8ccd],_0x33ea2f=_0x26d131[_0xaf8ccd][_0x58fcbb*(-0x3*0x2ab+-0x147e+0x2*0xe41)+(0xb*0x22c+-0x53*-0x41+-0x2cf5)]*_0xef2c8f+_0x299a89[_0xaf8ccd],_0x1ee92c=Math['min'](_0x145628,_0x1ee92c),_0x34f449=Math['min'](_0x35f379,_0x34f449),_0x326d0e=Math['min'](_0x33ea2f,_0x326d0e),_0x592a65=Math['max'](_0x145628,_0x592a65),_0x4641ab=Math['max'](_0x35f379,_0x4641ab),_0x313c61=Math['max'](_0x33ea2f,_0x313c61),_0x19e389[_0xaf8ccd]=_0x145628,_0x19cdb0[_0xaf8ccd]=_0x35f379,_0x299a89[_0xaf8ccd]=_0x33ea2f;for(let _0x33c442=-0x5*0x447+-0x5c1*0x1+0xc*0x243;_0x33c442<-0x450+0x1914+-0x14c2;_0x33c442++)_0x5aa699[_0x33c442]+=_0xef2c8f*Math['sqrt'](_0x5a1f90[_0x33c442][_0x58fcbb*(-0x1d3f*-0x1+0x1b8*0xa+-0x2e6c)+(0x60b+0xa73+0x2*-0x83f)]*_0x5a1f90[_0x33c442][_0x58fcbb*(0x560+0x394+-0x8f1)+(0x1b2e+0xe6e+-0x2*0x14ce)]+_0x5a1f90[_0x33c442][_0x58fcbb*(-0x2632+0x2e8+0x50b*0x7)+(0x1*0xfb+0xddb+0x1*-0xed5)]*_0x5a1f90[_0x33c442][_0x58fcbb*(0x46d*-0x5+-0x19f5+0x3019)+(0x1*-0xe2a+-0xad4+0x18ff)]+_0x5a1f90[_0x33c442][_0x58fcbb*(-0x4*0x568+0x29*-0x9d+0x2ec8)+(0x2f*0xbf+-0xbd2+-0x173d)]*_0x5a1f90[_0x33c442][_0x58fcbb*(0x1326+0x8*0x3a5+-0x304b)+(0x5*-0x355+-0x1ad*-0x3+0xba4)]);_0x3ddfd6[0x24c+-0x13*0x9d+0x95b]+=this['qRadialSpe'+'ed'][_0x58fcbb]*_0xef2c8f,_0x3ddfd6[0x1*-0x587+-0x24a4*-0x1+-0x1f1c]+=this['qRadialSpe'+'ed2'][_0x58fcbb]*_0xef2c8f,_0xc34566=Math['max'](_0xc34566,Math['max'](Math['abs'](_0x3ddfd6[-0x1b6*0x3+-0xcd*-0xd+-0x547]),Math['abs'](_0x3ddfd6[0x4cc+-0xfe*0x3+0x9b*-0x3]))),_0x5132ed=Math['max'](_0x5132ed,this['qScale'][_0x58fcbb]);}this['emitterSha'+'pe']===ai?(_0x145628=this['emitterExt'+'ents']['x']*(0x1*-0x252d+0x91b+0x1c12*0x1+0.5),_0x35f379=this['emitterExt'+'ents']['y']*(-0x892+-0x621+0xeb3+0.5),_0x33ea2f=this['emitterExt'+'ents']['z']*(0x6a1*0x1+-0x2267+0x1bc6+0.5)):(_0x145628=this['emitterRad'+'ius'],_0x35f379=this['emitterRad'+'ius'],_0x33ea2f=this['emitterRad'+'ius']);const _0x2cfddc=Math['max'](_0x5aa699[0x25*0x99+0x10e7+-0x2704],_0x5aa699[-0x184*0xd+0x775+-0x7*-0x1c0]);mc['x']=_0x1ee92c-_0x5132ed-_0x145628-_0xc34566-_0x2cfddc,mc['y']=_0x34f449-_0x5132ed-_0x35f379-_0xc34566-_0x2cfddc,mc['z']=_0x326d0e-_0x5132ed-_0x33ea2f-_0xc34566-_0x2cfddc,_c['x']=_0x592a65+_0x5132ed+_0x145628+_0xc34566+_0x2cfddc,_c['y']=_0x4641ab+_0x5132ed+_0x35f379+_0xc34566+_0x2cfddc,_c['z']=_0x313c61+_0x5132ed+_0x33ea2f+_0xc34566+_0x2cfddc,this['localBound'+'s']['setMinMax'](mc,_c);}['rebuild'](){const _0xcbe45=this['graphicsDe'+'vice'];this['colorMap']===null&&(this['colorMap']=this['defaultPar'+'amTexture']),this['spawnBound'+'s']=this['emitterSha'+'pe']===ai?this['emitterExt'+'ents']:this['emitterRad'+'ius'],this['useCpu']=this['useCpu']||this['sort']>nu||_0xcbe45['maxVertexT'+'extures']<=0xb1f*0x1+0x26bd+-0x31db||_0xcbe45['fragmentUn'+'iformsCoun'+'t']<-0x64+0x48b*-0x7+0x2071||_0xcbe45['forceCpuPa'+'rticles'],this['_destroyRe'+'sources'](),this['pack8']=(this['pack8']||!_0xcbe45['textureFlo'+'atRenderab'+'le'])&&!this['useCpu'],bi=this['useCpu']||this['pack8']?0x20c*-0x13+0x1745+0xfa3:0x1948+-0x32a*-0x4+-0x25ee,this['useMesh']=!!this['mesh'],this['numParticl'+'esPot']=Y['nextPowerO'+'fTwo'](this['numParticl'+'es']),this['rebuildGra'+'phs'](),this['calculateL'+'ocalBounds'](),this['resetWorld'+'Bounds'](),this['node']&&(this['worldBound'+'s']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?te['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0x1f7a+0x4a3*0x5+0x84b]['copy'](this['worldBound'+'s']),this['worldBound'+'sTrail'][0x705+-0x10de+-0xd*-0xc2]['copy'](this['worldBound'+'s']),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x1*0x641+-0x2405+0x2a48),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['pack8']&&this['calculateB'+'oundsMad']()),this['vbToSort']=new Array(this['numParticl'+'es']);for(let _0xff7b4=-0x1*-0x1e8b+0x9*-0x25c+-0x1*0x94f;_0xff7b4<this['numParticl'+'es'];_0xff7b4++)this['vbToSort'][_0xff7b4]=[-0x2*0x291+-0x2b*-0xd0+-0x1dce,0x2*0xa36+0x163*-0x14+-0xc*-0x9c];this['particleDi'+'stance']=new Float32Array(this['numParticl'+'es']),this['_gpuUpdate'+'r']['randomize'](),this['particleTe'+'x']=new Float32Array(this['numParticl'+'esPot']*bi*pc);const _0x5954a6=this['node']===null||this['localSpace']?D['ZERO']:this['node']['getPositio'+'n']();this['emitterSha'+'pe']===ai&&(this['node']===null||this['localSpace']?Ur['setTRS'](D['ZERO'],le['IDENTITY'],this['spawnBound'+'s']):Ur['setTRS'](D['ZERO'],this['node']['getRotatio'+'n'](),lg['copy'](this['spawnBound'+'s'])['mul'](this['node']['localScale'])),Ai[-0x22ad+0x1da6*0x1+0x507]=this['emitterExt'+'ents']['x']!==-0x21f*-0x1+0x18a8+-0x55b*0x5?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:-0x1e72+0x563*-0x7+0x4427,Ai[-0x1c78+0x146*-0xc+0x2bc1]=this['emitterExt'+'ents']['y']!==0x2509+0x1*0x20c5+-0x45ce?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:0xeef*0x1+-0x24aa+0x1*0x15bb,Ai[0x16f*0x5+-0x1f0*0x2+-0x349]=this['emitterExt'+'ents']['z']!==0x15da+-0x47*-0x13+-0x1b1f?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0x2f5+0xe08+-0xb13);for(let _0x2a08b7=-0x25dc+-0x871*-0x2+-0xb3*-0x1e;_0x2a08b7<this['numParticl'+'es'];_0x2a08b7++)this['_cpuUpdate'+'r']['calcSpawnP'+'osition'](this['particleTe'+'x'],Ur,Ai,_0x5954a6,_0x2a08b7),this['useCpu']&&(this['particleTe'+'x'][_0x2a08b7*pc+(0x6*0x247+-0x5f+-0xd48)+this['numParticl'+'esPot']*(0x2b*0xba+-0x3f*0x90+-0x434*-0x1)*pc]=-0xc*0x326+-0x38*-0x19+-0x1*-0x2051);this['particleTe'+'xStart']=new Float32Array(this['numParticl'+'esPot']*bi*pc);for(let _0x4dad7f=0xbbd+0x1096+-0x1c53;_0x4dad7f<this['particleTe'+'xStart']['length'];_0x4dad7f++)this['particleTe'+'xStart'][_0x4dad7f]=this['particleTe'+'x'][_0x4dad7f];this['useCpu']||(this['pack8']?(this['particleTe'+'xIN']=xs(_0xcbe45,this['numParticl'+'esPot'],bi,this['particleTe'+'x'],Ne,-0xc8e*0x1+0x1188+-0x4f9,!(0x268+0x4a6+0x5*-0x169)),this['particleTe'+'xOUT']=xs(_0xcbe45,this['numParticl'+'esPot'],bi,this['particleTe'+'x'],Ne,-0xcba+0x2044+-0x1389,!(-0x1c5a+0xbf*0x3+-0x1*-0x1a1e)),this['particleTe'+'xStart']=xs(_0xcbe45,this['numParticl'+'esPot'],bi,this['particleTe'+'xStart'],Ne,0x3*0x634+-0x35f+-0xf3c,!(0x2094+-0x8bd*-0x1+-0x2950))):(this['particleTe'+'xIN']=xs(_0xcbe45,this['numParticl'+'esPot'],bi,this['particleTe'+'x']),this['particleTe'+'xOUT']=xs(_0xcbe45,this['numParticl'+'esPot'],bi,this['particleTe'+'x']),this['particleTe'+'xStart']=xs(_0xcbe45,this['numParticl'+'esPot'],bi,this['particleTe'+'xStart'])),this['rtParticle'+'TexIN']=new gt({'colorBuffer':this['particleTe'+'xIN'],'depth':!(0x2430+0x1fdf+-0x440e)}),this['rtParticle'+'TexOUT']=new gt({'colorBuffer':this['particleTe'+'xOUT'],'depth':!(0x7a5*-0x4+-0x57e*0x2+0x2991)}),this['swapTex']=!(0x26ac+-0x18a7*0x1+0x3*-0x4ac));const _0x4a46cc=new Map();this['localSpace']&&_0x4a46cc['set']('LOCAL_SPAC'+'E',''),this['pack8']&&_0x4a46cc['set']('PACK8',''),this['emitterSha'+'pe']===ai&&_0x4a46cc['set']('EMITTERSHA'+'PE_BOX','');const _0x586004='Shape:'+this['emitterSha'+'pe']+'-Pack:'+this['pack8']+'-Local:'+this['localSpace'],_0x19fbda=Pe['get'](_0xcbe45,_0xcbe45['isWebGPU']?it:Fe),_0x8bcbd=new Map(_0x19fbda),_0x2ac842={'attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentChunk':'particle_s'+'imulationP'+'S','fragmentDefines':_0x4a46cc,'fragmentIncludes':_0x8bcbd};_0x2ac842['uniqueName']='ParticleUp'+'dateRespaw'+'n-'+_0x586004,_0x4a46cc['set']('RESPAWN',''),this['shaderPart'+'icleUpdate'+'Respawn']=$t['createShad'+'er'](_0xcbe45,_0x2ac842),_0x4a46cc['delete']('RESPAWN'),_0x2ac842['uniqueName']='ParticleUp'+'dateNoResp'+'awn-'+_0x586004,_0x4a46cc['set']('NO_RESPAWN',''),this['shaderPart'+'icleUpdate'+'NoRespawn']=$t['createShad'+'er'](_0xcbe45,_0x2ac842),_0x4a46cc['delete']('NO_RESPAWN'),_0x2ac842['uniqueName']='ParticleUp'+'dateStop-'+_0x586004,_0x4a46cc['set']('ON_STOP',''),this['shaderPart'+'icleUpdate'+'OnStop']=$t['createShad'+'er'](_0xcbe45,_0x2ac842),this['numParticl'+'eVerts']=this['useMesh']?this['mesh']['vertexBuff'+'er']['numVertice'+'s']:-0x1339+-0x449+0xbc3*0x2,this['numParticl'+'eIndices']=this['useMesh']?this['mesh']['indexBuffe'+'r'][0xbeb+0x16a3+-0x228e]['numIndices']:-0x3d0*0x6+0xc42*0x3+0x94*-0x18,this['_allocate'](this['numParticl'+'es']);const _0x1432a7=new Ge(_0xcbe45);_0x1432a7['vertexBuff'+'er']=this['vertexBuff'+'er'],_0x1432a7['indexBuffe'+'r'][-0x3*-0x7a7+0x3bf+0x6ad*-0x4]=this['indexBuffe'+'r'],_0x1432a7['primitive'][-0x21a5+-0x4d1+0xcd2*0x3]['type']=js,_0x1432a7['primitive'][-0x13e6+0x1*-0x15c1+0x29a7*0x1]['base']=-0x1642+0x1*0x6bb+-0xf87*-0x1,_0x1432a7['primitive'][-0x980+-0x126d+0x94f*0x3]['count']=this['numParticl'+'es']*this['numParticl'+'eIndices'],_0x1432a7['primitive'][0x11f7+0x96d+-0x1b64]['indexed']=!(-0x174*0x1a+0x545*0x5+0xb6f),this['material']=this['_createMat'+'erial'](),this['resetMater'+'ial']();const _0x2bcadd=this['meshInstan'+'ce']?this['meshInstan'+'ce']['visible']:!(-0x1*-0x7b8+-0xa09*0x1+-0x251*-0x1);this['meshInstan'+'ce']=new He(_0x1432a7,this['material'],this['node']),this['meshInstan'+'ce']['pick']=!(-0xb57+0xec+0xa6c),this['meshInstan'+'ce']['updateKey'](),this['meshInstan'+'ce']['cull']=!(0x8cb*-0x1+-0x1c18+-0x85*-0x47),this['localSpace']?this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],this['node']['getWorldTr'+'ansform']()):this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['_updateAab'+'b']=!(0x1*0x1657+0x1*-0x503+-0x1153),this['meshInstan'+'ce']['visible']=_0x2bcadd,this['_setMateri'+'alTextures'](),this['resetTime'](),this['addTime'](-0x801*0x3+-0x65b*-0x3+0x4f2,!(0x10*0x210+-0x121*0x15+0x2*-0x4a5)),this['preWarm']&&this['prewarm'](this['lifetime']);}['_isAnimate'+'d'](){return this['animNumFra'+'mes']>=0x1*0x25db+0x10fc+-0x36d6&&(this['animTilesX']>0x1*-0x1d24+0x123+0x1c02||this['animTilesY']>-0x1*-0x677+-0x14db+-0x14f*-0xb)&&(this['colorMap']&&this['colorMap']!==this['defaultPar'+'amTexture']||this['normalMap']);}['rebuildGra'+'phs'](){const _0x2583ec=this['precision'],_0x18d973=this['graphicsDe'+'vice'];this['qLocalVelo'+'city']=this['localVeloc'+'ityGraph']['quantize'](_0x2583ec),this['qVelocity']=this['velocityGr'+'aph']['quantize'](_0x2583ec),this['qColor']=this['colorGraph']['quantizeCl'+'amped'](_0x2583ec,0x695*-0x3+-0x3*-0x38b+0x91e,-0xe9*0xb+0x1eab+-0x11*0x137),this['qRotSpeed']=this['rotationSp'+'eedGraph']['quantize'](_0x2583ec),this['qScale']=this['scaleGraph']['quantize'](_0x2583ec),this['qAlpha']=this['alphaGraph']['quantize'](_0x2583ec),this['qRadialSpe'+'ed']=this['radialSpee'+'dGraph']['quantize'](_0x2583ec),this['qLocalVelo'+'city2']=this['localVeloc'+'ityGraph2']['quantize'](_0x2583ec),this['qVelocity2']=this['velocityGr'+'aph2']['quantize'](_0x2583ec),this['qColor2']=this['colorGraph'+'2']['quantizeCl'+'amped'](_0x2583ec,-0x26b9+-0x2206+-0x1*-0x48bf,0x7b*0x1+-0xe8d+0xe13),this['qRotSpeed2']=this['rotationSp'+'eedGraph2']['quantize'](_0x2583ec),this['qScale2']=this['scaleGraph'+'2']['quantize'](_0x2583ec),this['qAlpha2']=this['alphaGraph'+'2']['quantize'](_0x2583ec),this['qRadialSpe'+'ed2']=this['radialSpee'+'dGraph2']['quantize'](_0x2583ec);for(let _0x11a27d=0x1603*0x1+-0x1b69+0x566;_0x11a27d<_0x2583ec;_0x11a27d++)this['qRotSpeed'][_0x11a27d]*=Y['DEG_TO_RAD'],this['qRotSpeed2'][_0x11a27d]*=Y['DEG_TO_RAD'];if(this['localVeloc'+'ityUMax']=new Float32Array(-0x1c59*0x1+-0x1551+0x31ad),this['velocityUM'+'ax']=new Float32Array(0x1c1e+-0x3*-0x16f+-0x2068*0x1),this['colorUMax']=new Float32Array(0xf8d+-0x15c8+-0x2f*-0x22),this['rotSpeedUM'+'ax']=[-0x1db5+0x10e4+0xc1*0x11],this['scaleUMax']=[0x1cc8+0x128c*-0x2+0x850],this['alphaUMax']=[-0x1f45+0x91*0x13+0x3*0x6d6],this['radialSpee'+'dUMax']=[-0xd*-0x1f7+-0x175c+-0xd*0x2b],this['qLocalVelo'+'cityDiv']=Br(this['qLocalVelo'+'city'],this['qLocalVelo'+'city2'],this['localVeloc'+'ityUMax']),this['qVelocityD'+'iv']=Br(this['qVelocity'],this['qVelocity2'],this['velocityUM'+'ax']),this['qColorDiv']=Br(this['qColor'],this['qColor2'],this['colorUMax']),this['qRotSpeedD'+'iv']=Br(this['qRotSpeed'],this['qRotSpeed2'],this['rotSpeedUM'+'ax']),this['qScaleDiv']=Br(this['qScale'],this['qScale2'],this['scaleUMax']),this['qAlphaDiv']=Br(this['qAlpha'],this['qAlpha2'],this['alphaUMax']),this['qRadialSpe'+'edDiv']=Br(this['qRadialSpe'+'ed'],this['qRadialSpe'+'ed2'],this['radialSpee'+'dUMax']),this['pack8']){const _0x1b944f=[0x16*0x164+0x78e+-0x2626,0x1464+-0x613+0x2dd*-0x5,-0x2*0x1163+-0x1*-0x1233+0x1093];Xr(this['qVelocity'],_0x1b944f);const _0x16cea6=[0x1*-0x14b7+0x257*0x4+0x99*0x13,-0x116e+-0x1*-0x1093+0x49*0x3,-0x1f1c+-0x4*0x95+0x2170];Xr(this['qVelocity2'],_0x16cea6);const _0x6454f0=[-0x861*0x1+0x1ceb+-0x148a,0x2*-0x121f+-0xbf7+0x3035,-0x7da*-0x4+-0x476+0x1*-0x1af2];Xr(this['qLocalVelo'+'city'],_0x6454f0);const _0x4f7559=[0x23f9+-0x25c*-0x2+0x28b1*-0x1,-0x111b+0x2495+0x137a*-0x1,-0x5f8+0x1dcb+-0x17d3];Xr(this['qLocalVelo'+'city2'],_0x4f7559);const _0x2aeebc=[0x7ce+-0x1c32+0x1464];Xr(this['qRadialSpe'+'ed'],_0x2aeebc);const _0x37f16d=[-0xa57*0x1+0x2607+-0x1bb0];Xr(this['qRadialSpe'+'ed2'],_0x37f16d);let _0x461173=Math['max'](_0x1b944f[0x129d+-0x1df5+0xb58],_0x16cea6[-0x1d1e+-0xc73+0x2991]);_0x461173=Math['max'](_0x461173,_0x1b944f[-0x1186+-0x34f*-0x3+0x79a]),_0x461173=Math['max'](_0x461173,_0x16cea6[-0x2*-0xe5+-0x34*0x87+0x19a3]),_0x461173=Math['max'](_0x461173,_0x1b944f[0x1658+0xcc9*0x1+0x1*-0x231f]),_0x461173=Math['max'](_0x461173,_0x16cea6[-0x1c55*-0x1+0x227+0xf3d*-0x2]);let _0x588e59=Math['max'](_0x6454f0[-0x205*-0xa+0x1*0x45+-0x1477],_0x4f7559[-0x2*0x7b3+0x3c5*0x8+-0xec2*0x1]);_0x588e59=Math['max'](_0x588e59,_0x6454f0[0x26de+0x1b6f+-0x424c]),_0x588e59=Math['max'](_0x588e59,_0x4f7559[0xb4*-0x1c+-0x24f5+0x38a6]),_0x588e59=Math['max'](_0x588e59,_0x6454f0[0x1c78+0x5*-0x3d1+-0x31*0x31]),_0x588e59=Math['max'](_0x588e59,_0x4f7559[-0x2*0x91b+0x955*-0x1+0x1b8d]);const _0x9871b8=Math['max'](_0x2aeebc[-0x152c+-0x169*0x13+0x3*0xffd],_0x37f16d[0x1*-0x12c7+0x117f+0x148]);this['maxVel']=_0x461173+_0x588e59+_0x9871b8;}this['useCpu']||(this['internalTe'+'x0']=xs(_0x18d973,_0x2583ec,-0x10f*0x21+-0x19fa+-0x17*-0x2a6,cg(this['qLocalVelo'+'city'],this['qLocalVelo'+'cityDiv'])),this['internalTe'+'x1']=xs(_0x18d973,_0x2583ec,0x1c9*0x13+-0x1c10+-0x5da,cg(this['qVelocity'],this['qVelocityD'+'iv'])),this['internalTe'+'x2']=xs(_0x18d973,_0x2583ec,0x111+0x7aa+0x1*-0x8ba,xA(this['qRotSpeed'],this['qScale'],this['qScaleDiv'],this['qRotSpeedD'+'iv'],this['qAlphaDiv'])),this['internalTe'+'x3']=xs(_0x18d973,_0x2583ec,0x336*0x2+0x16d2+-0x1d3d,TA(this['qRadialSpe'+'ed'],this['qRadialSpe'+'edDiv']))),this['colorParam']=xs(_0x18d973,_0x2583ec,0xc*0x22d+0x223f+0xa0f*-0x6,vA(this['qColor'],this['qAlpha']),_s,0x56*-0x4a+-0x1*0x169f+0x7ea*0x6,!(0x3b*0x7f+0x2202+-0x3f47));}['_setMateri'+'alTextures'](){this['colorMap']&&(w['call'](()=>{py(this['colorMap']['format'])&&w['warnOnce']('ParticleEm'+'itter:\x20col'+'orMap\x20text'+'ure\x20['+this['colorMap']['name']+(']\x20is\x20not\x20u'+'sing\x20sRGB\x20'+'format.\x20Pl'+'ease\x20corre'+'ct\x20it\x20for\x20'+'the\x20correc'+'t\x20renderin'+'g.'),this['colorMap']);}),this['material']['setParamet'+'er']('colorMap',this['colorMap']),this['lighting']&&this['normalMap']&&this['material']['setParamet'+'er']('normalMap',this['normalMap']));}['_createMat'+'erial'](){const _0x1b3ab6=new SA(this);return _0x1b3ab6['name']='EmitterMat'+'erial:'+this['node']['name'],_0x1b3ab6['cull']=bt,_0x1b3ab6['alphaWrite']=!(-0x1c8c+0x162*-0x4+0x2215),_0x1b3ab6['blendType']=this['blendType'],_0x1b3ab6['depthWrite']=this['depthWrite'],_0x1b3ab6;}['resetMater'+'ial'](){const _0x1d40ab=this['material'];_0x1d40ab['setParamet'+'er']('stretch',this['stretch']),this['_isAnimate'+'d']()&&(_0x1d40ab['setParamet'+'er']('animTexTil'+'esParams',this['animTilesP'+'arams']),_0x1d40ab['setParamet'+'er']('animTexPar'+'ams',this['animParams']),_0x1d40ab['setParamet'+'er']('animTexInd'+'exParams',this['animIndexP'+'arams'])),_0x1d40ab['setParamet'+'er']('colorMult',this['intensity']),this['useCpu']||(_0x1d40ab['setParamet'+'er']('internalTe'+'x0',this['internalTe'+'x0']),_0x1d40ab['setParamet'+'er']('internalTe'+'x1',this['internalTe'+'x1']),_0x1d40ab['setParamet'+'er']('internalTe'+'x2',this['internalTe'+'x2']),_0x1d40ab['setParamet'+'er']('internalTe'+'x3',this['internalTe'+'x3'])),_0x1d40ab['setParamet'+'er']('colorParam',this['colorParam']),_0x1d40ab['setParamet'+'er']('numParticl'+'es',this['numParticl'+'es']),_0x1d40ab['setParamet'+'er']('numParticl'+'esPot',this['numParticl'+'esPot']),_0x1d40ab['setParamet'+'er']('lifetime',this['lifetime']),_0x1d40ab['setParamet'+'er']('rate',this['rate']),_0x1d40ab['setParamet'+'er']('rateDiv',this['rate2']-this['rate']),_0x1d40ab['setParamet'+'er']('seed',this['seed']),_0x1d40ab['setParamet'+'er']('scaleDivMu'+'lt',this['scaleUMax'][0x1ef6+-0x1605+-0x8f1*0x1]),_0x1d40ab['setParamet'+'er']('alphaDivMu'+'lt',this['alphaUMax'][-0xd49*-0x1+0xd1d+0xda*-0x1f]),_0x1d40ab['setParamet'+'er']('radialSpee'+'dDivMult',this['radialSpee'+'dUMax'][-0x237a+0x22db+0x9f]),_0x1d40ab['setParamet'+'er']('graphNumSa'+'mples',this['precision']),_0x1d40ab['setParamet'+'er']('graphSampl'+'eSize',(0x21e2+-0x1*0xe59+0x4*-0x4e2)/this['precision']),_0x1d40ab['setParamet'+'er']('emitterSca'+'le',new Float32Array([-0x1f*0xfb+-0x1*0xb1b+0x2981,0x703+-0xc75*-0x2+-0x1*0x1fec,-0x8*0x256+0x4c2*-0x3+0x1d*0x123])),this['pack8']&&(this['_gpuUpdate'+'r']['_setInputB'+'ounds'](),_0x1d40ab['setParamet'+'er']('inBoundsSi'+'ze',this['_gpuUpdate'+'r']['inBoundsSi'+'zeUniform']),_0x1d40ab['setParamet'+'er']('inBoundsCe'+'nter',this['_gpuUpdate'+'r']['inBoundsCe'+'nterUnifor'+'m']),_0x1d40ab['setParamet'+'er']('maxVel',this['maxVel'])),this['wrap']&&this['wrapBounds']&&(this['wrapBounds'+'Uniform'][0x13f9+-0x5*-0x64e+-0x337f*0x1]=this['wrapBounds']['x'],this['wrapBounds'+'Uniform'][0x2209+0x233a+-0x4542]=this['wrapBounds']['y'],this['wrapBounds'+'Uniform'][-0x1517+-0x1835+0x2d4e]=this['wrapBounds']['z'],_0x1d40ab['setParamet'+'er']('wrapBounds',this['wrapBounds'+'Uniform'])),this['_setMateri'+'alTextures'](),this['depthSofte'+'ning']>0x1bcb+0xe75*-0x1+-0xd56&&_0x1d40ab['setParamet'+'er']('softening',(0x2170+0xf4+-0x2263)/(this['depthSofte'+'ning']*this['depthSofte'+'ning']*(0x1633*0x1+0x6*-0x4ee+0x7c5))),this['stretch']>-0x1a*-0xc1+0x1795*0x1+-0x2b2f&&(_0x1d40ab['cull']=bt),this['_compParti'+'cleFacePar'+'ams']();}['_compParti'+'cleFacePar'+'ams'](){let _0x242fe3,_0x455148;if(this['orientatio'+'n']===yh)_0x242fe3=new Float32Array([-0x383+0x8a4+-0x520,-0x1d40+-0x1e7*0x3+0x22f5,-0x2*0xfbe+-0x41*-0x48+0xd34]),_0x455148=new Float32Array([-0x1c*-0xfe+0x338*-0x5+-0xbb0,0x193*-0xa+-0xa0f+0x19cd,-0x9*0x357+0xdbb+0x1055]);else{let _0x5deb41;this['orientatio'+'n']===Vw?_0x5deb41=this['particleNo'+'rmal']['normalize']():_0x5deb41=(this['node']===null?te['IDENTITY']:this['node']['getWorldTr'+'ansform']())['transformV'+'ector'](this['particleNo'+'rmal'])['normalize']();const _0x38e176=new D(-0x1802+0x1fe8+-0x7e5,0x2*0x1256+-0xaf0+-0x19bc,-0x6f+0x1*-0x11b9+0x1228);Math['abs'](_0x38e176['dot'](_0x5deb41))===0x119c+-0x2466*-0x1+-0x3601&&_0x38e176['set'](-0x1e61+-0x2051+-0x1*-0x3eb2,0xe*0x1c8+0xc81+0xf*-0x27f,0x1*-0x2563+0x14c0+-0xd5*-0x14);const _0x2e8a05=new D()['cross'](_0x5deb41,_0x38e176)['normalize']();_0x38e176['cross'](_0x2e8a05,_0x5deb41)['normalize'](),_0x242fe3=new Float32Array([_0x38e176['x'],_0x38e176['y'],_0x38e176['z']]),_0x455148=new Float32Array([_0x2e8a05['x'],_0x2e8a05['y'],_0x2e8a05['z']]);}this['material']['setParamet'+'er']('faceTangen'+'t',_0x242fe3),this['material']['setParamet'+'er']('faceBinorm',_0x455148);}['getVertexI'+'nfo'](){const _0x286a2d=[];return this['useCpu']?_0x286a2d['push']({'semantic':Jf,'components':0x4,'type':Ve},{'semantic':uh,'components':0x4,'type':Ve},{'semantic':Ap,'components':0x4,'type':Ve},{'semantic':Cp,'components':0x1,'type':Ve},{'semantic':Pp,'components':this['useMesh']?-0x129*-0x15+-0x1*0x20e9+-0x112*-0x8:0x1232+0x11*0x1a0+-0x2dd0,'type':Ve}):(_0x286a2d['push']({'semantic':Jf,'components':0x4,'type':Ve}),this['useMesh']&&_0x286a2d['push']({'semantic':uh,'components':0x2,'type':Ve})),_0x286a2d;}['_allocate'](_0x2968f3){const _0x7fa762=_0x2968f3*this['numParticl'+'eVerts'],_0x23dd2b=_0x2968f3*this['numParticl'+'eIndices'];if(this['vertexBuff'+'er']===void(-0x2313+0x6e9*-0x5+0x2*0x22d0)||this['vertexBuff'+'er']['getNumVert'+'ices']()!==_0x7fa762){const _0x24989f=this['getVertexI'+'nfo'](),_0x5c0cde=new kt(this['graphicsDe'+'vice'],_0x24989f);this['vertexBuff'+'er']=new Is(this['graphicsDe'+'vice'],_0x5c0cde,_0x7fa762,{'usage':lh}),this['indexBuffe'+'r']=new br(this['graphicsDe'+'vice'],wr,_0x23dd2b);const _0x12ed2d=new Float32Array(this['vertexBuff'+'er']['lock']());let _0x1f8f46,_0x29f270,_0x3302c6;if(this['useMesh']){_0x1f8f46=new Float32Array(this['mesh']['vertexBuff'+'er']['lock']()),_0x29f270=_0x1f8f46['length']/this['mesh']['vertexBuff'+'er']['numVertice'+'s'];for(let _0x53aebb=-0x14c5+-0x16*0xa3+0x22c7;_0x53aebb<this['mesh']['vertexBuff'+'er']['format']['elements']['length'];_0x53aebb++)if(this['mesh']['vertexBuff'+'er']['format']['elements'][_0x53aebb]['name']===is){_0x3302c6=this['mesh']['vertexBuff'+'er']['format']['elements'][_0x53aebb]['offset']/(0x3*-0x4db+-0x2*-0x893+-0x291);break;}}for(let _0x34bc2a=-0x5*0x79b+0x529*-0x4+0x3aab*0x1;_0x34bc2a<_0x7fa762;_0x34bc2a++){const _0x8e21cc=Math['floor'](_0x34bc2a/this['numParticl'+'eVerts']);if(this['useMesh']){const _0xb03c51=_0x34bc2a%this['numParticl'+'eVerts'];_0x12ed2d[_0x34bc2a*(0xeaa*-0x2+-0xecb*-0x2+-0x3c)]=_0x1f8f46[_0xb03c51*_0x29f270],_0x12ed2d[_0x34bc2a*(0x136+-0xfea+0xeba)+(-0x22c9+0x11ae+0x49*0x3c)]=_0x1f8f46[_0xb03c51*_0x29f270+(-0x2415+0x152d+-0x1*-0xee9)],_0x12ed2d[_0x34bc2a*(-0x1f89*0x1+-0x1ea4+-0x1*-0x3e33)+(0x1*0x18ee+-0x29b*-0x8+-0x2dc4)]=_0x1f8f46[_0xb03c51*_0x29f270+(0xce7*0x3+-0x176a*-0x1+-0x1*0x3e1d)],_0x12ed2d[_0x34bc2a*(-0x1*0x1445+0x20a4+-0xc59)+(-0x1*-0x1fcb+-0x136+0x7*-0x45e)]=_0x8e21cc,_0x12ed2d[_0x34bc2a*(0xbb9*0x2+0x1e13*-0x1+0x6a7)+(0x18c7+0x579*-0x5+0x2*0x14d)]=_0x1f8f46[_0xb03c51*_0x29f270+_0x3302c6+(-0x42e*0x3+-0x1bf1+0x287b)],_0x12ed2d[_0x34bc2a*(-0x23c5+0x67*-0x1b+-0x2ea8*-0x1)+(0xc35+0x1*0x1d57+-0x2987)]=0xb50+0x7f0*-0x4+0x1471-_0x1f8f46[_0xb03c51*_0x29f270+_0x3302c6+(0x2420+0x24fe+-0x491d)];}else{const _0x1fd20a=_0x34bc2a%(-0xefb+-0x1c10+0x97*0x49);_0x12ed2d[_0x34bc2a*(-0x4*-0xd5+0x173*-0x19+0x20eb)]=ig[_0x1fd20a][0x1*0x1d17+-0x1ab2+-0x265],_0x12ed2d[_0x34bc2a*(-0x2525*-0x1+0x16a2+-0x3bc3)+(-0x1*0x1461+0x5*0x355+0x1*0x3b9)]=ig[_0x1fd20a][-0x94b+0x22c4+-0x5*0x518],_0x12ed2d[_0x34bc2a*(-0x52*-0x3+-0x1412*0x1+0x1320)+(0x29*-0x56+-0x1c66+0x1517*0x2)]=0x11*0x89+-0x16b0+0xd97*0x1,_0x12ed2d[_0x34bc2a*(0x7cc*0x2+-0x1f11+0xf7d)+(-0x2*0xe5+0xc6d*0x1+0x154*-0x8)]=_0x8e21cc;}}this['useCpu']&&(this['vbCPU']=new Float32Array(_0x12ed2d),this['vbOld']=new Float32Array(this['vbCPU']['length'])),this['vertexBuff'+'er']['unlock'](),this['useMesh']&&this['mesh']['vertexBuff'+'er']['unlock']();let _0x29df4e=-0x138b*0x1+0xc48+0xb*0xa9;const _0xd35162=new Uint32Array(this['indexBuffe'+'r']['lock']());if(this['useMesh']){const _0xe976c1=this['mesh']['indexBuffe'+'r'][-0x17a5+-0x1de1+0x41e*0xd];_0x1f8f46=new Sh[_0xe976c1['format']](_0xe976c1['lock']());}for(let _0x3c781b=-0x2664+0x18f+-0xc47*-0x3;_0x3c781b<_0x2968f3;_0x3c781b++)if(this['useMesh']){for(let _0x514c8b=-0x2111*-0x1+-0x2617+0x283*0x2;_0x514c8b<this['numParticl'+'eIndices'];_0x514c8b++)_0xd35162[_0x3c781b*this['numParticl'+'eIndices']+_0x514c8b]=_0x1f8f46[_0x514c8b]+_0x3c781b*this['numParticl'+'eVerts'];}else{const _0x51fcff=_0x3c781b*(0x3*0x551+0x1c0e+-0x2bfd);_0xd35162[_0x29df4e++]=_0x51fcff,_0xd35162[_0x29df4e++]=_0x51fcff+(-0x30f*0x5+0x14e8+-0x59c*0x1),_0xd35162[_0x29df4e++]=_0x51fcff+(-0x1017+0x161*-0x12+0x28eb),_0xd35162[_0x29df4e++]=_0x51fcff,_0xd35162[_0x29df4e++]=_0x51fcff+(0x1ecd+0xade+0xf*-0x2c7),_0xd35162[_0x29df4e++]=_0x51fcff+(0x239*0xd+0x218e+-0x3e70);}this['indexBuffe'+'r']['unlock'](),this['useMesh']&&this['mesh']['indexBuffe'+'r'][-0x11e3+0x186c+-0x689]['unlock']();}}['reset'](){if(this['beenReset']=!(0x17a1+0x1c6c+-0x340d),this['seed']=Math['random'](),this['material']['setParamet'+'er']('seed',this['seed']),this['useCpu']){for(let _0xa3d4a=0x284*-0xe+-0x1221+0x3559;_0xa3d4a<this['particleTe'+'xStart']['length'];_0xa3d4a++)this['particleTe'+'x'][_0xa3d4a]=this['particleTe'+'xStart'][_0xa3d4a];}else this['_setMateri'+'alTextures']();this['resetWorld'+'Bounds'](),this['resetTime']();const _0x536918=this['loop'];this['loop']=!(-0x175c+-0x2419*-0x1+0x3*-0x43f),this['addTime'](0x181d+-0x244c+-0x1*-0xc2f,!(0x1*-0x1322+0x1906+-0x89*0xb)),this['loop']=_0x536918,this['preWarm']&&this['prewarm'](this['lifetime']);}['prewarm'](_0x2c973c){const _0xedd8a3=_0x2c973c/this['lifetime'],_0xb5b1b8=Math['min'](Math['floor'](_0xedd8a3*this['precision']),this['precision']),_0x422fd2=_0x2c973c/_0xb5b1b8;for(let _0x166f48=0x326+-0x1b60+-0x7*-0x376;_0x166f48<_0xb5b1b8;_0x166f48++)this['addTime'](_0x422fd2,!(-0xa*-0xda+-0x6bd+0x1*-0x1c6));}['resetTime'](){this['endTime']=wA(this);}['finishFram'+'e'](){this['useCpu']&&this['vertexBuff'+'er']['unlock']();}['addTime'](_0x34425c,_0xe15ec3){const _0x4615e5=this['graphicsDe'+'vice'],_0x273de5=de();if(this['simTimeTot'+'al']+=_0x34425c,this['calculateW'+'orldBounds'](),this['_isAnimate'+'d']()){const _0x3d2053=this['animTilesP'+'arams'];_0x3d2053[-0x7a3*-0x1+-0x239+-0x56a]=(0x2429+0x2d5+-0x26fd)/this['animTilesX'],_0x3d2053[0x1152+0x4*0x2bd+-0x1c45*0x1]=(-0x1*-0x1a55+0x3*0x929+0x35cf*-0x1)/this['animTilesY'];const _0x1bb0c3=this['animParams'];_0x1bb0c3[-0x833*0x1+-0x54d+0xd80]=this['animStartF'+'rame'],_0x1bb0c3[-0x246c+-0x559+0x29c6]=this['animNumFra'+'mes']*this['animSpeed'],_0x1bb0c3[-0x1*0x17b4+-0x243f+0x3bf5*0x1]=this['animNumFra'+'mes']-(0x272*0x1+0x21b*0xf+-0x2206),_0x1bb0c3[0xf*0x93+-0xdd3+0x539*0x1]=this['animNumAni'+'mations']-(0x1*0x1639+0x95c+-0x1f94);const _0xd4d2f3=this['animIndexP'+'arams'];_0xd4d2f3[0x492+-0x5c5*-0x2+-0x101c]=this['animIndex'],_0xd4d2f3[0xb*-0x15b+0x1b12+-0x614*0x2]=this['randomizeA'+'nimIndex'];}this['scene']&&this['camera']!==this['scene']['_activeCam'+'era']&&(this['camera']=this['scene']['_activeCam'+'era'],this['onChangeCa'+'mera']()),this['emitterSha'+'pe']===ai&&(Ai[-0x208c*0x1+0x72d+0x195f]=this['emitterExt'+'ents']['x']!==0x115+0xad9+-0xbee?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:-0x2f3*-0xa+0x1013+0x1*-0x2d91,Ai[-0x1287+-0x2c1*-0x1+0x241*0x7]=this['emitterExt'+'ents']['y']!==0x99*-0x13+-0x32d+0xf*0xf8?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:0x257b+0x2341+-0x3d4*0x13,Ai[0xd*-0x5c+0x23e4+0x31f*-0xa]=this['emitterExt'+'ents']['z']!==-0x603+0x61b*0x1+-0x18?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:0x1e97+-0x1e9*0x4+-0x19*0xeb,this['meshInstan'+'ce']['node']===null?Ur['setTRS'](D['ZERO'],le['IDENTITY'],this['emitterExt'+'ents']):Ur['setTRS'](D['ZERO'],this['meshInstan'+'ce']['node']['getRotatio'+'n'](),lg['copy'](this['emitterExt'+'ents'])['mul'](this['meshInstan'+'ce']['node']['localScale'])));let _0x164fcf;const _0x54747e=this['meshInstan'+'ce']['node']===null?D['ONE']:this['meshInstan'+'ce']['node']['localScale'];if(this['emitterSca'+'leUniform'][-0xf85+-0x16db*-0x1+-0x756]=_0x54747e['x'],this['emitterSca'+'leUniform'][0x1a9c+-0x2442+0x9a7]=_0x54747e['y'],this['emitterSca'+'leUniform'][-0x1264+0x9d5+-0x3*-0x2db]=_0x54747e['z'],this['material']['setParamet'+'er']('emitterSca'+'le',this['emitterSca'+'leUniform']),this['localSpace']&&this['meshInstan'+'ce']['node']&&(_0x164fcf=this['meshInstan'+'ce']['node']['getPositio'+'n'](),this['emitterPos'+'Uniform'][0xf50+0xec2+0x2*-0xf09]=_0x164fcf['x'],this['emitterPos'+'Uniform'][0x6cd*-0x1+0xa*-0x1f7+0x1a74]=_0x164fcf['y'],this['emitterPos'+'Uniform'][0x1d66+0x853*-0x1+-0x1*0x1511]=_0x164fcf['z'],this['material']['setParamet'+'er']('emitterPos',this['emitterPos'+'Uniform'])),this['_compParti'+'cleFacePar'+'ams'](),!this['useCpu'])this['_gpuUpdate'+'r']['update'](_0x4615e5,Ur,Ai,_0x34425c,_0xe15ec3);else{const _0x122f10=new Float32Array(this['vertexBuff'+'er']['lock']());this['_cpuUpdate'+'r']['update'](_0x122f10,this['vbToSort'],this['particleTe'+'x'],Ur,Ai,_0x164fcf,_0x34425c,_0xe15ec3);}this['loop']||Date['now']()>this['endTime']&&(this['onFinished']&&this['onFinished'](),this['meshInstan'+'ce']['visible']=!(0xc5c+0xfbb+0x2cf*-0xa)),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['drawOrder']=this['drawOrder']),this['_addTimeTi'+'me']+=de()-_0x273de5;}['_destroyRe'+'sources'](){var _0x1fe6d5,_0x26fc7d,_0x6a2841,_0x2b08be,_0x658a63,_0x415805,_0xf50f5c,_0x4742a5,_0x159b0c,_0x4ece95,_0x3012f6,_0x5d44c1;(_0x1fe6d5=this['particleTe'+'xIN'])==null||_0x1fe6d5['destroy'](),this['particleTe'+'xIN']=null,(_0x26fc7d=this['particleTe'+'xOUT'])==null||_0x26fc7d['destroy'](),this['particleTe'+'xOUT']=null,this['particleTe'+'xStart']&&this['particleTe'+'xStart']['destroy']&&(this['particleTe'+'xStart']['destroy'](),this['particleTe'+'xStart']=null),(_0x6a2841=this['rtParticle'+'TexIN'])==null||_0x6a2841['destroy'](),this['rtParticle'+'TexIN']=null,(_0x2b08be=this['rtParticle'+'TexOUT'])==null||_0x2b08be['destroy'](),this['rtParticle'+'TexOUT']=null,(_0x658a63=this['internalTe'+'x0'])==null||_0x658a63['destroy'](),this['internalTe'+'x0']=null,(_0x415805=this['internalTe'+'x1'])==null||_0x415805['destroy'](),this['internalTe'+'x1']=null,(_0xf50f5c=this['internalTe'+'x2'])==null||_0xf50f5c['destroy'](),this['internalTe'+'x2']=null,(_0x4742a5=this['internalTe'+'x3'])==null||_0x4742a5['destroy'](),this['internalTe'+'x3']=null,(_0x159b0c=this['colorParam'])==null||_0x159b0c['destroy'](),this['colorParam']=null,(_0x4ece95=this['vertexBuff'+'er'])==null||_0x4ece95['destroy'](),this['vertexBuff'+'er']=void(0x3*0x503+-0xefb+0x7*-0x2),(_0x3012f6=this['indexBuffe'+'r'])==null||_0x3012f6['destroy'](),this['indexBuffe'+'r']=void(-0x1d33+0x680+-0x95*-0x27),(_0x5d44c1=this['material'])==null||_0x5d44c1['destroy'](),this['material']=null;}['destroy'](){this['camera']=null,this['_destroyRe'+'sources']();}}class PA extends ya{['generateKe'+'y'](_0x14c2cd){var _0x48fc48;const _0x1e1d2f=_0x14c2cd['shaderDesc'],_0x4d0b66=_0x1e1d2f['vertexGLSL']?hi(_0x1e1d2f['vertexGLSL']):0x11*0x101+0x2085+-0xb*0x482,_0x55d166=_0x1e1d2f['fragmentGL'+'SL']?hi(_0x1e1d2f['fragmentGL'+'SL']):0x118c+-0x1*0x1c0d+0x1*0xa81,_0x229208=_0x1e1d2f['vertexWGSL']?hi(_0x1e1d2f['vertexWGSL']):-0x5+0x2*0x3a1+0x73d*-0x1,_0x2a61e7=_0x1e1d2f['fragmentWG'+'SL']?hi(_0x1e1d2f['fragmentWG'+'SL']):-0x3*-0x2fa+0x4*-0x1a3+-0x262,_0x4a2072=ya['definesHas'+'h'](_0x14c2cd['defines']),_0x3cc373=((_0x48fc48=_0x14c2cd['shaderChun'+'ks'])==null?void(0x1*-0x6c2+0xd26+-0x664):_0x48fc48['key'])??'';let _0x813f4d=_0x1e1d2f['uniqueName']+'_'+_0x4a2072+'_'+_0x4d0b66+'_'+_0x55d166+'_'+_0x229208+'_'+_0x2a61e7+'_'+_0x3cc373;return _0x14c2cd['skin']&&(_0x813f4d+='_skin'),_0x14c2cd['useInstanc'+'ing']&&(_0x813f4d+='_inst'),_0x14c2cd['useMorphPo'+'sition']&&(_0x813f4d+='_morphp'),_0x14c2cd['useMorphNo'+'rmal']&&(_0x813f4d+='_morphn'),_0x14c2cd['useMorphTe'+'xtureBased'+'Int']&&(_0x813f4d+='_morphi'),_0x813f4d;}['createAttr'+'ibutesDefi'+'nition'](_0x53c868,_0x5cdf67){const _0x1bda48=_0x5cdf67['shaderDesc']['attributes'],_0x28b7fd=_0x1bda48?{..._0x1bda48}:void(0x127*0x11+0x2*-0x868+-0x2c7);_0x5cdf67['skin']&&(_0x28b7fd['vertex_bon'+'eWeights']=gi,_0x28b7fd['vertex_bon'+'eIndices']=us),(_0x5cdf67['useMorphPo'+'sition']||_0x5cdf67['useMorphNo'+'rmal'])&&(_0x28b7fd['morph_vert'+'ex_id']=Ln),_0x53c868['attributes']=_0x28b7fd;}['createVert'+'exDefiniti'+'on'](_0x45149f,_0x21cf79,_0x34d899,_0x2eb8c3){const _0x1d09f5=_0x21cf79['shaderDesc'],_0xaed363=new Map(_0x34d899);_0xaed363['set']('transformI'+'nstancingV'+'S','');const _0xf83240=new Map(_0x21cf79['defines']);_0x21cf79['skin']&&_0xf83240['set']('SKIN',!(-0xb5a*0x2+-0x1f4f+0xb*0x4e9)),_0x21cf79['useInstanc'+'ing']&&_0xf83240['set']('INSTANCING',!(-0xe53+-0x19d7+-0xc2*-0x35)),(_0x21cf79['useMorphPo'+'sition']||_0x21cf79['useMorphNo'+'rmal'])&&(_0xf83240['set']('MORPHING',!(-0x1b55*0x1+-0x220*-0xa+0x1*0x615)),_0x21cf79['useMorphTe'+'xtureBased'+'Int']&&_0xf83240['set']('MORPHING_I'+'NT',!(0x233c+-0x1*0x31+-0x230b)),_0x21cf79['useMorphPo'+'sition']&&_0xf83240['set']('MORPHING_P'+'OSITION',!(-0x155d+-0x1883+0x2de0)),_0x21cf79['useMorphNo'+'rmal']&&_0xf83240['set']('MORPHING_N'+'ORMAL',!(0x6ae+0x76d*-0x1+0xbf))),_0x45149f['vertexCode']=_0x2eb8c3?_0x1d09f5['vertexWGSL']:_0x1d09f5['vertexGLSL'],_0x45149f['vertexIncl'+'udes']=_0xaed363,_0x45149f['vertexDefi'+'nes']=_0xf83240;}['createFrag'+'mentDefini'+'tion'](_0x1b3f27,_0x443dfe,_0x28e6e3,_0x4441b3){const _0xa3a388=_0x443dfe['shaderDesc'],_0x9cec72=new Map(_0x28e6e3),_0x4b4b38=new Map(_0x443dfe['defines']);_0x1b3f27['fragmentCo'+'de']=_0x4441b3?_0xa3a388['fragmentWG'+'SL']:_0xa3a388['fragmentGL'+'SL'],_0x1b3f27['fragmentIn'+'cludes']=_0x9cec72,_0x1b3f27['fragmentDe'+'fines']=_0x4b4b38;}['createShad'+'erDefiniti'+'on'](_0x2e04c9,_0x75c51b){var _0x4bb76f;const _0x1585c5=_0x75c51b['shaderDesc'],_0x341e44=_0x2e04c9['isWebGPU']&&!!_0x1585c5['vertexWGSL']&&!!_0x1585c5['fragmentWG'+'SL']&&(((_0x4bb76f=_0x75c51b['shaderChun'+'ks'])==null?void(0x1dd8+-0x4*0x33e+-0xd8*0x14):_0x4bb76f['useWGSL'])??!(0x20*0x14+-0x4*0x1de+0x4f8)),_0x9dfae8={'name':'ShaderMate'+'rial-'+_0x1585c5['uniqueName'],'shaderLanguage':_0x341e44?it:Fe,'fragmentOutputTypes':_0x1585c5['fragmentOu'+'tputTypes'],'meshUniformBufferFormat':_0x1585c5['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x1585c5['meshBindGr'+'oupFormat']},_0x284f79=_0x341e44?it:Fe,_0x500455=bh['merge'](Pe['get'](_0x2e04c9,_0x284f79),_0x75c51b['shaderChun'+'ks'][_0x284f79]);return this['createAttr'+'ibutesDefi'+'nition'](_0x9dfae8,_0x75c51b),this['createVert'+'exDefiniti'+'on'](_0x9dfae8,_0x75c51b,_0x500455,_0x341e44),this['createFrag'+'mentDefini'+'tion'](_0x9dfae8,_0x75c51b,_0x500455,_0x341e44),Jt['createDefi'+'nition'](_0x2e04c9,_0x9dfae8);}}const MA=new PA();class Xn extends tr{constructor(_0x750e66){super(),h(this,'_shaderDes'+'c'),this['shaderDesc']=_0x750e66;}set['shaderDesc'](_0x2e6c05){if(this['_shaderDes'+'c']=void(-0xd55+-0x593+-0x3c8*-0x5),_0x2e6c05&&(this['_shaderDes'+'c']={'uniqueName':_0x2e6c05['uniqueName'],'attributes':_0x2e6c05['attributes'],'fragmentOutputTypes':_0x2e6c05['fragmentOu'+'tputTypes'],'vertexGLSL':_0x2e6c05['vertexGLSL'],'fragmentGLSL':_0x2e6c05['fragmentGL'+'SL'],'vertexWGSL':_0x2e6c05['vertexWGSL'],'fragmentWGSL':_0x2e6c05['fragmentWG'+'SL']},_0x2e6c05['vertexCode']||_0x2e6c05['fragmentCo'+'de']||_0x2e6c05['shaderLang'+'uage'])){w['deprecated']('ShaderMate'+'rial\x20['+_0x2e6c05['uniqueName']+(']:\x20vertexC'+'ode,\x20fragm'+'entCode\x20an'+'d\x20shaderLa'+'nguage\x20pro'+'perties\x20of'+'\x20ShaderDes'+'c\x20is\x20depre'+'cated.\x20Use'+'\x20vertexGLS'+'L,\x20fragmen'+'tGLSL,\x20ver'+'texWGSL\x20or'+'\x20fragmentW'+'GSL\x20instea'+'d.'));const _0x3b2fcf=_0x2e6c05['shaderLang'+'uage']??Fe;_0x3b2fcf===Fe?(this['_shaderDes'+'c']['vertexGLSL']=_0x2e6c05['vertexCode'],this['_shaderDes'+'c']['fragmentGL'+'SL']=_0x2e6c05['fragmentCo'+'de']):_0x3b2fcf===it&&(this['_shaderDes'+'c']['vertexWGSL']=_0x2e6c05['vertexCode'],this['_shaderDes'+'c']['fragmentWG'+'SL']=_0x2e6c05['fragmentCo'+'de']);}this['clearVaria'+'nts']();}get['shaderDesc'](){return this['_shaderDes'+'c'];}['copy'](_0xc92e52){return super['copy'](_0xc92e52),this['shaderDesc']=_0xc92e52['shaderDesc'],this;}['getShaderV'+'ariant'](_0xbb721c){const {objDefs:_0xb529fb}=_0xbb721c,_0x519def={'defines':$t['getCoreDef'+'ines'](this,_0xbb721c),'skin':(_0xb529fb&nl)!==0xb*-0x338+0x3+-0xd*-0x2b9,'useInstancing':(_0xb529fb&ol)!==-0x12f6+-0xd*0x1cd+0x2a5f,'useMorphPosition':(_0xb529fb&ll)!==-0x9*-0x445+0x36*0x4+0x9*-0x45d,'useMorphNormal':(_0xb529fb&cl)!==-0x412+0x1b67+-0x21f*0xb,'useMorphTextureBasedInt':(_0xb529fb&hl)!==0x2*-0x3ce+0x1*0x12b3+-0xb17,'pass':_0xbb721c['pass'],'gamma':_0xbb721c['cameraShad'+'erParams']['shaderOutp'+'utGamma'],'toneMapping':_0xbb721c['cameraShad'+'erParams']['toneMappin'+'g'],'fog':_0xbb721c['cameraShad'+'erParams']['fog'],'shaderDesc':this['shaderDesc'],'shaderChunks':this['shaderChun'+'ks']},_0x435a31=new Ad(_0xbb721c['viewUnifor'+'mFormat'],_0xbb721c['viewBindGr'+'oupFormat'],_0xbb721c['vertexForm'+'at']),_0x4e9761=Hn(_0xbb721c['device']);return _0x4e9761['register']('shader-mat'+'erial',MA),_0x4e9761['getProgram']('shader-mat'+'erial',_0x519def,_0x435a31,this['userId']);}}const Iv=(_0x15276d,_0x12d2dd)=>{const _0x33b0ab=_0x12d2dd['length']/(-0xa00+-0x1b7*-0xb+-0x8da),_0x386a23=_0x15276d['length']/(-0x2333*0x1+0x5*-0x28c+0x2ff2),_0x2a23ee=new D(),_0x4cfa3b=new D(),_0x2d4eb2=new D(),_0x1cfa3e=new D(),_0x1e3597=new D(),_0x26064b=new D(),_0x439e88=[];for(let _0x5a27fc=0x1263+-0x3*-0x9f+-0x1440;_0x5a27fc<_0x15276d['length'];_0x5a27fc++)_0x439e88[_0x5a27fc]=-0x100c*-0x1+0x7f*0x3+0x1189*-0x1;for(let _0x12f842=-0x89*0xb+0x2e0+0x1*0x303;_0x12f842<_0x33b0ab;_0x12f842++){const _0x3d7b8c=_0x12d2dd[_0x12f842*(0x2*0x5c9+0x1427+-0x1fb6)],_0x331c93=_0x12d2dd[_0x12f842*(0x1a9*0x7+-0x1ab3+-0xf17*-0x1)+(0xe32+0x23e7*0x1+0x394*-0xe)],_0x80a794=_0x12d2dd[_0x12f842*(-0x6c4+-0x16f+0x836)+(-0x1db5+-0xe8e+0x2c45)];_0x2a23ee['set'](_0x15276d[_0x3d7b8c*(0x1*0x25c4+-0x3*0x187+-0x16*0x182)],_0x15276d[_0x3d7b8c*(-0x283*0x6+0xdd4+-0x141*-0x1)+(-0xe9b+0x23b*0x2+0xa26)],_0x15276d[_0x3d7b8c*(0x140*-0xe+-0x684+-0x1*-0x1807)+(0x2308+-0x302+0xaac*-0x3)]),_0x4cfa3b['set'](_0x15276d[_0x331c93*(0x35*-0x91+0xeae+0x106*0xf)],_0x15276d[_0x331c93*(0x2627+0xb8f+-0x1091*0x3)+(0x1*-0x1f5b+0x2*-0x335+-0x3c7*-0xa)],_0x15276d[_0x331c93*(-0x1d7f+-0x1*0x4ef+0x2271)+(0xa61+0x12c+-0x3d9*0x3)]),_0x2d4eb2['set'](_0x15276d[_0x80a794*(-0x18b5+0x133b+0x57d)],_0x15276d[_0x80a794*(0x2*-0x25f+0x1c8*0x11+0x5*-0x51b)+(0x255b+0x1*-0x767+0xbb*-0x29)],_0x15276d[_0x80a794*(0x2412+-0x3*-0x15a+0x281d*-0x1)+(0x1223+0x24ee+-0x5*0xb03)]),_0x1cfa3e['sub2'](_0x4cfa3b,_0x2a23ee),_0x1e3597['sub2'](_0x2d4eb2,_0x2a23ee),_0x26064b['cross'](_0x1cfa3e,_0x1e3597)['normalize'](),_0x439e88[_0x3d7b8c*(0x558*-0x1+0xb*-0x33d+-0x1*-0x28fa)]+=_0x26064b['x'],_0x439e88[_0x3d7b8c*(-0xa91+-0x5ef+0x1083)+(-0x1853+0xeda+-0x97a*-0x1)]+=_0x26064b['y'],_0x439e88[_0x3d7b8c*(-0xeef+-0x11f5+0x20e7*0x1)+(0x252+-0xc11*-0x1+0x1*-0xe61)]+=_0x26064b['z'],_0x439e88[_0x331c93*(-0x1b2d+0x1dbe+-0x28e)]+=_0x26064b['x'],_0x439e88[_0x331c93*(0x1f*0x137+-0x15bf*-0x1+-0x3b65)+(0xaf*0x1f+-0x19*-0x28+0x58*-0x49)]+=_0x26064b['y'],_0x439e88[_0x331c93*(-0xc50+-0x1de8+-0x2a3b*-0x1)+(-0x79*0x3c+-0x15*0x5c+-0x2*-0x11f5)]+=_0x26064b['z'],_0x439e88[_0x80a794*(-0x1*0x14+0x1482+-0x146b)]+=_0x26064b['x'],_0x439e88[_0x80a794*(-0x17c9+-0x408+0x1bd4)+(-0x1688+0x21f*0x12+0x5*-0x321)]+=_0x26064b['y'],_0x439e88[_0x80a794*(-0x562+0xb6f*-0x2+0x1c43)+(-0xcde+0x2b9*-0x2+-0x3aa*-0x5)]+=_0x26064b['z'];}for(let _0xb7314a=-0x4d*-0x5+-0xb8*0x28+0x1b3f;_0xb7314a<_0x386a23;_0xb7314a++){const _0x4ee3b3=_0x439e88[_0xb7314a*(0x262c+-0xff6+-0x1633)],_0x2bf8f9=_0x439e88[_0xb7314a*(-0x1fa3+-0x24c2+0x4468)+(0x1*0x2513+-0xd8+-0x2*0x121d)],_0x463799=_0x439e88[_0xb7314a*(-0xcd*0x3+0x1*0xfd9+-0xd6f)+(-0x18b6*-0x1+-0x2*0xf2c+0x2*0x2d2)],_0x4e00a6=(-0x24aa+-0x105*-0x1d+0x71a)/Math['sqrt'](_0x4ee3b3*_0x4ee3b3+_0x2bf8f9*_0x2bf8f9+_0x463799*_0x463799);_0x439e88[_0xb7314a*(0xbd*0x1f+0x358+0xd1c*-0x2)]*=_0x4e00a6,_0x439e88[_0xb7314a*(-0x835+-0x1dd3+0x260b*0x1)+(0x13b9+-0x6b*-0x3e+-0x2da2)]*=_0x4e00a6,_0x439e88[_0xb7314a*(0x1*-0x11e+0xb63*-0x1+0xc84)+(0x19d*-0x7+-0x39*-0x3f+-0x2ba)]*=_0x4e00a6;}return _0x439e88;},Mr=(_0x5aeb2b,_0x2aff0a,_0xcb8999,_0x985e28)=>{const _0xb4086e=_0x985e28['length']/(0x409*0x1+0x269f*0x1+-0x2aa5),_0x1cb5f6=_0x5aeb2b['length']/(0x818+-0x16f9+0xee4*0x1),_0x228fab=new D(),_0x431f1c=new D(),_0x221bdc=new D(),_0x5c275b=new J(),_0x5abf19=new J(),_0x90eccd=new J(),_0x439fce=new D(),_0x5a4aeb=new D(),_0x127976=new Float32Array(_0x1cb5f6*(0x36c+0x1788+-0x1af1)),_0xa0e674=new Float32Array(_0x1cb5f6*(-0x594+0x35*-0x9e+-0x1*-0x264d)),_0x4a142e=[];for(let _0x1c53f5=0x61*0x1d+0xb0a+-0x1*0x1607;_0x1c53f5<_0xb4086e;_0x1c53f5++){const _0x29224b=_0x985e28[_0x1c53f5*(0x161*-0xf+-0xb5e+0x2010)],_0x3da332=_0x985e28[_0x1c53f5*(-0x22cc+0xd*0x295+-0x35*-0x6)+(-0xce*0x19+0x193*-0x17+-0x14*-0x2d1)],_0x55a75a=_0x985e28[_0x1c53f5*(0x14e8+0x33*-0x7a+-0x369*-0x1)+(0x24df*-0x1+0xdef*0x1+0x16f2)];_0x228fab['set'](_0x5aeb2b[_0x29224b*(0x22+-0x85f+0x840)],_0x5aeb2b[_0x29224b*(-0x73d*-0x5+-0x165+0x5*-0x6f5)+(0x202*-0x10+-0xc67+0x2c88)],_0x5aeb2b[_0x29224b*(0x4d5*-0x1+0x21e3*-0x1+-0xce9*-0x3)+(-0x1070+-0x156d+-0x569*-0x7)]),_0x431f1c['set'](_0x5aeb2b[_0x3da332*(0x1f29+-0x6ad*-0x1+-0x1a5*0x17)],_0x5aeb2b[_0x3da332*(0x443*-0x7+-0x134b+-0x257*-0x15)+(-0xd5e+0x6a*0x10+0x9d*0xb)],_0x5aeb2b[_0x3da332*(0x226f+0x377*0x3+-0x2cd1)+(0x1*0x107b+0x13e+-0x5*0x38b)]),_0x221bdc['set'](_0x5aeb2b[_0x55a75a*(-0x24e+0x2*-0x3e1+0xa13*0x1)],_0x5aeb2b[_0x55a75a*(0x226*-0x6+0x1d38+0x1051*-0x1)+(-0x17*-0x18a+-0x1c87+0x3*-0x24a)],_0x5aeb2b[_0x55a75a*(0xc2a+-0xb*0x5d+-0x828)+(-0x7*0x4a3+-0x23*-0x43+-0x174e*-0x1)]),_0x5c275b['set'](_0xcb8999[_0x29224b*(-0xa8b*-0x1+-0x9e*0xe+-0x1*0x1e5)],_0xcb8999[_0x29224b*(0xa79*-0x1+-0x293*0x2+0xfa1)+(0x55b*-0x2+-0x1d71*-0x1+-0x12ba)]),_0x5abf19['set'](_0xcb8999[_0x3da332*(0x601+0xb26+-0x7*0x273)],_0xcb8999[_0x3da332*(0x1315+0x12*0xea+-0x2387)+(0x1b78+0x202d*-0x1+0x4b6)]),_0x90eccd['set'](_0xcb8999[_0x55a75a*(0xc67+-0x1c6c+-0xb*-0x175)],_0xcb8999[_0x55a75a*(-0x47c+-0x6*-0x541+0xad*-0x28)+(-0xcc1*0x3+0x1c4f+0x9f5*0x1)]);const _0x54a9b1=_0x431f1c['x']-_0x228fab['x'],_0x5ca278=_0x221bdc['x']-_0x228fab['x'],_0x12f7a3=_0x431f1c['y']-_0x228fab['y'],_0x597838=_0x221bdc['y']-_0x228fab['y'],_0x47667e=_0x431f1c['z']-_0x228fab['z'],_0x3f1ffe=_0x221bdc['z']-_0x228fab['z'],_0x50be2f=_0x5abf19['x']-_0x5c275b['x'],_0x3dde87=_0x90eccd['x']-_0x5c275b['x'],_0x586d8d=_0x5abf19['y']-_0x5c275b['y'],_0x13a22e=_0x90eccd['y']-_0x5c275b['y'],_0x395583=_0x50be2f*_0x13a22e-_0x3dde87*_0x586d8d;if(_0x395583===0x26*0x5+-0x11b*-0x9+-0x187*0x7)_0x439fce['set'](0x641*0x1+0x11*0x20c+-0x5d*0x71,-0x1d8*-0x2+-0x26a2+-0x22f3*-0x1,0x418*0x6+0x1049+-0x28d9*0x1),_0x5a4aeb['set'](0x1874+-0x20f0+0x87d,0x1*0x229d+-0xeea+-0x13b3*0x1,-0x1*-0x20d8+0x7*-0x211+0x3ad*-0x5);else{const _0x1f775e=(-0x1ad3+0x1845+-0x28f*-0x1)/_0x395583;_0x439fce['set']((_0x13a22e*_0x54a9b1-_0x586d8d*_0x5ca278)*_0x1f775e,(_0x13a22e*_0x12f7a3-_0x586d8d*_0x597838)*_0x1f775e,(_0x13a22e*_0x47667e-_0x586d8d*_0x3f1ffe)*_0x1f775e),_0x5a4aeb['set']((_0x50be2f*_0x5ca278-_0x3dde87*_0x54a9b1)*_0x1f775e,(_0x50be2f*_0x597838-_0x3dde87*_0x12f7a3)*_0x1f775e,(_0x50be2f*_0x3f1ffe-_0x3dde87*_0x47667e)*_0x1f775e);}_0x127976[_0x29224b*(0x1708+0xc4f+-0x2354)+(0x266a+-0xd1*-0x17+-0x3931)]+=_0x439fce['x'],_0x127976[_0x29224b*(0x2a5*-0x1+-0x17a5+0x1a4d)+(0x985+-0x11f5*0x2+0x1a66)]+=_0x439fce['y'],_0x127976[_0x29224b*(0xa96+-0x127f+-0x152*-0x6)+(0x677*-0x3+0x235+-0x2*-0x899)]+=_0x439fce['z'],_0x127976[_0x3da332*(-0x2142*0x1+-0x25e7*-0x1+-0x4a2)+(-0x1e0e+0x7*0x13d+0x1563)]+=_0x439fce['x'],_0x127976[_0x3da332*(0x10c1+-0x1b*0x9d+-0x2f)+(0x6a3+-0x1*-0x9bf+-0x1*0x1061)]+=_0x439fce['y'],_0x127976[_0x3da332*(-0x1*0x2369+0x517+0x1*0x1e55)+(0x16d5+-0x1d56+0x683)]+=_0x439fce['z'],_0x127976[_0x55a75a*(-0x692*-0x1+0x42*0x61+0x1f91*-0x1)+(0x1c29+0x1fdf*0x1+-0x3c08)]+=_0x439fce['x'],_0x127976[_0x55a75a*(0x9f*-0x4+0x20b+0x74)+(-0x2325+0x1491+0xe95*0x1)]+=_0x439fce['y'],_0x127976[_0x55a75a*(0x22cc+-0x172+-0x2157)+(0x1771+-0x4c1*0x3+0x24b*-0x4)]+=_0x439fce['z'],_0xa0e674[_0x29224b*(0x1733*0x1+-0x119f*-0x2+-0x6*0x9bd)+(-0x234+0x5*0x3d6+-0x10fa)]+=_0x5a4aeb['x'],_0xa0e674[_0x29224b*(-0xbb*0x7+0x14b3+-0x9*0x1bb)+(-0x218*0x2+-0x940+0xd71)]+=_0x5a4aeb['y'],_0xa0e674[_0x29224b*(-0xbde+-0x1e92+-0x1*-0x2a73)+(0x4*-0x68c+0x1b4d+0x11b*-0x1)]+=_0x5a4aeb['z'],_0xa0e674[_0x3da332*(-0x25d9+0x13cb+0xb9*0x19)+(0x742+0x1a6c+-0x3*0xb3a)]+=_0x5a4aeb['x'],_0xa0e674[_0x3da332*(0x5*0x432+0xd3*-0x6+-0x1005)+(0x26f7+0x1e59+-0x454f)]+=_0x5a4aeb['y'],_0xa0e674[_0x3da332*(-0xf*-0x112+0x25b1+-0x35bc)+(0x1*0x1b91+0x1cc0+-0x384f)]+=_0x5a4aeb['z'],_0xa0e674[_0x55a75a*(0x1628+-0x67f*0x6+0x10d5)+(0x3d1*0x5+0x1*0x1cb5+-0x2fca)]+=_0x5a4aeb['x'],_0xa0e674[_0x55a75a*(0x806*-0x3+-0x2e*-0xd6+-0x1*0xe5f)+(-0x250a+0x93*-0x1d+0x35b2)]+=_0x5a4aeb['y'],_0xa0e674[_0x55a75a*(-0x9e4+-0x622+0x1009*0x1)+(0x15*0x106+0x41*0x41+-0x25fd)]+=_0x5a4aeb['z'];}const _0x340593=new D(),_0x1905e8=new D(),_0x478be1=new D(),_0x38119e=new D();for(let _0x2e510c=-0x12*-0x1af+0x2*0xb80+-0x354e;_0x2e510c<_0x1cb5f6;_0x2e510c++){_0x478be1['set'](_0x2aff0a[_0x2e510c*(-0x888+-0xa46+0x12d1)],_0x2aff0a[_0x2e510c*(0x171b+0xdd2+0x1b*-0x15e)+(-0x1*-0x6be+-0x363+-0x35a)],_0x2aff0a[_0x2e510c*(0x2*-0xbcb+-0x121d+0x1*0x29b6)+(-0x1bdf+0x1aa3+-0x35*-0x6)]),_0x340593['set'](_0x127976[_0x2e510c*(0xad6+-0x1e30+0x1*0x135d)],_0x127976[_0x2e510c*(0x2659+0xee0+-0x1a9b*0x2)+(0x229a*0x1+-0x7*0x29+-0x359*0xa)],_0x127976[_0x2e510c*(-0x5f2*0x2+0xd1*-0x2c+0x2fd3)+(0x2*0x38+-0x7*0x36d+0x1*0x178d)]),_0x1905e8['set'](_0xa0e674[_0x2e510c*(0x1102+-0x2597+0x1498)],_0xa0e674[_0x2e510c*(0x26f+-0xb5*0x10+0x8e4)+(-0x1*-0x523+-0x20*-0x8d+-0xb61*0x2)],_0xa0e674[_0x2e510c*(0x4*0x8ef+0x1*0x491+-0x12*0x23d)+(0x1fa3*0x1+0xc74+-0x2c15)]);const _0x8b072f=_0x478be1['dot'](_0x340593);_0x38119e['copy'](_0x478be1)['mulScalar'](_0x8b072f),_0x38119e['sub2'](_0x340593,_0x38119e)['normalize'](),_0x4a142e[_0x2e510c*(-0xa66+-0x47*-0x53+-0xc9b)]=_0x38119e['x'],_0x4a142e[_0x2e510c*(0x1ec3+0x20e1+-0x3fa*0x10)+(0x1*-0x26b7+0x653*0x4+-0x1*-0xd6c)]=_0x38119e['y'],_0x4a142e[_0x2e510c*(0x5a*0x67+0x1ed3+-0x18f*0x2b)+(-0x15c9+0x6*0xbe+0x17*0xc1)]=_0x38119e['z'],_0x38119e['cross'](_0x478be1,_0x340593),_0x4a142e[_0x2e510c*(-0x25a6*0x1+0x217*-0x11+0x4931)+(0x623*0x3+0xc18*-0x1+-0x64e)]=_0x38119e['dot'](_0x1905e8)<-0x1b17+0x7b4+0x1363?-(-0xe45*-0x1+0xd95+0x1bd9*-0x1):-0x71*-0x2+0x2f2*0x8+0x1*-0x1871;}return _0x4a142e;};class Ta{constructor(){h(this,'positions'),h(this,'normals'),h(this,'colors'),h(this,'uvs'),h(this,'uvs1'),h(this,'blendIndic'+'es'),h(this,'blendWeigh'+'ts'),h(this,'tangents'),h(this,'indices');}['calculateN'+'ormals'](){w['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),w['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['normals']=Iv(this['positions'],this['indices']);}['calculateT'+'angents'](){w['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),w['assert'](this['normals'],'Geometry\x20m'+'ust\x20have\x20n'+'ormals\x20set'),w['assert'](this['uvs'],'Geometry\x20m'+'ust\x20have\x20u'+'vs\x20set'),w['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']);}}const pu=(0x9fe+0x2493+0x2bd*-0x11)/(0x1*0x170b+0x4*0x1fd+-0x1ebf),hg=-0x13d2+-0x249f+-0xaa*-0x55-pu*(0x1db5+0x81+-0x1e34);class mu extends Ta{constructor(_0x321483={}){super();const _0x1b47ca=_0x321483['halfExtent'+'s']??new D(0x12d*-0x2+0x1ebd+-0x1c63+0.5,0x67d+-0x1*0x1ca8+0x162b+0.5,0xc7*0x1e+0x1fb*-0x1+-0x1557+0.5),_0x4b9401=_0x321483['widthSegme'+'nts']??0x199a+-0x1*-0xeed+-0x2886,_0x1da3b2=_0x321483['lengthSegm'+'ents']??0x2*-0x10b4+0x24a*-0xe+0x4175,_0x5a4a84=_0x321483['heightSegm'+'ents']??-0x102c+-0xa1f*-0x1+-0x136*-0x5,_0x50f7a1=_0x321483['yOffset']??0x1158+0xaff+-0x1c57,_0x12bc1c=-_0x1b47ca['y']+_0x50f7a1,_0x2501d9=_0x1b47ca['y']+_0x50f7a1,_0x23fefb=[new D(-_0x1b47ca['x'],_0x12bc1c,_0x1b47ca['z']),new D(_0x1b47ca['x'],_0x12bc1c,_0x1b47ca['z']),new D(_0x1b47ca['x'],_0x2501d9,_0x1b47ca['z']),new D(-_0x1b47ca['x'],_0x2501d9,_0x1b47ca['z']),new D(_0x1b47ca['x'],_0x12bc1c,-_0x1b47ca['z']),new D(-_0x1b47ca['x'],_0x12bc1c,-_0x1b47ca['z']),new D(-_0x1b47ca['x'],_0x2501d9,-_0x1b47ca['z']),new D(_0x1b47ca['x'],_0x2501d9,-_0x1b47ca['z'])],_0x1d449b=[[0x274*0xb+0x167b+-0x3177,-0xd*-0x2ef+-0x1*-0x149c+-0x2*0x1d5f,-0xf69+0x80b+0x761],[0xc82+0xaa4*0x3+-0x2c6a*0x1,0x17d7+-0x20a9*0x1+0x1f*0x49,0x98b*-0x1+0xb5*-0x5+0xd1b],[-0x6d4+0x1dfd+-0x1726,0x1*0xe45+-0x23b3+-0x7*-0x310,0x161c+0x440+-0x1a56],[0x2d7*0x1+-0xfd1+0xcfb,-0x1*-0xa03+-0x1e8a+0x1487,-0x22f7*0x1+0x1740+-0x8f*-0x15],[0x5*0x107+0x46b+-0x98d,0x1d2a+-0x12e3+-0xa43,0x7bb+-0x1d23+0x156a*0x1],[0x3cd*-0x5+-0x43b+0x1741,-0x1794*-0x1+0x1159+-0x28ed,-0x161b+0x22c7+-0x2*0x653]],_0x2d8bb2=[[0xa47+-0xc5*0x20+0xe59,-0xb7d*-0x2+0x9d*-0x4+-0x2*0xa43,0xf7b*0x1+-0x5*0x373+0x1c5],[-0x26c3+0x260c+0xb7,0x8c2+-0x2c*-0xc1+-0x29ee,-(0x26d5*0x1+0xeb7*0x2+0x2*-0x2221)],[0xd*-0x1a3+0x14d5*0x1+-0x13*-0x6,0xc37+-0x1550+-0x91a*-0x1,0x1*0x215+-0x11d6+0xfc1],[0x1942+-0xc05*0x1+0x1*-0xd3d,-(-0x1d46+-0xfd1*-0x1+0xd76*0x1),-0x16f*-0x1+-0x53f*-0x3+-0x112c],[-0x11b2+-0x10d8+0x228b,-0x14f*0xc+0x130e+-0x42*0xd,-0xffb+-0x10ac+0x20a7*0x1],[-(-0x1ca*0x3+-0x10de*0x1+-0x163d*-0x1),-0x94c+-0x1ab0+0x149*0x1c,-0x209e+-0x1990+0x3a2e]],_0x4a7f28={'FRONT':0x0,'BACK':0x1,'TOP':0x2,'BOTTOM':0x3,'RIGHT':0x4,'LEFT':0x5},_0x505160=[],_0x4677fe=[],_0x553a98=[],_0x2ef070=[];let _0x574795=0x108*0x4+-0xd*-0xfa+0x1*-0x10d2;const _0x50d8c7=(_0x2a742c,_0x37ced7,_0x446d9a)=>{const _0x48fbf8=new D(),_0x355da3=new D(),_0x5dd4e2=new D(),_0x355bbf=new D();for(let _0x2f767e=-0xd*-0x153+0x1b8e+0x9d*-0x49;_0x2f767e<=_0x37ced7;_0x2f767e++)for(let _0x3cd5c2=0xb7b+-0x49*0x32+0x2c7;_0x3cd5c2<=_0x446d9a;_0x3cd5c2++){_0x48fbf8['lerp'](_0x23fefb[_0x1d449b[_0x2a742c][-0x181d+0x2*-0xc1f+0x305b]],_0x23fefb[_0x1d449b[_0x2a742c][-0xedb+0x58*-0x10+0x145c*0x1]],_0x2f767e/_0x37ced7),_0x355da3['lerp'](_0x23fefb[_0x1d449b[_0x2a742c][-0x27*0x81+0x1737+-0x390]],_0x23fefb[_0x1d449b[_0x2a742c][-0x1ef+0x3*-0x5d5+0x1370]],_0x3cd5c2/_0x446d9a),_0x5dd4e2['sub2'](_0x355da3,_0x23fefb[_0x1d449b[_0x2a742c][-0xdd1+0x3b*-0x7+0xf6e]]),_0x355bbf['add2'](_0x48fbf8,_0x5dd4e2);let _0x128120=_0x2f767e/_0x37ced7,_0x4b6c4f=_0x3cd5c2/_0x446d9a;_0x505160['push'](_0x355bbf['x'],_0x355bbf['y'],_0x355bbf['z']),_0x4677fe['push'](_0x2d8bb2[_0x2a742c][0x193f+-0x1*0x1e88+0x549],_0x2d8bb2[_0x2a742c][0xf*-0x221+-0xa*0x21a+0x34f4],_0x2d8bb2[_0x2a742c][-0x259c+0xb*-0xb5+0x2d65]),_0x553a98['push'](_0x128120,-0x1*0x49e+-0x2*0x264+0x967*0x1-_0x4b6c4f),_0x128120=_0x128120*hg+pu,_0x4b6c4f=_0x4b6c4f*hg+pu,_0x128120/=0xbe6+0x26ae*0x1+-0x3291,_0x4b6c4f/=0x20e9+0x1f98+-0x407e,_0x128120+=_0x2a742c%(0x647*-0x5+0xfee*-0x2+0x3f42)/(-0x19b2+0x162b+0x38a),_0x4b6c4f+=Math['floor'](_0x2a742c/(-0x22*0x10d+-0x1*0xd7d+0x2*0x189d))/(0x4*-0x143+-0x5*-0x54b+0x224*-0xa),_0x2f767e<_0x37ced7&&_0x3cd5c2<_0x446d9a&&(_0x2ef070['push'](_0x574795+_0x446d9a+(0x1101+0x2*-0xe92+0x3*0x40c),_0x574795+(-0xf45+-0x833+0x1779),_0x574795),_0x2ef070['push'](_0x574795+_0x446d9a+(-0x22d*-0x11+-0x148a*0x1+-0x1072),_0x574795+_0x446d9a+(0x3*-0x168+0x24c+0x2*0xf7),_0x574795+(-0x2fd+-0x710*0x4+0x1f3e))),_0x574795++;}};_0x50d8c7(_0x4a7f28['FRONT'],_0x4b9401,_0x5a4a84),_0x50d8c7(_0x4a7f28['BACK'],_0x4b9401,_0x5a4a84),_0x50d8c7(_0x4a7f28['TOP'],_0x4b9401,_0x1da3b2),_0x50d8c7(_0x4a7f28['BOTTOM'],_0x4b9401,_0x1da3b2),_0x50d8c7(_0x4a7f28['RIGHT'],_0x1da3b2,_0x5a4a84),_0x50d8c7(_0x4a7f28['LEFT'],_0x1da3b2,_0x5a4a84),this['positions']=_0x505160,this['normals']=_0x4677fe,this['uvs']=_0x553a98,this['uvs1']=_0x553a98,this['indices']=_0x2ef070,_0x321483['calculateT'+'angents']&&(this['tangents']=Mr(_0x505160,_0x4677fe,_0x553a98,_0x2ef070));}}class _m extends Ta{constructor(_0x3ff99a={}){super();const _0xdf5c71=_0x3ff99a['radius']??0x3a9*-0x9+0x1*-0x224f+0x4340+0.5,_0x18839a=_0x3ff99a['latitudeBa'+'nds']??-0x159c*0x1+0x7*-0x4e8+0x3804,_0x17e33a=_0x3ff99a['longitudeB'+'ands']??-0x15d*-0x16+-0x3*-0xc1c+0x42*-0x101,_0x19e019=[],_0x1342b2=[],_0x51927c=[],_0x457128=[];for(let _0x5ce5b9=-0x43+-0x1536+0x1579;_0x5ce5b9<=_0x18839a;_0x5ce5b9++){const _0x53f993=_0x5ce5b9*Math['PI']/_0x18839a,_0x235a92=Math['sin'](_0x53f993),_0x4253b6=Math['cos'](_0x53f993);for(let _0x4f8267=0x1*0x241a+-0x124d*0x1+0xd9*-0x15;_0x4f8267<=_0x17e33a;_0x4f8267++){const _0x59d4da=_0x4f8267*(0x228f+-0x211e+0x1*-0x16f)*Math['PI']/_0x17e33a-Math['PI']/(0x10ff+-0x16d*-0xf+-0x20*0x133),_0xaf64da=Math['sin'](_0x59d4da),_0x35c7ee=Math['cos'](_0x59d4da)*_0x235a92,_0x2b7821=_0x4253b6,_0x176650=_0xaf64da*_0x235a92,_0x3761bf=-0x22fc+-0x1de6*-0x1+0x517-_0x4f8267/_0x17e33a,_0x1335d1=0x1657+-0x21f*-0xe+-0x3408-_0x5ce5b9/_0x18839a;_0x19e019['push'](_0x35c7ee*_0xdf5c71,_0x2b7821*_0xdf5c71,_0x176650*_0xdf5c71),_0x1342b2['push'](_0x35c7ee,_0x2b7821,_0x176650),_0x51927c['push'](_0x3761bf,-0x2677+0xee9+0x178f*0x1-_0x1335d1);}}for(let _0x13ab1a=0x11d5+0xf5d+-0x2132;_0x13ab1a<_0x18839a;++_0x13ab1a)for(let _0x3cb86b=0x17*-0x135+-0x2405+0x3fc8;_0x3cb86b<_0x17e33a;++_0x3cb86b){const _0x1a5255=_0x13ab1a*(_0x17e33a+(0x1*-0x25a+-0x1*-0x1468+-0x120d))+_0x3cb86b,_0x35c0b8=_0x1a5255+_0x17e33a+(-0x17fe+-0x177d+-0xc*-0x3f5);_0x457128['push'](_0x1a5255+(0x10d2*-0x1+0x25*0xd6+0x17*-0x9d),_0x35c0b8,_0x1a5255),_0x457128['push'](_0x1a5255+(-0x1*-0x5b9+0x4*-0x897+0xbc*0x27),_0x35c0b8+(-0x207f*-0x1+-0x1*-0x1049+0x1*-0x30c7),_0x35c0b8);}this['positions']=_0x19e019,this['normals']=_0x1342b2,this['uvs']=_0x51927c,this['uvs1']=_0x51927c,this['indices']=_0x457128,_0x3ff99a['calculateT'+'angents']&&(this['tangents']=Mr(_0x19e019,_0x1342b2,_0x51927c,_0x457128));}}class DA extends _m{constructor(_0x4ae022={}){const _0x3971b8=_0x4ae022['latitudeBa'+'nds']??0x84e*0x2+-0x18e2+0x1*0x856,_0x535251=_0x4ae022['longitudeB'+'ands']??0x1db5+0xff6+-0x2d9b;super({'radius':0.5,'latitudeBands':_0x3971b8,'longitudeBands':_0x535251});const _0xa7e445=-0x27*0xc+0x10ff*0x1+-0xf2b+0.1,_0x186ac0=-0x2689*0x1+-0x3*0x5b3+0x37a2+0.95,_0x29615c=_0x186ac0*_0x186ac0,_0x1ad7fe=this['positions'];for(let _0x4870df=-0x2123+-0x1043+-0x3166*-0x1;_0x4870df<_0x1ad7fe['length'];_0x4870df+=-0x187e+-0x1*0x12b9+0x2b3a){const _0x110030=_0x1ad7fe[_0x4870df]/(0x1a*0x43+0x1b64+-0x2232+0.5);let _0x4f68cf=_0x1ad7fe[_0x4870df+(-0xf57+0x22ba+0x2*-0x9b1)]/(-0x2f9*0xd+-0x1a27+0x40cc+0.5);const _0xab4ab3=_0x1ad7fe[_0x4870df+(0x686*0x5+-0xa7b*0x2+-0x1aa*0x7)]/(-0x2155+0x1cf4+-0x13*-0x3b+0.5);_0x4f68cf<-0xb9*0xb+0x1610+0x1*-0xe1d&&(_0x4f68cf*=-0x14*-0x9b+-0x129e+0x682+0.3,_0x110030*_0x110030+_0xab4ab3*_0xab4ab3<_0x29615c&&(_0x4f68cf=-_0xa7e445)),_0x4f68cf+=_0xa7e445,_0x4f68cf*=-0x5c0+-0x4ca*0x8+0x2c10+0.5,_0x1ad7fe[_0x4870df+(0x840+-0x47*-0x8a+-0x2e85)]=_0x4f68cf;}}}class zo{static['create'](_0x2371cb,_0x4a5a83){switch(_0x4a5a83){case Qw:return zo['box'](_0x2371cb);case Jw:return zo['dome'](_0x2371cb);}return w['assert'](_0x4a5a83===Bo,'Unsupporte'+'d\x20sky\x20geom'+'etry\x20type\x20'+_0x4a5a83),zo['infinite'](_0x2371cb);}static['infinite'](_0x1e3452){return Ge['fromGeomet'+'ry'](_0x1e3452,new mu(_0x1e3452));}static['box'](_0x49debc){return Ge['fromGeomet'+'ry'](_0x49debc,new mu({'yOffset':0.5}));}static['dome'](_0x3a16e7){const _0x4af0b9=new DA({'latitudeBands':0x32,'longitudeBands':0x32});return _0x4af0b9['normals']=void(-0x1ef5+0x137*-0x2+0x2163),_0x4af0b9['uvs']=void(0x1003+-0x479+0xe*-0xd3),Ge['fromGeomet'+'ry'](_0x3a16e7,_0x4af0b9);}}class IA{constructor(_0x17b2ce,_0x4875eb,_0x4a43ed,_0x7f422b,_0x8b598f){h(this,'meshInstan'+'ce',null),h(this,'_depthWrit'+'e',!(0x5cd+-0x113f+0xb73));const _0x3372c7=new Xn({'uniqueName':'SkyMateria'+'l','vertexGLSL':Pe['get'](_0x17b2ce,Fe)['get']('skyboxVS'),'fragmentGLSL':Pe['get'](_0x17b2ce,Fe)['get']('skyboxPS'),'vertexWGSL':Pe['get'](_0x17b2ce,it)['get']('skyboxVS'),'fragmentWGSL':Pe['get'](_0x17b2ce,it)['get']('skyboxPS'),'attributes':{'aPosition':Me}});_0x3372c7['setDefine']('{SKYBOX_DE'+'CODE_FNC}',Tr['decodeFunc'](_0x7f422b['encoding'])),_0x8b598f!==Bo&&_0x3372c7['setDefine']('SKYMESH',''),_0x7f422b['cubemap']&&_0x3372c7['setDefine']('SKY_CUBEMA'+'P',''),_0x3372c7['setParamet'+'er']('skyboxHigh'+'lightMulti'+'plier',_0x4875eb['skyboxHigh'+'lightMulti'+'plier']),_0x7f422b['cubemap']?_0x3372c7['setParamet'+'er']('texture_cu'+'beMap',_0x7f422b):(_0x3372c7['setParamet'+'er']('texture_en'+'vAtlas',_0x7f422b),_0x3372c7['setParamet'+'er']('mipLevel',_0x4875eb['skyboxMip'])),_0x3372c7['cull']=Fo,_0x3372c7['depthWrite']=this['_depthWrit'+'e'];const _0x169b7b=_0x4875eb['layers']['getLayerBy'+'Id'](Kp);if(_0x169b7b){const _0x6ec547=zo['create'](_0x17b2ce,_0x8b598f),_0x2fe936=new He(_0x6ec547,_0x3372c7,_0x4a43ed);this['meshInstan'+'ce']=_0x2fe936,_0x2fe936['cull']=!(-0x1444+0x376+0x10cf),_0x2fe936['pick']=!(-0x8ef+-0xb9f*0x1+-0x115*-0x13),_0x169b7b['addMeshIns'+'tances']([_0x2fe936]),this['skyLayer']=_0x169b7b;}}['destroy'](){this['meshInstan'+'ce']&&(this['skyLayer']&&this['skyLayer']['removeMesh'+'Instances']([this['meshInstan'+'ce']]),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}set['depthWrite'](_0x350508){this['_depthWrit'+'e']=_0x350508,this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']['depthWrite']=_0x350508);}get['depthWrite'](){return this['_depthWrit'+'e'];}}class LA{constructor(_0x46290d){h(this,'_type',Bo),h(this,'_center',new D(0x18a1+-0xb1d+0x6c2*-0x2,-0x3*-0xa91+0x1*-0x1269+0x13*-0xb3,0x69d*0x4+-0x18f*0x10+-0x184)),h(this,'skyMesh',null),h(this,'_depthWrit'+'e',!(0x2*-0x1271+-0x1237+0x371a)),h(this,'node',new Ie('SkyMeshNod'+'e')),(this['device']=_0x46290d['device'],this['scene']=_0x46290d,this['center']=new D(-0x263e+-0x2*-0x955+0x1394,0xc1c+-0x22c9+0xb57*0x2,-0x12d4+-0xff8+0x22cc),this['centerArra'+'y']=new Float32Array(0x105*0x26+-0x59f*0x2+0x1b7d*-0x1),this['projectedS'+'kydomeCent'+'erId']=this['device']['scope']['resolve']('projectedS'+'kydomeCent'+'er'));}['applySetti'+'ngs'](_0x40eb6b){this['type']=_0x40eb6b['skyType']??Bo,this['node']['setLocalPo'+'sition'](new D(_0x40eb6b['skyMeshPos'+'ition']??[0x77+0x41*0x3+-0x13a,-0x34*-0xd+-0x2d5+0x31,0x2fb+-0x25d8+0xaf*0x33])),this['node']['setLocalEu'+'lerAngles'](new D(_0x40eb6b['skyMeshRot'+'ation']??[0x1*-0x2629+0x1*-0x1b7+0x10*0x27e,-0x2122*0x1+0x1343*-0x1+0x3465,-0x1*0x89b+0x1ac+0x6ef])),this['node']['setLocalSc'+'ale'](new D(_0x40eb6b['skyMeshSca'+'le']??[0x923+-0x7b2+0x8*-0x2e,0x1049*0x1+0x2*0x10c9+-0x31da,0x13a6+-0xb09+-0x13*0x74])),_0x40eb6b['skyCenter']&&(this['_center']=new D(_0x40eb6b['skyCenter']));}set['type'](_0x426451){this['_type']!==_0x426451&&(this['_type']=_0x426451,this['scene']['updateShad'+'ers']=!(-0x27*-0x7d+0x1*0x2195+0x34a0*-0x1),this['updateSkyM'+'esh']());}get['type'](){return this['_type'];}set['center'](_0x9f12b7){this['_center']['copy'](_0x9f12b7);}get['center'](){return this['_center'];}set['depthWrite'](_0x22db7e){this['_depthWrit'+'e']!==_0x22db7e&&(this['_depthWrit'+'e']=_0x22db7e,this['skyMesh']&&(this['skyMesh']['depthWrite']=_0x22db7e));}get['depthWrite'](){return this['_depthWrit'+'e'];}['updateSkyM'+'esh'](){const _0x50b5da=this['scene']['_getSkybox'+'Tex']();_0x50b5da&&(this['resetSkyMe'+'sh'](),this['skyMesh']=new IA(this['device'],this['scene'],this['node'],_0x50b5da,this['type']),this['skyMesh']['depthWrite']=this['_depthWrit'+'e'],this['scene']['fire']('set:skybox',_0x50b5da));}['resetSkyMe'+'sh'](){var _0x55a5f5;(_0x55a5f5=this['skyMesh'])==null||_0x55a5f5['destroy'](),this['skyMesh']=null;}['update'](){if(this['type']!==Bo){const {center:_0x369ef,centerArray:_0x1da8ec}=this,_0x2db5d1=new D();this['node']['getWorldTr'+'ansform']()['transformP'+'oint'](_0x369ef,_0x2db5d1),_0x1da8ec[-0x1c12+-0x129*0x1b+0x3b65*0x1]=_0x2db5d1['x'],_0x1da8ec[-0x23df+-0x1*0x1891+0x3c71*0x1]=_0x2db5d1['y'],_0x1da8ec[-0x1*0x267+-0x1*-0xc56+0x7*-0x16b]=_0x2db5d1['z'],this['projectedS'+'kydomeCent'+'erId']['setValue'](_0x1da8ec);}}}const Ch=new Ie();Ch['worldTrans'+'form']=te['IDENTITY'],Ch['_dirtyWorl'+'d']=Ch['_dirtyNorm'+'al']=!(-0x1*0x5cb+0x169*-0x9+0x1*0x127d);class RA{constructor(_0x233a04,_0x2c4677,_0x44c7d6){this['material']=_0x2c4677,this['layer']=_0x44c7d6,this['positions']=[],this['colors']=[],this['mesh']=new Ge(_0x233a04),this['meshInstan'+'ce']=null;}['addLines'](_0x51d91e,_0x2574ae){const _0x101776=this['positions'],_0x1b3deb=_0x51d91e['length'];for(let _0x181da0=0xc75*-0x2+0x2*-0xe87+-0x2*-0x1afc;_0x181da0<_0x1b3deb;_0x181da0++){const _0x15139b=_0x51d91e[_0x181da0];_0x101776['push'](_0x15139b['x'],_0x15139b['y'],_0x15139b['z']);}const _0x825eed=this['colors'];if(_0x2574ae['length'])for(let _0x1e6cb6=0x59*0x6b+-0x1dff+0x39a*-0x2;_0x1e6cb6<_0x1b3deb;_0x1e6cb6++){const _0x3f6804=_0x2574ae[_0x1e6cb6];_0x825eed['push'](_0x3f6804['r'],_0x3f6804['g'],_0x3f6804['b'],_0x3f6804['a']);}else{for(let _0x43ba51=-0x8bf+0x1*-0x9b7+0x1276;_0x43ba51<_0x1b3deb;_0x43ba51++)_0x825eed['push'](_0x2574ae['r'],_0x2574ae['g'],_0x2574ae['b'],_0x2574ae['a']);}}['addLinesAr'+'rays'](_0x374906,_0x77b8ff){const _0xeaf3af=this['positions'];for(let _0x4e9c13=-0x2621*0x1+-0x2449+0xfe*0x4b;_0x4e9c13<_0x374906['length'];_0x4e9c13+=0x3*0x55b+-0x15ef+0x5e1)_0xeaf3af['push'](_0x374906[_0x4e9c13],_0x374906[_0x4e9c13+(0x1*0x1625+0xc9*-0x16+-0xb2*0x7)],_0x374906[_0x4e9c13+(0xca5+0x43*-0x5+-0xb54)]);const _0x493625=this['colors'];if(_0x77b8ff['length']){for(let _0x51406d=-0x847+-0x6*0x425+0x2125;_0x51406d<_0x77b8ff['length'];_0x51406d+=0x1972+-0x62+-0x1c*0xe5)_0x493625['push'](_0x77b8ff[_0x51406d],_0x77b8ff[_0x51406d+(-0x2343+-0x18ba+0xe*0x449)],_0x77b8ff[_0x51406d+(0x59c+-0x1abf*0x1+-0x1525*-0x1)],_0x77b8ff[_0x51406d+(-0x19*0x8f+-0xf23+0x1d1d)]);}else{const _0x40ece9=_0x374906['length']/(-0x259b+-0x25*0xce+-0x13*-0x38c);for(let _0x588e8e=-0x24f9+-0x42*-0x21+0x1*0x1c77;_0x588e8e<_0x40ece9;_0x588e8e++)_0x493625['push'](_0x77b8ff['r'],_0x77b8ff['g'],_0x77b8ff['b'],_0x77b8ff['a']);}}['onPreRende'+'r'](_0x1cfc56,_0x4f1b9c){this['positions']['length']>0x1741+-0x81c+0x1*-0xf25&&this['material']['transparen'+'t']===_0x4f1b9c&&(this['mesh']['setPositio'+'ns'](this['positions']),this['mesh']['setColors'](this['colors']),this['mesh']['update'](hd,!(0x1613+0x23d7*-0x1+0x19*0x8d)),this['meshInstan'+'ce']||(this['meshInstan'+'ce']=new He(this['mesh'],this['material'],Ch)),_0x1cfc56['push'](this['meshInstan'+'ce']));}['clear'](){this['positions']['length']=-0xc73+-0x2*0x9f7+-0x1b*-0x133,this['colors']['length']=-0x42*-0x51+0x3*-0x8a1+-0x1ab*-0x3;}}class OA{constructor(_0x573f0c){this['device']=_0x573f0c,this['map']=new Map();}['getBatch'](_0x5de461,_0x44a5b5){let _0x4269f3=this['map']['get'](_0x5de461);return _0x4269f3||(_0x4269f3=new RA(this['device'],_0x5de461,_0x44a5b5),this['map']['set'](_0x5de461,_0x4269f3)),_0x4269f3;}['onPreRende'+'r'](_0x25c19f,_0x161c05){this['map']['forEach'](_0x41dfb8=>{_0x41dfb8['onPreRende'+'r'](_0x25c19f,_0x161c05);});}['clear'](){this['map']['forEach'](_0x524942=>_0x524942['clear']());}}const Ts=[],Ba=new D();class FA{constructor(_0x155e77){h(this,'shaderDesc'+'s',new Map()),(this['device']=_0x155e77,this['quadMesh']=null,this['textureSha'+'der']=null,this['depthTextu'+'reShader']=null,this['cubeLocalP'+'os']=null,this['cubeWorldP'+'os']=null,this['batchesMap']=new Map(),this['allBatches']=new Set(),this['updatedLay'+'ers']=new Set(),this['_materialD'+'epth']=null,this['_materialN'+'oDepth']=null,this['layerMeshI'+'nstances']=new Map());}['createMate'+'rial'](_0x1d6e0e){const _0xca72ff=new Xn({'uniqueName':'ImmediateL'+'ine','vertexGLSL':Pe['get'](this['device'],Fe)['get']('immediateL'+'ineVS'),'fragmentGLSL':Pe['get'](this['device'],Fe)['get']('immediateL'+'inePS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('immediateL'+'ineVS'),'fragmentWGSL':Pe['get'](this['device'],it)['get']('immediateL'+'inePS'),'attributes':{'vertex_position':Me,'vertex_color':Wt}});return _0xca72ff['blendType']=Zs,_0xca72ff['depthTest']=_0x1d6e0e,_0xca72ff['update'](),_0xca72ff;}get['materialDe'+'pth'](){return this['_materialD'+'epth']||(this['_materialD'+'epth']=this['createMate'+'rial'](!(-0xab7*-0x1+-0x125a+0x7a3))),this['_materialD'+'epth'];}get['materialNo'+'Depth'](){return this['_materialN'+'oDepth']||(this['_materialN'+'oDepth']=this['createMate'+'rial'](!(-0x115*-0x5+-0x77*-0x43+-0x1*0x248d))),this['_materialN'+'oDepth'];}['getBatch'](_0x55d01f,_0x47c1b6){let _0x38853e=this['batchesMap']['get'](_0x55d01f);_0x38853e||(_0x38853e=new OA(this['device']),this['batchesMap']['set'](_0x55d01f,_0x38853e)),this['allBatches']['add'](_0x38853e);const _0x33fe98=_0x47c1b6?this['materialDe'+'pth']:this['materialNo'+'Depth'];return _0x38853e['getBatch'](_0x33fe98,_0x55d01f);}['getShaderD'+'esc'](_0x3e24b4,_0x54383a,_0x541d02){return this['shaderDesc'+'s']['has'](_0x3e24b4)||this['shaderDesc'+'s']['set'](_0x3e24b4,{'uniqueName':'DebugShade'+'r:'+_0x3e24b4,'vertexGLSL':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20attribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20mat4\x20matr'+'ix_model;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ve'+'c2\x20uv0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(vertex'+'_position,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uv0\x20=\x20ve'+'rtex_posit'+'ion.xy\x20+\x200'+'.5;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20','vertexWGSL':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20attribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'model:\x20mat'+'4x4f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec2f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20@ver'+'tex\x20fn\x20ver'+'texMain(in'+'put:\x20Verte'+'xInput)\x20->'+'\x20VertexOut'+'put\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20un'+'iform.matr'+'ix_model\x20*'+'\x20vec4f(inp'+'ut.vertex_'+'position,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.uv0\x20=\x20in'+'put.vertex'+'_position.'+'xy\x20+\x20vec2f'+'(0.5);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20','fragmentGLSL':_0x54383a,'fragmentWGSL':_0x541d02,'attributes':{'vertex_position':Me}}),this['shaderDesc'+'s']['get'](_0x3e24b4);}['getTexture'+'ShaderDesc'](_0x3a7ca0){const _0x44290c=Tr['decodeFunc'](_0x3a7ca0);return this['getShaderD'+'esc']('textureSha'+'der-'+_0x3a7ca0,'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20colorMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20linear'+'Color\x20=\x20'+_0x44290c+('(texture2D'+'(colorMap,'+'\x20uv0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(linearC'+'olor),\x201);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20uv0:\x20vec'+'2f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'colorMap:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20colorMa'+'pSampler:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20@fragment'+'\x20fn\x20fragme'+'ntMain(inp'+'ut\x20:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'output:\x20Fr'+'agmentOutp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20sample'+'dTex\x20=\x20tex'+'tureSample'+'(colorMap,'+'\x20colorMapS'+'ampler,\x20in'+'put.uv0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'linearColo'+'r:\x20vec3f\x20='+'\x20'+_0x44290c+('(sampledTe'+'x);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20vec4f'+'(gammaCorr'+'ectOutput('+'linearColo'+'r),\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'));}['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](){return this['getShaderD'+'esc']('textureSha'+'derUnfilte'+'rable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vec2\x20uv0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20col'+'orMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'uv\x20=\x20ivec2'+'(uv0\x20*\x20tex'+'tureSize(c'+'olorMap,\x200'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'texelFetch'+'(colorMap,'+'\x20uv,\x200).xy'+'z,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20uv0:\x20vec'+'2f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'colorMap:\x20'+'texture_2d'+'<uff>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20@'+'fragment\x20f'+'n\x20fragment'+'Main(input'+'\x20:\x20Fragmen'+'tInput)\x20->'+'\x20FragmentO'+'utput\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20uv\x20:\x20vec'+'2<i32>\x20=\x20v'+'ec2<i32>(i'+'nput.uv0\x20*'+'\x20vec2f(tex'+'tureDimens'+'ions(color'+'Map,\x200)));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20fetchedCo'+'lor\x20:\x20vec4'+'f\x20=\x20textur'+'eLoad(colo'+'rMap,\x20uv,\x20'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20vec4f'+'(fetchedCo'+'lor.xyz,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20');}['getDepthTe'+'xtureShade'+'rDesc'](){return this['getShaderD'+'esc']('depthTextu'+'reShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'gammaPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20void\x20main'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x20getLi'+'nearScreen'+'Depth(getI'+'mageEffect'+'UV(uv0))\x20*'+'\x20camera_pa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(vec3(de'+'pth)),\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'gammaPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20u'+'v0:\x20vec2f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20@fragme'+'nt\x20fn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20depth'+':\x20f32\x20=\x20ge'+'tLinearScr'+'eenDepth(g'+'etImageEff'+'ectUV(inpu'+'t.uv0))\x20*\x20'+'uniform.ca'+'mera_param'+'s.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(gammaCor'+'rectOutput'+'(vec3f(dep'+'th)),\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}['getQuadMes'+'h'](){return this['quadMesh']||(this['quadMesh']=new Ge(this['device']),this['quadMesh']['setPositio'+'ns']([-(-0x1d77+0x1385+0x9f2+0.5),-(0x4b6+0x14c+-0x301*0x2+0.5),-0x1*0x2203+0x1b0a*0x1+0x6f9,0x425*0x8+-0x1dcb+0x7b*-0x7+0.5,-(0x1*0x21a1+-0x4*0x7b5+-0x2cd+0.5),-0xcad+-0x300*-0xb+-0x79*0x2b,-(-0xb4a*-0x1+0x2293+0x2ddd*-0x1+0.5),0x1*-0x1b9b+-0x1891+0x342c+0.5,0x14c*-0x6+0x1*0x1d7d+-0x15b5,0x147*-0x1+-0x1*0x207+0x34e+0.5,-0x119b+-0x1039*-0x2+-0xed7+0.5,-0x31d+0x6b*0x57+-0x2140]),this['quadMesh']['update'](Er)),this['quadMesh'];}['drawMesh'](_0x46832c,_0x15f493,_0x95d87,_0xa126e3,_0x403029){if(!_0xa126e3){const _0x210ffd=this['getGraphNo'+'de'](_0x15f493);_0xa126e3=new He(_0x95d87,_0x46832c,_0x210ffd);}let _0x52617f=this['layerMeshI'+'nstances']['get'](_0x403029);_0x52617f||(_0x52617f=[],this['layerMeshI'+'nstances']['set'](_0x403029,_0x52617f)),_0x52617f['push'](_0xa126e3);}['drawWireAl'+'ignedBox'](_0x190042,_0x12892c,_0x332923,_0x1720cb,_0x4abe16,_0x1aa9a9){if(_0x1aa9a9){const _0x1f2bd3=(_0x3a6a53,_0x234f35,_0x318429)=>{Ba['set'](_0x3a6a53,_0x234f35,_0x318429),_0x1aa9a9['transformP'+'oint'](Ba,Ba),Ts['push'](Ba['x'],Ba['y'],Ba['z']);};_0x1f2bd3(_0x190042['x'],_0x190042['y'],_0x190042['z']),_0x1f2bd3(_0x190042['x'],_0x12892c['y'],_0x190042['z']),_0x1f2bd3(_0x190042['x'],_0x12892c['y'],_0x190042['z']),_0x1f2bd3(_0x12892c['x'],_0x12892c['y'],_0x190042['z']),_0x1f2bd3(_0x12892c['x'],_0x12892c['y'],_0x190042['z']),_0x1f2bd3(_0x12892c['x'],_0x190042['y'],_0x190042['z']),_0x1f2bd3(_0x12892c['x'],_0x190042['y'],_0x190042['z']),_0x1f2bd3(_0x190042['x'],_0x190042['y'],_0x190042['z']),_0x1f2bd3(_0x190042['x'],_0x190042['y'],_0x12892c['z']),_0x1f2bd3(_0x190042['x'],_0x12892c['y'],_0x12892c['z']),_0x1f2bd3(_0x190042['x'],_0x12892c['y'],_0x12892c['z']),_0x1f2bd3(_0x12892c['x'],_0x12892c['y'],_0x12892c['z']),_0x1f2bd3(_0x12892c['x'],_0x12892c['y'],_0x12892c['z']),_0x1f2bd3(_0x12892c['x'],_0x190042['y'],_0x12892c['z']),_0x1f2bd3(_0x12892c['x'],_0x190042['y'],_0x12892c['z']),_0x1f2bd3(_0x190042['x'],_0x190042['y'],_0x12892c['z']),_0x1f2bd3(_0x190042['x'],_0x190042['y'],_0x190042['z']),_0x1f2bd3(_0x190042['x'],_0x190042['y'],_0x12892c['z']),_0x1f2bd3(_0x190042['x'],_0x12892c['y'],_0x190042['z']),_0x1f2bd3(_0x190042['x'],_0x12892c['y'],_0x12892c['z']),_0x1f2bd3(_0x12892c['x'],_0x12892c['y'],_0x190042['z']),_0x1f2bd3(_0x12892c['x'],_0x12892c['y'],_0x12892c['z']),_0x1f2bd3(_0x12892c['x'],_0x190042['y'],_0x190042['z']),_0x1f2bd3(_0x12892c['x'],_0x190042['y'],_0x12892c['z']);}else Ts['push'](_0x190042['x'],_0x190042['y'],_0x190042['z'],_0x190042['x'],_0x12892c['y'],_0x190042['z'],_0x190042['x'],_0x12892c['y'],_0x190042['z'],_0x12892c['x'],_0x12892c['y'],_0x190042['z'],_0x12892c['x'],_0x12892c['y'],_0x190042['z'],_0x12892c['x'],_0x190042['y'],_0x190042['z'],_0x12892c['x'],_0x190042['y'],_0x190042['z'],_0x190042['x'],_0x190042['y'],_0x190042['z'],_0x190042['x'],_0x190042['y'],_0x12892c['z'],_0x190042['x'],_0x12892c['y'],_0x12892c['z'],_0x190042['x'],_0x12892c['y'],_0x12892c['z'],_0x12892c['x'],_0x12892c['y'],_0x12892c['z'],_0x12892c['x'],_0x12892c['y'],_0x12892c['z'],_0x12892c['x'],_0x190042['y'],_0x12892c['z'],_0x12892c['x'],_0x190042['y'],_0x12892c['z'],_0x190042['x'],_0x190042['y'],_0x12892c['z'],_0x190042['x'],_0x190042['y'],_0x190042['z'],_0x190042['x'],_0x190042['y'],_0x12892c['z'],_0x190042['x'],_0x12892c['y'],_0x190042['z'],_0x190042['x'],_0x12892c['y'],_0x12892c['z'],_0x12892c['x'],_0x12892c['y'],_0x190042['z'],_0x12892c['x'],_0x12892c['y'],_0x12892c['z'],_0x12892c['x'],_0x190042['y'],_0x190042['z'],_0x12892c['x'],_0x190042['y'],_0x12892c['z']);this['getBatch'](_0x4abe16,_0x1720cb)['addLinesAr'+'rays'](Ts,_0x332923),Ts['length']=-0x1b7*-0x1+0xfac+-0x1163;}['drawWireSp'+'here'](_0x31ea42,_0x473b4c,_0x388e39,_0x376d66,_0x1afc7b,_0x3999bd){const _0x48d3dd=(-0x1c*0x93+0x1*-0x23f9+0x1*0x340f)*Math['PI']/_0x376d66;let _0x40d10a=0xfaf+-0x687*-0x2+-0x7*0x41b;for(let _0x12f9da=-0x5b7+-0x2e4*-0xd+-0x1fdd;_0x12f9da<_0x376d66;_0x12f9da++){const _0x4ff43a=Math['sin'](_0x40d10a),_0x26269e=Math['cos'](_0x40d10a);_0x40d10a+=_0x48d3dd;const _0x3c0b13=Math['sin'](_0x40d10a),_0x4d41c4=Math['cos'](_0x40d10a);Ts['push'](_0x31ea42['x']+_0x473b4c*_0x4ff43a,_0x31ea42['y'],_0x31ea42['z']+_0x473b4c*_0x26269e),Ts['push'](_0x31ea42['x']+_0x473b4c*_0x3c0b13,_0x31ea42['y'],_0x31ea42['z']+_0x473b4c*_0x4d41c4),Ts['push'](_0x31ea42['x']+_0x473b4c*_0x4ff43a,_0x31ea42['y']+_0x473b4c*_0x26269e,_0x31ea42['z']),Ts['push'](_0x31ea42['x']+_0x473b4c*_0x3c0b13,_0x31ea42['y']+_0x473b4c*_0x4d41c4,_0x31ea42['z']),Ts['push'](_0x31ea42['x'],_0x31ea42['y']+_0x473b4c*_0x4ff43a,_0x31ea42['z']+_0x473b4c*_0x26269e),Ts['push'](_0x31ea42['x'],_0x31ea42['y']+_0x473b4c*_0x3c0b13,_0x31ea42['z']+_0x473b4c*_0x4d41c4);}this['getBatch'](_0x3999bd,_0x1afc7b)['addLinesAr'+'rays'](Ts,_0x388e39),Ts['length']=0x1043+-0xddc*-0x1+-0x1e1f*0x1;}['getGraphNo'+'de'](_0x183d8a){const _0x3a7b07=new Ie('ImmediateD'+'ebug');return _0x3a7b07['worldTrans'+'form']=_0x183d8a,_0x3a7b07['_dirtyWorl'+'d']=_0x3a7b07['_dirtyNorm'+'al']=!(0x1ff2+-0x1*-0x1791+-0x3782),_0x3a7b07;}['onPreRende'+'rLayer'](_0x90c1c8,_0x2c1a39,_0x1dd2f4){if(this['batchesMap']['forEach']((_0x492dc9,_0x23728a)=>{_0x23728a===_0x90c1c8&&_0x492dc9['onPreRende'+'r'](_0x2c1a39,_0x1dd2f4);}),!this['updatedLay'+'ers']['has'](_0x90c1c8)){this['updatedLay'+'ers']['add'](_0x90c1c8);const _0x4adcfb=this['layerMeshI'+'nstances']['get'](_0x90c1c8);if(_0x4adcfb){for(let _0x2fc6ab=-0x1*0x19fc+-0x1ed*0x7+0x2777*0x1;_0x2fc6ab<_0x4adcfb['length'];_0x2fc6ab++)_0x2c1a39['push'](_0x4adcfb[_0x2fc6ab]);_0x4adcfb['length']=-0x1*-0xceb+0x1a49+-0x2734;}}}['onPostRend'+'er'](){this['allBatches']['forEach'](_0x11276d=>_0x11276d['clear']()),this['allBatches']['clear'](),this['updatedLay'+'ers']['clear']();}}class NA{constructor(){h(this,'type',Kn),h(this,'color',new ie(-0x107f+0xb1*0x16+0x149,-0x1*0x1a26+0x163c*-0x1+-0x466*-0xb,0x760+0x1*0x220f+-0x296f)),h(this,'density',-0x224f+-0x1496+0x36e5),h(this,'start',0x218c+0x2b0+-0x243b),h(this,'end',0x26fa+-0x35d+-0x1fb5);}}class Et extends me{constructor(_0xdf87ff){super(),h(this,'ambientBak'+'e',!(-0x3*-0xc3b+0xd*-0x3+-0x2489)),h(this,'ambientBak'+'eOcclusion'+'Brightness',-0x171d+0x589*0x3+0x682),h(this,'ambientBak'+'eOcclusion'+'Contrast',-0x17a0+0xccd*0x1+0xad3*0x1),h(this,'ambientLig'+'ht',new ie(0x5*-0x65+-0x21c7+0x40*0x8f,-0x1077+0x2704+-0x168d,0x1*-0x23f3+-0x11cd+-0xd70*-0x4)),h(this,'ambientLum'+'inance',0x88+0x41e+-0x4a6),h(this,'exposure',-0x7e8+0x648+0x1a1),h(this,'lightmapSi'+'zeMultipli'+'er',-0x1da6+-0x141e+-0x1*-0x31c5),h(this,'lightmapMa'+'xResolutio'+'n',-0x240c+-0x30a+-0x31*-0xf6),h(this,'lightmapMo'+'de',jc),h(this,'lightmapFi'+'lterEnable'+'d',!(-0x17c5+0xbb+-0x11*-0x15b)),h(this,'lightmapHD'+'R',!(-0x66a+0x340*-0x5+0x16ab)),h(this,'root',null),h(this,'physicalUn'+'its',!(0x141b+-0x49e*0x5+0xbf*0x4)),h(this,'_envAtlas',null),h(this,'_skyboxCub'+'eMap',null),h(this,'_fogParams',new NA()),h(this,'forcePassT'+'hroughSpec'+'ular',!(0x1db0+-0x1b12+-0x29d)),(w['assert'](_0xdf87ff,'Scene\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0xdf87ff,this['_gravity']=new D(-0x1711+-0x7b1+-0x3e*-0x7f,-(-0xdd4+-0x1*-0xa92+-0x119*-0x3+0.8000000000000007),-0x1554+0xb9*0x7+-0x7*-0x253),this['_layers']=null,this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']=null,this['_skyboxInt'+'ensity']=0x11c*0x15+0x20*-0x7+-0x166b,this['_skyboxLum'+'inance']=-0x2532+0xd3d+0x17f5,this['_skyboxMip']=-0x1*-0x15db+0x2*-0x25f+0x1*-0x111d,this['_skyboxHig'+'hlightMult'+'iplier']=0x9be+0xf34+-0x18f1,this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x2190+0x18d7+0x8ba),this['_skyboxRot'+'ation']=new le(),this['_skyboxRot'+'ationMat3']=new _i(),this['_skyboxRot'+'ationMat4']=new te(),this['_ambientBa'+'keNumSampl'+'es']=-0x1*-0x21df+-0x9*-0x3a9+-0x42cf,this['_ambientBa'+'keSpherePa'+'rt']=-0x9*-0x2f7+0x25d1*0x1+-0x204*0x20+0.4,this['_lightmapF'+'ilterRange']=-0x1218*-0x2+0xb23+-0x2f49,this['_lightmapF'+'ilterSmoot'+'hness']=0x1bb7+0x1b7c+0x43f*-0xd+0.2,this['_clustered'+'LightingEn'+'abled']=!(0x1*-0x1dd4+0x253c+0x18*-0x4f),this['_lightingP'+'arams']=new Mv(this['device']['supportsAr'+'eaLights'],this['device']['maxTexture'+'Size'],()=>{this['updateShad'+'ers']=!(0xa00+-0xada+0xda);}),this['_sky']=new LA(this),this['_stats']={'meshInstances':0x0,'lights':0x0,'dynamicLights':0x0,'bakedLights':0x0,'updateShadersTime':0x0},this['updateShad'+'ers']=!(-0x95*-0x43+0x480+0x8b3*-0x5),this['_shaderVer'+'sion']=-0x1*-0x86a+-0x1*0x10e+-0x274*0x3,this['immediate']=new FA(this['device']));}get['defaultDra'+'wLayer'](){return this['layers']['getLayerBy'+'Id'](Zp);}set['ambientBak'+'eNumSample'+'s'](_0x2857d8){this['_ambientBa'+'keNumSampl'+'es']=Y['clamp'](Math['floor'](_0x2857d8),-0x1*-0xef7+0x1*0xcdb+-0x1bd1,-0x10*-0x4f+0x6f5+-0x3e*0x2d);}get['ambientBak'+'eNumSample'+'s'](){return this['_ambientBa'+'keNumSampl'+'es'];}set['ambientBak'+'eSpherePar'+'t'](_0x4a99d3){this['_ambientBa'+'keSpherePa'+'rt']=Y['clamp'](_0x4a99d3,-0x26ae+0x24e+0x2460+0.001,-0x1*-0xcd9+-0x195+-0xb43);}get['ambientBak'+'eSpherePar'+'t'](){return this['_ambientBa'+'keSpherePa'+'rt'];}set['clusteredL'+'ightingEna'+'bled'](_0x709ddd){if(this['device']['isWebGPU']&&!_0x709ddd){w['warnOnce']('WebGPU\x20cur'+'rently\x20onl'+'y\x20supports'+'\x20clustered'+'\x20lighting,'+'\x20and\x20this\x20'+'cannot\x20be\x20'+'disabled.');return;}if(!this['_clustered'+'LightingEn'+'abled']&&_0x709ddd){console['error']('Turning\x20on'+'\x20disabled\x20'+'clustered\x20'+'lighting\x20i'+'s\x20not\x20curr'+'ently\x20supp'+'orted');return;}this['_clustered'+'LightingEn'+'abled']=_0x709ddd;}get['clusteredL'+'ightingEna'+'bled'](){return this['_clustered'+'LightingEn'+'abled'];}set['envAtlas'](_0x49b2d5){_0x49b2d5!==this['_envAtlas']&&(this['_envAtlas']=_0x49b2d5,_0x49b2d5&&(_0x49b2d5['addressU']=ue,_0x49b2d5['addressV']=ue,_0x49b2d5['minFilter']=vt,_0x49b2d5['magFilter']=vt,_0x49b2d5['mipmaps']=!(-0xc9f+0x1b3a+0x15*-0xb2)),this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_resetSkyM'+'esh']());}get['envAtlas'](){return this['_envAtlas'];}set['layers'](_0x42f274){const _0x525941=this['_layers'];this['_layers']=_0x42f274,this['fire']('set:layers',_0x525941,_0x42f274);}get['layers'](){return this['_layers'];}get['sky'](){return this['_sky'];}get['lighting'](){return this['_lightingP'+'arams'];}get['fog'](){return this['_fogParams'];}set['lightmapFi'+'lterRange'](_0x417251){this['_lightmapF'+'ilterRange']=Math['max'](_0x417251,0x127f*-0x2+-0x1*-0x11b5+-0x1*-0x1349+0.001);}get['lightmapFi'+'lterRange'](){return this['_lightmapF'+'ilterRange'];}set['lightmapFi'+'lterSmooth'+'ness'](_0x22bdad){this['_lightmapF'+'ilterSmoot'+'hness']=Math['max'](_0x22bdad,-0x1b2*-0x2+-0x1cc5+0x1961*0x1+0.001);}get['lightmapFi'+'lterSmooth'+'ness'](){return this['_lightmapF'+'ilterSmoot'+'hness'];}set['prefiltere'+'dCubemaps'](_0x34773f){_0x34773f=_0x34773f||[];const _0x28f0dc=this['_prefilter'+'edCubemaps'];(_0x28f0dc['length']!==_0x34773f['length']||_0x28f0dc['some']((_0x11ae43,_0x6db0c7)=>_0x11ae43!==_0x34773f[_0x6db0c7]))&&(_0x34773f['length']===-0x1767+-0x10b*-0x15+0x186&&_0x34773f['every'](_0x548a04=>!!_0x548a04)?(this['_internalE'+'nvAtlas']=Tv['generatePr'+'efilteredA'+'tlas'](_0x34773f,{'target':this['_internalE'+'nvAtlas']}),this['_envAtlas']=this['_internalE'+'nvAtlas']):(this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_envAtlas']=null),this['_prefilter'+'edCubemaps']=_0x34773f['slice'](),this['_resetSkyM'+'esh']());}get['prefiltere'+'dCubemaps'](){return this['_prefilter'+'edCubemaps'];}set['skybox'](_0x905564){_0x905564!==this['_skyboxCub'+'eMap']&&(this['_skyboxCub'+'eMap']=_0x905564,this['_resetSkyM'+'esh']());}get['skybox'](){return this['_skyboxCub'+'eMap'];}set['skyboxInte'+'nsity'](_0x2aad2c){_0x2aad2c!==this['_skyboxInt'+'ensity']&&(this['_skyboxInt'+'ensity']=_0x2aad2c,this['_resetSkyM'+'esh']());}get['skyboxInte'+'nsity'](){return this['_skyboxInt'+'ensity'];}set['skyboxLumi'+'nance'](_0x378974){_0x378974!==this['_skyboxLum'+'inance']&&(this['_skyboxLum'+'inance']=_0x378974,this['_resetSkyM'+'esh']());}get['skyboxLumi'+'nance'](){return this['_skyboxLum'+'inance'];}set['skyboxMip'](_0x328e8b){_0x328e8b!==this['_skyboxMip']&&(this['_skyboxMip']=_0x328e8b,this['_resetSkyM'+'esh']());}get['skyboxMip'](){return this['_skyboxMip'];}set['skyboxHigh'+'lightMulti'+'plier'](_0x51cd45){_0x51cd45!==this['_skyboxHig'+'hlightMult'+'iplier']&&(this['_skyboxHig'+'hlightMult'+'iplier']=_0x51cd45,this['_resetSkyM'+'esh']());}get['skyboxHigh'+'lightMulti'+'plier'](){return this['_skyboxHig'+'hlightMult'+'iplier'];}set['skyboxRota'+'tion'](_0x22ba87){if(!this['_skyboxRot'+'ation']['equals'](_0x22ba87)){const _0x57f514=_0x22ba87['equals'](le['IDENTITY']);this['_skyboxRot'+'ation']['copy'](_0x22ba87),_0x57f514?this['_skyboxRot'+'ationMat3']['setIdentit'+'y']():(this['_skyboxRot'+'ationMat4']['setTRS'](D['ZERO'],_0x22ba87,D['ONE']),this['_skyboxRot'+'ationMat3']['invertMat4'](this['_skyboxRot'+'ationMat4'])),!this['_skyboxRot'+'ationShade'+'rInclude']&&!_0x57f514&&(this['_skyboxRot'+'ationShade'+'rInclude']=!(0xc69+0x295*0xd+-0x2dfa),this['_resetSkyM'+'esh']());}}get['skyboxRota'+'tion'](){return this['_skyboxRot'+'ation'];}['destroy'](){this['_resetSkyM'+'esh'](),this['root']=null,this['off']();}['drawLine'](_0x3b61f8,_0x6b1f1f,_0x1c88e8=ie['WHITE'],_0x45cf50=!(-0x247d+0x6b*-0x4f+0x2*0x22c1),_0x3d9f08=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x3d9f08,_0x45cf50)['addLines']([_0x3b61f8,_0x6b1f1f],[_0x1c88e8,_0x1c88e8]);}['drawLines'](_0x2a62fa,_0x5c5b21,_0x369185=!(-0xc59+0xa*-0x18d+0x1bdb),_0x1a8bc5=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x1a8bc5,_0x369185)['addLines'](_0x2a62fa,_0x5c5b21);}['drawLineAr'+'rays'](_0x12212d,_0x259174,_0x4ee821=!(-0x2d7+0x1b81+-0x18aa),_0x3dc9ad=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x3dc9ad,_0x4ee821)['addLinesAr'+'rays'](_0x12212d,_0x259174);}['applySetti'+'ngs'](_0x3d646a){const _0x22bbe3=_0x3d646a['physics'],_0x32b5f7=_0x3d646a['render'];this['_gravity']['set'](_0x22bbe3['gravity'][-0xa3c+-0xbdd*-0x1+-0x1a1*0x1],_0x22bbe3['gravity'][0xafb+0x1*-0x5b+-0xa9f*0x1],_0x22bbe3['gravity'][-0x1*-0xb43+0x1179+-0x1cba]),this['ambientLig'+'ht']['set'](_0x32b5f7['global_amb'+'ient'][0x8f7+0x29*0xe5+-0x2da4],_0x32b5f7['global_amb'+'ient'][0x2c*-0xbb+0xd9b+0x3*0x62e],_0x32b5f7['global_amb'+'ient'][0xa7d+0x7*0x4fd+-0x2d66]),this['ambientLum'+'inance']=_0x32b5f7['ambientLum'+'inance'],this['fog']['type']=_0x32b5f7['fog'],this['fog']['color']['set'](_0x32b5f7['fog_color'][0x1b*-0x22+-0x22c*-0x1+0x16a],_0x32b5f7['fog_color'][0x143*-0x9+-0x21e8+-0x16a2*-0x2],_0x32b5f7['fog_color'][-0xd9e+0x2*-0x3da+0x1554]),this['fog']['start']=_0x32b5f7['fog_start'],this['fog']['end']=_0x32b5f7['fog_end'],this['fog']['density']=_0x32b5f7['fog_densit'+'y'],this['lightmapSi'+'zeMultipli'+'er']=_0x32b5f7['lightmapSi'+'zeMultipli'+'er'],this['lightmapMa'+'xResolutio'+'n']=_0x32b5f7['lightmapMa'+'xResolutio'+'n'],this['lightmapMo'+'de']=_0x32b5f7['lightmapMo'+'de'],this['exposure']=_0x32b5f7['exposure'],this['_skyboxInt'+'ensity']=_0x32b5f7['skyboxInte'+'nsity']??-0x1c14+-0xdd2+0x29e7,this['_skyboxLum'+'inance']=_0x32b5f7['skyboxLumi'+'nance']??0x1*0x41f3+-0x40df*0x1+0x1*0x4d0c,this['_skyboxMip']=_0x32b5f7['skyboxMip']??-0x1db*0x5+0x489*-0x7+0x2906,_0x32b5f7['skyboxRota'+'tion']&&(this['skyboxRota'+'tion']=new le()['setFromEul'+'erAngles'](_0x32b5f7['skyboxRota'+'tion'][0x2129+-0x233b+0x1*0x212],_0x32b5f7['skyboxRota'+'tion'][0x5f2+0x14be+-0x1b*0xfd],_0x32b5f7['skyboxRota'+'tion'][-0xe39*0x1+0x1*0x1499+-0x65e])),this['sky']['applySetti'+'ngs'](_0x32b5f7),this['clusteredL'+'ightingEna'+'bled']=_0x32b5f7['clusteredL'+'ightingEna'+'bled']??!(0x2*-0x3df+-0xee9+0x4*0x5aa),this['lighting']['applySetti'+'ngs'](_0x32b5f7),['lightmapFi'+'lterEnable'+'d','lightmapFi'+'lterRange','lightmapFi'+'lterSmooth'+'ness','ambientBak'+'e','ambientBak'+'eNumSample'+'s','ambientBak'+'eSpherePar'+'t','ambientBak'+'eOcclusion'+'Brightness','ambientBak'+'eOcclusion'+'Contrast']['forEach'](_0x50aece=>{_0x32b5f7['hasOwnProp'+'erty'](_0x50aece)&&(this[_0x50aece]=_0x32b5f7[_0x50aece]);}),this['_resetSkyM'+'esh']();}['_getSkybox'+'Tex'](){const _0x3101b9=this['_prefilter'+'edCubemaps'];return this['_skyboxMip']?_0x3101b9[[-0x6a*0x9+0x7b3+0x3f9*-0x1,0x1*0x8bc+-0x1a31+-0x2e9*-0x6,0x261f*0x1+0x2d+0xcc3*-0x3,-0x14ce+-0xf37+-0xe1*-0x29,-0x7f4+-0x1bdd+-0x11eb*-0x2,-0x2*-0xcee+-0x1a7b+-0x3*-0x37][this['_skyboxMip']]]||this['_envAtlas']||_0x3101b9[-0x1ec3+-0x59*-0x3+0x1*0x1db8]||this['_skyboxCub'+'eMap']:this['_skyboxCub'+'eMap']||_0x3101b9[-0x2103+0x88d+0x1876]||this['_envAtlas'];}['_updateSky'+'Mesh'](){this['sky']['skyMesh']||this['sky']['updateSkyM'+'esh'](),this['sky']['update']();}['_resetSkyM'+'esh'](){this['sky']['resetSkyMe'+'sh'](),this['updateShad'+'ers']=!(0xa42+0xfef+-0x1a31);}['setSkybox'](_0x2eaa5b){_0x2eaa5b?(this['skybox']=_0x2eaa5b[0xc0b*-0x1+-0x10d2+0x1cdd]||null,_0x2eaa5b[0x1a3b+-0x2df+-0x175b]&&!_0x2eaa5b[0x1*0x922+0x1785+-0x571*0x6]['cubemap']?this['envAtlas']=_0x2eaa5b[-0x7a2+-0x7dd+0xf80]:this['prefiltere'+'dCubemaps']=_0x2eaa5b['slice'](0x20*-0x66+0xd5*0x15+-0x4b8)):(this['skybox']=null,this['envAtlas']=null);}get['lightmapPi'+'xelFormat'](){return this['lightmapHD'+'R']&&this['device']['getRendera'+'bleHdrForm'+'at']()||Ne;}}h(Et,'EVENT_SETL'+'AYERS','set:layers'),h(Et,'EVENT_SETS'+'KYBOX','set:skybox'),h(Et,'EVENT_PRER'+'ENDER','prerender'),h(Et,'EVENT_POST'+'RENDER','postrender'),h(Et,'EVENT_PRER'+'ENDER_LAYE'+'R','prerender:'+'layer'),h(Et,'EVENT_POST'+'RENDER_LAY'+'ER','postrender'+':layer'),h(Et,'EVENT_PREC'+'ULL','precull'),h(Et,'EVENT_POST'+'CULL','postcull');class Lv{constructor(_0x4f8200,_0x3219cd,_0x5bccfe){this['device']=_0x4f8200,this['inverseBin'+'dPose']=_0x3219cd,this['boneNames']=_0x5bccfe;}}const kA=[-0x21d2+-0x1af*0x17+0x488b,0xff3+-0x1f5*0xe+0xb73,0xd32+-0x1*-0x176c+-0x249d,0x16fc+0x1992+-0xa*0x4db,-0x5*-0x595+0x100f*0x1+-0x2bf8,-0x481+0x1a72+0xd8*-0x1a,0xb2*-0x2e+-0x1acc+-0xc*-0x4e6,0x3*-0x570+-0x261a+0x366a,-0x10e3+-0x2082*-0x1+-0x2*0x7cf,-0x2020+0x123*-0x11+0x3373,0x1f*-0x67+-0x1*-0x12b9+-0x2*0x320,-0x12b7+-0xce+0x1386],UA=[-0x25f3+0xe*-0xb3+-0x65*-0x79,0x2*0x836+-0x126+-0xf45*0x1,0x34*-0x5d+0x1da4+0x1*-0xabd,0x17*-0x187+-0x249e+0x47c1,-0x12c5+-0x2fb*-0x7+-0xd*0x29,0x83*0x21+-0x269+-0xe79];class BA extends me{constructor(_0x44693,_0x56a157){super(),this['_device']=_0x44693,this['_pixelsPer'+'Unit']=_0x56a157&&_0x56a157['pixelsPerU'+'nit']!==void(-0x5ed*0x5+0x8f*0x1+-0x3d*-0x7a)?_0x56a157['pixelsPerU'+'nit']:0x11e5+-0x6c5*-0x5+-0x5*0xa59,this['_renderMod'+'e']=_0x56a157&&_0x56a157['renderMode']!==void(0x15f2+0x95c+-0x1f4e)?_0x56a157['renderMode']:ci,this['_atlas']=_0x56a157&&_0x56a157['atlas']!==void(0x1641+0x15ec+0x107*-0x2b)?_0x56a157['atlas']:null,this['_frameKeys']=_0x56a157&&_0x56a157['frameKeys']!==void(0x1ef2+-0x1*-0xfee+0x3*-0xfa0)?_0x56a157['frameKeys']:null,this['_meshes']=[],this['_updatingP'+'roperties']=!(-0x190e+0x8*-0x40d+0x3977),this['_meshesDir'+'ty']=!(-0xb74+-0x1e7*0x1+0x17c*0x9),this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes']();}set['frameKeys'](_0x505374){this['_frameKeys']=_0x505374,this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x14e1+-0x125*0x1b+0x33c8):this['_createMes'+'hes']()),this['fire']('set:frameK'+'eys',_0x505374);}get['frameKeys'](){return this['_frameKeys'];}set['atlas'](_0x6c1df2){_0x6c1df2!==this['_atlas']&&(this['_atlas']&&(this['_atlas']['off']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['off']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['off']('remove:fra'+'me',this['_onFrameRe'+'moved'],this)),this['_atlas']=_0x6c1df2,this['_atlas']&&this['_frameKeys']&&(this['_atlas']['on']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['on']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['on']('remove:fra'+'me',this['_onFrameRe'+'moved'],this),this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x13d2*-0x1+-0x15b8+-0x9*-0x36):this['_createMes'+'hes']()),this['fire']('set:atlas',_0x6c1df2));}get['atlas'](){return this['_atlas'];}set['pixelsPerU'+'nit'](_0x3ca14e){this['_pixelsPer'+'Unit']!==_0x3ca14e&&(this['_pixelsPer'+'Unit']=_0x3ca14e,this['fire']('set:pixels'+'PerUnit',_0x3ca14e),this['_atlas']&&this['_frameKeys']&&this['renderMode']===ci&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x15ef*0x1+-0x1e38+0x3*0x2c3):this['_createMes'+'hes']()));}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}set['renderMode'](_0x357e97){if(this['_renderMod'+'e']===_0x357e97)return;const _0x1fc048=this['_renderMod'+'e'];this['_renderMod'+'e']=_0x357e97,this['fire']('set:render'+'Mode',_0x357e97),(_0x1fc048===ci||_0x357e97===ci)&&this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x2*0x11e9+0x1de1*-0x1+-0x5f1):this['_createMes'+'hes']());}get['renderMode'](){return this['_renderMod'+'e'];}get['meshes'](){return this['_meshes'];}['_createMes'+'hes'](){const _0x21ab64=this['_meshes']['length'];for(let _0x51a214=-0x1445*-0x1+-0x2224+0xddf;_0x51a214<_0x21ab64;_0x51a214++){const _0x78f109=this['_meshes'][_0x51a214];_0x78f109&&_0x78f109['destroy']();}const _0x56c2b4=this['_frameKeys']['length'];this['_meshes']=new Array(_0x56c2b4);const _0x181011=this['renderMode']===Pt||this['_renderMod'+'e']===Mt?this['_create9Sl'+'iceMesh']:this['_createSim'+'pleMesh'];for(let _0x531a1a=-0x135f*-0x1+0x2*-0x59c+0x1*-0x827;_0x531a1a<_0x56c2b4;_0x531a1a++){const _0x1e5d9a=this['_atlas']['frames'][this['_frameKeys'][_0x531a1a]];this['_meshes'][_0x531a1a]=_0x1e5d9a?_0x181011['call'](this,_0x1e5d9a):null;}this['fire']('set:meshes');}['_createSim'+'pleMesh'](_0x296661){const _0x341b8d=_0x296661['rect'],_0x140bb3=this['_atlas']['texture']['width'],_0x4d607f=this['_atlas']['texture']['height'],_0x2871ba=_0x341b8d['z']/this['_pixelsPer'+'Unit'],_0xf94113=_0x341b8d['w']/this['_pixelsPer'+'Unit'],_0x27db37=_0x296661['pivot']['x'],_0x586645=_0x296661['pivot']['y'],_0x30c563=[-_0x27db37*_0x2871ba,-_0x586645*_0xf94113,-0x5e9+0x1b4f+-0x6*0x391,(-0x58*-0x42+0x272+-0x1921-_0x27db37)*_0x2871ba,-_0x586645*_0xf94113,-0x1*-0x140+-0x414+-0x2d4*-0x1,(-0x100a+0x4*-0x4af+0x1d*0x133-_0x27db37)*_0x2871ba,(-0xa89+0x1*-0x12f9+-0x5e7*-0x5-_0x586645)*_0xf94113,0x19ed+0x18f0+0x1c1*-0x1d,-_0x27db37*_0x2871ba,(-0x60c+0xd63*0x1+-0x2*0x3ab-_0x586645)*_0xf94113,-0x2134+-0x1255+0x3389],_0x2a09d6=_0x341b8d['x']/_0x140bb3,_0x45b5b7=0x13a+-0x337*0x7+-0x6*-0x38c-_0x341b8d['y']/_0x4d607f,_0x27ddeb=(_0x341b8d['x']+_0x341b8d['z'])/_0x140bb3,_0x4d1d5c=0x1*-0x261+0x53*0x4f+-0x173b-(_0x341b8d['y']+_0x341b8d['w'])/_0x4d607f,_0x15e95a=[_0x2a09d6,_0x45b5b7,_0x27ddeb,_0x45b5b7,_0x27ddeb,_0x4d1d5c,_0x2a09d6,_0x4d1d5c],_0x1dcd17=new Ta();return _0x1dcd17['positions']=_0x30c563,_0x1dcd17['normals']=kA,_0x1dcd17['uvs']=_0x15e95a,_0x1dcd17['indices']=UA,Ge['fromGeomet'+'ry'](this['_device'],_0x1dcd17);}['_create9Sl'+'iceMesh'](){const _0xa4a34=J['ONE'],_0xcc6663=0xa3c+-0xda*-0x1d+0x1*-0x22eb,_0x30d306=0x386+-0x340+-0x43*0x1,_0x530fe2=[],_0x13474d=[],_0x2847b8=[],_0x2521b6=[];let _0x26ab51=-0x2bc+0x186a+-0xb9*0x1e;for(let _0x51cf0e=0x17e4+0x2*0x7c4+-0x276c;_0x51cf0e<=_0xcc6663;_0x51cf0e++){const _0x28619c=_0x51cf0e===-0x1*-0x8e1+0x1993+0x1b9*-0x14||_0x51cf0e===_0xcc6663?-0x21a3+0x16f*-0x4+0x275f:0x357*0x3+-0xb36+0x132;for(let _0x3b0b4b=0x110b+0x261f*-0x1+0x1514;_0x3b0b4b<=_0x30d306;_0x3b0b4b++){const _0x2c91b9=-_0xa4a34['x']+(-0x19d8+-0x1*-0x2629+0x89*-0x17)*_0xa4a34['x']*(_0x51cf0e<=-0x2421*-0x1+0x45*-0x83+0x1*-0xd1?0xd6d+-0x63b*0x1+-0x266*0x3:-0xa48*0x1+-0x1305+0x38*0x86)/_0xcc6663,_0x380648=-0x326+0x242c+0x6*-0x581,_0x5875ca=-(-_0xa4a34['y']+(0x4e6+0x41b*0x1+-0x149*0x7)*_0xa4a34['y']*(_0x3b0b4b<=0x33*0x11+0x977+-0x8f*0x17?0x9*0x58+0xab6+0x1f*-0x72:-0x23ae*-0x1+-0x1558+0x13*-0xc1)/_0x30d306),_0x24dee5=_0x3b0b4b===0x8f2+-0x1d9c+0x14aa||_0x3b0b4b===_0x30d306?-0x30+0x3fb*-0x1+0x42b:0x9a3+0x305*0x8+-0x21ca;_0x530fe2['push'](-_0x2c91b9,_0x380648,_0x5875ca),_0x13474d['push'](0x7*0x4fa+-0xee6*0x2+-0x50a,-0x1*0xe1f+-0xd20+0x1b40,-0xf9+0x152a+-0x1431),_0x2847b8['push'](_0x28619c,_0x24dee5),_0x51cf0e<_0xcc6663&&_0x3b0b4b<_0x30d306&&(_0x2521b6['push'](_0x26ab51+_0x30d306+(0x1*-0x2012+0x1*0x19f1+0x622),_0x26ab51+(-0x8ad+-0x1fcd+0x2b*0xf1),_0x26ab51),_0x2521b6['push'](_0x26ab51+_0x30d306+(-0x159a+0x211*0x2+0x1179),_0x26ab51+_0x30d306+(-0x1458+-0x1f29*-0x1+-0xacf*0x1),_0x26ab51+(0xe37+-0x6d9+-0x75d))),_0x26ab51++;}}const _0x5c64f5=new Ta();return _0x5c64f5['positions']=_0x530fe2,_0x5c64f5['normals']=_0x13474d,_0x5c64f5['uvs']=_0x2847b8,_0x5c64f5['indices']=_0x2521b6,Ge['fromGeomet'+'ry'](this['_device'],_0x5c64f5);}['_onSetFram'+'es'](_0x23a5b3){this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x1*0x162b+0x1e*0xf+0x1db*0xb):this['_createMes'+'hes']();}['_onFrameCh'+'anged'](_0x55cda5,_0x3a31db){const _0x349334=this['_frameKeys']['indexOf'](_0x55cda5);_0x349334<-0x19*0x175+0x10*-0x10+0x256d||(_0x3a31db?this['renderMode']===ci&&(this['_meshes'][_0x349334]=this['_createSim'+'pleMesh'](_0x3a31db)):this['_meshes'][_0x349334]=null,this['fire']('set:meshes'));}['_onFrameRe'+'moved'](_0xd86938){const _0x32af1a=this['_frameKeys']['indexOf'](_0xd86938);_0x32af1a<0x7*0x44f+-0x1982+0x3*-0x18d||(this['_meshes'][_0x32af1a]=null,this['fire']('set:meshes'));}['startUpdat'+'e'](){this['_updatingP'+'roperties']=!(0x9b4+0xbb0+-0x1564),this['_meshesDir'+'ty']=!(-0x6aa+0x3a*0x6d+-0x41*0x47);}['endUpdate'](){this['_updatingP'+'roperties']=!(0x6d2+-0x2*0xf8e+0x184b),this['_meshesDir'+'ty']&&this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes'](),this['_meshesDir'+'ty']=!(-0x57*0x41+-0x161*-0x1c+-0x1084);}['destroy'](){for(const _0x724151 of this['_meshes'])_0x724151&&_0x724151['destroy']();this['_meshes']['length']=0x277*-0x6+-0xae2*-0x1+0x3e8;}}class zA extends me{constructor(){super(),this['_texture']=null,this['_frames']=null;}set['texture'](_0x5e4455){this['_texture']=_0x5e4455,this['fire']('set:textur'+'e',_0x5e4455);}get['texture'](){return this['_texture'];}set['frames'](_0x14aa4e){this['_frames']=_0x14aa4e,this['fire']('set:frames',_0x14aa4e);}get['frames'](){return this['_frames'];}['setFrame'](_0x150dfa,_0x32b0ea){let _0x18756a=this['_frames'][_0x150dfa];_0x18756a?(_0x18756a['rect']['copy'](_0x32b0ea['rect']),_0x18756a['pivot']['copy'](_0x32b0ea['pivot']),_0x18756a['border']['copy'](_0x32b0ea['border'])):(_0x18756a={'rect':_0x32b0ea['rect']['clone'](),'pivot':_0x32b0ea['pivot']['clone'](),'border':_0x32b0ea['border']['clone']()},this['_frames'][_0x150dfa]=_0x18756a),this['fire']('set:frame',_0x150dfa['toString'](),_0x18756a);}['removeFram'+'e'](_0x42743c){const _0x38806a=this['_frames'][_0x42743c];_0x38806a&&(delete this['_frames'][_0x42743c],this['fire']('remove:fra'+'me',_0x42743c['toString'](),_0x38806a));}['destroy'](){this['_texture']&&this['_texture']['destroy']();}}class dg{constructor(_0x15e640,_0x32d3d5,_0xa41940,_0x58159f){this['time']=_0x15e640,this['position']=_0x32d3d5,this['rotation']=_0xa41940,this['scale']=_0x58159f;}}class fg{constructor(){this['_name']='',this['_keys']=[];}}class ug{constructor(){h(this,'name',''),h(this,'duration',0x2323+-0x1*-0x14f3+-0x1c0b*0x2),(this['_nodes']=[],this['_nodeDict']={});}['getNode'](_0x1baba0){return this['_nodeDict'][_0x1baba0];}['addNode'](_0x1ca2ec){this['_nodes']['push'](_0x1ca2ec),this['_nodeDict'][_0x1ca2ec['_name']]=_0x1ca2ec;}get['nodes'](){return this['_nodes'];}}class VA{constructor(){this['_written']=!(0x26fa+0x2*0x94a+0x398d*-0x1),this['_name']='',this['_keyFrames']=[],this['_quat']=new le(),this['_pos']=new D(),this['_scale']=new D(),this['_targetNod'+'e']=null;}['getTarget'](){return this['_targetNod'+'e'];}['setTarget'](_0x453bd6){this['_targetNod'+'e']=_0x453bd6;}}class Sf{constructor(_0x312c23){h(this,'looping',!(0x11d5*-0x2+0x4b4*0x7+0x1*0x2be)),(this['_animation']=null,this['_time']=-0xb*-0x36d+0xc28+-0x31d7,this['_interpola'+'tedKeys']=[],this['_interpola'+'tedKeyDict']={},this['_currKeyIn'+'dices']={},this['graph']=null);const _0x528fd7=_0x1235d4=>{const _0x310958=new VA();_0x310958['_name']=_0x1235d4['name'],this['_interpola'+'tedKeys']['push'](_0x310958),this['_interpola'+'tedKeyDict'][_0x1235d4['name']]=_0x310958,this['_currKeyIn'+'dices'][_0x1235d4['name']]=-0x3a1*-0x1+0xb46+-0xee7;for(let _0x164f48=-0x5b8+0x191*0x1+0x427*0x1;_0x164f48<_0x1235d4['_children']['length'];_0x164f48++)_0x528fd7(_0x1235d4['_children'][_0x164f48]);};_0x528fd7(_0x312c23);}set['animation'](_0x164687){this['_animation']=_0x164687,this['currentTim'+'e']=-0x5f4+0x133*-0x1+0x1*0x727;}get['animation'](){return this['_animation'];}set['currentTim'+'e'](_0x4cbbf1){this['_time']=_0x4cbbf1;const _0x37906a=this['_interpola'+'tedKeys']['length'];for(let _0xb090e7=0x18ae+-0x1c2f+0x381;_0xb090e7<_0x37906a;_0xb090e7++){const _0x3c9e5c=this['_interpola'+'tedKeys'][_0xb090e7]['_name'];this['_currKeyIn'+'dices'][_0x3c9e5c]=0x138c+0xc96+-0x2022;}this['addTime'](-0x9e*0x1d+0xd67+0x47f),this['updateGrap'+'h']();}get['currentTim'+'e'](){return this['_time'];}get['numNodes'](){return this['_interpola'+'tedKeys']['length'];}['addTime'](_0x3c4af6){if(this['_animation']!==null){const _0xd0864b=this['_animation']['_nodes'],_0x419d84=this['_animation']['duration'];if(this['_time']===_0x419d84&&!this['looping'])return;if(this['_time']+=_0x3c4af6,this['_time']>_0x419d84){this['_time']=this['looping']?0x19*0x31+-0x8a7+0x3de:_0x419d84;for(let _0x227473=0x3ef*-0x7+-0x61*-0x3f+0x3aa;_0x227473<_0xd0864b['length'];_0x227473++){const _0x834a1f=_0xd0864b[_0x227473]['_name'];this['_currKeyIn'+'dices'][_0x834a1f]=-0x4*0x619+0x1*-0x22b3+0x3b17;}}else{if(this['_time']<-0x2fc*0xb+0x1*-0x187d+0x131b*0x3){this['_time']=this['looping']?_0x419d84:-0x6f4+0x613*-0x1+0xd07;for(let _0x39f95c=-0xee5+0x2a1*-0xd+0x2*0x1889;_0x39f95c<_0xd0864b['length'];_0x39f95c++){const _0x48bd9=_0xd0864b[_0x39f95c],_0x164d06=_0x48bd9['_name'];this['_currKeyIn'+'dices'][_0x164d06]=_0x48bd9['_keys']['length']-(-0x1*-0x2dd+0x2*-0x376+0x411);}}}const _0x3ca689=_0x3c4af6>=-0x6*-0x41d+-0x264a+0xd9c?-0x851+-0x1d4b*0x1+0x259d:-(0x1*0xb91+-0x251*-0x7+-0x1bc7*0x1);for(let _0x5c86df=0x26f+0x1485+-0x5bd*0x4;_0x5c86df<_0xd0864b['length'];_0x5c86df++){const _0xbed739=_0xd0864b[_0x5c86df],_0x275f70=_0xbed739['_name'],_0xa2ce4c=_0xbed739['_keys'],_0x4c52ac=this['_interpola'+'tedKeyDict'][_0x275f70];if(_0x4c52ac===void(-0x3f*-0x33+0x1*-0x1e7f+-0x1*-0x11f2)){w['warn']('Unknown\x20sk'+'eleton\x20nod'+'e\x20name:\x20'+_0x275f70);continue;}let _0x2f11c4=!(-0x1*0x7db+0x7b0+0x2*0x16);if(_0xa2ce4c['length']!==0x32*0x23+0x1cae+0x1*-0x2383)for(let _0x4f3772=this['_currKeyIn'+'dices'][_0x275f70];_0x4f3772<_0xa2ce4c['length']-(0x1*0x42d+0x95*0x5+0x103*-0x7)&&_0x4f3772>=0xc3d+-0x25b2+0x1975;_0x4f3772+=_0x3ca689){const _0x17d61f=_0xa2ce4c[_0x4f3772],_0x14d907=_0xa2ce4c[_0x4f3772+(0x59a*0x6+-0xc*-0x1a3+-0x13d*0x2b)];if(_0x17d61f['time']<=this['_time']&&_0x14d907['time']>=this['_time']){const _0x140a29=(this['_time']-_0x17d61f['time'])/(_0x14d907['time']-_0x17d61f['time']);_0x4c52ac['_pos']['lerp'](_0x17d61f['position'],_0x14d907['position'],_0x140a29),_0x4c52ac['_quat']['slerp'](_0x17d61f['rotation'],_0x14d907['rotation'],_0x140a29),_0x4c52ac['_scale']['lerp'](_0x17d61f['scale'],_0x14d907['scale'],_0x140a29),_0x4c52ac['_written']=!(0x139d+0x1*-0x222b+0xe8e),this['_currKeyIn'+'dices'][_0x275f70]=_0x4f3772,_0x2f11c4=!(-0x7*-0x410+-0xd5d+-0xf13);break;}}(_0xa2ce4c['length']===0x1ae+0x1fb0+-0x215d||!_0x2f11c4&&this['_time']===-0x1675+0x5d3+0x2*0x851&&this['looping'])&&(_0x4c52ac['_pos']['copy'](_0xa2ce4c[0x8*-0x3c+0x67b+-0x49b*0x1]['position']),_0x4c52ac['_quat']['copy'](_0xa2ce4c[-0x2506+0x1213*-0x2+0x492c]['rotation']),_0x4c52ac['_scale']['copy'](_0xa2ce4c[-0xcb9+-0x22b8+0x2f71]['scale']),_0x4c52ac['_written']=!(0x392*0x7+0x2*0xf26+-0x374a));}}}['blend'](_0x4825a4,_0x1531a3,_0x43378c){const _0x47e871=this['_interpola'+'tedKeys']['length'];for(let _0x400de6=-0x2*-0x1031+0xb47+-0x2ba9*0x1;_0x400de6<_0x47e871;_0x400de6++){const _0x578e94=_0x4825a4['_interpola'+'tedKeys'][_0x400de6],_0xab3280=_0x1531a3['_interpola'+'tedKeys'][_0x400de6],_0x474553=this['_interpola'+'tedKeys'][_0x400de6];_0x578e94['_written']&&_0xab3280['_written']?(_0x474553['_quat']['slerp'](_0x578e94['_quat'],_0x1531a3['_interpola'+'tedKeys'][_0x400de6]['_quat'],_0x43378c),_0x474553['_pos']['lerp'](_0x578e94['_pos'],_0x1531a3['_interpola'+'tedKeys'][_0x400de6]['_pos'],_0x43378c),_0x474553['_scale']['lerp'](_0x578e94['_scale'],_0xab3280['_scale'],_0x43378c),_0x474553['_written']=!(-0x1809+0xc81+0xb88)):_0x578e94['_written']?(_0x474553['_quat']['copy'](_0x578e94['_quat']),_0x474553['_pos']['copy'](_0x578e94['_pos']),_0x474553['_scale']['copy'](_0x578e94['_scale']),_0x474553['_written']=!(-0x6*0x652+0x1658+0xf94)):_0xab3280['_written']&&(_0x474553['_quat']['copy'](_0xab3280['_quat']),_0x474553['_pos']['copy'](_0xab3280['_pos']),_0x474553['_scale']['copy'](_0xab3280['_scale']),_0x474553['_written']=!(0x11*-0x139+0x29b+0x122e*0x1));}}['setGraph'](_0x25ecab){if(this['graph']=_0x25ecab,_0x25ecab)for(let _0x15857b=0xea+0x17*-0xd+0x41;_0x15857b<this['_interpola'+'tedKeys']['length'];_0x15857b++){const _0x95a30a=this['_interpola'+'tedKeys'][_0x15857b],_0x3e449e=_0x25ecab['findByName'](_0x95a30a['_name']);this['_interpola'+'tedKeys'][_0x15857b]['setTarget'](_0x3e449e);}else{for(let _0x545dea=0x4d*0x4+-0x1681+-0x154d*-0x1;_0x545dea<this['_interpola'+'tedKeys']['length'];_0x545dea++)this['_interpola'+'tedKeys'][_0x545dea]['setTarget'](null);}}['updateGrap'+'h'](){if(this['graph'])for(let _0x53db2b=-0x1cf1*-0x1+0x20af+-0x3da0;_0x53db2b<this['_interpola'+'tedKeys']['length'];_0x53db2b++){const _0x5b7f66=this['_interpola'+'tedKeys'][_0x53db2b];if(_0x5b7f66['_written']){const _0x2a390a=_0x5b7f66['getTarget']();_0x2a390a['localPosit'+'ion']['copy'](_0x5b7f66['_pos']),_0x2a390a['localRotat'+'ion']['copy'](_0x5b7f66['_quat']),_0x2a390a['localScale']['copy'](_0x5b7f66['_scale']),_0x2a390a['_dirtyLoca'+'l']||_0x2a390a['_dirtifyLo'+'cal'](),_0x5b7f66['_written']=!(0xbe0+-0x1*0x16a9+0xaca);}}}}const zs=(0xc15+-0xc60+0x1*0x4f)/(-0x509+-0x11*-0x16a+-0x12c1),si=-0xda*0x1+-0x1f*-0xd5+-0xc*0x214-zs*(0x1*-0xf31+-0x637+0x156a);class gm extends Ta{constructor(_0x3c6536,_0x415dd4,_0x17644f,_0x5ddd37,_0x371896,_0x975a6){super();const _0x5d39a8=new D(),_0x5e1344=new D(),_0x23d42e=new D(),_0x2606ca=new D(),_0x24ca71=new D(),_0x3c50cf=new D(),_0x25b1b8=[],_0xa259fc=[],_0x5de472=[],_0x337615=[],_0x32155f=[];let _0x470449;if(_0x17644f>0xc*-0x1a5+-0x1*0x1ff9+-0x763*-0x7){for(let _0x38d2fe=0xe*-0x2a9+-0x124b*0x1+-0x7*-0x7ef;_0x38d2fe<=_0x5ddd37;_0x38d2fe++)for(let _0x3aeab5=-0x158d+0x11c9+-0xf1*-0x4;_0x3aeab5<=_0x371896;_0x3aeab5++){const _0x5d61ee=_0x3aeab5/_0x371896*(0x46c*0x3+0x1356+-0x2098)*Math['PI']-Math['PI'],_0x5d5c52=Math['sin'](_0x5d61ee),_0x4e7aca=Math['cos'](_0x5d61ee);_0x24ca71['set'](_0x5d5c52*_0x3c6536,-_0x17644f/(0x3d*0x63+-0x197*0x5+-0x29b*0x6),_0x4e7aca*_0x3c6536),_0x2606ca['set'](_0x5d5c52*_0x415dd4,_0x17644f/(0x1*-0x238a+0x35*-0x65+0x3875),_0x4e7aca*_0x415dd4),_0x5d39a8['lerp'](_0x24ca71,_0x2606ca,_0x38d2fe/_0x5ddd37),_0x5e1344['sub2'](_0x2606ca,_0x24ca71)['normalize'](),_0x3c50cf['set'](_0x4e7aca,-0x239a+-0x29a+0x1*0x2634,-_0x5d5c52),_0x23d42e['cross'](_0x3c50cf,_0x5e1344)['normalize'](),_0x25b1b8['push'](_0x5d39a8['x'],_0x5d39a8['y'],_0x5d39a8['z']),_0xa259fc['push'](_0x23d42e['x'],_0x23d42e['y'],_0x23d42e['z']);let _0xea9a3=_0x3aeab5/_0x371896,_0x225c6a=_0x38d2fe/_0x5ddd37;_0x5de472['push'](_0xea9a3,0x15b*0x10+-0x1*-0x245d+-0x3a0c-_0x225c6a);const _0x58ea4a=_0x225c6a;if(_0x225c6a=_0xea9a3,_0xea9a3=_0x58ea4a,_0xea9a3=_0xea9a3*si+zs,_0x225c6a=_0x225c6a*si+zs,_0xea9a3/=0x2*0x631+0x1+-0x42*0x30,_0x337615['push'](_0xea9a3,0x18d5+-0x110a+-0x1*0x7ca-_0x225c6a),_0x38d2fe<_0x5ddd37&&_0x3aeab5<_0x371896){const _0x498990=_0x38d2fe*(_0x371896+(0x1078+-0x3d2+-0xca5))+_0x3aeab5,_0xd0619d=_0x38d2fe*(_0x371896+(0x93*-0x21+-0x1e*0x9f+-0x11*-0x236))+(_0x3aeab5+(-0x275*0x1+-0x1e81+0x123*0x1d)),_0x7844db=(_0x38d2fe+(0x25f9+-0x1c99+0x95f*-0x1))*(_0x371896+(0x1ae8+0xeb*0x23+-0x3b08))+_0x3aeab5,_0x2040ac=(_0x38d2fe+(-0x1*-0x1b96+-0x2*-0x1230+-0x3ff5))*(_0x371896+(-0x2179+0x20e*-0x11+-0x2c*-0x18e))+(_0x3aeab5+(0x1*-0x1e9a+-0x89e*0x1+0x2739));_0x32155f['push'](_0x498990,_0xd0619d,_0x7844db),_0x32155f['push'](_0xd0619d,_0x2040ac,_0x7844db);}}}if(_0x975a6){const _0x57c3fa=Math['floor'](_0x371896/(-0xf*-0x8+0x2470+0x1*-0x24e6)),_0x324c9e=_0x371896,_0x3e669f=_0x17644f/(-0x14*0xf0+0xee0*-0x2+0xe*0x377);for(let _0x328993=0x17*0x7f+-0x1929+0xb*0x140;_0x328993<=_0x57c3fa;_0x328993++){const _0xe36e2b=_0x328993*Math['PI']*(0x101e+-0x2*0xbd3+-0x1*-0x788+0.5)/_0x57c3fa,_0x2e7042=Math['sin'](_0xe36e2b),_0x5d7d21=Math['cos'](_0xe36e2b);for(let _0x1b5ac7=-0x1*0x1b25+-0x372+-0xbf*-0x29;_0x1b5ac7<=_0x324c9e;_0x1b5ac7++){const _0x1b4d16=_0x1b5ac7*(0x1f2*-0xc+-0xd3*0x17+0x1*0x2a4f)*Math['PI']/_0x324c9e-Math['PI']/(0x20f6+-0x41d+-0x1*0x1cd7),_0x1abe37=Math['sin'](_0x1b4d16),_0x2d7d92=Math['cos'](_0x1b4d16)*_0x2e7042,_0x233595=_0x5d7d21,_0x49e4eb=_0x1abe37*_0x2e7042;let _0x7eecf0=-0x2*-0xa35+0x2c*-0x8+0x1309*-0x1-_0x1b5ac7/_0x324c9e,_0x1f654b=0x1311+-0x100f+-0x1*0x301-_0x328993/_0x57c3fa;_0x25b1b8['push'](_0x2d7d92*_0x415dd4,_0x233595*_0x415dd4+_0x3e669f,_0x49e4eb*_0x415dd4),_0xa259fc['push'](_0x2d7d92,_0x233595,_0x49e4eb),_0x5de472['push'](_0x7eecf0,0x1853+0xb*-0x1ca+-0x4a4-_0x1f654b),_0x7eecf0=_0x7eecf0*si+zs,_0x1f654b=_0x1f654b*si+zs,_0x7eecf0/=-0x1be5+0xf68+0xc80,_0x1f654b/=0x2*-0xef2+0x5b*-0x13+0xc*0x30e,_0x7eecf0+=(0x23e0+0x1f27+-0x4306)/(0x1*-0xf93+-0xd16+0x1cac),_0x337615['push'](_0x7eecf0,0x1*0x1b3b+-0x1c47+0x10d-_0x1f654b);}}_0x470449=(_0x5ddd37+(0x21f1+0x886*0x1+-0x2a76))*(_0x371896+(0xee8+-0x1*0xba1+-0x346));for(let _0x46803c=0x14e5+-0x9*0x278+0x153;_0x46803c<_0x57c3fa;++_0x46803c)for(let _0x4abee7=-0x5c*-0x5a+-0x254*-0x2+0x4*-0x940;_0x4abee7<_0x324c9e;++_0x4abee7){const _0x6335ad=_0x46803c*(_0x324c9e+(-0x84e*-0x4+-0x1740+0x9f7*-0x1))+_0x4abee7,_0xf989fb=_0x6335ad+_0x324c9e+(0x4*0x443+0x656*-0x1+-0x1*0xab5);_0x32155f['push'](_0x470449+_0x6335ad+(-0x1dca+0x77*-0xa+0x2271),_0x470449+_0xf989fb,_0x470449+_0x6335ad),_0x32155f['push'](_0x470449+_0x6335ad+(-0x30f+-0xb68+0xe78),_0x470449+_0xf989fb+(-0x25b*0x2+0x6cb+-0x214),_0x470449+_0xf989fb);}for(let _0x1873e3=0x5*-0x3f2+-0x15ad+-0x2967*-0x1;_0x1873e3<=_0x57c3fa;_0x1873e3++){const _0x3474cd=Math['PI']*(-0x1256*0x2+-0x26c0+-0x3*-0x1924+0.5)+_0x1873e3*Math['PI']*(0x5*0x73d+0xc8*-0x32+0x2df*0x1+0.5)/_0x57c3fa,_0x32fc97=Math['sin'](_0x3474cd),_0x2b52ca=Math['cos'](_0x3474cd);for(let _0x4517fe=0x33*0x7+0x425+-0x2*0x2c5;_0x4517fe<=_0x324c9e;_0x4517fe++){const _0x115b39=_0x4517fe*(-0x248c+-0x6*0x11d+0x2b3c*0x1)*Math['PI']/_0x324c9e-Math['PI']/(0x4c*0x47+0x1*-0x31d+0x1*-0x11f5),_0x1a7f3a=Math['sin'](_0x115b39),_0x49fffb=Math['cos'](_0x115b39)*_0x32fc97,_0x26ee06=_0x2b52ca,_0x26daac=_0x1a7f3a*_0x32fc97;let _0x5ec1d5=0xa54+0x162f+-0x2082-_0x4517fe/_0x324c9e,_0x170337=-0x20e0+-0x1*0x1712+-0x1*-0x37f3-_0x1873e3/_0x57c3fa;_0x25b1b8['push'](_0x49fffb*_0x415dd4,_0x26ee06*_0x415dd4-_0x3e669f,_0x26daac*_0x415dd4),_0xa259fc['push'](_0x49fffb,_0x26ee06,_0x26daac),_0x5de472['push'](_0x5ec1d5,0x58*-0x65+-0x7a3*0x3+0x39a2-_0x170337),_0x5ec1d5=_0x5ec1d5*si+zs,_0x170337=_0x170337*si+zs,_0x5ec1d5/=0x12b6+-0x113c*0x1+-0x177,_0x170337/=0x503+0x9af+0x219*-0x7,_0x5ec1d5+=(0x373*0x5+0x1a5d+-0x1*0x2b9a)/(0x1cf*-0x8+0x210d*-0x1+0x3f6*0xc),_0x337615['push'](_0x5ec1d5,-0x19*0x3d+0xbe+0xa7*0x8-_0x170337);}}_0x470449=(_0x5ddd37+(0x1b*-0x7d+-0x19ee+0x271e))*(_0x371896+(0x24d7*0x1+-0x1026+0x8*-0x296))+(_0x324c9e+(-0x2*-0xc97+0x1a8*-0x1+-0x9*0x29d))*(_0x57c3fa+(0x126d+-0x1902+-0x119*-0x6));for(let _0x3089d4=0x2556+-0x89a*0x1+-0x1cbc;_0x3089d4<_0x57c3fa;++_0x3089d4)for(let _0x3e10fd=-0x1*-0x145a+0x1200+-0x265a;_0x3e10fd<_0x324c9e;++_0x3e10fd){const _0x34573d=_0x3089d4*(_0x324c9e+(0x236b+0x18a1+-0x329*0x13))+_0x3e10fd,_0x1582cb=_0x34573d+_0x324c9e+(-0x2f6*-0x8+-0xdfb+-0x9b4);_0x32155f['push'](_0x470449+_0x34573d+(0x2011*-0x1+-0x2703+0x4715),_0x470449+_0x1582cb,_0x470449+_0x34573d),_0x32155f['push'](_0x470449+_0x34573d+(-0x10f*0x3+-0x1*-0x909+-0x5db),_0x470449+_0x1582cb+(-0xc08+0x2*-0xc73+-0x763*-0x5),_0x470449+_0x1582cb);}}else{if(_0x470449=(_0x5ddd37+(-0x117a+0x35*-0x34+0x1c3f))*(_0x371896+(-0x117*0x6+0x2124+-0x26b*0xb)),_0x3c6536>-0x1cb5+0x1b6+0x1aff)for(let _0x2dad12=0x181*-0x1+-0xb00+0xc81;_0x2dad12<_0x371896;_0x2dad12++){const _0x2f8ce3=_0x2dad12/_0x371896*(-0x72e+-0x1584+0x1cb4)*Math['PI'],_0xb05941=Math['sin'](_0x2f8ce3),_0x3e3710=-_0x17644f/(-0x140b+0x902+0xb0b),_0x2526f2=Math['cos'](_0x2f8ce3);let _0x1b16a5=-0x16ca+0x6c*-0x4b+-0x5*-0xae3-(_0xb05941+(0xcb*-0x9+0x1519*-0x1+-0x1*-0x1c3d))/(0x22c5+0x1*-0x269f+-0x4*-0xf7),_0x2c22da=(_0x2526f2+(-0x9dd*0x1+-0x87*-0x1f+0x4f*-0x15))/(-0x8*-0x44f+-0x222b+-0x19*0x3);_0x25b1b8['push'](_0xb05941*_0x3c6536,_0x3e3710,_0x2526f2*_0x3c6536),_0xa259fc['push'](-0x2*-0x969+-0x1bbd+0x2f9*0x3,-(0x1151+-0x7*0x9+-0x101*0x11),0x8c4+-0x9a3*-0x1+-0x2a1*0x7),_0x5de472['push'](_0x1b16a5,0x6a7*-0x4+-0x3*0x2e8+0xc9*0x2d-_0x2c22da),_0x1b16a5=_0x1b16a5*si+zs,_0x2c22da=_0x2c22da*si+zs,_0x1b16a5/=0x17+-0xf*-0x17f+-0x1685*0x1,_0x2c22da/=0x558+-0xd7*-0x1d+0x13*-0x190,_0x1b16a5+=(-0x119*0x4+-0x199e+0x1e03)/(0x2*-0xc2e+0x19c*0xe+0x1d7),_0x337615['push'](_0x1b16a5,0x1*0x269c+0x1*-0xb75+-0x1b26-_0x2c22da),_0x2dad12>0x119b+-0x1*-0x50b+-0x16a5&&_0x32155f['push'](_0x470449,_0x470449+_0x2dad12,_0x470449+_0x2dad12-(-0x224+0x13e5+-0x11c0));}if(_0x470449+=_0x371896,_0x415dd4>-0x23dd+0x1f0f+0x4ce)for(let _0x1e58f5=0x22*-0x4f+0x2*0x11c5+-0x190c;_0x1e58f5<_0x371896;_0x1e58f5++){const _0x5b5abb=_0x1e58f5/_0x371896*(-0x65b*-0x1+-0x1e43*0x1+-0x17ea*-0x1)*Math['PI'],_0x2e5166=Math['sin'](_0x5b5abb),_0x2e3749=_0x17644f/(0x2*0xa6d+0x3d*-0x5c+0x8a*0x2),_0x398843=Math['cos'](_0x5b5abb);let _0x200d9e=0x1*0x25d3+-0x171e+0x3ad*-0x4-(_0x2e5166+(0x12*0x18b+-0x1abc+-0x109))/(0x1a3f*0x1+0x1*0x517+-0xa*0x322),_0x5ceb17=(_0x398843+(0x1*0xd6a+0x1bb+-0xf24))/(-0x76b+-0x1757+0x1*0x1ec4);_0x25b1b8['push'](_0x2e5166*_0x415dd4,_0x2e3749,_0x398843*_0x415dd4),_0xa259fc['push'](0x1578+0x1*0x20fb+-0x3673*0x1,0x1*0x1645+0x1*0x1b2f+-0x3173,0x73c*0x1+-0xf*-0xef+-0x1*0x153d),_0x5de472['push'](_0x200d9e,0x99*0x7+0x2e1+-0x70f-_0x5ceb17),_0x200d9e=_0x200d9e*si+zs,_0x5ceb17=_0x5ceb17*si+zs,_0x200d9e/=-0x189+-0x1085+0x19*0xb9,_0x5ceb17/=0x20d7+0x1ff2+-0x40c6,_0x200d9e+=(-0x10*0xa5+0x1d6e*0x1+0x131c*-0x1)/(-0x5cd+0x1e72+-0x6*0x41b),_0x337615['push'](_0x200d9e,0x1ba5+0x3d6+-0x1f7a-_0x5ceb17),_0x1e58f5>0xb*0x241+-0x1015*-0x2+0x2d9*-0x14&&_0x32155f['push'](_0x470449,_0x470449+_0x1e58f5-(0xc8*-0x9+0x17bb+0x1*-0x10b2),_0x470449+_0x1e58f5);}}this['positions']=_0x25b1b8,this['normals']=_0xa259fc,this['uvs']=_0x5de472,this['uvs1']=_0x337615,this['indices']=_0x32155f;}}class GA extends gm{constructor(_0x3a32cc={}){const _0x166f3a=_0x3a32cc['radius']??0x15d6+0x5*-0x65e+0xa00+0.3,_0x10cfeb=_0x3a32cc['height']??0x1111+0x240e+-0x351e,_0x4b0836=_0x3a32cc['heightSegm'+'ents']??-0x25e+0x3be+-0x1b*0xd,_0x4e5c69=_0x3a32cc['sides']??-0xc81+0x864+0x431;super(_0x166f3a,_0x166f3a,_0x10cfeb-(0x841+-0x252f+0x1cf0)*_0x166f3a,_0x4b0836,_0x4e5c69,!(-0x1*-0xdcd+0x23b6+-0x3183)),_0x3a32cc['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class HA extends gm{constructor(_0x1fa301={}){const _0x147ab4=_0x1fa301['baseRadius']??0x1*0xa07+0x466*0x5+-0x2005+0.5,_0x24d03b=_0x1fa301['peakRadius']??-0x1c4*-0x11+-0x1052*0x1+0x1*-0xdb2,_0x29d18f=_0x1fa301['height']??-0x136e+0x1137+0x238,_0x19da82=_0x1fa301['heightSegm'+'ents']??-0x1*-0x1027+-0x3c6+-0xc5c,_0x40fe54=_0x1fa301['capSegment'+'s']??0xcfb*-0x1+-0x6*0x3e0+0x244d;super(_0x147ab4,_0x24d03b,_0x29d18f,_0x19da82,_0x40fe54,!(0xba0+-0x102b*0x1+0x48c)),_0x1fa301['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class WA extends gm{constructor(_0x2d880a={}){const _0x10b003=_0x2d880a['radius']??0x8ad*0x2+0x147*0x11+0x49*-0x89+0.5,_0x222e4c=_0x2d880a['height']??0x1*0x10ed+0x46c*0x4+-0x229c,_0xe2ec5a=_0x2d880a['heightSegm'+'ents']??-0x108f+-0x1d02+0x1e*0x185,_0x59861c=_0x2d880a['capSegment'+'s']??-0x88a+-0x600*-0x2+-0x362*0x1;super(_0x10b003,_0x10b003,_0x222e4c,_0xe2ec5a,_0x59861c,!(0x75*0x54+0x1*-0x893+0x9f0*-0x3)),_0x2d880a['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class $A extends Ta{constructor(_0x5359f7={}){super();const _0x5843fb=_0x5359f7['halfExtent'+'s']??new J(-0x4*0xa+-0x2*-0x1331+-0x263a+0.5,-0x37*-0x3+-0x14f+0x1*0xaa+0.5),_0x5784a7=_0x5359f7['widthSegme'+'nts']??-0x4*0x700+-0x2b*-0x85+-0x2d7*-0x2,_0x36da31=_0x5359f7['lengthSegm'+'ents']??0x21be+0x10*-0x99+-0x1829,_0x2cd6ba=[],_0x1fff73=[],_0x1174be=[],_0x3f6345=[];let _0x384908=0x3*-0xa83+0x16*-0x5+-0x1*-0x1ff7;for(let _0x87fbc2=-0x1c*-0x38+0xb1*0x2b+-0x23db;_0x87fbc2<=_0x5784a7;_0x87fbc2++)for(let _0x52b264=0x22cc+-0x1c20+-0x6ac;_0x52b264<=_0x36da31;_0x52b264++){const _0x2b414a=-_0x5843fb['x']+(-0x1a95+0xb6*0x2+0x192b*0x1)*_0x5843fb['x']*_0x87fbc2/_0x5784a7,_0x36c9f0=-0x3*0x7d2+0xfee+0x1*0x788,_0x44e30d=-(-_0x5843fb['y']+(0xe45*0x1+0x88e*0x3+-0x27ed)*_0x5843fb['y']*_0x52b264/_0x36da31),_0x2eba1d=_0x87fbc2/_0x5784a7,_0x4b10f2=_0x52b264/_0x36da31;_0x2cd6ba['push'](_0x2b414a,_0x36c9f0,_0x44e30d),_0x1fff73['push'](-0x213*-0xf+0x1741+0x365e*-0x1,0x1077*-0x2+-0x59f+0xd2*0x2f,0x1b3*-0xf+-0x1*0x118d+0x2b0a),_0x1174be['push'](_0x2eba1d,0x2215+0x22e3+-0xa5*0x6b-_0x4b10f2),_0x87fbc2<_0x5784a7&&_0x52b264<_0x36da31&&(_0x3f6345['push'](_0x384908+_0x36da31+(-0xc44+0x9d*0x34+-0x139f),_0x384908+(-0xc89*0x3+-0x206d+-0x1*-0x4609),_0x384908),_0x3f6345['push'](_0x384908+_0x36da31+(0xb75*-0x2+-0x1*0x2507+-0x1*-0x3bf2),_0x384908+_0x36da31+(-0xba5*-0x2+0x7*-0x1d4+-0xa7c),_0x384908+(-0x1828+-0x12b9*-0x1+0x570))),_0x384908++;}this['positions']=_0x2cd6ba,this['normals']=_0x1fff73,this['uvs']=_0x1174be,this['uvs1']=_0x1174be,this['indices']=_0x3f6345,_0x5359f7['calculateT'+'angents']&&(this['tangents']=Mr(_0x2cd6ba,_0x1fff73,_0x1174be,_0x3f6345));}}class XA extends Ta{constructor(_0x1e4279={}){super();const _0x9c610=_0x1e4279['tubeRadius']??-0x2291*-0x1+0x1*0x16f7+-0x4*0xe62+0.2,_0x57ca40=_0x1e4279['ringRadius']??0xb0f*-0x2+-0x5*-0x3b6+0x390+0.3,_0x2a33c3=(_0x1e4279['sectorAngl'+'e']??0x101*-0x7+-0x219d+-0x19e*-0x1a)*Y['DEG_TO_RAD'],_0x58f1f2=_0x1e4279['segments']??-0xf38*0x2+-0xb9+0x1f47,_0x5ba341=_0x1e4279['sides']??0x10f0*0x1+0x2121+-0x43*0xbf,_0xa680e4=[],_0x172e21=[],_0x964a1f=[],_0x3d4c79=[];for(let _0x3beb98=0x154f+-0x26bd*-0x1+0x7*-0x894;_0x3beb98<=_0x5ba341;_0x3beb98++)for(let _0xa3e7c9=-0x14b*0x1d+0xe44+0x173b;_0xa3e7c9<=_0x58f1f2;_0xa3e7c9++){const _0x2d7f8f=Math['cos'](_0x2a33c3*_0xa3e7c9/_0x58f1f2)*(_0x57ca40+_0x9c610*Math['cos']((0x86*0x25+-0x1710+0x13c*0x3)*Math['PI']*_0x3beb98/_0x5ba341)),_0x4ae07d=Math['sin']((0x20c1+-0x43e+-0x1c81)*Math['PI']*_0x3beb98/_0x5ba341)*_0x9c610,_0xf364e5=Math['sin'](_0x2a33c3*_0xa3e7c9/_0x58f1f2)*(_0x57ca40+_0x9c610*Math['cos']((-0x435+-0x2*0xdf1+0x2019)*Math['PI']*_0x3beb98/_0x5ba341)),_0x460b0a=Math['cos'](_0x2a33c3*_0xa3e7c9/_0x58f1f2)*Math['cos']((0x9b9*-0x3+0x27*0x3a+0x1457)*Math['PI']*_0x3beb98/_0x5ba341),_0x4f6cb4=Math['sin']((-0x841*0x4+-0x1f79+0x407f)*Math['PI']*_0x3beb98/_0x5ba341),_0x2b946f=Math['sin'](_0x2a33c3*_0xa3e7c9/_0x58f1f2)*Math['cos']((-0x100b+-0x8f1+-0x18fe*-0x1)*Math['PI']*_0x3beb98/_0x5ba341),_0xdaa342=_0x3beb98/_0x5ba341,_0x453c10=-0x4*-0x272+0x949*-0x2+0x8cb-_0xa3e7c9/_0x58f1f2;if(_0xa680e4['push'](_0x2d7f8f,_0x4ae07d,_0xf364e5),_0x172e21['push'](_0x460b0a,_0x4f6cb4,_0x2b946f),_0x964a1f['push'](_0xdaa342,-0xbb6*-0x1+0x1*-0x254a+0x3*0x887-_0x453c10),_0x3beb98<_0x5ba341&&_0xa3e7c9<_0x58f1f2){const _0x9a51e4=_0x3beb98*(_0x58f1f2+(0x46*-0x3e+-0x6*-0x24e+0x321*0x1))+_0xa3e7c9,_0x452113=(_0x3beb98+(-0xd2c+0xce5*-0x1+0x1a12))*(_0x58f1f2+(-0xe4a*-0x2+0x17c0+0x1*-0x3453))+_0xa3e7c9,_0x1ad88b=_0x3beb98*(_0x58f1f2+(0x3*0x165+0x115*0x11+0x1693*-0x1))+(_0xa3e7c9+(0x21b7+-0x1*-0x6d0+-0x2886)),_0xe2c700=(_0x3beb98+(0x25c9+0x1*-0xbb1+-0x1*0x1a17))*(_0x58f1f2+(0x225d+0x253c+-0x4798))+(_0xa3e7c9+(-0x1*0x1b57+0x6e6*0x4+0x1*-0x40));_0x3d4c79['push'](_0x9a51e4,_0x452113,_0x1ad88b),_0x3d4c79['push'](_0x452113,_0xe2c700,_0x1ad88b);}}this['positions']=_0xa680e4,this['normals']=_0x172e21,this['uvs']=_0x964a1f,this['uvs1']=_0x964a1f,this['indices']=_0x3d4c79,_0x1e4279['calculateT'+'angents']&&(this['tangents']=Mr(_0xa680e4,_0x172e21,_0x964a1f,_0x3d4c79));}}class qA{constructor(_0x527adb,_0x9c6cb2){h(this,'processedC'+'ache',new Map()),h(this,'definition'+'sCache',new Map()),h(this,'_generator'+'s',new Map()),(this['_device']=_0x527adb,this['_isClearin'+'gCache']=!(0xefa+0x2*-0xbde+-0x1*-0x8c3),this['_precached']=!(0x23b*-0x8+0x101f+-0x1*-0x1ba),this['_programsC'+'ollection']=[],this['_defaultSt'+'dMatOption']=new dl(),this['_defaultSt'+'dMatOption'+'Min']=new dl());const _0x1d18b2=new vv();_0x9c6cb2['shaderOptB'+'uilder']['updateRef'](this['_defaultSt'+'dMatOption'],{},_0x1d18b2,_0x9c6cb2,null,[],Aa,null),_0x9c6cb2['shaderOptB'+'uilder']['updateMinR'+'ef'](this['_defaultSt'+'dMatOption'+'Min'],{},_0x9c6cb2,null,cm,null),_0x527adb['on']('destroy:sh'+'ader',_0x23f2b6=>{this['removeFrom'+'Cache'](_0x23f2b6);});}['destroy'](){this['clearCache']();}['register'](_0x37f755,_0x1bf709){this['_generator'+'s']['has'](_0x37f755)||this['_generator'+'s']['set'](_0x37f755,_0x1bf709);}['unregister'](_0xb9eb6f){this['_generator'+'s']['has'](_0xb9eb6f)&&this['_generator'+'s']['delete'](_0xb9eb6f);}['isRegister'+'ed'](_0xede5d2){return this['_generator'+'s']['has'](_0xede5d2);}['generateSh'+'aderDefini'+'tion'](_0x30d0b8,_0x529ff9,_0x27dc91,_0x3f1d2c){var _0x5e7f60,_0x1c7d0c;let _0x4e924b=this['definition'+'sCache']['get'](_0x27dc91);if(!_0x4e924b){let _0x77856;(_0x5e7f60=_0x3f1d2c['litOptions'])!=null&&_0x5e7f60['lights']&&(_0x77856=_0x3f1d2c['litOptions']['lights'],_0x3f1d2c['litOptions']['lights']=_0x77856['map'](_0x236097=>{const _0xcd5ac0=_0x236097['clone']?_0x236097['clone']():_0x236097;return _0xcd5ac0['key']=_0x236097['key'],_0xcd5ac0;})),this['storeNewPr'+'ogram'](_0x529ff9,_0x3f1d2c),(_0x1c7d0c=_0x3f1d2c['litOptions'])!=null&&_0x1c7d0c['lights']&&(_0x3f1d2c['litOptions']['lights']=_0x77856),this['_precached']&&w['log']('ProgramLib'+'rary#getPr'+'ogram:\x20Cac'+'he\x20miss\x20fo'+'r\x20shader\x20'+_0x529ff9+'\x20key\x20'+_0x27dc91+('\x20after\x20sha'+'ders\x20preca'+'ching'));const _0x597509=this['_device'];_0x4e924b=_0x30d0b8['createShad'+'erDefiniti'+'on'](_0x597509,_0x3f1d2c),_0x4e924b['name']=_0x4e924b['name']??(_0x3f1d2c['pass']?_0x529ff9+'-pass:'+_0x3f1d2c['pass']:_0x529ff9),this['definition'+'sCache']['set'](_0x27dc91,_0x4e924b);}return _0x4e924b;}['getCachedS'+'hader'](_0x385eb9){return this['processedC'+'ache']['get'](_0x385eb9);}['setCachedS'+'hader'](_0x2aa3f4,_0x5647c7){this['processedC'+'ache']['set'](_0x2aa3f4,_0x5647c7);}['getProgram'](_0x5db89c,_0x3861af,_0x210b44,_0x56b232){const _0xa6f3=this['_generator'+'s']['get'](_0x5db89c);if(!_0xa6f3)return w['warn']('ProgramLib'+'rary#getPr'+'ogram:\x20No\x20'+'program\x20li'+'brary\x20func'+'tions\x20regi'+'stered\x20for'+':\x20'+_0x5db89c),null;const _0x5128b7=_0xa6f3['generateKe'+'y'](_0x3861af),_0x5778d3=hi(_0x5128b7),_0x558169=_0x210b44['generateKe'+'y'](this['_device']),_0x4ba23a=hi(_0x558169),_0x311291=_0x5778d3+'#'+_0x4ba23a;let _0x16c9d9=this['getCachedS'+'hader'](_0x311291);if(!_0x16c9d9){const _0x3799f5=this['generateSh'+'aderDefini'+'tion'](_0xa6f3,_0x5db89c,_0x5778d3,_0x3861af);w['assert'](_0x3799f5);let _0x50ee2b='',_0x5da979;_0x3861af['pass']!==void(0x21cc+-0x10*-0xe6+-0x302c)&&(_0x5da979=Si['get'](this['_device'])['getByIndex'](_0x3861af['pass']),_0x50ee2b='-'+_0x5da979['name']),this['_device']['fire']('shader:gen'+'erate',{'userMaterialId':_0x56b232,'shaderPassInfo':_0x5da979,'definition':_0x3799f5});const _0x196a5d={'name':''+_0x3799f5['name']+_0x50ee2b+'-proc','attributes':_0x3799f5['attributes'],'vshader':_0x3799f5['vshader'],'vincludes':_0x3799f5['vincludes'],'fincludes':_0x3799f5['fincludes'],'fshader':_0x3799f5['fshader'],'processingOptions':_0x210b44,'shaderLanguage':_0x3799f5['shaderLang'+'uage'],'meshUniformBufferFormat':_0x3799f5['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x3799f5['meshBindGr'+'oupFormat']};_0x16c9d9=new qy(this['_device'],_0x196a5d),w['call'](()=>{_0x16c9d9['_generatio'+'nKey']=_0x5128b7,_0x16c9d9['_processin'+'gKey']=_0x558169;}),this['setCachedS'+'hader'](_0x311291,_0x16c9d9);}return _0x16c9d9;}['storeNewPr'+'ogram'](_0x30094d,_0x38b66d){let _0x4d37ba={};if(_0x30094d==='standard'){const _0x183269=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x38b66d['pass']);for(const _0x51822c in _0x38b66d)(_0x38b66d['hasOwnProp'+'erty'](_0x51822c)&&_0x183269[_0x51822c]!==_0x38b66d[_0x51822c]||_0x51822c==='pass')&&(_0x4d37ba[_0x51822c]=_0x38b66d[_0x51822c]);for(const _0x4a36f6 in _0x38b66d['litOptions'])_0x4d37ba[_0x4a36f6]=_0x38b66d['litOptions'][_0x4a36f6];}else _0x4d37ba=_0x38b66d;this['_programsC'+'ollection']['push'](JSON['stringify']({'name':_0x30094d,'options':_0x4d37ba}));}['dumpProgra'+'ms'](){let _0x4ac348='let\x20device'+'\x20=\x20pc.app\x20'+'?\x20pc.app.g'+'raphicsDev'+'ice\x20:\x20pc.A'+'pplication'+'.getApplic'+'ation().gr'+'aphicsDevi'+'ce;\x0a';_0x4ac348+='let\x20shader'+'s\x20=\x20[',this['_programsC'+'ollection'][0x1915+-0x3d0+0x16b*-0xf]&&(_0x4ac348+='\x0a\x09'+this['_programsC'+'ollection'][-0x6*0x46e+-0x1aa5+0x3539]);for(let _0x1c1d5e=-0x2437+-0x1*0xd4f+-0x3187*-0x1;_0x1c1d5e<this['_programsC'+'ollection']['length'];++_0x1c1d5e)_0x4ac348+=',\x0a\x09'+this['_programsC'+'ollection'][_0x1c1d5e];_0x4ac348+='\x0a];\x0a',_0x4ac348+='pc.getProg'+'ramLibrary'+'(device).p'+'recompile('+'shaders);\x0a',_0x4ac348+='if\x20(pc.ver'+'sion\x20!=\x20\x22'+hn+('\x22\x20||\x20pc.re'+'vision\x20!=\x20'+'\x22')+$S+'\x22)\x0a',_0x4ac348+='\x09console.w'+'arn(\x22preco'+'mpile-shad'+'ers.js:\x20en'+'gine\x20versi'+'on\x20mismatc'+'h,\x20rebuild'+'\x20shaders\x20l'+'ib\x20with\x20cu'+'rrent\x20engi'+'ne\x22);';const _0x24cc82=document['createElem'+'ent']('a');_0x24cc82['setAttribu'+'te']('href','data:text/'+'plain;char'+'set=utf-8,'+encodeURIComponent(_0x4ac348)),_0x24cc82['setAttribu'+'te']('download','precompile'+'-shaders.j'+'s'),_0x24cc82['style']['display']='none',document['body']['appendChil'+'d'](_0x24cc82),_0x24cc82['click'](),document['body']['removeChil'+'d'](_0x24cc82);}['clearCache'](){this['_isClearin'+'gCache']=!(-0x2*0xce6+0x2684+-0xcb8),this['processedC'+'ache']['forEach'](_0x585e33=>{_0x585e33['destroy']();}),this['processedC'+'ache']['clear'](),this['_isClearin'+'gCache']=!(-0x3d*-0x73+-0x2f*-0x13+-0x1ee3*0x1);}['removeFrom'+'Cache'](_0x4975e3){this['_isClearin'+'gCache']||this['processedC'+'ache']['forEach']((_0x1e74a8,_0x2d4bad)=>{_0x4975e3===_0x1e74a8&&this['processedC'+'ache']['delete'](_0x2d4bad);});}['_getDefaul'+'tStdMatOpt'+'ions'](_0x47822a){const _0x200689=Si['get'](this['_device'])['getByIndex'](_0x47822a);return _0x47822a===Zn||_0x47822a===Rl||_0x200689['isShadow']?this['_defaultSt'+'dMatOption'+'Min']:this['_defaultSt'+'dMatOption'];}['precompile'](_0x1e4d15){if(_0x1e4d15){const _0x4ca15b=new Array(_0x1e4d15['length']);for(let _0xe3216=0x24f5*0x1+-0x807+-0x1cee;_0xe3216<_0x1e4d15['length'];_0xe3216++){if(_0x1e4d15[_0xe3216]['name']==='standard'){const _0x2bb882=_0x1e4d15[_0xe3216]['options'],_0x6a85eb=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x2bb882['pass']);for(const _0x3d6dc8 in _0x6a85eb)_0x6a85eb['hasOwnProp'+'erty'](_0x3d6dc8)&&_0x2bb882[_0x3d6dc8]===void(-0x4*0x5ff+0x4a1+0x1*0x135b)&&(_0x2bb882[_0x3d6dc8]=_0x6a85eb[_0x3d6dc8]);}_0x4ca15b[_0xe3216]=this['getProgram'](_0x1e4d15[_0xe3216]['name'],_0x1e4d15[_0xe3216]['options']);}}this['_precached']=!(-0x14a2+0x5*0x531+-0x553);}}async function jA(){const _0x42c0e3=new Float32Array(-0x12f6+-0x3c0+0x16b7),_0x235bee=new Int32Array(_0x42c0e3['buffer']);let _0x4a6200=-0x1e65+-0x2036+0x3e9b,_0x470f15={};self['onmessage']=async _0x13389f=>{const {data:_0x51e94e}=_0x13389f;switch(_0x51e94e['type']){case'initWorker':break;case'appendGSpl'+'atData':_0x141e38(_0x51e94e['properties'],_0x51e94e['timeIndex'],_0x51e94e['timeOption']);break;case'releaseSeq'+'Data':_0x54a3de(_0x51e94e['index']);break;case'releaseAll'+'SeqData':_0x25a1b2();break;case'destroyWor'+'ker':_0x323955();break;}};class _0x988f9d{constructor(_0x294d65=-0xfb7+-0x1*-0x7fd+-0x7ba*-0x1,_0x5b2f98=0x1*-0x2065+-0x1*0x151f+0x3584,_0x6277ac=0x671+-0x3*0x689+-0xa*-0x151,_0x4116fe=0x5*0x13d+0xe5e+-0x148e){this['x']=_0x294d65,this['y']=_0x5b2f98,this['z']=_0x6277ac,this['w']=_0x4116fe;}['set'](_0x3db22a,_0x405594,_0x30bd24,_0x23ad30){return this['x']=_0x3db22a,this['y']=_0x405594,this['z']=_0x30bd24,this['w']=_0x23ad30,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x15979d=this){let _0x3049fd=_0x15979d['length']();return _0x3049fd===-0x21e8+0xbb3+0x1635?(this['x']=this['y']=this['z']=0x54c+-0x2*-0x676+-0x91c*0x2,this['w']=0x1*-0x1e45+-0x1df*0x7+0x2b5f):(_0x3049fd=(-0x313+-0x4*-0x769+-0x1a90)/_0x3049fd,this['x']=_0x15979d['x']*_0x3049fd,this['y']=_0x15979d['y']*_0x3049fd,this['z']=_0x15979d['z']*_0x3049fd,this['w']=_0x15979d['w']*_0x3049fd),this;}['mulScalar'](_0x2f40f4,_0x2d3f46=this){return this['x']=_0x2d3f46['x']*_0x2f40f4,this['y']=_0x2d3f46['y']*_0x2f40f4,this['z']=_0x2d3f46['z']*_0x2f40f4,this['w']=_0x2d3f46['w']*_0x2f40f4,this;}}const _0x561676=_0x3c4428=>{_0x42c0e3[-0xe30+0x45*-0x6+-0x22*-0x77]=_0x3c4428;const _0x25d783=_0x235bee[-0x7fb+0x1655+-0x2*0x72d];let _0x419680=_0x25d783>>-0x4*-0x541+0x7ad+-0x1ca1&0x6d89+-0x2a5c+0x1*0x3cd3,_0x23e326=_0x25d783>>-0x3d9+0x1e9f+0xb*-0x26e&-0x7*-0xdf+0x2f3+-0x10d;const _0x2cb482=_0x25d783>>0x4d0+0x1f06+0x23bf*-0x1&-0x14b*-0x19+0x4b3+-0x2407;return _0x2cb482<-0x14ac+0x1b0e+0x5fb*-0x1?_0x419680:_0x2cb482>-0xbe6+-0x4*-0x5da+-0xaf4?(_0x419680|=0xeb84+0x1*-0xa31a+0xba*0x47,_0x419680|=(_0x2cb482===0x212d*-0x1+-0xa*0x389+-0x652*-0xb?0xb57*0x3+-0xb65+-0x1*0x16a0:-0x233c+-0x136d*-0x2+0x25*-0x19)&&_0x25d783&-0x5a273b+-0xe7a179+0x1c1c8b3,_0x419680):_0x2cb482<0x1*0x15cf+-0x16b6+0x158?(_0x23e326|=0x45+-0xa0d+0x11c8,_0x419680|=(_0x23e326>>-0x19b1+-0x193*-0xa+0xa65-_0x2cb482)+(_0x23e326>>-0x1*-0x1d22+0x4d3+-0x186*0x16-_0x2cb482&-0x1*-0x42e+0x1e37+-0x47*0x7c),_0x419680):(_0x419680|=_0x2cb482-(0x1d93+0x1*-0x1b32+-0x1f1)<<0x20e*0xa+-0x1485+0x3*0x1|_0x23e326>>-0x1eee+0x1*0xfda+0x27*0x63,_0x419680+=_0x23e326&0x77*-0x35+-0x1b30+-0x1f*-0x1ac,_0x419680);},_0x1b4463=()=>({0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x17808c=0x602+-0x25eb+0x48f*0x7;_0x17808c<-0x268f+0xb8+0x2604;++_0x17808c)if(!_0x470f15['f_rest_'+_0x17808c])return _0x17808c;return-0xf6c+0x69f+0x47d*0x2;})())]??-0x10bd+-0xa5+0x1162),_0x141e38=(_0x4ff06e,_0x2c4a43,_0x4f404c)=>{const _0x5f2968=!!_0x4ff06e['time_index'];_0x5f2968||(_0x4ff06e['time_index']=new Float32Array(0x134e+-0x7*-0x170+-0x432*0x7)),_0x4a6200+=_0x4ff06e['x']['length']??0x1*0x1b2d+-0x1a50+-0xdd;const _0x467a4c=Object['keys'](_0x4ff06e);for(let _0x1eccb3=0x9d+0x1*-0x260d+0x12b8*0x2;_0x1eccb3<_0x467a4c['length'];_0x1eccb3++){const _0xec3df3=_0x467a4c[_0x1eccb3],_0x4ffb32=_0x4ff06e[_0xec3df3],_0x5772ef=_0x470f15[_0xec3df3]??new Float32Array(0x2*0x125e+0x14c0+0x34*-0x11b);if(!_0x5f2968&&_0xec3df3==='time_index'){const _0x57b7ed=new Float32Array(_0x4a6200);_0x57b7ed['fill'](_0x2c4a43),_0x57b7ed['set'](_0x5772ef,0x3c0+0x8e2+-0xca2),_0x470f15[_0xec3df3]=_0x57b7ed;}else{if(!_0x5f2968&&_0x4ffb32&&_0xec3df3==='t'){const _0x1c4513=new Float32Array(_0x4a6200);if(_0x1c4513['set'](_0x5772ef,0x439*-0x3+-0x1d6c+-0x86b*-0x5),_0x4f404c){for(let _0x1dc027=_0x5772ef['length'];_0x1dc027<_0x4a6200;_0x1dc027++)_0x4ffb32[_0x1dc027-_0x5772ef['length']]>-(0x403+-0x1862+0x1464)?_0x1c4513[_0x1dc027]=_0x4ffb32[_0x1dc027-_0x5772ef['length']]+_0x4f404c[(-0x7*0x3e5+0x1d*-0x79+-0x28fa*-0x1)*_0x2c4a43]:_0x1c4513[_0x1dc027]=_0x4ffb32[_0x1dc027-_0x5772ef['length']];}_0x470f15[_0xec3df3]=_0x1c4513;}else{if(_0x4ffb32){const _0x3a6586=new Float32Array(_0x4a6200);_0x3a6586['set'](_0x5772ef,0xfc7*-0x1+0x5*0x45d+-0x60a*0x1),_0x3a6586['set'](_0x4ffb32,_0x5772ef['length']),_0x470f15[_0xec3df3]=_0x3a6586;}}}}const _0x365027={};Object['keys'](_0x470f15)['forEach'](_0xe4c4aa=>{_0x365027[_0xe4c4aa]=new Float32Array(_0x470f15[_0xe4c4aa]['buffer']['slice']());});const _0x414ed4=Object['keys'](_0x365027)['map'](_0x35adea=>_0x365027[_0x35adea]['buffer']),_0x2de76c=_0x538aa8(),_0x1dbfc2=Object['keys'](_0x2de76c)['map'](_0x3d8d64=>_0x2de76c[_0x3d8d64]['buffer']);self['postMessag'+'e']({'type':'newAppendD'+'ata','properties':_0x365027,'transformData':_0x2de76c},_0x414ed4['concat'](_0x1dbfc2));},_0x538aa8=()=>{const _0x4ac34f=_0x470f15['x']['length'],_0x5610b3=_0x470f15['x'],_0x222837=_0x470f15['y'],_0x3677e7=_0x470f15['z'],_0x4d8e65=_0x470f15['scale_0'],_0xf371e5=_0x470f15['scale_1'],_0x3e4818=_0x470f15['scale_2'],_0x527b29=_0x470f15['rot_1'],_0x4d7d88=_0x470f15['rot_2'],_0x9c452=_0x470f15['rot_3'],_0x47c736=_0x470f15['rot_0'],_0x14b352=_0x470f15['motion_0'],_0x2d55eb=_0x470f15['motion_1'],_0x508f73=_0x470f15['motion_2'],_0x2b9369=_0x470f15['t'],_0x146aa7=_0x470f15['t_scale'],_0x20982e=_0x470f15['time_index'],_0x3bc32e=_0x470f15['f_dc_0'],_0x24fcf6=_0x470f15['f_dc_1'],_0x379f4d=_0x470f15['f_dc_2'],_0x17d78c=_0x470f15['opacity'],_0x81aa7=(_0x2b9369==null?void(-0x1743+-0x2608+0x47*0xdd):_0x2b9369['length'])>-0xad+0x2c*-0xe1+0x2759,_0x300879=new Float32Array(_0x4ac34f*(0x1f*-0xcf+-0x10+0xc92*0x2)),_0xf785a8=new Float32Array(_0x4ac34f*(0x172*0x17+0x13eb+-0x3526)),_0xaa8dfc=new Uint16Array(_0x4ac34f*(0x26f7+0xe0a+-0x34fe)),_0x176add=new Float32Array(_0x4ac34f*(0x68e+0x9ed+0x8*-0x20f));let _0x1390d1=null,_0x3bad56=null,_0x112eef=null,_0x135d33=null;_0x81aa7&&(_0x1390d1=new Float32Array(_0x4ac34f*(0x104f*-0x1+-0x2*-0x399+-0x8*-0x124)),_0x3bad56=new Float32Array(_0x4ac34f*(0x1029+0x2f8+0x131e*-0x1)),_0x112eef=new Float32Array(_0x4ac34f*(-0x1*-0x6d5+0x1*-0x19ef+-0x7*-0x2bb)),_0x135d33=new Float32Array(_0x4ac34f));const _0x19bfd0=new _0x988f9d(0x22*-0x74+-0x11a7+0x1f*0x111,0x1*0x16c3+-0x178+-0x1*0x154b,0x1fa5*0x1+0x2296+0x1*-0x423b,-0x2f6*0x3+0x17cb+-0xee9*0x1);let _0x3e7ddd=0xb25*0x2+-0xde2*0x2+0x57a,_0xb1670=-0x2*-0xddb+-0x131*0x7+-0x135f,_0xd64cd8=0xc99+0x26d+0xf06*-0x1,_0x282da1=-0xad6+-0x1*-0xecc+-0x3f6,_0xc2836d=0xba9+-0x1*-0x22b7+-0x2e60,_0x56e1e1=-0x1*-0x1381+-0xa30+-0x2d*0x35,_0x424103=!(0x1172+0x21e4+-0x19ab*0x2);const _0x53ba54=new Float32Array(-0xb8a+0x1d*-0x82+-0x3c1*-0x7),_0x13c5c2=new Float32Array(0x5b3*-0x3+0x14de+-0xd*0x4a),_0x518e59=new Uint16Array(_0x4ac34f*(-0x1b3e+-0x19*0x79+-0x7*-0x595)),_0x507fe4=0x165b*-0x1+0x143d+-0x1*-0x21e+0.28209479177387814;for(let _0x44544e=-0x255d+0xdc6+-0xb7*-0x21;_0x44544e<_0x4ac34f;++_0x44544e){const _0x95d4c6=_0x3bc32e[_0x44544e]*_0x507fe4+(-0x1c63+-0x38c+-0x3*-0xaa5+0.5),_0x455a01=_0x24fcf6[_0x44544e]*_0x507fe4+(-0x1c9a+-0x1a5f*-0x1+0x23b+0.5),_0x33c3b3=_0x379f4d[_0x44544e]*_0x507fe4+(-0x98f*-0x1+0x1484+0x1*-0x1e13+0.5),_0xbde21e=_0x17d78c[_0x44544e];_0x518e59[_0x44544e*(-0x3*-0x659+-0x2*-0x920+-0x2547)+(0xdd1+-0x72a+-0x6a7)]=_0x561676(_0x95d4c6),_0x518e59[_0x44544e*(-0x129f*0x1+0x29*-0x65+-0x1168*-0x2)+(0x30b*-0xc+-0x170f+0x3b94)]=_0x561676(_0x455a01),_0x518e59[_0x44544e*(0x97b*-0x3+-0x8fc+0x429*0x9)+(0x122f*0x1+0x195a+-0x2b87)]=_0x561676(_0x33c3b3),_0x518e59[_0x44544e*(0xd52*0x1+-0x1380+0x632)+(-0x727+-0x5*0x25b+0x12f1)]=_0x561676(_0xbde21e);const _0x163d8f=_0x5610b3[_0x44544e],_0x2a448b=_0x222837[_0x44544e],_0x25b08f=_0x3677e7[_0x44544e],_0x233045=Math['max'](_0x4d8e65[_0x44544e],_0xf371e5[_0x44544e],_0x3e4818[_0x44544e]);if(isFinite(_0x163d8f)&&isFinite(_0x2a448b)&&isFinite(_0x25b08f)&&isFinite(_0x233045)){const _0x196d63=(0x94f*-0x1+-0x3*-0xb9d+-0x1986)*Math['exp'](_0x233045);_0x424103?(_0x424103=!(0x259*-0x3+0x13f*0x13+-0x10a1),_0x3e7ddd=_0x163d8f-_0x196d63,_0xb1670=_0x2a448b-_0x196d63,_0xd64cd8=_0x25b08f-_0x196d63,_0x282da1=_0x163d8f+_0x196d63,_0xc2836d=_0x2a448b+_0x196d63,_0x56e1e1=_0x25b08f+_0x196d63):(_0x3e7ddd=Math['min'](_0x3e7ddd,_0x163d8f-_0x196d63),_0xb1670=Math['min'](_0xb1670,_0x2a448b-_0x196d63),_0xd64cd8=Math['min'](_0xd64cd8,_0x25b08f-_0x196d63),_0x282da1=Math['max'](_0x282da1,_0x163d8f+_0x196d63),_0xc2836d=Math['max'](_0xc2836d,_0x2a448b+_0x196d63),_0x56e1e1=Math['max'](_0x56e1e1,_0x25b08f+_0x196d63));}_0x19bfd0['set'](_0x527b29[_0x44544e],_0x4d7d88[_0x44544e],_0x9c452[_0x44544e],_0x47c736[_0x44544e]),_0x19bfd0['normalize'](),_0x19bfd0['w']<0x1905+-0x59*-0x3d+0x61*-0x7a&&_0x19bfd0['mulScalar'](-(-0x149c+0x2*0x123c+-0xfdb)),_0xf785a8[_0x44544e*(0x1*0x1b08+-0x1444+-0x6c1)+(0x36*-0x51+-0x1*-0x22e+0xee8)]=_0x5610b3[_0x44544e],_0xf785a8[_0x44544e*(-0x4ea*-0x2+0x7d9*0x4+-0x2935)+(0x1*0x99+-0x60*0x2e+0x10a8)]=_0x222837[_0x44544e],_0xf785a8[_0x44544e*(0x2*0xe5d+-0x15a0+-0x717)+(-0x1*0x1543+-0x1bb1+-0x3*-0x1052)]=_0x3677e7[_0x44544e],_0x300879[_0x44544e*(-0x4*0x19+-0xa2e+0xa95)+(0x1*-0xf1b+0x9*0x1bc+-0x81)]=_0x5610b3[_0x44544e],_0x300879[_0x44544e*(-0x5*0x4e5+-0x19f*-0x13+-0xb*0x93)+(0x3f3+0x21f8+-0x25ea)]=_0x222837[_0x44544e],_0x300879[_0x44544e*(-0x2182+0x556+-0xd*-0x22b)+(0x5*-0x38b+-0xf43*0x1+-0x83f*-0x4)]=_0x3677e7[_0x44544e],_0xaa8dfc[_0x44544e*(-0xc8e*0x3+0xe*-0x5d+0x2ac3)+(-0xe35+0x2f9*-0x7+0x2304)]=_0x561676(Math['exp'](_0x4d8e65[_0x44544e])),_0xaa8dfc[_0x44544e*(0x1931+-0x1*0x414+-0xa8d*0x2)+(-0x16b*-0x2+-0x1adb+0x19*0xf6)]=_0x561676(Math['exp'](_0xf371e5[_0x44544e])),_0xaa8dfc[_0x44544e*(0x1c0c+-0x29*-0x61+-0x2b92)+(0x123f+-0x4b*0x5a+-0x1*-0x821)]=_0x561676(Math['exp'](_0x3e4818[_0x44544e])),_0x176add[_0x44544e*(0x22e0+-0x63*-0x5a+-0x1b3*0x29)+(0x2*0x3+0x1a*0x56+0x1*-0x8c2)]=_0x19bfd0['x'],_0x176add[_0x44544e*(-0x4d*-0xd+-0x13*-0x179+-0x1fe1)+(-0x134+-0xfe1+-0x9*-0x1e6)]=_0x19bfd0['y'],_0x176add[_0x44544e*(0x1cab+-0x1*-0x2702+-0x2*0x21d5)+(0x1f*-0xbf+-0x2564+-0xf*-0x409)]=_0x19bfd0['z'],_0x81aa7&&_0x1390d1&&_0x3bad56&&_0x112eef&&_0x135d33&&(_0x1390d1[_0x44544e*(0x3d*-0x2c+-0x369+0xde8)+(0x1629+0x12e4+-0x290d)]=_0x14b352[_0x44544e],_0x1390d1[_0x44544e*(0x3a*-0x91+0x13e3+0xcfa)+(0x2*-0xa92+0x5*0x105+0x100c)]=_0x2d55eb[_0x44544e],_0x1390d1[_0x44544e*(-0x15de*0x1+0x1a33+-0x452)+(0x1*-0x6f7+0x6*-0x2ad+0x1707)]=_0x508f73[_0x44544e],_0x112eef[_0x44544e*(-0x15a6+0x19d5*-0x1+0x2f7e)+(0x2*-0xc75+-0x1*0x267d+0x3f67)]=_0x14b352[_0x44544e],_0x112eef[_0x44544e*(0x205*0x4+-0x265e+0x1*0x1e4d)+(-0x1d92+0x1d11+0x82*0x1)]=_0x2d55eb[_0x44544e],_0x112eef[_0x44544e*(-0x1d7f+-0x1*0x158f+-0x301*-0x11)+(0x195a+-0x232d+0x9d5*0x1)]=_0x508f73[_0x44544e],_0x135d33[_0x44544e]=_0x146aa7?Math['exp'](_0x146aa7[_0x44544e]):-0x259*0xe+-0x1308+0x76a*0x7,_0x3bad56[_0x44544e*(0xfb1+0xb1b*-0x1+-0x493)+(0x1ff*-0x11+-0x9f5*-0x2+0x25*0x61)]=_0x2b9369?_0x2b9369[_0x44544e]:0x26c*0x4+-0x15*-0x11d+-0x5*0x69d,_0x3bad56[_0x44544e*(-0x24c8+0x1*0x1c13+0x8b8)+(0x1d0d+-0x1a*-0x176+0x1b8*-0x27)]=_0x135d33[_0x44544e]);}_0x424103||(_0x53ba54[-0x209e+-0x9ec+0x2a8a]=(_0x3e7ddd+_0x282da1)*(-0xe84*-0x1+-0x1ea9*-0x1+-0x2d2d+0.5),_0x53ba54[0x1087*0x1+0x1922+0x29a8*-0x1]=(_0xb1670+_0xc2836d)*(-0x1*0x8fa+-0xf5*-0x17+-0xd09+0.5),_0x53ba54[-0x1*0x1781+0x1004+0x77f]=(_0xd64cd8+_0x56e1e1)*(-0x164c+-0xe59+0x35*0xb1+0.5),_0x13c5c2[-0x23d*-0xd+-0x1ab9+0x98*-0x4]=(_0x282da1-_0x3e7ddd)*(-0x21f5*-0x1+-0x517*-0x3+0x2*-0x189d+0.5),_0x13c5c2[-0x1b34+0x5*0x3ee+0x5*0x183]=(_0xc2836d-_0xb1670)*(0x1eb2*0x1+-0xfa1+0x7*-0x227+0.5),_0x13c5c2[-0x23*-0xb6+-0x1*-0x1fcf+0x819*-0x7]=(_0x56e1e1-_0xd64cd8)*(0x1c9+0xe71+-0x103a+0.5));const _0x55e3c6=_0x293bd2();let _0x466404={'dataColor':_0x518e59,'center':_0x53ba54,'halfExtents':_0x13c5c2,'dataCenters':_0x300879,'dataPosition':_0xf785a8,'dataScale':_0xaa8dfc,'dataRotation':_0x176add,..._0x55e3c6};return _0x81aa7&&(_0x466404={..._0x466404,'dataMotion':_0x1390d1,'dataTime':_0x3bad56,'motion':_0x112eef,'tScaleArray':_0x135d33,'muT':new Float32Array(_0x2b9369),'timeIndex':new Float32Array(_0x20982e)}),_0x466404;},_0xc75e54=_0xa61bf9=>{const _0x5098f8=[];for(let _0x1a72dc=0xa5c+0x1286*0x1+-0x2*0xe71;_0x1a72dc<_0xa61bf9;++_0x1a72dc)_0x5098f8['push'](_0x470f15['f_rest_'+_0x1a72dc]);return _0x5098f8;},_0x293bd2=()=>{const _0x3b8225=_0x1b4463();if(_0x3b8225<=-0x235e+-0x186c+-0x3bca*-0x1)return{};const _0x5a159f=_0x470f15['x']['length'],_0x5079a4=new Uint32Array(_0x5a159f*(-0x3d7*0x6+-0x1033+0x305*0xd)),_0x536271=new Uint32Array(_0x5a159f*(0x523*0x6+-0x16e1*-0x1+-0x35af)),_0x2893cb=new Uint32Array(_0x5a159f*(-0x1*-0x1de5+0x2197+-0x3f78)),_0x2c398a=new Uint32Array(_0x5a159f*(-0x2367+0x2*-0xbe6+0x3b37)),_0x351220={0x1:0x3,0x2:0x8,0x3:0xf}[_0x3b8225],_0x5384f6=_0xc75e54(_0x351220*(0x155c+-0x1ed8+0x97f)),_0x5c6635=0x1760+-0x8a2+-0x6bf,_0x1c4499=0x164c+0x11b*-0x23+-0x74*-0x2d,_0x692e47=new Float32Array(0x245a+-0x770+-0x1ce9*0x1),_0x28c620=new Uint32Array(_0x692e47['buffer']),_0x1518e8=new Array(_0x351220*(-0x1742+-0x19fd*0x1+0xc2*0x41))['fill'](-0x720+-0x112d+0x184d);for(let _0x1ae1f8=-0x1*0x1af8+-0x41*0x9+0x1d41;_0x1ae1f8<_0x5a159f;++_0x1ae1f8){for(let _0x8634e4=0x3ca+-0x1d4b+-0x1*-0x1981;_0x8634e4<_0x351220;++_0x8634e4)_0x1518e8[_0x8634e4*(0x2*-0xa30+-0x4*-0x109+0x103f)]=_0x5384f6[_0x8634e4][_0x1ae1f8],_0x1518e8[_0x8634e4*(-0x59*0x6d+-0xe81+-0x3469*-0x1)+(-0xf*0x1d9+-0xeb*0x27+0x3f85)]=_0x5384f6[_0x8634e4+_0x351220][_0x1ae1f8],_0x1518e8[_0x8634e4*(0x1fe2+0x1c0b*0x1+0x1df5*-0x2)+(-0xdf*-0x1b+0x23cd+-0x3b50)]=_0x5384f6[_0x8634e4+_0x351220*(0x43*-0x2f+0x7d+-0xb2*-0x11)][_0x1ae1f8];let _0x5eac64=_0x1518e8[0x19d4+-0xda2+-0xc32];for(let _0x167dda=-0x7*-0x7f+0x427*0x1+-0x79f;_0x167dda<_0x351220*(-0x35*-0x9d+0x1c6b+-0x1*0x3ce9);++_0x167dda)_0x5eac64=Math['max'](_0x5eac64,Math['abs'](_0x1518e8[_0x167dda]));if(_0x5eac64!==-0xc2d*-0x3+0xc4b+-0x30d2){for(let _0x3b7041=-0x106b+0x1*-0x14e4+0x1*0x254f;_0x3b7041<_0x351220;++_0x3b7041)_0x1518e8[_0x3b7041*(-0x13*-0x10b+-0x19*0x139+0xac3)+(-0x1d35*-0x1+0x1873+-0x22*0x194)]=Math['max'](0x8e*-0x3c+-0x26a8+0x47f0,Math['min'](_0x5c6635,Math['floor']((_0x1518e8[_0x3b7041*(-0x6*-0xa7+0x1*0x482+-0x869)+(0x1a52+-0x1eac+0x45a)]/_0x5eac64*(-0x7*-0x21f+0xdc0+-0x1*0x1c99+0.5)+(-0x1*-0x1e23+0x32b*-0x7+-0x7f6+0.5))*_0x5c6635+(0x1197*0x1+-0x1b2f+0x4*0x266+0.5)))),_0x1518e8[_0x3b7041*(-0x2396+0x5*0x164+0x1ca5)+(-0x471*-0x4+0x1165+0x465*-0x8)]=Math['max'](-0x119*-0x9+-0x1832+0xe51*0x1,Math['min'](_0x1c4499,Math['floor']((_0x1518e8[_0x3b7041*(0x40d+0x94d+-0xd57)+(0x7*0x2f8+0x1f71+-0x3438)]/_0x5eac64*(0xda*0xa+0x305+0x1*-0xb89+0.5)+(0x1*0xbd9+-0x1fe8+0x4f*0x41+0.5))*_0x1c4499+(-0xa28+-0x203f*0x1+-0x1*-0x2a67+0.5)))),_0x1518e8[_0x3b7041*(-0xa32*-0x3+-0x11f8+-0xc9b)+(0x1a5*-0x4+0x18e8+-0x1252)]=Math['max'](-0x939+-0x2*-0xa1f+-0xb05,Math['min'](_0x5c6635,Math['floor']((_0x1518e8[_0x3b7041*(-0x1ba6+0x1*-0x76f+-0x4*-0x8c6)+(-0x61b*-0x1+0x13fe+-0x1a17*0x1)]/_0x5eac64*(0x1087*-0x2+0x24f1+-0x3e3+0.5)+(-0x1d*0x14a+0x1ab*0xd+0x1*0xfb3+0.5))*_0x5c6635+(-0x42c+-0xa1*0x2+0x56e+0.5))));_0x692e47[0x20*0x11a+-0xb98+0x2*-0xbd4]=_0x5eac64,_0x5079a4[_0x1ae1f8*(-0x169+-0x47*0x57+0x198e)+(-0x26f4+0x1*0xcfb+-0x6d*-0x3d)]=_0x28c620[0x1140+0x29*0xe2+0x3572*-0x1],_0x5079a4[_0x1ae1f8*(0x11ce+0x1*0x5ab+-0x1775)+(0x10*0xe6+0x1986+-0x27e5)]=_0x1518e8[0x1*-0x191e+-0x2063*-0x1+0x745*-0x1]<<-0xfff+0x268f*-0x1+-0x1*-0x36a3|_0x1518e8[-0x1*-0x1361+0x11ed*0x1+0x254d*-0x1]<<0x5*0x35+0xd06*-0x2+0x190e|_0x1518e8[-0x239f+0x296*-0x5+0x308f],_0x5079a4[_0x1ae1f8*(0x1*0xd84+-0x168e+-0x1*-0x90e)+(0x24e3+-0x59*0x1a+-0x1*0x1bd7)]=_0x1518e8[-0x1*0x1b59+0x2363+-0x807]<<-0x2a1*0x1+0x1c8d*-0x1+0x1f43|_0x1518e8[-0xceb+-0x1e9a+0x2b89]<<-0x3f4+-0x1*-0xfb5+-0x2*0x5db|_0x1518e8[0x1*-0x2707+0x1f93+0x779],_0x5079a4[_0x1ae1f8*(-0x799*-0x3+0x1a*0x9d+-0x26b9)+(-0x1*0x1573+0x1*-0x1a09+-0x243*-0x15)]=_0x1518e8[-0x1*0x20ef+-0xb*0x17a+-0x1*-0x3133]<<0x1489+-0x71*0x3d+-0x1*-0x679|_0x1518e8[-0x2*-0x55d+0x25be+0x3071*-0x1]<<0x3*0x5d3+0x171b+0x2889*-0x1|_0x1518e8[0x242a+0x9d*-0x1+-0x1*0x2385],_0x3b8225>0x4*-0x68c+0x290+0x17a1*0x1&&(_0x536271[_0x1ae1f8*(0x8*-0x1cc+0x187a*-0x1+0x26de)+(0x12e8+-0x33d+-0xfab)]=_0x1518e8[0x7d5+-0x1*-0x1d4d+-0x2519]<<0x293*-0x4+0x2617+-0x1bb6|_0x1518e8[-0x1*0xe39+0x59*0x10+0x8b3]<<0xb*-0x36+0x18f6+-0x1699|_0x1518e8[-0xd96+0x37d+0xa24],_0x536271[_0x1ae1f8*(0xc89*0x2+-0x1566+0xea*-0x4)+(0x1*0x10d9+-0x1*0x1571+0x6b*0xb)]=_0x1518e8[0x1101+-0x1*-0x1b83+-0x58f*0x8]<<0x4*0x62+0x1*0x1fcd+0x38*-0x98|_0x1518e8[-0x1029+-0x1bef+-0x3*-0xeb7]<<-0x2707*-0x1+-0x11*0xe6+-0x17b6|_0x1518e8[-0x1*0x106c+0x12ab+-0x3*0xbb],_0x536271[_0x1ae1f8*(-0x1feb+0x1795*0x1+-0x42d*-0x2)+(0x2*0x11a4+0x41f*-0x6+-0x2d*0x3c)]=_0x1518e8[0xa3*-0x1f+0x842+0xb8a]<<-0x16e0+-0xbe8+-0x253*-0xf|_0x1518e8[-0x26b*-0x1+-0x73a+-0x4df*-0x1]<<-0x7d7+-0xd*0x6+-0x8*-0x106|_0x1518e8[-0x4a5*0x1+0x1cd6+0x608*-0x4],_0x536271[_0x1ae1f8*(0xce3*-0x2+0x1d6e*0x1+0x4*-0xe9)+(0x2*0x1011+0x78d+-0x13d6*0x2)]=_0x1518e8[0x1b6a+0x1dd9+-0x3931]<<-0x1*-0x1e29+-0x837+-0x15dd*0x1|_0x1518e8[-0x13ce+0xa*-0xd4+0x9*0x321]<<-0x1*-0x19e7+-0x8d3*-0x2+-0x2b82|_0x1518e8[-0x1*-0x199c+-0x1382+0x202*-0x3],_0x3b8225>-0x1*0x2069+0x10b7+0xfb4?(_0x2893cb[_0x1ae1f8*(-0x1*0x13a5+-0x1d02+-0x1039*-0x3)+(0x6c*0x32+0x1*-0x669+0xeaf*-0x1)]=_0x1518e8[0x1a2d+0x10a8+-0x2ac0]<<0x23fd+0x1*-0x221b+0x1*-0x1cd|_0x1518e8[-0x1803+0x1f7*-0x13+0x3d6e]<<-0xe87+-0x261a+0x34ac|_0x1518e8[-0x18b8+0x1483+0x2*0x226],_0x2893cb[_0x1ae1f8*(-0x65*-0x25+-0xad*-0x8+-0x13fd)+(0x1add+-0x895*-0x1+-0x2371)]=_0x1518e8[0xf28+0x374*-0xb+0x16ec]<<0x241f+0xe9*0x2+-0x25dc|_0x1518e8[0x26d1+0x11cc+0x4*-0xe21]<<0x12d6+-0x2533+-0x24d*-0x8|_0x1518e8[0xc74+0x1bb6*0x1+0x8*-0x502],_0x2893cb[_0x1ae1f8*(0x6e*0xf+0x9e*-0x1d+-0x5bc*-0x2)+(0x62*-0x65+0x767+0x1f45)]=_0x1518e8[0xc7f+0x76*-0x28+0x60c]<<-0xa2a*-0x1+-0xa77+0x62|_0x1518e8[-0x21b9+0xe8f+-0x1346*-0x1]<<0x9a3+-0x1c*0x79+0x3a4*0x1|_0x1518e8[-0x1*0x1da+0x11*0x2b+-0x39*0x4],_0x2893cb[_0x1ae1f8*(0x416*-0x2+-0x308*0x2+-0x60*-0x26)+(-0x220d+-0x13f*-0x1+-0x20d1*-0x1)]=_0x1518e8[0x2*0x887+0x1*-0xb42+-0x5ae]<<0xd7*-0xa+0x2f*-0xa4+0x2697|_0x1518e8[-0x5bf+-0x9*0x403+-0x23*-0x133]<<-0x3ae*0x1+-0x1675*-0x1+-0x12bc|_0x1518e8[-0x9fc*-0x1+0xb*-0x231+0xe3f],_0x2c398a[_0x1ae1f8*(-0xc6f+0xe98+-0x225)+(-0x1*-0x176b+0x5*0x239+0x154*-0x1a)]=_0x1518e8[0x1ab1+0x449+-0x1ed9]<<-0x17d8+0x7cc*0x2+-0x2c7*-0x3|_0x1518e8[-0x25*-0x4d+0x1125+-0x1c24]<<0x8ad+-0x1597*-0x1+0xa13*-0x3|_0x1518e8[0x4*-0x886+0x14e7*0x1+0xd54],_0x2c398a[_0x1ae1f8*(-0x1d4c+-0x495*-0x1+0xd*0x1e7)+(0x15d*0x7+0x22c3+-0x2c4d*0x1)]=_0x1518e8[0x2483*-0x1+0xd45+-0x49*-0x52]<<0xa05+0x26*0x92+-0x1f9c|_0x1518e8[0x1*-0x1f19+-0x9ac+0x28ea]<<0x1*0x1bde+0x1033+0x17*-0x1ea|_0x1518e8[0x108d+-0x1*-0x1ab6+0x2b1d*-0x1],_0x2c398a[_0x1ae1f8*(-0x1*0xe71+-0x33*-0x6c+-0x70f)+(0x35*-0x65+-0x19c3+0x2eae)]=_0x1518e8[0x7af+-0x67f*-0x2+0x25*-0x8e]<<0x19b5*-0x1+0x3d7*0x1+0x751*0x3|_0x1518e8[0x1a39+0x1d90+-0x37a1]<<0xf9+0x2*-0x1277+0xc0*0x30|_0x1518e8[0x1*0x9ac+0x3*-0x694+0xa39],_0x2c398a[_0x1ae1f8*(0x209b+0x3*0x103+-0x23a0)+(-0x1f3d+-0xf7a*0x1+0x2eba)]=_0x1518e8[-0xc0f*0x3+-0xfd3*0x2+-0x5*-0xd99]<<-0x284+0x1b91*0x1+0x44*-0x5e|_0x1518e8[-0xf1b+-0x8b*0x2d+0x27b5]<<-0x25ac+0x46*0x47+0x1*0x124d|_0x1518e8[-0xe1b*0x2+-0x1d1*-0x3+0x39*0x67]):_0x2893cb[_0x1ae1f8]=_0x1518e8[0x22c+-0x11*0x29+0xa2]<<0x216+0x407*0x1+-0x608*0x1|_0x1518e8[-0x1700+-0x1847+0x2f5d]<<-0xef*-0x11+0x18f0+-0xa31*0x4|_0x1518e8[0x71*-0x2b+0xc0e+0x704]);}}return{'sh1to3Data':_0x5079a4,'sh4to7Data':_0x536271,'sh8to11Data':_0x2893cb,'sh12to15Data':_0x2c398a};},_0x54a3de=_0x1d0658=>{if(!_0x470f15['time_index'])return;const _0x2076b3=_0x470f15['time_index']['findIndex'](_0x56ea45=>_0x56ea45===_0x1d0658);let _0x41e369=_0x470f15['time_index']['findIndex']((_0x52bc58,_0x3509de)=>_0x52bc58!==_0x1d0658&&_0x3509de>_0x2076b3);if(_0x41e369===-(-0x1018+0x3*-0x93+0x2*0x8e9)&&_0x2076b3===-(-0x883+-0x1c9e+0x2522))return;_0x41e369===-(-0x13a9*-0x1+-0xe*0x147+-0x1c6)&&_0x2076b3!==-(0x1*0x1db7+0x284*-0xf+0x806)&&(_0x41e369=_0x470f15['time_index']['length']),_0x4a6200-=_0x41e369-_0x2076b3;const _0x157ac2=Object['keys'](_0x470f15);for(let _0xfdf1d1=0x9*0x10d+-0x923*-0x3+-0x8f*0x42;_0xfdf1d1<_0x157ac2['length'];_0xfdf1d1++){const _0x4e11a1=_0x157ac2[_0xfdf1d1],_0xa3426c=_0x470f15[_0x4e11a1];if(_0xa3426c){const _0x3c6828=new Float32Array(_0x4a6200);_0x2076b3>0x1320+-0x888+0x153*-0x8?(_0x3c6828['set'](_0xa3426c['subarray'](-0x165f+-0x10*-0x9e+0xc7f,_0x2076b3),0xa57*0x2+0x1*0x229f+0x507*-0xb),_0x3c6828['set'](_0xa3426c['subarray'](_0x41e369),_0x2076b3)):_0x3c6828['set'](_0xa3426c['subarray'](_0x41e369),-0xeed+-0x1f4*-0x1+0xcf9),_0x470f15[_0x4e11a1]=_0x3c6828;}}},_0x25a1b2=()=>{const _0x5abfe7=Object['keys'](_0x470f15);for(let _0x12cfb5=0x1*0x148+-0xd*0xe9+-0x25*-0x49;_0x12cfb5<_0x5abfe7['length'];_0x12cfb5++){const _0x15c011=_0x5abfe7[_0x12cfb5];_0x470f15[_0x15c011]&&(_0x470f15[_0x15c011]=[]);}},_0x323955=()=>{_0x470f15={},_0x4a6200=0x1844+-0x9a5+0xe9f*-0x1;};}class YA extends me{constructor(){super(),this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+jA['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}async['appendGSpl'+'atData'](_0x1cd2de,_0xb6588d,_0x5e9d39,_0x4e3055=!(0x238e+-0x3bb+-0x1fd2*0x1)){var _0x58b7ff,_0x3dc158;const _0x169655={};return _0x1cd2de['elements'][-0x1*-0x1e95+0x4d*0x73+0x2b*-0x184]['properties']['forEach'](_0x42a171=>{_0x169655[_0x42a171['name']]=_0x42a171['storage'];}),_0x4e3055?(_0x58b7ff=this['worker'])==null||_0x58b7ff['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x169655,'timeIndex':_0xb6588d,'timeOption':_0x5e9d39},_0x1cd2de['elements'][0x24a4+0x13*-0x1f3+-0x65*-0x1]['properties']['map'](_0x1a1878=>_0x1a1878['storage']['buffer'])):(_0x3dc158=this['worker'])==null||_0x3dc158['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x169655,'timeIndex':_0xb6588d,'timeOption':_0x5e9d39}),new Promise(_0x23fa4f=>{this['worker']['onmessage']=_0x595fd4=>{if(!this['worker'])return;const {data:_0x24947f}=_0x595fd4;_0x24947f['type']==='newAppendD'+'ata'&&_0x23fa4f(_0x24947f);};});}async['releaseSeq'+'Data'](_0x5b4b99){var _0x17ad3f;(_0x17ad3f=this['worker'])==null||_0x17ad3f['postMessag'+'e']({'type':'releaseSeq'+'Data','index':_0x5b4b99});}async['releaseAll'+'SeqData'](){var _0x27712d;(_0x27712d=this['worker'])==null||_0x27712d['postMessag'+'e']({'type':'releaseAll'+'SeqData'});}['destroy'](){var _0x2a9e15;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x2a9e15=this['worker'])==null||_0x2a9e15['terminate'](),this['worker']=null);}}const za=new te(),pg=new le(),yf=new De(),mg=new De(),KA=new ie(-0xda*-0x1+0xf9f+-0x1078,0x672+-0x1688+0x1*0x1017,0x12d*-0x7+0x59*-0x5+-0x2c*-0x3a,0x1*-0x10a2+-0x14f6*0x1+0x2598+0.4),vf=0xfc*0x1a+-0xb*0x23b+-0x10f+0.28209479177387814,xf=-0x56841+0xcdb3+0xa*0xc3fb;let ZA=class{constructor(_0x3e6707,_0x51867f,_0x489a0c,_0x240dcc,_0x3bf152,_0x290da8){const _0x1ee62e=_0x3e6707['getProp']('x'),_0x1e27fc=_0x3e6707['getProp']('y'),_0x5e397e=_0x3e6707['getProp']('z'),_0x90f672=_0x3e6707['getProp']('rot_1'),_0x280bd0=_0x3e6707['getProp']('rot_2'),_0x140ac4=_0x3e6707['getProp']('rot_3'),_0x3d2be2=_0x3e6707['getProp']('rot_0'),_0x1f7dd9=_0x3e6707['getProp']('motion_0'),_0x56c8ba=_0x3e6707['getProp']('motion_1'),_0x22086f=_0x3e6707['getProp']('motion_2'),_0x2fa341=_0x3e6707['getProp']('scale_0'),_0x2d8378=_0x3e6707['getProp']('scale_1'),_0x33ddff=_0x3e6707['getProp']('scale_2'),_0x28ac3b=_0x3e6707['getProp']('f_dc_0'),_0x42a2a6=_0x3e6707['getProp']('f_dc_1'),_0x58c56f=_0x3e6707['getProp']('f_dc_2'),_0x1dfd43=_0x3e6707['getProp']('opacity');this['read']=_0x53afb6=>{_0x51867f&&(_0x51867f['x']=_0x1ee62e[_0x53afb6],_0x51867f['y']=_0x1e27fc[_0x53afb6],_0x51867f['z']=_0x5e397e[_0x53afb6]),_0x489a0c&&_0x489a0c['set'](_0x90f672[_0x53afb6],_0x280bd0[_0x53afb6],_0x140ac4[_0x53afb6],_0x3d2be2[_0x53afb6]),_0x240dcc&&_0x240dcc['set'](Math['exp'](_0x2fa341[_0x53afb6]),Math['exp'](_0x2d8378[_0x53afb6]),Math['exp'](_0x33ddff[_0x53afb6])),_0x290da8&&_0x1f7dd9&&_0x290da8['set'](_0x1f7dd9[_0x53afb6],_0x56c8ba[_0x53afb6],_0x22086f[_0x53afb6]),_0x3bf152&&_0x3bf152['set'](-0x935*-0x2+0xc+-0x1276+0.5+_0x28ac3b[_0x53afb6]*vf,0x865+0x1*0x22d9+0x6*-0x735+0.5+_0x42a2a6[_0x53afb6]*vf,-0x2020+-0x26e5+0x4705+0.5+_0x58c56f[_0x53afb6]*vf,_0x1dfd43[_0x53afb6]);};}};const _g=(_0x3770b0,_0x26ae3a,_0x476d5b)=>{pg['set'](_0x476d5b['x'],_0x476d5b['y'],_0x476d5b['z'],_0x476d5b['w'])['normalize'](),_0x3770b0['setTRS'](_0x26ae3a,pg,D['ONE']);};class qn{constructor(_0x3be6f3,_0x23fc36=[]){h(this,'elements'),h(this,'numSplats',0x30d*-0x2+-0x2497*-0x1+-0x1e7d*0x1),h(this,'comments'),h(this,'is4D'),h(this,'dataWorker'),h(this,'destroy',()=>{var _0x52ad45;(_0x52ad45=this['dataWorker'])==null||_0x52ad45['destroy'](),this['dataWorker']=null;});var _0x16d9eb,_0x3433eb,_0x13fcaa;this['elements']=_0x3be6f3,this['numSplats']=((_0x16d9eb=this['getElement']('vertex'))==null?void(0x6dc+0x2*-0x6a3+0x66a):_0x16d9eb['count'])??0x3*0xb40+-0x2*-0x12b2+-0x4724,this['comments']=_0x23fc36,this['is4D']=!!((_0x13fcaa=(_0x3433eb=this['getElement']('vertex'))==null?void(0x14a1+0x101*-0xb+-0x996):_0x3433eb['properties']['find'](_0x4c3fd9=>_0x4c3fd9['name']==='t'))!=null&&_0x13fcaa['storage']);}async['appendGSpl'+'atData'](_0x50fb3f,_0x6e2d97,_0x478911){var _0x5469a8;let _0x4eccb4=-0x910+-0x1079+0x1989;for(let _0x2dd56b=0x1*0x2275+-0x243c+0x23*0xd;_0x2dd56b<_0x478911['length']&&_0x6e2d97>_0x478911[_0x2dd56b];_0x2dd56b+=0x1*-0x346+0x1e93+-0x33*0x89)_0x4eccb4=_0x2dd56b/(-0x1dd7+-0x8*0xf4+0x2579);console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20appendGSp'+'latData',_0x4eccb4),this['dataWorker']||(this['dataWorker']=new YA(),await this['dataWorker']['appendGSpl'+'atData'](this,-0x952*0x1+0x11*-0x4f+0xb*0x153,_0x478911));const _0x907bc6=this['getElement']('vertex');_0x907bc6&&(_0x907bc6['count']=this['numSplats']);const _0xb096b1=await this['dataWorker']['appendGSpl'+'atData'](_0x50fb3f,_0x4eccb4,_0x478911,!(0x1fce+0x1384+-0x19a9*0x2)),_0x31ff4a=_0xb096b1['properties'],_0x58ea02=((_0x5469a8=this['getElement']('vertex'))==null?void(0x1a95+-0x5d*0x4a+0x4d):_0x5469a8['properties'])??[];for(const _0x277e50 in _0x31ff4a){const _0x2ddfff=_0x58ea02['find'](_0x3364ba=>_0x3364ba['name']===_0x277e50);_0x2ddfff?_0x2ddfff['storage']=_0x31ff4a[_0x277e50]:_0x58ea02['push']({'type':'float','name':_0x277e50,'storage':_0x31ff4a[_0x277e50],'byteSize':0x4});}this['transformD'+'ata']=_0xb096b1['transformD'+'ata'],this['numSplats']=_0x31ff4a['x']['length'],console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20appendGSp'+'latData\x20nu'+'mSplats',this['numSplats']);}async['releaseSeq'+'Data'](_0x1d5cee){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20releaseSe'+'qData',_0x1d5cee),this['dataWorker']['releaseSeq'+'Data'](_0x1d5cee),this;}async['releaseAll'+'SeqData'](){var _0x53419a;return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20release\x20a'+'ll\x20SeqData'),(_0x53419a=this['dataWorker'])==null||_0x53419a['releaseAll'+'SeqData'](),this;}static['calcSplatA'+'abb'](_0x323ff4,_0x1184d7,_0x2efce5,_0x4eddc1){_g(za,_0x1184d7,_0x2efce5),yf['center']['set'](0x10b8+-0x2*0x8d+-0xf9e,-0x37d+-0xa3*0x8+-0x1*-0x895,0xa1*-0x3+-0x146*-0x14+-0x1795),yf['halfExtent'+'s']['set'](_0x4eddc1['x']*(0x115*0xb+-0x3*0x7cd+0x5c1*0x2),_0x4eddc1['y']*(0x16*0x10f+-0x10fb+0x1*-0x64d),_0x4eddc1['z']*(-0xb5f+-0x1016+0x1b77)),_0x323ff4['setFromTra'+'nsformedAa'+'bb'](yf,za);}['getProp'](_0x566913,_0x521eef='vertex'){var _0x3c04bc,_0x23ecea;return(_0x23ecea=(_0x3c04bc=this['getElement'](_0x521eef))==null?void(-0x91e*-0x4+0x2*0xc52+0x3d1c*-0x1):_0x3c04bc['properties']['find'](_0x32d043=>_0x32d043['name']===_0x566913))==null?void(-0x39*-0x42+-0x846+0x66c*-0x1):_0x23ecea['storage'];}['getElement'](_0x50dc40){return this['elements']['find'](_0x55cfdf=>_0x55cfdf['name']===_0x50dc40);}['addProp'](_0x46b883,_0x467905){this['getElement']('vertex')['properties']['push']({'type':'float','name':_0x46b883,'storage':_0x467905,'byteSize':0x4});}['createIter'](_0x47b989,_0xe3e19b,_0x30ac0f,_0x3cef22,_0x271596){return new ZA(this,_0x47b989,_0xe3e19b,_0x30ac0f,_0x3cef22,_0x271596);}async['calcAabbAs'+'ync'](_0x96395,_0x519183){var _0x4adef3,_0x1cbe4d;if((_0x4adef3=this['transformD'+'ata'])!=null&&_0x4adef3['center']&&((_0x1cbe4d=this['transformD'+'ata'])!=null&&_0x1cbe4d['halfExtent'+'s'])){_0x96395['center']['set'](this['transformD'+'ata']['center'][0x1f6*-0x2+-0x63d*-0x6+0x2182*-0x1],this['transformD'+'ata']['center'][0x2c8*-0x4+-0x5*-0x57a+-0x49*0x39],this['transformD'+'ata']['center'][0x22ab+-0x48f+-0x1e1a]),_0x96395['halfExtent'+'s']['set'](this['transformD'+'ata']['halfExtent'+'s'][0xd0e+0x3*0x10d+-0x1035],this['transformD'+'ata']['halfExtent'+'s'][0x1*0x1263+-0x10d+0x105*-0x11],this['transformD'+'ata']['halfExtent'+'s'][-0x3a+0x22d4+-0x2298]);return;}const _0x470fe9=this['getProp']('x'),_0x4da895=this['getProp']('y'),_0x49271d=this['getProp']('z'),_0x6a3c1a=this['getProp']('scale_0'),_0x4a1d70=this['getProp']('scale_1'),_0x54a2d4=this['getProp']('scale_2'),_0x4dea15=await(_0x519183==null?void(0x110d+-0x1*0x1807+0x6fa):_0x519183['calcAabb'](this['numSplats'],_0x470fe9,_0x4da895,_0x49271d,_0x6a3c1a,_0x4a1d70,_0x54a2d4));_0x96395['center']['set'](_0x4dea15['center'][-0x1a82+0x1*-0x21b3+0x3c35],_0x4dea15['center'][-0x6*-0x557+-0x12d6+-0xd33],_0x4dea15['center'][-0x72e+-0x1cd6+0x2406]),_0x96395['halfExtent'+'s']['set'](_0x4dea15['halfExtent'+'s'][0x101b+-0x2*-0x1327+-0x3*0x1223],_0x4dea15['halfExtent'+'s'][-0x638+-0x11*0x1ca+0x1*0x24a3],_0x4dea15['halfExtent'+'s'][-0x5*0x1cf+0x1f8+-0x31*-0x25]);}['calcAabb'](_0x26afaf,_0x2e4871){let _0x1ef205,_0x4977f9,_0x4ed149,_0x38d329,_0x36606a,_0x5b0fc0,_0x19d621=!(-0x157*-0x2+0x657*-0x1+0x3a9);const _0x3ae113=this['getProp']('x'),_0x3ea8cf=this['getProp']('y'),_0x2fb2de=this['getProp']('z'),_0x31e0da=this['getProp']('scale_0'),_0xc207f8=this['getProp']('scale_1'),_0x2cb834=this['getProp']('scale_2');for(let _0x5e6218=0xa9d+-0xf07+-0x1*-0x46a;_0x5e6218<this['numSplats'];++_0x5e6218){if(_0x2e4871&&!_0x2e4871(_0x5e6218))continue;const _0x3706d5=_0x3ae113[_0x5e6218],_0x409990=_0x3ea8cf[_0x5e6218],_0x3e12df=_0x2fb2de[_0x5e6218],_0x32b354=Math['max'](_0x31e0da[_0x5e6218],_0xc207f8[_0x5e6218],_0x2cb834[_0x5e6218]);if(!isFinite(_0x3706d5)||!isFinite(_0x409990)||!isFinite(_0x3e12df)||!isFinite(_0x32b354))continue;const _0xb81e15=(-0x130c+-0x254d+0x385b)*Math['exp'](_0x32b354);_0x19d621?(_0x19d621=!(-0x1336+-0x9*-0x11+0x129e),_0x1ef205=_0x3706d5-_0xb81e15,_0x4977f9=_0x409990-_0xb81e15,_0x4ed149=_0x3e12df-_0xb81e15,_0x38d329=_0x3706d5+_0xb81e15,_0x36606a=_0x409990+_0xb81e15,_0x5b0fc0=_0x3e12df+_0xb81e15):(_0x1ef205=Math['min'](_0x1ef205,_0x3706d5-_0xb81e15),_0x4977f9=Math['min'](_0x4977f9,_0x409990-_0xb81e15),_0x4ed149=Math['min'](_0x4ed149,_0x3e12df-_0xb81e15),_0x38d329=Math['max'](_0x38d329,_0x3706d5+_0xb81e15),_0x36606a=Math['max'](_0x36606a,_0x409990+_0xb81e15),_0x5b0fc0=Math['max'](_0x5b0fc0,_0x3e12df+_0xb81e15));}return _0x19d621||(_0x26afaf['center']['set']((_0x1ef205+_0x38d329)*(-0x12b0+-0x1*0x1a35+0x2ce5+0.5),(_0x4977f9+_0x36606a)*(-0xda9+-0xabe+0x1867+0.5),(_0x4ed149+_0x5b0fc0)*(-0x2632*0x1+-0x2646+0x4c78+0.5)),_0x26afaf['halfExtent'+'s']['set']((_0x38d329-_0x1ef205)*(0x8*-0x3+0x1fe1+-0x1fc9+0.5),(_0x36606a-_0x4977f9)*(-0x17ab+0x1252+0x559+0.5),(_0x5b0fc0-_0x4ed149)*(-0x3b3+0xa05+-0x652+0.5))),!_0x19d621;}['yieldToMai'+'n'](){var _0x1476e5;return(_0x1476e5=globalThis['scheduler'])!=null&&_0x1476e5['yield']?globalThis['scheduler']['yield']():new Promise(_0xb43a43=>{setTimeout(_0xb43a43,-0x15d8+0x1*-0x77f+-0xcb*-0x25);});}['calcAabbEx'+'act'](_0x1dde0c,_0x5ee809){const _0x17c025=new D(),_0xc7e032=new le(),_0x4b018c=new D(),_0x2a88bf=this['createIter'](_0x17c025,_0xc7e032,_0x4b018c);let _0x28c016=!(0x1564+0x5d*0x6a+0x29*-0x176);for(let _0xce8949=-0xe3a+-0x1dac+-0x2be6*-0x1;_0xce8949<this['numSplats'];++_0xce8949)_0x5ee809&&!_0x5ee809(_0xce8949)||(_0x2a88bf['read'](_0xce8949),_0x28c016?(_0x28c016=!(0xb19*-0x1+-0x26aa+0x1c7*0x1c),qn['calcSplatA'+'abb'](_0x1dde0c,_0x17c025,_0xc7e032,_0x4b018c)):(qn['calcSplatA'+'abb'](mg,_0x17c025,_0xc7e032,_0x4b018c),_0x1dde0c['add'](mg)));return!_0x28c016;}async['getCenters'](_0x332f33){const _0x5c63e0=this['getProp']('x'),_0x5e34c2=this['getProp']('y'),_0x3ddddd=this['getProp']('z');for(let _0x38287e=-0x4e*0x5d+0x437+0x181f;_0x38287e<this['numSplats'];++_0x38287e)_0x332f33[_0x38287e*(-0x2525+-0x7a0*-0x5+0x1*-0xf8)+(0xe42+-0x207f+0x123d*0x1)]=_0x5c63e0[_0x38287e],_0x332f33[_0x38287e*(-0x26ea+0x15f9+0x26c*0x7)+(0x1a06+0x117a+0x2b7f*-0x1)]=_0x5e34c2[_0x38287e],_0x332f33[_0x38287e*(0x85*-0x2d+-0x31c*0x5+0x26f0)+(-0x832*0x1+0x916+0x2*-0x71)]=_0x3ddddd[_0x38287e],_0x38287e%xf===-0x7f6+-0x1744+-0x1f3a*-0x1&&await this['yieldToMai'+'n']();}async['getMuT'](){var _0x184cd8;if((_0x184cd8=this['transformD'+'ata'])!=null&&_0x184cd8['muT'])return this['transformD'+'ata']['muT'];const _0x30675f=this['getProp']('t');return _0x30675f?new Float32Array(_0x30675f):void(0x5*-0xd+0x2050+-0x200f*0x1);}async['getTScale'](){const _0x19c78d=this['getProp']('t_scale');if(!_0x19c78d)return;const _0xb49110=new Float32Array(this['numSplats']);for(let _0x1109db=-0x916*-0x2+-0x4*-0x17d+-0x4*0x608;_0x1109db<this['numSplats'];++_0x1109db)_0xb49110[_0x1109db]=Math['exp'](_0x19c78d[_0x1109db]),_0x1109db%xf===-0x1774+0x1*-0xdb+0x184f*0x1&&await this['yieldToMai'+'n']();return _0xb49110;}async['getMotion'](_0x45de65){const _0x189e07=this['getProp']('motion_0'),_0x40dab0=this['getProp']('motion_1'),_0x5af56e=this['getProp']('motion_2');if(!(!_0x189e07||!_0x40dab0||!_0x5af56e)){for(let _0x3091cb=-0x1c36+0x67c+-0xadd*-0x2;_0x3091cb<this['numSplats'];++_0x3091cb)_0x45de65[_0x3091cb*(-0x1*-0x1ca9+0x197+-0x1*0x1e3d)+(-0x2595+-0x209b+0x8*0x8c6)]=_0x189e07[_0x3091cb],_0x45de65[_0x3091cb*(-0x8b3+0x1*0x4d5+-0x3e1*-0x1)+(0x16e*-0x19+-0x1135+0x4*0xd3d)]=_0x40dab0[_0x3091cb],_0x45de65[_0x3091cb*(-0x104*-0x8+-0xe39*-0x1+-0x1656)+(0xb2d+0xcc*0xd+-0x1587)]=_0x5af56e[_0x3091cb],_0x3091cb%xf===0x1b39+-0x21fa*0x1+0x6c1&&await this['yieldToMai'+'n']();}}['getTimeInd'+'ex'](){var _0x1d77fb;if((_0x1d77fb=this['transformD'+'ata'])!=null&&_0x1d77fb['timeIndex'])return this['transformD'+'ata']['timeIndex'];const _0x30f8a7=this['getProp']('time_index');if(_0x30f8a7)return new Float32Array(_0x30f8a7);}['calcFocalP'+'oint'](_0x3e2834,_0x342dcb){const _0x3e1e5d=this['getProp']('x'),_0xad260f=this['getProp']('y'),_0x1c68d3=this['getProp']('z'),_0x525b22=this['getProp']('scale_0'),_0x5a53b5=this['getProp']('scale_1'),_0x5215ff=this['getProp']('scale_2');_0x3e2834['x']=0xa15+-0x1c4d+0x1a8*0xb,_0x3e2834['y']=-0x1*-0x1bad+0x7d3*0x1+0x8*-0x470,_0x3e2834['z']=0x1f*-0x1b+-0xdcb+0x7*0x270;let _0x45273d=-0xb35*-0x1+-0xb3f+0xa;for(let _0x411a5b=-0x1*0x1bf7+0x125*-0x4+-0x3*-0xad9;_0x411a5b<this['numSplats'];++_0x411a5b){if(_0x342dcb&&!_0x342dcb(_0x411a5b))continue;const _0x25320f=_0x3e1e5d[_0x411a5b],_0x5d36a7=_0xad260f[_0x411a5b],_0x3062ee=_0x1c68d3[_0x411a5b];if(!isFinite(_0x25320f)||!isFinite(_0x5d36a7)||!isFinite(_0x3062ee))continue;const _0x4570ce=(0x791+0x1189*-0x1+0x9f9)/(-0x296*-0x2+0x593*0x1+-0xabe+Math['exp'](Math['max'](_0x525b22[_0x411a5b],_0x5a53b5[_0x411a5b],_0x5215ff[_0x411a5b])));_0x3e2834['x']+=_0x25320f*_0x4570ce,_0x3e2834['y']+=_0x5d36a7*_0x4570ce,_0x3e2834['z']+=_0x3062ee*_0x4570ce,_0x45273d+=_0x4570ce;}_0x3e2834['mulScalar']((-0x172c+0x26+0x1707)/_0x45273d);}['renderWire'+'frameBound'+'s'](_0x5c0238,_0x31e4e2){const _0x17c709=new D(),_0x4b26a2=new le(),_0x4eaba8=new D(),_0x139dcc=new D(),_0x4fdfbd=new D(),_0x1ee021=this['createIter'](_0x17c709,_0x4b26a2,_0x4eaba8);for(let _0x188c3f=-0xef*-0xc+0xd00+-0x1834;_0x188c3f<this['numSplats'];++_0x188c3f)_0x1ee021['read'](_0x188c3f),_g(za,_0x17c709,_0x4b26a2),za['mul2'](_0x31e4e2,za),_0x139dcc['set'](_0x4eaba8['x']*-(0xc2*0x31+0x10cb+-0x3*0x11f9),_0x4eaba8['y']*-(0x1d11+-0x6d*0x56+-0x5*-0x183),_0x4eaba8['z']*-(0xe7b+-0x1*-0x7d7+-0x594*0x4)),_0x4fdfbd['set'](_0x4eaba8['x']*(0x3*0x23b+-0xb78+0x7*0xaf),_0x4eaba8['y']*(-0x1*-0x26c9+0xb19*-0x1+-0x1bae),_0x4eaba8['z']*(0xb5a+0x1*0x2125+0x7*-0x65b)),_0x5c0238['immediate']['drawWireAl'+'ignedBox'](_0x139dcc,_0x4fdfbd,KA,!(-0x14e*0x8+-0xe5*-0x1+-0x1*-0x98b),_0x5c0238['defaultDra'+'wLayer'],za);}get['isCompress'+'ed'](){return!(-0x18ac+0x15d5+0x5b*0x8);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0xd77cff=0x2546+0x871+0x3*-0xf3d;_0xd77cff<0xd*0x11a+0xe3a+-0x10d*0x1b;++_0xd77cff)if(!this['getProp']('f_rest_'+_0xd77cff))return _0xd77cff;return 0x7*0x107+0x1*0x897+-0xeb*0x11;})())]??-0x258b+-0x2467+0x49f2;}['calcMorton'+'Order'](){const _0x134376=_0x1c84af=>{let _0xb5d7e4=_0x1c84af[0x12*-0xd+-0x2*0x3c9+0x87c],_0x2aadba=_0x1c84af[-0x169f*0x1+-0xb*0x223+0x20*0x171];for(let _0x1184e9=0xd9*0x2a+-0x8ae+-0x1aeb;_0x1184e9<_0x1c84af['length'];_0x1184e9++)_0x1c84af[_0x1184e9]<_0xb5d7e4&&(_0xb5d7e4=_0x1c84af[_0x1184e9]),_0x1c84af[_0x1184e9]>_0x2aadba&&(_0x2aadba=_0x1c84af[_0x1184e9]);return{'min':_0xb5d7e4,'max':_0x2aadba};},_0x5cd67e=(_0x14d8dc,_0x27d7f0,_0x56811d)=>{const _0x4e1020=_0x52f2a4=>(_0x52f2a4&=-0x1c87*0x1+-0x856*0x2+0x3132,_0x52f2a4=(_0x52f2a4^_0x52f2a4<<-0x1970+0x2035+-0x6b5)&0x1169e4d69+-0xbe7bc583+0xa6dd7919,_0x52f2a4=(_0x52f2a4^_0x52f2a4<<0x2414*-0x1+-0x56a+0x2986)&-0x1*-0x1768171+-0x2a28ca5*-0x2+-0x3baaaac,_0x52f2a4=(_0x52f2a4^_0x52f2a4<<-0x93*0x15+-0x1dc7+0x29da)&-0xb5b433*0x7+0x5d6a5d2+0x22d7856,_0x52f2a4=(_0x52f2a4^_0x52f2a4<<0x1*0x2659+0x17f*-0x3+-0x21da)&0x95cb7*0x137+0xc43eed2+0x4d4ff9e*-0x3,_0x52f2a4);return(_0x4e1020(_0x56811d)<<0x1b01*0x1+0xd*0x2f+-0x1d62)+(_0x4e1020(_0x27d7f0)<<0x182e+-0xe5d+-0x9d0)+_0x4e1020(_0x14d8dc);},_0x5590e9=this['getProp']('x'),_0xdb8761=this['getProp']('y'),_0x59a306=this['getProp']('z'),{min:_0x540222,max:_0x9ce819}=_0x134376(_0x5590e9),{min:_0x1d00c9,max:_0x206e45}=_0x134376(_0xdb8761),{min:_0x15c1c3,max:_0x44cad5}=_0x134376(_0x59a306),_0x3951c1=_0x540222===_0x9ce819?-0x20ad+0xf7a+0x1133:(-0xa2e+-0x21e2+0x3010)/(_0x9ce819-_0x540222),_0x5eab48=_0x1d00c9===_0x206e45?0xd7*0x1a+-0x15b0+0x1*-0x26:(-0x1e8+0x442+-0xd3*-0x2)/(_0x206e45-_0x1d00c9),_0x219886=_0x15c1c3===_0x44cad5?-0x1b91+0x660+0x1531:(0x1*0x1e6+-0x1d*0x6f+0xead)/(_0x44cad5-_0x15c1c3),_0x1b4fd9=new Map();for(let _0x4bb00d=-0x4*-0x4a4+0x2347*0x1+-0x7b1*0x7;_0x4bb00d<this['numSplats'];_0x4bb00d++){const _0x26c73f=Math['min'](0x1*-0x118d+-0x1342+0x28ce,Math['floor']((_0x5590e9[_0x4bb00d]-_0x540222)*_0x3951c1)),_0x55c41b=Math['min'](-0x1*0x1619+0xd45*-0x2+0x34a2,Math['floor']((_0xdb8761[_0x4bb00d]-_0x1d00c9)*_0x5eab48)),_0x52d57e=Math['min'](-0x1edf+0x19ca+0x245*0x4,Math['floor']((_0x59a306[_0x4bb00d]-_0x15c1c3)*_0x219886)),_0x12a8c8=_0x5cd67e(_0x26c73f,_0x55c41b,_0x52d57e),_0x150382=_0x1b4fd9['get'](_0x12a8c8);_0x150382?_0x150382['push'](_0x4bb00d):_0x1b4fd9['set'](_0x12a8c8,[_0x4bb00d]);}const _0x2ea9ef=Array['from'](_0x1b4fd9['keys']())['sort']((_0x4861a4,_0x4eefbe)=>_0x4861a4-_0x4eefbe),_0x25501d=new Uint32Array(this['numSplats']);let _0x17726a=-0x1a75+0x34c*0x7+0xad*0x5;for(let _0x22ab34=0x6*-0x59e+0x1084+-0x898*-0x2;_0x22ab34<_0x2ea9ef['length'];++_0x22ab34){const _0x2ec015=_0x1b4fd9['get'](_0x2ea9ef[_0x22ab34]);for(let _0x105fe8=0xc16+-0x262b+0x1a15*0x1;_0x105fe8<_0x2ec015['length'];++_0x105fe8)_0x25501d[_0x17726a++]=_0x2ec015[_0x105fe8];}return _0x25501d;}['reorder'](_0x43e929){const _0x272047=new Map(),_0x159023=_0x3b33f6=>{if(_0x272047['has'](_0x3b33f6)){const _0x357826=_0x272047['get'](_0x3b33f6);return _0x272047['delete'](_0x3b33f6),_0x357826;}return new ArrayBuffer(_0x3b33f6);},_0x129760=_0x4a7cab=>{_0x272047['set'](_0x4a7cab['byteLength'],_0x4a7cab);},_0xb98249=_0x4d506e=>{const _0x3b2a10=new _0x4d506e['constructo'+'r'](_0x159023(_0x4d506e['byteLength']));for(let _0x2d0eed=0x15*0xda+-0x1*-0x1a15+0x2bf7*-0x1;_0x2d0eed<_0x43e929['length'];_0x2d0eed++)_0x3b2a10[_0x2d0eed]=_0x4d506e[_0x43e929[_0x2d0eed]];return _0x129760(_0x4d506e['buffer']),_0x3b2a10;};this['elements']['forEach'](_0x275bf1=>{_0x275bf1['properties']['forEach'](_0x204b15=>{_0x204b15['storage']&&(_0x204b15['storage']=_0xb98249(_0x204b15['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}async function QA(){const _0x3134b8=new Float32Array(0x17*-0x17e+-0x2*-0x577+0x35*0x71);new Int32Array(_0x3134b8['buffer']);let _0x323bb8=-0x1b20+-0x1785+0x32a5,_0x13c11d={};self['onmessage']=async _0x18492e=>{const {data:_0x3889bd}=_0x18492e;switch(_0x3889bd['type']){case'initWorker':break;case'appendGSpl'+'atData':_0x136594(_0x3889bd['properties'],_0x3889bd['timeIndex'],_0x3889bd['timeOption']);break;case'releaseSeq'+'Data':_0xb3aef0(_0x3889bd['index']);break;case'releaseAll'+'SeqData':_0x24d672();break;case'destroyWor'+'ker':_0x4a8ca();break;}};const _0x4975e9=()=>({0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x19465b=-0xed8*-0x1+-0x9b0+-0x528*0x1;_0x19465b<-0x49*-0x51+0x1*-0x685+-0x11*0xf7;++_0x19465b)if(!_0x13c11d['f_rest_'+_0x19465b])return _0x19465b;return-0x8b*0x11+-0x38*-0x43+-0x540;})())]??-0x3b2*-0x3+0x1df0+0x59*-0x76),_0x136594=(_0x187b75,_0x50cd2b,_0x57519e)=>{var _0x365a9f,_0x53b2be;_0x323bb8+=(((_0x365a9f=_0x187b75['position'])==null?void(-0x10*-0xf6+0x1*-0x634+0x496*-0x2):_0x365a9f['length'])??0x1*0xfad+-0x59*0x19+0x1*-0x6fc)/(-0xb90+0x711*-0x4+0x27d7*0x1),console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedDataWor'+'ker\x20append'+'GSplatData'+'\x20numSplats',_0x323bb8,(((_0x53b2be=_0x187b75['position'])==null?void(-0x1*-0x2c5+-0x2*-0x6a7+-0x1013):_0x53b2be['length'])??-0x1f9c+-0xab1*0x1+0x2a4d)/(0x3*-0x6cd+-0x160b+0xe27*0x3));const _0x599b5f=Object['keys'](_0x187b75);for(let _0x1b1e6a=-0x1e69+0x1d98*-0x1+0x3c01*0x1;_0x1b1e6a<_0x599b5f['length'];_0x1b1e6a++){const _0x504b9a=_0x599b5f[_0x1b1e6a],_0x2fc9bb=_0x187b75[_0x504b9a],_0x53c467=_0x13c11d[_0x504b9a]??new Float32Array(0x343*0x9+-0x33*0x25+-0x15fc);if(_0x2fc9bb){let _0x1ff86e=null;switch(_0x504b9a){case'position':_0x1ff86e=new Float32Array(_0x323bb8*(-0x2302+0x9d3*-0x1+0x2cd8));break;case'color_opac'+'ity':_0x1ff86e=new Uint16Array(_0x323bb8*(-0x620+0x5*-0x429+-0x8fb*-0x3));break;case'scale':_0x1ff86e=new Uint16Array(_0x323bb8*(-0x20f3+0x1be*0xe+0x892));break;case'motion':_0x1ff86e=new Float32Array(_0x323bb8*(-0x9ad+-0x35*-0x1b+0x419));break;case'rotation':_0x1ff86e=new Float32Array(_0x323bb8*(0x3*-0x9d5+0x3d*0x64+0x5ae*0x1));break;default:_0x1ff86e=new Float32Array(_0x323bb8);break;}_0x1ff86e['set'](_0x53c467,-0x463*0x2+-0x1*0x4f5+0x25*0x5f),_0x1ff86e['set'](_0x2fc9bb,_0x53c467['length']),_0x13c11d[_0x504b9a]=_0x1ff86e;}}const _0x39367b={};Object['keys'](_0x13c11d)['forEach'](_0xe73fb7=>{_0xe73fb7==='scale'||_0xe73fb7==='color_opac'+'ity'?_0x39367b[_0xe73fb7]=new Uint16Array(_0x13c11d[_0xe73fb7]['buffer']['slice']()):_0x39367b[_0xe73fb7]=new Float32Array(_0x13c11d[_0xe73fb7]['buffer']['slice']());});const _0x516457=Object['keys'](_0x39367b)['map'](_0x244359=>_0x39367b[_0x244359]['buffer']),_0x5b60a1=_0x4feb37(),_0x58363e=Object['keys'](_0x5b60a1)['map'](_0x1c298b=>_0x5b60a1[_0x1c298b]['buffer']);self['postMessag'+'e']({'type':'newAppendD'+'ata','properties':_0x39367b,'transformData':_0x5b60a1},_0x516457['concat'](_0x58363e));},_0x4feb37=()=>{const _0x41e15e=_0x13c11d['position']['length']/(-0x16e3+0x1*-0x249d+0x3b83),_0x4d0716=_0x13c11d['position'],_0x2f8576=_0x13c11d['scale'],_0xb4525=_0x13c11d['rotation'],_0x298ccb=_0x13c11d['motion'],_0x4eb2a4=_0x13c11d['t'],_0x15e196=_0x13c11d['t_scale'],_0x5a8537=_0x13c11d['time_index'],_0x20ea76=_0x13c11d['color_opac'+'ity'],_0x16590a=(_0x4eb2a4==null?void(0x5d0+-0x445*0x1+-0x5*0x4f):_0x4eb2a4['length'])>0x2457+-0x1437+-0x1020;let _0x4222c2=null,_0x2c0424=null,_0x103a81=null,_0x238393=null;_0x16590a&&(_0x2c0424=new Float32Array(_0x41e15e*(0xd*-0x13c+0x2*0xa8a+-0x101*0x5)),_0x238393=new Float32Array(_0x41e15e),_0x4222c2=new Float32Array(_0x298ccb['buffer']['slice']()),_0x103a81=new Float32Array(_0x298ccb['buffer']['slice']()));const _0xad6848=new Float32Array(_0x4d0716['buffer']['slice']()),_0x4ebca2=new Float32Array(_0x4d0716['buffer']['slice']()),_0x46b7f3=new Uint16Array(_0x20ea76['buffer']['slice']()),_0x5afab6=new Uint16Array(_0x2f8576['buffer']['slice']()),_0x2f582d=new Float32Array(_0xb4525['buffer']['slice']());for(let _0x40e651=0x2*0xc46+0x1*0x16b5+-0x2f41*0x1;_0x40e651<_0x41e15e;++_0x40e651)_0x16590a&&_0x2c0424&&_0x238393&&(_0x238393[_0x40e651]=_0x15e196?Math['exp'](_0x15e196[_0x40e651]):0x5*-0x672+-0x68b+0x26c5,_0x2c0424[_0x40e651*(-0x707*0x1+-0x10d5+0x17df)+(-0x21b*-0x4+-0xcd0+0x119*0x4)]=_0x4eb2a4?_0x4eb2a4[_0x40e651]:-0x1db6+-0x4f6*-0x1+0x18c0,_0x2c0424[_0x40e651*(-0x6*0x1fd+-0x12ef+0x1ee0)+(-0x2*-0x1018+0xd98+-0x2dc7)]=_0x238393[_0x40e651]);const _0x1010b8=_0x46a3d5();let _0x3d29b0={'dataColor':_0x46b7f3,'dataCenters':_0x4ebca2,'dataPosition':_0xad6848,'dataScale':_0x5afab6,'dataRotation':_0x2f582d,..._0x1010b8};return _0x16590a&&(_0x3d29b0={..._0x3d29b0,'dataMotion':_0x4222c2,'dataTime':_0x2c0424,'motion':_0x103a81,'tScaleArray':_0x238393,'muT':new Float32Array(_0x4eb2a4),'timeIndex':new Float32Array(_0x5a8537)}),_0x3d29b0;},_0x2bc2dc=_0x3f4cbc=>{const _0x3eb171=[];for(let _0x3f5ccd=0x1168+-0xb*-0x2f0+-0x1*0x31b8;_0x3f5ccd<_0x3f4cbc;++_0x3f5ccd)_0x3eb171['push'](_0x13c11d['f_rest_'+_0x3f5ccd]);return _0x3eb171;},_0x46a3d5=()=>{const _0x2ef8e5=_0x4975e9();if(_0x2ef8e5<=-0x1eb2*0x1+-0xe86+-0xb4e*-0x4)return{};const _0x2f5d86=_0x13c11d['x']['length'],_0x102591=new Uint32Array(_0x2f5d86*(0x1ca6*0x1+0x53e+-0x21e0)),_0x4ff8f4=new Uint32Array(_0x2f5d86*(0x1*-0x132c+0x20fd+-0x1*0xdcd)),_0x3f1d7b=new Uint32Array(_0x2f5d86*(-0x1*0x1123+-0x9e+0x11c5)),_0xfe2c63=new Uint32Array(_0x2f5d86*(0x44d*-0x8+-0x8a5*-0x1+0x19c7)),_0x502db0={0x1:0x3,0x2:0x8,0x3:0xf}[_0x2ef8e5],_0x59d11b=_0x2bc2dc(_0x502db0*(-0x649+0x3e8+0x6*0x66)),_0x3b4084=0x796+0x281+-0x218,_0x2f10b3=-0x698+-0x26*-0x3a+0x1fb,_0x22a51d=new Float32Array(-0xac1*-0x2+-0xcf5+0x446*-0x2),_0x5244d8=new Uint32Array(_0x22a51d['buffer']),_0x7febb5=new Array(_0x502db0*(0x1361+0x1*-0xf19+-0x445))['fill'](0x1115*0x1+0x6*0x5f+0x1*-0x134f);for(let _0x3a1bd4=-0x2*-0x2+-0x4ef+-0x4eb*-0x1;_0x3a1bd4<_0x2f5d86;++_0x3a1bd4){for(let _0x119ccc=0x1ca5*0x1+0x2213+0x29d*-0x18;_0x119ccc<_0x502db0;++_0x119ccc)_0x7febb5[_0x119ccc*(0x593*-0x3+-0x444+0x1500)]=_0x59d11b[_0x119ccc][_0x3a1bd4],_0x7febb5[_0x119ccc*(0x160+0x17ea+-0x2cf*0x9)+(-0x11a4+0x1666*0x1+0x4c1*-0x1)]=_0x59d11b[_0x119ccc+_0x502db0][_0x3a1bd4],_0x7febb5[_0x119ccc*(0x124d+-0x6f6+0x2d5*-0x4)+(-0x571*0x3+0x224f*-0x1+0xe*0x39e)]=_0x59d11b[_0x119ccc+_0x502db0*(0x20c0+0x4eb*0x6+-0x3e40)][_0x3a1bd4];let _0x4a33c0=_0x7febb5[-0x220e+-0x2607+0x4815];for(let _0xa2f33e=-0xf04+0x22bd+-0x277*0x8;_0xa2f33e<_0x502db0*(-0x19a5+-0x3af+0x1d57);++_0xa2f33e)_0x4a33c0=Math['max'](_0x4a33c0,Math['abs'](_0x7febb5[_0xa2f33e]));if(_0x4a33c0!==0x20e+-0x1863+0x1655*0x1){for(let _0x466005=-0x18c6+0x2dd*-0x5+-0x1*-0x2717;_0x466005<_0x502db0;++_0x466005)_0x7febb5[_0x466005*(-0x56d*-0x3+0x20e5*-0x1+-0x10a1*-0x1)+(0x4*-0x27d+-0x1*0x1607+0x3*0xaa9)]=Math['max'](-0x223e+-0x24fa+0x4738*0x1,Math['min'](_0x3b4084,Math['floor']((_0x7febb5[_0x466005*(-0x1a25+0x2*0x863+0x962)+(-0x1e2f+0x404+-0x261*-0xb)]/_0x4a33c0*(0xd7+0x15e8+-0x9*0x287+0.5)+(0x265a*-0x1+0x25de+0x7c+0.5))*_0x3b4084+(0xb65*0x1+0x1*-0x943+-0x222+0.5)))),_0x7febb5[_0x466005*(0x1140+0x1*0x1d36+-0x2e73)+(0x1d*0xff+0x81*-0x30+0x1*-0x4b2)]=Math['max'](-0x20d4+0xe*0x203+0x4aa,Math['min'](_0x2f10b3,Math['floor']((_0x7febb5[_0x466005*(0x17d0+-0x5e*0x3b+0x223*-0x1)+(-0x14b9+-0xe2a+-0x13f*-0x1c)]/_0x4a33c0*(-0x1*-0x12b5+-0x1813*0x1+0x55e+0.5)+(-0x2*0x9bc+0x1ce6+0x47*-0x22+0.5))*_0x2f10b3+(0x541*0x7+-0x160+0x2367*-0x1+0.5)))),_0x7febb5[_0x466005*(-0x638+-0x1dd9+0x2414)+(0x19b7+0xe83*-0x1+-0xb32)]=Math['max'](0x85a+0x1*-0xaf9+-0x3d*-0xb,Math['min'](_0x3b4084,Math['floor']((_0x7febb5[_0x466005*(-0x1*-0xc1f+-0x1*0xb5+-0xb67)+(-0x27*0x2b+-0xf79+0x1608)]/_0x4a33c0*(0x1*-0x2476+-0x1*-0x253d+-0xc7+0.5)+(0x5*-0x455+0x22cc*0x1+-0xd23+0.5))*_0x3b4084+(0x1f8c+0x2131+-0x40bd*0x1+0.5))));_0x22a51d[0x1ee9+0x5b6+-0x249f]=_0x4a33c0,_0x102591[_0x3a1bd4*(0x8f9+0x105c+-0x1951)+(0x4b*0x53+-0x1*-0x1e04+-0x7*0x7c3)]=_0x5244d8[0x55c+0x1d*0x8b+-0x151b],_0x102591[_0x3a1bd4*(-0x56*0x58+0x6*0x167+0x7*0x306)+(0x1fdf+-0x37*-0x3a+-0xb15*0x4)]=_0x7febb5[0x83*-0x1d+-0x2*-0x673+-0x1f1*-0x1]<<0x1df+0x76e*-0x2+0xd12|_0x7febb5[0x1c49+0x1fb*-0xb+-0x67f]<<-0x7*-0x1e5+-0x1f22+0x11ea|_0x7febb5[-0x36*-0x63+0x2223+0x1*-0x3703],_0x102591[_0x3a1bd4*(-0x21e3+-0x1475+0x365c)+(0x703+-0x1*0x130d+0xc0c*0x1)]=_0x7febb5[0x22*0x5b+-0x82c+-0x3e7]<<-0x47*-0x30+0x66d+-0x13a8|_0x7febb5[0x4ed+0x1ec0+-0xb3*0x33]<<-0x1822+0x1cd3*0x1+0xaa*-0x7|_0x7febb5[0x22e2+0x2*0xf7e+-0x41d9],_0x102591[_0x3a1bd4*(-0x1b17+-0x7*0x46f+0x3a24)+(0xf98*-0x1+-0x135b+0x22f6)]=_0x7febb5[-0x67+0x991+-0x5a*0x1a]<<-0x129b*0x2+-0x2*-0x1138+0x2db|_0x7febb5[-0x3*-0x4d5+0x171*-0xe+0x5b6]<<-0x256e+-0x19ad*-0x1+0x14*0x97|_0x7febb5[-0x1501+0xe*0x283+-0xe21*0x1],_0x2ef8e5>0x2267+0x1*-0x7f1+0x1*-0x1a75&&(_0x4ff8f4[_0x3a1bd4*(0x196+-0x1*0x1387+0x11f5*0x1)+(-0xb0+0x22ed+-0x1*0x223d)]=_0x7febb5[0x26b9+-0x18cd+-0xde3]<<-0xf21+-0x3a*-0x28+0x626|_0x7febb5[0x38f*-0x7+0x32*0x1d+0x1349]<<-0x1147+0x89*-0x15+-0x3*-0x985|_0x7febb5[-0x41*0x43+-0x1bfe+-0x4*-0xb43],_0x4ff8f4[_0x3a1bd4*(0x199c+0x6*-0xa3+-0x15c6)+(0x2431+0x1b14+-0x3f44)]=_0x7febb5[0x10f3*-0x1+-0x2e5*0x2+0x16c9]<<-0x1e46+-0x7*-0x33b+0x3df*0x2|_0x7febb5[0x2627+0xdb0+-0x33ca*0x1]<<-0x4*0x3a6+-0x114d+0x1ff0|_0x7febb5[-0x107c+0x51e+0xb6c],_0x4ff8f4[_0x3a1bd4*(-0x2f*0x67+-0x2*-0x5e7+0x71f)+(-0x78*0x2+-0xb*0x2ea+0x2c*0xc0)]=_0x7febb5[-0x438*-0x3+-0x928+-0x371]<<0x3fe+0xb21+-0xf0a*0x1|_0x7febb5[0x136f+-0x11b9+-0x1a6]<<0x1d5a+0x69d*0x2+-0x1*0x2a89|_0x7febb5[-0x18d8+0x75f*0x1+0x118a*0x1],_0x4ff8f4[_0x3a1bd4*(-0x1604+-0x60*-0x49+-0x558)+(0x925+-0xe68+0x546)]=_0x7febb5[-0x111f+0xaf1*-0x3+0x3204]<<-0x2417+0x1*0x15a3+0xe89|_0x7febb5[-0x25dd+0x12b2*-0x1+0x38a2]<<-0x26+-0x8*-0x236+-0x117f|_0x7febb5[-0x1*-0x15d+-0x1*-0x25be+-0x2707],_0x2ef8e5>-0x170e*0x1+0x132+0x1*0x15de?(_0x3f1d7b[_0x3a1bd4*(0x83*0x13+0x2510*0x1+-0x2ec5)+(-0x1b00+-0x235a+0x3e5a)]=_0x7febb5[-0xc7d+0x1559+-0x8c7*0x1]<<-0x149*0x10+0x1*0x1e2d+-0x988|_0x7febb5[-0xad*0x31+-0xf6a+0x9b9*0x5]<<-0x22dc+0x1247+0x4c*0x38|_0x7febb5[-0xed7*0x2+-0x1a83+0x3848],_0x3f1d7b[_0x3a1bd4*(0x1def+-0x1b*0x105+-0x264)+(-0x1c09+-0x3e*-0xa1+-0xaf4)]=_0x7febb5[0xf6c+-0x1*-0x23a3+-0x32f7]<<0x4a1+0xc0a+0x2*-0x84b|_0x7febb5[-0x2*-0x8b7+0xc7a+-0x1dcf*0x1]<<-0x1*0x1b8e+0x1569*0x1+0x630|_0x7febb5[-0xce8*-0x1+-0x2*-0xc51+-0x2570],_0x3f1d7b[_0x3a1bd4*(0x1a93+-0x8b5*-0x3+-0x34ae)+(-0xd*-0xed+-0x1cef+-0x10e8*-0x1)]=_0x7febb5[-0x2320+0xdd3+0x1568]<<0x62f+-0x1064*0x1+0x525*0x2|_0x7febb5[-0xd5+0xb27+-0x51b*0x2]<<0x1*-0x9eb+-0x37e+0x52*0x2a|_0x7febb5[-0xa73+-0x5*-0x47b+-0xbd7],_0x3f1d7b[_0x3a1bd4*(-0x110*-0x15+-0x1e9e+0x2*0x429)+(-0x9d*0x3a+0x34d+0x2048)]=_0x7febb5[-0x24bd+-0x3e*0xe+-0x1*-0x283f]<<0x11a2+0xee3+0x18*-0x15a|_0x7febb5[-0x3e*-0x59+-0x1*0x1017+0x1*-0x558]<<0x1d3d+0x47*0x61+-0x3819|_0x7febb5[0x209*0x5+-0x2*0x12d1+0x1b95*0x1],_0xfe2c63[_0x3a1bd4*(-0x4*-0x941+0x1*-0x1cfb+-0x805)+(-0x1f54+-0x11*-0x207+0xb*-0x49)]=_0x7febb5[-0xb24*0x3+0xc*-0x2d3+0x4371]<<0x6*0x182+0x5a8+-0xe9f|_0x7febb5[-0xd3c+-0x158f+0x22ed]<<-0x24a1+0x11e1+0x12cb|_0x7febb5[-0x212c+-0x2*0x640+0x1*0x2dcf],_0xfe2c63[_0x3a1bd4*(0x1*-0x221f+-0x219f+-0x1696*-0x3)+(-0x1*0x70f+-0x1a*0x3d+0xd42)]=_0x7febb5[-0xfa7+0x73a*-0x3+-0x2579*-0x1]<<-0x44*-0x64+-0xd2b+-0x1aa*0x8|_0x7febb5[0x23b0+-0x1*-0x2299+-0x4*0x1189]<<0x14db+-0x53e+-0x1*0xf92|_0x7febb5[-0x1*-0x188f+-0x2253+0x11a*0x9],_0xfe2c63[_0x3a1bd4*(0xbf*0x5+-0x159f+0x6*0x2fc)+(-0x1*-0xe3c+0x46d*-0x8+0x1*0x152e)]=_0x7febb5[0x4c0+-0x1987+0x37d*0x6]<<0x11a7*0x2+0xbda+-0x2f13|_0x7febb5[-0x806+0x1*0x1a06+-0x11d8]<<0x1*-0x448+-0x455+0x115*0x8|_0x7febb5[-0x2466+0x14c+0x2343],_0xfe2c63[_0x3a1bd4*(-0x18ee+-0x15c8+0x2eba)+(0x20*0x1+0x25*-0x101+0x2508)]=_0x7febb5[0x535*0x6+0x2463+-0x4377]<<0x1ea4+-0x2*0x232+-0x1a2b|_0x7febb5[0x2*-0xf5e+0x1c41+0x2a6]<<-0x394*0x1+-0x16d9*-0x1+0x17*-0xd6|_0x7febb5[-0x29*-0x3d+0x603+0x12*-0xde]):_0x3f1d7b[_0x3a1bd4]=_0x7febb5[0x2e9+0x1e6b+0x1*-0x213f]<<-0x147f+-0x1*0x24a9+0x393d|_0x7febb5[-0xda+0xa8b*-0x2+0xb03*0x2]<<0x26b*-0x1+-0x12ab+0x259*0x9|_0x7febb5[0x3fa+0xa*-0x218+0x1*0x110d]);}}return{'sh1to3Data':_0x102591,'sh4to7Data':_0x4ff8f4,'sh8to11Data':_0x3f1d7b,'sh12to15Data':_0xfe2c63};},_0xb3aef0=_0x5d4c9f=>{if(!_0x13c11d['time_index'])return;const _0x312446=_0x13c11d['time_index']['findIndex'](_0x384e18=>_0x384e18===_0x5d4c9f);let _0x254739=_0x13c11d['time_index']['findIndex']((_0x80e7de,_0x3229b0)=>_0x80e7de!==_0x5d4c9f&&_0x3229b0>_0x312446);if(_0x254739===-(-0x202f+-0x1bcb+0x3bfb)&&_0x312446===-(-0x1*0x24f2+-0xe*-0x28d+0x1*0x13d))return;_0x254739===-(-0x442+0xebe+-0xa7b)&&_0x312446!==-(-0x22a*0x6+0x14*0xf7+-0x64f)&&(_0x254739=_0x13c11d['time_index']['length']),_0x323bb8-=_0x254739-_0x312446,console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedDataWor'+'ker\x20releas'+'eSeqData\x20n'+'umSplats',_0x323bb8,_0x254739-_0x312446);const _0x5ad96a=Object['keys'](_0x13c11d);for(let _0x2224fe=-0x80f+-0x132e+-0x16f*-0x13;_0x2224fe<_0x5ad96a['length'];_0x2224fe++){const _0x46246f=_0x5ad96a[_0x2224fe],_0x207a01=_0x13c11d[_0x46246f];if(_0x207a01){let _0xfe5c0a=0x2*0x1a5+-0x5c0+0x277;switch(_0x46246f){case'position':_0xfe5c0a=0x6ec+0x61*-0x2f+0xae6;break;case'color_opac'+'ity':_0xfe5c0a=-0x137e+-0xe82+0x2204;break;case'scale':_0xfe5c0a=0x5*-0x179+0x25fc+-0x1e9c;break;case'motion':_0xfe5c0a=-0x4*0x26c+-0xbbc+0xb1*0x1f;break;case'rotation':_0xfe5c0a=0x8b*0x47+-0xf81+-0x1*0x1709;break;default:_0xfe5c0a=0x1*0x551+-0x2*0x74b+-0x4a3*-0x2;break;}const _0x14d1ce=new Float32Array(_0x323bb8*_0xfe5c0a);_0x312446>0x24cc+0xfca+-0x3496?(_0x14d1ce['set'](_0x207a01['subarray'](0x1859+-0x25cd*0x1+0x11f*0xc,_0x312446*_0xfe5c0a),-0x222d+-0x14dc+0x3709),_0x14d1ce['set'](_0x207a01['subarray'](_0x254739*_0xfe5c0a),_0x312446*_0xfe5c0a)):_0x14d1ce['set'](_0x207a01['subarray'](_0x254739*_0xfe5c0a),0x6b9+0xf1*0x25+0x14c7*-0x2),_0x13c11d[_0x46246f]=_0x14d1ce;}}},_0x24d672=()=>{const _0x3eb385=Object['keys'](_0x13c11d);for(let _0x5a9f47=-0xab1+0xa7f*0x3+-0x14cc;_0x5a9f47<_0x3eb385['length'];_0x5a9f47++){const _0xa1e0c1=_0x3eb385[_0x5a9f47];_0x13c11d[_0xa1e0c1]&&(_0x13c11d[_0xa1e0c1]=[]);}},_0x4a8ca=()=>{_0x13c11d={},_0x323bb8=-0x1842+-0xe7a+0x26bc;};}class JA extends me{constructor(){super(),this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+QA['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}async['appendGSpl'+'atData'](_0x4dd9d4,_0x5c4ac6,_0x2b3359,_0x424e67=!(-0x3d9+0x2153+-0x1d79)){var _0x16f4dd,_0x2aeb0f;const _0x16074a={};return _0x4dd9d4['elements'][-0x1d12+0x1*0x3c4+0x194e]['properties']['forEach'](_0x366d08=>{_0x16074a[_0x366d08['name']]=_0x366d08['storage'];}),_0x424e67?(_0x16f4dd=this['worker'])==null||_0x16f4dd['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x16074a,'timeIndex':_0x5c4ac6,'timeOption':_0x2b3359},_0x4dd9d4['elements'][0xcb3+0x18c+-0x1*0xe3f]['properties']['map'](_0x42999f=>_0x42999f['storage']['buffer'])):(_0x2aeb0f=this['worker'])==null||_0x2aeb0f['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x16074a,'timeIndex':_0x5c4ac6,'timeOption':_0x2b3359}),new Promise(_0x13175c=>{this['worker']['onmessage']=_0x4a40bb=>{if(!this['worker'])return;const {data:_0x15a590}=_0x4a40bb;_0x15a590['type']==='newAppendD'+'ata'&&_0x13175c(_0x15a590);};});}async['releaseSeq'+'Data'](_0x5ba77b){var _0x2310e7;(_0x2310e7=this['worker'])==null||_0x2310e7['postMessag'+'e']({'type':'releaseSeq'+'Data','index':_0x5ba77b});}async['releaseAll'+'SeqData'](){var _0x4c42a3;(_0x4c42a3=this['worker'])==null||_0x4c42a3['postMessag'+'e']({'type':'releaseAll'+'SeqData'});}['destroy'](){var _0x2dbe87;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x2dbe87=this['worker'])==null||_0x2dbe87['terminate'](),this['worker']=null);}}const gc=new te(),gg=new le(),eC=new ie(0x11d0+-0x1*0x9df+0x7f*-0x10,0x1*0x2636+0x903+-0x2f38,-0x164f+0x1*-0xfc9+-0x2e*-0xd4,-0x19ed*0x1+0x115d+0x890+0.4),Sg=0x108e5*-0x2+-0x4e053+0x1*0x9ff5d;class tC{constructor(_0x55a295,_0x548d2a,_0x403d80,_0x2d852c,_0x37f807,_0x5c79c2){const _0x3d3b75=_0x55a295['getProp']('position'),_0x41c2b0=_0x55a295['getProp']('color_opac'+'ity'),_0x2a25a4=_0x55a295['getProp']('scale'),_0x4b10fd=_0x55a295['getProp']('motion'),_0x3dd11b=_0x55a295['getProp']('rotation');this['read']=_0x37c7e8=>{_0x548d2a&&_0x548d2a['set'](_0x3d3b75[_0x37c7e8*(0x3*0xad+-0x1321+0x111d)+(0x49*-0x39+-0x712*-0x5+-0x1319)],_0x3d3b75[_0x37c7e8*(-0x1*-0x665+0x1eb8+0x2*-0x128d)+(0x2247+-0xe21+0x23d*-0x9)],_0x3d3b75[_0x37c7e8*(0xeb7+0x900+-0x25*0xa4)+(0x1e32+-0x193e+-0x1*0x4f2)]),_0x403d80&&_0x403d80['set'](_0x3dd11b[_0x37c7e8*(-0x1*-0xd8d+0x6a+-0x2*0x6fa)+(0xd87+-0x1d87*-0x1+-0x1f5*0x16)],_0x3dd11b[_0x37c7e8*(-0x79*-0x2f+-0x11dc+-0x458)+(-0xd00+-0xfb*-0x9+0x42e)],_0x3dd11b[_0x37c7e8*(0xcfc+0x1648+-0x2341)+(0x1*-0xeb4+0x1d87+0xed1*-0x1)]),_0x2d852c&&_0x2d852c['set'](_0x2a25a4[_0x37c7e8*(0x2134+-0x1*-0xa71+-0x2ba2)+(-0x13*0xd1+0xdbe+0x97*0x3)],_0x2a25a4[_0x37c7e8*(-0x12e+-0x1264+0x1395)+(0xd75+0x57*0x1+-0x6b*0x21)],_0x2a25a4[_0x37c7e8*(0x3*-0x6c5+-0x1754+0x4a*0x97)+(-0x1556+0x1*0x225b+-0x1*0xd03)]),_0x5c79c2&&_0x4b10fd&&_0x5c79c2['set'](_0x4b10fd[_0x37c7e8*(0x5a*-0x35+0x4*0x713+0x9a7*-0x1)+(-0x19e+0x32c*0x5+0x1*-0xe3e)],_0x4b10fd[_0x37c7e8*(0x191f+0x1240+-0x2b5c)+(-0xd*-0x49+0x928+-0xcdc)],_0x4b10fd[_0x37c7e8*(-0x1b96+0x901*0x3+0x96)+(-0x1a2e+-0x1916+-0x3346*-0x1)]),_0x37f807&&_0x37f807['set'](_0x41c2b0[_0x37c7e8*(0x1f69+0xb35*0x1+0x52*-0x85)+(0x1b36*-0x1+-0x1db8+-0x12fa*-0x3)],_0x41c2b0[_0x37c7e8*(-0x20b*-0xb+0x18dd+-0x2f52)+(0x7eb*0x2+0x75c*0x4+-0x2d45)],_0x41c2b0[_0x37c7e8*(-0x33b*0x5+-0x701*0x1+0x1*0x172c)+(0x1c*0x34+0x28c+0x27*-0x36)],_0x41c2b0[_0x37c7e8*(-0x1e37+0xf5d+0x2*0x76f)+(0x1f01+-0x1f87+-0x89*-0x1)]);};}}const sC=(_0x3a8c05,_0x184bb8,_0x30e7e2)=>{gg['set'](_0x30e7e2['x'],_0x30e7e2['y'],_0x30e7e2['z'],_0x30e7e2['w'])['normalize'](),_0x3a8c05['setTRS'](_0x184bb8,gg,D['ONE']);};class iC{constructor(_0x1cf0ae,_0x363347=[],_0x4458d3=[]){h(this,'elements'),h(this,'properties'),h(this,'numSplats',0x1302+0x28d*0x1+0x1*-0x158f),h(this,'comments'),h(this,'is4D'),h(this,'dataWorker'),h(this,'destroy',()=>{var _0x203c34;(_0x203c34=this['dataWorker'])==null||_0x203c34['destroy'](),this['dataWorker']=null;});var _0x2ad2ef,_0x1e6ed0,_0x5cd627;this['elements']=_0x1cf0ae,this['properties']=_0x4458d3,this['numSplats']=((_0x2ad2ef=this['getElement']('vertex'))==null?void(0x1e3f+-0x3c1*-0x9+-0x4008):_0x2ad2ef['count'])??0x1edf+-0xbd6+0x1*-0x1309,this['comments']=_0x363347,this['is4D']=!!((_0x5cd627=(_0x1e6ed0=this['getElement']('vertex'))==null?void(-0x361*0x2+-0x1*-0x1bbb+-0x14f9):_0x1e6ed0['properties']['find'](_0x279800=>_0x279800['name']==='t'))!=null&&_0x5cd627['storage']);}async['appendGSpl'+'atData'](_0x39c57a,_0x47f54f,_0x3d7d09){var _0x2bac03;let _0x206d1b=0x2cc*-0x4+-0x1de2*-0x1+-0x12b2;for(let _0x13f2cc=0x24fe*-0x1+-0xa*-0x343+0x10*0x46;_0x13f2cc<_0x3d7d09['length']&&_0x47f54f>_0x3d7d09[_0x13f2cc];_0x13f2cc+=-0xbcf+-0x51f*0x2+0x160f)_0x206d1b=_0x13f2cc/(-0x29a+-0x1175+0x1411);this['dataWorker']||(this['dataWorker']=new JA(),await this['dataWorker']['appendGSpl'+'atData'](this,0x1*0x9c7+-0x3*-0x911+-0x127d*0x2,_0x3d7d09));const _0x319615=this['getElement']('vertex');_0x319615&&(_0x319615['count']=this['numSplats']);const _0x311eac=await this['dataWorker']['appendGSpl'+'atData'](_0x39c57a,_0x206d1b,_0x3d7d09,!(0x21f7+0x4*0x187+-0x2813)),_0x40ec9f=_0x311eac['properties'],_0x273e11=((_0x2bac03=this['getElement']('vertex'))==null?void(-0x1cb3*0x1+0x1*0x102a+0xc89):_0x2bac03['properties'])??[];for(const _0x24ed2a in _0x40ec9f){const _0xc384bf=_0x273e11['find'](_0xb864b1=>_0xb864b1['name']===_0x24ed2a);_0xc384bf?_0xc384bf['storage']=_0x40ec9f[_0x24ed2a]:_0x273e11['push']({'type':'float','name':_0x24ed2a,'storage':_0x40ec9f[_0x24ed2a],'byteSize':0x4});}this['transformD'+'ata']=_0x311eac['transformD'+'ata'],this['numSplats']=_0x40ec9f['position']['length']/(-0x1*-0x2428+0x1e*-0x66+0x233*-0xb);}async['releaseSeq'+'Data'](_0x54ca5b){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedData\x20re'+'leaseSeqDa'+'ta',_0x54ca5b),this['dataWorker']['releaseSeq'+'Data'](_0x54ca5b),this;}async['releaseAll'+'SeqData'](){var _0x2cd617;return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedData\x20re'+'lease\x20all\x20'+'SeqData'),(_0x2cd617=this['dataWorker'])==null||_0x2cd617['releaseAll'+'SeqData'](),this;}['getProp'](_0x450645,_0x140b6f='vertex'){var _0x18a215,_0x5ca50c;return(_0x5ca50c=(_0x18a215=this['getElement'](_0x140b6f))==null?void(-0x2*-0xa5f+-0x1*-0xf9d+-0x245b):_0x18a215['properties']['find'](_0x32a509=>_0x32a509['name']===_0x450645))==null?void(0x2287+0x2171*0x1+-0x43f8):_0x5ca50c['storage'];}['getElement'](_0x2ed042){return this['elements']['find'](_0x2df770=>_0x2df770['name']===_0x2ed042);}['createIter'](_0x426caa,_0x5e93c6,_0x4f4099,_0x5b858b,_0x1a7106){return new tC(this,_0x426caa,_0x5e93c6,_0x4f4099,_0x5b858b,_0x1a7106);}['calcAabb'](_0x43ee7e,_0x5e7593){let _0x4eb219=-0xb0*0x7+-0x1b8f+0x205f*0x1,_0x34b8c0=0x1*-0x1a07+-0x153*-0x11+-0x19*-0x24,_0x10bd80=0x66*0x41+-0x21fc+-0x1*-0x816,_0x83b59c=0x2*-0x1368+-0xb2*0x9+0x2*0x1689,_0x59a7e6=0x14c6*-0x1+0xb77+0x94f,_0x2db1f8=-0x14ce+-0x2565+0x3a33,_0x2a6df1=!(-0x6ed+0x1ff6+-0x1909);const _0x38db76=this['getProp']('position'),_0x1e0899=this['getProp']('scale');for(let _0x45b8cb=-0x1*0xcb3+-0xe87+0xd9d*0x2;_0x45b8cb<this['numSplats'];++_0x45b8cb){if(_0x5e7593&&!_0x5e7593(_0x45b8cb))continue;const _0x181f87=_0x38db76[_0x45b8cb*(-0x21d1+0x1b7b+0x659)+(0x5*-0x71f+-0x9c9+0x2d64)],_0x503e91=_0x38db76[_0x45b8cb*(-0x2412+-0x8b*-0x2+0x1*0x22ff)+(0x568*-0x5+-0xfc6+-0x1*-0x2acf)],_0x5bcb12=_0x38db76[_0x45b8cb*(-0x203d+0x1e6b+-0x1*-0x1d5)+(0x1d23+0xd1c+0xb*-0x3d7)],_0x17a8d8=Math['max'](_0x1e0899[_0x45b8cb*(0x4d0+-0x25f6+0x2129)+(0x43a+0x1*-0x22c3+0x1e89)],_0x1e0899[_0x45b8cb*(-0xacd+-0x1*0x1407+0x1ed7)+(0xb99*-0x1+-0x1*0x22d6+0x2e70)],_0x1e0899[_0x45b8cb*(0x149+-0x4*-0x801+0x214a*-0x1)+(-0x6d6*-0x1+-0x1bb7+0x1*0x14e3)]);if(!isFinite(_0x181f87)||!isFinite(_0x503e91)||!isFinite(_0x5bcb12)||!isFinite(_0x17a8d8))continue;const _0x42c28e=(-0x5*0x47+-0x1a03+-0x8*-0x36d)*Math['exp'](_0x17a8d8);_0x2a6df1?(_0x2a6df1=!(0x24b2+-0x1358+-0x1159),_0x4eb219=_0x181f87-_0x42c28e,_0x34b8c0=_0x503e91-_0x42c28e,_0x10bd80=_0x5bcb12-_0x42c28e,_0x83b59c=_0x181f87+_0x42c28e,_0x59a7e6=_0x503e91+_0x42c28e,_0x2db1f8=_0x5bcb12+_0x42c28e):(_0x4eb219=Math['min'](_0x4eb219,_0x181f87-_0x42c28e),_0x34b8c0=Math['min'](_0x34b8c0,_0x503e91-_0x42c28e),_0x10bd80=Math['min'](_0x10bd80,_0x5bcb12-_0x42c28e),_0x83b59c=Math['max'](_0x83b59c,_0x181f87+_0x42c28e),_0x59a7e6=Math['max'](_0x59a7e6,_0x503e91+_0x42c28e),_0x2db1f8=Math['max'](_0x2db1f8,_0x5bcb12+_0x42c28e));}return _0x2a6df1||(_0x43ee7e['center']['set']((_0x4eb219+_0x83b59c)*(0x3c1*-0x2+0x93e+-0x1bc+0.5),(_0x34b8c0+_0x59a7e6)*(0x14c4+0x5f*0x33+0x27b1*-0x1+0.5),(_0x10bd80+_0x2db1f8)*(0xdcc*-0x2+-0x3e6*-0x7+0x4e+0.5)),_0x43ee7e['halfExtent'+'s']['set']((_0x83b59c-_0x4eb219)*(0x1*-0xec3+-0x96a+-0x3*-0x80f+0.5),(_0x59a7e6-_0x34b8c0)*(-0x182*-0x13+0x2029+-0x3ccf*0x1+0.5),(_0x2db1f8-_0x10bd80)*(0x4*0x4f3+0x1584+-0x2950+0.5))),!_0x2a6df1;}['yieldToMai'+'n'](){var _0x101164;return(_0x101164=globalThis['scheduler'])!=null&&_0x101164['yield']?globalThis['scheduler']['yield']():new Promise(_0x567f17=>{setTimeout(_0x567f17,0xc9d*-0x1+0x2114+-0x1477);});}async['getCenters'](_0x40900e){const _0xb0311d=this['getProp']('x'),_0x2dd75d=this['getProp']('y'),_0xcf8f7=this['getProp']('z');for(let _0x48e686=-0x1*0x244e+0x2*0xf93+0x37*0x18;_0x48e686<this['numSplats'];++_0x48e686)_0x40900e[_0x48e686*(-0xa3*-0x34+0xc82*-0x1+-0x15*0xfb)+(0x25a3+0x2*0xc71+-0x21*0x1e5)]=_0xb0311d[_0x48e686],_0x40900e[_0x48e686*(-0xdb3+0x25ba+0x1*-0x1804)+(0x1*-0x2383+0x4cd*-0x1+0x2851)]=_0x2dd75d[_0x48e686],_0x40900e[_0x48e686*(0x19fa+-0x2361+-0x96a*-0x1)+(-0x1*0xb27+0x1e6e+-0x1345)]=_0xcf8f7[_0x48e686],_0x48e686%Sg===0x115e+-0x1a00+0x8a2&&await this['yieldToMai'+'n']();}async['getMuT'](){var _0x361588;if((_0x361588=this['transformD'+'ata'])!=null&&_0x361588['muT'])return this['transformD'+'ata']['muT'];const _0x5ad8fd=this['getProp']('t');return _0x5ad8fd?new Float32Array(_0x5ad8fd):void(-0x25fa+0x1edd+0x71d);}async['getTScale'](){const _0x49216c=this['getProp']('t_scale');if(!_0x49216c)return;const _0x4fd520=new Float32Array(this['numSplats']);for(let _0x2c09b5=-0x11*0xe5+0x409*-0x2+-0x1*-0x1747;_0x2c09b5<this['numSplats'];++_0x2c09b5)_0x4fd520[_0x2c09b5]=Math['exp'](_0x49216c[_0x2c09b5]),_0x2c09b5%Sg===0x2190+-0x8*0x1c4+-0x2*0x9b8&&await this['yieldToMai'+'n']();return _0x4fd520;}['getMotion'](_0x418743){const _0x5d8408=this['getProp']('motion');_0x5d8408&&new Float32Array(_0x5d8408['buffer']['slice']());}['getTimeInd'+'ex'](){var _0x4c8333;if((_0x4c8333=this['transformD'+'ata'])!=null&&_0x4c8333['timeIndex'])return this['transformD'+'ata']['timeIndex'];const _0x5c4417=this['getProp']('time_index');if(_0x5c4417)return new Float32Array(_0x5c4417);}['calcFocalP'+'oint'](_0x276b51,_0x593fdd){const _0x359a68=this['getProp']('position'),_0x197941=this['getProp']('scale');_0x276b51['x']=-0x15e5+0x2542+-0xf5d,_0x276b51['y']=0x1*-0x2162+0x12cc+0xe96,_0x276b51['z']=0x26f5+-0xe14*-0x2+-0x45*0xf9;let _0x16eb8f=-0x1950+-0x143c+0x16*0x212;for(let _0x3e1914=0x2628+0xfe*0x1f+-0x44ea;_0x3e1914<this['numSplats'];++_0x3e1914){if(_0x593fdd&&!_0x593fdd(_0x3e1914))continue;const _0x1455ea=_0x359a68[_0x3e1914*(-0x383+0x539+-0x1b3)+(0x1*-0x2561+-0x19e1+0x3f42)],_0x4e40c7=_0x359a68[_0x3e1914*(0x19b4+0x164b+-0x17fe*0x2)+(0x1c4a+0x4b*0x6+-0x1e0b)],_0x3bad55=_0x359a68[_0x3e1914*(-0x23*-0xfd+0x2308+-0x459c)+(0xe2c*-0x1+0x467+0x9c7)];if(!isFinite(_0x1455ea)||!isFinite(_0x4e40c7)||!isFinite(_0x3bad55))continue;const _0x3056e4=(-0x2499+0x1*0x22ed+0x1ad)/(0x1da*0x1+0x17b*0x17+0x72e*-0x5+Math['max'](_0x197941[_0x3e1914*(-0x20c6+-0x13*-0x207+0x4*-0x16f)+(-0x43f+0x515+-0xd6*0x1)],_0x197941[_0x3e1914*(0xa4*-0x6+-0x2686+-0x23b*-0x13)+(0x2353*0x1+-0x2214+-0x6a*0x3)],_0x197941[_0x3e1914*(-0xdb1+0xd*0x131+-0x1*0x1c9)+(0x62a+0xece+-0x14f6)]));_0x276b51['x']+=_0x1455ea*_0x3056e4,_0x276b51['y']+=_0x4e40c7*_0x3056e4,_0x276b51['z']+=_0x3bad55*_0x3056e4,_0x16eb8f+=_0x3056e4;}_0x276b51['mulScalar']((0x1*-0x2260+0x17*-0x14e+-0x1*-0x4063)/_0x16eb8f);}['renderWire'+'frameBound'+'s'](_0xa28c6a,_0x559c07){const _0x54937d=new D(),_0x467bbb=new le(),_0x5e6010=new D(),_0x4e7b99=new D(),_0x2b3cb3=new D(),_0x2daa64=this['createIter'](_0x54937d,_0x467bbb,_0x5e6010);for(let _0xac5baf=0x2*0xf39+-0x1a6d+0x3*-0x157;_0xac5baf<this['numSplats'];++_0xac5baf)_0x2daa64['read'](_0xac5baf),sC(gc,_0x54937d,_0x467bbb),gc['mul2'](_0x559c07,gc),_0x4e7b99['set'](_0x5e6010['x']*-(0x2*-0x8eb+0x55d*-0x1+-0x1735*-0x1),_0x5e6010['y']*-(-0x28d+-0x62b+0x8ba),_0x5e6010['z']*-(0x21*-0x27+0x51+0x8*0x97)),_0x2b3cb3['set'](_0x5e6010['x']*(-0xdf5+0xa*-0x21f+0x232d),_0x5e6010['y']*(0x9c0+0x941+0x12ff*-0x1),_0x5e6010['z']*(-0x5e*0x19+0x12*0x1b7+0x5*-0x456)),_0xa28c6a['immediate']['drawWireAl'+'ignedBox'](_0x4e7b99,_0x2b3cb3,eC,!(-0xf71+-0x1891+0x2802),_0xa28c6a['defaultDra'+'wLayer'],gc);}get['isCompress'+'ed'](){return!(0xf6*-0xf+0x1484+-0x619);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x3fa4c4=0x22db*-0x1+0x1eed+0x2*0x1f7;_0x3fa4c4<0x13+-0x1*-0xd5f+-0x2b*0x4f;++_0x3fa4c4)if(!this['getProp']('f_rest_'+_0x3fa4c4))return _0x3fa4c4;return 0xcd+-0x5d4+0x534;})())]??-0x335+0x105f*0x2+-0x1d89;}['calcMorton'+'Order'](){const _0x1c2bd8=_0xcf150b=>{let _0x524f2a=_0xcf150b[-0x3b*0x2+-0x9d*0x7+0x1*0x4c1],_0x453b4e=_0xcf150b[-0x140c+-0x15d4+0x29e0];for(let _0x48f239=-0x8f4+-0x1075+-0x196a*-0x1;_0x48f239<_0xcf150b['length'];_0x48f239++)_0xcf150b[_0x48f239]<_0x524f2a&&(_0x524f2a=_0xcf150b[_0x48f239]),_0xcf150b[_0x48f239]>_0x453b4e&&(_0x453b4e=_0xcf150b[_0x48f239]);return{'min':_0x524f2a,'max':_0x453b4e};},_0x131a34=(_0x21e818,_0x281328,_0x419e92)=>{const _0x324c68=_0x5e6aef=>(_0x5e6aef&=-0x7*-0x522+-0x3ae+-0x96b*0x3,_0x5e6aef=(_0x5e6aef^_0x5e6aef<<-0x2602+0x13+0x47*0x89)&0x14fb499b2+0x1a6e3cb65+-0x1f7986418,_0x5e6aef=(_0x5e6aef^_0x5e6aef<<-0x5*-0x4+0xc88+-0x142*0xa)&0x4874b9b+-0x1f*-0x1c13ce+-0x4ecc17e,_0x5e6aef=(_0x5e6aef^_0x5e6aef<<0x26ec+0x83*0xe+-0x2e12)&-0x2ad9026+0x2f*0x19c79+0x85*0xa738a,_0x5e6aef=(_0x5e6aef^_0x5e6aef<<0x78f+-0x1c4c+0x14bf)&-0x1*-0x1af307b+-0x113b8d21+0x18b0eeef*0x1,_0x5e6aef);return(_0x324c68(_0x419e92)<<0x2*-0x7f+-0x1248+0x1348)+(_0x324c68(_0x281328)<<-0x6dd*-0x3+-0x26b5+0x1*0x121f)+_0x324c68(_0x21e818);},_0x204062=this['getProp']('x'),_0xd1c00f=this['getProp']('y'),_0x1d25db=this['getProp']('z'),{min:_0x5266f1,max:_0x311937}=_0x1c2bd8(_0x204062),{min:_0x5add7c,max:_0x358888}=_0x1c2bd8(_0xd1c00f),{min:_0x2821f2,max:_0x218592}=_0x1c2bd8(_0x1d25db),_0x6c8bd7=_0x5266f1===_0x311937?0x84a*0x1+-0x7a1+-0xd*0xd:(-0x1d66+-0x61*-0x16+-0xc88*-0x2)/(_0x311937-_0x5266f1),_0x5ad8e0=_0x5add7c===_0x358888?-0x1bb1+-0x13be+0x1*0x2f6f:(-0x1*0x1c2b+-0x1*0x1c85+-0x1e58*-0x2)/(_0x358888-_0x5add7c),_0x51d24e=_0x2821f2===_0x218592?0x254e+0xae2+-0x303*0x10:(0x3*-0xc7d+-0x18ad+-0x3*-0x160c)/(_0x218592-_0x2821f2),_0x163b8d=new Map();for(let _0x52e9de=-0x79*0xa+-0x1707+0x1bc1;_0x52e9de<this['numSplats'];_0x52e9de++){const _0x37f70b=Math['min'](0x28e+-0x16c3*0x1+0x1834,Math['floor']((_0x204062[_0x52e9de]-_0x5266f1)*_0x6c8bd7)),_0x6edad3=Math['min'](0x1f38+-0x147f+-0x6ba,Math['floor']((_0xd1c00f[_0x52e9de]-_0x5add7c)*_0x5ad8e0)),_0x5f4b1e=Math['min'](-0x2351+0x6d4*-0x1+0x2e24,Math['floor']((_0x1d25db[_0x52e9de]-_0x2821f2)*_0x51d24e)),_0x7ff2b3=_0x131a34(_0x37f70b,_0x6edad3,_0x5f4b1e),_0x47cbaa=_0x163b8d['get'](_0x7ff2b3);_0x47cbaa?_0x47cbaa['push'](_0x52e9de):_0x163b8d['set'](_0x7ff2b3,[_0x52e9de]);}const _0x3067f4=Array['from'](_0x163b8d['keys']())['sort']((_0x427aec,_0x2353e0)=>_0x427aec-_0x2353e0),_0x21b2b3=new Uint32Array(this['numSplats']);let _0x393628=-0x133*0x11+-0x233*0xe+0x332d*0x1;for(let _0x4251c7=0x267b+-0x2579*-0x1+0x2*-0x25fa;_0x4251c7<_0x3067f4['length'];++_0x4251c7){const _0x4dc2f9=_0x163b8d['get'](_0x3067f4[_0x4251c7]);for(let _0x1b4b4a=0x24e7+-0x230+-0x1*0x22b7;_0x1b4b4a<_0x4dc2f9['length'];++_0x1b4b4a)_0x21b2b3[_0x393628++]=_0x4dc2f9[_0x1b4b4a];}return _0x21b2b3;}['reorder'](_0x482739){const _0x1849b2=new Map(),_0x483b86=_0x191ad0=>{if(_0x1849b2['has'](_0x191ad0)){const _0xdc5808=_0x1849b2['get'](_0x191ad0);return _0x1849b2['delete'](_0x191ad0),_0xdc5808;}return new ArrayBuffer(_0x191ad0);},_0x51a65b=_0x2fcf61=>{_0x1849b2['set'](_0x2fcf61['byteLength'],_0x2fcf61);},_0x5e9595=_0x4b77c9=>{const _0x28bdab=new _0x4b77c9['constructo'+'r'](_0x483b86(_0x4b77c9['byteLength']));for(let _0x169d20=0x1*-0x25db+-0x84*-0x34+0xb0b;_0x169d20<_0x482739['length'];_0x169d20++)_0x28bdab[_0x169d20]=_0x4b77c9[_0x482739[_0x169d20]];return _0x51a65b(_0x4b77c9['buffer']),_0x28bdab;};this['elements']['forEach'](_0x3d028e=>{_0x3d028e['properties']['forEach'](_0x4c2b22=>{_0x4c2b22['storage']&&(_0x4c2b22['storage']=_0x5e9595(_0x4c2b22['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}const rC='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20void\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(vert'+'ex_positio'+'n,\x200.0,\x201.'+'0);\x0a\x20\x20\x20\x20}\x0a',aC='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tEvalSHVS\x22'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'akes\x20a\x20nor'+'malized\x203-'+'component\x20'+'value,\x20con'+'vert\x20to\x20(1'+'1,\x2011,\x2010)'+'\x20bit\x20range'+'\x20and\x0a\x20\x20\x20\x20/'+'/\x20then\x20pac'+'kage\x20into\x20'+'RGBA8\x0a\x20\x20\x20\x20'+'vec4\x20packR'+'gb(vec3\x20v)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uvec3\x20vb\x20'+'=\x20uvec3(cl'+'amp(v,\x20vec'+'3(0.0),\x20ve'+'c3(1.0))\x20*'+'\x20vec3(2047'+'.0,\x202047.0'+',\x201023.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uint\x20bits\x20'+'=\x20(vb.x\x20<<'+'\x2021)\x20|\x20(vb'+'.y\x20<<\x2010)\x20'+'|\x20vb.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4((u'+'vec4(bits)'+'\x20>>\x20uvec4('+'24,\x2016,\x208,'+'\x200))\x20&\x20uve'+'c4(0xff))\x20'+'/\x20vec4(255'+'.0);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20medium'+'p\x20vec3\x20dir'+';\x0a\x20\x20\x20\x20unif'+'orm\x20medium'+'p\x20sampler2'+'D\x20centroid'+'s;\x0a\x20\x20\x20\x20uni'+'form\x20mediu'+'mp\x20float\x20s'+'hN_mins;\x0a\x20'+'\x20\x20\x20uniform'+'\x20mediump\x20f'+'loat\x20shN_m'+'axs;\x0a\x0a\x20\x20\x20\x20'+'void\x20main('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20ivec'+'2\x20uv\x20=\x20ive'+'c2(gl_Frag'+'Coord.xy)\x20'+'*\x20ivec2(SH'+'_COEFFS,\x201'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20mediump\x20v'+'ec3\x20coeffi'+'cients[SH_'+'COEFFS];\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20read\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20for'+'\x20(int\x20i\x20=\x20'+'0;\x20i\x20<\x20SH_'+'COEFFS;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20s\x20=\x20texe'+'lFetch(cen'+'troids,\x20iv'+'ec2(uv.x\x20+'+'\x20i,\x20uv.y),'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20coefficie'+'nts[i]\x20=\x20m'+'ix(vec3(sh'+'N_mins),\x20v'+'ec3(shN_ma'+'xs),\x20s);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20evaluate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20packRgb'+'(evalSH(co'+'efficients'+',\x20dir)\x20*\x200'+('.25\x20+\x200.5)'+';\x0a\x20\x20\x20\x20}\x0a'),nC='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20@vertex'+'\x0a\x20\x20\x20\x20fn\x20ve'+'rtexMain(i'+'nput:\x20Vert'+'exInput)\x20-'+'>\x20VertexOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utput:\x20Ver'+'texOutput;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(vertex_'+'position,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20}\x0a',oC='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tEvalSHVS\x22'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'akes\x20a\x20nor'+'malized\x203-'+'component\x20'+'value,\x20con'+'vert\x20to\x20(1'+'1,\x2011,\x2010)'+'\x20bit\x20range'+'\x20and\x0a\x20\x20\x20\x20/'+'/\x20then\x20pac'+'kage\x20into\x20'+'RGBA8\x0a\x20\x20\x20\x20'+'fn\x20packRgb'+'(v:\x20vec3f)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20vb\x20=\x20v'+'ec3u(clamp'+'(v,\x20vec3f('+'0.0),\x20vec3'+'f(1.0))\x20*\x20'+'vec3f(2047'+'.0,\x202047.0'+',\x201023.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20bits\x20='+'\x20dot(vb,\x20v'+'ec3u(1\x20<<\x20'+'21,\x201\x20<<\x201'+'0,\x201));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(('+'vec4u(bits'+')\x20>>\x20vec4u'+'(24,\x2016,\x208'+',\x200))\x20&\x20ve'+'c4u(0xff))'+'\x20/\x20vec4f(2'+'55.0);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20un'+'iform\x20dir:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20uniform\x20'+'shN_mins:\x20'+'f32;\x0a\x20\x20\x20\x20u'+'niform\x20shN'+'_maxs:\x20f32'+';\x0a\x0a\x20\x20\x20\x20var'+'\x20centroids'+':\x20texture_'+'2d<f32>;\x0a\x0a'+'\x20\x20\x20\x20@fragm'+'ent\x0a\x20\x20\x20\x20fn'+'\x20fragmentM'+'ain(input:'+'\x20FragmentI'+'nput)\x20->\x20F'+'ragmentOut'+'put\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20uv\x20=\x20'+'vec2i(inpu'+'t.position'+'.xy)\x20*\x20vec'+'2i(SH_COEF'+'FS,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'coefficien'+'ts:\x20array<'+'vec3f,\x20SH_'+'COEFFS>;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20read\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20for'+'\x20(var\x20i:\x20i'+'32\x20=\x200;\x20i\x20'+'<\x20SH_COEFF'+'S;\x20i++)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20s:\x20v'+'ec3f\x20=\x20tex'+'tureLoad(c'+'entroids,\x20'+'vec2i(uv.x'+'\x20+\x20i,\x20uv.y'+'),\x200).xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20coeffic'+'ients[i]\x20='+'\x20mix(vec3f'+'(uniform.s'+'hN_mins),\x20'+'vec3f(unif'+('orm.shN_ma'+'xs),\x20s);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20evaluate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.color'+'\x20=\x20packRgb'+'(evalSH(&c'+'oefficient'+'s,\x20uniform'+'.dir)\x20*\x200.'+'25\x20+\x200.5);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20out'+'put;\x0a\x20\x20\x20\x20}'+'\x0a'),lC='\x0a\x20\x20\x20\x20unifo'+'rm\x20mediump'+'\x20sampler2D'+'\x20sh0;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20sh_lab'+'els;\x0a\x20\x20\x20\x20u'+'niform\x20med'+'iump\x20sampl'+'er2D\x20sh_re'+'sult;\x0a\x0a\x20\x20\x20'+'\x20uniform\x20v'+'ec4\x20sh0_mi'+'ns;\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20sh0_maxs;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20SH_C0\x20=\x20'+'0.28209479'+'177387814;'+'\x0a\x0a\x20\x20\x20\x20//\x20u'+'npack\x2011,\x20'+'11,\x2010\x20nor'+'malized\x20va'+'lue\x20from\x20r'+'gba8\x20textu'+'re\x20sample\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackRgb(v'+'ec4\x20v)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uve'+'c4\x20uv\x20=\x20uv'+'ec4(v\x20*\x2025'+'5.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uint\x20b'+'its\x20=\x20(uv.'+'x\x20<<\x2024)\x20|'+'\x20(uv.y\x20<<\x20'+'16)\x20|\x20(uv.'+'z\x20<<\x208)\x20|\x20'+'uv.w;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uvec3\x20'+'vb\x20=\x20(uvec'+'3(bits)\x20>>'+'\x20uvec3(21,'+'\x2010,\x200))\x20&'+'\x20uvec3(0x7'+'ffu,\x200x7ff'+'u,\x200x3ffu)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'3(vb)\x20/\x20ve'+'c3(2047.0,'+'\x202047.0,\x201'+'023.0);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20readCo'+'lor(in\x20Spl'+'atSource\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'sample\x20bas'+'e\x20color\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20baseSampl'+'e\x20=\x20mix(sh'+'0_mins,\x20sh'+'0_maxs,\x20te'+'xelFetch(s'+'h0,\x20source'+'.uv,\x200));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20resolve\x20'+'base\x20color'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec4\x20base\x20='+'\x20vec4(vec3'+'(0.5)\x20+\x20ba'+'seSample.x'+'yz\x20*\x20SH_C0'+',\x201.0\x20/\x20(1'+'.0\x20+\x20exp(-'+'baseSample'+'.w)));\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20e'+'xtract\x20sph'+'erical\x20har'+'monics\x20pal'+'ette\x20index'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20label'+'Sample\x20=\x20i'+'vec2(texel'+'Fetch(sh_l'+'abels,\x20sou'+'rce.uv,\x200)'+'.xy\x20*\x20255.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20int\x20n\x20=\x20'+('labelSampl'+'e.x\x20+\x20labe'+'lSample.y\x20'+'*\x20256;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20shSample\x20'+'=\x20texelFet'+'ch(sh_resu'+'lt,\x20ivec2('+'n\x20%\x2064,\x20n\x20'+'/\x2064),\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20sh\x20=\x20('+'unpackRgb('+'shSample)\x20'+'-\x20vec3(0.5'+'))\x20*\x204.0;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vec4'+'(base.xyz\x20'+'+\x20sh,\x20base'+'.w);\x0a\x20\x20\x20\x20}'+'\x0a'),cC='\x0a\x20\x20\x20\x20var\x20s'+'h0:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20s'+'h_labels:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20sh_re'+'sult:\x20text'+'ure_2d<f32'+'>;\x0a\x0a\x20\x20\x20\x20un'+'iform\x20sh0_'+'mins:\x20vec4'+'f;\x0a\x20\x20\x20\x20uni'+'form\x20sh0_m'+'axs:\x20vec4f'+';\x0a\x0a\x20\x20\x20\x20con'+'st\x20SH_C0:\x20'+'f32\x20=\x200.28'+'2094791773'+'87814;\x0a\x0a\x20\x20'+'\x20\x20//\x20unpac'+'k\x2011,\x2011,\x20'+'10\x20normali'+'zed\x20value\x20'+'from\x20rgba8'+'\x20texture\x20s'+'ample\x0a\x20\x20\x20\x20'+'fn\x20unpackR'+'gb(v:\x20vec4'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20bits'+'\x20=\x20dot(vec'+'4u(v\x20*\x20255'+'.0),\x20vec4u'+'(1u\x20<<\x2024,'+'\x201u\x20<<\x2016,'+'\x201u\x20<<\x208,\x20'+'1u));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20vb'+'\x20=\x20(vec3u('+'bits)\x20>>\x20v'+'ec3u(21,\x201'+'0,\x200))\x20&\x20v'+'ec3u(0x7ff'+'u,\x200x7ffu,'+'\x200x3ffu);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec3f'+'(vb)\x20/\x20vec'+'3f(2047.0,'+'\x202047.0,\x201'+'023.0);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20f'+'n\x20readColo'+'r(source:\x20'+'ptr<functi'+'on,\x20SplatS'+'ource>)\x20->'+'\x20vec4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'sample\x20bas'+'e\x20color\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'baseSample'+':\x20vec4f\x20=\x20'+'mix(unifor'+'m.sh0_mins'+',\x20uniform.'+'sh0_maxs,\x20'+'textureLoa'+'d(sh0,\x20sou'+'rce.uv,\x200)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20base\x20'+'=\x20vec4f(ve'+'c3f(0.5)\x20+'+'\x20baseSampl'+'e.xyz\x20*\x20SH'+'_C0,\x201.0\x20/'+'\x20(1.0\x20+\x20ex'+'p(-baseSam'+'ple.w)));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20extract\x20'+'spherical\x20'+'harmonics\x20'+'palette\x20in'+'dex\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20labe'+'lSample:\x20v'+'ec2i\x20=\x20vec'+'2i(texture'+'Load(sh_la'+'bels,\x20sour'+'ce.uv,\x200).'+'xy\x20*\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20n\x20=\x20l'+('abelSample'+'.x\x20+\x20label'+'Sample.y\x20*'+'\x20256;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hSample:\x20v'+'ec4f\x20=\x20tex'+'tureLoad(s'+'h_result,\x20'+'vec2i(n\x20%\x20'+'64,\x20n\x20/\x2064'+'),\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'h:\x20vec3f\x20='+'\x20(unpackRg'+'b(shSample'+')\x20-\x20vec3f('+'0.5))\x20*\x204.'+'0;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20v'+'ec4f(base.'+'xyz\x20+\x20sh,\x20'+'base.w);\x0a\x20'+'\x20\x20\x20}\x0a'),hC=(_0x206bd5,_0x7c7420)=>{for(const _0x14d71d in _0x7c7420)_0x206bd5['resolve'](_0x14d71d)['setValue'](_0x7c7420[_0x14d71d]);};class dC extends ys{constructor(){super(...arguments),h(this,'executeCal'+'lback',null);}['execute'](){var _0x12cb31;(_0x12cb31=this['executeCal'+'lback'])==null||_0x12cb31['call'](this);}}const yg=new te(),uo=new D();class fC{constructor(_0x55b587,_0x4c3e9f){h(this,'prevDir',new D()),h(this,'updateMode','enable'),(this['device']=_0x55b587,this['gsplatInst'+'ance']=_0x4c3e9f);const {resource:_0xf90934}=_0x4c3e9f,_0x1a6d9a=new Map(Pe['get'](_0x55b587,_0x55b587['isWebGPU']?'wgsl':'glsl'));this['shader']=$t['createShad'+'er'](_0x55b587,{'uniqueName':'gsplatReso'+'lveSH','vertexGLSL':rC,'fragmentGLSL':aC,'vertexWGSL':nC,'fragmentWGSL':oC,'vertexIncludes':_0x1a6d9a,'fragmentIncludes':_0x1a6d9a,'fragmentDefines':new Map([['SH_BANDS',_0xf90934['gsplatData']['shBands']['toString']()]]),'attributes':{'vertex_position':Me}}),this['texture']=_0xf90934['createText'+'ure']('centroids',Ne,new J(-0x1*0x1bcc+-0xf84+0x2b90,-0x6*0x526+0x1be2+0x702)),this['renderTarg'+'et']=new gt({'colorBuffer':this['texture'],'depth':!(-0x71f*-0x2+0x9b3+-0x17f*0x10)}),this['renderPass']=new dC(_0x55b587),this['renderPass']['init'](this['renderTarg'+'et'],{}),this['renderPass']['colorOps']['clear']=!(-0x1*-0x1502+0x96f+-0x1e71*0x1),this['quadRender']=new Ah(this['shader']);const {material:_0x475ab9}=_0x4c3e9f;_0x475ab9['setDefine']('SH_BANDS','0');const {shaderChunks:_0x19d5bd}=_0x475ab9;_0x19d5bd['glsl']['set']('gsplatSogs'+'ColorVS',lC),_0x19d5bd['wgsl']['set']('gsplatSogs'+'ColorVS',cC),_0x475ab9['update'](),_0x55b587['scope']['resolve']('sh_result')['setValue'](this['texture']);}['destroy'](){const {gsplatInstance:_0x979a9c}=this,{material:_0x1c6046}=_0x979a9c;_0x1c6046['setDefine']('SH_BANDS',_0x979a9c['resource']['gsplatData']['shBands']['toString']());const {shaderChunks:_0x201b9b}=_0x1c6046;_0x201b9b['glsl']['delete']('gsplatSogs'+'ColorVS'),_0x201b9b['wgsl']['delete']('gsplatSogs'+'ColorVS'),_0x1c6046['update'](),this['quadRender']['destroy'](),this['renderPass']['destroy'](),this['renderTarg'+'et']['destroy'](),this['texture']['destroy'](),this['shader']['destroy']();}['render'](_0x5b1dc0,_0x2bfff3){const {prevDir:_0x38062d,updateMode:_0x5f0745}=this;if(_0x5f0745==='disable'||(yg['invert'](_0x2bfff3),yg['transformV'+'ector'](_0x5b1dc0['forward'],uo),uo['normalize'](),_0x5f0745==='enable'&&uo['equalsAppr'+'ox'](_0x38062d,0x917+-0x18c2+-0x3*-0x539+0.001)))return;_0x38062d['copy'](uo);const _0x2cbfca=()=>{const {device:_0x5d3564}=this,{sh_centroids:_0x59eef2,meta:_0x6cc6e8}=this['gsplatInst'+'ance']['resource']['gsplatData'];hC(_0x5d3564['scope'],{'dir':uo['toArray'](),'centroids':_0x59eef2,'shN_mins':_0x6cc6e8['shN']['mins'],'shN_maxs':_0x6cc6e8['shN']['maxs']}),_0x5d3564['setCullMod'+'e'](bt),_0x5d3564['setDepthSt'+'ate'](Yt['NODEPTH']),_0x5d3564['setStencil'+'State'](null,null),_0x5d3564['setBlendSt'+'ate'](pt['NOBLEND']),this['quadRender']['render']();};this['renderPass']['executeCal'+'lback']=_0x2cbfca,this['renderPass']['render']();}}const uC='\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20means_l'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20means_'+'u;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20quats'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20scales'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20sh_lab'+'els;\x0a\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20uint\x20n'+'umSplats;\x0a'+'\x0a\x20\x20\x20\x20uint\x20'+'packU32(ve'+'c4\x20v)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20uint(v.'+'x\x20*\x20255.0)'+'\x20<<\x2024u\x20|\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20uint('+'v.y\x20*\x20255.'+'0)\x20<<\x2016u\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uin'+'t(v.z\x20*\x2025'+'5.0)\x20<<\x208u'+'\x20|\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ui'+'nt(v.w\x20*\x202'+'55.0);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20uv'+'ec4\x20packU3'+'2(vec4\x20a,\x20'+'vec4\x20b,\x20ve'+'c4\x20c,\x20vec4'+'\x20d)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uvec4(pac'+'kU32(a),\x20p'+'ackU32(b),'+'\x20packU32(c'+'),\x20packU32'+'(d));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20int\x20w\x20='+'\x20int(textu'+'reSize(mea'+'ns_l,\x200).x'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ivec2\x20uv\x20'+'=\x20ivec2(gl'+'_FragCoord'+'.xy);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(ui'+'nt(uv.x\x20+\x20'+'uv.y\x20*\x20w)\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20meansLSam'+'ple\x20=\x20texe'+'lFetch(mea'+'ns_l,\x20uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20meansUSam'+'ple\x20=\x20texe'+'lFetch(mea'+'ns_u,\x20uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20quatsSamp'+'le\x20=\x20texel'+'Fetch(quat'+'s,\x20uv,\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20scales'+'Sample\x20=\x20t'+'exelFetch('+'scales,\x20uv'+',\x200).xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shLabel'+'sSample\x20=\x20'+'texelFetch'+'(sh_labels'+',\x20uv,\x200).x'+('y;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20pcFragCo'+'lor0\x20=\x20pac'+'kU32(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(meansLS'+'ample,\x20shL'+'abelsSampl'+'e.x),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(meansUS'+'ample,\x20shL'+'abelsSampl'+'e.y),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(quatsSa'+'mple),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec4(scales'+'Sample,\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20}\x0a'),pC='\x0a\x20\x20\x20\x20var\x20m'+'eans_l:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20means_u'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20qua'+'ts:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20s'+'cales:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20sh_label'+'s:\x20texture'+'_2d<f32>;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20numSpla'+'ts:\x20u32;\x0a\x0a'+'\x20\x20\x20\x20fn\x20pac'+'kU32(v:\x20ve'+'c4<f32>)\x20-'+'>\x20u32\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20(u32(v.'+'x\x20*\x20255.0)'+'\x20<<\x2024u)\x20\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20(u3'+'2(v.y\x20*\x2025'+'5.0)\x20<<\x2016'+'u)\x20\x20|\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(u32(v.z\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20u32(v.w'+'\x20*\x20255.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20fn\x20packU'+'Vec32(a:\x20v'+'ec4<f32>,\x20'+'b:\x20vec4<f3'+'2>,\x20c:\x20vec'+'4<f32>,\x20d:'+'\x20vec4<f32>'+')\x20->\x20vec4<'+'u32>\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4<u32'+'>(packU32('+'a),\x20packU3'+'2(b),\x20pack'+'U32(c),\x20pa'+'ckU32(d));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20@fragmen'+'t\x0a\x20\x20\x20\x20fn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Fragme'+'ntOutput;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20w:\x20u32\x20'+'=\x20textureD'+'imensions('+'means_l,\x200'+').x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20uv:'+'\x20vec2<u32>'+'\x20=\x20vec2<u3'+'2>(pcPosit'+'ion.xy);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uv.x\x20+\x20uv'+'.y\x20*\x20w\x20>=\x20'+'uniform.nu'+'mSplats)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20discard'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20output;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20fetch\x20the'+'\x20source\x20in'+'dex\x20and\x20ca'+'lculate\x20so'+'urce\x20uv\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'meansLSamp'+'le:\x20vec3<f'+('32>\x20=\x20text'+'ureLoad(me'+'ans_l,\x20uv,'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20meansUSam'+'ple:\x20vec3<'+'f32>\x20=\x20tex'+'tureLoad(m'+'eans_u,\x20uv'+',\x200).xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20quatsSam'+'ple:\x20vec4<'+'f32>\x20=\x20tex'+'tureLoad(q'+'uats,\x20uv,\x20'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20scal'+'esSample:\x20'+'vec3<f32>\x20'+'=\x20textureL'+'oad(scales'+',\x20uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20shLa'+'belsSample'+':\x20vec2<f32'+'>\x20=\x20textur'+'eLoad(sh_l'+'abels,\x20uv,'+'\x200).xy;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20packUVec'+'32(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(meansLSam'+'ple,\x20shLab'+'elsSample.'+'x),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(meansUSam'+'ple,\x20shLab'+'elsSample.'+'y),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(quatsSamp'+'le),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4(scalesSa'+'mple,\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a'),An=0x11bb+-0xf*0x12e+0x9*-0x1+0.28209479177387814,Ci=_0x2d679e=>_0x2d679e['read'](0x1aa2*0x1+0x415+-0x1eb7,0x1f96+-0x2409+-0x1*-0x473,_0x2d679e['width'],_0x2d679e['height'],{'mipLevel':0x0,'face':0x0,'immediate':!(0x5b*0x7+0x1c*-0x1b+0x77)}),mC=(_0x50efcf,_0x4e64c5)=>{for(const _0x20d234 in _0x4e64c5)_0x50efcf['resolve'](_0x20d234)['setValue'](_0x4e64c5[_0x20d234]);};class _C{constructor(_0x427f0f,_0xa1e85c,_0x3b6e5e,_0x5c89b1,_0x3f7c7c,_0x1a5cac){const _0x58bfcd=(_0x2da790,_0x444014,_0x3bd377)=>_0x2da790*(-0xc53+0x1e7*0x2+-0x1*-0x886-_0x3bd377)+_0x444014*_0x3bd377,{meta:_0x2802d1}=_0x427f0f,{means:_0x4e2917,scales:_0x2480bc,sh0:_0x305777,shN:_0x59016d}=_0x2802d1,_0x207ea6=_0xa1e85c&&_0x427f0f['means_l']['_levels'][0x23cd+0x1*0xa8d+-0x2e5a],_0x23f3f7=_0xa1e85c&&_0x427f0f['means_u']['_levels'][-0x2*0xfb1+-0x1*-0x2334+-0x3d2],_0x55d44c=_0x3b6e5e&&_0x427f0f['quats']['_levels'][0xef3+-0xb98+0x35b*-0x1],_0x5d0e1a=_0x5c89b1&&_0x427f0f['scales']['_levels'][-0xf44+-0x2199+0x30dd],_0xba8b46=_0x3f7c7c&&_0x427f0f['sh0']['_levels'][-0x1ec9*0x1+-0x1727+-0xd7c*-0x4],_0x2e8d0c=_0x1a5cac&&_0x427f0f['sh_labels']['_levels'][0x1*0xaed+-0x2395+0x18a8],_0x29df30=_0x1a5cac&&_0x427f0f['sh_centroi'+'ds']['_levels'][0x3*-0xc61+0xa01+-0xd91*-0x2],_0x3a0ac0=(0x1562+0x1a9f+-0x2fff)/Math['sqrt'](-0x6*-0x47+0x157f*0x1+-0x1*0x1727);this['read']=_0x7baab8=>{if(_0xa1e85c){const _0x5ead96=_0x58bfcd(_0x4e2917['mins'][0xc65+0x855+0x17b*-0xe],_0x4e2917['maxs'][0x1d9*0x2+-0x237d+0x1fcb],((_0x23f3f7[_0x7baab8*(0x1*-0x33a+-0x41*0x33+0x1031)+(-0xc*0x10d+-0x13df+0x5*0x67f)]<<0x1d1b*-0x1+-0x9e*-0x5+-0x15f*-0x13)+_0x207ea6[_0x7baab8*(0xe87+0x140c+-0x228f)+(0x109e*-0x1+-0x21e9*0x1+0x3287)])/(-0x2dcc+-0xf76+-0x1*-0x13d41)),_0x3f1a5e=_0x58bfcd(_0x4e2917['mins'][0x10d2+-0x122*0x6+-0xa05],_0x4e2917['maxs'][-0x64+-0x89*-0x5+0x124*-0x2],((_0x23f3f7[_0x7baab8*(-0x160*0x16+-0x2*0x10ad+0x3f9e)+(0x226f+0x1adb+-0x3d49)]<<0x4*-0x426+-0xdd9+0x1e79)+_0x207ea6[_0x7baab8*(0x26d6+-0x913+0x1*-0x1dbf)+(0x6cc*-0x4+-0x24+0x1b55)])/(0xd*0xdea+0xd606+-0x8ae9)),_0x5b7fd6=_0x58bfcd(_0x4e2917['mins'][0x99*-0x1+-0x135d*0x1+0x13f8],_0x4e2917['maxs'][-0x1cb2+-0x1e89+0xf*0x3f3],((_0x23f3f7[_0x7baab8*(-0x1280+-0x2335+-0x329*-0x11)+(0x29*0x7+-0x1bd7+0x1aba)]<<0xf1*-0x17+-0x13d1+0x2980)+_0x207ea6[_0x7baab8*(0xb*0x2db+0xa85+-0x29ea)+(0x9*0x3b+0x3a*0x3+-0x2bf)])/(0x1d05*0x8+-0x164d4+0x17cab));_0xa1e85c['x']=Math['sign'](_0x5ead96)*(Math['exp'](Math['abs'](_0x5ead96))-(-0x1*0xdf6+-0x105*-0x21+-0x1*0x13ae)),_0xa1e85c['y']=Math['sign'](_0x3f1a5e)*(Math['exp'](Math['abs'](_0x3f1a5e))-(-0x957+0x1fa2+-0x164a)),_0xa1e85c['z']=Math['sign'](_0x5b7fd6)*(Math['exp'](Math['abs'](_0x5b7fd6))-(0x1cd*0x14+0x205e*0x1+-0xf*0x48f));}if(_0x3b6e5e){const _0xa84100=(_0x55d44c[_0x7baab8*(-0x880+-0xc0d*0x3+0x2cab)+(0x10e8+0x90d*-0x1+-0x7db)]/(0xfd6*0x1+-0x4b5+-0xa22)-(0x2*-0xb96+-0xb81+0x327*0xb+0.5))*_0x3a0ac0,_0x3239e1=(_0x55d44c[_0x7baab8*(0x18c8+0x1*-0x2456+0xb92)+(-0x1*-0x7d+0x8b*0x22+-0x1e5*0xa)]/(0x1196+-0x22b6*-0x1+-0x334d)-(-0x27*-0x1a+0xf28+0x2*-0x98f+0.5))*_0x3a0ac0,_0x40592e=(_0x55d44c[_0x7baab8*(-0x17*0xc9+0x33*-0x74+0x292f)+(-0xe1d*-0x2+0x76*-0x3e+-0x2e*-0x2)]/(-0x12b2+-0x1*-0x1f4f+-0xb9e)-(0x1*-0x1fec+-0x1205+-0x31f1*-0x1+0.5))*_0x3a0ac0,_0x2dd479=Math['sqrt'](Math['max'](0x215+0x1f98+-0x21ad,-0x951*0x1+0x3*-0x80a+0xa*0x358-(_0xa84100*_0xa84100+_0x3239e1*_0x3239e1+_0x40592e*_0x40592e)));switch(_0x55d44c[_0x7baab8*(-0x2*0x84c+0x2605+-0x1569*0x1)+(0x2527*0x1+0x1f97+-0x1*0x44bb)]-(-0x530+0x18c+-0x2*-0x250)){case-0x107*-0xd+-0x1b7d+0xe22:_0x3b6e5e['set'](_0xa84100,_0x3239e1,_0x40592e,_0x2dd479);break;case-0x124a*-0x2+0xd11+0x584*-0x9:_0x3b6e5e['set'](_0x2dd479,_0x3239e1,_0x40592e,_0xa84100);break;case 0x8c6+0x511*0x5+-0x2219:_0x3b6e5e['set'](_0x3239e1,_0x2dd479,_0x40592e,_0xa84100);break;case 0x794+0xc50+-0x13e1:_0x3b6e5e['set'](_0x3239e1,_0x40592e,_0x2dd479,_0xa84100);break;}}if(_0x5c89b1){const _0x13b971=_0x58bfcd(_0x2480bc['mins'][0x229d+0x1915+-0x3bb2],_0x2480bc['maxs'][-0x1aa0+-0xca4+-0x2744*-0x1],_0x5d0e1a[_0x7baab8*(0x2*0x2eb+0x15e1+-0x1bb3)+(-0x5*-0x667+-0xf71*-0x1+-0x2f74)]/(0xa4*-0xa+0x1702+-0x11*0xeb)),_0x1282b2=_0x58bfcd(_0x2480bc['mins'][-0x4*-0x919+-0x121*-0xd+-0x331*0x10],_0x2480bc['maxs'][0x25d3+0x1484+-0x72*0x83],_0x5d0e1a[_0x7baab8*(-0x1c81+0x1600+0x685)+(0x1919+0x3*-0x74c+-0x334)]/(-0x237*0x3+0xcb4+-0x510)),_0x35c041=_0x58bfcd(_0x2480bc['mins'][0x17c5*-0x1+0x369*-0x3+0x2202],_0x2480bc['maxs'][-0x1964*-0x1+-0x1*0x749+-0x1219],_0x5d0e1a[_0x7baab8*(-0x2276+-0x487+0x2701)+(-0x7d*-0x4+-0x7*0x29+-0xd3)]/(-0x1*0x1b1+0xde2+-0xb32));_0x5c89b1['set'](_0x13b971,_0x1282b2,_0x35c041);}if(_0x3f7c7c){const _0x106ad4=_0x58bfcd(_0x305777['mins'][-0x2*-0x7b1+-0x10*-0x29+-0x11f2],_0x305777['maxs'][0x10d3+-0x6df*-0x1+-0x17b2],_0xba8b46[_0x7baab8*(0x2551+0x8ab*0x2+0x47*-0xc5)+(-0x1c04+0x102*-0x25+-0x1a*-0x283)]/(0xd24*-0x1+-0x1c2b*0x1+0x2a4e)),_0x167090=_0x58bfcd(_0x305777['mins'][0x1881+-0x1*-0x1ee9+0xb15*-0x5],_0x305777['maxs'][-0x5*0x67+0xc0*0x2c+-0x1efc],_0xba8b46[_0x7baab8*(-0x2*-0x105d+-0x3*-0x1e9+0xd*-0x2f5)+(-0x315+0x2152+-0x12*0x1ae)]/(-0x1a33+0x1dc1+-0x28f)),_0x4c6c00=_0x58bfcd(_0x305777['mins'][-0x61*-0x3c+-0x16*0x160+0x786],_0x305777['maxs'][-0xa66*-0x3+0x648*0x1+-0x2578],_0xba8b46[_0x7baab8*(0x1de3*-0x1+0x1*0x647+0x30*0x7e)+(0x1*0x25f1+-0x34*-0xa3+-0x470b)]/(0x837+-0x19e1*-0x1+-0x2119)),_0x2a601f=_0x58bfcd(_0x305777['mins'][0x1184+0x47c*-0x5+0x4eb],_0x305777['maxs'][-0x12d1*-0x1+0x318+-0x2*0xaf3],_0xba8b46[_0x7baab8*(-0x177a+-0x155*-0x5+-0x1*-0x10d5)+(0x34*0x76+-0x1*0x1e49+-0xb4*-0x9)]/(-0x7*-0x4+0x228b+-0x21a8));_0x3f7c7c['set'](-0x3e*0x89+-0x1a0d+-0x3b3b*-0x1+0.5+_0x106ad4*An,-0x1985+0x24ce+-0x141*0x9+0.5+_0x167090*An,0x12f0*0x2+-0x26e*-0xa+-0x17*0x2b4+0.5+_0x4c6c00*An,(-0x1*0xbaa+0x2*-0x8df+-0x1d69*-0x1)/(-0x182e+0x8*0x3fb+-0x7a9+Math['exp'](-_0x2a601f)));}if(_0x1a5cac){const _0x350fa8=_0x2e8d0c[_0x7baab8*(-0xf5d+-0x2606+0x3567)+(-0x1e8e+-0x89*0x1c+-0x57*-0x86)]+(_0x2e8d0c[_0x7baab8*(-0xe*-0x23+-0x14cb*0x1+0x12e5)+(-0x10e4+-0x1fd*-0xc+-0x6f7*0x1)]<<-0xc8c+-0x5c*0x61+0x2f70),_0x3bbe43=_0x350fa8%(-0x15a6+0x1*-0x989+0x1f6f)*(0x2*-0x189+-0x1829+-0x1*-0x1b4a),_0x210184=Math['floor'](_0x350fa8/(0x977*-0x2+-0x197b+0x2ca9));for(let _0x3c37de=0x1f76+-0x5*0x49+-0x1e09;_0x3c37de<0x85e+-0x2520+-0x3*-0x997;++_0x3c37de)for(let _0x1475fd=-0x2528+0x2*-0x311+0x2b4a;_0x1475fd<0x4*0x868+0x1fcd+-0x415e;++_0x1475fd)_0x1a5cac[_0x3c37de*(0x1bac+0xfc8+0x2b65*-0x1)+_0x1475fd]=_0x58bfcd(_0x59016d['mins'],_0x59016d['maxs'],_0x29df30[(_0x3bbe43+_0x1475fd)*(0x990+0x821*0x3+-0x21ef)+_0x3c37de+_0x210184*_0x427f0f['sh_centroi'+'ds']['width']*(0x1*0x2477+-0x21f5+-0x27e)]/(0xf49*-0x1+-0x812+0x185a));}};}}class gC{constructor(){h(this,'meta'),h(this,'numSplats'),h(this,'means_l'),h(this,'means_u'),h(this,'quats'),h(this,'scales'),h(this,'sh0'),h(this,'sh_centroi'+'ds'),h(this,'sh_labels'),h(this,'packedText'+'ure');}['destroy'](){var _0x3a7249,_0x5eaca7,_0x2478d1,_0x5c8327,_0x537089,_0x5724ca,_0x21b35a,_0x1993e9;(_0x3a7249=this['means_l'])==null||_0x3a7249['destroy'](),(_0x5eaca7=this['means_u'])==null||_0x5eaca7['destroy'](),(_0x2478d1=this['quats'])==null||_0x2478d1['destroy'](),(_0x5c8327=this['scales'])==null||_0x5c8327['destroy'](),(_0x537089=this['sh0'])==null||_0x537089['destroy'](),(_0x5724ca=this['sh_centroi'+'ds'])==null||_0x5724ca['destroy'](),(_0x21b35a=this['sh_labels'])==null||_0x21b35a['destroy'](),(_0x1993e9=this['packedText'+'ure'])==null||_0x1993e9['destroy']();}['createIter'](_0x1babdd,_0x2f4403,_0x5a072c,_0x50e50f,_0x377f91){return new _C(this,_0x1babdd,_0x2f4403,_0x5a072c,_0x50e50f,_0x377f91);}['calcAabb'](_0x225a51){const {mins:_0x4336e3,maxs:_0x92e01e}=this['meta']['means'],_0x3f75c4=_0x5d7a00=>Math['sign'](_0x5d7a00)*(Math['exp'](Math['abs'](_0x5d7a00))-(-0x68b+0x294+0x7f*0x8));_0x225a51['center']['set']((_0x3f75c4(_0x4336e3[-0x1*0x3b9+0x26a*-0x1+-0x623*-0x1])+_0x3f75c4(_0x92e01e[-0x1427+0x101a+0x40d]))*(-0x29+0x183f*-0x1+0x4*0x61a+0.5),(_0x3f75c4(_0x4336e3[0x24e2+-0x14c4+-0x101d])+_0x3f75c4(_0x92e01e[-0x2255+0x8f0*-0x2+-0x52*-0xa3]))*(-0x1e71+-0x1128+0x1*0x2f99+0.5),(_0x3f75c4(_0x4336e3[-0x7b5*0x2+0x17c7+-0x85b])+_0x3f75c4(_0x92e01e[-0x1bac+0x16*0xa9+0xd28]))*(0x21bf+-0x1b*-0xef+-0x3af4+0.5)),_0x225a51['halfExtent'+'s']['set']((_0x3f75c4(_0x92e01e[0xde4+-0x1c92+-0xeae*-0x1])-_0x3f75c4(_0x4336e3[0x1934+0xee0+-0x2814]))*(0x8*0x1c+0x1e3a+-0x1f1a+0.5),(_0x3f75c4(_0x92e01e[0x98f*-0x1+0x413*0x9+-0x1b1b])-_0x3f75c4(_0x4336e3[-0xc1e*-0x2+-0x1af0*-0x1+-0x332b]))*(0x12b5+-0x2292+0xfdd+0.5),(_0x3f75c4(_0x92e01e[0x503*0x7+0x2564+-0x4877])-_0x3f75c4(_0x4336e3[0x67*-0x8+0x677+-0x33d]))*(0x1*0x1616+0x2*0xa25+0x153*-0x20+0.5));}['getCenters'](_0x3b4a98){const {meta:_0x221e85,means_l:_0x5962f5,means_u:_0x572977,numSplats:_0x1baf8e}=this,{means:_0x560d24}=_0x221e85,_0x2a25a0=new Uint32Array(_0x572977['_levels'][-0x5f*-0x34+0x5*0x739+-0x3769]['buffer']),_0x5d6d31=new Uint32Array(_0x5962f5['_levels'][0x16b4*0x1+0x1*-0x1f01+-0x19*-0x55]['buffer']),_0x599475=_0x560d24['mins'][-0x15fd+-0xdd9*0x1+0x23d6]/(0x173d1+-0x181cc*0x1+-0x10dfa*-0x1),_0x5dee7a=_0x560d24['mins'][0x3*0x238+-0x173e+0x1097*0x1]/(0x8*-0x3856+0x1*0x102da+0x1bfd5),_0x34b4fc=_0x560d24['mins'][0x1fac+-0x1e59+-0x1*0x151]/(-0x12406*-0x1+0x1c463+-0x1e86a),_0x4b8242=_0x560d24['maxs'][0x273+0xdc2+-0x1035]/(0x161*0x73+0x14d0f+-0xeba3),_0x3e7f7d=_0x560d24['maxs'][-0x3e5*0x4+0xae7*-0x2+0x2563]/(0x2fd4*0xa+0x14ff9+0x6*-0x5d0b),_0x17fff4=_0x560d24['maxs'][0x7*0x4cd+0x1c6e+-0xc9*0x4f]/(-0x1059a+0x1*0x7417+-0x19182*-0x1);for(let _0x19c447=0x1*0x4d3+0x26ae+-0x2b81;_0x19c447<_0x1baf8e;_0x19c447++){const _0x51bbf1=_0x19c447,_0x4d3a0e=_0x2a25a0[_0x51bbf1],_0x342b0a=_0x5d6d31[_0x51bbf1],_0x49cb9f=_0x4d3a0e<<-0xd24+0x13d*-0x1a+0x16af*0x2&-0x21*-0xb19+-0x5*-0x54a1+-0x2165e|_0x342b0a&0x2589+0x2183*0x1+-0xe3*0x4f,_0x19bd73=_0x4d3a0e&-0x3*-0x3e23+-0x97d5+0xdc6c|_0x342b0a>>>-0x14e2+0xc*-0x2c0+0x35ea&0x1f*0x78+-0x3e1*0x3+0x2*-0xf3,_0x191adf=_0x4d3a0e>>>0x8bb+-0x1546+-0x57*-0x25&0x122f9+-0x300f*-0x5+-0x4*0x4511|_0x342b0a>>>0x1fe9+-0x2306+0x32d&-0xf3*-0x29+0x1*0x923+-0x2f0f,_0x174509=_0x599475*(0x242f*0xe+-0x17a01+0x7f6e-_0x49cb9f)+_0x4b8242*_0x49cb9f,_0x3c286e=_0x5dee7a*(-0x5*0x22a+-0xc*-0x1ea1+-0x64bb-_0x19bd73)+_0x3e7f7d*_0x19bd73,_0x4c6e59=_0x34b4fc*(-0x12062*0x1+0x1d*0xa81+0x6e*0x22e-_0x191adf)+_0x17fff4*_0x191adf,_0x1f5ded=_0x174509<0x1ec5+0x5a+0x1f1f*-0x1?-_0x174509:_0x174509,_0x302584=_0x3c286e<-0xfe+-0x219c+-0x67*-0x56?-_0x3c286e:_0x3c286e,_0x35df38=_0x4c6e59<-0x144a+-0x9*-0x25d+-0xfb*0x1?-_0x4c6e59:_0x4c6e59;_0x3b4a98[_0x19c447*(-0x18ae+0xe7e+0xa33)]=(_0x174509<0x16ae+-0x1826+0x178?-(0x15*-0x13+-0x1*0x1a9+0x339):-0x2209+-0x192a*0x1+0x3b34)*(Math['exp'](_0x1f5ded)-(0x251c+0x61*-0x3a+-0xf21*0x1)),_0x3b4a98[_0x19c447*(0xdb9+-0x1c45*-0x1+0x3d1*-0xb)+(0xb3a+0x148a+0x1*-0x1fc3)]=(_0x3c286e<-0x18aa+-0xae5*0x3+0x3959?-(-0x29*-0x4a+0x1124*-0x2+0x166f):-0x13*-0x6b+0x16c2+-0x1eb2)*(Math['exp'](_0x302584)-(0xf82+0x1b4d+-0x1567*0x2)),_0x3b4a98[_0x19c447*(-0xf*0x24b+-0x1*0xd7b+-0xd*-0x3af)+(-0x3c6*-0x5+-0x2585+-0x1*-0x12a9)]=(_0x4c6e59<-0xf9a+0x251+0x13*0xb3?-(0x4*0x4f8+-0x11*0x243+0x1294):-0x2*-0x11c+-0x15f7+0x1*0x13c0)*(Math['exp'](_0x35df38)-(-0xce5+-0x17b7+0x249d));}}['calcFocalP'+'oint'](_0x3cd101,_0x53717d){_0x3cd101['set'](0x185d+-0x2bf*-0x1+-0x1b1c,0x17e7+0x2234+-0x36b*0x11,-0x1f*-0xe1+0x1f*0x72+-0x3*0xdaf);}get['isSogs'](){return!(0x7c*-0x6+-0x27*0x97+-0xb*-0x25b);}get['shBands'](){var _0x15d680;return{0xc0:0x1,0x200:0x2,0x3c0:0x3}[(_0x15d680=this['sh_centroi'+'ds'])==null?void(0x146d+0x52*0x1f+-0x1e5b):_0x15d680['width']]??-0x26c1+0xfe9*-0x2+0x4693;}async['decompress'](){const _0x250a99=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3'],{shBands:_0x3317cd}=this,{means_l:_0xd6207a,means_u:_0x47e6ec,quats:_0x5a68e6,scales:_0x588cca,sh0:_0xf7c0ff,sh_labels:_0x162161,sh_centroids:_0x1df731}=this;if(_0xd6207a['_levels'][-0x1317+-0xfd5*-0x2+0x1d*-0x6f]=await Ci(_0xd6207a),_0x47e6ec['_levels'][0x5*0x1e7+0x1*-0x2074+0x16f1]=await Ci(_0x47e6ec),_0x5a68e6['_levels'][0xb*0x1c1+-0x835+0x42*-0x2b]=await Ci(_0x5a68e6),_0x588cca['_levels'][-0x1bc4+0x17*0xd9+0x845]=await Ci(_0x588cca),_0xf7c0ff['_levels'][0x1*0x1ab2+-0x9*0xcb+-0x1*0x138f]=await Ci(_0xf7c0ff),_0x3317cd>0x8f*0x19+-0x156+-0xca1){_0x162161['_levels'][0x1*0x296+0x37*-0x67+0x138b]=await Ci(_0x162161),_0x1df731['_levels'][0x23*0x65+0x7*0x110+0x153f*-0x1]=await Ci(_0x1df731);const _0x3ceed2=[];for(let _0x45fbc7=0x1993+-0x10*0x25f+0xc5d;_0x45fbc7<-0x3a9*0x1+0x95d+-0x587;++_0x45fbc7)_0x3ceed2['push']('f_rest_'+_0x45fbc7);_0x250a99['splice'](_0x250a99['indexOf']('f_dc_0')+(0x6e6+-0x6*0x489+0x7*0x2e7),0x53*-0x34+-0x423*-0x9+0x23*-0x95,..._0x3ceed2);}const _0x2579e6={};_0x250a99['forEach'](_0x57a140=>{_0x2579e6[_0x57a140]=new Float32Array(this['numSplats']);});const _0x4407b5=new D(),_0x556d1e=new le(),_0x15fa0c=new D(),_0x5a743f=new re(),_0x5eeb46=_0x3317cd>0x5*-0x4b5+0x1c71+-0x274*0x2?new Float32Array(0x21d3+0x2*0xef+-0x2384*0x1):null,_0x5ee79f=this['createIter'](_0x4407b5,_0x556d1e,_0x15fa0c,_0x5a743f,_0x5eeb46);for(let _0x52e541=0x2271+-0x5*0x1de+-0x191b*0x1;_0x52e541<this['numSplats'];++_0x52e541)if(_0x5ee79f['read'](_0x52e541),_0x2579e6['x'][_0x52e541]=_0x4407b5['x'],_0x2579e6['y'][_0x52e541]=_0x4407b5['y'],_0x2579e6['z'][_0x52e541]=_0x4407b5['z'],_0x2579e6['rot_1'][_0x52e541]=_0x556d1e['x'],_0x2579e6['rot_2'][_0x52e541]=_0x556d1e['y'],_0x2579e6['rot_3'][_0x52e541]=_0x556d1e['z'],_0x2579e6['rot_0'][_0x52e541]=_0x556d1e['w'],_0x2579e6['scale_0'][_0x52e541]=_0x15fa0c['x'],_0x2579e6['scale_1'][_0x52e541]=_0x15fa0c['y'],_0x2579e6['scale_2'][_0x52e541]=_0x15fa0c['z'],_0x2579e6['f_dc_0'][_0x52e541]=(_0x5a743f['x']-(0x106d+-0x4f*0x1f+-0x6dc+0.5))/An,_0x2579e6['f_dc_1'][_0x52e541]=(_0x5a743f['y']-(-0x1e1*0x11+0x49*0x4f+0xf1*0xa+0.5))/An,_0x2579e6['f_dc_2'][_0x52e541]=(_0x5a743f['z']-(-0x523*0x4+-0x331+0x17bd+0.5))/An,_0x2579e6['opacity'][_0x52e541]=_0x5a743f['w']<=0xdbc+0x14b8+-0x2274?-(-0x1ca3+0x1a28+-0x5*-0x87):_0x5a743f['w']>=0x6d*0x2f+-0x67+-0x139b?0x168c+0x10*0x24b+-0x3b14:-Math['log']((-0x1*0x256f+-0x18e*0x3+0x2a1a)/_0x5a743f['w']-(-0x152*-0x2+0x1b64+-0x1e07)),_0x5eeb46){for(let _0x3396bd=-0x12c5+0x19f4+-0x265*0x3;_0x3396bd<0x1*0x18d1+-0x2*0xaf6+-0x2b8;++_0x3396bd)_0x2579e6['f_rest_'+_0x3396bd][_0x52e541]=_0x5eeb46[_0x3396bd];}return new qn([{'name':'vertex','count':this['numSplats'],'properties':_0x250a99['map'](_0xc5100e=>({'name':_0xc5100e,'type':'float','byteSize':0x4,'storage':_0x2579e6[_0xc5100e]}))}]);}['packGpuMem'+'ory'](){const {means_l:_0x12ceee,means_u:_0x54cd79,quats:_0x305aa5,scales:_0x3e6417,sh_labels:_0x4df2bb,numSplats:_0x1c523d}=this,{device:_0x4e7463}=_0x12ceee,{scope:_0x1d0171}=_0x4e7463,_0x506a7c=$t['createShad'+'er'](_0x4e7463,{'uniqueName':'GsplatSogs'+'ReorderSha'+'der','attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentGLSL':uC,'fragmentWGSL':pC,'fragmentOutputTypes':['uvec4']}),_0xf3d7fb=new gt({'colorBuffer':this['packedText'+'ure'],'depth':!(0x18*0x7d+-0xd80+0x1c9),'mipLevel':0x0});_0x4e7463['setCullMod'+'e'](bt),_0x4e7463['setBlendSt'+'ate'](pt['NOBLEND']),_0x4e7463['setDepthSt'+'ate'](Yt['NODEPTH']),mC(_0x1d0171,{'means_l':_0x12ceee,'means_u':_0x54cd79,'quats':_0x305aa5,'scales':_0x3e6417,'sh_labels':_0x4df2bb??_0x12ceee,'numSplats':_0x1c523d}),Ar(_0x4e7463,_0xf3d7fb,_0x506a7c),_0xf3d7fb['destroy'](),_0x506a7c['destroy']();}async['prepareGpu'+'Data'](){const {device:_0x20196e,height:_0x4bcda6,width:_0x4c58c7}=this['means_l'];this['means_l']['_levels'][-0xeb*0x1d+-0x86d+0x230c]=await Ci(this['means_l']),this['means_u']['_levels'][-0x3b*-0x6b+0x21f5+-0x3a9e]=await Ci(this['means_u']),this['packedText'+'ure']=new _e(_0x20196e,{'name':'sogsPacked'+'Texture','width':_0x4c58c7,'height':_0x4bcda6,'format':Ue,'mipmaps':!(-0x132d*0x1+-0x3*0x737+-0x28d3*-0x1)}),_0x20196e['on']('devicerest'+'ored',()=>{this['packGpuMem'+'ory']();}),this['packGpuMem'+'ory']();}['reorderDat'+'a'](){return this['prepareGpu'+'Data']();}}async function SC(){let _0x51e70a=null,_0x32372c=null,_0x4b78a7=null,_0x299860=null,_0x3ba6ca=null,_0x532cb7=null,_0x8324ef=null,_0x558139=null,_0x3a19fc=null,_0x5211cc=null,_0x572f39=null,_0x5ae371=null,_0xf8a501=null,_0x1b5389=null,_0x231c0e=null,_0xd8f7d7=null,_0x127f27=null,_0xe14698=null,_0x42dea4=null,_0x365770=null,_0x3e67dd=null,_0x55c1ca=null,_0x121783=null,_0x568c3c=null,_0x554c81=Float32Array['BYTES_PER_'+'ELEMENT'],_0x59edd3=Uint32Array['BYTES_PER_'+'ELEMENT'],_0x2656e=0x1172+0x67*-0x5e+0x28c*0x8,_0xc551a1=!(0x9e+0x5*-0x5d7+-0x1*-0x1c95),_0xfde63a,_0x24f300,_0x3660b8={'x':0x0,'y':0x0,'z':0x0},_0x158991={'x':0x0,'y':0x0,'z':0x0},_0x1d2fde=!(-0xf*0x1ef+0x238d*-0x1+0x408e),_0x133002=!(-0x2280+-0x17cd+-0x4b*-0xc7),_0x45e79c=!(0x19*0xff+0x26ef*-0x1+0xe09),_0x442fb0=!(-0x74e+0x1*-0x17ef+0x56*0x5d),_0x555364=0x185e+-0x1162+-0x6fc,_0x32b0a7=-0x503+0x3b*-0x39+0x1226,_0x731883=!(0xa8a+-0xc*0x42+-0x771),_0x2a49f6=null,_0x512739=!(-0x2a0*-0x8+-0x13*-0x18d+0x10d2*-0x3),_0x4c038f=-0x3*0x241+-0x6c2*-0x3+0xd83*-0x1,_0x590bb7=0x6db+-0x28*0x9e+0xb*0x19f,_0x5e09da={'x':0x0,'y':0x0,'z':0x0},_0x2d1452={'x':0x0,'y':0x0,'z':0x0},_0x275245,_0x4558d2;self['onmessage']=async _0x5dd843=>{const {data:_0xc79f76}=_0x5dd843;switch(_0xc79f76['type']){case'initWorker':await _0x1e0605(_0xc79f76['sortWasmUr'+'l']),self['postMessag'+'e']({'type':'initialize'+'d'});break;case'initData':if(_0x2656e=_0xc79f76['centers']['length']/(-0xbf*0x12+-0x16a7+0x2418),_0x2656e<=-0x1f85+0x15*-0x19c+-0x1*-0x4151||!_0x32372c)return;_0x4dbbfc(),_0xc551a1=_0xc79f76['is4d'],_0x275245=_0xc79f76['id'];const _0x1eeae1=_0x34187f(_0x2656e);if(_0x290c72(_0x1eeae1),_0x4b78a7[0x1959+-0xc6f+-0xcea]=_0x5e09da['x'],_0x4b78a7[0x1546+-0x3d5+0x8*-0x22e]=_0x5e09da['y'],_0x4b78a7[0xcf8+-0x80f*0x2+0x328]=_0x5e09da['z'],_0x299860[0x436+0xaa6+-0xedc]=_0x2d1452['x'],_0x299860[0x128+0x96*0xc+0x82f*-0x1]=_0x2d1452['y'],_0x299860[0x4a*-0x4+-0x1581+0x1*0x16ab]=_0x2d1452['z'],_0x532cb7&&_0xc79f76['centers']&&_0x532cb7['length']===_0xc79f76['centers']['length']){const _0x1319aa=new Float32Array(_0xc79f76['centers']);_0x532cb7['set'](_0x1319aa);}if(_0x558139&&_0xc79f76['timeIndex']&&_0x558139['length']===_0xc79f76['timeIndex']['length']){const _0x1e66b6=new Uint32Array(_0xc79f76['timeIndex']);_0x558139['set'](_0x1e66b6);}if(_0x572f39&&_0xc79f76['motion']&&_0x572f39['length']===_0xc79f76['motion']['length']){const _0x2fa3ed=new Float32Array(_0xc79f76['motion']);_0x572f39['set'](_0x2fa3ed);}if(_0xc551a1&&_0x3a19fc&&_0x5211cc&&_0xc79f76['muT']&&_0xc79f76['tScale']&&_0x3a19fc['length']===_0xc79f76['muT']['length']&&_0x5211cc['length']===_0xc79f76['tScale']['length']&&(_0x3a19fc['set'](_0xc79f76['muT']),_0x5211cc['set'](_0xc79f76['tScale'])),_0x8324ef){for(let _0x1d6e05=-0x11*0x155+-0x16b2+-0x2d57*-0x1;_0x1d6e05<_0x8324ef['length'];++_0x1d6e05)_0x8324ef[_0x1d6e05]=_0x1d6e05;}_0x3ba6ca&&_0xc79f76['timeOption']&&_0x3ba6ca['set'](_0xc79f76['timeOption']),_0x5b0e5d(),_0x512739=!(-0x1847+0xaad+0xd9a),_0x45e79c=!(-0xf1c+0x135b+-0x43f),_0x1be098();break;case'setTime':_0xfde63a=_0xc79f76['time'],_0x1be098();break;case'setUseTemp'+'oralSort':_0x1d2fde=_0xc79f76['useTempora'+'lSort'];break;case'setUseDyna'+'micSort':_0x133002=_0xc79f76['useDynamic'+'Sort'];break;case'sort':if(!_0x4b78a7)return;_0x4b78a7[-0x24a7*0x1+0x1d49+0x3af*0x2]=_0xc79f76['cameraPosi'+'tion']['x'],_0x4b78a7[0x1165+0x1*-0x5ff+-0x1*0xb65]=_0xc79f76['cameraPosi'+'tion']['y'],_0x4b78a7[-0x15bb+0x1152+-0x1d*-0x27]=_0xc79f76['cameraPosi'+'tion']['z'],_0x299860[-0xa7*0xd+-0x2f6*0xa+0x2617]=_0xc79f76['cameraDire'+'ction']['x'],_0x299860[-0x2424+-0x1fa5*-0x1+0x3*0x180]=_0xc79f76['cameraDire'+'ction']['y'],_0x299860[0x7be+-0x1d5b+-0x1b*-0xcd]=_0xc79f76['cameraDire'+'ction']['z'],_0x5e09da['x']=_0xc79f76['cameraPosi'+'tion']['x'],_0x5e09da['y']=_0xc79f76['cameraPosi'+'tion']['y'],_0x5e09da['z']=_0xc79f76['cameraPosi'+'tion']['z'],_0x2d1452['x']=_0xc79f76['cameraDire'+'ction']['x'],_0x2d1452['y']=_0xc79f76['cameraDire'+'ction']['y'],_0x2d1452['z']=_0xc79f76['cameraDire'+'ction']['z'],_0x1be098();break;}};const _0x4dbbfc=()=>{_0x32b0a7=Math['max'](0x2c8*-0xc+0xb7b*0x1+-0x15ef*-0x1,Math['min'](0x60f+-0x33+-0x5c8,Math['round'](Math['log2'](_0x2656e/(0xe0a+0x19e1+-0x27e7))))),_0x555364=(0x19ac+-0x62*0x1+-0x1948)**_0x32b0a7+(0x17*-0x2e+-0xdd5+0x11f8);},_0x290c72=_0x468e00=>{_0x5ae371=-0x169b*0x1+-0x3*-0x7b1+0xc*-0xa,_0xf8a501=_0x5ae371+_0x2656e*_0x554c81*(-0xf44+-0x8ca*0x1+-0x65*-0x3d),_0xe14698=_0xf8a501+(-0x1*-0x193+0x39d*-0x9+0x1f56)*_0x554c81*(0x2f7+0x523+-0x818),_0x42dea4=_0xe14698+_0x2656e*_0x59edd3,_0x365770=_0x42dea4+(0x25a2+0x1cc9+0x2*-0x2134)*_0x554c81,_0x3e67dd=_0x365770+(-0x907*0x2+0xe2e+0x3e3)*_0x554c81,_0x55c1ca=_0x3e67dd+(0x2ae+0x1192+-0x143d)*_0x554c81,_0x121783=_0x55c1ca+(0x12fd+-0x44*0x26+0x17b*-0x6)*_0x554c81,_0x568c3c=_0x121783+_0x2656e*_0x59edd3,_0x532cb7=new Float32Array(_0x468e00,_0x5ae371,_0x2656e*(-0x1c8c+0x1*0x1139+0xb56)),_0x3ba6ca=new Float32Array(_0x468e00,_0xf8a501,-0x9ad*0x1+0xce*0x30+-0x1c2b),_0x8324ef=new Uint32Array(_0x468e00,_0xe14698,_0x2656e),_0x4b78a7=new Float32Array(_0x468e00,_0x42dea4,0x15bf+-0x511*-0x3+-0x24ef),_0x299860=new Float32Array(_0x468e00,_0x365770,-0x17cf+0x10*-0x1+0x17e2),_0xc551a1&&(_0xd8f7d7=_0x568c3c+_0x555364*_0x59edd3,_0x127f27=_0xd8f7d7+_0x2656e*_0x554c81,_0x231c0e=_0x127f27+_0x2656e*_0x554c81,_0x1b5389=_0x231c0e+_0x2656e*(-0x3fd*0x7+-0xa5a*0x2+0x30a2)*_0x554c81,_0x3a19fc=new Float32Array(_0x468e00,_0xd8f7d7,_0x2656e),_0x5211cc=new Float32Array(_0x468e00,_0x127f27,_0x2656e),_0x572f39=new Float32Array(_0x468e00,_0x231c0e,_0x2656e*(0x2615+0x1c4c+-0x212f*0x2)),_0x558139=new Uint32Array(_0x468e00,_0x1b5389,_0x2656e));},_0x1e0605=async _0x462706=>{_0x4c038f=0xbc*-0xa+0x1e7c+-0x1723*0x1;const _0x3aeeb0={'env':{'memory':new WebAssembly['Memory']({'initial':_0x4c038f}),'pthread_self':function(){return 0x5d8+0xfbb+-0x1593;},'emscripten_builtin_memalign':function(){return-0x1d0+0x2241+-0x97*0x37;},'loggerVec3':(_0x38b364,_0x1391c5,_0x331490,_0x504646)=>{console['log']('C++\x20logger'+'Vec3\x20['+_0x38b364+']\x200:'+_0x1391c5+'\x201:'+_0x331490+'\x202:'+_0x504646);},'loggerFloat':(_0x55bde1,_0x5656db)=>{console['log']('C++\x20LogFlo'+'at\x20['+_0x55bde1+']\x20a:'+_0x5656db);},'loggerValue':(_0x26e4f5,_0x4fd8c0,_0x306de9,_0x584183,_0x476820)=>{console['log']('C++\x20logger'+'Value\x20['+_0x26e4f5+']\x20minDist:'+_0x4fd8c0+'\x20maxDist:'+_0x306de9+'\x20range:'+_0x584183+'\x20divider:'+_0x476820);},'loggerCamera':(_0x5ab85d,_0x16c154,_0x2c939,_0x5b5d11,_0x67598e,_0x1202d8,_0x55295b)=>{console['log']('C++\x20logger'+'Camera\x20['+_0x5ab85d+']\x20x:'+_0x16c154+'\x20y:'+_0x2c939+'\x20z:'+_0x5b5d11+'\x20dx:'+_0x67598e+'\x20dy:'+_0x1202d8+'\x20dz:'+_0x55295b);},'loggerBound':(_0x2a5c96,_0x2cc036,_0x39abfd,_0x93f2e5,_0xf45ec7,_0x4a57fb)=>{console['log']('C++\x20logger'+'Bound\x20minX'+':'+_0x2a5c96+'\x20minY:'+_0x2cc036+'\x20minZ:'+_0x39abfd+'\x20maxX:'+_0x93f2e5+'\x20maxY:'+_0xf45ec7+'\x20maxZ:'+_0x4a57fb);},'loggerDebug':_0x10a976=>{console['log']('C++\x20logger'+'Debug\x20['+_0x10a976+']');}}};try{const _0x4a0cfe=await(await fetch(_0x462706))['arrayBuffe'+'r']();return _0x51e70a=(await WebAssembly['instantiat'+'e'](_0x4a0cfe,_0x3aeeb0))['instance'],_0x32372c=_0x3aeeb0['env']['memory'],_0x51e70a;}catch(_0x2a5ad6){throw console['error']('WASM'+':',_0x2a5ad6),_0x2a5ad6;}},_0x1c11cd=_0x35d116=>{if(_0x35d116<=0x24cb+-0x4*-0x991+-0x4b0f)return-0x107a+0x1*-0x54b+0x15c6;let _0x54d90a=_0x35d116*_0x554c81*(0x5*-0x59e+-0x406+-0x3*-0xab5);_0x54d90a+=_0x35d116*_0x59edd3,_0x54d90a+=(-0x16c1+-0x1f8+0xc5e*0x2)*_0x554c81,_0x54d90a+=(0x245f+-0x6dc+-0x1d80)*_0x554c81,_0x54d90a+=(-0x1681+0x1837+-0x1b3)*_0x554c81,_0x54d90a+=(0x1c12+-0x1d73*0x1+0x164)*_0x554c81,_0x54d90a+=_0x35d116*_0x554c81,_0x54d90a+=_0x555364*_0x59edd3,_0x54d90a+=(0x1950+-0x3*0xcdd+0xdab)*_0x554c81*(0xd*-0xcb+-0x243+0xc94),_0x54d90a+=_0x35d116*_0x59edd3,_0xc551a1&&(_0x54d90a+=_0x35d116*_0x554c81,_0x54d90a+=_0x35d116*_0x554c81,_0x54d90a+=_0x35d116*_0x554c81*(-0x210d+-0x178+-0xd*-0x2a8));const _0x1fafa3=(-0x219d+0x1*-0x1759+0x3936)*(-0xd5d+-0x1ac0+-0x17*-0x1eb);return Math['ceil'](_0x54d90a/_0x1fafa3);},_0x34187f=_0x431c86=>{const _0x353dcd=_0x1c11cd(_0x431c86);return _0x353dcd>_0x4c038f?(_0x32372c['grow'](_0x353dcd-_0x4c038f),_0x4c038f=_0x353dcd):_0x32372c['grow'](-0x1*-0x39e+-0xf6b+0xbcd),_0x32372c['buffer'];},_0x5b0e5d=()=>{if(!_0x51e70a)return;const {calcAABB:_0x1560cf}=_0x51e70a['exports'];_0x1560cf(_0x5ae371,_0x3e67dd,_0x55c1ca,_0x2656e);},_0x1be098=()=>{_0x2a49f6&&clearTimeout(_0x2a49f6),_0x2a49f6=setTimeout(()=>{_0x2a49f6=null,_0x41d776();},-0x1*-0x1e25+0x5*-0x6cb+-0x1e9*-0x2);},_0x41d776=()=>{if(!_0x51e70a||!_0x512739||_0x8324ef['length']!==_0x2656e||_0xe14698===null||_0x5ae371===null||_0x42dea4===null||_0x365770===null||_0x3e67dd===null||_0x55c1ca===null)return;const _0x2e6305=_0x4b78a7[0x490+0x2*0x7+-0x49e],_0x1a86a4=_0x4b78a7[-0x49*0x4+-0x1934+0x163*0x13],_0x97eb73=_0x4b78a7[-0xfb*-0xa+-0x1b0d+-0x277*-0x7],_0x48805c=_0x299860[0x912+0x579*0x3+0x1b3*-0xf],_0x5794ef=_0x299860[-0xfd*0x23+-0x1d6e+0x1*0x4006],_0x3536bc=_0x299860[0x141c+0x2221+-0x363b*0x1],_0x24db2a=0x15c+0xb44+-0xca0+0.001;if(!_0x45e79c&&Math['abs'](_0x2e6305-_0x3660b8['x'])<_0x24db2a&&Math['abs'](_0x1a86a4-_0x3660b8['y'])<_0x24db2a&&Math['abs'](_0x97eb73-_0x3660b8['z'])<_0x24db2a&&Math['abs'](_0x48805c-_0x158991['x'])<_0x24db2a&&Math['abs'](_0x5794ef-_0x158991['y'])<_0x24db2a&&Math['abs'](_0x3536bc-_0x158991['z'])<_0x24db2a&&Math['abs'](_0xfde63a-_0x24f300)<0x1*-0x2666+-0x19a8+0x3*0x155a+0.01)return;if(_0x442fb0){_0x731883=!(-0x266*0x8+-0x2c3*-0x2+0xdaa);return;}_0x442fb0=!(-0x120d*-0x1+-0x1c4a+0xa3d),_0x45e79c=!(-0xc5e*0x1+0x261e+0xd*-0x1fb),_0x24f300=_0xfde63a,_0x3660b8['x']=_0x2e6305,_0x3660b8['y']=_0x1a86a4,_0x3660b8['z']=_0x97eb73,_0x158991['x']=_0x48805c,_0x158991['y']=_0x5794ef,_0x158991['z']=_0x3536bc,_0x731883=!(-0x2*-0xb8e+-0x1f25+0x80a);const {sortIndexes:_0x510eb9}=_0x51e70a['exports'];try{const _0x40780c=_0x510eb9(_0xe14698,_0x5ae371,_0x231c0e,_0xd8f7d7,_0x127f27,_0x42dea4,_0x365770,_0x3e67dd,_0x55c1ca,_0x121783,_0x568c3c,_0xfde63a||0x2443*-0x1+0xd09*-0x1+0x18a6*0x2,_0x1d2fde,_0x133002,_0xc551a1,_0x2656e,_0x555364,_0x32b0a7,_0xf8a501,_0x1b5389),_0x3cb641=new Uint32Array(_0x8324ef);if(_0x40780c===-0xd30+0xd9c+-0x6c){debugger;console['log']('____\x20ENGIN'+'E','Indexes\x20co'+'unt\x20===\x20',_0x40780c);}const _0x53f1b8=_0x2656e!==_0x590bb7||_0x4558d2!==_0x275245;self['postMessag'+'e']({'type':'sortComple'+'ted','count':_0x40780c,'order':_0x3cb641,'isNewOrder':_0x53f1b8},[_0x3cb641['buffer']]),_0x590bb7=_0x2656e,_0x4558d2=_0x275245;}catch(_0x160702){console['error'](':',_0x160702),self['postMessag'+'e']({'type':'error','error':_0x160702['message']});}_0x442fb0=!(0x1*-0x8a1+0x18*-0x19c+0x2f42),_0x731883&&_0x1be098();};}class yC extends me{constructor(){super(),h(this,'worker',null),h(this,'numSplats',-0xe3*-0x7+-0x3*0x78+0x1*-0x4cd),h(this,'is4d',!(0x7*-0x499+0x74*-0x2+0xc5*0x2b)),h(this,'sortStartT'+'ime',0xa*0x19a+0x1*0x1e9a+-0x2e9e),h(this,'orderTextu'+'re'),h(this,'backOrderT'+'exture'),h(this,'data',{}),(this['orderTextu'+'re']=null,this['backOrderT'+'exture']=null,this['worker']=null,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+SC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x17ebd3=>{var _0x68174a;if(!this['worker'])return;const {data:_0x5b9536}=_0x17ebd3;switch(_0x5b9536['type']){case'initialize'+'d':this['fire']('initialize'+'d');break;case'sortComple'+'ted':_0x5b9536['order']&&(_0x5b9536['isNewOrder']&&(this['orderTextu'+'re']=this['backOrderT'+'exture']),(_0x68174a=this['orderTextu'+'re'])==null||_0x68174a['write'](0x14b*-0x1b+-0x14b5+-0xe2*-0x3f,-0x4*-0x869+0x1b27+0x4f*-0xc5,this['orderTextu'+'re']['width'],this['orderTextu'+'re']['height']-(-0x1c*-0x8b+-0x102+0x3*-0x4bb),_0x5b9536['order']));let _0x3f3253=0xb*-0x31a+0xd6*-0x14+0x2d3*0x12;this['sortStartT'+'ime']!==0x1525*0x1+0x2101+-0x3626*0x1&&(_0x3f3253=performance['now']()-this['sortStartT'+'ime']),this['fire']('updated',_0x17ebd3['data']['count'],_0x3f3253,_0x5b9536['isNewOrder']),this['sortStartT'+'ime']=-0x105d*-0x2+0x1cf*0xa+-0x6*0x878;break;case'error':console['error']('Worker:',_0x5b9536['error']),this['fire']('error',_0x5b9536['error']);break;}},this['worker']['postMessag'+'e']({'type':'initWorker','sortWasmUrl':'https://fr'+'ontend.4dv'+'-intellige'+'nce.com/vi'+'ewer-stati'+'c/sorter-t'+'railing.wa'+'sm'});}['initData'](_0x1ace98,_0x4c1a38,_0xfa2fdb,_0x477c6f,_0x5539ac,_0x9cd6c7,_0x5f4252,_0x113372){var _0x57d4ad;this['is4d']=_0x113372,this['numSplats']=_0x4c1a38['length']/(-0x1c87+0x2*-0x129b+0x8*0x838),(!_0x5f4252||_0x5f4252['length']===-0x626+-0x1*-0xd6f+-0x175*0x5)&&(_0x5f4252=[0x166e+-0x18e5+0x277,-0x3*0x941+-0x20db+-0x1*-0x3cda]),this['orderTextu'+'re']||(this['orderTextu'+'re']=_0x1ace98),this['backOrderT'+'exture']=_0x1ace98;const _0x152a56=new Date()['getTime']();(_0x57d4ad=this['worker'])==null||_0x57d4ad['postMessag'+'e']({'type':'initData','centers':_0x4c1a38,'muT':_0xfa2fdb,'tScale':_0x477c6f,'motion':_0x5539ac,'timeIndex':_0x9cd6c7,'timeOption':_0x5f4252,'is4d':_0x113372,'id':_0x152a56});}['setCamera'](_0x3c42b6,_0x2d8976){this['worker']&&(!_0x3c42b6||!_0x2d8976||(this['data']['cameraPosi'+'tion']={'x':_0x3c42b6['x'],'y':_0x3c42b6['y'],'z':_0x3c42b6['z']},this['data']['cameraDire'+'ction']={'x':_0x2d8976['x'],'y':_0x2d8976['y'],'z':_0x2d8976['z']},this['sortStartT'+'ime']===0x7c9+0x1*0x2ef+-0x2*0x55c&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'sort','cameraPosition':{'x':_0x3c42b6['x'],'y':_0x3c42b6['y'],'z':_0x3c42b6['z']},'cameraDirection':{'x':_0x2d8976['x'],'y':_0x2d8976['y'],'z':_0x2d8976['z']}})));}['setCurrent'+'Time'](_0x5e7a35){this['worker']&&(this['data']['time']=_0x5e7a35,this['sortStartT'+'ime']===0x1354+0x1*-0xd39+-0x61b&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'setTime','time':_0x5e7a35}));}['setUseTemp'+'oralSort'](_0xdca218){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseTemp'+'oralSort','useTemporalSort':_0xdca218});}['setUseDyna'+'micSort'](_0x4c3452){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseDyna'+'micSort','useDynamicSort':_0x4c3452});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}const vC=new te(),Va=new D(),Ga=new D(),Sc=[-0x136*0xe+0x1854+-0x760,0x1*0x142d+-0x5*0x57b+0x73a];class xC{constructor(_0x9ca5e9,_0x24692e={}){h(this,'resource'),h(this,'orderTextu'+'re'),h(this,'backOrderT'+'exture'),h(this,'_material'),h(this,'meshInstan'+'ce'),h(this,'options',{}),h(this,'sorter',null),h(this,'time',0x238d+-0xcaa+-0x28b*0x9),h(this,'lastCamera'+'Position',new D()),h(this,'lastCamera'+'Direction',new D()),h(this,'resolveSH',null),h(this,'cameras',[]),h(this,'forceUpDat'+'eSorterTim'+'e',(_0x347318,_0x66077b=void(0x1cb0+-0x2*-0x4e9+-0x2682))=>{(_0x66077b||_0x66077b===0x2*-0x98+-0x1*0x55d+0x68d)&&(this['material']['setParamet'+'er']('uTime',_0x66077b),this['updateTime'](_0x66077b)),this['sort'](_0x347318);}),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Instance',_0x9ca5e9['numSplats']),this['resource']=_0x9ca5e9,this['orderTextu'+'re']=this['resource']['createText'+'ure']('splatOrder',Ki,this['resource']['evalTextur'+'eSize'](this['resource']['numSplats'])),this['backOrderT'+'exture']=null,_0x24692e['material']?(this['_material']=_0x24692e['material'],this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re'])):(this['_material']=new Xn({'uniqueName':'SplatMater'+'ial','vertexGLSL':'#include\x20\x22'+'gsplatVS\x22','fragmentGLSL':'#include\x20\x22'+'gsplatPS\x22','vertexWGSL':'#include\x20\x22'+'gsplatVS\x22','fragmentWGSL':'#include\x20\x22'+'gsplatPS\x22','attributes':{'vertex_position':Me,'vertex_id_attrib':ph}}),this['configureM'+'aterial'](this['_material']),this['_material']['update']()),this['meshInstan'+'ce']=new He(this['resource']['mesh'],this['_material']),this['meshInstan'+'ce']['setInstanc'+'ing'](this['resource']['instanceIn'+'dices'],!(-0x1*0x1fa9+0x13a9*0x1+0x60*0x20)),this['meshInstan'+'ce']['gsplatInst'+'ance']=this,this['meshInstan'+'ce']['instancing'+'Count']=0xe*-0x1b+0x25a7+0x3*-0xc0f,this['sorter']=new yC(),this['sorter']['on']('initialize'+'d',()=>{var _0xbd3ae8,_0xfed044,_0x219a4f,_0x176c68,_0x125208,_0x3d98c6,_0x2d50b9,_0x2643a5,_0x11653e,_0x2ea385,_0x5ebb3d;const _0x4de144=new Float32Array(this['resource']['centers']['buffer']['slice']()),_0x10a03a=new Float32Array(((_0xfed044=(_0xbd3ae8=this['resource']['muT'])==null?void(0x2470+0x13fb+-0x386b):_0xbd3ae8['buffer'])==null?void(-0x12*-0x182+0x2591+-0x40b5):_0xfed044['slice']())??new Float32Array()),_0x55cf1f=new Float32Array(((_0x176c68=(_0x219a4f=this['resource']['tScale'])==null?void(0x2*-0x535+-0x21e6+-0x1*-0x2c50):_0x219a4f['buffer'])==null?void(0x1815*-0x1+-0x9c2+0x21d7):_0x176c68['slice']())??new Float32Array()),_0x289852=new Float32Array(((_0x3d98c6=(_0x125208=this['resource']['motion'])==null?void(-0x2694+-0x82a+-0xc1*-0x3e):_0x125208['buffer'])==null?void(-0x4f7+-0xd06+0x11fd):_0x3d98c6['slice']())??new Float32Array()),_0x11c3a3=new Float32Array(((_0x2643a5=(_0x2d50b9=this['resource']['timeIndex'])==null?void(0x18a1+-0xf3*0x2+0x211*-0xb):_0x2d50b9['buffer'])==null?void(0x2149+-0x521+-0x1c28):_0x2643a5['slice']())??new Float32Array(0x1*-0x23fb+-0x1daf+0x41aa)),_0x35ecf3=new Float32Array(((_0x2ea385=(_0x11653e=this['resource']['timeOption'])==null?void(0x5b3*-0x1+-0x1*0x1865+0x1e18):_0x11653e['buffer'])==null?void(0x12ed+-0x65+0x4a2*-0x4):_0x2ea385['slice']())??new Float32Array());(_0x5ebb3d=this['sorter'])==null||_0x5ebb3d['initData'](this['orderTextu'+'re'],_0x4de144,_0x10a03a,_0x55cf1f,_0x289852,_0x11c3a3,_0x35ecf3,this['resource']['is4D']);}),this['sorter']['on']('updated',async(_0x29dfed,_0x2ddadc,_0x4bfe98)=>{var _0x84d41b;this['meshInstan'+'ce']['instancing'+'Count']=Math['ceil'](_0x29dfed/this['resource']['instanceSi'+'ze']),_0x4bfe98&&this['backOrderT'+'exture']&&(console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatInst'+'ance\x20updat'+'ed'),[this['orderTextu'+'re'],this['backOrderT'+'exture']]=[this['backOrderT'+'exture'],this['orderTextu'+'re']],await this['resource']['updateText'+'ure'](),this['resource']['configureM'+'aterial'](this['_material']),this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re'])),_0x4bfe98&&((_0x84d41b=this['resource'])==null||_0x84d41b['fireAssets'+'ManagerTim'+'eIndex']()),this['material']['setParamet'+'er']('numSplats',_0x29dfed);}),this['setHighQua'+'litySH'](_0x24692e['highQualit'+'ySH']??!(0x16e8+0x1a69+0x3*-0x1070)));}async['updateInst'+'anceData'](_0xb06414){var _0xf3177c,_0x3692aa;console['log']('____\x20ENGIN'+'E\x20IVAN','updateInst'+'anceData\x20A'+'SSETS\x20GSpl'+'atInstance',_0xb06414['numSplats']),this['resource']=_0xb06414;const _0x2e2da7=this['resource']['evalTextur'+'eSize'](_0xb06414['centers']['length']/(0x221e*0x1+-0x10*0x22c+0xa5));return(_0xf3177c=this['backOrderT'+'exture'])==null||_0xf3177c['destroy'](),this['backOrderT'+'exture']=this['resource']['createText'+'ure']('splatOrder'+'2',Ki,_0x2e2da7),this['meshInstan'+'ce']['setInstanc'+'ing'](this['resource']['instanceIn'+'dices'],!(0x1*-0x13a+-0x13*-0x115+-0x1*0x1355)),(_0x3692aa=this['sorter'])==null||_0x3692aa['initData'](this['backOrderT'+'exture'],_0xb06414['centers'],_0xb06414['muT'],_0xb06414['tScale'],_0xb06414['motion'],_0xb06414['timeIndex'],_0xb06414['timeOption'],_0xb06414['is4D']),new Promise(_0x2a03fd=>{var _0x475c42;const _0x3e9fd4=(_0x5cd237,_0x56c0af,_0x39235e)=>{var _0x3e1be8;_0x39235e&&((_0x3e1be8=this['sorter'])==null||_0x3e1be8['off']('updated',_0x3e9fd4),_0x2a03fd(!(-0x477*-0x3+0x5*0xe1+-0x6*0x2f7)));};(_0x475c42=this['sorter'])==null||_0x475c42['on']('updated',_0x3e9fd4);});}['destroy'](){var _0x58ebfd,_0x225f79,_0x4585a3,_0x297f4c,_0x1fc8e9,_0x78b0c2;(_0x58ebfd=this['resolveSH'])==null||_0x58ebfd['destroy'](),(_0x225f79=this['material'])==null||_0x225f79['destroy'](),(_0x4585a3=this['meshInstan'+'ce'])==null||_0x4585a3['destroy'](),(_0x297f4c=this['sorter'])==null||_0x297f4c['destroy'](),(_0x1fc8e9=this['orderTextu'+'re'])==null||_0x1fc8e9['destroy'](),(_0x78b0c2=this['backOrderT'+'exture'])==null||_0x78b0c2['destroy']();}set['material'](_0x2bc4e8){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.set\x20'+'material'),this['_material']!==_0x2bc4e8&&(this['_material']=_0x2bc4e8,this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x2bc4e8));}get['material'](){return this['_material'];}['configureM'+'aterial'](_0x56f80b,_0x2e3a71={}){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.conf'+'igureMater'+'ial'),this['resource']['configureM'+'aterial'](_0x56f80b),_0x56f80b['setParamet'+'er']('numSplats',-0xe71*0x2+0x7e5*0x4+-0x2b2),_0x56f80b['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),_0x56f80b['setParamet'+'er']('alphaClip',0x2049+-0x1a*-0x6d+-0x2b5b+0.3),_0x56f80b['setDefine']('DITHER_'+(_0x2e3a71['dither']?'BLUENOISE':'NONE'),''),_0x56f80b['cull']=bt,_0x56f80b['blendType']=_0x2e3a71['dither']?Cs:Zs,_0x56f80b['depthWrite']=!!_0x2e3a71['dither'];}['updateView'+'port'](_0x2b4fce){var _0x383e5a;const _0x27c143=_0x2b4fce==null?void(-0xc19*0x3+-0x158b+0x39d6):_0x2b4fce['camera'],_0x3a6c30=_0x27c143==null?void(0x5f7*-0x3+-0x20e*0x5+-0x1*-0x1c2b):_0x27c143['renderTarg'+'et'],{width:_0x500711,height:_0x49a819}=_0x3a6c30??this['resource']['device'];Sc[0x12ee*-0x1+0xe5f+-0x1*-0x48f]=_0x500711,Sc[0x267a+0x1*-0x5ae+-0x20cb]=_0x49a819;const _0x20642c=(_0x383e5a=_0x27c143==null?void(-0x1f4*-0x3+0x0+-0x5dc):_0x27c143['camera'])==null?void(-0x1401+0x1*0x22e6+-0xee5):_0x383e5a['xr'];_0x20642c!=null&&_0x20642c['active']&&_0x20642c['views']['list']['length']===-0x3a9*0x2+-0xb97+0x1d*0xa7&&(Sc[0x3*-0x98f+0x1*-0x1ba7+0x2*0x1c2a]*=-0x21b+0x7b*0x12+0x5*-0x14f+0.5),this['material']['setParamet'+'er']('viewport',Sc);}['sort'](_0x39828b){if(this['sorter']){const _0x150e8a=_0x39828b['getWorldTr'+'ansform']();_0x150e8a['getTransla'+'tion'](Va),_0x150e8a['getZ'](Ga);const _0x5a7a4f=this['meshInstan'+'ce']['node']['getWorldTr'+'ansform'](),_0x5ed01c=vC['invert'](_0x5a7a4f);_0x5ed01c['transformP'+'oint'](Va,Va),_0x5ed01c['transformV'+'ector'](Ga,Ga),(!Va['equalsAppr'+'ox'](this['lastCamera'+'Position'])||!Ga['equalsAppr'+'ox'](this['lastCamera'+'Direction']))&&(this['lastCamera'+'Position']['copy'](Va),this['lastCamera'+'Direction']['copy'](Ga),this['sorter']['setCamera'](Va,Ga)),this['sorter']['setCurrent'+'Time'](this['time']);}this['updateView'+'port'](_0x39828b);}['update'](){var _0x4cd1db;if(this['cameras']['length']>0xbb5+-0x659*0x5+0x1408){const _0x3641e1=this['cameras'][0x19f1*0x1+-0x89f*-0x2+-0x2b2f];this['sort'](_0x3641e1['_node']),(_0x4cd1db=this['resolveSH'])==null||_0x4cd1db['render'](_0x3641e1['_node'],this['meshInstan'+'ce']['node']['getWorldTr'+'ansform']()),this['cameras']['length']=-0xd9*0xb+0x677+0x2dc;}}['setHighQua'+'litySH'](_0x2de662){const {resource:_0x44be93}=this,{gsplatData:_0x137d64}=_0x44be93;_0x137d64 instanceof gC&&_0x137d64['shBands']>-0x188b+0xfc+0x178f&&_0x2de662===!!this['resolveSH']&&(this['resolveSH']?(this['resolveSH']['destroy'](),this['resolveSH']=null):this['resolveSH']=new fC(_0x44be93['device'],this));}['updateTime'](_0x114d79){this['time']=_0x114d79;}}class Rv{constructor(_0xc3aaa3,_0x46e890){h(this,'sceneInfo',{}),h(this,'isDestroye'+'d',!(-0x1232+-0xb9a+0x1dcc)),h(this,'device'),h(this,'gsplatData'),h(this,'centers'),h(this,'aabb'),h(this,'mesh'),h(this,'instanceIn'+'dices'),h(this,'gsplatInst'+'ance'),(this['device']=_0xc3aaa3,this['gsplatData']=_0x46e890,this['isDestroye'+'d']=!(-0x2*0x202+0x1f0b*-0x1+0x2310));const _0x18ee9b=-0x1b66+0x183d+0x3a9,_0x5ee94e=Math['ceil'](_0x46e890['numSplats']/_0x18ee9b)*_0x18ee9b/_0x18ee9b,_0x59e97f=new Uint32Array(_0x5ee94e);for(let _0x22237e=-0xfe5+0xff4+-0xf*0x1;_0x22237e<_0x5ee94e;++_0x22237e)_0x59e97f[_0x22237e]=_0x22237e*_0x18ee9b;const _0x85b0e7=new kt(_0xc3aaa3,[{'semantic':ph,'components':0x1,'type':el,'asInt':!(-0x99*-0x6+0x18d9*0x1+-0x1c6f)}]),_0x1d8235=new Float32Array((0x22*0x10d+-0x18cc+-0x571*0x2)*_0x18ee9b),_0x2c483d=new Uint32Array((0x1a*-0x84+0x87b+-0x4f3*-0x1)*_0x18ee9b);for(let _0x40c7d1=-0x1*0x655+-0x10d4+-0x1729*-0x1;_0x40c7d1<_0x18ee9b;++_0x40c7d1){_0x1d8235['set']([-(-0x192e+-0x2ee+-0x95f*-0x3),-(0x262f+-0x476*0x1+0x34*-0xa6),_0x40c7d1,0xddc*-0x2+-0x204c+0x3c05,-(-0x1dad*-0x1+-0x1*0x83+-0x1d29),_0x40c7d1,-0x29*0xf+-0x9*0x6d+0x63d,0x1b8+0x7ca*-0x3+-0x17*-0xf1,_0x40c7d1,-(0xad9+-0x2346+0x186e),-0x12b9+-0x1*-0x1a33+0x1*-0x779,_0x40c7d1],_0x40c7d1*(-0x1cda+-0x1*-0x548+-0x1*-0x179e));const _0x2ad630=_0x40c7d1*(0x1*0xb67+-0x6*-0x515+0x29e1*-0x1);_0x2c483d['set']([-0xc0c+-0x155*-0xc+0x2*-0x1f8+_0x2ad630,0x11*0x8f+0x49d*0x2+-0x4*0x4ae+_0x2ad630,-0x1*-0x7c7+-0x102e+0x869+_0x2ad630,0xb06+-0xe7*-0x1f+0x1*-0x26ff+_0x2ad630,-0x2173*0x1+0x4ab+0x1cca+_0x2ad630,-0xdee+-0xda1+0x1b92+_0x2ad630],_0x40c7d1*(0x13*-0x4c+0x2094*0x1+-0x1aea));}this['mesh']=new Ge(_0xc3aaa3),this['mesh']['setPositio'+'ns'](_0x1d8235,0x67*-0xb+-0x16b4+0xc*0x243),this['mesh']['setIndices'](_0x2c483d),this['mesh']['update'](),this['mesh']['incRefCoun'+'t'](),this['instanceIn'+'dices']=new Is(_0xc3aaa3,_0x85b0e7,_0x5ee94e,{'usage':ms,'data':_0x59e97f['buffer']});}['updateData'](){var _0xee11a6;const _0x5b4afa=this['gsplatData'];if(!_0x5b4afa)return;const _0x22d371=-0xe0+-0x49*0x75+-0x1*-0x22bd,_0x15b945=Math['ceil'](_0x5b4afa['numSplats']/_0x22d371)*_0x22d371/_0x22d371,_0x746907=new Uint32Array(_0x15b945);for(let _0x1cd73e=0x18a4+0x1f7a+0x51a*-0xb;_0x1cd73e<_0x15b945;++_0x1cd73e)_0x746907[_0x1cd73e]=_0x1cd73e*_0x22d371;const _0x5184a6=new kt(this['device'],[{'semantic':ph,'components':0x1,'type':el,'asInt':!(0x1b54+0x1b28+-0x367c)}]),_0x59f528=new Float32Array((-0xb88+-0x1097+-0x1*-0x1c2b)*_0x22d371),_0x432672=new Uint32Array((-0x711+0xb5*-0x17+-0x175a*-0x1)*_0x22d371);for(let _0x1c3255=-0x693+-0x1dfa+-0x248d*-0x1;_0x1c3255<_0x22d371;++_0x1c3255){_0x59f528['set']([-(-0x2*0x78d+0x9*-0x2bd+-0x6*-0x6a0),-(0x1abf*0x1+-0x1ff+0x1*-0x18bf),_0x1c3255,0x1252+-0x1296+0x45,-(-0x192a*-0x1+-0xa2f+-0xefa),_0x1c3255,0x5d2+0xdb0+-0x1*0x1381,-0x1*0x172d+0x1*0xf6+0x1da*0xc,_0x1c3255,-(0xb6a*-0x3+0x11aa+-0x1*-0x1095),0x18f8+0x5*-0x1e+-0x1861,_0x1c3255],_0x1c3255*(-0x13b7*-0x1+0x1264+-0x260f));const _0x527dfd=_0x1c3255*(0xb66+-0x2*0xeb9+-0x44*-0x44);_0x432672['set']([0x2*0x88b+0x1c2b+-0x2d41+_0x527dfd,-0x1780+0x1846*-0x1+0x9*0x54f+_0x527dfd,-0x293*0x5+0x2e3+0x9fe+_0x527dfd,0x4f5+-0x1d31+-0x2c*-0x8d+_0x527dfd,-0x14f+0x20a*0xd+-0x1931+_0x527dfd,-0x127e+0x128b+0xa*-0x1+_0x527dfd],_0x1c3255*(0x5*-0x11d+0xf92+0x7*-0x16d));}this['mesh']['setPositio'+'ns'](_0x59f528,-0x192d+-0x785+-0x1*-0x20b5),this['mesh']['setIndices'](_0x432672),this['mesh']['update'](),this['mesh']['incRefCoun'+'t'](),(_0xee11a6=this['instanceIn'+'dices'])==null||_0xee11a6['destroy'](),this['instanceIn'+'dices']=new Is(this['device'],_0x5184a6,_0x15b945,{'usage':ms,'data':_0x746907['buffer']});}['updateText'+'ure'](){}['destroy'](){var _0x93d673,_0x399833,_0xeaecae,_0x1408db;(_0x93d673=this['mesh'])==null||_0x93d673['destroy'](),(_0x399833=this['instanceIn'+'dices'])==null||_0x399833['destroy'](),(_0xeaecae=this['gsplatData'])==null||_0xeaecae['destroy'](),this['gsplatData']=null,(_0x1408db=this['gsplatInst'+'ance'])==null||_0x1408db['destroy'](),this['gsplatInst'+'ance']=void(-0x2a7*0x3+-0x1d*0x43+-0x2*-0x7c6),this['isDestroye'+'d']=!(-0xd17+-0x3*-0x2bf+0x4da),this['mesh']=null;}get['instanceSi'+'ze'](){return-0xee5+0x1685+-0x720;}get['numSplats'](){var _0x15327a;return(_0x15327a=this['gsplatData'])==null?void(-0x1*0x566+-0x5e9*-0x2+-0x66c):_0x15327a['numSplats'];}['setSceneIn'+'fo'](_0x45b236){}['configureM'+'aterial'](_0x208dad){}['evalTextur'+'eSize'](_0x4a9d6c){return J['ZERO'];}['appendGSpl'+'atResource'](_0xc34569,_0x3963b6,_0xf945c6,_0x466c74,_0x53a371){}['fireAssets'+'ManagerTim'+'eIndex'](){}['createText'+'ure'](_0x5b7b9a,_0x22058e,_0x1d0284,_0x2f81e6){return new _e(this['device'],{'name':_0x5b7b9a,'width':_0x1d0284['x'],'height':_0x1d0284['y'],'format':_0x22058e,'cubemap':!(0x6f*-0x29+0x44*0x27+0x76c),'mipmaps':!(-0x2216+0x1d04+0x3*0x1b1),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,..._0x2f81e6?{'levels':[_0x2f81e6]}:{}});}['instantiat'+'e'](){w['removed']('GSplatReso'+'urce.insta'+'ntiate\x20is\x20'+'removed.\x20U'+'se\x20gsplat\x20'+'component\x20'+'instead');}['createInst'+'ance'](_0x8ee50b,_0x28d0db){return this['gsplatInst'+'ance']=new xC(_0x8ee50b,_0x28d0db),this['gsplatInst'+'ance'];}}async function TC(){const _0xed7e9f=new Float32Array(-0x170f+0x79f*-0x1+0x1eaf),_0x53b407=new Int32Array(_0xed7e9f['buffer']);let _0x408981=null,_0x16c9f8=null,_0x2584a2=null,_0x4cb818=null,_0xe7befe=null,_0x53abde=null,_0x5e535f=null,_0x2b7c78=null;self['onmessage']=async _0x4c13f9=>{const {data:_0x278eb1}=_0x4c13f9;switch(_0x278eb1['type']){case'initWorker':break;case'updateSHDa'+'ta1':_0x27a7e3(_0x278eb1['numSplats'],_0x278eb1['shBands'],_0x278eb1['SHData']);break;case'updateColo'+'rData':_0xa209e6(_0x278eb1['numSplats'],_0x278eb1['cr'],_0x278eb1['cg'],_0x278eb1['cb'],_0x278eb1['ca']);break;case'updateTran'+'sformData':_0x142a64(_0x278eb1['numSplats'],_0x278eb1['is4D'],_0x278eb1['x'],_0x278eb1['y'],_0x278eb1['z'],_0x278eb1['rx'],_0x278eb1['ry'],_0x278eb1['rz'],_0x278eb1['rw'],_0x278eb1['mx'],_0x278eb1['my'],_0x278eb1['mz'],_0x278eb1['sx'],_0x278eb1['sy'],_0x278eb1['sz'],_0x278eb1['muT'],_0x278eb1['tScale']);break;case'calcAabb':_0x424325(_0x278eb1['numSplats'],_0x278eb1['x'],_0x278eb1['y'],_0x278eb1['z'],_0x278eb1['sx'],_0x278eb1['sy'],_0x278eb1['sz']);break;case'destroyWor'+'ker':_0x376529();break;}};class _0x5c45c5{constructor(_0x7d84aa=0x93a+-0x2ab*0x7+0x973*0x1,_0x146a89=0xf23+-0x241+0xce2*-0x1,_0x766cc9=0x1acb+-0x9*-0x45+-0x58*0x55,_0x4b2e74=-0x592*-0x5+0x2*-0x1c5+0x379*-0x7){this['x']=_0x7d84aa,this['y']=_0x146a89,this['z']=_0x766cc9,this['w']=_0x4b2e74;}['set'](_0xfb22dc,_0x1a481c,_0x46b904,_0x5584b5){return this['x']=_0xfb22dc,this['y']=_0x1a481c,this['z']=_0x46b904,this['w']=_0x5584b5,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x524aa1=this){let _0x42f952=_0x524aa1['length']();return _0x42f952===-0x1463+0x1c1f+-0x7bc?(this['x']=this['y']=this['z']=-0x1817*0x1+0xbf0+-0x3*-0x40d,this['w']=0x79f*-0x3+0x1*-0x7ae+0x4*0x7a3):(_0x42f952=(0x11*-0x21+-0x9*-0x257+-0x12dd)/_0x42f952,this['x']=_0x524aa1['x']*_0x42f952,this['y']=_0x524aa1['y']*_0x42f952,this['z']=_0x524aa1['z']*_0x42f952,this['w']=_0x524aa1['w']*_0x42f952),this;}['mulScalar'](_0x3d1517,_0x4c9005=this){return this['x']=_0x4c9005['x']*_0x3d1517,this['y']=_0x4c9005['y']*_0x3d1517,this['z']=_0x4c9005['z']*_0x3d1517,this['w']=_0x4c9005['w']*_0x3d1517,this;}}const _0x141935=_0x2f851d=>{_0xed7e9f[0x1f5c+0x1e32+-0x3d8e*0x1]=_0x2f851d;const _0x50e6b7=_0x53b407[0xad5+-0x11b7+0x6e2];let _0x43acc1=_0x50e6b7>>0x210b+-0x979+-0xb1*0x22&-0xe7ad+-0x419b*0x1+0x1a948,_0x2d8f2b=_0x50e6b7>>-0x1ed+-0x3a6+0x59f&-0xc13*0x1+0x475*-0x2+-0x1cfc*-0x1;const _0x33dc0d=_0x50e6b7>>0x21a7+-0x5ce+-0x1bc2&0x3*-0x359+-0x568*0x7+0x30e2;return _0x33dc0d<0x25b3+0xc*-0xe4+0x83*-0x34?_0x43acc1:_0x33dc0d>0x1b83*-0x1+0x1bc*0x10+0x51?(_0x43acc1|=-0xb2eb+-0xef52+0x21e3d,_0x43acc1|=(_0x33dc0d===-0x1*-0x223d+-0x8*0x3d+-0x1*0x1f56?0x1*-0x92d+-0x4*-0x3ca+0x1*-0x5fb:0x1*0x5f+0x1a54+-0x1ab2)&&_0x50e6b7&0x23800c+-0xfed04f+0x11*0x146e22,_0x43acc1):_0x33dc0d<0x14df+-0x1b43+0x21*0x35?(_0x2d8f2b|=0x15a8+-0x1c8a+-0x27b*-0x6,_0x43acc1|=(_0x2d8f2b>>-0xe6c*-0x2+-0x1d86+-0x60*-0x3-_0x33dc0d)+(_0x2d8f2b>>0x2be+-0x76*-0x10+-0x9ad*0x1-_0x33dc0d&0x15ad*-0x1+0xb4b+0xa63),_0x43acc1):(_0x43acc1|=_0x33dc0d-(-0xf42+0x1f82+-0x16*0xb8)<<0x1*-0x728+-0xc*-0x2c1+-0x19da|_0x2d8f2b>>0x79b*0x4+0x4*-0x4cf+-0xb2f,_0x43acc1+=_0x2d8f2b&0x696*-0x1+0x1b81+-0x14ea,_0x43acc1);},_0x424325=(_0x3f2890,_0xd4c5f5,_0x1528a8,_0x302438,_0x5e7ecf,_0x2eb247,_0x38a043)=>{let _0x34a711=-0x989+-0x100+-0x1f*-0x57,_0x5c0b5f=-0x1*0x413+-0x23f3+0x2806,_0x2b0270=-0x2533+-0x28e+-0x1*-0x27c1,_0x378064=-0xa3*-0xd+-0xcc4+0x3*0x17f,_0x484c0a=0xf41+0x54*0x15+-0x1625,_0x5d17fb=0x28*0x3d+-0xa93*0x3+0x1631,_0x4a89a3=!(0x3*-0x843+0x152*0x8+0x1*0xe39);const _0x10ef51=new Float32Array(0x19e*-0x7+-0xdd*0x11+0xd01*0x2),_0x2daf92=new Float32Array(0x2192+0xd4a+0x1*-0x2ed9);for(let _0xd82399=0x2523+0xe11*-0x2+-0x901;_0xd82399<_0x3f2890;++_0xd82399){const _0x29e950=_0xd4c5f5[_0xd82399],_0x3c0f03=_0x1528a8[_0xd82399],_0x21e8a7=_0x302438[_0xd82399],_0x612144=Math['max'](_0x5e7ecf[_0xd82399],_0x2eb247[_0xd82399],_0x38a043[_0xd82399]);if(!isFinite(_0x29e950)||!isFinite(_0x3c0f03)||!isFinite(_0x21e8a7)||!isFinite(_0x612144))continue;const _0x14a924=(-0x1ac3+0x1a2e+0x97)*Math['exp'](_0x612144);_0x4a89a3?(_0x4a89a3=!(0x6c1*-0x3+0x5*-0x47a+0x2aa6),_0x34a711=_0x29e950-_0x14a924,_0x5c0b5f=_0x3c0f03-_0x14a924,_0x2b0270=_0x21e8a7-_0x14a924,_0x378064=_0x29e950+_0x14a924,_0x484c0a=_0x3c0f03+_0x14a924,_0x5d17fb=_0x21e8a7+_0x14a924):(_0x34a711=Math['min'](_0x34a711,_0x29e950-_0x14a924),_0x5c0b5f=Math['min'](_0x5c0b5f,_0x3c0f03-_0x14a924),_0x2b0270=Math['min'](_0x2b0270,_0x21e8a7-_0x14a924),_0x378064=Math['max'](_0x378064,_0x29e950+_0x14a924),_0x484c0a=Math['max'](_0x484c0a,_0x3c0f03+_0x14a924),_0x5d17fb=Math['max'](_0x5d17fb,_0x21e8a7+_0x14a924));}_0x4a89a3||(_0x10ef51[-0x1bdb+-0xa68+0x2643]=(_0x34a711+_0x378064)*(0x1487+-0x1*0x410+-0x1077+0.5),_0x10ef51[0x4*-0x25d+0x49*-0x84+0x2f19]=(_0x5c0b5f+_0x484c0a)*(-0x19b*-0xf+0x183a+-0x304f+0.5),_0x10ef51[0x149e+-0x83*-0x22+-0x2602]=(_0x2b0270+_0x5d17fb)*(0x246+-0x3d0*-0x1+0x26*-0x29+0.5),_0x2daf92[0xce9+-0xa5b*0x1+-0x28e]=(_0x378064-_0x34a711)*(0x13b9*-0x1+-0xa09*0x1+0x1dc2+0.5),_0x2daf92[0x7ad+0x17b8+-0x7*0x47c]=(_0x484c0a-_0x5c0b5f)*(0x2582+-0x1*-0x1dcc+-0x434e+0.5),_0x2daf92[0x1c2*-0x3+0x13f*-0x1+0x687]=(_0x5d17fb-_0x2b0270)*(-0x1f63*-0x1+0x4*-0x3fb+-0x6b*0x25+0.5)),self['postMessag'+'e']({'type':'updatedAab'+'bData','center':_0x10ef51,'halfExtents':_0x2daf92});},_0x142a64=(_0x4eebf6,_0x3c6ffe,_0x4bae34,_0x4022f9,_0x5d21ae,_0x1a290a,_0xd365dd,_0x54fd09,_0x1d27d5,_0x212062,_0x1237fc,_0x10d31c,_0x2fb5d2,_0x1d4b3a,_0x272bf8,_0x875e12,_0x42d698)=>{_0x376529(),_0x408981=new Float32Array(_0x4eebf6*(0x16d9*0x1+-0x2649+0xf73)),_0x4cb818=new Float32Array(_0x4eebf6*(0x174*0x2+0x833+-0xa*0x11c)),_0x53abde=new Uint16Array(_0x4eebf6*(-0x19*-0x4+-0x2*-0x143+-0x2e7)),_0x2584a2=new Float32Array(_0x4eebf6*(0x17f6+-0xc1c+-0x1*0xbd7)),_0x3c6ffe&&(_0xe7befe=new Float32Array(_0x4eebf6*(0xe43*0x1+0xe5f+0x11*-0x1af)),_0x16c9f8=new Float32Array(_0x4eebf6*(0xa*0x262+-0xed2+0x31*-0x2f)),_0x5e535f=new Float32Array(_0x4eebf6*(-0x4cb*-0x7+-0x3*0xae+-0x20*0xfc)),_0x2b7c78=new Float32Array(_0x4eebf6));const _0x49c5cf=new _0x5c45c5(-0x24a7+-0x7*0x13c+0x2d4b,-0x1f1d+-0x2244+-0x3*-0x15cb,0x1f81+-0x5*0x3ca+-0xc8f,-0x8e3+-0x26fa+0x2fdd);for(let _0x2dd900=-0x3*0xef+-0x1e78+0x2145;_0x2dd900<_0x4eebf6;_0x2dd900++)_0x49c5cf['set'](_0x1a290a[_0x2dd900],_0xd365dd[_0x2dd900],_0x54fd09[_0x2dd900],_0x1d27d5[_0x2dd900]),_0x49c5cf['normalize'](),_0x49c5cf['w']<0x616+-0x12ec+0xcd6&&_0x49c5cf['mulScalar'](-(-0x1*0x1747+-0x2*-0xdc7+-0x446)),_0x4cb818[_0x2dd900*(0x120f+-0x335*0xc+0x1470)+(-0x2006+0xc47+0x13bf)]=_0x4bae34[_0x2dd900],_0x4cb818[_0x2dd900*(-0x3b7*0x8+-0x61*0x45+0x37e0)+(-0x2235+-0x2470+-0x2353*-0x2)]=_0x4022f9[_0x2dd900],_0x4cb818[_0x2dd900*(-0x835*0x1+0x4e6+0x352)+(0x1f04+-0x1436+-0x1*0xacc)]=_0x5d21ae[_0x2dd900],_0x408981[_0x2dd900*(-0x24f6+-0x18ef+0x1ef4*0x2)+(-0xf11+-0x1*0x1265+0x2176)]=_0x4bae34[_0x2dd900],_0x408981[_0x2dd900*(-0x1cdd+0x1244*0x1+-0xc2*-0xe)+(0x594+0x9a3+0x79b*-0x2)]=_0x4022f9[_0x2dd900],_0x408981[_0x2dd900*(-0x2176+-0x2f*0x97+-0x2a*-0x175)+(0x204c+-0xab5*-0x1+-0x9*0x4c7)]=_0x5d21ae[_0x2dd900],_0x53abde[_0x2dd900*(0x6e3+-0x35*-0xb6+-0x2c8e)+(-0x4e+0xe*-0x278+0x2*0x116f)]=_0x141935(Math['exp'](_0x2fb5d2[_0x2dd900])),_0x53abde[_0x2dd900*(-0x3*-0x99d+0xeed*0x2+-0x3aae)+(0x130d*0x1+0x85*0xa+-0x183e)]=_0x141935(Math['exp'](_0x1d4b3a[_0x2dd900])),_0x53abde[_0x2dd900*(0x1*0x188d+-0x87*0x41+-0x9*-0x115)+(-0x23*0xdb+-0x1*-0xe26+0xfcd)]=_0x141935(Math['exp'](_0x272bf8[_0x2dd900])),_0x2584a2[_0x2dd900*(0x1a42+-0x25*-0xdb+0x1*-0x39e6)+(0x128c+-0x7*0x1be+0x10f*-0x6)]=_0x49c5cf['x'],_0x2584a2[_0x2dd900*(-0x937+0x2658+-0x1d1e)+(-0x17*0x45+0x191*0x1+0x4a3)]=_0x49c5cf['y'],_0x2584a2[_0x2dd900*(0x53*-0x65+-0x15e2+0x36a4)+(0xd5+-0x628+0x555)]=_0x49c5cf['z'],_0x3c6ffe&&_0xe7befe&&_0x16c9f8&&(_0xe7befe[_0x2dd900*(0x28*-0xdf+-0x434+0x270f)+(0xb*-0x362+-0x5bf*0x2+-0x6*-0x81e)]=_0x212062[_0x2dd900],_0xe7befe[_0x2dd900*(0x10a3*-0x2+-0x17*0x1a1+0x4*0x11b0)+(-0xad4+-0xaaf*0x2+0x2033)]=_0x1237fc[_0x2dd900],_0xe7befe[_0x2dd900*(-0x8*-0x239+-0x14a7*-0x1+-0x266c)+(-0x95f+0x167*-0xd+-0x4*-0x6e7)]=_0x10d31c[_0x2dd900],_0x5e535f[_0x2dd900*(-0x10*-0x102+-0x1147+0x2*0x95)+(0x1*-0x14ed+0x1*-0x4e8+-0x185*-0x11)]=_0x212062[_0x2dd900],_0x5e535f[_0x2dd900*(0xd*-0x25e+0x1fb5+-0xec)+(0x1513+-0x1bd1+0x6bf)]=_0x1237fc[_0x2dd900],_0x5e535f[_0x2dd900*(0x1*0x911+0x16bc+-0x1fca)+(-0x21fd+-0x239d+-0x87*-0x84)]=_0x10d31c[_0x2dd900],_0x2b7c78[_0x2dd900]=_0x42d698?Math['exp'](_0x42d698[_0x2dd900]):-0x5a+-0x1952+0x19ac,_0x16c9f8[_0x2dd900*(-0x2*-0xe3f+-0x7db*-0x1+0x2*-0x122b)+(0x14f3*-0x1+-0x1*0x285+0xbbc*0x2)]=_0x875e12?_0x875e12[_0x2dd900]:-0x67+0x150c+0x421*-0x5,_0x16c9f8[_0x2dd900*(0x2ea*-0x1+-0x17*0xc2+-0x9*-0x243)+(-0x7b4+0x1ed4+0x171f*-0x1)]=_0x2b7c78[_0x2dd900]);const _0x53a0d6=[_0x408981['buffer'],_0x4cb818['buffer'],_0x53abde['buffer'],_0x2584a2['buffer']];_0x3c6ffe&&_0x53a0d6['push'](_0xe7befe['buffer'],_0x16c9f8['buffer'],_0x5e535f['buffer'],_0x2b7c78['buffer']),self['postMessag'+'e']({'type':'updatedTra'+'nsformData','centers':_0x408981,'dataPosition':_0x4cb818,'dataScale':_0x53abde,'dataRotation':_0x2584a2,'dataMotion':_0xe7befe,'dataTime':_0x16c9f8,'motion':_0x5e535f,'tScaleArray':_0x2b7c78},_0x53a0d6);},_0xa209e6=(_0xef98a2,_0x22dc57,_0xdab258,_0x527265,_0x38470c)=>{const _0x267594=new Uint16Array(_0xef98a2*(-0x1691+0xfa1*0x2+-0x8ad)),_0x1f2c54=-0x1ecf+-0x1ec0+0x3d8f+0.28209479177387814;for(let _0x460a7e=-0xb2*0x7+0x2e5*-0xd+0x2a7f;_0x460a7e<_0xef98a2;++_0x460a7e){const _0x169e6a=_0x22dc57[_0x460a7e]*_0x1f2c54+(0xfb3+-0x26c8+-0x137*-0x13+0.5),_0x523755=_0xdab258[_0x460a7e]*_0x1f2c54+(-0x11a6+0x63*0x3e+-0x654+0.5),_0x6196c=_0x527265[_0x460a7e]*_0x1f2c54+(0x26f8+-0x211f+0x3*-0x1f3+0.5),_0x234092=_0x38470c[_0x460a7e];_0x267594[_0x460a7e*(0x9ca+-0x1*0x1efc+-0x1536*-0x1)+(0x1a2e+-0x10ef+-0x93f)]=_0x141935(_0x169e6a),_0x267594[_0x460a7e*(0x1*0xbed+0xe4e+-0x3*0x8bd)+(0x1628+-0x5fb*-0x2+-0x221d)]=_0x141935(_0x523755),_0x267594[_0x460a7e*(-0x672+-0x27b*0xa+0x1f44)+(0x1f85+0xddd+-0x42*0xb0)]=_0x141935(_0x6196c),_0x267594[_0x460a7e*(-0x1*0x1c45+0x1432+-0x13*-0x6d)+(0x13d0+-0x1cfb+0x2*0x497)]=_0x141935(_0x234092);}self['postMessag'+'e']({'type':'updatedCol'+'orData','data':_0x267594});},_0x27a7e3=(_0x4cda11,_0x52403a,_0xb67702)=>{const _0x122081=new Uint32Array(_0x4cda11*(0x1393+0x21a*0x8+-0x245f*0x1)),_0x2e9d69=new Uint32Array(_0x4cda11*(-0x11bd+0x2239+-0x3e*0x44)),_0x2a2af2=new Uint32Array(_0x4cda11*(0x370*-0x5+0x20a5+-0xf71)),_0x573fd2=new Uint32Array(_0x4cda11*(-0x1cf+0x5df*-0x6+-0x250d*-0x1)),_0x8e69ed={0x1:0x3,0x2:0x8,0x3:0xf}[_0x52403a],_0x28b675=_0xb67702,_0x2d3abf=0x4*0x8e+-0x41*-0x1f+-0x218,_0x1634b7=-0xaf0+0x14d*0x4+0x9bb,_0x5b6c83=new Float32Array(-0x2489+0x1*-0x1c31+0x1*0x40bb),_0x1675ce=new Uint32Array(_0x5b6c83['buffer']),_0x135403=new Array(_0x8e69ed*(-0x7d6+-0x40d+0xbe6))['fill'](-0x212b+0xaba+0x17f*0xf);for(let _0x2a3f25=-0x313+-0x26bd+-0x4*-0xa74;_0x2a3f25<_0x4cda11;++_0x2a3f25){for(let _0x2e4c4c=-0x1fdd+0xeea+-0x1*-0x10f3;_0x2e4c4c<_0x8e69ed;++_0x2e4c4c)_0x135403[_0x2e4c4c*(-0xf7b+-0x231a+0x3298)]=_0x28b675[_0x2e4c4c][_0x2a3f25],_0x135403[_0x2e4c4c*(0x1b25+-0x187*-0x17+-0x3e43)+(0x3b*0x46+0x1*-0x196d+0x94c)]=_0x28b675[_0x2e4c4c+_0x8e69ed][_0x2a3f25],_0x135403[_0x2e4c4c*(-0x16e6+0x1dc8+0x6df*-0x1)+(-0x6f5*-0x3+-0x748*-0x4+-0x31fd)]=_0x28b675[_0x2e4c4c+_0x8e69ed*(0x5ee+-0x1538+0xf4c)][_0x2a3f25];let _0x2de3e7=_0x135403[-0x18fc+-0x1942+0x323e];for(let _0x50b093=-0x607*-0x4+-0x3b*0x11+-0x50c*0x4;_0x50b093<_0x8e69ed*(-0x887+-0x19fe*0x1+0x451*0x8);++_0x50b093)_0x2de3e7=Math['max'](_0x2de3e7,Math['abs'](_0x135403[_0x50b093]));if(_0x2de3e7!==-0x89f*-0x1+-0x11ea*-0x1+-0x1a89){for(let _0x614186=-0x15d5+-0x1b8a+-0x21*-0x17f;_0x614186<_0x8e69ed;++_0x614186)_0x135403[_0x614186*(-0x1*0xab6+-0x1d15+0x2*0x13e7)+(0x1b90+0xc60+-0x48*0x8e)]=Math['max'](0x1*-0xe6c+-0x2*0x8ee+0x2048,Math['min'](_0x2d3abf,Math['floor']((_0x135403[_0x614186*(0x1039*-0x1+-0x1582+-0x2*-0x12df)+(-0x1c73*0x1+-0x1071+0x1672*0x2)]/_0x2de3e7*(0x6*-0x199+0x4*-0x19b+0x1*0x1002+0.5)+(-0x746+0x8*0x95+-0xa*-0x43+0.5))*_0x2d3abf+(-0xb72+-0x1b82+0x26f4+0.5)))),_0x135403[_0x614186*(0x7d7+-0x23ec+-0x1c18*-0x1)+(0xa5b*-0x2+-0x19*-0xe8+-0x1f1)]=Math['max'](-0x11b*-0x1+0x1b63+-0x1c7e,Math['min'](_0x1634b7,Math['floor']((_0x135403[_0x614186*(-0x196*-0x9+0x1*0x247e+-0x32c1)+(-0x3*0x875+-0x184f+0x31af)]/_0x2de3e7*(0x1*-0x12b+-0x50*0x11+0x1*0x67b+0.5)+(0x1f0c+-0x1*0x2f6+-0x1c16+0.5))*_0x1634b7+(-0x1256+-0x33*0x55+0x2345+0.5)))),_0x135403[_0x614186*(-0x1138+0xc*0x164+-0x8b*-0x1)+(0x76*0x32+-0x31d*-0x5+-0x269b)]=Math['max'](0xcd2+-0x1*-0x16dd+-0x57*0x69,Math['min'](_0x2d3abf,Math['floor']((_0x135403[_0x614186*(-0x1e5b*0x1+-0x6*0x23f+0x4*0xaf6)+(0x173d+0x1d4d*-0x1+0x612)]/_0x2de3e7*(0x202*-0xe+0x1*-0x1273+0x89*0x57+0.5)+(0x20f1+-0xa2e*-0x2+0xaa9*-0x5+0.5))*_0x2d3abf+(-0x1c5*0x12+-0xb03*-0x1+0x14d7+0.5))));_0x5b6c83[-0x1c5e+0x10a6+-0x4b*-0x28]=_0x2de3e7,_0x122081[_0x2a3f25*(0x24e1+0x1*-0x189+0x4*-0x8d5)+(-0x8b*-0x17+-0x180b+0xb8e)]=_0x1675ce[0x1*0xef9+0xc4b+-0x1b44],_0x122081[_0x2a3f25*(0x2441+0x8da*-0x1+0x1b63*-0x1)+(-0x3*0x167+0x126d+0xe37*-0x1)]=_0x135403[-0x12ce*-0x2+-0x77*-0x3+-0x2701]<<-0x1ec6+-0x109b+0x10e*0x2d|_0x135403[-0x743*0x2+0x2*0x10ee+-0x1355]<<0x25cd+-0x1ea9+-0x719|_0x135403[0xb93+-0x217d*-0x1+-0x2d0e],_0x122081[_0x2a3f25*(-0xfe2+-0x1*0x10b5+0x209b)+(-0x3b*0x9f+-0x3c5+0x286c)]=_0x135403[0x9b*-0x11+-0x254b*0x1+0x2f99]<<0x4*-0x48+-0x1b*-0x147+0x28*-0xd5|_0x135403[-0xa8+0x1052+-0x2*0x7d3]<<0xd30+-0x1bf*-0x15+-0x31d0|_0x135403[-0xe44+0x151*0x2+0xba7],_0x122081[_0x2a3f25*(0x5*0x3be+0x2308+-0x256*0x17)+(0x5*0x1d+0x691*-0x5+0x2047)]=_0x135403[-0x116f+-0x27a+0x51*0x3f]<<0x130*0x4+-0x2407+-0x3*-0xa74|_0x135403[0x1a6*0x6+-0x46a+0x1*-0x573]<<-0x11*0x8b+0x2de+0x2*0x334|_0x135403[0xfa1*-0x2+-0x1bfc+0x3b46],_0x52403a>-0x9f5+-0x265*0x5+0x463*0x5&&(_0x2e9d69[_0x2a3f25*(-0x128*0xe+-0x18e2+0x2916)+(0x2662+-0x1cdb+-0x32d*0x3)]=_0x135403[-0x7*-0x1c8+0x1b8*0x1+-0xe27]<<-0x1*0x496+0x95e+-0x1*0x4b3|_0x135403[-0x1536+-0x164c+-0xae3*-0x4]<<0x1756*-0x1+0x222a+0xac9*-0x1|_0x135403[0x1683*0x1+0x5bf*-0x1+-0x10b9],_0x2e9d69[_0x2a3f25*(0x491+-0x64d*-0x1+-0x39e*0x3)+(0x1685+-0x1*-0x4bb+-0x1*0x1b3f)]=_0x135403[-0x1*0x1f73+-0xbd7+0x2b56]<<0x45a*-0x7+0x26*0x1d+0x1a3d|_0x135403[0x211e+-0x23d0+0x13*0x25]<<-0xd*-0x1fa+0x36*0x89+-0x368d|_0x135403[0x1232*-0x1+-0x38*0x3e+-0x2*-0xfe8],_0x2e9d69[_0x2a3f25*(-0x86*-0x9+0x2d2+-0x2*0x3c2)+(-0xd85+0x3*-0x1e9+0x1342)]=_0x135403[-0x7d+0x223c+-0x38*0x9a]<<0x6a*0xa+0xa*-0x223+0x114f|_0x135403[0x4*-0x892+0x22db+-0x83*0x1]<<-0x45c+0xb63*0x1+-0x6fc|_0x135403[-0x230a+-0x894+0x35*0xd3],_0x2e9d69[_0x2a3f25*(0x15d*0x11+0x4e5*-0x4+0x7*-0x83)+(-0x19d7+0x23e7*0x1+0xa0d*-0x1)]=_0x135403[0x6*0x2de+-0x3e1*0x2+-0x3*0x320]<<-0x19c7+0x574*0x2+0xef4|_0x135403[-0x120d+0x23dd+-0x11bd]<<-0x2382+-0x2228+-0x2b*-0x19f|_0x135403[-0x2a5*-0xb+-0x3*-0x3d3+-0x287c],_0x52403a>0x1b83+0x1259+-0x2dda?(_0x2a2af2[_0x2a3f25*(0x24f7+-0x6*0x89+0x3*-0xb3f)+(0x1494+0x2b8*-0x3+-0x636*0x2)]=_0x135403[-0x18c7+-0xdfe+0x26da]<<0x1*-0xfec+-0x12f3+0x1*0x22f4|_0x135403[-0x143*0x1+0x1a93+-0x193a]<<0x935+0x45*0x17+-0x39*0x45|_0x135403[0x2b9+-0x16d5+0x1433*0x1],_0x2a2af2[_0x2a3f25*(-0x1*-0xb7b+0x2473+-0x2fea)+(-0x12f4*0x1+-0x2b*0x71+0x25f*0x10)]=_0x135403[-0x94*0x4+0x7*0x273+-0x31*0x4d]<<0x20e6*-0x1+-0x7bf*0x1+0xd*0x322|_0x135403[-0x196a+0x2346+0x11*-0x93]<<-0x730+-0x24d0+-0x5*-0x8cf|_0x135403[-0x2239+0x7f*0x2e+-0x13*-0x9b],_0x2a2af2[_0x2a3f25*(-0x42b+0x1a79+-0x6*0x3b7)+(-0x4*-0x721+-0x1f9f*0x1+0x31d)]=_0x135403[-0xd0e+0x11e5+-0x194*0x3]<<-0x3*-0x17a+0x1a*-0x6f+-0x24f*-0x3|_0x135403[0x1d87+0x1*-0xe74+-0xef7]<<-0x24c2+0x1471*-0x1+-0x1c9f*-0x2|_0x135403[-0x20fd+0x7a*-0x47+0x66*0xa8],_0x2a2af2[_0x2a3f25*(0x237*-0x7+0x1*0x2ab+0xcda)+(0x1*-0x47c+0x22+-0x45d*-0x1)]=_0x135403[0x1*0xb+-0x4d*0x58+0x1a8b]<<-0xe81*0x1+0x57d*-0x4+0x248a*0x1|_0x135403[-0x1bc8+-0x1*0x1673+-0x509*-0xa]<<-0x1690+-0xb49*-0x1+0x15*0x8a|_0x135403[0x5*0x1f6+-0x25*0x21+-0x4e9*0x1],_0x573fd2[_0x2a3f25*(0x7*-0x15c+0x1df4+-0x146c)+(0x6*-0x15+0x18*0x18a+-0x74a*0x5)]=_0x135403[-0x1733+-0x1ec7*-0x1+0x773*-0x1]<<0x2*-0xb7b+-0x253d+0x3c48|_0x135403[-0x6*-0x47a+-0x2*0x9c8+-0x72a]<<-0x1e*0xab+0x218d*0x1+-0xd78|_0x135403[-0xf6d+-0x9*0x255+0x1*0x248d],_0x573fd2[_0x2a3f25*(-0x233d+0x1a7f+0x8c2)+(-0x20b6+-0xb*0x2fb+0x40*0x106)]=_0x135403[-0x2161+0x1256+-0xa9*-0x17]<<-0x1*-0x1481+0x1ed*-0x7+-0x6f1|_0x135403[-0x1877+0x308+0x1594*0x1]<<-0x22d6+-0x81e*-0x2+-0x6f*-0x2b|_0x135403[0x20bd+0x80*0x11+-0x2917],_0x573fd2[_0x2a3f25*(0x74f+0x1c61+-0x23ac)+(-0xef1+0x1e2*-0xb+0x219*0x11)]=_0x135403[-0x581*0x5+0xc4*0x2e+-0x78c]<<-0x1*0xb33+-0x1007+0x1b4f|_0x135403[-0x1820+0xaad+0x81*0x1b]<<-0x1824+-0xa*0x103+0xb6f*0x3|_0x135403[-0x18a5+0x50*0x4e+-0x1*-0x6e],_0x573fd2[_0x2a3f25*(0x3*-0x9c7+0x4*-0x31f+0x29d5)+(0x1*0x1b62+-0x195b*0x1+0x6*-0x56)]=_0x135403[-0x653+-0xd*0x282+0x2717]<<-0x1a22+0x1*-0x24a6+0x3edd|_0x135403[-0x2*-0x1084+0x1e05+-0x3ee2]<<-0x97f+0xe*0x257+-0x1738|_0x135403[-0x13*0x123+0x2b*0x95+-0x342]):_0x2a2af2[_0x2a3f25]=_0x135403[-0xf74+-0x4ac+0x1435]<<-0x1*-0xa49+0x443*-0x5+0xb1b*0x1|_0x135403[0x2*0x1375+-0x1*0x1f73+0x761*-0x1]<<-0xd6e*0x2+-0xb9*-0x11+-0x1*-0xe9e|_0x135403[-0xac5*0x2+-0x374+0x1915]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata1','data':{'sh1to3Data':_0x122081,'sh4to7Data':_0x2e9d69,'sh8to11Data':_0x2a2af2,'sh12to15Data':_0x573fd2}},[_0x122081['buffer'],_0x2e9d69['buffer'],_0x2a2af2['buffer'],_0x573fd2['buffer']]);},_0x376529=()=>{_0x408981=null,_0x16c9f8=null,_0x2584a2=null,_0x4cb818=null,_0xe7befe=null,_0x53abde=null,_0x5e535f=null,_0x2b7c78=null;};}let wC=class extends me{constructor(){super(),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+TC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}['workerMess'+'ageFn'](_0x342c58,_0x3579f2,_0x5109c4){_0x342c58['onmessage']=_0x5c0563=>{if(!this['worker'])return;const {data:_0x4b163d}=_0x5c0563;if(_0x4b163d['type']===_0x3579f2)switch(_0x3579f2){case'updatedSHD'+'ata1':_0x5109c4(_0x4b163d['data']);break;case'updatedCol'+'orData':_0x5109c4(_0x4b163d['data']);break;case'updatedTra'+'nsformData':_0x5109c4(_0x4b163d);break;case'updatedAab'+'bData':_0x5109c4(_0x4b163d);break;}};}['updateSHDa'+'ta1'](_0x5c4923,_0x156670,_0x5880d1){var _0x14d336;return(_0x14d336=this['worker'])==null||_0x14d336['postMessag'+'e']({'type':'updateSHDa'+'ta1','numSplats':_0x5c4923,'shBands':_0x156670,'SHData':_0x5880d1}),new Promise(_0x1c0acb=>{this['workerMess'+'ageFn'](this['worker'],'updatedSHD'+'ata1',_0x519140=>{_0x1c0acb(_0x519140);});});}async['updateColo'+'rData'](_0x4b51ab,_0x398e37,_0xb99e02,_0x35191e,_0x3e63db){var _0x5ccab7;return(_0x5ccab7=this['worker'])==null||_0x5ccab7['postMessag'+'e']({'type':'updateColo'+'rData','numSplats':_0x4b51ab,'cr':_0x398e37,'cg':_0xb99e02,'cb':_0x35191e,'ca':_0x3e63db}),new Promise(_0x2e74c9=>{this['workerMess'+'ageFn'](this['worker'],'updatedCol'+'orData',_0x1a193b=>{_0x2e74c9(_0x1a193b);});});}async['calcAabb'](_0x470d25,_0x4a9c44,_0x4a15bc,_0x5221e4,_0x13904f,_0x4b257d,_0x11bae2){var _0x32f848;const _0x4f7e56=new Float32Array(_0x4a9c44),_0x8d7c59=new Float32Array(_0x4a15bc),_0x1b0403=new Float32Array(_0x5221e4),_0x251362=new Float32Array(_0x13904f),_0x597de3=new Float32Array(_0x4b257d),_0x5955e9=new Float32Array(_0x11bae2);return(_0x32f848=this['worker'])==null||_0x32f848['postMessag'+'e']({'type':'calcAabb','numSplats':_0x470d25,'x':_0x4f7e56,'y':_0x8d7c59,'z':_0x1b0403,'sx':_0x251362,'sy':_0x597de3,'sz':_0x5955e9},[_0x4f7e56['buffer'],_0x8d7c59['buffer'],_0x1b0403['buffer'],_0x251362['buffer'],_0x597de3['buffer'],_0x5955e9['buffer']]),new Promise(_0x35c825=>{this['workerMess'+'ageFn'](this['worker'],'updatedAab'+'bData',_0x1f39c5=>{_0x35c825(_0x1f39c5);});});}async['updateTran'+'sData'](_0x5162dc,_0x4fe1fe,_0xc592df,_0x2402d8,_0x22be14,_0x39bcda,_0x1681b9,_0x5f4870,_0x3a35c7,_0x466832,_0x586f30,_0x3b2e23,_0x541314,_0x523c2d,_0x523c5c,_0x3e4848,_0xebb279){var _0x1957c0;return(_0x1957c0=this['worker'])==null||_0x1957c0['postMessag'+'e']({'type':'updateTran'+'sformData','numSplats':_0x5162dc,'is4D':_0x4fe1fe,'x':_0xc592df,'y':_0x2402d8,'z':_0x22be14,'rx':_0x39bcda,'ry':_0x1681b9,'rz':_0x5f4870,'rw':_0x3a35c7,'mx':_0x466832,'my':_0x586f30,'mz':_0x3b2e23,'sx':_0x541314,'sy':_0x523c2d,'sz':_0x523c5c,'muT':_0x3e4848,'tScale':_0xebb279}),new Promise(_0x458d63=>{const _0x1dbe6d=_0x3d0b4a=>{_0x458d63(_0x3d0b4a);};this['workerMess'+'ageFn'](this['worker'],'updatedTra'+'nsformData',_0x1dbe6d);});}['destroy'](){var _0x50b591;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x50b591=this['worker'])==null||_0x50b591['terminate'](),this['worker']=null);}};const vg=(_0x4b2613,_0x9af75b)=>{const _0x2f67da=[];for(let _0x182bd0=0x1*-0x503+-0x1416+0x19*0x101;_0x182bd0<_0x9af75b;++_0x182bd0)_0x2f67da['push'](_0x4b2613['getProp']('f_rest_'+_0x182bd0));return _0x2f67da;};class EC extends Rv{constructor(_0x7578b7,_0x29bb8f){console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),super(_0x7578b7,_0x29bb8f),h(this,'timeOption'),h(this,'appendQueu'+'e',[]),h(this,'isProcessi'+'ngQueue',!(0x166c+-0xc19*-0x1+-0x2284)),h(this,'muT'),h(this,'tScale'),h(this,'motion'),h(this,'timeIndex'),h(this,'colorTextu'+'re'),h(this,'transformA'+'Texture'),h(this,'transformB'+'Texture'),h(this,'transformR'+'Texture'),h(this,'transformM'+'otionTextu'+'re'),h(this,'transformL'+'ifecycleTe'+'xture'),h(this,'colorTextu'+'re2'),h(this,'transformA'+'Texture2'),h(this,'transformB'+'Texture2'),h(this,'transformR'+'Texture2'),h(this,'transformM'+'otionTextu'+'re2'),h(this,'transformL'+'ifecycleTe'+'xture2'),h(this,'is4D'),h(this,'shBands'),h(this,'sh1to3Text'+'ure'),h(this,'sh4to7Text'+'ure'),h(this,'sh8to11Tex'+'ture'),h(this,'sh12to15Te'+'xture'),h(this,'sh1to3Text'+'ure2'),h(this,'sh4to7Text'+'ure2'),h(this,'sh8to11Tex'+'ture2'),h(this,'sh12to15Te'+'xture2'),h(this,'updateData'+'Worker'),(this['updateData'+'Worker']=new wC(),this['assetsMana'+'gerLoadedT'+'ime']=0x4b*-0x49+0x8*-0x2cc+0x2bc8*0x1);}async['updateData'](){var _0x13a497,_0x2e01a2,_0x1450d1,_0x441165,_0x3ee6e1,_0x4629a3,_0x105283,_0xc1e658,_0x419e74,_0x46d031,_0x4878ec;console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20update'+'Data'),await super['updateData']();const _0x202eb5=this['gsplatData'];if(!_0x202eb5)return;this['is4D']=_0x202eb5['is4D'];const _0x4c7c64=await this['getTransfo'+'rmDataByWo'+'rker'](_0x202eb5);this['aabb']=new De(),await _0x202eb5['calcAabbAs'+'ync'](this['aabb'],this['updateData'+'Worker']),this['mesh']['aabb']['copy'](this['aabb']),this['centers']=_0x4c7c64['centers'],this['motion']=_0x4c7c64['motion'],this['tScale']=_0x4c7c64['tScaleArra'+'y'],this['muT']=await _0x202eb5['getMuT'](),this['timeIndex']=await _0x202eb5['getTimeInd'+'ex']();const _0x563f75=this['evalTextur'+'eSize'](_0x202eb5['numSplats']);this['colorTextu'+'re']?((_0x13a497=this['colorTextu'+'re2'])==null||_0x13a497['destroy'](),(_0x2e01a2=this['transformA'+'Texture2'])==null||_0x2e01a2['destroy'](),(_0x1450d1=this['transformB'+'Texture2'])==null||_0x1450d1['destroy'](),(_0x441165=this['transformR'+'Texture2'])==null||_0x441165['destroy'](),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x563f75),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x563f75),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x563f75),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x563f75),this['is4D']&&((_0x3ee6e1=this['transformM'+'otionTextu'+'re2'])==null||_0x3ee6e1['destroy'](),(_0x4629a3=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x4629a3['destroy'](),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x563f75),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x563f75))):(this['colorTextu'+'re']=this['createText'+'ure']('splatColor',nt,_0x563f75),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x563f75),this['transformA'+'Texture']=this['createText'+'ure']('transformA',Ye,_0x563f75),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x563f75),this['transformB'+'Texture']=this['createText'+'ure']('transformB',ui,_0x563f75),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x563f75),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ye,_0x563f75),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x563f75),this['is4D']&&(this['transformM'+'otionTextu'+'re']=this['createText'+'ure']('transformM'+'otion',Ye,_0x563f75),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x563f75),this['transformL'+'ifecycleTe'+'xture']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture',Ye,_0x563f75),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x563f75))),await this['updateColo'+'rData'](_0x202eb5),await this['updateTran'+'sformFromD'+'ata'](_0x4c7c64),this['shBands']=_0x202eb5['shBands'],this['shBands']>0xdb7*-0x1+0xf14+-0x15d&&(this['sh1to3Text'+'ure']?((_0x105283=this['sh1to3Text'+'ure2'])==null||_0x105283['destroy'](),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x563f75),this['shBands']>-0x43*0x67+0xb*-0x1cf+0x2edb&&((_0xc1e658=this['sh4to7Text'+'ure2'])==null||_0xc1e658['destroy'](),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x563f75),this['shBands']>0x9e*-0x35+-0x1*-0x4ee+-0x1bca*-0x1?((_0x419e74=this['sh8to11Tex'+'ture2'])==null||_0x419e74['destroy'](),(_0x46d031=this['sh12to15Te'+'xture2'])==null||_0x46d031['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x563f75),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x563f75)):((_0x4878ec=this['sh8to11Tex'+'ture2'])==null||_0x4878ec['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x563f75)))):(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x563f75),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o32',Ue,_0x563f75),this['shBands']>-0x16f6+-0x1b73+0x326a&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',Ue,_0x563f75),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x563f75),this['shBands']>-0x1bb0*0x1+0x24dc+-0x92a?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ue,_0x563f75),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x563f75),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',Ue,_0x563f75),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x563f75)):(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ki,_0x563f75),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ki,_0x563f75)))),await this['updateSHDa'+'taByWorker'](_0x202eb5));}['updateText'+'ure'](){console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20update'+'Texture'),!this['isDestroye'+'d']&&(super['updateText'+'ure'](),[this['colorTextu'+'re'],this['colorTextu'+'re2']]=[this['colorTextu'+'re2'],this['colorTextu'+'re']],[this['transformA'+'Texture'],this['transformA'+'Texture2']]=[this['transformA'+'Texture2'],this['transformA'+'Texture']],[this['transformB'+'Texture'],this['transformB'+'Texture2']]=[this['transformB'+'Texture2'],this['transformB'+'Texture']],[this['transformR'+'Texture'],this['transformR'+'Texture2']]=[this['transformR'+'Texture2'],this['transformR'+'Texture']],this['is4D']&&([this['transformM'+'otionTextu'+'re'],this['transformM'+'otionTextu'+'re2']]=[this['transformM'+'otionTextu'+'re2'],this['transformM'+'otionTextu'+'re']],[this['transformL'+'ifecycleTe'+'xture'],this['transformL'+'ifecycleTe'+'xture2']]=[this['transformL'+'ifecycleTe'+'xture2'],this['transformL'+'ifecycleTe'+'xture']]),[this['sh1to3Text'+'ure'],this['sh1to3Text'+'ure2']]=[this['sh1to3Text'+'ure2'],this['sh1to3Text'+'ure']],[this['sh4to7Text'+'ure'],this['sh4to7Text'+'ure2']]=[this['sh4to7Text'+'ure2'],this['sh4to7Text'+'ure']],[this['sh8to11Tex'+'ture'],this['sh8to11Tex'+'ture2']]=[this['sh8to11Tex'+'ture2'],this['sh8to11Tex'+'ture']],[this['sh12to15Te'+'xture'],this['sh12to15Te'+'xture2']]=[this['sh12to15Te'+'xture2'],this['sh12to15Te'+'xture']]);}['releaseGSp'+'latResourc'+'e'](_0x5dda2a){this['appendQueu'+'e']['push']({'type':'release','taskId':new Date()['getTime'](),'data':{'index':_0x5dda2a}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['releaseAll'+'GSplatReso'+'urce'](){this['isDestroye'+'d']||(console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20releas'+'eSeqGSplat'+'\x20all'),this['appendQueu'+'e']=[],await this['gsplatData']['releaseAll'+'SeqData']());}['appendGSpl'+'atResource'](_0x4b7702,_0x83ce3,_0x360877,_0xdb99a6,_0x1893a7){this['appendQueu'+'e']['push']({'type':'append','taskId':new Date()['getTime'](),'data':{'gsplatData':_0x4b7702,'timeOption':_0x83ce3,'loadedTime':_0x360877,'asset':_0xdb99a6,'events':_0x1893a7}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['processQue'+'ue'](){if(!this['isProcessi'+'ngQueue']){this['isProcessi'+'ngQueue']=!(-0x2*-0xbfc+-0x14a2+-0x356);try{for(;this['appendQueu'+'e']['length']>-0x1a56+-0x1*-0xc5f+0xdf7;){const _0x3d12c4=this['appendQueu'+'e']['shift']();_0x3d12c4['type']==='append'?await this['processApp'+'endTask'](_0x3d12c4['data']):_0x3d12c4['type']==='release'&&await this['processRel'+'easeTask'](_0x3d12c4['data']);}}finally{this['isProcessi'+'ngQueue']=!(0x1*-0x183b+0x1f7+-0x1*-0x1645);}}}async['processRel'+'easeTask'](_0x58bc93){const {index:_0x30c6d6}=_0x58bc93;console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.relea'+'seGSplatRe'+'source',_0x30c6d6),!this['isDestroye'+'d']&&await this['gsplatData']['releaseSeq'+'Data'](_0x30c6d6);}async['processApp'+'endTask'](_0x5ad865){var _0x3781fd;const {gsplatData:_0x33d65d,timeOption:_0x299dce,loadedTime:_0x391b44,asset:_0x2c8acb,events:_0x5192c1}=_0x5ad865;!this['gsplatData']||this['isDestroye'+'d']||(console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.appen'+'dGSplatRes'+'ource'),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),console['log']('loadTime__'+'__','----------'+'----------'+'---'),this['timeOption']=_0x299dce,await this['gsplatData']['appendGSpl'+'atData'](_0x33d65d,_0x391b44,_0x299dce),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20gspla'+'tData.appe'+'ndGSplatDa'+'ta',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x1073+-0x1cc7+0x2d3c),_0x33d65d['numSplats'],((performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])/_0x33d65d['numSplats'])['toFixed'](-0x31*0x85+-0x27*0xdd+0x1*0x3b23)),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await this['updateData'](),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20this.'+'updateData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x168c+0x260*0x10+-0x3c8a),_0x33d65d['numSplats']),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),(_0x3781fd=this['gsplatInst'+'ance'])==null||_0x3781fd['updateInst'+'anceData'](this),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20updat'+'eInstanceD'+'ata',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x1e3*0x6+-0x13cc+0x87c),_0x33d65d['numSplats']),this['asset']=_0x2c8acb,this['assetsMana'+'gerLoadedT'+'ime']=_0x391b44,this['events']=_0x5192c1);}['fireAssets'+'ManagerTim'+'eIndex'](){var _0x53abe5;const _0x50c22c=this['assetsMana'+'gerLoadedT'+'ime'];console['log']('____\x20ENGIN'+'E\x20IVAN','fireAssets'+'ManagerTim'+'eIndex',_0x50c22c),(_0x53abe5=this['asset'])==null||_0x53abe5['fire']('setAssetsL'+'oaded',_0x50c22c);}['destroy'](){var _0x3eba80,_0x46cfcc,_0x3552c2,_0x238fb1,_0x5e2faa,_0xdeafd3,_0x388e5d,_0x2b95b9,_0x546cd2,_0x2bd062,_0x34a459,_0x2dc6fc,_0x231ba7,_0x5dfa72,_0x38d04d,_0x6eda3,_0x1c814e,_0x411ac2,_0x54dbae,_0x373f82,_0x53d379;(_0x3eba80=this['updateData'+'Worker'])==null||_0x3eba80['destroy'](),this['updateData'+'Worker']=void(-0x135b+0x1aa3+-0x748),(_0x46cfcc=this['colorTextu'+'re'])==null||_0x46cfcc['destroy'](),(_0x3552c2=this['transformA'+'Texture'])==null||_0x3552c2['destroy'](),(_0x238fb1=this['transformB'+'Texture'])==null||_0x238fb1['destroy'](),(_0x5e2faa=this['transformR'+'Texture'])==null||_0x5e2faa['destroy'](),(_0xdeafd3=this['transformM'+'otionTextu'+'re'])==null||_0xdeafd3['destroy'](),(_0x388e5d=this['transformL'+'ifecycleTe'+'xture'])==null||_0x388e5d['destroy'](),(_0x2b95b9=this['sh1to3Text'+'ure'])==null||_0x2b95b9['destroy'](),(_0x546cd2=this['sh4to7Text'+'ure'])==null||_0x546cd2['destroy'](),(_0x2bd062=this['sh8to11Tex'+'ture'])==null||_0x2bd062['destroy'](),(_0x34a459=this['sh12to15Te'+'xture'])==null||_0x34a459['destroy'](),(_0x2dc6fc=this['colorTextu'+'re2'])==null||_0x2dc6fc['destroy'](),(_0x231ba7=this['transformA'+'Texture2'])==null||_0x231ba7['destroy'](),(_0x5dfa72=this['transformB'+'Texture2'])==null||_0x5dfa72['destroy'](),(_0x38d04d=this['transformR'+'Texture2'])==null||_0x38d04d['destroy'](),(_0x6eda3=this['transformM'+'otionTextu'+'re2'])==null||_0x6eda3['destroy'](),(_0x1c814e=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x1c814e['destroy'](),(_0x411ac2=this['sh1to3Text'+'ure2'])==null||_0x411ac2['destroy'](),(_0x54dbae=this['sh4to7Text'+'ure2'])==null||_0x54dbae['destroy'](),(_0x373f82=this['sh8to11Tex'+'ture2'])==null||_0x373f82['destroy'](),(_0x53d379=this['sh12to15Te'+'xture2'])==null||_0x53d379['destroy'](),this['releaseAll'+'GSplatReso'+'urce'](),super['destroy'](),this['aabb']=null,this['centers']=null,this['motion']=null,this['tScale']=null,this['muT']=null,this['timeIndex']=null,this['shBands']=null;}['configureM'+'aterial'](_0x309d69){var _0x4f32ab,_0x5456bd,_0x4c3fcf,_0x334bd5,_0x3c3b95,_0x51a1fc,_0x215414,_0x3e4855,_0x551747,_0x1ac9de,_0xe383ca,_0x294e25,_0x3a260;if(console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.con'+'figureMate'+'rial'),this['isDestroye'+'d'])return;const _0x4dd43e=((_0x4f32ab=_0x309d69['getParamet'+'er']('pointCloud'+'ModeEnable'+'d'))==null?void(0x6c6+0xf51+-0x1617):_0x4f32ab['data'])??0x2149+0x1c69+-0x2*0x1ed9,_0x100315=((_0x5456bd=_0x309d69['getParamet'+'er']('uSplatScal'+'e'))==null?void(-0x1bd0+-0x6fd*-0x1+0x14d3):_0x5456bd['data'])??0x9aa+-0x108a+0x6e1,_0x13fe63=((_0x4c3fcf=_0x309d69['getParamet'+'er']('uSaturatio'+'n'))==null?void(0x1143+-0x1679+-0x2e*-0x1d):_0x4c3fcf['data'])??-0xead+0x2482*-0x1+0x3f0*0xd,_0x2e9018=((_0x334bd5=_0x309d69['getParamet'+'er']('uHueOffset'))==null?void(0x1528+-0x17c1+-0x7*-0x5f):_0x334bd5['data'])??-0x15de+0x6*0x443+0x1da*-0x2,_0x2f5300=((_0x3c3b95=_0x309d69['getParamet'+'er']('uInvertOpa'+'city'))==null?void(0x40c*-0x9+-0x1f4c+0x43b8):_0x3c3b95['data'])??-0xc2*-0x10+0xda*0xe+-0x180c,_0x2cb336=((_0x51a1fc=_0x309d69['getParamet'+'er']('uOpacity'))==null?void(-0x1e9+0x2e6*-0x1+-0x4cf*-0x1):_0x51a1fc['data'])??0x123*0x1f+-0x1cdb+0x1*-0x661,_0x33d059=((_0x215414=_0x309d69['getParamet'+'er']('clrOffset'))==null?void(0x3ae*0x6+-0x94d*-0x3+-0x31fb):_0x215414['data'])??[0x1fce+-0xf*0x291+0x3*0x23b,-0x197b+-0x919+-0x2294*-0x1,-0x26ac+-0x589+0x2c35,0x1*-0x1c1+0x5b3+-0x3f1*0x1],_0x49f781=((_0x3e4855=_0x309d69['getParamet'+'er']('clrScale'))==null?void(-0x1*0x8a5+0x1a3c+-0x39*0x4f):_0x3e4855['data'])??[0x24db+-0x1b90+-0x29*0x3a,0x196d+0x99*0x33+-0x37e7,-0x77c+0x557*-0x1+0x2*0x66a,0x96*0x1+-0x2b*0xd+0xcd*0x2],_0x3b39a9=((_0x551747=_0x309d69['getParamet'+'er']('uShapeN'))==null?void(-0x4*-0x340+0x126+-0xe26):_0x551747['data'])??-0xcf1+0x1e86+0x1*-0x1195,_0x40e275=((_0x1ac9de=_0x309d69['getParamet'+'er']('mode'))==null?void(0xa53+-0x16c*0x16+0x14f5):_0x1ac9de['data'])??0x4b*-0x1f+-0x6*0x5df+0xc7*0x39,_0x1bfb30=((_0xe383ca=_0x309d69['getParamet'+'er']('ringSize'))==null?void(0x4bb*-0x1+0x2422+-0x1f67):_0xe383ca['data'])??0x5*-0x78a+0xf57+0x165b,_0x3dde66=((_0x294e25=_0x309d69['defines'])==null?void(-0x4a5*-0x2+-0x1b0b*0x1+-0x2d*-0x65):_0x294e25['get']('uOpenAnim'))??'0',_0xef6ac=((_0x3a260=_0x309d69['defines'])==null?void(-0x1e64+-0xd92+0x1*0x2bf6):_0x3a260['get']('uControlCo'+'lorMode'))??'0';_0x309d69['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x309d69['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x309d69['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x309d69['setParamet'+'er']('transformR',this['transformR'+'Texture']),_0x309d69['setParamet'+'er']('uSplatScal'+'e',_0x100315),_0x309d69['setParamet'+'er']('pointCloud'+'ModeEnable'+'d',_0x4dd43e),_0x309d69['setParamet'+'er']('uSaturatio'+'n',_0x13fe63),_0x309d69['setParamet'+'er']('uHueOffset',_0x2e9018),_0x309d69['setParamet'+'er']('uInvertOpa'+'city',_0x2f5300),_0x309d69['setParamet'+'er']('uOpacity',_0x2cb336),_0x309d69['setParamet'+'er']('clrOffset',_0x33d059),_0x309d69['setParamet'+'er']('clrScale',_0x49f781),_0x309d69['setParamet'+'er']('uShapeN',_0x3b39a9),_0x309d69['setParamet'+'er']('mode',_0x40e275),_0x309d69['setParamet'+'er']('ringSize',_0x1bfb30),_0x309d69['setParamet'+'er']('prerenderC'+'Time',0x3*-0xa75+-0x2389+0x42e8),_0x309d69['setParamet'+'er']('renderSpac'+'e',0x2385+0x2565+-0x48e0),_0x309d69['setParamet'+'er']('endSpace',-0xf09*0x1+-0x10*-0x16f+-0x3d*0x21),_0x309d69['setDefine']('uOpenAnim',_0x3dde66),_0x309d69['setDefine']('uControlCo'+'lorMode',_0xef6ac),this['transformM'+'otionTextu'+'re']&&_0x309d69['setParamet'+'er']('transformM'+'otion',this['transformM'+'otionTextu'+'re']),this['transformL'+'ifecycleTe'+'xture']&&_0x309d69['setParamet'+'er']('transformL'+'ifecycle',this['transformL'+'ifecycleTe'+'xture']),_0x309d69['setDefine']('SH_BANDS',this['shBands']),_0x309d69['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x309d69['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x309d69['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x309d69['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x309d69['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']);}['evalTextur'+'eSize'](_0x292df3){const _0x19650f=Math['ceil'](Math['sqrt'](_0x292df3)),_0x211c0f=Math['ceil'](_0x292df3/_0x19650f);return new J(_0x19650f,_0x211c0f);}async['updateColo'+'rData'](_0xaf95aa){var _0x40f6b6;console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0xde0376=this['colorTextu'+'re2'];if(!_0xde0376||this['isDestroye'+'d'])return;const _0x35eead=_0xaf95aa['getProp']('f_dc_0'),_0x39b6b9=_0xaf95aa['getProp']('f_dc_1'),_0x1ff080=_0xaf95aa['getProp']('f_dc_2'),_0x2e509c=_0xaf95aa['getProp']('opacity');let _0x4f4ae8=(_0x40f6b6=_0xaf95aa['transformD'+'ata'])==null?void(0x27c*0x1+-0x1*-0x25e1+-0x285d):_0x40f6b6['dataColor'];_0x4f4ae8||(_0x4f4ae8=await this['updateData'+'Worker']['updateColo'+'rData'](_0xaf95aa['numSplats'],_0x35eead,_0x39b6b9,_0x1ff080,_0x2e509c)),await this['idleUpdate'+'TexturePro'+'mise'](_0xde0376,_0x4f4ae8);}async['getTransfo'+'rmDataByWo'+'rker'](_0x5175df){var _0x5f3bde;if(console['log']('____\x20ENGIN'+'E\x20IVAN','getTransfo'+'rmDataByWo'+'rker'),(_0x5f3bde=_0x5175df['transformD'+'ata'])!=null&&_0x5f3bde['dataCenter'+'s'])return{'centers':_0x5175df['transformD'+'ata']['dataCenter'+'s'],'dataPosition':_0x5175df['transformD'+'ata']['dataPositi'+'on'],'dataScale':_0x5175df['transformD'+'ata']['dataScale'],'dataRotation':_0x5175df['transformD'+'ata']['dataRotati'+'on'],'dataMotion':_0x5175df['transformD'+'ata']['dataMotion'],'dataTime':_0x5175df['transformD'+'ata']['dataTime'],'motion':_0x5175df['transformD'+'ata']['motion'],'tScaleArray':_0x5175df['transformD'+'ata']['tScaleArra'+'y']};const _0x37c3d3=_0x5175df['getProp']('x'),_0x53ae3b=_0x5175df['getProp']('y'),_0x3d0d7c=_0x5175df['getProp']('z'),_0x4ecdce=_0x5175df['getProp']('rot_1'),_0x1859f4=_0x5175df['getProp']('rot_2'),_0x70eea0=_0x5175df['getProp']('rot_3'),_0x148db5=_0x5175df['getProp']('rot_0'),_0x312a60=_0x5175df['getProp']('motion_0'),_0xe7d78f=_0x5175df['getProp']('motion_1'),_0xc7cbad=_0x5175df['getProp']('motion_2'),_0x470320=_0x5175df['getProp']('scale_0'),_0x571c61=_0x5175df['getProp']('scale_1'),_0x41e342=_0x5175df['getProp']('scale_2'),_0x39ba33=_0x5175df['getProp']('t'),_0x13e692=_0x5175df['getProp']('t_scale');return await this['updateData'+'Worker']['updateTran'+'sData'](_0x5175df['numSplats'],this['is4D'],_0x37c3d3,_0x53ae3b,_0x3d0d7c,_0x4ecdce,_0x1859f4,_0x70eea0,_0x148db5,_0x312a60,_0xe7d78f,_0xc7cbad,_0x470320,_0x571c61,_0x41e342,_0x39ba33,_0x13e692);}async['updateTran'+'sformFromD'+'ata'](_0x3f8d28){console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformFromD'+'ata'),this['transformA'+'Texture2']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformA'+'Texture2'],_0x3f8d28['dataPositi'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformR'+'Texture2'],_0x3f8d28['dataRotati'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformB'+'Texture2'],_0x3f8d28['dataScale']),this['is4D']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformM'+'otionTextu'+'re2'],_0x3f8d28['dataMotion']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformL'+'ifecycleTe'+'xture2'],_0x3f8d28['dataTime'])));}async['idleUpdate'+'TexturePro'+'mise'](_0x2ec953,_0x57bbd9){if(!this['isDestroye'+'d'])return new Promise(_0x16969f=>{requestIdleCallback(()=>{const _0x11cd19=_0x2ec953['lock']();_0x11cd19==null||_0x11cd19['set'](_0x57bbd9),_0x2ec953['unlock'](),_0x16969f(!(-0xadf+0xab9+0x1*0x26));},{'timeout':0x12c});});}async['updateTran'+'sformData'](_0x41ff13){var _0x2aba05,_0x1ee82a,_0x3cc53a,_0x325c9d;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformData'),this['isDestroye'+'d'])return;const _0x47c8f2=Mn['float2Half'];if(!this['transformA'+'Texture'])return;const _0x3fbf5f=this['transformA'+'Texture']['lock'](),_0x2f80f4=this['transformR'+'Texture']['lock'](),_0x45e82e=this['transformB'+'Texture']['lock'](),_0x11beac=(_0x2aba05=this['transformM'+'otionTextu'+'re'])==null?void(0x2f*0x8b+0x7b*-0x40+-0x53b*-0x1):_0x2aba05['lock'](),_0x3e257a=(_0x1ee82a=this['transformL'+'ifecycleTe'+'xture'])==null?void(-0x7c3+0x1395+-0xbd2):_0x1ee82a['lock'](),_0x5cbd21=new D(),_0x4271bd=new le(),_0x445f0a=new D(),_0x125c3c=new D(),_0x158ce9=_0x41ff13['createIter'](_0x5cbd21,_0x4271bd,_0x445f0a,null,_0x125c3c),_0x51b489=_0x41ff13['getProp']('t'),_0x532e84=_0x41ff13['getProp']('t_scale');for(let _0x3b037a=-0x20*0x107+0x169e+0xa42;_0x3b037a<_0x41ff13['numSplats'];_0x3b037a++)_0x158ce9['read'](_0x3b037a),_0x4271bd['normalize'](),_0x4271bd['w']<-0x1a9b+0xb41+0xf5a&&_0x4271bd['mulScalar'](-(0x1*-0x1483+-0x46c+0x18f0)),_0x3fbf5f[_0x3b037a*(0x2702+-0x16d1+-0x102e)+(0x18*-0x1+-0x241b+-0x1*-0x2433)]=_0x5cbd21['x'],_0x3fbf5f[_0x3b037a*(0xe*0x1a8+-0x89d*0x3+-0xb*-0x3e)+(0x219+0x6d*0x43+0x25b*-0xd)]=_0x5cbd21['y'],_0x3fbf5f[_0x3b037a*(-0x25f0+0x2021+0x95*0xa)+(-0xf6*-0xb+-0x266*0x5+-0x3*-0x7a)]=_0x5cbd21['z'],_0x45e82e[_0x3b037a*(0xc7d+0x7b5+0x1*-0x142f)+(0xd70+0x572*-0x5+0x6e5*0x2)]=_0x47c8f2(_0x445f0a['x']),_0x45e82e[_0x3b037a*(-0x2*0x653+-0x1*-0x1175+-0x4cc*0x1)+(-0x12c2+-0x1d25+0x2fe8)]=_0x47c8f2(_0x445f0a['y']),_0x45e82e[_0x3b037a*(0xd0a+0x2683+-0x338a)+(0x1fba+-0x67f*-0x1+-0x2637)]=_0x47c8f2(_0x445f0a['z']),_0x2f80f4[_0x3b037a*(0x9a9*-0x3+-0x751*-0x3+0x3*0x259)+(-0x845+-0x1f5d+0x13*0x216)]=_0x4271bd['x'],_0x2f80f4[_0x3b037a*(-0x2254+-0xb85+0x2ddc)+(-0x1f0c+0xa*0x1e1+0x2b*0x49)]=_0x4271bd['y'],_0x2f80f4[_0x3b037a*(0x1*-0x301+-0x1*0x733+0x5*0x20b)+(-0x23b7+-0x7f3*0x2+0x1*0x339f)]=_0x4271bd['z'],this['is4D']&&_0x11beac&&_0x3e257a&&(_0x11beac[_0x3b037a*(-0x1*0x23a7+0x1*0x3df+0x1fcb*0x1)+(-0x7ce+0xe*0x25f+-0x1964)]=_0x125c3c['x'],_0x11beac[_0x3b037a*(-0x26c7+-0x256b+0x4c35)+(0xffa+0x3*-0x4d6+-0x177)]=_0x125c3c['y'],_0x11beac[_0x3b037a*(0x7d3*0x1+0x1f19+-0x26e9*0x1)+(0x48a*-0x1+0x13f+-0xa9*-0x5)]=_0x125c3c['z'],_0x3e257a[_0x3b037a*(-0x157a+0x80d+0xd70*0x1)+(0x2473+0x542*0x2+-0x2ef7)]=_0x51b489?_0x51b489[_0x3b037a]:-0x1*-0x1a9+-0x1*-0x1cad+-0x1e56,_0x3e257a[_0x3b037a*(-0x1*0x11cc+0x11ed+-0x1e)+(-0x224+0x89f*0x3+-0x17b8)]=_0x532e84?Math['exp'](_0x532e84[_0x3b037a]):-0x7*0xfb+0x11b1+-0xad4);this['transformA'+'Texture']['unlock'](),this['transformB'+'Texture']['unlock'](),this['transformR'+'Texture']['unlock'](),(_0x3cc53a=this['transformM'+'otionTextu'+'re'])==null||_0x3cc53a['unlock'](),(_0x325c9d=this['transformL'+'ifecycleTe'+'xture'])==null||_0x325c9d['unlock']();}async['updateSHDa'+'ta'](_0x825e86){var _0x190bdd,_0x1968f3,_0xadada3,_0x1a5be8,_0x2c6a06,_0x48a3ca,_0xcea93f,_0x1b92ee;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta'),this['isDestroye'+'d'])return;const _0x1da3f4=(_0x190bdd=this['sh1to3Text'+'ure2'])==null?void(0x151*0x14+0x1ec3*-0x1+0x5*0xe3):_0x190bdd['lock'](),_0x4a5913=(_0x1968f3=this['sh4to7Text'+'ure2'])==null?void(0x1*0x2b7+0x1d2c+0x38b*-0x9):_0x1968f3['lock'](),_0x55ae8f=(_0xadada3=this['sh8to11Tex'+'ture2'])==null?void(0x54a+-0x2bb+-0x28f):_0xadada3['lock'](),_0xa77f46=(_0x1a5be8=this['sh12to15Te'+'xture2'])==null?void(-0x11d5+-0x1f3*0xb+0x2*0x13a3):_0x1a5be8['lock'](),_0x1bbdb8={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x384e62=vg(_0x825e86,_0x1bbdb8*(-0x2112+-0x3c7+0x24dc)),_0x3af3a7=-0x9e*-0x38+-0x1*-0x1cfa+-0x378b,_0x14d5b0=-0x22a5+-0x19bc+0x4060,_0x468e34=new Float32Array(0x1ee8+-0x19be*-0x1+-0x11*0x355),_0x698c75=new Uint32Array(_0x468e34['buffer']),_0x1a5975=new Array(_0x1bbdb8*(-0xba*-0xf+-0x27f+-0x864))['fill'](-0x111e*0x1+0x8f*-0x3e+0x33c0);for(let _0x433e46=-0x6dd+0x1e5c+-0x7d5*0x3;_0x433e46<_0x825e86['numSplats'];++_0x433e46){for(let _0x297f04=0x1c*0x137+-0x1407+-0xdfd;_0x297f04<_0x1bbdb8;++_0x297f04)_0x1a5975[_0x297f04*(0x1de3+0x26*0x2e+-0xc*0x30f)]=_0x384e62[_0x297f04][_0x433e46],_0x1a5975[_0x297f04*(-0x1*-0x1f93+0x583+-0x2513)+(0x5*-0x1d+-0x2439+0x24cb)]=_0x384e62[_0x297f04+_0x1bbdb8][_0x433e46],_0x1a5975[_0x297f04*(0x7*-0x32b+0x112b+-0x1*-0x505)+(-0x1ff7+0x45a*-0x5+0xabf*0x5)]=_0x384e62[_0x297f04+_0x1bbdb8*(-0x2492+-0x206b+0x11*0x40f)][_0x433e46];let _0x2f063a=_0x1a5975[0x1*0x141+-0x455+0x314];for(let _0x12bf07=0x265b+0x243d*0x1+-0x4a97;_0x12bf07<_0x1bbdb8*(-0x6*-0x5ae+-0x478*0x7+0x1f*-0x17);++_0x12bf07)_0x2f063a=Math['max'](_0x2f063a,Math['abs'](_0x1a5975[_0x12bf07]));if(_0x2f063a!==0xd23+-0x3e*0x72+0xe79*0x1){for(let _0x3ae4c3=-0x3*-0x71f+0x1af4+-0x3051;_0x3ae4c3<_0x1bbdb8;++_0x3ae4c3)_0x1a5975[_0x3ae4c3*(0x31*-0x4d+-0x1492+0x2352)+(-0x69f+-0x5*-0x413+0x5*-0x2c0)]=Math['max'](-0x1163+0x2bd*-0x5+0x1f14,Math['min'](_0x3af3a7,Math['floor']((_0x1a5975[_0x3ae4c3*(0xc58+0x1bd0+-0xef*0x2b)+(-0x1*0x3f1+0x86d*-0x2+0x14cb)]/_0x2f063a*(-0x3ed+-0xed*0x3+0x6b4+0.5)+(-0xae1*-0x1+0x18b6+0x1*-0x2397+0.5))*_0x3af3a7+(-0x2048+0x3aa+0x1c9e+0.5)))),_0x1a5975[_0x3ae4c3*(0x1915+-0x18da+-0x38)+(0x1fe4+0x1*-0x152b+-0xab8)]=Math['max'](-0x3*0x6b+-0x1646*0x1+-0x1*-0x1787,Math['min'](_0x14d5b0,Math['floor']((_0x1a5975[_0x3ae4c3*(-0xadd*-0x2+-0xad3+-0xae4)+(0x12bb*-0x1+-0xa4*0x25+0x2a70)]/_0x2f063a*(0x155*0x5+-0x232+0x477*-0x1+0.5)+(-0x227*0x3+-0xdbe+0x1433+0.5))*_0x14d5b0+(-0xb18*-0x1+0x24b+-0xd63+0.5)))),_0x1a5975[_0x3ae4c3*(0x4fd+0x58d+-0xa87)+(0x1c64+-0x6f*0x52+0x72c)]=Math['max'](0x15e3+-0x1d46+-0x3d*-0x1f,Math['min'](_0x3af3a7,Math['floor']((_0x1a5975[_0x3ae4c3*(-0x99c+0x6*0x273+-0x513)+(-0x2624*-0x1+-0x2cb+-0x2357)]/_0x2f063a*(-0x2*-0x31d+-0x817+0x1dd+0.5)+(0x1654+0x11b9*-0x1+-0x49b+0.5))*_0x3af3a7+(0x4e7*-0x5+-0x70f+-0xfc9*-0x2+0.5))));_0x468e34[0x1*-0x1f3a+-0x1ac6+-0x2*-0x1d00]=_0x2f063a,_0x1da3f4[_0x433e46*(0x878+0x2*0x1025+-0x28be)+(-0x1*-0x1f0d+-0x21f*-0x2+-0x234b)]=_0x698c75[0xf71+0x16d7+-0x2648],_0x1da3f4[_0x433e46*(0x1*0x8df+-0x247*-0x1+-0xb22)+(0x7f*-0x18+-0x2476+0xcb*0x3d)]=_0x1a5975[-0x1d7a+0x23e9+-0x9*0xb7]<<0x250e+-0x2271+0x6*-0x6c|_0x1a5975[-0x190a+-0x1e55*0x1+0x3760*0x1]<<0x1dab+0x384+0x3*-0xb0c|_0x1a5975[-0xfd7+-0xd*-0x2b7+-0x1372],_0x1da3f4[_0x433e46*(0x1*-0x8cc+-0x1145*-0x1+0x875*-0x1)+(0x13*0x135+-0x1*0x2665+0xf78)]=_0x1a5975[-0x24d9+0x2*0x8b+0x1e2*0x13]<<0xa*0xcb+-0x11ba+0x9e1|_0x1a5975[0x1f15+0x7*0x36+-0x208b]<<-0x116c+-0x4e*-0x1b+-0x1*-0x93d|_0x1a5975[0xb87+0x268f+0x7*-0x727],_0x1da3f4[_0x433e46*(0x2034+0x1653*-0x1+-0x9dd)+(0x6*-0x3c+0x1486+-0x131b)]=_0x1a5975[-0x256e+0x194f+0xc25]<<-0x2054+-0x267f+0x46e8|_0x1a5975[-0x61*-0x47+0x71e*-0x2+0x329*-0x4]<<0x16c*-0xd+-0x1*-0x15bb+-0x334|_0x1a5975[-0x212c+-0x1*0xaed+0x2c21],this['shBands']>0x1c23+-0xa*0x18e+-0xc96&&(_0x4a5913[_0x433e46*(-0x205b+-0x10bd+0x311c)+(0x1*0x89b+0x9e5+-0x1280)]=_0x1a5975[-0x1570+0xe09*-0x1+0x2382]<<0x1a7d*-0x1+-0x572*0x7+-0xa*-0x678|_0x1a5975[0x45*-0x7b+-0x5*-0x1f+-0x104b*-0x2]<<-0x181e+0x13c9+0x1*0x460|_0x1a5975[0x1*-0x8b+0x42d*-0x1+-0x17*-0x35],_0x4a5913[_0x433e46*(-0xc0e+-0x359*-0x9+-0x120f)+(-0x243f+0x4d*-0x6d+0x4509)]=_0x1a5975[0x13*-0x19b+0xc5*0x1d+0x2*0x41e]<<0xde2*-0x2+0x32d+0x4*0x62b|_0x1a5975[-0x500+-0x56+0x563*0x1]<<0x1*0x3d3+-0x373*-0x9+0x22d3*-0x1|_0x1a5975[0x21dc+0xd*0x26e+-0x4164],_0x4a5913[_0x433e46*(-0x357*0xb+-0xc3b+0x30fc)+(-0x9b*0x23+0xef3+-0x32*-0x20)]=_0x1a5975[-0x233*0x9+0x1465+0x1*-0x8b]<<0x2*0x9eb+-0x95*-0x4+0x1*-0x1615|_0x1a5975[0x1*0x1bf5+0x2538*-0x1+0x953]<<-0x547+-0x4*0x4bd+0xd*0x1de|_0x1a5975[0x5a7*0x2+-0xec8+0x38b*0x1],_0x4a5913[_0x433e46*(-0xb57+0x883*0x3+-0x16b*0xa)+(0x75*-0x23+-0x40*0x4+-0x2*-0x881)]=_0x1a5975[0x70a+0x8*0x317+-0x27*0xd0]<<-0xb*0xa7+-0x937+-0x1079*-0x1|_0x1a5975[-0x1eb6+-0x1c36+0xb*0x55d]<<0x1e57+0x227*0x8+-0x17c2*0x2|_0x1a5975[0xbed+-0xa7*0x6+0x7ef*-0x1],this['shBands']>0x1*0xd3e+-0x3a9*-0x6+0x1199*-0x2?(_0x55ae8f[_0x433e46*(0x15b4+0x15bb+-0x2b6b)+(-0xc2*0x10+-0x1539+0x2159)]=_0x1a5975[0x195a+0x1875+-0x5f*0x86]<<-0xf2e+0xfd8+0x1*-0x95|_0x1a5975[-0x434*-0x3+0xed+0xd73*-0x1]<<0x23a9+0x25f7*-0x1+0x259|_0x1a5975[0x1*0x17cb+-0x119*-0x10+-0x2944],_0x55ae8f[_0x433e46*(0x1*0x55b+0x128c+-0x17e3)+(-0x12+-0x13a+0x14d)]=_0x1a5975[-0x1*0x6bb+-0x53*0x35+0x1802]<<0x515+0x2*-0x1051+0x1ba2|_0x1a5975[-0x9*-0x14e+-0x212d+0x68*0x35]<<-0x376+0x4*-0x18d+0x7*0x163|_0x1a5975[0x3d5+-0x166b+0x12b0],_0x55ae8f[_0x433e46*(-0x126a+-0x1cb2+0x2f20)+(-0x20*0x6f+-0x1f6d+0x2d4f)]=_0x1a5975[-0x2d5+0x527*0x3+-0x5*0x281]<<0x8*0x328+-0x1a64+0x1*0x139|_0x1a5975[0x49*-0x47+-0x483+-0x2*-0xc6f]<<0xd3*0x26+-0x2e3*0x5+-0x10d8|_0x1a5975[-0x1146+-0x1537*-0x1+-0x3d4],_0x55ae8f[_0x433e46*(-0x250b+-0x5d0+0x5*0x893)+(-0x94*-0x14+-0x6*0x13a+-0x431*0x1)]=_0x1a5975[0xd9*0xc+-0x1254+0x846]<<-0x7*0x142+-0x1593+-0x1*-0x1e76|_0x1a5975[-0x6*-0x2d9+0x13d*-0x1+-0xfba]<<0x4b*0x1b+-0x84e+0x70|_0x1a5975[-0x270e+0x2*-0x96d+0x3a08],_0xa77f46[_0x433e46*(0x746+-0x221*0x1+-0x521)+(-0xeb+0xb17+-0x174*0x7)]=_0x1a5975[0x1236+-0xed6*0x1+-0x33f]<<-0x5a5+-0x9b5+-0x1b7*-0x9|_0x1a5975[0x1c39*0x1+-0xeff+-0x4*0x346]<<0x26a6+0x16*-0x9+0x1*-0x25d5|_0x1a5975[-0x7a2+0x2*0xb89+-0xf4d],_0xa77f46[_0x433e46*(0x97*0x1c+0x1cf+-0x124f)+(0x183d+0x606+-0x1e42)]=_0x1a5975[-0x20cc+-0x134d+0x343d]<<-0xc7f+-0x121a+0x1eae|_0x1a5975[-0x2153+0x439+0x1*0x1d3f]<<0x9b1+-0x1a*0xac+0x7d2|_0x1a5975[0xb0*-0x2+0x1eb+-0x1*0x65],_0xa77f46[_0x433e46*(0x1*-0x4bb+-0x8e5*-0x1+-0x3b*0x12)+(0x1c*0xbe+0x50*0x3e+-0x3*0xd62)]=_0x1a5975[0x66a*-0x5+-0xc9a+-0x2a3*-0x11]<<0x13da+-0x7*0x4e+0xf*-0x12d|_0x1a5975[0x4de+-0x1*0x9b9+0x503]<<-0x1*-0x3c1+-0xf*-0x10f+-0x1397|_0x1a5975[-0x2637*-0x1+0x1d3d*-0x1+-0x3d*0x25],_0xa77f46[_0x433e46*(-0x2079+-0x1*-0x1914+0x769)+(-0x130b+-0x129b+0x25a9*0x1)]=_0x1a5975[-0x7*-0x164+-0xe*-0xa3+-0x1a*0xb6]<<-0x5*-0x101+-0x9bb+0x199*0x3|_0x1a5975[0x2581+-0x3*0x223+-0x1eed]<<0x2479+-0x1e2d+-0x1*0x641|_0x1a5975[0x65f+-0x95*-0x6+-0x9b1]):_0x55ae8f[_0x433e46]=_0x1a5975[-0x1645+-0x149f*-0x1+0x1bb*0x1]<<-0x1f2b+0x824+0x171c|_0x1a5975[0x1496+-0x8*0x428+-0xc*-0x110]<<0x781+-0x1f59+-0x4c7*-0x5|_0x1a5975[0x937+-0xdd1*0x1+0x4b1]);}}(_0x2c6a06=this['sh1to3Text'+'ure2'])==null||_0x2c6a06['unlock'](),(_0x48a3ca=this['sh4to7Text'+'ure2'])==null||_0x48a3ca['unlock'](),(_0xcea93f=this['sh8to11Tex'+'ture2'])==null||_0xcea93f['unlock'](),(_0x1b92ee=this['sh12to15Te'+'xture2'])==null||_0x1b92ee['unlock']();}async['updateSHDa'+'taByWorker'](_0x242d88){var _0x4905b6,_0x237202,_0x401fea,_0x26ed60,_0x3e908c;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'taByWorker'),this['isDestroye'+'d'])return;const _0x242a4c={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']];let _0x587304,_0x40f204,_0x439066,_0x4f9b25;if((_0x4905b6=_0x242d88['transformD'+'ata'])!=null&&_0x4905b6['sh1to3Data'])_0x587304=(_0x237202=_0x242d88['transformD'+'ata'])==null?void(-0x124b+-0x1*0x7dc+0x203*0xd):_0x237202['sh1to3Data'],_0x40f204=(_0x401fea=_0x242d88['transformD'+'ata'])==null?void(-0x65*0x1f+0x26cb*-0x1+0x3306):_0x401fea['sh4to7Data'],_0x439066=(_0x26ed60=_0x242d88['transformD'+'ata'])==null?void(-0x22d*0x1+-0x3bb*-0x4+-0xcbf):_0x26ed60['sh8to11Dat'+'a'],_0x4f9b25=(_0x3e908c=_0x242d88['transformD'+'ata'])==null?void(0x2*0x1131+-0xa0d*-0x3+-0x4089):_0x3e908c['sh12to15Da'+'ta'];else{const _0x179168=vg(_0x242d88,_0x242a4c*(-0x1cc3+0x21b6+-0x4f0)),_0xdcea4=await this['updateData'+'Worker']['updateSHDa'+'ta1'](_0x242d88['numSplats'],this['shBands'],_0x179168);_0x587304=_0xdcea4['sh1to3Data'],_0x40f204=_0xdcea4['sh4to7Data'],_0x439066=_0xdcea4['sh8to11Dat'+'a'],_0x4f9b25=_0xdcea4['sh12to15Da'+'ta'];}await this['idleUpdate'+'TexturePro'+'mise'](this['sh1to3Text'+'ure2'],_0x587304),this['shBands']>0x19de+0x4*-0x336+-0xd05&&(await this['idleUpdate'+'TexturePro'+'mise'](this['sh4to7Text'+'ure2'],_0x40f204),this['shBands']>-0x1490+0x16ad+-0x21b?(await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x439066),await this['idleUpdate'+'TexturePro'+'mise'](this['sh12to15Te'+'xture2'],_0x4f9b25)):await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x439066));}}async function bC(){const _0x45d790=new Float32Array(-0x1ce2+0x150*-0xe+0x3*0xfc1);new Int32Array(_0x45d790['buffer']);let _0x15c17e=null,_0x5ce2f2=null,_0x2a1bca=null,_0x83c1d6=null,_0x1001e1=null,_0x243343=null,_0x38267b=null,_0x40b251=null;self['onmessage']=async _0x29d606=>{const {data:_0x1a6103}=_0x29d606;switch(_0x1a6103['type']){case'initWorker':break;case'updateSHDa'+'ta1':_0x4d1e64(_0x1a6103['numSplats'],_0x1a6103['shBands'],_0x1a6103['SHData']);break;case'updateTran'+'sformData':_0xcc26e8(_0x1a6103['numSplats'],_0x1a6103['is4D'],_0x1a6103['position'],_0x1a6103['rotation'],_0x1a6103['motion'],_0x1a6103['scale'],_0x1a6103['muT'],_0x1a6103['tScale']);break;case'destroyWor'+'ker':_0x20db8f();break;}};const _0xcc26e8=(_0x5e0ee7,_0x2c1019,_0x4e1fb1,_0x70bfde,_0x45fb2a,_0x384501,_0xa89c18,_0x1e887a)=>{_0x20db8f(),_0x2c1019&&(_0x5ce2f2=new Float32Array(_0x5e0ee7*(-0x3f4+-0x108c+0x1483)),_0x40b251=new Float32Array(_0x5e0ee7),_0x1001e1=new Float32Array(_0x45fb2a['buffer']['slice']()),_0x38267b=new Float32Array(_0x45fb2a['buffer']['slice']())),_0x83c1d6=new Float32Array(_0x4e1fb1['buffer']['slice']()),_0x15c17e=new Float32Array(_0x4e1fb1['buffer']['slice']()),_0x243343=new Uint16Array(_0x384501['buffer']['slice']()),_0x2a1bca=new Float32Array(_0x70bfde['buffer']['slice']());for(let _0x2569da=0xb1d*-0x3+-0x2*-0xb48+0xac7;_0x2569da<_0x5e0ee7;_0x2569da++)_0x2c1019&&_0x5ce2f2&&(_0x40b251[_0x2569da]=_0x1e887a?Math['exp'](_0x1e887a[_0x2569da]):0x256+0x243a+-0x2690,_0x5ce2f2[_0x2569da*(-0x39f+0x1110+0x3*-0x47a)+(0x1*-0x5bd+0xaa7+-0x4ea)]=_0xa89c18?_0xa89c18[_0x2569da]:0x1*-0xc98+0xa6b+0x22d*0x1,_0x5ce2f2[_0x2569da*(0x5a0+-0x56f*0x7+0x33e*0xa)+(0xaee*-0x3+-0x7a8*-0x1+0x1923)]=_0x40b251[_0x2569da]);const _0x366d5c=[_0x15c17e['buffer'],_0x83c1d6['buffer'],_0x243343['buffer'],_0x2a1bca['buffer']];_0x2c1019&&_0x366d5c['push'](_0x1001e1['buffer'],_0x5ce2f2['buffer'],_0x38267b['buffer'],_0x40b251['buffer']),self['postMessag'+'e']({'type':'updatedTra'+'nsformData','centers':_0x15c17e,'dataPosition':_0x83c1d6,'dataScale':_0x243343,'dataRotation':_0x2a1bca,'dataMotion':_0x1001e1,'dataTime':_0x5ce2f2,'motion':_0x38267b,'tScaleArray':_0x40b251},_0x366d5c);},_0x4d1e64=(_0x17c1ef,_0x4bcc70,_0x5a03b9)=>{const _0x38802a=new Uint32Array(_0x17c1ef*(0xb16+-0x2*0x87+-0xa04*0x1)),_0xf88176=new Uint32Array(_0x17c1ef*(-0x1ea1+-0xd*0xe+-0x15d*-0x17)),_0x1bd264=new Uint32Array(_0x17c1ef*(0x1737+0x17e7+-0x2f1a)),_0x148ffb=new Uint32Array(_0x17c1ef*(-0x1*-0xc77+0x5c3+-0x1236)),_0x2e512a={0x1:0x3,0x2:0x8,0x3:0xf}[_0x4bcc70],_0x4b494e=_0x5a03b9,_0x1a50c0=-0x43*-0x5+-0x1a00+-0x20b*-0x10,_0x42ffb1=0xd*0x133+-0x2a1+-0xff*0x9,_0x6fa6cd=new Float32Array(-0x11e4+0x69*0x9+0xe34),_0x4bc692=new Uint32Array(_0x6fa6cd['buffer']),_0x8f25d9=new Array(_0x2e512a*(-0x5c4*-0x1+0x1*-0xbd5+0x614))['fill'](-0x1e92+0xf98+-0x4fe*-0x3);for(let _0x3980d5=-0x240e+0x1d09+0x705;_0x3980d5<_0x17c1ef;++_0x3980d5){for(let _0xb3d4=0x2578+0x2*-0x12ee+0x64*0x1;_0xb3d4<_0x2e512a;++_0xb3d4)_0x8f25d9[_0xb3d4*(0x2147*-0x1+-0x4*0x72a+0x3df2)]=_0x4b494e[_0xb3d4][_0x3980d5],_0x8f25d9[_0xb3d4*(0x17c*-0x19+-0x993*-0x1+-0x52*-0x56)+(-0x2389+-0x1c5*0x11+0x419f*0x1)]=_0x4b494e[_0xb3d4+_0x2e512a][_0x3980d5],_0x8f25d9[_0xb3d4*(0x5b*-0x3d+-0xe06+-0x23b8*-0x1)+(0xa37+-0x2479*0x1+0x1a44)]=_0x4b494e[_0xb3d4+_0x2e512a*(0xcd+-0x224a+-0x4c9*-0x7)][_0x3980d5];let _0x53da00=_0x8f25d9[-0x12c+0x5a3*-0x2+0x162*0x9];for(let _0x598e27=-0x13b3+0x505+0x4e5*0x3;_0x598e27<_0x2e512a*(-0x1f*0x106+-0x56*-0x3b+0x9*0x153);++_0x598e27)_0x53da00=Math['max'](_0x53da00,Math['abs'](_0x8f25d9[_0x598e27]));if(_0x53da00!==-0xab*-0x1b+0x182*-0x2+-0xf05){for(let _0x4a2626=0x17c2+-0x7e6+-0xfdc;_0x4a2626<_0x2e512a;++_0x4a2626)_0x8f25d9[_0x4a2626*(0x1*0x1b9d+-0x3*0xac5+-0x4b5*-0x1)+(0x25e7+0xb77+-0x18af*0x2)]=Math['max'](0x250b+0x1*-0x209c+-0x1*0x46f,Math['min'](_0x1a50c0,Math['floor']((_0x8f25d9[_0x4a2626*(0x175*-0x7+0x9c4*-0x2+-0x1dbe*-0x1)+(0x1876+0x9d3*-0x1+-0xea3*0x1)]/_0x53da00*(0x1cf2+-0x1*0x12e5+0x1*-0xa0d+0.5)+(0x1*-0x5f7+-0x2*0x1045+-0x1*-0x2681+0.5))*_0x1a50c0+(-0x2f*-0x71+-0x54*0x8+-0x121f+0.5)))),_0x8f25d9[_0x4a2626*(0x6a3*0x3+0x2255+-0x1*0x363b)+(-0x2*-0xe98+-0x1cad+-0x41*0x2)]=Math['max'](0x15a6+0x1e5*0x8+-0x24ce*0x1,Math['min'](_0x42ffb1,Math['floor']((_0x8f25d9[_0x4a2626*(0x2280+-0x1*-0x8f9+-0x2*0x15bb)+(0x2434+-0x36*0x71+-0xd3*0xf)]/_0x53da00*(-0x227e+0x1*-0x2087+0x4305+0.5)+(-0xa5a+0x1d2b+-0x1*0x12d1+0.5))*_0x42ffb1+(-0x1aed+-0x466*-0x4+0x955+0.5)))),_0x8f25d9[_0x4a2626*(0x1896+0x1e30+-0x36c3)+(0x170*0x16+0x3*0x54+-0x6*0x56f)]=Math['max'](0x170*0x2+0x2*0xf75+-0x21ca,Math['min'](_0x1a50c0,Math['floor']((_0x8f25d9[_0x4a2626*(0x226f+-0x10a8+-0x11c4)+(-0x10be+0xc1*-0x1+-0x1181*-0x1)]/_0x53da00*(-0xdd2+-0x43b*-0x2+0x55c+0.5)+(-0x1ab5+0x49e+0x41*0x57+0.5))*_0x1a50c0+(0x8f*0x1a+-0x25ab+0x1725+0.5))));_0x6fa6cd[-0xee0+-0x265c+-0x2*-0x1a9e]=_0x53da00,_0x38802a[_0x3980d5*(-0x9e*-0x4+-0x1*0xb66+0x8f2)+(-0x142f+0x1b68+-0x739)]=_0x4bc692[0x2d9*0xa+-0x406+-0xc3a*0x2],_0x38802a[_0x3980d5*(-0xc23+0x9*0x17f+-0x150)+(0x58c*0x1+-0x235+-0x356)]=_0x8f25d9[-0x2*-0x12cd+0x2656+-0x3*0x1950]<<-0x1f9*0x1+0x145*0x12+-0x14cc|_0x8f25d9[-0x7f0*0x1+0x174d+-0xf5c*0x1]<<0x184a+-0x1*0x1c5b+0x41c|_0x8f25d9[0x169b+0x1d3e*0x1+-0x241*0x17],_0x38802a[_0x3980d5*(0xf88+0x1056+-0x1fda)+(-0x3*-0x499+-0x341+0x544*-0x2)]=_0x8f25d9[-0x2*0x1331+-0x41c*-0x2+0x1e2d]<<0x1d91+-0x809*-0x4+0x1ed0*-0x2|_0x8f25d9[0x107*-0x1a+0x3b*-0x1a+-0x2*-0x105c]<<0x192a+-0x31*-0xb3+-0x3b62|_0x8f25d9[-0x16ed+0x4*-0x7ec+0x612*0x9],_0x38802a[_0x3980d5*(-0xb*0x226+0x1*-0xbb7+0x235d)+(0x1*-0x1d2e+-0x1acd+0x37fe)]=_0x8f25d9[0x25*-0x6f+0x1*0x136+0xedb]<<0x52*0x3d+-0x1*0x1885+0x510|_0x8f25d9[-0x1cbd+-0x2*-0x607+0x10b6]<<-0x5de+-0x40f*-0x2+-0x235|_0x8f25d9[0x2312+0x33*0xac+-0x454e],_0x4bcc70>0x15b2+0x2391+0x1*-0x3942&&(_0xf88176[_0x3980d5*(0xb1*0x2f+0x130b+-0x2*0x19c3)+(-0x3a7+-0x1*-0x149d+0x1a*-0xa7)]=_0x8f25d9[-0x8*0x14d+0xd9c+-0x32b]<<0x1338+-0x1*0x1aed+0x7ca|_0x8f25d9[-0xdd*-0x5+-0x15db+0x1194]<<-0xf37+-0x38a+0x12cc|_0x8f25d9[0x2*0x258+-0x1e48+0x19a3],_0xf88176[_0x3980d5*(-0x1cd2+0x1*-0x274+0x1f4a)+(0x1*0x16fe+-0x1cae*0x1+0x1*0x5b1)]=_0x8f25d9[-0x264b*-0x1+0x1*-0xc7+-0x2578]<<0xe2f*0x2+0x1af+-0x224*0xe|_0x8f25d9[0xd33+-0x1d4a+0x1024]<<0x23ac+-0x1202*0x2+0x21*0x3|_0x8f25d9[0x35*-0x1+-0xd86+-0xdc9*-0x1],_0xf88176[_0x3980d5*(0x26c8+-0xf8c*0x2+-0x7ac)+(0x1fbf+0x1ceb+0x1e54*-0x2)]=_0x8f25d9[-0xc73+-0x2339+0x2fbb]<<-0x25a*-0x10+0x11c1+0x374c*-0x1|_0x8f25d9[0x1cd9+0x199*0x1+-0x1e62]<<-0x1f47+-0x419*-0x3+0x1307|_0x8f25d9[-0x1*-0x1c43+0xcff+-0x2931],_0xf88176[_0x3980d5*(-0x56e+0x499*0x1+-0xd9*-0x1)+(0x2*-0x629+0x144c+-0x7f7)]=_0x8f25d9[0x1b2b+-0x431*0x3+-0xe86]<<0xd*-0x179+0x25c9+-0x128f|_0x8f25d9[0x1a3*0x7+0xf1f*0x1+-0x1a81]<<-0xff5+0x1*0x3d9+-0x11*-0xb7|_0x8f25d9[0xe12+-0x1a01+0x3*0x401],_0x4bcc70>0x5*0x1df+-0x5a6*0x5+-0x2b3*-0x7?(_0x1bd264[_0x3980d5*(-0xcc5*0x3+-0xd8b+0x33de)+(0x1c8b+-0x3*0xb19+-0x10*-0x4c)]=_0x8f25d9[0x1e5b+-0x21d5+0x38f]<<-0x2*-0x1262+-0x23c8+0x1*-0xe7|_0x8f25d9[0x2*0xb3e+-0xab+-0x15bb]<<0x506+0x2119+-0x2614|_0x8f25d9[-0xd6+0x7*0x150+0x8d*-0xf],_0x1bd264[_0x3980d5*(0x8d2+0x1c1e+-0x24ec)+(-0x687*0x4+0x12d8+0x745*0x1)]=_0x8f25d9[0x1*0x127b+0xdd2+-0x1e5*0x11]<<0x1d73+-0x18eb+-0x473|_0x8f25d9[-0x1*0xc9d+0x11e2+0x1*-0x52c]<<0x1*-0xd9a+0xf94+-0x1ef|_0x8f25d9[0x2107*-0x1+-0x1*0x7f0+0x2911*0x1],_0x1bd264[_0x3980d5*(-0xac5+-0xfe*-0xa+-0xdd*-0x1)+(0x1c*-0x141+-0x86b+0x2b89)]=_0x8f25d9[-0x18ff+-0x884+0x219e]<<-0x11a1+0x1216*0x1+-0x60|_0x8f25d9[0x23e8+-0x1bf1+-0x7db]<<0x1a20+0x1d*-0x31+-0xdb*0x18|_0x8f25d9[0x1e1+-0x1f5b*-0x1+-0x1*0x211f],_0x1bd264[_0x3980d5*(-0x1709+-0x8*-0x4d2+-0xf83)+(0x41*-0x3+0x43d+-0x377*0x1)]=_0x8f25d9[-0xe18+-0x11eb+0x2021]<<-0x137a+-0x444+0x141*0x13|_0x8f25d9[-0x1d*0x125+-0xc7c+0xf44*0x3]<<-0x80e+0x88e+-0x75*0x1|_0x8f25d9[-0x1f51+-0x34a*-0x1+-0x1*-0x1c27],_0x148ffb[_0x3980d5*(0x3*-0xaf9+-0x318+-0x1*-0x2407)+(-0x1edd*-0x1+-0x6bd*0x1+-0x20*0xc1)]=_0x8f25d9[-0x1a67+-0x4*-0x3c3+0x3*0x3d4]<<0xfd9+-0x10*0x23e+0x141c|_0x8f25d9[0x22bd+-0x1*0x1a35+0x2b*-0x32]<<0x97*0x26+0x1883+-0x2ee2|_0x8f25d9[-0x23d9+0x7*0x9d+0x1fb1],_0x148ffb[_0x3980d5*(0x3f*-0xb+-0x1f01+0x2*0x10dd)+(0xde9+0x187+-0xf6f)]=_0x8f25d9[-0x7*0x1eb+0x1f67+0x2f9*-0x6]<<-0x2520+-0x5*0x491+-0x212*-0x1d|_0x8f25d9[0x1*0x1021+0x2*-0x94a+0x53*0x8]<<-0x10*-0x246+0x19*-0x51+-0x1c6c|_0x8f25d9[-0x1*0x1daa+-0xa6+-0x1*-0x1e76],_0x148ffb[_0x3980d5*(0x5*-0x59+0x4a7*0x7+-0x1ed0)+(0x13f*-0x7+0x8a5*-0x3+0x22aa)]=_0x8f25d9[-0x3*0x7fb+-0x9*0x287+-0x2ed7*-0x1]<<0x25fd+-0x2101+-0x4e7|_0x8f25d9[-0xe3*-0x1d+-0x117b+-0x814]<<-0x21b4+0xbae*-0x3+0x44c9|_0x8f25d9[-0x10fd+0x1a49+0x923*-0x1],_0x148ffb[_0x3980d5*(-0x1d86+0x1e4e+0x4*-0x31)+(0x33*0x71+0x1aba+-0x1*0x313a)]=_0x8f25d9[0x1f2f+0x1d53+0x4*-0xf16]<<-0x39*-0x51+-0x7*0xa7+-0xd63|_0x8f25d9[-0x221a+-0xf9d+0x31e2]<<0x17b0+-0x16aa+-0xfb|_0x8f25d9[-0x1*-0x1933+0x1*-0x6c7+0x248*-0x8]):_0x1bd264[_0x3980d5]=_0x8f25d9[-0x3*0x58a+0xa31*0x1+0x682]<<0x45*-0x6+0x164*0x7+-0x79*0x11|_0x8f25d9[-0xc0e+0x1*-0x1003+0x1c27]<<0x4*0x949+-0x59*-0x10+0xa3*-0x43|_0x8f25d9[-0x29*-0x17+0x75b*-0x2+0xb1e]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata1','data':{'sh1to3Data':_0x38802a,'sh4to7Data':_0xf88176,'sh8to11Data':_0x1bd264,'sh12to15Data':_0x148ffb}},[_0x38802a['buffer'],_0xf88176['buffer'],_0x1bd264['buffer'],_0x148ffb['buffer']]);},_0x20db8f=()=>{_0x15c17e=null,_0x5ce2f2=null,_0x2a1bca=null,_0x83c1d6=null,_0x1001e1=null,_0x243343=null,_0x38267b=null,_0x40b251=null;};}class AC extends me{constructor(){super(),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+bC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}['workerMess'+'ageFn'](_0x122767,_0x1b0852,_0x1575f8){_0x122767['onmessage']=_0x4aae1b=>{if(!this['worker'])return;const {data:_0x478e1e}=_0x4aae1b;if(_0x478e1e['type']===_0x1b0852)switch(_0x1b0852){case'updatedSHD'+'ata1':_0x1575f8(_0x478e1e['data']);break;case'updatedCol'+'orData':_0x1575f8(_0x478e1e['data']);break;case'updatedTra'+'nsformData':_0x1575f8(_0x478e1e);break;}};}['updateSHDa'+'ta1'](_0x2e7e7e,_0xeca99,_0x42bd6c){var _0x2551aa;return(_0x2551aa=this['worker'])==null||_0x2551aa['postMessag'+'e']({'type':'updateSHDa'+'ta1','numSplats':_0x2e7e7e,'shBands':_0xeca99,'SHData':_0x42bd6c}),new Promise(_0x3d7936=>{this['workerMess'+'ageFn'](this['worker'],'updatedSHD'+'ata1',_0x129f46=>{_0x3d7936(_0x129f46);});});}async['updateTran'+'sData'](_0x52b74e,_0x5f38f5,_0x4ab2ab,_0x4fc261,_0x2ee260,_0xa93ec3,_0x2c610a,_0x29b605){var _0x38d3f7;return(_0x38d3f7=this['worker'])==null||_0x38d3f7['postMessag'+'e']({'type':'updateTran'+'sformData','numSplats':_0x52b74e,'is4D':_0x5f38f5,'position':_0x4ab2ab,'rotation':_0x4fc261,'motion':_0x2ee260,'scale':_0xa93ec3,'muT':_0x2c610a,'tScale':_0x29b605}),new Promise(_0x34caef=>{const _0x1c378f=_0xd5c106=>{_0x34caef(_0xd5c106);};this['workerMess'+'ageFn'](this['worker'],'updatedTra'+'nsformData',_0x1c378f);});}['destroy'](){var _0x410b01;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x410b01=this['worker'])==null||_0x410b01['terminate'](),this['worker']=null);}}const xg=(_0x2ac100,_0x35e44b)=>{const _0x668a90=[];for(let _0x10919d=0xa27+-0x2*0xa6+-0x8db;_0x10919d<_0x35e44b;++_0x10919d)_0x668a90['push'](_0x2ac100['getProp']('f_rest_'+_0x10919d));return _0x668a90;};class CC extends Rv{constructor(_0x319857,_0x203abc){super(_0x319857,_0x203abc),h(this,'timeOption'),h(this,'appendQueu'+'e',[]),h(this,'isProcessi'+'ngQueue',!(0x11de+0x22e4+-0x25*0x16d)),h(this,'muT'),h(this,'tScale'),h(this,'motion'),h(this,'timeIndex'),h(this,'colorTextu'+'re'),h(this,'transformA'+'Texture'),h(this,'transformB'+'Texture'),h(this,'transformR'+'Texture'),h(this,'transformM'+'otionTextu'+'re'),h(this,'transformL'+'ifecycleTe'+'xture'),h(this,'colorTextu'+'re2'),h(this,'transformA'+'Texture2'),h(this,'transformB'+'Texture2'),h(this,'transformR'+'Texture2'),h(this,'transformM'+'otionTextu'+'re2'),h(this,'transformL'+'ifecycleTe'+'xture2'),h(this,'is4D'),h(this,'shBands'),h(this,'sh1to3Text'+'ure'),h(this,'sh4to7Text'+'ure'),h(this,'sh8to11Tex'+'ture'),h(this,'sh12to15Te'+'xture'),h(this,'sh1to3Text'+'ure2'),h(this,'sh4to7Text'+'ure2'),h(this,'sh8to11Tex'+'ture2'),h(this,'sh12to15Te'+'xture2'),h(this,'updateData'+'Worker'),(this['updateData'+'Worker']=new AC(),this['assetsMana'+'gerLoadedT'+'ime']=0x2450+-0x4c*-0x7+-0x205*0x13);}['setSceneIn'+'fo'](_0x39a45d){this['sceneInfo']['duration']=_0x39a45d['duration'],this['sceneInfo']['fps']=_0x39a45d['fps'],this['sceneInfo']['totalGauss'+'ians']=_0x39a45d['totalGauss'+'ians'],this['sceneInfo']['globalBoun'+'dingBoxMin']=new D(_0x39a45d['globalBoun'+'dingBox']['min'][0x174b+0x1*0x22d7+-0x1d11*0x2],_0x39a45d['globalBoun'+'dingBox']['min'][-0x623+0x2429+-0x1e05],_0x39a45d['globalBoun'+'dingBox']['min'][0x7*-0x35b+0x2cc*-0xc+0x390f]),this['sceneInfo']['globalBoun'+'dingBoxMax']=new D(_0x39a45d['globalBoun'+'dingBox']['max'][0x2*0xf39+0xfd3*-0x2+0x134],_0x39a45d['globalBoun'+'dingBox']['max'][-0x19c6+0x5*-0x6bf+0x1*0x3b82],_0x39a45d['globalBoun'+'dingBox']['max'][0x3*0xc5+-0x15*0x72+0x70d]);const _0x3f2501=_0x39a45d['globalBoun'+'dingBox']['min'][0x9*-0x26b+0x149a+0x129],_0x14abb0=_0x39a45d['globalBoun'+'dingBox']['min'][0x2c*-0xb5+0x1875*0x1+0x354*0x2],_0x2d9ca6=_0x39a45d['globalBoun'+'dingBox']['min'][-0x2d8*0x6+-0x2484*-0x1+-0x1372*0x1],_0x2561f4=_0x39a45d['globalBoun'+'dingBox']['max'][0x73*0x3b+-0x105+-0xcbe*0x2],_0x2d8b66=_0x39a45d['globalBoun'+'dingBox']['max'][0x4*0x8c7+-0x98a+-0x1991],_0x46c196=_0x39a45d['globalBoun'+'dingBox']['max'][0x986*0x2+-0x10e9+-0x221*0x1],_0x1dc9c9=new D((_0x3f2501+_0x2561f4)*(0x1510+0x2*0x10be+-0x368c*0x1+0.5),(_0x14abb0+_0x2d8b66)*(-0x197*0x1+0x1d93*-0x1+0x1f2a+0.5),(_0x2d9ca6+_0x46c196)*(0x2bd*0xb+-0x1edb*0x1+0xbc+0.5)),_0x22b9e0=new D((_0x2561f4-_0x3f2501)*(0x5a8+-0x1*-0x1399+-0x1941+0.5),(_0x2d8b66-_0x14abb0)*(0x853*0x1+-0xb17+-0xb1*-0x4+0.5),(_0x46c196-_0x2d9ca6)*(0x21a0*0x1+0x148d*-0x1+0x1*-0xd13+0.5)),_0x3c50c1=new De(_0x1dc9c9,_0x22b9e0);this['sceneInfo']['globalBoun'+'dingBox']=_0x3c50c1,this['aabb']=_0x3c50c1;}async['updateData'](){var _0x738bad,_0x4df8a3,_0x2274a8,_0x36fb3b,_0x1405fe,_0x5dafa3,_0x4d4b48,_0x502c18,_0x5d8ce3,_0x3141bb,_0x2b1ba6;await super['updateData']();const _0x5c1c9f=this['gsplatData'];if(!_0x5c1c9f)return;this['is4D']=_0x5c1c9f['is4D'];const _0xdfb603=await this['getTransfo'+'rmDataByWo'+'rker'](_0x5c1c9f);this['mesh']['aabb']['copy'](this['aabb']),this['centers']=_0xdfb603['centers'],this['motion']=_0xdfb603['motion'],this['tScale']=_0xdfb603['tScaleArra'+'y'],this['muT']=await _0x5c1c9f['getMuT'](),this['timeIndex']=await _0x5c1c9f['getTimeInd'+'ex']();const _0x3f00a4=this['evalTextur'+'eSize'](_0x5c1c9f['numSplats']);this['colorTextu'+'re']?((_0x738bad=this['colorTextu'+'re2'])==null||_0x738bad['destroy'](),(_0x4df8a3=this['transformA'+'Texture2'])==null||_0x4df8a3['destroy'](),(_0x2274a8=this['transformB'+'Texture2'])==null||_0x2274a8['destroy'](),(_0x36fb3b=this['transformR'+'Texture2'])==null||_0x36fb3b['destroy'](),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x3f00a4),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x3f00a4),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x3f00a4),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x3f00a4),this['is4D']&&((_0x1405fe=this['transformM'+'otionTextu'+'re2'])==null||_0x1405fe['destroy'](),(_0x5dafa3=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x5dafa3['destroy'](),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x3f00a4),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x3f00a4))):(this['colorTextu'+'re']=this['createText'+'ure']('splatColor',nt,_0x3f00a4),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x3f00a4),this['transformA'+'Texture']=this['createText'+'ure']('transformA',Ye,_0x3f00a4),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x3f00a4),this['transformB'+'Texture']=this['createText'+'ure']('transformB',ui,_0x3f00a4),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x3f00a4),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ye,_0x3f00a4),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x3f00a4),this['is4D']&&(this['transformM'+'otionTextu'+'re']=this['createText'+'ure']('transformM'+'otion',Ye,_0x3f00a4),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x3f00a4),this['transformL'+'ifecycleTe'+'xture']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture',Ye,_0x3f00a4),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x3f00a4))),await this['updateColo'+'rData'](_0x5c1c9f),await this['updateTran'+'sformFromD'+'ata'](_0xdfb603),this['shBands']=_0x5c1c9f['shBands'],this['shBands']>-0x1323+-0x1123+0x2446&&(this['sh1to3Text'+'ure']?((_0x4d4b48=this['sh1to3Text'+'ure2'])==null||_0x4d4b48['destroy'](),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x3f00a4),this['shBands']>0x7d*0x35+-0x92+-0x194e&&((_0x502c18=this['sh4to7Text'+'ure2'])==null||_0x502c18['destroy'](),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x3f00a4),this['shBands']>-0x2686+0x7fb+0xed*0x21?((_0x5d8ce3=this['sh8to11Tex'+'ture2'])==null||_0x5d8ce3['destroy'](),(_0x3141bb=this['sh12to15Te'+'xture2'])==null||_0x3141bb['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x3f00a4),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x3f00a4)):((_0x2b1ba6=this['sh8to11Tex'+'ture2'])==null||_0x2b1ba6['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x3f00a4)))):(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x3f00a4),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o32',Ue,_0x3f00a4),this['shBands']>-0x1*0x2708+0x1*0x25c7+0xe*0x17&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',Ue,_0x3f00a4),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x3f00a4),this['shBands']>0x1af*-0x1+-0xd*-0x1a6+0x1*-0x13bd?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ue,_0x3f00a4),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x3f00a4),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',Ue,_0x3f00a4),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x3f00a4)):(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ki,_0x3f00a4),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ki,_0x3f00a4)))),await this['updateSHDa'+'taByWorker'](_0x5c1c9f));}['updateText'+'ure'](){this['isDestroye'+'d']||(super['updateText'+'ure'](),[this['colorTextu'+'re'],this['colorTextu'+'re2']]=[this['colorTextu'+'re2'],this['colorTextu'+'re']],[this['transformA'+'Texture'],this['transformA'+'Texture2']]=[this['transformA'+'Texture2'],this['transformA'+'Texture']],[this['transformB'+'Texture'],this['transformB'+'Texture2']]=[this['transformB'+'Texture2'],this['transformB'+'Texture']],[this['transformR'+'Texture'],this['transformR'+'Texture2']]=[this['transformR'+'Texture2'],this['transformR'+'Texture']],this['is4D']&&([this['transformM'+'otionTextu'+'re'],this['transformM'+'otionTextu'+'re2']]=[this['transformM'+'otionTextu'+'re2'],this['transformM'+'otionTextu'+'re']],[this['transformL'+'ifecycleTe'+'xture'],this['transformL'+'ifecycleTe'+'xture2']]=[this['transformL'+'ifecycleTe'+'xture2'],this['transformL'+'ifecycleTe'+'xture']]),[this['sh1to3Text'+'ure'],this['sh1to3Text'+'ure2']]=[this['sh1to3Text'+'ure2'],this['sh1to3Text'+'ure']],[this['sh4to7Text'+'ure'],this['sh4to7Text'+'ure2']]=[this['sh4to7Text'+'ure2'],this['sh4to7Text'+'ure']],[this['sh8to11Tex'+'ture'],this['sh8to11Tex'+'ture2']]=[this['sh8to11Tex'+'ture2'],this['sh8to11Tex'+'ture']],[this['sh12to15Te'+'xture'],this['sh12to15Te'+'xture2']]=[this['sh12to15Te'+'xture2'],this['sh12to15Te'+'xture']]);}['releaseGSp'+'latResourc'+'e'](_0x596d96){this['appendQueu'+'e']['push']({'type':'release','taskId':new Date()['getTime'](),'data':{'index':_0x596d96}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['releaseAll'+'GSplatReso'+'urce'](){this['isDestroye'+'d']||(this['appendQueu'+'e']=[],await this['gsplatData']['releaseAll'+'SeqData']());}['appendGSpl'+'atResource'](_0x33e725,_0x9c095e,_0x4ca7dd,_0x8f8f1b,_0x516e8b,_0x3f8147){this['appendQueu'+'e']['push']({'type':'append','taskId':new Date()['getTime'](),'data':{'gsplatData':_0x33e725,'timeOption':_0x9c095e,'loadedTime':_0x4ca7dd,'asset':_0x8f8f1b,'events':_0x516e8b,'seekCB':_0x3f8147}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['processQue'+'ue'](){if(!this['isProcessi'+'ngQueue']){this['isProcessi'+'ngQueue']=!(0x4f1*-0x5+0x2*0xa67+0x3e7);try{for(;this['appendQueu'+'e']['length']>-0x1*0x1d55+-0xe9*0xb+-0x1*-0x2758;){const _0x1e570a=this['appendQueu'+'e']['shift']();_0x1e570a['type']==='append'?await this['processApp'+'endTask'](_0x1e570a['data']):_0x1e570a['type']==='release'&&await this['processRel'+'easeTask'](_0x1e570a['data']);}}finally{this['isProcessi'+'ngQueue']=!(0x3cf+0x2da*0xd+0x6d*-0x60);}}}async['processRel'+'easeTask'](_0x6fcd7e){const {index:_0x518b37}=_0x6fcd7e;this['isDestroye'+'d']||await this['gsplatData']['releaseSeq'+'Data'](_0x518b37);}async['processApp'+'endTask'](_0x50fe3e){var _0x1a3af3;const {gsplatData:_0x3b1a6e,timeOption:_0x1260a4,loadedTime:_0x52bbd2,asset:_0x267fcc,events:_0xf59fce,seekCB:_0x52a2a8}=_0x50fe3e;!this['gsplatData']||this['isDestroye'+'d']||(globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),console['log']('loadTime__'+'__','----------'+'----------'+'---'),this['timeOption']=_0x1260a4,this['asset']=_0x267fcc,this['assetsMana'+'gerLoadedT'+'ime']=_0x52bbd2,this['events']=_0xf59fce,await this['gsplatData']['appendGSpl'+'atData'](_0x3b1a6e,_0x52bbd2,_0x1260a4),console['log']('loadTime__'+'__','gsplatDeco'+'dedResourc'+'e\x20gsplatDa'+'ta.appendG'+'SplatData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x3*0x7f5+0x100+0x16e1),_0x3b1a6e['numSplats'],((performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])/_0x3b1a6e['numSplats'])['toFixed'](-0x1989+-0x2240+0x3bcc)),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await this['updateData'](),console['log']('loadTime__'+'__','GSplatDeco'+'dedResourc'+'e\x20this.upd'+'ateData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x1*0x5ab+-0x19cd+-0x2*-0xa12),_0x3b1a6e['numSplats']),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await((_0x1a3af3=this['gsplatInst'+'ance'])==null?void(-0x5*-0x1e7+-0x1*-0xaf9+-0x147c):_0x1a3af3['updateInst'+'anceData'](this,_0x52bbd2,_0x52a2a8)),console['log']('loadTime__'+'__','GSplatDeco'+'dedResourc'+'e\x20updateIn'+'stanceData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x361*-0x3+0x1*-0x2d9+-0x748),_0x3b1a6e['numSplats']));}['fireAssets'+'ManagerTim'+'eIndex'](_0x537d0d,_0x4a8bb6){var _0x3eb190;const _0x48e01a=_0x537d0d||this['assetsMana'+'gerLoadedT'+'ime'];(_0x3eb190=this['asset'])==null||_0x3eb190['fire']('setAssetsL'+'oaded',_0x48e01a,_0x4a8bb6);}['destroy'](){var _0x5a2bc0,_0x4e309b,_0x2087dd,_0x2478cd,_0x3f8a89,_0x162cb3,_0x3cf845,_0x20b7e3,_0x26e7a0,_0x386f1f,_0x4c73ae,_0x5e87ba,_0x31af07,_0x237a8d,_0x50886f,_0x5a691e,_0x262a49,_0x14ba00,_0x11e993,_0x3e713e,_0x237a6d;(_0x5a2bc0=this['updateData'+'Worker'])==null||_0x5a2bc0['destroy'](),this['updateData'+'Worker']=void(0x124d*-0x1+-0x2362+0x1*0x35af),(_0x4e309b=this['colorTextu'+'re'])==null||_0x4e309b['destroy'](),(_0x2087dd=this['transformA'+'Texture'])==null||_0x2087dd['destroy'](),(_0x2478cd=this['transformB'+'Texture'])==null||_0x2478cd['destroy'](),(_0x3f8a89=this['transformR'+'Texture'])==null||_0x3f8a89['destroy'](),(_0x162cb3=this['transformM'+'otionTextu'+'re'])==null||_0x162cb3['destroy'](),(_0x3cf845=this['transformL'+'ifecycleTe'+'xture'])==null||_0x3cf845['destroy'](),(_0x20b7e3=this['sh1to3Text'+'ure'])==null||_0x20b7e3['destroy'](),(_0x26e7a0=this['sh4to7Text'+'ure'])==null||_0x26e7a0['destroy'](),(_0x386f1f=this['sh8to11Tex'+'ture'])==null||_0x386f1f['destroy'](),(_0x4c73ae=this['sh12to15Te'+'xture'])==null||_0x4c73ae['destroy'](),(_0x5e87ba=this['colorTextu'+'re2'])==null||_0x5e87ba['destroy'](),(_0x31af07=this['transformA'+'Texture2'])==null||_0x31af07['destroy'](),(_0x237a8d=this['transformB'+'Texture2'])==null||_0x237a8d['destroy'](),(_0x50886f=this['transformR'+'Texture2'])==null||_0x50886f['destroy'](),(_0x5a691e=this['transformM'+'otionTextu'+'re2'])==null||_0x5a691e['destroy'](),(_0x262a49=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x262a49['destroy'](),(_0x14ba00=this['sh1to3Text'+'ure2'])==null||_0x14ba00['destroy'](),(_0x11e993=this['sh4to7Text'+'ure2'])==null||_0x11e993['destroy'](),(_0x3e713e=this['sh8to11Tex'+'ture2'])==null||_0x3e713e['destroy'](),(_0x237a6d=this['sh12to15Te'+'xture2'])==null||_0x237a6d['destroy'](),this['releaseAll'+'GSplatReso'+'urce'](),super['destroy'](),this['aabb']=null,this['centers']=null,this['motion']=null,this['tScale']=null,this['muT']=null,this['timeIndex']=null,this['shBands']=null;}['configureM'+'aterial'](_0x50ebeb){var _0x5b6812,_0x9e2ad1,_0x2312bd,_0x263a04,_0x1aef02,_0x18870f,_0x164cfb,_0x329857,_0x3c46de,_0x414072,_0x4aa0cf,_0x23bf04,_0x4491f3;if(console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.con'+'figureMate'+'rial'),this['isDestroye'+'d'])return;const _0x4a856d=((_0x5b6812=_0x50ebeb['getParamet'+'er']('pointCloud'+'ModeEnable'+'d'))==null?void(0x1221*0x2+-0x79*-0x16+-0x2ea8):_0x5b6812['data'])??0x1*0x2405+-0x204d*-0x1+0x2*-0x2229,_0x271374=((_0x9e2ad1=_0x50ebeb['getParamet'+'er']('uSplatScal'+'e'))==null?void(0x238f*-0x1+-0x1569+0x38f8):_0x9e2ad1['data'])??-0x1*0x2381+0xedb+0x14a7,_0x88abd2=((_0x2312bd=_0x50ebeb['getParamet'+'er']('uSaturatio'+'n'))==null?void(0xc67+0x25bd*-0x1+0x3*0x872):_0x2312bd['data'])??-0x1*0x19b5+-0x1517+-0x1*-0x2ecd,_0x29505f=((_0x263a04=_0x50ebeb['getParamet'+'er']('uHueOffset'))==null?void(-0x18e1+0x625+0x12bc):_0x263a04['data'])??0xf9b+-0x1454+-0xd*-0x5d,_0x4b28e8=((_0x1aef02=_0x50ebeb['getParamet'+'er']('uInvertOpa'+'city'))==null?void(0x24cf+-0x7a5*0x3+-0xde0):_0x1aef02['data'])??-0x416*0x1+-0x20b1+0x75b*0x5,_0x5e0f2d=((_0x18870f=_0x50ebeb['getParamet'+'er']('uOpacity'))==null?void(0x1dcd+-0x1*0x2587+-0x56*-0x17):_0x18870f['data'])??-0x2107*-0x1+0x1b76+-0x1*0x3c7c,_0x2aa523=((_0x164cfb=_0x50ebeb['getParamet'+'er']('clrOffset'))==null?void(0x584+-0x443*-0x7+-0x2359*0x1):_0x164cfb['data'])??[-0x7f7+-0xe68+0x165f,-0x7e9+0x2*0x10f9+-0x1a09,-0x1*0x17fb+0x15*0xbf+0x38*0x26,0x1*0x1bd2+0xe06+-0x1*0x29d7],_0x2f1fbb=((_0x329857=_0x50ebeb['getParamet'+'er']('clrScale'))==null?void(0x123e+0x21d3+-0x3411):_0x329857['data'])??[0x31e+0x55d+0x23*-0x3e,0x1*-0xcfe+-0x1427+0x2126,-0x43*-0x14+-0x2*0xefa+0x18b9,-0x14e7+-0x15be+-0x1553*-0x2],_0x5f5cc7=((_0x3c46de=_0x50ebeb['getParamet'+'er']('uShapeN'))==null?void(-0x1a8f+0x1a2c+-0x21*-0x3):_0x3c46de['data'])??0x1237+0xc*0x14+0x1*-0x1327,_0x3715ec=((_0x414072=_0x50ebeb['getParamet'+'er']('mode'))==null?void(-0xd0a*-0x1+0x1*0x363+0x1*-0x106d):_0x414072['data'])??-0xdea+0x261*0x1+0xb89*0x1,_0x210fd1=((_0x4aa0cf=_0x50ebeb['getParamet'+'er']('ringSize'))==null?void(-0x2318+-0x2537+0x484f):_0x4aa0cf['data'])??0x24d5+0x11ff*-0x1+0x2*-0x96b,_0x4949be=((_0x23bf04=_0x50ebeb['defines'])==null?void(-0x6a1*-0x2+-0x5ee*-0x1+-0x1330):_0x23bf04['get']('uOpenAnim'))??'0',_0x54d92f=((_0x4491f3=_0x50ebeb['defines'])==null?void(0x255*-0x5+-0xa11+-0x9*-0x26a):_0x4491f3['get']('uControlCo'+'lorMode'))??'0';_0x50ebeb['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x50ebeb['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x50ebeb['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x50ebeb['setParamet'+'er']('transformR',this['transformR'+'Texture']),_0x50ebeb['setParamet'+'er']('uSplatScal'+'e',_0x271374),_0x50ebeb['setParamet'+'er']('pointCloud'+'ModeEnable'+'d',_0x4a856d),_0x50ebeb['setParamet'+'er']('uSaturatio'+'n',_0x88abd2),_0x50ebeb['setParamet'+'er']('uHueOffset',_0x29505f),_0x50ebeb['setParamet'+'er']('uInvertOpa'+'city',_0x4b28e8),_0x50ebeb['setParamet'+'er']('uOpacity',_0x5e0f2d),_0x50ebeb['setParamet'+'er']('clrOffset',_0x2aa523),_0x50ebeb['setParamet'+'er']('clrScale',_0x2f1fbb),_0x50ebeb['setParamet'+'er']('uShapeN',_0x5f5cc7),_0x50ebeb['setParamet'+'er']('mode',_0x3715ec),_0x50ebeb['setParamet'+'er']('ringSize',_0x210fd1),_0x50ebeb['setParamet'+'er']('prerenderC'+'Time',-0x26ae+0x1*0x1ad1+0xbdd*0x1),_0x50ebeb['setParamet'+'er']('renderSpac'+'e',-0x1a1e+-0x2184+0x13*0x324),_0x50ebeb['setParamet'+'er']('endSpace',-0xc7*-0x31+-0x1*0xa03+-0x1c0a),_0x50ebeb['setDefine']('uOpenAnim',_0x4949be),_0x50ebeb['setDefine']('uControlCo'+'lorMode',_0x54d92f),this['transformM'+'otionTextu'+'re']&&_0x50ebeb['setParamet'+'er']('transformM'+'otion',this['transformM'+'otionTextu'+'re']),this['transformL'+'ifecycleTe'+'xture']&&_0x50ebeb['setParamet'+'er']('transformL'+'ifecycle',this['transformL'+'ifecycleTe'+'xture']),_0x50ebeb['setDefine']('SH_BANDS',this['shBands']),_0x50ebeb['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x50ebeb['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x50ebeb['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x50ebeb['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x50ebeb['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']);}['evalTextur'+'eSize'](_0x4612ef){const _0x496a4c=Math['ceil'](Math['sqrt'](_0x4612ef)),_0x58adb9=Math['ceil'](_0x4612ef/_0x496a4c);return new J(_0x496a4c,_0x58adb9);}async['updateColo'+'rData'](_0x151772){var _0x465af0;console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x51acb4=this['colorTextu'+'re2'];if(!_0x51acb4||this['isDestroye'+'d'])return;let _0xd96fbd=(_0x465af0=_0x151772['transformD'+'ata'])==null?void(0x14ef+-0x2*0x4eb+-0x3b3*0x3):_0x465af0['dataColor'];if(!_0xd96fbd){const _0x15bdf3=_0x151772['getProp']('color_opac'+'ity');_0xd96fbd=new Uint16Array(_0x15bdf3['buffer']['slice']());}await this['idleUpdate'+'TexturePro'+'mise'](_0x51acb4,_0xd96fbd);}async['getTransfo'+'rmDataByWo'+'rker'](_0xa16f92){var _0x34d495;if(console['log']('____\x20ENGIN'+'E\x20IVAN','getTransfo'+'rmDataByWo'+'rker'),(_0x34d495=_0xa16f92['transformD'+'ata'])!=null&&_0x34d495['dataCenter'+'s'])return{'centers':_0xa16f92['transformD'+'ata']['dataCenter'+'s'],'dataPosition':_0xa16f92['transformD'+'ata']['dataPositi'+'on'],'dataScale':_0xa16f92['transformD'+'ata']['dataScale'],'dataRotation':_0xa16f92['transformD'+'ata']['dataRotati'+'on'],'dataMotion':_0xa16f92['transformD'+'ata']['dataMotion'],'dataTime':_0xa16f92['transformD'+'ata']['dataTime'],'motion':_0xa16f92['transformD'+'ata']['motion'],'tScaleArray':_0xa16f92['transformD'+'ata']['tScaleArra'+'y']};const _0x2ee284=_0xa16f92['getProp']('position'),_0x5cec45=_0xa16f92['getProp']('motion'),_0x55cc90=_0xa16f92['getProp']('rotation'),_0x12f7c7=_0xa16f92['getProp']('scale'),_0xfa76d5=_0xa16f92['getProp']('t'),_0x287131=_0xa16f92['getProp']('t_scale');return await this['updateData'+'Worker']['updateTran'+'sData'](_0xa16f92['numSplats'],this['is4D'],_0x2ee284,_0x55cc90,_0x5cec45,_0x12f7c7,_0xfa76d5,_0x287131);}async['updateTran'+'sformFromD'+'ata'](_0x3a53ef){console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformFromD'+'ata'),this['transformA'+'Texture2']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformA'+'Texture2'],_0x3a53ef['dataPositi'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformR'+'Texture2'],_0x3a53ef['dataRotati'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformB'+'Texture2'],_0x3a53ef['dataScale']),this['is4D']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformM'+'otionTextu'+'re2'],_0x3a53ef['dataMotion']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformL'+'ifecycleTe'+'xture2'],_0x3a53ef['dataTime'])));}async['idleUpdate'+'TexturePro'+'mise'](_0x2a0033,_0x2dee89){if(!this['isDestroye'+'d'])return new Promise(_0x29f578=>{requestIdleCallback(()=>{const _0x4b3a54=_0x2a0033['lock']();_0x4b3a54==null||_0x4b3a54['set'](_0x2dee89),_0x2a0033['unlock'](),_0x29f578(!(0x2627*-0x1+0x642+0x1fe5));},{'timeout':0x12c});});}async['updateSHDa'+'ta'](_0x183980){var _0x215a2d,_0x536a7d,_0x15ff06,_0x5dd742,_0x375072,_0x35f5b8,_0x39df64,_0x3cce93;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta'),this['isDestroye'+'d'])return;const _0x2c35ee=(_0x215a2d=this['sh1to3Text'+'ure2'])==null?void(-0x851+0x16ee+-0xe9d):_0x215a2d['lock'](),_0x25303e=(_0x536a7d=this['sh4to7Text'+'ure2'])==null?void(-0x16*-0x4e+-0x1e2f+-0x1*-0x177b):_0x536a7d['lock'](),_0x3abcb0=(_0x15ff06=this['sh8to11Tex'+'ture2'])==null?void(0x2512+-0x3f*-0x4b+-0xb1b*0x5):_0x15ff06['lock'](),_0x301b9e=(_0x5dd742=this['sh12to15Te'+'xture2'])==null?void(-0x34b*-0x7+-0x1425+-0x5d*0x8):_0x5dd742['lock'](),_0x103f72={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x1e7d44=xg(_0x183980,_0x103f72*(-0x20ad+-0x3dc+0x248c)),_0x98518d=-0x1995+-0x146a+-0x1*-0x35fe,_0x2dc2c2=-0x1395*-0x1+-0x3*0x605+0x279,_0x129813=new Float32Array(-0x1*-0x5e7+-0x308+-0x2de),_0x34fb46=new Uint32Array(_0x129813['buffer']),_0x5f37f4=new Array(_0x103f72*(-0x23fc+-0x767+-0xb*-0x3f2))['fill'](0x1e38+0x156e+-0x33a6);for(let _0x53baa9=-0x6*-0x5dc+-0x25ca+0x2a2;_0x53baa9<_0x183980['numSplats'];++_0x53baa9){for(let _0x7b5c2c=0x14*0xab+0x4fb+-0x1257;_0x7b5c2c<_0x103f72;++_0x7b5c2c)_0x5f37f4[_0x7b5c2c*(-0xb1d+0x245f*-0x1+0x2f7f)]=_0x1e7d44[_0x7b5c2c][_0x53baa9],_0x5f37f4[_0x7b5c2c*(-0xf90+0x1*0x1541+0x2*-0x2d7)+(0x1ecc+0xa14+-0x28df)]=_0x1e7d44[_0x7b5c2c+_0x103f72][_0x53baa9],_0x5f37f4[_0x7b5c2c*(0x5*-0x3fa+-0x1*0x1505+0x28ea)+(-0x1e2c+-0x1854+-0x1b41*-0x2)]=_0x1e7d44[_0x7b5c2c+_0x103f72*(0x900+0xe1*-0x25+0x1787)][_0x53baa9];let _0x3ccaf7=_0x5f37f4[0xe*0x85+-0x540+-0x206];for(let _0x534179=-0x7*-0x285+0x1000*0x2+0x18d1*-0x2;_0x534179<_0x103f72*(0x1137+0xa3d*-0x1+-0x6f7);++_0x534179)_0x3ccaf7=Math['max'](_0x3ccaf7,Math['abs'](_0x5f37f4[_0x534179]));if(_0x3ccaf7!==0x2*-0xc52+0x1661+0x243){for(let _0x59950a=0x2038+0x2452+-0x448a;_0x59950a<_0x103f72;++_0x59950a)_0x5f37f4[_0x59950a*(-0x15*-0x13+0x590+0x2*-0x38e)+(-0xbad+0x2ff*0x4+-0x1*0x4f)]=Math['max'](0x17e5*0x1+-0x89*0x3a+0x1*0x725,Math['min'](_0x98518d,Math['floor']((_0x5f37f4[_0x59950a*(0x2*-0x517+0x1a26*0x1+0x331*-0x5)+(0xe83+0x1*-0x926+-0x55d)]/_0x3ccaf7*(-0x247c+-0xaad+-0x1*-0x2f29+0.5)+(0x17f1+0x1d83+-0x3574+0.5))*_0x98518d+(-0x1*0xb8d+-0x1197+-0x175*-0x14+0.5)))),_0x5f37f4[_0x59950a*(-0x192d+0x15b*0x3+0x151f)+(0xecd+0x33*0x65+0x4fd*-0x7)]=Math['max'](-0x41a+0x1*0x2455+0x203b*-0x1,Math['min'](_0x2dc2c2,Math['floor']((_0x5f37f4[_0x59950a*(-0xb9*-0x15+0x1be7+0x23*-0x13b)+(-0x1fb3+-0x4*-0x3cb+-0x2e*-0x5c)]/_0x3ccaf7*(0x5e6*0x4+-0x1bb*0xf+0x25d*0x1+0.5)+(-0x120a+-0xe98+0x20a2+0.5))*_0x2dc2c2+(0x2*-0x10f1+-0x237*-0x6+0x1498+0.5)))),_0x5f37f4[_0x59950a*(-0x2*0x6a7+0xbc+0xc95)+(-0x2356+-0x1ebe+0x4216)]=Math['max'](0x15fc+0x2e*-0xb2+0xa00,Math['min'](_0x98518d,Math['floor']((_0x5f37f4[_0x59950a*(0x2*0x106d+-0x138c+-0xd4b)+(-0x6fe+-0x1*0x17f+0x5*0x1b3)]/_0x3ccaf7*(-0xd94+0x1669*-0x1+0x23fd+0.5)+(-0x1*0x12e9+-0x1868+0x2b51+0.5))*_0x98518d+(-0x27c*-0x4+-0x7bb*-0x1+-0x11ab+0.5))));_0x129813[0x3b1+-0x1af6+-0x7*-0x353]=_0x3ccaf7,_0x2c35ee[_0x53baa9*(-0x208e+-0x3e*-0x95+-0x384)+(-0x1*-0x2d9+-0xce*0x15+-0xb*-0x147)]=_0x34fb46[-0x141*-0x8+-0x15b6+-0xe6*-0xd],_0x2c35ee[_0x53baa9*(-0x31*0x2f+0x1*0x12fd+-0x9fa)+(0xa9*-0x9+0xd09*0x1+-0x717)]=_0x5f37f4[-0x109b+0x911*-0x1+-0x4*-0x66b]<<0x1807+-0xc33*-0x3+-0x3c8b|_0x5f37f4[0x1124+-0x5*0x78d+0xb6*0x1d]<<0x1c3*0x7+0x1c19+0x7*-0x5c5|_0x5f37f4[-0x31f+0x1f1a+-0x1bf9],_0x2c35ee[_0x53baa9*(-0xa7a+-0x208e*-0x1+-0x584*0x4)+(0x16ff+0x698+0x1d95*-0x1)]=_0x5f37f4[0x1393+-0x76a*-0x5+-0x38a2]<<0x376*0x3+0x1963+0x476*-0x8|_0x5f37f4[-0x2530+-0x33b+0x1*0x286f]<<0x1f4b+0x1308+-0x3248|_0x5f37f4[0x1a17+-0x1393*-0x1+0x29*-0x11d],_0x2c35ee[_0x53baa9*(0xd*0x273+0x1a05*-0x1+-0x5ce)+(0x1c76+0x8*-0x373+-0xdb)]=_0x5f37f4[-0x8ef+0xfbc+0x1*-0x6c7]<<-0x4*0x606+-0x25d4+0x3e01|_0x5f37f4[0x1*0xd27+-0x2207*-0x1+-0x2f27]<<-0x1bca+0x8a+0x1b4b*0x1|_0x5f37f4[-0x1dcd+-0x1cdb+0x756*0x8],this['shBands']>0x62a+0xe47+0x8*-0x28e&&(_0x25303e[_0x53baa9*(-0x3*-0x82e+0x32*-0xc1+-0x119*-0xc)+(-0xe1e+-0x2*-0xd9f+-0x15*0xa0)]=_0x5f37f4[0xc25+0x1d21*0x1+0x495*-0x9]<<-0x1e24+0x1*0x21+0x1e18|_0x5f37f4[0x11*-0xab+0xb52+-0x1*-0x13]<<-0x3a*0xd+0x4*-0x773+-0x4af*-0x7|_0x5f37f4[-0x7b5*-0x5+0xb44+-0x31c2],_0x25303e[_0x53baa9*(0x13*-0x12+-0xa*0x3e5+0x284c)+(-0x2076+-0x1*0x191b+0x1*0x3992)]=_0x5f37f4[0x18c6+-0xdc2+-0xaf8]<<0x1d1f+-0xa*0x371+0x560|_0x5f37f4[0x13a1*-0x1+0x107f+0x1*0x32f]<<-0xced*0x1+-0x4*-0x69a+-0x5*0x2b0|_0x5f37f4[0x19be+0x2351+-0x17*0x2a7],_0x25303e[_0x53baa9*(-0x180b+-0x136c*-0x2+-0xec9)+(-0x1*-0x24cf+-0x506*-0x3+-0x33df)]=_0x5f37f4[-0xb91+0x4f9*0x5+-0xd3d]<<0xf36+-0x271+0x658*-0x2|_0x5f37f4[-0x1960+0xa80+0x8*0x1de]<<0x1b6b+0x13*-0xdc+0x2*-0x586|_0x5f37f4[-0x20c*-0x7+-0x659+-0x7ea],_0x25303e[_0x53baa9*(-0x68+0x1*-0x2261+0x22cd)+(0x232*0x6+-0x256b+0x1842)]=_0x5f37f4[0x45*-0x14+-0x149*0x11+0x1b4f]<<0x5*-0x48b+-0x20a8+-0x16c*-0x27|_0x5f37f4[-0x898+0x3*-0x95a+0x24b9]<<0x1*-0x776+-0x1*-0x2205+-0xd42*0x2|_0x5f37f4[0x1acf+-0x42c+0x4b*-0x4d],this['shBands']>0x7ae*0x5+-0xd7b*-0x2+0xa*-0x689?(_0x3abcb0[_0x53baa9*(0x7b8+-0x10*-0xc+-0x43a*0x2)+(0x18e*-0x2+0x274+0xa8)]=_0x5f37f4[-0x2*0xe91+-0x112b+0x2e62]<<-0x75*0x25+-0x77b+0x1879|_0x5f37f4[0x23*-0xb8+-0x16f*0x17+0x3a37]<<-0xfbd*0x2+-0x93e+-0x28c3*-0x1|_0x5f37f4[0x1031*0x2+0x1f16+-0x3f61],_0x3abcb0[_0x53baa9*(-0x6e1*0x1+0x1*-0x229d+0x2982)+(0x4bb*0x1+-0x1bfe+-0x2*-0xba2)]=_0x5f37f4[-0x3a9+0x8d7*-0x4+-0x1*-0x271d]<<-0xfc+-0x25c7+0x26d8|_0x5f37f4[-0x7+0x79d+0x47*-0x1b]<<-0x11f8+0x73*-0x1a+-0xb*-0x2b3|_0x5f37f4[-0xfd*-0x25+0xa38+-0x2eaf],_0x3abcb0[_0x53baa9*(-0x1*0x188f+-0x1*-0x1fd+0x1696)+(0x1*0x16b7+0xa60+-0x2115)]=_0x5f37f4[-0x1c17+0x1*-0x1605+-0x10bd*-0x3]<<0x1*0x125c+0x247f*-0x1+-0x1a8*-0xb|_0x5f37f4[-0xa36+-0x221d+0x145*0x23]<<-0x102e+0x1377+-0xa*0x53|_0x5f37f4[-0x1728+-0x18d0+0x21*0x175],_0x3abcb0[_0x53baa9*(0x257b+0x2*-0x984+-0x126f)+(-0x1*0x85d+-0x1a6b+0x22cb)]=_0x5f37f4[-0x1d82+-0x1aa9+0x3849]<<-0x2*-0x132d+0x1*-0xffd+-0x1648|_0x5f37f4[0x22a5+0x124e+0x126*-0x2e]<<-0x1341+0x1cb6+0x5*-0x1e2|_0x5f37f4[0xe37*0x1+-0x3*0x97b+0xb*0x14e],_0x301b9e[_0x53baa9*(0x15c9*0x1+0x28*-0xf4+-0x1*-0x105b)+(-0x1e5d+-0x12da+0x3137)]=_0x5f37f4[0x1bb*-0x3+0x180a+-0x12b8]<<-0x1*0x1f46+0x1131+0x206*0x7|_0x5f37f4[-0x725*-0x1+0x1672+-0x1d75]<<-0x31*0xd+0x2*-0xcd5+0x1c32|_0x5f37f4[0x1ed*-0x14+-0xa1e+-0x30c5*-0x1],_0x301b9e[_0x53baa9*(0x1258*-0x2+-0x2d9*-0x9+0xb13)+(-0xb6b+0x1f*-0x71+-0x1*-0x191b)]=_0x5f37f4[-0xe16+0x258f+-0x1755]<<-0x11ec+0x17f4+-0x5f3|_0x5f37f4[0x148d*-0x1+-0x689*-0x2+0x7a0]<<0xbfc+0x636*0x5+0x1*-0x2aff|_0x5f37f4[0x12c0+0x2*0x760+-0x215a],_0x301b9e[_0x53baa9*(0x1*-0x4f2+-0x49a*0x3+0x12c4)+(0x21ac*0x1+-0x280*0x4+-0x17aa)]=_0x5f37f4[0x10f+0x219*-0x2+0x2*0x1a5]<<0x1652+0x8d*0x10+-0x1f0d|_0x5f37f4[0x668*0x2+0x4c+-0xcf4]<<-0x55*-0x4f+-0x1a*0xa4+0xa*-0xf4|_0x5f37f4[0x2b6+0xf88+-0x1215],_0x301b9e[_0x53baa9*(0x2*0xa27+-0x1dfe*-0x1+0x1*-0x3248)+(0x45e+0x205f+-0xc3e*0x3)]=_0x5f37f4[0x8c4+-0x245d+0x1bc3]<<-0x5ba+0x8cd*-0x3+-0x26*-0xd9|_0x5f37f4[0xadb+-0xd0+-0x9e0]<<-0xb9b*0x1+-0x20ef+0x2c95*0x1|_0x5f37f4[0x8e1+-0x1ce1+-0x50b*-0x4]):_0x3abcb0[_0x53baa9]=_0x5f37f4[-0x7*-0x33b+-0x2706+0x107e]<<0x1*0x1f45+0x20ea+-0x401a|_0x5f37f4[0x1308+-0x2*-0x94d+0x36*-0xb2]<<-0x2*0x3ce+-0x24+0x7cb|_0x5f37f4[-0x1e02+-0x97*0x2f+-0x1ce9*-0x2]);}}(_0x375072=this['sh1to3Text'+'ure2'])==null||_0x375072['unlock'](),(_0x35f5b8=this['sh4to7Text'+'ure2'])==null||_0x35f5b8['unlock'](),(_0x39df64=this['sh8to11Tex'+'ture2'])==null||_0x39df64['unlock'](),(_0x3cce93=this['sh12to15Te'+'xture2'])==null||_0x3cce93['unlock']();}async['updateSHDa'+'taByWorker'](_0x3e19bd){var _0x237969,_0x479794,_0x513674,_0x31ccf9,_0x4bf4ca;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'taByWorker'),this['isDestroye'+'d'])return;const _0x4cb510={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']];let _0xd15b1a,_0x431741,_0x285b68,_0xcf36c8;if((_0x237969=_0x3e19bd['transformD'+'ata'])!=null&&_0x237969['sh1to3Data'])_0xd15b1a=(_0x479794=_0x3e19bd['transformD'+'ata'])==null?void(0xf*0x9f+-0x1fc7+0x1676):_0x479794['sh1to3Data'],_0x431741=(_0x513674=_0x3e19bd['transformD'+'ata'])==null?void(0x2b1*-0x4+0x2227+-0x1763):_0x513674['sh4to7Data'],_0x285b68=(_0x31ccf9=_0x3e19bd['transformD'+'ata'])==null?void(-0x240b*-0x1+-0x2*-0x1213+-0x4831*0x1):_0x31ccf9['sh8to11Dat'+'a'],_0xcf36c8=(_0x4bf4ca=_0x3e19bd['transformD'+'ata'])==null?void(0x1*-0x2345+-0x2ef*0x9+0x3dac):_0x4bf4ca['sh12to15Da'+'ta'];else{const _0x50982a=xg(_0x3e19bd,_0x4cb510*(-0x1*0xb14+0x2aa*-0x1+-0xdc1*-0x1)),_0x1a3d24=await this['updateData'+'Worker']['updateSHDa'+'ta1'](_0x3e19bd['numSplats'],this['shBands'],_0x50982a);_0xd15b1a=_0x1a3d24['sh1to3Data'],_0x431741=_0x1a3d24['sh4to7Data'],_0x285b68=_0x1a3d24['sh8to11Dat'+'a'],_0xcf36c8=_0x1a3d24['sh12to15Da'+'ta'];}await this['idleUpdate'+'TexturePro'+'mise'](this['sh1to3Text'+'ure2'],_0xd15b1a),this['shBands']>0x92c*0x4+-0xdfb+-0x2*0xb5a&&(await this['idleUpdate'+'TexturePro'+'mise'](this['sh4to7Text'+'ure2'],_0x431741),this['shBands']>-0x1b0e*-0x1+0x455*0x1+-0x1f61?(await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x285b68),await this['idleUpdate'+'TexturePro'+'mise'](this['sh12to15Te'+'xture2'],_0xcf36c8)):await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x285b68));}}const PC='FILL_WINDO'+'W',Tg='KEEP_ASPEC'+'T',wg='AUTO',MC='FIXED';let Ov;function Ms(){return Ov;}function _u(_0x253a5d){Ov=_0x253a5d;}class DC{constructor(){h(this,'renderPass'+'es',[]),h(this,'renderTarg'+'etMap',new Map());}['addRenderP'+'ass'](_0x1acb93){w['assert'](_0x1acb93),_0x1acb93['frameUpdat'+'e']();const _0x3cc8c3=_0x1acb93['beforePass'+'es'];for(let _0x36ca99=0x2564+0x18d*-0x1+0x72b*-0x5;_0x36ca99<_0x3cc8c3['length'];_0x36ca99++){const _0x5003d8=_0x3cc8c3[_0x36ca99];_0x5003d8['enabled']&&this['addRenderP'+'ass'](_0x5003d8);}_0x1acb93['enabled']&&this['renderPass'+'es']['push'](_0x1acb93);const _0x596546=_0x1acb93['afterPasse'+'s'];for(let _0x1cb359=-0x14c0+-0x209b+0x355b;_0x1cb359<_0x596546['length'];_0x1cb359++){const _0x49f9a1=_0x596546[_0x1cb359];_0x49f9a1['enabled']&&this['addRenderP'+'ass'](_0x49f9a1);}}['reset'](){this['renderPass'+'es']['length']=0x1286+-0x208f+0xe09;}['compile'](){const _0x10772a=this['renderTarg'+'etMap'],_0x27a5d3=this['renderPass'+'es'];for(let _0x3c60fe=-0x3*0xc2+0x24*0x8a+-0x891*0x2;_0x3c60fe<_0x27a5d3['length'];_0x3c60fe++){const _0x8473b1=_0x27a5d3[_0x3c60fe],_0x1991b8=_0x8473b1['renderTarg'+'et'];if(_0x1991b8!==void(0x14be+-0xce+-0x10*0x13f)){const _0x10aa3b=_0x10772a['get'](_0x1991b8);if(_0x10aa3b){const _0x4a2673=_0x8473b1['colorArray'+'Ops']['length'];for(let _0x5bd2e2=0x2669*-0x1+0x1*0x1088+0x15e1*0x1;_0x5bd2e2<_0x4a2673;_0x5bd2e2++)_0x8473b1['colorArray'+'Ops'][_0x5bd2e2]['clear']||(_0x10aa3b['colorArray'+'Ops'][_0x5bd2e2]['store']=!(0x1732+-0xe8b+-0x8a7));_0x8473b1['depthStenc'+'ilOps']['clearDepth']||(_0x10aa3b['depthStenc'+'ilOps']['storeDepth']=!(-0x11c2+-0x4fa+-0x5*-0x48c)),_0x8473b1['depthStenc'+'ilOps']['clearStenc'+'il']||(_0x10aa3b['depthStenc'+'ilOps']['storeStenc'+'il']=!(0x639+-0x19ca+0x1391));}_0x10772a['set'](_0x1991b8,_0x8473b1);}}for(let _0xa3d74f=0x26c0+0x13*-0xb1+-0x1*0x199d;_0xa3d74f<_0x27a5d3['length']-(-0x147a+-0x1*-0x1935+-0x4ba);_0xa3d74f++){const _0x3ccccd=_0x27a5d3[_0xa3d74f],_0x42af91=_0x3ccccd['renderTarg'+'et'],_0x187e7f=_0x27a5d3[_0xa3d74f+(-0xfb*-0x14+-0x1*0x754+-0xc47)],_0x50df5a=_0x187e7f['renderTarg'+'et'];_0x42af91!==_0x50df5a||_0x42af91===void(0x1f0*0x4+-0xc*0x2fa+-0x6fe*-0x4)||_0x187e7f['depthStenc'+'ilOps']['clearDepth']||_0x187e7f['depthStenc'+'ilOps']['clearStenc'+'il']||_0x187e7f['colorArray'+'Ops']['some'](_0x57592e=>_0x57592e['clear'])||_0x3ccccd['afterPasse'+'s']['length']>0x234f+0xd*0x259+-0x41d4||_0x187e7f['beforePass'+'es']['length']>-0xd91*-0x2+0x1b92+0x1b5a*-0x2||(_0x3ccccd['_skipEnd']=!(-0x10*-0x1a5+-0x26*0xdf+0x6ca*0x1),_0x187e7f['_skipStart']=!(0x20f6+0x16bb*-0x1+0x9*-0x123));}let _0x25c069=null,_0x272968=null;for(let _0x57692d=-0x11e2*0x1+0x203b+-0xe59;_0x57692d<_0x27a5d3['length'];_0x57692d++){const _0x5dfe6a=_0x27a5d3[_0x57692d],_0xd52527=_0x5dfe6a['renderTarg'+'et'],_0x2313dc=_0xd52527==null?void(0x1*-0xdcb+-0x1*0x8e+0xe59):_0xd52527['colorBuffe'+'r'];if(_0x2313dc!=null&&_0x2313dc['cubemap']){if(_0x25c069===_0x2313dc){const _0x50ae78=_0x272968['colorArray'+'Ops']['length'];for(let _0x281f86=-0x14b5+-0xd5*-0xd+-0x4f2*-0x2;_0x281f86<_0x50ae78;_0x281f86++)_0x272968['colorArray'+'Ops'][_0x281f86]['mipmaps']=!(0x1*-0x2130+-0x941+-0x6*-0x713);}_0x25c069=_0xd52527['colorBuffe'+'r'],_0x272968=_0x5dfe6a;}else _0x5dfe6a['requiresCu'+'bemaps']&&(_0x25c069=null,_0x272968=null);}_0x10772a['clear']();}['render'](_0x4cdb36){this['compile']();const _0x53d192=this['renderPass'+'es'];for(let _0x56f1cd=0x17c+-0x617*-0x1+-0x793;_0x56f1cd<_0x53d192['length'];_0x56f1cd++)_0x53d192[_0x56f1cd]['render']();}}class IC{constructor(_0x1be2e0,_0x1ba55c){this['texture0']=_0x1be2e0,this['texture1']=_0x1ba55c;}['destroy'](){var _0x6fdb64,_0x4eb6fd;(_0x6fdb64=this['texture0'])==null||_0x6fdb64['destroy'](),(_0x4eb6fd=this['texture1'])==null||_0x4eb6fd['destroy']();}}const Eg=new Kt();class ia{static['createText'+'ure'](_0x27e66d,_0x335965,_0x2efd87,_0x11a622=''){return new _e(_0x27e66d,{'name':'AreaLightL'+'UT'+_0x11a622,'width':_0x2efd87,'height':_0x2efd87,'format':_0x335965,'addressU':ue,'addressV':ue,'type':Ds,'magFilter':vt,'minFilter':Te,'anisotropy':0x1,'mipmaps':!(-0x5b0+0x23b+0x1bb*0x2)});}static['applyTextu'+'res'](_0x4ac047,_0x2f1282,_0x40770a){Eg['remove'](_0x4ac047),Eg['get'](_0x4ac047,()=>new IC(_0x2f1282,_0x2f1282===_0x40770a?null:_0x40770a)),_0x4ac047['scope']['resolve']('areaLights'+'LutTex1')['setValue'](_0x2f1282),_0x4ac047['scope']['resolve']('areaLights'+'LutTex2')['setValue'](_0x40770a);}static['createPlac'+'eholder'](_0x15c8cc){const _0x3b7fd6=ia['createText'+'ure'](_0x15c8cc,nt,-0x1bdd+0x131*-0x13+0x35e*0xf,'placeholde'+'r');_0x3b7fd6['lock']()['fill'](0x2500+0xca1+-0x34f*0xf),_0x3b7fd6['unlock'](),ia['applyTextu'+'res'](_0x15c8cc,_0x3b7fd6,_0x3b7fd6);}static['set'](_0x103f57,_0x90a1e8,_0x255b1d){function _0x1b5521(_0xdb536a,_0x4f5229,_0x2e0bde){const _0x4fdc9e=ia['createText'+'ure'](_0xdb536a,_0x2e0bde,0x4f*-0x5f+0x1*-0x1c99+0x3a2a);return _0x4fdc9e['lock']()['set'](_0x4f5229),_0x4fdc9e['unlock'](),_0x4fdc9e;}function _0x1450e3(_0x277410){const _0x196665=_0x277410['length'],_0x17b092=new Uint16Array(_0x196665),_0x5620b6=Mn['float2Half'];for(let _0x119836=0x1014+0x1*-0x1025+0x11;_0x119836<_0x196665;_0x119836++)_0x17b092[_0x119836]=_0x5620b6(_0x277410[_0x119836]);return _0x17b092;}const _0x18c0d1=_0x90a1e8,_0x13c9d8=_0x255b1d,_0x4a9f48=_0x1450e3(_0x18c0d1),_0x154bab=_0x1450e3(_0x13c9d8),_0x2c706b=_0x1b5521(_0x103f57,_0x4a9f48,nt),_0x1f0f17=_0x1b5521(_0x103f57,_0x154bab,nt);ia['applyTextu'+'res'](_0x103f57,_0x2c706b,_0x1f0f17);}}const Ph='en-US',Mh={'en':'en-US','es':'en-ES','zh':'zh-CN','zh-HK':'zh-TW','zh-TW':'zh-HK','zh-MO':'zh-HK','fr':'fr-FR','de':'de-DE','it':'it-IT','ru':'ru-RU','ja':'ja-JP'},Sm={};function Dr(_0x1ae549,_0x4d318b){for(let _0x17d3dd=-0xa75*-0x1+0x47*-0xc+-0x5*0x16d,_0x417f06=_0x1ae549['length'];_0x17d3dd<_0x417f06;_0x17d3dd++)Sm[_0x1ae549[_0x17d3dd]]=_0x4d318b;}function Oi(_0x3e98c6){const _0x89a168=_0x3e98c6['indexOf']('-');return _0x89a168!==-(-0x2632+0x12*-0x141+-0x2f*-0x14b)?_0x3e98c6['substring'](-0xc93+-0xe01+0x15*0x144,_0x89a168):_0x3e98c6;}function LC(_0x2ac977,_0x35cd69){const _0x321c69=_0x2ac977['indexOf']('-');return _0x321c69!==-(0x1cbc+-0x1953+0x1*-0x368)?_0x35cd69+_0x2ac977['substring'](_0x321c69):_0x35cd69;}function Fv(_0x595055,_0xafa27c){if(_0xafa27c[_0x595055])return _0x595055;let _0x1872c4=Mh[_0x595055];if(_0x1872c4&&_0xafa27c[_0x1872c4])return _0x1872c4;const _0x136d2c=Oi(_0x595055);return _0x1872c4=Mh[_0x136d2c],_0xafa27c[_0x1872c4]?_0x1872c4:_0xafa27c[_0x136d2c]?_0x136d2c:Ph;}Dr(['ja','ko','th','vi','zh','id'],_0x4d48c4=>0x1148+0x5*-0x647+0x9d*0x17),Dr(['fa','hi'],_0x53e5ae=>_0x53e5ae>=-0xa59*-0x1+-0x620*-0x2+-0x1699&&_0x53e5ae<=-0x2*-0x359+-0x2*0x64a+0x5e3?-0xa7b*-0x1+-0x105a+0x9*0xa7:-0xb0f+-0x3*0xc8e+0x63*0x7e),Dr(['fr','pt'],_0x5e2eff=>_0x5e2eff>=-0x2120+-0x8d*0x2f+0x3b03&&_0x5e2eff<0x1667+-0x1*0x1c01+-0x59c*-0x1?-0x4*-0x292+-0x270a+0xe61*0x2:-0x2c*0x1f+0x8c5+0x2c*-0x14),Dr(['da'],_0x3456a7=>_0x3456a7===-0x1e9*-0x3+-0x13f7*0x1+-0x5*-0x2d9||!Number['isInteger'](_0x3456a7)&&_0x3456a7>=-0x51e+-0x1df2*-0x1+0xe3*-0x1c&&_0x3456a7<=-0x986+0x9*-0x403+-0x3b*-0xc6?0x2*-0x1cd+0x1d6*0x5+0xcc*-0x7:0x26f5*-0x1+0x1569+0x118d),Dr(['de','en','it','el','es','tr','fi','sv','nb','no','ur'],_0xa2a500=>_0xa2a500===0x1bff+-0x28*0x9e+0x11a*-0x3?0x23cd+0x209+0xa7*-0x3a:-0x2161+-0x163+-0xb97*-0x3),Dr(['ru','uk'],_0x289b06=>{if(Number['isInteger'](_0x289b06)){const _0x2eb88e=_0x289b06%(-0x1914+-0x2005+0x1*0x3923),_0x2f8e29=_0x289b06%(0x1949+-0x1139*-0x1+-0x2a1e);if(_0x2eb88e===0x1273+-0x1c7c+0x5*0x202&&_0x2f8e29!==-0x6a0+0xc9e+-0x5f3)return 0x16ea+0xa71+-0x215b*0x1;if(_0x2eb88e>=-0x1*0x18e2+0x2*0xeed+-0x4f6&&_0x2eb88e<=0x26f6+0x24f5+-0x7f*0x99&&(_0x2f8e29<-0x957*-0x4+0x1684+-0x3bd4||_0x2f8e29>-0x1c84+-0x2*0xa9c+0x31ca))return-0x60d*-0x2+-0x53*-0x6+-0xe0b;if(_0x2eb88e===-0x842+0xe*-0x101+0x1650||_0x2eb88e>=-0x2662+0x575+0x1079*0x2&&_0x2eb88e<=-0x6+-0x115f*-0x1+-0x1150||_0x2f8e29>=-0x4fd*-0x2+0x7*0x296+-0x1*0x1c09&&_0x2f8e29<=-0x1*0x41+0xe*-0xcd+0x1*0xb85)return 0x2*0x28c+-0x38+-0xe*0x59;}return-0xd93+0x57c+0x81a*0x1;}),Dr(['pl'],_0x3e15c2=>{if(Number['isInteger'](_0x3e15c2)){if(_0x3e15c2===0x1e10+-0x1f*0x104+0x16d)return-0x11d9+-0x123d+-0x2416*-0x1;const _0x5cd30c=_0x3e15c2%(0x1564*0x1+-0x32f+-0x122b),_0x53b2d5=_0x3e15c2%(-0x1052+0x2543*-0x1+0x35f9);if(_0x5cd30c>=-0x6*0x3f2+-0x2426+0x223*0x1c&&_0x5cd30c<=0xbf2+-0x9ec+0x202*-0x1&&(_0x53b2d5<0x1b7c+-0x2*0x22a+0xae*-0x22||_0x53b2d5>0x4d*-0x72+-0x13e1*0x1+0x3639*0x1))return-0x6*-0x4f5+0x4ea+-0x22a7;if(_0x5cd30c>=0x1458+-0xcd0+0x2*-0x3c4&&_0x5cd30c<=0x5a7*-0x1+0x2b9*-0xd+0x290d||_0x5cd30c>=-0x1*0xf67+0x2690+-0x1724&&_0x5cd30c<=-0x2632+-0x2697+0x4cd2||_0x53b2d5>=-0x3cf+-0x512+0x8ed&&_0x53b2d5<=-0x1a5a+0x2098+0x18c*-0x4)return-0x1ba6+0x9ed*-0x1+0x2595;}return-0x3*0x661+-0x2471+0x3797;}),Dr(['ar'],_0x4ee06d=>{if(_0x4ee06d===0x201+-0x1a72*-0x1+-0x1*0x1c73)return-0x8d7*0x3+0x1*0x1669+0x41c;if(_0x4ee06d===-0x1a57+-0x241c+-0x7*-0x8ec)return-0x9*-0x13+-0x3dc+0x332;if(_0x4ee06d===0x332+0x111f+-0x144f)return-0xf2*0x9+-0x180f+0x2093;if(Number['isInteger'](_0x4ee06d)){const _0x4426c4=_0x4ee06d%(-0x13cb+0x5d*-0x19+0xea2*0x2);if(_0x4426c4>=0x1c38+-0x20*0x5+-0x1b95&&_0x4426c4<=-0x1*0x128f+-0x5f*0x1b+0x1c9e)return 0x4*-0x907+-0x242c+0x484b;if(_0x4426c4>=-0x98b+-0x4*-0x191+0x352&&_0x4426c4<=-0x94c+-0x405*0x3+0x79*0x2e)return-0x3d5*-0x7+0x3*-0xb76+0x793*0x1;}return-0x1*-0x1c6d+-0x1d9e+0x1*0x136;});const RC=Sm[Oi(Ph)];function Tf(_0x3d4852){return Sm[_0x3d4852]||RC;}const jn=new RegExp('^\x5cs*(?:(?:'+'[a-z]+[a-z'+'0-9\x5c-+.]*:'+')?//|data:'+'|blob:)','i');class OC{constructor(_0x23902a='',_0x66981d='',_0x41e417=null,_0x261155=null,_0x570dc9=null,_0x392e9b=null){this['url']=_0x23902a,this['filename']=_0x66981d,this['hash']=_0x41e417,this['size']=_0x261155,this['opt']=_0x570dc9,this['contents']=_0x392e9b;}['equals'](_0x4c33d4){return this['url']===_0x4c33d4['url']&&this['filename']===_0x4c33d4['filename']&&this['hash']===_0x4c33d4['hash']&&this['size']===_0x4c33d4['size']&&this['opt']===_0x4c33d4['opt']&&this['contents']===_0x4c33d4['contents'];}}let FC=-(-0x16f9*-0x1+-0x607*0x5+0x1*0x72b);const NC={'pvr':'extCompres'+'sedTexture'+'PVRTC','dxt':'extCompres'+'sedTexture'+'S3TC','etc2':'extCompres'+'sedTexture'+'ETC','etc1':'extCompres'+'sedTexture'+'ETC1','basis':'canvas'},bg=['pvr','dxt','etc2','etc1','basis'];class pe extends me{constructor(_0x3f8931,_0x5326fd,_0x142b56,_0x30d03d={},_0xfed3a1={}){super(),h(this,'_file',null),h(this,'_i18n',{}),h(this,'_preload',!(0xb47+-0x75*0x3b+0xfb1)),h(this,'_resources',[]),h(this,'id',FC--),h(this,'loaded',!(0x17f*-0x11+-0x1*-0x16bd+0x1*0x2b3)),h(this,'loading',!(-0x1828+-0x2123+0x394c)),h(this,'options',{}),h(this,'registry',null),h(this,'tags',new Oo(this)),h(this,'type'),h(this,'urlObject',null),(this['_name']=_0x3f8931||'',this['type']=_0x5326fd,this['_data']=_0x30d03d||{},this['options']=_0xfed3a1||{},_0x142b56&&(this['file']=_0x142b56));}set['name'](_0x25368a){if(this['_name']===_0x25368a)return;const _0x5a29fb=this['_name'];this['_name']=_0x25368a,this['fire']('name',this,this['_name'],_0x5a29fb);}get['name'](){return this['_name'];}set['file'](_0x3209b2){var _0x4d75ef,_0xdbc62e;if(_0x3209b2&&_0x3209b2['variants']&&['texture','textureatl'+'as','bundle']['indexOf'](this['type'])!==-(-0x88d+0x1a4b+-0x1*0x11bd)){const _0x2317c=((_0xdbc62e=(_0x4d75ef=this['registry'])==null?void(0x4e9+-0x21d*0x1+-0x2*0x166):_0x4d75ef['_loader'])==null?void(-0x3*0x1b1+-0x39d*-0x9+-0x1b72):_0xdbc62e['_app'])||Ms(),_0x5eaf0e=_0x2317c==null?void(-0x1*0x12c8+-0x22f4*0x1+-0x4c*-0xb5):_0x2317c['graphicsDe'+'vice'];if(_0x5eaf0e)for(let _0xc3c0e4=-0x1b87*0x1+0x4*-0x65a+0x34ef,_0x57621c=bg['length'];_0xc3c0e4<_0x57621c;_0xc3c0e4++){const _0x462f29=bg[_0xc3c0e4];if(_0x3209b2['variants'][_0x462f29]&&_0x5eaf0e[NC[_0x462f29]]){_0x3209b2=_0x3209b2['variants'][_0x462f29];break;}if(_0x2317c['enableBund'+'les']){const _0x31c88c=_0x2317c['bundles']['listBundle'+'sForAsset'](this);if(_0x31c88c&&_0x31c88c['find'](_0x586141=>{var _0x5bea5e;return(_0x5bea5e=_0x586141==null?void(-0x1*-0x1c40+0x1ec+-0x1e2c):_0x586141['file'])==null?void(-0xd95*-0x1+-0xd3*-0x11+-0x1b98):_0x5bea5e['variants'][_0x462f29];}))break;}}}const _0x74e61c=this['_file'],_0x10d392=_0x3209b2?new OC(_0x3209b2['url'],_0x3209b2['filename'],_0x3209b2['hash'],_0x3209b2['size'],_0x3209b2['opt'],_0x3209b2['contents']):null;(!!_0x10d392!=!!_0x74e61c||_0x10d392&&!_0x10d392['equals'](_0x74e61c))&&(this['_file']=_0x10d392,this['fire']('change',this,'file',_0x10d392,_0x74e61c),this['reload']());}get['file'](){return this['_file'];}set['data'](_0x31ac93){const _0x232215=this['_data'];this['_data']=_0x31ac93,_0x31ac93!==_0x232215&&(this['fire']('change',this,'data',_0x31ac93,_0x232215),this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['data'](){return this['_data'];}set['resource'](_0x438e49){const _0x33e43b=this['_resources'][0x6*0xed+-0x1*0x713+0x185];this['_resources'][0xc6*0x17+0x1c93*0x1+0xb*-0x437]=_0x438e49,this['fire']('change',this,'resource',_0x438e49,_0x33e43b);}get['resource'](){return this['_resources'][0x4*-0x25+0x252a+0x2496*-0x1];}set['resources'](_0x1b62e1){const _0x5026d0=this['_resources'];this['_resources']=_0x1b62e1,this['fire']('change',this,'resources',_0x1b62e1,_0x5026d0);}get['resources'](){return this['_resources'];}set['preload'](_0x31dc46){_0x31dc46=!!_0x31dc46,this['_preload']!==_0x31dc46&&(this['_preload']=_0x31dc46,this['_preload']&&!this['loaded']&&!this['loading']&&this['registry']&&this['registry']['load'](this));}get['preload'](){return this['_preload'];}set['loadFaces'](_0x8edb5d){_0x8edb5d=!!_0x8edb5d,(!this['hasOwnProp'+'erty']('_loadFaces')||_0x8edb5d!==this['_loadFaces'])&&(this['_loadFaces']=_0x8edb5d,this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['loadFaces'](){return this['_loadFaces'];}['getFileUrl'](){const _0x44c6a5=this['file'];if(!_0x44c6a5||!_0x44c6a5['url'])return null;let _0x59a5f8=_0x44c6a5['url'];if(this['registry']&&this['registry']['prefix']&&!jn['test'](_0x59a5f8)&&(_0x59a5f8=this['registry']['prefix']+_0x59a5f8),this['type']!=='script'&&_0x44c6a5['hash']){const _0x52578b=_0x59a5f8['indexOf']('?')!==-(0x1*0x1d63+0x2a*-0x4b+-0x1114)?'&':'?';_0x59a5f8+=_0x52578b+'t='+_0x44c6a5['hash'];}return _0x59a5f8;}['getAbsolut'+'eUrl'](_0x559985){if(_0x559985['startsWith']('blob:')||_0x559985['startsWith']('data:'))return _0x559985;const _0x4b0a5e=xe['getDirecto'+'ry'](this['file']['url']);return xe['join'](_0x4b0a5e,_0x559985);}['getLocaliz'+'edAssetId'](_0xbe0d30){return _0xbe0d30=Fv(_0xbe0d30,this['_i18n']),this['_i18n'][_0xbe0d30]||null;}['addLocaliz'+'edAssetId'](_0x4f8c69,_0x514118){this['_i18n'][_0x4f8c69]=_0x514118,this['fire']('add:locali'+'zed',_0x4f8c69,_0x514118);}['removeLoca'+'lizedAsset'+'Id'](_0x65e93e){const _0x3260fa=this['_i18n'][_0x65e93e];_0x3260fa&&(delete this['_i18n'][_0x65e93e],this['fire']('remove:loc'+'alized',_0x65e93e,_0x3260fa));}['ready'](_0x4568f6,_0x1e68ab){_0x1e68ab=_0x1e68ab||this,this['loaded']?_0x4568f6['call'](_0x1e68ab,this):this['once']('load',_0x5dec59=>{_0x4568f6['call'](_0x1e68ab,_0x5dec59);});}['reload'](){this['loaded']&&(this['loaded']=!(-0x20c4+-0xa77*0x1+0x159e*0x2),this['registry']['load'](this));}['unload'](){if(!this['loaded']&&this['_resources']['length']===-0x2f1*-0x6+0x6*-0x407+-0x4*-0x1a1)return;this['fire']('unload',this),this['registry']['fire']('unload:'+this['id'],this);const _0xf47561=this['_resources'];this['urlObject']&&(URL['revokeObje'+'ctURL'](this['urlObject']),this['urlObject']=null),this['resources']=[],this['loaded']=!(0xa3*-0x2f+0x1831*-0x1+0x1*0x361f),this['file']&&this['registry']['_loader']['clearCache'](this['getFileUrl'](),this['type']);for(let _0x4a174c=0x21f+0x13d5+-0x57d*0x4;_0x4a174c<_0xf47561['length'];++_0x4a174c){const _0x57ed9f=_0xf47561[_0x4a174c];_0x57ed9f&&_0x57ed9f['destroy']&&_0x57ed9f['destroy']();}}static['fetchArray'+'Buffer'](_0x30c1e8,_0x406405,_0x4fe12e,_0x3d3e7b=-0x23e5+-0x1010*0x1+-0x33f5*-0x1){var _0x4baa43;(_0x4baa43=_0x4fe12e==null?void(-0x36+0x14ac+-0x1476):_0x4fe12e['file'])!=null&&_0x4baa43['contents']?setTimeout(()=>{_0x406405(null,_0x4fe12e['file']['contents']);}):ot['get'](_0x30c1e8,{'cache':!(0x16ac+0xaf*-0x2+-0x154e),'responseType':'arraybuffe'+'r','retry':_0x3d3e7b>0x8*0x155+-0xbed+0x145,'maxRetries':_0x3d3e7b},_0x406405);}}h(pe,'EVENT_LOAD','load'),h(pe,'EVENT_UNLO'+'AD','unload'),h(pe,'EVENT_REMO'+'VE','remove'),h(pe,'EVENT_ERRO'+'R','error'),h(pe,'EVENT_CHAN'+'GE','change'),h(pe,'EVENT_PROG'+'RESS','progress'),h(pe,'EVENT_ADDL'+'OCALIZED','add:locali'+'zed'),h(pe,'EVENT_REMO'+'VELOCALIZE'+'D','remove:loc'+'alized');class kC{constructor(_0x3475ee=null){h(this,'_index',{}),h(this,'_key'),this['_key']=_0x3475ee;}['addItem'](_0x587b71){const _0x1607ee=_0x587b71['tags']['_list'];for(const _0x546699 of _0x1607ee)this['add'](_0x546699,_0x587b71);}['removeItem'](_0x4585cc){const _0x2d6993=_0x4585cc['tags']['_list'];for(const _0x129bf7 of _0x2d6993)this['remove'](_0x129bf7,_0x4585cc);}['add'](_0x12a682,_0x13ab28){this['_index'][_0x12a682]&&this['_index'][_0x12a682]['list']['indexOf'](_0x13ab28)!==-(0x1db5+0x1615+-0x33c9)||(this['_index'][_0x12a682]||(this['_index'][_0x12a682]={'list':[]},this['_key']&&(this['_index'][_0x12a682]['keys']={})),this['_index'][_0x12a682]['list']['push'](_0x13ab28),this['_key']&&(this['_index'][_0x12a682]['keys'][_0x13ab28[this['_key']]]=_0x13ab28));}['remove'](_0x4fd3a0,_0x742b48){if(!this['_index'][_0x4fd3a0]||this['_key']&&!this['_index'][_0x4fd3a0]['keys'][_0x742b48[this['_key']]])return;const _0x512107=this['_index'][_0x4fd3a0]['list']['indexOf'](_0x742b48);_0x512107!==-(-0x16d+0x1*-0x136c+-0x14da*-0x1)&&(this['_index'][_0x4fd3a0]['list']['splice'](_0x512107,-0x37f+0x1*0x140e+-0x108e),this['_key']&&delete this['_index'][_0x4fd3a0]['keys'][_0x742b48[this['_key']]],this['_index'][_0x4fd3a0]['list']['length']===0x1*-0x1d7+0x11b7+-0xfe0&&delete this['_index'][_0x4fd3a0]);}['find'](_0x2386b8){const _0x41daf0={},_0x58e427=[];let _0x461ea7,_0x59af27,_0x502130,_0xe4df3,_0x52537c;const _0x4fa907=(_0x49865b,_0x505a58)=>this['_index'][_0x49865b]['list']['length']-this['_index'][_0x505a58]['list']['length'];for(let _0x3605df=-0x1422*0x1+-0x1d2d+0x3cb*0xd;_0x3605df<_0x2386b8['length'];_0x3605df++){if(_0x59af27=_0x2386b8[_0x3605df],_0x59af27 instanceof Array){if(_0x59af27['length']===-0x1a7+0x1540+-0x1*0x1399)continue;if(_0x59af27['length']===0xea6+-0x16*0xe9+-0x11*-0x51)_0x59af27=_0x59af27[-0x718*-0x4+-0x2430+-0x2*-0x3e8];else{_0x52537c=!(-0x4cb*-0x3+-0x2*0xfa7+0x10ee);for(let _0x4ff60f=-0xf87+-0x1b15+0x2a9c;_0x4ff60f<_0x59af27['length'];_0x4ff60f++)if(!this['_index'][_0x59af27[_0x4ff60f]]){_0x52537c=!(0x7f*0xb+-0x111*0x15+-0x878*-0x2);break;}if(_0x52537c)continue;_0x502130=_0x59af27['slice'](-0x1*-0xa9+0x23e+-0x2e7*0x1)['sort'](_0x4fa907),_0xe4df3=_0x502130['slice'](0xbc5+0x1a*-0x1d+-0x8d2),_0xe4df3['length']===-0x27*-0xd+0x1321+-0x151b&&(_0xe4df3=_0xe4df3[0xace+-0x1690+-0x23*-0x56]);for(let _0x307991=-0x142d*-0x1+-0x6*0x237+0x6e3*-0x1;_0x307991<this['_index'][_0x502130[-0x16f*-0xb+-0x9eb+0x1*-0x5da]]['list']['length'];_0x307991++)_0x461ea7=this['_index'][_0x502130[0xf1*-0x8+0x6f0+0x98]]['list'][_0x307991],(this['_key']?!_0x41daf0[_0x461ea7[this['_key']]]:_0x58e427['indexOf'](_0x461ea7)===-(-0x10c7+0x40*-0x49+0x1*0x2308))&&_0x461ea7['tags']['has'](_0xe4df3)&&(this['_key']&&(_0x41daf0[_0x461ea7[this['_key']]]=!(0x12db*-0x2+0x16e2+0xed4)),_0x58e427['push'](_0x461ea7));continue;}}if(_0x59af27&&typeof _0x59af27=='string'&&this['_index'][_0x59af27]){for(let _0x4865b3=0x1ec4+-0x25bd+0x33*0x23;_0x4865b3<this['_index'][_0x59af27]['list']['length'];_0x4865b3++)_0x461ea7=this['_index'][_0x59af27]['list'][_0x4865b3],this['_key']?_0x41daf0[_0x461ea7[this['_key']]]||(_0x41daf0[_0x461ea7[this['_key']]]=!(-0xf3+0x13*0x6b+-0xa*0xb3),_0x58e427['push'](_0x461ea7)):_0x58e427['indexOf'](_0x461ea7)===-(-0x1*0x4d2+-0x221+0x6f4)&&_0x58e427['push'](_0x461ea7);}}return _0x58e427;}}class mn extends me{constructor(_0x47e203){super(),h(this,'_assets',new Set()),h(this,'_loader'),h(this,'_idToAsset',new Map()),h(this,'_urlToAsse'+'t',new Map()),h(this,'_nameToAss'+'et',new Map()),h(this,'_tags',new kC('id')),h(this,'prefix',null),h(this,'bundles',null),this['_loader']=_0x47e203;}['list'](_0xbc9768={}){const _0x313c3a=Array['from'](this['_assets']);return _0xbc9768['preload']!==void(-0x1d19*0x1+0x8*0x15b+0x1241)?_0x313c3a['filter'](_0xb7abd8=>_0xb7abd8['preload']===_0xbc9768['preload']):_0x313c3a;}['add'](_0x3f56c9){var _0xac4cca,_0x19ecc2;this['_assets']['has'](_0x3f56c9)||(this['_assets']['add'](_0x3f56c9),this['_idToAsset']['set'](_0x3f56c9['id'],_0x3f56c9),(_0xac4cca=_0x3f56c9['file'])!=null&&_0xac4cca['url']&&this['_urlToAsse'+'t']['set'](_0x3f56c9['file']['url'],_0x3f56c9),this['_nameToAss'+'et']['has'](_0x3f56c9['name'])||this['_nameToAss'+'et']['set'](_0x3f56c9['name'],new Set()),this['_nameToAss'+'et']['get'](_0x3f56c9['name'])['add'](_0x3f56c9),_0x3f56c9['on']('name',this['_onNameCha'+'nge'],this),_0x3f56c9['registry']=this,this['_tags']['addItem'](_0x3f56c9),_0x3f56c9['tags']['on']('add',this['_onTagAdd'],this),_0x3f56c9['tags']['on']('remove',this['_onTagRemo'+'ve'],this),this['fire']('add',_0x3f56c9),this['fire']('add:'+_0x3f56c9['id'],_0x3f56c9),(_0x19ecc2=_0x3f56c9['file'])!=null&&_0x19ecc2['url']&&this['fire']('add:url:'+_0x3f56c9['file']['url'],_0x3f56c9),_0x3f56c9['preload']&&this['load'](_0x3f56c9));}['remove'](_0x301b48){var _0x1c2ee3,_0x538703;if(!this['_assets']['has'](_0x301b48))return!(-0x3*0x22b+-0xdfe+0x1480);if(this['_assets']['delete'](_0x301b48),this['_idToAsset']['delete'](_0x301b48['id']),(_0x1c2ee3=_0x301b48['file'])!=null&&_0x1c2ee3['url']&&this['_urlToAsse'+'t']['delete'](_0x301b48['file']['url']),_0x301b48['off']('name',this['_onNameCha'+'nge'],this),this['_nameToAss'+'et']['has'](_0x301b48['name'])){const _0x35e37e=this['_nameToAss'+'et']['get'](_0x301b48['name']);_0x35e37e['delete'](_0x301b48),_0x35e37e['size']===0xe0b+0x16d5+-0x76*0x50&&this['_nameToAss'+'et']['delete'](_0x301b48['name']);}return this['_tags']['removeItem'](_0x301b48),_0x301b48['tags']['off']('add',this['_onTagAdd'],this),_0x301b48['tags']['off']('remove',this['_onTagRemo'+'ve'],this),_0x301b48['fire']('remove',_0x301b48),this['fire']('remove',_0x301b48),this['fire']('remove:'+_0x301b48['id'],_0x301b48),(_0x538703=_0x301b48['file'])!=null&&_0x538703['url']&&this['fire']('remove:url'+':'+_0x301b48['file']['url'],_0x301b48),!(-0x122f*-0x1+0x897*0x2+-0x235d);}['get'](_0x4f6ff3){return this['_idToAsset']['get'](Number(_0x4f6ff3));}['getByUrl'](_0x2cdf83){return this['_urlToAsse'+'t']['get'](_0x2cdf83);}['load'](_0x5cc6af,_0x43fec5){if((_0x5cc6af['loading']||_0x5cc6af['loaded'])&&!(_0x43fec5!=null&&_0x43fec5['force']))return;const _0x3c8354=_0x5cc6af['file'],_0x5189e5=()=>{this['fire']('load',_0x5cc6af),this['fire']('load:'+_0x5cc6af['id'],_0x5cc6af),_0x3c8354&&_0x3c8354['url']&&this['fire']('load:url:'+_0x3c8354['url'],_0x5cc6af),_0x5cc6af['fire']('load',_0x5cc6af);},_0x4d8499=_0x56dd53=>{if(_0x56dd53 instanceof Array?_0x5cc6af['resources']=_0x56dd53:_0x5cc6af['resource']=_0x56dd53,this['_loader']['patch'](_0x5cc6af,this),_0x5cc6af['type']==='bundle'){const _0xc40484=_0x5cc6af['data']['assets'];for(let _0x17196e=-0xd9d+0x3a*-0x53+0x1*0x206b;_0x17196e<_0xc40484['length'];_0x17196e++){const _0x7e5bed=this['_idToAsset']['get'](_0xc40484[_0x17196e]);_0x7e5bed&&!_0x7e5bed['loaded']&&this['load'](_0x7e5bed,{'force':!(0x1*-0x64d+-0x117b+0x17c8)});}_0x5cc6af['resource']['loaded']?_0x5189e5():(this['fire']('load:start',_0x5cc6af),this['fire']('load:start'+':'+_0x5cc6af['id'],_0x5cc6af),_0x3c8354&&_0x3c8354['url']&&this['fire']('load:start'+':url:'+_0x3c8354['url'],_0x5cc6af),_0x5cc6af['fire']('load:start',_0x5cc6af),_0x5cc6af['resource']['on']('load',_0x5189e5));}else _0x5189e5();},_0x519d49=(_0x562135,_0x54889f,_0x240863)=>{if(_0x5cc6af['loaded']=!(0xc*0x4+-0x1654+0x4*0x589),_0x5cc6af['loading']=!(0x1f2a+0x309+0x3*-0xb66),_0x562135)this['fire']('error',_0x562135,_0x5cc6af),this['fire']('error:'+_0x5cc6af['id'],_0x562135,_0x5cc6af),_0x5cc6af['fire']('error',_0x562135,_0x5cc6af);else{if(_0x5cc6af['type']==='script'){const _0x5b3cdd=this['_loader']['getHandler']('script');_0x5b3cdd['_cache'][_0x5cc6af['id']]&&_0x5b3cdd['_cache'][_0x5cc6af['id']]['parentNode']===document['head']&&document['head']['removeChil'+'d'](_0x5b3cdd['_cache'][_0x5cc6af['id']]),_0x5b3cdd['_cache'][_0x5cc6af['id']]=_0x240863;}_0x4d8499(_0x54889f);}};if(_0x3c8354||_0x5cc6af['type']==='cubemap'){this['fire']('load:start',_0x5cc6af),this['fire']('load:'+_0x5cc6af['id']+':start',_0x5cc6af),_0x5cc6af['loading']=!(-0x203d+-0x113b+-0x1*-0x3178);const _0x39b281=_0x5cc6af['getFileUrl']();if(_0x5cc6af['type']==='bundle'){const _0x20d5e3=_0x5cc6af['data']['assets'];for(let _0x5502a5=-0x165c+0x17*-0x1a6+0x3c46;_0x5502a5<_0x20d5e3['length'];_0x5502a5++){const _0x489df4=this['_idToAsset']['get'](_0x20d5e3[_0x5502a5]);_0x489df4&&(_0x489df4['loaded']||_0x489df4['resource']||_0x489df4['loading']||(_0x489df4['loading']=!(0x1f4b+-0x1*0x23c9+-0x32*-0x17)));}}this['_loader']['load'](_0x39b281,_0x5cc6af['type'],_0x519d49,_0x5cc6af,_0x43fec5);}else{const _0x3bfacd=this['_loader']['open'](_0x5cc6af['type'],_0x5cc6af['data']);_0x5cc6af['loaded']=!(0x4c0+-0xd43+-0x1*-0x883),_0x4d8499(_0x3bfacd);}}['reloadInde'+'x'](_0x3230ef,_0x81c258,_0x1e52cd){const _0x403339=(_0x8f9cfa,_0x31cca8,_0x44741f)=>{_0x81c258['loaded']=!(0x67b*0x6+-0x215+-0x24cd),_0x81c258['loading']=!(0x1a*0x151+0x29*0xb8+-0x3*0x153b);};return this['_loader']['load'](_0x3230ef,_0x81c258['type'],_0x403339,_0x81c258,_0x1e52cd),_0x81c258;}['loadFromUr'+'l'](_0x5ae117,_0x7f7f17,_0x351570){this['loadFromUr'+'lAndFilena'+'me'](_0x5ae117,null,_0x7f7f17,_0x351570);}['loadFromUr'+'lAndFilena'+'me'](_0x238c0f,_0x57ef49,_0x126835,_0x19198d){const _0x4331fe=xe['getBasenam'+'e'](_0x57ef49||_0x238c0f),_0x52afb3={'filename':_0x57ef49||_0x4331fe,'url':_0x238c0f};let _0x147122=this['getByUrl'](_0x238c0f);if(!_0x147122)_0x147122=new pe(_0x4331fe,_0x126835,_0x52afb3),this['add'](_0x147122);else{if(_0x147122['loaded']){_0x19198d(_0x147122['loadFromUr'+'lError']||null,_0x147122);return;}}const _0x182106=_0x23b710=>{_0x23b710['once']('load',_0x50f24b=>{_0x126835==='material'?this['_loadTextu'+'res'](_0x50f24b,(_0x12cb76,_0x4c5832)=>{_0x19198d(_0x12cb76,_0x50f24b);}):_0x19198d(null,_0x50f24b);}),_0x23b710['once']('error',_0x6c4aa2=>{_0x6c4aa2&&(this['loadFromUr'+'lError']=_0x6c4aa2),_0x19198d(_0x6c4aa2,_0x23b710);}),this['load'](_0x23b710);};_0x147122['resource']?_0x19198d(null,_0x147122):_0x126835==='model'?this['_loadModel'](_0x147122,_0x182106):_0x182106(_0x147122);}['_loadModel'](_0x5eb306,_0x4b9d05){const _0x3ca1f3=_0x5eb306['getFileUrl'](),_0x35127b=xe['getExtensi'+'on'](_0x3ca1f3);if(_0x35127b==='.json'||_0x35127b==='.glb'){const _0x41de3f=xe['getDirecto'+'ry'](_0x3ca1f3),_0xe8c7b1=xe['getBasenam'+'e'](_0x3ca1f3),_0x169498=xe['join'](_0x41de3f,_0xe8c7b1['replace'](_0x35127b,'.mapping.j'+'son'));this['_loader']['load'](_0x169498,'json',(_0xef9b1f,_0x18c35c)=>{_0xef9b1f?(_0x5eb306['data']={'mapping':[]},_0x4b9d05(_0x5eb306)):this['_loadMater'+'ials'](_0x5eb306,_0x18c35c,(_0x338f52,_0x872d95)=>{_0x5eb306['data']=_0x18c35c,_0x4b9d05(_0x5eb306);});});}else _0x4b9d05(_0x5eb306);}['_loadMater'+'ials'](_0x4aefb8,_0x250454,_0x18a124){const _0x367fcf=[];let _0x6a093=-0x1087+-0x5af+0x1636;const _0x2c1937=(_0xf56e4f,_0x4bcfe4)=>{this['_loadTextu'+'res'](_0x4bcfe4,(_0x18ee3,_0xa7122c)=>{_0x367fcf['push'](_0x4bcfe4),_0x367fcf['length']===_0x6a093&&_0x18a124(null,_0x367fcf);});};for(let _0x2b8ace=-0x2591+0x2bc+0x22d5;_0x2b8ace<_0x250454['mapping']['length'];_0x2b8ace++){const _0x4bc071=_0x250454['mapping'][_0x2b8ace]['path'];if(_0x4bc071){_0x6a093++;const _0x357c71=_0x4aefb8['getAbsolut'+'eUrl'](_0x4bc071);this['loadFromUr'+'l'](_0x357c71,'material',_0x2c1937);}}_0x6a093===-0x2*0x79d+-0x116*0x1e+0x2fce&&_0x18a124(null,_0x367fcf);}['_loadTextu'+'res'](_0x59e471,_0x349d05){const _0x1a03ca=[];let _0xac12f7=-0x1*-0x266e+0x1*0x26a2+-0x4d10;const _0x125d16=_0x59e471['data'];if(_0x125d16['mappingFor'+'mat']!=='path'){w['warn']('Skipping:\x20'+_0x59e471['name']+(',\x20material'+'\x20files\x20mus'+'t\x20be\x20mappi'+'ngFormat:\x20'+'\x22path\x22\x20to\x20'+'be\x20loaded\x20'+'from\x20URL')),_0x349d05(null,_0x1a03ca);return;}const _0x40e46e=(_0x499de8,_0x2d7bb1)=>{_0x499de8&&console['error'](_0x499de8),_0x1a03ca['push'](_0x2d7bb1),_0x1a03ca['length']===_0xac12f7&&_0x349d05(null,_0x1a03ca);},_0x5085c0=Cd;for(let _0x143f2c=0x1945+-0x65*-0x25+0xd4a*-0x3;_0x143f2c<_0x5085c0['length'];_0x143f2c++){const _0xb5d28d=_0x125d16[_0x5085c0[_0x143f2c]];if(_0xb5d28d&&typeof _0xb5d28d=='string'){_0xac12f7++;const _0x430861=_0x59e471['getAbsolut'+'eUrl'](_0xb5d28d);this['loadFromUr'+'l'](_0x430861,'texture',_0x40e46e);}}_0xac12f7===0xeda*0x1+0x1*0x1bbf+-0xf*0x2d7&&_0x349d05(null,_0x1a03ca);}['_onTagAdd'](_0x501d51,_0x98d192){this['_tags']['add'](_0x501d51,_0x98d192);}['_onTagRemo'+'ve'](_0x379a5e,_0x2484ab){this['_tags']['remove'](_0x379a5e,_0x2484ab);}['_onNameCha'+'nge'](_0x19fc9c,_0x38880b,_0x17414){if(this['_nameToAss'+'et']['has'](_0x17414)){const _0x15b543=this['_nameToAss'+'et']['get'](_0x17414);_0x15b543['delete'](_0x19fc9c),_0x15b543['size']===-0x374+-0x2*0x4b1+0xcd6&&this['_nameToAss'+'et']['delete'](_0x17414);}this['_nameToAss'+'et']['has'](_0x19fc9c['name'])||this['_nameToAss'+'et']['set'](_0x19fc9c['name'],new Set()),this['_nameToAss'+'et']['get'](_0x19fc9c['name'])['add'](_0x19fc9c);}['findByTag'](..._0x5c7189){return this['_tags']['find'](_0x5c7189);}['filter'](_0x49ad9d){return Array['from'](this['_assets'])['filter'](_0x4d188f=>_0x49ad9d(_0x4d188f));}['find'](_0x52a967,_0x2b7c6f){const _0x93b729=this['_nameToAss'+'et']['get'](_0x52a967);if(!_0x93b729)return null;for(const _0x232b65 of _0x93b729)if(!_0x2b7c6f||_0x232b65['type']===_0x2b7c6f)return _0x232b65;return null;}['findAll'](_0x24c9c2,_0x445766){const _0x5bf6d9=this['_nameToAss'+'et']['get'](_0x24c9c2);if(!_0x5bf6d9)return[];const _0x1d43f1=Array['from'](_0x5bf6d9);return _0x445766?_0x1d43f1['filter'](_0x1d3287=>_0x1d3287['type']===_0x445766):_0x1d43f1;}}h(mn,'EVENT_LOAD','load'),h(mn,'EVENT_ADD','add'),h(mn,'EVENT_REMO'+'VE','remove'),h(mn,'EVENT_ERRO'+'R','error');class UC{constructor(_0x23abf8){h(this,'_idToBundl'+'e',new Map()),h(this,'_assetToBu'+'ndles',new Map()),h(this,'_urlsToBun'+'dles',new Map()),h(this,'_fileReque'+'sts',new Map()),(this['_assets']=_0x23abf8,this['_assets']['bundles']=this,this['_assets']['on']('add',this['_onAssetAd'+'d'],this),this['_assets']['on']('remove',this['_onAssetRe'+'move'],this));}['_onAssetAd'+'d'](_0x3263c0){if(_0x3263c0['type']==='bundle'){this['_idToBundl'+'e']['set'](_0x3263c0['id'],_0x3263c0),this['_assets']['on']('load:start'+':'+_0x3263c0['id'],this['_onBundleL'+'oadStart'],this),this['_assets']['on']('load:'+_0x3263c0['id'],this['_onBundleL'+'oad'],this),this['_assets']['on']('error:'+_0x3263c0['id'],this['_onBundleE'+'rror'],this);const _0x3693b2=_0x3263c0['data']['assets'];for(let _0x21f73a=-0x582+-0x7cc+0xd4e;_0x21f73a<_0x3693b2['length'];_0x21f73a++)this['_indexAsse'+'tInBundle'](_0x3693b2[_0x21f73a],_0x3263c0);}else this['_assetToBu'+'ndles']['has'](_0x3263c0['id'])&&this['_indexAsse'+'tFileUrls'](_0x3263c0);}['_unbindAss'+'etEvents'](_0x34a218){this['_assets']['off']('load:start'+':'+_0x34a218,this['_onBundleL'+'oadStart'],this),this['_assets']['off']('load:'+_0x34a218,this['_onBundleL'+'oad'],this),this['_assets']['off']('error:'+_0x34a218,this['_onBundleE'+'rror'],this);}['_indexAsse'+'tInBundle'](_0x54e592,_0x4e9257){let _0x1bbd62=this['_assetToBu'+'ndles']['get'](_0x54e592);_0x1bbd62||(_0x1bbd62=new Set(),this['_assetToBu'+'ndles']['set'](_0x54e592,_0x1bbd62)),_0x1bbd62['add'](_0x4e9257);const _0x385d9c=this['_assets']['get'](_0x54e592);_0x385d9c&&this['_indexAsse'+'tFileUrls'](_0x385d9c);}['_indexAsse'+'tFileUrls'](_0x145587){const _0x385e5a=this['_getAssetF'+'ileUrls'](_0x145587);if(_0x385e5a)for(let _0x5364bd=0x2588+-0x1cef+-0x899;_0x5364bd<_0x385e5a['length'];_0x5364bd++){const _0x3b01de=this['_assetToBu'+'ndles']['get'](_0x145587['id']);_0x3b01de&&this['_urlsToBun'+'dles']['set'](_0x385e5a[_0x5364bd],_0x3b01de);}}['_getAssetF'+'ileUrls'](_0x378776){let _0x3119cc=_0x378776['getFileUrl']();if(!_0x3119cc)return null;_0x3119cc=_0x3119cc['split']('?')[0x1a30+-0x13da+-0x656];const _0x5054e3=[_0x3119cc];if(_0x378776['type']==='font'){const _0x82a82=_0x378776['data']['info']['maps']['length'];for(let _0x3399ea=0x1d*0x10c+0x1525*-0x1+-0x936;_0x3399ea<_0x82a82;_0x3399ea++)_0x5054e3['push'](_0x3119cc['replace']('.png',_0x3399ea+'.png'));}return _0x5054e3;}['_onAssetRe'+'move'](_0x1e37b0){if(_0x1e37b0['type']==='bundle'){this['_idToBundl'+'e']['delete'](_0x1e37b0['id']),this['_unbindAss'+'etEvents'](_0x1e37b0['id']);const _0x59f639=_0x1e37b0['data']['assets'];for(let _0x5bf526=-0x1117+0x1*-0x1193+0x22*0x105;_0x5bf526<_0x59f639['length'];_0x5bf526++){const _0x25055d=this['_assetToBu'+'ndles']['get'](_0x59f639[_0x5bf526]);if(_0x25055d&&(_0x25055d['delete'](_0x1e37b0),_0x25055d['size']===-0x1bfd+0x17*-0xb7+0x2c6e)){this['_assetToBu'+'ndles']['delete'](_0x59f639[_0x5bf526]);for(const [_0x112fd7,_0x587433]of this['_urlsToBun'+'dles'])_0x587433===_0x25055d&&this['_urlsToBun'+'dles']['delete'](_0x112fd7);}}this['_onBundleE'+'rror']('Bundle\x20'+_0x1e37b0['id']+('\x20was\x20remov'+'ed'));}else{if(!this['_assetToBu'+'ndles']['get'](_0x1e37b0['id']))return;this['_assetToBu'+'ndles']['delete'](_0x1e37b0['id']);const _0xd504b8=this['_getAssetF'+'ileUrls'](_0x1e37b0);if(!_0xd504b8)return;for(let _0x5dbea0=-0xcf7+-0x12f6+0x1fed;_0x5dbea0<_0xd504b8['length'];_0x5dbea0++)this['_urlsToBun'+'dles']['delete'](_0xd504b8[_0x5dbea0]);}}['_onBundleL'+'oadStart'](_0xbf0faa){_0xbf0faa['resource']['on']('add',(_0x2df9fc,_0x527bbc)=>{const _0x340488=this['_fileReque'+'sts']['get'](_0x2df9fc);if(_0x340488){for(let _0x49015d=0x2*0xd67+0x8*0x1c6+-0x28fe;_0x49015d<_0x340488['length'];_0x49015d++)_0x340488[_0x49015d](null,_0x527bbc);this['_fileReque'+'sts']['delete'](_0x2df9fc);}});}['_onBundleL'+'oad'](_0x4e1a07){if(!_0x4e1a07['resource']){this['_onBundleE'+'rror']('Bundle\x20'+_0x4e1a07['id']+('\x20failed\x20to'+'\x20load'));return;}if(this['_fileReque'+'sts'])for(const [_0x418d7e,_0x5971e3]of this['_fileReque'+'sts']){const _0x458cb0=this['_urlsToBun'+'dles']['get'](_0x418d7e);if(!_0x458cb0||!_0x458cb0['has'](_0x4e1a07))continue;const _0x47ccd5=decodeURIComponent(_0x418d7e);let _0x223c57,_0x1d9eea;if(_0x4e1a07['resource']['has'](_0x47ccd5))_0x1d9eea=_0x4e1a07['resource']['get'](_0x47ccd5);else{if(_0x4e1a07['resource']['loaded'])_0x223c57='Bundle\x20'+_0x4e1a07['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x418d7e;else continue;}for(let _0x1aae75=-0x1115*0x1+0xd*-0x14c+0x21f1;_0x1aae75<_0x5971e3['length'];_0x1aae75++)_0x5971e3[_0x1aae75](_0x223c57,_0x223c57||_0x1d9eea);this['_fileReque'+'sts']['delete'](_0x418d7e);}}['_onBundleE'+'rror'](_0x2ad8ef){for(const [_0x393fb0,_0x1b19d0]of this['_fileReque'+'sts'])if(!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x393fb0)){for(let _0x410144=-0x182*-0x14+0x2079+-0x3ea1;_0x410144<_0x1b19d0['length'];_0x410144++)_0x1b19d0[_0x410144](_0x2ad8ef);this['_fileReque'+'sts']['delete'](_0x393fb0);}}['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x1697d5){const _0xe6612=this['_urlsToBun'+'dles']['get'](_0x1697d5);if(!_0xe6612)return null;let _0x3ed911=null;for(const _0x7d5ee2 of _0xe6612){if(_0x7d5ee2['loaded']&&_0x7d5ee2['resource'])return _0x7d5ee2;_0x7d5ee2['loading']&&(_0x3ed911=_0x7d5ee2);}return _0x3ed911;}['listBundle'+'sForAsset'](_0x52224c){const _0x3d1266=this['_assetToBu'+'ndles']['get'](_0x52224c['id']);return _0x3d1266?Array['from'](_0x3d1266):null;}['list'](){return Array['from'](this['_idToBundl'+'e']['values']());}['hasUrl'](_0x4e206a){return this['_urlsToBun'+'dles']['has'](_0x4e206a);}['urlIsLoade'+'dOrLoading'](_0x5c515c){return!!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x5c515c);}['loadUrl'](_0x51066a,_0x178f20){const _0x149917=this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x51066a);if(!_0x149917){_0x178f20('URL\x20'+_0x51066a+('\x20not\x20found'+'\x20in\x20any\x20bu'+'ndles'));return;}if(_0x149917['loaded']){const _0x10934d=decodeURIComponent(_0x51066a);if(_0x149917['resource']['has'](_0x10934d)){_0x178f20(null,_0x149917['resource']['get'](_0x10934d));return;}else{if(_0x149917['resource']['loaded']){_0x178f20('Bundle\x20'+_0x149917['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x51066a);return;}}}let _0x4b73c5=this['_fileReque'+'sts']['get'](_0x51066a);_0x4b73c5||(_0x4b73c5=[],this['_fileReque'+'sts']['set'](_0x51066a,_0x4b73c5)),_0x4b73c5['push'](_0x178f20);}['destroy'](){this['_assets']['off']('add',this['_onAssetAd'+'d'],this),this['_assets']['off']('remove',this['_onAssetRe'+'move'],this);for(const _0xf49d98 of this['_idToBundl'+'e']['keys']())this['_unbindAss'+'etEvents'](_0xf49d98);this['_assets']=null,this['_idToBundl'+'e']['clear'](),this['_idToBundl'+'e']=null,this['_assetToBu'+'ndles']['clear'](),this['_assetToBu'+'ndles']=null,this['_urlsToBun'+'dles']['clear'](),this['_urlsToBun'+'dles']=null,this['_fileReque'+'sts']['clear'](),this['_fileReque'+'sts']=null;}}class BC extends me{constructor(){super(),h(this,'anim'),h(this,'animation'),h(this,'audioliste'+'ner'),h(this,'button'),h(this,'camera'),h(this,'collision'),h(this,'element'),h(this,'joint'),h(this,'layoutchil'+'d'),h(this,'layoutgrou'+'p'),h(this,'light'),h(this,'model'),h(this,'particlesy'+'stem'),h(this,'render'),h(this,'rigidbody'),h(this,'screen'),h(this,'script'),h(this,'scrollbar'),h(this,'scrollview'),h(this,'sound'),h(this,'sprite'),h(this,'zone'),this['list']=[];}['add'](_0xe4d7b6){const _0x1523ad=_0xe4d7b6['id'];if(this[_0x1523ad])throw new Error('ComponentS'+'ystem\x20name'+'\x20\x27'+_0x1523ad+('\x27\x20already\x20'+'registered'+'\x20or\x20not\x20al'+'lowed'));this[_0x1523ad]=_0xe4d7b6,this['list']['push'](_0xe4d7b6);}['remove'](_0x4eb5d6){const _0x118146=_0x4eb5d6['id'];if(!this[_0x118146])throw new Error('No\x20Compone'+'ntSystem\x20n'+'amed\x20\x27'+_0x118146+('\x27\x20register'+'ed'));delete this[_0x118146];const _0x309e34=this['list']['indexOf'](this[_0x118146]);_0x309e34!==-(0x2*-0xa06+-0x1707+0x2b14)&&this['list']['splice'](_0x309e34,0x1*-0x265+-0x14df*0x1+0x1745);}['destroy'](){this['off']();for(let _0x51977d=-0x2353*-0x1+0xef0+-0x10c1*0x3;_0x51977d<this['list']['length'];_0x51977d++)this['list'][_0x51977d]['destroy']();}}class gu extends me{constructor(){super(...arguments),h(this,'_index',new Map()),h(this,'_loaded',!(-0x26c6+-0x99a*0x4+0x1*0x4d2f));}['addFile'](_0x9a1466,_0x5adb13){this['_index']['has'](_0x9a1466)||(this['_index']['set'](_0x9a1466,_0x5adb13),this['fire']('add',_0x9a1466,_0x5adb13));}['has'](_0x3a025f){return this['_index']['has'](_0x3a025f);}['get'](_0x127d79){return this['_index']['get'](_0x127d79)||null;}['destroy'](){this['_index']['clear']();}set['loaded'](_0x43f1ad){!_0x43f1ad||this['_loaded']||(this['_loaded']=!(-0x1aaa+-0x1*-0xf7b+0xb2f),this['fire']('load'));}get['loaded'](){return this['_loaded'];}}h(gu,'EVENT_ADD','add'),h(gu,'EVENT_LOAD','load');class zC extends me{constructor(_0x43d7c0,_0x49a842=''){super(),h(this,'headerSize',0x39+0x1cd4+-0x1b0d*0x1),h(this,'paddingSiz'+'e',0x129d+-0xc4a+0x29*-0x1b),h(this,'bytesRead',-0x264+-0x3e7*-0x9+-0x1*0x20bb),h(this,'bytesRecei'+'ved',0x25*0x92+-0x2*-0x799+0x1226*-0x2),h(this,'headerRead',!(0x9d*0x17+-0x2*0x104b+0x1a*0xb6)),h(this,'reader',null),h(this,'data',new Uint8Array(0xa2e+0x4fe+-0x1*0xf2c)),h(this,'decoder',null),h(this,'prefix',''),h(this,'fileName',''),h(this,'fileSize',-0x208c+0x135+0x1*0x1f57),h(this,'fileType',''),h(this,'ustarForma'+'t',''),(this['prefix']=_0x49a842||'',this['reader']=_0x43d7c0['body']['getReader'](),this['reader']['read']()['then'](_0x37c6c0=>{this['pump'](_0x37c6c0['done'],_0x37c6c0['value']);})['catch'](_0x2b1781=>{this['fire']('error',_0x2b1781);}));}['pump'](_0xc1ea9a,_0x564c85){if(_0xc1ea9a)return this['fire']('done'),null;this['bytesRecei'+'ved']+=_0x564c85['byteLength'];const _0x4a884b=new Uint8Array(this['data']['length']+_0x564c85['length']);for(_0x4a884b['set'](this['data']),_0x4a884b['set'](_0x564c85,this['data']['length']),this['data']=_0x4a884b;this['readFile'](););return this['reader']['read']()['then'](_0x16439a=>{this['pump'](_0x16439a['done'],_0x16439a['value']);})['catch'](_0x30748a=>{this['fire']('error',_0x30748a);});}['readFile'](){if(!this['headerRead']&&this['bytesRecei'+'ved']>this['bytesRead']+this['headerSize']){this['headerRead']=!(0x7*-0x33b+0x1024*0x1+0x679);const _0x3090e4=new DataView(this['data']['buffer'],this['bytesRead'],this['headerSize']);this['decoder']??(this['decoder']=new TextDecoder('windows-12'+'52'));const _0x9204d2=this['decoder']['decode'](_0x3090e4);if(this['fileName']=_0x9204d2['substring'](-0x45d+-0x1*0x267+-0x362*-0x2,-0x1249+0x4a0*-0x6+0x2e6d)['replace'](/\0/g,''),this['fileSize']=parseInt(_0x9204d2['substring'](0x1*0xea5+0x161*-0xf+-0x686*-0x1,0x15a*-0x8+0x13a6+-0x84e*0x1),-0xbb1+0x153+0x2*0x533),this['fileType']=_0x9204d2['substring'](0x529*0x6+0x1*0x16e5+-0x353f,-0x44a+-0x142*-0xe+-0xcb5*0x1),this['ustarForma'+'t']=_0x9204d2['substring'](0x1c*-0x15b+0x7b6+0x1f3f,-0x1914+-0x846*0x1+0xd*0x2a5),this['ustarForma'+'t']['indexOf']('ustar')!==-(0x6*-0x66+-0x3*0x525+0x11d4*0x1)){const _0x22375a=_0x9204d2['substring'](-0x1742*0x1+-0x16*-0x97+0xba1,-0x502+-0x16c8+-0xa2*-0x2f)['replace'](/\0/g,'');_0x22375a['length']>0x2071+-0x196+-0x1edb&&(this['fileName']=_0x22375a['trim']()+this['fileName']['trim']());}this['bytesRead']+=-0x23a7+0x4*0x8b+0x237b;}if(this['headerRead']){if(this['bytesRecei'+'ved']<this['bytesRead']+this['fileSize'])return!(-0x17a+0x2419+0xe*-0x279);if(this['fileType']===''||this['fileType']==='0'){const _0x4df37e=new DataView(this['data']['buffer'],this['bytesRead'],this['fileSize']),_0x3c3e11={'name':this['prefix']+this['fileName'],'size':this['fileSize'],'data':_0x4df37e};this['fire']('file',_0x3c3e11);}this['bytesRead']+=this['fileSize'],this['headerRead']=!(0x3f*0x93+0xf39+-0x3365);const _0x57a87c=this['bytesRead']%this['paddingSiz'+'e'];return _0x57a87c!==0x23*0x7f+0x723+-0x1880&&(this['bytesRead']+=this['paddingSiz'+'e']-_0x57a87c),!(0x26+-0x260+0x23a);}return!(0x3*-0xc6d+0x2bb*-0x2+0x2*0x155f);}}class Qe{constructor(_0xc0c93a,_0x4a6323){h(this,'handlerTyp'+'e',''),h(this,'_app'),h(this,'_maxRetrie'+'s',-0x1fc8+0x17a5+-0x823*-0x1),(this['_app']=_0xc0c93a,this['handlerTyp'+'e']=_0x4a6323);}set['maxRetries'](_0x4476e8){this['_maxRetrie'+'s']=_0x4476e8;}get['maxRetries'](){return this['_maxRetrie'+'s'];}['load'](_0x37d0ae,_0x3073a9,_0xec8daf){}['open'](_0x5cddf0,_0x31881e,_0x5e1357){return _0x31881e;}['patch'](_0x380f7f,_0x49249e){}}class VC extends Qe{constructor(_0x47f872){super(_0x47f872,'bundle'),this['_assets']=_0x47f872['assets'];}['_fetchRetr'+'ies'](_0x17fd95,_0x169d6f,_0x1134fc=0x104c+0x1437+0x1*-0x2483){return new Promise((_0x1a45e6,_0x5e8b2e)=>{const _0x13b98f=()=>{fetch(_0x17fd95,_0x169d6f)['then'](_0x1a45e6)['catch'](_0x5483fa=>{_0x1134fc++,_0x1134fc<this['maxRetries']?(w['error']('Bundle\x20fai'+'led\x20to\x20loa'+'d\x20retrying'+'\x20(attempt\x20'+_0x1134fc),_0x13b98f()):_0x5e8b2e(_0x5483fa);});};_0x13b98f();});}['load'](_0x2413a5,_0x52fbcc){typeof _0x2413a5=='string'&&(_0x2413a5={'load':_0x2413a5,'original':_0x2413a5}),this['_fetchRetr'+'ies'](_0x2413a5['load'],{'mode':'cors'},this['maxRetries'])['then'](_0x55d81c=>{const _0x269f2b=new gu();_0x52fbcc(null,_0x269f2b);const _0x46ac0e=new zC(_0x55d81c,this['_assets']['prefix']);_0x46ac0e['on']('file',_0x450a24=>{_0x269f2b['addFile'](_0x450a24['name'],_0x450a24['data']);}),_0x46ac0e['on']('done',()=>{_0x269f2b['loaded']=!(-0x2175+0x2585+-0x410);}),_0x46ac0e['on']('error',_0x166075=>{w['error'](_0x166075),_0x52fbcc(_0x166075);});})['catch'](_0x19cada=>{w['error'](_0x19cada),_0x52fbcc(_0x19cada);});}['open'](_0x3241ca,_0x142ea5){return _0x142ea5;}}class Cn{constructor(_0x4f7665){this['_handlers']={},this['_requests']={},this['_cache']={},this['_app']=_0x4f7665;}['addHandler'](_0x1aa6df,_0x21ad19){this['_handlers'][_0x1aa6df]=_0x21ad19,_0x21ad19['_loader']=this;}['removeHand'+'ler'](_0x4040af){delete this['_handlers'][_0x4040af];}['getHandler'](_0x29730a){return this['_handlers'][_0x29730a];}static['makeKey'](_0x1ed6d6,_0x254025){return _0x1ed6d6+'-'+_0x254025;}['load'](_0x1a2945,_0x114506,_0x2fa18d,_0x9cfc7e,_0x678add){var _0x597aa0;const _0x205646=this['_handlers'][_0x114506];if(!_0x205646){const _0x4bec94='No\x20resourc'+'e\x20handler\x20'+'for\x20asset\x20'+'type:\x20\x27'+_0x114506+('\x27\x20when\x20loa'+'ding\x20[')+_0x1a2945+']';w['errorOnce'](_0x4bec94),_0x2fa18d(_0x4bec94);return;}if(!_0x1a2945){this['_loadNull'](_0x205646,_0x2fa18d,_0x9cfc7e);return;}const _0x5308a6=Cn['makeKey'](_0x1a2945,_0x114506);if(this['_requests'][_0x5308a6])this['_requests'][_0x5308a6]['push'](_0x2fa18d);else{this['_requests'][_0x5308a6]=[_0x2fa18d];const _0x1728d4=this,_0x2b0c5d=function(_0x4d9ae8,_0x4c2b41){if(_0x4d9ae8){_0x1728d4['_onFailure'](_0x5308a6,_0x4d9ae8);return;}if(_0x4c2b41['load']instanceof DataView){if(_0x205646['openBinary']){if(!_0x1728d4['_requests'][_0x5308a6])return;try{const _0x3f8db0=_0x205646['openBinary'](_0x4c2b41['load']);_0x1728d4['_onSuccess'](_0x5308a6,_0x3f8db0);}catch(_0x43aafb){_0x1728d4['_onFailure'](_0x5308a6,_0x43aafb);}return;}_0x4c2b41['load']=URL['createObje'+'ctURL'](new Blob([_0x4c2b41['load']])),_0x9cfc7e&&(_0x9cfc7e['urlObject']&&URL['revokeObje'+'ctURL'](_0x9cfc7e['urlObject']),_0x9cfc7e['urlObject']=_0x4c2b41['load']);}_0x205646['load'](_0x4c2b41,(_0x41fc6c,_0x34d5b0,_0x52659f)=>{if(_0x1728d4['_requests'][_0x5308a6]){if(_0x41fc6c){_0x1728d4['_onFailure'](_0x5308a6,_0x41fc6c);return;}try{_0x1728d4['_onSuccess'](_0x5308a6,_0x205646['open'](_0x4c2b41['original'],_0x34d5b0,_0x9cfc7e),_0x52659f);}catch(_0x2ec370){_0x1728d4['_onFailure'](_0x5308a6,_0x2ec370);}}},_0x9cfc7e);},_0x5283c8=_0x1a2945['split']('?')[-0x1df4+-0x109e*0x1+0x2e92*0x1];if(this['_app']['enableBund'+'les']&&this['_app']['bundles']['hasUrl'](_0x5283c8)&&!(_0x678add&&_0x678add['bundlesIgn'+'ore'])){if(!this['_app']['bundles']['urlIsLoade'+'dOrLoading'](_0x5283c8)){const _0x22c258=this['_app']['bundles']['listBundle'+'sForAsset'](_0x9cfc7e);let _0x37eacc;_0x678add&&_0x678add['bundlesFil'+'ter']&&(_0x37eacc=_0x678add['bundlesFil'+'ter'](_0x22c258)),_0x37eacc||(_0x22c258==null||_0x22c258['sort']((_0x11ed8e,_0x44bf9a)=>_0x11ed8e['file']['size']-_0x44bf9a['file']['size']),_0x37eacc=_0x22c258==null?void(0x377*-0x1+-0x12*-0x2a+0x83):_0x22c258[-0xa49+0x2a1*-0x4+0x14cd]),_0x37eacc&&((_0x597aa0=this['_app']['assets'])==null||_0x597aa0['load'](_0x37eacc));}this['_app']['bundles']['loadUrl'](_0x5283c8,(_0x97ad2c,_0x3496a8)=>{_0x2b0c5d(_0x97ad2c,{'load':_0x3496a8,'original':_0x5283c8});});}else _0x2b0c5d(null,{'load':_0x1a2945,'original':_0x9cfc7e&&_0x9cfc7e['file']['filename']||_0x1a2945});}}['_loadNull'](_0xca9156,_0x32b04e,_0x33373d){const _0x10f866=function(_0x247027,_0x5786aa,_0x104878){if(_0x247027)_0x32b04e(_0x247027);else try{_0x32b04e(null,_0xca9156['open'](null,_0x5786aa,_0x33373d),_0x104878);}catch(_0x2c69fb){_0x32b04e(_0x2c69fb);}};_0xca9156['load'](null,_0x10f866,_0x33373d);}['_onSuccess'](_0x5c2453,_0x43b041,_0xa7a51c){for(let _0x4cd3ee=0x1dac+-0x5fb+-0x1*0x17b1;_0x4cd3ee<this['_requests'][_0x5c2453]['length'];_0x4cd3ee++)this['_requests'][_0x5c2453][_0x4cd3ee](null,_0x43b041,_0xa7a51c);delete this['_requests'][_0x5c2453];}['_onFailure'](_0x4d3534,_0x2f1ab2){if(console['error'](_0x2f1ab2),this['_requests'][_0x4d3534]){for(let _0xa666c8=0x11*0x136+0x361*-0x1+-0x1135;_0xa666c8<this['_requests'][_0x4d3534]['length'];_0xa666c8++)this['_requests'][_0x4d3534][_0xa666c8](_0x2f1ab2);delete this['_requests'][_0x4d3534];}}['open'](_0x3d1430,_0x4455c3){const _0x2831eb=this['_handlers'][_0x3d1430];return _0x2831eb?_0x2831eb['open'](null,_0x4455c3):(console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x3d1430),_0x4455c3);}['patch'](_0x45649a,_0x41254b){const _0x51b92a=this['_handlers'][_0x45649a['type']];if(!_0x51b92a){console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x45649a['type']);return;}_0x51b92a['patch']&&_0x51b92a['patch'](_0x45649a,_0x41254b);}['clearCache'](_0x35b444,_0x258d76){const _0x759e4f=Cn['makeKey'](_0x35b444,_0x258d76);delete this['_cache'][_0x759e4f];}['getFromCac'+'he'](_0x1732c9,_0x11782b){const _0x14d3a7=Cn['makeKey'](_0x1732c9,_0x11782b);if(this['_cache'][_0x14d3a7])return this['_cache'][_0x14d3a7];}['enableRetr'+'y'](_0x279cc2=0x1730+-0x11f0+-0x53b){_0x279cc2=Math['max'](-0x1477+-0xda+0x3*0x71b,_0x279cc2)||-0x4*-0x899+-0x263b+0x3d7;for(const _0x34a8a0 in this['_handlers'])this['_handlers'][_0x34a8a0]['maxRetries']=_0x279cc2;}['disableRet'+'ry'](){for(const _0x178c91 in this['_handlers'])this['_handlers'][_0x178c91]['maxRetries']=-0x19c3+0x208a+0x1*-0x6c7;}['destroyReq'+'uests'](){this['_requests']={};}['destroy'](){this['_handlers']={},this['_requests']={},this['_cache']={};}}class GC{['_validate'](_0x4e0350){if(!_0x4e0350['header'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er\x22\x20field');if(!_0x4e0350['header']['version'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er.version'+'\x22\x20field');if(_0x4e0350['header']['version']!==0x6a1+0x1*0x825+-0xec5)throw new Error('pc.I18n#ad'+'dData:\x20Inv'+'alid\x20\x22head'+'er.version'+'\x22\x20field');if(_0x4e0350['data']){if(!Array['isArray'](_0x4e0350['data']))throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta\x22\x20field\x20'+'must\x20be\x20an'+'\x20array');}else throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22data'+'\x22\x20field');for(let _0x65c191=0x1*-0x2335+0x25ca+0x295*-0x1,_0x427478=_0x4e0350['data']['length'];_0x65c191<_0x427478;_0x65c191++){const _0x296df8=_0x4e0350['data'][_0x65c191];if(!_0x296df8['info'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x65c191+('].info\x22\x20fi'+'eld'));if(!_0x296df8['info']['locale'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x65c191+('].info.loc'+'ale\x22\x20field'));if(typeof _0x296df8['info']['locale']!='string')throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta['+_0x65c191+('].info.loc'+'ale\x22\x20must\x20'+'be\x20a\x20strin'+'g'));if(!_0x296df8['messages'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x65c191+('].messages'+'\x22\x20field'));}}['parse'](_0x3644fc){return this['_validate'](_0x3644fc),_0x3644fc['data'];}}const Gh=class Gh extends me{constructor(_0x3b5404){super(),this['locale']=Ph,this['_translati'+'ons']={},this['_available'+'Langs']={},this['_app']=_0x3b5404,this['_assets']=[],this['_parser']=new GC();}set['assets'](_0x1442da){const _0x29549a={};for(let _0x11c0c2=0xd*-0x1+0x6*-0x143+0x79f,_0x5593ff=_0x1442da['length'];_0x11c0c2<_0x5593ff;_0x11c0c2++){const _0x4d6c55=_0x1442da[_0x11c0c2]instanceof pe?_0x1442da[_0x11c0c2]['id']:_0x1442da[_0x11c0c2];_0x29549a[_0x4d6c55]=!(0x1*0x217a+0x227c+-0x43f6);}let _0x709951=this['_assets']['length'];for(;_0x709951--;){const _0x40b2d9=this['_assets'][_0x709951];if(!_0x29549a[_0x40b2d9]){this['_app']['assets']['off']('add:'+_0x40b2d9,this['_onAssetAd'+'d'],this);const _0x9fdc4e=this['_app']['assets']['get'](_0x40b2d9);_0x9fdc4e&&this['_onAssetRe'+'move'](_0x9fdc4e),this['_assets']['splice'](_0x709951,0x618+0x89+-0x6a0);}}for(const _0x25cf55 in _0x29549a){const _0x24a13e=parseInt(_0x25cf55,0x3*-0xe8+-0x146a+0x172c);if(this['_assets']['indexOf'](_0x24a13e)!==-(-0x1439+0xfd0+0x46a*0x1))continue;this['_assets']['push'](_0x24a13e);const _0x29ebb5=this['_app']['assets']['get'](_0x24a13e);_0x29ebb5?this['_onAssetAd'+'d'](_0x29ebb5):this['_app']['assets']['once']('add:'+_0x24a13e,this['_onAssetAd'+'d'],this);}}get['assets'](){return this['_assets'];}set['locale'](_0xdcb10a){if(this['_locale']===_0xdcb10a)return;let _0x3599e9=Oi(_0xdcb10a);if(_0x3599e9==='in'&&(_0x3599e9='id',_0xdcb10a=LC(_0xdcb10a,_0x3599e9),this['_locale']===_0xdcb10a))return;const _0x12938b=this['_locale'];this['_locale']=_0xdcb10a,this['_lang']=_0x3599e9,this['_pluralFn']=Tf(this['_lang']),this['fire'](Gh['EVENT_CHAN'+'GE'],_0xdcb10a,_0x12938b);}get['locale'](){return this['_locale'];}static['findAvaila'+'bleLocale'](_0x185149,_0x1ec0db){return Fv(_0x185149,_0x1ec0db);}['findAvaila'+'bleLocale'](_0x41d9ac){if(this['_translati'+'ons'][_0x41d9ac])return _0x41d9ac;const _0xb3ed99=Oi(_0x41d9ac);return this['_findFallb'+'ackLocale'](_0x41d9ac,_0xb3ed99);}['getText'](_0x31f485,_0x2cdcab){let _0x130d11=_0x31f485,_0x51acf7;_0x2cdcab||(_0x2cdcab=this['_locale'],_0x51acf7=this['_lang']);let _0x3b7dce=this['_translati'+'ons'][_0x2cdcab];return _0x3b7dce||(_0x51acf7||(_0x51acf7=Oi(_0x2cdcab)),_0x2cdcab=this['_findFallb'+'ackLocale'](_0x2cdcab,_0x51acf7),_0x3b7dce=this['_translati'+'ons'][_0x2cdcab]),_0x3b7dce&&_0x3b7dce['hasOwnProp'+'erty'](_0x31f485)&&(_0x130d11=_0x3b7dce[_0x31f485],Array['isArray'](_0x130d11)&&(_0x130d11=_0x130d11[-0x2*-0x2e3+0x2373+-0x2939]),_0x130d11==null&&(_0x130d11=_0x31f485)),_0x130d11;}['getPluralT'+'ext'](_0x77d275,_0xa27af2,_0x3ca334){let _0x1c0459=_0x77d275,_0x366ee2,_0x425196;_0x3ca334?(_0x366ee2=Oi(_0x3ca334),_0x425196=Tf(_0x366ee2)):(_0x3ca334=this['_locale'],_0x366ee2=this['_lang'],_0x425196=this['_pluralFn']);let _0x1f8d49=this['_translati'+'ons'][_0x3ca334];if(_0x1f8d49||(_0x3ca334=this['_findFallb'+'ackLocale'](_0x3ca334,_0x366ee2),_0x366ee2=Oi(_0x3ca334),_0x425196=Tf(_0x366ee2),_0x1f8d49=this['_translati'+'ons'][_0x3ca334]),_0x1f8d49&&_0x1f8d49[_0x77d275]&&_0x425196){const _0x4e6e16=_0x425196(_0xa27af2);_0x1c0459=_0x1f8d49[_0x77d275][_0x4e6e16],_0x1c0459==null&&(_0x1c0459=_0x77d275);}return _0x1c0459;}['addData'](_0x6545e2){let _0x4a8098;try{_0x4a8098=this['_parser']['parse'](_0x6545e2);}catch(_0xf3f518){console['error'](_0xf3f518);return;}for(let _0x5c5142=0x9*0x2e1+-0x2*-0xacf+0x17*-0x211,_0x2ea18c=_0x4a8098['length'];_0x5c5142<_0x2ea18c;_0x5c5142++){const _0x387e10=_0x4a8098[_0x5c5142],_0x347230=_0x387e10['info']['locale'],_0x34a300=_0x387e10['messages'];if(!this['_translati'+'ons'][_0x347230]){this['_translati'+'ons'][_0x347230]={};const _0x388162=Oi(_0x347230);this['_available'+'Langs'][_0x388162]||(this['_available'+'Langs'][_0x388162]=_0x347230);}Object['assign'](this['_translati'+'ons'][_0x347230],_0x34a300),this['fire']('data:add',_0x347230,_0x34a300);}}['removeData'](_0x4f0b84){let _0x376fb2;try{_0x376fb2=this['_parser']['parse'](_0x4f0b84);}catch(_0x18f29e){console['error'](_0x18f29e);return;}for(let _0x22499=0x2b6*-0x1+-0x1753+-0xd7*-0x1f,_0x24e421=_0x376fb2['length'];_0x22499<_0x24e421;_0x22499++){const _0x45d99a=_0x376fb2[_0x22499],_0x5ae857=_0x45d99a['info']['locale'],_0x2b9a60=this['_translati'+'ons'][_0x5ae857];if(!_0x2b9a60)continue;const _0x41f83e=_0x45d99a['messages'];for(const _0x2fbdfc in _0x41f83e)delete _0x2b9a60[_0x2fbdfc];Object['keys'](_0x2b9a60)['length']===0x2*0x209+-0x5*0x50b+0x1525&&(delete this['_translati'+'ons'][_0x5ae857],delete this['_available'+'Langs'][Oi(_0x5ae857)]),this['fire']('data:remov'+'e',_0x5ae857,_0x41f83e);}}['destroy'](){this['_translati'+'ons']=null,this['_available'+'Langs']=null,this['_assets']=null,this['_parser']=null,this['off']();}['_findFallb'+'ackLocale'](_0x5873f7,_0x3ac71f){let _0xe378b0=Mh[_0x5873f7];return _0xe378b0&&this['_translati'+'ons'][_0xe378b0]||(_0xe378b0=Mh[_0x3ac71f],_0xe378b0&&this['_translati'+'ons'][_0xe378b0])||(_0xe378b0=this['_available'+'Langs'][_0x3ac71f],_0xe378b0&&this['_translati'+'ons'][_0xe378b0])?_0xe378b0:Ph;}['_onAssetAd'+'d'](_0x10f923){_0x10f923['on']('load',this['_onAssetLo'+'ad'],this),_0x10f923['on']('change',this['_onAssetCh'+'ange'],this),_0x10f923['on']('remove',this['_onAssetRe'+'move'],this),_0x10f923['on']('unload',this['_onAssetUn'+'load'],this),_0x10f923['resource']&&this['_onAssetLo'+'ad'](_0x10f923);}['_onAssetLo'+'ad'](_0x3b2937){this['addData'](_0x3b2937['resource']);}['_onAssetCh'+'ange'](_0x393ffe){_0x393ffe['resource']&&this['addData'](_0x393ffe['resource']);}['_onAssetRe'+'move'](_0x17af50){_0x17af50['off']('load',this['_onAssetLo'+'ad'],this),_0x17af50['off']('change',this['_onAssetCh'+'ange'],this),_0x17af50['off']('remove',this['_onAssetRe'+'move'],this),_0x17af50['off']('unload',this['_onAssetUn'+'load'],this),_0x17af50['resource']&&this['removeData'](_0x17af50['resource']),this['_app']['assets']['once']('add:'+_0x17af50['id'],this['_onAssetAd'+'d'],this);}['_onAssetUn'+'load'](_0x327a30){_0x327a30['resource']&&this['removeData'](_0x327a30['resource']);}};h(Gh,'EVENT_CHAN'+'GE','change');let wa=Gh;class HC extends me{constructor(_0x4b772f){super(),h(this,'_scripts',{}),h(this,'_list',[]),h(this,'_scriptSch'+'emas',new Map()),this['app']=_0x4b772f;}['destroy'](){this['app']=null,this['off']();}['addSchema'](_0x3933d9,_0x286123){_0x286123&&this['_scriptSch'+'emas']['set'](_0x3933d9,_0x286123);}['getSchema'](_0x89a589){return this['_scriptSch'+'emas']['get'](_0x89a589);}['add'](_0x15b426){const _0x294476=_0x15b426['__name'];return this['_scripts']['hasOwnProp'+'erty'](_0x294476)?(setTimeout(()=>{if(_0x15b426['prototype']['swap']){const _0x37ca7e=this['_scripts'][_0x294476],_0x140c13=this['_list']['indexOf'](_0x37ca7e);this['_list'][_0x140c13]=_0x15b426,this['_scripts'][_0x294476]=_0x15b426,this['fire']('swap',_0x294476,_0x15b426),this['fire']('swap:'+_0x294476,_0x15b426);}else console['warn']('script\x20reg'+'istry\x20alre'+'ady\x20has\x20\x27'+_0x294476+('\x27\x20script,\x20'+'define\x20\x27sw'+'ap\x27\x20method'+'\x20for\x20new\x20s'+'cript\x20type'+'\x20to\x20enable'+'\x20code\x20hot\x20'+'swapping'));}),!(-0x5b*0x46+0x1167+0x1df*0x4)):(this['_scripts'][_0x294476]=_0x15b426,this['_list']['push'](_0x15b426),this['fire']('add',_0x294476,_0x15b426),this['fire']('add:'+_0x294476,_0x15b426),setTimeout(()=>{if(!this['_scripts']['hasOwnProp'+'erty'](_0x294476)||!this['app']||!this['app']['systems']||!this['app']['systems']['script'])return;const _0x58a3c7=this['app']['systems']['script']['_component'+'s'];let _0xcabdc5;const _0x4df268=[],_0x523445=[];for(_0x58a3c7['loopIndex']=-0xd72+0x362*-0x6+0x21be;_0x58a3c7['loopIndex']<_0x58a3c7['length'];_0x58a3c7['loopIndex']++){const _0x49c978=_0x58a3c7['items'][_0x58a3c7['loopIndex']];if(_0x49c978['_scriptsIn'+'dex'][_0x294476]&&_0x49c978['_scriptsIn'+'dex'][_0x294476]['awaiting']){_0x49c978['_scriptsDa'+'ta']&&_0x49c978['_scriptsDa'+'ta'][_0x294476]&&(_0xcabdc5=_0x49c978['_scriptsDa'+'ta'][_0x294476]['attributes']);const _0x30491d=_0x49c978['create'](_0x294476,{'preloading':!(0x1*0x15cf+-0x1*0x135d+-0x1*0x272),'ind':_0x49c978['_scriptsIn'+'dex'][_0x294476]['ind'],'attributes':_0xcabdc5});_0x30491d&&_0x4df268['push'](_0x30491d);for(const _0x3ee5ff of _0x49c978['scripts'])_0x49c978['initialize'+'Attributes'](_0x3ee5ff);}}for(let _0x4448a5=0x1*0x10d1+-0x15b0+0x2b*0x1d;_0x4448a5<_0x4df268['length'];_0x4448a5++)_0x4df268[_0x4448a5]['enabled']&&(_0x4df268[_0x4448a5]['_initializ'+'ed']=!(-0x1*0x1469+-0x12f1+0x275a),_0x523445['push'](_0x4df268[_0x4448a5]),_0x4df268[_0x4448a5]['initialize']&&_0x4df268[_0x4448a5]['initialize']());for(let _0x5e83af=0x1c*-0x116+-0x21a3*-0x1+-0x33b;_0x5e83af<_0x523445['length'];_0x5e83af++)!_0x523445[_0x5e83af]['enabled']||_0x523445[_0x5e83af]['_postIniti'+'alized']||(_0x523445[_0x5e83af]['_postIniti'+'alized']=!(-0x16*0x115+-0x2529+-0x3cf7*-0x1),_0x523445[_0x5e83af]['postInitia'+'lize']&&_0x523445[_0x5e83af]['postInitia'+'lize']());}),!(-0x2394+0x2af*0x6+0x137a));}['remove'](_0x1f7b75){let _0x30b210=_0x1f7b75,_0x22903a=_0x1f7b75;if(typeof _0x22903a!='string'?_0x22903a=_0x30b210['__name']:_0x30b210=this['get'](_0x22903a),this['get'](_0x22903a)!==_0x30b210)return!(0x21*-0x77+-0x1204+0x46*0x7a);delete this['_scripts'][_0x22903a];const _0x1d0a26=this['_list']['indexOf'](_0x30b210);return this['_list']['splice'](_0x1d0a26,-0x18f8*0x1+0x113+0x13*0x142),this['fire']('remove',_0x22903a,_0x30b210),this['fire']('remove:'+_0x22903a,_0x30b210),!(0x15d*-0x17+0x1061*-0x1+0x2fbc);}['get'](_0x1f5715){return this['_scripts'][_0x1f5715]||null;}['has'](_0x136827){if(typeof _0x136827=='string')return this['_scripts']['hasOwnProp'+'erty'](_0x136827);if(!_0x136827)return!(0x64e+-0x6c7+0x7a);const _0x50b00a=_0x136827['__name'];return this['_scripts'][_0x50b00a]===_0x136827;}['list'](){return this['_list'];}}const WC=(_0x264ced,_0x4599b4)=>_0x264ced['constructo'+'r']['order']-_0x4599b4['constructo'+'r']['order'],$C=_0x4f403e=>_0x4f403e['sort'](WC),po=[],Nv=[],XC=()=>Nv['pop']()??[],Ag=_0x395f49=>{_0x395f49['length']=0x1935+-0x53*0x17+-0x11c0,Nv['push'](_0x395f49);},Hh=class Hh extends Ie{constructor(_0x5df537,_0xbe90ad=Ms()){super(_0x5df537),h(this,'anim'),h(this,'animation'),h(this,'audioliste'+'ner'),h(this,'button'),h(this,'camera'),h(this,'collision'),h(this,'element'),h(this,'gsplat'),h(this,'layoutchil'+'d'),h(this,'layoutgrou'+'p'),h(this,'light'),h(this,'model'),h(this,'particlesy'+'stem'),h(this,'render'),h(this,'rigidbody'),h(this,'screen'),h(this,'script'),h(this,'scrollbar'),h(this,'scrollview'),h(this,'sound'),h(this,'sprite'),h(this,'c',{}),h(this,'_app'),h(this,'_destroyin'+'g',!(-0x2cc*0xa+-0xda6+0x299f)),h(this,'_guid',null),h(this,'_template',!(-0x617*-0x1+0xe43+-0x1*0x1459)),(w['assert'](_0xbe90ad,'Could\x20not\x20'+'find\x20curre'+'nt\x20applica'+'tion'),this['_app']=_0xbe90ad);}['addCompone'+'nt'](_0x5ee72b,_0x30774b){const _0xb02c80=this['_app']['systems'][_0x5ee72b];return _0xb02c80?this['c'][_0x5ee72b]?(w['warn']('addCompone'+'nt:\x20Entity'+'\x20already\x20h'+'as\x20\x27'+_0x5ee72b+('\x27\x20componen'+'t')),null):_0xb02c80['addCompone'+'nt'](this,_0x30774b):(w['error']('addCompone'+'nt:\x20System'+'\x20\x27'+_0x5ee72b+('\x27\x20doesn\x27t\x20'+'exist')),null);}['removeComp'+'onent'](_0x2b49d5){const _0x3215ff=this['_app']['systems'][_0x2b49d5];if(!_0x3215ff){w['error']('removeComp'+'onent:\x20Sys'+'tem\x20\x27'+_0x2b49d5+('\x27\x20doesn\x27t\x20'+'exist'));return;}if(!this['c'][_0x2b49d5]){w['warn']('removeComp'+'onent:\x20Ent'+'ity\x20doesn\x27'+'t\x20have\x20\x27'+_0x2b49d5+('\x27\x20componen'+'t'));return;}_0x3215ff['removeComp'+'onent'](this);}['findCompon'+'ent'](_0x31b816){const _0x59d539=this['findOne'](_0x4626d6=>{var _0x536b5a;return(_0x536b5a=_0x4626d6['c'])==null?void(-0x4e8+-0x17*0x25+0x83b):_0x536b5a[_0x31b816];});return _0x59d539&&_0x59d539['c'][_0x31b816];}['findCompon'+'ents'](_0x22e468){return this['find'](_0x30965f=>{var _0x9973c6;return(_0x9973c6=_0x30965f['c'])==null?void(-0x21ef+0x1712+0x67*0x1b):_0x9973c6[_0x22e468];})['map'](_0x2716ba=>_0x2716ba['c'][_0x22e468]);}['findScript'](_0x1162d1){const _0x7606fe=this['findOne'](_0x5b1944=>{var _0x179fae,_0x3cf28e;return(_0x3cf28e=(_0x179fae=_0x5b1944['c'])==null?void(0x3*-0x461+0x1c5a+-0x5f*0x29):_0x179fae['script'])==null?void(-0x9*0xa+0x1*0x11b1+-0x1157):_0x3cf28e['has'](_0x1162d1);});return _0x7606fe==null?void(-0x18e8+0x23f8+-0xb10):_0x7606fe['c']['script']['get'](_0x1162d1);}['findScript'+'s'](_0x16f692){return this['find'](_0x9c445a=>{var _0x4ccbde,_0x1932b3;return(_0x1932b3=(_0x4ccbde=_0x9c445a['c'])==null?void(-0x186e+0x29*0x8b+0xf*0x25):_0x4ccbde['script'])==null?void(0x18*-0x10d+-0x23f9*-0x1+-0xac1):_0x1932b3['has'](_0x16f692);})['map'](_0xa6de9d=>_0xa6de9d['c']['script']['get'](_0x16f692));}['getGuid'](){return this['_guid']||this['setGuid'](Q0['create']()),this['_guid'];}['setGuid'](_0x2d78f2){const _0x40ef5a=this['_app']['_entityInd'+'ex'];this['_guid']&&delete _0x40ef5a[this['_guid']],this['_guid']=_0x2d78f2,_0x40ef5a[this['_guid']]=this;}['_notifyHie'+'rarchyStat'+'eChanged'](_0x4c2bda,_0x2fdb75){let _0x4c9b2f=!(0x246f+0x1065+-0x34d3);_0x4c2bda===this&&po['length']===0xea4+-0x1d05+0xe61&&(_0x4c9b2f=!(-0x152*0x5+0x25eb+-0x1*0x1f51)),_0x4c2bda['_beingEnab'+'led']=!(-0xe9+-0x1dbd*-0x1+0xa4*-0x2d),_0x4c2bda['_onHierarc'+'hyStateCha'+'nged'](_0x2fdb75),_0x4c2bda['_onHierarc'+'hyStatePos'+'tChanged']&&po['push'](_0x4c2bda);const _0x2f388a=_0x4c2bda['_children'];for(let _0x2b93fd=-0x1140+-0xb3*-0x5+-0x1*-0xdc1,_0x258e08=_0x2f388a['length'];_0x2b93fd<_0x258e08;_0x2b93fd++)_0x2f388a[_0x2b93fd]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x2f388a[_0x2b93fd],_0x2fdb75);if(_0x4c2bda['_beingEnab'+'led']=!(0x2e8+-0x163c+0x1355),_0x4c9b2f){for(let _0x3f592d=0x20c2*-0x1+-0xb*0x1cc+0x1b*0x1f2;_0x3f592d<po['length'];_0x3f592d++)po[_0x3f592d]['_onHierarc'+'hyStatePos'+'tChanged']();po['length']=0x1abf+-0x1a1c+-0xa3*0x1;}}['_onHierarc'+'hyStateCha'+'nged'](_0x1a08ff){super['_onHierarc'+'hyStateCha'+'nged'](_0x1a08ff);const _0x3ae82d=this['_getSorted'+'Components']();for(let _0x1b6001=-0x2645*-0x1+0xb84+-0x31c9;_0x1b6001<_0x3ae82d['length'];_0x1b6001++){const _0x2b0c2f=_0x3ae82d[_0x1b6001];_0x2b0c2f['enabled']&&(_0x1a08ff?_0x2b0c2f['onEnable']():_0x2b0c2f['onDisable']());}Ag(_0x3ae82d);}['_onHierarc'+'hyStatePos'+'tChanged'](){const _0x3fe544=this['_getSorted'+'Components']();for(let _0x192c84=0xf61*-0x2+0x1*0x16f1+-0x3*-0x29b;_0x192c84<_0x3fe544['length'];_0x192c84++)_0x3fe544[_0x192c84]['onPostStat'+'eChange']();Ag(_0x3fe544);}['findByGuid'](_0x2b2592){if(this['_guid']===_0x2b2592)return this;const _0x401820=this['_app']['_entityInd'+'ex'][_0x2b2592];return _0x401820&&(_0x401820===this||_0x401820['isDescenda'+'ntOf'](this))?_0x401820:null;}['destroy'](){this['_destroyin'+'g']=!(-0x142+-0x59*0x1d+0xb57*0x1);for(const _0x734a5a in this['c'])this['c'][_0x734a5a]['enabled']=!(-0x1c77+0x9fc+0x127c);for(const _0x11b631 in this['c'])this['c'][_0x11b631]['system']['removeComp'+'onent'](this);super['destroy'](),this['_guid']&&delete this['_app']['_entityInd'+'ex'][this['_guid']],this['_destroyin'+'g']=!(-0x1df5+0x759+-0x33b*-0x7);}['clone'](){const _0x1ef6e1={},_0x319a5e=this['_cloneRecu'+'rsively'](_0x1ef6e1);return _0x1ef6e1[this['getGuid']()]=_0x319a5e,kv(this,this,_0x319a5e,_0x1ef6e1),_0x319a5e;}['_getSorted'+'Components'](){const _0x41bb6d=this['c'],_0x426bd2=XC();let _0x5cba95=0x118+-0x7c9*-0x1+-0x1*0x8e1;for(const _0x409630 in _0x41bb6d)if(_0x41bb6d['hasOwnProp'+'erty'](_0x409630)){const _0xf085e1=_0x41bb6d[_0x409630];_0x5cba95|=_0xf085e1['constructo'+'r']['order']!==0x2330+0x82c+0x14*-0x22b,_0x426bd2['push'](_0xf085e1);}return _0x5cba95&&_0x426bd2['length']>-0x2*0x128+-0x15b+0x5*0xbc&&$C(_0x426bd2),_0x426bd2;}['_cloneRecu'+'rsively'](_0x4d0aa3){const _0x5c3c17=new this['constructo'+'r'](void(0x79*-0x13+-0x7*0x4f6+0x2bb5),this['_app']);super['_cloneInte'+'rnal'](_0x5c3c17);for(const _0x337bc3 in this['c'])this['c'][_0x337bc3]['system']['cloneCompo'+'nent'](this,_0x5c3c17);for(let _0x2a76ca=0x3*0x3f9+0x1*0x729+0x65c*-0x3;_0x2a76ca<this['_children']['length'];_0x2a76ca++){const _0x2bc35e=this['_children'][_0x2a76ca];if(_0x2bc35e instanceof Hh){const _0x5827ec=_0x2bc35e['_cloneRecu'+'rsively'](_0x4d0aa3);_0x5c3c17['addChild'](_0x5827ec),_0x4d0aa3[_0x2bc35e['getGuid']()]=_0x5827ec;}}return _0x5c3c17;}};h(Hh,'EVENT_DEST'+'ROY','destroy');let lt=Hh;function kv(_0x38e53f,_0x14831f,_0x511aa7,_0x421bef){if(_0x14831f instanceof lt){const _0x293e48=_0x14831f['c'];for(const _0x120337 in _0x293e48){const _0x518755=_0x293e48[_0x120337],_0x1219d4=_0x518755['system']['getPropert'+'iesOfType']('entity');for(let _0x190493=0x1*-0x179f+-0x1*-0x1a3d+-0x29e,_0x1854c2=_0x1219d4['length'];_0x190493<_0x1854c2;_0x190493++){const _0x2951c3=_0x1219d4[_0x190493]['name'],_0x1956a6=_0x518755[_0x2951c3];if(!!_0x38e53f['findByGuid'](_0x1956a6)){const _0x3818c4=_0x421bef[_0x1956a6]['getGuid']();_0x3818c4?_0x511aa7['c'][_0x120337][_0x2951c3]=_0x3818c4:w['warn']('Could\x20not\x20'+'find\x20corre'+'sponding\x20e'+'ntity\x20id\x20w'+'hen\x20resolv'+'ing\x20duplic'+'ated\x20entit'+'y\x20referenc'+'es');}}}_0x293e48['script']&&_0x511aa7['script']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x293e48['script'],_0x421bef),_0x293e48['render']&&_0x511aa7['render']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x293e48['render'],_0x421bef),_0x293e48['button']&&_0x511aa7['button']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x293e48['button'],_0x421bef),_0x293e48['scrollview']&&_0x511aa7['scrollview']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x293e48['scrollview'],_0x421bef),_0x293e48['scrollbar']&&_0x511aa7['scrollbar']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x293e48['scrollbar'],_0x421bef),_0x293e48['anim']&&_0x511aa7['anim']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x293e48['anim'],_0x421bef);const _0x3bde3c=_0x14831f['children']['filter'](_0x54c26d=>_0x54c26d instanceof lt),_0x9ef820=_0x511aa7['children']['filter'](_0x2d516e=>_0x2d516e instanceof lt);for(let _0x54b4d5=-0x1*-0x121e+-0xb*-0x10+-0x12ce,_0x2d5b64=_0x3bde3c['length'];_0x54b4d5<_0x2d5b64;_0x54b4d5++)kv(_0x38e53f,_0x3bde3c[_0x54b4d5],_0x9ef820[_0x54b4d5],_0x421bef);}}class Cg{constructor(_0x39a9ba,_0x2c1b79){h(this,'name'),h(this,'url'),h(this,'data',null),h(this,'_loading',!(0x496*-0x3+0x243c+0x1679*-0x1)),h(this,'_onLoadedC'+'allbacks',[]),(this['name']=_0x39a9ba,this['url']=_0x2c1b79);}get['loaded'](){return!!this['data'];}get['loading'](){return this['_loading'];}}class qC{constructor(_0x1141ea){h(this,'_app'),h(this,'_list',[]),h(this,'_index',{}),h(this,'_urlIndex',{}),this['_app']=_0x1141ea;}['destroy'](){this['_app']=null;}['list'](){return this['_list'];}['add'](_0x2cf008,_0x557862){if(this['_index']['hasOwnProp'+'erty'](_0x2cf008))return w['warn']('pc.SceneRe'+'gistry:\x20tr'+'ying\x20to\x20ad'+'d\x20more\x20tha'+'n\x20one\x20scen'+'e\x20called:\x20'+_0x2cf008),!(-0x25c6+0x2011*0x1+0x56*0x11);const _0x4e416b=new Cg(_0x2cf008,_0x557862),_0x36d0d8=this['_list']['push'](_0x4e416b);return this['_index'][_0x4e416b['name']]=_0x36d0d8-(0xad0+0xd81*0x1+-0x1850),this['_urlIndex'][_0x4e416b['url']]=_0x36d0d8-(-0x10a9*-0x1+-0x1b65*0x1+-0xabd*-0x1),!(0x425*-0x7+0xc5f+-0x6*-0x2c6);}['find'](_0x45396b){return this['_index']['hasOwnProp'+'erty'](_0x45396b)?this['_list'][this['_index'][_0x45396b]]:null;}['findByUrl'](_0x5ca002){return this['_urlIndex']['hasOwnProp'+'erty'](_0x5ca002)?this['_list'][this['_urlIndex'][_0x5ca002]]:null;}['remove'](_0x29596a){if(this['_index']['hasOwnProp'+'erty'](_0x29596a)){const _0x397f48=this['_index'][_0x29596a];let _0xe2f22=this['_list'][_0x397f48];delete this['_urlIndex'][_0xe2f22['url']],delete this['_index'][_0x29596a],this['_list']['splice'](_0x397f48,0x4*-0x11+-0x485*-0x1+-0x40*0x11);for(let _0x5018b5=0x65c+0xb5c+0xd8*-0x15;_0x5018b5<this['_list']['length'];_0x5018b5++)_0xe2f22=this['_list'][_0x5018b5],this['_index'][_0xe2f22['name']]=_0x5018b5,this['_urlIndex'][_0xe2f22['url']]=_0x5018b5;}}['_loadScene'+'Data'](_0x3c5088,_0x3a7d1e,_0x31ddae){const _0x5e658a=this['_app'];let _0x550d6e=_0x3c5088;if(typeof _0x3c5088=='string'&&(_0x3c5088=this['findByUrl'](_0x550d6e)||this['find'](_0x550d6e)||new Cg('Untitled',_0x550d6e)),_0x550d6e=_0x3c5088['url'],!_0x550d6e){_0x31ddae('Cannot\x20fin'+'d\x20scene\x20to'+'\x20load');return;}if(_0x3c5088['loaded']){_0x31ddae(null,_0x3c5088);return;}_0x5e658a['assets']&&_0x5e658a['assets']['prefix']&&!jn['test'](_0x550d6e)&&(_0x550d6e=xe['join'](_0x5e658a['assets']['prefix'],_0x550d6e)),_0x3c5088['_onLoadedC'+'allbacks']['push'](_0x31ddae),_0x3c5088['_loading']||_0x5e658a['loader']['getHandler']('hierarchy')['load'](_0x550d6e,(_0x507250,_0xa71154)=>{_0x3c5088['data']=_0xa71154,_0x3c5088['_loading']=!(-0x1fdb+0x8f4+0x16e8);for(let _0x37795d=0x11*0x6e+0x7f*0x3b+-0x2493;_0x37795d<_0x3c5088['_onLoadedC'+'allbacks']['length'];_0x37795d++)_0x3c5088['_onLoadedC'+'allbacks'][_0x37795d](_0x507250,_0x3c5088);_0x3a7d1e||(_0x3c5088['data']=null),_0x3c5088['_onLoadedC'+'allbacks']['length']=-0x2516+0xe4a+0x16cc*0x1;}),_0x3c5088['_loading']=!(0xb9e+-0xa6a+0x9a*-0x2);}['loadSceneD'+'ata'](_0x3d0536,_0x585e0a){this['_loadScene'+'Data'](_0x3d0536,!(-0x1472+0x3e*0x89+-0x2*0x65e),_0x585e0a);}['unloadScen'+'eData'](_0x2d7d82){typeof _0x2d7d82=='string'&&(_0x2d7d82=this['findByUrl'](_0x2d7d82)),_0x2d7d82&&(_0x2d7d82['data']=null);}['_loadScene'+'Hierarchy'](_0x28ec2a,_0x1a43b7,_0x45f96b){this['_loadScene'+'Data'](_0x28ec2a,!(-0x12*-0x225+-0xa*0x1ae+0x1*-0x15cd),(_0x591d8e,_0x265f87)=>{if(_0x591d8e){_0x45f96b&&_0x45f96b(_0x591d8e);return;}_0x1a43b7&&_0x1a43b7(_0x265f87);const _0x49fd17=this['_app'],_0x1b4b6f=()=>{const _0xf8367a=_0x49fd17['loader']['getHandler']('hierarchy');_0x49fd17['systems']['script']['preloading']=!(0x22a7+-0x1a8*0x8+0x1*-0x1567);const _0x1266d9=_0xf8367a['open'](_0x265f87['url'],_0x265f87['data']);_0x49fd17['systems']['script']['preloading']=!(0x1*-0x74d+0xbe1*0x2+-0x75*0x24),_0x49fd17['loader']['clearCache'](_0x265f87['url'],'hierarchy'),_0x49fd17['root']['addChild'](_0x1266d9),_0x49fd17['systems']['fire']('initialize',_0x1266d9),_0x49fd17['systems']['fire']('postInitia'+'lize',_0x1266d9),_0x49fd17['systems']['fire']('postPostIn'+'itialize',_0x1266d9),_0x45f96b&&_0x45f96b(null,_0x1266d9);};_0x49fd17['_preloadSc'+'ripts'](_0x265f87['data'],_0x1b4b6f);});}['loadSceneH'+'ierarchy'](_0x5df5d8,_0x8d5314){this['_loadScene'+'Hierarchy'](_0x5df5d8,null,_0x8d5314);}['loadSceneS'+'ettings'](_0x214054,_0x54f9a3){this['_loadScene'+'Data'](_0x214054,!(-0x15b*-0x5+0xe*0x17f+-0x1bb8),(_0x2f64e6,_0x5c79e9)=>{_0x2f64e6?_0x54f9a3&&_0x54f9a3(_0x2f64e6):(this['_app']['applyScene'+'Settings'](_0x5c79e9['data']['settings']),_0x54f9a3&&_0x54f9a3(null));});}['changeScen'+'e'](_0x19ddd7,_0x1e0f35){const _0x303ae4=this['_app'],_0x1c3329=_0xd5ead0=>{const {children:_0x2e8aa9}=_0x303ae4['root'];for(;_0x2e8aa9['length'];)_0x2e8aa9[-0x16a6+0x379+0x132d]['destroy']();_0x303ae4['applyScene'+'Settings'](_0xd5ead0['data']['settings']);};this['_loadScene'+'Hierarchy'](_0x19ddd7,_0x1c3329,_0x1e0f35);}['loadScene'](_0xfd85af,_0x433669){const _0x4a3653=this['_app'],_0x42d595=_0x4a3653['loader']['getHandler']('scene');_0x4a3653['assets']&&_0x4a3653['assets']['prefix']&&!jn['test'](_0xfd85af)&&(_0xfd85af=xe['join'](_0x4a3653['assets']['prefix'],_0xfd85af)),_0x42d595['load'](_0xfd85af,(_0x1a748e,_0x417cf6)=>{if(_0x1a748e)_0x433669&&_0x433669(_0x1a748e);else{const _0x418f8a=()=>{_0x4a3653['systems']['script']['preloading']=!(0x52f*0x7+0x1*-0x2130+-0x1*0x319);const _0x308012=_0x42d595['open'](_0xfd85af,_0x417cf6),_0x2b50e2=this['findByUrl'](_0xfd85af);_0x2b50e2&&!_0x2b50e2['loaded']&&(_0x2b50e2['data']=_0x417cf6),_0x4a3653['systems']['script']['preloading']=!(-0x9d*-0x37+-0x1*0x2164+-0x56),_0x4a3653['loader']['clearCache'](_0xfd85af,'scene'),_0x4a3653['loader']['patch']({'resource':_0x308012,'type':'scene'},_0x4a3653['assets']),_0x4a3653['root']['addChild'](_0x308012['root']),_0x4a3653['systems']['rigidbody']&&typeof Ammo<'u'&&_0x4a3653['systems']['rigidbody']['gravity']['set'](_0x308012['_gravity']['x'],_0x308012['_gravity']['y'],_0x308012['_gravity']['z']),_0x433669&&_0x433669(null,_0x308012);};_0x4a3653['_preloadSc'+'ripts'](_0x417cf6,_0x418f8a);}});}}class jC{constructor(_0x5747bd){this['frame']={'fps':0x0,'ms':0x0,'dt':0x0,'updateStart':0x0,'updateTime':0x0,'renderStart':0x0,'renderTime':0x0,'physicsStart':0x0,'physicsTime':0x0,'cullTime':0x0,'sortTime':0x0,'skinTime':0x0,'morphTime':0x0,'instancingTime':0x0,'triangles':0x0,'otherPrimitives':0x0,'shaders':0x0,'materials':0x0,'cameras':0x0,'shadowMapUpdates':0x0,'shadowMapTime':0x0,'depthMapTime':0x0,'forwardTime':0x0,'lightClustersTime':0x0,'lightClusters':0x0,'_timeToCountFrames':0x0,'_fpsAccum':0x0},this['drawCalls']={'forward':0x0,'depth':0x0,'shadow':0x0,'immediate':0x0,'misc':0x0,'total':0x0,'skinned':0x0,'instanced':0x0,'removedByInstancing':0x0},this['misc']={'renderTargetCreationTime':0x0},this['particles']={'updatesPerFrame':0x0,'_updatesPerFrame':0x0,'frameTime':0x0,'_frameTime':0x0},this['shaders']=_0x5747bd['_shaderSta'+'ts'],this['vram']=_0x5747bd['_vram'],Object['defineProp'+'erty'](this['vram'],'totalUsed',{'get':function(){return this['tex']+this['vb']+this['ib'];}}),Object['defineProp'+'erty'](this['vram'],'geom',{'get':function(){return this['vb']+this['ib'];}});}get['scene'](){return Ms()['scene']['_stats'];}get['lightmappe'+'r'](){var _0x45a487;return(_0x45a487=Ms()['lightmappe'+'r'])==null?void(-0x4*0x28c+0x9e6+-0x4a*-0x1):_0x45a487['stats'];}get['batcher'](){const _0x3c4070=Ms()['_batcher'];return _0x3c4070?_0x3c4070['_stats']:null;}}const YC='\x0auniform\x20f'+'loat\x20alpha'+'_ref;\x0a\x0avoi'+'d\x20alphaTes'+'t(float\x20a)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(a\x20<\x20alpha'+'_ref)\x20disc'+'ard;\x0a}\x0a',KC='\x0a\x0a#ifdef\x20L'+'IT_AMBIENT'+'_SOURCE\x20=='+'\x20AMBIENTSH'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20am'+'bientSH[9]'+';\x0a#endif\x0a\x0a'+'#if\x20LIT_AM'+'BIENT_SOUR'+'CE\x20==\x20ENVA'+'LATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'fndef\x20ENV_'+'ATLAS\x0a\x20\x20\x20\x20'+'#define\x20EN'+'V_ATLAS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20textur'+'e_envAtlas'+';\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_AMBIENT_'+'SOURCE\x20==\x20'+'AMBIENTSH\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20n\x20=\x20cu'+'beMapRotat'+'e(worldNor'+'mal);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20c'+'olor\x20=\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'mbientSH[0'+']\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ambi'+'entSH[1]\x20*'+'\x20n.x\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'mbientSH[2'+']\x20*\x20n.y\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[3]\x20*\x20n.z'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[4]\x20*\x20'+'n.x\x20*\x20n.z\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ambien'+'tSH[5]\x20*\x20n'+'.z\x20*\x20n.y\x20+'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ambient'+'SH[6]\x20*\x20n.'+'y\x20*\x20n.x\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[7]\x20*\x20(3.'+'0\x20*\x20n.z\x20*\x20'+'n.z\x20-\x201.0)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[8]\x20*\x20'+'(n.x\x20*\x20n.x'+'\x20-\x20n.y\x20*\x20n'+'.y);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20processEn'+'vironment('+'max(color,'+'\x20vec3(0.0)'+'));\x0a\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_A'+'MBIENT_SOU'+'RCE\x20==\x20ENV'+'ALATLAS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20dir\x20=\x20no'+'rmalize(cu'+'beMapRotat'+'e(worldNor'+'mal)\x20*\x20vec'+'3(-1.0,\x201.'+'0,\x201.0));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20ma'+'pUv(toSphe'+'ricalUv(di'+'r),\x20vec4(1'+('28.0,\x20256.'+'0\x20+\x20128.0,'+'\x2064.0,\x2032.'+'0)\x20/\x20atlas'+'Size);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20raw\x20=\x20tex'+'ture2D(tex'+'ture_envAt'+'las,\x20uv);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20linear\x20'+'=\x20{ambient'+'Decode}(ra'+'w);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20p'+'rocessEnvi'+'ronment(li'+'near);\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'T_AMBIENT_'+'SOURCE\x20==\x20'+'CONSTANT\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20light'+'_globalAmb'+'ient;\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),ZC='\x0a\x0a#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20materi'+'al_anisotr'+'opyIntensi'+'ty;\x0a\x20\x20\x20\x20un'+'iform\x20vec2'+'\x20material_'+'anisotropy'+'Rotation;\x0a'+'#endif\x0a\x0avo'+'id\x20getAnis'+'otropy()\x20{'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x200'+'.0;\x0a\x20\x20\x20\x20dA'+'nisotropyR'+'otation\x20=\x20'+'vec2(1.0,\x20'+'0.0);\x0a\x0a#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x20m'+'aterial_an'+'isotropyIn'+'tensity;\x0a\x20'+'\x20\x20\x20dAnisot'+'ropyRotati'+'on\x20=\x20mater'+'ial_anisot'+'ropyRotati'+'on;\x0a#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_ANI'+'SOTROPY_TE'+'XTURE\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropyTex\x20='+'\x20texture2D'+'Bias({STD_'+'ANISOTROPY'+'_TEXTURE_N'+'AME},\x20{STD'+'_ANISOTROP'+'Y_TEXTURE_'+'UV},\x20textu'+'reBias).rg'+'b;\x0a\x20\x20\x20\x20dAn'+'isotropy\x20*'+'=\x20anisotro'+'pyTex.b;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20a'+'nisotropyR'+'otationFro'+'mTex\x20=\x20ani'+'sotropyTex'+'.rg\x20*\x202.0\x20'+'-\x20vec2(1.0'+');\x0a\x20\x20\x20\x20mat'+'2\x20rotation'+'Matrix\x20=\x20m'+'at2(dAniso'+'tropyRotat'+'ion.x,\x20dAn'+'isotropyRo'+'tation.y,\x20'+'-dAnisotro'+'pyRotation'+'.y,\x20dAniso'+'tropyRotat'+'ion.x);\x0a\x20\x20'+'\x20\x20dAnisotr'+'opyRotatio'+'n\x20=\x20rotati'+'onMatrix\x20*'+'\x20anisotrop'+'yRotationF'+'romTex;\x0a\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20dA'+'nisotropy\x20'+'=\x20clamp(dA'+'nisotropy,'+'\x200.0,\x201.0)'+';\x0a}\x0a',QC='\x0a\x0a#if\x20defi'+'ned(STD_AO'+'_TEXTURE)\x20'+'||\x20defined'+'(STD_AO_VE'+'RTEX)\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20materi'+'al_aoInten'+'sity;\x0a#end'+'if\x0a\x0a#ifdef'+'\x20STD_AODET'+'AIL_TEXTUR'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22deta'+'ilModesPS\x22'+'\x0a#endif\x0a\x0av'+'oid\x20getAO('+')\x20{\x0a\x20\x20\x20\x20dA'+'o\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO_TE'+'XTURE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'aoBase\x20=\x20t'+'exture2DBi'+'as({STD_AO'+'_TEXTURE_N'+'AME},\x20{STD'+'_AO_TEXTUR'+'E_UV},\x20tex'+'tureBias).'+'{STD_AO_TE'+'XTURE_CHAN'+'NEL};\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AODE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20aoDetail\x20'+'=\x20texture2'+'DBias({STD'+'_AODETAIL_'+'TEXTURE_NA'+'ME},\x20{STD_'+'AODETAIL_T'+'EXTURE_UV}'+',\x20textureB'+'ias).{STD_'+'AODETAIL_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'oBase\x20=\x20de'+'tailMode_{'+'STD_AODETA'+'IL_DETAILM'+'ODE}(vec3('+'aoBase),\x20v'+'ec3(aoDeta'+'il)).r;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20a'+'oBase;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.{STD_AO_V'+'ERTEX_CHAN'+'NEL});\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20def'+'ined(STD_A'+'O_TEXTURE)'+'\x20||\x20define'+'d(STD_AO_V'+'ERTEX)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAo\x20='+'\x20mix(1.0,\x20'+'dAo,\x20mater'+'ial_aoInte'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',JC='\x0avoid\x20occl'+'udeDiffuse'+'(float\x20ao)'+'\x20{\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20ao;\x0a}\x0a',e1='\x0a\x0a#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'OCCLUDE_SP'+'ECULAR_FLO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0av'+'oid\x20occlud'+'eSpecular('+'float\x20glos'+'s,\x20float\x20a'+'o,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir)\x20{\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20==\x20'+'AO\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_OCCLUDE_'+'SPECULAR_F'+'LOAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20specOcc'+'\x20=\x20mix(1.0'+',\x20ao,\x20mate'+'rial_occlu'+'deSpecular'+'Intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20specOc'+'c\x20=\x20ao;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIT_OCC'+'LUDE_SPECU'+'LAR\x20==\x20GLO'+'SSDEPENDEN'+'T\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20approx'+'imated\x20spe'+'cular\x20occl'+'usion\x20from'+'\x20AO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20http:'+'//research'+'.tri-ace.c'+'om/Data/ce'+'dec2011_Re'+'altimePBR_'+'Implementa'+'tion_e.ppt'+'x\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01\x20'+'*\x20specPow)'+'\x20-\x201.0\x20+\x20a'+'o);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_OCCLUD'+'E_SPECULAR'+'_FLOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecOcc\x20=\x20m'+'ix(1.0,\x20sp'+'ecOcc,\x20mat'+'erial_occl'+'udeSpecula'+'rIntensity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'T_OCCLUDE_'+'SPECULAR\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'*=\x20specOcc'+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n\x20*=\x20specO'+'cc;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sSpecula'+'rLight\x20*=\x20'+'specOcc;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sReflecti'+'on\x20*=\x20spec'+'Occ;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a'),t1='\x0a\x20\x20\x20\x20vec4\x20'+'dirLm\x20=\x20te'+'xture2D(te'+'xture_dirL'+'ightMap,\x20v'+'Uv1);\x0a\x0a\x20\x20\x20'+'\x20if\x20(bakeD'+'ir\x20>\x200.5)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dAtten'+'\x20>\x200.00001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dirL'+'m.xyz\x20=\x20di'+'rLm.xyz\x20*\x20'+'2.0\x20-\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20sa'+'turate(dAt'+'ten);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20nor'+'malize(dLi'+'ghtDirNorm'+'W.xyz*dAtt'+'en\x20+\x20dirLm'+'.xyz*dirLm'+'.w)\x20*\x200.5\x20'+'+\x20vec3(0.5'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20dirLm.w\x20'+'+\x20dAtten;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.a\x20=\x20m'+'ax(gl_Frag'+'Color.a,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20dir'+'Lm;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20dirLm.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color.a\x20=\x20'+'max(dirLm.'+'w,\x20dAtten\x20'+'>\x200.00001\x20'+'?\x20(1.0/255'+'.0)\x20:\x200.0)'+';\x0a\x20\x20\x20\x20}\x0a',s1='\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20//\x20di'+'ffuse\x20ligh'+'t\x20stores\x20a'+'ccumulated'+'\x20AO,\x20apply'+'\x20contrast\x20'+'and\x20bright'+'ness\x20to\x20it'+'\x0a\x20\x20\x20\x20//\x20an'+'d\x20multiply'+'\x20ambient\x20l'+'ight\x20color'+'\x20by\x20the\x20AO'+'\x0a\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20((dDiffus'+'eLight\x20-\x200'+'.5)\x20*\x20max('+'ambientBak'+'eOcclusion'+'Contrast\x20+'+'\x201.0,\x200.0)'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20dDiffus'+'eLight\x20+=\x20'+'vec3(ambie'+'ntBakeOccl'+'usionBrigh'+'tness);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20sa'+'turate(dDi'+'ffuseLight'+');\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20dAmbie'+'ntLight;\x0a#'+'endif\x0a\x0a#if'+'def\x20LIGHTM'+'AP_RGBM\x0a\x20\x20'+'\x20\x20//\x20encod'+'e\x20to\x20RGBM\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.rgb'+'\x20=\x20dDiffus'+'eLight;\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor.rgb\x20='+'\x20pow(gl_Fr'+'agColor.rg'+'b,\x20vec3(0.'+'5));\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20/=\x208'+'.0;\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.a\x20=\x20clamp'+'(\x20max(\x20max'+'(\x20gl_FragC'+'olor.r,\x20gl'+'_FragColor'+'.g\x20),\x20max('+'\x20gl_FragCo'+'lor.b,\x201.0'+'\x20/\x20255.0\x20)'+'\x20),\x200.0,1.'+'0\x20);\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.a\x20=\x20ceil'+'(gl_FragCo'+'lor.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20/=\x20gl'+'_FragColor'+'.a;\x0a#else\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(dDiffu'+'seLight,\x201'+'.0);\x0a#endi'+'f\x0a',i1='\x0auniform\x20v'+'ec3\x20view_p'+'osition;\x0a\x0a'+'uniform\x20ve'+'c3\x20light_g'+'lobalAmbie'+'nt;\x0a\x0afloat'+'\x20square(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'x*x;\x0a}\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0ave'+'c3\x20saturat'+'e(vec3\x20x)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3(0.0'+'),\x20vec3(1.'+'0));\x0a}\x0a',r1='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a\x0avec2\x20'+'nineSliced'+'Uv;\x0a',a1='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vec2\x20vMa'+'sk;\x0avaryin'+'g\x20vec2\x20vTi'+'ledUv;\x0a\x0aun'+'iform\x20medi'+'ump\x20vec4\x20i'+'nnerOffset'+';\x0auniform\x20'+'mediump\x20ve'+'c2\x20outerSc'+'ale;\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20atla'+'sRect;\x0a\x0ave'+'c2\x20nineSli'+'cedUv;\x0a',n1='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afloat\x20'+'bayer2(vec'+'2\x20p)\x20{\x0a\x20\x20\x20'+'\x20return\x20mo'+'d(2.0\x20*\x20p.'+'y\x20+\x20p.x\x20+\x20'+'1.0,\x204.0);'+'\x0a}\x0a\x0a//\x204x4'+'\x20matrix,\x20p'+'\x20-\x20pixel\x20c'+'oordinate\x0a'+'float\x20baye'+'r4(vec2\x20p)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20p1\x20=\x20mod'+'(p,\x202.0);\x0a'+'\x20\x20\x20\x20vec2\x20p'+'2\x20=\x20floor('+'0.5\x20*\x20mod('+'p,\x204.0));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afloat\x20bay'+'er8(vec2\x20p'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20p1\x20=\x20mo'+'d(p,\x202.0);'+'\x0a\x20\x20\x20\x20vec2\x20'+'p2\x20=\x20floor'+'(0.5\x20*\x20mod'+'(p,\x204.0));'+'\x0a\x20\x20\x20\x20vec2\x20'+'p4\x20=\x20floor'+'(0.25\x20*\x20mo'+'d(p,\x208.0))'+';\x0a\x20\x20\x20\x20retu'+'rn\x204.0\x20*\x20('+'4.0\x20*\x20baye'+'r2(p1)\x20+\x20b'+'ayer2(p2))'+'\x20+\x20bayer2('+'p4);\x0a}\x0a',o1='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0auni'+'form\x20vec2\x20'+'pixelOffse'+'t;\x0a\x0a#ifdef'+'\x20GAUSS\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20weigh'+'t[{SAMPLES'+'}];\x0a#endif'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20m'+'oments\x20=\x20v'+'ec3(0.0);\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20vUv0\x20-'+'\x20pixelOffs'+'et\x20*\x20(floa'+'t({SAMPLES'+'})\x20*\x200.5);'+'\x0a\x20\x20\x20\x20for\x20('+'int\x20i\x20=\x200;'+'\x20i\x20<\x20{SAMP'+'LES};\x20i++)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20c\x20=\x20'+'texture2D('+'source,\x20uv'+'\x20+\x20pixelOf'+'fset\x20*\x20flo'+'at(i));\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20GAUSS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20moments\x20'+'+=\x20c.xyz\x20*'+'\x20weight[i]'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'ments\x20+=\x20c'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'GAUSS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20*=\x201.0\x20/'+'\x20float({SA'+'MPLES});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(momen'+'ts.x,\x20mome'+'nts.y,\x20mom'+'ents.z,\x201.'+'0);\x0a}\x0a',l1='\x0auniform\x20f'+'loat\x20mater'+'ial_clearC'+'oat;\x0a\x0avoid'+'\x20getClearC'+'oat()\x20{\x0a\x20\x20'+'\x20\x20ccSpecul'+'arity\x20=\x20ma'+'terial_cle'+'arCoat;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_CLEARC'+'OAT_TEXTUR'+'E\x0a\x20\x20\x20\x20ccSp'+'ecularity\x20'+'*=\x20texture'+'2DBias({ST'+'D_CLEARCOA'+'T_TEXTURE_'+'NAME},\x20{ST'+'D_CLEARCOA'+'T_TEXTURE_'+'UV},\x20textu'+'reBias).{S'+'TD_CLEARCO'+'AT_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_CL'+'EARCOAT_VE'+'RTEX\x0a\x20\x20\x20\x20c'+'cSpeculari'+'ty\x20*=\x20satu'+'rate(vVert'+'exColor.{S'+'TD_CLEARCO'+'AT_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',c1='\x0auniform\x20f'+'loat\x20mater'+'ial_clearC'+'oatGloss;\x0a'+'\x0avoid\x20getC'+'learCoatGl'+'ossiness()'+'\x20{\x0a\x20\x20\x20\x20ccG'+'lossiness\x20'+'=\x20material'+'_clearCoat'+'Gloss;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATGLOSS_TE'+'XTURE\x0a\x20\x20\x20\x20'+'ccGlossine'+'ss\x20*=\x20text'+'ure2DBias('+'{STD_CLEAR'+'COATGLOSS_'+'TEXTURE_NA'+'ME},\x20{STD_'+'CLEARCOATG'+'LOSS_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+'.{STD_CLEA'+'RCOATGLOSS'+'_TEXTURE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_CLEAR'+'COATGLOSS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_CLEAR'+'COATGLOSS_'+'INVERT\x0a\x20\x20\x20'+'\x20ccGlossin'+'ess\x20=\x201.0\x20'+'-\x20ccGlossi'+'ness;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20+=\x200.'+'0000001;\x0a}'+'\x0a',h1='\x0a#ifdef\x20ST'+'D_CLEARCOA'+'TNORMAL_TE'+'XTURE\x0aunif'+'orm\x20float\x20'+'material_c'+'learCoatBu'+'mpiness;\x0a#'+'endif\x0a\x0avoi'+'d\x20getClear'+'CoatNormal'+'()\x20{\x0a#ifde'+'f\x20STD_CLEA'+'RCOATNORMA'+'L_TEXTURE\x0a'+'\x20\x20\x20\x20vec3\x20n'+'ormalMap\x20='+'\x20{STD_CLEA'+'RCOATNORMA'+'L_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'_NAME},\x20{S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_UV}'+',\x20textureB'+'ias));\x0a\x20\x20\x20'+'\x20normalMap'+'\x20=\x20mix(vec'+'3(0.0,\x200.0'+',\x201.0),\x20no'+'rmalMap,\x20m'+'aterial_cl'+'earCoatBum'+'piness);\x0a\x20'+'\x20\x20\x20ccNorma'+'lW\x20=\x20norma'+'lize(dTBN\x20'+'*\x20normalMa'+'p);\x0a#else\x0a'+'\x20\x20\x20\x20ccNorm'+'alW\x20=\x20dVer'+'texNormalW'+';\x0a#endif\x0a}'+'\x0a',d1='\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0avec2\x20ge'+'tCubemapFa'+'ceCoordina'+'tes(const\x20'+'vec3\x20dir,\x20'+'out\x20float\x20'+'faceIndex,'+'\x20out\x20vec2\x20'+'tileOffset'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20vAbs\x20=\x20'+'abs(dir);\x0a'+'\x20\x20\x20\x20float\x20'+'ma;\x0a\x20\x20\x20\x20ve'+'c2\x20uv;\x0a\x20\x20\x20'+'\x20if\x20(vAbs.'+'z\x20>=\x20vAbs.'+'x\x20&&\x20vAbs.'+'z\x20>=\x20vAbs.'+'y)\x20{\x20\x20\x20//\x20'+'front\x20/\x20ba'+'ck\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20faceInde'+'x\x20=\x20dir.z\x20'+'<\x200.0\x20?\x205.'+'0\x20:\x204.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2(dir.z\x20'+'<\x200.0\x20?\x20-d'+'ir.x\x20:\x20dir'+'.x,\x20-dir.y'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20tileOffse'+'t.x\x20=\x202.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20t'+'ileOffset.'+'y\x20=\x20dir.z\x20'+'<\x200.0\x20?\x201.'+'0\x20:\x200.0;\x0a\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if(vAbs.y'+'\x20>=\x20vAbs.x'+')\x20{\x20\x20//\x20to'+'p\x20index\x202,'+'\x20bottom\x20in'+'dex\x203\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20faceI'+'ndex\x20=\x20dir'+'.y\x20<\x200.0\x20?'+'\x203.0\x20:\x202.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ma\x20=\x200.5\x20/'+'\x20vAbs.y;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uv\x20'+'=\x20vec2(dir'+'.x,\x20dir.y\x20'+'<\x200.0\x20?\x20-d'+'ir.z\x20:\x20dir'+'.z);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.x\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20tileOffse'+'t.y\x20=\x20dir.'+'y\x20<\x200.0\x20?\x20'+'1.0\x20:\x200.0;'+'\x0a\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x20\x20\x20\x20//'+'\x20left\x20/\x20ri'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20faceInd'+'ex\x20=\x20dir.x'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'\x20=\x200.5\x20/\x20v'+'Abs.x;\x0a\x20\x20\x20'+('\x20\x20\x20\x20\x20uv\x20=\x20'+'vec2(dir.x'+'\x20<\x200.0\x20?\x20d'+'ir.z\x20:\x20-di'+'r.z,\x20-dir.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20tileOffs'+'et.x\x20=\x200.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'tileOffset'+'.y\x20=\x20dir.x'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20uv'+'\x20*\x20ma\x20+\x200.'+'5;\x0a}\x0a\x0a//\x20c'+'onverts\x20un'+'normalized'+'\x20direction'+'\x20vector\x20to'+'\x20a\x20texture'+'\x20coordinat'+'e\x20for\x20a\x20cu'+'bemap\x20face'+'\x20stored\x20wi'+'thin\x20textu'+'re\x20atlas\x20d'+'escribed\x20b'+'y\x20the\x20view'+'port\x0avec2\x20'+'getCubemap'+'AtlasCoord'+'inates(con'+'st\x20vec3\x20om'+'niAtlasVie'+'wport,\x20flo'+'at\x20shadowE'+'dgePixels,'+'\x20float\x20sha'+'dowTexture'+'Resolution'+',\x20const\x20ve'+'c3\x20dir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20faceIndex'+';\x0a\x20\x20\x20\x20vec2'+'\x20tileOffse'+'t;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapFac'+'eCoordinat'+'es(dir,\x20fa'+'ceIndex,\x20t'+'ileOffset)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'move\x20uv\x20co'+'ordinates\x20'+'inwards\x20in'+'side\x20to\x20co'+'mpensate\x20f'+'or\x20larger\x20'+'fov\x20when\x20r'+'endering\x20s'+'hadow\x20into'+'\x20atlas\x0a\x20\x20\x20'+'\x20float\x20atl'+'asFaceSize'+'\x20=\x20omniAtl'+'asViewport'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20tileSi'+'ze\x20=\x20shado'+'wTextureRe'+'solution\x20*'+'\x20atlasFace'+'Size;\x0a\x20\x20\x20\x20'+'float\x20offs'+'et\x20=\x20shado'+'wEdgePixel'+'s\x20/\x20tileSi'+'ze;\x0a\x20\x20\x20\x20uv'+'\x20=\x20uv\x20*\x20ve'+'c2(1.0\x20-\x20o'+'ffset\x20*\x202.'+'0)\x20+\x20vec2('+'offset\x20*\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'//\x20scale\x20u'+'v\x20coordina'+'tes\x20to\x20cub'+'e\x20face\x20are'+'a\x20within\x20t'+'he\x20viewpor'+'t\x0a\x20\x20\x20\x20uv\x20*'+'=\x20atlasFac'+'eSize;\x0a\x0a\x20\x20'+'\x20\x20//\x20offse'+'t\x20into\x20fac'+'e\x20of\x20the\x20a')+('tlas\x20(3x3\x20'+'grid)\x0a\x20\x20\x20\x20'+'uv\x20+=\x20tile'+'Offset\x20*\x20a'+'tlasFaceSi'+'ze;\x0a\x0a\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nto\x20the\x20at'+'las\x20viewpo'+'rt\x0a\x20\x20\x20\x20uv\x20'+'+=\x20omniAtl'+'asViewport'+'.xy;\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a'),f1='\x0avec3\x20_get'+'CookieClus'+'tered(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20uv,\x20floa'+'t\x20intensit'+'y,\x20vec4\x20co'+'okieChanne'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20pixel\x20'+'=\x20mix(vec4'+'(1.0),\x20tex'+'ture2DLod('+'tex,\x20uv,\x200'+'.0),\x20inten'+'sity);\x0a\x20\x20\x20'+'\x20bool\x20isRg'+'b\x20=\x20dot(co'+'okieChanne'+'l.rgb,\x20vec'+'3(1.0))\x20=='+'\x203.0;\x0a\x20\x20\x20\x20'+'return\x20isR'+'gb\x20?\x20pixel'+'.rgb\x20:\x20vec'+'3(dot(pixe'+'l,\x20cookieC'+'hannel));\x0a'+'}\x0a\x0a//\x20getC'+'ookie2D\x20fo'+'r\x20clustere'+'d\x20lighting'+'\x20including'+'\x20channel\x20s'+'elector\x0ave'+'c3\x20getCook'+'ie2DCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20mat4\x20'+'transform,'+'\x20vec3\x20worl'+'dPosition,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieC'+'hannel)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20p'+'rojPos\x20=\x20t'+'ransform\x20*'+'\x20vec4(worl'+'dPosition,'+'\x201.0);\x0a\x20\x20\x20'+'\x20return\x20_g'+'etCookieCl'+'ustered(TE'+'XTURE_PASS'+'(tex),\x20pro'+'jPos.xy\x20/\x20'+'projPos.w,'+'\x20intensity'+',\x20cookieCh'+'annel);\x0a}\x0a'+'\x0a//\x20getCoo'+'kie\x20for\x20cl'+'ustered\x20om'+'ni\x20light\x20w'+'ith\x20the\x20co'+'okie\x20textu'+'re\x20being\x20s'+'tored\x20in\x20t'+'he\x20cookie\x20'+'atlas\x0avec3'+'\x20getCookie'+'CubeCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec3\x20'+'dir,\x20float'+'\x20intensity'+',\x20vec4\x20coo'+'kieChannel'+',\x20float\x20sh'+'adowTextur'+'eResolutio'+'n,\x20float\x20s'+'hadowEdgeP'+'ixels,\x20vec'+'3\x20omniAtla'+'sViewport)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+('tureResolu'+'tion,\x20dir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20_getCoo'+'kieCluster'+'ed(TEXTURE'+'_PASS(tex)'+',\x20uv,\x20inte'+'nsity,\x20coo'+'kieChannel'+');\x0a}\x0a'),u1='\x0a\x0avec3\x20_ge'+'tShadowCoo'+'rdPerspZbu'+'ffer(mat4\x20'+'shadowMatr'+'ix,\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20wP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20shado'+'wMatrix\x20*\x20'+'vec4(wPos,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'yz\x20/=\x20proj'+'Pos.w;\x0a\x20\x20\x20'+'\x20return\x20pr'+'ojPos.xyz;'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20bias\x20i'+'s\x20already\x20'+'applied\x20on'+'\x20render\x0a}\x0a'+'\x0avec3\x20getS'+'hadowCoord'+'PerspZbuff'+'erNormalOf'+'fset(mat4\x20'+'shadowMatr'+'ix,\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20no'+'rmal)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20wPo'+'s\x20=\x20vPosit'+'ionW\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowCoordPe'+'rspZbuffer'+'(shadowMat'+'rix,\x20shado'+'wParams,\x20w'+'Pos);\x0a}\x0a\x0av'+'ec3\x20normal'+'OffsetPoin'+'tShadow(ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20lightPos'+',\x20vec3\x20lig'+'htDir,\x20vec'+'3\x20lightDir'+'Norm,\x20vec3'+'\x20normal)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20distScale'+'\x20=\x20length('+'lightDir);'+'\x0a\x20\x20\x20\x20vec3\x20'+'wPos\x20=\x20vPo'+'sitionW\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y\x20*\x20clam'+'p(1.0\x20-\x20do'+'t(normal,\x20'+'-lightDirN'+'orm),\x200.0,'+'\x201.0)\x20*\x20di'+'stScale;\x20/'+'/0.02\x0a\x20\x20\x20\x20'+'vec3\x20dir\x20='+'\x20wPos\x20-\x20li'+'ghtPos;\x0a\x20\x20'+'\x20\x20return\x20d'+'ir;\x0a}\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x0afloa'+'t\x20getShado'+'wOmniClust'+'eredPCF1(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20omniAtla'+'sViewport,'+'\x20float\x20sha'+'dowEdgePix'+'els,\x20vec3\x20'+'lightDir)\x20'+'{\x0a\x0a\x20\x20\x20\x20flo'+'at\x20shadowT'+('extureReso'+'lution\x20=\x20s'+'hadowParam'+'s.x;\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etCubemapA'+'tlasCoordi'+'nates(omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20shadowT'+'extureReso'+'lution,\x20li'+'ghtDir);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'shadowZ\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20retu'+'rn\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(uv,\x20sha'+'dowZ));\x0a}\x0a'+'\x0a#endif\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x0afl'+'oat\x20getSha'+'dowOmniClu'+'steredPCF3'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t,\x20float\x20s'+'hadowEdgeP'+'ixels,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wTextureRe'+'solution\x20='+'\x20shadowPar'+'ams.x;\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20getCubema'+'pAtlasCoor'+'dinates(om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20shado'+'wTextureRe'+'solution,\x20'+'lightDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20shadowZ\x20'+'=\x20length(l'+'ightDir)\x20*'+'\x20shadowPar'+'ams.w\x20+\x20sh'+'adowParams'+'.z;\x0a\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20vec'+'3(uv,\x20shad'+'owZ);\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowPCF3'+'x3(SHADOWM'+'AP_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a}\x0a'+'\x0a#endif\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF5)\x0a\x0afl'+'oat\x20getSha'+'dowOmniClu'+'steredPCF5'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t,\x20float\x20s')+('hadowEdgeP'+'ixels,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wTextureRe'+'solution\x20='+'\x20shadowPar'+'ams.x;\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20getCubema'+'pAtlasCoor'+'dinates(om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20shado'+'wTextureRe'+'solution,\x20'+'lightDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20shadowZ\x20'+'=\x20length(l'+'ightDir)\x20*'+'\x20shadowPar'+'ams.w\x20+\x20sh'+'adowParams'+'.z;\x0a\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20vec'+'3(uv,\x20shad'+'owZ);\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowPCF5'+'x5(SHADOWM'+'AP_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a}\x0a'+'\x0a#endif\x0a\x0a/'+'/\x20Clustere'+'d\x20Spot\x20Sam'+'pling\x20usin'+'g\x20atlas\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF1)\x0a\x0afl'+'oat\x20getSha'+'dowSpotClu'+'steredPCF1'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec3\x20shado'+'wCoord,\x20ve'+'c4\x20shadowP'+'arams)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'textureSha'+'dow(shadow'+'Map,\x20shado'+'wCoord);\x0a}'+'\x0a\x0a#endif\x0a\x0a'+'#if\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x0af'+'loat\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(SHADOWMA'+'P_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20getShadow'+'SpotPCF3x3'+'(SHADOWMAP'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord,'+'\x20shadowPar'+'ams);\x0a}\x0a\x0a#'+'endif\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF5)\x0a\x0afloa'+'t\x20getShado'+'wSpotClust'+'eredPCF5(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC')+('oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_PASS(s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20shadow'+'Params);\x0a}'+'\x0a#endif\x0a'),p1='\x0a\x0a#include'+'\x20\x22lightBuf'+'ferDefines'+'PS\x22\x0a\x0a//\x20in'+'clude\x20this'+'\x20before\x20sh'+'adow\x20/\x20coo'+'kie\x20code\x0a#'+'include\x20\x22c'+'lusteredLi'+'ghtUtilsPS'+'\x22\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightCookie'+'sPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_SH'+'ADOWS\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightShadow'+'sPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20clu'+'sterWorldT'+'exture;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20lightsTe'+'xture;\x0a\x0a#i'+'fdef\x20CLUST'+'ER_SHADOWS'+'\x0a\x20\x20\x20\x20//\x20TO'+'DO:\x20when\x20V'+'SM\x20shadow\x20'+'is\x20support'+'ed,\x20it\x20nee'+'ds\x20to\x20use\x20'+'sampler2D\x20'+'in\x20webgl2\x0a'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'DShadow\x20sh'+'adowAtlasT'+'exture;\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20CLUSTER'+'_COOKIES\x0a\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20cookieAtl'+'asTexture;'+'\x0a#endif\x0a\x0au'+'niform\x20int'+'\x20clusterMa'+'xCells;\x0a\x0a/'+'/\x201.0\x20if\x20c'+'lustered\x20l'+'ighting\x20ca'+'n\x20be\x20skipp'+'ed\x20(0\x20ligh'+'ts\x20in\x20the\x20'+'clusters)\x0a'+'uniform\x20fl'+'oat\x20cluste'+'rSkip;\x0a\x0aun'+'iform\x20vec3'+'\x20clusterCe'+'llsCountBy'+'BoundsSize'+';\x0auniform\x20'+'vec3\x20clust'+'erTextureS'+'ize;\x0aunifo'+'rm\x20vec3\x20cl'+'usterBound'+'sMin;\x0aunif'+'orm\x20vec3\x20c'+'lusterBoun'+'dsDelta;\x0au'+'niform\x20vec'+'3\x20clusterC'+'ellsDot;\x0au'+'niform\x20vec'+'3\x20clusterC'+'ellsMax;\x0au'+'niform\x20vec'+'2\x20shadowAt'+'lasParams;'+'\x0a\x0a//\x20struc'+'ture\x20stori'+'ng\x20light\x20p'+'roperties\x20'+'of\x20a\x20clust'+'ered\x20light'+'\x0a//\x20it\x27s\x20s'+('orted\x20to\x20h'+'ave\x20all\x20ve'+'ctors\x20alig'+'ned\x20to\x204\x20f'+'loats\x20to\x20l'+'imit\x20paddi'+'ng\x0astruct\x20'+'ClusterLig'+'htData\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x2032b'+'it\x20of\x20flag'+'s\x0a\x20\x20\x20\x20uint'+'\x20flags;\x0a\x0a\x20'+'\x20\x20\x20//\x20area'+'\x20light\x20siz'+'es\x20/\x20orien'+'tation\x0a\x20\x20\x20'+'\x20vec3\x20half'+'Width;\x0a\x0a\x20\x20'+'\x20\x20bool\x20isS'+'pot;\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20sizes\x20'+'/\x20orientat'+'ion\x0a\x20\x20\x20\x20ve'+'c3\x20halfHei'+'ght;\x0a\x0a\x20\x20\x20\x20'+'//\x20light\x20i'+'ndex\x0a\x20\x20\x20\x20i'+'nt\x20lightIn'+'dex;\x0a\x0a\x20\x20\x20\x20'+'//\x20world\x20s'+'pace\x20posit'+'ion\x0a\x20\x20\x20\x20ve'+'c3\x20positio'+'n;\x0a\x0a\x20\x20\x20\x20//'+'\x20area\x20ligh'+'t\x20shape\x0a\x20\x20'+'\x20\x20uint\x20sha'+'pe;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20direct'+'ion\x20(spot\x20'+'light\x20only'+')\x0a\x20\x20\x20\x20vec3'+'\x20direction'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20foll'+'ow\x20mode\x0a\x20\x20'+'\x20\x20bool\x20fal'+'loffModeLi'+'near;\x0a\x0a\x20\x20\x20'+'\x20//\x20color\x0a'+'\x20\x20\x20\x20vec3\x20c'+'olor;\x0a\x0a\x20\x20\x20'+'\x20//\x200.0\x20if'+'\x20the\x20light'+'\x20doesn\x27t\x20c'+'ast\x20shadow'+'s\x0a\x20\x20\x20\x20floa'+'t\x20shadowIn'+'tensity;\x0a\x0a'+'\x20\x20\x20\x20//\x20atl'+'as\x20viewpor'+'t\x20for\x20omni'+'\x20light\x20sha'+'dow\x20and\x20co'+'okie\x20(.xy\x20'+'is\x20offset\x20'+'to\x20the\x20vie'+'wport\x20slot'+',\x20.z\x20is\x20si'+'ze\x20of\x20the\x20'+'face\x20in\x20th'+'e\x20atlas)\x0a\x20'+'\x20\x20\x20vec3\x20om'+'niAtlasVie'+'wport;\x0a\x0a\x20\x20'+'\x20\x20//\x20range'+'\x20of\x20the\x20li'+'ght\x0a\x20\x20\x20\x20fl'+'oat\x20range;'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'hannel\x20mas'+'k\x20-\x20one\x20of'+'\x20the\x20chann'+'els\x20has\x201,'+'\x20the\x20other'+'s\x20are\x200\x0a\x20\x20'+'\x20\x20vec4\x20coo'+'kieChannel'+'Mask;\x0a\x0a\x20\x20\x20'+'\x20//\x20compre'+'ssed\x20biase'+'s,\x20two\x20haf'+'-floats\x20st'+'ored\x20in\x20a\x20'+'float\x0a\x20\x20\x20\x20'+'float\x20bias'+'esData;\x0a\x0a\x20')+('\x20\x20\x20//\x20shad'+'ow\x20bias\x20va'+'lues\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wBias;\x0a\x20\x20\x20'+'\x20float\x20sha'+'dowNormalB'+'ias;\x0a\x0a\x20\x20\x20\x20'+'//\x20compres'+'sed\x20angles'+',\x20two\x20haf-'+'floats\x20sto'+'red\x20in\x20a\x20f'+'loat\x0a\x20\x20\x20\x20f'+'loat\x20angle'+'sData;\x0a\x0a\x20\x20'+'\x20\x20//\x20spot\x20'+'light\x20inne'+'r\x20and\x20oute'+'r\x20angle\x20co'+'sine\x0a\x20\x20\x20\x20f'+'loat\x20inner'+'ConeAngleC'+'os;\x0a\x20\x20\x20\x20fl'+'oat\x20outerC'+'oneAngleCo'+'s;\x0a\x0a\x20\x20\x20\x20//'+'\x20intensity'+'\x20of\x20the\x20co'+'okie\x0a\x20\x20\x20\x20f'+'loat\x20cooki'+'eIntensity'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20mask'+'\x0a\x20\x20\x20\x20//flo'+'at\x20mask;\x0a\x20'+'\x20\x20\x20bool\x20is'+'Dynamic;\x0a\x20'+'\x20\x20\x20bool\x20is'+'Lightmappe'+'d;\x0a};\x0a\x0a//\x20'+'Note:\x20on\x20s'+'ome\x20device'+'s\x20(tested\x20'+'on\x20Pixel\x203'+'A\x20XL),\x20thi'+'s\x20matrix\x20w'+'hen\x20stored'+'\x20inside\x20th'+'e\x20light\x20st'+'ruct\x20has\x20l'+'ower\x20preci'+'sion\x20compa'+'red\x20to\x0a//\x20'+'when\x20store'+'d\x20outside,'+'\x20so\x20we\x20sto'+'re\x20it\x20outs'+'ide\x20to\x20avo'+'id\x20spot\x20sh'+'adow\x20flick'+'ering.\x20Thi'+'s\x20might\x20ne'+'ed\x20to\x20be\x20d'+'one\x20to\x20oth'+'er\x20/\x20all\x20m'+'embers\x0a//\x20'+'of\x20the\x20str'+'ucture\x20if\x20'+'further\x20si'+'milar\x20issu'+'es\x20are\x20obs'+'erved.\x0a\x0a//'+'\x20shadow\x20(s'+'pot\x20light\x20'+'only)\x20/\x20co'+'okie\x20proje'+'ction\x20matr'+'ix\x0amat4\x20li'+'ghtProject'+'ionMatrix;'+'\x0a\x0avec4\x20sam'+'pleLightTe'+'xtureF(con'+'st\x20Cluster'+'LightData\x20'+'clusterLig'+'htData,\x20in'+'t\x20index)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20texelFet'+'ch(lightsT'+'exture,\x20iv'+'ec2(index,'+'\x20clusterLi'+'ghtData.li'+'ghtIndex),'+'\x200);\x0a}\x0a\x0avo'+'id\x20decodeC'+'lusterLigh')+('tCore(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData,\x20flo'+'at\x20lightIn'+'dex)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20light'+'\x20index\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.li'+'ghtIndex\x20='+'\x20int(light'+'Index);\x0a\x0a\x20'+'\x20\x20\x20//\x20samp'+'le\x20data\x20en'+'coding\x20hal'+'f-float\x20va'+'lues\x20into\x20'+'32bit\x20uint'+'s\x0a\x20\x20\x20\x20vec4'+'\x20halfData\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'{CLUSTER_T'+'EXTURE_COL'+'OR_ANGLES_'+'BIAS});\x0a\x0a\x20'+'\x20\x20\x20//\x20stor'+'e\x20floats\x20w'+'e\x20decode\x20l'+'ater\x20as\x20ne'+'eded\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.angl'+'esData\x20=\x20h'+'alfData.z;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.biasesDa'+'ta\x20=\x20halfD'+'ata.w;\x0a\x0a\x20\x20'+'\x20\x20//\x20decom'+'press\x20colo'+'r\x20half-flo'+'ats\x0a\x20\x20\x20\x20ve'+'c2\x20colorRG'+'\x20=\x20unpackH'+'alf2x16(fl'+'oatBitsToU'+'int(halfDa'+'ta.x));\x0a\x20\x20'+'\x20\x20vec2\x20col'+'orB_\x20=\x20unp'+'ackHalf2x1'+'6(floatBit'+'sToUint(ha'+'lfData.y))'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.color\x20='+'\x20vec3(colo'+'rRG,\x20color'+'B_.x)\x20*\x20{L'+'IGHT_COLOR'+'_DIVIDER};'+'\x0a\x0a\x20\x20\x20\x20//\x20p'+'osition\x20an'+'d\x20range,\x20f'+'ull\x20floats'+'\x0a\x20\x20\x20\x20vec4\x20'+'lightPosRa'+'nge\x20=\x20samp'+'leLightTex'+'tureF(clus'+'terLightDa'+'ta,\x20{CLUST'+'ER_TEXTURE'+'_POSITION_'+'RANGE});\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'position\x20='+'\x20lightPosR'+'ange.xyz;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.range\x20=\x20l'+'ightPosRan'+'ge.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20spot\x20d'+'irection\x20&'+'\x20flags\x20dat'+'a\x0a\x20\x20\x20\x20vec4'+'\x20lightDir_'+'Flags\x20=\x20sa'+'mpleLightT'+'extureF(cl')+('usterLight'+'Data,\x20{CLU'+'STER_TEXTU'+'RE_DIRECTI'+'ON_FLAGS})'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'spot\x20light'+'\x20direction'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.directio'+'n\x20=\x20lightD'+'ir_Flags.x'+'yz;\x0a\x0a\x20\x20\x20\x20/'+'/\x2032bit\x20fl'+'ags\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.flags'+'\x20=\x20floatBi'+'tsToUint(l'+'ightDir_Fl'+'ags.w);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sSpot\x20=\x20(c'+'lusterLigh'+'tData.flag'+'s\x20&\x20(1u\x20<<'+'\x2030u))\x20!=\x20'+'0u;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.shape'+'\x20=\x20(cluste'+'rLightData'+'.flags\x20>>\x20'+'28u)\x20&\x200x3'+'u;\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.fallof'+'fModeLinea'+'r\x20=\x20(clust'+'erLightDat'+'a.flags\x20&\x20'+'(1u\x20<<\x2027u'+'))\x20==\x200u;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.shadowInt'+'ensity\x20=\x20f'+'loat((clus'+'terLightDa'+'ta.flags\x20>'+'>\x200u)\x20&\x200x'+'FFu)\x20/\x20255'+'.0;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.cooki'+'eIntensity'+'\x20=\x20float(('+'clusterLig'+'htData.fla'+'gs\x20>>\x208u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0;\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sDynamic\x20='+'\x20(clusterL'+'ightData.f'+'lags\x20&\x20(1u'+'\x20<<\x2022u))\x20'+'!=\x200u;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.is'+'Lightmappe'+'d\x20=\x20(clust'+'erLightDat'+'a.flags\x20&\x20'+'(1u\x20<<\x2021u'+'))\x20!=\x200u;\x0a'+'}\x0a\x0avoid\x20de'+'codeCluste'+'rLightSpot'+'(inout\x20Clu'+'sterLightD'+'ata\x20cluste'+'rLightData'+')\x20{\x0a\x0a\x20\x20\x20\x20/'+'/\x20spot\x20lig'+'ht\x20cos\x20ang'+'les\x0a\x20\x20\x20\x20ve'+'c2\x20angles\x20'+'=\x20unpackHa'+'lf2x16(flo'+'atBitsToUi'+'nt(cluster'+'LightData.'+'anglesData'+'));\x0a\x20\x20\x20\x20cl'+'usterLight')+('Data.inner'+'ConeAngleC'+'os\x20=\x20angle'+'s.x;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20angl'+'es.y;\x0a}\x0a\x0av'+'oid\x20decode'+'ClusterLig'+'htOmniAtla'+'sViewport('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.omniAt'+'lasViewpor'+'t\x20=\x20sample'+'LightTextu'+'reF(cluste'+'rLightData'+',\x20{CLUSTER'+'_TEXTURE_P'+'ROJ_MAT_0}'+').xyz;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtAreaDat'+'a(inout\x20Cl'+'usterLight'+'Data\x20clust'+'erLightDat'+'a)\x20{\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.half'+'Width\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20{CLU'+'STER_TEXTU'+'RE_AREA_DA'+'TA_WIDTH})'+'.xyz;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.hal'+'fHeight\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData,\x20{C'+'LUSTER_TEX'+'TURE_AREA_'+'DATA_HEIGH'+'T}).xyz;\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightProje'+'ctionMatri'+'xData(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20m0\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData,\x20{CL'+'USTER_TEXT'+'URE_PROJ_M'+'AT_0});\x0a\x20\x20'+'\x20\x20vec4\x20m1\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'{CLUSTER_T'+'EXTURE_PRO'+'J_MAT_1});'+'\x0a\x20\x20\x20\x20vec4\x20'+'m2\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20{CLUSTE'+'R_TEXTURE_'+'PROJ_MAT_2'+'});\x0a\x20\x20\x20\x20ve'+'c4\x20m3\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight')+('Data,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_3});\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4('+'m0,\x20m1,\x20m2'+',\x20m3);\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtShadowD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20//\x20s'+'hadow\x20bias'+'es\x0a\x20\x20\x20\x20vec'+'2\x20biases\x20='+'\x20unpackHal'+'f2x16(floa'+'tBitsToUin'+'t(clusterL'+'ightData.b'+'iasesData)'+');\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.shadow'+'Bias\x20=\x20bia'+'ses.x;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.sh'+'adowNormal'+'Bias\x20=\x20bia'+'ses.y;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtCookieD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20extra'+'ct\x20channel'+'\x20mask\x20from'+'\x20flags\x0a\x20\x20\x20'+'\x20uint\x20cook'+'ieFlags\x20=\x20'+'(clusterLi'+'ghtData.fl'+'ags\x20>>\x2023u'+')\x20&\x200x0Fu;'+'\x20\x20//\x204bits'+',\x20each\x20bit'+'\x20enables\x20a'+'\x20channel\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'cookieChan'+'nelMask\x20=\x20'+'vec4(uvec4'+'(cookieFla'+'gs)\x20&\x20uvec'+'4(1u,\x202u,\x20'+'4u,\x208u));\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.cookieCha'+'nnelMask\x20='+'\x20step(1.0,'+'\x20clusterLi'+'ghtData.co'+'okieChanne'+'lMask);\x20\x20/'+'/\x20Normaliz'+'e\x20to\x200.0\x20o'+'r\x201.0\x0a}\x0a\x0av'+'oid\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20Cluster'+'LightData\x20'+'light,\x20\x0a\x20\x20'+'\x20\x20vec3\x20wor'+'ldNormal,\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'viewDir,\x20\x0a'+'\x20\x20\x20\x20vec3\x20r'+'eflectionD'+'ir,\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20vec3\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20')+('\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20mat3\x20tb'+'n,\x20\x0a#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20vec'+'3\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20vec3\x20cl'+'earcoat_wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20float'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20float\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce_intensi'+'ty\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20vec'+'3(1.0);\x0a\x20\x20'+'\x20\x20float\x20di'+'ffuseAtten'+'uation\x20=\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20fallof'+'fAttenuati'+'on\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20//\x20ev'+'aluate\x20omn'+'i\x20part\x20of\x20'+'the\x20light\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ightDirW\x20='+'\x20evalOmniL'+'ight(light'+'.position)'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'ormW\x20=\x20nor'+'malize(lig'+'htDirW);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_A'+'REALIGHTS\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'stance\x20att'+'enuation\x0a\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20!'+'=\x20{LIGHTSH'+'APE_PUNCTU'+'AL})\x20{\x20//\x20'+'area\x20light'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tAreaData('+'light);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'handle\x20lig'+'ht\x20shape\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcRectLig'+'htValues(l'+'ight.posit'+'ion,\x20light'+'.halfWidth'+',\x20light.ha'+'lfHeight);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcDiskLigh'+'tValues(li'+'ght.positi'+'on,\x20light.'+'halfWidth,'+'\x20light.hal'+'fHeight);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20')+('else\x20{\x20//\x20'+'sphere\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcSphereL'+'ightValues'+'(light.pos'+'ition,\x20lig'+'ht.halfWid'+'th,\x20light.'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20falloffA'+'ttenuation'+'\x20=\x20getFall'+'offWindow('+'light.rang'+'e,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.fallo'+'ffModeLine'+'ar)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fall'+'offAttenua'+'tion\x20=\x20get'+'FalloffLin'+'ear(light.'+'range,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20fallof'+'fAttenuati'+'on\x20=\x20getFa'+'lloffInvSq'+'uared(ligh'+'t.range,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20if\x20(fall'+'offAttenua'+'tion\x20>\x200.0'+'0001)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20CLUSTE'+'R_AREALIGH'+'TS\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'t.shape\x20!='+'\x20{LIGHTSHA'+'PE_PUNCTUA'+'L})\x20{\x20//\x20a'+'rea\x20light\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20hand'+'le\x20light\x20s'+'hape\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20diffuse'+'Attenuatio'+'n\x20=\x20getRec'+'tLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirW,\x20lig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(light.s'+'hape\x20==\x20{L'+'IGHTSHAPE_'+'DISK})\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20diffu'+'seAttenuat'+'ion\x20=\x20getD'+'iskLightDi'+'ffuse(worl'+'dNormal,\x20v'+'iewDir,\x20li'+'ghtDirW,\x20l'+'ightDirNor'+'mW)\x20*\x2016.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getSphereL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irW,\x20light'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fal'+'loffAttenu'+'ation\x20*=\x20g'+'etLightDif'+'fuse(world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+');\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spot'+'\x20light\x20fal'+'loff\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.isSpot)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtSpot(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20*=\x20'+'getSpotEff'+'ect(light.'+'direction,'+'\x20light.inn'+'erConeAngl'+'eCos,\x20ligh'+'t.outerCon'+'eAngleCos,'+'\x20lightDirN'+'ormW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_COOK'+'IES)\x20||\x20de'+'fined(CLUS'+'TER_SHADOW'+'S)\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(fall'+'offAttenua'+'tion\x20>\x200.0'+'0001)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20shadow'+'\x20/\x20cookie\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'t.shadowIn'+'tensity\x20>\x20'+'0.0\x20||\x20lig'+'ht.cookieI'+'ntensity\x20>'+'\x200.0)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'ared\x20shado'+'w\x20/\x20cookie'+'\x20data\x20depe'+'nds\x20on\x20lig'+'ht\x20type\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.isSpot'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20decode'+'ClusterLig'+'htProjecti'+'onMatrixDa'+'ta(light);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20deco'+'deClusterL'+'ightOmniAt'+'lasViewpor'+'t(light);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowAtlasPa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadowEdge'+'Pixels\x20=\x20s'+'hadowAtlas'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20CLUSTE'+'R_COOKIES\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'cookie\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.cookieI'+'ntensity\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20de'+'codeCluste'+'rLightCook'+'ieData(lig'+'ht);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.isSp'+'ot)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'cookieAtte'+'nuation\x20=\x20'+'getCookie2'+'DClustered'+'(TEXTURE_P'+'ASS(cookie'+'AtlasTextu'+'re),\x20light'+'Projection'+'Matrix,\x20vP'+'ositionW,\x20'+'light.cook'+'ieIntensit'+'y,\x20light.c'+'ookieChann'+'elMask);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20cookieAt'+'tenuation\x20'+'=\x20getCooki'+'eCubeClust'+'ered(TEXTU'+'RE_PASS(co'+'okieAtlasT'+'exture),\x20l'+'ightDirW,\x20'+'light.cook'+'ieIntensit'+'y,\x20light.c'+'ookieChann'+'elMask,\x20sh'+'adowTextur'+'eResolutio'+'n,\x20shadowE'+'dgePixels,'+'\x20light.omn'+'iAtlasView'+'port);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20CLUST'+'ER_SHADOWS'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20shadow\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.shadow'+'Intensity\x20'+'>\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d')+('ecodeClust'+'erLightSha'+'dowData(li'+'ght);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20shadowPa'+'rams\x20=\x20vec'+'4(shadowTe'+'xtureResol'+'ution,\x20lig'+'ht.shadowN'+'ormalBias,'+'\x20light.sha'+'dowBias,\x201'+'.0\x20/\x20light'+'.range);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(light.'+'isSpot)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ot\x20shadow\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(lightPro'+'jectionMat'+'rix,\x20shado'+'wParams,\x20g'+'eometricNo'+'rmal);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F1)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x20get'+'ShadowSpot'+'ClusteredP'+'CF1(SHADOW'+'MAP_PASS(s'+'hadowAtlas'+'Texture),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20de'+'fined(CLUS'+'TER_SHADOW'+'_TYPE_PCF3'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20shad'+'ow\x20=\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(SHADOWMA'+'P_PASS(sha'+'dowAtlasTe'+'xture),\x20sh'+'adowCoord,'+'\x20shadowPar'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#elif\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF5)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'\x20=\x20getShad'+'owSpotClus'+'teredPCF5('+'SHADOWMAP_'+'PASS(shado'+'wAtlasText'+'ure),\x20shad'+'owCoord,\x20s'+'hadowParam')+('s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCSS)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20shadow\x20='+'\x20getShadow'+'SpotCluste'+'redPCSS(SH'+'ADOWMAP_PA'+'SS(shadowA'+'tlasTextur'+'e),\x20shadow'+'Coord,\x20sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fal'+'loffAttenu'+'ation\x20*=\x20m'+'ix(1.0,\x20sh'+'adow,\x20ligh'+'t.shadowIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20om'+'ni\x20shadow\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20d'+'ir\x20=\x20norma'+'lOffsetPoi'+'ntShadow(s'+'hadowParam'+'s,\x20light.p'+'osition,\x20l'+'ightDirW,\x20'+'lightDirNo'+'rmW,\x20geome'+'tricNormal'+');\x20\x20//\x20nor'+'malBias\x20ad'+'justed\x20for'+'\x20distance\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'1)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dow\x20=\x20getS'+'hadowOmniC'+'lusteredPC'+'F1(SHADOWM'+'AP_PASS(sh'+'adowAtlasT'+'exture),\x20s'+'hadowParam'+'s,\x20light.o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20dir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF3)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowOm'+'niClustere'+'dPCF3(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20shadowPa'+'rams,\x20ligh'+'t.omniAtla'+'sViewport,')+('\x20shadowEdg'+'ePixels,\x20d'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF5)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20shadow\x20'+'=\x20getShado'+'wOmniClust'+'eredPCF5(S'+'HADOWMAP_P'+'ASS(shadow'+'AtlasTextu'+'re),\x20shado'+'wParams,\x20l'+'ight.omniA'+'tlasViewpo'+'rt,\x20shadow'+'EdgePixels'+',\x20dir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20*=\x20mix(1'+'.0,\x20shadow'+',\x20light.sh'+'adowIntens'+'ity);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'/\x20specular'+'\x20/\x20clearco'+'at\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_AREA'+'LIGHTS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.shap'+'e\x20!=\x20{LIGH'+'TSHAPE_PUN'+'CTUAL})\x20{\x20'+'//\x20area\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20diffuse\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20areaDi'+'ffuse\x20=\x20(d'+'iffuseAtte'+'nuation\x20*\x20'+'falloffAtt'+'enuation)\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_SP'+'ECULAR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaDiffuse\x20'+'=\x20mix(area'+'Diffuse,\x20v'+'ec3(0),\x20dL'+'TCSpecFres'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20area'+'\x20light\x20dif'+'fuse\x20-\x20it\x20'+'does\x20not\x20m'+'ix\x20diffuse'+'\x20lighting\x20')+('into\x20specu'+'lar\x20attenu'+'ation\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20a'+'reaDiffuse'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20and\x20clear'+'\x20coat\x20are\x20'+'material\x20s'+'ettings\x20an'+'d\x20get\x20incl'+'uded\x20by\x20a\x20'+'define\x20bas'+'ed\x20on\x20the\x20'+'material\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20area\x20ligh'+'t\x20specular'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20areaLig'+'htSpecular'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(light.s'+'hape\x20==\x20{L'+'IGHTSHAPE_'+'RECT})\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'reaLightSp'+'ecular\x20=\x20g'+'etRectLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20area'+'LightSpecu'+'lar\x20=\x20getD'+'iskLightSp'+'ecular(wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x20//\x20sp'+'here\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'ar\x20=\x20getSp'+'hereLightS'+'pecular(wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSpe'+'cularLight'+'\x20+=\x20dLTCSp'+'ecFres\x20*\x20a'+'reaLightSp'+'ecular\x20*\x20f'+'alloffAtte'+'nuation\x20*\x20'+'light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20spec'+'ular\x20clear'+'\x20coat\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20areaLigh'+'tSpecularC')+('C;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.shape\x20'+'==\x20{LIGHTS'+'HAPE_RECT}'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaLightSpe'+'cularCC\x20=\x20'+'getRectLig'+'htSpecular'+'(clearcoat'+'_worldNorm'+'al,\x20viewDi'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(light'+'.shape\x20==\x20'+'{LIGHTSHAP'+'E_DISK})\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'arCC\x20=\x20get'+'DiskLightS'+'pecular(cl'+'earcoat_wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x20'+'//\x20sphere\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaLi'+'ghtSpecula'+'rCC\x20=\x20getS'+'phereLight'+'Specular(c'+'learcoat_w'+'orldNormal'+',\x20viewDir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20+=\x20ccLTCS'+'pecFres\x20*\x20'+'areaLightS'+'pecularCC\x20'+'*\x20falloffA'+'ttenuation'+'\x20*\x20light.c'+'olor\x20\x20*\x20co'+'okieAttenu'+'ation;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20{\x20\x20\x20\x20//\x20'+'punctual\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20punctual\x20'+'light\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'unctualDif'+'fuse\x20=\x20fal'+'loffAttenu'+'ation\x20*\x20li'+'ght.color\x20'+'*\x20cookieAt'+'tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'CLUSTER_AR'+'EALIGHTS)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_SPECULAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20punctual')+('Diffuse\x20=\x20'+'mix(punctu'+'alDiffuse,'+'\x20vec3(0),\x20'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20punctu'+'alDiffuse;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'ar\x20and\x20cle'+'ar\x20coat\x20ar'+'e\x20material'+'\x20settings\x20'+'and\x20get\x20in'+'cluded\x20by\x20'+'a\x20define\x20b'+'ased\x20on\x20th'+'e\x20material'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20halfD'+'ir\x20=\x20norma'+'lize(-ligh'+'tDirNormW\x20'+'+\x20viewDir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ecular\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR_FRESNEL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20+=\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getLig'+'htSpecular'+'(halfDir,\x20'+'reflection'+'Dir,\x20world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+',\x20gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'viewDir,\x20h'+'alfDir),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecular('+'halfDir,\x20c'+'learcoatRe'+'flectionDi'+'r,\x20clearco'+'at_worldNo'+'rmal,\x20view'+'Dir,\x20light'+'DirNormW,\x20'+'clearcoat_'+'gloss,\x20tbn'+')\x20*\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation\x20*\x20g'+'etFresnelC'+'C(dot(view'+'Dir,\x20halfD'+'ir));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20+=\x20getLi'+'ghtSpecula'+'r(halfDir,'+'\x20clearcoat'+'Reflection'+'Dir,\x20clear'+'coat_world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+',\x20clearcoa'+'t_gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation;\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'HEEN\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sSpec')+('ularLight\x20'+'+=\x20getLigh'+'tSpecularS'+'heen(halfD'+'ir,\x20worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirNormW,'+'\x20sheen_glo'+'ss)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20Wri'+'te\x20to\x20glob'+'al\x20attenua'+'tion\x20value'+'s\x20(for\x20lig'+'htmapper)\x0a'+'\x20\x20\x20\x20dAtten'+'\x20=\x20falloff'+'Attenuatio'+'n;\x0a\x20\x20\x20\x20dLi'+'ghtDirNorm'+'W\x20=\x20lightD'+'irNormW;\x0a}'+'\x0a\x0avoid\x20eva'+'luateClust'+'erLight(\x0a\x20'+'\x20\x20\x20float\x20l'+'ightIndex,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20worldNorm'+'al,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20viewDi'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20reflect'+'ionDir,\x20\x0a#'+'if\x20defined'+'(LIT_CLEAR'+'COAT)\x0a\x20\x20\x20\x20'+'vec3\x20clear'+'coatReflec'+'tionDir,\x0a#'+'endif\x0a\x20\x20\x20\x20'+'float\x20glos'+'s,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20specula'+'rity,\x20\x0a\x20\x20\x20'+'\x20vec3\x20geom'+'etricNorma'+'l,\x20\x0a\x20\x20\x20\x20ma'+'t3\x20tbn,\x20\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x0a#en'+'dif\x0a\x20\x20\x20\x20ve'+'c3\x20clearco'+'at_worldNo'+'rmal,\x0a\x20\x20\x20\x20'+'float\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20flo'+'at\x20sheen_g'+'loss,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escence_in'+'tensity\x0a)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'decode\x20cor'+'e\x20light\x20da'+'ta\x20from\x20te'+'xtures\x0a\x20\x20\x20'+'\x20ClusterLi'+'ghtData\x20cl'+'usterLight'+'Data;\x0a\x20\x20\x20\x20'+'decodeClus'+'terLightCo'+'re(cluster'+'LightData,'+'\x20lightInde'+'x);\x0a\x0a\x20\x20\x20\x20/'+'/\x20evaluate'+'\x20light\x20if\x20'+'it\x20uses\x20ac'+'cepted\x20lig'+'ht\x20mask\x0a\x20\x20'+'\x20\x20#ifdef\x20C')+('LUSTER_MES'+'H_DYNAMIC_'+'LIGHTS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20bool\x20'+'acceptLigh'+'tMask\x20=\x20cl'+'usterLight'+'Data.isDyn'+'amic;\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20bool\x20a'+'cceptLight'+'Mask\x20=\x20clu'+'sterLightD'+'ata.isLigh'+'tmapped;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20if\x20(a'+'cceptLight'+'Mask)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clusterLi'+'ghtData,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vi'+'ewDir,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'reflection'+'Dir,\x20\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x20\x0a'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_worldNorm'+'al,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sheen'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a}\x0a\x0avoid'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20reflecti'+'onDir,\x20\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20v'+'ec3\x20clearc'+'oatReflect'+'ionDir,\x0a#e'+'ndif\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20mat'+'3\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a#end')+('if\x0a\x20\x20\x20\x20vec'+'3\x20clearcoa'+'t_worldNor'+'mal,\x0a\x20\x20\x20\x20f'+'loat\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20floa'+'t\x20sheen_gl'+'oss,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence_int'+'ensity\x0a)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'kip\x20lights'+'\x20if\x20no\x20lig'+'hts\x20at\x20all'+'\x0a\x20\x20\x20\x20if\x20(c'+'lusterSkip'+'\x20>\x200.5)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20positi'+'on\x20to\x203d\x20i'+'nteger\x20cel'+'l\x20cordinat'+'es\x20in\x20the\x20'+'cluster\x20st'+'ructure\x0a\x20\x20'+'\x20\x20vec3\x20cel'+'lCoords\x20=\x20'+'floor((vPo'+'sitionW\x20-\x20'+'clusterBou'+'ndsMin)\x20*\x20'+'clusterCel'+'lsCountByB'+'oundsSize)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'no\x20lightin'+'g\x20when\x20cel'+'l\x20coordina'+'te\x20is\x20out\x20'+'of\x20range\x0a\x20'+'\x20\x20\x20if\x20(!(a'+'ny(lessTha'+'n(cellCoor'+'ds,\x20vec3(0'+'.0)))\x20||\x20a'+'ny(greater'+'ThanEqual('+'cellCoords'+',\x20clusterC'+'ellsMax)))'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cell'+'\x20index\x20(ma'+'pping\x20from'+'\x203d\x20cell\x20c'+'oordinates'+'\x20to\x20linear'+'\x20memory)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20cellInd'+'ex\x20=\x20dot(c'+'lusterCell'+'sDot,\x20cell'+'Coords);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20convert\x20c'+'ell\x20index\x20'+'to\x20uv\x20coor'+'dinates\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20clusterV'+'\x20=\x20floor(c'+'ellIndex\x20*'+'\x20clusterTe'+'xtureSize.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20cl'+'usterU\x20=\x20c'+'ellIndex\x20-'+'\x20(clusterV'+'\x20*\x20cluster'+'TextureSiz'+'e.x);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20lo'+'op\x20over\x20ma'+'ximum\x20numb'+'er\x20of\x20ligh'+'t\x20cells\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20light'+'CellIndex\x20'+'=\x200;\x20light'+'CellIndex\x20'+'<\x20clusterM'+'axCells;\x20l'+'ightCellIn')+('dex++)\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20using'+'\x20a\x20single\x20'+'channel\x20te'+'xture\x20with'+'\x20data\x20in\x20r'+'ed\x20channel'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20l'+'ightIndex\x20'+'=\x20texelFet'+'ch(cluster'+'WorldTextu'+'re,\x20ivec2('+'int(cluste'+'rU)\x20+\x20ligh'+'tCellIndex'+',\x20clusterV'+'),\x200).x;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'tIndex\x20<=\x20'+'0.0)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20break;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20evaluateC'+'lusterLigh'+'t(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'ightIndex\x20'+'*\x20255.0,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20reflecti'+'onDir,\x0a#if'+'\x20defined(L'+'IT_CLEARCO'+'AT)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceFre'+'snel,\x0a#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'learcoat_w'+'orldNormal'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cl'+'earcoat_gl'+'oss,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sheen_glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),m1='\x0avec3\x20comb'+'ineColor(v'+'ec3\x20albedo'+',\x20vec3\x20she'+'enSpecular'+'ity,\x20float'+'\x20clearcoat'+'Specularit'+'y)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20ret\x20=\x20'+'vec3(0);\x0a#'+'ifdef\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20ret\x20'+'+=\x20(dDiffu'+'seLight\x20-\x20'+'light_glob'+'alAmbient)'+'\x20*\x20albedo\x20'+'+\x20material'+'_ambient\x20*'+'\x20light_glo'+'balAmbient'+';\x0a#else\x0a\x20\x20'+'\x20\x20ret\x20+=\x20a'+'lbedo\x20*\x20dD'+'iffuseLigh'+'t;\x0a#endif\x0a'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20ret\x20+='+'\x20dSpecular'+'Light;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_REFLE'+'CTIONS\x0a\x20\x20\x20'+'\x20ret\x20+=\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a;'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'float\x20shee'+'nScaling\x20='+'\x201.0\x20-\x20max'+'(max(sheen'+'Specularit'+'y.r,\x20sheen'+'Specularit'+'y.g),\x20shee'+'nSpeculari'+'ty.b)\x20*\x200.'+'157;\x0a\x20\x20\x20\x20r'+'et\x20=\x20ret\x20*'+'\x20sheenScal'+'ing\x20+\x20(sSp'+'ecularLigh'+'t\x20+\x20sRefle'+'ction.rgb)'+'\x20*\x20sheenSp'+'ecularity;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20float\x20c'+'learCoatSc'+'aling\x20=\x201.'+'0\x20-\x20ccFres'+'nel\x20*\x20clea'+'rcoatSpecu'+'larity;\x0a\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20clearC'+'oatScaling'+'\x20+\x20(ccSpec'+'ularLight\x20'+'+\x20ccReflec'+'tion)\x20*\x20cl'+'earcoatSpe'+'cularity;\x0a'+'#endif\x0a\x0a\x20\x20'+'\x20\x20return\x20r'+'et;\x0a}\x0a',_1='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blitT'+'exture;\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20texture'+'2D(blitTex'+'ture,\x20uv0)'+';\x0a\x20\x20\x20\x20}\x0a',g1='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'erCube\x20bli'+'tTexture;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20inv'+'ViewProj;\x0a'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20vec4('+'uv0\x20*\x202.0\x20'+'-\x201.0,\x200.5'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20worldPos\x20'+'=\x20invViewP'+'roj\x20*\x20proj'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20te'+'xtureCube('+'blitTextur'+'e,\x20worldPo'+'s.xyz);\x0a\x20\x20'+'\x20\x20}\x0a',S1='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uv0'+'.y\x20=\x201.0\x20-'+'\x20uv0.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20}\x0a',y1='\x0a//\x20light\x20'+'cookie\x20fun'+'ctionality'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0avec4'+'\x20getCookie'+'2D(sampler'+'2D\x20tex,\x20ma'+'t4\x20transfo'+'rm,\x20float\x20'+'intensity)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(v'+'PositionW,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'y\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'return\x20mix'+'(vec4(1.0)'+',\x20texture2'+'D(tex,\x20pro'+'jPos.xy),\x20'+'intensity)'+';\x0a}\x0a\x0avec4\x20'+'getCookie2'+'DClip(samp'+'ler2D\x20tex,'+'\x20mat4\x20tran'+'sform,\x20flo'+'at\x20intensi'+'ty)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20trans'+'form\x20*\x20vec'+'4(vPositio'+'nW,\x201.0);\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20/=\x20pr'+'ojPos.w;\x0a\x20'+'\x20\x20\x20if\x20(pro'+'jPos.x\x20<\x200'+'.0\x20||\x20proj'+'Pos.x\x20>\x201.'+'0\x20||\x20projP'+'os.y\x20<\x200.0'+'\x20||\x20projPo'+'s.y\x20>\x201.0\x20'+'||\x20projPos'+'.z\x20<\x200.0)\x20'+'return\x20vec'+'4(0.0);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(vec4(1.'+'0),\x20textur'+'e2D(tex,\x20p'+'rojPos.xy)'+',\x20intensit'+'y);\x0a}\x0a\x0avec'+'4\x20getCooki'+'e2DXform(s'+'ampler2D\x20t'+'ex,\x20mat4\x20t'+'ransform,\x20'+'float\x20inte'+'nsity,\x20vec'+'4\x20cookieMa'+'trix,\x20vec2'+'\x20cookieOff'+'set)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20proj'+'Pos\x20=\x20tran'+'sform\x20*\x20ve'+'c4(vPositi'+'onW,\x201.0);'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20/=\x20p'+'rojPos.w;\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20+=\x20co'+'okieOffset'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookie2D'+'ClipXform('+('sampler2D\x20'+'tex,\x20mat4\x20'+'transform,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieM'+'atrix,\x20vec'+'2\x20cookieOf'+'fset)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'jPos\x20=\x20tra'+'nsform\x20*\x20v'+'ec4(vPosit'+'ionW,\x201.0)'+';\x0a\x20\x20\x20\x20proj'+'Pos.xy\x20/=\x20'+'projPos.w;'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20+=\x20c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20if\x20'+'(projPos.x'+'\x20<\x200.0\x20||\x20'+'projPos.x\x20'+'>\x201.0\x20||\x20p'+'rojPos.y\x20<'+'\x200.0\x20||\x20pr'+'ojPos.y\x20>\x20'+'1.0\x20||\x20pro'+'jPos.z\x20<\x200'+'.0)\x20return'+'\x20vec4(0.0)'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookieCu'+'be(sampler'+'Cube\x20tex,\x20'+'mat4\x20trans'+'form,\x20floa'+'t\x20intensit'+'y)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'vec4(1.0),'+'\x20textureCu'+'be(tex,\x20dL'+'ightDirNor'+'mW\x20*\x20mat3('+'transform)'+'),\x20intensi'+'ty);\x0a}\x0a'),v1='\x0a\x0a#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20BOX\x0a\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20envBoxM'+'in;\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20envBoxMax'+';\x0a#endif\x0a\x0a'+'vec3\x20cubeM'+'apProject('+'vec3\x20nrdir'+')\x20{\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIT_CUB'+'EMAP_PROJE'+'CTION\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20c'+'ubeMapRota'+'te(nrdir);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20LIT_CUBEM'+'AP_PROJECT'+'ION\x20==\x20BOX'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'nrdir\x20=\x20cu'+'beMapRotat'+'e(nrdir);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20rbmax\x20'+'=\x20(envBoxM'+'ax\x20-\x20vPosi'+'tionW)\x20/\x20n'+'rdir;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20r'+'bmin\x20=\x20(en'+'vBoxMin\x20-\x20'+'vPositionW'+')\x20/\x20nrdir;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20rbmin'+'max\x20=\x20mix('+'rbmin,\x20rbm'+'ax,\x20vec3(g'+'reaterThan'+'(nrdir,\x20ve'+'c3(0.0))))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20fa\x20='+'\x20min(min(r'+'bminmax.x,'+'\x20rbminmax.'+'y),\x20rbminm'+'ax.z);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20posonbox\x20'+'=\x20vPositio'+'nW\x20+\x20nrdir'+'\x20*\x20fa;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'envBoxPos\x20'+'=\x20(envBoxM'+'in\x20+\x20envBo'+'xMax)\x20*\x200.'+'5;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20no'+'rmalize(po'+'sonbox\x20-\x20e'+'nvBoxPos);'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',x1='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20mat3\x20cu'+'beMapRotat'+'ionMatrix;'+'\x0a#endif\x0a\x0av'+'ec3\x20cubeMa'+'pRotate(ve'+'c3\x20refDir)'+'\x20{\x0a#ifdef\x20'+'CUBEMAP_RO'+'TATION\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ref'+'Dir;\x0a#endi'+'f\x0a}\x0a',T1='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0agl_FragCo'+'lor\x20=\x20vec4'+'(litArgs_a'+'lbedo\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_WORLD'+'_NORMAL_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(litArgs'+'_worldNorm'+'al\x20*\x200.5\x20+'+'\x200.5,\x201.0)'+';\x0a#endif\x0a\x0a'+'#ifdef\x20DEB'+'UG_OPACITY'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(vec3'+'(litArgs_o'+'pacity)\x20,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_SPE'+'CULARITY_P'+'ASS\x0agl_Fra'+'gColor\x20=\x20v'+'ec4(litArg'+'s_specular'+'ity,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_GLOSS_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(vec3(li'+'tArgs_glos'+'s)\x20,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_METALNES'+'S_PASS\x0agl_'+'FragColor\x20'+'=\x20vec4(vec'+'3(litArgs_'+'metalness)'+'\x20,\x201.0);\x0a#'+'endif\x0a\x0a#if'+'def\x20DEBUG_'+'AO_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ve'+'c3(litArgs'+'_ao)\x20,\x201.0'+');\x0a#endif\x0a'+'\x0a#ifdef\x20DE'+'BUG_EMISSI'+'ON_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ga'+'mmaCorrect'+'Output(lit'+'Args_emiss'+'ion),\x201.0)'+';\x0a#endif\x0a',w1='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0ali'+'tArgs_albe'+'do\x20=\x20vec3('+'0.5);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_UV0'+'_PASS\x0a#ifd'+'ef\x20VARYING'+'_VUV0\x0alitA'+'rgs_albedo'+'\x20=\x20vec3(vU'+'v0,\x200);\x0a#e'+'lse\x0alitArg'+'s_albedo\x20='+'\x20vec3(0);\x0a'+'#endif\x0a#en'+'dif\x0a',E1='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0avec3\x20'+'decodeLine'+'ar(vec4\x20ra'+'w)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw.'+'rgb;\x0a}\x0a\x0afl'+'oat\x20decode'+'Gamma(floa'+'t\x20raw)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow(raw,\x202'+'.2);\x0a}\x0a\x0ave'+'c3\x20decodeG'+'amma(vec3\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w(raw,\x20vec'+'3(2.2));\x0a}'+'\x0a\x0avec3\x20dec'+'odeGamma(v'+'ec4\x20raw)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(raw.'+'xyz,\x20vec3('+'2.2));\x0a}\x0a\x0a'+'vec3\x20decod'+'eRGBM(vec4'+'\x20raw)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20col'+'or\x20=\x20(8.0\x20'+'*\x20raw.a)\x20*'+'\x20raw.rgb;\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0av'+'ec3\x20decode'+'RGBP(vec4\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x20raw.rg'+'b\x20*\x20(-raw.'+'a\x20*\x207.0\x20+\x20'+'8.0);\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBE'+'(vec4\x20raw)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(raw.a\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec3(0.0'+',\x200.0,\x200.0'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20raw.xyz\x20*'+'\x20pow(2.0,\x20'+'raw.w\x20*\x2025'+'5.0\x20-\x20128.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0avec4\x20pa'+'ssThrough('+'vec4\x20raw)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20raw;\x0a}\x0a'+'\x0avec3\x20unpa'+'ckNormalXY'+'Z(vec4\x20nma'+'p)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20nmap'+'.xyz\x20*\x202.0'+'\x20-\x201.0;\x0a}\x0a'+'\x0avec3\x20unpa'+'ckNormalXY'+'(vec4\x20nmap'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20normal;'+'\x0a\x20\x20\x20\x20norma'+'l.xy\x20=\x20nma'+'p.wy\x20*\x202.0'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20normal.z'+'\x20=\x20sqrt(1.'+'0\x20-\x20clamp('+'dot(normal'+'.xy,\x20norma'+'l.xy),\x200.0'+',\x201.0));\x0a\x20'+'\x20\x20\x20return\x20'+'normal;\x0a}\x0a'+'\x0a#endif\x0a',b1='\x0a\x0a#ifndef\x20'+'_DETAILMOD'+'ES_INCLUDE'+'D_\x0a#define'+'\x20_DETAILMO'+'DES_INCLUD'+'ED_\x0a\x0avec3\x20'+'detailMode'+'_mul(vec3\x20'+'c1,\x20vec3\x20c'+'2)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20c1\x20*'+'\x20c2;\x0a}\x0a\x0ave'+'c3\x20detailM'+'ode_add(ve'+'c3\x20c1,\x20vec'+'3\x20c2)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'1\x20+\x20c2;\x0a}\x0a'+'\x0a//\x20https:'+'//en.wikip'+'edia.org/w'+'iki/Blend_'+'modes#Scre'+'en\x0avec3\x20de'+'tailMode_s'+'creen(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x201.0'+'\x20-\x20(1.0\x20-\x20'+'c1)*(1.0\x20-'+'\x20c2);\x0a}\x0a\x0a/'+'/\x20https://'+'en.wikiped'+'ia.org/wik'+'i/Blend_mo'+'des#Overla'+'y\x0avec3\x20det'+'ailMode_ov'+'erlay(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(1.0\x20-\x202.0'+'\x20*\x20(1.0\x20-\x20'+'c1)*(1.0\x20-'+'\x20c2),\x202.0\x20'+'*\x20c1\x20*\x20c2,'+'\x20step(c1,\x20'+'vec3(0.5))'+');\x0a}\x0a\x0avec3'+'\x20detailMod'+'e_min(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20min'+'(c1,\x20c2);\x0a'+'}\x0a\x0avec3\x20de'+'tailMode_m'+'ax(vec3\x20c1'+',\x20vec3\x20c2)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20max(c1'+',\x20c2);\x0a}\x0a\x0a'+'#endif\x0a',A1='\x0auniform\x20v'+'ec3\x20materi'+'al_diffuse'+';\x0a\x0a#ifdef\x20'+'STD_DIFFUS'+'EDETAIL_TE'+'XTURE\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'detailMode'+'sPS\x22\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20mate'+'rial_diffu'+'se.rgb;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_DIFFUS'+'E_TEXTURE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20albedoT'+'exture\x20=\x20{'+'STD_DIFFUS'+'E_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_DIF'+'FUSE_TEXTU'+'RE_NAME},\x20'+'{STD_DIFFU'+'SE_TEXTURE'+'_UV},\x20text'+'ureBias)).'+'{STD_DIFFU'+'SE_TEXTURE'+'_CHANNEL};'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSEDE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'albedoDeta'+'il\x20=\x20{STD_'+'DIFFUSEDET'+'AIL_TEXTUR'+'E_DECODE}('+'texture2DB'+'ias({STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_NAME},\x20{S'+'TD_DIFFUSE'+'DETAIL_TEX'+'TURE_UV},\x20'+'textureBia'+'s)).{STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20albedoT'+'exture\x20=\x20d'+'etailMode_'+'{STD_DIFFU'+'SEDETAIL_D'+'ETAILMODE}'+'(albedoTex'+'ture,\x20albe'+'doDetail);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAlbe'+'do\x20*=\x20albe'+'doTexture;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_DI'+'FFUSE_VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dAlbedo\x20*'+'=\x20gammaCor'+'rectInput('+'saturate(v'+'VertexColo'+'r.{STD_DIF'+'FUSE_VERTE'+'X_CHANNEL}'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',C1='\x0auniform\x20v'+'ec3\x20materi'+'al_emissiv'+'e;\x0auniform'+'\x20float\x20mat'+'erial_emis'+'siveIntens'+'ity;\x0a\x0avoid'+'\x20getEmissi'+'on()\x20{\x0a\x20\x20\x20'+'\x20dEmission'+'\x20=\x20materia'+'l_emissive'+'\x20*\x20materia'+'l_emissive'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_EMI'+'SSIVE_TEXT'+'URE\x0a\x20\x20\x20\x20dE'+'mission\x20*='+'\x20{STD_EMIS'+'SIVE_TEXTU'+'RE_DECODE}'+'(texture2D'+'Bias({STD_'+'EMISSIVE_T'+'EXTURE_NAM'+'E},\x20{STD_E'+'MISSIVE_TE'+'XTURE_UV},'+'\x20textureBi'+'as)).{STD_'+'EMISSIVE_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_EMISSI'+'VE_VERTEX\x0a'+'\x20\x20\x20\x20dEmiss'+'ion\x20*=\x20gam'+'maCorrectI'+'nput(satur'+'ate(vVerte'+'xColor.{ST'+'D_EMISSIVE'+'_VERTEX_CH'+'ANNEL}));\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',P1='\x0avec4\x20enco'+'deLinear(v'+'ec3\x20source'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'source,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeGa'+'mma(vec3\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(pow(s'+'ource\x20+\x200.'+'0000001,\x20v'+'ec3(1.0\x20/\x20'+'2.2)),\x201.0'+');\x0a}\x0a\x0avec4'+'\x20encodeRGB'+'M(vec3\x20sou'+'rce)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20result;'+'\x0a\x20\x20\x20\x20resul'+'t.rgb\x20=\x20po'+'w(source.r'+'gb,\x20vec3(0'+'.5));\x0a\x20\x20\x20\x20'+'result.rgb'+'\x20*=\x201.0\x20/\x20'+'8.0;\x0a\x0a\x20\x20\x20\x20'+'result.a\x20='+'\x20saturate('+'\x20max(\x20max('+'\x20result.r,'+'\x20result.g\x20'+'),\x20max(\x20re'+'sult.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20)\x20);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20ceil(res'+'ult.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x0a\x20\x20\x20\x20r'+'esult.rgb\x20'+'/=\x20result.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0avec4\x20'+'encodeRGBP'+'(vec3\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'//\x20convert'+'\x20incoming\x20'+'linear\x20to\x20'+'gamma(ish)'+'\x0a\x20\x20\x20\x20vec3\x20'+'gamma\x20=\x20po'+'w(source,\x20'+'vec3(0.5))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'the\x20maximu'+'m\x20componen'+'t\x20clamped\x20'+'to\x201..8\x0a\x20\x20'+'\x20\x20float\x20ma'+'xVal\x20=\x20min'+'(8.0,\x20max('+'1.0,\x20max(g'+'amma.x,\x20ma'+'x(gamma.y,'+'\x20gamma.z))'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20storage\x20'+'factor\x0a\x20\x20\x20'+'\x20float\x20v\x20='+'\x201.0\x20-\x20((m'+'axVal\x20-\x201.'+'0)\x20/\x207.0);'+'\x0a\x0a\x20\x20\x20\x20//\x20r'+'ound\x20the\x20v'+'alue\x20for\x20s'+'torage\x20in\x20'+'8bit\x20chann'+'el\x0a\x20\x20\x20\x20v\x20='+'\x20ceil(v\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(gamma\x20/'+'\x20(-v\x20*\x207.0'+'\x20+\x208.0),\x20v'+');\x20\x20\x20\x20\x0a}\x0a\x0a'+'vec4\x20encod'+'eRGBE(vec3'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20float'+('\x20maxVal\x20=\x20'+'max(source'+'.x,\x20max(so'+'urce.y,\x20so'+'urce.z));\x0a'+'\x20\x20\x20\x20if\x20(ma'+'xVal\x20<\x201e-'+'32)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec4(0,\x200'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20e\x20=\x20'+'ceil(log2('+'maxVal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec4('+'source\x20/\x20p'+'ow(2.0,\x20e)'+',\x20(e\x20+\x20128'+'.0)\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),M1='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20combin'+'eColor(lit'+'Args_albed'+'o,\x20litArgs'+'_sheen_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_sp'+'ecularity)'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20+=\x20lit'+'Args_emiss'+'ion;\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20=\x20ad'+'dFog(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20ton'+'eMap(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20gam'+'maCorrectO'+'utput(gl_F'+'ragColor.r'+'gb);\x0a',D1='\x0a\x0a#ifndef\x20'+'_ENVATLAS_'+'INCLUDED_\x0a'+'#define\x20_E'+'NVATLAS_IN'+'CLUDED_\x0a\x0a/'+'/\x20the\x20envA'+'tlas\x20is\x20fi'+'xed\x20at\x20512'+'\x20pixels.\x20e'+'very\x20equir'+'ect\x20is\x20gen'+'erated\x20wit'+'h\x201\x20pixel\x20'+'boundary.\x0a'+'const\x20floa'+'t\x20atlasSiz'+'e\x20=\x20512.0;'+'\x0aconst\x20flo'+'at\x20seamSiz'+'e\x20=\x201.0\x20/\x20'+'atlasSize;'+'\x0a\x0a//\x20map\x20a'+'\x20normalize'+'d\x20equirect'+'\x20UV\x20to\x20the'+'\x20given\x20rec'+'tangle\x20(ta'+'king\x201\x20pix'+'el\x20seam\x20in'+'to\x20account'+').\x0avec2\x20ma'+'pUv(vec2\x20u'+'v,\x20vec4\x20re'+'ct)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(mix(rect'+'.x\x20+\x20seamS'+'ize,\x20rect.'+'x\x20+\x20rect.z'+'\x20-\x20seamSiz'+'e,\x20uv.x),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mix('+'rect.y\x20+\x20s'+'eamSize,\x20r'+'ect.y\x20+\x20re'+'ct.w\x20-\x20sea'+'mSize,\x20uv.'+'y));\x0a}\x0a\x0a//'+'\x20map\x20a\x20nor'+'malized\x20eq'+'uirect\x20UV\x20'+'and\x20roughn'+'ess\x20level\x20'+'to\x20the\x20cor'+'rect\x20atlas'+'\x20rect.\x0avec'+'2\x20mapRough'+'nessUv(vec'+'2\x20uv,\x20floa'+'t\x20level)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20t\x20=\x201.0\x20/'+'\x20exp2(leve'+'l);\x0a\x20\x20\x20\x20re'+'turn\x20mapUv'+'(uv,\x20vec4('+'0,\x201.0\x20-\x20t'+',\x20t,\x20t\x20*\x200'+'.5));\x0a}\x0a\x0a/'+'/\x20map\x20shin'+'y\x20level\x20UV'+'\x0avec2\x20mapS'+'hinyUv(vec'+'2\x20uv,\x20floa'+'t\x20level)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20t\x20=\x201.0\x20/'+'\x20exp2(leve'+'l);\x0a\x20\x20\x20\x20re'+'turn\x20mapUv'+'(uv,\x20vec4('+'1.0\x20-\x20t,\x201'+'.0\x20-\x20t,\x20t,'+'\x20t\x20*\x200.5))'+';\x0a}\x0a\x0a#endi'+'f\x0a',I1='\x0a#ifdef\x20LI'+'T_SKYBOX_I'+'NTENSITY\x0a\x20'+'\x20\x20\x20uniform'+'\x20float\x20sky'+'boxIntensi'+'ty;\x0a#endif'+'\x0a\x0avec3\x20pro'+'cessEnviro'+'nment(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SKYBO'+'X_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20skybo'+'xIntensity'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or;\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',L1='\x0afloat\x20get'+'FalloffWin'+'dow(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20invRa'+'dius\x20=\x201.0'+'\x20/\x20lightRa'+'dius;\x0a\x20\x20\x20\x20'+'return\x20squ'+'are(satura'+'te(1.0\x20-\x20s'+'quare(sqrD'+'ist\x20*\x20squa'+'re(invRadi'+'us))));\x0a}\x0a'+'\x0afloat\x20get'+'FalloffInv'+'Squared(fl'+'oat\x20lightR'+'adius,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20sqrDis'+'t\x20=\x20dot(li'+'ghtDir,\x20li'+'ghtDir);\x0a\x20'+'\x20\x20\x20float\x20f'+'alloff\x20=\x201'+'.0\x20/\x20(sqrD'+'ist\x20+\x201.0)'+';\x0a\x20\x20\x20\x20floa'+'t\x20invRadiu'+'s\x20=\x201.0\x20/\x20'+'lightRadiu'+'s;\x0a\x0a\x20\x20\x20\x20fa'+'lloff\x20*=\x201'+'6.0;\x0a\x20\x20\x20\x20f'+'alloff\x20*=\x20'+'square(sat'+'urate(1.0\x20'+'-\x20square(s'+'qrDist\x20*\x20s'+'quare(invR'+'adius))));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20falloff'+';\x0a}\x0a',R1='\x0afloat\x20get'+'FalloffLin'+'ear(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20length'+'(lightDir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20max(((l'+'ightRadius'+'\x20-\x20d)\x20/\x20li'+'ghtRadius)'+',\x200.0);\x0a}\x0a',O1='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x0ave'+'c4\x20float2u'+'int(float\x20'+'value)\x20{\x0a\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20fl'+'oatBitsToU'+'int(value)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20vec4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((intBit'+'s\x20>>\x2024u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((intBits'+'\x20>>\x2016u)\x20&'+'\x200xFFu)\x20/\x20'+'255.0,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'((intBits\x20'+'>>\x208u)\x20&\x200'+'xFFu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(i'+'ntBits\x20&\x200'+'xFFu)\x20/\x2025'+'5.0\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0a//\x20dec'+'ode\x20RGBA8\x20'+'value\x20to\x20f'+'loat\x0afloat'+'\x20uint2floa'+'t(vec4\x20val'+'ue)\x20{\x0a\x20\x20\x20\x20'+'uint\x20intBi'+'ts\x20=\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20(uint('+'value.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(value.g\x20*'+'\x20255.0)\x20<<'+'\x2016u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20(uin'+'t(value.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uint'+'(value.a\x20*'+'\x20255.0);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20uintBitsT'+'oFloat(int'+'Bits);\x0a}\x0a\x0a'+'//\x20store\x20a'+'\x20single\x20fl'+'oat\x20value\x20'+'in\x20vec4,\x20a'+'ssuming\x20ei'+'ther\x20RGBA8'+'\x20or\x20float\x20'+'renderable'+'\x20texture\x0av'+'ec4\x20float2'+'vec4(float'+'\x20value)\x20{\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(CAPS'+'_TEXTURE_F'+'LOAT_RENDE'+'RABLE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4(val'+'ue,\x201.0,\x201'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20float'+'2uint(valu'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0a#e'+'ndif\x20//\x20FL'+'OAT_AS_UIN'+'T\x0a',F1='\x0a\x0afloat\x20dB'+'lendModeFo'+'gFactor\x20=\x20'+'1.0;\x0a\x0a#if\x20'+'(FOG\x20!=\x20NO'+'NE)\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20fog_color'+';\x0a\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20f'+'og_start;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20fog_end;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20fog_den'+'sity;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afloat'+'\x20getFogFac'+'tor()\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'epth\x20=\x20gl_'+'FragCoord.'+'z\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20float\x20'+'fogFactor\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20#if\x20(FOG'+'\x20==\x20LINEAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fogFactor\x20'+'=\x20(fog_end'+'\x20-\x20depth)\x20'+'/\x20(fog_end'+'\x20-\x20fog_sta'+'rt);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fogF'+'actor\x20=\x20ex'+'p(-depth\x20*'+'\x20fog_densi'+'ty);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP2)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fog'+'Factor\x20=\x20e'+'xp(-depth\x20'+'*\x20depth\x20*\x20'+'fog_densit'+'y\x20*\x20fog_de'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(fog'+'Factor,\x200.'+'0,\x201.0);\x0a}'+'\x0a\x0avec3\x20add'+'Fog(vec3\x20c'+'olor)\x20{\x0a\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'fog_color\x20'+'*\x20dBlendMo'+'deFogFacto'+'r,\x20color,\x20'+'getFogFact'+'or());\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',N1='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0ave'+'c3\x20getFres'+'nel(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20c'+'osTheta,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20specu'+'larity\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a\x20\x20\x20\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20fresnel\x20'+'=\x20pow(1.0\x20'+'-\x20saturate'+'(cosTheta)'+',\x205.0);\x0a\x20\x20'+'\x20\x20float\x20gl'+'ossSq\x20=\x20gl'+'oss\x20*\x20glos'+'s;\x0a\x20\x20\x20\x20vec'+'3\x20ret\x20=\x20sp'+'ecularity\x20'+'+\x20(max(vec'+'3(glossSq)'+',\x20specular'+'ity)\x20-\x20spe'+'cularity)\x20'+'*\x20fresnel;'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20return'+'\x20mix(ret,\x20'+'iridescenc'+'eFresnel,\x20'+'iridescenc'+'eIntensity'+');\x0a#else\x0a\x20'+'\x20\x20\x20return\x20'+'ret;\x0a#endi'+'f\x20\x20\x20\x20\x0a}\x0a\x0af'+'loat\x20getFr'+'esnelCC(fl'+'oat\x20cosThe'+'ta)\x20{\x0a\x20\x20\x20\x20'+'float\x20fres'+'nel\x20=\x20pow('+'1.0\x20-\x20satu'+'rate(cosTh'+'eta),\x205.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x200.04\x20+\x20'+'(1.0\x20-\x200.0'+'4)\x20*\x20fresn'+'el;\x0a}\x0a',k1='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0avaryin'+'g\x20vec2\x20vUv'+'0;\x0a\x0avoid\x20m'+'ain(void)\x0a'+'{\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'vec4(verte'+'x_position'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20vUv'+'0\x20=\x20vertex'+'_position.'+'xy\x20*\x200.5\x20+'+'\x200.5;\x0a}\x0a',U1='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(color)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ga'+'mmaCorrect'+'Input(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGamma(col'+'or);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20gammaCorr'+'ectInput(v'+'ec4\x20color)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4(decodeG'+'amma(color'+'.xyz),\x20col'+'or.w);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20gammaCo'+'rrectOutpu'+'t(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20pow(color'+'\x20+\x200.00000'+'01,\x20vec3(1'+'.0\x20/\x202.2))'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'else\x20//\x20NO'+'NE\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectInp'+'ut(vec3\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20gamma'+'CorrectInp'+'ut(vec4\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectOut'+'put(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20color;\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a',B1='\x0a#ifdef\x20ST'+'D_GLOSS_CO'+'NSTANT\x0auni'+'form\x20float'+'\x20material_'+'gloss;\x0a#en'+'dif\x0a\x0avoid\x20'+'getGlossin'+'ess()\x20{\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_GLO'+'SS_CONSTAN'+'T\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20*='+'\x20material_'+'gloss;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_GLOSS_'+'TEXTURE\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20*=\x20tex'+'ture2DBias'+'({STD_GLOS'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_GLOSS_TE'+'XTURE_UV},'+'\x20textureBi'+'as).{STD_G'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_VERT'+'EX\x0a\x20\x20\x20\x20dGl'+'ossiness\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.{STD_G'+'LOSS_VERTE'+'X_CHANNEL}'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_INVE'+'RT\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x201.0\x20-\x20dGl'+'ossiness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20+='+'\x200.0000001'+';\x0a}\x0a',z1='\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tion;\x0a\x0a//\x20'+'project\x20th'+'e\x20model\x20sp'+'ace\x20gaussi'+'an\x20center\x20'+'to\x20view\x20an'+'d\x20clip\x20spa'+'ce\x0abool\x20in'+'itCenter(v'+'ec3\x20modelC'+'enter,\x20out'+'\x20SplatCent'+'er\x20center)'+'\x20{\x0a\x20\x20\x20\x20mat'+'4\x20modelVie'+'w\x20=\x20matrix'+'_view\x20*\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20vec4'+'\x20centerVie'+'w\x20=\x20modelV'+'iew\x20*\x20vec4'+'(modelCent'+'er,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly\x20out\x20if'+'\x20splat\x20is\x20'+'behind\x20the'+'\x20camera\x0a\x20\x20'+'\x20\x20if\x20(cent'+'erView.z\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20false;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20cent'+'erProj\x20=\x20m'+'atrix_proj'+'ection\x20*\x20c'+'enterView;'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nsure\x20gaus'+'sians\x20are\x20'+'not\x20clippe'+'d\x20by\x20camer'+'a\x20near\x20and'+'\x20far\x0a\x20\x20\x20\x20#'+'if\x20WEBGPU\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ce'+'nterProj.z'+'\x20=\x20clamp(c'+'enterProj.'+'z,\x200,\x20abs('+'centerProj'+'.w));\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20center'+'Proj.z\x20=\x20c'+'lamp(cente'+'rProj.z,\x20-'+'abs(center'+'Proj.w),\x20a'+'bs(centerP'+'roj.w));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20cente'+'r.view\x20=\x20c'+'enterView.'+'xyz\x20/\x20cent'+'erView.w;\x0a'+'\x20\x20\x20\x20center'+'.proj\x20=\x20ce'+'nterProj;\x0a'+'\x20\x20\x20\x20center'+'.projMat00'+'\x20=\x20matrix_'+'projection'+'[0][0];\x0a\x20\x20'+'\x20\x20center.m'+'odelView\x20='+'\x20modelView'+';\x0a\x20\x20\x20\x20retu'+'rn\x20true;\x0a}'+'\x0a',V1='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latColor;\x0a'+'\x0a//\x20:\x200'+'.0\x20~\x201.0\x20'+'\x0afl'+'oat\x20comput'+'eAlpha(flo'+'at\x20muT,\x20fl'+'oat\x20uTime,'+'\x20float\x20uFa'+'deSpeed,\x20f'+'loat\x20life)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20age\x20=\x20('+'uTime\x20-\x20mu'+'T)\x20*\x202.0;\x20'+'//\x20'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'muT\x20>\x20uTim'+'e)\x20return\x20'+'0.0;\x0a\x0a\x20\x20\x20\x20'+'//\x20---\x20'+'\x20life\x20'+'---\x0a\x20\x20\x20\x20fl'+'oat\x20linear'+'Fade\x20=\x201.0'+'\x20-\x20age\x20/\x20l'+'ife;\x0a\x20\x20\x20\x20/'+'/\x20---\x20'+'\x20uFadeS'+'peed\x20---\x0a\x20'+'\x20\x20\x20float\x20e'+'xpFade\x20=\x20e'+'xp(-age\x20*\x20'+'uFadeSpeed'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20cl'+'amp(linear'+'Fade,\x200.0,'+'\x201.0);\x20\x0a\x20\x20'+'\x20\x20return\x20c'+'lamp(expFa'+'de,\x200.0,\x201'+'.0);\x0a}\x0a\x0a\x0av'+'ec4\x20readCo'+'lor(in\x20Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20uTime,\x20'+'bool\x20plusA'+',\x20int\x20poin'+'tCloudMode'+'Enabled)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'color\x20=\x20te'+'xelFetch(s'+'platColor,'+'\x20source.uv'+',\x200);\x0a\x20\x20\x20\x20'+'#ifdef\x20IS_'+'4D\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20tDat'+'a\x20=\x20texelF'+'etch(trans'+'formLifecy'+'cle,\x20sourc'+'e.uv,\x200).x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20muT'+'\x20=\x20tData.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20saveA'+'\x20=\x20pointCl'+'oudModeEna'+'bled\x20==\x201\x20'+'?\x201.0\x20:\x20co'+'lor.a;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20alpha\x20=\x20s'+'aveA;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(uOp'+'enAnim\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20alp'+'ha\x20=\x20alpha'+'\x20*\x20(muT\x20-\x20'+'uTime\x20+\x200.'+'05);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20age\x20=\x20u'+'Time\x20-\x20muT'+';\x20\x20\x20\x20//\x20'+'\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20uFad'+'eSpeed\x20=\x202'+('.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20life\x20=\x200'+'.1;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20alph'+'a\x20=\x20comput'+'eAlpha(muT'+',\x20uTime,\x20u'+'FadeSpeed,'+'\x20life);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'alpha\x20*=\x20a'+'lpha;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'olor.a\x20=\x20p'+'lusA\x20?\x20alp'+'ha\x20:\x20saveA'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20ret'+'urn\x20color;'+'\x0a}\x0a\x0a'),G1='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20uint\x20o'+'rder;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20uint\x20i'+'d;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'ivec2\x20uv;\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20vec2'+'\x20cornerUV;'+'\x20\x20\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a};\x0a'+'\x0a//\x20stores'+'\x20the\x20camer'+'a\x20and\x20clip'+'\x20space\x20pos'+'ition\x20of\x20t'+'he\x20gaussia'+'n\x20center\x0as'+'truct\x20Spla'+'tCenter\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iew;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cen'+'ter\x20in\x20vie'+'w\x20space\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'j;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'mat4\x20model'+'View;\x20\x20\x20\x20\x20'+'//\x20model-v'+'iew\x20matrix'+'\x0a\x20\x20\x20\x20float'+'\x20projMat00'+';\x20\x20\x20\x20//\x20el'+'ement\x20[0]['+'0]\x20of\x20the\x20'+'projection'+'\x20matrix\x0a};'+'\x0a\x0a//\x20store'+'s\x20the\x20offs'+'et\x20from\x20ce'+'nter\x20for\x20t'+'he\x20current'+'\x20gaussian\x0a'+'struct\x20Spl'+'atCorner\x20{'+'\x0a\x20\x20\x20\x20vec2\x20'+'offset;\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'rner\x20offse'+'t\x20from\x20cen'+'ter\x20in\x20cli'+'p\x20space\x0a\x20\x20'+'\x20\x20vec2\x20uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20aaF'+'actor;\x20//\x20'+'for\x20scenes'+'\x20generated'+'\x20with\x20anti'+'aliasing\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20vec2\x20'+'v;\x0a\x20\x20\x20\x20flo'+'at\x20dlen;\x0a\x20'+'\x20\x20\x20vec2\x20cS'+'ize;\x0a\x20\x20\x20\x20v'+'ec2\x20cUV;\x0a}'+';\x0a\x0a#includ'+'e\x20\x22gsplatE'+'valSHVS\x22\x0a#'+'include\x20\x22g'+'splatQuatT'+'oMat3VS\x22\x0a\x0a'+'#if\x20GSPLAT'+'_COMPRESSE'+('D_DATA\x20==\x20'+'true\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatCompr'+'essedDataV'+'S\x22\x0a\x20\x20\x20\x20#if'+'\x20SH_COEFFS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatC'+'ompressedS'+'HVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a#eli'+'f\x20GSPLAT_S'+'OGS_DATA\x20='+'=\x20true\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22gsplatSog'+'sDataVS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsColorVS'+'\x22\x0a\x20\x20\x20\x20#if\x20'+'SH_COEFFS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSo'+'gsSHVS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a#'+'else\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latColorVS'+'\x22\x0a\x20\x20\x20\x20#if\x20'+'SH_COEFFS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSH'+'VS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a#endi'+'f\x0a\x0a#includ'+'e\x20\x22gsplatS'+'ourceVS\x22\x0a#'+'include\x20\x22g'+'splatCente'+'rVS\x22\x0a#incl'+'ude\x20\x22gspla'+'tCornerVS\x22'+'\x0a#include\x20'+'\x22gsplatOut'+'putVS\x22\x0a\x0a//'+'\x20modify\x20th'+'e\x20gaussian'+'\x20corner\x20so'+'\x20it\x20exclud'+'es\x20gaussia'+'n\x20regions\x20'+'with\x20alpha'+'\x20less\x20than'+'\x201/255\x0avoi'+'d\x20clipCorn'+'er(inout\x20S'+'platCorner'+'\x20corner,\x20f'+'loat\x20alpha'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20clip\x20='+'\x20min(1.0,\x20'+'sqrt(-log('+'1.0\x20/\x20255.'+'0\x20/\x20alpha)'+')\x20/\x202.0);\x0a'+'\x20\x20\x20\x20corner'+'.offset\x20*='+'\x20clip;\x0a\x20\x20\x20'+'\x20corner.uv'+'\x20*=\x20clip;\x0a'+'}\x0a'),H1='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTimeText'+'ure;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20c'+'hunkTextur'+'e;\x0a\x0a//\x20wor'+'k\x20values\x0av'+'ec4\x20chunkD'+'ataA;\x20\x20\x20\x20/'+'/\x20x:\x20min_x'+',\x20y:\x20min_y'+',\x20z:\x20min_z'+',\x20w:\x20max_x'+'\x0avec4\x20chun'+'kDataB;\x20\x20\x20'+'\x20//\x20x:\x20max'+'_y,\x20y:\x20max'+'_z,\x20z:\x20sca'+'le_min_x,\x20'+'w:\x20scale_m'+'in_y\x0avec4\x20'+'chunkDataC'+';\x20\x20\x20\x20//\x20x:'+'\x20scale_min'+'_z,\x20y:\x20sca'+'le_max_x,\x20'+'z:\x20scale_m'+'ax_y,\x20w:\x20s'+'cale_max_z'+'\x0avec4\x20chun'+'kDataD;\x20\x20\x20'+'\x20//\x20x:\x20min'+'_r,\x20y:\x20min'+'_g,\x20z:\x20min'+'_b,\x20w:\x20max'+'_r\x0avec4\x20ch'+'unkDataE;\x20'+'\x20\x20\x20//\x20x:\x20m'+'ax_g,\x20y:\x20m'+'ax_b,\x20z:\x20m'+'in_motion_'+'x,\x20w:\x20min_'+'motion_y\x0av'+'ec4\x20chunkD'+'ataF;\x20\x20\x20\x20/'+'/\x20x:\x20min_m'+'otion_z,\x20y'+':\x20max_moti'+'on_x,\x20z:\x20m'+'ax_motion_'+'y,\x20w:\x20max_'+'motion_z\x0av'+'ec4\x20chunkD'+'ataT;\x20\x20\x20\x20/'+'/\x20x:\x20min_t'+'ime,\x20y:\x20ma'+'x_time,\x20z:'+'\x20min_time_'+'scale,\x20w:\x20'+'max_time_s'+'cale\x0auvec4'+'\x20packedDat'+'a;\x20\x20\x20//\x20x:'+'\x20position\x20'+'bits,\x20y:\x20r'+'otation\x20bi'+'ts,\x20z:\x20sca'+'le\x20bits,\x20w'+':\x20color\x20bi'+'ts\x0auvec2\x20p'+'ackedT;\x20\x20\x20'+'//\x20x:\x20moti'+'on\x20bits(x,'+'\x20y,\x20z),\x20y:'+'\x20time\x20bits'+'(t_scale,\x20'+'t,\x20unused)'+'\x0a\x0a//\x20tool\x20'+'for\x20comput'+'e\x20Marginal'+'\x20time\x0afloa'+'t\x20computeM'+'arginalT(f'+'loat\x20time,'+'\x20float\x20muT'+',\x20float\x20si'+'gmaT)\x20{\x0a\x20\x20'+'\x20\x20if\x20(muT\x20'+'<=\x20-10.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20float\x20re'+('sult\x20=\x20exp'+'(-0.5\x20*\x20(p'+'ow((time\x20-'+'\x20muT),\x202.0'+')\x20/\x20pow(si'+'gmaT,\x202.0)'+'));\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0avec3'+'\x20unpack111'+'011(uint\x20b'+'its)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float(bi'+'ts\x20>>\x2021u)'+'\x20/\x202047.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((bits'+'\x20>>\x2011u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at(bits\x20&\x20'+'0x7ffu)\x20/\x20'+'2047.0\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'4\x20unpack88'+'88(uint\x20bi'+'ts)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float(bit'+'s\x20>>\x2024u)\x20'+'/\x20255.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((bits\x20>'+'>\x2016u)\x20&\x200'+'xffu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(('+'bits\x20>>\x208u'+')\x20&\x200xffu)'+'\x20/\x20255.0,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat(bits\x20&'+'\x200xffu)\x20/\x20'+'255.0\x0a\x20\x20\x20\x20'+');\x0a}\x0a\x0acons'+'t\x20float\x20no'+'rm\x20=\x201.0\x20/'+'\x20(sqrt(2.0'+')\x20*\x200.5);\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20a\x20=\x20(f'+'loat((bits'+'\x20>>\x2020u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0\x20-\x20'+'0.5)\x20*\x20nor'+'m;\x0a\x20\x20\x20\x20flo'+'at\x20b\x20=\x20(fl'+'oat((bits\x20'+'>>\x2010u)\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20(flo'+'at(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x20sqrt'+'(1.0\x20-\x20(a\x20'+'*\x20a\x20+\x20b\x20*\x20'+'b\x20+\x20c\x20*\x20c)'+');\x0a\x0a\x20\x20\x20\x20ui'+'nt\x20mode\x20=\x20'+'bits\x20>>\x2030'+'u;\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x200'+'u)\x20return\x20'+'vec4(m,\x20a,'+'\x20b,\x20c);\x0a\x20\x20'+'\x20\x20if\x20(mode'+'\x20==\x201u)\x20re'+'turn\x20vec4('+'a,\x20m,\x20b,\x20c'+');\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x202'+'u)\x20return\x20'+'vec4(a,\x20b,'+'\x20m,\x20c);\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4(a,\x20b,\x20')+('c,\x20m);\x0a}\x0a\x0a'+'\x0a//\x20read\x20c'+'enter\x0avec3'+'\x20readCente'+'r(SplatSou'+'rce\x20source'+')\x20{\x0a\x20\x20\x20\x20ui'+'nt\x20w\x20=\x20uin'+'t(textureS'+'ize(chunkT'+'exture,\x200)'+'.x)\x20/\x205u;\x0a'+'\x20\x20\x20\x20uint\x20c'+'hunkId\x20=\x20s'+'ource.id\x20/'+'\x20256u;\x0a\x20\x20\x20'+'\x20ivec2\x20chu'+'nkUV\x20=\x20ive'+'c2((chunkI'+'d\x20%\x20w)\x20*\x205'+'u,\x20chunkId'+'\x20/\x20w);\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'chunk\x20and\x20'+'packed\x20com'+'pressed\x20da'+'ta\x0a\x20\x20\x20\x20chu'+'nkDataA\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV,\x200);\x0a\x20\x20'+'\x20\x20chunkDat'+'aB\x20=\x20texel'+'Fetch(chun'+'kTexture,\x20'+'chunkUV\x20+\x20'+'ivec2(1,\x200'+'),\x200);\x0a\x20\x20\x20'+'\x20chunkData'+'C\x20=\x20texelF'+'etch(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20i'+'vec2(2,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataD'+'\x20=\x20texelFe'+'tch(chunkT'+'exture,\x20ch'+'unkUV\x20+\x20iv'+'ec2(3,\x200),'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataE\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(4,\x200),\x20'+'0);\x0a\x20\x20\x20\x20pa'+'ckedData\x20='+'\x20texelFetc'+'h(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ch'+'unkDataA.x'+'yz,\x20vec3(c'+'hunkDataA.'+'w,\x20chunkDa'+'taB.xy),\x20u'+'npack11101'+'1(packedDa'+'ta.x));\x0a}\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'r\x20=\x20unpack'+'8888(packe'+'dData.w);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(mix('+'chunkDataD'+'.xyz,\x20vec3'+'(chunkData'+'D.w,\x20chunk'+'DataE.xy),'+'\x20r.rgb),\x20r'+'.w);\x0a}\x0a\x0ave'+'c4\x20getRota'+'tion()\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'unpackRota'+'tion(packe'+'dData.y);\x0a'+'}\x0a\x0avec3\x20ge'+'tScale()\x20{')+('\x0a\x20\x20\x20\x20retur'+'n\x20exp(mix('+'vec3(chunk'+'DataB.zw,\x20'+'chunkDataC'+'.x),\x20chunk'+'DataC.yzw,'+'\x20unpack111'+'011(packed'+'Data.z)));'+'\x0a}\x0a\x0a//\x20giv'+'en\x20a\x20rotat'+'ion\x20matrix'+'\x20and\x20scale'+'\x20vector,\x20c'+'ompute\x203d\x20'+'covariance'+'\x20A\x20and\x20B\x0av'+'oid\x20readCo'+'variance(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20covA,\x20out'+'\x20vec3\x20covB'+')\x20{\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'getRotatio'+'n());\x0a\x20\x20\x20\x20'+'vec3\x20scale'+'\x20=\x20getScal'+'e();\x0a\x0a\x20\x20\x20\x20'+'//\x20M\x20=\x20S\x20*'+'\x20R\x0a\x20\x20\x20\x20mat'+'3\x20M\x20=\x20tran'+'spose(mat3'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'scale.x\x20*\x20'+'rot[0],\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20scal'+'e.y\x20*\x20rot['+'1],\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale.z\x20'+'*\x20rot[2]\x0a\x20'+'\x20\x20\x20));\x0a\x0a\x20\x20'+'\x20\x20covA\x20=\x20v'+'ec3(dot(M['+'0],\x20M[0]),'+'\x20dot(M[0],'+'\x20M[1]),\x20do'+'t(M[0],\x20M['+'2]));\x0a\x20\x20\x20\x20'+'covB\x20=\x20vec'+'3(dot(M[1]'+',\x20M[1]),\x20d'+'ot(M[1],\x20M'+'[2]),\x20dot('+'M[2],\x20M[2]'+'));\x0a}\x0a\x0aflo'+'at\x20getMarg'+'inalT(in\x20S'+'platSource'+'\x20source,\x20i'+'n\x20float\x20ti'+'me)\x20{\x0a\x20\x20\x20\x20'+'float\x20marg'+'inal\x20=\x201.0'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20IS_4D\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20chu'+'nkDataT\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(6,\x200),\x200)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'packedT\x20=\x20'+'texelFetch'+'(packedTim'+'eTexture,\x20'+'source.uv,'+'\x200).xy;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20timeData\x20'+'=\x20mix(vec3'+'(chunkData'+'T.z,\x20chunk'+'DataT.x,\x200'+'),\x20vec3(ch'+'unkDataT.w'+',\x20chunkDat'+'aT.y,\x201),\x20'+'unpack1110'+'11(packedT'+'.y));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'tScale\x20=\x20e'+'xp(timeDat')+('a.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'muT\x20=\x20time'+'Data.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20marg'+'inal\x20=\x20com'+'puteMargin'+'alT(time,\x20'+'muT,\x20tScal'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20r'+'eturn\x20marg'+'inal;\x0a}\x0a\x0av'+'ec3\x20readCe'+'nter4D(Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20time)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(chunkText'+'ure,\x200).x)'+'\x20/\x207u;\x0a\x20\x20\x20'+'\x20uint\x20chun'+'kId\x20=\x20sour'+'ce.id\x20/\x2025'+'6u;\x0a\x20\x20\x20\x20iv'+'ec2\x20chunkU'+'V\x20=\x20ivec2('+'(chunkId\x20%'+'\x20w)\x20*\x207u,\x20'+'chunkId\x20/\x20'+'w);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20chu'+'nk\x20and\x20pac'+'ked\x20compre'+'ssed\x20data\x0a'+'\x20\x20\x20\x20chunkD'+'ataA\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV,'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataB\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(1,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataC\x20='+'\x20texelFetc'+'h(chunkTex'+'ture,\x20chun'+'kUV\x20+\x20ivec'+'2(2,\x200),\x200'+');\x0a\x20\x20\x20\x20chu'+'nkDataD\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(3,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataE\x20=\x20t'+'exelFetch('+'chunkTextu'+'re,\x20chunkU'+'V\x20+\x20ivec2('+'4,\x200),\x200);'+'\x0a\x20\x20\x20\x20chunk'+'DataF\x20=\x20te'+'xelFetch(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20ivec2(5'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataT\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV\x20'+'+\x20ivec2(6,'+'\x200),\x200);\x0a\x20'+'\x20\x20\x20packedD'+'ata\x20=\x20texe'+'lFetch(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20packedT\x20='+'\x20texelFetc'+'h(packedTi'+'meTexture,'+'\x20source.uv'+',\x200).xy;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20mix(chu')+('nkDataA.xy'+'z,\x20vec3(ch'+'unkDataA.w'+',\x20chunkDat'+'aB.xy),\x20un'+'pack111011'+'(packedDat'+'a.x));\x0a\x20\x20\x20'+'\x20#ifdef\x20IS'+'_4D\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20tim'+'e\x20=\x20mix(ve'+'c3(chunkDa'+'taT.z,\x20chu'+'nkDataT.x,'+'\x200),\x20vec3('+'chunkDataT'+'.w,\x20chunkD'+'ataT.y,\x201)'+',\x20unpack11'+'1011(packe'+'dT.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20muT\x20=\x20ti'+'me.y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'ovingSpeed'+'\x20=\x20mix(vec'+'3(chunkDat'+'aE.zw,\x20chu'+'nkDataF.x)'+',\x20chunkDat'+'aF.yzw,\x20un'+'pack111011'+'(packedT.x'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20spl'+'atOffset\x20='+'\x20movingSpe'+'ed\x20*\x20(time'+'\x20-\x20muT);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20spl'+'atCenter\x20+'+'=\x20splatOff'+'set;\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20spl'+'atCenter;\x0a'+'}\x0a'),W1='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20shText'+'ure0;\x0aunif'+'orm\x20highp\x20'+'usampler2D'+'\x20shTexture'+'1;\x0auniform'+'\x20highp\x20usa'+'mpler2D\x20sh'+'Texture2;\x0a'+'\x0avec4\x20unpa'+'ck8888s(in'+'\x20uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'(uvec4(bit'+'s)\x20>>\x20uvec'+'4(0u,\x208u,\x20'+'16u,\x2024u))'+'\x20&\x200xffu)\x20'+'*\x20(8.0\x20/\x202'+'55.0)\x20-\x204.'+'0;\x0a}\x0a\x0avoid'+'\x20readSHDat'+'a(in\x20Splat'+'Source\x20sou'+'rce,\x20out\x20v'+'ec3\x20sh[15]'+',\x20out\x20floa'+'t\x20scale)\x20{'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20the\x20sh\x20'+'coefficien'+'ts\x0a\x20\x20\x20\x20uve'+'c4\x20shData0'+'\x20=\x20texelFe'+'tch(shText'+'ure0,\x20sour'+'ce.uv,\x200);'+'\x0a\x20\x20\x20\x20uvec4'+'\x20shData1\x20='+'\x20texelFetc'+'h(shTextur'+'e1,\x20source'+'.uv,\x200);\x0a\x20'+'\x20\x20\x20uvec4\x20s'+'hData2\x20=\x20t'+'exelFetch('+'shTexture2'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20r0\x20'+'=\x20unpack88'+'88s(shData'+'0.x);\x0a\x20\x20\x20\x20'+'vec4\x20r1\x20=\x20'+'unpack8888'+'s(shData0.'+'y);\x0a\x20\x20\x20\x20ve'+'c4\x20r2\x20=\x20un'+'pack8888s('+'shData0.z)'+';\x0a\x20\x20\x20\x20vec4'+'\x20r3\x20=\x20unpa'+'ck8888s(sh'+'Data0.w);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'g0\x20=\x20unpac'+'k8888s(shD'+'ata1.x);\x0a\x20'+'\x20\x20\x20vec4\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20vec4\x20g2\x20='+'\x20unpack888'+'8s(shData1'+'.z);\x0a\x20\x20\x20\x20v'+'ec4\x20g3\x20=\x20u'+'npack8888s'+'(shData1.w'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20b0\x20=\x20un'+'pack8888s('+'shData2.x)'+';\x0a\x20\x20\x20\x20vec4'+'\x20b1\x20=\x20unpa'+'ck8888s(sh'+'Data2.y);\x0a'+'\x20\x20\x20\x20vec4\x20b'+'2\x20=\x20unpack'+'8888s(shDa'+'ta2.z);\x0a\x20\x20'+'\x20\x20vec4\x20b3\x20'+'=\x20unpack88'+'88s(shData'+'2.w);\x0a\x0a\x20\x20\x20'+('\x20sh[0]\x20=\x20\x20'+'vec3(r0.x,'+'\x20g0.x,\x20b0.'+'x);\x0a\x20\x20\x20\x20sh'+'[1]\x20=\x20\x20vec'+'3(r0.y,\x20g0'+'.y,\x20b0.y);'+'\x0a\x20\x20\x20\x20sh[2]'+'\x20=\x20\x20vec3(r'+'0.z,\x20g0.z,'+'\x20b0.z);\x0a\x20\x20'+'\x20\x20sh[3]\x20=\x20'+'\x20vec3(r0.w'+',\x20g0.w,\x20b0'+'.w);\x0a\x20\x20\x20\x20s'+'h[4]\x20=\x20\x20ve'+'c3(r1.x,\x20g'+'1.x,\x20b1.x)'+';\x0a\x20\x20\x20\x20sh[5'+']\x20=\x20\x20vec3('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3(r1.'+'z,\x20g1.z,\x20b'+'1.z);\x0a\x20\x20\x20\x20'+'sh[7]\x20=\x20\x20v'+'ec3(r1.w,\x20'+'g1.w,\x20b1.w'+');\x0a\x20\x20\x20\x20sh['+'8]\x20=\x20\x20vec3'+'(r2.x,\x20g2.'+'x,\x20b2.x);\x0a'+'\x20\x20\x20\x20sh[9]\x20'+'=\x20\x20vec3(r2'+'.y,\x20g2.y,\x20'+'b2.y);\x0a\x20\x20\x20'+'\x20sh[10]\x20=\x20'+'vec3(r2.z,'+'\x20g2.z,\x20b2.'+'z);\x0a\x20\x20\x20\x20sh'+'[11]\x20=\x20vec'+'3(r2.w,\x20g2'+'.w,\x20b2.w);'+'\x0a\x20\x20\x20\x20sh[12'+']\x20=\x20vec3(r'+'3.x,\x20g3.x,'+'\x20b3.x);\x0a\x20\x20'+'\x20\x20sh[13]\x20='+'\x20vec3(r3.y'+',\x20g3.y,\x20b3'+'.y);\x0a\x20\x20\x20\x20s'+'h[14]\x20=\x20ve'+'c3(r3.z,\x20g'+'3.z,\x20b3.z)'+';\x0a\x0a\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),$1='\x0a\x20\x20\x20\x20#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#define\x20S'+'H_COEFFS\x203'+'\x0a\x20\x20\x20\x20#elif'+'\x20SH_BANDS\x20'+'==\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#define'+'\x20SH_COEFFS'+'\x208\x0a\x20\x20\x20\x20#el'+'if\x20SH_BAND'+'S\x20==\x203\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20SH_COEF'+'FS\x2015\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#defin'+'e\x20SH_COEFF'+'S\x200\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20>\x200\x0a\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20SH_C1\x20'+'=\x200.488602'+'5119029199'+'f;\x0a\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x201\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20f'+'loat\x20SH_C2'+'_0\x20=\x201.092'+'5484305920'+'792f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'float\x20SH_C'+'2_1\x20=\x20-1.0'+'9254843059'+'20792f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C2_2\x20=\x200.'+'3153915652'+'5252005f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'nst\x20float\x20'+'SH_C2_3\x20=\x20'+'-1.0925484'+'305920792f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'const\x20floa'+'t\x20SH_C2_4\x20'+'=\x200.546274'+'2152960396'+'f;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x202\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'float\x20SH_C'+'3_0\x20=\x20-0.5'+'9004358992'+'66435f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C3_1\x20=\x202.'+'8906114426'+'40554f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C3_2\x20=\x20-0'+'.457045799'+'4644658f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'nst\x20float\x20'+'SH_C3_3\x20=\x20'+'0.37317633'+'25901154f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'onst\x20float'+'\x20SH_C3_4\x20='+'\x20-0.457045'+'7994644658'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20flo'+'at\x20SH_C3_5'+'\x20=\x201.44530'+'5721320277'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20flo'+'at\x20SH_C3_6'+'\x20=\x20-0.5900'+'4358992664'+'35f;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20see\x20ht'+'tps://gith'+'ub.com/gra'+'phdeco-inr'+('ia/gaussia'+'n-splattin'+'g/blob/mai'+'n/utils/sh'+'_utils.py\x0a'+'\x20\x20\x20\x20vec3\x20e'+'valSH(in\x20v'+'ec3\x20sh[SH_'+'COEFFS],\x20i'+'n\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20x\x20'+'=\x20dir.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20y\x20=\x20dir'+'.y;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20dir.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x201st\x20degre'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20resul'+'t\x20=\x20SH_C1\x20'+'*\x20(-sh[0]\x20'+'*\x20y\x20+\x20sh[1'+']\x20*\x20z\x20-\x20sh'+'[2]\x20*\x20x);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x201\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x202nd\x20degre'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xx\x20=\x20x\x20*\x20x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'yy\x20=\x20y\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'zz\x20=\x20z\x20*\x20z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xy\x20=\x20x\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'yz\x20=\x20y\x20*\x20z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xz\x20=\x20x\x20*\x20z'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[3]\x20*\x20('+'SH_C2_0\x20*\x20'+'xy)\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[4]\x20*\x20'+'(SH_C2_1\x20*'+'\x20yz)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[5]\x20*'+'\x20(SH_C2_2\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x20xx\x20-\x20y'+'y))\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[6]\x20*\x20'+'(SH_C2_3\x20*'+'\x20xz)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[7]\x20*'+'\x20(SH_C2_4\x20'+'*\x20(xx\x20-\x20yy'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'3rd\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20result\x20'+'+=\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[8]\x20\x20*\x20(S'+'H_C3_0\x20*\x20y'+'\x20*\x20(3.0\x20*\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[9]\x20\x20*\x20(SH'+'_C3_1\x20*\x20xy'+'\x20*\x20z)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[10]'+'\x20*\x20(SH_C3_'+'2\x20*\x20y\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20')+('xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[11]\x20*\x20(SH'+'_C3_3\x20*\x20z\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x203.0\x20*\x20'+'xx\x20-\x203.0\x20*'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[12]'+'\x20*\x20(SH_C3_'+'4\x20*\x20x\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[13]\x20*\x20(SH'+'_C3_5\x20*\x20z\x20'+'*\x20(xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[14]\x20*\x20'+'(SH_C3_6\x20*'+'\x20x\x20*\x20(xx\x20-'+'\x203.0\x20*\x20yy)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20#endif\x0a'),X1='\x0amat3\x20quat'+'ToMat3(vec'+'4\x20R)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20R2\x20='+'\x20R\x20+\x20R;\x0a\x20\x20'+'\x20\x20float\x20X\x20'+'=\x20R2.x\x20*\x20R'+'.w;\x0a\x20\x20\x20\x20ve'+'c4\x20Y\x20\x20=\x20R2'+'.y\x20*\x20R;\x0a\x20\x20'+'\x20\x20vec4\x20Z\x20\x20'+'=\x20R2.z\x20*\x20R'+';\x0a\x20\x20\x20\x20floa'+'t\x20W\x20=\x20R2.w'+'\x20*\x20R.w;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'mat3(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x201.0\x20-\x20'+'Z.z\x20-\x20W,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20Y.z\x20+\x20X'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20Y.w\x20'+'-\x20Z.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20Y.z\x20-\x20X,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x201.'+'0\x20-\x20Y.y\x20-\x20'+'W,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20Z.w'+'\x20+\x20Y.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20Y.w\x20+\x20Z.'+'x,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20Z.w'+'\x20-\x20Y.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x201.0\x20'+'-\x20Y.y\x20-\x20Z.'+'z\x0a\x20\x20\x20\x20);\x0a}'+'\x0a',q1='\x0auniform\x20m'+'ediump\x20sam'+'pler2D\x20sh0'+';\x0a\x0auniform'+'\x20vec4\x20sh0_'+'mins;\x0aunif'+'orm\x20vec4\x20s'+'h0_maxs;\x0a\x0a'+'float\x20SH_C'+'0\x20=\x200.2820'+'9479177387'+'814;\x0a\x0avec4'+'\x20readColor'+'(in\x20SplatS'+'ource\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20clr\x20='+'\x20mix(sh0_m'+'ins,\x20sh0_m'+'axs,\x20texel'+'Fetch(sh0,'+'\x20source.uv'+',\x200));\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(vec3(0.'+'5)\x20+\x20clr.x'+'yz\x20*\x20SH_C0'+',\x201.0\x20/\x20(1'+'.0\x20+\x20exp(-'+'clr.w)));\x0a'+'}\x0a',j1='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0a\x0auniform\x20'+'vec3\x20means'+'_mins;\x0auni'+'form\x20vec3\x20'+'means_maxs'+';\x0a\x0auniform'+'\x20vec3\x20scal'+'es_mins;\x0au'+'niform\x20vec'+'3\x20scales_m'+'axs;\x0a\x0avec4'+'\x20unpackU32'+'(uint\x20v)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20vec4(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((v\x20>>\x2024'+'u)\x20&\x200xFFu'+')\x20/\x20255.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((v\x20>>'+'\x2016u)\x20&\x200x'+'FFu)\x20/\x20255'+'.0,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float((v'+'\x20>>\x208u)\x20&\x20'+'0xFFu)\x20/\x202'+'55.0,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float('+'v\x20&\x200xFFu)'+'\x20/\x20255.0\x0a\x20'+'\x20\x20\x20);\x0a}\x0a\x0au'+'vec4\x20packe'+'dSample;\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x0a\x20\x20\x20\x20'+'//\x20read\x20th'+'e\x20packed\x20t'+'exture\x20sam'+'ple\x0a\x20\x20\x20\x20pa'+'ckedSample'+'\x20=\x20texelFe'+'tch(packed'+'Texture,\x20s'+'ource.uv,\x20'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20l\x20=\x20un'+'packU32(pa'+'ckedSample'+'.x).xyz;\x0a\x20'+'\x20\x20\x20vec3\x20u\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.y).xy'+'z;\x0a\x20\x20\x20\x20vec'+'3\x20n\x20=\x20(l\x20*'+'\x20255.0\x20+\x20u'+'\x20*\x20255.0\x20*'+'\x20256.0)\x20/\x20'+'65535.0;\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20mix(mean'+'s_mins,\x20me'+'ans_maxs,\x20'+'n);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20sign'+'(v)\x20*\x20(exp'+'(abs(v))\x20-'+'\x201.0);\x0a}\x0a\x0a'+'const\x20floa'+'t\x20norm\x20=\x202'+'.0\x20/\x20sqrt('+'2.0);\x0a\x0a//\x20'+'sample\x20cov'+'ariance\x20ve'+'ctors\x0avoid'+'\x20readCovar'+'iance(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20co'+'vA,\x20out\x20ve'+'c3\x20covB)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'qdata\x20=\x20un'+'packU32(pa'+'ckedSample'+'.z);\x0a\x20\x20\x20\x20v'+'ec3\x20sdata\x20'+('=\x20unpackU3'+'2(packedSa'+'mple.w).xy'+'z;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20abc\x20=\x20('+'qdata.xyz\x20'+'-\x200.5)\x20*\x20n'+'orm;\x0a\x20\x20\x20\x20f'+'loat\x20d\x20=\x20s'+'qrt(max(0.'+'0,\x201.0\x20-\x20d'+'ot(abc,\x20ab'+'c)));\x0a\x0a\x20\x20\x20'+'\x20uint\x20mode'+'\x20=\x20uint(qd'+'ata.w\x20*\x2025'+'5.0\x20+\x200.5)'+'\x20-\x20252u;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20q'+'uat\x20=\x20(mod'+'e\x20==\x200u)\x20?'+'\x20vec4(d,\x20a'+'bc)\x20:\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20((mode\x20='+'=\x201u)\x20?\x20ve'+'c4(abc.x,\x20'+'d,\x20abc.yz)'+'\x20:\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20('+'(mode\x20==\x202'+'u)\x20?\x20vec4('+'abc.xy,\x20d,'+'\x20abc.z)\x20:\x20'+'vec4(abc,\x20'+'d)));\x0a\x0a\x20\x20\x20'+'\x20mat3\x20rot\x20'+'=\x20quatToMa'+'t3(quat);\x0a'+'\x20\x20\x20\x20vec3\x20s'+'cale\x20=\x20exp'+'(mix(scale'+'s_mins,\x20sc'+'ales_maxs,'+'\x20sdata));\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20mat3\x20M\x20='+'\x20transpose'+'(mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20cov'+'A\x20=\x20vec3(d'+'ot(M[0],\x20M'+'[0]),\x20dot('+'M[0],\x20M[1]'+'),\x20dot(M[0'+'],\x20M[2]));'+'\x0a\x20\x20\x20\x20covB\x20'+'=\x20vec3(dot'+'(M[1],\x20M[1'+']),\x20dot(M['+'1],\x20M[2]),'+'\x20dot(M[2],'+'\x20M[2]));\x0a}'+'\x0a'),Y1='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20sh_ce'+'ntroids;\x0a\x0a'+'uniform\x20fl'+'oat\x20shN_mi'+'ns;\x0aunifor'+'m\x20float\x20sh'+'N_maxs;\x0a\x0a/'+'/\x20To\x20suppo'+'rt\x20each\x20SH'+'\x20degree,\x20r'+'eadSHData\x20'+'is\x20overloa'+'ded\x20based\x20'+'on\x20the\x20SH\x20'+'vector\x20dep'+'th\x20\x0a\x0avoid\x20'+'readSHData'+'(in\x20SplatS'+'ource\x20sour'+'ce,\x20out\x20ve'+'c3\x20sh[SH_C'+'OEFFS],\x20ou'+'t\x20float\x20sc'+'ale)\x20{\x0a\x20\x20\x20'+'\x20//\x20extrac'+'t\x20spherica'+'l\x20harmonic'+'s\x20palette\x20'+'index\x0a\x20\x20\x20\x20'+'ivec2\x20t\x20=\x20'+'ivec2(pack'+'edSample.x'+'\x20&\x20255u,\x20p'+'ackedSampl'+'e.y\x20&\x20255u'+');\x0a\x20\x20\x20\x20int'+'\x20n\x20=\x20t.x\x20+'+'\x20t.y\x20*\x20256'+';\x0a\x20\x20\x20\x20int\x20'+'u\x20=\x20(n\x20%\x206'+'4)\x20*\x20SH_CO'+'EFFS;\x0a\x20\x20\x20\x20'+'int\x20v\x20=\x20n\x20'+'/\x2064;\x0a\x0a\x20\x20\x20'+'\x20//\x20calcul'+'ate\x20offset'+'\x20into\x20the\x20'+'centroids\x20'+'texture\x20an'+'d\x20read\x20con'+'secutive\x20t'+'exels\x0a\x20\x20\x20\x20'+'for\x20(int\x20i'+'\x20=\x200;\x20i\x20<\x20'+'SH_COEFFS;'+'\x20i++)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[i'+']\x20=\x20mix(ve'+'c3(shN_min'+'s),\x20vec3(s'+'hN_maxs),\x20'+'texelFetch'+'(sh_centro'+'ids,\x20ivec2'+'(u\x20+\x20i,\x20v)'+',\x200).xyz);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20scale\x20=\x20'+'1.0;\x0a}\x0a',K1='\x0auniform\x20v'+'ec2\x20viewpo'+'rt;\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20viewpo'+'rt\x20dimensi'+'ons\x0aunifor'+'m\x20vec4\x20cam'+'era_params'+';\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x201\x20/'+'\x20far,\x20far,'+'\x20near,\x20isO'+'rtho\x0aunifo'+'rm\x20float\x20u'+'SplatScale'+';\x0auniform\x20'+'float\x20rend'+'erSpace;\x0au'+'niform\x20flo'+'at\x20endSpac'+'e;\x0auniform'+'\x20int\x20uShap'+'eN;\x0a\x0a//\x20ca'+'lculate\x20th'+'e\x20clip-spa'+'ce\x20offset\x20'+'from\x20the\x20c'+'enter\x20for\x20'+'this\x20gauss'+'ian\x0abool\x20i'+'nitCorner('+'SplatSourc'+'e\x20source,\x20'+'SplatCente'+'r\x20center,\x20'+'out\x20SplatC'+'orner\x20corn'+'er,\x20int\x20po'+'intCloudMo'+'deEnabled)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'get\x20covari'+'ance\x0a\x20\x20\x20\x20v'+'ec3\x20covA,\x20'+'covB;\x0a\x20\x20\x20\x20'+'readCovari'+'ance(sourc'+'e,\x20covA,\x20c'+'ovB);\x0a\x0a\x20\x20\x20'+'\x20mat3\x20Vrk\x20'+'=\x20mat3(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20covA'+'.x,\x20covA.y'+',\x20covA.z,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'vA.y,\x20covB'+'.x,\x20covB.y'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'covA.z,\x20co'+'vB.y,\x20covB'+'.z\x0a\x20\x20\x20\x20);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20focal\x20=\x20v'+'iewport.x\x20'+'*\x20center.p'+'rojMat00;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'v\x20=\x20camera'+'_params.w\x20'+'==\x201.0\x20?\x20v'+'ec3(0.0,\x200'+'.0,\x201.0)\x20:'+'\x20center.vi'+'ew.xyz;\x0a\x20\x20'+'\x20\x20float\x20J1'+'\x20=\x20focal\x20/'+'\x20v.z;\x0a\x20\x20\x20\x20'+'vec2\x20J2\x20=\x20'+'-J1\x20/\x20v.z\x20'+'*\x20v.xy;\x0a\x20\x20'+'\x20\x20mat3\x20J\x20='+'\x20mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20J1,\x200'+'.0,\x20J2.x,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x200.'+'0,\x20J1,\x20J2.'+'y,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x200.0,\x200.0,'+'\x200.0\x0a\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20mat'+'3\x20W\x20=\x20tran'+'spose(mat3'+'(center.mo'+'delView));'+'\x0a\x20\x20\x20\x20mat3\x20'+'T\x20=\x20W\x20*\x20J;'+'\x0a\x20\x20\x20\x20mat3\x20'+'cov\x20=\x20tran'+'spose(T)\x20*'+('\x20Vrk\x20*\x20T;\x0a'+'\x0a\x20\x20\x20\x20#if\x20G'+'SPLAT_AA\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'calculate\x20'+'AA\x20factor\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20detOri'+'g\x20=\x20cov[0]'+'[0]\x20*\x20cov['+'1][1]\x20-\x20co'+'v[0][1]\x20*\x20'+'cov[0][1];'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20detBl'+'ur\x20=\x20(cov['+'0][0]\x20+\x200.'+'3)\x20*\x20(cov['+'1][1]\x20+\x200.'+'3)\x20-\x20cov[0'+'][1]\x20*\x20cov'+'[0][1];\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20corn'+'er.aaFacto'+'r\x20=\x20sqrt(m'+'ax(detOrig'+'\x20/\x20detBlur'+',\x200.0));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20diagonal1'+'\x20=\x20cov[0]['+'0]\x20+\x200.3;\x0a'+'\x20\x20\x20\x20float\x20'+'offDiagona'+'l\x20=\x20cov[0]'+'[1];\x0a\x20\x20\x20\x20f'+'loat\x20diago'+'nal2\x20=\x20cov'+'[1][1]\x20+\x200'+'.3;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20mid\x20='+'\x200.5\x20*\x20(di'+'agonal1\x20+\x20'+'diagonal2)'+';\x0a\x20\x20\x20\x20floa'+'t\x20radius\x20='+'\x20length(ve'+'c2((diagon'+'al1\x20-\x20diag'+'onal2)\x20/\x202'+'.0,\x20offDia'+'gonal));\x0a\x20'+'\x20\x20\x20float\x20l'+'ambda1\x20=\x20m'+'id\x20+\x20radiu'+'s;\x0a\x20\x20\x20\x20flo'+'at\x20lambda2'+'\x20=\x20max(mid'+'\x20-\x20radius,'+'\x200.1);\x0a\x20\x20\x20'+'\x20if\x20(point'+'CloudModeE'+'nabled\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20l'+'ambda1\x20=\x20l'+'ambda2\x20=\x202'+'.0;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20Us'+'e\x20the\x20smal'+'ler\x20viewpo'+'rt\x20dimensi'+'on\x20to\x20limi'+'t\x20the\x20kern'+'el\x20size\x20re'+'lative\x20to\x20'+'the\x20screen'+'\x20resolutio'+'n.\x0a\x20\x20\x20\x20flo'+'at\x20vmin\x20=\x20'+'min(1024.0'+',\x20min(view'+'port.x,\x20vi'+'ewport.y))'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20l1\x20=\x202.'+'0\x20*\x20min(sq'+'rt(2.0\x20*\x20l'+'ambda1),\x20v'+'min);\x0a\x20\x20\x20\x20'+'float\x20l2\x20='+'\x202.0\x20*\x20min'+'(sqrt(2.0\x20'+'*\x20lambda2)'+',\x20vmin);\x0a\x0a'+'\x20\x20\x20\x20//\x20ear'+'ly-out\x20gau'+'ssians\x20sma'+'ller\x20than\x20'+'2\x20pixels\x0a\x20')+('\x20\x20\x20if\x20(l1\x20'+'<\x202.0\x20&&\x20l'+'2\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec2\x20c'+'\x20=\x20center.'+'proj.ww\x20/\x20'+'viewport;\x0a'+'\x0a\x20\x20\x20\x20//\x20cu'+'ll\x20against'+'\x20frustum\x20x'+'/y\x20axes\x0a\x20\x20'+'\x20\x20if\x20(any('+'greaterTha'+'n(abs(cent'+'er.proj.xy'+')\x20-\x20vec2(m'+'ax(l1,\x20l2)'+')\x20*\x20c,\x20cen'+'ter.proj.w'+'w)))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20false;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec2\x20diago'+'nalVector\x20'+'=\x20normaliz'+'e(vec2(off'+'Diagonal,\x20'+'lambda1\x20-\x20'+'diagonal1)'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20scale\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20bool\x20inRe'+'nderSpace\x20'+'=\x20(center.'+'view.x\x20>=\x20'+'-renderSpa'+'ce\x20&&\x20cent'+'er.view.x\x20'+'<=\x20renderS'+'pace)\x20&&\x20('+'center.vie'+'w.y\x20>=\x20-re'+'nderSpace\x20'+'&&\x20center.'+'view.y\x20<=\x20'+'renderSpac'+'e);\x0a\x20\x20\x20\x20bo'+'ol\x20openRen'+'derAnim\x20=\x20'+'renderSpac'+'e\x20<\x20endSpa'+'ce;\x0a\x20\x20\x20\x20bo'+'ol\x20inRende'+'r\x20=\x20render'+'Space\x20>=\x20e'+'ndSpace\x20||'+'\x20inRenderS'+'pace\x20||\x20po'+'intCloudMo'+'deEnabled\x20'+'==\x201;\x0a\x20\x20\x20\x20'+'if(!openRe'+'nderAnim\x20&'+'&\x20uSplatSc'+'ale\x20>\x200.0\x20'+'&&\x20uSplatS'+'cale\x20<=\x205.'+'0){\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale\x20=\x20'+'uSplatScal'+'e;\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(in'+'Render){\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(openR'+'enderAnim)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'scale\x20=\x20in'+'RenderSpac'+'e\x20?\x20uSplat'+'Scale\x20:\x200.'+'1;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20vec2\x20v1'+'\x20=\x20scale\x20*'+'\x20l1\x20*\x20diag'+'onalVector'+';\x0a\x20\x20\x20\x20vec2'+'\x20v2\x20=\x20scal'+'e\x20*\x20l2\x20*\x20v'+'ec2(diagon'+'alVector.y'+',\x20-diagona'+'lVector.x)')+(';\x0a\x0a\x20\x20\x20\x20cor'+'ner.offset'+'\x20=\x20(source'+'.cornerUV.'+'x\x20*\x20v1\x20+\x20s'+'ource.corn'+'erUV.y\x20*\x20v'+'2)\x20*\x20c;\x0a\x20\x20'+'\x20\x20//\x20corne'+'r.uv\x20=\x20sou'+'rce.corner'+'UV;\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20if\x20(uSh'+'apeN\x20<\x203)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'corner.uv\x20'+'=\x20source.c'+'ornerUV;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'corner.cSi'+'ze\x20=\x20(v1\x20+'+'\x20v2)\x20*\x20c;\x0a'+'\x20\x20\x20\x20corner'+'.cUV\x20=\x20sou'+'rce.corner'+'UV;\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20return\x20'+'true;\x0a}\x0a'),Z1='\x0a\x0auniform\x20'+'highp\x20samp'+'ler2D\x20tran'+'sformA;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20transfor'+'mB;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20tr'+'ansformR;\x0a'+'\x0a#ifdef\x20IS'+'_4D\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20tr'+'ansformMot'+'ion;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformLi'+'fecycle;\x0a#'+'endif\x0a\x0a//\x20'+'work\x20value'+'s\x0a//\x20uint\x20'+'tAw;\x0avec2\x20'+'sampledCov'+'4D;\x0afloat\x20'+'muT;\x0a\x0a//\x20t'+'ool\x20for\x20co'+'mpute\x20Marg'+'inal\x20time\x0a'+'float\x20comp'+'uteMargina'+'lT(float\x20t'+'ime,\x20float'+'\x20muT,\x20floa'+'t\x20sigmaT)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'muT\x20<=\x20-10'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20floa'+'t\x20result\x20='+'\x20exp(-0.5\x20'+'*\x20(pow((ti'+'me\x20-\x20muT),'+'\x202.0)\x20/\x20po'+'w(sigmaT,\x20'+'2.0)));\x0a\x20\x20'+'\x20\x20return\x20r'+'esult;\x0a}\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20retu'+'rn\x20texelFe'+'tch(transf'+'ormA,\x20sour'+'ce.uv,\x200).'+'xyz;\x0a}\x0a\x0ama'+'t3\x20quatToM'+'at3v2(vec4'+'\x20R)\x20{\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'R.w;\x0a\x20\x20\x20\x20f'+'loat\x20y\x20=\x20R'+'.x;\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20R.'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20w\x20=\x20R.z'+';\x0a\x20\x20\x20\x20retu'+'rn\x20mat3(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'z\x20*\x20z\x20+\x20w\x20'+'*\x20w),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'2.0\x20*\x20(y\x20*'+'\x20z\x20+\x20x\x20*\x20w'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x202.0'+'\x20*\x20(y\x20*\x20w\x20'+'-\x20x\x20*\x20z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20-\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x201.0\x20-'+'\x202.0\x20*\x20(y\x20'+'*\x20y\x20+\x20w\x20*\x20'+'w),\x0a\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(z\x20*\x20w'+'\x20+\x20x\x20*\x20y),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x202.0\x20*'+'\x20(y\x20*\x20w\x20+\x20'+'x\x20*\x20z),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20-\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.0\x20-\x202'+'.0\x20*\x20(y\x20*\x20'+'y\x20+\x20z\x20*\x20z)'+'\x0a\x20\x20\x20\x20);\x0a}\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(vec3\x20pack'+'ed)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(packed.x'+'yz,\x20sqrt(m'+'ax(0.0,\x201.'+'0\x20-\x20dot(pa'+'cked,\x20pack'+'ed))));\x0a}\x0a'+'\x0a//\x20sample'+'\x20covarianc'+'e\x20vectors\x0a'+'void\x20readC'+'ovariance('+'in\x20SplatSo'+'urce\x20sourc'+'e,\x20out\x20vec'+'3\x20covA,\x20ou'+'t\x20vec3\x20cov'+'B)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20tB\x20=\x20t'+'exelFetch('+'transformB'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20tR\x20'+'=\x20texelFet'+'ch(transfo'+'rmR,\x20sourc'+'e.uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3v'+'2(unpackRo'+'tation(tR)'+');\x0a\x20\x20\x20\x20vec'+'3\x20scale\x20=\x20'+'tB.xyz;\x0a\x0a\x20'+'\x20\x20\x20//\x20M\x20=\x20'+'S\x20*\x20R\x0a\x20\x20\x20\x20'+'mat3\x20M\x20=\x20t'+'ranspose(m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.x'+'\x20*\x20rot[0],'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'cale.y\x20*\x20r'+'ot[1],\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.z\x20*\x20rot[2'+']\x0a\x20\x20\x20\x20));\x0a'+'\x0a\x20\x20\x20\x20covA\x20'+'=\x20vec3(dot'+'(M[0],\x20M[0'+']),\x20dot(M['+'0],\x20M[1]),'+'\x20dot(M[0],'+'\x20M[2]));\x0a\x20'+'\x20\x20\x20covB\x20=\x20'+'vec3(dot(M'+'[1],\x20M[1])'+',\x20dot(M[1]'+',\x20M[2]),\x20d'+'ot(M[2],\x20M'+'[2]));\x0a}\x0a\x0a'+'//\x20sample\x20'+'4D\x20covaria'+'nce\x20vector'+'s\x0avoid\x20rea'+'dFTGSCovar'+'iance(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20co'+'vA,\x20out\x20ve'+'c3\x20covB,ou'+'t\x20vec4\x20cov'+'ariance4D)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20tB\x20=\x20tex'+'elFetch(tr'+'ansformB,\x20'+'source.uv,')+('\x200);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20tR\x20=\x20'+'texelFetch'+'(transform'+'R,\x20source.'+'uv,\x200).xyz'+';\x0a\x20\x20\x20\x20mat3'+'\x20rot\x20=\x20qua'+'tToMat3v2('+'unpackRota'+'tion(tR));'+'\x0a\x20\x20\x20\x20vec3\x20'+'scale\x20=\x20tB'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x20M\x20=\x20S\x20'+'*\x20R\x0a\x20\x20\x20\x20ma'+'t3\x20M\x20=\x20tra'+'nspose(mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20covA\x20=\x20'+'vec3(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20covB\x20=\x20ve'+'c3(dot(M[1'+'],\x20M[1]),\x20'+'dot(M[1],\x20'+'M[2]),\x20dot'+'(M[2],\x20M[2'+']));\x0a\x0a}\x0a\x0a\x0a'+'float\x20getM'+'arginalT(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20float'+'\x20time)\x20{\x0a\x20'+'\x20\x20\x20float\x20m'+'arginal\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20filter\x20'+'out\x20splats'+'\x20that\x20have'+'\x20too\x20littl'+'e\x20influenc'+'e\x20to\x20now\x20i'+'n\x20the\x20time'+'\x20dimension'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20tData'+'\x20=\x20texelFe'+'tch(transf'+'ormLifecyc'+'le,\x20source'+'.uv,\x200).xy'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'muT\x20=\x20tDat'+'a.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20t'+'Scale\x20=\x20tD'+'ata.y;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20margi'+'nal\x20=\x20comp'+'uteMargina'+'lT(time,\x20m'+'uT,\x20tScale'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20re'+'turn\x20margi'+'nal;\x0a}\x0a\x0ave'+'c3\x20readCen'+'ter4D(Spla'+'tSource\x20so'+'urce,\x20floa'+'t\x20time)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20texelFe'+'tch(transf'+'ormA,\x20sour'+'ce.uv,\x200).'+'xyz;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20if(m'+'uT\x20>\x20-5.0)'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20movin'+'gSpeed\x20=\x20t')+('exelFetch('+'transformM'+'otion,\x20sou'+'rce.uv,\x200)'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'platOffset'+'\x20=\x20movingS'+'peed\x20*\x20(ti'+'me\x20-\x20muT);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'platCenter'+'\x20+=\x20splatO'+'ffset;\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20spla'+'tCenter;\x0a}'+'\x0a'),Q1='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0avec'+'3\x20prepareO'+'utputFromG'+'amma(vec3\x20'+'gammaColor'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20TONEMAP\x20'+'==\x20NONE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'GAMMA\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onvert\x20to\x20'+'linear\x20spa'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20outp'+'ut\x20gamma\x20s'+'pace\x20color'+'\x20directly\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'ly\x20tonemap'+'ping\x20in\x20li'+'near\x20space'+'\x20and\x20outpu'+'t\x20to\x20linea'+'r\x20or\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20gamm'+'a\x20(which\x20i'+'s\x20handled\x20'+'by\x20gammaCo'+'rrectOutpu'+'t)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ga'+'mmaCorrect'+'Output(ton'+'eMap(decod'+'eGamma(gam'+'maColor)))'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',J1='\x0auniform\x20i'+'nt\x20mode;\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x200:\x20c'+'enters,\x201:'+'\x20rings\x0auni'+'form\x20float'+'\x20ringSize;'+'\x0auniform\x20i'+'nt\x20uShapeN'+';\x0a\x0a#ifndef'+'\x20DITHER_NO'+'NE\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bay'+'erPS\x22\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'opacityDit'+'herPS\x22\x0a\x20\x20\x20'+'\x20varying\x20f'+'loat\x20id;\x0a#'+'endif\x0a\x0a#if'+'def\x20PICK_P'+'ASS\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pi'+'ckPS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_PASS)\x20|'+'|\x20defined('+'PICK_PASS)'+'\x20||\x20define'+'d(PREPASS_'+'PASS)\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20alphaC'+'lip;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'PREPASS_PA'+'SS\x0a\x20\x20\x20\x20var'+'ying\x20float'+'\x20vLinearDe'+'pth;\x0a\x20\x20\x20\x20#'+'include\x20\x22f'+'loatAsUint'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20Fast\x20'+'approximat'+'e\x20e^x\x20base'+'d\x20on\x20https'+'://nic.sch'+'raudolph.o'+'rg/pubs/Sc'+'hraudolph9'+'9.pdf\x0acons'+'t\x20float\x20\x20E'+'XP_A\x20\x20\x20\x20\x20\x20'+'=\x2012102203'+'.0;\x20\x20\x20//\x20'+'\x202^23\x20/\x20ln'+'(2)\x0aconst\x20'+'int\x20\x20\x20\x20EXP'+'_BC_RMS\x20=\x20'+'1064866808'+';\x20\x20\x20//\x20(12'+'7\x20<<\x2023)\x20-'+'\x2060801\x20*\x208'+'\x0afloat\x20fas'+'tExp(float'+'\x20x)\x20{\x0a\x20\x20\x20\x20'+'int\x20i\x20=\x20in'+'t(EXP_A\x20*\x20'+'x)\x20+\x20EXP_B'+'C_RMS;\x0a\x20\x20\x20'+'\x20return\x20in'+'tBitsToFlo'+'at(i);\x0a}\x0a\x0a'+'varying\x20me'+'diump\x20vec2'+'\x20gaussianU'+'V;\x0avarying'+'\x20mediump\x20v'+'ec4\x20gaussi'+'anColor;\x0av'+'arying\x20med'+'iump\x20vec2\x20'+'gaussianSi'+'ze;\x0avaryin'+'g\x20mediump\x20'+'vec2\x20gauss'+'ianCUV;\x0ava'+'rying\x20medi'+'ump\x20float\x20'+'saveMargin'+'al;\x0a\x0a//\x20'+'\x20p\x20\x20N'+'\x20\x0a//\x20p:'+'\x20\x20(UV\x20'+')\x0a//'+'\x20N:\x20\x0a//\x20'+'r:\x20'+('1\x0a/'+'/\x20center:\x20'+'\x0abool\x20'+'insideRegu'+'larPolygon'+'(vec2\x20p,\x20i'+'nt\x20N,\x20floa'+'t\x20r,\x20vec2\x20'+'center)\x20{\x0a'+'\x20\x20\x20\x20//\x20'+'\x0a\x20'+'\x20\x20\x20vec2\x20d\x20'+'=\x20p\x20-\x20cent'+'er;\x0a\x20\x20\x20\x20fl'+'oat\x20theta\x20'+'=\x20atan(d.y'+',\x20d.x);\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20flo'+'at\x20len\x20=\x20l'+'ength(d);\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20float'+'\x20anglePerS'+'ide\x20=\x202.0\x20'+'*\x203.141592'+'65\x20/\x20float'+'(N);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x200\x20~'+'\x20anglePerS'+'ide\x20\x0a\x20\x20\x20'+'\x20float\x20loc'+'alAngle\x20=\x20'+'mod(theta,'+'\x20anglePerS'+'ide);\x0a\x0a\x20\x20\x20'+'\x20//\x20'+'\x20'+'N\x20\x0a\x20\x20'+'\x20\x20float\x20ma'+'xR\x20=\x20r\x20*\x20c'+'os(anglePe'+'rSide\x20/\x202.'+'0)\x20/\x20cos(l'+'ocalAngle\x20'+'-\x20anglePer'+'Side\x20/\x202.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20len\x20<'+'=\x20maxR;\x0a}\x0a'+'\x0a//\x20'+'N\x20soft\x20'+'mask\x0afloat'+'\x20polygonSo'+'ftMask(vec'+'2\x20p,\x20int\x20N'+',\x20float\x20ra'+'dius,\x20floa'+'t\x20edgeSoft'+'ness)\x20{\x0a\x20\x20'+'\x20\x20float\x20an'+'gle\x20=\x20atan'+'(p.y,\x20p.x)'+';\x0a\x20\x20\x20\x20floa'+'t\x20sector\x20='+'\x206.2831853'+'\x20/\x20float(N'+');\x20\x20//\x20'+'\x0a\x20\x20\x20\x20//'+'\x20\x20['+'-sector/2,'+'\x20sector/2]'+'\x0a\x20\x20\x20\x20float'+'\x20halfSecto'+'r\x20=\x20sector'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20float\x20lo'+'calAngle\x20='+'\x20mod(angle'+'\x20+\x20halfSec'+'tor,\x20secto'+'r)\x20-\x20halfS'+'ector;\x0a\x0a\x20\x20'+'\x20\x20//\x20'+'\x0a'+'\x20\x20\x20\x20float\x20'+'boundary\x20='+'\x20radius\x20*\x20'+'cos(halfSe'+'ctor)\x20/\x20co'+'s(localAng'+'le);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x20=\x20'+'\x0a\x20\x20\x20\x20'+'float\x20dist'+'\x20=\x20boundar'+'y\x20-\x20length'+'(p);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x20smoot')+('hstep\x20'+'\x20(edgeSof'+'tness\x20'+')\x0a\x20\x20\x20\x20'+'float\x20alph'+'a\x20=\x20smooth'+'step(0.0,\x20'+'edgeSoftne'+'ss,\x20dist);'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20alpha;\x20'+'//\x200~1\x0a}\x0a\x0a'+'void\x20main('+'void)\x20{\x0a\x20\x20'+'\x20\x20mediump\x20'+'float\x20A\x20=\x20'+'dot(gaussi'+'anUV,\x20gaus'+'sianUV);\x0a\x20'+'\x20\x20\x20if\x20(A\x20>'+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20disc'+'ard;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'valuate\x20al'+'pha\x0a\x20\x20\x20\x20me'+'diump\x20floa'+'t\x20alpha\x20=\x20'+'fastExp(-A'+'\x20*\x204.0)\x20*\x20'+'gaussianCo'+'lor.a;\x0a\x20\x20\x20'+'\x20//\x20TODO\x20u'+'ShapeN\x20alp'+'ha\x0a\x20\x20\x20\x20//\x20'+'float\x20dx\x20='+'\x20abs(gauss'+'ianCUV.x)\x20'+'/\x20gaussian'+'Size.x;\x0a\x20\x20'+'\x20\x20//\x20float'+'\x20dy\x20=\x20abs('+'gaussianCU'+'V.y)\x20/\x20gau'+'ssianSize.'+'y;\x0a\x20\x20\x20\x20//\x20'+'float\x20B\x20=\x20'+'max(dx,\x20dy'+');\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20'+'\x0a\x20\x20\x20\x20//\x20'+'mediump\x20fl'+'oat\x20alpha\x20'+'=\x20exp(-pow'+'(B,\x202.0)\x20*'+'\x204.0)\x20*\x20ga'+'ussianColo'+'r.a;\x0a\x0a\x20\x20\x20\x20'+'bool\x20openR'+'ingMode\x20=\x20'+'ringSize\x20>'+'\x200.0\x20&&\x20mo'+'de\x20==\x201;\x20/'+'/\x20&&\x20uCont'+'rolMode\x20=='+'\x201;\x20\x0a\x20\x20\x20\x20i'+'f\x20(openRin'+'gMode\x20&&\x20s'+'aveMargina'+'l\x20>=\x200.05)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(A\x20<\x201'+'.0\x20-\x20ringS'+'ize)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'lpha\x20=\x20max'+'(0.05,\x20alp'+'ha);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20alpha\x20'+'=\x200.6;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20bool\x20ope'+'nShapeMode'+'\x20=\x20uShapeN'+'\x20>\x202;\x20//\x20&'+'&\x20uControl'+'Mode\x20==\x201;'+'\x0a\x20\x20\x20\x20if\x20(o'+'penShapeMo'+'de)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20gaussi'+'anCUV\x20*\x202.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20rad'+'ius\x20=\x201.0;')+('\x20//\x201.0\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20edgeSoft'+'ness\x20=\x200.0'+'5;\x20//\x200.05'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v\x20*=\x201.0;/'+'/0.9;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20c'+'enter\x20=\x20ve'+'c2(0.0,\x200.'+'0);\x20\x20\x20//\x20'+''+'\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20alpha\x20'+'=\x20polygonS'+'oftMask(uv'+',\x20uShapeN,'+'\x20radius,\x20e'+'dgeSoftnes'+'s);\x20//\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(!insideR'+'egularPoly'+'gon(uv,\x20uS'+'hapeN,\x20rad'+'ius,\x20cente'+'r))\x20{\x20//'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20discard'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20#if'+'\x20defined(S'+'HADOW_PASS'+')\x20||\x20defin'+'ed(PICK_PA'+'SS)\x20||\x20def'+'ined(PREPA'+'SS_PASS)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(alpha\x20<\x20a'+'lphaClip)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20discar'+'d;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PICK'+'_PASS\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'getPickOut'+'put();\x0a\x0a\x20\x20'+'\x20\x20#elif\x20SH'+'ADOW_PASS\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(0'+'.0,\x200.0,\x200'+'.0,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20#elif'+'\x20PREPASS_P'+'ASS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20fl'+'oat2vec4(v'+'LinearDept'+'h);\x0a\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(alp'+'ha\x20<\x201.0\x20/'+'\x20255.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20discard;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20DI'+'THER_NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20opacityD'+'ither(alph'+'a,\x20id\x20*\x200.'+'013);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'gaussianCo'+'lor.xyz,\x20a'+'lpha);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),eP='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0avec3\x20unpa'+'ck111011s('+'uint\x20bits)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec3(('+'uvec3(bits'+')\x20>>\x20uvec3'+'(21u,\x2011u,'+'\x200u))\x20&\x20uv'+'ec3(0x7ffu'+',\x200x3ffu,\x20'+'0x7ffu))\x20/'+'\x20vec3(2047'+'.0,\x201023.0'+',\x202047.0)\x20'+'*\x202.0\x20-\x201.'+'0;\x0a}\x0a\x0a//\x20f'+'etch\x20quant'+'ized\x20spher'+'ical\x20harmo'+'nic\x20coeffi'+'cients\x0avoi'+'d\x20fetchSca'+'le(in\x20uvec'+'4\x20t,\x20out\x20f'+'loat\x20scale'+',\x20out\x20vec3'+'\x20a,\x20out\x20ve'+'c3\x20b,\x20out\x20'+'vec3\x20c)\x20{\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20uintBits'+'ToFloat(t.'+'x);\x0a\x20\x20\x20\x20a\x20'+'=\x20unpack11'+'1011s(t.y)'+';\x0a\x20\x20\x20\x20b\x20=\x20'+'unpack1110'+'11s(t.z);\x0a'+'\x20\x20\x20\x20c\x20=\x20un'+'pack111011'+'s(t.w);\x0a}\x0a'+'\x0a//\x20fetch\x20'+'quantized\x20'+'spherical\x20'+'harmonic\x20c'+'oefficient'+'s\x0avoid\x20fet'+'ch(in\x20uvec'+'4\x20t,\x20out\x20v'+'ec3\x20a,\x20out'+'\x20vec3\x20b,\x20o'+'ut\x20vec3\x20c,'+'\x20out\x20vec3\x20'+'d)\x20{\x0a\x20\x20\x20\x20a'+'\x20=\x20unpack1'+'11011s(t.x'+');\x0a\x20\x20\x20\x20b\x20='+'\x20unpack111'+'011s(t.y);'+'\x0a\x20\x20\x20\x20c\x20=\x20u'+'npack11101'+'1s(t.z);\x0a\x20'+'\x20\x20\x20d\x20=\x20unp'+'ack111011s'+'(t.w);\x0a}\x0a\x0a'+'void\x20fetch'+'(in\x20uint\x20t'+',\x20out\x20vec3'+'\x20a)\x20{\x0a\x20\x20\x20\x20'+'a\x20=\x20unpack'+'111011s(t)'+';\x0a}\x0a\x0a#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20splatSH_'+'1to3;\x0a\x20\x20\x20\x20'+'void\x20readS'+'HData(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20sh'+'[3],\x20out\x20f'+'loat\x20scale'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetchSca'+'le(texelFe'+'tch(splatS'+'H_1to3,\x20so'+'urce.uv,\x200'+'),\x20scale,\x20'+'sh[0],\x20sh['+'1],\x20sh[2])'+(';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20SH_BAN'+'DS\x20==\x202\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20usam'+'pler2D\x20spl'+'atSH_1to3;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20highp\x20u'+'sampler2D\x20'+'splatSH_4t'+'o7;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_8to11;\x0a\x20\x20'+'\x20\x20void\x20rea'+'dSHData(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'sh[8],\x20out'+'\x20float\x20sca'+'le)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetchS'+'cale(texel'+'Fetch(spla'+'tSH_1to3,\x20'+'source.uv,'+'\x200),\x20scale'+',\x20sh[0],\x20s'+'h[1],\x20sh[2'+']);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetch(te'+'xelFetch(s'+'platSH_4to'+'7,\x20source.'+'uv,\x200),\x20sh'+'[3],\x20sh[4]'+',\x20sh[5],\x20s'+'h[6]);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20fetch'+'(texelFetc'+'h(splatSH_'+'8to11,\x20sou'+'rce.uv,\x200)'+'.x,\x20sh[7])'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_1to3;\x0a\x20\x20\x20'+'\x20uniform\x20h'+'ighp\x20usamp'+'ler2D\x20spla'+'tSH_4to7;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20us'+'ampler2D\x20s'+'platSH_8to'+'11;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_12to15;\x0a\x20'+'\x20\x20\x20void\x20re'+'adSHData(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20sh[15],\x20o'+'ut\x20float\x20s'+'cale)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fetc'+'hScale(tex'+'elFetch(sp'+'latSH_1to3'+',\x20source.u'+'v,\x200),\x20sca'+'le,\x20sh[0],'+'\x20sh[1],\x20sh'+'[2]);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetch('+'texelFetch'+'(splatSH_4'+'to7,\x20sourc'+'e.uv,\x200),\x20'+'sh[3],\x20sh['+'4],\x20sh[5],'+'\x20sh[6]);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fet'+'ch(texelFe'+'tch(splatS'+'H_8to11,\x20s'+'ource.uv,\x20'+'0),\x20sh[7],'+'\x20sh[8],\x20sh'+'[9],\x20sh[10'+']);\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20fetch(te'+'xelFetch(s'+'platSH_12t'+'o15,\x20sourc'+'e.uv,\x200),\x20'+'sh[11],\x20sh'+'[12],\x20sh[1'+'3],\x20sh[14]'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0a#en'+'dif\x0a'),tP='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20xy:\x20co'+'rnerUV,\x20z:'+'\x20render\x20or'+'der\x20offset'+'\x0aattribute'+'\x20uint\x20vert'+'ex_id_attr'+'ib;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20render'+'\x20order\x20bas'+'e\x0a\x0auniform'+'\x20uint\x20numS'+'plats;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20tota'+'l\x20number\x20o'+'f\x20splats\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20splatO'+'rder;\x20\x20\x20\x20/'+'/\x20per-spla'+'t\x20index\x20to'+'\x20source\x20ga'+'ussian\x0a\x0a//'+'\x20initializ'+'e\x20the\x20spla'+'t\x20source\x20s'+'tructure\x0ab'+'ool\x20initSo'+'urce(out\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(splatOrde'+'r,\x200).x);\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20ui'+'nt(vertex_'+'position.z'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20if'+'\x20out\x20of\x20ra'+'nge\x20(since'+'\x20the\x20last\x20'+'block\x20of\x20s'+'plats\x20may\x20'+'be\x20partial'+'ly\x20full)\x0a\x20'+'\x20\x20\x20if\x20(sou'+'rce.order\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20order'+'UV\x20=\x20ivec2'+'(source.or'+'der\x20%\x20w,\x20s'+'ource.orde'+'r\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20splat\x20id\x0a'+'\x20\x20\x20\x20source'+'.id\x20=\x20texe'+'lFetch(spl'+'atOrder,\x20o'+'rderUV,\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20/'+'/\x20map\x20id\x20t'+'o\x20uv\x0a\x20\x20\x20\x20s'+'ource.uv\x20='+'\x20ivec2(sou'+'rce.id\x20%\x20w'+',\x20source.i'+'d\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a',sP='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0aun'+'iform\x20int\x20'+'pointCloud'+'ModeEnable'+'d;\x0auniform'+'\x20float\x20uTi'+'me;\x0aunifor'+'m\x20float\x20pr'+'erenderCTi'+'me;\x0aunifor'+'m\x20float\x20uS'+'aturation;'+'\x20//\x200.0-2.'+'01.0\x20'+'\x0auniform'+'\x20float\x20uHu'+'eOffset;\x20\x20'+'//\x20'+'360'+'\x0auniform\x20v'+'ec3\x20clrOff'+'set;\x0aunifo'+'rm\x20vec4\x20cl'+'rScale;\x0aun'+'iform\x20floa'+'t\x20uOpacity'+';\x0auniform\x20'+'int\x20uInver'+'tOpacity;\x0a'+'\x0avarying\x20m'+'ediump\x20vec'+'2\x20gaussian'+'UV;\x0avaryin'+'g\x20mediump\x20'+'vec4\x20gauss'+'ianColor;\x0a'+'varying\x20me'+'diump\x20vec2'+'\x20gaussianS'+'ize;\x0avaryi'+'ng\x20mediump'+'\x20vec2\x20gaus'+'sianCUV;\x0av'+'arying\x20med'+'iump\x20float'+'\x20saveMargi'+'nal;\x0a\x0a//\x20='+'====\x20\x20H'+'SV/RGB\x20\x20'+'=====\x0ahigh'+'p\x20vec3\x20rgb'+'2hsv(highp'+'\x20vec3\x20c)\x20{'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20cMa'+'x\x20=\x20max(ma'+'x(c.r,\x20c.g'+'),\x20c.b);\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20cMin\x20'+'=\x20min(min('+'c.r,\x20c.g),'+'\x20c.b);\x0a\x20\x20\x20'+'\x20highp\x20flo'+'at\x20delta\x20='+'\x20cMax\x20-\x20cM'+'in\x20+\x201e-10'+';\x20//\x200\x0a'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20h\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'if\x20(delta\x20'+'>\x201e-6)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(cMax\x20==\x20'+'c.r)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20h'+'\x20=\x20mod((c.'+'g\x20-\x20c.b)\x20/'+'\x20delta,\x206.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(cMax\x20=='+'\x20c.g)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'h\x20=\x20(c.b\x20-'+'\x20c.r)\x20/\x20de'+'lta\x20+\x202.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'h\x20=\x20(c.r\x20-'+'\x20c.g)\x20/\x20de'+'lta\x20+\x204.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20h'+'\x20/=\x206.0;\x20/'+'/\x20\x20[0,1]'+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(h\x20<\x200.0'+')\x20h\x20+=\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20s\x20=\x20('+'cMax\x20<\x201e-'+'6)\x20?\x200.0\x20:'+'\x20delta\x20/\x20c'+'Max;\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20v\x20=\x20cMax;'+'\x0a\x20\x20\x20\x20retur'+'n\x20vec3(h,\x20'+'s,\x20v);\x0a}\x0a\x0a'+'highp\x20vec3'+'\x20hsv2rgb(h'+'ighp\x20vec3\x20'+'c)\x20{\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20h\x20=\x20c.x\x20*'+'\x206.0;\x20//\x200'+'-6\x0a\x20\x20\x20\x20hig'+'hp\x20float\x20s'+'\x20=\x20c.y;\x0a\x20\x20'+'\x20\x20highp\x20fl'+'oat\x20v\x20=\x20c.'+'z;\x0a\x0a\x20\x20\x20\x20hi'+'ghp\x20int\x20i\x20'+'=\x20int(floo'+'r(h));\x0a\x20\x20\x20'+'\x20highp\x20flo'+'at\x20f\x20=\x20h\x20-'+'\x20float(i);'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20p\x20='+'\x20v\x20*\x20(1.0\x20'+'-\x20s);\x0a\x20\x20\x20\x20'+'highp\x20floa'+'t\x20q\x20=\x20v\x20*\x20'+'(1.0\x20-\x20s\x20*'+'\x20f);\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20t\x20=\x20v\x20*\x20('+'1.0\x20-\x20s\x20*\x20'+'(1.0\x20-\x20f))'+';\x0a\x0a\x20\x20\x20\x20if\x20'+'(i\x20==\x200)\x20r'+'eturn\x20vec3'+'(v,\x20t,\x20p);'+'\x0a\x20\x20\x20\x20else\x20'+'if\x20(i\x20==\x201'+')\x20return\x20v'+'ec3(q,\x20v,\x20'+'p);\x0a\x20\x20\x20\x20el'+'se\x20if\x20(i\x20='+'=\x202)\x20retur'+'n\x20vec3(p,\x20'+'v,\x20t);\x0a\x20\x20\x20'+'\x20else\x20if\x20('+'i\x20==\x203)\x20re'+'turn\x20vec3('+'p,\x20q,\x20v);\x0a'+'\x20\x20\x20\x20else\x20i'+'f\x20(i\x20==\x204)'+'\x20return\x20ve'+'c3(t,\x20p,\x20v'+');\x0a\x20\x20\x20\x20els'+'e\x20return\x20v'+'ec3(v,\x20p,\x20'+'q);\x20//\x20i=='+'5\x0a}\x0a\x0a#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20id;\x0a#en'+'dif\x0a\x0amediu'+'mp\x20vec4\x20di'+'scardVec\x20='+'\x20vec4(0.0,'+'\x200.0,\x202.0,'+'\x201.0);\x0a\x0a#i'+'fdef\x20PREPA'+'SS_PASS\x0a\x20\x20'+'\x20\x20varying\x20'+'float\x20vLin'+'earDepth;\x0a'+'#endif\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'//\x20read\x20ga'+'ussian\x20det'+'ails\x0a\x20\x20\x20\x20S'+'platSource'+'\x20source;\x0a\x20'+'\x20\x20\x20if\x20(!in'+'itSource(s'+'ource))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20')+('=\x20discardV'+'ec;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20saveMargi'+'nal\x20=\x20getM'+'arginalT(s'+'ource,\x20uTi'+'me);\x0a\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20float\x20'+'marginal\x20='+'\x20uOpenAnim'+'\x20==\x201\x20?\x201.'+'0\x20:\x20saveMa'+'rginal;\x0a\x20\x20'+'\x20\x20if\x20(marg'+'inal\x20<\x200.0'+'5)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20dis'+'cardVec;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20modelCent'+'er;\x0a\x20\x20\x20\x20bo'+'ol\x20isCente'+'r4D\x20=\x20save'+'Marginal\x20>'+'=\x200.05;\x0a\x20\x20'+'\x20\x20if\x20(isCe'+'nter4D)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'delCenter\x20'+'=\x20readCent'+'er4D(sourc'+'e,\x20uTime);'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20modelCen'+'ter\x20=\x20read'+'Center(sou'+'rce);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20Spl'+'atCenter\x20c'+'enter;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Center(mod'+'elCenter,\x20'+'center))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20discard'+'Vec;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return;'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20int\x20'+'showCloud\x20'+'=\x20pointClo'+'udModeEnab'+'led;\x0a\x20\x20\x20\x20i'+'f\x20(prerend'+'erCTime\x20=='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20show'+'Cloud\x20=\x20po'+'intCloudMo'+'deEnabled;'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if\x20(prer'+'enderCTime'+'\x20>=\x201.0\x20&&'+'\x20prerender'+'CTime\x20<\x202.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20showClo'+'ud\x20=\x201;\x0a\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(prerend'+'erCTime\x20>='+'\x202.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20show'+'Cloud\x20=\x20po'+'intCloudMo'+'deEnabled;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20proje'+'ct\x20center\x20'+'to\x20screen\x20'+'space\x0a\x20\x20\x20\x20'+'SplatCorne'+'r\x20corner;\x0a'+'\x20\x20\x20\x20if\x20(!i'+'nitCorner('+'source,\x20ce'+'nter,\x20corn'+'er,\x20showCl'+'oud))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_P'+'osition\x20=\x20')+('discardVec'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20col'+'or\x0a\x20\x20\x20\x20vec'+'4\x20clr\x20=\x20re'+'adColor(so'+'urce,\x20uTim'+'e,\x20!isCent'+'er4D,\x20poin'+'tCloudMode'+'Enabled);\x0a'+'\x0a\x20\x20\x20\x20#if\x20G'+'SPLAT_AA\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'apply\x20AA\x20c'+'ompensatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'clr.a\x20*=\x20c'+'orner.aaFa'+'ctor;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20if(margi'+'nal\x20>\x200.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20clr.w\x20*=\x20'+'marginal;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20//\x20\x0a\x20'+'\x20\x20\x20if\x20(uCo'+'ntrolColor'+'Mode\x20==\x201)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20apply\x20'+'tint/brigh'+'tness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20clr\x20=\x20'+'clr\x20*\x20clrS'+'cale\x20+\x20vec'+'4(clrOffse'+'t,\x200.0);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(uInvertO'+'pacity\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20clr'+'.a\x20=\x201.0\x20-'+'\x20clr.a;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20don\x27t\x20'+'allow\x20out-'+'of-range\x20a'+'lpha\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20clr\x20=\x20c'+'lamp(clr,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20evalu'+'ate\x20spheri'+'cal\x20harmon'+'ics\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20the\x20'+'model-spac'+'e\x20view\x20dir'+'ection\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20norm'+'alize(cent'+'er.view\x20*\x20'+'mat3(cente'+'r.modelVie'+'w));\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20rea'+'d\x20sh\x20coeff'+'icients\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sh[SH_COE'+'FFS];\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'scale;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20readS'+'HData(sour'+'ce,\x20sh,\x20sc'+'ale);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ev'+'aluate\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr.x'+'yz\x20+=\x20eval'+'SH(sh,\x20dir'+')\x20*\x20scale;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20cli'+'pCorner(co'+'rner,\x20clr.'+'w);\x0a\x0a\x20\x20\x20\x20/')+('/\x20pointClo'+'udMode\x0a\x20\x20\x20'+'\x20//\x20if\x20(po'+'intCloudMo'+'deEnabled\x20'+'==\x201)\x20{\x0a\x20\x20'+'\x20\x20//\x20\x20\x20\x20\x20c'+'lr.a\x20=\x201.0'+';\x0a\x20\x20\x20\x20//\x20}'+'\x0a\x20\x20\x20\x20highp'+'\x20vec3\x20colo'+'r\x20=\x20max(cl'+'r.xyz,\x200.0'+');\x0a\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20//\x20\x0a'+'\x20\x20\x20\x20if\x20(uC'+'ontrolColo'+'rMode\x20==\x201'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20\x20HSV'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20h'+'ighp\x20vec3\x20'+'hsv\x20=\x20rgb2'+'hsv(color)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20hsv.'+'y\x20*=\x20uSatu'+'ration;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20hsv.x\x20=\x20f'+'ract(hsv.x'+'\x20+\x20uHueOff'+'set\x20/\x20360.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20\x20RGB'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'olor\x20=\x20hsv'+'2rgb(hsv);'+'\x20\x20\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20wri'+'te\x20output\x0a'+'\x20\x20\x20\x20gl_Pos'+'ition\x20=\x20ce'+'nter.proj\x20'+'+\x20vec4(cor'+'ner.offset'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20gaussia'+'nUV\x20=\x20corn'+'er.uv;\x0a\x20\x20\x20'+'\x20gaussianC'+'UV\x20=\x20corne'+'r.cUV;\x0a\x20\x20\x20'+'\x20gaussianS'+'ize\x20=\x20corn'+'er.cSize;\x0a'+'\x20\x20\x20\x20gaussi'+'anColor\x20=\x20'+'vec4(prepa'+'reOutputFr'+'omGamma(co'+'lor),\x20clr.'+'w);\x0a\x20\x20\x20\x20ga'+'ussianColo'+'r\x20=\x20clamp('+'gaussianCo'+'lor,\x200.0,\x20'+'1.0);\x0a\x0a\x20\x20\x20'+'\x20#ifndef\x20D'+'ITHER_NONE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'d\x20=\x20float('+'source.id)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20PREPA'+'SS_PASS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vLin'+'earDepth\x20='+'\x20-center.v'+'iew.z;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),iP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'aPosition;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x0a\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(aPos'+'ition,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv0\x20'+'=\x20getImage'+'EffectUV(('+'aPosition.'+'xy\x20+\x201.0)\x20'+'*\x200.5);\x0a\x20\x20'+'\x20\x20}\x0a',rP='\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec4\x20c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(decodeG'+'amma(color'+'.rgb)),\x20co'+'lor.a);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a',aP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec4\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20attribute'+'\x20vec4\x20vert'+'ex_color;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec4\x20co'+'lor;\x0a\x20\x20\x20\x20v'+'oid\x20main(v'+'oid)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'\x20=\x20vertex_'+'color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20matrix_'+'model\x20*\x20ve'+'rtex_posit'+'ion;\x0a\x20\x20\x20\x20}'+'\x0a',nP='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceRefra'+'ctionIndex'+';\x0a\x0afloat\x20i'+'ridescence'+'_iorToFres'+'nel(float\x20'+'transmitte'+'dIor,\x20floa'+'t\x20incident'+'Ior)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w((transmi'+'ttedIor\x20-\x20'+'incidentIo'+'r)\x20/\x20(tran'+'smittedIor'+'\x20+\x20inciden'+'tIor),\x202.0'+');\x0a}\x0a\x0avec3'+'\x20iridescen'+'ce_iorToFr'+'esnel(vec3'+'\x20transmitt'+'edIor,\x20flo'+'at\x20inciden'+'tIor)\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow((transm'+'ittedIor\x20-'+'\x20vec3(inci'+'dentIor))\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'vec3(incid'+'entIor)),\x20'+'vec3(2.0))'+';\x0a}\x0a\x0avec3\x20'+'iridescenc'+'e_fresnelT'+'oIor(vec3\x20'+'f0)\x20{\x0a\x20\x20\x20\x20'+'vec3\x20sqrtF'+'0\x20=\x20sqrt(f'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20(vec3'+'(1.0)\x20+\x20sq'+'rtF0)\x20/\x20(v'+'ec3(1.0)\x20-'+'\x20sqrtF0);\x0a'+'}\x0a\x0avec3\x20ir'+'idescence_'+'sensitivit'+'y(float\x20op'+'d,\x20vec3\x20sh'+'ift)\x20{\x0a\x20\x20\x20'+'\x20float\x20PI\x20'+'=\x203.141592'+'653589793;'+'\x0a\x20\x20\x20\x20float'+'\x20phase\x20=\x202'+'.0\x20*\x20PI\x20*\x20'+'opd\x20*\x201.0e'+'-9;\x0a\x20\x20\x20\x20co'+'nst\x20vec3\x20v'+'al\x20=\x20vec3('+'5.4856e-13'+',\x204.4201e-'+'13,\x205.2481'+'e-13);\x0a\x20\x20\x20'+'\x20const\x20vec'+'3\x20pos\x20=\x20ve'+'c3(1.6810e'+'+06,\x201.795'+'3e+06,\x202.2'+'084e+06);\x0a'+'\x20\x20\x20\x20const\x20'+'vec3\x20var\x20='+'\x20vec3(4.32'+'78e+09,\x209.'+'3046e+09,\x20'+'6.6121e+09'+');\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20xyz\x20=\x20v'+'al\x20*\x20sqrt('+'2.0\x20*\x20PI\x20*'+'\x20var)\x20*\x20co'+'s(pos\x20*\x20ph'+'ase\x20+\x20shif'+'t)\x20*\x20exp(-'+'pow(phase,'+'\x202.0)\x20*\x20va'+'r);\x0a\x20\x20\x20\x20xy'+'z.x\x20+=\x209.7'+'470e-14\x20*\x20'+'sqrt(2.0\x20*'+'\x20PI\x20*\x204.52'+'82e+09)\x20*\x20'+('cos(2.2399'+'e+06\x20*\x20pha'+'se\x20+\x20shift'+'[0])\x20*\x20exp'+'(-4.5282e+'+'09\x20*\x20pow(p'+'hase,\x202.0)'+');\x0a\x20\x20\x20\x20xyz'+'\x20/=\x20vec3(1'+'.0685e-07)'+';\x0a\x0a\x20\x20\x20\x20con'+'st\x20mat3\x20XY'+'Z_TO_REC70'+'9\x20=\x20mat3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x203.'+'2404542,\x20-'+'0.9692660,'+'\x20\x200.055643'+'4,\x0a\x20\x20\x20\x20\x20\x20\x20'+'-1.5371385'+',\x20\x201.87601'+'08,\x20-0.204'+'0259,\x0a\x20\x20\x20\x20'+'\x20\x20\x20-0.4985'+'314,\x20\x200.04'+'15560,\x20\x201.'+'0572252\x0a\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'return\x20XYZ'+'_TO_REC709'+'\x20*\x20xyz;\x0a}\x0a'+'\x0afloat\x20iri'+'descence_f'+'resnel(flo'+'at\x20cosThet'+'a,\x20float\x20f'+'0)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20x\x20=\x20c'+'lamp(1.0\x20-'+'\x20cosTheta,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20floa'+'t\x20x2\x20=\x20x\x20*'+'\x20x;\x0a\x20\x20\x20\x20fl'+'oat\x20x5\x20=\x20x'+'\x20*\x20x2\x20*\x20x2'+';\x0a\x20\x20\x20\x20retu'+'rn\x20f0\x20+\x20(1'+'.0\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x20\x0a\x0av'+'ec3\x20irides'+'cence_fres'+'nel(float\x20'+'cosTheta,\x20'+'vec3\x20f0)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20clamp'+'(1.0\x20-\x20cos'+'Theta,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20float\x20x2'+'\x20=\x20x\x20*\x20x;\x0a'+'\x20\x20\x20\x20float\x20'+'x5\x20=\x20x\x20*\x20x'+'2\x20*\x20x2;\x20\x0a\x20'+'\x20\x20\x20return\x20'+'f0\x20+\x20(vec3'+'(1.0)\x20-\x20f0'+')\x20*\x20x5;\x0a}\x0a'+'\x0avec3\x20calc'+'Iridescenc'+'e(float\x20ou'+'tsideIor,\x20'+'float\x20cosT'+'heta,\x20vec3'+'\x20base_f0,\x20'+'float\x20irid'+'escenceThi'+'ckness)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'PI\x20=\x203.141'+'5926535897'+'93;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceIor\x20'+'=\x20mix(outs'+'ideIor,\x20ma'+'terial_iri'+'descenceRe'+'fractionIn'+'dex,\x20smoot'+'hstep(0.0,'+'\x200.03,\x20iri'+'descenceTh'+'ickness));'+'\x0a\x20\x20\x20\x20float'+'\x20sinTheta2'+'Sq\x20=\x20pow(o'+'utsideIor\x20'+'/\x20iridesce')+('nceIor,\x202.'+'0)\x20*\x20(1.0\x20'+'-\x20pow(cosT'+'heta,\x202.0)'+');\x0a\x20\x20\x20\x20flo'+'at\x20cosThet'+'a2Sq\x20=\x201.0'+'\x20-\x20sinThet'+'a2Sq;\x0a\x0a\x20\x20\x20'+'\x20if\x20(cosTh'+'eta2Sq\x20<\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec3(1.0)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20c'+'osTheta2\x20='+'\x20sqrt(cosT'+'heta2Sq);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20r0\x20=\x20irid'+'escence_io'+'rToFresnel'+'(iridescen'+'ceIor,\x20out'+'sideIor);\x0a'+'\x20\x20\x20\x20float\x20'+'r12\x20=\x20irid'+'escence_fr'+'esnel(cosT'+'heta,\x20r0);'+'\x0a\x20\x20\x20\x20float'+'\x20r21\x20=\x20r12'+';\x0a\x20\x20\x20\x20floa'+'t\x20t121\x20=\x201'+'.0\x20-\x20r12;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20phi12\x20=\x20i'+'ridescence'+'Ior\x20<\x20outs'+'ideIor\x20?\x20P'+'I\x20:\x200.0;\x0a\x20'+'\x20\x20\x20float\x20p'+'hi21\x20=\x20PI\x20'+'-\x20phi12;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20b'+'aseIor\x20=\x20i'+'ridescence'+'_fresnelTo'+'Ior(base_f'+'0\x20+\x20vec3(0'+'.0001));\x0a\x20'+'\x20\x20\x20vec3\x20r1'+'\x20=\x20iridesc'+'ence_iorTo'+'Fresnel(ba'+'seIor,\x20iri'+'descenceIo'+'r);\x0a\x20\x20\x20\x20ve'+'c3\x20r23\x20=\x20i'+'ridescence'+'_fresnel(c'+'osTheta2,\x20'+'r1);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20phi23'+'\x20=\x20vec3(0.'+'0);\x0a\x20\x20\x20\x20if'+'\x20(baseIor['+'0]\x20<\x20iride'+'scenceIor)'+'\x20phi23[0]\x20'+'=\x20PI;\x0a\x20\x20\x20\x20'+'if\x20(baseIo'+'r[1]\x20<\x20iri'+'descenceIo'+'r)\x20phi23[1'+']\x20=\x20PI;\x0a\x20\x20'+'\x20\x20if\x20(base'+'Ior[2]\x20<\x20i'+'ridescence'+'Ior)\x20phi23'+'[2]\x20=\x20PI;\x0a'+'\x20\x20\x20\x20float\x20'+'opd\x20=\x202.0\x20'+'*\x20iridesce'+'nceIor\x20*\x20i'+'ridescence'+'Thickness\x20'+'*\x20cosTheta'+'2;\x0a\x20\x20\x20\x20vec'+'3\x20phi\x20=\x20ve'+'c3(phi21)\x20'+'+\x20phi23;\x20\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'r123Sq\x20=\x20c'+'lamp(r12\x20*'+'\x20r23,\x201e-5'+',\x200.9999);'+'\x0a\x20\x20\x20\x20vec3\x20'+'r123\x20=\x20sqr')+('t(r123Sq);'+'\x0a\x20\x20\x20\x20vec3\x20'+'rs\x20=\x20pow(t'+'121,\x202.0)\x20'+'*\x20r23\x20/\x20(1'+'.0\x20-\x20r123S'+'q);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20c0\x20=\x20r'+'12\x20+\x20rs;\x0a\x20'+'\x20\x20\x20vec3\x20i\x20'+'=\x20c0;\x0a\x0a\x20\x20\x20'+'\x20vec3\x20cm\x20='+'\x20rs\x20-\x20t121'+';\x0a\x20\x20\x20\x20for\x20'+'(int\x20m\x20=\x201'+';\x20m\x20<=\x202;\x20'+'m++)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20cm\x20*='+'\x20r123;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'sm\x20=\x202.0\x20*'+'\x20iridescen'+'ce_sensiti'+'vity(float'+'(m)\x20*\x20opd,'+'\x20float(m)\x20'+'*\x20phi);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20i\x20+='+'\x20cm\x20*\x20sm;\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'return\x20max'+'(i,\x20vec3(0'+'.0));\x0a}\x0a\x0av'+'ec3\x20getIri'+'descence(f'+'loat\x20cosTh'+'eta,\x20vec3\x20'+'specularit'+'y,\x20float\x20i'+'ridescence'+'Thickness)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcIr'+'idescence('+'1.0,\x20cosTh'+'eta,\x20specu'+'larity,\x20ir'+'idescenceT'+'hickness);'+'\x0a}\x0a'),oP='\x0a#ifdef\x20ST'+'D_IRIDESCE'+'NCE_CONSTA'+'NT\x0auniform'+'\x20float\x20mat'+'erial_irid'+'escence;\x0a#'+'endif\x0a\x0avoi'+'d\x20getIride'+'scence()\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_IRID'+'ESCENCE_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20iridescen'+'ce\x20*=\x20mate'+'rial_iride'+'scence;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20*=\x20textur'+'e2DBias({S'+'TD_IRIDESC'+'ENCE_TEXTU'+'RE_NAME},\x20'+'{STD_IRIDE'+'SCENCE_TEX'+'TURE_UV},\x20'+'textureBia'+'s).{STD_IR'+'IDESCENCE_'+'TEXTURE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dIride'+'scence\x20=\x20i'+'ridescence'+';\x20\x0a}\x0a',lP='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceThick'+'nessMax;\x0a\x0a'+'#ifdef\x20STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_iridesc'+'enceThickn'+'essMin;\x0a#e'+'ndif\x0a\x0avoid'+'\x20getIrides'+'cenceThick'+'ness()\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'end\x20=\x20text'+'ure2DBias('+'{STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE_NAME},'+'\x20{STD_IRID'+'ESCENCETHI'+'CKNESS_TEX'+'TURE_UV},\x20'+'textureBia'+'s).{STD_IR'+'IDESCENCET'+'HICKNESS_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20iridescen'+'ceThicknes'+'s\x20=\x20mix(ma'+'terial_iri'+'descenceTh'+'icknessMin'+',\x20material'+'_iridescen'+'ceThicknes'+'sMax,\x20blen'+'d);\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20ir'+'idescenceT'+'hickness\x20='+'\x20material_'+'iridescenc'+'eThickness'+'Max;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dIridesce'+'nceThickne'+'ss\x20=\x20iride'+'scenceThic'+'kness;\x20\x0a}\x0a',cP='\x0a#ifdef\x20ST'+'D_IOR_CONS'+'TANT\x0aunifo'+'rm\x20float\x20m'+'aterial_re'+'fractionIn'+'dex;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tIor()\x20{\x0a#'+'ifdef\x20STD_'+'IOR_CONSTA'+'NT\x0a\x20\x20\x20\x20dIo'+'r\x20=\x20materi'+'al_refract'+'ionIndex;\x0a'+'#else\x0a\x20\x20\x20\x20'+'dIor\x20=\x201.0'+'\x20/\x201.5;\x0a#e'+'ndif\x0a}\x0a',hP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20light{i}_'+'color;\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec3\x20light'+'{i}_direct'+'ion;\x0a\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#defin'+'e\x20LIT_CODE'+'_LIGHTS_PO'+'INT\x20//\x20inc'+'lude\x20funct'+'ionality\x20f'+'or\x20point\x20l'+'ights\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20li'+'ght{i}_pos'+'ition;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20l'+'ight{i}_ra'+'dius;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20SPOT\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'LIGHTS_SPO'+'T\x20//\x20inclu'+'de\x20functio'+'nality\x20for'+'\x20spot\x20ligh'+'ts\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20l'+'ight{i}_di'+'rection;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20light'+'{i}_innerC'+'oneAngle;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'float\x20ligh'+'t{i}_outer'+'ConeAngle;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20area\x20'+'lights\x0a\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20inverse\x20'+'squared\x20fa'+'lloff\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'3\x20light{i}'+'_position;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20vec3\x20lig'+'ht{i}_half'+'Width;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20li'+'ght{i}_hal'+'fHeight;\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'FALLOFF\x20=='+'\x20LINEAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+('T_CODE_FAL'+'LOFF_LINEA'+'R\x20//\x20inclu'+'de\x20functio'+'nality\x20for'+'\x20linear\x20fa'+'lloff\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}FALLOFF\x20'+'==\x20INVERSE'+'SQUARED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20inverse\x20'+'squared\x20fa'+'lloff\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ca'+'sting\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'CASTSHADOW'+')\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20light{'+'i}_shadowM'+'atrix;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20l'+'ight{i}_sh'+'adowIntens'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20vec4\x20ligh'+'t{i}_shado'+'wParams;\x20/'+'/\x20width,\x20h'+'eight,\x20bia'+'s,\x20radius\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCSS_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'light{i}_s'+'hadowSearc'+'hArea;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20light{i}'+'_cameraPar'+'ams;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20DIR'+'ECTIONAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20li'+'ght{i}_sof'+'tShadowPar'+'ams;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20direction'+'al\x20(cascad'+'ed)\x20shadow'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20lig'+'ht{i}_shad'+'owMatrixPa'+'lette[4];\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec4\x20light'+'{i}_shadow'+'CascadeDis'+'tances;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20in'+'t\x20light{i}'+'_shadowCas')+('cadeCount;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20float\x20lig'+'ht{i}_shad'+'owCascadeB'+'lend;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'OMNI\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IGHT{i}SHA'+'DOW_PCF)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'CubeShadow'+'\x20light{i}_'+'shadowMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'Cube\x20light'+'{i}_shadow'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'SHADOW_PCF'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2DShado'+'w\x20light{i}'+'_shadowMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20light{'+'i}_shadowM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20co'+'okie\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(LIGHT{i}C'+'OOKIE)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_COOKIE\x20'+'//\x20include'+'\x20functiona'+'lity\x20for\x20c'+'ookies\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20OMNI'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20samplerCu'+'be\x20light{i'+'}_cookie;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'float\x20ligh'+'t{i}_cooki'+'eIntensity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20!d'+'efined(LIG'+'HT{i}CASTS'+'HADOW)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20mat4\x20ligh'+'t{i}_shado'+'wMatrix;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20SPOT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20lig')+('ht{i}_cook'+'ie;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'light{i}_c'+'ookieInten'+'sity;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20!defined'+'(LIGHT{i}C'+'ASTSHADOW)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'light{i}_s'+'hadowMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIGH'+'T{i}COOKIE'+'_TRANSFORM'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20light{i}_'+'cookieMatr'+'ix;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c2\x20light{i'+'}_cookieOf'+'fset;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a'),dP='\x0afloat\x20get'+'LightDiffu'+'se(vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'lightDirNo'+'rm)\x20{\x0a\x20\x20\x20\x20'+'return\x20max'+'(dot(world'+'Normal,\x20-l'+'ightDirNor'+'m),\x200.0);\x0a'+'}\x0a',fP='\x0avec3\x20eval'+'OmniLight('+'vec3\x20light'+'PosW)\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'PositionW\x20'+'-\x20lightPos'+'W;\x0a}\x0a',uP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x20\x20\x20\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20irides'+'cenceFresn'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20);\x0a#endi'+'f\x0a',pP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0avoid\x20e'+'valuateLig'+'ht{i}(\x0a\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20iridesc'+'enceFresne'+'l\x0a\x20\x20\x20\x20#end'+'if\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20light'+'\x20color\x0a\x20\x20\x20'+'\x20vec3\x20ligh'+'tColor\x20=\x20l'+'ight{i}_co'+'lor;\x0a\x0a\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x20&&\x20!defi'+'ned(LIT_SH'+'ADOW_CATCH'+'ER)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20early'+'\x20return\x20if'+'\x20the\x20light'+'\x20color\x20is\x20'+'black\x20(use'+'d\x20by\x20shado'+'w\x20catcher\x20'+'-\x20this\x20way'+'\x20this\x20ligh'+'t\x20is\x20very\x20'+'cheap)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(a'+'ll(equal(l'+'ightColor,'+'\x20vec3(0.0)'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x20//\x20dir'+'ectional\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dLight'+'DirNormW\x20='+'\x20light{i}_'+'direction;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#e'+'lse\x20//\x20omn'+'i\x20or\x20spot\x20'+'light\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'ghtDirW\x20=\x20'+'evalOmniLi'+'ght(light{'+'i}_positio'+'n);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dLightDi'+'rNormW\x20=\x20n'+'ormalize(l'+'ightDirW);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20cookie\x20'+'attenuatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'COOKIE)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}COO'+'KIE_FALLOF'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}COO'+'KIE_TRANSF'+'ORM\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20cookieA'+'ttenuation'+'\x20=\x20getCook'+'ie2DXform('+('light{i}_c'+'ookie,\x20lig'+'ht{i}_shad'+'owMatrix,\x20'+'light{i}_c'+'ookieInten'+'sity,\x20ligh'+'t{i}_cooki'+'eMatrix,\x20l'+'ight{i}_co'+'okieOffset'+').{LIGHT{i'+'}COOKIE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20cookieA'+'ttenuation'+'\x20=\x20getCook'+'ie2D(light'+'{i}_cookie'+',\x20light{i}'+'_shadowMat'+'rix,\x20light'+'{i}_cookie'+'Intensity)'+'.{LIGHT{i}'+'COOKIE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}COOKIE_TR'+'ANSFORM\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20get'+'Cookie2DCl'+'ipXform(li'+'ght{i}_coo'+'kie,\x20light'+'{i}_shadow'+'Matrix,\x20li'+'ght{i}_coo'+'kieIntensi'+'ty,\x20light{'+'i}_cookieM'+'atrix,\x20lig'+'ht{i}_cook'+'ieOffset).'+'{LIGHT{i}C'+'OOKIE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20cookieAtt'+'enuation\x20='+'\x20getCookie'+'2DClip(lig'+'ht{i}_cook'+'ie,\x20light{'+'i}_shadowM'+'atrix,\x20lig'+'ht{i}_cook'+'ieIntensit'+'y).{LIGHT{'+'i}COOKIE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20OMNI\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20get'+'CookieCube'+'(light{i}_'+'cookie,\x20li'+'ght{i}_sha')+('dowMatrix,'+'\x20light{i}_'+'cookieInte'+'nsity).{LI'+'GHT{i}COOK'+'IE_CHANNEL'+'};\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20mu'+'ltiply\x20lig'+'ht\x20color\x20b'+'y\x20the\x20cook'+'ie\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lig'+'htColor\x20*='+'\x20cookieAtt'+'enuation;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20di'+'stance\x20fal'+'loff\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20==\x20PUNCTU'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}FAL'+'LOFF\x20==\x20LI'+'NEAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dAtten\x20=\x20'+'getFalloff'+'Linear(lig'+'ht{i}_radi'+'us,\x20lightD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dAtten\x20=\x20g'+'etFalloffI'+'nvSquared('+'light{i}_r'+'adius,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20non'+'\x20punctual\x20'+'lights\x20onl'+'y\x20gets\x20the'+'\x20range\x20win'+'dow\x20here\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dAtten\x20=\x20'+'getFalloff'+'Window(lig'+'ht{i}_radi'+'us,\x20lightD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20angle\x20'+'falloff\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20SPOT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20!de'+'fined(LIGH'+'T{i}COOKIE'+')\x20||\x20defin'+'ed(LIGHT{i'+'}COOKIE_FA'+'LLOFF)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dAtten\x20'+'*=\x20getSpot'+'Effect(lig'+'ht{i}_dire'+'ction,\x20lig'+'ht{i}_inne'+'rConeAngle'+',\x20light{i}'+'_outerCone'+'Angle,\x20dLi'+'ghtDirNorm'+'W);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20if\x20(dA'+'tten\x20<\x200.0')+('0001)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ev'+'aluate\x20are'+'a\x20light\x20va'+'lues\x0a\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20!=\x20'+'PUNCTUAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20calcR'+'ectLightVa'+'lues(light'+'{i}_positi'+'on,\x20light{'+'i}_halfWid'+'th,\x20light{'+'i}_halfHei'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20DIS'+'K\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20calcDi'+'skLightVal'+'ues(light{'+'i}_positio'+'n,\x20light{i'+'}_halfWidt'+'h,\x20light{i'+'}_halfHeig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20L'+'IGHT{i}SHA'+'PE\x20==\x20SPHE'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20calcS'+'phereLight'+'Values(lig'+'ht{i}_posi'+'tion,\x20ligh'+'t{i}_halfW'+'idth,\x20ligh'+'t{i}_halfH'+'eight);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'lighting\x20-'+'\x20LTC\x20light'+'s\x20do\x20not\x20m'+'ix\x20diffuse'+'\x20lighting\x20'+'into\x20atten'+'uation\x20tha'+'t\x20affects\x20'+'specular\x0a\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20!=\x20PUNCTU'+'AL\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20atten'+'Diffuse\x20-\x20'+'separate\x20d'+'iffuse\x20att'+'enuation\x20f'+'or\x20non-pun'+'ctual\x20ligh'+'t\x20sources\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20D'+'IRECTIONAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20NB:\x20'+'A\x20better\x20a'+'pproximati'+'on\x20perhaps'+'\x20using\x20wra'+'p\x20lighting'+'\x20could\x20be\x20'+'implemente'+'d\x20here\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20atten'+'Diffuse\x20=\x20'+'getLightDi'+'ffuse(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20dL'+'ightDirNor'+'mW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20//\x2016.0\x20i'+'s\x20a\x20consta'+'nt\x20that\x20is'+'\x20in\x20getFal'+'loffInvSqu'+'ared()\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20==\x20'+'RECT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20att'+'enDiffuse\x20'+'=\x20getRectL'+'ightDiffus'+'e(litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW,\x20lightD'+'irW,\x20dLigh'+'tDirNormW)'+'\x20*\x2016.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20DISK\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20attenDiff'+'use\x20=\x20getD'+'iskLightDi'+'ffuse(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20li'+'ghtDirW,\x20d'+'LightDirNo'+'rmW)\x20*\x2016.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20LIGHT{i}S'+'HAPE\x20==\x20SP'+'HERE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20att'+'enDiffuse\x20'+'=\x20getSpher'+'eLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW,\x20ligh'+'tDirW,\x20dLi'+'ghtDirNorm'+'W)\x20*\x2016.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20one\x20'+'parameter\x20'+'is\x20unused\x20'+'for\x20punctu'+'al\x20lights\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dA'+'tten\x20*=\x20ge'+'tLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20vec3('+'0.0),\x20dLig'+'htDirNormW'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20apply\x20th'+'e\x20shadow\x20a'+'ttenuation'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'CASTSHADOW'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadow{i'+'}(vec3(0.0'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20shad'+'ow\x20=\x20getSh'+'adow{i}(li'+'ghtDirW);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20App')+('ly\x20shadow\x20'+'intensity\x20'+'to\x20the\x20sha'+'dow\x20value\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20=\x20mix'+'(1.0,\x20shad'+'ow,\x20light{'+'i}_shadowI'+'ntensity);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAtten\x20*=\x20'+'shadow;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_SHADOW_'+'CATCHER)\x20&'+'&\x20LIGHT{i}'+'TYPE\x20==\x20DI'+'RECTIONAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20accum'+'ulate\x20shad'+'ows\x20for\x20di'+'rectional\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ShadowCatc'+'her\x20*=\x20sha'+'dow;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20!=\x20'+'PUNCTUAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20-\x20they\x20do'+'\x20not\x20mix\x20d'+'iffuse\x20lig'+'hting\x20into'+'\x20specular\x20'+'attenuatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20('+'(attenDiff'+'use\x20*\x20dAtt'+'en)\x20*\x20ligh'+'tColor)\x20*\x20'+'(1.0\x20-\x20dLT'+'CSpecFres)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20(atte'+'nDiffuse\x20*'+'\x20dAtten)\x20*'+'\x20lightColo'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20punctua'+'l\x20light\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(AR'+'EA_LIGHTS)'+'\x20&&\x20define'+'d(LIT_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20(dAtt'+'en\x20*\x20light'+'Color)\x20*\x20('+'1.0\x20-\x20litA'+'rgs_specul'+'arity);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20spec'+'ular\x20light'+'ing\x0a\x20\x20\x20\x20#i'+'fdef\x20LIGHT')+('{i}AFFECT_'+'SPECULARIT'+'Y\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x20//\x20area\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'PE\x20==\x20RECT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccSpecula'+'rLight\x20+=\x20'+'ccLTCSpecF'+'res\x20*\x20getR'+'ectLightSp'+'ecular(lit'+'Args_clear'+'coat_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20+=\x20ccLTC'+'SpecFres\x20*'+'\x20getDiskLi'+'ghtSpecula'+'r(litArgs_'+'clearcoat_'+'worldNorma'+'l,\x20dViewDi'+'rW)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20L'+'IGHT{i}SHA'+'PE\x20==\x20SPHE'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20+'+'=\x20ccLTCSpe'+'cFres\x20*\x20ge'+'tSphereLig'+'htSpecular'+'(litArgs_c'+'learcoat_w'+'orldNormal'+',\x20dViewDir'+'W)\x20*\x20dAtte'+'n\x20*\x20lightC'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20dLTCSpecF'+'res\x20*\x20getR'+'ectLightSp'+'ecular(lit'+'Args_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSpe'+'cularLight'+'\x20+=\x20dLTCSp')+('ecFres\x20*\x20g'+'etDiskLigh'+'tSpecular('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+')\x20*\x20dAtten'+'\x20*\x20lightCo'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20SPHERE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20+=\x20d'+'LTCSpecFre'+'s\x20*\x20getSph'+'ereLightSp'+'ecular(lit'+'Args_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x20/'+'/\x20punctual'+'\x20light\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20is\x20fres'+'nel\x20needed'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}TYPE\x20'+'==\x20DIRECTI'+'ONAL\x20&&\x20LI'+'T_FRESNEL_'+'MODEL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'GHT{i}FRES'+'NEL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20hal'+'fDirW\x20=\x20no'+'rmalize(-d'+'LightDirNo'+'rmW\x20+\x20dVie'+'wDirW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20if\x20LTC\x20'+'lights\x20are'+'\x20present,\x20'+'specular\x20m'+'ust\x20be\x20acc'+'umulated\x20w'+'ith\x20specul'+'arity\x20(spe'+'cularity\x20i'+'s\x20pre\x20mult'+'iplied\x20by\x20'+'punctual\x20l'+'ight\x20fresn'+'el)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'ghtspecula'+'rCC\x20=\x20getL'+'ightSpecul'+'ar(halfDir'+'W,\x20ccReflD'+'irW,\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_clearcoat'+'_gloss,\x20dT'+'BN)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tspecularC'+'C\x20*=\x20getFr'+'esnelCC(do'+'t(dViewDir'+'W,\x20halfDir'+'W));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20lightsp'+'ecularCC;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecularS'+'heen(halfD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_sheen_glo'+'ss)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20lightSpec'+'ular\x20=\x20get'+'LightSpecu'+'lar(halfDi'+'rW,\x20dReflD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_gloss,\x20dT'+'BN)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'lightSpecu'+'lar\x20*=\x20get'+'Fresnel(do'+'t(dViewDir'+'W,\x20halfDir'+'W),\x20litArg'+'s_gloss,\x20l'+'itArgs_spe'+'cularity,\x20'+'iridescenc'+'eFresnel,\x20'+'litArgs_ir'+'idescence_'+'intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightSpe'+'cular\x20*=\x20g'+'etFresnel('+'dot(dViewD'+'irW,\x20halfD'+'irW),\x20litA'+'rgs_gloss,'+'\x20litArgs_s')+('pecularity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20lightSp'+'ecular\x20*=\x20'+'litArgs_sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20+=\x20light'+'Specular;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a#en'+'dif\x0a'),mP='\x0a\x0a//\x20shado'+'w\x20casting\x20'+'functional'+'ity\x0a#ifdef'+'\x20LIGHT{i}C'+'ASTSHADOW\x0a'+'\x0a\x20\x20\x20\x20//\x20ge'+'nerate\x20sha'+'dow\x20coordi'+'nates\x20func'+'tion,\x20base'+'d\x20on\x20per\x20l'+'ight\x20defin'+'es:\x0a\x20\x20\x20\x20//'+'\x20-\x20_SHADOW'+'_SAMPLE_NO'+'RMAL_OFFSE'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_POIN'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20vec3\x20'+'getShadowS'+'ampleCoord'+'{i}(mat4\x20s'+'hadowTrans'+'form,\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'worldPosit'+'ion,\x20vec3\x20'+'lightPos,\x20'+'inout\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'urfacePosi'+'tion\x20=\x20wor'+'ldPosition'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'GHT{i}_SHA'+'DOW_SAMPLE'+'_POINT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_N'+'ORMAL_OFFS'+'ET\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20distS'+'cale\x20=\x20len'+'gth(lightD'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+'\x20*\x20clamp(1'+'.0\x20-\x20dot(n'+'ormal,\x20-li'+'ghtDirNorm'+'),\x200.0,\x201.'+'0)\x20*\x20distS'+'cale;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightDir'+'\x20=\x20surface'+'Position\x20-'+'\x20lightPos;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20lightD'+'ir;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_S'+'OURCE_ZBUF'+'FER\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_SAMPLE_'+('NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20surfac'+'ePosition\x20'+'=\x20surfaceP'+'osition\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}_SH'+'ADOW_SAMPL'+'E_NORMAL_O'+'FFSET\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20distScal'+'e\x20=\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20distS'+'cale\x20=\x20abs'+'(dot(vPosi'+'tionW\x20-\x20li'+'ghtPos,\x20li'+'ghtDirNorm'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+'\x20*\x20clamp(1'+'.0\x20-\x20dot(n'+'ormal,\x20-li'+'ghtDirNorm'+'),\x200.0,\x201.'+'0)\x20*\x20distS'+'cale;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20posi'+'tionInShad'+'owSpace\x20=\x20'+'shadowTran'+'sform\x20*\x20ve'+'c4(surface'+'Position,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIGHT'+'{i}_SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'positionIn'+'ShadowSpac'+'e.z\x20=\x20satu'+'rate(posit'+'ionInShado'+'wSpace.z)\x20'+'-\x200.0001;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIGHT{i}_'+'SHADOW_SAM'+'PLE_SOURCE'+'_ZBUFFER\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20/=\x20po'+'sitionInSh'+'adowSpace.')+('w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20posit'+'ionInShado'+'wSpace.xy\x20'+'/=\x20positio'+'nInShadowS'+'pace.w;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20po'+'sitionInSh'+'adowSpace.'+'z\x20=\x20length'+'(lightDir)'+'\x20*\x20shadowP'+'arams.w;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20thi'+'s\x20is\x20curre'+'ntly\x20unuse'+'d\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SHADOW_SA'+'MPLE_Z_BIA'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20positionI'+'nShadowSpa'+'ce.z\x20+=\x20ge'+'tShadowBia'+'s(shadowPa'+'rams.x,\x20sh'+'adowParams'+'.z);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20positi'+'onInShadow'+'Space.xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20surfaceP'+'osition;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20shadow\x20'+'evaluation'+'\x20function\x0a'+'\x20\x20\x20\x20float\x20'+'getShadow{'+'i}(vec3\x20li'+'ghtDirW)\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20directi'+'onal\x20shado'+'w\x20cascades'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_CASCADES'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20sel'+'ect\x20shadow'+'\x20cascade\x20m'+'atrix\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20in'+'t\x20cascadeI'+'ndex\x20=\x20get'+'ShadowCasc'+'adeIndex(l'+'ight{i}_sh'+'adowCascad'+'eDistances'+',\x20light{i}'+'_shadowCas'+'cadeCount)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'_SHADOW_CA'+'SCADE_BLEN'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'scadeIndex'+'\x20=\x20ditherS'+'hadowCasca'+'deIndex(ca'+'scadeIndex'+',\x20light{i}'+'_shadowCas'+'cadeDistan'+'ces,\x20light')+('{i}_shadow'+'CascadeCou'+'nt,\x20light{'+'i}_shadowC'+'ascadeBlen'+'d);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mat4'+'\x20shadowMat'+'rix\x20=\x20ligh'+'t{i}_shado'+'wMatrixPal'+'ette[casca'+'deIndex];\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t4\x20shadowM'+'atrix\x20=\x20li'+'ght{i}_sha'+'dowMatrix;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20DIRE'+'CTIONAL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20directi'+'onal\x20light'+'\x20does\x20not\x20'+'have\x20a\x20pos'+'ition\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20get'+'ShadowSamp'+'leCoord{i}'+'(shadowMat'+'rix,\x20light'+'{i}_shadow'+'Params,\x20vP'+'ositionW,\x20'+'vec3(0.0),'+'\x20lightDirW'+',\x20dLightDi'+'rNormW,\x20dV'+'ertexNorma'+'lW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20shad'+'owCoord\x20=\x20'+'getShadowS'+'ampleCoord'+'{i}(shadow'+'Matrix,\x20li'+'ght{i}_sha'+'dowParams,'+'\x20vPosition'+'W,\x20light{i'+'}_position'+',\x20lightDir'+'W,\x20dLightD'+'irNormW,\x20d'+'VertexNorm'+'alW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Fade\x20di'+'rectional\x20'+'shadow\x20at\x20'+'the\x20far\x20di'+'stance\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'hadowCoord'+'\x20=\x20fadeSha'+'dow(shadow'+'Coord,\x20lig'+'ht{i}_shad'+'owCascadeD'+'istances);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20--'+'---\x20sample'+'\x20the\x20shado'+'w\x20-----\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20DIR'+'ECTIONAL\x20/'+'/\x20-----\x20di'+'rectional\x20'+'light\x20----')+('-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_16F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wVSM16(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x205'+'.54);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20VSM_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowVSM32('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+',\x2015.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCS'+'S_32F\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20!=\x20PUNCTU'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20sh'+'adowSearch'+'Area\x20=\x20vec'+'2(length(l'+'ight{i}_ha'+'lfWidth),\x20'+'length(lig'+'ht{i}_half'+'Height))\x20*'+'\x20light{i}_'+'shadowSear'+'chArea;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCSS(S'+'HADOWMAP_P'+'ASS(light{'+'i}_shadowM'+'ap),\x20shado'+'wCoord,\x20li'+'ght{i}_sha'+'dowParams,'+'\x20light{i}_'+'cameraPara'+'ms,\x20shadow'+'SearchArea'+',\x20lightDir'+'W);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCSS(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ight{i}_ca'+'meraParams'+',\x20light{i}'+'_softShado'+'wParams,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en')+('dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF1_16'+'F\x20||\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCF'+'1_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowPC'+'F1x1(SHADO'+'WMAP_PASS('+'light{i}_s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20light{'+'i}_shadowP'+'arams);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20PCF3'+'_16F\x20||\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCF3_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wPCF3x3(SH'+'ADOWMAP_PA'+'SS(light{i'+'}_shadowMa'+'p),\x20shadow'+'Coord,\x20lig'+'ht{i}_shad'+'owParams);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF5_16F\x20||'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF5_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCF5x5'+'(SHADOWMAP'+'_PASS(ligh'+'t{i}_shado'+'wMap),\x20sha'+'dowCoord,\x20'+'light{i}_s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20S'+'POT\x20//\x20---'+'--\x20spot\x20li'+'ght\x20-----\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20V'+'SM_16F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowS'+'potVSM16(S'+'HADOWMAP_P'+'ASS(light{'+'i}_shadowM'+'ap),\x20shado'+'wCoord,\x20li'+'ght{i}_sha'+'dowParams,'+'\x205.54,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20VSM'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ge'+'tShadowSpo')+('tVSM32(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x201'+'5.0,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCSS_'+'32F\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20shad'+'owSearchAr'+'ea\x20=\x20vec2('+'length(lig'+'ht{i}_half'+'Width),\x20le'+'ngth(light'+'{i}_halfHe'+'ight))\x20*\x20l'+'ight{i}_sh'+'adowSearch'+'Area;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shadowS'+'earchArea\x20'+'=\x20vec2(lig'+'ht{i}_shad'+'owSearchAr'+'ea);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotPCSS('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+',\x20light{i}'+'_cameraPar'+'ams,\x20shado'+'wSearchAre'+'a,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20PCF1_1'+'6F\x20||\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F1_32F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowS'+'potPCF1x1('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(SHA')+('DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F5_16F\x20||\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF5_32F'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowSpotPCF'+'5x5(SHADOW'+'MAP_PASS(l'+'ight{i}_sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20light{i'+'}_shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20OMNI\x20//\x20'+'-----\x20omni'+'\x20light\x20---'+'--\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCSS_32F'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHAPE\x20!=\x20P'+'UNCTUAL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shadowS'+'earchArea\x20'+'=\x20vec2(len'+'gth(light{'+'i}_halfWid'+'th),\x20lengt'+'h(light{i}'+'_halfHeigh'+'t))\x20*\x20ligh'+'t{i}_shado'+'wSearchAre'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'shadowSear'+'chArea\x20=\x20v'+'ec2(light{'+'i}_shadowS'+'earchArea)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCSS(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ight{i}_ca'+'meraParams'+',\x20shadowSe'+'archArea,\x20'+'lightDirW)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF1_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_')+('32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF1x1(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF3_16F\x20||'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF3_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowOmniPC'+'F3x3(SHADO'+'WMAP_PASS('+'light{i}_s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20light{'+'i}_shadowP'+'arams,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),_P='\x0a\x0a#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20//\x20all'+'\x20this\x20func'+'tionality\x20'+'that\x20needs'+'\x20to\x20be\x20inc'+'luded\x20for\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'FALLOFF_LI'+'NEAR\x0a\x20\x20\x20\x20#'+'define\x20LIT'+'_CODE_FALL'+'OFF_SQUARE'+'D\x0a\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_LIGHTS_'+'POINT\x0a\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a#'+'endif\x0a\x0a#if'+'def\x20AREA_L'+'IGHTS\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'1;\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20sampler2D'+'\x20areaLight'+'sLutTex2;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_L'+'IGHTING\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22lightDif'+'fuseLamber'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(AREA_LIGH'+'TS)\x20||\x20def'+'ined(LIT_C'+'LUSTERED_A'+'REA_LIGHTS'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'ltcPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20SHADOW_'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owCascades'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_KIND_PCF1'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCF1PS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20defined('+'SHADOW_KIN'+'D_PCF3)\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22shadowPC'+'F3PS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_KIND_PC'+'F5)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sh'+'adowPCF5PS'+'\x22\x0a#endif\x0a\x0a'+'#if\x20define'+'d(SHADOW_K'+'IND_PCSS)\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22linear'+'izeDepthPS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCSSPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22shadow'+'SoftPS\x22\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(SH'+'ADOW_KIND_'+'VSM)\x0a\x20\x20\x20\x20#'+'include\x20\x22s'+('hadowEVSMP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_FAL'+'LOFF_LINEA'+'R\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fall'+'offLinearP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22fal'+'loffInvSqu'+'aredPS\x22\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20LIT_COD'+'E_LIGHTS_P'+'OINT\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'ightDirPoi'+'ntPS\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIT_CODE_'+'LIGHTS_SPO'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22spot'+'PS\x22\x0a#endif'+'\x0a\x0a#ifdef\x20L'+'IT_CODE_CO'+'OKIE\x0a\x20\x20\x20\x20#'+'include\x20\x22c'+'ookiePS\x22\x0a#'+'endif\x0a\x0a//\x20'+'clustered\x20'+'lighting\x0a#'+'ifdef\x20LIT_'+'CLUSTERED_'+'LIGHTS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22clustered'+'LightPS\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIGHT_'+'COUNT\x20>\x200\x0a'+'\x20\x20\x20\x20//\x20LOO'+'P\x20-\x20genera'+'te\x20shadow\x20'+'evaluation'+'\x20functions'+'\x20for\x20all\x20n'+'on-cluster'+'ed\x20lights\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightF'+'unctionSha'+'dowPS,\x20LIG'+'HT_COUNT\x22\x0a'+'\x0a\x20\x20\x20\x20//\x20LO'+'OP\x20-\x20gener'+'ate\x20light\x20'+'evaluation'+'\x20functions'+'\x20for\x20all\x20n'+'on-cluster'+'ed\x20lights\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightF'+'unctionLig'+'htPS,\x20LIGH'+'T_COUNT\x22\x0a#'+'endif\x0a'),gP='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'rectional\x20'+'lightmap\x0a\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_S'+'PECULAR)\x20&'+'&\x20defined('+'LIT_DIR_LI'+'GHTMAP)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(dot(dir,\x20'+'dir)\x20<\x200.0'+'001)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20+=\x20'+'lightmap;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20vligh'+'t\x20=\x20satura'+'te(dot(dir'+',\x20-vertexN'+'ormal));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20fli'+'ght\x20=\x20satu'+'rate(dot(d'+'ir,\x20-world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20nl'+'ight\x20=\x20(fl'+'ight\x20/\x20max'+'(vlight,\x200'+'.01))\x20*\x200.'+'5;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'+=\x20lightma'+'p\x20*\x20nlight'+'\x20*\x202.0;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20half'+'Dir\x20=\x20norm'+'alize(-dir'+'\x20+\x20viewDir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'specularLi'+'ght\x20=\x20ligh'+'tmap\x20*\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20reflect'+'ionDir,\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'dir,\x20gloss'+',\x20tbn);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'_FRESNEL\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20getFre'+'snel(dot(v'+'iewDir,\x20ha'+'lfDir),\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20spe'+'cularity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceInt'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'+=\x20specula'+'rLight;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20#else\x20/'+'/\x20non-dire'+'ctional\x20li'+'ghtmap\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'+=\x20lightma'+'p;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a'),SP='\x0a\x0a#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20'+'vec3\x20dLigh'+'tmapDir;\x0a\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_d'+'irLightMap'+';\x0a#endif\x0a\x0a'+'void\x20getLi'+'ghtMap()\x20{'+'\x0a\x0a\x20\x20\x20\x20dLig'+'htmap\x20=\x20ve'+'c3(1.0);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_LIGHT'+'_TEXTURE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dLi'+'ghtmap\x20*=\x20'+'{STD_LIGHT'+'_TEXTURE_D'+'ECODE}(tex'+'ture2DBias'+'({STD_LIGH'+'T_TEXTURE_'+'NAME},\x20{ST'+'D_LIGHT_TE'+'XTURE_UV},'+'\x20textureBi'+'as)).{STD_'+'LIGHT_TEXT'+'URE_CHANNE'+'L};\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_LIGHTM'+'AP_DIR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20dir\x20=\x20'+'texture2DB'+'ias(textur'+'e_dirLight'+'Map,\x20{STD_'+'LIGHT_TEXT'+'URE_UV},\x20t'+'extureBias'+').xyz\x20*\x202.'+'0\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dir'+'Dot\x20=\x20dot('+'dir,\x20dir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dLightm'+'apDir\x20=\x20(d'+'irDot\x20>\x200.'+'001)\x20?\x20dir'+'\x20/\x20sqrt(di'+'rDot)\x20:\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_LIGHT_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dLightma'+'p\x20*=\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_LIGHT_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a}\x0a',yP='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'float\x20calc'+'LightSpecu'+'lar(float\x20'+'gloss,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20h,\x20vec'+'3\x20lightDir'+'Norm,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20float\x20PI'+'\x20=\x203.14159'+'2653589793'+';\x0a\x20\x20\x20\x20floa'+'t\x20roughnes'+'s\x20=\x20max((1'+'.0\x20-\x20gloss'+')\x20*\x20(1.0\x20-'+'\x20gloss),\x200'+'.001);\x0a\x20\x20\x20'+'\x20float\x20alp'+'haRoughnes'+'s\x20=\x20roughn'+'ess\x20*\x20roug'+'hness;\x0a\x20\x20\x20'+'\x20float\x20ani'+'sotropy\x20=\x20'+'dAnisotrop'+'y;\x0a\x20\x20\x20\x20vec'+'2\x20directio'+'n\x20=\x20dAniso'+'tropyRotat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'float\x20at\x20='+'\x20mix(alpha'+'Roughness,'+'\x201.0,\x20anis'+'otropy\x20*\x20a'+'nisotropy)'+';\x0a\x20\x20\x20\x20floa'+'t\x20ab\x20=\x20cla'+'mp(alphaRo'+'ughness,\x200'+'.001,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20anisotro'+'picT\x20=\x20nor'+'malize(tbn'+'\x20*\x20vec3(di'+'rection,\x200'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropicB\x20=\x20'+'normalize('+'cross(tbn['+'2],\x20anisot'+'ropicT));\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20NoH\x20=\x20dot'+'(worldNorm'+'al,\x20h);\x0a\x20\x20'+'\x20\x20float\x20To'+'H\x20=\x20dot(an'+'isotropicT'+',\x20h);\x0a\x20\x20\x20\x20'+'float\x20BoH\x20'+'=\x20dot(anis'+'otropicB,\x20'+'h);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20a2\x20=\x20'+'at\x20*\x20ab;\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20vec3(ab\x20'+'*\x20ToH,\x20at\x20'+'*\x20BoH,\x20a2\x20'+'*\x20NoH);\x0a\x20\x20'+'\x20\x20float\x20v2'+'\x20=\x20dot(v,\x20'+'v);\x0a\x20\x20\x20\x20fl'+'oat\x20w2\x20=\x20a'+'2\x20/\x20v2;\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20a2\x20*\x20w2\x20'+'*\x20w2\x20*\x20(1.'+'0\x20/\x20PI);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'ToV\x20=\x20dot('+'anisotropi'+'cT,\x20viewDi'+'r);\x0a\x20\x20\x20\x20fl'+'oat\x20BoV\x20=\x20'+'dot(anisot'+'ropicB,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20float\x20To'+'L\x20=\x20dot(an'+'isotropicT'+(',\x20-lightDi'+'rNorm);\x0a\x20\x20'+'\x20\x20float\x20Bo'+'L\x20=\x20dot(an'+'isotropicB'+',\x20-lightDi'+'rNorm);\x0a\x20\x20'+'\x20\x20float\x20No'+'V\x20=\x20dot(wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20float'+'\x20NoL\x20=\x20dot'+'(worldNorm'+'al,\x20-light'+'DirNorm);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20lambdaV\x20='+'\x20NoL\x20*\x20len'+'gth(vec3(a'+'t\x20*\x20ToV,\x20a'+'b\x20*\x20BoV,\x20N'+'oV));\x0a\x20\x20\x20\x20'+'float\x20lamb'+'daL\x20=\x20NoV\x20'+'*\x20length(v'+'ec3(at\x20*\x20T'+'oL,\x20ab\x20*\x20B'+'oL,\x20NoL));'+'\x0a\x20\x20\x20\x20float'+'\x20G\x20=\x200.5\x20/'+'\x20(lambdaV\x20'+'+\x20lambdaL)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20D\x20*\x20G;'+'\x0a}\x0a\x0afloat\x20'+'getLightSp'+'ecular(vec'+'3\x20h,\x20vec3\x20'+'reflDir,\x20v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'float\x20glos'+'s,\x20mat3\x20tb'+'n)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20calc'+'LightSpecu'+'lar(gloss,'+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20h,\x20ligh'+'tDirNorm,\x20'+'tbn);\x0a}\x0a'),vP='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afloa'+'t\x20calcLigh'+'tSpecular('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20h)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20nh\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20specPow\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x20//\x20gloss'+'iness\x20is\x20l'+'inear,\x20pow'+'er\x20is\x20not;'+'\x200\x20-\x202048\x0a'+'\x0a\x20\x20\x20\x20//\x20Ha'+'ck:\x20On\x20Mac'+'\x20OS\x20X,\x20cal'+'ling\x20pow\x20w'+'ith\x20zero\x20f'+'or\x20the\x20exp'+'onent\x20gene'+'rates\x20hide'+'ous\x20artifa'+'cts\x20so\x20bia'+'s\x20up\x20a\x20lit'+'tle\x0a\x20\x20\x20\x20sp'+'ecPow\x20=\x20ma'+'x(specPow,'+'\x200.0001);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(nh,\x20'+'specPow)\x20*'+'\x20(specPow\x20'+'+\x202.0)\x20/\x208'+'.0;\x0a}\x0a\x0aflo'+'at\x20getLigh'+'tSpecular('+'vec3\x20h,\x20ve'+'c3\x20reflDir'+',\x20vec3\x20wor'+'ldNormal,\x20'+'vec3\x20viewD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m,\x20float\x20g'+'loss,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',xP='\x0a\x0afloat\x20sh'+'eenD(vec3\x20'+'normal,\x20ve'+'c3\x20h,\x20floa'+'t\x20roughnes'+'s)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20PI\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20f'+'loat\x20invR\x20'+'=\x201.0\x20/\x20(r'+'oughness\x20*'+'\x20roughness'+');\x0a\x20\x20\x20\x20flo'+'at\x20cos2h\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20*=\x20'+'cos2h;\x0a\x20\x20\x20'+'\x20float\x20sin'+'2h\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'float\x20shee'+'nV(vec3\x20no'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20NoV\x20=\x20'+'max(dot(no'+'rmal,\x20view'+'Dir),\x200.00'+'0001);\x0a\x20\x20\x20'+'\x20float\x20NoL'+'\x20=\x20max(dot'+'(normal,\x20l'+'ight),\x200.0'+'00001);\x0a\x20\x20'+'\x20\x20return\x201'+'.0\x20/\x20(4.0\x20'+'*\x20(NoL\x20+\x20N'+'oV\x20-\x20NoL\x20*'+'\x20NoV));\x0a}\x0a'+'\x0afloat\x20get'+'LightSpecu'+'larSheen(v'+'ec3\x20h,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'irNorm,\x20fl'+'oat\x20sheenG'+'loss)\x20{\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20float\x20V\x20'+'=\x20sheenV(w'+'orldNormal'+',\x20viewDir,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20return\x20D\x20'+'*\x20V;\x0a}\x0a',TP='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afloat\x20lin'+'earizeDept'+'hWithParam'+'s(float\x20z,'+'\x20vec4\x20came'+'raParams)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'cameraPara'+'ms.w\x20==\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20(c'+'ameraParam'+'s.z\x20*\x20came'+'raParams.y'+')\x20/\x20(camer'+'aParams.y\x20'+'+\x20z\x20*\x20(cam'+'eraParams.'+'z\x20-\x20camera'+'Params.y))'+';\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20came'+'raParams.z'+'\x20+\x20z\x20*\x20(ca'+'meraParams'+'.y\x20-\x20camer'+'aParams.z)'+';\x0a}\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec4\x20ca'+'mera_param'+'s;\x20//\x20x:\x201'+'\x20/\x20camera_'+'far,\x20\x20\x20\x20\x20\x20'+'y:\x20camera_'+'far,\x20\x20\x20\x20\x20z'+':\x20camera_n'+'ear,\x20\x20\x20\x20\x20\x20'+'\x20\x20w:\x20is_or'+'tho\x0a#endif'+'\x0a\x0afloat\x20li'+'nearizeDep'+'th(float\x20z'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20linea'+'rizeDepthW'+'ithParams('+'z,\x20camera_'+'params);\x0a}'+'\x0a#endif\x0a',wP='\x0avoid\x20eval'+'uateBacken'+'d()\x20{\x0a\x0a\x20\x20\x20'+'\x20//\x20apply\x20'+'SSAO\x20durin'+'g\x20lighting'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_SSAO'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ao\x20'+'*=\x20texture'+'2DLod(ssao'+'Texture,\x20g'+'l_FragCoor'+'d.xy\x20*\x20ssa'+'oTextureSi'+'zeInv,\x200.0'+').r;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20transf'+'orm\x20tangen'+'t\x20space\x20no'+'rmals\x20to\x20w'+'orld\x20space'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_NEED'+'S_NORMAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etReflDir('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20litArgs_'+'gloss,\x20dTB'+'N);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccReflDir'+'W\x20=\x20normal'+'ize(-refle'+'ct(dViewDi'+'rW,\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULAR_OR'+'_REFLECTIO'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_METALNESS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20f'+'0\x20=\x201.0\x20/\x20'+'litArgs_io'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20f0\x20=\x20'+'(f0\x20-\x201.0)'+'\x20/\x20(f0\x20+\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20f0\x20'+'*=\x20f0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity\x20='+'\x20getSpecul'+'arModulate'+'(litArgs_s'+'pecularity'+',\x20litArgs_'+'albedo,\x20li'+'tArgs_meta'+'lness,\x20f0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20i'+'ridescence'+'Fresnel\x20=\x20'+'getIridesc'+('ence(satur'+'ate(dot(dV'+'iewDirW,\x20l'+'itArgs_wor'+'ldNormal))'+',\x20litArgs_'+'specularit'+'y,\x20litArgs'+'_iridescen'+'ce_thickne'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'mbient\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_ADD_AMBI'+'ENT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20addAmbie'+'nt(litArgs'+'_worldNorm'+'al);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'=\x20dDiffuse'+'Light\x20*\x20(1'+'.0\x20-\x20litAr'+'gs_specula'+'rity);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20move\x20a'+'mbient\x20col'+'or\x20out\x20of\x20'+'diffuse\x20(u'+'sed\x20by\x20Lig'+'htmapper,\x20'+'to\x20multipl'+'y\x20ambient\x20'+'color\x20by\x20a'+'ccumulated'+'\x20AO)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SEPARA'+'TE_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20dA'+'mbientLigh'+'t\x20=\x20dDiffu'+'seLight;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20vec'+'3(0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20LIT_O'+'LD_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'DiffuseLig'+'ht\x20*=\x20mate'+'rial_ambie'+'nt;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_AO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifndef\x20'+'LIT_OCCLUD'+'E_DIRECT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20occludeDi'+'ffuse(litA'+'rgs_ao);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_LIGHTMAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'dLightMap('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmap,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_lightmap'+'Dir,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dViewDir'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dRef'+'lDirW,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dVertexN'+'ormalW,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dTBN\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_LIGHTING\x20'+'||\x20LIT_REF'+'LECTIONS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20addReflec'+'tionCC(ccR'+'eflDirW,\x20l'+'itArgs_cle'+'arcoat_glo'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_FRESNE'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccFresne'+'l\x20=\x20getFre'+'snelCC(dot'+'(dViewDirW'+',\x20litArgs_'+'clearcoat_'+'worldNorma'+'l));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccRef'+'lection\x20*='+'\x20ccFresnel'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccFres'+'nel\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULARITY_F'+'ACTOR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccReflec'+'tion\x20*=\x20li'+'tArgs_spec'+'ularityFac'+'tor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SH'+'EEN\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'addReflect'+'ionSheen(l'+'itArgs_wor'+'ldNormal,\x20'+'dViewDirW,'+'\x20litArgs_s'+'heen_gloss'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Fr')+('esnel\x20has\x20'+'to\x20be\x20appl'+'ied\x20to\x20ref'+'lections\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20addReflec'+'tion(dRefl'+'DirW,\x20litA'+'rgs_gloss)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_FRES'+'NEL_MODEL\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dRe'+'flection.r'+'gb\x20*=\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'specularit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dReflecti'+'on.rgb\x20*=\x20'+'litArgs_sp'+'ecularity;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LARITY_FAC'+'TOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n.rgb\x20*=\x20l'+'itArgs_spe'+'cularityFa'+'ctor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20ARE'+'A_LIGHTS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'ar\x20has\x20to\x20'+'be\x20accumul'+'ated\x20diffe'+'rently\x20if\x20'+'we\x20want\x20ar'+'ea\x20lights\x20'+'to\x20look\x20co'+'rrect\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dS'+'pecularLig'+'ht\x20*=\x20litA'+'rgs_specul'+'arity;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20e'+'valuate\x20ma'+'terial\x20bas'+'ed\x20area\x20li'+'ghts\x20data,')+('\x20shared\x20by'+'\x20all\x20area\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20calcLTC'+'LightValue'+'s(litArgs_'+'gloss,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW,\x20l'+'itArgs_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_gl'+'oss,\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20litA'+'rgs_clearc'+'oat_specul'+'arity);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20LOOP\x20-\x20e'+'valuate\x20al'+'l\x20non-clus'+'tered\x20ligh'+'ts\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'GHT_COUNT\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tEvaluatio'+'nPS,\x20LIGHT'+'_COUNT\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20clust'+'ered\x20light'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20addClust'+'eredLights'+'(litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20dReflDi'+'rW,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_CLEA'+'RCOAT)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccReflDir'+'W,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20litAr'+'gs_specula'+'rity,\x20dVer'+'texNormalW'+',\x20dTBN,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceF'+'resnel,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20litA'+'rgs_clearc'+'oat_gloss,'+'\x20litArgs_s'+'heen_gloss'+',\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20AR'+'EA_LIGHTS\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'r\x20has\x20to\x20b'+'e\x20accumula'+'ted\x20differ'+'ently\x20if\x20w'+'e\x20want\x20are'+'a\x20lights\x20t'+'o\x20look\x20cor'+'rect\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_s'+'pecularity'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity\x20=\x20ve'+'c3(1);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_REFRACTI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dViewD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'thickness,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_albe'+'do,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_t'+'ransmissio'+'n,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ior'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_disp'+'ersion\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20,\x20irides'+'cenceFresn'+'el,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_iridesc'+'ence_inten'+'sity\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20app'+'ly\x20ambient'+'\x20occlusion'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_OC')+('CLUDE_DIRE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20occlu'+'deDiffuse('+'litArgs_ao'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIT_OCCLU'+'DE_SPECULA'+'R\x20!=\x20NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20occludeS'+'pecular(li'+'tArgs_glos'+'s,\x20litArgs'+'_ao,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULARIT'+'Y_FACTOR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20*=\x20litAr'+'gs_specula'+'rityFactor'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'f\x20!defined'+'(LIT_OPACI'+'TY_FADES_S'+'PECULAR)\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIT_BLEN'+'D_TYPE\x20==\x20'+'NORMAL\x20||\x20'+'LIT_BLEND_'+'TYPE\x20==\x20PR'+'EMULTIPLIE'+'D\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20specLum\x20='+'\x20dot((dSpe'+'cularLight'+'\x20+\x20dReflec'+'tion.rgb\x20*'+'\x20dReflecti'+'on.a),\x20vec'+'3(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecLum\x20+=\x20'+'dot(ccSpec'+'ularLight\x20'+'*\x20litArgs_'+'clearcoat_'+'specularit'+'y\x20+\x20ccRefl'+'ection\x20*\x20l'+'itArgs_cle'+'arcoat_spe'+'cularity,\x20'+'vec3(\x200.21'+'26,\x200.7152'+',\x200.0722\x20)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_opacity\x20'+'=\x20clamp(li'+'tArgs_opac'+'ity\x20+\x20gamm'+'aCorrectIn'+'put(specLu'+'m),\x200.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_op'+'acity\x20*=\x20m'+'aterial_al'+'phaFade;\x0a\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nd\x20chunks\x20'+'-\x20when\x20bak'+'ing\x20lightm'+'ap\x0a\x20\x20\x20\x20#if'+'def\x20LIT_LI')+('GHTMAP_BAK'+'ING\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22bak'+'eLmEndPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_LIGHTM'+'AP_BAKING_'+'DIR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22bake'+'DirLmEndPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20en'+'d\x20chunks\x20-'+'\x20in\x20all\x20ot'+'her\x20cases\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22en'+'dPS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22outputA'+'lphaPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_MSDF\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20applyMs'+'df(gl_Frag'+'Color);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22output'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22de'+'bugOutputP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'HADOW_CATC'+'HER\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20outpu'+'t\x20when\x20the'+'\x20shadow\x20ca'+'tcher\x20is\x20e'+'nabled\x20-\x20a'+'ccumulated'+'\x20shadows\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20=\x20vec3'+'(dShadowCa'+'tcher);\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a'),EP='\x0a\x0a//\x20globa'+'ls\x0avec3\x20sR'+'eflection;'+'\x0avec3\x20dVer'+'texNormalW'+';\x0avec3\x20dTa'+'ngentW;\x0ave'+'c3\x20dBinorm'+'alW;\x0avec3\x20'+'dViewDirW;'+'\x0avec3\x20dRef'+'lDirW;\x0avec'+'3\x20ccReflDi'+'rW;\x0a\x0a//\x20Pe'+'r-light\x20te'+'mporaries\x0a'+'vec3\x20dLigh'+'tDirNormW;'+'\x0afloat\x20dAt'+'ten;\x0a\x0a//\x20O'+'utputs\x0amat'+'3\x20dTBN;\x0ave'+'c4\x20dReflec'+'tion;\x0avec3'+'\x20dDiffuseL'+'ight;\x0avec3'+'\x20dSpecular'+'Light;\x0aflo'+'at\x20ccFresn'+'el;\x0avec3\x20c'+'cReflectio'+'n;\x0avec3\x20cc'+'SpecularLi'+'ght;\x0afloat'+'\x20ccSpecula'+'rityNoFres'+';\x0avec3\x20sSp'+'ecularLigh'+'t;\x0a\x0a//\x20FRA'+'GMENT\x20SHAD'+'ER\x20INPUTS:'+'\x20UNIFORMS\x0a'+'\x0a#ifdef\x20LI'+'T_DISPERSI'+'ON\x0a\x20\x20\x20\x20uni'+'form\x20float'+'\x20material_'+'dispersion'+';\x0a#endif\x0a\x0a'+'#ifndef\x20LI'+'T_OPACITY_'+'FADES_SPEC'+'ULAR\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20materia'+'l_alphaFad'+'e;\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_SSAO\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20s'+'saoTexture'+';\x0a\x20\x20\x20\x20unif'+'orm\x20vec2\x20s'+'saoTexture'+'SizeInv;\x0a#'+'endif\x0a\x0a//\x20'+'lighting\x20a'+'nd\x20shadowi'+'ng\x20declara'+'tions\x0a\x0a#if'+'def\x20LIT_SH'+'ADOW_CATCH'+'ER\x0a\x20\x20\x20\x20//\x20'+'a\x20variable'+'\x20to\x20accumu'+'late\x20shado'+'ws\x20for\x20sha'+'dow\x20catche'+'r\x20material'+'s\x0a\x20\x20\x20\x20floa'+'t\x20dShadowC'+'atcher\x20=\x201'+'.0;\x0a#endif'+'\x0a\x0a//\x20LOOP\x20'+'-\x20uniform\x20'+'declaratio'+'ns\x20for\x20all'+'\x20non-clust'+'ered\x20light'+'s\x0a#if\x20LIGH'+'T_COUNT\x20>\x20'+'0\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tDeclarati'+'onPS,\x20LIGH'+'T_COUNT\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+('\x20#if\x20LIT_F'+'RESNEL_MOD'+'EL\x20==\x20NONE'+'\x20&&\x20!defin'+'ed(LIT_REF'+'LECTIONS)\x20'+'&&\x20!define'+'d(LIT_DIFF'+'USE_MAP)\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0a//\x20lightm'+'ap\x20baking\x0a'+'#ifdef\x20STD'+'_LIGHTMAP_'+'DIR\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20bakeDir;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_L'+'IGHTMAP_BA'+'KING_ADD_A'+'MBIENT\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20ambie'+'ntBakeOccl'+'usionContr'+'ast;\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20ambient'+'BakeOcclus'+'ionBrightn'+'ess;\x0a#endi'+'f\x0a'),bP='\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4(0'+');\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ccS'+'pecularLig'+'ht\x20=\x20vec3('+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ccReflec'+'tion\x20=\x20vec'+'3(0);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'NONE_SLICE'+'_MODE\x20==\x20S'+'LICED\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22startN'+'ineSlicedP'+'S\x22\x0a\x20\x20\x20\x20#el'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20TILE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'startNineS'+'licedTiled'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_NEEDS_NOR'+'MAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dVertexN'+'ormalW\x20=\x20n'+'ormalize(v'+'NormalW);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'TANGENTS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_HEI'+'GHTS)\x20||\x20d'+'efined(LIT'+'_USE_NORMA'+'LS)\x20||\x20def'+'ined(LIT_U'+'SE_CLEARCO'+'AT_NORMALS'+')\x20||\x20defin'+'ed(LIT_GGX'+'_SPECULAR)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dTa'+'ngentW\x20=\x20v'+'TangentW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dBin'+'ormalW\x20=\x20v'+'BinormalW;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20getVie'+'wDir();\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_TB'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getTBN'+'(dTangentW'+',\x20dBinorma'+'lW,\x20dVerte'+'xNormalW);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_TWO_S'+'IDED_LIGHT'+'ING\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'handleTwoS'+'idedLighti'+'ng();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20i'+'nvoke\x20fron'+'tend\x20funct'+'ions\x0a\x20\x20\x20\x20e'+'valuateFro'+'ntend();\x0a\x0a'+('\x20\x20\x20\x20#inclu'+'de\x20\x22debugP'+'rocessFron'+'tendPS\x22\x0a\x0a\x20'+'\x20\x20\x20evaluat'+'eBackend()'+';\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'UserMainEn'+'dPS\x22\x0a}\x0a'),AP='\x0a\x0a#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'cubeMapRot'+'atePS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22cubeMapPr'+'ojectPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22envProc'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20-----'+'\x20specular\x20'+'or\x20reflect'+'ions\x20-----'+'\x0a#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'METALNESS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessMod'+'ulatePS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_FRESNEL'+'_MODEL\x20==\x20'+'SCHLICK\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22fres'+'nelSchlick'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_IRIDESCEN'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22iridescen'+'ceDiffract'+'ionPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a//\x20-'+'----\x20ambie'+'nt\x20occlusi'+'on\x20-----\x0a#'+'ifdef\x20LIT_'+'AO\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoD'+'iffuseOccP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoS'+'pecOccPS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20LIT_REFL'+'ECTION_SOU'+'RCE\x20==\x20ENV'+'ATLASHQ\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22envAtlas'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flectionEn'+'vHQPS\x22\x0a#el'+'if\x20LIT_REF'+'LECTION_SO'+'URCE\x20==\x20EN'+'VATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionEnv'+'PS\x22\x0a#elif\x20'+'LIT_REFLEC'+'TION_SOURC'+'E\x20==\x20CUBEM'+'AP\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionCub'+'ePS\x22\x0a#elif'+'\x20LIT_REFLE'+'CTION_SOUR'+'CE\x20==\x20SPHE'+'REMAP\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'reflection'+'SpherePS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_CLEA'+'RCOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22reflec'+'tionCCPS\x22\x0a'+'\x20\x20\x20\x20#endif'+('\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22reflectio'+'nSheenPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'REFRACTION'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_DYNAMIC_R'+'EFRACTION)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22r'+'efractionD'+'ynamicPS\x22\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(LI'+'T_REFLECTI'+'ONS)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22refract'+'ionCubePS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightShee'+'nPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20vec3\x20mate'+'rial_ambie'+'nt;\x0a\x0a#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'LIGHTING\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22lightSp'+'ecularAnis'+'oGGXPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightS'+'pecularBli'+'nnPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#include\x20\x22'+'combinePS\x22'+'\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tmapAddPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'ADD_AMBIEN'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ambi'+'entPS\x22\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20LIT_MSDF'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22msdfP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20#'+'include\x20\x22v'+'iewDirPS\x22\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flDirAniso'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'reflDirPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a//\x20li'+'ghting\x20fun'+'ctionality')+('\x0a#include\x20'+'\x22lightingP'+'S\x22\x0a\x0a'),CP='\x0a\x0a#include'+'\x20\x22basePS\x22\x0a'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a#includ'+'e\x20\x22decodeP'+'S\x22\x0a#includ'+'e\x20\x22gammaPS'+'\x22\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22fog'+'PS\x22\x0a\x0a//\x209-'+'slice\x20supp'+'ort\x20code\x0a#'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20SLIC'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bas'+'eNineSlice'+'dPS\x22\x0a#elif'+'\x20LIT_NONE_'+'SLICE_MODE'+'\x20==\x20TILED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22baseNi'+'neSlicedTi'+'ledPS\x22\x0a#en'+'dif\x0a\x0a//\x20TB'+'N\x0a#ifdef\x20L'+'IT_TBN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22TBNPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22twoSidedL'+'ightingPS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a',PP='\x0a\x0a#include'+'\x20\x22varyings'+'PS\x22\x0a#inclu'+'de\x20\x22litUse'+'rDeclarati'+'onPS\x22\x0a#inc'+'lude\x20\x22fron'+'tendDeclPS'+'\x22\x0a\x0a#if\x20def'+'ined(PICK_'+'PASS)\x20||\x20d'+'efined(PRE'+'PASS_PASS)'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fron'+'tendCodePS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serCodePS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litOt'+'herMainPS\x22'+'\x0a\x0a#elif\x20de'+'fined(SHAD'+'OW_PASS)\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fronte'+'ndCodePS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rCodePS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litShad'+'owMainPS\x22\x0a'+'\x0a#else\x20//\x20'+'FORWARD_PA'+'SS\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardDe'+'clarationP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ForwardPre'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22frontend'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdPostCode'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardBa'+'ckendPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdMainPS\x22\x0a'+'\x0a#endif\x0a\x0a',MP='\x0a\x0a#include'+'\x20\x22varyings'+'VS\x22\x0a\x0a#incl'+'ude\x20\x20\x22litU'+'serDeclara'+'tionVS\x22\x0a\x0a#'+'ifdef\x20VERT'+'EX_COLOR\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vec4\x20ve'+'rtex_color'+';\x0a#endif\x0a\x0a'+'#ifdef\x20NIN'+'ESLICED\x0a\x0a\x20'+'\x20\x20\x20varying'+'\x20vec2\x20vMas'+'k;\x0a\x20\x20\x20\x20var'+'ying\x20vec2\x20'+'vTiledUv;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0a\x20'+'\x20\x20\x20uniform'+'\x20mediump\x20v'+'ec2\x20outerS'+'cale;\x0a\x20\x20\x20\x20'+'uniform\x20me'+'diump\x20vec4'+'\x20atlasRect'+';\x0a\x0a#endif\x0a'+'\x0avec3\x20dPos'+'itionW;\x0ama'+'t4\x20dModelM'+'atrix;\x0a\x0a#i'+'nclude\x20\x22tr'+'ansformCor'+'eVS\x22\x0a\x0a#ifd'+'ef\x20UV0\x0a\x20\x20\x20'+'\x20attribute'+'\x20vec2\x20vert'+'ex_texCoor'+'d0;\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22uv'+'0VS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'UV1\x0a\x20\x20\x20\x20at'+'tribute\x20ve'+'c2\x20vertex_'+'texCoord1;'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22uv1VS'+'\x22\x0a#endif\x0a\x0a'+'\x0a#ifdef\x20LI'+'NEAR_DEPTH'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20VIEWMAT'+'RIX\x0a\x20\x20\x20\x20#d'+'efine\x20VIEW'+'MATRIX\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_view;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#include\x20\x22'+'transformV'+'S\x22\x0a\x0a#ifdef'+'\x20NORMALS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22normalC'+'oreVS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22normalVS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20TANG'+'ENTS\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_tangent;\x0a'+'#endif\x0a\x0a//'+'\x20expand\x20un'+'iforms\x20for'+'\x20uv\x20transf'+'orms\x0a#incl'+'ude\x20\x22uvTra'+'nsformUnif'+'ormsPS,\x20UV'+'_TRANSFORM'+'S_COUNT\x22\x0a\x0a'+'#ifdef\x20MSD'+'F\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22msdf'+'VS\x22\x0a#endif'+'\x0a\x0a#include'+'\x20\x20\x22litUser'+'CodeVS\x22\x0a\x0av'+'oid\x20main(v'+'oid)\x20{\x0a\x0a\x20\x20'+'\x20\x20#include'+('\x20\x22litUserM'+'ainStartVS'+'\x22\x0a\x0a\x20\x20\x20\x20//\x20'+'default\x20po'+'int\x20size\x20t'+'o\x201\x20in\x20cas'+'e\x20the\x20shad'+'er\x20is\x20used'+'\x20with\x20poin'+'ts\x0a\x20\x20\x20\x20gl_'+'PointSize\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20getP'+'osition();'+'\x0a\x20\x20\x20\x20vPosi'+'tionW\x20=\x20ge'+'tWorldPosi'+'tion();\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'NORMALS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vNor'+'malW\x20=\x20get'+'Normal();\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20TANGENT'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vTangentW\x20'+'=\x20normaliz'+'e(dNormalM'+'atrix\x20*\x20ve'+'rtex_tange'+'nt.xyz);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vBi'+'normalW\x20=\x20'+'cross(vNor'+'malW,\x20vTan'+'gentW)\x20*\x20v'+'ertex_tang'+'ent.w;\x0a\x20\x20\x20'+'\x20#elif\x20def'+'ined(GGX_S'+'PECULAR)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vOb'+'jectSpaceU'+'pW\x20=\x20norma'+'lize(dNorm'+'alMatrix\x20*'+'\x20vec3(0,\x201'+',\x200));\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV0\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20uv0'+'\x20=\x20getUv0('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20UV'+'0_UNMODIFI'+'ED\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vUv0\x20'+'=\x20uv0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20UV1\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv1\x20=\x20ge'+'tUv1();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20UV1_UNM'+'ODIFIED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vUv1\x20=\x20uv1'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20expa'+'nd\x20code\x20fo'+'r\x20uv\x20trans'+'forms\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'uvTransfor'+'mVS,\x20UV_TR'+'ANSFORMS_C'+'OUNT\x22\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20VE'+'RTEX_COLOR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'VertexColo'+'r\x20=\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LINEAR_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20linea'+'r\x20depth\x20fr'+'om\x20the\x20wor'+'ldPosition')+(',\x20see\x20getL'+'inearDepth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'LinearDept'+'h\x20=\x20-(matr'+'ix_view\x20*\x20'+'vec4(vPosi'+'tionW,\x201.0'+')).z;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'SDF\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20unpackMs'+'dfParams()'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tUserMainE'+'ndVS\x22\x0a}\x0a'),DP='\x0a\x0a#ifdef\x20P'+'ICK_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22pickPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22floatAs'+'UintPS\x22\x0a#e'+'ndif\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'itUserMain'+'StartPS\x22\x0a\x0a'+'\x20\x20\x20\x20evalua'+'teFrontend'+'();\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PICK'+'_PASS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20g'+'etPickOutp'+'ut();\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20P'+'REPASS_PAS'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20float'+'2vec4(vLin'+'earDepth);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'UserMainEn'+'dPS\x22\x0a}\x0a',IP='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avec3\x20litA'+'rgs_albedo'+';\x0a\x0a//\x20Tran'+'sparency\x0af'+'loat\x20litAr'+'gs_opacity'+';\x0a\x0a//\x20Emis'+'sion\x20color'+'\x0avec3\x20litA'+'rgs_emissi'+'on;\x0a\x0a//\x20No'+'rmal\x20direc'+'tion\x20in\x20wo'+'rld\x20space\x0a'+'vec3\x20litAr'+'gs_worldNo'+'rmal;\x0a\x0a//\x20'+'Ambient\x20oc'+'clusion\x20am'+'ount,\x20rang'+'e\x20[0..1]\x0af'+'loat\x20litAr'+'gs_ao;\x0a\x0a//'+'\x20Light\x20map'+'\x20color\x0avec'+'3\x20litArgs_'+'lightmap;\x0a'+'\x0a//\x20Light\x20'+'map\x20direct'+'ion\x0avec3\x20l'+'itArgs_lig'+'htmapDir;\x0a'+'\x0a//\x20Surfac'+'e\x20metalnes'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_met'+'alness;\x0a\x0a/'+'/\x20The\x20f0\x20s'+'pecularity'+'\x20factor\x0ave'+'c3\x20litArgs'+'_speculari'+'ty;\x0a\x0a//\x20Sp'+'ecularity\x20'+'intensity\x20'+'factor,\x20ra'+'nge\x20[0..1]'+'\x0afloat\x20lit'+'Args_specu'+'larityFact'+'or;\x0a\x0a//\x20Th'+'e\x20microfac'+'et\x20glossin'+'ess\x20factor'+',\x20range\x20[0'+'..1]\x0afloat'+'\x20litArgs_g'+'loss;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_sh'+'een_gloss;'+'\x0a\x0a//\x20The\x20c'+'olor\x20of\x20th'+'e\x20f0\x20specu'+'larity\x20fac'+'tor\x20for\x20th'+'e\x20sheen\x20la'+'yer\x0avec3\x20l'+'itArgs_she'+'en_specula'+'rity;\x0a\x0a//\x20'+'Transmissi'+'on\x20factor\x20'+'(refractio'+'n),\x20range\x20'+'[0..1]\x0aflo'+'at\x20litArgs'+'_transmiss'+'ion;\x0a\x0a//\x20U'+'niform\x20thi'+'ckness\x20of\x20'+'medium,\x20us'+'ed\x20by\x20tran'+'smission,\x20'+'range\x20[0..'+'inf]\x0afloat'+'\x20litArgs_t'+'hickness;\x0a'+'\x0a//\x20Index\x20'+'of\x20refract'+'ion\x0afloat\x20'+('litArgs_io'+'r;\x0a\x0a//\x20Dis'+'persion,\x20r'+'ange\x20[0..1'+']\x20typicall'+'y,\x20but\x20can'+'\x20be\x20higher'+'\x0afloat\x20lit'+'Args_dispe'+'rsion;\x0a\x0a//'+'\x20Iridescen'+'ce\x20effect\x20'+'intensity,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_ir'+'idescence_'+'intensity;'+'\x0a\x0a//\x20Thick'+'ness\x20of\x20th'+'e\x20iridesce'+'nt\x20microfi'+'lm\x20layer,\x20'+'value\x20is\x20i'+'n\x20nanomete'+'rs,\x20range\x20'+'[0..1000]\x0a'+'float\x20litA'+'rgs_irides'+'cence_thic'+'kness;\x0a\x0a//'+'\x20The\x20norma'+'l\x20used\x20for'+'\x20the\x20clear'+'coat\x20layer'+'\x0avec3\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal;\x0a\x0a//'+'\x20Intensity'+'\x20of\x20the\x20cl'+'earcoat\x20la'+'yer,\x20range'+'\x20[0..1]\x0afl'+'oat\x20litArg'+'s_clearcoa'+'t_specular'+'ity;\x0a\x0a//\x20G'+'lossiness\x20'+'of\x20clearco'+'at\x20layer,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_cle'+'arcoat_glo'+'ss;\x0a\x0a'),LP='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobal\x20text'+'ure\x20bias\x20f'+'or\x20standar'+'d\x20textures'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_NONE_SL'+'ICE_MODE\x20='+'=\x20TILED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20te'+'xtureBias\x20'+'=\x20-1000.0;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20texture'+'Bias;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litShade'+'rArgsPS\x22\x0a',RP='\x0a\x0a#if\x20LIGH'+'T_TYPE\x20!=\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20unif'+'orm\x20vec3\x20v'+'iew_positi'+'on;\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20light_ra'+'dius;\x0a#end'+'if\x0a\x0a#if\x20SH'+'ADOW_TYPE\x20'+'==\x20PCSS_32'+'F\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22line'+'arizeDepth'+'PS\x22\x0a#endif'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'evaluateFr'+'ontend();\x0a'+'\x0a\x20\x20\x20\x20//\x20us'+'ing\x20non-st'+'andard\x20dep'+'th,\x20i.e\x20gl'+'_FragCoord'+'.z\x0a\x20\x20\x20\x20#if'+'def\x20PERSPE'+'CTIVE_DEPT'+'H\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20gl_Fra'+'gCoord.z;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20SHADOW_'+'TYPE\x20==\x20PC'+'SS_32F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot/omn'+'i\x20shadows\x20'+'currently\x20'+'use\x20linear'+'\x20depth.\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20TODO:\x20u'+'se\x20perspec'+'tive\x20depth'+'\x20for\x20spot/'+'omni\x20the\x20s'+'ame\x20way\x20as'+'\x20direction'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT_TYPE\x20'+'!=\x20DIRECTI'+'ONAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20depth\x20=\x20l'+'inearizeDe'+'pthWithPar'+'ams(depth,'+'\x20camera_pa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20min(di'+'stance(vie'+'w_position'+',\x20vPositio'+'nW)\x20/\x20ligh'+'t_radius,\x20'+'0.99999);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20MODI'+'FIED_DEPTH'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20SHADOW_TY'+'PE\x20==\x20VSM_'+'16F\x20||\x20SHA'+'DOW_TYPE\x20='+'=\x20VSM_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SHADOW_T'+'YPE\x20==\x20VSM'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20exponen'+'t\x20=\x2015.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+('t\x20exponent'+'\x20=\x205.54;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20depth\x20=\x20'+'2.0\x20*\x20dept'+'h\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dep'+'th\x20=\x20\x20exp('+'exponent\x20*'+'\x20depth);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(dep'+'th,\x20depth*'+'depth,\x201.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'SHADOW_TYP'+'E\x20==\x20PCSS_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'tore\x20depth'+'\x20into\x20R32\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.r\x20=\x20d'+'epth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ODIFIED_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20If\x20we\x20e'+'nd\x20up\x20usin'+'g\x20modified'+'\x20depth,\x20it'+'\x20needs\x20to\x20'+'be\x20explici'+'tly\x20writte'+'n\x20to\x20gl_Fr'+'agDepth\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gDepth\x20=\x20d'+'epth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20just\x20the\x20'+'simplest\x20c'+'ode,\x20color'+'\x20is\x20not\x20wr'+'itten\x20anyw'+'ay\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(1.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litUserM'+'ainEndPS\x22\x0a'+'}\x0a'),OP='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0amat'+'3\x20transpos'+'eMat3(\x20con'+'st\x20in\x20mat3'+'\x20m\x20)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20tmp;'+'\x0a\x20\x20\x20\x20tmp[\x20'+'0\x20]\x20=\x20vec3'+'(\x20m[\x200\x20].x'+',\x20m[\x201\x20].x'+',\x20m[\x202\x20].x'+'\x20);\x0a\x20\x20\x20\x20tm'+'p[\x201\x20]\x20=\x20v'+'ec3(\x20m[\x200\x20'+'].y,\x20m[\x201\x20'+'].y,\x20m[\x202\x20'+'].y\x20);\x0a\x20\x20\x20'+'\x20tmp[\x202\x20]\x20'+'=\x20vec3(\x20m['+'\x200\x20].z,\x20m['+'\x201\x20].z,\x20m['+'\x202\x20].z\x20);\x0a'+'\x20\x20\x20\x20return'+'\x20tmp;\x0a}\x0a\x0av'+'ec2\x20LTC_Uv'+'(\x20const\x20in'+'\x20vec3\x20N,\x20c'+'onst\x20in\x20ve'+'c3\x20V,\x20cons'+'t\x20in\x20float'+'\x20roughness'+'\x20)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20LUT_SIZE\x20'+'=\x2064.0;\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20LUT_SC'+'ALE\x20=\x20(\x20LU'+'T_SIZE\x20-\x201'+'.0\x20)\x20/\x20LUT'+'_SIZE;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20LUT_BIA'+'S\x20=\x200.5\x20/\x20'+'LUT_SIZE;\x0a'+'\x20\x20\x20\x20float\x20'+'dotNV\x20=\x20sa'+'turate(\x20do'+'t(\x20N,\x20V\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'texture\x20pa'+'rameterize'+'d\x20by\x20sqrt('+'\x20GGX\x20alpha'+'\x20)\x20and\x20sqr'+'t(\x201\x20-\x20cos'+'(\x20theta\x20)\x20'+')\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20vec2'+'(\x20roughnes'+'s,\x20sqrt(\x201'+'.0\x20-\x20dotNV'+'\x20)\x20);\x0a\x20\x20\x20\x20'+'uv\x20=\x20uv\x20*\x20'+'LUT_SCALE\x20'+'+\x20LUT_BIAS'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'float\x20LTC_'+'ClippedSph'+'ereFormFac'+'tor(\x20const'+'\x20in\x20vec3\x20f'+'\x20)\x20{\x0a\x20\x20\x20\x20/'+'/\x20Real-Tim'+'e\x20Area\x20Lig'+'hting:\x20a\x20J'+'ourney\x20fro'+'m\x20Research'+'\x20to\x20Produc'+'tion\x20(p.10'+'2)\x0a\x20\x20\x20\x20//\x20'+('An\x20approxi'+'mation\x20of\x20'+'the\x20form\x20f'+'actor\x20of\x20a'+'\x20horizon-c'+'lipped\x20rec'+'tangle.\x0a\x20\x20'+'\x20\x20float\x20l\x20'+'=\x20length(\x20'+'f\x20);\x0a\x20\x20\x20\x20r'+'eturn\x20max('+'\x20(\x20l\x20*\x20l\x20+'+'\x20f.z\x20)\x20/\x20('+'\x20l\x20+\x201.0\x20)'+',\x200.0\x20);\x0a}'+'\x0a\x0avec3\x20LTC'+'_EdgeVecto'+'rFormFacto'+'r(\x20const\x20i'+'n\x20vec3\x20v1,'+'\x20const\x20in\x20'+'vec3\x20v2\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20dot('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20y\x20=\x20abs(\x20'+'x\x20);\x0a\x20\x20\x20\x20/'+'/\x20rational'+'\x20polynomia'+'l\x20approxim'+'ation\x20to\x20t'+'heta\x20/\x20sin'+'(\x20theta\x20)\x20'+'/\x202PI\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'0.8543985\x20'+'+\x20(\x200.4965'+'155\x20+\x200.01'+'45206\x20*\x20y\x20'+')\x20*\x20y;\x0a\x20\x20\x20'+'\x20float\x20b\x20='+'\x203.4175940'+'\x20+\x20(\x204.161'+'6724\x20+\x20y\x20)'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20v\x20=\x20'+'a\x20/\x20b;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta_sinthet'+'a\x20=\x20(\x20x\x20>\x20'+'0.0\x20)\x20?\x20v\x20'+':\x200.5\x20*\x20in'+'versesqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7\x20)\x20)\x20-\x20'+'v;\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'\x20v1,\x20v2\x20)\x20'+'*\x20theta_si'+'ntheta;\x0a}\x0a'+'\x0astruct\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'d0;\x0a\x20\x20\x20\x20ve'+'c3\x20coord1;'+'\x0a\x20\x20\x20\x20vec3\x20'+'coord2;\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'rd3;\x0a};\x0a\x0af'+'loat\x20LTC_E'+'valuateRec'+'t(\x20const\x20i'+'n\x20vec3\x20N,\x20'+'const\x20in\x20v'+'ec3\x20V,\x20con'+'st\x20in\x20vec3'+'\x20P,\x20const\x20'+'in\x20mat3\x20mI'+'nv,\x20const\x20'+'in\x20Coords\x20'+'rectCoords'+')\x20{\x0a\x20\x20\x20\x20//'+'\x20bail\x20if\x20p'+'oint\x20is\x20on'+'\x20back\x20side'+'\x20of\x20plane\x20'+'of\x20light\x0a\x20'+'\x20\x20\x20//\x20assu'+'mes\x20ccw\x20wi'+'nding\x20orde'+'r\x20of\x20light'+'\x20vertices\x0a'+'\x20\x20\x20\x20vec3\x20v'+'1\x20=\x20rectCo'+'ords.coord'+'1\x20-\x20rectCo'+'ords.coord'+'0;\x0a\x20\x20\x20\x20vec')+('3\x20v2\x20=\x20rec'+'tCoords.co'+'ord3\x20-\x20rec'+'tCoords.co'+'ord0;\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'lightNorma'+'l\x20=\x20cross('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20//\x20if'+'(\x20dot(\x20lig'+'htNormal,\x20'+'P\x20-\x20rectCo'+'ords.coord'+'0\x20)\x20<\x200.0\x20'+')\x20return\x200'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20factor'+'\x20=\x20sign(-d'+'ot(\x20lightN'+'ormal,\x20P\x20-'+'\x20rectCoord'+'s.coord0\x20)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20vec3\x20T1,'+'\x20T2;\x0a\x20\x20\x20\x20T'+'1\x20=\x20normal'+'ize(\x20V\x20-\x20N'+'\x20*\x20dot(\x20V,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20T2\x20=\x20\x20fa'+'ctor\x20*\x20cro'+'ss(\x20N,\x20T1\x20'+');\x20//\x20nega'+'ted\x20from\x20p'+'aper;\x20poss'+'ibly\x20due\x20t'+'o\x20a\x20differ'+'ent\x20handed'+'ness\x20of\x20wo'+'rld\x20coordi'+'nate\x20syste'+'m\x0a\x20\x20\x20\x20//\x20c'+'ompute\x20tra'+'nsform\x0a\x20\x20\x20'+'\x20mat3\x20mat\x20'+'=\x20mInv\x20*\x20t'+'ransposeMa'+'t3(\x20mat3(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20transfor'+'m\x20rect\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'ds[\x204\x20];\x0a\x20'+'\x20\x20\x20coords['+'\x200\x20]\x20=\x20mat'+'\x20*\x20(\x20rectC'+'oords.coor'+'d0\x20-\x20P\x20);\x0a'+'\x20\x20\x20\x20coords'+'[\x201\x20]\x20=\x20ma'+'t\x20*\x20(\x20rect'+'Coords.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20coord'+'s[\x202\x20]\x20=\x20m'+'at\x20*\x20(\x20rec'+'tCoords.co'+'ord2\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20coor'+'ds[\x203\x20]\x20=\x20'+'mat\x20*\x20(\x20re'+'ctCoords.c'+'oord3\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20//\x20'+'project\x20re'+'ct\x20onto\x20sp'+'here\x0a\x20\x20\x20\x20c'+'oords[\x200\x20]'+'\x20=\x20normali'+'ze(\x20coords'+'[\x200\x20]\x20);\x0a\x20'+'\x20\x20\x20coords['+'\x201\x20]\x20=\x20nor'+'malize(\x20co'+'ords[\x201\x20]\x20'+');\x0a\x20\x20\x20\x20coo'+'rds[\x202\x20]\x20='+'\x20normalize'+'(\x20coords[\x20'+'2\x20]\x20);\x0a\x20\x20\x20'+'\x20coords[\x203'+'\x20]\x20=\x20norma'+'lize(\x20coor'+'ds[\x203\x20]\x20);')+('\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20ve'+'ctor\x20form\x20'+'factor\x0a\x20\x20\x20'+'\x20vec3\x20vect'+'orFormFact'+'or\x20=\x20vec3('+'\x200.0\x20);\x0a\x20\x20'+'\x20\x20vectorFo'+'rmFactor\x20+'+'=\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[\x200\x20],'+'\x20coords[\x201'+'\x20]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20+=\x20'+'LTC_EdgeVe'+'ctorFormFa'+'ctor(\x20coor'+'ds[\x201\x20],\x20c'+'oords[\x202\x20]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa'+'ctor\x20+=\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[\x202\x20],\x20coo'+'rds[\x203\x20]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20+=\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[\x20'+'3\x20],\x20coord'+'s[\x200\x20]\x20);\x0a'+'\x20\x20\x20\x20//\x20adj'+'ust\x20for\x20ho'+'rizon\x20clip'+'ping\x0a\x20\x20\x20\x20f'+'loat\x20resul'+'t\x20=\x20LTC_Cl'+'ippedSpher'+'eFormFacto'+'r(\x20vectorF'+'ormFactor\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0aCoor'+'ds\x20dLTCCoo'+'rds;\x0aCoord'+'s\x20getLTCLi'+'ghtCoords('+'vec3\x20light'+'Pos,\x20vec3\x20'+'halfWidth,'+'\x20vec3\x20half'+'Height){\x0a\x20'+'\x20\x20\x20Coords\x20'+'coords;\x0a\x20\x20'+'\x20\x20coords.c'+'oord0\x20=\x20li'+'ghtPos\x20+\x20h'+'alfWidth\x20-'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord1'+'\x20=\x20lightPo'+'s\x20-\x20halfWi'+'dth\x20-\x20half'+'Height;\x0a\x20\x20'+'\x20\x20coords.c'+'oord2\x20=\x20li'+'ghtPos\x20-\x20h'+'alfWidth\x20+'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord3'+'\x20=\x20lightPo'+'s\x20+\x20halfWi'+'dth\x20+\x20half'+'Height;\x0a\x20\x20'+'\x20\x20return\x20c'+'oords;\x0a}\x0a\x0a'+'float\x20dSph'+'ereRadius;'+'\x0aCoords\x20ge'+'tSphereLig'+'htCoords(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight){\x0a\x20\x20'+'\x20\x20//\x20used\x20'+'for\x20simple'+'\x20sphere\x20li')+('ght\x20fallof'+'f\x0a\x20\x20\x20\x20//\x20a'+'lso,\x20the\x20c'+'ode\x20only\x20h'+'andles\x20a\x20s'+'pherical\x20l'+'ight,\x20it\x20c'+'annot\x20be\x20n'+'on-uniform'+'ly\x20scaled\x20'+'in\x20world\x20s'+'pace,\x20and\x20'+'so\x20we\x20enfo'+'rce\x20it\x20her'+'e\x0a\x20\x20\x20\x20dSph'+'ereRadius\x20'+'=\x20max(leng'+'th(halfWid'+'th),\x20lengt'+'h(halfHeig'+'ht));\x0a\x0a\x20\x20\x20'+'\x20//\x20Billbo'+'ard\x20the\x202d'+'\x20light\x20qua'+'d\x20to\x20refle'+'ction\x20vect'+'or,\x20as\x20it\x27'+'s\x20used\x20for'+'\x20specular.'+'\x20This\x20allo'+'ws\x20us\x20to\x20u'+'se\x20disk\x20ma'+'th\x20for\x20the'+'\x20sphere.\x0a\x20'+'\x20\x20\x20vec3\x20f\x20'+'=\x20reflect('+'normalize('+'lightPos\x20-'+'\x20view_posi'+'tion),\x20vNo'+'rmalW);\x0a\x20\x20'+'\x20\x20vec3\x20w\x20='+'\x20normalize'+'(cross(f,\x20'+'halfHeight'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20h\x20=\x20nor'+'malize(cro'+'ss(f,\x20w));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20getLTCL'+'ightCoords'+'(lightPos,'+'\x20w\x20*\x20dSphe'+'reRadius,\x20'+'h\x20*\x20dSpher'+'eRadius);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20LTC\x20L'+'UT\x20texture'+'\x20lookup\x0ave'+'c2\x20dLTCUV;'+'\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20vec2'+'\x20ccLTCUV;\x0a'+'#endif\x0a\x0ave'+'c2\x20getLTCL'+'ightUV(flo'+'at\x20gloss,\x20'+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+')\x0a{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20max('+'(1.0\x20-\x20glo'+'ss)\x20*\x20(1.0'+'\x20-\x20gloss),'+'\x200.001);\x0a\x20'+'\x20\x20\x20return\x20'+'LTC_Uv(\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'roughness\x20'+');\x0a}\x0a\x0a//\x20u'+'sed\x20for\x20en'+'ergy\x20conse'+'rvation\x20an'+'d\x20to\x20modul'+'ate\x20specul'+'ar\x0avec3\x20dL'+'TCSpecFres'+';\x0a#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20vec'+'3\x20ccLTCSpe'+'cFres;\x0a#en'+'dif\x0a\x0avec3\x20'+'getLTCLigh')+('tSpecFres('+'vec2\x20uv,\x20v'+'ec3\x20specul'+'arity)\x0a{\x0a\x20'+'\x20\x20\x20vec4\x20t2'+'\x20=\x20texture'+'2DLod(area'+'LightsLutT'+'ex2,\x20uv,\x200'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20spec'+'ularity\x20*\x20'+'t2.x\x20+\x20(\x20v'+'ec3(\x201.0\x20)'+'\x20-\x20specula'+'rity)\x20*\x20t2'+'.y;\x0a}\x0a\x0avoi'+'d\x20calcLTCL'+'ightValues'+'(float\x20glo'+'ss,\x20vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20speculari'+'ty,\x20float\x20'+'clearcoatG'+'loss,\x20vec3'+'\x20clearcoat'+'WorldNorma'+'l,\x20float\x20c'+'learcoatSp'+'ecularity)'+'\x0a{\x0a\x20\x20\x20\x20dLT'+'CUV\x20=\x20getL'+'TCLightUV('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20dLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(d'+'LTCUV,\x20spe'+'cularity);'+'\x20\x0a\x0a#ifdef\x20'+'LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20cc'+'LTCUV\x20=\x20ge'+'tLTCLightU'+'V(clearcoa'+'tGloss,\x20cl'+'earcoatWor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20ccLTCS'+'pecFres\x20=\x20'+'getLTCLigh'+'tSpecFres('+'ccLTCUV,\x20v'+'ec3(clearc'+'oatSpecula'+'rity));\x0a#e'+'ndif\x0a}\x0a\x0avo'+'id\x20calcRec'+'tLightValu'+'es(vec3\x20li'+'ghtPos,\x20ve'+'c3\x20halfWid'+'th,\x20vec3\x20h'+'alfHeight)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CCoords\x20=\x20'+'getLTCLigh'+'tCoords(li'+'ghtPos,\x20ha'+'lfWidth,\x20h'+'alfHeight)'+';\x0a}\x0avoid\x20c'+'alcDiskLig'+'htValues(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight)\x20{\x0a\x20'+'\x20\x20\x20calcRec'+'tLightValu'+'es(lightPo'+'s,\x20halfWid'+'th,\x20halfHe'+'ight);\x0a}\x0av'+'oid\x20calcSp'+'hereLightV'+'alues(vec3'+'\x20lightPos,'+'\x20vec3\x20half'+'Width,\x20vec'+'3\x20halfHeig'+'ht)\x20{\x0a\x20\x20\x20\x20')+('dLTCCoords'+'\x20=\x20getSphe'+'reLightCoo'+'rds(lightP'+'os,\x20halfWi'+'dth,\x20halfH'+'eight);\x0a}\x0a'+'\x0a//\x20An\x20ext'+'ended\x20vers'+'ion\x20of\x20the'+'\x20implement'+'ation\x20from'+'\x20\x22How\x20to\x20s'+'olve\x20a\x20cub'+'ic\x20equatio'+'n,\x20revisit'+'ed\x22\x0a//\x20htt'+'p://moment'+'singraphic'+'s.de/?p=10'+'5\x0avec3\x20Sol'+'veCubic(ve'+'c4\x20Coeffic'+'ient)\x0a{\x0a\x20\x20'+'\x20\x20float\x20pi'+'\x20=\x203.14159'+';\x0a\x20\x20\x20\x20//\x20N'+'ormalize\x20t'+'he\x20polynom'+'ial\x0a\x20\x20\x20\x20Co'+'efficient.'+'xyz\x20/=\x20Coe'+'fficient.w'+';\x0a\x20\x20\x20\x20//\x20D'+'ivide\x20midd'+'le\x20coeffic'+'ients\x20by\x20t'+'hree\x0a\x20\x20\x20\x20C'+'oefficient'+'.yz\x20/=\x203.0'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20A\x20=\x20Coe'+'fficient.w'+';\x0a\x20\x20\x20\x20floa'+'t\x20B\x20=\x20Coef'+'ficient.z;'+'\x0a\x20\x20\x20\x20float'+'\x20C\x20=\x20Coeff'+'icient.y;\x0a'+'\x20\x20\x20\x20float\x20'+'D\x20=\x20Coeffi'+'cient.x;\x0a\x0a'+'\x20\x20\x20\x20//\x20Com'+'pute\x20the\x20H'+'essian\x20and'+'\x20the\x20discr'+'iminant\x0a\x20\x20'+'\x20\x20vec3\x20Del'+'ta\x20=\x20vec3('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20-'+'Coefficien'+'t.z\x20*\x20Coef'+'ficient.z\x20'+'+\x20Coeffici'+'ent.y,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20-Coef'+'ficient.y\x20'+'*\x20Coeffici'+'ent.z\x20+\x20Co'+'efficient.'+'x,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dot(vec2('+'Coefficien'+'t.z,\x20-Coef'+'ficient.y)'+',\x20Coeffici'+'ent.xy)\x0a\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'float\x20Disc'+'riminant\x20='+'\x20dot(vec2('+'4.0\x20*\x20Delt'+'a.x,\x20-Delt'+'a.y),\x20Delt'+'a.zy);\x0a\x0a\x20\x20'+'\x20\x20vec2\x20xlc'+',\x20xsc;\x0a\x0a\x20\x20'+'\x20\x20//\x20Algor'+'ithm\x20A\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20A_a'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20C_a\x20=\x20De'+'lta.x;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20D_a\x20=\x20-2.'+'0\x20*\x20B\x20*\x20De'+'lta.x\x20+\x20De'+'lta.y;\x0a\x0a\x20\x20')+('\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20Theta\x20'+'=\x20atan(sqr'+'t(Discrimi'+'nant),\x20-D_'+'a)\x20/\x203.0;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20x_1a\x20'+'=\x202.0\x20*\x20sq'+'rt(-C_a)\x20*'+'\x20cos(Theta'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20x_3'+'a\x20=\x202.0\x20*\x20'+'sqrt(-C_a)'+'\x20*\x20cos(The'+'ta\x20+\x20(2.0\x20'+'/\x203.0)\x20*\x20p'+'i);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20x'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20((x_1a'+'\x20+\x20x_3a)\x20>'+'\x202.0\x20*\x20B)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20xl\x20=\x20x_1'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20xl'+'\x20=\x20x_3a;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20xl'+'c\x20=\x20vec2(x'+'l\x20-\x20B,\x20A);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20Algor'+'ithm\x20D\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20A_d'+'\x20=\x20D;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'C_d\x20=\x20Delt'+'a.z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20D'+'_d\x20=\x20-D\x20*\x20'+'Delta.y\x20+\x20'+'2.0\x20*\x20C\x20*\x20'+'Delta.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20Take\x20the\x20'+'cubic\x20root'+'\x20of\x20a\x20norm'+'alized\x20com'+'plex\x20numbe'+'r\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20Thet'+'a\x20=\x20atan(D'+'\x20*\x20sqrt(Di'+'scriminant'+'),\x20-D_d)\x20/'+'\x203.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20x_1d\x20=\x202.'+'0\x20*\x20sqrt(-'+'C_d)\x20*\x20cos'+'(Theta);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20x_3d\x20=\x20'+'2.0\x20*\x20sqrt'+'(-C_d)\x20*\x20c'+'os(Theta\x20+'+'\x20(2.0\x20/\x203.'+'0)\x20*\x20pi);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20xs;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(x_1d\x20+\x20x_'+'3d\x20<\x202.0\x20*'+'\x20C)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20xs\x20='+'\x20x_1d;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20xs\x20=\x20x_3'+'d;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20xsc\x20=\x20ve'+'c2(-D,\x20xs\x20'+'+\x20C);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20flo'+'at\x20E\x20=\x20\x20xl'+'c.y\x20*\x20xsc.'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20F\x20=\x20-xl'+'c.x\x20*\x20xsc.'+'y\x20-\x20xlc.y\x20')+('*\x20xsc.x;\x0a\x20'+'\x20\x20\x20float\x20G'+'\x20=\x20\x20xlc.x\x20'+'*\x20xsc.x;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20x'+'mc\x20=\x20vec2('+'C\x20*\x20F\x20-\x20B\x20'+'*\x20G,\x20-B\x20*\x20'+'F\x20+\x20C\x20*\x20E)'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20Root\x20=\x20v'+'ec3(xsc.x\x20'+'/\x20xsc.y,\x20x'+'mc.x\x20/\x20xmc'+'.y,\x20xlc.x\x20'+'/\x20xlc.y);\x0a'+'\x0a\x20\x20\x20\x20if\x20(R'+'oot.x\x20<\x20Ro'+'ot.y\x20&&\x20Ro'+'ot.x\x20<\x20Roo'+'t.z)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20Root.xy'+'z\x20=\x20Root.y'+'xz;\x0a\x20\x20\x20\x20el'+'se\x20if\x20(Roo'+'t.z\x20<\x20Root'+'.x\x20&&\x20Root'+'.z\x20<\x20Root.'+'y)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root.xyz\x20'+'=\x20Root.xzy'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20Root;\x0a'+'}\x0a\x0afloat\x20L'+'TC_Evaluat'+'eDisk(vec3'+'\x20N,\x20vec3\x20V'+',\x20vec3\x20P,\x20'+'mat3\x20Minv,'+'\x20Coords\x20po'+'ints)\x0a{\x0a\x20\x20'+'\x20\x20//\x20const'+'ruct\x20ortho'+'normal\x20bas'+'is\x20around\x20'+'N\x0a\x20\x20\x20\x20vec3'+'\x20T1\x20=\x20norm'+'alize(V\x20-\x20'+'N\x20*\x20dot(V,'+'\x20N));\x0a\x20\x20\x20\x20'+'vec3\x20T2\x20=\x20'+'cross(N,\x20T'+'1);\x0a\x0a\x20\x20\x20\x20/'+'/\x20rotate\x20a'+'rea\x20light\x20'+'in\x20(T1,\x20T2'+',\x20N)\x20basis'+'\x0a\x20\x20\x20\x20//mat'+'3\x20R\x20=\x20tran'+'spose(mat3'+'(T1,\x20T2,\x20N'+'));\x0a\x20\x20\x20\x20ma'+'t3\x20R\x20=\x20tra'+'nsposeMat3'+'(\x20mat3(\x20T1'+',\x20T2,\x20N\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'polygon\x20(a'+'llocate\x205\x20'+'vertices\x20f'+'or\x20clippin'+'g)\x0a\x20\x20\x20\x20vec'+'3\x20L_[\x203\x20];'+'\x0a\x20\x20\x20\x20L_[\x200'+'\x20]\x20=\x20R\x20*\x20('+'\x20points.co'+'ord0\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20L_[\x20'+'1\x20]\x20=\x20R\x20*\x20'+'(\x20points.c'+'oord1\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20L_['+'\x202\x20]\x20=\x20R\x20*'+'\x20(\x20points.'+'coord2\x20-\x20P'+'\x20);\x0a\x0a\x20\x20\x20\x20/'+'/\x20init\x20ell'+'ipse\x0a\x20\x20\x20\x20v'+'ec3\x20C\x20\x20=\x200'+'.5\x20*\x20(L_[0'+']\x20+\x20L_[2])'+';\x0a\x20\x20\x20\x20vec3'+'\x20V1\x20=\x200.5\x20'+'*\x20(L_[1]\x20-'+'\x20L_[2]);\x0a\x20'+'\x20\x20\x20vec3\x20V2'+'\x20=\x200.5\x20*\x20('+'L_[1]\x20-\x20L_'+'[0]);\x0a\x0a\x20\x20\x20'+'\x20C\x20\x20=\x20Minv')+('\x20*\x20C;\x0a\x20\x20\x20\x20'+'V1\x20=\x20Minv\x20'+'*\x20V1;\x0a\x20\x20\x20\x20'+'V2\x20=\x20Minv\x20'+'*\x20V2;\x0a\x0a\x20\x20\x20'+'\x20//if(dot('+'cross(V1,\x20'+'V2),\x20C)\x20>\x20'+'0.0)\x0a\x20\x20\x20\x20/'+'/\x20\x20\x20\x20retur'+'n\x200.0;\x0a\x0a\x20\x20'+'\x20\x20//\x20compu'+'te\x20eigenve'+'ctors\x20of\x20e'+'llipse\x0a\x20\x20\x20'+'\x20float\x20a,\x20'+'b;\x0a\x20\x20\x20\x20flo'+'at\x20d11\x20=\x20d'+'ot(V1,\x20V1)'+';\x0a\x20\x20\x20\x20floa'+'t\x20d22\x20=\x20do'+'t(V2,\x20V2);'+'\x0a\x20\x20\x20\x20float'+'\x20d12\x20=\x20dot'+'(V1,\x20V2);\x0a'+'\x20\x20\x20\x20if\x20(ab'+'s(d12)\x20/\x20s'+'qrt(d11\x20*\x20'+'d22)\x20>\x200.0'+'001)\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20tr\x20=\x20'+'d11\x20+\x20d22;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20det\x20='+'\x20-d12\x20*\x20d1'+'2\x20+\x20d11\x20*\x20'+'d22;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20use'+'\x20sqrt\x20matr'+'ix\x20to\x20solv'+'e\x20for\x20eige'+'nvalues\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20det\x20'+'=\x20sqrt(det'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20u\x20='+'\x200.5\x20*\x20sqr'+'t(tr\x20-\x202.0'+'\x20*\x20det);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20v\x20=\x200.5'+'\x20*\x20sqrt(tr'+'\x20+\x202.0\x20*\x20d'+'et);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20e'+'_max\x20=\x20(u\x20'+'+\x20v)\x20*\x20(u\x20'+'+\x20v);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'e_min\x20=\x20(u'+'\x20-\x20v)\x20*\x20(u'+'\x20-\x20v);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20V1_,\x20V2_;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(d11\x20>\x20'+'d22)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V1_'+'\x20=\x20d12\x20*\x20V'+'1\x20+\x20(e_max'+'\x20-\x20d11)\x20*\x20'+'V2;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20V2_\x20'+'=\x20d12\x20*\x20V1'+'\x20+\x20(e_min\x20'+'-\x20d11)\x20*\x20V'+'2;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20V1'+'_\x20=\x20d12*V2'+'\x20+\x20(e_max\x20'+'-\x20d22)*V1;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20V2_\x20=\x20d'+'12*V2\x20+\x20(e'+'_min\x20-\x20d22'+')*V1;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20e_max'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'b\x20=\x201.0\x20/\x20'+'e_min;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V1\x20=\x20'+'normalize('+'V1_);\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20V2\x20=\x20n'+'ormalize(V'+'2_);\x0a\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20a\x20=\x201.'+'0\x20/\x20dot(V1'+',\x20V1);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20b\x20=\x201'+'.0\x20/\x20dot(V'+'2,\x20V2);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V1\x20*'+'=\x20sqrt(a);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20V'+'2\x20*=\x20sqrt('+'b);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'V3\x20=\x20norma'+'lize(cross'+'(V1,\x20V2));'+'\x0a\x20\x20\x20\x20if\x20(d'+'ot(C,\x20V3)\x20'+'<\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V3\x20*='+'\x20-1.0;\x0a\x0a\x20\x20'+'\x20\x20float\x20L\x20'+'\x20=\x20dot(V3,'+'\x20C);\x0a\x20\x20\x20\x20f'+'loat\x20x0\x20=\x20'+'dot(V1,\x20C)'+'\x20/\x20L;\x0a\x20\x20\x20\x20'+'float\x20y0\x20='+'\x20dot(V2,\x20C'+')\x20/\x20L;\x0a\x0a\x20\x20'+'\x20\x20float\x20E1'+'\x20=\x20inverse'+'sqrt(a);\x0a\x20'+'\x20\x20\x20float\x20E'+'2\x20=\x20invers'+'esqrt(b);\x0a'+'\x0a\x20\x20\x20\x20a\x20*=\x20'+'L\x20*\x20L;\x0a\x20\x20\x20'+'\x20b\x20*=\x20L\x20*\x20'+'L;\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20c0\x20=\x20a'+'\x20*\x20b;\x0a\x20\x20\x20\x20'+'float\x20c1\x20='+'\x20a\x20*\x20b\x20*\x20('+'1.0\x20+\x20x0\x20*'+'\x20x0\x20+\x20y0\x20*'+'\x20y0)\x20-\x20a\x20-'+'\x20b;\x0a\x20\x20\x20\x20fl'+'oat\x20c2\x20=\x201'+'.0\x20-\x20a\x20*\x20('+'1.0\x20+\x20x0\x20*'+'\x20x0)\x20-\x20b\x20*'+'\x20(1.0\x20+\x20y0'+'\x20*\x20y0);\x0a\x20\x20'+'\x20\x20float\x20c3'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ro'+'ots\x20=\x20Solv'+'eCubic(vec'+'4(c0,\x20c1,\x20'+'c2,\x20c3));\x0a'+'\x20\x20\x20\x20float\x20'+'e1\x20=\x20roots'+'.x;\x0a\x20\x20\x20\x20fl'+'oat\x20e2\x20=\x20r'+'oots.y;\x0a\x20\x20'+'\x20\x20float\x20e3'+'\x20=\x20roots.z'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20avgDir\x20='+'\x20vec3(a\x20*\x20'+'x0\x20/\x20(a\x20-\x20'+'e2),\x20b\x20*\x20y'+'0\x20/\x20(b\x20-\x20e'+'2),\x201.0);\x0a'+'\x0a\x20\x20\x20\x20mat3\x20'+'rotate\x20=\x20m'+'at3(V1,\x20V2'+',\x20V3);\x0a\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20rotate\x20*\x20'+'avgDir;\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20normalize'+'(avgDir);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20L1\x20=\x20sqrt'+'(-e2\x20/\x20e3)'+';\x0a\x20\x20\x20\x20floa'+'t\x20L2\x20=\x20sqr'+'t(-e2\x20/\x20e1'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20formFa'+'ctor\x20=\x20max'+'(0.0,\x20L1\x20*'+'\x20L2\x20*\x20inve')+('rsesqrt((1'+'.0\x20+\x20L1\x20*\x20'+'L1)\x20*\x20(1.0'+'\x20+\x20L2\x20*\x20L2'+')));\x0a\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20const\x20'+'float\x20LUT_'+'SIZE\x20=\x2064.'+'0;\x0a\x20\x20\x20\x20con'+'st\x20float\x20L'+'UT_SCALE\x20='+'\x20(\x20LUT_SIZ'+'E\x20-\x201.0\x20)\x20'+'/\x20LUT_SIZE'+';\x0a\x20\x20\x20\x20cons'+'t\x20float\x20LU'+'T_BIAS\x20=\x200'+'.5\x20/\x20LUT_S'+'IZE;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20tab'+'ulated\x20hor'+'izon-clipp'+'ed\x20sphere\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20vec2(a'+'vgDir.z\x20*\x20'+'0.5\x20+\x200.5,'+'\x20formFacto'+'r);\x0a\x20\x20\x20\x20uv'+'\x20=\x20uv*LUT_'+'SCALE\x20+\x20LU'+'T_BIAS;\x0a\x0a\x20'+'\x20\x20\x20float\x20s'+'cale\x20=\x20tex'+'ture2DLod('+'areaLights'+'LutTex2,\x20u'+'v,\x200.0).w;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20formFac'+'tor*scale;'+'\x0a}\x0a\x0a//\x20LTC'+'_EvaluateD'+'isk\x20in\x20som'+'e\x20rare\x20cas'+'es\x20generea'+'tes\x20NaN\x20va'+'lues\x20in\x20a\x20'+'or\x20b,\x20just'+'\x20before\x20\x27f'+'loat\x20c0\x20=\x20'+'a\x20*\x20b;\x27\x0a//'+'\x20Get\x20rid\x20o'+'f\x20those\x20Na'+'n\x20values\x20b'+'efore\x20they'+'\x20propagate'+'\x20further,\x20'+'as\x20in\x20case'+'\x20of\x20bloom\x20'+'/\x20DOF\x20blur'+'s\x20they\x0a//\x20'+'propagate\x20'+'to\x20large\x20a'+'reas.\x20I\x20di'+'dn\x27t\x20find\x20'+'the\x20actual'+'\x20reason\x20wh'+'ere\x20those\x20'+'come\x20from,'+'\x20so\x20that\x20i'+'s\x20still\x20TO'+'DO.\x0a//\x20Not'+'e\x20that\x20onl'+'y\x20disk/sph'+'ere\x20lights'+'\x20are\x20causi'+'ng\x20it,\x20so\x20'+'only\x20handl'+'e\x20those.\x0af'+'loat\x20FixNa'+'n(float\x20va'+'lue)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'value\x20!=\x20v'+'alue\x20?\x200.0'+'\x20:\x20value;\x20'+'\x20//\x20isnan\x20'+'does\x20not\x20t'+'ranspile\x20c'+'orrectly,\x20'+'use\x20a\x20work'+'around\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20isnan(va'+'lue)\x20?\x200.0'+'\x20:\x20value;\x0a')+('\x20\x20\x20\x20#endif'+'\x0a}\x0a\x0afloat\x20'+'getRectLig'+'htDiffuse('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+',\x20vec3\x20lig'+'htDir,\x20vec'+'3\x20lightDir'+'Norm)\x20{\x0a\x20\x20'+'\x20\x20return\x20L'+'TC_Evaluat'+'eRect(\x20wor'+'ldNormal,\x20'+'viewDir,\x20v'+'PositionW,'+'\x20mat3(\x201.0'+'\x20),\x20dLTCCo'+'ords\x20);\x0a}\x0a'+'\x0afloat\x20get'+'DiskLightD'+'iffuse(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20FixN'+'an(LTC_Eva'+'luateDisk('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mat3('+'\x201.0\x20),\x20dL'+'TCCoords\x20)'+');\x0a}\x0a\x0afloa'+'t\x20getSpher'+'eLightDiff'+'use(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm)\x20'+'{\x0a\x20\x20\x20\x20//\x20N'+'B:\x20this\x20co'+'uld\x20be\x20imp'+'roved\x20furt'+'her\x20with\x20d'+'istance\x20ba'+'sed\x20wrap\x20l'+'ighting\x0a\x20\x20'+'\x20\x20float\x20fa'+'lloff\x20=\x20dS'+'phereRadiu'+'s\x20/\x20(dot(l'+'ightDir,\x20l'+'ightDir)\x20+'+'\x20dSphereRa'+'dius);\x0a\x20\x20\x20'+'\x20return\x20Fi'+'xNan(getLi'+'ghtDiffuse'+'(worldNorm'+'al,\x20viewDi'+'r,\x20lightDi'+'rNorm)\x20*\x20f'+'alloff);\x0a}'+'\x0a\x0amat3\x20get'+'LTCLightIn'+'vMat(vec2\x20'+'uv)\x0a{\x0a\x20\x20\x20\x20'+'vec4\x20t1\x20=\x20'+'texture2DL'+'od(areaLig'+'htsLutTex1'+',\x20uv,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mat3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3(\x20t1.x,\x20'+'0,\x20t1.y\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3(\x20\x20\x20\x200,'+'\x201,\x20\x20\x20\x200\x20)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3(\x20t1.z'+',\x200,\x20t1.w\x20'+')\x0a\x20\x20\x20\x20);\x0a}'+'\x0a\x0afloat\x20ca'+'lcRectLigh'+'tSpecular('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir')+(',\x20vec2\x20uv)'+'\x20{\x0a\x20\x20\x20\x20mat'+'3\x20mInv\x20=\x20g'+'etLTCLight'+'InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateRect('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afl'+'oat\x20getRec'+'tLightSpec'+'ular(vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'calcRectLi'+'ghtSpecula'+'r(worldNor'+'mal,\x20viewD'+'ir,\x20dLTCUV'+');\x0a}\x0a\x0afloa'+'t\x20calcDisk'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20mInv'+'\x20=\x20getLTCL'+'ightInvMat'+'(uv);\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_EvaluateD'+'isk(\x20world'+'Normal,\x20vi'+'ewDir,\x20vPo'+'sitionW,\x20m'+'Inv,\x20dLTCC'+'oords\x20);\x0a}'+'\x0a\x0afloat\x20ge'+'tDiskLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcDi'+'skLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir,\x20dL'+'TCUV);\x0a}\x0a\x0a'+'float\x20getS'+'phereLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcDi'+'skLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir,\x20dL'+'TCUV);\x0a}\x0a'),FP='\x0a#ifdef\x20ST'+'D_METALNES'+'S_CONSTANT'+'\x0auniform\x20f'+'loat\x20mater'+'ial_metaln'+'ess;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tMetalness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20metal'+'ness\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20metalness'+'\x20*=\x20materi'+'al_metalne'+'ss;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20metalne'+'ss\x20*=\x20text'+'ure2DBias('+'{STD_METAL'+'NESS_TEXTU'+'RE_NAME},\x20'+'{STD_METAL'+'NESS_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+'.{STD_META'+'LNESS_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_VERTEX\x0a\x20\x20'+'\x20\x20metalnes'+'s\x20*=\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_METALNES'+'S_VERTEX_C'+'HANNEL});\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dMet'+'alness\x20=\x20m'+'etalness;\x0a'+'}\x0a',NP='\x0auniform\x20s'+'ampler2D\x20t'+'exture_msd'+'fMap;\x0a\x0aflo'+'at\x20median('+'float\x20r,\x20f'+'loat\x20g,\x20fl'+'oat\x20b)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'max(min(r,'+'\x20g),\x20min(m'+'ax(r,\x20g),\x20'+'b));\x0a}\x0a\x0afl'+'oat\x20map\x20(f'+'loat\x20min,\x20'+'float\x20max,'+'\x20float\x20v)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20(v\x20-\x20mi'+'n)\x20/\x20(max\x20'+'-\x20min);\x0a}\x0a'+'\x0auniform\x20f'+'loat\x20font_'+'sdfIntensi'+'ty;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20float\x20f'+'ont_pxrang'+'e;\x20\x20\x20\x20\x20\x20//'+'\x20the\x20numbe'+'r\x20of\x20pixel'+'s\x20between\x20'+'inside\x20and'+'\x20outside\x20t'+'he\x20font\x20in'+'\x20SDF\x0aunifo'+'rm\x20float\x20f'+'ont_textur'+'eWidth;\x20//'+'\x20the\x20width'+'\x20of\x20the\x20te'+'xture\x20atla'+'s\x0a\x0a#ifndef'+'\x20LIT_MSDF_'+'TEXT_ATTRI'+'BUTE\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20outline_'+'color;\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20shadow_co'+'lor;\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20shadow_o'+'ffset;\x0a#el'+'se\x0a\x20\x20\x20\x20var'+'ying\x20vec4\x20'+'outline_co'+'lor;\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20outline'+'_thickness'+';\x0a\x20\x20\x20\x20vary'+'ing\x20vec4\x20s'+'hadow_colo'+'r;\x0a\x20\x20\x20\x20var'+'ying\x20vec2\x20'+'shadow_off'+'set;\x0a#endi'+'f\x0a\x0avec4\x20ap'+'plyMsdf(ve'+'c4\x20color)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'Convert\x20to'+'\x20linear\x20sp'+'ace\x20before'+'\x20processin'+'g\x0a\x20\x20\x20\x20//\x20T'+'ODO:\x20ideal'+'ly\x20this\x20wo'+'uld\x20receiv'+'e\x20the\x20colo'+'r\x20in\x20linea'+'r\x20space,\x20b'+'ut\x20that\x20wo'+'uld\x20requir'+'e\x20larger\x20c'+'hanges\x0a\x20\x20\x20'+('\x20//\x20on\x20the'+'\x20engine\x20si'+'de,\x20with\x20t'+'he\x20way\x20pre'+'multiplied'+'\x20alpha\x20is\x20'+'handled\x20as'+'\x20well.\x0a\x20\x20\x20'+'\x20color.rgb'+'\x20=\x20gammaCo'+'rrectInput'+'(color.rgb'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20sample\x20th'+'e\x20field\x0a\x20\x20'+'\x20\x20vec3\x20tsa'+'mple\x20=\x20tex'+'ture2D(tex'+'ture_msdfM'+'ap,\x20vUv0).'+'rgb;\x0a\x20\x20\x20\x20v'+'ec2\x20uvShdw'+'\x20=\x20vUv0\x20-\x20'+'shadow_off'+'set;\x0a\x20\x20\x20\x20v'+'ec3\x20ssampl'+'e\x20=\x20textur'+'e2D(textur'+'e_msdfMap,'+'\x20uvShdw).r'+'gb;\x0a\x0a\x20\x20\x20\x20/'+'/\x20get\x20the\x20'+'signed\x20dis'+'tance\x20valu'+'e\x0a\x20\x20\x20\x20floa'+'t\x20sigDist\x20'+'=\x20median(t'+'sample.r,\x20'+'tsample.g,'+'\x20tsample.b'+');\x0a\x20\x20\x20\x20flo'+'at\x20sigDist'+'Shdw\x20=\x20med'+'ian(ssampl'+'e.r,\x20ssamp'+'le.g,\x20ssam'+'ple.b);\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20limi'+'t\x20-\x20smalle'+'r\x20value\x20ma'+'kes\x20for\x20sh'+'arper\x20but\x20'+'more\x20alias'+'ed\x20text,\x20e'+'specially\x20'+'on\x20angles\x0a'+'\x20\x20\x20\x20//\x20too'+'\x20large\x20val'+'ue\x20(0.5)\x20c'+'reates\x20a\x20d'+'ark\x20glow\x20a'+'round\x20the\x20'+'letters\x0a\x20\x20'+'\x20\x20float\x20sm'+'oothingMax'+'\x20=\x200.2;\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20depe'+'nds\x20on\x20siz'+'e\x20of\x20textu'+'re\x20on\x20scre'+'en\x0a\x20\x20\x20\x20vec'+'2\x20w\x20=\x20fwid'+'th(vUv0);\x0a'+'\x20\x20\x20\x20float\x20'+'smoothing\x20'+'=\x20clamp(w.'+'x\x20*\x20font_t'+'extureWidt'+'h\x20/\x20font_p'+'xrange,\x200.'+'0,\x20smoothi'+'ngMax);\x0a\x0a\x20'+'\x20\x20\x20float\x20m'+'apMin\x20=\x200.'+'05;\x0a\x20\x20\x20\x20fl'+'oat\x20mapMax'+'\x20=\x20clamp(1'+'.0\x20-\x20font_'+'sdfIntensi'+'ty,\x20mapMin'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20rema'+'p\x20to\x20a\x20sma'+'ller\x20range'+'\x20(used\x20on\x20'+'smaller\x20fo'+'nt\x20sizes)\x0a'+'\x20\x20\x20\x20float\x20')+('sigDistInn'+'er\x20=\x20map(m'+'apMin,\x20map'+'Max,\x20sigDi'+'st);\x0a\x20\x20\x20\x20f'+'loat\x20sigDi'+'stOutline\x20'+'=\x20map(mapM'+'in,\x20mapMax'+',\x20sigDist\x20'+'+\x20outline_'+'thickness)'+';\x0a\x20\x20\x20\x20sigD'+'istShdw\x20=\x20'+'map(mapMin'+',\x20mapMax,\x20'+'sigDistShd'+'w\x20+\x20outlin'+'e_thicknes'+'s);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20cente'+'r\x20=\x200.5;\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20smoo'+'thing\x20and\x20'+'use\x20to\x20gen'+'erate\x20opac'+'ity\x0a\x20\x20\x20\x20fl'+'oat\x20inside'+'\x20=\x20smooths'+'tep(center'+'-smoothing'+',\x20center+s'+'moothing,\x20'+'sigDistInn'+'er);\x0a\x20\x20\x20\x20f'+'loat\x20outli'+'ne\x20=\x20smoot'+'hstep(cent'+'er-smoothi'+'ng,\x20center'+'+smoothing'+',\x20sigDistO'+'utline);\x0a\x20'+'\x20\x20\x20float\x20s'+'hadow\x20=\x20sm'+'oothstep(c'+'enter-smoo'+'thing,\x20cen'+'ter+smooth'+'ing,\x20sigDi'+'stShdw);\x0a\x0a'+'\x20\x20\x20\x20vec4\x20t'+'color\x20=\x20(o'+'utline\x20>\x20i'+'nside)\x20?\x20o'+'utline\x20*\x20v'+'ec4(outlin'+'e_color.a\x20'+'*\x20outline_'+'color.rgb,'+'\x20outline_c'+'olor.a)\x20:\x20'+'vec4(0.0);'+'\x0a\x20\x20\x20\x20tcolo'+'r\x20=\x20mix(tc'+'olor,\x20colo'+'r,\x20inside)'+';\x0a\x0a\x20\x20\x20\x20vec'+'4\x20scolor\x20='+'\x20(shadow\x20>'+'\x20outline)\x20'+'?\x20shadow\x20*'+'\x20vec4(shad'+'ow_color.a'+'\x20*\x20shadow_'+'color.rgb,'+'\x20shadow_co'+'lor.a)\x20:\x20t'+'color;\x0a\x20\x20\x20'+'\x20tcolor\x20=\x20'+'mix(scolor'+',\x20tcolor,\x20'+'outline);\x0a'+'\x0a\x20\x20\x20\x20//\x20Co'+'nvert\x20back'+'\x20to\x20gamma\x20'+'space\x20befo'+'re\x20returni'+'ng\x0a\x20\x20\x20\x20tco'+'lor.rgb\x20=\x20'+'gammaCorre'+'ctOutput(t'+'color.rgb)'+';\x0a\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20return\x20tc'+'olor;\x0a}\x0a'),kP='\x0a\x0avec3\x20get'+'SpecularMo'+'dulate(in\x20'+'vec3\x20specu'+'larity,\x20in'+'\x20vec3\x20albe'+'do,\x20in\x20flo'+'at\x20metalne'+'ss,\x20in\x20flo'+'at\x20f0)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20di'+'electricF0'+'\x20=\x20f0\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(diel'+'ectricF0,\x20'+'albedo,\x20me'+'talness);\x0a'+'}\x0a\x0avec3\x20ge'+'tAlbedoMod'+'ulate(in\x20v'+'ec3\x20albedo'+',\x20in\x20float'+'\x20metalness'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20albed'+'o\x20*\x20(1.0\x20-'+'\x20metalness'+');\x0a}\x0a',UP='\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20vec2\x20u'+'v0;\x0a\x0a\x20\x20\x20\x20u'+'niform\x20sam'+'pler2DArra'+'y\x20morphTex'+'ture;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20float\x20'+'morphFacto'+'r[{MORPH_T'+'EXTURE_MAX'+'_COUNT}];\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20ui'+'nt\x20morphIn'+'dex[{MORPH'+'_TEXTURE_M'+'AX_COUNT}]'+';\x0a\x20\x20\x20\x20unif'+'orm\x20int\x20co'+'unt;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PH_INT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20aa'+'bbSize;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20highp\x20vec'+'3\x20color\x20=\x20'+'vec3(0,\x200,'+'\x200);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'pixelCoord'+'s\x20=\x20ivec2('+'uv0\x20*\x20vec2'+'(textureSi'+'ze(morphTe'+'xture,\x200).'+'xy));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20count;\x20'+'i++)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'int\x20textur'+'eIndex\x20=\x20m'+'orphIndex['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20delta\x20=\x20t'+'exelFetch('+'morphTextu'+'re,\x20ivec3('+'pixelCoord'+'s,\x20int(tex'+'tureIndex)'+'),\x200).xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20color\x20+'+'=\x20morphFac'+'tor[i]\x20*\x20d'+'elta;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20MORPH_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20color\x20'+'=\x20(color\x20-'+'\x20aabbMin)\x20'+'/\x20aabbSize'+'\x20*\x2065535.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20u'+'vec4(color'+',\x201u);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20ve'+'c4(color,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20}\x0a',BP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20}\x0a',zP='\x0aattribute'+'\x20vec3\x20vert'+'ex_outline'+'Parameters'+';\x0aattribut'+'e\x20vec3\x20ver'+'tex_shadow'+'Parameters'+';\x0a\x0avarying'+'\x20vec4\x20outl'+'ine_color;'+'\x0avarying\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0avaryin'+'g\x20vec4\x20sha'+'dow_color;'+'\x0avarying\x20v'+'ec2\x20shadow'+'_offset;\x0a\x0a'+'void\x20unpac'+'kMsdfParam'+'s()\x20{\x0a\x20\x20\x20\x20'+'vec3\x20littl'+'e\x20=\x20mod(ve'+'rtex_outli'+'neParamete'+'rs,\x20256.);'+'\x0a\x20\x20\x20\x20vec3\x20'+'big\x20=\x20(ver'+'tex_outlin'+'eParameter'+'s\x20-\x20little'+')\x20/\x20256.;\x0a'+'\x0a\x20\x20\x20\x20outli'+'ne_color.r'+'b\x20=\x20little'+'.xy\x20/\x20255.'+';\x0a\x20\x20\x20\x20outl'+'ine_color.'+'ga\x20=\x20big.x'+'y\x20/\x20255.;\x0a'+'\x0a\x20\x20\x20\x20//\x20_o'+'utlineThic'+'knessScale'+'\x20===\x200.2\x0a\x20'+'\x20\x20\x20outline'+'_thickness'+'\x20=\x20little.'+'z\x20/\x20255.\x20*'+'\x200.2;\x0a\x0a\x20\x20\x20'+'\x20little\x20=\x20'+'mod(vertex'+'_shadowPar'+'ameters,\x202'+'56.);\x0a\x20\x20\x20\x20'+'big\x20=\x20(ver'+'tex_shadow'+'Parameters'+'\x20-\x20little)'+'\x20/\x20256.;\x0a\x0a'+'\x20\x20\x20\x20shadow'+'_color.rb\x20'+'=\x20little.x'+'y\x20/\x20255.;\x0a'+'\x20\x20\x20\x20shadow'+'_color.ga\x20'+'=\x20big.xy\x20/'+'\x20255.;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+'ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20shado'+'w_offset\x20='+'\x20(vec2(lit'+'tle.z,\x20big'+'.z)\x20/\x20127.'+'\x20-\x201.)\x20*\x200'+'.005;\x0a}\x0a',VP='\x0amat3\x20dNor'+'malMatrix;'+'\x0a\x0avec3\x20get'+'Normal()\x20{'+'\x0a\x20\x20\x20\x20dNorm'+'alMatrix\x20='+'\x20getNormal'+'Matrix(dMo'+'delMatrix)'+';\x0a\x20\x20\x20\x20vec3'+'\x20localNorm'+'al\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}\x0a',GP='\x0a\x0aattribut'+'e\x20vec3\x20ver'+'tex_normal'+';\x0a\x0auniform'+'\x20mat3\x20matr'+'ix_normal;'+'\x0a\x0a#ifdef\x20M'+'ORPHING_NO'+'RMAL\x0a\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20morphNor'+'malTex;\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'morphNorma'+'lTex;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0avec3\x20'+'getLocalNo'+'rmal(vec3\x20'+'vertexNorm'+'al)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20loca'+'lNormal\x20=\x20'+'vertex_nor'+'mal;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_NORM'+'AL\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ivec2\x20mo'+'rphUV\x20=\x20ge'+'tTextureMo'+'rphCoords('+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'orphNormal'+'\x20=\x20vec3(te'+'xelFetch(m'+'orphNormal'+'Tex,\x20ivec2'+'(morphUV),'+'\x200).xyz)\x20/'+'\x2065535.0\x20*'+'\x202.0\x20-\x201.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20morphNo'+'rmal\x20=\x20tex'+'elFetch(mo'+'rphNormalT'+'ex,\x20ivec2('+'morphUV),\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20localNor'+'mal\x20+=\x20mor'+'phNormal;\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20localN'+'ormal;\x0a}\x0a\x0a'+'#if\x20define'+'d(SKIN)\x20||'+'\x20defined(B'+'ATCH)\x0a\x20\x20\x20\x20'+'mat3\x20getNo'+'rmalMatrix'+'(mat4\x20mode'+'lMatrix)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mat3'+'(modelMatr'+'ix[0].xyz,'+'\x20modelMatr'+'ix[1].xyz,'+'\x20modelMatr'+'ix[2].xyz)'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20define'+'d(INSTANCI'+'NG)\x0a\x20\x20\x20\x20ma'+'t3\x20getNorm'+'alMatrix(m'+'at4\x20modelM'+'atrix)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20mat3(m'+'odelMatrix'+'[0].xyz,\x20m'+('odelMatrix'+'[1].xyz,\x20m'+'odelMatrix'+'[2].xyz);\x0a'+'\x20\x20\x20\x20}\x0a#els'+'e\x0a\x20\x20\x20\x20mat3'+'\x20getNormal'+'Matrix(mat'+'4\x20modelMat'+'rix)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_n'+'ormal;\x0a\x20\x20\x20'+'\x20}\x0a#endif\x0a'),HP='\x0a#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mater'+'ial_bumpin'+'ess;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'STD_NORMAL'+'DETAIL_TEX'+'TURE\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20materia'+'l_normalDe'+'tailMapBum'+'piness;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20bl'+'endNormals'+'(vec3\x20n1,\x20'+'vec3\x20n2)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20https://'+'blog.selfs'+'hadow.com/'+'publicatio'+'ns/blendin'+'g-in-detai'+'l/#detail-'+'oriented\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20n1\x20'+'+=\x20vec3(0,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20n2\x20*'+'=\x20vec3(-1,'+'\x20-1,\x201);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20n1\x20*\x20d'+'ot(n1,\x20n2)'+'\x20/\x20n1.z\x20-\x20'+'n2;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0avo'+'id\x20getNorm'+'al()\x20{\x0a#if'+'def\x20STD_NO'+'RMAL_TEXTU'+'RE\x0a\x20\x20\x20\x20vec'+'3\x20normalMa'+'p\x20=\x20{STD_N'+'ORMAL_TEXT'+'URE_DECODE'+'}(texture2'+'DBias({STD'+'_NORMAL_TE'+'XTURE_NAME'+'},\x20{STD_NO'+'RMAL_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+');\x0a\x20\x20\x20\x20nor'+'malMap\x20=\x20m'+'ix(vec3(0.'+'0,\x200.0,\x201.'+'0),\x20normal'+'Map,\x20mater'+'ial_bumpin'+'ess);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_NORMALDE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20norm'+'alDetailMa'+'p\x20=\x20{STD_N'+'ORMALDETAI'+'L_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_NOR'+'MALDETAIL_'+'TEXTURE_NA'+'ME},\x20{STD_'+'NORMALDETA'+'IL_TEXTURE'+'_UV},\x20text'+'ureBias));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20n'+'ormalDetai'+'lMap\x20=\x20mix'+'(vec3(0.0,'+'\x200.0,\x201.0)'+',\x20normalDe'+'tailMap,\x20m'+'aterial_no'+'rmalDetail'+'MapBumpine'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20normalM'+'ap\x20=\x20blend'+'Normals(no'+'rmalMap,\x20n'+('ormalDetai'+'lMap);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20normal'+'ize(dTBN\x20*'+'\x20normalMap'+');\x0a#else\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20dVerte'+'xNormalW;\x0a'+'#endif\x0a}\x0a'),WP='\x0auniform\x20f'+'loat\x20mater'+'ial_opacit'+'y;\x0a\x0avoid\x20g'+'etOpacity('+')\x20{\x0a\x20\x20\x20\x20dA'+'lpha\x20=\x20mat'+'erial_opac'+'ity;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_OPACITY_T'+'EXTURE\x0a\x20\x20\x20'+'\x20dAlpha\x20*='+'\x20texture2D'+'Bias({STD_'+'OPACITY_TE'+'XTURE_NAME'+'},\x20{STD_OP'+'ACITY_TEXT'+'URE_UV},\x20t'+'extureBias'+').{STD_OPA'+'CITY_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'OPACITY_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Alpha\x20*=\x20c'+'lamp(vVert'+'exColor.{S'+'TD_OPACITY'+'_VERTEX_CH'+'ANNEL},\x200.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a',$P='\x0a\x0a#if\x20STD_'+'OPACITY_DI'+'THER\x20==\x20BA'+'YER8\x0a\x20\x20\x20\x20#'+'include\x20\x22b'+'ayerPS\x22\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20vec4\x20b'+'lueNoiseJi'+'tter;\x0a\x0a#if'+'\x20STD_OPACI'+'TY_DITHER\x20'+'==\x20BLUENOI'+'SE\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blueN'+'oiseTex32;'+'\x0a#endif\x0a\x0av'+'oid\x20opacit'+'yDither(fl'+'oat\x20alpha,'+'\x20float\x20id)'+'\x20{\x0a\x20\x20\x20\x20#if'+'\x20STD_OPACI'+'TY_DITHER\x20'+'==\x20BAYER8\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20noise'+'\x20=\x20bayer8('+'floor(mod('+'gl_FragCoo'+'rd.xy\x20+\x20bl'+'ueNoiseJit'+'ter.xy\x20+\x20i'+'d,\x208.0)))\x20'+'/\x2064.0;\x0a\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20STD_OPAC'+'ITY_DITHER'+'\x20==\x20BLUENO'+'ISE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20frac'+'t(gl_FragC'+'oord.xy\x20/\x20'+'32.0\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20noise\x20=\x20t'+'exture2DLo'+'d(blueNois'+'eTex32,\x20uv'+',\x200.0).y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20ST'+'D_OPACITY_'+'DITHER\x20==\x20'+'IGNNOISE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20based\x20'+'on\x20https:/'+'/www.iryok'+'u.com/next'+'-generatio'+'n-post-pro'+'cessing-in'+'-call-of-d'+'uty-advanc'+'ed-warfare'+'/\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'agic\x20=\x20vec'+'3(0.067110'+'56,\x200.0058'+'3715,\x2052.9'+'829189);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20noi'+'se\x20=\x20fract'+'(magic.z\x20*'+'\x20fract(dot'+'(gl_FragCo'+'ord.xy\x20+\x20b'+'lueNoiseJi'+'tter.xy\x20+\x20'+'id,\x20magic.'+'xy)));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20convert\x20'+'the\x20noise\x20'+'to\x20linear\x20'+'space,\x20as\x20'+'that\x20is\x20sp'+'ecified\x20in'+('\x20sRGB\x20spac'+'e\x20(stores\x20'+'perceptual'+'\x20values)\x0a\x20'+'\x20\x20\x20noise\x20='+'\x20pow(noise'+',\x202.2);\x0a\x0a\x20'+'\x20\x20\x20if\x20(alp'+'ha\x20<\x20noise'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a}'+'\x0a'),XP='\x0a',qP='\x0a\x0a#if\x20LIT_'+'BLEND_TYPE'+'\x20==\x20NORMAL'+'\x20||\x20LIT_BL'+'END_TYPE\x20='+'=\x20ADDITIVE'+'ALPHA\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x0a'+'\x0a\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20litArgs_'+'opacity;\x0a\x0a'+'#elif\x20LIT_'+'BLEND_TYPE'+'\x20==\x20PREMUL'+'TIPLIED\x0a\x0a\x20'+'\x20\x20\x20gl_Frag'+'Color.rgb\x20'+'*=\x20litArgs'+'_opacity;\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.a\x20='+'\x20litArgs_o'+'pacity;\x0a\x0a#'+'else\x0a\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.a\x20=\x201.0'+';\x0a\x0a#endif\x0a',jP='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',YP='\x0a\x0auniform\x20'+'vec3\x20mater'+'ial_sheen;'+'\x0a\x0avoid\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'heenColor\x20'+'=\x20material'+'_sheen;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEEN_'+'TEXTURE\x0a\x20\x20'+'\x20\x20sheenCol'+'or\x20*=\x20{STD'+'_SHEEN_TEX'+'TURE_DECOD'+'E}(texture'+'2DBias({ST'+'D_SHEEN_TE'+'XTURE_NAME'+'},\x20{STD_SH'+'EEN_TEXTUR'+'E_UV},\x20tex'+'tureBias))'+'.{STD_SHEE'+'N_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_SHE'+'EN_VERTEX\x0a'+'\x20\x20\x20\x20sheenC'+'olor\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SHEEN'+'_VERTEX_CH'+'ANNEL});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20sSpec'+'ularity\x20=\x20'+'sheenColor'+';\x0a}\x0a',KP='\x0auniform\x20f'+'loat\x20mater'+'ial_sheenG'+'loss;\x0a\x0avoi'+'d\x20getSheen'+'Glossiness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20sheen'+'Glossiness'+'\x20=\x20materia'+'l_sheenGlo'+'ss;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20sheenGl'+'ossiness\x20*'+'=\x20texture2'+'DBias({STD'+'_SHEENGLOS'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_SHEENGLO'+'SS_TEXTURE'+'_UV},\x20text'+'ureBias).{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20sheenGlo'+'ssiness\x20*='+'\x20saturate('+'vVertexCol'+'or.{STD_SH'+'EENGLOSS_V'+'ERTEX_CHAN'+'NEL});\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEENG'+'LOSS_INVER'+'T\x0a\x20\x20\x20\x20shee'+'nGlossines'+'s\x20=\x201.0\x20-\x20'+'sheenGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20sGlossi'+'ness\x20=\x20she'+'enGlossine'+'ss\x20+\x200.000'+'0001;\x0a}\x0a',ZP='\x0auniform\x20f'+'loat\x20mater'+'ial_height'+'MapFactor;'+'\x0a\x0avoid\x20get'+'Parallax()'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20paralla'+'xScale\x20=\x20m'+'aterial_he'+'ightMapFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'float\x20heig'+'ht\x20=\x20textu'+'re2DBias({'+'STD_HEIGHT'+'_TEXTURE_N'+'AME},\x20{STD'+'_HEIGHT_TE'+'XTURE_UV},'+'\x20textureBi'+'as).{STD_H'+'EIGHT_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20he'+'ight\x20=\x20hei'+'ght\x20*\x20para'+'llaxScale\x20'+'-\x20parallax'+'Scale\x20*\x200.'+'5;\x0a\x20\x20\x20\x20vec'+'3\x20viewDirT'+'\x20=\x20dViewDi'+'rW\x20*\x20dTBN;'+'\x0a\x0a\x20\x20\x20\x20view'+'DirT.z\x20+=\x20'+'0.42;\x0a\x20\x20\x20\x20'+'dUvOffset\x20'+'=\x20height\x20*'+'\x20(viewDirT'+'.xy\x20/\x20view'+'DirT.z);\x0a}'+'\x0a',QP='\x0auniform\x20u'+'int\x20meshIn'+'stanceId;\x0a'+'\x0avec4\x20getP'+'ickOutput('+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20vec4\x20i'+'nv\x20=\x20vec4('+'1.0\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20co'+'nst\x20uvec4\x20'+'shifts\x20=\x20u'+'vec4(16,\x208'+',\x200,\x2024);\x0a'+'\x20\x20\x20\x20uvec4\x20'+'col\x20=\x20(uve'+'c4(meshIns'+'tanceId)\x20>'+'>\x20shifts)\x20'+'&\x20uvec4(0x'+'ff);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'(col)\x20*\x20in'+'v;\x0a}\x0a',JP='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20dR'+'eflDirW\x20=\x20'+'normalize('+'-reflect(v'+'iewDir,\x20wo'+'rldNormal)'+');\x0a}\x0a',e2='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20sqrt'+'(1.0\x20-\x20min'+'(gloss,\x201.'+'0));\x0a\x0a\x20\x20\x20\x20'+'vec2\x20direc'+'tion\x20=\x20dAn'+'isotropyRo'+'tation;\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicT\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3(directi'+'on,\x200.0));'+'\x0a\x20\x20\x20\x20vec3\x20'+'anisotropi'+'cB\x20=\x20norma'+'lize(cross'+'(tbn[2],\x20a'+'nisotropic'+'T));\x0a\x0a\x20\x20\x20\x20'+'float\x20anis'+'otropy\x20=\x20d'+'Anisotropy'+';\x0a\x20\x20\x20\x20vec3'+'\x20anisotrop'+'icDirectio'+'n\x20=\x20anisot'+'ropicB;\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicTa'+'ngent\x20=\x20cr'+'oss(anisot'+'ropicDirec'+'tion,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropicNorm'+'al\x20=\x20cross'+'(anisotrop'+'icTangent,'+'\x20anisotrop'+'icDirectio'+'n);\x0a\x20\x20\x20\x20fl'+'oat\x20bendFa'+'ctor\x20=\x201.0'+'\x20-\x20anisotr'+'opy\x20*\x20(1.0'+'\x20-\x20roughne'+'ss);\x0a\x20\x20\x20\x20f'+'loat\x20bendF'+'actor4\x20=\x20b'+'endFactor\x20'+'*\x20bendFact'+'or\x20*\x20bendF'+'actor\x20*\x20be'+'ndFactor;\x0a'+'\x20\x20\x20\x20vec3\x20b'+'entNormal\x20'+'=\x20normaliz'+'e(mix(norm'+'alize(anis'+'otropicNor'+'mal),\x20norm'+'alize(worl'+'dNormal),\x20'+'bendFactor'+'4));\x0a\x20\x20\x20\x20d'+'ReflDirW\x20='+'\x20reflect(-'+'viewDir,\x20b'+'entNormal)'+';\x0a}\x0a',t2='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avoid\x20add'+'Reflection'+'CC(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20ccRe'+'flection\x20+'+'=\x20calcRefl'+'ection(ref'+'lDir,\x20glos'+'s);\x0a}\x0a#end'+'if\x0a',s2='\x0auniform\x20s'+'amplerCube'+'\x20texture_c'+'ubeMap;\x0aun'+'iform\x20floa'+'t\x20material'+'_reflectiv'+'ity;\x0a\x0avec3'+'\x20calcRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20lookup'+'Vec\x20=\x20cube'+'MapProject'+'(reflDir);'+'\x0a\x20\x20\x20\x20looku'+'pVec.x\x20*=\x20'+'-1.0;\x0a\x20\x20\x20\x20'+'return\x20{re'+'flectionDe'+'code}(text'+'ureCube(te'+'xture_cube'+'Map,\x20looku'+'pVec));\x0a}\x0a'+'\x0avoid\x20addR'+'eflection('+'vec3\x20reflD'+'ir,\x20float\x20'+'gloss)\x20{\x20\x20'+'\x20\x0a\x20\x20\x20\x20dRef'+'lection\x20+='+'\x20vec4(calc'+'Reflection'+'(reflDir,\x20'+'gloss),\x20ma'+'terial_ref'+'lectivity)'+';\x0a}\x0a',i2='\x0a#ifndef\x20E'+'NV_ATLAS\x0a\x20'+'\x20\x20\x20#define'+'\x20ENV_ATLAS'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_envAtlas;'+'\x0a#endif\x0aun'+'iform\x20samp'+'lerCube\x20te'+'xture_cube'+'Map;\x0aunifo'+'rm\x20float\x20m'+'aterial_re'+'flectivity'+';\x0a\x0avec3\x20ca'+'lcReflecti'+'on(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20cub'+'eMapProjec'+'t(reflDir)'+'\x20*\x20vec3(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20t'+'oSpherical'+'Uv(dir);\x0a\x0a'+'\x20\x20\x20\x20//\x20cal'+'culate\x20rou'+'ghness\x20lev'+'el\x0a\x20\x20\x20\x20flo'+'at\x20level\x20='+'\x20saturate('+'1.0\x20-\x20glos'+'s)\x20*\x205.0;\x0a'+'\x20\x20\x20\x20float\x20'+'ilevel\x20=\x20f'+'loor(level'+');\x0a\x20\x20\x20\x20flo'+'at\x20flevel\x20'+'=\x20level\x20-\x20'+'ilevel;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20sh'+'arp\x20=\x20{ref'+'lectionCub'+'emapDecode'+'}(textureC'+'ube(textur'+'e_cubeMap,'+'\x20dir));\x0a\x20\x20'+'\x20\x20vec3\x20rou'+'ghA\x20=\x20{ref'+'lectionDec'+'ode}(textu'+'re2D(textu'+'re_envAtla'+'s,\x20mapRoug'+'hnessUv(uv'+',\x20ilevel))'+');\x0a\x20\x20\x20\x20vec'+'3\x20roughB\x20='+'\x20{reflecti'+'onDecode}('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(s'+'harp,\x20mix('+'roughA,\x20ro'+'ughB,\x20flev'+'el),\x20min(l'+'evel,\x201.0)'+'));\x0a}\x0a\x0avoi'+'d\x20addRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x20\x20\x20\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20+=\x20vec'+'4(calcRefl'+'ection(ref'+'lDir,\x20glos'+'s),\x20materi'+'al_reflect'+'ivity);\x0a}\x0a',r2='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_env'+'Atlas;\x0a#en'+'dif\x0aunifor'+'m\x20float\x20ma'+'terial_ref'+'lectivity;'+'\x0a\x0a//\x20calcu'+'late\x20mip\x20l'+'evel\x20for\x20s'+'hiny\x20refle'+'ction\x20give'+'n\x20equirect'+'\x20coords\x20uv'+'.\x0afloat\x20sh'+'inyMipLeve'+'l(vec2\x20uv)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20dx\x20=\x20dFd'+'x(uv);\x0a\x20\x20\x20'+'\x20vec2\x20dy\x20='+'\x20dFdy(uv);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20s'+'econd\x20dF\x20a'+'t\x20180\x20degr'+'ees\x0a\x20\x20\x20\x20ve'+'c2\x20uv2\x20=\x20v'+'ec2(fract('+'uv.x\x20+\x200.5'+'),\x20uv.y);\x0a'+'\x20\x20\x20\x20vec2\x20d'+'x2\x20=\x20dFdx('+'uv2);\x0a\x20\x20\x20\x20'+'vec2\x20dy2\x20='+'\x20dFdy(uv2)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'min\x20of\x20bot'+'h\x20sets\x20of\x20'+'dF\x20to\x20hand'+'le\x20discont'+'inuity\x20at\x20'+'the\x20azim\x20e'+'dge\x0a\x20\x20\x20\x20fl'+'oat\x20maxd\x20='+'\x20min(max(d'+'ot(dx,\x20dx)'+',\x20dot(dy,\x20'+'dy)),\x20max('+'dot(dx2,\x20d'+'x2),\x20dot(d'+'y2,\x20dy2)))'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'0.5\x20*\x20log2'+'(maxd)\x20-\x201'+'.0\x20+\x20textu'+'reBias,\x200.'+'0,\x205.0);\x0a}'+'\x0a\x0avec3\x20cal'+'cReflectio'+'n(vec3\x20ref'+'lDir,\x20floa'+'t\x20gloss)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20cube'+'MapProject'+'(reflDir)\x20'+'*\x20vec3(-1.'+'0,\x201.0,\x201.'+'0);\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20to'+'SphericalU'+'v(dir);\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20roug'+'hness\x20leve'+'l\x0a\x20\x20\x20\x20floa'+'t\x20level\x20=\x20'+'saturate(1'+'.0\x20-\x20gloss'+')\x20*\x205.0;\x0a\x20'+'\x20\x20\x20float\x20i'+'level\x20=\x20fl'+'oor(level)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'accessing\x20'+'the\x20shiny\x20'+'(top\x20level'+')\x20reflecti'+'on\x20-\x20perfo'+'rm\x20manual\x20'+'mipmap\x20loo'+'kup\x0a\x20\x20\x20\x20fl'+('oat\x20level2'+'\x20=\x20shinyMi'+'pLevel(uv\x20'+'*\x20atlasSiz'+'e);\x0a\x20\x20\x20\x20fl'+'oat\x20ilevel'+'2\x20=\x20floor('+'level2);\x0a\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v0,\x20uv1;\x0a\x20'+'\x20\x20\x20float\x20w'+'eight;\x0a\x20\x20\x20'+'\x20if\x20(ileve'+'l\x20==\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uv0\x20=\x20mapS'+'hinyUv(uv,'+'\x20ilevel2);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v1\x20=\x20mapSh'+'inyUv(uv,\x20'+'ilevel2\x20+\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20weight'+'\x20=\x20level2\x20'+'-\x20ilevel2;'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20acces'+'sing\x20rough'+'\x20reflectio'+'n\x20-\x20just\x20s'+'ample\x20the\x20'+'same\x20part\x20'+'twice\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'uv1\x20=\x20mapR'+'oughnessUv'+'(uv,\x20ileve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20weight\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'3\x20linearA\x20'+'=\x20{reflect'+'ionDecode}'+'(texture2D'+'(texture_e'+'nvAtlas,\x20u'+'v0));\x0a\x20\x20\x20\x20'+'vec3\x20linea'+'rB\x20=\x20{refl'+'ectionDeco'+'de}(textur'+'e2D(textur'+'e_envAtlas'+',\x20uv1));\x0a\x20'+'\x20\x20\x20vec3\x20li'+'near0\x20=\x20mi'+'x(linearA,'+'\x20linearB,\x20'+'weight);\x0a\x20'+'\x20\x20\x20vec3\x20li'+'near1\x20=\x20{r'+'eflectionD'+'ecode}(tex'+'ture2D(tex'+'ture_envAt'+'las,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+'\x20+\x201.0)));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20process'+'Environmen'+'t(mix(line'+'ar0,\x20linea'+'r1,\x20level\x20'+'-\x20ilevel))'+';\x0a}\x0a\x0avoid\x20'+'addReflect'+'ion(vec3\x20r'+'eflDir,\x20fl'+'oat\x20gloss)'+'\x20{\x20\x20\x20\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20+=\x20vec4('+'calcReflec'+'tion(reflD'+'ir,\x20gloss)'+',\x20material'+'_reflectiv'+'ity);\x0a}\x0a'),a2='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_vie'+'w;\x0a#endif\x0a'+'uniform\x20sa'+'mpler2D\x20te'+'xture_sphe'+'reMap;\x0auni'+'form\x20float'+'\x20material_'+'reflectivi'+'ty;\x0a\x0avec3\x20'+'calcReflec'+'tion(vec3\x20'+'reflDir,\x20f'+'loat\x20gloss'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20reflDir'+'V\x20=\x20(mat3('+'matrix_vie'+'w)\x20*\x20reflD'+'ir);\x0a\x0a\x20\x20\x20\x20'+'float\x20m\x20=\x20'+'2.0\x20*\x20sqrt'+'(dot(reflD'+'irV.xy,\x20re'+'flDirV.xy)'+'\x20+\x20(reflDi'+'rV.z\x20+\x201.0'+')\x20*\x20(reflD'+'irV.z\x20+\x201.'+'0));\x0a\x20\x20\x20\x20v'+'ec2\x20sphere'+'MapUv\x20=\x20re'+'flDirV.xy\x20'+'/\x20m\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(texture2'+'D(texture_'+'sphereMap,'+'\x20sphereMap'+'Uv));\x0a}\x0a\x0av'+'oid\x20addRef'+'lection(ve'+'c3\x20reflDir'+',\x20float\x20gl'+'oss)\x20{\x20\x20\x20\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20+=\x20v'+'ec4(calcRe'+'flection(r'+'eflDir,\x20gl'+'oss),\x20mate'+'rial_refle'+'ctivity);\x0a'+'}\x0a',n2='\x0a\x0avoid\x20add'+'Reflection'+'Sheen(vec3'+'\x20worldNorm'+'al,\x20vec3\x20v'+'iewDir,\x20fl'+'oat\x20gloss)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20alph'+'aG\x20=\x20gloss'+'\x20*\x20gloss;\x0a'+'\x0a\x20\x20\x20\x20//\x20Av'+'oid\x20using\x20'+'a\x20LUT\x20and\x20'+'approximat'+'e\x20the\x20valu'+'es\x20analyti'+'cally\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'gloss\x20<\x200.'+'25\x20?\x20-339.'+'2\x20*\x20alphaG'+'\x20+\x20161.4\x20*'+'\x20gloss\x20-\x202'+'5.9\x20:\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95;\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20gl'+'oss\x20<\x200.25'+'\x20?\x2044.0\x20*\x20'+'alphaG\x20-\x202'+'3.7\x20*\x20glos'+'s\x20+\x203.26\x20:'+'\x201.97\x20*\x20al'+'phaG\x20-\x203.2'+'7\x20*\x20gloss\x20'+'+\x200.72;\x0a\x20\x20'+'\x20\x20float\x20DG'+'\x20=\x20exp(\x20a\x20'+'*\x20NoV\x20+\x20b\x20'+')\x20+\x20(\x20glos'+'s\x20<\x200.25\x20?'+'\x200.0\x20:\x200.1'+'\x20*\x20(\x20gloss'+'\x20-\x200.25\x20)\x20'+');\x0a\x20\x20\x20\x20sRe'+'flection\x20+'+'=\x20calcRefl'+'ection(wor'+'ldNormal,\x20'+'0.0)\x20*\x20sat'+'urate(DG);'+'\x0a}\x0a',o2='\x0avec3\x20refr'+'act2(vec3\x20'+'viewVec,\x20v'+'ec3\x20normal'+',\x20float\x20IO'+'R)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20vn\x20=\x20'+'dot(viewVe'+'c,\x20normal)'+';\x0a\x20\x20\x20\x20floa'+'t\x20k\x20=\x201.0\x20'+'-\x20IOR\x20*\x20IO'+'R\x20*\x20(1.0\x20-'+'\x20vn\x20*\x20vn);'+'\x0a\x20\x20\x20\x20vec3\x20'+'refrVec\x20=\x20'+'IOR\x20*\x20view'+'Vec\x20-\x20(IOR'+'\x20*\x20vn\x20+\x20sq'+'rt(k))\x20*\x20n'+'ormal;\x0a\x20\x20\x20'+'\x20return\x20re'+'frVec;\x0a}\x0a\x0a'+'void\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20vec3\x20w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20viewDir,'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20thicknes'+'s,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20transmi'+'ssion,\x0a\x20\x20\x20'+'\x20float\x20ref'+'ractionInd'+'ex,\x0a\x20\x20\x20\x20fl'+'oat\x20disper'+'sion\x0a#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20,\x20'+'vec3\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceInte'+'nsity\x0a#end'+'if\x20\x0a)\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20s'+'ame\x20reflec'+'tion\x20code\x20'+'with\x20refra'+'ction\x20vect'+'or\x0a\x20\x20\x20\x20vec'+'4\x20tmpRefl\x20'+'=\x20dReflect'+'ion;\x0a\x20\x20\x20\x20v'+'ec3\x20reflec'+'tionDir\x20=\x20'+'refract2(-'+'viewDir,\x20w'+'orldNormal'+',\x20refracti'+'onIndex);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve'+'c4(0);\x0a\x20\x20\x20'+'\x20addReflec'+'tion(refle'+'ctionDir,\x20'+'gloss);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20dRe'+'flection.r'+'gb\x20*\x20albed'+'o,\x20transmi'+'ssion);\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20=\x20tmpR'+'efl;\x0a}\x0a',l2='\x0auniform\x20f'+'loat\x20mater'+'ial_invAtt'+'enuationDi'+'stance;\x0aun'+'iform\x20vec3'+'\x20material_'+'attenuatio'+'n;\x0a\x0avec3\x20e'+'valRefract'+'ionColor(v'+'ec3\x20refrac'+'tionVector'+',\x20float\x20gl'+'oss,\x20float'+'\x20refractio'+'nIndex)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20Th'+'e\x20refracti'+'on\x20point\x20i'+'s\x20the\x20entr'+'y\x20point\x20+\x20'+'vector\x20to\x20'+'exit\x20point'+'\x0a\x20\x20\x20\x20vec4\x20'+'pointOfRef'+'raction\x20=\x20'+'vec4(vPosi'+'tionW\x20+\x20re'+'fractionVe'+'ctor,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'Project\x20to'+'\x20texture\x20s'+'pace\x20so\x20we'+'\x20can\x20sampl'+'e\x20it\x0a\x20\x20\x20\x20v'+'ec4\x20projec'+'tionPoint\x20'+'=\x20matrix_v'+'iewProject'+'ion\x20*\x20poin'+'tOfRefract'+'ion;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20bui'+'lt-in\x20getG'+'rabScreenP'+'os\x20functio'+'n\x20to\x20conve'+'rt\x20screen\x20'+'position\x20t'+'o\x20grab\x20tex'+'ture\x20uv\x20co'+'ords\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etGrabScre'+'enPos(proj'+'ectionPoin'+'t);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Use\x20IOR\x20'+'and\x20roughn'+'ess\x20to\x20sel'+'ect\x20mip\x0a\x20\x20'+'\x20\x20float\x20io'+'rToRoughne'+'ss\x20=\x20(1.0\x20'+'-\x20gloss)\x20*'+'\x20clamp((1.'+'0\x20/\x20refrac'+'tionIndex)'+'\x20*\x202.0\x20-\x202'+'.0,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20refra'+'ctionLod\x20='+'\x20log2(uScr'+'eenSize.x)'+'\x20*\x20iorToRo'+'ughness;\x0a\x20'+'\x20\x20\x20vec3\x20re'+'fraction\x20='+'\x20texture2D'+'Lod(uScene'+'ColorMap,\x20'+'uv,\x20refrac'+'tionLod).r'+'gb;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20refr'+'action;\x0a}\x0a'+'\x0avoid\x20addR'+'efraction('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20thickne'+'ss,\x20\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+('3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20albed'+'o,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20transm'+'ission,\x0a\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dex,\x0a\x20\x20\x20\x20f'+'loat\x20dispe'+'rsion\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a)\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20Extr'+'act\x20scale\x20'+'from\x20the\x20m'+'odel\x20trans'+'form\x0a\x20\x20\x20\x20v'+'ec3\x20modelS'+'cale;\x0a\x20\x20\x20\x20'+'modelScale'+'.x\x20=\x20lengt'+'h(vec3(mat'+'rix_model['+'0].xyz));\x0a'+'\x20\x20\x20\x20modelS'+'cale.y\x20=\x20l'+'ength(vec3'+'(matrix_mo'+'del[1].xyz'+'));\x0a\x20\x20\x20\x20mo'+'delScale.z'+'\x20=\x20length('+'vec3(matri'+'x_model[2]'+'.xyz));\x0a\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20the\x20'+'refraction'+'\x20vector,\x20s'+'caled\x20by\x20t'+'he\x20thickne'+'ss\x20and\x20sca'+'le\x20of\x20the\x20'+'object\x0a\x20\x20\x20'+'\x20vec3\x20scal'+'e\x20=\x20thickn'+'ess\x20*\x20mode'+'lScale;\x0a\x20\x20'+'\x20\x20vec3\x20ref'+'ractionVec'+'tor\x20=\x20norm'+'alize(refr'+'act(-viewD'+'ir,\x20worldN'+'ormal,\x20ref'+'ractionInd'+'ex))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20ve'+'c3\x20refract'+'ion\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndex);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_DISPE'+'RSION\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20bas'+'ed\x20on\x20the\x20'+'dispersion'+'\x20material\x20'+'property,\x20'+'calculate\x20'+'modified\x20r'+'efraction\x20'+'index\x20valu'+'es\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20for\x20R\x20'+'and\x20B\x20chan'+'nels\x20and\x20e'+'valuate\x20th'+'e\x20refracti'+'on\x20color\x20f'+'or\x20them.\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20halfSpr'+'ead\x20=\x20(1.0'+'\x20/\x20refract'+'ionIndex\x20-')+('\x201.0)\x20*\x200.'+'025\x20*\x20disp'+'ersion;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20refract'+'ionIndexR\x20'+'=\x20refracti'+'onIndex\x20-\x20'+'halfSpread'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'refraction'+'Vector\x20=\x20n'+'ormalize(r'+'efract(-vi'+'ewDir,\x20wor'+'ldNormal,\x20'+'refraction'+'IndexR))\x20*'+'\x20scale;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20refr'+'action.r\x20='+'\x20evalRefra'+'ctionColor'+'(refractio'+'nVector,\x20g'+'loss,\x20refr'+'actionInde'+'xR).r;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20refracti'+'onIndexB\x20='+'\x20refractio'+'nIndex\x20+\x20h'+'alfSpread;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'efractionV'+'ector\x20=\x20no'+'rmalize(re'+'fract(-vie'+'wDir,\x20worl'+'dNormal,\x20r'+'efractionI'+'ndexB))\x20*\x20'+'scale;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20refra'+'ction.b\x20=\x20'+'evalRefrac'+'tionColor('+'refraction'+'Vector,\x20gl'+'oss,\x20refra'+'ctionIndex'+'B).b;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20Trans'+'mittance\x20i'+'s\x20our\x20fina'+'l\x20refracti'+'on\x20color\x0a\x20'+'\x20\x20\x20vec3\x20tr'+'ansmittanc'+'e;\x0a\x20\x20\x20\x20if\x20'+'(material_'+'invAttenua'+'tionDistan'+'ce\x20!=\x200.0)'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'attenuatio'+'n\x20=\x20-log(m'+'aterial_at'+'tenuation)'+'\x20*\x20materia'+'l_invAtten'+'uationDist'+'ance;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20transm'+'ittance\x20=\x20'+'exp(-atten'+'uation\x20*\x20l'+'ength(refr'+'actionVect'+'or));\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20trans'+'mittance\x20='+'\x20refractio'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20fresnel'+'\x20effect\x20on'+'\x20refractio'+'n\x0a\x20\x20\x20\x20vec3'+'\x20fresnel\x20='+'\x20vec3(1.0)'+'\x20-\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot(')+('viewDir,\x20w'+'orldNormal'+'),\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ceIntensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20ref'+'raction\x20*\x20'+'transmitta'+'nce\x20*\x20fres'+'nel,\x20trans'+'mission);\x0a'+'}\x0a'),c2='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0a//\x20sourc'+'e\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20un'+'iform\x20samp'+'lerCube\x20so'+'urceCube;\x0a'+'#else\x0a\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20so'+'urceTex;\x0a#'+'endif\x0a\x0a#if'+'def\x20USE_SA'+'MPLES_TEX\x0a'+'\x20\x20\x20\x20//\x20sam'+'ples\x0a\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20sam'+'plesTex;\x0a\x20'+'\x20\x20\x20uniform'+'\x20vec2\x20samp'+'lesTexInve'+'rseSize;\x0a#'+'endif\x0a\x0a//\x20'+'params:\x0a//'+'\x20x\x20-\x20targe'+'t\x20cubemap\x20'+'face\x200..6\x0a'+'//\x20y\x20-\x20tar'+'get\x20image\x20'+'total\x20pixe'+'ls\x0a//\x20z\x20-\x20'+'source\x20cub'+'emap\x20size\x0a'+'uniform\x20ve'+'c3\x20params;'+'\x0a\x0afloat\x20ta'+'rgetFace()'+'\x20{\x20return\x20'+'params.x;\x20'+'}\x0afloat\x20ta'+'rgetTotalP'+'ixels()\x20{\x20'+'return\x20par'+'ams.y;\x20}\x0af'+'loat\x20sourc'+'eTotalPixe'+'ls()\x20{\x20ret'+'urn\x20params'+'.z;\x20}\x0a\x0aflo'+'at\x20PI\x20=\x203.'+'1415926535'+'89793;\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0a#i'+'nclude\x20\x22de'+'codePS\x22\x0a#i'+'nclude\x20\x22en'+'codePS\x22\x0a\x0a/'+'/--\x20suppor'+'ted\x20projec'+'tions\x0a\x0avec'+'3\x20modifySe'+'ams(vec3\x20d'+'ir,\x20float\x20'+'scale)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20ad'+'ir\x20=\x20abs(d'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20M\x20=\x20m'+'ax(max(adi'+'r.x,\x20adir.'+'y),\x20adir.z'+');\x0a\x20\x20\x20\x20ret'+'urn\x20dir\x20/\x20'+'M\x20*\x20vec3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'ir.x\x20==\x20M\x20'+'?\x201.0\x20:\x20sc'+'ale,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20adir.y\x20'+'==\x20M\x20?\x201.0'+'\x20:\x20scale,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'ir.z\x20==\x20M\x20'+'?\x201.0\x20:\x20sc'+'ale\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0avec2\x20t'+'oSpherical'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(d'+'ir.xz\x20==\x20v'+'ec2(0.0)\x20?'+('\x200.0\x20:\x20ata'+'n(dir.x,\x20d'+'ir.z),\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0avec3\x20f'+'romSpheric'+'al(vec2\x20uv'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec3('+'cos(uv.y)\x20'+'*\x20sin(uv.x'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'in(uv.y),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20cos('+'uv.y)\x20*\x20co'+'s(uv.x));\x0a'+'}\x0a\x0avec3\x20ge'+'tDirection'+'Equirect()'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20fromSp'+'herical((v'+'ec2(vUv0.x'+',\x201.0\x20-\x20vU'+'v0.y)\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20vec2(PI,\x20'+'PI\x20*\x200.5))'+';\x0a}\x0a\x0a//\x20oc'+'tahedral\x20c'+'ode,\x20based'+'\x20on\x20https:'+'//jcgt.org'+'/published'+'/0003/02/0'+'1/\x0a//\x20\x22Sur'+'vey\x20of\x20Eff'+'icient\x20Rep'+'resentatio'+'ns\x20for\x20Ind'+'ependent\x20U'+'nit\x20Vector'+'s\x22\x20by\x20Cigo'+'lle,\x20Donow'+',\x20Evangela'+'kos,\x20Mara,'+'\x20McGuire,\x20'+'Meyer\x0a\x0aflo'+'at\x20signNot'+'Zero(float'+'\x20k){\x0a\x20\x20\x20\x20r'+'eturn(k\x20>='+'\x200.0)\x20?\x201.'+'0\x20:\x20-1.0;\x0a'+'}\x0a\x0avec2\x20si'+'gnNotZero('+'vec2\x20v)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vec2(sign'+'NotZero(v.'+'x),\x20signNo'+'tZero(v.y)'+');\x0a}\x0a\x0a//\x20R'+'eturns\x20a\x20u'+'nit\x20vector'+'.\x20Argument'+'\x20o\x20is\x20an\x20o'+'ctahedral\x20'+'vector\x20pac'+'ked\x20via\x20oc'+'tEncode,\x20o'+'n\x20the\x20[-1,'+'\x20+1]\x20squar'+'e\x0avec3\x20oct'+'Decode(vec'+'2\x20o)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20v\x20=\x20'+'vec3(o.x,\x20'+'1.0\x20-\x20abs('+'o.x)\x20-\x20abs'+'(o.y),\x20o.y'+');\x0a\x20\x20\x20\x20if\x20'+'(v.y\x20<\x200.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20v.xz\x20=\x20('+'1.0\x20-\x20abs('+'v.zx))\x20*\x20s'+'ignNotZero'+'(v.xz);\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20norma'+'lize(v);\x0a}'+'\x0a\x0avec3\x20get'+'DirectionO'+'ctahedral('+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20octDe'+'code(vec2(')+('vUv0.x,\x201.'+'0\x20-\x20vUv0.y'+')\x20*\x202.0\x20-\x20'+'1.0);\x0a}\x0a\x0a/'+'/\x20Assumes\x20'+'that\x20v\x20is\x20'+'a\x20unit\x20vec'+'tor.\x20The\x20r'+'esult\x20is\x20a'+'n\x20octahedr'+'al\x20vector\x20'+'on\x20the\x20[-1'+',\x20+1]\x20squa'+'re\x0avec2\x20oc'+'tEncode(in'+'\x20vec3\x20v)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20l1norm\x20=\x20'+'abs(v.x)\x20+'+'\x20abs(v.y)\x20'+'+\x20abs(v.z)'+';\x0a\x20\x20\x20\x20vec2'+'\x20result\x20=\x20'+'v.xz\x20*\x20(1.'+'0\x20/\x20l1norm'+');\x0a\x20\x20\x20\x20if\x20'+'(v.y\x20<\x200.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20result\x20='+'\x20(1.0\x20-\x20ab'+'s(result.y'+'x))\x20*\x20sign'+'NotZero(re'+'sult.xy);\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'return\x20res'+'ult;\x0a}\x0a\x0a//'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'///////\x0a\x0a#'+'ifdef\x20CUBE'+'MAP_SOURCE'+'\x0a\x20\x20\x20\x20vec4\x20'+'sampleCube'+'map(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20textureCu'+'be(sourceC'+'ube,\x20modif'+'ySeams(dir'+',\x201.0));\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20sampl'+'eCubemap(v'+'ec2\x20sph)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leCubemap('+'fromSpheri'+'cal(sph));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleCubemap'+'(vec3\x20dir,'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'eCubeLod(s'+'ourceCube,'+'\x20modifySea'+'ms(dir,\x201.'+'0),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20sampleCub'+'emap(vec2\x20'+'sph,\x20float'+'\x20mipLevel)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleCubema'+'p(fromSphe'+'rical(sph)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a#'+'else\x0a\x0a\x20\x20\x20\x20'+'vec4\x20sampl'+'eEquirect('+'vec2\x20sph)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'sph\x20/\x20vec2'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x200.5')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'ture2D(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleEquir'+'ect(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleEqu'+'irect(toSp'+'herical(di'+'r));\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20sampleEqu'+'irect(vec2'+'\x20sph,\x20floa'+'t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20sph\x20/\x20ve'+'c2(PI\x20*\x202.'+'0,\x20PI)\x20+\x200'+'.5;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'exture2DLo'+'d(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y),\x20mip'+'Level);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Equirect(v'+'ec3\x20dir,\x20f'+'loat\x20mipLe'+'vel)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20sampleEq'+'uirect(toS'+'pherical(d'+'ir),\x20mipLe'+'vel);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleOc'+'tahedral(v'+'ec3\x20dir)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20o'+'ctEncode(d'+'ir)\x20*\x200.5\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20texture2'+'D(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Octahedral'+'(vec2\x20sph)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleOctahe'+'dral(fromS'+'pherical(s'+'ph));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleOc'+'tahedral(v'+'ec3\x20dir,\x20f'+'loat\x20mipLe'+'vel)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20octEn'+'code(dir)\x20'+'*\x200.5\x20+\x200.'+'5;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20te'+'xture2DLod'+'(sourceTex'+',\x20vec2(uv.'+'x,\x201.0\x20-\x20u'+'v.y),\x20mipL'+'evel);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20sampleO'+'ctahedral('+'vec2\x20sph,\x20'+'float\x20mipL'+'evel)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleO'+'ctahedral('+'fromSpheri'+'cal(sph),\x20')+('mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0avec3'+'\x20getDirect'+'ionCubemap'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20st\x20=\x20v'+'Uv0\x20*\x202.0\x20'+'-\x201.0;\x0a\x20\x20\x20'+'\x20float\x20fac'+'e\x20=\x20target'+'Face();\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ve'+'c;\x0a\x20\x20\x20\x20if\x20'+'(face\x20==\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec\x20=\x20'+'vec3(1,\x20-s'+'t.y,\x20-st.x'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(fa'+'ce\x20==\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec\x20=\x20vec'+'3(-1,\x20-st.'+'y,\x20st.x);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(face\x20'+'==\x202.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c\x20=\x20vec3(s'+'t.x,\x201,\x20st'+'.y);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x203.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3(st.x,\x20'+'-1,\x20-st.y)'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(fac'+'e\x20==\x204.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec\x20=\x20vec3'+'(st.x,\x20-st'+'.y,\x201);\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec\x20=\x20vec3('+'-st.x,\x20-st'+'.y,\x20-1);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(mod'+'ifySeams(v'+'ec,\x201.0));'+'\x0a}\x0a\x0amat3\x20m'+'atrixFromV'+'ector(vec3'+'\x20n)\x20{\x20//\x20f'+'risvad\x0a\x20\x20\x20'+'\x20float\x20a\x20='+'\x201.0\x20/\x20(1.'+'0\x20+\x20n.z);\x0a'+'\x20\x20\x20\x20float\x20'+'b\x20=\x20-n.x\x20*'+'\x20n.y\x20*\x20a;\x0a'+'\x20\x20\x20\x20vec3\x20b'+'1\x20=\x20vec3(1'+'.0\x20-\x20n.x\x20*'+'\x20n.x\x20*\x20a,\x20'+'b,\x20-n.x);\x0a'+'\x20\x20\x20\x20vec3\x20b'+'2\x20=\x20vec3(b'+',\x201.0\x20-\x20n.'+'y\x20*\x20n.y\x20*\x20'+'a,\x20-n.y);\x0a'+'\x20\x20\x20\x20return'+'\x20mat3(b1,\x20'+'b2,\x20n);\x0a}\x0a'+'\x0amat3\x20matr'+'ixFromVect'+'orSlow(vec'+'3\x20n)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20up\x20='+'\x20(1.0\x20-\x20ab'+'s(n.y)\x20<=\x20'+'0.0000001)'+'\x20?\x20vec3(0.'+'0,\x200.0,\x20n.'+'y\x20>\x200.0\x20?\x20'+'1.0\x20:\x20-1.0'+')\x20:\x20vec3(0'+'.0,\x201.0,\x200'+'.0);\x0a\x20\x20\x20\x20v'+'ec3\x20x\x20=\x20no'+'rmalize(cr'+'oss(up,\x20n)'+');\x0a\x20\x20\x20\x20vec'+'3\x20y\x20=\x20cros')+('s(n,\x20x);\x0a\x20'+'\x20\x20\x20return\x20'+'mat3(x,\x20y,'+'\x20n);\x0a}\x0a\x0ave'+'c4\x20reproje'+'ct()\x20{\x0a\x20\x20\x20'+'\x20if\x20({NUM_'+'SAMPLES}\x20<'+'=\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20si'+'ngle\x20sampl'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20{EN'+'CODE_FUNC}'+'({DECODE_F'+'UNC}({SOUR'+'CE_FUNC}({'+'TARGET_FUN'+'C}())));\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20multi\x20s'+'ample\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20t'+'\x20=\x20{TARGET'+'_FUNC}();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20tu\x20=\x20dF'+'dx(t);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'tv\x20=\x20dFdy('+'t);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(float\x20u\x20='+'\x200.0;\x20u\x20<\x20'+'{NUM_SAMPL'+'ES_SQRT};\x20'+'++u)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(float\x20'+'v\x20=\x200.0;\x20v'+'\x20<\x20{NUM_SA'+'MPLES_SQRT'+'};\x20++v)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20{DEC'+'ODE_FUNC}('+'{SOURCE_FU'+'NC}(normal'+'ize(t\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20tu'+'\x20*\x20(u\x20/\x20{N'+'UM_SAMPLES'+'_SQRT}\x20-\x200'+'.5)\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20tv\x20*'+'\x20(v\x20/\x20{NUM'+'_SAMPLES_S'+'QRT}\x20-\x200.5'+'))));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}(r'+'esult\x20/\x20({'+'NUM_SAMPLE'+'S_SQRT}\x20*\x20'+'{NUM_SAMPL'+'ES_SQRT}))'+';\x0a\x20\x20\x20\x20}\x0a}\x0a'+'\x0avec4\x20unpa'+'ckFloat\x20=\x20'+'vec4(1.0,\x20'+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x206'+'5025.0,\x201.'+'0\x20/\x20165813'+'75.0);\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20void\x20'+'unpackSamp'+'le(int\x20i,\x20'+'out\x20vec3\x20L'+',\x20out\x20floa')+('t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20u\x20'+'=\x20(float(i'+'\x20*\x204)\x20+\x200.'+'5)\x20*\x20sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20v\x20=\x20(f'+'loor(u)\x20+\x20'+'0.5)\x20*\x20sam'+'plesTexInv'+'erseSize.y'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20raw;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'aw.x\x20=\x20dot'+'(texture2D'+'(samplesTe'+'x,\x20vec2(u,'+'\x20v)),\x20unpa'+'ckFloat);\x20'+'u\x20+=\x20sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ra'+'w.y\x20=\x20dot('+'texture2D('+'samplesTex'+',\x20vec2(u,\x20'+'v)),\x20unpac'+'kFloat);\x20u'+'\x20+=\x20sample'+'sTexInvers'+'eSize.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20raw'+'.z\x20=\x20dot(t'+'exture2D(s'+'amplesTex,'+'\x20vec2(u,\x20v'+')),\x20unpack'+'Float);\x20u\x20'+'+=\x20samples'+'TexInverse'+'Size.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20raw.'+'w\x20=\x20dot(te'+'xture2D(sa'+'mplesTex,\x20'+'vec2(u,\x20v)'+'),\x20unpackF'+'loat);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20L.xy'+'z\x20=\x20raw.xy'+'z\x20*\x202.0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mipLeve'+'l\x20=\x20raw.w\x20'+'*\x208.0;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20convolve\x20'+'an\x20environ'+'ment\x20given'+'\x20pre-gener'+'ated\x20sampl'+'es\x0a\x20\x20\x20\x20vec'+'4\x20prefilte'+'rSamples()'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20constr'+'uct\x20vector'+'\x20space\x20giv'+'en\x20target\x20'+'direction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t3\x20vecSpac'+'e\x20=\x20matrix'+'FromVector'+'Slow({TARG'+'ET_FUNC}()'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20L;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20mipLev'+'el;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20++i)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20unpackS'+'ample(i,\x20L')+(',\x20mipLevel'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20{DECO'+'DE_FUNC}({'+'SOURCE_FUN'+'C}(vecSpac'+'e\x20*\x20L,\x20mip'+'Level))\x20*\x20'+'L.z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20tot'+'alWeight\x20+'+'=\x20L.z;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20{ENCODE'+'_FUNC}(res'+'ult\x20/\x20tota'+'lWeight);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20//\x20unweig'+'hted\x20versi'+'on\x20of\x20pref'+'ilterSampl'+'es\x0a\x20\x20\x20\x20vec'+'4\x20prefilte'+'rSamplesUn'+'weighted()'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20constr'+'uct\x20vector'+'\x20space\x20giv'+'en\x20target\x20'+'direction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t3\x20vecSpac'+'e\x20=\x20matrix'+'FromVector'+'Slow({TARG'+'ET_FUNC}()'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20L;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20mipLev'+'el;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20++i)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20unpackS'+'ample(i,\x20L'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20{DECO'+'DE_FUNC}({'+'SOURCE_FUN'+'C}(vecSpac'+'e\x20*\x20L,\x20mip'+'Level));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}(r'+'esult\x20/\x20fl'+'oat({NUM_S'+'AMPLES}));'+'\x0a\x20\x20\x20\x20}\x0a#en'+'dif\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20{PROCESS'+'_FUNC}();\x0a'+'}\x0a'),h2='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0auniform'+'\x20vec4\x20uvMo'+'d;\x0avarying'+'\x20vec2\x20vUv0'+';\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20v'+'ec4(vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20vUv0'+'\x20=\x20getImag'+'eEffectUV('+'(vertex_po'+'sition.xy\x20'+'*\x200.5\x20+\x200.'+'5)\x20*\x20uvMod'+'.xy\x20+\x20uvMo'+'d.zw);\x0a}\x0a',d2='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20uScen'+'eDepthMap;'+'\x0a\x0a#ifndef\x20'+'SCREENSIZE'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SCREENS'+'IZE\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20VIEWMAT'+'RIX\x0a\x20\x20\x20\x20un'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a\x20\x20\x20\x20'+'#define\x20LI'+'NEARIZE_DE'+'PTH\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20#ifndef'+'\x20CAMERAPLA'+'NES\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'CAMERAPLAN'+'ES\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20v'+'ec4\x20camera'+'_params;\x20/'+'/\x20x:\x201\x20/\x20c'+'amera_far,'+'\x20\x20\x20\x20\x20\x20y:\x20c'+'amera_far,'+'\x20\x20\x20\x20\x20z:\x20ca'+'mera_near,'+'\x20\x20\x20\x20\x20\x20\x20\x20w:'+'\x20is_ortho\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20lineariz'+'eDepth(flo'+'at\x20z)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'camera_par'+'ams.w\x20==\x200'+'.0)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20(camera'+'_params.z\x20'+'*\x20camera_p'+'arams.y)\x20/'+'\x20(camera_p'+'arams.y\x20+\x20'+'z\x20*\x20(camer'+'a_params.z'+'\x20-\x20camera_'+'params.y))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20camera'+'_params.z\x20'+'+\x20z\x20*\x20(cam'+'era_params'+'.y\x20-\x20camer'+'a_params.z'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0aflo'+'at\x20delinea'+'rizeDepth('+'float\x20line'+'arDepth)\x20{'+'\x0a\x20\x20\x20\x20if\x20(c'+'amera_para'+'ms.w\x20==\x200.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'(camera_pa'+'rams.y\x20*\x20('+'camera_par'+'ams.z\x20-\x20li'+'nearDepth)'+')\x20/\x20(linea'+'rDepth\x20*\x20('+'camera_par'+'ams.z\x20-\x20ca'+'mera_param'+'s.y));\x0a\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(line'+'arDepth\x20-\x20'+'camera_par'+'ams.z)\x20/\x20('+('camera_par'+'ams.y\x20-\x20ca'+'mera_param'+'s.z);\x0a\x20\x20\x20\x20'+'}\x0a}\x0a\x0a//\x20Re'+'trieves\x20re'+'ndered\x20lin'+'ear\x20camera'+'\x20depth\x20by\x20'+'UV\x0afloat\x20g'+'etLinearSc'+'reenDepth('+'vec2\x20uv)\x20{'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SCENE_DE'+'PTHMAP_LIN'+'EAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'CENE_DEPTH'+'MAP_FLOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'exture2D(u'+'SceneDepth'+'Map,\x20uv).r'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20textu'+'reSize\x20=\x20t'+'extureSize'+'(uSceneDep'+'thMap,\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ivec2\x20t'+'exel\x20=\x20ive'+'c2(uv\x20*\x20ve'+'c2(texture'+'Size));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20data\x20'+'=\x20texelFet'+'ch(uSceneD'+'epthMap,\x20t'+'exel,\x200);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(data.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(uint(d'+'ata.g\x20*\x2025'+'5.0)\x20<<\x2016'+'u)\x20|\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(uint(dat'+'a.b\x20*\x20255.'+'0)\x20<<\x208u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ui'+'nt(data.a\x20'+'*\x20255.0);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'uintBitsTo'+'Float(intB'+'its);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20line'+'arizeDepth'+'(texture2D'+'(uSceneDep'+'thMap,\x20uv)'+'.r);\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a\x0a#'+'ifndef\x20VER'+'TEXSHADER\x0a'+'\x20\x20\x20\x20//\x20Ret'+'rieves\x20ren'+'dered\x20line'+'ar\x20camera\x20'+'depth\x20unde'+'r\x20the\x20curr'+'ent\x20pixel\x0a'+'\x20\x20\x20\x20float\x20'+'getLinearS'+'creenDepth'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20uv'+'\x20=\x20gl_Frag'+'Coord.xy\x20*'+'\x20uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur')+('n\x20getLinea'+'rScreenDep'+'th(uv);\x0a\x20\x20'+'\x20\x20}\x0a#endif'+'\x0a\x0a//\x20Gener'+'ates\x20linea'+'r\x20camera\x20d'+'epth\x20for\x20t'+'he\x20given\x20w'+'orld\x20posit'+'ion\x0afloat\x20'+'getLinearD'+'epth(vec3\x20'+'pos)\x20{\x0a\x20\x20\x20'+'\x20return\x20-('+'matrix_vie'+'w\x20*\x20vec4(p'+'os,\x201.0)).'+'z;\x0a}\x0a'),f2='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x20\x0ai'+'nt\x20getShad'+'owCascadeI'+'ndex(vec4\x20'+'shadowCasc'+'adeDistanc'+'es,\x20int\x20sh'+'adowCascad'+'eCount)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20in\x200\x20.'+'.\x20far\x20plan'+'e\x20range\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x0a\x20'+'\x20\x20\x20//\x201.0\x20'+'if\x20depth\x20>'+'=\x20distance'+',\x200.0\x20othe'+'rwise\x0a\x20\x20\x20\x20'+'vec4\x20compa'+'risons\x20=\x20s'+'tep(shadow'+'CascadeDis'+'tances,\x20ve'+'c4(depth))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'sum\x20is\x20the'+'\x20index\x0a\x20\x20\x20'+'\x20int\x20casca'+'deIndex\x20=\x20'+'int(dot(co'+'mparisons,'+'\x20vec4(1.0)'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20limit\x20to'+'\x20actual\x20nu'+'mber\x20of\x20us'+'ed\x20cascade'+'s\x0a\x20\x20\x20\x20retu'+'rn\x20min(cas'+'cadeIndex,'+'\x20shadowCas'+'cadeCount\x20'+'-\x201);\x0a}\x0a\x0a/'+'/\x20function'+'\x20which\x20mod'+'ifies\x20casc'+'ade\x20index\x20'+'to\x20dither\x20'+'between\x20ca'+'scades\x0aint'+'\x20ditherSha'+'dowCascade'+'Index(int\x20'+'cascadeInd'+'ex,\x20vec4\x20s'+'hadowCasca'+'deDistance'+'s,\x20int\x20sha'+'dowCascade'+'Count,\x20flo'+'at\x20blendFa'+'ctor)\x20{\x0a\x20\x0a'+'\x20\x20\x20\x20if\x20(ca'+'scadeIndex'+'\x20<\x20shadowC'+'ascadeCoun'+'t\x20-\x201)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20current'+'RangeEnd\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20transit'+'ionStart\x20='+'\x20blendFact'+'or\x20*\x20curre'+'ntRangeEnd'+';\x20//\x20Start'+'\x20overlap\x20f'+'actor\x20away'+'\x20from\x20the\x20'+'end\x20distan'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x201.0\x20/'+('\x20gl_FragCo'+'ord.w;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'depth\x20>\x20tr'+'ansitionSt'+'art)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Calculat'+'e\x20a\x20transi'+'tion\x20facto'+'r\x20(0.0\x20to\x20'+'1.0)\x20withi'+'n\x20the\x20over'+'lap\x20range\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20tr'+'ansitionFa'+'ctor\x20=\x20smo'+'othstep(tr'+'ansitionSt'+'art,\x20curre'+'ntRangeEnd'+',\x20depth);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Add\x20'+'pseudo-ran'+'dom\x20dither'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ODO:\x20repla'+'ce\x20by\x20user'+'\x20selectabl'+'e\x20ditherin'+'g\x20method\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dit'+'her\x20=\x20frac'+'t(sin(dot('+'gl_FragCoo'+'rd.xy,\x20vec'+'2(12.9898,'+'\x2078.233)))'+'\x20*\x2043758.5'+'453);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(dither\x20<'+'\x20transitio'+'nFactor)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cas'+'cadeIndex\x20'+'+=\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20return\x20ca'+'scadeIndex'+';\x0a}\x0a\x0avec3\x20'+'fadeShadow'+'(vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'CascadeDis'+'tances)\x20{\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20//\x20if\x20th'+'e\x20pixel\x20is'+'\x20past\x20the\x20'+'shadow\x20dis'+'tance,\x20rem'+'ove\x20shadow'+'\x0a\x20\x20\x20\x20//\x20th'+'is\x20enforce'+'s\x20straight'+'\x20line\x20inst'+'ead\x20of\x20cor'+'ner\x20of\x20sha'+'dow\x20which\x20'+'moves\x20when'+'\x20camera\x20ro'+'tates\x20\x20\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x20\x20'+'\x20\x20if\x20(dept'+'h\x20>\x20shadow'+'CascadeDis'+'tances.w)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'shadowCoor'+'d.z\x20=\x20-999'+'9999.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20shad'+'owCoord;\x0a}'+'\x0a'),u2='\x0a\x0a//\x20-----'+'-\x20VSM\x20Shar'+'ed\x20------\x0a'+'\x0afloat\x20lin'+'step(float'+'\x20a,\x20float\x20'+'b,\x20float\x20v'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20satur'+'ate((v\x20-\x20a'+')\x20/\x20(b\x20-\x20a'+'));\x0a}\x0a\x0aflo'+'at\x20reduceL'+'ightBleedi'+'ng(float\x20p'+'Max,\x20float'+'\x20amount)\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'float\x20cheb'+'yshevUpper'+'Bound(vec2'+'\x20moments,\x20'+'float\x20mean'+',\x20float\x20mi'+'nVariance,'+'\x20float\x20lig'+'htBleeding'+'Reduction)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'Compute\x20va'+'riance\x0a\x20\x20\x20'+'\x20float\x20var'+'iance\x20=\x20mo'+'ments.y\x20-\x20'+'(moments.x'+'\x20*\x20moments'+'.x);\x0a\x20\x20\x20\x20v'+'ariance\x20=\x20'+'max(varian'+'ce,\x20minVar'+'iance);\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20probab'+'ilistic\x20up'+'per\x20bound\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20mean\x20-'+'\x20moments.x'+';\x0a\x20\x20\x20\x20floa'+'t\x20pMax\x20=\x20v'+'ariance\x20/\x20'+'(variance\x20'+'+\x20(d\x20*\x20d))'+';\x0a\x0a\x20\x20\x20\x20pMa'+'x\x20=\x20reduce'+'LightBleed'+'ing(pMax,\x20'+'lightBleed'+'ingReducti'+'on);\x0a\x0a\x20\x20\x20\x20'+'//\x20One-tai'+'led\x20Chebys'+'hev\x0a\x20\x20\x20\x20re'+'turn\x20(mean'+'\x20<=\x20moment'+'s.x\x20?\x201.0\x20'+':\x20pMax);\x0a}'+'\x0a\x0afloat\x20ca'+'lculateEVS'+'M(vec3\x20mom'+'ents,\x20floa'+'t\x20Z,\x20float'+'\x20vsmBias,\x20'+'float\x20expo'+'nent)\x20{\x0a\x20\x20'+'\x20\x20Z\x20=\x202.0\x20'+'*\x20Z\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20warpedDep'+'th\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20m'+'oments.xy\x20'+'+=\x20vec2(wa'+'rpedDepth,'+'\x20warpedDep'+'th*warpedD'+'epth)\x20*\x20(1'+'.0\x20-\x20momen'+'ts.z);\x0a\x0a\x20\x20'+('\x20\x20float\x20VS'+'MBias\x20=\x20vs'+'mBias;//0.'+'01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20float'+'\x20depthScal'+'e\x20=\x20VSMBia'+'s\x20*\x20expone'+'nt\x20*\x20warpe'+'dDepth;\x0a\x20\x20'+'\x20\x20float\x20mi'+'nVariance1'+'\x20=\x20depthSc'+'ale\x20*\x20dept'+'hScale;\x0a\x20\x20'+'\x20\x20return\x20c'+'hebyshevUp'+'perBound(m'+'oments.xy,'+'\x20warpedDep'+'th,\x20minVar'+'iance1,\x200.'+'1);\x0a}\x0a\x0a//\x20'+'------\x20VSM'+'\x2016\x20------'+'\x0a\x0afloat\x20VS'+'M16(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec2\x20'+'texCoords,'+'\x20float\x20res'+'olution,\x20f'+'loat\x20Z,\x20fl'+'oat\x20vsmBia'+'s,\x20float\x20e'+'xponent)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'moments\x20=\x20'+'texture2DL'+'od(tex,\x20te'+'xCoords,\x200'+'.0).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM16('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20VSM16(T'+'EXTURE_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'VSM16(TEXT'+'URE_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams,\x20'+'float\x20expo'+'nent,\x20vec3'+'\x20lightDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20VSM16('+'TEXTURE_PA'+'SS(shadowM'+'ap),\x20shado'+'wCoord.xy,'+'\x20shadowPar'+'ams.x,\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z,\x20s'+'hadowParam'+'s.y,\x20expon'+'ent);\x0a}\x0a\x0a/'+'/\x20------\x20V'+'SM\x2032\x20----')+('--\x0a\x0afloat\x20'+'VSM32(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20texCoord'+'s,\x20float\x20r'+'esolution,'+'\x20float\x20Z,\x20'+'float\x20vsmB'+'ias,\x20float'+'\x20exponent)'+'\x20{\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20CAPS_'+'TEXTURE_FL'+'OAT_FILTER'+'ABLE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20te'+'xture2DLod'+'(tex,\x20texC'+'oords,\x200.0'+').xyz;\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ma'+'nual\x20bilin'+'ear\x20filter'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pi'+'xelSize\x20=\x20'+'1.0\x20/\x20reso'+'lution;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20texC'+'oords\x20-=\x20v'+'ec2(pixelS'+'ize);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'00\x20=\x20textu'+'re2DLod(te'+'x,\x20texCoor'+'ds,\x200.0).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20s10'+'\x20=\x20texture'+'2DLod(tex,'+'\x20texCoords'+'\x20+\x20vec2(pi'+'xelSize,\x200'+'),\x200.0).xy'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20s01\x20'+'=\x20texture2'+'DLod(tex,\x20'+'texCoords\x20'+'+\x20vec2(0,\x20'+'pixelSize)'+',\x200.0).xyz'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20s11\x20='+'\x20texture2D'+'Lod(tex,\x20t'+'exCoords\x20+'+'\x20vec2(pixe'+'lSize),\x200.'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20fr\x20=\x20frac'+'t(texCoord'+'s\x20*\x20resolu'+'tion);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'h0\x20=\x20mix(s'+'00,\x20s10,\x20f'+'r.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20h'+'1\x20=\x20mix(s0'+'1,\x20s11,\x20fr'+'.x);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20mi'+'x(h0,\x20h1,\x20'+'fr.y);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM32('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20VSM32(T')+('EXTURE_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'VSM32(TEXT'+'URE_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams,\x20'+'float\x20expo'+'nent,\x20vec3'+'\x20lightDir)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20Z\x20=\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20return\x20'+'VSM32(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20shadowCoo'+'rd.xy,\x20sha'+'dowParams.'+'x,\x20Z,\x20shad'+'owParams.y'+',\x20exponent'+');\x0a}\x0a'),p2='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20g'+'etShadowPC'+'F1x1(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20textur'+'eShadow(sh'+'adowMap,\x20s'+'hadowCoord'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wSpotPCF1x'+'1(SHADOWMA'+'P_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20textureSh'+'adow(shado'+'wMap,\x20shad'+'owCoord);\x0a'+'}\x0a\x0a//\x20----'+'-\x20Omni\x20Sam'+'pling\x20----'+'-\x0a\x0a#ifndef'+'\x20WEBGPU\x0a\x0af'+'loat\x20getSh'+'adowOmniPC'+'F1x1(sampl'+'erCubeShad'+'ow\x20shadowM'+'ap,\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20return'+'\x20texture(s'+'hadowMap,\x20'+'vec4(light'+'Dir,\x20shado'+'wZ));\x0a}\x0a\x0a#'+'endif\x0a',m2='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec3\x20sh'+'adowParams'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20sh'+'adowCoord.'+'z;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sha'+'dowCoord.x'+'y\x20*\x20shadow'+'Params.x;\x20'+'//\x201\x20unit\x20'+'-\x201\x20texel\x0a'+'\x20\x20\x20\x20float\x20'+'shadowMapS'+'izeInv\x20=\x201'+'.0\x20/\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'base_uv\x20=\x20'+'floor(uv\x20+'+'\x200.5);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20(uv.x\x20+\x200'+'.5\x20-\x20base_'+'uv.x);\x0a\x20\x20\x20'+'\x20float\x20t\x20='+'\x20(uv.y\x20+\x200'+'.5\x20-\x20base_'+'uv.y);\x20\x0a\x20\x20'+'\x20\x20base_uv\x20'+'-=\x20vec2(0.'+'5);\x0a\x20\x20\x20\x20ba'+'se_uv\x20*=\x20s'+'hadowMapSi'+'zeInv;\x0a\x0a\x20\x20'+'\x20\x20float\x20su'+'m\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'uw0\x20=\x20(3.0'+'\x20-\x202.0\x20*\x20s'+');\x0a\x20\x20\x20\x20flo'+'at\x20uw1\x20=\x20('+'1.0\x20+\x202.0\x20'+'*\x20s);\x0a\x0a\x20\x20\x20'+'\x20float\x20u0\x20'+'=\x20(2.0\x20-\x20s'+')\x20/\x20uw0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20f'+'loat\x20u1\x20=\x20'+'s\x20/\x20uw1\x20+\x20'+'1.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(3.0\x20-\x202'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x20(1.0\x20'+'+\x202.0\x20*\x20t)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20v0\x20=\x20(2'+'.0\x20-\x20t)\x20/\x20'+'vw0\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20v1\x20=\x20t\x20/\x20'+'vw1\x20+\x201.0;'+'\x0a\x0a\x20\x20\x20\x20u0\x20='+'\x20u0\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v0\x20=\x20v0\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u1\x20=\x20'+'u1\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'1\x20=\x20v1\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+('sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw0\x20*\x20v'+'w1\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u0,\x20v'+'1,\x20z));\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w1\x20*\x20vw1\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u1,\x20v1,\x20z'+'));\x0a\x0a\x20\x20\x20\x20s'+'um\x20*=\x201.0f'+'\x20/\x2016.0;\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowPCF3x3('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_PASS'+'(shadowMap'+'),\x20shadowC'+'oord,\x20shad'+'owParams.x'+'yz);\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowSpotPCF'+'3x3(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF3x3('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a\x0a//\x20-----'+'\x20Omni\x20Samp'+'ling\x20-----'+'\x0a\x0a#ifndef\x20'+'WEBGPU\x0a\x0afl'+'oat\x20getSha'+'dowOmniPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec4\x20sh'+'adowParams'+',\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Z\x20=\x20length'+'(dir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x0a\x20\x20\x20\x20'+'float\x20z\x20=\x20'+'1.0\x20/\x20floa'+'t(textureS'+'ize(shadow'+'Map,\x200));\x0a'+'\x20\x20\x20\x20vec3\x20t'+'c\x20=\x20normal'+'ize(dir);\x0a'+'\x0a\x20\x20\x20\x20//\x20av'+'erage\x204\x20sa'+'mples\x20-\x20no'+'t\x20a\x20strict')+('\x203x3\x20PCF\x20b'+'ut\x20that\x27s\x20'+'tricky\x20wit'+'h\x20cubemaps'+'\x0a\x20\x20\x20\x20mediu'+'mp\x20vec4\x20sh'+'adows;\x0a\x20\x20\x20'+'\x20shadows.x'+'\x20=\x20texture'+'(shadowMap'+',\x20vec4(tc\x20'+'+\x20vec3(\x20z,'+'\x20z,\x20z),\x20sh'+'adowZ));\x0a\x20'+'\x20\x20\x20shadows'+'.y\x20=\x20textu'+'re(shadowM'+'ap,\x20vec4(t'+'c\x20+\x20vec3(-'+'z,-z,\x20z),\x20'+'shadowZ));'+'\x0a\x20\x20\x20\x20shado'+'ws.z\x20=\x20tex'+'ture(shado'+'wMap,\x20vec4'+'(tc\x20+\x20vec3'+'(-z,\x20z,-z)'+',\x20shadowZ)'+');\x0a\x20\x20\x20\x20sha'+'dows.w\x20=\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(tc\x20+\x20ve'+'c3(\x20z,-z,-'+'z),\x20shadow'+'Z));\x0a\x0a\x20\x20\x20\x20'+'return\x20dot'+'(shadows,\x20'+'vec4(0.25)'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wOmniPCF3x'+'3(samplerC'+'ubeShadow\x20'+'shadowMap,'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20lightDi'+'r)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20getS'+'hadowOmniP'+'CF3x3(shad'+'owMap,\x20sha'+'dowParams,'+'\x20lightDir)'+';\x0a}\x0a\x0a#endi'+'f\x0a'),_2='\x0afloat\x20_ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec3\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20//\x20h'+'ttp://the-'+'witness.ne'+'t/news/201'+'3/09/shado'+'w-mapping-'+'summary-pa'+'rt-1/\x0a\x0a\x20\x20\x20'+'\x20float\x20z\x20='+'\x20shadowCoo'+'rd.z;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'shadowCoor'+'d.xy\x20*\x20sha'+'dowParams.'+'x;\x20//\x201\x20un'+'it\x20-\x201\x20tex'+'el\x0a\x20\x20\x20\x20flo'+'at\x20shadowM'+'apSizeInv\x20'+'=\x201.0\x20/\x20sh'+'adowParams'+'.x;\x0a\x20\x20\x20\x20ve'+'c2\x20base_uv'+'\x20=\x20floor(u'+'v\x20+\x200.5);\x0a'+'\x20\x20\x20\x20float\x20'+'s\x20=\x20(uv.x\x20'+'+\x200.5\x20-\x20ba'+'se_uv.x);\x0a'+'\x20\x20\x20\x20float\x20'+'t\x20=\x20(uv.y\x20'+'+\x200.5\x20-\x20ba'+'se_uv.y);\x0a'+'\x20\x20\x20\x20base_u'+'v\x20-=\x20vec2('+'0.5);\x0a\x20\x20\x20\x20'+'base_uv\x20*='+'\x20shadowMap'+'SizeInv;\x0a\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20uw0\x20=\x20(4.'+'0\x20-\x203.0\x20*\x20'+'s);\x0a\x20\x20\x20\x20fl'+'oat\x20uw1\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20f'+'loat\x20uw2\x20='+'\x20(1.0\x20+\x203.'+'0\x20*\x20s);\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'0\x20=\x20(3.0\x20-'+'\x202.0\x20*\x20s)\x20'+'/\x20uw0\x20-\x202.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20u1\x20=\x20(3'+'.0\x20+\x20s)\x20/\x20'+'uw1;\x0a\x20\x20\x20\x20f'+'loat\x20u2\x20=\x20'+'s\x20/\x20uw2\x20+\x20'+'2.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(4.0\x20-\x203'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x207.0;\x0a'+'\x20\x20\x20\x20float\x20'+'vw2\x20=\x20(1.0'+'\x20+\x203.0\x20*\x20t'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20v0\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20t)\x20/\x20vw0'+'\x20-\x202.0;\x0a\x20\x20'+'\x20\x20float\x20v1'+'\x20=\x20(3.0\x20+\x20'+'t)\x20/\x20vw1;\x0a'+'\x20\x20\x20\x20float\x20'+'v2\x20=\x20t\x20/\x20v'+'w2\x20+\x202.0;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20sum\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20u0\x20'+'=\x20u0\x20*\x20sha'+'dowMapSize'+'Inv\x20+\x20base'+'_uv.x;\x0a\x20\x20\x20'+'\x20v0\x20=\x20v0\x20*'+'\x20shadowMap'+'SizeInv\x20+\x20'+'base_uv.y;'+'\x0a\x0a\x20\x20\x20\x20u1\x20='+('\x20u1\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v1\x20=\x20v1\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u2\x20=\x20'+'u2\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'2\x20=\x20v2\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+'sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw2\x20*\x20v'+'w0\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u2,\x20v'+'0,\x20z));\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw1\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v1,\x20'+'z));\x0a\x20\x20\x20\x20s'+'um\x20+=\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v1,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw2\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u2,\x20v1'+',\x20z));\x0a\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w0\x20*\x20vw2\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u0,\x20v2,\x20z'+'));\x0a\x20\x20\x20\x20su'+'m\x20+=\x20uw1\x20*'+'\x20vw2\x20*\x20tex'+'tureShadow'+'(shadowMap'+',\x20vec3(u1,'+'\x20v2,\x20z));\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw2\x20*\x20vw2'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u2,\x20v2,'+'\x20z));\x0a\x0a\x20\x20\x20'+'\x20sum\x20*=\x201.'+'0f\x20/\x20144.0'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20saturate'+'(sum);\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'um;\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCF5x5(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20_g'+'etShadowPC'+'F5x5(SHADO'+'WMAP_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20shado')+('wParams.xy'+'z);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owSpotPCF5'+'x5(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getShad'+'owPCF5x5(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s.xyz);\x0a}\x0a'),g2='\x0a\x0a/**\x0a\x20*\x20P'+'CSS\x20is\x20a\x20s'+'hadow\x20samp'+'ling\x20metho'+'d\x20that\x20pro'+'vides\x20cont'+'act\x20harden'+'ing\x20soft\x20s'+'hadows,\x20us'+'ed\x20for\x20omn'+'i\x20and\x20spot'+'\x20lights.\x0a\x20'+'*\x20Based\x20on'+':\x20\x0a\x20*\x20-\x20ht'+'tps://www.'+'gamedev.ne'+'t/tutorial'+'s/programm'+'ing/graphi'+'cs/effect-'+'area-light'+'-shadows-p'+'art-1-pcss'+'-r4971/\x0a\x20*'+'\x20-\x20https:/'+'/github.co'+'m/pboechat'+'/PCSS\x20\x0a\x20*/'+'\x0a\x0a#define\x20'+'PCSS_SAMPL'+'E_COUNT\x2016'+'\x0a\x0auniform\x20'+'float\x20pcss'+'DiskSample'+'s[PCSS_SAM'+'PLE_COUNT]'+';\x0auniform\x20'+'float\x20pcss'+'SphereSamp'+'les[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x0avec2\x20'+'vogelDisk('+'int\x20sample'+'Index,\x20flo'+'at\x20count,\x20'+'float\x20phi,'+'\x20float\x20r)\x20'+'{\x0a\x20\x20\x20\x20cons'+'t\x20float\x20Go'+'ldenAngle\x20'+'=\x202.4;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta\x20=\x20float'+'(sampleInd'+'ex)\x20*\x20Gold'+'enAngle\x20+\x20'+'phi;\x0a\x0a\x20\x20\x20\x20'+'float\x20sine'+'\x20=\x20sin(the'+'ta);\x0a\x20\x20\x20\x20f'+'loat\x20cosin'+'e\x20=\x20cos(th'+'eta);\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(r\x20*\x20cosi'+'ne,\x20r\x20*\x20si'+'ne);\x0a}\x0a\x0ave'+'c3\x20vogelSp'+'here(int\x20s'+'ampleIndex'+',\x20float\x20co'+'unt,\x20float'+'\x20phi,\x20floa'+'t\x20r)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20GoldenA'+'ngle\x20=\x202.4'+';\x0a\x20\x20\x20\x20floa'+'t\x20theta\x20=\x20'+'float(samp'+'leIndex)\x20*'+'\x20GoldenAng'+'le\x20+\x20phi;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20weight\x20=\x20'+'float(samp'+'leIndex)\x20/'+'\x20count;\x0a\x20\x20'+'\x20\x20return\x20v'+'ec3(cos(th'+'eta)\x20*\x20r,\x20'+'weight,\x20si'+'n(theta)\x20*'+'\x20r);\x0a}\x0a\x0afl'+'oat\x20noise('+'vec2\x20scree'+'nPos)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PHI\x20=\x20'+('1.61803398'+'8749894848'+'20459;\x20\x20//'+'\x20\x20=\x20Golde'+'n\x20Ratio\x20\x20\x20'+'\x0a\x20\x20\x20\x20retur'+'n\x20fract(si'+'n(dot(scre'+'enPos\x20*\x20PH'+'I,\x20screenP'+'os))\x20*\x20scr'+'eenPos.x);'+'\x0a}\x0a\x0afloat\x20'+'viewSpaceD'+'epth(float'+'\x20depth,\x20ma'+'t4\x20invProj'+'ection)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'z\x20=\x20depth\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20vec'+'4\x20clipSpac'+'e\x20=\x20vec4(0'+'.0,\x200.0,\x20z'+',\x201.0);\x0a\x20\x20'+'\x20\x20vec4\x20vie'+'wSpace\x20=\x20i'+'nvProjecti'+'on\x20*\x20clipS'+'pace;\x0a\x20\x20\x20\x20'+'return\x20vie'+'wSpace.z;\x0a'+'}\x0a\x0afloat\x20P'+'CSSBlocker'+'Distance(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20sampleCoo'+'rds[PCSS_S'+'AMPLE_COUN'+'T],\x20vec2\x20s'+'hadowCoord'+'s,\x20vec2\x20se'+'archSize,\x20'+'float\x20z,\x20v'+'ec4\x20camera'+'Params)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20blockers\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20float\x20ave'+'rageBlocke'+'r\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20offset\x20='+'\x20sampleCoo'+'rds[i]\x20*\x20s'+'earchSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20sample'+'UV\x20=\x20shado'+'wCoords\x20+\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20blocker'+'\x20=\x20texture'+'2DLod(shad'+'owMap,\x20sam'+'pleUV,\x200.0'+').r;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20i'+'sBlocking\x20'+'=\x20step(blo'+'cker,\x20z);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20bl'+'ockers\x20+=\x20'+'isBlocking'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'averageBlo'+'cker\x20+=\x20bl'+'ocker\x20*\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20if\x20(block'+'ers\x20>\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20aver'+'ageBlocker'+'\x20/\x20blocker'+'s;\x0a\x20\x20\x20\x20ret'+'urn\x20-1.0;\x0a'+'}\x0a\x0afloat\x20P'+'CSS(TEXTUR')+('E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoords,\x20'+'vec4\x20camer'+'aParams,\x20v'+'ec2\x20shadow'+'SearchArea'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'linearizeD'+'epthWithPa'+'rams(shado'+'wCoords.z,'+'\x20cameraPar'+'ams);\x0a\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePoints[P'+'CSS_SAMPLE'+'_COUNT];\x0a\x20'+'\x20\x20\x20const\x20f'+'loat\x20PI\x20=\x20'+'3.14159265'+'3589793;\x0a\x20'+'\x20\x20\x20float\x20n'+'oise\x20=\x20noi'+'se(\x20gl_Fra'+'gCoord.xy\x20'+')\x20*\x202.0\x20*\x20'+'PI;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x200;\x20i\x20<\x20PC'+'SS_SAMPLE_'+'COUNT;\x20i++'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pc'+'ssPresampl'+'e\x20=\x20pcssDi'+'skSamples['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20samplePo'+'ints[i]\x20=\x20'+'vogelDisk('+'i,\x20float(P'+'CSS_SAMPLE'+'_COUNT),\x20n'+'oise,\x20pcss'+'Presample)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20a'+'verageBloc'+'ker\x20=\x20PCSS'+'BlockerDis'+'tance(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20samplePoi'+'nts,\x20shado'+'wCoords.xy'+',\x20shadowSe'+'archArea,\x20'+'receiverDe'+'pth,\x20camer'+'aParams);\x0a'+'\x20\x20\x20\x20if\x20(av'+'erageBlock'+'er\x20==\x20-1.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x201'+'.0;\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depthDiff'+'erence\x20=\x20('+'receiverDe'+'pth\x20-\x20aver'+'ageBlocker'+')\x20/\x203.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20filterRa'+'dius\x20=\x20dep'+'thDifferen'+'ce\x20*\x20shado'+'wSearchAre'+'a;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20PCSS_SAMP'+'LE_COUNT;\x20'+'i\x20++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20sampleU'+'V\x20=\x20sample'+'Points[i]\x20'+'*\x20filterRa')+('dius;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleUV\x20=\x20s'+'hadowCoord'+'s.xy\x20+\x20sam'+'pleUV;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20textur'+'e2DLod(sha'+'dowMap,\x20sa'+'mpleUV,\x200.'+'0).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20shadow\x20/\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT);\x0a\x20\x20\x20\x20'+'}\x20\x0a}\x0a\x0a#ifn'+'def\x20WEBGPU'+'\x0a\x0afloat\x20PC'+'SSCubeBloc'+'kerDistanc'+'e(samplerC'+'ube\x20shadow'+'Map,\x20vec3\x20'+'lightDirNo'+'rm,\x20vec3\x20s'+'amplePoint'+'s[PCSS_SAM'+'PLE_COUNT]'+',\x20float\x20z,'+'\x20float\x20sha'+'dowSearchA'+'rea)\x20{\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckers\x20=\x200.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20average'+'Blocker\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20P'+'CSS_SAMPLE'+'_COUNT;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sa'+'mpleDir\x20=\x20'+'lightDirNo'+'rm\x20+\x20sampl'+'ePoints[i]'+'\x20*\x20shadowS'+'earchArea;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'ampleDir\x20='+'\x20normalize'+'(sampleDir'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'ocker\x20=\x20te'+'xtureCubeL'+'od(shadowM'+'ap,\x20sample'+'Dir,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20isB'+'locking\x20=\x20'+'step(block'+'er,\x20z);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20bloc'+'kers\x20+=\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20av'+'erageBlock'+'er\x20+=\x20bloc'+'ker\x20*\x20isBl'+'ocking;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'f\x20(blocker'+'s\x20>\x200.0)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20averag'+'eBlocker\x20/'+'\x20blockers;'+'\x0a\x20\x20\x20\x20retur'+'n\x20-1.0;\x0a}\x0a'+'\x0afloat\x20PCS'+'SCube(samp'+'lerCube\x20sh'+'adowMap,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20shadowC'+'oords,\x20vec')+('4\x20cameraPa'+'rams,\x20floa'+'t\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20samplePoi'+'nts[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'PI\x20=\x203.141'+'5926535897'+'93;\x0a\x20\x20\x20\x20fl'+'oat\x20noise\x20'+'=\x20noise(\x20g'+'l_FragCoor'+'d.xy\x20)\x20*\x202'+'.0\x20*\x20PI;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20r\x20=\x20pcs'+'sSphereSam'+'ples[i];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sam'+'plePoints['+'i]\x20=\x20vogel'+'Sphere(i,\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT),\x20nois'+'e,\x20r);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'orm\x20=\x20norm'+'alize(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20averageB'+'locker\x20=\x20P'+'CSSCubeBlo'+'ckerDistan'+'ce(shadowM'+'ap,\x20lightD'+'irNorm,\x20sa'+'mplePoints'+',\x20receiver'+'Depth,\x20sha'+'dowSearchA'+'rea);\x0a\x20\x20\x20\x20'+'if\x20(averag'+'eBlocker\x20='+'=\x20-1.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20fi'+'lterRadius'+'\x20=\x20((recei'+'verDepth\x20-'+'\x20averageBl'+'ocker)\x20/\x20a'+'verageBloc'+'ker)\x20*\x20sha'+'dowSearchA'+'rea;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20PCSS_SAM'+'PLE_COUNT;'+'\x20i++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20offset\x20'+'=\x20samplePo'+'ints[i]\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sampleDir'+'\x20=\x20lightDi'+'rNorm\x20+\x20of'+'fset;\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleDir\x20=\x20'+'normalize('+'sampleDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depth\x20=\x20t'+'extureCube'+'Lod(shadow'+'Map,\x20sampl'+'eDir,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'ow\x20+=\x20step'+'(receiverD'+'epth,\x20dept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20s'+'hadow\x20/\x20fl'+'oat(PCSS_S'+'AMPLE_COUN'+'T);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0afloat\x20g'+'etShadowOm'+'niPCSS(sam'+'plerCube\x20s'+'hadowMap,\x20'+'vec3\x20shado'+'wCoord,\x20ve'+'c4\x20shadowP'+'arams,\x20vec'+'4\x20cameraPa'+'rams,\x20vec2'+'\x20shadowSea'+'rchArea,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20PCS'+'SCube(shad'+'owMap,\x20sha'+'dowParams,'+'\x20shadowCoo'+'rd,\x20camera'+'Params,\x20sh'+'adowSearch'+'Area.x,\x20li'+'ghtDir);\x0a}'+'\x0a\x0a#endif\x0a\x0a'+'float\x20getS'+'hadowSpotP'+'CSS(TEXTUR'+'E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c4\x20cameraP'+'arams,\x20vec'+'2\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20PC'+'SS(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord,'+'\x20cameraPar'+'ams,\x20shado'+'wSearchAre'+'a);\x0a}\x0a\x0a'),S2='\x0a\x0ahighp\x20fl'+'oat\x20fractS'+'inRand(con'+'st\x20in\x20vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20PI\x20=\x203.'+'1415926535'+'89793;\x0a\x20\x20\x20'+'\x20const\x20hig'+'hp\x20float\x20a'+'\x20=\x2012.9898'+',\x20b\x20=\x2078.2'+'33,\x20c\x20=\x2043'+'758.5453;\x0a'+'\x20\x20\x20\x20highp\x20'+'float\x20dt\x20='+'\x20dot(uv.xy'+',\x20vec2(a,\x20'+'b)),\x20sn\x20=\x20'+'mod(dt,\x20PI'+');\x0a\x20\x20\x20\x20ret'+'urn\x20fract('+'sin(sn)\x20*\x20'+'c);\x0a}\x0a\x0a//\x20'+'struct\x20to\x20'+'hold\x20preco'+'mputed\x20con'+'stants\x20and'+'\x20current\x20s'+'tate\x0astruc'+'t\x20VogelDis'+'kData\x20{\x0a\x20\x20'+'\x20\x20float\x20in'+'vNumSample'+'s;\x0a\x20\x20\x20\x20flo'+'at\x20initial'+'Angle;\x0a\x20\x20\x20'+'\x20float\x20cur'+'rentPointI'+'d;\x0a};\x0a\x0a//\x20'+'prepare\x20th'+'e\x20Vogel\x20di'+'sk\x20constan'+'ts\x20and\x20ini'+'tialize\x20th'+'e\x20current\x20'+'state\x20in\x20t'+'he\x20struct\x0a'+'void\x20prepa'+'reDiskCons'+'tants(out\x20'+'VogelDiskD'+'ata\x20data,\x20'+'int\x20sample'+'Count,\x20flo'+'at\x20randomS'+'eed)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20pi2\x20=\x206'+'.283185307'+'18;\x0a\x20\x20\x20\x20da'+'ta.invNumS'+'amples\x20=\x201'+'.0\x20/\x20float'+'(sampleCou'+'nt);\x0a\x20\x20\x20\x20d'+'ata.initia'+'lAngle\x20=\x20r'+'andomSeed\x20'+'*\x20pi2;\x0a\x20\x20\x20'+'\x20data.curr'+'entPointId'+'\x20=\x200.0;\x0a}\x0a'+'\x0a\x0avec2\x20gen'+'erateDiskS'+'ample(inou'+'t\x20VogelDis'+'kData\x20data'+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'GOLDEN_ANG'+'LE\x20=\x202.399'+'963;\x0a\x20\x20\x20\x20f'+'loat\x20r\x20=\x20s'+'qrt((data.'+'currentPoi'+'ntId\x20+\x200.5'+')\x20*\x20data.i'+'nvNumSampl'+'es);\x0a\x20\x20\x20\x20f'+'loat\x20theta'+'\x20=\x20data.cu'+'rrentPoint'+'Id\x20*\x20GOLDE'+'N_ANGLE\x20+\x20'+'data.initi'+'alAngle;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20o'+'ffset\x20=\x20ve'+('c2(cos(the'+'ta),\x20sin(t'+'heta))\x20*\x20p'+'ow(r,\x201.33'+');\x0a\x0a\x20\x20\x20\x20da'+'ta.current'+'PointId\x20+='+'\x201.0;\x0a\x20\x20\x20\x20'+'return\x20off'+'set;\x0a}\x0a\x0avo'+'id\x20PCSSFin'+'dBlocker(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20out\x20'+'float\x20avgB'+'lockerDept'+'h,\x20out\x20int'+'\x20numBlocke'+'rs,\x0a\x20\x20\x20\x20ve'+'c2\x20shadowC'+'oords,\x20flo'+'at\x20z,\x20int\x20'+'shadowBloc'+'kerSamples'+',\x20float\x20pe'+'numbraSize'+',\x20float\x20in'+'vShadowMap'+'Size,\x20floa'+'t\x20randomSe'+'ed)\x20{\x0a\x0a\x20\x20\x20'+'\x20VogelDisk'+'Data\x20diskD'+'ata;\x0a\x20\x20\x20\x20p'+'repareDisk'+'Constants('+'diskData,\x20'+'shadowBloc'+'kerSamples'+',\x20randomSe'+'ed);\x0a\x0a\x20\x20\x20\x20'+'float\x20sear'+'chWidth\x20=\x20'+'penumbraSi'+'ze\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x20\x20\x20\x20flo'+'at\x20blocker'+'Sum\x20=\x200.0;'+'\x0a\x20\x20\x20\x20numBl'+'ockers\x20=\x200'+';\x0a\x0a\x20\x20\x20\x20for'+'(\x20int\x20i\x20=\x20'+'0;\x20i\x20<\x20sha'+'dowBlocker'+'Samples;\x20+'+'+i\x20)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'diskUV\x20=\x20g'+'enerateDis'+'kSample(di'+'skData);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20sampleUV'+'\x20=\x20shadowC'+'oords\x20+\x20di'+'skUV\x20*\x20sea'+'rchWidth;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'MapDepth\x20='+'\x20texture2D'+'Lod(shadow'+'Map,\x20sampl'+'eUV,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(\x20shad'+'owMapDepth'+'\x20<\x20z\x20)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20blockerSu'+'m\x20+=\x20shado'+'wMapDepth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20numBloc'+'kers++;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20av'+'gBlockerDe'+'pth\x20=\x20bloc'+'kerSum\x20/\x20f'+'loat(numBl'+'ockers);\x0a}'+'\x0a\x0afloat\x20PC'+'SSFilter(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20uv,\x20float')+('\x20receiverD'+'epth,\x20int\x20'+'shadowSamp'+'les,\x20float'+'\x20filterRad'+'ius,\x20float'+'\x20randomSee'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'VogelDiskD'+'ata\x20diskDa'+'ta;\x0a\x20\x20\x20\x20pr'+'epareDiskC'+'onstants(d'+'iskData,\x20s'+'hadowSampl'+'es,\x20random'+'Seed);\x0a\x0a\x20\x20'+'\x20\x20float\x20su'+'m\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20shadowS'+'amples;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20of'+'fsetUV\x20=\x20g'+'enerateDis'+'kSample(di'+'skData)\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x20text'+'ure2DLod(s'+'hadowMap,\x20'+'uv\x20+\x20offse'+'tUV,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sum\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20retu'+'rn\x20sum\x20/\x20f'+'loat(shado'+'wSamples);'+'\x0a}\x0a\x0afloat\x20'+'getPenumbr'+'a(float\x20db'+'locker,\x20fl'+'oat\x20drecei'+'ver,\x20float'+'\x20penumbraS'+'ize,\x20float'+'\x20penumbraF'+'alloff)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'dist\x20=\x20dre'+'ceiver\x20-\x20d'+'blocker;\x0a\x20'+'\x20\x20\x20float\x20p'+'enumbra\x20=\x20'+'1.0\x20-\x20pow('+'1.0\x20-\x20dist'+',\x20penumbra'+'Falloff);\x0a'+'\x20\x20\x20\x20return'+'\x20penumbra\x20'+'*\x20penumbra'+'Size;\x0a}\x0a\x0af'+'loat\x20PCSSD'+'irectional'+'(TEXTURE_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oords,\x20vec'+'4\x20cameraPa'+'rams,\x20vec4'+'\x20softShado'+'wParams)\x20{'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20receiver'+'Depth\x20=\x20sh'+'adowCoords'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20random'+'Seed\x20=\x20fra'+'ctSinRand('+'gl_FragCoo'+'rd.xy);\x0a\x20\x20'+'\x20\x20int\x20shad'+'owSamples\x20'+'=\x20int(soft'+'ShadowPara'+'ms.x);\x0a\x20\x20\x20'+'\x20int\x20shado'+'wBlockerSa'+'mples\x20=\x20in'+'t(softShad')+('owParams.y'+');\x0a\x20\x20\x20\x20flo'+'at\x20penumbr'+'aSize\x20=\x20so'+'ftShadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20float\x20pe'+'numbraFall'+'off\x20=\x20soft'+'ShadowPara'+'ms.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20normal'+'ized\x20inver'+'se\x20shadow\x20'+'map\x20size\x20t'+'o\x20preserve'+'\x20the\x20shado'+'w\x20softness'+'\x20regardles'+'s\x20of\x20the\x20s'+'hadow\x20reso'+'lution\x0a\x20\x20\x20'+'\x20int\x20shado'+'wMapSize\x20='+'\x20textureSi'+'ze(shadowM'+'ap,\x200).x;\x0a'+'\x20\x20\x20\x20float\x20'+'invShadowM'+'apSize\x20=\x201'+'.0\x20/\x20float'+'(shadowMap'+'Size);\x0a\x20\x20\x20'+'\x20invShadow'+'MapSize\x20*='+'\x20float(sha'+'dowMapSize'+')\x20/\x202048.0'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20penumbr'+'a;\x0a\x0a\x20\x20\x20\x20//'+'\x20contact\x20h'+'ardening\x20p'+'ath\x0a\x20\x20\x20\x20if'+'\x20(shadowBl'+'ockerSampl'+'es\x20>\x200)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20find\x20ave'+'rage\x20block'+'er\x20depth\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20avgBloc'+'kerDepth\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20int\x20nu'+'mBlockers\x20'+'=\x200;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20PCSSFin'+'dBlocker(T'+'EXTURE_PAS'+'S(shadowMa'+'p),\x20avgBlo'+'ckerDepth,'+'\x20numBlocke'+'rs,\x20shadow'+'Coords.xy,'+'\x20receiverD'+'epth,\x20shad'+'owBlockerS'+'amples,\x20pe'+'numbraSize'+',\x20invShado'+'wMapSize,\x20'+'randomSeed'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20early'+'\x20out\x20when\x20'+'no\x20blocker'+'s\x20are\x20pres'+'ent\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(numB'+'lockers\x20<\x20'+'1)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x201.0f;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'penumbra\x20s'+'ize\x20is\x20bas'+'ed\x20on\x20the\x20'+'blocker\x20de'+'pth\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20penumbra'+'\x20=\x20getPenu'+'mbra(avgBl'+'ockerDepth'+',\x20shadowCo'+'ords.z,\x20pe'+'numbraSize'+',\x20penumbra')+('Falloff);\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cons'+'tant\x20filte'+'r\x20size,\x20no'+'\x20contact\x20h'+'ardening\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20pen'+'umbra\x20=\x20pe'+'numbraSize'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'ilterRadiu'+'s\x20=\x20penumb'+'ra\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20filtering'+'\x0a\x20\x20\x20\x20retur'+'n\x20PCSSFilt'+'er(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoords'+'.xy,\x20recei'+'verDepth,\x20'+'shadowSamp'+'les,\x20filte'+'rRadius,\x20r'+'andomSeed)'+';\x0a}\x0a\x0afloat'+'\x20getShadow'+'PCSS(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c4\x20softSha'+'dowParams,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20P'+'CSSDirecti'+'onal(TEXTU'+'RE_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20cameraP'+'arams,\x20sof'+'tShadowPar'+'ams);\x0a}\x0a\x0a'),y2='\x0aattribute'+'\x20float\x20ver'+'tex_boneIn'+'dices;\x0a\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20texture_'+'poseMap;\x0a\x0a'+'mat4\x20getBo'+'neMatrix(c'+'onst\x20in\x20fl'+'oat\x20indexF'+'loat)\x20{\x0a\x0a\x20'+'\x20\x20\x20int\x20wid'+'th\x20=\x20textu'+'reSize(tex'+'ture_poseM'+'ap,\x200).x;\x0a'+'\x20\x20\x20\x20int\x20in'+'dex\x20=\x20int('+'indexFloat'+'\x20+\x200.5)\x20*\x20'+'3;\x0a\x20\x20\x20\x20int'+'\x20iy\x20=\x20inde'+'x\x20/\x20width;'+'\x0a\x20\x20\x20\x20int\x20i'+'x\x20=\x20index\x20'+'%\x20width;\x0a\x0a'+'\x20\x20\x20\x20//\x20rea'+'d\x20elements'+'\x20of\x204x3\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20v1\x20=\x20t'+'exelFetch('+'texture_po'+'seMap,\x20ive'+'c2(ix\x20+\x200,'+'\x20iy),\x200);\x0a'+'\x20\x20\x20\x20vec4\x20v'+'2\x20=\x20texelF'+'etch(textu'+'re_poseMap'+',\x20ivec2(ix'+'\x20+\x201,\x20iy),'+'\x200);\x0a\x20\x20\x20\x20v'+'ec4\x20v3\x20=\x20t'+'exelFetch('+'texture_po'+'seMap,\x20ive'+'c2(ix\x20+\x202,'+'\x20iy),\x200);\x0a'+'\x0a\x20\x20\x20\x20//\x20tr'+'anspose\x20to'+'\x204x4\x20matri'+'x\x0a\x20\x20\x20\x20retu'+'rn\x20mat4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'x,\x20v2.x,\x20v'+'3.x,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.y'+',\x20v2.y,\x20v3'+'.y,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.z,'+'\x20v2.z,\x20v3.'+'z,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.w,\x20'+'v2.w,\x20v3.w'+',\x201\x0a\x20\x20\x20\x20);'+'\x0a}\x0a',v2='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_boneWe'+'ights;\x0aatt'+'ribute\x20vec'+'4\x20vertex_b'+'oneIndices'+';\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20tex'+'ture_poseM'+'ap;\x0a\x0avoid\x20'+'getBoneMat'+'rix(const\x20'+'in\x20int\x20wid'+'th,\x20const\x20'+'in\x20int\x20ind'+'ex,\x20out\x20ve'+'c4\x20v1,\x20out'+'\x20vec4\x20v2,\x20'+'out\x20vec4\x20v'+'3)\x20{\x0a\x0a\x20\x20\x20\x20'+'int\x20v\x20=\x20in'+'dex\x20/\x20widt'+'h;\x0a\x20\x20\x20\x20int'+'\x20u\x20=\x20index'+'\x20%\x20width;\x0a'+'\x0a\x20\x20\x20\x20v1\x20=\x20'+'texelFetch'+'(texture_p'+'oseMap,\x20iv'+'ec2(u\x20+\x200,'+'\x20v),\x200);\x0a\x20'+'\x20\x20\x20v2\x20=\x20te'+'xelFetch(t'+'exture_pos'+'eMap,\x20ivec'+'2(u\x20+\x201,\x20v'+'),\x200);\x0a\x20\x20\x20'+'\x20v3\x20=\x20texe'+'lFetch(tex'+'ture_poseM'+'ap,\x20ivec2('+'u\x20+\x202,\x20v),'+'\x200);\x0a}\x0a\x0ama'+'t4\x20getSkin'+'Matrix(con'+'st\x20in\x20vec4'+'\x20indicesFl'+'oat,\x20const'+'\x20in\x20vec4\x20w'+'eights)\x20{\x0a'+'\x0a\x20\x20\x20\x20int\x20w'+'idth\x20=\x20tex'+'tureSize(t'+'exture_pos'+'eMap,\x200).x'+';\x0a\x20\x20\x20\x20ivec'+'4\x20indices\x20'+'=\x20ivec4(in'+'dicesFloat'+'\x20+\x200.5)\x20*\x20'+'3;\x0a\x0a\x20\x20\x20\x20//'+'\x20get\x204\x20bon'+'e\x20matrices'+'\x0a\x20\x20\x20\x20vec4\x20'+'a1,\x20a2,\x20a3'+';\x0a\x20\x20\x20\x20getB'+'oneMatrix('+'width,\x20ind'+'ices.x,\x20a1'+',\x20a2,\x20a3);'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20b1,\x20b2,\x20b'+'3;\x0a\x20\x20\x20\x20get'+'BoneMatrix'+'(width,\x20in'+'dices.y,\x20b'+'1,\x20b2,\x20b3)'+';\x0a\x0a\x20\x20\x20\x20vec'+'4\x20c1,\x20c2,\x20'+'c3;\x0a\x20\x20\x20\x20ge'+'tBoneMatri'+'x(width,\x20i'+'ndices.z,\x20'+'c1,\x20c2,\x20c3'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20d1,\x20d2,'+'\x20d3;\x0a\x20\x20\x20\x20g'+'etBoneMatr'+'ix(width,\x20'+'indices.w,'+'\x20d1,\x20d2,\x20d'+'3);\x0a\x0a\x20\x20\x20\x20/'+'/\x20multiply'+'\x20them\x20by\x20w'+'eights\x20and'+'\x20add\x20up\x20to'+'\x20get\x20final'+'\x204x3\x20matri'+('x\x0a\x20\x20\x20\x20vec4'+'\x20v1\x20=\x20a1\x20*'+'\x20weights.x'+'\x20+\x20b1\x20*\x20we'+'ights.y\x20+\x20'+'c1\x20*\x20weigh'+'ts.z\x20+\x20d1\x20'+'*\x20weights.'+'w;\x0a\x20\x20\x20\x20vec'+'4\x20v2\x20=\x20a2\x20'+'*\x20weights.'+'x\x20+\x20b2\x20*\x20w'+'eights.y\x20+'+'\x20c2\x20*\x20weig'+'hts.z\x20+\x20d2'+'\x20*\x20weights'+'.w;\x0a\x20\x20\x20\x20ve'+'c4\x20v3\x20=\x20a3'+'\x20*\x20weights'+'.x\x20+\x20b3\x20*\x20'+'weights.y\x20'+'+\x20c3\x20*\x20wei'+'ghts.z\x20+\x20d'+'3\x20*\x20weight'+'s.w;\x0a\x0a\x20\x20\x20\x20'+'//\x20add\x20up\x20'+'weights\x0a\x20\x20'+'\x20\x20float\x20on'+'e\x20=\x20dot(we'+'ights,\x20vec'+'4(1.0));\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nspose\x20to\x20'+'4x4\x20matrix'+'\x0a\x20\x20\x20\x20retur'+'n\x20mat4(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.x'+',\x20v2.x,\x20v3'+'.x,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.y,'+'\x20v2.y,\x20v3.'+'y,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.z,\x20'+'v2.z,\x20v3.z'+',\x200,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20v1.w,\x20v'+'2.w,\x20v3.w,'+'\x20one\x0a\x20\x20\x20\x20)'+';\x0a}\x0a'),x2='\x0a\x20\x20\x20\x20#defi'+'ne\x20LIT_SKY'+'BOX_INTENS'+'ITY\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22e'+'nvProcPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20float\x20v'+'LinearDept'+'h;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22floatAsUi'+'ntPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20varying\x20'+'vec3\x20vView'+'Dir;\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20skyboxH'+'ighlightMu'+'ltiplier;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SKY_CUBE'+'MAP\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20samplerCu'+'be\x20texture'+'_cubeMap;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SKYM'+'ESH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec3\x20v'+'WorldPos;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'mat3\x20cubeM'+'apRotation'+'Matrix;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20project'+'edSkydomeC'+'enter;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#el'+'se\x20//\x20env-'+'atlas\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22spher'+'icalPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22envA'+'tlasPS\x22\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mipLe'+'vel;\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20outpu'+'t\x20linear\x20d'+'epth\x20durin'+'g\x20prepass\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20flo'+'at2vec4(vL'+'inearDepth'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20SK'+'Y_CUBEMAP\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SKYMES'+'H\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20get\x20'+'vector\x20fro'+'m\x20world\x20sp'+'ace\x20pos\x20to'+('\x20tripod\x20or'+'igin\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'envDir\x20=\x20n'+'ormalize(v'+'WorldPos\x20-'+'\x20projected'+'SkydomeCen'+'ter);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20env'+'Dir\x20*\x20cube'+'MapRotatio'+'nMatrix;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20vViewD'+'ir;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dir.x'+'\x20*=\x20-1.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20linear\x20=\x20'+'{SKYBOX_DE'+'CODE_FNC}('+'textureCub'+'e(texture_'+'cubeMap,\x20d'+'ir));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x20//\x20en'+'v-atlas\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20vVie'+'wDir\x20*\x20vec'+'3(-1.0,\x201.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20toSph'+'ericalUv(n'+'ormalize(d'+'ir));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'near\x20=\x20{SK'+'YBOX_DECOD'+'E_FNC}(tex'+'ture2D(tex'+'ture_envAt'+'las,\x20mapRo'+'ughnessUv('+'uv,\x20mipLev'+'el)));\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20our\x20HDR'+'\x20encodes\x20v'+'alues\x20up\x20t'+'o\x2064,\x20so\x20a'+'llow\x20extra'+'\x20brightnes'+'s\x20for\x20the\x20'+'clipped\x20va'+'lues\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(any(great'+'erThanEqua'+'l(linear,\x20'+'vec3(64.0)'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20linear\x20*'+'=\x20skyboxHi'+'ghlightMul'+'tiplier;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(toneM'+'ap(process'+'Environmen'+'t(linear))'+'),\x201.0);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20}'+'\x0a'),T2='\x0aattribute'+'\x20vec4\x20aPos'+'ition;\x0a\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tionSkybox'+';\x0auniform\x20'+'mat3\x20cubeM'+'apRotation'+'Matrix;\x0a\x0av'+'arying\x20vec'+'3\x20vViewDir'+';\x0a\x0a#ifdef\x20'+'PREPASS_PA'+'SS\x0a\x20\x20\x20\x20//\x20'+'when\x20skydo'+'me\x20renders'+'\x20depth\x20dur'+'ing\x20prepas'+'s,\x20generat'+'e\x20linear\x20d'+'epth\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20vLinear'+'Depth;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20SKYMESH\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec3\x20vW'+'orldPos;\x0a#'+'endif\x0a\x0avoi'+'d\x20main(voi'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'mat4\x20view\x20'+'=\x20matrix_v'+'iew;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20SKY'+'MESH\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec4\x20w'+'orldPos\x20=\x20'+'matrix_mod'+'el\x20*\x20aPosi'+'tion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vWorld'+'Pos\x20=\x20worl'+'dPos.xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20'+'=\x20matrix_p'+'rojectionS'+'kybox\x20*\x20(v'+'iew\x20*\x20worl'+'dPos);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20PREPASS'+'_PASS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20linear\x20de'+'pth\x20from\x20t'+'he\x20worldPo'+'sition,\x20se'+'e\x20getLinea'+'rDepth\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'LinearDept'+'h\x20=\x20-(matr'+'ix_view\x20*\x20'+'vec4(vWorl'+'dPos,\x201.0)'+').z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'view[3][0]'+'\x20=\x20view[3]'+'[1]\x20=\x20view'+'[3][2]\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20matr'+'ix_project'+'ionSkybox\x20'+'*\x20(view\x20*\x20'+'aPosition)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vViewDir\x20='+'\x20aPosition'+'.xyz\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20//\x20for\x20in'+'finite\x20sky'+'box,\x20use\x20n'+'egative\x20gl'+'_Position.'+'w\x20to\x20get\x20p'+'ositive\x20li'+'near\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vLinear'+'Depth\x20=\x20-g'+'l_Position'+'.w;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20Fo'+'rce\x20skybox'+'\x20to\x20far\x20Z,'+'\x20regardles'+'s\x20of\x20the\x20c'+'lip\x20planes'+'\x20on\x20the\x20ca'+'mera\x0a\x20\x20\x20\x20/'+'/\x20Subtract'+'\x20a\x20tiny\x20fu'+'dge\x20factor'+'\x20to\x20ensure'+'\x20floating\x20'+'point\x20erro'+'rs\x20don\x27t\x0a\x20'+'\x20\x20\x20//\x20stil'+'l\x20push\x20pix'+'els\x20beyond'+'\x20far\x20Z.\x20Se'+'e:\x0a\x20\x20\x20\x20//\x20'+'https://co'+'mmunity.kh'+'ronos.org/'+'t/skybox-p'+'roblem/618'+'57\x0a\x0a\x20\x20\x20\x20gl'+'_Position.'+'z\x20=\x20gl_Pos'+'ition.w\x20-\x20'+'1.0e-7;\x0a}\x0a'),w2='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'R_CONSTANT'+'\x0auniform\x20v'+'ec3\x20materi'+'al_specula'+'r;\x0a#endif\x0a'+'\x0avoid\x20getS'+'pecularity'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20specul'+'arColor\x20=\x20'+'vec3(1,1,1'+');\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20specularC'+'olor\x20*=\x20ma'+'terial_spe'+'cular;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SPECUL'+'AR_TEXTURE'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20{STD_SPE'+'CULAR_TEXT'+'URE_DECODE'+'}(texture2'+'DBias({STD'+'_SPECULAR_'+'TEXTURE_NA'+'ME},\x20{STD_'+'SPECULAR_T'+'EXTURE_UV}'+',\x20textureB'+'ias)).{STD'+'_SPECULAR_'+'TEXTURE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_SPECU'+'LAR_VERTEX'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.{STD_S'+'PECULAR_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20dSpecula'+'rity\x20=\x20spe'+'cularColor'+';\x0a}\x0a',E2='\x0a//\x20equire'+'ctangular\x20'+'helper\x20fun'+'ctions\x0avec'+'2\x20toSpheri'+'cal(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(dir.xz\x20='+'=\x20vec2(0.0'+')\x20?\x200.0\x20:\x20'+'atan(dir.x'+',\x20dir.z),\x20'+'asin(dir.y'+'));\x0a}\x0a\x0avec'+'2\x20toSpheri'+'calUv(vec3'+'\x20dir)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PI\x20=\x203'+'.141592653'+'589793;\x0a\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20toSpheri'+'cal(dir)\x20/'+'\x20vec2(PI\x20*'+'\x202.0,\x20PI)\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20return\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+';\x0a}\x0a',b2='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'RITYFACTOR'+'_CONSTANT\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_specula'+'rityFactor'+';\x0a#endif\x0a\x0a'+'void\x20getSp'+'ecularityF'+'actor()\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'specularit'+'yFactor\x20=\x20'+'1.0;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULARI'+'TYFACTOR_C'+'ONSTANT\x0a\x20\x20'+'\x20\x20specular'+'ityFactor\x20'+'*=\x20materia'+'l_specular'+'ityFactor;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_SP'+'ECULARITYF'+'ACTOR_TEXT'+'URE\x0a\x20\x20\x20\x20sp'+'ecularityF'+'actor\x20*=\x20t'+'exture2DBi'+'as({STD_SP'+'ECULARITYF'+'ACTOR_TEXT'+'URE_NAME},'+'\x20{STD_SPEC'+'ULARITYFAC'+'TOR_TEXTUR'+'E_UV},\x20tex'+'tureBias).'+'{STD_SPECU'+'LARITYFACT'+'OR_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_SP'+'ECULARITYF'+'ACTOR_VERT'+'EX\x0a\x20\x20\x20\x20spe'+'cularityFa'+'ctor\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SPECU'+'LARITYFACT'+'OR_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20dSp'+'ecularityF'+'actor\x20=\x20sp'+'ecularityF'+'actor;\x0a}\x0a',A2='\x0afloat\x20get'+'SpotEffect'+'(vec3\x20ligh'+'tSpotDir,\x20'+'float\x20ligh'+'tInnerCone'+'Angle,\x20flo'+'at\x20lightOu'+'terConeAng'+'le,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20cosAn'+'gle\x20=\x20dot('+'lightDirNo'+'rm,\x20lightS'+'potDir);\x0a\x20'+'\x20\x20\x20return\x20'+'smoothstep'+'(lightOute'+'rConeAngle'+',\x20lightInn'+'erConeAngl'+'e,\x20cosAngl'+'e);\x0a}\x0a',C2='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vec2(vUv0.'+'x,\x201.0\x20-\x20v'+'Uv0.y);\x0a',P2='\x0a\x20\x20\x20\x20vec2\x20'+'tileMask\x20='+'\x20step(vMas'+'k,\x20vec2(0.'+'99999));\x0a\x20'+'\x20\x20\x20vec2\x20ti'+'leSize\x20=\x200'+'.5\x20*\x20(inne'+'rOffset.xy'+'\x20+\x20innerOf'+'fset.zw);\x0a'+'\x20\x20\x20\x20vec2\x20t'+'ileScale\x20='+'\x20vec2(1.0)'+'\x20/\x20(vec2(1'+'.0)\x20-\x20tile'+'Size);\x0a\x20\x20\x20'+'\x20vec2\x20clam'+'pedUv\x20=\x20mi'+'x(innerOff'+'set.xy\x20*\x200'+'.5,\x20vec2(1'+'.0)\x20-\x20inne'+'rOffset.zw'+'\x20*\x200.5,\x20fr'+'act((vTile'+'dUv\x20-\x20tile'+'Size)\x20*\x20ti'+'leScale));'+'\x0a\x20\x20\x20\x20clamp'+'edUv\x20=\x20cla'+'mpedUv\x20*\x20a'+'tlasRect.z'+'w\x20+\x20atlasR'+'ect.xy;\x0a\x20\x20'+'\x20\x20nineSlic'+'edUv\x20=\x20vUv'+'0\x20*\x20tileMa'+'sk\x20+\x20clamp'+'edUv\x20*\x20(ve'+'c2(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x20\x20\x20\x20\x0a',M2='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobals\x0a\x20\x20\x20'+'\x20float\x20dAl'+'pha\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_OPAC'+'ITY_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_o'+'pacityMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20F'+'ORWARD_PAS'+'S\x20//\x20-----'+'----------'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20global'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dAlbe'+'do;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20dNo'+'rmalW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dSpeculari'+'ty\x20=\x20vec3('+'0.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'dGlossines'+'s\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFRACTION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20dT'+'ransmissio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20dThicknes'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SC'+'ENE_COLOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'uSceneColo'+'rMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SCREEN_SI'+'ZE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20uS'+'creenSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_TRAN'+'SFORMS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20mat'+'4\x20matrix_v'+'iewProject'+'ion;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_mod'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20parallax\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_H'+'EIGHT_MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20dUv'+'Offset;\x0a\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSE_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_he'+'ightMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20diffu'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSE_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20tex'+'ture_diffu'+'seMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSED'+'ETAIL_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_diffuseDe'+'tailMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_normal'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'NORMALDETA'+'IL_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_no'+'rmalDetail'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20refracti'+'on\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_THICKNES'+'S_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_thi'+'cknessMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_REFRA'+'CTION_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_refractio'+'nMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20iridesc'+'ence\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_IRIDES'+'CENCE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20dIride'+'scence;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dIri'+'descenceTh')+('ickness;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_IRIDESC'+'ENCE_THICK'+'NESS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_irides'+'cenceThick'+'nessMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_IRIDESCEN'+'CE_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20textur'+'e_iridesce'+'nceMap;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'ccSpecular'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20ccGloss'+'iness;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20ccNorm'+'alW;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20dAnisotro'+'py;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20dAnisotro'+'pyRotation'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20&\x20glossin'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_OR_REFLE'+'CTION\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20sheen\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sS'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20sGloss'+'iness;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_SHEEN'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_sheenM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_sh'+'eenGlossMa')+('p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20metalness'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dMet'+'alness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'dIor;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_METALN'+'ESS_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_met'+'alnessMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20dSpecula'+'rityFactor'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_speculari'+'tyFactorMa'+'p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20specular\x20'+'color\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_CO'+'LOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULAR_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20textu'+'re_specula'+'rMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20gloss\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_GLOSS_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_gl'+'ossMap;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20//\x20ao\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dAo'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_aoM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AODE'+'TAIL_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_aoDeta'+'ilMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dEmis'+'sion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_EMISS'+'IVE_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_e'+'missiveMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'learcoat\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_CL'+'EARCOAT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_CLEARCOAT'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20texture_'+'clearCoatM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20texture_'+'clearCoatG'+'lossMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_CLEARCOAT'+'NORMAL_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20te'+'xture_clea'+'rCoatNorma'+'lMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'anisotropy'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde')+('f\x20STD_ANIS'+'OTROPY_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20te'+'xture_anis'+'otropyMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20lig'+'htmap\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(STD_'+'LIGHTMAP)\x20'+'||\x20defined'+'(STD_LIGHT'+'_VERTEX_CO'+'LOR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20dLightma'+'p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_LIGH'+'T_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_lightMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20front\x20'+'end\x20output'+'s\x20to\x20lit\x20s'+'hader\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'litShaderC'+'orePS\x22\x0a'),D2='\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22opaci'+'tyPS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22alpha'+'TestPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dithe'+'ring\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20STD'+'_OPACITY_D'+'ITHER\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22opac'+'ityDitherP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20FORWARD_P'+'ASS\x20//\x20---'+'----------'+'---\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20para'+'llax\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_HEIGHT'+'_MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'allaxPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x20\x22diffuse'+'PS\x22\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malMapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ref'+'raction\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'RACTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'transmissi'+'onPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22th'+'icknessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_I'+'RIDESCENCE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22iridesc'+'encePS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'iridescenc'+'eThickness'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+('\x20speculari'+'ty\x20&\x20gloss'+'iness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_OR_REF'+'LECTION\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22sheen'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sheenGloss'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'etalness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_METALNES'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ior'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22spec'+'ularityFac'+'torPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22specularP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20voi'+'d\x20getSpecu'+'larity()\x20{'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rity\x20=\x20vec'+'3(1);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20g'+'loss\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22glo'+'ssPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20ao\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'aoPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'emissivePS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20clearc'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO')+('AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22clear'+'CoatPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'clearCoatG'+'lossPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'clearCoatN'+'ormalPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20anis'+'otropy\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_SPECULAR)'+'\x20&&\x20define'+'d(LIT_LIGH'+'TING)\x20&&\x20d'+'efined(LIT'+'_GGX_SPECU'+'LAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ani'+'sotropyPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20li'+'ghtmap\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(STD'+'_LIGHTMAP)'+'\x20||\x20define'+'d(STD_LIGH'+'T_VERTEX_C'+'OLOR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'ghtmapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20void\x20eval'+'uateFronte'+'nd()\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIT'+'_BLEND_TYP'+'E\x20!=\x20NONE\x20'+'||\x20defined'+'(LIT_ALPHA'+'_TEST)\x20||\x20'+'defined(LI'+'T_ALPHA_TO'+'_COVERAGE)'+'\x20||\x20STD_OP'+'ACITY_DITH'+'ER\x20!=\x20NONE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getOpac'+'ity();\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_ALPH'+'A_TEST)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20alphaT'+'est(dAlpha'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20S'+'TD_OPACITY'+'_DITHER\x20!='+'\x20NONE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20opacityD'+'ither(dAlp'+'ha,\x200.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'opacity\x20=\x20'+'dAlpha;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20F'+'ORWARD_PAS'+'S\x20//\x20-----'+'----------'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20pa'+'rallax\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'HEIGHT_MAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Parallax()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20dif'+'fuse\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Albedo();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'albedo\x20=\x20d'+'Albedo;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20normal'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_NEEDS_'+'NORMAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getNorm'+'al();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'worldNorma'+'l\x20=\x20dNorma'+'lW;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20r'+'efraction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_REFRACT'+'ION\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getRefract'+'ion();\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_transmiss'+'ion\x20=\x20dTra'+'nsmission;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tThickness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_th'+'ickness\x20=\x20'+'dThickness'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'DISPERSION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_d'+'ispersion\x20'+'=\x20material'+'_dispersio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20iridescen'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_IRID'+'ESCENCE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getIri'+'descence()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tIridescen'+'ceThicknes'+'s();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_i'+'ridescence'+'_intensity'+'\x20=\x20dIrides'+'cence;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_iridescen'+'ce_thickne'+'ss\x20=\x20dIrid'+'escenceThi'+'ckness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('//\x20specula'+'rity\x20&\x20glo'+'ssiness\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR_'+'OR_REFLECT'+'ION\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getShee'+'n();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_sheen_s'+'pecularity'+'\x20=\x20sSpecul'+'arity;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'SheenGloss'+'iness();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_she'+'en_gloss\x20='+'\x20sGlossine'+'ss;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20met'+'alness\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getMet'+'alness();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_me'+'talness\x20=\x20'+'dMetalness'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getIor()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'ior\x20=\x20dIor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20specu'+'larity\x20fac'+'tor\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSpecula'+'rityFactor'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_specular'+'ityFactor\x20'+'=\x20dSpecula'+'rityFactor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20gloss'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Glossiness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSpecula'+'rity();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20dSpe'+'cularity;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_gloss\x20'+'=\x20dGlossin')+('ess;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'ao\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getAO'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_ao'+'\x20=\x20dAo;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getEmi'+'ssion();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_e'+'mission\x20=\x20'+'dEmission;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cle'+'arcoat\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getC'+'learCoat()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tClearCoat'+'Glossiness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getClearCo'+'atNormal()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_clea'+'rcoat_spec'+'ularity\x20=\x20'+'ccSpecular'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_g'+'loss\x20=\x20ccG'+'lossiness;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_clear'+'coat_world'+'Normal\x20=\x20c'+'cNormalW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20aniso'+'tropy\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_SPECUL'+'AR)\x20&&\x20def'+'ined(LIT_L'+'IGHTING)\x20&'+'&\x20defined('+'LIT_GGX_SP'+'ECULAR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getAni'+'sotropy();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20ligh'+'tmap\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(S'+'TD_LIGHTMA'+'P)\x20||\x20defi'+'ned(STD_LI'+'GHT_VERTEX'+'_COLOR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getLig'+'htMap();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_lightma'+'p\x20=\x20dLight'+'map;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_lightm'+'apDir\x20=\x20dL'+'ightmapDir'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20}\x0a'),I2='\x0a\x0a#ifdef\x20L'+'IT_TANGENT'+'S\x0a\x20\x20\x20\x20#def'+'ine\x20TBN_TA'+'NGENTS\x0a#el'+'se\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_USE_NOR'+'MALS)\x20||\x20d'+'efined(LIT'+'_USE_CLEAR'+'COAT_NORMA'+'LS)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'TBN_DERIVA'+'TIVES\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(TBN'+'_DERIVATIV'+'ES)\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20tbnBasis'+';\x0a#endif\x0a\x0a'+'void\x20getTB'+'N(vec3\x20tan'+'gent,\x20vec3'+'\x20binormal,'+'\x20vec3\x20norm'+'al)\x20{\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20TB'+'N_TANGENTS'+'\x20//\x20tangen'+'ts\x20/\x20binor'+'mals\x20based'+'\x20TBN\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3(norm'+'alize(tang'+'ent),\x20norm'+'alize(bino'+'rmal),\x20nor'+'malize(nor'+'mal));\x0a\x0a\x20\x20'+'\x20\x20#elif\x20de'+'fined(TBN_'+'DERIVATIVE'+'S)\x20//\x20deri'+'vatives\x20ba'+'sed\x20TBN\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20{li'+'ghtingUv};'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20get\x20edg'+'e\x20vectors\x20'+'of\x20the\x20pix'+'el\x20triangl'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dp1\x20='+'\x20dFdx(\x20vPo'+'sitionW\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20dp2\x20=\x20'+'dFdy(\x20vPos'+'itionW\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20duv1\x20=\x20'+'dFdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20duv2\x20'+'=\x20dFdy(\x20uv'+'\x20);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20solv'+'e\x20the\x20line'+'ar\x20system\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20dp2perp'+'\x20=\x20cross(\x20'+'dp2,\x20norma'+'l\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20dp'+'1perp\x20=\x20cr'+'oss(\x20norma'+'l,\x20dp1\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20T\x20=\x20dp2'+'perp\x20*\x20duv'+'1.x\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20B\x20='+'\x20dp2perp\x20*'+'\x20duv1.y\x20+\x20'+'dp1perp\x20*\x20'+'duv2.y;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'construct\x20'+'a\x20scale-in'+'variant\x20fr'+('ame\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20de'+'nom\x20=\x20max('+'\x20dot(T,T),'+'\x20dot(B,B)\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20inv'+'max\x20=\x20(den'+'om\x20==\x200.0)'+'\x20?\x200.0\x20:\x20t'+'bnBasis\x20/\x20'+'sqrt(\x20deno'+'m\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3(T\x20*\x20i'+'nvmax,\x20-B\x20'+'*\x20invmax,\x20'+'normal\x20);\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x20//\x20object'+'\x20space\x20TBN'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20B\x20=\x20c'+'ross(norma'+'l,\x20vObject'+'SpaceUpW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20T\x20=\x20cr'+'oss(normal'+',\x20B);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(d'+'ot(B,B)==0'+'.0)\x20//\x20dea'+'l\x20with\x20cas'+'e\x20when\x20vOb'+'jectSpaceU'+'pW\x20normal\x20'+'are\x20parall'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20major=max'+'(max(norma'+'l.x,\x20norma'+'l.y),\x20norm'+'al.z);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(normal'+'.x\x20==\x20majo'+'r)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20B\x20=\x20cro'+'ss(normal,'+'\x20vec3(0,1,'+'0));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20T\x20=\x20cross'+'(normal,\x20B'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20e'+'lse\x20if\x20(no'+'rmal.y\x20==\x20'+'major)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B\x20='+'\x20cross(nor'+'mal,\x20vec3('+'0,0,1));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20T\x20=\x20c'+'ross(norma'+'l,\x20B);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x20if'+'\x20(normal.z'+'\x20==\x20major)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20B\x20=\x20cross'+'(normal,\x20v'+'ec3(1,0,0)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3(norm'+'alize(T),\x20'+'normalize('+'B),\x20normal'+'ize(normal'+'));\x0a\x0a\x20\x20\x20\x20#')+'endif\x0a}\x0a',L2='\x0a#ifdef\x20ST'+'D_THICKNES'+'S_CONSTANT'+'\x0auniform\x20f'+'loat\x20mater'+'ial_thickn'+'ess;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tThickness'+'()\x20{\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_THICKNE'+'SS_CONSTAN'+'T\x0a\x20\x20\x20\x20dThi'+'ckness\x20*=\x20'+'material_t'+'hickness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_THI'+'CKNESS_TEX'+'TURE\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'*=\x20texture'+'2DBias({ST'+'D_THICKNES'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_THICKNES'+'S_TEXTURE_'+'UV},\x20textu'+'reBias).{S'+'TD_THICKNE'+'SS_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_TH'+'ICKNESS_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'*=\x20saturat'+'e(vVertexC'+'olor.{STD_'+'THICKNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',R2='\x0a\x0a#if\x20(TON'+'EMAP\x20==\x20NO'+'NE)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22to'+'nemappingN'+'onePS\x22\x0a#el'+'if\x20TONEMAP'+'\x20==\x20FILMIC'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingFilm'+'icPS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20LINEAR\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingLinea'+'rPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20HEJL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngHejlPS\x22\x0a'+'#elif\x20TONE'+'MAP\x20==\x20ACE'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22tone'+'mappingAce'+'sPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20ACES2\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingAces2PS'+'\x22\x0a#elif\x20TO'+'NEMAP\x20==\x20N'+'EUTRAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngNeutralP'+'S\x22\x0a#endif\x0a'+'\x0a',O2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20tA\x20=\x202.'+'51;\x0a\x20\x20\x20\x20fl'+'oat\x20tB\x20=\x200'+'.03;\x0a\x20\x20\x20\x20f'+'loat\x20tC\x20=\x20'+'2.43;\x0a\x20\x20\x20\x20'+'float\x20tD\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20float\x20tE\x20'+'=\x200.14;\x0a\x20\x20'+'\x20\x20vec3\x20x\x20='+'\x20color\x20*\x20e'+'xposure;\x0a\x20'+'\x20\x20\x20return\x20'+'(x*(tA*x+t'+'B))/(x*(tC'+'*x+tD)+tE)'+';\x0a}\x0a',F2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0a//\x20A'+'CES\x20approx'+'imation\x20by'+'\x20Stephen\x20H'+'ill\x0a\x0a//\x20sR'+'GB\x20=>\x20XYZ\x20'+'=>\x20D65_2_D'+'60\x20=>\x20AP1\x20'+'=>\x20RRT_SAT'+'\x0aconst\x20mat'+'3\x20ACESInpu'+'tMat\x20=\x20mat'+'3(\x0a\x20\x20\x20\x200.5'+'9719,\x200.35'+'458,\x200.048'+'23,\x0a\x20\x20\x20\x200.'+'07600,\x200.9'+'0834,\x200.01'+'566,\x0a\x20\x20\x20\x200'+'.02840,\x200.'+'13383,\x200.8'+'3777\x0a);\x0a\x0a/'+'/\x20ODT_SAT\x20'+'=>\x20XYZ\x20=>\x20'+'D60_2_D65\x20'+'=>\x20sRGB\x0aco'+'nst\x20mat3\x20A'+'CESOutputM'+'at\x20=\x20mat3('+'\x0a\x20\x20\x20\x20\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367,\x0a\x20\x20\x20\x20-'+'0.10208,\x20\x20'+'1.10813,\x20-'+'0.00605,\x0a\x20'+'\x20\x20\x20-0.0032'+'7,\x20-0.0727'+'6,\x20\x201.0760'+'2\x0a);\x0a\x0avec3'+'\x20RRTAndODT'+'Fit(vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20a\x20=\x20v\x20*'+'\x20(v\x20+\x200.02'+'45786)\x20-\x200'+'.000090537'+';\x0a\x20\x20\x20\x20vec3'+'\x20b\x20=\x20v\x20*\x20('+'0.983729\x20*'+'\x20v\x20+\x200.432'+'9510)\x20+\x200.'+'238081;\x0a\x20\x20'+'\x20\x20return\x20a'+'\x20/\x20b;\x0a}\x0a\x0av'+'ec3\x20toneMa'+'p(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'color\x20*=\x20e'+'xposure\x20/\x20'+'0.6;\x0a\x20\x20\x20\x20c'+'olor\x20=\x20col'+'or\x20*\x20ACESI'+'nputMat;\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20RRT\x20and'+'\x20ODT\x0a\x20\x20\x20\x20c'+'olor\x20=\x20RRT'+'AndODTFit('+'color);\x0a\x20\x20'+'\x20\x20color\x20=\x20'+'color\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20color\x20=\x20c'+'lamp(color'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',N2='\x0aconst\x20flo'+'at\x20A\x20=\x20\x200.'+'15;\x0aconst\x20'+'float\x20B\x20=\x20'+'\x200.50;\x0acon'+'st\x20float\x20C'+'\x20=\x20\x200.10;\x0a'+'const\x20floa'+'t\x20D\x20=\x20\x200.2'+'0;\x0aconst\x20f'+'loat\x20E\x20=\x20\x20'+'0.02;\x0acons'+'t\x20float\x20F\x20'+'=\x20\x200.30;\x0ac'+'onst\x20float'+'\x20W\x20=\x20\x2011.2'+';\x0a\x0auniform'+'\x20float\x20exp'+'osure;\x0a\x0ave'+'c3\x20unchart'+'ed2Tonemap'+'(vec3\x20x)\x20{'+'\x0a\x20\x20\x20return'+'\x20((x*(A*x+'+'C*B)+D*E)/'+'(x*(A*x+B)'+'+D*F))-E/F'+';\x0a}\x0a\x0avec3\x20'+'toneMap(ve'+'c3\x20color)\x20'+'{\x0a\x20\x20\x20\x20colo'+'r\x20=\x20unchar'+'ted2Tonema'+'p(color\x20*\x20'+'exposure);'+'\x0a\x20\x20\x20\x20vec3\x20'+'whiteScale'+'\x20=\x201.0\x20/\x20u'+'ncharted2T'+'onemap(vec'+'3(W,W,W));'+'\x0a\x20\x20\x20\x20color'+'\x20=\x20color\x20*'+'\x20whiteScal'+'e;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',k2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20col'+'or\x20*=\x20expo'+'sure;\x0a\x20\x20\x20\x20'+'const\x20floa'+'t\x20\x20A\x20=\x200.2'+'2,\x20B\x20=\x200.3'+',\x20C\x20=\x20.1,\x20'+'D\x20=\x200.2,\x20E'+'\x20=\x20.01,\x20F\x20'+'=\x200.3;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20Scl\x20=\x201'+'.25;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20h\x20=\x20m'+'ax(\x20vec3(0'+'.0),\x20color'+'\x20-\x20vec3(0.'+'004)\x20);\x0a\x20\x20'+'\x20\x20return\x20('+'h*((Scl*A)'+'*h+Scl*vec'+'3(C*B,C*B,'+'C*B))+Scl*'+'vec3(D*E,D'+'*E,D*E))\x20/'+'\x20(h*(A*h+v'+'ec3(B,B,B)'+')+vec3(D*F'+',D*F,D*F))'+'\x20-\x20Scl*vec'+'3(E/F,E/F,'+'E/F);\x0a}\x0a',U2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20color\x20'+'*\x20exposure'+';\x0a}\x0a',B2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x0a\x20\x20\x20\x20co'+'lor\x20*=\x20exp'+'osure;\x0a\x0a\x20\x20'+'\x20\x20float\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20float\x20d'+'esaturatio'+'n\x20=\x200.15;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20min(c'+'olor.r,\x20mi'+'n(color.g,'+'\x20color.b))'+';\x0a\x20\x20\x20\x20floa'+'t\x20offset\x20='+'\x20x\x20<\x200.08\x20'+'?\x20x\x20-\x206.25'+'\x20*\x20x\x20*\x20x\x20:'+'\x200.04;\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20float\x20p'+'eak\x20=\x20max('+'color.r,\x20m'+'ax(color.g'+',\x20color.b)'+');\x0a\x20\x20\x20\x20if\x20'+'(peak\x20<\x20st'+'artCompres'+'sion)\x20retu'+'rn\x20color;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20d\x20=\x201.\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20float\x20ne'+'wPeak\x20=\x201.'+'\x20-\x20d\x20*\x20d\x20/'+'\x20(peak\x20+\x20d'+'\x20-\x20startCo'+'mpression)'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x20newPe'+'ak\x20/\x20peak;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20g\x20=\x201.\x20-'+'\x201.\x20/\x20(des'+'aturation\x20'+'*\x20(peak\x20-\x20'+'newPeak)\x20+'+'\x201.);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ne'+'wPeak\x20*\x20ve'+'c3(1,\x201,\x201'+'),\x20g);\x0a}\x0a',z2='\x0avec3\x20tone'+'Map(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'olor;\x0a}\x0a',V2='\x0a#ifdef\x20PI'+'XELSNAP\x0aun'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'CREENSPACE'+'\x0auniform\x20f'+'loat\x20proje'+'ctionFlipY'+';\x0a#endif\x0a\x0a'+'vec4\x20evalW'+'orldPositi'+'on(vec3\x20ve'+'rtexPositi'+'on,\x20mat4\x20m'+'odelMatrix'+')\x20{\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localP'+'os\x20=\x20getLo'+'calPositio'+'n(vertexPo'+'sition);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20NINESLICE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20outer\x20a'+'nd\x20inner\x20v'+'ertices\x20ar'+'e\x20at\x20the\x20s'+'ame\x20positi'+'on,\x20scale\x20'+'both\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s.xz\x20*=\x20ou'+'terScale;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nner\x20verti'+'ces\x20inside'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20(origina'+'l\x20vertices'+'\x20must\x20be\x20i'+'n\x20[-1;1]\x20r'+'ange)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20p'+'ositiveUni'+'tOffset\x20=\x20'+'clamp(vert'+'exPosition'+'.xz,\x20vec2('+'0.0),\x20vec2'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20negativeU'+'nitOffset\x20'+'=\x20clamp(-v'+'ertexPosit'+'ion.xz,\x20ve'+'c2(0.0),\x20v'+'ec2(1.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos.xz'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vTiledU'+'v\x20=\x20(local'+'Pos.xz\x20-\x20o'+'uterScale\x20'+'+\x20innerOff'+'set.xy)\x20*\x20'+'-0.5\x20+\x201.0'+';\x20//\x20uv\x20=\x20'+'local\x20pos\x20'+'-\x20inner\x20co'+'rner\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20localP'+'os.xz\x20*=\x20-'+'0.5;\x20//\x20mo'+'ve\x20from\x20-1'+';1\x20to\x20-0.5'+';0.5\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s\x20=\x20localP'+'os.xzy;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20vec4\x20p'+'osW\x20=\x20mode'+'lMatrix\x20*\x20'+'vec4(local'+('Pos,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREENS'+'PACE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20posW.zw'+'\x20=\x20vec2(0.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20posW;\x0a}\x0a'+'\x0avec4\x20getP'+'osition()\x20'+'{\x0a\x0a\x20\x20\x20\x20dMo'+'delMatrix\x20'+'=\x20getModel'+'Matrix();\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'posW\x20=\x20eva'+'lWorldPosi'+'tion(verte'+'x_position'+'.xyz,\x20dMod'+'elMatrix);'+'\x0a\x20\x20\x20\x20dPosi'+'tionW\x20=\x20po'+'sW.xyz;\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'reenPos;\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV1LAYOUT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sc'+'reenPos\x20=\x20'+'vec4(verte'+'x_texCoord'+'1.xy\x20*\x202.0'+'\x20-\x201.0,\x200.'+'5,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20WEBGPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20SCREENSP'+'ACE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos\x20=\x20po'+'sW;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.y\x20*='+'\x20projectio'+'nFlipY;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20matr'+'ix_viewPro'+'jection\x20*\x20'+'posW;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20PIX'+'ELSNAP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20snap\x20ver'+'tex\x20to\x20a\x20p'+'ixel\x20bound'+'ary\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.xy\x20='+'\x20(screenPo'+'s.xy\x20*\x200.5'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.xy\x20*=\x20uSc'+'reenSize.x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.xy\x20*=\x20u'+'ScreenSize'+'.zw;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos.xy\x20'+'=\x20(screenP'+'os.xy\x20*\x202.'+'0)\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20sc'+'reenPos;\x0a}')+('\x0a\x0avec3\x20get'+'WorldPosit'+'ion()\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'PositionW;'+'\x0a}\x0a'),G2='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_positi'+'on;\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0a\x0a#'+'ifdef\x20MORP'+'HING\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20morph_te'+'x_params;\x0a'+'\x20\x20\x20\x20attrib'+'ute\x20uint\x20m'+'orph_verte'+'x_id;\x0a\x0a\x20\x20\x20'+'\x20ivec2\x20get'+'TextureMor'+'phCoords()'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20turn\x20'+'morph_vert'+'ex_id\x20into'+'\x20int\x20grid\x20'+'coordinate'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ivec2\x20text'+'ureSize\x20=\x20'+'ivec2(morp'+'h_tex_para'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20int\x20mor'+'phGridV\x20=\x20'+'int(morph_'+'vertex_id)'+'\x20/\x20texture'+'Size.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20int\x20'+'morphGridU'+'\x20=\x20int(mor'+'ph_vertex_'+'id)\x20-\x20(mor'+'phGridV\x20*\x20'+'textureSiz'+'e.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20flipY\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20morphGrid'+'V\x20=\x20textur'+'eSize.y\x20-\x20'+'morphGridV'+'\x20-\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20ivec'+'2(morphGri'+'dU,\x20morphG'+'ridV);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_POSITI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_INT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20vec3\x20aabb'+'Size;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20aabbMin;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'usampler2D'+'\x20morphPosi'+'tionTex;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20highp\x20s'+'ampler2D\x20m'+'orphPositi'+'onTex;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0a#ifdef\x20de'+'fined(BATC'+'H)\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ski'+'nBatchVS\x22\x0a'+'\x0a\x20\x20\x20\x20mat4\x20'+'getModelMa'+'trix()\x20{\x0a\x20'+('\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getBon'+'eMatrix(ve'+'rtex_boneI'+'ndices);\x0a\x20'+'\x20\x20\x20}\x0a\x0a#eli'+'f\x20defined('+'SKIN)\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'skinVS\x22\x0a\x0a\x20'+'\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20get'+'SkinMatrix'+'(vertex_bo'+'neIndices,'+'\x20vertex_bo'+'neWeights)'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'elif\x20defin'+'ed(INSTANC'+'ING)\x0a\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'transformI'+'nstancingV'+'S\x22\x0a\x0a#else\x0a'+'\x0a\x20\x20\x20\x20mat4\x20'+'getModelMa'+'trix()\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20matrix'+'_model;\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a\x0avec3\x20ge'+'tLocalPosi'+'tion(vec3\x20'+'vertexPosi'+'tion)\x20{\x0a\x0a\x20'+'\x20\x20\x20vec3\x20lo'+'calPos\x20=\x20v'+'ertexPosit'+'ion;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_POSI'+'TION\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'morphUV\x20=\x20'+'getTexture'+'MorphCoord'+'s();\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20MORPHING_'+'INT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20morphPos\x20'+'=\x20vec3(tex'+'elFetch(mo'+'rphPositio'+'nTex,\x20ivec'+'2(morphUV)'+',\x200).xyz)\x20'+'/\x2065535.0\x20'+'*\x20aabbSize'+'\x20+\x20aabbMin'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20morphPo'+'s\x20=\x20texelF'+'etch(morph'+'PositionTe'+'x,\x20ivec2(m'+'orphUV),\x200'+').xyz;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20localPos\x20'+'+=\x20morphPo'+'s;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20loc'+'alPos;\x0a}\x0a\x0a'),H2='\x0a\x0aattribut'+'e\x20vec4\x20ins'+'tance_line'+'1;\x0aattribu'+'te\x20vec4\x20in'+'stance_lin'+'e2;\x0aattrib'+'ute\x20vec4\x20i'+'nstance_li'+'ne3;\x0aattri'+'bute\x20vec4\x20'+'instance_l'+'ine4;\x0a\x0amat'+'4\x20getModel'+'Matrix()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20mat'+'4(instance'+'_line1,\x20in'+'stance_lin'+'e2,\x20instan'+'ce_line3,\x20'+'instance_l'+'ine4);\x0a}\x0a',W2='\x0a\x0a#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0auniform'+'\x20float\x20mat'+'erial_refr'+'action;\x0a#e'+'ndif\x0a\x0avoid'+'\x20getRefrac'+'tion()\x20{\x0a\x20'+'\x20\x20\x20float\x20r'+'efraction\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0a\x20\x20\x20\x20ref'+'raction\x20=\x20'+'material_r'+'efraction;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_RE'+'FRACTION_T'+'EXTURE\x0a\x20\x20\x20'+'\x20refractio'+'n\x20*=\x20textu'+'re2DBias({'+'STD_REFRAC'+'TION_TEXTU'+'RE_NAME},\x20'+'{STD_REFRA'+'CTION_TEXT'+'URE_UV},\x20t'+'extureBias'+').{STD_REF'+'RACTION_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_REFRACT'+'ION_VERTEX'+'\x0a\x20\x20\x20\x20refra'+'ction\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.{STD_REFR'+'ACTION_VER'+'TEX_CHANNE'+'L});\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dTransmis'+'sion\x20=\x20ref'+'raction;\x0a}'+'\x0a',$2='\x0auniform\x20f'+'loat\x20twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0avoi'+'d\x20handleTw'+'oSidedLigh'+'ting()\x20{\x0a\x20'+'\x20\x20\x20dTBN[2]'+'\x20*=\x20gl_Fro'+'ntFacing\x20?'+'\x20twoSidedL'+'ightingNeg'+'ScaleFacto'+'r\x20:\x20-twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0a}\x0a',X2='\x0a#ifdef\x20NI'+'NESLICED\x0a\x20'+'\x20\x20\x20vec2\x20ge'+'tUv0()\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20ver'+'tex_positi'+'on.xz;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20o'+'ffset\x20inne'+'r\x20vertices'+'\x20inside\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20('+'original\x20v'+'ertices\x20mu'+'st\x20be\x20in\x20['+'-1;1]\x20rang'+'e)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20n'+'egativeUni'+'tOffset\x20=\x20'+'clamp(-ver'+'tex_positi'+'on.xz,\x20vec'+'2(0.0),\x20ve'+'c2(1.0));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20-0.5\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20atlasRe'+'ct.zw\x20+\x20at'+'lasRect.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vMask\x20=\x20v'+'ertex_texC'+'oord0.xy;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20uv;\x0a'+'\x20\x20\x20\x20}\x0a#els'+'e\x0a\x20\x20\x20\x20vec2'+'\x20getUv0()\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20ver'+'tex_texCoo'+'rd0;\x0a\x20\x20\x20\x20}'+'\x0a#endif\x0a',q2='\x0avec2\x20getU'+'v1()\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'rtex_texCo'+'ord1;\x0a}\x0a',j2='\x0avUV{TRANS'+'FORM_UV_{i'+'}}_{TRANSF'+'ORM_ID_{i}'+'}\x20=\x20vec2(\x0a'+'\x20\x20\x20\x20dot(ve'+'c3(uv{TRAN'+'SFORM_UV_{'+'i}},\x201),\x20{'+'TRANSFORM_'+'NAME_{i}}0'+'),\x0a\x20\x20\x20\x20dot'+'(vec3(uv{T'+'RANSFORM_U'+'V_{i}},\x201)'+',\x20{TRANSFO'+'RM_NAME_{i'+'}}1)\x0a);\x0a',Y2='\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20{T'+'RANSFORM_N'+'AME_{i}}0;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20{T'+'RANSFORM_N'+'AME_{i}}1;'+'\x0a',K2='\x0avoid\x20getV'+'iewDir()\x20{'+'\x0a\x20\x20\x20\x20dView'+'DirW\x20=\x20nor'+'malize(vie'+'w_position'+'\x20-\x20vPositi'+'onW);\x0a}\x0a',Z2={'alphaTestPS':YC,'ambientPS':KC,'anisotropyPS':ZC,'aoPS':QC,'aoDiffuseOccPS':JC,'aoSpecOccPS':e1,'bakeDirLmEndPS':t1,'bakeLmEndPS':s1,'basePS':i1,'baseNineSlicedPS':r1,'baseNineSlicedTiledPS':a1,'bayerPS':n1,'blurVSMPS':o1,'clearCoatPS':l1,'clearCoatGlossPS':c1,'clearCoatNormalPS':h1,'clusteredLightCookiesPS':f1,'clusteredLightShadowsPS':u1,'clusteredLightUtilsPS':d1,'clusteredLightPS':p1,'combinePS':m1,'cookieBlit2DPS':_1,'cookieBlitCubePS':g1,'cookieBlitVS':S1,'cookiePS':y1,'cubeMapProjectPS':v1,'cubeMapRotatePS':x1,'debugOutputPS':T1,'debugProcessFrontendPS':w1,'detailModesPS':b1,'diffusePS':A1,'decodePS':E1,'emissivePS':C1,'encodePS':P1,'endPS':M1,'envAtlasPS':D1,'envProcPS':I1,'falloffInvSquaredPS':L1,'falloffLinearPS':R1,'floatAsUintPS':O1,'fogPS':F1,'fresnelSchlickPS':N1,'frontendCodePS':'','frontendDeclPS':'','fullscreenQuadVS':k1,'gammaPS':U1,'gles3PS':Vy,'gles3VS':Gy,'glossPS':B1,'gsplatCenterVS':z1,'gsplatCornerVS':K1,'gsplatColorVS':V1,'gsplatCommonVS':G1,'gsplatCompressedDataVS':H1,'gsplatCompressedSHVS':W1,'gsplatEvalSHVS':$1,'gsplatQuatToMat3VS':X1,'gsplatSogsColorVS':q1,'gsplatSogsDataVS':j1,'gsplatSogsSHVS':Y1,'gsplatDataVS':Z1,'gsplatOutputVS':Q1,'gsplatPS':J1,'gsplatSHVS':eP,'gsplatSourceVS':tP,'gsplatVS':sP,'quadVS':iP,'immediateLinePS':rP,'immediateLineVS':aP,'iridescenceDiffractionPS':nP,'iridescencePS':oP,'iridescenceThicknessPS':lP,'iorPS':cP,'lightDeclarationPS':hP,'lightDiffuseLambertPS':dP,'lightDirPointPS':fP,'lightEvaluationPS':uP,'lightFunctionLightPS':pP,'lightFunctionShadowPS':mP,'lightingPS':_P,'lightmapAddPS':gP,'lightmapPS':SP,'lightSpecularAnisoGGXPS':yP,'lightSpecularBlinnPS':vP,'lightSheenPS':xP,'linearizeDepthPS':TP,'litForwardBackendPS':wP,'litForwardDeclarationPS':EP,'litForwardMainPS':bP,'litForwardPostCodePS':AP,'litForwardPreCodePS':CP,'litMainPS':PP,'litMainVS':MP,'litOtherMainPS':DP,'litShaderArgsPS':IP,'litShaderCorePS':LP,'litShadowMainPS':RP,'litUserDeclarationPS':'','litUserDeclarationVS':'','litUserCodePS':'','litUserCodeVS':'','litUserMainStartPS':'','litUserMainStartVS':'','litUserMainEndPS':'','litUserMainEndVS':'','ltcPS':OP,'metalnessPS':FP,'metalnessModulatePS':kP,'morphPS':UP,'morphVS':BP,'msdfPS':NP,'msdfVS':zP,'normalVS':VP,'normalCoreVS':GP,'normalMapPS':HP,'opacityPS':WP,'opacityDitherPS':$P,'outputPS':XP,'outputAlphaPS':qP,'outputTex2DPS':jP,'sheenPS':YP,'sheenGlossPS':KP,'parallaxPS':ZP,'pickPS':QP,'reflDirPS':JP,'reflDirAnisoPS':e2,'reflectionCCPS':t2,'reflectionCubePS':s2,'reflectionEnvHQPS':i2,'reflectionEnvPS':r2,'reflectionSpherePS':a2,'reflectionSheenPS':n2,'refractionCubePS':o2,'refractionDynamicPS':l2,'reprojectPS':c2,'reprojectVS':h2,'screenDepthPS':d2,'shadowCascadesPS':f2,'shadowEVSMPS':u2,'shadowPCF1PS':p2,'shadowPCF3PS':m2,'shadowPCF5PS':_2,'shadowPCSSPS':g2,'shadowSoftPS':S2,'skinBatchVS':y2,'skinVS':v2,'skyboxPS':x2,'skyboxVS':T2,'specularPS':w2,'sphericalPS':E2,'specularityFactorPS':b2,'spotPS':A2,'startNineSlicedPS':C2,'startNineSlicedTiledPS':P2,'stdDeclarationPS':M2,'stdFrontEndPS':D2,'TBNPS':I2,'thicknessPS':L2,'tonemappingPS':R2,'tonemappingAcesPS':O2,'tonemappingAces2PS':F2,'tonemappingFilmicPS':N2,'tonemappingHejlPS':k2,'tonemappingLinearPS':U2,'tonemappingNeutralPS':B2,'tonemappingNonePS':z2,'transformVS':V2,'transformCoreVS':G2,'transformInstancingVS':H2,'transmissionPS':W2,'twoSidedLightingPS':$2,'uv0VS':X2,'uv1VS':q2,'uvTransformVS':j2,'uvTransformUniformsPS':Y2,'viewDirPS':K2,'webgpuPS':Hy,'webgpuVS':Wy},Q2='\x0auniform\x20a'+'lpha_ref:\x20'+'f32;\x0a\x0afn\x20a'+'lphaTest(a'+':\x20f32)\x20{\x0a\x20'+'\x20\x20\x20if\x20(a\x20<'+'\x20uniform.a'+'lpha_ref)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',J2='\x0a\x0a#if\x20LIT_'+'AMBIENT_SO'+'URCE\x20==\x20AM'+'BIENTSH\x0a\x20\x20'+'\x20\x20uniform\x20'+'ambientSH:'+'\x20array<vec'+'3f,\x209>;\x0a#e'+'ndif\x0a\x0a#if\x20'+'LIT_AMBIEN'+'T_SOURCE\x20='+'=\x20ENVALATL'+'AS\x0a\x20\x20\x20\x20#in'+'clude\x20\x22env'+'AtlasPS\x22\x0a\x0a'+'\x20\x20\x20\x20#ifnde'+'f\x20ENV_ATLA'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20EN'+'V_ATLAS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_en'+'vAtlas:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_envAt'+'lasSampler'+':\x20sampler;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'fn\x20addAmbi'+'ent(worldN'+'ormal:\x20vec'+'3f)\x20{\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_AMBIENT_S'+'OURCE\x20==\x20A'+'MBIENTSH\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20n:\x20vec3f'+'\x20=\x20cubeMap'+'Rotate(wor'+'ldNormal);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20color:\x20'+'vec3f\x20=\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform.am'+'bientSH[0]'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.ambient'+'SH[1]\x20*\x20n.'+'x\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm.ambien'+'tSH[2]\x20*\x20n'+'.y\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form.ambie'+'ntSH[3]\x20*\x20'+'n.z\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform.ambi'+'entSH[4]\x20*'+'\x20n.x\x20*\x20n.z'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.ambient'+'SH[5]\x20*\x20n.'+'z\x20*\x20n.y\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform.'+'ambientSH['+'6]\x20*\x20n.y\x20*'+'\x20n.x\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform.amb'+'ientSH[7]\x20'+'*\x20(3.0\x20*\x20n'+'.z\x20*\x20n.z\x20-'+'\x201.0)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform.am'+'bientSH[8]'+'\x20*\x20(n.x\x20*\x20'+'n.x\x20-\x20n.y\x20'+'*\x20n.y);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20proces'+'sEnvironme'+'nt(max(col'+'or,\x20vec3f('+'0.0)));\x0a\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_AMBIENT'+'_SOURCE\x20=='+('\x20ENVALATLA'+'S\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20dir:\x20'+'vec3f\x20=\x20no'+'rmalize(cu'+'beMapRotat'+'e(worldNor'+'mal)\x20*\x20vec'+'3f(-1.0,\x201'+'.0,\x201.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20uv:\x20vec'+'2f\x20=\x20mapUv'+'(toSpheric'+'alUv(dir),'+'\x20vec4f(128'+'.0,\x20256.0\x20'+'+\x20128.0,\x206'+'4.0,\x2032.0)'+'\x20/\x20atlasSi'+'ze);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20ra'+'w:\x20vec4f\x20='+'\x20textureSa'+'mple(textu'+'re_envAtla'+'s,\x20texture'+'_envAtlasS'+'ampler,\x20uv'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20linea'+'r:\x20vec3f\x20='+'\x20{ambientD'+'ecode}(raw'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20pr'+'ocessEnvir'+'onment(lin'+'ear);\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20LIT'+'_AMBIENT_S'+'OURCE\x20==\x20C'+'ONSTANT\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20unifor'+'m.light_gl'+'obalAmbien'+'t;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a'),eM='\x0a#ifdef\x20LI'+'T_GGX_SPEC'+'ULAR\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'erial_anis'+'otropyInte'+'nsity:\x20f32'+';\x0a\x20\x20\x20\x20unif'+'orm\x20materi'+'al_anisotr'+'opyRotatio'+'n:\x20vec2f;\x0a'+'#endif\x0a\x0afn'+'\x20getAnisot'+'ropy()\x20{\x0a\x20'+'\x20\x20\x20dAnisot'+'ropy\x20=\x200.0'+';\x0a\x20\x20\x20\x20dAni'+'sotropyRot'+'ation\x20=\x20ve'+'c2f(1.0,\x200'+'.0);\x0a\x0a#ifd'+'ef\x20LIT_GGX'+'_SPECULAR\x0a'+'\x20\x20\x20\x20dAniso'+'tropy\x20=\x20un'+'iform.mate'+'rial_aniso'+'tropyInten'+'sity;\x0a\x20\x20\x20\x20'+'dAnisotrop'+'yRotation\x20'+'=\x20uniform.'+'material_a'+'nisotropyR'+'otation;\x0a#'+'endif\x0a\x0a#if'+'def\x20STD_AN'+'ISOTROPY_T'+'EXTURE\x0a\x20\x20\x20'+'\x20let\x20aniso'+'tropyTex:\x20'+'vec3f\x20=\x20te'+'xtureSampl'+'eBias({STD'+'_ANISOTROP'+'Y_TEXTURE_'+'NAME},\x20{ST'+'D_ANISOTRO'+'PY_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'ANISOTROPY'+'_TEXTURE_U'+'V},\x20unifor'+'m.textureB'+'ias).rgb;\x0a'+'\x20\x20\x20\x20dAniso'+'tropy\x20*=\x20a'+'nisotropyT'+'ex.b;\x0a\x0a\x20\x20\x20'+'\x20let\x20aniso'+'tropyRotat'+'ionFromTex'+':\x20vec2f\x20=\x20'+'anisotropy'+'Tex.rg\x20*\x202'+'.0\x20-\x20vec2f'+'(1.0);\x0a\x20\x20\x20'+'\x20let\x20rotat'+'ionMatrix:'+'\x20mat2x2f\x20='+'\x20mat2x2f(d'+'Anisotropy'+'Rotation.x'+',\x20dAnisotr'+'opyRotatio'+'n.y,\x20-dAni'+'sotropyRot'+'ation.y,\x20d'+'Anisotropy'+'Rotation.x'+');\x0a\x20\x20\x20\x20dAn'+'isotropyRo'+'tation\x20=\x20r'+'otationMat'+'rix\x20*\x20anis'+'otropyRota'+'tionFromTe'+'x;\x0a#endif\x0a'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x20c'+'lamp(dAnis'+'otropy,\x200.'+'0,\x201.0);\x0a}'+'\x0a',tM='\x0a\x0a#if\x20defi'+'ned(STD_AO'+'_TEXTURE)\x20'+'||\x20defined'+'(STD_AO_VE'+'RTEX)\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_aoI'+'ntensity:\x20'+'f32;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'STD_AODETA'+'IL_TEXTURE'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22detai'+'lModesPS\x22\x0a'+'#endif\x0a\x0afn'+'\x20getAO()\x20{'+'\x0a\x20\x20\x20\x20dAo\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_AO_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20aoBas'+'e:\x20f32\x20=\x20t'+'extureSamp'+'leBias({ST'+'D_AO_TEXTU'+'RE_NAME},\x20'+'{STD_AO_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_AO_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_AO_'+'TEXTURE_CH'+'ANNEL};\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_AO'+'DETAIL_TEX'+'TURE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20aoDetail:'+'\x20f32\x20=\x20tex'+'tureSample'+'Bias({STD_'+'AODETAIL_T'+'EXTURE_NAM'+'E},\x20{STD_A'+'ODETAIL_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_AODET'+'AIL_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_AODETAI'+'L_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20aoBase\x20='+'\x20detailMod'+'e_{STD_AOD'+'ETAIL_DETA'+'ILMODE}(ve'+'c3f(aoBase'+'),\x20vec3f(a'+'oDetail)).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dAo'+'\x20=\x20dAo\x20*\x20a'+'oBase;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20=\x20dA'+'o\x20*\x20satura'+'te(vVertex'+'Color.{STD'+'_AO_VERTEX'+'_CHANNEL})'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'STD_AO_TEX'+'TURE)\x20||\x20d'+'efined(STD'+'_AO_VERTEX'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAo\x20=\x20mix('+'1.0,\x20dAo,\x20'+'uniform.ma'+'terial_aoI'+'ntensity);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',sM='\x0afn\x20occlud'+'eDiffuse(a'+'o:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20*\x20ao;\x0a'+'}\x0a',iM='\x0a\x0a#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'OCCLUDE_SP'+'ECULAR_FLO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'aterial_oc'+'cludeSpecu'+'larIntensi'+'ty:\x20f32;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#endif\x0a\x0afn'+'\x20occludeSp'+'ecular(glo'+'ss:\x20f32,\x20a'+'o:\x20f32,\x20wo'+'rldNormal:'+'\x20vec3f,\x20vi'+'ewDir:\x20vec'+'3f)\x20{\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_O'+'CCLUDE_SPE'+'CULAR\x20==\x20A'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_OCCLUDE_S'+'PECULAR_FL'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'specOcc:\x20f'+'32\x20=\x20mix(1'+'.0,\x20ao,\x20un'+'iform.mate'+'rial_occlu'+'deSpecular'+'Intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20specOcc:'+'\x20f32\x20=\x20ao;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20==\x20'+'GLOSSDEPEN'+'DENT\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'roximated\x20'+'specular\x20o'+'cclusion\x20f'+'rom\x20AO\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ht'+'tp://resea'+'rch.tri-ac'+'e.com/Data'+'/cedec2011'+'_RealtimeP'+'BR_Impleme'+'ntation_e.'+'pptx\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20spe'+'cPow:\x20f32\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20specOc'+'c:\x20f32\x20=\x20s'+'aturate(po'+'w(dot(worl'+'dNormal,\x20v'+'iewDir)\x20+\x20'+'ao,\x200.01\x20*'+'\x20specPow)\x20'+'-\x201.0\x20+\x20ao'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_OCCLUDE'+'_SPECULAR_'+'FLOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecOcc\x20=\x20mi'+'x(1.0,\x20spe'+'cOcc,\x20unif'+'orm.materi'+'al_occlude'+'SpecularIn'+'tensity);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_O'+'CCLUDE_SPE'+'CULAR\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+('\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20*\x20spec'+'Occ;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20dRe'+'flection\x20*'+'\x20specOcc;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20=\x20sSpec'+'ularLight\x20'+'*\x20specOcc;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sReflec'+'tion\x20=\x20sRe'+'flection\x20*'+'\x20specOcc;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a'),rM='\x0a\x20\x20\x20\x20let\x20d'+'irLm\x20=\x20tex'+'tureSample'+'(texture_d'+'irLightMap'+',\x20texture_'+'dirLightMa'+'pSampler,\x20'+'vUv1);\x0a\x0a\x20\x20'+'\x20\x20if\x20(unif'+'orm.bakeDi'+'r\x20>\x200.5)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(dAtten\x20'+'>\x200.00001)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20u'+'npacked_di'+'r\x20=\x20dirLm.'+'xyz\x20*\x202.0\x20'+'-\x20vec3f(1.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dAtt'+'en\x20=\x20clamp'+'(dAtten,\x200'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20comb'+'ined_dir\x20='+'\x20dLightDir'+'NormW.xyz\x20'+'*\x20dAtten\x20+'+'\x20unpacked_'+'dir\x20*\x20dirL'+'m.w;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20finalRgb\x20'+'=\x20normaliz'+'e(combined'+'_dir)\x20*\x200.'+'5\x20+\x20vec3f('+'0.5);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20finalA\x20='+'\x20max(dirLm'+'.w\x20+\x20dAtte'+'n,\x201.0\x20/\x202'+'55.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'finalRgb,\x20'+'finalA);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.color'+'\x20=\x20dirLm;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20alpha'+'_min\x20=\x20sel'+'ect(0.0,\x201'+'.0\x20/\x20255.0'+',\x20dAtten\x20>'+'\x200.00001);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20finalA\x20'+'=\x20max(dirL'+'m.w,\x20alpha'+'_min);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'vec4f(dirL'+'m.rgb,\x20fin'+'alA);\x0a\x20\x20\x20\x20'+'}\x0a',aM='\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20//\x20di'+'ffuse\x20ligh'+'t\x20stores\x20a'+'ccumulated'+'\x20AO,\x20apply'+'\x20contrast\x20'+'and\x20bright'+'ness\x20to\x20it'+'\x0a\x20\x20\x20\x20//\x20an'+'d\x20multiply'+'\x20ambient\x20l'+'ight\x20color'+'\x20by\x20the\x20AO'+'\x0a\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20((dDiffus'+'eLight\x20-\x200'+'.5)\x20*\x20max('+'uniform.am'+'bientBakeO'+'cclusionCo'+'ntrast\x20+\x201'+'.0,\x200.0))\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20dDi'+'ffuseLight'+'\x20+\x20vec3f(u'+'niform.amb'+'ientBakeOc'+'clusionBri'+'ghtness);\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'saturate3('+'dDiffuseLi'+'ght);\x0a\x20\x20\x20\x20'+'dDiffuseLi'+'ght\x20=\x20dDif'+'fuseLight\x20'+'*\x20dAmbient'+'Light;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20LIGHTMAP'+'_RGBM\x0a\x20\x20\x20\x20'+'//\x20encode\x20'+'to\x20RGBM\x0a\x20\x20'+'\x20\x20var\x20temp'+'_color_rgb'+'m\x20=\x20vec4f('+'dDiffuseLi'+'ght,\x201.0);'+'\x0a\x20\x20\x20\x20temp_'+'color_rgbm'+'\x20=\x20vec4f(p'+'ow(temp_co'+'lor_rgbm.r'+'gb,\x20vec3f('+'0.5)),\x20tem'+'p_color_rg'+'bm.a);\x0a\x20\x20\x20'+'\x20temp_colo'+'r_rgbm\x20=\x20v'+'ec4f(temp_'+'color_rgbm'+'.rgb\x20/\x208.0'+',\x20temp_col'+'or_rgbm.a)'+';\x0a\x20\x20\x20\x20let\x20'+'max_g_b\x20=\x20'+'max(temp_c'+'olor_rgbm.'+'g,\x20max(tem'+'p_color_rg'+'bm.b,\x201.0\x20'+'/\x20255.0));'+'\x0a\x20\x20\x20\x20let\x20m'+'ax_rgb\x20=\x20m'+'ax(temp_co'+'lor_rgbm.r'+',\x20max_g_b)'+';\x0a\x20\x20\x20\x20temp'+'_color_rgb'+'m.a\x20=\x20clam'+'p(max_rgb,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20temp'+'_color_rgb'+'m.a\x20=\x20ceil'+'(temp_colo'+'r_rgbm.a\x20*'+'\x20255.0)\x20/\x20'+'255.0;\x0a\x20\x20\x20'+'\x20temp_colo'+'r_rgbm\x20=\x20v'+'ec4f(temp_'+('color_rgbm'+'.rgb\x20/\x20tem'+'p_color_rg'+'bm.a,\x20temp'+'_color_rgb'+'m.a);\x0a\x20\x20\x20\x20'+'output.col'+'or\x20=\x20temp_'+'color_rgbm'+';\x0a#else\x0a\x20\x20'+'\x20\x20output.c'+'olor\x20=\x20vec'+'4f(dDiffus'+'eLight,\x201.'+'0);\x0a#endif'+'\x0a'),nM='\x0auniform\x20v'+'iew_positi'+'on:\x20vec3f;'+'\x0a\x0auniform\x20'+'light_glob'+'alAmbient:'+'\x20vec3f;\x0a\x0af'+'n\x20square(x'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20x*x'+';\x0a}\x0a\x0afn\x20sa'+'turate(x:\x20'+'f32)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0afn'+'\x20saturate3'+'(x:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3f(0.'+'0),\x20vec3f('+'1.0));\x0a}\x0a',oM='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'Mask:\x20vec2'+'f;\x0avarying'+'\x20vTiledUv:'+'\x20vec2f;\x0a\x0au'+'niform\x20inn'+'erOffset:\x20'+'vec4f;\x0auni'+'form\x20outer'+'Scale:\x20vec'+'2f;\x0aunifor'+'m\x20atlasRec'+'t:\x20vec4f;\x0a'+'\x0avar<priva'+'te>\x20nineSl'+'icedUv:\x20ve'+'c2f;\x0a',lM='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vMask:\x20v'+'ec2f;\x0avary'+'ing\x20vTiled'+'Uv:\x20vec2f;'+'\x0a\x0auniform\x20'+'innerOffse'+'t:\x20vec4f;\x0a'+'uniform\x20ou'+'terScale:\x20'+'vec2f;\x0auni'+'form\x20atlas'+'Rect:\x20vec4'+'f;\x0a\x0avar<pr'+'ivate>\x20nin'+'eSlicedUv:'+'\x20vec2f;\x0a',cM='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afn\x20bay'+'er2(p:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(2.0\x20*'+'\x20p.y\x20+\x20p.x'+'\x20+\x201.0)\x20%\x20'+'4.0;\x0a}\x0a\x0a//'+'\x204x4\x20matri'+'x,\x20p\x20-\x20pix'+'el\x20coordin'+'ate\x0afn\x20bay'+'er4(p:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20p1:\x20vec2f'+'\x20=\x20p\x20%\x20vec'+'2f(2.0);\x0a\x20'+'\x20\x20\x20let\x20p2:'+'\x20vec2f\x20=\x20f'+'loor(0.5\x20*'+'\x20(p\x20%\x20vec2'+'f(4.0)));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afn\x20bayer8'+'(p:\x20vec2f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20p1'+':\x20vec2f\x20=\x20'+'p\x20%\x20vec2f('+'2.0);\x0a\x20\x20\x20\x20'+'let\x20p2:\x20ve'+'c2f\x20=\x20floo'+'r(0.5\x20*\x20(p'+'\x20%\x20vec2f(4'+'.0)));\x0a\x20\x20\x20'+'\x20let\x20p4:\x20v'+'ec2f\x20=\x20flo'+'or(0.25\x20*\x20'+'(p\x20%\x20vec2f'+'(8.0)));\x0a\x20'+'\x20\x20\x20return\x20'+'4.0\x20*\x20(4.0'+'\x20*\x20bayer2('+'p1)\x20+\x20baye'+'r2(p2))\x20+\x20'+'bayer2(p4)'+';\x0a}\x0a',hM='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0a\x0avar\x20sou'+'rce:\x20textu'+'re_2d<f32>'+';\x0avar\x20sour'+'ceSampler:'+'\x20sampler;\x0a'+'\x0a#ifdef\x20GA'+'USS\x0a\x20\x20\x20\x20un'+'iform\x20weig'+'ht:\x20array<'+'f32,\x20{SAMP'+'LES}>;\x0a#en'+'dif\x0aunifor'+'m\x20pixelOff'+'set:\x20vec2f'+';\x0a\x0a@fragme'+'nt\x0afn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20var\x20o'+'utput:\x20Fra'+'gmentOutpu'+'t;\x0a\x20\x20\x20\x20var'+'\x20moments:\x20'+'vec3f\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20let\x20uv'+':\x20vec2f\x20=\x20'+'input.vUv0'+'\x20-\x20uniform'+'.pixelOffs'+'et\x20*\x20(f32('+'{SAMPLES})'+'\x20*\x200.5);\x0a\x0a'+'\x20\x20\x20\x20for\x20(v'+'ar\x20i:\x20i32\x20'+'=\x200;\x20i\x20<\x20{'+'SAMPLES};\x20'+'i\x20=\x20i\x20+\x201)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20c:\x20ve'+'c4f\x20=\x20text'+'ureSample('+'source,\x20so'+'urceSample'+'r,\x20uv\x20+\x20un'+'iform.pixe'+'lOffset\x20*\x20'+'f32(i));\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20GAUSS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20moments'+'\x20=\x20moments'+'\x20+\x20c.xyz\x20*'+'\x20uniform.w'+'eight[i].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20=\x20moment'+'s\x20+\x20c.xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20GAUSS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20m'+'oments\x20=\x20m'+'oments\x20*\x20('+'1.0\x20/\x20f32('+'{SAMPLES})'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'moments,\x201'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a',dM='\x0auniform\x20m'+'aterial_cl'+'earCoat:\x20f'+'32;\x0a\x0afn\x20ge'+'tClearCoat'+'()\x20{\x0a\x20\x20\x20\x20c'+'cSpeculari'+'ty\x20=\x20unifo'+'rm.materia'+'l_clearCoa'+'t;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_C'+'LEARCOAT_T'+'EXTURE\x0a\x20\x20\x20'+'\x20ccSpecula'+'rity\x20=\x20ccS'+'pecularity'+'\x20*\x20texture'+'SampleBias'+'({STD_CLEA'+'RCOAT_TEXT'+'URE_NAME},'+'\x20{STD_CLEA'+'RCOAT_TEXT'+'URE_NAME}S'+'ampler,\x20{S'+'TD_CLEARCO'+'AT_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias).{ST'+'D_CLEARCOA'+'T_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_CLE'+'ARCOAT_VER'+'TEX\x0a\x20\x20\x20\x20cc'+'Specularit'+'y\x20=\x20ccSpec'+'ularity\x20*\x20'+'saturate(v'+'VertexColo'+'r.{STD_CLE'+'ARCOAT_VER'+'TEX_CHANNE'+'L});\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a',fM='\x0a\x20\x20\x20\x20unifo'+'rm\x20materia'+'l_clearCoa'+'tGloss:\x20f3'+'2;\x0a\x0afn\x20get'+'ClearCoatG'+'lossiness('+')\x20{\x0a\x20\x20\x20\x20cc'+'Glossiness'+'\x20=\x20uniform'+'.material_'+'clearCoatG'+'loss;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_CLEARCOA'+'TGLOSS_TEX'+'TURE\x0a\x20\x20\x20\x20c'+'cGlossines'+'s\x20=\x20ccGlos'+'siness\x20*\x20t'+'extureSamp'+'leBias({ST'+'D_CLEARCOA'+'TGLOSS_TEX'+'TURE_NAME}'+',\x20{STD_CLE'+'ARCOATGLOS'+'S_TEXTURE_'+'NAME}Sampl'+'er,\x20{STD_C'+'LEARCOATGL'+'OSS_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_CLEARCO'+'ATGLOSS_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATGLOSS_VE'+'RTEX\x0a\x20\x20\x20\x20c'+'cGlossines'+'s\x20=\x20ccGlos'+'siness\x20*\x20s'+'aturate(vV'+'ertexColor'+'.{STD_CLEA'+'RCOATGLOSS'+'_VERTEX_CH'+'ANNEL});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_INVERT\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20=\x201.0'+'\x20-\x20ccGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20ccGloss'+'iness\x20+=\x200'+'.0000001;\x0a'+'}\x0a',uM='\x0a#ifdef\x20ST'+'D_CLEARCOA'+'TNORMAL_TE'+'XTURE\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_cle'+'arCoatBump'+'iness:\x20f32'+';\x0a#endif\x0a\x0a'+'fn\x20getClea'+'rCoatNorma'+'l()\x20{\x0a#ifd'+'ef\x20STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'\x0a\x20\x20\x20\x20var\x20n'+'ormalMap:\x20'+'vec3f\x20=\x20{S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_DEC'+'ODE}(textu'+'reSampleBi'+'as({STD_CL'+'EARCOATNOR'+'MAL_TEXTUR'+'E_NAME},\x20{'+'STD_CLEARC'+'OATNORMAL_'+'TEXTURE_NA'+'ME}Sampler'+',\x20{STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias));\x0a\x20'+'\x20\x20\x20normalM'+'ap\x20=\x20mix(v'+'ec3f(0.0,\x20'+'0.0,\x201.0),'+'\x20normalMap'+',\x20uniform.'+'material_c'+'learCoatBu'+'mpiness);\x0a'+'\x20\x20\x20\x20ccNorm'+'alW\x20=\x20norm'+'alize(dTBN'+'\x20*\x20normalM'+'ap);\x0a#else'+'\x0a\x20\x20\x20\x20ccNor'+'malW\x20=\x20dVe'+'rtexNormal'+'W;\x0a#endif\x0a'+'}\x0a',pM='\x0astruct\x20Fa'+'ceCoords\x20{'+'\x0a\x20\x20\x20\x20uv:\x20v'+'ec2f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Or'+'iginal\x20ret'+'urn\x20value\x0a'+'\x20\x20\x20\x20faceIn'+'dex:\x20f32,\x20'+'\x20\x20\x20//\x20Was\x20'+'out\x20parame'+'ter\x0a\x20\x20\x20\x20ti'+'leOffset:\x20'+'vec2f,\x20//\x20'+'Was\x20out\x20pa'+'rameter\x0a}\x0a'+'\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0afn\x20getC'+'ubemapFace'+'Coordinate'+'s(dir:\x20vec'+'3f)\x20->\x20Fac'+'eCoords\x20{\x0a'+'\x20\x20\x20\x20var\x20fa'+'ceIndex:\x20f'+'32;\x0a\x20\x20\x20\x20va'+'r\x20tileOffs'+'et:\x20vec2f;'+'\x0a\x20\x20\x20\x20var\x20u'+'v:\x20vec2f;\x20'+'//\x20This\x20is'+'\x20the\x20face\x20'+'UV\x20[0..1]\x0a'+'\x20\x20\x20\x20let\x20vA'+'bs:\x20vec3f\x20'+'=\x20abs(dir)'+';\x0a\x20\x20\x20\x20var\x20'+'ma:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20if\x20(vA'+'bs.z\x20>=\x20vA'+'bs.x\x20&&\x20vA'+'bs.z\x20>=\x20vA'+'bs.y)\x20{\x20\x20\x20'+'//\x20front\x20/'+'\x20back\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20i'+'s_neg_z\x20=\x20'+'dir.z\x20<\x200.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20faceIndex'+'\x20=\x20select('+'4.0,\x205.0,\x20'+'is_neg_z);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20m'+'a\x20=\x200.5\x20/\x20'+'vAbs.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv\x20='+'\x20vec2f(sel'+'ect(dir.x,'+'\x20-dir.x,\x20i'+'s_neg_z),\x20'+'-dir.y);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20til'+'eOffset\x20=\x20'+'vec2f(2.0,'+'\x20select(0.'+'0,\x201.0,\x20is'+'_neg_z));\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if\x20(vAbs'+'.y\x20>=\x20vAbs'+'.x)\x20{\x20\x20//\x20'+'top\x20index\x20'+'2,\x20bottom\x20'+'index\x203\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20is_neg_y\x20'+'=\x20dir.y\x20<\x20'+'0.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20faceInd'+'ex\x20=\x20selec'+('t(2.0,\x203.0'+',\x20is_neg_y'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ma\x20=\x200.5\x20'+'/\x20vAbs.y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20=\x20vec2f(d'+'ir.x,\x20sele'+'ct(dir.z,\x20'+'-dir.z,\x20is'+'_neg_y));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ti'+'leOffset\x20='+'\x20vec2f(1.0'+',\x20select(0'+'.0,\x201.0,\x20i'+'s_neg_y));'+'\x0a\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x20\x20\x20\x20//'+'\x20left\x20/\x20ri'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20is_'+'neg_x\x20=\x20di'+'r.x\x20<\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'aceIndex\x20='+'\x20select(0.'+'0,\x201.0,\x20is'+'_neg_x);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2f(selec'+'t(-dir.z,\x20'+'dir.z,\x20is_'+'neg_x),\x20-d'+'ir.y);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset\x20=\x20ve'+'c2f(0.0,\x20s'+'elect(0.0,'+'\x201.0,\x20is_n'+'eg_x));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20u'+'v\x20=\x20uv\x20*\x20m'+'a\x20+\x200.5;\x0a\x20'+'\x20\x20\x20return\x20'+'FaceCoords'+'(uv,\x20faceI'+'ndex,\x20tile'+'Offset);\x0a}'+'\x0a\x0a//\x20conve'+'rts\x20unnorm'+'alized\x20dir'+'ection\x20vec'+'tor\x20to\x20a\x20t'+'exture\x20coo'+'rdinate\x20fo'+'r\x20a\x20cubema'+'p\x20face\x20sto'+'red\x20within'+'\x20texture\x20a'+'tlas\x20descr'+'ibed\x20by\x20th'+'e\x20viewport'+'\x0afn\x20getCub'+'emapAtlasC'+'oordinates'+'(omniAtlas'+'Viewport:\x20'+'vec3f,\x20sha'+'dowEdgePix'+'els:\x20f32,\x20'+'shadowText'+'ureResolut'+'ion:\x20f32,\x20'+'dir:\x20vec3f'+')\x20->\x20vec2f'+'\x20{\x0a\x0a\x20\x20\x20\x20le'+'t\x20faceData'+':\x20FaceCoor'+'ds\x20=\x20getCu'+'bemapFaceC'+'oordinates'+'(dir);\x0a\x20\x20\x20'+'\x20var\x20uv:\x20v'+'ec2f\x20=\x20fac'+'eData.uv;\x0a'+'\x20\x20\x20\x20let\x20ti'+'leOffset:\x20'+'vec2f\x20=\x20fa'+'ceData.til'+'eOffset;\x0a\x0a'+'\x20\x20\x20\x20//\x20mov'+'e\x20uv\x20coord'+'inates\x20inw'+'ards\x20insid'+'e\x20to\x20compe'+'nsate\x20for\x20')+('larger\x20fov'+'\x20when\x20rend'+'ering\x20shad'+'ow\x20into\x20at'+'las\x0a\x20\x20\x20\x20le'+'t\x20atlasFac'+'eSize:\x20f32'+'\x20=\x20omniAtl'+'asViewport'+'.z;\x0a\x20\x20\x20\x20le'+'t\x20tileSize'+':\x20f32\x20=\x20sh'+'adowTextur'+'eResolutio'+'n\x20*\x20atlasF'+'aceSize;\x0a\x20'+'\x20\x20\x20var\x20off'+'set:\x20f32\x20='+'\x20shadowEdg'+'ePixels\x20/\x20'+'tileSize;\x0a'+'\x20\x20\x20\x20uv\x20=\x20u'+'v\x20*\x20(1.0\x20-'+'\x20offset\x20*\x20'+'2.0)\x20+\x20off'+'set;\x0a\x0a\x20\x20\x20\x20'+'//\x20scale\x20u'+'v\x20coordina'+'tes\x20to\x20cub'+'e\x20face\x20are'+'a\x20within\x20t'+'he\x20viewpor'+'t\x0a\x20\x20\x20\x20uv\x20='+'\x20uv\x20*\x20atla'+'sFaceSize;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x20into'+'\x20face\x20of\x20t'+'he\x20atlas\x20('+'3x3\x20grid)\x0a'+'\x20\x20\x20\x20uv\x20=\x20u'+'v\x20+\x20tileOf'+'fset\x20*\x20atl'+'asFaceSize'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'offset\x20int'+'o\x20the\x20atla'+'s\x20viewport'+'\x0a\x20\x20\x20\x20uv\x20=\x20'+'uv\x20+\x20omniA'+'tlasViewpo'+'rt.xy;\x0a\x0a\x20\x20'+'\x20\x20return\x20u'+'v;\x0a}\x0a'),mM='\x0afn\x20_getCo'+'okieCluste'+'red(tex:\x20t'+'exture_2d<'+'f32>,\x20texS'+'ampler:\x20sa'+'mpler,\x20uv:'+'\x20vec2f,\x20in'+'tensity:\x20f'+'32,\x20cookie'+'Channel:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20pixel'+':\x20vec4f\x20=\x20'+'mix(vec4f('+'1.0),\x20text'+'ureSampleL'+'evel(tex,\x20'+'texSampler'+',\x20uv,\x200.0)'+',\x20intensit'+'y);\x0a\x20\x20\x20\x20le'+'t\x20isRgb:\x20b'+'ool\x20=\x20dot('+'cookieChan'+'nel.rgb,\x20v'+'ec3f(1.0))'+'\x20==\x203.0;\x0a\x20'+'\x20\x20\x20return\x20'+'select(vec'+'3f(dot(pix'+'el,\x20cookie'+'Channel)),'+'\x20pixel.rgb'+',\x20isRgb);\x0a'+'}\x0a\x0a//\x20getC'+'ookie2D\x20fo'+'r\x20clustere'+'d\x20lighting'+'\x20including'+'\x20channel\x20s'+'elector\x0afn'+'\x20getCookie'+'2DClustere'+'d(tex:\x20tex'+'ture_2d<f3'+'2>,\x20texSam'+'pler:\x20samp'+'ler,\x20trans'+'form:\x20mat4'+'x4f,\x20world'+'Position:\x20'+'vec3f,\x20int'+'ensity:\x20f3'+'2,\x20cookieC'+'hannel:\x20ve'+'c4f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20projPo'+'s:\x20vec4f\x20='+'\x20transform'+'\x20*\x20vec4f(w'+'orldPositi'+'on,\x201.0);\x0a'+'\x20\x20\x20\x20return'+'\x20_getCooki'+'eClustered'+'(tex,\x20texS'+'ampler,\x20pr'+'ojPos.xy\x20/'+'\x20projPos.w'+',\x20intensit'+'y,\x20cookieC'+'hannel);\x0a}'+'\x0a\x0a//\x20getCo'+'okie\x20for\x20c'+'lustered\x20o'+'mni\x20light\x20'+'with\x20the\x20c'+'ookie\x20text'+'ure\x20being\x20'+'stored\x20in\x20'+'the\x20cookie'+'\x20atlas\x0afn\x20'+'getCookieC'+'ubeCluster'+'ed(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20dir:'+'\x20vec3f,\x20in'+'tensity:\x20f'+'32,\x20cookie'+'Channel:\x20v'+'ec4f,\x20shad'+'owTextureR'+'esolution:'+'\x20f32,\x20shad'+('owEdgePixe'+'ls:\x20f32,\x20o'+'mniAtlasVi'+'ewport:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20uv:\x20ve'+'c2f\x20=\x20getC'+'ubemapAtla'+'sCoordinat'+'es(omniAtl'+'asViewport'+',\x20shadowEd'+'gePixels,\x20'+'shadowText'+'ureResolut'+'ion,\x20dir);'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getCook'+'ieClustere'+'d(tex,\x20tex'+'Sampler,\x20u'+'v,\x20intensi'+'ty,\x20cookie'+'Channel);\x0a'+'}\x0a'),_M='\x0a\x0afn\x20_getS'+'hadowCoord'+'PerspZbuff'+'er(shadowM'+'atrix:\x20mat'+'4x4f,\x20shad'+'owParams:\x20'+'vec4f,\x20wPo'+'s:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20var\x20p'+'rojPos\x20=\x20s'+'hadowMatri'+'x\x20*\x20vec4f('+'wPos,\x201.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20projPos'+'.xyz\x20/\x20pro'+'jPos.w;\x0a\x20\x20'+'\x20\x20//\x20depth'+'\x20bias\x20is\x20a'+'lready\x20app'+'lied\x20on\x20re'+'nder\x0a}\x0a\x0afn'+'\x20getShadow'+'CoordPersp'+'ZbufferNor'+'malOffset('+'shadowMatr'+'ix:\x20mat4x4'+'f,\x20shadowP'+'arams:\x20vec'+'4f,\x20normal'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20let\x20wP'+'os:\x20vec3f\x20'+'=\x20vPositio'+'nW\x20+\x20norma'+'l\x20*\x20shadow'+'Params.y;\x0a'+'\x20\x20\x20\x20return'+'\x20_getShado'+'wCoordPers'+'pZbuffer(s'+'hadowMatri'+'x,\x20shadowP'+'arams,\x20wPo'+'s);\x0a}\x0a\x0afn\x20'+'normalOffs'+'etPointSha'+'dow(shadow'+'Params:\x20ve'+'c4f,\x20light'+'Pos:\x20vec3f'+',\x20lightDir'+':\x20vec3f,\x20l'+'ightDirNor'+'m:\x20vec3f,\x20'+'normal:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20distSc'+'ale:\x20f32\x20='+'\x20length(li'+'ghtDir);\x0a\x20'+'\x20\x20\x20let\x20wPo'+'s:\x20vec3f\x20='+'\x20vPosition'+'W\x20+\x20normal'+'\x20*\x20shadowP'+'arams.y\x20*\x20'+'clamp(1.0\x20'+'-\x20dot(norm'+'al,\x20-light'+'DirNorm),\x20'+'0.0,\x201.0)\x20'+'*\x20distScal'+'e;\x20//0.02\x0a'+'\x20\x20\x20\x20let\x20di'+'r:\x20vec3f\x20='+'\x20wPos\x20-\x20li'+'ghtPos;\x0a\x20\x20'+'\x20\x20return\x20d'+'ir;\x0a}\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x0a\x20\x20\x20\x20'+'fn\x20getShad'+'owOmniClus'+'teredPCF1('+'shadowMap:'+'\x20texture_d'+'epth_2d,\x20s'+'hadowMapSa'+'mpler:\x20sam'+'pler_compa'+'rison,\x20sha'+'dowParams:'+('\x20vec4f,\x20om'+'niAtlasVie'+'wport:\x20vec'+'3f,\x20shadow'+'EdgePixels'+':\x20f32,\x20lig'+'htDir:\x20vec'+'3f)\x20->\x20f32'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20shad'+'owTextureR'+'esolution:'+'\x20f32\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadowZ:\x20f'+'32\x20=\x20lengt'+'h(lightDir'+')\x20*\x20shadow'+'Params.w\x20+'+'\x20shadowPar'+'ams.z;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20textureS'+'ampleCompa'+'reLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20uv,'+'\x20shadowZ);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F3)\x0a\x0a\x20\x20\x20\x20f'+'n\x20getShado'+'wOmniClust'+'eredPCF3(s'+'hadowMap:\x20'+'texture_de'+'pth_2d,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler_compar'+'ison,\x20shad'+'owParams:\x20'+'vec4f,\x20omn'+'iAtlasView'+'port:\x20vec3'+'f,\x20shadowE'+'dgePixels:'+'\x20f32,\x20ligh'+'tDir:\x20vec3'+'f)\x20->\x20f32\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20shado'+'wTextureRe'+'solution:\x20'+'f32\x20=\x20shad'+'owParams.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20uv:\x20ve'+'c2f\x20=\x20getC'+'ubemapAtla'+'sCoordinat'+'es(omniAtl'+'asViewport'+',\x20shadowEd'+'gePixels,\x20'+'shadowText'+'ureResolut'+'ion,\x20light'+'Dir);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hadowZ:\x20f3'+'2\x20=\x20length'+'(lightDir)'+'\x20*\x20shadowP'+'arams.w\x20+\x20'+'shadowPara'+'ms.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20sh'+'adowCoord:'+'\x20vec3f\x20=\x20v'+'ec3f(uv,\x20s'+'hadowZ);\x0a\x20')+('\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF3x3('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20}\x0a\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF5)\x0a'+'\x0a\x20\x20\x20\x20fn\x20ge'+'tShadowOmn'+'iClustered'+'PCF5(shado'+'wMap:\x20text'+'ure_depth_'+'2d,\x20shadow'+'MapSampler'+':\x20sampler_'+'comparison'+',\x20shadowPa'+'rams:\x20vec4'+'f,\x20omniAtl'+'asViewport'+':\x20vec3f,\x20s'+'hadowEdgeP'+'ixels:\x20f32'+',\x20lightDir'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20shadowTex'+'tureResolu'+'tion:\x20f32\x20'+'=\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'uv:\x20vec2f\x20'+'=\x20getCubem'+'apAtlasCoo'+'rdinates(o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20shad'+'owTextureR'+'esolution,'+'\x20lightDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20shado'+'wZ:\x20f32\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'Coord:\x20vec'+'3f\x20=\x20vec3f'+'(uv,\x20shado'+'wZ);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowP'+'CF5x5(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'#endif\x0a\x0a//'+'\x20Clustered'+'\x20Spot\x20Samp'+'ling\x20using'+'\x20atlas\x0a\x0a#i'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF1)\x0a\x0a\x20\x20\x20'+'\x20fn\x20getSha'+'dowSpotClu'+'steredPCF1'+'(shadowMap'+':\x20texture_'+'depth_2d,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu')+('rn\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20sh'+'adowCoord.'+'xy,\x20shadow'+'Coord.z);\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x0a\x20\x20'+'\x20\x20fn\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec4f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowSpotPCF'+'3x3(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20shad'+'owParams);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF5)\x0a\x0a\x20'+'\x20\x20\x20fn\x20getS'+'hadowSpotC'+'lusteredPC'+'F5(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCF5x5'+'(shadowMap'+',\x20shadowMa'+'pSampler,\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a'),gM='\x0a\x0a#include'+'\x20\x22lightBuf'+'ferDefines'+'PS\x22\x0a\x0a//\x20in'+'clude\x20this'+'\x20before\x20sh'+'adow\x20/\x20coo'+'kie\x20code\x0a#'+'include\x20\x22c'+'lusteredLi'+'ghtUtilsPS'+'\x22\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightCookie'+'sPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_SH'+'ADOWS\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightShadow'+'sPS\x22\x0a#endi'+'f\x0a\x0avar\x20clu'+'sterWorldT'+'exture:\x20te'+'xture_2d<f'+'32>;\x0avar\x20l'+'ightsTextu'+'re:\x20textur'+'e_2d<f32>;'+'\x0a\x0a#ifdef\x20C'+'LUSTER_SHA'+'DOWS\x0a\x20\x20\x20\x20/'+'/\x20TODO:\x20wh'+'en\x20VSM\x20sha'+'dow\x20is\x20sup'+'ported,\x20it'+'\x20needs\x20to\x20'+'use\x20sample'+'r2D\x20in\x20web'+'gl2\x0a\x20\x20\x20\x20va'+'r\x20shadowAt'+'lasTexture'+':\x20texture_'+'depth_2d;\x0a'+'\x20\x20\x20\x20var\x20sh'+'adowAtlasT'+'extureSamp'+'ler:\x20sampl'+'er_compari'+'son;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'var\x20cookie'+'AtlasTextu'+'re:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20c'+'ookieAtlas'+'TextureSam'+'pler:\x20samp'+'ler;\x0a#endi'+'f\x0a\x0auniform'+'\x20clusterMa'+'xCells:\x20i3'+'2;\x0a\x0a//\x201.0'+'\x20if\x20cluste'+'red\x20lighti'+'ng\x20can\x20be\x20'+'skipped\x20(0'+'\x20lights\x20in'+'\x20the\x20clust'+'ers)\x0aunifo'+'rm\x20cluster'+'Skip:\x20f32;'+'\x0a\x0auniform\x20'+'clusterCel'+'lsCountByB'+'oundsSize:'+'\x20vec3f;\x0aun'+'iform\x20clus'+'terTexture'+'Size:\x20vec3'+'f;\x0auniform'+'\x20clusterBo'+'undsMin:\x20v'+'ec3f;\x0aunif'+'orm\x20cluste'+'rBoundsDel'+'ta:\x20vec3f;'+'\x0auniform\x20c'+'lusterCell'+'sDot:\x20vec3'+'f;\x0auniform'+'\x20clusterCe'+'llsMax:\x20ve'+('c3f;\x0aunifo'+'rm\x20shadowA'+'tlasParams'+':\x20vec2f;\x0a\x0a'+'//\x20structu'+'re\x20storing'+'\x20light\x20pro'+'perties\x20of'+'\x20a\x20cluster'+'ed\x20light\x0a/'+'/\x20it\x27s\x20sor'+'ted\x20to\x20hav'+'e\x20all\x20vect'+'ors\x20aligne'+'d\x20to\x204\x20flo'+'ats\x20to\x20lim'+'it\x20padding'+'\x0astruct\x20Cl'+'usterLight'+'Data\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x2032bit'+'\x20of\x20flags\x0a'+'\x20\x20\x20\x20flags:'+'\x20u32,\x0a\x0a\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20sizes'+'\x20/\x20orienta'+'tion\x0a\x20\x20\x20\x20h'+'alfWidth:\x20'+'vec3f,\x0a\x0a\x20\x20'+'\x20\x20isSpot:\x20'+'bool,\x0a\x0a\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20sizes'+'\x20/\x20orienta'+'tion\x0a\x20\x20\x20\x20h'+'alfHeight:'+'\x20vec3f,\x0a\x0a\x20'+'\x20\x20\x20//\x20ligh'+'t\x20index\x0a\x20\x20'+'\x20\x20lightInd'+'ex:\x20i32,\x0a\x0a'+'\x20\x20\x20\x20//\x20wor'+'ld\x20space\x20p'+'osition\x0a\x20\x20'+'\x20\x20position'+':\x20vec3f,\x0a\x0a'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sh'+'ape\x0a\x20\x20\x20\x20sh'+'ape:\x20u32,\x0a'+'\x0a\x20\x20\x20\x20//\x20wo'+'rld\x20space\x20'+'direction\x20'+'(spot\x20ligh'+'t\x20only)\x0a\x20\x20'+'\x20\x20directio'+'n:\x20vec3f,\x0a'+'\x0a\x20\x20\x20\x20//\x20li'+'ght\x20follow'+'\x20mode\x0a\x20\x20\x20\x20'+'falloffMod'+'eLinear:\x20b'+'ool,\x0a\x0a\x20\x20\x20\x20'+'//\x20color\x0a\x20'+'\x20\x20\x20color:\x20'+'vec3f,\x0a\x0a\x20\x20'+'\x20\x20//\x200.0\x20i'+'f\x20the\x20ligh'+'t\x20doesn\x27t\x20'+'cast\x20shado'+'ws\x0a\x20\x20\x20\x20sha'+'dowIntensi'+'ty:\x20f32,\x0a\x0a'+'\x20\x20\x20\x20//\x20atl'+'as\x20viewpor'+'t\x20for\x20omni'+'\x20light\x20sha'+'dow\x20and\x20co'+'okie\x20(.xy\x20'+'is\x20offset\x20'+'to\x20the\x20vie'+'wport\x20slot'+',\x20.z\x20is\x20si'+'ze\x20of\x20the\x20'+'face\x20in\x20th'+'e\x20atlas)\x0a\x20'+'\x20\x20\x20omniAtl'+'asViewport'+':\x20vec3f,\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20of\x20the\x20'+'light\x0a\x20\x20\x20\x20'+'range:\x20f32'+',\x0a\x0a\x20\x20\x20\x20//\x20'+'channel\x20ma'+'sk\x20-\x20one\x20o'+'f\x20the\x20chan'+'nels\x20has\x201'+',\x20the\x20othe')+('rs\x20are\x200\x0a\x20'+'\x20\x20\x20cookieC'+'hannelMask'+':\x20vec4f,\x0a\x0a'+'\x20\x20\x20\x20//\x20com'+'pressed\x20bi'+'ases,\x20two\x20'+'haf-floats'+'\x20stored\x20in'+'\x20a\x20float\x0a\x20'+'\x20\x20\x20biasesD'+'ata:\x20f32,\x0a'+'\x0a\x20\x20\x20\x20//\x20sh'+'adow\x20bias\x20'+'values\x0a\x20\x20\x20'+'\x20shadowBia'+'s:\x20f32,\x0a\x20\x20'+'\x20\x20shadowNo'+'rmalBias:\x20'+'f32,\x0a\x0a\x20\x20\x20\x20'+'//\x20compres'+'sed\x20angles'+',\x20two\x20haf-'+'floats\x20sto'+'red\x20in\x20a\x20f'+'loat\x0a\x20\x20\x20\x20a'+'nglesData:'+'\x20f32,\x0a\x0a\x20\x20\x20'+'\x20//\x20spot\x20l'+'ight\x20inner'+'\x20and\x20outer'+'\x20angle\x20cos'+'ine\x0a\x20\x20\x20\x20in'+'nerConeAng'+'leCos:\x20f32'+',\x0a\x20\x20\x20\x20oute'+'rConeAngle'+'Cos:\x20f32,\x0a'+'\x0a\x20\x20\x20\x20//\x20in'+'tensity\x20of'+'\x20the\x20cooki'+'e\x0a\x20\x20\x20\x20cook'+'ieIntensit'+'y:\x20f32,\x0a\x0a\x20'+'\x20\x20\x20//\x20ligh'+'t\x20mask\x0a\x20\x20\x20'+'\x20//float\x20m'+'ask;\x0a\x20\x20\x20\x20i'+'sDynamic:\x20'+'bool,\x0a\x20\x20\x20\x20'+'isLightmap'+'ped:\x20bool\x0a'+'}\x0a\x0a//\x20Note'+':\x20on\x20some\x20'+'devices\x20(t'+'ested\x20on\x20P'+'ixel\x203A\x20XL'+'),\x20this\x20ma'+'trix\x20when\x20'+'stored\x20ins'+'ide\x20the\x20li'+'ght\x20struct'+'\x20has\x20lower'+'\x20precision'+'\x20compared\x20'+'to\x0a//\x20when'+'\x20stored\x20ou'+'tside,\x20so\x20'+'we\x20store\x20i'+'t\x20outside\x20'+'to\x20avoid\x20s'+'pot\x20shadow'+'\x20flickerin'+'g.\x20This\x20mi'+'ght\x20need\x20t'+'o\x20be\x20done\x20'+'to\x20other\x20/'+'\x20all\x20membe'+'rs\x0a//\x20of\x20t'+'he\x20structu'+'re\x20if\x20furt'+'her\x20simila'+'r\x20issues\x20a'+'re\x20observe'+'d.\x0a\x0a//\x20sha'+'dow\x20(spot\x20'+'light\x20only'+')\x20/\x20cookie'+'\x20projectio'+'n\x20matrix\x0av'+'ar<private'+'>\x20lightPro'+'jectionMat'+'rix:\x20mat4x'+'4f;\x0a\x0afn\x20sa'+'mpleLightT'+'extureF(li'+'ghtIndex:\x20'+'i32,\x20index'+':\x20i32)\x20->\x20')+('vec4f\x20{\x0a\x20\x20'+'\x20\x20return\x20t'+'extureLoad'+'(lightsTex'+'ture,\x20vec2'+'<i32>(inde'+'x,\x20lightIn'+'dex),\x200);\x0a'+'}\x0a\x0afn\x20deco'+'deClusterL'+'ightCore(c'+'lusterLigh'+'tData:\x20ptr'+'<function,'+'\x20ClusterLi'+'ghtData>,\x20'+'lightIndex'+':\x20f32)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20lig'+'ht\x20index\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'lightIndex'+'\x20=\x20i32(lig'+'htIndex);\x0a'+'\x0a\x20\x20\x20\x20//\x20sa'+'mple\x20data\x20'+'encoding\x20h'+'alf-float\x20'+'values\x20int'+'o\x2032bit\x20ui'+'nts\x0a\x20\x20\x20\x20le'+'t\x20halfData'+':\x20vec4f\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData.lig'+'htIndex,\x20{'+'CLUSTER_TE'+'XTURE_COLO'+'R_ANGLES_B'+'IAS});\x0a\x0a\x20\x20'+'\x20\x20//\x20store'+'\x20floats\x20we'+'\x20decode\x20la'+'ter\x20as\x20nee'+'ded\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.angle'+'sData\x20=\x20ha'+'lfData.z;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.biasesDat'+'a\x20=\x20halfDa'+'ta.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20decomp'+'ress\x20color'+'\x20half-floa'+'ts\x0a\x20\x20\x20\x20let'+'\x20colorRG:\x20'+'vec2f\x20=\x20un'+'pack2x16fl'+'oat(bitcas'+'t<u32>(hal'+'fData.x));'+'\x0a\x20\x20\x20\x20let\x20c'+'olorB_:\x20ve'+'c2f\x20=\x20unpa'+'ck2x16floa'+'t(bitcast<'+'u32>(halfD'+'ata.y));\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'color\x20=\x20ve'+'c3f(colorR'+'G,\x20colorB_'+'.x)\x20*\x20{LIG'+'HT_COLOR_D'+'IVIDER};\x0a\x0a'+'\x20\x20\x20\x20//\x20pos'+'ition\x20and\x20'+'range,\x20ful'+'l\x20floats\x0a\x20'+'\x20\x20\x20let\x20lig'+'htPosRange'+':\x20vec4f\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData.lig'+'htIndex,\x20{'+'CLUSTER_TE'+'XTURE_POSI'+'TION_RANGE'+'});\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.posit')+('ion\x20=\x20ligh'+'tPosRange.'+'xyz;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.rang'+'e\x20=\x20lightP'+'osRange.w;'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'pot\x20direct'+'ion\x20&\x20flag'+'s\x20data\x0a\x20\x20\x20'+'\x20let\x20light'+'Dir_Flags:'+'\x20vec4f\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData.ligh'+'tIndex,\x20{C'+'LUSTER_TEX'+'TURE_DIREC'+'TION_FLAGS'+'});\x0a\x0a\x20\x20\x20\x20/'+'/\x20spot\x20lig'+'ht\x20directi'+'on\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.direct'+'ion\x20=\x20ligh'+'tDir_Flags'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x2032bit\x20'+'flags\x0a\x20\x20\x20\x20'+'let\x20flags_'+'uint:\x20u32\x20'+'=\x20bitcast<'+'u32>(light'+'Dir_Flags.'+'w);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.flags'+'\x20=\x20flags_u'+'int;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.isSp'+'ot\x20=\x20(flag'+'s_uint\x20&\x20('+'1u\x20<<\x2030u)'+')\x20!=\x200u;\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'shape\x20=\x20(f'+'lags_uint\x20'+'>>\x2028u)\x20&\x20'+'0x3u;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.fal'+'loffModeLi'+'near\x20=\x20(fl'+'ags_uint\x20&'+'\x20(1u\x20<<\x2027'+'u))\x20==\x200u;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.shadowIn'+'tensity\x20=\x20'+'f32((flags'+'_uint\x20>>\x200'+'u)\x20&\x200xFFu'+')\x20/\x20255.0;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieIn'+'tensity\x20=\x20'+'f32((flags'+'_uint\x20>>\x208'+'u)\x20&\x200xFFu'+')\x20/\x20255.0;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.isDynami'+'c\x20=\x20(flags'+'_uint\x20&\x20(1'+'u\x20<<\x2022u))'+'\x20!=\x200u;\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sLightmapp'+'ed\x20=\x20(flag'+'s_uint\x20&\x20('+'1u\x20<<\x2021u)'+')\x20!=\x200u;\x0a}'+'\x0a\x0afn\x20decod'+'eClusterLi'+'ghtSpot(cl'+'usterLight'+'Data:\x20ptr<'+'function,\x20'+'ClusterLig'+'htData>)\x20{')+('\x0a\x20\x20\x20\x20//\x20sp'+'ot\x20light\x20c'+'os\x20angles\x0a'+'\x20\x20\x20\x20let\x20an'+'gles:\x20vec2'+'f\x20=\x20unpack'+'2x16float('+'bitcast<u3'+'2>(cluster'+'LightData.'+'anglesData'+'));\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.inner'+'ConeAngleC'+'os\x20=\x20angle'+'s.x;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20angl'+'es.y;\x0a}\x0a\x0af'+'n\x20decodeCl'+'usterLight'+'OmniAtlasV'+'iewport(cl'+'usterLight'+'Data:\x20ptr<'+'function,\x20'+'ClusterLig'+'htData>)\x20{'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.omniAtla'+'sViewport\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData.l'+'ightIndex,'+'\x20{CLUSTER_'+'TEXTURE_PR'+'OJ_MAT_0})'+'.xyz;\x0a}\x0a\x0af'+'n\x20decodeCl'+'usterLight'+'AreaData(c'+'lusterLigh'+'tData:\x20ptr'+'<function,'+'\x20ClusterLi'+'ghtData>)\x20'+'{\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.halfWid'+'th\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a.lightInd'+'ex,\x20{CLUST'+'ER_TEXTURE'+'_AREA_DATA'+'_WIDTH}).x'+'yz;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.halfH'+'eight\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data.light'+'Index,\x20{CL'+'USTER_TEXT'+'URE_AREA_D'+'ATA_HEIGHT'+'}).xyz;\x0a}\x0a'+'\x0afn\x20decode'+'ClusterLig'+'htProjecti'+'onMatrixDa'+'ta(cluster'+'LightData:'+'\x20ptr<funct'+'ion,\x20Clust'+'erLightDat'+'a>)\x20{\x0a\x20\x20\x20\x20'+'//\x20shadow\x20'+'matrix\x0a\x20\x20\x20'+'\x20let\x20m0:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_0});\x0a\x20\x20\x20'+'\x20let\x20m1:\x20v')+('ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_1});\x0a\x20\x20\x20'+'\x20let\x20m2:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_2});\x0a\x20\x20\x20'+'\x20let\x20m3:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_3});\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4x'+'4f(m0,\x20m1,'+'\x20m2,\x20m3);\x0a'+'}\x0a\x0afn\x20deco'+'deClusterL'+'ightShadow'+'Data(clust'+'erLightDat'+'a:\x20ptr<fun'+'ction,\x20Clu'+'sterLightD'+'ata>)\x20{\x0a\x20\x20'+'\x20\x20//\x20shado'+'w\x20biases\x0a\x20'+'\x20\x20\x20let\x20bia'+'ses:\x20vec2f'+'\x20=\x20unpack2'+'x16float(b'+'itcast<u32'+'>(clusterL'+'ightData.b'+'iasesData)'+');\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.shadow'+'Bias\x20=\x20bia'+'ses.x;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.sh'+'adowNormal'+'Bias\x20=\x20bia'+'ses.y;\x0a}\x0a\x0a'+'fn\x20decodeC'+'lusterLigh'+'tCookieDat'+'a(clusterL'+'ightData:\x20'+'ptr<functi'+'on,\x20Cluste'+'rLightData'+'>)\x20{\x0a\x0a\x20\x20\x20\x20'+'//\x20extract'+'\x20channel\x20m'+'ask\x20from\x20f'+'lags\x0a\x20\x20\x20\x20l'+'et\x20cookieF'+'lags:\x20u32\x20'+'=\x20(cluster'+'LightData.'+'flags\x20>>\x202'+'3u)\x20&\x200x0F'+'u;\x20\x20//\x204bi'+'ts,\x20each\x20b'+'it\x20enables'+'\x20a\x20channel'+'\x0a\x20\x20\x20\x20let\x20m'+'ask_uvec:\x20'+'vec4<u32>\x20'+'=\x20vec4<u32'+'>(cookieFl'+'ags)\x20&\x20vec'+'4<u32>(1u,'+'\x202u,\x204u,\x208'+'u);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.cooki'+'eChannelMa'+'sk\x20=\x20step('+'vec4f(1.0)')+(',\x20vec4f(ma'+'sk_uvec));'+'\x20//\x20Normal'+'ize\x20to\x200.0'+'\x20or\x201.0\x0a}\x0a'+'\x0afn\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20light:\x20'+'ptr<functi'+'on,\x20Cluste'+'rLightData'+'>,\x0a\x20\x20\x20\x20wor'+'ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20viewDir:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20reflectio'+'nDir:\x20vec3'+'f,\x0a#if\x20def'+'ined(LIT_C'+'LEARCOAT)\x0a'+'\x20\x20\x20\x20clearc'+'oatReflect'+'ionDir:\x20ve'+'c3f,\x0a#endi'+'f\x0a\x20\x20\x20\x20glos'+'s:\x20f32,\x0a\x20\x20'+'\x20\x20specular'+'ity:\x20vec3f'+',\x0a\x20\x20\x20\x20geom'+'etricNorma'+'l:\x20vec3f,\x0a'+'\x20\x20\x20\x20tbn:\x20m'+'at3x3f,\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20iridescen'+'ceFresnel:'+'\x20vec3f,\x0a#e'+'ndif\x0a\x20\x20\x20\x20c'+'learcoat_w'+'orldNormal'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20clearco'+'at_gloss:\x20'+'f32,\x0a\x20\x20\x20\x20s'+'heen_gloss'+':\x20f32,\x0a\x20\x20\x20'+'\x20iridescen'+'ce_intensi'+'ty:\x20f32\x0a)\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ve'+'c3f(1.0);\x0a'+'\x20\x20\x20\x20var\x20di'+'ffuseAtten'+'uation:\x20f3'+'2\x20=\x201.0;\x0a\x20'+'\x20\x20\x20var\x20fal'+'loffAttenu'+'ation:\x20f32'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20omni\x20'+'part\x20of\x20th'+'e\x20light\x0a\x20\x20'+'\x20\x20let\x20ligh'+'tDirW:\x20vec'+'3f\x20=\x20evalO'+'mniLight(l'+'ight.posit'+'ion);\x0a\x20\x20\x20\x20'+'let\x20lightD'+'irNormW:\x20v'+'ec3f\x20=\x20nor'+'malize(lig'+'htDirW);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_A'+'REALIGHTS\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'stance\x20att'+'enuation\x0a\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20!'+'=\x20{LIGHTSH'+'APE_PUNCTU'+'AL})\x20{\x20//\x20'+'area\x20light'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tAreaData('+'light);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20')+('handle\x20lig'+'ht\x20shape\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcRectLig'+'htValues(l'+'ight.posit'+'ion,\x20light'+'.halfWidth'+',\x20light.ha'+'lfHeight);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcDiskLigh'+'tValues(li'+'ght.positi'+'on,\x20light.'+'halfWidth,'+'\x20light.hal'+'fHeight);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x20//\x20'+'sphere\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcSphereL'+'ightValues'+'(light.pos'+'ition,\x20lig'+'ht.halfWid'+'th,\x20light.'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20falloffA'+'ttenuation'+'\x20=\x20getFall'+'offWindow('+'light.rang'+'e,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.fallo'+'ffModeLine'+'ar)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20=\x20g'+'etFalloffL'+'inear(ligh'+'t.range,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'falloffAtt'+'enuation\x20='+'\x20getFallof'+'fInvSquare'+'d(light.ra'+'nge,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20if'+'\x20(falloffA'+'ttenuation'+'\x20>\x200.00001'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'CLUSTER_AR'+'EALIGHTS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.sh'+'ape\x20!=\x20{LI'+'GHTSHAPE_P'+'UNCTUAL})\x20'+'{\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20handle\x20l'+'ight\x20shape'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20='+'=\x20{LIGHTSH'+'APE_RECT})'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getRectLig'+'htDiffuse('+'worldNorma'+'l,\x20viewDir'+',\x20lightDir'+'W,\x20lightDi'+'rNormW)\x20*\x20'+'16.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_DISK'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20diffuseAt'+'tenuation\x20'+'=\x20getDiskL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irW,\x20light'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x20{\x20/'+'/\x20sphere\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20diffu'+'seAttenuat'+'ion\x20=\x20getS'+'phereLight'+'Diffuse(wo'+'rldNormal,'+'\x20viewDir,\x20'+'lightDirW,'+'\x20lightDirN'+'ormW)\x20*\x2016'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20getLi'+'ghtDiffuse'+'(worldNorm'+'al,\x20viewDi'+'r,\x20lightDi'+'rNormW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.is'+'Spot)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'decodeClus'+'terLightSp'+'ot(light);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20getSp'+'otEffect(l'+'ight.direc'+'tion,\x20ligh'+'t.innerCon'+'eAngleCos,'+'\x20light.out'+'erConeAngl'+'eCos,\x20ligh'+'tDirNormW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(CLUSTER'+'_COOKIES)\x20'+'||\x20defined'+'(CLUSTER_S'+'HADOWS)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(falloffAt'+'tenuation\x20'+'>\x200.00001)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'hadow\x20/\x20co')+('okie\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'dowIntensi'+'ty\x20>\x200.0\x20|'+'|\x20light.co'+'okieIntens'+'ity\x20>\x200.0)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20shared\x20'+'shadow\x20/\x20c'+'ookie\x20data'+'\x20depends\x20o'+'n\x20light\x20ty'+'pe\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(light.i'+'sSpot)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ecodeClust'+'erLightPro'+'jectionMat'+'rixData(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20decodeClu'+'sterLightO'+'mniAtlasVi'+'ewport(lig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'TextureRes'+'olution:\x20f'+'32\x20=\x20unifo'+'rm.shadowA'+'tlasParams'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'EdgePixels'+':\x20f32\x20=\x20un'+'iform.shad'+'owAtlasPar'+'ams.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_C'+'OOKIES\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(light.'+'cookieInte'+'nsity\x20>\x200.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtCookieD'+'ata(light)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.isSpot)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'!!!!!!!!!!'+'!\x20TEXTURE_'+'PASS\x20likel'+'y\x20needs\x20sa'+'mpler.\x20Ass'+'uming\x20cook'+'ieAtlasTex'+'tureSample'+'r\x20exists.\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20cookie'+'Attenuatio'+'n\x20=\x20getCoo'+'kie2DClust'+'ered(cooki'+'eAtlasText'+'ure,\x20cooki'+'eAtlasText'+'ureSampler'+',\x20lightPro'+'jectionMat'+'rix,\x20vPosi'+'tionW,\x20lig')+('ht.cookieI'+'ntensity,\x20'+'light.cook'+'ieChannelM'+'ask);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20!!!!!!!!'+'!!!\x20TEXTUR'+'E_PASS\x20lik'+'ely\x20needs\x20'+'sampler.\x20A'+'ssuming\x20co'+'okieAtlasT'+'extureSamp'+'ler\x20exists'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20cook'+'ieAttenuat'+'ion\x20=\x20getC'+'ookieCubeC'+'lustered(c'+'ookieAtlas'+'Texture,\x20c'+'ookieAtlas'+'TextureSam'+'pler,\x20ligh'+'tDirW,\x20lig'+'ht.cookieI'+'ntensity,\x20'+'light.cook'+'ieChannelM'+'ask,\x20shado'+'wTextureRe'+'solution,\x20'+'shadowEdge'+'Pixels,\x20li'+'ght.omniAt'+'lasViewpor'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20CLUSTER_'+'SHADOWS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'adow\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(light'+'.shadowInt'+'ensity\x20>\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20deco'+'deClusterL'+'ightShadow'+'Data(light'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20sh'+'adowParams'+':\x20vec4f\x20=\x20'+'vec4f(shad'+'owTextureR'+'esolution,'+'\x20light.sha'+'dowNormalB'+'ias,\x20light'+'.shadowBia'+'s,\x201.0\x20/\x20l'+'ight.range'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.isSpot'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot\x20sha'+'dow\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20shadowCo'+'ord:\x20vec3f'+'\x20=\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(lightPro'+'jectionMat')+('rix,\x20shado'+'wParams,\x20g'+'eometricNo'+'rmal);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20!!!!!'+'!!!!!!\x20SHA'+'DOWMAP_PAS'+'S\x20needs\x20te'+'xture\x20and\x20'+'sampler_co'+'mparison.\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20!!!'+'!!!!!!!!\x20S'+'hadow\x20func'+'tions\x20need'+'\x20update\x20fo'+'r\x20WGSL\x20tex'+'tureSample'+'Compare\x20et'+'c.\x20Assumin'+'g\x20these\x20ar'+'e\x20handled\x20'+'in\x20include'+'s.\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sha'+'dow:\x20f32\x20='+'\x20getShadow'+'SpotCluste'+'redPCF1(sh'+'adowAtlasT'+'exture,\x20sh'+'adowAtlasT'+'extureSamp'+'ler,\x20shado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hadow:\x20f32'+'\x20=\x20getShad'+'owSpotClus'+'teredPCF3('+'shadowAtla'+'sTexture,\x20'+'shadowAtla'+'sTextureSa'+'mpler,\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF5)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20shadow:\x20f'+'32\x20=\x20getSh'+'adowSpotCl'+'usteredPCF'+'5(shadowAt'+'lasTexture'+',\x20shadowAt'+'lasTexture'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCSS)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l')+('et\x20shadow:'+'\x20f32\x20=\x20get'+'ShadowSpot'+'ClusteredP'+'CSS(shadow'+'AtlasTextu'+'re,\x20shadow'+'AtlasTextu'+'reSampler,'+'\x20shadowCoo'+'rd,\x20shadow'+'Params);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20fallof'+'fAttenuati'+'on\x20=\x20fallo'+'ffAttenuat'+'ion\x20*\x20mix('+'1.0,\x20shado'+'w,\x20light.s'+'hadowInten'+'sity);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20omni\x20'+'shadow\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20dir:\x20'+'vec3f\x20=\x20no'+'rmalOffset'+'PointShado'+'w(shadowPa'+'rams,\x20ligh'+'t.position'+',\x20lightDir'+'W,\x20lightDi'+'rNormW,\x20ge'+'ometricNor'+'mal);\x20\x20//\x20'+'normalBias'+'\x20adjusted\x20'+'for\x20distan'+'ce\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20!!!!!!!!!'+'!!\x20SHADOWM'+'AP_PASS\x20ne'+'eds\x20textur'+'e\x20and\x20samp'+'ler_compar'+'ison.\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20!!!!!!!'+'!!!!\x20Shado'+'w\x20function'+'s\x20need\x20upd'+'ate\x20for\x20WG'+'SL\x20texture'+'SampleComp'+'are\x20etc.\x20A'+'ssuming\x20th'+'ese\x20are\x20ha'+'ndled\x20in\x20i'+'ncludes.\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF1)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20shadow:'+'\x20f32\x20=\x20get'+'ShadowOmni'+'ClusteredP'+'CF1(shadow'+'AtlasTextu'+'re,\x20shadow'+'AtlasTextu'+'reSampler,'+'\x20shadowPar'+'ams,\x20light'+'.omniAtlas'+'Viewport,\x20'+'shadowEdge'+'Pixels,\x20di'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadow:\x20f3'+'2\x20=\x20getSha'+'dowOmniClu'+'steredPCF3'+'(shadowAtl'+'asTexture,'+'\x20shadowAtl'+'asTextureS'+'ampler,\x20sh'+'adowParams'+',\x20light.om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20dir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF5)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sha'+'dow:\x20f32\x20='+'\x20getShadow'+'OmniCluste'+'redPCF5(sh'+'adowAtlasT'+'exture,\x20sh'+'adowAtlasT'+'extureSamp'+'ler,\x20shado'+'wParams,\x20l'+'ight.omniA'+'tlasViewpo'+'rt,\x20shadow'+'EdgePixels'+',\x20dir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20mix(1'+'.0,\x20shadow'+',\x20light.sh'+'adowIntens'+'ity);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'/\x20specular'+'\x20/\x20clearco'+'at\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_AREA'+'LIGHTS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.shap'+'e\x20!=\x20{LIGH'+'TSHAPE_PUN'+'CTUAL})\x20{\x20'+'//\x20area\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20diffuse\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20areaDif'+'fuse:\x20vec3'+'f\x20=\x20(diffu'+'seAttenuat'+'ion\x20*\x20fall'+'offAttenua'+'tion)\x20*\x20li')+('ght.color\x20'+'*\x20cookieAt'+'tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_SPECUL'+'AR)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaDi'+'ffuse\x20=\x20mi'+'x(areaDiff'+'use,\x20vec3f'+'(0.0),\x20dLT'+'CSpecFres)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20diff'+'use\x20-\x20it\x20d'+'oes\x20not\x20mi'+'x\x20diffuse\x20'+'lighting\x20i'+'nto\x20specul'+'ar\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20dDi'+'ffuseLight'+'\x20+\x20areaDif'+'fuse;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spec'+'ular\x20and\x20c'+'lear\x20coat\x20'+'are\x20materi'+'al\x20setting'+'s\x20and\x20get\x20'+'included\x20b'+'y\x20a\x20define'+'\x20based\x20on\x20'+'the\x20materi'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20spec'+'ular\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20areaL'+'ightSpecul'+'ar:\x20f32;\x20/'+'/\x20Use\x20var\x20'+'because\x20as'+'signed\x20in\x20'+'if/else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_RECT'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'ar\x20=\x20getRe'+'ctLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20if\x20(ligh'+'t.shape\x20=='+'\x20{LIGHTSHA'+'PE_DISK})\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecular\x20'+'=\x20getDiskL'+'ightSpecul'+'ar(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x20//\x20sphere'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20areaLight'+'Specular\x20='+'\x20getSphere'+'LightSpecu')+('lar(worldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20+\x20dLTC'+'SpecFres\x20*'+'\x20areaLight'+'Specular\x20*'+'\x20falloffAt'+'tenuation\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sp'+'ecular\x20cle'+'ar\x20coat\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20areaLigh'+'tSpecularC'+'C:\x20f32;\x20//'+'\x20Use\x20var\x20b'+'ecause\x20ass'+'igned\x20in\x20i'+'f/else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.sh'+'ape\x20==\x20{LI'+'GHTSHAPE_R'+'ECT})\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecularC'+'C\x20=\x20getRec'+'tLightSpec'+'ular(clear'+'coat_world'+'Normal,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_DISK'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'reaLightSp'+'ecularCC\x20='+'\x20getDiskLi'+'ghtSpecula'+'r(clearcoa'+'t_worldNor'+'mal,\x20viewD'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20{\x20//\x20sph'+'ere\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaLightSpe'+'cularCC\x20=\x20'+'getSphereL'+'ightSpecul'+'ar(clearco'+'at_worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'cSpecularL'+'ight\x20=\x20ccS'+'pecularLig'+'ht\x20+\x20ccLTC'+'SpecFres\x20*'+'\x20areaLight'+'SpecularCC'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20\x20*\x20c'+'ookieAtten')+('uation;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x20\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20punctual'+'\x20light\x20dif'+'fuse\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20p'+'unctualDif'+'fuse:\x20vec3'+'f\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(CLU'+'STER_AREAL'+'IGHTS)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_S'+'PECULAR)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'unctualDif'+'fuse\x20=\x20mix'+'(punctualD'+'iffuse,\x20ve'+'c3f(0.0),\x20'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20=\x20dDiffus'+'eLight\x20+\x20p'+'unctualDif'+'fuse;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spec'+'ular\x20and\x20c'+'lear\x20coat\x20'+'are\x20materi'+'al\x20setting'+'s\x20and\x20get\x20'+'included\x20b'+'y\x20a\x20define'+'\x20based\x20on\x20'+'the\x20materi'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20half'+'Dir:\x20vec3f'+'\x20=\x20normali'+'ze(-lightD'+'irNormW\x20+\x20'+'viewDir);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specular\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR_FRESN'+'EL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20=\x20'+'dSpecularL'+'ight\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD')+('ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view'+'Dir,\x20halfD'+'ir),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecularity\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ce_intensi'+'ty\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20+'+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'=\x20ccSpecul'+'arLight\x20+\x20'+'getLightSp'+'ecular(hal'+'fDir,\x20clea'+'rcoatRefle'+'ctionDir,\x20'+'clearcoat_'+'worldNorma'+'l,\x20viewDir'+',\x20lightDir'+'NormW,\x20cle'+'arcoat_glo'+'ss,\x20tbn)\x20*'+'\x20falloffAt')+('tenuation\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion\x20*\x20getF'+'resnelCC(d'+'ot(viewDir'+',\x20halfDir)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20='+'\x20ccSpecula'+'rLight\x20+\x20g'+'etLightSpe'+'cular(half'+'Dir,\x20clear'+'coatReflec'+'tionDir,\x20c'+'learcoat_w'+'orldNormal'+',\x20viewDir,'+'\x20lightDirN'+'ormW,\x20clea'+'rcoat_glos'+'s,\x20tbn)\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20*\x20cooki'+'eAttenuati'+'on;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20=\x20sSpec'+'ularLight\x20'+'+\x20getLight'+'SpecularSh'+'een(halfDi'+'r,\x20worldNo'+'rmal,\x20view'+'Dir,\x20light'+'DirNormW,\x20'+'sheen_glos'+'s)\x20*\x20fallo'+'ffAttenuat'+'ion\x20*\x20ligh'+'t.color\x20*\x20'+'cookieAtte'+'nuation;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20Writ'+'e\x20to\x20globa'+'l\x20attenuat'+'ion\x20values'+'\x20(for\x20ligh'+'tmapper)\x0a\x20'+'\x20\x20\x20dAtten\x20'+'=\x20falloffA'+'ttenuation'+';\x0a\x20\x20\x20\x20dLig'+'htDirNormW'+'\x20=\x20lightDi'+'rNormW;\x0a}\x0a'+'\x0a\x0afn\x20evalu'+'ateCluster'+'Light(\x0a\x20\x20\x20'+'\x20lightInde'+'x:\x20f32,\x0a\x20\x20'+'\x20\x20worldNor'+'mal:\x20vec3f'+',\x0a\x20\x20\x20\x20view'+'Dir:\x20vec3f'+',\x0a\x20\x20\x20\x20refl'+'ectionDir:'+'\x20vec3f,\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20c'+'learcoatRe'+'flectionDi'+'r:\x20vec3f,\x0a'+'#endif\x0a\x20\x20\x20')+('\x20gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20spe'+'cularity:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20geometric'+'Normal:\x20ve'+'c3f,\x0a\x20\x20\x20\x20t'+'bn:\x20mat3x3'+'f,\x0a#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20irid'+'escenceFre'+'snel:\x20vec3'+'f,\x0a#endif\x0a'+'\x20\x20\x20\x20clearc'+'oat_worldN'+'ormal:\x20vec'+'3f,\x0a\x20\x20\x20\x20cl'+'earcoat_gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20sheen_'+'gloss:\x20f32'+',\x0a\x20\x20\x20\x20irid'+'escence_in'+'tensity:\x20f'+'32\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20decod'+'e\x20core\x20lig'+'ht\x20data\x20fr'+'om\x20texture'+'s\x0a\x20\x20\x20\x20var\x20'+'clusterLig'+'htData:\x20Cl'+'usterLight'+'Data;\x0a\x20\x20\x20\x20'+'decodeClus'+'terLightCo'+'re(&cluste'+'rLightData'+',\x20lightInd'+'ex);\x0a\x0a\x20\x20\x20\x20'+'//\x20evaluat'+'e\x20light\x20if'+'\x20it\x20uses\x20a'+'ccepted\x20li'+'ght\x20mask\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'CLUSTER_ME'+'SH_DYNAMIC'+'_LIGHTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'acceptLigh'+'tMask:\x20boo'+'l\x20=\x20cluste'+'rLightData'+'.isDynamic'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20accept'+'LightMask:'+'\x20bool\x20=\x20cl'+'usterLight'+'Data.isLig'+'htmapped;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'acceptLigh'+'tMask)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20eva'+'luateLight'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20&clust'+'erLightDat'+'a,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20world'+'Normal,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'viewDir,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20reflectio'+'nDir,\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x0a#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20spe'+'cularity,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20geometri'+'cNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20tbn,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE')+('NCE)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descenceFr'+'esnel,\x0a#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_worl'+'dNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'sheen_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20);\x0a\x20\x20'+'\x20\x20}\x0a}\x0a\x0a\x0afn'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20world'+'Normal:\x20ve'+'c3f,\x0a\x20\x20\x20\x20v'+'iewDir:\x20ve'+'c3f,\x0a\x20\x20\x20\x20r'+'eflectionD'+'ir:\x20vec3f,'+'\x0a#if\x20defin'+'ed(LIT_CLE'+'ARCOAT)\x0a\x20\x20'+'\x20\x20clearcoa'+'tReflectio'+'nDir:\x20vec3'+'f,\x0a#endif\x0a'+'\x20\x20\x20\x20gloss:'+'\x20f32,\x0a\x20\x20\x20\x20'+'specularit'+'y:\x20vec3f,\x0a'+'\x20\x20\x20\x20geomet'+'ricNormal:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20tbn:\x20mat'+'3x3f,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20i'+'ridescence'+'Fresnel:\x20v'+'ec3f,\x0a#end'+'if\x0a\x20\x20\x20\x20cle'+'arcoat_wor'+'ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20clearcoat'+'_gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20she'+'en_gloss:\x20'+'f32,\x0a\x20\x20\x20\x20i'+'ridescence'+'_intensity'+':\x20f32\x0a)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20sk'+'ip\x20lights\x20'+'if\x20no\x20ligh'+'ts\x20at\x20all\x0a'+'\x20\x20\x20\x20if\x20(un'+'iform.clus'+'terSkip\x20>\x20'+'0.5)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20wor'+'ld\x20space\x20p'+'osition\x20to'+'\x203d\x20intege'+'r\x20cell\x20cor'+'dinates\x20in'+'\x20the\x20clust'+'er\x20structu'+'re\x0a\x20\x20\x20\x20let'+'\x20cellCoord'+'s:\x20vec3f\x20='+'\x20floor((vP'+'ositionW\x20-'+'\x20uniform.c'+'lusterBoun'+'dsMin)\x20*\x20u'+'niform.clu'+'sterCellsC'+'ountByBoun'+'dsSize);\x0a\x0a'+'\x20\x20\x20\x20//\x20no\x20'+'lighting\x20w'+'hen\x20cell\x20c'+'oordinate\x20'+'is\x20out\x20of\x20'+'range\x0a\x20\x20\x20\x20'+'if\x20(!(any('+'cellCoords')+('\x20<\x20vec3f(0'+'.0))\x20||\x20an'+'y(cellCoor'+'ds\x20>=\x20unif'+'orm.cluste'+'rCellsMax)'+'))\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cel'+'l\x20index\x20(m'+'apping\x20fro'+'m\x203d\x20cell\x20'+'coordinate'+'s\x20to\x20linea'+'r\x20memory)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20cellInde'+'x:\x20f32\x20=\x20d'+'ot(uniform'+'.clusterCe'+'llsDot,\x20ce'+'llCoords);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20convert'+'\x20cell\x20inde'+'x\x20to\x20uv\x20co'+'ordinates\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20clusterV'+':\x20f32\x20=\x20fl'+'oor(cellIn'+'dex\x20*\x20unif'+'orm.cluste'+'rTextureSi'+'ze.y);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20c'+'lusterU:\x20f'+'32\x20=\x20cellI'+'ndex\x20-\x20(cl'+'usterV\x20*\x20u'+'niform.clu'+'sterTextur'+'eSize.x);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20loop\x20ove'+'r\x20maximum\x20'+'number\x20of\x20'+'light\x20cell'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'for\x20(var\x20l'+'ightCellIn'+'dex:\x20i32\x20='+'\x200;\x20lightC'+'ellIndex\x20<'+'\x20uniform.c'+'lusterMaxC'+'ells;\x20ligh'+'tCellIndex'+'\x20=\x20lightCe'+'llIndex\x20+\x20'+'1)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20using\x20a\x20s'+'ingle\x20chan'+'nel\x20textur'+'e\x20with\x20dat'+'a\x20in\x20red\x20c'+'hannel\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20lightIn'+'dexPacked:'+'\x20f32\x20=\x20tex'+'tureLoad(c'+'lusterWorl'+'dTexture,\x20'+'vec2<i32>('+'i32(cluste'+'rU)\x20+\x20ligh'+'tCellIndex'+',\x20i32(clus'+'terV)),\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(lightInde'+'xPacked\x20<='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20break;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ev'+'aluateClus'+'terLight(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tIndexPack'+'ed\x20*\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20vie'+'wDir,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20reflecti'+'onDir,\x0a#if'+'\x20defined(L'+'IT_CLEARCO'+'AT)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'specularit'+'y,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'eometricNo'+'rmal,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20tbn,\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coat_world'+'Normal,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20clearc'+'oat_gloss,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20she'+'en_gloss,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a}'),SM='\x0afn\x20combin'+'eColor(alb'+'edo:\x20vec3f'+',\x20sheenSpe'+'cularity:\x20'+'vec3f,\x20cle'+'arcoatSpec'+'ularity:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20ret:\x20ve'+'c3f\x20=\x20vec3'+'f(0.0);\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_OLD_AM'+'BIENT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ret\x20=\x20'+'ret\x20+\x20((dD'+'iffuseLigh'+'t\x20-\x20unifor'+'m.light_gl'+'obalAmbien'+'t)\x20*\x20albed'+'o\x20+\x20unifor'+'m.material'+'_ambient\x20*'+'\x20uniform.l'+'ight_globa'+'lAmbient);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20(albedo\x20*'+'\x20dDiffuseL'+'ight);\x0a\x20\x20\x20'+'\x20#endif\x20//'+'\x20LIT_OLD_A'+'MBIENT\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20dSpecular'+'Light;\x0a\x20\x20\x20'+'\x20#endif\x20//'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20(dReflect'+'ion.rgb\x20*\x20'+'dReflectio'+'n.a);\x0a\x20\x20\x20\x20'+'#endif\x20//\x20'+'LIT_REFLEC'+'TIONS\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'sheenScali'+'ng:\x20f32\x20=\x20'+'1.0\x20-\x20max('+'max(sheenS'+'pecularity'+'.r,\x20sheenS'+'pecularity'+'.g),\x20sheen'+'Specularit'+'y.b)\x20*\x200.1'+'57;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20sheenS'+'caling\x20+\x20('+'sSpecularL'+'ight\x20+\x20sRe'+'flection.r'+'gb)\x20*\x20shee'+'nSpeculari'+'ty;\x0a\x20\x20\x20\x20#e'+'ndif\x20//\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20clear'+'CoatScalin'+'g:\x20f32\x20=\x201'+'.0\x20-\x20ccFre'+'snel\x20*\x20cle'+'arcoatSpec'+'ularity;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'\x20=\x20ret\x20*\x20c'+'learCoatSc'+'aling\x20+\x20(c'+'cSpecularL'+'ight\x20+\x20ccR'+'eflection)'+('\x20*\x20clearco'+'atSpecular'+'ity;\x0a\x20\x20\x20\x20#'+'endif\x20//\x20L'+'IT_CLEARCO'+'AT\x0a\x0a\x20\x20\x20\x20re'+'turn\x20ret;\x0a'+'}\x0a'),yM='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c2f;\x0a\x0a\x20\x20\x20\x20'+'var\x20blitTe'+'xture:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20blitText'+'ureSampler'+'\x20:\x20sampler'+';\x0a\x0a\x20\x20\x20\x20@fr'+'agment\x0a\x20\x20\x20'+'\x20fn\x20fragme'+'ntMain(inp'+'ut\x20:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20output:\x20'+'FragmentOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20t'+'extureSamp'+'le(blitTex'+'ture,\x20blit'+'TextureSam'+'pler,\x20inpu'+'t.uv0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a\x20\x20\x20\x20}\x0a',vM='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c2f;\x0a\x20\x20\x20\x20u'+'niform\x20inv'+'ViewProj:\x20'+'mat4x4<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20blitTextu'+'re:\x20textur'+'e_cube<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20blitTextu'+'reSampler\x20'+':\x20sampler;'+'\x0a\x0a\x20\x20\x20\x20@fra'+'gment\x0a\x20\x20\x20\x20'+'fn\x20fragmen'+'tMain(inpu'+'t\x20:\x20Fragme'+'ntInput)\x20-'+'>\x20Fragment'+'Output\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20pro'+'jPos\x20=\x20vec'+'4f(input.u'+'v0\x20*\x202.0\x20-'+'\x201.0,\x200.5,'+'\x201.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20w'+'orldPos\x20=\x20'+'uniform.in'+'vViewProj\x20'+'*\x20projPos;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20textur'+'eSample(bl'+'itTexture,'+'\x20blitTextu'+'reSampler,'+'\x20worldPos.'+'xyz);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20output;\x0a\x20'+'\x20\x20\x20}\x0a',xM='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20varying'+'\x20uv0:\x20vec2'+'f;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input:'+'\x20VertexInp'+'ut)\x20->\x20Ver'+'texOutput\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20vec4f(in'+'put.vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.uv0'+'\x20=\x20input.v'+'ertex_posi'+'tion\x20*\x200.5'+'\x20+\x20vec2f(0'+'.5,\x200.5);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.uv0.y'+'\x20=\x201.0\x20-\x20o'+'utput.uv0.'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a',TM='\x0a\x0a#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20BOX\x0a\x20\x20\x20\x20'+'uniform\x20en'+'vBoxMin:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'uniform\x20en'+'vBoxMax:\x20v'+'ec3f;\x0a#end'+'if\x0a\x0afn\x20cub'+'eMapProjec'+'t(nrdir:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20cubeMapR'+'otate(nrdi'+'r);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20LIT_CU'+'BEMAP_PROJ'+'ECTION\x20==\x20'+'BOX\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20nrd'+'ir_rotated'+':\x20vec3f\x20=\x20'+'cubeMapRot'+'ate(nrdir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20rbmax'+':\x20vec3f\x20=\x20'+'(uniform.e'+'nvBoxMax\x20-'+'\x20vPosition'+'W)\x20/\x20nrdir'+'_rotated;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20rbmin:\x20v'+'ec3f\x20=\x20(un'+'iform.envB'+'oxMin\x20-\x20vP'+'ositionW)\x20'+'/\x20nrdir_ro'+'tated;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'rbminmax:\x20'+'vec3f\x20=\x20se'+'lect(rbmin'+',\x20rbmax,\x20n'+'rdir_rotat'+'ed\x20>\x20vec3f'+'(0.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'fa:\x20f32\x20=\x20'+'min(min(rb'+'minmax.x,\x20'+'rbminmax.y'+'),\x20rbminma'+'x.z);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20p'+'osonbox:\x20v'+'ec3f\x20=\x20vPo'+'sitionW\x20+\x20'+'nrdir_rota'+'ted\x20*\x20fa;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20envBoxPo'+'s:\x20vec3f\x20='+'\x20(uniform.'+'envBoxMin\x20'+'+\x20uniform.'+'envBoxMax)'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20normali'+'ze(posonbo'+'x\x20-\x20envBox'+'Pos);\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',wM='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20cubeMap'+'RotationMa'+'trix:\x20mat3'+'x3f;\x0a#endi'+'f\x0a\x0afn\x20cube'+'MapRotate('+'refDir:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a#ifd'+'ef\x20CUBEMAP'+'_ROTATION\x0a'+'\x20\x20\x20\x20return'+'\x20refDir\x20*\x20'+'uniform.cu'+'beMapRotat'+'ionMatrix;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir;\x0a#end'+'if\x0a}\x0a',EM='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0aoutp'+'ut.color\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0aoutput.co'+'lor\x20=\x20vec4'+'f(litArgs_'+'albedo\x20,\x201'+'.0);\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'DEBUG_WORL'+'D_NORMAL_P'+'ASS\x0aoutput'+'.color\x20=\x20v'+'ec4f(litAr'+'gs_worldNo'+'rmal\x20*\x200.5'+'\x20+\x200.5,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_OPACI'+'TY_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(v'+'ec3f(litAr'+'gs_opacity'+')\x20,\x201.0);\x0a'+'#endif\x0a\x0a#i'+'fdef\x20DEBUG'+'_SPECULARI'+'TY_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(l'+'itArgs_spe'+'cularity,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_GLO'+'SS_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(v'+'ec3f(litAr'+'gs_gloss)\x20'+',\x201.0);\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20DEBUG_M'+'ETALNESS_P'+'ASS\x0aoutput'+'.color\x20=\x20v'+'ec4f(vec3f'+'(litArgs_m'+'etalness)\x20'+',\x201.0);\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20DEBUG_A'+'O_PASS\x0aout'+'put.color\x20'+'=\x20vec4f(ve'+'c3f(litArg'+'s_ao)\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_EMISS'+'ION_PASS\x0ao'+'utput.colo'+'r\x20=\x20vec4f('+'gammaCorre'+'ctOutput(l'+'itArgs_emi'+'ssion),\x201.'+'0);\x0a#endif'+'\x0a',bM='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0a\x20\x20'+'\x20\x20litArgs_'+'albedo\x20=\x20v'+'ec3f(0.5);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0a#ifdef\x20VA'+'RYING_VUV0'+'\x0a\x20\x20\x20\x20litAr'+'gs_albedo\x20'+'=\x20vec3f(vU'+'v0,\x200.0);\x0a'+'#else\x0a\x20\x20\x20\x20'+'litArgs_al'+'bedo\x20=\x20vec'+'3f(0.0);\x0a#'+'endif\x0a#end'+'if\x0a',AM='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0afn\x20de'+'codeLinear'+'(raw:\x20vec4'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20raw.r'+'gb;\x0a}\x0a\x0afn\x20'+'decodeGamm'+'aFloat(raw'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20pow'+'(raw,\x202.2)'+';\x0a}\x0a\x0afn\x20de'+'codeGamma3'+'(raw:\x20vec3'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20pow(r'+'aw,\x20vec3f('+'2.2));\x0a}\x0a\x0a'+'fn\x20decodeG'+'amma(raw:\x20'+'vec4f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow(raw.xyz'+',\x20vec3f(2.'+'2));\x0a}\x0a\x0afn'+'\x20decodeRGB'+'M(raw:\x20vec'+'4f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20color\x20='+'\x20(8.0\x20*\x20ra'+'w.a)\x20*\x20raw'+'.rgb;\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0afn\x20de'+'codeRGBP(r'+'aw:\x20vec4f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'color\x20=\x20ra'+'w.rgb\x20*\x20(-'+'raw.a\x20*\x207.'+'0\x20+\x208.0);\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0af'+'n\x20decodeRG'+'BE(raw:\x20ve'+'c4f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20sel'+'ect(vec3f('+'0.0),\x20raw.'+'xyz\x20*\x20pow('+'2.0,\x20raw.w'+'\x20*\x20255.0\x20-'+'\x20128.0),\x20r'+'aw.a\x20!=\x200.'+'0);\x0a}\x0a\x0afn\x20'+'passThroug'+'h(raw:\x20vec'+'4f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw;'+'\x0a}\x0a\x0afn\x20unp'+'ackNormalX'+'YZ(nmap:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20nm'+'ap.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'}\x0a\x0afn\x20unpa'+'ckNormalXY'+'(nmap:\x20vec'+'4f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20xy\x20=\x20nm'+'ap.wy\x20*\x202.'+'0\x20-\x201.0;\x0a\x20'+'\x20\x20\x20return\x20'+'vec3f(xy,\x20'+'sqrt(1.0\x20-'+'\x20clamp(dot'+'(xy,\x20xy),\x20'+'0.0,\x201.0))'+');\x0a}\x0a\x0a#end'+'if\x0a',CM='\x0a\x0a#ifndef\x20'+'_DETAILMOD'+'ES_INCLUDE'+'D_\x0a#define'+'\x20_DETAILMO'+'DES_INCLUD'+'ED_\x0a\x0afn\x20de'+'tailMode_m'+'ul(c1:\x20vec'+'3f,\x20c2:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20c1\x20'+'*\x20c2;\x0a}\x0a\x0af'+'n\x20detailMo'+'de_add(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20c1\x20+\x20c2;\x0a'+'}\x0a\x0a//\x20http'+'s://en.wik'+'ipedia.org'+'/wiki/Blen'+'d_modes#Sc'+'reen\x0afn\x20de'+'tailMode_s'+'creen(c1:\x20'+'vec3f,\x20c2:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'1.0\x20-\x20(1.0'+'\x20-\x20c1)*(1.'+'0\x20-\x20c2);\x0a}'+'\x0a\x0a//\x20https'+'://en.wiki'+'pedia.org/'+'wiki/Blend'+'_modes#Ove'+'rlay\x0afn\x20de'+'tailMode_o'+'verlay(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20mix(1.0\x20-'+'\x202.0\x20*\x20(1.'+'0\x20-\x20c1)*(1'+'.0\x20-\x20c2),\x20'+'2.0\x20*\x20c1\x20*'+'\x20c2,\x20step('+'c1,\x20vec3f('+'0.5)));\x0a}\x0a'+'\x0afn\x20detail'+'Mode_min(c'+'1:\x20vec3f,\x20'+'c2:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20min(c1,'+'\x20c2);\x0a}\x0a\x0af'+'n\x20detailMo'+'de_max(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20max(c1,\x20c'+'2);\x0a}\x0a\x0a#en'+'dif\x0a',PM='\x0auniform\x20m'+'aterial_di'+'ffuse:\x20vec'+'3f;\x0a\x0a#ifde'+'f\x20STD_DIFF'+'USEDETAIL_'+'TEXTURE\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22detailMo'+'desPS\x22\x0a#en'+'dif\x0a\x0afn\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20unif'+'orm.materi'+'al_diffuse'+'.rgb;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSE_'+'TEXTURE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'albedoText'+'ure:\x20vec3f'+'\x20=\x20{STD_DI'+'FFUSE_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_DIFFU'+'SE_TEXTURE'+'_NAME},\x20{S'+'TD_DIFFUSE'+'_TEXTURE_N'+'AME}Sample'+'r,\x20{STD_DI'+'FFUSE_TEXT'+'URE_UV},\x20u'+'niform.tex'+'tureBias))'+'.{STD_DIFF'+'USE_TEXTUR'+'E_CHANNEL}'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSED'+'ETAIL_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'albedoDeta'+'il:\x20vec3f\x20'+'=\x20{STD_DIF'+'FUSEDETAIL'+'_TEXTURE_D'+'ECODE}(tex'+'tureSample'+'Bias({STD_'+'DIFFUSEDET'+'AIL_TEXTUR'+'E_NAME},\x20{'+'STD_DIFFUS'+'EDETAIL_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_DIFFU'+'SEDETAIL_T'+'EXTURE_UV}'+',\x20uniform.'+'textureBia'+'s)).{STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20albedoT'+'exture\x20=\x20d'+'etailMode_'+'{STD_DIFFU'+'SEDETAIL_D'+'ETAILMODE}'+'(albedoTex'+'ture,\x20albe'+'doDetail);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAlbe'+'do\x20=\x20dAlbe'+'do\x20*\x20albed'+'oTexture;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_DIF'+'FUSE_VERTE'+'X\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAlbedo\x20=\x20'+'dAlbedo\x20*\x20'+'gammaCorre'+'ctInputVec'+'3(saturate'+'3(vVertexC'+'olor.{STD_'+('DIFFUSE_VE'+'RTEX_CHANN'+'EL}));\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),MM='\x0auniform\x20m'+'aterial_em'+'issive:\x20ve'+'c3f;\x0aunifo'+'rm\x20materia'+'l_emissive'+'Intensity:'+'\x20f32;\x0a\x0afn\x20'+'getEmissio'+'n()\x20{\x0a\x20\x20\x20\x20'+'dEmission\x20'+'=\x20uniform.'+'material_e'+'missive\x20*\x20'+'uniform.ma'+'terial_emi'+'ssiveInten'+'sity;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_EMISSIVE'+'_TEXTURE\x0a\x20'+'\x20\x20\x20dEmissi'+'on\x20*=\x20{STD'+'_EMISSIVE_'+'TEXTURE_DE'+'CODE}(text'+'ureSampleB'+'ias({STD_E'+'MISSIVE_TE'+'XTURE_NAME'+'},\x20{STD_EM'+'ISSIVE_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_EMISSI'+'VE_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias)).{S'+'TD_EMISSIV'+'E_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_EMI'+'SSIVE_VERT'+'EX\x0a\x20\x20\x20\x20dEm'+'ission\x20=\x20d'+'Emission\x20*'+'\x20gammaCorr'+'ectInputVe'+'c3(saturat'+'e3(vVertex'+'Color.{STD'+'_EMISSIVE_'+'VERTEX_CHA'+'NNEL}));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a',DM='\x0afn\x20encode'+'Linear(sou'+'rce:\x20vec3f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec4f('+'source,\x201.'+'0);\x0a}\x0a\x0afn\x20'+'encodeGamm'+'a(source:\x20'+'vec3f)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4f(pow(s'+'ource\x20+\x20ve'+'c3f(0.0000'+'001),\x20vec3'+'f(1.0\x20/\x202.'+'2)),\x201.0);'+'\x0a}\x0a\x0afn\x20enc'+'odeRGBM(so'+'urce:\x20vec3'+'f)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20va'+'r\x20color:\x20v'+'ec3f\x20=\x20pow'+'(source,\x20v'+'ec3f(0.5))'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x201.0\x20/'+'\x208.0;\x0a\x0a\x20\x20\x20'+'\x20var\x20a:\x20f3'+'2\x20=\x20satura'+'te(max(max'+'(color.r,\x20'+'color.g),\x20'+'max(color.'+'b,\x201.0\x20/\x202'+'55.0)));\x0a\x20'+'\x20\x20\x20a\x20=\x20cei'+'l(a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20col'+'or\x20/=\x20a;\x0a\x20'+'\x20\x20\x20return\x20'+'vec4f(colo'+'r,\x20a);\x0a}\x0a\x0a'+'fn\x20encodeR'+'GBP(source'+':\x20vec3f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20//\x20con'+'vert\x20incom'+'ing\x20linear'+'\x20to\x20gamma('+'ish)\x0a\x20\x20\x20\x20v'+'ar\x20gamma:\x20'+'vec3f\x20=\x20po'+'w(source,\x20'+'vec3f(0.5)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20the\x20maxim'+'um\x20compone'+'nt\x20clamped'+'\x20to\x201..8\x0a\x20'+'\x20\x20\x20var\x20max'+'Val:\x20f32\x20='+'\x20min(8.0,\x20'+'max(1.0,\x20m'+'ax(gamma.x'+',\x20max(gamm'+'a.y,\x20gamma'+'.z))));\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20stor'+'age\x20factor'+'\x0a\x20\x20\x20\x20var\x20v'+':\x20f32\x20=\x201.'+'0\x20-\x20((maxV'+'al\x20-\x201.0)\x20'+'/\x207.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20roun'+'d\x20the\x20valu'+'e\x20for\x20stor'+'age\x20in\x208bi'+'t\x20channel\x0a'+'\x20\x20\x20\x20v\x20=\x20ce'+'il(v\x20*\x20255'+'.0)\x20/\x20255.'+'0;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20vec4f'+'(gamma\x20/\x20('+'-v\x20*\x207.0\x20+'+'\x208.0),\x20v);'+'\x0a}\x0a\x0afn\x20enc'+'odeRGBE(so'+'urce:\x20vec3'+'f)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20va'+('r\x20maxVal:\x20'+'f32\x20=\x20max('+'source.x,\x20'+'max(source'+'.y,\x20source'+'.z));\x0a\x20\x20\x20\x20'+'if\x20(maxVal'+'\x20<\x201e-32)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'4f(0.0,\x200.'+'0,\x200.0,\x200.'+'0);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20e'+':\x20f32\x20=\x20ce'+'il(log2(ma'+'xVal));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(s'+'ource\x20/\x20po'+'w(2.0,\x20e),'+'\x20(e\x20+\x20128.'+'0)\x20/\x20255.0'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a'),IM='\x0a\x20\x20\x20\x20var\x20f'+'inalRgb:\x20v'+'ec3f\x20=\x20com'+'bineColor('+'litArgs_al'+'bedo,\x20litA'+'rgs_sheen_'+'specularit'+'y,\x20litArgs'+'_clearcoat'+'_speculari'+'ty);\x0a\x0a\x20\x20\x20\x20'+'finalRgb\x20='+'\x20finalRgb\x20'+'+\x20litArgs_'+'emission;\x0a'+'\x20\x20\x20\x20finalR'+'gb\x20=\x20addFo'+'g(finalRgb'+');\x0a\x20\x20\x20\x20fin'+'alRgb\x20=\x20to'+'neMap(fina'+'lRgb);\x0a\x20\x20\x20'+'\x20finalRgb\x20'+'=\x20gammaCor'+'rectOutput'+'(finalRgb)'+';\x0a\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(fin'+'alRgb,\x20out'+'put.color.'+'a);\x0a',LM='\x0a\x0a#ifndef\x20'+'_ENVATLAS_'+'INCLUDED_\x0a'+'#define\x20_E'+'NVATLAS_IN'+'CLUDED_\x0a\x0a/'+'/\x20the\x20envA'+'tlas\x20is\x20fi'+'xed\x20at\x20512'+'\x20pixels.\x20e'+'very\x20equir'+'ect\x20is\x20gen'+'erated\x20wit'+'h\x201\x20pixel\x20'+'boundary.\x0a'+'const\x20atla'+'sSize\x20:\x20f3'+'2\x20=\x20512.0;'+'\x0aconst\x20sea'+'mSize\x20:\x20f3'+'2\x20=\x201.0\x20/\x20'+'atlasSize;'+'\x0a\x0a//\x20map\x20a'+'\x20normalize'+'d\x20equirect'+'\x20UV\x20to\x20the'+'\x20given\x20rec'+'tangle\x20(ta'+'king\x201\x20pix'+'el\x20seam\x20in'+'to\x20account'+').\x0afn\x20mapU'+'v(uv\x20:\x20vec'+'2f,\x20rect\x20:'+'\x20vec4f)\x20->'+'\x20vec2f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec2f(mix('+'rect.x\x20+\x20s'+'eamSize,\x20r'+'ect.x\x20+\x20re'+'ct.z\x20-\x20sea'+'mSize,\x20uv.'+'x),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20mix(rect.'+'y\x20+\x20seamSi'+'ze,\x20rect.y'+'\x20+\x20rect.w\x20'+'-\x20seamSize'+',\x20uv.y));\x0a'+'}\x0a\x0a//\x20map\x20'+'a\x20normaliz'+'ed\x20equirec'+'t\x20UV\x20and\x20r'+'oughness\x20l'+'evel\x20to\x20th'+'e\x20correct\x20'+'atlas\x20rect'+'.\x0afn\x20mapRo'+'ughnessUv('+'uv\x20:\x20vec2f'+',\x20level\x20:\x20'+'f32)\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'let\x20t\x20:\x20f3'+'2\x20=\x201.0\x20/\x20'+'exp2(level'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mapUv('+'uv,\x20vec4f('+'0.0,\x201.0\x20-'+'\x20t,\x20t,\x20t\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20map\x20sh'+'iny\x20level\x20'+'UV\x0afn\x20mapS'+'hinyUv(uv\x20'+':\x20vec2f,\x20l'+'evel\x20:\x20f32'+')\x20->\x20vec2f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20t\x20:\x20f32\x20='+'\x201.0\x20/\x20exp'+'2(level);\x0a'+'\x20\x20\x20\x20return'+'\x20mapUv(uv,'+'\x20vec4f(1.0'+'\x20-\x20t,\x201.0\x20'+'-\x20t,\x20t,\x20t\x20'+'*\x200.5));\x0a}'+'\x0a\x0a#endif\x0a',RM='\x0a#ifdef\x20LI'+'T_SKYBOX_I'+'NTENSITY\x0a\x20'+'\x20\x20\x20uniform'+'\x20skyboxInt'+'ensity\x20:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20proce'+'ssEnvironm'+'ent(color\x20'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SKYBO'+'X_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20unifo'+'rm.skyboxI'+'ntensity;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20color'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',OM='\x0afn\x20getFal'+'loffWindow'+'(lightRadi'+'us:\x20f32,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20sqrDist'+':\x20f32\x20=\x20do'+'t(lightDir'+',\x20lightDir'+');\x0a\x20\x20\x20\x20let'+'\x20invRadius'+':\x20f32\x20=\x201.'+'0\x20/\x20lightR'+'adius;\x0a\x20\x20\x20'+'\x20return\x20sq'+'uare(satur'+'ate(1.0\x20-\x20'+'square(sqr'+'Dist\x20*\x20squ'+'are(invRad'+'ius))));\x0a}'+'\x0a\x0afn\x20getFa'+'lloffInvSq'+'uared(ligh'+'tRadius:\x20f'+'32,\x20lightD'+'ir:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20sq'+'rDist:\x20f32'+'\x20=\x20dot(lig'+'htDir,\x20lig'+'htDir);\x0a\x20\x20'+'\x20\x20var\x20fall'+'off:\x20f32\x20='+'\x201.0\x20/\x20(sq'+'rDist\x20+\x201.'+'0);\x0a\x20\x20\x20\x20le'+'t\x20invRadiu'+'s:\x20f32\x20=\x201'+'.0\x20/\x20light'+'Radius;\x0a\x0a\x20'+'\x20\x20\x20falloff'+'\x20=\x20falloff'+'\x20*\x2016.0;\x0a\x20'+'\x20\x20\x20falloff'+'\x20=\x20falloff'+'\x20*\x20square('+'saturate(1'+'.0\x20-\x20squar'+'e(sqrDist\x20'+'*\x20square(i'+'nvRadius))'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20fall'+'off;\x0a}\x0a',FM='\x0afn\x20getFal'+'loffLinear'+'(lightRadi'+'us:\x20f32,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20d:\x20f32\x20'+'=\x20length(l'+'ightDir);\x0a'+'\x20\x20\x20\x20return'+'\x20max(((lig'+'htRadius\x20-'+'\x20d)\x20/\x20ligh'+'tRadius),\x20'+'0.0);\x0a}\x0a',NM='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x20re'+'presentati'+'on\x20(0.0-1.'+'0\x20range)\x0af'+'n\x20float2ui'+'nt(value:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'let\x20intBit'+'s\x20=\x20bitcas'+'t<u32>(val'+'ue);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20f32((intB'+'its\x20>>\x2024u'+')\x20&\x200xffu)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32((intBi'+'ts\x20>>\x2016u)'+'\x20&\x200xffu),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'32((intBit'+'s\x20>>\x208u)\x20&'+'\x200xffu),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20f32'+'(intBits\x20&'+'\x200xffu)\x0a\x20\x20'+'\x20\x20)\x20/\x20255.'+'0;\x0a}\x0a\x0a//\x20d'+'ecode\x20RGBA'+'8\x20value\x20to'+'\x20float\x0afn\x20'+'uint2float'+'(value:\x20ve'+'c4f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20le'+'t\x20rgba_u32'+'\x20=\x20vec4<u3'+'2>(value\x20*'+'\x20255.0);\x0a\x20'+'\x20\x20\x20let\x20int'+'Bits:\x20u32\x20'+'=\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'r\x20<<\x2024u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'g\x20<<\x2016u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'b\x20<<\x208u)\x20\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20rgba_u32.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20bitcas'+'t<f32>(int'+'Bits);\x0a}\x0a\x0a'+'//\x20store\x20a'+'\x20single\x20fl'+'oat\x20value\x20'+'in\x20vec4,\x20a'+'ssuming\x20ei'+'ther\x20RGBA8'+'\x20or\x20float\x20'+'renderable'+'\x20texture\x0af'+'n\x20float2ve'+'c4(value:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(CAPS_TEX'+'TURE_FLOAT'+'_RENDERABL'+'E)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4f(value,'+'\x201.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20float2ui'+'nt(value);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a#endi'+'f\x20//\x20FLOAT'+'_AS_UINT\x0a',kM='\x0a\x0avar<priv'+'ate>\x20dBlen'+'dModeFogFa'+'ctor\x20:\x20f32'+'\x20=\x201.0;\x0a\x0a#'+'if\x20(FOG\x20!='+'\x20NONE)\x0a\x20\x20\x20'+'\x20uniform\x20f'+'og_color\x20:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20fog_sta'+'rt\x20:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20fog_'+'end\x20:\x20f32;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20fog'+'_density\x20:'+'\x20f32;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afn\x20ge'+'tFogFactor'+'()\x20->\x20f32\x20'+'{\x0a\x0a\x20\x20\x20\x20let'+'\x20depth\x20=\x20p'+'cPosition.'+'z\x20/\x20pcPosi'+'tion.w;\x0a\x0a\x20'+'\x20\x20\x20var\x20fog'+'Factor\x20:\x20f'+'32\x20=\x200.0;\x0a'+'\x0a\x20\x20\x20\x20#if\x20('+'FOG\x20==\x20LIN'+'EAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20fogFact'+'or\x20=\x20(unif'+'orm.fog_en'+'d\x20-\x20depth)'+'\x20/\x20(unifor'+'m.fog_end\x20'+'-\x20uniform.'+'fog_start)'+';\x0a\x20\x20\x20\x20#eli'+'f\x20(FOG\x20==\x20'+'EXP)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20fogFact'+'or\x20=\x20exp(-'+'depth\x20*\x20un'+'iform.fog_'+'density);\x0a'+'\x20\x20\x20\x20#elif\x20'+'(FOG\x20==\x20EX'+'P2)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fogFacto'+'r\x20=\x20exp(-d'+'epth\x20*\x20dep'+'th\x20*\x20unifo'+'rm.fog_den'+'sity\x20*\x20uni'+'form.fog_d'+'ensity);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(fo'+'gFactor,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0afn\x20addF'+'og(color\x20:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'uniform.fo'+'g_color\x20*\x20'+'dBlendMode'+'FogFactor,'+'\x20color,\x20ge'+'tFogFactor'+'());\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'color;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',UM='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0afn'+'\x20getFresne'+'l(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20cosTheta:'+'\x20f32,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gloss:'+'\x20f32,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel:\x20vec3'+'f,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ceIntensit'+'y:\x20f32\x0a\x20\x20\x20'+'\x20#endif\x0a)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20f'+'resnel:\x20f3'+'2\x20=\x20pow(1.'+'0\x20-\x20satura'+'te(cosThet'+'a),\x205.0);\x0a'+'\x20\x20\x20\x20let\x20gl'+'ossSq:\x20f32'+'\x20=\x20gloss\x20*'+'\x20gloss;\x0a\x20\x20'+'\x20\x20let\x20ret:'+'\x20vec3f\x20=\x20s'+'pecularity'+'\x20+\x20(max(ve'+'c3f(glossS'+'q),\x20specul'+'arity)\x20-\x20s'+'pecularity'+')\x20*\x20fresne'+'l;\x0a\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20mix(ret,'+'\x20iridescen'+'ceFresnel,'+'\x20iridescen'+'ceIntensit'+'y);\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20r'+'et;\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0afn'+'\x20getFresne'+'lCC(cosThe'+'ta:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20fres'+'nel:\x20f32\x20='+'\x20pow(1.0\x20-'+'\x20saturate('+'cosTheta),'+'\x205.0);\x0a\x20\x20\x20'+'\x20return\x200.'+'04\x20+\x20(1.0\x20'+'-\x200.04)\x20*\x20'+'fresnel;\x0a}',BM='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0a\x0avary'+'ing\x20vUv0:\x20'+'vec2f;\x0a\x0a@v'+'ertex\x0afn\x20v'+'ertexMain('+'input:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Vertex'+'Output;\x0a\x20\x20'+'\x20\x20output.p'+'osition\x20=\x20'+'vec4f(inpu'+'t.vertex_p'+'osition,\x200'+'.5,\x201.0);\x0a'+'\x20\x20\x20\x20output'+'.vUv0\x20=\x20in'+'put.vertex'+'_position.'+'xy\x20*\x200.5\x20+'+'\x20vec2f(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',zM='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fn'+'\x20gammaCorr'+'ectInput(c'+'olor:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGammaFloa'+'t(color);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20fn\x20gammaC'+'orrectInpu'+'tVec3(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20deco'+'deGamma3(c'+'olor);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fn'+'\x20gammaCorr'+'ectInputVe'+'c4(color:\x20'+'vec4f)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(d'+'ecodeGamma'+'3(color.xy'+'z),\x20color.'+'w);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20fn\x20ga'+'mmaCorrect'+'Output(col'+'or:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20pow'+'(color\x20+\x200'+'.0000001,\x20'+'vec3f(1.0\x20'+'/\x202.2));\x0a\x20'+'\x20\x20\x20}\x0a\x0a#els'+'e\x20//\x20NONE\x0a'+'\x0a\x20\x20\x20\x20fn\x20ga'+'mmaCorrect'+'Input(colo'+'r:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'fn\x20gammaCo'+'rrectInput'+'Vec3(color'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20color'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20gamm'+'aCorrectIn'+'putVec4(co'+'lor:\x20vec4f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20g'+'ammaCorrec'+'tOutput(co'+'lor:\x20vec3f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a#endif\x0a',VM='\x0a#ifdef\x20ST'+'D_GLOSS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_gl'+'oss:\x20f32;\x0a'+'#endif\x0a\x0afn'+'\x20getGlossi'+'ness()\x20{\x0a\x20'+'\x20\x20\x20dGlossi'+'ness\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_GL'+'OSS_CONSTA'+'NT\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x20dGlossine'+'ss\x20*\x20unifo'+'rm.materia'+'l_gloss;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_GLOS'+'S_TEXTURE\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20=\x20dG'+'lossiness\x20'+'*\x20textureS'+'ampleBias('+'{STD_GLOSS'+'_TEXTURE_N'+'AME},\x20{STD'+'_GLOSS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_GLOSS_'+'TEXTURE_UV'+'},\x20uniform'+'.textureBi'+'as).{STD_G'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_VERT'+'EX\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x20dGlossine'+'ss\x20*\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_GLOSS_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_GLOSS_I'+'NVERT\x0a\x20\x20\x20\x20'+'dGlossines'+'s\x20=\x201.0\x20-\x20'+'dGlossines'+'s;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20d'+'Glossiness'+'\x20=\x20dGlossi'+'ness\x20+\x200.0'+'000001;\x0a}\x0a',GM='\x0auniform\x20m'+'atrix_mode'+'l:\x20mat4x4f'+';\x0auniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0auniform\x20'+'matrix_pro'+'jection:\x20m'+'at4x4f;\x0a\x0a/'+'/\x20project\x20'+'the\x20model\x20'+'space\x20gaus'+'sian\x20cente'+'r\x20to\x20view\x20'+'and\x20clip\x20s'+'pace\x0afn\x20in'+'itCenter(m'+'odelCenter'+':\x20vec3f,\x20c'+'enter:\x20ptr'+'<function,'+'\x20SplatCent'+'er>)\x20->\x20bo'+'ol\x20{\x0a\x20\x20\x20\x20l'+'et\x20modelVi'+'ew:\x20mat4x4'+'f\x20=\x20unifor'+'m.matrix_v'+'iew\x20*\x20unif'+'orm.matrix'+'_model;\x0a\x20\x20'+'\x20\x20let\x20cent'+'erView:\x20ve'+'c4f\x20=\x20mode'+'lView\x20*\x20ve'+'c4f(modelC'+'enter,\x201.0'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20early\x20out'+'\x20if\x20splat\x20'+'is\x20behind\x20'+'the\x20camera'+'\x0a\x20\x20\x20\x20if\x20(c'+'enterView.'+'z\x20>\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20var\x20ce'+'nterProj:\x20'+'vec4f\x20=\x20un'+'iform.matr'+'ix_project'+'ion\x20*\x20cent'+'erView;\x0a\x0a\x20'+'\x20\x20\x20//\x20ensu'+'re\x20gaussia'+'ns\x20are\x20not'+'\x20clipped\x20b'+'y\x20camera\x20n'+'ear\x20and\x20fa'+'r\x0a\x20\x20\x20\x20cent'+'erProj.z\x20='+'\x20clamp(cen'+'terProj.z,'+'\x200.0,\x20abs('+'centerProj'+'.w));\x0a\x0a\x20\x20\x20'+'\x20center.vi'+'ew\x20=\x20cente'+'rView.xyz\x20'+'/\x20centerVi'+'ew.w;\x0a\x20\x20\x20\x20'+'center.pro'+'j\x20=\x20center'+'Proj;\x0a\x20\x20\x20\x20'+'center.pro'+'jMat00\x20=\x20u'+'niform.mat'+'rix_projec'+'tion[0][0]'+';\x0a\x20\x20\x20\x20cent'+'er.modelVi'+'ew\x20=\x20model'+'View;\x0a\x20\x20\x20\x20'+'return\x20tru'+'e;\x0a}\x0a',HM='\x0a\x0avar\x20spla'+'tColor:\x20te'+'xture_2d<f'+'32>;\x0a\x0afn\x20r'+'eadColor(s'+'ource:\x20ptr'+'<function,'+'\x20SplatSour'+'ce>)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'return\x20tex'+'tureLoad(s'+'platColor,'+'\x20source.uv'+',\x200);\x0a}\x0a',WM='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20order:'+'\x20u32,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20id:\x20u3'+'2,\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'uv:\x20vec2<i'+'32>,\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20corn'+'erUV:\x20vec2'+'f,\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a}\x0a\x0a'+'//\x20stores\x20'+'the\x20camera'+'\x20and\x20clip\x20'+'space\x20posi'+'tion\x20of\x20th'+'e\x20gaussian'+'\x20center\x0ast'+'ruct\x20Splat'+'Center\x20{\x0a\x20'+'\x20\x20\x20view:\x20v'+'ec3f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ce'+'nter\x20in\x20vi'+'ew\x20space\x0a\x20'+'\x20\x20\x20proj:\x20v'+'ec4f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ce'+'nter\x20in\x20cl'+'ip\x20space\x0a\x20'+'\x20\x20\x20modelVi'+'ew:\x20mat4x4'+'f,\x20\x20\x20//\x20mo'+'del-view\x20m'+'atrix\x0a\x20\x20\x20\x20'+'projMat00:'+'\x20f32,\x20\x20\x20\x20\x20'+'\x20\x20//\x20eleme'+'mt\x20[0][0]\x20'+'of\x20the\x20pro'+'jection\x20ma'+'trix\x0a}\x0a\x0a//'+'\x20stores\x20th'+'e\x20offset\x20f'+'rom\x20center'+'\x20for\x20the\x20c'+'urrent\x20gau'+'ssian\x0astru'+'ct\x20SplatCo'+'rner\x20{\x0a\x20\x20\x20'+'\x20offset:\x20v'+'ec2f,\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20corn'+'er\x20offset\x20'+'from\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'uv:\x20vec2f,'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20aaFactor:'+'\x20f32,\x20//\x20f'+'or\x20scenes\x20'+'generated\x20'+'with\x20antia'+'liasing\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0a#include'+'\x20\x22gsplatEv'+'alSHVS\x22\x0a#i'+'nclude\x20\x22gs'+'platQuatTo'+'Mat3VS\x22\x0a\x0a#'+'if\x20GSPLAT_'+'COMPRESSED'+'_DATA\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'gsplatComp'+'ressedData'+'VS\x22\x0a\x20\x20\x20\x20#i'+('f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatC'+'ompressedS'+'HVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a#eli'+'f\x20GSPLAT_S'+'OGS_DATA\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsDataVS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tSogsColor'+'VS\x22\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsSHVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#else\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'gsplatData'+'VS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22gs'+'platColorV'+'S\x22\x0a\x20\x20\x20\x20#if'+'\x20SH_BANDS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSH'+'VS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a#endi'+'f\x0a\x0a#includ'+'e\x20\x22gsplatS'+'ourceVS\x22\x0a#'+'include\x20\x22g'+'splatCente'+'rVS\x22\x0a#incl'+'ude\x20\x22gspla'+'tCornerVS\x22'+'\x0a#include\x20'+'\x22gsplatOut'+'putVS\x22\x0a\x0a//'+'\x20modify\x20th'+'e\x20gaussian'+'\x20corner\x20so'+'\x20it\x20exclud'+'es\x20gaussia'+'n\x20regions\x20'+'with\x20alpha'+'\x20less\x20than'+'\x201/255\x0afn\x20'+'clipCorner'+'(corner:\x20p'+'tr<functio'+'n,\x20SplatCo'+'rner>,\x20alp'+'ha:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20let\x20c'+'lip:\x20f32\x20='+'\x20min(1.0,\x20'+'sqrt(-log('+'1.0\x20/\x20(255'+'.0\x20*\x20alpha'+')))\x20/\x202.0)'+';\x0a\x20\x20\x20\x20corn'+'er.offset\x20'+'=\x20corner.o'+'ffset\x20*\x20cl'+'ip;\x0a\x20\x20\x20\x20co'+'rner.uv\x20=\x20'+'corner.uv\x20'+'*\x20clip;\x0a}\x0a'+'\x0a'),$M='\x0avar\x20packe'+'dTexture:\x20'+'texture_2d'+'<u32>;\x0avar'+'\x20chunkText'+'ure:\x20textu'+'re_2d<f32>'+';\x0a\x0a//\x20work'+'\x20values\x0ava'+'r<private>'+'\x20chunkData'+'A:\x20vec4f;\x20'+'\x20\x20\x20//\x20x:\x20m'+'in_x,\x20y:\x20m'+'in_y,\x20z:\x20m'+'in_z,\x20w:\x20m'+'ax_x\x0avar<p'+'rivate>\x20ch'+'unkDataB:\x20'+'vec4f;\x20\x20\x20\x20'+'//\x20x:\x20max_'+'y,\x20y:\x20max_'+'z,\x20z:\x20scal'+'e_min_x,\x20w'+':\x20scale_mi'+'n_y\x0avar<pr'+'ivate>\x20chu'+'nkDataC:\x20v'+'ec4f;\x20\x20\x20\x20/'+'/\x20x:\x20scale'+'_min_z,\x20y:'+'\x20scale_max'+'_x,\x20z:\x20sca'+'le_max_y,\x20'+'w:\x20scale_m'+'ax_z\x0avar<p'+'rivate>\x20ch'+'unkDataD:\x20'+'vec4f;\x20\x20\x20\x20'+'//\x20x:\x20min_'+'r,\x20y:\x20min_'+'g,\x20z:\x20min_'+'b,\x20w:\x20max_'+'r\x0avar<priv'+'ate>\x20chunk'+'DataE:\x20vec'+'4f;\x20\x20\x20\x20//\x20'+'x:\x20max_g,\x20'+'y:\x20max_b,\x20'+'z:\x20unused,'+'\x20w:\x20unused'+'\x0avar<priva'+'te>\x20packed'+'Data:\x20vec4'+'u;\x20\x20\x20\x20//\x20x'+':\x20position'+'\x20bits,\x20y:\x20'+'rotation\x20b'+'its,\x20z:\x20sc'+'ale\x20bits,\x20'+'w:\x20color\x20b'+'its\x0a\x0afn\x20un'+'pack111011'+'(bits:\x20u32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(vec3f'+'((vec3<u32'+'>(bits)\x20>>'+'\x20vec3<u32>'+'(21u,\x2011u,'+'\x200u))\x20&\x20ve'+'c3<u32>(0x'+'7ffu,\x200x3f'+'fu,\x200x7ffu'+')))\x20/\x20vec3'+'f(2047.0,\x20'+'1023.0,\x2020'+'47.0);\x0a}\x0a\x0a'+'fn\x20unpack8'+'888(bits:\x20'+'u32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20f32((bit'+'s\x20>>\x2024u)\x20'+'&\x200xffu),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20f3'+'2((bits\x20>>'+'\x2016u)\x20&\x200x'+'ffu),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20f32((b'+'its\x20>>\x208u)'+'\x20\x20&\x200xffu)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32(bits\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20&\x200'+'xffu)\x0a\x20\x20\x20\x20'+')\x20/\x20255.0;'+('\x0a}\x0a\x0aconst\x20'+'norm_const'+':\x20f32\x20=\x201.'+'0\x20/\x20(sqrt('+'2.0)\x20*\x200.5'+');\x0a\x0afn\x20unp'+'ackRotatio'+'n(bits:\x20u3'+'2)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20a\x20=\x20(f32'+'((bits\x20>>\x20'+'20u)\x20&\x200x3'+'ffu)\x20/\x20102'+'3.0\x20-\x200.5)'+'\x20*\x20norm_co'+'nst;\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20(f3'+'2((bits\x20>>'+'\x2010u)\x20&\x200x'+'3ffu)\x20/\x2010'+'23.0\x20-\x200.5'+')\x20*\x20norm_c'+'onst;\x0a\x20\x20\x20\x20'+'let\x20c\x20=\x20(f'+'32(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+'_const;\x0a\x20\x20'+'\x20\x20let\x20m\x20=\x20'+'sqrt(1.0\x20-'+'\x20(a\x20*\x20a\x20+\x20'+'b\x20*\x20b\x20+\x20c\x20'+'*\x20c));\x0a\x0a\x20\x20'+'\x20\x20let\x20mode'+'\x20=\x20bits\x20>>'+'\x2030u;\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x200u)\x20{\x20re'+'turn\x20vec4f'+'(m,\x20a,\x20b,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x201u)\x20{\x20re'+'turn\x20vec4f'+'(a,\x20m,\x20b,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x202u)\x20{\x20re'+'turn\x20vec4f'+'(a,\x20b,\x20m,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(a,\x20b,\x20c'+',\x20m);\x0a}\x0a\x0a/'+'/\x20read\x20cen'+'ter\x0afn\x20rea'+'dCenter(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20tex_siz'+'e_u\x20=\x20text'+'ureDimensi'+'ons(chunkT'+'exture,\x200)'+';\x0a\x20\x20\x20\x20let\x20'+'w:\x20u32\x20=\x20t'+'ex_size_u.'+'x\x20/\x205u;\x0a\x20\x20'+'\x20\x20let\x20chun'+'kId:\x20u32\x20='+'\x20source.id'+'\x20/\x20256u;\x0a\x20'+'\x20\x20\x20let\x20chu'+'nkUV:\x20vec2'+'<i32>\x20=\x20ve'+'c2<i32>(i3'+'2((chunkId'+'\x20%\x20w)\x20*\x205u'+'),\x20i32(chu'+'nkId\x20/\x20w))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'read\x20chunk'+'\x20and\x20packe'+'d\x20compress'+'ed\x20data\x0a\x20\x20'+'\x20\x20chunkDat'+'aA\x20=\x20textu'+'reLoad(chu'+'nkTexture,'+'\x20chunkUV\x20+'+'\x20vec2<i32>'+'(0,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataB\x20=\x20t'+'extureLoad')+('(chunkText'+'ure,\x20chunk'+'UV\x20+\x20vec2<'+'i32>(1,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataC'+'\x20=\x20texture'+'Load(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20v'+'ec2<i32>(2'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataD\x20=\x20tex'+'tureLoad(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20vec2<i3'+'2>(3,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataE\x20='+'\x20textureLo'+'ad(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20vec'+'2<i32>(4,\x20'+'0),\x200);\x0a\x20\x20'+'\x20\x20packedDa'+'ta\x20=\x20textu'+'reLoad(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(chunkDa'+'taA.xyz,\x20v'+'ec3f(chunk'+'DataA.w,\x20c'+'hunkDataB.'+'xy),\x20unpac'+'k111011(pa'+'ckedData.x'+'));\x0a}\x0a\x0afn\x20'+'readColor('+'source:\x20pt'+'r<function'+',\x20SplatSou'+'rce>)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20let\x20r\x20=\x20u'+'npack8888('+'packedData'+'.w);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(mix(chun'+'kDataD.xyz'+',\x20vec3f(ch'+'unkDataD.w'+',\x20chunkDat'+'aE.xy),\x20r.'+'rgb),\x20r.w)'+';\x0a}\x0a\x0afn\x20ge'+'tRotation('+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20unpack'+'Rotation(p'+'ackedData.'+'y);\x0a}\x0a\x0afn\x20'+'getScale()'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20exp(mix'+'(vec3f(chu'+'nkDataB.zw'+',\x20chunkDat'+'aC.x),\x20chu'+'nkDataC.yz'+'w,\x20unpack1'+'11011(pack'+'edData.z))'+');\x0a}\x0a\x0a//\x20g'+'iven\x20a\x20rot'+'ation\x20matr'+'ix\x20and\x20sca'+'le\x20vector,'+'\x20compute\x203'+'d\x20covarian'+'ce\x20A\x20and\x20B'+'\x0afn\x20readCo'+'variance(s'+'ource:\x20ptr'+'<function,'+'\x20SplatSour'+'ce>,\x20covA_'+'ptr:\x20ptr<f'+'unction,\x20v'+'ec3f>,\x20cov'+'B_ptr:\x20ptr'+'<function,')+('\x20vec3f>)\x20{'+'\x0a\x20\x20\x20\x20let\x20r'+'ot\x20=\x20quatT'+'oMat3(getR'+'otation())'+';\x0a\x20\x20\x20\x20let\x20'+'scale\x20=\x20ge'+'tScale();\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20let\x20M\x20=\x20'+'transpose('+'mat3x3f(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.x\x20*\x20rot'+'[0],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.y'+'\x20*\x20rot[1],'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'cale.z\x20*\x20r'+'ot[2]\x0a\x20\x20\x20\x20'+'));\x0a\x0a\x20\x20\x20\x20*'+'covA_ptr\x20='+'\x20vec3f(dot'+'(M[0],\x20M[0'+']),\x20dot(M['+'0],\x20M[1]),'+'\x20dot(M[0],'+'\x20M[2]));\x0a\x20'+'\x20\x20\x20*covB_p'+'tr\x20=\x20vec3f'+'(dot(M[1],'+'\x20M[1]),\x20do'+'t(M[1],\x20M['+'2]),\x20dot(M'+'[2],\x20M[2])'+');\x0a}\x0a'),XM='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0av'+'ar\x20shTextu'+'re0:\x20textu'+'re_2d<u32>'+';\x0avar\x20shTe'+'xture1:\x20te'+'xture_2d<u'+'32>;\x0avar\x20s'+'hTexture2:'+'\x20texture_2'+'d<u32>;\x0a\x0af'+'n\x20unpack88'+'88s(bits:\x20'+'u32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'let\x20unpack'+'ed_u\x20=\x20(ve'+'c4<u32>(bi'+'ts)\x20>>\x20vec'+'4<u32>(0u,'+'\x208u,\x2016u,\x20'+'24u))\x20&\x20ve'+'c4<u32>(0x'+'ffu);\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(unpacke'+'d_u)\x20*\x20(8.'+'0\x20/\x20255.0)'+'\x20-\x204.0;\x0a}\x0a'+'\x0afn\x20readSH'+'Data(sourc'+'e:\x20ptr<fun'+'ction,\x20Spl'+'atSource>,'+'\x20sh:\x20ptr<f'+'unction,\x20a'+'rray<vec3f'+',\x2015>>,\x20sc'+'ale:\x20ptr<f'+'unction,\x20f'+'32>)\x20{\x0a\x20\x20\x20'+'\x20//\x20read\x20t'+'he\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20let\x20shD'+'ata0:\x20vec4'+'<u32>\x20=\x20te'+'xtureLoad('+'shTexture0'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20let\x20shDat'+'a1:\x20vec4<u'+'32>\x20=\x20text'+'ureLoad(sh'+'Texture1,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20l'+'et\x20shData2'+':\x20vec4<u32'+'>\x20=\x20textur'+'eLoad(shTe'+'xture2,\x20so'+'urce.uv,\x200'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20r0\x20=\x20unp'+'ack8888s(s'+'hData0.x);'+'\x0a\x20\x20\x20\x20let\x20r'+'1\x20=\x20unpack'+'8888s(shDa'+'ta0.y);\x0a\x20\x20'+'\x20\x20let\x20r2\x20='+'\x20unpack888'+'8s(shData0'+'.z);\x0a\x20\x20\x20\x20l'+'et\x20r3\x20=\x20un'+'pack8888s('+'shData0.w)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20g0\x20=\x20unpa'+'ck8888s(sh'+'Data1.x);\x0a'+'\x20\x20\x20\x20let\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20let\x20g2\x20=\x20'+'unpack8888'+'s(shData1.'+'z);\x0a\x20\x20\x20\x20le'+'t\x20g3\x20=\x20unp'+'ack8888s(s'+'hData1.w);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'b0\x20=\x20unpac'+'k8888s(shD'+'ata2.x);\x0a\x20'+'\x20\x20\x20let\x20b1\x20'+('=\x20unpack88'+'88s(shData'+'2.y);\x0a\x20\x20\x20\x20'+'let\x20b2\x20=\x20u'+'npack8888s'+'(shData2.z'+');\x0a\x20\x20\x20\x20let'+'\x20b3\x20=\x20unpa'+'ck8888s(sh'+'Data2.w);\x0a'+'\x0a\x20\x20\x20\x20sh[0]'+'\x20=\x20\x20vec3f('+'r0.x,\x20g0.x'+',\x20b0.x);\x0a\x20'+'\x20\x20\x20sh[1]\x20='+'\x20\x20vec3f(r0'+'.y,\x20g0.y,\x20'+'b0.y);\x0a\x20\x20\x20'+'\x20sh[2]\x20=\x20\x20'+'vec3f(r0.z'+',\x20g0.z,\x20b0'+'.z);\x0a\x20\x20\x20\x20s'+'h[3]\x20=\x20\x20ve'+'c3f(r0.w,\x20'+'g0.w,\x20b0.w'+');\x0a\x20\x20\x20\x20sh['+'4]\x20=\x20\x20vec3'+'f(r1.x,\x20g1'+'.x,\x20b1.x);'+'\x0a\x20\x20\x20\x20sh[5]'+'\x20=\x20\x20vec3f('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3f(r1'+'.z,\x20g1.z,\x20'+'b1.z);\x0a\x20\x20\x20'+'\x20sh[7]\x20=\x20\x20'+'vec3f(r1.w'+',\x20g1.w,\x20b1'+'.w);\x0a\x20\x20\x20\x20s'+'h[8]\x20=\x20\x20ve'+'c3f(r2.x,\x20'+'g2.x,\x20b2.x'+');\x0a\x20\x20\x20\x20sh['+'9]\x20=\x20\x20vec3'+'f(r2.y,\x20g2'+'.y,\x20b2.y);'+'\x0a\x20\x20\x20\x20sh[10'+']\x20=\x20vec3f('+'r2.z,\x20g2.z'+',\x20b2.z);\x0a\x20'+'\x20\x20\x20sh[11]\x20'+'=\x20vec3f(r2'+'.w,\x20g2.w,\x20'+'b2.w);\x0a\x20\x20\x20'+'\x20sh[12]\x20=\x20'+'vec3f(r3.x'+',\x20g3.x,\x20b3'+'.x);\x0a\x20\x20\x20\x20s'+'h[13]\x20=\x20ve'+'c3f(r3.y,\x20'+'g3.y,\x20b3.y'+');\x0a\x20\x20\x20\x20sh['+'14]\x20=\x20vec3'+'f(r3.z,\x20g3'+'.z,\x20b3.z);'+'\x0a\x0a\x20\x20\x20\x20*sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),qM='\x0a\x20\x20\x20\x20#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20SH_'+'COEFFS:\x20i3'+'2\x20=\x203;\x0a\x20\x20\x20'+'\x20#elif\x20SH_'+'BANDS\x20==\x202'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'onst\x20SH_CO'+'EFFS:\x20i32\x20'+'=\x208;\x0a\x20\x20\x20\x20#'+'elif\x20SH_BA'+'NDS\x20==\x203\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20con'+'st\x20SH_COEF'+'FS:\x20i32\x20=\x20'+'15;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20const\x20SH'+'_COEFFS:\x20i'+'32\x20=\x200;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20SH'+'_BANDS\x20>\x200'+'\x0a\x0a\x20\x20\x20\x20cons'+'t\x20SH_C1:\x20f'+'32\x20=\x200.488'+'6025119029'+'199;\x0a\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20>\x201\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20const'+'\x20SH_C2_0:\x20'+'f32\x20=\x201.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_1:\x20f'+'32\x20=\x20-1.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_2:\x20f'+'32\x20=\x200.315'+'3915652525'+'2005;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_3:\x20f'+'32\x20=\x20-1.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_4:\x20f'+'32\x20=\x200.546'+'2742152960'+'396;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20SH_BA'+'NDS\x20>\x202\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20SH_C3_0:'+'\x20f32\x20=\x20-0.'+'5900435899'+'266435;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20SH_C3_1:'+'\x20f32\x20=\x202.8'+'9061144264'+'0554;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C3_2:\x20f'+'32\x20=\x20-0.45'+'7045799464'+'4658;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C3_3:\x20f'+'32\x20=\x200.373'+'1763325901'+'154;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20S'+'H_C3_4:\x20f3'+'2\x20=\x20-0.457'+'0457994644'+'658;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20S'+'H_C3_5:\x20f3'+'2\x20=\x201.4453'+'0572132027'+'7;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20SH_'+'C3_6:\x20f32\x20'+'=\x20-0.59004'+'3589926643'+'5;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20see\x20http'+'s://github'+'.com/graph'+'deco-inria'+('/gaussian-'+'splatting/'+'blob/main/'+'utils/sh_u'+'tils.py\x0a\x20\x20'+'\x20\x20fn\x20evalS'+'H(sh:\x20ptr<'+'function,\x20'+'array<vec3'+'f,\x20SH_COEF'+'FS>>,\x20dir:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20x\x20=\x20dir.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20y\x20=\x20di'+'r.y;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20z\x20='+'\x20dir.z;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'1st\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20result\x20'+'=\x20SH_C1\x20*\x20'+'(-sh[0]\x20*\x20'+'y\x20+\x20sh[1]\x20'+'*\x20z\x20-\x20sh[2'+']\x20*\x20x);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20SH_BANDS\x20'+'>\x201\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x202'+'nd\x20degree\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20xx\x20='+'\x20x\x20*\x20x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20yy\x20=\x20y'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20zz\x20=\x20z\x20*'+'\x20z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'xy\x20=\x20x\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20yz'+'\x20=\x20y\x20*\x20z;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20xz\x20='+'\x20x\x20*\x20z;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20result\x20=\x20'+'result\x20+\x20('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'3]\x20*\x20(SH_C'+'2_0\x20*\x20xy)\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[4]\x20*\x20(SH_'+'C2_1\x20*\x20yz)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[5]\x20*\x20(SH'+'_C2_2\x20*\x20(2'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[6]\x20*\x20(SH_'+'C2_3\x20*\x20xz)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[7]\x20*\x20(SH'+'_C2_4\x20*\x20(x'+'x\x20-\x20yy))\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'3rd\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20result\x20'+'=\x20result\x20+'+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[8]\x20\x20*\x20(S'+'H_C3_0\x20*\x20y'+'\x20*\x20(3.0\x20*\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[9]\x20\x20*\x20(SH'+'_C3_1\x20*\x20xy'+'\x20*\x20z)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20sh[10]'+'\x20*\x20(SH_C3_'+'2\x20*\x20y\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[11]\x20*\x20(SH'+'_C3_3\x20*\x20z\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x203.0\x20*\x20'+'xx\x20-\x203.0\x20*'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[12]'+'\x20*\x20(SH_C3_'+'4\x20*\x20x\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[13]\x20*\x20(SH'+'_C3_5\x20*\x20z\x20'+'*\x20(xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[14]\x20*\x20'+'(SH_C3_6\x20*'+'\x20x\x20*\x20(xx\x20-'+'\x203.0\x20*\x20yy)'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20re'+'sult;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20#end'+'if\x0a'),jM='\x0afn\x20quatTo'+'Mat3(R:\x20ve'+'c4<f32>)\x20-'+'>\x20mat3x3<f'+'32>\x20{\x0a\x20\x20\x20\x20'+'let\x20R2:\x20ve'+'c4<f32>\x20=\x20'+'R\x20+\x20R;\x0a\x20\x20\x20'+'\x20let\x20X:\x20f3'+'2\x20\x20\x20\x20\x20\x20\x20=\x20'+'R2.x\x20*\x20R.w'+';\x0a\x20\x20\x20\x20let\x20'+'Y:\x20vec4<f3'+'2>\x20=\x20R2.y\x20'+'*\x20R;\x0a\x20\x20\x20\x20l'+'et\x20Z:\x20vec4'+'<f32>\x20=\x20R2'+'.z\x20*\x20R;\x0a\x20\x20'+'\x20\x20let\x20W:\x20f'+'32\x20\x20\x20\x20\x20\x20\x20='+'\x20R2.w\x20*\x20R.'+'w;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20mat3x'+'3<f32>(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x201.0\x20'+'-\x20Z.z\x20-\x20W,'+'\x20\x20Y.z\x20+\x20X,'+'\x20\x20\x20\x20\x20\x20Y.w\x20'+'-\x20Z.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20Y.z\x20-'+'\x20X,\x20\x20\x20\x20\x20\x20\x20'+'\x201.0\x20-\x20Y.y'+'\x20-\x20W,\x20Z.w\x20'+'+\x20Y.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20Y.w\x20+'+'\x20Z.x,\x20\x20\x20\x20\x20'+'\x20Z.w\x20-\x20Y.x'+',\x20\x20\x20\x20\x201.0\x20'+'-\x20Y.y\x20-\x20Z.'+'z\x0a\x20\x20\x20\x20);\x0a}'+'\x0a',YM='\x0avar\x20sh0:\x20'+'texture_2d'+'<f32>;\x0a\x0aun'+'iform\x20sh0_'+'mins:\x20vec4'+'f;\x0auniform'+'\x20sh0_maxs:'+'\x20vec4f;\x0a\x0ac'+'onst\x20SH_C0'+':\x20f32\x20=\x200.'+'2820947917'+'7387814;\x0a\x0a'+'fn\x20readCol'+'or(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20let\x20cl'+'r:\x20vec4f\x20='+'\x20mix(unifo'+'rm.sh0_min'+'s,\x20uniform'+'.sh0_maxs,'+'\x20textureLo'+'ad(sh0,\x20so'+'urce.uv,\x200'+'));\x0a\x20\x20\x20\x20re'+'turn\x20vec4f'+'(vec3f(0.5'+')\x20+\x20clr.xy'+'z\x20*\x20SH_C0,'+'\x201.0\x20/\x20(1.'+'0\x20+\x20exp(-c'+'lr.w)));\x0a}'+'\x0a',KM='\x0avar\x20packe'+'dTexture:\x20'+'texture_2d'+'<u32>;\x0a\x0aun'+'iform\x20mean'+'s_mins:\x20ve'+'c3f;\x0aunifo'+'rm\x20means_m'+'axs:\x20vec3f'+';\x0a\x0auniform'+'\x20scales_mi'+'ns:\x20vec3f;'+'\x0auniform\x20s'+'cales_maxs'+':\x20vec3f;\x0a\x0a'+'fn\x20unpackU'+'32(u:\x20u32)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20vec4f(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20f3'+'2((u\x20>>\x2024'+'u)\x20&\x200xFFu'+')\x20/\x20255.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'32((u\x20>>\x201'+'6u)\x20&\x200xFF'+'u)\x20/\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32((u\x20>>\x20'+'8u)\x20&\x200xFF'+'u)\x20/\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32(u\x20&\x200x'+'FFu)\x20/\x20255'+'.0\x0a\x20\x20\x20\x20);\x0a'+'}\x0a\x0avar<pri'+'vate>\x20pack'+'edSample:\x20'+'vec4<u32>;'+'\x0a\x0a//\x20read\x20'+'the\x20model-'+'space\x20cent'+'er\x20of\x20the\x20'+'gaussian\x0af'+'n\x20readCent'+'er(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>)\x20-'+'>\x20vec3f\x20{\x0a'+'\x0a\x20\x20\x20\x20packe'+'dSample\x20=\x20'+'textureLoa'+'d(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20l:\x20vec3f\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.x).xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20u:\x20vec3f\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.y).xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20n:\x20vec3f\x20'+'=\x20(l\x20*\x20255'+'.0\x20+\x20u\x20*\x202'+'55.0\x20*\x20256'+'.0)\x20/\x206553'+'5.0;\x0a\x20\x20\x20\x20l'+'et\x20v:\x20vec3'+'f\x20=\x20mix(un'+'iform.mean'+'s_mins,\x20un'+'iform.mean'+'s_maxs,\x20n)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20sign(v'+')\x20*\x20(exp(a'+'bs(v))\x20-\x201'+'.0);\x0a}\x0a\x0aco'+'nst\x20norm:\x20'+'f32\x20=\x202.0\x20'+'/\x20sqrt(2.0'+');\x0a\x0a//\x20sam'+'ple\x20covari'+'ance\x20vecto'+'rs\x0afn\x20read'+'Covariance'+'(source:\x20p'+'tr<functio'+'n,\x20SplatSo'+'urce>,\x20cov'+'A_ptr:\x20ptr'+'<function,'+'\x20vec3f>,\x20c'+('ovB_ptr:\x20p'+'tr<functio'+'n,\x20vec3f>)'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20qdata:\x20ve'+'c4f\x20=\x20unpa'+'ckU32(pack'+'edSample.z'+');\x0a\x20\x20\x20\x20let'+'\x20sdata:\x20ve'+'c3f\x20=\x20unpa'+'ckU32(pack'+'edSample.w'+').xyz;\x0a\x0a\x20\x20'+'\x20\x20let\x20abc:'+'\x20vec3f\x20=\x20('+'qdata.xyz\x20'+'-\x200.5)\x20*\x20n'+'orm;\x0a\x20\x20\x20\x20l'+'et\x20d:\x20f32\x20'+'=\x20sqrt(max'+'(0.0,\x201.0\x20'+'-\x20dot(abc,'+'\x20abc)));\x0a\x0a'+'\x20\x20\x20\x20let\x20mo'+'de:\x20u32\x20=\x20'+'u32(qdata.'+'w\x20*\x20255.0\x20'+'+\x200.5)\x20-\x202'+'52u;\x0a\x0a\x20\x20\x20\x20'+'var\x20quat:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20if\x20(mode\x20'+'==\x200u)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20qua'+'t\x20=\x20vec4f('+'d,\x20abc);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(mode\x20='+'=\x201u)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20quat'+'\x20=\x20vec4f(a'+'bc.x,\x20d,\x20a'+'bc.y,\x20abc.'+'z);\x0a\x20\x20\x20\x20}\x20'+'else\x20if\x20(m'+'ode\x20==\x202u)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20quat\x20=\x20ve'+'c4f(abc.x,'+'\x20abc.y,\x20d,'+'\x20abc.z);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'quat\x20=\x20vec'+'4f(abc.x,\x20'+'abc.y,\x20abc'+'.z,\x20d);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x0a\x20\x20\x20\x20'+'let\x20rot:\x20m'+'at3x3f\x20=\x20q'+'uatToMat3('+'quat);\x0a\x20\x20\x20'+'\x20let\x20scale'+':\x20vec3f\x20=\x20'+'exp(mix(un'+'iform.scal'+'es_mins,\x20u'+'niform.sca'+'les_maxs,\x20'+'sdata));\x0a\x0a'+'\x20\x20\x20\x20//\x20M\x20='+'\x20S\x20*\x20R\x0a\x20\x20\x20'+'\x20let\x20M:\x20ma'+'t3x3f\x20=\x20tr'+'anspose(ma'+'t3x3f(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20*co'+'vA_ptr\x20=\x20v'+'ec3f(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20*covB_ptr'+'\x20=\x20vec3f(d'+'ot(M[1],\x20M'+'[1]),\x20dot('+'M[1],\x20M[2]'+'),\x20dot(M[2'+'],\x20M[2]));')+'\x0a}\x0a',ZM='\x0avar\x20sh_ce'+'ntroids:\x20t'+'exture_2d<'+'f32>;\x0a\x0auni'+'form\x20shN_m'+'ins:\x20f32;\x0a'+'uniform\x20sh'+'N_maxs:\x20f3'+'2;\x0a\x0afn\x20rea'+'dSHData(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>,\x20sh:\x20pt'+'r<function'+',\x20array<ve'+'c3f,\x20SH_CO'+'EFFS>>,\x20sc'+'ale:\x20ptr<f'+'unction,\x20f'+'32>)\x20{\x0a\x20\x20\x20'+'\x20//\x20extrac'+'t\x20spherica'+'l\x20harmonic'+'s\x20palette\x20'+'index\x0a\x20\x20\x20\x20'+'let\x20t:\x20vec'+'2<i32>\x20=\x20v'+'ec2<i32>(i'+'32(packedS'+'ample.x\x20&\x20'+'255u),\x20i32'+'(packedSam'+'ple.y\x20&\x2025'+'5u));\x0a\x20\x20\x20\x20'+'let\x20n:\x20i32'+'\x20=\x20t.x\x20+\x20t'+'.y\x20*\x20256;\x0a'+'\x20\x20\x20\x20let\x20u:'+'\x20i32\x20=\x20(n\x20'+'%\x2064)\x20*\x20SH'+'_COEFFS;\x0a\x20'+'\x20\x20\x20let\x20v:\x20'+'i32\x20=\x20n\x20/\x20'+'64;\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20offset\x20i'+'nto\x20the\x20ce'+'ntroids\x20te'+'xture\x20and\x20'+'read\x20conse'+'cutive\x20tex'+'els\x0a\x20\x20\x20\x20fo'+'r\x20(var\x20i:\x20'+'i32\x20=\x200;\x20i'+'\x20<\x20SH_COEF'+'FS;\x20i\x20=\x20i\x20'+'+\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[i]'+'\x20=\x20mix(vec'+'3f(uniform'+'.shN_mins)'+',\x20vec3f(un'+'iform.shN_'+'maxs),\x20tex'+'tureLoad(s'+'h_centroid'+'s,\x20vec2<i3'+'2>(u\x20+\x20i,\x20'+'v),\x200).xyz'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20*scale'+'\x20=\x201.0;\x0a}\x0a',QM='\x0auniform\x20v'+'iewport:\x20v'+'ec2f;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20view'+'port\x20dimen'+'sions\x0aunif'+'orm\x20camera'+'_params:\x20v'+'ec4f;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x201\x20/\x20far,\x20'+'far,\x20near,'+'\x20isOrtho\x0a\x0a'+'//\x20calcula'+'te\x20the\x20cli'+'p-space\x20of'+'fset\x20from\x20'+'the\x20center'+'\x20for\x20this\x20'+'gaussian\x0af'+'n\x20initCorn'+'er(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>,\x20c'+'enter:\x20ptr'+'<function,'+'\x20SplatCent'+'er>,\x20corne'+'r:\x20ptr<fun'+'ction,\x20Spl'+'atCorner>)'+'\x20->\x20bool\x20{'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20covarian'+'ce\x0a\x20\x20\x20\x20var'+'\x20covA:\x20vec'+'3f;\x0a\x20\x20\x20\x20va'+'r\x20covB:\x20ve'+'c3f;\x0a\x20\x20\x20\x20r'+'eadCovaria'+'nce(source'+',\x20&covA,\x20&'+'covB);\x0a\x0a\x20\x20'+'\x20\x20let\x20Vrk\x20'+'=\x20mat3x3f('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3f(covA.'+'x,\x20covA.y,'+'\x20covA.z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(covA.y'+',\x20covB.x,\x20'+'covB.y),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(covA.z,'+'\x20covB.y,\x20c'+'ovB.z)\x0a\x20\x20\x20'+'\x20);\x0a\x0a\x20\x20\x20\x20l'+'et\x20focal\x20='+'\x20uniform.v'+'iewport.x\x20'+'*\x20center.p'+'rojMat00;\x0a'+'\x0a\x20\x20\x20\x20let\x20v'+'\x20=\x20select('+'center.vie'+'w.xyz,\x20vec'+'3f(0.0,\x200.'+'0,\x201.0),\x20u'+'niform.cam'+'era_params'+'.w\x20==\x201.0)'+';\x0a\x20\x20\x20\x20let\x20'+'J1\x20=\x20focal'+'\x20/\x20v.z;\x0a\x20\x20'+'\x20\x20let\x20J2\x20='+'\x20-J1\x20/\x20v.z'+'\x20*\x20v.xy;\x0a\x20'+'\x20\x20\x20let\x20J\x20='+'\x20mat3x3f(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(J1,\x200.'+'0,\x20J2.x),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(0.0,\x20J'+'1,\x20J2.y),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(0.0,\x200'+'.0,\x200.0)\x0a\x20'+'\x20\x20\x20);\x0a\x0a\x20\x20\x20'+'\x20let\x20W\x20=\x20t'+'ranspose(m'+'at3x3f(cen'+'ter.modelV'+'iew[0].xyz'+',\x20center.m'+'odelView[1'+'].xyz,\x20cen'+('ter.modelV'+'iew[2].xyz'+'));\x0a\x20\x20\x20\x20le'+'t\x20T\x20=\x20W\x20*\x20'+'J;\x0a\x20\x20\x20\x20let'+'\x20cov\x20=\x20tra'+'nspose(T)\x20'+'*\x20Vrk\x20*\x20T;'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'GSPLAT_AA\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20calculate'+'\x20AA\x20factor'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20detOrig'+'\x20=\x20cov[0]['+'0]\x20*\x20cov[1'+'][1]\x20-\x20cov'+'[0][1]\x20*\x20c'+'ov[1][0];\x20'+'//\x20Using\x20['+'0][1]\x20*\x20[1'+'][0]\x20as\x20ma'+'trix\x20might'+'\x20not\x20be\x20pe'+'rfectly\x20sy'+'mmetric\x20nu'+'merically\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20detBlur\x20'+'=\x20(cov[0]['+'0]\x20+\x200.3)\x20'+'*\x20(cov[1]['+'1]\x20+\x200.3)\x20'+'-\x20cov[0][1'+']\x20*\x20cov[1]'+'[0];\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20corner.'+'aaFactor\x20='+'\x20sqrt(detO'+'rig\x20/\x20detB'+'lur);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20let\x20diag'+'onal1\x20=\x20co'+'v[0][0]\x20+\x20'+'0.3;\x0a\x20\x20\x20\x20l'+'et\x20offDiag'+'onal\x20=\x20cov'+'[0][1];\x0a\x20\x20'+'\x20\x20let\x20diag'+'onal2\x20=\x20co'+'v[1][1]\x20+\x20'+'0.3;\x0a\x0a\x20\x20\x20\x20'+'let\x20mid\x20=\x20'+'0.5\x20*\x20(dia'+'gonal1\x20+\x20d'+'iagonal2);'+'\x0a\x20\x20\x20\x20let\x20r'+'adius\x20=\x20le'+'ngth(vec2f'+'((diagonal'+'1\x20-\x20diagon'+'al2)\x20/\x202.0'+',\x20offDiago'+'nal));\x0a\x20\x20\x20'+'\x20let\x20lambd'+'a1\x20=\x20mid\x20+'+'\x20radius;\x0a\x20'+'\x20\x20\x20let\x20lam'+'bda2\x20=\x20max'+'(mid\x20-\x20rad'+'ius,\x200.1);'+'\x0a\x0a\x20\x20\x20\x20//\x20U'+'se\x20the\x20sma'+'ller\x20viewp'+'ort\x20dimens'+'ion\x20to\x20lim'+'it\x20the\x20ker'+'nel\x20size\x20r'+'elative\x20to'+'\x20the\x20scree'+'n\x20resoluti'+'on.\x0a\x20\x20\x20\x20le'+'t\x20vmin\x20=\x20m'+'in(1024.0,'+'\x20min(unifo'+'rm.viewpor'+'t.x,\x20unifo'+'rm.viewpor'+'t.y));\x0a\x0a\x20\x20'+'\x20\x20let\x20l1\x20='+'\x202.0\x20*\x20min'+'(sqrt(2.0\x20'+'*\x20lambda1)'+',\x20vmin);\x0a\x20'+'\x20\x20\x20let\x20l2\x20'+'=\x202.0\x20*\x20mi'+'n(sqrt(2.0'+'\x20*\x20lambda2')+('),\x20vmin);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly-out\x20ga'+'ussians\x20sm'+'aller\x20than'+'\x202\x20pixels\x0a'+'\x20\x20\x20\x20if\x20(l1'+'\x20<\x202.0\x20&&\x20'+'l2\x20<\x202.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20fal'+'se;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20let\x20c'+'\x20=\x20center.'+'proj.ww\x20/\x20'+'uniform.vi'+'ewport;\x0a\x0a\x20'+'\x20\x20\x20//\x20cull'+'\x20against\x20f'+'rustum\x20x/y'+'\x20axes\x0a\x20\x20\x20\x20'+'if\x20(any((a'+'bs(center.'+'proj.xy)\x20-'+'\x20vec2f(max'+'(l1,\x20l2))\x20'+'*\x20c)\x20>\x20cen'+'ter.proj.w'+'w))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20l'+'et\x20diagona'+'lVector\x20=\x20'+'normalize('+'vec2f(offD'+'iagonal,\x20l'+'ambda1\x20-\x20d'+'iagonal1))'+';\x0a\x20\x20\x20\x20let\x20'+'v1\x20=\x20l1\x20*\x20'+'diagonalVe'+'ctor;\x0a\x20\x20\x20\x20'+'let\x20v2\x20=\x20l'+'2\x20*\x20vec2f('+'diagonalVe'+'ctor.y,\x20-d'+'iagonalVec'+'tor.x);\x20//'+'\x20Swizzle\x0a\x0a'+'\x20\x20\x20\x20corner'+'.offset\x20=\x20'+'(source.co'+'rnerUV.x\x20*'+'\x20v1\x20+\x20sour'+'ce.cornerU'+'V.y\x20*\x20v2)\x20'+'*\x20c;\x0a\x20\x20\x20\x20c'+'orner.uv\x20='+'\x20source.co'+'rnerUV;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'true;\x0a}\x0a'),JM='\x0avar\x20trans'+'formA:\x20tex'+'ture_2d<u3'+'2>;\x0avar\x20tr'+'ansformB:\x20'+'texture_2d'+'<f32>;\x0a\x0a//'+'\x20work\x20valu'+'es\x0avar<pri'+'vate>\x20tAw:'+'\x20u32;\x0a\x0a//\x20'+'read\x20the\x20m'+'odel-space'+'\x20center\x20of'+'\x20the\x20gauss'+'ian\x0afn\x20rea'+'dCenter(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20let\x20'+'tA:\x20vec4<u'+'32>\x20=\x20text'+'ureLoad(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20t'+'Aw\x20=\x20tA.w;'+'\x0a\x20\x20\x20\x20retur'+'n\x20bitcast<'+'vec3f>(tA.'+'xyz);\x0a}\x0a\x0af'+'n\x20unpackRo'+'tation(pac'+'ked:\x20vec3f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec4f('+'packed.xyz'+',\x20sqrt(max'+'(0.0,\x201.0\x20'+'-\x20dot(pack'+'ed,\x20packed'+'))));\x0a}\x0a\x0a/'+'/\x20sample\x20c'+'ovariance\x20'+'vectors\x0afn'+'\x20readCovar'+'iance(sour'+'ce:\x20ptr<fu'+'nction,\x20Sp'+'latSource>'+',\x20covA_ptr'+':\x20ptr<func'+'tion,\x20vec3'+'f>,\x20covB_p'+'tr:\x20ptr<fu'+'nction,\x20ve'+'c3f>)\x20{\x0a\x20\x20'+'\x20\x20let\x20tB:\x20'+'vec4f\x20=\x20te'+'xtureLoad('+'transformB'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20let\x20rot:'+'\x20mat3x3f\x20='+'\x20quatToMat'+'3(unpackRo'+'tation(vec'+'3f(unpack2'+'x16float(b'+'itcast<u32'+'>(tAw)),\x20t'+'B.w)).wxyz'+');\x0a\x20\x20\x20\x20let'+'\x20scale:\x20ve'+'c3f\x20=\x20tB.x'+'yz;\x0a\x0a\x20\x20\x20\x20/'+'/\x20M\x20=\x20S\x20*\x20'+'R\x0a\x20\x20\x20\x20let\x20'+'M\x20=\x20transp'+'ose(mat3x3'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20*covA_p'+'tr\x20=\x20vec3f'+'(dot(M[0],'+'\x20M[0]),\x20do'+('t(M[0],\x20M['+'1]),\x20dot(M'+'[0],\x20M[2])'+');\x0a\x20\x20\x20\x20*co'+'vB_ptr\x20=\x20v'+'ec3f(dot(M'+'[1],\x20M[1])'+',\x20dot(M[1]'+',\x20M[2]),\x20d'+'ot(M[2],\x20M'+'[2]));\x0a}\x0a'),eD='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0afn\x20'+'prepareOut'+'putFromGam'+'ma(gammaCo'+'lor:\x20vec3f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20#if'+'\x20TONEMAP\x20='+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20G'+'AMMA\x20==\x20NO'+'NE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'nvert\x20to\x20l'+'inear\x20spac'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20decodeGam'+'ma3(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20out'+'put\x20gamma\x20'+'space\x20colo'+'r\x20directly'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'gammaColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ap'+'ply\x20tonema'+'pping\x20in\x20l'+'inear\x20spac'+'e\x20and\x20outp'+'ut\x20to\x20line'+'ar\x20or\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20gam'+'ma\x20(which\x20'+'is\x20handled'+'\x20by\x20gammaC'+'orrectOutp'+'ut)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaCorrec'+'tOutput(to'+'neMap(deco'+'deGamma3(g'+'ammaColor)'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',tD='\x0a\x0a#ifndef\x20'+'DITHER_NON'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22baye'+'rPS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22o'+'pacityDith'+'erPS\x22\x0a\x20\x20\x20\x20'+'varying\x20id'+':\x20f32;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20PICK_PAS'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22pick'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_PASS)\x20||\x20'+'defined(PI'+'CK_PASS)\x20|'+'|\x20defined('+'PREPASS_PA'+'SS)\x0a\x20\x20\x20\x20un'+'iform\x20alph'+'aClip:\x20f32'+';\x0a#endif\x0a\x0a'+'#ifdef\x20PRE'+'PASS_PASS\x0a'+'\x20\x20\x20\x20varyin'+'g\x20vLinearD'+'epth:\x20f32;'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22float'+'AsUintPS\x22\x0a'+'#endif\x0a\x0a//'+'\x20Fast\x20appr'+'oximate\x20e^'+'x\x20based\x20on'+'\x20https://n'+'ic.schraud'+'olph.org/p'+'ubs/Schrau'+'dolph99.pd'+'f\x0aconst\x20EX'+'P_A:\x20f32\x20\x20'+'\x20\x20\x20\x20=\x201210'+'2203.0;\x20\x20\x20'+'//\x20\x202^23\x20'+'/\x20ln(2)\x0aco'+'nst\x20EXP_BC'+'_RMS:\x20i32\x20'+'=\x2010648668'+'08;\x20\x20\x20//\x20('+'127\x20<<\x2023)'+'\x20-\x2060801\x20*'+'\x208\x0afn\x20fast'+'Exp(x:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20var\x20i'+':\x20i32\x20=\x20i3'+'2(EXP_A\x20*\x20'+'x)\x20+\x20EXP_B'+'C_RMS;\x0a\x20\x20\x20'+'\x20return\x20bi'+'tcast<f32>'+'(i);\x0a}\x0a\x0ava'+'rying\x20gaus'+'sianUV:\x20ve'+'c2f;\x0avaryi'+'ng\x20gaussia'+'nColor:\x20ve'+'c4f;\x0a\x0a@fra'+'gment\x0afn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x20\x20\x20\x20va'+'r\x20output:\x20'+'FragmentOu'+'tput;\x0a\x0a\x20\x20\x20'+'\x20let\x20A:\x20f3'+'2\x20=\x20dot(ga'+'ussianUV,\x20'+'gaussianUV'+');\x0a\x20\x20\x20\x20if\x20'+'(A\x20>\x201.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20alpha'+'\x0a\x20\x20\x20\x20var\x20a'+'lpha:\x20f32\x20'+'=\x20fastExp('+'-A\x20*\x204.0)\x20'+'*\x20gaussian'+('Color.a;\x0a\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(SHAD'+'OW_PASS)\x20|'+'|\x20defined('+'PICK_PASS)'+'\x20||\x20define'+'d(PREPASS_'+'PASS)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(al'+'pha\x20<\x20unif'+'orm.alphaC'+'lip)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iscard;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20out'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20PI'+'CK_PASS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20getPickO'+'utput();\x0a\x0a'+'\x20\x20\x20\x20#elif\x20'+'SHADOW_PAS'+'S\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(0.0,\x200.0'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20#e'+'lif\x20PREPAS'+'S_PASS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20float2vec'+'4(vLinearD'+'epth);\x0a\x0a\x20\x20'+'\x20\x20#else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(alpha\x20<\x20('+'1.0\x20/\x20255.'+'0))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifndef'+'\x20DITHER_NO'+'NE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20opaci'+'tyDither(&'+'alpha,\x20id\x20'+'*\x200.013);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20v'+'ec4f(input'+'.gaussianC'+'olor.xyz,\x20'+'alpha);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20output;\x0a}'),sD='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0afn\x20unpack'+'111011s(bi'+'ts:\x20u32)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20(vec3f((v'+'ec3<u32>(b'+'its)\x20>>\x20ve'+'c3<u32>(21'+'u,\x2011u,\x200u'+'))\x20&\x20vec3<'+'u32>(0x7ff'+'u,\x200x3ffu,'+'\x200x7ffu))\x20'+'/\x20vec3f(20'+'47.0,\x201023'+'.0,\x202047.0'+'))\x20*\x202.0\x20-'+'\x201.0;\x0a}\x0a\x0as'+'truct\x20Scal'+'eAndSH\x20{\x0a\x20'+'\x20\x20\x20scale:\x20'+'f32,\x0a\x20\x20\x20\x20a'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20b:\x20vec3'+'f,\x0a\x20\x20\x20\x20c:\x20'+'vec3f\x0a};\x0a\x0a'+'//\x20fetch\x20q'+'uantized\x20s'+'pherical\x20h'+'armonic\x20co'+'efficients'+'\x0afn\x20fetchS'+'cale(t_in:'+'\x20vec4<u32>'+')\x20->\x20Scale'+'AndSH\x20{\x0a\x20\x20'+'\x20\x20var\x20resu'+'lt:\x20ScaleA'+'ndSH;\x0a\x20\x20\x20\x20'+'result.sca'+'le\x20=\x20bitca'+'st<f32>(t_'+'in.x);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20unpack11'+'1011s(t_in'+'.y);\x0a\x20\x20\x20\x20r'+'esult.b\x20=\x20'+'unpack1110'+'11s(t_in.z'+');\x0a\x20\x20\x20\x20res'+'ult.c\x20=\x20un'+'pack111011'+'s(t_in.w);'+'\x0a\x20\x20\x20\x20retur'+'n\x20result;\x0a'+'}\x0a\x0astruct\x20'+'SH\x20{\x0a\x20\x20\x20\x20a'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20b:\x20vec3'+'f,\x0a\x20\x20\x20\x20c:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20d:\x20vec3f\x0a'+'};\x0a\x0a//\x20fet'+'ch\x20quantiz'+'ed\x20spheric'+'al\x20harmoni'+'c\x20coeffici'+'ents\x0afn\x20fe'+'tch4(t_in:'+'\x20vec4<u32>'+')\x20->\x20SH\x20{\x0a'+'\x20\x20\x20\x20var\x20re'+'sult:\x20SH;\x0a'+'\x20\x20\x20\x20result'+'.a\x20=\x20unpac'+'k111011s(t'+'_in.x);\x0a\x20\x20'+'\x20\x20result.b'+'\x20=\x20unpack1'+'11011s(t_i'+'n.y);\x0a\x20\x20\x20\x20'+'result.c\x20='+'\x20unpack111'+'011s(t_in.'+'z);\x0a\x20\x20\x20\x20re'+'sult.d\x20=\x20u'+'npack11101'+'1s(t_in.w)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20result;'+'\x0a}\x0a\x0afn\x20fet'+'ch1(t_in:\x20'+'u32)\x20->\x20ve'+('c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20unp'+'ack111011s'+'(t_in);\x0a}\x0a'+'\x0a#if\x20SH_BA'+'NDS\x20==\x201\x0a\x20'+'\x20\x20\x20var\x20spl'+'atSH_1to3:'+'\x20texture_2'+'d<u32>;\x0a\x0a\x20'+'\x20\x20\x20fn\x20read'+'SHData(sou'+'rce:\x20ptr<f'+'unction,\x20S'+'platSource'+'>,\x20sh:\x20ptr'+'<function,'+'\x20array<vec'+'3f,\x203>>,\x20s'+'cale:\x20ptr<'+'function,\x20'+'f32>)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'result\x20=\x20f'+'etchScale('+'textureLoa'+'d(splatSH_'+'1to3,\x20sour'+'ce.uv,\x200))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'*scale\x20=\x20r'+'esult.scal'+'e;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[0]\x20=\x20r'+'esult.a;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'1]\x20=\x20resul'+'t.b;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[2]\x20='+'\x20result.c;'+'\x0a\x20\x20\x20\x20}\x0a#el'+'if\x20SH_BAND'+'S\x20==\x202\x0a\x20\x20\x20'+'\x20var\x20splat'+'SH_1to3:\x20t'+'exture_2d<'+'u32>;\x0a\x20\x20\x20\x20'+'var\x20splatS'+'H_4to7:\x20te'+'xture_2d<u'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20splatSH'+'_8to11:\x20te'+'xture_2d<u'+'32>;\x0a\x0a\x20\x20\x20\x20'+'fn\x20readSHD'+'ata(source'+':\x20ptr<func'+'tion,\x20Spla'+'tSource>,\x20'+'sh:\x20ptr<fu'+'nction,\x20ar'+'ray<vec3f,'+'\x208>>,\x20scal'+'e:\x20ptr<fun'+'ction,\x20f32'+'>)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fir'+'st:\x20ScaleA'+'ndSH\x20=\x20fet'+'chScale(te'+'xtureLoad('+'splatSH_1t'+'o3,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*s'+'cale\x20=\x20fir'+'st.scale;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[0]\x20=\x20firs'+'t.a;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[1]\x20='+'\x20first.b;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[2]\x20=\x20firs'+'t.c;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20se'+'cond:\x20SH\x20='+'\x20fetch4(te'+'xtureLoad('+'splatSH_4t'+'o7,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[3]\x20=\x20seco'+'nd.a;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[4]\x20'+'=\x20second.b'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[5]\x20=\x20se')+('cond.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[6'+']\x20=\x20second'+'.d;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[7]\x20='+'\x20fetch1(te'+'xtureLoad('+'splatSH_8t'+'o11,\x20sourc'+'e.uv,\x200).x'+');\x0a\x20\x20\x20\x20}\x0a#'+'else\x0a\x20\x20\x20\x20v'+'ar\x20splatSH'+'_1to3:\x20tex'+'ture_2d<u3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20splatSH_'+'4to7:\x20text'+'ure_2d<u32'+'>;\x0a\x20\x20\x20\x20var'+'\x20splatSH_8'+'to11:\x20text'+'ure_2d<u32'+'>;\x0a\x20\x20\x20\x20var'+'\x20splatSH_1'+'2to15:\x20tex'+'ture_2d<u3'+'2>;\x0a\x0a\x20\x20\x20\x20f'+'n\x20readSHDa'+'ta(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>,\x20s'+'h:\x20ptr<fun'+'ction,\x20arr'+'ay<vec3f,\x20'+'15>>,\x20scal'+'e:\x20ptr<fun'+'ction,\x20f32'+'>)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fir'+'st:\x20ScaleA'+'ndSH\x20=\x20fet'+'chScale(te'+'xtureLoad('+'splatSH_1t'+'o3,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*s'+'cale\x20=\x20fir'+'st.scale;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[0]\x20=\x20firs'+'t.a;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[1]\x20='+'\x20first.b;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[2]\x20=\x20firs'+'t.c;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20se'+'cond:\x20SH\x20='+'\x20fetch4(te'+'xtureLoad('+'splatSH_4t'+'o7,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[3]\x20=\x20seco'+'nd.a;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[4]\x20'+'=\x20second.b'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[5]\x20=\x20se'+'cond.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[6'+']\x20=\x20second'+'.d;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20thi'+'rd:\x20SH\x20=\x20f'+'etch4(text'+'ureLoad(sp'+'latSH_8to1'+'1,\x20source.'+'uv,\x200));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'7]\x20=\x20third'+'.a;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[8]\x20=\x20'+'third.b;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'9]\x20=\x20third'+'.c;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[10]\x20='+'\x20third.d;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20fourth:'+'\x20SH\x20=\x20fetc'+'h4(texture'+'Load(splat'+'SH_12to15,')+('\x20source.uv'+',\x200));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[11'+']\x20=\x20fourth'+'.a;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[12]\x20='+'\x20fourth.b;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[13]\x20=\x20fo'+'urth.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[1'+'4]\x20=\x20fourt'+'h.d;\x0a\x20\x20\x20\x20}'+'\x0a#endif\x0a\x0a#'+'endif\x0a'),iD='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c3f;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20xy:\x20'+'cornerUV,\x20'+'z:\x20render\x20'+'order\x20offs'+'et\x0aattribu'+'te\x20vertex_'+'id_attrib:'+'\x20u32;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'nder\x20order'+'\x20base\x0a\x0auni'+'form\x20numSp'+'lats:\x20u32;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20total\x20nu'+'mber\x20of\x20sp'+'lats\x0avar\x20s'+'platOrder:'+'\x20texture_2'+'d<u32>;\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'per-splat\x20'+'index\x20to\x20s'+'ource\x20gaus'+'sian\x0a\x0a//\x20i'+'nitialize\x20'+'the\x20splat\x20'+'source\x20str'+'ucture\x0afn\x20'+'initSource'+'(source:\x20p'+'tr<functio'+'n,\x20SplatSo'+'urce>)\x20->\x20'+'bool\x20{\x0a\x20\x20\x20'+'\x20let\x20w:\x20u3'+'2\x20=\x20textur'+'eDimension'+'s(splatOrd'+'er,\x200).x;\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20u3'+'2(vertex_p'+'osition.z)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'return\x20if\x20'+'out\x20of\x20ran'+'ge\x20(since\x20'+'the\x20last\x20b'+'lock\x20of\x20sp'+'lats\x20may\x20b'+'e\x20partiall'+'y\x20full)\x0a\x20\x20'+'\x20\x20if\x20(sour'+'ce.order\x20>'+'=\x20uniform.'+'numSplats)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20fa'+'lse;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'orderUV\x20=\x20'+'vec2i(vec2'+'u(source.o'+'rder\x20%\x20w,\x20'+'source.ord'+'er\x20/\x20w));\x0a'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20splat\x20i'+'d\x0a\x20\x20\x20\x20sour'+'ce.id\x20=\x20te'+'xtureLoad('+'splatOrder'+',\x20orderUV,'+'\x200).r;\x0a\x0a\x20\x20'+'\x20\x20//\x20map\x20i'+'d\x20to\x20uv\x0a\x20\x20'+'\x20\x20source.u'+'v\x20=\x20vec2i('+'vec2u(sour'+'ce.id\x20%\x20w,'+'\x20source.id'+'\x20/\x20w));\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+('turn\x20true;'+'\x0a}\x0a'),rD='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0ava'+'rying\x20gaus'+'sianUV:\x20ve'+'c2f;\x0avaryi'+'ng\x20gaussia'+'nColor:\x20ve'+'c4f;\x0a\x0a#ifn'+'def\x20DITHER'+'_NONE\x0a\x20\x20\x20\x20'+'varying\x20id'+':\x20f32;\x0a#en'+'dif\x0a\x0aconst'+'\x20discardVe'+'c:\x20vec4f\x20='+'\x20vec4f(0.0'+',\x200.0,\x202.0'+',\x201.0);\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20varying'+'\x20vLinearDe'+'pth:\x20f32;\x0a'+'#endif\x0a\x0a@v'+'ertex\x0afn\x20v'+'ertexMain('+'input:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Vertex'+'Output;\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20gaussian\x20'+'details\x0a\x20\x20'+'\x20\x20var\x20sour'+'ce:\x20SplatS'+'ource;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Source(&so'+'urce))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.positi'+'on\x20=\x20disca'+'rdVec;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20let\x20model'+'Center:\x20ve'+'c3f\x20=\x20read'+'Center(&so'+'urce);\x0a\x0a\x20\x20'+'\x20\x20var\x20cent'+'er:\x20SplatC'+'enter;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Center(mod'+'elCenter,\x20'+'&center))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20di'+'scardVec;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20pro'+'ject\x20cente'+'r\x20to\x20scree'+'n\x20space\x0a\x20\x20'+'\x20\x20var\x20corn'+'er:\x20SplatC'+'orner;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Corner(&so'+'urce,\x20&cen'+'ter,\x20&corn'+'er))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.position'+'\x20=\x20discard'+'Vec;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'output;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20col'+'or\x0a\x20\x20\x20\x20var'+'\x20clr:\x20vec4'+'f\x20=\x20readCo'+'lor(&sourc'+'e);\x0a\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20apply\x20'+'AA\x20compens'+'ation\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20clr.a\x20'+('=\x20clr.a\x20*\x20'+'corner.aaF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20spher'+'ical\x20harmo'+'nics\x0a\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x200\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cal'+'culate\x20the'+'\x20model-spa'+'ce\x20view\x20di'+'rection\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'modelView3'+'x3\x20=\x20mat3x'+'3f(center.'+'modelView['+'0].xyz,\x20ce'+'nter.model'+'View[1].xy'+'z,\x20center.'+'modelView['+'2].xyz);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20dir\x20=\x20nor'+'malize(mod'+'elView3x3\x20'+'*\x20center.v'+'iew);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'ad\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20sh:\x20array'+'<vec3f,\x20SH'+'_COEFFS>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20scale:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20readSHDa'+'ta(&source'+',\x20&sh,\x20&sc'+'ale);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ev'+'aluate\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr\x20='+'\x20vec4f(clr'+'.xyz\x20+\x20eva'+'lSH(&sh,\x20d'+'ir)\x20*\x20scal'+'e,\x20clr.a);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20cli'+'pCorner(&c'+'orner,\x20clr'+'.w);\x0a\x0a\x20\x20\x20\x20'+'//\x20write\x20o'+'utput\x0a\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20ce'+'nter.proj\x20'+'+\x20vec4f(co'+'rner.offse'+'t,\x200.0,\x200.'+'0);\x0a\x20\x20\x20\x20ou'+'tput.gauss'+'ianUV\x20=\x20co'+'rner.uv;\x0a\x20'+'\x20\x20\x20output.'+'gaussianCo'+'lor\x20=\x20vec4'+'f(prepareO'+'utputFromG'+'amma(max(c'+'lr.xyz,\x20ve'+'c3f(0.0)))'+',\x20clr.w);\x0a'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'id\x20=\x20f32(s'+'ource.id);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.vLinearD'+'epth\x20=\x20-ce'+'nter.view.'+'z;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a'),aD='\x0a\x20\x20\x20\x20attri'+'bute\x20aPosi'+'tion:\x20vec2'+'f;\x0a\x20\x20\x20\x20var'+'ying\x20uv0:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20@vertex\x20f'+'n\x20vertexMa'+'in(input:\x20'+'VertexInpu'+'t)\x20->\x20Vert'+'exOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20output:'+'\x20VertexOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'position\x20='+'\x20vec4f(inp'+'ut.aPositi'+'on,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'uv0\x20=\x20getI'+'mageEffect'+'UV((input.'+'aPosition\x20'+'+\x201.0)\x20*\x200'+'.5);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'output;\x0a\x20\x20'+'\x20\x20}\x0a',nD='\x0a//\x20Indire'+'ct\x20indexed'+'\x20draw\x20call'+'\x20parameter'+'s\x0astruct\x20D'+'rawIndexed'+'IndirectAr'+'gs\x20{\x0a\x20\x20\x20\x20i'+'ndexCount:'+'\x20u32,\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Numb'+'er\x20of\x20indi'+'ces\x20to\x20dra'+'w\x0a\x20\x20\x20\x20inst'+'anceCount:'+'\x20u32,\x20\x20\x20\x20\x20'+'//\x20Number\x20'+'of\x20instanc'+'es\x20to\x20draw'+'\x0a\x20\x20\x20\x20first'+'Index:\x20u32'+',\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Index\x20of'+'\x20the\x20first'+'\x20index\x20in\x20'+'the\x20index\x20'+'buffer\x0a\x20\x20\x20'+'\x20baseVerte'+'x:\x20i32,\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Of'+'fset\x20added'+'\x20to\x20each\x20i'+'ndex\x20befor'+'e\x20fetching'+'\x20vertex\x0a\x20\x20'+'\x20\x20firstIns'+'tance:\x20u32'+'\x20\x20\x20\x20\x20\x20//\x20F'+'irst\x20insta'+'nce\x20ID\x0a};\x0a'+'\x0a//\x20Indire'+'ct\x20non-ind'+'exed\x20draw\x20'+'call\x20param'+'eters\x0astru'+'ct\x20DrawInd'+'irectArgs\x20'+'{\x0a\x20\x20\x20\x20vert'+'exCount:\x20u'+'32,\x20\x20\x20\x20\x20\x20\x20'+'//\x20Number\x20'+'of\x20vertice'+'s\x20to\x20draw\x0a'+'\x20\x20\x20\x20instan'+'ceCount:\x20u'+'32,\x20\x20\x20\x20\x20//'+'\x20Number\x20of'+'\x20instances'+'\x20to\x20draw\x0a\x20'+'\x20\x20\x20firstVe'+'rtex:\x20u32,'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Index\x20of\x20t'+'he\x20first\x20v'+'ertex\x0a\x20\x20\x20\x20'+'firstInsta'+'nce:\x20u32,\x20'+'\x20\x20\x20\x20//\x20Fir'+'st\x20instanc'+'e\x20ID\x0a\x20\x20\x20\x20_'+'pad:\x20u32\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Padd'+'ing\x20to\x20mat'+'ch\x20indexed'+'\x20size\x20(unu'+'sed)\x0a};\x0a',oD='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gamma'+'PS\x22\x0a\x20\x20\x20\x20va'+'rying\x20colo'+'r:\x20vec4f;\x0a'+'\x20\x20\x20\x20@fragm'+'ent\x0a\x20\x20\x20\x20fn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utput:\x20Fra'+'gmentOutpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(gammaCor'+'rectOutput'+'(decodeGam'+'ma3(input.'+'color.rgb)'+'),\x20input.c'+'olor.a);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a\x20\x20\x20\x20}\x0a',lD='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vertex_'+'color:\x20vec'+'4f;\x0a\x20\x20\x20\x20un'+'iform\x20matr'+'ix_model:\x20'+'mat4x4f;\x0a\x20'+'\x20\x20\x20uniform'+'\x20matrix_vi'+'ewProjecti'+'on:\x20mat4x4'+'f;\x0a\x20\x20\x20\x20var'+'ying\x20color'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20@vertex'+'\x0a\x20\x20\x20\x20fn\x20ve'+'rtexMain(i'+'nput\x20:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'output\x20:\x20V'+'ertexOutpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20inpu'+'t.vertex_c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20uniform.'+'matrix_vie'+'wProjectio'+'n\x20*\x20unifor'+'m.matrix_m'+'odel\x20*\x20inp'+'ut.vertex_'+'position;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',cD='\x0auniform\x20m'+'aterial_ir'+'idescenceR'+'efractionI'+'ndex:\x20f32;'+'\x0a\x0afn\x20iride'+'scence_ior'+'ToFresnelS'+'calar(tran'+'smittedIor'+':\x20f32,\x20inc'+'identIor:\x20'+'f32)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20pow(('+'transmitte'+'dIor\x20-\x20inc'+'identIor)\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'incidentIo'+'r),\x202.0);\x0a'+'}\x0a\x0afn\x20irid'+'escence_io'+'rToFresnel'+'Vec3(trans'+'mittedIor:'+'\x20vec3f,\x20in'+'cidentIor:'+'\x20f32)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w((transmi'+'ttedIor\x20-\x20'+'vec3f(inci'+'dentIor))\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'vec3f(inci'+'dentIor)),'+'\x20vec3f(2.0'+'));\x0a}\x0a\x0afn\x20'+'iridescenc'+'e_fresnelT'+'oIor(f0:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20sqrtF'+'0:\x20vec3f\x20='+'\x20sqrt(f0);'+'\x0a\x20\x20\x20\x20retur'+'n\x20(vec3f(1'+'.0)\x20+\x20sqrt'+'F0)\x20/\x20(vec'+'3f(1.0)\x20-\x20'+'sqrtF0);\x0a}'+'\x0a\x0aconst\x20XY'+'Z_TO_REC70'+'9:\x20mat3x3f'+'\x20=\x20mat3x3f'+'(\x0a\x20\x20\x20\x20vec3'+'f(3.240454'+'2,\x20-1.5371'+'385,\x20-0.49'+'85314),\x0a\x20\x20'+'\x20\x20vec3f(-0'+'.9692660,\x20'+'\x201.8760108'+',\x20\x200.04155'+'60),\x0a\x20\x20\x20\x20v'+'ec3f(0.055'+'6434,\x20-0.2'+'040259,\x20\x201'+'.0572252)\x0a'+');\x0a\x0afn\x20iri'+'descence_s'+'ensitivity'+'(opd:\x20f32,'+'\x20shift:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x20\x20\x20\x20let'+'\x20phase:\x20f3'+'2\x20=\x202.0\x20*\x20'+'PI\x20*\x20opd\x20*'+'\x201.0e-9;\x0a\x20'+'\x20\x20\x20const\x20v'+'al:\x20vec3f\x20'+'=\x20vec3f(5.'+'4856e-13,\x20'+'4.4201e-13'+',\x205.2481e-'+'13);\x0a\x20\x20\x20\x20c'+'onst\x20pos:\x20'+'vec3f\x20=\x20ve'+'c3f(1.6810'+'e+06,\x201.79'+('53e+06,\x202.'+'2084e+06);'+'\x0a\x20\x20\x20\x20const'+'\x20var_:\x20vec'+'3f\x20=\x20vec3f'+'(4.3278e+0'+'9,\x209.3046e'+'+09,\x206.612'+'1e+09);\x0a\x0a\x20'+'\x20\x20\x20var\x20xyz'+':\x20vec3f\x20=\x20'+'val\x20*\x20sqrt'+'(2.0\x20*\x20PI\x20'+'*\x20var_)\x20*\x20'+'cos(pos\x20*\x20'+'phase\x20+\x20sh'+'ift)\x20*\x20exp'+'(-pow(phas'+'e,\x202.0)\x20*\x20'+'var_);\x0a\x20\x20\x20'+'\x20xyz.x\x20=\x20x'+'yz.x\x20+\x209.7'+'470e-14\x20*\x20'+'sqrt(2.0\x20*'+'\x20PI\x20*\x204.52'+'82e+09)\x20*\x20'+'cos(2.2399'+'e+06\x20*\x20pha'+'se\x20+\x20shift'+'[0])\x20*\x20exp'+'(-4.5282e+'+'09\x20*\x20pow(p'+'hase,\x202.0)'+');\x0a\x20\x20\x20\x20xyz'+'\x20=\x20xyz\x20/\x20v'+'ec3f(1.068'+'5e-07);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'XYZ_TO_REC'+'709\x20*\x20xyz;'+'\x0a}\x0a\x0afn\x20iri'+'descence_f'+'resnelScal'+'ar(cosThet'+'a:\x20f32,\x20f0'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'let\x20x:\x20f32'+'\x20=\x20clamp(1'+'.0\x20-\x20cosTh'+'eta,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'let\x20x2:\x20f3'+'2\x20=\x20x\x20*\x20x;'+'\x0a\x20\x20\x20\x20let\x20x'+'5:\x20f32\x20=\x20x'+'\x20*\x20x2\x20*\x20x2'+';\x0a\x20\x20\x20\x20retu'+'rn\x20f0\x20+\x20(1'+'.0\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x0a\x0afn'+'\x20iridescen'+'ce_fresnel'+'Vec3(cosTh'+'eta:\x20f32,\x20'+'f0:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'x:\x20f32\x20=\x20c'+'lamp(1.0\x20-'+'\x20cosTheta,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20let\x20'+'x2:\x20f32\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20let\x20x5:\x20f'+'32\x20=\x20x\x20*\x20x'+'2\x20*\x20x2;\x0a\x20\x20'+'\x20\x20return\x20f'+'0\x20+\x20(vec3f'+'(1.0)\x20-\x20f0'+')\x20*\x20x5;\x0a}\x0a'+'\x0afn\x20calcIr'+'idescence('+'outsideIor'+':\x20f32,\x20cos'+'Theta:\x20f32'+',\x20base_f0:'+'\x20vec3f,\x20ir'+'idescenceT'+'hickness:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x0a\x20\x20\x20\x20le'+'t\x20iridesce'+'nceIor:\x20f3'+'2\x20=\x20mix(ou')+('tsideIor,\x20'+'uniform.ma'+'terial_iri'+'descenceRe'+'fractionIn'+'dex,\x20smoot'+'hstep(0.0,'+'\x200.03,\x20iri'+'descenceTh'+'ickness));'+'\x0a\x20\x20\x20\x20let\x20s'+'inTheta2Sq'+':\x20f32\x20=\x20po'+'w(outsideI'+'or\x20/\x20iride'+'scenceIor,'+'\x202.0)\x20*\x20(1'+'.0\x20-\x20pow(c'+'osTheta,\x202'+'.0));\x0a\x20\x20\x20\x20'+'let\x20cosThe'+'ta2Sq:\x20f32'+'\x20=\x201.0\x20-\x20s'+'inTheta2Sq'+';\x0a\x0a\x20\x20\x20\x20if\x20'+'(cosTheta2'+'Sq\x20<\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'3f(1.0);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'let\x20cosThe'+'ta2:\x20f32\x20='+'\x20sqrt(cosT'+'heta2Sq);\x0a'+'\x0a\x20\x20\x20\x20let\x20r'+'0:\x20f32\x20=\x20i'+'ridescence'+'_iorToFres'+'nelScalar('+'iridescenc'+'eIor,\x20outs'+'ideIor);\x0a\x20'+'\x20\x20\x20let\x20r12'+':\x20f32\x20=\x20ir'+'idescence_'+'fresnelSca'+'lar(cosThe'+'ta,\x20r0);\x0a\x20'+'\x20\x20\x20let\x20r21'+':\x20f32\x20=\x20r1'+'2;\x0a\x20\x20\x20\x20let'+'\x20t121:\x20f32'+'\x20=\x201.0\x20-\x20r'+'12;\x0a\x0a\x20\x20\x20\x20l'+'et\x20phi12:\x20'+'f32\x20=\x20sele'+'ct(0.0,\x20PI'+',\x20iridesce'+'nceIor\x20<\x20o'+'utsideIor)'+';\x0a\x20\x20\x20\x20let\x20'+'phi21:\x20f32'+'\x20=\x20PI\x20-\x20ph'+'i12;\x0a\x0a\x20\x20\x20\x20'+'let\x20baseIo'+'r:\x20vec3f\x20='+'\x20iridescen'+'ce_fresnel'+'ToIor(base'+'_f0\x20+\x20vec3'+'f(0.0001))'+';\x0a\x20\x20\x20\x20let\x20'+'r1:\x20vec3f\x20'+'=\x20iridesce'+'nce_iorToF'+'resnelVec3'+'(baseIor,\x20'+'iridescenc'+'eIor);\x0a\x20\x20\x20'+'\x20let\x20r23:\x20'+'vec3f\x20=\x20ir'+'idescence_'+'fresnelVec'+'3(cosTheta'+'2,\x20r1);\x0a\x0a\x20'+'\x20\x20\x20let\x20phi'+'23:\x20vec3f\x20'+'=\x20select(v'+'ec3f(0.0),'+'\x20vec3f(PI)'+',\x20baseIor\x20'+'<\x20vec3f(ir'+'idescenceI'+'or));\x0a\x20\x20\x20\x20'+'let\x20opd:\x20f'+'32\x20=\x202.0\x20*'+'\x20iridescen'+'ceIor\x20*\x20ir'+'idescenceT')+('hickness\x20*'+'\x20cosTheta2'+';\x0a\x20\x20\x20\x20let\x20'+'phi:\x20vec3f'+'\x20=\x20vec3f(p'+'hi21)\x20+\x20ph'+'i23;\x20//\x20Pr'+'omote\x20scal'+'ar\x20phi21\x20t'+'o\x20vec3f\x0a\x0a\x20'+'\x20\x20\x20let\x20r12'+'3Sq:\x20vec3f'+'\x20=\x20clamp(v'+'ec3f(r12)\x20'+'*\x20r23,\x20vec'+'3f(1e-5),\x20'+'vec3f(0.99'+'99));\x0a\x20\x20\x20\x20'+'let\x20r123:\x20'+'vec3f\x20=\x20sq'+'rt(r123Sq)'+';\x0a\x20\x20\x20\x20let\x20'+'rs:\x20vec3f\x20'+'=\x20pow(vec3'+'f(t121),\x20v'+'ec3f(2.0))'+'\x20*\x20r23\x20/\x20('+'vec3f(1.0)'+'\x20-\x20r123Sq)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20c0:\x20vec3f'+'\x20=\x20vec3f(r'+'12)\x20+\x20rs;\x0a'+'\x20\x20\x20\x20var\x20i_'+'irid:\x20vec3'+'f\x20=\x20c0;\x0a\x0a\x20'+'\x20\x20\x20var\x20cm:'+'\x20vec3f\x20=\x20r'+'s\x20-\x20vec3f('+'t121);\x0a\x0a\x20\x20'+'\x20\x20cm\x20=\x20cm\x20'+'*\x20r123;\x0a\x20\x20'+'\x20\x20let\x20sm1:'+'\x20vec3f\x20=\x202'+'.0\x20*\x20iride'+'scence_sen'+'sitivity(1'+'.0\x20*\x20opd,\x20'+'1.0\x20*\x20phi)'+';\x0a\x20\x20\x20\x20i_ir'+'id\x20=\x20i_iri'+'d\x20+\x20cm\x20*\x20s'+'m1;\x0a\x0a\x20\x20\x20\x20c'+'m\x20=\x20cm\x20*\x20r'+'123;\x0a\x20\x20\x20\x20l'+'et\x20sm2:\x20ve'+'c3f\x20=\x202.0\x20'+'*\x20iridesce'+'nce_sensit'+'ivity(2.0\x20'+'*\x20opd,\x202.0'+'\x20*\x20phi);\x0a\x20'+'\x20\x20\x20i_irid\x20'+'=\x20i_irid\x20+'+'\x20cm\x20*\x20sm2;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20max(i_i'+'rid,\x20vec3f'+'(0.0));\x0a}\x0a'+'\x0afn\x20getIri'+'descenceDi'+'ffraction('+'cosTheta:\x20'+'f32,\x20specu'+'larity:\x20ve'+'c3f,\x20iride'+'scenceThic'+'kness:\x20f32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcIr'+'idescence('+'1.0,\x20cosTh'+'eta,\x20specu'+'larity,\x20ir'+'idescenceT'+'hickness);'+'\x0a}\x0a'),hD='\x0a#ifdef\x20ST'+'D_IRIDESCE'+'NCE_CONSTA'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20mater'+'ial_irides'+'cence:\x20f32'+';\x0a#endif\x0a\x0a'+'fn\x20getIrid'+'escence()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'iridescenc'+'e\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_CON'+'STANT\x0a\x20\x20\x20\x20'+'iridescenc'+'e\x20=\x20irides'+'cence\x20*\x20un'+'iform.mate'+'rial_iride'+'scence;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20=\x20iridesc'+'ence\x20*\x20tex'+'tureSample'+'Bias({STD_'+'IRIDESCENC'+'E_TEXTURE_'+'NAME},\x20{ST'+'D_IRIDESCE'+'NCE_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_IRIDESCEN'+'CE_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias).{ST'+'D_IRIDESCE'+'NCE_TEXTUR'+'E_CHANNEL}'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dI'+'ridescence'+'\x20=\x20iridesc'+'ence;\x20\x0a}\x0a',dD='\x0auniform\x20m'+'aterial_ir'+'idescenceT'+'hicknessMa'+'x:\x20f32;\x0a\x0a#'+'ifdef\x20STD_'+'IRIDESCENC'+'ETHICKNESS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20uniform'+'\x20material_'+'iridescenc'+'eThickness'+'Min:\x20f32;\x0a'+'#endif\x0a\x0afn'+'\x20getIrides'+'cenceThick'+'ness()\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20blen'+'d:\x20f32\x20=\x20t'+'extureSamp'+'leBias({ST'+'D_IRIDESCE'+'NCETHICKNE'+'SS_TEXTURE'+'_NAME},\x20{S'+'TD_IRIDESC'+'ENCETHICKN'+'ESS_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20iridesce'+'nceThickne'+'ss:\x20f32\x20=\x20'+'mix(unifor'+'m.material'+'_iridescen'+'ceThicknes'+'sMin,\x20unif'+'orm.materi'+'al_iridesc'+'enceThickn'+'essMax,\x20bl'+'end);\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ir'+'idescenceT'+'hickness:\x20'+'f32\x20=\x20unif'+'orm.materi'+'al_iridesc'+'enceThickn'+'essMax;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dIride'+'scenceThic'+'kness\x20=\x20ir'+'idescenceT'+'hickness;\x20'+'\x0a}\x0a',fD='\x0a#ifdef\x20ST'+'D_IOR_CONS'+'TANT\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'erial_refr'+'actionInde'+'x:\x20f32;\x0a#e'+'ndif\x0a\x0afn\x20g'+'etIor()\x20{\x0a'+'#ifdef\x20STD'+'_IOR_CONST'+'ANT\x0a\x20\x20\x20\x20dI'+'or\x20=\x20unifo'+'rm.materia'+'l_refracti'+'onIndex;\x0a#'+'else\x0a\x20\x20\x20\x20d'+'Ior\x20=\x201.0\x20'+'/\x201.5;\x0a#en'+'dif\x0a}\x0a',uD='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0a\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_color'+':\x20vec3f;\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_direction'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'CODE_LIGHT'+'S_POINT\x20//'+'\x20include\x20f'+'unctionali'+'ty\x20for\x20poi'+'nt\x20lights\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20lig'+'ht{i}_posi'+'tion:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_ra'+'dius:\x20f32;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'SPOT\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'CODE_LIGHT'+'S_SPOT\x20//\x20'+'include\x20fu'+'nctionalit'+'y\x20for\x20spot'+'\x20lights\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_di'+'rection:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_inner'+'ConeAngle:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_outer'+'ConeAngle:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20//\x20'+'area\x20light'+'s\x0a\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20!=\x20PUN'+'CTUAL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_COD'+'E_FALLOFF_'+'SQUARED\x20//'+'\x20include\x20f'+'unctionali'+'ty\x20for\x20inv'+'erse\x20squar'+'ed\x20falloff'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_position:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_ha'+'lfWidth:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_halfHeigh'+'t:\x20vec3f;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}FALLOFF\x20='+'=\x20LINEAR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20#define\x20L'+'IT_CODE_FA'+'LLOFF_LINE'+'AR\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20linear\x20f'+'alloff\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}FALLOFF'+'\x20==\x20INVERS'+'ESQUARED\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#define\x20L'+'IT_CODE_FA'+'LLOFF_SQUA'+'RED\x20//\x20inc'+'lude\x20funct'+'ionality\x20f'+'or\x20inverse'+'\x20squared\x20f'+'alloff\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20shadow\x20c'+'asting\x0a\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIGHT{i'+'}CASTSHADO'+'W)\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowMatri'+'x:\x20mat4x4f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20li'+'ght{i}_sha'+'dowIntensi'+'ty:\x20f32;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20light'+'{i}_shadow'+'Params:\x20ve'+'c4f;\x20//\x20wi'+'dth,\x20heigh'+'t,\x20bias,\x20r'+'adius\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCSS_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowSearc'+'hArea:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_cameraPar'+'ams:\x20vec4f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'oftShadowP'+'arams:\x20vec'+'4f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'directiona'+'l\x20(cascade'+'d)\x20shadows'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20D'+'IRECTIONAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20light{i}_'+'shadowMatr'+'ixPalette:'+'\x20array<mat'+'4x4f,\x204>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowCasca'+'deDistance'+'s:\x20vec4f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20uniform\x20'+'light{i}_s'+'hadowCasca'+'deCount:\x20i'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20light{'+'i}_shadowC'+'ascadeBlen'+'d:\x20f32;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20OMNI\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20N'+'OT\x20SUPPORT'+'ED\x0a/*\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IGHT{i}SHA'+'DOW_PCF)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'CubeShadow'+'\x20light{i}_'+'shadowMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'Cube\x20light'+'{i}_shadow'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a*/\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIG'+'HT{i}SHADO'+'W_PCF)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20lig'+'ht{i}_shad'+'owMap:\x20tex'+'ture_depth'+'_2d;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20light'+'{i}_shadow'+'MapSampler'+':\x20sampler_'+'comparison'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'light{i}_s'+'hadowMap:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20lig'+'ht{i}_shad'+'owMapSampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'LIGHT{i}CO'+'OKIE)\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_COD'+'E_COOKIE\x20/'+'/\x20include\x20'+'functional'+'ity\x20for\x20co'+'okies\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20OMNI\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20NOT\x20SUPP'+'ORTED\x0a/*\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'plerCube\x20l'+'ight{i}_co'+'okie;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un')+('iform\x20floa'+'t\x20light{i}'+'_cookieInt'+'ensity;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20!defin'+'ed(LIGHT{i'+'}CASTSHADO'+'W)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20mat'+'4\x20light{i}'+'_shadowMat'+'rix;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a*/\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20NO'+'T\x20SUPPORTE'+'D\x0a/*\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20light{'+'i}_cookie;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20float\x20lig'+'ht{i}_cook'+'ieIntensit'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20!'+'defined(LI'+'GHT{i}CAST'+'SHADOW)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20lig'+'ht{i}_shad'+'owMatrix;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIGHT{i'+'}COOKIE_TR'+'ANSFORM)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20li'+'ght{i}_coo'+'kieMatrix;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20vec2\x20'+'light{i}_c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a*/\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a'),pD='\x0afn\x20getLig'+'htDiffuse('+'worldNorma'+'l:\x20vec3f,\x20'+'viewDir:\x20v'+'ec3f,\x20ligh'+'tDirNorm:\x20'+'vec3f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20max'+'(dot(world'+'Normal,\x20-l'+'ightDirNor'+'m),\x200.0);\x0a'+'}\x0a',mD='\x0afn\x20evalOm'+'niLight(li'+'ghtPosW:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20vP'+'ositionW\x20-'+'\x20lightPosW'+';\x0a}\x0a',_D='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x20\x20\x20\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20irides'+'cenceFresn'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20);\x0a#endi'+'f\x0a',gD='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0afn\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceFre'+'snel:\x20vec3'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a)\x20{\x0a\x20\x20\x20'+'\x20//\x20light\x20'+'color\x0a\x20\x20\x20\x20'+'var\x20lightC'+'olor:\x20vec3'+'f\x20=\x20unifor'+'m.light{i}'+'_color;\x0a\x0a\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}TYPE\x20'+'==\x20DIRECTI'+'ONAL\x20&&\x20!d'+'efined(LIT'+'_SHADOW_CA'+'TCHER)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ea'+'rly\x20return'+'\x20if\x20the\x20li'+'ght\x20color\x20'+'is\x20black\x20('+'used\x20by\x20sh'+'adow\x20catch'+'er\x20-\x20this\x20'+'way\x20this\x20l'+'ight\x20is\x20ve'+'ry\x20cheap)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(all(ligh'+'tColor\x20==\x20'+'vec3f(0.0,'+'\x200.0,\x200.0)'+'))\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20DIRECTION'+'AL\x20//\x20dire'+'ctional\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dLightD'+'irNormW\x20=\x20'+'uniform.li'+'ght{i}_dir'+'ection;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dAtt'+'en\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x20//\x20omni\x20o'+'r\x20spot\x20lig'+'ht\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20ligh'+'tDirW:\x20vec'+'3f\x20=\x20evalO'+'mniLight(u'+'niform.lig'+'ht{i}_posi'+'tion);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dLigh'+'tDirNormW\x20'+'=\x20normaliz'+'e(lightDir'+'W);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cook'+'ie\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIGHT'+'{i}COOKIE)'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20SPOT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_FAL'+'LOFF\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_TRA'+'NSFORM\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+('eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DXform(u'+'niform.lig'+'ht{i}_cook'+'ie,\x20unifor'+'m.light{i}'+'_shadowMat'+'rix,\x20unifo'+'rm.light{i'+'}_cookieIn'+'tensity,\x20u'+'niform.lig'+'ht{i}_cook'+'ieMatrix,\x20'+'uniform.li'+'ght{i}_coo'+'kieOffset)'+'.{LIGHT{i}'+'COOKIE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ge'+'tCookie2D('+'uniform.li'+'ght{i}_coo'+'kie,\x20unifo'+'rm.light{i'+'}_shadowMa'+'trix,\x20unif'+'orm.light{'+'i}_cookieI'+'ntensity).'+'{LIGHT{i}C'+'OOKIE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_TRA'+'NSFORM\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+'eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DClipXfo'+'rm(uniform'+'.light{i}_'+'cookie,\x20un'+'iform.ligh'+'t{i}_shado'+'wMatrix,\x20u'+'niform.lig'+'ht{i}_cook'+'ieIntensit'+'y,\x20uniform'+'.light{i}_'+'cookieMatr'+'ix,\x20unifor'+'m.light{i}'+'_cookieOff'+'set).{LIGH'+'T{i}COOKIE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+'eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DClip(un'+'iform.ligh'+'t{i}_cooki'+'e,\x20uniform'+'.light{i}_'+'shadowMatr'+'ix,\x20unifor'+'m.light{i}'+'_cookieInt'+'ensity).{L'+'IGHT{i}COO'+'KIE_CHANNE'+'L};\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20OMNI'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ge'+'tCookieCub'+'e(uniform.'+'light{i}_c'+'ookie,\x20uni'+'form.light'+'{i}_shadow'+'Matrix,\x20un'+'iform.ligh'+'t{i}_cooki'+'eIntensity'+').{LIGHT{i'+'}COOKIE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20multipl'+'y\x20light\x20co'+'lor\x20by\x20the'+'\x20cookie\x20at'+'tenuation\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightCol'+'or\x20=\x20light'+'Color\x20*\x20co'+'okieAttenu'+'ation;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dista'+'nce\x20fallof'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHAPE\x20=='+'\x20PUNCTUAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}FALLOF'+'F\x20==\x20LINEA'+'R\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dA'+'tten\x20=\x20get'+'FalloffLin'+'ear(unifor'+'m.light{i}'+'_radius,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dAtte'+'n\x20=\x20getFal'+'loffInvSqu'+'ared(unifo'+'rm.light{i'+'}_radius,\x20'+'lightDirW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'non\x20punctu'+'al\x20lights\x20'+'only\x20gets\x20'+'the\x20range\x20'+'window\x20her'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offWindow('+'uniform.li'+'ght{i}_rad'+'ius,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20spot\x20l'+'ight\x20angle'+'\x20falloff\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20SPO'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20!d')+('efined(LIG'+'HT{i}COOKI'+'E)\x20||\x20defi'+'ned(LIGHT{'+'i}COOKIE_F'+'ALLOFF)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dAtten'+'\x20=\x20dAtten\x20'+'*\x20getSpotE'+'ffect(unif'+'orm.light{'+'i}_directi'+'on,\x20unifor'+'m.light{i}'+'_innerCone'+'Angle,\x20uni'+'form.light'+'{i}_outerC'+'oneAngle,\x20'+'dLightDirN'+'ormW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20if\x20'+'(dAtten\x20<\x20'+'0.00001)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20evaluate\x20'+'area\x20light'+'\x20values\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHAPE\x20=='+'\x20RECT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcRectLigh'+'tValues(un'+'iform.ligh'+'t{i}_posit'+'ion,\x20unifo'+'rm.light{i'+'}_halfWidt'+'h,\x20uniform'+'.light{i}_'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20DISK\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20calcDiskL'+'ightValues'+'(uniform.l'+'ight{i}_po'+'sition,\x20un'+'iform.ligh'+'t{i}_halfW'+'idth,\x20unif'+'orm.light{'+'i}_halfHei'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20SPH'+'ERE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20calc'+'SphereLigh'+'tValues(un'+'iform.ligh'+'t{i}_posit'+'ion,\x20unifo'+'rm.light{i'+'}_halfWidt'+'h,\x20uniform'+'.light{i}_'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20dif'+'fuse\x20light'+'ing\x20-\x20LTC\x20'+'lights\x20do\x20'+'not\x20mix\x20di'+'ffuse\x20ligh'+'ting\x20into\x20'+'attenuatio'+'n\x20that\x20aff'+'ects\x20specu'+'lar\x0a\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHAPE\x20!=\x20P')+('UNCTUAL\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'attenDiffu'+'se\x20-\x20separ'+'ate\x20diffus'+'e\x20attenuat'+'ion\x20for\x20no'+'n-punctual'+'\x20light\x20sou'+'rces\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20NB:\x20A\x20bet'+'ter\x20approx'+'imation\x20pe'+'rhaps\x20usin'+'g\x20wrap\x20lig'+'hting\x20coul'+'d\x20be\x20imple'+'mented\x20her'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20at'+'tenDiffuse'+':\x20f32\x20=\x20ge'+'tLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW,\x20dLig'+'htDirNormW'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x2016.0\x20is\x20'+'a\x20constant'+'\x20that\x20is\x20i'+'n\x20getFallo'+'ffInvSquar'+'ed()\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20attenDi'+'ffuse:\x20f32'+'\x20=\x20getRect'+'LightDiffu'+'se(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20light'+'DirW,\x20dLig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20LI'+'GHT{i}SHAP'+'E\x20==\x20DISK\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'attenDiffu'+'se:\x20f32\x20=\x20'+'getDiskLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20lightDir'+'W,\x20dLightD'+'irNormW)\x20*'+'\x2016.0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20LIGHT'+'{i}SHAPE\x20='+'=\x20SPHERE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20a'+'ttenDiffus'+'e:\x20f32\x20=\x20g'+'etSphereLi'+'ghtDiffuse'+'(litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20lightDi'+'rW,\x20dLight'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20one\x20par'+'ameter\x20is\x20'+'unused\x20for')+('\x20punctual\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAtte'+'n\x20=\x20dAtten'+'\x20*\x20getLigh'+'tDiffuse(l'+'itArgs_wor'+'ldNormal,\x20'+'vec3(0.0),'+'\x20dLightDir'+'NormW);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20app'+'ly\x20the\x20sha'+'dow\x20attenu'+'ation\x0a\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}CASTS'+'HADOW\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20shadow:'+'\x20f32\x20=\x20get'+'Shadow{i}('+'vec3(0.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20shadow:\x20'+'f32\x20=\x20getS'+'hadow{i}(l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Ap'+'ply\x20shadow'+'\x20intensity'+'\x20to\x20the\x20sh'+'adow\x20value'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'hadow\x20=\x20mi'+'x(1.0,\x20sha'+'dow,\x20unifo'+'rm.light{i'+'}_shadowIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20dA'+'tten\x20*\x20sha'+'dow;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'SHADOW_CAT'+'CHER)\x20&&\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20accumula'+'te\x20shadows'+'\x20for\x20direc'+'tional\x20lig'+'hts\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSha'+'dowCatcher'+'\x20=\x20dShadow'+'Catcher\x20*\x20'+'shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20-\x20they'+'\x20do\x20not\x20mi'+'x\x20diffuse\x20'+'lighting\x20i'+'nto\x20specul'+'ar\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20dDiffuseL'+'ight\x20+\x20((('+'attenDiffu'+'se\x20*\x20dAtte'+'n)\x20*\x20light'+'Color)\x20*\x20('+'1.0\x20-\x20dLTC'+'SpecFres))')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20dDiffu'+'seLight\x20+\x20'+'((attenDif'+'fuse\x20*\x20dAt'+'ten)\x20*\x20lig'+'htColor);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'punctual\x20l'+'ight\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(AREA_'+'LIGHTS)\x20&&'+'\x20defined(L'+'IT_SPECULA'+'R)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20dDiffuseL'+'ight\x20+\x20((d'+'Atten\x20*\x20li'+'ghtColor)\x20'+'*\x20(1.0\x20-\x20l'+'itArgs_spe'+'cularity))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20dDiffu'+'seLight\x20+\x20'+'(dAtten\x20*\x20'+'lightColor'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20spe'+'cular\x20ligh'+'ting\x0a\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}AFFECT'+'_SPECULARI'+'TY\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20==\x20REC'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccSpecul'+'arLight\x20=\x20'+'ccSpecular'+'Light\x20+\x20(c'+'cLTCSpecFr'+'es\x20*\x20getRe'+'ctLightSpe'+'cular(litA'+'rgs_clearc'+'oat_worldN'+'ormal,\x20dVi'+'ewDirW)\x20*\x20'+'dAtten\x20*\x20l'+'ightColor)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20=\x20ccSpec'+'ularLight\x20'+'+\x20(ccLTCSp'+'ecFres\x20*\x20g'+'etDiskLigh'+'tSpecular('+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20dViewDirW'+')\x20*\x20dAtten'+'\x20*\x20lightCo'+'lor);\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20LI'+'GHT{i}SHAP'+'E\x20==\x20SPHER'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccSpecul'+'arLight\x20=\x20'+'ccSpecular'+'Light\x20+\x20(c'+'cLTCSpecFr'+'es\x20*\x20getSp'+'hereLightS'+'pecular(li'+'tArgs_clea'+'rcoat_worl'+'dNormal,\x20d'+'ViewDirW)\x20'+'*\x20dAtten\x20*'+'\x20lightColo'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'PE\x20==\x20RECT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20=\x20dS'+'pecularLig'+'ht\x20+\x20(dLTC'+'SpecFres\x20*'+'\x20getRectLi'+'ghtSpecula'+'r(litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW)\x20*\x20dAtt'+'en\x20*\x20light'+'Color);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20DIS'+'K\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20+\x20(dLT'+'CSpecFres\x20'+'*\x20getDiskL'+'ightSpecul'+'ar(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW)\x20*\x20dAt'+'ten\x20*\x20ligh'+'tColor);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20LIGHT{i}S'+'HAPE\x20==\x20SP'+'HERE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'=\x20dSpecula'+'rLight\x20+\x20('+'dLTCSpecFr'+'es\x20*\x20getSp'+'hereLightS'+'pecular(li'+'tArgs_worl'+'dNormal,\x20d'+'ViewDirW)\x20'+'*\x20dAtten\x20*'+'\x20lightColo'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x20//\x20punctu'+'al\x20light\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20is\x20fr'+'esnel\x20need'+'ed\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC')+('TIONAL\x20&&\x20'+'LIT_FRESNE'+'L_MODEL\x20!='+'\x20NONE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ha'+'lfDirW:\x20ve'+'c3f\x20=\x20norm'+'alize(-dLi'+'ghtDirNorm'+'W\x20+\x20dViewD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20if\x20LTC\x20li'+'ghts\x20are\x20p'+'resent,\x20sp'+'ecular\x20mus'+'t\x20be\x20accum'+'ulated\x20wit'+'h\x20specular'+'ity\x20(specu'+'larity\x20is\x20'+'pre\x20multip'+'lied\x20by\x20pu'+'nctual\x20lig'+'ht\x20fresnel'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20light'+'specularCC'+':\x20vec3f\x20=\x20'+'getLightSp'+'ecular(hal'+'fDirW,\x20ccR'+'eflDirW,\x20l'+'itArgs_cle'+'arcoat_wor'+'ldNormal,\x20'+'dViewDirW,'+'\x20dLightDir'+'NormW,\x20lit'+'Args_clear'+'coat_gloss'+',\x20dTBN)\x20*\x20'+'dAtten\x20*\x20l'+'ightColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIGHT{'+'i}FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'lightspecu'+'larCC\x20=\x20li'+'ghtspecula'+'rCC\x20*\x20getF'+'resnelCC(d'+'ot(dViewDi'+'rW,\x20halfDi'+'rW));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20=\x20ccSpecu'+'larLight\x20+'+'\x20lightspec'+'ularCC;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sSpecul'+'arLight\x20=\x20'+'sSpecularL'+'ight\x20+\x20(ge'+'tLightSpec'+'ularSheen('+'halfDirW,\x20'+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi')+('rNormW,\x20li'+'tArgs_shee'+'n_gloss)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20ligh'+'tSpecular:'+'\x20vec3f\x20=\x20g'+'etLightSpe'+'cular(half'+'DirW,\x20dRef'+'lDirW,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW,\x20d'+'LightDirNo'+'rmW,\x20litAr'+'gs_gloss,\x20'+'dTBN)\x20*\x20dA'+'tten\x20*\x20lig'+'htColor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'FRESNEL\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightSpe'+'cular\x20=\x20li'+'ghtSpecula'+'r\x20*\x20getFre'+'snel(dot(d'+'ViewDirW,\x20'+'halfDirW),'+'\x20litArgs_g'+'loss,\x20litA'+'rgs_specul'+'arity,\x20iri'+'descenceFr'+'esnel,\x20lit'+'Args_iride'+'scence_int'+'ensity);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'ightSpecul'+'ar\x20=\x20light'+'Specular\x20*'+'\x20getFresne'+'l(dot(dVie'+'wDirW,\x20hal'+'fDirW),\x20li'+'tArgs_glos'+'s,\x20litArgs'+'_speculari'+'ty);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20light'+'Specular\x20='+'\x20lightSpec'+'ular\x20*\x20lit'+'Args_specu'+'larity;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20='+'\x20dSpecular'+'Light\x20+\x20li'+'ghtSpecula'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'#endif\x0a'),SD='\x0a\x0a//\x20shado'+'w\x20casting\x20'+'functional'+'ity\x0a#ifdef'+'\x20LIGHT{i}C'+'ASTSHADOW\x0a'+'\x0a\x20\x20\x20\x20//\x20ge'+'nerate\x20sha'+'dow\x20coordi'+'nates\x20func'+'tion,\x20base'+'d\x20on\x20per\x20l'+'ight\x20defin'+'es:\x0a\x20\x20\x20\x20//'+'\x20-\x20_SHADOW'+'_SAMPLE_NO'+'RMAL_OFFSE'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_POIN'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20fn\x20ge'+'tShadowSam'+'pleCoord{i'+'}(shadowTr'+'ansform:\x20m'+'at4x4f,\x20sh'+'adowParams'+':\x20vec4f,\x20w'+'orldPositi'+'on:\x20vec3f,'+'\x20lightPos:'+'\x20vec3f,\x20li'+'ghtDir:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'lightDirNo'+'rm:\x20vec3f,'+'\x20normal:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'surfacePos'+'ition\x20=\x20wo'+'rldPositio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}_SH'+'ADOW_SAMPL'+'E_POINT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_SAMPLE_'+'NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20distSc'+'ale:\x20f32\x20='+'\x20length(*l'+'ightDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20surfac'+'ePosition\x20'+'+\x20normal\x20*'+'\x20shadowPar'+'ams.y\x20*\x20cl'+'amp(1.0\x20-\x20'+'dot(normal'+',\x20-lightDi'+'rNorm),\x200.'+'0,\x201.0)\x20*\x20'+'distScale;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20*li'+'ghtDir\x20=\x20s'+'urfacePosi'+'tion\x20-\x20lig'+'htPos;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'*lightDir;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIGHT{'+'i}_SHADOW_'+'SAMPLE_NOR'+'MAL_OFFSET'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_N'+'ORMAL_OFFS'+'ET\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}_S'+'HADOW_SAMP'+'LE_ORTHO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20dis'+'tScale:\x20f3'+'2\x20=\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20distSca'+'le:\x20f32\x20=\x20'+'abs(dot(vP'+'ositionW\x20-'+'\x20lightPos,'+'\x20lightDirN'+'orm));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20surfac'+'ePosition\x20'+'=\x20surfaceP'+'osition\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y\x20*\x20clam'+'p(1.0\x20-\x20do'+'t(normal,\x20'+'-lightDirN'+'orm),\x200.0,'+'\x201.0)\x20*\x20di'+'stScale;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Use'+'\x20var\x20for\x20m'+'odificatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20po'+'sitionInSh'+'adowSpace:'+'\x20vec4f\x20=\x20s'+'hadowTrans'+'form\x20*\x20vec'+'4f(surface'+'Position,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIGHT'+'{i}_SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'positionIn'+'ShadowSpac'+'e.z\x20=\x20satu'+'rate(posit'+'ionInShado'+'wSpace.z)\x20'+'-\x200.0001;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIGHT{i}_'+'SHADOW_SAM')+('PLE_SOURCE'+'_ZBUFFER\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20=\x20pos'+'itionInSha'+'dowSpace.x'+'yz\x20/\x20posit'+'ionInShado'+'wSpace.w;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20position'+'InShadowSp'+'ace.xy\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xy\x20/\x20posi'+'tionInShad'+'owSpace.w;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20positionI'+'nShadowSpa'+'ce.z\x20=\x20len'+'gth(*light'+'Dir)\x20*\x20sha'+'dowParams.'+'w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20this\x20is\x20c'+'urrently\x20u'+'nused\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SHADO'+'W_SAMPLE_Z'+'_BIAS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20posit'+'ionInShado'+'wSpace.z\x20+'+'=\x20getShado'+'wBias(shad'+'owParams.x'+',\x20shadowPa'+'rams.z);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20sur'+'facePositi'+'on;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20sh'+'adow\x20evalu'+'ation\x20func'+'tion\x0a\x20\x20\x20\x20f'+'n\x20getShado'+'w{i}(light'+'DirW_in:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20dir'+'ectional\x20s'+'hadow\x20casc'+'ades\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}_S'+'HADOW_CASC'+'ADES\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20select\x20sh'+'adow\x20casca'+'de\x20matrix\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20casc'+'adeIndex:\x20'+'i32\x20=\x20getS'+'hadowCasca'+'deIndex(un'+'iform.ligh'+'t{i}_shado'+'wCascadeDi'+'stances,\x20u'+'niform.lig'+'ht{i}_shad')+('owCascadeC'+'ount);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_CASCADE'+'_BLEND\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20cascade'+'Index\x20=\x20di'+'therShadow'+'CascadeInd'+'ex(cascade'+'Index,\x20uni'+'form.light'+'{i}_shadow'+'CascadeDis'+'tances,\x20un'+'iform.ligh'+'t{i}_shado'+'wCascadeCo'+'unt,\x20unifo'+'rm.light{i'+'}_shadowCa'+'scadeBlend'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20s'+'hadowMatri'+'x:\x20mat4x4f'+'\x20=\x20uniform'+'.light{i}_'+'shadowMatr'+'ixPalette['+'cascadeInd'+'ex];\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20sha'+'dowMatrix:'+'\x20mat4x4f\x20='+'\x20uniform.l'+'ight{i}_sh'+'adowMatrix'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20lightDirA'+'rg\x20=\x20light'+'DirW_in;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'TYPE\x20==\x20DI'+'RECTIONAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20direc'+'tional\x20lig'+'ht\x20does\x20no'+'t\x20have\x20a\x20p'+'osition\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20shadow'+'Coord:\x20vec'+'3f\x20=\x20getSh'+'adowSample'+'Coord{i}(s'+'hadowMatri'+'x,\x20uniform'+'.light{i}_'+'shadowPara'+'ms,\x20vPosit'+'ionW,\x20vec3'+'f(0.0),\x20&l'+'ightDirArg'+',\x20dLightDi'+'rNormW,\x20dV'+'ertexNorma'+'lW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20shad'+'owCoord:\x20v'+'ec3f\x20=\x20get'+'ShadowSamp'+'leCoord{i}'+'(shadowMat'+'rix,\x20unifo'+'rm.light{i'+'}_shadowPa'+'rams,\x20vPos'+'itionW,\x20un'+'iform.ligh'+'t{i}_posit'+'ion,\x20&ligh'+'tDirArg,\x20d'+'LightDirNo'+'rmW,\x20dVert'+'exNormalW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20')+('#endif\x0a\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Fade\x20direc'+'tional\x20sha'+'dow\x20at\x20the'+'\x20far\x20dista'+'nce\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'owCoord\x20=\x20'+'fadeShadow'+'(shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowCas'+'cadeDistan'+'ces);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20-----\x20s'+'ample\x20the\x20'+'shadow\x20---'+'--\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x20//\x20---'+'--\x20directi'+'onal\x20light'+'\x20-----\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20VSM_'+'16F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowVSM1'+'6(light{i}'+'_shadowMap'+',\x20light{i}'+'_shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20uniform.'+'light{i}_s'+'hadowParam'+'s,\x205.54);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20VS'+'M_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowVS'+'M32(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams,\x2015.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCSS_32F\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20!=\x20PUN'+'CTUAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadowSear'+'chArea\x20=\x20v'+'ec2f(lengt'+'h(uniform.'+'light{i}_h'+'alfWidth),'+'\x20length(un'+'iform.ligh'+'t{i}_halfH'+'eight))\x20*\x20'+'uniform.li'+'ght{i}_sha'+'dowSearchA'+'rea;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wPCSS(ligh'+'t{i}_shado'+'wMap,\x20ligh'+'t{i}_shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20unif'+'orm.light{'+'i}_shadowP'+'arams,\x20uni'+'form.light'+'{i}_camera'+'Params,\x20sh'+'adowSearch'+'Area,\x20ligh'+'tDirW_in);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowP'+'CSS(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams,\x20unifo'+'rm.light{i'+'}_cameraPa'+'rams,\x20unif'+'orm.light{'+'i}_softSha'+'dowParams,'+'\x20lightDirW'+'_in);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F1_16F\x20||\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF1_32F'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF1x1('+'light{i}_s'+'hadowMap,\x20'+'light{i}_s'+'hadowMapSa'+'mpler,\x20sha'+'dowCoord,\x20'+'uniform.li'+'ght{i}_sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCF3_16F\x20|'+'|\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20PCF3_3'+'2F\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20getS'+'hadowPCF3x'+'3(light{i}'+'_shadowMap'+',\x20light{i}'+'_shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20uniform.'+'light{i}_s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF5_16F'+'\x20||\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20PCF5')+('_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ge'+'tShadowPCF'+'5x5(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x20//\x20-'+'----\x20spot\x20'+'light\x20----'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_16F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotVSM16'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x205.54,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotVSM32'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x2015.0,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCSS_32F\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20!=\x20PU'+'NCTUAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadowSea'+'rchArea:\x20v'+'ec2f\x20=\x20vec'+'2f(length('+'uniform.li'+'ght{i}_hal'+'fWidth),\x20l'+'ength(unif'+'orm.light{'+'i}_halfHei'+'ght))\x20*\x20un'+'iform.ligh'+'t{i}_shado'+'wSearchAre'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20s'+'hadowSearc'+'hArea:\x20vec')+('2f\x20=\x20vec2f'+'(uniform.l'+'ight{i}_sh'+'adowSearch'+'Area);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owSpotPCSS'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x20uniform.'+'light{i}_c'+'ameraParam'+'s,\x20shadowS'+'earchArea,'+'\x20lightDirW'+'_in);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_'+'16F\x20||\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF1_32F\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20getShadow'+'SpotPCF1x1'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCF'+'5_16F\x20||\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF5_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owSpotPCF5'+'x5(light{i'+'}_shadowMa'+'p,\x20light{i'+'}_shadowMa'+'pSampler,\x20'+'shadowCoor'+'d,\x20uniform'+'.light{i}_'+'shadowPara'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20')+('\x20\x20\x20#endif\x0a'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'OMNI\x20//\x20--'+'---\x20omni\x20l'+'ight\x20-----'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCSS_32F\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadowSea'+'rchArea:\x20v'+'ec2f;\x20//\x20U'+'se\x20var\x20bec'+'ause\x20assig'+'ned\x20in\x20if/'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20shad'+'owSearchAr'+'ea:\x20vec2f\x20'+'=\x20vec2f(le'+'ngth(unifo'+'rm.light{i'+'}_halfWidt'+'h),\x20length'+'(uniform.l'+'ight{i}_ha'+'lfHeight))'+'\x20*\x20uniform'+'.light{i}_'+'shadowSear'+'chArea;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20shadow'+'SearchArea'+':\x20vec2f\x20=\x20'+'vec2f(unif'+'orm.light{'+'i}_shadowS'+'earchArea)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCSS(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20un'+'iform.ligh'+'t{i}_camer'+'aParams,\x20s'+'hadowSearc'+'hArea,\x20lig'+'htDirW_in)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF1_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF1x1(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20li'+'ghtDirW_in')+(');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF3x3(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a'),yD='\x0a\x0a#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20//\x20all'+'\x20this\x20func'+'tionality\x20'+'that\x20needs'+'\x20to\x20be\x20inc'+'luded\x20for\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'FALLOFF_LI'+'NEAR\x0a\x20\x20\x20\x20#'+'define\x20LIT'+'_CODE_FALL'+'OFF_SQUARE'+'D\x0a\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_LIGHTS_'+'POINT\x0a\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a#'+'endif\x0a\x0a#if'+'def\x20AREA_L'+'IGHTS\x0a\x20\x20\x20\x20'+'var\x20areaLi'+'ghtsLutTex'+'1:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20ar'+'eaLightsLu'+'tTex1Sampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20var'+'\x20areaLight'+'sLutTex2:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20areaL'+'ightsLutTe'+'x2Sampler:'+'\x20sampler;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_L'+'IGHTING\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22lightDif'+'fuseLamber'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(AREA_LIGH'+'TS)\x20||\x20def'+'ined(LIT_C'+'LUSTERED_A'+'REA_LIGHTS'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'ltcPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20SHADOW_'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owCascades'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_KIND_PCF1'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCF1PS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20defined('+'SHADOW_KIN'+'D_PCF3)\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22shadowPC'+'F3PS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_KIND_PC'+'F5)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sh'+'adowPCF5PS'+'\x22\x0a#endif\x0a\x0a'+'#if\x20define'+'d(SHADOW_K'+'IND_PCSS)\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22linear'+'izeDepthPS'+'\x22\x0a\x0a\x20\x20\x20\x20//\x20'+'omni\x20/\x20spo'+'t\x20PCSS\x20is\x20'+('not\x20suppor'+'ted\x20on\x20Web'+'GPU\x20curren'+'tly,\x20as\x20th'+'is\x20is\x20only'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0a\x20\x20\x20\x20'+'//\x20#includ'+'e\x20\x22shadowP'+'CSSPS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22shadowSof'+'tPS\x22\x0a#endi'+'f\x0a\x0a#if\x20def'+'ined(SHADO'+'W_KIND_VSM'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owEVSMPS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_C'+'ODE_FALLOF'+'F_LINEAR\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22falloff'+'LinearPS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_C'+'ODE_FALLOF'+'F_SQUARED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fallof'+'fInvSquare'+'dPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'LIT_CODE_L'+'IGHTS_POIN'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tDirPointP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22spotPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'CODE_COOKI'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22cook'+'iePS\x22\x0a#end'+'if\x0a\x0a//\x20clu'+'stered\x20lig'+'hting\x0a#ifd'+'ef\x20LIT_CLU'+'STERED_LIG'+'HTS\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22cl'+'usteredLig'+'htPS\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIGHT_COU'+'NT\x20>\x200\x0a\x20\x20\x20'+'\x20//\x20LOOP\x20-'+'\x20generate\x20'+'shadow\x20eva'+'luation\x20fu'+'nctions\x20fo'+'r\x20all\x20non-'+'clustered\x20'+'lights\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightFunc'+'tionShadow'+'PS,\x20LIGHT_'+'COUNT\x22\x0a\x0a\x20\x20'+'\x20\x20//\x20LOOP\x20'+'-\x20generate'+'\x20light\x20eva'+'luation\x20fu'+'nctions\x20fo'+'r\x20all\x20non-'+'clustered\x20'+'lights\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightFunc'+'tionLightP'+'S,\x20LIGHT_C'+'OUNT\x22\x0a#end'+'if\x0a'),vD='\x0afn\x20addLig'+'htMap(\x0a\x20\x20\x20'+'\x20lightmap:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20dir:\x20vec'+'3f,\x0a\x20\x20\x20\x20wo'+'rldNormal:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20viewDir:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20reflecti'+'onDir:\x20vec'+'3f,\x0a\x20\x20\x20\x20gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f,\x0a\x20\x20\x20\x20ve'+'rtexNormal'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20tbn:\x20ma'+'t3x3f\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20iridesce'+'nceIntensi'+'ty:\x20f32\x0a#e'+'ndif\x0a)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20dir'+'ectional\x20l'+'ightmap\x0a\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_SP'+'ECULAR)\x20&&'+'\x20defined(L'+'IT_DIR_LIG'+'HTMAP)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'dot(dir,\x20d'+'ir)\x20<\x200.00'+'01)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20dD'+'iffuseLigh'+'t\x20+\x20lightm'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20vli'+'ght:\x20f32\x20='+'\x20saturate('+'dot(dir,\x20-'+'vertexNorm'+'al));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20flight:\x20'+'f32\x20=\x20satu'+'rate(dot(d'+'ir,\x20-world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20nlig'+'ht:\x20f32\x20=\x20'+'(flight\x20/\x20'+'max(vlight'+',\x200.01))\x20*'+'\x200.5;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'DiffuseLig'+'ht\x20=\x20dDiff'+'useLight\x20+'+'\x20lightmap\x20'+'*\x20nlight\x20*'+'\x202.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20halfDir'+':\x20vec3f\x20=\x20'+'normalize('+'-dir\x20+\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20specula'+'rLight:\x20ve'+'c3f\x20=\x20ligh'+'tmap\x20*\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20reflect'+'ionDir,\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'dir,\x20gloss'+',\x20tbn);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+('_FRESNEL\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'=\x20specular'+'Light\x20*\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(d'+'ot(viewDir'+',\x20halfDir)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gloss,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20,\x20ir'+'idescenceF'+'resnel,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceI'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20+'+'\x20specularL'+'ight;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20#else\x20//\x20'+'non-direct'+'ional\x20ligh'+'tmap\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20+\x20ligh'+'tmap;\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),xD='\x0a\x0a#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20'+'var<privat'+'e>\x20dLightm'+'apDir:\x20vec'+'3f;\x0a\x20\x20\x20\x20va'+'r\x20texture_'+'dirLightMa'+'p:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20te'+'xture_dirL'+'ightMapSam'+'pler:\x20samp'+'ler;\x0a#endi'+'f\x0a\x0afn\x20getL'+'ightMap()\x20'+'{\x0a\x0a\x20\x20\x20\x20dLi'+'ghtmap\x20=\x20v'+'ec3f(1.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_LIG'+'HT_TEXTURE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Lightmap\x20='+'\x20dLightmap'+'\x20*\x20{STD_LI'+'GHT_TEXTUR'+'E_DECODE}('+'textureSam'+'pleBias({S'+'TD_LIGHT_T'+'EXTURE_NAM'+'E},\x20{STD_L'+'IGHT_TEXTU'+'RE_NAME}Sa'+'mpler,\x20{ST'+'D_LIGHT_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+')).{STD_LI'+'GHT_TEXTUR'+'E_CHANNEL}'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_LIGHTMAP'+'_DIR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20dir:\x20vec3'+'f\x20=\x20textur'+'eSampleBia'+'s(texture_'+'dirLightMa'+'p,\x20texture'+'_dirLightM'+'apSampler,'+'\x20{STD_LIGH'+'T_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).xyz\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20d'+'irDot\x20=\x20do'+'t(dir,\x20dir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dLigh'+'tmapDir\x20=\x20'+'select(vec'+'3(0.0),\x20di'+'r\x20/\x20sqrt(d'+'irDot),\x20di'+'rDot\x20>\x200.0'+'01);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_LIG'+'HT_VERTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dL'+'ightmap\x20=\x20'+'dLightmap\x20'+'*\x20saturate'+'(vVertexCo'+'lor.{STD_L'+'IGHT_VERTE'+'X_CHANNEL}'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',TD='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'fn\x20calcLig'+'htSpecular'+'(gloss:\x20f3'+'2,\x20worldNo'+'rmal:\x20vec3'+'f,\x20viewDir'+':\x20vec3f,\x20h'+':\x20vec3f,\x20l'+'ightDirNor'+'m:\x20vec3f,\x20'+'tbn:\x20mat3x'+'3f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20PI:\x20f32\x20='+'\x203.1415926'+'53589793;\x0a'+'\x20\x20\x20\x20let\x20ro'+'ughness:\x20f'+'32\x20=\x20max(('+'1.0\x20-\x20glos'+'s)\x20*\x20(1.0\x20'+'-\x20gloss),\x20'+'0.001);\x0a\x20\x20'+'\x20\x20let\x20alph'+'aRoughness'+':\x20f32\x20=\x20ro'+'ughness\x20*\x20'+'roughness;'+'\x0a\x20\x20\x20\x20let\x20a'+'nisotropy:'+'\x20f32\x20=\x20dAn'+'isotropy;\x0a'+'\x20\x20\x20\x20let\x20di'+'rection:\x20v'+'ec2f\x20=\x20dAn'+'isotropyRo'+'tation;\x0a\x0a\x20'+'\x20\x20\x20let\x20at:'+'\x20f32\x20=\x20mix'+'(alphaRoug'+'hness,\x201.0'+',\x20anisotro'+'py\x20*\x20aniso'+'tropy);\x0a\x20\x20'+'\x20\x20let\x20ab:\x20'+'f32\x20=\x20clam'+'p(alphaRou'+'ghness,\x200.'+'001,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cT:\x20vec3f\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3f(direct'+'ion,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cB:\x20vec3f\x20'+'=\x20normaliz'+'e(cross(tb'+'n[2],\x20anis'+'otropicT))'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20NoH:\x20f32\x20'+'=\x20dot(worl'+'dNormal,\x20h'+');\x0a\x20\x20\x20\x20let'+'\x20ToH:\x20f32\x20'+'=\x20dot(anis'+'otropicT,\x20'+'h);\x0a\x20\x20\x20\x20le'+'t\x20BoH:\x20f32'+'\x20=\x20dot(ani'+'sotropicB,'+'\x20h);\x0a\x0a\x20\x20\x20\x20'+'let\x20a2:\x20f3'+'2\x20=\x20at\x20*\x20a'+'b;\x0a\x20\x20\x20\x20let'+'\x20v:\x20vec3f\x20'+'=\x20vec3f(ab'+'\x20*\x20ToH,\x20at'+'\x20*\x20BoH,\x20a2'+'\x20*\x20NoH);\x0a\x20'+'\x20\x20\x20let\x20v2:'+'\x20f32\x20=\x20dot'+'(v,\x20v);\x0a\x20\x20'+'\x20\x20let\x20w2:\x20'+'f32\x20=\x20a2\x20/'+'\x20v2;\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20a2\x20*\x20w2\x20'+'*\x20w2\x20*\x20(1.'+'0\x20/\x20PI);\x0a\x0a'+'\x20\x20\x20\x20let\x20To'+'V:\x20f32\x20=\x20d'+'ot(anisotr'+'opicT,\x20vie'+('wDir);\x0a\x20\x20\x20'+'\x20let\x20BoV:\x20'+'f32\x20=\x20dot('+'anisotropi'+'cB,\x20viewDi'+'r);\x0a\x20\x20\x20\x20le'+'t\x20ToL:\x20f32'+'\x20=\x20dot(ani'+'sotropicT,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20let\x20BoL:\x20'+'f32\x20=\x20dot('+'anisotropi'+'cB,\x20-light'+'DirNorm);\x0a'+'\x20\x20\x20\x20let\x20No'+'V:\x20f32\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'let\x20NoL:\x20f'+'32\x20=\x20dot(w'+'orldNormal'+',\x20-lightDi'+'rNorm);\x0a\x0a\x20'+'\x20\x20\x20let\x20lam'+'bdaV:\x20f32\x20'+'=\x20NoL\x20*\x20le'+'ngth(vec3f'+'(at\x20*\x20ToV,'+'\x20ab\x20*\x20BoV,'+'\x20NoV));\x0a\x20\x20'+'\x20\x20let\x20lamb'+'daL:\x20f32\x20='+'\x20NoV\x20*\x20len'+'gth(vec3f('+'at\x20*\x20ToL,\x20'+'ab\x20*\x20BoL,\x20'+'NoL));\x0a\x20\x20\x20'+'\x20let\x20G:\x20f3'+'2\x20=\x200.5\x20/\x20'+'(lambdaV\x20+'+'\x20lambdaL);'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20D\x20*\x20G;\x0a'+'}\x0a\x0afn\x20getL'+'ightSpecul'+'ar(h:\x20vec3'+'f,\x20reflDir'+':\x20vec3f,\x20w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20light'+'DirNorm:\x20v'+'ec3f,\x20glos'+'s:\x20f32,\x20tb'+'n:\x20mat3x3f'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20calcLigh'+'tSpecular('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir,\x20h'+',\x20lightDir'+'Norm,\x20tbn)'+';\x0a}\x0a'),wD='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afn\x20c'+'alcLightSp'+'ecular(glo'+'ss:\x20f32,\x20w'+'orldNormal'+':\x20vec3f,\x20h'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20nh:\x20'+'f32\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'specPow:\x20f'+'32\x20=\x20exp2('+'gloss\x20*\x2011'+'.0);\x20//\x20gl'+'ossiness\x20i'+'s\x20linear,\x20'+'power\x20is\x20n'+'ot;\x200\x20-\x2020'+'48\x0a\x0a\x20\x20\x20\x20//'+'\x20Hack:\x20On\x20'+'Mac\x20OS\x20X,\x20'+'calling\x20po'+'w\x20with\x20zer'+'o\x20for\x20the\x20'+'exponent\x20g'+'enerates\x20h'+'ideous\x20art'+'ifacts\x20so\x20'+'bias\x20up\x20a\x20'+'little\x0a\x20\x20\x20'+'\x20specPow\x20='+'\x20max(specP'+'ow,\x200.0001'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20pow(n'+'h,\x20specPow'+')\x20*\x20(specP'+'ow\x20+\x202.0)\x20'+'/\x208.0;\x0a}\x0a\x0a'+'fn\x20getLigh'+'tSpecular('+'h:\x20vec3f,\x20'+'reflDir:\x20v'+'ec3f,\x20worl'+'dNormal:\x20v'+'ec3f,\x20view'+'Dir:\x20vec3f'+',\x20lightDir'+'Norm:\x20vec3'+'f,\x20gloss:\x20'+'f32,\x20tbn:\x20'+'mat3x3f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',ED='\x0a\x0afn\x20sheen'+'D(normal:\x20'+'vec3f,\x20h:\x20'+'vec3f,\x20rou'+'ghness:\x20f3'+'2)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'PI:\x20f32\x20=\x20'+'3.14159265'+'3589793;\x0a\x20'+'\x20\x20\x20let\x20inv'+'R:\x20f32\x20=\x201'+'.0\x20/\x20(roug'+'hness\x20*\x20ro'+'ughness);\x0a'+'\x20\x20\x20\x20var\x20co'+'s2h:\x20f32\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20=\x20c'+'os2h\x20*\x20cos'+'2h;\x0a\x20\x20\x20\x20le'+'t\x20sin2h:\x20f'+'32\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'fn\x20sheenV('+'normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20light:\x20ve'+'c3f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20le'+'t\x20NoV:\x20f32'+'\x20=\x20max(dot'+'(normal,\x20v'+'iewDir),\x200'+'.000001);\x0a'+'\x20\x20\x20\x20let\x20No'+'L:\x20f32\x20=\x20m'+'ax(dot(nor'+'mal,\x20light'+'),\x200.00000'+'1);\x0a\x20\x20\x20\x20re'+'turn\x201.0\x20/'+'\x20(4.0\x20*\x20(N'+'oL\x20+\x20NoV\x20-'+'\x20NoL\x20*\x20NoV'+'));\x0a}\x0a\x0afn\x20'+'getLightSp'+'ecularShee'+'n(h:\x20vec3f'+',\x20worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f,\x20li'+'ghtDirNorm'+':\x20vec3f,\x20s'+'heenGloss:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20let\x20V:\x20f'+'32\x20=\x20sheen'+'V(worldNor'+'mal,\x20viewD'+'ir,\x20-light'+'DirNorm);\x0a'+'\x20\x20\x20\x20return'+'\x20D\x20*\x20V;\x0a}',bD='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afn\x20linear'+'izeDepthWi'+'thParams(z'+':\x20f32,\x20cam'+'eraParams:'+'\x20vec4f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20if\x20(camer'+'aParams.w\x20'+'==\x200.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(came'+'raParams.z'+'\x20*\x20cameraP'+'arams.y)\x20/'+'\x20(cameraPa'+'rams.y\x20+\x20z'+'\x20*\x20(camera'+'Params.z\x20-'+'\x20cameraPar'+'ams.y));\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20cam'+'eraParams.'+'z\x20+\x20z\x20*\x20(c'+'ameraParam'+'s.y\x20-\x20came'+'raParams.z'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a\x0a#ifndef\x20'+'CAMERAPLAN'+'ES\x0a\x20\x20\x20\x20#de'+'fine\x20CAMER'+'APLANES\x0a\x20\x20'+'\x20\x20uniform\x20'+'camera_par'+'ams:\x20vec4f'+';\x20\x20\x20//\x20x:\x20'+'1\x20/\x20camera'+'_far,\x20\x20\x20\x20\x20'+'\x20y:\x20camera'+'_far,\x20\x20\x20\x20\x20'+'z:\x20camera_'+'near,\x20\x20\x20\x20\x20'+'\x20\x20\x20w:\x20is_o'+'rtho\x0a#endi'+'f\x0a\x0afn\x20line'+'arizeDepth'+'(z:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20l'+'inearizeDe'+'pthWithPar'+'ams(z,\x20uni'+'form.camer'+'a_params);'+'\x0a}\x0a#endif\x20'+'//\x20LINEARI'+'ZE_DEPTH\x0a',AD='\x0afn\x20evalua'+'teBackend('+')\x20->\x20Fragm'+'entOutput\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'//\x20apply\x20S'+'SAO\x20during'+'\x20lighting\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SSAO\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_ao\x20='+'\x20litArgs_a'+'o\x20*\x20textur'+'eSampleLev'+'el(ssaoTex'+'ture,\x20ssao'+'TextureSam'+'pler,\x20pcPo'+'sition.xy\x20'+'*\x20uniform.'+'ssaoTextur'+'eSizeInv,\x20'+'0.0).r;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nsform\x20tan'+'gent\x20space'+'\x20normals\x20t'+'o\x20world\x20sp'+'ace\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_N'+'EEDS_NORMA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getReflD'+'ir(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20litAr'+'gs_gloss,\x20'+'dTBN);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccRefl'+'DirW\x20=\x20nor'+'malize(-re'+'flect(dVie'+'wDirW,\x20lit'+'Args_clear'+'coat_world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'f0:\x20f32\x20=\x20'+'1.0\x20/\x20litA'+'rgs_ior;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20f0\x20=\x20(f0\x20'+'-\x201.0)\x20/\x20('+'f0\x20+\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20f0\x20=\x20f0'+'\x20*\x20f0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity\x20='+'\x20getSpecul'+'arModulate'+'(litArgs_s'+'pecularity'+',\x20litArgs_'+'albedo,\x20li'+'tArgs_meta'+'lness,\x20f0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+('ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ir'+'idescenceF'+'resnel:\x20ve'+'c3f\x20=\x20getI'+'ridescence'+'Diffractio'+'n(saturate'+'(dot(dView'+'DirW,\x20litA'+'rgs_worldN'+'ormal)),\x20l'+'itArgs_spe'+'cularity,\x20'+'litArgs_ir'+'idescence_'+'thickness)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20ambi'+'ent\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ddAmbient('+'litArgs_wo'+'rldNormal)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20=\x20d'+'DiffuseLig'+'ht\x20*\x20(1.0\x20'+'-\x20litArgs_'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20move\x20ambi'+'ent\x20color\x20'+'out\x20of\x20dif'+'fuse\x20(used'+'\x20by\x20Lightm'+'apper,\x20to\x20'+'multiply\x20a'+'mbient\x20col'+'or\x20by\x20accu'+'mulated\x20AO'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SEPARATE_'+'AMBIENT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20dAmbie'+'ntLight:\x20v'+'ec3f\x20=\x20dDi'+'ffuseLight'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'LIT_OLD_AM'+'BIENT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20*\x20unif'+'orm.materi'+'al_ambient'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_A'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20LI'+'T_OCCLUDE_'+'DIRECT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'ccludeDiff'+'use(litArg'+'s_ao);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_L'+'IGHTMAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20litArgs_l'+'ightmap,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'lightmapDi'+'r,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dViewDirW,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dReflD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dVertexNor'+'malW,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dT'+'BN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20,\x20irides'+'cenceFresn'+'el,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_irides'+'cence_inte'+'nsity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_L'+'IGHTING\x20||'+'\x20LIT_REFLE'+'CTIONS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'LECTIONS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'ddReflecti'+'onCC(ccRef'+'lDirW,\x20lit'+'Args_clear'+'coat_gloss'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'ccFresnel\x20'+'=\x20getFresn'+'elCC(dot(d'+'ViewDirW,\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccRefle'+'ction\x20=\x20cc'+'Reflection'+'\x20*\x20ccFresn'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccFr'+'esnel\x20=\x200.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULARITY'+'_FACTOR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccRefl'+'ection\x20=\x20c'+'cReflectio'+'n\x20*\x20litArg'+'s_specular'+'ityFactor;')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20addR'+'eflectionS'+'heen(litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20lit'+'Args_sheen'+'_gloss);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20Fresne'+'l\x20has\x20to\x20b'+'e\x20applied\x20'+'to\x20reflect'+'ions\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20add'+'Reflection'+'(dReflDirW'+',\x20litArgs_'+'gloss);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_FRESNEL_'+'MODEL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4f(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dReflecti'+'on.a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4f('+'dReflectio'+'n.rgb\x20*\x20li'+'tArgs_spec'+'ularity,\x20d'+'Reflection'+'.a);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULARITY'+'_FACTOR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve')+('c4f(dRefle'+'ction.rgb\x20'+'*\x20litArgs_'+'specularit'+'yFactor,\x20d'+'Reflection'+'.a);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20AREA'+'_LIGHTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'r\x20has\x20to\x20b'+'e\x20accumula'+'ted\x20differ'+'ently\x20if\x20w'+'e\x20want\x20are'+'a\x20lights\x20t'+'o\x20look\x20cor'+'rect\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20*'+'\x20litArgs_s'+'pecularity'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20evalua'+'te\x20materia'+'l\x20based\x20ar'+'ea\x20lights\x20'+'data,\x20shar'+'ed\x20by\x20all\x20'+'area\x20light'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcLTCLight'+'Values(lit'+'Args_gloss'+',\x20litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW,\x20litArg'+'s_specular'+'ity,\x20litAr'+'gs_clearco'+'at_gloss,\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20litArgs_c'+'learcoat_s'+'pecularity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20LOO'+'P\x20-\x20evalua'+'te\x20all\x20non'+'-clustered'+'\x20lights\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT_C'+'OUNT\x20>\x200\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22lightEval'+'uationPS,\x20'+'LIGHT_COUN'+'T\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_CL'+'USTERED_LI'+'GHTS\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20add'+'ClusteredL'+'ights(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20dR'+'eflDirW,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_CLEARCOAT'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20ccRe'+'flDirW,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_gloss,\x20'+'litArgs_sp'+'ecularity,'+'\x20dVertexNo'+'rmalW,\x20dTB'+'N,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20litA'+'rgs_sheen_'+'gloss,\x20lit'+'Args_iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20AREA_LI'+'GHTS\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ecular\x20has'+'\x20to\x20be\x20acc'+'umulated\x20d'+'ifferently'+'\x20if\x20we\x20wan'+'t\x20area\x20lig'+'hts\x20to\x20loo'+'k\x20correct\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_clearc'+'oat_specul'+'arity\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'\x20=\x20vec3(1.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFRACTION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20addRefra'+'ction(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_worldNorm'+'al,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dViewDirW'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_thi'+'ckness,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_gloss,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_specu'+'larity,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr')+('gs_albedo,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_tran'+'smission,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_ior,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_dispers'+'ion\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20apply\x20'+'ambient\x20oc'+'clusion\x0a\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_AO\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_OCCLU'+'DE_DIRECT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20occludeD'+'iffuse(lit'+'Args_ao);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'T_OCCLUDE_'+'SPECULAR\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'ccludeSpec'+'ular(litAr'+'gs_gloss,\x20'+'litArgs_ao'+',\x20litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULARITY_F'+'ACTOR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20='+'\x20dSpecular'+'Light\x20*\x20li'+'tArgs_spec'+'ularityFac'+'tor;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20!defi'+'ned(LIT_OP'+'ACITY_FADE'+'S_SPECULAR'+')\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIT_B'+'LEND_TYPE\x20'+'==\x20NORMAL\x20'+'||\x20LIT_BLE'+'ND_TYPE\x20=='+'\x20PREMULTIP'+'LIED\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20specLum:'+'\x20f32\x20=\x20dot'+'((dSpecula'+'rLight\x20+\x20d'+'Reflection'+'.rgb\x20*\x20dRe'+'flection.a'+'),\x20vec3f(\x20'+'0.2126,\x200.'+'7152,\x200.07'+'22\x20));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'Lum\x20=\x20spec'+'Lum\x20+\x20dot('+'ccSpecular'+'Light\x20*\x20li'+'tArgs_clea'+'rcoat_spec'+'ularity\x20+\x20'+'ccReflecti'+'on\x20*\x20litAr'+'gs_clearco'+'at_specula'+'rity,\x20vec3'+'f(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_o'+'pacity\x20=\x20c'+'lamp(litAr'+'gs_opacity'+'\x20+\x20gammaCo'+'rrectInput'+'(specLum),'+'\x200.0,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_opaci'+'ty\x20=\x20litAr'+'gs_opacity'+'\x20*\x20uniform'+'.material_'+'alphaFade;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20end\x20chunk'+'s\x20-\x20when\x20b'+'aking\x20ligh'+'tmap\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'LIGHTMAP_B'+'AKING\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_LIGHT'+'MAP_BAKING'+'_COLOR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22b'+'akeLmEndPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_LIGH'+'TMAP_BAKIN'+'G_DIR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22ba'+'keDirLmEnd'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'end\x20chunks'+'\x20-\x20in\x20all\x20'+'other\x20case'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'endPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22outpu'+'tAlphaPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_MSD'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20apply'+'Msdf(outpu'+'t.color);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22outp'+'utPS\x22\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'debugOutpu'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHADOW_CA'+'TCHER\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20out'+'put\x20when\x20t'+'he\x20shadow\x20'+'catcher\x20is'+'\x20enabled\x20-'+'\x20accumulat'+'ed\x20shadows')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'vec3f(dSha'+'dowCatcher'+'),\x20output.'+'color.a);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a}\x0a'),CD='\x0a\x0a//\x20globa'+'ls\x0avar<pri'+'vate>\x20sRef'+'lection:\x20v'+'ec3f;\x0avar<'+'private>\x20d'+'VertexNorm'+'alW:\x20vec3f'+';\x0avar<priv'+'ate>\x20dTang'+'entW:\x20vec3'+'f;\x0avar<pri'+'vate>\x20dBin'+'ormalW:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20dV'+'iewDirW:\x20v'+'ec3f;\x0avar<'+'private>\x20d'+'ReflDirW:\x20'+'vec3f;\x0avar'+'<private>\x20'+'ccReflDirW'+':\x20vec3f;\x0a\x0a'+'//\x20Per-lig'+'ht\x20tempora'+'ries\x0avar<p'+'rivate>\x20dL'+'ightDirNor'+'mW:\x20vec3f;'+'\x0avar<priva'+'te>\x20dAtten'+':\x20f32;\x0a\x0a//'+'\x20Outputs\x0av'+'ar<private'+'>\x20dTBN:\x20ma'+'t3x3f;\x0avar'+'<private>\x20'+'dReflectio'+'n:\x20vec4f;\x0a'+'var<privat'+'e>\x20dDiffus'+'eLight:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20dS'+'pecularLig'+'ht:\x20vec3f;'+'\x0avar<priva'+'te>\x20ccFres'+'nel:\x20f32;\x0a'+'var<privat'+'e>\x20ccRefle'+'ction:\x20vec'+'3f;\x0avar<pr'+'ivate>\x20ccS'+'pecularLig'+'ht:\x20vec3f;'+'\x0avar<priva'+'te>\x20ccSpec'+'ularityNoF'+'res:\x20f32;\x0a'+'var<privat'+'e>\x20sSpecul'+'arLight:\x20v'+'ec3f;\x0a\x0a//\x20'+'FRAGMENT\x20S'+'HADER\x20INPU'+'TS:\x20UNIFOR'+'MS\x0a\x0a#ifdef'+'\x20LIT_DISPE'+'RSION\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_dis'+'persion:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LIT_OPACIT'+'Y_FADES_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_al'+'phaFade:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifdef\x20L'+'IT_SSAO\x0a\x20\x20'+'\x20\x20var\x20ssao'+'Texture\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20ssaoT'+'extureSamp'+'ler\x20:\x20samp'+'ler;\x0a\x20\x20\x20\x20u'+'niform\x20ssa'+'oTextureSi'+'zeInv:\x20vec'+'2f;\x0a#endif'+'\x0a\x0a//\x20light'+'ing\x20and\x20sh'+'adowing\x20de'+('clarations'+'\x0a\x0a#ifdef\x20L'+'IT_SHADOW_'+'CATCHER\x0a\x20\x20'+'\x20\x20//\x20a\x20var'+'iable\x20to\x20a'+'ccumulate\x20'+'shadows\x20fo'+'r\x20shadow\x20c'+'atcher\x20mat'+'erials\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dShado'+'wCatcher:\x20'+'f32\x20=\x201.0;'+'\x0a#endif\x0a\x0a/'+'/\x20LOOP\x20-\x20u'+'niform\x20dec'+'larations\x20'+'for\x20all\x20no'+'n-clustere'+'d\x20lights\x0a#'+'if\x20LIGHT_C'+'OUNT\x20>\x200\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22lightDe'+'clarationP'+'S,\x20LIGHT_C'+'OUNT\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20#i'+'f\x20LIT_FRES'+'NEL_MODEL\x20'+'==\x20NONE\x20&&'+'\x20!defined('+'LIT_REFLEC'+'TIONS)\x20&&\x20'+'!defined(L'+'IT_DIFFUSE'+'_MAP)\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_OLD'+'_AMBIENT\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#endif\x0a\x0a//'+'\x20lightmap\x20'+'baking\x0a#if'+'def\x20STD_LI'+'GHTMAP_DIR'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20bakeDir'+':\x20f32;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_LIGHT'+'MAP_BAKING'+'_ADD_AMBIE'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20ambie'+'ntBakeOccl'+'usionContr'+'ast:\x20f32;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20ambientB'+'akeOcclusi'+'onBrightne'+'ss:\x20f32;\x0a#'+'endif\x0a'),PD='\x0a\x0a@fragmen'+'t\x0afn\x20fragm'+'entMain(in'+'put:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4f('+'0.0);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ccSpecular'+'Light\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'Reflection'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_N'+'ONE_SLICE_'+'MODE\x20==\x20SL'+'ICED\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22startNi'+'neSlicedPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20LIT_NONE'+'_SLICE_MOD'+'E\x20==\x20TILED'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22s'+'tartNineSl'+'icedTiledP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'NEEDS_NORM'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dVertexNo'+'rmalW\x20=\x20no'+'rmalize(vN'+'ormalW);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_T'+'ANGENTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_HEIG'+'HTS)\x20||\x20de'+'fined(LIT_'+'USE_NORMAL'+'S)\x20||\x20defi'+'ned(LIT_US'+'E_CLEARCOA'+'T_NORMALS)'+'\x20||\x20define'+'d(LIT_GGX_'+'SPECULAR)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dTan'+'gentW\x20=\x20vT'+'angentW;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dBino'+'rmalW\x20=\x20vB'+'inormalW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20getView'+'Dir();\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_TBN'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getTBN('+'dTangentW,'+'\x20dBinormal'+'W,\x20dVertex'+'NormalW);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20h'+'andleTwoSi'+'dedLightin'+'g();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+('\x0a\x20\x20\x20\x20//\x20in'+'voke\x20front'+'end\x20functi'+'ons\x0a\x20\x20\x20\x20ev'+'aluateFron'+'tend();\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22debugPr'+'ocessFront'+'endPS\x22\x0a\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Fragme'+'ntOutput\x20='+'\x20evaluateB'+'ackend();\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainEndP'+'S\x22\x0a\x0a\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a}\x0a'),MD='\x0a\x0a#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'cubeMapRot'+'atePS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22cubeMapPr'+'ojectPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22envProc'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20-----'+'\x20specular\x20'+'or\x20reflect'+'ions\x20-----'+'\x0a#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'METALNESS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessMod'+'ulatePS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_FRESNEL'+'_MODEL\x20==\x20'+'SCHLICK\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22fres'+'nelSchlick'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_IRIDESCEN'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22iridescen'+'ceDiffract'+'ionPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a//\x20-'+'----\x20ambie'+'nt\x20occlusi'+'on\x20-----\x0a#'+'ifdef\x20LIT_'+'AO\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoD'+'iffuseOccP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoS'+'pecOccPS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20LIT_REFL'+'ECTION_SOU'+'RCE\x20==\x20ENV'+'ATLASHQ\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22envAtlas'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flectionEn'+'vHQPS\x22\x0a#el'+'if\x20LIT_REF'+'LECTION_SO'+'URCE\x20==\x20EN'+'VATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionEnv'+'PS\x22\x0a#elif\x20'+'LIT_REFLEC'+'TION_SOURC'+'E\x20==\x20CUBEM'+'AP\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionCub'+'ePS\x22\x0a#elif'+'\x20LIT_REFLE'+'CTION_SOUR'+'CE\x20==\x20SPHE'+'REMAP\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'reflection'+'SpherePS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_CLEA'+'RCOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22reflec'+'tionCCPS\x22\x0a'+'\x20\x20\x20\x20#endif'+('\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22reflectio'+'nSheenPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'REFRACTION'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_DYNAMIC_R'+'EFRACTION)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22r'+'efractionD'+'ynamicPS\x22\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(LI'+'T_REFLECTI'+'ONS)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22refract'+'ionCubePS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightShee'+'nPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20material_'+'ambient:\x20v'+'ec3f;\x0a\x0a#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_LIGHTING'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22light'+'SpecularAn'+'isoGGXPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tSpecularB'+'linnPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a#endif'+'\x0a\x0a#include'+'\x20\x22combineP'+'S\x22\x0a\x0a#ifdef'+'\x20LIT_LIGHT'+'MAP\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'ghtmapAddP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_ADD_AMBI'+'ENT\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22am'+'bientPS\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIT_MS'+'DF\x0a\x20\x20\x20\x20#in'+'clude\x20\x22msd'+'fPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'LIT_NEEDS_'+'NORMAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22viewDirPS'+'\x22\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_GGX_S'+'PECULAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'reflDirAni'+'soPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22reflDirP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a#'+'endif\x0a\x0a//\x20'+'lighting\x20f'+'unctionali')+('ty\x0a#includ'+'e\x20\x22lightin'+'gPS\x22\x0a\x0a'),DD='\x0a\x0a#include'+'\x20\x22basePS\x22\x0a'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a#includ'+'e\x20\x22decodeP'+'S\x22\x0a#includ'+'e\x20\x22gammaPS'+'\x22\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22fog'+'PS\x22\x0a\x0a//\x209-'+'slice\x20supp'+'ort\x20code\x0a#'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20SLIC'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bas'+'eNineSlice'+'dPS\x22\x0a#elif'+'\x20LIT_NONE_'+'SLICE_MODE'+'\x20==\x20TILED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22baseNi'+'neSlicedTi'+'ledPS\x22\x0a#en'+'dif\x0a\x0a//\x20TB'+'N\x0a#ifdef\x20L'+'IT_TBN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22TBNPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22twoSidedL'+'ightingPS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a',ID='\x0a\x0a#include'+'\x20\x22varyings'+'PS\x22\x0a#inclu'+'de\x20\x22litUse'+'rDeclarati'+'onPS\x22\x0a#inc'+'lude\x20\x22fron'+'tendDeclPS'+'\x22\x0a\x0a#if\x20def'+'ined(PICK_'+'PASS)\x20||\x20d'+'efined(PRE'+'PASS_PASS)'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fron'+'tendCodePS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serCodePS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litOt'+'herMainPS\x22'+'\x0a\x0a#elif\x20de'+'fined(SHAD'+'OW_PASS)\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fronte'+'ndCodePS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rCodePS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litShad'+'owMainPS\x22\x0a'+'\x0a#else\x20//\x20'+'FORWARD_PA'+'SS\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardDe'+'clarationP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ForwardPre'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22frontend'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdPostCode'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardBa'+'ckendPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdMainPS\x22\x0a'+'\x0a#endif\x0a\x0a',LD='\x0a\x0a#include'+'\x20\x22varyings'+'VS\x22\x0a\x0a#incl'+'ude\x20\x20\x22litU'+'serDeclara'+'tionVS\x22\x0a\x0a#'+'ifdef\x20VERT'+'EX_COLOR\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vertex_'+'color:\x20vec'+'4f;\x0a#endif'+'\x0a\x0a#ifdef\x20N'+'INESLICED\x0a'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vMask:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20varying\x20v'+'TiledUv:\x20v'+'ec2f;\x0a\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dMaskG'+'lobal:\x20vec'+'2f;\x0a\x20\x20\x20\x20va'+'r<private>'+'\x20dTiledUvG'+'lobal:\x20vec'+'2f;\x0a\x0a\x20\x20\x20\x20u'+'niform\x20inn'+'erOffset:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20uniform\x20o'+'uterScale:'+'\x20vec2f;\x0a\x20\x20'+'\x20\x20uniform\x20'+'atlasRect:'+'\x20vec4f;\x0a\x0a#'+'endif\x0a\x0avar'+'<private>\x20'+'dPositionW'+':\x20vec3f;\x0av'+'ar<private'+'>\x20dModelMa'+'trix:\x20mat4'+'x4f;\x0a\x0a#inc'+'lude\x20\x22tran'+'sformCoreV'+'S\x22\x0a\x0a#ifdef'+'\x20UV0\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ertex_texC'+'oord0:\x20vec'+'2f;\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22uv'+'0VS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'UV1\x0a\x20\x20\x20\x20at'+'tribute\x20ve'+'rtex_texCo'+'ord1:\x20vec2'+'f;\x0a\x20\x20\x20\x20#in'+'clude\x20\x22uv1'+'VS\x22\x0a#endif'+'\x0a\x0a\x0a#ifdef\x20'+'LINEAR_DEP'+'TH\x0a\x20\x20\x20\x20#if'+'ndef\x20VIEWM'+'ATRIX\x0a\x20\x20\x20\x20'+'#define\x20VI'+'EWMATRIX\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20matri'+'x_view:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#inc'+'lude\x20\x22tran'+'sformVS\x22\x0a\x0a'+'#ifdef\x20NOR'+'MALS\x0a\x20\x20\x20\x20#'+'include\x20\x22n'+'ormalCoreV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malVS\x22\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20TANGENTS'+'\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_tangent:'+'\x20vec4f;\x0a#e'+'ndif\x0a\x0a//\x20e'+'xpand\x20unif'+'orms\x20for\x20u'+'v\x20transfor'+'ms\x0a#includ'+'e\x20\x22uvTrans'+'formUnifor'+'msPS,\x20UV_T'+'RANSFORMS_'+('COUNT\x22\x0a\x0a#i'+'fdef\x20MSDF\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22msdfVS'+'\x22\x0a#endif\x0a\x0a'+'#include\x20\x20'+'\x22litUserCo'+'deVS\x22\x0a\x0a@ve'+'rtex\x0afn\x20ve'+'rtexMain(i'+'nput\x20:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'MainStartV'+'S\x22\x0a\x0a\x20\x20\x20\x20va'+'r\x20output\x20:'+'\x20VertexOut'+'put;\x0a\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20get'+'Position()'+';\x0a\x20\x20\x20\x20outp'+'ut.vPositi'+'onW\x20=\x20getW'+'orldPositi'+'on();\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20NO'+'RMALS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.vNormalW\x20'+'=\x20getNorma'+'l();\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20TA'+'NGENTS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.vTangent'+'W\x20=\x20normal'+'ize(dNorma'+'lMatrix\x20*\x20'+'vertex_tan'+'gent.xyz);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vBin'+'ormalW\x20=\x20c'+'ross(outpu'+'t.vNormalW'+',\x20output.v'+'TangentW)\x20'+'*\x20vertex_t'+'angent.w;\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(GG'+'X_SPECULAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.vOb'+'jectSpaceU'+'pW\x20=\x20norma'+'lize(dNorm'+'alMatrix\x20*'+'\x20vec3f(0.0'+',\x201.0,\x200.0'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20UV0'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20uv0:\x20ve'+'c2f\x20=\x20getU'+'v0();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20UV0_UNMOD'+'IFIED\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.vUv0\x20'+'=\x20uv0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20UV1\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20uv1:\x20vec2'+'f\x20=\x20getUv1'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20U'+'V1_UNMODIF'+'IED\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.vUv1\x20=\x20'+'uv1;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'xpand\x20code'+'\x20for\x20uv\x20tr'+'ansforms\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22uvTrans')+('formVS,\x20UV'+'_TRANSFORM'+'S_COUNT\x22\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20VERTEX_CO'+'LOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.v'+'VertexColo'+'r\x20=\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LINEAR_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20linea'+'r\x20depth\x20fr'+'om\x20the\x20wor'+'ldPosition'+',\x20see\x20getL'+'inearDepth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vLin'+'earDepth\x20='+'\x20-(uniform'+'.matrix_vi'+'ew\x20*\x20vec4f'+'(output.vP'+'ositionW,\x20'+'1.0)).z;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MSDF\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unpac'+'kMsdfParam'+'s();\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.outline_c'+'olor\x20=\x20dOu'+'tlineColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.out'+'line_thick'+'ness\x20=\x20dOu'+'tlineThick'+'ness;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.shadow_co'+'lor\x20=\x20dSha'+'dowColor;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.shado'+'w_offset\x20='+'\x20dShadowOf'+'fset;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'INESLICED\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.vMask'+'\x20=\x20dMaskGl'+'obal;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.vTiledUv\x20'+'=\x20dTiledUv'+'Global;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rMainEndVS'+'\x22\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a'),RD='\x0a\x0a#ifdef\x20P'+'ICK_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22pickPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22floatAs'+'UintPS\x22\x0a#e'+'ndif\x0a\x0a@fra'+'gment\x0afn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'itUserMain'+'StartPS\x22\x0a\x0a'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20evaluateF'+'rontend();'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20PICK_PA'+'SS\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20getP'+'ickOutput('+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20float2ve'+'c4(vLinear'+'Depth);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rMainEndPS'+'\x22\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',OD='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avar<priva'+'te>\x20litArg'+'s_albedo:\x20'+'vec3f;\x0a\x0a//'+'\x20Transpare'+'ncy\x0avar<pr'+'ivate>\x20lit'+'Args_opaci'+'ty:\x20f32;\x0a\x0a'+'//\x20Emissio'+'n\x20color\x0ava'+'r<private>'+'\x20litArgs_e'+'mission:\x20v'+'ec3f;\x0a\x0a//\x20'+'Normal\x20dir'+'ection\x20in\x20'+'world\x20spac'+'e\x0avar<priv'+'ate>\x20litAr'+'gs_worldNo'+'rmal:\x20vec3'+'f;\x0a\x0a//\x20Amb'+'ient\x20occlu'+'sion\x20amoun'+'t,\x20range\x20['+'0..1]\x0avar<'+'private>\x20l'+'itArgs_ao:'+'\x20f32;\x0a\x0a//\x20'+'Light\x20map\x20'+'color\x0avar<'+'private>\x20l'+'itArgs_lig'+'htmap:\x20vec'+'3f;\x0a\x0a//\x20Li'+'ght\x20map\x20di'+'rection\x0ava'+'r<private>'+'\x20litArgs_l'+'ightmapDir'+':\x20vec3f;\x0a\x0a'+'//\x20Surface'+'\x20metalness'+'\x20factor,\x20r'+'ange\x20[0..1'+']\x0avar<priv'+'ate>\x20litAr'+'gs_metalne'+'ss:\x20f32;\x0a\x0a'+'//\x20The\x20f0\x20'+'specularit'+'y\x20factor\x0av'+'ar<private'+'>\x20litArgs_'+'specularit'+'y:\x20vec3f;\x0a'+'\x0a//\x20Specul'+'arity\x20inte'+'nsity\x20fact'+'or,\x20range\x20'+'[0..1]\x0avar'+'<private>\x20'+'litArgs_sp'+'ecularityF'+'actor:\x20f32'+';\x0a\x0a//\x20The\x20'+'microfacet'+'\x20glossines'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0avar<pri'+'vate>\x20litA'+'rgs_gloss:'+'\x20f32;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0avar<pr'+'ivate>\x20lit'+'Args_sheen'+'_gloss:\x20f3'+'2;\x0a\x0a//\x20The'+'\x20color\x20of\x20'+'the\x20f0\x20spe'+'cularity\x20f'+'actor\x20for\x20'+'the\x20sheen\x20'+'layer\x0avar<'+'private>\x20l'+'itArgs_she'+'en_specula'+'rity:\x20vec3'+'f;\x0a\x0a//\x20Tra'+'nsmission\x20'+'factor\x20(re'+('fraction),'+'\x20range\x20[0.'+'.1]\x0avar<pr'+'ivate>\x20lit'+'Args_trans'+'mission:\x20f'+'32;\x0a\x0a//\x20Un'+'iform\x20thic'+'kness\x20of\x20m'+'edium,\x20use'+'d\x20by\x20trans'+'mission,\x20r'+'ange\x20[0..i'+'nf]\x0avar<pr'+'ivate>\x20lit'+'Args_thick'+'ness:\x20f32;'+'\x0a\x0a//\x20Index'+'\x20of\x20refrac'+'tion\x0avar<p'+'rivate>\x20li'+'tArgs_ior:'+'\x20f32;\x0a\x0a//\x20'+'Dispersion'+',\x20range\x20[0'+'..1]\x20typic'+'ally,\x20but\x20'+'can\x20be\x20hig'+'her\x0avar<pr'+'ivate>\x20lit'+'Args_dispe'+'rsion:\x20f32'+';\x0a\x0a//\x20Irid'+'escence\x20ef'+'fect\x20inten'+'sity,\x20rang'+'e\x20[0..1]\x0av'+'ar<private'+'>\x20litArgs_'+'iridescenc'+'e_intensit'+'y:\x20f32;\x0a\x0a/'+'/\x20Thicknes'+'s\x20of\x20the\x20i'+'ridescent\x20'+'microfilm\x20'+'layer,\x20val'+'ue\x20is\x20in\x20n'+'anometers,'+'\x20range\x20[0.'+'.1000]\x0avar'+'<private>\x20'+'litArgs_ir'+'idescence_'+'thickness:'+'\x20f32;\x0a\x0a//\x20'+'The\x20normal'+'\x20used\x20for\x20'+'the\x20clearc'+'oat\x20layer\x0a'+'var<privat'+'e>\x20litArgs'+'_clearcoat'+'_worldNorm'+'al:\x20vec3f;'+'\x0a\x0a//\x20Inten'+'sity\x20of\x20th'+'e\x20clearcoa'+'t\x20layer,\x20r'+'ange\x20[0..1'+']\x0avar<priv'+'ate>\x20litAr'+'gs_clearco'+'at_specula'+'rity:\x20f32;'+'\x0a\x0a//\x20Gloss'+'iness\x20of\x20c'+'learcoat\x20l'+'ayer,\x20rang'+'e\x20[0..1]\x0av'+'ar<private'+'>\x20litArgs_'+'clearcoat_'+'gloss:\x20f32'+';\x0a\x0a'),FD='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobal\x20text'+'ure\x20bias\x20f'+'or\x20standar'+'d\x20textures'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_NONE_SL'+'ICE_MODE\x20='+'=\x20TILED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20t'+'extureBias'+':\x20f32\x20=\x20-1'+'000.0;\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20texture'+'Bias:\x20f32;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ShaderArgs'+'PS\x22\x0a',ND='\x0a\x0a#if\x20LIGH'+'T_TYPE\x20!=\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20unif'+'orm\x20view_p'+'osition:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'uniform\x20li'+'ght_radius'+':\x20f32;\x0a#en'+'dif\x0a\x0a#if\x20S'+'HADOW_TYPE'+'\x20==\x20PCSS_3'+'2F\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lin'+'earizeDept'+'hPS\x22\x0a#endi'+'f\x0a\x0a@fragme'+'nt\x0afn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serMainSta'+'rtPS\x22\x0a\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20evalua'+'teFrontend'+'();\x0a\x0a\x20\x20\x20\x20/'+'/\x20using\x20no'+'n-standard'+'\x20depth,\x20i.'+'e\x20gl_FragC'+'oord.z\x0a\x20\x20\x20'+'\x20#ifdef\x20PE'+'RSPECTIVE_'+'DEPTH\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20de'+'pth:\x20f32\x20='+'\x20input.pos'+'ition.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SHADOW_T'+'YPE\x20==\x20PCS'+'S_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot/omni'+'\x20shadows\x20c'+'urrently\x20u'+'se\x20linear\x20'+'depth.\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20TODO:\x20us'+'e\x20perspect'+'ive\x20depth\x20'+'for\x20spot/o'+'mni\x20the\x20sa'+'me\x20way\x20as\x20'+'directiona'+'l\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT_TYPE\x20!'+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'depth\x20=\x20li'+'nearizeDep'+'thWithPara'+'ms(depth,\x20'+'camera_par'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20depth:\x20'+'f32\x20=\x20min('+'distance(u'+'niform.vie'+'w_position'+',\x20input.vP'+'ositionW)\x20'+'/\x20uniform.'+'light_radi'+'us,\x200.9999'+'9);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'MODIFIED_D'+'EPTH\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20SHADO'+'W_TYPE\x20==\x20'+'VSM_16F\x20||'+'\x20SHADOW_TY'+('PE\x20==\x20VSM_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20SHAD'+'OW_TYPE\x20=='+'\x20VSM_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20expon'+'ent:\x20f32\x20='+'\x2015.0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20exp'+'onent:\x20f32'+'\x20=\x205.54;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20dep'+'th_vsm\x20=\x202'+'.0\x20*\x20depth'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dept'+'h_vsm\x20=\x20ex'+'p(exponent'+'\x20*\x20depth_v'+'sm);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'color\x20=\x20ve'+'c4f(depth_'+'vsm,\x20depth'+'_vsm\x20*\x20dep'+'th_vsm,\x201.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20SHADOW_TY'+'PE\x20==\x20PCSS'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20vec4f(de'+'pth,\x200.0,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20MODIFI'+'ED_DEPTH\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20If'+'\x20we\x20end\x20up'+'\x20using\x20mod'+'ified\x20dept'+'h,\x20it\x20need'+'s\x20to\x20be\x20ex'+'plicitly\x20w'+'ritten\x20to\x20'+'gl_FragDep'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.frag'+'Depth\x20=\x20de'+'pth;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'just\x20the\x20s'+'implest\x20co'+'de,\x20color\x20'+'is\x20not\x20wri'+'tten\x20anywa'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20v'+'ec4f(1.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litUserM'+'ainEndPS\x22\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a'),kD='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0afn\x20'+'LTC_Uv(N:\x20'+'vec3f,\x20V:\x20'+'vec3f,\x20rou'+'ghness:\x20f3'+'2)\x20->\x20vec2'+'f\x20{\x0a\x20\x20\x20\x20co'+'nst\x20LUT_SI'+'ZE:\x20f32\x20=\x20'+'64.0;\x0a\x20\x20\x20\x20'+'const\x20LUT_'+'SCALE:\x20f32'+'\x20=\x20(LUT_SI'+'ZE\x20-\x201.0)\x20'+'/\x20LUT_SIZE'+';\x0a\x20\x20\x20\x20cons'+'t\x20LUT_BIAS'+':\x20f32\x20=\x200.'+'5\x20/\x20LUT_SI'+'ZE;\x0a\x20\x20\x20\x20le'+'t\x20dotNV:\x20f'+'32\x20=\x20satur'+'ate(dot(\x20N'+',\x20V\x20));\x0a\x20\x20'+'\x20\x20//\x20textu'+'re\x20paramet'+'erized\x20by\x20'+'sqrt(\x20GGX\x20'+'alpha\x20)\x20an'+'d\x20sqrt(\x201\x20'+'-\x20cos(\x20the'+'ta\x20)\x20)\x0a\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20vec'+'2f(\x20roughn'+'ess,\x20sqrt('+'\x201.0\x20-\x20dot'+'NV\x20)\x20);\x0a\x20\x20'+'\x20\x20return\x20u'+'v\x20*\x20LUT_SC'+'ALE\x20+\x20LUT_'+'BIAS;\x0a}\x0a\x0af'+'n\x20LTC_Clip'+'pedSphereF'+'ormFactor('+'\x20f:\x20vec3f\x20'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20//\x20Re'+'al-Time\x20Ar'+'ea\x20Lightin'+'g:\x20a\x20Journ'+'ey\x20from\x20Re'+'search\x20to\x20'+'Production'+'\x20(p.102)\x0a\x20'+'\x20\x20\x20//\x20An\x20a'+'pproximati'+'on\x20of\x20the\x20'+'form\x20facto'+'r\x20of\x20a\x20hor'+'izon-clipp'+'ed\x20rectang'+'le.\x0a\x20\x20\x20\x20le'+'t\x20l:\x20f32\x20='+'\x20length(\x20f'+'\x20);\x0a\x20\x20\x20\x20re'+'turn\x20max(\x20'+'(\x20l\x20*\x20l\x20+\x20'+'f.z\x20)\x20/\x20(\x20'+'l\x20+\x201.0\x20),'+'\x200.0\x20);\x0a}\x0a'+'\x0afn\x20LTC_Ed'+'geVectorFo'+'rmFactor(\x20'+'v1:\x20vec3f,'+'\x20v2:\x20vec3f'+'\x20)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20x:\x20f32\x20='+'\x20dot(\x20v1,\x20'+'v2\x20);\x0a\x20\x20\x20\x20'+'let\x20y:\x20f32'+('\x20=\x20abs(\x20x\x20'+');\x0a\x20\x20\x20\x20//\x20'+'rational\x20p'+'olynomial\x20'+'approximat'+'ion\x20to\x20the'+'ta\x20/\x20sin(\x20'+'theta\x20)\x20/\x20'+'2PI\x0a\x20\x20\x20\x20le'+'t\x20a:\x20f32\x20='+'\x200.8543985'+'\x20+\x20(\x200.496'+'5155\x20+\x200.0'+'145206\x20*\x20y'+'\x20)\x20*\x20y;\x0a\x20\x20'+'\x20\x20let\x20b:\x20f'+'32\x20=\x203.417'+'5940\x20+\x20(\x204'+'.1616724\x20+'+'\x20y\x20)\x20*\x20y;\x0a'+'\x20\x20\x20\x20let\x20v:'+'\x20f32\x20=\x20a\x20/'+'\x20b;\x0a\x20\x20\x20\x20le'+'t\x20inv_sqrt'+'_term\x20=\x20in'+'verseSqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7f\x20)\x20);\x0a'+'\x20\x20\x20\x20let\x20th'+'eta_sinthe'+'ta:\x20f32\x20=\x20'+'select(\x20(0'+'.5\x20*\x20inv_s'+'qrt_term\x20-'+'\x20v),\x20v,\x20x\x20'+'>\x200.0\x20);\x0a\x20'+'\x20\x20\x20return\x20'+'cross(\x20v1,'+'\x20v2\x20)\x20*\x20th'+'eta_sinthe'+'ta;\x0a}\x0a\x0astr'+'uct\x20Coords'+'\x20{\x0a\x20\x20\x20\x20coo'+'rd0:\x20vec3f'+',\x0a\x20\x20\x20\x20coor'+'d1:\x20vec3f,'+'\x0a\x20\x20\x20\x20coord'+'2:\x20vec3f,\x0a'+'\x20\x20\x20\x20coord3'+':\x20vec3f,\x0a}'+'\x0a\x0afn\x20LTC_E'+'valuateRec'+'t(\x20N:\x20vec3'+'f,\x20V:\x20vec3'+'f,\x20P:\x20vec3'+'f,\x20mInv:\x20m'+'at3x3f,\x20re'+'ctCoords:\x20'+'Coords)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20//\x20bail\x20i'+'f\x20point\x20is'+'\x20on\x20back\x20s'+'ide\x20of\x20pla'+'ne\x20of\x20ligh'+'t\x0a\x20\x20\x20\x20//\x20a'+'ssumes\x20ccw'+'\x20winding\x20o'+'rder\x20of\x20li'+'ght\x20vertic'+'es\x0a\x20\x20\x20\x20let'+'\x20v1:\x20vec3f'+'\x20=\x20rectCoo'+'rds.coord1'+'\x20-\x20rectCoo'+'rds.coord0'+';\x0a\x20\x20\x20\x20let\x20'+'v2:\x20vec3f\x20'+'=\x20rectCoor'+'ds.coord3\x20'+'-\x20rectCoor'+'ds.coord0;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'lightNorma'+'l:\x20vec3f\x20='+'\x20cross(\x20v1'+',\x20v2\x20);\x0a\x20\x20'+'\x20\x20let\x20fact'+'or:\x20f32\x20=\x20'+'sign(-dot('+'\x20lightNorm'+'al,\x20P\x20-\x20re'+'ctCoords.c'+'oord0\x20));\x0a'+'\x0a\x20\x20\x20\x20//\x20co'+'nstruct\x20or'+'thonormal\x20'+'basis\x20arou'+'nd\x20N\x0a\x20\x20\x20\x20l')+('et\x20T1:\x20vec'+'3f\x20=\x20norma'+'lize(\x20V\x20-\x20'+'N\x20*\x20dot(\x20V'+',\x20N\x20)\x20);\x0a\x20'+'\x20\x20\x20let\x20T2:'+'\x20vec3f\x20=\x20f'+'actor\x20*\x20cr'+'oss(\x20N,\x20T1'+'\x20);\x20//\x20neg'+'ated\x20from\x20'+'paper;\x20pos'+'sibly\x20due\x20'+'to\x20a\x20diffe'+'rent\x20hande'+'dness\x20of\x20w'+'orld\x20coord'+'inate\x20syst'+'em\x0a\x20\x20\x20\x20//\x20'+'compute\x20tr'+'ansform\x0a\x20\x20'+'\x20\x20let\x20mat:'+'\x20mat3x3f\x20='+'\x20mInv\x20*\x20tr'+'anspose(\x20m'+'at3x3f(\x20T1'+',\x20T2,\x20N\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'transform\x20'+'rect\x0a\x20\x20\x20\x20v'+'ar\x20coords:'+'\x20array<vec'+'3f,\x204>;\x0a\x20\x20'+'\x20\x20coords[0'+']\x20=\x20mat\x20*\x20'+'(\x20rectCoor'+'ds.coord0\x20'+'-\x20P\x20);\x0a\x20\x20\x20'+'\x20coords[1]'+'\x20=\x20mat\x20*\x20('+'\x20rectCoord'+'s.coord1\x20-'+'\x20P\x20);\x0a\x20\x20\x20\x20'+'coords[2]\x20'+'=\x20mat\x20*\x20(\x20'+'rectCoords'+'.coord2\x20-\x20'+'P\x20);\x0a\x20\x20\x20\x20c'+'oords[3]\x20='+'\x20mat\x20*\x20(\x20r'+'ectCoords.'+'coord3\x20-\x20P'+'\x20);\x0a\x20\x20\x20\x20//'+'\x20project\x20r'+'ect\x20onto\x20s'+'phere\x0a\x20\x20\x20\x20'+'coords[0]\x20'+'=\x20normaliz'+'e(\x20coords['+'0]\x20);\x0a\x20\x20\x20\x20'+'coords[1]\x20'+'=\x20normaliz'+'e(\x20coords['+'1]\x20);\x0a\x20\x20\x20\x20'+'coords[2]\x20'+'=\x20normaliz'+'e(\x20coords['+'2]\x20);\x0a\x20\x20\x20\x20'+'coords[3]\x20'+'=\x20normaliz'+'e(\x20coords['+'3]\x20);\x0a\x20\x20\x20\x20'+'//\x20calcula'+'te\x20vector\x20'+'form\x20facto'+'r\x0a\x20\x20\x20\x20var\x20'+'vectorForm'+'Factor:\x20ve'+'c3f\x20=\x20vec3'+'f(\x200.0\x20);\x0a'+'\x20\x20\x20\x20vector'+'FormFactor'+'\x20=\x20vectorF'+'ormFactor\x20'+'+\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[0],\x20c'+'oords[1]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20=\x20vecto'+'rFormFacto'+'r\x20+\x20LTC_Ed'+'geVectorFo'+'rmFactor(\x20'+'coords[1],'+'\x20coords[2]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa')+('ctor\x20=\x20vec'+'torFormFac'+'tor\x20+\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[2'+'],\x20coords['+'3]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20=\x20v'+'ectorFormF'+'actor\x20+\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[3],\x20coord'+'s[0]\x20);\x0a\x20\x20'+'\x20\x20//\x20adjus'+'t\x20for\x20hori'+'zon\x20clippi'+'ng\x0a\x20\x20\x20\x20let'+'\x20result:\x20f'+'32\x20=\x20LTC_C'+'lippedSphe'+'reFormFact'+'or(\x20vector'+'FormFactor'+'\x20);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20resu'+'lt;\x0a}\x0a\x0avar'+'<private>\x20'+'dLTCCoords'+':\x20Coords;\x0a'+'fn\x20getLTCL'+'ightCoords'+'(lightPos:'+'\x20vec3f,\x20ha'+'lfWidth:\x20v'+'ec3f,\x20half'+'Height:\x20ve'+'c3f)\x20->\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20var\x20coord'+'s:\x20Coords;'+'\x0a\x20\x20\x20\x20coord'+'s.coord0\x20='+'\x20lightPos\x20'+'+\x20halfWidt'+'h\x20-\x20halfHe'+'ight;\x0a\x20\x20\x20\x20'+'coords.coo'+'rd1\x20=\x20ligh'+'tPos\x20-\x20hal'+'fWidth\x20-\x20h'+'alfHeight;'+'\x0a\x20\x20\x20\x20coord'+'s.coord2\x20='+'\x20lightPos\x20'+'-\x20halfWidt'+'h\x20+\x20halfHe'+'ight;\x0a\x20\x20\x20\x20'+'coords.coo'+'rd3\x20=\x20ligh'+'tPos\x20+\x20hal'+'fWidth\x20+\x20h'+'alfHeight;'+'\x0a\x20\x20\x20\x20retur'+'n\x20coords;\x0a'+'}\x0a\x0avar<pri'+'vate>\x20dSph'+'ereRadius:'+'\x20f32;\x0afn\x20g'+'etSphereLi'+'ghtCoords('+'lightPos:\x20'+'vec3f,\x20hal'+'fWidth:\x20ve'+'c3f,\x20halfH'+'eight:\x20vec'+'3f)\x20->\x20Coo'+'rds\x20{\x0a\x20\x20\x20\x20'+'//\x20used\x20fo'+'r\x20simple\x20s'+'phere\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20//\x20als'+'o,\x20the\x20cod'+'e\x20only\x20han'+'dles\x20a\x20sph'+'erical\x20lig'+'ht,\x20it\x20can'+'not\x20be\x20non'+'-uniformly'+'\x20scaled\x20in'+'\x20world\x20spa'+'ce,\x20and\x20so'+'\x20we\x20enforc'+'e\x20it\x20here\x0a'+'\x20\x20\x20\x20dSpher'+'eRadius\x20=\x20')+('max(length'+'(halfWidth'+'),\x20length('+'halfHeight'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20Billboar'+'d\x20the\x202d\x20l'+'ight\x20quad\x20'+'to\x20reflect'+'ion\x20vector'+',\x20as\x20it\x27s\x20'+'used\x20for\x20s'+'pecular.\x20T'+'his\x20allows'+'\x20us\x20to\x20use'+'\x20disk\x20math'+'\x20for\x20the\x20s'+'phere.\x0a\x20\x20\x20'+'\x20let\x20f:\x20ve'+'c3f\x20=\x20refl'+'ect(normal'+'ize(lightP'+'os\x20-\x20unifo'+'rm.view_po'+'sition),\x20v'+'NormalW);\x0a'+'\x20\x20\x20\x20let\x20w:'+'\x20vec3f\x20=\x20n'+'ormalize(c'+'ross(f,\x20ha'+'lfHeight))'+';\x0a\x20\x20\x20\x20let\x20'+'h:\x20vec3f\x20='+'\x20normalize'+'(cross(f,\x20'+'w));\x0a\x0a\x20\x20\x20\x20'+'return\x20get'+'LTCLightCo'+'ords(light'+'Pos,\x20w\x20*\x20d'+'SphereRadi'+'us,\x20h\x20*\x20dS'+'phereRadiu'+'s);\x0a}\x0a\x0a//\x20'+'used\x20for\x20L'+'TC\x20LUT\x20tex'+'ture\x20looku'+'p\x0avar<priv'+'ate>\x20dLTCU'+'V:\x20vec2f;\x0a'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20\x20\x20\x20var<p'+'rivate>\x20cc'+'LTCUV:\x20vec'+'2f;\x0a#endif'+'\x0a\x0afn\x20getLT'+'CLightUV(g'+'loss:\x20f32,'+'\x20worldNorm'+'al:\x20vec3f,'+'\x20viewDir:\x20'+'vec3f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20let\x20roug'+'hness:\x20f32'+'\x20=\x20max((1.'+'0\x20-\x20gloss)'+'\x20*\x20(1.0\x20-\x20'+'gloss),\x200.'+'001);\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_Uv(\x20world'+'Normal,\x20vi'+'ewDir,\x20rou'+'ghness\x20);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20energ'+'y\x20conserva'+'tion\x20and\x20t'+'o\x20modulate'+'\x20specular\x0a'+'var<privat'+'e>\x20dLTCSpe'+'cFres:\x20vec'+'3f;\x0a#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20v'+'ar<private'+'>\x20ccLTCSpe'+'cFres:\x20vec'+'3f;\x0a#endif'+'\x0a\x0afn\x20getLT'+'CLightSpec'+'Fres(uv:\x20v'+'ec2f,\x20spec'+'ularity:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20t2:\x20v')+('ec4f\x20=\x20tex'+'tureSample'+'Level(area'+'LightsLutT'+'ex2,\x20areaL'+'ightsLutTe'+'x2Sampler,'+'\x20uv,\x200.0);'+'\x0a\x20\x20\x20\x20retur'+'n\x20specular'+'ity\x20*\x20t2.x'+'\x20+\x20(\x20vec3f'+'(\x201.0\x20)\x20-\x20'+'specularit'+'y)\x20*\x20t2.y;'+'\x0a}\x0a\x0afn\x20cal'+'cLTCLightV'+'alues(glos'+'s:\x20f32,\x20wo'+'rldNormal:'+'\x20vec3f,\x20vi'+'ewDir:\x20vec'+'3f,\x20specul'+'arity:\x20vec'+'3f,\x20clearc'+'oatGloss:\x20'+'f32,\x20clear'+'coatWorldN'+'ormal:\x20vec'+'3f,\x20clearc'+'oatSpecula'+'rity:\x20f32)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CUV\x20=\x20getL'+'TCLightUV('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20dLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(d'+'LTCUV,\x20spe'+'cularity);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ccLTC'+'UV\x20=\x20getLT'+'CLightUV(c'+'learcoatGl'+'oss,\x20clear'+'coatWorldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ccLTC'+'SpecFres\x20='+'\x20getLTCLig'+'htSpecFres'+'(ccLTCUV,\x20'+'vec3f(clea'+'rcoatSpecu'+'larity));\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a\x0afn\x20cal'+'cRectLight'+'Values(lig'+'htPos:\x20vec'+'3f,\x20halfWi'+'dth:\x20vec3f'+',\x20halfHeig'+'ht:\x20vec3f)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CCoords\x20=\x20'+'getLTCLigh'+'tCoords(li'+'ghtPos,\x20ha'+'lfWidth,\x20h'+'alfHeight)'+';\x0a}\x0afn\x20cal'+'cDiskLight'+'Values(lig'+'htPos:\x20vec'+'3f,\x20halfWi'+'dth:\x20vec3f'+',\x20halfHeig'+'ht:\x20vec3f)'+'\x20{\x0a\x20\x20\x20\x20cal'+'cRectLight'+'Values(lig'+'htPos,\x20hal'+'fWidth,\x20ha'+'lfHeight);'+'\x0a}\x0afn\x20calc'+'SphereLigh'+'tValues(li'+'ghtPos:\x20ve'+'c3f,\x20halfW'+'idth:\x20vec3'+'f,\x20halfHei')+('ght:\x20vec3f'+')\x20{\x0a\x20\x20\x20\x20dL'+'TCCoords\x20='+'\x20getSphere'+'LightCoord'+'s(lightPos'+',\x20halfWidt'+'h,\x20halfHei'+'ght);\x0a}\x0a\x0a/'+'/\x20An\x20exten'+'ded\x20versio'+'n\x20of\x20the\x20i'+'mplementat'+'ion\x20from\x20\x22'+'How\x20to\x20sol'+'ve\x20a\x20cubic'+'\x20equation,'+'\x20revisited'+'\x22\x0a//\x20http:'+'//momentsi'+'ngraphics.'+'de/?p=105\x0a'+'fn\x20SolveCu'+'bic(Coeffi'+'cient_in:\x20'+'vec4f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20pi:\x20'+'f32\x20=\x203.14'+'159;\x0a\x20\x20\x20\x20v'+'ar\x20Coeffic'+'ient\x20=\x20Coe'+'fficient_i'+'n;\x0a\x0a\x20\x20\x20\x20//'+'\x20Normalize'+'\x20the\x20polyn'+'omial\x0a\x20\x20\x20\x20'+'Coefficien'+'t\x20=\x20vec4f('+'Coefficien'+'t.xyz\x20/\x20Co'+'efficient.'+'w,\x20Coeffic'+'ient.w);\x0a\x0a'+'\x20\x20\x20\x20//\x20Div'+'ide\x20middle'+'\x20coefficie'+'nts\x20by\x20thr'+'ee\x0a\x20\x20\x20\x20let'+'\x20new_yz:\x20v'+'ec2f\x20=\x20Coe'+'fficient.y'+'z\x20/\x203.0;\x0a\x20'+'\x20\x20\x20Coeffic'+'ient\x20=\x20vec'+'4f(Coeffic'+'ient.x,\x20ne'+'w_yz.x,\x20ne'+'w_yz.y,\x20Co'+'efficient.'+'w);\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20let\x20A:\x20'+'f32\x20=\x20Coef'+'ficient.w;'+'\x0a\x20\x20\x20\x20let\x20B'+':\x20f32\x20=\x20Co'+'efficient.'+'z;\x0a\x20\x20\x20\x20let'+'\x20C:\x20f32\x20=\x20'+'Coefficien'+'t.y;\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20Coeffici'+'ent.x;\x0a\x0a\x20\x20'+'\x20\x20//\x20Compu'+'te\x20the\x20Hes'+'sian\x20and\x20t'+'he\x20discrim'+'inant\x0a\x20\x20\x20\x20'+'let\x20Delta:'+'\x20vec3f\x20=\x20v'+'ec3f(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20-Coeff'+'icient.z\x20*'+'\x20Coefficie'+'nt.z\x20+\x20Coe'+'fficient.y'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'-Coefficie'+'nt.y\x20*\x20Coe'+'fficient.z'+'\x20+\x20Coeffic'+'ient.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'vec2f(Coef'+'ficient.z,'+'\x20-Coeffici'+'ent.y),\x20Co'+'efficient.'+'xy)\x0a\x20\x20\x20\x20);')+('\x0a\x0a\x20\x20\x20\x20let\x20'+'Discrimina'+'nt:\x20f32\x20=\x20'+'dot(vec2f('+'4.0\x20*\x20Delt'+'a.x,\x20-Delt'+'a.y),\x20Delt'+'a.zy);\x0a\x0a\x20\x20'+'\x20\x20var\x20xlc:'+'\x20vec2f;\x0a\x20\x20'+'\x20\x20var\x20xsc:'+'\x20vec2f;\x0a\x0a\x20'+'\x20\x20\x20//\x20Algo'+'rithm\x20A\x0a\x20\x20'+'\x20\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20A_a:'+'\x20f32\x20=\x201.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20C_a:\x20f'+'32\x20=\x20Delta'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20D_a:'+'\x20f32\x20=\x20-2.'+'0\x20*\x20B\x20*\x20De'+'lta.x\x20+\x20De'+'lta.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20Theta:\x20f'+'32\x20=\x20atan2'+'(sqrt(Disc'+'riminant),'+'\x20-D_a)\x20/\x203'+'.0;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sqr'+'t_neg_Ca\x20='+'\x20sqrt(-C_a'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20x_1a:'+'\x20f32\x20=\x202.0'+'\x20*\x20sqrt_ne'+'g_Ca\x20*\x20cos'+'(Theta);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20x_3a:\x20f32'+'\x20=\x202.0\x20*\x20s'+'qrt_neg_Ca'+'\x20*\x20cos(The'+'ta\x20+\x20(2.0\x20'+'/\x203.0)\x20*\x20p'+'i);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20xl:'+'\x20f32\x20=\x20sel'+'ect(x_3a,\x20'+'x_1a,\x20(x_1'+'a\x20+\x20x_3a)\x20'+'>\x202.0\x20*\x20B)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'xlc\x20=\x20vec2'+'f(xl\x20-\x20B,\x20'+'A);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20Al'+'gorithm\x20D\x0a'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20A_'+'d:\x20f32\x20=\x20D'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20C_d:\x20f'+'32\x20=\x20Delta'+'.z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20D_d:'+'\x20f32\x20=\x20-D\x20'+'*\x20Delta.y\x20'+'+\x202.0\x20*\x20C\x20'+'*\x20Delta.z;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Take\x20th'+'e\x20cubic\x20ro'+'ot\x20of\x20a\x20no'+'rmalized\x20c'+'omplex\x20num'+'ber\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20Thet'+'a:\x20f32\x20=\x20a'+'tan2(D\x20*\x20s'+'qrt(Discri'+'minant),\x20-'+'D_d)\x20/\x203.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20sqrt_'+'neg_Cd\x20=\x20s'+'qrt(-C_d);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20x_1d:\x20f'+'32\x20=\x202.0\x20*')+('\x20sqrt_neg_'+'Cd\x20*\x20cos(T'+'heta);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20x'+'_3d:\x20f32\x20='+'\x202.0\x20*\x20sqr'+'t_neg_Cd\x20*'+'\x20cos(Theta'+'\x20+\x20(2.0\x20/\x20'+'3.0)\x20*\x20pi)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20xs:\x20f'+'32\x20=\x20selec'+'t(x_3d,\x20x_'+'1d,\x20x_1d\x20+'+'\x20x_3d\x20<\x202.'+'0\x20*\x20C);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20xsc\x20'+'=\x20vec2f(-D'+',\x20xs\x20+\x20C);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20let\x20E:\x20f'+'32\x20=\x20\x20xlc.'+'y\x20*\x20xsc.y;'+'\x0a\x20\x20\x20\x20let\x20F'+':\x20f32\x20=\x20-x'+'lc.x\x20*\x20xsc'+'.y\x20-\x20xlc.y'+'\x20*\x20xsc.x;\x0a'+'\x20\x20\x20\x20let\x20G:'+'\x20f32\x20=\x20\x20xl'+'c.x\x20*\x20xsc.'+'x;\x0a\x0a\x20\x20\x20\x20le'+'t\x20xmc:\x20vec'+'2f\x20=\x20vec2f'+'(C\x20*\x20F\x20-\x20B'+'\x20*\x20G,\x20-B\x20*'+'\x20F\x20+\x20C\x20*\x20E'+');\x0a\x0a\x20\x20\x20\x20va'+'r\x20Root:\x20ve'+'c3f\x20=\x20vec3'+'f(xsc.x\x20/\x20'+'xsc.y,\x20xmc'+'.x\x20/\x20xmc.y'+',\x20xlc.x\x20/\x20'+'xlc.y);\x0a\x0a\x20'+'\x20\x20\x20if\x20(Roo'+'t.x\x20<\x20Root'+'.y\x20&&\x20Root'+'.x\x20<\x20Root.'+'z)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20Root\x20=\x20'+'Root.yxz;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(Root.'+'z\x20<\x20Root.x'+'\x20&&\x20Root.z'+'\x20<\x20Root.y)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root\x20=\x20Ro'+'ot.xzy;\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20Root;'+'\x0a}\x0a\x0afn\x20LTC'+'_EvaluateD'+'isk(N:\x20vec'+'3f,\x20V:\x20vec'+'3f,\x20P:\x20vec'+'3f,\x20Minv:\x20'+'mat3x3f,\x20p'+'oints:\x20Coo'+'rds)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20let\x20T1:\x20'+'vec3f\x20=\x20no'+'rmalize(V\x20'+'-\x20N\x20*\x20dot('+'V,\x20N));\x0a\x20\x20'+'\x20\x20let\x20T2:\x20'+'vec3f\x20=\x20cr'+'oss(N,\x20T1)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'rotate\x20are'+'a\x20light\x20in'+'\x20(T1,\x20T2,\x20'+'N)\x20basis\x0a\x20'+'\x20\x20\x20let\x20R:\x20'+'mat3x3f\x20=\x20'+'transpose('+'\x20mat3x3f(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20polygon\x20'+'(allocate\x20'+'5\x20vertices'+'\x20for\x20clipp')+('ing\x0a\x20\x20\x20\x20va'+'r\x20L_:\x20arra'+'y<vec3f,\x203'+'>;\x0a\x20\x20\x20\x20L_['+'0]\x20=\x20R\x20*\x20('+'\x20points.co'+'ord0\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20L_[1'+']\x20=\x20R\x20*\x20(\x20'+'points.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20L_[2]'+'\x20=\x20R\x20*\x20(\x20p'+'oints.coor'+'d2\x20-\x20P\x20);\x0a'+'\x0a\x20\x20\x20\x20//\x20in'+'it\x20ellipse'+'\x0a\x20\x20\x20\x20let\x20C'+':\x20vec3f\x20\x20='+'\x200.5\x20*\x20(L_'+'[0]\x20+\x20L_[2'+']);\x0a\x20\x20\x20\x20va'+'r\x20V1:\x20vec3'+'f\x20=\x200.5\x20*\x20'+'(L_[1]\x20-\x20L'+'_[2]);\x0a\x20\x20\x20'+'\x20var\x20V2:\x20v'+'ec3f\x20=\x200.5'+'\x20*\x20(L_[1]\x20'+'-\x20L_[0]);\x0a'+'\x0a\x20\x20\x20\x20let\x20C'+'_Minv:\x20vec'+'3f\x20\x20=\x20Minv'+'\x20*\x20C;\x0a\x20\x20\x20\x20'+'let\x20V1_Min'+'v:\x20vec3f\x20='+'\x20Minv\x20*\x20V1'+';\x0a\x20\x20\x20\x20let\x20'+'V2_Minv:\x20v'+'ec3f\x20=\x20Min'+'v\x20*\x20V2;\x0a\x0a\x20'+'\x20\x20\x20//\x20comp'+'ute\x20eigenv'+'ectors\x20of\x20'+'ellipse\x0a\x20\x20'+'\x20\x20var\x20a:\x20f'+'32;\x0a\x20\x20\x20\x20va'+'r\x20b:\x20f32;\x0a'+'\x20\x20\x20\x20let\x20d1'+'1:\x20f32\x20=\x20d'+'ot(V1_Minv'+',\x20V1_Minv)'+';\x0a\x20\x20\x20\x20let\x20'+'d22:\x20f32\x20='+'\x20dot(V2_Mi'+'nv,\x20V2_Min'+'v);\x0a\x20\x20\x20\x20le'+'t\x20d12:\x20f32'+'\x20=\x20dot(V1_'+'Minv,\x20V2_M'+'inv);\x0a\x20\x20\x20\x20'+'if\x20(abs(d1'+'2)\x20/\x20sqrt('+'d11\x20*\x20d22)'+'\x20>\x200.0001)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20tr:\x20f'+'32\x20=\x20d11\x20+'+'\x20d22;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20de'+'t_inner:\x20f'+'32\x20=\x20-d12\x20'+'*\x20d12\x20+\x20d1'+'1\x20*\x20d22;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20det:\x20f32\x20'+'=\x20sqrt(det'+'_inner);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20u:\x20f32\x20=\x20'+'0.5\x20*\x20sqrt'+'(tr\x20-\x202.0\x20'+'*\x20det);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'v:\x20f32\x20=\x200'+'.5\x20*\x20sqrt('+'tr\x20+\x202.0\x20*'+'\x20det);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20e'+'_max:\x20f32\x20'+'=\x20(u\x20+\x20v)\x20'+'*\x20(u\x20+\x20v);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20e_min:\x20'+'f32\x20=\x20(u\x20-'+'\x20v)\x20*\x20(u\x20-'+'\x20v);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20V1'+'_:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va')+('r\x20V2_:\x20vec'+'3f;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(d11'+'\x20>\x20d22)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20V1_\x20=\x20d1'+'2\x20*\x20V1_Min'+'v\x20+\x20(e_max'+'\x20-\x20d11)\x20*\x20'+'V2_Minv;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20V2_\x20=\x20d12'+'\x20*\x20V1_Minv'+'\x20+\x20(e_min\x20'+'-\x20d11)\x20*\x20V'+'2_Minv;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V1_'+'\x20=\x20d12*V2_'+'Minv\x20+\x20(e_'+'max\x20-\x20d22)'+'*V1_Minv;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20V2_\x20=\x20d1'+'2*V2_Minv\x20'+'+\x20(e_min\x20-'+'\x20d22)*V1_M'+'inv;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20a\x20=\x201.'+'0\x20/\x20e_max;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20b'+'\x20=\x201.0\x20/\x20e'+'_min;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20V1\x20=\x20n'+'ormalize(V'+'1_);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20V2\x20=\x20no'+'rmalize(V2'+'_);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20dot(V'+'1_Minv,\x20V1'+'_Minv);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20b\x20=\x20'+'1.0\x20/\x20dot('+'V2_Minv,\x20V'+'2_Minv);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V1\x20'+'=\x20V1_Minv\x20'+'*\x20sqrt(a);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20V'+'2\x20=\x20V2_Min'+'v\x20*\x20sqrt(b'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20var\x20V3'+':\x20vec3f\x20=\x20'+'normalize('+'cross(V1,\x20'+'V2));\x0a\x20\x20\x20\x20'+'if\x20(dot(C_'+'Minv,\x20V3)\x20'+'<\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V3\x20'+'=\x20V3\x20*\x20-1.'+'0;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20let\x20L:'+'\x20f32\x20\x20=\x20do'+'t(V3,\x20C_Mi'+'nv);\x0a\x20\x20\x20\x20l'+'et\x20x0:\x20f32'+'\x20=\x20dot(V1,'+'\x20C_Minv)\x20/'+'\x20L;\x0a\x20\x20\x20\x20le'+'t\x20y0:\x20f32\x20'+'=\x20dot(V2,\x20'+'C_Minv)\x20/\x20'+'L;\x0a\x0a\x20\x20\x20\x20le'+'t\x20E1:\x20f32\x20'+'=\x20inverseS'+'qrt(a);\x0a\x20\x20'+'\x20\x20let\x20E2:\x20'+'f32\x20=\x20inve'+'rseSqrt(b)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20a_scaled\x20'+'=\x20a\x20*\x20L\x20*\x20'+'L;\x0a\x20\x20\x20\x20let'+'\x20b_scaled\x20'+'=\x20b\x20*\x20L\x20*\x20'+'L;\x0a\x0a\x20\x20\x20\x20le'+'t\x20c0:\x20f32\x20'+'=\x20a_scaled'+'\x20*\x20b_scale'+'d;\x0a\x20\x20\x20\x20let'+'\x20c1:\x20f32\x20='+'\x20a_scaled\x20'+'*\x20b_scaled')+('\x20*\x20(1.0\x20+\x20'+'x0\x20*\x20x0\x20+\x20'+'y0\x20*\x20y0)\x20-'+'\x20a_scaled\x20'+'-\x20b_scaled'+';\x0a\x20\x20\x20\x20let\x20'+'c2:\x20f32\x20=\x20'+'1.0\x20-\x20a_sc'+'aled\x20*\x20(1.'+'0\x20+\x20x0\x20*\x20x'+'0)\x20-\x20b_sca'+'led\x20*\x20(1.0'+'\x20+\x20y0\x20*\x20y0'+');\x0a\x20\x20\x20\x20let'+'\x20c3:\x20f32\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20let\x20roots'+':\x20vec3f\x20=\x20'+'SolveCubic'+'(vec4f(c0,'+'\x20c1,\x20c2,\x20c'+'3));\x0a\x20\x20\x20\x20l'+'et\x20e1:\x20f32'+'\x20=\x20roots.x'+';\x0a\x20\x20\x20\x20let\x20'+'e2:\x20f32\x20=\x20'+'roots.y;\x0a\x20'+'\x20\x20\x20let\x20e3:'+'\x20f32\x20=\x20roo'+'ts.z;\x0a\x0a\x20\x20\x20'+'\x20var\x20avgDi'+'r:\x20vec3f\x20='+'\x20vec3f(a_s'+'caled\x20*\x20x0'+'\x20/\x20(a_scal'+'ed\x20-\x20e2),\x20'+'b_scaled\x20*'+'\x20y0\x20/\x20(b_s'+'caled\x20-\x20e2'+'),\x201.0);\x0a\x0a'+'\x20\x20\x20\x20let\x20ro'+'tate:\x20mat3'+'x3f\x20=\x20mat3'+'x3f(V1,\x20V2'+',\x20V3);\x0a\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20rotate\x20*\x20'+'avgDir;\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20normalize'+'(avgDir);\x0a'+'\x0a\x20\x20\x20\x20let\x20L'+'1:\x20f32\x20=\x20s'+'qrt(-e2\x20/\x20'+'e3);\x0a\x20\x20\x20\x20l'+'et\x20L2:\x20f32'+'\x20=\x20sqrt(-e'+'2\x20/\x20e1);\x0a\x0a'+'\x20\x20\x20\x20let\x20fo'+'rmFactor:\x20'+'f32\x20=\x20max('+'0.0,\x20L1\x20*\x20'+'L2\x20*\x20inver'+'seSqrt((1.'+'0\x20+\x20L1\x20*\x20L'+'1)\x20*\x20(1.0\x20'+'+\x20L2\x20*\x20L2)'+'));\x0a\x0a\x20\x20\x20\x20c'+'onst\x20LUT_S'+'IZE_disk:\x20'+'f32\x20=\x2064.0'+';\x0a\x20\x20\x20\x20cons'+'t\x20LUT_SCAL'+'E_disk:\x20f3'+'2\x20=\x20(\x20LUT_'+'SIZE_disk\x20'+'-\x201.0\x20)\x20/\x20'+'LUT_SIZE_d'+'isk;\x0a\x20\x20\x20\x20c'+'onst\x20LUT_B'+'IAS_disk:\x20'+'f32\x20=\x200.5\x20'+'/\x20LUT_SIZE'+'_disk;\x0a\x0a\x20\x20'+'\x20\x20//\x20use\x20t'+'abulated\x20h'+'orizon-cli'+'pped\x20spher'+'e\x0a\x20\x20\x20\x20var\x20'+'uv:\x20vec2f\x20'+'=\x20vec2f(av'+'gDir.z\x20*\x200'+'.5\x20+\x200.5,\x20'+'formFactor'+');\x0a\x20\x20\x20\x20uv\x20'+'=\x20uv\x20*\x20LUT'+'_SCALE_dis'+'k\x20+\x20LUT_BI'+'AS_disk;\x0a\x0a'+'\x20\x20\x20\x20let\x20sc')+('ale:\x20f32\x20='+'\x20textureSa'+'mpleLevel('+'areaLights'+'LutTex2,\x20a'+'reaLightsL'+'utTex2Samp'+'ler,\x20uv,\x200'+'.0).w;\x0a\x0a\x20\x20'+'\x20\x20return\x20f'+'ormFactor\x20'+'*\x20scale;\x0a}'+'\x0a\x0a//\x20LTC_E'+'valuateDis'+'k\x20in\x20some\x20'+'rare\x20cases'+'\x20genereate'+'s\x20NaN\x20valu'+'es\x20in\x20a\x20or'+'\x20b,\x20just\x20b'+'efore\x20\x27flo'+'at\x20c0\x20=\x20a\x20'+'*\x20b;\x27\x0a//\x20G'+'et\x20rid\x20of\x20'+'those\x20Nan\x20'+'values\x20bef'+'ore\x20they\x20p'+'ropagate\x20f'+'urther,\x20as'+'\x20in\x20case\x20o'+'f\x20bloom\x20/\x20'+'DOF\x20blurs\x20'+'they\x0a//\x20pr'+'opagate\x20to'+'\x20large\x20are'+'as.\x20I\x20didn'+'\x27t\x20find\x20th'+'e\x20actual\x20r'+'eason\x20wher'+'e\x20those\x20co'+'me\x20from,\x20s'+'o\x20that\x20is\x20'+'still\x20TODO'+'.\x0a//\x20Note\x20'+'that\x20only\x20'+'disk/spher'+'e\x20lights\x20a'+'re\x20causing'+'\x20it,\x20so\x20on'+'ly\x20handle\x20'+'those.\x0afn\x20'+'FixNan(val'+'ue:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20v'+'alue\x20!=\x20va'+'lue\x20check\x20'+'for\x20NaN\x20as'+'\x20isnan()\x20i'+'s\x20not\x20avai'+'lable\x20in\x20W'+'GSL\x0a\x20\x20\x20\x20re'+'turn\x20selec'+'t(value,\x200'+'.0,\x20value\x20'+'!=\x20value);'+'\x0a}\x0a\x0afn\x20get'+'RectLightD'+'iffuse(wor'+'ldNormal:\x20'+'vec3f,\x20vie'+'wDir:\x20vec3'+'f,\x20lightDi'+'r:\x20vec3f,\x20'+'lightDirNo'+'rm:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20id'+'entityMat\x20'+'=\x20mat3x3f('+'vec3f(1.0,'+'\x200.0,\x200.0)'+',\x20vec3f(0.'+'0,\x201.0,\x200.'+'0),\x20vec3f('+'0.0,\x200.0,\x20'+'1.0));\x0a\x20\x20\x20'+'\x20return\x20LT'+'C_Evaluate'+'Rect(\x20worl'+'dNormal,\x20v'+'iewDir,\x20vP'+'ositionW,\x20'+'identityMa'+'t,\x20dLTCCoo'+'rds\x20);\x0a}\x0a\x0a'+'fn\x20getDisk'+'LightDiffu'+'se(worldNo'+'rmal:\x20vec3')+('f,\x20viewDir'+':\x20vec3f,\x20l'+'ightDir:\x20v'+'ec3f,\x20ligh'+'tDirNorm:\x20'+'vec3f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'let\x20identi'+'tyMat\x20=\x20ma'+'t3x3f(vec3'+'f(1.0,\x200.0'+',\x200.0),\x20ve'+'c3f(0.0,\x201'+'.0,\x200.0),\x20'+'vec3f(0.0,'+'\x200.0,\x201.0)'+');\x0a\x20\x20\x20\x20ret'+'urn\x20FixNan'+'(LTC_Evalu'+'ateDisk(\x20w'+'orldNormal'+',\x20viewDir,'+'\x20vPosition'+'W,\x20identit'+'yMat,\x20dLTC'+'Coords\x20));'+'\x0a}\x0a\x0afn\x20get'+'SphereLigh'+'tDiffuse(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20light'+'Dir:\x20vec3f'+',\x20lightDir'+'Norm:\x20vec3'+'f)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20//\x20N'+'B:\x20this\x20co'+'uld\x20be\x20imp'+'roved\x20furt'+'her\x20with\x20d'+'istance\x20ba'+'sed\x20wrap\x20l'+'ighting\x0a\x20\x20'+'\x20\x20let\x20fall'+'off:\x20f32\x20='+'\x20dSphereRa'+'dius\x20/\x20(do'+'t(lightDir'+',\x20lightDir'+')\x20+\x20dSpher'+'eRadius);\x0a'+'\x20\x20\x20\x20return'+'\x20FixNan(ge'+'tLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirNorm)\x20'+'*\x20falloff)'+';\x0a}\x0a\x0afn\x20ge'+'tLTCLightI'+'nvMat(uv:\x20'+'vec2f)\x20->\x20'+'mat3x3f\x20{\x0a'+'\x20\x20\x20\x20let\x20t1'+':\x20vec4f\x20=\x20'+'textureSam'+'pleLevel(a'+'reaLightsL'+'utTex1,\x20ar'+'eaLightsLu'+'tTex1Sampl'+'er,\x20uv,\x200.'+'0);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20mat3'+'x3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3f(\x20'+'t1.x,\x200.0,'+'\x20t1.y\x20),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(\x200.0,\x201'+'.0,\x200.0\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3f(\x20t1.z'+',\x200.0,\x20t1.'+'w\x20)\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0afn\x20cal'+'cRectLight'+'Specular(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20uv:\x20v'+'ec2f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20mInv:\x20m'+'at3x3f\x20=\x20g'+'etLTCLight')+('InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateRect('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afn'+'\x20getRectLi'+'ghtSpecula'+'r(worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20ca'+'lcRectLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+',\x20dLTCUV);'+'\x0a}\x0a\x0afn\x20cal'+'cDiskLight'+'Specular(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20uv:\x20v'+'ec2f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20mInv:\x20m'+'at3x3f\x20=\x20g'+'etLTCLight'+'InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateDisk('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afn'+'\x20getDiskLi'+'ghtSpecula'+'r(worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20ca'+'lcDiskLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+',\x20dLTCUV);'+'\x0a}\x0a\x0afn\x20get'+'SphereLigh'+'tSpecular('+'worldNorma'+'l:\x20vec3f,\x20'+'viewDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20calc'+'DiskLightS'+'pecular(wo'+'rldNormal,'+'\x20viewDir,\x20'+'dLTCUV);\x0a}'+'\x0a'),UD='\x0a#ifdef\x20ST'+'D_METALNES'+'S_CONSTANT'+'\x0auniform\x20m'+'aterial_me'+'talness:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20getMe'+'talness()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'metalness:'+'\x20f32\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20metal'+'ness\x20=\x20met'+'alness\x20*\x20u'+'niform.mat'+'erial_meta'+'lness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_METALN'+'ESS_TEXTUR'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'metalness\x20'+'=\x20metalnes'+'s\x20*\x20textur'+'eSampleBia'+'s({STD_MET'+'ALNESS_TEX'+'TURE_NAME}'+',\x20{STD_MET'+'ALNESS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_METALN'+'ESS_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_METALNE'+'SS_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_VE'+'RTEX\x0a\x20\x20\x20\x20m'+'etalness\x20='+'\x20metalness'+'\x20*\x20saturat'+'e(vVertexC'+'olor.{STD_'+'METALNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dMetal'+'ness\x20=\x20met'+'alness;\x0a}\x0a',BD='\x0avar\x20textu'+'re_msdfMap'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20texture'+'_msdfMapSa'+'mpler:\x20sam'+'pler;\x0a\x0afn\x20'+'median(r:\x20'+'f32,\x20g:\x20f3'+'2,\x20b:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20max(min(r'+',\x20g),\x20min('+'max(r,\x20g),'+'\x20b));\x0a}\x0a\x0af'+'n\x20map(min:'+'\x20f32,\x20max:'+'\x20f32,\x20v:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(v\x20-\x20m'+'in)\x20/\x20(max'+'\x20-\x20min);\x0a}'+'\x0a\x0auniform\x20'+'font_sdfIn'+'tensity:\x20f'+'32;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20font_px'+'range:\x20f32'+';\x20\x20\x20\x20\x20\x20//\x20'+'the\x20number'+'\x20of\x20pixels'+'\x20between\x20i'+'nside\x20and\x20'+'outside\x20th'+'e\x20font\x20in\x20'+'SDF\x0aunifor'+'m\x20font_tex'+'tureWidth:'+'\x20f32;\x20//\x20t'+'he\x20width\x20o'+'f\x20the\x20text'+'ure\x20atlas\x0a'+'\x0a#ifndef\x20L'+'IT_MSDF_TE'+'XT_ATTRIBU'+'TE\x0a\x20\x20\x20\x20uni'+'form\x20outli'+'ne_color:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20uniform\x20o'+'utline_thi'+'ckness:\x20f3'+'2;\x0a\x20\x20\x20\x20uni'+'form\x20shado'+'w_color:\x20v'+'ec4f;\x0a\x20\x20\x20\x20'+'uniform\x20sh'+'adow_offse'+'t:\x20vec2f;\x0a'+'#else\x0a\x20\x20\x20\x20'+'varying\x20ou'+'tline_colo'+'r:\x20vec4f;\x0a'+'\x20\x20\x20\x20varyin'+'g\x20outline_'+'thickness:'+'\x20f32;\x0a\x20\x20\x20\x20'+'varying\x20sh'+'adow_color'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20varying'+'\x20shadow_of'+'fset:\x20vec2'+'f;\x0a#endif\x0a'+'\x0afn\x20applyM'+'sdf(color_'+'in:\x20vec4f)'+'\x20->\x20vec4f\x20'+'{\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20LIT_M'+'SDF_TEXT_A'+'TTRIBUTE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20outline_c'+'olorValue\x20'+'=\x20uniform.'+'outline_co'+'lor;\x0a\x20\x20\x20\x20\x20'+('\x20\x20\x20var\x20out'+'line_thick'+'nessValue\x20'+'=\x20uniform.'+'outline_th'+'ickness;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadow_co'+'lorValue\x20='+'\x20uniform.s'+'hadow_colo'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20shado'+'w_offsetVa'+'lue\x20=\x20unif'+'orm.shadow'+'_offset;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20outline_c'+'olorValue\x20'+'=\x20outline_'+'color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utline_thi'+'cknessValu'+'e\x20=\x20outlin'+'e_thicknes'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20shado'+'w_colorVal'+'ue\x20=\x20shado'+'w_color;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadow_of'+'fsetValue\x20'+'=\x20shadow_o'+'ffset;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20Conv'+'ert\x20to\x20lin'+'ear\x20space\x20'+'before\x20pro'+'cessing\x0a\x20\x20'+'\x20\x20//\x20TODO:'+'\x20ideally\x20t'+'his\x20would\x20'+'receive\x20th'+'e\x20color\x20in'+'\x20linear\x20sp'+'ace,\x20but\x20t'+'hat\x20would\x20'+'require\x20la'+'rger\x20chang'+'es\x0a\x20\x20\x20\x20//\x20'+'on\x20the\x20eng'+'ine\x20side,\x20'+'with\x20the\x20w'+'ay\x20premult'+'iplied\x20alp'+'ha\x20is\x20hand'+'led\x20as\x20wel'+'l.\x0a\x20\x20\x20\x20var'+'\x20color\x20=\x20v'+'ec4f(gamma'+'CorrectInp'+'utVec3(col'+'or_in.rgb)'+',\x20color_in'+'.a);\x0a\x0a\x20\x20\x20\x20'+'//\x20sample\x20'+'the\x20field\x0a'+'\x20\x20\x20\x20let\x20ts'+'ample:\x20vec'+'3f\x20=\x20textu'+'reSample(t'+'exture_msd'+'fMap,\x20text'+'ure_msdfMa'+'pSampler,\x20'+'vUv0).rgb;'+'\x0a\x20\x20\x20\x20let\x20u'+'vShdw:\x20vec'+'2f\x20=\x20vUv0\x20'+'-\x20shadow_o'+'ffsetValue'+';\x0a\x20\x20\x20\x20let\x20'+'ssample:\x20v'+'ec3f\x20=\x20tex'+'tureSample'+'(texture_m'+'sdfMap,\x20te'+'xture_msdf'+'MapSampler'+',\x20uvShdw).'+'rgb;\x0a\x0a\x20\x20\x20\x20'+'//\x20get\x20the'+'\x20signed\x20di'+'stance\x20val'+'ue\x0a\x20\x20\x20\x20let')+('\x20sigDist:\x20'+'f32\x20=\x20medi'+'an(tsample'+'.r,\x20tsampl'+'e.g,\x20tsamp'+'le.b);\x0a\x20\x20\x20'+'\x20var\x20sigDi'+'stShdw:\x20f3'+'2\x20=\x20median'+'(ssample.r'+',\x20ssample.'+'g,\x20ssample'+'.b);\x0a\x0a\x20\x20\x20\x20'+'//\x20smoothi'+'ng\x20limit\x20-'+'\x20smaller\x20v'+'alue\x20makes'+'\x20for\x20sharp'+'er\x20but\x20mor'+'e\x20aliased\x20'+'text,\x20espe'+'cially\x20on\x20'+'angles\x0a\x20\x20\x20'+'\x20//\x20too\x20la'+'rge\x20value\x20'+'(0.5)\x20crea'+'tes\x20a\x20dark'+'\x20glow\x20arou'+'nd\x20the\x20let'+'ters\x0a\x20\x20\x20\x20l'+'et\x20smoothi'+'ngMax:\x20f32'+'\x20=\x200.2;\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20depe'+'nds\x20on\x20siz'+'e\x20of\x20textu'+'re\x20on\x20scre'+'en\x0a\x20\x20\x20\x20let'+'\x20w:\x20vec2f\x20'+'=\x20abs(dpdx'+'(vUv0))\x20+\x20'+'abs(dpdy(v'+'Uv0));\x0a\x20\x20\x20'+'\x20let\x20smoot'+'hing:\x20f32\x20'+'=\x20clamp(w.'+'x\x20*\x20unifor'+'m.font_tex'+'tureWidth\x20'+'/\x20uniform.'+'font_pxran'+'ge,\x200.0,\x20s'+'moothingMa'+'x);\x0a\x0a\x20\x20\x20\x20l'+'et\x20mapMin:'+'\x20f32\x20=\x200.0'+'5;\x0a\x20\x20\x20\x20let'+'\x20mapMax:\x20f'+'32\x20=\x20clamp'+'(1.0\x20-\x20uni'+'form.font_'+'sdfIntensi'+'ty,\x20mapMin'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20rema'+'p\x20to\x20a\x20sma'+'ller\x20range'+'\x20(used\x20on\x20'+'smaller\x20fo'+'nt\x20sizes)\x0a'+'\x20\x20\x20\x20let\x20si'+'gDistInner'+':\x20f32\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist);\x0a\x20\x20'+'\x20\x20let\x20sigD'+'istOutline'+':\x20f32\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist\x20+\x20ou'+'tline_thic'+'knessValue'+');\x0a\x20\x20\x20\x20sig'+'DistShdw\x20='+'\x20map(mapMi'+'n,\x20mapMax,'+'\x20sigDistSh'+'dw\x20+\x20outli'+'ne_thickne'+'ssValue);\x0a'+'\x0a\x20\x20\x20\x20let\x20c'+'enter:\x20f32'+'\x20=\x200.5;\x0a\x20\x20'+'\x20\x20//\x20calcu'+'late\x20smoot'+'hing\x20and\x20u'+'se\x20to\x20gene')+('rate\x20opaci'+'ty\x0a\x20\x20\x20\x20let'+'\x20inside:\x20f'+'32\x20=\x20smoot'+'hstep(cent'+'er\x20-\x20smoot'+'hing,\x20cent'+'er\x20+\x20smoot'+'hing,\x20sigD'+'istInner);'+'\x0a\x20\x20\x20\x20let\x20o'+'utline:\x20f3'+'2\x20=\x20smooth'+'step(cente'+'r\x20-\x20smooth'+'ing,\x20cente'+'r\x20+\x20smooth'+'ing,\x20sigDi'+'stOutline)'+';\x0a\x20\x20\x20\x20let\x20'+'shadow:\x20f3'+'2\x20=\x20smooth'+'step(cente'+'r\x20-\x20smooth'+'ing,\x20cente'+'r\x20+\x20smooth'+'ing,\x20sigDi'+'stShdw);\x0a\x0a'+'\x20\x20\x20\x20let\x20tc'+'olor_outli'+'ne:\x20vec4f\x20'+'=\x20outline\x20'+'*\x20vec4f(ou'+'tline_colo'+'rValue.a\x20*'+'\x20outline_c'+'olorValue.'+'rgb,\x20outli'+'ne_colorVa'+'lue.a);\x0a\x20\x20'+'\x20\x20var\x20tcol'+'or:\x20vec4f\x20'+'=\x20select(v'+'ec4f(0.0),'+'\x20tcolor_ou'+'tline,\x20out'+'line\x20>\x20ins'+'ide);\x0a\x20\x20\x20\x20'+'tcolor\x20=\x20m'+'ix(tcolor,'+'\x20color,\x20in'+'side);\x0a\x0a\x20\x20'+'\x20\x20let\x20scol'+'or_shadow:'+'\x20vec4f\x20=\x20s'+'hadow\x20*\x20ve'+'c4f(shadow'+'_colorValu'+'e.a\x20*\x20shad'+'ow_colorVa'+'lue.rgb,\x20s'+'hadow_colo'+'rValue.a);'+'\x0a\x20\x20\x20\x20let\x20s'+'color:\x20vec'+'4f\x20=\x20selec'+'t(tcolor,\x20'+'scolor_sha'+'dow,\x20shado'+'w\x20>\x20outlin'+'e);\x0a\x20\x20\x20\x20tc'+'olor\x20=\x20mix'+'(scolor,\x20t'+'color,\x20out'+'line);\x0a\x0a\x20\x20'+'\x20\x20//\x20Conve'+'rt\x20back\x20to'+'\x20gamma\x20spa'+'ce\x20before\x20'+'returning\x0a'+'\x20\x20\x20\x20tcolor'+'\x20=\x20vec4f(g'+'ammaCorrec'+'tOutput(tc'+'olor.rgb),'+'\x20tcolor.a)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20tcolor'+';\x0a}\x0a'),zD='\x0a\x0afn\x20getSp'+'ecularModu'+'late(specu'+'larity:\x20ve'+'c3f,\x20albed'+'o:\x20vec3f,\x20'+'metalness:'+'\x20f32,\x20f0:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20dielec'+'tricF0:\x20ve'+'c3f\x20=\x20f0\x20*'+'\x20speculari'+'ty;\x0a\x20\x20\x20\x20re'+'turn\x20mix(d'+'ielectricF'+'0,\x20albedo,'+'\x20metalness'+');\x0a}\x0a\x0afn\x20g'+'etAlbedoMo'+'dulate(alb'+'edo:\x20vec3f'+',\x20metalnes'+'s:\x20f32)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'albedo\x20*\x20('+'1.0\x20-\x20meta'+'lness);\x0a}\x0a',VD='\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec2f;\x0a\x0a\x20\x20\x20'+'\x20var\x20morph'+'Texture:\x20t'+'exture_2d_'+'array<f32>'+';\x0a\x20\x20\x20\x20unif'+'orm\x20morphF'+'actor:\x20arr'+'ay<f32,\x20{M'+'ORPH_TEXTU'+'RE_MAX_COU'+'NT}>;\x0a\x20\x20\x20\x20'+'uniform\x20mo'+'rphIndex:\x20'+'array<u32,'+'\x20{MORPH_TE'+'XTURE_MAX_'+'COUNT}>;\x0a\x20'+'\x20\x20\x20uniform'+'\x20count:\x20u3'+'2;\x0a\x0a\x20\x20\x20\x20@f'+'ragment\x0a\x20\x20'+'\x20\x20fn\x20fragm'+'entMain(in'+'put\x20:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20color\x20='+'\x20vec3f(0,\x20'+'0,\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20t'+'extureDims'+'\x20=\x20texture'+'Dimensions'+'(morphText'+'ure);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20pi'+'xelCoords\x20'+'=\x20vec2i(in'+'put.uv0\x20*\x20'+'vec2f(text'+'ureDims));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fo'+'r\x20(var\x20i:\x20'+'u32\x20=\x200;\x20i'+'\x20<\x20uniform'+'.count;\x20i\x20'+'=\x20i\x20+\x201)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'tureIndex:'+'\x20u32\x20=\x20uni'+'form.morph'+'Index[i].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20delta\x20'+'=\x20textureL'+'oad(morphT'+'exture,\x20pi'+'xelCoords,'+'\x20textureIn'+'dex,\x200).xy'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'\x20+=\x20unifor'+'m.morphFac'+'tor[i].ele'+'ment\x20*\x20del'+'ta;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20out'+'put:\x20Fragm'+'entOutput;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'color,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a',GD='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20varying'+'\x20uv0:\x20vec2'+'f;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input:'+'\x20VertexInp'+'ut)\x20->\x20Ver'+'texOutput\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20vec4f(in'+'put.vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.uv0'+'\x20=\x20input.v'+'ertex_posi'+'tion\x20*\x200.5'+'\x20+\x20vec2f(0'+'.5,\x200.5);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',HD='\x0aattribute'+'\x20vertex_ou'+'tlineParam'+'eters:\x20vec'+'3f;\x0aattrib'+'ute\x20vertex'+'_shadowPar'+'ameters:\x20v'+'ec3f;\x0a\x0avar'+'ying\x20outli'+'ne_color:\x20'+'vec4f;\x0avar'+'ying\x20outli'+'ne_thickne'+'ss:\x20f32;\x0av'+'arying\x20sha'+'dow_color:'+'\x20vec4f;\x0ava'+'rying\x20shad'+'ow_offset:'+'\x20vec2f;\x0a\x0av'+'ar<private'+'>\x20dOutline'+'Color:\x20vec'+'4f;\x0avar<pr'+'ivate>\x20dOu'+'tlineThick'+'ness:\x20f32;'+'\x0avar<priva'+'te>\x20dShado'+'wColor:\x20ve'+'c4f;\x0avar<p'+'rivate>\x20dS'+'hadowOffse'+'t:\x20vec2f;\x0a'+'\x0afn\x20unpack'+'MsdfParams'+'()\x20{\x0a\x20\x20\x20\x20l'+'et\x20little:'+'\x20vec3f\x20=\x20v'+'ertex_outl'+'ineParamet'+'ers\x20%\x20vec3'+'f(256.0);\x0a'+'\x20\x20\x20\x20let\x20bi'+'g:\x20vec3f\x20='+'\x20(vertex_o'+'utlinePara'+'meters\x20-\x20l'+'ittle)\x20/\x202'+'56.0;\x0a\x0a\x20\x20\x20'+'\x20dOutlineC'+'olor\x20=\x20vec'+'4f(little.'+'x,\x20big.x,\x20'+'little.y,\x20'+'big.y)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20//\x20_outli'+'neThicknes'+'sScale\x20==='+'\x200.2\x0a\x20\x20\x20\x20d'+'OutlineThi'+'ckness\x20=\x20l'+'ittle.z\x20/\x20'+'255.0\x20*\x200.'+'2;\x0a\x0a\x20\x20\x20\x20le'+'t\x20little_s'+'hadow\x20=\x20ve'+'rtex_shado'+'wParameter'+'s\x20%\x20vec3f('+'256.0);\x0a\x20\x20'+'\x20\x20let\x20big_'+'shadow\x20=\x20('+'vertex_sha'+'dowParamet'+'ers\x20-\x20litt'+'le_shadow)'+'\x20/\x20256.0;\x0a'+'\x0a\x20\x20\x20\x20dShad'+'owColor\x20=\x20'+'vec4f(litt'+'le_shadow.'+'x,\x20big_sha'+'dow.x,\x20lit'+'tle_shadow'+'.y,\x20big_sh'+'adow.y)\x20/\x20'+'255.0;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+('ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20dShad'+'owOffset\x20='+'\x20(vec2f(li'+'ttle_shado'+'w.z,\x20big_s'+'hadow.z)\x20/'+'\x20127.0\x20-\x201'+'.0)\x20*\x200.00'+'5;\x0a}\x0a'),WD='\x0avar<priva'+'te>\x20dNorma'+'lMatrix:\x20m'+'at3x3f;\x0a\x0af'+'n\x20getNorma'+'l()\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20d'+'NormalMatr'+'ix\x20=\x20getNo'+'rmalMatrix'+'(dModelMat'+'rix);\x0a\x20\x20\x20\x20'+'let\x20localN'+'ormal:\x20vec'+'3f\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}',$D='\x0a\x0aattribut'+'e\x20vertex_n'+'ormal:\x20vec'+'3f;\x0a\x0aunifo'+'rm\x20matrix_'+'normal:\x20ma'+'t3x3f;\x0a\x0a#i'+'fdef\x20MORPH'+'ING_NORMAL'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MORPHING'+'_INT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20mor'+'phNormalTe'+'x:\x20texture'+'_2d<u32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20morphNor'+'malTexSamp'+'ler:\x20sampl'+'er;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20morp'+'hNormalTex'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20morphNorm'+'alTexSampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20#en'+'dif\x0a#endif'+'\x0a\x0afn\x20getLo'+'calNormal('+'vertexNorm'+'al:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20localNorm'+'al:\x20vec3f\x20'+'=\x20vertexNo'+'rmal;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_NOR'+'MAL\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20mor'+'phUV:\x20vec2'+'i\x20=\x20getTex'+'tureMorphC'+'oords();\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_INT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20morphN'+'ormalInt:\x20'+'vec4u\x20=\x20te'+'xtureLoad('+'morphNorma'+'lTex,\x20morp'+'hUV,\x200);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20morph'+'NormalF:\x20v'+'ec3f\x20=\x20vec'+'3f(morphNo'+'rmalInt.xy'+'z)\x20/\x2065535'+'.0\x20*\x202.0\x20-'+'\x201.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20lo'+'calNormal\x20'+'=\x20localNor'+'mal\x20+\x20morp'+'hNormalF;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'morphNorma'+'l:\x20vec3f\x20='+'\x20textureLo'+'ad(morphNo'+'rmalTex,\x20m'+'orphUV,\x200)'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20lo'+'calNormal\x20'+'=\x20localNor'+'mal\x20+\x20morp'+'hNormal;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20lo'+'calNormal;'+'\x0a}\x0a\x0a#if\x20de'+'fined(SKIN'+')\x20||\x20defin'+'ed(BATCH)\x0a'+'\x20\x20\x20\x20fn\x20get'+('NormalMatr'+'ix(modelMa'+'trix:\x20mat4'+'x4f)\x20->\x20ma'+'t3x3f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20mat3x3f'+'(modelMatr'+'ix[0].xyz,'+'\x20modelMatr'+'ix[1].xyz,'+'\x20modelMatr'+'ix[2].xyz)'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20define'+'d(INSTANCI'+'NG)\x0a\x20\x20\x20\x20fn'+'\x20getNormal'+'Matrix(mod'+'elMatrix:\x20'+'mat4x4f)\x20-'+'>\x20mat3x3f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20mat'+'3x3f(model'+'Matrix[0].'+'xyz,\x20model'+'Matrix[1].'+'xyz,\x20model'+'Matrix[2].'+'xyz);\x0a\x20\x20\x20\x20'+'}\x0a#else\x0a\x20\x20'+'\x20\x20fn\x20getNo'+'rmalMatrix'+'(modelMatr'+'ix:\x20mat4x4'+'f)\x20->\x20mat3'+'x3f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uniform.m'+'atrix_norm'+'al;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),XD='\x0a#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_bu'+'mpiness:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'TD_NORMALD'+'ETAIL_TEXT'+'URE\x0a\x20\x20\x20\x20un'+'iform\x20mate'+'rial_norma'+'lDetailMap'+'Bumpiness:'+'\x20f32;\x0a\x0a\x20\x20\x20'+'\x20//\x20https:'+'//blog.sel'+'fshadow.co'+'m/publicat'+'ions/blend'+'ing-in-det'+'ail/#detai'+'l-oriented'+'\x0a\x20\x20\x20\x20fn\x20bl'+'endNormals'+'(inN1:\x20vec'+'3f,\x20inN2:\x20'+'vec3f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'n1:\x20vec3f\x20'+'=\x20inN1\x20+\x20v'+'ec3f(0.0,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20n2:\x20vec'+'3f\x20=\x20inN2\x20'+'*\x20vec3f(-1'+'.0,\x20-1.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20n1\x20*\x20dot('+'n1,\x20n2)\x20/\x20'+'n1.z\x20-\x20n2;'+'\x0a\x20\x20\x20\x20}\x0a#en'+'dif\x0a\x0afn\x20ge'+'tNormal()\x20'+'{\x0a#ifdef\x20S'+'TD_NORMAL_'+'TEXTURE\x0a\x20\x20'+'\x20\x20var\x20norm'+'alMap:\x20vec'+'3f\x20=\x20{STD_'+'NORMAL_TEX'+'TURE_DECOD'+'E}(texture'+'SampleBias'+'({STD_NORM'+'AL_TEXTURE'+'_NAME},\x20{S'+'TD_NORMAL_'+'TEXTURE_NA'+'ME}Sampler'+',\x20{STD_NOR'+'MAL_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias));\x0a'+'\x20\x20\x20\x20normal'+'Map\x20=\x20mix('+'vec3f(0.0,'+'\x200.0,\x201.0)'+',\x20normalMa'+'p,\x20uniform'+'.material_'+'bumpiness)'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_NO'+'RMALDETAIL'+'_TEXTURE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20normalDet'+'ailMap:\x20ve'+'c3f\x20=\x20{STD'+'_NORMALDET'+'AIL_TEXTUR'+'E_DECODE}('+'textureSam'+'pleBias({S'+'TD_NORMALD'+'ETAIL_TEXT'+'URE_NAME},'+'\x20{STD_NORM'+'ALDETAIL_T'+'EXTURE_NAM'+'E}Sampler,'+'\x20{STD_NORM'+'ALDETAIL_T'+'EXTURE_UV}'+(',\x20uniform.'+'textureBia'+'s));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20normalD'+'etailMap\x20='+'\x20mix(vec3f'+'(0.0,\x200.0,'+'\x201.0),\x20nor'+'malDetailM'+'ap,\x20unifor'+'m.material'+'_normalDet'+'ailMapBump'+'iness);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20norm'+'alMap\x20=\x20bl'+'endNormals'+'(normalMap'+',\x20normalDe'+'tailMap);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dNor'+'malW\x20=\x20nor'+'malize(dTB'+'N\x20*\x20normal'+'Map);\x0a#els'+'e\x0a\x20\x20\x20\x20dNor'+'malW\x20=\x20dVe'+'rtexNormal'+'W;\x0a#endif\x0a'+'}\x0a'),qD='\x0auniform\x20m'+'aterial_op'+'acity:\x20f32'+';\x0a\x0afn\x20getO'+'pacity()\x20{'+'\x0a\x20\x20\x20\x20dAlph'+'a\x20=\x20unifor'+'m.material'+'_opacity;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_OPAC'+'ITY_TEXTUR'+'E\x0a\x20\x20\x20\x20dAlp'+'ha\x20=\x20dAlph'+'a\x20*\x20textur'+'eSampleBia'+'s({STD_OPA'+'CITY_TEXTU'+'RE_NAME},\x20'+'{STD_OPACI'+'TY_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'OPACITY_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_OPA'+'CITY_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'OPACITY_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Alpha\x20=\x20dA'+'lpha\x20*\x20cla'+'mp(vVertex'+'Color.{STD'+'_OPACITY_V'+'ERTEX_CHAN'+'NEL},\x200.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',jD='\x0a\x0a#if\x20STD_'+'OPACITY_DI'+'THER\x20==\x20BA'+'YER8\x0a\x20\x20\x20\x20#'+'include\x20\x22b'+'ayerPS\x22\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20blueNo'+'iseJitter:'+'\x20vec4f;\x0a\x0a#'+'if\x20STD_OPA'+'CITY_DITHE'+'R\x20==\x20BLUEN'+'OISE\x0a\x20\x20\x20\x20v'+'ar\x20blueNoi'+'seTex32\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20blueN'+'oiseTex32S'+'ampler\x20:\x20s'+'ampler;\x0a#e'+'ndif\x0a\x0afn\x20o'+'pacityDith'+'er(alpha:\x20'+'f32,\x20id:\x20f'+'32)\x20{\x0a\x20\x20\x20\x20'+'#if\x20STD_OP'+'ACITY_DITH'+'ER\x20==\x20BAYE'+'R8\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20nois'+'e:\x20f32\x20=\x20b'+'ayer8(floo'+'r((pcPosit'+'ion.xy\x20+\x20u'+'niform.blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+')\x20%\x20vec2f('+'8.0)))\x20/\x206'+'4.0;\x0a\x0a\x20\x20\x20\x20'+'#else\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20S'+'TD_OPACITY'+'_DITHER\x20=='+'\x20BLUENOISE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uv\x20'+'=\x20fract(pc'+'Position.x'+'y\x20/\x2032.0\x20+'+'\x20uniform.b'+'lueNoiseJi'+'tter.xy\x20+\x20'+'id);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20noise:\x20f3'+'2\x20=\x20textur'+'eSampleLev'+'el(blueNoi'+'seTex32,\x20b'+'lueNoiseTe'+'x32Sampler'+',\x20uv,\x200.0)'+'.y;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20STD_OPAC'+'ITY_DITHER'+'\x20==\x20IGNNOI'+'SE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ba'+'sed\x20on\x20htt'+'ps://www.i'+'ryoku.com/'+'next-gener'+'ation-post'+'-processin'+'g-in-call-'+'of-duty-ad'+'vanced-war'+'fare/\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20magic\x20=\x20'+'vec3f(0.06'+'711056,\x200.'+'00583715,\x20'+'52.9829189'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20n'+'oise:\x20f32\x20'+'=\x20fract(ma'+'gic.z\x20*\x20fr'+'act(dot(pc'+'Position.x'+'y\x20+\x20unifor'+'m.blueNois'+'eJitter.xy'+'\x20+\x20id,\x20mag'+('ic.xy)));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20conve'+'rt\x20the\x20noi'+'se\x20to\x20line'+'ar\x20space,\x20'+'as\x20that\x20is'+'\x20specified'+'\x20in\x20sRGB\x20s'+'pace\x20(stor'+'es\x20percept'+'ual\x20values'+')\x0a\x20\x20\x20\x20nois'+'e\x20=\x20pow(no'+'ise,\x202.2);'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'alpha\x20<\x20no'+'ise)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20disca'+'rd;\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),YD='\x0a',KD='\x0a\x0a#if\x20LIT_'+'BLEND_TYPE'+'\x20==\x20NORMAL'+'\x20||\x20LIT_BL'+'END_TYPE\x20='+'=\x20ADDITIVE'+'ALPHA\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x0a'+'\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'vec4f(outp'+'ut.color.r'+'gb,\x20litArg'+'s_opacity)'+';\x0a\x0a#elif\x20L'+'IT_BLEND_T'+'YPE\x20==\x20PRE'+'MULTIPLIED'+'\x0a\x0a\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(out'+'put.color.'+'rgb\x20*\x20litA'+'rgs_opacit'+'y,\x20litArgs'+'_opacity);'+'\x0a\x0a#else\x0a\x0a\x20'+'\x20\x20\x20output.'+'color\x20=\x20ve'+'c4f(output'+'.color.rgb'+',\x201.0);\x0a\x0a#'+'endif\x0a',ZD='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0avar\x20sour'+'ce:\x20textur'+'e_2d<f32>;'+'\x0avar\x20sourc'+'eSampler:\x20'+'sampler;\x0a\x0a'+'@fragment\x20'+'fn\x20fragmen'+'tMain(inpu'+'t\x20:\x20Fragme'+'ntInput)\x20-'+'>\x20Fragment'+'Output\x20{\x0a\x20'+'\x20\x20\x20var\x20out'+'put:\x20Fragm'+'entOutput;'+'\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'textureSam'+'ple(source'+',\x20sourceSa'+'mpler,\x20inp'+'ut.vUv0);\x0a'+'\x20\x20\x20\x20return'+'\x20output;\x0a}'+'\x0a',QD='\x0a\x0auniform\x20'+'material_s'+'heen:\x20vec3'+'f;\x0a\x0afn\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20var\x20sh'+'eenColor\x20='+'\x20uniform.m'+'aterial_sh'+'een;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEEN_TEX'+'TURE\x0a\x20\x20\x20\x20s'+'heenColor\x20'+'=\x20sheenCol'+'or\x20*\x20{STD_'+'SHEEN_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_SHEEN'+'_TEXTURE_N'+'AME},\x20{STD'+'_SHEEN_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_SHEEN_'+'TEXTURE_UV'+'},\x20uniform'+'.textureBi'+'as)).{STD_'+'SHEEN_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEEN_VER'+'TEX\x0a\x20\x20\x20\x20sh'+'eenColor\x20='+'\x20sheenColo'+'r\x20*\x20satura'+'te3(vVerte'+'xColor.{ST'+'D_SHEEN_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20sSpecula'+'rity\x20=\x20she'+'enColor;\x0a}'+'\x0a',JD='\x0auniform\x20m'+'aterial_sh'+'eenGloss:\x20'+'f32;\x0a\x0afn\x20g'+'etSheenGlo'+'ssiness()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'sheenGloss'+'iness\x20=\x20un'+'iform.mate'+'rial_sheen'+'Gloss;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_SHEENGL'+'OSS_TEXTUR'+'E\x0a\x20\x20\x20\x20shee'+'nGlossines'+'s\x20=\x20sheenG'+'lossiness\x20'+'*\x20textureS'+'ampleBias('+'{STD_SHEEN'+'GLOSS_TEXT'+'URE_NAME},'+'\x20{STD_SHEE'+'NGLOSS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_UV},\x20un'+'iform.text'+'ureBias).{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20sheenGlo'+'ssiness\x20=\x20'+'sheenGloss'+'iness\x20*\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SHEEN'+'GLOSS_VERT'+'EX_CHANNEL'+'});\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEENGLOS'+'S_INVERT\x0a\x20'+'\x20\x20\x20sheenGl'+'ossiness\x20='+'\x201.0\x20-\x20she'+'enGlossine'+'ss;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'sGlossines'+'s\x20=\x20sheenG'+'lossiness\x20'+'+\x200.000000'+'1;\x0a}\x0a',eI='\x0auniform\x20m'+'aterial_he'+'ightMapFac'+'tor:\x20f32;\x0a'+'\x0afn\x20getPar'+'allax()\x20{\x0a'+'\x20\x20\x20\x20var\x20pa'+'rallaxScal'+'e\x20=\x20unifor'+'m.material'+'_heightMap'+'Factor;\x0a\x0a\x20'+'\x20\x20\x20var\x20hei'+'ght:\x20f32\x20='+'\x20textureSa'+'mpleBias({'+'STD_HEIGHT'+'_TEXTURE_N'+'AME},\x20{STD'+'_HEIGHT_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_HEIGH'+'T_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_HEIGHT_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'height\x20=\x20h'+'eight\x20*\x20pa'+'rallaxScal'+'e\x20-\x20parall'+'axScale\x20*\x20'+'0.5;\x0a\x20\x20\x20\x20v'+'ar\x20viewDir'+'T:\x20vec3f\x20='+'\x20dViewDirW'+'\x20*\x20dTBN;\x0a\x0a'+'\x20\x20\x20\x20viewDi'+'rT.z\x20=\x20vie'+'wDirT.z\x20+\x20'+'0.42;\x0a\x20\x20\x20\x20'+'dUvOffset\x20'+'=\x20height\x20*'+'\x20(viewDirT'+'.xy\x20/\x20view'+'DirT.z);\x0a}'+'\x0a',tI='\x0auniform\x20m'+'eshInstanc'+'eId:\x20u32;\x0a'+'\x0afn\x20getPic'+'kOutput()\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20let\x20i'+'nv:\x20vec4f\x20'+'=\x20vec4f(1.'+'0\x20/\x20255.0)'+';\x0a\x20\x20\x20\x20let\x20'+'shifts:\x20ve'+'c4u\x20=\x20vec4'+'u(16u,\x208u,'+'\x200u,\x2024u);'+'\x0a\x20\x20\x20\x20let\x20c'+'ol:\x20vec4u\x20'+'=\x20(vec4u(u'+'niform.mes'+'hInstanceI'+'d)\x20>>\x20shif'+'ts)\x20&\x20vec4'+'u(0xffu);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4f(col'+')\x20*\x20inv;\x0a}',sI='\x0afn\x20getRef'+'lDir(world'+'Normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2,\x20tbn:\x20ma'+'t3x3f)\x20{\x0a\x20'+'\x20\x20\x20dReflDi'+'rW\x20=\x20norma'+'lize(-refl'+'ect(viewDi'+'r,\x20worldNo'+'rmal));\x0a}\x0a',iI='\x0afn\x20getRef'+'lDir(world'+'Normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2,\x20tbn:\x20ma'+'t3x3f)\x20{\x0a\x20'+'\x20\x20\x20let\x20rou'+'ghness:\x20f3'+'2\x20=\x20sqrt(1'+'.0\x20-\x20min(g'+'loss,\x201.0)'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20directio'+'n:\x20vec2f\x20='+'\x20dAnisotro'+'pyRotation'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cT:\x20vec3f\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3f(direct'+'ion,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cB:\x20vec3f\x20'+'=\x20normaliz'+'e(cross(tb'+'n[2],\x20anis'+'otropicT))'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20anisotrop'+'y:\x20f32\x20=\x20d'+'Anisotropy'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cDirection'+':\x20vec3f\x20=\x20'+'anisotropi'+'cB;\x0a\x20\x20\x20\x20le'+'t\x20anisotro'+'picTangent'+':\x20vec3f\x20=\x20'+'cross(anis'+'otropicDir'+'ection,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20let\x20anis'+'otropicNor'+'mal:\x20vec3f'+'\x20=\x20cross(a'+'nisotropic'+'Tangent,\x20a'+'nisotropic'+'Direction)'+';\x0a\x20\x20\x20\x20let\x20'+'bendFactor'+':\x20f32\x20=\x201.'+'0\x20-\x20anisot'+'ropy\x20*\x20(1.'+'0\x20-\x20roughn'+'ess);\x0a\x20\x20\x20\x20'+'let\x20bendFa'+'ctor4:\x20f32'+'\x20=\x20bendFac'+'tor\x20*\x20bend'+'Factor\x20*\x20b'+'endFactor\x20'+'*\x20bendFact'+'or;\x0a\x20\x20\x20\x20le'+'t\x20bentNorm'+'al:\x20vec3f\x20'+'=\x20normaliz'+'e(mix(norm'+'alize(anis'+'otropicNor'+'mal),\x20norm'+'alize(worl'+'dNormal),\x20'+'bendFactor'+'4));\x0a\x20\x20\x20\x20d'+'ReflDirW\x20='+'\x20reflect(-'+'viewDir,\x20b'+'entNormal)'+';\x0a}',rI='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0afn\x20addRe'+'flectionCC'+'(reflDir:\x20'+'vec3f,\x20glo'+'ss:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20ccRef'+'lection\x20=\x20'+'ccReflecti'+'on\x20+\x20calcR'+'eflection('+'reflDir,\x20g'+'loss);\x0a}\x0a#'+'endif\x0a',aI='\x0avar\x20textu'+'re_cubeMap'+':\x20texture_'+'cube<f32>;'+'\x0avar\x20textu'+'re_cubeMap'+'Sampler:\x20s'+'ampler;\x0aun'+'iform\x20mate'+'rial_refle'+'ctivity:\x20f'+'32;\x0a\x0afn\x20ca'+'lcReflecti'+'on(reflDir'+':\x20vec3f,\x20g'+'loss:\x20f32)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'lookupVec:'+'\x20vec3f\x20=\x20c'+'ubeMapProj'+'ect(reflDi'+'r);\x0a\x20\x20\x20\x20lo'+'okupVec.x\x20'+'=\x20lookupVe'+'c.x\x20*\x20-1.0'+';\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(textureS'+'ample(text'+'ure_cubeMa'+'p,\x20texture'+'_cubeMapSa'+'mpler,\x20loo'+'kupVec));\x0a'+'}\x0a\x0afn\x20addR'+'eflection('+'reflDir:\x20v'+'ec3f,\x20glos'+'s:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20dR'+'eflection\x20'+'+\x20vec4f(ca'+'lcReflecti'+'on(reflDir'+',\x20gloss),\x20'+'uniform.ma'+'terial_ref'+'lectivity)'+';\x0a}\x0a',nI='\x0a#ifndef\x20E'+'NV_ATLAS\x0a\x20'+'\x20\x20\x20#define'+'\x20ENV_ATLAS'+'\x0a\x20\x20\x20\x20var\x20t'+'exture_env'+'Atlas:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20texture_'+'envAtlasSa'+'mpler:\x20sam'+'pler;\x0a#end'+'if\x0a\x0avar\x20te'+'xture_cube'+'Map:\x20textu'+'re_cube<f3'+'2>;\x0avar\x20te'+'xture_cube'+'MapSampler'+':\x20sampler;'+'\x0auniform\x20m'+'aterial_re'+'flectivity'+':\x20f32;\x0a\x0afn'+'\x20calcRefle'+'ction(refl'+'Dir:\x20vec3f'+',\x20gloss:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20dir:\x20ve'+'c3f\x20=\x20cube'+'MapProject'+'(reflDir)\x20'+'*\x20vec3f(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20uv:\x20vec'+'2f\x20=\x20toSph'+'ericalUv(d'+'ir);\x0a\x0a\x20\x20\x20\x20'+'//\x20calcula'+'te\x20roughne'+'ss\x20level\x0a\x20'+'\x20\x20\x20let\x20lev'+'el:\x20f32\x20=\x20'+'saturate(1'+'.0\x20-\x20gloss'+')\x20*\x205.0;\x0a\x20'+'\x20\x20\x20let\x20ile'+'vel:\x20f32\x20='+'\x20floor(lev'+'el);\x0a\x20\x20\x20\x20l'+'et\x20flevel:'+'\x20f32\x20=\x20lev'+'el\x20-\x20ileve'+'l;\x0a\x0a\x20\x20\x20\x20le'+'t\x20sharp:\x20v'+'ec3f\x20=\x20{re'+'flectionCu'+'bemapDecod'+'e}(texture'+'Sample(tex'+'ture_cubeM'+'ap,\x20textur'+'e_cubeMapS'+'ampler,\x20di'+'r));\x0a\x20\x20\x20\x20l'+'et\x20roughA:'+'\x20vec3f\x20=\x20{'+'reflection'+'Decode}(te'+'xtureSampl'+'e(texture_'+'envAtlas,\x20'+'texture_en'+'vAtlasSamp'+'ler,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+')));\x0a\x20\x20\x20\x20l'+'et\x20roughB:'+'\x20vec3f\x20=\x20{'+'reflection'+'Decode}(te'+'xtureSampl'+'e(texture_'+'envAtlas,\x20'+'texture_en'+'vAtlasSamp'+'ler,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+'\x20+\x201.0)));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20process'+'Environmen'+'t(mix(shar'+'p,\x20mix(rou'+('ghA,\x20rough'+'B,\x20flevel)'+',\x20min(leve'+'l,\x201.0)));'+'\x0a}\x0a\x0afn\x20add'+'Reflection'+'(reflDir:\x20'+'vec3f,\x20glo'+'ss:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20=\x20d'+'Reflection'+'\x20+\x20vec4f(c'+'alcReflect'+'ion(reflDi'+'r,\x20gloss),'+'\x20uniform.m'+'aterial_re'+'flectivity'+');\x0a}\x0a'),oI='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0a\x20\x20\x20'+'\x20var\x20textu'+'re_envAtla'+'s:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20te'+'xture_envA'+'tlasSample'+'r:\x20sampler'+';\x0a#endif\x0au'+'niform\x20mat'+'erial_refl'+'ectivity:\x20'+'f32;\x0a\x0a//\x20c'+'alculate\x20m'+'ip\x20level\x20f'+'or\x20shiny\x20r'+'eflection\x20'+'given\x20equi'+'rect\x20coord'+'s\x20uv.\x0afn\x20s'+'hinyMipLev'+'el(uv:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20dx:\x20vec2f'+'\x20=\x20dpdx(uv'+');\x0a\x20\x20\x20\x20let'+'\x20dy:\x20vec2f'+'\x20=\x20dpdy(uv'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20second\x20dF'+'\x20at\x20180\x20de'+'grees\x0a\x20\x20\x20\x20'+'let\x20uv2:\x20v'+'ec2f\x20=\x20vec'+'2f(fract(u'+'v.x\x20+\x200.5)'+',\x20uv.y);\x0a\x20'+'\x20\x20\x20let\x20dx2'+':\x20vec2f\x20=\x20'+'dpdx(uv2);'+'\x0a\x20\x20\x20\x20let\x20d'+'y2:\x20vec2f\x20'+'=\x20dpdy(uv2'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20min\x20of\x20bo'+'th\x20sets\x20of'+'\x20dF\x20to\x20han'+'dle\x20discon'+'tinuity\x20at'+'\x20the\x20azim\x20'+'edge\x0a\x20\x20\x20\x20l'+'et\x20maxd:\x20f'+'32\x20=\x20min(m'+'ax(dot(dx,'+'\x20dx),\x20dot('+'dy,\x20dy)),\x20'+'max(dot(dx'+'2,\x20dx2),\x20d'+'ot(dy2,\x20dy'+'2)));\x0a\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(0.5\x20*\x20'+'log2(maxd)'+'\x20-\x201.0\x20+\x20u'+'niform.tex'+'tureBias,\x20'+'0.0,\x205.0);'+'\x0a}\x0a\x0afn\x20cal'+'cReflectio'+'n(reflDir:'+'\x20vec3f,\x20gl'+'oss:\x20f32)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20d'+'ir:\x20vec3f\x20'+'=\x20cubeMapP'+'roject(ref'+'lDir)\x20*\x20ve'+'c3f(-1.0,\x20'+'1.0,\x201.0);'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20toSpheric'+'alUv(dir);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20r'+'oughness\x20l'+'evel\x0a\x20\x20\x20\x20l'+'et\x20level:\x20'+'f32\x20=\x20satu'+'rate(1.0\x20-'+'\x20gloss)\x20*\x20'+'5.0;\x0a\x20\x20\x20\x20l'+('et\x20ilevel:'+'\x20f32\x20=\x20flo'+'or(level);'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'ccessing\x20t'+'he\x20shiny\x20('+'top\x20level)'+'\x20reflectio'+'n\x20-\x20perfor'+'m\x20manual\x20m'+'ipmap\x20look'+'up\x0a\x20\x20\x20\x20let'+'\x20level2:\x20f'+'32\x20=\x20shiny'+'MipLevel(u'+'v\x20*\x20atlasS'+'ize);\x0a\x20\x20\x20\x20'+'let\x20ilevel'+'2:\x20f32\x20=\x20f'+'loor(level'+'2);\x0a\x0a\x20\x20\x20\x20v'+'ar\x20uv0:\x20ve'+'c2f;\x0a\x20\x20\x20\x20v'+'ar\x20uv1:\x20ve'+'c2f;\x0a\x20\x20\x20\x20v'+'ar\x20weight:'+'\x20f32;\x0a\x20\x20\x20\x20'+'if\x20(ilevel'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v0\x20=\x20mapSh'+'inyUv(uv,\x20'+'ilevel2);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'1\x20=\x20mapShi'+'nyUv(uv,\x20i'+'level2\x20+\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20weight\x20'+'=\x20level2\x20-'+'\x20ilevel2;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20access'+'ing\x20rough\x20'+'reflection'+'\x20-\x20just\x20sa'+'mple\x20the\x20s'+'ame\x20part\x20t'+'wice\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv0\x20=\x20m'+'apRoughnes'+'sUv(uv,\x20il'+'evel);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv1\x20='+'\x20uv0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20weight'+'\x20=\x200.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20l'+'et\x20linearA'+':\x20vec3f\x20=\x20'+'{reflectio'+'nDecode}(t'+'extureSamp'+'le(texture'+'_envAtlas,'+'\x20texture_e'+'nvAtlasSam'+'pler,\x20uv0)'+');\x0a\x20\x20\x20\x20let'+'\x20linearB:\x20'+'vec3f\x20=\x20{r'+'eflectionD'+'ecode}(tex'+'tureSample'+'(texture_e'+'nvAtlas,\x20t'+'exture_env'+'AtlasSampl'+'er,\x20uv1));'+'\x0a\x20\x20\x20\x20let\x20l'+'inear0:\x20ve'+'c3f\x20=\x20mix('+'linearA,\x20l'+'inearB,\x20we'+'ight);\x0a\x20\x20\x20'+'\x20let\x20linea'+'r1:\x20vec3f\x20'+'=\x20{reflect'+'ionDecode}'+'(textureSa'+'mple(textu'+'re_envAtla'+'s,\x20texture'+'_envAtlasS'+'ampler,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r')+('eturn\x20proc'+'essEnviron'+'ment(mix(l'+'inear0,\x20li'+'near1,\x20lev'+'el\x20-\x20ileve'+'l));\x0a}\x0a\x0afn'+'\x20addReflec'+'tion(reflD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2)\x20{\x0a\x20\x20\x20\x20d'+'Reflection'+'\x20=\x20dReflec'+'tion\x20+\x20vec'+'4f(calcRef'+'lection(re'+'flDir,\x20glo'+'ss),\x20unifo'+'rm.materia'+'l_reflecti'+'vity);\x0a}\x0a'),lI='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20matri'+'x_view:\x20ma'+'t4x4f;\x0a#en'+'dif\x0a\x0avar\x20t'+'exture_sph'+'ereMap:\x20te'+'xture_2d<f'+'32>;\x0avar\x20t'+'exture_sph'+'ereMapSamp'+'ler:\x20sampl'+'er;\x0aunifor'+'m\x20material'+'_reflectiv'+'ity:\x20f32;\x0a'+'\x0afn\x20calcRe'+'flection(r'+'eflDir:\x20ve'+'c3f,\x20gloss'+':\x20f32)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20view'+'RotationMa'+'trix\x20=\x20mat'+'3x3f(unifo'+'rm.matrix_'+'view[0].xy'+'z,\x20uniform'+'.matrix_vi'+'ew[1].xyz,'+'\x20uniform.m'+'atrix_view'+'[2].xyz);\x0a'+'\x20\x20\x20\x20let\x20re'+'flDirV:\x20ve'+'c3f\x20=\x20view'+'RotationMa'+'trix\x20*\x20ref'+'lDir;\x0a\x0a\x20\x20\x20'+'\x20let\x20m:\x20f3'+'2\x20=\x202.0\x20*\x20'+'sqrt(dot(r'+'eflDirV.xy'+',\x20reflDirV'+'.xy)\x20+\x20(re'+'flDirV.z\x20+'+'\x201.0)\x20*\x20(r'+'eflDirV.z\x20'+'+\x201.0));\x0a\x20'+'\x20\x20\x20let\x20sph'+'ereMapUv:\x20'+'vec2f\x20=\x20re'+'flDirV.xy\x20'+'/\x20m\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(textureS'+'ample(text'+'ure_sphere'+'Map,\x20textu'+'re_sphereM'+'apSampler,'+'\x20sphereMap'+'Uv));\x0a}\x0a\x0af'+'n\x20addRefle'+'ction(refl'+'Dir:\x20vec3f'+',\x20gloss:\x20f'+'32)\x20{\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20dRefle'+'ction\x20+\x20ve'+'c4f(calcRe'+'flection(r'+'eflDir,\x20gl'+'oss),\x20unif'+'orm.materi'+'al_reflect'+'ivity);\x0a}\x0a',cI='\x0a\x0afn\x20addRe'+'flectionSh'+'een(worldN'+'ormal:\x20vec'+'3f,\x20viewDi'+'r:\x20vec3f,\x20'+'gloss:\x20f32'+')\x20{\x0a\x20\x20\x20\x20le'+'t\x20NoV:\x20f32'+'\x20=\x20dot(wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20let\x20al'+'phaG:\x20f32\x20'+'=\x20gloss\x20*\x20'+'gloss;\x0a\x0a\x20\x20'+'\x20\x20//\x20Avoid'+'\x20using\x20a\x20L'+'UT\x20and\x20app'+'roximate\x20t'+'he\x20values\x20'+'analytical'+'ly\x0a\x20\x20\x20\x20let'+'\x20a:\x20f32\x20=\x20'+'select(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20-339.2\x20*'+'\x20alphaG\x20+\x20'+'161.4\x20*\x20gl'+'oss\x20-\x2025.9'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gloss\x20<\x200.'+'25\x0a\x20\x20\x20\x20);\x0a'+'\x20\x20\x20\x20let\x20b:'+'\x20f32\x20=\x20sel'+'ect(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.97\x20*\x20'+'alphaG\x20-\x203'+'.27\x20*\x20glos'+'s\x20+\x200.72,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x2044'+'.0\x20*\x20alpha'+'G\x20-\x2023.7\x20*'+'\x20gloss\x20+\x203'+'.26,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss\x20<'+'\x200.25\x0a\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20let'+'\x20dg_add:\x20f'+'32\x20=\x20selec'+'t(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x200.1\x20*\x20(\x20g'+'loss\x20-\x200.2'+'5\x20),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x200.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20glos'+'s\x20<\x200.25\x0a\x20'+'\x20\x20\x20);\x0a\x20\x20\x20\x20'+'let\x20dg:\x20f3'+'2\x20=\x20exp(\x20a'+'\x20*\x20NoV\x20+\x20b'+'\x20)\x20+\x20dg_ad'+'d;\x0a\x20\x20\x20\x20sRe'+'flection\x20='+'\x20sReflecti'+'on\x20+\x20(calc'+'Reflection'+'(worldNorm'+'al,\x200.0)\x20*'+'\x20saturate('+'dg));\x0a}',hI='\x0afn\x20refrac'+'t2(viewVec'+':\x20vec3f,\x20n'+'ormal:\x20vec'+'3f,\x20IOR:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20vn:\x20f32'+'\x20=\x20dot(vie'+'wVec,\x20norm'+'al);\x0a\x20\x20\x20\x20l'+'et\x20k:\x20f32\x20'+'=\x201.0\x20-\x20IO'+'R\x20*\x20IOR\x20*\x20'+'(1.0\x20-\x20vn\x20'+'*\x20vn);\x0a\x20\x20\x20'+'\x20let\x20refrV'+'ec:\x20vec3f\x20'+'=\x20IOR\x20*\x20vi'+'ewVec\x20-\x20(I'+'OR\x20*\x20vn\x20+\x20'+'sqrt(k))\x20*'+'\x20normal;\x0a\x20'+'\x20\x20\x20return\x20'+'refrVec;\x0a}'+'\x0a\x0afn\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20worldN'+'ormal:\x20vec'+'3f,\x0a\x20\x20\x20\x20vi'+'ewDir:\x20vec'+'3f,\x0a\x20\x20\x20\x20th'+'ickness:\x20f'+'32,\x0a\x20\x20\x20\x20gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f,\x0a\x20\x20\x20\x20al'+'bedo:\x20vec3'+'f,\x0a\x20\x20\x20\x20tra'+'nsmission:'+'\x20f32,\x0a\x20\x20\x20\x20'+'refraction'+'Index:\x20f32'+',\x0a\x20\x20\x20\x20disp'+'ersion:\x20f3'+'2\x0a#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20,\x20iri'+'descenceFr'+'esnel:\x20vec'+'3f,\x0a\x20\x20\x20\x20ir'+'idescenceI'+'ntensity:\x20'+'f32\x0a#endif'+'\x0a)\x20{\x0a\x20\x20\x20\x20/'+'/\x20use\x20same'+'\x20reflectio'+'n\x20code\x20wit'+'h\x20refracti'+'on\x20vector\x0a'+'\x20\x20\x20\x20let\x20tm'+'pRefl:\x20vec'+'4f\x20=\x20dRefl'+'ection;\x0a\x20\x20'+'\x20\x20let\x20refl'+'ectionDir:'+'\x20vec3f\x20=\x20r'+'efract2(-v'+'iewDir,\x20wo'+'rldNormal,'+'\x20refractio'+'nIndex);\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4f(0.0);\x0a\x20'+'\x20\x20\x20addRefl'+'ection(ref'+'lectionDir'+',\x20gloss);\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'mix(dDiffu'+'seLight,\x20d'+'Reflection'+'.rgb\x20*\x20alb'+'edo,\x20trans'+'mission);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20tm'+'pRefl;\x0a}\x0a',dI='\x0auniform\x20m'+'aterial_in'+'vAttenuati'+'onDistance'+':\x20f32;\x0auni'+'form\x20mater'+'ial_attenu'+'ation:\x20vec'+'3f;\x0a\x0afn\x20ev'+'alRefracti'+'onColor(re'+'fractionVe'+'ctor:\x20vec3'+'f,\x20gloss:\x20'+'f32,\x20refra'+'ctionIndex'+':\x20f32)\x20->\x20'+'vec3f\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20The\x20'+'refraction'+'\x20point\x20is\x20'+'the\x20entry\x20'+'point\x20+\x20ve'+'ctor\x20to\x20ex'+'it\x20point\x0a\x20'+'\x20\x20\x20let\x20poi'+'ntOfRefrac'+'tion:\x20vec4'+'f\x20=\x20vec4f('+'vPositionW'+'\x20+\x20refract'+'ionVector,'+'\x201.0);\x0a\x0a\x20\x20'+'\x20\x20//\x20Proje'+'ct\x20to\x20text'+'ure\x20space\x20'+'so\x20we\x20can\x20'+'sample\x20it\x0a'+'\x20\x20\x20\x20let\x20pr'+'ojectionPo'+'int:\x20vec4f'+'\x20=\x20uniform'+'.matrix_vi'+'ewProjecti'+'on\x20*\x20point'+'OfRefracti'+'on;\x0a\x0a\x20\x20\x20\x20/'+'/\x20use\x20buil'+'t-in\x20getGr'+'abScreenPo'+'s\x20function'+'\x20to\x20conver'+'t\x20screen\x20p'+'osition\x20to'+'\x20grab\x20text'+'ure\x20uv\x20coo'+'rds\x0a\x20\x20\x20\x20le'+'t\x20uv:\x20vec2'+'f\x20=\x20getGra'+'bScreenPos'+'(projectio'+'nPoint);\x0a\x0a'+'\x20\x20\x20\x20//\x20Use'+'\x20IOR\x20and\x20r'+'oughness\x20t'+'o\x20select\x20m'+'ip\x0a\x20\x20\x20\x20let'+'\x20iorToRoug'+'hness:\x20f32'+'\x20=\x20(1.0\x20-\x20'+'gloss)\x20*\x20c'+'lamp((1.0\x20'+'/\x20refracti'+'onIndex)\x20*'+'\x202.0\x20-\x202.0'+',\x200.0,\x201.0'+');\x0a\x20\x20\x20\x20let'+'\x20refractio'+'nLod:\x20f32\x20'+'=\x20log2(uni'+'form.uScre'+'enSize.x)\x20'+'*\x20iorToRou'+'ghness;\x0a\x20\x20'+'\x20\x20let\x20refr'+'action:\x20ve'+'c3f\x20=\x20text'+'ureSampleL'+'evel(uScen'+'eColorMap,'+'\x20uSceneCol'+'orMapSampl'+'er,\x20uv,\x20re'+'fractionLo'+'d).rgb;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'refraction'+';\x0a}\x0a\x0afn\x20ad'+'dRefractio'+'n(\x0a\x20\x20\x20\x20wor'+('ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20viewDir:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20thickness'+':\x20f32,\x0a\x20\x20\x20'+'\x20gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20spe'+'cularity:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20albedo:\x20v'+'ec3f,\x0a\x20\x20\x20\x20'+'transmissi'+'on:\x20f32,\x0a\x20'+'\x20\x20\x20refract'+'ionIndex:\x20'+'f32,\x0a\x20\x20\x20\x20d'+'ispersion:'+'\x20f32,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20i'+'ridescence'+'Fresnel:\x20v'+'ec3f,\x0a\x20\x20\x20\x20'+'iridescenc'+'eIntensity'+':\x20f32\x0a#end'+'if\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20Extra'+'ct\x20scale\x20f'+'rom\x20the\x20mo'+'del\x20transf'+'orm\x0a\x20\x20\x20\x20va'+'r\x20modelSca'+'le:\x20vec3f;'+'\x0a\x20\x20\x20\x20model'+'Scale.x\x20=\x20'+'length(uni'+'form.matri'+'x_model[0]'+'.xyz);\x0a\x20\x20\x20'+'\x20modelScal'+'e.y\x20=\x20leng'+'th(uniform'+'.matrix_mo'+'del[1].xyz'+');\x0a\x20\x20\x20\x20mod'+'elScale.z\x20'+'=\x20length(u'+'niform.mat'+'rix_model['+'2].xyz);\x0a\x0a'+'\x20\x20\x20\x20//\x20Cal'+'culate\x20the'+'\x20refractio'+'n\x20vector,\x20'+'scaled\x20by\x20'+'the\x20thickn'+'ess\x20and\x20sc'+'ale\x20of\x20the'+'\x20object\x0a\x20\x20'+'\x20\x20let\x20scal'+'e:\x20vec3f\x20='+'\x20thickness'+'\x20*\x20modelSc'+'ale;\x0a\x20\x20\x20\x20v'+'ar\x20refract'+'ionVector\x20'+'=\x20normaliz'+'e(refract('+'-viewDir,\x20'+'worldNorma'+'l,\x20refract'+'ionIndex))'+'\x20*\x20scale;\x0a'+'\x20\x20\x20\x20var\x20re'+'fraction\x20='+'\x20evalRefra'+'ctionColor'+'(refractio'+'nVector,\x20g'+'loss,\x20refr'+'actionInde'+'x);\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'DISPERSION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20based\x20on'+'\x20the\x20dispe'+'rsion\x20mate'+'rial\x20prope'+'rty,\x20calcu'+'late\x20modif'+'ied\x20refrac'+'tion\x20index'+'\x20values\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20f'+'or\x20R\x20and\x20B'+'\x20channels\x20')+('and\x20evalua'+'te\x20the\x20ref'+'raction\x20co'+'lor\x20for\x20th'+'em.\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20half'+'Spread:\x20f3'+'2\x20=\x20(1.0\x20/'+'\x20refractio'+'nIndex\x20-\x201'+'.0)\x20*\x200.02'+'5\x20*\x20disper'+'sion;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20r'+'efractionI'+'ndexR:\x20f32'+'\x20=\x20refract'+'ionIndex\x20-'+'\x20halfSprea'+'d;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20refractio'+'nVector\x20=\x20'+'normalize('+'refract(-v'+'iewDir,\x20wo'+'rldNormal,'+'\x20refractio'+'nIndexR))\x20'+'*\x20scale;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ref'+'raction.r\x20'+'=\x20evalRefr'+'actionColo'+'r(refracti'+'onVector,\x20'+'gloss,\x20ref'+'ractionInd'+'exR).r;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20refractio'+'nIndexB:\x20f'+'32\x20=\x20refra'+'ctionIndex'+'\x20+\x20halfSpr'+'ead;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20refract'+'ionVector\x20'+'=\x20normaliz'+'e(refract('+'-viewDir,\x20'+'worldNorma'+'l,\x20refract'+'ionIndexB)'+')\x20*\x20scale;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'efraction.'+'b\x20=\x20evalRe'+'fractionCo'+'lor(refrac'+'tionVector'+',\x20gloss,\x20r'+'efractionI'+'ndexB).b;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20T'+'ransmittan'+'ce\x20is\x20our\x20'+'final\x20refr'+'action\x20col'+'or\x0a\x20\x20\x20\x20var'+'\x20transmitt'+'ance:\x20vec3'+'f;\x0a\x20\x20\x20\x20if\x20'+'(uniform.m'+'aterial_in'+'vAttenuati'+'onDistance'+'\x20!=\x200.0)\x0a\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20att'+'enuation:\x20'+'vec3f\x20=\x20-l'+'og(uniform'+'.material_'+'attenuatio'+'n)\x20*\x20unifo'+'rm.materia'+'l_invAtten'+'uationDist'+'ance;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20transm'+'ittance\x20=\x20'+'exp(-atten'+'uation\x20*\x20l'+'ength(refr'+'actionVect'+'or));\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20trans')+('mittance\x20='+'\x20refractio'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20fresnel'+'\x20effect\x20on'+'\x20refractio'+'n\x0a\x20\x20\x20\x20let\x20'+'fresnel:\x20v'+'ec3f\x20=\x20vec'+'3f(1.0)\x20-\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view'+'Dir,\x20world'+'Normal),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'specularit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20iride'+'scenceInte'+'nsity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20dDif'+'fuseLight\x20'+'=\x20mix(dDif'+'fuseLight,'+'\x20refractio'+'n\x20*\x20transm'+'ittance\x20*\x20'+'fresnel,\x20t'+'ransmissio'+'n);\x0a}\x0a'),fI='\x0a\x0avarying\x20'+'vUv0:\x20vec2'+'f;\x0a\x0a#ifdef'+'\x20CUBEMAP_S'+'OURCE\x0a\x20\x20\x20\x20'+'var\x20source'+'Cube:\x20text'+'ure_cube<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20sourceC'+'ubeSampler'+'\x20:\x20sampler'+';\x0a#else\x0a\x20\x20'+'\x20\x20var\x20sour'+'ceTex:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20sourceTe'+'xSampler\x20:'+'\x20sampler;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20//\x20sa'+'mples\x0a\x20\x20\x20\x20'+'var\x20sample'+'sTex:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20samplesTe'+'xSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20samplesT'+'exInverseS'+'ize:\x20vec2f'+';\x0a#endif\x0a\x0a'+'//\x20params:'+'\x0a//\x20x\x20-\x20ta'+'rget\x20cubem'+'ap\x20face\x200.'+'.6\x0a//\x20y\x20-\x20'+'target\x20ima'+'ge\x20total\x20p'+'ixels\x0a//\x20z'+'\x20-\x20source\x20'+'cubemap\x20si'+'ze\x0auniform'+'\x20params:\x20v'+'ec3f;\x0a\x0afn\x20'+'targetFace'+'()\x20->\x20f32\x20'+'{\x20return\x20u'+'niform.par'+'ams.x;\x20}\x0af'+'n\x20targetTo'+'talPixels('+')\x20->\x20f32\x20{'+'\x20return\x20un'+'iform.para'+'ms.y;\x20}\x0afn'+'\x20sourceTot'+'alPixels()'+'\x20->\x20f32\x20{\x20'+'return\x20uni'+'form.param'+'s.z;\x20}\x0a\x0aco'+'nst\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x0afn\x20sat'+'urate(x:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22enc'+'odePS\x22\x0a\x0a//'+'--\x20support'+'ed\x20project'+'ions\x0a\x0afn\x20m'+'odifySeams'+'(dir:\x20vec3'+'f,\x20scale:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20adir\x20='+'\x20abs(dir);'+'\x0a\x20\x20\x20\x20let\x20M'+'\x20=\x20max(max'+'(adir.x,\x20a'+'dir.y),\x20ad'+'ir.z);\x0a\x20\x20\x20'+'\x20return\x20di'+'r\x20/\x20M\x20*\x20ve'+'c3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20select('+('scale,\x201.0'+',\x20adir.x\x20='+'=\x20M),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20select'+'(scale,\x201.'+'0,\x20adir.y\x20'+'==\x20M),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20selec'+'t(scale,\x201'+'.0,\x20adir.z'+'\x20==\x20M)\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0afn\x20'+'toSpherica'+'l(dir:\x20vec'+'3f)\x20->\x20vec'+'2f\x20{\x0a\x20\x20\x20\x20l'+'et\x20nonZero'+'XZ\x20=\x20any(d'+'ir.xz\x20!=\x20v'+'ec2f(0.0,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20return\x20ve'+'c2f(select'+'(0.0,\x20atan'+'2(dir.x,\x20d'+'ir.z),\x20non'+'ZeroXZ),\x20a'+'sin(dir.y)'+');\x0a}\x0a\x0afn\x20f'+'romSpheric'+'al(uv:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20vec3'+'f(cos(uv.y'+')\x20*\x20sin(uv'+'.x),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sin(uv.y)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'s(uv.y)\x20*\x20'+'cos(uv.x))'+';\x0a}\x0a\x0afn\x20ge'+'tDirection'+'Equirect(u'+'v:\x20vec2f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20fromSphe'+'rical((vec'+'2f(uv.x,\x201'+'.0\x20-\x20uv.y)'+'\x20*\x202.0\x20-\x201'+'.0)\x20*\x20vec2'+'f(PI,\x20PI\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20octahe'+'dral\x20code,'+'\x20based\x20on\x20'+'https://jc'+'gt.org/pub'+'lished/000'+'3/02/01/\x0a/'+'/\x20\x22Survey\x20'+'of\x20Efficie'+'nt\x20Represe'+'ntations\x20f'+'or\x20Indepen'+'dent\x20Unit\x20'+'Vectors\x22\x20b'+'y\x20Cigolle,'+'\x20Donow,\x20Ev'+'angelakos,'+'\x20Mara,\x20McG'+'uire,\x20Meye'+'r\x0a\x0afn\x20sign'+'NotZero(k:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20sele'+'ct(-1.0,\x201'+'.0,\x20k\x20>=\x200'+'.0);\x0a}\x0a\x0afn'+'\x20signNotZe'+'roVec2(v:\x20'+'vec2f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec2f(signN'+'otZero(v.x'+'),\x20signNot'+'Zero(v.y))'+';\x0a}\x0a\x0a//\x20Re'+'turns\x20a\x20un'+'it\x20vector.'+'\x20Argument\x20'+'o\x20is\x20an\x20oc'+'tahedral\x20v'+'ector\x20pack')+('ed\x20via\x20oct'+'Encode,\x20on'+'\x20the\x20[-1,\x20'+'+1]\x20square'+'\x0afn\x20octDec'+'ode(o:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20v\x20=\x20vec'+'3f(o.x,\x201.'+'0\x20-\x20abs(o.'+'x)\x20-\x20abs(o'+'.y),\x20o.y);'+'\x0a\x20\x20\x20\x20if\x20(v'+'.y\x20<\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20temp:\x20'+'vec2f\x20=\x20(1'+'.0\x20-\x20abs(v'+'.zx))\x20*\x20si'+'gnNotZeroV'+'ec2(v.xz);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'\x20=\x20vec3f(t'+'emp.x,\x20v.y'+',\x20temp.y);'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20no'+'rmalize(v)'+';\x0a}\x0a\x0afn\x20ge'+'tDirection'+'Octahedral'+'(uv:\x20vec2f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20octDec'+'ode(vec2f('+'uv.x,\x201.0\x20'+'-\x20uv.y)\x20*\x20'+'2.0\x20-\x201.0)'+';\x0a}\x0a\x0a//\x20As'+'sumes\x20that'+'\x20v\x20is\x20a\x20un'+'it\x20vector.'+'\x20The\x20resul'+'t\x20is\x20an\x20oc'+'tahedral\x20v'+'ector\x20on\x20t'+'he\x20[-1,\x20+1'+']\x20square\x0af'+'n\x20octEncod'+'e(v:\x20vec3f'+')\x20->\x20vec2f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20l1norm\x20=\x20'+'abs(v.x)\x20+'+'\x20abs(v.y)\x20'+'+\x20abs(v.z)'+';\x0a\x20\x20\x20\x20var\x20'+'result\x20=\x20v'+'.xz\x20*\x20(1.0'+'\x20/\x20l1norm)'+';\x0a\x20\x20\x20\x20if\x20('+'v.y\x20<\x200.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20result\x20=\x20'+'(1.0\x20-\x20abs'+'(result.yx'+'))\x20*\x20signN'+'otZeroVec2'+'(result.xy'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'+'\x0a/////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'\x0a\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20fn'+'\x20sampleCub'+'emapDir(di'+'r:\x20vec3f)\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20text'+'ureSample('+'sourceCube'+',\x20sourceCu'+'beSampler,'+'\x20modifySea'+'ms(dir,\x201.'+'0));\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20s'+'ampleCubem'+'apSph(sph:')+('\x20vec2f)\x20->'+'\x20vec4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20sample'+'CubemapDir'+'(fromSpher'+'ical(sph))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20samp'+'leCubemapD'+'irLod(dir:'+'\x20vec3f,\x20mi'+'pLevel:\x20f3'+'2)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'extureSamp'+'leLevel(so'+'urceCube,\x20'+'sourceCube'+'Sampler,\x20m'+'odifySeams'+'(dir,\x201.0)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleCubemap'+'SphLod(sph'+':\x20vec2f,\x20m'+'ipLevel:\x20f'+'32)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'sampleCube'+'mapDirLod('+'fromSpheri'+'cal(sph),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a#el'+'se\x0a\x0a\x20\x20\x20\x20fn'+'\x20sampleEqu'+'irectSph(s'+'ph:\x20vec2f)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20uv\x20=\x20s'+'ph\x20/\x20vec2f'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'tureSample'+'(sourceTex'+',\x20sourceTe'+'xSampler,\x20'+'vec2f(uv.x'+',\x201.0\x20-\x20uv'+'.y));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20fn\x20'+'sampleEqui'+'rectDir(di'+'r:\x20vec3f)\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leEquirect'+'Sph(toSphe'+'rical(dir)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleEquirec'+'tSphLod(sp'+'h:\x20vec2f,\x20'+'mipLevel:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20uv'+'\x20=\x20sph\x20/\x20v'+'ec2f(PI\x20*\x20'+'2.0,\x20PI)\x20+'+'\x200.5;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20textureSa'+'mpleLevel('+'sourceTex,'+'\x20sourceTex'+'Sampler,\x20v'+'ec2f(uv.x,'+'\x201.0\x20-\x20uv.'+'y),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20s'+'ampleEquir'+'ectDirLod('+'dir:\x20vec3f'+',\x20mipLevel'+':\x20f32)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleE')+('quirectSph'+'Lod(toSphe'+'rical(dir)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleOctahed'+'ralDir(dir'+':\x20vec3f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20uv\x20=\x20oct'+'Encode(dir'+')\x20*\x200.5\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'textureSam'+'ple(source'+'Tex,\x20sourc'+'eTexSample'+'r,\x20vec2f(u'+'v.x,\x201.0\x20-'+'\x20uv.y));\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'fn\x20sampleO'+'ctahedralS'+'ph(sph:\x20ve'+'c2f)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleOct'+'ahedralDir'+'(fromSpher'+'ical(sph))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20samp'+'leOctahedr'+'alDirLod(d'+'ir:\x20vec3f,'+'\x20mipLevel:'+'\x20f32)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20u'+'v\x20=\x20octEnc'+'ode(dir)\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'tureSample'+'Level(sour'+'ceTex,\x20sou'+'rceTexSamp'+'ler,\x20vec2f'+'(uv.x,\x201.0'+'\x20-\x20uv.y),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20fn\x20sampl'+'eOctahedra'+'lSphLod(sp'+'h:\x20vec2f,\x20'+'mipLevel:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleOct'+'ahedralDir'+'Lod(fromSp'+'herical(sp'+'h),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a#endif\x0a\x0a'+'fn\x20getDire'+'ctionCubem'+'ap(uv:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20st\x20=\x20uv'+'\x20*\x202.0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20le'+'t\x20face\x20=\x20t'+'argetFace('+');\x0a\x0a\x20\x20\x20\x20va'+'r\x20vec:\x20vec'+'3f;\x0a\x20\x20\x20\x20if'+'\x20(face\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(1,\x20'+'-st.y,\x20-st'+'.x);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x201.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3f(-1,\x20-'+'st.y,\x20st.x'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(fa'+'ce\x20==\x202.0)')+('\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec\x20=\x20vec'+'3f(st.x,\x201'+',\x20st.y);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(face\x20='+'=\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'\x20=\x20vec3f(s'+'t.x,\x20-1,\x20-'+'st.y);\x0a\x20\x20\x20'+'\x20}\x20else\x20if'+'\x20(face\x20==\x20'+'4.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(st.'+'x,\x20-st.y,\x20'+'1);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(-st'+'.x,\x20-st.y,'+'\x20-1);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20normal'+'ize(modify'+'Seams(vec,'+'\x201.0));\x0a}\x0a'+'\x0afn\x20matrix'+'FromVector'+'(n:\x20vec3f)'+'\x20->\x20mat3x3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20a\x20=\x201.0\x20'+'/\x20(1.0\x20+\x20n'+'.z);\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20-n.'+'x\x20*\x20n.y\x20*\x20'+'a;\x0a\x20\x20\x20\x20let'+'\x20b1\x20=\x20vec3'+'f(1.0\x20-\x20n.'+'x\x20*\x20n.x\x20*\x20'+'a,\x20b,\x20-n.x'+');\x0a\x20\x20\x20\x20let'+'\x20b2\x20=\x20vec3'+'f(b,\x201.0\x20-'+'\x20n.y\x20*\x20n.y'+'\x20*\x20a,\x20-n.y'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mat3x3'+'f(b1,\x20b2,\x20'+'n);\x0a}\x0a\x0afn\x20'+'matrixFrom'+'VectorSlow'+'(n:\x20vec3f)'+'\x20->\x20mat3x3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20up\x20=\x20sel'+'ect(vec3f('+'0.0,\x200.0,\x20'+'select(-1.'+'0,\x201.0,\x20n.'+'y\x20>\x200.0)),'+'\x20vec3f(0.0'+',\x201.0,\x200.0'+'),\x20abs(n.y'+')\x20>\x200.0000'+'001);\x0a\x20\x20\x20\x20'+'let\x20x\x20=\x20no'+'rmalize(cr'+'oss(up,\x20n)'+');\x0a\x20\x20\x20\x20let'+'\x20y\x20=\x20cross'+'(n,\x20x);\x0a\x20\x20'+'\x20\x20return\x20m'+'at3x3f(x,\x20'+'y,\x20n);\x0a}\x0a\x0a'+'fn\x20reproje'+'ct(uv:\x20vec'+'2f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20i'+'f\x20({NUM_SA'+'MPLES}\x20<=\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20sing'+'le\x20sample\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}({'+'DECODE_FUN'+'C}({SOURCE'+'_FUNC}Dir('+'{TARGET_FU'+'NC}(uv))))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20mult'+'i\x20sample\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20t\x20=\x20{TARG')+('ET_FUNC}(u'+'v);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20tu\x20='+'\x20dpdx(t);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20tv\x20=\x20dpd'+'y(t);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20r'+'esult\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fo'+'r\x20(var\x20u\x20='+'\x200.0;\x20u\x20<\x20'+'{NUM_SAMPL'+'ES_SQRT};\x20'+'u\x20+=\x201.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20for\x20(v'+'ar\x20v\x20=\x200.0'+';\x20v\x20<\x20{NUM'+'_SAMPLES_S'+'QRT};\x20v\x20+='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20result'+'\x20+=\x20{DECOD'+'E_FUNC}({S'+'OURCE_FUNC'+'}Dir(norma'+'lize(t\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20t'+'u\x20*\x20(u\x20/\x20{'+'NUM_SAMPLE'+'S_SQRT}\x20-\x20'+'0.5)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20tv\x20'+'*\x20(v\x20/\x20{NU'+'M_SAMPLES_'+'SQRT}\x20-\x200.'+'5))));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20{ENC'+'ODE_FUNC}('+'result\x20/\x20('+'{NUM_SAMPL'+'ES_SQRT}\x20*'+'\x20{NUM_SAMP'+'LES_SQRT})'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a\x0aconst\x20un'+'packFloat:'+'\x20vec4f\x20=\x20v'+'ec4f(1.0,\x20'+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x206'+'5025.0,\x201.'+'0\x20/\x20165813'+'75.0);\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20fn\x20un'+'packSample'+'(i:\x20i32,\x20L'+':\x20ptr<func'+'tion,\x20vec3'+'f>,\x20mipLev'+'el:\x20ptr<fu'+'nction,\x20f3'+'2>)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20u\x20'+'=\x20(f32(i\x20*'+'\x204)\x20+\x200.5)'+'\x20*\x20uniform'+'.samplesTe'+'xInverseSi'+'ze.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20v\x20'+'=\x20(floor(u'+')\x20+\x200.5)\x20*'+'\x20uniform.s'+'amplesTexI'+'nverseSize'+'.y;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20raw'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20raw'+'.x\x20=\x20dot(t'+'extureSamp')+('le(samples'+'Tex,\x20sampl'+'esTexSampl'+'er,\x20vec2f('+'u,\x20v)),\x20un'+'packFloat)'+';\x20u\x20+=\x20uni'+'form.sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ra'+'w.y\x20=\x20dot('+'textureSam'+'ple(sample'+'sTex,\x20samp'+'lesTexSamp'+'ler,\x20vec2f'+'(u,\x20v)),\x20u'+'npackFloat'+');\x20u\x20+=\x20un'+'iform.samp'+'lesTexInve'+'rseSize.x;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'aw.z\x20=\x20dot'+'(textureSa'+'mple(sampl'+'esTex,\x20sam'+'plesTexSam'+'pler,\x20vec2'+'f(u,\x20v)),\x20'+'unpackFloa'+'t);\x20u\x20+=\x20u'+'niform.sam'+'plesTexInv'+'erseSize.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'raw.w\x20=\x20do'+'t(textureS'+'ample(samp'+'lesTex,\x20sa'+'mplesTexSa'+'mpler,\x20vec'+'2f(u,\x20v)),'+'\x20unpackFlo'+'at);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20*L\x20=\x20r'+'aw.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*m'+'ipLevel\x20=\x20'+'raw.w\x20*\x208.'+'0;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20con'+'volve\x20an\x20e'+'nvironment'+'\x20given\x20pre'+'-generated'+'\x20samples\x0a\x20'+'\x20\x20\x20fn\x20pref'+'ilterSampl'+'es(uv:\x20vec'+'2f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cons'+'truct\x20vect'+'or\x20space\x20g'+'iven\x20targe'+'t\x20directio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20vecSpa'+'ce\x20=\x20matri'+'xFromVecto'+'rSlow({TAR'+'GET_FUNC}('+'uv));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20L'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20mipLevel:'+'\x20f32;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20r'+'esult\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(var\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20i\x20+=\x201'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unpa'+'ckSample(i'+',\x20&L,\x20&mip'+'Level);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'result\x20+=\x20'+'{DECODE_FU')+('NC}({SOURC'+'E_FUNC}Dir'+'Lod(vecSpa'+'ce\x20*\x20L,\x20mi'+'pLevel))\x20*'+'\x20L.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20to'+'talWeight\x20'+'+=\x20L.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20{ENCOD'+'E_FUNC}(re'+'sult\x20/\x20tot'+'alWeight);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20unwei'+'ghted\x20vers'+'ion\x20of\x20pre'+'filterSamp'+'les\x0a\x20\x20\x20\x20fn'+'\x20prefilter'+'SamplesUnw'+'eighted(uv'+':\x20vec2f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20construct'+'\x20vector\x20sp'+'ace\x20given\x20'+'target\x20dir'+'ection\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20v'+'ecSpace\x20=\x20'+'matrixFrom'+'VectorSlow'+'({TARGET_F'+'UNC}(uv));'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20L:\x20vec'+'3f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20mipL'+'evel:\x20f32;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20result'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20for\x20(va'+'r\x20i\x20=\x200;\x20i'+'\x20<\x20{NUM_SA'+'MPLES};\x20i\x20'+'+=\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'unpackSamp'+'le(i,\x20&L,\x20'+'&mipLevel)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20result'+'\x20+=\x20{DECOD'+'E_FUNC}({S'+'OURCE_FUNC'+'}DirLod(ve'+'cSpace\x20*\x20L'+',\x20mipLevel'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'{ENCODE_FU'+'NC}(result'+'\x20/\x20f32({NU'+'M_SAMPLES}'+'));\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0a@f'+'ragment\x0afn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x20'+'\x20\x20\x20output.'+'color\x20=\x20{P'+'ROCESS_FUN'+'C}(input.v'+'Uv0);\x0a\x20\x20\x20\x20'+'return\x20out'+'put;\x0a}\x0a'),uI='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0aunifo'+'rm\x20uvMod:\x20'+'vec4f;\x0avar'+'ying\x20vUv0:'+'\x20vec2f;\x0a\x0a@'+'vertex\x0afn\x20'+'vertexMain'+'(input:\x20Ve'+'rtexInput)'+'\x20->\x20Vertex'+'Output\x20{\x0a\x20'+'\x20var\x20outpu'+'t:\x20VertexO'+'utput;\x0a\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(input.v'+'ertex_posi'+'tion,\x200.5,'+'\x201.0);\x0a\x20\x20o'+'utput.vUv0'+'\x20=\x20getImag'+'eEffectUV('+'(input.ver'+'tex_positi'+'on\x20*\x200.5\x20+'+'\x20vec2f(0.5'+',\x200.5))\x20*\x20'+'uniform.uv'+'Mod.xy\x20+\x20u'+'niform.uvM'+'od.zw);\x0a\x20\x20'+'return\x20out'+'put;\x0a}\x0a',pI='\x0a\x0avar\x20uSce'+'neDepthMap'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20uSceneD'+'epthMapSam'+'pler:\x20samp'+'ler;\x0a\x0a#ifn'+'def\x20SCREEN'+'SIZE\x0a\x20\x20\x20\x20#'+'define\x20SCR'+'EENSIZE\x0a\x20\x20'+'\x20\x20uniform\x20'+'uScreenSiz'+'e:\x20vec4f;\x0a'+'#endif\x0a\x0a#i'+'fndef\x20VIEW'+'MATRIX\x0a\x20\x20\x20'+'\x20#define\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20unifor'+'m\x20matrix_v'+'iew:\x20mat4x'+'4f;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a\x20\x20\x20\x20'+'#define\x20LI'+'NEARIZE_DE'+'PTH\x0a\x0a\x20\x20\x20\x20#'+'ifndef\x20CAM'+'ERAPLANES\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20CAME'+'RAPLANES\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20camer'+'a_params:\x20'+'vec4f;\x20//\x20'+'x:\x201\x20/\x20cam'+'era_far,\x20\x20'+'\x20\x20\x20\x20y:\x20cam'+'era_far,\x20\x20'+'\x20\x20\x20z:\x20came'+'ra_near,\x20\x20'+'\x20\x20\x20\x20\x20\x20w:\x20i'+'s_ortho\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20fn\x20lin'+'earizeDept'+'h(z:\x20f32)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uniform.c'+'amera_para'+'ms.w\x20==\x200.'+'0)\x20{\x20//\x20Pe'+'rspective\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20('+'uniform.ca'+'mera_param'+'s.z\x20*\x20unif'+'orm.camera'+'_params.y)'+'\x20/\x20(unifor'+'m.camera_p'+'arams.y\x20+\x20'+'z\x20*\x20(unifo'+'rm.camera_'+'params.z\x20-'+'\x20uniform.c'+'amera_para'+'ms.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20unifor'+'m.camera_p'+'arams.z\x20+\x20'+'z\x20*\x20(unifo'+'rm.camera_'+'params.y\x20-'+'\x20uniform.c'+'amera_para'+'ms.z);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a#endif\x0a'+'\x0afn\x20deline'+'arizeDepth'+'(linearDep'+'th:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20if\x20(unif'+'orm.camera'+'_params.w\x20'+'==\x200.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(unif'+'orm.camera'+('_params.y\x20'+'*\x20(uniform'+'.camera_pa'+'rams.z\x20-\x20l'+'inearDepth'+'))\x20/\x20(line'+'arDepth\x20*\x20'+'(uniform.c'+'amera_para'+'ms.z\x20-\x20uni'+'form.camer'+'a_params.y'+'));\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20(linearD'+'epth\x20-\x20uni'+'form.camer'+'a_params.z'+')\x20/\x20(unifo'+'rm.camera_'+'params.y\x20-'+'\x20uniform.c'+'amera_para'+'ms.z);\x0a\x20\x20\x20'+'\x20}\x0a}\x0a\x0a//\x20R'+'etrieves\x20r'+'endered\x20li'+'near\x20camer'+'a\x20depth\x20by'+'\x20UV\x0afn\x20get'+'LinearScre'+'enDepth(uv'+':\x20vec2f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'CENE_DEPTH'+'MAP_LINEAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SCEN'+'E_DEPTHMAP'+'_FLOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20text'+'ureSample('+'uSceneDept'+'hMap,\x20uSce'+'neDepthMap'+'Sampler,\x20u'+'v).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20tex'+'tureSize\x20='+'\x20textureDi'+'mensions(u'+'SceneDepth'+'Map,\x200);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20texel'+':\x20vec2i\x20=\x20'+'vec2i(uv\x20*'+'\x20vec2f(tex'+'tureSize))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20da'+'ta:\x20vec4f\x20'+'=\x20textureL'+'oad(uScene'+'DepthMap,\x20'+'texel,\x200);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20da'+'ta_u32:\x20ve'+'c4u\x20=\x20vec4'+'u(data\x20*\x202'+'55.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20intBits'+':\x20u32\x20=\x20(d'+'ata_u32.r\x20'+'<<\x2024u)\x20|\x20'+'(data_u32.'+'g\x20<<\x2016u)\x20'+'|\x20(data_u3'+'2.b\x20<<\x208u)'+'\x20|\x20data_u3'+'2.a;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20bitca'+'st<f32>(in'+'tBits);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20l'+'inearizeDe'+'pth(textur'+'eSample(uS'+'ceneDepthM')+('ap,\x20uScene'+'DepthMapSa'+'mpler,\x20uv)'+'.r);\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a\x0a#'+'ifndef\x20VER'+'TEXSHADER\x0a'+'\x20\x20\x20\x20//\x20Ret'+'rieves\x20ren'+'dered\x20line'+'ar\x20camera\x20'+'depth\x20unde'+'r\x20the\x20curr'+'ent\x20pixel\x0a'+'\x20\x20\x20\x20fn\x20get'+'LinearScre'+'enDepthFra'+'g()\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20pcP'+'osition.xy'+'\x20*\x20uniform'+'.uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getLinea'+'rScreenDep'+'th(uv);\x0a\x20\x20'+'\x20\x20}\x0a#endif'+'\x0a\x0a//\x20Gener'+'ates\x20linea'+'r\x20camera\x20d'+'epth\x20for\x20t'+'he\x20given\x20w'+'orld\x20posit'+'ion\x0afn\x20get'+'LinearDept'+'h(pos:\x20vec'+'3f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20-(unif'+'orm.matrix'+'_view\x20*\x20ve'+'c4f(pos,\x201'+'.0)).z;\x0a}\x0a'),mI='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x0afn'+'\x20getShadow'+'CascadeInd'+'ex(shadowC'+'ascadeDist'+'ances:\x20vec'+'4f,\x20shadow'+'CascadeCou'+'nt:\x20i32)\x20-'+'>\x20i32\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20dept'+'h\x20in\x200\x20..\x20'+'far\x20plane\x20'+'range\x0a\x20\x20\x20\x20'+'let\x20depth:'+'\x20f32\x20=\x201.0'+'\x20/\x20pcPosit'+'ion.w;\x0a\x0a\x20\x20'+'\x20\x20//\x201.0\x20i'+'f\x20depth\x20>='+'\x20distance,'+'\x200.0\x20other'+'wise\x0a\x20\x20\x20\x20l'+'et\x20compari'+'sons:\x20vec4'+'f\x20=\x20step(s'+'hadowCasca'+'deDistance'+'s,\x20vec4f(d'+'epth));\x0a\x0a\x20'+'\x20\x20\x20//\x20sum\x20'+'is\x20the\x20ind'+'ex\x0a\x20\x20\x20\x20let'+'\x20cascadeIn'+'dex:\x20i32\x20='+'\x20i32(dot(c'+'omparisons'+',\x20vec4f(1.'+'0)));\x0a\x0a\x20\x20\x20'+'\x20//\x20limit\x20'+'to\x20actual\x20'+'number\x20of\x20'+'used\x20casca'+'des\x0a\x20\x20\x20\x20re'+'turn\x20min(c'+'ascadeInde'+'x,\x20shadowC'+'ascadeCoun'+'t\x20-\x201);\x0a}\x0a'+'\x0a//\x20functi'+'on\x20which\x20m'+'odifies\x20ca'+'scade\x20inde'+'x\x20to\x20dithe'+'r\x20between\x20'+'cascades\x0af'+'n\x20ditherSh'+'adowCascad'+'eIndex(cas'+'cadeIndex_'+'in:\x20i32,\x20s'+'hadowCasca'+'deDistance'+'s:\x20vec4f,\x20'+'shadowCasc'+'adeCount:\x20'+'i32,\x20blend'+'Factor:\x20f3'+'2)\x20->\x20i32\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'Use\x20var\x20as'+'\x20cascadeIn'+'dex\x20might\x20'+'be\x20modifie'+'d\x0a\x20\x20\x20\x20var\x20'+'cascadeInd'+'ex:\x20i32\x20=\x20'+'cascadeInd'+'ex_in;\x0a\x20\x20\x20'+'\x20if\x20(casca'+'deIndex\x20<\x20'+'shadowCasc'+'adeCount\x20-'+'\x201)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20cu'+'rrentRange'+'End:\x20f32\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+('\x20transitio'+'nStart:\x20f3'+'2\x20=\x20blendF'+'actor\x20*\x20cu'+'rrentRange'+'End;\x20//\x20St'+'art\x20overla'+'p\x20factor\x20a'+'way\x20from\x20t'+'he\x20end\x20dis'+'tance\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20de'+'pth:\x20f32\x20='+'\x201.0\x20/\x20pcP'+'osition.w;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(depth\x20'+'>\x20transiti'+'onStart)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20a\x20tr'+'ansition\x20f'+'actor\x20(0.0'+'\x20to\x201.0)\x20w'+'ithin\x20the\x20'+'overlap\x20ra'+'nge\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'transition'+'Factor:\x20f3'+'2\x20=\x20smooth'+'step(trans'+'itionStart'+',\x20currentR'+'angeEnd,\x20d'+'epth);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Add\x20pse'+'udo-random'+'\x20dithering'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20TODO'+':\x20replace\x20'+'by\x20user\x20se'+'lectable\x20d'+'ithering\x20m'+'ethod\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20dither:\x20'+'f32\x20=\x20frac'+'t(sin(dot('+'pcPosition'+'.xy,\x20vec2f'+'(12.9898,\x20'+'78.233)))\x20'+'*\x2043758.54'+'53);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(dither\x20<\x20'+'transition'+'Factor)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20casc'+'adeIndex\x20='+'\x20cascadeIn'+'dex\x20+\x201;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20cascadeIn'+'dex;\x0a}\x0a\x0afn'+'\x20fadeShado'+'w(shadowCo'+'ord_in:\x20ve'+'c3f,\x20shado'+'wCascadeDi'+'stances:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20//\x20if\x20the'+'\x20pixel\x20is\x20'+'past\x20the\x20s'+'hadow\x20dist'+'ance,\x20remo'+'ve\x20shadow\x0a'+'\x20\x20\x20\x20//\x20thi'+'s\x20enforces'+'\x20straight\x20'+'line\x20inste'+'ad\x20of\x20corn'+'er\x20of\x20shad'+'ow\x20which\x20m'+'oves\x20when\x20'+'camera\x20rot'+'ates\x0a\x20\x20\x20\x20v'+'ar\x20shadowC'+'oord:\x20vec3'+'f\x20=\x20shadow')+('Coord_in;\x0a'+'\x20\x20\x20\x20let\x20de'+'pth:\x20f32\x20='+'\x201.0\x20/\x20pcP'+'osition.w;'+'\x0a\x20\x20\x20\x20if\x20(d'+'epth\x20>\x20sha'+'dowCascade'+'Distances.'+'w)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20shadowC'+'oord.z\x20=\x20-'+'9999999.0;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'hadowCoord'+';\x0a}\x0a'),_I='\x0a\x0a//\x20-----'+'-\x20VSM\x20Shar'+'ed\x20------\x0a'+'\x0afn\x20linste'+'p(a:\x20f32,\x20'+'b:\x20f32,\x20v:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20/'+'/\x20WGSL\x20sat'+'urate\x20->\x20c'+'lamp\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p((v\x20-\x20a)\x20'+'/\x20(b\x20-\x20a),'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0afn\x20re'+'duceLightB'+'leeding(pM'+'ax:\x20f32,\x20a'+'mount:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'fn\x20chebysh'+'evUpperBou'+'nd(moments'+':\x20vec2f,\x20m'+'ean:\x20f32,\x20'+'minVarianc'+'e:\x20f32,\x20li'+'ghtBleedin'+'gReduction'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'//\x20Compute'+'\x20variance\x0a'+'\x20\x20\x20\x20var\x20va'+'riance:\x20f3'+'2\x20=\x20moment'+'s.y\x20-\x20(mom'+'ents.x\x20*\x20m'+'oments.x);'+'\x0a\x20\x20\x20\x20varia'+'nce\x20=\x20max('+'variance,\x20'+'minVarianc'+'e);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Compute\x20'+'probabilis'+'tic\x20upper\x20'+'bound\x0a\x20\x20\x20\x20'+'let\x20d:\x20f32'+'\x20=\x20mean\x20-\x20'+'moments.x;'+'\x0a\x20\x20\x20\x20var\x20p'+'Max:\x20f32\x20='+'\x20variance\x20'+'/\x20(varianc'+'e\x20+\x20(d\x20*\x20d'+'));\x0a\x0a\x20\x20\x20\x20p'+'Max\x20=\x20redu'+'ceLightBle'+'eding(pMax'+',\x20lightBle'+'edingReduc'+'tion);\x0a\x0a\x20\x20'+'\x20\x20//\x20One-t'+'ailed\x20Cheb'+'yshev\x0a\x20\x20\x20\x20'+'return\x20sel'+'ect(pMax,\x20'+'1.0,\x20mean\x20'+'<=\x20moments'+'.x);\x0a}\x0a\x0afn'+'\x20calculate'+'EVSM(momen'+'ts_in:\x20vec'+'3f,\x20Z_in:\x20'+'f32,\x20vsmBi'+'as:\x20f32,\x20e'+'xponent:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20Z:\x20f32\x20=\x20'+'2.0\x20*\x20Z_in'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20let\x20warp'+'edDepth:\x20f'+'32\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20l'+('et\x20moments'+':\x20vec2f\x20=\x20'+'moments_in'+'.xy\x20+\x20vec2'+'f(warpedDe'+'pth,\x20warpe'+'dDepth*war'+'pedDepth)\x20'+'*\x20(1.0\x20-\x20m'+'oments_in.'+'z);\x0a\x0a\x20\x20\x20\x20l'+'et\x20VSMBias'+':\x20f32\x20=\x20vs'+'mBias;//0.'+'01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20let\x20d'+'epthScale:'+'\x20f32\x20=\x20VSM'+'Bias\x20*\x20exp'+'onent\x20*\x20wa'+'rpedDepth;'+'\x0a\x20\x20\x20\x20let\x20m'+'inVariance'+'1:\x20f32\x20=\x20d'+'epthScale\x20'+'*\x20depthSca'+'le;\x0a\x20\x20\x20\x20re'+'turn\x20cheby'+'shevUpperB'+'ound(momen'+'ts,\x20warped'+'Depth,\x20min'+'Variance1,'+'\x200.1);\x0a}\x0a/'+'/\x20------\x20V'+'SM\x2016\x20----'+'--\x0a\x0afn\x20VSM'+'16(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20texC'+'oords:\x20vec'+'2f,\x20resolu'+'tion:\x20f32,'+'\x20Z:\x20f32,\x20v'+'smBias:\x20f3'+'2,\x20exponen'+'t:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20let\x20momen'+'ts:\x20vec3f\x20'+'=\x20textureS'+'ampleLevel'+'(tex,\x20texS'+'ampler,\x20te'+'xCoords,\x200'+'.0).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'n\x20getShado'+'wVSM16(sha'+'dowMap:\x20te'+'xture_2d<f'+'32>,\x20shado'+'wMapSample'+'r:\x20sampler'+',\x20shadowCo'+'ord:\x20vec3f'+',\x20shadowPa'+'rams:\x20vec4'+'f,\x20exponen'+'t:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20VS'+'M16(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord.xy,\x20s'+'hadowParam'+'s.x,\x20shado'+'wCoord.z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a\x0a'+'fn\x20getShad'+'owSpotVSM1'+'6(shadowMa'+'p:\x20texture'+'_2d<f32>,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler,\x20sha'+'dowCoord:\x20'+'vec3f,\x20sha')+('dowParams:'+'\x20vec4f,\x20ex'+'ponent:\x20f3'+'2,\x20lightDi'+'r:\x20vec3f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20let\x20Z:\x20'+'f32\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20V'+'SM16(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20Z,\x20s'+'hadowParam'+'s.y,\x20expon'+'ent);\x0a}\x0a\x0a/'+'/\x20------\x20V'+'SM\x2032\x20----'+'--\x0a\x0afn\x20VSM'+'32(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20texC'+'oords_in:\x20'+'vec2f,\x20res'+'olution:\x20f'+'32,\x20Z:\x20f32'+',\x20vsmBias:'+'\x20f32,\x20expo'+'nent:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20CAPS_TEX'+'TURE_FLOAT'+'_FILTERABL'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20moment'+'s:\x20vec3f\x20='+'\x20textureSa'+'mpleLevel('+'tex,\x20texSa'+'mpler,\x20tex'+'Coords_in,'+'\x200.0).xyz;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20manual\x20b'+'ilinear\x20fi'+'ltering\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'pixelSize\x20'+':\x20f32\x20=\x201.'+'0\x20/\x20resolu'+'tion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20te'+'xCoords:\x20v'+'ec2f\x20=\x20tex'+'Coords_in\x20'+'-\x20vec2f(pi'+'xelSize);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20s00:\x20vec'+'3f\x20=\x20textu'+'reSampleLe'+'vel(tex,\x20t'+'exSampler,'+'\x20texCoords'+',\x200.0).xyz'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20s10:\x20v'+'ec3f\x20=\x20tex'+'tureSample'+'Level(tex,'+'\x20texSample'+'r,\x20texCoor'+'ds\x20+\x20vec2f'+'(pixelSize'+',\x200.0),\x200.'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'s01:\x20vec3f'+'\x20=\x20texture'+'SampleLeve'+'l(tex,\x20tex'+'Sampler,\x20t'+'exCoords\x20+'+'\x20vec2f(0.0'+',\x20pixelSiz'+'e),\x200.0).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20s11:')+('\x20vec3f\x20=\x20t'+'extureSamp'+'leLevel(te'+'x,\x20texSamp'+'ler,\x20texCo'+'ords\x20+\x20vec'+'2f(pixelSi'+'ze),\x200.0).'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fr:'+'\x20vec2f\x20=\x20f'+'ract(texCo'+'ords\x20*\x20res'+'olution);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20h0:\x20vec3'+'f\x20=\x20mix(s0'+'0,\x20s10,\x20fr'+'.x);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20h1:'+'\x20vec3f\x20=\x20m'+'ix(s01,\x20s1'+'1,\x20fr.x);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20moments:'+'\x20vec3f\x20=\x20m'+'ix(h0,\x20h1,'+'\x20fr.y);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20calculate'+'EVSM(momen'+'ts,\x20Z,\x20vsm'+'Bias,\x20expo'+'nent);\x0a}\x0a\x0a'+'fn\x20getShad'+'owVSM32(sh'+'adowMap:\x20t'+'exture_2d<'+'f32>,\x20shad'+'owMapSampl'+'er:\x20sample'+'r,\x20shadowC'+'oord:\x20vec3'+'f,\x20shadowP'+'arams:\x20vec'+'4f,\x20expone'+'nt:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20V'+'SM32(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afn\x20getSha'+'dowSpotVSM'+'32(shadowM'+'ap:\x20textur'+'e_2d<f32>,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f,\x20e'+'xponent:\x20f'+'32,\x20lightD'+'ir:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20Z:'+'\x20f32\x20=\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20return\x20'+'VSM32(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord.xy,'+'\x20shadowPar'+'ams.x,\x20Z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a'),gI='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afn\x20getS'+'hadowPCF1x'+'1(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec4f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord.xy,'+'\x20shadowCoo'+'rd.z);\x0a}\x0a\x0a'+'fn\x20getShad'+'owSpotPCF1'+'x1(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20textureSa'+'mpleCompar'+'eLevel(sha'+'dowMap,\x20sh'+'adowMapSam'+'pler,\x20shad'+'owCoord.xy'+',\x20shadowCo'+'ord.z);\x0a}\x0a'+'\x0a//\x20-----\x20'+'Omni\x20Sampl'+'ing\x20-----\x0a'+'\x0a//\x20Not\x20su'+'pported\x20on'+'\x20WebGPU\x20de'+'vice\x0a//\x20fn'+'\x20getShadow'+'OmniPCF1x1'+'(shadowMap'+':\x20texture_'+'depth_cube'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f,'+'\x20lightDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a//\x20'+'\x20\x20\x20\x20let\x20sh'+'adowZ:\x20f32'+'\x20=\x20length('+'lightDir)\x20'+'*\x20shadowPa'+'rams.w\x20+\x20s'+'hadowParam'+'s.z;\x0a//\x20\x20\x20'+'\x20\x20return\x20t'+'extureSamp'+'leCompareL'+'evel(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20lightD'+'ir,\x20shadow'+'Z);\x0a//\x20}\x0a',SI='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0afn\x20_getS'+'hadowPCF3x'+'3(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec3f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20let\x20z:\x20'+'f32\x20=\x20shad'+'owCoord.z;'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20shadowCoo'+'rd.xy\x20*\x20sh'+'adowParams'+'.x;\x20//\x201\x20u'+'nit\x20-\x201\x20te'+'xel\x0a\x20\x20\x20\x20le'+'t\x20shadowMa'+'pSizeInv:\x20'+'f32\x20=\x201.0\x20'+'/\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20let\x20base'+'_uv_temp:\x20'+'vec2f\x20=\x20fl'+'oor(uv\x20+\x200'+'.5);\x0a\x20\x20\x20\x20l'+'et\x20s:\x20f32\x20'+'=\x20(uv.x\x20+\x20'+'0.5\x20-\x20base'+'_uv_temp.x'+');\x0a\x20\x20\x20\x20let'+'\x20t:\x20f32\x20=\x20'+'(uv.y\x20+\x200.'+'5\x20-\x20base_u'+'v_temp.y);'+'\x0a\x20\x20\x20\x20let\x20b'+'ase_uv:\x20ve'+'c2f\x20=\x20(bas'+'e_uv_temp\x20'+'-\x20vec2f(0.'+'5))\x20*\x20shad'+'owMapSizeI'+'nv;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20sum:\x20f3'+'2\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20let\x20uw'+'0:\x20f32\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20s);\x0a\x20\x20\x20\x20'+'let\x20uw1:\x20f'+'32\x20=\x20(1.0\x20'+'+\x202.0\x20*\x20s)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20u0_offset'+':\x20f32\x20=\x20(2'+'.0\x20-\x20s)\x20/\x20'+'uw0\x20-\x201.0;'+'\x0a\x20\x20\x20\x20let\x20u'+'1_offset:\x20'+'f32\x20=\x20s\x20/\x20'+'uw1\x20+\x201.0;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'vw0:\x20f32\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t);\x0a\x20\x20'+'\x20\x20let\x20vw1:'+'\x20f32\x20=\x20(1.'+'0\x20+\x202.0\x20*\x20'+'t);\x0a\x0a\x20\x20\x20\x20l'+'et\x20v0_offs'+'et:\x20f32\x20=\x20'+'(2.0\x20-\x20t)\x20'+'/\x20vw0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20let'+'\x20v1_offset'+':\x20f32\x20=\x20t\x20'+'/\x20vw1\x20+\x201.'+'0;\x0a\x0a\x20\x20\x20\x20le'+'t\x20u0:\x20f32\x20'+'=\x20u0_offse'+'t\x20*\x20shadow'+'MapSizeInv'+'\x20+\x20base_uv'+'.x;\x0a\x20\x20\x20\x20le'+'t\x20v0:\x20f32\x20'+'=\x20v0_offse'+'t\x20*\x20shadow'+('MapSizeInv'+'\x20+\x20base_uv'+'.y;\x0a\x0a\x20\x20\x20\x20l'+'et\x20u1:\x20f32'+'\x20=\x20u1_offs'+'et\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20l'+'et\x20v1:\x20f32'+'\x20=\x20v1_offs'+'et\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.y;\x0a\x0a\x20\x20\x20\x20'+'sum\x20=\x20sum\x20'+'+\x20uw0\x20*\x20vw'+'0\x20*\x20textur'+'eSampleCom'+'pareLevel('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20v'+'ec2f(u0,\x20v'+'0),\x20z);\x0a\x20\x20'+'\x20\x20sum\x20=\x20su'+'m\x20+\x20uw1\x20*\x20'+'vw0\x20*\x20text'+'ureSampleC'+'ompareLeve'+'l(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20vec2f(u1,'+'\x20v0),\x20z);\x0a'+'\x20\x20\x20\x20sum\x20=\x20'+'sum\x20+\x20uw0\x20'+'*\x20vw1\x20*\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20vec2f(u'+'0,\x20v1),\x20z)'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20+\x20uw'+'1\x20*\x20vw1\x20*\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20vec2f'+'(u1,\x20v1),\x20'+'z);\x0a\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20*'+'\x20(1.0\x20/\x2016'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20sum;'+'\x0a}\x0a\x0afn\x20get'+'ShadowPCF3'+'x3(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20_getShado'+'wPCF3x3(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a\x0afn\x20getSh'+'adowSpotPC'+'F3x3(shado'+'wMap:\x20text'+'ure_depth_'+'2d,\x20shadow'+'MapSampler'+':\x20sampler_'+'comparison'+',\x20shadowCo'+'ord:\x20vec3f'+',\x20shadowPa'+'rams:\x20vec4'+'f)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF3x3(')+('shadowMap,'+'\x20shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams.xyz);'+'\x0a}\x0a\x0a//\x20---'+'--\x20Omni\x20Sa'+'mpling\x20---'+'--\x0a\x0a//\x20Not'+'\x20currently'+'\x20supported'+'\x20on\x20WebGPU'+'\x20device\x0a//'+'\x20fn\x20getSha'+'dowOmniPCF'+'3x3(shadow'+'Map:\x20textu'+'re_depth_c'+'ube,\x20shado'+'wMapSample'+'r:\x20sampler'+'_compariso'+'n,\x20shadowP'+'arams:\x20vec'+'4f,\x20dir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x0a//\x20\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a//\x20\x20\x20\x20'+'\x20let\x20shado'+'wZ:\x20f32\x20=\x20'+'length(dir'+')\x20*\x20shadow'+'Params.w\x20+'+'\x20shadowPar'+'ams.z;\x0a\x0a//'+'\x20\x20\x20\x20\x20//\x20of'+'fset\x0a//\x20\x20\x20'+'\x20\x20let\x20texS'+'ize_i\x20=\x20te'+'xtureDimen'+'sions(shad'+'owMap,\x200);'+'\x0a//\x20\x20\x20\x20\x20le'+'t\x20z:\x20f32\x20='+'\x201.0\x20/\x20f32'+'(texSize_i'+'.x);\x0a//\x20\x20\x20'+'\x20\x20let\x20tc:\x20'+'vec3f\x20=\x20no'+'rmalize(di'+'r);\x0a\x0a//\x20\x20\x20'+'\x20\x20//\x20avera'+'ge\x204\x20sampl'+'es\x20-\x20not\x20a'+'\x20strict\x203x'+'3\x20PCF\x20but\x20'+'that\x27s\x20tri'+'cky\x20with\x20c'+'ubemaps\x0a//'+'\x20\x20\x20\x20\x20var\x20s'+'hadows:\x20ve'+'c4f;\x0a//\x20\x20\x20'+'\x20\x20shadows.'+'x\x20=\x20textur'+'eSampleCom'+'pareLevel('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20t'+'c\x20+\x20vec3f('+'\x20z,\x20\x20z,\x20\x20z'+'),\x20shadowZ'+');\x0a//\x20\x20\x20\x20\x20'+'shadows.y\x20'+'=\x20textureS'+'ampleCompa'+'reLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20tc\x20'+'+\x20vec3f(-z'+',\x20-z,\x20\x20z),'+'\x20shadowZ);'+'\x0a//\x20\x20\x20\x20\x20sh'+'adows.z\x20=\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20tc\x20+\x20'+'vec3f(-z,\x20'+'\x20z,\x20-z),\x20s'+'hadowZ);\x0a/')+('/\x20\x20\x20\x20\x20shad'+'ows.w\x20=\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20tc\x20+\x20ve'+'c3f(\x20z,\x20-z'+',\x20-z),\x20sha'+'dowZ);\x0a\x0a//'+'\x20\x20\x20\x20\x20retur'+'n\x20dot(shad'+'ows,\x20vec4f'+'(0.25));\x0a/'+'/\x20}\x0a\x0a//\x20fn'+'\x20getShadow'+'OmniPCF3x3'+'_Wrapper(s'+'hadowMap:\x20'+'texture_de'+'pth_cube,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a//\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCF3x3(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20sh'+'adowParams'+',\x20lightDir'+');\x0a//\x20}\x0a'),yI='\x0a//\x20http:/'+'/the-witne'+'ss.net/new'+'s/2013/09/'+'shadow-map'+'ping-summa'+'ry-part-1/'+'\x0afn\x20_getSh'+'adowPCF5x5'+'(shadowMap'+':\x20texture_'+'depth_2d,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20let\x20z:\x20'+'f32\x20=\x20shad'+'owCoord.z;'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20shadowCoo'+'rd.xy\x20*\x20sh'+'adowParams'+'.x;\x20//\x201\x20u'+'nit\x20-\x201\x20te'+'xel\x0a\x20\x20\x20\x20le'+'t\x20shadowMa'+'pSizeInv:\x20'+'f32\x20=\x201.0\x20'+'/\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20let\x20base'+'_uv_temp:\x20'+'vec2f\x20=\x20fl'+'oor(uv\x20+\x200'+'.5);\x0a\x20\x20\x20\x20l'+'et\x20s:\x20f32\x20'+'=\x20(uv.x\x20+\x20'+'0.5\x20-\x20base'+'_uv_temp.x'+');\x0a\x20\x20\x20\x20let'+'\x20t:\x20f32\x20=\x20'+'(uv.y\x20+\x200.'+'5\x20-\x20base_u'+'v_temp.y);'+'\x0a\x20\x20\x20\x20let\x20b'+'ase_uv:\x20ve'+'c2f\x20=\x20(bas'+'e_uv_temp\x20'+'-\x20vec2f(0.'+'5))\x20*\x20shad'+'owMapSizeI'+'nv;\x0a\x0a\x20\x20\x20\x20l'+'et\x20uw0:\x20f3'+'2\x20=\x20(4.0\x20-'+'\x203.0\x20*\x20s);'+'\x0a\x20\x20\x20\x20let\x20u'+'w1:\x20f32\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20l'+'et\x20uw2:\x20f3'+'2\x20=\x20(1.0\x20+'+'\x203.0\x20*\x20s);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'u0_offset:'+'\x20f32\x20=\x20(3.'+'0\x20-\x202.0\x20*\x20'+'s)\x20/\x20uw0\x20-'+'\x202.0;\x0a\x20\x20\x20\x20'+'let\x20u1_off'+'set:\x20f32\x20='+'\x20(3.0\x20+\x20s)'+'\x20/\x20uw1;\x0a\x20\x20'+'\x20\x20let\x20u2_o'+'ffset:\x20f32'+'\x20=\x20s\x20/\x20uw2'+'\x20+\x202.0;\x0a\x0a\x20'+'\x20\x20\x20let\x20vw0'+':\x20f32\x20=\x20(4'+'.0\x20-\x203.0\x20*'+'\x20t);\x0a\x20\x20\x20\x20l'+'et\x20vw1:\x20f3'+'2\x20=\x207.0;\x0a\x20'+'\x20\x20\x20let\x20vw2'+':\x20f32\x20=\x20(1'+'.0\x20+\x203.0\x20*'+'\x20t);\x0a\x0a\x20\x20\x20\x20'+'let\x20v0_off'+'set:\x20f32\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t)\x20/\x20v'+'w0\x20-\x202.0;\x0a'+'\x20\x20\x20\x20let\x20v1'+'_offset:\x20f'+'32\x20=\x20(3.0\x20'+('+\x20t)\x20/\x20vw1'+';\x0a\x20\x20\x20\x20let\x20'+'v2_offset:'+'\x20f32\x20=\x20t\x20/'+'\x20vw2\x20+\x202.0'+';\x0a\x0a\x20\x20\x20\x20var'+'\x20sum:\x20f32\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20let\x20u0:\x20'+'f32\x20=\x20u0_o'+'ffset\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.x;\x0a\x20\x20'+'\x20\x20let\x20v0:\x20'+'f32\x20=\x20v0_o'+'ffset\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.y;\x0a\x0a\x20'+'\x20\x20\x20let\x20u1:'+'\x20f32\x20=\x20u1_'+'offset\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.x;\x0a\x20'+'\x20\x20\x20let\x20v1:'+'\x20f32\x20=\x20v1_'+'offset\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20let\x20u2'+':\x20f32\x20=\x20u2'+'_offset\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.x;\x0a'+'\x20\x20\x20\x20let\x20v2'+':\x20f32\x20=\x20v2'+'_offset\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20sum\x20='+'\x20sum\x20+\x20uw0'+'\x20*\x20vw0\x20*\x20t'+'extureSamp'+'leCompareL'+'evel(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20vec2f('+'u0,\x20v0),\x20z'+');\x0a\x20\x20\x20\x20sum'+'\x20=\x20sum\x20+\x20u'+'w1\x20*\x20vw0\x20*'+'\x20textureSa'+'mpleCompar'+'eLevel(sha'+'dowMap,\x20sh'+'adowMapSam'+'pler,\x20vec2'+'f(u1,\x20v0),'+'\x20z);\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20+'+'\x20uw2\x20*\x20vw0'+'\x20*\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20ve'+'c2f(u2,\x20v0'+'),\x20z);\x0a\x0a\x20\x20'+'\x20\x20sum\x20=\x20su'+'m\x20+\x20uw0\x20*\x20'+'vw1\x20*\x20text'+'ureSampleC'+'ompareLeve'+'l(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20vec2f(u0,'+'\x20v1),\x20z);\x0a'+'\x20\x20\x20\x20sum\x20=\x20'+'sum\x20+\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20vec2f(u'+'1,\x20v1),\x20z)'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20+\x20uw'+'2\x20*\x20vw1\x20*\x20'+'textureSam'+'pleCompare')+('Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20vec2f'+'(u2,\x20v1),\x20'+'z);\x0a\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20+'+'\x20uw0\x20*\x20vw2'+'\x20*\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20ve'+'c2f(u0,\x20v2'+'),\x20z);\x0a\x20\x20\x20'+'\x20sum\x20=\x20sum'+'\x20+\x20uw1\x20*\x20v'+'w2\x20*\x20textu'+'reSampleCo'+'mpareLevel'+'(shadowMap'+',\x20shadowMa'+'pSampler,\x20'+'vec2f(u1,\x20'+'v2),\x20z);\x0a\x20'+'\x20\x20\x20sum\x20=\x20s'+'um\x20+\x20uw2\x20*'+'\x20vw2\x20*\x20tex'+'tureSample'+'CompareLev'+'el(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20vec2f(u2'+',\x20v2),\x20z);'+'\x0a\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20*\x20(1'+'.0\x20/\x20144.0'+');\x0a\x20\x20\x20\x20sum'+'\x20=\x20saturat'+'e(sum);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afn'+'\x20getShadow'+'PCF5x5(sha'+'dowMap:\x20te'+'xture_dept'+'h_2d,\x20shad'+'owMapSampl'+'er:\x20sample'+'r_comparis'+'on,\x20shadow'+'Coord:\x20vec'+'3f,\x20shadow'+'Params:\x20ve'+'c4f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20_getS'+'hadowPCF5x'+'5(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20shadow'+'Params.xyz'+');\x0a}\x0a\x0afn\x20g'+'etShadowSp'+'otPCF5x5(s'+'hadowMap:\x20'+'texture_de'+'pth_2d,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler_compar'+'ison,\x20shad'+'owCoord:\x20v'+'ec3f,\x20shad'+'owParams:\x20'+'vec4f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20_ge'+'tShadowPCF'+'5x5(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20shad'+'owParams.x'+'yz);\x0a}\x0a'),vI='\x0a\x0afn\x20fract'+'SinRand(uv'+':\x20vec2f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20PI:\x20'+'f32\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20l'+'et\x20a:\x20f32\x20'+'=\x2012.9898;'+'\x20let\x20b:\x20f3'+'2\x20=\x2078.233'+';\x20let\x20c:\x20f'+'32\x20=\x2043758'+'.5453;\x0a\x20\x20\x20'+'\x20let\x20dt:\x20f'+'32\x20=\x20dot(u'+'v.xy,\x20vec2'+'f(a,\x20b));\x0a'+'\x20\x20\x20\x20let\x20sn'+':\x20f32\x20=\x20dt'+'\x20%\x20PI;\x0a\x20\x20\x20'+'\x20return\x20fr'+'act(sin(sn'+')\x20*\x20c);\x0a}\x0a'+'\x0a//\x20struct'+'\x20to\x20hold\x20p'+'recomputed'+'\x20constants'+'\x20and\x20curre'+'nt\x20state\x0as'+'truct\x20Voge'+'lDiskData\x20'+'{\x0a\x20\x20\x20\x20invN'+'umSamples:'+'\x20f32,\x0a\x20\x20\x20\x20'+'initialAng'+'le:\x20f32,\x0a\x20'+'\x20\x20\x20current'+'PointId:\x20f'+'32,\x0a}\x0a\x0a//\x20'+'prepare\x20th'+'e\x20Vogel\x20di'+'sk\x20constan'+'ts\x20and\x20ini'+'tialize\x20th'+'e\x20current\x20'+'state\x20in\x20t'+'he\x20struct\x0a'+'fn\x20prepare'+'DiskConsta'+'nts(data:\x20'+'ptr<functi'+'on,\x20VogelD'+'iskData>,\x20'+'sampleCoun'+'t:\x20i32,\x20ra'+'ndomSeed:\x20'+'f32)\x20{\x0a\x20\x20\x20'+'\x20let\x20pi2:\x20'+'f32\x20=\x206.28'+'318530718;'+'\x0a\x20\x20\x20\x20data.'+'invNumSamp'+'les\x20=\x201.0\x20'+'/\x20f32(samp'+'leCount);\x0a'+'\x20\x20\x20\x20data.i'+'nitialAngl'+'e\x20=\x20random'+'Seed\x20*\x20pi2'+';\x0a\x20\x20\x20\x20data'+'.currentPo'+'intId\x20=\x200.'+'0;\x0a}\x0a\x0a\x0afn\x20'+'generateDi'+'skSample(d'+'ata:\x20ptr<f'+'unction,\x20V'+'ogelDiskDa'+'ta>)\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'let\x20GOLDEN'+'_ANGLE:\x20f3'+'2\x20=\x202.3999'+'63;\x0a\x20\x20\x20\x20le'+'t\x20r:\x20f32\x20='+'\x20sqrt((dat'+'a.currentP'+'ointId\x20+\x200'+'.5)\x20*\x20data'+'.invNumSam'+'ples);\x0a\x20\x20\x20'+'\x20let\x20theta'+':\x20f32\x20=\x20da'+'ta.current'+'PointId\x20*\x20'+'GOLDEN_ANG'+'LE\x20+\x20data.'+'initialAng'+('le;\x0a\x0a\x20\x20\x20\x20l'+'et\x20offset:'+'\x20vec2f\x20=\x20v'+'ec2f(cos(t'+'heta),\x20sin'+'(theta))\x20*'+'\x20pow(r,\x201.'+'33);\x0a\x0a\x20\x20\x20\x20'+'data.curre'+'ntPointId\x20'+'=\x20data.cur'+'rentPointI'+'d\x20+\x201.0;\x0a\x20'+'\x20\x20\x20return\x20'+'offset;\x0a}\x0a'+'\x0afn\x20PCSSFi'+'ndBlocker('+'shadowMap:'+'\x20texture_2'+'d<f32>,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler,\x20avgBl'+'ockerDepth'+':\x20ptr<func'+'tion,\x20f32>'+',\x20numBlock'+'ers:\x20ptr<f'+'unction,\x20i'+'32>,\x0a\x20\x20\x20\x20s'+'hadowCoord'+'s:\x20vec2f,\x20'+'z:\x20f32,\x20sh'+'adowBlocke'+'rSamples:\x20'+'i32,\x20penum'+'braSize:\x20f'+'32,\x20invSha'+'dowMapSize'+':\x20f32,\x20ran'+'domSeed:\x20f'+'32)\x20{\x0a\x0a\x20\x20\x20'+'\x20var\x20diskD'+'ata:\x20Vogel'+'DiskData;\x0a'+'\x20\x20\x20\x20prepar'+'eDiskConst'+'ants(&disk'+'Data,\x20shad'+'owBlockerS'+'amples,\x20ra'+'ndomSeed);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'searchWidt'+'h:\x20f32\x20=\x20p'+'enumbraSiz'+'e\x20*\x20invSha'+'dowMapSize'+';\x0a\x20\x20\x20\x20var\x20'+'blockerSum'+':\x20f32\x20=\x200.'+'0;\x0a\x20\x20\x20\x20var'+'\x20numBlocke'+'rs_local:\x20'+'i32\x20=\x200;\x0a\x0a'+'\x20\x20\x20\x20for(\x20v'+'ar\x20i:\x20i32\x20'+'=\x200;\x20i\x20<\x20s'+'hadowBlock'+'erSamples;'+'\x20i\x20=\x20i\x20+\x201'+'\x20)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20dis'+'kUV:\x20vec2f'+'\x20=\x20generat'+'eDiskSampl'+'e(&diskDat'+'a);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20samp'+'leUV:\x20vec2'+'f\x20=\x20shadow'+'Coords\x20+\x20d'+'iskUV\x20*\x20se'+'archWidth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20shadowM'+'apDepth:\x20f'+'32\x20=\x20textu'+'reSampleLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20sampleU'+'V,\x200.0).r;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(\x20shadow'+'MapDepth\x20<'+'\x20z\x20)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20b'+'lockerSum\x20')+('=\x20blockerS'+'um\x20+\x20shado'+'wMapDepth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20numBloc'+'kers_local'+'\x20=\x20numBloc'+'kers_local'+'\x20+\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20*avg'+'BlockerDep'+'th\x20=\x20block'+'erSum\x20/\x20f3'+'2(numBlock'+'ers_local)'+';\x0a\x20\x20\x20\x20*num'+'Blockers\x20='+'\x20numBlocke'+'rs_local;\x0a'+'}\x0a\x0afn\x20PCSS'+'Filter(sha'+'dowMap:\x20te'+'xture_2d<f'+'32>,\x20shado'+'wMapSample'+'r:\x20sampler'+',\x20uv:\x20vec2'+'f,\x20receive'+'rDepth:\x20f3'+'2,\x20shadowS'+'amples:\x20i3'+'2,\x20filterR'+'adius:\x20f32'+',\x20randomSe'+'ed:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20var\x20dis'+'kData:\x20Vog'+'elDiskData'+';\x0a\x20\x20\x20\x20prep'+'areDiskCon'+'stants(&di'+'skData,\x20sh'+'adowSample'+'s,\x20randomS'+'eed);\x0a\x0a\x20\x20\x20'+'\x20var\x20sum:\x20'+'f32\x20=\x200.0;'+'\x0a\x20\x20\x20\x20for\x20('+'var\x20i:\x20i32'+'\x20=\x200;\x20i\x20<\x20'+'shadowSamp'+'les;\x20i\x20=\x20i'+'\x20+\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'offsetUV:\x20'+'vec2f\x20=\x20ge'+'nerateDisk'+'Sample(&di'+'skData)\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20dept'+'h:\x20f32\x20=\x20t'+'extureSamp'+'leLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20uv\x20'+'+\x20offsetUV'+',\x200.0).r;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20su'+'m\x20=\x20sum\x20+\x20'+'step(recei'+'verDepth,\x20'+'depth);\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20sum\x20/'+'\x20f32(shado'+'wSamples);'+'\x0a}\x0a\x0afn\x20get'+'Penumbra(d'+'blocker:\x20f'+'32,\x20drecei'+'ver:\x20f32,\x20'+'penumbraSi'+'ze:\x20f32,\x20p'+'enumbraFal'+'loff:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20di'+'st:\x20f32\x20=\x20'+'dreceiver\x20'+'-\x20dblocker'+';\x0a\x20\x20\x20\x20let\x20'+'penumbra:\x20'+'f32\x20=\x201.0\x20'+'-\x20pow(1.0\x20'+'-\x20dist,\x20pe')+('numbraFall'+'off);\x0a\x20\x20\x20\x20'+'return\x20pen'+'umbra\x20*\x20pe'+'numbraSize'+';\x0a}\x0a\x0afn\x20PC'+'SSDirectio'+'nal(shadow'+'Map:\x20textu'+'re_2d<f32>'+',\x20shadowMa'+'pSampler:\x20'+'sampler,\x20s'+'hadowCoord'+'s:\x20vec3f,\x20'+'cameraPara'+'ms:\x20vec4f,'+'\x20softShado'+'wParams:\x20v'+'ec4f)\x20->\x20f'+'32\x20{\x0a\x0a\x20\x20\x20\x20'+'let\x20receiv'+'erDepth:\x20f'+'32\x20=\x20shado'+'wCoords.z;'+'\x0a\x20\x20\x20\x20let\x20r'+'andomSeed:'+'\x20f32\x20=\x20fra'+'ctSinRand('+'pcPosition'+'.xy);\x0a\x20\x20\x20\x20'+'let\x20shadow'+'Samples:\x20i'+'32\x20=\x20i32(s'+'oftShadowP'+'arams.x);\x0a'+'\x20\x20\x20\x20let\x20sh'+'adowBlocke'+'rSamples:\x20'+'i32\x20=\x20i32('+'softShadow'+'Params.y);'+'\x0a\x20\x20\x20\x20let\x20p'+'enumbraSiz'+'e:\x20f32\x20=\x20s'+'oftShadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20let\x20pen'+'umbraFallo'+'ff:\x20f32\x20=\x20'+'softShadow'+'Params.w;\x0a'+'\x0a\x20\x20\x20\x20let\x20s'+'hadowMapSi'+'ze:\x20i32\x20=\x20'+'i32(textur'+'eDimension'+'s(shadowMa'+'p,\x200).x);\x0a'+'\x20\x20\x20\x20var\x20in'+'vShadowMap'+'Size:\x20f32\x20'+'=\x201.0\x20/\x20f3'+'2(shadowMa'+'pSize);\x0a\x20\x20'+'\x20\x20invShado'+'wMapSize\x20='+'\x20invShadow'+'MapSize\x20*\x20'+'(f32(shado'+'wMapSize)\x20'+'/\x202048.0);'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'penumbra:\x20'+'f32;\x0a\x0a\x20\x20\x20\x20'+'//\x20contact'+'\x20hardening'+'\x20path\x0a\x20\x20\x20\x20'+'if\x20(shadow'+'BlockerSam'+'ples\x20>\x200)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20find\x20a'+'verage\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20avgBloc'+'kerDepth:\x20'+'f32\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20numBloc'+'kers:\x20i32\x20'+'=\x200;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20PCSSFin'+'dBlocker(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20&a'+'vgBlockerD'+'epth,\x20&num')+('Blockers,\x20'+'shadowCoor'+'ds.xy,\x20rec'+'eiverDepth'+',\x20shadowBl'+'ockerSampl'+'es,\x20penumb'+'raSize,\x20in'+'vShadowMap'+'Size,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20early\x20out'+'\x20when\x20no\x20b'+'lockers\x20ar'+'e\x20present\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(numBlock'+'ers\x20<\x201)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20pen'+'umbra\x20size'+'\x20is\x20based\x20'+'on\x20the\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20p'+'enumbra\x20=\x20'+'getPenumbr'+'a(avgBlock'+'erDepth,\x20s'+'hadowCoord'+'s.z,\x20penum'+'braSize,\x20p'+'enumbraFal'+'loff);\x0a\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20constan'+'t\x20filter\x20s'+'ize,\x20no\x20co'+'ntact\x20hard'+'ening\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20penumb'+'ra\x20=\x20penum'+'braSize;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'let\x20filter'+'Radius:\x20f3'+'2\x20=\x20penumb'+'ra\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20filtering'+'\x0a\x20\x20\x20\x20retur'+'n\x20PCSSFilt'+'er(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20shadowCo'+'ords.xy,\x20r'+'eceiverDep'+'th,\x20shadow'+'Samples,\x20f'+'ilterRadiu'+'s,\x20randomS'+'eed);\x0a}\x0a\x0af'+'n\x20getShado'+'wPCSS(shad'+'owMap:\x20tex'+'ture_2d<f3'+'2>,\x20shadow'+'MapSampler'+':\x20sampler,'+'\x20shadowCoo'+'rd:\x20vec3f,'+'\x20shadowPar'+'ams:\x20vec4f'+',\x20cameraPa'+'rams:\x20vec4'+'f,\x20softSha'+'dowParams:'+'\x20vec4f,\x20li'+'ghtDir:\x20ve'+'c3f)\x20->\x20f3'+'2\x20{\x20//\x20lig'+'htDir\x20unus'+'ed?\x20Kept\x20p'+'aram.\x0a\x20\x20\x20\x20'+'return\x20PCS'+'SDirection'+'al(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'oftShadowP')+'arams);\x0a}\x0a',xI='\x0aattribute'+'\x20vertex_bo'+'neIndices:'+'\x20f32;\x0a\x0avar'+'\x20texture_p'+'oseMap:\x20te'+'xture_2d<f'+'32>;\x0a\x0afn\x20g'+'etBoneMatr'+'ix(indexFl'+'oat:\x20f32)\x20'+'->\x20mat4x4f'+'\x20{\x0a\x0a\x20\x20\x20\x20le'+'t\x20width\x20=\x20'+'i32(textur'+'eDimension'+'s(texture_'+'poseMap).x'+');\x0a\x20\x20\x20\x20let'+'\x20index:\x20i3'+'2\x20=\x20i32(in'+'dexFloat\x20+'+'\x200.5)\x20*\x203;'+'\x0a\x20\x20\x20\x20let\x20i'+'y:\x20i32\x20=\x20i'+'ndex\x20/\x20wid'+'th;\x0a\x20\x20\x20\x20le'+'t\x20ix:\x20i32\x20'+'=\x20index\x20%\x20'+'width;\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'elements\x20o'+'f\x204x3\x20matr'+'ix\x0a\x20\x20\x20\x20let'+'\x20v1:\x20vec4f'+'\x20=\x20texture'+'Load(textu'+'re_poseMap'+',\x20vec2i(ix'+'\x20+\x200,\x20iy),'+'\x200);\x0a\x20\x20\x20\x20l'+'et\x20v2:\x20vec'+'4f\x20=\x20textu'+'reLoad(tex'+'ture_poseM'+'ap,\x20vec2i('+'ix\x20+\x201,\x20iy'+'),\x200);\x0a\x20\x20\x20'+'\x20let\x20v3:\x20v'+'ec4f\x20=\x20tex'+'tureLoad(t'+'exture_pos'+'eMap,\x20vec2'+'i(ix\x20+\x202,\x20'+'iy),\x200);\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nspose\x20to\x20'+'4x4\x20matrix'+'\x0a\x20\x20\x20\x20retur'+'n\x20mat4x4f('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.x,\x20v2.x,'+'\x20v3.x,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.y,\x20v2.y,\x20'+'v3.y,\x200,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'z,\x20v2.z,\x20v'+'3.z,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.w'+',\x20v2.w,\x20v3'+'.w,\x201.0\x0a\x20\x20'+'\x20\x20);\x0a}\x0a',TI='\x0a\x0aattribut'+'e\x20vertex_b'+'oneWeights'+':\x20vec4f;\x0aa'+'ttribute\x20v'+'ertex_bone'+'Indices:\x20v'+'ec4f;\x0a\x0avar'+'\x20texture_p'+'oseMap:\x20te'+'xture_2d<f'+'32>;\x0a\x0astru'+'ct\x20BoneMat'+'rix\x20{\x0a\x20\x20\x20\x20'+'v1:\x20vec4f,'+'\x0a\x20\x20\x20\x20v2:\x20v'+'ec4f,\x0a\x20\x20\x20\x20'+'v3:\x20vec4f,'+'\x0a}\x0a\x0afn\x20get'+'BoneMatrix'+'(width:\x20i3'+'2,\x20index:\x20'+'i32)\x20->\x20Bo'+'neMatrix\x20{'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'v\x20=\x20index\x20'+'/\x20width;\x0a\x20'+'\x20\x20\x20let\x20u\x20='+'\x20index\x20%\x20w'+'idth;\x0a\x0a\x20\x20\x20'+'\x20var\x20resul'+'t:\x20BoneMat'+'rix;\x0a\x20\x20\x20\x20r'+'esult.v1\x20='+'\x20textureLo'+'ad(texture'+'_poseMap,\x20'+'vec2i(u\x20+\x20'+'0,\x20v),\x200);'+'\x0a\x20\x20\x20\x20resul'+'t.v2\x20=\x20tex'+'tureLoad(t'+'exture_pos'+'eMap,\x20vec2'+'i(u\x20+\x201,\x20v'+'),\x200);\x0a\x20\x20\x20'+'\x20result.v3'+'\x20=\x20texture'+'Load(textu'+'re_poseMap'+',\x20vec2i(u\x20'+'+\x202,\x20v),\x200'+');\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0afn\x20ge'+'tSkinMatri'+'x(indicesF'+'loat:\x20vec4'+'f,\x20weights'+':\x20vec4f)\x20-'+'>\x20mat4x4f\x20'+'{\x0a\x0a\x20\x20\x20\x20let'+'\x20width\x20=\x20i'+'32(texture'+'Dimensions'+'(texture_p'+'oseMap).x)'+';\x0a\x20\x20\x20\x20var\x20'+'indices\x20=\x20'+'vec4i(indi'+'cesFloat\x20+'+'\x200.5)\x20*\x203;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'boneA\x20=\x20ge'+'tBoneMatri'+'x(width,\x20i'+'ndices.x);'+'\x0a\x20\x20\x20\x20let\x20b'+'oneB\x20=\x20get'+'BoneMatrix'+'(width,\x20in'+'dices.y);\x0a'+'\x20\x20\x20\x20let\x20bo'+'neC\x20=\x20getB'+'oneMatrix('+'width,\x20ind'+'ices.z);\x0a\x20'+'\x20\x20\x20let\x20bon'+'eD\x20=\x20getBo'+'neMatrix(w'+'idth,\x20indi'+'ces.w);\x0a\x0a\x20'+'\x20\x20\x20//\x20...\x20'+'rest\x20of\x20ge'+'tSkinMatri'+'x\x20remains\x20'+'the\x20same\x20.'+'..\x0a\x20\x20\x20\x20let'+'\x20v1\x20=\x20bone'+'A.v1\x20*\x20wei'+('ghts.x\x20+\x20b'+'oneB.v1\x20*\x20'+'weights.y\x20'+'+\x20boneC.v1'+'\x20*\x20weights'+'.z\x20+\x20boneD'+'.v1\x20*\x20weig'+'hts.w;\x0a\x20\x20\x20'+'\x20let\x20v2\x20=\x20'+'boneA.v2\x20*'+'\x20weights.x'+'\x20+\x20boneB.v'+'2\x20*\x20weight'+'s.y\x20+\x20bone'+'C.v2\x20*\x20wei'+'ghts.z\x20+\x20b'+'oneD.v2\x20*\x20'+'weights.w;'+'\x0a\x20\x20\x20\x20let\x20v'+'3\x20=\x20boneA.'+'v3\x20*\x20weigh'+'ts.x\x20+\x20bon'+'eB.v3\x20*\x20we'+'ights.y\x20+\x20'+'boneC.v3\x20*'+'\x20weights.z'+'\x20+\x20boneD.v'+'3\x20*\x20weight'+'s.w;\x0a\x0a\x20\x20\x20\x20'+'let\x20one\x20=\x20'+'dot(weight'+'s,\x20vec4f(1'+'.0,\x201.0,\x201'+'.0,\x201.0));'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'ranspose\x20t'+'o\x204x4\x20matr'+'ix\x0a\x20\x20\x20\x20ret'+'urn\x20mat4x4'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20v1.x,\x20v2.'+'x,\x20v3.x,\x200'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'v1.y,\x20v2.y'+',\x20v3.y,\x200,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.z,\x20v2.z,'+'\x20v3.z,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.w,\x20v2.w,\x20'+'v3.w,\x20one\x0a'+'\x20\x20\x20\x20);\x0a}\x0a'),wI='\x0a\x20\x20\x20\x20#defi'+'ne\x20LIT_SKY'+'BOX_INTENS'+'ITY\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22e'+'nvProcPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vLinear'+'Depth:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'floatAsUin'+'tPS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20Varyin'+'g\x20and\x20unif'+'orm\x20declar'+'ations\x0a\x20\x20\x20'+'\x20varying\x20v'+'ViewDir\x20:\x20'+'vec3f;\x0a\x20\x20\x20'+'\x20uniform\x20s'+'kyboxHighl'+'ightMultip'+'lier\x20:\x20f32'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20SKY_CU'+'BEMAP\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cub'+'eMap\x20:\x20tex'+'ture_cube<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_cube'+'Map_sample'+'r\x20:\x20sample'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'KYMESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vWo'+'rldPos\x20:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20cube'+'MapRotatio'+'nMatrix\x20:\x20'+'mat3x3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20p'+'rojectedSk'+'ydomeCente'+'r\x20:\x20vec3f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#else\x20//\x20'+'env-atlas\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22s'+'phericalPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'envAtlasPS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_envAtla'+'s\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_envAtlas_'+'sampler\x20:\x20'+'sampler;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20mipL'+'evel\x20:\x20f32'+';\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20@'+'fragment\x0a\x20'+'\x20\x20\x20fn\x20frag'+'mentMain(i'+'nput\x20:\x20Fra'+'gmentInput'+')\x20->\x20Fragm'+'entOutput\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20PREPA'+('SS_PASS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20output'+'\x20linear\x20de'+'pth\x20during'+'\x20prepass\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20floa'+'t2vec4(vLi'+'nearDepth)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20linear'+'\x20:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20dir\x20'+':\x20vec3f;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'KY_CUBEMAP'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SKYME'+'SH\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20get\x20'+'vector\x20fro'+'m\x20world\x20sp'+'ace\x20pos\x20to'+'\x20tripod\x20or'+'igin\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20e'+'nvDir\x20:\x20ve'+'c3f\x20=\x20norm'+'alize(inpu'+'t.vWorldPo'+'s\x20-\x20unifor'+'m.projecte'+'dSkydomeCe'+'nter);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dir'+'\x20=\x20envDir\x20'+'*\x20uniform.'+'cubeMapRot'+'ationMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dir\x20='+'\x20input.vVi'+'ewDir;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dir'+'.x\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'near\x20=\x20{SK'+'YBOX_DECOD'+'E_FNC}(tex'+'tureSample'+'(texture_c'+'ubeMap,\x20te'+'xture_cube'+'Map_sample'+'r,\x20dir));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x20/'+'/\x20env-atla'+'s\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ir\x20=\x20input'+'.vViewDir\x20'+'*\x20vec3f(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv\x20:\x20'+'vec2f\x20=\x20to'+'SphericalU'+'v(normaliz'+'e(dir));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20linea'+'r\x20=\x20{SKYBO'+'X_DECODE_F'+'NC}(textur'+'eSample(te'+'xture_envA'+'tlas,\x20text'+'ure_envAtl'+'as_sampler'+',\x20mapRough'+'nessUv(uv,')+('\x20uniform.m'+'ipLevel)))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ou'+'r\x20HDR\x20enco'+'des\x20values'+'\x20up\x20to\x2064,'+'\x20so\x20allow\x20'+'extra\x20brig'+'htness\x20for'+'\x20the\x20clipp'+'ed\x20values\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(any('+'linear\x20>=\x20'+'vec3f(64.0'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20linear\x20*'+'=\x20uniform.'+'skyboxHigh'+'lightMulti'+'plier;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(gam'+'maCorrectO'+'utput(tone'+'Map(proces'+'sEnvironme'+'nt(linear)'+')),\x201.0);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a'),EI='\x0a\x20\x20\x20\x20//\x20At'+'tribute\x0a\x20\x20'+'\x20\x20attribut'+'e\x20aPositio'+'n\x20:\x20vec4f;'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20matrix'+'_view\x20:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20uniform\x20m'+'atrix_proj'+'ectionSkyb'+'ox\x20:\x20mat4x'+'4f;\x0a\x20\x20\x20\x20un'+'iform\x20cube'+'MapRotatio'+'nMatrix\x20:\x20'+'mat3x3f;\x0a\x0a'+'\x20\x20\x20\x20varyin'+'g\x20vViewDir'+'\x20:\x20vec3f;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PREPASS_'+'PASS\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20when'+'\x20skydome\x20r'+'enders\x20dep'+'th\x20during\x20'+'prepass,\x20g'+'enerate\x20li'+'near\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vLi'+'nearDepth:'+'\x20f32;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'KYMESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'model\x20:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vWorldP'+'os\x20:\x20vec3f'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input\x20'+':\x20VertexIn'+'put)\x20->\x20Ve'+'rtexOutput'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20outp'+'ut\x20:\x20Verte'+'xOutput;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20view\x20:\x20ma'+'t4x4f\x20=\x20un'+'iform.matr'+'ix_view;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SKYME'+'SH\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'worldPos\x20:'+'\x20vec4f\x20=\x20u'+'niform.mat'+'rix_model\x20'+'*\x20input.aP'+'osition;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.vW'+'orldPos\x20=\x20'+'worldPos.x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.positio'+'n\x20=\x20unifor'+'m.matrix_p'+'rojectionS'+'kybox\x20*\x20(v'+'iew\x20*\x20worl'+'dPos);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20PRE'+'PASS_PASS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20l'+'inear\x20dept'+'h\x20from\x20the'+'\x20worldPosi'+'tion,\x20see\x20'+'getLinearD'+'epth\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.vL'+'inearDepth'+'\x20=\x20-(unifo'+('rm.matrix_'+'view\x20*\x20vec'+'4f(worldPo'+'s.xyz,\x201.0'+')).z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[0]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[1]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[2]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'position\x20='+'\x20uniform.m'+'atrix_proj'+'ectionSkyb'+'ox\x20*\x20(view'+'\x20*\x20input.a'+'Position);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'vViewDir\x20='+'\x20input.aPo'+'sition.xyz'+'\x20*\x20uniform'+'.cubeMapRo'+'tationMatr'+'ix;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20for\x20'+'infinite\x20s'+'kybox,\x20use'+'\x20negative\x20'+'gl_Positio'+'n.w\x20to\x20get'+'\x20positive\x20'+'linear\x20dep'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vLin'+'earDepth\x20='+'\x20-pcPositi'+'on.w;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Force\x20sk'+'ybox\x20to\x20fa'+'r\x20Z,\x20regar'+'dless\x20of\x20t'+'he\x20clip\x20pl'+'anes\x20on\x20th'+'e\x20camera\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Subtract\x20a'+'\x20tiny\x20fudg'+'e\x20factor\x20t'+'o\x20ensure\x20f'+'loating\x20po'+'int\x20errors'+'\x20don\x27t\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20st'+'ill\x20push\x20p'+'ixels\x20beyo'+'nd\x20far\x20Z.\x20'+'See:\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20http'+'s://commun'+'ity.khrono'+'s.org/t/sk'+'ybox-probl'+'em/61857\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.posit'+'ion.z\x20=\x20ou'+'tput.posit'+'ion.w\x20-\x201.'+'0e-7;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a'),bI='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'R_CONSTANT'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20materia'+'l_specular'+':\x20vec3f;\x0a#'+'endif\x0a\x0afn\x20'+'getSpecula'+'rity()\x20{\x0a\x20'+'\x20\x20\x20var\x20spe'+'cularColor'+'\x20=\x20vec3f(1'+'.0,\x201.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULAR_'+'CONSTANT\x0a\x20'+'\x20\x20\x20specula'+'rColor\x20=\x20s'+'pecularCol'+'or\x20*\x20unifo'+'rm.materia'+'l_specular'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_TE'+'XTURE\x0a\x20\x20\x20\x20'+'specularCo'+'lor\x20=\x20spec'+'ularColor\x20'+'*\x20{STD_SPE'+'CULAR_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_SPECU'+'LAR_TEXTUR'+'E_NAME},\x20{'+'STD_SPECUL'+'AR_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'SPECULAR_T'+'EXTURE_UV}'+',\x20uniform.'+'textureBia'+'s)).{STD_S'+'PECULAR_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_SPECULA'+'R_VERTEX\x0a\x20'+'\x20\x20\x20specula'+'rColor\x20=\x20s'+'pecularCol'+'or\x20*\x20satur'+'ate3(vVert'+'exColor.{S'+'TD_SPECULA'+'R_VERTEX_C'+'HANNEL});\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dSpe'+'cularity\x20='+'\x20specularC'+'olor;\x0a}\x0a',AI='\x0a\x0afn\x20toSph'+'erical(dir'+':\x20vec3f)\x20-'+'>\x20vec2f\x20{\x0a'+'\x20\x20\x20\x20let\x20an'+'gle_xz\x20=\x20s'+'elect(0.0,'+'\x20atan2(dir'+'.x,\x20dir.z)'+',\x20any(dir.'+'xz\x20!=\x20vec2'+'f(0.0)));\x0a'+'\x20\x20\x20\x20return'+'\x20vec2f(ang'+'le_xz,\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0afn\x20toS'+'phericalUv'+'(dir\x20:\x20vec'+'3f)\x20->\x20vec'+'2f\x20{\x0a\x20\x20\x20\x20c'+'onst\x20PI\x20:\x20'+'f32\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20l'+'et\x20uv\x20:\x20ve'+'c2f\x20=\x20toSp'+'herical(di'+'r)\x20/\x20vec2f'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x20vec'+'2f(0.5,\x200.'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20vec2f'+'(uv.x,\x201.0'+'\x20-\x20uv.y);\x0a'+'}\x0a',CI='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'RITYFACTOR'+'_CONSTANT\x0a'+'\x20\x20\x20\x20unifor'+'m\x20material'+'_speculari'+'tyFactor:\x20'+'f32;\x0a#endi'+'f\x0a\x0afn\x20getS'+'pecularity'+'Factor()\x20{'+'\x0a\x20\x20\x20\x20var\x20s'+'pecularity'+'Factor\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20speculari'+'tyFactor\x20='+'\x20speculari'+'tyFactor\x20*'+'\x20uniform.m'+'aterial_sp'+'ecularityF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SPECUL'+'ARITYFACTO'+'R_TEXTURE\x0a'+'\x20\x20\x20\x20specul'+'arityFacto'+'r\x20=\x20specul'+'arityFacto'+'r\x20*\x20textur'+'eSampleBia'+'s({STD_SPE'+'CULARITYFA'+'CTOR_TEXTU'+'RE_NAME},\x20'+'{STD_SPECU'+'LARITYFACT'+'OR_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'SPECULARIT'+'YFACTOR_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_SPE'+'CULARITYFA'+'CTOR_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_VE'+'RTEX\x0a\x20\x20\x20\x20s'+'pecularity'+'Factor\x20=\x20s'+'pecularity'+'Factor\x20*\x20s'+'aturate(vV'+'ertexColor'+'.{STD_SPEC'+'ULARITYFAC'+'TOR_VERTEX'+'_CHANNEL})'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dS'+'pecularity'+'Factor\x20=\x20s'+'pecularity'+'Factor;\x0a}\x0a',PI='\x0afn\x20getSpo'+'tEffect(li'+'ghtSpotDir'+':\x20vec3f,\x20l'+'ightInnerC'+'oneAngle:\x20'+'f32,\x20light'+'OuterConeA'+'ngle:\x20f32,'+'\x20lightDirN'+'orm:\x20vec3f'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20let\x20c'+'osAngle:\x20f'+'32\x20=\x20dot(l'+'ightDirNor'+'m,\x20lightSp'+'otDir);\x0a\x20\x20'+'\x20\x20return\x20s'+'moothstep('+'lightOuter'+'ConeAngle,'+'\x20lightInne'+'rConeAngle'+',\x20cosAngle'+');\x0a}',MI='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vec2f(vUv0'+'.x,\x201.0\x20-\x20'+'vUv0.y);\x0a',DI='\x0a\x20\x20\x20\x20let\x20t'+'ileMask:\x20v'+'ec2f\x20=\x20ste'+'p(vMask,\x20v'+'ec2f(0.999'+'99));\x0a\x20\x20\x20\x20'+'let\x20tileSi'+'ze:\x20vec2f\x20'+'=\x200.5\x20*\x20(i'+'nnerOffset'+'.xy\x20+\x20inne'+'rOffset.zw'+');\x0a\x20\x20\x20\x20let'+'\x20tileScale'+':\x20vec2f\x20=\x20'+'vec2f(1.0)'+'\x20/\x20(vec2f('+'1.0)\x20-\x20til'+'eSize);\x0a\x20\x20'+'\x20\x20var\x20clam'+'pedUv:\x20vec'+'2f\x20=\x20mix(i'+'nnerOffset'+'.xy\x20*\x200.5,'+'\x20vec2f(1.0'+')\x20-\x20innerO'+'ffset.zw\x20*'+'\x200.5,\x20frac'+'t((vTiledU'+'v\x20-\x20tileSi'+'ze)\x20*\x20tile'+'Scale));\x0a\x20'+'\x20\x20\x20clamped'+'Uv\x20=\x20clamp'+'edUv\x20*\x20atl'+'asRect.zw\x20'+'+\x20atlasRec'+'t.xy;\x0a\x20\x20\x20\x20'+'var\x20nineSl'+'icedUv:\x20ve'+'c2f\x20=\x20vUv0'+'\x20*\x20tileMas'+'k\x20+\x20clampe'+'dUv\x20*\x20(vec'+'2f(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x0a',II='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobals\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dAlpha'+':\x20f32\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20//'+'\x20all\x20passe'+'s\x20handle\x20o'+'pacity\x0a\x20\x20\x20'+'\x20#if\x20LIT_B'+'LEND_TYPE\x20'+'!=\x20NONE\x20||'+'\x20defined(L'+'IT_ALPHA_T'+'EST)\x20||\x20de'+'fined(LIT_'+'ALPHA_TO_C'+'OVERAGE)\x20|'+'|\x20STD_OPAC'+'ITY_DITHER'+'\x20!=\x20NONE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_OP'+'ACITY_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_opa'+'cityMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_opacityMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20FO'+'RWARD_PASS'+'\x20//\x20------'+'----------'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20globals'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dAlbedo:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'NormalW:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dSp'+'ecularity:'+'\x20vec3f\x20=\x20v'+'ec3f(0.0,\x20'+'0.0,\x200.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dGlossin'+'ess:\x20f32\x20='+'\x200.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_REFR'+'ACTION\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dTransmi'+'ssion:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dTh'+'ickness:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'CENE_COLOR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uSc'+'eneColorMa'+'p\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uSc'+'eneColorMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SCREE'+'N_SIZE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20uSc'+'reenSize:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+('f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_TRANSFOR'+'MS\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var<p'+'rivate>\x20ma'+'trix_viewP'+'rojection:'+'\x20mat4x4f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var<priv'+'ate>\x20matri'+'x_model:\x20m'+'at4x4f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20paral'+'lax\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_HEIGHT_'+'MAP\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'UvOffset:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'DIFFUSE_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_heightM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'heightMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20diffus'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSE_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'diffuseMap'+'\x20:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_diffus'+'eMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_DI'+'FFUSEDETAI'+'L_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_diffuse'+'DetailMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_diffuse'+'DetailMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20norma'+'l\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_NORMAL_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_n'+'ormalMap\x20:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_normalMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20#ifdef'+'\x20STD_NORMA'+'LDETAIL_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_n'+'ormalDetai'+'lMap\x20:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_no'+'rmalDetail'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20r'+'efraction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_T'+'HICKNESS_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'thicknessM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_thic'+'knessMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_REFRACTIO'+'N_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_refract'+'ionMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'refraction'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20i'+'ridescence'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dIr'+'idescence:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20dIridesce'+'nceThickne'+'ss:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_IRIDESC'+'ENCE_THICK'+'NESS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'iridescenc'+'eThickness'+'Map\x20:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_iridescen'+'ceThicknes'+'sMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur')+('e_iridesce'+'nceMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_irides'+'cenceMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20ccSp'+'ecularity:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20ccGlossin'+'ess:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var<priv'+'ate>\x20ccNor'+'malW:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20dAni'+'sotropy:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'Anisotropy'+'Rotation:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'arity\x20&\x20gl'+'ossiness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR_OR_'+'REFLECTION'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20she'+'en\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SHEE'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20sSpecular'+'ity:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20sGlossine'+'ss:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20STD_SHE'+'EN_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_sheenMap'+'\x20:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_sheenMap'+'Sampler\x20:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'HEENGLOSS_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_s'+'heenGlossM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_sheenG'+'lossMapSam'+'pler\x20:\x20sam'+'pler;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20metaln'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_MET'+'ALNESS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20dMet'+'alness:\x20f3'+'2;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dIor:\x20f3'+'2;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'metalnessM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_metaln'+'essMapSamp'+'ler\x20:\x20samp'+'ler;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'rity\x20facto'+'r\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LARITY_FAC'+'TOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var<privat'+'e>\x20dSpecul'+'arityFacto'+'r:\x20f32;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_SPEC'+'ULARITYFAC'+'TOR_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_specula'+'rityFactor'+'Map\x20:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_specu'+'larityFact'+'orMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_SPECULAR'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_')+('specularMa'+'p\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_specula'+'rMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20gloss\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_glossMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_glo'+'ssMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'ao\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_AO\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20<private>'+'\x20dAo:\x20f32;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_aoMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aoMap'+'Sampler\x20:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_AODETAIL_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aoDet'+'ailMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_aoDeta'+'ilMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'emission\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20<private>'+'\x20dEmission'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_EM'+'ISSIVE_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_em'+'issiveMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_emissiv'+'eMapSample'+'r\x20:\x20sample')+('r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'clearcoat\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_CLEARCOA'+'T_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cle'+'arCoatMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cle'+'arCoatMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'CLEARCOATG'+'LOSS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'clearCoatG'+'lossMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_clear'+'CoatGlossM'+'apSampler\x20'+':\x20sampler;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_clearC'+'oatNormalM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'clearCoatN'+'ormalMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20anisotr'+'opy\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_A'+'NISOTROPY_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aniso'+'tropyMap\x20:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_anis'+'otropyMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20lightm'+'ap\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(STD_LIG'+'HTMAP)\x20||\x20')+('defined(ST'+'D_LIGHT_VE'+'RTEX_COLOR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dLi'+'ghtmap:\x20ve'+'c3f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_LI'+'GHT_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_l'+'ightMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_light'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20front'+'\x20end\x20outpu'+'ts\x20to\x20lit\x20'+'shader\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22litShader'+'CorePS\x22\x0a'),LI='\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22opaci'+'tyPS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22alpha'+'TestPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dithe'+'ring\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20STD'+'_OPACITY_D'+'ITHER\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22opac'+'ityDitherP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20FORWARD_P'+'ASS\x20//\x20---'+'----------'+'---\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20para'+'llax\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_HEIGHT'+'_MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'allaxPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x20\x22diffuse'+'PS\x22\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malMapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ref'+'raction\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'RACTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'transmissi'+'onPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22th'+'icknessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_I'+'RIDESCENCE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22iridesc'+'encePS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'iridescenc'+'eThickness'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+('\x20speculari'+'ty\x20&\x20gloss'+'iness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_OR_REF'+'LECTION\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22sheen'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sheenGloss'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'etalness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_METALNES'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ior'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22spec'+'ularityFac'+'torPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22specularP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fn\x20'+'getSpecula'+'rity()\x20{\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dSpeculari'+'ty\x20=\x20vec3f'+'(1.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'gloss\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22gl'+'ossPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20ao\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22aoPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20emissi'+'on\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22emissiveP'+'S\x22\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20clear'+'coat\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20')+('LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22clea'+'rCoatPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22clearCoat'+'GlossPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22clearCoat'+'NormalPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ani'+'sotropy\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_SPECULAR'+')\x20&&\x20defin'+'ed(LIT_LIG'+'HTING)\x20&&\x20'+'defined(LI'+'T_GGX_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22an'+'isotropyPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20l'+'ightmap\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(ST'+'D_LIGHTMAP'+')\x20||\x20defin'+'ed(STD_LIG'+'HT_VERTEX_'+'COLOR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22l'+'ightmapPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20fn\x20evalu'+'ateFronten'+'d()\x20{\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20al'+'l\x20passes\x20h'+'andle\x20opac'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIT_'+'BLEND_TYPE'+'\x20!=\x20NONE\x20|'+'|\x20defined('+'LIT_ALPHA_'+'TEST)\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x20'+'||\x20STD_OPA'+'CITY_DITHE'+'R\x20!=\x20NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getOpaci'+'ty();\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_ALPHA'+'_TEST)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20alphaTe'+'st(dAlpha)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20ST'+'D_OPACITY_'+'DITHER\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20opacityDi'+'ther(dAlph'+'a,\x200.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_o'+'pacity\x20=\x20d'+'Alpha;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20FO'+'RWARD_PASS'+'\x20//\x20------'+'----------'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20par')+('allax\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_H'+'EIGHT_MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getP'+'arallax();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getA'+'lbedo();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_a'+'lbedo\x20=\x20dA'+'lbedo;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20normal\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getNorma'+'l();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_w'+'orldNormal'+'\x20=\x20dNormal'+'W;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'fraction\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_REFRACTI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etRefracti'+'on();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'transmissi'+'on\x20=\x20dTran'+'smission;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Thickness('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_thi'+'ckness\x20=\x20d'+'Thickness;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_D'+'ISPERSION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_di'+'spersion\x20='+'\x20uniform.m'+'aterial_di'+'spersion;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_IRIDESC'+'ENCE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getIrides'+'cence();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getIr'+'idescenceT'+'hickness()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x20=\x20'+'dIridescen'+'ce;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_ir'+'idescence_'+'thickness\x20'+'=\x20dIridesc'+'enceThickn'+'ess;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en')+('dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specularit'+'y\x20&\x20glossi'+'ness\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR_OR_'+'REFLECTION'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20sheen\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSheen()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'sheen_spec'+'ularity\x20=\x20'+'sSpeculari'+'ty;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getShe'+'enGlossine'+'ss();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_sheen_'+'gloss\x20=\x20sG'+'lossiness;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20metaln'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_METALNESS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getMetaln'+'ess();\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_metal'+'ness\x20=\x20dMe'+'talness;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etIor();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ior'+'\x20=\x20dIor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'ity\x20factor'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULARITY_'+'FACTOR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Specularit'+'yFactor();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'Factor\x20=\x20d'+'Specularit'+'yFactor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20gloss\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getGlo'+'ssiness();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Specularit'+'y();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'\x20=\x20dSpecul'+'arity;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs')+('_gloss\x20=\x20d'+'Glossiness'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ao\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_AO\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getAO();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_ao\x20=\x20'+'dAo;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'emission\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getEmissi'+'on();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_emis'+'sion\x20=\x20dEm'+'ission;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20clearc'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getClea'+'rCoat();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getCl'+'earCoatGlo'+'ssiness();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'ClearCoatN'+'ormal();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_clearco'+'at_specula'+'rity\x20=\x20ccS'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_clea'+'rcoat_glos'+'s\x20=\x20ccGlos'+'siness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal\x20=\x20ccNo'+'rmalW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20anisotro'+'py\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_SPECULAR)'+'\x20&&\x20define'+'d(LIT_LIGH'+'TING)\x20&&\x20d'+'efined(LIT'+'_GGX_SPECU'+'LAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getAnisot'+'ropy();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20lightma'+'p\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(STD_'+'LIGHTMAP)\x20'+'||\x20defined'+'(STD_LIGHT'+'_VERTEX_CO'+'LOR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getLightM'+'ap();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'lightmap\x20='+'\x20dLightmap'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_')+('LIGHTMAP_D'+'IR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmapD'+'ir\x20=\x20dLigh'+'tmapDir;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'}\x0a'),RI='\x0a\x0a#ifdef\x20L'+'IT_TANGENT'+'S\x0a\x20\x20\x20\x20#def'+'ine\x20TBN_TA'+'NGENTS\x0a#el'+'se\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_USE_NOR'+'MALS)\x20||\x20d'+'efined(LIT'+'_USE_CLEAR'+'COAT_NORMA'+'LS)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'TBN_DERIVA'+'TIVES\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(TBN'+'_DERIVATIV'+'ES)\x0a\x20\x20\x20\x20un'+'iform\x20tbnB'+'asis:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20getTBN(t'+'angent:\x20ve'+'c3f,\x20binor'+'mal:\x20vec3f'+',\x20normal:\x20'+'vec3f)\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20TBN_TANGE'+'NTS\x20//\x20tan'+'gents\x20/\x20bi'+'normals\x20ba'+'sed\x20TBN\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dTB'+'N\x20=\x20mat3x3'+'f(normaliz'+'e(tangent)'+',\x20normaliz'+'e(binormal'+'),\x20normali'+'ze(normal)'+');\x0a\x0a\x20\x20\x20\x20#e'+'lif\x20define'+'d(TBN_DERI'+'VATIVES)\x20/'+'/\x20derivati'+'ves\x20based\x20'+'TBN\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20uv:'+'\x20vec2f\x20=\x20{'+'lightingUv'+'};\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20get\x20e'+'dge\x20vector'+'s\x20of\x20the\x20p'+'ixel\x20trian'+'gle\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20dp1:'+'\x20vec3f\x20=\x20d'+'pdx(\x20vPosi'+'tionW\x20);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20dp2:\x20vec3'+'f\x20=\x20dpdy(\x20'+'vPositionW'+'\x20);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20duv1'+':\x20vec2f\x20=\x20'+'dpdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20duv2:\x20'+'vec2f\x20=\x20dp'+'dy(\x20uv\x20);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20solve\x20th'+'e\x20linear\x20s'+'ystem\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20dp'+'2perp:\x20vec'+'3f\x20=\x20cross'+'(\x20dp2,\x20nor'+'mal\x20);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20d'+'p1perp:\x20ve'+'c3f\x20=\x20cros'+'s(\x20normal,'+'\x20dp1\x20);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'T:\x20vec3f\x20='+'\x20dp2perp\x20*'+'\x20duv1.x\x20+\x20'+'dp1perp\x20*\x20'+'duv2.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'B:\x20vec3f\x20='+'\x20dp2perp\x20*'+'\x20duv1.y\x20+\x20'+('dp1perp\x20*\x20'+'duv2.y;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'construct\x20'+'a\x20scale-in'+'variant\x20fr'+'ame\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20deno'+'m:\x20f32\x20=\x20m'+'ax(\x20dot(T,'+'\x20T),\x20dot(B'+',\x20B)\x20);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'invmax:\x20f3'+'2\x20=\x20select'+'(uniform.t'+'bnBasis\x20/\x20'+'sqrt(\x20deno'+'m\x20),\x200.0,\x20'+'denom\x20==\x200'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3x3f(T\x20'+'*\x20invmax,\x20'+'-B\x20*\x20invma'+'x,\x20normal\x20'+');\x0a\x0a\x20\x20\x20\x20#e'+'lse\x20//\x20obj'+'ect\x20space\x20'+'TBN\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20B:\x20'+'vec3f\x20=\x20cr'+'oss(normal'+',\x20vObjectS'+'paceUpW);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20T:\x20vec3f'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dot(B,'+'B)\x20==\x200.0)'+'\x20//\x20deal\x20w'+'ith\x20case\x20w'+'hen\x20vObjec'+'tSpaceUpW\x20'+'normal\x20are'+'\x20parallel\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20majo'+'r:\x20f32\x20=\x20m'+'ax(max(nor'+'mal.x,\x20nor'+'mal.y),\x20no'+'rmal.z);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(norm'+'al.x\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20B\x20=\x20c'+'ross(norma'+'l,\x20vec3f(0'+'.0,\x201.0,\x200'+'.0));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20T\x20=\x20cros'+'s(normal,\x20'+'B);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x20if\x20(n'+'ormal.y\x20=='+'\x20major)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20B\x20'+'=\x20cross(no'+'rmal,\x20vec3'+'f(0.0,\x200.0'+',\x201.0));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20T\x20=\x20c'+'ross(norma'+'l,\x20B);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x20//'+'\x20removed\x20\x22'+'if\x20(normal'+'.z\x20==\x20majo'+'r)\x22\x20assumi'+'ng\x20it\x27s\x20th'+'e\x20only\x20rem'+'aining\x20cas'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20B\x20=\x20cros'+'s(normal,\x20'+'vec3f(1.0,'+'\x200.0,\x200.0)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3x3f(n'+'ormalize(T'+'),\x20normali'+'ze(B),\x20nor'+'malize(nor'+'mal));\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a}'),OI='\x0a#ifdef\x20ST'+'D_THICKNES'+'S_CONSTANT'+'\x0auniform\x20m'+'aterial_th'+'ickness:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20getTh'+'ickness()\x20'+'{\x0a\x20\x20\x20\x20dThi'+'ckness\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'THICKNESS_'+'CONSTANT\x0a\x20'+'\x20\x20\x20dThickn'+'ess\x20=\x20dThi'+'ckness\x20*\x20u'+'niform.mat'+'erial_thic'+'kness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_THICKN'+'ESS_TEXTUR'+'E\x0a\x20\x20\x20\x20dThi'+'ckness\x20=\x20d'+'Thickness\x20'+'*\x20textureS'+'ampleBias('+'{STD_THICK'+'NESS_TEXTU'+'RE_NAME},\x20'+'{STD_THICK'+'NESS_TEXTU'+'RE_NAME}Sa'+'mpler,\x20{ST'+'D_THICKNES'+'S_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_THICKNESS'+'_TEXTURE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_THIC'+'KNESS_VERT'+'EX\x0a\x20\x20\x20\x20dTh'+'ickness\x20=\x20'+'dThickness'+'\x20*\x20saturat'+'e(vVertexC'+'olor.{STD_'+'THICKNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',FI='\x0a#if\x20(TONE'+'MAP\x20==\x20NON'+'E)\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingNo'+'nePS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20FILMIC\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingFilmi'+'cPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20LINEAR\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22tonemap'+'pingLinear'+'PS\x22\x0a#elif\x20'+'TONEMAP\x20=='+'\x20HEJL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'tonemappin'+'gHejlPS\x22\x0a#'+'elif\x20TONEM'+'AP\x20==\x20ACES'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingAces'+'PS\x22\x0a#elif\x20'+'TONEMAP\x20=='+'\x20ACES2\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngAces2PS\x22'+'\x0a#elif\x20TON'+'EMAP\x20==\x20NE'+'UTRAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'tonemappin'+'gNeutralPS'+'\x22\x0a#endif\x0a',NI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20t'+'A:\x20f32\x20=\x202'+'.51;\x0a\x20\x20\x20\x20l'+'et\x20tB:\x20f32'+'\x20=\x200.03;\x0a\x20'+'\x20\x20\x20let\x20tC:'+'\x20f32\x20=\x202.4'+'3;\x0a\x20\x20\x20\x20let'+'\x20tD:\x20f32\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20let\x20tE:\x20f'+'32\x20=\x200.14;'+'\x0a\x20\x20\x20\x20let\x20x'+':\x20vec3f\x20=\x20'+'color\x20*\x20un'+'iform.expo'+'sure;\x0a\x20\x20\x20\x20'+'return\x20(x\x20'+'*\x20(tA\x20*\x20x\x20'+'+\x20tB))\x20/\x20('+'x\x20*\x20(tC\x20*\x20'+'x\x20+\x20tD)\x20+\x20'+'tE);\x0a}\x0a',kI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0a//\x20AC'+'ES\x20approxi'+'mation\x20by\x20'+'Stephen\x20Hi'+'ll\x0a\x0a//\x20sRG'+'B\x20=>\x20XYZ\x20='+'>\x20D65_2_D6'+'0\x20=>\x20AP1\x20='+'>\x20RRT_SAT\x0a'+'const\x20ACES'+'InputMat:\x20'+'mat3x3f\x20=\x20'+'mat3x3f(\x0a\x20'+'\x20\x20\x20vec3f(0'+'.59719,\x200.'+'35458,\x200.0'+'4823),\x0a\x20\x20\x20'+'\x20vec3f(0.0'+'7600,\x200.90'+'834,\x200.015'+'66),\x0a\x20\x20\x20\x20v'+'ec3f(0.028'+'40,\x200.1338'+'3,\x200.83777'+')\x0a);\x0a\x0a//\x20O'+'DT_SAT\x20=>\x20'+'XYZ\x20=>\x20D60'+'_2_D65\x20=>\x20'+'sRGB\x0aconst'+'\x20ACESOutpu'+'tMat:\x20mat3'+'x3f\x20=\x20mat3'+'x3f(\x0a\x20\x20\x20\x20v'+'ec3f(\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367),\x0a\x20\x20\x20\x20'+'vec3f(-0.1'+'0208,\x20\x201.1'+'0813,\x20-0.0'+'0605),\x0a\x20\x20\x20'+'\x20vec3f(-0.'+'00327,\x20-0.'+'07276,\x20\x201.'+'07602)\x0a);\x0a'+'\x0afn\x20RRTAnd'+'ODTFit(v:\x20'+'vec3f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20a:\x20v'+'ec3f\x20=\x20v\x20*'+'\x20(v\x20+\x20vec3'+'f(0.024578'+'6))\x20-\x20vec3'+'f(0.000090'+'537);\x0a\x20\x20\x20\x20'+'let\x20b:\x20vec'+'3f\x20=\x20v\x20*\x20('+'vec3f(0.98'+'3729)\x20*\x20v\x20'+'+\x20vec3f(0.'+'4329510))\x20'+'+\x20vec3f(0.'+'238081);\x0a\x20'+'\x20\x20\x20return\x20'+'a\x20/\x20b;\x0a}\x0a\x0a'+'fn\x20toneMap'+'(color:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'var\x20c:\x20vec'+'3f\x20=\x20color'+'\x20*\x20(unifor'+'m.exposure'+'\x20/\x200.6);\x0a\x20'+'\x20\x20\x20c\x20=\x20c\x20*'+'\x20ACESInput'+'Mat;\x0a\x0a\x20\x20\x20\x20'+'//\x20Apply\x20R'+'RT\x20and\x20ODT'+'\x0a\x20\x20\x20\x20c\x20=\x20R'+'RTAndODTFi'+'t(c);\x0a\x20\x20\x20\x20'+'c\x20=\x20c\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(c,\x20vec'+'3f(0.0),\x20v'+'ec3f(1.0))'+';\x0a}\x0a',UI='\x0aconst\x20A:\x20'+'f32\x20=\x200.15'+';\x0aconst\x20B:'+'\x20f32\x20=\x200.5'+'0;\x0aconst\x20C'+':\x20f32\x20=\x200.'+'10;\x0aconst\x20'+'D:\x20f32\x20=\x200'+'.20;\x0aconst'+'\x20E:\x20f32\x20=\x20'+'0.02;\x0acons'+'t\x20F:\x20f32\x20='+'\x200.30;\x0acon'+'st\x20W:\x20f32\x20'+'=\x2011.2;\x0a\x0au'+'niform\x20exp'+'osure:\x20f32'+';\x0a\x0afn\x20unch'+'arted2Tone'+'map(x:\x20vec'+'3f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20((x\x20'+'*\x20(A\x20*\x20x\x20+'+'\x20C\x20*\x20B)\x20+\x20'+'D\x20*\x20E)\x20/\x20('+'x\x20*\x20(A\x20*\x20x'+'\x20+\x20B)\x20+\x20D\x20'+'*\x20F))\x20-\x20ve'+'c3f(E\x20/\x20F)'+';\x0a}\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20var\x20c'+':\x20vec3f\x20=\x20'+'uncharted2'+'Tonemap(co'+'lor\x20*\x20unif'+'orm.exposu'+'re);\x0a\x20\x20\x20\x20l'+'et\x20whiteSc'+'ale:\x20vec3f'+'\x20=\x20vec3f(1'+'.0)\x20/\x20unch'+'arted2Tone'+'map(vec3f('+'W,\x20W,\x20W));'+'\x0a\x20\x20\x20\x20c\x20*=\x20'+'whiteScale'+';\x0a\x20\x20\x20\x20retu'+'rn\x20c;\x0a}\x0a',BI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20A'+':\x20f32\x20=\x200.'+'22;\x0a\x20\x20\x20\x20le'+'t\x20B:\x20f32\x20='+'\x200.3;\x0a\x20\x20\x20\x20'+'let\x20C:\x20f32'+'\x20=\x200.1;\x0a\x20\x20'+'\x20\x20let\x20D:\x20f'+'32\x20=\x200.2;\x0a'+'\x20\x20\x20\x20let\x20E:'+'\x20f32\x20=\x200.0'+'1;\x0a\x20\x20\x20\x20let'+'\x20F:\x20f32\x20=\x20'+'0.3;\x0a\x20\x20\x20\x20l'+'et\x20Scl:\x20f3'+'2\x20=\x201.25;\x0a'+'\x0a\x20\x20\x20\x20let\x20a'+'djusted_co'+'lor\x20=\x20colo'+'r\x20*\x20unifor'+'m.exposure'+';\x0a\x20\x20\x20\x20let\x20'+'h\x20=\x20max(ve'+'c3f(0.0),\x20'+'adjusted_c'+'olor\x20-\x20vec'+'3f(0.004))'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20(h\x20*\x20('+'(Scl\x20*\x20A)\x20'+'*\x20h\x20+\x20Scl\x20'+'*\x20vec3f(C\x20'+'*\x20B))\x20+\x20Sc'+'l\x20*\x20vec3f('+'D\x20*\x20E))\x20/\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(h\x20*\x20(A\x20*'+'\x20h\x20+\x20vec3f'+'(B))\x20+\x20vec'+'3f(D\x20*\x20F))'+'\x20-\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20Scl\x20*\x20'+'vec3f(E\x20/\x20'+'F);\x0a}\x0a',zI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20color\x20*\x20'+'uniform.ex'+'posure;\x0a}\x0a',VI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(col:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20var\x20col'+'or\x20=\x20col\x20*'+'\x20uniform.e'+'xposure;\x0a\x0a'+'\x20\x20\x20\x20let\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20let\x20des'+'aturation\x20'+'=\x200.15;\x0a\x0a\x20'+'\x20\x20\x20let\x20x\x20='+'\x20min(color'+'.r,\x20min(co'+'lor.g,\x20col'+'or.b));\x0a\x20\x20'+'\x20\x20let\x20offs'+'et\x20=\x20selec'+'t(0.04,\x20x\x20'+'-\x206.25\x20*\x20x'+'\x20*\x20x,\x20x\x20<\x20'+'0.08);\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'vec3f(offs'+'et);\x0a\x0a\x20\x20\x20\x20'+'let\x20peak\x20='+'\x20max(color'+'.r,\x20max(co'+'lor.g,\x20col'+'or.b));\x0a\x20\x20'+'\x20\x20if\x20(peak'+'\x20<\x20startCo'+'mpression)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'d\x20=\x201.0\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20let\x20newP'+'eak\x20=\x201.0\x20'+'-\x20d\x20*\x20d\x20/\x20'+'(peak\x20+\x20d\x20'+'-\x20startCom'+'pression);'+'\x0a\x20\x20\x20\x20color'+'\x20*=\x20newPea'+'k\x20/\x20peak;\x0a'+'\x0a\x20\x20\x20\x20let\x20g'+'\x20=\x201.0\x20-\x201'+'.0\x20/\x20(desa'+'turation\x20*'+'\x20(peak\x20-\x20n'+'ewPeak)\x20+\x20'+'1.0);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ve'+'c3f(newPea'+'k),\x20vec3f('+'g));\x0a}\x0a',GI='\x0afn\x20toneMa'+'p(color:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a}\x0a',HI='\x0a#ifdef\x20PI'+'XELSNAP\x0a\x20\x20'+'\x20\x20uniform\x20'+'uScreenSiz'+'e:\x20vec4f;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20SCREE'+'NSPACE\x0a\x20\x20\x20'+'\x20uniform\x20p'+'rojectionF'+'lipY:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20evalWorl'+'dPosition('+'vertexPosi'+'tion:\x20vec3'+'f,\x20modelMa'+'trix:\x20mat4'+'x4f)\x20->\x20ve'+'c4f\x20{\x0a\x0a\x20\x20\x20'+'\x20var\x20local'+'Pos:\x20vec3f'+'\x20=\x20getLoca'+'lPosition('+'vertexPosi'+'tion);\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'INESLICED\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20outer\x20and'+'\x20inner\x20ver'+'tices\x20are\x20'+'at\x20the\x20sam'+'e\x20position'+',\x20scale\x20bo'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20local'+'PosXZ:\x20vec'+'2f\x20=\x20local'+'Pos.xz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20loca'+'lPosXZ\x20=\x20l'+'ocalPosXZ\x20'+'*\x20uniform.'+'outerScale'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20offset'+'\x20inner\x20ver'+'tices\x20insi'+'de\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20(origi'+'nal\x20vertic'+'es\x20must\x20be'+'\x20in\x20[-1;1]'+'\x20range)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'positiveUn'+'itOffset:\x20'+'vec2f\x20=\x20cl'+'amp(vertex'+'Position.x'+'z,\x20vec2f(0'+'.0),\x20vec2f'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'negativeUn'+'itOffset:\x20'+'vec2f\x20=\x20cl'+'amp(-verte'+'xPosition.'+'xz,\x20vec2f('+'0.0),\x20vec2'+'f(1.0));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20loc'+'alPosXZ\x20=\x20'+'localPosXZ'+'\x20+\x20(-posit'+'iveUnitOff'+'set\x20*\x20unif'+'orm.innerO'+'ffset.xy\x20+'+'\x20negativeU'+'nitOffset\x20'+'*\x20uniform.'+'innerOffse'+'t.zw)\x20*\x20ve'+'rtex_texCo'+'ord0.xy;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dT'+'iledUvGlob'+'al\x20=\x20(loca'+'lPosXZ\x20-\x20u'+'niform.out'+'erScale\x20+\x20'+'uniform.in'+'nerOffset.'+'xy)\x20*\x20-0.5'+'\x20+\x201.0;\x20//'+'\x20uv\x20=\x20loca'+'l\x20pos\x20-\x20in'+('ner\x20corner'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'localPosXZ'+'\x20=\x20localPo'+'sXZ\x20*\x20-0.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'localPos\x20='+'\x20vec3f(loc'+'alPosXZ.x,'+'\x20localPosX'+'Z.y,\x20local'+'Pos.y);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20var\x20po'+'sW:\x20vec4f\x20'+'=\x20modelMat'+'rix\x20*\x20vec4'+'f(localPos'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREENSPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'posW\x20=\x20vec'+'4f(posW.xy'+',\x200.0,\x201.0'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20posW'+';\x0a}\x0a\x0afn\x20ge'+'tPosition('+')\x20->\x20vec4f'+'\x20{\x0a\x0a\x20\x20\x20\x20dM'+'odelMatrix'+'\x20=\x20getMode'+'lMatrix();'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'posW:\x20vec4'+'f\x20=\x20evalWo'+'rldPositio'+'n(vertex_p'+'osition.xy'+'z,\x20dModelM'+'atrix);\x0a\x20\x20'+'\x20\x20dPositio'+'nW\x20=\x20posW.'+'xyz;\x0a\x0a\x20\x20\x20\x20'+'var\x20screen'+'Pos:\x20vec4f'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20UV1LAYO'+'UT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'\x20=\x20vec4f(v'+'ertex_texC'+'oord1.xy\x20*'+'\x202.0\x20-\x201.0'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20SCR'+'EENSPACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'\x20=\x20posW;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20unif'+'orm.projec'+'tionFlipY;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos\x20=\x20u'+'niform.mat'+'rix_viewPr'+'ojection\x20*'+'\x20posW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20PI'+'XELSNAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20snap\x20ve'+'rtex\x20to\x20a\x20'+'pixel\x20boun'+'dary\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos.xy\x20'+'=\x20(screenP'+'os.xy\x20*\x200.'+'5)\x20+\x200.5;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20screenPo'+'s.xy\x20*=\x20un'+'iforms.uSc'+'reenSize.x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.xy\x20*=\x20u'+'niforms.uS'+'creenSize.'+'zw;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.xy\x20='+'\x20(screenPo'+'s.xy\x20*\x202.0'+')\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20scr'+'eenPos;\x0a}\x0a'+'\x0afn\x20getWor'+'ldPosition'+'()\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20dPosi'+'tionW;\x0a}\x0a'),WI='\x0a\x0a\x20\x20\x20\x20attr'+'ibute\x20vert'+'ex_positio'+'n:\x20vec4f;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'viewProjec'+'tion:\x20mat4'+'x4f;\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'rix_model:'+'\x20mat4x4f;\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20morph_te'+'x_params:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20attri'+'bute\x20morph'+'_vertex_id'+':\x20u32;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fn\x20g'+'etTextureM'+'orphCoords'+'()\x20->\x20vec2'+'i\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'turn\x20morph'+'_vertex_id'+'\x20into\x20int\x20'+'grid\x20coord'+'inates\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'Size:\x20vec2'+'i\x20=\x20vec2i('+'uniform.mo'+'rph_tex_pa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphGr'+'idV:\x20i32\x20='+'\x20i32(morph'+'_vertex_id'+')\x20/\x20textur'+'eSize.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20morph'+'GridU:\x20i32'+'\x20=\x20i32(mor'+'ph_vertex_'+'id)\x20-\x20(mor'+'phGridV\x20*\x20'+'textureSiz'+'e.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'rphGridV\x20='+'\x20textureSi'+'ze.y\x20-\x20mor'+'phGridV\x20-\x20'+'1;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec2i(mo'+'rphGridU,\x20'+'morphGridV'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_PO'+'SITION\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20aabbSiz'+'e:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20aabbMi'+'n:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'morphPosit'+'ionTex:\x20te'+'xture_2d<u'+'32>;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphPo'+'sitionTex:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+('if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20defin'+'ed(BATCH)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22sk'+'inBatchVS\x22'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fn\x20getMode'+'lMatrix()\x20'+'->\x20mat4x4f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getBoneM'+'atrix(vert'+'ex_boneInd'+'ices);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20#elif\x20de'+'fined(SKIN'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'skinVS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fn\x20g'+'etModelMat'+'rix()\x20->\x20m'+'at4x4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20un'+'iform.matr'+'ix_model\x20*'+'\x20getSkinMa'+'trix(verte'+'x_boneIndi'+'ces,\x20verte'+'x_boneWeig'+'hts);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20#elif\x20def'+'ined(INSTA'+'NCING)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22tran'+'sformInsta'+'ncingVS\x22\x0a\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'n\x20getModel'+'Matrix()\x20-'+'>\x20mat4x4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uniform.m'+'atrix_mode'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'fn\x20getLoca'+'lPosition('+'vertexPosi'+'tion:\x20vec3'+'f)\x20->\x20vec3'+'f\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20loc'+'alPos:\x20vec'+'3f\x20=\x20verte'+'xPosition;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_POSI'+'TION\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20morphUV:'+'\x20vec2i\x20=\x20g'+'etTextureM'+'orphCoords'+'();\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20MORPHI'+'NG_INT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Use\x20'+'textureLoa'+'d\x20instead\x20'+'of\x20texelFe'+'tch.\x20Coord'+'inates\x20mus'+'t\x20be\x20integ'+'er\x20type\x20(v'+'ec2i).\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20WGSL'+'\x20requires\x20'+'explicit\x20t'+'ype\x20conver'+'sion\x20for\x20v'+'ectors.\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Div'+'ision\x20by\x20f'+'loat\x20liter')+('al\x20ensures'+'\x20floating\x20'+'point\x20divi'+'sion.\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20morp'+'hPos:\x20vec3'+'f\x20=\x20vec3f('+'textureLoa'+'d(morphPos'+'itionTex,\x20'+'morphUV,\x200'+').xyz)\x20/\x206'+'5535.0\x20*\x20u'+'niform.aab'+'bSize\x20+\x20un'+'iform.aabb'+'Min;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Use\x20text'+'ureLoad\x20in'+'stead\x20of\x20t'+'exelFetch.'+'\x20Coordinat'+'es\x20must\x20be'+'\x20integer\x20t'+'ype\x20(vec2i'+').\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphPo'+'s:\x20vec3f\x20='+'\x20textureLo'+'ad(morphPo'+'sitionTex,'+'\x20morphUV,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'localPos\x20+'+'=\x20morphPos'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20localP'+'os;\x0a\x20\x20\x20\x20}\x0a'),$I='\x0a\x0aattribut'+'e\x20instance'+'_line1:\x20ve'+'c4f;\x0aattri'+'bute\x20insta'+'nce_line2:'+'\x20vec4f;\x0aat'+'tribute\x20in'+'stance_lin'+'e3:\x20vec4f;'+'\x0aattribute'+'\x20instance_'+'line4:\x20vec'+'4f;\x0a\x0afn\x20ge'+'tModelMatr'+'ix()\x20->\x20ma'+'t4x4f\x20{\x0a\x20\x20'+'\x20\x20return\x20u'+'niform.mat'+'rix_model\x20'+'*\x20mat4x4f('+'instance_l'+'ine1,\x20inst'+'ance_line2'+',\x20instance'+'_line3,\x20in'+'stance_lin'+'e4);\x0a}\x0a',XI='\x0a\x0a#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20mater'+'ial_refrac'+'tion:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20getRefra'+'ction()\x20{\x0a'+'\x20\x20\x20\x20var\x20re'+'fraction:\x20'+'f32\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_REF'+'RACTION_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20refractio'+'n\x20=\x20unifor'+'m.material'+'_refractio'+'n;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'REFRACTION'+'_TEXTURE\x0a\x20'+'\x20\x20\x20refract'+'ion\x20=\x20refr'+'action\x20*\x20t'+'extureSamp'+'leBias({ST'+'D_REFRACTI'+'ON_TEXTURE'+'_NAME},\x20{S'+'TD_REFRACT'+'ION_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_REFRACTIO'+'N_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_REFRACTIO'+'N_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_REF'+'RACTION_VE'+'RTEX\x0a\x20\x20\x20\x20r'+'efraction\x20'+'=\x20refracti'+'on\x20*\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_REFRACTI'+'ON_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20dTr'+'ansmission'+'\x20=\x20refract'+'ion;\x0a}\x0a',qI='\x0auniform\x20t'+'woSidedLig'+'htingNegSc'+'aleFactor:'+'\x20f32;\x0a\x0afn\x20'+'handleTwoS'+'idedLighti'+'ng()\x20{\x0a\x20\x20\x20'+'\x20dTBN[2]\x20='+'\x20dTBN[2]\x20*'+'\x20select(-u'+'niform.two'+'SidedLight'+'ingNegScal'+'eFactor,\x20u'+'niform.two'+'SidedLight'+'ingNegScal'+'eFactor,\x20p'+'cFrontFaci'+'ng);\x0a}\x0a',jI='\x0a#ifdef\x20NI'+'NESLICED\x0a\x20'+'\x20\x20\x20fn\x20getU'+'v0()\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20uv'+'\x20=\x20vertex_'+'position.x'+'z;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20offse'+'t\x20inner\x20ve'+'rtices\x20ins'+'ide\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2f(0'+'.0,\x200.0),\x20'+'vec2f(1.0,'+'\x201.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'negativeUn'+'itOffset\x20='+'\x20clamp(-ve'+'rtex_posit'+'ion.xz,\x20ve'+'c2f(0.0,\x200'+'.0),\x20vec2f'+'(1.0,\x201.0)'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uv\x20=\x20uv\x20'+'+\x20((-posit'+'iveUnitOff'+'set\x20*\x20unif'+'orm.innerO'+'ffset.xy)\x20'+'+\x20(negativ'+'eUnitOffse'+'t\x20*\x20unifor'+'m.innerOff'+'set.zw))\x20*'+'\x20vertex_te'+'xCoord0.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20-0.5\x20+\x20ve'+'c2f(0.5,\x200'+'.5);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20uniform'+'.atlasRect'+'.zw\x20+\x20unif'+'orm.atlasR'+'ect.xy;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dMa'+'skGlobal\x20='+'\x20vertex_te'+'xCoord0.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20uv'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20fn'+'\x20getUv0()\x20'+'->\x20vec2f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vert'+'ex_texCoor'+'d0;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a',YI='\x0afn\x20getUv1'+'()\x20->\x20vec2'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20verte'+'x_texCoord'+'1;\x0a}\x0a',KI='\x0aoutput.vU'+'V{TRANSFOR'+'M_UV_{i}}_'+'{TRANSFORM'+'_ID_{i}}\x20='+'\x20vec2f(\x0a\x20\x20'+'\x20\x20dot(vec3'+'f(uv{TRANS'+'FORM_UV_{i'+'}},\x201),\x20un'+'iform.{TRA'+'NSFORM_NAM'+'E_{i}}0),\x0a'+'\x20\x20\x20\x20dot(ve'+'c3f(uv{TRA'+'NSFORM_UV_'+'{i}},\x201),\x20'+'uniform.{T'+'RANSFORM_N'+'AME_{i}}1)'+'\x0a);\x0a',ZI='\x0a\x20\x20\x20\x20unifo'+'rm\x20{TRANSF'+'ORM_NAME_{'+'i}}0:\x20vec3'+'f;\x0a\x20\x20\x20\x20uni'+'form\x20{TRAN'+'SFORM_NAME'+'_{i}}1:\x20ve'+'c3f;\x0a',QI='\x0afn\x20getVie'+'wDir()\x20{\x0a\x20'+'\x20\x20\x20dViewDi'+'rW\x20=\x20norma'+'lize(unifo'+'rm.view_po'+'sition\x20-\x20v'+'PositionW)'+';\x0a}\x0a',JI={'alphaTestPS':Q2,'ambientPS':J2,'anisotropyPS':eM,'aoPS':tM,'aoDiffuseOccPS':sM,'aoSpecOccPS':iM,'bakeDirLmEndPS':rM,'bakeLmEndPS':aM,'basePS':nM,'baseNineSlicedPS':oM,'baseNineSlicedTiledPS':lM,'bayerPS':cM,'blurVSMPS':hM,'clearCoatPS':dM,'clearCoatGlossPS':fM,'clearCoatNormalPS':uM,'clusteredLightCookiesPS':mM,'clusteredLightShadowsPS':_M,'clusteredLightUtilsPS':pM,'clusteredLightPS':gM,'combinePS':SM,'cookieBlit2DPS':yM,'cookieBlitCubePS':vM,'cookieBlitVS':xM,'cubeMapProjectPS':TM,'cubeMapRotatePS':wM,'debugOutputPS':EM,'debugProcessFrontendPS':bM,'detailModesPS':CM,'diffusePS':PM,'decodePS':AM,'emissivePS':MM,'encodePS':DM,'endPS':IM,'envAtlasPS':LM,'envProcPS':RM,'falloffInvSquaredPS':OM,'falloffLinearPS':FM,'floatAsUintPS':NM,'fogPS':kM,'fresnelSchlickPS':UM,'frontendCodePS':'','frontendDeclPS':'','fullscreenQuadVS':BM,'gammaPS':zM,'glossPS':VM,'gsplatCenterVS':GM,'gsplatCornerVS':QM,'gsplatColorVS':HM,'gsplatCommonVS':WM,'gsplatCompressedDataVS':$M,'gsplatCompressedSHVS':XM,'gsplatEvalSHVS':qM,'gsplatQuatToMat3VS':jM,'gsplatSogsColorVS':YM,'gsplatSogsDataVS':KM,'gsplatSogsSHVS':ZM,'gsplatDataVS':JM,'gsplatOutputVS':eD,'gsplatPS':tD,'gsplatSHVS':sD,'gsplatSourceVS':iD,'gsplatVS':rD,'quadVS':aD,'indirectCoreCS':nD,'immediateLinePS':oD,'immediateLineVS':lD,'iridescenceDiffractionPS':cD,'iridescencePS':hD,'iridescenceThicknessPS':dD,'iorPS':fD,'lightDeclarationPS':uD,'lightDiffuseLambertPS':pD,'lightDirPointPS':mD,'lightEvaluationPS':_D,'lightFunctionLightPS':gD,'lightFunctionShadowPS':SD,'lightingPS':yD,'lightmapAddPS':vD,'lightmapPS':xD,'lightSpecularAnisoGGXPS':TD,'lightSpecularBlinnPS':wD,'lightSheenPS':ED,'linearizeDepthPS':bD,'litForwardBackendPS':AD,'litForwardDeclarationPS':CD,'litForwardMainPS':PD,'litForwardPostCodePS':MD,'litForwardPreCodePS':DD,'litMainPS':ID,'litMainVS':LD,'litOtherMainPS':RD,'litShaderArgsPS':OD,'litShaderCorePS':FD,'litShadowMainPS':ND,'litUserDeclarationPS':'','litUserDeclarationVS':'','litUserCodePS':'','litUserCodeVS':'','litUserMainStartPS':'','litUserMainStartVS':'','litUserMainEndPS':'','litUserMainEndVS':'','ltcPS':kD,'metalnessPS':UD,'metalnessModulatePS':zD,'morphPS':VD,'morphVS':GD,'msdfPS':BD,'msdfVS':HD,'normalVS':WD,'normalCoreVS':$D,'normalMapPS':XD,'opacityPS':qD,'opacityDitherPS':jD,'outputPS':YD,'outputAlphaPS':KD,'outputTex2DPS':ZD,'sheenPS':QD,'sheenGlossPS':JD,'parallaxPS':eI,'pickPS':tI,'reflDirPS':sI,'reflDirAnisoPS':iI,'reflectionCCPS':rI,'reflectionCubePS':aI,'reflectionEnvHQPS':nI,'reflectionEnvPS':oI,'reflectionSpherePS':lI,'reflectionSheenPS':cI,'refractionCubePS':hI,'refractionDynamicPS':dI,'reprojectPS':fI,'reprojectVS':uI,'screenDepthPS':pI,'shadowCascadesPS':mI,'shadowEVSMPS':_I,'shadowPCF1PS':gI,'shadowPCF3PS':SI,'shadowPCF5PS':yI,'shadowSoftPS':vI,'skinBatchVS':xI,'skinVS':TI,'skyboxPS':wI,'skyboxVS':EI,'specularPS':bI,'sphericalPS':AI,'specularityFactorPS':CI,'spotPS':PI,'startNineSlicedPS':MI,'startNineSlicedTiledPS':DI,'stdDeclarationPS':II,'stdFrontEndPS':LI,'TBNPS':RI,'thicknessPS':OI,'tonemappingPS':FI,'tonemappingAcesPS':NI,'tonemappingAces2PS':kI,'tonemappingFilmicPS':UI,'tonemappingHejlPS':BI,'tonemappingLinearPS':zI,'tonemappingNeutralPS':VI,'tonemappingNonePS':GI,'transformVS':HI,'transformCoreVS':WI,'transformInstancingVS':$I,'transmissionPS':XI,'twoSidedLightingPS':qI,'uv0VS':jI,'uv1VS':YI,'uvTransformVS':KI,'uvTransformUniformsPS':ZI,'viewDirPS':QI,'webgpuPS':$y,'webgpuVS':Xy},ea=class ea extends me{constructor(_0x57ce45){super(),h(this,'_batcher',null),h(this,'_destroyRe'+'quested',!(0x1381+0x2642+-0x39c2)),h(this,'_inFrameUp'+'date',!(0xbae+0xe6+-0x1*0xc93)),h(this,'_libraries'+'Loaded',!(-0x931+0xf06+0x1*-0x5d4)),h(this,'_fillMode',Tg),h(this,'_resolutio'+'nMode',MC),h(this,'_allowResi'+'ze',!(-0x546+0x126a+-0xd24)),h(this,'_skyboxAss'+'et',null),h(this,'_soundMana'+'ger'),h(this,'_visibilit'+'yChangeHan'+'dler'),h(this,'_entityInd'+'ex',{}),h(this,'_inTools',!(-0x12c9+0xa*-0x22c+0x2882)),h(this,'_scriptPre'+'fix',''),h(this,'_time',-0x647+-0xd*-0x2a6+0x1c27*-0x1),h(this,'enableBund'+'les',typeof TextDecoder<'u'),h(this,'frameReque'+'stId'),h(this,'timeScale',-0x194c+0xb49*-0x1+0x15*0x1be),h(this,'maxDeltaTi'+'me',0x9d*-0x21+0x3*-0x5ea+0x25fb+0.1),h(this,'frame',0x1*-0x1eea+-0xf86+0x2e70),h(this,'frameGraph',new DC()),h(this,'renderer'),h(this,'scriptsOrd'+'er',[]),h(this,'stats'),h(this,'autoRender',!(-0xb90+0x404*-0x9+-0xac*-0x47)),h(this,'renderNext'+'Frame',!(0x29*0xa2+-0x129c+-0x755)),h(this,'graphicsDe'+'vice'),h(this,'root'),h(this,'scene'),h(this,'lightmappe'+'r',null),h(this,'loader',new Cn(this)),h(this,'assets'),h(this,'bundles'),h(this,'scenes',new qC(this)),h(this,'scripts',new HC(this)),h(this,'systems',new BC()),h(this,'i18n',new wa(this)),h(this,'keyboard',null),h(this,'mouse',null),h(this,'touch',null),h(this,'gamepads',null),h(this,'elementInp'+'ut',null),h(this,'xr',null),((hn==null?void(0x1b*-0x22+0x2231+-0x1e9b):hn['indexOf']('$'))<0x113f+0x1964+-0x2aa3&&w['log']('Powered\x20by'+'\x20PlayCanva'+'s\x20'+hn+'\x20'+$S),ea['_applicati'+'ons'][_0x57ce45['id']]=this,_u(this),this['root']=new lt(),this['root']['_enabledIn'+'Hierarchy']=!(0x16fb+0x6*-0xf1+-0x1155));}['init'](_0x1158bf){const {assetPrefix:_0x502a6d,batchManager:_0x298e10,componentSystems:_0xe72b88,elementInput:_0x2ddd39,gamepads:_0xc573cc,graphicsDevice:_0x5edff1,keyboard:_0x215b66,lightmapper:_0x3f5adf,mouse:_0x376f23,resourceHandlers:_0x4d71fa,scriptsOrder:_0x1b31b8,scriptPrefix:_0x5102b5,soundManager:_0x9fd58f,touch:_0x381e6d,xr:_0x1ca2bd}=_0x1158bf;w['assert'](_0x5edff1,'The\x20applic'+'ation\x20cann'+'ot\x20be\x20crea'+'ted\x20withou'+'t\x20a\x20valid\x20'+'GraphicsDe'+'vice'),this['graphicsDe'+'vice']=_0x5edff1,Pe['get'](_0x5edff1,Fe)['add'](Z2),Pe['get'](_0x5edff1,it)['add'](JI),this['_initDefau'+'ltMaterial'](),this['_initProgr'+'amLibrary'](),this['stats']=new jC(_0x5edff1),this['_soundMana'+'ger']=_0x9fd58f,this['scene']=new Et(_0x5edff1),this['_registerS'+'ceneImmedi'+'ate'](this['scene']),this['assets']=new mn(this['loader']),_0x502a6d&&(this['assets']['prefix']=_0x502a6d),this['bundles']=new UC(this['assets']),this['scriptsOrd'+'er']=_0x1b31b8||[],this['defaultLay'+'erWorld']=new Ot({'name':'World','id':er}),this['defaultLay'+'erDepth']=new Ot({'name':'Depth','id':ps,'enabled':!(-0x4*-0x87d+0x6*0x4b+-0x23b5),'opaqueSortMode':Yc}),this['defaultLay'+'erSkybox']=new Ot({'name':'Skybox','id':Kp,'opaqueSortMode':Yc}),this['defaultLay'+'erUi']=new Ot({'name':'UI','id':Il,'transparentSortMode':jw}),this['defaultLay'+'erImmediat'+'e']=new Ot({'name':'Immediate','id':Zp,'opaqueSortMode':Yc});const _0x7af266=new du('default');_0x7af266['pushOpaque'](this['defaultLay'+'erWorld']),_0x7af266['pushOpaque'](this['defaultLay'+'erDepth']),_0x7af266['pushOpaque'](this['defaultLay'+'erSkybox']),_0x7af266['pushTransp'+'arent'](this['defaultLay'+'erWorld']),_0x7af266['pushOpaque'](this['defaultLay'+'erImmediat'+'e']),_0x7af266['pushTransp'+'arent'](this['defaultLay'+'erImmediat'+'e']),_0x7af266['pushTransp'+'arent'](this['defaultLay'+'erUi']),this['scene']['layers']=_0x7af266,ia['createPlac'+'eholder'](_0x5edff1),this['renderer']=new fl(_0x5edff1),this['renderer']['scene']=this['scene'],_0x3f5adf&&(this['lightmappe'+'r']=new _0x3f5adf(_0x5edff1,this['root'],this['scene'],this['renderer'],this['assets']),this['once']('prerender',this['_firstBake'],this)),_0x298e10&&(this['_batcher']=new _0x298e10(_0x5edff1,this['root'],this['scene']),this['once']('prerender',this['_firstBatc'+'h'],this)),this['keyboard']=_0x215b66||null,this['mouse']=_0x376f23||null,this['touch']=_0x381e6d||null,this['gamepads']=_0xc573cc||null,_0x2ddd39&&(this['elementInp'+'ut']=_0x2ddd39,this['elementInp'+'ut']['app']=this),this['xr']=_0x1ca2bd?new _0x1ca2bd(this):null,this['elementInp'+'ut']&&this['elementInp'+'ut']['attachSele'+'ctEvents'](),this['_scriptPre'+'fix']=_0x5102b5||'',this['enableBund'+'les']&&this['loader']['addHandler']('bundle',new VC(this)),_0x4d71fa['forEach'](_0x211eaf=>{const _0x31d7f3=new _0x211eaf(this);this['loader']['addHandler'](_0x31d7f3['handlerTyp'+'e'],_0x31d7f3);}),_0xe72b88['forEach'](_0x231d52=>{this['systems']['add'](new _0x231d52(this));}),this['_visibilit'+'yChangeHan'+'dler']=this['onVisibili'+'tyChange']['bind'](this),typeof document<'u'&&(document['hidden']!==void(0x6d*-0x2+0xe30+-0x6*0x239)?(this['_hiddenAtt'+'r']='hidden',document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x2412+0x265b+0x248*-0x1))):document['mozHidden']!==void(-0x13*-0x27+0x1b61+-0x1e46)?(this['_hiddenAtt'+'r']='mozHidden',document['addEventLi'+'stener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x7*0x251+-0x2*0x707+0x1e46))):document['msHidden']!==void(-0x3*-0x21f+-0x1851+0x11f4)?(this['_hiddenAtt'+'r']='msHidden',document['addEventLi'+'stener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1e5*-0x10+0x5a2+-0x23f1))):document['webkitHidd'+'en']!==void(0x1c98+-0x1451+-0x847)&&(this['_hiddenAtt'+'r']='webkitHidd'+'en',document['addEventLi'+'stener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(0x1076*0x1+0x5bc+-0x1*0x1631)))),this['tick']=eL(this);}static['getApplica'+'tion'](_0x436b02){return _0x436b02?ea['_applicati'+'ons'][_0x436b02]:Ms();}['_initDefau'+'ltMaterial'](){const _0xcbbae5=new Ut();_0xcbbae5['name']='Default\x20Ma'+'terial',xE(this['graphicsDe'+'vice'],_0xcbbae5);}['_initProgr'+'amLibrary'](){const _0x4401b2=new qA(this['graphicsDe'+'vice'],new Ut());cE(this['graphicsDe'+'vice'],_0x4401b2);}get['soundManag'+'er'](){return this['_soundMana'+'ger'];}get['batcher'](){return w['assert'](this['_batcher'],'BatchManag'+'er\x20has\x20not'+'\x20been\x20crea'+'ted\x20and\x20is'+'\x20required\x20'+'for\x20correc'+'t\x20function'+'ality.'),this['_batcher'];}get['fillMode'](){return this['_fillMode'];}get['resolution'+'Mode'](){return this['_resolutio'+'nMode'];}['configure'](_0x328d1f,_0x31ca18){ot['get'](_0x328d1f,(_0x8f7d56,_0x973319)=>{if(_0x8f7d56){_0x31ca18(_0x8f7d56);return;}const _0x2c8f62=_0x973319['applicatio'+'n_properti'+'es'],_0x261715=_0x973319['scenes'],_0x3e53dc=_0x973319['assets'];this['_parseAppl'+'icationPro'+'perties'](_0x2c8f62,_0x9e1416=>{this['_parseScen'+'es'](_0x261715),this['_parseAsse'+'ts'](_0x3e53dc),_0x31ca18(_0x9e1416||null);});});}['preload'](_0x17c921){this['fire']('preload:st'+'art');const _0x4c3ad4=this['assets']['list']({'preload':!(0x1*-0xa67+0xb84+-0x11d*0x1)});if(_0x4c3ad4['length']===-0xb*0x2a1+0x1d*0x42+0x1571){this['fire']('preload:en'+'d'),_0x17c921();return;}let _0x31b8ca=0x4dd+0xb*0x17b+-0x1526;const _0x45bb8f=()=>{_0x31b8ca++,this['fire']('preload:pr'+'ogress',_0x31b8ca/_0x4c3ad4['length']),_0x31b8ca===_0x4c3ad4['length']&&(this['fire']('preload:en'+'d'),_0x17c921());};_0x4c3ad4['forEach'](_0x2aefa7=>{_0x2aefa7['loaded']?_0x45bb8f():(_0x2aefa7['once']('load',_0x45bb8f),_0x2aefa7['once']('error',_0x45bb8f),this['assets']['load'](_0x2aefa7));});}['_preloadSc'+'ripts'](_0x7a124c,_0x3588c7){_0x3588c7();}['_parseAppl'+'icationPro'+'perties'](_0x11c74e,_0x489240){if(typeof _0x11c74e['maxAssetRe'+'tries']=='number'&&_0x11c74e['maxAssetRe'+'tries']>-0x1766+-0x1540+0x1*0x2ca6&&this['loader']['enableRetr'+'y'](_0x11c74e['maxAssetRe'+'tries']),_0x11c74e['useDeviceP'+'ixelRatio']||(_0x11c74e['useDeviceP'+'ixelRatio']=_0x11c74e['use_device'+'_pixel_rat'+'io']),_0x11c74e['resolution'+'Mode']||(_0x11c74e['resolution'+'Mode']=_0x11c74e['resolution'+'_mode']),_0x11c74e['fillMode']||(_0x11c74e['fillMode']=_0x11c74e['fill_mode']),this['_width']=_0x11c74e['width'],this['_height']=_0x11c74e['height'],_0x11c74e['useDeviceP'+'ixelRatio']&&(this['graphicsDe'+'vice']['maxPixelRa'+'tio']=window['devicePixe'+'lRatio']),this['setCanvasR'+'esolution'](_0x11c74e['resolution'+'Mode'],this['_width'],this['_height']),this['setCanvasF'+'illMode'](_0x11c74e['fillMode'],this['_width'],this['_height']),_0x11c74e['layers']&&_0x11c74e['layerOrder']){const _0x211699=new du('applicatio'+'n'),_0x160eea={};for(const _0x686a6 in _0x11c74e['layers']){const _0x44a844=_0x11c74e['layers'][_0x686a6];_0x44a844['id']=parseInt(_0x686a6,0xa5f+-0x2*-0xa23+0x61f*-0x5),_0x44a844['enabled']=_0x44a844['id']!==ps,_0x160eea[_0x686a6]=new Ot(_0x44a844);}for(let _0x4d9bc7=-0x14ca+-0x262e+0x11*0x378,_0x481b21=_0x11c74e['layerOrder']['length'];_0x4d9bc7<_0x481b21;_0x4d9bc7++){const _0x4002d9=_0x11c74e['layerOrder'][_0x4d9bc7],_0x20c5a3=_0x160eea[_0x4002d9['layer']];_0x20c5a3&&(_0x4002d9['transparen'+'t']?_0x211699['pushTransp'+'arent'](_0x20c5a3):_0x211699['pushOpaque'](_0x20c5a3),_0x211699['subLayerEn'+'abled'][_0x4d9bc7]=_0x4002d9['enabled']);}this['scene']['layers']=_0x211699;}if(_0x11c74e['batchGroup'+'s']){const _0x35f622=this['batcher'];if(_0x35f622)for(let _0x10f9f5=0x3bb*-0x4+0x2*-0x2ce+0x1488,_0x95abe0=_0x11c74e['batchGroup'+'s']['length'];_0x10f9f5<_0x95abe0;_0x10f9f5++){const _0x1d2f0c=_0x11c74e['batchGroup'+'s'][_0x10f9f5];_0x35f622['addGroup'](_0x1d2f0c['name'],_0x1d2f0c['dynamic'],_0x1d2f0c['maxAabbSiz'+'e'],_0x1d2f0c['id'],_0x1d2f0c['layers']);}}_0x11c74e['i18nAssets']&&(this['i18n']['assets']=_0x11c74e['i18nAssets']),this['_loadLibra'+'ries'](_0x11c74e['libraries'],_0x489240);}['_loadLibra'+'ries'](_0x2c2931,_0x4df386){const _0xc62890=_0x2c2931['length'];let _0x557bb9=_0xc62890;const _0x458010=/^https?:\/\//;if(_0xc62890){const _0x55eadd=(_0x5e7302,_0x2a9516)=>{_0x557bb9--,_0x5e7302?_0x4df386(_0x5e7302):_0x557bb9===0xcbd*0x1+0x1d2b+-0x29e8&&(this['onLibrarie'+'sLoaded'](),_0x4df386(null));};for(let _0x316ab0=0x1321*-0x1+-0x1009+-0x7*-0x506;_0x316ab0<_0xc62890;++_0x316ab0){let _0x3c5963=_0x2c2931[_0x316ab0];!_0x458010['test'](_0x3c5963['toLowerCas'+'e']())&&this['_scriptPre'+'fix']&&(_0x3c5963=xe['join'](this['_scriptPre'+'fix'],_0x3c5963)),this['loader']['load'](_0x3c5963,'script',_0x55eadd);}}else this['onLibrarie'+'sLoaded'](),_0x4df386(null);}['_parseScen'+'es'](_0x531737){if(_0x531737){for(let _0x532382=0x42*-0x89+0xb95*-0x1+-0x1*-0x2ee7;_0x532382<_0x531737['length'];_0x532382++)this['scenes']['add'](_0x531737[_0x532382]['name'],_0x531737[_0x532382]['url']);}}['_parseAsse'+'ts'](_0x44317f){const _0x29b82f=[],_0x49ad93={},_0x430e80={};for(let _0x556815=-0x21e3+0x463*0x8+0x3*-0x67;_0x556815<this['scriptsOrd'+'er']['length'];_0x556815++){const _0x36f29b=this['scriptsOrd'+'er'][_0x556815];_0x44317f[_0x36f29b]&&(_0x49ad93[_0x36f29b]=!(0x11*-0x149+0x3d9*0x3+-0x2*-0x527),_0x29b82f['push'](_0x44317f[_0x36f29b]));}if(this['enableBund'+'les']){for(const _0x51cb08 in _0x44317f)_0x44317f[_0x51cb08]['type']==='bundle'&&(_0x430e80[_0x51cb08]=!(-0x1d24+-0x188a+0x1ad7*0x2),_0x29b82f['push'](_0x44317f[_0x51cb08]));}for(const _0x1ca18d in _0x44317f)_0x49ad93[_0x1ca18d]||_0x430e80[_0x1ca18d]||_0x29b82f['push'](_0x44317f[_0x1ca18d]);for(let _0x25db13=0x4*0x452+-0x1445+-0x33*-0xf;_0x25db13<_0x29b82f['length'];_0x25db13++){const _0x477aef=_0x29b82f[_0x25db13],_0x3106ae=new pe(_0x477aef['name'],_0x477aef['type'],_0x477aef['file'],_0x477aef['data']);if(_0x3106ae['id']=parseInt(_0x477aef['id'],-0x1f06+0xb*0x96+0x189e),_0x3106ae['preload']=_0x477aef['preload']?_0x477aef['preload']:!(0x1*-0x454+0x25e3+-0x218e*0x1),_0x3106ae['loaded']=_0x477aef['type']==='script'&&_0x477aef['data']&&_0x477aef['data']['loadingTyp'+'e']>0x8*0x152+-0x6c*0x1+-0xa24,_0x3106ae['tags']['add'](_0x477aef['tags']),_0x477aef['i18n']){for(const _0x942f78 in _0x477aef['i18n'])_0x3106ae['addLocaliz'+'edAssetId'](_0x942f78,_0x477aef['i18n'][_0x942f78]);}this['assets']['add'](_0x3106ae);}}['start'](){w['call'](()=>{w['assert'](!this['_alreadySt'+'arted'],'The\x20applic'+'ation\x20can\x20'+'be\x20started'+'\x20only\x20one\x20'+'time.'),this['_alreadySt'+'arted']=!(0x2*0xc61+0x25cf+-0x3e91);}),this['frame']=-0x606+0x1055+0xcb*-0xd,this['fire']('start',{'timestamp':de(),'target':this}),this['_libraries'+'Loaded']||this['onLibrarie'+'sLoaded'](),this['systems']['fire']('initialize',this['root']),this['fire']('initialize'),this['systems']['fire']('postInitia'+'lize',this['root']),this['systems']['fire']('postPostIn'+'itialize',this['root']),this['fire']('postinitia'+'lize'),this['tick']();}['inputUpdat'+'e'](_0x1461fa){this['controller']&&this['controller']['update'](_0x1461fa),this['mouse']&&this['mouse']['update'](),this['keyboard']&&this['keyboard']['update'](),this['gamepads']&&this['gamepads']['update']();}['update'](_0x287c83){this['frame']++,this['graphicsDe'+'vice']['update'](),this['stats']['frame']['updateStar'+'t']=de(),this['systems']['fire'](this['_inTools']?'toolsUpdat'+'e':'update',_0x287c83),this['systems']['fire']('animationU'+'pdate',_0x287c83),this['systems']['fire']('postUpdate',_0x287c83),this['fire']('update',_0x287c83),this['inputUpdat'+'e'](_0x287c83),this['stats']['frame']['updateTime']=de()-this['stats']['frame']['updateStar'+'t'];}['render'](){this['updateCanv'+'asSize'](),this['graphicsDe'+'vice']['frameStart'](),this['stats']['frame']['renderStar'+'t']=de(),this['fire']('prerender'),this['root']['syncHierar'+'chy'](),this['_batcher']&&this['_batcher']['updateAll'](),fl['_skipRende'+'rCounter']=0x1b20+0x1096+-0xf*0x2ea,this['renderComp'+'osition'](this['scene']['layers']),this['fire']('postrender'),this['stats']['frame']['renderTime']=de()-this['stats']['frame']['renderStar'+'t'],this['graphicsDe'+'vice']['frameEnd']();}['renderComp'+'osition'](_0x2770ec){Q['clearGpuMa'+'rkers'](),this['renderer']['update'](_0x2770ec),this['renderer']['buildFrame'+'Graph'](this['frameGraph'],_0x2770ec),this['frameGraph']['render'](this['graphicsDe'+'vice']);}['_fillFrame'+'StatsBasic'](_0x14c653,_0x5533b8,_0x3d9787){const _0x513c87=this['stats']['frame'];_0x513c87['dt']=_0x5533b8,_0x513c87['ms']=_0x3d9787,_0x14c653>_0x513c87['_timeToCou'+'ntFrames']?(_0x513c87['fps']=_0x513c87['_fpsAccum'],_0x513c87['_fpsAccum']=-0x1134+-0xd7c*0x1+-0x4*-0x7ac,_0x513c87['_timeToCou'+'ntFrames']=_0x14c653+(0x1b22+0x231+-0x3*0x879)):_0x513c87['_fpsAccum']++,this['stats']['drawCalls']['total']=this['graphicsDe'+'vice']['_drawCalls'+'PerFrame'],this['graphicsDe'+'vice']['_drawCalls'+'PerFrame']=-0x165*0x9+0x104*0x13+0x6bf*-0x1;}['_fillFrame'+'Stats'](){let _0x23ade1=this['stats']['frame'];_0x23ade1['cameras']=this['renderer']['_camerasRe'+'ndered'],_0x23ade1['materials']=this['renderer']['_materialS'+'witches'],_0x23ade1['shaders']=this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame'],_0x23ade1['shadowMapU'+'pdates']=this['renderer']['_shadowMap'+'Updates'],_0x23ade1['shadowMapT'+'ime']=this['renderer']['_shadowMap'+'Time'],_0x23ade1['depthMapTi'+'me']=this['renderer']['_depthMapT'+'ime'],_0x23ade1['forwardTim'+'e']=this['renderer']['_forwardTi'+'me'];const _0x54afb3=this['graphicsDe'+'vice']['_primsPerF'+'rame'];_0x23ade1['triangles']=_0x54afb3[js]/(0x1*-0x1fcc+-0xca2+-0x16f*-0x1f)+Math['max'](_0x54afb3[Er]-(-0xaff+0x24af+-0x19ae),-0x1*-0xd92+-0x264b+0x18b9)+Math['max'](_0x54afb3[oa]-(-0x2b4*0x2+0x3*-0x9d3+-0x27*-0xe5),0x26d6+0x2ad*0x5+-0x1*0x3437),_0x23ade1['cullTime']=this['renderer']['_cullTime'],_0x23ade1['sortTime']=this['renderer']['_sortTime'],_0x23ade1['skinTime']=this['renderer']['_skinTime'],_0x23ade1['morphTime']=this['renderer']['_morphTime'],_0x23ade1['lightClust'+'ers']=this['renderer']['_lightClus'+'ters'],_0x23ade1['lightClust'+'ersTime']=this['renderer']['_lightClus'+'tersTime'],_0x23ade1['otherPrimi'+'tives']=-0x8*0x3c1+0xceb+0x111d*0x1;for(let _0x2a3a18=-0x152+-0x2229+0x237b;_0x2a3a18<_0x54afb3['length'];_0x2a3a18++)_0x2a3a18<js&&(_0x23ade1['otherPrimi'+'tives']+=_0x54afb3[_0x2a3a18]),_0x54afb3[_0x2a3a18]=0x225*0x1+-0x17a2*-0x1+-0x1*0x19c7;this['renderer']['_camerasRe'+'ndered']=0x0+0xf*-0xf1+0xe1f,this['renderer']['_materialS'+'witches']=0x51a*-0x6+0x10f9+0xda3,this['renderer']['_shadowMap'+'Updates']=0xed*-0xc+0x41*0x56+-0x2*0x55d,this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame']=0x1cc4+-0x3*0x9d5+0xbb,this['renderer']['_cullTime']=0x17d7+-0x13c0+-0x417,this['renderer']['_layerComp'+'ositionUpd'+'ateTime']=0x9fc+-0x954+0x6*-0x1c,this['renderer']['_lightClus'+'tersTime']=0x111*-0x1+0x3d*-0x7f+0x1f54,this['renderer']['_sortTime']=-0x95d+0x1*0x222f+-0x18d2,this['renderer']['_skinTime']=-0x2118+-0x57f+-0x3*-0xcdd,this['renderer']['_morphTime']=0x48e+-0x1639+0x11ab,this['renderer']['_shadowMap'+'Time']=0x90f*0x1+-0x1*-0x979+0x8*-0x251,this['renderer']['_depthMapT'+'ime']=-0x1f00+-0x796*0x2+0x1716*0x2,this['renderer']['_forwardTi'+'me']=0xef9*-0x1+0x80+0x3*0x4d3,_0x23ade1=this['stats']['drawCalls'],_0x23ade1['forward']=this['renderer']['_forwardDr'+'awCalls'],_0x23ade1['culled']=this['renderer']['_numDrawCa'+'llsCulled'],_0x23ade1['depth']=-0x24f+-0x10*-0x6b+-0x461,_0x23ade1['shadow']=this['renderer']['_shadowDra'+'wCalls'],_0x23ade1['skinned']=this['renderer']['_skinDrawC'+'alls'],_0x23ade1['immediate']=-0x1369*0x1+0x1a2d+-0x6c4,_0x23ade1['instanced']=0x2267+-0x130f*0x1+0x1*-0xf58,_0x23ade1['removedByI'+'nstancing']=0x25f0+-0x1f7*-0x13+0x9*-0x85d,_0x23ade1['misc']=_0x23ade1['total']-(_0x23ade1['forward']+_0x23ade1['shadow']),this['renderer']['_depthDraw'+'Calls']=-0x25da+-0xca9+-0x43*-0xc1,this['renderer']['_shadowDra'+'wCalls']=-0x677+0x121d+-0xba6,this['renderer']['_forwardDr'+'awCalls']=-0x6e2+0x81*-0xb+0xc6d*0x1,this['renderer']['_numDrawCa'+'llsCulled']=-0x2*-0x93b+0x4*0x3e7+-0x2212,this['renderer']['_skinDrawC'+'alls']=0xbf5*-0x1+0x4*0x182+0x5ed,this['renderer']['_immediate'+'Rendered']=0x3*-0x7f4+0x73*-0x2f+-0x2cf9*-0x1,this['renderer']['_instanced'+'DrawCalls']=0x1*-0x3a+0x953+-0x919,this['stats']['misc']['renderTarg'+'etCreation'+'Time']=this['graphicsDe'+'vice']['renderTarg'+'etCreation'+'Time'],_0x23ade1=this['stats']['particles'],_0x23ade1['updatesPer'+'Frame']=_0x23ade1['_updatesPe'+'rFrame'],_0x23ade1['frameTime']=_0x23ade1['_frameTime'],_0x23ade1['_updatesPe'+'rFrame']=-0x990+-0x1fe4+0x2974,_0x23ade1['_frameTime']=0x27*0x5+-0x2*0x98f+0x125b;}['setCanvasF'+'illMode'](_0xb2f8db,_0x9d2ace,_0x757783){this['_fillMode']=_0xb2f8db,this['resizeCanv'+'as'](_0x9d2ace,_0x757783);}['setCanvasR'+'esolution'](_0x4dc436,_0x3ca30e,_0x4c7002){this['_resolutio'+'nMode']=_0x4dc436,_0x4dc436===wg&&_0x3ca30e===void(-0x35b*0x3+0x231b+-0x190a)&&(_0x3ca30e=this['graphicsDe'+'vice']['canvas']['clientWidt'+'h'],_0x4c7002=this['graphicsDe'+'vice']['canvas']['clientHeig'+'ht']),this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x3ca30e,_0x4c7002);}['isHidden'](){return document[this['_hiddenAtt'+'r']];}['onVisibili'+'tyChange'](){this['isHidden']()?this['_soundMana'+'ger']&&this['_soundMana'+'ger']['suspend']():this['_soundMana'+'ger']&&this['_soundMana'+'ger']['resume']();}['resizeCanv'+'as'](_0x4cc806,_0x5eb2f0){if(!this['_allowResi'+'ze']||this['xr']&&this['xr']['session'])return;const _0x331690=window['innerWidth'],_0x2c483b=window['innerHeigh'+'t'];if(this['_fillMode']===Tg){const _0xae2c34=this['graphicsDe'+'vice']['canvas']['width']/this['graphicsDe'+'vice']['canvas']['height'],_0x594349=_0x331690/_0x2c483b;_0xae2c34>_0x594349?(_0x4cc806=_0x331690,_0x5eb2f0=_0x4cc806/_0xae2c34):(_0x5eb2f0=_0x2c483b,_0x4cc806=_0x5eb2f0*_0xae2c34);}else this['_fillMode']===PC&&(_0x4cc806=_0x331690,_0x5eb2f0=_0x2c483b);return this['graphicsDe'+'vice']['canvas']['style']['width']=_0x4cc806+'px',this['graphicsDe'+'vice']['canvas']['style']['height']=_0x5eb2f0+'px',this['updateCanv'+'asSize'](),{'width':_0x4cc806,'height':_0x5eb2f0};}['updateCanv'+'asSize'](){var _0x417895;if(!(!this['_allowResi'+'ze']||(_0x417895=this['xr'])!=null&&_0x417895['active'])&&this['_resolutio'+'nMode']===wg){const _0x4d9a74=this['graphicsDe'+'vice']['canvas'];this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x4d9a74['clientWidt'+'h'],_0x4d9a74['clientHeig'+'ht']);}}['onLibrarie'+'sLoaded'](){this['_libraries'+'Loaded']=!(-0xc1*-0xb+-0x1*0x23df+0x2*0xdca),this['systems']['rigidbody']&&this['systems']['rigidbody']['onLibraryL'+'oaded']();}['applyScene'+'Settings'](_0x498fc3){let _0x1545c0;if(this['systems']['rigidbody']&&typeof Ammo<'u'){const [_0x1172d1,_0x28322c,_0x50f3d7]=_0x498fc3['physics']['gravity'];this['systems']['rigidbody']['gravity']['set'](_0x1172d1,_0x28322c,_0x50f3d7);}this['scene']['applySetti'+'ngs'](_0x498fc3),_0x498fc3['render']['hasOwnProp'+'erty']('skybox')&&(_0x498fc3['render']['skybox']?(_0x1545c0=this['assets']['get'](_0x498fc3['render']['skybox']),_0x1545c0?this['setSkybox'](_0x1545c0):this['assets']['once']('add:'+_0x498fc3['render']['skybox'],this['setSkybox'],this)):this['setSkybox'](null));}['setAreaLig'+'htLuts'](_0x9d7032,_0x5aa5f6){_0x9d7032&&_0x5aa5f6?ia['set'](this['graphicsDe'+'vice'],_0x9d7032,_0x5aa5f6):w['warn']('setAreaLig'+'htLuts:\x20LU'+'Ts\x20for\x20are'+'a\x20light\x20ar'+'e\x20not\x20vali'+'d');}['setSkybox'](_0x3fe366){if(_0x3fe366!==this['_skyboxAss'+'et']){const _0x315ccf=()=>{this['setSkybox'](null);},_0x217e93=()=>{this['scene']['setSkybox'](this['_skyboxAss'+'et']?this['_skyboxAss'+'et']['resources']:null);};this['_skyboxAss'+'et']&&(this['assets']['off']('load:'+this['_skyboxAss'+'et']['id'],_0x217e93,this),this['assets']['off']('remove:'+this['_skyboxAss'+'et']['id'],_0x315ccf,this),this['_skyboxAss'+'et']['off']('change',_0x217e93,this)),this['_skyboxAss'+'et']=_0x3fe366,this['_skyboxAss'+'et']&&(this['assets']['on']('load:'+this['_skyboxAss'+'et']['id'],_0x217e93,this),this['assets']['once']('remove:'+this['_skyboxAss'+'et']['id'],_0x315ccf,this),this['_skyboxAss'+'et']['on']('change',_0x217e93,this),this['scene']['skyboxMip']===0x76+0x44f*0x9+-0x273d&&!this['_skyboxAss'+'et']['loadFaces']&&(this['_skyboxAss'+'et']['loadFaces']=!(0x27*0x2f+-0x1df6+0x16cd)),this['assets']['load'](this['_skyboxAss'+'et'])),_0x217e93();}}['_firstBake'](){var _0x6af5ef;(_0x6af5ef=this['lightmappe'+'r'])==null||_0x6af5ef['bake'](null,this['scene']['lightmapMo'+'de']);}['_firstBatc'+'h'](){var _0x107bc2;(_0x107bc2=this['batcher'])==null||_0x107bc2['generate']();}['_processTi'+'mestamp'](_0x39e44a){return _0x39e44a;}['drawLine'](_0x3221a8,_0x18315f,_0xa79707,_0x4775c2,_0x465bf4){this['scene']['drawLine'](_0x3221a8,_0x18315f,_0xa79707,_0x4775c2,_0x465bf4);}['drawLines'](_0x5c26d0,_0x4831d2,_0x35b38d=!(-0x1*-0x1c52+0x213e+-0x3d90),_0x4e67a5=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLines'](_0x5c26d0,_0x4831d2,_0x35b38d,_0x4e67a5);}['drawLineAr'+'rays'](_0x5a38e4,_0x8a3bc9,_0x18b549=!(-0x10af*-0x1+-0x10c7*0x1+0x18),_0x3bcece=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLineAr'+'rays'](_0x5a38e4,_0x8a3bc9,_0x18b549,_0x3bcece);}['drawWireSp'+'here'](_0xd01fc6,_0x4da9a0,_0x2397cf=ie['WHITE'],_0x49e91a=0x3d*-0x98+0x1b44+0x908,_0x5bc299=!(-0x24f9+-0x1*0x2113+0x460c),_0x146d7a=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawWireSp'+'here'](_0xd01fc6,_0x4da9a0,_0x2397cf,_0x49e91a,_0x5bc299,_0x146d7a);}['drawWireAl'+'ignedBox'](_0x372185,_0x20d97,_0x1acda0=ie['WHITE'],_0x2266be=!(-0x1*-0x21dd+0x95*-0x3f+0x2ce),_0x22d3fc=this['scene']['defaultDra'+'wLayer'],_0x28cb8f){this['scene']['immediate']['drawWireAl'+'ignedBox'](_0x372185,_0x20d97,_0x1acda0,_0x2266be,_0x22d3fc,_0x28cb8f);}['drawMeshIn'+'stance'](_0x53fada,_0x2ff41a=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](null,null,null,_0x53fada,_0x2ff41a);}['drawMesh'](_0x419dda,_0x4d950f,_0x1423ba,_0x575414=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x4d950f,_0x1423ba,_0x419dda,null,_0x575414);}['drawQuad'](_0x20f7ad,_0xbcb3a5,_0x59a3ea=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0xbcb3a5,_0x20f7ad,this['scene']['immediate']['getQuadMes'+'h'](),null,_0x59a3ea);}['drawTextur'+'e'](_0x58e80a,_0x214865,_0xcd7463,_0x2a8ff4,_0x225806,_0x8b1286,_0x25c198=this['scene']['defaultDra'+'wLayer'],_0x36e32a=!(0x6d6+0x11aa+-0x1880)){if(_0x36e32a===!(-0xefe+0x243f*0x1+-0x1540)&&!this['graphicsDe'+'vice']['isWebGPU'])return;const _0x5bcf92=new te();_0x5bcf92['setTRS'](new D(_0x58e80a,_0x214865,0x3*-0x12e+0x15ba+0x18*-0xc2),le['IDENTITY'],new D(_0xcd7463,-_0x2a8ff4,0x16d3+0x32+-0x1705)),_0x8b1286||(_0x8b1286=new Xn(),_0x8b1286['cull']=bt,_0x8b1286['setParamet'+'er']('colorMap',_0x225806),_0x8b1286['shaderDesc']=_0x36e32a?this['scene']['immediate']['getTexture'+'ShaderDesc'](_0x225806['encoding']):this['scene']['immediate']['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](),_0x8b1286['update']()),this['drawQuad'](_0x5bcf92,_0x8b1286,_0x25c198);}['drawDepthT'+'exture'](_0x3aa532,_0x316c20,_0x44325e,_0x543151,_0x51c200=this['scene']['defaultDra'+'wLayer']){const _0x4c2cc0=new Xn();_0x4c2cc0['cull']=bt,_0x4c2cc0['shaderDesc']=this['scene']['immediate']['getDepthTe'+'xtureShade'+'rDesc'](),_0x4c2cc0['update'](),this['drawTextur'+'e'](_0x3aa532,_0x316c20,_0x44325e,_0x543151,null,_0x4c2cc0,_0x51c200);}['destroy'](){var _0x108da6,_0x5c2f9d,_0x425700,_0x2e6183;if(this['_inFrameUp'+'date']){this['_destroyRe'+'quested']=!(-0xe*-0x18b+0x7c3*-0x3+0x1af*0x1);return;}const _0x1b0344=this['graphicsDe'+'vice']['canvas']['id'];this['fire']('destroy',this),this['off']('librariesl'+'oaded'),typeof document<'u'&&(document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1b3e+-0x2*-0x115f+-0x13*0x65)),document['removeEven'+'tListener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0xab*0xd+0x160e+-0xd5e*0x1)),document['removeEven'+'tListener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1*-0x14f7+0x198d*-0x1+0x497)),document['removeEven'+'tListener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(0x25ad+0x2*-0xd75+-0x561*0x2))),this['_visibilit'+'yChangeHan'+'dler']=null,this['root']['destroy'](),this['root']=null,this['mouse']&&(this['mouse']['off'](),this['mouse']['detach'](),this['mouse']=null),this['keyboard']&&(this['keyboard']['off'](),this['keyboard']['detach'](),this['keyboard']=null),this['touch']&&(this['touch']['off'](),this['touch']['detach'](),this['touch']=null),this['elementInp'+'ut']&&(this['elementInp'+'ut']['detach'](),this['elementInp'+'ut']=null),this['gamepads']&&(this['gamepads']['destroy'](),this['gamepads']=null),this['controller']&&(this['controller']=null),this['systems']['destroy'](),this['scene']['layers']&&this['scene']['layers']['destroy']();const _0x203cb5=this['assets']['list']();for(let _0x3c42d=0x4f3+0x24d9*-0x1+0x1fe6;_0x3c42d<_0x203cb5['length'];_0x3c42d++)_0x203cb5[_0x3c42d]['unload'](),_0x203cb5[_0x3c42d]['off']();this['assets']['off'](),this['bundles']['destroy'](),this['bundles']=null,this['i18n']['destroy'](),this['i18n']=null;const _0xc89042=this['loader']['getHandler']('script');_0xc89042==null||_0xc89042['clearCache'](),this['loader']['destroy'](),this['loader']=null,this['scene']['destroy'](),this['scene']=null,this['systems']=null,this['context']=null,this['scripts']['destroy'](),this['scripts']=null,this['scenes']['destroy'](),this['scenes']=null,(_0x108da6=this['lightmappe'+'r'])==null||_0x108da6['destroy'](),this['lightmappe'+'r']=null,this['_batcher']&&(this['_batcher']['destroy'](),this['_batcher']=null),this['_entityInd'+'ex']={},this['defaultLay'+'erDepth']['onDisable']=null,this['defaultLay'+'erDepth']['onEnable']=null,this['defaultLay'+'erDepth']=null,this['defaultLay'+'erWorld']=null,(_0x5c2f9d=this['xr'])==null||_0x5c2f9d['end'](),(_0x425700=this['xr'])==null||_0x425700['destroy'](),this['renderer']['destroy'](),this['renderer']=null,this['graphicsDe'+'vice']['destroy'](),this['graphicsDe'+'vice']=null,this['tick']=null,this['off'](),(_0x2e6183=this['_soundMana'+'ger'])==null||_0x2e6183['destroy'](),this['_soundMana'+'ger']=null,ea['_applicati'+'ons'][_0x1b0344]=null,Ms()===this&&_u(null),ea['cancelTick'](this);}static['cancelTick'](_0x58337d){_0x58337d['frameReque'+'stId']&&(window['cancelAnim'+'ationFrame'](_0x58337d['frameReque'+'stId']),_0x58337d['frameReque'+'stId']=void(0x3c7*-0x2+-0x495*0x8+0x2c36));}['getEntityF'+'romIndex'](_0x2fdcdb){return this['_entityInd'+'ex'][_0x2fdcdb];}['_registerS'+'ceneImmedi'+'ate'](_0x390987){this['on']('postrender',_0x390987['immediate']['onPostRend'+'er'],_0x390987['immediate']);}};h(ea,'_applicati'+'ons',{});let Ks=ea;const eL=function(_0x2c5fe8){const _0x177a74=_0x2c5fe8;return function(_0x10f593,_0x1e5c24){var _0x73d384,_0x10c2cf,_0x2da711,_0x2e752f;if(!_0x177a74['graphicsDe'+'vice'])return;_0x177a74['frameReque'+'stId']&&((_0x10c2cf=(_0x73d384=_0x177a74['xr'])==null?void(-0x2f*0x2+-0x23de*-0x1+-0x2380):_0x73d384['session'])==null||_0x10c2cf['cancelAnim'+'ationFrame'](_0x177a74['frameReque'+'stId']),cancelAnimationFrame(_0x177a74['frameReque'+'stId']),_0x177a74['frameReque'+'stId']=null),_0x177a74['_inFrameUp'+'date']=!(-0xbce+0x1*-0x3b5+-0xd1*-0x13),_u(_0x177a74);const _0x5a9906=_0x177a74['_processTi'+'mestamp'](_0x10f593)||de(),_0x264b75=_0x5a9906-(_0x177a74['_time']||_0x5a9906);let _0x29bf28=_0x264b75/(0x1*0x22f+0x1f42+-0x1d89*0x1);if(_0x29bf28=Y['clamp'](_0x29bf28,0x11*-0x33+0x196a+0x1*-0x1607,_0x177a74['maxDeltaTi'+'me']),_0x29bf28*=_0x177a74['timeScale'],_0x177a74['_time']=_0x5a9906,(_0x2da711=_0x177a74['xr'])!=null&&_0x2da711['session']?_0x177a74['frameReque'+'stId']=_0x177a74['xr']['session']['requestAni'+'mationFram'+'e'](_0x177a74['tick']):_0x177a74['frameReque'+'stId']=Ae['browser']||Ae['worker']?requestAnimationFrame(_0x177a74['tick']):null,_0x177a74['graphicsDe'+'vice']['contextLos'+'t'])return;_0x177a74['_fillFrame'+'StatsBasic'](_0x5a9906,_0x29bf28,_0x264b75),_0x177a74['_fillFrame'+'Stats'](),_0x177a74['fire']('frameupdat'+'e',_0x264b75);let _0x111858=!(0x3*-0x556+-0x1e3d+0x2e40);_0x1e5c24?(_0x111858=!((_0x2e752f=_0x177a74['xr'])!=null&&_0x2e752f['update'](_0x1e5c24)),_0x177a74['graphicsDe'+'vice']['defaultFra'+'mebuffer']=_0x1e5c24['session']['renderStat'+'e']['baseLayer']['framebuffe'+'r']):_0x177a74['graphicsDe'+'vice']['defaultFra'+'mebuffer']=null,!_0x111858&&!_0x177a74['stopSort']&&(w['trace'](W0,'----\x20Frame'+'\x20'+_0x177a74['frame']),w['trace'](Ld,'--\x20UpdateS'+'tart\x20'+de()['toFixed'](-0x25af*0x1+0x308+0x22a9)+'ms'),_0x177a74['update'](_0x29bf28),_0x177a74['fire']('framerende'+'r'),(_0x177a74['autoRender']||_0x177a74['renderNext'+'Frame'])&&(w['trace'](Ld,'--\x20RenderS'+'tart\x20'+de()['toFixed'](0x386+0x23e7+-0x276b)+'ms'),_0x177a74['render'](),_0x177a74['renderNext'+'Frame']=!(-0x878+0xe3b*-0x1+0x16b4),w['trace'](Ld,'--\x20RenderE'+'nd\x20'+de()['toFixed'](0x1af9+-0x4b5*0x2+-0x118d)+'ms')),_0x177a74['fire']('frameend')),_0x177a74['_inFrameUp'+'date']=!(0x1*0x1ddd+0x34b+0x9*-0x3af),_0x177a74['_destroyRe'+'quested']&&_0x177a74['destroy']();};};class tL{constructor(){h(this,'elementInp'+'ut'),h(this,'keyboard'),h(this,'mouse'),h(this,'touch'),h(this,'gamepads'),h(this,'scriptPref'+'ix'),h(this,'assetPrefi'+'x'),h(this,'scriptsOrd'+'er'),h(this,'soundManag'+'er'),h(this,'graphicsDe'+'vice'),h(this,'lightmappe'+'r'),h(this,'batchManag'+'er'),h(this,'xr'),h(this,'componentS'+'ystems',[]),h(this,'resourceHa'+'ndlers',[]);}}const mo=new sp();class Uv{constructor(_0x1dbfb,_0xdad969,_0x4e961f){this['scene']=_0x1dbfb,this['light']=_0xdad969,this['store'](),_0xdad969['numCascade'+'s']=-0x2e7+0x100d+-0x5*0x2a1,this['scene']['clusteredL'+'ightingEna'+'bled']&&!_0x4e961f['shadowsEna'+'bled']&&(_0xdad969['castShadow'+'s']=!(-0x1136+0x4*-0x7f1+0x30fb)),_0xdad969['type']!==ve&&(_0xdad969['_node']['getWorldTr'+'ansform'](),_0xdad969['getBoundin'+'gSphere'](mo),this['lightBound'+'s']=new De(),this['lightBound'+'s']['center']['copy'](mo['center']),this['lightBound'+'s']['halfExtent'+'s']['set'](mo['radius'],mo['radius'],mo['radius']));}['store'](){this['mask']=this['light']['mask'],this['shadowUpda'+'teMode']=this['light']['shadowUpda'+'teMode'],this['enabled']=this['light']['enabled'],this['intensity']=this['light']['intensity'],this['rotation']=this['light']['_node']['getLocalRo'+'tation']()['clone'](),this['numCascade'+'s']=this['light']['numCascade'+'s'],this['castShadow'+'s']=this['light']['_castShado'+'ws'];}['restore'](){const _0x2f8f1f=this['light'];_0x2f8f1f['mask']=this['mask'],_0x2f8f1f['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x2f8f1f['enabled']=this['enabled'],_0x2f8f1f['intensity']=this['intensity'],_0x2f8f1f['_node']['setLocalRo'+'tation'](this['rotation']),_0x2f8f1f['numCascade'+'s']=this['numCascade'+'s'],_0x2f8f1f['_castShado'+'ws']=this['castShadow'+'s'];}['startBake'](){this['light']['enabled']=!(0x2*-0x94f+0x1da5*0x1+-0xb07),this['light']['_destroySh'+'adowMap'](),this['light']['beginFrame']();}['endBake'](_0xd958e4){const _0x52a232=this['light'];_0x52a232['enabled']=!(-0x1d26+0x2065+-0x19f*0x2),_0x52a232['shadowMap']&&(_0x52a232['shadowMap']['cached']&&_0xd958e4['add'](_0x52a232,_0x52a232['shadowMap']),_0x52a232['shadowMap']=null);}}const yc=new J();class sL extends Uv{constructor(_0x41d0ed,_0x3db9d1){super(_0x41d0ed['scene'],_0x3db9d1,_0x41d0ed['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['type']===ve?this['light']['bakeNumSam'+'ples']:-0xb50+-0x6*-0x631+-0x19d5;}['prepareVir'+'tualLight'](_0x2ce237,_0x497966){const _0x445927=this['light'];if(_0x445927['_node']['setLocalRo'+'tation'](this['rotation']),_0x2ce237>-0x1c8*0x13+-0x797*0x1+0x1*0x296f){const _0x2e42ee=_0x445927['bakeArea'];Nl['circlePoin'+'tDetermini'+'stic'](yc,_0x2ce237,_0x497966),yc['mulScalar'](_0x2e42ee*(0xd6+0x1d41+-0x1e17*0x1+0.5)),_0x445927['_node']['rotateLoca'+'l'](yc['x'],-0x1679+0x1*0x17f5+0x1*-0x17c,yc['y']);}_0x445927['_node']['getWorldTr'+'ansform']();const _0x585978=0x12a*0x2+-0x1*-0x9c2+-0xc14+0.20000000000000018,_0x1abe6b=Math['pow'](this['intensity'],_0x585978);_0x445927['intensity']=Math['pow'](_0x1abe6b/_0x497966,(0x13f3+-0x1f6+-0x11fc)/_0x585978);}}const Pg=new D();class Mg extends Uv{constructor(_0x5e58c7){const _0x4deddc=_0x5e58c7['scene'],_0x444a9c=new lt('AmbientLig'+'ht');_0x444a9c['addCompone'+'nt']('light',{'type':'directiona'+'l','affectDynamic':!(0x688*0x4+-0x935+-0x10eb),'affectLightmapped':!(-0x1*-0xa67+-0x1*-0x41f+0x213*-0x7),'bake':!(-0x915*0x2+0x829*0x1+-0x1*-0xa01),'bakeNumSamples':_0x4deddc['ambientBak'+'eNumSample'+'s'],'castShadows':!(0x1270*0x1+-0x11d8+0x4*-0x26),'normalOffsetBias':0.05,'shadowBias':0.2,'shadowDistance':0x1,'shadowResolution':0x800,'shadowType':$s,'color':ie['WHITE'],'intensity':0x1,'bakeDir':!(0x214c+0xc3+0x1*-0x220e)}),super(_0x4deddc,_0x444a9c['light']['light'],_0x5e58c7['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['bakeNumSam'+'ples'];}['prepareVir'+'tualLight'](_0x3cf0a5,_0x22c1a3){Nl['spherePoin'+'tDetermini'+'stic'](Pg,_0x3cf0a5,_0x22c1a3,0x1*0x224+-0x11ad+0xf89,this['scene']['ambientBak'+'eSpherePar'+'t']),this['light']['_node']['lookAt'](Pg['mulScalar'](-(-0x3c5*-0x3+0x1a73*0x1+-0x25c1))),this['light']['_node']['rotateLoca'+'l'](-0x19*0x167+0x16c2+-0x29*-0x4f,-0x4*0x16f+0x52*-0x6d+0x28a6,0x1d*0x3+-0x12b3+0x125c);const _0x5d999a=-0x3*-0x7e9+0x2*-0x2d5+-0x120f+0.20000000000000018,_0x3c7e88=(0x25d9+-0x1683*-0x1+-0x67*0x96)*Math['PI']*this['scene']['ambientBak'+'eSpherePar'+'t'],_0x1f84e4=Math['pow'](_0x3c7e88,_0x5d999a);this['light']['intensity']=Math['pow'](_0x1f84e4/_0x22c1a3,(0x13e1+-0x2*-0x1046+0x2*-0x1a36)/_0x5d999a);}}class vc{constructor(_0x7bec48,_0x533571=null){this['node']=_0x7bec48,this['component']=_0x7bec48['render']||_0x7bec48['model'],_0x533571=_0x533571||this['component']['meshInstan'+'ces'],this['store'](),this['meshInstan'+'ces']=_0x533571,this['bounds']=null,this['renderTarg'+'ets']=[];}['store'](){this['castShadow'+'s']=this['component']['castShadow'+'s'];}['restore'](){this['component']['castShadow'+'s']=this['castShadow'+'s'];}}const iL='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afl'+'oat\x20normpd'+'f3(in\x20vec3'+'\x20v,\x20in\x20flo'+'at\x20sigma)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x200.39894'+'\x20*\x20exp(-0.'+'5\x20*\x20dot(v,'+'\x20v)\x20/\x20(sig'+'ma\x20*\x20sigma'+'))\x20/\x20sigma'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBM'+'(vec4\x20rgbm'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20color\x20='+'\x20(8.0\x20*\x20rg'+'bm.a)\x20*\x20rg'+'bm.rgb;\x0a\x20\x20'+'\x20\x20return\x20c'+'olor\x20*\x20col'+'or;\x0a}\x0a\x0aflo'+'at\x20saturat'+'e(float\x20x)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeRG'+'BM(vec3\x20co'+'lor)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20encoded'+';\x0a\x20\x20\x20\x20enco'+'ded.rgb\x20=\x20'+'pow(color.'+('rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20encoded.r'+'gb\x20*=\x201.0\x20'+'/\x208.0;\x0a\x0a\x20\x20'+'\x20\x20encoded.'+'a\x20=\x20satura'+'te(\x20max(\x20m'+'ax(\x20encode'+'d.r,\x20encod'+'ed.g\x20),\x20ma'+'x(\x20encoded'+'.b,\x201.0\x20/\x20'+'255.0\x20)\x20)\x20'+');\x0a\x20\x20\x20\x20enc'+'oded.a\x20=\x20c'+'eil(encode'+'d.a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20enc'+'oded.rgb\x20/'+'=\x20encoded.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20encode'+'d;\x0a}\x0a\x0avec3'+'\x20decode(ve'+'c4\x20pixel)\x20'+'{\x0a\x20\x20\x20\x20#if\x20'+'HDR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20p'+'ixel.rgb;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eRGBM(pixe'+'l);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0abo'+'ol\x20isUsed('+'vec4\x20pixel'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20HDR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20any(great'+'erThan(pix'+'el.rgb,\x20ve'+'c3(0.0)));'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20pixe'+'l.a\x20>\x200.0;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0avaryi'+'ng\x20vec2\x20vU'+'v0;\x0aunifor'+'m\x20sampler2'+'D\x20source;\x0a'+'uniform\x20ve'+'c2\x20pixelOf'+'fset;\x0aunif'+'orm\x20vec2\x20s'+'igmas;\x0auni'+'form\x20float'+'\x20bZnorm;\x0au'+'niform\x20flo'+'at\x20kernel['+'{MSIZE}];\x0a'+'\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20ve'+'c4\x20pixel\x20='+'\x20texture2D'+'Lod(source'+',\x20vUv0,\x200.'+'0);\x0a\x0a\x20\x20\x20\x20/'+'/\x20lightmap'+'\x20specific\x20'+'optimizati'+'on\x20-\x20skip\x20'+'pixels\x20tha'+'t\x20were\x20not'+'\x20baked\x0a\x20\x20\x20'+'\x20//\x20this\x20a'+'lso\x20allows'+'\x20dilate\x20fi'+'lter\x20that\x20'+'work\x20on\x20th'+'e\x20output\x20o'+'f\x20this\x20to\x20'+'work\x20corre'+'ctly,\x20as\x20i'+'t\x20depends\x20'+'on\x20.a\x20bein'+'g\x20zero\x0a\x20\x20\x20'+'\x20//\x20to\x20dil'+'ate,\x20which'+'\x20the\x20follo'+'wing\x20blur\x20'+'filter\x20wou'+'ld\x20otherwi'+'se\x20modify\x0a')+('\x20\x20\x20\x20if\x20(!i'+'sUsed(pixe'+'l))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20p'+'ixel;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20sigma\x20-'+'\x20controls\x20'+'blurriness'+'\x20based\x20on\x20'+'a\x20pixel\x20di'+'stance\x0a\x20\x20\x20'+'\x20float\x20sig'+'ma\x20=\x20sigma'+'s.x;\x0a\x0a\x20\x20\x20\x20'+'//\x20domain\x20'+'sigma\x20-\x20co'+'ntrols\x20blu'+'rriness\x20ba'+'sed\x20on\x20a\x20p'+'ixel\x20simil'+'arity\x20(to\x20'+'preserve\x20e'+'dges)\x0a\x20\x20\x20\x20'+'float\x20bSig'+'ma\x20=\x20sigma'+'s.y;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20pixel'+'Hdr\x20=\x20deco'+'de(pixel);'+'\x0a\x20\x20\x20\x20vec3\x20'+'accumulate'+'dHdr\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20float\x20ac'+'cumulatedF'+'actor\x20=\x200.'+'000001;\x20\x20/'+'/\x20avoid\x20di'+'vision\x20by\x20'+'zero\x0a\x0a\x20\x20\x20\x20'+'//\x20read\x20ou'+'t\x20the\x20texe'+'ls\x0a\x20\x20\x20\x20con'+'st\x20int\x20kSi'+'ze\x20=\x20({MSI'+'ZE}\x20-\x201)\x20/'+'\x202;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x20-kSize;\x20i'+'\x20<=\x20kSize;'+'\x20++i)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20j\x20=\x20-'+'kSize;\x20j\x20<'+'=\x20kSize;\x20+'+'+j)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sample'+'\x20the\x20pixel'+'\x20with\x20offs'+'et\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'coord\x20=\x20vU'+'v0\x20+\x20vec2('+'float(i),\x20'+'float(j))\x20'+'*\x20pixelOff'+'set;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20pix\x20=\x20te'+'xture2DLod'+'(source,\x20c'+'oord,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20li'+'ghtmap\x20-\x20o'+'nly\x20use\x20ba'+'ked\x20pixels'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isU'+'sed(pix))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20hdr\x20=\x20d'+'ecode(pix)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20bilatera'+'l\x20factors\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20factor\x20='+'\x20kernel[kS'+'ize\x20+\x20j]\x20*'+'\x20kernel[kS')+('ize\x20+\x20i];\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fact'+'or\x20*=\x20norm'+'pdf3(hdr\x20-'+'\x20pixelHdr,'+'\x20bSigma)\x20*'+'\x20bZnorm;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'ccumulate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20accu'+'mulatedHdr'+'\x20+=\x20factor'+'\x20*\x20hdr;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20accumu'+'latedFacto'+'r\x20+=\x20facto'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20finalHD'+'R\x20=\x20accumu'+'latedHdr\x20/'+'\x20accumulat'+'edFactor;\x0a'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(finalHDR,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'encodeRGBM'+'(finalHDR)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a'),rL='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0auniform\x20'+'sampler2D\x20'+'source;\x0aun'+'iform\x20vec2'+'\x20pixelOffs'+'et;\x0a\x0abool\x20'+'isUsed(vec'+'4\x20pixel)\x20{'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20an'+'y(greaterT'+'han(pixel.'+'rgb,\x20vec3('+'0.0)));\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20pixel.a'+'\x20>\x200.0;\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20c'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20vUv0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'c\x20=\x20isUsed'+'(c)\x20?\x20c\x20:\x20'+'texture2DL'+'od(source,'+'\x20vUv0\x20-\x20pi'+'xelOffset,'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20v'+'ec2(0,\x20-pi'+'xelOffset.'+'y),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(pix'+'elOffset.x'+',\x20-pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(-pixelOf'+'fset.x,\x200)'+',\x200.0);\x0a\x20\x20'+'\x20\x20c\x20=\x20isUs'+'ed(c)\x20?\x20c\x20'+':\x20texture2'+'DLod(sourc'+'e,\x20vUv0\x20+\x20'+'vec2(pixel'+'Offset.x,\x20'+'0),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(-pi'+'xelOffset.'+'x,\x20pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(0,\x20pixel'+'Offset.y),'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20p'+'ixelOffset'+',\x200.0);\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20c;\x0a'+'}\x0a',aL='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afn'+'\x20normpdf3('+'v:\x20vec3f,\x20'+'sigma:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x200.39894\x20'+'*\x20exp(-0.5'+'\x20*\x20dot(v,\x20'+'v)\x20/\x20(sigm'+'a\x20*\x20sigma)'+')\x20/\x20sigma;'+'\x0a}\x0a\x0afn\x20dec'+'odeRGBM(rg'+'bm:\x20vec4f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'color\x20=\x20(8'+'.0\x20*\x20rgbm.'+'a)\x20*\x20rgbm.'+'rgb;\x0a\x20\x20\x20\x20r'+'eturn\x20colo'+'r\x20*\x20color;'+'\x0a}\x0a\x0afn\x20sat'+'urate(x:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0afn\x20'+'encodeRGBM'+'(color:\x20ve'+'c3f)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'var\x20encode'+'d:\x20vec4f;\x0a'+'\x20\x20\x20\x20let\x20rg'+'b_processe'+('d\x20=\x20pow(co'+'lor.rgb,\x20v'+'ec3f(0.5))'+'\x20*\x20(1.0\x20/\x20'+'8.0);\x0a\x20\x20\x20\x20'+'encoded\x20=\x20'+'vec4f(rgb_'+'processed,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20let\x20max_'+'g_b\x20=\x20max('+'\x20encoded.g'+',\x20max(\x20enc'+'oded.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20);\x0a\x20\x20\x20\x20l'+'et\x20max_rgb'+'\x20=\x20max(\x20en'+'coded.r,\x20m'+'ax_g_b\x20);\x0a'+'\x20\x20\x20\x20encode'+'d.a\x20=\x20clam'+'p(max_rgb,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20enco'+'ded.a\x20=\x20ce'+'il(encoded'+'.a\x20*\x20255.0'+')\x20/\x20255.0;'+'\x0a\x0a\x20\x20\x20\x20enco'+'ded\x20=\x20vec4'+'f(encoded.'+'rgb\x20/\x20enco'+'ded.a,\x20enc'+'oded.a);\x0a\x20'+'\x20\x20\x20return\x20'+'encoded;\x0a}'+'\x0a\x0afn\x20decod'+'e(pixel:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20#if\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20pixel.'+'rgb;\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'decodeRGBM'+'(pixel);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a\x0afn\x20isUs'+'ed(pixel:\x20'+'vec4f)\x20->\x20'+'bool\x20{\x0a\x20\x20\x20'+'\x20#if\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20any(pi'+'xel.rgb\x20>\x20'+'vec3f(0.0)'+');\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20pi'+'xel.a\x20>\x200.'+'0;\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a\x0avar'+'ying\x20vUv0:'+'\x20vec2f;\x0ava'+'r\x20source:\x20'+'texture_2d'+'<f32>;\x0avar'+'\x20sourceSam'+'pler:\x20samp'+'ler;\x0aunifo'+'rm\x20kernel:'+'\x20array<f32'+',\x20{MSIZE}>'+';\x0auniform\x20'+'pixelOffse'+'t:\x20vec2f;\x0a'+'uniform\x20si'+'gmas:\x20vec2'+'f;\x0auniform'+'\x20bZnorm:\x20f'+'32;\x0a\x0a@frag'+'ment\x0afn\x20fr'+'agmentMain'+'(input:\x20Fr'+'agmentInpu'+'t)\x20->\x20Frag'+'mentOutput'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20pixel\x20'+'=\x20textureS'+'ampleLevel'+'(source,\x20s'+'ourceSampl'+'er,\x20input.')+('vUv0,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'lightmap\x20s'+'pecific\x20op'+'timization'+'\x20-\x20skip\x20pi'+'xels\x20that\x20'+'were\x20not\x20b'+'aked\x0a\x20\x20\x20\x20/'+'/\x20this\x20als'+'o\x20allows\x20d'+'ilate\x20filt'+'er\x20that\x20wo'+'rk\x20on\x20the\x20'+'output\x20of\x20'+'this\x20to\x20wo'+'rk\x20correct'+'ly,\x20as\x20it\x20'+'depends\x20on'+'\x20.a\x20being\x20'+'zero\x0a\x20\x20\x20\x20/'+'/\x20to\x20dilat'+'e,\x20which\x20t'+'he\x20followi'+'ng\x20blur\x20fi'+'lter\x20would'+'\x20otherwise'+'\x20modify\x0a\x20\x20'+'\x20\x20if\x20(!isU'+'sed(pixel)'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.c'+'olor\x20=\x20pix'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20o'+'utput;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20range\x20sig'+'ma\x20-\x20contr'+'ols\x20blurri'+'ness\x20based'+'\x20on\x20a\x20pixe'+'l\x20distance'+'\x0a\x20\x20\x20\x20let\x20s'+'igma\x20=\x20uni'+'form.sigma'+'s.x;\x0a\x0a\x20\x20\x20\x20'+'//\x20domain\x20'+'sigma\x20-\x20co'+'ntrols\x20blu'+'rriness\x20ba'+'sed\x20on\x20a\x20p'+'ixel\x20simil'+'arity\x20(to\x20'+'preserve\x20e'+'dges)\x0a\x20\x20\x20\x20'+'let\x20bSigma'+'\x20=\x20uniform'+'.sigmas.y;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'pixelHdr\x20='+'\x20decode(pi'+'xel);\x0a\x20\x20\x20\x20'+'var\x20accumu'+'latedHdr\x20='+'\x20vec3f(0.0'+');\x0a\x20\x20\x20\x20var'+'\x20accumulat'+'edFactor\x20='+'\x200.000001;'+'\x20\x20//\x20avoid'+'\x20division\x20'+'by\x20zero\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20out\x20the\x20t'+'exels\x0a\x20\x20\x20\x20'+'const\x20kSiz'+'e\x20=\x20({MSIZ'+'E}\x20-\x201)\x20/\x20'+'2;\x0a\x20\x20\x20\x20for'+'\x20(var\x20i:\x20i'+'32\x20=\x20-kSiz'+'e;\x20i\x20<=\x20kS'+'ize;\x20i\x20=\x20i'+'\x20+\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(var\x20j:\x20i3'+'2\x20=\x20-kSize'+';\x20j\x20<=\x20kSi'+'ze;\x20j\x20=\x20j\x20'+'+\x201)\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20sample\x20'+'the\x20pixel\x20'+'with\x20offse'+'t\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20co'+'ord\x20=\x20inpu'+'t.vUv0\x20+\x20v'+'ec2f(f32(i')+('),\x20f32(j))'+'\x20*\x20uniform'+'.pixelOffs'+'et;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'pix\x20=\x20text'+'ureSampleL'+'evel(sourc'+'e,\x20sourceS'+'ampler,\x20co'+'ord,\x200.0);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20lig'+'htmap\x20-\x20on'+'ly\x20use\x20bak'+'ed\x20pixels\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(isUs'+'ed(pix))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20hdr\x20=\x20dec'+'ode(pix);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'bilateral\x20'+'factors\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20fa'+'ctor\x20=\x20uni'+'form.kerne'+'l[u32(kSiz'+'e\x20+\x20j)].el'+'ement\x20*\x20un'+'iform.kern'+'el[u32(kSi'+'ze\x20+\x20i)].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20factor'+'\x20=\x20factor\x20'+'*\x20normpdf3'+'(hdr\x20-\x20pix'+'elHdr,\x20bSi'+'gma)\x20*\x20uni'+'form.bZnor'+'m;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20accumul'+'ate\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'accumulate'+'dHdr\x20=\x20acc'+'umulatedHd'+'r\x20+\x20factor'+'\x20*\x20hdr;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20accumu'+'latedFacto'+'r\x20=\x20accumu'+'latedFacto'+'r\x20+\x20factor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20let'+'\x20finalHDR\x20'+'=\x20accumula'+'tedHdr\x20/\x20a'+'ccumulated'+'Factor;\x0a\x0a\x20'+'\x20\x20\x20#if\x20HDR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'finalHDR,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20e'+'ncodeRGBM('+'finalHDR);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a'),nL='\x0a\x0avarying\x20'+'vUv0:\x20vec2'+'f;\x0a\x0avar\x20so'+'urce:\x20text'+'ure_2d<f32'+'>;\x0avar\x20sou'+'rceSampler'+':\x20sampler;'+'\x0auniform\x20p'+'ixelOffset'+':\x20vec2f;\x0a\x0a'+'fn\x20isUsed('+'pixel:\x20vec'+'4f)\x20->\x20boo'+'l\x20{\x0a\x20\x20\x20\x20#i'+'fdef\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20any(pi'+'xel.rgb\x20>\x20'+'vec3f(0.0)'+');\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20pi'+'xel.a\x20>\x200.'+'0;\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a\x0a@fr'+'agment\x0afn\x20'+'fragmentMa'+'in(input:\x20'+'FragmentIn'+'put)\x20->\x20Fr'+'agmentOutp'+'ut\x20{\x0a\x20\x20\x20\x20v'+'ar\x20c:\x20vec4'+'f\x20=\x20textur'+'eSampleLev'+'el(source,'+'\x20sourceSam'+'pler,\x20inpu'+'t.vUv0,\x200.'+'0);\x0a\x20\x20\x20\x20c\x20'+'=\x20select(t'+'extureSamp'+'leLevel(so'+'urce,\x20sour'+'ceSampler,'+'\x20input.vUv'+'0\x20-\x20unifor'+'m.pixelOff'+'set,\x200.0),'+'\x20c,\x20isUsed'+'(c));\x0a\x20\x20\x20\x20'+'c\x20=\x20select'+'(textureSa'+'mpleLevel('+'source,\x20so'+'urceSample'+'r,\x20input.v'+'Uv0\x20+\x20vec2'+'f(0.0,\x20-un'+'iform.pixe'+'lOffset.y)'+',\x200.0),\x20c,'+'\x20isUsed(c)'+');\x0a\x20\x20\x20\x20c\x20='+'\x20select(te'+'xtureSampl'+'eLevel(sou'+'rce,\x20sourc'+'eSampler,\x20'+'input.vUv0'+'\x20+\x20vec2f(u'+'niform.pix'+'elOffset.x'+',\x20-uniform'+'.pixelOffs'+'et.y),\x200.0'+'),\x20c,\x20isUs'+'ed(c));\x0a\x20\x20'+'\x20\x20c\x20=\x20sele'+'ct(texture'+'SampleLeve'+'l(source,\x20'+'sourceSamp'+'ler,\x20input'+'.vUv0\x20+\x20ve'+'c2f(-unifo'+'rm.pixelOf'+'fset.x,\x200.'+'0),\x200.0),\x20'+'c,\x20isUsed('+'c));\x0a\x20\x20\x20\x20c'+'\x20=\x20select('+'textureSam'+'pleLevel(s'+'ource,\x20sou'+'rceSampler'+',\x20input.vU'+'v0\x20+\x20vec2f'+'(uniform.p'+('ixelOffset'+'.x,\x200.0),\x20'+'0.0),\x20c,\x20i'+'sUsed(c));'+'\x0a\x20\x20\x20\x20c\x20=\x20s'+'elect(text'+'ureSampleL'+'evel(sourc'+'e,\x20sourceS'+'ampler,\x20in'+'put.vUv0\x20+'+'\x20vec2f(-un'+'iform.pixe'+'lOffset.x,'+'\x20uniform.p'+'ixelOffset'+'.y),\x200.0),'+'\x20c,\x20isUsed'+'(c));\x0a\x20\x20\x20\x20'+'c\x20=\x20select'+'(textureSa'+'mpleLevel('+'source,\x20so'+'urceSample'+'r,\x20input.v'+'Uv0\x20+\x20vec2'+'f(0.0,\x20uni'+'form.pixel'+'Offset.y),'+'\x200.0),\x20c,\x20'+'isUsed(c))'+';\x0a\x20\x20\x20\x20c\x20=\x20'+'select(tex'+'tureSample'+'Level(sour'+'ce,\x20source'+'Sampler,\x20i'+'nput.vUv0\x20'+'+\x20uniform.'+'pixelOffse'+'t,\x200.0),\x20c'+',\x20isUsed(c'+'));\x0a\x0a\x20\x20\x20\x20v'+'ar\x20output:'+'\x20FragmentO'+'utput;\x0a\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20c;\x0a\x20'+'\x20\x20\x20return\x20'+'output;\x0a}\x0a'),Dg=-0x1b2f+0x1*-0x1245+0x2d83*0x1,oL={'glslBilateralDeNoisePS':iL,'glslDilatePS':rL},lL={'wgslBilateralDeNoisePS':aL,'wgslDilatePS':nL};class cL{constructor(_0x1ab7b3){h(this,'shaderDila'+'te',[]),h(this,'shaderDeno'+'ise',[]),(this['device']=_0x1ab7b3,Pe['get'](this['device'],Fe)['add'](oL),Pe['get'](this['device'],it)['add'](lL),this['constantTe'+'xSource']=_0x1ab7b3['scope']['resolve']('source'),this['constantPi'+'xelOffset']=_0x1ab7b3['scope']['resolve']('pixelOffse'+'t'),this['pixelOffse'+'t']=new Float32Array(-0x322+-0x6*-0x576+-0x4f*0x60),this['sigmas']=null,this['constantSi'+'gmas']=null,this['kernel']=null);}['setSourceT'+'exture'](_0xcf9d40){this['constantTe'+'xSource']['setValue'](_0xcf9d40);}['prepare'](_0xf55f03,_0x46e783){this['pixelOffse'+'t'][0x5fb+0x1788+0x1d83*-0x1]=(-0xb0e+0x1af6+-0xfe7)/_0xf55f03,this['pixelOffse'+'t'][0x3*-0x234+-0x20fd+0x13cd*0x2]=(0x256c+0x2610+-0x4b7b)/_0x46e783,this['constantPi'+'xelOffset']['setValue'](this['pixelOffse'+'t']);}['prepareDen'+'oise'](_0xaeeac4,_0x3e57e3,_0x48795c){const _0x5ca71f=_0x48795c?0xac1*0x1+0xb*0x16f+-0x1a86:-0x1e82+0x22e6+-0x463;if(!this['shaderDeno'+'ise'][_0x5ca71f]){const _0x2cfcf0=new Map();_0x2cfcf0['set']('{MSIZE}',-0x127f*-0x2+-0x15f7*-0x1+-0x3ae6),_0x48795c&&_0x2cfcf0['set']('HDR',''),this['shaderDeno'+'ise'][_0x5ca71f]=$t['createShad'+'er'](this['device'],{'uniqueName':'lmBilatera'+'lDeNoise-'+(_0x48795c?'hdr':'rgbm'),'attributes':{'vertex_position':Me},'vertexGLSL':Pe['get'](this['device'],Fe)['get']('fullscreen'+'QuadVS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('fullscreen'+'QuadVS'),'fragmentGLSL':Pe['get'](this['device'],Fe)['get']('glslBilate'+'ralDeNoise'+'PS'),'fragmentWGSL':Pe['get'](this['device'],it)['get']('wgslBilate'+'ralDeNoise'+'PS'),'fragmentDefines':_0x2cfcf0}),this['sigmas']=new Float32Array(0x16bd*-0x1+0x4c*0x24+0xc0f),this['constantSi'+'gmas']=this['device']['scope']['resolve']('sigmas'),this['constantKe'+'rnel']=this['device']['scope']['resolve']('kernel[0]'),this['bZnorm']=this['device']['scope']['resolve']('bZnorm');}this['sigmas'][-0x61*-0x3b+-0x21e4+-0xb89*-0x1]=_0xaeeac4,this['sigmas'][-0x18d1+-0x2158+0x3a2a]=_0x3e57e3,this['constantSi'+'gmas']['setValue'](this['sigmas']),this['evaluateDe'+'noiseUnifo'+'rms'](_0xaeeac4,_0x3e57e3);}['getDenoise'](_0x4e16eb){const _0x5220c1=_0x4e16eb?0x1*0xf55+-0x119b*0x1+0x246:0x267b+-0x1*0x22bd+0x13f*-0x3;return this['shaderDeno'+'ise'][_0x5220c1];}['getDilate'](_0x1bb8df,_0x543e36){const _0x1fd771=_0x543e36?0x39*-0x47+-0x34*0x71+0x26c3*0x1:-0xf7a+-0x2d1+0x124c;if(!this['shaderDila'+'te'][_0x1fd771]){const _0x1b8d9a=_0x543e36?'#define\x20HD'+'R\x0a':'';this['shaderDila'+'te'][_0x1fd771]=$t['createShad'+'er'](_0x1bb8df,{'uniqueName':'lmDilate-'+(_0x543e36?'hdr':'rgbm'),'attributes':{'vertex_position':Me},'vertexGLSL':Pe['get'](this['device'],Fe)['get']('fullscreen'+'QuadVS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('fullscreen'+'QuadVS'),'fragmentGLSL':_0x1b8d9a+Pe['get'](this['device'],Fe)['get']('glslDilate'+'PS'),'fragmentWGSL':_0x1b8d9a+Pe['get'](this['device'],it)['get']('wgslDilate'+'PS')});}return this['shaderDila'+'te'][_0x1fd771];}['evaluateDe'+'noiseUnifo'+'rms'](_0x477dcc,_0x581cd5){function _0x316b21(_0xcbe8db,_0x93c2ec){return(0x4e9+0x1735+-0x1c1e+0.39894)*Math['exp'](-(-0x15e7+-0x1*0x8e7+0x1ece+0.5)*_0xcbe8db*_0xcbe8db/(_0x93c2ec*_0x93c2ec))/_0x93c2ec;}this['kernel']=this['kernel']||new Float32Array(Dg);const _0x2ea952=this['kernel'],_0x4954e2=Math['floor']((Dg-(0xe95+-0x6f2+0x7a2*-0x1))/(-0x2141+-0x10c6+-0x3209*-0x1));for(let _0x4d2ee2=0x1*0x81+0x245e+0x1*-0x24df;_0x4d2ee2<=_0x4954e2;++_0x4d2ee2){const _0x2dd5e1=_0x316b21(_0x4d2ee2,_0x477dcc);_0x2ea952[_0x4954e2+_0x4d2ee2]=_0x2dd5e1,_0x2ea952[_0x4954e2-_0x4d2ee2]=_0x2dd5e1;}this['constantKe'+'rnel']['setValue'](this['kernel']);const _0x5650b9=(-0x2450+0x1f0e+0x543)/_0x316b21(0x5*-0x6df+0x7e8+0x1a73,_0x581cd5);this['bZnorm']['setValue'](_0x5650b9);}}class hL extends ys{constructor(_0x4e7ed8,_0xa06c24,_0xb513da,_0x101526,_0x50cc93,_0x3a7417){super(_0x4e7ed8),h(this,'viewBindGr'+'oups',[]),(this['renderer']=_0xa06c24,this['camera']=_0xb513da,this['worldClust'+'ers']=_0x101526,this['receivers']=_0x50cc93,this['lightArray']=_0x3a7417);}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x395cb1=>{_0x395cb1['defaultUni'+'formBuffer']['destroy'](),_0x395cb1['destroy']();}),this['viewBindGr'+'oups']['length']=-0xec1+0xf*0x1c1+-0xb8e;}['execute'](){const _0x172b4f=this['device'];Q['pushGpuMar'+'ker'](_0x172b4f,'Lightmappe'+'r');const {renderer:_0x5054d2,camera:_0x1d0157,receivers:_0x121319,renderTarget:_0x741bc3,worldClusters:_0x7674b5,lightArray:_0x51f504}=this;_0x5054d2['renderForw'+'ardLayer'](_0x1d0157,_0x741bc3,null,void(-0x1780+-0x21e4+-0xe59*-0x4),Aa,this['viewBindGr'+'oups'],{'meshInstances':_0x121319,'splitLights':_0x51f504,'lightClusters':_0x7674b5}),Q['popGpuMark'+'er'](_0x172b4f);}}const dL=0x53*-0x37+-0x1c80+0x7*0x7c3,fL=-0x1931*-0x1+0x3*0x446+-0x2603,uL=0x12a3+-0x1875+0x5d3,xc=new D();class pL{constructor(_0x5d597c,_0x3a8b9f,_0x1202b9,_0x3b286c,_0x2ecc47){this['device']=_0x5d597c,this['root']=_0x3a8b9f,this['scene']=_0x1202b9,this['renderer']=_0x3b286c,this['assets']=_0x2ecc47,this['shadowMapC'+'ache']=_0x3b286c['shadowMapC'+'ache'],this['_tempSet']=new Set(),this['_initCalle'+'d']=!(-0x15a9+-0x1d2f+-0x3*-0x10f3),this['passMateri'+'als']=[],this['ambientAOM'+'aterial']=null,this['fog']='',this['ambientLig'+'ht']=new ie(),this['renderTarg'+'ets']=new Map(),this['stats']={'renderPasses':0x0,'lightmapCount':0x0,'totalRenderTime':0x0,'forwardTime':0x0,'fboTime':0x0,'shadowMapTime':0x0,'compileTime':0x0,'shadersLinked':0x0};}['destroy'](){var _0x3fc468;zi['decRef'](this['blackTex']),this['blackTex']=null,zi['destroy'](),this['device']=null,this['root']=null,this['scene']=null,this['renderer']=null,this['assets']=null,(_0x3fc468=this['camera'])==null||_0x3fc468['destroy'](),this['camera']=null;}['initBake'](_0x2df06e){if(this['bakeHDR']=this['scene']['lightmapPi'+'xelFormat']!==Ne,!this['_initCalle'+'d']){this['_initCalle'+'d']=!(-0x1*-0x2512+-0xa62*-0x2+-0x39d6),this['lightmapFi'+'lters']=new cL(_0x2df06e),this['constantBa'+'keDir']=_0x2df06e['scope']['resolve']('bakeDir'),this['materials']=[],this['blackTex']=new _e(this['device'],{'width':0x4,'height':0x4,'format':Ne,'type':Zi,'name':'lightmapBl'+'ack'}),zi['incRef'](this['blackTex']);const _0x5c4aa4=new Fl();_0x5c4aa4['clearColor']['set'](0x1670+-0xa46+-0xc2a,-0x15c9+0x162d+-0x14*0x5,0x1121+-0x22e1+0x11c0,-0x1*0x1d07+0xf13+0x5e*0x26),_0x5c4aa4['clearColor'+'Buffer']=!(0xa7*-0x6+0x20cc+0x2*-0xe71),_0x5c4aa4['clearDepth'+'Buffer']=!(0x2494+0x67b+-0x2b0e),_0x5c4aa4['clearStenc'+'ilBuffer']=!(-0x2*0x5f9+-0x19e2+0x25d5*0x1),_0x5c4aa4['frustumCul'+'ling']=!(-0x1d*0x35+-0xd1*0x1c+0x1cde),_0x5c4aa4['projection']=En,_0x5c4aa4['aspectRati'+'o']=-0x1*0x21a0+0xe85+0x4c7*0x4,_0x5c4aa4['node']=new Ie(),this['camera']=_0x5c4aa4,this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=Ll,this['camera']['shaderPara'+'ms']['toneMappin'+'g']=sm;}if(this['scene']['clusteredL'+'ightingEna'+'bled']){const _0x13bc06=new Mv(_0x2df06e['supportsAr'+'eaLights'],_0x2df06e['maxTexture'+'Size'],()=>{});this['lightingPa'+'rams']=_0x13bc06;const _0x4e3cb1=this['scene']['lighting'];_0x13bc06['shadowsEna'+'bled']=_0x4e3cb1['shadowsEna'+'bled'],_0x13bc06['shadowAtla'+'sResolutio'+'n']=_0x4e3cb1['shadowAtla'+'sResolutio'+'n'],_0x13bc06['cookiesEna'+'bled']=_0x4e3cb1['cookiesEna'+'bled'],_0x13bc06['cookieAtla'+'sResolutio'+'n']=_0x4e3cb1['cookieAtla'+'sResolutio'+'n'],_0x13bc06['areaLights'+'Enabled']=_0x4e3cb1['areaLights'+'Enabled'],_0x13bc06['cells']=new D(-0x76f+-0x2ef*-0xb+-0x9b*0x29,0x2659*-0x1+-0x1b22+0x417e,0x24a*0xb+0x25*0x29+-0x4*0x7c6),_0x13bc06['maxLightsP'+'erCell']=0xd39*-0x1+-0x1ca7+0x29e4,this['worldClust'+'ers']=new cu(_0x2df06e),this['worldClust'+'ers']['name']='ClusterLig'+'htmapper';}}['finishBake'](_0x1b56df){this['materials']=[];function _0x47710f(_0x39e715){zi['decRef'](_0x39e715['colorBuffe'+'r']),_0x39e715['destroy']();}this['renderTarg'+'ets']['forEach'](_0x55dc30=>{_0x47710f(_0x55dc30);}),this['renderTarg'+'ets']['clear'](),_0x1b56df['forEach'](_0x117245=>{_0x117245['renderTarg'+'ets']['forEach'](_0x5eba3a=>{_0x47710f(_0x5eba3a);}),_0x117245['renderTarg'+'ets']['length']=0x137d+0x11a2+-0x251f*0x1;}),this['ambientAOM'+'aterial']=null,this['worldClust'+'ers']&&(this['worldClust'+'ers']['destroy'](),this['worldClust'+'ers']=null);}['createMate'+'rialForPas'+'s'](_0x1cdc63,_0x1e19ba,_0xf3d5e8){const _0x4bc92a=new Ut();return _0x4bc92a['name']='lmMaterial'+'-pass:'+_0x1e19ba+'-ambient:'+_0xf3d5e8,_0x4bc92a['setDefine']('UV1LAYOUT',''),_0x4bc92a['setDefine']('LIT_LIGHTM'+'AP_BAKING',''),_0x1e19ba===fL?(_0x4bc92a['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'COLOR',''),_0xf3d5e8?_0x4bc92a['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'ADD_AMBIEN'+'T',''):_0x4bc92a['ambient']=new ie(-0x1*0x1777+0x1f6f+0x3c*-0x22,0xaee*-0x3+0x6a2*-0x1+0x74*0x57,-0x20e4+0x2011+-0xd3*-0x1),this['bakeHDR']||_0x4bc92a['setDefine']('LIGHTMAP_R'+'GBM',''),_0x4bc92a['lightMap']=this['blackTex']):(_0x4bc92a['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'DIR',''),_0x4bc92a['setDefine']('STD_LIGHTM'+'AP_DIR','')),_0x4bc92a['cull']=bt,_0x4bc92a['forceUv1']=!(-0x39e*0x1+-0x1f25+0x22c3),_0x4bc92a['update'](),_0x4bc92a;}['createMate'+'rials'](_0x44de32,_0x41b496,_0x2ddd07){for(let _0x44eb38=-0x6*0x649+0x140*-0x1+0x26f6;_0x44eb38<_0x2ddd07;_0x44eb38++)this['passMateri'+'als'][_0x44eb38]||(this['passMateri'+'als'][_0x44eb38]=this['createMate'+'rialForPas'+'s'](_0x41b496,_0x44eb38,!(0x793*-0x2+0x3*0xace+-0x1143)));this['ambientAOM'+'aterial']||(this['ambientAOM'+'aterial']=this['createMate'+'rialForPas'+'s'](_0x41b496,-0x32*-0x6d+0xd22*0x1+-0x226c,!(0x1b7*0x4+0x943+-0x101f*0x1)),this['ambientAOM'+'aterial']['onUpdateSh'+'ader']=function(_0x5b5b2e){return _0x5b5b2e['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x17f5+-0x834+0x2029),_0x5b5b2e['litOptions']['separateAm'+'bient']=!(-0x2f3*0x9+-0x22db+0x3d66),_0x5b5b2e;});}['createText'+'ure'](_0x5de360,_0xcc14b9){return new _e(this['device'],{'profilerHint':vy,'width':_0x5de360,'height':_0x5de360,'format':this['scene']['lightmapPi'+'xelFormat'],'mipmaps':!(-0x1a55+-0x10b9*0x2+0x3bc8),'type':this['bakeHDR']?Ds:Zi,'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':_0xcc14b9});}['collectMod'+'els'](_0x28881f,_0x11a65c,_0xa6c14a){var _0x4e2713,_0x5151c2,_0x5393b7;if(!_0x28881f['enabled'])return;let _0x234123;if((_0x4e2713=_0x28881f['model'])!=null&&_0x4e2713['model']&&((_0x5151c2=_0x28881f['model'])!=null&&_0x5151c2['enabled'])&&(_0xa6c14a&&_0xa6c14a['push'](new vc(_0x28881f)),_0x28881f['model']['lightmappe'+'d']&&_0x11a65c&&(_0x234123=_0x28881f['model']['model']['meshInstan'+'ces'])),(_0x5393b7=_0x28881f['render'])!=null&&_0x5393b7['enabled']&&(_0xa6c14a&&_0xa6c14a['push'](new vc(_0x28881f)),_0x28881f['render']['lightmappe'+'d']&&_0x11a65c&&(_0x234123=_0x28881f['render']['meshInstan'+'ces'])),_0x234123){let _0x50d97a=!(0x2c5*0x9+0xa3+-0x2*0xcc8);for(let _0xd027fe=-0x2322*-0x1+-0x1d65*0x1+-0x5bd;_0xd027fe<_0x234123['length'];_0xd027fe++)if(!_0x234123[_0xd027fe]['mesh']['vertexBuff'+'er']['format']['hasUv1']){w['log']('Lightmappe'+'r\x20-\x20node\x20['+_0x28881f['name']+(']\x20contains'+'\x20meshes\x20wi'+'thout\x20requ'+'ired\x20uv1,\x20'+'excluding\x20'+'it\x20from\x20ba'+'king.')),_0x50d97a=!(0x1cb3+-0x1c*0x100+-0xb2);break;}if(_0x50d97a){const _0x59d790=[];for(let _0x30a95c=-0x1*0xa6+-0x188f+0x1935;_0x30a95c<_0x234123['length'];_0x30a95c++){const _0x22a799=_0x234123[_0x30a95c]['mesh'];this['_tempSet']['has'](_0x22a799)?_0x11a65c['push'](new vc(_0x28881f,[_0x234123[_0x30a95c]])):_0x59d790['push'](_0x234123[_0x30a95c]),this['_tempSet']['add'](_0x22a799);}this['_tempSet']['clear'](),_0x59d790['length']>-0xc3b+-0x18dc+0x2517&&_0x11a65c['push'](new vc(_0x28881f,_0x59d790));}}for(let _0x4715f6=0x1eef+-0x2270+0x381;_0x4715f6<_0x28881f['_children']['length'];_0x4715f6++)this['collectMod'+'els'](_0x28881f['_children'][_0x4715f6],_0x11a65c,_0xa6c14a);}['prepareSha'+'dowCasters'](_0x104d4c){const _0x3768b8=[];for(let _0x162dd4=0x18ec+0x22e9+-0x1*0x3bd5;_0x162dd4<_0x104d4c['length'];_0x162dd4++){const _0x313a06=_0x104d4c[_0x162dd4]['component'];if(_0x313a06['castShadow'+'s']=_0x313a06['castShadow'+'sLightmap'],_0x313a06['castShadow'+'sLightmap']){const _0x43f14f=_0x104d4c[_0x162dd4]['meshInstan'+'ces'];for(let _0xbcc467=-0x82a+0x38a*0x4+-0x5fe;_0xbcc467<_0x43f14f['length'];_0xbcc467++)_0x43f14f[_0xbcc467]['visibleThi'+'sFrame']=!(-0x9*0x76+-0x1*-0x1436+-0x1010),_0x3768b8['push'](_0x43f14f[_0xbcc467]);}}return _0x3768b8;}['updateTran'+'sforms'](_0x35f627){for(let _0x2cd836=0x4*0x46+0x97*-0x14+0x224*0x5;_0x2cd836<_0x35f627['length'];_0x2cd836++){const _0xfc5358=_0x35f627[_0x2cd836]['meshInstan'+'ces'];for(let _0x1ef52b=0x1d*0xb1+-0x1bb*-0x15+-0x2*0x1c32;_0x1ef52b<_0xfc5358['length'];_0x1ef52b++)_0xfc5358[_0x1ef52b]['node']['getWorldTr'+'ansform']();}}['calculateL'+'ightmapSiz'+'e'](_0x3cf8af){let _0x16fc54;const _0x5cc4bd=this['scene']['lightmapSi'+'zeMultipli'+'er']||0x3ea+0xecd+0x12a7*-0x1,_0x504623=xc;let _0x298d4f,_0x5bee57;_0x3cf8af['model']?(_0x5bee57=_0x3cf8af['model']['lightmapSi'+'zeMultipli'+'er'],_0x3cf8af['model']['asset']?(_0x16fc54=this['assets']['get'](_0x3cf8af['model']['asset'])['data'],_0x16fc54['area']&&(_0x298d4f=_0x16fc54['area'])):_0x3cf8af['model']['_area']&&(_0x16fc54=_0x3cf8af['model'],_0x16fc54['_area']&&(_0x298d4f=_0x16fc54['_area']))):_0x3cf8af['render']&&(_0x5bee57=_0x3cf8af['render']['lightmapSi'+'zeMultipli'+'er'],_0x3cf8af['render']['type']!=='asset'&&_0x3cf8af['render']['_area']&&(_0x16fc54=_0x3cf8af['render'],_0x16fc54['_area']&&(_0x298d4f=_0x16fc54['_area'])));const _0xa2d134={'x':0x1,'y':0x1,'z':0x1,'uv':0x1};_0x298d4f&&(_0xa2d134['x']=_0x298d4f['x'],_0xa2d134['y']=_0x298d4f['y'],_0xa2d134['z']=_0x298d4f['z'],_0xa2d134['uv']=_0x298d4f['uv']);const _0x1c9681=_0x5bee57||-0x607*-0x1+-0xfe*-0x11+-0x1*0x16e4;_0xa2d134['x']*=_0x1c9681,_0xa2d134['y']*=_0x1c9681,_0xa2d134['z']*=_0x1c9681;const _0x1d49ce=_0x3cf8af['render']||_0x3cf8af['model'],_0x5e863d=this['computeNod'+'eBounds'](_0x1d49ce['meshInstan'+'ces']);_0x504623['copy'](_0x5e863d['halfExtent'+'s']);let _0x3bab6c=_0xa2d134['x']*_0x504623['y']*_0x504623['z']+_0xa2d134['y']*_0x504623['x']*_0x504623['z']+_0xa2d134['z']*_0x504623['x']*_0x504623['y'];return _0x3bab6c/=_0xa2d134['uv'],_0x3bab6c=Math['sqrt'](_0x3bab6c),Math['min'](Y['nextPowerO'+'fTwo'](_0x3bab6c*_0x5cc4bd),this['scene']['lightmapMa'+'xResolutio'+'n']||dL);}['setLightma'+'pping'](_0x452e8b,_0x5a041f,_0x6b582a,_0x3c391c){for(let _0x49d3a5=0x20*-0x85+-0xb1d+0x1*0x1bbd;_0x49d3a5<_0x452e8b['length'];_0x49d3a5++){const _0x96f5e4=_0x452e8b[_0x49d3a5],_0x5de5b0=_0x96f5e4['meshInstan'+'ces'];for(let _0x508f46=-0x15e9*-0x1+-0x1303+0x1*-0x2e6;_0x508f46<_0x5de5b0['length'];_0x508f46++){const _0x4aaca1=_0x5de5b0[_0x508f46];if(_0x4aaca1['setLightma'+'pped'](_0x5a041f),_0x5a041f){_0x3c391c&&(_0x4aaca1['_shaderDef'+'s']|=_0x3c391c),_0x4aaca1['mask']=di;for(let _0x101d57=0x1*0x4cf+0xf6+0x5c5*-0x1;_0x101d57<_0x6b582a;_0x101d57++){const _0x2658de=_0x96f5e4['renderTarg'+'ets'][_0x101d57]['colorBuffe'+'r'];_0x2658de['minFilter']=vt,_0x2658de['magFilter']=vt,_0x4aaca1['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][_0x101d57],_0x2658de);}}}}}['bake'](_0x380e6d,_0xd403df=jc){const _0x5eddb4=this['device'],_0x2626c8=de();this['scene']['_updateSky'+'Mesh'](),_0x5eddb4['fire']('lightmappe'+'r:start',{'timestamp':_0x2626c8,'target':this}),this['stats']['renderPass'+'es']=0xb5e+0x3*-0x597+-0x3*-0x1cd,this['stats']['shadowMapT'+'ime']=-0xcec+0x1*0xa7f+0x45*0x9,this['stats']['forwardTim'+'e']=-0x1*0x218e+-0x113b+-0x1*-0x32c9;const _0x25f34e=_0x5eddb4['_shaderSta'+'ts']['linked'],_0x116144=_0x5eddb4['_renderTar'+'getCreatio'+'nTime'],_0x4ab833=_0x5eddb4['_shaderSta'+'ts']['compileTim'+'e'],_0x596e5a=[],_0x1560f8=[];if(_0x380e6d){for(let _0xcf9bd2=0xfd2+0x35*-0x6b+0x655*0x1;_0xcf9bd2<_0x380e6d['length'];_0xcf9bd2++)this['collectMod'+'els'](_0x380e6d[_0xcf9bd2],_0x596e5a,null);this['collectMod'+'els'](this['root'],null,_0x1560f8);}else this['collectMod'+'els'](this['root'],_0x596e5a,_0x1560f8);if(Q['pushGpuMar'+'ker'](this['device'],'LMBake'),_0x596e5a['length']>-0x1209+-0x2519+0x3722){this['renderer']['shadowRend'+'erer']['frameUpdat'+'e']();const _0x33f688=_0xd403df===jc?0x2645+-0xd93+-0x18b0:0x16b2+0x2142+-0x37f3;this['setLightma'+'pping'](_0x596e5a,!(-0xb7b*0x1+0x2+-0xe2*-0xd),_0x33f688),this['initBake'](_0x5eddb4),this['bakeIntern'+'al'](_0x33f688,_0x596e5a,_0x1560f8);let _0x43f86a=ou;_0xd403df===jc&&(_0x43f86a|=uv),this['scene']['ambientBak'+'e']&&(_0x43f86a|=pv),this['setLightma'+'pping'](_0x596e5a,!(0x14*-0x37+-0x13f0+0x183c),_0x33f688,_0x43f86a),this['finishBake'](_0x596e5a);}Q['popGpuMark'+'er'](this['device']);const _0x5d5384=de();this['stats']['totalRende'+'rTime']=_0x5d5384-_0x2626c8,this['stats']['shadersLin'+'ked']=_0x5eddb4['_shaderSta'+'ts']['linked']-_0x25f34e,this['stats']['compileTim'+'e']=_0x5eddb4['_shaderSta'+'ts']['compileTim'+'e']-_0x4ab833,this['stats']['fboTime']=_0x5eddb4['_renderTar'+'getCreatio'+'nTime']-_0x116144,this['stats']['lightmapCo'+'unt']=_0x596e5a['length'],_0x5eddb4['fire']('lightmappe'+'r:end',{'timestamp':_0x5d5384,'target':this});}['allocateTe'+'xtures'](_0x3c1b66,_0x238e2d){for(let _0x416a3a=-0x1*0x20ff+-0x704+0x1*0x2803;_0x416a3a<_0x3c1b66['length'];_0x416a3a++){const _0x495ee3=_0x3c1b66[_0x416a3a],_0x19e54f=this['calculateL'+'ightmapSiz'+'e'](_0x495ee3['node']);for(let _0x1113d0=0x7f*0x3f+-0x124d+-0xcf4;_0x1113d0<_0x238e2d;_0x1113d0++){const _0x1a0bb5=this['createText'+'ure'](_0x19e54f,'lightmappe'+'r_lightmap'+'_'+_0x416a3a);zi['incRef'](_0x1a0bb5),_0x495ee3['renderTarg'+'ets'][_0x1113d0]=new gt({'colorBuffer':_0x1a0bb5,'depth':!(0x1e*-0xe1+-0x74*0x26+0x2b97)});}if(!this['renderTarg'+'ets']['has'](_0x19e54f)){const _0x55226e=this['createText'+'ure'](_0x19e54f,'lightmappe'+'r_temp_lig'+'htmap_'+_0x19e54f);zi['incRef'](_0x55226e),this['renderTarg'+'ets']['set'](_0x19e54f,new gt({'colorBuffer':_0x55226e,'depth':!(-0x256c+0x1e7*0x1+0x2386)}));}}}['prepareLig'+'htsToBake'](_0x3adf38,_0x35b642){if(this['scene']['ambientBak'+'e']){const _0x2c943b=new Mg(this);_0x35b642['push'](_0x2c943b);}const _0x38986b=this['renderer']['lights'];for(let _0x24e645=0xb01+-0xfcf+-0x29*-0x1e;_0x24e645<_0x38986b['length'];_0x24e645++){const _0xafbe95=_0x38986b[_0x24e645],_0x8cdb48=new sL(this,_0xafbe95);_0x3adf38['push'](_0x8cdb48),_0xafbe95['enabled']&&(_0xafbe95['mask']&fi)!==0x22f6+0x7*-0x36f+-0x1*0xaed&&(_0xafbe95['mask']=fi|di|Ss,_0xafbe95['shadowUpda'+'teMode']=_0xafbe95['type']===ve?lm:xr,_0x35b642['push'](_0x8cdb48));}_0x35b642['sort']();}['restoreLig'+'hts'](_0x13363c){for(let _0x3fbff2=0x7ed+-0xe8b+0xb*0x9a;_0x3fbff2<_0x13363c['length'];_0x3fbff2++)_0x13363c[_0x3fbff2]['restore']();}['setupScene'](){this['ambientLig'+'ht']['copy'](this['scene']['ambientLig'+'ht']),this['scene']['ambientBak'+'e']||this['scene']['ambientLig'+'ht']['set'](0x19fa+-0x2041+0x1*0x647,0x2631+0x25*0x27+-0x2bd4,-0x1*0x1915+0xcd*-0x2+0x1aaf),this['renderer']['setSceneCo'+'nstants'](),this['device']['scope']['resolve']('ambientBak'+'eOcclusion'+'Contrast')['setValue'](this['scene']['ambientBak'+'eOcclusion'+'Contrast']),this['device']['scope']['resolve']('ambientBak'+'eOcclusion'+'Brightness')['setValue'](this['scene']['ambientBak'+'eOcclusion'+'Brightness']);}['restoreSce'+'ne'](){this['scene']['ambientLig'+'ht']['copy'](this['ambientLig'+'ht']);}['computeNod'+'eBounds'](_0x57c11c){const _0x5bd45e=new De();if(_0x57c11c['length']>-0x32b+0x1dd9+-0x1aae*0x1){_0x5bd45e['copy'](_0x57c11c[0x3*0x928+0xcac+-0x2824]['aabb']);for(let _0x17c59d=0x1b8b+-0x1ed9+0x7*0x79;_0x17c59d<_0x57c11c['length'];_0x17c59d++)_0x5bd45e['add'](_0x57c11c[_0x17c59d]['aabb']);}return _0x5bd45e;}['computeNod'+'esBounds'](_0x224520){for(let _0x3fc3ac=0x1*-0x16b4+0x374+0x40*0x4d;_0x3fc3ac<_0x224520['length'];_0x3fc3ac++){const _0x3d6456=_0x224520[_0x3fc3ac]['meshInstan'+'ces'];_0x224520[_0x3fc3ac]['bounds']=this['computeNod'+'eBounds'](_0x3d6456);}}['computeBou'+'nds'](_0x518d3d){const _0x177a25=new De();for(let _0x494bd5=-0xe1d+0x147b+-0x65e;_0x494bd5<_0x518d3d['length'];_0x494bd5++){_0x177a25['copy'](_0x518d3d[-0x9d*0x3d+0x433+0x2136]['aabb']);for(let _0x211127=0x247f+0x2612*0x1+-0x4a90;_0x211127<_0x518d3d['length'];_0x211127++)_0x177a25['add'](_0x518d3d[_0x211127]['aabb']);}return _0x177a25;}['backupMate'+'rials'](_0x1ae1d0){for(let _0x348e28=-0x91b+0x1*0x2ea+0x631;_0x348e28<_0x1ae1d0['length'];_0x348e28++)this['materials'][_0x348e28]=_0x1ae1d0[_0x348e28]['material'];}['restoreMat'+'erials'](_0x18b74d){for(let _0xecf507=0x965+-0x1*0x1037+-0x61*-0x12;_0xecf507<_0x18b74d['length'];_0xecf507++)_0x18b74d[_0xecf507]['material']=this['materials'][_0xecf507];}['lightCamer'+'aPrepare'](_0x3ad54c,_0x1a65f0){const _0x3a0e02=_0x1a65f0['light'];let _0x318d4e;return _0x3a0e02['type']===Ze&&(_0x318d4e=_0x3a0e02['getRenderD'+'ata'](null,-0x1*-0xb1b+-0xa6f+-0x56*0x2)['shadowCame'+'ra'],_0x318d4e['_node']['setPositio'+'n'](_0x3a0e02['_node']['getPositio'+'n']()),_0x318d4e['_node']['setRotatio'+'n'](_0x3a0e02['_node']['getRotatio'+'n']()),_0x318d4e['_node']['rotateLoca'+'l'](-(-0x1e4a+-0x26e*0x1+0x2112),0x832*0x4+-0x2441+0x1*0x379,-0x2376+-0x4a6+0x281c),_0x318d4e['projection']=ni,_0x318d4e['nearClip']=_0x3a0e02['attenuatio'+'nEnd']/(0x8a*-0x19+0xaf8+-0x335*-0x2),_0x318d4e['farClip']=_0x3a0e02['attenuatio'+'nEnd'],_0x318d4e['aspectRati'+'o']=-0x15da+-0x57*-0x2+0x8b*0x27,_0x318d4e['fov']=_0x3a0e02['_outerCone'+'Angle']*(0x557*-0x5+-0xc16+0x26cb),this['renderer']['updateCame'+'raFrustum'](_0x318d4e)),_0x318d4e;}['lightCamer'+'aPrepareAn'+'dCull'](_0x364466,_0x36f180,_0x507800,_0xafa6a8){const _0xcbbba5=_0x364466['light'];let _0x1f4ce6=!(-0x69c+-0x217a+0x2816);if(_0xcbbba5['type']===ve){xc['copy'](_0xafa6a8['center']),xc['y']+=_0xafa6a8['halfExtent'+'s']['y'],this['camera']['node']['setPositio'+'n'](xc),this['camera']['node']['setEulerAn'+'gles'](-(0x1bd7+0x20c2+-0x3c3f),-0x54c+0x3d*-0x1d+0xc35,-0x299*0x9+-0x1fe8+0x1*0x3749),this['camera']['nearClip']=-0x1*0x6bc+-0x1d94+0x2450,this['camera']['farClip']=_0xafa6a8['halfExtent'+'s']['y']*(-0x1db+-0xe7*-0xd+0x6*-0x1a5);const _0x2ecf0e=Math['max'](_0xafa6a8['halfExtent'+'s']['x'],_0xafa6a8['halfExtent'+'s']['z']);this['camera']['orthoHeigh'+'t']=_0x2ecf0e;}else _0x364466['lightBound'+'s']['intersects'](_0x36f180['bounds'])||(_0x1f4ce6=!(-0x1*-0x1108+0x162d*-0x1+0x526));if(_0xcbbba5['type']===Ze){let _0x4c7ebb=!(0x2*-0x2a9+-0xfde+0x9b*0x23);const _0x256a76=_0x36f180['meshInstan'+'ces'];for(let _0x1f7362=0x66+-0xd6f+0xd09;_0x1f7362<_0x256a76['length'];_0x1f7362++)if(_0x256a76[_0x1f7362]['_isVisible'](_0x507800)){_0x4c7ebb=!(0x22e6+-0x1da1+-0x13*0x47);break;}_0x4c7ebb||(_0x1f4ce6=!(-0xa64+0x1f81+-0x151c));}return _0x1f4ce6;}['setupLight'+'Array'](_0x83e725,_0x47ecba){_0x83e725[ve]['length']=0x14be*0x1+0x158*0x14+-0x2e*0x109,_0x83e725[Ke]['length']=0x1f*-0x112+-0x147*-0x1b+-0x14f,_0x83e725[Ze]['length']=-0xc41+0x94*-0x1+0x3*0x447,_0x83e725[_0x47ecba['type']][-0x150e+0x70b*-0x3+0x1*0x2a2f]=_0x47ecba,_0x47ecba['visibleThi'+'sFrame']=!(-0x1*-0x23ea+0x1f57*0x1+-0x166b*0x3);}['renderShad'+'owMap'](_0x2fa776,_0xcd5183,_0x44e92c,_0x28145d){const _0x41b6b8=_0x28145d['light'],_0x269341=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x134cf1=_0x41b6b8['castShadow'+'s']&&(!_0x269341||this['scene']['lighting']['shadowsEna'+'bled']);if(!_0xcd5183&&_0x134cf1){if(!_0x41b6b8['shadowMap']&&!_0x269341&&(_0x41b6b8['shadowMap']=this['shadowMapC'+'ache']['get'](this['device'],_0x41b6b8)),_0x41b6b8['type']===ve){this['renderer']['_shadowRen'+'dererDirec'+'tional']['cull'](_0x41b6b8,_0x2fa776,this['camera'],_0x44e92c);const _0xbefdf4=this['renderer']['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x41b6b8,this['camera']);_0xbefdf4==null||_0xbefdf4['render']();}else{if(this['device']['isWebGPU'])return w['warnOnce']('Lightmappe'+'r\x20on\x20WebGP'+'U\x20does\x20not'+'\x20yet\x20suppo'+'rt\x20spot\x20an'+'d\x20omni\x20sha'+'dows.'),!(0x1*-0x91d+-0x4*0x8dd+0x2c91);this['renderer']['_shadowRen'+'dererLocal']['cull'](_0x41b6b8,_0x2fa776,_0x44e92c),this['renderer']['shadowRend'+'erer']['render'](_0x41b6b8,this['camera'],!(0x151*-0xd+-0xa4*0x1c+0x230e));}}return!(0x51*0x57+0x1178+-0x2cff);}['postproces'+'sTextures'](_0x3f53c2,_0x3f04a6,_0x507e44){const _0x34eb87=this['lightmapFi'+'lters']['getDilate'](_0x3f53c2,this['bakeHDR']);let _0x17bb13;const _0x212ff1=this['scene']['lightmapFi'+'lterEnable'+'d'];_0x212ff1&&(this['lightmapFi'+'lters']['prepareDen'+'oise'](this['scene']['lightmapFi'+'lterRange'],this['scene']['lightmapFi'+'lterSmooth'+'ness'],this['bakeHDR']),_0x17bb13=this['lightmapFi'+'lters']['getDenoise'](this['bakeHDR'])),_0x3f53c2['setBlendSt'+'ate'](pt['NOBLEND']),_0x3f53c2['setDepthSt'+'ate'](Yt['NODEPTH']),_0x3f53c2['setStencil'+'State'](null,null);for(let _0x1879ee=0x24d5*-0x1+-0x1*-0x1a03+0xad2;_0x1879ee<_0x3f04a6['length'];_0x1879ee++){const _0x5f3d10=_0x3f04a6[_0x1879ee];Q['pushGpuMar'+'ker'](this['device'],'LMPost:'+_0x1879ee);for(let _0x2eda5a=-0xf59+-0x1*0xe89+0x1de2;_0x2eda5a<_0x507e44;_0x2eda5a++){const _0x12a8f5=_0x5f3d10['renderTarg'+'ets'][_0x2eda5a],_0x258f98=_0x12a8f5['colorBuffe'+'r'],_0x3033f3=this['renderTarg'+'ets']['get'](_0x258f98['width']),_0x1e9523=_0x3033f3['colorBuffe'+'r'];this['lightmapFi'+'lters']['prepare'](_0x258f98['width'],_0x258f98['height']);for(let _0x361663=-0xed1+0x10*-0x2+0xef1;_0x361663<0x1b40+-0xc3d+-0xf02;_0x361663++)this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x258f98),Ar(_0x3f53c2,_0x3033f3,_0x212ff1&&_0x2eda5a===0x2d8+-0x1554+0x7*0x2a4&&_0x361663===-0xccd*-0x1+0x2*-0x22b+-0x877?_0x17bb13:_0x34eb87),this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x1e9523),Ar(_0x3f53c2,_0x12a8f5,_0x34eb87);}Q['popGpuMark'+'er'](this['device']);}}['bakeIntern'+'al'](_0x23acb7,_0x75daec,_0x3e284a){const _0x555798=this['scene'],_0x5129ab=_0x555798['layers'],_0x2b5dab=this['device'],_0xce8ba0=_0x555798['clusteredL'+'ightingEna'+'bled'];this['createMate'+'rials'](_0x2b5dab,_0x555798,_0x23acb7),this['setupScene'](),_0x5129ab['_update'](),this['computeNod'+'esBounds'](_0x75daec),this['allocateTe'+'xtures'](_0x75daec,_0x23acb7),this['renderer']['collectLig'+'hts'](_0x5129ab);const _0x1a65c1=[],_0xd2a4dc=[];this['prepareLig'+'htsToBake'](_0x1a65c1,_0xd2a4dc),this['updateTran'+'sforms'](_0x3e284a);const _0xb49dcc=this['prepareSha'+'dowCasters'](_0x3e284a);this['renderer']['updateCpuS'+'kinMatrice'+'s'](_0xb49dcc),this['renderer']['gpuUpdate'](_0xb49dcc);const _0x4504c0=this['computeBou'+'nds'](_0xb49dcc);let _0x58a2d3,_0x328e60,_0x328b6c,_0x29eb4b;for(_0x58a2d3=0x19ca+-0x158d+-0x1f*0x23;_0x58a2d3<_0x75daec['length'];_0x58a2d3++)for(_0x328b6c=_0x75daec[_0x58a2d3]['meshInstan'+'ces'],_0x328e60=0x11*-0x89+0x7aa+-0x1*-0x16f;_0x328e60<_0x328b6c['length'];_0x328e60++)_0x29eb4b=_0x328b6c[_0x328e60],_0x29eb4b['setLightma'+'pped'](!(0x5e3*0x1+-0x4*-0x345+0x1*-0x12f6)),_0x29eb4b['mask']=fi,_0x29eb4b['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][-0xc17+0x1b0+0xa67],this['blackTex']),_0x29eb4b['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][-0x97*-0xb+0x2f*0x8e+-0xada*0x3],this['blackTex']);for(_0x328e60=-0x1fb4+-0x2*0x12aa+-0x8*-0x8a1;_0x328e60<_0xd2a4dc['length'];_0x328e60++)_0xd2a4dc[_0x328e60]['light']['enabled']=!(-0x93b+0x20d*-0x5+-0x67f*-0x3);const _0x551b06=[[],[],[]];let _0x8c9a93,_0x4ee4b8,_0x17f4f0=!(-0xcb5+-0x35*0xb4+0x31fa);for(_0x58a2d3=-0x1*-0x9ef+-0x1*-0x37+-0xa26;_0x58a2d3<_0xd2a4dc['length'];_0x58a2d3++){const _0x5a9087=_0xd2a4dc[_0x58a2d3],_0x1b19ed=_0x5a9087 instanceof Mg,_0x4e5ad3=_0x5a9087['light']['type']===ve;let _0x47ea9d=_0x5a9087['numVirtual'+'Lights'];_0x23acb7>-0xd*0x261+0x863*0x2+-0xe28*-0x1&&_0x47ea9d>0x12e*0xc+0x41*0x8e+-0x3235&&_0x5a9087['light']['bakeDir']&&(_0x47ea9d=0x30b+-0x24c3+0x21b9,w['warn']('Lightmappe'+'r\x27s\x20BAKE_C'+'OLORDIR\x20mo'+'de\x20is\x20not\x20'+'compatible'+'\x20with\x20Ligh'+'t\x27s\x20bakeNu'+'mSamples\x20l'+'arger\x20than'+'\x20one.\x20Forc'+'ing\x20it\x20to\x20'+'one.'));for(let _0x4496d2=-0x24ed+-0x6*0x382+0x39f9;_0x4496d2<_0x47ea9d;_0x4496d2++){Q['pushGpuMar'+'ker'](_0x2b5dab,'Light:'+_0x5a9087['light']['_node']['name']+':'+_0x4496d2),_0x47ea9d>-0x1*0x7ad+0x1*-0x1501+0x1caf&&_0x5a9087['prepareVir'+'tualLight'](_0x4496d2,_0x47ea9d),_0x5a9087['startBake']();let _0x587e66=!(-0x4*-0x9ac+0x1366+-0x3a15);const _0xe03860=this['lightCamer'+'aPrepare'](_0x2b5dab,_0x5a9087);for(_0x4ee4b8=0x6*0xa7+-0x3a3+-0x47;_0x4ee4b8<_0x75daec['length'];_0x4ee4b8++){const _0xbd3018=_0x75daec[_0x4ee4b8];if(_0x328b6c=_0xbd3018['meshInstan'+'ces'],!this['lightCamer'+'aPrepareAn'+'dCull'](_0x5a9087,_0xbd3018,_0xe03860,_0x4504c0))continue;this['setupLight'+'Array'](_0x551b06,_0x5a9087['light']);const _0x287662=_0x4e5ad3?[]:[_0x5a9087['light']];for(_0xce8ba0&&this['renderer']['lightTextu'+'reAtlas']['update'](_0x287662,this['lightingPa'+'rams']),_0x587e66=this['renderShad'+'owMap'](_0x5129ab,_0x587e66,_0xb49dcc,_0x5a9087),_0xce8ba0&&this['worldClust'+'ers']['update'](_0x287662,this['lightingPa'+'rams']),this['backupMate'+'rials'](_0x328b6c),_0x8c9a93=0x19bb*-0x1+-0x3e*0x13+0x1e55;_0x8c9a93<_0x23acb7&&!(_0x8c9a93>-0x11e6+-0x88a+0x30*0x8d&&_0x4496d2>0x150d+-0x1771+-0xc*-0x33||_0x1b19ed&&_0x8c9a93>0xc97*-0x3+0x137b+0x124a);_0x8c9a93++){Q['pushGpuMar'+'ker'](_0x2b5dab,'LMPass:'+_0x8c9a93);const _0x3aa0b5=_0xbd3018['renderTarg'+'ets'][_0x8c9a93],_0x2ad3e3=_0xbd3018['renderTarg'+'ets'][_0x8c9a93]['colorBuffe'+'r']['width'],_0x4d3067=this['renderTarg'+'ets']['get'](_0x2ad3e3),_0x41a69f=_0x4d3067['colorBuffe'+'r'];_0x8c9a93===0x214f+-0x1*-0xe9b+-0x2*0x17f5?_0x17f4f0=_0x555798['updateShad'+'ers']:_0x17f4f0&&(_0x555798['updateShad'+'ers']=!(0x1042+-0xc2*-0x1d+-0x263c));let _0x2f4bf9=this['passMateri'+'als'][_0x8c9a93];for(_0x1b19ed&&_0x4496d2+(0xec9+-0x90c+-0x5bc)===_0x47ea9d&&_0x8c9a93===0x11f*-0x5+-0x1032*0x2+0x89*0x47&&(_0x2f4bf9=this['ambientAOM'+'aterial']),_0x328e60=-0x2208+0x9c0*-0x1+0x2bc8;_0x328e60<_0x328b6c['length'];_0x328e60++)_0x328b6c[_0x328e60]['material']=_0x2f4bf9;if(this['renderer']['updateShad'+'ers'](_0x328b6c),_0x8c9a93===uL&&this['constantBa'+'keDir']['setValue'](_0x5a9087['light']['bakeDir']?0x11*0xa+-0x2495+-0x26*-0xf2:-0x1913+-0x4*-0x9a3+-0xd79),_0x2b5dab['isWebGPU']){const _0x370599=new hL(_0x2b5dab,this['renderer'],this['camera'],_0xce8ba0?this['worldClust'+'ers']:null,_0x328b6c,_0x551b06);_0x370599['init'](_0x4d3067),_0x370599['render'](),_0x370599['destroy']();}else this['renderer']['setCamera'](this['camera'],_0x4d3067,!(-0x9*-0x2f+-0xd*-0x137+-0x1172)),_0xce8ba0&&this['worldClust'+'ers']['activate'](),this['renderer']['_forwardTi'+'me']=0x1*-0x26f2+-0x719*-0x5+0x5*0xb1,this['renderer']['_shadowMap'+'Time']=-0xae3+0x255f+-0x1a7c,this['renderer']['renderForw'+'ard'](this['camera'],_0x4d3067,_0x328b6c,_0x551b06,Aa),_0x2b5dab['updateEnd']();for(this['stats']['shadowMapT'+'ime']+=this['renderer']['_shadowMap'+'Time'],this['stats']['forwardTim'+'e']+=this['renderer']['_forwardTi'+'me'],this['stats']['renderPass'+'es']++,_0xbd3018['renderTarg'+'ets'][_0x8c9a93]=_0x4d3067,this['renderTarg'+'ets']['set'](_0x2ad3e3,_0x3aa0b5),_0x328e60=0x95*-0x11+0x5bd+0x26*0x1c;_0x328e60<_0x328b6c['length'];_0x328e60++)_0x29eb4b=_0x328b6c[_0x328e60],_0x29eb4b['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][_0x8c9a93],_0x41a69f),_0x29eb4b['_shaderDef'+'s']|=ou;Q['popGpuMark'+'er'](_0x2b5dab);}this['restoreMat'+'erials'](_0x328b6c);}_0x5a9087['endBake'](this['shadowMapC'+'ache']),Q['popGpuMark'+'er'](_0x2b5dab);}}for(this['postproces'+'sTextures'](_0x2b5dab,_0x75daec,_0x23acb7),_0x4ee4b8=-0xae5*0x1+0x322+-0x7c3*-0x1;_0x4ee4b8<_0x3e284a['length'];_0x4ee4b8++)_0x3e284a[_0x4ee4b8]['restore']();this['restoreLig'+'hts'](_0x1a65c1),this['restoreSce'+'ne'](),_0xce8ba0||this['shadowMapC'+'ache']['clear']();}}const Wh=class Wh extends me{constructor(_0x466dee,_0x1e7e49){super(),h(this,'system'),h(this,'entity'),(this['system']=_0x466dee,this['entity']=_0x1e7e49,this['system']['schema']&&!this['_accessors'+'Built']&&this['buildAcces'+'sors'](this['system']['schema']),this['on']('set',function(_0x19b187,_0x518024,_0x2db7cf){this['fire']('set_'+_0x19b187,_0x19b187,_0x518024,_0x2db7cf);}),this['on']('set_enable'+'d',this['onSetEnabl'+'ed'],this));}static['_buildAcce'+'ssors'](_0x5e8599,_0x5539b2){_0x5539b2['forEach'](_0x14f6f9=>{const _0x47fb3d=typeof _0x14f6f9=='object'?_0x14f6f9['name']:_0x14f6f9;Object['defineProp'+'erty'](_0x5e8599,_0x47fb3d,{'get':function(){return this['data'][_0x47fb3d];},'set':function(_0x3577d6){const _0x514c87=this['data'],_0x2a0c92=_0x514c87[_0x47fb3d];_0x514c87[_0x47fb3d]=_0x3577d6,this['fire']('set',_0x47fb3d,_0x2a0c92,_0x3577d6);},'configurable':!(0x542+0x2158+-0x2*0x134d)});}),_0x5e8599['_accessors'+'Built']=!(-0x1987+0x17a4+0x1e3);}['buildAcces'+'sors'](_0x4fae23){Wh['_buildAcce'+'ssors'](this,_0x4fae23);}['onSetEnabl'+'ed'](_0x244930,_0x1453b1,_0x3a39ff){_0x1453b1!==_0x3a39ff&&this['entity']['enabled']&&(_0x3a39ff?this['onEnable']():this['onDisable']());}['onEnable'](){}['onDisable'](){}['onPostStat'+'eChange'](){}get['data'](){const _0x417386=this['system']['store'][this['entity']['getGuid']()];return _0x417386?_0x417386['data']:null;}set['enabled'](_0x51702a){}get['enabled'](){return!(-0x47*0x40+0x1a1f*-0x1+0x3fd*0xb);}};h(Wh,'order',0x1*-0x1ecb+0x703+0x17c8);let we=Wh;class ct extends me{constructor(_0x1a610b){super(),this['app']=_0x1a610b,this['store']={},this['schema']=[];}['addCompone'+'nt'](_0x331921,_0x31b20e={}){const _0x30cc94=new this['ComponentT'+'ype'](this,_0x331921),_0xc7b206=new this['DataType']();return this['store'][_0x331921['getGuid']()]={'entity':_0x331921,'data':_0xc7b206},_0x331921[this['id']]=_0x30cc94,_0x331921['c'][this['id']]=_0x30cc94,this['initialize'+'ComponentD'+'ata'](_0x30cc94,_0x31b20e,[]),this['fire']('add',_0x331921,_0x30cc94),_0x30cc94;}['removeComp'+'onent'](_0x4b2dbc){const _0x4c0857=this['id'],_0x1506cb=this['store'][_0x4b2dbc['getGuid']()],_0x1e02df=_0x4b2dbc['c'][_0x4c0857];_0x1e02df['fire']('beforeremo'+'ve'),this['fire']('beforeremo'+'ve',_0x4b2dbc,_0x1e02df),delete this['store'][_0x4b2dbc['getGuid']()],_0x4b2dbc[_0x4c0857]=void(-0x3a1*0x7+0x59*0xb+0x2*0xaca),delete _0x4b2dbc['c'][_0x4c0857],this['fire']('remove',_0x4b2dbc,_0x1506cb['data']);}['cloneCompo'+'nent'](_0x5a5ff4,_0x364c46){const _0x5d6715=this['store'][_0x5a5ff4['getGuid']()];return this['addCompone'+'nt'](_0x364c46,_0x5d6715['data']);}['initialize'+'ComponentD'+'ata'](_0x1ba0b6,_0x2b8ae9={},_0x3fdd4f){for(let _0x249a17=-0x2*0x8f3+0x13*0x135+0x1*-0x509,_0x30064e=_0x3fdd4f['length'];_0x249a17<_0x30064e;_0x249a17++){const _0x268df9=_0x3fdd4f[_0x249a17];let _0x126048,_0x1b1f57;typeof _0x268df9=='object'?(_0x126048=_0x268df9['name'],_0x1b1f57=_0x268df9['type']):(_0x126048=_0x268df9,_0x1b1f57=void(0x6de+-0x4*-0x67c+-0x20ce));let _0x4c7c18=_0x2b8ae9[_0x126048];_0x4c7c18!==void(0x6*0x1af+-0x263f*-0x1+-0x3059*0x1)?(_0x1b1f57!==void(0x3*-0x621+-0x24ad*-0x1+-0x124a)&&(_0x4c7c18=mL(_0x4c7c18,_0x1b1f57)),_0x1ba0b6[_0x126048]=_0x4c7c18):_0x1ba0b6[_0x126048]=_0x1ba0b6['data'][_0x126048];}_0x1ba0b6['enabled']&&_0x1ba0b6['entity']['enabled']&&_0x1ba0b6['onEnable']();}['getPropert'+'iesOfType'](_0x37cb22){const _0x531e4e=[];return(this['schema']||[])['forEach'](_0x39109c=>{_0x39109c&&typeof _0x39109c=='object'&&_0x39109c['type']===_0x37cb22&&_0x531e4e['push'](_0x39109c);}),_0x531e4e;}['destroy'](){this['off']();}}function mL(_0x3ba474,_0x58c42f){if(!_0x3ba474)return _0x3ba474;switch(_0x58c42f){case'rgb':return _0x3ba474 instanceof ie?_0x3ba474['clone']():new ie(_0x3ba474[-0x3*-0x377+-0xab8+-0x1*-0x53],_0x3ba474[0xc2f*0x3+-0x5d1*-0x6+-0x4772],_0x3ba474[0x1*-0x1ceb+-0xca+0x1db7]);case'rgba':return _0x3ba474 instanceof ie?_0x3ba474['clone']():new ie(_0x3ba474[0xa0*-0x3b+0x6c*-0x10+0x20*0x15d],_0x3ba474[-0x143e+0x13e8+0x1*0x57],_0x3ba474[-0x2*-0x407+-0x168a+0x5*0x2e6],_0x3ba474[-0x1*-0xd34+0x2*0xc15+-0x83*0x49]);case'vec2':return _0x3ba474 instanceof J?_0x3ba474['clone']():new J(_0x3ba474[0x3*-0x3+0x23bc+-0x1*0x23b3],_0x3ba474[-0xf52*0x1+-0xe24+-0x13*-0x18d]);case'vec3':return _0x3ba474 instanceof D?_0x3ba474['clone']():new D(_0x3ba474[-0x400+0x9*0x12d+-0x151*0x5],_0x3ba474[-0x2262+0x924+-0x119*-0x17],_0x3ba474[0xb4e*0x1+0x189+-0x1*0xcd5]);case'vec4':return _0x3ba474 instanceof re?_0x3ba474['clone']():new re(_0x3ba474[0x2606+0x26dc+-0x4ce2],_0x3ba474[0x1*0x17bb+0x9*-0x8f+-0x12b3],_0x3ba474[-0x1311+-0x314*0xb+0x3*0x11a5],_0x3ba474[-0x1a*0x7c+0xa94+0x207]);case'boolean':case'number':case'string':return _0x3ba474;case'entity':return _0x3ba474;default:throw new Error('Could\x20not\x20'+'convert\x20un'+'handled\x20ty'+'pe:\x20'+_0x58c42f);}}const Bv=-0x1bf5+0x1*-0x5fd+0x21f2,Su=0x1d07+0x1a2+0x1ea8*-0x1,yu=-0x1d55*-0x1+0x26b8+-0x440b;class _L{constructor(){this['_left']=(0xd*-0x5e+0x1121*0x1+-0xc5a)/(0x22c7+-0xecf+-0x13f8),this['_right']=-(-0x1543*0x1+0x56d+0x5*0x32b)/(0x1*0x6ee+0x1*-0xa81+-0x393*-0x1),this['_len']=0x10a9+0xf81+0x1*-0x202a,this['_recip']=-0x1c97*-0x1+0x1*0x23ad+0x724*-0x9,this['_p0']=-0x1*-0x101f+-0x252f+0x1510,this['_p1']=0x25e6+0x11ee+-0x37d4,this['_t']=0x1fba+0x131+-0x20eb,this['_hermite']={'valid':!(0xfde*0x1+0xb2+-0x108f),'p0':0x0,'m0':0x0,'p1':0x0,'m1':0x0};}['update'](_0x412ecc,_0x248267){if(_0x412ecc<this['_left']||_0x412ecc>=this['_right']){const _0x1b5a92=_0x248267['length'];if(!_0x1b5a92)this['_left']=-(-0x319+-0x1*-0x683+0x369*-0x1)/(0x1640*0x1+-0x10*-0x1be+-0x3220),this['_right']=(-0xaaa+0x21ea*0x1+0x173f*-0x1)/(-0x3d*-0x49+-0x649*0x6+-0x2e7*-0x7),this['_len']=-0x22f5+0x1889+0xa6c,this['_recip']=0xe7c+0x1d9c+-0x2c18,this['_p0']=this['_p1']=-0x122a+0x3eb*-0x4+0x21d6;else{if(_0x412ecc<_0x248267[-0x1b19+-0xbab*-0x3+-0x7e8])this['_left']=-(0x21*-0x25+0x26ef+0x1*-0x2229)/(0x468+0x1aa0+-0x4*0x7c2),this['_right']=_0x248267[0x2*0xd45+0x1d89+-0x3813*0x1],this['_len']=-0x6cf+0x181d+-0x1bb*0xa,this['_recip']=0x89*-0xb+0x8*0x1c3+-0xbf*0xb,this['_p0']=this['_p1']=0x315+0x1c85+-0x329*0xa;else{if(_0x412ecc>=_0x248267[_0x1b5a92-(0x4*0x6a3+0x1*0x5aa+-0x11*0x1e5)])this['_left']=_0x248267[_0x1b5a92-(-0x21b7+-0x3*0x4ef+0x3085)],this['_right']=(-0x1*-0x1bd2+-0x1003*0x1+-0xbce)/(0xcbe+0xf69+-0x1c27),this['_len']=0x1424+-0x89*-0x1+0x43*-0x4f,this['_recip']=-0x116a+-0x1c52+0x2dbc,this['_p0']=this['_p1']=_0x1b5a92-(0x5*-0x61+-0x1f61+0x2147);else{const _0x1edea6=this['_findKey'](_0x412ecc,_0x248267);this['_left']=_0x248267[_0x1edea6],this['_right']=_0x248267[_0x1edea6+(0x2339+-0xefe*-0x2+-0x4134)],this['_len']=this['_right']-this['_left'];const _0xbfeed3=(0x5d*0x3b+-0x1dd2+0xb3*0xc)/this['_len'];this['_recip']=isFinite(_0xbfeed3)?_0xbfeed3:0x2*0x1069+0xdeb*0x1+-0x2ebd,this['_p0']=_0x1edea6,this['_p1']=_0x1edea6+(-0x1ff3+0xbaa*-0x2+-0xdd2*-0x4);}}}}this['_t']=this['_recip']===-0x1d89*0x1+-0x8*0x17d+0x2971?-0xe5c*0x2+0x5*-0x13d+0x22e9:(_0x412ecc-this['_left'])*this['_recip'],this['_hermite']['valid']=!(-0xf35+-0x497+0x13cd);}['_findKey'](_0x2ee5b0,_0x3aaf88){let _0x5d1d55=-0x1*-0x1431+0x26f9+-0x3b2a;for(;_0x2ee5b0>=_0x3aaf88[_0x5d1d55+(0x161f*-0x1+0xb*-0x9+0x1683)];)_0x5d1d55++;return _0x5d1d55;}['eval'](_0x4b46a1,_0xc39150,_0x47a8c){const _0x41d481=_0x47a8c['_data'],_0x58f652=_0x47a8c['_component'+'s'],_0xc4dd2b=this['_p0']*_0x58f652;if(_0xc39150===Bv){for(let _0x46bbd9=-0x75c+0x12a8+0x4*-0x2d3;_0x46bbd9<_0x58f652;++_0x46bbd9)_0x4b46a1[_0x46bbd9]=_0x41d481[_0xc4dd2b+_0x46bbd9];}else{const _0x59175c=this['_t'],_0x87fafe=this['_p1']*_0x58f652;switch(_0xc39150){case Su:for(let _0x2cef45=-0x373+0x1285+0x6*-0x283;_0x2cef45<_0x58f652;++_0x2cef45)_0x4b46a1[_0x2cef45]=Y['lerp'](_0x41d481[_0xc4dd2b+_0x2cef45],_0x41d481[_0x87fafe+_0x2cef45],_0x59175c);break;case yu:{const _0x1c6599=this['_hermite'];if(!_0x1c6599['valid']){const _0xd66bf9=_0x59175c*_0x59175c,_0x372d30=_0x59175c+_0x59175c,_0x1a225e=0x245+-0x22f6+0x2d*0xba-_0x59175c,_0xa069ad=_0x1a225e*_0x1a225e;_0x1c6599['valid']=!(-0x63d+-0x30*0x46+0x135d),_0x1c6599['p0']=(0x171f+0x219e+-0x38bc*0x1+_0x372d30)*_0xa069ad,_0x1c6599['m0']=_0x59175c*_0xa069ad,_0x1c6599['p1']=_0xd66bf9*(0x2417+-0xe7f+-0x5*0x451-_0x372d30),_0x1c6599['m1']=_0xd66bf9*(_0x59175c-(0xd18+0x2*0x74b+0x41*-0x6d));}const _0x3df8b5=(this['_p0']*(0xc*0x337+-0x433*0x6+0x1e9*-0x7)+(0xf6b+0x28e*0x1+-0x28*0x73))*_0x58f652,_0x18a91d=(this['_p0']*(0x26cb+0x22ca+-0x4992)+(0x24a*0x2+-0x39a*0x2+0x1*0x2a2))*_0x58f652,_0x354ca4=(this['_p1']*(0x25df+0x1420+-0x1*0x39fc)+(0x13b6+-0x22d8+0xf23))*_0x58f652,_0xe3174f=(this['_p1']*(0x45d*-0x2+-0x1878+0x1*0x2135)+(-0x9*0x94+0x1*0x1ab9+-0x1585))*_0x58f652;for(let _0x3bc35c=-0x3*-0x86b+0x92f+-0x130*0x1d;_0x3bc35c<_0x58f652;++_0x3bc35c)_0x4b46a1[_0x3bc35c]=_0x1c6599['p0']*_0x41d481[_0x3df8b5+_0x3bc35c]+_0x1c6599['m0']*_0x41d481[_0x18a91d+_0x3bc35c]*this['_len']+_0x1c6599['p1']*_0x41d481[_0x354ca4+_0x3bc35c]+_0x1c6599['m1']*_0x41d481[_0xe3174f+_0x3bc35c]*this['_len'];break;}}}}}class Ig{constructor(_0x18169a){this['_name']=_0x18169a['name']+'Snapshot',this['_time']=-(0x9d*-0x14+-0x2107+0x2d4c),this['_cache']=[],this['_results']=[];for(let _0xea1c08=-0x24e*-0x2+0x1d71*-0x1+0x18d5;_0xea1c08<_0x18169a['_inputs']['length'];++_0xea1c08)this['_cache'][_0xea1c08]=new _L();const _0x2b60dd=_0x18169a['_curves'],_0x20209b=_0x18169a['_outputs'];for(let _0x35046a=-0x947+-0x44d+0xd94;_0x35046a<_0x2b60dd['length'];++_0x35046a){const _0x97fa0f=_0x2b60dd[_0x35046a],_0x4937b1=_0x20209b[_0x97fa0f['_output']],_0x514417=[];for(let _0x3038bf=-0xf6e+0xb88*0x2+-0x7a2;_0x3038bf<_0x4937b1['_component'+'s'];++_0x3038bf)_0x514417[_0x3038bf]=0x1efa+0x1*-0x1be5+0x315*-0x1;this['_results'][_0x35046a]=_0x514417;}}}const qo=class qo{constructor(_0x398bcc,_0x31cc08,_0x38367b,_0xa36115,_0x2b55dd,_0x24e073){this['_name']=_0x398bcc['name'],this['_track']=_0x398bcc,this['_snapshot']=new Ig(_0x398bcc),this['_playing']=_0xa36115,this['_time']=_0x31cc08,this['_speed']=_0x38367b,this['_loop']=_0x2b55dd,this['_blendWeig'+'ht']=-0xff9+-0x1*0x109d+0x2097*0x1,this['_blendOrde'+'r']=-0xfba+0x7*0x2be+-0x378,this['_eventHand'+'ler']=_0x24e073,this['alignCurso'+'rToCurrent'+'Time']();}set['name'](_0x4837e8){this['_name']=_0x4837e8;}get['name'](){return this['_name'];}set['track'](_0x2bc115){this['_track']=_0x2bc115,this['_snapshot']=new Ig(_0x2bc115);}get['track'](){return this['_track'];}get['snapshot'](){return this['_snapshot'];}set['time'](_0x4c2185){this['_time']=_0x4c2185,this['alignCurso'+'rToCurrent'+'Time']();}get['time'](){return this['_time'];}set['speed'](_0x24cc7e){const _0x5417b8=Math['sign'](_0x24cc7e)!==Math['sign'](this['_speed']);this['_speed']=_0x24cc7e,_0x5417b8&&this['alignCurso'+'rToCurrent'+'Time']();}get['speed'](){return this['_speed'];}set['loop'](_0x33ef9e){this['_loop']=_0x33ef9e;}get['loop'](){return this['_loop'];}set['blendWeigh'+'t'](_0x218422){this['_blendWeig'+'ht']=_0x218422;}get['blendWeigh'+'t'](){return this['_blendWeig'+'ht'];}set['blendOrder'](_0x37727a){this['_blendOrde'+'r']=_0x37727a;}get['blendOrder'](){return this['_blendOrde'+'r'];}set['eventCurso'+'r'](_0x2f55ad){this['_eventCurs'+'or']=_0x2f55ad;}get['eventCurso'+'r'](){return this['_eventCurs'+'or'];}get['eventCurso'+'rEnd'](){return this['isReverse']?-0x235c+0xcc*0x2+-0x10e2*-0x2:this['_track']['events']['length']-(0x17af+0x1de9*-0x1+0x1*0x63b);}get['nextEvent'](){return this['_track']['events'][this['_eventCurs'+'or']];}get['isReverse'](){return this['_speed']<0x1ca7*-0x1+0x7a9*0x2+0xd55*0x1;}['nextEventA'+'headOfTime'](_0x2f1c1e){return this['nextEvent']?this['isReverse']?this['nextEvent']['time']<=_0x2f1c1e:this['nextEvent']['time']>=_0x2f1c1e:!(0x2f*-0x70+-0x1fef+0x6*0x8c0);}['nextEventB'+'ehindTime'](_0x452951){return this['nextEvent']?_0x452951===this['track']['duration']?this['isReverse']?this['nextEvent']['time']>=_0x452951:this['nextEvent']['time']<=_0x452951:this['isReverse']?this['nextEvent']['time']>_0x452951:this['nextEvent']['time']<_0x452951:!(0x15*0x181+-0x2661+0x6cd);}['resetEvent'+'Cursor'](){this['_eventCurs'+'or']=this['isReverse']?this['_track']['events']['length']-(0x1fe+0x15fe+-0x36d*0x7):0xd9c+0x757+-0x14f3;}['moveEventC'+'ursor'](){this['_eventCurs'+'or']+=this['isReverse']?-(-0xbbf+0x18a7*-0x1+-0x2467*-0x1):0x1454+-0x1*-0x24c9+-0x391c,this['_eventCurs'+'or']>=this['track']['events']['length']?this['_eventCurs'+'or']=0x5*0x4be+0x1*0x73b+0x1ef1*-0x1:this['_eventCurs'+'or']<0x1db2+-0x323*0x7+-0x7bd&&(this['_eventCurs'+'or']=this['track']['events']['length']-(-0x1c87+-0x15ae+0x3236));}['clipFrameT'+'ime'](_0x249c04){const _0x484b08=qo['eventFrame'];_0x484b08['start']=0x1*-0x1f05+-0x4*0x25b+-0x165*-0x1d,_0x484b08['end']=_0x249c04,_0x484b08['residual']=-0x1209+-0x26c9*-0x1+-0x14c0,this['isReverse']?_0x249c04<0x294*-0x1+-0x195*-0xc+-0x1a4*0xa&&(_0x484b08['start']=this['track']['duration'],_0x484b08['end']=-0x17d5*-0x1+-0x1a27+0x252,_0x484b08['residual']=_0x249c04+this['track']['duration']):_0x249c04>this['track']['duration']&&(_0x484b08['start']=-0xec3+-0x3e0*-0x2+0x703,_0x484b08['end']=this['track']['duration'],_0x484b08['residual']=_0x249c04-this['track']['duration']);}['alignCurso'+'rToCurrent'+'Time'](){for(this['resetEvent'+'Cursor']();this['nextEventB'+'ehindTime'](this['_time'])&&this['_eventCurs'+'or']!==this['eventCurso'+'rEnd'];)this['moveEventC'+'ursor']();}['fireNextEv'+'ent'](){this['_eventHand'+'ler']['fire'](this['nextEvent']['name'],{'track':this['track'],...this['nextEvent']}),this['moveEventC'+'ursor']();}['fireNextEv'+'entInFrame'](_0x2d27f5,_0x784525){return this['nextEventA'+'headOfTime'](_0x2d27f5)&&this['nextEventB'+'ehindTime'](_0x784525)?(this['fireNextEv'+'ent'](),!(-0x25d+0x2*0xc7f+-0x16a1)):!(0x213*-0x5+-0x3*0x239+-0x1*-0x110b);}['activeEven'+'tsForFrame'](_0x26e2ab,_0x4c8a9c){const _0x3255e2=qo['eventFrame'];this['clipFrameT'+'ime'](_0x4c8a9c);const _0x2d7254=this['eventCurso'+'r'];for(;this['fireNextEv'+'entInFrame'](_0x26e2ab,_0x3255e2['end'])&&_0x2d7254!==this['eventCurso'+'r'];);this['loop']&&Math['abs'](_0x3255e2['residual'])>-0x1d11*-0x1+-0xc97+-0x107a&&this['activeEven'+'tsForFrame'](_0x3255e2['start'],_0x3255e2['residual']);}['progressFo'+'rTime'](_0x439ddb){return _0x439ddb*this['_speed']/this['_track']['duration'];}['_update'](_0x150bfa){if(this['_playing']){let _0x2d142b=this['_time'];const _0x4082ae=this['_track']['duration'],_0x5613a4=this['_speed'],_0x3fd387=this['_loop'];this['_track']['events']['length']>-0x1c10+-0xa32+0x2642&&_0x4082ae>-0x6de+-0x1e2+0x8c0&&this['activeEven'+'tsForFrame'](_0x2d142b,_0x2d142b+_0x5613a4*_0x150bfa),_0x2d142b+=_0x5613a4*_0x150bfa,_0x5613a4>=0x423*0x1+0x6b*0x2f+0x2*-0xbe4?_0x2d142b>_0x4082ae&&(_0x3fd387?_0x2d142b=_0x2d142b%_0x4082ae||0x1e92+0xf1*-0x16+-0x9dc:(_0x2d142b=this['_track']['duration'],this['pause']())):_0x2d142b<0x1*-0xa96+-0x5*-0x289+-0x217&&(_0x3fd387?_0x2d142b=_0x4082ae+(_0x2d142b%_0x4082ae||0x469+-0x22b7+-0x3*-0xa1a):(_0x2d142b=-0x7f*0x3f+0x15bc+0x985,this['pause']())),this['_time']=_0x2d142b;}this['_time']!==this['_snapshot']['_time']&&this['_track']['eval'](this['_time'],this['_snapshot']);}['play'](){this['_playing']=!(-0x8e*0x3+-0x1f4d+-0x1*-0x20f7),this['_time']=-0x17e7+-0x2213+0x29*0x16a;}['stop'](){this['_playing']=!(0x1052*-0x1+0x227f*-0x1+0x32d2),this['_time']=-0x1559*0x1+0x81*0x49+-0x68*0x26;}['pause'](){this['_playing']=!(-0x788+0x59*0x5f+-0x197e);}['resume'](){this['_playing']=!(0xefe+-0x3*0x7b+0xd8d*-0x1);}['reset'](){this['_time']=0x318+0x14*-0xce+-0x1a0*-0x8;}};h(qo,'eventFrame',{'start':0x0,'end':0x0,'residual':0x0});let Dh=qo;const zv='NONE',gL='PREV_STATE',SL='NEXT_STATE',yL='PREV_STATE'+'_NEXT_STAT'+'E',vL='NEXT_STATE'+'_PREV_STAT'+'E',xL='GREATER_TH'+'AN',TL='LESS_THAN',wL='GREATER_TH'+'AN_EQUAL_T'+'O',EL='LESS_THAN_'+'EQUAL_TO',bL='EQUAL_TO',AL='NOT_EQUAL_'+'TO',Lg='INTEGER',Rg='FLOAT',Og='BOOLEAN',Qc='TRIGGER',CL='1D',PL='2D_DIRECTI'+'ONAL',ML='2D_CARTESI'+'AN',DL='DIRECT',Co='START',vu='END',qr='ANY',Ih=[Co,vu,qr],Vv='OVERWRITE',IL='ADDITIVE';class Ht{static['dot'](_0x3386b0,_0x4f28ad){const _0x2ff210=_0x3386b0['length'];let _0xa1433b=0xe98+-0x30*0x81+0x998;for(let _0x2a14d7=0x1*0x2443+0x23db+-0x481e;_0x2a14d7<_0x2ff210;++_0x2a14d7)_0xa1433b+=_0x3386b0[_0x2a14d7]*_0x4f28ad[_0x2a14d7];return _0xa1433b;}static['normalize'](_0x3104f4){let _0x566ce1=Ht['dot'](_0x3104f4,_0x3104f4);if(_0x566ce1>-0x53*0x42+0x1b56+-0x5f0){_0x566ce1=(-0x1254+-0x1fcd+0x3222)/Math['sqrt'](_0x566ce1);const _0x354d9d=_0x3104f4['length'];for(let _0x3b3111=-0xc0*0x16+0x5*0x503+-0x88f;_0x3b3111<_0x354d9d;++_0x3b3111)_0x3104f4[_0x3b3111]*=_0x566ce1;}}static['set'](_0x5896de,_0x537445,_0x576f40){const _0xec0b45=_0x5896de['length'];if(_0x576f40==='quaternion'){let _0xd5769a=Ht['dot'](_0x537445,_0x537445);_0xd5769a>-0x1ea8+0x193+0x1d15*0x1&&(_0xd5769a=(0x5*0x523+-0x1*0x1430+-0x26*0x25)/Math['sqrt'](_0xd5769a));for(let _0x4f557d=0xad*0x1+-0xdd+-0x1*-0x30;_0x4f557d<_0xec0b45;++_0x4f557d)_0x5896de[_0x4f557d]=_0x537445[_0x4f557d]*_0xd5769a;}else{for(let _0x443ed1=0xe4b+0x1aae+-0x28f9;_0x443ed1<_0xec0b45;++_0x443ed1)_0x5896de[_0x443ed1]=_0x537445[_0x443ed1];}}static['blendVec'](_0x1668ef,_0x1a5a57,_0x5959e0,_0x8de8d){const _0x52c124=_0x8de8d?-0x742+0x1*-0x2394+0x2ad7:-0x124*0x3+0x2485*0x1+0x4*-0x846-_0x5959e0,_0x85c0c8=_0x1668ef['length'];for(let _0x29793d=-0xfd2+0xd06+-0x166*-0x2;_0x29793d<_0x85c0c8;++_0x29793d)_0x1668ef[_0x29793d]=_0x1668ef[_0x29793d]*_0x52c124+_0x1a5a57[_0x29793d]*_0x5959e0;}static['blendQuat'](_0x545ea1,_0x10918e,_0x3280e7,_0x496d8a){const _0x2bce64=_0x545ea1['length'],_0x303f2e=_0x496d8a?0x1*0x2143+-0x133*0x3+-0x1da9:-0x25a5+0xe6e+-0xb9c*-0x2-_0x3280e7;Ht['dot'](_0x545ea1,_0x10918e)<-0xa63+0x239b+-0x1938&&(_0x3280e7=-_0x3280e7);for(let _0x3a2dfd=-0x3f2*-0x7+-0x21a8+0x60a;_0x3a2dfd<_0x2bce64;++_0x3a2dfd)_0x545ea1[_0x3a2dfd]=_0x545ea1[_0x3a2dfd]*_0x303f2e+_0x10918e[_0x3a2dfd]*_0x3280e7;_0x496d8a||Ht['normalize'](_0x545ea1);}static['blend'](_0x4ec01a,_0x1180bb,_0x30e0e9,_0x1c88ca,_0x446929){_0x1c88ca==='quaternion'?Ht['blendQuat'](_0x4ec01a,_0x1180bb,_0x30e0e9,_0x446929):Ht['blendVec'](_0x4ec01a,_0x1180bb,_0x30e0e9,_0x446929);}static['stableSort'](_0x314111,_0x2ce2aa){const _0x306119=_0x314111['length'];for(let _0x3d9df6=-0x20*0xc5+-0x2355+0x1*0x3bf5;_0x3d9df6<_0x306119-(-0xcbe+0x1dc2+-0x1103);++_0x3d9df6)for(let _0x5d8ec3=_0x3d9df6+(-0x24f8+-0x1e7e+-0x65*-0xab);_0x5d8ec3<_0x306119;++_0x5d8ec3)if(_0x2ce2aa(_0x314111[_0x5d8ec3],_0x314111[_0x3d9df6])){const _0x29c42d=_0x314111[_0x3d9df6];_0x314111[_0x3d9df6]=_0x314111[_0x5d8ec3],_0x314111[_0x5d8ec3]=_0x29c42d;}}}const st=class st{constructor(_0x13d778,_0x2fefab){this['_component']=_0x13d778,this['mask']=new Int8Array(_0x13d778['layers']['length']),this['weights']=new Float32Array(_0x13d778['layers']['length']),this['totalWeigh'+'t']=-0x1*0x103a+-0x1e4+-0x2*-0x90f,this['counter']=0xe1+-0x122f+0x114e,this['layerCount'+'er']=0x122a+-0xbe8+-0x642,this['valueType']=_0x2fefab,this['dirty']=!(-0x38*-0x27+-0xfe*0x8+-0x98),this['value']=_0x2fefab===st['TYPE_QUAT']?[-0x33e*-0x4+0x9ff*-0x1+-0x2f9,0x18aa+0x5*0x627+-0x7eb*0x7,0x2*0x2d5+0x1*-0x1f6e+0x19c4,0x21e+-0x229*0xa+0x137d]:[0x4*0x251+0x1f*-0xd2+-0x102a*-0x1,-0x1b6f*0x1+0x1981+0x1ee,-0x1dd4+-0x2*-0xfe0+0xa4*-0x3],this['baseValue']=null,this['setter']=null;}get['_normalize'+'Weights'](){return this['_component']['normalizeW'+'eights'];}['getWeight'](_0x528f39){return this['dirty']&&this['updateWeig'+'hts'](),this['_normalize'+'Weights']&&this['totalWeigh'+'t']===-0x3c6+-0x14f*0x15+0x1f41||!this['mask'][_0x528f39]?-0x6d1+0x1815+-0x1144:this['_normalize'+'Weights']?this['weights'][_0x528f39]/this['totalWeigh'+'t']:Y['clamp'](this['weights'][_0x528f39],-0x93a+0xd*-0x149+0x19ef*0x1,0xf2b+0x27*-0x47+-0x459);}['_layerBlen'+'dType'](_0x5abaf6){return this['_component']['layers'][_0x5abaf6]['blendType'];}['setMask'](_0x322334,_0x2b222d){this['mask'][_0x322334]=_0x2b222d,this['_normalize'+'Weights']&&(this['_component']['layers'][_0x322334]['blendType']===Vv&&(this['mask']=this['mask']['fill'](-0x4ab+0x98e+-0x4e3,0x102+-0x25*-0x67+0xd*-0x139,_0x322334)),this['dirty']=!(0x14f1+-0x99d+0xb54*-0x1));}['updateWeig'+'hts'](){this['totalWeigh'+'t']=-0x1e47+-0x357*0x9+0x3c56;for(let _0x2985e6=-0x1cad*-0x1+-0x1242+0x17d*-0x7;_0x2985e6<this['weights']['length'];_0x2985e6++)this['weights'][_0x2985e6]=this['_component']['layers'][_0x2985e6]['weight'],this['totalWeigh'+'t']+=this['mask'][_0x2985e6]*this['weights'][_0x2985e6];this['dirty']=!(0x1379+0x25e4+0x395c*-0x1);}['updateValu'+'e'](_0xbcfc9b,_0x22b9ec){if(this['counter']===-0xc73*0x2+0x17e7+0x5*0x33&&(Ht['set'](this['value'],st['IDENTITY_Q'+'UAT_ARR'],this['valueType']),this['_normalize'+'Weights']||Ht['blend'](this['value'],this['baseValue'],-0x131d+0x25d9*-0x1+0x38f7,this['valueType'])),!(!this['mask'][_0xbcfc9b]||this['getWeight'](_0xbcfc9b)===-0x157*-0x1+0x1f54+-0x20ab)){if(this['_layerBlen'+'dType'](_0xbcfc9b)===IL&&!this['_normalize'+'Weights']){if(this['valueType']===st['TYPE_QUAT']){const _0x594fef=st['q1']['set'](this['value'][-0x301+-0x14f*-0x19+-0x1db6],this['value'][0x343*0x5+-0x1cd5+0xc87],this['value'][0x152b*-0x1+-0xc19+0x10a3*0x2],this['value'][-0xcc5+0x3c7*0x1+0x901]),_0x598fb9=st['q2']['set'](this['baseValue'][0x250c+-0x17c9+0xd43*-0x1],this['baseValue'][0x26d6+0x8b3*0x3+-0x40ee],this['baseValue'][-0x1d03+0x51d+-0xf*-0x198],this['baseValue'][-0x1*-0x1dcc+-0x170d*0x1+-0x6bc]),_0x2477bf=st['q3']['set'](_0x22b9ec[0x1435+-0x255*-0x5+0x1*-0x1fde],_0x22b9ec[0x1*-0x1c4+-0x43*0xe+0x56f],_0x22b9ec[0x2*-0x607+-0x72c+0x133c],_0x22b9ec[-0x1abc+0x108f+0x2*0x518]),_0x59987b=_0x598fb9['invert']()['mul'](_0x2477bf);_0x59987b['slerp'](le['IDENTITY'],_0x59987b,this['getWeight'](_0xbcfc9b)),_0x594fef['mul'](_0x59987b),st['quatArr'][0x7+0xa7f*0x2+-0x1505]=_0x594fef['x'],st['quatArr'][0x626+-0x2650*-0x1+-0x2c75]=_0x594fef['y'],st['quatArr'][0x1fb7+-0x1*-0x685+-0x263a]=_0x594fef['z'],st['quatArr'][0x9*-0x3c3+0x5fd*0x1+0x1be1]=_0x594fef['w'],Ht['set'](this['value'],st['quatArr'],this['valueType']);}else st['vecArr'][0x67e+0x175*0xf+0xb1*-0x29]=_0x22b9ec[-0x7*0x3+0x889+-0x2*0x43a]-this['baseValue'][0xc4*0x6+-0x1f75+0x1add],st['vecArr'][-0x25a6+0x20b9*-0x1+-0x1198*-0x4]=_0x22b9ec[0xa*-0x39c+0x1f86+-0x493*-0x1]-this['baseValue'][-0x17d3+-0x18a5+-0x3079*-0x1],st['vecArr'][0x1*-0xa2f+-0xc49+0x167a]=_0x22b9ec[0x1*0x1f05+0x1df3+-0x1cb*0x22]-this['baseValue'][-0x112*-0x10+-0x259e+0xa4*0x20],Ht['blend'](this['value'],st['vecArr'],this['getWeight'](_0xbcfc9b),this['valueType'],!(-0x19a9+-0x1*-0xaaf+0xefa));}else Ht['blend'](this['value'],_0x22b9ec,this['getWeight'](_0xbcfc9b),this['valueType']);this['setter']&&this['setter'](this['value']);}}['unbind'](){this['setter']&&this['setter'](this['baseValue']);}};h(st,'TYPE_QUAT','quaternion'),h(st,'TYPE_VEC3','vector3'),h(st,'q1',new le()),h(st,'q2',new le()),h(st,'q3',new le()),h(st,'quatArr',[-0x8cc+0x685*0x2+-0x3*0x16a,0x18b*0x5+-0x103f*0x1+-0xd*-0xa8,-0x20ba*0x1+0x1*0x1ba+-0xf80*-0x2,0x67*-0x25+-0x1779+0x265d]),h(st,'vecArr',[-0x1*0x24cf+-0x1*0x142a+0x38f9,-0x15*0x7f+-0xf51+0x19bc,-0x22b7+0x67*0x41+0x890]),h(st,'IDENTITY_Q'+'UAT_ARR',[-0x18a*-0x17+-0x2577+0x211,-0x6a*-0x35+0x114*0x1+0xb83*-0x2,0x4db+-0x204b+-0x6dc*-0x4,0x1503+-0x1ba3+0x6a1]);let Vo=st;class Gv{constructor(_0x52c722){this['_binder']=_0x52c722,this['_clips']=[],this['_inputs']=[],this['_outputs']=[],this['_targets']={};}get['clips'](){return this['_clips'];}['addClip'](_0x1ddb86){const _0x5d5314=this['_targets'],_0x2178aa=this['_binder'],_0x342ecd=_0x1ddb86['track']['curves'],_0x2882d8=_0x1ddb86['snapshot'],_0x339a66=[],_0x11bca3=[];for(let _0x30c169=0xeb+0x140d+-0x16*0xf4;_0x30c169<_0x342ecd['length'];++_0x30c169){const _0x3c8880=_0x342ecd[_0x30c169]['paths'];for(let _0x3aead9=0xfb8+-0xf97+-0x21;_0x3aead9<_0x3c8880['length'];++_0x3aead9){const _0x21064d=_0x3c8880[_0x3aead9],_0x5592c0=_0x2178aa['resolve'](_0x21064d);let _0x18ca44=_0x5d5314[_0x5592c0&&_0x5592c0['targetPath']||null];if(!_0x18ca44&&_0x5592c0){_0x18ca44={'target':_0x5592c0,'value':[],'curves':0x0,'blendCounter':0x0};for(let _0x172358=0x1*-0x25aa+-0x12a*0x19+0x4*0x10b1;_0x172358<_0x18ca44['target']['components'];++_0x172358)_0x18ca44['value']['push'](0x4f6*-0x2+-0xde8+0x17d4);if(_0x5d5314[_0x5592c0['targetPath']]=_0x18ca44,_0x2178aa['animCompon'+'ent']){if(!_0x2178aa['animCompon'+'ent']['targets'][_0x5592c0['targetPath']]){let _0x4a51a7;_0x5592c0['targetPath']['substring'](_0x5592c0['targetPath']['length']-(0x2*0x167+-0x1450+-0x9b*-0x1d))==='localRotat'+'ion'?_0x4a51a7=Vo['TYPE_QUAT']:_0x4a51a7=Vo['TYPE_VEC3'],_0x2178aa['animCompon'+'ent']['targets'][_0x5592c0['targetPath']]=new Vo(_0x2178aa['animCompon'+'ent'],_0x4a51a7);}_0x2178aa['animCompon'+'ent']['targets'][_0x5592c0['targetPath']]['layerCount'+'er']++,_0x2178aa['animCompon'+'ent']['targets'][_0x5592c0['targetPath']]['setMask'](_0x2178aa['layerIndex'],0x1eb0+0x18e7+-0x3796);}}_0x18ca44&&(_0x18ca44['curves']++,_0x339a66['push'](_0x2882d8['_results'][_0x30c169]),_0x11bca3['push'](_0x18ca44));}}this['_clips']['push'](_0x1ddb86),this['_inputs']['push'](_0x339a66),this['_outputs']['push'](_0x11bca3);}['removeClip'](_0x1cff56){const _0x47ad41=this['_targets'],_0x57d78f=this['_binder'],_0x44e1d0=this['_clips'],_0x55d1a9=_0x44e1d0[_0x1cff56]['track']['curves'];for(let _0x19bea1=-0xf32+-0x1*-0x1796+-0x864;_0x19bea1<_0x55d1a9['length'];++_0x19bea1){const _0x15ac3b=_0x55d1a9[_0x19bea1]['paths'];for(let _0x27f534=-0x5fa+-0x3*0xaac+0x6*0x655;_0x27f534<_0x15ac3b['length'];++_0x27f534){const _0x215766=_0x15ac3b[_0x27f534],_0x1335e9=this['_binder']['resolve'](_0x215766);_0x1335e9&&(_0x1335e9['curves']--,_0x1335e9['curves']===0xd79*0x1+0xb9*0x21+0x119*-0x22&&(_0x57d78f['unresolve'](_0x215766),delete _0x47ad41[_0x1335e9['targetPath']],_0x57d78f['animCompon'+'ent']&&_0x57d78f['animCompon'+'ent']['targets'][_0x1335e9['targetPath']]['layerCount'+'er']--));}}_0x44e1d0['splice'](_0x1cff56,-0x3*0x85f+0x65a*0x1+-0x4b1*-0x4),this['_inputs']['splice'](_0x1cff56,-0x316*-0x2+0x7d3*-0x1+-0x35*-0x8),this['_outputs']['splice'](_0x1cff56,-0x2036+0x1*0x136d+-0x2*-0x665);}['removeClip'+'s'](){for(;this['_clips']['length']>0x1d8a+0xad9*0x3+0x3e15*-0x1;)this['removeClip'](0x1721+0x241*0x6+0x355*-0xb);}['updateClip'+'Track'](_0x4a9e08,_0x31e126){this['_clips']['forEach'](_0x292bb0=>{_0x292bb0['name']['includes'](_0x4a9e08)&&(_0x292bb0['track']=_0x31e126);}),this['rebind']();}['findClip'](_0x186959){const _0x38df60=this['_clips'];for(let _0x2fc069=-0x18f7+0x5*-0x487+-0x9*-0x54a;_0x2fc069<_0x38df60['length'];++_0x2fc069){const _0x28ee39=_0x38df60[_0x2fc069];if(_0x28ee39['name']===_0x186959)return _0x28ee39;}return null;}['rebind'](){this['_binder']['rebind'](),this['_targets']={};const _0x3e2ea9=[...this['clips']];this['removeClip'+'s'](),_0x3e2ea9['forEach'](_0x39bb6d=>{this['addClip'](_0x39bb6d);});}['assignMask'](_0x52b781){return this['_binder']['assignMask'](_0x52b781);}['update'](_0x30385b,_0x2b9094=!(-0x2548+0xbb1+0x1997)){const _0x5d7a87=this['_clips'],_0x4057ec=_0x5d7a87['map']((_0x211c9,_0x5c741a)=>_0x5c741a);Ht['stableSort'](_0x4057ec,(_0x580f3a,_0x5c2d7f)=>_0x5d7a87[_0x580f3a]['blendOrder']<_0x5d7a87[_0x5c2d7f]['blendOrder']);for(let _0x364f31=-0x1515+-0x685+0x1b9a;_0x364f31<_0x4057ec['length'];++_0x364f31){const _0x2fed61=_0x4057ec[_0x364f31],_0xe0d198=_0x5d7a87[_0x2fed61],_0x2fa28c=this['_inputs'][_0x2fed61],_0x76d5ed=this['_outputs'][_0x2fed61],_0x4e03a0=_0xe0d198['blendWeigh'+'t'];if(_0x4e03a0>0x611+-0x7d1*0x4+0x1933&&_0xe0d198['_update'](_0x30385b),!_0x2b9094)break;let _0xe1941b,_0xac428,_0x9a3152;if(_0x4e03a0>=0x1e81+0x3eb*0x3+0x175*-0x1d){for(let _0xe163aa=-0xd1f+-0x10d5+0x1df4;_0xe163aa<_0x2fa28c['length'];++_0xe163aa)_0xe1941b=_0x2fa28c[_0xe163aa],_0xac428=_0x76d5ed[_0xe163aa],_0x9a3152=_0xac428['value'],Ht['set'](_0x9a3152,_0xe1941b,_0xac428['target']['type']),_0xac428['blendCount'+'er']++;}else{if(_0x4e03a0>-0x19c1+-0x1b2b+0x34ec){for(let _0xac5e0e=0xf*-0xe8+-0x2*-0xf67+-0x2*0x89b;_0xac5e0e<_0x2fa28c['length'];++_0xac5e0e)_0xe1941b=_0x2fa28c[_0xac5e0e],_0xac428=_0x76d5ed[_0xac5e0e],_0x9a3152=_0xac428['value'],_0xac428['blendCount'+'er']===-0x1c*0xfb+-0x14*-0xc7+0xbe8?Ht['set'](_0x9a3152,_0xe1941b,_0xac428['target']['type']):Ht['blend'](_0x9a3152,_0xe1941b,_0x4e03a0,_0xac428['target']['type']),_0xac428['blendCount'+'er']++;}}}const _0x18e15d=this['_targets'],_0x58695b=this['_binder'];for(const _0x438edf in _0x18e15d)if(_0x18e15d['hasOwnProp'+'erty'](_0x438edf)){const _0x3627b6=_0x18e15d[_0x438edf];if(_0x58695b['animCompon'+'ent']&&_0x3627b6['target']['isTransfor'+'m']){const _0x360d72=_0x58695b['animCompon'+'ent']['targets'][_0x438edf];_0x360d72['counter']===_0x360d72['layerCount'+'er']&&(_0x360d72['counter']=-0x21a3+0xbdc+-0x15c7*-0x1),_0x360d72['path']||(_0x360d72['path']=_0x438edf,_0x360d72['baseValue']=_0x3627b6['target']['get'](),_0x360d72['setter']=_0x3627b6['target']['set']),_0x360d72['updateValu'+'e'](_0x58695b['layerIndex'],_0x3627b6['value']),_0x360d72['counter']++;}else _0x3627b6['target']['set'](_0x3627b6['value']);_0x3627b6['blendCount'+'er']=0x22c5+0x23fe+-0x5*0xe27;}this['_binder']['update'](_0x30385b);}}class Hv{constructor(_0x367a89){this['_events']=[..._0x367a89],this['_events']['sort']((_0x5530bd,_0x22b4e6)=>_0x5530bd['time']-_0x22b4e6['time']);}get['events'](){return this['_events'];}}const $h=class $h{constructor(_0x5c6663,_0x30968c,_0x58f698,_0x5239c0,_0x25fbb9,_0x26a03d=new Hv([])){this['_name']=_0x5c6663,this['_duration']=_0x30968c,this['_inputs']=_0x58f698,this['_outputs']=_0x5239c0,this['_curves']=_0x25fbb9,this['_animEvent'+'s']=_0x26a03d;}get['name'](){return this['_name'];}get['duration'](){return this['_duration'];}get['inputs'](){return this['_inputs'];}get['outputs'](){return this['_outputs'];}get['curves'](){return this['_curves'];}set['events'](_0x140b65){this['_animEvent'+'s']=_0x140b65;}get['events'](){return this['_animEvent'+'s']['events'];}['eval'](_0x242ed6,_0x3a7465){_0x3a7465['_time']=_0x242ed6;const _0x47a7bf=this['_inputs'],_0x3d854a=this['_outputs'],_0x113c4f=this['_curves'],_0x480a41=_0x3a7465['_cache'],_0x2c3f1c=_0x3a7465['_results'];for(let _0x537866=-0x466+-0x1*0x20ca+0x2530;_0x537866<_0x47a7bf['length'];++_0x537866)_0x480a41[_0x537866]['update'](_0x242ed6,_0x47a7bf[_0x537866]['_data']);for(let _0x4d4c69=0xa6c+0x2*-0x84c+0x4f*0x14;_0x4d4c69<_0x113c4f['length'];++_0x4d4c69){const _0x5f4a49=_0x113c4f[_0x4d4c69],_0x5d5e29=_0x3d854a[_0x5f4a49['_output']],_0x1f343b=_0x2c3f1c[_0x4d4c69];_0x480a41[_0x5f4a49['_input']]['eval'](_0x1f343b,_0x5f4a49['_interpola'+'tion'],_0x5d5e29);}}};h($h,'EMPTY',Object['freeze'](new $h('empty',Number['MAX_VALUE'],[],[],[])));let Qi=$h;class ra{static['joinPath'](_0x376b7a,_0x4e1b53){_0x4e1b53=_0x4e1b53||'.';const _0x41f878=function(_0x201aff){return _0x201aff['replace'](/\\/g,'\x5c\x5c')['replace'](new RegExp('\x5c'+_0x4e1b53,'g'),'\x5c'+_0x4e1b53);};return _0x376b7a['map'](_0x41f878)['join'](_0x4e1b53);}static['splitPath'](_0x3685e1,_0x42990d){_0x42990d=_0x42990d||'.';const _0x57b26b=[];let _0x12b7e6='',_0x3abf06=-0xa96+0x9*-0x30b+0x25f9*0x1;for(;_0x3abf06<_0x3685e1['length'];){let _0x16aaed=_0x3685e1[_0x3abf06++];_0x16aaed==='\x5c'&&_0x3abf06<_0x3685e1['length']?(_0x16aaed=_0x3685e1[_0x3abf06++],_0x16aaed==='\x5c'||_0x16aaed===_0x42990d?_0x12b7e6+=_0x16aaed:_0x12b7e6+='\x5c'+_0x16aaed):_0x16aaed===_0x42990d?(_0x57b26b['push'](_0x12b7e6),_0x12b7e6=''):_0x12b7e6+=_0x16aaed;}return _0x12b7e6['length']>-0x389*0x5+-0x8bb*-0x2+0x5*0xb&&_0x57b26b['push'](_0x12b7e6),_0x57b26b;}static['encode'](_0x1739a9,_0x3a4cfc,_0x4c81a2){return(Array['isArray'](_0x1739a9)?_0x1739a9['join']('/'):_0x1739a9)+'/'+_0x3a4cfc+'/'+(Array['isArray'](_0x4c81a2)?_0x4c81a2['join']('/'):_0x4c81a2);}['resolve'](_0x228bc0){return null;}['unresolve'](_0x7bc3a5){}['update'](_0x354250){}}class xu{constructor(_0x2df1c2,_0x4a31c8,_0x140777,_0x2f04db){_0x2df1c2['set']?(this['_set']=_0x2df1c2['set'],this['_get']=_0x2df1c2['get']):this['_set']=_0x2df1c2,this['_type']=_0x4a31c8,this['_component'+'s']=_0x140777,this['_targetPat'+'h']=_0x2f04db,this['_isTransfo'+'rm']=this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x2*-0x6ab+-0x2af*0xc+0x12eb))==='localRotat'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0xbe5+0x16a5+-0x391*0x3))==='localPosit'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x3*-0x1eb+0x1d*-0x11e+0x1aaf))==='localScale';}get['set'](){return this['_set'];}get['get'](){return this['_get'];}get['type'](){return this['_type'];}get['components'](){return this['_component'+'s'];}get['targetPath'](){return this['_targetPat'+'h'];}get['isTransfor'+'m'](){return this['_isTransfo'+'rm'];}}class Sr{constructor(_0xce6395){h(this,'_isPathInM'+'ask',(_0x1c7577,_0x52f8e0)=>{const _0x40bdb5=this['_mask'][_0x1c7577];if(_0x40bdb5){if(_0x40bdb5['children']||_0x52f8e0&&_0x40bdb5['value']!==!(0x83d*0x2+-0xaea+-0x58f))return!(-0xeb2+0x74*0x18+-0x2*-0x1e9);}else return!(-0x1f*-0x11b+0xc5*-0x12+0x86*-0x27);return!(0x15eb+0x16c+-0x1756);});if(this['graph']=_0xce6395,!_0xce6395)return;this['_mask']=null;const _0x5c6999={},_0x388991=function(_0x1e34a9){_0x5c6999[_0x1e34a9['name']]=_0x1e34a9;for(let _0x3b9de8=-0xca7+-0x1*-0xdc6+0x7*-0x29;_0x3b9de8<_0x1e34a9['children']['length'];++_0x3b9de8)_0x388991(_0x1e34a9['children'][_0x3b9de8]);};_0x388991(_0xce6395),this['nodes']=_0x5c6999,this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={};const _0x5eb4dd=function(_0xb35862){let _0x2b719c=_0xb35862;for(;_0x2b719c&&!(_0x2b719c instanceof lt);)_0x2b719c=_0x2b719c['parent'];let _0x130b2a;return _0x2b719c&&(_0x2b719c['render']?_0x130b2a=_0x2b719c['render']['meshInstan'+'ces']:_0x2b719c['model']&&(_0x130b2a=_0x2b719c['model']['meshInstan'+'ces'])),_0x130b2a;};this['nodeCounts']={},this['activeNode'+'s']=[],this['handlers']={'localPosition':function(_0x1c3cd8){const _0x18cc94=_0x1c3cd8['localPosit'+'ion'],_0x29dbbb=function(_0x4e3f11){_0x18cc94['set'](..._0x4e3f11);};return Sr['createAnim'+'Target'](_0x29dbbb,'vector',0x2ed*0x3+-0x3*0x716+0x29*0x4e,_0x1c3cd8,'localPosit'+'ion');},'localRotation':function(_0x5e9358){const _0x52d014=_0x5e9358['localRotat'+'ion'],_0x3b60c3=function(_0x465b13){_0x52d014['set'](..._0x465b13);};return Sr['createAnim'+'Target'](_0x3b60c3,'quaternion',0x175*0xd+0x1e0+0x4b*-0x47,_0x5e9358,'localRotat'+'ion');},'localScale':function(_0x4f6778){const _0x3e7cc2=_0x4f6778['localScale'],_0x17f910=function(_0x3f6d4b){_0x3e7cc2['set'](..._0x3f6d4b);};return Sr['createAnim'+'Target'](_0x17f910,'vector',0x13*0x17f+-0x1106+-0x4*0x2d9,_0x4f6778,'localScale');},'weight':function(_0x3e7144,_0x93711a){_0x93711a['indexOf']('name.')===-0x1*0x1d44+-0x1467+0x5*0x9ef?_0x93711a=_0x93711a['replace']('name.',''):_0x93711a=Number(_0x93711a);const _0xb72601=_0x5eb4dd(_0x3e7144);let _0x117e99;if(_0xb72601){for(let _0x188754=0x4*-0x779+-0x1cd*0x5+0x26e5;_0x188754<_0xb72601['length'];++_0x188754)if(_0xb72601[_0x188754]['node']['name']===_0x3e7144['name']&&_0xb72601[_0x188754]['morphInsta'+'nce']){const _0xf410b3=_0xb72601[_0x188754]['morphInsta'+'nce'],_0x3a708e=_0x518f14=>{_0xf410b3['setWeight'](_0x93711a,_0x518f14[0x13ea+-0x2*-0x85d+0x86*-0x46]);};_0x117e99||(_0x117e99=[]),_0x117e99['push'](_0x3a708e);}}if(_0x117e99){const _0x3a7373=_0x9a3196=>{for(let _0x1c1afd=0x1*-0xd87+0x1*-0x1636+0x23bd;_0x1c1afd<_0x117e99['length'];++_0x1c1afd)_0x117e99[_0x1c1afd](_0x9a3196);};return Sr['createAnim'+'Target'](_0x3a7373,'number',-0x15ff*-0x1+-0x255d*0x1+0xf5f,_0x3e7144,'weight.'+_0x93711a);}return null;},'materialTexture':(_0x575080,_0x27ce96)=>{const _0x4f1875=_0x5eb4dd(_0x575080);if(_0x4f1875){let _0x190f3f;for(let _0x3f9e39=0x1*-0x253a+-0x5e6*0x2+0x3106;_0x3f9e39<_0x4f1875['length'];++_0x3f9e39)if(_0x4f1875[_0x3f9e39]['node']['name']===_0x575080['name']){_0x190f3f=_0x4f1875[_0x3f9e39];break;}if(_0x190f3f){const _0x18f41c=_0xe3837d=>{const _0x17775e=this['animCompon'+'ent']['system']['app']['assets']['get'](_0xe3837d[-0x72*-0x7+-0x1aae+0x1790]);_0x17775e&&_0x17775e['resource']&&_0x17775e['type']==='texture'&&(_0x190f3f['material'][_0x27ce96]=_0x17775e['resource'],_0x190f3f['material']['update']());};return Sr['createAnim'+'Target'](_0x18f41c,'vector',0x979*-0x4+0x3ad*-0x2+-0x1ad*-0x1b,_0x575080,'materialTe'+'xture','material');}}return null;}};}['_isPathAct'+'ive'](_0x594b67){if(!this['_mask'])return!(0x225c+0xe8b+-0x30e7);const _0x327bfd=[_0x594b67['entityPath'][-0xcdf*0x1+-0x2db+-0x3d*-0x42],this['graph']['name']];for(let _0x2d6a49=0x1f25+-0x5f0*0x1+-0x1935;_0x2d6a49<_0x327bfd['length'];++_0x2d6a49){let _0xe2491d=_0x327bfd[_0x2d6a49];if(this['_isPathInM'+'ask'](_0xe2491d,_0x594b67['entityPath']['length']===-0x15bf+-0x21d4+0x3794))return!(0x9c9+-0xe4f*-0x1+-0x202*0xc);for(let _0x2bdad8=-0x1093*-0x1+-0x256d+0x13*0x119;_0x2bdad8<_0x594b67['entityPath']['length'];_0x2bdad8++)if(_0xe2491d+='/'+_0x594b67['entityPath'][_0x2bdad8],this['_isPathInM'+'ask'](_0xe2491d,_0x2bdad8===_0x594b67['entityPath']['length']-(0x1*0xb7e+0xbd*-0xb+-0x35e)))return!(-0x3e*0x36+0x161*-0x16+0x2b6a);}return!(0x1401+-0x37b*0x5+0x5f*-0x7);}['findNode'](_0x2e9b34){if(!this['_isPathAct'+'ive'](_0x2e9b34))return null;let _0x362c0d;if(this['graph']&&(_0x362c0d=this['graph']['findByPath'](_0x2e9b34['entityPath']),_0x362c0d||(_0x362c0d=this['graph']['findByPath'](_0x2e9b34['entityPath']['slice'](-0x15ac*0x1+-0x16ca*-0x1+-0x11d)))),!_0x362c0d){_0x362c0d=this['nodes'][_0x2e9b34['entityPath'][_0x2e9b34['entityPath']['length']-(0x1bf5+-0x2a6+-0x194e)]||''];const _0x317001=ra['encode'](_0x2e9b34['entityPath'][_0x2e9b34['entityPath']['length']-(0x162f+-0x141d+-0x211)]||'','graph',_0x2e9b34['propertyPa'+'th']);this['visitedFal'+'lbackGraph'+'Paths'][_0x317001]===-0x2195*-0x1+-0x1393+-0xe01&&w['warnOnce']('Anim\x20Binde'+'r:\x20Multipl'+'e\x20animatio'+'n\x20curves\x20w'+'ith\x20the\x20pa'+'th\x20'+_0x317001+('\x20are\x20prese'+'nt\x20in\x20the\x20')+this['graph']['path']+('\x20graph\x20whi'+'ch\x20may\x20res'+'ult\x20in\x20the'+'\x20incorrect'+'\x20binding\x20o'+'f\x20animatio'+'ns')),Number['isFinite'](this['visitedFal'+'lbackGraph'+'Paths'][_0x317001])?this['visitedFal'+'lbackGraph'+'Paths'][_0x317001]++:this['visitedFal'+'lbackGraph'+'Paths'][_0x317001]=0x48*-0x40+-0xb*-0x10e+0x666;}return _0x362c0d;}static['createAnim'+'Target'](_0x13857e,_0x3785fd,_0x18557b,_0x47a805,_0x5e01f7,_0x481a04){const _0x3960cc=ra['encode'](_0x47a805['path'],_0x481a04||'entity',_0x5e01f7);return new xu(_0x13857e,_0x3785fd,_0x18557b,_0x3960cc);}['resolve'](_0x463618){const _0x4bb8f1=ra['encode'](_0x463618['entityPath'],_0x463618['component'],_0x463618['propertyPa'+'th']);let _0x4d4460=this['targetCach'+'e'][_0x4bb8f1];if(_0x4d4460)return _0x4d4460;const _0xdb52b7=this['findNode'](_0x463618);if(!_0xdb52b7)return null;const _0x3a8970=this['handlers'][_0x463618['propertyPa'+'th']];return!_0x3a8970||(_0x4d4460=_0x3a8970(_0xdb52b7),!_0x4d4460)?null:(this['targetCach'+'e'][_0x4bb8f1]=_0x4d4460,this['nodeCounts'][_0xdb52b7['path']]?this['nodeCounts'][_0xdb52b7['path']]++:(this['activeNode'+'s']['push'](_0xdb52b7),this['nodeCounts'][_0xdb52b7['path']]=0x715+-0x2351+0x1*0x1c3d),_0x4d4460);}['unresolve'](_0x5a7dfa){if(_0x5a7dfa['component']!=='graph')return;const _0x19c130=this['nodes'][_0x5a7dfa['entityPath'][_0x5a7dfa['entityPath']['length']-(-0x19b+0x15*-0x12f+0x54b*0x5)]||''];if(this['nodeCounts'][_0x19c130['path']]--,this['nodeCounts'][_0x19c130['path']]===-0x1920+0x134b+-0x1*-0x5d5){const _0x46d164=this['activeNode'+'s'],_0x17e1d3=_0x46d164['indexOf'](_0x19c130['node']),_0x1d4f62=_0x46d164['length'];_0x17e1d3<_0x1d4f62-(-0x3*0x829+-0x1dd*-0x1+0x169f*0x1)&&(_0x46d164[_0x17e1d3]=_0x46d164[_0x1d4f62-(0x1e08+-0x1d*0x19+-0x1b32)]),_0x46d164['pop']();}}['update'](_0x30418c){const _0x5aeea5=this['activeNode'+'s'];for(let _0x533f82=-0x2685*-0x1+-0x202a+-0x1*0x65b;_0x533f82<_0x5aeea5['length'];++_0x533f82)_0x5aeea5[_0x533f82]['_dirtifyLo'+'cal']();}['assignMask'](_0x5f28cc){return _0x5f28cc!==this['_mask']?(this['_mask']=_0x5f28cc,!(-0x878*-0x4+-0x211*0x3+-0x1bad)):!(-0x1e23*-0x1+0x19de+-0x3800*0x1);}}class Wv extends we{constructor(){super(...arguments),h(this,'_animation'+'s',{}),h(this,'_assets',[]),h(this,'_loop',!(-0xa87+-0x1447+0x1ece)),h(this,'animEvalua'+'tor',null),h(this,'model',null),h(this,'skeleton',null),h(this,'fromSkel',null),h(this,'toSkel',null),h(this,'animations'+'Index',{}),h(this,'prevAnim',null),h(this,'currAnim',null),h(this,'blend',0xa1d+-0x24bb+0x1a9e),h(this,'blending',!(0x2069+0x512+0x9*-0x42a)),h(this,'blendSpeed',-0x35d+0x195e+-0x1601),h(this,'activate',!(0x53*-0x47+-0x1981+-0x1*-0x3086)),h(this,'speed',-0x98e+-0x1*-0x2173+-0x17e4);}set['animations'](_0x539f7f){this['_animation'+'s']=_0x539f7f,this['onSetAnima'+'tions']();}get['animations'](){return this['_animation'+'s'];}set['assets'](_0x178707){const _0x148507=this['_assets'];if(_0x148507&&_0x148507['length']){for(let _0x59099a=-0x13+0x1a*0x7c+-0xc85;_0x59099a<_0x148507['length'];_0x59099a++)if(_0x148507[_0x59099a]){const _0x4e9318=this['system']['app']['assets']['get'](_0x148507[_0x59099a]);if(_0x4e9318){_0x4e9318['off']('change',this['onAssetCha'+'nged'],this),_0x4e9318['off']('remove',this['onAssetRem'+'oved'],this);const _0x4a6773=this['animations'+'Index'][_0x4e9318['id']];this['currAnim']===_0x4a6773&&this['_stopCurre'+'ntAnimatio'+'n'](),delete this['animations'][_0x4a6773],delete this['animations'+'Index'][_0x4e9318['id']];}}}this['_assets']=_0x178707;const _0x264b56=_0x178707['map'](_0x1c7321=>_0x1c7321 instanceof pe?_0x1c7321['id']:_0x1c7321);this['loadAnimat'+'ionAssets'](_0x264b56);}get['assets'](){return this['_assets'];}set['currentTim'+'e'](_0x589356){if(this['skeleton']&&(this['skeleton']['currentTim'+'e']=_0x589356,this['skeleton']['addTime'](-0x15b3+0x1*0x599+0x101a),this['skeleton']['updateGrap'+'h']()),this['animEvalua'+'tor']){const _0x51b153=this['animEvalua'+'tor']['clips'];for(let _0x5a5d0b=-0x243d+0x18ea+0xb53;_0x5a5d0b<_0x51b153['length'];++_0x5a5d0b)_0x51b153[_0x5a5d0b]['time']=_0x589356;}}get['currentTim'+'e'](){if(this['skeleton'])return this['skeleton']['_time'];if(this['animEvalua'+'tor']){const _0x519fbb=this['animEvalua'+'tor']['clips'];if(_0x519fbb['length']>-0x1430+0x3a8+0x422*0x4)return _0x519fbb[_0x519fbb['length']-(-0x16be*0x1+0x2c3+0x13fc)]['time'];}return 0x1264+0x3*-0x422+-0x5fe;}get['duration'](){return this['currAnim']?this['animations'][this['currAnim']]['duration']:(w['warn']('No\x20animati'+'on\x20is\x20play'+'ing\x20to\x20get'+'\x20a\x20duratio'+'n.\x20Returni'+'ng\x200.'),0x24d7+0x8*-0x411+-0x44f);}set['loop'](_0x3ca27d){if(this['_loop']=_0x3ca27d,this['skeleton']&&(this['skeleton']['looping']=_0x3ca27d),this['animEvalua'+'tor']){for(let _0x255155=0x1192+-0x1699+0x9*0x8f;_0x255155<this['animEvalua'+'tor']['clips']['length'];++_0x255155)this['animEvalua'+'tor']['clips'][_0x255155]['loop']=_0x3ca27d;}}get['loop'](){return this['_loop'];}['play'](_0x4a5a63,_0x50b58b=-0x1*0x98e+0x25*-0x47+0x13d1){if(!(!this['enabled']||!this['entity']['enabled'])){if(!this['animations'][_0x4a5a63]){w['error']('Trying\x20to\x20'+'play\x20anima'+'tion\x20\x27'+_0x4a5a63+('\x27\x20which\x20do'+'esn\x27t\x20exis'+'t'));return;}if(this['prevAnim']=this['currAnim'],this['currAnim']=_0x4a5a63,this['model']){!this['skeleton']&&!this['animEvalua'+'tor']&&this['_createAni'+'mationCont'+'roller']();const _0x2ad404=this['animations'][this['prevAnim']],_0xfd89f5=this['animations'][this['currAnim']];if(this['blending']=_0x50b58b>0x12f0+0xc38+0x1*-0x1f28&&!!this['prevAnim'],this['blending']&&(this['blend']=0x1b32+0x4ab*-0x2+-0x11dc,this['blendSpeed']=(0x26cb+0x17a7+-0x3e71)/_0x50b58b),this['skeleton']&&(this['blending']?(this['fromSkel']['animation']=_0x2ad404,this['fromSkel']['addTime'](this['skeleton']['_time']),this['toSkel']['animation']=_0xfd89f5):this['skeleton']['animation']=_0xfd89f5),this['animEvalua'+'tor']){const _0x488ec7=this['animEvalua'+'tor'];if(this['blending']){for(;_0x488ec7['clips']['length']>0x1*0x4d9+0x1a7f+-0x1*0x1f57;)_0x488ec7['removeClip'](0x26b4+-0x263f+0xd*-0x9);}else this['animEvalua'+'tor']['removeClip'+'s']();const _0x2ebf2f=new Dh(this['animations'][this['currAnim']],0x5*0x2e7+-0x355*-0x1+0x8ec*-0x2,-0x16c8+-0x1e96+0x1*0x355f,!(-0x1*-0x161a+0x76f+-0x1d89),this['loop']);_0x2ebf2f['name']=this['currAnim'],_0x2ebf2f['blendWeigh'+'t']=this['blending']?-0x2*0x943+-0xe8d+-0x2113*-0x1:0x1b3d*0x1+-0x81*-0x49+-0x4005,_0x2ebf2f['reset'](),this['animEvalua'+'tor']['addClip'](_0x2ebf2f);}}this['playing']=!(-0x82*0x3b+0xd2b*-0x2+0x1*0x384c);}}['getAnimati'+'on'](_0x34018d){return this['animations'][_0x34018d];}['setModel'](_0x47d1e5){_0x47d1e5!==this['model']&&(this['_resetAnim'+'ationContr'+'oller'](),this['model']=_0x47d1e5,this['animations']&&this['currAnim']&&this['animations'][this['currAnim']]&&this['play'](this['currAnim']));}['onSetAnima'+'tions'](){const _0x10263d=this['entity']['model'];if(_0x10263d){const _0x9cf25e=_0x10263d['model'];_0x9cf25e&&_0x9cf25e!==this['model']&&this['setModel'](_0x9cf25e);}if(!this['currAnim']&&this['activate']&&this['enabled']&&this['entity']['enabled']){const _0x22f31d=Object['keys'](this['_animation'+'s']);_0x22f31d['length']>-0x11*-0x8a+0x1199+-0x1ac3&&this['play'](_0x22f31d[-0x2642*0x1+0x3*0x5dd+-0x25*-0x8f]);}}['_resetAnim'+'ationContr'+'oller'](){this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['_createAni'+'mationCont'+'roller'](){const _0xf215ef=this['model'],_0x498955=this['animations'];let _0x4e4910=!(0x3*-0xcf5+0x1229+0x14b7),_0x25323e=!(-0xf0+-0x1a3a+0x1b2b);for(const _0x47ab3a in _0x498955)_0x498955['hasOwnProp'+'erty'](_0x47ab3a)&&(_0x498955[_0x47ab3a]['constructo'+'r']===Qi?_0x25323e=!(-0x107d+0xef4+-0x1*-0x189):_0x4e4910=!(0x24dd*-0x1+-0x10f5+0xa6*0x53));const _0x38b26c=_0xf215ef['getGraph']();_0x4e4910?(this['fromSkel']=new Sf(_0x38b26c),this['toSkel']=new Sf(_0x38b26c),this['skeleton']=new Sf(_0x38b26c),this['skeleton']['looping']=this['loop'],this['skeleton']['setGraph'](_0x38b26c)):_0x25323e&&(this['animEvalua'+'tor']=new Gv(new Sr(this['entity'])));}['loadAnimat'+'ionAssets'](_0x238b11){if(!_0x238b11||!_0x238b11['length'])return;const _0x242204=this['system']['app']['assets'],_0x371244=_0x25dd87=>{if(_0x25dd87['resources']['length']>-0x17d3+-0x191f+0x30f3){for(let _0x20eca1=0x1d*0x2f+0x1*-0x761+0x20e;_0x20eca1<_0x25dd87['resources']['length'];_0x20eca1++)this['animations'][_0x25dd87['resources'][_0x20eca1]['name']]=_0x25dd87['resources'][_0x20eca1],this['animations'+'Index'][_0x25dd87['id']]=_0x25dd87['resources'][_0x20eca1]['name'];}else this['animations'][_0x25dd87['name']]=_0x25dd87['resource'],this['animations'+'Index'][_0x25dd87['id']]=_0x25dd87['name'];this['animations']=this['animations'];},_0x339e8f=_0x349848=>{_0x349848['off']('change',this['onAssetCha'+'nged'],this),_0x349848['on']('change',this['onAssetCha'+'nged'],this),_0x349848['off']('remove',this['onAssetRem'+'oved'],this),_0x349848['on']('remove',this['onAssetRem'+'oved'],this),_0x349848['resource']?_0x371244(_0x349848):(_0x349848['once']('load',_0x371244,this),this['enabled']&&this['entity']['enabled']&&_0x242204['load'](_0x349848));};for(let _0x28c88a=0x198c+0x1*0x1913+-0x329f*0x1,_0xc89a0b=_0x238b11['length'];_0x28c88a<_0xc89a0b;_0x28c88a++){const _0x858bbc=_0x242204['get'](_0x238b11[_0x28c88a]);_0x858bbc?_0x339e8f(_0x858bbc):_0x242204['on']('add:'+_0x238b11[_0x28c88a],_0x339e8f);}}['onAssetCha'+'nged'](_0x57207b,_0x312c85,_0x403c15,_0x3c3b54){if(_0x312c85==='resource'||_0x312c85==='resources'){if(_0x312c85==='resources'&&_0x403c15&&_0x403c15['length']===-0x6a*-0x21+-0x1384+-0x2*-0x2ed&&(_0x403c15=null),_0x403c15){let _0x14763f=!(0x1e80+-0x1fef+-0x1*-0x170);if(_0x403c15['length']>-0x1*0xe67+0x10aa+-0x242){if(_0x3c3b54&&_0x3c3b54['length']>-0x8aa*-0x1+0x5*0x265+-0x14a2){for(let _0x3aa786=-0x6*-0x525+0x56*-0xd+-0x2*0xd40;_0x3aa786<_0x3c3b54['length'];_0x3aa786++)delete this['animations'][_0x3c3b54[_0x3aa786]['name']];}else delete this['animations'][_0x57207b['name']];_0x14763f=!(-0x9d8+-0x1*0x20ba+0x2a93);for(let _0x5db1f6=-0x26f1+-0x107f+0x3770;_0x5db1f6<_0x403c15['length'];_0x5db1f6++)this['animations'][_0x403c15[_0x5db1f6]['name']]=_0x403c15[_0x5db1f6],!_0x14763f&&this['currAnim']===_0x403c15[_0x5db1f6]['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x14763f=!(0x232*-0x6+0x14b*-0xd+0x1dfb),this['play'](_0x403c15[_0x5db1f6]['name']));_0x14763f||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}else{if(_0x3c3b54&&_0x3c3b54['length']>-0x1*-0x17d6+0x1d65+-0x353a){for(let _0x33de41=0x9*-0x266+-0x246e+0x3a04*0x1;_0x33de41<_0x3c3b54['length'];_0x33de41++)delete this['animations'][_0x3c3b54[_0x33de41]['name']];}this['animations'][_0x57207b['name']]=_0x403c15[-0xb2c+-0x1*-0x924+-0x68*-0x5]||_0x403c15,_0x14763f=!(0x566+0xa*-0x296+0x1477),this['currAnim']===_0x57207b['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x14763f=!(-0x1589+0x33+-0x2*-0xaab),this['play'](_0x57207b['name'])),_0x14763f||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}this['animations'+'Index'][_0x57207b['id']]=_0x57207b['name'];}else{if(_0x3c3b54['length']>0x1*-0x1f64+0x233*-0x11+0x44c8*0x1){for(let _0x14af7e=0x33*0x27+-0x1f*0x62+0x419;_0x14af7e<_0x3c3b54['length'];_0x14af7e++)delete this['animations'][_0x3c3b54[_0x14af7e]['name']],this['currAnim']===_0x3c3b54[_0x14af7e]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x57207b['name']],this['currAnim']===_0x57207b['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x57207b['id']];}}}['onAssetRem'+'oved'](_0x38a845){if(_0x38a845['off']('remove',this['onAssetRem'+'oved'],this),this['animations']){if(_0x38a845['resources']['length']>-0x1db9*0x1+-0x1564+-0x2d7*-0x12){for(let _0x2306d0=0x22e7*-0x1+-0x1*0x17eb+0x3ad2;_0x2306d0<_0x38a845['resources']['length'];_0x2306d0++)delete this['animations'][_0x38a845['resources'][_0x2306d0]['name']],this['currAnim']===_0x38a845['resources'][_0x2306d0]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x38a845['name']],this['currAnim']===_0x38a845['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x38a845['id']];}}['_stopCurre'+'ntAnimatio'+'n'](){if(this['currAnim']=null,this['playing']=!(-0xb2f+0x10*-0x246+0xbe4*0x4),this['skeleton']&&(this['skeleton']['currentTim'+'e']=0x23d7+-0x1610+-0xdc7,this['skeleton']['animation']=null),this['animEvalua'+'tor']){for(let _0x131a8a=0x15b*-0x13+-0x8*-0x16f+0xe49;_0x131a8a<this['animEvalua'+'tor']['clips']['length'];++_0x131a8a)this['animEvalua'+'tor']['clips'][_0x131a8a]['stop']();this['animEvalua'+'tor']['update'](0x1bf8+0x98c+-0x2584),this['animEvalua'+'tor']['removeClip'+'s']();}}['onEnable'](){super['onEnable']();const _0x34d66f=this['assets'],_0x25e64d=this['system']['app']['assets'];if(_0x34d66f)for(let _0xb2ce6f=0x236*-0x9+0x27*0x9b+-0x3b7,_0x3d4f8b=_0x34d66f['length'];_0xb2ce6f<_0x3d4f8b;_0xb2ce6f++){let _0x5d3189=_0x34d66f[_0xb2ce6f];_0x5d3189 instanceof pe||(_0x5d3189=_0x25e64d['get'](_0x5d3189)),_0x5d3189&&!_0x5d3189['resource']&&_0x25e64d['load'](_0x5d3189);}if(this['activate']&&!this['currAnim']){const _0x1d249a=Object['keys'](this['animations']);_0x1d249a['length']>0x1*-0x13af+0xad9*0x2+-0x1*0x203&&this['play'](_0x1d249a[-0x936+0x3*0x1cf+-0x3c9*-0x1]);}}['onBeforeRe'+'move'](){for(let _0x4b103f=0x123+0xaef+0x406*-0x3;_0x4b103f<this['assets']['length'];_0x4b103f++){let _0x2fd587=this['assets'][_0x4b103f];typeof _0x2fd587=='number'&&(_0x2fd587=this['system']['app']['assets']['get'](_0x2fd587)),_0x2fd587&&(_0x2fd587['off']('change',this['onAssetCha'+'nged'],this),_0x2fd587['off']('remove',this['onAssetRem'+'oved'],this));}this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['update'](_0x35edb6){if(this['blending']&&(this['blend']+=_0x35edb6*this['blendSpeed'],this['blend']>=-0xf07*0x1+0x1b13+-0xc0b&&(this['blend']=-0x1add*-0x1+0x3b*-0x10+-0x172c)),this['playing']){const _0xf656ad=this['skeleton'];if(_0xf656ad!==null&&this['model']!==null){if(this['blending'])_0xf656ad['blend'](this['fromSkel'],this['toSkel'],this['blend']);else{const _0x43594d=_0x35edb6*this['speed'];_0xf656ad['addTime'](_0x43594d),this['speed']>0x4*0x33e+0x161b*0x1+-0x2313&&_0xf656ad['_time']===_0xf656ad['animation']['duration']&&!this['loop']?this['playing']=!(0xdb+0x8f4*-0x2+0x110e):this['speed']<-0x19c*0x10+-0x1c37+-0x35f7*-0x1&&_0xf656ad['_time']===0x158e+-0x2544+0xfb6&&!this['loop']&&(this['playing']=!(0x12af+0x27*-0xde+0xf24));}this['blending']&&this['blend']===-0x7d*0x2+-0x1fa1+0x209c&&(_0xf656ad['animation']=this['toSkel']['animation']),_0xf656ad['updateGrap'+'h']();}}const _0x59a929=this['animEvalua'+'tor'];if(_0x59a929){for(let _0x29d6db=0x1*-0x1fff+-0x14c2+0x34c1;_0x29d6db<_0x59a929['clips']['length'];++_0x29d6db){const _0x222461=_0x59a929['clips'][_0x29d6db];_0x222461['speed']=this['speed'],this['playing']?_0x222461['resume']():_0x222461['pause']();}this['blending']&&_0x59a929['clips']['length']>0x1b69+-0x2228+-0x1b0*-0x4&&(_0x59a929['clips'][-0xaee+-0x29*-0x3b+0x17c]['blendWeigh'+'t']=this['blend']),_0x59a929['update'](_0x35edb6);}this['blending']&&this['blend']===-0x12a*-0x10+0x2283+0x6*-0x8db&&(this['blending']=!(-0x1d57+-0x244a+0x3e*0x10f));}}class LL{constructor(){this['enabled']=!(-0xdf3*-0x2+-0x14e8+-0x6fe*0x1);}}const Tu=['enabled'];class RL extends ct{constructor(_0x35ca54){super(_0x35ca54),this['id']='animation',this['ComponentT'+'ype']=Wv,this['DataType']=LL,this['schema']=Tu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x548b9e,_0x3a3b11,_0x73cd76){_0x73cd76=['activate','enabled','loop','speed','assets'];for(const _0x43abd7 of _0x73cd76)_0x3a3b11['hasOwnProp'+'erty'](_0x43abd7)&&(_0x548b9e[_0x43abd7]=_0x3a3b11[_0x43abd7]);super['initialize'+'ComponentD'+'ata'](_0x548b9e,_0x3a3b11,Tu);}['cloneCompo'+'nent'](_0x203ac9,_0x499319){this['addCompone'+'nt'](_0x499319,{}),_0x499319['animation']['assets']=_0x203ac9['animation']['assets']['slice'](),_0x499319['animation']['speed']=_0x203ac9['animation']['speed'],_0x499319['animation']['loop']=_0x203ac9['animation']['loop'],_0x499319['animation']['activate']=_0x203ac9['animation']['activate'],_0x499319['animation']['enabled']=_0x203ac9['animation']['enabled'];const _0x35f7c0={},_0x43360a=_0x203ac9['animation']['animations'];for(const _0x2d1307 in _0x43360a)_0x43360a['hasOwnProp'+'erty'](_0x2d1307)&&(_0x35f7c0[_0x2d1307]=_0x43360a[_0x2d1307]);_0x499319['animation']['animations']=_0x35f7c0;const _0x56b501={},_0x220206=_0x203ac9['animation']['animations'+'Index'];for(const _0x4fc88b in _0x220206)_0x220206['hasOwnProp'+'erty'](_0x4fc88b)&&(_0x56b501[_0x4fc88b]=_0x220206[_0x4fc88b]);return _0x499319['animation']['animations'+'Index']=_0x56b501,_0x499319['animation'];}['onBeforeRe'+'move'](_0x457fba,_0x26cdae){_0x26cdae['onBeforeRe'+'move']();}['onUpdate'](_0x3ec9d3){const _0x4bcc30=this['store'];for(const _0x7cba3f in _0x4bcc30)if(_0x4bcc30['hasOwnProp'+'erty'](_0x7cba3f)){const _0x2d927b=_0x4bcc30[_0x7cba3f];_0x2d927b['data']['enabled']&&_0x2d927b['entity']['enabled']&&_0x2d927b['entity']['animation']['update'](_0x3ec9d3);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Wv['prototype'],Tu);class ml{constructor(_0x46062e,_0x5c5217,_0x5a0817,_0x4b584b,_0x246248=0x24e8+-0x4ae*0x1+0x71*-0x49){this['_state']=_0x46062e,this['_parent']=_0x5c5217,this['_name']=_0x5a0817,Array['isArray'](_0x4b584b)?(this['_point']=new J(_0x4b584b[-0x129d+-0x1463*0x1+0x2700],_0x4b584b[0x10c2+0x4ab*0x7+-0x316e]),this['_pointLeng'+'th']=this['_point']['length']()):(this['_point']=_0x4b584b,this['_pointLeng'+'th']=_0x4b584b),this['_speed']=_0x246248,this['_weightedS'+'peed']=0x2*-0x949+0xcb*-0x21+0x2cbe,this['_weight']=0x2114+-0x22b*0x3+-0x13*0x166,this['_animTrack']=null;}get['parent'](){return this['_parent'];}get['name'](){return this['_name'];}get['path'](){return this['_parent']?this['_parent']['path']+'.'+this['_name']:this['_name'];}get['point'](){return this['_point'];}get['pointLengt'+'h'](){return this['_pointLeng'+'th'];}set['weight'](_0x1a9c1c){this['_weight']=_0x1a9c1c;}get['weight'](){return this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['normalized'+'Weight'](){const _0x3ee043=this['_state']['totalWeigh'+'t'];return _0x3ee043===-0xbd2+-0x2*-0xa84+0x1*-0x936?-0xa20+-0x165b*0x1+-0x5*-0x67f:this['weight']/_0x3ee043;}get['speed'](){return this['_weightedS'+'peed']*this['_speed'];}get['absoluteSp'+'eed'](){return Math['abs'](this['_speed']);}set['weightedSp'+'eed'](_0x309c3e){this['_weightedS'+'peed']=_0x309c3e;}get['weightedSp'+'eed'](){return this['_weightedS'+'peed'];}set['animTrack'](_0x1869ea){this['_animTrack']=_0x1869ea;}get['animTrack'](){return this['_animTrack'];}}class Jn extends ml{constructor(_0x475b07,_0x2b83b7,_0x537d0c,_0x7de112,_0x1ab798,_0x12ebda,_0x97783b,_0x3c14ce,_0x530856){super(_0x475b07,_0x2b83b7,_0x537d0c,_0x7de112),this['_parameter'+'s']=_0x1ab798,this['_parameter'+'Values']=new Array(_0x1ab798['length']),this['_children']=[],this['_findParam'+'eter']=_0x530856,this['_syncAnima'+'tions']=_0x97783b!==!(0x150d*0x1+0x2216+-0x3722),this['_pointCach'+'e']={};for(let _0x4edfaf=0x12*0x77+-0x6*-0x2ab+-0x1860;_0x4edfaf<_0x12ebda['length'];_0x4edfaf++){const _0x3ab75f=_0x12ebda[_0x4edfaf];_0x3ab75f['children']?this['_children']['push'](_0x3c14ce(_0x3ab75f['type'],_0x475b07,this,_0x3ab75f['name'],0xde*-0x12+-0xf3*-0x10+0x6d,_0x3ab75f['parameter']?[_0x3ab75f['parameter']]:_0x3ab75f['parameters'],_0x3ab75f['children'],_0x3ab75f['syncAnimat'+'ions'],_0x3c14ce,_0x530856)):this['_children']['push'](new ml(_0x475b07,this,_0x3ab75f['name'],_0x3ab75f['point'],_0x3ab75f['speed']));}}get['weight'](){return this['calculateW'+'eights'](),this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['syncAnimat'+'ions'](){return this['_syncAnima'+'tions'];}['getChild'](_0x2d44dd){for(let _0x29a269=-0x950+0x39d+0x5b3;_0x29a269<this['_children']['length'];_0x29a269++)if(this['_children'][_0x29a269]['name']===_0x2d44dd)return this['_children'][_0x29a269];return null;}['updatePara'+'meterValue'+'s'](){let _0x2ec741=!(0x3b3+0x6*-0xa1+0x13);for(let _0x1b4f65=-0x1*-0x25b4+-0x71*0x41+-0x903;_0x1b4f65<this['_parameter'+'Values']['length'];_0x1b4f65++){const _0x4c2e93=this['_findParam'+'eter'](this['_parameter'+'s'][_0x1b4f65])['value'];this['_parameter'+'Values'][_0x1b4f65]!==_0x4c2e93&&(this['_parameter'+'Values'][_0x1b4f65]=_0x4c2e93,_0x2ec741=!(-0x428+0x3*-0x3ee+-0x3*-0x551));}return _0x2ec741;}['getNodeWei'+'ghtedDurat'+'ion'](_0x5c33a0){return this['_children'][_0x5c33a0]['animTrack']['duration']/this['_children'][_0x5c33a0]['speedMulti'+'plier']*this['_children'][_0x5c33a0]['weight'];}['getNodeCou'+'nt'](){let _0x5ec5ff=0xe*0x36+0x19f*0xb+-0x1*0x14c9;for(let _0x37c72f=0x179f+0x221d+-0x39bc;_0x37c72f<this['_children']['length'];_0x37c72f++)this['_children'][_0x37c72f]['constructo'+'r']===Jn?_0x5ec5ff+=this['_children'][_0x37c72f]['getNodeCou'+'nt']():_0x5ec5ff++;return _0x5ec5ff;}}class OL extends Jn{constructor(_0x5ba188,_0x40fcc5,_0x5f4997,_0x587dd4,_0x2654e5,_0xf41210,_0x41f2a1,_0x273729,_0x3eba09){_0xf41210['sort']((_0x16539e,_0x183c71)=>_0x16539e['point']-_0x183c71['point']),super(_0x5ba188,_0x40fcc5,_0x5f4997,_0x587dd4,_0x2654e5,_0xf41210,_0x41f2a1,_0x273729,_0x3eba09);}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x30e2b2=0x1f9b+0x1*-0xe71+-0xa9*0x1a;this['_children'][0x2505+0x111+0x1*-0x2616]['weight']=-0x87d+-0x2602+-0x1*-0x2e7f;for(let _0x4659b7=-0xb89*0x1+0x4d8*-0x2+0x1539;_0x4659b7<this['_children']['length'];_0x4659b7++){const _0x43ae3d=this['_children'][_0x4659b7];if(_0x4659b7!==this['_children']['length']-(0x17ff+-0x1*-0xe83+-0x2681)){const _0x2cb292=this['_children'][_0x4659b7+(0x17d6+0x1a2*0x11+0x3397*-0x1)];if(_0x43ae3d['point']===_0x2cb292['point'])_0x43ae3d['weight']=0xb0*-0x17+-0x393+0x2c5*0x7+0.5,_0x2cb292['weight']=-0x1327*-0x2+-0xcd7+-0x1977+0.5;else{if(Y['between'](this['_parameter'+'Values'][-0x879+-0x87e+0x10f7],_0x43ae3d['point'],_0x2cb292['point'],!(-0x2691+0xeb7*0x2+0x923))){const _0x278fff=Math['abs'](_0x43ae3d['point']-_0x2cb292['point']),_0xfc6a9e=Math['abs'](_0x43ae3d['point']-this['_parameter'+'Values'][0x223c+-0x2273+0x1*0x37]),_0x39c2e0=(_0x278fff-_0xfc6a9e)/_0x278fff;_0x43ae3d['weight']=_0x39c2e0,_0x2cb292['weight']=-0x1*-0x8bf+0x5cc+-0xe8a-_0x39c2e0;}else _0x2cb292['weight']=0x1fd9*-0x1+-0x1*0x11b3+-0x842*-0x6;}}this['_syncAnima'+'tions']&&(_0x30e2b2+=_0x43ae3d['animTrack']['duration']/_0x43ae3d['absoluteSp'+'eed']*_0x43ae3d['weight']);}if(this['_syncAnima'+'tions'])for(let _0x817fca=0x2f3*0x1+-0x10*0x18a+0x15ad;_0x817fca<this['_children']['length'];_0x817fca++){const _0x253e69=this['_children'][_0x817fca];_0x253e69['weightedSp'+'eed']=_0x253e69['animTrack']['duration']/_0x253e69['absoluteSp'+'eed']/_0x30e2b2;}}}const ki=class ki extends Jn{['pointDista'+'nceCache'](_0x4939ab,_0x11bb46){const _0x27bb51=''+_0x4939ab+_0x11bb46;return this['_pointCach'+'e'][_0x27bb51]||(this['_pointCach'+'e'][_0x27bb51]=this['_children'][_0x11bb46]['point']['clone']()['sub'](this['_children'][_0x4939ab]['point'])),this['_pointCach'+'e'][_0x27bb51];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x16979e,_0x133685;ki['_p']['set'](...this['_parameter'+'Values']),_0x16979e=0x4cb+0x9b6+-0xe81,_0x133685=0x24f1+-0x5*-0x18b+0x2ca8*-0x1;for(let _0x5af0fa=0x2447*-0x1+-0x8d3+-0x17*-0x1f6;_0x5af0fa<this['_children']['length'];_0x5af0fa++){const _0x5a2cb6=this['_children'][_0x5af0fa],_0x3b3ee7=_0x5a2cb6['point'];ki['_pip']['set'](ki['_p']['x'],ki['_p']['y'])['sub'](_0x3b3ee7);let _0x52617c=Number['MAX_VALUE'];for(let _0x135cec=-0x2*-0x935+-0x1174+-0xf6;_0x135cec<this['_children']['length'];_0x135cec++){if(_0x5af0fa===_0x135cec)continue;const _0x21d543=this['pointDista'+'nceCache'](_0x5af0fa,_0x135cec),_0x45ea46=Y['clamp'](-0x39d*0x3+-0x172d+0x3*0xb57-ki['_pip']['dot'](_0x21d543)/_0x21d543['lengthSq'](),-0x2216*0x1+-0x1484+0x369a*0x1,-0x4*0x4f7+0x2*-0x2eb+0x19b3);_0x45ea46<_0x52617c&&(_0x52617c=_0x45ea46);}_0x5a2cb6['weight']=_0x52617c,_0x16979e+=_0x52617c,this['_syncAnima'+'tions']&&(_0x133685+=_0x5a2cb6['animTrack']['duration']/_0x5a2cb6['absoluteSp'+'eed']*_0x5a2cb6['weight']);}for(let _0x58044a=0x19c9+0x1*-0x1f42+0x1*0x579;_0x58044a<this['_children']['length'];_0x58044a++){const _0x1a9fde=this['_children'][_0x58044a];_0x1a9fde['weight']=_0x1a9fde['_weight']/_0x16979e,this['_syncAnima'+'tions']&&(_0x1a9fde['weightedSp'+'eed']=_0x1a9fde['animTrack']['duration']/_0x1a9fde['absoluteSp'+'eed']/_0x133685);}}};h(ki,'_p',new J()),h(ki,'_pip',new J());let wu=ki;const Ui=class Ui extends Jn{['pointCache'](_0x29fcc0,_0x2dbc63){const _0x5530b4=''+_0x29fcc0+_0x2dbc63;return this['_pointCach'+'e'][_0x5530b4]||(this['_pointCach'+'e'][_0x5530b4]=new J((this['_children'][_0x2dbc63]['pointLengt'+'h']-this['_children'][_0x29fcc0]['pointLengt'+'h'])/((this['_children'][_0x2dbc63]['pointLengt'+'h']+this['_children'][_0x29fcc0]['pointLengt'+'h'])/(-0xd07+-0x99*0x1b+-0x1*-0x1d2c)),J['angleRad'](this['_children'][_0x29fcc0]['point'],this['_children'][_0x2dbc63]['point'])*(-0x18ad+-0x61*-0x57+-0x848))),this['_pointCach'+'e'][_0x5530b4];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x126151,_0x2ca7b5;Ui['_p']['set'](...this['_parameter'+'Values']);const _0x55b215=Ui['_p']['length']();_0x126151=0x3*-0x2f9+0x1766+0xb*-0x151,_0x2ca7b5=0x28a*-0xd+0xcc5+0x143d;for(let _0x203610=0x1c5d+-0x23b4+0x757;_0x203610<this['_children']['length'];_0x203610++){const _0x3521cf=this['_children'][_0x203610],_0x3615cf=_0x3521cf['point'],_0xa852fe=_0x3521cf['pointLengt'+'h'];let _0x156b23=Number['MAX_VALUE'];for(let _0x24468b=-0x378+0x210+0x4*0x5a;_0x24468b<this['_children']['length'];_0x24468b++){if(_0x203610===_0x24468b)continue;const _0x302210=this['pointCache'](_0x203610,_0x24468b),_0x1c8ca0=this['_children'][_0x24468b]['pointLengt'+'h'];Ui['_pip']['set']((_0x55b215-_0xa852fe)/((_0x1c8ca0+_0xa852fe)/(0xa65+-0x40e+-0x1*0x655)),J['angleRad'](_0x3615cf,Ui['_p'])*(-0x1295+-0x1cd0+-0x3*-0xfcd));const _0x504322=Y['clamp'](-0x1637+-0x2b9+-0x4fd*-0x5-Math['abs'](Ui['_pip']['dot'](_0x302210)/_0x302210['lengthSq']()),-0x1071+-0xb09*-0x3+-0x10aa,-0x219*0xd+-0x9*-0x2+0x1b34);_0x504322<_0x156b23&&(_0x156b23=_0x504322);}_0x3521cf['weight']=_0x156b23,_0x126151+=_0x156b23,this['_syncAnima'+'tions']&&(_0x2ca7b5+=_0x3521cf['animTrack']['duration']/_0x3521cf['absoluteSp'+'eed']*_0x3521cf['weight']);}for(let _0x467bbc=0x12b3+-0x1*-0x13b9+0x1*-0x266c;_0x467bbc<this['_children']['length'];_0x467bbc++){const _0x3b4951=this['_children'][_0x467bbc];if(_0x3b4951['weight']=_0x3b4951['_weight']/_0x126151,this['_syncAnima'+'tions']){const _0x4f0129=_0x3b4951['animTrack']['duration']/_0x2ca7b5*_0x126151;_0x3b4951['weightedSp'+'eed']=_0x3b4951['absoluteSp'+'eed']*_0x4f0129;}}}};h(Ui,'_p',new J()),h(Ui,'_pip',new J());let Eu=Ui;class FL extends Jn{['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x1a1e04=-0x78c*0x4+-0xcab*0x1+0x2adb,_0x275964=-0x45*-0xb+-0x763*-0x5+0x13f3*-0x2;for(let _0x23e1f4=-0x8*0x184+-0x2332+0x2f52;_0x23e1f4<this['_children']['length'];_0x23e1f4++)if(_0x1a1e04+=Math['max'](this['_parameter'+'Values'][_0x23e1f4],-0x1ba3+-0x1f*0xcc+0x3457),this['_syncAnima'+'tions']){const _0x2c5ac0=this['_children'][_0x23e1f4];_0x275964+=_0x2c5ac0['animTrack']['duration']/_0x2c5ac0['absoluteSp'+'eed']*_0x2c5ac0['weight'];}for(let _0x4b10ee=0x1fab+0x1d*-0x103+-0x254;_0x4b10ee<this['_children']['length'];_0x4b10ee++){const _0x3e9af9=this['_children'][_0x4b10ee],_0x3fb0d0=Math['max'](this['_parameter'+'Values'][_0x4b10ee],0xa2e*-0x2+0x1ed2+-0xa76);_0x1a1e04?(_0x3e9af9['weight']=_0x3fb0d0/_0x1a1e04,this['_syncAnima'+'tions']&&(_0x3e9af9['weightedSp'+'eed']=_0x3e9af9['animTrack']['duration']/_0x3e9af9['absoluteSp'+'eed']/_0x275964)):(_0x3e9af9['weight']=-0x1ca0+-0x1*0xc59+-0x269*-0x11,this['_syncAnima'+'tions']&&(_0x3e9af9['weightedSp'+'eed']=0x1c8b*-0x1+-0x2619*-0x1+-0x4c7*0x2));}}}class Fg{constructor(_0x44a618,_0xcf0210,_0x22e6e7=0x79e+0x9c*-0x2e+0x146b*0x1,_0x3381c7=!(0x6*-0x20e+-0x3*-0x62d+-0x633*0x1),_0x316a8d){h(this,'_animation'+'s',{}),h(this,'_animation'+'List',[]),(this['_controlle'+'r']=_0x44a618,this['_name']=_0xcf0210,this['_speed']=_0x22e6e7,this['_loop']=_0x3381c7,this['_hasAnimat'+'ions']=!(0x1*0x1c1b+-0x1d51+0x1*0x137),_0x316a8d?this['_blendTree']=this['_createTre'+'e'](_0x316a8d['type'],this,null,_0xcf0210,-0x54e+-0x3a*0x57+-0xf*-0x1ab,_0x316a8d['parameter']?[_0x316a8d['parameter']]:_0x316a8d['parameters'],_0x316a8d['children'],_0x316a8d['syncAnimat'+'ions'],this['_createTre'+'e'],this['_controlle'+'r']['findParame'+'ter']):this['_blendTree']=new ml(this,null,_0xcf0210,-0x5e*0x3d+-0x2454+0x3abb,_0x22e6e7));}['_createTre'+'e'](_0xc6e91a,_0x4030b4,_0x18272f,_0x264602,_0x594f77,_0x3507f1,_0x4c1747,_0x4bde3c,_0x5493d5,_0x385fd6){switch(_0xc6e91a){case CL:return new OL(_0x4030b4,_0x18272f,_0x264602,_0x594f77,_0x3507f1,_0x4c1747,_0x4bde3c,_0x5493d5,_0x385fd6);case ML:return new wu(_0x4030b4,_0x18272f,_0x264602,_0x594f77,_0x3507f1,_0x4c1747,_0x4bde3c,_0x5493d5,_0x385fd6);case PL:return new Eu(_0x4030b4,_0x18272f,_0x264602,_0x594f77,_0x3507f1,_0x4c1747,_0x4bde3c,_0x5493d5,_0x385fd6);case DL:return new FL(_0x4030b4,_0x18272f,_0x264602,_0x594f77,_0x3507f1,_0x4c1747,_0x4bde3c,_0x5493d5,_0x385fd6);}w['error']('Invalid\x20an'+'im\x20blend\x20t'+'ype:\x20'+_0xc6e91a);}['_getNodeFr'+'omPath'](_0x5dca27){let _0x377ea9=this['_blendTree'];for(let _0xe2e49c=0x182*0x17+0x21e0+-0x448d;_0xe2e49c<_0x5dca27['length'];_0xe2e49c++)_0x377ea9=_0x377ea9['getChild'](_0x5dca27[_0xe2e49c]);return _0x377ea9;}['addAnimati'+'on'](_0x4f63b2,_0x2d8b14){const _0x35127e=_0x4f63b2['join']('.'),_0x4231f6=this['_animation'+'List']['findIndex'](_0x347ddf=>_0x347ddf['path']===_0x35127e);if(_0x4231f6>=0x1*-0x2589+-0x8*-0x100+-0x1*-0x1d89)this['_animation'+'List'][_0x4231f6]['animTrack']=_0x2d8b14;else{const _0x313747=this['_getNodeFr'+'omPath'](_0x4f63b2);_0x313747['animTrack']=_0x2d8b14,this['_animation'+'List']['push'](_0x313747);}this['_updateHas'+'Animations']();}['_updateHas'+'Animations'](){this['_hasAnimat'+'ions']=this['_animation'+'List']['length']>-0x824*0x2+-0x1*-0x267e+-0x1636&&this['_animation'+'List']['every'](_0x449992=>_0x449992['animTrack']&&_0x449992['animTrack']!==Qi['EMPTY']);}get['name'](){return this['_name'];}set['animations'](_0x2b94b0){this['_animation'+'List']=_0x2b94b0,this['_updateHas'+'Animations']();}get['animations'](){return this['_animation'+'List'];}get['hasAnimati'+'ons'](){return this['_hasAnimat'+'ions'];}set['speed'](_0x58c3e5){this['_speed']=_0x58c3e5;}get['speed'](){return this['_speed'];}set['loop'](_0x2f544b){this['_loop']=_0x2f544b;}get['loop'](){return this['_loop'];}get['nodeCount'](){return!this['_blendTree']||this['_blendTree']['constructo'+'r']===ml?-0x9a8+0xdae*0x1+-0x15*0x31:this['_blendTree']['getNodeCou'+'nt']();}get['playable'](){return Ih['indexOf'](this['name'])!==-(-0xde1+-0x1329+0x210b)||this['animations']['length']===this['nodeCount'];}get['looping'](){if(this['animations']['length']>0x1b29+-0x1c1+-0x1968){const _0x48d776=this['name']+'.'+this['animations'][0x377*0x1+0x689*0x3+-0x1712]['animTrack']['name'],_0x4c2883=this['_controlle'+'r']['animEvalua'+'tor']['findClip'](_0x48d776);if(_0x4c2883)return _0x4c2883['loop'];}return!(0x25ca+0x31*-0x74+0xf95*-0x1);}get['totalWeigh'+'t'](){let _0x1ff858=-0x1821+0x1c06+-0x3e5;for(let _0x5f1034=-0x1f8f+0xf13*-0x2+0x3db5;_0x5f1034<this['animations']['length'];_0x5f1034++)_0x1ff858+=this['animations'][_0x5f1034]['weight'];return _0x1ff858;}get['timelineDu'+'ration'](){let _0x46467f=0x26e*-0xb+0x493*-0x1+-0x1f4d*-0x1;for(let _0xb50e54=-0x18*0x10c+0x1*0x20fb+-0x7db*0x1;_0xb50e54<this['animations']['length'];_0xb50e54++){const _0x174054=this['animations'][_0xb50e54];_0x174054['animTrack']['duration']>_0x46467f&&(_0x46467f=_0x174054['animTrack']['duration']);}return _0x46467f;}}class Lh{constructor({from:_0x25b6d2,to:_0x25062a,time:_0x74c431=-0x17a1+0x4*0x4f9+-0x13f*-0x3,priority:_0x1eb53b=0x79*-0x45+0x1da+0x1ec3,conditions:_0x403bb7=[],exitTime:_0x2d88eb=null,transitionOffset:_0x3d7105=null,interruptionSource:_0x5c64c3=zv}){this['_from']=_0x25b6d2,this['_to']=_0x25062a,this['_time']=_0x74c431,this['_priority']=_0x1eb53b,this['_condition'+'s']=_0x403bb7,this['_exitTime']=_0x2d88eb,this['_transitio'+'nOffset']=_0x3d7105,this['_interrupt'+'ionSource']=_0x5c64c3;}get['from'](){return this['_from'];}set['to'](_0x50c31a){this['_to']=_0x50c31a;}get['to'](){return this['_to'];}get['time'](){return this['_time'];}get['priority'](){return this['_priority'];}get['conditions'](){return this['_condition'+'s'];}get['exitTime'](){return this['_exitTime'];}get['transition'+'Offset'](){return this['_transitio'+'nOffset'];}get['interrupti'+'onSource'](){return this['_interrupt'+'ionSource'];}get['hasExitTim'+'e'](){return!!this['exitTime'];}}class NL{constructor(_0x10d0ad,_0x1d8073,_0x36f584,_0x441472,_0x4f2f65,_0x251e95,_0x307476){h(this,'_states',{}),h(this,'_stateName'+'s',[]),h(this,'_findTrans'+'itionsFrom'+'StateCache',{}),h(this,'_findTrans'+'itionsBetw'+'eenStatesC'+'ache',{}),h(this,'_previousS'+'tateName',null),h(this,'_activeSta'+'teName',Co),h(this,'_activeSta'+'teDuration',-0x8b+0x1f09+0x1*-0x1e7e),h(this,'_activeSta'+'teDuration'+'Dirty',!(-0x4ef+0x1cf4+-0x1805)),h(this,'_playing',!(-0x3b*0x1a+-0x2*-0x45f+0x25*-0x13)),h(this,'_activate'),h(this,'_transitio'+'ns'),h(this,'_currTrans'+'itionTime',-0x2*-0x844+0x1f39+-0x2fc0),h(this,'_totalTran'+'sitionTime',-0xb31+-0x1e0a+-0x5b*-0x74),h(this,'_isTransit'+'ioning',!(0x2121+0xe88+-0x2fa8)),h(this,'_transitio'+'nInterrupt'+'ionSource',zv),h(this,'_transitio'+'nPreviousS'+'tates',[]),h(this,'_timeInSta'+'te',-0x1873*0x1+-0x18fb+0x316e),h(this,'_timeInSta'+'teBefore',-0x11a6*0x2+0xe0d+-0x3*-0x715),h(this,'findParame'+'ter',_0x39afa7=>this['_findParam'+'eter'](_0x39afa7)),(this['_animEvalu'+'ator']=_0x10d0ad,this['_eventHand'+'ler']=_0x4f2f65,this['_findParam'+'eter']=_0x251e95,this['_consumeTr'+'igger']=_0x307476);for(let _0x130fef=-0xd*0x2d4+0x422*0x5+0x2af*0x6;_0x130fef<_0x1d8073['length'];_0x130fef++)this['_states'][_0x1d8073[_0x130fef]['name']]=new Fg(this,_0x1d8073[_0x130fef]['name'],_0x1d8073[_0x130fef]['speed'],_0x1d8073[_0x130fef]['loop'],_0x1d8073[_0x130fef]['blendTree']),this['_stateName'+'s']['push'](_0x1d8073[_0x130fef]['name']);this['_transitio'+'ns']=_0x36f584['map'](_0x4d45a3=>new Lh({..._0x4d45a3})),this['_activate']=_0x441472;}get['animEvalua'+'tor'](){return this['_animEvalu'+'ator'];}set['activeStat'+'e'](_0x5dc76c){this['_activeSta'+'teName']=_0x5dc76c;}get['activeStat'+'e'](){return this['_findState'](this['_activeSta'+'teName']);}get['activeStat'+'eName'](){return this['_activeSta'+'teName'];}get['activeStat'+'eAnimation'+'s'](){return this['activeStat'+'e']['animations'];}set['previousSt'+'ate'](_0x342317){this['_previousS'+'tateName']=_0x342317;}get['previousSt'+'ate'](){return this['_findState'](this['_previousS'+'tateName']);}get['previousSt'+'ateName'](){return this['_previousS'+'tateName'];}get['playable'](){let _0x18cc43=!(0x38e+-0x78*0xa+-0x122*-0x1);for(let _0x126c09=-0x1a53+-0x6aa+0x3*0xaff;_0x126c09<this['_stateName'+'s']['length'];_0x126c09++)this['_states'][this['_stateName'+'s'][_0x126c09]]['playable']||(_0x18cc43=!(0x2*-0x503+-0x1f56+0x295d));return _0x18cc43;}set['playing'](_0x12c625){this['_playing']=_0x12c625;}get['playing'](){return this['_playing'];}get['activeStat'+'eProgress'](){return this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);}get['activeStat'+'eDuration'](){if(this['_activeSta'+'teDuration'+'Dirty']){let _0x2c26f4=-0xc1d*-0x1+-0x5ad*0x1+0x4*-0x19c;for(let _0x301fb8=-0x199*0xa+-0x16c8+0x26c2;_0x301fb8<this['activeStat'+'eAnimation'+'s']['length'];_0x301fb8++){const _0x5a9fde=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x301fb8]['name']);_0x5a9fde&&(_0x2c26f4=Math['max'](_0x2c26f4,_0x5a9fde['track']['duration']));}this['_activeSta'+'teDuration']=_0x2c26f4,this['_activeSta'+'teDuration'+'Dirty']=!(-0x3*-0x5fd+0x4*0x4ee+-0x25ae);}return this['_activeSta'+'teDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0xa2f5b7){this['_timeInSta'+'teBefore']=_0xa2f5b7,this['_timeInSta'+'te']=_0xa2f5b7;for(let _0x233a25=-0x8d9+-0x23b0+0x36d*0xd;_0x233a25<this['activeStat'+'eAnimation'+'s']['length'];_0x233a25++){const _0x4a789b=this['animEvalua'+'tor']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x233a25]['name']);_0x4a789b&&(_0x4a789b['time']=_0xa2f5b7);}}get['activeStat'+'eCurrentTi'+'me'](){return this['_timeInSta'+'te'];}get['transition'+'ing'](){return this['_isTransit'+'ioning'];}get['transition'+'Progress'](){return this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime'];}get['states'](){return this['_stateName'+'s'];}['assignMask'](_0x5695e8){return this['_animEvalu'+'ator']['assignMask'](_0x5695e8);}['_findState'](_0x148f6f){return this['_states'][_0x148f6f];}['_getActive'+'StateProgr'+'essForTime'](_0x2322d7){if(this['activeStat'+'eName']===Co||this['activeStat'+'eName']===vu||this['activeStat'+'eName']===qr)return 0x1afa+0x2*0xb13+0x5*-0x9d3;const _0x2ad026=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][0x2*0xf94+-0x127d+-0x17*0x8d]['name']);return _0x2ad026?_0x2ad026['progressFo'+'rTime'](_0x2322d7):null;}['_findTrans'+'itionsFrom'+'State'](_0x18682c){let _0x4cded6=this['_findTrans'+'itionsFrom'+'StateCache'][_0x18682c];return _0x4cded6||(_0x4cded6=this['_transitio'+'ns']['filter'](_0x1acd5c=>_0x1acd5c['from']===_0x18682c),ul(_0x4cded6),this['_findTrans'+'itionsFrom'+'StateCache'][_0x18682c]=_0x4cded6),_0x4cded6;}['_findTrans'+'itionsBetw'+'eenStates'](_0x1e48ae,_0x59eeca){let _0x58b348=this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x1e48ae+'->'+_0x59eeca];return _0x58b348||(_0x58b348=this['_transitio'+'ns']['filter'](_0x5f72e1=>_0x5f72e1['from']===_0x1e48ae&&_0x5f72e1['to']===_0x59eeca),ul(_0x58b348),this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x1e48ae+'->'+_0x59eeca]=_0x58b348),_0x58b348;}['_transitio'+'nHasCondit'+'ionsMet'](_0x1b7018){const _0x571fb2=_0x1b7018['conditions'];for(let _0x17151b=0x3*0x67f+0x2195*0x1+-0x3512*0x1;_0x17151b<_0x571fb2['length'];_0x17151b++){const _0x345ece=_0x571fb2[_0x17151b],_0x158760=this['_findParam'+'eter'](_0x345ece['parameterN'+'ame']);switch(_0x345ece['predicate']){case xL:if(!(_0x158760['value']>_0x345ece['value']))return!(-0x2b*0x93+0x292+0x1d8*0xc);break;case TL:if(!(_0x158760['value']<_0x345ece['value']))return!(0x7*0x24f+0xa*-0x49+0x83*-0x1a);break;case wL:if(!(_0x158760['value']>=_0x345ece['value']))return!(-0x1385+0x1*0x120+0x1266);break;case EL:if(!(_0x158760['value']<=_0x345ece['value']))return!(0x174*-0x18+-0x1fad+0x428e);break;case bL:if(_0x158760['value']!==_0x345ece['value'])return!(-0x1b02+0xca3+-0x10*-0xe6);break;case AL:if(_0x158760['value']===_0x345ece['value'])return!(-0xc31*-0x1+-0x420+-0x30*0x2b);break;}}return!(0xd2c+-0x1cd0+0x2*0x7d2);}['_findTrans'+'ition'](_0x49e546,_0x2a5ad1){let _0x31207b=[];if(_0x49e546&&_0x2a5ad1)_0x31207b=_0x31207b['concat'](this['_findTrans'+'itionsBetw'+'eenStates'](_0x49e546,_0x2a5ad1));else{if(!this['_isTransit'+'ioning'])_0x31207b=_0x31207b['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x31207b=_0x31207b['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));else switch(this['_transitio'+'nInterrupt'+'ionSource']){case gL:_0x31207b=_0x31207b['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x31207b=_0x31207b['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case SL:_0x31207b=_0x31207b['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x31207b=_0x31207b['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case yL:_0x31207b=_0x31207b['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x31207b=_0x31207b['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x31207b=_0x31207b['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case vL:_0x31207b=_0x31207b['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x31207b=_0x31207b['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x31207b=_0x31207b['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;}}if(_0x31207b=_0x31207b['filter'](_0x462950=>{if(_0x462950['to']===this['activeStat'+'eName'])return!(-0x53d*-0x5+-0x4d7+-0x1559);if(_0x462950['hasExitTim'+'e']){let _0x53b62d=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'teBefore']),_0x1e7bea=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);if(_0x462950['exitTime']<-0x4ae+0xb12+-0x663*0x1&&this['activeStat'+'e']['loop']&&(_0x53b62d-=Math['floor'](_0x53b62d),_0x1e7bea-=Math['floor'](_0x1e7bea)),_0x1e7bea===_0x53b62d){if(_0x1e7bea!==_0x462950['exitTime'])return null;}else{if(!(_0x462950['exitTime']>_0x53b62d&&_0x462950['exitTime']<=_0x1e7bea))return null;}}return this['_transitio'+'nHasCondit'+'ionsMet'](_0x462950);}),_0x31207b['length']>0x1f02+0xfee+0x2ef0*-0x1){const _0x405528=_0x31207b[-0x37*-0x33+0x7*0x272+0x1*-0x1c13];if(_0x405528['to']===vu){const _0x3fe2e5=this['_findTrans'+'itionsFrom'+'State'](Co)[0x23*0x15+0x3*0x642+-0x15a5*0x1];_0x405528['to']=_0x3fe2e5['to'];}return _0x405528;}return null;}['updateStat'+'eFromTrans'+'ition'](_0x522d6f){let _0x53a38b,_0xd103d4,_0xe562c5;this['previousSt'+'ate']=_0x522d6f['from']?this['activeStat'+'eName']:null,this['activeStat'+'e']=_0x522d6f['to'],this['_activeSta'+'teDuration'+'Dirty']=!(0x189f+0x1e1b+-0x1d3*0x1e);for(let _0x391da9=0x267a+-0x1*0xc6d+-0x1a0d;_0x391da9<_0x522d6f['conditions']['length'];_0x391da9++){const _0x40cb77=_0x522d6f['conditions'][_0x391da9];this['_findParam'+'eter'](_0x40cb77['parameterN'+'ame'])['type']===Qc&&this['_consumeTr'+'igger'](_0x40cb77['parameterN'+'ame']);}if(this['previousSt'+'ate']){this['_isTransit'+'ioning']||(this['_transitio'+'nPreviousS'+'tates']=[]),this['_transitio'+'nPreviousS'+'tates']['push']({'name':this['_previousS'+'tateName'],'weight':0x1});const _0x289b28=Math['min'](this['_totalTran'+'sitionTime']!==0x25fd+-0x1f17+-0x6e6?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:-0x5*-0x6c3+0x59*0x22+0x5*-0x920,-0x2194+0x2fa*0x3+0x18a7*0x1);for(let _0x52d59f=-0x1d2*0x9+0xb2e+-0x24*-0x25;_0x52d59f<this['_transitio'+'nPreviousS'+'tates']['length'];_0x52d59f++){this['_isTransit'+'ioning']?_0x52d59f!==this['_transitio'+'nPreviousS'+'tates']['length']-(0x20c4+0x877+-0x149d*0x2)?this['_transitio'+'nPreviousS'+'tates'][_0x52d59f]['weight']*=-0xcae+-0x9df+-0x168e*-0x1-_0x289b28:this['_transitio'+'nPreviousS'+'tates'][_0x52d59f]['weight']=_0x289b28:this['_transitio'+'nPreviousS'+'tates'][_0x52d59f]['weight']=-0x19*-0xf2+0x2*0x20d+-0x1bbb,_0x53a38b=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x52d59f]['name']);for(let _0x178dcf=-0xf59*0x2+-0x23c8*0x1+0x427a;_0x178dcf<_0x53a38b['animations']['length'];_0x178dcf++)_0xd103d4=_0x53a38b['animations'][_0x178dcf],_0xe562c5=this['_animEvalu'+'ator']['findClip'](_0xd103d4['name']+'.previous.'+_0x52d59f),_0xe562c5||(_0xe562c5=this['_animEvalu'+'ator']['findClip'](_0xd103d4['name']),_0xe562c5['name']=_0xd103d4['name']+'.previous.'+_0x52d59f),_0x52d59f!==this['_transitio'+'nPreviousS'+'tates']['length']-(0x1b84+-0x1d0*0x7+-0xed3)&&_0xe562c5['pause']();}}this['_isTransit'+'ioning']=!(-0x805*-0x2+0x19a6*0x1+-0x1*0x29b0),this['_totalTran'+'sitionTime']=_0x522d6f['time'],this['_currTrans'+'itionTime']=0x1e9a+-0x166e+0x416*-0x2,this['_transitio'+'nInterrupt'+'ionSource']=_0x522d6f['interrupti'+'onSource'];const _0x42a914=this['activeStat'+'e'],_0x333e74=_0x522d6f['transition'+'Offset']&&_0x522d6f['transition'+'Offset']>0x1cac+-0x36d*-0x3+-0x26f3*0x1&&_0x522d6f['transition'+'Offset']<0x1861+-0x3*-0x87b+0x31d1*-0x1;let _0x33d8e2=0x2465+0x11c4+-0x3629,_0x4b7acc=0x345+0x1333+-0x1678;if(_0x333e74){const _0x4f09a6=_0x42a914['timelineDu'+'ration']*_0x522d6f['transition'+'Offset'];_0x33d8e2=_0x4f09a6,_0x4b7acc=_0x4f09a6;}this['_timeInSta'+'te']=_0x33d8e2,this['_timeInSta'+'teBefore']=_0x4b7acc;for(let _0x414f42=-0x874+0x125*0x17+0xb7*-0x19;_0x414f42<_0x42a914['animations']['length'];_0x414f42++){if(_0xe562c5=this['_animEvalu'+'ator']['findClip'](_0x42a914['animations'][_0x414f42]['name']),_0xe562c5)_0xe562c5['reset']();else{const _0x81d3e9=Number['isFinite'](_0x42a914['animations'][_0x414f42]['speed'])?_0x42a914['animations'][_0x414f42]['speed']:_0x42a914['speed'];_0xe562c5=new Dh(_0x42a914['animations'][_0x414f42]['animTrack'],this['_timeInSta'+'te'],_0x81d3e9,!(-0xe0d*0x2+0x53f+0x16db*0x1),_0x42a914['loop'],this['_eventHand'+'ler']),_0xe562c5['name']=_0x42a914['animations'][_0x414f42]['name'],this['_animEvalu'+'ator']['addClip'](_0xe562c5);}if(_0x522d6f['time']>0x1e3f*0x1+-0xa72+-0x13cd?_0xe562c5['blendWeigh'+'t']=-0x4ed*0x1+0x1b41+-0x1654:_0xe562c5['blendWeigh'+'t']=_0x42a914['animations'][_0x414f42]['normalized'+'Weight'],_0xe562c5['play'](),_0x333e74)_0xe562c5['time']=_0x42a914['timelineDu'+'ration']*_0x522d6f['transition'+'Offset'];else{const _0x2487cf=_0x42a914['speed']>=-0x2ed*0x1+0x8a8+0x1e9*-0x3?0x5*-0x74a+-0x11b6+-0x8*-0x6c5:this['activeStat'+'eDuration'];_0xe562c5['time']=_0x2487cf;}}}['_transitio'+'nToState'](_0x46df7b){if(!this['_findState'](_0x46df7b))return;let _0x37a022=this['_findTrans'+'ition'](this['_activeSta'+'teName'],_0x46df7b);_0x37a022||(this['_animEvalu'+'ator']['removeClip'+'s'](),_0x37a022=new Lh({'from':null,'to':_0x46df7b})),this['updateStat'+'eFromTrans'+'ition'](_0x37a022);}['assignAnim'+'ation'](_0x888caa,_0x3517ff,_0x280331,_0x1d656c){const _0x45ae53=_0x888caa['split']('.');let _0x6c352f=this['_findState'](_0x45ae53[0x94*0x6+-0x16a1+0x1329]);_0x6c352f||(_0x6c352f=new Fg(this,_0x45ae53[0xba8+-0x2e4+-0x21*0x44],_0x280331),this['_states'][_0x45ae53[0x1bca+-0xc62+-0xf68]]=_0x6c352f,this['_stateName'+'s']['push'](_0x45ae53[-0x1*0x2515+-0x15a3+0x3ab8])),_0x6c352f['addAnimati'+'on'](_0x45ae53,_0x3517ff),this['_animEvalu'+'ator']['updateClip'+'Track'](_0x6c352f['name'],_0x3517ff),_0x280331!==void(0x1*-0x9b7+0x15bc+-0x1*0xc05)&&(_0x6c352f['speed']=_0x280331),_0x1d656c!==void(-0x1fdb+0x213a+-0x15f)&&(_0x6c352f['loop']=_0x1d656c),!this['_playing']&&this['_activate']&&this['playable']&&this['play'](),this['_activeSta'+'teDuration'+'Dirty']=!(-0x1c0f+-0x1f*-0x5f+0x108e);}['removeNode'+'Animations'](_0x5ad61e){if(Ih['indexOf'](_0x5ad61e)!==-(0x16a*0xb+0x5aa+0x1*-0x1537))return!(0xedf+-0x2*-0xf71+0x4*-0xb70);const _0x49854d=this['_findState'](_0x5ad61e);return _0x49854d?(_0x49854d['animations']=[],!(0x2379*-0x1+0xbc*0x33+-0x1fb)):(w['error']('Attempting'+'\x20to\x20unassi'+'gn\x20animati'+'on\x20tracks\x20'+'from\x20a\x20sta'+'te\x20that\x20do'+'es\x20not\x20exi'+'st.',_0x5ad61e),!(0x223b+0xd1f+-0x2f59));}['play'](_0x2bb8a5){_0x2bb8a5&&this['_transitio'+'nToState'](_0x2bb8a5),this['_playing']=!(0x4a*0x38+-0x55*0x30+-0x40*0x1);}['pause'](){this['_playing']=!(-0x1ee+-0x1*0xb7b+0xd6a);}['reset'](){this['_previousS'+'tateName']=null,this['_activeSta'+'teName']=Co,this['_playing']=!(0x197d+0x217d+-0x1e7*0x1f),this['_currTrans'+'itionTime']=-0x3d*-0x4f+0x1377+0x1b*-0x16b,this['_totalTran'+'sitionTime']=-0x33+-0x2*0x117f+-0x2*-0x1199,this['_isTransit'+'ioning']=!(-0xd*-0x2b9+-0x328+-0x203c),this['_timeInSta'+'te']=-0x2685+-0x111e+0x37a3,this['_timeInSta'+'teBefore']=-0x10a9+0x22d4+0x122b*-0x1,this['_animEvalu'+'ator']['removeClip'+'s']();}['rebind'](){this['_animEvalu'+'ator']['rebind']();}['update'](_0x20c682){if(!this['_playing'])return;let _0x2eac3f,_0x59aae5,_0x26773c;(this['activeStat'+'e']['loop']||this['_timeInSta'+'te']<this['activeStat'+'eDuration'])&&(this['_timeInSta'+'teBefore']=this['_timeInSta'+'te'],this['_timeInSta'+'te']+=_0x20c682*this['activeStat'+'e']['speed'],!this['activeStat'+'e']['loop']&&this['_timeInSta'+'te']>this['activeStat'+'eDuration']&&(this['_timeInSta'+'te']=this['activeStat'+'eDuration'],_0x20c682=this['activeStat'+'eDuration']-this['_timeInSta'+'teBefore']));const _0x5c8eb2=this['_findTrans'+'ition'](this['_activeSta'+'teName']);if(_0x5c8eb2&&this['updateStat'+'eFromTrans'+'ition'](_0x5c8eb2),this['_isTransit'+'ioning']){if(this['_currTrans'+'itionTime']+=_0x20c682,this['_currTrans'+'itionTime']<=this['_totalTran'+'sitionTime']){const _0x3c9707=this['_totalTran'+'sitionTime']!==-0x100f+-0x1752+-0x11*-0x251?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x3dc+-0x1718+0x133d;for(let _0xaa19f3=0x3*-0x6ad+-0x43d*-0x8+-0xbb*0x13;_0xaa19f3<this['_transitio'+'nPreviousS'+'tates']['length'];_0xaa19f3++){_0x2eac3f=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0xaa19f3]['name']);const _0x1837c7=this['_transitio'+'nPreviousS'+'tates'][_0xaa19f3]['weight'];for(let _0x21263c=-0x52f*-0x1+-0x333*-0x7+-0xa*0x2c2;_0x21263c<_0x2eac3f['animations']['length'];_0x21263c++)_0x59aae5=_0x2eac3f['animations'][_0x21263c],_0x26773c=this['_animEvalu'+'ator']['findClip'](_0x59aae5['name']+'.previous.'+_0xaa19f3),_0x26773c&&(_0x26773c['blendWeigh'+'t']=(-0xc3a+0x1*-0x1f2+0x1*0xe2d-_0x3c9707)*_0x59aae5['normalized'+'Weight']*_0x1837c7);}_0x2eac3f=this['activeStat'+'e'];for(let _0x6c0fbe=-0x119d+-0x10*-0x1c3+0x1*-0xa93;_0x6c0fbe<_0x2eac3f['animations']['length'];_0x6c0fbe++)_0x59aae5=_0x2eac3f['animations'][_0x6c0fbe],this['_animEvalu'+'ator']['findClip'](_0x59aae5['name'])['blendWeigh'+'t']=_0x3c9707*_0x59aae5['normalized'+'Weight'];}else{this['_isTransit'+'ioning']=!(-0x74d+-0x7d9+0xf27);const _0x21f9e7=this['activeStat'+'eAnimation'+'s']['length'],_0x258c26=this['_animEvalu'+'ator']['clips']['length'];for(let _0x185f6c=0x14f+-0x2f*0x83+0x2*0xb5f;_0x185f6c<_0x258c26-_0x21f9e7;_0x185f6c++)this['_animEvalu'+'ator']['removeClip'](0x1445+0x15e9+-0x2a2e);this['_transitio'+'nPreviousS'+'tates']=[],_0x2eac3f=this['activeStat'+'e'];for(let _0x294e84=-0x1*-0x1841+0xdd5+-0x2616;_0x294e84<_0x2eac3f['animations']['length'];_0x294e84++)_0x59aae5=_0x2eac3f['animations'][_0x294e84],_0x26773c=this['_animEvalu'+'ator']['findClip'](_0x59aae5['name']),_0x26773c&&(_0x26773c['blendWeigh'+'t']=_0x59aae5['normalized'+'Weight']);}}else{if(this['activeStat'+'e']['_blendTree']['constructo'+'r']!==ml){_0x2eac3f=this['activeStat'+'e'];for(let _0x5143fe=-0x7e5+-0xdfe+0x15e3;_0x5143fe<_0x2eac3f['animations']['length'];_0x5143fe++)_0x59aae5=_0x2eac3f['animations'][_0x5143fe],_0x26773c=this['_animEvalu'+'ator']['findClip'](_0x59aae5['name']),_0x26773c&&(_0x26773c['blendWeigh'+'t']=_0x59aae5['normalized'+'Weight'],_0x59aae5['parent']['syncAnimat'+'ions']&&(_0x26773c['speed']=_0x59aae5['speed']));}}this['_animEvalu'+'ator']['update'](_0x20c682,this['activeStat'+'e']['hasAnimati'+'ons']);}}const wf=new J(),Tc=new D(),_o=new re(),go=new ie(),So=new le();class Fi extends Sr{constructor(_0x479228,_0x24be78,_0x51b23c,_0xbbe7e,_0x518a3b){super(_0x24be78),this['animCompon'+'ent']=_0x479228,this['_mask']=_0xbbe7e,this['layerName']=_0x51b23c,this['layerIndex']=_0x518a3b;}static['_packFloat'](_0x3796a3){return _0x3796a3[0x24e5+-0x2d4+-0x11*0x201];}static['_packBoole'+'an'](_0x1c9ac1){return!!_0x1c9ac1[0x3*-0x71+0x3*0x137+-0x252];}static['_packVec2'](_0x50f199){return wf['x']=_0x50f199[0xe11+-0x1be1+0xdd0],wf['y']=_0x50f199[-0xb8c+0x247f+0xc79*-0x2],wf;}static['_packVec3'](_0x19bcdc){return Tc['x']=_0x19bcdc[-0x69*0x2b+0x1e*0x92+-0xf*-0x9],Tc['y']=_0x19bcdc[0x177*0x19+0x4*-0x695+-0xa4a],Tc['z']=_0x19bcdc[-0x73c*0x5+0x4*0x3be+0xa9b*0x2],Tc;}static['_packVec4'](_0x585078){return _o['x']=_0x585078[-0x5b6+0x5e*0x4e+-0xb77*0x2],_o['y']=_0x585078[-0xdc5+-0x2d+0xdf3],_o['z']=_0x585078[0xf05+-0x1268+-0x4f*-0xb],_o['w']=_0x585078[0x3a*-0x61+0x1892+0x295*-0x1],_o;}static['_packColor'](_0x1ef625){return go['r']=_0x1ef625[-0x29*0x1+0xb1b+-0xaf2],go['g']=_0x1ef625[0x571+0x1234+-0x17a4],go['b']=_0x1ef625[0x2053+-0x4d7+0x1*-0x1b7a],go['a']=_0x1ef625[0x1774+0x1c8b*-0x1+0x51a],go;}static['_packQuat'](_0x4b4783){return So['x']=_0x4b4783[-0x2642+0x1ae+-0x4*-0x925],So['y']=_0x4b4783[0x1*-0x17f6+0xba4+0xc53*0x1],So['z']=_0x4b4783[0x9a+-0x1*-0x16b2+-0x10f*0x16],So['w']=_0x4b4783[-0x32*0x76+-0x9*0xdf+0x1ee6],So;}['resolve'](_0x348976){const _0x101b71=ra['encode'](_0x348976['entityPath'],_0x348976['component'],_0x348976['propertyPa'+'th']);let _0x11c76f=this['targetCach'+'e'][_0x101b71];if(_0x11c76f)return _0x11c76f;let _0x1f2570,_0x4a7980,_0xa618c3;switch(_0x348976['component']){case'entity':_0x1f2570=this['_getEntity'+'FromHierar'+'chy'](_0x348976['entityPath']),_0xa618c3=ra['encode'](_0x1f2570['path'],'entity',_0x348976['propertyPa'+'th']),_0x4a7980=_0x1f2570;break;case'graph':if(_0x4a7980=this['findNode'](_0x348976),!_0x4a7980)return null;_0xa618c3=ra['encode'](_0x4a7980['path'],'graph',_0x348976['propertyPa'+'th']);break;default:if(_0x1f2570=this['_getEntity'+'FromHierar'+'chy'](_0x348976['entityPath']),_0x4a7980=_0x1f2570['findCompon'+'ent'](_0x348976['component']),!_0x4a7980)return null;_0xa618c3=ra['encode'](_0x1f2570['path'],_0x348976['component'],_0x348976['propertyPa'+'th']);break;}return _0x11c76f=this['_createAni'+'mTargetFor'+'Property'](_0x4a7980,_0x348976['propertyPa'+'th'],_0xa618c3),this['targetCach'+'e'][_0x101b71]=_0x11c76f,_0x11c76f;}['update'](_0x45290f){const _0x479686=this['activeNode'+'s'];if(_0x479686){for(let _0x5b54dd=0x96b*0x1+0x1ec2+-0x282d*0x1;_0x5b54dd<_0x479686['length'];_0x5b54dd++)_0x479686[_0x5b54dd]['_dirtifyLo'+'cal']();}}['_getEntity'+'FromHierar'+'chy'](_0x3e3846){if(!this['animCompon'+'ent']['entity']['name']===_0x3e3846[0x1a5*0x4+-0x1*-0x1a8c+-0x2120])return null;const _0x1e87c1=this['animCompon'+'ent']['entity'];return _0x3e3846['length']===0x2*-0x12b7+-0xc*0x48+-0x1*-0x28cf?_0x1e87c1:_0x1e87c1['_parent']['findByPath'](_0x3e3846);}['_resolvePa'+'th'](_0x45b6c5,_0x33ac28,_0x3200d5){const _0x47af51=_0x33ac28['length']-(_0x3200d5?0x29f+0x21c9+-0x2468:0x23b5+0x1faa+-0x435e);for(let _0x360909=0x1a4f+-0x2441+0x9f2;_0x360909<_0x47af51;_0x360909++)_0x45b6c5=_0x45b6c5[_0x33ac28[_0x360909]];return _0x45b6c5;}['_setter'](_0x4c456b,_0xbe5b90,_0x4103b6){const _0x3e64e=this['_resolvePa'+'th'](_0x4c456b,_0xbe5b90),_0x1950dd=_0xbe5b90[_0xbe5b90['length']-(0xdcf*0x1+-0x37e*-0x5+-0x1f44)],_0x2ef1a9='set'+_0x1950dd['substring'](0x828+-0x2a*0xd6+0x1af4,0x1805+-0x9*0x26b+-0x241)['toUpperCas'+'e']()+_0x1950dd['substring'](-0xb33+0x1f5b*-0x1+0x2a8f*0x1);if(_0x3e64e[_0x2ef1a9]){let _0x574a8e=_0x3e64e['get'+_0x1950dd['substring'](-0x4a0*-0x3+-0xa8b*-0x1+-0x149*0x13,-0xe96+0x784+-0x1*-0x713)['toUpperCas'+'e']()+_0x1950dd['substring'](-0x24bc*-0x1+-0x9*-0x119+-0x13*0x274)]['bind'](_0x3e64e)();_0x574a8e=[_0x574a8e['x'],_0x574a8e['y'],_0x574a8e['z'],_0x574a8e['w']];const _0x1f6686=_0x3e64e[_0x2ef1a9]['bind'](_0x3e64e);return{'set':_0x3bc11b=>{_0x1f6686(_0x4103b6(_0x3bc11b));},'get':()=>_0x574a8e};}const _0x1222ff=_0x3e64e[_0x1950dd];if(typeof _0x1222ff=='object'&&_0x1222ff['hasOwnProp'+'erty']('copy'))return function(_0xa660bb){_0x1222ff['copy'](_0x4103b6(_0xa660bb));};if([J,D,re,ie,le]['indexOf'](_0x3e64e['constructo'+'r'])!==-(0x1889*-0x1+-0x12b3+0x1*0x2b3d)&&_0xbe5b90['length']>0x1836*0x1+0x8c6*0x1+-0x20fb*0x1){const _0x3a70d7=_0xbe5b90['length']>0x1*-0xcaa+0x1*0x29f+0xa0d*0x1?this['_resolvePa'+'th'](_0x4c456b,_0xbe5b90['slice'](0xd*0x2b+0x1*0x21dc+-0x240b,-(0xc0a*-0x1+-0x1d4*0x6+0x1703))):_0x4c456b,_0x3955df=_0xbe5b90[_0xbe5b90['length']-(-0x4ac+-0x564+0xa12)];return function(_0x467f24){_0x3e64e[_0x1950dd]=_0x4103b6(_0x467f24),_0x3a70d7[_0x3955df]=_0x3e64e;};}return function(_0x18b5df){_0x3e64e[_0x1950dd]=_0x4103b6(_0x18b5df);};}['_createAni'+'mTargetFor'+'Property'](_0x510e5d,_0x44b3c3,_0x383432){if(this['handlers']&&_0x44b3c3[-0x1*0x5f7+-0xaa*0x6+0x9f3]['startsWith']('weight.'))return this['handlers']['weight'](_0x510e5d,_0x44b3c3[0xd2b+-0x272*0x6+-0xb*-0x23]['replace']('weight.',''));if(this['handlers']&&_0x44b3c3[0x10d0+0x94d+-0x3bb*0x7]==='material'&&_0x44b3c3['length']===-0x1*0xd29+0x9da+0x1*0x351){const _0xc55f7a=_0x44b3c3[0x2e*-0x1+-0x1d2e+0x1*0x1d5d];if(_0xc55f7a['endsWith']('Map'))return this['handlers']['materialTe'+'xture'](_0x510e5d,_0xc55f7a);}const _0x4ae0b9=this['_resolvePa'+'th'](_0x510e5d,_0x44b3c3,!(-0x1e95*-0x1+0xdf*0x11+-0x2d64));if(typeof _0x4ae0b9>'u')return null;let _0x3a93f7,_0x28ce4f,_0x859004;if(typeof _0x4ae0b9=='number')_0x3a93f7=this['_setter'](_0x510e5d,_0x44b3c3,Fi['_packFloat']),_0x28ce4f='vector',_0x859004=-0x434+0xc*-0x20c+0x1cc5;else{if(typeof _0x4ae0b9=='boolean')_0x3a93f7=this['_setter'](_0x510e5d,_0x44b3c3,Fi['_packBoole'+'an']),_0x28ce4f='vector',_0x859004=-0x18be+-0x66d*0x1+0x1f2c;else{if(typeof _0x4ae0b9=='object')switch(_0x4ae0b9['constructo'+'r']){case J:_0x3a93f7=this['_setter'](_0x510e5d,_0x44b3c3,Fi['_packVec2']),_0x28ce4f='vector',_0x859004=0x1e2+-0x2287+0x20a7;break;case D:_0x3a93f7=this['_setter'](_0x510e5d,_0x44b3c3,Fi['_packVec3']),_0x28ce4f='vector',_0x859004=0x3*-0x3e2+-0x18b0+0x2459;break;case re:_0x3a93f7=this['_setter'](_0x510e5d,_0x44b3c3,Fi['_packVec4']),_0x28ce4f='vector',_0x859004=-0x6bf+0x1625+-0xf62*0x1;break;case ie:_0x3a93f7=this['_setter'](_0x510e5d,_0x44b3c3,Fi['_packColor']),_0x28ce4f='vector',_0x859004=0x85b+-0x1dd+0x2*-0x33d;break;case le:_0x3a93f7=this['_setter'](_0x510e5d,_0x44b3c3,Fi['_packQuat']),_0x28ce4f='quaternion',_0x859004=0x3dd*0x9+-0x197e+0x943*-0x1;break;default:return null;}}}return _0x44b3c3['indexOf']('material')!==-(-0x23ab+0x1*-0x220d+0x45b9)?new xu(_0x5bd9e6=>{_0x3a93f7(_0x5bd9e6),_0x510e5d['material']['update']();},_0x28ce4f,_0x859004,_0x383432):new xu(_0x3a93f7,_0x28ce4f,_0x859004,_0x383432);}['rebind'](){this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={},this['animCompon'+'ent']['rootBone']?this['graph']=this['animCompon'+'ent']['rootBone']:this['graph']=this['animCompon'+'ent']['entity'];const _0x3d8738={},_0x2fbd50=function(_0x3d2aa6){_0x3d8738[_0x3d2aa6['name']]=_0x3d2aa6;for(let _0x44db65=-0x97*-0x3d+-0xf4*0x13+-0x11df;_0x44db65<_0x3d2aa6['children']['length'];++_0x44db65)_0x2fbd50(_0x3d2aa6['children'][_0x44db65]);};_0x2fbd50(this['graph']),this['nodes']=_0x3d8738;}}class kL{constructor(_0x28596b,_0x18bc47,_0x4d0e45,_0x5b75c9=0x2b0*-0x2+0x4c8*0x4+-0xdbf,_0x120f1c=Vv){h(this,'_name'),h(this,'_controlle'+'r'),h(this,'_component'),h(this,'_weight'),h(this,'_blendType'),h(this,'_mask',null),h(this,'_blendTime',-0x3*-0x27c+0x6*0x254+-0x156c),h(this,'_blendTime'+'Elapsed',0x31*0x45+0x3*0x83d+-0x25ec),h(this,'_startingW'+'eight',0x26cd+0xcfe+-0x33cb),h(this,'_targetWei'+'ght',0x543+0x48d*0x6+-0x7*0x4a7),(this['_name']=_0x28596b,this['_controlle'+'r']=_0x18bc47,this['_component']=_0x4d0e45,this['_weight']=_0x5b75c9,this['_blendType']=_0x120f1c);}get['name'](){return this['_name'];}set['playing'](_0x135ac0){this['_controlle'+'r']['playing']=_0x135ac0;}get['playing'](){return this['_controlle'+'r']['playing'];}get['playable'](){return this['_controlle'+'r']['playable'];}get['activeStat'+'e'](){return this['_controlle'+'r']['activeStat'+'eName'];}get['previousSt'+'ate'](){return this['_controlle'+'r']['previousSt'+'ateName'];}get['activeStat'+'eProgress'](){return this['_controlle'+'r']['activeStat'+'eProgress'];}get['activeStat'+'eDuration'](){return this['_controlle'+'r']['activeStat'+'eDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x567a51){const _0x5506cc=this['_controlle'+'r'],_0xed8ce3=_0x5506cc['playing'];_0x5506cc['playing']=!(-0xb*-0x137+0x11c3+-0x1f20),_0x5506cc['activeStat'+'eCurrentTi'+'me']=_0x567a51,_0xed8ce3||_0x5506cc['update'](0x1df2+0x124a+-0x6e4*0x7),_0x5506cc['playing']=_0xed8ce3;}get['activeStat'+'eCurrentTi'+'me'](){return this['_controlle'+'r']['activeStat'+'eCurrentTi'+'me'];}get['transition'+'ing'](){return this['_controlle'+'r']['transition'+'ing'];}get['transition'+'Progress'](){return this['transition'+'ing']?this['_controlle'+'r']['transition'+'Progress']:null;}get['states'](){return this['_controlle'+'r']['states'];}set['weight'](_0x396217){this['_weight']=_0x396217,this['_component']['dirtifyTar'+'gets']();}get['weight'](){return this['_weight'];}set['blendType'](_0x4cb3b2){_0x4cb3b2!==this['_blendType']&&(this['_blendType']=_0x4cb3b2,this['_controlle'+'r']['normalizeW'+'eights']&&this['_component']['rebind']());}get['blendType'](){return this['_blendType'];}set['mask'](_0x57b309){this['_controlle'+'r']['assignMask'](_0x57b309)&&this['_component']['rebind'](),this['_mask']=_0x57b309;}get['mask'](){return this['_mask'];}['play'](_0x10ab45){this['_controlle'+'r']['play'](_0x10ab45);}['pause'](){this['_controlle'+'r']['pause']();}['reset'](){this['_controlle'+'r']['reset']();}['rebind'](){this['_controlle'+'r']['rebind']();}['update'](_0x3e39fe){this['_blendTime']&&(this['_blendTime'+'Elapsed']<this['_blendTime']?(this['weight']=Y['lerp'](this['_startingW'+'eight'],this['_targetWei'+'ght'],this['_blendTime'+'Elapsed']/this['_blendTime']),this['_blendTime'+'Elapsed']+=_0x3e39fe):(this['weight']=this['_targetWei'+'ght'],this['_blendTime']=0x1*0x187d+0x34f+-0x1bcc,this['_blendTime'+'Elapsed']=-0x1f58+0x60c+-0x1*-0x194c,this['_startingW'+'eight']=-0x205d+0xacb*0x3+-0x4,this['_targetWei'+'ght']=-0x1343+0x22e3+0xa0*-0x19)),this['_controlle'+'r']['update'](_0x3e39fe);}['blendToWei'+'ght'](_0x8f0fd,_0x575147){this['_startingW'+'eight']=this['weight'],this['_targetWei'+'ght']=_0x8f0fd,this['_blendTime']=Math['max'](0x476+-0x21e9*-0x1+-0x265f,_0x575147),this['_blendTime'+'Elapsed']=-0x32b*-0x2+0x95f+-0x1*0xfb5;}['assignAnim'+'ation'](_0x2c78ce,_0xaabd20,_0x108f01,_0x464b35){if(!(_0xaabd20 instanceof Qi)){w['error']('assignAnim'+'ation:\x20ani'+'mTrack\x20sup'+'plied\x20to\x20f'+'unction\x20wa'+'s\x20not\x20of\x20t'+'ype\x20AnimTr'+'ack');return;}this['_controlle'+'r']['assignAnim'+'ation'](_0x2c78ce,_0xaabd20,_0x108f01,_0x464b35),this['_controlle'+'r']['_transitio'+'ns']['length']===0x18*-0x5c+0x78a+-0x8b*-0x2&&this['_controlle'+'r']['_transitio'+'ns']['push'](new Lh({'from':'START','to':_0x2c78ce})),this['_component']['activate']&&this['_component']['playable']&&(this['_component']['playing']=!(0x1560+0x1256*0x2+-0x3a0c));}['removeNode'+'Animations'](_0x23e521){this['_controlle'+'r']['removeNode'+'Animations'](_0x23e521)&&(this['_component']['playing']=!(0x315*0x3+0x6fd+0xf*-0x115));}['getAnimati'+'onAsset'](_0x16077b){return this['_component']['animationA'+'ssets'][this['name']+':'+_0x16077b];}['transition'](_0x18ff6d,_0x69a0db=-0x5*-0x45b+0x24b7+0x3a7e*-0x1,_0x58456d=null){this['_controlle'+'r']['updateStat'+'eFromTrans'+'ition'](new Lh({'from':this['_controlle'+'r']['activeStat'+'eName'],'to':_0x18ff6d,'time':_0x69a0db,'transitionOffset':_0x58456d}));}}class Jc{constructor(_0x45e3de){if(this['_layers']=[],this['_parameter'+'s']={},Array['isArray'](_0x45e3de['layers']))this['_layers']=_0x45e3de['layers'];else for(const _0x206c74 in _0x45e3de['layers']){const _0x1bd5d7=_0x45e3de['layers'][_0x206c74],_0x37b31d={'name':_0x1bd5d7['name'],'blendType':_0x1bd5d7['blendType'],'weight':_0x1bd5d7['weight'],'states':[],'transitions':[]};for(let _0x29820d=-0x1e56*-0x1+0x8*0x482+-0xb11*0x6;_0x29820d<_0x1bd5d7['states']['length'];_0x29820d++)_0x37b31d['states']['push'](_0x45e3de['states'][_0x1bd5d7['states'][_0x29820d]]);for(let _0x54ac8b=0x25c1+-0x3*-0x7c6+-0x1*0x3d13;_0x54ac8b<_0x1bd5d7['transition'+'s']['length'];_0x54ac8b++){const _0x94138e=_0x45e3de['transition'+'s'][_0x1bd5d7['transition'+'s'][_0x54ac8b]];if(_0x94138e['conditions']&&!Array['isArray'](_0x94138e['conditions'])){const _0x619f39=Object['keys'](_0x94138e['conditions']),_0x425d07=[];for(let _0x141f46=0xce1*0x1+0x15b5*0x1+0x2296*-0x1;_0x141f46<_0x619f39['length'];_0x141f46++){const _0xe8c54c=_0x94138e['conditions'][_0x619f39[_0x141f46]];_0xe8c54c['parameterN'+'ame']&&_0x425d07['push'](_0xe8c54c);}_0x94138e['conditions']=_0x425d07;}Number['isInteger'](_0x94138e['from'])&&(_0x94138e['from']=_0x45e3de['states'][_0x94138e['from']]['name']),Number['isInteger'](_0x94138e['to'])&&(_0x94138e['to']=_0x45e3de['states'][_0x94138e['to']]['name']),_0x37b31d['transition'+'s']['push'](_0x94138e);}this['_layers']['push'](_0x37b31d);}for(const _0x24a75f in _0x45e3de['parameters']){const _0x359058=_0x45e3de['parameters'][_0x24a75f];this['_parameter'+'s'][_0x359058['name']]={'type':_0x359058['type'],'value':_0x359058['value']};}}get['parameters'](){return Object['assign']({},this['_parameter'+'s']);}get['layers'](){return this['_layers'];}}class $v extends we{constructor(){super(...arguments),h(this,'_stateGrap'+'hAsset',null),h(this,'_animation'+'Assets',{}),h(this,'_speed',0x282+-0x1*-0x8e1+-0xb62),h(this,'_activate',!(0x2*-0x935+-0x166b+0x28d5*0x1)),h(this,'_playing',!(0x1a10+0x733+-0x2142)),h(this,'_rootBone',null),h(this,'_stateGrap'+'h',null),h(this,'_layers',[]),h(this,'_layerIndi'+'ces',{}),h(this,'_parameter'+'s',{}),h(this,'_targets',{}),h(this,'_consumedT'+'riggers',new Set()),h(this,'_normalize'+'Weights',!(0x1*-0x1247+0x4fd*0x7+-0x1*0x10a3)),h(this,'findParame'+'ter',_0x119529=>this['_parameter'+'s'][_0x119529]),h(this,'consumeTri'+'gger',_0x3ee5c9=>{this['_consumedT'+'riggers']['add'](_0x3ee5c9);});}set['stateGraph'+'Asset'](_0x5a9355){if(_0x5a9355===null){this['removeStat'+'eGraph']();return;}this['_stateGrap'+'hAsset']&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);let _0x4c7d06,_0x573e1d;_0x5a9355 instanceof pe?(_0x4c7d06=_0x5a9355['id'],_0x573e1d=this['system']['app']['assets']['get'](_0x4c7d06),_0x573e1d||(this['system']['app']['assets']['add'](_0x5a9355),_0x573e1d=this['system']['app']['assets']['get'](_0x4c7d06))):(_0x4c7d06=_0x5a9355,_0x573e1d=this['system']['app']['assets']['get'](_0x4c7d06)),!(!_0x573e1d||this['_stateGrap'+'hAsset']===_0x4c7d06)&&(_0x573e1d['resource']?(this['_stateGrap'+'h']=_0x573e1d['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']),_0x573e1d['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this)):(_0x573e1d['once']('load',_0x4d74be=>{this['_stateGrap'+'h']=_0x4d74be['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']);}),_0x573e1d['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this),this['system']['app']['assets']['load'](_0x573e1d)),this['_stateGrap'+'hAsset']=_0x4c7d06);}get['stateGraph'+'Asset'](){return this['_stateGrap'+'hAsset'];}set['normalizeW'+'eights'](_0x5d1b1c){this['_normalize'+'Weights']=_0x5d1b1c,this['unbind']();}get['normalizeW'+'eights'](){return this['_normalize'+'Weights'];}set['animationA'+'ssets'](_0x1599d9){this['_animation'+'Assets']=_0x1599d9,this['loadAnimat'+'ionAssets']();}get['animationA'+'ssets'](){return this['_animation'+'Assets'];}set['speed'](_0x34bad7){this['_speed']=_0x34bad7;}get['speed'](){return this['_speed'];}set['activate'](_0x2f3bd1){this['_activate']=_0x2f3bd1;}get['activate'](){return this['_activate'];}set['playing'](_0x372ae7){this['_playing']=_0x372ae7;}get['playing'](){return this['_playing'];}set['rootBone'](_0x3300c1){if(typeof _0x3300c1=='string'){const _0x25da3a=this['entity']['root']['findByGuid'](_0x3300c1);w['assert'](_0x25da3a,'rootBone\x20e'+'ntity\x20for\x20'+'supplied\x20g'+'uid:'+_0x3300c1+('\x20cannot\x20be'+'\x20found\x20in\x20'+'the\x20scene')),this['_rootBone']=_0x25da3a;}else _0x3300c1 instanceof lt?this['_rootBone']=_0x3300c1:this['_rootBone']=null;this['rebind']();}get['rootBone'](){return this['_rootBone'];}set['stateGraph'](_0x20ba2b){this['_stateGrap'+'h']=_0x20ba2b;}get['stateGraph'](){return this['_stateGrap'+'h'];}get['layers'](){return this['_layers'];}set['layerIndic'+'es'](_0x5b864a){this['_layerIndi'+'ces']=_0x5b864a;}get['layerIndic'+'es'](){return this['_layerIndi'+'ces'];}set['parameters'](_0xd3d8cf){this['_parameter'+'s']=_0xd3d8cf;}get['parameters'](){return this['_parameter'+'s'];}set['targets'](_0x3f606d){this['_targets']=_0x3f606d;}get['targets'](){return this['_targets'];}get['playable'](){for(let _0x99dbf3=0xa0c*-0x3+0x2*0x8d0+0xc84;_0x99dbf3<this['_layers']['length'];_0x99dbf3++)if(!this['_layers'][_0x99dbf3]['playable'])return!(0x2033+-0x81a*0x3+-0x7e4);return!(0x1*-0x149d+0x12f*0x1f+0x1*-0x1014);}get['baseLayer'](){return this['_layers']['length']>-0x18b6+-0x32c+0x1be2?this['_layers'][0x13ca+0xe4+-0x14ae]:null;}['_onStateGr'+'aphAssetCh'+'angeEvent'](_0x1d90bf){const _0x3f06eb=this['animationA'+'ssets'],_0xc1250d=this['layers']['map'](_0x3efb3c=>_0x3efb3c['mask']);this['removeStat'+'eGraph'](),this['_stateGrap'+'h']=new Jc(_0x1d90bf['_data']),this['loadStateG'+'raph'](this['_stateGrap'+'h']),this['animationA'+'ssets']=_0x3f06eb,this['loadAnimat'+'ionAssets'](),this['layers']['forEach']((_0x23e643,_0x333158)=>{_0x23e643['mask']=_0xc1250d[_0x333158];}),this['rebind']();}['dirtifyTar'+'gets'](){const _0x5256ef=Object['values'](this['_targets']);for(let _0x331ce8=0x100+-0x7*0x2dd+0x130b;_0x331ce8<_0x5256ef['length'];_0x331ce8++)_0x5256ef[_0x331ce8]['dirty']=!(-0x1fa8*-0x1+-0x166*-0x17+-0x3fd2);}['_addLayer']({name:_0xd6b946,states:_0x40f847,transitions:_0x118108,weight:_0x3f5868,mask:_0x1600ce,blendType:_0x85c4b1}){let _0x5671cd;this['rootBone']?_0x5671cd=this['rootBone']:_0x5671cd=this['entity'];const _0x16f19f=this['_layers']['length'],_0x4eb8ec=new Fi(this,_0x5671cd,_0xd6b946,_0x1600ce,_0x16f19f),_0xcc1b0e=new Gv(_0x4eb8ec),_0x51562d=new NL(_0xcc1b0e,_0x40f847,_0x118108,this['_activate'],this,this['findParame'+'ter'],this['consumeTri'+'gger']);return this['_layers']['push'](new kL(_0xd6b946,_0x51562d,this,_0x3f5868,_0x85c4b1)),this['_layerIndi'+'ces'][_0xd6b946]=_0x16f19f,this['_layers'][_0x16f19f];}['addLayer'](_0x465b91,_0x44bfdb,_0x2c8d47,_0x2d3a40){const _0x3cd540=this['findAnimat'+'ionLayer'](_0x465b91);if(_0x3cd540)return _0x3cd540;const _0x4601f3=[{'name':'START','speed':0x1}],_0xcd2188=[];return this['_addLayer']({'name':_0x465b91,'states':_0x4601f3,'transitions':_0xcd2188,'weight':_0x44bfdb,'mask':_0x2c8d47,'blendType':_0x2d3a40});}['_assignPar'+'ameters'](_0x5ca26b){this['_parameter'+'s']={};const _0x57859f=Object['keys'](_0x5ca26b['parameters']);for(let _0x31b456=0xb3e*-0x1+0x1*-0xb87+-0xc9*-0x1d;_0x31b456<_0x57859f['length'];_0x31b456++){const _0x2fad00=_0x57859f[_0x31b456];this['_parameter'+'s'][_0x2fad00]={'type':_0x5ca26b['parameters'][_0x2fad00]['type'],'value':_0x5ca26b['parameters'][_0x2fad00]['value']};}}['loadStateG'+'raph'](_0x4ebe81){this['_stateGrap'+'h']=_0x4ebe81,this['_assignPar'+'ameters'](_0x4ebe81),this['_layers']=[];let _0x53566f=!(0xde9*-0x1+0x79b+0x64f);for(let _0x3a8c9b=0x3*-0x505+0x165c*-0x1+0x256b;_0x3a8c9b<_0x4ebe81['layers']['length'];_0x3a8c9b++){const _0x50a51f=_0x4ebe81['layers'][_0x3a8c9b];this['_addLayer']({..._0x50a51f}),_0x50a51f['states']['some'](_0x4ca78d=>_0x4ca78d['blendTree'])&&(_0x53566f=!(0xb1d+0x1*0xecf+-0x19ec));}_0x53566f||this['setupAnima'+'tionAssets']();}['setupAnima'+'tionAssets'](){for(let _0x84529d=0xb*-0x2f0+0x2*0xbb+0x1eda;_0x84529d<this['_layers']['length'];_0x84529d++){const _0x314e69=this['_layers'][_0x84529d],_0x3033d5=_0x314e69['name'];for(let _0x263f5e=-0x13c9+-0xb7f+-0x1c*-0x11e;_0x263f5e<_0x314e69['states']['length'];_0x263f5e++){const _0xb564ea=_0x314e69['states'][_0x263f5e];if(Ih['indexOf'](_0xb564ea)===-(-0xe4f+0x1f3b+-0x10eb*0x1)){const _0x4c2a5f=_0x3033d5+':'+_0xb564ea;this['_animation'+'Assets'][_0x4c2a5f]||(this['_animation'+'Assets'][_0x4c2a5f]={'asset':null});}}}this['loadAnimat'+'ionAssets']();}['loadAnimat'+'ionAssets'](){for(let _0x58ecbd=0x137d+0x7f6+0x1b73*-0x1;_0x58ecbd<this['_layers']['length'];_0x58ecbd++){const _0x5bfb0e=this['_layers'][_0x58ecbd];for(let _0x340b5c=0xb33+-0x4c+0xae7*-0x1;_0x340b5c<_0x5bfb0e['states']['length'];_0x340b5c++){const _0x1c0c8c=_0x5bfb0e['states'][_0x340b5c];if(Ih['indexOf'](_0x1c0c8c)!==-(0x16fd+0x22*-0x9b+-0x266))continue;const _0x3cb8fa=this['_animation'+'Assets'][_0x5bfb0e['name']+':'+_0x1c0c8c];if(!_0x3cb8fa||!_0x3cb8fa['asset']){this['findAnimat'+'ionLayer'](_0x5bfb0e['name'])['assignAnim'+'ation'](_0x1c0c8c,Qi['EMPTY']);continue;}const _0x1cf678=_0x3cb8fa['asset'],_0x46dafb=this['system']['app']['assets']['get'](_0x1cf678);_0x46dafb&&(_0x46dafb['resource']?this['onAnimatio'+'nAssetLoad'+'ed'](_0x5bfb0e['name'],_0x1c0c8c,_0x46dafb):(_0x46dafb['once']('load',function(_0x5cc660,_0x152878){return function(_0x2c55b3){this['onAnimatio'+'nAssetLoad'+'ed'](_0x5cc660,_0x152878,_0x2c55b3);}['bind'](this);}['bind'](this)(_0x5bfb0e['name'],_0x1c0c8c)),this['system']['app']['assets']['load'](_0x46dafb)));}}}['onAnimatio'+'nAssetLoad'+'ed'](_0xc73c53,_0x4dc39d,_0x4d6088){this['findAnimat'+'ionLayer'](_0xc73c53)['assignAnim'+'ation'](_0x4dc39d,_0x4d6088['resource']);}['removeStat'+'eGraph'](){this['_stateGrap'+'h']=null,this['_stateGrap'+'hAsset']=null,this['_animation'+'Assets']={},this['_layers']=[],this['_layerIndi'+'ces']={},this['_parameter'+'s']={},this['_playing']=!(-0x12c7+0x9ef*-0x1+0x1cb7*0x1),this['unbind'](),this['_targets']={};}['reset'](){this['_assignPar'+'ameters'](this['_stateGrap'+'h']);for(let _0xc7ff52=-0x1901+-0x1*0x37f+0x4c0*0x6;_0xc7ff52<this['_layers']['length'];_0xc7ff52++){const _0x37c4dd=this['_layers'][_0xc7ff52]['playing'];this['_layers'][_0xc7ff52]['reset'](),this['_layers'][_0xc7ff52]['playing']=_0x37c4dd;}}['unbind'](){this['_normalize'+'Weights']||Object['keys'](this['_targets'])['forEach'](_0x119f3e=>{this['_targets'][_0x119f3e]['unbind']();});}['rebind'](){this['_targets']={};for(let _0x5c9f34=0xe8c+0x11b*0x6+-0x152e;_0x5c9f34<this['_layers']['length'];_0x5c9f34++)this['_layers'][_0x5c9f34]['rebind']();}['findAnimat'+'ionLayer'](_0x32e427){const _0xf4d258=this['_layerIndi'+'ces'][_0x32e427];return this['_layers'][_0xf4d258]||null;}['addAnimati'+'onState'](_0x4df02f,_0x318bf0,_0x337c17=0x1ef4+0x1*-0x565+-0x198e*0x1,_0x213c5d=!(0x125f+0x1df6+-0x1*0x3055),_0x3f21cc='Base'){var _0x2cba50;this['_stateGrap'+'h']||this['loadStateG'+'raph'](new Jc({'layers':[{'name':_0x3f21cc,'states':[{'name':'START','speed':0x1},{'name':_0x4df02f,'speed':_0x337c17,'loop':_0x213c5d,'defaultState':!(-0x7dd+-0xfbf+0x1*0x179c)}],'transitions':[{'from':'START','to':_0x4df02f}]}],'parameters':{}}));const _0x3d5f48=this['findAnimat'+'ionLayer'](_0x3f21cc);_0x3d5f48?_0x3d5f48['assignAnim'+'ation'](_0x4df02f,_0x318bf0,_0x337c17,_0x213c5d):(_0x2cba50=this['addLayer'](_0x3f21cc))==null||_0x2cba50['assignAnim'+'ation'](_0x4df02f,_0x318bf0,_0x337c17,_0x213c5d);}['assignAnim'+'ation'](_0x5bbe23,_0x13ee40,_0x2fc46e,_0x34772f=0x23fa+-0xb*0x2f1+-0x2*0x1cf,_0x142453=!(0x99a+0x152e*0x1+-0x1ec8)){if(!this['_stateGrap'+'h']&&_0x5bbe23['indexOf']('.')===-(-0x2005+0x6ff+0x1907)){this['loadStateG'+'raph'](new Jc({'layers':[{'name':'Base','states':[{'name':'START','speed':0x1},{'name':_0x5bbe23,'speed':_0x34772f,'loop':_0x142453,'defaultState':!(-0x42c*0x1+0x46*0x62+-0x16a0)}],'transitions':[{'from':'START','to':_0x5bbe23}]}],'parameters':{}})),this['baseLayer']['assignAnim'+'ation'](_0x5bbe23,_0x13ee40);return;}const _0xd07002=_0x2fc46e?this['findAnimat'+'ionLayer'](_0x2fc46e):this['baseLayer'];if(!_0xd07002){w['error']('assignAnim'+'ation:\x20Try'+'ing\x20to\x20ass'+'ign\x20an\x20ani'+'m\x20track\x20to'+'\x20a\x20layer\x20t'+'hat\x20doesn\x27'+'t\x20exist');return;}_0xd07002['assignAnim'+'ation'](_0x5bbe23,_0x13ee40,_0x34772f,_0x142453);}['removeNode'+'Animations'](_0x1b05f4,_0x26243a){const _0x4df622=_0x26243a?this['findAnimat'+'ionLayer'](_0x26243a):this['baseLayer'];if(!_0x4df622){w['error']('removeStat'+'eAnimation'+'s:\x20Trying\x20'+'to\x20remove\x20'+'animation\x20'+'tracks\x20fro'+'m\x20a\x20state\x20'+'before\x20the'+'\x20state\x20gra'+'ph\x20has\x20bee'+'n\x20loaded.\x20'+'Have\x20you\x20c'+'alled\x20load'+'StateGraph'+'?');return;}_0x4df622['removeNode'+'Animations'](_0x1b05f4);}['getParamet'+'erValue'](_0x3d3277,_0x3df3f2){const _0x199edf=this['_parameter'+'s'][_0x3d3277];if(_0x199edf&&_0x199edf['type']===_0x3df3f2)return _0x199edf['value'];w['log']('Cannot\x20get'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x3d3277+('\x22\x20of\x20type\x20'+'\x22')+_0x3df3f2+'\x22');}['setParamet'+'erValue'](_0x1dab41,_0x22ef7f,_0x557592){const _0x275f5a=this['_parameter'+'s'][_0x1dab41];if(_0x275f5a&&_0x275f5a['type']===_0x22ef7f){_0x275f5a['value']=_0x557592;return;}w['log']('Cannot\x20set'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x1dab41+('\x22\x20of\x20type\x20'+'\x22')+_0x22ef7f+'\x22');}['getFloat'](_0x54a8cc){return this['getParamet'+'erValue'](_0x54a8cc,Rg);}['setFloat'](_0x2d97e3,_0x41ca0d){this['setParamet'+'erValue'](_0x2d97e3,Rg,_0x41ca0d);}['getInteger'](_0x57b4e6){return this['getParamet'+'erValue'](_0x57b4e6,Lg);}['setInteger'](_0x36a614,_0x258951){typeof _0x258951=='number'&&_0x258951%(-0x128f*-0x2+0x193e*-0x1+-0xbdf)===-0x7f*0x47+-0x212e+-0xd*-0x543?this['setParamet'+'erValue'](_0x36a614,Lg,_0x258951):w['error']('Attempting'+'\x20to\x20assign'+'\x20non\x20integ'+'er\x20value\x20t'+'o\x20integer\x20'+'parameter',_0x36a614,_0x258951);}['getBoolean'](_0x57c901){return this['getParamet'+'erValue'](_0x57c901,Og);}['setBoolean'](_0x41391a,_0x1f0be6){this['setParamet'+'erValue'](_0x41391a,Og,!!_0x1f0be6);}['getTrigger'](_0x9531d8){return this['getParamet'+'erValue'](_0x9531d8,Qc);}['setTrigger'](_0x449afa,_0x1f9420=!(-0x839*-0x1+-0x1399+0xb61)){this['setParamet'+'erValue'](_0x449afa,Qc,!(0x15*-0x2b+0x582*0x5+-0x1803)),_0x1f9420&&this['_consumedT'+'riggers']['add'](_0x449afa);}['resetTrigg'+'er'](_0x5f5abc){this['setParamet'+'erValue'](_0x5f5abc,Qc,!(-0x10f+-0x94c+0xa5c));}['onBeforeRe'+'move'](){Number['isFinite'](this['_stateGrap'+'hAsset'])&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);}['update'](_0x34e4cb){for(let _0x1a8872=-0x21df*0x1+-0xbfa+0x2dd9;_0x1a8872<this['layers']['length'];_0x1a8872++)this['layers'][_0x1a8872]['update'](_0x34e4cb*this['speed']);this['_consumedT'+'riggers']['forEach'](_0x598cb2=>{this['parameters'][_0x598cb2]['value']=!(0x62+0x2e*0x2+-0xbd);}),this['_consumedT'+'riggers']['clear']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x547972,_0x218fac){_0x547972['rootBone']&&_0x218fac[_0x547972['rootBone']['getGuid']()]?this['rootBone']=_0x218fac[_0x547972['rootBone']['getGuid']()]:this['rebind']();}}class UL{constructor(){this['enabled']=!(0x1c42+0x14bc*0x1+-0x30fe);}}const bu=['enabled'];class BL extends ct{constructor(_0x1a0a05){super(_0x1a0a05),this['id']='anim',this['ComponentT'+'ype']=$v,this['DataType']=UL,this['schema']=bu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x24b705,_0x35af31,_0x441585){super['initialize'+'ComponentD'+'ata'](_0x24b705,_0x35af31,bu);const _0x3e509c=['animationA'+'ssets','stateGraph','layers','masks'];Object['keys'](_0x35af31)['forEach'](_0x2899f5=>{_0x3e509c['includes'](_0x2899f5)||(_0x24b705[_0x2899f5]=_0x35af31[_0x2899f5]);}),_0x35af31['stateGraph']&&(_0x24b705['stateGraph']=_0x35af31['stateGraph'],_0x24b705['loadStateG'+'raph'](_0x24b705['stateGraph'])),_0x35af31['layers']&&_0x35af31['layers']['forEach']((_0x266b6f,_0x1fe5f8)=>{_0x266b6f['_controlle'+'r']['states']['forEach'](_0x2fa329=>{_0x266b6f['_controlle'+'r']['_states'][_0x2fa329]['_animation'+'List']['forEach'](_0x154927=>{if(!_0x154927['animTrack']||_0x154927['animTrack']===Qi['EMPTY']){const _0x15aae4=this['app']['assets']['get'](_0x266b6f['_component']['_animation'+'Assets'][_0x266b6f['name']+':'+_0x154927['name']]['asset']);_0x15aae4&&!_0x15aae4['loaded']&&_0x15aae4['once']('load',()=>{_0x24b705['layers'][_0x1fe5f8]['assignAnim'+'ation'](_0x154927['name'],_0x15aae4['resource']);});}else _0x24b705['layers'][_0x1fe5f8]['assignAnim'+'ation'](_0x154927['name'],_0x154927['animTrack']);});});}),_0x35af31['animationA'+'ssets']&&(_0x24b705['animationA'+'ssets']=Object['assign'](_0x24b705['animationA'+'ssets'],_0x35af31['animationA'+'ssets'])),_0x35af31['masks']&&Object['keys'](_0x35af31['masks'])['forEach'](_0x5409b7=>{if(_0x24b705['layers'][_0x5409b7]){const _0x95f481=_0x35af31['masks'][_0x5409b7]['mask'],_0x5c474b={};Object['keys'](_0x95f481)['forEach'](_0x566db6=>{_0x5c474b[decodeURI(_0x566db6)]=_0x95f481[_0x566db6];}),_0x24b705['layers'][_0x5409b7]['mask']=_0x5c474b;}});}['onAnimatio'+'nUpdate'](_0x33c9d0){const _0x5bc41c=this['store'];for(const _0x571229 in _0x5bc41c)if(_0x5bc41c['hasOwnProp'+'erty'](_0x571229)){const _0x5f408b=_0x5bc41c[_0x571229]['entity']['anim'];_0x5f408b['data']['enabled']&&_0x5f408b['entity']['enabled']&&_0x5f408b['playing']&&_0x5f408b['update'](_0x33c9d0);}}['cloneCompo'+'nent'](_0x15423b,_0x594c03){let _0x1839c7;(!_0x15423b['anim']['rootBone']||_0x15423b['anim']['rootBone']===_0x15423b)&&(_0x1839c7={},_0x15423b['anim']['layers']['forEach']((_0x3663bd,_0x5cf2c1)=>{if(_0x3663bd['mask']){const _0x4f21f1={};Object['keys'](_0x3663bd['mask'])['forEach'](_0xa9c1e5=>{const _0x2ab0c1=_0xa9c1e5['split']('/');_0x2ab0c1['shift']();const _0x11ba13=[_0x594c03['name'],..._0x2ab0c1]['join']('/');_0x4f21f1[_0x11ba13]=_0x3663bd['mask'][_0xa9c1e5];}),_0x1839c7[_0x5cf2c1]={'mask':_0x4f21f1};}}));const _0x49ea75={'enabled':_0x15423b['anim']['enabled'],'stateGraphAsset':_0x15423b['anim']['stateGraph'+'Asset'],'animationAssets':_0x15423b['anim']['animationA'+'ssets'],'speed':_0x15423b['anim']['speed'],'activate':_0x15423b['anim']['activate'],'playing':_0x15423b['anim']['playing'],'rootBone':_0x15423b['anim']['rootBone'],'stateGraph':_0x15423b['anim']['stateGraph'],'layers':_0x15423b['anim']['layers'],'layerIndices':_0x15423b['anim']['layerIndic'+'es'],'parameters':_0x15423b['anim']['parameters'],'normalizeWeights':_0x15423b['anim']['normalizeW'+'eights'],'masks':_0x1839c7};return this['addCompone'+'nt'](_0x594c03,_0x49ea75);}['onBeforeRe'+'move'](_0x42a4cb,_0x24d531){_0x24d531['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}}we['_buildAcce'+'ssors']($v['prototype'],bu);class Xv extends we{['setCurrent'+'Listener'](){if(this['enabled']&&this['entity']['audioliste'+'ner']&&this['entity']['enabled']){this['system']['current']=this['entity'];const _0x11fe8e=this['system']['current']['getPositio'+'n']();this['system']['manager']['listener']['setPositio'+'n'](_0x11fe8e);}}['onEnable'](){this['setCurrent'+'Listener']();}['onDisable'](){this['system']['current']===this['entity']&&(this['system']['current']=null);}}class zL{constructor(){this['enabled']=!(0x968+0x9d*0x3d+-0x2ed1);}}const qv=['enabled'];class VL extends ct{constructor(_0x2945ec){super(_0x2945ec),this['id']='audioliste'+'ner',this['ComponentT'+'ype']=Xv,this['DataType']=zL,this['schema']=qv,this['manager']=_0x2945ec['soundManag'+'er'],w['assert'](this['manager'],'AudioListe'+'nerCompone'+'ntSystem\x20c'+'annot\x20be\x20c'+'reated\x20wit'+'hout\x20sound'+'\x20manager'),this['current']=null,this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x4d745c,_0x3a9688,_0x3506dd){_0x3506dd=['enabled'],super['initialize'+'ComponentD'+'ata'](_0x4d745c,_0x3a9688,_0x3506dd);}['onUpdate'](_0xf56ad9){if(this['current']){const _0x3150d3=this['current']['getPositio'+'n']();this['manager']['listener']['setPositio'+'n'](_0x3150d3);const _0x205431=this['current']['getWorldTr'+'ansform']();this['manager']['listener']['setOrienta'+'tion'](_0x205431);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Xv['prototype'],qv);const Au=0x107d+0x11c*-0x1c+0xe93,Ng=0x27*-0xed+0x1e34+0x17a*0x4,eh='group',Cu='image',jv='text',th='stretch',GL='contain',HL='cover',ft={'DEFAULT':'DEFAULT','HOVER':'HOVER','PRESSED':'PRESSED','INACTIVE':'INACTIVE'},kl={};kl[ft['DEFAULT']]='_defaultTi'+'nt',kl[ft['HOVER']]='hoverTint',kl[ft['PRESSED']]='pressedTin'+'t',kl[ft['INACTIVE']]='inactiveTi'+'nt';const Ul={};Ul[ft['DEFAULT']]='_defaultSp'+'riteAsset',Ul[ft['HOVER']]='hoverSprit'+'eAsset',Ul[ft['PRESSED']]='pressedSpr'+'iteAsset',Ul[ft['INACTIVE']]='inactiveSp'+'riteAsset';const Bl={};Bl[ft['DEFAULT']]='_defaultSp'+'riteFrame',Bl[ft['HOVER']]='hoverSprit'+'eFrame',Bl[ft['PRESSED']]='pressedSpr'+'iteFrame',Bl[ft['INACTIVE']]='inactiveSp'+'riteFrame';class It extends we{constructor(_0x34985d,_0x1a2d1a){super(_0x34985d,_0x1a2d1a),h(this,'_visualSta'+'te',ft['DEFAULT']),h(this,'_isHoverin'+'g',!(0x2f*-0x27+0x3*0xef+0x45d)),h(this,'_hoveringC'+'ounter',0x6d*0x22+0x26af+0x1b7*-0x1f),h(this,'_isPressed',!(0x160*-0x5+0xb93+-0x4b2)),h(this,'_defaultTi'+'nt',new ie(-0x1710+0xa79+0xc98,-0x18e6+-0x3f5+-0x1cdc*-0x1,0x1efc+0x1733+-0xa*0x56b,-0xa3*0x3c+0x8a*-0x2+-0x2749*-0x1)),h(this,'_defaultSp'+'riteAsset',null),h(this,'_defaultSp'+'riteFrame',0x2*-0xb20+0x14a*0xa+0x95c),h(this,'_imageEnti'+'ty',null),h(this,'_evtElemen'+'tAdd',null),h(this,'_evtImageE'+'ntityEleme'+'ntAdd',null),h(this,'_evtImageE'+'ntityEleme'+'ntRemove',null),h(this,'_evtImageE'+'ntityEleme'+'ntColor',null),h(this,'_evtImageE'+'ntityEleme'+'ntOpacity',null),h(this,'_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set',null),h(this,'_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame',null),(this['_visualSta'+'te']=ft['DEFAULT'],this['_isHoverin'+'g']=!(-0x1b1c+-0x7b0+0x3b*0x97),this['_hoveringC'+'ounter']=0x216e+0x1710+-0x7*0x812,this['_isPressed']=!(-0x27*0x3a+-0x160c+0x1ee3),this['_defaultTi'+'nt']=new ie(-0x5*-0x53d+-0xc74+0x2*-0x6de,-0x1f04+-0x1*0x1e13+0x22*0x1cc,-0x2*-0x4d6+-0x2607+0x1c5c,-0x4*0x2ba+0x7*0x2a5+-0xe*0x8b),this['_defaultSp'+'riteAsset']=null,this['_defaultSp'+'riteFrame']=-0xeae+-0x1bc*0xf+0x28b2,this['_toggleLif'+'ecycleList'+'eners']('on',_0x34985d));}get['data'](){const _0x2b118b=this['system']['store'][this['entity']['getGuid']()];return _0x2b118b?_0x2b118b['data']:null;}set['enabled'](_0x10e15e){this['_setValue']('enabled',_0x10e15e);}get['enabled'](){return this['data']['enabled'];}set['active'](_0x3d3eec){this['_setValue']('active',_0x3d3eec);}get['active'](){return this['data']['active'];}set['imageEntit'+'y'](_0x225bf5){if(this['_imageEnti'+'ty']!==_0x225bf5){const _0x2fd15a=typeof _0x225bf5=='string';if(this['_imageEnti'+'ty']&&_0x2fd15a&&this['_imageEnti'+'ty']['getGuid']()===_0x225bf5)return;this['_imageEnti'+'ty']&&this['_imageEnti'+'tyUnsubscr'+'ibe'](),_0x225bf5 instanceof Ie?this['_imageEnti'+'ty']=_0x225bf5:_0x2fd15a?this['_imageEnti'+'ty']=this['system']['app']['getEntityF'+'romIndex'](_0x225bf5)||null:this['_imageEnti'+'ty']=null,this['_imageEnti'+'ty']&&this['_imageEnti'+'tySubscrib'+'e'](),this['_imageEnti'+'ty']?this['data']['imageEntit'+'y']=this['_imageEnti'+'ty']['getGuid']():_0x2fd15a&&_0x225bf5&&(this['data']['imageEntit'+'y']=_0x225bf5);}}get['imageEntit'+'y'](){return this['_imageEnti'+'ty'];}set['hitPadding'](_0xdfea3){this['_setValue']('hitPadding',_0xdfea3);}get['hitPadding'](){return this['data']['hitPadding'];}set['transition'+'Mode'](_0x243e72){this['_setValue']('transition'+'Mode',_0x243e72);}get['transition'+'Mode'](){return this['data']['transition'+'Mode'];}set['hoverTint'](_0xb6a3c6){this['_setValue']('hoverTint',_0xb6a3c6);}get['hoverTint'](){return this['data']['hoverTint'];}set['pressedTin'+'t'](_0x72fb51){this['_setValue']('pressedTin'+'t',_0x72fb51);}get['pressedTin'+'t'](){return this['data']['pressedTin'+'t'];}set['inactiveTi'+'nt'](_0x525655){this['_setValue']('inactiveTi'+'nt',_0x525655);}get['inactiveTi'+'nt'](){return this['data']['inactiveTi'+'nt'];}set['fadeDurati'+'on'](_0x156a39){this['_setValue']('fadeDurati'+'on',_0x156a39);}get['fadeDurati'+'on'](){return this['data']['fadeDurati'+'on'];}set['hoverSprit'+'eAsset'](_0x5cf07c){this['_setValue']('hoverSprit'+'eAsset',_0x5cf07c);}get['hoverSprit'+'eAsset'](){return this['data']['hoverSprit'+'eAsset'];}set['hoverSprit'+'eFrame'](_0x1bc9f7){this['_setValue']('hoverSprit'+'eFrame',_0x1bc9f7);}get['hoverSprit'+'eFrame'](){return this['data']['hoverSprit'+'eFrame'];}set['pressedSpr'+'iteAsset'](_0x50b7fe){this['_setValue']('pressedSpr'+'iteAsset',_0x50b7fe);}get['pressedSpr'+'iteAsset'](){return this['data']['pressedSpr'+'iteAsset'];}set['pressedSpr'+'iteFrame'](_0x281964){this['_setValue']('pressedSpr'+'iteFrame',_0x281964);}get['pressedSpr'+'iteFrame'](){return this['data']['pressedSpr'+'iteFrame'];}set['inactiveSp'+'riteAsset'](_0xec9c6d){this['_setValue']('inactiveSp'+'riteAsset',_0xec9c6d);}get['inactiveSp'+'riteAsset'](){return this['data']['inactiveSp'+'riteAsset'];}set['inactiveSp'+'riteFrame'](_0x6eecf){this['_setValue']('inactiveSp'+'riteFrame',_0x6eecf);}get['inactiveSp'+'riteFrame'](){return this['data']['inactiveSp'+'riteFrame'];}['_setValue'](_0x5e29dd,_0x147e63){const _0x3d9e58=this['data'],_0x5c8acb=_0x3d9e58[_0x5e29dd];_0x3d9e58[_0x5e29dd]=_0x147e63,this['fire']('set',_0x5e29dd,_0x5c8acb,_0x147e63);}['_toggleLif'+'ecycleList'+'eners'](_0x2d25a0,_0x7fd3d2){var _0x4f8461;this[_0x2d25a0]('set_active',this['_onSetActi'+'ve'],this),this[_0x2d25a0]('set_transi'+'tionMode',this['_onSetTran'+'sitionMode'],this),this[_0x2d25a0]('set_hoverT'+'int',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x2d25a0]('set_presse'+'dTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x2d25a0]('set_inacti'+'veTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x2d25a0]('set_hoverS'+'priteAsset',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x2d25a0]('set_hoverS'+'priteFrame',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x2d25a0]('set_presse'+'dSpriteAss'+'et',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x2d25a0]('set_presse'+'dSpriteFra'+'me',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x2d25a0]('set_inacti'+'veSpriteAs'+'set',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x2d25a0]('set_inacti'+'veSpriteFr'+'ame',this['_onSetTran'+'sitionValu'+'e'],this),_0x2d25a0==='on'?this['_evtElemen'+'tAdd']=this['entity']['on']('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this):((_0x4f8461=this['_evtElemen'+'tAdd'])==null||_0x4f8461['off'](),this['_evtElemen'+'tAdd']=null);}['_onSetActi'+'ve'](_0x264f96,_0x4f3af5,_0x53a347){_0x4f3af5!==_0x53a347&&this['_updateVis'+'ualState']();}['_onSetTran'+'sitionMode'](_0x476ce1,_0x2b388b,_0x5eeef5){_0x2b388b!==_0x5eeef5&&(this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](_0x2b388b),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetTran'+'sitionValu'+'e'](_0x3e1f78,_0x28050d,_0x3e87fb){_0x28050d!==_0x3e87fb&&this['_forceReap'+'plyVisualS'+'tate']();}['_imageEnti'+'tySubscrib'+'e'](){this['_evtImageE'+'ntityEleme'+'ntAdd']=this['_imageEnti'+'ty']['on']('element:ad'+'d',this['_onImageEl'+'ementGain'],this),this['_imageEnti'+'ty']['element']&&this['_onImageEl'+'ementGain']();}['_imageEnti'+'tyUnsubscr'+'ibe'](){var _0x5a7309,_0x27eb67;(_0x5a7309=this['_evtImageE'+'ntityEleme'+'ntAdd'])==null||_0x5a7309['off'](),this['_evtImageE'+'ntityEleme'+'ntAdd']=null,(_0x27eb67=this['_imageEnti'+'ty'])!=null&&_0x27eb67['element']&&this['_onImageEl'+'ementLose']();}['_imageEnti'+'tyElementS'+'ubscribe'](){const _0x4ea469=this['_imageEnti'+'ty']['element'];this['_evtImageE'+'ntityEleme'+'ntRemove']=_0x4ea469['once']('beforeremo'+'ve',this['_onImageEl'+'ementLose'],this),this['_evtImageE'+'ntityEleme'+'ntColor']=_0x4ea469['on']('set:color',this['_onSetColo'+'r'],this),this['_evtImageE'+'ntityEleme'+'ntOpacity']=_0x4ea469['on']('set:opacit'+'y',this['_onSetOpac'+'ity'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=_0x4ea469['on']('set:sprite'+'Asset',this['_onSetSpri'+'teAsset'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=_0x4ea469['on']('set:sprite'+'Frame',this['_onSetSpri'+'teFrame'],this);}['_imageEnti'+'tyElementU'+'nsubscribe'](){var _0x23a98f,_0x5ceb5f,_0x1e1d70,_0x26e872,_0x28a90c;(_0x23a98f=this['_evtImageE'+'ntityEleme'+'ntRemove'])==null||_0x23a98f['off'](),this['_evtImageE'+'ntityEleme'+'ntRemove']=null,(_0x5ceb5f=this['_evtImageE'+'ntityEleme'+'ntColor'])==null||_0x5ceb5f['off'](),this['_evtImageE'+'ntityEleme'+'ntColor']=null,(_0x1e1d70=this['_evtImageE'+'ntityEleme'+'ntOpacity'])==null||_0x1e1d70['off'](),this['_evtImageE'+'ntityEleme'+'ntOpacity']=null,(_0x26e872=this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set'])==null||_0x26e872['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=null,(_0x28a90c=this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame'])==null||_0x28a90c['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=null;}['_onElement'+'ComponentR'+'emove'](){this['_toggleHit'+'ElementLis'+'teners']('off');}['_onElement'+'ComponentA'+'dd'](){this['_toggleHit'+'ElementLis'+'teners']('on');}['_onImageEl'+'ementLose'](){this['_imageEnti'+'tyElementU'+'nsubscribe'](),this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['_onImageEl'+'ementGain'](){this['_imageEnti'+'tyElementS'+'ubscribe'](),this['_storeDefa'+'ultVisualS'+'tate'](),this['_forceReap'+'plyVisualS'+'tate']();}['_toggleHit'+'ElementLis'+'teners'](_0x4bdd1f){if(this['entity']['element']){const _0x4d4d3a=_0x4bdd1f==='on';if(_0x4d4d3a&&this['_hasHitEle'+'mentListen'+'ers'])return;this['entity']['element'][_0x4bdd1f]('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['entity']['element'][_0x4bdd1f]('mouseenter',this['_onMouseEn'+'ter'],this),this['entity']['element'][_0x4bdd1f]('mouseleave',this['_onMouseLe'+'ave'],this),this['entity']['element'][_0x4bdd1f]('mousedown',this['_onMouseDo'+'wn'],this),this['entity']['element'][_0x4bdd1f]('mouseup',this['_onMouseUp'],this),this['entity']['element'][_0x4bdd1f]('touchstart',this['_onTouchSt'+'art'],this),this['entity']['element'][_0x4bdd1f]('touchend',this['_onTouchEn'+'d'],this),this['entity']['element'][_0x4bdd1f]('touchleave',this['_onTouchLe'+'ave'],this),this['entity']['element'][_0x4bdd1f]('touchcance'+'l',this['_onTouchCa'+'ncel'],this),this['entity']['element'][_0x4bdd1f]('selectstar'+'t',this['_onSelectS'+'tart'],this),this['entity']['element'][_0x4bdd1f]('selectend',this['_onSelectE'+'nd'],this),this['entity']['element'][_0x4bdd1f]('selectente'+'r',this['_onSelectE'+'nter'],this),this['entity']['element'][_0x4bdd1f]('selectleav'+'e',this['_onSelectL'+'eave'],this),this['entity']['element'][_0x4bdd1f]('click',this['_onClick'],this),this['_hasHitEle'+'mentListen'+'ers']=_0x4d4d3a;}}['_storeDefa'+'ultVisualS'+'tate'](){var _0x35ba38;const _0x3b3e4d=(_0x35ba38=this['_imageEnti'+'ty'])==null?void(0x1717+-0x13*-0x1a3+0x18*-0x242):_0x35ba38['element'];!_0x3b3e4d||_0x3b3e4d['type']===eh||(this['_storeDefa'+'ultColor'](_0x3b3e4d['color']),this['_storeDefa'+'ultOpacity'](_0x3b3e4d['opacity']),this['_storeDefa'+'ultSpriteA'+'sset'](_0x3b3e4d['spriteAsse'+'t']),this['_storeDefa'+'ultSpriteF'+'rame'](_0x3b3e4d['spriteFram'+'e']));}['_storeDefa'+'ultColor'](_0x5c8105){this['_defaultTi'+'nt']['r']=_0x5c8105['r'],this['_defaultTi'+'nt']['g']=_0x5c8105['g'],this['_defaultTi'+'nt']['b']=_0x5c8105['b'];}['_storeDefa'+'ultOpacity'](_0x482825){this['_defaultTi'+'nt']['a']=_0x482825;}['_storeDefa'+'ultSpriteA'+'sset'](_0x24f63a){this['_defaultSp'+'riteAsset']=_0x24f63a;}['_storeDefa'+'ultSpriteF'+'rame'](_0x533d77){this['_defaultSp'+'riteFrame']=_0x533d77;}['_onSetColo'+'r'](_0x297528){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultColor'](_0x297528),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetOpac'+'ity'](_0x48bba1){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultOpacity'](_0x48bba1),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teAsset'](_0x258e1b){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteA'+'sset'](_0x258e1b),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teFrame'](_0x49b252){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteF'+'rame'](_0x49b252),this['_forceReap'+'plyVisualS'+'tate']());}['_onMouseEn'+'ter'](_0x3bf830){this['_isHoverin'+'g']=!(-0xd97*-0x1+-0x6aa+-0x9*0xc5),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseenter',_0x3bf830);}['_onMouseLe'+'ave'](_0x7717cc){this['_isHoverin'+'g']=!(0xa9*0x1a+0x48f*-0x5+-0x5a2*-0x1),this['_isPressed']=!(0x12b*0x1d+-0x2*0xcc1+0xd6*-0xa),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseleave',_0x7717cc);}['_onMouseDo'+'wn'](_0x268eb5){this['_isPressed']=!(-0x1087+-0x1*-0x2ba+0xdcd),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mousedown',_0x268eb5);}['_onMouseUp'](_0xb02bdb){this['_isPressed']=!(0x1f+0x757+0x775*-0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseup',_0xb02bdb);}['_onTouchSt'+'art'](_0x406279){this['_isPressed']=!(0x10a2+0x673+-0x137*0x13),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchstart',_0x406279);}['_onTouchEn'+'d'](_0x1bda13){_0x1bda13['event']['preventDef'+'ault'](),this['_isPressed']=!(-0x1f2e+-0x1*-0x25b1+0x77*-0xe),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchend',_0x1bda13);}['_onTouchLe'+'ave'](_0x4d3f2e){this['_isPressed']=!(0x62b+0x25ae+0x1e8*-0x17),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchleave',_0x4d3f2e);}['_onTouchCa'+'ncel'](_0x98df39){this['_isPressed']=!(0x1*0x1eaf+-0x1365+-0xb49),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchcance'+'l',_0x98df39);}['_onSelectS'+'tart'](_0x2c95d1){this['_isPressed']=!(0x1966+-0x165d+-0x7*0x6f),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectstar'+'t',_0x2c95d1);}['_onSelectE'+'nd'](_0x237b02){this['_isPressed']=!(0x55a+0x131b+-0x1874),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectend',_0x237b02);}['_onSelectE'+'nter'](_0x4aaaaa){this['_hoveringC'+'ounter']++,this['_hoveringC'+'ounter']===-0x107e+-0x115f+0x21de&&(this['_isHoverin'+'g']=!(-0x4f9*0x1+-0xf6*0x9+0xd9f),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectente'+'r',_0x4aaaaa);}['_onSelectL'+'eave'](_0x3f1410){this['_hoveringC'+'ounter']--,this['_hoveringC'+'ounter']===0x7ff+0x1*-0x8b+-0x774&&(this['_isHoverin'+'g']=!(0x807+-0xca7+-0xf*-0x4f),this['_isPressed']=!(0x1ab5*-0x1+0x2*-0xae4+0x6*0x815),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectleav'+'e',_0x3f1410);}['_onClick'](_0x106bc5){this['_fireIfAct'+'ive']('click',_0x106bc5);}['_fireIfAct'+'ive'](_0x42ead7,_0xe2ccb3){this['data']['active']&&this['fire'](_0x42ead7,_0xe2ccb3);}['_updateVis'+'ualState'](_0x57ac66){const _0x5272d5=this['_visualSta'+'te'],_0x47efa6=this['_determine'+'VisualStat'+'e']();if((_0x5272d5!==_0x47efa6||_0x57ac66)&&this['enabled'])switch(this['_visualSta'+'te']=_0x47efa6,_0x5272d5===ft['HOVER']&&this['_fireIfAct'+'ive']('hoverend'),_0x5272d5===ft['PRESSED']&&this['_fireIfAct'+'ive']('pressedend'),_0x47efa6===ft['HOVER']&&this['_fireIfAct'+'ive']('hoverstart'),_0x47efa6===ft['PRESSED']&&this['_fireIfAct'+'ive']('pressedsta'+'rt'),this['transition'+'Mode']){case Au:{const _0x14dc48=kl[this['_visualSta'+'te']],_0x55b51e=this[_0x14dc48];this['_applyTint'](_0x55b51e);break;}case Ng:{const _0x59f002=Ul[this['_visualSta'+'te']],_0x586dd7=Bl[this['_visualSta'+'te']],_0xf4519b=this[_0x59f002],_0x27d5de=this[_0x586dd7];this['_applySpri'+'te'](_0xf4519b,_0x27d5de);break;}}}['_forceReap'+'plyVisualS'+'tate'](){this['_updateVis'+'ualState'](!(0x7c9*0x3+0x1277+0x35*-0xca));}['_resetToDe'+'faultVisua'+'lState'](_0x147fae){var _0x1413b3;if((_0x1413b3=this['_imageEnti'+'ty'])!=null&&_0x1413b3['element'])switch(_0x147fae){case Au:this['_cancelTwe'+'en'](),this['_applyTint'+'Immediatel'+'y'](this['_defaultTi'+'nt']);break;case Ng:this['_applySpri'+'te'](this['_defaultSp'+'riteAsset'],this['_defaultSp'+'riteFrame']);break;}}['_determine'+'VisualStat'+'e'](){if(this['active']){if(this['_isPressed'])return ft['PRESSED'];if(this['_isHoverin'+'g'])return ft['HOVER'];}else return ft['INACTIVE'];return ft['DEFAULT'];}['_applySpri'+'te'](_0x3ea53e,_0x35e648){var _0x495202;const _0x2108ae=(_0x495202=this['_imageEnti'+'ty'])==null?void(0xa05*0x1+-0x1f21+0x151c):_0x495202['element'];_0x2108ae&&(_0x35e648=_0x35e648||-0x1733+-0x27b*-0xb+-0x416,this['_isApplyin'+'gSprite']=!(-0x1*-0x2359+-0x178e+-0xbcb),_0x2108ae['spriteAsse'+'t']!==_0x3ea53e&&(_0x2108ae['spriteAsse'+'t']=_0x3ea53e),_0x2108ae['spriteFram'+'e']!==_0x35e648&&(_0x2108ae['spriteFram'+'e']=_0x35e648),this['_isApplyin'+'gSprite']=!(-0x1*0x2551+0x3*-0x54c+0xe*0x3cd));}['_applyTint'](_0x98de12){this['_cancelTwe'+'en'](),this['fadeDurati'+'on']===0x21b2+-0x2*-0x10d2+-0x4356?this['_applyTint'+'Immediatel'+'y'](_0x98de12):this['_applyTint'+'WithTween'](_0x98de12);}['_applyTint'+'Immediatel'+'y'](_0x27aabd){var _0x23edb6;const _0x11fc16=(_0x23edb6=this['_imageEnti'+'ty'])==null?void(-0xa3e+-0x1a23+0x2461):_0x23edb6['element'];if(!_0x27aabd||!_0x11fc16||_0x11fc16['type']===eh)return;const _0xafa63a=kg(_0x27aabd);this['_isApplyin'+'gTint']=!(0x13*-0x139+0x314+0x1*0x1427),_0xafa63a['equals'](_0x11fc16['color'])||(_0x11fc16['color']=_0xafa63a),_0x11fc16['opacity']!==_0x27aabd['a']&&(_0x11fc16['opacity']=_0x27aabd['a']),this['_isApplyin'+'gTint']=!(0x5ad*-0x1+0x20f2+-0x15d*0x14);}['_applyTint'+'WithTween'](_0x25f242){var _0x185551;const _0x19c60c=(_0x185551=this['_imageEnti'+'ty'])==null?void(0x2390+0x1556+-0x38e6):_0x185551['element'];if(!_0x25f242||!_0x19c60c||_0x19c60c['type']===eh)return;const _0x155ebe=kg(_0x25f242),_0x588516=_0x19c60c['color'],_0x5d06bf=_0x19c60c['opacity'];_0x155ebe['equals'](_0x588516)&&_0x25f242['a']===_0x5d06bf||(this['_tweenInfo']={'startTime':de(),'from':new ie(_0x588516['r'],_0x588516['g'],_0x588516['b'],_0x5d06bf),'to':_0x25f242['clone'](),'lerpColor':new ie()});}['_updateTin'+'tTween'](){const _0x109342=de()-this['_tweenInfo']['startTime'];let _0x52bea1=this['fadeDurati'+'on']===0xb63*0x3+0x3b*0xa2+0x1*-0x477f?-0x1*0x1bec+0x3*0x2f6+0x130b:_0x109342/this['fadeDurati'+'on'];if(_0x52bea1=Y['clamp'](_0x52bea1,0x8f9+-0x1ce6+0x13ed,-0x1*-0x10a5+0x19b4+0xa96*-0x4),Math['abs'](_0x52bea1-(-0x13*-0x159+-0x144b+0x3*-0x1c5))>-0x97d+0xf3e+-0x5c1*0x1+0.00001){const _0x3af6a5=this['_tweenInfo']['lerpColor'];_0x3af6a5['lerp'](this['_tweenInfo']['from'],this['_tweenInfo']['to'],_0x52bea1),this['_applyTint'+'Immediatel'+'y'](new ie(_0x3af6a5['r'],_0x3af6a5['g'],_0x3af6a5['b'],_0x3af6a5['a']));}else this['_applyTint'+'Immediatel'+'y'](this['_tweenInfo']['to']),this['_cancelTwe'+'en']();}['_cancelTwe'+'en'](){delete this['_tweenInfo'];}['onUpdate'](){this['_tweenInfo']&&this['_updateTin'+'tTween']();}['onEnable'](){this['_isHoverin'+'g']=!(-0x1f2e*0x1+-0xa7e+0x2f*0xe3),this['_hoveringC'+'ounter']=0x15*-0x1+-0x1*0x26ab+-0xa*-0x3e0,this['_isPressed']=!(-0x6*-0x3bf+-0x21*-0xb7+-0x2e10),this['_toggleHit'+'ElementLis'+'teners']('on'),this['_forceReap'+'plyVisualS'+'tate']();}['onDisable'](){this['_toggleHit'+'ElementLis'+'teners']('off'),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['onRemove'](){this['_imageEnti'+'tyUnsubscr'+'ibe'](),this['_toggleLif'+'ecycleList'+'eners']('off',this['system']),this['onDisable']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x387774,_0x192eee){_0x387774['imageEntit'+'y']&&(this['imageEntit'+'y']=_0x192eee[_0x387774['imageEntit'+'y']['getGuid']()]);}}h(It,'EVENT_MOUS'+'EDOWN','mousedown'),h(It,'EVENT_MOUS'+'EUP','mouseup'),h(It,'EVENT_MOUS'+'EENTER','mouseenter'),h(It,'EVENT_MOUS'+'ELEAVE','mouseleave'),h(It,'EVENT_CLIC'+'K','click'),h(It,'EVENT_TOUC'+'HSTART','touchstart'),h(It,'EVENT_TOUC'+'HEND','touchend'),h(It,'EVENT_TOUC'+'HCANCEL','touchcance'+'l'),h(It,'EVENT_TOUC'+'HLEAVE','touchleave'),h(It,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(It,'EVENT_SELE'+'CTEND','selectend'),h(It,'EVENT_SELE'+'CTENTER','selectente'+'r'),h(It,'EVENT_SELE'+'CTLEAVE','selectleav'+'e'),h(It,'EVENT_HOVE'+'RSTART','hoverstart'),h(It,'EVENT_HOVE'+'REND','hoverend'),h(It,'EVENT_PRES'+'SEDSTART','pressedsta'+'rt'),h(It,'EVENT_PRES'+'SEDEND','pressedend');function kg(_0x3e907e){return new ie(_0x3e907e['r'],_0x3e907e['g'],_0x3e907e['b']);}class WL{constructor(){this['enabled']=!(-0x1*-0x1395+0xd9+-0x146e),this['active']=!(-0x77*0x37+-0x1dbc+0x79*0x75),this['imageEntit'+'y']=null,this['hitPadding']=new re(),this['transition'+'Mode']=Au,this['hoverTint']=new ie(0x15d9+0x74e+-0x1d27+0.75,-0x1*-0x673+-0xf5e+0x8eb+0.75,0xf6*-0x10+0xb64*-0x2+-0x1*-0x2628+0.75),this['pressedTin'+'t']=new ie(0x7b+-0x295*-0x1+-0x310+0.5,-0xb*-0x15b+0x10*0x8e+-0x17c9+0.5,-0x1b21+-0x1ea3+0x39c4*0x1+0.5),this['inactiveTi'+'nt']=new ie(0x179b+0xa4*0x25+0x3*-0xfc5+0.25,0x26bb+-0x198+-0x2523+0.25,0x4a3+0x35b*-0x2+0x213+0.25),this['fadeDurati'+'on']=0x1bd8+0xb50+-0x2728,this['hoverSprit'+'eAsset']=null,this['hoverSprit'+'eFrame']=0x2e*-0xbd+0x25f*0xa+0xa40,this['pressedSpr'+'iteAsset']=null,this['pressedSpr'+'iteFrame']=0xc01*-0x2+0x71*0x16+0xe4c,this['inactiveSp'+'riteAsset']=null,this['inactiveSp'+'riteFrame']=0x21*0x4b+-0x259f*0x1+0x1*0x1bf4;}}const Ug=['enabled','active',{'name':'hitPadding','type':'vec4'},'transition'+'Mode',{'name':'hoverTint','type':'rgba'},{'name':'pressedTin'+'t','type':'rgba'},{'name':'inactiveTi'+'nt','type':'rgba'},'fadeDurati'+'on','hoverSprit'+'eAsset','hoverSprit'+'eFrame','pressedSpr'+'iteAsset','pressedSpr'+'iteFrame','inactiveSp'+'riteAsset','inactiveSp'+'riteFrame'];class $L extends ct{constructor(_0x51cadb){super(_0x51cadb),this['id']='button',this['ComponentT'+'ype']=It,this['DataType']=WL,this['schema']=Ug,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x507d36,_0x2a6ddb,_0x453980){_0x507d36['imageEntit'+'y']=_0x2a6ddb['imageEntit'+'y'],super['initialize'+'ComponentD'+'ata'](_0x507d36,_0x2a6ddb,Ug);}['onUpdate'](_0x51226d){const _0x5e8596=this['store'];for(const _0x403a14 in _0x5e8596){const _0x45e61f=_0x5e8596[_0x403a14]['entity'],_0x552b7a=_0x45e61f['button'];_0x552b7a['enabled']&&_0x45e61f['enabled']&&_0x552b7a['onUpdate']();}}['_onRemoveC'+'omponent'](_0x328671,_0x1c8440){_0x1c8440['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}const Bg=new D(),zg=new le();class rn extends we{constructor(_0xb4ef58,_0x5c9c21){super(_0xb4ef58,_0x5c9c21),h(this,'_compoundP'+'arent',null),h(this,'_hasOffset',!(0x188a+-0x4c*0x78+-0x11*-0xa7)),(this['entity']['on']('insert',this['_onInsert'],this),this['on']('set_type',this['onSetType'],this),this['on']('set_convex'+'Hull',this['onSetModel'],this),this['on']('set_halfEx'+'tents',this['onSetHalfE'+'xtents'],this),this['on']('set_linear'+'Offset',this['onSetOffse'+'t'],this),this['on']('set_angula'+'rOffset',this['onSetOffse'+'t'],this),this['on']('set_radius',this['onSetRadiu'+'s'],this),this['on']('set_height',this['onSetHeigh'+'t'],this),this['on']('set_axis',this['onSetAxis'],this),this['on']('set_asset',this['onSetAsset'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_model',this['onSetModel'],this),this['on']('set_render',this['onSetRende'+'r'],this));}get['data'](){const _0x48390e=this['system']['store'][this['entity']['getGuid']()];return _0x48390e?_0x48390e['data']:null;}set['enabled'](_0x3b49a9){this['_setValue']('enabled',_0x3b49a9);}get['enabled'](){return this['data']['enabled'];}set['type'](_0x321db6){this['_setValue']('type',_0x321db6);}get['type'](){return this['data']['type'];}set['halfExtent'+'s'](_0x5b4ecb){this['_setValue']('halfExtent'+'s',_0x5b4ecb);}get['halfExtent'+'s'](){return this['data']['halfExtent'+'s'];}set['linearOffs'+'et'](_0x5922bc){this['_setValue']('linearOffs'+'et',_0x5922bc);}get['linearOffs'+'et'](){return this['data']['linearOffs'+'et'];}set['angularOff'+'set'](_0x56a3d6){this['_setValue']('angularOff'+'set',_0x56a3d6);}get['angularOff'+'set'](){return this['data']['angularOff'+'set'];}set['radius'](_0x21a062){this['_setValue']('radius',_0x21a062);}get['radius'](){return this['data']['radius'];}set['axis'](_0x54f64d){this['_setValue']('axis',_0x54f64d);}get['axis'](){return this['data']['axis'];}set['height'](_0x39c747){this['_setValue']('height',_0x39c747);}get['height'](){return this['data']['height'];}set['asset'](_0x10f39b){this['_setValue']('asset',_0x10f39b);}get['asset'](){return this['data']['asset'];}set['renderAsse'+'t'](_0x513f8b){this['_setValue']('renderAsse'+'t',_0x513f8b);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['convexHull'](_0x5887b4){this['_setValue']('convexHull',_0x5887b4);}get['convexHull'](){return this['data']['convexHull'];}set['shape'](_0x54321c){this['_setValue']('shape',_0x54321c);}get['shape'](){return this['data']['shape'];}set['model'](_0xd7648c){this['_setValue']('model',_0xd7648c);}get['model'](){return this['data']['model'];}set['render'](_0x184b40){this['_setValue']('render',_0x184b40);}get['render'](){return this['data']['render'];}set['checkVerte'+'xDuplicate'+'s'](_0xb9aa3b){this['_setValue']('checkVerte'+'xDuplicate'+'s',_0xb9aa3b);}get['checkVerte'+'xDuplicate'+'s'](){return this['data']['checkVerte'+'xDuplicate'+'s'];}['_setValue'](_0x5b0015,_0x4fc7bb){const _0xc75627=this['data'],_0x481a81=_0xc75627[_0x5b0015];_0xc75627[_0x5b0015]=_0x4fc7bb,this['fire']('set',_0x5b0015,_0x481a81,_0x4fc7bb);}['onSetType'](_0x320fac,_0x4648c5,_0x4bbe35){_0x4648c5!==_0x4bbe35&&this['system']['changeType'](this,_0x4648c5,_0x4bbe35);}['onSetHalfE'+'xtents'](_0x2c5e3a,_0x3b7480,_0x560e4d){const _0xb9cd79=this['data']['type'];this['data']['initialize'+'d']&&_0xb9cd79==='box'&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetOffse'+'t'](_0x1b73b8,_0x266e34,_0x3d402e){this['_hasOffset']=!this['data']['linearOffs'+'et']['equals'](D['ZERO'])||!this['data']['angularOff'+'set']['equals'](le['IDENTITY']),this['data']['initialize'+'d']&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetRadiu'+'s'](_0x4a82d6,_0x30ce30,_0xa9b211){const _0x354571=this['data']['type'];this['data']['initialize'+'d']&&(_0x354571==='sphere'||_0x354571==='capsule'||_0x354571==='cylinder'||_0x354571==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetHeigh'+'t'](_0x5cf400,_0x3bd51d,_0x44318e){const _0x51938e=this['data']['type'];this['data']['initialize'+'d']&&(_0x51938e==='capsule'||_0x51938e==='cylinder'||_0x51938e==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAxis'](_0x4d32b6,_0x504a47,_0x53adc1){const _0x33b0de=this['data']['type'];this['data']['initialize'+'d']&&(_0x33b0de==='capsule'||_0x33b0de==='cylinder'||_0x33b0de==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAsset'](_0x32847f,_0x255f9c,_0x2c6ef0){const _0x36d69b=this['system']['app']['assets'];if(_0x255f9c){const _0x3fe20d=_0x36d69b['get'](_0x255f9c);_0x3fe20d&&_0x3fe20d['off']('remove',this['onAssetRem'+'oved'],this);}if(_0x2c6ef0){_0x2c6ef0 instanceof pe&&(this['data']['asset']=_0x2c6ef0['id']);const _0x38ef3d=_0x36d69b['get'](this['data']['asset']);_0x38ef3d&&(_0x38ef3d['off']('remove',this['onAssetRem'+'oved'],this),_0x38ef3d['on']('remove',this['onAssetRem'+'oved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x2c6ef0||(this['data']['model']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetRende'+'rAsset'](_0x2f0e09,_0x2e5e55,_0x30205e){const _0xda5733=this['system']['app']['assets'];if(_0x2e5e55){const _0x3e112f=_0xda5733['get'](_0x2e5e55);_0x3e112f&&_0x3e112f['off']('remove',this['onRenderAs'+'setRemoved'],this);}if(_0x30205e){_0x30205e instanceof pe&&(this['data']['renderAsse'+'t']=_0x30205e['id']);const _0xbe8904=_0xda5733['get'](this['data']['renderAsse'+'t']);_0xbe8904&&(_0xbe8904['off']('remove',this['onRenderAs'+'setRemoved'],this),_0xbe8904['on']('remove',this['onRenderAs'+'setRemoved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x30205e||(this['data']['render']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetModel'](_0x1f7d1c,_0x534db9,_0x1bf70f){this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&this['system']['implementa'+'tions']['mesh']['doRecreate'+'PhysicalSh'+'ape'](this);}['onSetRende'+'r'](_0x5d9672,_0x3f32f0,_0x1f206e){this['onSetModel'](_0x5d9672,_0x3f32f0,_0x1f206e);}['onAssetRem'+'oved'](_0x5cda8b){_0x5cda8b['off']('remove',this['onAssetRem'+'oved'],this),this['data']['asset']===_0x5cda8b['id']&&(this['asset']=null);}['onRenderAs'+'setRemoved'](_0x139bcd){_0x139bcd['off']('remove',this['onRenderAs'+'setRemoved'],this),this['data']['renderAsse'+'t']===_0x139bcd['id']&&(this['renderAsse'+'t']=null);}['getCompoun'+'dChildShap'+'eIndex'](_0xc59a2b){const _0x1ef4d3=this['data']['shape'],_0x2edacc=_0x1ef4d3['getNumChil'+'dShapes']();for(let _0x3a6dcb=0x5f8+0x581*0x7+-0x2c7f;_0x3a6dcb<_0x2edacc;_0x3a6dcb++){const _0x29443c=_0x1ef4d3['getChildSh'+'ape'](_0x3a6dcb);if(Ammo['getPointer'](_0x29443c)===Ammo['getPointer'](_0xc59a2b))return _0x3a6dcb;}return null;}['_onInsert'](_0x29bd72){if(!(typeof Ammo>'u')){if(this['_compoundP'+'arent'])this['system']['recreatePh'+'ysicalShap'+'es'](this);else{if(!this['entity']['rigidbody']){let _0x5b5c33=this['entity']['parent'];for(;_0x5b5c33;){if(_0x5b5c33['collision']&&_0x5b5c33['collision']['type']==='compound'){_0x5b5c33['collision']['shape']['getNumChil'+'dShapes']()===-0x1*-0x525+-0xb*0x209+-0x113e*-0x1?this['system']['recreatePh'+'ysicalShap'+'es'](_0x5b5c33['collision']):this['system']['recreatePh'+'ysicalShap'+'es'](this);break;}_0x5b5c33=_0x5b5c33['parent'];}}}}}['_updateCom'+'pound'](){const _0x577e63=this['entity'];if(_0x577e63['_dirtyWorl'+'d']){let _0x1e6f3e=_0x577e63['_dirtyLoca'+'l'],_0x30bbca=_0x577e63;for(;_0x30bbca&&!_0x1e6f3e&&!(_0x30bbca['collision']&&_0x30bbca['collision']===this['_compoundP'+'arent']);)_0x30bbca['_dirtyLoca'+'l']&&(_0x1e6f3e=!(0x1*-0x11c3+0x1*0x23e2+-0x121f)),_0x30bbca=_0x30bbca['parent'];if(_0x1e6f3e){_0x577e63['forEach'](this['system']['implementa'+'tions']['compound']['_updateEac'+'hDescendan'+'tTransform'],_0x577e63);const _0x4f5f6a=this['_compoundP'+'arent']['entity']['rigidbody'];_0x4f5f6a&&_0x4f5f6a['activate']();}}}['getShapePo'+'sition'](){const _0x38b836=this['entity']['getPositio'+'n']();if(this['_hasOffset']){const _0x4c3d12=this['entity']['getRotatio'+'n'](),_0x2ea40b=this['data']['linearOffs'+'et'];return zg['copy'](_0x4c3d12)['transformV'+'ector'](_0x2ea40b,Bg),Bg['add'](_0x38b836);}return _0x38b836;}['getShapeRo'+'tation'](){const _0x1cc37d=this['entity']['getRotatio'+'n']();return this['_hasOffset']?zg['copy'](_0x1cc37d)['mul'](this['data']['angularOff'+'set']):_0x1cc37d;}['onEnable'](){if(this['data']['type']==='mesh'&&(this['data']['asset']||this['data']['renderAsse'+'t'])&&this['data']['initialize'+'d']){const _0x4ff08e=this['system']['app']['assets']['get'](this['data']['asset']||this['data']['renderAsse'+'t']);if(_0x4ff08e&&(!_0x4ff08e['resource']||!this['data']['shape'])){this['system']['recreatePh'+'ysicalShap'+'es'](this);return;}}if(this['entity']['rigidbody'])this['entity']['rigidbody']['enabled']&&this['entity']['rigidbody']['enableSimu'+'lation']();else{if(this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']){if(this['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0x1a72+0x13*-0x1c4+-0x9*-0xca)this['system']['recreatePh'+'ysicalShap'+'es'](this['_compoundP'+'arent']);else{const _0x7f6fd1=this['system']['_getNodeTr'+'ansform'](this['entity'],this['_compoundP'+'arent']['entity']);this['_compoundP'+'arent']['shape']['addChildSh'+'ape'](_0x7f6fd1,this['data']['shape']),Ammo['destroy'](_0x7f6fd1),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']();}}else this['entity']['trigger']&&this['entity']['trigger']['enable']();}}['onDisable'](){this['entity']['rigidbody']?this['entity']['rigidbody']['disableSim'+'ulation']():this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']?this['_compoundP'+'arent']['entity']['_destroyin'+'g']||(this['system']['_removeCom'+'poundChild'](this['_compoundP'+'arent'],this['data']['shape']),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']()):this['entity']['trigger']&&this['entity']['trigger']['disable']();}['onBeforeRe'+'move'](){this['asset']&&(this['asset']=null),this['renderAsse'+'t']&&(this['renderAsse'+'t']=null),this['entity']['off']('insert',this['_onInsert'],this),this['off']();}}h(rn,'EVENT_CONT'+'ACT','contact'),h(rn,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),h(rn,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),h(rn,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),h(rn,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve');class XL{constructor(){this['enabled']=!(-0x11c4+-0x2261+0x7*0x773),this['type']='box',this['halfExtent'+'s']=new D(0x602+0x9de+-0xfe0+0.5,0x2*-0x7df+0x1*-0x1c69+-0x59*-0x7f+0.5,-0x1091+-0x1*-0x383+0xd0e+0.5),this['linearOffs'+'et']=new D(),this['angularOff'+'set']=new le(),this['radius']=-0x3c*-0x26+-0x3ee*-0x4+0x18a*-0x10+0.5,this['axis']=-0x12f8+-0x105e+0x2357,this['height']=0x1f94+0x243*-0xb+-0x6b1,this['convexHull']=!(0x8d1+-0x344+-0x14*0x47),this['asset']=null,this['renderAsse'+'t']=null,this['checkVerte'+'xDuplicate'+'s']=!(0x1162+0x889+-0x52f*0x5),this['shape']=null,this['model']=null,this['render']=null,this['initialize'+'d']=!(0x1*-0x2697+-0x205b+-0x1bb*-0x29);}}const yo='static',ks='dynamic',Ha='kinematic',qL=-0x9*-0x39f+0x1295+0x6f*-0x76,Po=-0xfe1+0x153*-0x15+0x2bb4,Pu=0xe2*-0x26+-0x21b9+0x1*0x4346,Vg=0xea*0x1+-0x144*-0xe+-0x129e,Yv=-0x514+-0xca4*-0x3+-0x20d3,jL=-0x121e+0x1*-0x1ac1+0x167*0x20,Gg=0x1f88+-0x10f6+-0x4*0x3a4,YL=0x1548+-0x1fc7+-0x27*-0x45,Hg=0x7*0x1a+-0x2*0x10e5+0x4*0x849,Wg=-0xa551+-0x2*0x3051+0xfb2*0x21,Mu=0x6e74+0x1bb35+-0x129ac;let Us,zr,Wa;class Kv{constructor(_0x4447a9,_0x54eb96,_0x55d75f){this['entity']=_0x54eb96['entity'],this['component']=_0x54eb96,this['app']=_0x4447a9,typeof Ammo<'u'&&!Us&&(Us=new Ammo['btVector3'](),zr=new Ammo['btQuaterni'+'on'](),Wa=new Ammo['btTransfor'+'m']()),this['initialize'](_0x55d75f);}['initialize'](_0x46b89f){const _0x25bb5e=this['entity'],_0x2be282=_0x46b89f['shape'];if(_0x2be282&&typeof Ammo<'u'){_0x25bb5e['trigger']&&_0x25bb5e['trigger']['destroy']();const _0x45f2e5=-0x2528+0x20cb+0x22f*0x2,_0x4a90eb=this['component'];if(_0x4a90eb){const _0x2271b3=_0x4a90eb['getShapePo'+'sition'](),_0x56f97d=_0x4a90eb['getShapeRo'+'tation']();Us['setValue'](_0x2271b3['x'],_0x2271b3['y'],_0x2271b3['z']),zr['setValue'](_0x56f97d['x'],_0x56f97d['y'],_0x56f97d['z'],_0x56f97d['w']);}else{const _0x141366=_0x25bb5e['getPositio'+'n'](),_0x234624=_0x25bb5e['getRotatio'+'n']();Us['setValue'](_0x141366['x'],_0x141366['y'],_0x141366['z']),zr['setValue'](_0x234624['x'],_0x234624['y'],_0x234624['z'],_0x234624['w']);}Wa['setOrigin'](Us),Wa['setRotatio'+'n'](zr);const _0x9d225a=this['app']['systems']['rigidbody']['createBody'](_0x45f2e5,_0x2be282,Wa);_0x9d225a['setRestitu'+'tion'](-0x1ab1*-0x1+-0xd*0x13f+0x4f*-0x22),_0x9d225a['setFrictio'+'n'](-0x36d*0x5+0xe1*0x19+-0x4d8),_0x9d225a['setDamping'](-0x1*-0x703+0xf*-0x76+-0x19,-0x35*-0x31+0x25d8+-0x111*0x2d),Us['setValue'](-0x51*0x27+-0x16f5+-0x234c*-0x1,-0x1b4a+-0x2e*-0x65+0x1e*0x4e,-0x160e+0x474+-0x3*-0x5de),_0x9d225a['setLinearF'+'actor'](Us),_0x9d225a['setAngular'+'Factor'](Us),_0x9d225a['setCollisi'+'onFlags'](_0x9d225a['getCollisi'+'onFlags']()|Po),_0x9d225a['entity']=_0x25bb5e,this['body']=_0x9d225a,this['component']['enabled']&&_0x25bb5e['enabled']&&this['enable']();}}['destroy'](){this['body']&&(this['disable'](),this['app']['systems']['rigidbody']['destroyBod'+'y'](this['body']),this['body']=null);}['_getEntity'+'Transform'](_0x3daa0d){const _0xbc58c7=this['component'];if(_0xbc58c7){const _0x54edbd=_0xbc58c7['getShapePo'+'sition'](),_0x5372e8=_0xbc58c7['getShapeRo'+'tation']();Us['setValue'](_0x54edbd['x'],_0x54edbd['y'],_0x54edbd['z']),zr['setValue'](_0x5372e8['x'],_0x5372e8['y'],_0x5372e8['z'],_0x5372e8['w']);}else{const _0x135c2f=this['entity']['getPositio'+'n'](),_0x4c72e5=this['entity']['getRotatio'+'n']();Us['setValue'](_0x135c2f['x'],_0x135c2f['y'],_0x135c2f['z']),zr['setValue'](_0x4c72e5['x'],_0x4c72e5['y'],_0x4c72e5['z'],_0x4c72e5['w']);}_0x3daa0d['setOrigin'](Us),_0x3daa0d['setRotatio'+'n'](zr);}['updateTran'+'sform'](){this['_getEntity'+'Transform'](Wa);const _0x2afdb9=this['body'];_0x2afdb9['setWorldTr'+'ansform'](Wa),_0x2afdb9['activate']();}['enable'](){const _0x51f4d7=this['body'];if(!_0x51f4d7)return;const _0x5dca3e=this['app']['systems']['rigidbody'];_0x5dca3e['_triggers']['indexOf'](this)<-0xcbb+0x1e32+-0x1177&&(_0x5dca3e['addBody'](_0x51f4d7,Hg,Mu^Hg),_0x5dca3e['_triggers']['push'](this)),_0x51f4d7['forceActiv'+'ationState'](Pu),this['updateTran'+'sform']();}['disable'](){const _0x249407=this['body'];if(!_0x249407)return;const _0x3c05b0=this['app']['systems']['rigidbody'],_0x1f505c=_0x3c05b0['_triggers']['indexOf'](this);_0x1f505c>-(0x5*0x6b5+0x2232+-0x43ba*0x1)&&(_0x3c05b0['removeBody'](_0x249407),_0x3c05b0['_triggers']['splice'](_0x1f505c,0x49*-0x30+-0x13a6+0x2157)),_0x249407['forceActiv'+'ationState'](Yv);}}const wc=new te(),KL=new D(),ZL=new D(),Vr=new le(),$g=new Ie(),QL=['enabled','type','halfExtent'+'s','linearOffs'+'et','angularOff'+'set','radius','axis','height','convexHull','asset','renderAsse'+'t','shape','model','render','checkVerte'+'xDuplicate'+'s'];class Ca{constructor(_0x6f07a3){this['system']=_0x6f07a3;}['beforeInit'+'ialize'](_0x1216e3,_0x5b7e72){_0x5b7e72['shape']=null,_0x5b7e72['model']=new sr(),_0x5b7e72['model']['graph']=new Ie();}['afterIniti'+'alize'](_0x1d1206,_0x1acc10){this['recreatePh'+'ysicalShap'+'es'](_0x1d1206),_0x1d1206['data']['initialize'+'d']=!(0x1c61*-0x1+-0x259a+0x85*0x7f);}['reset'](_0x306463,_0x4107c3){this['beforeInit'+'ialize'](_0x306463,_0x4107c3),this['afterIniti'+'alize'](_0x306463,_0x4107c3);}['recreatePh'+'ysicalShap'+'es'](_0x44c542){const _0x258ba1=_0x44c542['entity'],_0x147088=_0x44c542['data'];if(typeof Ammo<'u'){_0x258ba1['trigger']&&(_0x258ba1['trigger']['destroy'](),delete _0x258ba1['trigger']),_0x147088['shape']&&(_0x44c542['_compoundP'+'arent']&&(_0x44c542!==_0x44c542['_compoundP'+'arent']&&this['system']['_removeCom'+'poundChild'](_0x44c542['_compoundP'+'arent'],_0x147088['shape']),_0x44c542['_compoundP'+'arent']['entity']['rigidbody']&&_0x44c542['_compoundP'+'arent']['entity']['rigidbody']['activate']()),this['destroySha'+'pe'](_0x147088)),_0x147088['shape']=this['createPhys'+'icalShape'](_0x44c542['entity'],_0x147088);const _0x10935f=!_0x44c542['_compoundP'+'arent'];if(_0x147088['type']==='compound'&&(!_0x44c542['_compoundP'+'arent']||_0x44c542===_0x44c542['_compoundP'+'arent']))_0x44c542['_compoundP'+'arent']=_0x44c542,_0x258ba1['forEach'](this['_addEachDe'+'scendant'],_0x44c542);else{if(_0x147088['type']!=='compound'&&!_0x44c542['rigidbody']){_0x44c542['_compoundP'+'arent']=null;let _0x12e958=_0x258ba1['parent'];for(;_0x12e958;){if(_0x12e958['collision']&&_0x12e958['collision']['type']==='compound'){_0x44c542['_compoundP'+'arent']=_0x12e958['collision'];break;}_0x12e958=_0x12e958['parent'];}}}_0x44c542['_compoundP'+'arent']&&_0x44c542!==_0x44c542['_compoundP'+'arent']&&(_0x10935f&&_0x44c542['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0x1e7e+0x1*-0xba1+-0x1b7*0xb?this['system']['recreatePh'+'ysicalShap'+'es'](_0x44c542['_compoundP'+'arent']):(this['system']['updateComp'+'oundChildT'+'ransform'](_0x258ba1,!(0x17d7+-0x1*-0x23ae+-0x3b85)),_0x44c542['_compoundP'+'arent']['entity']['rigidbody']&&_0x44c542['_compoundP'+'arent']['entity']['rigidbody']['activate']())),_0x258ba1['rigidbody']?(_0x258ba1['rigidbody']['disableSim'+'ulation'](),_0x258ba1['rigidbody']['createBody'](),_0x258ba1['enabled']&&_0x258ba1['rigidbody']['enabled']&&_0x258ba1['rigidbody']['enableSimu'+'lation']()):_0x44c542['_compoundP'+'arent']||(_0x258ba1['trigger']?_0x258ba1['trigger']['initialize'](_0x147088):_0x258ba1['trigger']=new Kv(this['system']['app'],_0x44c542,_0x147088));}}['createPhys'+'icalShape'](_0x214881,_0x4b65f5){}['updateTran'+'sform'](_0x102fda,_0x5bf8df,_0x1deb29,_0x2145dd){_0x102fda['entity']['trigger']&&_0x102fda['entity']['trigger']['updateTran'+'sform']();}['destroySha'+'pe'](_0x40fb09){_0x40fb09['shape']&&(Ammo['destroy'](_0x40fb09['shape']),_0x40fb09['shape']=null);}['beforeRemo'+'ve'](_0x36dd15,_0x25f6f7){_0x25f6f7['data']['shape']&&(_0x25f6f7['_compoundP'+'arent']&&!_0x25f6f7['_compoundP'+'arent']['entity']['_destroyin'+'g']&&(this['system']['_removeCom'+'poundChild'](_0x25f6f7['_compoundP'+'arent'],_0x25f6f7['data']['shape']),_0x25f6f7['_compoundP'+'arent']['entity']['rigidbody']&&_0x25f6f7['_compoundP'+'arent']['entity']['rigidbody']['activate']()),_0x25f6f7['_compoundP'+'arent']=null,this['destroySha'+'pe'](_0x25f6f7['data']));}['remove'](_0x25f9fd,_0x107622){_0x25f9fd['rigidbody']&&_0x25f9fd['rigidbody']['body']&&_0x25f9fd['rigidbody']['disableSim'+'ulation'](),_0x25f9fd['trigger']&&(_0x25f9fd['trigger']['destroy'](),delete _0x25f9fd['trigger']);}['clone'](_0x2298bd,_0x4bc0c7){const _0x5e83c6=this['system']['store'][_0x2298bd['getGuid']()],_0x49277c={'enabled':_0x5e83c6['data']['enabled'],'type':_0x5e83c6['data']['type'],'halfExtents':[_0x5e83c6['data']['halfExtent'+'s']['x'],_0x5e83c6['data']['halfExtent'+'s']['y'],_0x5e83c6['data']['halfExtent'+'s']['z']],'linearOffset':[_0x5e83c6['data']['linearOffs'+'et']['x'],_0x5e83c6['data']['linearOffs'+'et']['y'],_0x5e83c6['data']['linearOffs'+'et']['z']],'angularOffset':[_0x5e83c6['data']['angularOff'+'set']['x'],_0x5e83c6['data']['angularOff'+'set']['y'],_0x5e83c6['data']['angularOff'+'set']['z'],_0x5e83c6['data']['angularOff'+'set']['w']],'radius':_0x5e83c6['data']['radius'],'axis':_0x5e83c6['data']['axis'],'height':_0x5e83c6['data']['height'],'convexHull':_0x5e83c6['data']['convexHull'],'asset':_0x5e83c6['data']['asset'],'renderAsset':_0x5e83c6['data']['renderAsse'+'t'],'model':_0x5e83c6['data']['model'],'render':_0x5e83c6['data']['render'],'checkVertexDuplicates':_0x5e83c6['data']['checkVerte'+'xDuplicate'+'s']};return this['system']['addCompone'+'nt'](_0x4bc0c7,_0x49277c);}}class JL extends Ca{['createPhys'+'icalShape'](_0x193d5b,_0x5c82a2){if(typeof Ammo<'u'){const _0x337d6f=_0x5c82a2['halfExtent'+'s'],_0x20572f=new Ammo['btVector3'](_0x337d6f?_0x337d6f['x']:0x10ca+0x235+-0x3*0x655+0.5,_0x337d6f?_0x337d6f['y']:-0x1*-0x1fbb+0x7b*0x43+-0x3fec+0.5,_0x337d6f?_0x337d6f['z']:0x72e+-0xb9b*0x3+0x1ba3+0.5),_0x21461a=new Ammo['btBoxShape'](_0x20572f);return Ammo['destroy'](_0x20572f),_0x21461a;}}}class eR extends Ca{['createPhys'+'icalShape'](_0x2662a8,_0x2f745e){if(typeof Ammo<'u')return new Ammo['btSphereSh'+'ape'](_0x2f745e['radius']);}}class tR extends Ca{['createPhys'+'icalShape'](_0x2afb56,_0xac9e50){const _0x41cff0=_0xac9e50['axis']??0x24fb+0x1354+0x1c27*-0x2,_0x4ec60e=_0xac9e50['radius']??-0xd1e+0x13f3+-0x6d5+0.5,_0x3b3262=Math['max']((_0xac9e50['height']??-0x2543*-0x1+0x1*0x16c9+0xa*-0x601)-(-0x1dda+0x9*-0x3ed+0x4131)*_0x4ec60e,0x1d32+-0x134*0x3+-0xa*0x28f);let _0x1d6680=null;if(typeof Ammo<'u')switch(_0x41cff0){case 0x161b+0x67*0x7+0x5*-0x4fc:_0x1d6680=new Ammo['btCapsuleS'+'hapeX'](_0x4ec60e,_0x3b3262);break;case-0x8d*-0x7+-0x1a74*-0x1+-0x1e4e:_0x1d6680=new Ammo['btCapsuleS'+'hape'](_0x4ec60e,_0x3b3262);break;case-0x1315+0xac4+0x1*0x853:_0x1d6680=new Ammo['btCapsuleS'+'hapeZ'](_0x4ec60e,_0x3b3262);break;}return _0x1d6680;}}class sR extends Ca{['createPhys'+'icalShape'](_0x4a5cbf,_0x2b8834){const _0x54842d=_0x2b8834['axis']??-0x1*-0x455+0x1d96+-0x21ea,_0x1d6c80=_0x2b8834['radius']??0x1d77+-0xb*0x259+-0x3a4+0.5,_0x580660=_0x2b8834['height']??0x54a*-0x1+-0x219b*-0x1+-0x1c50;let _0x5847e8=null,_0xa7d135=null;if(typeof Ammo<'u')switch(_0x54842d){case 0xe1c+-0x8c5+-0x1*0x557:_0x5847e8=new Ammo['btVector3'](_0x580660*(0x1c63+-0xdd+-0x2*0xdc3+0.5),_0x1d6c80,_0x1d6c80),_0xa7d135=new Ammo['btCylinder'+'ShapeX'](_0x5847e8);break;case-0x393*0x7+0x239e+-0xa98:_0x5847e8=new Ammo['btVector3'](_0x1d6c80,_0x580660*(0x1ce9*-0x1+-0x1*-0x338+0x19b1*0x1+0.5),_0x1d6c80),_0xa7d135=new Ammo['btCylinder'+'Shape'](_0x5847e8);break;case 0xb64+0x2*-0x32d+-0x508:_0x5847e8=new Ammo['btVector3'](_0x1d6c80,_0x1d6c80,_0x580660*(-0x202a+-0x1*0xb0b+0x2b35+0.5)),_0xa7d135=new Ammo['btCylinder'+'ShapeZ'](_0x5847e8);break;}return _0x5847e8&&Ammo['destroy'](_0x5847e8),_0xa7d135;}}class iR extends Ca{['createPhys'+'icalShape'](_0x8ea41a,_0x21582b){const _0x4f8951=_0x21582b['axis']??-0xd*0xc1+-0x75*0x2+-0x188*-0x7,_0x420c2e=_0x21582b['radius']??-0x137b*-0x1+-0x3*0x8c5+0x6d4+0.5,_0xd91bef=_0x21582b['height']??0x1d2f+0x13f4+-0x3122;let _0x367f02=null;if(typeof Ammo<'u')switch(_0x4f8951){case-0x1f8e*-0x1+0x1*0x3b7+0x1*-0x2345:_0x367f02=new Ammo['btConeShap'+'eX'](_0x420c2e,_0xd91bef);break;case-0x1f87+0x5*0x39a+0xd86:_0x367f02=new Ammo['btConeShap'+'e'](_0x420c2e,_0xd91bef);break;case 0x2*0x1dd+0x5*0x59+0x575*-0x1:_0x367f02=new Ammo['btConeShap'+'eZ'](_0x420c2e,_0xd91bef);break;}return _0x367f02;}}class rR extends Ca{['beforeInit'+'ialize'](_0x21386e,_0x53923b){}['createAmmo'+'Hull'](_0xc18206,_0x1dc8ca,_0x3b0ece,_0xbd8cc5){const _0x265142=new Ammo['btConvexHu'+'llShape'](),_0x17e674=new Ammo['btVector3'](),_0x3b7a65=[];_0xc18206['getPositio'+'ns'](_0x3b7a65);for(let _0x3aa917=-0x2379+-0x15a7+0x1*0x3920;_0x3aa917<_0x3b7a65['length'];_0x3aa917+=0x15c5*0x1+0xf2d+-0x24ef)_0x17e674['setValue'](_0x3b7a65[_0x3aa917]*_0xbd8cc5['x'],_0x3b7a65[_0x3aa917+(0x154b+-0x1973+0x429)]*_0xbd8cc5['y'],_0x3b7a65[_0x3aa917+(-0x3*-0x78d+0x1467*0x1+-0x2b0c)]*_0xbd8cc5['z']),_0x265142['addPoint'](_0x17e674,!(-0x65*-0x15+0xa53*-0x2+0xc5e));Ammo['destroy'](_0x17e674),_0x265142['recalcLoca'+'lAabb'](),_0x265142['setMargin'](0x1563+-0x1eb4+0x951+0.01);const _0x33e5c2=this['system']['_getNodeTr'+'ansform'](_0x1dc8ca);_0x3b0ece['addChildSh'+'ape'](_0x33e5c2,_0x265142),Ammo['destroy'](_0x33e5c2);}['createAmmo'+'Mesh'](_0x563394,_0x5cea6d,_0x208333,_0x52e170,_0x3110c5=!(-0x197c+0x1*-0x832+-0xb3a*-0x3)){const _0xbe7121=this['system'];let _0x888932;if(_0xbe7121['_triMeshCa'+'che'][_0x563394['id']])_0x888932=_0xbe7121['_triMeshCa'+'che'][_0x563394['id']];else{const _0x13f5db=_0x563394['vertexBuff'+'er'],_0x44eccf=_0x13f5db['getFormat']();let _0xbd7f4c,_0x5f55d5;for(let _0x270dcf=-0x59*-0x1d+-0x5*0x3da+-0x92d*-0x1;_0x270dcf<_0x44eccf['elements']['length'];_0x270dcf++){const _0x5445d7=_0x44eccf['elements'][_0x270dcf];if(_0x5445d7['name']===Me){_0x5f55d5=new Float32Array(_0x13f5db['lock'](),_0x5445d7['offset']),_0xbd7f4c=_0x5445d7['stride']/(0xc86+-0x2*-0x740+0x2*-0xd81);break;}}const _0x25c9ed=[];_0x563394['getIndices'](_0x25c9ed);const _0x5776e1=_0x563394['primitive'][0x22fc+-0x225a*-0x1+-0x4556]['count']/(0x6*-0x1d+0x1747+0x7*-0x33a),_0x1ed510=new Ammo['btVector3']();let _0x5249da,_0xbf3f5d,_0x55d4c3;const _0x37dcd8=_0x563394['primitive'][0x156a+-0x2b7+0x1*-0x12b3]['base'];_0x888932=new Ammo['btTriangle'+'Mesh'](),_0xbe7121['_triMeshCa'+'che'][_0x563394['id']]=_0x888932;const _0x5bfafd=new Map();w['assert'](typeof _0x888932['getIndexed'+'MeshArray']=='function','Ammo.js\x20ve'+'rsion\x20is\x20t'+'oo\x20old,\x20pl'+'ease\x20updat'+'e\x20to\x20a\x20new'+'er\x20Ammo.');const _0x344bf1=_0x888932['getIndexed'+'MeshArray']();_0x344bf1['at'](0x21d*-0xb+0x6*-0x49d+0x1*0x32ed)['m_numTrian'+'gles']=_0x5776e1;const _0x1bc379=_0x52e170?_0x52e170['x']:-0x23c6+-0x1b31+-0xfbe*-0x4,_0xce5a83=_0x52e170?_0x52e170['y']:0xb9*-0x35+0x29*-0x34+-0x2ea2*-0x1,_0x41a8dd=_0x52e170?_0x52e170['z']:0x1e*-0x5d+0x1fc7+0x1*-0x14e0,_0x50a1a8=_0x397269=>{const _0x5ed8d7=_0x5f55d5[_0x397269*_0xbd7f4c]*_0x1bc379,_0x4f9382=_0x5f55d5[_0x397269*_0xbd7f4c+(0x11e9+0x86b+-0x1a53)]*_0xce5a83,_0x12f767=_0x5f55d5[_0x397269*_0xbd7f4c+(0x3*-0x203+0x1cd*0x5+-0x2f6)]*_0x41a8dd;let _0x3590ef;if(_0x3110c5){const _0x3f1197=_0x5ed8d7+':'+_0x4f9382+':'+_0x12f767;if(_0x3590ef=_0x5bfafd['get'](_0x3f1197),_0x3590ef!==void(-0x19*0xe9+-0x56c+0x1c2d))return _0x3590ef;_0x1ed510['setValue'](_0x5ed8d7,_0x4f9382,_0x12f767),_0x3590ef=_0x888932['findOrAddV'+'ertex'](_0x1ed510,!(-0x1*0x1c01+-0xb*0x2d1+0x3afd)),_0x5bfafd['set'](_0x3f1197,_0x3590ef);}else _0x1ed510['setValue'](_0x5ed8d7,_0x4f9382,_0x12f767),_0x3590ef=_0x888932['findOrAddV'+'ertex'](_0x1ed510,!(0x39b*-0x4+-0x1c18*0x1+0x2a85));return _0x3590ef;};for(let _0x474a15=0x1bc8+0x1c73+-0x383b;_0x474a15<_0x5776e1;_0x474a15++)_0x5249da=_0x50a1a8(_0x25c9ed[_0x37dcd8+_0x474a15*(-0x2*0x905+-0xcc*-0x4+0xedd)]),_0xbf3f5d=_0x50a1a8(_0x25c9ed[_0x37dcd8+_0x474a15*(-0x42b*0x2+-0x386+0xbdf)+(0x2182+-0x1bdb+-0x1e2*0x3)]),_0x55d4c3=_0x50a1a8(_0x25c9ed[_0x37dcd8+_0x474a15*(-0xab6+-0x9ed+0x371*0x6)+(0x7*0x23f+0x49*-0x61+0x1*0xbf2)]),_0x888932['addIndex'](_0x5249da),_0x888932['addIndex'](_0xbf3f5d),_0x888932['addIndex'](_0x55d4c3);Ammo['destroy'](_0x1ed510);}const _0x55cf71=new Ammo['btBvhTrian'+'gleMeshSha'+'pe'](_0x888932,!(0x1*0x25f4+-0x16f9+-0x2ff*0x5));if(!_0x52e170){const _0x425bcd=_0xbe7121['_getNodeSc'+'aling'](_0x5cea6d);_0x55cf71['setLocalSc'+'aling'](_0x425bcd),Ammo['destroy'](_0x425bcd);}const _0x2c4a21=_0xbe7121['_getNodeTr'+'ansform'](_0x5cea6d);_0x208333['addChildSh'+'ape'](_0x2c4a21,_0x55cf71),Ammo['destroy'](_0x2c4a21);}['createPhys'+'icalShape'](_0x4e6e45,_0x1d00a4){if(!(typeof Ammo>'u')&&(_0x1d00a4['model']||_0x1d00a4['render'])){const _0x4a0d08=new Ammo['btCompound'+'Shape'](),_0x25446c=_0x4e6e45['getWorldTr'+'ansform']()['getScale']();if(_0x1d00a4['render']){const _0x489fca=_0x1d00a4['render']['meshes'];for(let _0x458c2b=0x109f*-0x1+0x22c2*0x1+-0x1223;_0x458c2b<_0x489fca['length'];_0x458c2b++)_0x1d00a4['convexHull']?this['createAmmo'+'Hull'](_0x489fca[_0x458c2b],$g,_0x4a0d08,_0x25446c):this['createAmmo'+'Mesh'](_0x489fca[_0x458c2b],$g,_0x4a0d08,_0x25446c,_0x1d00a4['checkVerte'+'xDuplicate'+'s']);}else{if(_0x1d00a4['model']){const _0xb80498=_0x1d00a4['model']['meshInstan'+'ces'];for(let _0x328330=0x236+-0x1707+-0x1*-0x14d1;_0x328330<_0xb80498['length'];_0x328330++)this['createAmmo'+'Mesh'](_0xb80498[_0x328330]['mesh'],_0xb80498[_0x328330]['node'],_0x4a0d08,null,_0x1d00a4['checkVerte'+'xDuplicate'+'s']);const _0x20a33c=new Ammo['btVector3'](_0x25446c['x'],_0x25446c['y'],_0x25446c['z']);_0x4a0d08['setLocalSc'+'aling'](_0x20a33c),Ammo['destroy'](_0x20a33c);}}return _0x4a0d08;}}['recreatePh'+'ysicalShap'+'es'](_0x3a1a0f){const _0x51a015=_0x3a1a0f['data'];if((_0x51a015['renderAsse'+'t']||_0x51a015['asset'])&&_0x3a1a0f['enabled']&&_0x3a1a0f['entity']['enabled']){this['loadAsset'](_0x3a1a0f,_0x51a015['renderAsse'+'t']||_0x51a015['asset'],_0x51a015['renderAsse'+'t']?'render':'model');return;}this['doRecreate'+'PhysicalSh'+'ape'](_0x3a1a0f);}['loadAsset'](_0x1bc86d,_0x54ef42,_0x28d635){const _0x41f7ef=_0x1bc86d['data'],_0x2d1955=this['system']['app']['assets'],_0x4b5aea=_0x41f7ef[_0x28d635],_0x236936=_0x8f4d43=>{_0x41f7ef[_0x28d635]===_0x4b5aea&&(_0x41f7ef[_0x28d635]=_0x8f4d43['resource'],this['doRecreate'+'PhysicalSh'+'ape'](_0x1bc86d));},_0x2b8ad3=_0x567136=>{_0x567136['ready'](_0x5b1c3d=>{if(_0x5b1c3d['data']['containerA'+'sset']){const _0x5668cd=_0x2d1955['get'](_0x5b1c3d['data']['containerA'+'sset']);_0x5668cd['loaded']?_0x236936(_0x5b1c3d):(_0x5668cd['ready'](()=>{_0x236936(_0x5b1c3d);}),_0x2d1955['load'](_0x5668cd));}else _0x236936(_0x5b1c3d);}),_0x2d1955['load'](_0x567136);},_0x3ee2dd=_0x2d1955['get'](_0x54ef42);_0x3ee2dd?_0x2b8ad3(_0x3ee2dd):_0x2d1955['once']('add:'+_0x54ef42,_0x2b8ad3);}['doRecreate'+'PhysicalSh'+'ape'](_0x25aa5e){const _0x188c74=_0x25aa5e['entity'],_0x3c598f=_0x25aa5e['data'];_0x3c598f['model']||_0x3c598f['render']?(this['destroySha'+'pe'](_0x3c598f),_0x3c598f['shape']=this['createPhys'+'icalShape'](_0x188c74,_0x3c598f),_0x188c74['rigidbody']?(_0x188c74['rigidbody']['disableSim'+'ulation'](),_0x188c74['rigidbody']['createBody'](),_0x188c74['enabled']&&_0x188c74['rigidbody']['enabled']&&_0x188c74['rigidbody']['enableSimu'+'lation']()):_0x188c74['trigger']?_0x188c74['trigger']['initialize'](_0x3c598f):_0x188c74['trigger']=new Kv(this['system']['app'],_0x25aa5e,_0x3c598f)):(this['beforeRemo'+'ve'](_0x188c74,_0x25aa5e),this['remove'](_0x188c74,_0x3c598f));}['updateTran'+'sform'](_0x1ab22c,_0xb64f27,_0x3d9f44,_0xe42406){if(_0x1ab22c['shape']){const _0x31c77c=_0x1ab22c['entity']['getWorldTr'+'ansform']()['getScale'](),_0x1c7c58=_0x1ab22c['shape']['getLocalSc'+'aling']();(_0x31c77c['x']!==_0x1c7c58['x']()||_0x31c77c['y']!==_0x1c7c58['y']()||_0x31c77c['z']!==_0x1c7c58['z']())&&this['doRecreate'+'PhysicalSh'+'ape'](_0x1ab22c);}super['updateTran'+'sform'](_0x1ab22c,_0xb64f27,_0x3d9f44,_0xe42406);}['destroySha'+'pe'](_0x549bac){if(!_0x549bac['shape'])return;const _0x4e8532=_0x549bac['shape']['getNumChil'+'dShapes']();for(let _0x510a6c=-0x1570+0x11c2+0x3ae;_0x510a6c<_0x4e8532;_0x510a6c++){const _0x188aff=_0x549bac['shape']['getChildSh'+'ape'](_0x510a6c);Ammo['destroy'](_0x188aff);}Ammo['destroy'](_0x549bac['shape']),_0x549bac['shape']=null;}}class aR extends Ca{['createPhys'+'icalShape'](_0x2efab6,_0xcc776e){if(typeof Ammo<'u')return new Ammo['btCompound'+'Shape']();}['_addEachDe'+'scendant'](_0x57a008){!_0x57a008['collision']||_0x57a008['rigidbody']||(_0x57a008['collision']['_compoundP'+'arent']=this,_0x57a008!==this['entity']&&_0x57a008['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x57a008['collision']));}['_updateEac'+'hDescendan'+'t'](_0x1a4825){_0x1a4825['collision']&&_0x1a4825['collision']['_compoundP'+'arent']===this&&(_0x1a4825['collision']['_compoundP'+'arent']=null,_0x1a4825!==this['entity']&&!_0x1a4825['rigidbody']&&_0x1a4825['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x1a4825['collision']));}['_updateEac'+'hDescendan'+'tTransform'](_0x4e1085){!_0x4e1085['collision']||_0x4e1085['collision']['_compoundP'+'arent']!==this['collision']['_compoundP'+'arent']||this['collision']['system']['updateComp'+'oundChildT'+'ransform'](_0x4e1085,!(-0x58*-0x6a+-0x73*-0x54+0x3*-0x18b9));}}class nR extends ct{constructor(_0xebf459){super(_0xebf459),this['id']='collision',this['ComponentT'+'ype']=rn,this['DataType']=XL,this['schema']=QL,this['implementa'+'tions']={},this['_triMeshCa'+'che']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['on']('remove',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x172497,_0xb7802a,_0x15a42d){_0x15a42d=['type','halfExtent'+'s','radius','axis','height','convexHull','shape','model','asset','render','renderAsse'+'t','enabled','linearOffs'+'et','angularOff'+'set','checkVerte'+'xDuplicate'+'s'];const _0x28376a={};for(let _0x27fd4b=0x176f+0xa62+0x313*-0xb,_0x1317b6=_0x15a42d['length'];_0x27fd4b<_0x1317b6;_0x27fd4b++){const _0x4e64b0=_0x15a42d[_0x27fd4b];_0x28376a[_0x4e64b0]=_0xb7802a[_0x4e64b0];}let _0x5ac8d4;if(_0xb7802a['hasOwnProp'+'erty']('asset')?(_0x5ac8d4=_0x15a42d['indexOf']('model'),_0x5ac8d4!==-(-0x621+-0x18fd+0x1f1f)&&_0x15a42d['splice'](_0x5ac8d4,0x15*-0x97+0x27f+0x9e5),_0x5ac8d4=_0x15a42d['indexOf']('render'),_0x5ac8d4!==-(0xeb0+-0x3b5+-0x119*0xa)&&_0x15a42d['splice'](_0x5ac8d4,0x2707+0x1ff3*-0x1+-0x1*0x713)):_0xb7802a['hasOwnProp'+'erty']('model')&&(_0x5ac8d4=_0x15a42d['indexOf']('asset'),_0x5ac8d4!==-(0x73f+0x1*0x655+-0xd93)&&_0x15a42d['splice'](_0x5ac8d4,0x1*-0x100+-0x1*-0x1907+-0x1806)),_0x28376a['type']||(_0x28376a['type']=_0x172497['data']['type']),_0x172497['data']['type']=_0x28376a['type'],Array['isArray'](_0x28376a['halfExtent'+'s'])&&(_0x28376a['halfExtent'+'s']=new D(_0x28376a['halfExtent'+'s'])),Array['isArray'](_0x28376a['linearOffs'+'et'])&&(_0x28376a['linearOffs'+'et']=new D(_0x28376a['linearOffs'+'et'])),Array['isArray'](_0x28376a['angularOff'+'set'])){const _0x347e15=_0x28376a['angularOff'+'set'];_0x347e15['length']===-0x2*0x1214+0x5*-0x541+0xde*0x48?_0x28376a['angularOff'+'set']=new le()['setFromEul'+'erAngles'](_0x347e15[0xa7e+-0x3*-0x757+0x1d*-0x11f],_0x347e15[-0x817+-0x14e6*0x1+-0xe7f*-0x2],_0x347e15[-0x81*-0x17+0x1019+-0x1bae]):_0x28376a['angularOff'+'set']=new le(_0x28376a['angularOff'+'set']);}const _0x17d40d=this['_createImp'+'lementatio'+'n'](_0x28376a['type']);_0x17d40d['beforeInit'+'ialize'](_0x172497,_0x28376a),super['initialize'+'ComponentD'+'ata'](_0x172497,_0x28376a,_0x15a42d),_0x17d40d['afterIniti'+'alize'](_0x172497,_0x28376a);}['_createImp'+'lementatio'+'n'](_0x3d7c4c){if(this['implementa'+'tions'][_0x3d7c4c]===void(-0x26c1+-0xb4c+0x320d)){let _0x32435f;switch(_0x3d7c4c){case'box':_0x32435f=new JL(this);break;case'sphere':_0x32435f=new eR(this);break;case'capsule':_0x32435f=new tR(this);break;case'cylinder':_0x32435f=new sR(this);break;case'cone':_0x32435f=new iR(this);break;case'mesh':_0x32435f=new rR(this);break;case'compound':_0x32435f=new aR(this);break;default:w['error']('_createImp'+'lementatio'+'n:\x20Invalid'+'\x20collision'+'\x20system\x20ty'+'pe:\x20'+_0x3d7c4c);}this['implementa'+'tions'][_0x3d7c4c]=_0x32435f;}return this['implementa'+'tions'][_0x3d7c4c];}['_getImplem'+'entation'](_0x1796e9){return this['implementa'+'tions'][_0x1796e9['collision']['data']['type']];}['cloneCompo'+'nent'](_0x539006,_0x528e8e){return this['_getImplem'+'entation'](_0x539006)['clone'](_0x539006,_0x528e8e);}['onBeforeRe'+'move'](_0xfaca24,_0x456d19){this['implementa'+'tions'][_0x456d19['data']['type']]['beforeRemo'+'ve'](_0xfaca24,_0x456d19),_0x456d19['onBeforeRe'+'move']();}['onRemove'](_0x1906b8,_0x11a33f){this['implementa'+'tions'][_0x11a33f['type']]['remove'](_0x1906b8,_0x11a33f);}['updateComp'+'oundChildT'+'ransform'](_0x1c6f0e,_0x488c6c){const _0x2fd6cf=_0x1c6f0e['collision']['_compoundP'+'arent'];if(_0x2fd6cf!==_0x1c6f0e['collision']&&_0x1c6f0e['enabled']&&_0x1c6f0e['collision']['enabled']&&(_0x1c6f0e['_dirtyLoca'+'l']||_0x488c6c)){const _0x428ef4=this['_getNodeTr'+'ansform'](_0x1c6f0e,_0x2fd6cf['entity']),_0x11b28d=_0x2fd6cf['getCompoun'+'dChildShap'+'eIndex'](_0x1c6f0e['collision']['shape']);_0x11b28d===null?_0x2fd6cf['shape']['addChildSh'+'ape'](_0x428ef4,_0x1c6f0e['collision']['data']['shape']):_0x2fd6cf['shape']['updateChil'+'dTransform'](_0x11b28d,_0x428ef4,!(0x19*-0x3+0x1*0x171d+-0x1*0x16d2)),Ammo['destroy'](_0x428ef4);}}['_removeCom'+'poundChild'](_0x31c485,_0x2b7e7e){if(_0x31c485['shape']['getNumChil'+'dShapes']()!==-0x1*0x4a9+0xef9*-0x1+0x13a2){if(_0x31c485['shape']['removeChil'+'dShape'])_0x31c485['shape']['removeChil'+'dShape'](_0x2b7e7e);else{const _0x1f5511=_0x31c485['getCompoun'+'dChildShap'+'eIndex'](_0x2b7e7e);_0x1f5511!==null&&_0x31c485['shape']['removeChil'+'dShapeByIn'+'dex'](_0x1f5511);}}}['onTransfor'+'mChanged'](_0x1d8f74,_0x30d96a,_0x45cf25,_0x24668e){this['implementa'+'tions'][_0x1d8f74['data']['type']]['updateTran'+'sform'](_0x1d8f74,_0x30d96a,_0x45cf25,_0x24668e);}['changeType'](_0x221903,_0x485051,_0xc8cad7){this['implementa'+'tions'][_0x485051]['beforeRemo'+'ve'](_0x221903['entity'],_0x221903),this['implementa'+'tions'][_0x485051]['remove'](_0x221903['entity'],_0x221903['data']),this['_createImp'+'lementatio'+'n'](_0xc8cad7)['reset'](_0x221903,_0x221903['data']);}['recreatePh'+'ysicalShap'+'es'](_0x334539){this['implementa'+'tions'][_0x334539['data']['type']]['recreatePh'+'ysicalShap'+'es'](_0x334539);}['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x2e4b0f,_0x33d72f){if(_0x2e4b0f===_0x33d72f){const _0x3477f4=_0x2e4b0f['getWorldTr'+'ansform']()['getScale']();wc['setScale'](_0x3477f4['x'],_0x3477f4['y'],_0x3477f4['z']);}else this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x2e4b0f['parent'],_0x33d72f),wc['mul'](_0x2e4b0f['getLocalTr'+'ansform']());}['_getNodeSc'+'aling'](_0x378d18){const _0x43f8f4=_0x378d18['getWorldTr'+'ansform']()['getScale']();return new Ammo['btVector3'](_0x43f8f4['x'],_0x43f8f4['y'],_0x43f8f4['z']);}['_getNodeTr'+'ansform'](_0x369219,_0xd9d770){let _0x51164e,_0x44ea12;_0xd9d770?(this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x369219,_0xd9d770),_0x51164e=KL,_0x44ea12=Vr,wc['getTransla'+'tion'](_0x51164e),_0x44ea12['setFromMat'+'4'](wc)):(_0x51164e=_0x369219['getPositio'+'n'](),_0x44ea12=_0x369219['getRotatio'+'n']());const _0xa96a78=new Ammo['btQuaterni'+'on'](),_0x30aae0=new Ammo['btTransfor'+'m']();_0x30aae0['setIdentit'+'y']();const _0x4bcfaa=_0x30aae0['getOrigin'](),_0x7ebc2e=_0x369219['collision'];if(_0x7ebc2e&&_0x7ebc2e['_hasOffset']){const _0x237060=_0x7ebc2e['data']['linearOffs'+'et'],_0xa8fdc4=_0x7ebc2e['data']['angularOff'+'set'],_0x297bf0=ZL;Vr['copy'](_0x44ea12)['transformV'+'ector'](_0x237060,_0x297bf0),_0x297bf0['add'](_0x51164e),Vr['copy'](_0x44ea12)['mul'](_0xa8fdc4),_0x4bcfaa['setValue'](_0x297bf0['x'],_0x297bf0['y'],_0x297bf0['z']),_0xa96a78['setValue'](Vr['x'],Vr['y'],Vr['z'],Vr['w']);}else _0x4bcfaa['setValue'](_0x51164e['x'],_0x51164e['y'],_0x51164e['z']),_0xa96a78['setValue'](_0x44ea12['x'],_0x44ea12['y'],_0x44ea12['z'],_0x44ea12['w']);return _0x30aae0['setRotatio'+'n'](_0xa96a78),Ammo['destroy'](_0xa96a78),_0x30aae0;}['destroy'](){for(const _0x2cfb1f in this['_triMeshCa'+'che'])Ammo['destroy'](this['_triMeshCa'+'che'][_0x2cfb1f]);this['_triMeshCa'+'che']=null,super['destroy']();}}const Ec=new ie(),oR=new Kt();class lR{constructor(_0x14e233,_0x13a86a,_0x2b3025){this['_entity']=_0x14e233,this['_element']=_0x14e233['element'],this['model']=new sr(),this['node']=new Ie(),this['model']['graph']=this['node'],this['mesh']=_0x13a86a,this['meshInstan'+'ce']=new He(this['mesh'],_0x2b3025,this['node']),this['meshInstan'+'ce']['name']='ImageEleme'+'nt:\x20'+_0x14e233['name'],this['meshInstan'+'ce']['castShadow']=!(0x1be3+0x2*-0xd28+-0x192),this['meshInstan'+'ce']['receiveSha'+'dow']=!(0xbb6*0x2+-0x1327+-0x444),this['_meshDirty']=!(-0x141*0xf+0x341+0x239*0x7),this['model']['meshInstan'+'ces']['push'](this['meshInstan'+'ce']),this['_entity']['addChild'](this['model']['graph']),this['model']['_entity']=this['_entity'],this['unmaskMesh'+'Instance']=null;}['destroy'](){var _0x5e01dd,_0x275a84;this['setMateria'+'l'](null),this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),this['model']['destroy'](),this['model']=null,this['node']=null,this['mesh']=null,(_0x5e01dd=this['meshInstan'+'ce'])==null||_0x5e01dd['destroy'](),this['meshInstan'+'ce']=null,(_0x275a84=this['unmaskMesh'+'Instance'])==null||_0x275a84['destroy'](),this['unmaskMesh'+'Instance']=null,this['_entity']=null,this['_element']=null;}['setMesh'](_0x37dde5){this['meshInstan'+'ce']&&(this['mesh']=_0x37dde5,this['meshInstan'+'ce']['mesh']=_0x37dde5,this['meshInstan'+'ce']['visible']=!!_0x37dde5,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['mesh']=_0x37dde5),this['forceUpdat'+'eAabb']());}['setMask'](_0x5deaef){var _0x11ffc2;if(this['meshInstan'+'ce']){if(this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),_0x5deaef){this['unmaskMesh'+'Instance']=new He(this['mesh'],this['meshInstan'+'ce']['material'],this['node']),this['unmaskMesh'+'Instance']['name']='Unmask:\x20'+this['_entity']['name'],this['unmaskMesh'+'Instance']['castShadow']=!(-0x8f5*-0x1+-0x5a*0x4b+0x116a),this['unmaskMesh'+'Instance']['receiveSha'+'dow']=!(0x76f+0xfb*-0x27+0xa45*0x3),this['unmaskMesh'+'Instance']['pick']=!(-0x3f*0x6d+0x152+0x1982*0x1),this['model']['meshInstan'+'ces']['push'](this['unmaskMesh'+'Instance']);for(const _0x28ab45 in this['meshInstan'+'ce']['parameters'])this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x28ab45,this['meshInstan'+'ce']['parameters'][_0x28ab45]['data']);}else{const _0x27ed52=this['model']['meshInstan'+'ces']['indexOf'](this['unmaskMesh'+'Instance']);_0x27ed52>=0x2691+-0x1057+0x163a*-0x1&&this['model']['meshInstan'+'ces']['splice'](_0x27ed52,0xcdd+0x160e+-0x22ea);}this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['addModelTo'+'Layers'](this['model']),_0x5deaef||((_0x11ffc2=this['unmaskMesh'+'Instance'])==null||_0x11ffc2['destroy'](),this['unmaskMesh'+'Instance']=null);}}['setMateria'+'l'](_0x3d02af){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x3d02af,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['material']=_0x3d02af));}['setParamet'+'er'](_0x58fdad,_0x5668e7){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['setParamet'+'er'](_0x58fdad,_0x5668e7),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x58fdad,_0x5668e7));}['deletePara'+'meter'](_0x192249){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['deletePara'+'meter'](_0x192249),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['deletePara'+'meter'](_0x192249));}['setUnmaskD'+'rawOrder'](){if(!this['meshInstan'+'ce'])return;const _0x4a5a54=function(_0x48e7f3){let _0x1512ca;const _0x420426=_0x48e7f3['children'],_0x716e1a=_0x420426['length'];if(_0x716e1a){for(let _0xabef29=-0xc3c+-0x1*0x1807+0x1*0x2443;_0xabef29<_0x716e1a;_0xabef29++)_0x420426[_0xabef29]['element']&&(_0x1512ca=_0x420426[_0xabef29]);if(!_0x1512ca)return null;const _0x5e8c19=_0x4a5a54(_0x1512ca);return _0x5e8c19||_0x1512ca;}return null;};if(this['unmaskMesh'+'Instance']){const _0x2c872d=_0x4a5a54(this['_entity']);_0x2c872d&&_0x2c872d['element']?this['unmaskMesh'+'Instance']['drawOrder']=_0x2c872d['element']['drawOrder']+_0x2c872d['element']['getMaskOff'+'set']():this['unmaskMesh'+'Instance']['drawOrder']=this['meshInstan'+'ce']['drawOrder']+this['_element']['getMaskOff'+'set'](),w['trace'](Vs,'setDrawOrd'+'er:\x20',this['unmaskMesh'+'Instance']['name'],this['unmaskMesh'+'Instance']['drawOrder']);}}['setDrawOrd'+'er'](_0x143e32){this['meshInstan'+'ce']&&(w['trace'](Vs,'setDrawOrd'+'er:\x20',this['meshInstan'+'ce']['name'],_0x143e32),this['meshInstan'+'ce']['drawOrder']=_0x143e32);}['setCull'](_0x239296){if(!this['meshInstan'+'ce'])return;const _0x6878c7=this['_element'];let _0x1848da=null;_0x239296&&_0x6878c7['_isScreenS'+'pace']()&&(_0x1848da=function(_0x4518c8){return _0x6878c7['isVisibleF'+'orCamera'](_0x4518c8);}),this['meshInstan'+'ce']['cull']=_0x239296,this['meshInstan'+'ce']['isVisibleF'+'unc']=_0x1848da,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['cull']=_0x239296,this['unmaskMesh'+'Instance']['isVisibleF'+'unc']=_0x1848da);}['setScreenS'+'pace'](_0x29131d){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['screenSpac'+'e']=_0x29131d,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['screenSpac'+'e']=_0x29131d));}['setLayer'](_0xd3aa30){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['layer']=_0xd3aa30,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['layer']=_0xd3aa30));}['forceUpdat'+'eAabb'](_0x3c50fe){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_aabbVer']=-(-0x1*0xb89+0x1*0x14e9+-0x95f),this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_aabbVer']=-(-0x3a*-0x72+0x21de+0x3b*-0x103)));}['setAabbFun'+'c'](_0x138bbd){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_updateAab'+'bFunc']=_0x138bbd,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_updateAab'+'bFunc']=_0x138bbd));}}class cR{constructor(_0x4b1706){h(this,'_evtSetMes'+'hes',null),(this['_element']=_0x4b1706,this['_entity']=_0x4b1706['entity'],this['_system']=_0x4b1706['system'],this['_textureAs'+'set']=null,this['_texture']=null,this['_materialA'+'sset']=null,this['_material']=null,this['_spriteAss'+'et']=null,this['_sprite']=null,this['_spriteFra'+'me']=-0x12ca+-0x5bb*-0x4+-0x1*0x422,this['_pixelsPer'+'Unit']=null,this['_targetAsp'+'ectRatio']=-(-0x14ac+-0x7*-0x2ad+0x1f2),this['_rect']=new re(0x7*-0x3bf+0x1*-0x36d+0x1da6,-0x107+-0x151c+0x1623,-0x12*-0xdf+0x19c2+-0x296f,-0x11a9+0x15da+0x430*-0x1),this['_mask']=!(0x2658+-0x1fec+-0x66b),this['_maskRef']=-0x7*0x24b+-0x1283*-0x1+-0x5a*0x7,this['_outerScal'+'e']=new J(),this['_outerScal'+'eUniform']=new Float32Array(-0x351*-0x7+-0x56*0x1b+-0x149*0xb),this['_innerOffs'+'et']=new re(),this['_innerOffs'+'etUniform']=new Float32Array(-0x2*-0x4ef+0x1fc2*0x1+0x14ce*-0x2),this['_atlasRect']=new re(),this['_atlasRect'+'Uniform']=new Float32Array(0x14b2+-0x80+-0x142e),this['_defaultMe'+'sh']=this['_createMes'+'h'](),this['_renderabl'+'e']=new lR(this['_entity'],this['_defaultMe'+'sh'],this['_material']),this['_color']=new ie(-0x2197+-0x26dd*-0x1+-0x545,0x2*-0xeb+-0xce0+0xeb7,0xbe5+-0x15ec+0xa08,0x9*0xc1+0x142*0x2+-0x94c),this['_colorUnif'+'orm']=new Float32Array([0x495*-0x6+0x517+0x1668,-0x2*-0x7d4+0x1*-0x2357+0x7*0x2d0,-0x53*-0x22+0x9df*0x3+0x1*-0x28a2]),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',0x269b*-0x1+-0x13*0x12a+0xa1f*0x6),this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_onScreenC'+'hange'](this['_element']['screen']),this['_element']['on']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['on']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['on']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this));}['destroy'](){this['textureAss'+'et']=null,this['spriteAsse'+'t']=null,this['materialAs'+'set']=null,this['_renderabl'+'e']['setMesh'](this['_defaultMe'+'sh']),this['_renderabl'+'e']['destroy'](),this['_defaultMe'+'sh']=null,this['_element']['off']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this);}['_onResolut'+'ionChange'](_0x32552c){}['_onParentR'+'esizeOrPiv'+'otChange'](){this['_renderabl'+'e']['mesh']&&this['_updateMes'+'h'](this['_renderabl'+'e']['mesh']);}['_onScreenS'+'paceChange'](_0x58ea1c){this['_updateMat'+'erial'](_0x58ea1c);}['_onScreenC'+'hange'](_0x2dd9e6,_0x3a2cda){_0x2dd9e6?this['_updateMat'+'erial'](_0x2dd9e6['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0x57a+-0x5cf+0xb4a));}['_onDrawOrd'+'erChange'](_0x351a18){this['_renderabl'+'e']['setDrawOrd'+'er'](_0x351a18),this['mask']&&this['_element']['screen']&&this['_element']['screen']['screen']['once']('syncdrawor'+'der',function(){this['_renderabl'+'e']['setUnmaskD'+'rawOrder']();},this);}['_hasUserMa'+'terial'](){return!!this['_materialA'+'sset']||!!this['_material']&&this['_system']['defaultIma'+'geMaterial'+'s']['indexOf'](this['_material'])===-(0x1efe+-0xa*-0x1d2+-0x3131);}['_use9Slici'+'ng'](){return this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt);}['_updateMat'+'erial'](_0x4da835){const _0x8da7ee=!!this['_mask'],_0x57af53=!!(this['sprite']&&this['sprite']['renderMode']===Pt),_0x4b1a57=!!(this['sprite']&&this['sprite']['renderMode']===Mt);this['_hasUserMa'+'terial']()||(this['_material']=this['_system']['getImageEl'+'ementMater'+'ial'](_0x4da835,_0x8da7ee,_0x57af53,_0x4b1a57)),this['_renderabl'+'e']&&(this['_renderabl'+'e']['setCull'](!this['_element']['_isScreenS'+'pace']()||this['_element']['_isScreenC'+'ulled']()),this['_renderabl'+'e']['setMateria'+'l'](this['_material']),this['_renderabl'+'e']['setScreenS'+'pace'](_0x4da835),this['_renderabl'+'e']['setLayer'](_0x4da835?Ow:Ky));}['_createMes'+'h'](){const _0x3e8b53=this['_element'],_0x37d478=_0x3e8b53['calculated'+'Width'],_0x2daf33=_0x3e8b53['calculated'+'Height'],_0xb48912=this['_rect'],_0x20c9cc=this['_system']['app']['graphicsDe'+'vice'],_0x9d9ddc=new Float32Array([_0x37d478,0x1*-0x8b5+-0x7a1+0x1056,0xa2d+0x431+-0xe5e,0x8*0x34b+-0xd06+-0xd52,0x58a+-0x597+0xd*0x1,0x2ec+0x1640+-0x192b,_0xb48912['x']+_0xb48912['z'],0x19e6+0x778+0x291*-0xd-_0xb48912['y'],_0x37d478,_0x2daf33,0x10d*-0x5+0x112f+-0xbee,-0x3f8+0x1fc8+-0x8*0x37a,0x601+0x3*0x7a+-0x76f*0x1,0xbff+-0xe9c+-0x86*-0x5,_0xb48912['x']+_0xb48912['z'],0x2385+0x20e7+-0x446b-(_0xb48912['y']+_0xb48912['w']),-0x4*-0x488+0x14c9+-0x26e9,0xf42+-0x17*0x4+-0x1*0xee6,-0x11*-0x23b+0x9e9+-0x2fd4,-0x6dc+0x4a8+-0xbc*-0x3,0x1571+0x1049+-0x36e*0xb,-0x15c8+0x1508+0xc1,_0xb48912['x'],-0xc80+-0x2496+0x3117-_0xb48912['y'],-0x261*-0x3+-0x1e15+0x10b*0x16,_0x2daf33,0x9*0xfa+-0x1d46*0x1+0x72*0x2e,-0x2*0x10e2+-0x283+0x2447,0x1ee+0x100*-0x2+-0x12*-0x1,-0x8f5+0xb*0xfa+0x3*-0x98,_0xb48912['x'],-0x25de+-0xfc5+0x35a4-(_0xb48912['y']+_0xb48912['w'])]),_0x50cced=oR['get'](_0x20c9cc,()=>new kt(_0x20c9cc,[{'semantic':Me,'components':0x3,'type':Ve},{'semantic':gs,'components':0x3,'type':Ve},{'semantic':is,'components':0x2,'type':Ve}])),_0x4d5fde=new Is(_0x20c9cc,_0x50cced,0x335*0x6+-0x17ac+0x472,{'data':_0x9d9ddc['buffer']}),_0x3de7c4=new Ge(_0x20c9cc);return _0x3de7c4['vertexBuff'+'er']=_0x4d5fde,_0x3de7c4['primitive'][0x2f*-0xa2+0x17e0+-0x5de*-0x1]['type']=Er,_0x3de7c4['primitive'][0x2*0xf67+0x1*0x207d+-0x1519*0x3]['base']=-0xb56+0x5*0x703+0x17b9*-0x1,_0x3de7c4['primitive'][-0x17b1+-0x143e+0x2bef]['count']=0x1ba8+-0x208b+0x4e7,_0x3de7c4['primitive'][0x1f1+-0x34*-0x10+-0x531]['indexed']=!(0xd32+0x1*0x18da+0x1*-0x260b),_0x3de7c4['aabb']['setMinMax'](D['ZERO'],new D(_0x37d478,_0x2daf33,-0x2*-0x1ec+0x1f69+-0x2341)),this['_updateMes'+'h'](_0x3de7c4),_0x3de7c4;}['_updateMes'+'h'](_0x3cb595){const _0x978672=this['_element'];let _0x4458cf=_0x978672['calculated'+'Width'],_0x4e003d=_0x978672['calculated'+'Height'];if(_0x978672['fitMode']!==th&&this['_targetAsp'+'ectRatio']>-0x25ed+0xe89+0x1764){const _0x383834=_0x978672['calculated'+'Width']/_0x978672['calculated'+'Height'];_0x978672['fitMode']===GL&&_0x383834>this['_targetAsp'+'ectRatio']||_0x978672['fitMode']===HL&&_0x383834<this['_targetAsp'+'ectRatio']?_0x4458cf=_0x978672['calculated'+'Height']*this['_targetAsp'+'ectRatio']:_0x4e003d=_0x978672['calculated'+'Width']/this['_targetAsp'+'ectRatio'];}const _0x3df225=_0x978672['_isScreenS'+'pace']();if(this['_updateMat'+'erial'](_0x3df225),this['_renderabl'+'e']&&this['_renderabl'+'e']['forceUpdat'+'eAabb'](),this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){const _0x9a4695=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]],_0x30b244=(0x1d16+0x48e+-0x21a2)/_0x9a4695['rect']['z'],_0x405f90=(-0x1b51+-0x1*-0xe17+0x2c*0x4d)/_0x9a4695['rect']['w'];this['_innerOffs'+'et']['set'](_0x9a4695['border']['x']*_0x30b244,_0x9a4695['border']['y']*_0x405f90,_0x9a4695['border']['z']*_0x30b244,_0x9a4695['border']['w']*_0x405f90);const _0x3cf82a=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x9a4695['rect']['x']/_0x3cf82a['width'],_0x9a4695['rect']['y']/_0x3cf82a['height'],_0x9a4695['rect']['z']/_0x3cf82a['width'],_0x9a4695['rect']['w']/_0x3cf82a['height']);const _0x433a1c=this['_pixelsPer'+'Unit']!==null?this['_pixelsPer'+'Unit']:this['sprite']['pixelsPerU'+'nit'],_0x264cb0=_0x9a4695['rect']['z']/_0x433a1c,_0x54e686=_0x9a4695['rect']['w']/_0x433a1c;this['_outerScal'+'e']['set'](Math['max'](_0x4458cf,this['_innerOffs'+'et']['x']*_0x264cb0),Math['max'](_0x4e003d,this['_innerOffs'+'et']['y']*_0x54e686));let _0x3979e9=_0x264cb0,_0x1d8802=_0x54e686;this['_outerScal'+'e']['x']/=_0x264cb0,this['_outerScal'+'e']['y']/=_0x54e686,_0x3979e9*=Y['clamp'](_0x4458cf/(this['_innerOffs'+'et']['x']*_0x264cb0),-0x107f+0x3df*-0x1+0x6ca*0x3+0.0001,-0x1cea+-0x20eb+0xc5e*0x5),_0x1d8802*=Y['clamp'](_0x4e003d/(this['_innerOffs'+'et']['y']*_0x54e686),-0x17*-0x185+0x19d5*0x1+0xa*-0x614+0.0001,0xdaf*0x2+-0x1*0x523+0x472*-0x5),this['_renderabl'+'e']&&(this['_innerOffs'+'etUniform'][0x1d67+-0xc77*-0x1+-0x1d2*0x17]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][-0x1c2a+0x7*-0x1cd+0x28c6]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0x2b*0xdf+-0x24*-0x70+0x15b7]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0xf47*0x1+-0x1*0x1e0e+0xeca]=this['_innerOffs'+'et']['w'],this['_renderabl'+'e']['setParamet'+'er']('innerOffse'+'t',this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][-0x1dbb+0x7*0x2f2+0x91d]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0x259a+0xbe1+0x19ba]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][-0x2cb+0x1*0x13d5+-0x1108]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0x197e+-0xf*-0x106+0xa27]=this['_atlasRect']['w'],this['_renderabl'+'e']['setParamet'+'er']('atlasRect',this['_atlasRect'+'Uniform']),this['_outerScal'+'eUniform'][0x7fd*0x4+0x1f*-0x133+0x539]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0x3d*0x1f+-0x1f*-0xe2+-0x22c0]=this['_outerScal'+'e']['y'],this['_renderabl'+'e']['setParamet'+'er']('outerScale',this['_outerScal'+'eUniform']),this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']),this['_renderabl'+'e']['node']['setLocalSc'+'ale'](_0x3979e9,_0x1d8802,-0x174a+-0x625+0x1d70),this['_renderabl'+'e']['node']['setLocalPo'+'sition']((0x1*0x1eeb+-0x29b*-0xb+-0x3b94+0.5-_0x978672['pivot']['x'])*_0x4458cf,(-0x1*0x25cd+-0x122+0x26ef+0.5-_0x978672['pivot']['y'])*_0x4e003d,0xd*-0x26b+-0xfa8+0x2f17));}else{const _0x352395=_0x3cb595['vertexBuff'+'er'],_0xbcc157=new Float32Array(_0x352395['lock']()),_0x36d19b=_0x978672['pivot']['x'],_0x6e16bb=_0x978672['pivot']['y'];_0xbcc157[-0x1*0x1b53+0xa95+0x10be]=_0x4458cf-_0x36d19b*_0x4458cf,_0xbcc157[0x8d4+0x224c+-0x2b1f]=-0xd*-0x1b0+-0xa9*0x3+-0x189*0xd-_0x6e16bb*_0x4e003d,_0xbcc157[0xd9c+-0x1fda+0x2*0x923]=_0x4458cf-_0x36d19b*_0x4458cf,_0xbcc157[-0x582*0x4+-0x1a5d+0x306e]=_0x4e003d-_0x6e16bb*_0x4e003d,_0xbcc157[-0x163e+0x9fd*0x2+0x254]=0x169d+0x1*-0x7ca+-0xed3-_0x36d19b*_0x4458cf,_0xbcc157[-0x1950+0x1de6+-0x485*0x1]=0x1*0xf67+-0x1a1+0x2b*-0x52-_0x6e16bb*_0x4e003d,_0xbcc157[0xed9+-0xff1+0x130]=-0x11*-0x1c5+0xb40+-0x3*0xdc7-_0x36d19b*_0x4458cf,_0xbcc157[0x1fdb+0x30d+-0x22cf]=_0x4e003d-_0x6e16bb*_0x4e003d;let _0x1a371a=0x1801*-0x1+-0x179*-0xd+0xf*0x53,_0x232e86=0x1e8f*0x1+0x1424+-0x32b2,_0x2c937c=this['_rect'];if(this['_sprite']&&this['_sprite']['frameKeys'][this['_spriteFra'+'me']]&&this['_sprite']['atlas']){const _0x2cb3cf=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];_0x2cb3cf&&(_0x2c937c=_0x2cb3cf['rect'],_0x1a371a=this['_sprite']['atlas']['texture']['width'],_0x232e86=this['_sprite']['atlas']['texture']['height']);}_0xbcc157[0xab3+0xb97+-0x1644]=(_0x2c937c['x']+_0x2c937c['z'])/_0x1a371a,_0xbcc157[0xc62+0x265f+-0x32ba]=-0x2f*0x29+0x25f5+0x1*-0x1e6d-_0x2c937c['y']/_0x232e86,_0xbcc157[0x127a+-0x1d14+0xaa8]=(_0x2c937c['x']+_0x2c937c['z'])/_0x1a371a,_0xbcc157[0x1a80+0x6*0x4eb+-0x37f3]=-0xb*0x24b+-0x1c3*0x3+0x1*0x1e83-(_0x2c937c['y']+_0x2c937c['w'])/_0x232e86,_0xbcc157[-0xc*-0x10f+-0x1043*-0x1+-0x1ce1*0x1]=_0x2c937c['x']/_0x1a371a,_0xbcc157[0x23a1*-0x1+0x2*0xc11+0xb96]=-0x2f1*-0x9+0x2*0x855+-0x1*0x2b22-_0x2c937c['y']/_0x232e86,_0xbcc157[-0x1*-0x1ec9+0x1b9a+0x7*-0x853]=_0x2c937c['x']/_0x1a371a,_0xbcc157[-0x21f+-0x2441+0x267f]=-0xe*-0xca+0x2b*0x71+-0xe*0x225-(_0x2c937c['y']+_0x2c937c['w'])/_0x232e86,_0x352395['unlock']();const _0x291095=new D(-0x1c5f+-0x10ae*-0x2+-0x4fd-_0x36d19b*_0x4458cf,-0x178e+0x1327*-0x1+0x2ab5-_0x6e16bb*_0x4e003d,0x1e43*0x1+-0x1d62+-0x2d*0x5),_0x4df535=new D(_0x4458cf-_0x36d19b*_0x4458cf,_0x4e003d-_0x6e16bb*_0x4e003d,0xfe8+-0x79b+-0x84d);_0x3cb595['aabb']['setMinMax'](_0x291095,_0x4df535),this['_renderabl'+'e']&&(this['_renderabl'+'e']['node']['setLocalSc'+'ale'](0xd*-0x185+0x239a+-0xfd8,-0xefc*0x1+0x21f9+0x4*-0x4bf,-0x1ce+0x2*-0xeae+0x1f2b*0x1),this['_renderabl'+'e']['node']['setLocalPo'+'sition'](-0x26c4+-0x1ff+0x28c3,-0x201a+0xfad+0x106d*0x1,-0xe33*0x1+-0x986+0x17b9),this['_renderabl'+'e']['setAabbFun'+'c'](null));}this['_meshDirty']=!(0x1a82+-0x170*0x5+-0x1351);}['_updateSpr'+'ite'](){let _0x48199c=!(0x3*0xaef+0x25*0x95+-0x3655),_0x30eddc=null;if(this['_targetAsp'+'ectRatio']=-(-0x1931*0x1+-0x189c+0x31ce),this['_sprite']&&this['_sprite']['atlas']){_0x30eddc=this['_sprite']['meshes'][this['spriteFram'+'e']],_0x48199c=this['_sprite']['renderMode']===Pt||this['_sprite']['renderMode']===Mt;const _0x5d34a5=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];(_0x5d34a5==null?void(0x19c9*0x1+0x7*-0x29d+0x89*-0xe):_0x5d34a5['rect']['w'])>-0x182e+-0x1c63+0x3491&&(this['_targetAsp'+'ectRatio']=_0x5d34a5['rect']['z']/_0x5d34a5['rect']['w']);}this['mesh']=_0x48199c?_0x30eddc:this['_defaultMe'+'sh'],this['refreshMes'+'h']();}['refreshMes'+'h'](){this['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(-0xa*0x3ae+-0xa39+0x2f05):this['_updateMes'+'h'](this['mesh']));}['_updateAab'+'b'](_0x2eb579){return _0x2eb579['center']['set'](0x1*0x14ad+-0x17e*0x6+-0xbb9,0x3*-0x16c+-0x1c95+-0x1*-0x20d9,-0x223f+-0x55*0x5+0x5fc*0x6),_0x2eb579['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(0x3e7+-0x29c*-0x5+-0x1*0x10f3+0.5),this['_outerScal'+'e']['y']*(-0xf40*0x1+0x127a*0x1+-0x33a+0.5),0x238e+-0x10a3+-0x12eb*0x1+0.001),_0x2eb579['setFromTra'+'nsformedAa'+'bb'](_0x2eb579,this['_renderabl'+'e']['node']['getWorldTr'+'ansform']()),_0x2eb579;}['_toggleMas'+'k'](){this['_element']['_dirtifyMa'+'sk']();const _0x2ec429=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x2ec429),this['_renderabl'+'e']['setMask'](!!this['_mask']);}['_onMateria'+'lLoad'](_0x397759){this['material']=_0x397759['resource'];}['_onMateria'+'lAdded'](_0x567015){this['_system']['app']['assets']['off']('add:'+_0x567015['id'],this['_onMateria'+'lAdded'],this),this['_materialA'+'sset']===_0x567015['id']&&this['_bindMater'+'ialAsset'](_0x567015);}['_bindMater'+'ialAsset'](_0x17be98){this['_entity']['enabled']&&(_0x17be98['on']('load',this['_onMateria'+'lLoad'],this),_0x17be98['on']('change',this['_onMateria'+'lChange'],this),_0x17be98['on']('remove',this['_onMateria'+'lRemove'],this),_0x17be98['resource']?this['_onMateria'+'lLoad'](_0x17be98):this['_system']['app']['assets']['load'](_0x17be98));}['_unbindMat'+'erialAsset'](_0x4cd984){_0x4cd984['off']('load',this['_onMateria'+'lLoad'],this),_0x4cd984['off']('change',this['_onMateria'+'lChange'],this),_0x4cd984['off']('remove',this['_onMateria'+'lRemove'],this);}['_onMateria'+'lChange'](){}['_onMateria'+'lRemove'](){}['_onTexture'+'Added'](_0x5097c4){this['_system']['app']['assets']['off']('add:'+_0x5097c4['id'],this['_onTexture'+'Added'],this),this['_textureAs'+'set']===_0x5097c4['id']&&this['_bindTextu'+'reAsset'](_0x5097c4);}['_bindTextu'+'reAsset'](_0x7bef80){this['_entity']['enabled']&&(_0x7bef80['on']('load',this['_onTexture'+'Load'],this),_0x7bef80['on']('change',this['_onTexture'+'Change'],this),_0x7bef80['on']('remove',this['_onTexture'+'Remove'],this),_0x7bef80['resource']?this['_onTexture'+'Load'](_0x7bef80):this['_system']['app']['assets']['load'](_0x7bef80));}['_unbindTex'+'tureAsset'](_0x20b775){_0x20b775['off']('load',this['_onTexture'+'Load'],this),_0x20b775['off']('change',this['_onTexture'+'Change'],this),_0x20b775['off']('remove',this['_onTexture'+'Remove'],this);}['_onTexture'+'Load'](_0x3a838c){this['texture']=_0x3a838c['resource'];}['_onTexture'+'Change'](_0x59e6d9){}['_onTexture'+'Remove'](_0x58c0a7){}['_onSpriteA'+'ssetAdded'](_0x223f13){this['_system']['app']['assets']['off']('add:'+_0x223f13['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x223f13['id']&&this['_bindSprit'+'eAsset'](_0x223f13);}['_bindSprit'+'eAsset'](_0x28b543){this['_entity']['enabled']&&(_0x28b543['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x28b543['on']('change',this['_onSpriteA'+'ssetChange'],this),_0x28b543['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x28b543['resource']?this['_onSpriteA'+'ssetLoad'](_0x28b543):this['_system']['app']['assets']['load'](_0x28b543));}['_unbindSpr'+'iteAsset'](_0x507581){_0x507581['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x507581['off']('change',this['_onSpriteA'+'ssetChange'],this),_0x507581['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x507581['data']['textureAtl'+'asAsset']&&this['_system']['app']['assets']['off']('load:'+_0x507581['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this);}['_onSpriteA'+'ssetLoad'](_0x532ce8){if(!_0x532ce8||!_0x532ce8['resource'])this['sprite']=null;else{if(_0x532ce8['resource']['atlas'])this['sprite']=_0x532ce8['resource'];else{const _0x6c85e=_0x532ce8['data']['textureAtl'+'asAsset'];if(_0x6c85e){const _0x5945f9=this['_system']['app']['assets'];_0x5945f9['off']('load:'+_0x6c85e,this['_onTexture'+'AtlasLoad'],this),_0x5945f9['once']('load:'+_0x6c85e,this['_onTexture'+'AtlasLoad'],this);}}}}['_onSpriteA'+'ssetChange'](_0x3485f7){this['_onSpriteA'+'ssetLoad'](_0x3485f7);}['_onSpriteA'+'ssetRemove'](_0x5029a9){}['_bindSprit'+'e'](_0x14bbce){this['_evtSetMes'+'hes']=_0x14bbce['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),_0x14bbce['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x14bbce['on']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x14bbce['atlas']&&_0x14bbce['atlas']['on']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_unbindSpr'+'ite'](_0x49fc89){var _0x3867ee;(_0x3867ee=this['_evtSetMes'+'hes'])==null||_0x3867ee['off'](),this['_evtSetMes'+'hes']=null,_0x49fc89['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x49fc89['off']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x49fc89['atlas']&&_0x49fc89['atlas']['off']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_onSpriteM'+'eshesChang'+'e'](){this['_sprite']&&(this['_spriteFra'+'me']=Y['clamp'](this['_spriteFra'+'me'],-0x184a+0xb*0x35f+-0xccb,this['_sprite']['frameKeys']['length']-(-0x5bb+-0x108f+0x164b*0x1))),this['_updateSpr'+'ite']();}['_onSpriteP'+'puChange'](){this['sprite']['renderMode']!==ci&&this['_pixelsPer'+'Unit']===null&&this['_updateSpr'+'ite']();}['_onAtlasTe'+'xtureChang'+'e'](){this['sprite']&&this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'));}['_onTexture'+'AtlasLoad'](_0x5a0e60){const _0x1a4418=this['_spriteAss'+'et'];_0x1a4418 instanceof pe?this['_onSpriteA'+'ssetLoad'](_0x1a4418):this['_onSpriteA'+'ssetLoad'](this['_system']['app']['assets']['get'](_0x1a4418));}['onEnable'](){if(this['_materialA'+'sset']){const _0x448fb6=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);_0x448fb6&&_0x448fb6['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x448fb6);}if(this['_textureAs'+'set']){const _0x2023f1=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x2023f1&&_0x2023f1['resource']!==this['_texture']&&this['_bindTextu'+'reAsset'](_0x2023f1);}if(this['_spriteAss'+'et']){const _0x571ab7=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x571ab7&&_0x571ab7['resource']!==this['_sprite']&&this['_bindSprit'+'eAsset'](_0x571ab7);}this['_element']['addModelTo'+'Layers'](this['_renderabl'+'e']['model']);}['onDisable'](){this['_element']['removeMode'+'lFromLayer'+'s'](this['_renderabl'+'e']['model']);}['_setStenci'+'l'](_0x5451eb){this['_renderabl'+'e']['meshInstan'+'ce']['stencilFro'+'nt']=_0x5451eb,this['_renderabl'+'e']['meshInstan'+'ce']['stencilBac'+'k']=_0x5451eb;let _0x31549e=0x1*0x19cf+0x1f83*-0x1+0x5b4;if(this['_element']['maskedBy']&&(_0x31549e=this['_element']['maskedBy']['element']['_image']['_maskRef']),this['_renderabl'+'e']['unmaskMesh'+'Instance']){const _0x52a1f2=new pi({'ref':_0x31549e+(0x1ec4+0xdb5+-0x2c78),'func':dh,'zpass':Bx});this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']=_0x52a1f2,this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k']=_0x52a1f2;}}['_updateRen'+'derableEmi'+'ssive'](){Ec['linear'](this['_color']),this['_colorUnif'+'orm'][-0x1524+-0x15d4+0x2af8]=Ec['r'],this['_colorUnif'+'orm'][0x5*-0x269+0x2621+0x19*-0x10b]=Ec['g'],this['_colorUnif'+'orm'][-0x8d8+0xa7*0x1+0x833]=Ec['b'],this['_renderabl'+'e']['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}set['color'](_0x123210){this['_color']===_0x123210&&w['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t');const {r:_0x566545,g:_0x501897,b:_0x57c4b5}=_0x123210;(this['_color']['r']!==_0x566545||this['_color']['g']!==_0x501897||this['_color']['b']!==_0x57c4b5)&&(this['_color']['r']=_0x566545,this['_color']['g']=_0x501897,this['_color']['b']=_0x57c4b5,this['_updateRen'+'derableEmi'+'ssive']()),this['_element']&&this['_element']['fire']('set:color',this['_color']);}get['color'](){return this['_color'];}set['opacity'](_0x3b596d){_0x3b596d!==this['_color']['a']&&(this['_color']['a']=_0x3b596d,this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',_0x3b596d)),this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x3b596d);}get['opacity'](){return this['_color']['a'];}set['rect'](_0x1c5ad7){this['_rect']===_0x1c5ad7&&console['warn']('Setting\x20el'+'ement.rect'+'\x20to\x20itself'+'\x20will\x20have'+'\x20no\x20effect');let _0x497e88,_0x2b6b57,_0x57ac56,_0x2ce0c1;_0x1c5ad7 instanceof re?(_0x497e88=_0x1c5ad7['x'],_0x2b6b57=_0x1c5ad7['y'],_0x57ac56=_0x1c5ad7['z'],_0x2ce0c1=_0x1c5ad7['w']):(_0x497e88=_0x1c5ad7[0x1*0x7ca+-0x91*0x1+-0x739],_0x2b6b57=_0x1c5ad7[0xa56+-0x25b*0x8+0x1*0x883],_0x57ac56=_0x1c5ad7[-0x12fa+0x851*-0x1+-0xf1*-0x1d],_0x2ce0c1=_0x1c5ad7[-0x2291+-0x476*0x1+0x270a]),!(_0x497e88===this['_rect']['x']&&_0x2b6b57===this['_rect']['y']&&_0x57ac56===this['_rect']['z']&&_0x2ce0c1===this['_rect']['w'])&&(this['_rect']['set'](_0x497e88,_0x2b6b57,_0x57ac56,_0x2ce0c1),this['_renderabl'+'e']['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(-0x1*0x160f+0x1c76+0xb*-0x95):this['_updateMes'+'h'](this['_renderabl'+'e']['mesh'])));}get['rect'](){return this['_rect'];}['_removeMat'+'erialAsset'+'Events'](){if(this['_materialA'+'sset']){const _0x48bb72=this['_system']['app']['assets'];_0x48bb72['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this);const _0x4e8593=_0x48bb72['get'](this['_materialA'+'sset']);_0x4e8593&&(_0x4e8593['off']('load',this['_onMateria'+'lLoad'],this),_0x4e8593['off']('change',this['_onMateria'+'lChange'],this),_0x4e8593['off']('remove',this['_onMateria'+'lRemove'],this));}}set['material'](_0xa475eb){if(this['_material']!==_0xa475eb){if(!_0xa475eb){const _0x16fa58=this['_element']['_isScreenS'+'pace']();this['mask']?_0xa475eb=_0x16fa58?this['_system']['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']:this['_system']['defaultIma'+'geMaskMate'+'rial']:_0xa475eb=_0x16fa58?this['_system']['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']:this['_system']['defaultIma'+'geMaterial'];}if(this['_material']=_0xa475eb,this['_materialA'+'sset']){const _0x3510ec=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);(!_0x3510ec||_0x3510ec['resource']!==_0xa475eb)&&(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=null);}_0xa475eb&&(this['_renderabl'+'e']['setMateria'+'l'](_0xa475eb),this['_hasUserMa'+'terial']()?(this['_renderabl'+'e']['deletePara'+'meter']('material_o'+'pacity'),this['_renderabl'+'e']['deletePara'+'meter']('material_e'+'missive')):(this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a'])));}}get['material'](){return this['_material'];}set['materialAs'+'set'](_0x18dbe0){const _0x3c8682=this['_system']['app']['assets'];let _0x207da6=_0x18dbe0;if(_0x18dbe0 instanceof pe&&(_0x207da6=_0x18dbe0['id']),this['_materialA'+'sset']!==_0x207da6){if(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=_0x207da6,this['_materialA'+'sset']){const _0x45ccc1=_0x3c8682['get'](this['_materialA'+'sset']);_0x45ccc1?this['_bindMater'+'ialAsset'](_0x45ccc1):(this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x207da6,_0x3c8682['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this));}else this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x207da6;}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['texture'](_0x401c9d){if(this['_texture']!==_0x401c9d){if(this['_textureAs'+'set']){const _0x1a8fbe=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x1a8fbe&&_0x1a8fbe['resource']!==_0x401c9d&&(this['textureAss'+'et']=null);}if(this['_texture']=_0x401c9d,_0x401c9d){this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null),this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_texture']),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a']);const _0x350e49=this['_texture']['width']/this['_texture']['height'];_0x350e49!==this['_targetAsp'+'ectRatio']&&(this['_targetAsp'+'ectRatio']=_0x350e49,this['_element']['fitMode']!==th&&this['refreshMes'+'h']());}else this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'),this['_targetAsp'+'ectRatio']=-(-0x204e+-0x1*-0x7d8+0x1877),this['_element']['fitMode']!==th&&this['refreshMes'+'h']();}}get['texture'](){return this['_texture'];}set['textureAss'+'et'](_0x5a7f83){const _0x6e46f8=this['_system']['app']['assets'];let _0x3a7c06=_0x5a7f83;if(_0x5a7f83 instanceof pe&&(_0x3a7c06=_0x5a7f83['id']),this['_textureAs'+'set']!==_0x3a7c06){if(this['_textureAs'+'set']){_0x6e46f8['off']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this);const _0x3365c3=_0x6e46f8['get'](this['_textureAs'+'set']);_0x3365c3&&(_0x3365c3['off']('load',this['_onTexture'+'Load'],this),_0x3365c3['off']('change',this['_onTexture'+'Change'],this),_0x3365c3['off']('remove',this['_onTexture'+'Remove'],this));}if(this['_textureAs'+'set']=_0x3a7c06,this['_textureAs'+'set']){const _0xc7d3bd=_0x6e46f8['get'](this['_textureAs'+'set']);_0xc7d3bd?this['_bindTextu'+'reAsset'](_0xc7d3bd):(this['texture']=null,_0x6e46f8['on']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this));}else this['texture']=null;}}get['textureAss'+'et'](){return this['_textureAs'+'set'];}set['spriteAsse'+'t'](_0x192747){const _0x512504=this['_system']['app']['assets'];let _0x236344=_0x192747;if(_0x192747 instanceof pe&&(_0x236344=_0x192747['id']),this['_spriteAss'+'et']!==_0x236344){if(this['_spriteAss'+'et']){_0x512504['off']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this);const _0x5095ca=_0x512504['get'](this['_spriteAss'+'et']);_0x5095ca&&this['_unbindSpr'+'iteAsset'](_0x5095ca);}if(this['_spriteAss'+'et']=_0x236344,this['_spriteAss'+'et']){const _0x325517=_0x512504['get'](this['_spriteAss'+'et']);_0x325517?this['_bindSprit'+'eAsset'](_0x325517):(this['sprite']=null,_0x512504['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}this['_element']&&this['_element']['fire']('set:sprite'+'Asset',_0x236344);}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['sprite'](_0x5c557f){if(this['_sprite']!==_0x5c557f){if(this['_sprite']&&this['_unbindSpr'+'ite'](this['_sprite']),this['_spriteAss'+'et']){const _0x508952=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x508952&&_0x508952['resource']!==_0x5c557f&&(this['spriteAsse'+'t']=null);}this['_sprite']=_0x5c557f,this['_sprite']&&(this['_bindSprit'+'e'](this['_sprite']),this['_textureAs'+'set']&&(this['textureAss'+'et']=null)),this['_sprite']&&this['_sprite']['atlas']&&this['_sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap')),this['_sprite']&&(this['_spriteFra'+'me']=Y['clamp'](this['_spriteFra'+'me'],0x8*0x4a9+0x2467+-0x1*0x49af,this['_sprite']['frameKeys']['length']-(-0xb*0x95+0x71*-0xa+0xad2))),this['_updateSpr'+'ite']();}}get['sprite'](){return this['_sprite'];}set['spriteFram'+'e'](_0x49bbdd){const _0x46fcf1=this['_spriteFra'+'me'];this['_sprite']?this['_spriteFra'+'me']=Y['clamp'](_0x49bbdd,-0x97*0x42+-0x11*-0x7c+0x1eb2,this['_sprite']['frameKeys']['length']-(0x4d2+-0x1c8a*0x1+0x1*0x17b9)):this['_spriteFra'+'me']=_0x49bbdd,this['_spriteFra'+'me']!==_0x46fcf1&&this['_updateSpr'+'ite'](),this['_element']&&this['_element']['fire']('set:sprite'+'Frame',_0x49bbdd);}get['spriteFram'+'e'](){return this['_spriteFra'+'me'];}set['mesh'](_0x35bb23){this['_renderabl'+'e']['setMesh'](_0x35bb23),this['_defaultMe'+'sh']===_0x35bb23?this['_renderabl'+'e']['setAabbFun'+'c'](null):this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']);}get['mesh'](){return this['_renderabl'+'e']['mesh'];}set['mask'](_0x4466f0){this['_mask']!==_0x4466f0&&(this['_mask']=_0x4466f0,this['_toggleMas'+'k']());}get['mask'](){return this['_mask'];}set['pixelsPerU'+'nit'](_0x4fa5ab){this['_pixelsPer'+'Unit']!==_0x4fa5ab&&(this['_pixelsPer'+'Unit']=_0x4fa5ab,this['_sprite']&&(this['_sprite']['renderMode']===Pt||this['_sprite']['renderMode']===Mt)&&this['_updateSpr'+'ite']());}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}get['aabb'](){return this['_renderabl'+'e']['meshInstan'+'ce']?this['_renderabl'+'e']['meshInstan'+'ce']['aabb']:null;}}class hR extends me{constructor(_0x4e6d50){super(),this['_app']=_0x4e6d50,_0x4e6d50['i18n']['on'](wa['EVENT_CHAN'+'GE'],this['_onSetLoca'+'le'],this),this['_autoLoad']=!(-0x254b+-0x17e2+-0x2*-0x1e97),this['_disableLo'+'calization']=!(0x20*-0x107+0x2d3*-0x5+0x2f00),this['_defaultAs'+'set']=null,this['_localized'+'Asset']=null;}set['defaultAss'+'et'](_0x580958){const _0x37888b=_0x580958 instanceof pe?_0x580958['id']:_0x580958;this['_defaultAs'+'set']!==_0x37888b&&(this['_defaultAs'+'set']&&this['_unbindDef'+'aultAsset'](),this['_defaultAs'+'set']=_0x37888b,this['_defaultAs'+'set']&&this['_bindDefau'+'ltAsset'](),this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['defaultAss'+'et'](){return this['_defaultAs'+'set'];}set['localizedA'+'sset'](_0x3383cc){const _0x17cab9=_0x3383cc instanceof pe?_0x3383cc['id']:_0x3383cc;this['_localized'+'Asset']!==_0x17cab9&&(this['_localized'+'Asset']&&(this['_app']['assets']['off']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this),this['_unbindLoc'+'alizedAsse'+'t']()),this['_localized'+'Asset']=_0x17cab9,this['_localized'+'Asset']&&(this['_app']['assets']['get'](this['_localized'+'Asset'])?this['_bindLocal'+'izedAsset']():this['_app']['assets']['once']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this)));}get['localizedA'+'sset'](){return this['_localized'+'Asset'];}set['autoLoad'](_0x4ef072){this['_autoLoad']!==_0x4ef072&&(this['_autoLoad']=_0x4ef072,this['_autoLoad']&&this['_localized'+'Asset']&&(this['_unbindLoc'+'alizedAsse'+'t'](),this['_bindLocal'+'izedAsset']()));}get['autoLoad'](){return this['_autoLoad'];}set['disableLoc'+'alization'](_0x42b261){this['_disableLo'+'calization']!==_0x42b261&&(this['_disableLo'+'calization']=_0x42b261,this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['disableLoc'+'alization'](){return this['_disableLo'+'calization'];}['_bindDefau'+'ltAsset'](){const _0x5c2c54=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x5c2c54?this['_onDefault'+'AssetAdd'](_0x5c2c54):this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);}['_unbindDef'+'aultAsset'](){if(!this['_defaultAs'+'set'])return;this['_app']['assets']['off']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);const _0x542f34=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x542f34&&(_0x542f34['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x542f34['off']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x542f34['off']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetAdd'](_0x43e1b1){this['_defaultAs'+'set']===_0x43e1b1['id']&&(_0x43e1b1['on']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x43e1b1['on']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x43e1b1['once']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetRemov'+'e'](_0x1ec505){this['_defaultAs'+'set']===_0x1ec505['id']&&(_0x1ec505['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x1ec505['off']('remove:loc'+'alized',this['_onLocaleA'+'dd'],this),this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this));}['_bindLocal'+'izedAsset'](){if(!this['_autoLoad'])return;const _0x1f535d=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x1f535d&&(_0x1f535d['on']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x1f535d['on']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x1f535d['on']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this),_0x1f535d['resource']?this['_onLocaliz'+'edAssetLoa'+'d'](_0x1f535d):this['_app']['assets']['load'](_0x1f535d));}['_unbindLoc'+'alizedAsse'+'t'](){const _0xa17c82=this['_app']['assets']['get'](this['_localized'+'Asset']);_0xa17c82&&(_0xa17c82['off']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0xa17c82['off']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0xa17c82['off']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this));}['_onLocaliz'+'edAssetAdd'](_0x1f9a34){this['_localized'+'Asset']===_0x1f9a34['id']&&this['_bindLocal'+'izedAsset']();}['_onLocaliz'+'edAssetLoa'+'d'](_0x55dd96){this['fire']('load',_0x55dd96);}['_onLocaliz'+'edAssetCha'+'nge'](_0x29de63,_0x45206b,_0x39f86e,_0x14c964){this['fire']('change',_0x29de63,_0x45206b,_0x39f86e,_0x14c964);}['_onLocaliz'+'edAssetRem'+'ove'](_0x787188){this['_localized'+'Asset']===_0x787188['id']&&(this['localizedA'+'sset']=this['_defaultAs'+'set']),this['fire']('remove',_0x787188);}['_onLocaleA'+'dd'](_0x3f0451,_0x152e6e){this['_app']['i18n']['locale']===_0x3f0451&&this['_onSetLoca'+'le'](_0x3f0451);}['_onLocaleR'+'emove'](_0x2ffcd7,_0x4c48ab){this['_app']['i18n']['locale']===_0x2ffcd7&&this['_onSetLoca'+'le'](_0x2ffcd7);}['_onSetLoca'+'le'](_0x410bfa){if(!this['_defaultAs'+'set']){this['localizedA'+'sset']=null;return;}const _0x13a223=this['_app']['assets']['get'](this['_defaultAs'+'set']);if(!_0x13a223||this['_disableLo'+'calization']){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}const _0x265290=_0x13a223['getLocaliz'+'edAssetId'](_0x410bfa);if(!_0x265290){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}this['localizedA'+'sset']=_0x265290;}['destroy'](){this['defaultAss'+'et']=null,this['_app']['i18n']['off'](wa['EVENT_CHAN'+'GE'],this['_onSetLoca'+'le'],this),this['off']();}}const Rh='msdf',dR='bitmap',Mo=-0x9b+0x3*-0x57a+-0x59*-0x31,an=-0x12*0x13d+-0x85f+-0x13a*-0x19,Du=-0x3e5*0x3+-0x1a*-0x35+0x64f,Zv=0x5dc+-0x331+-0x1*0x2a8,Iu=0x163e+0x1c*0x35+0x1a6*-0x11,Lu=-0x883+0x5dd+0x1*0x2ab,Ru=-0x1591+0xc*-0x1c5+0x2ad3,Ou=0x4f4+-0x1*0x660+0x173,Xg=0x35*-0x1+0x176c+-0x172f,fR='\x20\x09\x0a\x0d\x0b\x0c',uR=/[\w|/]/;class pR{constructor(_0x1a9484){this['_symbols']=_0x1a9484,this['_index']=0x1bb0+0x126a+0x34b*-0xe,this['_last']=-0x1e7*0x6+0x14c6+-0x95c,this['_cur']=this['_symbols']['length']>-0xa01+0x1*-0x23b7+0x2db8?this['_symbols'][-0xa1f+0xe2f*0x2+-0x615*0x3]:null,this['_buf']=[],this['_mode']='text',this['_error']=null;}['read'](){let _0x57a62d=this['_read']();for(;_0x57a62d===Xg;)_0x57a62d=this['_read']();return _0x57a62d!==Mo&&_0x57a62d!==an&&(this['_last']=this['_index']),_0x57a62d;}['buf'](){return this['_buf'];}['last'](){return this['_last'];}['error'](){return this['_error'];}['debugPrint'](){const _0x53f4ba=['EOF','ERROR','TEXT','OPEN_BRACK'+'ET','CLOSE_BRAC'+'KET','EQUALS','STRING','IDENTIFIER','WHITESPACE'];let _0x549ab7=this['read'](),_0x1fa34d='';for(;_0x1fa34d+=(_0x1fa34d['length']>0x3*0x178+0xe25+-0x128d?'\x0a':'')+_0x53f4ba[_0x549ab7]+'\x20\x27'+this['buf']()['join']('')+'\x27',!(_0x549ab7===Mo||_0x549ab7===an);)_0x549ab7=this['read']();return _0x1fa34d;}['_read'](){return this['_buf']=[],this['_eof']()?Mo:this['_mode']==='text'?this['_text']():this['_tag']();}['_text'](){for(;;)switch(this['_cur']){case null:return this['_buf']['length']>-0x1517+-0x1f4c*0x1+-0x3463*-0x1?Du:Mo;case'[':return this['_mode']='tag',this['_buf']['length']>0x10*-0x265+0x167*-0x1+0x27b7?Du:this['_tag']();case'\x5c':switch(this['_next'](),this['_cur']){case'[':this['_store']();break;default:this['_output']('\x5c');break;}break;default:this['_store']();break;}}['_tag'](){switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20tag',an;case'[':return this['_store'](),Zv;case']':return this['_store'](),this['_mode']='text',Iu;case'=':return this['_store'](),Lu;case'\x20':case'\x09':case'\x0a':case'\x0d':case'\x0b':case'\x0c':return this['_whitespac'+'e']();case'\x22':return this['_string']();default:return this['_isIdentif'+'ierSymbol'](this['_cur'])?this['_identifie'+'r']():(this['_error']='unrecogniz'+'ed\x20charact'+'er',an);}}['_whitespac'+'e'](){for(this['_store']();fR['indexOf'](this['_cur'])!==-(0xebc+0x14f8*0x1+0x13*-0x1e1);)this['_store']();return Xg;}['_string'](){for(this['_next']();;)switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20string',an;case'\x22':return this['_next'](),Ru;default:this['_store']();break;}}['_identifie'+'r'](){for(this['_store']();this['_cur']!==null&&this['_isIdentif'+'ierSymbol'](this['_cur']);)this['_store']();return Ou;}['_isIdentif'+'ierSymbol'](_0x3ac9f8){return _0x3ac9f8['length']===0x1036+-0x17f5*0x1+-0x1f0*-0x4&&_0x3ac9f8['match'](uR)!==null;}['_eof'](){return this['_cur']===null;}['_next'](){return this['_eof']()||(this['_index']++,this['_cur']=this['_index']<this['_symbols']['length']?this['_symbols'][this['_index']]:null),this['_cur'];}['_store'](){return this['_buf']['push'](this['_cur']),this['_next']();}['_output'](_0x33dbc9){this['_buf']['push'](_0x33dbc9);}}class mR{constructor(_0x4e39a1){this['_scanner']=new pR(_0x4e39a1),this['_error']=null;}['parse'](_0x36af0e,_0x1d6f3f){for(;;)switch(this['_scanner']['read']()){case Mo:return!(-0x220*-0xa+0x1*-0x1d71+0x831);case an:return!(0x580+-0xdf8+0x1*0x879);case Du:Array['prototype']['push']['apply'](_0x36af0e,this['_scanner']['buf']());break;case Zv:if(!this['_parseTag'](_0x36af0e,_0x1d6f3f))return!(0x1d6b+-0xd*0xe9+-0x1*0x1195);break;default:return!(0x1*-0x1a8d+0x1*0x130b+0x783);}}['error'](){return'Error\x20eval'+'uating\x20mar'+'kup\x20at\x20#'+this['_scanner']['last']()['toString']()+'\x20('+(this['_scanner']['error']()||this['_error'])+')';}['_parseTag'](_0x47a34a,_0x5cb7cd){let _0x340ee5=this['_scanner']['read']();if(_0x340ee5!==Ou)return this['_error']='expected\x20i'+'dentifier',!(0x1c*0x13c+0x199c+-0x3c2b);const _0x13fb32=this['_scanner']['buf']()['join']('');if(_0x13fb32[0x2*0x6f1+0x293+0xb*-0x17f]==='/'){for(let _0x41237d=_0x5cb7cd['length']-(0x37*-0x89+-0x8f7+0x3*0xccd);_0x41237d>=-0x30*-0x87+-0x17*0x27+0x745*-0x3;--_0x41237d)if(_0x13fb32==='/'+_0x5cb7cd[_0x41237d]['name']&&_0x5cb7cd[_0x41237d]['end']===null)return _0x5cb7cd[_0x41237d]['end']=_0x47a34a['length'],_0x340ee5=this['_scanner']['read'](),_0x340ee5!==Iu?(this['_error']='expected\x20c'+'lose\x20brack'+'et',!(0x26e6+0x2471+-0x4b56)):!(-0xd3*-0x12+0x1e9e+-0x2d74);return this['_error']='failed\x20to\x20'+'find\x20match'+'ing\x20tag',!(0xb1f+-0x362+-0x7bc);}const _0x19fec7={'name':_0x13fb32,'value':null,'attributes':{},'start':_0x47a34a['length'],'end':null};if(_0x340ee5=this['_scanner']['read'](),_0x340ee5===Lu){if(_0x340ee5=this['_scanner']['read'](),_0x340ee5!==Ru)return this['_error']='expected\x20s'+'tring',!(-0x17*-0x6c+0xc*0x2f4+-0x1*0x2d23);_0x19fec7['value']=this['_scanner']['buf']()['join'](''),_0x340ee5=this['_scanner']['read']();}for(;;){switch(_0x340ee5){case Iu:return _0x5cb7cd['push'](_0x19fec7),!(0x2087+-0x18cb*-0x1+0x29b*-0x16);case Ou:{const _0x309f26=this['_scanner']['buf']()['join']('');if(_0x340ee5=this['_scanner']['read'](),_0x340ee5!==Lu)return this['_error']='expected\x20e'+'quals',!(0x23b3+0x13*-0x7+0x5*-0x709);if(_0x340ee5=this['_scanner']['read'](),_0x340ee5!==Ru)return this['_error']='expected\x20s'+'tring',!(0x1c2e+-0xa02+-0x122b);const _0x2a25a3=this['_scanner']['buf']()['join']('');_0x19fec7['attributes'][_0x309f26]=_0x2a25a3;break;}default:return this['_error']='expected\x20c'+'lose\x20brack'+'et\x20or\x20iden'+'tifier',!(-0x211*-0x3+0x1927+-0x1f59);}_0x340ee5=this['_scanner']['read']();}}}function Qv(_0x45d3c8,_0x8d24d0){for(const _0x57eb0e in _0x8d24d0){if(!_0x8d24d0['hasOwnProp'+'erty'](_0x57eb0e))continue;const _0x25ef05=_0x8d24d0[_0x57eb0e];_0x25ef05 instanceof Object?(_0x45d3c8['hasOwnProp'+'erty'](_0x57eb0e)||(_0x45d3c8[_0x57eb0e]={}),Qv(_0x45d3c8[_0x57eb0e],_0x8d24d0[_0x57eb0e])):_0x45d3c8[_0x57eb0e]=_0x25ef05;}}function _R(_0x42073c){if(_0x42073c['length']===0xe2b+0x9*0x17e+0x9d*-0x2d)return null;const _0x44bb25={};for(let _0x5a6b7b=-0x557*-0x1+0x49*0x1b+-0xd0a;_0x5a6b7b<_0x42073c['length'];++_0x5a6b7b){const _0x56cf44=_0x42073c[_0x5a6b7b],_0x580f10={};_0x580f10[_0x56cf44['name']]={'value':_0x56cf44['value'],'attributes':_0x56cf44['attributes']},Qv(_0x44bb25,_0x580f10);}return _0x44bb25;}function gR(_0x4e2adb,_0x25664b){if(_0x4e2adb['length']===0x16dd*0x1+0x1*-0x64d+0xa*-0x1a8)return null;const _0x441c56={};for(let _0x109024=0x262*0xa+-0x35*-0x2b+-0xae9*0x3;_0x109024<_0x4e2adb['length'];++_0x109024){const _0x1aa3d7=_0x4e2adb[_0x109024];_0x441c56['hasOwnProp'+'erty'](_0x1aa3d7['start'])?_0x441c56[_0x1aa3d7['start']]['open']===null?_0x441c56[_0x1aa3d7['start']]['open']=[_0x1aa3d7]:_0x441c56[_0x1aa3d7['start']]['open']['push'](_0x1aa3d7):_0x441c56[_0x1aa3d7['start']]={'open':[_0x1aa3d7],'close':null},_0x441c56['hasOwnProp'+'erty'](_0x1aa3d7['end'])?_0x441c56[_0x1aa3d7['end']]['close']===null?_0x441c56[_0x1aa3d7['end']]['close']=[_0x1aa3d7]:_0x441c56[_0x1aa3d7['end']]['close']['push'](_0x1aa3d7):_0x441c56[_0x1aa3d7['end']]={'open':null,'close':[_0x1aa3d7]};}let _0x3f1982=[];function _0xf77c7f(_0x4b3d4e){_0x3f1982=_0x3f1982['filter'](_0x18c709=>_0x4b3d4e['find'](_0x1b2392=>_0x1b2392===_0x18c709)===void(-0x3a7+0x323*0x7+-0x1aa*0xb));}function _0x5cac61(_0x591a35){for(let _0x1c0118=-0x38b*0x2+0xa47+-0x331;_0x1c0118<_0x591a35['length'];++_0x1c0118)_0x3f1982['push'](_0x591a35[_0x1c0118]);}const _0x4672b2=Object['keys'](_0x441c56)['sort']((_0x49a6e3,_0x404a0e)=>_0x49a6e3-_0x404a0e),_0x2b2753=[];for(let _0x179e9c=-0x17*-0xce+0x9e6*-0x2+0x42*0x5;_0x179e9c<_0x4672b2['length'];++_0x179e9c){const _0x2d61dc=_0x441c56[_0x4672b2[_0x179e9c]];_0x2d61dc['close']!==null&&_0xf77c7f(_0x2d61dc['close']),_0x2d61dc['open']!==null&&_0x5cac61(_0x2d61dc['open']),_0x2b2753['push']({'start':_0x4672b2[_0x179e9c],'tags':_R(_0x3f1982)});}const _0x5b3f12=[];let _0x2f6ffc=null;for(let _0xa37964=0x7*-0x33d+0xa0a+0x35*0x3d;_0xa37964<_0x2b2753['length'];++_0xa37964){const _0x346814=_0x2b2753[_0xa37964];for(;_0x5b3f12['length']<_0x346814['start'];)_0x5b3f12['push'](_0x2f6ffc?_0x2f6ffc['tags']:null);_0x2f6ffc=_0x346814;}for(;_0x5b3f12['length']<_0x25664b;)_0x5b3f12['push'](null);return _0x5b3f12;}function SR(_0x1b160b){const _0x45ffa3=new mR(_0x1b160b),_0x58d9f3=[],_0x252e05=[];if(!_0x45ffa3['parse'](_0x58d9f3,_0x252e05))return console['warn'](_0x45ffa3['error']()),{'symbols':_0x1b160b,'tags':null};const _0x19cbdc=_0x252e05['find'](_0x7e6b2c=>_0x7e6b2c['end']===null);if(_0x19cbdc)return console['warn']('Markup\x20err'+'or:\x20found\x20'+'unclosed\x20t'+'ag=\x27'+_0x19cbdc['name']+'\x27'),{'symbols':_0x1b160b,'tags':null};const _0x463518=gR(_0x252e05,_0x58d9f3['length']);return{'symbols':_0x58d9f3,'tags':_0x463518};}class yR{static['evaluate'](_0x3d70e4){return SR(_0x3d70e4);}}class vR{constructor(){this['count']=0x19ce+0x26ea+-0x40b8,this['quad']=-0x1766*0x1+0x342*0x9+-0x5ec,this['lines']={},this['positions']=[],this['normals']=[],this['uvs']=[],this['colors']=[],this['indices']=[],this['outlines']=[],this['shadows']=[],this['meshInstan'+'ce']=null;}}function xR(_0x30ca8c,_0x2ea0fb){const _0x7392b2=new Ge(_0x30ca8c);return _0x7392b2['setPositio'+'ns'](_0x2ea0fb['positions']),_0x7392b2['setNormals'](_0x2ea0fb['normals']),_0x7392b2['setColors3'+'2'](_0x2ea0fb['colors']),_0x7392b2['setUvs'](-0x7f*0xb+0x4e*0x31+-0x61*0x19,_0x2ea0fb['uvs']),_0x7392b2['setIndices'](_0x2ea0fb['indices']),_0x7392b2['setVertexS'+'tream'](Ko,_0x2ea0fb['outlines'],0xd25*0x1+0x3*-0xa98+0x12a6,void(-0x197b+-0x2590+0x3f0b),Ve,!(0x26cb+-0x12c+0x2d*-0xd6)),_0x7392b2['setVertexS'+'tream'](Zo,_0x2ea0fb['shadows'],-0x1d65+0x1986+0x7*0x8e,void(0x36e*-0x2+-0x252a+0x2c06),Ve,!(-0x1257+-0xdda*-0x2+-0x95c)),_0x7392b2['update'](),_0x7392b2;}const qg=/^[\r\n]$/,TR=/^[ \t]$/,jg=/^[ \t\-]|\u200b$/,wR=/^[a-z0-9]$/i,Yg=/^[\u1100-\u11ff]|[\u3000-\u9fff\ua960-\ua97f]|[\uac00-\ud7ff]$/,ER=/^[]$/,bR=['','','','','','','','','','','','',''],AR={'width':0x0,'height':0x0,'xadvance':0x0,'xoffset':0x0,'yoffset':0x0},Kg=new ie(),CR=new J(),We=new ie();class PR{constructor(_0x30510c){this['_element']=_0x30510c,this['_system']=_0x30510c['system'],this['_entity']=_0x30510c['entity'],this['_text']='',this['_symbols']=[],this['_colorPale'+'tte']=[],this['_outlinePa'+'lette']=[],this['_shadowPal'+'ette']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null,this['_i18nKey']=null,this['_fontAsset']=new hR(this['_system']['app']),this['_fontAsset']['disableLoc'+'alization']=!(0x904*-0x4+-0x19d+0x25ad),this['_fontAsset']['on']('load',this['_onFontLoa'+'d'],this),this['_fontAsset']['on']('change',this['_onFontCha'+'nge'],this),this['_fontAsset']['on']('remove',this['_onFontRem'+'ove'],this),this['_font']=null,this['_color']=new ie(0x76e+-0x1a48+-0x1*-0x12db,0x4d4*0x7+0x2*-0x7e5+-0x1201,0x7*0x4f3+-0x1b1a*-0x1+-0x3dbe,-0x10b8+-0x968+0x1a21*0x1),this['_colorUnif'+'orm']=new Float32Array(0x182*0x5+-0x3ef*0x3+0x446),this['_spacing']=0xaf6+-0x2bb*0x3+-0x2c4,this['_fontSize']=-0x19ca+0xe65+-0x1*-0xb85,this['_fontMinY']=0xa*-0x1e+0x2394*-0x1+0x24c0,this['_fontMaxY']=0x249d+-0x1573+0xf2a*-0x1,this['_originalF'+'ontSize']=0x19d5+0x2039+-0x39ee,this['_maxFontSi'+'ze']=0x56a+-0x443*0x8+-0xe67*-0x2,this['_minFontSi'+'ze']=-0xd*0x2ad+0xdfa*-0x1+0x30cb,this['_autoFitWi'+'dth']=!(0x21f5+0x4c6+-0x26ba),this['_autoFitHe'+'ight']=!(-0x1*0x195d+0x1*-0x25+0x1983),this['_maxLines']=-(-0x1f33+-0xfb7+0x2eeb),this['_lineHeigh'+'t']=0x78e+-0x1918+0x11aa,this['_scaledLin'+'eHeight']=0xf6b+0x21cc+-0x3117,this['_wrapLines']=!(0x26*0x95+-0x13a*-0x1+0xef*-0x19),this['_drawOrder']=-0xe5e+-0x163+0xfc1,this['_alignment']=new J(0x2459+0xba*0x14+-0x32e1+0.5,0x6ca+-0x197e+0x6*0x31e+0.5),this['_autoWidth']=!(-0x4*-0x29d+-0x4a*0x67+-0x1352*-0x1),this['_autoHeigh'+'t']=!(-0x1d8b*-0x1+0x21a*-0xb+-0x66d),this['width']=0x17a2+-0x2b+-0x1777,this['height']=-0x2261+0x95*0x23+0xe02,this['_node']=new Ie(),this['_model']=new sr(),this['_model']['graph']=this['_node'],this['_entity']['addChild'](this['_node']),this['_meshInfo']=[],this['_material']=null,this['_aabbDirty']=!(0x148b+-0x2571+0x10e6),this['_aabb']=new De(),this['_noResize']=!(0x208e+0x2468+-0x8b*0x7f),this['_currentMa'+'terialType']=null,this['_maskedMat'+'erialSrc']=null,this['_rtlReorde'+'r']=!(-0x1f51+-0xe7f+-0x2dd1*-0x1),this['_unicodeCo'+'nverter']=!(0x10d*-0x23+-0x2*0xe9+-0x225*-0x12),this['_rtl']=!(-0x771*-0x1+-0x1f25+0x17b5),this['_outlineCo'+'lor']=new ie(0x4a*-0x7+-0x1683+-0x23b*-0xb,0x1*-0xe65+-0x33*-0x3+0xdcc,0xb*0x347+-0x1541+-0xecc*0x1,0x20c8*-0x1+-0x104f+0x8*0x623),this['_outlineCo'+'lorUniform']=new Float32Array(0xc32+-0x2*-0x12bf+-0x31ac),this['_outlineTh'+'icknessSca'+'le']=-0x1896+0x13a*0x3+0x6*0x37c+0.2,this['_outlineTh'+'ickness']=0x4*-0x463+0x8*-0x11e+-0x153*-0x14,this['_shadowCol'+'or']=new ie(0x10e4+-0x1*-0x18d+-0x1271,-0x13*0x137+0x1*-0x179f+0x2eb4,0x26dc+-0x1c70+-0xa6c,-0x8e7+-0x2*-0x1272+-0x1bfc),this['_shadowCol'+'orUniform']=new Float32Array(0x3a2+-0x7*-0xee+-0xa20),this['_shadowOff'+'setScale']=0x22de*-0x1+0x1cfa+0x1*0x5e4+0.005,this['_shadowOff'+'set']=new J(-0x705+-0xca5+-0x68e*-0x3,0x22d*-0x8+-0xb19+0x1c81),this['_shadowOff'+'setUniform']=new Float32Array(0xf95+0x233c+0x32cf*-0x1),this['_enableMar'+'kup']=!(0x16d*-0x9+0x29c+-0xe*-0xbb),this['_onScreenC'+'hange'](this['_element']['screen']),_0x30510c['on']('resize',this['_onParentR'+'esize'],this),_0x30510c['on']('set:screen',this['_onScreenC'+'hange'],this),_0x30510c['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),_0x30510c['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),_0x30510c['on']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['on'](wa['EVENT_CHAN'+'GE'],this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['on']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['on']('data:remov'+'e',this['_onLocaliz'+'ationData'],this),this['_rangeStar'+'t']=0x17a4+-0x40f+-0x1395,this['_rangeEnd']=0x19ec+0xe5*-0x27+0x9*0xff;}['destroy'](){this['_setMateri'+'al'](null),this['_model']&&(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),this['_model']['destroy'](),this['_model']=null),this['_fontAsset']['destroy'](),this['font']=null,this['_element']['off']('resize',this['_onParentR'+'esize'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['off'](wa['EVENT_CHAN'+'GE'],this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['off']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['off']('data:remov'+'e',this['_onLocaliz'+'ationData'],this);}['_onParentR'+'esize'](_0x1a6c0e,_0xc3efe3){this['_noResize']||this['_font']&&this['_updateTex'+'t']();}['_onScreenC'+'hange'](_0x25825a){_0x25825a?this['_updateMat'+'erial'](_0x25825a['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0x175*0xe+0x8af+0xbb8));}['_onScreenS'+'paceChange'](_0x3f62fc){this['_updateMat'+'erial'](_0x3f62fc);}['_onDrawOrd'+'erChange'](_0x21eb47){if(this['_drawOrder']=_0x21eb47,this['_model']){for(let _0x18665b=-0xc1e+0x1f19+-0x2b*0x71,_0x2fccb2=this['_model']['meshInstan'+'ces']['length'];_0x18665b<_0x2fccb2;_0x18665b++)this['_model']['meshInstan'+'ces'][_0x18665b]['drawOrder']=_0x21eb47;}}['_onPivotCh'+'ange'](_0x2b8829){this['_font']&&this['_updateTex'+'t']();}['_onLocaleS'+'et'](_0x1763ec){if(this['_i18nKey']){if(this['fontAsset']){const _0xa4984d=this['_system']['app']['assets']['get'](this['fontAsset']);(!_0xa4984d||!_0xa4984d['resource']||_0xa4984d['resource']!==this['_font'])&&(this['font']=null);}this['_resetLoca'+'lizedText']();}}['_onLocaliz'+'ationData'](_0x15affa,_0x141ef6){this['_i18nKey']&&_0x141ef6[this['_i18nKey']]&&this['_resetLoca'+'lizedText']();}['_resetLoca'+'lizedText'](){this['_setText'](this['_system']['app']['i18n']['getText'](this['_i18nKey']));}['_setText'](_0x5d0643){if(this['unicodeCon'+'verter']){const _0x4cda68=this['_system']['getUnicode'+'Converter']();_0x4cda68?_0x5d0643=_0x4cda68(_0x5d0643):console['warn']('Element\x20cr'+'eated\x20with'+'\x20unicodeCo'+'nverter\x20op'+'tion\x20but\x20n'+'o\x20unicodeC'+'onverter\x20f'+'unction\x20re'+'gistered');}this['_text']!==_0x5d0643&&(this['_font']&&this['_updateTex'+'t'](_0x5d0643),this['_text']=_0x5d0643);}['_updateTex'+'t'](_0x57abf8){let _0x31b1d7;if(_0x57abf8===void(-0x5*0x41a+-0x9ad+0x1e2f)&&(_0x57abf8=this['_text']),this['_symbols']=Hc['getSymbols'](_0x57abf8['normalize']?_0x57abf8['normalize']('NFC'):_0x57abf8),this['_symbols']['length']===0x530+-0x12ce*0x1+0xd9e&&(this['_symbols']=['\x20']),this['_enableMar'+'kup']){const _0x2a05cd=yR['evaluate'](this['_symbols']);this['_symbols']=_0x2a05cd['symbols'],_0x31b1d7=_0x2a05cd['tags']||[];}if(this['_rtlReorde'+'r']){const _0x29a77b=this['_system']['app']['systems']['element']['getRtlReor'+'der']();if(_0x29a77b){const _0x48ab08=_0x29a77b(this['_symbols']);this['_rtl']=_0x48ab08['rtl'],this['_symbols']=_0x48ab08['mapping']['map'](function(_0x23f2dd){return this['_symbols'][_0x23f2dd];},this),_0x31b1d7&&(_0x31b1d7=_0x48ab08['mapping']['map'](_0x33e59a=>_0x31b1d7[_0x33e59a]));}else console['warn']('Element\x20cr'+'eated\x20with'+'\x20rtlReorde'+'r\x20option\x20b'+'ut\x20no\x20rtlR'+'eorder\x20fun'+'ction\x20regi'+'stered');}else this['_rtl']=!(0x8*-0x254+-0x146b*-0x1+0x1ca*-0x1);const _0x4bb769=(_0xea8240,_0x2265f6)=>_0xea8240['toString'](!(0x15b0+0x37*0x1d+-0x1beb))['toLowerCas'+'e']()+':'+_0x2265f6['toFixed'](-0x666+-0x87*-0x2b+-0x1045),_0x4de37f=(_0x482178,_0x266f8c)=>_0x482178['toString'](!(0x1*-0x121+0x9*0xf3+-0x2*0x3b5))['toLowerCas'+'e']()+':'+_0x266f8c['x']['toFixed'](0xd*0x18e+0x99b*0x3+-0x3105)+':'+_0x266f8c['y']['toFixed'](0x6b*0x45+-0x1af*0x1+-0x1b26);if(_0x31b1d7){const _0x573a73={},_0x285168={},_0x23e9ea={};this['_colorPale'+'tte']=[Math['round'](this['_color']['r']*(-0xab6+-0xede+0x1a93*0x1)),Math['round'](this['_color']['g']*(0x16b1+-0x251*0x4+-0xc6e)),Math['round'](this['_color']['b']*(0x1f3e+-0xd1c+-0x1123))],this['_outlinePa'+'lette']=[Math['round'](this['_outlineCo'+'lor']['r']*(-0x2315+0xf15+-0x19*-0xd7)),Math['round'](this['_outlineCo'+'lor']['g']*(-0x192c+0x8cb*0x1+0x1160)),Math['round'](this['_outlineCo'+'lor']['b']*(0x57*-0x25+0x3df+0x9b3)),Math['round'](this['_outlineCo'+'lor']['a']*(0x1*-0xa63+-0x36+0x8*0x173)),Math['round'](this['_outlineTh'+'ickness']*(-0x1b16+-0xc93+0x8*0x515))],this['_shadowPal'+'ette']=[Math['round'](this['_shadowCol'+'or']['r']*(0x25fa+-0x1a43+-0xab8)),Math['round'](this['_shadowCol'+'or']['g']*(-0x1de*0xc+-0xb9*0x17+0x2806)),Math['round'](this['_shadowCol'+'or']['b']*(0xa1b+-0x38*0x1c+-0x1*0x2fc)),Math['round'](this['_shadowCol'+'or']['a']*(-0x21d8+-0xe89+0x10*0x316)),Math['round'](this['_shadowOff'+'set']['x']*(-0x3d7*-0x1+-0x2272+0x1f1a)),Math['round'](this['_shadowOff'+'set']['y']*(-0x9e+0x99*-0x21+0x14d6*0x1))],this['_symbolCol'+'ors']=[],this['_symbolOut'+'lineParams']=[],this['_symbolSha'+'dowParams']=[],_0x573a73[this['_color']['toString'](!(0x20b6+-0x1*0x2513+-0x56*-0xd))['toLowerCas'+'e']()]=0x223b+-0x11cb+-0x838*0x2,_0x285168[_0x4bb769(this['_outlineCo'+'lor'],this['_outlineTh'+'ickness'])]=-0x216+-0x1fe2+0x21f8*0x1,_0x23e9ea[_0x4de37f(this['_shadowCol'+'or'],this['_shadowOff'+'set'])]=-0x2*0x3ac+0x22a5+-0x1b4d;for(let _0x50cf5a=-0xef2+-0x1*0x67d+0x156f,_0x4dfff3=this['_symbols']['length'];_0x50cf5a<_0x4dfff3;++_0x50cf5a){const _0xe6dafc=_0x31b1d7[_0x50cf5a];let _0x2f94ae=-0xaa7+-0xefe+0x19a5;if(_0xe6dafc&&_0xe6dafc['color']&&_0xe6dafc['color']['value']){const _0x72b96e=_0xe6dafc['color']['value'];if(_0x72b96e['length']===-0x7f1*0x1+-0x9e2+0x5*0x392&&_0x72b96e[-0x1421+0x1bdb+-0x17*0x56]==='#'){const _0xbf0c11=_0x72b96e['substring'](0x2046+0x335*-0xb+0x23*0x16)['toLowerCas'+'e']();_0x573a73['hasOwnProp'+'erty'](_0xbf0c11)?_0x2f94ae=_0x573a73[_0xbf0c11]:/^[0-9a-f]{6}$/['test'](_0xbf0c11)&&(_0x2f94ae=this['_colorPale'+'tte']['length']/(-0x5*0x23+-0x2*0xd67+0x1b80),_0x573a73[_0xbf0c11]=_0x2f94ae,this['_colorPale'+'tte']['push'](parseInt(_0xbf0c11['substring'](-0x1a1+0x2*-0xd5b+-0x1*-0x1c57,0x1f3+-0x2025+0x2*0xf1a),0x1a67+-0x17a8+-0x2af)),this['_colorPale'+'tte']['push'](parseInt(_0xbf0c11['substring'](0x241+-0x1f03+-0x2*-0xe62,0x15fc+-0x203*-0x4+-0x2*0xf02),-0xb7*0x7+-0x901*-0x3+-0x1*0x15f2)),this['_colorPale'+'tte']['push'](parseInt(_0xbf0c11['substring'](0x34f*-0xb+0x1*0x21bc+0x89*0x5,-0x24b2+-0x1*0x1873+-0x8bd*-0x7),-0x1*0x1bf3+-0x3*-0xc9+0x19a8)));}}this['_symbolCol'+'ors']['push'](_0x2f94ae);let _0x2b4890=-0x39*0x17+0x1893+0x19f*-0xc;if(_0xe6dafc&&_0xe6dafc['outline']&&(_0xe6dafc['outline']['attributes']['color']||_0xe6dafc['outline']['attributes']['thickness'])){let _0x4c3f79=_0xe6dafc['outline']['attributes']['color']?Kg['fromString'](_0xe6dafc['outline']['attributes']['color']):this['_outlineCo'+'lor'],_0x1bb209=Number(_0xe6dafc['outline']['attributes']['thickness']);(Number['isNaN'](_0x4c3f79['r'])||Number['isNaN'](_0x4c3f79['g'])||Number['isNaN'](_0x4c3f79['b'])||Number['isNaN'](_0x4c3f79['a']))&&(_0x4c3f79=this['_outlineCo'+'lor']),Number['isNaN'](_0x1bb209)&&(_0x1bb209=this['_outlineTh'+'ickness']);const _0x2863e5=_0x4bb769(_0x4c3f79,_0x1bb209);_0x285168['hasOwnProp'+'erty'](_0x2863e5)?_0x2b4890=_0x285168[_0x2863e5]:(_0x2b4890=this['_outlinePa'+'lette']['length']/(-0x25a9+-0x15dd+0x3b8b),_0x285168[_0x2863e5]=_0x2b4890,this['_outlinePa'+'lette']['push'](Math['round'](_0x4c3f79['r']*(0x210a+0x1*0x1677+0x2*-0x1b41)),Math['round'](_0x4c3f79['g']*(0xb60+0x49*-0x17+-0x3d2)),Math['round'](_0x4c3f79['b']*(-0x6af+-0x1*0x10e5+0x1893)),Math['round'](_0x4c3f79['a']*(-0x4*0x1ec+-0x2117+0x29c6)),Math['round'](_0x1bb209*(-0x235*-0x2+0x994+-0xcff))));}this['_symbolOut'+'lineParams']['push'](_0x2b4890);let _0x40f694=0x1*-0x1f1b+-0x1*-0x1453+0xac8;if(_0xe6dafc&&_0xe6dafc['shadow']&&(_0xe6dafc['shadow']['attributes']['color']||_0xe6dafc['shadow']['attributes']['offset']||_0xe6dafc['shadow']['attributes']['offsetX']||_0xe6dafc['shadow']['attributes']['offsetY'])){let _0x2cc8a5=_0xe6dafc['shadow']['attributes']['color']?Kg['fromString'](_0xe6dafc['shadow']['attributes']['color']):this['_shadowCol'+'or'];const _0x317a6b=Number(_0xe6dafc['shadow']['attributes']['offset']),_0x4a6572=Number(_0xe6dafc['shadow']['attributes']['offsetX']),_0x20a28f=Number(_0xe6dafc['shadow']['attributes']['offsetY']);(Number['isNaN'](_0x2cc8a5['r'])||Number['isNaN'](_0x2cc8a5['g'])||Number['isNaN'](_0x2cc8a5['b'])||Number['isNaN'](_0x2cc8a5['a']))&&(_0x2cc8a5=this['_shadowCol'+'or']);const _0x13ee39=CR['set'](Number['isNaN'](_0x4a6572)?Number['isNaN'](_0x317a6b)?this['_shadowOff'+'set']['x']:_0x317a6b:_0x4a6572,Number['isNaN'](_0x20a28f)?Number['isNaN'](_0x317a6b)?this['_shadowOff'+'set']['y']:_0x317a6b:_0x20a28f),_0x35524f=_0x4de37f(_0x2cc8a5,_0x13ee39);_0x23e9ea['hasOwnProp'+'erty'](_0x35524f)?_0x40f694=_0x23e9ea[_0x35524f]:(_0x40f694=this['_shadowPal'+'ette']['length']/(-0x479*-0x1+0x4*-0x4f4+0xf5d),_0x23e9ea[_0x35524f]=_0x40f694,this['_shadowPal'+'ette']['push'](Math['round'](_0x2cc8a5['r']*(0x3ad+-0x12e1+0x1033)),Math['round'](_0x2cc8a5['g']*(-0x4*0x54d+-0x2*0x11f5+0x227*0x1b)),Math['round'](_0x2cc8a5['b']*(0xec*0x26+0xb*-0xd+-0x6b2*0x5)),Math['round'](_0x2cc8a5['a']*(0x2285+0x8ec*-0x4+-0x2*-0x115)),Math['round'](_0x13ee39['x']*(0x99c+0xe36+-0x355*0x7)),Math['round'](_0x13ee39['y']*(0x2*-0x213+0x14a*-0x1d+0x2a07))));}this['_symbolSha'+'dowParams']['push'](_0x40f694);}}else this['_colorPale'+'tte']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null;this['_updateMat'+'erialEmiss'+'ive'](),this['_updateMat'+'erialOutli'+'ne'](),this['_updateMat'+'erialShado'+'w']();const _0x58e5e8=this['_calculate'+'CharsPerTe'+'xture']();let _0x30f96f=!(0xec*0x1d+0x2445+0x80*-0x7e);const _0x356c3e=this['_element'],_0x44144f=_0x356c3e['_isScreenS'+'pace'](),_0x20f353=_0x356c3e['_isScreenC'+'ulled'](),_0x5c8ef7=function(_0x38dc39){return _0x356c3e['isVisibleF'+'orCamera'](_0x38dc39);};for(let _0x2c891f=-0x19ea+-0x1d75+0x20d*0x1b,_0x2bd9d9=this['_meshInfo']['length'];_0x2c891f<_0x2bd9d9;_0x2c891f++){const _0xd00182=_0x58e5e8[_0x2c891f]||-0x20df+-0x69d*-0x3+0xd08,_0x22836b=this['_meshInfo'][_0x2c891f];if(_0x22836b['count']!==_0xd00182){if(_0x30f96f||(_0x356c3e['removeMode'+'lFromLayer'+'s'](this['_model']),_0x30f96f=!(0x9f*-0x1c+0x225c+0x43e*-0x4)),_0x22836b['count']=_0xd00182,_0x22836b['positions']['length']=_0x22836b['normals']['length']=_0xd00182*(0x25*0xe7+0x24a7+-0x4607)*(-0x2*0xed7+-0x1e2+0x1f94),_0x22836b['indices']['length']=_0xd00182*(0x1*0x949+0x1*0x17ac+-0x20f2)*(-0x177a+-0x2079+0x37f5),_0x22836b['uvs']['length']=_0xd00182*(0x29a+-0x12c1*0x1+-0x24f*-0x7)*(-0x277*-0xb+0x93d*-0x1+-0x11dc),_0x22836b['colors']['length']=_0xd00182*(-0x91c+0x32*-0x20+0xf60)*(-0x3*0x935+0x9f5*-0x3+0x3982),_0x22836b['outlines']['length']=_0xd00182*(0x1*-0x1319+-0xce*-0x20+-0x6a3*0x1)*(0x10f*-0x2+-0x186+-0x1*-0x3a7),_0x22836b['shadows']['length']=_0xd00182*(-0x1505*-0x1+0x17d1+0x2*-0x1669)*(0xfa4*0x1+-0xb3*0x31+0x31b*0x6),_0x22836b['meshInstan'+'ce']&&this['_removeMes'+'hInstance'](_0x22836b['meshInstan'+'ce']),_0xd00182===-0x3e*-0x15+0x2*0x295+-0xa40){_0x22836b['meshInstan'+'ce']=null;continue;}for(let _0x2ceb4c=-0x7ae+-0x1acd+0x2a7*0xd;_0x2ceb4c<_0xd00182;_0x2ceb4c++)_0x22836b['indices'][_0x2ceb4c*(-0x2*0x496+-0x2141*0x1+0x1538*0x2)*(0x20af+-0x60a*0x4+-0x885)+(-0x1826+-0x115*0x2+0x1a50)]=_0x2ceb4c*(-0x1*-0xe56+-0x9*-0x31d+-0x3*0xe1d),_0x22836b['indices'][_0x2ceb4c*(-0x12b5*-0x1+-0x59*0x9+0x31d*-0x5)*(0x1*-0x64b+-0x79*-0x45+-0x1a50)+(-0x1146+-0x20a2+-0x1*-0x31e9)]=_0x2ceb4c*(-0x258c+0xa*0x1df+0x26*0x7f)+(-0x747+-0x7*-0x25+-0x217*-0x3),_0x22836b['indices'][_0x2ceb4c*(0x1*-0x665+-0x304*-0xb+0x3*-0x8ec)*(-0x7*-0xac+-0x25d2+0x2120)+(-0x6cf+-0x13ab*-0x1+-0xa*0x149)]=_0x2ceb4c*(0x1c48+-0xf7a*-0x1+-0x15df*0x2)+(0x2*-0x928+0xcf1*-0x1+0x1f44),_0x22836b['indices'][_0x2ceb4c*(0x409*-0x8+0x196e+0x6dd)*(0x155*-0x7+0xba9+0x12a*-0x2)+(-0x159b+-0x177*-0x17+-0xc13*0x1)]=_0x2ceb4c*(-0x463*-0x3+-0x6c3*0x5+0x14aa)+(-0xbf3+-0x1*0x1b2f+0x2724),_0x22836b['indices'][_0x2ceb4c*(-0x1*-0x32b+0x3*0xbdd+-0x26bf)*(0x1d9+-0xec4+0x1*0xced)+(0xdf*-0x11+-0xd5*-0x9+0x3ab*0x2)]=_0x2ceb4c*(0x2*0x236+0x10a*0x3+-0x786)+(-0xffe+-0x108c+0x208d),_0x22836b['indices'][_0x2ceb4c*(0x1*-0x1bb6+-0x1f5e*0x1+0x3b17)*(-0x17*0xb3+-0x75c+0x1773)+(0x20a5+-0x8a5+-0x17fb)]=_0x2ceb4c*(-0x974+-0x157f*-0x1+-0xc07)+(0x1ea+-0xdcb+0xbe2),_0x22836b['normals'][_0x2ceb4c*(-0x1521+-0x34d+0x1872)*(-0xdf0+-0x1*-0xc45+0x5*0x56)+(-0x2*-0xac1+0x1d9c+-0x110a*0x3)]=0x8c5+-0x61*0x49+0x12e4,_0x22836b['normals'][_0x2ceb4c*(0x1b6*-0xb+0x7ab+0xb2b)*(0x113e*0x2+-0xc9b+-0x26e*0x9)+(0x23a*0x5+-0x8ee+-0x233*0x1)]=-0x16d*-0x10+-0x20b*-0xc+-0x1a*0x1d2,_0x22836b['normals'][_0x2ceb4c*(0x1df0+-0x1*0x2605+0x819)*(-0x1389+0x2e*-0x1f+0xc8f*0x2)+(0x17*-0x3+0xcf*0x1+0x4*-0x22)]=-(-0x29e*0xe+-0x155b+-0x100*-0x3a),_0x22836b['normals'][_0x2ceb4c*(-0x31*0x6+-0x7*0x32b+0x1757)*(0x6a2+0x266d+-0x2d0c)+(-0xd7d*0x1+0x1ee9+-0x1169)]=0x1fa8+0x200e+-0x3fb6,_0x22836b['normals'][_0x2ceb4c*(0x4*-0x761+-0x1eb7+0x1415*0x3)*(-0x4*0x956+-0x1242+-0x379d*-0x1)+(0x1547*0x1+0x171d+-0x28*0x11c)]=0x8d*-0x29+-0xd*0x9d+0x1e8e,_0x22836b['normals'][_0x2ceb4c*(0xd77+-0x7*0x364+-0xa49*-0x1)*(0x1741*-0x1+-0xe51+0x2595)+(0x7eb+0x1*0xdf5+-0x15db)]=-(0x2566+0x365+-0x28ca),_0x22836b['normals'][_0x2ceb4c*(-0x1c80+0x1ac7+0x1bd*0x1)*(0x11*-0x3f+-0x41d+0x84f)+(-0x173d+0xd63*-0x2+-0x3209*-0x1)]=-0xd5*-0x9+0x27+-0x7a4,_0x22836b['normals'][_0x2ceb4c*(-0x24eb+-0x2*0x1145+0x4779)*(0xec8+0x3d5*-0x9+0x4*0x4ee)+(0x18f5+-0x4c*-0x5a+0x259*-0x16)]=-0x1*-0x21b1+-0x24d6+-0x325*-0x1,_0x22836b['normals'][_0x2ceb4c*(0x347+0x2*0x12dd+-0x28fd)*(-0x1705+0x20*-0x7+0xc*0x1fe)+(0x288+-0xb*-0x12d+-0xf6f)]=-(-0x16ee*-0x1+0xfac*-0x1+-0x741),_0x22836b['normals'][_0x2ceb4c*(0x8fa+-0x5*0x4cb+0x17*0xa7)*(-0xffc+0x21c4+-0x11c5)+(-0x1c*-0x2b+0x27a+-0x725)]=0xeb5+0x9b*-0x11+-0x46a*0x1,_0x22836b['normals'][_0x2ceb4c*(-0x7b0+-0x47*-0x36+-0x2*0x3a3)*(-0x55b*-0x7+0x1b5c+-0x40d6)+(0xc8b+0x1f98+-0xd5*0x35)]=0x1694+-0x1e71*0x1+0xb7*0xb,_0x22836b['normals'][_0x2ceb4c*(0x163*-0x11+0xca6*-0x2+0x30e3)*(-0x1*0x365+0x2339+0x9*-0x389)+(-0x89c+-0x1d4*-0x1+0x1*0x6d3)]=-(-0x15b2+0x1818+-0x265);const _0x36f528=xR(this['_system']['app']['graphicsDe'+'vice'],_0x22836b),_0x56485b=new He(_0x36f528,this['_material'],this['_node']);if(_0x56485b['name']='Text\x20Eleme'+'nt:\x20'+this['_entity']['name'],_0x56485b['castShadow']=!(0x1*0x1052+-0x1d63+0xd12),_0x56485b['receiveSha'+'dow']=!(0x25df+-0x1*-0x1bed+-0x41cb),_0x56485b['cull']=!_0x44144f,_0x56485b['screenSpac'+'e']=_0x44144f,_0x56485b['drawOrder']=this['_drawOrder'],_0x20f353&&(_0x56485b['cull']=!(-0xe4*-0x1f+0xec+-0x1c88),_0x56485b['isVisibleF'+'unc']=_0x5c8ef7),this['_setTextur'+'eParams'](_0x56485b,this['_font']['textures'][_0x2c891f]),_0x56485b['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']),_0x56485b['setParamet'+'er']('material_o'+'pacity',this['_color']['a']),_0x56485b['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x56485b['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x56485b['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x2c891f]['width']),_0x56485b['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']),_0x56485b['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']),_0x56485b['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']),this['_symbolSha'+'dowParams'])this['_shadowOff'+'setUniform'][0x1*-0x157f+-0xbe0*-0x1+0x99f]=-0x92d+-0x23b6+0x1*0x2ce3,this['_shadowOff'+'setUniform'][0x3ef+-0x52d*-0x5+-0x1dcf]=0x24d9*0x1+-0xe9f+-0x163a;else{const _0x27de4b=-this['_font']['data']['info']['maps'][_0x2c891f]['width']/this['_font']['data']['info']['maps'][_0x2c891f]['height'];this['_shadowOff'+'setUniform'][-0x94f+0x7e1+-0x2*-0xb7]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x12*-0x1c3+0x1ae7+-0x4*-0x134]=_0x27de4b*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'];}_0x56485b['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']),_0x22836b['meshInstan'+'ce']=_0x56485b,this['_model']['meshInstan'+'ces']['push'](_0x56485b);}}this['_element']['maskedBy']&&this['_element']['_setMasked'+'By'](this['_element']['maskedBy']),_0x30f96f&&this['_element']['enabled']&&this['_entity']['enabled']&&this['_element']['addModelTo'+'Layers'](this['_model']),this['_updateMes'+'hes'](),this['_rangeStar'+'t']=-0x1b82+-0x4*0x8b+-0xed7*-0x2,this['_rangeEnd']=this['_symbols']['length'],this['_updateRen'+'derRange']();}['_removeMes'+'hInstance'](_0x2f8a2c){_0x2f8a2c['destroy']();const _0x36141e=this['_model']['meshInstan'+'ces']['indexOf'](_0x2f8a2c);_0x36141e!==-(0x17b*-0xe+0x59*-0x2e+-0x7*-0x53f)&&this['_model']['meshInstan'+'ces']['splice'](_0x36141e,0x136b+0x17d7+-0x2b41);}['_setMateri'+'al'](_0x28dd94){if(this['_material']=_0x28dd94,this['_model'])for(let _0xbb912b=-0x1*-0x1dfc+0xe2b+-0x2c27,_0x422627=this['_model']['meshInstan'+'ces']['length'];_0xbb912b<_0x422627;_0xbb912b++){const _0x51fe19=this['_model']['meshInstan'+'ces'][_0xbb912b];_0x51fe19['material']=_0x28dd94;}}['_updateMat'+'erial'](_0x534602){const _0x4aa2b6=this['_element'],_0x2500fd=_0x4aa2b6['_isScreenC'+'ulled'](),_0x126180=function(_0x6c953e){return _0x4aa2b6['isVisibleF'+'orCamera'](_0x6c953e);},_0x3266d8=this['_font']&&this['_font']['type']===Rh;if(this['_material']=this['_system']['getTextEle'+'mentMateri'+'al'](_0x534602,_0x3266d8,this['_enableMar'+'kup']),this['_model'])for(let _0x24c0bb=0x1*-0x8ef+0x13d*-0x12+0x1f39,_0x4865e3=this['_model']['meshInstan'+'ces']['length'];_0x24c0bb<_0x4865e3;_0x24c0bb++){const _0x159a5a=this['_model']['meshInstan'+'ces'][_0x24c0bb];_0x159a5a['cull']=!_0x534602,_0x159a5a['material']=this['_material'],_0x159a5a['screenSpac'+'e']=_0x534602,_0x2500fd?(_0x159a5a['cull']=!(-0xeb+0x109b+-0x4*0x3ec),_0x159a5a['isVisibleF'+'unc']=_0x126180):_0x159a5a['isVisibleF'+'unc']=null;}}['_updateMat'+'erialEmiss'+'ive'](){this['_symbolCol'+'ors']?(this['_colorUnif'+'orm'][0x1*-0x18df+0x9ee+-0x4fb*-0x3]=-0x212b*0x1+-0x1*0x1fe5+0x1*0x4111,this['_colorUnif'+'orm'][0x565*-0x4+-0xd69+-0x5d5*-0x6]=0x1a*0x17+0x2bf*0x4+0xd51*-0x1,this['_colorUnif'+'orm'][0x1b5c+0xcf*0x24+0x646*-0x9]=0xb2f+-0x1673+0xb45):(We['linear'](this['_color']),this['_colorUnif'+'orm'][-0xea2+0x3*-0x78f+0x254f*0x1]=We['r'],this['_colorUnif'+'orm'][0x10f*0x10+-0x27a+-0x1*0xe75]=We['g'],this['_colorUnif'+'orm'][-0x1321+-0x2611+0x3934]=We['b']);}['_updateMat'+'erialOutli'+'ne'](){this['_symbolOut'+'lineParams']?(this['_outlineCo'+'lorUniform'][-0x2190+0xda0+-0x4fc*-0x4]=-0x253+-0x2504+-0x1b*-0x175,this['_outlineCo'+'lorUniform'][0x2454+-0xa*0x1c6+-0x1*0x1297]=-0x14d3+0x9+0x1*0x14ca,this['_outlineCo'+'lorUniform'][-0x104c+0x7*-0x128+0x1866]=0x2ce*-0x9+0x130b+0x17*0x45,this['_outlineCo'+'lorUniform'][0x1e6d+0xfa+-0x1f64]=0x235+-0x53f*0x6+0x1d46):(We['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][-0x3*0xff+0x1c*-0xb2+0x1675*0x1]=We['r'],this['_outlineCo'+'lorUniform'][0xa98+0x8c3+-0x135a]=We['g'],this['_outlineCo'+'lorUniform'][-0x118e+-0xce*0x2b+0x342a]=We['b'],this['_outlineCo'+'lorUniform'][-0xdd9*0x1+-0x74*0x35+0x2*0x12f0]=We['a']);}['_updateMat'+'erialShado'+'w'](){this['_symbolOut'+'lineParams']?(this['_shadowCol'+'orUniform'][0xee*-0x29+-0x11*-0x128+0x8b*0x22]=-0x2d+-0x16fc+-0x79*-0x31,this['_shadowCol'+'orUniform'][-0x2480+0x95*-0x2d+-0x19*-0x282]=0x91*-0x1d+0x1*0x580+0xaed,this['_shadowCol'+'orUniform'][-0x1b06*0x1+-0x1293+0x2d9b]=-0xb*-0xa7+-0x1*0x7b5+-0x1*-0x88,this['_shadowCol'+'orUniform'][-0x5*-0x295+0xb96+-0xc3e*0x2]=-0x1cbb+-0x2e8+0x26f*0xd):(We['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][-0x107*0x2+-0x3b*0x2c+0xc32]=We['r'],this['_shadowCol'+'orUniform'][-0x708+0x507+0x202]=We['g'],this['_shadowCol'+'orUniform'][0xdd9*-0x1+-0x69+0xe44]=We['b'],this['_shadowCol'+'orUniform'][0x3*-0x402+-0xb2*-0x2f+-0x14a5]=We['a']);}['_isWordBou'+'ndary'](_0x191b3f){return jg['test'](_0x191b3f);}['_isValidNe'+'xtChar'](_0x1a2af0){return _0x1a2af0!==null&&!ER['test'](_0x1a2af0);}['_isNextCJK'+'Boundary'](_0x53051c,_0x2cf188){return Yg['test'](_0x53051c)&&(jg['test'](_0x2cf188)||wR['test'](_0x2cf188));}['_isNextCJK'+'WholeWord'](_0x4e3596){return Yg['test'](_0x4e3596);}['_updateMes'+'hes'](){const _0x39ad07=this['_font']['data'],_0x294e47=this,_0x5bfdf8=Math['min'](this['_minFontSi'+'ze'],this['_maxFontSi'+'ze']),_0x581c95=this['_maxFontSi'+'ze'],_0x591bab=this['_shouldAut'+'oFit']();_0x591bab&&(this['_fontSize']=this['_maxFontSi'+'ze']);const _0x3612e5=-0x501+-0x1484*-0x1+0x1*-0xf63,_0x20627e=this['_symbols']['length'];let _0x14ec5e=0x64d*0x4+-0x9db*-0x3+-0x36c5,_0x537854=-0x7*0x518+-0x35*-0x49+-0x1*-0x148b,_0x59f3ed=0xbb2+-0x4df+-0x6d3,_0x35de9e=0xf8*0x21+0x240c+-0x4404,_0x56493d=0x1*-0x65c+-0x874+-0xed1*-0x1,_0x46261=-0x2*-0xcad+-0x18af*0x1+-0xab,_0x5cae82=-0x1acb+0x1*0x67e+0x144d*0x1,_0x55ba3d=0xa03*0x1+0x1*-0x1199+-0x3cb*-0x2,_0x4840c0=0x59+-0x8e*0x17+-0x3*-0x423,_0x278559=0x252*0xb+0x25da+-0x3f60,_0x5dacf1=0x141*0x1e+-0x1f8+-0x23a6;const _0x16349c=Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])>=0x12fd+-0x202*0x1+-0x17*0xbd+0.0001;let _0x5dbac2=this['_element']['calculated'+'Width'];(this['autoWidth']&&!_0x16349c||!this['_wrapLines'])&&(_0x5dbac2=Number['POSITIVE_I'+'NFINITY']);let _0x325cf5=-0x9*0x322+-0x1*0x1b68+0x379a,_0x48a578=0x172+0x7f*-0x27+0x11e7,_0x112ff8,_0x33479d,_0xf9f52c,_0x53eef4;function _0xa215e7(_0xc7c46a,_0x4a27a8,_0x510899){_0x294e47['_lineWidth'+'s']['push'](Math['abs'](_0x510899));const _0x5eb534=_0x55ba3d>_0x4a27a8?_0x4a27a8+(-0x2b*0x39+0x158a+0xbf6*-0x1):_0x55ba3d,_0x174a0b=_0x55ba3d>_0x4a27a8?_0x55ba3d+(-0x215*-0x5+-0xf61*0x2+-0x2*-0xa2d):_0x4a27a8,_0x1f8661=_0xc7c46a['slice'](_0x5eb534,_0x174a0b);if(_0x5dacf1){let _0x2779fa=_0x1f8661['length'];for(;_0x2779fa--&&_0x5dacf1>0x1e92+-0xd8d+-0x1105;)qg['test'](_0x1f8661[_0x2779fa])&&(_0x1f8661['splice'](_0x2779fa,0x1a0b*-0x1+0x22cb+-0x8bf),_0x5dacf1--);}_0x294e47['_lineConte'+'nts']['push'](_0x1f8661['join']('')),_0x14ec5e=0xc6b+-0x257f+-0x6b*-0x3c,_0x537854-=_0x294e47['_scaledLin'+'eHeight'],_0x56493d++,_0x4840c0=0xc4d+-0x2245+0x4a*0x4c,_0x278559=0xc*-0xe6+0x3*0x24b+0x3e7,_0x5dacf1=0x1*0x1ccd+-0x242d+0x760,_0x46261=-0x7f*-0x38+0x206*-0x2+0x1b2*-0xe,_0x55ba3d=_0x4a27a8;}let _0x449ea6=!(0x29*0x2a+0x1401+-0x1abb);for(;_0x449ea6;){_0x449ea6=!(-0x236f+-0x9ae*0x1+-0x20d*-0x16),_0x591bab?this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t']*this['_fontSize']/(this['_maxFontSi'+'ze']||0x1233*-0x2+0x2*0xdf8+0x876+0.0001):this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t'],this['width']=-0x2*0x649+0x5ca+0xd9*0x8,this['height']=-0x2002*0x1+0x23a4+-0x3a2,this['_lineWidth'+'s']=[],this['_lineConte'+'nts']=[],_0x14ec5e=-0x15f6+-0x5*-0x259+-0xa39*-0x1,_0x537854=0x11f0+0x205c+0x1bc*-0x1d,_0x59f3ed=-0x47f+0x723+-0x4*0xa9,_0x35de9e=-0x186c+0x127+-0x17*-0x103,_0x56493d=-0xc68+-0x21c3+0x2e2c,_0x46261=0x450*0x4+0x1ee1+0x100b*-0x3,_0x5cae82=-0x1b2b+0x11*-0x8d+0x491*0x8,_0x55ba3d=-0x1356+0x11ba+0x19c,_0x4840c0=-0x3fc+-0x178d+0x1b89,_0x278559=0x1*-0xa4e+0x1e59+0x1*-0x140b,_0x5dacf1=0xe0e+-0x2*0x59f+0x8*-0x5a;const _0x2e037f=this['_fontSize']/_0x3612e5;_0x325cf5=this['_fontMinY']*_0x2e037f,_0x48a578=this['_fontMaxY']*_0x2e037f;for(let _0x167ecd=0x2635*0x1+-0x1*0xec2+-0x1*0x1773;_0x167ecd<this['_meshInfo']['length'];_0x167ecd++)this['_meshInfo'][_0x167ecd]['quad']=-0x4b5+0x1b1*-0x1+0x666,this['_meshInfo'][_0x167ecd]['lines']={};let _0x562bd0=-0x2422+-0xfe9*-0x1+0x1538,_0x590b27=0xac1*-0x1+-0x770*0x2+0x1aa0,_0x4ed4ef=0x1*0x1c55+-0x8b*-0xb+-0x214f,_0x320477=-0xafa+-0x1d7*-0x11+-0x2*0x9a7+(0xeb2+0x10a9*-0x2+0x1*0x139f)*(0x107*-0x9+-0x488+0xec7),_0x33a235=-0x387+-0x3be*0x3+-0x90*-0x1c+(0x9*-0x127+-0x2*-0x11ef+0x1c*-0xe0)*(0x1*-0x19e2+-0x9db*-0x2+0x72c),_0x56c619=-0x1*0x1913+-0x985+0x2298,_0x11570c=0x1aff*0x1+0x1263+-0x2c63+(-0x18f9+0x1*-0x229f+0x3c97)*(0x6*0x50+-0xc1*-0x7+0x69*-0xf),_0x38a4a6=0x12d*0x9+-0x1312+0x97c+(0x2*-0x87e+-0x10*-0x1f5+-0xd55*0x1)*(0x159*-0x8+-0x1c67+0x282f),_0x4b9794=-0x435*0x6+-0x1f*-0x89+0x926+(0x1380+-0xab8+-0x65*0x15)*(-0x2*0x5d4+-0x1d55+0x29fd);for(let _0x20ea85=-0x1cf7*-0x1+0x11af+-0x2*0x1753;_0x20ea85<_0x20627e;_0x20ea85++){if(_0x112ff8=this['_symbols'][_0x20ea85],_0x53eef4=_0x20ea85+(0x23b*-0x2+-0x557*-0x5+0x1*-0x163c)>=_0x20627e?null:this['_symbols'][_0x20ea85+(0x2*-0x985+-0x61*-0x5+0x1126)],qg['test'](_0x112ff8)){_0x5dacf1++,(!this['_wrapLines']||this['_maxLines']<-0x134a+0x3*0x8f9+-0x7a1||_0x56493d<this['_maxLines'])&&(_0xa215e7(this['_symbols'],_0x20ea85,_0x35de9e),_0x5cae82=_0x20ea85+(-0x1ba4+0x185*-0x9+0x2952),_0x55ba3d=_0x20ea85+(-0x1*-0x18ad+0x2f*0xbf+0x29*-0x175));continue;}let _0x422500=-0x4d*-0x59+-0xf38+-0xb8d*0x1,_0x4857=-0x1*-0x14f1+0x18f1+-0x2de2*0x1,_0xa7465a=0xefd+0x1891+0x3d*-0xa6,_0x1dd884=-0x4*0x2f1+-0xfa+0x1*0xcbf,_0x4ee273,_0x18a8d2;if(_0x33479d=_0x39ad07['chars'][_0x112ff8],!_0x33479d){if(bR['indexOf'](_0x112ff8)!==-(0x104+0x23*-0x4b+0x93e))_0x33479d=AR;else{if(_0x39ad07['chars']['\x20'])_0x33479d=_0x39ad07['chars']['\x20'];else for(const _0x2cb7ad in _0x39ad07['chars']){_0x33479d=_0x39ad07['chars'][_0x2cb7ad];break;}_0x39ad07['missingCha'+'rs']||(_0x39ad07['missingCha'+'rs']=new Set()),_0x39ad07['missingCha'+'rs']['has'](_0x112ff8)||(console['warn']('Character\x20'+'\x27'+_0x112ff8+('\x27\x20is\x20missi'+'ng\x20from\x20th'+'e\x20font\x20')+_0x39ad07['info']['face']),_0x39ad07['missingCha'+'rs']['add'](_0x112ff8));}}if(_0x33479d){let _0x1de9e6=-0x88d*-0x1+-0x1*-0x14b4+0x1*-0x1d41;if(_0x278559>-0xbf8+-0x1*0x1787+0x237f){const _0x2408ed=this['_font']['data']['kerning'];if(_0x2408ed){const _0x5d6443=_0x2408ed[Hc['getCodePoi'+'nt'](this['_symbols'][_0x20ea85-(-0x21a3+-0x2471+0x4615)])||0x24a2+0x33*-0xb7+-0x2d];_0x5d6443&&(_0x1de9e6=_0x5d6443[Hc['getCodePoi'+'nt'](this['_symbols'][_0x20ea85])||0x202*0x8+-0x2431+0x1421]||0xef*-0x1+-0x51c+0x60b);}}_0x4ee273=_0x33479d['scale']||0x19b9+0xc96*-0x1+-0xd22,_0x18a8d2=(_0x33479d['width']+_0x33479d['height'])/(0xbeb+-0x1b*0x17+-0x97c),_0x1dd884=_0x2e037f*_0x18a8d2/_0x4ee273,_0xa7465a=(_0x33479d['xadvance']+_0x1de9e6)*_0x2e037f,_0x422500=(_0x33479d['xoffset']-_0x1de9e6)*_0x2e037f,_0x4857=_0x33479d['yoffset']*_0x2e037f;}else console['error']('Couldn\x27t\x20s'+'ubstitute\x20'+'missing\x20ch'+'aracter:\x20\x27'+_0x112ff8+'\x27');const _0x1050de=TR['test'](_0x112ff8),_0x5c510b=_0x33479d&&_0x33479d['map']||0x940+0x17*-0xdd+0xa9b,_0x353c27=-this['_font']['data']['info']['maps'][_0x5c510b]['width']/this['_font']['data']['info']['maps'][_0x5c510b]['height'],_0x55d909=this['_meshInfo'][_0x5c510b],_0x24828a=_0x14ec5e+this['_spacing']*_0xa7465a;if(_0x24828a>_0x5dbac2&&_0x278559>-0x1cc0+0xca1+0x101f&&!_0x1050de&&(this['_maxLines']<-0x2619+0x1c60+0x9b9||_0x56493d<this['_maxLines'])){if(_0x4840c0===-0x48*0x52+-0x59*-0x3b+0x28d)_0x5cae82=_0x20ea85,_0xa215e7(this['_symbols'],_0x20ea85,_0x35de9e);else{const _0x2f23b1=Math['max'](_0x20ea85-_0x5cae82,0x2252+0x30*-0x1e+0x1cb2*-0x1);if(this['_meshInfo']['length']<=0x18e*-0x6+0x6*-0x2bb+-0x1*-0x19b7)_0x55d909['lines'][_0x56493d-(-0x5ea*-0x5+0x1611+-0x33a2)]-=_0x2f23b1,_0x55d909['quad']-=_0x2f23b1;else{const _0xe80e63=_0x5cae82,_0x30ed10=_0x20ea85;for(let _0x2ed787=_0xe80e63;_0x2ed787<_0x30ed10;_0x2ed787++){const _0x598c88=this['_symbols'][_0x2ed787],_0x2b0639=_0x39ad07['chars'][_0x598c88],_0x40e0c6=this['_meshInfo'][_0x2b0639&&_0x2b0639['map']||-0x7e1+-0x90f+0x10f0*0x1];_0x40e0c6['lines'][_0x56493d-(0x1*-0xbaf+-0x191+-0x179*-0x9)]-=-0x56*0x4e+-0x3*-0x322+0xd*0x14b,_0x40e0c6['quad']-=0x11*0x169+-0x1fc9+-0x7d1*-0x1;}}_0x20ea85-=_0x2f23b1+(-0x2639+-0x17ca*-0x1+0xe70),_0xa215e7(this['_symbols'],_0x5cae82,_0x46261);continue;}}_0xf9f52c=_0x55d909['quad'],_0x55d909['lines'][_0x56493d-(0x12a8+0x10fe+-0x23a5)]=_0xf9f52c;let _0x55d2f8=_0x14ec5e-_0x422500,_0x52da3b=_0x55d2f8+_0x1dd884;const _0x576794=_0x537854-_0x4857,_0x44e2da=_0x576794+_0x1dd884;if(this['_rtl']){const _0x9e78bc=_0x1dd884-_0x422500-this['_spacing']*_0xa7465a-_0x422500;_0x55d2f8-=_0x9e78bc,_0x52da3b-=_0x9e78bc;}_0x55d909['positions'][_0xf9f52c*(-0x61+-0xe35*-0x2+0x1*-0x1c05)*(-0x45b*-0x1+-0x375+-0xe3)+(-0x19a9+-0x6*0x1cf+-0x2cf*-0xd)]=_0x55d2f8,_0x55d909['positions'][_0xf9f52c*(0x13c0+0x1*0x372+-0x172e)*(-0x3e*0x97+0x1d*0x104+-0x49*-0x19)+(-0x2226+-0x1c8e+0x3eb5)]=_0x576794,_0x55d909['positions'][_0xf9f52c*(0x7cb+0x5*0x25e+-0x139d)*(0x3*-0x2a1+0x1*-0x1eb2+0x2698)+(-0x3*-0xa99+0x2325*-0x1+0x1*0x35c)]=_0x59f3ed,_0x55d909['positions'][_0xf9f52c*(0x1*-0xb7+0x1b*0x38+-0x52d)*(-0x254f+-0x1e*0xe+0x26f6)+(-0x1384*0x1+0x2252+-0xecb)]=_0x52da3b,_0x55d909['positions'][_0xf9f52c*(-0x1482+0x1*-0x150+0x22f*0xa)*(0xefe+-0x1c2d+0xd32)+(0x29*0x4f+-0x1c33*-0x1+-0x28d6)]=_0x576794,_0x55d909['positions'][_0xf9f52c*(0x5*-0x57a+-0x1faf*-0x1+0x449*-0x1)*(-0x2233+0x2459*-0x1+0x468f)+(-0x1ca0+-0x13c6*0x1+0x306b)]=_0x59f3ed,_0x55d909['positions'][_0xf9f52c*(-0x259a+-0x178d+0x3d2b)*(0x2485*-0x1+0x1904+0xb84)+(-0x6c*0x1c+-0x7*-0x3e2+-0xf58)]=_0x52da3b,_0x55d909['positions'][_0xf9f52c*(-0xb7+0x145c+0x3ed*-0x5)*(0x827+-0x1855*-0x1+-0x2079)+(0x17b2+0xbf*0x3+-0x19e8)]=_0x44e2da,_0x55d909['positions'][_0xf9f52c*(0x16*0xa3+-0x4a*-0x5e+-0x292a)*(0x31*-0x24+0xaa8+-0x1*0x3c1)+(0x6*0x396+-0xfb+-0x1d*0xb5)]=_0x59f3ed,_0x55d909['positions'][_0xf9f52c*(-0x671+0x25e9+-0x1f74)*(0x743+-0x18de+-0x1*-0x119e)+(0x1491+-0x1*0x1fd2+0xb4a)]=_0x55d2f8,_0x55d909['positions'][_0xf9f52c*(0x7c3+-0x664+0x15b*-0x1)*(0xaa1+-0x1e07*-0x1+-0x28a5)+(-0x1*-0x3cb+-0x5c2+0x9*0x39)]=_0x44e2da,_0x55d909['positions'][_0xf9f52c*(0x1*-0xa65+-0xa5b+-0x4*-0x531)*(0x13*-0x12b+0x66*0x1+0x15ce)+(-0xbd*0x1b+-0x1c9b+0x1*0x3095)]=_0x59f3ed,this['width']=Math['max'](this['width'],_0x24828a);let _0x23466a;if(this['_shouldAut'+'oFitWidth']()&&this['width']>this['_element']['calculated'+'Width']&&(_0x23466a=Math['floor'](this['_element']['fontSize']*this['_element']['calculated'+'Width']/(this['width']||-0x1571*-0x1+-0x1ab1+-0x10*-0x54+0.0001)),_0x23466a=Y['clamp'](_0x23466a,_0x5bfdf8,_0x581c95),_0x23466a!==this['_element']['fontSize'])){this['_fontSize']=_0x23466a,_0x449ea6=!(-0x19d*-0x12+-0x1003*-0x1+0x25f*-0x13);break;}if(this['height']=Math['max'](this['height'],_0x48a578-(_0x537854+_0x325cf5)),this['_shouldAut'+'oFitHeight']()&&this['height']>this['_element']['calculated'+'Height']&&(_0x23466a=Y['clamp'](this['_fontSize']-(-0x255f+0x2281+0x2df),_0x5bfdf8,_0x581c95),_0x23466a!==this['_element']['fontSize'])){this['_fontSize']=_0x23466a,_0x449ea6=!(0x1d5*0xc+0xa*-0x1f3+-0x27e);break;}_0x14ec5e+=this['_spacing']*_0xa7465a,_0x1050de||(_0x35de9e=_0x14ec5e),(this['_isWordBou'+'ndary'](_0x112ff8)||this['_isValidNe'+'xtChar'](_0x53eef4)&&(this['_isNextCJK'+'Boundary'](_0x112ff8,_0x53eef4)||this['_isNextCJK'+'WholeWord'](_0x53eef4)))&&(_0x4840c0++,_0x46261=_0x35de9e,_0x5cae82=_0x20ea85+(0x1ca3*-0x1+0x19fd+0x61*0x7)),_0x278559++;const _0x210880=this['_getUv'](_0x112ff8);if(_0x55d909['uvs'][_0xf9f52c*(0x1110+0x45*0x29+-0x1c19*0x1)*(0xb16+-0x1ac3+0xfaf)+(0x1dc+-0x1*0x229a+-0x6*-0x575)]=_0x210880[-0x212c+0x35*-0x18+-0x2*-0x1312],_0x55d909['uvs'][_0xf9f52c*(-0x2692+0x18b8+0xdde)*(0x2f*0x47+-0x130e+0x1*0x607)+(0xa66+-0x1*-0x730+-0x1195)]=-0x1ca*-0x9+0x1c5e+-0x2c77-_0x210880[-0x6*-0x3b4+0xa1a+0x2051*-0x1],_0x55d909['uvs'][_0xf9f52c*(0x1507+0x1345+-0x2848)*(-0x3*-0x656+0xb24+-0x1e24)+(-0x1*-0xb03+-0x2f*-0x6d+-0x1f04)]=_0x210880[-0x1e9b*0x1+-0x1*-0xcf0+0x19*0xb5],_0x55d909['uvs'][_0xf9f52c*(0x172f+0x3*-0xc95+-0x3*-0x4dc)*(0x13c2+0x199c+-0xb57*0x4)+(0x1215+0x1625*0x1+-0x80b*0x5)]=-0xd7a+-0x6*0x4ed+0x2b09-_0x210880[-0x2*0x868+-0x1946+0x2a17],_0x55d909['uvs'][_0xf9f52c*(-0x2533+-0x25*-0x7+0x2434)*(-0x32*-0xb9+-0x21be*0x1+-0x262)+(0x17f4+-0x1667*-0x1+0x1*-0x2e57)]=_0x210880[-0x15f5+0x948+0x1*0xcaf],_0x55d909['uvs'][_0xf9f52c*(-0x41*-0x97+-0x7bc+-0x1e97)*(-0x1373+0x151b+-0x1a6)+(-0x1dbc+-0x103c*-0x1+0x1*0xd85)]=-0x40a*-0x1+-0xaea+0x6e1-_0x210880[0x4*-0x8d5+0x2*0xd59+0x8a5],_0x55d909['uvs'][_0xf9f52c*(-0x1f*-0x6f+-0x2407+0x169a)*(-0x5da+-0x4e7+-0x1*-0xac3)+(0x19a4*0x1+0x1*-0xefd+-0xaa1)]=_0x210880[-0x1*-0x2581+-0xa8d+-0x1af4],_0x55d909['uvs'][_0xf9f52c*(0xa8e*-0x1+0x3b*0xe+0x1*0x758)*(-0x1a87+-0x5*-0x5e2+-0x2e1)+(-0x606+-0x119*0x1+0x2*0x393)]=0x246b+0xaaf+-0x2f19-_0x210880[0x1*-0x5fe+0xca0+0x235*-0x3],this['_symbolCol'+'ors']){const _0x308cb4=this['_symbolCol'+'ors'][_0x20ea85]*(-0x276*-0x1+-0x20f2+0xd3*0x25);_0x562bd0=this['_colorPale'+'tte'][_0x308cb4],_0x590b27=this['_colorPale'+'tte'][_0x308cb4+(-0x1*0x1709+-0x166b+0x1b*0x1af)],_0x4ed4ef=this['_colorPale'+'tte'][_0x308cb4+(-0x12b7+0x10b*0x1b+-0x970)];}if(_0x55d909['colors'][_0xf9f52c*(-0x1*0x199d+-0x24e8+0x3e89)*(-0x7*-0xf4+-0x2681+0x1fd9)+(0x1*-0x8b3+-0x10b2+0x877*0x3)]=_0x562bd0,_0x55d909['colors'][_0xf9f52c*(0x161f+-0x1885+0x67*0x6)*(0x37+0x1d1*-0x12+-0x207f*-0x1)+(0x1d02+-0x4*-0x9bb+0x43ed*-0x1)]=_0x590b27,_0x55d909['colors'][_0xf9f52c*(-0x23ef*-0x1+0x1*0x16a2+-0x3a8d)*(-0x22cd+-0x19*0xad+0x33b6)+(0x103d+0x39*0x7+-0x11ca)]=_0x4ed4ef,_0x55d909['colors'][_0xf9f52c*(-0x19f6+0x108b+0x96f)*(0x19*-0xf9+0x70f+-0x1146*-0x1)+(-0xc7*-0x29+0x2681+-0x465d)]=-0x14f1+0x9f*0x34+0x22*-0x4e,_0x55d909['colors'][_0xf9f52c*(-0x69a+0xc*-0x104+0x12ce)*(-0x3b7+0x1c09*-0x1+0x1fc4)+(0x12a*-0x12+-0x24d5+-0x1*-0x39cd)]=_0x562bd0,_0x55d909['colors'][_0xf9f52c*(-0x4a5+-0x85b*-0x3+-0x8*0x28d)*(-0x42e+-0x5*0x3fc+0x181e)+(-0x1b4*-0x1+-0x1c86+-0x1*-0x1ad7)]=_0x590b27,_0x55d909['colors'][_0xf9f52c*(-0x54c+-0xd*-0x26+-0x2*-0x1b1)*(0x1*0x7b3+0x3*0x1e2+-0xd55)+(0xac*-0x2+0x1*0x177c+0x1*-0x161e)]=_0x4ed4ef,_0x55d909['colors'][_0xf9f52c*(0x23dc+-0x5*-0x13d+0x11*-0x279)*(-0x19fd*0x1+0x65*0x4d+-0xa*0x70)+(-0xe9d+-0x7f*-0x47+-0x1495)]=-0x3d*-0x6c+-0x191*0xb+-0x782,_0x55d909['colors'][_0xf9f52c*(-0x9*-0x9f+0xaa*-0x2b+0x9f*0x25)*(0xd06*-0x1+0x21e*-0x5+-0x6*-0x3f0)+(0x22bd*-0x1+0x1d75+0x10*0x55)]=_0x562bd0,_0x55d909['colors'][_0xf9f52c*(0xe0d+-0x2433+0x162a)*(0x22c*-0x9+0x171c+0xe3*-0x4)+(0x219+-0x960+-0x138*-0x6)]=_0x590b27,_0x55d909['colors'][_0xf9f52c*(-0x22a4+-0x281*-0x1+0x2027)*(0x2e9*0x3+0x76f+-0x1026)+(-0x48*0x21+-0x79b+0x10ed)]=_0x4ed4ef,_0x55d909['colors'][_0xf9f52c*(0xebf+-0x664+-0x857)*(-0xb6*-0x17+-0x2*0xb38+0x61a)+(-0x1b66+-0x43*0x86+0x4cf*0xd)]=-0x2*-0x8a4+0x9f5+0x1*-0x1a3e,_0x55d909['colors'][_0xf9f52c*(-0xd37+0x16ba+0x97f*-0x1)*(0xd52+0x1e06+-0x5e*0x76)+(0xe*-0x1d+0xa99*0x2+0x1390*-0x1)]=_0x562bd0,_0x55d909['colors'][_0xf9f52c*(-0x8d3+-0x2*0x1015+0x2901)*(-0x1abe+-0x15a9+0x9af*0x5)+(-0x1546+0x1221+0x332*0x1)]=_0x590b27,_0x55d909['colors'][_0xf9f52c*(0x1b26+0xfd8+-0x2afa)*(-0xdd*-0x28+-0x217a+-0x10a)+(-0xdf9+-0x26a9+0x34b0)]=_0x4ed4ef,_0x55d909['colors'][_0xf9f52c*(0x2*-0x611+0x2*0x1f2+0x421*0x2)*(-0xc6+-0x2116+0x878*0x4)+(0x2467+0x6ad+0x1*-0x2b05)]=-0x192+-0x1780+-0x1a11*-0x1,this['_symbolOut'+'lineParams']){const _0x2d7159=this['_symbolOut'+'lineParams'][_0x20ea85]*(0x1a9d+0x1d*-0x110+0x438);_0x320477=this['_outlinePa'+'lette'][_0x2d7159]+this['_outlinePa'+'lette'][_0x2d7159+(-0x4f*0x71+-0x2*0x157+-0xd1*-0x2e)]*(-0xe3e*-0x1+-0x118d+0x44f),_0x33a235=this['_outlinePa'+'lette'][_0x2d7159+(0xa52*-0x1+-0x4d6+0x3*0x50e)]+this['_outlinePa'+'lette'][_0x2d7159+(0x2*-0xc10+0x24f6*0x1+0x31*-0x43)]*(-0x265*0x4+0x1d*-0xe5+0x1*0x2485),_0x56c619=this['_outlinePa'+'lette'][_0x2d7159+(0x177*-0x8+0xecc+-0x310)];}if(_0x55d909['outlines'][_0xf9f52c*(-0xa5*-0x13+0xca*0x27+-0x1*0x2b01)*(-0x1*0x5b3+-0x1a45+0x1ffb)+(0x23*-0xd3+0x23fa+-0x721)]=_0x320477,_0x55d909['outlines'][_0xf9f52c*(-0x974+-0x255e+0x2ed6)*(0x7a*0x3d+-0x555+0xbdd*-0x2)+(-0x17a0+-0x8cd+0x206e)]=_0x33a235,_0x55d909['outlines'][_0xf9f52c*(-0x1b8e+-0x2141+0x1*0x3cd3)*(0x145+0x3cf+-0x511*0x1)+(0x126d+0x1772+0x1*-0x29dd)]=_0x56c619,_0x55d909['outlines'][_0xf9f52c*(0xc99*0x1+0x1922+-0x25b7)*(-0xb77*-0x1+-0x6*0x38+-0xa24)+(0x891+0x1cf*0xb+0x1*-0x1c73)]=_0x320477,_0x55d909['outlines'][_0xf9f52c*(0x1*0x1a30+0x1*-0x425+0x1*-0x1607)*(0xef0*-0x2+-0x9c7*-0x1+-0x9c*-0x21)+(-0x26d3+-0x1f3*-0x10+0x7a7)]=_0x33a235,_0x55d909['outlines'][_0xf9f52c*(-0x106+-0x17*0x2f+0x3*0x1c1)*(0x738+0x4c2+-0xbf7*0x1)+(-0x2095+-0x1ac8*0x1+0x3b62)]=_0x56c619,_0x55d909['outlines'][_0xf9f52c*(-0xb*0xb+0x11d6+-0x1159)*(-0x980+-0xb62+0x3*0x6f7)+(-0x67*0x12+-0x1*0x1831+0x1f75)]=_0x320477,_0x55d909['outlines'][_0xf9f52c*(0x2348+0x4a9+-0x27ed)*(-0xe*0x22+-0x1*-0x4cc+-0x1*0x2ed)+(-0x2f*-0xbf+-0x10*0x11d+-0x113a)]=_0x33a235,_0x55d909['outlines'][_0xf9f52c*(-0x3*0x2b6+0xb00+-0x16d*0x2)*(-0xfe*0x7+-0x24f2+0x2be7*0x1)+(-0x194c+0x2*0x1346+-0x2f*0x48)]=_0x56c619,_0x55d909['outlines'][_0xf9f52c*(0x1*0x1fa+-0x1a8*0xb+0x1042)*(-0x6*-0x427+0x10*0xdc+-0x26a7*0x1)+(-0xe*0x209+-0x89*-0x2+0x27f*0xb)]=_0x320477,_0x55d909['outlines'][_0xf9f52c*(0x26c5+-0x3ba*-0x6+-0x413*0xf)*(-0x846+-0x1*-0x1223+-0x9da)+(0xab8+-0xb3c+-0x47*-0x2)]=_0x33a235,_0x55d909['outlines'][_0xf9f52c*(0x4*-0x440+0x5*0x337+-0xf1*-0x1)*(-0xbc8+0x1*0x252+0x979*0x1)+(-0x9f7*-0x1+0x1*-0xd3+-0x919)]=_0x56c619,this['_symbolSha'+'dowParams']){const _0x4c502c=this['_symbolSha'+'dowParams'][_0x20ea85]*(0x5b*-0x4f+0xf*-0x167+0x3124);_0x11570c=this['_shadowPal'+'ette'][_0x4c502c]+this['_shadowPal'+'ette'][_0x4c502c+(0x1158+-0x133+-0x1024)]*(-0x3a1*-0x5+-0x94d*-0x4+-0x1*0x3659),_0x38a4a6=this['_shadowPal'+'ette'][_0x4c502c+(-0x2*0x726+0x3b1+0xa9d)]+this['_shadowPal'+'ette'][_0x4c502c+(0x2c2*-0x1+0x3dd+-0x118)]*(-0x4a5+0x2094+0xc5*-0x23),_0x4b9794=this['_shadowPal'+'ette'][_0x4c502c+(0x22d*0x2+0x2ab*-0x3+0x3ab)]+(-0xd5a*-0x2+0xd8b*-0x1+-0xcaa)+Math['round'](_0x353c27*this['_shadowPal'+'ette'][_0x4c502c+(0x1878+0x2210+-0x1*0x3a83)]+(-0x1e08+-0x5c9*-0x2+0x17*0xd3))*(-0x2*0x943+0x5*0x589+-0x827);}_0x55d909['shadows'][_0xf9f52c*(0xc1f+-0x19fa+0xddf)*(-0xe43+-0x61+0x1f*0x79)+(-0x2*0xbd9+-0x181f+0x2fd1)]=_0x11570c,_0x55d909['shadows'][_0xf9f52c*(0xd87+0x1260+-0x1*0x1fe3)*(0x85c+0x281*-0xa+0x10b1)+(-0x1867+-0x5*-0x463+0x279)]=_0x38a4a6,_0x55d909['shadows'][_0xf9f52c*(0x2*0x1073+0x1946+-0x3a28)*(0x1d5d+0x65e*0x6+-0x438e)+(-0x1d1*-0x11+-0x1*-0x17c+-0x205b)]=_0x4b9794,_0x55d909['shadows'][_0xf9f52c*(0x1*0x1334+-0x260*0x2+-0xe70)*(0x1e73+0xc1a*-0x2+0x6*-0x10a)+(-0xff4+0x333+0x4c*0x2b)]=_0x11570c,_0x55d909['shadows'][_0xf9f52c*(0x1*0x1c2f+0x1*0x76+0x98b*-0x3)*(-0x3*0x379+0xf59+-0x1*0x4eb)+(-0x83f+0xd4e+-0x50b*0x1)]=_0x38a4a6,_0x55d909['shadows'][_0xf9f52c*(-0x1815+0x10e2*-0x2+-0x39dd*-0x1)*(0x17b3*-0x1+-0xc7*-0x25+-0x50d*0x1)+(0x168e+0xeca+-0xd*0x2df)]=_0x4b9794,_0x55d909['shadows'][_0xf9f52c*(-0x2466+-0x154d+0x39b7)*(-0x2502+-0x373*-0x1+-0x2192*-0x1)+(0x7*-0x255+0x14a3+-0x44a)]=_0x11570c,_0x55d909['shadows'][_0xf9f52c*(-0xf9*0x1+0x96a+0x3*-0x2cf)*(0x491*0x7+0x14a9+-0x349d)+(0x2047+-0x4d7*0x3+-0x59*0x33)]=_0x38a4a6,_0x55d909['shadows'][_0xf9f52c*(-0x1*0x476+-0xf09+0x1383)*(-0xbb3+0x1*-0x7bb+0x1371)+(-0x3a9*0x7+-0x47*-0x7c+-0x8bd)]=_0x4b9794,_0x55d909['shadows'][_0xf9f52c*(-0x25*-0xce+-0xb*0x21d+-0x683)*(-0x8ae+-0x17e3+0x2094)+(-0x1*-0x1857+-0x1*0x1b05+0x2b7)]=_0x11570c,_0x55d909['shadows'][_0xf9f52c*(0x5c*-0xc+0xf*0x1c6+-0x1646)*(-0x75a+0x19ec+-0x128f)+(-0x1*0x22c7+0x19ab+-0x1*-0x926)]=_0x38a4a6,_0x55d909['shadows'][_0xf9f52c*(0x1fb+-0x2506*0x1+0x703*0x5)*(-0x425*0x1+-0x13*0x11b+0x1929)+(0x59e*-0x3+0x97*0x3b+-0x8*0x23d)]=_0x4b9794,_0x55d909['quad']++;}_0x449ea6||_0x55ba3d<_0x20627e&&_0xa215e7(this['_symbols'],_0x20627e,_0x14ec5e);}this['_noResize']=!(-0x6a0+0x836+0x196*-0x1),this['autoWidth']=this['_autoWidth'],this['autoHeight']=this['_autoHeigh'+'t'],this['_noResize']=!(0x57e+-0x2401+-0xa2c*-0x3);const _0x4f8fb7=this['_element']['pivot']['x'],_0x43575e=this['_element']['pivot']['y'],_0x15affe=this['_alignment']['x'],_0x564ef1=this['_alignment']['y'];for(let _0x43f7a9=-0x2036*-0x1+0x4c1+-0x24f7;_0x43f7a9<this['_meshInfo']['length'];_0x43f7a9++){if(this['_meshInfo'][_0x43f7a9]['count']===-0x259*-0x1+-0x1*0x12b+-0x12e)continue;let _0x3ec0d1=0x1*-0x261f+0x209+0x120b*0x2;for(const _0x4a1817 in this['_meshInfo'][_0x43f7a9]['lines']){const _0xb1b8cb=this['_meshInfo'][_0x43f7a9]['lines'][_0x4a1817],_0x19f087=this['_lineWidth'+'s'][parseInt(_0x4a1817,0x13*-0x19b+-0x2383*0x1+0x420e)],_0x441f64=-_0x4f8fb7*this['_element']['calculated'+'Width']+_0x15affe*(this['_element']['calculated'+'Width']-_0x19f087)*(this['_rtl']?-(-0x25a2*-0x1+-0x9c5*-0x1+-0x2*0x17b3):0x8d*0x21+-0x44*0x11+-0xda8),_0x8288cc=(0x128+0x35*-0x2+-0x1b*0x7-_0x43575e)*this['_element']['calculated'+'Height']-_0x48a578-(-0x2b*-0x6b+-0x1e90+0xc98-_0x564ef1)*(this['_element']['calculated'+'Height']-this['height']);for(let _0x3e80e3=_0x3ec0d1;_0x3e80e3<=_0xb1b8cb;_0x3e80e3++)this['_meshInfo'][_0x43f7a9]['positions'][_0x3e80e3*(0x1*-0x236b+-0x268+0x25d7)*(0xbbb+-0x1cbc*0x1+0x1104)]+=_0x441f64,this['_meshInfo'][_0x43f7a9]['positions'][_0x3e80e3*(-0x1201*0x1+-0x7*0x37a+0x60d*0x7)*(0x491+0x3d8+0x2*-0x433)+(0x21d0+-0x1d*0x61+-0x10*0x16d)]+=_0x441f64,this['_meshInfo'][_0x43f7a9]['positions'][_0x3e80e3*(-0x1*0x1cd6+-0x3*-0xa0+0x1afa)*(-0x4c3+-0x63*0x32+-0x2*-0xc0e)+(-0x1a3b+-0x100*0x3+0x1d41)]+=_0x441f64,this['_meshInfo'][_0x43f7a9]['positions'][_0x3e80e3*(0x1*0xb1b+-0x17e1+0xcca)*(0x2535+0x2223*-0x1+-0x30f)+(-0x1e50+-0x1de1+0x3c3a*0x1)]+=_0x441f64,this['_meshInfo'][_0x43f7a9]['positions'][_0x3e80e3*(-0x233*-0x2+-0x3*-0x9b1+0x1*-0x2175)*(0x747+-0x17a*-0x11+0x1*-0x205e)+(0x51c+0x2309*-0x1+0x4fd*0x6)]+=_0x8288cc,this['_meshInfo'][_0x43f7a9]['positions'][_0x3e80e3*(0x97*-0x1+-0x6*-0x313+-0x11d7*0x1)*(-0x33*0xa5+-0xca6*0x1+0x2d88)+(-0xf53*0x2+-0x1aec*-0x1+-0x2*-0x1df)]+=_0x8288cc,this['_meshInfo'][_0x43f7a9]['positions'][_0x3e80e3*(-0x5*0x275+0x1883*0x1+-0xc36)*(0x2362+0x842*-0x2+-0x12db)+(-0x1*-0x1a4d+-0x1*0x1693+-0x3b3*0x1)]+=_0x8288cc,this['_meshInfo'][_0x43f7a9]['positions'][_0x3e80e3*(-0xd20+-0x1*-0x143d+-0x719)*(0x7*0x81+-0x86*-0x39+-0x6*0x58f)+(0x1fa2*0x1+0xebb+-0xb1*0x43)]+=_0x8288cc;if(this['_rtl'])for(let _0x1aeed0=_0x3ec0d1;_0x1aeed0<=_0xb1b8cb;_0x1aeed0++){const _0x404325=_0x1aeed0*(0x2406*-0x1+-0x168b*-0x1+0xd7f)*(-0x1142+0x2*-0x21e+0x1581);for(let _0x3714a5=0x254+-0x7cf*0x2+0x1*0xd4a;_0x3714a5<0xbc0+-0x2*-0xa15+-0x1fe6;++_0x3714a5)this['_meshInfo'][_0x43f7a9]['positions'][_0x404325+_0x3714a5*(0x19d0+-0xd4d+-0x640*0x2)]=this['_element']['calculated'+'Width']-this['_meshInfo'][_0x43f7a9]['positions'][_0x404325+_0x3714a5*(0x51a*-0x4+-0x1168+0x25d3)]+_0x441f64*(0x10d*0x5+-0xc7c+0x73d);const _0x1b409e=this['_meshInfo'][_0x43f7a9]['positions'][_0x404325+(0x105d+-0xb25+0x2b*-0x1f)],_0x42c814=this['_meshInfo'][_0x43f7a9]['positions'][_0x404325+(-0xb5*-0x7+0x1*0xdeb+-0x12d8)];this['_meshInfo'][_0x43f7a9]['positions'][_0x404325+(-0x2593+-0xf1c+0x34b2)]=this['_meshInfo'][_0x43f7a9]['positions'][_0x404325+(-0x953+0x184b+-0xef8)],this['_meshInfo'][_0x43f7a9]['positions'][_0x404325+(-0x283*-0x3+0x1047+-0x17ca)]=this['_meshInfo'][_0x43f7a9]['positions'][_0x404325+(-0xcdf+-0x277*-0xd+-0x1*0x1323)],this['_meshInfo'][_0x43f7a9]['positions'][_0x404325+(0x6d0+0xff5+0x1*-0x16c5)]=_0x1b409e,this['_meshInfo'][_0x43f7a9]['positions'][_0x404325+(-0x21fb+-0x24f8+-0xb*-0x674)]=_0x42c814;}_0x3ec0d1=_0xb1b8cb+(0x31*0x76+0x6c5+0x11*-0x1ba);}const _0xb22a73=this['_meshInfo'][_0x43f7a9]['count']*(-0x16a8+-0xa3b+0x20e7),_0x1ef7b8=this['_meshInfo'][_0x43f7a9]['quad']*(-0x926+-0x210a*-0x1+-0xbf0*0x2),_0x4887f8=new Uo(this['_meshInfo'][_0x43f7a9]['meshInstan'+'ce']['mesh']['vertexBuff'+'er']);for(let _0xb49e82=-0x80b+-0x1f7*-0x7+-0x5b6;_0xb49e82<_0xb22a73;_0xb49e82++)_0xb49e82>=_0x1ef7b8?(_0x4887f8['element'][Me]['set'](0x51*-0x5d+0x4a3*-0x4+0x2ff9,-0x2*0xd9a+0x2384+0x4c*-0x1c,-0x65*0x9+0x10b+0x3*0xd6),_0x4887f8['element'][is]['set'](0x18b8+0x11f2+-0x2aaa,0xcf0+0x122+-0x1*0xe12),_0x4887f8['element'][Wt]['set'](-0xf6+-0xdd*0x25+-0x20e7*-0x1,0x329+0x2*-0x385+0x3e1,0x427+-0x1939+-0xae*-0x1f,0xb2*-0x29+0x2*0xe9a+-0xb2),_0x4887f8['element'][Ko]['set'](-0x1*-0x1697+-0x5*0x26f+-0xa6c,-0xde2+0x3df*-0x1+0xf*0x12f,-0x145e+-0x85d+0x1cbb,-0x1*0x2449+-0x193c+-0x3d85*-0x1),_0x4887f8['element'][Zo]['set'](0xd24+0x3b2*-0x3+-0x1*0x20e,0x1156+0x5*0x40b+0x258d*-0x1,-0x997+-0x1f97*0x1+0x292e,0x2e3*0x3+-0xad7+0x5d*0x6)):(_0x4887f8['element'][Me]['set'](this['_meshInfo'][_0x43f7a9]['positions'][_0xb49e82*(0x398*-0x1+0x3f*-0x45+0x1f*0xaa)+(0xaa7+0x22bf+0x1bf*-0x1a)],this['_meshInfo'][_0x43f7a9]['positions'][_0xb49e82*(0x1de*0x1+0x2*0x2a1+-0x71d)+(0x1ce2+-0x8+-0x1cd9)],this['_meshInfo'][_0x43f7a9]['positions'][_0xb49e82*(-0x30a+0x20e1+-0xa6*0x2e)+(0x1a61+0x1*-0x9c5+0x5*-0x352)]),_0x4887f8['element'][is]['set'](this['_meshInfo'][_0x43f7a9]['uvs'][_0xb49e82*(-0x4a2+-0xd4e+0x11f2)+(-0x22f9+-0xed8+0x109b*0x3)],this['_meshInfo'][_0x43f7a9]['uvs'][_0xb49e82*(-0x1f*-0xb7+0x2a2+0x5*-0x4f5)+(0x967*-0x1+-0x5*0x74+0xbac)]),_0x4887f8['element'][Wt]['set'](this['_meshInfo'][_0x43f7a9]['colors'][_0xb49e82*(-0x1964+0x6a3*0x1+0x9b*0x1f)+(-0x1553+-0x1*-0x24f3+0x14*-0xc8)],this['_meshInfo'][_0x43f7a9]['colors'][_0xb49e82*(-0x1a30+0x19*0xff+0x14d)+(0x24d3+-0x1435+0x109d*-0x1)],this['_meshInfo'][_0x43f7a9]['colors'][_0xb49e82*(0xfc5+-0xc7*-0x20+-0x28a1)+(0x8f2+-0x2*0x526+0xc*0x1d)],this['_meshInfo'][_0x43f7a9]['colors'][_0xb49e82*(-0x1a58+-0x1*-0x1ebb+-0x45f)+(-0x179b*0x1+-0x9ae+-0x853*-0x4)]),_0x4887f8['element'][Ko]['set'](this['_meshInfo'][_0x43f7a9]['outlines'][_0xb49e82*(0x30*0x9c+-0x181c+-0x521)+(-0xce9*-0x1+-0x2361+0x1678)],this['_meshInfo'][_0x43f7a9]['outlines'][_0xb49e82*(0x11*-0xd+0x1af*0x4+-0x5dc)+(0x1b2*0x8+-0x1690+-0x1*-0x901)],this['_meshInfo'][_0x43f7a9]['outlines'][_0xb49e82*(-0xa*0xe9+-0x178c+0xae3*0x3)+(0x180a+0x17f+-0x1987)]),_0x4887f8['element'][Zo]['set'](this['_meshInfo'][_0x43f7a9]['shadows'][_0xb49e82*(0x26b*0x2+-0x248b+0x1fb8)+(-0x1129+0x22a*-0x2+0x157d)],this['_meshInfo'][_0x43f7a9]['shadows'][_0xb49e82*(-0x1d0c+-0xe32+0x2b41)+(0x19*-0x87+0xfd1*-0x2+0x2*0x1669)],this['_meshInfo'][_0x43f7a9]['shadows'][_0xb49e82*(0x146d+-0x159f*-0x1+-0x2a09)+(-0x106d*-0x1+0x7d*0xb+-0xae5*0x2)])),_0x4887f8['next']();_0x4887f8['end'](),this['_meshInfo'][_0x43f7a9]['meshInstan'+'ce']['mesh']['aabb']['compute'](this['_meshInfo'][_0x43f7a9]['positions']),this['_meshInfo'][_0x43f7a9]['meshInstan'+'ce']['_aabbVer']=-(0x1370*0x1+0x1fdf+-0x334e);}this['_aabbDirty']=!(0x1515+0xa*0x36a+0xd3*-0x43);}['_onFontRen'+'der'](){this['font']=this['_font'];}['_onFontLoa'+'d'](_0x6217c3){this['font']!==_0x6217c3['resource']&&(this['font']=_0x6217c3['resource']);}['_onFontCha'+'nge'](_0xd3b61b,_0x291d4a,_0x105e76,_0x855c2e){if(_0x291d4a==='data'){this['_font']['data']=_0x105e76;const _0xe9dad8=this['_font']['data']['info']['maps']['length'];for(let _0x3eb370=0x10d7+0x91d+-0x19f4*0x1;_0x3eb370<_0xe9dad8;_0x3eb370++){if(!this['_meshInfo'][_0x3eb370])continue;const _0x2e47f8=this['_meshInfo'][_0x3eb370]['meshInstan'+'ce'];_0x2e47f8&&(_0x2e47f8['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x2e47f8['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x2e47f8['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x3eb370]['width']));}}}['_onFontRem'+'ove'](_0x2b4932){}['_setTextur'+'eParams'](_0x3558b6,_0x30d0ad){this['_font']&&(this['_font']['type']===Rh?(_0x3558b6['deletePara'+'meter']('texture_em'+'issiveMap'),_0x3558b6['deletePara'+'meter']('texture_op'+'acityMap'),_0x3558b6['setParamet'+'er']('texture_ms'+'dfMap',_0x30d0ad)):this['_font']['type']===dR&&(_0x3558b6['deletePara'+'meter']('texture_ms'+'dfMap'),_0x3558b6['setParamet'+'er']('texture_em'+'issiveMap',_0x30d0ad),_0x3558b6['setParamet'+'er']('texture_op'+'acityMap',_0x30d0ad)));}['_getPxRang'+'e'](_0x4d2b27){const _0x1e7433=Object['keys'](this['_font']['data']['chars']);for(let _0x13f817=-0x2621+-0x19b+0x27bc;_0x13f817<_0x1e7433['length'];_0x13f817++){const _0x3c175f=this['_font']['data']['chars'][_0x1e7433[_0x13f817]];if(_0x3c175f['range'])return(_0x3c175f['scale']||-0x1f14+-0x17cf+-0x493*-0xc)*_0x3c175f['range'];}return-0x6eb*-0x1+0x1600+-0x1ce9;}['_getUv'](_0x214ae9){const _0x35f1b0=this['_font']['data'];if(!_0x35f1b0['chars'][_0x214ae9])return _0x35f1b0['chars']['\x20']?this['_getUv']('\x20'):[-0x19cf*0x1+-0x64e*0x4+0x3307*0x1,0x24bd+-0xb18*0x1+-0x19a5,0x293*0xd+0x131b*-0x1+-0x72e*0x2,-0x6c8+-0x29*-0x7+0x5a9];const _0x244d27=_0x35f1b0['chars'][_0x214ae9]['map'],_0x390f4a=_0x35f1b0['info']['maps'][_0x244d27]['width'],_0x191448=_0x35f1b0['info']['maps'][_0x244d27]['height'],_0x346abf=_0x35f1b0['chars'][_0x214ae9]['x'],_0x1601b9=_0x35f1b0['chars'][_0x214ae9]['y'],_0xcfe6c1=_0x346abf,_0x244036=_0x1601b9,_0x1e6801=_0x346abf+_0x35f1b0['chars'][_0x214ae9]['width'],_0xefe6ab=_0x1601b9-_0x35f1b0['chars'][_0x214ae9]['height'],_0x33e06e=-0x142+-0x22a9+0x1a2*0x16-_0x35f1b0['chars'][_0x214ae9]['height']/_0x191448;return[_0xcfe6c1/_0x390f4a,_0x33e06e-_0x244036/_0x191448,_0x1e6801/_0x390f4a,_0x33e06e-_0xefe6ab/_0x191448];}['onEnable'](){this['_fontAsset']['autoLoad']=!(0x1*-0x5d1+-0xb51+0x1122),this['_model']&&this['_element']['addModelTo'+'Layers'](this['_model']);}['onDisable'](){this['_fontAsset']['autoLoad']=!(-0x7*-0x3d+-0x784+0x5da),this['_model']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']);}['_setStenci'+'l'](_0x4518dc){if(this['_model']){const _0x5d1644=this['_model']['meshInstan'+'ces'];for(let _0x4e2f49=-0xd0*-0x2f+-0x1c77+-0x1*0x9b9;_0x4e2f49<_0x5d1644['length'];_0x4e2f49++)_0x5d1644[_0x4e2f49]['stencilFro'+'nt']=_0x4518dc,_0x5d1644[_0x4e2f49]['stencilBac'+'k']=_0x4518dc;}}['_shouldAut'+'oFitWidth'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth'];}['_shouldAut'+'oFitHeight'](){return this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_shouldAut'+'oFit'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth']||this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_calculate'+'CharsPerTe'+'xture'](_0x313f01){const _0x4f6aaf={};_0x313f01===void(-0x430+-0x2441+0x1d*0x165)&&(_0x313f01=this['_symbols']['length']);for(let _0x370c1b=0xc97+0x26cd+-0x16*0x256,_0x1d1867=_0x313f01;_0x370c1b<_0x1d1867;_0x370c1b++){const _0x50db38=this['_symbols'][_0x370c1b];let _0xe06cbf=this['_font']['data']['chars'][_0x50db38];_0xe06cbf||(_0xe06cbf=this['_font']['data']['chars']['\x20'],_0xe06cbf||(_0xe06cbf=this['_font']['data']['chars'][Object['keys'](this['_font']['data']['chars'])[-0x2*0x62b+0xd00+-0xaa]]));const _0x4686bb=_0xe06cbf['map'];_0x4f6aaf[_0x4686bb]?_0x4f6aaf[_0x4686bb]++:_0x4f6aaf[_0x4686bb]=0x18e1+-0x2*0x2aa+-0x138c;}return _0x4f6aaf;}['_updateRen'+'derRange'](){const _0x3ffdfe=this['_rangeStar'+'t']===0x5*0x4f+0x2470+-0x25fb?0x562+-0x23d5+0x617*0x5:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeStar'+'t']),_0x46e5ed=this['_rangeEnd']===0xaee+-0xa38+-0xb6?0x14cd+-0x7*-0x24a+-0x24d3:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeEnd']);for(let _0x12bc5c=-0x423*-0x4+-0x1*0x1af+-0xedd,_0x33fde7=this['_meshInfo']['length'];_0x12bc5c<_0x33fde7;_0x12bc5c++){const _0x4b9a5d=_0x3ffdfe[_0x12bc5c]||0x2*0x5a1+-0x619+-0x529,_0x1df1c0=_0x46e5ed[_0x12bc5c]||-0x6*0x417+-0x869+0x20f3,_0x4805d5=this['_meshInfo'][_0x12bc5c]['meshInstan'+'ce'];if(_0x4805d5){const _0x381323=_0x4805d5['mesh'];_0x381323&&(_0x381323['primitive'][0xcf3+0x1106+-0x1df9]['base']=_0x4b9a5d*(0x1aec+-0xb*-0x31a+-0x3d07)*(0x117*0xb+-0x2fc*-0x5+-0x1*0x1ae7),_0x381323['primitive'][-0x1560+-0x9c7*0x1+0x1f27]['count']=(_0x1df1c0-_0x4b9a5d)*(0x5*0x57d+0xbba+-0x2728)*(0x1269+-0x6f5+-0xb72));}}}set['text'](_0x558ffa){this['_i18nKey']=null;const _0x406f56=_0x558ffa!=null&&_0x558ffa['toString']()||'';this['_setText'](_0x406f56);}get['text'](){return this['_text'];}set['key'](_0x29fd18){const _0x589514=_0x29fd18!==null?_0x29fd18['toString']():null;this['_i18nKey']!==_0x589514&&(this['_i18nKey']=_0x589514,_0x589514?(this['_fontAsset']['disableLoc'+'alization']=!(-0x884+0x1*0xd46+-0x4c1*0x1),this['_resetLoca'+'lizedText']()):this['_fontAsset']['disableLoc'+'alization']=!(-0x135+0x18bc+-0x1787));}get['key'](){return this['_i18nKey'];}set['color'](_0x1fa9a6){const _0x3a0cea=_0x1fa9a6['r'],_0x27b253=_0x1fa9a6['g'],_0x1b10b5=_0x1fa9a6['b'];if(this['_color']===_0x1fa9a6&&console['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t'),!(this['_color']['r']===_0x3a0cea&&this['_color']['g']===_0x27b253&&this['_color']['b']===_0x1b10b5)&&(this['_color']['r']=_0x3a0cea,this['_color']['g']=_0x27b253,this['_color']['b']=_0x1b10b5,!!this['_model'])){if(this['_symbolCol'+'ors'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_color']),this['_colorUnif'+'orm'][0x12*0x10c+0x244+0x1c*-0xc1]=We['r'],this['_colorUnif'+'orm'][-0x20e7+-0xbe9*-0x1+-0xd7*-0x19]=We['g'],this['_colorUnif'+'orm'][-0x1*-0x1c99+-0x24bc+-0xf*-0x8b]=We['b'];for(let _0xee165=-0x1c94+-0x2189+0x3e1d,_0x4cbca6=this['_model']['meshInstan'+'ces']['length'];_0xee165<_0x4cbca6;_0xee165++)this['_model']['meshInstan'+'ces'][_0xee165]['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}this['_element']&&this['_element']['fire']('set:color',this['_color']);}}get['color'](){return this['_color'];}set['opacity'](_0x116440){if(this['_color']['a']!==_0x116440&&(this['_color']['a']=_0x116440,this['_model'])){for(let _0xf67da=0xf2*-0xd+-0x146e+0x20b8,_0x326ca0=this['_model']['meshInstan'+'ces']['length'];_0xf67da<_0x326ca0;_0xf67da++)this['_model']['meshInstan'+'ces'][_0xf67da]['setParamet'+'er']('material_o'+'pacity',_0x116440);}this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x116440);}get['opacity'](){return this['_color']['a'];}set['lineHeight'](_0x5664be){const _0x3e5f93=this['_lineHeigh'+'t'];this['_lineHeigh'+'t']=_0x5664be,this['_scaledLin'+'eHeight']=_0x5664be,_0x3e5f93!==_0x5664be&&this['_font']&&this['_updateTex'+'t']();}get['lineHeight'](){return this['_lineHeigh'+'t'];}set['wrapLines'](_0x130103){const _0x3ad644=this['_wrapLines'];this['_wrapLines']=_0x130103,_0x3ad644!==_0x130103&&this['_font']&&this['_updateTex'+'t']();}get['wrapLines'](){return this['_wrapLines'];}get['lines'](){return this['_lineConte'+'nts'];}set['spacing'](_0x48b4c9){const _0xab5928=this['_spacing'];this['_spacing']=_0x48b4c9,_0xab5928!==_0x48b4c9&&this['_font']&&this['_updateTex'+'t']();}get['spacing'](){return this['_spacing'];}set['fontSize'](_0x2b36f8){const _0x28b226=this['_fontSize'];this['_fontSize']=_0x2b36f8,this['_originalF'+'ontSize']=_0x2b36f8,_0x28b226!==_0x2b36f8&&this['_font']&&this['_updateTex'+'t']();}get['fontSize'](){return this['_fontSize'];}set['fontAsset'](_0x2c9f78){this['_fontAsset']['defaultAss'+'et']=_0x2c9f78;}get['fontAsset'](){return this['_fontAsset']['localizedA'+'sset'];}set['font'](_0x3e6d60){let _0x49d463;if(this['_font']&&(_0x49d463=this['_font']['type'],this['_font']['off']&&this['_font']['off']('render',this['_onFontRen'+'der'],this)),this['_font']=_0x3e6d60,this['_fontMinY']=0x7cf*0x1+0x35b*0xb+-0x2cb8,this['_fontMaxY']=-0x83*0x4b+-0x3*-0x8c6+0xc0f,!_0x3e6d60)return;const _0x4956f1=this['_font']['data'];for(const _0x10489a in _0x4956f1['chars']){const _0x52f4e8=_0x4956f1['chars'][_0x10489a];_0x52f4e8['bounds']&&(this['_fontMinY']=Math['min'](this['_fontMinY'],_0x52f4e8['bounds'][0x25*0x67+-0x11d3+0x3*0xfb]),this['_fontMaxY']=Math['max'](this['_fontMaxY'],_0x52f4e8['bounds'][-0x2267*-0x1+0x23c6+-0x462a]));}if(this['_font']['on']&&this['_font']['on']('render',this['_onFontRen'+'der'],this),this['_fontAsset']['localizedA'+'sset']&&this['_system']['app']['assets']['get'](this['_fontAsset']['localizedA'+'sset'])['resource']!==this['_font']&&(this['_fontAsset']['defaultAss'+'et']=null),_0x3e6d60['type']!==_0x49d463){const _0x261aa8=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x261aa8);}for(let _0x3d69f4=-0xe65+-0xfb9+0x2*0xf0f,_0x3f3cf8=this['_font']['textures']['length'];_0x3d69f4<_0x3f3cf8;_0x3d69f4++)if(!this['_meshInfo'][_0x3d69f4])this['_meshInfo'][_0x3d69f4]=new vR();else{const _0x2bde25=this['_meshInfo'][_0x3d69f4]['meshInstan'+'ce'];_0x2bde25&&(_0x2bde25['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x2bde25['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x2bde25['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x3d69f4]['width']),this['_setTextur'+'eParams'](_0x2bde25,this['_font']['textures'][_0x3d69f4]));}let _0x1d8f29=!(0xa7+0x7c3+-0x869*0x1);for(let _0x3fce4d=this['_font']['textures']['length'];_0x3fce4d<this['_meshInfo']['length'];_0x3fce4d++)this['_meshInfo'][_0x3fce4d]['meshInstan'+'ce']&&(_0x1d8f29||(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),_0x1d8f29=!(-0xcc9*0x1+-0x9e9+-0x48a*-0x5)),this['_removeMes'+'hInstance'](this['_meshInfo'][_0x3fce4d]['meshInstan'+'ce']));this['_meshInfo']['length']>this['_font']['textures']['length']&&(this['_meshInfo']['length']=this['_font']['textures']['length']),this['_updateTex'+'t']();}get['font'](){return this['_font'];}set['alignment'](_0x3ec0b7){_0x3ec0b7 instanceof J?this['_alignment']['set'](_0x3ec0b7['x'],_0x3ec0b7['y']):this['_alignment']['set'](_0x3ec0b7[-0x1*-0x148b+0x1cb1+-0x313c*0x1],_0x3ec0b7[0x2072+0x239*-0x2+-0x1bff]),this['_font']&&this['_updateTex'+'t']();}get['alignment'](){return this['_alignment'];}set['autoWidth'](_0x3d20a9){const _0x4374c7=this['_autoWidth'];if(this['_autoWidth']=_0x3d20a9,_0x3d20a9&&Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])<-0xcae+0x39*0x8b+0x1*-0x1245+0.0001&&(this['_element']['width']=this['width']),_0x4374c7!==_0x3d20a9){const _0x382d77=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x382d77!==this['_fontSize']&&(this['_fontSize']=_0x382d77,this['_font']&&this['_updateTex'+'t']());}}get['autoWidth'](){return this['_autoWidth'];}set['autoHeight'](_0x4858d2){const _0x2cef6a=this['_autoHeigh'+'t'];if(this['_autoHeigh'+'t']=_0x4858d2,_0x4858d2&&Math['abs'](this['_element']['anchor']['y']-this['_element']['anchor']['w'])<0xc0c+0x106+0x2*-0x689+0.0001&&(this['_element']['height']=this['height']),_0x2cef6a!==_0x4858d2){const _0x1d1253=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x1d1253!==this['_fontSize']&&(this['_fontSize']=_0x1d1253,this['_font']&&this['_updateTex'+'t']());}}get['autoHeight'](){return this['_autoHeigh'+'t'];}set['rtlReorder'](_0x50a52b){this['_rtlReorde'+'r']!==_0x50a52b&&(this['_rtlReorde'+'r']=_0x50a52b,this['_font']&&this['_updateTex'+'t']());}get['rtlReorder'](){return this['_rtlReorde'+'r'];}set['unicodeCon'+'verter'](_0x35a4cc){this['_unicodeCo'+'nverter']!==_0x35a4cc&&(this['_unicodeCo'+'nverter']=_0x35a4cc,this['_setText'](this['_text']));}get['unicodeCon'+'verter'](){return this['_unicodeCo'+'nverter'];}get['aabb'](){if(this['_aabbDirty']){let _0x506b18=!(-0x11d9+0x1802+-0x8*0xc5);for(let _0x2f8bac=0x17*0x15f+-0x3*0x399+-0x14be;_0x2f8bac<this['_meshInfo']['length'];_0x2f8bac++)this['_meshInfo'][_0x2f8bac]['meshInstan'+'ce']&&(_0x506b18?this['_aabb']['add'](this['_meshInfo'][_0x2f8bac]['meshInstan'+'ce']['aabb']):(this['_aabb']['copy'](this['_meshInfo'][_0x2f8bac]['meshInstan'+'ce']['aabb']),_0x506b18=!(-0x1*0x1dac+-0x1601+0x33ad*0x1)));this['_aabbDirty']=!(0x1eae+0x468+-0x2315);}return this['_aabb'];}set['outlineCol'+'or'](_0x401808){const _0x539b28=_0x401808 instanceof ie?_0x401808['r']:_0x401808[-0x31*0x3a+-0x1286+-0x768*-0x4],_0x9ab7f4=_0x401808 instanceof ie?_0x401808['g']:_0x401808[-0x1*-0x78a+-0x17b*-0x3+-0xbfa],_0x523f7b=_0x401808 instanceof ie?_0x401808['b']:_0x401808[0x2d2+-0x4eb+0xb*0x31],_0x50b5b3=_0x401808 instanceof ie?_0x401808['a']:_0x401808[0x1381+0x2020+-0x339e];if(this['_outlineCo'+'lor']===_0x401808&&console['warn']('Setting\x20el'+'ement.outl'+'ineColor\x20t'+'o\x20itself\x20w'+'ill\x20have\x20n'+'o\x20effect'),!(this['_outlineCo'+'lor']['r']===_0x539b28&&this['_outlineCo'+'lor']['g']===_0x9ab7f4&&this['_outlineCo'+'lor']['b']===_0x523f7b&&this['_outlineCo'+'lor']['a']===_0x50b5b3)&&(this['_outlineCo'+'lor']['r']=_0x539b28,this['_outlineCo'+'lor']['g']=_0x9ab7f4,this['_outlineCo'+'lor']['b']=_0x523f7b,this['_outlineCo'+'lor']['a']=_0x50b5b3,!!this['_model'])){if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][-0x2482+-0x8*0x1a1+0x318a]=We['r'],this['_outlineCo'+'lorUniform'][0x16f9+0xd*0x149+-0x27ad]=We['g'],this['_outlineCo'+'lorUniform'][0x3f*0x2e+-0x265*-0x2+-0x101a]=We['b'],this['_outlineCo'+'lorUniform'][0x2be+-0x1bb3+-0x63e*-0x4]=We['a'];for(let _0xce8863=0xf4e+0x208b+-0x2fd9,_0x2b52e3=this['_model']['meshInstan'+'ces']['length'];_0xce8863<_0x2b52e3;_0xce8863++)this['_model']['meshInstan'+'ces'][_0xce8863]['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']);}this['_element']&&this['_element']['fire']('set:outlin'+'e',this['_color']);}}get['outlineCol'+'or'](){return this['_outlineCo'+'lor'];}set['outlineThi'+'ckness'](_0x248c67){const _0x275812=this['_outlineTh'+'ickness'];if(this['_outlineTh'+'ickness']=_0x248c67,_0x275812!==_0x248c67&&this['_font']){if(!this['_model'])return;if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{for(let _0x2465c1=-0x133b+-0x8e9+0x2*0xe12,_0xd96533=this['_model']['meshInstan'+'ces']['length'];_0x2465c1<_0xd96533;_0x2465c1++)this['_model']['meshInstan'+'ces'][_0x2465c1]['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']);}}}get['outlineThi'+'ckness'](){return this['_outlineTh'+'ickness'];}set['shadowColo'+'r'](_0x3560bc){const _0x311269=_0x3560bc instanceof ie?_0x3560bc['r']:_0x3560bc[0x2*-0x28c+0x215f*-0x1+-0x1*-0x2677],_0x595ab3=_0x3560bc instanceof ie?_0x3560bc['g']:_0x3560bc[-0x1a2*0x9+-0x16e*0x6+0x1747*0x1],_0x2a9b77=_0x3560bc instanceof ie?_0x3560bc['b']:_0x3560bc[0x2*0xa59+0x2*0xc1f+0x6*-0x77d],_0x47066d=_0x3560bc instanceof ie?_0x3560bc['a']:_0x3560bc[-0x2da*-0x4+0x1a86+-0x25eb];if(this['_shadowCol'+'or']===_0x3560bc&&w['warn']('Setting\x20el'+'ement.shad'+'owColor\x20to'+'\x20itself\x20wi'+'ll\x20have\x20no'+'\x20effect'),!(this['_shadowCol'+'or']['r']===_0x311269&&this['_shadowCol'+'or']['g']===_0x595ab3&&this['_shadowCol'+'or']['b']===_0x2a9b77&&this['_shadowCol'+'or']['a']===_0x47066d)&&(this['_shadowCol'+'or']['r']=_0x311269,this['_shadowCol'+'or']['g']=_0x595ab3,this['_shadowCol'+'or']['b']=_0x2a9b77,this['_shadowCol'+'or']['a']=_0x47066d,!!this['_model'])){if(this['_symbolSha'+'dowParams'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][-0x1194+0x61*0xc+0xd08]=We['r'],this['_shadowCol'+'orUniform'][0x45*-0x5+0x5*0x2e9+-0x1*0xd33]=We['g'],this['_shadowCol'+'orUniform'][-0x2*0xfbf+0x2486+-0x1*0x506]=We['b'],this['_shadowCol'+'orUniform'][-0x544+0x1b99+-0x1652]=We['a'];for(let _0x2058ef=0x1*0x5e9+0x731+-0xd1a,_0x3eeea1=this['_model']['meshInstan'+'ces']['length'];_0x2058ef<_0x3eeea1;_0x2058ef++)this['_model']['meshInstan'+'ces'][_0x2058ef]['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']);}}}get['shadowColo'+'r'](){return this['_shadowCol'+'or'];}set['shadowOffs'+'et'](_0x310283){const _0x39d50f=_0x310283 instanceof J?_0x310283['x']:_0x310283[-0x13*0x78+0x1*0x4ae+0x43a*0x1],_0x4fd3e5=_0x310283 instanceof J?_0x310283['y']:_0x310283[0x101e+0x1da+0x9*-0x1ff];if(!(this['_shadowOff'+'set']['x']===_0x39d50f&&this['_shadowOff'+'set']['y']===_0x4fd3e5)&&(this['_shadowOff'+'set']['set'](_0x39d50f,_0x4fd3e5),this['_font']&&this['_model'])){if(this['_symbolSha'+'dowParams'])this['_updateTex'+'t']();else for(let _0x411a36=0x13*0x56+-0x5ef+-0x1*0x73,_0x2d8722=this['_model']['meshInstan'+'ces']['length'];_0x411a36<_0x2d8722;_0x411a36++){const _0x4e81dc=-this['_font']['data']['info']['maps'][_0x411a36]['width']/this['_font']['data']['info']['maps'][_0x411a36]['height'];this['_shadowOff'+'setUniform'][-0x720+-0x2371+0x2a91]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x259d+0x7a3+-0x2d3f]=_0x4e81dc*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'],this['_model']['meshInstan'+'ces'][_0x411a36]['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']);}}}get['shadowOffs'+'et'](){return this['_shadowOff'+'set'];}set['minFontSiz'+'e'](_0x100e10){this['_minFontSi'+'ze']!==_0x100e10&&(this['_minFontSi'+'ze']=_0x100e10,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['minFontSiz'+'e'](){return this['_minFontSi'+'ze'];}set['maxFontSiz'+'e'](_0xf5b209){this['_maxFontSi'+'ze']!==_0xf5b209&&(this['_maxFontSi'+'ze']=_0xf5b209,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['maxFontSiz'+'e'](){return this['_maxFontSi'+'ze'];}set['autoFitWid'+'th'](_0xdab3a4){this['_autoFitWi'+'dth']!==_0xdab3a4&&(this['_autoFitWi'+'dth']=_0xdab3a4,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitWid'+'th'](){return this['_autoFitWi'+'dth'];}set['autoFitHei'+'ght'](_0xdf99d8){this['_autoFitHe'+'ight']!==_0xdf99d8&&(this['_autoFitHe'+'ight']=_0xdf99d8,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitHei'+'ght'](){return this['_autoFitHe'+'ight'];}set['maxLines'](_0x184220){this['_maxLines']!==_0x184220&&(_0x184220===null&&this['_maxLines']===-(-0x925*-0x1+0x943+0x2a1*-0x7)||(this['_maxLines']=_0x184220===null?-(0x1888+-0x247b+0x2fd*0x4):_0x184220,this['font']&&this['_wrapLines']&&this['_updateTex'+'t']()));}get['maxLines'](){return this['_maxLines'];}set['enableMark'+'up'](_0x24397c){if(_0x24397c=!!_0x24397c,this['_enableMar'+'kup']===_0x24397c)return;this['_enableMar'+'kup']=_0x24397c,this['font']&&this['_updateTex'+'t']();const _0x8be1a6=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x8be1a6);}get['enableMark'+'up'](){return this['_enableMar'+'kup'];}get['symbols'](){return this['_symbols'];}get['symbolColo'+'rs'](){return this['_symbolCol'+'ors']===null?null:this['_symbolCol'+'ors']['map'](function(_0x5aa960){return this['_colorPale'+'tte']['slice'](_0x5aa960*(-0x1af7+0x2*-0x12f1+0x40dc),_0x5aa960*(-0x141*0x14+0x1771+0x1a6)+(-0x16da+0x241*0x4+0xdd9));},this);}get['symbolOutl'+'ineParams'](){return this['_symbolOut'+'lineParams']===null?null:this['_symbolOut'+'lineParams']['map'](function(_0x57ef90){return this['_outlinePa'+'lette']['slice'](_0x57ef90*(-0x15c2+0x1*-0x17db+0x2da2),_0x57ef90*(0x272+0x100*0x1d+0x5*-0x649)+(0xde1+0x18e3+-0x1*0x26bf));},this);}get['symbolShad'+'owParams'](){return this['_symbolSha'+'dowParams']===null?null:this['_symbolSha'+'dowParams']['map'](function(_0x21b1b7){return this['_shadowPal'+'ette']['slice'](_0x21b1b7*(-0x687*-0x4+-0x2324+0x90e),_0x21b1b7*(0x1000+0x1333*0x2+0x78*-0x74)+(-0x29+0x146f+-0x1440));},this);}get['rtl'](){return this['_rtl'];}set['rangeStart'](_0x292ad3){_0x292ad3=Math['max'](-0x45*0x19+-0xa20+0x10dd,Math['min'](_0x292ad3,this['_symbols']['length'])),_0x292ad3!==this['_rangeStar'+'t']&&(this['_rangeStar'+'t']=_0x292ad3,this['_updateRen'+'derRange']());}get['rangeStart'](){return this['_rangeStar'+'t'];}set['rangeEnd'](_0x256bf5){_0x256bf5=Math['max'](this['_rangeStar'+'t'],Math['min'](_0x256bf5,this['_symbols']['length'])),_0x256bf5!==this['_rangeEnd']&&(this['_rangeEnd']=_0x256bf5,this['_updateRen'+'derRange']());}get['rangeEnd'](){return this['_rangeEnd'];}}const Ef=new D(),Zg=new te(),Pi=new D(),MR=new D(),ws=new te(),bc=new te(),Ac=new te(),$a=new te();class hs extends we{constructor(_0x2e376b,_0x559c3b){super(_0x2e376b,_0x559c3b),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_beingInit'+'ialized']=!(0x71*0x53+0x22*0x65+-0x320c),this['_anchor']=new re(),this['_localAnch'+'or']=new re(),this['_pivot']=new J(),this['_width']=this['_calculate'+'dWidth']=0x3*-0x4c1+0x1*-0x21a9+-0x802*-0x6,this['_height']=this['_calculate'+'dHeight']=0x1*-0x1b9c+-0x6dc+-0x3*-0xb88,this['_margin']=new re(0x8e1*0x4+-0x2331+-0x53*0x1,-0x5a5*0x1+-0x221e*-0x1+-0x1c79,-(-0x959*-0x3+-0xe3*-0x3+-0x1e94),-(0x190d+0x1277+-0x15b2*0x2)),this['_modelTran'+'sform']=new te(),this['_screenToW'+'orld']=new te(),this['_anchorTra'+'nsform']=new te(),this['_anchorDir'+'ty']=!(-0x224f*0x1+-0x10d3+0x3322),this['_parentWor'+'ldTransfor'+'m']=new te(),this['_screenTra'+'nsform']=new te(),this['_screenCor'+'ners']=[new D(),new D(),new D(),new D()],this['_canvasCor'+'ners']=[new J(),new J(),new J(),new J()],this['_worldCorn'+'ers']=[new D(),new D(),new D(),new D()],this['_cornersDi'+'rty']=!(0x1ca8+0x2*-0x509+-0x1296),this['_canvasCor'+'nersDirty']=!(0x2*-0xc4d+-0x9*0x407+0x3cd9),this['_worldCorn'+'ersDirty']=!(-0x8*0x5+0x1*-0x12fd+0x1325),this['entity']['on']('insert',this['_onInsert'],this),this['_patch'](),this['screen']=null,this['_type']=eh,this['_image']=null,this['_text']=null,this['_group']=null,this['_drawOrder']=0x2146+0x1142+-0x7*0x738,this['_fitMode']=th,this['_useInput']=!(0x29a*-0x3+0xae+0x721),this['_layers']=[Il],this['_addedMode'+'ls']=[],this['_batchGrou'+'pId']=-(0xc0d*0x1+-0x10ac+0x4*0x128),this['_batchGrou'+'p']=null,this['_offsetRea'+'dAt']=-0x23b7+0x20b0+0x307,this['_maskOffse'+'t']=-0x1780+-0x295*-0x5+0xa97*0x1+0.5,this['_maskedBy']=null);}get['data'](){const _0x7e3716=this['system']['store'][this['entity']['getGuid']()];return _0x7e3716?_0x7e3716['data']:null;}set['enabled'](_0x513027){const _0x39c3df=this['data'],_0x4c2ddd=_0x39c3df['enabled'];_0x39c3df['enabled']=_0x513027,this['fire']('set','enabled',_0x4c2ddd,_0x513027);}get['enabled'](){return this['data']['enabled'];}get['_absLeft'](){return this['_localAnch'+'or']['x']+this['_margin']['x'];}get['_absRight'](){return this['_localAnch'+'or']['z']-this['_margin']['z'];}get['_absTop'](){return this['_localAnch'+'or']['w']-this['_margin']['w'];}get['_absBottom'](){return this['_localAnch'+'or']['y']+this['_margin']['y'];}get['_hasSplitA'+'nchorsX'](){return Math['abs'](this['_anchor']['x']-this['_anchor']['z'])>0xaeb+0x1d1b*-0x1+0xc*0x184+0.001;}get['_hasSplitA'+'nchorsY'](){return Math['abs'](this['_anchor']['y']-this['_anchor']['w'])>0xf*-0x1f1+-0x5ce+0x22ed+0.001;}get['aabb'](){return this['_image']?this['_image']['aabb']:this['_text']?this['_text']['aabb']:null;}set['anchor'](_0x1741a2){_0x1741a2 instanceof re?this['_anchor']['copy'](_0x1741a2):this['_anchor']['set'](..._0x1741a2),!this['entity']['_parent']&&!this['screen']?this['_calculate'+'LocalAncho'+'rs']():this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['_anchorDir'+'ty']=!(-0x16f2+0x8e4*0x1+0xe0e),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:anchor',this['_anchor']);}get['anchor'](){return this['_anchor'];}set['batchGroup'+'Id'](_0x2fae4b){var _0x44488a,_0x182c64;this['_batchGrou'+'pId']!==_0x2fae4b&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x73f+-0xf*-0x1eb+-0x227*0xa&&((_0x44488a=this['system']['app']['batcher'])==null||_0x44488a['remove'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x2fae4b>=0x6b*-0x53+0x1d87*0x1+0x52a&&((_0x182c64=this['system']['app']['batcher'])==null||_0x182c64['insert'](St['ELEMENT'],_0x2fae4b,this['entity'])),_0x2fae4b<0x1903+0x1a32+0x1*-0x3335&&this['_batchGrou'+'pId']>=-0xa7f*0x1+-0xa7*-0x4+0x7e3&&this['enabled']&&this['entity']['enabled']&&(this['_image']&&this['_image']['_renderabl'+'e']['model']?this['addModelTo'+'Layers'](this['_image']['_renderabl'+'e']['model']):this['_text']&&this['_text']['_model']&&this['addModelTo'+'Layers'](this['_text']['_model'])),this['_batchGrou'+'pId']=_0x2fae4b);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['bottom'](_0x558ea0){this['_margin']['y']=_0x558ea0;const _0x364aa4=this['entity']['getLocalPo'+'sition'](),_0x58350b=this['_absTop'],_0x5ddc7f=this['_localAnch'+'or']['y']+_0x558ea0;this['_setHeight'](_0x58350b-_0x5ddc7f),_0x364aa4['y']=_0x558ea0+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x364aa4);}get['bottom'](){return this['_margin']['y'];}set['calculated'+'Width'](_0x28cacc){this['_setCalcul'+'atedWidth'](_0x28cacc,!(-0x17db+-0x5*0x48f+0x6aa*0x7));}get['calculated'+'Width'](){return this['_calculate'+'dWidth'];}set['calculated'+'Height'](_0x207c8c){this['_setCalcul'+'atedHeight'](_0x207c8c,!(0x1c29+-0x1e8f+-0x133*-0x2));}get['calculated'+'Height'](){return this['_calculate'+'dHeight'];}get['canvasCorn'+'ers'](){if(!this['_canvasCor'+'nersDirty']||!this['screen']||!this['screen']['screen']['screenSpac'+'e'])return this['_canvasCor'+'ners'];const _0x2bd473=this['system']['app']['graphicsDe'+'vice'],_0x42ca5e=this['screenCorn'+'ers'],_0xa09600=_0x2bd473['canvas']['clientWidt'+'h']/_0x2bd473['width'],_0x3a9ac7=_0x2bd473['canvas']['clientHeig'+'ht']/_0x2bd473['height'];for(let _0x2feee3=-0x4a*-0x37+0xef*-0x4+-0xc2a;_0x2feee3<-0x629+-0x7a0+-0xdcd*-0x1;_0x2feee3++)this['_canvasCor'+'ners'][_0x2feee3]['set'](_0x42ca5e[_0x2feee3]['x']*_0xa09600,(_0x2bd473['height']-_0x42ca5e[_0x2feee3]['y'])*_0x3a9ac7);return this['_canvasCor'+'nersDirty']=!(0xb21+0x1*0x2272+-0x2d92),this['_canvasCor'+'ners'];}set['drawOrder'](_0x4daabd){let _0x2fff10=0x149f*-0x1+-0x94f*-0x2+0x201;this['screen']&&(_0x2fff10=this['screen']['screen']['priority']),_0x4daabd>-0xa73be9+0xf456ae+0xb2e53a&&(w['warn']('Element.dr'+'awOrder\x20la'+'rger\x20than\x20'+'max\x20size\x20o'+'f:\x201677721'+'5'),_0x4daabd=-0x4fad01+0x106fc5d*-0x1+-0x1*-0x256a95d),this['_drawOrder']=(_0x2fff10<<0x108d+-0x4*0x76a+0xd33)+_0x4daabd,this['fire']('set:drawor'+'der',this['_drawOrder']);}get['drawOrder'](){return this['_drawOrder'];}set['height'](_0x4fd9cb){this['_height']=_0x4fd9cb,this['_hasSplitA'+'nchorsY']||this['_setCalcul'+'atedHeight'](_0x4fd9cb,!(0x9*0x33c+-0x443*0x7+0xb9)),this['fire']('set:height',this['_height']);}get['height'](){return this['_height'];}set['layers'](_0x169114){if(this['_addedMode'+'ls']['length'])for(let _0xc27e91=-0x168d+-0x1c71+0x32fe;_0xc27e91<this['_layers']['length'];_0xc27e91++){const _0x244d86=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0xc27e91]);if(_0x244d86){for(let _0x11de73=-0x1c3d+-0x205d+-0x1*-0x3c9a;_0x11de73<this['_addedMode'+'ls']['length'];_0x11de73++)_0x244d86['removeMesh'+'Instances'](this['_addedMode'+'ls'][_0x11de73]['meshInstan'+'ces']);}}if(this['_layers']=_0x169114,!(!this['enabled']||!this['entity']['enabled']||!this['_addedMode'+'ls']['length']))for(let _0x42325a=-0x76a+-0x1f*0xda+0x21d0;_0x42325a<this['_layers']['length'];_0x42325a++){const _0x3b7531=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x42325a]);if(_0x3b7531){for(let _0x56909e=0x1*0xe9+0x589*0x3+0x26*-0x76;_0x56909e<this['_addedMode'+'ls']['length'];_0x56909e++)_0x3b7531['addMeshIns'+'tances'](this['_addedMode'+'ls'][_0x56909e]['meshInstan'+'ces']);}}}get['layers'](){return this['_layers'];}set['left'](_0x1eb1a6){this['_margin']['x']=_0x1eb1a6;const _0x1f528f=this['entity']['getLocalPo'+'sition'](),_0x5b8cb7=this['_absRight'],_0x116582=this['_localAnch'+'or']['x']+_0x1eb1a6;this['_setWidth'](_0x5b8cb7-_0x116582),_0x1f528f['x']=_0x1eb1a6+this['_calculate'+'dWidth']*this['_pivot']['x'],this['entity']['setLocalPo'+'sition'](_0x1f528f);}get['left'](){return this['_margin']['x'];}set['margin'](_0xe0019a){this['_margin']['copy'](_0xe0019a),this['_calculate'+'Size'](!(-0x14fd+0xa47+0x3*0x392),!(-0xfd3+0x195d+0x6f*-0x16)),this['fire']('set:margin',this['_margin']);}get['margin'](){return this['_margin'];}get['maskedBy'](){return this['_maskedBy'];}set['pivot'](_0x4891aa){const {pivot:_0x21e7ac,margin:_0x45a7f0}=this,_0x36cf4d=_0x21e7ac['x'],_0x3fb237=_0x21e7ac['y'];_0x4891aa instanceof J?_0x21e7ac['copy'](_0x4891aa):_0x21e7ac['set'](..._0x4891aa);const _0x7b8790=_0x45a7f0['x']+_0x45a7f0['z'],_0x185ea2=_0x21e7ac['x']-_0x36cf4d;_0x45a7f0['x']+=_0x7b8790*_0x185ea2,_0x45a7f0['z']-=_0x7b8790*_0x185ea2;const _0x493490=_0x45a7f0['y']+_0x45a7f0['w'],_0x460f6c=_0x21e7ac['y']-_0x3fb237;_0x45a7f0['y']+=_0x493490*_0x460f6c,_0x45a7f0['w']-=_0x493490*_0x460f6c,this['_anchorDir'+'ty']=!(0xe2e+0x967+0x1*-0x1795),this['_cornersDi'+'rty']=!(-0x5*0x3b6+0x1628+0x2*-0x1cd),this['_worldCorn'+'ersDirty']=!(-0x18de+0x1b8+0x1726),this['_calculate'+'Size'](!(0x5bb*-0x3+0x1*0x162d+-0x11*0x4b),!(-0xb*-0x1a0+-0x51b*0x3+-0x6*0x6d)),this['_flagChild'+'renAsDirty'](),this['fire']('set:pivot',_0x21e7ac);}get['pivot'](){return this['_pivot'];}set['right'](_0xafe8fb){this['_margin']['z']=_0xafe8fb;const _0x3401f8=this['entity']['getLocalPo'+'sition'](),_0x326fe7=this['_absLeft'],_0x37ec5a=this['_localAnch'+'or']['z']-_0xafe8fb;this['_setWidth'](_0x37ec5a-_0x326fe7),_0x3401f8['x']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-_0xafe8fb-this['_calculate'+'dWidth']*(0x15b1+0x1*-0x7eb+-0xdc5-this['_pivot']['x']),this['entity']['setLocalPo'+'sition'](_0x3401f8);}get['right'](){return this['_margin']['z'];}get['screenCorn'+'ers'](){if(!this['_cornersDi'+'rty']||!this['screen'])return this['_screenCor'+'ners'];const _0x263e26=this['entity']['parent']&&this['entity']['parent']['element']&&this['entity']['parent']['element']['screenCorn'+'ers'][-0x2*-0xce0+0x1d3+0x1b93*-0x1];this['_screenCor'+'ners'][0x11b4*-0x1+-0x1835*0x1+0x1*0x29e9]['set'](this['_absLeft'],this['_absBottom'],0x11b*0x5+-0x52*0x29+0x79b),this['_screenCor'+'ners'][-0x1*0x199+-0x16c3+0x21*0xbd]['set'](this['_absRight'],this['_absBottom'],0x243*0x5+-0x815*0x3+-0x5c*-0x24),this['_screenCor'+'ners'][-0x47*0x19+-0x23d1+0x1a5*0x1a]['set'](this['_absRight'],this['_absTop'],-0x1*-0xd0d+-0x1e21+0x1114),this['_screenCor'+'ners'][0x83b+-0x1*-0x2340+-0x2b78]['set'](this['_absLeft'],this['_absTop'],-0x1f87*-0x1+-0x74a+-0x49*0x55);const _0x5d5430=this['screen']['screen']['screenSpac'+'e'];for(let _0x48d3b0=-0x71*0x37+-0x70f*-0x1+0x4*0x44e;_0x48d3b0<0xf8a+-0x2*0x12ae+0x15d6;_0x48d3b0++)this['_screenTra'+'nsform']['transformP'+'oint'](this['_screenCor'+'ners'][_0x48d3b0],this['_screenCor'+'ners'][_0x48d3b0]),_0x5d5430&&this['_screenCor'+'ners'][_0x48d3b0]['mulScalar'](this['screen']['screen']['scale']),_0x263e26&&this['_screenCor'+'ners'][_0x48d3b0]['add'](_0x263e26);return this['_cornersDi'+'rty']=!(0x21b+0x5*-0x443+-0x95*-0x21),this['_canvasCor'+'nersDirty']=!(-0x1d54+0x388+-0xce6*-0x2),this['_worldCorn'+'ersDirty']=!(-0xd13+-0x81d+0x1530),this['_screenCor'+'ners'];}get['textWidth'](){return this['_text']?this['_text']['width']:0x259f+-0xbe6*-0x3+-0x4951;}get['textHeight'](){return this['_text']?this['_text']['height']:-0x1f2a+-0x18e3+0x380d;}set['top'](_0x57428e){this['_margin']['w']=_0x57428e;const _0x22e992=this['entity']['getLocalPo'+'sition'](),_0x49bf57=this['_absBottom'],_0x2dd18b=this['_localAnch'+'or']['w']-_0x57428e;this['_setHeight'](_0x2dd18b-_0x49bf57),_0x22e992['y']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-_0x57428e-this['_calculate'+'dHeight']*(0xbd9+0xe5c+0xac*-0x27-this['_pivot']['y']),this['entity']['setLocalPo'+'sition'](_0x22e992);}get['top'](){return this['_margin']['w'];}set['type'](_0x3b7b89){_0x3b7b89!==this['_type']&&(this['_type']=_0x3b7b89,this['_image']&&(this['_image']['destroy'](),this['_image']=null),this['_text']&&(this['_text']['destroy'](),this['_text']=null),_0x3b7b89===Cu?this['_image']=new cR(this):_0x3b7b89===jv&&(this['_text']=new PR(this)));}get['type'](){return this['_type'];}set['useInput'](_0x28e1a0){this['_useInput']!==_0x28e1a0&&(this['_useInput']=_0x28e1a0,this['system']['app']['elementInp'+'ut']?_0x28e1a0?this['enabled']&&this['entity']['enabled']&&this['system']['app']['elementInp'+'ut']['addElement'](this):this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this):this['_useInput']===!(-0x5e6*-0x4+-0x9ec+-0xdac)&&w['warn']('Elements\x20w'+'ill\x20not\x20ge'+'t\x20any\x20inpu'+'t\x20events\x20b'+'ecause\x20thi'+'s.system.a'+'pp.element'+'Input\x20is\x20n'+'ot\x20created'),this['fire']('set:useInp'+'ut',_0x28e1a0));}get['useInput'](){return this['_useInput'];}set['fitMode'](_0x4eba67){this['_fitMode']=_0x4eba67,this['_calculate'+'Size'](!(-0x2*0x4ed+-0x1513*0x1+0x1eed),!(-0x22d+0x20a9*0x1+0xf3e*-0x2)),this['_image']&&this['_image']['refreshMes'+'h']();}get['fitMode'](){return this['_fitMode'];}set['width'](_0x127cde){this['_width']=_0x127cde,this['_hasSplitA'+'nchorsX']||this['_setCalcul'+'atedWidth'](_0x127cde,!(0x1ea4+0x249e+0x21a1*-0x2)),this['fire']('set:width',this['_width']);}get['width'](){return this['_width'];}get['worldCorne'+'rs'](){if(!this['_worldCorn'+'ersDirty'])return this['_worldCorn'+'ers'];if(this['screen']){const _0xbf643a=this['screenCorn'+'ers'];if(!this['screen']['screen']['screenSpac'+'e']){ws['copy'](this['screen']['screen']['_screenMat'+'rix']),ws['data'][-0x1f*-0x4+-0xd*-0x1f9+-0x1a14]=-ws['data'][-0x458+-0x1*-0xb74+-0x70f],ws['mul2'](this['screen']['getWorldTr'+'ansform'](),ws);for(let _0x4b262a=0x1d9*0x1+0x1c1d+-0x1df6;_0x4b262a<0xeca+-0x1b72+0xcac;_0x4b262a++)ws['transformP'+'oint'](_0xbf643a[_0x4b262a],this['_worldCorn'+'ers'][_0x4b262a]);}}else{const _0x14674f=this['entity']['getLocalPo'+'sition']();ws['setTransla'+'te'](-_0x14674f['x'],-_0x14674f['y'],-_0x14674f['z']),bc['setTRS'](D['ZERO'],this['entity']['getLocalRo'+'tation'](),this['entity']['getLocalSc'+'ale']()),Ac['setTransla'+'te'](_0x14674f['x'],_0x14674f['y'],_0x14674f['z']);const _0x30b8d5=this['entity']['parent']?this['entity']['parent']:this['entity'];$a['copy'](_0x30b8d5['getWorldTr'+'ansform']()),$a['mul'](Ac)['mul'](bc)['mul'](ws),Pi['set'](_0x14674f['x']-this['pivot']['x']*this['calculated'+'Width'],_0x14674f['y']-this['pivot']['y']*this['calculated'+'Height'],_0x14674f['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][-0xb*-0x233+0x58*-0x27+-0xb*0xfb]),Pi['set'](_0x14674f['x']+(0x45*-0x7d+0x1*0x1b23+0x68f-this['pivot']['x'])*this['calculated'+'Width'],_0x14674f['y']-this['pivot']['y']*this['calculated'+'Height'],_0x14674f['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][-0x1*0x3b9+0x67+-0x25*-0x17]),Pi['set'](_0x14674f['x']+(0x21f1+-0x24a4+0x2b4-this['pivot']['x'])*this['calculated'+'Width'],_0x14674f['y']+(0x22fc+-0x1072*0x1+-0x1*0x1289-this['pivot']['y'])*this['calculated'+'Height'],_0x14674f['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][-0xb15+0x22e6+-0x17cf]),Pi['set'](_0x14674f['x']-this['pivot']['x']*this['calculated'+'Width'],_0x14674f['y']+(-0x5*0x362+-0x1*0x21cf+-0x2b*-0x12e-this['pivot']['y'])*this['calculated'+'Height'],_0x14674f['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][0x2bf+-0x1c6c+0x19b0]);}return this['_worldCorn'+'ersDirty']=!(0x1447+-0x19f8+0x5b2),this['_worldCorn'+'ers'];}set['fontSize'](_0x294bd8){this['_setValue']('fontSize',_0x294bd8);}get['fontSize'](){return this['_text']?this['_text']['fontSize']:null;}set['minFontSiz'+'e'](_0x5e5e22){this['_setValue']('minFontSiz'+'e',_0x5e5e22);}get['minFontSiz'+'e'](){return this['_text']?this['_text']['minFontSiz'+'e']:null;}set['maxFontSiz'+'e'](_0x32171e){this['_setValue']('maxFontSiz'+'e',_0x32171e);}get['maxFontSiz'+'e'](){return this['_text']?this['_text']['maxFontSiz'+'e']:null;}set['maxLines'](_0x4be0b6){this['_setValue']('maxLines',_0x4be0b6);}get['maxLines'](){return this['_text']?this['_text']['maxLines']:null;}set['autoFitWid'+'th'](_0x211d83){this['_setValue']('autoFitWid'+'th',_0x211d83);}get['autoFitWid'+'th'](){return this['_text']?this['_text']['autoFitWid'+'th']:null;}set['autoFitHei'+'ght'](_0x4741fc){this['_setValue']('autoFitHei'+'ght',_0x4741fc);}get['autoFitHei'+'ght'](){return this['_text']?this['_text']['autoFitHei'+'ght']:null;}set['color'](_0x8e97fc){this['_setValue']('color',_0x8e97fc);}get['color'](){return this['_text']?this['_text']['color']:this['_image']?this['_image']['color']:null;}set['font'](_0x240a48){this['_setValue']('font',_0x240a48);}get['font'](){return this['_text']?this['_text']['font']:null;}set['fontAsset'](_0x4229aa){this['_setValue']('fontAsset',_0x4229aa);}get['fontAsset'](){return this['_text']&&typeof this['_text']['fontAsset']=='number'?this['_text']['fontAsset']:null;}set['spacing'](_0xaed5c1){this['_setValue']('spacing',_0xaed5c1);}get['spacing'](){return this['_text']?this['_text']['spacing']:null;}set['lineHeight'](_0x437c51){this['_setValue']('lineHeight',_0x437c51);}get['lineHeight'](){return this['_text']?this['_text']['lineHeight']:null;}set['wrapLines'](_0x213782){this['_setValue']('wrapLines',_0x213782);}get['wrapLines'](){return this['_text']?this['_text']['wrapLines']:null;}set['lines'](_0x3cac60){this['_setValue']('lines',_0x3cac60);}get['lines'](){return this['_text']?this['_text']['lines']:null;}set['alignment'](_0x5b5275){this['_setValue']('alignment',_0x5b5275);}get['alignment'](){return this['_text']?this['_text']['alignment']:null;}set['autoWidth'](_0x502648){this['_setValue']('autoWidth',_0x502648);}get['autoWidth'](){return this['_text']?this['_text']['autoWidth']:null;}set['autoHeight'](_0x4c64aa){this['_setValue']('autoHeight',_0x4c64aa);}get['autoHeight'](){return this['_text']?this['_text']['autoHeight']:null;}set['rtlReorder'](_0x5b68a3){this['_setValue']('rtlReorder',_0x5b68a3);}get['rtlReorder'](){return this['_text']?this['_text']['rtlReorder']:null;}set['unicodeCon'+'verter'](_0x5c6a0b){this['_setValue']('unicodeCon'+'verter',_0x5c6a0b);}get['unicodeCon'+'verter'](){return this['_text']?this['_text']['unicodeCon'+'verter']:null;}set['text'](_0x1659b0){this['_setValue']('text',_0x1659b0);}get['text'](){return this['_text']?this['_text']['text']:null;}set['key'](_0x1343a4){this['_setValue']('key',_0x1343a4);}get['key'](){return this['_text']?this['_text']['key']:null;}set['texture'](_0x474a02){this['_setValue']('texture',_0x474a02);}get['texture'](){return this['_image']?this['_image']['texture']:null;}set['textureAss'+'et'](_0x25aa1f){this['_setValue']('textureAss'+'et',_0x25aa1f);}get['textureAss'+'et'](){return this['_image']?this['_image']['textureAss'+'et']:null;}set['material'](_0x170012){this['_setValue']('material',_0x170012);}get['material'](){return this['_image']?this['_image']['material']:null;}set['materialAs'+'set'](_0x333688){this['_setValue']('materialAs'+'set',_0x333688);}get['materialAs'+'set'](){return this['_image']?this['_image']['materialAs'+'set']:null;}set['sprite'](_0x53ec3a){this['_setValue']('sprite',_0x53ec3a);}get['sprite'](){return this['_image']?this['_image']['sprite']:null;}set['spriteAsse'+'t'](_0x30c7ae){this['_setValue']('spriteAsse'+'t',_0x30c7ae);}get['spriteAsse'+'t'](){return this['_image']?this['_image']['spriteAsse'+'t']:null;}set['spriteFram'+'e'](_0x5d45c0){this['_setValue']('spriteFram'+'e',_0x5d45c0);}get['spriteFram'+'e'](){return this['_image']?this['_image']['spriteFram'+'e']:null;}set['pixelsPerU'+'nit'](_0xf5c872){this['_setValue']('pixelsPerU'+'nit',_0xf5c872);}get['pixelsPerU'+'nit'](){return this['_image']?this['_image']['pixelsPerU'+'nit']:null;}set['opacity'](_0x2bc9ed){this['_setValue']('opacity',_0x2bc9ed);}get['opacity'](){return this['_text']?this['_text']['opacity']:this['_image']?this['_image']['opacity']:null;}set['rect'](_0x200b4c){this['_setValue']('rect',_0x200b4c);}get['rect'](){return this['_image']?this['_image']['rect']:null;}set['mask'](_0x5a8662){this['_setValue']('mask',_0x5a8662);}get['mask'](){return this['_image']?this['_image']['mask']:null;}set['outlineCol'+'or'](_0x30b860){this['_setValue']('outlineCol'+'or',_0x30b860);}get['outlineCol'+'or'](){return this['_text']?this['_text']['outlineCol'+'or']:null;}set['outlineThi'+'ckness'](_0x42b92b){this['_setValue']('outlineThi'+'ckness',_0x42b92b);}get['outlineThi'+'ckness'](){return this['_text']?this['_text']['outlineThi'+'ckness']:null;}set['shadowColo'+'r'](_0x4c2095){this['_setValue']('shadowColo'+'r',_0x4c2095);}get['shadowColo'+'r'](){return this['_text']?this['_text']['shadowColo'+'r']:null;}set['shadowOffs'+'et'](_0x17092){this['_setValue']('shadowOffs'+'et',_0x17092);}get['shadowOffs'+'et'](){return this['_text']?this['_text']['shadowOffs'+'et']:null;}set['enableMark'+'up'](_0x364c66){this['_setValue']('enableMark'+'up',_0x364c66);}get['enableMark'+'up'](){return this['_text']?this['_text']['enableMark'+'up']:null;}set['rangeStart'](_0x1f5160){this['_setValue']('rangeStart',_0x1f5160);}get['rangeStart'](){return this['_text']?this['_text']['rangeStart']:null;}set['rangeEnd'](_0x51f5c6){this['_setValue']('rangeEnd',_0x51f5c6);}get['rangeEnd'](){return this['_text']?this['_text']['rangeEnd']:null;}['_setValue'](_0x40571a,_0x3f61f8){this['_text']?(this['_text'][_0x40571a]!==_0x3f61f8&&this['_dirtyBatc'+'h'](),this['_text'][_0x40571a]=_0x3f61f8):this['_image']&&(this['_image'][_0x40571a]!==_0x3f61f8&&this['_dirtyBatc'+'h'](),this['_image'][_0x40571a]=_0x3f61f8);}['_patch'](){this['entity']['_sync']=this['_sync'],this['entity']['setPositio'+'n']=this['_setPositi'+'on'],this['entity']['setLocalPo'+'sition']=this['_setLocalP'+'osition'];}['_unpatch'](){this['entity']['_sync']=lt['prototype']['_sync'],this['entity']['setPositio'+'n']=lt['prototype']['setPositio'+'n'],this['entity']['setLocalPo'+'sition']=lt['prototype']['setLocalPo'+'sition'];}['_setPositi'+'on'](_0x55a364,_0x1144f6,_0x3754ca){if(!this['element']['screen']){lt['prototype']['setPositio'+'n']['call'](this,_0x55a364,_0x1144f6,_0x3754ca);return;}_0x55a364 instanceof D?Ef['copy'](_0x55a364):Ef['set'](_0x55a364,_0x1144f6,_0x3754ca),this['getWorldTr'+'ansform'](),Zg['copy'](this['element']['_screenToW'+'orld'])['invert'](),Zg['transformP'+'oint'](Ef,this['localPosit'+'ion']),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_setLocalP'+'osition'](_0x37f796,_0x3c0dc5,_0x2a5819){_0x37f796 instanceof D?this['localPosit'+'ion']['copy'](_0x37f796):this['localPosit'+'ion']['set'](_0x37f796,_0x3c0dc5,_0x2a5819);const _0x139d22=this['element'],_0x3d3e5b=this['localPosit'+'ion'],_0x5abf1b=_0x139d22['_pivot'];_0x139d22['_margin']['x']=_0x3d3e5b['x']-_0x139d22['_calculate'+'dWidth']*_0x5abf1b['x'],_0x139d22['_margin']['z']=_0x139d22['_localAnch'+'or']['z']-_0x139d22['_localAnch'+'or']['x']-_0x139d22['_calculate'+'dWidth']-_0x139d22['_margin']['x'],_0x139d22['_margin']['y']=_0x3d3e5b['y']-_0x139d22['_calculate'+'dHeight']*_0x5abf1b['y'],_0x139d22['_margin']['w']=_0x139d22['_localAnch'+'or']['w']-_0x139d22['_localAnch'+'or']['y']-_0x139d22['_calculate'+'dHeight']-_0x139d22['_margin']['y'],this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_sync'](){const _0x4a9c10=this['element'],_0x1400f9=_0x4a9c10['screen'];if(_0x1400f9){if(_0x4a9c10['_anchorDir'+'ty']){let _0x44de86=0x22e1+0x12c2+-0x35a3,_0x3e69d6=0x2*0x471+0x6c5*-0x5+-0x53*-0x4d,_0x41dc99=-0x21e+0x3b7*-0x5+0x14b1,_0x52cfee=-0x1f82*0x1+-0x87f+0x2802;if(this['_parent']&&this['_parent']['element'])_0x44de86=this['_parent']['element']['calculated'+'Width'],_0x3e69d6=this['_parent']['element']['calculated'+'Height'],_0x41dc99=this['_parent']['element']['pivot']['x'],_0x52cfee=this['_parent']['element']['pivot']['y'];else{const _0x2c271d=_0x1400f9['screen']['resolution'];_0x44de86=_0x2c271d['x']/_0x1400f9['screen']['scale'],_0x3e69d6=_0x2c271d['y']/_0x1400f9['screen']['scale'];}_0x4a9c10['_anchorTra'+'nsform']['setTransla'+'te'](_0x44de86*(_0x4a9c10['anchor']['x']-_0x41dc99),-(_0x3e69d6*(_0x52cfee-_0x4a9c10['anchor']['y'])),0x569+-0x2689+0x2120),_0x4a9c10['_anchorDir'+'ty']=!(0x1964+0x11*0xe2+-0x2865),_0x4a9c10['_calculate'+'LocalAncho'+'rs']();}_0x4a9c10['_sizeDirty']&&_0x4a9c10['_calculate'+'Size'](!(0xd*-0x26f+-0x1d38+0x3cdc),!(-0x1*-0xc56+-0x716+0x4f*-0x11));}if(this['_dirtyLoca'+'l']){this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']);const _0x387c87=this['localPosit'+'ion'],_0x4d4e05=_0x4a9c10['_pivot'];_0x4a9c10['_margin']['x']=_0x387c87['x']-_0x4a9c10['_calculate'+'dWidth']*_0x4d4e05['x'],_0x4a9c10['_margin']['z']=_0x4a9c10['_localAnch'+'or']['z']-_0x4a9c10['_localAnch'+'or']['x']-_0x4a9c10['_calculate'+'dWidth']-_0x4a9c10['_margin']['x'],_0x4a9c10['_margin']['y']=_0x387c87['y']-_0x4a9c10['_calculate'+'dHeight']*_0x4d4e05['y'],_0x4a9c10['_margin']['w']=_0x4a9c10['_localAnch'+'or']['w']-_0x4a9c10['_localAnch'+'or']['y']-_0x4a9c10['_calculate'+'dHeight']-_0x4a9c10['_margin']['y'],this['_dirtyLoca'+'l']=!(-0x11e+0x538+-0x419*0x1);}if(!_0x1400f9){this['_dirtyWorl'+'d']&&(_0x4a9c10['_cornersDi'+'rty']=!(-0x242*0x4+0x26f+0x233*0x3),_0x4a9c10['_canvasCor'+'nersDirty']=!(-0x8e*-0x19+0x8d9+0x1*-0x16b7),_0x4a9c10['_worldCorn'+'ersDirty']=!(-0xd42*0x2+0x671*-0x1+-0xd*-0x289)),lt['prototype']['_sync']['call'](this);return;}if(this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['_parent']['element']?_0x4a9c10['_screenToW'+'orld']['mul2'](this['_parent']['element']['_modelTran'+'sform'],_0x4a9c10['_anchorTra'+'nsform']):_0x4a9c10['_screenToW'+'orld']['copy'](_0x4a9c10['_anchorTra'+'nsform']),_0x4a9c10['_modelTran'+'sform']['mul2'](_0x4a9c10['_screenToW'+'orld'],this['localTrans'+'form']),_0x1400f9){_0x4a9c10['_screenToW'+'orld']['mul2'](_0x1400f9['screen']['_screenMat'+'rix'],_0x4a9c10['_screenToW'+'orld']),_0x1400f9['screen']['screenSpac'+'e']||_0x4a9c10['_screenToW'+'orld']['mul2'](_0x1400f9['worldTrans'+'form'],_0x4a9c10['_screenToW'+'orld']),this['worldTrans'+'form']['mul2'](_0x4a9c10['_screenToW'+'orld'],this['localTrans'+'form']);const _0x54a6af=_0x4a9c10['_parentWor'+'ldTransfor'+'m'];_0x54a6af['setIdentit'+'y']();const _0x40ce4e=this['_parent'];_0x40ce4e&&_0x40ce4e['element']&&_0x40ce4e!==_0x1400f9&&(ws['setTRS'](D['ZERO'],_0x40ce4e['getLocalRo'+'tation'](),_0x40ce4e['getLocalSc'+'ale']()),_0x54a6af['mul2'](_0x40ce4e['element']['_parentWor'+'ldTransfor'+'m'],ws));const _0x42e202=Pi;_0x42e202['set'](0x179b+0x1caf+-0x344a,-0x1*-0xb7d+0x1344*0x2+-0x3205,this['localPosit'+'ion']['z']);const _0x3b3cbc=MR;_0x3b3cbc['set'](_0x4a9c10['_absLeft']+_0x4a9c10['_pivot']['x']*_0x4a9c10['calculated'+'Width'],_0x4a9c10['_absBottom']+_0x4a9c10['_pivot']['y']*_0x4a9c10['calculated'+'Height'],-0xd*0x119+-0x51d+0x1362*0x1),ws['setTransla'+'te'](-_0x3b3cbc['x'],-_0x3b3cbc['y'],-_0x3b3cbc['z']),bc['setTRS'](_0x42e202,this['getLocalRo'+'tation'](),this['getLocalSc'+'ale']()),Ac['setTransla'+'te'](_0x3b3cbc['x'],_0x3b3cbc['y'],_0x3b3cbc['z']),_0x4a9c10['_screenTra'+'nsform']['mul2'](_0x4a9c10['_parentWor'+'ldTransfor'+'m'],Ac)['mul'](bc)['mul'](ws),_0x4a9c10['_cornersDi'+'rty']=!(-0xca2+-0x1e8b+0x2b2d),_0x4a9c10['_canvasCor'+'nersDirty']=!(-0xfa0+-0x4f+-0x1*-0xfef),_0x4a9c10['_worldCorn'+'ersDirty']=!(0x280+-0x1*0x1efd+0x27*0xbb);}else this['worldTrans'+'form']['copy'](_0x4a9c10['_modelTran'+'sform']);}this['_dirtyWorl'+'d']=!(-0x1913+0x14cc+-0x448*-0x1);}}['_onInsert'](_0x2cbe77){const _0x2402bd=this['_parseUpTo'+'Screen']();this['entity']['_dirtifyWo'+'rld'](),this['_updateScr'+'een'](_0x2402bd['screen']),this['_dirtifyMa'+'sk']();}['_dirtifyMa'+'sk'](){let _0x510d66=this['entity'];for(;_0x510d66;){const _0x3c122a=_0x510d66['parent'];if((_0x3c122a===null||_0x3c122a['screen'])&&_0x510d66['element']){(!this['system']['_prerender']||!this['system']['_prerender']['length'])&&(this['system']['_prerender']=[],this['system']['app']['once']('prerender',this['_onPrerend'+'er'],this),w['trace'](Vs,'register\x20p'+'rerender'));const _0x37ce3b=this['system']['_prerender']['indexOf'](this['entity']);_0x37ce3b>=0x1*0xbf9+0x779*0x1+-0x1372*0x1&&this['system']['_prerender']['splice'](_0x37ce3b,-0x1fb0+-0x21e*-0x10+0x22f*-0x1),this['system']['_prerender']['indexOf'](_0x510d66)<-0x2598+-0xa3*0x1b+0x36c9&&this['system']['_prerender']['push'](_0x510d66),w['trace'](Vs,'set\x20preren'+'der\x20root\x20t'+'o:\x20'+_0x510d66['name']);}_0x510d66=_0x3c122a;}}['_onPrerend'+'er'](){for(let _0x37fcf7=-0xa29+-0x1179+0x1ba2;_0x37fcf7<this['system']['_prerender']['length'];_0x37fcf7++){const _0x3abcec=this['system']['_prerender'][_0x37fcf7];w['trace'](Vs,'prerender\x20'+'from:\x20'+_0x3abcec['name']),_0x3abcec['element']&&_0x3abcec['element']['syncMask'](0x22*0xc1+-0x1*0x1759+-0x248);}this['system']['_prerender']['length']=0x1*0x869+-0x683+-0x1e6;}['_bindScree'+'n'](_0x5aa22f){_0x5aa22f['_bindEleme'+'nt'](this);}['_unbindScr'+'een'](_0x5b2745){_0x5b2745['_unbindEle'+'ment'](this);}['_updateScr'+'een'](_0x1a6b29){this['screen']&&this['screen']!==_0x1a6b29&&this['_unbindScr'+'een'](this['screen']['screen']);const _0x207829=this['screen'];this['screen']=_0x1a6b29,this['screen']&&this['_bindScree'+'n'](this['screen']['screen']),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('set:screen',this['screen'],_0x207829),this['_anchorDir'+'ty']=!(0x2*0x8a5+-0x13f5+0x2ab);const _0x5a28fc=this['entity']['children'];for(let _0xc1285=-0xd21+0x17*0x11+0x14a*0x9,_0x12d7eb=_0x5a28fc['length'];_0xc1285<_0x12d7eb;_0xc1285++)_0x5a28fc[_0xc1285]['element']&&_0x5a28fc[_0xc1285]['element']['_updateScr'+'een'](_0x1a6b29);this['screen']&&this['screen']['screen']['syncDrawOr'+'der']();}['syncMask'](_0x30bbdf){const _0xb3f31c=this['_parseUpTo'+'Screen']();this['_updateMas'+'k'](_0xb3f31c['mask'],_0x30bbdf);}['_setMasked'+'By'](_0x88f84e){const _0x1be2c1=this['_image']||this['_text'];if(_0x88f84e){const _0x4d54eb=_0x88f84e['element']['_image']['_maskRef'];w['trace'](Vs,'masking:\x20'+this['entity']['name']+'\x20with\x20'+_0x4d54eb),_0x1be2c1==null||_0x1be2c1['_setStenci'+'l'](new pi({'ref':_0x4d54eb,'func':dh})),this['_maskedBy']=_0x88f84e;}else w['trace'](Vs,'no\x20masking'+'\x20on:\x20'+this['entity']['name']),_0x1be2c1==null||_0x1be2c1['_setStenci'+'l'](null),this['_maskedBy']=null;}['_updateMas'+'k'](_0x2f84d4,_0x4f4f13){var _0x3bc7d0,_0x1f260e;if(_0x2f84d4){if(this['_setMasked'+'By'](_0x2f84d4),this['mask']){const _0x19ddd8=_0x2f84d4['element']['_image']['_maskRef'],_0x4fb55f=new pi({'ref':_0x19ddd8,'func':dh,'zpass':Ux});this['_image']['_setStenci'+'l'](_0x4fb55f),this['_image']['_maskRef']=_0x4f4f13,_0x4f4f13++,w['trace'](Vs,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+(_0x4fb55f['ref']+(0xe30+-0x1cf*-0xb+-0x6*0x5ae))),w['trace'](Vs,'depth++\x20to'+':\x20',_0x4f4f13),_0x2f84d4=this['entity'];}const _0x575ad0=this['entity']['children'];for(let _0x492091=0x1*0x192c+0xaa*-0x21+-0x1a1*0x2,_0x17eecd=_0x575ad0['length'];_0x492091<_0x17eecd;_0x492091++)(_0x3bc7d0=_0x575ad0[_0x492091]['element'])==null||_0x3bc7d0['_updateMas'+'k'](_0x2f84d4,_0x4f4f13);this['mask']&&_0x4f4f13--;}else{if(this['_setMasked'+'By'](null),this['mask']){const _0x554283=new pi({'ref':_0x4f4f13,'func':Wi,'zpass':kx});this['_image']['_setStenci'+'l'](_0x554283),this['_image']['_maskRef']=_0x4f4f13,_0x4f4f13++,w['trace'](Vs,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+_0x554283['ref']),w['trace'](Vs,'depth++\x20to'+':\x20',_0x4f4f13),_0x2f84d4=this['entity'];}const _0xb2eff=this['entity']['children'];for(let _0x35c425=0x2279+0xab*-0x12+-0x1673*0x1,_0x2e2338=_0xb2eff['length'];_0x35c425<_0x2e2338;_0x35c425++)(_0x1f260e=_0xb2eff[_0x35c425]['element'])==null||_0x1f260e['_updateMas'+'k'](_0x2f84d4,_0x4f4f13);this['mask']&&_0x4f4f13--;}}['_parseUpTo'+'Screen'](){const _0x87a514={'screen':null,'mask':null};let _0x22e234=this['entity']['_parent'];for(;_0x22e234&&!_0x22e234['screen'];)_0x22e234['element']&&_0x22e234['element']['mask']&&(_0x87a514['mask']||(_0x87a514['mask']=_0x22e234)),_0x22e234=_0x22e234['parent'];return _0x22e234&&_0x22e234['screen']&&(_0x87a514['screen']=_0x22e234),_0x87a514;}['_onScreenR'+'esize'](_0x5d0912){this['_anchorDir'+'ty']=!(0x1*-0x7+0x2543*-0x1+0x254a),this['_cornersDi'+'rty']=!(0x157a+-0x9ce+-0xbac),this['_worldCorn'+'ersDirty']=!(0x47*-0x6d+0x12e4+0xb57),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('screen:set'+':resolutio'+'n',_0x5d0912);}['_onScreenS'+'paceChange'](){this['fire']('screen:set'+':screenspa'+'ce',this['screen']['screen']['screenSpac'+'e']);}['_onScreenR'+'emove'](){this['screen']&&(this['screen']['_destroyin'+'g']?this['screen']=null:this['_updateScr'+'een'](null));}['_calculate'+'LocalAncho'+'rs'](){let _0x3a0891=-0x109f+-0x1*0x24f5+-0x4*-0xe5f,_0x5edda1=-0x22ce+0x53*0x3+-0x1*-0x25bd;const _0x551e94=this['entity']['_parent'];if(_0x551e94&&_0x551e94['element'])_0x3a0891=_0x551e94['element']['calculated'+'Width'],_0x5edda1=_0x551e94['element']['calculated'+'Height'];else{if(this['screen']){const _0x2ecd37=this['screen']['screen']['resolution'],_0x59cc9a=this['screen']['screen']['scale'];_0x3a0891=_0x2ecd37['x']/_0x59cc9a,_0x5edda1=_0x2ecd37['y']/_0x59cc9a;}}this['_localAnch'+'or']['set'](this['_anchor']['x']*_0x3a0891,this['_anchor']['y']*_0x5edda1,this['_anchor']['z']*_0x3a0891,this['_anchor']['w']*_0x5edda1);}['getOffsetP'+'osition'](_0x6cf317,_0x592026){const _0x2fc1a7=this['entity']['getLocalPo'+'sition']()['clone']();return _0x2fc1a7['x']+=_0x6cf317,_0x2fc1a7['y']+=_0x592026,this['_screenToW'+'orld']['transformP'+'oint'](_0x2fc1a7,_0x2fc1a7),_0x2fc1a7;}['onLayersCh'+'anged'](_0x675fcc,_0x55940b){this['addModelTo'+'Layers'](this['_image']?this['_image']['_renderabl'+'e']['model']:this['_text']['_model']),_0x675fcc['off']('add',this['onLayerAdd'+'ed'],this),_0x675fcc['off']('remove',this['onLayerRem'+'oved'],this),_0x55940b['on']('add',this['onLayerAdd'+'ed'],this),_0x55940b['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x63aa40){this['layers']['indexOf'](_0x63aa40['id'])<-0x1bc9+-0x644+0x17b*0x17||(this['_image']?_0x63aa40['addMeshIns'+'tances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x63aa40['addMeshIns'+'tances'](this['_text']['_model']['meshInstan'+'ces']));}['onLayerRem'+'oved'](_0x2c5c4c){this['layers']['indexOf'](_0x2c5c4c['id'])<0x164b+-0x2*-0x8cc+0x27e3*-0x1||(this['_image']?_0x2c5c4c['removeMesh'+'Instances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x2c5c4c['removeMesh'+'Instances'](this['_text']['_model']['meshInstan'+'ces']));}['onEnable'](){var _0x5c7805;const _0x194434=this['system']['app']['scene'],_0x2290a8=_0x194434['layers'];this['_image']&&this['_image']['onEnable'](),this['_text']&&this['_text']['onEnable'](),this['_group']&&this['_group']['onEnable'](),this['useInput']&&this['system']['app']['elementInp'+'ut']&&this['system']['app']['elementInp'+'ut']['addElement'](this),this['_evtLayers'+'Changed']=_0x194434['on']('set:layers',this['onLayersCh'+'anged'],this),_0x2290a8&&(this['_evtLayerA'+'dded']=_0x2290a8['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x2290a8['on']('remove',this['onLayerRem'+'oved'],this)),this['_batchGrou'+'pId']>=-0x21a8+-0x12a+-0x1169*-0x2&&((_0x5c7805=this['system']['app']['batcher'])==null||_0x5c7805['insert'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('enableelem'+'ent');}['onDisable'](){var _0x495480,_0x4f4aae,_0x443a13,_0x198389;const _0x3d724b=this['system']['app']['scene']['layers'];(_0x495480=this['_evtLayers'+'Changed'])==null||_0x495480['off'](),this['_evtLayers'+'Changed']=null,_0x3d724b&&((_0x4f4aae=this['_evtLayerA'+'dded'])==null||_0x4f4aae['off'](),this['_evtLayerA'+'dded']=null,(_0x443a13=this['_evtLayerR'+'emoved'])==null||_0x443a13['off'](),this['_evtLayerR'+'emoved']=null),this['_image']&&this['_image']['onDisable'](),this['_text']&&this['_text']['onDisable'](),this['_group']&&this['_group']['onDisable'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['_batchGrou'+'pId']>=-0x58*0xc+0x1ac0+-0x16a0&&((_0x198389=this['system']['app']['batcher'])==null||_0x198389['remove'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('disableele'+'ment');}['onRemove'](){this['entity']['off']('insert',this['_onInsert'],this),this['_unpatch'](),this['_image']&&this['_image']['destroy'](),this['_text']&&this['_text']['destroy'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['screen']&&this['screen']['screen']&&(this['_unbindScr'+'een'](this['screen']['screen']),this['screen']['screen']['syncDrawOr'+'der']()),this['off']();}['_calculate'+'Size'](_0x28461a,_0x599296){if(!this['entity']['_parent']&&!this['screen'])return;this['_calculate'+'LocalAncho'+'rs']();const _0x498ed8=this['_absRight']-this['_absLeft'],_0x170ebd=this['_absTop']-this['_absBottom'];_0x28461a?this['_setWidth'](_0x498ed8):this['_setCalcul'+'atedWidth'](_0x498ed8,!(-0x259d*-0x1+-0x1d95+-0x807)),_0x599296?this['_setHeight'](_0x170ebd):this['_setCalcul'+'atedHeight'](_0x170ebd,!(-0x388+-0x1f21+-0x33*-0xae));const _0x5aa629=this['entity']['getLocalPo'+'sition']();_0x5aa629['x']=this['_margin']['x']+this['_calculate'+'dWidth']*this['_pivot']['x'],_0x5aa629['y']=this['_margin']['y']+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x5aa629),this['_sizeDirty']=!(-0x839*-0x1+-0x101+-0x737);}['_setWidth'](_0x19d082){this['_width']=_0x19d082,this['_setCalcul'+'atedWidth'](_0x19d082,!(0x1d*-0x35+0x3*-0x500+-0x1*-0x1502)),this['fire']('set:width',this['_width']);}['_setHeight'](_0x50ce5a){this['_height']=_0x50ce5a,this['_setCalcul'+'atedHeight'](_0x50ce5a,!(0x350+-0xd1*-0x2b+-0x37e*0xb)),this['fire']('set:height',this['_height']);}['_setCalcul'+'atedWidth'](_0x489c47,_0xa5cfe1){if(!(Math['abs'](_0x489c47-this['_calculate'+'dWidth'])<=-0x6*-0x4ef+-0x65*-0x3b+-0x1*0x34e1+0.0001)){if(this['_calculate'+'dWidth']=_0x489c47,this['entity']['_dirtifyLo'+'cal'](),_0xa5cfe1){const _0x2c1a1a=this['entity']['getLocalPo'+'sition'](),_0x51d0b3=this['_pivot'];this['_margin']['x']=_0x2c1a1a['x']-this['_calculate'+'dWidth']*_0x51d0b3['x'],this['_margin']['z']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-this['_calculate'+'dWidth']-this['_margin']['x'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedWidth',this['_calculate'+'dWidth']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_setCalcul'+'atedHeight'](_0x2ac201,_0x14a700){if(!(Math['abs'](_0x2ac201-this['_calculate'+'dHeight'])<=-0x1d47*0x1+0x18b3*0x1+-0x1*-0x494+0.0001)){if(this['_calculate'+'dHeight']=_0x2ac201,this['entity']['_dirtifyLo'+'cal'](),_0x14a700){const _0x43c365=this['entity']['getLocalPo'+'sition'](),_0x216f94=this['_pivot'];this['_margin']['y']=_0x43c365['y']-this['_calculate'+'dHeight']*_0x216f94['y'],this['_margin']['w']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-this['_calculate'+'dHeight']-this['_margin']['y'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedHeight',this['_calculate'+'dHeight']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_flagChild'+'renAsDirty'](){const _0x26c5ac=this['entity']['_children'];for(let _0x1d0b97=0xc91+-0x9e5+-0x2ac,_0x2be634=_0x26c5ac['length'];_0x1d0b97<_0x2be634;_0x1d0b97++)_0x26c5ac[_0x1d0b97]['element']&&(_0x26c5ac[_0x1d0b97]['element']['_anchorDir'+'ty']=!(0x779*0x1+-0x1*0x2b+0x3a7*-0x2),_0x26c5ac[_0x1d0b97]['element']['_sizeDirty']=!(0x3*0x822+0x20de+-0x3944));}['addModelTo'+'Layers'](_0x2beea2){this['_addedMode'+'ls']['push'](_0x2beea2);for(let _0x21de22=-0x2*0x55d+0x1*0x13b2+0xe*-0xa4;_0x21de22<this['layers']['length'];_0x21de22++){const _0x4ade5a=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x21de22]);_0x4ade5a&&_0x4ade5a['addMeshIns'+'tances'](_0x2beea2['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](_0x4dbae2){const _0x203b54=this['_addedMode'+'ls']['indexOf'](_0x4dbae2);_0x203b54>=0x3fb+-0x1b04+0x1*0x1709&&this['_addedMode'+'ls']['splice'](_0x203b54,-0xcee+0x2211+0x1522*-0x1);for(let _0x293aeb=0x1*0x24fb+-0xdf*0x1f+-0x9fa;_0x293aeb<this['layers']['length'];_0x293aeb++){const _0x40d456=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x293aeb]);_0x40d456&&_0x40d456['removeMesh'+'Instances'](_0x4dbae2['meshInstan'+'ces']);}}['getMaskOff'+'set'](){const _0x542294=this['system']['app']['frame'];this['_offsetRea'+'dAt']!==_0x542294&&(this['_maskOffse'+'t']=-0x769*-0x2+-0x5f*-0x4a+-0x2a48+0.5,this['_offsetRea'+'dAt']=_0x542294);const _0x5c1b26=this['_maskOffse'+'t'];return this['_maskOffse'+'t']-=0x1f01+-0x2032+0x131+0.001,_0x5c1b26;}['isVisibleF'+'orCamera'](_0x5772ae){let _0x1ef03a,_0x42205f,_0x32dcfc,_0x4fbf04;if(this['maskedBy']){const _0x2d61f8=this['maskedBy']['element']['screenCorn'+'ers'];_0x1ef03a=Math['min'](Math['min'](_0x2d61f8[-0x6*0x5af+-0x22bd+-0x44d7*-0x1]['x'],_0x2d61f8[0x1*-0x1409+-0x3*0xbf8+0x9a*0x5d]['x']),Math['min'](_0x2d61f8[-0x6b2+0x1e41*0x1+-0x178d]['x'],_0x2d61f8[-0x17f*-0xb+0x13d5+-0x2447]['x'])),_0x42205f=Math['max'](Math['max'](_0x2d61f8[0x4*0x3c5+-0xa9d+-0x477]['x'],_0x2d61f8[0x2b3+0x34c+-0x5fe]['x']),Math['max'](_0x2d61f8[-0x1484*0x1+-0x5*-0x724+-0xf2e]['x'],_0x2d61f8[-0xc91*0x3+-0x727+-0x1*-0x2cdd]['x'])),_0x4fbf04=Math['min'](Math['min'](_0x2d61f8[-0x1fd5*0x1+-0x2*-0xb3d+0x5*0x1df]['y'],_0x2d61f8[-0x1ae2+-0x25bf+0x2*0x2051]['y']),Math['min'](_0x2d61f8[-0x14b2+0x152*-0xf+0x2882]['y'],_0x2d61f8[0x2*-0x44b+0x1*-0x6eb+0xf84]['y'])),_0x32dcfc=Math['max'](Math['max'](_0x2d61f8[-0x1*-0xca3+0x107*0x5+-0xb6*0x19]['y'],_0x2d61f8[0x260c+0x1*-0x26ef+0x72*0x2]['y']),Math['max'](_0x2d61f8[-0x1af3*0x1+-0x1f35*-0x1+0x2*-0x220]['y'],_0x2d61f8[0x1288+-0xce6+-0x59f]['y']));}else{const _0x52b14a=this['system']['app']['graphicsDe'+'vice']['width'],_0x51d038=this['system']['app']['graphicsDe'+'vice']['height'],_0x1c0704=_0x5772ae['_rect']['z']*_0x52b14a,_0x2157d7=_0x5772ae['_rect']['w']*_0x51d038;_0x1ef03a=_0x5772ae['_rect']['x']*_0x52b14a,_0x42205f=_0x1ef03a+_0x1c0704,_0x32dcfc=(-0x5*-0x5c6+-0xb7+-0x6*0x4b1-_0x5772ae['_rect']['y'])*_0x51d038,_0x4fbf04=_0x32dcfc-_0x2157d7;}const _0x4347a8=this['screenCorn'+'ers'],_0x38fc44=Math['min'](Math['min'](_0x4347a8[-0xb*0x169+0x76b+0x818]['x'],_0x4347a8[0x1*-0x7b9+0x1*0x53d+-0x27d*-0x1]['x']),Math['min'](_0x4347a8[-0x1*-0xda+-0x2*0xac1+-0xe6*-0x17]['x'],_0x4347a8[0x2aa*-0xd+-0x8c*-0x1+0x2219]['x'])),_0x542483=Math['max'](Math['max'](_0x4347a8[-0x70*-0x3+0x2be*0x2+0xae*-0xa]['x'],_0x4347a8[-0x1*0x78b+-0x3a*0x26+0x1028]['x']),Math['max'](_0x4347a8[-0x6af+-0x1b*-0x132+-0x1995]['x'],_0x4347a8[0x2d*-0xa5+-0x17*0x173+0x3e59]['x'])),_0x985764=Math['min'](Math['min'](_0x4347a8[-0xc6e*0x1+-0x680+0x12ee*0x1]['y'],_0x4347a8[-0xf*0xc7+-0x233d+0x2ee7]['y']),Math['min'](_0x4347a8[0x172b+-0xb3a+-0x263*0x5]['y'],_0x4347a8[-0x1739+-0x1e2d*0x1+0x79*0x71]['y'])),_0x565f82=Math['max'](Math['max'](_0x4347a8[0x104+-0x1669*-0x1+-0x3*0x7cf]['y'],_0x4347a8[-0x1d71*-0x1+0x137*0x16+0x229*-0x1a]['y']),Math['max'](_0x4347a8[-0x1*-0x1ac3+-0x5f*-0x5+0x4*-0x727]['y'],_0x4347a8[0x2*-0x710+-0x58e+0x13b1]['y']));return!(_0x542483<_0x1ef03a||_0x38fc44>_0x42205f||_0x985764>_0x32dcfc||_0x565f82<_0x4fbf04);}['_isScreenS'+'pace'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['screenSpac'+'e']:!(-0x82e+-0x15fb+0x1e2a);}['_isScreenC'+'ulled'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['cull']:!(0x1*0x466+0xa78+0xedd*-0x1);}['_dirtyBatc'+'h'](){var _0x48513d;this['batchGroup'+'Id']!==-(0x12b*-0x7+-0x18af*-0x1+-0x1081)&&((_0x48513d=this['system']['app']['batcher'])==null||_0x48513d['markGroupD'+'irty'](this['batchGroup'+'Id']));}}h(hs,'EVENT_MOUS'+'EDOWN','mousedown'),h(hs,'EVENT_MOUS'+'EUP','mouseup'),h(hs,'EVENT_MOUS'+'EENTER','mouseenter'),h(hs,'EVENT_MOUS'+'ELEAVE','mouseleave'),h(hs,'EVENT_MOUS'+'EMOVE','mousemove'),h(hs,'EVENT_MOUS'+'EWHEEL','mousewheel'),h(hs,'EVENT_CLIC'+'K','click'),h(hs,'EVENT_TOUC'+'HSTART','touchstart'),h(hs,'EVENT_TOUC'+'HEND','touchend'),h(hs,'EVENT_TOUC'+'HMOVE','touchmove'),h(hs,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');class DR{constructor(){this['enabled']=!(0xb1+-0x5d8+0x527*0x1);}}const IR=['enabled'];class LR extends ct{constructor(_0x3f5d01){super(_0x3f5d01),this['id']='element',this['ComponentT'+'ype']=hs,this['DataType']=DR,this['schema']=IR,this['_unicodeCo'+'nverter']=null,this['_rtlReorde'+'r']=null,this['_defaultTe'+'xture']=new _e(_0x3f5d01['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':_s,'name':'element-sy'+'stem'});const _0x506356=this['_defaultTe'+'xture']['lock'](),_0x457dd9=new Uint8Array(0x89*0xf+0x1*0x2b+0x15d*-0x6);_0x457dd9[-0x1577+-0x15dd+-0xec*-0x2f]=0xc35+0x1f18+-0x11d*0x26,_0x457dd9[0x2a0*-0x6+-0xa6*-0x2+0xe75]=0x725+-0x1*-0x2336+-0x295c,_0x457dd9[0x1*-0x112b+0x1d1e+-0xbf1]=-0x1e43+-0x8*0x43+0x215a,_0x457dd9[0x2d2*0x1+0x7*-0xa7+-0x96*-0x3]=-0x2d8+-0x17*-0x32+-0xa7,_0x506356['set'](_0x457dd9),this['_defaultTe'+'xture']['unlock'](),this['defaultIma'+'geMaterial']=null,this['defaultIma'+'ge9SlicedM'+'aterial']=null,this['defaultIma'+'ge9TiledMa'+'terial']=null,this['defaultIma'+'geMaskMate'+'rial']=null,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=null,this['defaultIma'+'ge9TiledMa'+'skMaterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=null,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=null,this['_defaultTe'+'xtMaterial'+'s']={},this['defaultIma'+'geMaterial'+'s']=[],this['on']('add',this['onAddCompo'+'nent'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['destroy'](){super['destroy'](),this['_defaultTe'+'xture']['destroy']();}['initialize'+'ComponentD'+'ata'](_0x345455,_0x12a46c,_0xd38c59){_0x345455['_beingInit'+'ialized']=!(-0x497*0x4+0x7*0x15b+0x8df),_0x12a46c['anchor']!==void(0x375+0x13*0x19d+0x94*-0x3b)&&(_0x12a46c['anchor']instanceof re?_0x345455['anchor']['copy'](_0x12a46c['anchor']):_0x345455['anchor']['set'](_0x12a46c['anchor'][0x6b*0x25+-0x7cc+-0x7ab],_0x12a46c['anchor'][-0x6c0+-0x1*-0xd90+-0x6cf],_0x12a46c['anchor'][0x1*0x1643+-0x273*-0x4+-0x200d],_0x12a46c['anchor'][-0x11f3*-0x1+-0xc70+-0x580])),_0x12a46c['pivot']!==void(-0x2152*0x1+-0x1d4f+-0x1*-0x3ea1)&&(_0x12a46c['pivot']instanceof J?_0x345455['pivot']['copy'](_0x12a46c['pivot']):_0x345455['pivot']['set'](_0x12a46c['pivot'][0xe53+0x71c+0x1f*-0xb1],_0x12a46c['pivot'][-0x2b*0x1d+-0x1*0x1b47+-0x2027*-0x1]));const _0xf8a526=Math['abs'](_0x345455['anchor']['x']-_0x345455['anchor']['z'])>-0x3*-0x8e7+0x1a71*0x1+-0x1*0x3526+0.001,_0x5b6058=Math['abs'](_0x345455['anchor']['y']-_0x345455['anchor']['w'])>-0x6f1*0x4+-0x16bf+0x1*0x3283+0.001;let _0x483754=!(-0x4d7*-0x7+-0x2070+-0x5c*0x4),_0x5b4c41;_0x12a46c['margin']!==void(-0x3*-0x898+0x3*-0x60c+-0xa3*0xc)&&(_0x12a46c['margin']instanceof re?_0x345455['margin']['copy'](_0x12a46c['margin']):_0x345455['_margin']['set'](_0x12a46c['margin'][0x2e8+0x8ad*-0x2+-0x56*-0x2b],_0x12a46c['margin'][0x1d5+0x20c9+0x1*-0x229d],_0x12a46c['margin'][-0x1*0x251f+0x400+0x2121],_0x12a46c['margin'][-0x22c0+0x1121+-0x11a2*-0x1]),_0x483754=!(-0xc*-0x215+-0x1*0x10af+0x55*-0x19)),_0x12a46c['left']!==void(-0xae2+0xc1+-0xa21*-0x1)&&(_0x345455['_margin']['x']=_0x12a46c['left'],_0x483754=!(0x232b+0x2*0xb3e+-0x39a7*0x1)),_0x12a46c['bottom']!==void(-0x8aa+0x39a+0x51*0x10)&&(_0x345455['_margin']['y']=_0x12a46c['bottom'],_0x483754=!(-0x2*0xd67+0x8e*-0x3+0x71e*0x4)),_0x12a46c['right']!==void(0x567*0x2+-0x1*-0x503+0x1*-0xfd1)&&(_0x345455['_margin']['z']=_0x12a46c['right'],_0x483754=!(0x233*0xd+-0x563*-0x7+-0x424c)),_0x12a46c['top']!==void(0x635*0x1+-0xf7f*-0x2+-0x2533)&&(_0x345455['_margin']['w']=_0x12a46c['top'],_0x483754=!(0x18bf+0x6b7+-0x1f76*0x1)),_0x483754&&(_0x345455['margin']=_0x345455['_margin']);let _0x87149e=!(-0x17e9+0xf14+0x8d6);_0x12a46c['width']!==void(-0xeb*-0x25+-0x1*0xf11+-0x12e6)&&!_0xf8a526?_0x345455['width']=_0x12a46c['width']:_0xf8a526&&(_0x87149e=!(-0x202f+-0x1aaf+0x3ade)),_0x12a46c['height']!==void(-0xd31+-0x1c8e+0x29bf)&&!_0x5b6058?_0x345455['height']=_0x12a46c['height']:_0x5b6058&&(_0x87149e=!(0x2c*-0x78+-0x16cf+0x2b6f)),_0x87149e&&(_0x345455['anchor']=_0x345455['anchor']),_0x12a46c['enabled']!==void(0x1324+0x7af+-0x1ad3)&&(_0x345455['enabled']=_0x12a46c['enabled']),_0x12a46c['useInput']!==void(-0x1757+-0xb2*-0x13+0xa21*0x1)&&(_0x345455['useInput']=_0x12a46c['useInput']),_0x12a46c['fitMode']!==void(0xff8+-0x47*0x1d+0x7ed*-0x1)&&(_0x345455['fitMode']=_0x12a46c['fitMode']),_0x345455['batchGroup'+'Id']=_0x12a46c['batchGroup'+'Id']===void(-0x5b9+-0x94*-0x7+-0xb*-0x27)||_0x12a46c['batchGroup'+'Id']===null?-(0xb8+-0x1bca+0x1b13):_0x12a46c['batchGroup'+'Id'],_0x12a46c['layers']&&Array['isArray'](_0x12a46c['layers'])&&(_0x345455['layers']=_0x12a46c['layers']['slice'](0x1*0x1f9f+-0x5*0x162+-0x18b5)),_0x12a46c['type']!==void(0x1*0x6fc+-0x1b7a+0x2*0xa3f)&&(_0x345455['type']=_0x12a46c['type']),_0x345455['type']===Cu?(_0x12a46c['rect']!==void(-0x3*-0xb74+0x319*0x9+-0x3e3d)&&(_0x345455['rect']=_0x12a46c['rect']),_0x12a46c['color']!==void(0x1*0xf6+-0x10*0x11c+0x10ca)&&(_0x5b4c41=_0x12a46c['color'],_0x5b4c41 instanceof ie||(_0x5b4c41=new ie(_0x12a46c['color'][-0x1c61+-0x7c5+0x2426],_0x12a46c['color'][0x92*0x21+-0x2105+0x25e*0x6],_0x12a46c['color'][-0x1462+-0x1f2c+0xa50*0x5])),_0x345455['color']=_0x5b4c41),_0x12a46c['opacity']!==void(-0x1*-0xfd3+-0x8*0x37d+0xc15)&&(_0x345455['opacity']=_0x12a46c['opacity']),_0x12a46c['textureAss'+'et']!==void(-0x5*0x12f+0x3fd*0x4+-0xa09)&&(_0x345455['textureAss'+'et']=_0x12a46c['textureAss'+'et']),_0x12a46c['texture']&&(_0x345455['texture']=_0x12a46c['texture']),_0x12a46c['spriteAsse'+'t']!==void(0xcd5*-0x1+0x1*-0xdcd+0x1aa2)&&(_0x345455['spriteAsse'+'t']=_0x12a46c['spriteAsse'+'t']),_0x12a46c['sprite']&&(_0x345455['sprite']=_0x12a46c['sprite']),_0x12a46c['spriteFram'+'e']!==void(0x15d*-0xb+-0x181f+-0x685*-0x6)&&(_0x345455['spriteFram'+'e']=_0x12a46c['spriteFram'+'e']),_0x12a46c['pixelsPerU'+'nit']!==void(-0xd6a+0xc*-0x23e+-0x18d*-0x1a)&&_0x12a46c['pixelsPerU'+'nit']!==null&&(_0x345455['pixelsPerU'+'nit']=_0x12a46c['pixelsPerU'+'nit']),_0x12a46c['materialAs'+'set']!==void(0x1836+0x15e6+-0x2*0x170e)&&(_0x345455['materialAs'+'set']=_0x12a46c['materialAs'+'set']),_0x12a46c['material']&&(_0x345455['material']=_0x12a46c['material']),_0x12a46c['mask']!==void(-0x1793+0x11*-0x1f+0x19a2)&&(_0x345455['mask']=_0x12a46c['mask'])):_0x345455['type']===jv&&(_0x12a46c['autoWidth']!==void(0x1*0xd01+0x1*0x106+0x13*-0xbd)&&(_0x345455['autoWidth']=_0x12a46c['autoWidth']),_0x12a46c['autoHeight']!==void(0xcd5+-0x1bc2+0xeed)&&(_0x345455['autoHeight']=_0x12a46c['autoHeight']),_0x12a46c['rtlReorder']!==void(-0x1dd7+0xe6c+0xf6b)&&(_0x345455['rtlReorder']=_0x12a46c['rtlReorder']),_0x12a46c['unicodeCon'+'verter']!==void(-0x5d5*-0x4+-0x210*0xb+-0x2*0x52)&&(_0x345455['unicodeCon'+'verter']=_0x12a46c['unicodeCon'+'verter']),_0x12a46c['text']!==null&&_0x12a46c['text']!==void(-0x3*-0x821+-0x1*0x2190+-0x30f*-0x3)?_0x345455['text']=_0x12a46c['text']:_0x12a46c['key']!==null&&_0x12a46c['key']!==void(-0x5*-0x43f+-0x2256+0xd1b)&&(_0x345455['key']=_0x12a46c['key']),_0x12a46c['color']!==void(0x3bb*0x6+-0x1ab8+0x5*0xde)&&(_0x5b4c41=_0x12a46c['color'],_0x5b4c41 instanceof ie||(_0x5b4c41=new ie(_0x5b4c41[0x667+-0xfa7*0x2+0x18e7],_0x5b4c41[0x45*0x5+-0x1*0x116+0x2*-0x21],_0x5b4c41[-0x53*-0x35+-0x7d1+0x2*-0x4ae])),_0x345455['color']=_0x5b4c41),_0x12a46c['opacity']!==void(0x13c1+0x1e1+-0x15a2)&&(_0x345455['opacity']=_0x12a46c['opacity']),_0x12a46c['spacing']!==void(-0x45*0x17+0x2ba*-0xc+-0x51*-0x7b)&&(_0x345455['spacing']=_0x12a46c['spacing']),_0x12a46c['fontSize']!==void(0x1b3b+-0x73e*0x5+0x8fb)&&(_0x345455['fontSize']=_0x12a46c['fontSize'],_0x12a46c['lineHeight']||(_0x345455['lineHeight']=_0x12a46c['fontSize'])),_0x12a46c['lineHeight']!==void(-0x160+0x1780+0x30*-0x76)&&(_0x345455['lineHeight']=_0x12a46c['lineHeight']),_0x12a46c['maxLines']!==void(-0x1695+-0x11*0x1fa+0x2f5*0x13)&&(_0x345455['maxLines']=_0x12a46c['maxLines']),_0x12a46c['wrapLines']!==void(-0x14d5*-0x1+-0x487*-0x7+-0x3486)&&(_0x345455['wrapLines']=_0x12a46c['wrapLines']),_0x12a46c['minFontSiz'+'e']!==void(0x1000+0x1f36+0x2*-0x179b)&&(_0x345455['minFontSiz'+'e']=_0x12a46c['minFontSiz'+'e']),_0x12a46c['maxFontSiz'+'e']!==void(0x5e1+0x15d8+0x1bb9*-0x1)&&(_0x345455['maxFontSiz'+'e']=_0x12a46c['maxFontSiz'+'e']),_0x12a46c['autoFitWid'+'th']&&(_0x345455['autoFitWid'+'th']=_0x12a46c['autoFitWid'+'th']),_0x12a46c['autoFitHei'+'ght']&&(_0x345455['autoFitHei'+'ght']=_0x12a46c['autoFitHei'+'ght']),_0x12a46c['fontAsset']!==void(-0x22*-0xbb+0xa0f+-0x22e5)&&(_0x345455['fontAsset']=_0x12a46c['fontAsset']),_0x12a46c['font']!==void(-0x14f*0x5+0x2296+-0x1c0b)&&(_0x345455['font']=_0x12a46c['font']),_0x12a46c['alignment']!==void(-0xb35+-0x214f*0x1+-0x40c*-0xb)&&(_0x345455['alignment']=_0x12a46c['alignment']),_0x12a46c['outlineCol'+'or']!==void(0x10*-0x1cb+0x1*0x1487+0x829)&&(_0x345455['outlineCol'+'or']=_0x12a46c['outlineCol'+'or']),_0x12a46c['outlineThi'+'ckness']!==void(0x6a3+0x6b4+-0xd57*0x1)&&(_0x345455['outlineThi'+'ckness']=_0x12a46c['outlineThi'+'ckness']),_0x12a46c['shadowColo'+'r']!==void(-0x91b*0x1+0x1e3a+-0x151f*0x1)&&(_0x345455['shadowColo'+'r']=_0x12a46c['shadowColo'+'r']),_0x12a46c['shadowOffs'+'et']!==void(0x1039*-0x2+-0x9f*-0x3e+-0x308*0x2)&&(_0x345455['shadowOffs'+'et']=_0x12a46c['shadowOffs'+'et']),_0x12a46c['enableMark'+'up']!==void(0x1eff+0xa20+-0x291f)&&(_0x345455['enableMark'+'up']=_0x12a46c['enableMark'+'up']));const _0x5a4397=_0x345455['_parseUpTo'+'Screen']();_0x5a4397['screen']&&_0x345455['_updateScr'+'een'](_0x5a4397['screen']),super['initialize'+'ComponentD'+'ata'](_0x345455,_0x12a46c,_0xd38c59),_0x345455['_beingInit'+'ialized']=!(0xe8*-0x1d+-0x589*0x5+0x35f6),_0x345455['type']===Cu&&_0x345455['_image']['_meshDirty']&&_0x345455['_image']['_updateMes'+'h'](_0x345455['_image']['mesh']);}['onAddCompo'+'nent'](_0x4cfe81,_0x564ccc){_0x4cfe81['fire']('element:ad'+'d');}['onRemoveCo'+'mponent'](_0x199932,_0x5f4641){_0x5f4641['onRemove']();}['cloneCompo'+'nent'](_0x150c85,_0x2f47cc){const _0x3463b2=_0x150c85['element'],_0x47111b={'enabled':_0x3463b2['enabled'],'width':_0x3463b2['width'],'height':_0x3463b2['height'],'anchor':_0x3463b2['anchor']['clone'](),'pivot':_0x3463b2['pivot']['clone'](),'margin':_0x3463b2['margin']['clone'](),'alignment':_0x3463b2['alignment']&&_0x3463b2['alignment']['clone']()||_0x3463b2['alignment'],'autoWidth':_0x3463b2['autoWidth'],'autoHeight':_0x3463b2['autoHeight'],'type':_0x3463b2['type'],'rect':_0x3463b2['rect']&&_0x3463b2['rect']['clone']()||_0x3463b2['rect'],'rtlReorder':_0x3463b2['rtlReorder'],'unicodeConverter':_0x3463b2['unicodeCon'+'verter'],'materialAsset':_0x3463b2['materialAs'+'set'],'material':_0x3463b2['material'],'color':_0x3463b2['color']&&_0x3463b2['color']['clone']()||_0x3463b2['color'],'opacity':_0x3463b2['opacity'],'textureAsset':_0x3463b2['textureAss'+'et'],'texture':_0x3463b2['texture'],'spriteAsset':_0x3463b2['spriteAsse'+'t'],'sprite':_0x3463b2['sprite'],'spriteFrame':_0x3463b2['spriteFram'+'e'],'pixelsPerUnit':_0x3463b2['pixelsPerU'+'nit'],'spacing':_0x3463b2['spacing'],'lineHeight':_0x3463b2['lineHeight'],'wrapLines':_0x3463b2['wrapLines'],'layers':_0x3463b2['layers'],'fontSize':_0x3463b2['fontSize'],'minFontSize':_0x3463b2['minFontSiz'+'e'],'maxFontSize':_0x3463b2['maxFontSiz'+'e'],'autoFitWidth':_0x3463b2['autoFitWid'+'th'],'autoFitHeight':_0x3463b2['autoFitHei'+'ght'],'maxLines':_0x3463b2['maxLines'],'fontAsset':_0x3463b2['fontAsset'],'font':_0x3463b2['font'],'useInput':_0x3463b2['useInput'],'fitMode':_0x3463b2['fitMode'],'batchGroupId':_0x3463b2['batchGroup'+'Id'],'mask':_0x3463b2['mask'],'outlineColor':_0x3463b2['outlineCol'+'or']&&_0x3463b2['outlineCol'+'or']['clone']()||_0x3463b2['outlineCol'+'or'],'outlineThickness':_0x3463b2['outlineThi'+'ckness'],'shadowColor':_0x3463b2['shadowColo'+'r']&&_0x3463b2['shadowColo'+'r']['clone']()||_0x3463b2['shadowColo'+'r'],'shadowOffset':_0x3463b2['shadowOffs'+'et']&&_0x3463b2['shadowOffs'+'et']['clone']()||_0x3463b2['shadowOffs'+'et'],'enableMarkup':_0x3463b2['enableMark'+'up']};return _0x3463b2['key']!==void(-0x2*-0xf33+0x3*0x82e+-0x36f0)&&_0x3463b2['key']!==null?_0x47111b['key']=_0x3463b2['key']:_0x47111b['text']=_0x3463b2['text'],this['addCompone'+'nt'](_0x2f47cc,_0x47111b);}['getTextEle'+'mentMateri'+'al'](_0x3597f6,_0x30ca99,_0x22695e){const _0x49d439=(_0x3597f6&&0x1aaa+0x1*-0x1e31+0x1c4*0x2)|(_0x30ca99&&-0x4c2+0x1*-0xead+-0x2c7*-0x7)|(_0x22695e&&0x24e5+0xa*-0xd9+-0x1c67);let _0x16febc=this['_defaultTe'+'xtMaterial'+'s'][_0x49d439];if(_0x16febc)return _0x16febc;let _0x5e28e0='TextMateri'+'al';return _0x16febc=new Ut(),_0x30ca99?(_0x16febc['msdfMap']=this['_defaultTe'+'xture'],_0x16febc['msdfTextAt'+'tribute']=_0x22695e,_0x16febc['emissive']['set'](-0x518+-0x1*-0x257+0x1*0x2c2,0x27*-0xc0+-0xc3*0x1d+0x3358,-0x7b8+-0x2611+-0x2dca*-0x1)):(_0x5e28e0='Bitmap'+_0x5e28e0,_0x16febc['emissive']['set'](-0x10*-0x12a+-0x80f+0x10*-0xa9,-0x1422+-0x85f*0x1+0x1c82,-0x3fb+-0x1336+0x1732*0x1),_0x16febc['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x16febc['opacityMap']=this['_defaultTe'+'xture'],_0x16febc['opacityMap'+'Channel']='a'),_0x3597f6&&(_0x5e28e0='ScreenSpac'+'e'+_0x5e28e0,_0x16febc['depthTest']=!(0x2401+-0xfc9*-0x1+-0x33c9)),_0x16febc['name']='default'+_0x5e28e0,_0x16febc['useLightin'+'g']=!(0x2c3*0x7+-0x16e2*-0x1+0x1*-0x2a36),_0x16febc['useTonemap']=!(-0x267*-0xa+-0xd*-0x191+-0x13*0x256),_0x16febc['useFog']=!(0x1938+-0x87a+0x359*-0x5),_0x16febc['useSkybox']=!(-0x265f*-0x1+0x156c+-0x3bca),_0x16febc['diffuse']['set'](-0x1bc0+-0x1057+0x1*0x2c17,0x1307*-0x1+-0x5*-0x209+0x16*0x67,0x44d+-0x24a6+0x1*0x2059),_0x16febc['opacity']=-0x22*-0x9+0x1*-0x17f3+0x1*0x16c1+0.5,_0x16febc['blendType']=Gn,_0x16febc['depthWrite']=!(-0x1*-0x11c5+-0xe5+-0x10df),_0x16febc['emissiveVe'+'rtexColor']=!(0xe11+0x5db*-0x3+0x380),_0x16febc['update'](),this['_defaultTe'+'xtMaterial'+'s'][_0x49d439]=_0x16febc,_0x16febc;}['_createBas'+'eImageMate'+'rial'](){const _0x5ee5a9=new Ut();return _0x5ee5a9['diffuse']['set'](0xb35+0x1*-0xd55+0x220,-0x1*0x240b+-0x1ea5+0x10ac*0x4,0x1a*0x5d+-0x1f37+0x15c5),_0x5ee5a9['emissive']['set'](-0x32*-0x9f+0x522+-0x242f,0x23c6+-0x3f7+-0x1fce,-0x1ac4+-0x3*-0xbbd+-0x2e*0x2f),_0x5ee5a9['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x5ee5a9['opacityMap']=this['_defaultTe'+'xture'],_0x5ee5a9['opacityMap'+'Channel']='a',_0x5ee5a9['useLightin'+'g']=!(-0xacc*0x1+0xa84+0x49),_0x5ee5a9['useTonemap']=!(-0x2ab*-0x3+-0xed5*-0x1+-0x16d5),_0x5ee5a9['useFog']=!(0x1*0x2581+0x707*0x2+-0x1*0x338e),_0x5ee5a9['useSkybox']=!(0x2b4+0x1f8f+0x1121*-0x2),_0x5ee5a9['blendType']=Gn,_0x5ee5a9['depthWrite']=!(-0x56+0x17*-0x11c+-0x1*-0x19db),_0x5ee5a9;}['getImageEl'+'ementMater'+'ial'](_0x26f929,_0x1e27ad,_0x1961be,_0x465c6a){return _0x26f929?_0x1e27ad?_0x1961be?(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al',this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['nineSliced'+'Mode']=Pt,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['depthTest']=!(-0xd*-0x54+0x4*-0x2e2+0x745),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaTest']=0x239+0xe97+-0x1*0x10cf,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['redWrite']=!(0x6ac+-0x232*0xb+-0x37f*-0x5),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['greenWrite']=!(0x18e5+0x185*-0x2+-0x15da),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['blueWrite']=!(-0x157f*-0x1+0x77b*-0x1+0x1*-0xe03),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaWrite']=!(0x33*-0x89+0xde8+0x4*0x359),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']):_0x465c6a?(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['clone'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['nineSliced'+'Mode']=Mt,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['depthTest']=!(0x1*-0x1990+0x1bb9+0xb8*-0x3),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaTest']=0x2*0xb61+-0x8dc+-0x1*0xde5,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['redWrite']=!(-0x2*-0x417+-0x1675*0x1+0x392*0x4),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['greenWrite']=!(-0x8*0xc7+0x89a*0x2+-0x1*0xafb),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['blueWrite']=!(-0x353*-0x1+-0xe75*-0x2+-0x1*0x203c),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaWrite']=!(-0x14d0+0xd68+0x769),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']):(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']||(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['name']='defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial',this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['depthTest']=!(0x19e9+-0xb50+-0xe98),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaTest']=0x1*0x24e2+0x45f*-0x4+-0x1365,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['redWrite']=!(0x660+0x9ad+0x1a*-0x9e),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['greenWrite']=!(-0x17a5+-0x12d6+0x2a7c),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['blueWrite']=!(-0x2*-0xaf1+-0x1*-0x17e1+-0x2*0x16e1),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaWrite']=!(0x97b*-0x1+-0x5c4+0x1e8*0x8),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial'])),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']):_0x1961be?(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']||(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['name']='defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material',this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['nineSliced'+'Mode']=Pt,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['depthTest']=!(-0xfcf+-0xcf3+0x1cc3),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material'])),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']):_0x465c6a?(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']||(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['name']='defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial',this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['nineSliced'+'Mode']=Mt,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['depthTest']=!(-0xfb4+-0x1*-0x1b09+-0x32*0x3a),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial'])),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']):(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['depthTest']=!(-0x942+0x2490+-0x1b4d),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']):_0x1e27ad?_0x1961be?(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']||(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['name']='defaultIma'+'ge9SlicedM'+'askMateria'+'l',this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['nineSliced'+'Mode']=Pt,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaTest']=-0x202a+0x2*0x9aa+0xcd7,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['redWrite']=!(-0x1420+0x194e*-0x1+0x2d6f),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['greenWrite']=!(-0x20fe+-0x109d+0x4f6*0xa),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['blueWrite']=!(-0x1*-0xed7+0x1*-0x1142+0x26c),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaWrite']=!(-0x21f*-0x2+-0x14ca+0x108d*0x1),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'askMateria'+'l'])),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']):_0x465c6a?(this['defaultIma'+'ge9TiledMa'+'skMaterial']||(this['defaultIma'+'ge9TiledMa'+'skMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'skMaterial']['name']='defaultIma'+'ge9TiledMa'+'skMaterial',this['defaultIma'+'ge9TiledMa'+'skMaterial']['nineSliced'+'Mode']=Mt,this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaTest']=-0x5*0x43f+-0x52*0x26+0x2168,this['defaultIma'+'ge9TiledMa'+'skMaterial']['redWrite']=!(-0x2*0xd2b+0x7cf*0x4+-0x4e5),this['defaultIma'+'ge9TiledMa'+'skMaterial']['greenWrite']=!(-0x15b*0x8+0x1fb9*0x1+-0x14e0),this['defaultIma'+'ge9TiledMa'+'skMaterial']['blueWrite']=!(-0x32c*-0xb+-0x22a9+-0x3a),this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaWrite']=!(-0x1*0x124f+-0x3*0x3bc+0xec2*0x2),this['defaultIma'+'ge9TiledMa'+'skMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'skMaterial'])),this['defaultIma'+'ge9TiledMa'+'skMaterial']):(this['defaultIma'+'geMaskMate'+'rial']||(this['defaultIma'+'geMaskMate'+'rial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaskMate'+'rial']['name']='defaultIma'+'geMaskMate'+'rial',this['defaultIma'+'geMaskMate'+'rial']['alphaTest']=-0x32b*-0x1+0x16b9+-0x19e3,this['defaultIma'+'geMaskMate'+'rial']['redWrite']=!(0x873+-0x1*-0x12ab+0x1*-0x1b1d),this['defaultIma'+'geMaskMate'+'rial']['greenWrite']=!(0x12d9+0x1b58*-0x1+0x22*0x40),this['defaultIma'+'geMaskMate'+'rial']['blueWrite']=!(0x2f+0x4d*0x2c+-0x1*0xd6a),this['defaultIma'+'geMaskMate'+'rial']['alphaWrite']=!(0x2613+-0xc4b+-0x1*0x19c7),this['defaultIma'+'geMaskMate'+'rial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaskMate'+'rial'])),this['defaultIma'+'geMaskMate'+'rial']):_0x1961be?(this['defaultIma'+'ge9SlicedM'+'aterial']||(this['defaultIma'+'ge9SlicedM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'aterial']['name']='defaultIma'+'ge9SlicedM'+'aterial',this['defaultIma'+'ge9SlicedM'+'aterial']['nineSliced'+'Mode']=Pt,this['defaultIma'+'ge9SlicedM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'aterial'])),this['defaultIma'+'ge9SlicedM'+'aterial']):_0x465c6a?(this['defaultIma'+'ge9TiledMa'+'terial']||(this['defaultIma'+'ge9TiledMa'+'terial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'terial']['name']='defaultIma'+'ge9TiledMa'+'terial',this['defaultIma'+'ge9TiledMa'+'terial']['nineSliced'+'Mode']=Mt,this['defaultIma'+'ge9TiledMa'+'terial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'terial'])),this['defaultIma'+'ge9TiledMa'+'terial']):(this['defaultIma'+'geMaterial']||(this['defaultIma'+'geMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaterial']['name']='defaultIma'+'geMaterial',this['defaultIma'+'geMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaterial'])),this['defaultIma'+'geMaterial']);}['registerUn'+'icodeConve'+'rter'](_0x54332c){this['_unicodeCo'+'nverter']=_0x54332c;}['registerRt'+'lReorder'](_0x2e7861){this['_rtlReorde'+'r']=_0x2e7861;}['getUnicode'+'Converter'](){return this['_unicodeCo'+'nverter'];}['getRtlReor'+'der'](){return this['_rtlReorde'+'r'];}}const Xa='free',qa='limited',ja='locked',RR=['angularDam'+'pingX','angularDam'+'pingY','angularDam'+'pingZ','angularEqu'+'ilibriumX','angularEqu'+'ilibriumY','angularEqu'+'ilibriumZ','angularLim'+'itsX','angularLim'+'itsY','angularLim'+'itsZ','angularMot'+'ionX','angularMot'+'ionY','angularMot'+'ionZ','angularSpr'+'ingX','angularSpr'+'ingY','angularSpr'+'ingZ','angularSti'+'ffnessX','angularSti'+'ffnessY','angularSti'+'ffnessZ','breakForce','enableColl'+'ision','enabled','entityA','entityB','linearDamp'+'ingX','linearDamp'+'ingY','linearDamp'+'ingZ','linearEqui'+'libriumX','linearEqui'+'libriumY','linearEqui'+'libriumZ','linearLimi'+'tsX','linearLimi'+'tsY','linearLimi'+'tsZ','linearMoti'+'onX','linearMoti'+'onY','linearMoti'+'onZ','linearSpri'+'ngX','linearSpri'+'ngY','linearSpri'+'ngZ','linearStif'+'fnessX','linearStif'+'fnessY','linearStif'+'fnessZ'];class ym extends we{constructor(_0x386c4a,_0x40000e){super(_0x386c4a,_0x40000e),w['assert'](typeof Ammo<'u','ERROR:\x20Att'+'empting\x20to'+'\x20create\x20a\x20'+'pc.JointCo'+'mponent\x20bu'+'t\x20Ammo.js\x20'+'is\x20not\x20loa'+'ded'),this['_constrain'+'t']=null,this['_entityA']=null,this['_entityB']=null,this['_breakForc'+'e']=0xffc99e3c66fd68000000000000000000,this['_enableCol'+'lision']=!(-0x1e67+-0x1b5a+0x39c1),this['_linearMot'+'ionX']=ja,this['_linearLim'+'itsX']=new J(-0x15*0x11+0x1e2*0x1+-0x7d*0x1,-0xdd0+0xfc5+-0x1*0x1f5),this['_linearSpr'+'ingX']=!(-0xec9+0x16cf+-0x805),this['_linearSti'+'ffnessX']=0x1d4c+-0x1c1*-0x2+-0x20ce,this['_linearDam'+'pingX']=-0x4b*-0x15+0x1*-0x4f+-0x5d7,this['_linearEqu'+'ilibriumX']=-0x2615+-0x5d4*0x6+0x1*0x490d,this['_linearMot'+'ionY']=ja,this['_linearLim'+'itsY']=new J(0x8*-0xb7+-0x718*0x2+-0x16c*-0xe,-0x480+-0x1e65+0x22e5),this['_linearSpr'+'ingY']=!(-0x7*-0x101+0xb3d+-0x113*0x11),this['_linearSti'+'ffnessY']=-0x10c2+0x1d00+-0xc3e,this['_linearDam'+'pingY']=-0xe37+0x1*0x23db+-0x15a3*0x1,this['_linearEqu'+'ilibriumY']=-0x2*0xd78+0x89*0x4+-0x114*-0x17,this['_linearMot'+'ionZ']=ja,this['_linearLim'+'itsZ']=new J(-0x8b3*0x2+-0xb49*-0x1+0x61d*0x1,-0x21e9+-0xae7*-0x2+0xc1b),this['_linearSpr'+'ingZ']=!(-0x3cb+-0x76*-0x2f+0x11de*-0x1),this['_linearSti'+'ffnessZ']=0x1bd9+0xe14*0x2+-0x1b*0x213,this['_linearDam'+'pingZ']=0x2216+0x16ed+-0x1*0x3902,this['_linearEqu'+'ilibriumZ']=0x2*0x1145+-0x2108+-0x182,this['_angularMo'+'tionX']=ja,this['_angularLi'+'mitsX']=new J(0x1e4d+0x6*-0x9e+-0x1a99,0x1*0xcf1+0x12a4+0x5*-0x651),this['_angularSp'+'ringX']=!(-0x9fe+-0x2d7+0xcd6),this['_angularSt'+'iffnessX']=0x9ba+-0x22c0+0x1906,this['_angularDa'+'mpingX']=-0x17f4+0x1*0xb6b+0xc8a,this['_angularEq'+'uilibriumX']=-0x1a52+-0x1f9b+0x39ed,this['_angularMo'+'tionY']=ja,this['_angularLi'+'mitsY']=new J(0x4eb+0x993*-0x3+0x17ce,-0x11d+-0x19e5*0x1+0x1*0x1b02),this['_angularSp'+'ringY']=!(0x9c4*-0x3+0x1*-0xc64+0x29b1),this['_angularSt'+'iffnessY']=0x12e9*0x1+-0x1e50+0xb67,this['_angularDa'+'mpingY']=0x7f9*-0x3+0x6f2+0x10fa,this['_angularEq'+'uilibriumY']=-0x165b+0xc1*-0x31+0x6e*0x8a,this['_angularMo'+'tionZ']=ja,this['_angularLi'+'mitsZ']=new J(-0x1932+0x3*0x708+0x41a,-0x3*0x3bf+-0x23da+0x2f17),this['_angularSp'+'ringZ']=!(-0x4bd*0x1+-0x6*-0x5ae+-0x1d56),this['_angularEq'+'uilibriumZ']=-0xf8d+-0x22f7+0x7a*0x6a,this['_angularDa'+'mpingZ']=0x26*-0xd+-0x2e+0x21d,this['_angularSt'+'iffnessZ']=0x1875+-0x2*-0xe95+-0x359f,this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['entityA'](_0x3469fc){this['_destroyCo'+'nstraint'](),this['_entityA']=_0x3469fc,this['_createCon'+'straint']();}get['entityA'](){return this['_entityA'];}set['entityB'](_0x1a0774){this['_destroyCo'+'nstraint'](),this['_entityB']=_0x1a0774,this['_createCon'+'straint']();}get['entityB'](){return this['_entityB'];}set['breakForce'](_0x597faf){this['_constrain'+'t']&&this['_breakForc'+'e']!==_0x597faf&&(this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](_0x597faf),this['_breakForc'+'e']=_0x597faf);}get['breakForce'](){return this['_breakForc'+'e'];}set['enableColl'+'ision'](_0x33f3ae){this['_destroyCo'+'nstraint'](),this['_enableCol'+'lision']=_0x33f3ae,this['_createCon'+'straint']();}get['enableColl'+'ision'](){return this['_enableCol'+'lision'];}set['angularLim'+'itsX'](_0x3059d8){this['_angularLi'+'mitsX']['equals'](_0x3059d8)||(this['_angularLi'+'mitsX']['copy'](_0x3059d8),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsX'](){return this['_angularLi'+'mitsX'];}set['angularMot'+'ionX'](_0x9ab36a){this['_angularMo'+'tionX']!==_0x9ab36a&&(this['_angularMo'+'tionX']=_0x9ab36a,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionX'](){return this['_angularMo'+'tionX'];}set['angularLim'+'itsY'](_0x5398bc){this['_angularLi'+'mitsY']['equals'](_0x5398bc)||(this['_angularLi'+'mitsY']['copy'](_0x5398bc),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsY'](){return this['_angularLi'+'mitsY'];}set['angularMot'+'ionY'](_0x2e9cab){this['_angularMo'+'tionY']!==_0x2e9cab&&(this['_angularMo'+'tionY']=_0x2e9cab,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionY'](){return this['_angularMo'+'tionY'];}set['angularLim'+'itsZ'](_0x12c736){this['_angularLi'+'mitsZ']['equals'](_0x12c736)||(this['_angularLi'+'mitsZ']['copy'](_0x12c736),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsZ'](){return this['_angularLi'+'mitsZ'];}set['angularMot'+'ionZ'](_0x445886){this['_angularMo'+'tionZ']!==_0x445886&&(this['_angularMo'+'tionZ']=_0x445886,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionZ'](){return this['_angularMo'+'tionZ'];}set['linearLimi'+'tsX'](_0x4afd7a){this['_linearLim'+'itsX']['equals'](_0x4afd7a)||(this['_linearLim'+'itsX']['copy'](_0x4afd7a),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsX'](){return this['_linearLim'+'itsX'];}set['linearMoti'+'onX'](_0x5b2ac0){this['_linearMot'+'ionX']!==_0x5b2ac0&&(this['_linearMot'+'ionX']=_0x5b2ac0,this['_updateLin'+'earLimits']());}get['linearMoti'+'onX'](){return this['_linearMot'+'ionX'];}set['linearLimi'+'tsY'](_0x512da7){this['_linearLim'+'itsY']['equals'](_0x512da7)||(this['_linearLim'+'itsY']['copy'](_0x512da7),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsY'](){return this['_linearLim'+'itsY'];}set['linearMoti'+'onY'](_0x579a0b){this['_linearMot'+'ionY']!==_0x579a0b&&(this['_linearMot'+'ionY']=_0x579a0b,this['_updateLin'+'earLimits']());}get['linearMoti'+'onY'](){return this['_linearMot'+'ionY'];}set['linearLimi'+'tsZ'](_0x2a712f){this['_linearLim'+'itsZ']['equals'](_0x2a712f)||(this['_linearLim'+'itsZ']['copy'](_0x2a712f),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsZ'](){return this['_linearLim'+'itsZ'];}set['linearMoti'+'onZ'](_0x1fc531){this['_linearMot'+'ionZ']!==_0x1fc531&&(this['_linearMot'+'ionZ']=_0x1fc531,this['_updateLin'+'earLimits']());}get['linearMoti'+'onZ'](){return this['_linearMot'+'ionZ'];}['_convertTr'+'ansform'](_0x24fc67,_0x10777c){const _0x3649e2=_0x24fc67['getTransla'+'tion'](),_0x4bb361=new le();_0x4bb361['setFromMat'+'4'](_0x24fc67);const _0x32223e=new Ammo['btVector3'](_0x3649e2['x'],_0x3649e2['y'],_0x3649e2['z']),_0x48dc28=new Ammo['btQuaterni'+'on'](_0x4bb361['x'],_0x4bb361['y'],_0x4bb361['z'],_0x4bb361['w']);_0x10777c['setOrigin'](_0x32223e),_0x10777c['setRotatio'+'n'](_0x48dc28),Ammo['destroy'](_0x32223e),Ammo['destroy'](_0x48dc28);}['_updateAng'+'ularLimits'](){const _0xf49c69=this['_constrain'+'t'];if(_0xf49c69){let _0x40980d,_0x3da81d,_0x512ffe,_0x43de38,_0x4ed59f,_0x4ec68b;this['_angularMo'+'tionX']===qa?(_0x40980d=this['_angularLi'+'mitsX']['x']*Y['DEG_TO_RAD'],_0x43de38=this['_angularLi'+'mitsX']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionX']===Xa?(_0x40980d=0x7d9*0x4+0x138f+-0x1979*0x2,_0x43de38=0x23b*0x10+-0x1*0x1373+0x103d*-0x1):_0x40980d=_0x43de38=-0x4*0x42+0xe24+-0x347*0x4,this['_angularMo'+'tionY']===qa?(_0x3da81d=this['_angularLi'+'mitsY']['x']*Y['DEG_TO_RAD'],_0x4ed59f=this['_angularLi'+'mitsY']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionY']===Xa?(_0x3da81d=-0xdb+-0x522+0x5fe,_0x4ed59f=0xed8+0x171+-0x17b*0xb):_0x3da81d=_0x4ed59f=-0xdff*0x1+0x1c0e+-0xe0f,this['_angularMo'+'tionZ']===qa?(_0x512ffe=this['_angularLi'+'mitsZ']['x']*Y['DEG_TO_RAD'],_0x4ec68b=this['_angularLi'+'mitsZ']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionZ']===Xa?(_0x512ffe=-0x18c3+0x17f8+0xcc,_0x4ec68b=0x1ae+-0xf11+0xd63):_0x512ffe=_0x4ec68b=0x1a0*-0x12+0x1acd+-0x273*-0x1;const _0x296496=new Ammo['btVector3'](_0x40980d,_0x3da81d,_0x512ffe);_0xf49c69['setAngular'+'LowerLimit'](_0x296496),_0x296496['setValue'](_0x43de38,_0x4ed59f,_0x4ec68b),_0xf49c69['setAngular'+'UpperLimit'](_0x296496),Ammo['destroy'](_0x296496);}}['_updateLin'+'earLimits'](){const _0xd5cf1a=this['_constrain'+'t'];if(_0xd5cf1a){let _0x2d7c55,_0x5f4127,_0x38b153,_0x1a0b20,_0x1cc75d,_0x5f0268;this['_linearMot'+'ionX']===qa?(_0x2d7c55=this['_linearLim'+'itsX']['x'],_0x1a0b20=this['_linearLim'+'itsX']['y']):this['_linearMot'+'ionX']===Xa?(_0x2d7c55=0x1b8+-0x2*-0x680+-0xeb7,_0x1a0b20=0x2*0x1278+0x2b8+0x4f5*-0x8):_0x2d7c55=_0x1a0b20=-0x240d+-0xbb*0x22+0x1*0x3ce3,this['_linearMot'+'ionY']===qa?(_0x5f4127=this['_linearLim'+'itsY']['x'],_0x1cc75d=this['_linearLim'+'itsY']['y']):this['_linearMot'+'ionY']===Xa?(_0x5f4127=-0xa3d*-0x2+0x4b5*0x2+-0x1de3*0x1,_0x1cc75d=-0x1ff7+0x11b*-0x8+0x1*0x28cf):_0x5f4127=_0x1cc75d=0x4*0x571+0x20eb+-0x36af*0x1,this['_linearMot'+'ionZ']===qa?(_0x38b153=this['_linearLim'+'itsZ']['x'],_0x5f0268=this['_linearLim'+'itsZ']['y']):this['_linearMot'+'ionZ']===Xa?(_0x38b153=0x16f5+-0x10*-0x92+-0x2014,_0x5f0268=0x1*0x1e28+0x20b*0x9+-0x308b):_0x38b153=_0x5f0268=-0x309+-0x1d16+0x3*0xab5;const _0x406636=new Ammo['btVector3'](_0x2d7c55,_0x5f4127,_0x38b153);_0xd5cf1a['setLinearL'+'owerLimit'](_0x406636),_0x406636['setValue'](_0x1a0b20,_0x1cc75d,_0x5f0268),_0xd5cf1a['setLinearU'+'pperLimit'](_0x406636),Ammo['destroy'](_0x406636);}}['_createCon'+'straint'](){if(this['_entityA']&&this['_entityA']['rigidbody']){this['_destroyCo'+'nstraint']();const _0x20b1d5=new te(),_0x4a6548=this['_entityA']['rigidbody']['body'];_0x4a6548['activate']();const _0x3c5311=this['entity']['getWorldTr'+'ansform'](),_0x1ea60b=this['_entityA']['getWorldTr'+'ansform']()['clone']()['invert']();_0x20b1d5['mul2'](_0x1ea60b,_0x3c5311);const _0x149e7e=new Ammo['btTransfor'+'m']();if(this['_convertTr'+'ansform'](_0x20b1d5,_0x149e7e),this['_entityB']&&this['_entityB']['rigidbody']){const _0x25c11f=this['_entityB']['rigidbody']['body'];_0x25c11f['activate']();const _0xf90059=this['_entityB']['getWorldTr'+'ansform']()['clone']()['invert']();_0x20b1d5['mul2'](_0xf90059,_0x3c5311);const _0x3b2427=new Ammo['btTransfor'+'m']();this['_convertTr'+'ansform'](_0x20b1d5,_0x3b2427),this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x4a6548,_0x25c11f,_0x149e7e,_0x3b2427,!this['_enableCol'+'lision']),Ammo['destroy'](_0x3b2427);}else this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x4a6548,_0x149e7e,!this['_enableCol'+'lision']);Ammo['destroy'](_0x149e7e);const _0x20206e=['X','Y','Z','X','Y','Z'];for(let _0x1f9db3=0x2434+-0x999*-0x4+-0x2c*0x1b2;_0x1f9db3<0x1996*0x1+0x6f3*-0x3+-0x11*0x47;_0x1f9db3++){const _0x4ce37c=_0x1f9db3<-0x8*0x3c7+0x4*0x671+0x477?'_linear':'_angular';this['_constrain'+'t']['enableSpri'+'ng'](_0x1f9db3,this[_0x4ce37c+'Spring'+_0x20206e[_0x1f9db3]]),this['_constrain'+'t']['setDamping'](_0x1f9db3,this[_0x4ce37c+'Damping'+_0x20206e[_0x1f9db3]]),this['_constrain'+'t']['setEquilib'+'riumPoint'](_0x1f9db3,this[_0x4ce37c+('Equilibriu'+'m')+_0x20206e[_0x1f9db3]]),this['_constrain'+'t']['setStiffne'+'ss'](_0x1f9db3,this[_0x4ce37c+'Stiffness'+_0x20206e[_0x1f9db3]]);}this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](this['_breakForc'+'e']),this['_updateLin'+'earLimits'](),this['_updateAng'+'ularLimits'](),this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['addConstra'+'int'](this['_constrain'+'t'],!this['_enableCol'+'lision']);}}['_destroyCo'+'nstraint'](){this['_constrain'+'t']&&(this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['removeCons'+'traint'](this['_constrain'+'t']),Ammo['destroy'](this['_constrain'+'t']),this['_constrain'+'t']=null);}['initFromDa'+'ta'](_0x353f70){for(const _0x5e0755 of RR)_0x353f70['hasOwnProp'+'erty'](_0x5e0755)&&(_0x353f70[_0x5e0755]instanceof J?this['_'+_0x5e0755]['copy'](_0x353f70[_0x5e0755]):this['_'+_0x5e0755]=_0x353f70[_0x5e0755]);this['_createCon'+'straint']();}['onEnable'](){this['_createCon'+'straint']();}['onDisable'](){this['_destroyCo'+'nstraint']();}['_onSetEnab'+'led'](_0x4376d8,_0x3b1674,_0x1e2195){}['_onBeforeR'+'emove'](){this['fire']('remove');}}const OR={'Damping':'setDamping','Equilibrium':'setEquilib'+'riumPoint','Spring':'enableSpri'+'ng','Stiffness':'setStiffne'+'ss'};['linear','angular']['forEach'](_0x23cec8=>{['Damping','Equilibriu'+'m','Spring','Stiffness']['forEach'](_0x58faa5=>{['X','Y','Z']['forEach'](_0x281981=>{const _0x4e9cd5=_0x23cec8+_0x58faa5+_0x281981,_0x297c97='_'+_0x4e9cd5;let _0x517cf1=_0x23cec8==='linear'?-0xc2d+0xb3e*-0x2+0x22a9:-0x15d*0x6+0x14c6*0x1+-0xc95;_0x281981==='Y'&&(_0x517cf1+=-0x3bf*-0x2+-0xa8+-0x6d5),_0x281981==='Z'&&(_0x517cf1+=-0xd*-0x233+0x526*0x7+-0xe9*0x47),Object['defineProp'+'erty'](ym['prototype'],_0x4e9cd5,{'get':function(){return this[_0x297c97];},'set':function(_0x2e56ad){this[_0x297c97]!==_0x2e56ad&&(this[_0x297c97]=_0x2e56ad,this['_constrain'+'t'][OR[_0x58faa5]](_0x517cf1,_0x2e56ad));}});});});});class FR{constructor(){this['enabled']=!(0xc0b*-0x3+-0x17be*-0x1+0xc63);}}const Fu=['enabled'];class NR extends ct{constructor(_0x1d7021){super(_0x1d7021),this['id']='joint',this['app']=_0x1d7021,this['ComponentT'+'ype']=ym,this['DataType']=FR,this['schema']=Fu;}['initialize'+'ComponentD'+'ata'](_0x45767b,_0x57dfc9,_0x56b4da){_0x45767b['initFromDa'+'ta'](_0x57dfc9),super['initialize'+'ComponentD'+'ata'](_0x45767b,_0x57dfc9,Fu);}}we['_buildAcce'+'ssors'](ym['prototype'],Fu);class Jv extends we{constructor(){super(...arguments),h(this,'_minWidth',-0x3*0x84e+-0x57a+-0x30a*-0xa),h(this,'_minHeight',0x16cd+-0x1def+-0x2*-0x391),h(this,'_maxWidth',null),h(this,'_maxHeight',null),h(this,'_fitWidthP'+'roportion',-0x2602+-0x358*-0x9+0x7ea),h(this,'_fitHeight'+'Proportion',0xf00+-0x5*-0x3fd+0x22f1*-0x1),h(this,'_excludeFr'+'omLayout',!(0x1*0x14a3+-0x4d4+0x7e7*-0x2));}set['minWidth'](_0x32ed84){_0x32ed84!==this['_minWidth']&&(this['_minWidth']=_0x32ed84,this['fire']('resize'));}get['minWidth'](){return this['_minWidth'];}set['minHeight'](_0x22b250){_0x22b250!==this['_minHeight']&&(this['_minHeight']=_0x22b250,this['fire']('resize'));}get['minHeight'](){return this['_minHeight'];}set['maxWidth'](_0x5422c0){_0x5422c0!==this['_maxWidth']&&(this['_maxWidth']=_0x5422c0,this['fire']('resize'));}get['maxWidth'](){return this['_maxWidth'];}set['maxHeight'](_0x4b34d8){_0x4b34d8!==this['_maxHeight']&&(this['_maxHeight']=_0x4b34d8,this['fire']('resize'));}get['maxHeight'](){return this['_maxHeight'];}set['fitWidthPr'+'oportion'](_0x482f56){_0x482f56!==this['_fitWidthP'+'roportion']&&(this['_fitWidthP'+'roportion']=_0x482f56,this['fire']('resize'));}get['fitWidthPr'+'oportion'](){return this['_fitWidthP'+'roportion'];}set['fitHeightP'+'roportion'](_0x2fd58d){_0x2fd58d!==this['_fitHeight'+'Proportion']&&(this['_fitHeight'+'Proportion']=_0x2fd58d,this['fire']('resize'));}get['fitHeightP'+'roportion'](){return this['_fitHeight'+'Proportion'];}set['excludeFro'+'mLayout'](_0x22c45b){_0x22c45b!==this['_excludeFr'+'omLayout']&&(this['_excludeFr'+'omLayout']=_0x22c45b,this['fire']('resize'));}get['excludeFro'+'mLayout'](){return this['_excludeFr'+'omLayout'];}}class kR{constructor(){this['enabled']=!(0x1ea6+0x10d*0xf+-0x2e69);}}const e0=['enabled'];class UR extends ct{constructor(_0x4a3943){super(_0x4a3943),this['id']='layoutchil'+'d',this['ComponentT'+'ype']=Jv,this['DataType']=kR,this['schema']=e0;}['initialize'+'ComponentD'+'ata'](_0x45c698,_0x183d9c,_0x1bfc16){_0x183d9c['enabled']!==void(0x179*0xd+-0xebe+-0x467)&&(_0x45c698['enabled']=_0x183d9c['enabled']),_0x183d9c['minWidth']!==void(0x1d1f+0x1033+-0x2*0x16a9)&&(_0x45c698['minWidth']=_0x183d9c['minWidth']),_0x183d9c['minHeight']!==void(0x184*-0x5+0x1*0x2d+0x1*0x767)&&(_0x45c698['minHeight']=_0x183d9c['minHeight']),_0x183d9c['maxWidth']!==void(0x5*-0x1d3+0x1ea6+-0x1587)&&(_0x45c698['maxWidth']=_0x183d9c['maxWidth']),_0x183d9c['maxHeight']!==void(0x14af+-0x3b*0x23+-0xc9e)&&(_0x45c698['maxHeight']=_0x183d9c['maxHeight']),_0x183d9c['fitWidthPr'+'oportion']!==void(-0x2*0x7e2+0x2322+-0x135e*0x1)&&(_0x45c698['fitWidthPr'+'oportion']=_0x183d9c['fitWidthPr'+'oportion']),_0x183d9c['fitHeightP'+'roportion']!==void(0x1f94+0x1*-0x174d+-0x847)&&(_0x45c698['fitHeightP'+'roportion']=_0x183d9c['fitHeightP'+'roportion']),_0x183d9c['excludeFro'+'mLayout']!==void(0x1f35+-0x26ef+0x7ba)&&(_0x45c698['excludeFro'+'mLayout']=_0x183d9c['excludeFro'+'mLayout']),super['initialize'+'ComponentD'+'ata'](_0x45c698,_0x183d9c,_0x1bfc16);}['cloneCompo'+'nent'](_0x1b90e5,_0x5729ff){const _0x1f6fe9=_0x1b90e5['layoutchil'+'d'];return this['addCompone'+'nt'](_0x5729ff,{'enabled':_0x1f6fe9['enabled'],'minWidth':_0x1f6fe9['minWidth'],'minHeight':_0x1f6fe9['minHeight'],'maxWidth':_0x1f6fe9['maxWidth'],'maxHeight':_0x1f6fe9['maxHeight'],'fitWidthProportion':_0x1f6fe9['fitWidthPr'+'oportion'],'fitHeightProportion':_0x1f6fe9['fitHeightP'+'roportion'],'excludeFromLayout':_0x1f6fe9['excludeFro'+'mLayout']});}}we['_buildAcce'+'ssors'](Jv['prototype'],e0);const Nu=-0x2615+0x17eb+0x31*0x4a,BR=0x14a7+-0x1fd+0x1*-0x12a9,Qg=0x18*-0x94+0xdb1+0x31,zR=0x15*0xc7+-0x8*0x12b+-0x37c*0x2,Oh={};Oh[Ce]={'axis':'x','size':'width','calculatedSize':'calculated'+'Width','minSize':'minWidth','maxSize':'maxWidth','fitting':'widthFitti'+'ng','fittingProportion':'fitWidthPr'+'oportion'},Oh[je]={'axis':'y','size':'height','calculatedSize':'calculated'+'Height','minSize':'minHeight','maxSize':'maxHeight','fitting':'heightFitt'+'ing','fittingProportion':'fitHeightP'+'roportion'};const vm={};vm[Ce]=je,vm[je]=Ce;const VR={'minWidth':0x0,'minHeight':0x0,'maxWidth':Number['POSITIVE_I'+'NFINITY'],'maxHeight':Number['POSITIVE_I'+'NFINITY'],'width':null,'height':null,'fitWidthProportion':0x0,'fitHeightProportion':0x0},os={'NONE':'NONE','APPLY_STRETCHING':'APPLY_STRE'+'TCHING','APPLY_SHRINKING':'APPLY_SHRI'+'NKING'},ls=new J();function t0(_0x2ab40f){let _0x4ec22f;const _0x35e365=Oh[_0x2ab40f],_0x3871c2=Oh[vm[_0x2ab40f]];function _0x1eb56e(_0x1d184e,_0x2452fe){return-_0x2452fe[_0x35e365['size']]*_0x1d184e['pivot'][_0x35e365['axis']];}function _0x396d84(_0x16a6de,_0x369aac){return-_0x369aac[_0x3871c2['size']]*_0x16a6de['pivot'][_0x3871c2['axis']];}function _0x592896(_0x441742,_0x4970cd){return _0x4970cd[_0x35e365['size']]*(0x1*0x1bf7+-0x1*0xc75+-0x52b*0x3-_0x441742['pivot'][_0x35e365['axis']]);}function _0x416155(_0x497148,_0x10d494){_0x497148=_0x497148['filter'](_0x3368be),_0x4ec22f=_0x10d494,ls['x']=_0x4ec22f['containerS'+'ize']['x']-_0x4ec22f['padding']['x']-_0x4ec22f['padding']['z'],ls['y']=_0x4ec22f['containerS'+'ize']['y']-_0x4ec22f['padding']['y']-_0x4ec22f['padding']['w'],_0x35eefc(_0x497148);const _0x408704=_0x32b87e(_0x35d139(_0x497148)),_0x404386=_0x4d9b52(_0x408704,_0xeb9cae(_0x408704)),_0x10ba22=_0x5bd57b(_0x408704,_0x404386);return _0x334c51(_0x408704,_0x404386,_0x10ba22),_0x13a835(_0x408704,_0x404386,_0x10ba22),_0x405512(_0x408704);}function _0x3368be(_0x499557){const _0x17389f=_0x499557['entity']['layoutchil'+'d'];return!_0x17389f||!_0x17389f['enabled']||!_0x17389f['excludeFro'+'mLayout'];}function _0x35eefc(_0x1f3b18){for(let _0xe8dea2=0x1072+-0xcd0+0x9b*-0x6;_0xe8dea2<_0x1f3b18['length'];++_0xe8dea2){const _0x8d1d53=_0x1f3b18[_0xe8dea2],_0x458d00=_0x8d1d53['anchor'];(_0x458d00['x']!==0xe*-0x4a+0x133*0xb+0x925*-0x1||_0x458d00['y']!==-0x2*0x1251+0xda*-0xb+0x20*0x170||_0x458d00['z']!==0x1d88+-0x4*0xc5+-0x1a74||_0x458d00['w']!==0x2*0x815+-0x1*0x643+-0x3*0x34d)&&(_0x8d1d53['anchor']=re['ZERO']);}}function _0x35d139(_0x548489){if(!_0x4ec22f['wrap'])return[_0x548489];const _0x20e8da=[[]],_0x34ae3d=_0x186c13(_0x548489);let _0x7bd936=-0x181e+-0x15b7+-0xf47*-0x3;const _0x1cf4f3=_0x4ec22f[_0x35e365['fitting']]===Qg;for(let _0x2421ad=-0x6bd+0x43*-0x25+0x106c;_0x2421ad<_0x548489['length'];++_0x2421ad){_0x20e8da[_0x20e8da['length']-(-0x82*-0x3+0x1c42+0x63*-0x4d)]['length']>0x175+0x5c*0x17+0x83*-0x13&&(_0x7bd936+=_0x4ec22f['spacing'][_0x35e365['axis']]);const _0x1ae692=_0x34ae3d[_0x2421ad][_0x35e365['size']];_0x7bd936+=_0x1ae692,!_0x1cf4f3&&_0x7bd936>ls[_0x35e365['axis']]&&_0x20e8da[_0x20e8da['length']-(-0x19d*-0xd+-0x1ee2+0x9ea)]['length']!==-0x31*-0x59+0xcf*-0x15+-0xe&&(_0x7bd936=_0x1ae692,_0x20e8da['push']([])),_0x20e8da[_0x20e8da['length']-(0x2c6+-0x32*0x7f+0x1609)]['push'](_0x548489[_0x2421ad]),_0x1cf4f3&&_0x7bd936>ls[_0x35e365['axis']]&&_0x2421ad!==_0x548489['length']-(-0x773*0x5+0x1*0x2d1+0x226f)&&(_0x7bd936=0x1295+0x4aa+-0x173f,_0x20e8da['push']([]));}return _0x20e8da;}function _0x32b87e(_0x5565c2){const _0x3d9f7a=_0x4ec22f['orientatio'+'n']===Ce&&_0x4ec22f['reverseX']||_0x4ec22f['orientatio'+'n']===je&&_0x4ec22f['reverseY'],_0x2bf043=_0x4ec22f['orientatio'+'n']===Ce&&_0x4ec22f['reverseY']||_0x4ec22f['orientatio'+'n']===je&&_0x4ec22f['reverseX'];if(_0x3d9f7a){for(let _0x155056=0x1964+-0xe95*0x2+0x3c6;_0x155056<_0x5565c2['length'];++_0x155056)_0x3d9f7a&&_0x5565c2[_0x155056]['reverse']();}return _0x2bf043&&_0x5565c2['reverse'](),_0x5565c2;}function _0xeb9cae(_0x47e458){const _0x566a21=[];for(let _0x53209a=0x11*-0xca+-0x2417+-0x1b5*-0x1d;_0x53209a<_0x47e458['length'];++_0x53209a){const _0x153c0d=_0x47e458[_0x53209a],_0x28dd54=_0x186c13(_0x153c0d),_0x355e34=_0x150477(_0x28dd54,_0x35e365),_0x1e4ffb=_0x3a8032(_0x4ec22f[_0x35e365['fitting']],_0x355e34,ls[_0x35e365['axis']]);_0x1e4ffb===os['APPLY_STRE'+'TCHING']?_0x42662b(_0x28dd54,_0x355e34,_0x35e365):_0x1e4ffb===os['APPLY_SHRI'+'NKING']&&_0x424950(_0x28dd54,_0x355e34,_0x35e365),_0x566a21['push'](_0x28dd54);}return _0x566a21;}function _0x4d9b52(_0x451b47,_0x5c5310){const _0x323298=[],_0x351b29=[];for(let _0x2cf8b4=-0x2*-0xb27+-0x11a5*-0x1+-0x27f3;_0x2cf8b4<_0x451b47['length'];++_0x2cf8b4){const _0x461b0a=_0x451b47[_0x2cf8b4];_0x461b0a['largestEle'+'ment']=null,_0x461b0a['largestSiz'+'e']={'width':Number['NEGATIVE_I'+'NFINITY'],'height':Number['NEGATIVE_I'+'NFINITY']};for(let _0x1ec5a2=-0x1*-0x448+-0x112b+-0xce3*-0x1;_0x1ec5a2<_0x461b0a['length'];++_0x1ec5a2){const _0x2ea05d=_0x5c5310[_0x2cf8b4][_0x1ec5a2];_0x2ea05d[_0x3871c2['size']]>_0x461b0a['largestSiz'+'e'][_0x3871c2['size']]&&(_0x461b0a['largestEle'+'ment']=_0x461b0a[_0x1ec5a2],_0x461b0a['largestSiz'+'e']=_0x2ea05d);}_0x323298['push'](_0x461b0a['largestEle'+'ment']),_0x351b29['push'](_0x461b0a['largestSiz'+'e']);}const _0x24f148=_0x150477(_0x351b29,_0x3871c2),_0x42c06d=_0x3a8032(_0x4ec22f[_0x3871c2['fitting']],_0x24f148,ls[_0x3871c2['axis']]);_0x42c06d===os['APPLY_STRE'+'TCHING']?_0x42662b(_0x351b29,_0x24f148,_0x3871c2):_0x42c06d===os['APPLY_SHRI'+'NKING']&&_0x424950(_0x351b29,_0x24f148,_0x3871c2);for(let _0x222bba=0x337*0x3+-0x214c+0x17a7;_0x222bba<_0x451b47['length'];++_0x222bba){const _0x342672=_0x451b47[_0x222bba];for(let _0xb6ac4a=0x2322+0x1*0xf47+-0x91*0x59;_0xb6ac4a<_0x342672['length'];++_0xb6ac4a){const _0x4d10a6=_0x5c5310[_0x222bba][_0xb6ac4a],_0x510bea=_0x4d10a6[_0x3871c2['size']],_0x3331a5=_0x451b47['length']===-0x199*0x4+0xeea+-0x885?ls[_0x3871c2['axis']]:_0x342672['largestSiz'+'e'][_0x3871c2['size']],_0x2af8eb=_0x3a8032(_0x4ec22f[_0x3871c2['fitting']],_0x510bea,_0x3331a5);_0x2af8eb===os['APPLY_STRE'+'TCHING']?_0x4d10a6[_0x3871c2['size']]=Math['min'](_0x3331a5,_0x4d10a6[_0x3871c2['maxSize']]):_0x2af8eb===os['APPLY_SHRI'+'NKING']&&(_0x4d10a6[_0x3871c2['size']]=Math['max'](_0x3331a5,_0x4d10a6[_0x3871c2['minSize']]));}}return _0x5c5310;}function _0x3a8032(_0x440205,_0x190c0a,_0x5f2fbf){switch(_0x440205){case Nu:return os['NONE'];case BR:return _0x190c0a<_0x5f2fbf?os['APPLY_STRE'+'TCHING']:os['NONE'];case Qg:return _0x190c0a>=_0x5f2fbf?os['APPLY_SHRI'+'NKING']:os['NONE'];case zR:return _0x190c0a<_0x5f2fbf?os['APPLY_STRE'+'TCHING']:os['APPLY_SHRI'+'NKING'];default:throw new Error('Unrecogniz'+'ed\x20fitting'+'\x20mode:\x20'+_0x440205);}}function _0x150477(_0x4b496a,_0x1559f5){const _0x582862=_0x2a1070(_0x4b496a,_0x1559f5['size']),_0x487a6b=(_0x4b496a['length']-(-0x1e5*0xe+-0x161*-0x3+0x599*0x4))*_0x4ec22f['spacing'][_0x1559f5['axis']];return _0x582862+_0x487a6b;}function _0x42662b(_0x1aaf34,_0x1f4698,_0x570a06){const _0x124b78=_0x3b28b7(_0x1aaf34,_0x570a06['maxSize']),_0x2279a2=_0x2fae97(_0x1aaf34,_0x570a06['fittingPro'+'portion']),_0x1cc217=_0x26a290(_0x2279a2,_0x124b78);let _0x111bc8=ls[_0x570a06['axis']]-_0x1f4698;for(let _0x5115a0=0xd66+-0x1*-0xf73+0xd3*-0x23;_0x5115a0<_0x1aaf34['length'];++_0x5115a0){const _0x3c3b88=_0x124b78[_0x5115a0],_0x4040e3=_0xb07ea5(_0x3c3b88,_0x111bc8,_0x2279a2,_0x1cc217),_0x877226=_0x1aaf34[_0x3c3b88][_0x570a06['size']]+_0x4040e3,_0x5d8d72=_0x1aaf34[_0x3c3b88][_0x570a06['maxSize']],_0x36fff2=Math['min'](_0x877226,_0x5d8d72);_0x1aaf34[_0x3c3b88][_0x570a06['size']]=_0x36fff2;const _0x49dd5c=Math['max'](_0x877226-_0x36fff2,-0x1e5b*0x1+-0x1b99*0x1+-0x39f4*-0x1),_0x138dde=_0x4040e3-_0x49dd5c;_0x111bc8-=_0x138dde;}}function _0x424950(_0x498c47,_0x2d6057,_0x349a97){const _0x14895c=_0x3b28b7(_0x498c47,_0x349a97['minSize'],!(-0x1d54+-0x227c+0x8*0x7fa)),_0x7a3e1b=_0x2fae97(_0x498c47,_0x349a97['fittingPro'+'portion']),_0x298740=_0x30ca8b(_0x7a3e1b),_0x283c49=_0x26a290(_0x298740,_0x14895c);let _0x3a5875=_0x2d6057-ls[_0x349a97['axis']];for(let _0x37cca8=-0x148a+0xb68+0x922;_0x37cca8<_0x498c47['length'];++_0x37cca8){const _0x218878=_0x14895c[_0x37cca8],_0x5a937a=_0xb07ea5(_0x218878,_0x3a5875,_0x298740,_0x283c49),_0x3aa695=_0x498c47[_0x218878][_0x349a97['size']]-_0x5a937a,_0x2f3c53=_0x498c47[_0x218878][_0x349a97['minSize']],_0x5ed461=Math['max'](_0x3aa695,_0x2f3c53);_0x498c47[_0x218878][_0x349a97['size']]=_0x5ed461;const _0x3189cc=Math['max'](_0x5ed461-_0x3aa695,0x1*-0x85d+-0x21da+-0x65*-0x6b),_0x4215b0=_0x5a937a-_0x3189cc;_0x3a5875-=_0x4215b0;}}function _0xb07ea5(_0x931c09,_0x4f41bb,_0x52b660,_0x4cfd65){const _0x45e4a9=_0x52b660[_0x931c09],_0x808a83=_0x4cfd65[_0x931c09];return Math['abs'](_0x45e4a9)<0x99+-0x1d6+-0x1*-0x13d+0.00001&&Math['abs'](_0x808a83)<-0x87d*0x2+-0x12ba+-0x5*-0x724+0.00001?_0x4f41bb:_0x4f41bb*_0x45e4a9/_0x808a83;}function _0x5bd57b(_0x4428f1,_0x73b088){const _0x1da06d={};_0x1da06d[_0x35e365['axis']]=-0x291+0x10e2+-0x5*0x2dd,_0x1da06d[_0x3871c2['axis']]=-0x5*-0x54a+0x2bd*-0x5+-0xcc1,_0x4428f1[_0x35e365['size']]=Number['NEGATIVE_I'+'NFINITY'];const _0x1b71da=[];for(let _0x44cb9b=0x1975+0x6b1+-0x2*0x1013;_0x44cb9b<_0x4428f1['length'];++_0x44cb9b){const _0x2ba24f=_0x4428f1[_0x44cb9b];if(_0x2ba24f['length']===-0x69d+-0x305*-0xc+-0x1d9f){_0x1b71da['push']([]);continue;}const _0x588340=[],_0x59548e=_0x73b088[_0x44cb9b];for(let _0x4c27b0=-0x10a4+0x35*0x23+0x965;_0x4c27b0<_0x2ba24f['length'];++_0x4c27b0){const _0xa273ec=_0x2ba24f[_0x4c27b0],_0x4f4b0a=_0x59548e[_0x4c27b0];_0x1da06d[_0x3871c2['axis']]-=_0x396d84(_0xa273ec,_0x4f4b0a),_0x1da06d[_0x35e365['axis']]-=_0x1eb56e(_0xa273ec,_0x4f4b0a),_0x588340[_0x4c27b0]={},_0x588340[_0x4c27b0][_0x35e365['axis']]=_0x1da06d[_0x35e365['axis']],_0x588340[_0x4c27b0][_0x3871c2['axis']]=_0x1da06d[_0x3871c2['axis']],_0x1da06d[_0x3871c2['axis']]+=_0x396d84(_0xa273ec,_0x4f4b0a),_0x1da06d[_0x35e365['axis']]+=_0x592896(_0xa273ec,_0x4f4b0a)+_0x4ec22f['spacing'][_0x35e365['axis']];}_0x2ba24f[_0x35e365['size']]=_0x1da06d[_0x35e365['axis']]-_0x4ec22f['spacing'][_0x35e365['axis']],_0x2ba24f[_0x3871c2['size']]=_0x2ba24f['largestSiz'+'e'][_0x3871c2['size']],_0x4428f1[_0x35e365['size']]=Math['max'](_0x4428f1[_0x35e365['size']],_0x2ba24f[_0x35e365['size']]),_0x1da06d[_0x35e365['axis']]=-0x1e86+-0x2*-0x803+-0x10*-0xe8,_0x1da06d[_0x3871c2['axis']]+=_0x2ba24f[_0x3871c2['size']]+_0x4ec22f['spacing'][_0x3871c2['axis']],_0x1b71da['push'](_0x588340);}return _0x4428f1[_0x3871c2['size']]=_0x1da06d[_0x3871c2['axis']]-_0x4ec22f['spacing'][_0x3871c2['axis']],_0x1b71da;}function _0x334c51(_0x2bc95a,_0x147799,_0x3db8b7){const _0x2f5c0f=_0x4ec22f['alignment'][_0x35e365['axis']],_0xd5fe8=_0x4ec22f['alignment'][_0x3871c2['axis']],_0xec3ce4=_0x4ec22f['padding'][_0x35e365['axis']],_0x545e63=_0x4ec22f['padding'][_0x3871c2['axis']];for(let _0x4dffe2=0x1d3a+0x7*-0x3f7+-0x179*0x1;_0x4dffe2<_0x2bc95a['length'];++_0x4dffe2){const _0xb3e9ce=_0x2bc95a[_0x4dffe2],_0x55c330=_0x147799[_0x4dffe2],_0x10a064=_0x3db8b7[_0x4dffe2],_0x18005b=(ls[_0x35e365['axis']]-_0xb3e9ce[_0x35e365['size']])*_0x2f5c0f+_0xec3ce4,_0x509803=(ls[_0x3871c2['axis']]-_0x2bc95a[_0x3871c2['size']])*_0xd5fe8+_0x545e63;for(let _0x566848=0xba5+0x28*-0x74+0x67b;_0x566848<_0xb3e9ce['length'];++_0x566848){const _0x552928=(_0xb3e9ce[_0x3871c2['size']]-_0x55c330[_0x566848][_0x3871c2['size']])*_0x4ec22f['alignment'][_0x3871c2['axis']];_0x10a064[_0x566848][_0x35e365['axis']]+=_0x18005b,_0x10a064[_0x566848][_0x3871c2['axis']]+=_0x509803+_0x552928;}}}function _0x13a835(_0x5cf7ce,_0x4f2a64,_0x44f157){for(let _0x5bf30b=0x1*-0x125b+0xe57*-0x2+0x2f09;_0x5bf30b<_0x5cf7ce['length'];++_0x5bf30b){const _0x1746b4=_0x5cf7ce[_0x5bf30b],_0x2e82c0=_0x4f2a64[_0x5bf30b],_0x16bb74=_0x44f157[_0x5bf30b];for(let _0x2ae552=0xb4*-0x9+-0x270b+-0x5*-0x913;_0x2ae552<_0x1746b4['length'];++_0x2ae552){const _0x345f20=_0x1746b4[_0x2ae552];_0x345f20[_0x35e365['calculated'+'Size']]=_0x2e82c0[_0x2ae552][_0x35e365['size']],_0x345f20[_0x3871c2['calculated'+'Size']]=_0x2e82c0[_0x2ae552][_0x3871c2['size']],_0x4ec22f['orientatio'+'n']===Ce?_0x345f20['entity']['setLocalPo'+'sition'](_0x16bb74[_0x2ae552][_0x35e365['axis']],_0x16bb74[_0x2ae552][_0x3871c2['axis']],_0x345f20['entity']['getLocalPo'+'sition']()['z']):_0x345f20['entity']['setLocalPo'+'sition'](_0x16bb74[_0x2ae552][_0x3871c2['axis']],_0x16bb74[_0x2ae552][_0x35e365['axis']],_0x345f20['entity']['getLocalPo'+'sition']()['z']);}}}function _0x405512(_0x2d605a){const _0x480c29=_0x2d605a['width'],_0x536058=_0x2d605a['height'],_0xbb8646=(ls['x']-_0x480c29)*_0x4ec22f['alignment']['x']+_0x4ec22f['padding']['x'],_0x8c2fb2=(ls['y']-_0x536058)*_0x4ec22f['alignment']['y']+_0x4ec22f['padding']['y'];return{'bounds':new re(_0xbb8646,_0x8c2fb2,_0x480c29,_0x536058)};}function _0x186c13(_0x3de8ad){const _0x536d34=[];for(let _0x55a8e1=-0x16c2+0x8ef+0xdd3;_0x55a8e1<_0x3de8ad['length'];++_0x55a8e1){const _0x586129=_0x3de8ad[_0x55a8e1],_0x2884a7=Math['max'](_0x30007c(_0x586129,'minWidth'),-0x116c*-0x1+-0x1d82*0x1+0xc16),_0x31edd5=Math['max'](_0x30007c(_0x586129,'minHeight'),0x2229+0x26*-0xe3+-0x77),_0x3155bf=Math['max'](_0x30007c(_0x586129,'maxWidth'),_0x2884a7),_0x37f21d=Math['max'](_0x30007c(_0x586129,'maxHeight'),_0x31edd5),_0x52869c=_0x38cb90(_0x30007c(_0x586129,'width'),_0x2884a7,_0x3155bf),_0x2a5555=_0x38cb90(_0x30007c(_0x586129,'height'),_0x31edd5,_0x37f21d),_0x2b8d9e=_0x30007c(_0x586129,'fitWidthPr'+'oportion'),_0x352d0e=_0x30007c(_0x586129,'fitHeightP'+'roportion');_0x536d34['push']({'minWidth':_0x2884a7,'minHeight':_0x31edd5,'maxWidth':_0x3155bf,'maxHeight':_0x37f21d,'width':_0x52869c,'height':_0x2a5555,'fitWidthProportion':_0x2b8d9e,'fitHeightProportion':_0x352d0e});}return _0x536d34;}function _0x30007c(_0x1bb38f,_0x3a1ac5){const _0x416d0e=_0x1bb38f['entity']['layoutchil'+'d'];return _0x416d0e&&_0x416d0e['enabled']&&_0x416d0e[_0x3a1ac5]!==void(0x1904+0x1*0x1806+0x2*-0x1885)&&_0x416d0e[_0x3a1ac5]!==null?_0x416d0e[_0x3a1ac5]:_0x1bb38f[_0x3a1ac5]!==void(0x17d8+0xc7a*-0x2+-0x2*-0x8e)?_0x1bb38f[_0x3a1ac5]:VR[_0x3a1ac5];}function _0x38cb90(_0x2953da,_0x9fc34e,_0x5a6051){return Math['min'](Math['max'](_0x2953da,_0x9fc34e),_0x5a6051);}function _0x2a1070(_0x57ac09,_0x5e8db4){return _0x57ac09['reduce']((_0x4af2f6,_0x3aa820)=>_0x4af2f6+_0x3aa820[_0x5e8db4],-0x4d*0x56+-0x2577+0x3f55);}function _0x2fae97(_0x2eabe1,_0x8dfe63){const _0x16113d=_0x2a1070(_0x2eabe1,_0x8dfe63),_0x33309a=[],_0x279da2=_0x2eabe1['length'];if(_0x16113d===0x23c1+-0x15ae+-0xe13){for(let _0x12bc8f=-0x2664+-0x1afb+0x415f;_0x12bc8f<_0x279da2;++_0x12bc8f)_0x33309a['push']((-0x1bfb*-0x1+0x973+-0x256d)/_0x279da2);}else{for(let _0x25c892=-0x1*-0x2309+0x146d*-0x1+-0xe9c;_0x25c892<_0x279da2;++_0x25c892)_0x33309a['push'](_0x2eabe1[_0x25c892][_0x8dfe63]/_0x16113d);}return _0x33309a;}function _0x30ca8b(_0x463348){if(_0x463348['length']===-0x1*0x1454+-0x13be+0x2813*0x1)return[0x4*-0x5de+-0x10d9+0x2852];const _0x3363d2=[],_0x43e2f8=_0x463348['length'];for(let _0x2455b7=-0x2667*-0x1+0x4*-0x512+-0x121f;_0x2455b7<_0x43e2f8;++_0x2455b7)_0x3363d2['push']((0x11e5*-0x1+0x12ac*-0x2+-0x1b9f*-0x2-_0x463348[_0x2455b7])/(_0x43e2f8-(-0x2*0x1186+-0x1*0x1918+-0xad*-0x59)));return _0x3363d2;}function _0x3b28b7(_0x57ae01,_0x2ff679,_0x5a08e9){return _0x57ae01['forEach'](_0x27e3ba),_0x57ae01['slice']()['sort']((_0x4adb18,_0x30afc2)=>_0x5a08e9?_0x30afc2[_0x2ff679]-_0x4adb18[_0x2ff679]:_0x4adb18[_0x2ff679]-_0x30afc2[_0x2ff679])['map'](_0x460ec2);}function _0x27e3ba(_0x9c8a47,_0x2dfa00){_0x9c8a47['index']=_0x2dfa00;}function _0x460ec2(_0x263669){return _0x263669['index'];}function _0x26a290(_0x2fb4bb,_0x4a94d8){const _0x536ae4=[];_0x536ae4[_0x4a94d8[_0x2fb4bb['length']-(-0x7fa+0x1f6b+-0x14*0x12c)]]=_0x2fb4bb[_0x4a94d8[_0x2fb4bb['length']-(-0x839*0x1+0x4f*0x57+-0x3*0x635)]];for(let _0x4e17c2=_0x2fb4bb['length']-(-0x519*0x6+-0x7*-0x1bf+-0x125f*-0x1);_0x4e17c2>=0xdca+0x2ce*0x4+-0x856*0x3;--_0x4e17c2)_0x536ae4[_0x4a94d8[_0x4e17c2]]=_0x536ae4[_0x4a94d8[_0x4e17c2+(-0x5*-0x6ec+0x1ced+-0x3f88)]]+_0x2fb4bb[_0x4a94d8[_0x4e17c2]];return _0x536ae4;}return _0x416155;}const xm={};xm[Ce]=t0(Ce),xm[je]=t0(je);class GR{['calculateL'+'ayout'](_0x1d08cd,_0x33afdd){const _0x2b7e47=xm[_0x33afdd['orientatio'+'n']];if(_0x2b7e47)return _0x2b7e47(_0x1d08cd,_0x33afdd);throw new Error('Unrecogniz'+'ed\x20orienta'+'tion\x20value'+':\x20'+_0x33afdd['orientatio'+'n']);}}function Jg(_0x3c04b0){return _0x3c04b0['element'];}function HR(_0x4e7853){return _0x4e7853['enabled']&&_0x4e7853['element']&&_0x4e7853['element']['enabled'];}class s0 extends we{constructor(_0x44fff7,_0x34ccd6){super(_0x44fff7,_0x34ccd6),h(this,'_orientati'+'on',Ce),h(this,'_reverseX',!(-0x1ccf+0x2305*-0x1+0x3fd5)),h(this,'_reverseY',!(0xb56+-0x20f*0x5+-0x10b)),h(this,'_alignment',new J(0x6c5*0x1+0x347*-0x8+0x1*0x1373,0x729+-0x1c83+0x155b)),h(this,'_padding',new re()),h(this,'_spacing',new J()),h(this,'_widthFitt'+'ing',Nu),h(this,'_heightFit'+'ting',Nu),h(this,'_wrap',!(0x25ee*0x1+-0x8ac+0x1*-0x1d41)),h(this,'_layoutCal'+'culator',new GR()),(this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'on'),this['entity']['children']['forEach'](_0x47fb3c=>{this['_listenFor'+'ReflowEven'+'ts'](_0x47fb3c,'on');}),this['entity']['on']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['on']('childremov'+'e',this['_onChildRe'+'move'],this),w['assert'](_0x44fff7['app']['systems']['element'],'System\x20\x27el'+'ement\x27\x20doe'+'sn\x27t\x20exist'),_0x44fff7['app']['systems']['element']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x44fff7['app']['systems']['element']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),w['assert'](_0x44fff7['app']['systems']['layoutchil'+'d'],'System\x20\x27la'+'youtchild\x27'+'\x20doesn\x27t\x20e'+'xist'),_0x44fff7['app']['systems']['layoutchil'+'d']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x44fff7['app']['systems']['layoutchil'+'d']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this));}set['orientatio'+'n'](_0x158245){_0x158245!==this['_orientati'+'on']&&(this['_orientati'+'on']=_0x158245,this['_scheduleR'+'eflow']());}get['orientatio'+'n'](){return this['_orientati'+'on'];}set['reverseX'](_0x57d504){_0x57d504!==this['_reverseX']&&(this['_reverseX']=_0x57d504,this['_scheduleR'+'eflow']());}get['reverseX'](){return this['_reverseX'];}set['reverseY'](_0x425f72){_0x425f72!==this['_reverseY']&&(this['_reverseY']=_0x425f72,this['_scheduleR'+'eflow']());}get['reverseY'](){return this['_reverseY'];}set['alignment'](_0x5afef5){_0x5afef5['equals'](this['_alignment'])||(this['_alignment']['copy'](_0x5afef5),this['_scheduleR'+'eflow']());}get['alignment'](){return this['_alignment'];}set['padding'](_0x46bf98){_0x46bf98['equals'](this['_padding'])||(this['_padding']['copy'](_0x46bf98),this['_scheduleR'+'eflow']());}get['padding'](){return this['_padding'];}set['spacing'](_0x4d2032){_0x4d2032['equals'](this['_spacing'])||(this['_spacing']['copy'](_0x4d2032),this['_scheduleR'+'eflow']());}get['spacing'](){return this['_spacing'];}set['widthFitti'+'ng'](_0x3e3e91){_0x3e3e91!==this['_widthFitt'+'ing']&&(this['_widthFitt'+'ing']=_0x3e3e91,this['_scheduleR'+'eflow']());}get['widthFitti'+'ng'](){return this['_widthFitt'+'ing'];}set['heightFitt'+'ing'](_0x36c460){_0x36c460!==this['_heightFit'+'ting']&&(this['_heightFit'+'ting']=_0x36c460,this['_scheduleR'+'eflow']());}get['heightFitt'+'ing'](){return this['_heightFit'+'ting'];}set['wrap'](_0x962ff5){_0x962ff5!==this['_wrap']&&(this['_wrap']=_0x962ff5,this['_scheduleR'+'eflow']());}get['wrap'](){return this['_wrap'];}['_isSelfOrC'+'hild'](_0x4e6462){return _0x4e6462===this['entity']||this['entity']['children']['indexOf'](_0x4e6462)!==-(0x21d*0xd+-0xd4*-0x7+-0x2144);}['_listenFor'+'ReflowEven'+'ts'](_0x33fbb0,_0x475a81){_0x33fbb0['element']&&(_0x33fbb0['element'][_0x475a81]('enableelem'+'ent',this['_scheduleR'+'eflow'],this),_0x33fbb0['element'][_0x475a81]('disableele'+'ment',this['_scheduleR'+'eflow'],this),_0x33fbb0['element'][_0x475a81]('resize',this['_scheduleR'+'eflow'],this),_0x33fbb0['element'][_0x475a81]('set:pivot',this['_scheduleR'+'eflow'],this)),_0x33fbb0['layoutchil'+'d']&&(_0x33fbb0['layoutchil'+'d'][_0x475a81]('set_enable'+'d',this['_scheduleR'+'eflow'],this),_0x33fbb0['layoutchil'+'d'][_0x475a81]('resize',this['_scheduleR'+'eflow'],this));}['_onElement'+'OrLayoutCo'+'mponentAdd'](_0x277bc9){this['_isSelfOrC'+'hild'](_0x277bc9)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x277bc9,'on'),this['_scheduleR'+'eflow']());}['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'](_0x56c6b2){this['_isSelfOrC'+'hild'](_0x56c6b2)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x56c6b2,'off'),this['_scheduleR'+'eflow']());}['_onChildIn'+'sert'](_0x372ee4){this['_listenFor'+'ReflowEven'+'ts'](_0x372ee4,'on'),this['_scheduleR'+'eflow']();}['_onChildRe'+'move'](_0x466c34){this['_listenFor'+'ReflowEven'+'ts'](_0x466c34,'off'),this['_scheduleR'+'eflow']();}['_scheduleR'+'eflow'](){this['enabled']&&this['entity']&&this['entity']['enabled']&&!this['_isPerform'+'ingReflow']&&this['system']['scheduleRe'+'flow'](this);}['reflow'](){const _0x91a088=Jg(this['entity']),_0x226158=this['entity']['children']['filter'](HR)['map'](Jg);if(!_0x91a088||_0x226158['length']===-0x2a4+-0x1*-0x254b+0x22a7*-0x1)return;const _0x5c8ddb=Math['max'](_0x91a088['calculated'+'Width'],-0x1*0x171d+0x58a*0x1+0x1193),_0x2c8c3e=Math['max'](_0x91a088['calculated'+'Height'],0x1e9e*0x1+-0x1c45+-0x259),_0x4f22cb={'orientation':this['_orientati'+'on'],'reverseX':this['_reverseX'],'reverseY':this['_reverseY'],'alignment':this['_alignment'],'padding':this['_padding'],'spacing':this['_spacing'],'widthFitting':this['_widthFitt'+'ing'],'heightFitting':this['_heightFit'+'ting'],'wrap':this['_wrap'],'containerSize':new J(_0x5c8ddb,_0x2c8c3e)};this['_isPerform'+'ingReflow']=!(0xdf*0x1+0x1bf4+-0x1cd3);const _0x47304a=this['_layoutCal'+'culator']['calculateL'+'ayout'](_0x226158,_0x4f22cb);this['_isPerform'+'ingReflow']=!(-0x19a3+-0x12*-0xdf+0xff*0xa),this['fire']('reflow',_0x47304a);}['onEnable'](){this['_scheduleR'+'eflow']();}['onRemove'](){this['entity']['off']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['off']('childremov'+'e',this['_onChildRe'+'move'],this),this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'off'),this['entity']['children']['forEach'](_0x10dd42=>{this['_listenFor'+'ReflowEven'+'ts'](_0x10dd42,'off');}),this['system']['app']['systems']['element']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['element']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this);}}class WR{constructor(){this['enabled']=!(0xdd*0x1b+0x86*0x4+-0x1*0x1967);}}const i0=['enabled'],$R=0x2d*0x33+0xcf8+-0x158b;class XR extends ct{constructor(_0x5cc4ac){super(_0x5cc4ac),this['id']='layoutgrou'+'p',this['ComponentT'+'ype']=s0,this['DataType']=WR,this['schema']=i0,this['_reflowQue'+'ue']=[],this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x13f427,_0x213612,_0x37086c){_0x213612['enabled']!==void(0x5*0x691+-0x19fc+-0x6d9)&&(_0x13f427['enabled']=_0x213612['enabled']),_0x213612['orientatio'+'n']!==void(-0x1a9f+-0x1*-0x24fb+-0x297*0x4)&&(_0x13f427['orientatio'+'n']=_0x213612['orientatio'+'n']),_0x213612['reverseX']!==void(0x14b5+0x1e5*-0x3+-0x6*0x281)&&(_0x13f427['reverseX']=_0x213612['reverseX']),_0x213612['reverseY']!==void(-0xaf+-0xa02+0x1*0xab1)&&(_0x13f427['reverseY']=_0x213612['reverseY']),_0x213612['alignment']!==void(0x1d4a+-0xf73+-0x49d*0x3)&&(_0x13f427['alignment']=Array['isArray'](_0x213612['alignment'])?new J(_0x213612['alignment']):_0x213612['alignment']),_0x213612['padding']!==void(-0x98a+0x262+0xe5*0x8)&&(_0x13f427['padding']=Array['isArray'](_0x213612['padding'])?new re(_0x213612['padding']):_0x213612['padding']),_0x213612['spacing']!==void(-0x265c+0xc54+-0x682*-0x4)&&(_0x13f427['spacing']=Array['isArray'](_0x213612['spacing'])?new J(_0x213612['spacing']):_0x213612['spacing']),_0x213612['widthFitti'+'ng']!==void(-0x5*0x107+-0x1450+0x1973)&&(_0x13f427['widthFitti'+'ng']=_0x213612['widthFitti'+'ng']),_0x213612['heightFitt'+'ing']!==void(-0x1dd0+-0x752+-0x1291*-0x2)&&(_0x13f427['heightFitt'+'ing']=_0x213612['heightFitt'+'ing']),_0x213612['wrap']!==void(0x23d2+0xe*-0x31+-0x2124)&&(_0x13f427['wrap']=_0x213612['wrap']),super['initialize'+'ComponentD'+'ata'](_0x13f427,_0x213612,_0x37086c);}['cloneCompo'+'nent'](_0x43d5c9,_0x14e6e7){const _0x444f65=_0x43d5c9['layoutgrou'+'p'];return this['addCompone'+'nt'](_0x14e6e7,{'enabled':_0x444f65['enabled'],'orientation':_0x444f65['orientatio'+'n'],'reverseX':_0x444f65['reverseX'],'reverseY':_0x444f65['reverseY'],'alignment':_0x444f65['alignment'],'padding':_0x444f65['padding'],'spacing':_0x444f65['spacing'],'widthFitting':_0x444f65['widthFitti'+'ng'],'heightFitting':_0x444f65['heightFitt'+'ing'],'wrap':_0x444f65['wrap']});}['scheduleRe'+'flow'](_0x51033e){this['_reflowQue'+'ue']['indexOf'](_0x51033e)===-(0x15ad+-0x23f1*-0x1+-0x399d)&&this['_reflowQue'+'ue']['push'](_0x51033e);}['_onPostUpd'+'ate'](){this['_processRe'+'flowQueue']();}['_processRe'+'flowQueue'](){if(this['_reflowQue'+'ue']['length']===0x1886+0xc65+-0x24eb*0x1)return;let _0x310dec=-0x36a+0x44b*-0x1+-0x7b5*-0x1;for(;this['_reflowQue'+'ue']['length']>0x1665+0x1a01+0xa*-0x4d7;){const _0x245cb0=this['_reflowQue'+'ue']['slice']();this['_reflowQue'+'ue']['length']=0x4*0x619+-0x22c2+0xa5e,_0x245cb0['sort']((_0x57e10e,_0x469e6a)=>_0x57e10e['entity']['graphDepth']-_0x469e6a['entity']['graphDepth']);for(let _0x144680=-0x1153+0x12e7*-0x1+0x1*0x243a;_0x144680<_0x245cb0['length'];++_0x144680)_0x245cb0[_0x144680]['reflow']();if(++_0x310dec>=$R){console['warn']('Max\x20reflow'+'\x20iteration'+'s\x20limit\x20re'+'ached,\x20bai'+'ling.');break;}}}['_onRemoveC'+'omponent'](_0x478fb0,_0x4d046c){_0x4d046c['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}we['_buildAcce'+'ssors'](s0['prototype'],i0);class qR{constructor(){h(this,'map',new Map());}['destroy'](_0x146cde){this['map']['forEach'](_0x6f7901=>_0x6f7901['mesh']['destroy']());}}const jR=new Kt(),r0=(_0x1b3df0,_0x29a383)=>{const _0x3dcb2d=jR['get'](_0x1b3df0,()=>new qR());let _0x1e2b19=_0x3dcb2d['map']['get'](_0x29a383);if(!_0x1e2b19){let _0x28a9a7,_0x4d8adf;switch(_0x29a383){case'box':_0x28a9a7=Ge['fromGeomet'+'ry'](_0x1b3df0,new mu()),_0x4d8adf={'x':0x2,'y':0x2,'z':0x2,'uv':(-0x203*-0x1+-0x81*0x2b+-0x13aa*-0x1)/(-0x7ca*0x5+-0x1*-0xfeb+0x3d7*0x6)};break;case'capsule':_0x28a9a7=Ge['fromGeomet'+'ry'](_0x1b3df0,new GA({'radius':0.5,'height':0x2})),_0x4d8adf={'x':Math['PI']*(0x1af*0x8+0xa83+-0x17f9),'y':Math['PI'],'z':Math['PI']*(0x7*-0x17f+-0x1*-0x47+0xa34),'uv':(-0xb5e+0x30*-0x64+0x1e1f)/(-0x181e+-0x963+0x2184)+(0x301*-0x2+0xc*-0xd3+0xfe7)/(0x1640+0x1*0x25d3+0x1*-0x3c10)/(-0x428+-0xfb5+0x13e0)*(0x164*-0x5+-0x1f9d+0x2693*0x1)};break;case'cone':_0x28a9a7=Ge['fromGeomet'+'ry'](_0x1b3df0,new HA({'baseRadius':0.5,'peakRadius':0x0,'height':0x1})),_0x4d8adf={'x':2.54,'y':2.54,'z':2.54,'uv':(-0x133a*-0x1+-0x537+0x146*-0xb)/(0x91b+0x2633*-0x1+0x1d1b)+(-0x257*0x2+0x4b2*-0x6+0x287*0xd)/(-0xa6a+-0xd2d*-0x1+0x2*-0x160)/(-0x1fcb+-0x1107+0x30d5)};break;case'cylinder':_0x28a9a7=Ge['fromGeomet'+'ry'](_0x1b3df0,new WA({'radius':0.5,'height':0x1})),_0x4d8adf={'x':Math['PI'],'y':(0x14e1*0x1+0x26f2+-0x3bd3+0.79)*(-0x17c6+0xd6a*0x1+0xa5e),'z':Math['PI'],'uv':(0x2e*-0x51+0x9*0x39c+-0x11ed)/(0x5e*-0x2+-0x1*0x106e+0x112d)+(0x3*0x7ae+-0x45*0x55+-0x1*0x20)/(-0x2240+-0xa76+0x2cb9)/(0x15ad+-0x3*-0x867+-0x2edf)*(0xf90+0x66*-0x4f+-0x1*-0xfec)};break;case'plane':_0x28a9a7=Ge['fromGeomet'+'ry'](_0x1b3df0,new $A({'halfExtents':new J(-0xccd*-0x1+-0xd1b+0x27*0x2+0.5,0x13*-0x91+0x1802+0xd3f*-0x1+0.5),'widthSegments':0x1,'lengthSegments':0x1})),_0x4d8adf={'x':0x0,'y':0x1,'z':0x0,'uv':0x1};break;case'sphere':_0x28a9a7=Ge['fromGeomet'+'ry'](_0x1b3df0,new _m({'radius':0.5})),_0x4d8adf={'x':Math['PI'],'y':Math['PI'],'z':Math['PI'],'uv':0x1};break;case'torus':_0x28a9a7=Ge['fromGeomet'+'ry'](_0x1b3df0,new XA({'tubeRadius':0.2,'ringRadius':0.3})),_0x4d8adf={'x':Math['PI']*(0x84*-0x24+-0x19b*0xf+0xe37*0x3+0.5)*(0x5e7+0xc*0x10c+-0x1277+0.5)-Math['PI']*(0x6f*0xb+-0x595+0xd0+0.1)*(0x26fc+-0x8e9+0x1*-0x1e13+0.1),'y':0.4,'z':0.4,'uv':0x1};break;default:throw new Error('Invalid\x20pr'+'imitive\x20ty'+'pe:\x20'+_0x29a383);}_0x28a9a7['incRefCoun'+'t'](),_0x1e2b19={'mesh':_0x28a9a7,'area':_0x4d8adf},_0x3dcb2d['map']['set'](_0x29a383,_0x1e2b19);}return _0x1e2b19;};class Tm extends we{constructor(_0x438ed3,_0x39b3c6){super(_0x438ed3,_0x39b3c6),h(this,'_type','asset'),h(this,'_asset',null),h(this,'_model',null),h(this,'_mapping',{}),h(this,'_castShado'+'ws',!(0x17a9+0x1*0xc54+-0x23fd)),h(this,'_receiveSh'+'adows',!(-0x4*0x83c+-0x5d*0x3e+0x1f*0x1ca)),h(this,'_materialA'+'sset',null),h(this,'_material'),h(this,'_castShado'+'wsLightmap',!(-0x1*0x731+0x29*-0x1+0x75a)),h(this,'_lightmapp'+'ed',!(0x77a*0x1+0x2507+-0x4*0xb20)),h(this,'_lightmapS'+'izeMultipl'+'ier',-0xdf6+-0x2b*0x1+0xe22),h(this,'isStatic',!(-0x2107*0x1+-0x15ea+-0x1a*-0x21d)),h(this,'_layers',[er]),h(this,'_batchGrou'+'pId',-(0x24f5*-0x1+-0x1*-0xb2a+-0x4*-0x673)),h(this,'_customAab'+'b',null),h(this,'_area',null),h(this,'_materialE'+'vents',null),h(this,'_clonedMod'+'el',!(0xc89+0x45f*0x6+-0x26c2)),h(this,'_batchGrou'+'p',null),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_material']=_0x438ed3['defaultMat'+'erial'],_0x39b3c6['on']('remove',this['onRemoveCh'+'ild'],this),_0x39b3c6['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x39b3c6['on']('insert',this['onInsertCh'+'ild'],this),_0x39b3c6['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['meshInstan'+'ces'](_0x4bf590){this['_model']&&(this['_model']['meshInstan'+'ces']=_0x4bf590);}get['meshInstan'+'ces'](){return this['_model']?this['_model']['meshInstan'+'ces']:null;}set['customAabb'](_0x1dc361){if(this['_customAab'+'b']=_0x1dc361,this['_model']){const _0x2eaef0=this['_model']['meshInstan'+'ces'];if(_0x2eaef0){for(let _0x583ef6=-0x1038+0x204c+-0x1014;_0x583ef6<_0x2eaef0['length'];_0x583ef6++)_0x2eaef0[_0x583ef6]['setCustomA'+'abb'](this['_customAab'+'b']);}}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x3a9f2b){if(this['_type']!==_0x3a9f2b){if(this['_area']=null,this['_type']=_0x3a9f2b,_0x3a9f2b==='asset')this['_asset']!==null?this['_bindModel'+'Asset'](this['_asset']):this['model']=null;else{const _0x27a8a1=r0(this['system']['app']['graphicsDe'+'vice'],_0x3a9f2b);this['_area']=_0x27a8a1['area'];const _0x140403=_0x27a8a1['mesh'],_0x34685a=new Ie(),_0x146f5d=new sr();_0x146f5d['graph']=_0x34685a,_0x146f5d['meshInstan'+'ces']=[new He(_0x140403,this['_material'],_0x34685a)],this['model']=_0x146f5d,this['_asset']=null;}}}get['type'](){return this['_type'];}set['asset'](_0x10d6f2){const _0x59b8f3=this['system']['app']['assets'];let _0x22fac0=_0x10d6f2;if(_0x10d6f2 instanceof pe&&(_0x22fac0=_0x10d6f2['id']),this['_asset']!==_0x22fac0){if(this['_asset']){_0x59b8f3['off']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this);const _0x3e95af=_0x59b8f3['get'](this['_asset']);_0x3e95af&&this['_unbindMod'+'elAsset'](_0x3e95af);}if(this['_asset']=_0x22fac0,this['_asset']){const _0x55cadb=_0x59b8f3['get'](this['_asset']);_0x55cadb?this['_bindModel'+'Asset'](_0x55cadb):(this['model']=null,_0x59b8f3['on']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this));}else this['model']=null;}}get['asset'](){return this['_asset'];}set['model'](_0x2dec27){if(this['_model']!==_0x2dec27){if(_0x2dec27&&_0x2dec27['_immutable']){w['error']('Invalid\x20at'+'tempt\x20to\x20a'+'ssign\x20a\x20mo'+'del\x20to\x20mul'+'tiple\x20Mode'+'lComponent'+'s');return;}if(this['_model']&&(this['_model']['_immutable']=!(0x1bd*-0x6+0x29*-0xdf+-0x16*-0x219),this['removeMode'+'lFromLayer'+'s'](),this['_model']['getGraph']()['destroy'](),delete this['_model']['_entity'],this['_clonedMod'+'el']&&(this['_model']['destroy'](),this['_clonedMod'+'el']=!(-0x14*-0x81+-0x2fa+-0x719))),this['_model']=_0x2dec27,this['_model']){this['_model']['_immutable']=!(-0x236b*0x1+-0xeeb+0x22*0x17b);const _0x51b3d0=this['_model']['meshInstan'+'ces'];for(let _0x19de1b=0xb36+-0xcb*-0xe+0x18*-0xee;_0x19de1b<_0x51b3d0['length'];_0x19de1b++)_0x51b3d0[_0x19de1b]['castShadow']=this['_castShado'+'ws'],_0x51b3d0[_0x19de1b]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x51b3d0[_0x19de1b]['setCustomA'+'abb'](this['_customAab'+'b']);this['lightmappe'+'d']=this['_lightmapp'+'ed'],this['entity']['addChild'](this['_model']['graph']),this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_model']['_entity']=this['entity'],this['entity']['animation']&&this['entity']['animation']['setModel'](this['_model']),this['entity']['anim']&&this['entity']['anim']['rebind'](),this['type']==='asset'?this['mapping']=this['_mapping']:this['_unsetMate'+'rialEvents']();}}}get['model'](){return this['_model'];}set['lightmappe'+'d'](_0xd0acea){if(_0xd0acea!==this['_lightmapp'+'ed']&&(this['_lightmapp'+'ed']=_0xd0acea,this['_model'])){const _0x390edf=this['_model']['meshInstan'+'ces'];for(let _0x22ff8d=0x2362+0x2325+-0x4687;_0x22ff8d<_0x390edf['length'];_0x22ff8d++)_0x390edf[_0x22ff8d]['setLightma'+'pped'](_0xd0acea);}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x2ca63f){if(this['_castShado'+'ws']===_0x2ca63f)return;const _0x99649a=this['_model'];if(_0x99649a){const _0x6fb2a9=this['layers'],_0x2fb92b=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x2ca63f)for(let _0x5629f8=-0xf4f+-0x1ca2*-0x1+-0x3*0x471;_0x5629f8<_0x6fb2a9['length'];_0x5629f8++){const _0x1d1305=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x5629f8]);_0x1d1305&&_0x1d1305['removeShad'+'owCasters'](_0x99649a['meshInstan'+'ces']);}const _0xf3d9e8=_0x99649a['meshInstan'+'ces'];for(let _0x1e6351=-0x56d+0x2332+0x1*-0x1dc5;_0x1e6351<_0xf3d9e8['length'];_0x1e6351++)_0xf3d9e8[_0x1e6351]['castShadow']=_0x2ca63f;if(!this['_castShado'+'ws']&&_0x2ca63f)for(let _0x260712=0x1*0x145d+-0x19d3*-0x1+-0x2e30;_0x260712<_0x6fb2a9['length'];_0x260712++){const _0x3f4d31=_0x2fb92b['layers']['getLayerBy'+'Id'](_0x6fb2a9[_0x260712]);_0x3f4d31&&_0x3f4d31['addShadowC'+'asters'](_0x99649a['meshInstan'+'ces']);}}this['_castShado'+'ws']=_0x2ca63f;}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0xc8dc84){if(this['_receiveSh'+'adows']!==_0xc8dc84&&(this['_receiveSh'+'adows']=_0xc8dc84,this['_model'])){const _0xf75d53=this['_model']['meshInstan'+'ces'];for(let _0x19303a=0xd6*0x1+0x57+-0x12d,_0x98bbbc=_0xf75d53['length'];_0x19303a<_0x98bbbc;_0x19303a++)_0xf75d53[_0x19303a]['receiveSha'+'dow']=_0xc8dc84;}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x371183){this['_castShado'+'wsLightmap']=_0x371183;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x17de90){this['_lightmapS'+'izeMultipl'+'ier']=_0x17de90;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x267831){const _0x39e02e=this['system']['app']['scene']['layers'];if(this['meshInstan'+'ces'])for(let _0x278713=-0x219e+-0xd*0x5b+-0xfb*-0x27;_0x278713<this['_layers']['length'];_0x278713++){const _0x35033b=_0x39e02e['getLayerBy'+'Id'](this['_layers'][_0x278713]);_0x35033b&&_0x35033b['removeMesh'+'Instances'](this['meshInstan'+'ces']);}this['_layers']['length']=0xc68+-0xf38+0x2d0;for(let _0x1c2e61=0x7aa+0x1eef+-0x2699;_0x1c2e61<_0x267831['length'];_0x1c2e61++)this['_layers'][_0x1c2e61]=_0x267831[_0x1c2e61];if(!(!this['enabled']||!this['entity']['enabled']||!this['meshInstan'+'ces']))for(let _0x537fc1=0x8cb*-0x2+-0x1*0x24de+0x3674;_0x537fc1<this['_layers']['length'];_0x537fc1++){const _0x16ca16=_0x39e02e['getLayerBy'+'Id'](this['_layers'][_0x537fc1]);_0x16ca16&&_0x16ca16['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x22bacc){var _0x15dcb4,_0x5580ea;this['_batchGrou'+'pId']!==_0x22bacc&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0xdf6+-0x15c7+0x7d1&&((_0x15dcb4=this['system']['app']['batcher'])==null||_0x15dcb4['remove'](St['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x22bacc>=-0x1b03+0x251*0x4+0x11bf&&((_0x5580ea=this['system']['app']['batcher'])==null||_0x5580ea['insert'](St['MODEL'],_0x22bacc,this['entity'])),_0x22bacc<-0x1*0x1d75+-0xc51*-0x1+0x1124&&this['_batchGrou'+'pId']>=-0x2e2+0x186+-0x4*-0x57&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_batchGrou'+'pId']=_0x22bacc);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['materialAs'+'set'](_0x3054d6){let _0x152b22=_0x3054d6;_0x3054d6 instanceof pe&&(_0x152b22=_0x3054d6['id']);const _0x2d10ff=this['system']['app']['assets'];if(_0x152b22!==this['_materialA'+'sset']){if(this['_materialA'+'sset']){_0x2d10ff['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this);const _0x13dfa5=_0x2d10ff['get'](this['_materialA'+'sset']);_0x13dfa5&&this['_unbindMat'+'erialAsset'](_0x13dfa5);}if(this['_materialA'+'sset']=_0x152b22,this['_materialA'+'sset']){const _0x41cd0f=_0x2d10ff['get'](this['_materialA'+'sset']);_0x41cd0f?this['_bindMater'+'ialAsset'](_0x41cd0f):(this['_setMateri'+'al'](this['system']['defaultMat'+'erial']),_0x2d10ff['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this));}else this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['material'](_0x37e011){this['_material']!==_0x37e011&&(this['materialAs'+'set']=null,this['_setMateri'+'al'](_0x37e011));}get['material'](){return this['_material'];}set['mapping'](_0x4e19e4){if(this['_type']!=='asset'||(this['_unsetMate'+'rialEvents'](),_0x4e19e4||(_0x4e19e4={}),this['_mapping']=_0x4e19e4,!this['_model']))return;const _0x2f394d=this['_model']['meshInstan'+'ces'],_0x585f1f=this['asset']?this['system']['app']['assets']['get'](this['asset']):null,_0x342748=_0x585f1f?_0x585f1f['data']['mapping']:null;let _0x3fbf18=null;for(let _0x18febf=0x13d*0x1f+0xa*0x5b+0x9*-0x4a9,_0x2aa9b0=_0x2f394d['length'];_0x18febf<_0x2aa9b0;_0x18febf++)if(_0x4e19e4[_0x18febf]!==void(0x1fe+-0xf2e+-0x698*-0x2))_0x4e19e4[_0x18febf]?(_0x3fbf18=this['system']['app']['assets']['get'](_0x4e19e4[_0x18febf]),this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x3fbf18,_0x2f394d[_0x18febf],_0x18febf)):_0x2f394d[_0x18febf]['material']=this['system']['defaultMat'+'erial'];else{if(_0x342748){if(_0x342748[_0x18febf]&&(_0x342748[_0x18febf]['material']||_0x342748[_0x18febf]['path'])){if(_0x342748[_0x18febf]['material']!==void(0x1*0x1b92+-0x107c+0xb16*-0x1))_0x3fbf18=this['system']['app']['assets']['get'](_0x342748[_0x18febf]['material']);else{if(_0x342748[_0x18febf]['path']!==void(-0x1742+0x53*0x1+0x16ef)){const _0x117270=this['_getMateri'+'alAssetUrl'](_0x342748[_0x18febf]['path']);_0x117270&&(_0x3fbf18=this['system']['app']['assets']['getByUrl'](_0x117270));}}this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x3fbf18,_0x2f394d[_0x18febf],_0x18febf);}else _0x2f394d[_0x18febf]['material']=this['system']['defaultMat'+'erial'];}}}get['mapping'](){return this['_mapping'];}['addModelTo'+'Layers'](){const _0x1fe359=this['system']['app']['scene']['layers'];for(let _0x308dfc=-0x628+-0x1d*-0xa7+-0xcc3;_0x308dfc<this['_layers']['length'];_0x308dfc++){const _0x508c36=_0x1fe359['getLayerBy'+'Id'](this['_layers'][_0x308dfc]);_0x508c36&&_0x508c36['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](){const _0x640012=this['system']['app']['scene']['layers'];for(let _0x56c03b=-0x251+-0x21*-0x11d+-0x226c;_0x56c03b<this['_layers']['length'];_0x56c03b++){const _0x5ab2a6=_0x640012['getLayerBy'+'Id'](this['_layers'][_0x56c03b]);_0x5ab2a6&&_0x5ab2a6['removeMesh'+'Instances'](this['meshInstan'+'ces']);}}['onRemoveCh'+'ild'](){this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['onInsertCh'+'ild'](){this['_model']&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers']();}['onRemove'](){this['asset']=null,this['model']=null,this['materialAs'+'set']=null,this['_unsetMate'+'rialEvents'](),this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x5a1501,_0x1db1cd){this['addModelTo'+'Layers'](),_0x5a1501['off']('add',this['onLayerAdd'+'ed'],this),_0x5a1501['off']('remove',this['onLayerRem'+'oved'],this),_0x1db1cd['on']('add',this['onLayerAdd'+'ed'],this),_0x1db1cd['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x43261b){this['layers']['indexOf'](_0x43261b['id'])<0x12a*-0xb+-0x1dc*0xf+-0x28b2*-0x1||_0x43261b['addMeshIns'+'tances'](this['meshInstan'+'ces']);}['onLayerRem'+'oved'](_0x3f64dc){this['layers']['indexOf'](_0x3f64dc['id'])<0x14e*0x14+0x1*-0x18d7+-0x141||_0x3f64dc['removeMesh'+'Instances'](this['meshInstan'+'ces']);}['_setMateri'+'alEvent'](_0x3e9a02,_0x5b50fb,_0x596602,_0x41e014){const _0x8b409b=_0x5b50fb+':'+_0x596602;this['system']['app']['assets']['on'](_0x8b409b,_0x41e014,this),this['_materialE'+'vents']||(this['_materialE'+'vents']=[]),this['_materialE'+'vents'][_0x3e9a02]||(this['_materialE'+'vents'][_0x3e9a02]={}),this['_materialE'+'vents'][_0x3e9a02][_0x8b409b]={'id':_0x596602,'handler':_0x41e014};}['_unsetMate'+'rialEvents'](){const _0x44d4c6=this['system']['app']['assets'],_0x2c4e1f=this['_materialE'+'vents'];if(_0x2c4e1f){for(let _0x3cfd27=-0x135a+0xd21+0x639,_0xeaa3eb=_0x2c4e1f['length'];_0x3cfd27<_0xeaa3eb;_0x3cfd27++){if(!_0x2c4e1f[_0x3cfd27])continue;const _0x10bbef=_0x2c4e1f[_0x3cfd27];for(const _0x2fe3e2 in _0x10bbef)_0x44d4c6['off'](_0x2fe3e2,_0x10bbef[_0x2fe3e2]['handler'],this);}this['_materialE'+'vents']=null;}}['_getAssetB'+'yIdOrPath'](_0x1883ed){let _0x1be4cb=null;if(!isNaN(parseInt(_0x1883ed,-0x1d87+-0x23c7*0x1+0x4158)))_0x1be4cb=this['system']['app']['assets']['get'](_0x1883ed);else{if(this['asset']){const _0x3612c0=this['_getMateri'+'alAssetUrl'](_0x1883ed);_0x3612c0&&(_0x1be4cb=this['system']['app']['assets']['getByUrl'](_0x3612c0));}}return _0x1be4cb;}['_getMateri'+'alAssetUrl'](_0x4ebb3d){if(!this['asset'])return null;const _0x57d968=this['system']['app']['assets']['get'](this['asset']);return _0x57d968?_0x57d968['getAbsolut'+'eUrl'](_0x4ebb3d):null;}['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x1db085,_0x52bc95,_0x25d90c){const _0x39e0e0=this['system']['app']['assets'];_0x1db085&&(_0x1db085['resource']?(_0x52bc95['material']=_0x1db085['resource'],this['_setMateri'+'alEvent'](_0x25d90c,'remove',_0x1db085['id'],function(){_0x52bc95['material']=this['system']['defaultMat'+'erial'];})):(this['_setMateri'+'alEvent'](_0x25d90c,'load',_0x1db085['id'],function(_0x29b064){_0x52bc95['material']=_0x29b064['resource'],this['_setMateri'+'alEvent'](_0x25d90c,'remove',_0x1db085['id'],function(){_0x52bc95['material']=this['system']['defaultMat'+'erial'];});}),this['enabled']&&this['entity']['enabled']&&_0x39e0e0['load'](_0x1db085)));}['onEnable'](){var _0x67ec41;const _0x1d411c=this['system']['app'],_0x28a081=_0x1d411c['scene'],_0x15bd0f=_0x28a081==null?void(0x1*0x5e+-0x890+0x832*0x1):_0x28a081['layers'];this['_evtLayers'+'Changed']=_0x28a081['on']('set:layers',this['onLayersCh'+'anged'],this),_0x15bd0f&&(this['_evtLayerA'+'dded']=_0x15bd0f['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x15bd0f['on']('remove',this['onLayerRem'+'oved'],this));const _0x1ac3e2=this['_type']==='asset';let _0x28c4d9;if(this['_model']?this['addModelTo'+'Layers']():_0x1ac3e2&&this['_asset']&&(_0x28c4d9=_0x1d411c['assets']['get'](this['_asset']),_0x28c4d9&&_0x28c4d9['resource']!==this['_model']&&this['_bindModel'+'Asset'](_0x28c4d9)),this['_materialA'+'sset']&&(_0x28c4d9=_0x1d411c['assets']['get'](this['_materialA'+'sset']),_0x28c4d9&&_0x28c4d9['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x28c4d9)),_0x1ac3e2&&this['_mapping']){for(const _0x3865bd in this['_mapping'])this['_mapping'][_0x3865bd]&&(_0x28c4d9=this['_getAssetB'+'yIdOrPath'](this['_mapping'][_0x3865bd]),_0x28c4d9&&!_0x28c4d9['resource']&&_0x1d411c['assets']['load'](_0x28c4d9));}this['_batchGrou'+'pId']>=-0x9f8+-0x988+0x20*0x9c&&((_0x67ec41=_0x1d411c['batcher'])==null||_0x67ec41['insert'](St['MODEL'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x4c1eb9,_0x25c1f9,_0x4e6750,_0x5a5fad;const _0x15bfec=this['system']['app'],_0x1efe5e=_0x15bfec['scene']['layers'];(_0x4c1eb9=this['_evtLayers'+'Changed'])==null||_0x4c1eb9['off'](),this['_evtLayers'+'Changed']=null,_0x1efe5e&&((_0x25c1f9=this['_evtLayerA'+'dded'])==null||_0x25c1f9['off'](),this['_evtLayerA'+'dded']=null,(_0x4e6750=this['_evtLayerR'+'emoved'])==null||_0x4e6750['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0x2*0x10a+0x2*-0x11fb+-0x10f1*-0x2&&((_0x5a5fad=_0x15bfec['batcher'])==null||_0x5a5fad['remove'](St['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['hide'](){if(this['_model']){const _0x564a7a=this['_model']['meshInstan'+'ces'];for(let _0x42c858=0x1bd*-0xf+0x1*-0x147f+0xf86*0x3,_0x4a99f3=_0x564a7a['length'];_0x42c858<_0x4a99f3;_0x42c858++)_0x564a7a[_0x42c858]['visible']=!(-0x47*0xd+0x18ad+-0x1511);}}['show'](){if(this['_model']){const _0x3b435a=this['_model']['meshInstan'+'ces'];for(let _0x501628=0x26f6+-0x139a+-0x4d7*0x4,_0x5402bd=_0x3b435a['length'];_0x501628<_0x5402bd;_0x501628++)_0x3b435a[_0x501628]['visible']=!(-0xa*-0x199+0x2150+-0x12*0x2bd);}}['_bindMater'+'ialAsset'](_0x3a11a8){if(_0x3a11a8['on']('load',this['_onMateria'+'lAssetLoad'],this),_0x3a11a8['on']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x3a11a8['on']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x3a11a8['on']('change',this['_onMateria'+'lAssetChan'+'ge'],this),_0x3a11a8['resource'])this['_onMateria'+'lAssetLoad'](_0x3a11a8);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x3a11a8);}}['_unbindMat'+'erialAsset'](_0x31c30e){_0x31c30e['off']('load',this['_onMateria'+'lAssetLoad'],this),_0x31c30e['off']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x31c30e['off']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x31c30e['off']('change',this['_onMateria'+'lAssetChan'+'ge'],this);}['_onMateria'+'lAssetAdd'](_0x3ef4b9){this['system']['app']['assets']['off']('add:'+_0x3ef4b9['id'],this['_onMateria'+'lAssetAdd'],this),this['_materialA'+'sset']===_0x3ef4b9['id']&&this['_bindMater'+'ialAsset'](_0x3ef4b9);}['_onMateria'+'lAssetLoad'](_0xdd0925){this['_setMateri'+'al'](_0xdd0925['resource']);}['_onMateria'+'lAssetUnlo'+'ad'](_0x315692){this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}['_onMateria'+'lAssetRemo'+'ve'](_0x40823d){this['_onMateria'+'lAssetUnlo'+'ad'](_0x40823d);}['_onMateria'+'lAssetChan'+'ge'](_0x21cac8){}['_bindModel'+'Asset'](_0x41bcda){if(this['_unbindMod'+'elAsset'](_0x41bcda),_0x41bcda['on']('load',this['_onModelAs'+'setLoad'],this),_0x41bcda['on']('unload',this['_onModelAs'+'setUnload'],this),_0x41bcda['on']('change',this['_onModelAs'+'setChange'],this),_0x41bcda['on']('remove',this['_onModelAs'+'setRemove'],this),_0x41bcda['resource'])this['_onModelAs'+'setLoad'](_0x41bcda);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x41bcda);}}['_unbindMod'+'elAsset'](_0x32ccd1){_0x32ccd1['off']('load',this['_onModelAs'+'setLoad'],this),_0x32ccd1['off']('unload',this['_onModelAs'+'setUnload'],this),_0x32ccd1['off']('change',this['_onModelAs'+'setChange'],this),_0x32ccd1['off']('remove',this['_onModelAs'+'setRemove'],this);}['_onModelAs'+'setAdded'](_0x429ce9){this['system']['app']['assets']['off']('add:'+_0x429ce9['id'],this['_onModelAs'+'setAdded'],this),_0x429ce9['id']===this['_asset']&&this['_bindModel'+'Asset'](_0x429ce9);}['_onModelAs'+'setLoad'](_0xc7f74){this['model']=_0xc7f74['resource']['clone'](),this['_clonedMod'+'el']=!(-0x1acb+-0xa*-0x380+-0x835);}['_onModelAs'+'setUnload'](_0x513a78){this['model']=null;}['_onModelAs'+'setChange'](_0x5b83ae,_0x535116,_0x3d5e7e,_0x556a3e){_0x535116==='data'&&(this['mapping']=this['_mapping']);}['_onModelAs'+'setRemove'](_0x32796c){this['model']=null;}['_setMateri'+'al'](_0x5d02d8){if(this['_material']===_0x5d02d8)return;this['_material']=_0x5d02d8;const _0x1b7c02=this['_model'];if(_0x1b7c02&&this['_type']!=='asset'){const _0x26a1ee=_0x1b7c02['meshInstan'+'ces'];for(let _0x35d350=-0xb9c+-0x1*0x655+-0x1*-0x11f1,_0x524bd5=_0x26a1ee['length'];_0x35d350<_0x524bd5;_0x35d350++)_0x26a1ee[_0x35d350]['material']=_0x5d02d8;}}}class YR{constructor(){this['enabled']=!(0x31+-0x7b*-0x48+-0x41*0x89);}}const a0=['enabled'];class KR extends ct{constructor(_0x280214){super(_0x280214),this['id']='model',this['ComponentT'+'ype']=Tm,this['DataType']=YR,this['schema']=a0,this['defaultMat'+'erial']=Qn(_0x280214['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x2b68ab,_0x49b05c,_0xb65cb5){_0xb65cb5=['material','materialAs'+'set','asset','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','type','mapping','layers','isStatic','batchGroup'+'Id'],(_0x49b05c['batchGroup'+'Id']===null||_0x49b05c['batchGroup'+'Id']===void(0x1e4*0x3+-0x6a3*0x1+-0x1*-0xf7))&&(_0x49b05c['batchGroup'+'Id']=-(-0x22*0x9c+0x5ce*0x2+0x91d)),_0x49b05c['layers']&&_0x49b05c['layers']['length']&&(_0x49b05c['layers']=_0x49b05c['layers']['slice'](0xb11*-0x3+0x785+0x19ae));for(let _0x31cbc3=-0x1*0x24ac+-0x8f*0x13+-0x327*-0xf;_0x31cbc3<_0xb65cb5['length'];_0x31cbc3++)_0x49b05c['hasOwnProp'+'erty'](_0xb65cb5[_0x31cbc3])&&(_0x2b68ab[_0xb65cb5[_0x31cbc3]]=_0x49b05c[_0xb65cb5[_0x31cbc3]]);_0x49b05c['aabbCenter']&&_0x49b05c['aabbHalfEx'+'tents']&&(_0x2b68ab['customAabb']=new De(new D(_0x49b05c['aabbCenter']),new D(_0x49b05c['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x2b68ab,_0x49b05c,['enabled']);}['cloneCompo'+'nent'](_0xaabad4,_0x227757){const _0x5168f7={'type':_0xaabad4['model']['type'],'asset':_0xaabad4['model']['asset'],'castShadows':_0xaabad4['model']['castShadow'+'s'],'receiveShadows':_0xaabad4['model']['receiveSha'+'dows'],'castShadowsLightmap':_0xaabad4['model']['castShadow'+'sLightmap'],'lightmapped':_0xaabad4['model']['lightmappe'+'d'],'lightmapSizeMultiplier':_0xaabad4['model']['lightmapSi'+'zeMultipli'+'er'],'isStatic':_0xaabad4['model']['isStatic'],'enabled':_0xaabad4['model']['enabled'],'layers':_0xaabad4['model']['layers'],'batchGroupId':_0xaabad4['model']['batchGroup'+'Id'],'mapping':ah({},_0xaabad4['model']['mapping'])};let _0x13b8a1=_0xaabad4['model']['materialAs'+'set'];!(_0x13b8a1 instanceof pe)&&_0x13b8a1!=null&&(_0x13b8a1=this['app']['assets']['get'](_0x13b8a1));const _0xc5b7c6=_0xaabad4['model']['material'];(!_0xc5b7c6||_0xc5b7c6===this['defaultMat'+'erial']||!_0x13b8a1||_0xc5b7c6===_0x13b8a1['resource'])&&(_0x5168f7['materialAs'+'set']=_0x13b8a1);const _0x323ba6=this['addCompone'+'nt'](_0x227757,_0x5168f7);if(_0xaabad4['model']['model']&&_0xaabad4['model']['type']==='asset'&&!_0xaabad4['model']['asset']&&(_0x323ba6['model']=_0xaabad4['model']['model']['clone'](),_0x323ba6['_clonedMod'+'el']=!(-0x1*0x131c+0x1fb8+-0xc9c)),_0x5168f7['materialAs'+'set']||(_0x323ba6['material']=_0xc5b7c6),_0xaabad4['model']['model']){const _0x3d4823=_0xaabad4['model']['model']['meshInstan'+'ces'],_0xa9852=_0x323ba6['model']['meshInstan'+'ces'];for(let _0x23c8ea=0x2*0x749+-0x1f9c+0x110a;_0x23c8ea<_0x3d4823['length'];_0x23c8ea++)_0xa9852[_0x23c8ea]['mask']=_0x3d4823[_0x23c8ea]['mask'],_0xa9852[_0x23c8ea]['material']=_0x3d4823[_0x23c8ea]['material'],_0xa9852[_0x23c8ea]['layer']=_0x3d4823[_0x23c8ea]['layer'],_0xa9852[_0x23c8ea]['receiveSha'+'dow']=_0x3d4823[_0x23c8ea]['receiveSha'+'dow'];}return _0xaabad4['model']['customAabb']&&(_0x323ba6['customAabb']=_0xaabad4['model']['customAabb']['clone']()),_0x323ba6;}['onRemove'](_0x3c7d75,_0x5bea56){_0x5bea56['onRemove']();}}we['_buildAcce'+'ssors'](Tm['prototype'],a0);const ZR=['emitterExt'+'ents','emitterRad'+'ius','emitterExt'+'entsInner','emitterRad'+'iusInner','loop','initialVel'+'ocity','animSpeed','normalMap','particleNo'+'rmal'],QR=['numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','lighting','halfLamber'+'t','intensity','wrap','wrapBounds','depthWrite','noFog','sort','stretch','alignToMot'+'ion','preWarm','emitterSha'+'pe','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animLoop','colorMap','localSpace','screenSpac'+'e','orientatio'+'n'],JR=['scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','velocityGr'+'aph','velocityGr'+'aph2','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2'],Cc=['colorMapAs'+'set','normalMapA'+'sset','meshAsset','renderAsse'+'t'];let Ya;class e3 extends we{constructor(_0x23be77,_0x3eeea7){super(_0x23be77,_0x3eeea7),h(this,'_requested'+'Depth',!(0xa*-0x5+0xfac+-0xf79*0x1)),h(this,'_drawOrder',0x2546+-0x239*-0x3+0x647*-0x7),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_evtSetMes'+'hes',null),(this['on']('set_colorM'+'apAsset',this['onSetColor'+'MapAsset'],this),this['on']('set_normal'+'MapAsset',this['onSetNorma'+'lMapAsset'],this),this['on']('set_meshAs'+'set',this['onSetMeshA'+'sset'],this),this['on']('set_mesh',this['onSetMesh'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_loop',this['onSetLoop'],this),this['on']('set_blendT'+'ype',this['onSetBlend'+'Type'],this),this['on']('set_depthS'+'oftening',this['onSetDepth'+'Softening'],this),this['on']('set_layers',this['onSetLayer'+'s'],this),ZR['forEach'](_0x3998c6=>{this['on']('set_'+_0x3998c6,this['onSetSimpl'+'eProperty'],this);}),QR['forEach'](_0x298731=>{this['on']('set_'+_0x298731,this['onSetCompl'+'exProperty'],this);}),JR['forEach'](_0x5ecbf4=>{this['on']('set_'+_0x5ecbf4,this['onSetGraph'+'Property'],this);}));}get['data'](){const _0x1ca3e6=this['system']['store'][this['entity']['getGuid']()];return _0x1ca3e6?_0x1ca3e6['data']:null;}set['enabled'](_0x202329){this['_setValue']('enabled',_0x202329);}get['enabled'](){return this['data']['enabled'];}set['autoPlay'](_0x43b491){this['_setValue']('autoPlay',_0x43b491);}get['autoPlay'](){return this['data']['autoPlay'];}set['numParticl'+'es'](_0x22ef36){this['_setValue']('numParticl'+'es',_0x22ef36);}get['numParticl'+'es'](){return this['data']['numParticl'+'es'];}set['lifetime'](_0x7da97){this['_setValue']('lifetime',_0x7da97);}get['lifetime'](){return this['data']['lifetime'];}set['rate'](_0x2d1a5b){this['_setValue']('rate',_0x2d1a5b);}get['rate'](){return this['data']['rate'];}set['rate2'](_0x15c110){this['_setValue']('rate2',_0x15c110);}get['rate2'](){return this['data']['rate2'];}set['startAngle'](_0x20927e){this['_setValue']('startAngle',_0x20927e);}get['startAngle'](){return this['data']['startAngle'];}set['startAngle'+'2'](_0x3d3b68){this['_setValue']('startAngle'+'2',_0x3d3b68);}get['startAngle'+'2'](){return this['data']['startAngle'+'2'];}set['loop'](_0x5b489f){this['_setValue']('loop',_0x5b489f);}get['loop'](){return this['data']['loop'];}set['preWarm'](_0x26e597){this['_setValue']('preWarm',_0x26e597);}get['preWarm'](){return this['data']['preWarm'];}set['lighting'](_0x1c00f7){this['_setValue']('lighting',_0x1c00f7);}get['lighting'](){return this['data']['lighting'];}set['halfLamber'+'t'](_0x4c0e0f){this['_setValue']('halfLamber'+'t',_0x4c0e0f);}get['halfLamber'+'t'](){return this['data']['halfLamber'+'t'];}set['intensity'](_0x1f35a6){this['_setValue']('intensity',_0x1f35a6);}get['intensity'](){return this['data']['intensity'];}set['depthWrite'](_0x2a3622){this['_setValue']('depthWrite',_0x2a3622);}get['depthWrite'](){return this['data']['depthWrite'];}set['noFog'](_0x26bae8){this['_setValue']('noFog',_0x26bae8);}get['noFog'](){return this['data']['noFog'];}set['depthSofte'+'ning'](_0x59cbf7){this['_setValue']('depthSofte'+'ning',_0x59cbf7);}get['depthSofte'+'ning'](){return this['data']['depthSofte'+'ning'];}set['sort'](_0x117d1f){this['_setValue']('sort',_0x117d1f);}get['sort'](){return this['data']['sort'];}set['blendType'](_0x1ed125){this['_setValue']('blendType',_0x1ed125);}get['blendType'](){return this['data']['blendType'];}set['stretch'](_0x573ae9){this['_setValue']('stretch',_0x573ae9);}get['stretch'](){return this['data']['stretch'];}set['alignToMot'+'ion'](_0x1dfed3){this['_setValue']('alignToMot'+'ion',_0x1dfed3);}get['alignToMot'+'ion'](){return this['data']['alignToMot'+'ion'];}set['emitterSha'+'pe'](_0x30fa35){this['_setValue']('emitterSha'+'pe',_0x30fa35);}get['emitterSha'+'pe'](){return this['data']['emitterSha'+'pe'];}set['emitterExt'+'ents'](_0xd9ce1c){this['_setValue']('emitterExt'+'ents',_0xd9ce1c);}get['emitterExt'+'ents'](){return this['data']['emitterExt'+'ents'];}set['emitterExt'+'entsInner'](_0x2a486e){this['_setValue']('emitterExt'+'entsInner',_0x2a486e);}get['emitterExt'+'entsInner'](){return this['data']['emitterExt'+'entsInner'];}set['emitterRad'+'ius'](_0x186663){this['_setValue']('emitterRad'+'ius',_0x186663);}get['emitterRad'+'ius'](){return this['data']['emitterRad'+'ius'];}set['emitterRad'+'iusInner'](_0x4e6a41){this['_setValue']('emitterRad'+'iusInner',_0x4e6a41);}get['emitterRad'+'iusInner'](){return this['data']['emitterRad'+'iusInner'];}set['initialVel'+'ocity'](_0x9b013f){this['_setValue']('initialVel'+'ocity',_0x9b013f);}get['initialVel'+'ocity'](){return this['data']['initialVel'+'ocity'];}set['wrap'](_0x3eb10b){this['_setValue']('wrap',_0x3eb10b);}get['wrap'](){return this['data']['wrap'];}set['wrapBounds'](_0x476946){this['_setValue']('wrapBounds',_0x476946);}get['wrapBounds'](){return this['data']['wrapBounds'];}set['localSpace'](_0x537164){this['_setValue']('localSpace',_0x537164);}get['localSpace'](){return this['data']['localSpace'];}set['screenSpac'+'e'](_0x607c7d){this['_setValue']('screenSpac'+'e',_0x607c7d);}get['screenSpac'+'e'](){return this['data']['screenSpac'+'e'];}set['colorMapAs'+'set'](_0x57bbf2){this['_setValue']('colorMapAs'+'set',_0x57bbf2);}get['colorMapAs'+'set'](){return this['data']['colorMapAs'+'set'];}set['normalMapA'+'sset'](_0x2f8915){this['_setValue']('normalMapA'+'sset',_0x2f8915);}get['normalMapA'+'sset'](){return this['data']['normalMapA'+'sset'];}set['mesh'](_0x9cb363){this['_setValue']('mesh',_0x9cb363);}get['mesh'](){return this['data']['mesh'];}set['meshAsset'](_0x59a179){this['_setValue']('meshAsset',_0x59a179);}get['meshAsset'](){return this['data']['meshAsset'];}set['renderAsse'+'t'](_0x46940b){this['_setValue']('renderAsse'+'t',_0x46940b);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['orientatio'+'n'](_0x3fdc48){this['_setValue']('orientatio'+'n',_0x3fdc48);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['particleNo'+'rmal'](_0x300c37){this['_setValue']('particleNo'+'rmal',_0x300c37);}get['particleNo'+'rmal'](){return this['data']['particleNo'+'rmal'];}set['localVeloc'+'ityGraph'](_0x22eb71){this['_setValue']('localVeloc'+'ityGraph',_0x22eb71);}get['localVeloc'+'ityGraph'](){return this['data']['localVeloc'+'ityGraph'];}set['localVeloc'+'ityGraph2'](_0xa60964){this['_setValue']('localVeloc'+'ityGraph2',_0xa60964);}get['localVeloc'+'ityGraph2'](){return this['data']['localVeloc'+'ityGraph2'];}set['velocityGr'+'aph'](_0x4cae31){this['_setValue']('velocityGr'+'aph',_0x4cae31);}get['velocityGr'+'aph'](){return this['data']['velocityGr'+'aph'];}set['velocityGr'+'aph2'](_0x29ccf0){this['_setValue']('velocityGr'+'aph2',_0x29ccf0);}get['velocityGr'+'aph2'](){return this['data']['velocityGr'+'aph2'];}set['rotationSp'+'eedGraph'](_0x311b35){this['_setValue']('rotationSp'+'eedGraph',_0x311b35);}get['rotationSp'+'eedGraph'](){return this['data']['rotationSp'+'eedGraph'];}set['rotationSp'+'eedGraph2'](_0x5d413a){this['_setValue']('rotationSp'+'eedGraph2',_0x5d413a);}get['rotationSp'+'eedGraph2'](){return this['data']['rotationSp'+'eedGraph2'];}set['radialSpee'+'dGraph'](_0x4f2c81){this['_setValue']('radialSpee'+'dGraph',_0x4f2c81);}get['radialSpee'+'dGraph'](){return this['data']['radialSpee'+'dGraph'];}set['radialSpee'+'dGraph2'](_0x3488ff){this['_setValue']('radialSpee'+'dGraph2',_0x3488ff);}get['radialSpee'+'dGraph2'](){return this['data']['radialSpee'+'dGraph2'];}set['scaleGraph'](_0x37b1ac){this['_setValue']('scaleGraph',_0x37b1ac);}get['scaleGraph'](){return this['data']['scaleGraph'];}set['scaleGraph'+'2'](_0x165cf2){this['_setValue']('scaleGraph'+'2',_0x165cf2);}get['scaleGraph'+'2'](){return this['data']['scaleGraph'+'2'];}set['colorGraph'](_0x5c3ce0){this['_setValue']('colorGraph',_0x5c3ce0);}get['colorGraph'](){return this['data']['colorGraph'];}set['colorGraph'+'2'](_0x28dcf5){this['_setValue']('colorGraph'+'2',_0x28dcf5);}get['colorGraph'+'2'](){return this['data']['colorGraph'+'2'];}set['alphaGraph'](_0xd7b337){this['_setValue']('alphaGraph',_0xd7b337);}get['alphaGraph'](){return this['data']['alphaGraph'];}set['alphaGraph'+'2'](_0x5b3685){this['_setValue']('alphaGraph'+'2',_0x5b3685);}get['alphaGraph'+'2'](){return this['data']['alphaGraph'+'2'];}set['colorMap'](_0x14a22a){this['_setValue']('colorMap',_0x14a22a);}get['colorMap'](){return this['data']['colorMap'];}set['normalMap'](_0x34a25d){this['_setValue']('normalMap',_0x34a25d);}get['normalMap'](){return this['data']['normalMap'];}set['animTilesX'](_0x221482){this['_setValue']('animTilesX',_0x221482);}get['animTilesX'](){return this['data']['animTilesX'];}set['animTilesY'](_0x484b97){this['_setValue']('animTilesY',_0x484b97);}get['animTilesY'](){return this['data']['animTilesY'];}set['animStartF'+'rame'](_0x221946){this['_setValue']('animStartF'+'rame',_0x221946);}get['animStartF'+'rame'](){return this['data']['animStartF'+'rame'];}set['animNumFra'+'mes'](_0xdbaee6){this['_setValue']('animNumFra'+'mes',_0xdbaee6);}get['animNumFra'+'mes'](){return this['data']['animNumFra'+'mes'];}set['animNumAni'+'mations'](_0x1b2596){this['_setValue']('animNumAni'+'mations',_0x1b2596);}get['animNumAni'+'mations'](){return this['data']['animNumAni'+'mations'];}set['animIndex'](_0x2984b7){this['_setValue']('animIndex',_0x2984b7);}get['animIndex'](){return this['data']['animIndex'];}set['randomizeA'+'nimIndex'](_0x3bfad7){this['_setValue']('randomizeA'+'nimIndex',_0x3bfad7);}get['randomizeA'+'nimIndex'](){return this['data']['randomizeA'+'nimIndex'];}set['animSpeed'](_0x40e155){this['_setValue']('animSpeed',_0x40e155);}get['animSpeed'](){return this['data']['animSpeed'];}set['animLoop'](_0xf7ca77){this['_setValue']('animLoop',_0xf7ca77);}get['animLoop'](){return this['data']['animLoop'];}set['layers'](_0x311475){this['_setValue']('layers',_0x311475);}get['layers'](){return this['data']['layers'];}set['drawOrder'](_0x2f6d99){this['_drawOrder']=_0x2f6d99,this['emitter']&&(this['emitter']['drawOrder']=_0x2f6d99);}get['drawOrder'](){return this['_drawOrder'];}['_setValue'](_0x212ac0,_0x2fca42){const _0x1a5444=this['data'],_0x247c4e=_0x1a5444[_0x212ac0];_0x1a5444[_0x212ac0]=_0x2fca42,this['fire']('set',_0x212ac0,_0x247c4e,_0x2fca42);}['addMeshIns'+'tanceToLay'+'ers'](){if(this['emitter'])for(let _0x55a78c=0x158b+-0x692*-0x4+0x247*-0x15;_0x55a78c<this['layers']['length'];_0x55a78c++){const _0x4d8684=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x55a78c]);_0x4d8684&&(_0x4d8684['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]),this['emitter']['_layer']=_0x4d8684);}}['removeMesh'+'InstanceFr'+'omLayers'](){if(this['emitter'])for(let _0x100799=0x2*0x364+0x408+-0x2b4*0x4;_0x100799<this['layers']['length'];_0x100799++){const _0xd8f2de=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x100799]);_0xd8f2de&&_0xd8f2de['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}}['onSetLayer'+'s'](_0x18817c,_0x39ad27,_0x236c06){if(this['emitter']){for(let _0x594e85=-0xe8f+-0x38a+0x1219*0x1;_0x594e85<_0x39ad27['length'];_0x594e85++){const _0x2ae3d5=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x39ad27[_0x594e85]);_0x2ae3d5&&_0x2ae3d5['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}if(!(!this['enabled']||!this['entity']['enabled']))for(let _0x34b49c=0xbc3+-0x524*0x2+-0x17b;_0x34b49c<_0x236c06['length'];_0x34b49c++){const _0x26aa1b=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x236c06[_0x34b49c]);_0x26aa1b&&_0x26aa1b['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}}}['onLayersCh'+'anged'](_0x18b62d,_0x5ca264){this['addMeshIns'+'tanceToLay'+'ers'](),_0x18b62d['off']('add',this['onLayerAdd'+'ed'],this),_0x18b62d['off']('remove',this['onLayerRem'+'oved'],this),_0x5ca264['on']('add',this['onLayerAdd'+'ed'],this),_0x5ca264['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0xbad691){!this['emitter']||this['layers']['indexOf'](_0xbad691['id'])<-0xa*0x19+-0x2b*-0x84+-0x2*0xa99||_0xbad691['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}['onLayerRem'+'oved'](_0x51d7c3){!this['emitter']||this['layers']['indexOf'](_0x51d7c3['id'])<-0x1*-0x1b95+-0xe85+-0x1*0xd10||_0x51d7c3['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}['_bindColor'+'MapAsset'](_0x475742){if(_0x475742['on']('load',this['_onColorMa'+'pAssetLoad'],this),_0x475742['on']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x475742['on']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x475742['on']('change',this['_onColorMa'+'pAssetChan'+'ge'],this),_0x475742['resource'])this['_onColorMa'+'pAssetLoad'](_0x475742);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x475742);}}['_unbindCol'+'orMapAsset'](_0x52425a){_0x52425a['off']('load',this['_onColorMa'+'pAssetLoad'],this),_0x52425a['off']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x52425a['off']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x52425a['off']('change',this['_onColorMa'+'pAssetChan'+'ge'],this);}['_onColorMa'+'pAssetLoad'](_0x335775){this['colorMap']=_0x335775['resource'];}['_onColorMa'+'pAssetUnlo'+'ad'](_0x15d4a0){this['colorMap']=null;}['_onColorMa'+'pAssetRemo'+'ve'](_0x4aa266){this['_onColorMa'+'pAssetUnlo'+'ad'](_0x4aa266);}['_onColorMa'+'pAssetChan'+'ge'](_0x4ced3c){}['onSetColor'+'MapAsset'](_0x4576d2,_0x153340,_0x3b871e){const _0x29edc1=this['system']['app']['assets'];if(_0x153340){const _0x5c0621=_0x29edc1['get'](_0x153340);_0x5c0621&&this['_unbindCol'+'orMapAsset'](_0x5c0621);}if(_0x3b871e){_0x3b871e instanceof pe&&(this['data']['colorMapAs'+'set']=_0x3b871e['id'],_0x3b871e=_0x3b871e['id']);const _0x4cab2e=_0x29edc1['get'](_0x3b871e);_0x4cab2e?this['_bindColor'+'MapAsset'](_0x4cab2e):_0x29edc1['once']('add:'+_0x3b871e,_0x5c4157=>{this['_bindColor'+'MapAsset'](_0x5c4157);});}else this['colorMap']=null;}['_bindNorma'+'lMapAsset'](_0x42eb9a){if(_0x42eb9a['on']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x42eb9a['on']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x42eb9a['on']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x42eb9a['on']('change',this['_onNormalM'+'apAssetCha'+'nge'],this),_0x42eb9a['resource'])this['_onNormalM'+'apAssetLoa'+'d'](_0x42eb9a);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x42eb9a);}}['_unbindNor'+'malMapAsse'+'t'](_0x22860a){_0x22860a['off']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x22860a['off']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x22860a['off']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x22860a['off']('change',this['_onNormalM'+'apAssetCha'+'nge'],this);}['_onNormalM'+'apAssetLoa'+'d'](_0x5b75cc){this['normalMap']=_0x5b75cc['resource'];}['_onNormalM'+'apAssetUnl'+'oad'](_0x5287b3){this['normalMap']=null;}['_onNormalM'+'apAssetRem'+'ove'](_0x43edbe){this['_onNormalM'+'apAssetUnl'+'oad'](_0x43edbe);}['_onNormalM'+'apAssetCha'+'nge'](_0x147868){}['onSetNorma'+'lMapAsset'](_0x28620f,_0x68a476,_0x480560){const _0x4e22bf=this['system']['app']['assets'];if(_0x68a476){const _0xd39c27=_0x4e22bf['get'](_0x68a476);_0xd39c27&&this['_unbindNor'+'malMapAsse'+'t'](_0xd39c27);}if(_0x480560){_0x480560 instanceof pe&&(this['data']['normalMapA'+'sset']=_0x480560['id'],_0x480560=_0x480560['id']);const _0x509a3c=_0x4e22bf['get'](_0x480560);_0x509a3c?this['_bindNorma'+'lMapAsset'](_0x509a3c):_0x4e22bf['once']('add:'+_0x480560,_0x364f18=>{this['_bindNorma'+'lMapAsset'](_0x364f18);});}else this['normalMap']=null;}['_bindMeshA'+'sset'](_0x40a906){if(_0x40a906['on']('load',this['_onMeshAss'+'etLoad'],this),_0x40a906['on']('unload',this['_onMeshAss'+'etUnload'],this),_0x40a906['on']('remove',this['_onMeshAss'+'etRemove'],this),_0x40a906['on']('change',this['_onMeshAss'+'etChange'],this),_0x40a906['resource'])this['_onMeshAss'+'etLoad'](_0x40a906);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x40a906);}}['_unbindMes'+'hAsset'](_0x356448){_0x356448['off']('load',this['_onMeshAss'+'etLoad'],this),_0x356448['off']('unload',this['_onMeshAss'+'etUnload'],this),_0x356448['off']('remove',this['_onMeshAss'+'etRemove'],this),_0x356448['off']('change',this['_onMeshAss'+'etChange'],this);}['_onMeshAss'+'etLoad'](_0xa686de){this['_onMeshCha'+'nged'](_0xa686de['resource']);}['_onMeshAss'+'etUnload'](_0x29ea58){this['mesh']=null;}['_onMeshAss'+'etRemove'](_0x17d0b0){this['_onMeshAss'+'etUnload'](_0x17d0b0);}['_onMeshAss'+'etChange'](_0x33bd42){}['onSetMeshA'+'sset'](_0x4d08b4,_0x1da764,_0x10993e){const _0x5dfe9a=this['system']['app']['assets'];if(_0x1da764){const _0x85fecd=_0x5dfe9a['get'](_0x1da764);_0x85fecd&&this['_unbindMes'+'hAsset'](_0x85fecd);}if(_0x10993e){_0x10993e instanceof pe&&(this['data']['meshAsset']=_0x10993e['id'],_0x10993e=_0x10993e['id']);const _0x4ebc40=_0x5dfe9a['get'](_0x10993e);_0x4ebc40&&this['_bindMeshA'+'sset'](_0x4ebc40);}else this['_onMeshCha'+'nged'](null);}['onSetMesh'](_0x2a06fe,_0x36c008,_0x3c5698){!_0x3c5698||_0x3c5698 instanceof pe||typeof _0x3c5698=='number'?this['meshAsset']=_0x3c5698:this['_onMeshCha'+'nged'](_0x3c5698);}['_onMeshCha'+'nged'](_0x54aaf9){_0x54aaf9&&!(_0x54aaf9 instanceof Ge)&&(_0x54aaf9['meshInstan'+'ces'][0x298*0x1+-0x71f+0x13*0x3d]?_0x54aaf9=_0x54aaf9['meshInstan'+'ces'][0x258f+-0xa+0x235*-0x11]['mesh']:_0x54aaf9=null),this['data']['mesh']=_0x54aaf9,this['emitter']&&(this['emitter']['mesh']=_0x54aaf9,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['onSetRende'+'rAsset'](_0x37b896,_0x53caaa,_0x3edf07){const _0x427760=this['system']['app']['assets'];if(_0x53caaa){const _0x52f45b=_0x427760['get'](_0x53caaa);_0x52f45b&&this['_unbindRen'+'derAsset'](_0x52f45b);}if(_0x3edf07){_0x3edf07 instanceof pe&&(this['data']['renderAsse'+'t']=_0x3edf07['id'],_0x3edf07=_0x3edf07['id']);const _0x19c827=_0x427760['get'](_0x3edf07);_0x19c827&&this['_bindRende'+'rAsset'](_0x19c827);}else this['_onRenderC'+'hanged'](null);}['_bindRende'+'rAsset'](_0x1eac63){if(_0x1eac63['on']('load',this['_onRenderA'+'ssetLoad'],this),_0x1eac63['on']('unload',this['_onRenderA'+'ssetUnload'],this),_0x1eac63['on']('remove',this['_onRenderA'+'ssetRemove'],this),_0x1eac63['resource'])this['_onRenderA'+'ssetLoad'](_0x1eac63);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x1eac63);}}['_unbindRen'+'derAsset'](_0x31042c){var _0x5d0578;_0x31042c['off']('load',this['_onRenderA'+'ssetLoad'],this),_0x31042c['off']('unload',this['_onRenderA'+'ssetUnload'],this),_0x31042c['off']('remove',this['_onRenderA'+'ssetRemove'],this),(_0x5d0578=this['_evtSetMes'+'hes'])==null||_0x5d0578['off'](),this['_evtSetMes'+'hes']=null;}['_onRenderA'+'ssetLoad'](_0x25ab37){this['_onRenderC'+'hanged'](_0x25ab37['resource']);}['_onRenderA'+'ssetUnload'](_0x5a7b2b){this['_onRenderC'+'hanged'](null);}['_onRenderA'+'ssetRemove'](_0x618ef2){this['_onRenderA'+'ssetUnload'](_0x618ef2);}['_onRenderC'+'hanged'](_0x1c0cd5){var _0x5ee614;if(!_0x1c0cd5){this['_onMeshCha'+'nged'](null);return;}(_0x5ee614=this['_evtSetMes'+'hes'])==null||_0x5ee614['off'](),this['_evtSetMes'+'hes']=_0x1c0cd5['on']('set:meshes',this['_onRenderS'+'etMeshes'],this),_0x1c0cd5['meshes']&&this['_onRenderS'+'etMeshes'](_0x1c0cd5['meshes']);}['_onRenderS'+'etMeshes'](_0x25dd2f){this['_onMeshCha'+'nged'](_0x25dd2f&&_0x25dd2f[-0x21c2+0x16f6+0xacc]);}['onSetLoop'](_0x33169e,_0x2a93f6,_0x5ce736){this['emitter']&&(this['emitter'][_0x33169e]=_0x5ce736,this['emitter']['resetTime']());}['onSetBlend'+'Type'](_0x47e422,_0x521de0,_0x208d45){this['emitter']&&(this['emitter'][_0x47e422]=_0x208d45,this['emitter']['material']['blendType']=_0x208d45,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['_requestDe'+'pth'](){this['_requested'+'Depth']||(Ya||(Ya=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](ps)),Ya&&(Ya['incrementC'+'ounter'](),this['_requested'+'Depth']=!(0x10f0+0x19be+-0x2aae)));}['_releaseDe'+'pth'](){this['_requested'+'Depth']&&Ya&&(Ya['decrementC'+'ounter'](),this['_requested'+'Depth']=!(-0x94f+-0x181f+0x216f));}['onSetDepth'+'Softening'](_0x3985bf,_0x8dae4f,_0x26362c){_0x8dae4f!==_0x26362c&&(_0x26362c?(this['enabled']&&this['entity']['enabled']&&this['_requestDe'+'pth'](),this['emitter']&&(this['emitter'][_0x3985bf]=_0x26362c)):(this['enabled']&&this['entity']['enabled']&&this['_releaseDe'+'pth'](),this['emitter']&&(this['emitter'][_0x3985bf]=_0x26362c)),this['emitter']&&(this['reset'](),this['emitter']['resetMater'+'ial'](),this['rebuild']()));}['onSetSimpl'+'eProperty'](_0x5d14c8,_0x3bc4c9,_0x57eeef){this['emitter']&&(this['emitter'][_0x5d14c8]=_0x57eeef,this['emitter']['resetMater'+'ial']());}['onSetCompl'+'exProperty'](_0x473c9c,_0x29012c,_0x5cdc52){this['emitter']&&(this['emitter'][_0x473c9c]=_0x5cdc52,this['emitter']['resetMater'+'ial'](),this['rebuild'](),this['reset']());}['onSetGraph'+'Property'](_0x582c9b,_0x5d8c1d,_0x22515d){this['emitter']&&(this['emitter'][_0x582c9b]=_0x22515d,this['emitter']['rebuildGra'+'phs'](),this['emitter']['resetMater'+'ial']());}['onEnable'](){const _0x5cea98=this['system']['app']['scene'],_0x5f38a9=_0x5cea98['layers'],_0x4960c0=this['data'];for(let _0x374189=0x20*0x2e+0x8c6*-0x1+0x306,_0x20b1c5=Cc['length'];_0x374189<_0x20b1c5;_0x374189++){let _0x16ecc7=_0x4960c0[Cc[_0x374189]];if(_0x16ecc7){if(!(_0x16ecc7 instanceof pe)){if(parseInt(_0x16ecc7,-0x1*0x8cb+0x9*0x36d+-0x1600)>=-0x1*-0x18cd+0x152+-0x1a1f)_0x16ecc7=this['system']['app']['assets']['get'](_0x16ecc7);else continue;}_0x16ecc7&&!_0x16ecc7['resource']&&this['system']['app']['assets']['load'](_0x16ecc7);}}if(!this['system']['app']['graphicsDe'+'vice']['disablePar'+'ticleSyste'+'m']){if(!this['emitter']){let _0x385f37=_0x4960c0['mesh'];_0x385f37 instanceof Ge||(_0x385f37=null),this['emitter']=new CA(this['system']['app']['graphicsDe'+'vice'],{'numParticles':_0x4960c0['numParticl'+'es'],'emitterExtents':_0x4960c0['emitterExt'+'ents'],'emitterExtentsInner':_0x4960c0['emitterExt'+'entsInner'],'emitterRadius':_0x4960c0['emitterRad'+'ius'],'emitterRadiusInner':_0x4960c0['emitterRad'+'iusInner'],'emitterShape':_0x4960c0['emitterSha'+'pe'],'initialVelocity':_0x4960c0['initialVel'+'ocity'],'wrap':_0x4960c0['wrap'],'localSpace':_0x4960c0['localSpace'],'screenSpace':_0x4960c0['screenSpac'+'e'],'wrapBounds':_0x4960c0['wrapBounds'],'lifetime':_0x4960c0['lifetime'],'rate':_0x4960c0['rate'],'rate2':_0x4960c0['rate2'],'orientation':_0x4960c0['orientatio'+'n'],'particleNormal':_0x4960c0['particleNo'+'rmal'],'animTilesX':_0x4960c0['animTilesX'],'animTilesY':_0x4960c0['animTilesY'],'animStartFrame':_0x4960c0['animStartF'+'rame'],'animNumFrames':_0x4960c0['animNumFra'+'mes'],'animNumAnimations':_0x4960c0['animNumAni'+'mations'],'animIndex':_0x4960c0['animIndex'],'randomizeAnimIndex':_0x4960c0['randomizeA'+'nimIndex'],'animSpeed':_0x4960c0['animSpeed'],'animLoop':_0x4960c0['animLoop'],'startAngle':_0x4960c0['startAngle'],'startAngle2':_0x4960c0['startAngle'+'2'],'scaleGraph':_0x4960c0['scaleGraph'],'scaleGraph2':_0x4960c0['scaleGraph'+'2'],'colorGraph':_0x4960c0['colorGraph'],'colorGraph2':_0x4960c0['colorGraph'+'2'],'alphaGraph':_0x4960c0['alphaGraph'],'alphaGraph2':_0x4960c0['alphaGraph'+'2'],'localVelocityGraph':_0x4960c0['localVeloc'+'ityGraph'],'localVelocityGraph2':_0x4960c0['localVeloc'+'ityGraph2'],'velocityGraph':_0x4960c0['velocityGr'+'aph'],'velocityGraph2':_0x4960c0['velocityGr'+'aph2'],'rotationSpeedGraph':_0x4960c0['rotationSp'+'eedGraph'],'rotationSpeedGraph2':_0x4960c0['rotationSp'+'eedGraph2'],'radialSpeedGraph':_0x4960c0['radialSpee'+'dGraph'],'radialSpeedGraph2':_0x4960c0['radialSpee'+'dGraph2'],'colorMap':_0x4960c0['colorMap'],'normalMap':_0x4960c0['normalMap'],'loop':_0x4960c0['loop'],'preWarm':_0x4960c0['preWarm'],'sort':_0x4960c0['sort'],'stretch':_0x4960c0['stretch'],'alignToMotion':_0x4960c0['alignToMot'+'ion'],'lighting':_0x4960c0['lighting'],'halfLambert':_0x4960c0['halfLamber'+'t'],'intensity':_0x4960c0['intensity'],'depthSoftening':_0x4960c0['depthSofte'+'ning'],'scene':this['system']['app']['scene'],'mesh':_0x385f37,'depthWrite':_0x4960c0['depthWrite'],'noFog':_0x4960c0['noFog'],'node':this['entity'],'blendType':_0x4960c0['blendType']}),this['emitter']['meshInstan'+'ce']['node']=this['entity'],this['emitter']['drawOrder']=this['drawOrder'],_0x4960c0['autoPlay']||(this['pause'](),this['emitter']['meshInstan'+'ce']['visible']=!(-0x1dfe+0x2021+-0x222));}this['emitter']['colorMap']&&this['addMeshIns'+'tanceToLay'+'ers'](),this['_evtLayers'+'Changed']=_0x5cea98['on']('set:layers',this['onLayersCh'+'anged'],this),_0x5f38a9&&(this['_evtLayerA'+'dded']=_0x5f38a9['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x5f38a9['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&_0x4960c0['depthSofte'+'ning']&&this['_requestDe'+'pth']();}}['onDisable'](){var _0xebf499,_0x3de595,_0x591724;const _0x437763=this['system']['app']['scene']['layers'];(_0xebf499=this['_evtLayers'+'Changed'])==null||_0xebf499['off'](),this['_evtLayers'+'Changed']=null,_0x437763&&((_0x3de595=this['_evtLayerA'+'dded'])==null||_0x3de595['off'](),this['_evtLayerA'+'dded']=null,(_0x591724=this['_evtLayerR'+'emoved'])==null||_0x591724['off'](),this['_evtLayerR'+'emoved']=null),this['emitter']&&(this['removeMesh'+'InstanceFr'+'omLayers'](),this['data']['depthSofte'+'ning']&&this['_releaseDe'+'pth'](),this['emitter']['camera']=null);}['onBeforeRe'+'move'](){this['enabled']&&(this['enabled']=!(-0x6*0x1c9+0x1869+-0xdb2)),this['emitter']&&(this['emitter']['destroy'](),this['emitter']=null);for(let _0x30d5e9=-0x58*-0x52+-0xe33+0x1*-0xdfd;_0x30d5e9<Cc['length'];_0x30d5e9++){const _0x3c765d=Cc[_0x30d5e9];this['data'][_0x3c765d]&&(this[_0x3c765d]=null);}this['off']();}['reset'](){this['emitter']&&this['emitter']['reset']();}['stop'](){this['emitter']&&(this['emitter']['loop']=!(0x3*-0x463+0xb4a+0x1e0),this['emitter']['resetTime'](),this['emitter']['addTime'](0x864+-0x239*0x7+0x72b*0x1,!(0x6ff+0x1d66*0x1+-0x4d*0x79)));}['pause'](){this['data']['paused']=!(-0x1148+0xb43+0x17*0x43);}['unpause'](){this['data']['paused']=!(0x81b+-0x8f*-0x13+0x12b7*-0x1);}['play'](){this['data']['paused']=!(-0x13*0xe5+-0x1a*-0xd1+0x1*-0x43a),this['emitter']&&(this['emitter']['meshInstan'+'ce']['visible']=!(0x1*-0x259a+0x23b*0x1+-0x5*-0x713),this['emitter']['loop']=this['data']['loop'],this['emitter']['resetTime']());}['isPlaying'](){return this['data']['paused']?!(-0xb7d*-0x1+-0x21*0x61+0x105):this['emitter']&&this['emitter']['loop']?!(0x8*-0x21a+-0x3ab+0x147b*0x1):Date['now']()<=this['emitter']['endTime'];}['setInTools'](){const {emitter:_0x4a4928}=this;_0x4a4928&&!_0x4a4928['inTools']&&(_0x4a4928['inTools']=!(0x2500+0x1b8a+0x5de*-0xb),this['rebuild']());}['rebuild'](){const _0x4499cf=this['enabled'];this['enabled']=!(0x1af*-0x2+0x189d+-0x153e),this['emitter']&&this['emitter']['rebuild'](),this['enabled']=_0x4499cf;}}class t3{constructor(){this['numParticl'+'es']=-0x1*0x2ce+-0x201+0x58*0xe,this['rate']=-0x10d9*0x1+-0x82d+0x1907,this['rate2']=null,this['startAngle']=0x12ee*-0x1+0x121*-0x11+0x261f,this['startAngle'+'2']=null,this['lifetime']=0x1*-0x207e+-0x195*-0x13+0x2a1*0x1,this['emitterExt'+'ents']=new D(),this['emitterExt'+'entsInner']=new D(),this['emitterRad'+'ius']=-0xbf4+0xe9f*-0x1+0x1a93,this['emitterRad'+'iusInner']=0xcf4*0x1+0x24fd*-0x1+0x1809,this['emitterSha'+'pe']=ai,this['initialVel'+'ocity']=-0x87*-0x44+-0x1*-0x2414+-0x47f0,this['wrap']=!(0x1*0xd93+-0x3*0x148+0x19f*-0x6),this['wrapBounds']=new D(),this['localSpace']=!(-0x160c+0x7fb*0x3+0xf2*-0x2),this['screenSpac'+'e']=!(0x26b5+-0x37*0x54+-0x8*0x295),this['colorMap']=null,this['colorMapAs'+'set']=null,this['normalMap']=null,this['normalMapA'+'sset']=null,this['loop']=!(0x7af*0x2+0xa39*0x1+-0x1997*0x1),this['preWarm']=!(0xdf9*-0x1+0x1*0x1ec5+-0x10cb),this['sort']=0x2070+-0x125a+-0x2*0x70b,this['mode']=rv,this['scene']=null,this['lighting']=!(-0x128f*-0x1+0xd2f+0x145*-0x19),this['halfLamber'+'t']=!(-0x1da4+0x7d*-0x35+0x3786),this['intensity']=-0x1113+-0x1*0x1e13+0x2f27,this['stretch']=0x22ed+0x8b6*0x1+-0x1*0x2ba3,this['alignToMot'+'ion']=!(-0xa31*-0x3+0x1cfa+-0x3b8c),this['depthSofte'+'ning']=-0x1e8a+0x1a04+-0xc1*-0x6,this['renderAsse'+'t']=null,this['meshAsset']=null,this['mesh']=null,this['depthWrite']=!(-0x393*0x2+-0x31*-0x67+0x10*-0xc9),this['noFog']=!(0x11f4+0x1514+-0x1*0x2707),this['orientatio'+'n']=yh,this['particleNo'+'rmal']=new D(-0x2*-0x304+-0xa1+-0x567,-0x2b*0x6b+-0x2f9*0x9+-0x3*-0xee9,-0x10c2+0x1e27+-0xd65),this['animTilesX']=-0x1*0x157d+-0xb0f*-0x2+-0x20*0x5,this['animTilesY']=0xa52*-0x1+0x148d+0x77*-0x16,this['animStartF'+'rame']=-0xb5*-0xd+-0x1c62+0x1331,this['animNumFra'+'mes']=-0x2*-0xcf9+0x2607+-0x1*0x3ff8,this['animNumAni'+'mations']=0x11b9+-0x24db+0x17*0xd5,this['animIndex']=-0x203+0x21e0+-0x1*0x1fdd,this['randomizeA'+'nimIndex']=!(-0x2e3+0x1*0x180b+-0x1527),this['animSpeed']=0x1*-0xd7f+0x7*-0x38f+-0x1*-0x2669,this['animLoop']=!(-0xb*0x11a+-0x4*0x1d+0xc92),this['scaleGraph']=null,this['scaleGraph'+'2']=null,this['colorGraph']=null,this['colorGraph'+'2']=null,this['alphaGraph']=null,this['alphaGraph'+'2']=null,this['localVeloc'+'ityGraph']=null,this['localVeloc'+'ityGraph2']=null,this['velocityGr'+'aph']=null,this['velocityGr'+'aph2']=null,this['rotationSp'+'eedGraph']=null,this['rotationSp'+'eedGraph2']=null,this['radialSpee'+'dGraph']=null,this['radialSpee'+'dGraph2']=null,this['blendType']=Zs,this['enabled']=!(0xa0*0x3a+-0x1f49+-0x4f7),this['paused']=!(-0x81*-0xe+0x5*0x16+-0x77b),this['autoPlay']=!(0x1b39*-0x1+-0x22e3+-0x3c*-0x109),this['layers']=[er];}}const s3='\x0avarying\x20v'+'ec4\x20texCoo'+'rdsAlphaLi'+'fe;\x0a\x0aunifo'+'rm\x20sampler'+'2D\x20colorMa'+'p;\x0auniform'+'\x20sampler2D'+'\x20colorPara'+'m;\x0auniform'+'\x20float\x20gra'+'phSampleSi'+'ze;\x0aunifor'+'m\x20float\x20gr'+'aphNumSamp'+'les;\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a\x20\x20\x20'+'\x20#define\x20C'+'AMERAPLANE'+'S\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'amera_para'+'ms;\x0a#endif'+'\x0a\x0auniform\x20'+'float\x20soft'+'ening;\x0auni'+'form\x20float'+'\x20colorMult'+';\x0a\x0afloat\x20s'+'aturate(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(x,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex\x20\x20=\x20tex'+'ture2D(col'+'orMap,\x20vec'+'2(texCoord'+'sAlphaLife'+'.x,\x201.0\x20-\x20'+'texCoordsA'+'lphaLife.y'+'));\x0a\x20\x20\x20\x20ve'+'c4\x20ramp\x20=\x20'+'texture2D('+'colorParam'+',\x20vec2(tex'+'CoordsAlph'+'aLife.w,\x200'+'.0));\x0a\x20\x20\x20\x20'+'ramp.rgb\x20*'+'=\x20colorMul'+'t;\x0a\x0a\x20\x20\x20\x20ra'+'mp.a\x20+=\x20te'+'xCoordsAlp'+'haLife.z;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'rgb\x20=\x20tex.'+'rgb\x20*\x20ramp'+'.rgb;\x0a\x20\x20\x20\x20'+'float\x20a\x20\x20='+'\x20tex.a\x20*\x20r'+'amp.a;\x0a',i3='\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0af'+'loat\x20satur'+'ate(float\x20'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p(x,\x200.0,\x20'+'1.0);\x0a}\x0a\x0av'+'ec4\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(\x20texture2'+'D(tex,tc),'+'\x20texture2D'+'(tex,tc\x20+\x20'+'graphSampl'+'eSize),\x20fr'+'act(tc.x*g'+'raphNumSam'+'ples)\x20);\x0a}'+'\x0a\x0avec4\x20tex'+'1Dlod_lerp'+'(TEXTURE_A'+'CCEPT_HIGH'+'P(tex),\x20ve'+'c2\x20tc,\x20out'+'\x20vec3\x20w)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'a\x20=\x20textur'+'e2D(tex,tc'+');\x0a\x20\x20\x20\x20vec'+'4\x20b\x20=\x20text'+'ure2D(tex,'+'tc\x20+\x20graph'+'SampleSize'+');\x0a\x20\x20\x20\x20flo'+'at\x20c\x20=\x20fra'+'ct(tc.x*gr'+'aphNumSamp'+'les);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20unpa'+'ckedA\x20=\x20un'+'pack3NFloa'+'ts(a.w);\x0a\x20'+'\x20\x20\x20vec3\x20un'+'packedB\x20=\x20'+'unpack3NFl'+'oats(b.w);'+'\x0a\x20\x20\x20\x20w\x20=\x20m'+'ix(unpacke'+'dA,\x20unpack'+'edB,\x20c);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20mix(a,\x20b,'+'\x20c);\x0a}\x0a\x0ave'+'c2\x20rotate('+'vec2\x20quadX'+'Y,\x20float\x20p'+'Rotation,\x20'+'out\x20mat2\x20r'+'otMatrix)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20cos('+'pRotation)'+';\x0a\x20\x20\x20\x20floa'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x0a\x20\x20\x20\x20mat'+'2\x20m\x20=\x20mat2'+'(c,\x20-s,\x20s,'+'\x20c);\x0a\x20\x20\x20\x20r'+'otMatrix\x20='+'\x20m;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20m\x20*\x20'+'quadXY;\x0a}\x0a'+'\x0avec3\x20bill'+'board(vec3'+'\x20InstanceC'+'oords,\x20vec'+'2\x20quadXY)\x20'+'{\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREEN_'+('SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'os\x20=\x20vec3('+'-1,\x200,\x200)\x20'+'*\x20quadXY.x'+'\x20+\x20vec3(0,'+'\x20-1,\x200)\x20*\x20'+'quadXY.y;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20pos;\x0a}\x0a\x0av'+'ec3\x20custom'+'Face(vec3\x20'+'InstanceCo'+'ords,\x20vec2'+'\x20quadXY)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'pos\x20=\x20face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20faceBinor'+'m\x20*\x20quadXY'+'.y;\x0a\x20\x20\x20\x20re'+'turn\x20pos;\x0a'+'}\x0a\x0avec2\x20sa'+'feNormaliz'+'e(vec2\x20v)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20l\x20=\x20leng'+'th(v);\x0a\x20\x20\x20'+'\x20return\x20(l'+'\x20>\x201e-06)\x20'+'?\x20v\x20/\x20l\x20:\x20'+'v;\x0a}\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20meshLoc'+'alPos\x20=\x20pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20id\x20=\x20fl'+'oor(partic'+'le_vertexD'+'ata.w);\x0a\x0a\x20'+'\x20\x20\x20float\x20r'+'ndFactor\x20='+'\x20fract(sin'+'(id\x20+\x201.0\x20'+'+\x20seed));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'ndFactor3\x20'+'=\x20vec3(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20float\x20uv\x20'+'=\x20id\x20/\x20num'+'ParticlesP'+'ot;\x0a\x20\x20\x20\x20re'+'adInput(uv'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20safeNorma'+'lize((mat3'+'(matrix_vi'+'ew)\x20*\x20inVe'+'l).xy);\x20//'+'\x20should\x20be'+'\x20removed\x20b'+'y\x20compiler'+'\x20if\x20align/'+'stretch\x20is'+'\x20not\x20used\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20particleL'+'ifetime\x20=\x20'+'lifetime;\x0a'+'\x0a\x20\x20\x20\x20if\x20(i')+('nLife\x20<=\x200'+'.0\x20||\x20inLi'+'fe\x20>\x20parti'+'cleLifetim'+'e\x20||\x20!inSh'+'ow)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20meshLoca'+'lPos\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20vec2\x20qua'+'dXY\x20=\x20mesh'+'LocalPos.x'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20nlife\x20='+'\x20clamp(inL'+'ife\x20/\x20part'+'icleLifeti'+'me,\x200.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20param'+'Div;\x0a\x20\x20\x20\x20v'+'ec4\x20params'+'\x20=\x20tex1Dlo'+'d_lerp(TEX'+'TURE_PASS('+'internalTe'+'x2),\x20vec2('+'nlife,\x200),'+'\x20paramDiv)'+';\x0a\x20\x20\x20\x20floa'+'t\x20scale\x20=\x20'+'params.y;\x0a'+'\x20\x20\x20\x20float\x20'+'scaleDiv\x20='+'\x20paramDiv.'+'x;\x0a\x20\x20\x20\x20flo'+'at\x20alphaDi'+'v\x20=\x20paramD'+'iv.z;\x0a\x0a\x20\x20\x20'+'\x20scale\x20+=\x20'+'(scaleDiv\x20'+'*\x202.0\x20-\x201.'+'0)\x20*\x20scale'+'DivMult\x20*\x20'+'fract(rndF'+'actor*1000'+'0.0);\x0a\x0a#if'+'ndef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(quadXY'+'\x20*\x20-0.5\x20+\x20'+'0.5,\x20(alph'+'aDiv\x20*\x202.0'+'\x20-\x201.0)\x20*\x20'+'alphaDivMu'+'lt\x20*\x20fract'+'(rndFactor'+'*1000.0),\x20'+'nlife);\x0a#e'+'lse\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(partic'+'le_uv,\x20(al'+'phaDiv\x20*\x202'+'.0\x20-\x201.0)\x20'+'*\x20alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'#endif\x0a\x0a\x20\x20'+'\x20\x20vec3\x20par'+'ticlePos\x20='+'\x20inPos;\x0a\x20\x20'+'\x20\x20vec3\x20par'+'ticlePosMo'+'ved\x20=\x20vec3'+'(0.0);\x0a\x0a\x20\x20'+'\x20\x20mat2\x20rot'+'Matrix;\x0a'),r3='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20min(flo'+'or(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y)\x20+\x20animT'+'exParams.x'+',\x20animTexP'+'arams.z);\x0a',a3='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20floor(m'+'od(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y\x20+\x20animTe'+'xParams.x,'+'\x20animTexPa'+'rams.z\x20+\x201'+'.0));\x0a',n3='\x0a\x20\x20\x20\x20float'+'\x20animation'+'Index;\x0a\x0a\x20\x20'+'\x20\x20if\x20(anim'+'TexIndexPa'+'rams.y\x20==\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20anima'+'tionIndex\x20'+'=\x20floor((a'+'nimTexPara'+'ms.w\x20+\x201.0'+')\x20*\x20rndFac'+'tor3.z)\x20*\x20'+'(animTexPa'+'rams.z\x20+\x201'+'.0);\x0a\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20animTex'+'IndexParam'+'s.x\x20*\x20(ani'+'mTexParams'+'.z\x20+\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20float\x20at'+'lasX\x20=\x20(an'+'imationInd'+'ex\x20+\x20animF'+'rame)\x20*\x20an'+'imTexTiles'+'Params.x;\x0a'+'\x20\x20\x20\x20float\x20'+'atlasY\x20=\x201'+'.0\x20-\x20floor'+'(atlasX\x20+\x20'+'1.0)\x20*\x20ani'+'mTexTilesP'+'arams.y;\x0a\x20'+'\x20\x20\x20atlasX\x20'+'=\x20fract(at'+'lasX);\x0a\x0a\x20\x20'+'\x20\x20texCoord'+'sAlphaLife'+'.xy\x20*=\x20ani'+'mTexTilesP'+'arams.xy;\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe.xy\x20+=\x20v'+'ec2(atlasX'+',\x20atlasY);'+'\x0a',o3='\x0avoid\x20read'+'Input(floa'+'t\x20uv)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'\x20=\x20texture'+'2D(particl'+'eTexIN,\x20ve'+'c2(uv,\x200.2'+'5));\x0a\x20\x20\x20\x20v'+'ec4\x20tex2\x20='+'\x20texture2D'+'(particleT'+'exIN,\x20vec2'+'(uv,\x200.75)'+');\x0a\x0a\x20\x20\x20\x20in'+'Pos\x20=\x20tex.'+'xyz;\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inAngle\x20='+'\x20(tex.w\x20<\x20'+'0.0?\x20-tex.'+'w\x20:\x20tex.w)'+'\x20-\x201000.0;'+'\x0a\x20\x20\x20\x20inSho'+'w\x20=\x20tex.w\x20'+'>=\x200.0;\x0a\x20\x20'+'\x20\x20inLife\x20='+'\x20tex2.w;\x0a}'+'\x0a',l3='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0a#'+'define\x20PI2'+'\x206.2831853'+'07179586\x0a\x0a'+'uniform\x20ve'+'c3\x20inBound'+'sSize;\x0auni'+'form\x20vec3\x20'+'inBoundsCe'+'nter;\x0a\x0auni'+'form\x20float'+'\x20maxVel;\x0a\x0a'+'float\x20deco'+'deFloatRG('+'vec2\x20rg)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20rg.y\x20*\x20('+'1.0\x20/\x20255.'+'0)\x20+\x20rg.x;'+'\x0a}\x0a\x0afloat\x20'+'decodeFloa'+'tRGBA(\x20vec'+'4\x20rgba\x20)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20dot(rgba'+',\x20vec4(1.0'+',\x201.0\x20/\x2025'+'5.0,\x201.0\x20/'+'\x2065025.0,\x20'+'1.0\x20/\x201605'+'81375.0));'+'\x0a}\x0a\x0avoid\x20r'+'eadInput(f'+'loat\x20uv)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex0\x20=\x20tex'+'ture2D(par'+'ticleTexIN'+',\x20vec2(uv,'+'\x200.125));\x0a'+'\x20\x20\x20\x20vec4\x20t'+'ex1\x20=\x20text'+'ure2D(part'+'icleTexIN,'+'\x20vec2(uv,\x20'+'0.375));\x0a\x20'+'\x20\x20\x20vec4\x20te'+'x2\x20=\x20textu'+'re2D(parti'+'cleTexIN,\x20'+'vec2(uv,\x200'+'.625));\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'3\x20=\x20textur'+'e2D(partic'+'leTexIN,\x20v'+'ec2(uv,\x200.'+'875));\x0a\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'vec3(decod'+'eFloatRG(t'+'ex0.rg),\x20d'+'ecodeFloat'+'RG(tex0.ba'+'),\x20decodeF'+'loatRG(tex'+'1.rg));\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'(inPos\x20-\x20v'+'ec3(0.5))\x20'+'*\x20inBounds'+'Size\x20+\x20inB'+'oundsCente'+'r;\x0a\x0a\x20\x20\x20\x20in'+'Vel\x20=\x20tex2'+'.xyz;\x0a\x20\x20\x20\x20'+'inVel\x20=\x20(i'+'nVel\x20-\x20vec'+'3(0.5))\x20*\x20'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20float\x20max'+'NegLife\x20=\x20'+'max(lifeti'+'me,\x20(numPa'+('rticles\x20-\x20'+'1.0)\x20*\x20(ra'+'te+rateDiv'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20maxPos'+'Life\x20=\x20lif'+'etime+1.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20inLife'+'\x20*\x20(maxNeg'+'Life\x20+\x20max'+'PosLife)\x20-'+'\x20maxNegLif'+'e;\x0a}\x0a'),c3='\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'gl_FragCoo'+'rd.y<1.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'outPos,\x20(o'+'utAngle\x20+\x20'+'1000.0)\x20*\x20'+'visMode);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(outVel,\x20o'+'utLife);\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',h3='\x0auniform\x20v'+'ec3\x20outBou'+'ndsMul;\x0aun'+'iform\x20vec3'+'\x20outBounds'+'Add;\x0a\x0avec2'+'\x20encodeFlo'+'atRG(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20enc'+'\x20=\x20vec2(1.'+'0,\x20255.0)\x20'+'*\x20v;\x0a\x20\x20\x20\x20e'+'nc\x20=\x20fract'+'(enc);\x0a\x20\x20\x20'+'\x20enc\x20-=\x20en'+'c.yy\x20*\x20vec'+'2(1.0/255.'+'0,\x201.0/255'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20enc;'+'\x0a}\x0a\x0avec4\x20e'+'ncodeFloat'+'RGBA(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20enc'+'\x20=\x20vec4(1.'+'0,\x20255.0,\x20'+'65025.0,\x201'+'60581375.0'+')\x20*\x20v;\x0a\x20\x20\x20'+'\x20enc\x20=\x20fra'+'ct(enc);\x0a\x20'+'\x20\x20\x20enc\x20-=\x20'+'enc.yzww\x20*'+'\x20vec4(1.0/'+'255.0,1.0/'+'255.0,1.0/'+'255.0,0.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20enc;\x0a}\x0a'+'\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20outP'+'os\x20=\x20outPo'+'s\x20*\x20outBou'+'ndsMul\x20+\x20o'+'utBoundsAd'+'d;\x0a\x20\x20\x20\x20out'+'Angle\x20=\x20fr'+'act(outAng'+'le\x20/\x20PI2);'+'\x0a\x0a\x20\x20\x20\x20outV'+'el\x20=\x20(outV'+'el\x20/\x20maxVe'+'l)\x20+\x20vec3('+'0.5);\x20//\x20T'+'ODO:\x20mul\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'maxNegLife'+'\x20=\x20max(lif'+'etime,\x20(nu'+'mParticles'+'\x20-\x201.0)\x20*\x20'+'(rate+rate'+'Div));\x0a\x20\x20\x20'+'\x20float\x20max'+'PosLife\x20=\x20'+'lifetime+1'+'.0;\x0a\x20\x20\x20\x20ou'+'tLife\x20=\x20(o'+'utLife\x20+\x20m'+'axNegLife)'+'\x20/\x20(maxNeg'+'Life\x20+\x20max'+'PosLife);\x0a'+'\x0a\x20\x20\x20\x20if\x20(g'+'l_FragCoor'+'d.y\x20<\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(encodeFlo'+'atRG(outPo'+'s.x),\x20enco'+'deFloatRG('+'outPos.y))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(gl_'+'FragCoord.'+'y\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(e'+'ncodeFloat'+'RG(outPos.'+'z),\x20encode'+'FloatRG(ou'+'tAngle));\x0a'+'\x20\x20\x20\x20}\x20else'+('\x20if\x20(gl_Fr'+'agCoord.y\x20'+'<\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(out'+'Vel,\x20visMo'+'de*0.5+0.5'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20e'+'ncodeFloat'+'RGBA(outLi'+'fe);\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),d3='\x0auniform\x20m'+'at3\x20spawnB'+'ounds;\x0auni'+'form\x20vec3\x20'+'spawnPosIn'+'nerRatio;\x0a'+'\x0avec3\x20calc'+'SpawnPosit'+'ion(vec3\x20i'+'nBounds,\x20f'+'loat\x20rndFa'+'ctor)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20inBound'+'s\x20-\x20vec3(0'+'.5);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20posAb'+'s\x20=\x20abs(po'+'s);\x0a\x20\x20\x20\x20ve'+'c3\x20maxPos\x20'+'=\x20vec3(max'+'(posAbs.x,'+'\x20max(posAb'+'s.y,\x20posAb'+'s.z)));\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ed'+'ge\x20=\x20maxPo'+'s\x20+\x20(vec3('+'0.5)\x20-\x20max'+'Pos)\x20*\x20spa'+'wnPosInner'+'Ratio;\x0a\x0a\x20\x20'+'\x20\x20pos.x\x20=\x20'+'edge.x\x20*\x20('+'maxPos.x\x20='+'=\x20posAbs.x'+'\x20?\x20sign(po'+'s.x)\x20:\x202.0'+'\x20*\x20pos.x);'+'\x0a\x20\x20\x20\x20pos.y'+'\x20=\x20edge.y\x20'+'*\x20(maxPos.'+'y\x20==\x20posAb'+'s.y\x20?\x20sign'+'(pos.y)\x20:\x20'+'2.0\x20*\x20pos.'+'y);\x0a\x20\x20\x20\x20po'+'s.z\x20=\x20edge'+'.z\x20*\x20(maxP'+'os.z\x20==\x20po'+'sAbs.z\x20?\x20s'+'ign(pos.z)'+'\x20:\x202.0\x20*\x20p'+'os.z);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20return\x20e'+'mitterPos\x20'+'+\x20spawnBou'+'nds\x20*\x20pos;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20sp'+'awnBounds\x20'+'*\x20pos;\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20addIniti'+'alVelocity'+'(inout\x20vec'+'3\x20localVel'+'ocity,\x20vec'+'3\x20inBounds'+')\x20{\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20-=\x20vec3('+'0,\x200,\x20init'+'ialVelocit'+'y);\x0a}\x0a',f3='\x0a\x20\x20\x20\x20write'+'Output();\x0a'+'}\x0a',u3='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20parti'+'cleTexIN;\x0a'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x2;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex3'+';\x0a\x0auniform'+'\x20mat3\x20emit'+'terMatrix;'+'\x0auniform\x20m'+'at3\x20emitte'+'rMatrixInv'+';\x0auniform\x20'+'vec3\x20emitt'+'erScale;\x0a\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Pos;\x0aunifo'+'rm\x20vec3\x20fr'+'ameRandom;'+'\x0auniform\x20v'+'ec3\x20localV'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20vec3\x20v'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20float\x20'+'delta;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20nu'+'mParticles'+';\x0auniform\x20'+'float\x20rotS'+'peedDivMul'+'t;\x0auniform'+'\x20float\x20rad'+'ialSpeedDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20startAngl'+'e;\x0auniform'+'\x20float\x20sta'+'rtAngle2;\x0a'+'uniform\x20fl'+'oat\x20initia'+'lVelocity;'+'\x0a\x0auniform\x20'+'float\x20grap'+'hSampleSiz'+'e;\x0auniform'+'\x20float\x20gra'+'phNumSampl'+'es;\x0a\x0avec3\x20'+'inPos;\x0avec'+'3\x20inVel;\x0af'+'loat\x20inAng'+'le;\x0abool\x20i'+'nShow;\x0aflo'+'at\x20inLife;'+'\x0afloat\x20vis'+'Mode;\x0a\x0avec'+'3\x20outPos;\x0a'+'vec3\x20outVe'+'l;\x0afloat\x20o'+'utAngle;\x0ab'+'ool\x20outSho'+'w;\x0afloat\x20o'+'utLife;\x0a',p3='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x20-1.0;\x0a\x20\x20\x20'+'\x20}\x0a',m3='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20outLi'+'fe\x20<\x200.0?\x20'+'-1.0:\x20visM'+'ode;\x0a',_3='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20visM'+'ode\x20=\x20outL'+'ife\x20<\x200.0?'+'\x201.0:\x20visM'+'ode;\x0a',g3='\x0auniform\x20f'+'loat\x20spawn'+'BoundsSphe'+'re;\x0aunifor'+'m\x20float\x20sp'+'awnBoundsS'+'phereInner'+'Ratio;\x0a\x0ave'+'c3\x20calcSpa'+'wnPosition'+'(vec3\x20inBo'+'unds,\x20floa'+'t\x20rndFacto'+'r)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20rnd4\x20'+'=\x20fract(rn'+'dFactor\x20*\x20'+'1000.0);\x0a\x20'+'\x20\x20\x20vec3\x20no'+'rm\x20=\x20norma'+'lize(inBou'+'nds.xyz\x20-\x20'+'vec3(0.5))'+';\x0a\x20\x20\x20\x20floa'+'t\x20r\x20=\x20rnd4'+'\x20*\x20(1.0\x20-\x20'+'spawnBound'+'sSphereInn'+'erRatio)\x20+'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio;\x0a'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20return'+'\x20emitterPo'+'s\x20+\x20norm\x20*'+'\x20r\x20*\x20spawn'+'BoundsSphe'+'re;\x0a#else\x0a'+'\x20\x20\x20\x20return'+'\x20norm\x20*\x20r\x20'+'*\x20spawnBou'+'ndsSphere;'+'\x0a#endif\x0a}\x0a'+'\x0avoid\x20addI'+'nitialVelo'+'city(inout'+'\x20vec3\x20loca'+'lVelocity,'+'\x20vec3\x20inBo'+'unds)\x20{\x0a\x20\x20'+'\x20\x20localVel'+'ocity\x20+=\x20n'+'ormalize(i'+'nBounds\x20-\x20'+'vec3(0.5))'+'\x20*\x20initial'+'Velocity;\x0a'+'}\x0a',S3='\x0afloat\x20sat'+'urate(floa'+'t\x20x)\x20{\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(x,\x200.0'+',\x201.0);\x0a}\x0a'+'\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0av'+'ec3\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc,\x20out\x20ve'+'c3\x20w)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20a\x20='+'\x20texture2D'+'(tex,\x20tc);'+'\x0a\x20\x20\x20\x20vec4\x20'+'b\x20=\x20textur'+'e2D(tex,\x20t'+'c\x20+\x20graphS'+'ampleSize)'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20g'+'raphNumSam'+'ples);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20unp'+'ackedA\x20=\x20u'+'npack3NFlo'+'ats(a.w);\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20w\x20=\x20'+'mix(unpack'+'edA,\x20unpac'+'kedB,\x20c);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(a.xy'+'z,\x20b.xyz,\x20'+'c);\x0a}\x0a\x0a#de'+'fine\x20HASHS'+'CALE4\x20vec4'+'(1031,\x20.10'+'30,\x20.0973,'+'\x20.1099)\x0ave'+'c4\x20hash41('+'float\x20p)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'p4\x20=\x20fract'+'(vec4(p)\x20*'+'\x20HASHSCALE'+'4);\x0a\x20\x20\x20\x20p4'+'\x20+=\x20dot(p4'+',\x20p4.wzxy+'+'19.19);\x0a\x20\x20'+'\x20\x20return\x20f'+'ract(vec4('+'(p4.x\x20+\x20p4'+'.y)*p4.z,\x20'+'(p4.x\x20+\x20p4'+'.z)*p4.y,\x20'+'(p4.y\x20+\x20p4'+'.z)*p4.w,\x20'+'(p4.z\x20+\x20p4'+'.w)*p4.x))'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(gl_FragCo'+'ord.x\x20>\x20nu'+'mParticles'+')\x20discard;'+'\x0a\x0a\x20\x20\x20\x20read'+'Input(vUv0'+'.x);\x0a\x20\x20\x20\x20v'+'isMode\x20=\x20i'+'nShow?\x201.0'+'\x20:\x20-1.0;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20r'+'ndFactor\x20='+'\x20hash41(gl'+'_FragCoord'+('.x\x20+\x20seed)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eRate\x20=\x20ra'+'te\x20+\x20rateD'+'iv\x20*\x20rndFa'+'ctor.x;\x0a\x0a\x20'+'\x20\x20\x20outLife'+'\x20=\x20inLife\x20'+'+\x20delta;\x0a\x20'+'\x20\x20\x20float\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20lifetim'+'e,\x200.0,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localV'+'elocityDiv'+';\x0a\x20\x20\x20\x20vec3'+'\x20velocityD'+'iv;\x0a\x20\x20\x20\x20ve'+'c3\x20paramDi'+'v;\x0a\x20\x20\x20\x20vec'+'3\x20localVel'+'ocity\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex0),\x20'+'vec2(nlife'+',\x200),\x20loca'+'lVelocityD'+'iv);\x0a\x20\x20\x20\x20v'+'ec3\x20veloci'+'ty\x20=\x20\x20\x20\x20\x20\x20'+'tex1Dlod_l'+'erp(TEXTUR'+'E_PASS(int'+'ernalTex1)'+',\x20vec2(nli'+'fe,\x200),\x20ve'+'locityDiv)'+';\x0a\x20\x20\x20\x20vec3'+'\x20params\x20=\x20'+'\x20\x20\x20\x20\x20\x20\x20tex'+'1Dlod_lerp'+'(TEXTURE_P'+'ASS(intern'+'alTex2),\x20v'+'ec2(nlife,'+'\x200),\x20param'+'Div);\x0a\x20\x20\x20\x20'+'float\x20rotS'+'peed\x20=\x20par'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rot'+'SpeedDiv\x20='+'\x20paramDiv.'+'y;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20radialP'+'arams\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex3),\x20'+'vec2(nlife'+',\x200),\x20para'+'mDiv);\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeed\x20='+'\x20radialPar'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeedDi'+'v\x20=\x20radial'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20bool\x20'+'respawn\x20=\x20'+'inLife\x20<=\x20'+'0.0\x20||\x20out'+'Life\x20>=\x20li'+'fetime;\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'respawn\x20?\x20'+'calcSpawnP'+'osition(rn'+'dFactor.xy'+'z,\x20rndFact'+'or.x)\x20:\x20in'+'Pos;\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20r'+'espawn\x20?\x20m'+'ix(startAn'+'gle,\x20start'+'Angle2,\x20rn'+'dFactor.x)'+'\x20:\x20inAngle'+';\x0a\x0a#ifndef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20vec')+('3\x20radialVe'+'l\x20=\x20inPos\x20'+'-\x20emitterP'+'os;\x0a#else\x0a'+'\x20\x20\x20\x20vec3\x20r'+'adialVel\x20='+'\x20inPos;\x0a#e'+'ndif\x0a\x20\x20\x20\x20r'+'adialVel\x20='+'\x20(dot(radi'+'alVel,\x20rad'+'ialVel)\x20>\x20'+'1.0E-8)\x20?\x20'+'radialSpee'+'d\x20*\x20normal'+'ize(radial'+'Vel)\x20:\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20+=\x20(radi'+'alSpeedDiv'+'\x20*\x20vec3(2.'+'0)\x20-\x20vec3('+'1.0))\x20*\x20ra'+'dialSpeedD'+'ivMult\x20*\x20r'+'ndFactor.x'+'yz;\x0a\x0a\x20\x20\x20\x20l'+'ocalVeloci'+'ty\x20+=\x20\x20\x20\x20('+'localVeloc'+'ityDiv\x20*\x20v'+'ec3(2.0)\x20-'+'\x20vec3(1.0)'+')\x20*\x20localV'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20velo'+'city\x20+=\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20(vel'+'ocityDiv\x20*'+'\x20vec3(2.0)'+'\x20-\x20vec3(1.'+'0))\x20*\x20velo'+'cityDivMul'+'t\x20*\x20rndFac'+'tor.xyz;\x0a\x20'+'\x20\x20\x20rotSpee'+'d\x20+=\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(rotSpe'+'edDiv\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20rotSpeedD'+'ivMult\x20*\x20r'+'ndFactor.y'+';\x0a\x0a\x20\x20\x20\x20add'+'InitialVel'+'ocity(loca'+'lVelocity,'+'\x20rndFactor'+'.xyz);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20em'+'itterScale'+';\x0a#else\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20(localVel'+'ocity\x20+\x20ra'+'dialVel)\x20/'+'\x20emitterSc'+'ale\x20+\x20emit'+'terMatrixI'+'nv\x20*\x20veloc'+'ity;\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20out'+'Pos\x20=\x20inPo'+'s\x20+\x20outVel'+'\x20*\x20delta;\x0a'+'\x20\x20\x20\x20outAng'+'le\x20=\x20inAng'+'le\x20+\x20rotSp'+'eed\x20*\x20delt'+'a;\x0a'),y3='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',v3='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'*=\x20saturat'+'e(gammaCor'+'rectInput('+'max(a,\x200.0'+')));\x0a\x20\x20\x20\x20i'+'f\x20((rgb.r\x20'+'+\x20rgb.g\x20+\x20'+'rgb.b)\x20<\x200'+'.000001)\x20d'+'iscard;\x0a',x3='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3('+'1.0),\x20rgb,'+'\x20vec3(a));'+'\x0a\x20\x20\x20\x20if\x20(r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+'\x20>\x202.99)\x20d'+'iscard;\x0a',T3='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20d'+'iscard;\x0a',w3='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20\x20\x20/'+'/\x20XYZ\x20=\x20wo'+'rld\x20pos,\x20W'+'\x20=\x20life\x0aat'+'tribute\x20ve'+'c4\x20particl'+'e_vertexDa'+'ta2;\x20\x20//\x20X'+'\x20=\x20angle,\x20'+'Y\x20=\x20scale,'+'\x20Z\x20=\x20alpha'+',\x20W\x20=\x20velo'+'city.x\x0aatt'+'ribute\x20vec'+'4\x20particle'+'_vertexDat'+'a3;\x20\x20//\x20XY'+'Z\x20=\x20partic'+'le\x20local\x20p'+'os,\x20W\x20=\x20ve'+'locity.y\x0aa'+'ttribute\x20f'+'loat\x20parti'+'cle_vertex'+'Data4;\x20//\x20'+'particle\x20i'+'d\x0a\x0a//\x20type'+'\x20depends\x20o'+'n\x20useMesh\x20'+'property.\x20'+'Start\x20with'+'\x20X\x20=\x20veloc'+'ity.z,\x20Y\x20='+'\x20particle\x20'+'ID\x20and\x20for'+'\x20mesh\x20part'+'icles\x20proc'+'eeds\x20with\x20'+'Z\x20=\x20mesh\x20U'+'V.x,\x20W\x20=\x20m'+'esh\x20UV.y\x0a/'+'/\x20Note:\x20Th'+'is\x20generat'+'es\x20a\x20dupli'+'cate\x20attri'+'bute\x20warni'+'ng,\x20as\x20the'+'\x20scanning\x20'+'we\x20do\x20is\x20v'+'ery\x20simple'+'.\x0a#ifndef\x20'+'USE_MESH\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vec2\x20pa'+'rticle_ver'+'texData5;\x0a'+'#else\x0a\x20\x20\x20\x20'+'attribute\x20'+'vec4\x20parti'+'cle_vertex'+'Data5;\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0a\x0a#'+'ifndef\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20#define\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_view;'+'\x0a#endif\x0a\x0au'+'niform\x20mat'+'3\x20matrix_n'+'ormal;\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wInverse;\x0a'+'\x0auniform\x20f'+'loat\x20numPa'+'rticles;\x0au'+'niform\x20flo'+'at\x20lifetim'+'e;\x0auniform'+'\x20float\x20str'+'etch;\x0aunif'+'orm\x20float\x20'+'seed;\x0aunif'+'orm\x20vec3\x20w'+'rapBounds;'+'\x0auniform\x20v'+'ec3\x20emitte'+'rScale;\x0aun'+('iform\x20vec3'+'\x20faceTange'+'nt;\x0aunifor'+'m\x20vec3\x20fac'+'eBinorm;\x0a\x0a'+'#ifdef\x20PAR'+'TICLE_GPU\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex0'+';\x0a\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x1;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex2;\x0a#end'+'if\x0auniform'+'\x20vec3\x20emit'+'terPos;\x0a\x0av'+'arying\x20vec'+'4\x20texCoord'+'sAlphaLife'+';\x0a\x0avec2\x20ro'+'tate(vec2\x20'+'quadXY,\x20fl'+'oat\x20pRotat'+'ion,\x20out\x20m'+'at2\x20rotMat'+'rix)\x0a{\x0a\x20\x20\x20'+'\x20float\x20c\x20='+'\x20cos(pRota'+'tion);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20sin(pRota'+'tion);\x0a\x20\x20\x20'+'\x20//vec4\x20ro'+'tationMatr'+'ix\x20=\x20vec4('+'c,\x20-s,\x20s,\x20'+'c);\x0a\x0a\x20\x20\x20\x20m'+'at2\x20m\x20=\x20ma'+'t2(c,\x20-s,\x20'+'s,\x20c);\x0a\x20\x20\x20'+'\x20rotMatrix'+'\x20=\x20m;\x0a\x0a\x20\x20\x20'+'\x20return\x20m\x20'+'*\x20quadXY;\x0a'+'}\x0a\x0avec3\x20bi'+'llboard(ve'+'c3\x20Instanc'+'eCoords,\x20v'+'ec2\x20quadXY'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20return\x20p'+'os;\x0a}\x0a\x0avec'+'3\x20customFa'+'ce(vec3\x20In'+'stanceCoor'+'ds,\x20vec2\x20q'+'uadXY)\x0a{\x0a\x20'+'\x20\x20\x20vec3\x20po'+'s\x20=\x20faceTa'+'ngent\x20*\x20qu'+'adXY.x\x20+\x20f'+'aceBinorm\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0avoid\x20main'+'(void)\x0a{\x0a\x20'+'\x20\x20\x20vec3\x20pa'+'rticlePos\x20'+'=\x20particle'+'_vertexDat'+'a.xyz;\x0a\x20\x20\x20'+'\x20vec3\x20inPo'+'s\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20vec3\x20vert'+'Pos\x20=\x20part'+'icle_verte'+'xData3.xyz'+';\x0a\x20\x20\x20\x20vec3'+'\x20inVel\x20=\x20v'+'ec3(partic'+'le_vertexD'+'ata2.w,\x20pa')+('rticle_ver'+'texData3.w'+',\x20particle'+'_vertexDat'+'a5.x);\x0a\x0a\x20\x20'+'\x20\x20float\x20id'+'\x20=\x20floor(p'+'article_ve'+'rtexData4)'+';\x0a\x20\x20\x20\x20floa'+'t\x20rndFacto'+'r\x20=\x20fract('+'sin(id\x20+\x201'+'.0\x20+\x20seed)'+');\x0a\x20\x20\x20\x20vec'+'3\x20rndFacto'+'r3\x20=\x20vec3('+'rndFactor,'+'\x20fract(rnd'+'Factor*10.'+'0),\x20fract('+'rndFactor*'+'100.0));\x0a\x0a'+'#ifdef\x20LOC'+'AL_SPACE\x0a\x20'+'\x20\x20\x20inVel\x20='+'\x20mat3(matr'+'ix_model)\x20'+'*\x20inVel;\x0a#'+'endif\x0a\x20\x20\x20\x20'+'vec2\x20veloc'+'ityV\x20=\x20nor'+'malize((ma'+'t3(matrix_'+'view)\x20*\x20in'+'Vel).xy);\x20'+'//\x20should\x20'+'be\x20removed'+'\x20by\x20compil'+'er\x20if\x20alig'+'n/stretch\x20'+'is\x20not\x20use'+'d\x0a\x0a\x20\x20\x20\x20vec'+'2\x20quadXY\x20='+'\x20vertPos.x'+'y;\x0a\x0a#ifdef'+'\x20USE_MESH\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe\x20=\x20vec4('+'particle_v'+'ertexData5'+'.zw,\x20parti'+'cle_vertex'+'Data2.z,\x20p'+'article_ve'+'rtexData.w'+');\x0a#else\x0a\x20'+'\x20\x20\x20texCoor'+'dsAlphaLif'+'e\x20=\x20vec4(q'+'uadXY\x20*\x20-0'+'.5\x20+\x200.5,\x20'+'particle_v'+'ertexData2'+'.z,\x20partic'+'le_vertexD'+'ata.w);\x0a#e'+'ndif\x0a\x20\x20\x20\x20m'+'at2\x20rotMat'+'rix;\x0a\x0a\x20\x20\x20\x20'+'float\x20inAn'+'gle\x20=\x20part'+'icle_verte'+'xData2.x;\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'Moved\x20=\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20vec3\x20me'+'shLocalPos'+'\x20=\x20particl'+'e_vertexDa'+'ta3.xyz;\x0a'),E3='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20par'+'ticle_vert'+'exData2.y\x20'+'*\x20emitterS'+'cale;\x0a\x20\x20\x20\x20'+'localPos\x20+'+'=\x20particle'+'Pos;\x0a\x0a\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_viewProje'+'ction\x20*\x20ve'+'c4(localPo'+'s,\x201.0);\x0a',b3='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20quadXY'+');\x0a',A3='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(rgb'+',\x20a);\x0a}\x0a',C3='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20sca'+'le\x20*\x20emitt'+'erScale;\x0a\x20'+'\x20\x20\x20localPo'+'s\x20+=\x20parti'+'clePos;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREEN_SPA'+'CE\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(loca'+'lPos.x,\x20lo'+'calPos.y,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20vec4(lo'+'calPos.xyz'+',\x201.0);\x0a\x20\x20'+'\x20\x20#endif\x0a',P3='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20normal\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20vec3'+'\x20posNormal'+'\x20=\x20-normal'+'\x20*\x200.5\x20+\x200'+'.5;\x0a\x20\x20\x20\x20ne'+'gNormal\x20*='+'\x20negNormal'+';\x0a\x20\x20\x20\x20posN'+'ormal\x20*=\x20p'+'osNormal;\x0a',M3='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20//\x20'+'XYZ\x20=\x20part'+'icle\x20posit'+'ion,\x20W\x20=\x20p'+'article\x20ID'+'\x20+\x20random\x20'+'factor\x0a\x0a#i'+'f\x20defined('+'USE_MESH)\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(USE_'+'MESH_UV)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20att'+'ribute\x20vec'+'2\x20particle'+'_uv;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20mesh'+'\x20UV\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20par'+'ticle_uv\x20='+'\x20vec2(0.0,'+'\x200.0);\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20mat4\x20m'+'atrix_view'+'Projection'+';\x0auniform\x20'+'mat4\x20matri'+'x_model;\x0au'+'niform\x20mat'+'3\x20matrix_n'+'ormal;\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wInverse;\x0a'+'\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_vie'+'w;\x0a#endif\x0a'+'\x0auniform\x20f'+'loat\x20numPa'+'rticles;\x0au'+'niform\x20flo'+'at\x20numPart'+'iclesPot;\x0a'+'uniform\x20fl'+'oat\x20graphS'+'ampleSize;'+'\x0auniform\x20f'+'loat\x20graph'+'NumSamples'+';\x0auniform\x20'+'float\x20stre'+'tch;\x0aunifo'+'rm\x20vec3\x20wr'+'apBounds;\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Scale;\x0auni'+'form\x20vec3\x20'+'emitterPos'+';\x0auniform\x20'+'vec3\x20faceT'+'angent;\x0aun'+'iform\x20vec3'+'\x20faceBinor'+'m;\x0auniform'+'\x20float\x20rat'+'e;\x0auniform'+'\x20float\x20rat'+'eDiv;\x0aunif'+'orm\x20float\x20'+'lifetime;\x0a'+'uniform\x20fl'+'oat\x20deltaR'+'andomnessS'+'tatic;\x0auni'+'form\x20float'+'\x20scaleDivM'+'ult;\x0aunifo'+'rm\x20float\x20a'+'lphaDivMul'+'t;\x0auniform'+'\x20float\x20see'+'d;\x0auniform'+'\x20float\x20del'+'ta;\x0aunifor'+'m\x20sampler2'+'D\x20particle'+'TexOUT;\x0aun'+'iform\x20samp'+('ler2D\x20part'+'icleTexIN;'+'\x0a\x0a#ifdef\x20P'+'ARTICLE_GP'+'U\x0a\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x0;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex2;\x0a#e'+'ndif\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a\x20\x20\x20'+'\x20#define\x20C'+'AMERAPLANE'+'S\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'amera_para'+'ms;\x0a#endif'+'\x0a\x0avarying\x20'+'vec4\x20texCo'+'ordsAlphaL'+'ife;\x0a\x0avec3'+'\x20inPos;\x0ave'+'c3\x20inVel;\x0a'+'float\x20inAn'+'gle;\x0abool\x20'+'inShow;\x0afl'+'oat\x20inLife'+';\x0a'),D3='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20max(norm'+'al,\x20vec3(0'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20posNo'+'rmal\x20=\x20max'+'(-normal,\x20'+'vec3(0.0))'+';\x0a',I3='\x0a\x20\x20\x20\x20vec3\x20'+'light\x20=\x20ne'+'gNormal.x*'+'lightCube['+'0]\x20+\x20posNo'+'rmal.x*lig'+'htCube[1]\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20negN'+'ormal.y*li'+'ghtCube[2]'+'\x20+\x20posNorm'+'al.y*light'+'Cube[3]\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20negNor'+'mal.z*ligh'+'tCube[4]\x20+'+'\x20posNormal'+'.z*lightCu'+'be[5];\x0a\x0a\x20\x20'+'\x20\x20rgb\x20*=\x20l'+'ight;\x0a',L3='\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20('+'matrix_mod'+'el\x20*\x20vec4('+'particlePo'+'s,\x201.0)).x'+'yz;\x0a',R3='\x0a\x20\x20\x20\x20vec3\x20'+'localPos\x20='+'\x20meshLocal'+'Pos;\x0a\x20\x20\x20\x20l'+'ocalPos.xy'+'\x20=\x20rotate('+'localPos.x'+'y,\x20inAngle'+',\x20rotMatri'+'x);\x0a\x20\x20\x20\x20lo'+'calPos.yz\x20'+'=\x20rotate(l'+'ocalPos.yz'+',\x20inAngle,'+'\x20rotMatrix'+');\x0a\x0a\x20\x20\x20\x20bi'+'llboard(pa'+'rticlePos,'+'\x20quadXY);\x0a',O3='\x0a\x20\x20\x20\x20Norma'+'l\x20=\x20normal'+'ize(localP'+'os\x20+\x20matri'+'x_viewInve'+'rse[2].xyz'+');\x0a',F3='\x0a\x20\x20\x20\x20vec3\x20'+'normalMap\x20'+'=\x20normaliz'+'e(texture2'+'D(normalMa'+'p,\x20vec2(te'+'xCoordsAlp'+'haLife.x,\x20'+'1.0\x20-\x20texC'+'oordsAlpha'+'Life.y)).x'+'yz\x20*\x202.0\x20-'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec3\x20norm'+'al\x20=\x20Parti'+'cleMat\x20*\x20n'+'ormalMap;\x0a',N3='\x0a\x20\x20\x20\x20//\x20no'+'t\x20the\x20fast'+'est\x20way,\x20b'+'ut\x20easier\x20'+'to\x20plug\x20in'+';\x20TODO:\x20cr'+'eate\x20rot\x20m'+'atrix\x20righ'+'t\x20from\x20vec'+'tors\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20a'+'tan(veloci'+'tyV.x,\x20vel'+'ocityV.y);'+'\x0a\x0a',k3='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'InitPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'PACK8\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leInputRgb'+'a8PS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leOutputRg'+'ba8PS\x22\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleInputFl'+'oatPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleOutputF'+'loatPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20EMITTERSH'+'APE_BOX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rAABBPS\x22\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticleUpdat'+'erSpherePS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terStartPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20RESPAW'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleUp'+'daterRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'O_RESPAWN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terNoRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20O'+'N_STOP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'OnStopPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rEndPS\x22\x0a',U3='\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vec3\x20No'+'rmal;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20==\x20MAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ma'+'t3\x20Particl'+'eMat;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20lightCu'+'be[6];\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20float\x20vDe'+'pth;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fogP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'f\x20NORMAL\x20='+'=\x20MAP\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20normalMa'+'p;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22p'+'articlePS\x22'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SOFT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_softP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20NORMAL\x20'+'==\x20VERTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20normal\x20'+'=\x20Normal;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'NORMAL\x20==\x20'+'MAP\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_normalMap'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20!=\x20NONE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20HALF_L'+'AMBERT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_ha'+'lflambertP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_la'+'mbertPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_lighting'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20BLEND\x20'+'==\x20NORMAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_ble'+'ndNormalPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20BLEND\x20=='+('\x20ADDITIVE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_ble'+'ndAddPS\x22\x0a\x20'+'\x20\x20\x20#elif\x20B'+'LEND\x20==\x20MU'+'LTIPLICATI'+'VE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendMulti'+'plyPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_endPS\x22\x0a'),B3='\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec2'+'\x20animTexTi'+'lesParams;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20animTexP'+'arams;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec2\x20an'+'imTexIndex'+'Params;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20NO'+'RMAL\x20==\x20MA'+'P\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ma'+'t3\x20Particl'+'eMat;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec3\x20Normal'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20SOFT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'rying\x20floa'+'t\x20vDepth;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_initVS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20PA'+'CK8\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleInputR'+'gba8PS\x22\x20\x20\x20'+'\x20\x20//\x20why\x20a'+'re\x20these\x20P'+'S\x20and\x20not\x20'+'VS?\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x20'+'\x22particleI'+'nputFloatP'+'S\x22\x20\x20\x20\x20//\x20w'+'hy\x20are\x20the'+'se\x20PS\x20and\x20'+'not\x20VS?\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'OFT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22scre'+'enDepthPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleVS\x22\x0a\x0a\x20\x20'+'\x20\x20#else\x20//'+'\x20PARTICLE_'+'CPU\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22scr'+'eenDepthPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_cpuVS'+'\x22\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_local'+'ShiftVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20ANIMT'+'EX_LOOP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('#include\x20\x22'+'particleAn'+'imFrameLoo'+'pVS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particleA'+'nimFrameCl'+'ampVS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleAn'+'imTexVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20wr'+'ap\x20is\x20not\x20'+'used\x20on\x20CP'+'U,\x20it\x20was\x20'+'commented\x20'+'out.\x20TODO:'+'\x20investiga'+'te\x20why\x0a\x20\x20\x20'+'\x20#ifdef\x20PA'+'RTICLE_GPU'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20WRAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_wrapVS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20AL'+'IGN_TO_MOT'+'ION\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_pointAlon'+'gVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20US'+'E_MESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_meshVS'+'\x22\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20CUS'+'TOM_FACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'customFace'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_b'+'illboardVS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20==\x20VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_normalVS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20NORMAL\x20=='+'\x20MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_TBNVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STRETCH\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_str'+'etchVS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PARTICLE'+'_GPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_endVS\x22\x0a\x20'+'\x20\x20\x20#else\x20/'+'/\x20PARTICLE'+'_CPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_cpu_endV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#')+('ifdef\x20SOFT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_so'+'ftVS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20}\x0a'),z3='\x0a\x20\x20\x20\x20float'+'\x20depth\x20=\x20g'+'etLinearSc'+'reenDepth('+');\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eDepth\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20float\x20dep'+'thDiff\x20=\x20s'+'aturate(ab'+'s(particle'+'Depth\x20-\x20de'+'pth)\x20*\x20sof'+'tening);\x0a\x20'+'\x20\x20\x20a\x20*=\x20de'+'pthDiff;\x0a',V3='\x0a\x20\x20\x20\x20vDept'+'h\x20=\x20getLin'+'earDepth(l'+'ocalPos);\x0a',G3='\x0a\x20\x20\x20\x20vec3\x20'+'moveDir\x20=\x20'+'inVel\x20*\x20st'+'retch;\x0a\x20\x20\x20'+'\x20vec3\x20posP'+'rev\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20+=\x20partic'+'lePosMoved'+';\x0a\x0a\x20\x20\x20\x20vec'+'2\x20centerTo'+'VertexV\x20=\x20'+'normalize('+'(mat3(matr'+'ix_view)\x20*'+'\x20localPos)'+'.xy);\x0a\x0a\x20\x20\x20'+'\x20float\x20int'+'erpolation'+'\x20=\x20dot(-ve'+'locityV,\x20c'+'enterToVer'+'texV)\x20*\x200.'+'5\x20+\x200.5;\x0a\x0a'+'\x20\x20\x20\x20partic'+'lePos\x20=\x20mi'+'x(particle'+'Pos,\x20posPr'+'ev,\x20interp'+'olation);\x0a',H3='\x0a\x20\x20\x20\x20mat3\x20'+'rot3\x20=\x20mat'+'3(rotMatri'+'x[0][0],\x20r'+'otMatrix[0'+'][1],\x200.0,'+'\x20rotMatrix'+'[1][0],\x20ro'+'tMatrix[1]'+'[1],\x200.0,\x20'+'0.0,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'ParticleMa'+'t\x20=\x20mat3(-'+'matrix_vie'+'wInverse[0'+'].xyz,\x20-ma'+'trix_viewI'+'nverse[1].'+'xyz,\x20matri'+'x_viewInve'+'rse[2].xyz'+')\x20*\x20rot3;\x0a',W3='\x0a\x20\x20\x20\x20vec3\x20'+'origPartic'+'lePos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20-=\x20'+'matrix_mod'+'el[3].xyz;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20m'+'od(particl'+'ePos,\x20wrap'+'Bounds)\x20-\x20'+'wrapBounds'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20+=\x20mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'PosMoved\x20='+'\x20particleP'+'os\x20-\x20origP'+'articlePos'+';\x0a',$3={'particlePS':s3,'particleVS':i3,'particleAnimFrameClampVS':r3,'particleAnimFrameLoopVS':a3,'particleAnimTexVS':n3,'particleInputFloatPS':o3,'particleInputRgba8PS':l3,'particleOutputFloatPS':c3,'particleOutputRgba8PS':h3,'particleUpdaterAABBPS':d3,'particleUpdaterEndPS':f3,'particleUpdaterInitPS':u3,'particleUpdaterNoRespawnPS':p3,'particleUpdaterOnStopPS':m3,'particleUpdaterRespawnPS':_3,'particleUpdaterSpherePS':g3,'particleUpdaterStartPS':S3,'particle_billboardVS':y3,'particle_blendAddPS':v3,'particle_blendMultiplyPS':x3,'particle_blendNormalPS':T3,'particle_cpuVS':w3,'particle_cpu_endVS':E3,'particle_customFaceVS':b3,'particle_endPS':A3,'particle_endVS':C3,'particle_halflambertPS':P3,'particle_initVS':M3,'particle_lambertPS':D3,'particle_lightingPS':I3,'particle_localShiftVS':L3,'particle_meshVS':R3,'particle_normalVS':O3,'particle_normalMapPS':F3,'particle_pointAlongVS':N3,'particle_simulationPS':k3,'particle_shaderPS':U3,'particle_shaderVS':B3,'particle_softPS':z3,'particle_softVS':V3,'particle_stretchVS':G3,'particle_TBNVS':H3,'particle_wrapVS':W3},X3='\x0avarying\x20t'+'exCoordsAl'+'phaLife:\x20v'+'ec4f;\x0a\x0avar'+'\x20colorMap:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20colorMap'+'Sampler:\x20s'+'ampler;\x0ava'+'r\x20colorPar'+'am:\x20textur'+'e_2d<f32>;'+'\x0avar\x20color'+'ParamSampl'+'er:\x20sample'+'r;\x0a\x0aunifor'+'m\x20graphSam'+'pleSize:\x20f'+'32;\x0aunifor'+'m\x20graphNum'+'Samples:\x20f'+'32;\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20camera_'+'params:\x20ve'+'c4f;\x0a#endi'+'f\x0a\x0auniform'+'\x20softening'+':\x20f32;\x0auni'+'form\x20color'+'Mult:\x20f32;'+'\x0a\x0afn\x20satur'+'ate(x:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(x,'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0a@frag'+'ment\x0afn\x20fr'+'agmentMain'+'(input:\x20Fr'+'agmentInpu'+'t)\x20->\x20Frag'+'mentOutput'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20tex:\x20v'+'ec4f\x20\x20=\x20te'+'xtureSampl'+'e(colorMap'+',\x20colorMap'+'Sampler,\x20v'+'ec2f(input'+'.texCoords'+'AlphaLife.'+'x,\x201.0\x20-\x20i'+'nput.texCo'+'ordsAlphaL'+'ife.y));\x0a\x20'+'\x20\x20\x20var\x20ram'+'p:\x20vec4f\x20='+'\x20textureSa'+'mple(color'+'Param,\x20col'+'orParamSam'+'pler,\x20vec2'+'f(input.te'+'xCoordsAlp'+'haLife.w,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20ramp\x20=\x20ve'+'c4f(ramp.r'+'gb\x20*\x20unifo'+'rm.colorMu'+'lt,\x20ramp.a'+');\x0a\x0a\x20\x20\x20\x20ra'+'mp.a\x20=\x20ram'+'p.a\x20+\x20inpu'+'t.texCoord'+'sAlphaLife'+'.z;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20rgb:\x20ve'+'c3f\x20=\x20tex.'+'rgb\x20*\x20ramp'+'.rgb;\x0a\x20\x20\x20\x20'+'var\x20a:\x20f32'+'\x20=\x20tex.a\x20*'+'\x20ramp.a;\x0a',q3='\x0afn\x20unpack'+'3NFloats(s'+'rc:\x20f32)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20let\x20r\x20'+'=\x20fract(sr'+'c);\x0a\x20\x20\x20\x20le'+'t\x20g\x20=\x20frac'+'t(src\x20*\x2025'+'6.0);\x0a\x20\x20\x20\x20'+'let\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3f(r,\x20'+'g,\x20b);\x0a}\x0a\x0a'+'fn\x20saturat'+'e(x:\x20f32)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(x,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0astruct\x20'+'TexLerpUnp'+'ackResult\x20'+'{\x0a\x20\x20\x20\x20resu'+'lt:\x20vec4f,'+'\x0a\x20\x20\x20\x20unpac'+'ked:\x20vec3f'+'\x0a}\x0a\x0afn\x20tex'+'1Dlod_lerp'+'_simple(te'+'x:\x20texture'+'_2d<f32>,\x20'+'texSampler'+':\x20sampler,'+'\x20tc:\x20vec2f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20tc_next\x20='+'\x20tc\x20+\x20vec2'+'f(uniform.'+'graphSampl'+'eSize);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(\x20textur'+'eSample(te'+'x,\x20texSamp'+'ler,\x20tc),\x20'+'textureSam'+'ple(tex,\x20t'+'exSampler,'+'\x20tc_next),'+'\x20fract(tc.'+'x\x20*\x20unifor'+'m.graphNum'+'Samples)\x20)'+';\x0a}\x0a\x0afn\x20te'+'x1Dlod_ler'+'p_unpack(t'+'ex:\x20textur'+'e_2d<f32>,'+'\x20texSample'+'r:\x20sampler'+',\x20tc:\x20vec2'+'f)\x20->\x20TexL'+'erpUnpackR'+'esult\x20{\x0a\x20\x20'+'\x20\x20let\x20tc_n'+'ext\x20=\x20tc\x20+'+'\x20vec2f(uni'+'form.graph'+'SampleSize'+');\x0a\x20\x20\x20\x20let'+'\x20a\x20=\x20textu'+'reSampleLe'+'vel(tex,\x20t'+'exSampler,'+'\x20tc,\x200.0);'+'\x0a\x20\x20\x20\x20let\x20b'+'\x20=\x20texture'+'SampleLeve'+'l(tex,\x20tex'+'Sampler,\x20t'+'c_next,\x200.'+'0);\x0a\x20\x20\x20\x20le'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20u'+'niform.gra'+'phNumSampl'+'es);\x0a\x20\x20\x20\x20l'+'et\x20unpacke'+'dA\x20=\x20unpac'+'k3NFloats('+'a.w);\x0a\x20\x20\x20\x20'+'let\x20unpack'+'edB\x20=\x20unpa'+'ck3NFloats'+'(b.w);\x0a\x20\x20\x20'+'\x20let\x20w_out'+('\x20=\x20mix(unp'+'ackedA,\x20un'+'packedB,\x20c'+');\x0a\x20\x20\x20\x20ret'+'urn\x20TexLer'+'pUnpackRes'+'ult(mix(a,'+'\x20b,\x20c),\x20w_'+'out);\x0a}\x0a\x0as'+'truct\x20Rota'+'teResult\x20{'+'\x0a\x20\x20\x20\x20rotat'+'edVec:\x20vec'+'2f,\x0a\x20\x20\x20\x20ma'+'trix:\x20mat2'+'x2f\x0a}\x0a\x0afn\x20'+'rotateWith'+'Matrix(qua'+'dXY:\x20vec2f'+',\x20pRotatio'+'n:\x20f32)\x20->'+'\x20RotateRes'+'ult\x20{\x0a\x20\x20\x20\x20'+'let\x20c\x20=\x20co'+'s(pRotatio'+'n);\x0a\x20\x20\x20\x20le'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x20\x20\x20\x20let\x20'+'m\x20=\x20mat2x2'+'f(vec2f(c,'+'\x20s),\x20vec2f'+'(-s,\x20c));\x0a'+'\x20\x20\x20\x20return'+'\x20RotateRes'+'ult(m\x20*\x20qu'+'adXY,\x20m);\x0a'+'}\x0a\x0afn\x20bill'+'board(Inst'+'anceCoords'+':\x20vec3f,\x20q'+'uadXY:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20pos:\x20ve'+'c3f;\x0a\x20\x20\x20\x20#'+'ifdef\x20SCRE'+'EN_SPACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20pos'+'\x20=\x20vec3f(-'+'1.0,\x200.0,\x20'+'0.0)\x20*\x20qua'+'dXY.x\x20+\x20ve'+'c3f(0.0,\x20-'+'1.0,\x200.0)\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'pos\x20=\x20-uni'+'form.matri'+'x_viewInve'+'rse[0].xyz'+'\x20*\x20quadXY.'+'x\x20+\x20-unifo'+'rm.matrix_'+'viewInvers'+'e[1].xyz\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0afn\x20custom'+'Face(Insta'+'nceCoords:'+'\x20vec3f,\x20qu'+'adXY:\x20vec2'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20pos\x20=\x20un'+'iform.face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20uniform.f'+'aceBinorm\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0afn\x20safeNo'+'rmalize(v:'+'\x20vec2f)\x20->'+'\x20vec2f\x20{\x0a\x20'+'\x20\x20\x20let\x20l\x20='+'\x20length(v)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20select('+'v,\x20v\x20/\x20l,\x20'+'l\x20>\x201e-06)'+';\x0a}\x0a\x0a@vert'+'ex\x0afn\x20vert'+'exMain(inp')+('ut:\x20Vertex'+'Input)\x20->\x20'+'VertexOutp'+'ut\x20{\x0a\x20\x20\x20\x20v'+'ar\x20output:'+'\x20VertexOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20meshLo'+'calPos_in\x20'+'=\x20input.pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20id\x20=\x20floo'+'r(input.pa'+'rticle_ver'+'texData.w)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20rndFactor'+'\x20=\x20fract(s'+'in(id\x20+\x201.'+'0\x20+\x20unifor'+'m.seed));\x0a'+'\x20\x20\x20\x20let\x20rn'+'dFactor3\x20='+'\x20vec3f(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20let\x20uv\x20=\x20'+'id\x20/\x20unifo'+'rm.numPart'+'iclesPot;\x0a'+'\x20\x20\x20\x20readIn'+'put(uv);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20model'+'Rotation\x20='+'\x20mat3x3f(u'+'niform.mat'+'rix_model['+'0].xyz,\x20un'+'iform.matr'+'ix_model[1'+'].xyz,\x20uni'+'form.matri'+'x_model[2]'+'.xyz);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20inVel'+'\x20=\x20modelRo'+'tation\x20*\x20i'+'nVel;\x0a\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20let\x20viewR'+'otation\x20=\x20'+'mat3x3f(un'+'iform.matr'+'ix_view[0]'+'.xyz,\x20unif'+'orm.matrix'+'_view[1].x'+'yz,\x20unifor'+'m.matrix_v'+'iew[2].xyz'+');\x0a\x20\x20\x20\x20let'+'\x20velocityV'+'\x20=\x20safeNor'+'malize((vi'+'ewRotation'+'\x20*\x20inVel).'+'xy);\x0a\x0a\x20\x20\x20\x20'+'let\x20partic'+'leLifetime'+'\x20=\x20uniform'+'.lifetime;'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'meshLocalP'+'os\x20=\x20meshL'+'ocalPos_in'+';\x0a\x20\x20\x20\x20if\x20('+'inLife\x20<=\x20'+'0.0\x20||\x20inL'+'ife\x20>\x20part'+'icleLifeti'+'me\x20||\x20!inS'+'how)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mesh'+'LocalPos\x20='+'\x20vec3f(0.0'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20let\x20qua'+'dXY\x20=\x20mesh'+'LocalPos.x'+'y;\x0a\x20\x20\x20\x20let'+'\x20nlife\x20=\x20c')+('lamp(inLif'+'e\x20/\x20partic'+'leLifetime'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20lerp_res'+'ult\x20=\x20tex1'+'Dlod_lerp_'+'unpack(int'+'ernalTex2,'+'\x20internalT'+'ex2Sampler'+',\x20vec2f(nl'+'ife,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'params\x20=\x20l'+'erp_result'+'.result;\x0a\x20'+'\x20\x20\x20let\x20par'+'amDiv\x20=\x20le'+'rp_result.'+'unpacked;\x0a'+'\x0a\x20\x20\x20\x20var\x20s'+'cale\x20=\x20par'+'ams.y;\x0a\x20\x20\x20'+'\x20let\x20scale'+'Div\x20=\x20para'+'mDiv.x;\x0a\x20\x20'+'\x20\x20let\x20alph'+'aDiv\x20=\x20par'+'amDiv.z;\x0a\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20scale\x20+\x20'+'(scaleDiv\x20'+'*\x202.0\x20-\x201.'+'0)\x20*\x20unifo'+'rm.scaleDi'+'vMult\x20*\x20fr'+'act(rndFac'+'tor*10000.'+'0);\x0a\x0a\x20\x20\x20\x20#'+'ifndef\x20USE'+'_MESH\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.texCoords'+'AlphaLife\x20'+'=\x20vec4f(qu'+'adXY\x20*\x20-0.'+'5\x20+\x200.5,\x20('+'alphaDiv\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20unifor'+'m.alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife\x20=\x20vec4'+'f(particle'+'_uv,\x20(alph'+'aDiv\x20*\x202.0'+'\x20-\x201.0)\x20*\x20'+'uniform.al'+'phaDivMult'+'\x20*\x20fract(r'+'ndFactor*1'+'000.0),\x20nl'+'ife);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20var\x20part'+'iclePos\x20=\x20'+'inPos;\x0a\x20\x20\x20'+'\x20var\x20parti'+'clePosMove'+'d\x20=\x20vec3f('+'0.0);\x0a\x0a\x20\x20\x20'+'\x20var\x20rotMa'+'trix:\x20mat2'+'x2f;\x0a'),j3='\x0a\x20\x20\x20\x20let\x20a'+'nimFrame:\x20'+'f32\x20=\x20min('+'floor(inpu'+'t.texCoord'+'sAlphaLife'+'.w\x20*\x20unifo'+'rm.animTex'+'Params.y)\x20'+'+\x20uniform.'+'animTexPar'+'ams.x,\x20uni'+'form.animT'+'exParams.z'+');\x0a',Y3='\x0a\x20\x20\x20\x20let\x20a'+'nimFrame:\x20'+'f32\x20=\x20floo'+'r((output.'+'texCoordsA'+'lphaLife.w'+'\x20*\x20uniform'+'.animTexPa'+'rams.y\x20+\x20u'+'niform.ani'+'mTexParams'+'.x)\x20%\x20(uni'+'form.animT'+'exParams.z'+'\x20+\x201.0));\x20'+'\x20\x20\x20\x0a',K3='\x0a\x20\x20\x20\x20var\x20a'+'nimationIn'+'dex:\x20f32;\x0a'+'\x0a\x20\x20\x20\x20if\x20(u'+'niform.ani'+'mTexIndexP'+'arams.y\x20=='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20floor(('+'uniform.an'+'imTexParam'+'s.w\x20+\x201.0)'+'\x20*\x20rndFact'+'or3.z)\x20*\x20('+'uniform.an'+'imTexParam'+'s.z\x20+\x201.0)'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20animati'+'onIndex\x20=\x20'+'uniform.an'+'imTexIndex'+'Params.x\x20*'+'\x20(uniform.'+'animTexPar'+'ams.z\x20+\x201.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20var\x20a'+'tlasX:\x20f32'+'\x20=\x20(animat'+'ionIndex\x20+'+'\x20animFrame'+')\x20*\x20unifor'+'m.animTexT'+'ilesParams'+'.x;\x0a\x20\x20\x20\x20le'+'t\x20atlasY:\x20'+'f32\x20=\x201.0\x20'+'-\x20floor(at'+'lasX\x20+\x201.0'+')\x20*\x20unifor'+'m.animTexT'+'ilesParams'+'.y;\x0a\x20\x20\x20\x20at'+'lasX\x20=\x20fra'+'ct(atlasX)'+';\x20//\x20Reass'+'ign\x20atlasX'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'current_tc'+'al_xy\x20=\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife.xy;\x0a\x20\x20'+'\x20\x20let\x20scal'+'ed_tcal_xy'+'\x20=\x20current'+'_tcal_xy\x20*'+'\x20uniform.a'+'nimTexTile'+'sParams.xy'+';\x0a\x20\x20\x20\x20let\x20'+'final_tcal'+'_xy\x20=\x20scal'+'ed_tcal_xy'+'\x20+\x20vec2f(a'+'tlasX,\x20atl'+'asY);\x0a\x20\x20\x20\x20'+'output.tex'+'CoordsAlph'+'aLife\x20=\x20ve'+'c4f(final_'+'tcal_xy,\x20o'+'utput.texC'+'oordsAlpha'+'Life.z,\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife.w);\x0a',Z3='\x0afn\x20readIn'+'put(uv:\x20f3'+'2)\x20{\x0a\x20\x20\x20\x20l'+'et\x20tex:\x20ve'+'c4f\x20=\x20text'+'ureSampleL'+'evel(parti'+'cleTexIN,\x20'+'particleTe'+'xINSampler'+',\x20vec2f(uv'+',\x200.25),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex2:\x20v'+'ec4f\x20=\x20tex'+'tureSample'+'Level(part'+'icleTexIN,'+'\x20particleT'+'exINSample'+'r,\x20vec2f(u'+'v,\x200.75),\x20'+'0.0);\x0a\x0a\x20\x20\x20'+'\x20inPos\x20=\x20t'+'ex.xyz;\x0a\x20\x20'+'\x20\x20inVel\x20=\x20'+'tex2.xyz;\x0a'+'\x20\x20\x20\x20inAngl'+'e\x20=\x20abs(te'+'x.w)\x20-\x20100'+'0.0;\x0a\x20\x20\x20\x20i'+'nShow\x20=\x20te'+'x.w\x20>=\x200.0'+';\x0a\x20\x20\x20\x20inLi'+'fe\x20=\x20tex2.'+'w;\x0a}\x0a',Q3='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0ac'+'onst\x20PI2:\x20'+'f32\x20=\x206.28'+'3185307179'+'586;\x0a\x0aunif'+'orm\x20inBoun'+'dsSize:\x20ve'+'c3f;\x0aunifo'+'rm\x20inBound'+'sCenter:\x20v'+'ec3f;\x0a\x0auni'+'form\x20maxVe'+'l:\x20f32;\x0a\x0af'+'n\x20decodeFl'+'oatRG(rg:\x20'+'vec2f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20rg.'+'y\x20*\x20(1.0\x20/'+'\x20255.0)\x20+\x20'+'rg.x;\x0a}\x0a\x0af'+'n\x20decodeFl'+'oatRGBA(\x20r'+'gba:\x20vec4f'+'\x20)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20dot(rgb'+'a,\x20vec4f(1'+'.0,\x201.0\x20/\x20'+'255.0,\x201.0'+'\x20/\x2065025.0'+',\x201.0\x20/\x2016'+'0581375.0)'+');\x0a}\x0a\x0afn\x20r'+'eadInput(u'+'v:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20let\x20te'+'x0\x20=\x20textu'+'reSampleLe'+'vel(partic'+'leTexIN,\x20p'+'articleTex'+'INSampler,'+'\x20vec2f(uv,'+'\x200.125),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex1\x20=\x20'+'textureSam'+'pleLevel(p'+'articleTex'+'IN,\x20partic'+'leTexINSam'+'pler,\x20vec2'+'f(uv,\x200.37'+'5),\x200.0);\x0a'+'\x20\x20\x20\x20let\x20te'+'x2\x20=\x20textu'+'reSampleLe'+'vel(partic'+'leTexIN,\x20p'+'articleTex'+'INSampler,'+'\x20vec2f(uv,'+'\x200.625),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex3\x20=\x20'+'textureSam'+'pleLevel(p'+'articleTex'+'IN,\x20partic'+'leTexINSam'+'pler,\x20vec2'+'f(uv,\x200.87'+'5),\x200.0);\x0a'+'\x0a\x20\x20\x20\x20inPos'+'\x20=\x20vec3f(d'+'ecodeFloat'+'RG(tex0.rg'+'),\x20decodeF'+'loatRG(tex'+'0.ba),\x20dec'+'odeFloatRG'+'(tex1.rg))'+';\x0a\x20\x20\x20\x20inPo'+'s\x20=\x20(inPos'+'\x20-\x20vec3f(0'+'.5))\x20*\x20uni'+'form.inBou'+'ndsSize\x20+\x20'+'uniform.in'+'BoundsCent'+'er;\x0a\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inVel\x20=\x20('+('inVel\x20-\x20ve'+'c3f(0.5))\x20'+'*\x20uniform.'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20let\x20l'+'ife_decode'+'d\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20let\x20maxNe'+'gLife\x20=\x20ma'+'x(uniform.'+'lifetime,\x20'+'(uniform.n'+'umParticle'+'s\x20-\x201.0)\x20*'+'\x20(uniform.'+'rate\x20+\x20uni'+'form.rateD'+'iv));\x0a\x20\x20\x20\x20'+'let\x20maxPos'+'Life\x20=\x20uni'+'form.lifet'+'ime\x20+\x201.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20life_d'+'ecoded\x20*\x20('+'maxNegLife'+'\x20+\x20maxPosL'+'ife)\x20-\x20max'+'NegLife;\x0a}'),J3='\x0afn\x20getOut'+'put()\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20if\x20(pcPos'+'ition.y\x20<\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4f(ou'+'tPos,\x20(out'+'Angle\x20+\x2010'+'00.0)\x20*\x20vi'+'sMode);\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(outVel,\x20'+'outLife);\x0a'+'\x20\x20\x20\x20}\x0a}\x0a',eO='\x0auniform\x20o'+'utBoundsMu'+'l:\x20vec3f;\x0a'+'uniform\x20ou'+'tBoundsAdd'+':\x20vec3f;\x0a\x0a'+'fn\x20encodeF'+'loatRG(\x20v:'+'\x20f32\x20)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20var\x20enc:'+'\x20vec2f\x20=\x20v'+'ec2f(1.0,\x20'+'255.0)\x20*\x20v'+';\x0a\x20\x20\x20\x20enc\x20'+'=\x20fract(en'+'c);\x0a\x20\x20\x20\x20en'+'c\x20=\x20enc\x20-\x20'+'enc.yy\x20*\x20('+'1.0\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20enc;\x0a'+'}\x0a\x0afn\x20enco'+'deFloatRGB'+'A(\x20v:\x20f32\x20'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20factors\x20='+'\x20vec4f(1.0'+',\x20255.0,\x206'+'5025.0,\x2016'+'0581375.0)'+';\x0a\x20\x20\x20\x20var\x20'+'enc:\x20vec4f'+'\x20=\x20factors'+'\x20*\x20v;\x0a\x20\x20\x20\x20'+'enc\x20=\x20frac'+'t(enc);\x0a\x20\x20'+'\x20\x20enc\x20=\x20en'+'c\x20-\x20enc.yz'+'ww\x20*\x20vec4f'+'(1.0\x20/\x20255'+'.0,\x201.0\x20/\x20'+'255.0,\x201.0'+'\x20/\x20255.0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'return\x20enc'+';\x0a}\x0a\x0afn\x20ge'+'tOutput()\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20outPo'+'s\x20=\x20outPos'+'\x20*\x20uniform'+'.outBounds'+'Mul\x20+\x20unif'+'orm.outBou'+'ndsAdd;\x0a\x20\x20'+'\x20\x20outAngle'+'\x20=\x20fract(o'+'utAngle\x20/\x20'+'PI2);\x0a\x0a\x20\x20\x20'+'\x20outVel\x20=\x20'+'(outVel\x20/\x20'+'uniform.ma'+'xVel)\x20+\x20ve'+'c3f(0.5);\x20'+'//\x20TODO:\x20m'+'ul\x0a\x0a\x20\x20\x20\x20le'+'t\x20maxNegLi'+'fe\x20=\x20max(u'+'niform.lif'+'etime,\x20(un'+'iform.numP'+'articles\x20-'+'\x201.0)\x20*\x20(u'+'niform.rat'+'e\x20+\x20unifor'+'m.rateDiv)'+');\x0a\x20\x20\x20\x20let'+'\x20maxPosLif'+'e\x20=\x20unifor'+'m.lifetime'+'\x20+\x201.0;\x0a\x20\x20'+'\x20\x20outLife\x20'+'=\x20(outLife'+'\x20+\x20maxNegL'+'ife)\x20/\x20(ma'+'xNegLife\x20+'+'\x20maxPosLif'+'e);\x0a\x0a\x20\x20\x20\x20i'+'f\x20(pcPosit'+'ion.y\x20<\x201.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'vec4f(enco'+'deFloatRG('+'outPos.x),'+'\x20encodeFlo'+'atRG(outPo'+'s.y));\x0a\x20\x20\x20'+('\x20}\x20else\x20if'+'\x20(pcPositi'+'on.y\x20<\x202.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20v'+'ec4f(encod'+'eFloatRG(o'+'utPos.z),\x20'+'encodeFloa'+'tRG(outAng'+'le));\x0a\x20\x20\x20\x20'+'}\x20else\x20if\x20'+'(pcPositio'+'n.y\x20<\x203.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4f(outVel'+',\x20visMode\x20'+'*\x200.5\x20+\x200.'+'5);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20encodeFl'+'oatRGBA(ou'+'tLife);\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),tO='\x0auniform\x20s'+'pawnBounds'+':\x20mat3x3f;'+'\x0auniform\x20s'+'pawnPosInn'+'erRatio:\x20v'+'ec3f;\x0a\x0afn\x20'+'calcSpawnP'+'osition(in'+'Bounds:\x20ve'+'c3f,\x20rndFa'+'ctor:\x20f32)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'pos\x20=\x20inBo'+'unds\x20-\x20vec'+'3f(0.5);\x0a\x0a'+'\x20\x20\x20\x20let\x20po'+'sAbs\x20=\x20abs'+'(pos);\x0a\x20\x20\x20'+'\x20let\x20maxCo'+'mp\x20=\x20max(p'+'osAbs.x,\x20m'+'ax(posAbs.'+'y,\x20posAbs.'+'z));\x0a\x20\x20\x20\x20l'+'et\x20maxPos\x20'+'=\x20vec3f(ma'+'xComp);\x0a\x0a\x20'+'\x20\x20\x20let\x20edg'+'e\x20=\x20maxPos'+'\x20+\x20(vec3f('+'0.5)\x20-\x20max'+'Pos)\x20*\x20uni'+'form.spawn'+'PosInnerRa'+'tio;\x0a\x0a\x20\x20\x20\x20'+'pos.x\x20=\x20ed'+'ge.x\x20*\x20sel'+'ect(2.0\x20*\x20'+'pos.x,\x20sig'+'n(pos.x),\x20'+'maxPos.x\x20='+'=\x20posAbs.x'+');\x0a\x20\x20\x20\x20pos'+'.y\x20=\x20edge.'+'y\x20*\x20select'+'(2.0\x20*\x20pos'+'.y,\x20sign(p'+'os.y),\x20max'+'Pos.y\x20==\x20p'+'osAbs.y);\x0a'+'\x20\x20\x20\x20pos.z\x20'+'=\x20edge.z\x20*'+'\x20select(2.'+'0\x20*\x20pos.z,'+'\x20sign(pos.'+'z),\x20maxPos'+'.z\x20==\x20posA'+'bs.z);\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'LOCAL_SPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20uni'+'form.emitt'+'erPos\x20+\x20un'+'iform.spaw'+'nBounds\x20*\x20'+'pos;\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'uniform.sp'+'awnBounds\x20'+'*\x20pos;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'\x0afn\x20addIni'+'tialVeloci'+'ty(localVe'+'locity:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'inBounds:\x20'+'vec3f)\x20{\x0a\x20'+'\x20\x20\x20*localV'+'elocity\x20=\x20'+'*localVelo'+'city\x20-\x20vec'+'3f(0.0,\x200.'+'0,\x20uniform'+'.initialVe'+'locity);\x0a}'+'\x0a',sO='\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'getOutput('+');\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',iO='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0a\x0avar\x20par'+'ticleTexIN'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20particl'+'eTexINSamp'+'ler:\x20sampl'+'er;\x0avar\x20in'+'ternalTex0'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20interna'+'lTex0Sampl'+'er:\x20sample'+'r;\x0avar\x20int'+'ernalTex1:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20internal'+'Tex1Sample'+'r:\x20sampler'+';\x0avar\x20inte'+'rnalTex2:\x20'+'texture_2d'+'<f32>;\x0avar'+'\x20internalT'+'ex2Sampler'+':\x20sampler;'+'\x0avar\x20inter'+'nalTex3:\x20t'+'exture_2d<'+'f32>;\x0avar\x20'+'internalTe'+'x3Sampler:'+'\x20sampler;\x0a'+'\x0auniform\x20e'+'mitterMatr'+'ix:\x20mat3x3'+'f;\x0auniform'+'\x20emitterMa'+'trixInv:\x20m'+'at3x3f;\x0aun'+'iform\x20emit'+'terScale:\x20'+'vec3f;\x0a\x0aun'+'iform\x20emit'+'terPos:\x20ve'+'c3f;\x0aunifo'+'rm\x20frameRa'+'ndom:\x20vec3'+'f;\x0auniform'+'\x20localVelo'+'cityDivMul'+'t:\x20vec3f;\x0a'+'uniform\x20ve'+'locityDivM'+'ult:\x20vec3f'+';\x0auniform\x20'+'delta:\x20f32'+';\x0auniform\x20'+'rate:\x20f32;'+'\x0auniform\x20r'+'ateDiv:\x20f3'+'2;\x0auniform'+'\x20lifetime:'+'\x20f32;\x0aunif'+'orm\x20numPar'+'ticles:\x20f3'+'2;\x0auniform'+'\x20rotSpeedD'+'ivMult:\x20f3'+'2;\x0auniform'+'\x20radialSpe'+'edDivMult:'+'\x20f32;\x0aunif'+'orm\x20seed:\x20'+'f32;\x0aunifo'+'rm\x20startAn'+'gle:\x20f32;\x0a'+'uniform\x20st'+'artAngle2:'+'\x20f32;\x0aunif'+'orm\x20initia'+'lVelocity:'+'\x20f32;\x0a\x0auni'+'form\x20graph'+'SampleSize'+':\x20f32;\x0auni'+'form\x20graph'+'NumSamples'+':\x20f32;\x0a\x0ava'+'r<private>'+'\x20inPos:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20in'+'Vel:\x20vec3f'+';\x0avar<priv'+'ate>\x20inAng'+('le:\x20f32;\x0av'+'ar<private'+'>\x20inShow:\x20'+'bool;\x0avar<'+'private>\x20i'+'nLife:\x20f32'+';\x0avar<priv'+'ate>\x20visMo'+'de:\x20f32;\x0a\x0a'+'var<privat'+'e>\x20outPos:'+'\x20vec3f;\x0ava'+'r<private>'+'\x20outVel:\x20v'+'ec3f;\x0avar<'+'private>\x20o'+'utAngle:\x20f'+'32;\x0avar<pr'+'ivate>\x20out'+'Show:\x20bool'+';\x0avar<priv'+'ate>\x20outLi'+'fe:\x20f32;\x0a'),rO='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'uniform.li'+'fetime)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tLife\x20=\x20ou'+'tLife\x20-\x20ma'+'x(uniform.'+'lifetime,\x20'+'(uniform.n'+'umParticle'+'s\x20-\x201.0)\x20*'+'\x20particleR'+'ate);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20visMod'+'e\x20=\x20-1.0;\x0a'+'\x20\x20\x20\x20}\x0a',aO='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20selec'+'t(visMode,'+'\x20-1.0,\x20out'+'Life\x20<\x200.0'+');\x0a',nO='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'uniform.li'+'fetime)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20subtract'+'Amount\x20=\x20m'+'ax(uniform'+'.lifetime,'+'\x20(uniform.'+'numParticl'+'es\x20-\x201.0)\x20'+'*\x20particle'+'Rate);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outLi'+'fe\x20=\x20outLi'+'fe\x20-\x20subtr'+'actAmount;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'isMode\x20=\x201'+'.0;\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20visMod'+'e\x20=\x20select'+'(visMode,\x20'+'1.0,\x20outLi'+'fe\x20<\x200.0);'+'\x0a',oO='\x0auniform\x20s'+'pawnBounds'+'Sphere:\x20f3'+'2;\x0auniform'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio:\x20'+'f32;\x0a\x0afn\x20c'+'alcSpawnPo'+'sition(inB'+'ounds:\x20vec'+'3f,\x20rndFac'+'tor:\x20f32)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20r'+'nd4:\x20f32\x20='+'\x20fract(rnd'+'Factor\x20*\x201'+'000.0);\x0a\x20\x20'+'\x20\x20let\x20norm'+':\x20vec3f\x20=\x20'+'normalize('+'inBounds.x'+'yz\x20-\x20vec3f'+'(0.5));\x0a\x20\x20'+'\x20\x20let\x20r:\x20f'+'32\x20=\x20rnd4\x20'+'*\x20(1.0\x20-\x20u'+'niform.spa'+'wnBoundsSp'+'hereInnerR'+'atio)\x20+\x20un'+'iform.spaw'+'nBoundsSph'+'ereInnerRa'+'tio;\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20unifo'+'rm.emitter'+'Pos\x20+\x20norm'+'\x20*\x20r\x20*\x20uni'+'form.spawn'+'BoundsSphe'+'re;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20n'+'orm\x20*\x20r\x20*\x20'+'uniform.sp'+'awnBoundsS'+'phere;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'\x0afn\x20addIni'+'tialVeloci'+'ty(localVe'+'locity:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'inBounds:\x20'+'vec3f)\x20{\x0a\x20'+'\x20\x20\x20let\x20ini'+'tialVelOff'+'set:\x20vec3f'+'\x20=\x20normali'+'ze(inBound'+'s\x20-\x20vec3f('+'0.5))\x20*\x20un'+'iform.init'+'ialVelocit'+'y;\x0a\x20\x20\x20\x20*lo'+'calVelocit'+'y\x20=\x20*local'+'Velocity\x20+'+'\x20initialVe'+'lOffset;\x0a}'+'\x0a',lO='\x0afn\x20satura'+'te(x:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(x,\x20'+'0.0,\x201.0);'+'\x0a}\x0a\x0afn\x20unp'+'ack3NFloat'+'s(src:\x20f32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20r\x20=\x20fract'+'(src);\x0a\x20\x20\x20'+'\x20let\x20g\x20=\x20f'+'ract(src\x20*'+'\x20256.0);\x0a\x20'+'\x20\x20\x20let\x20b\x20='+'\x20fract(src'+'\x20*\x2065536.0'+');\x0a\x20\x20\x20\x20ret'+'urn\x20vec3f('+'r,\x20g,\x20b);\x0a'+'}\x0a\x0a//\x20Stru'+'ct\x20to\x20hand'+'le\x20multipl'+'e\x20return\x20v'+'alues\x20from'+'\x20tex1Dlod_'+'lerp\x0astruc'+'t\x20TexLerpU'+'npackResul'+'t\x20{\x0a\x20\x20\x20\x20re'+'sult:\x20vec3'+'f,\x0a\x20\x20\x20\x20unp'+'acked:\x20vec'+'3f\x0a}\x0a\x0afn\x20t'+'ex1Dlod_le'+'rp(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20tc:\x20'+'vec2f)\x20->\x20'+'TexLerpUnp'+'ackResult\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'tc_next\x20=\x20'+'tc\x20+\x20vec2f'+'(uniform.g'+'raphSample'+'Size);\x0a\x20\x20\x20'+'\x20let\x20a\x20=\x20t'+'extureSamp'+'leLevel(te'+'x,\x20texSamp'+'ler,\x20tc,\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20tex'+'tureSample'+'Level(tex,'+'\x20texSample'+'r,\x20tc_next'+',\x200.0);\x0a\x20\x20'+'\x20\x20let\x20c\x20=\x20'+'fract(tc.x'+'\x20*\x20uniform'+'.graphNumS'+'amples);\x0a\x0a'+'\x20\x20\x20\x20let\x20un'+'packedA\x20=\x20'+'unpack3NFl'+'oats(a.w);'+'\x0a\x20\x20\x20\x20let\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20let\x20'+'w_out\x20=\x20mi'+'x(unpacked'+'A,\x20unpacke'+'dB,\x20c);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'TexLerpUnp'+'ackResult('+'mix(a.xyz,'+'\x20b.xyz,\x20c)'+',\x20w_out);\x0a'+'}\x0a\x0aconst\x20H'+'ASHSCALE4:'+'\x20vec4f\x20=\x20v'+'ec4f(1031.'+'0,\x200.1030,'+'\x200.0973,\x200'+'.1099);\x0afn'+'\x20hash41(p:'+'\x20f32)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20var\x20p4\x20=\x20'+'fract(vec4'+'f(p)\x20*\x20HAS'+('HSCALE4);\x0a'+'\x20\x20\x20\x20p4\x20=\x20p'+'4\x20+\x20dot(p4'+',\x20p4.wzxy\x20'+'+\x2019.19);\x0a'+'\x20\x20\x20\x20return'+'\x20fract(vec'+'4f((p4.x\x20+'+'\x20p4.y)*p4.'+'z,\x20(p4.x\x20+'+'\x20p4.z)*p4.'+'y,\x20(p4.y\x20+'+'\x20p4.z)*p4.'+'w,\x20(p4.z\x20+'+'\x20p4.w)*p4.'+'x));\x0a}\x0a\x0a@f'+'ragment\x0afn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20if\x20(pc'+'Position.x'+'\x20>\x20uniform'+'.numPartic'+'les)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20disca'+'rd;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20o'+'utput;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20re'+'adInput(in'+'put.vUv0.x'+');\x0a\x20\x20\x20\x20vis'+'Mode\x20=\x20sel'+'ect(-1.0,\x20'+'1.0,\x20inSho'+'w);\x0a\x0a\x20\x20\x20\x20l'+'et\x20rndFact'+'or\x20=\x20hash4'+'1(pcPositi'+'on.x\x20+\x20uni'+'form.seed)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20particleR'+'ate\x20=\x20unif'+'orm.rate\x20+'+'\x20uniform.r'+'ateDiv\x20*\x20r'+'ndFactor.x'+';\x0a\x0a\x20\x20\x20\x20out'+'Life\x20=\x20inL'+'ife\x20+\x20unif'+'orm.delta;'+'\x0a\x20\x20\x20\x20let\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20uniform'+'.lifetime,'+'\x200.0,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20lerpResul'+'t0\x20=\x20tex1D'+'lod_lerp(i'+'nternalTex'+'0,\x20interna'+'lTex0Sampl'+'er,\x20vec2f('+'nlife,\x200.0'+'));\x0a\x20\x20\x20\x20va'+'r\x20localVel'+'ocity\x20=\x20le'+'rpResult0.'+'result;\x0a\x20\x20'+'\x20\x20let\x20loca'+'lVelocityD'+'iv\x20=\x20lerpR'+'esult0.unp'+'acked;\x0a\x0a\x20\x20'+'\x20\x20let\x20lerp'+'Result1\x20=\x20'+'tex1Dlod_l'+'erp(intern'+'alTex1,\x20in'+'ternalTex1'+'Sampler,\x20v'+'ec2f(nlife'+',\x200.0));\x0a\x20'+'\x20\x20\x20var\x20vel'+'ocity\x20=\x20le'+'rpResult1.'+'result;\x0a\x20\x20'+'\x20\x20let\x20velo'+'cityDiv\x20=\x20'+'lerpResult')+('1.unpacked'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20lerpResul'+'t2\x20=\x20tex1D'+'lod_lerp(i'+'nternalTex'+'2,\x20interna'+'lTex2Sampl'+'er,\x20vec2f('+'nlife,\x200.0'+'));\x0a\x20\x20\x20\x20le'+'t\x20params\x20='+'\x20lerpResul'+'t2.result;'+'\x0a\x20\x20\x20\x20let\x20p'+'aramDiv\x20=\x20'+'lerpResult'+'2.unpacked'+';\x0a\x20\x20\x20\x20var\x20'+'rotSpeed\x20='+'\x20params.x;'+'\x0a\x20\x20\x20\x20let\x20r'+'otSpeedDiv'+'\x20=\x20paramDi'+'v.y;\x0a\x0a\x20\x20\x20\x20'+'let\x20lerpRe'+'sult3\x20=\x20te'+'x1Dlod_ler'+'p(internal'+'Tex3,\x20inte'+'rnalTex3Sa'+'mpler,\x20vec'+'2f(nlife,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20let\x20radia'+'lParams\x20=\x20'+'lerpResult'+'3.result;\x0a'+'\x20\x20\x20\x20let\x20ra'+'dialParamD'+'iv\x20=\x20lerpR'+'esult3.unp'+'acked;\x0a\x20\x20\x20'+'\x20let\x20radia'+'lSpeed\x20=\x20r'+'adialParam'+'s.x;\x0a\x20\x20\x20\x20l'+'et\x20radialS'+'peedDiv\x20=\x20'+'radialPara'+'mDiv.y;\x0a\x0a\x20'+'\x20\x20\x20let\x20res'+'pawn\x20=\x20inL'+'ife\x20<=\x200.0'+'\x20||\x20outLif'+'e\x20>=\x20unifo'+'rm.lifetim'+'e;\x0a\x20\x20\x20\x20inP'+'os\x20=\x20selec'+'t(inPos,\x20c'+'alcSpawnPo'+'sition(rnd'+'Factor.xyz'+',\x20rndFacto'+'r.x),\x20resp'+'awn);\x0a\x20\x20\x20\x20'+'inAngle\x20=\x20'+'select(inA'+'ngle,\x20mix('+'uniform.st'+'artAngle,\x20'+'uniform.st'+'artAngle2,'+'\x20rndFactor'+'.x),\x20respa'+'wn);\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20radialVe'+'l:\x20vec3f\x20='+'\x20inPos\x20-\x20u'+'niform.emi'+'tterPos;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20radialVel'+':\x20vec3f\x20=\x20'+'inPos;\x0a\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20=\x20select'+'(vec3f(0.0'+'),\x20radialS'+'peed\x20*\x20nor'+'malize(rad'+'ialVel),\x20d'+'ot(radialV'+'el,\x20radial'+'Vel)\x20>\x201.0')+('E-8);\x0a\x20\x20\x20\x20'+'radialVel\x20'+'=\x20radialVe'+'l\x20+\x20(radia'+'lSpeedDiv\x20'+'*\x20vec3f(2.'+'0)\x20-\x20vec3f'+'(1.0))\x20*\x20u'+'niform.rad'+'ialSpeedDi'+'vMult\x20*\x20rn'+'dFactor.xy'+'z;\x0a\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20=\x20localV'+'elocity\x20+\x20'+'(localVelo'+'cityDiv\x20*\x20'+'vec3f(2.0)'+'\x20-\x20vec3f(1'+'.0))\x20*\x20uni'+'form.local'+'VelocityDi'+'vMult\x20*\x20rn'+'dFactor.xy'+'z;\x0a\x20\x20\x20\x20vel'+'ocity\x20=\x20ve'+'locity\x20+\x20('+'velocityDi'+'v\x20*\x20vec3f('+'2.0)\x20-\x20vec'+'3f(1.0))\x20*'+'\x20uniform.v'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20rotS'+'peed\x20=\x20rot'+'Speed\x20+\x20(r'+'otSpeedDiv'+'\x20*\x202.0\x20-\x201'+'.0)\x20*\x20unif'+'orm.rotSpe'+'edDivMult\x20'+'*\x20rndFacto'+'r.y;\x0a\x0a\x20\x20\x20\x20'+'addInitial'+'Velocity(&'+'localVeloc'+'ity,\x20rndFa'+'ctor.xyz);'+'\x0a\x0a\x20\x20\x20\x20#ifn'+'def\x20LOCAL_'+'SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20outVel'+'\x20=\x20uniform'+'.emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20un'+'iform.emit'+'terScale;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tVel\x20=\x20(lo'+'calVelocit'+'y\x20+\x20radial'+'Vel)\x20/\x20uni'+'form.emitt'+'erScale\x20+\x20'+'uniform.em'+'itterMatri'+'xInv\x20*\x20vel'+'ocity;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20outPos\x20'+'=\x20inPos\x20+\x20'+'outVel\x20*\x20u'+'niform.del'+'ta;\x0a\x20\x20\x20\x20ou'+'tAngle\x20=\x20i'+'nAngle\x20+\x20r'+'otSpeed\x20*\x20'+'uniform.de'+'lta;\x0a'),cO='\x0a\x20\x20\x20\x20let\x20r'+'otationRes'+'ult\x20=\x20rota'+'teWithMatr'+'ix(quadXY,'+'\x20inAngle);'+'\x0a\x20\x20\x20\x20let\x20r'+'otatedQuad'+'XY\x20=\x20rotat'+'ionResult.'+'rotatedVec'+';\x0a\x20\x20\x20\x20rotM'+'atrix\x20=\x20ro'+'tationResu'+'lt.matrix;'+'\x0a\x20\x20\x20\x20var\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20rotated'+'QuadXY);\x0a',hO='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'=\x20rgb\x20*\x20sa'+'turate(gam'+'maCorrectI'+'nput(max(a'+',\x200.0)));\x0a'+'\x20\x20\x20\x20if\x20((r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+')\x20<\x200.0000'+'01)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20discar'+'d;\x0a\x20\x20\x20\x20}\x20\x20'+'\x20\x20\x0a',dO='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3f'+'(1.0),\x20rgb'+',\x20a);\x0a\x20\x20\x20\x20'+'if\x20((rgb.r'+'\x20+\x20rgb.g\x20+'+'\x20rgb.b)\x20>\x20'+'2.99)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20disc'+'ard;\x0a\x20\x20\x20\x20}'+'\x0a',fO='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'iscard;\x0a\x20\x20'+'\x20\x20}\x0a',uO='\x0aattribute'+'\x20particle_'+'vertexData'+':\x20vec4f;\x20\x20'+'\x20//\x20XYZ\x20=\x20'+'world\x20pos,'+'\x20W\x20=\x20life\x0a'+'attribute\x20'+'particle_v'+'ertexData2'+':\x20vec4f;\x20\x20'+'//\x20X\x20=\x20ang'+'le,\x20Y\x20=\x20sc'+'ale,\x20Z\x20=\x20a'+'lpha,\x20W\x20=\x20'+'velocity.x'+'\x0aattribute'+'\x20particle_'+'vertexData'+'3:\x20vec4f;\x20'+'\x20//\x20XYZ\x20=\x20'+'particle\x20l'+'ocal\x20pos,\x20'+'W\x20=\x20veloci'+'ty.y\x0aattri'+'bute\x20parti'+'cle_vertex'+'Data4:\x20f32'+';\x20\x20\x20\x20//\x20pa'+'rticle\x20id\x0a'+'\x0a//\x20type\x20d'+'epends\x20on\x20'+'useMesh\x20pr'+'operty.\x20St'+'art\x20with\x20X'+'\x20=\x20velocit'+'y.z,\x20Y\x20=\x20p'+'article\x20ID'+'\x20and\x20for\x20m'+'esh\x20partic'+'les\x20procee'+'ds\x20with\x20Z\x20'+'=\x20mesh\x20UV.'+'x,\x20W\x20=\x20mes'+'h\x20UV.y\x0a#if'+'ndef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20at'+'tribute\x20pa'+'rticle_ver'+'texData5:\x20'+'vec2f;\x0a#el'+'se\x0a\x20\x20\x20\x20att'+'ribute\x20par'+'ticle_vert'+'exData5:\x20v'+'ec4f;\x0a#end'+'if\x0a\x0aunifor'+'m\x20matrix_v'+'iewProject'+'ion:\x20mat4x'+'4f;\x0aunifor'+'m\x20matrix_m'+'odel:\x20mat4'+'x4f;\x0a\x0a#ifn'+'def\x20VIEWMA'+'TRIX\x0a\x20\x20\x20\x20#'+'define\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20uniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0a#endif\x0a\x0a'+'uniform\x20ma'+'trix_norma'+'l:\x20mat3x3f'+';\x0auniform\x20'+'matrix_vie'+'wInverse:\x20'+'mat4x4f;\x0a\x0a'+'uniform\x20nu'+'mParticles'+':\x20f32;\x0auni'+'form\x20lifet'+'ime:\x20f32;\x0a'+'uniform\x20st'+'retch:\x20f32'+';\x0auniform\x20'+'seed:\x20f32;'+'\x0auniform\x20w'+'rapBounds:'+'\x20vec3f;\x0aun'+'iform\x20emit'+'terScale:\x20'+'vec3f;\x0auni'+'form\x20faceT'+'angent:\x20ve'+'c3f;\x0aunifo'+'rm\x20faceBin'+'orm:\x20vec3f'+';\x0a\x0a#ifdef\x20'+('PARTICLE_G'+'PU\x0a\x20\x20\x20\x20var'+'\x20internalT'+'ex0:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20var\x20'+'internalTe'+'x0Sampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20var\x20in'+'ternalTex1'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20int'+'ernalTex1S'+'ampler:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20var\x20inter'+'nalTex2:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'var\x20intern'+'alTex2Samp'+'ler:\x20sampl'+'er;\x0a#endif'+'\x0auniform\x20e'+'mitterPos:'+'\x20vec3f;\x0a\x0av'+'arying\x20tex'+'CoordsAlph'+'aLife:\x20vec'+'4f;\x0a\x0astruc'+'t\x20RotateRe'+'sult\x20{\x0a\x20\x20\x20'+'\x20rotatedVe'+'c:\x20vec2f,\x0a'+'\x20\x20\x20\x20matrix'+':\x20mat2x2f\x0a'+'}\x0a\x0afn\x20rota'+'teWithMatr'+'ix(quadXY:'+'\x20vec2f,\x20pR'+'otation:\x20f'+'32)\x20->\x20Rot'+'ateResult\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'c\x20=\x20cos(pR'+'otation);\x0a'+'\x20\x20\x20\x20let\x20s\x20'+'=\x20sin(pRot'+'ation);\x0a\x20\x20'+'\x20\x20let\x20m\x20=\x20'+'mat2x2f(ve'+'c2f(c,\x20s),'+'\x20vec2f(-s,'+'\x20c));\x0a\x20\x20\x20\x20'+'return\x20Rot'+'ateResult('+'m\x20*\x20quadXY'+',\x20m);\x0a}\x0a\x0a\x0a'+'fn\x20billboa'+'rd(Instanc'+'eCoords:\x20v'+'ec3f,\x20quad'+'XY:\x20vec2f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'pos\x20=\x20-uni'+'form.matri'+'x_viewInve'+'rse[0].xyz'+'\x20*\x20quadXY.'+'x\x20+\x20-unifo'+'rm.matrix_'+'viewInvers'+'e[1].xyz\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20retur'+'n\x20pos;\x0a}\x0a\x0a'+'fn\x20customF'+'ace(Instan'+'ceCoords:\x20'+'vec3f,\x20qua'+'dXY:\x20vec2f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20pos\x20=\x20uni'+'form.faceT'+'angent\x20*\x20q'+'uadXY.x\x20+\x20'+'uniform.fa'+'ceBinorm\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20retur'+'n\x20pos;\x0a}\x0a\x0a'+'fn\x20safeNor'+'malize(v:\x20'+'vec2f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20let\x20l\x20=\x20')+('length(v);'+'\x0a\x20\x20\x20\x20retur'+'n\x20select(v'+',\x20v\x20/\x20l,\x20l'+'\x20>\x201e-06);'+'\x0a}\x0a\x0a@verte'+'x\x0afn\x20verte'+'xMain(inpu'+'t:\x20VertexI'+'nput)\x20->\x20V'+'ertexOutpu'+'t\x20{\x0a\x20\x20\x20\x20va'+'r\x20output:\x20'+'VertexOutp'+'ut;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20particl'+'ePos\x20=\x20inp'+'ut.particl'+'e_vertexDa'+'ta.xyz;\x0a\x20\x20'+'\x20\x20let\x20inPo'+'s\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20let\x20vertP'+'os\x20=\x20input'+'.particle_'+'vertexData'+'3.xyz;\x0a\x20\x20\x20'+'\x20var\x20inVel'+'\x20=\x20vec3f(i'+'nput.parti'+'cle_vertex'+'Data2.w,\x20i'+'nput.parti'+'cle_vertex'+'Data3.w,\x20i'+'nput.parti'+'cle_vertex'+'Data5.x);\x0a'+'\x0a\x20\x20\x20\x20let\x20i'+'d\x20=\x20floor('+'input.part'+'icle_verte'+'xData4);\x0a\x20'+'\x20\x20\x20let\x20rnd'+'Factor\x20=\x20f'+'ract(sin(i'+'d\x20+\x201.0\x20+\x20'+'uniform.se'+'ed));\x0a\x20\x20\x20\x20'+'let\x20rndFac'+'tor3\x20=\x20vec'+'3f(rndFact'+'or,\x20fract('+'rndFactor*'+'10.0),\x20fra'+'ct(rndFact'+'or*100.0))'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20LOCAL_'+'SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20mo'+'delRotatio'+'n\x20=\x20mat3x3'+'f(uniform.'+'matrix_mod'+'el[0].xyz,'+'\x20uniform.m'+'atrix_mode'+'l[1].xyz,\x20'+'uniform.ma'+'trix_model'+'[2].xyz);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20in'+'Vel\x20=\x20mode'+'lRotation\x20'+'*\x20inVel;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20let\x20ve'+'locityV\x20=\x20'+'safeNormal'+'ize((mat3x'+'3f(uniform'+'.matrix_vi'+'ew[0].xyz,'+'\x20uniform.m'+'atrix_view'+'[1].xyz,\x20u'+'niform.mat'+'rix_view[2'+'].xyz)\x20*\x20i'+'nVel).xy);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'quadXY\x20=\x20v'+'ertPos.xy;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20USE_MES'+'H\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.tex'+'CoordsAlph')+('aLife\x20=\x20ve'+'c4f(input.'+'particle_v'+'ertexData5'+'.zw,\x20input'+'.particle_'+'vertexData'+'2.z,\x20input'+'.particle_'+'vertexData'+'.w);\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'texCoordsA'+'lphaLife\x20='+'\x20vec4f(qua'+'dXY\x20*\x20-0.5'+'\x20+\x200.5,\x20in'+'put.partic'+'le_vertexD'+'ata2.z,\x20in'+'put.partic'+'le_vertexD'+'ata.w);\x0a\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20var\x20rot'+'Matrix:\x20ma'+'t2x2f;\x0a\x0a\x20\x20'+'\x20\x20var\x20inAn'+'gle\x20=\x20inpu'+'t.particle'+'_vertexDat'+'a2.x;\x0a\x20\x20\x20\x20'+'var\x20partic'+'lePosMoved'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20meshLoc'+'alPos\x20=\x20in'+'put.partic'+'le_vertexD'+'ata3.xyz;\x0a'),pO='\x0a\x20\x20\x20\x20local'+'Pos\x20=\x20loca'+'lPos\x20*\x20inp'+'ut.particl'+'e_vertexDa'+'ta2.y\x20*\x20un'+'iform.emit'+'terScale;\x0a'+'\x20\x20\x20\x20localP'+'os\x20=\x20local'+'Pos\x20+\x20part'+'iclePos;\x0a\x0a'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20uniform.'+'matrix_vie'+'wProjectio'+'n\x20*\x20vec4f('+'localPos,\x20'+'1.0);\x0a',mO='\x0a\x20\x20\x20\x20let\x20r'+'otationRes'+'ult\x20=\x20rota'+'teWithMatr'+'ix(quadXY,'+'\x20inAngle);'+'\x0a\x20\x20\x20\x20let\x20r'+'otatedQuad'+'XY\x20=\x20rotat'+'ionResult.'+'rotatedVec'+';\x0a\x20\x20\x20\x20rotM'+'atrix\x20=\x20ro'+'tationResu'+'lt.matrix;'+'\x0a\x20\x20\x20\x20var\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20rotate'+'dQuadXY);\x0a',_O='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20out'+'put.color\x20'+'=\x20vec4f(rg'+'b,\x20a);\x0a\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a}\x0a',gO='\x0a\x20\x20\x20\x20local'+'Pos\x20=\x20loca'+'lPos\x20*\x20sca'+'le\x20*\x20unifo'+'rm.emitter'+'Scale;\x0a\x20\x20\x20'+'\x20localPos\x20'+'=\x20localPos'+'\x20+\x20particl'+'ePos;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20SC'+'REEN_SPACE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(localPo'+'s.x,\x20local'+'Pos.y,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.positio'+'n\x20=\x20unifor'+'m.matrix_v'+'iewProject'+'ion\x20*\x20vec4'+'f(localPos'+'.xyz,\x201.0)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a',SO='\x0a\x20\x20\x20\x20var\x20n'+'egNormal:\x20'+'vec3f\x20=\x20no'+'rmal\x20*\x200.5'+'\x20+\x200.5;\x0a\x20\x20'+'\x20\x20var\x20posN'+'ormal:\x20vec'+'3f\x20=\x20-norm'+'al\x20*\x200.5\x20+'+'\x200.5;\x0a\x20\x20\x20\x20'+'negNormal\x20'+'=\x20negNorma'+'l\x20*\x20negNor'+'mal;\x0a\x20\x20\x20\x20p'+'osNormal\x20='+'\x20posNormal'+'\x20*\x20posNorm'+'al;\x0a',yO='\x0aattribute'+'\x20particle_'+'vertexData'+':\x20vec4f;\x20/'+'/\x20XYZ\x20=\x20pa'+'rticle\x20pos'+'ition,\x20W\x20='+'\x20particle\x20'+'ID\x20+\x20rando'+'m\x20factor\x0a#'+'if\x20defined'+'(USE_MESH)'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(USE'+'_MESH_UV)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20at'+'tribute\x20pa'+'rticle_uv:'+'\x20vec2f;\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'esh\x20UV\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var<p'+'rivate>\x20pa'+'rticle_uv:'+'\x20vec2f\x20=\x20v'+'ec2f(0.0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20matrix_'+'viewProjec'+'tion:\x20mat4'+'x4f;\x0aunifo'+'rm\x20matrix_'+'model:\x20mat'+'4x4f;\x0aunif'+'orm\x20matrix'+'_normal:\x20m'+'at3x3f;\x0aun'+'iform\x20matr'+'ix_viewInv'+'erse:\x20mat4'+'x4f;\x0a\x0a#ifn'+'def\x20VIEWMA'+'TRIX\x0a\x20\x20\x20\x20#'+'define\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20uniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0a#endif\x0a\x0a'+'uniform\x20nu'+'mParticles'+':\x20f32;\x0auni'+'form\x20numPa'+'rticlesPot'+':\x20f32;\x0auni'+'form\x20graph'+'SampleSize'+':\x20f32;\x0auni'+'form\x20graph'+'NumSamples'+':\x20f32;\x0auni'+'form\x20stret'+'ch:\x20f32;\x0au'+'niform\x20wra'+'pBounds:\x20v'+'ec3f;\x0aunif'+'orm\x20emitte'+'rScale:\x20ve'+'c3f;\x0aunifo'+'rm\x20emitter'+'Pos:\x20vec3f'+';\x0auniform\x20'+'faceTangen'+'t:\x20vec3f;\x0a'+'uniform\x20fa'+'ceBinorm:\x20'+'vec3f;\x0auni'+'form\x20rate:'+'\x20f32;\x0aunif'+'orm\x20rateDi'+'v:\x20f32;\x0aun'+'iform\x20life'+'time:\x20f32;'+'\x0auniform\x20d'+'eltaRandom'+'nessStatic'+':\x20f32;\x0auni'+'form\x20scale'+'DivMult:\x20f'+'32;\x0aunifor'+'m\x20alphaDiv'+'Mult:\x20f32;'+'\x0auniform\x20s'+'eed:\x20f32;\x0a'+'uniform\x20de'+'lta:\x20f32;\x0a'+'\x0avar\x20parti'+('cleTexOUT:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20particle'+'TexOUTSamp'+'ler:\x20sampl'+'er;\x0avar\x20pa'+'rticleTexI'+'N:\x20texture'+'_2d<f32>;\x0a'+'var\x20partic'+'leTexINSam'+'pler:\x20samp'+'ler;\x0a\x0a#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x20\x20\x20\x20'+'var\x20intern'+'alTex0:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20interna'+'lTex0Sampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20var'+'\x20internalT'+'ex1:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20var\x20'+'internalTe'+'x1Sampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20var\x20in'+'ternalTex2'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20int'+'ernalTex2S'+'ampler:\x20sa'+'mpler;\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20camera_'+'params:\x20ve'+'c4f;\x0a#endi'+'f\x0a\x0avarying'+'\x20texCoords'+'AlphaLife:'+'\x20vec4f;\x0a\x0av'+'ar<private'+'>\x20inPos:\x20v'+'ec3f;\x0avar<'+'private>\x20i'+'nVel:\x20vec3'+'f;\x0avar<pri'+'vate>\x20inAn'+'gle:\x20f32;\x0a'+'var<privat'+'e>\x20inShow:'+'\x20bool;\x0avar'+'<private>\x20'+'inLife:\x20f3'+'2;\x0a'),vO='\x0a\x20\x20\x20\x20var\x20n'+'egNormal:\x20'+'vec3f\x20=\x20ma'+'x(normal,\x20'+'vec3(0.0))'+';\x0a\x20\x20\x20\x20var\x20'+'posNormal:'+'\x20vec3f\x20=\x20m'+'ax(-normal'+',\x20vec3(0.0'+'));\x0a',xO='\x0a\x20\x20\x20\x20let\x20l'+'ight:\x20vec3'+'f\x20=\x20negNor'+'mal.x\x20*\x20un'+'iform.ligh'+'tCube[0]\x20+'+'\x20posNormal'+'.x\x20*\x20unifo'+'rm.lightCu'+'be[1]\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20negNormal'+'.y\x20*\x20unifo'+'rm.lightCu'+'be[2]\x20+\x20po'+'sNormal.y\x20'+'*\x20uniform.'+'lightCube['+'3]\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ne'+'gNormal.z\x20'+'*\x20uniform.'+'lightCube['+'4]\x20+\x20posNo'+'rmal.z\x20*\x20u'+'niform.lig'+'htCube[5];'+'\x0a\x0a\x20\x20\x20\x20rgb\x20'+'=\x20rgb\x20*\x20li'+'ght;\x0a',TO='\x0aparticleP'+'os\x20=\x20(unif'+'orm.matrix'+'_model\x20*\x20v'+'ec4f(parti'+'clePos,\x201.'+'0)).xyz;\x0a',wO='\x0avar\x20local'+'Pos\x20=\x20mesh'+'LocalPos;\x0a'+'let\x20rotRes'+'ultXY\x20=\x20ro'+'tateWithMa'+'trix(local'+'Pos.xy,\x20in'+'Angle);\x0alo'+'calPos\x20=\x20v'+'ec3f(rotRe'+'sultXY.rot'+'atedVec,\x20l'+'ocalPos.z)'+';\x0arotMatri'+'x\x20=\x20rotRes'+'ultXY.matr'+'ix;\x0a\x0alet\x20r'+'otResultYZ'+'\x20=\x20rotateW'+'ithMatrix('+'localPos.y'+'z,\x20inAngle'+');\x0alocalPo'+'s\x20=\x20vec3f('+'localPos.x'+',\x20rotResul'+'tYZ.rotate'+'dVec);\x0arot'+'Matrix\x20=\x20r'+'otResultYZ'+'.matrix;\x0a\x0a'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',EO='\x0aoutput.No'+'rmal\x20=\x20nor'+'malize(loc'+'alPos\x20+\x20un'+'iform.matr'+'ix_viewInv'+'erse[2].xy'+'z);\x0a',bO='\x0a\x20\x20\x20\x20let\x20s'+'ampledNorm'+'al:\x20vec4f\x20'+'=\x20textureS'+'ample(norm'+'alMap,\x20nor'+'malMapSamp'+'ler,\x20vec2f'+'(input.tex'+'CoordsAlph'+'aLife.x,\x201'+'.0\x20-\x20input'+'.texCoords'+'AlphaLife.'+'y));\x0a\x20\x20\x20\x20l'+'et\x20normalM'+'ap:\x20vec3f\x20'+'=\x20normaliz'+'e(sampledN'+'ormal.xyz\x20'+'*\x202.0\x20-\x201.'+'0);\x0a\x0a\x20\x20\x20\x20l'+'et\x20Particl'+'eMat\x20=\x20mat'+'3x3<f32>(P'+'articleMat'+'0,\x20Particl'+'eMat1,\x20Par'+'ticleMat2)'+';\x0a\x20\x20\x20\x20let\x20'+'normal:\x20ve'+'c3f\x20=\x20Part'+'icleMat\x20*\x20'+'normalMap;'+'\x0a',AO='\x0a\x20\x20\x20\x20//\x20no'+'t\x20the\x20fast'+'est\x20way,\x20b'+'ut\x20easier\x20'+'to\x20plug\x20in'+';\x20TODO:\x20cr'+'eate\x20rot\x20m'+'atrix\x20righ'+'t\x20from\x20vec'+'tors\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20a'+'tan2(veloc'+'ityV.x,\x20ve'+'locityV.y)'+';\x0a',CO='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'InitPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'PACK8\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leInputRgb'+'a8PS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leOutputRg'+'ba8PS\x22\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleInputFl'+'oatPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleOutputF'+'loatPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20EMITTERSH'+'APE_BOX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rAABBPS\x22\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticleUpdat'+'erSpherePS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terStartPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20RESPAW'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleUp'+'daterRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'O_RESPAWN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terNoRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20O'+'N_STOP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'OnStopPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rEndPS\x22\x0a',PO='\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20Normal:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20varying\x20'+'ParticleMa'+'t0:\x20vec3f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20ParticleM'+'at1:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20Particle'+'Mat2:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20light'+'Cube:\x20arra'+'y<vec3f,\x206'+'>;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20SOFT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vDe'+'pth:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22sc'+'reenDepthP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22fogPS\x22\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20==\x20MAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20normalM'+'ap:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20normalM'+'apSampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'iclePS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_softPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'NORMAL\x20==\x20'+'VERTEX\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20n'+'ormal:\x20vec'+'3f\x20=\x20Norma'+'l;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20NORMAL\x20'+'==\x20MAP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_normal'+'MapPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20!=\x20NON'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20HAL'+'F_LAMBERT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_halflambe'+'rtPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_lambertPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+('#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_light'+'ingPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20BLE'+'ND\x20==\x20NORM'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendNorma'+'lPS\x22\x0a\x20\x20\x20\x20#'+'elif\x20BLEND'+'\x20==\x20ADDITI'+'VE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendAddPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20BLEND\x20=='+'\x20MULTIPLIC'+'ATIVE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'le_blendMu'+'ltiplyPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_endPS'+'\x22\x0a'),MO='\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20anim'+'TexTilesPa'+'rams:\x20vec2'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20a'+'nimTexPara'+'ms:\x20vec4f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20ani'+'mTexIndexP'+'arams:\x20vec'+'2f;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20==\x20MAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20Partic'+'leMat0:\x20ve'+'c3f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20ParticleM'+'at1:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20Pa'+'rticleMat2'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20==\x20V'+'ERTEX\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20Normal:\x20'+'vec3f;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vDepth:\x20f'+'32;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20PAR'+'TICLE_GPU\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_in'+'itVS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20PACK8\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleIn'+'putRgba8PS'+'\x22\x20\x20\x20\x20\x20//\x20w'+'hy\x20are\x20the'+'se\x20PS\x20and\x20'+'not\x20VS?\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x20\x22parti'+'cleInputFl'+'oatPS\x22\x20\x20\x20\x20'+'//\x20why\x20are'+'\x20these\x20PS\x20'+'and\x20not\x20VS'+'?\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20SOFT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'screenDept'+'hPS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'articleVS\x22'+'\x0a\x0a\x20\x20\x20\x20#els'+'e\x20//\x20PARTI'+'CLE_CPU\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SOFT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22screenDep'+'thPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_c'+'puVS\x22\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LOCAL_SPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_l'+('ocalShiftV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20ANIM'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20A'+'NIMTEX_LOO'+'P\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leAnimFram'+'eLoopVS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleAnimFra'+'meClampVS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leAnimTexV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20wrap\x20is\x20'+'not\x20used\x20o'+'n\x20CPU,\x20it\x20'+'was\x20commen'+'ted\x20out.\x20T'+'ODO:\x20inves'+'tigate\x20why'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PARTICLE'+'_GPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'WRAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_wrap'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20ALIGN_TO'+'_MOTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_point'+'AlongVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20USE_MESH'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_me'+'shVS\x22\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CUSTOM_FA'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_custom'+'FaceVS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'le_billboa'+'rdVS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20NORMAL\x20=='+'\x20VERTEX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_norma'+'lVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20NORMA'+'L\x20==\x20MAP\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_TBNV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STRE'+'TCH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_stretchVS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PART'+'ICLE_GPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_endV')+('S\x22\x0a\x20\x20\x20\x20#el'+'se\x20//\x20PART'+'ICLE_CPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_cpu_'+'endVS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_softVS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a}\x0a'),DO='\x0a\x20\x20\x20\x20var\x20d'+'epth:\x20f32\x20'+'=\x20getLinea'+'rScreenDep'+'thFrag();\x0a'+'\x20\x20\x20\x20var\x20pa'+'rticleDept'+'h:\x20f32\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20var\x20depth'+'Diff:\x20f32\x20'+'=\x20saturate'+'(abs(parti'+'cleDepth\x20-'+'\x20depth)\x20*\x20'+'uniform.so'+'ftening);\x0a'+'\x20\x20\x20\x20a\x20=\x20a\x20'+'*\x20depthDif'+'f;\x0a',IO='\x0a\x20\x20\x20\x20outpu'+'t.vDepth\x20='+'\x20getLinear'+'Depth(loca'+'lPos);\x0a',LO='\x0a\x20\x20\x20\x20let\x20m'+'oveDir:\x20ve'+'c3f\x20=\x20inVe'+'l\x20*\x20unifor'+'m.stretch;'+'\x0a\x20\x20\x20\x20var\x20p'+'osPrev:\x20ve'+'c3f\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20=\x20posPrev'+'\x20+\x20particl'+'ePosMoved;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'viewRotati'+'onTemp:\x20ma'+'t3x3f\x20=\x20ma'+'t3x3f(unif'+'orm.matrix'+'_view[0].x'+'yz,\x20unifor'+'m.matrix_v'+'iew[1].xyz'+',\x20uniform.'+'matrix_vie'+'w[2].xyz);'+'\x0a\x20\x20\x20\x20let\x20c'+'enterToVer'+'texV:\x20vec2'+'f\x20=\x20normal'+'ize((viewR'+'otationTem'+'p\x20*\x20localP'+'os).xy);\x0a\x0a'+'\x20\x20\x20\x20let\x20in'+'terpolatio'+'n:\x20f32\x20=\x20d'+'ot(-veloci'+'tyV,\x20cente'+'rToVertexV'+')\x20*\x200.5\x20+\x20'+'0.5;\x0a\x0a\x20\x20\x20\x20'+'particlePo'+'s\x20=\x20mix(pa'+'rticlePos,'+'\x20posPrev,\x20'+'interpolat'+'ion);\x0a',RO='\x0a\x20\x20\x20\x20let\x20r'+'ot3\x20=\x20mat3'+'x3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3f(r'+'otMatrix[0'+'][0],\x20rotM'+'atrix[1][0'+'],\x200.0),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(rotMatr'+'ix[0][1],\x20'+'rotMatrix['+'1][1],\x200.0'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3f(0.0'+',\x200.0,\x201.0'+')\x0a\x20\x20\x20\x20);\x0a\x0a'+'\x20\x20\x20\x20let\x20vi'+'ewBasis\x20=\x20'+'mat3x3f(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20-un'+'iform.matr'+'ix_viewInv'+'erse[0].xy'+'z,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20-uniform.'+'matrix_vie'+'wInverse[1'+'].xyz,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.matrix_'+'viewInvers'+'e[2].xyz\x0a\x20'+'\x20\x20\x20);\x0a\x0a\x20\x20\x20'+'\x20let\x20tempM'+'at\x20=\x20viewB'+'asis\x20*\x20rot'+'3;\x0a\x0a\x20\x20\x20\x20//'+'\x20WGSL\x20does'+'\x20not\x20suppo'+'rt\x20matrix\x20'+'varyings,\x20'+'decompose\x20'+'it\x20to\x20vec3'+'s\x0a\x20\x20\x20\x20outp'+'ut.Particl'+'eMat0\x20=\x20te'+'mpMat[0];\x0a'+'\x20\x20\x20\x20output'+'.ParticleM'+'at1\x20=\x20temp'+'Mat[1];\x0a\x20\x20'+'\x20\x20output.P'+'articleMat'+'2\x20=\x20tempMa'+'t[2];\x0a',OO='\x0a\x20\x20\x20\x20let\x20o'+'rigParticl'+'ePos:\x20vec3'+'f\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20particleP'+'os\x20=\x20parti'+'clePos\x20-\x20u'+'niform.mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20=\x20(par'+'ticlePos\x20%'+'\x20uniform.w'+'rapBounds)'+'\x20-\x20uniform'+'.wrapBound'+'s\x20*\x200.5;\x0a\x20'+'\x20\x20\x20particl'+'ePos\x20=\x20par'+'ticlePos\x20+'+'\x20uniform.m'+'atrix_mode'+'l[3].xyz;\x0a'+'\x20\x20\x20\x20partic'+'lePosMoved'+'\x20=\x20particl'+'ePos\x20-\x20ori'+'gParticleP'+'os;\x0a',FO={'particlePS':X3,'particleVS':q3,'particleAnimFrameClampVS':j3,'particleAnimFrameLoopVS':Y3,'particleAnimTexVS':K3,'particleInputFloatPS':Z3,'particleInputRgba8PS':Q3,'particleOutputFloatPS':J3,'particleOutputRgba8PS':eO,'particleUpdaterAABBPS':tO,'particleUpdaterEndPS':sO,'particleUpdaterInitPS':iO,'particleUpdaterNoRespawnPS':rO,'particleUpdaterOnStopPS':aO,'particleUpdaterRespawnPS':nO,'particleUpdaterSpherePS':oO,'particleUpdaterStartPS':lO,'particle_billboardVS':cO,'particle_blendAddPS':hO,'particle_blendMultiplyPS':dO,'particle_blendNormalPS':fO,'particle_cpuVS':uO,'particle_cpu_endVS':pO,'particle_customFaceVS':mO,'particle_endPS':_O,'particle_endVS':gO,'particle_halflambertPS':SO,'particle_initVS':yO,'particle_lambertPS':vO,'particle_lightingPS':xO,'particle_localShiftVS':TO,'particle_meshVS':wO,'particle_normalVS':EO,'particle_normalMapPS':bO,'particle_pointAlongVS':AO,'particle_simulationPS':CO,'particle_shaderPS':PO,'particle_shaderVS':MO,'particle_softPS':DO,'particle_softVS':IO,'particle_stretchVS':LO,'particle_TBNVS':RO,'particle_wrapVS':OO},NO=['enabled','autoPlay','numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','loop','preWarm','lighting','halfLamber'+'t','intensity','depthWrite','noFog','depthSofte'+'ning','sort','blendType','stretch','alignToMot'+'ion','emitterSha'+'pe','emitterExt'+'ents','emitterExt'+'entsInner','emitterRad'+'ius','emitterRad'+'iusInner','initialVel'+'ocity','wrap','wrapBounds','localSpace','screenSpac'+'e','colorMapAs'+'set','normalMapA'+'sset','mesh','meshAsset','renderAsse'+'t','orientatio'+'n','particleNo'+'rmal','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','velocityGr'+'aph','velocityGr'+'aph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2','scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','colorMap','normalMap','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animSpeed','animLoop','layers'];class kO extends ct{constructor(_0x7192be){super(_0x7192be),this['id']='particlesy'+'stem',this['ComponentT'+'ype']=e3,this['DataType']=t3,this['schema']=NO,this['propertyTy'+'pes']={'emitterExtents':'vec3','emitterExtentsInner':'vec3','particleNormal':'vec3','wrapBounds':'vec3','localVelocityGraph':'curveset','localVelocityGraph2':'curveset','velocityGraph':'curveset','velocityGraph2':'curveset','colorGraph':'curveset','colorGraph2':'curveset','alphaGraph':'curve','alphaGraph2':'curve','rotationSpeedGraph':'curve','rotationSpeedGraph2':'curve','radialSpeedGraph':'curve','radialSpeedGraph2':'curve','scaleGraph':'curve','scaleGraph2':'curve'},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this),Pe['get'](_0x7192be['graphicsDe'+'vice'],Fe)['add']($3),Pe['get'](_0x7192be['graphicsDe'+'vice'],it)['add'](FO);}['initialize'+'ComponentD'+'ata'](_0x3eaed8,_0x24d167,_0x4794b4){const _0x1ba79e={};_0x4794b4=[];const _0xbb8a0c=this['propertyTy'+'pes'];(_0x24d167['mesh']instanceof pe||typeof _0x24d167['mesh']=='number')&&(_0x24d167['meshAsset']=_0x24d167['mesh'],delete _0x24d167['mesh']);for(const _0x359c77 in _0x24d167){if(_0x24d167['hasOwnProp'+'erty'](_0x359c77)&&(_0x4794b4['push'](_0x359c77),_0x1ba79e[_0x359c77]=_0x24d167[_0x359c77]),_0xbb8a0c[_0x359c77]==='vec3')Array['isArray'](_0x1ba79e[_0x359c77])&&(_0x1ba79e[_0x359c77]=new D(_0x1ba79e[_0x359c77][-0x128+-0xb*-0x1ff+-0x14cd],_0x1ba79e[_0x359c77][0x15*-0xd4+0x9d9+0x114*0x7],_0x1ba79e[_0x359c77][0x1178+0x1*-0x917+-0x1*0x85f]));else{if(_0xbb8a0c[_0x359c77]==='curve'){if(!(_0x1ba79e[_0x359c77]instanceof qs)){const _0x1c4392=_0x1ba79e[_0x359c77]['type'];_0x1ba79e[_0x359c77]=new qs(_0x1ba79e[_0x359c77]['keys']),_0x1ba79e[_0x359c77]['type']=_0x1c4392;}}else{if(_0xbb8a0c[_0x359c77]==='curveset'&&!(_0x1ba79e[_0x359c77]instanceof na)){const _0x702ae4=_0x1ba79e[_0x359c77]['type'];_0x1ba79e[_0x359c77]=new na(_0x1ba79e[_0x359c77]['keys']),_0x1ba79e[_0x359c77]['type']=_0x702ae4;}}}_0x1ba79e['layers']&&Array['isArray'](_0x1ba79e['layers'])&&(_0x1ba79e['layers']=_0x1ba79e['layers']['slice'](-0x15f3+0x25e9+-0xff6));}super['initialize'+'ComponentD'+'ata'](_0x3eaed8,_0x1ba79e,_0x4794b4);}['cloneCompo'+'nent'](_0x3db3fd,_0x8f9470){const _0x177b8d=_0x3db3fd['particlesy'+'stem']['data'],_0xfca0b6=this['schema'],_0x46bb44={};for(let _0x26f7bd=0x6*-0x3ce+-0x1cb3+0x3387,_0x5ed056=_0xfca0b6['length'];_0x26f7bd<_0x5ed056;_0x26f7bd++){const _0x4bba66=_0xfca0b6[_0x26f7bd];let _0x580002=_0x177b8d[_0x4bba66];_0x580002 instanceof D||_0x580002 instanceof qs||_0x580002 instanceof na?(_0x580002=_0x580002['clone'](),_0x46bb44[_0x4bba66]=_0x580002):_0x4bba66==='layers'?_0x46bb44['layers']=_0x177b8d['layers']['slice'](0x2319+-0xc14+-0x53*0x47):_0x580002!=null&&(_0x46bb44[_0x4bba66]=_0x580002);}return this['addCompone'+'nt'](_0x8f9470,_0x46bb44);}['onUpdate'](_0x208e3e){const _0x5c4e86=this['store'],_0x27ca21=this['app']['stats']['particles'],_0x37522b=this['app']['scene']['layers'];for(let _0x2ee404=-0x1*-0x971+0x1*0x1387+-0x1cf8;_0x2ee404<_0x37522b['layerList']['length'];_0x2ee404++)_0x37522b['layerList'][_0x2ee404]['requiresLi'+'ghtCube']=!(-0x1522+0x1*-0x167f+0x2ba2);for(const _0x582feb in _0x5c4e86)if(_0x5c4e86['hasOwnProp'+'erty'](_0x582feb)){const _0x1aeac5=_0x5c4e86[_0x582feb],_0x3d656f=_0x1aeac5['entity'],_0x1be9ea=_0x1aeac5['data'];if(_0x1be9ea['enabled']&&_0x3d656f['enabled']){const _0x2fc51d=_0x3d656f['particlesy'+'stem']['emitter'];if(!(_0x2fc51d!=null&&_0x2fc51d['meshInstan'+'ce']['visible']))continue;if(_0x2fc51d['lighting']){const _0x1f9eca=_0x1be9ea['layers'];for(let _0x5d8f59=-0x1*-0x1726+0x1*0x236c+-0x99*0x62;_0x5d8f59<_0x1f9eca['length'];_0x5d8f59++){const _0x489cfe=_0x37522b['getLayerBy'+'Id'](_0x1f9eca[_0x5d8f59]);_0x489cfe&&(_0x489cfe['requiresLi'+'ghtCube']=!(0x147e+0x2612*0x1+0x8*-0x752));}}if(!_0x1be9ea['paused']){let _0x548c5f=0x14f2+-0x310+-0x2a*0x6d;if(_0x2fc51d['simTime']+=_0x208e3e,_0x2fc51d['simTime']>=_0x2fc51d['fixedTimeS'+'tep']&&(_0x548c5f=Math['floor'](_0x2fc51d['simTime']/_0x2fc51d['fixedTimeS'+'tep']),_0x2fc51d['simTime']-=_0x548c5f*_0x2fc51d['fixedTimeS'+'tep']),_0x548c5f){_0x548c5f=Math['min'](_0x548c5f,_0x2fc51d['maxSubStep'+'s']);for(let _0xee8c=-0x6*-0x16a+-0x1276+0x1*0x9fa;_0xee8c<_0x548c5f;_0xee8c++)_0x2fc51d['addTime'](_0x2fc51d['fixedTimeS'+'tep'],!(0xec2+0x11ae+0x169*-0x17));_0x27ca21['_updatesPe'+'rFrame']+=_0x548c5f,_0x27ca21['_frameTime']+=_0x2fc51d['_addTimeTi'+'me'],_0x2fc51d['_addTimeTi'+'me']=0x132c+0x7cf*0x1+0x1afb*-0x1;}_0x2fc51d['finishFram'+'e']();}}}}['onBeforeRe'+'move'](_0xcd0c51,_0x4f668a){_0x4f668a['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class UO extends wd{constructor(_0x43c606,_0x1e65ab){super(),this['skin']=_0x43c606,this['skinInstan'+'ce']=_0x1e65ab;}}const Gs=class Gs{static['logCachedS'+'kinInstanc'+'es'](){console['log']('CachedSkin'+'Instances'),Gs['_skinInsta'+'nceCache']['forEach']((_0x5e4447,_0x4c5cd0)=>{console['log'](_0x4c5cd0['name']+':\x20Array('+_0x5e4447['length']+')');for(let _0x9f88ca=0x1845*-0x1+-0xf1*0xd+0x1*0x2482;_0x9f88ca<_0x5e4447['length'];_0x9f88ca++)console['log']('\x20\x20'+_0x9f88ca+(':\x20RefCount'+'\x20')+_0x5e4447[_0x9f88ca]['refCount']);});}static['createCach'+'edSkinInst'+'ance'](_0x48b87c,_0x2a6310,_0x3e23ba){let _0x56f065=Gs['getCachedS'+'kinInstanc'+'e'](_0x48b87c,_0x2a6310);return _0x56f065||(_0x56f065=new Ol(_0x48b87c),_0x56f065['resolve'](_0x2a6310,_0x3e23ba),Gs['addCachedS'+'kinInstanc'+'e'](_0x48b87c,_0x2a6310,_0x56f065)),_0x56f065;}static['getCachedS'+'kinInstanc'+'e'](_0x966fd9,_0x52591b){let _0x8b3327=null;const _0xa7bc67=Gs['_skinInsta'+'nceCache']['get'](_0x52591b);if(_0xa7bc67){const _0x36d5d2=_0xa7bc67['find'](_0x3af5d4=>_0x3af5d4['skin']===_0x966fd9);_0x36d5d2&&(_0x36d5d2['incRefCoun'+'t'](),_0x8b3327=_0x36d5d2['skinInstan'+'ce']);}return _0x8b3327;}static['addCachedS'+'kinInstanc'+'e'](_0x2ee34d,_0x566d52,_0x4f373c){let _0x71eb99=Gs['_skinInsta'+'nceCache']['get'](_0x566d52);_0x71eb99||(_0x71eb99=[],Gs['_skinInsta'+'nceCache']['set'](_0x566d52,_0x71eb99));let _0x5aa301=_0x71eb99['find'](_0x17b8ec=>_0x17b8ec['skin']===_0x2ee34d);_0x5aa301||(_0x5aa301=new UO(_0x2ee34d,_0x4f373c),_0x71eb99['push'](_0x5aa301)),_0x5aa301['incRefCoun'+'t']();}static['removeCach'+'edSkinInst'+'ance'](_0x2a5c3c){if(_0x2a5c3c){const _0x1bfc6e=_0x2a5c3c['rootBone'];if(_0x1bfc6e){const _0x259166=Gs['_skinInsta'+'nceCache']['get'](_0x1bfc6e);if(_0x259166){const _0x2d338e=_0x259166['findIndex'](_0x589284=>_0x589284['skinInstan'+'ce']===_0x2a5c3c);if(_0x2d338e>=0x1b39+0x15fb*-0x1+-0x53e){const _0x4647f2=_0x259166[_0x2d338e];_0x4647f2['decRefCoun'+'t'](),_0x4647f2['refCount']===-0x1a11*0x1+-0x30*-0x36+0xb*0x173&&(_0x259166['splice'](_0x2d338e,-0x90b*-0x4+-0x16+-0x2415),_0x259166['length']||Gs['_skinInsta'+'nceCache']['delete'](_0x1bfc6e),_0x2a5c3c&&(_0x2a5c3c['destroy'](),_0x4647f2['skinInstan'+'ce']=null));}}}}}};h(Gs,'_skinInsta'+'nceCache',new Map());let _l=Gs;class gl{constructor(_0x383ab2,_0x515ff6,_0x4dcf33,_0x4f5fe2,_0x1697ab){h(this,'_evtLoadBy'+'Id',null),h(this,'_evtUnload'+'ById',null),h(this,'_evtAddByI'+'d',null),h(this,'_evtRemove'+'ById',null),h(this,'_evtLoadBy'+'Url',null),h(this,'_evtAddByU'+'rl',null),h(this,'_evtRemove'+'ByUrl',null),(this['propertyNa'+'me']=_0x383ab2,this['parent']=_0x515ff6,this['_scope']=_0x1697ab,this['_registry']=_0x4dcf33,this['id']=null,this['url']=null,this['asset']=null,this['_onAssetLo'+'ad']=_0x4f5fe2['load'],this['_onAssetAd'+'d']=_0x4f5fe2['add'],this['_onAssetRe'+'move']=_0x4f5fe2['remove'],this['_onAssetUn'+'load']=_0x4f5fe2['unload']);}set['id'](_0x34f9a6){if(this['url'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_id']=_0x34f9a6,this['asset']=this['_registry']['get'](this['_id']),this['_bind']();}get['id'](){return this['_id'];}set['url'](_0x20e443){if(this['id'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_url']=_0x20e443,this['asset']=this['_registry']['getByUrl'](this['_url']),this['_bind']();}get['url'](){return this['_url'];}['_bind'](){this['id']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Id']=this['_registry']['on']('load:'+this['id'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByI'+'d']=this['_registry']['once']('add:'+this['id'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ById']=this['_registry']['on']('remove:'+this['id'],this['_onRemove'],this)),this['_onAssetUn'+'load']&&(this['_evtUnload'+'ById']=this['_registry']['on']('unload:'+this['id'],this['_onUnload'],this))),this['url']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Url']=this['_registry']['on']('load:url:'+this['url'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByU'+'rl']=this['_registry']['once']('add:url:'+this['url'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ByUrl']=this['_registry']['on']('remove:url'+':'+this['url'],this['_onRemove'],this)));}['_unbind'](){var _0x244f4e,_0x3df650,_0x1e2c67,_0x2d86dc,_0x845848,_0xea0d0c,_0x4d5f71;this['id']&&((_0x244f4e=this['_evtLoadBy'+'Id'])==null||_0x244f4e['off'](),this['_evtLoadBy'+'Id']=null,(_0x3df650=this['_evtAddByI'+'d'])==null||_0x3df650['off'](),this['_evtAddByI'+'d']=null,(_0x1e2c67=this['_evtRemove'+'ById'])==null||_0x1e2c67['off'](),this['_evtRemove'+'ById']=null,(_0x2d86dc=this['_evtUnload'+'ById'])==null||_0x2d86dc['off'](),this['_evtUnload'+'ById']=null),this['url']&&((_0x845848=this['_evtLoadBy'+'Url'])==null||_0x845848['off'](),this['_evtLoadBy'+'Url']=null,(_0xea0d0c=this['_evtAddByU'+'rl'])==null||_0xea0d0c['off'](),this['_evtAddByU'+'rl']=null,(_0x4d5f71=this['_evtRemove'+'ByUrl'])==null||_0x4d5f71['off'](),this['_evtRemove'+'ByUrl']=null);}['_onLoad'](_0x331acd){this['_onAssetLo'+'ad']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x331acd);}['_onAdd'](_0x645632){this['asset']=_0x645632,this['_onAssetAd'+'d']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x645632);}['_onRemove'](_0x3f15be){this['_onAssetRe'+'move']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x3f15be),this['asset']=null;}['_onUnload'](_0x345811){this['_onAssetUn'+'load']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x345811);}}class n0 extends we{constructor(_0x2c0264,_0x218517){super(_0x2c0264,_0x218517),h(this,'_type','asset'),h(this,'_castShado'+'ws',!(0x11*0x1e3+0x1501+0x1*-0x3514)),h(this,'_receiveSh'+'adows',!(0xe*0x1a9+0x15cc+-0x2d0a)),h(this,'_castShado'+'wsLightmap',!(-0x61*0x3a+-0x103*-0x25+0x527*-0x3)),h(this,'_lightmapp'+'ed',!(0x53*0xf+-0x15*-0xd5+-0x1655)),h(this,'_lightmapS'+'izeMultipl'+'ier',0x2201+0x20ee+-0x2*0x2177),h(this,'isStatic',!(-0x1eb*-0x2+0xb63+-0x79c*0x2)),h(this,'_batchGrou'+'pId',-(0x14df+-0x1add+0x5ff)),h(this,'_layers',[er]),h(this,'_renderSty'+'le',un),h(this,'_meshInsta'+'nces',[]),h(this,'_customAab'+'b',null),h(this,'_area',null),h(this,'_assetRefe'+'rence'),h(this,'_materialR'+'eferences',[]),h(this,'_material'),h(this,'_rootBone',null),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_evtSetMes'+'hes',null),(this['_assetRefe'+'rence']=new gl('asset',this,_0x2c0264['app']['assets'],{'add':this['_onRenderA'+'ssetAdded'],'load':this['_onRenderA'+'ssetLoad'],'remove':this['_onRenderA'+'ssetRemove'],'unload':this['_onRenderA'+'ssetUnload']},this),this['_material']=_0x2c0264['defaultMat'+'erial'],_0x218517['on']('remove',this['onRemoveCh'+'ild'],this),_0x218517['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x218517['on']('insert',this['onInsertCh'+'ild'],this),_0x218517['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['renderStyl'+'e'](_0x4171d5){this['_renderSty'+'le']!==_0x4171d5&&(this['_renderSty'+'le']=_0x4171d5,He['_prepareRe'+'nderStyleF'+'orArray'](this['_meshInsta'+'nces'],_0x4171d5));}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['customAabb'](_0x1d04a2){this['_customAab'+'b']=_0x1d04a2;const _0x2eb92c=this['_meshInsta'+'nces'];if(_0x2eb92c){for(let _0x5ae823=-0x22d9*-0x1+-0x1e0a+-0x4cf*0x1;_0x5ae823<_0x2eb92c['length'];_0x5ae823++)_0x2eb92c[_0x5ae823]['setCustomA'+'abb'](this['_customAab'+'b']);}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x15ea42){if(this['_type']!==_0x15ea42&&(this['_area']=null,this['_type']=_0x15ea42,this['destroyMes'+'hInstances'](),_0x15ea42!=='asset')){let _0x476d6a=this['_material'];(!_0x476d6a||_0x476d6a===this['system']['defaultMat'+'erial'])&&(_0x476d6a=this['_materialR'+'eferences'][0x7fa*-0x4+0x98+-0x4*-0x7d4]&&this['_materialR'+'eferences'][0x9ac*0x4+-0x10b5+-0x15fb]['asset']&&this['_materialR'+'eferences'][-0x1f76*0x1+0x2662+-0x2*0x376]['asset']['resource']);const _0x52a9fe=r0(this['system']['app']['graphicsDe'+'vice'],_0x15ea42);this['_area']=_0x52a9fe['area'],this['meshInstan'+'ces']=[new He(_0x52a9fe['mesh'],_0x476d6a||this['system']['defaultMat'+'erial'],this['entity'])];}}get['type'](){return this['_type'];}set['meshInstan'+'ces'](_0x4490b4){if(w['assert'](Array['isArray'](_0x4490b4),'MeshInstan'+'ces\x20set\x20to'+'\x20a\x20Render\x20'+'component\x20'+'must\x20be\x20an'+'\x20array.'),this['destroyMes'+'hInstances'](),this['_meshInsta'+'nces']=_0x4490b4,this['_meshInsta'+'nces']){const _0x24dde1=this['_meshInsta'+'nces'];for(let _0x21f89d=0x1*0xce3+-0xbd9+-0x10a;_0x21f89d<_0x24dde1['length'];_0x21f89d++)_0x24dde1[_0x21f89d]['node']||(_0x24dde1[_0x21f89d]['node']=this['entity']),_0x24dde1[_0x21f89d]['castShadow']=this['_castShado'+'ws'],_0x24dde1[_0x21f89d]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x24dde1[_0x21f89d]['renderStyl'+'e']=this['_renderSty'+'le'],_0x24dde1[_0x21f89d]['setLightma'+'pped'](this['_lightmapp'+'ed']),_0x24dde1[_0x21f89d]['setCustomA'+'abb'](this['_customAab'+'b']);this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['meshInstan'+'ces'](){return this['_meshInsta'+'nces'];}set['lightmappe'+'d'](_0x3980cd){if(_0x3980cd!==this['_lightmapp'+'ed']){this['_lightmapp'+'ed']=_0x3980cd;const _0x41e7e8=this['_meshInsta'+'nces'];if(_0x41e7e8){for(let _0x3b1bbe=0x26c6+-0x1*0x1eb7+-0x80f;_0x3b1bbe<_0x41e7e8['length'];_0x3b1bbe++)_0x41e7e8[_0x3b1bbe]['setLightma'+'pped'](_0x3980cd);}}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x3613ab){if(this['_castShado'+'ws']!==_0x3613ab){const _0x4eadc1=this['_meshInsta'+'nces'];if(_0x4eadc1){const _0x5b72b1=this['layers'],_0x1dcfce=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x3613ab)for(let _0x4b5477=-0x3d*0x1f+0x4*0x257+-0x1f9;_0x4b5477<_0x5b72b1['length'];_0x4b5477++){const _0x587a76=_0x1dcfce['layers']['getLayerBy'+'Id'](this['layers'][_0x4b5477]);_0x587a76&&_0x587a76['removeShad'+'owCasters'](_0x4eadc1);}for(let _0x3359bb=-0xedc+-0x101e+0xf7d*0x2;_0x3359bb<_0x4eadc1['length'];_0x3359bb++)_0x4eadc1[_0x3359bb]['castShadow']=_0x3613ab;if(!this['_castShado'+'ws']&&_0x3613ab)for(let _0x386807=-0xa06+-0xdd1+0x11*0x167;_0x386807<_0x5b72b1['length'];_0x386807++){const _0x39cf26=_0x1dcfce['layers']['getLayerBy'+'Id'](_0x5b72b1[_0x386807]);_0x39cf26&&_0x39cf26['addShadowC'+'asters'](_0x4eadc1);}}this['_castShado'+'ws']=_0x3613ab;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x2827c9){if(this['_receiveSh'+'adows']!==_0x2827c9){this['_receiveSh'+'adows']=_0x2827c9;const _0x56736c=this['_meshInsta'+'nces'];if(_0x56736c){for(let _0x501d69=-0x61*0x13+0xed7+-0x2*0x3d2;_0x501d69<_0x56736c['length'];_0x501d69++)_0x56736c[_0x501d69]['receiveSha'+'dow']=_0x2827c9;}}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x131df3){this['_castShado'+'wsLightmap']=_0x131df3;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x5699d7){this['_lightmapS'+'izeMultipl'+'ier']=_0x5699d7;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x4ef656){const _0x1a8f76=this['system']['app']['scene']['layers'];let _0x122e39;if(this['_meshInsta'+'nces']){for(let _0x541436=0x1d*-0xad+0x3a*-0x49+0xb*0x349;_0x541436<this['_layers']['length'];_0x541436++)_0x122e39=_0x1a8f76['getLayerBy'+'Id'](this['_layers'][_0x541436]),_0x122e39&&_0x122e39['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}this['_layers']['length']=-0x20*0x17+-0xcb5+0xf95*0x1;for(let _0x46f719=0x178a+0xd3b+-0x24c5;_0x46f719<_0x4ef656['length'];_0x46f719++)this['_layers'][_0x46f719]=_0x4ef656[_0x46f719];if(!(!this['enabled']||!this['entity']['enabled']||!this['_meshInsta'+'nces'])){for(let _0x4039bc=-0x246+0xfca+-0xd84;_0x4039bc<this['_layers']['length'];_0x4039bc++)_0x122e39=_0x1a8f76['getLayerBy'+'Id'](this['_layers'][_0x4039bc]),_0x122e39&&_0x122e39['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x2befd4){var _0x3fea39,_0x540699;this['_batchGrou'+'pId']!==_0x2befd4&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x233e+0x5*-0x75b+0x1*0x189&&((_0x3fea39=this['system']['app']['batcher'])==null||_0x3fea39['remove'](St['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x2befd4>=-0x161*0xd+0x2*0x1303+0x15*-0xf5&&((_0x540699=this['system']['app']['batcher'])==null||_0x540699['insert'](St['RENDER'],_0x2befd4,this['entity'])),_0x2befd4<0x11ba*-0x2+-0x2064+0x87b*0x8&&this['_batchGrou'+'pId']>=-0x9bc*0x4+0x107c+0x1674&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s'](),this['_batchGrou'+'pId']=_0x2befd4);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['material'](_0x10406a){if(this['_material']!==_0x10406a&&(this['_material']=_0x10406a,this['_meshInsta'+'nces']&&this['_type']!=='asset')){for(let _0x52b79f=-0x11b4*-0x1+-0x4*0x65c+0x294*0x3;_0x52b79f<this['_meshInsta'+'nces']['length'];_0x52b79f++)this['_meshInsta'+'nces'][_0x52b79f]['material']=_0x10406a;}}get['material'](){return this['_material'];}set['materialAs'+'sets'](_0x3d4136=[]){if(this['_materialR'+'eferences']['length']>_0x3d4136['length']){for(let _0x499af6=_0x3d4136['length'];_0x499af6<this['_materialR'+'eferences']['length'];_0x499af6++)this['_materialR'+'eferences'][_0x499af6]['id']=null;this['_materialR'+'eferences']['length']=_0x3d4136['length'];}for(let _0x3bd4bf=-0xbfe+-0xdab*-0x2+-0xf58*0x1;_0x3bd4bf<_0x3d4136['length'];_0x3bd4bf++)if(this['_materialR'+'eferences'][_0x3bd4bf]||this['_materialR'+'eferences']['push'](new gl(_0x3bd4bf,this,this['system']['app']['assets'],{'add':this['_onMateria'+'lAdded'],'load':this['_onMateria'+'lLoad'],'remove':this['_onMateria'+'lRemove'],'unload':this['_onMateria'+'lUnload']},this)),_0x3d4136[_0x3bd4bf]){const _0x1b181d=_0x3d4136[_0x3bd4bf]instanceof pe?_0x3d4136[_0x3bd4bf]['id']:_0x3d4136[_0x3bd4bf];this['_materialR'+'eferences'][_0x3bd4bf]['id']!==_0x1b181d&&(this['_materialR'+'eferences'][_0x3bd4bf]['id']=_0x1b181d),this['_materialR'+'eferences'][_0x3bd4bf]['asset']&&this['_onMateria'+'lAdded'](_0x3bd4bf,this,this['_materialR'+'eferences'][_0x3bd4bf]['asset']);}else this['_materialR'+'eferences'][_0x3bd4bf]['id']=null,this['_meshInsta'+'nces'][_0x3bd4bf]&&(this['_meshInsta'+'nces'][_0x3bd4bf]['material']=this['system']['defaultMat'+'erial']);}get['materialAs'+'sets'](){return this['_materialR'+'eferences']['map'](_0x7a5198=>_0x7a5198['id']);}set['asset'](_0x52bd17){const _0x1e08cf=_0x52bd17 instanceof pe?_0x52bd17['id']:_0x52bd17;this['_assetRefe'+'rence']['id']!==_0x1e08cf&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onRenderA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x1e08cf,this['_assetRefe'+'rence']['asset']&&this['_onRenderA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x1d6674){const _0x2a175f=_0x1d6674 instanceof pe?_0x1d6674['id']:_0x1d6674;this['_assetRefe'+'rence']['id']=_0x2a175f;}set['rootBone'](_0x24f43c){if(this['_rootBone']!==_0x24f43c){const _0x2b0bcc=typeof _0x24f43c=='string';if(this['_rootBone']&&_0x2b0bcc&&this['_rootBone']['getGuid']()===_0x24f43c)return;this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x24f43c instanceof Ie?this['_rootBone']=_0x24f43c:_0x2b0bcc?(this['_rootBone']=this['system']['app']['getEntityF'+'romIndex'](_0x24f43c)||null,this['_rootBone']||w['warn']('Failed\x20to\x20'+'find\x20rootB'+'one\x20Entity'+'\x20by\x20GUID')):this['_rootBone']=null,this['_rootBone']&&this['_cloneSkin'+'Instances']();}}get['rootBone'](){return this['_rootBone'];}['destroyMes'+'hInstances'](){const _0x4146d7=this['_meshInsta'+'nces'];if(_0x4146d7){this['removeFrom'+'Layers'](),this['_clearSkin'+'Instances']();for(let _0x5cc0ba=0x1b0e+-0x2b*-0x70+-0x135*0x26;_0x5cc0ba<_0x4146d7['length'];_0x5cc0ba++)_0x4146d7[_0x5cc0ba]['destroy']();this['_meshInsta'+'nces']['length']=-0x16f2+0x2645+-0xf53;}}['addToLayer'+'s'](){const _0x41de83=this['system']['app']['scene']['layers'];for(let _0x8cc486=-0x13f*-0x9+0x2*-0x100f+0x14e7;_0x8cc486<this['_layers']['length'];_0x8cc486++){const _0x17794e=_0x41de83['getLayerBy'+'Id'](this['_layers'][_0x8cc486]);_0x17794e&&_0x17794e['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}['removeFrom'+'Layers'](){if(this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']){const _0xf3c384=this['system']['app']['scene']['layers'];for(let _0x3ee220=0x1a99+0x1ab6+-0x354f;_0x3ee220<this['_layers']['length'];_0x3ee220++){const _0x442a53=_0xf3c384['getLayerBy'+'Id'](this['_layers'][_0x3ee220]);_0x442a53&&_0x442a53['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_meshInsta'+'nces']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyMes'+'hInstances'](),this['asset']=null,this['materialAs'+'set']=null,this['_assetRefe'+'rence']['id']=null;for(let _0x1d7cd6=0x1*-0x1b68+0x19d0+0x198;_0x1d7cd6<this['_materialR'+'eferences']['length'];_0x1d7cd6++)this['_materialR'+'eferences'][_0x1d7cd6]['id']=null;this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x1bb0c5,_0xc72650){this['addToLayer'+'s'](),_0x1bb0c5['off']('add',this['onLayerAdd'+'ed'],this),_0x1bb0c5['off']('remove',this['onLayerRem'+'oved'],this),_0xc72650['on']('add',this['onLayerAdd'+'ed'],this),_0xc72650['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x1e6974){this['layers']['indexOf'](_0x1e6974['id'])<0x766*-0x1+-0x2*-0xea3+-0x1c*0xc8||_0x1e6974['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}['onLayerRem'+'oved'](_0x2db960){this['layers']['indexOf'](_0x2db960['id'])<0x68b*-0x1+-0x1c*-0x6a+-0x50d||_0x2db960['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}['onEnable'](){var _0x350879;const _0x3c8bf3=this['system']['app'],_0x5597c9=_0x3c8bf3['scene'],_0x3593a4=_0x5597c9['layers'];this['_rootBone']&&this['_cloneSkin'+'Instances'](),this['_evtLayers'+'Changed']=_0x5597c9['on']('set:layers',this['onLayersCh'+'anged'],this),_0x3593a4&&(this['_evtLayerA'+'dded']=_0x3593a4['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x3593a4['on']('remove',this['onLayerRem'+'oved'],this));const _0x41a37a=this['_type']==='asset';this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']?this['addToLayer'+'s']():_0x41a37a&&this['asset']&&this['_onRenderA'+'ssetAdded']();for(let _0x3d5948=-0x19*-0x68+-0xedd+0x1*0x4b5;_0x3d5948<this['_materialR'+'eferences']['length'];_0x3d5948++)this['_materialR'+'eferences'][_0x3d5948]['asset']&&this['system']['app']['assets']['load'](this['_materialR'+'eferences'][_0x3d5948]['asset']);this['_batchGrou'+'pId']>=0x18d9*0x1+-0x1c61+0x388&&((_0x350879=_0x3c8bf3['batcher'])==null||_0x350879['insert'](St['RENDER'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x4d9b57,_0x557dfb,_0xb10675,_0x4dc337;const _0x4e3898=this['system']['app'],_0x35abc4=_0x4e3898['scene']['layers'];(_0x4d9b57=this['_evtLayers'+'Changed'])==null||_0x4d9b57['off'](),this['_evtLayers'+'Changed']=null,this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x35abc4&&((_0x557dfb=this['_evtLayerA'+'dded'])==null||_0x557dfb['off'](),this['_evtLayerA'+'dded']=null,(_0xb10675=this['_evtLayerR'+'emoved'])==null||_0xb10675['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=-0x655*0x5+-0xd1f*0x1+0x2cc8&&((_0x4dc337=_0x4e3898['batcher'])==null||_0x4dc337['remove'](St['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['removeFrom'+'Layers']();}['hide'](){if(this['_meshInsta'+'nces']){for(let _0x4545c9=0x1*0x1567+-0x1*0x1c65+-0x6fe*-0x1;_0x4545c9<this['_meshInsta'+'nces']['length'];_0x4545c9++)this['_meshInsta'+'nces'][_0x4545c9]['visible']=!(-0x643+-0x1da4+-0x2*-0x11f4);}}['show'](){if(this['_meshInsta'+'nces']){for(let _0x1350b8=0x24e7+-0x11d4*0x1+-0x1313;_0x1350b8<this['_meshInsta'+'nces']['length'];_0x1350b8++)this['_meshInsta'+'nces'][_0x1350b8]['visible']=!(0x1*-0x21ed+0x607*-0x2+0x2dfb);}}['_onRenderA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onRenderA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onRenderA'+'ssetLoad'](){var _0x59ce0;if(this['destroyMes'+'hInstances'](),this['_assetRefe'+'rence']['asset']){const _0x578769=this['_assetRefe'+'rence']['asset']['resource'];(_0x59ce0=this['_evtSetMes'+'hes'])==null||_0x59ce0['off'](),this['_evtSetMes'+'hes']=_0x578769['on']('set:meshes',this['_onSetMesh'+'es'],this),_0x578769['meshes']&&this['_onSetMesh'+'es'](_0x578769['meshes']);}}['_onSetMesh'+'es'](_0x4676c8){this['_cloneMesh'+'es'](_0x4676c8);}['_clearSkin'+'Instances'](){for(let _0x379ebc=0x17b8+0x109*-0x3+-0x149d;_0x379ebc<this['_meshInsta'+'nces']['length'];_0x379ebc++){const _0x39b452=this['_meshInsta'+'nces'][_0x379ebc];_l['removeCach'+'edSkinInst'+'ance'](_0x39b452['skinInstan'+'ce']),_0x39b452['skinInstan'+'ce']=null;}}['_cloneSkin'+'Instances'](){if(this['_meshInsta'+'nces']['length']&&this['_rootBone']instanceof Ie)for(let _0xb356a9=-0x2072+0x383*0x7+0x7dd;_0xb356a9<this['_meshInsta'+'nces']['length'];_0xb356a9++){const _0x42b025=this['_meshInsta'+'nces'][_0xb356a9],_0x3632b3=_0x42b025['mesh'];_0x3632b3['skin']&&!_0x42b025['skinInstan'+'ce']&&(_0x42b025['skinInstan'+'ce']=_l['createCach'+'edSkinInst'+'ance'](_0x3632b3['skin'],this['_rootBone'],this['entity']));}}['_cloneMesh'+'es'](_0x15fdf5){if(_0x15fdf5&&_0x15fdf5['length']){const _0x59410b=[];for(let _0x2c8f6c=-0x6c5*-0x3+-0x24*0xd7+0x4d*0x21;_0x2c8f6c<_0x15fdf5['length'];_0x2c8f6c++){const _0x89c72f=_0x15fdf5[_0x2c8f6c],_0x4117bd=this['_materialR'+'eferences'][_0x2c8f6c]&&this['_materialR'+'eferences'][_0x2c8f6c]['asset']&&this['_materialR'+'eferences'][_0x2c8f6c]['asset']['resource'],_0x302246=new He(_0x89c72f,_0x4117bd||this['system']['defaultMat'+'erial'],this['entity']);_0x59410b['push'](_0x302246),_0x89c72f['morph']&&(_0x302246['morphInsta'+'nce']=new xa(_0x89c72f['morph']));}this['meshInstan'+'ces']=_0x59410b,this['_cloneSkin'+'Instances']();}}['_onRenderA'+'ssetUnload'](){this['_type']==='asset'&&this['destroyMes'+'hInstances']();}['_onRenderA'+'ssetRemove'](){var _0x1bc7de;(_0x1bc7de=this['_evtSetMes'+'hes'])==null||_0x1bc7de['off'](),this['_evtSetMes'+'hes']=null,this['_onRenderA'+'ssetUnload']();}['_onMateria'+'lAdded'](_0x35702d,_0x470ffb,_0x58fdc8){_0x58fdc8['resource']?this['_onMateria'+'lLoad'](_0x35702d,_0x470ffb,_0x58fdc8):this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](_0x58fdc8);}['_updateMai'+'nMaterial'](_0x3e6ee0,_0x2e70e1){_0x3e6ee0===0x2646+-0x2225+-0x421&&(this['material']=_0x2e70e1);}['_onMateria'+'lLoad'](_0x1a144a,_0x458ad9,_0x10e06b){this['_meshInsta'+'nces'][_0x1a144a]&&(this['_meshInsta'+'nces'][_0x1a144a]['material']=_0x10e06b['resource']),this['_updateMai'+'nMaterial'](_0x1a144a,_0x10e06b['resource']);}['_onMateria'+'lRemove'](_0xfa95cf,_0x2971f7,_0x1e30b4){this['_meshInsta'+'nces'][_0xfa95cf]&&(this['_meshInsta'+'nces'][_0xfa95cf]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0xfa95cf,this['system']['defaultMat'+'erial']);}['_onMateria'+'lUnload'](_0x264e6e,_0xdc594a,_0x4a7fd5){this['_meshInsta'+'nces'][_0x264e6e]&&(this['_meshInsta'+'nces'][_0x264e6e]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x264e6e,this['system']['defaultMat'+'erial']);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4a405f,_0x1cd79e){_0x4a405f['rootBone']&&(this['rootBone']=_0x1cd79e[_0x4a405f['rootBone']['getGuid']()]);}}class BO{constructor(){this['enabled']=!(0x367+-0xe*0x1bd+-0x17*-0xe9);}}const ku=['enabled'],Gr=['material','meshInstan'+'ces','asset','materialAs'+'sets','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','renderStyl'+'e','type','layers','isStatic','batchGroup'+'Id','rootBone'];class zO extends ct{constructor(_0x44e507){super(_0x44e507),this['id']='render',this['ComponentT'+'ype']=n0,this['DataType']=BO,this['schema']=ku,this['defaultMat'+'erial']=Qn(_0x44e507['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x5a5691,_0xc6f957,_0x44ad2f){(_0xc6f957['batchGroup'+'Id']===null||_0xc6f957['batchGroup'+'Id']===void(0x1*0xd8a+0x7*-0x313+0x1*0x7fb))&&(_0xc6f957['batchGroup'+'Id']=-(-0x1*-0xa21+-0xf76+0x556)),_0xc6f957['layers']&&_0xc6f957['layers']['length']&&(_0xc6f957['layers']=_0xc6f957['layers']['slice'](0x1*0x335+0x22d9+-0x260e));for(let _0x4b036f=-0x1aa1+-0x2e3*0x2+0x2067;_0x4b036f<Gr['length'];_0x4b036f++)_0xc6f957['hasOwnProp'+'erty'](Gr[_0x4b036f])&&(_0x5a5691[Gr[_0x4b036f]]=_0xc6f957[Gr[_0x4b036f]]);_0xc6f957['aabbCenter']&&_0xc6f957['aabbHalfEx'+'tents']&&(_0x5a5691['customAabb']=new De(new D(_0xc6f957['aabbCenter']),new D(_0xc6f957['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x5a5691,_0xc6f957,ku);}['cloneCompo'+'nent'](_0x428c0d,_0x2c2375){const _0x3f9174={};for(let _0x26cc8a=0x87d+0x2146*0x1+-0x29c3;_0x26cc8a<Gr['length'];_0x26cc8a++)_0x3f9174[Gr[_0x26cc8a]]=_0x428c0d['render'][Gr[_0x26cc8a]];_0x3f9174['enabled']=_0x428c0d['render']['enabled'],delete _0x3f9174['meshInstan'+'ces'];const _0xf679ee=this['addCompone'+'nt'](_0x2c2375,_0x3f9174),_0x43e8dd=_0x428c0d['render']['meshInstan'+'ces'],_0x488e3b=_0x43e8dd['map'](_0x19052d=>_0x19052d['mesh']);_0xf679ee['_onSetMesh'+'es'](_0x488e3b);for(let _0x441bda=-0x16ea*-0x1+-0x21dd*-0x1+-0x38c7;_0x441bda<_0x43e8dd['length'];_0x441bda++)_0xf679ee['meshInstan'+'ces'][_0x441bda]['material']=_0x43e8dd[_0x441bda]['material'];return _0x428c0d['render']['customAabb']&&(_0xf679ee['customAabb']=_0x428c0d['render']['customAabb']['clone']()),_0xf679ee;}['onRemove'](_0x531e6e,_0x10178e){_0x10178e['onRemove']();}}we['_buildAcce'+'ssors'](n0['prototype'],ku);class bf{constructor(_0x50d57b,_0x806297){h(this,'_construct'+'or'),h(this,'_pool',[]),h(this,'_count',-0xea0+-0xd7e+0x1c1e),(this['_construct'+'or']=_0x50d57b,this['_resize'](_0x806297));}['_resize'](_0x51c850){if(_0x51c850>this['_pool']['length']){for(let _0xf5127e=this['_pool']['length'];_0xf5127e<_0x51c850;_0xf5127e++)this['_pool'][_0xf5127e]=new this['_construct'+'or']();}}['allocate'](){return this['_count']>=this['_pool']['length']&&this['_resize'](this['_pool']['length']*(-0x640+0x1*-0x130d+0x194f*0x1)),this['_pool'][this['_count']++];}['freeAll'](){this['_count']=0x39f+0x1*-0x2337+0x7e6*0x4;}}let cs,Re,Bs,Ka;const VO=new le(),GO=new le(),Pc=new D();class bs extends we{constructor(){super(...arguments),h(this,'_angularDa'+'mping',-0x1108+-0x1501*0x1+0x2609),h(this,'_angularFa'+'ctor',new D(-0x5f*-0x3b+0x19c6*-0x1+0x3e2,-0xaf6+0x12*0x151+-0x1*0xcbb,-0x8ae+-0xc38+0x14e7)),h(this,'_angularVe'+'locity',new D()),h(this,'_body',null),h(this,'_friction',0x6bf*-0x4+0x3fb*0x5+0x7*0x103+0.5),h(this,'_group',Gg),h(this,'_linearDam'+'ping',-0x566+0x228e+0x74a*-0x4),h(this,'_linearFac'+'tor',new D(-0x21cd*0x1+-0x1b5f+0x3d2d*0x1,0x2514+-0x1bce+-0x1*0x945,-0x1439+-0x148*-0x1b+-0xe5e)),h(this,'_linearVel'+'ocity',new D()),h(this,'_mask',Mu),h(this,'_mass',0x4*0x394+0x11*-0x1d7+-0x2*-0x87c),h(this,'_restituti'+'on',-0x5*-0x6eb+-0x1*-0x230b+-0x45a2),h(this,'_rollingFr'+'iction',-0x25a+-0x182d+0x1a87),h(this,'_simulatio'+'nEnabled',!(-0x2028+0x281*0x1+0x1da8)),h(this,'_type',yo);}static['onLibraryL'+'oaded'](){typeof Ammo<'u'&&(cs=new Ammo['btTransfor'+'m'](),Re=new Ammo['btVector3'](),Bs=new Ammo['btVector3'](),Ka=new Ammo['btQuaterni'+'on']());}static['onAppDestr'+'oy'](){Ammo['destroy'](cs),Ammo['destroy'](Re),Ammo['destroy'](Bs),Ammo['destroy'](Ka),cs=null,Re=null,Bs=null,Ka=null;}set['angularDam'+'ping'](_0x45d356){this['_angularDa'+'mping']!==_0x45d356&&(this['_angularDa'+'mping']=_0x45d356,this['_body']&&this['_body']['setDamping'](this['_linearDam'+'ping'],_0x45d356));}get['angularDam'+'ping'](){return this['_angularDa'+'mping'];}set['angularFac'+'tor'](_0x1b78d7){this['_angularFa'+'ctor']['equals'](_0x1b78d7)||(this['_angularFa'+'ctor']['copy'](_0x1b78d7),this['_body']&&this['_type']===ks&&(Re['setValue'](_0x1b78d7['x'],_0x1b78d7['y'],_0x1b78d7['z']),this['_body']['setAngular'+'Factor'](Re)));}get['angularFac'+'tor'](){return this['_angularFa'+'ctor'];}set['angularVel'+'ocity'](_0x2f3f7d){this['_body']&&this['_type']===ks&&(this['_body']['activate'](),Re['setValue'](_0x2f3f7d['x'],_0x2f3f7d['y'],_0x2f3f7d['z']),this['_body']['setAngular'+'Velocity'](Re),this['_angularVe'+'locity']['copy'](_0x2f3f7d));}get['angularVel'+'ocity'](){if(this['_body']&&this['_type']===ks){const _0x52c0ce=this['_body']['getAngular'+'Velocity']();this['_angularVe'+'locity']['set'](_0x52c0ce['x'](),_0x52c0ce['y'](),_0x52c0ce['z']());}return this['_angularVe'+'locity'];}set['body'](_0x4c8e90){this['_body']!==_0x4c8e90&&(this['_body']=_0x4c8e90,_0x4c8e90&&this['_simulatio'+'nEnabled']&&_0x4c8e90['activate']());}get['body'](){return this['_body'];}set['friction'](_0xb949dc){this['_friction']!==_0xb949dc&&(this['_friction']=_0xb949dc,this['_body']&&this['_body']['setFrictio'+'n'](_0xb949dc));}get['friction'](){return this['_friction'];}set['group'](_0x5d3c83){this['_group']!==_0x5d3c83&&(this['_group']=_0x5d3c83,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['group'](){return this['_group'];}set['linearDamp'+'ing'](_0x3d5616){this['_linearDam'+'ping']!==_0x3d5616&&(this['_linearDam'+'ping']=_0x3d5616,this['_body']&&this['_body']['setDamping'](_0x3d5616,this['_angularDa'+'mping']));}get['linearDamp'+'ing'](){return this['_linearDam'+'ping'];}set['linearFact'+'or'](_0x41339a){this['_linearFac'+'tor']['equals'](_0x41339a)||(this['_linearFac'+'tor']['copy'](_0x41339a),this['_body']&&this['_type']===ks&&(Re['setValue'](_0x41339a['x'],_0x41339a['y'],_0x41339a['z']),this['_body']['setLinearF'+'actor'](Re)));}get['linearFact'+'or'](){return this['_linearFac'+'tor'];}set['linearVelo'+'city'](_0x4c38b2){this['_body']&&this['_type']===ks&&(this['_body']['activate'](),Re['setValue'](_0x4c38b2['x'],_0x4c38b2['y'],_0x4c38b2['z']),this['_body']['setLinearV'+'elocity'](Re),this['_linearVel'+'ocity']['copy'](_0x4c38b2));}get['linearVelo'+'city'](){if(this['_body']&&this['_type']===ks){const _0x3afd3a=this['_body']['getLinearV'+'elocity']();this['_linearVel'+'ocity']['set'](_0x3afd3a['x'](),_0x3afd3a['y'](),_0x3afd3a['z']());}return this['_linearVel'+'ocity'];}set['mask'](_0x59d8ca){this['_mask']!==_0x59d8ca&&(this['_mask']=_0x59d8ca,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['mask'](){return this['_mask'];}set['mass'](_0x1c86de){if(this['_mass']!==_0x1c86de&&(this['_mass']=_0x1c86de,this['_body']&&this['_type']===ks)){const _0x185175=this['enabled']&&this['entity']['enabled'];_0x185175&&this['disableSim'+'ulation'](),this['_body']['getCollisi'+'onShape']()['calculateL'+'ocalInerti'+'a'](_0x1c86de,Re),this['_body']['setMassPro'+'ps'](_0x1c86de,Re),this['_body']['updateIner'+'tiaTensor'](),_0x185175&&this['enableSimu'+'lation']();}}get['mass'](){return this['_mass'];}set['restitutio'+'n'](_0x18bd99){this['_restituti'+'on']!==_0x18bd99&&(this['_restituti'+'on']=_0x18bd99,this['_body']&&this['_body']['setRestitu'+'tion'](_0x18bd99));}get['restitutio'+'n'](){return this['_restituti'+'on'];}set['rollingFri'+'ction'](_0x1c6864){this['_rollingFr'+'iction']!==_0x1c6864&&(this['_rollingFr'+'iction']=_0x1c6864,this['_body']&&this['_body']['setRolling'+'Friction'](_0x1c6864));}get['rollingFri'+'ction'](){return this['_rollingFr'+'iction'];}set['type'](_0x5a7a9f){if(this['_type']!==_0x5a7a9f){switch(this['_type']=_0x5a7a9f,this['disableSim'+'ulation'](),_0x5a7a9f){case ks:this['_group']=jL,this['_mask']=Wg;break;case Ha:this['_group']=YL,this['_mask']=Wg;break;case yo:default:this['_group']=Gg,this['_mask']=Mu;break;}this['createBody']();}}get['type'](){return this['_type'];}['createBody'](){const _0x4cff5b=this['entity'];let _0x1d21c2;if(_0x4cff5b['collision']&&(_0x1d21c2=_0x4cff5b['collision']['shape'],_0x4cff5b['trigger']&&(_0x4cff5b['trigger']['destroy'](),delete _0x4cff5b['trigger'])),_0x1d21c2){this['_body']&&(this['system']['removeBody'](this['_body']),this['system']['destroyBod'+'y'](this['_body']),this['_body']=null);const _0x5699d4=this['_type']===ks?this['_mass']:0xb*-0x1ea+-0x1*-0x119b+-0x1*-0x373;this['_getEntity'+'Transform'](cs);const _0x43675d=this['system']['createBody'](_0x5699d4,_0x1d21c2,cs);if(_0x43675d['setRestitu'+'tion'](this['_restituti'+'on']),_0x43675d['setFrictio'+'n'](this['_friction']),_0x43675d['setRolling'+'Friction'](this['_rollingFr'+'iction']),_0x43675d['setDamping'](this['_linearDam'+'ping'],this['_angularDa'+'mping']),this['_type']===ks){const _0x17ade9=this['_linearFac'+'tor'];Re['setValue'](_0x17ade9['x'],_0x17ade9['y'],_0x17ade9['z']),_0x43675d['setLinearF'+'actor'](Re);const _0x36db7e=this['_angularFa'+'ctor'];Re['setValue'](_0x36db7e['x'],_0x36db7e['y'],_0x36db7e['z']),_0x43675d['setAngular'+'Factor'](Re);}else this['_type']===Ha&&(_0x43675d['setCollisi'+'onFlags'](_0x43675d['getCollisi'+'onFlags']()|qL),_0x43675d['setActivat'+'ionState'](Vg));_0x43675d['entity']=_0x4cff5b,this['body']=_0x43675d,this['enabled']&&_0x4cff5b['enabled']&&this['enableSimu'+'lation']();}}['isActive'](){return this['_body']?this['_body']['isActive']():!(-0x1eb*0xd+0x2b*0x8a+0x1c2);}['activate'](){this['_body']&&this['_body']['activate']();}['enableSimu'+'lation'](){const _0xecf75b=this['entity'];if(_0xecf75b['collision']&&_0xecf75b['collision']['enabled']&&!this['_simulatio'+'nEnabled']){const _0x232344=this['_body'];if(_0x232344){switch(this['system']['addBody'](_0x232344,this['_group'],this['_mask']),this['_type']){case ks:this['system']['_dynamic']['push'](this),_0x232344['forceActiv'+'ationState'](Pu),this['syncEntity'+'ToBody']();break;case Ha:this['system']['_kinematic']['push'](this),_0x232344['forceActiv'+'ationState'](Vg);break;case yo:_0x232344['forceActiv'+'ationState'](Pu),this['syncEntity'+'ToBody']();break;}_0xecf75b['collision']['type']==='compound'&&this['system']['_compounds']['push'](_0xecf75b['collision']),_0x232344['activate'](),this['_simulatio'+'nEnabled']=!(0x1b69*-0x1+-0xd*0x2d3+0x4020);}}}['disableSim'+'ulation'](){const _0x2d7a7c=this['_body'];if(_0x2d7a7c&&this['_simulatio'+'nEnabled']){const _0x486bc9=this['system'];let _0x23ac28=_0x486bc9['_compounds']['indexOf'](this['entity']['collision']);_0x23ac28>-(-0x1b31+-0xaab+0x9*0x435)&&_0x486bc9['_compounds']['splice'](_0x23ac28,0x219*0x1+-0x23f+-0x3*-0xd),_0x23ac28=_0x486bc9['_dynamic']['indexOf'](this),_0x23ac28>-(-0xb3*0x2+0xfef+-0xe88)&&_0x486bc9['_dynamic']['splice'](_0x23ac28,-0x5de+0xe70+-0x891),_0x23ac28=_0x486bc9['_kinematic']['indexOf'](this),_0x23ac28>-(0x1*-0x32a+0x2530+-0x2205)&&_0x486bc9['_kinematic']['splice'](_0x23ac28,-0x115f+-0x269a+0xb32*0x5),_0x486bc9['removeBody'](_0x2d7a7c),_0x2d7a7c['forceActiv'+'ationState'](Yv),this['_simulatio'+'nEnabled']=!(0x657+-0xa3e+0x3e8);}}['applyForce'](_0xa0f355,_0x53ccea,_0x578e43,_0x2e9918,_0x4de077,_0x6d1835){const _0x5e2895=this['_body'];_0x5e2895&&(_0x5e2895['activate'](),_0xa0f355 instanceof D?Re['setValue'](_0xa0f355['x'],_0xa0f355['y'],_0xa0f355['z']):Re['setValue'](_0xa0f355,_0x53ccea,_0x578e43),_0x53ccea instanceof D?Bs['setValue'](_0x53ccea['x'],_0x53ccea['y'],_0x53ccea['z']):_0x2e9918!==void(0x11f7+-0x2*0x6b1+-0x495*0x1)?Bs['setValue'](_0x2e9918,_0x4de077,_0x6d1835):Bs['setValue'](-0x1597*-0x1+0x2*0x6fa+-0x238b,-0x1ae4+0x1*0x22b7+-0x7d3,0x6*0x4d9+-0x73*-0x2f+0x3233*-0x1),_0x5e2895['applyForce'](Re,Bs));}['applyTorqu'+'e'](_0x136461,_0x64c680,_0x2b5508){const _0x187d7a=this['_body'];_0x187d7a&&(_0x187d7a['activate'](),_0x136461 instanceof D?Re['setValue'](_0x136461['x'],_0x136461['y'],_0x136461['z']):Re['setValue'](_0x136461,_0x64c680,_0x2b5508),_0x187d7a['applyTorqu'+'e'](Re));}['applyImpul'+'se'](_0x5e904c,_0xc07baf,_0x402ad3,_0x3a3d9e,_0x419ecd,_0x3cfa5e){const _0x2b65a9=this['_body'];_0x2b65a9&&(_0x2b65a9['activate'](),_0x5e904c instanceof D?Re['setValue'](_0x5e904c['x'],_0x5e904c['y'],_0x5e904c['z']):Re['setValue'](_0x5e904c,_0xc07baf,_0x402ad3),_0xc07baf instanceof D?Bs['setValue'](_0xc07baf['x'],_0xc07baf['y'],_0xc07baf['z']):_0x3a3d9e!==void(0x147a+0x98f+-0x1e09)?Bs['setValue'](_0x3a3d9e,_0x419ecd,_0x3cfa5e):Bs['setValue'](0x65*0x29+0x1de3+0x16*-0x218,-0xdc2+-0x19b6+0x2778,-0x1*0x83e+0x1*0x1465+-0xc27),_0x2b65a9['applyImpul'+'se'](Re,Bs));}['applyTorqu'+'eImpulse'](_0x3a6164,_0x53ce1b,_0x31fc46){const _0x44aeef=this['_body'];_0x44aeef&&(_0x44aeef['activate'](),_0x3a6164 instanceof D?Re['setValue'](_0x3a6164['x'],_0x3a6164['y'],_0x3a6164['z']):Re['setValue'](_0x3a6164,_0x53ce1b,_0x31fc46),_0x44aeef['applyTorqu'+'eImpulse'](Re));}['isStatic'](){return this['_type']===yo;}['isStaticOr'+'Kinematic'](){return this['_type']===yo||this['_type']===Ha;}['isKinemati'+'c'](){return this['_type']===Ha;}['_getEntity'+'Transform'](_0x3b4419){const _0x5d828e=this['entity'],_0x28a9d6=_0x5d828e['collision'];if(_0x28a9d6){const _0x3d1472=_0x28a9d6['getShapePo'+'sition'](),_0x2adfb7=_0x28a9d6['getShapeRo'+'tation']();Re['setValue'](_0x3d1472['x'],_0x3d1472['y'],_0x3d1472['z']),Ka['setValue'](_0x2adfb7['x'],_0x2adfb7['y'],_0x2adfb7['z'],_0x2adfb7['w']);}else{const _0x5f0e10=_0x5d828e['getPositio'+'n'](),_0x1aae97=_0x5d828e['getRotatio'+'n']();Re['setValue'](_0x5f0e10['x'],_0x5f0e10['y'],_0x5f0e10['z']),Ka['setValue'](_0x1aae97['x'],_0x1aae97['y'],_0x1aae97['z'],_0x1aae97['w']);}_0x3b4419['setOrigin'](Re),_0x3b4419['setRotatio'+'n'](Ka);}['syncEntity'+'ToBody'](){const _0x439289=this['_body'];if(_0x439289){if(this['_getEntity'+'Transform'](cs),_0x439289['setWorldTr'+'ansform'](cs),this['_type']===Ha){const _0x178f2e=_0x439289['getMotionS'+'tate']();_0x178f2e&&_0x178f2e['setWorldTr'+'ansform'](cs);}_0x439289['activate']();}}['_updateDyn'+'amic'](){const _0x493126=this['_body'];if(_0x493126['isActive']()){const _0x20447a=_0x493126['getMotionS'+'tate']();if(_0x20447a){const _0x3f4bfb=this['entity'];_0x20447a['getWorldTr'+'ansform'](cs);const _0x97178c=cs['getOrigin'](),_0x1c5c1d=cs['getRotatio'+'n'](),_0x3e1860=_0x3f4bfb['collision'];if(_0x3e1860&&_0x3e1860['_hasOffset']){const _0x3b1726=_0x3e1860['data']['linearOffs'+'et'],_0x441a46=_0x3e1860['data']['angularOff'+'set'],_0x176554=GO['copy'](_0x441a46)['invert'](),_0x3b7f28=VO['set'](_0x1c5c1d['x'](),_0x1c5c1d['y'](),_0x1c5c1d['z'](),_0x1c5c1d['w']())['mul'](_0x176554);_0x3b7f28['transformV'+'ector'](_0x3b1726,Pc),_0x3f4bfb['setPositio'+'n'](_0x97178c['x']()-Pc['x'],_0x97178c['y']()-Pc['y'],_0x97178c['z']()-Pc['z']),_0x3f4bfb['setRotatio'+'n'](_0x3b7f28);}else _0x3f4bfb['setPositio'+'n'](_0x97178c['x'](),_0x97178c['y'](),_0x97178c['z']()),_0x3f4bfb['setRotatio'+'n'](_0x1c5c1d['x'](),_0x1c5c1d['y'](),_0x1c5c1d['z'](),_0x1c5c1d['w']());}}}['_updateKin'+'ematic'](){const _0x3da72d=this['_body']['getMotionS'+'tate']();_0x3da72d&&(this['_getEntity'+'Transform'](cs),_0x3da72d['setWorldTr'+'ansform'](cs));}['teleport'](_0x341ed4,_0x8c3133,_0x495e5f,_0x156fea,_0xd83d49,_0x339cee){_0x341ed4 instanceof D?this['entity']['setPositio'+'n'](_0x341ed4):this['entity']['setPositio'+'n'](_0x341ed4,_0x8c3133,_0x495e5f),_0x8c3133 instanceof le?this['entity']['setRotatio'+'n'](_0x8c3133):_0x8c3133 instanceof D?this['entity']['setEulerAn'+'gles'](_0x8c3133):_0x156fea!==void(0x125*-0x10+0x2f*0x67+0x3*-0x33)&&this['entity']['setEulerAn'+'gles'](_0x156fea,_0xd83d49,_0x339cee),this['syncEntity'+'ToBody']();}['onEnable'](){this['_body']||this['createBody'](),this['enableSimu'+'lation']();}['onDisable'](){this['disableSim'+'ulation']();}}h(bs,'EVENT_CONT'+'ACT','contact'),h(bs,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),h(bs,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),h(bs,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),h(bs,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve'),h(bs,'order',-(0x17e5*-0x1+0x26a0+-0xeba));class HO{constructor(){this['enabled']=!(-0xf90+-0x19dc+0x296c);}}let Mi,Di;class eS{constructor(_0x4380ee,_0x5b43f2,_0x5b5799,_0x17177c){h(this,'entity'),h(this,'point'),h(this,'normal'),h(this,'hitFractio'+'n'),(this['entity']=_0x4380ee,this['point']=_0x5b43f2,this['normal']=_0x5b5799,this['hitFractio'+'n']=_0x17177c);}}class WO{constructor(_0x7abcda,_0x2d3c61,_0xc993b2){h(this,'a'),h(this,'b'),h(this,'impulse'),h(this,'localPoint'+'A'),h(this,'localPoint'+'B'),h(this,'pointA'),h(this,'pointB'),h(this,'normal'),arguments['length']!==-0x2219+-0x1d1b+0x3f34?(this['a']=_0x7abcda,this['b']=_0x2d3c61,this['impulse']=_0xc993b2['impulse'],this['localPoint'+'A']=_0xc993b2['localPoint'],this['localPoint'+'B']=_0xc993b2['localPoint'+'Other'],this['pointA']=_0xc993b2['point'],this['pointB']=_0xc993b2['pointOther'],this['normal']=_0xc993b2['normal']):(this['a']=null,this['b']=null,this['impulse']=0x33*0x3b+0xe8f*0x1+0x694*-0x4,this['localPoint'+'A']=new D(),this['localPoint'+'B']=new D(),this['pointA']=new D(),this['pointB']=new D(),this['normal']=new D());}}class $O{constructor(_0x292d9f=new D(),_0x24fd20=new D(),_0x1a8510=new D(),_0x4402d7=new D(),_0x5e1c47=new D(),_0x4adb3e=0x1*-0xd5d+0xcdc*0x1+0x81*0x1){h(this,'localPoint'),h(this,'localPoint'+'Other'),h(this,'point'),h(this,'pointOther'),h(this,'normal'),h(this,'impulse'),(this['localPoint']=_0x292d9f,this['localPoint'+'Other']=_0x24fd20,this['point']=_0x1a8510,this['pointOther']=_0x4402d7,this['normal']=_0x5e1c47,this['impulse']=_0x4adb3e);}}class XO{constructor(_0x1780b9,_0x5e8651){h(this,'other'),h(this,'contacts'),(this['other']=_0x1780b9,this['contacts']=_0x5e8651);}}const o0=['enabled'];class wm extends ct{constructor(_0x4bdcb6){super(_0x4bdcb6),h(this,'maxSubStep'+'s',-0x5*0x652+0x1*0x1186+0xe1e),h(this,'fixedTimeS'+'tep',(-0x164e+-0x60d+0x6e*0x42)/(-0x1*-0x1f81+-0x2394+0x1*0x44f)),h(this,'gravity',new D(0x1bf7+0x1*0xed1+0xab2*-0x4,-(-0xf67*0x1+-0x1c7f+0x2bef+0.8100000000000005),0x1830+0x2ec+-0x1*0x1b1c)),h(this,'_gravityFl'+'oat32',new Float32Array(-0x7ab+0x293*-0x8+0x1c46)),h(this,'_dynamic',[]),h(this,'_kinematic',[]),h(this,'_triggers',[]),h(this,'_compounds',[]),(this['id']='rigidbody',this['_stats']=_0x4bdcb6['stats']['frame'],this['ComponentT'+'ype']=bs,this['DataType']=HO,this['contactPoi'+'ntPool']=null,this['contactRes'+'ultPool']=null,this['singleCont'+'actResultP'+'ool']=null,this['schema']=o0,this['collisions']={},this['frameColli'+'sions']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this));}['onLibraryL'+'oaded'](){if(typeof Ammo<'u'){if(this['collisionC'+'onfigurati'+'on']=new Ammo['btDefaultC'+'ollisionCo'+'nfiguratio'+'n'](),this['dispatcher']=new Ammo['btCollisio'+'nDispatche'+'r'](this['collisionC'+'onfigurati'+'on']),this['overlappin'+'gPairCache']=new Ammo['btDbvtBroa'+'dphase'](),this['solver']=new Ammo['btSequenti'+'alImpulseC'+'onstraintS'+'olver'](),this['dynamicsWo'+'rld']=new Ammo['btDiscrete'+'DynamicsWo'+'rld'](this['dispatcher'],this['overlappin'+'gPairCache'],this['solver'],this['collisionC'+'onfigurati'+'on']),this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']){const _0xc12703=Ammo['addFunctio'+'n'](this['_checkForC'+'ollisions']['bind'](this),'vif');this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack'](_0xc12703);}else w['warn']('WARNING:\x20T'+'his\x20versio'+'n\x20of\x20ammo.'+'js\x20can\x20pot'+'entially\x20f'+'ail\x20to\x20rep'+'ort\x20contac'+'ts.\x20Please'+'\x20update\x20it'+'\x20to\x20the\x20la'+'test\x20versi'+'on.');Mi=new Ammo['btVector3'](),Di=new Ammo['btVector3'](),bs['onLibraryL'+'oaded'](),this['contactPoi'+'ntPool']=new bf($O,-0x2b*0x64+0x1c41+-0xb74),this['contactRes'+'ultPool']=new bf(XO,-0x49d+0x6b*-0x27+-0x253*-0x9),this['singleCont'+'actResultP'+'ool']=new bf(WO,0x2d*-0x2b+0x2548+-0x4f4*0x6),this['app']['systems']['on']('update',this['onUpdate'],this);}else this['app']['systems']['off']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x4ad154,_0x1b6dd2,_0x11c5bd){const _0x3b7788=['mass','linearDamp'+'ing','angularDam'+'ping','linearFact'+'or','angularFac'+'tor','friction','rollingFri'+'ction','restitutio'+'n','type','group','mask'];for(const _0x4976de of _0x3b7788)if(_0x1b6dd2['hasOwnProp'+'erty'](_0x4976de)){const _0x314412=_0x1b6dd2[_0x4976de];Array['isArray'](_0x314412)?_0x4ad154[_0x4976de]=new D(_0x314412[-0x1ed8+-0x1172+0x304a],_0x314412[0x9f6+0x39d+-0xd92],_0x314412[-0x187e+0x121e+-0x1*-0x662]):_0x4ad154[_0x4976de]=_0x314412;}super['initialize'+'ComponentD'+'ata'](_0x4ad154,_0x1b6dd2,['enabled']);}['cloneCompo'+'nent'](_0x49c73a,_0x2c5443){const _0x1b38f5=_0x49c73a['rigidbody'],_0x1dc9c5={'enabled':_0x1b38f5['enabled'],'mass':_0x1b38f5['mass'],'linearDamping':_0x1b38f5['linearDamp'+'ing'],'angularDamping':_0x1b38f5['angularDam'+'ping'],'linearFactor':[_0x1b38f5['linearFact'+'or']['x'],_0x1b38f5['linearFact'+'or']['y'],_0x1b38f5['linearFact'+'or']['z']],'angularFactor':[_0x1b38f5['angularFac'+'tor']['x'],_0x1b38f5['angularFac'+'tor']['y'],_0x1b38f5['angularFac'+'tor']['z']],'friction':_0x1b38f5['friction'],'rollingFriction':_0x1b38f5['rollingFri'+'ction'],'restitution':_0x1b38f5['restitutio'+'n'],'type':_0x1b38f5['type'],'group':_0x1b38f5['group'],'mask':_0x1b38f5['mask']};return this['addCompone'+'nt'](_0x2c5443,_0x1dc9c5);}['onBeforeRe'+'move'](_0x5cd85e,_0x465e26){_0x465e26['enabled']&&(_0x465e26['enabled']=!(-0x190d*0x1+-0x335*0x2+0x1f78)),_0x465e26['body']&&(this['destroyBod'+'y'](_0x465e26['body']),_0x465e26['body']=null);}['addBody'](_0x1dfba0,_0x13cf42,_0x611aac){_0x13cf42!==void(-0x20b9+-0x12c1+0xb*0x4ae)&&_0x611aac!==void(0x1af*-0x13+0x8*0x2+0x1fed)?this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x1dfba0,_0x13cf42,_0x611aac):this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x1dfba0);}['removeBody'](_0x48b43b){this['dynamicsWo'+'rld']['removeRigi'+'dBody'](_0x48b43b);}['createBody'](_0x51cb16,_0x49b271,_0x5e0bd7){const _0x336fbd=new Ammo['btVector3'](0x6f*-0x47+0x1*-0x262b+0x44f4,-0x451*-0x1+-0x1*0x1a7e+-0x7*-0x32b,0x1*0x3e3+0x3*-0x6d7+0x10a2);_0x51cb16!==-0x1f9*-0xd+-0x142c+-0x1d3*0x3&&_0x49b271['calculateL'+'ocalInerti'+'a'](_0x51cb16,_0x336fbd);const _0x2871f0=new Ammo['btDefaultM'+'otionState'](_0x5e0bd7),_0x323fd5=new Ammo['btRigidBod'+'yConstruct'+'ionInfo'](_0x51cb16,_0x2871f0,_0x49b271,_0x336fbd),_0x4288a4=new Ammo['btRigidBod'+'y'](_0x323fd5);return Ammo['destroy'](_0x323fd5),Ammo['destroy'](_0x336fbd),_0x4288a4;}['destroyBod'+'y'](_0x179742){const _0x2ab718=_0x179742['getMotionS'+'tate']();_0x2ab718&&Ammo['destroy'](_0x2ab718),Ammo['destroy'](_0x179742);}['raycastFir'+'st'](_0x35bee9,_0x132c23,_0x7d4d23={}){if(_0x7d4d23['filterTags']||_0x7d4d23['filterCall'+'back'])return _0x7d4d23['sort']=!(-0x1*0xc64+-0x7ae+0x16f*0xe),this['raycastAll'](_0x35bee9,_0x132c23,_0x7d4d23)[-0x218d+-0x100c+0x3199]||null;let _0x31245d=null;Mi['setValue'](_0x35bee9['x'],_0x35bee9['y'],_0x35bee9['z']),Di['setValue'](_0x132c23['x'],_0x132c23['y'],_0x132c23['z']);const _0x51c9b4=new Ammo['ClosestRay'+'ResultCall'+'back'](Mi,Di);if(typeof _0x7d4d23['filterColl'+'isionGroup']=='number'&&_0x51c9b4['set_m_coll'+'isionFilte'+'rGroup'](_0x7d4d23['filterColl'+'isionGroup']),typeof _0x7d4d23['filterColl'+'isionMask']=='number'&&_0x51c9b4['set_m_coll'+'isionFilte'+'rMask'](_0x7d4d23['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](Mi,Di,_0x51c9b4),_0x51c9b4['hasHit']()){const _0x4738f2=_0x51c9b4['get_m_coll'+'isionObjec'+'t'](),_0x132163=Ammo['castObject'](_0x4738f2,Ammo['btRigidBod'+'y']);if(_0x132163){const _0x8bff35=_0x51c9b4['get_m_hitP'+'ointWorld'](),_0x46fc74=_0x51c9b4['get_m_hitN'+'ormalWorld']();_0x31245d=new eS(_0x132163['entity'],new D(_0x8bff35['x'](),_0x8bff35['y'](),_0x8bff35['z']()),new D(_0x46fc74['x'](),_0x46fc74['y'](),_0x46fc74['z']()),_0x51c9b4['get_m_clos'+'estHitFrac'+'tion']());}}return Ammo['destroy'](_0x51c9b4),_0x31245d;}['raycastAll'](_0xa92f50,_0x5cf5d4,_0x318ba={}){w['assert'](Ammo['AllHitsRay'+'ResultCall'+'back'],'pc.RigidBo'+'dyComponen'+'tSystem#ra'+'ycastAll:\x20'+'Your\x20versi'+'on\x20of\x20ammo'+'.js\x20does\x20n'+'ot\x20expose\x20'+'Ammo.AllHi'+'tsRayResul'+'tCallback.'+'\x20Update\x20it'+'\x20to\x20latest'+'.');const _0x41fa33=[];Mi['setValue'](_0xa92f50['x'],_0xa92f50['y'],_0xa92f50['z']),Di['setValue'](_0x5cf5d4['x'],_0x5cf5d4['y'],_0x5cf5d4['z']);const _0x3feeea=new Ammo['AllHitsRay'+'ResultCall'+'back'](Mi,Di);if(typeof _0x318ba['filterColl'+'isionGroup']=='number'&&_0x3feeea['set_m_coll'+'isionFilte'+'rGroup'](_0x318ba['filterColl'+'isionGroup']),typeof _0x318ba['filterColl'+'isionMask']=='number'&&_0x3feeea['set_m_coll'+'isionFilte'+'rMask'](_0x318ba['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](Mi,Di,_0x3feeea),_0x3feeea['hasHit']()){const _0x1e299f=_0x3feeea['get_m_coll'+'isionObjec'+'ts'](),_0x484e27=_0x3feeea['get_m_hitP'+'ointWorld'](),_0xa9a825=_0x3feeea['get_m_hitN'+'ormalWorld'](),_0x16e999=_0x3feeea['get_m_hitF'+'ractions'](),_0x2d8833=_0x1e299f['size']();for(let _0x4fa51f=0x22be+0x24d6+-0x4794;_0x4fa51f<_0x2d8833;_0x4fa51f++){const _0x43dcb6=Ammo['castObject'](_0x1e299f['at'](_0x4fa51f),Ammo['btRigidBod'+'y']);if(_0x43dcb6&&_0x43dcb6['entity']){if(_0x318ba['filterTags']&&!_0x43dcb6['entity']['tags']['has'](..._0x318ba['filterTags'])||_0x318ba['filterCall'+'back']&&!_0x318ba['filterCall'+'back'](_0x43dcb6['entity']))continue;const _0x56ef5f=_0x484e27['at'](_0x4fa51f),_0x442e50=_0xa9a825['at'](_0x4fa51f),_0x91cd6c=new eS(_0x43dcb6['entity'],new D(_0x56ef5f['x'](),_0x56ef5f['y'](),_0x56ef5f['z']()),new D(_0x442e50['x'](),_0x442e50['y'](),_0x442e50['z']()),_0x16e999['at'](_0x4fa51f));_0x41fa33['push'](_0x91cd6c);}}_0x318ba['sort']&&_0x41fa33['sort']((_0x4571c8,_0x2325d4)=>_0x4571c8['hitFractio'+'n']-_0x2325d4['hitFractio'+'n']);}return Ammo['destroy'](_0x3feeea),_0x41fa33;}['_storeColl'+'ision'](_0x2ad9d2,_0x265bb2){let _0x1b3ea5=!(0x1*0x1c13+-0x24a5+0x893);const _0x2ebcad=_0x2ad9d2['getGuid']();return this['collisions'][_0x2ebcad]=this['collisions'][_0x2ebcad]||{'others':[],'entity':_0x2ad9d2},this['collisions'][_0x2ebcad]['others']['indexOf'](_0x265bb2)<0xa0d*-0x1+0x78e*-0x5+0x2fd3&&(this['collisions'][_0x2ebcad]['others']['push'](_0x265bb2),_0x1b3ea5=!(-0xcf+0x1*-0x1192+0x1261)),this['frameColli'+'sions'][_0x2ebcad]=this['frameColli'+'sions'][_0x2ebcad]||{'others':[],'entity':_0x2ad9d2},this['frameColli'+'sions'][_0x2ebcad]['others']['push'](_0x265bb2),_0x1b3ea5;}['_createCon'+'tactPointF'+'romAmmo'](_0x4e43e7){const _0x200e1a=_0x4e43e7['get_m_loca'+'lPointA'](),_0x920198=_0x4e43e7['get_m_loca'+'lPointB'](),_0x3741b0=_0x4e43e7['getPositio'+'nWorldOnA'](),_0x21ed60=_0x4e43e7['getPositio'+'nWorldOnB'](),_0x592f0b=_0x4e43e7['get_m_norm'+'alWorldOnB'](),_0x582fa0=this['contactPoi'+'ntPool']['allocate']();return _0x582fa0['localPoint']['set'](_0x200e1a['x'](),_0x200e1a['y'](),_0x200e1a['z']()),_0x582fa0['localPoint'+'Other']['set'](_0x920198['x'](),_0x920198['y'](),_0x920198['z']()),_0x582fa0['point']['set'](_0x3741b0['x'](),_0x3741b0['y'](),_0x3741b0['z']()),_0x582fa0['pointOther']['set'](_0x21ed60['x'](),_0x21ed60['y'](),_0x21ed60['z']()),_0x582fa0['normal']['set'](_0x592f0b['x'](),_0x592f0b['y'](),_0x592f0b['z']()),_0x582fa0['impulse']=_0x4e43e7['getApplied'+'Impulse'](),_0x582fa0;}['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x18f7c0){const _0x1b96ed=_0x18f7c0['get_m_loca'+'lPointA'](),_0x11ee67=_0x18f7c0['get_m_loca'+'lPointB'](),_0x2e713b=_0x18f7c0['getPositio'+'nWorldOnA'](),_0x39f134=_0x18f7c0['getPositio'+'nWorldOnB'](),_0xd42f93=_0x18f7c0['get_m_norm'+'alWorldOnB'](),_0x4e5a16=this['contactPoi'+'ntPool']['allocate']();return _0x4e5a16['localPoint'+'Other']['set'](_0x1b96ed['x'](),_0x1b96ed['y'](),_0x1b96ed['z']()),_0x4e5a16['localPoint']['set'](_0x11ee67['x'](),_0x11ee67['y'](),_0x11ee67['z']()),_0x4e5a16['pointOther']['set'](_0x2e713b['x'](),_0x2e713b['y'](),_0x2e713b['z']()),_0x4e5a16['point']['set'](_0x39f134['x'](),_0x39f134['y'](),_0x39f134['z']()),_0x4e5a16['normal']['set'](_0xd42f93['x'](),_0xd42f93['y'](),_0xd42f93['z']()),_0x4e5a16['impulse']=_0x18f7c0['getApplied'+'Impulse'](),_0x4e5a16;}['_createSin'+'gleContact'+'Result'](_0x2b8ffc,_0x2e790c,_0x141d3b){const _0x1acd24=this['singleCont'+'actResultP'+'ool']['allocate']();return _0x1acd24['a']=_0x2b8ffc,_0x1acd24['b']=_0x2e790c,_0x1acd24['localPoint'+'A']=_0x141d3b['localPoint'],_0x1acd24['localPoint'+'B']=_0x141d3b['localPoint'+'Other'],_0x1acd24['pointA']=_0x141d3b['point'],_0x1acd24['pointB']=_0x141d3b['pointOther'],_0x1acd24['normal']=_0x141d3b['normal'],_0x1acd24['impulse']=_0x141d3b['impulse'],_0x1acd24;}['_createCon'+'tactResult'](_0xfec4be,_0x45f839){const _0x4556f2=this['contactRes'+'ultPool']['allocate']();return _0x4556f2['other']=_0xfec4be,_0x4556f2['contacts']=_0x45f839,_0x4556f2;}['_cleanOldC'+'ollisions'](){for(const _0x43a893 in this['collisions'])if(this['collisions']['hasOwnProp'+'erty'](_0x43a893)){const _0x5bf6a0=this['frameColli'+'sions'][_0x43a893],_0x693b40=this['collisions'][_0x43a893],_0x2bab60=_0x693b40['entity'],_0x391dba=_0x2bab60['collision'],_0xc6b7ba=_0x2bab60['rigidbody'],_0x449db9=_0x693b40['others'];let _0x2a6609=_0x449db9['length'];for(;_0x2a6609--;){const _0x3020ad=_0x449db9[_0x2a6609];(!_0x5bf6a0||_0x5bf6a0['others']['indexOf'](_0x3020ad)<0x6*0x89+-0x463*0x7+-0x1b7f*-0x1)&&(_0x449db9['splice'](_0x2a6609,-0x421+0x103*0x3+-0x119*-0x1),_0x2bab60['trigger']?(_0x391dba&&_0x391dba['fire']('triggerlea'+'ve',_0x3020ad),_0x3020ad['rigidbody']&&_0x3020ad['rigidbody']['fire']('triggerlea'+'ve',_0x2bab60)):_0x3020ad['trigger']||(_0xc6b7ba&&_0xc6b7ba['fire']('collisione'+'nd',_0x3020ad),_0x391dba&&_0x391dba['fire']('collisione'+'nd',_0x3020ad)));}_0x449db9['length']===-0x3*0xa7b+0x9f8+-0x1*-0x1579&&delete this['collisions'][_0x43a893];}}['_hasContac'+'tEvent'](_0xae6c6c){const _0x562bb8=_0xae6c6c['collision'];if(_0x562bb8&&(_0x562bb8['hasEvent']('collisions'+'tart')||_0x562bb8['hasEvent']('collisione'+'nd')||_0x562bb8['hasEvent']('contact')))return!(0x16cf+0x55*0x47+-0x2e62);const _0x163cde=_0xae6c6c['rigidbody'];return _0x163cde&&(_0x163cde['hasEvent']('collisions'+'tart')||_0x163cde['hasEvent']('collisione'+'nd')||_0x163cde['hasEvent']('contact'));}['_checkForC'+'ollisions'](_0x42e463,_0x1198ed){const _0x2a7f90=Ammo['wrapPointe'+'r'](_0x42e463,Ammo['btDynamics'+'World'])['getDispatc'+'her'](),_0xae47c0=_0x2a7f90['getNumMani'+'folds']();this['frameColli'+'sions']={};for(let _0x1a3b0f=0x665*-0x3+0x6*0x482+-0x3*0x29f;_0x1a3b0f<_0xae47c0;_0x1a3b0f++){const _0x1514b1=_0x2a7f90['getManifol'+'dByIndexIn'+'ternal'](_0x1a3b0f),_0x49d108=_0x1514b1['getBody0'](),_0x604a92=_0x1514b1['getBody1'](),_0x2053ca=Ammo['castObject'](_0x49d108,Ammo['btRigidBod'+'y']),_0x2820c9=Ammo['castObject'](_0x604a92,Ammo['btRigidBod'+'y']),_0x944c76=_0x2053ca['entity'],_0x284088=_0x2820c9['entity'];if(!_0x944c76||!_0x284088)continue;const _0x581008=_0x2053ca['getCollisi'+'onFlags'](),_0x18b266=_0x2820c9['getCollisi'+'onFlags'](),_0x3272e8=_0x1514b1['getNumCont'+'acts'](),_0x1dc1b7=[],_0x2acceb=[];let _0x4c280e;if(_0x3272e8>0x7a6+-0x142c+0xc86){if(_0x581008&Po||_0x18b266&Po){const _0x6c83cc=_0x944c76['collision']&&(_0x944c76['collision']['hasEvent']('triggerent'+'er')||_0x944c76['collision']['hasEvent']('triggerlea'+'ve')),_0x487f5c=_0x284088['collision']&&(_0x284088['collision']['hasEvent']('triggerent'+'er')||_0x284088['collision']['hasEvent']('triggerlea'+'ve')),_0x2d39cb=_0x944c76['rigidbody']&&(_0x944c76['rigidbody']['hasEvent']('triggerent'+'er')||_0x944c76['rigidbody']['hasEvent']('triggerlea'+'ve')),_0x4cf466=_0x284088['rigidbody']&&(_0x284088['rigidbody']['hasEvent']('triggerent'+'er')||_0x284088['rigidbody']['hasEvent']('triggerlea'+'ve'));_0x6c83cc&&(_0x4c280e=this['_storeColl'+'ision'](_0x944c76,_0x284088),_0x4c280e&&!(_0x18b266&Po)&&_0x944c76['collision']['fire']('triggerent'+'er',_0x284088)),_0x487f5c&&(_0x4c280e=this['_storeColl'+'ision'](_0x284088,_0x944c76),_0x4c280e&&!(_0x581008&Po)&&_0x284088['collision']['fire']('triggerent'+'er',_0x944c76)),_0x2d39cb&&(_0x4c280e||(_0x4c280e=this['_storeColl'+'ision'](_0x284088,_0x944c76)),_0x4c280e&&_0x944c76['rigidbody']['fire']('triggerent'+'er',_0x284088)),_0x4cf466&&(_0x4c280e||(_0x4c280e=this['_storeColl'+'ision'](_0x944c76,_0x284088)),_0x4c280e&&_0x284088['rigidbody']['fire']('triggerent'+'er',_0x944c76));}else{const _0x53d40d=this['_hasContac'+'tEvent'](_0x944c76),_0x47e43e=this['_hasContac'+'tEvent'](_0x284088),_0x5f0639=this['hasEvent']('contact');if(_0x5f0639||_0x53d40d||_0x47e43e){for(let _0x57dac1=0x13a5+-0x194c+0x5a7;_0x57dac1<_0x3272e8;_0x57dac1++){const _0x29444d=_0x1514b1['getContact'+'Point'](_0x57dac1),_0x4c2c24=this['_createCon'+'tactPointF'+'romAmmo'](_0x29444d);if(_0x53d40d||_0x47e43e){_0x1dc1b7['push'](_0x4c2c24);const _0x586230=this['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x29444d);_0x2acceb['push'](_0x586230);}if(_0x5f0639){const _0x45d9f3=this['_createSin'+'gleContact'+'Result'](_0x944c76,_0x284088,_0x4c2c24);this['fire']('contact',_0x45d9f3);}}if(_0x53d40d){const _0x82a623=this['_createCon'+'tactResult'](_0x284088,_0x1dc1b7);_0x4c280e=this['_storeColl'+'ision'](_0x944c76,_0x284088),_0x944c76['collision']&&(_0x944c76['collision']['fire']('contact',_0x82a623),_0x4c280e&&_0x944c76['collision']['fire']('collisions'+'tart',_0x82a623)),_0x944c76['rigidbody']&&(_0x944c76['rigidbody']['fire']('contact',_0x82a623),_0x4c280e&&_0x944c76['rigidbody']['fire']('collisions'+'tart',_0x82a623));}if(_0x47e43e){const _0x4fffd8=this['_createCon'+'tactResult'](_0x944c76,_0x2acceb);_0x4c280e=this['_storeColl'+'ision'](_0x284088,_0x944c76),_0x284088['collision']&&(_0x284088['collision']['fire']('contact',_0x4fffd8),_0x4c280e&&_0x284088['collision']['fire']('collisions'+'tart',_0x4fffd8)),_0x284088['rigidbody']&&(_0x284088['rigidbody']['fire']('contact',_0x4fffd8),_0x4c280e&&_0x284088['rigidbody']['fire']('collisions'+'tart',_0x4fffd8));}}}}}this['_cleanOldC'+'ollisions'](),this['contactPoi'+'ntPool']['freeAll'](),this['contactRes'+'ultPool']['freeAll'](),this['singleCont'+'actResultP'+'ool']['freeAll']();}['onUpdate'](_0x32e081){let _0x2b3911,_0x4a4ddc;this['_stats']['physicsSta'+'rt']=de(),this['_gravityFl'+'oat32'][0x49*0x22+-0x247b+0x1*0x1ac9]=this['gravity']['x'],this['_gravityFl'+'oat32'][0x1*-0x1ebc+0x115+-0x248*-0xd]=this['gravity']['y'],this['_gravityFl'+'oat32'][-0x1235+0x29*0xdc+-0x1*0x1105]=this['gravity']['z'];const _0x5b75e7=this['dynamicsWo'+'rld']['getGravity']();(_0x5b75e7['x']()!==this['_gravityFl'+'oat32'][-0x21ce+0x13*0xc7+0x1309]||_0x5b75e7['y']()!==this['_gravityFl'+'oat32'][0x1c14+0x2631+-0x1*0x4244]||_0x5b75e7['z']()!==this['_gravityFl'+'oat32'][0x182*0x4+0x1754+-0xdd*0x22])&&(_0x5b75e7['setValue'](this['gravity']['x'],this['gravity']['y'],this['gravity']['z']),this['dynamicsWo'+'rld']['setGravity'](_0x5b75e7));const _0xec9db1=this['_triggers'];for(_0x2b3911=-0x4d5*0x3+-0x657*0x5+0x2e32,_0x4a4ddc=_0xec9db1['length'];_0x2b3911<_0x4a4ddc;_0x2b3911++)_0xec9db1[_0x2b3911]['updateTran'+'sform']();const _0x4e1437=this['_compounds'];for(_0x2b3911=0x23e9+0x9cf+-0x2db8,_0x4a4ddc=_0x4e1437['length'];_0x2b3911<_0x4a4ddc;_0x2b3911++)_0x4e1437[_0x2b3911]['_updateCom'+'pound']();const _0xecdd2a=this['_kinematic'];for(_0x2b3911=-0x368+0x159e+-0x1236,_0x4a4ddc=_0xecdd2a['length'];_0x2b3911<_0x4a4ddc;_0x2b3911++)_0xecdd2a[_0x2b3911]['_updateKin'+'ematic']();this['dynamicsWo'+'rld']['stepSimula'+'tion'](_0x32e081,this['maxSubStep'+'s'],this['fixedTimeS'+'tep']);const _0x42d8dc=this['_dynamic'];for(_0x2b3911=0x1b8d+-0x2*0x11d2+0x817*0x1,_0x4a4ddc=_0x42d8dc['length'];_0x2b3911<_0x4a4ddc;_0x2b3911++)_0x42d8dc[_0x2b3911]['_updateDyn'+'amic']();this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']||this['_checkForC'+'ollisions'](Ammo['getPointer'](this['dynamicsWo'+'rld']),_0x32e081),this['_stats']['physicsTim'+'e']=de()-this['_stats']['physicsSta'+'rt'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),typeof Ammo<'u'&&(Ammo['destroy'](this['dynamicsWo'+'rld']),Ammo['destroy'](this['solver']),Ammo['destroy'](this['overlappin'+'gPairCache']),Ammo['destroy'](this['dispatcher']),Ammo['destroy'](this['collisionC'+'onfigurati'+'on']),Ammo['destroy'](Mi),Ammo['destroy'](Di),this['dynamicsWo'+'rld']=null,this['solver']=null,this['overlappin'+'gPairCache']=null,this['dispatcher']=null,this['collisionC'+'onfigurati'+'on']=null,Mi=null,Di=null,bs['onAppDestr'+'oy']());}}h(wm,'EVENT_CONT'+'ACT','contact'),we['_buildAcce'+'ssors'](bs['prototype'],o0);const Za='none',qO='blend',tS=new te();class l0 extends we{constructor(_0xa91c86,_0x2ecee8){super(_0xa91c86,_0x2ecee8),this['_resolutio'+'n']=new J(-0xd9b+-0xed9*-0x1+0x142,0x22ba+0x2*-0xcbb+-0x804),this['_reference'+'Resolution']=new J(0x1096+0xd0+-0xee6,-0xdf*0xa+-0x1*0x23f3+-0x7*-0x68f),this['_scaleMode']=Za,this['scale']=-0xb27+0x15b5+-0xa8d,this['_scaleBlen'+'d']=0x2274+-0xaf8+-0x177c+0.5,this['_priority']=-0x539*-0x7+0x2538+-0x49c7,this['_screenSpa'+'ce']=!(-0x1*-0x12c1+0x2*0x15f+-0x157e),this['cull']=this['_screenSpa'+'ce'],this['_screenMat'+'rix']=new te(),this['_elements']=new Set(),_0xa91c86['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this);}['syncDrawOr'+'der'](){this['system']['queueDrawO'+'rderSync'](this['entity']['getGuid'](),this['_processDr'+'awOrderSyn'+'c'],this);}['_recurseDr'+'awOrderSyn'+'c'](_0x3c35ca,_0x1e1e24){var _0x4a20b1;if(!(_0x3c35ca instanceof lt))return _0x1e1e24;if(_0x3c35ca['element']){const _0x56dfdb=_0x3c35ca['element']['drawOrder'];_0x3c35ca['element']['drawOrder']=_0x1e1e24++,_0x3c35ca['element']['_batchGrou'+'pId']>=0x7*0x20+-0x2256+0x10bb*0x2&&_0x56dfdb!==_0x3c35ca['element']['drawOrder']&&((_0x4a20b1=this['system']['app']['batcher'])==null||_0x4a20b1['markGroupD'+'irty'](_0x3c35ca['element']['_batchGrou'+'pId']));}_0x3c35ca['particlesy'+'stem']&&(_0x3c35ca['particlesy'+'stem']['drawOrder']=_0x1e1e24++);const _0x4c1ba9=_0x3c35ca['children'];for(let _0x2d8937=-0xc25*0x3+0x54a+0x1f25;_0x2d8937<_0x4c1ba9['length'];_0x2d8937++)_0x1e1e24=this['_recurseDr'+'awOrderSyn'+'c'](_0x4c1ba9[_0x2d8937],_0x1e1e24);return _0x1e1e24;}['_processDr'+'awOrderSyn'+'c'](){this['_recurseDr'+'awOrderSyn'+'c'](this['entity'],-0xb2e+-0x240a+0x2f39),this['fire']('syncdrawor'+'der');}['_calcProje'+'ctionMatri'+'x'](){const _0x4397b9=this['_resolutio'+'n']['x']/this['scale'],_0x5a27d8=this['_resolutio'+'n']['y']/this['scale'],_0x59ad3b=-0x2519+0x1366+0x1*0x11b3,_0x88dc5a=_0x4397b9,_0x5d6590=-_0x5a27d8;this['_screenMat'+'rix']['setOrtho'](_0x59ad3b,_0x88dc5a,_0x5d6590,-0x1da2*-0x1+-0x1079+-0xd29,0x1cf3+0x1581+-0x3273,-(-0x44*0x34+-0x2458+-0x3229*-0x1)),this['_screenSpa'+'ce']||(tS['setScale']((-0x16cc*0x1+-0x60b+-0x45*-0x6b+0.5)*_0x4397b9,(-0x11e7*-0x1+0x1b95+-0x47*0xa4+0.5)*_0x5a27d8,0x11a7+0x15*0x25+-0x14af*0x1),this['_screenMat'+'rix']['mul2'](tS,this['_screenMat'+'rix']));}['_updateSca'+'le'](){this['scale']=this['_calcScale'](this['_resolutio'+'n'],this['referenceR'+'esolution']);}['_calcScale'](_0x25bc6a,_0x3ca4e1){const _0x3b8967=Math['log2']((_0x25bc6a['x']||0x27d*0x7+-0x23*0x67+-0x1*0x355)/_0x3ca4e1['x']),_0xe246e9=Math['log2']((_0x25bc6a['y']||0xa*0x184+-0xef9*0x2+0xecb)/_0x3ca4e1['y']);return Math['pow'](0x1739+0xdf5+-0x252c,_0x3b8967*(0x7a*-0x3c+-0x5f*-0x2f+0x77*0x18-this['_scaleBlen'+'d'])+_0xe246e9*this['_scaleBlen'+'d']);}['_onResize'](_0x2287cd,_0xc2f4a1){this['_screenSpa'+'ce']&&(this['_resolutio'+'n']['set'](_0x2287cd,_0xc2f4a1),this['resolution']=this['_resolutio'+'n']);}['_bindEleme'+'nt'](_0x15ce2d){this['_elements']['add'](_0x15ce2d);}['_unbindEle'+'ment'](_0x46134f){this['_elements']['delete'](_0x46134f);}['onRemove'](){this['system']['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['fire']('remove'),this['_elements']['forEach'](_0x667f3=>_0x667f3['_onScreenR'+'emove']()),this['_elements']['clear'](),this['off']();}set['resolution'](_0x23e577){this['_screenSpa'+'ce']?this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']):this['_resolutio'+'n']['set'](_0x23e577['x'],_0x23e577['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:resolu'+'tion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x530624=>_0x530624['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['resolution'](){return this['_resolutio'+'n'];}set['referenceR'+'esolution'](_0x19c3de){this['_reference'+'Resolution']['set'](_0x19c3de['x'],_0x19c3de['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:refere'+'nceresolut'+'ion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x5afd3d=>_0x5afd3d['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['referenceR'+'esolution'](){return this['_scaleMode']===Za?this['_resolutio'+'n']:this['_reference'+'Resolution'];}set['screenSpac'+'e'](_0x524c62){this['_screenSpa'+'ce']=_0x524c62,this['_screenSpa'+'ce']&&this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']),this['resolution']=this['_resolutio'+'n'],this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:screen'+'space',this['_screenSpa'+'ce']),this['_elements']['forEach'](_0x5215d1=>_0x5215d1['_onScreenS'+'paceChange']());}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['scaleMode'](_0x14432f){_0x14432f!==Za&&_0x14432f!==qO&&(_0x14432f=Za),!this['_screenSpa'+'ce']&&_0x14432f!==Za&&(_0x14432f=Za),this['_scaleMode']=_0x14432f,this['resolution']=this['_resolutio'+'n'],this['fire']('set:scalem'+'ode',this['_scaleMode']);}get['scaleMode'](){return this['_scaleMode'];}set['scaleBlend'](_0x2b1040){this['_scaleBlen'+'d']=_0x2b1040,this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:scaleb'+'lend',this['_scaleBlen'+'d']),this['_elements']['forEach'](_0x591441=>_0x591441['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['scaleBlend'](){return this['_scaleBlen'+'d'];}set['priority'](_0x28decf){_0x28decf>-0x39*0xa3+0x109*-0x11+0x36e3*0x1&&(w['warn']('Clamping\x20s'+'creen\x20prio'+'rity\x20from\x20'+_0x28decf+'\x20to\x20255'),_0x28decf=-0x2*-0xba5+-0x21c1+0xb76),this['_priority']!==_0x28decf&&(this['_priority']=_0x28decf,this['syncDrawOr'+'der']());}get['priority'](){return this['_priority'];}}class jO{constructor(){this['enabled']=!(0x2604+-0x9a4+-0x20*0xe3);}}const Uu=['enabled'];class YO extends ct{constructor(_0x342078){super(_0x342078),this['id']='screen',this['ComponentT'+'ype']=l0,this['DataType']=jO,this['schema']=Uu,this['windowReso'+'lution']=new J(),this['_drawOrder'+'SyncQueue']=new fx(),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['initialize'+'ComponentD'+'ata'](_0x16cefd,_0x1f1f68,_0x20472c){_0x1f1f68['priority']!==void(-0x7ee+-0x11a1+-0x2d7*-0x9)&&(_0x16cefd['priority']=_0x1f1f68['priority']),_0x1f1f68['screenSpac'+'e']!==void(0x8+-0xa3*-0x18+0x38*-0x46)&&(_0x16cefd['screenSpac'+'e']=_0x1f1f68['screenSpac'+'e']),_0x16cefd['cull']=_0x16cefd['screenSpac'+'e'],_0x1f1f68['scaleMode']!==void(-0x9b*-0x3c+-0xc2f*0x1+-0x1825)&&(_0x16cefd['scaleMode']=_0x1f1f68['scaleMode']),_0x1f1f68['scaleBlend']!==void(-0x6bf+-0x128e+-0x86f*-0x3)&&(_0x16cefd['scaleBlend']=_0x1f1f68['scaleBlend']),_0x1f1f68['resolution']!==void(-0xd4e+-0x3*0xcb9+0x3379)&&(_0x1f1f68['resolution']instanceof J?_0x16cefd['_resolutio'+'n']['copy'](_0x1f1f68['resolution']):_0x16cefd['_resolutio'+'n']['set'](_0x1f1f68['resolution'][0x13c1+0xa*-0x1f0+-0x61],_0x1f1f68['resolution'][-0x2*-0xebf+-0x215f*0x1+-0x2*-0x1f1]),_0x16cefd['resolution']=_0x16cefd['_resolutio'+'n']),_0x1f1f68['referenceR'+'esolution']!==void(0xa4e+0x7*-0xfd+-0x11*0x33)&&(_0x1f1f68['referenceR'+'esolution']instanceof J?_0x16cefd['_reference'+'Resolution']['copy'](_0x1f1f68['referenceR'+'esolution']):_0x16cefd['_reference'+'Resolution']['set'](_0x1f1f68['referenceR'+'esolution'][-0x678+0x10*0x4d+-0x2*-0xd4],_0x1f1f68['referenceR'+'esolution'][-0x1ad2+0xfe4+-0x137*-0x9]),_0x16cefd['referenceR'+'esolution']=_0x16cefd['_reference'+'Resolution']),_0x16cefd['syncDrawOr'+'der'](),super['initialize'+'ComponentD'+'ata'](_0x16cefd,_0x1f1f68,Uu);}['destroy'](){super['destroy'](),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this);}['_onUpdate'](_0x53c3e4){const _0x4278c0=this['store'];for(const _0x1db7cd in _0x4278c0)_0x4278c0[_0x1db7cd]['entity']['screen']['update']&&_0x4278c0[_0x1db7cd]['entity']['screen']['update'](_0x53c3e4);}['_onResize'](_0x212a3c,_0x134afc){this['windowReso'+'lution']['x']=_0x212a3c,this['windowReso'+'lution']['y']=_0x134afc;}['cloneCompo'+'nent'](_0x18bf90,_0x358587){const _0x30a159=_0x18bf90['screen'];return this['addCompone'+'nt'](_0x358587,{'enabled':_0x30a159['enabled'],'screenSpace':_0x30a159['screenSpac'+'e'],'scaleMode':_0x30a159['scaleMode'],'resolution':_0x30a159['resolution']['clone'](),'referenceResolution':_0x30a159['referenceR'+'esolution']['clone']()});}['onRemoveCo'+'mponent'](_0x14e7c6,_0x4ebfd6){_0x4ebfd6['onRemove']();}['processDra'+'wOrderSync'+'Queue'](){const _0x1d8cbe=this['_drawOrder'+'SyncQueue']['list']();for(let _0x36af68=0x2*-0x12c4+-0x717+0x2c9f*0x1;_0x36af68<_0x1d8cbe['length'];_0x36af68++){const _0x27a10d=_0x1d8cbe[_0x36af68];_0x27a10d['callback']['call'](_0x27a10d['scope']);}this['_drawOrder'+'SyncQueue']['clear']();}['queueDrawO'+'rderSync'](_0x486037,_0x4b2e9d,_0x4e4d5c){this['_drawOrder'+'SyncQueue']['list']()['length']||this['app']['once']('prerender',this['processDra'+'wOrderSync'+'Queue'],this),this['_drawOrder'+'SyncQueue']['has'](_0x486037)||this['_drawOrder'+'SyncQueue']['push'](_0x486037,{'callback':_0x4b2e9d,'scope':_0x4e4d5c});}}we['_buildAcce'+'ssors'](l0['prototype'],Uu);const lr=new J(),sS=new D(),Hr=new Dn(),iS=new QS(),rS=new D(),vo=new D(),KO=new le(),ZO={'x':'y','y':'x'};class Go extends me{constructor(_0x211b24,_0x1a4979){if(super(),!_0x211b24||!(_0x211b24 instanceof hs))throw new Error('Element\x20wa'+'s\x20null\x20or\x20'+'not\x20an\x20Ele'+'mentCompon'+'ent');if(_0x1a4979&&_0x1a4979!=='x'&&_0x1a4979!=='y')throw new Error('Unrecogniz'+'ed\x20axis:\x20'+_0x1a4979);this['_element']=_0x211b24,this['_app']=_0x211b24['system']['app'],this['_axis']=_0x1a4979||null,this['_enabled']=!(0x1dab+0xb6f+-0x291a),this['_dragScale']=new D(),this['_dragStart'+'MousePosit'+'ion']=new D(),this['_dragStart'+'HandlePosi'+'tion']=new D(),this['_deltaMous'+'ePosition']=new D(),this['_deltaHand'+'lePosition']=new D(),this['_isDraggin'+'g']=!(0x5*-0x251+-0xc06*-0x3+-0x187c),this['_toggleLif'+'ecycleList'+'eners']('on');}['_toggleLif'+'ecycleList'+'eners'](_0x2d742e){this['_element'][_0x2d742e]('mousedown',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x2d742e]('touchstart',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x2d742e]('selectstar'+'t',this['_onMouseDo'+'wnOrTouchS'+'tart'],this);}['_toggleDra'+'gListeners'](_0x3a1136){const _0x56dfa6=_0x3a1136==='on';this['_hasDragLi'+'steners']&&_0x56dfa6||(this['_app']['mouse']&&(this['_element'][_0x3a1136]('mousemove',this['_onMove'],this),this['_element'][_0x3a1136]('mouseup',this['_onMouseUp'+'OrTouchEnd'],this)),Ae['touch']&&(this['_element'][_0x3a1136]('touchmove',this['_onMove'],this),this['_element'][_0x3a1136]('touchend',this['_onMouseUp'+'OrTouchEnd'],this),this['_element'][_0x3a1136]('touchcance'+'l',this['_onMouseUp'+'OrTouchEnd'],this)),this['_element'][_0x3a1136]('selectmove',this['_onMove'],this),this['_element'][_0x3a1136]('selectend',this['_onMouseUp'+'OrTouchEnd'],this),this['_hasDragLi'+'steners']=_0x56dfa6);}['_onMouseDo'+'wnOrTouchS'+'tart'](_0x2359f3){if(this['_element']&&!this['_isDraggin'+'g']&&this['enabled']){this['_dragCamer'+'a']=_0x2359f3['camera'],this['_calculate'+'DragScale']();const _0x46700e=this['_screenToL'+'ocal'](_0x2359f3);_0x46700e&&(this['_toggleDra'+'gListeners']('on'),this['_isDraggin'+'g']=!(-0x9c8+-0xe*0x1c6+-0x5*-0x6ec),this['_dragStart'+'MousePosit'+'ion']['copy'](_0x46700e),this['_dragStart'+'HandlePosi'+'tion']['copy'](this['_element']['entity']['getLocalPo'+'sition']()),this['fire']('drag:start'));}}['_onMouseUp'+'OrTouchEnd'](){this['_isDraggin'+'g']&&(this['_isDraggin'+'g']=!(0x1186*0x2+-0x228b+-0x80),this['_toggleDra'+'gListeners']('off'),this['fire']('drag:end'));}['_screenToL'+'ocal'](_0x11d3b2){return _0x11d3b2['inputSourc'+'e']?Hr['set'](_0x11d3b2['inputSourc'+'e']['getOrigin'](),_0x11d3b2['inputSourc'+'e']['getDirecti'+'on']()):(this['_determine'+'InputPosit'+'ion'](_0x11d3b2),this['_chooseRay'+'OriginAndD'+'irection']()),rS['copy'](this['_element']['entity']['forward'])['mulScalar'](-(0x10ba+0x4*0x727+-0x2d55)),iS['setFromPoi'+'ntNormal'](this['_element']['entity']['getPositio'+'n'](),rS),iS['intersects'+'Ray'](Hr,vo)?(KO['copy'](this['_element']['entity']['getRotatio'+'n']())['invert']()['transformV'+'ector'](vo,vo),vo['mul'](this['_dragScale']),vo):null;}['_determine'+'InputPosit'+'ion'](_0x530e64){const _0x3e9c6d=this['_app']['graphicsDe'+'vice']['maxPixelRa'+'tio'];typeof _0x530e64['x']<'u'&&typeof _0x530e64['y']<'u'?(lr['x']=_0x530e64['x']*_0x3e9c6d,lr['y']=_0x530e64['y']*_0x3e9c6d):_0x530e64['changedTou'+'ches']?(lr['x']=_0x530e64['changedTou'+'ches'][-0x1*-0x22bd+0x4fe+-0x27bb]['x']*_0x3e9c6d,lr['y']=_0x530e64['changedTou'+'ches'][0xef8+0x5*-0x17b+-0xd*0x95]['y']*_0x3e9c6d):console['warn']('Could\x20not\x20'+'determine\x20'+'position\x20f'+'rom\x20input\x20'+'event');}['_chooseRay'+'OriginAndD'+'irection'](){this['_element']['screen']&&this['_element']['screen']['screen']['screenSpac'+'e']?(Hr['origin']['set'](lr['x'],-lr['y'],-0x15f5*0x1+-0x2234+-0xb*-0x51b),Hr['direction']['copy'](D['FORWARD'])):(sS['copy'](this['_dragCamer'+'a']['screenToWo'+'rld'](lr['x'],lr['y'],0x683+-0x162*-0xa+-0x1456)),Hr['origin']['copy'](this['_dragCamer'+'a']['entity']['getPositio'+'n']()),Hr['direction']['copy'](sS)['sub'](Hr['origin'])['normalize']());}['_calculate'+'DragScale'](){let _0x291c20=this['_element']['entity']['parent'];const _0x8408c0=this['_element']['screen']&&this['_element']['screen']['screen'],_0x2a6831=_0x8408c0&&_0x8408c0['screenSpac'+'e'],_0x5d34c0=_0x2a6831?_0x8408c0['scale']:-0x7b*0x21+0x10db*-0x1+-0x19*-0x14f,_0x1f9e95=this['_dragScale'];for(_0x1f9e95['set'](_0x5d34c0,_0x5d34c0,_0x5d34c0);_0x291c20&&(_0x1f9e95['mul'](_0x291c20['getLocalSc'+'ale']()),_0x291c20=_0x291c20['parent'],!(_0x2a6831&&_0x291c20['screen'])););_0x1f9e95['x']=(0x11db+0x1740+-0x291a)/_0x1f9e95['x'],_0x1f9e95['y']=(-0xef5+-0x6a*-0x40+-0xb8a)/_0x1f9e95['y'],_0x1f9e95['z']=0x7*0x586+-0x67c+-0x202e;}['_onMove'](_0x310013){const {_element:_0x2946b9,_deltaMousePosition:_0x55789a,_deltaHandlePosition:_0x164313,_axis:_0x105a63}=this;if(_0x2946b9&&this['_isDraggin'+'g']&&this['enabled']&&_0x2946b9['enabled']&&_0x2946b9['entity']['enabled']){const _0x353590=this['_screenToL'+'ocal'](_0x310013);if(_0x353590){if(_0x55789a['sub2'](_0x353590,this['_dragStart'+'MousePosit'+'ion']),_0x164313['add2'](this['_dragStart'+'HandlePosi'+'tion'],_0x55789a),_0x105a63){const _0x23d9a5=_0x2946b9['entity']['getLocalPo'+'sition'](),_0x2e73a2=ZO[_0x105a63];_0x164313[_0x2e73a2]=_0x23d9a5[_0x2e73a2];}_0x2946b9['entity']['setLocalPo'+'sition'](_0x164313),this['fire']('drag:move',_0x164313);}}}['destroy'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleDra'+'gListeners']('off');}set['enabled'](_0x238c10){this['_enabled']=_0x238c10;}get['enabled'](){return this['_enabled'];}get['isDragging'](){return this['_isDraggin'+'g'];}}h(Go,'EVENT_DRAG'+'START','drag:start'),h(Go,'EVENT_DRAG'+'END','drag:end'),h(Go,'EVENT_DRAG'+'MOVE','drag:move');const QO=0x242a*0x1+0x8f3*-0x3+-0x951,aS=0x1146+0x3*0x593+-0x21fe,JO=0x16*0x134+-0x1d3f+0x2c9,eF=-0x1*0x186d+-0x2*-0x916+0x641,tF=0x1*-0x27+0x5*0x4fd+-0x87*0x2f,xo=new J();class c0 extends we{constructor(_0x330ff7,_0x25882f){super(_0x330ff7,_0x25882f),h(this,'_viewportE'+'ntity',null),h(this,'_contentEn'+'tity',null),h(this,'_horizonta'+'lScrollbar'+'Entity',null),h(this,'_verticalS'+'crollbarEn'+'tity',null),h(this,'_evtElemen'+'tRemove',null),h(this,'_evtViewpo'+'rtElementR'+'emove',null),h(this,'_evtViewpo'+'rtResize',null),h(this,'_evtConten'+'tEntityEle'+'mentAdd',null),h(this,'_evtConten'+'tElementRe'+'move',null),h(this,'_evtConten'+'tResize',null),h(this,'_evtHorizo'+'ntalScroll'+'barAdd',null),h(this,'_evtHorizo'+'ntalScroll'+'barRemove',null),h(this,'_evtHorizo'+'ntalScroll'+'barValue',null),h(this,'_evtVertic'+'alScrollba'+'rAdd',null),h(this,'_evtVertic'+'alScrollba'+'rRemove',null),h(this,'_evtVertic'+'alScrollba'+'rValue',null),(this['_scrollbar'+'UpdateFlag'+'s']={},this['_scrollbar'+'Entities']={},this['_prevConte'+'ntSizes']={},this['_prevConte'+'ntSizes'][Ce]=null,this['_prevConte'+'ntSizes'][je]=null,this['_scroll']=new J(),this['_velocity']=new D(),this['_dragStart'+'Position']=new D(),this['_disabledC'+'ontentInpu'+'t']=!(0x509*0x7+0x1c6+-0x2504),this['_disabledC'+'ontentInpu'+'tEntities']=[],this['_toggleLif'+'ecycleList'+'eners']('on'),this['_toggleEle'+'mentListen'+'ers']('on'));}get['data'](){const _0x43c643=this['system']['store'][this['entity']['getGuid']()];return _0x43c643?_0x43c643['data']:null;}set['enabled'](_0x13d779){this['_setValue']('enabled',_0x13d779);}get['enabled'](){return this['data']['enabled'];}set['horizontal'](_0x36dcea){this['_setValue']('horizontal',_0x36dcea);}get['horizontal'](){return this['data']['horizontal'];}set['vertical'](_0x3b28c1){this['_setValue']('vertical',_0x3b28c1);}get['vertical'](){return this['data']['vertical'];}set['scrollMode'](_0x3b3775){this['_setValue']('scrollMode',_0x3b3775);}get['scrollMode'](){return this['data']['scrollMode'];}set['bounceAmou'+'nt'](_0x578a55){this['_setValue']('bounceAmou'+'nt',_0x578a55);}get['bounceAmou'+'nt'](){return this['data']['bounceAmou'+'nt'];}set['friction'](_0x3eac75){this['_setValue']('friction',_0x3eac75);}get['friction'](){return this['data']['friction'];}set['dragThresh'+'old'](_0x5d851a){this['_setValue']('dragThresh'+'old',_0x5d851a);}get['dragThresh'+'old'](){return this['data']['dragThresh'+'old'];}set['useMouseWh'+'eel'](_0x30c1a9){this['_setValue']('useMouseWh'+'eel',_0x30c1a9);}get['useMouseWh'+'eel'](){return this['data']['useMouseWh'+'eel'];}set['mouseWheel'+'Sensitivit'+'y'](_0x2ecaeb){this['_setValue']('mouseWheel'+'Sensitivit'+'y',_0x2ecaeb);}get['mouseWheel'+'Sensitivit'+'y'](){return this['data']['mouseWheel'+'Sensitivit'+'y'];}set['horizontal'+'ScrollbarV'+'isibility'](_0x509048){this['_setValue']('horizontal'+'ScrollbarV'+'isibility',_0x509048);}get['horizontal'+'ScrollbarV'+'isibility'](){return this['data']['horizontal'+'ScrollbarV'+'isibility'];}set['verticalSc'+'rollbarVis'+'ibility'](_0x4a93f2){this['_setValue']('verticalSc'+'rollbarVis'+'ibility',_0x4a93f2);}get['verticalSc'+'rollbarVis'+'ibility'](){return this['data']['verticalSc'+'rollbarVis'+'ibility'];}set['viewportEn'+'tity'](_0x76ad74){if(this['_viewportE'+'ntity']===_0x76ad74)return;const _0x1cbda5=typeof _0x76ad74=='string';this['_viewportE'+'ntity']&&_0x1cbda5&&this['_viewportE'+'ntity']['getGuid']()===_0x76ad74||(this['_viewportE'+'ntity']&&this['_viewportE'+'ntityUnsub'+'scribe'](),_0x76ad74 instanceof Ie?this['_viewportE'+'ntity']=_0x76ad74:_0x1cbda5?this['_viewportE'+'ntity']=this['system']['app']['getEntityF'+'romIndex'](_0x76ad74)||null:this['_viewportE'+'ntity']=null,this['_viewportE'+'ntity']&&this['_viewportE'+'ntitySubsc'+'ribe'](),this['_viewportE'+'ntity']?this['data']['viewportEn'+'tity']=this['_viewportE'+'ntity']['getGuid']():_0x1cbda5&&_0x76ad74&&(this['data']['viewportEn'+'tity']=_0x76ad74));}get['viewportEn'+'tity'](){return this['_viewportE'+'ntity'];}set['contentEnt'+'ity'](_0x43fed3){if(this['_contentEn'+'tity']===_0x43fed3)return;const _0x375d5c=typeof _0x43fed3=='string';this['_contentEn'+'tity']&&_0x375d5c&&this['_contentEn'+'tity']['getGuid']()===_0x43fed3||(this['_contentEn'+'tity']&&this['_contentEn'+'tityUnsubs'+'cribe'](),_0x43fed3 instanceof Ie?this['_contentEn'+'tity']=_0x43fed3:_0x375d5c?this['_contentEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x43fed3)||null:this['_contentEn'+'tity']=null,this['_contentEn'+'tity']&&this['_contentEn'+'titySubscr'+'ibe'](),this['_contentEn'+'tity']?this['data']['contentEnt'+'ity']=this['_contentEn'+'tity']['getGuid']():_0x375d5c&&_0x43fed3&&(this['data']['contentEnt'+'ity']=_0x43fed3));}get['contentEnt'+'ity'](){return this['_contentEn'+'tity'];}set['horizontal'+'ScrollbarE'+'ntity'](_0x51545c){if(this['_horizonta'+'lScrollbar'+'Entity']===_0x51545c)return;const _0xe92c06=typeof _0x51545c=='string';this['_horizonta'+'lScrollbar'+'Entity']&&_0xe92c06&&this['_horizonta'+'lScrollbar'+'Entity']['getGuid']()===_0x51545c||(this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](),_0x51545c instanceof Ie?this['_horizonta'+'lScrollbar'+'Entity']=_0x51545c:_0xe92c06?this['_horizonta'+'lScrollbar'+'Entity']=this['system']['app']['getEntityF'+'romIndex'](_0x51545c)||null:this['_horizonta'+'lScrollbar'+'Entity']=null,this['_scrollbar'+'Entities'][Ce]=this['_horizonta'+'lScrollbar'+'Entity'],this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](),this['_horizonta'+'lScrollbar'+'Entity']?this['data']['horizontal'+'ScrollbarE'+'ntity']=this['_horizonta'+'lScrollbar'+'Entity']['getGuid']():_0xe92c06&&_0x51545c&&(this['data']['horizontal'+'ScrollbarE'+'ntity']=_0x51545c));}get['horizontal'+'ScrollbarE'+'ntity'](){return this['_horizonta'+'lScrollbar'+'Entity'];}set['verticalSc'+'rollbarEnt'+'ity'](_0x44e4b9){if(this['_verticalS'+'crollbarEn'+'tity']===_0x44e4b9)return;const _0x53d5d7=typeof _0x44e4b9=='string';this['_verticalS'+'crollbarEn'+'tity']&&_0x53d5d7&&this['_verticalS'+'crollbarEn'+'tity']['getGuid']()===_0x44e4b9||(this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](),_0x44e4b9 instanceof Ie?this['_verticalS'+'crollbarEn'+'tity']=_0x44e4b9:_0x53d5d7?this['_verticalS'+'crollbarEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x44e4b9)||null:this['_verticalS'+'crollbarEn'+'tity']=null,this['_scrollbar'+'Entities'][je]=this['_verticalS'+'crollbarEn'+'tity'],this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](),this['_verticalS'+'crollbarEn'+'tity']?this['data']['verticalSc'+'rollbarEnt'+'ity']=this['_verticalS'+'crollbarEn'+'tity']['getGuid']():_0x53d5d7&&_0x44e4b9&&(this['data']['verticalSc'+'rollbarEnt'+'ity']=_0x44e4b9));}get['verticalSc'+'rollbarEnt'+'ity'](){return this['_verticalS'+'crollbarEn'+'tity'];}set['scroll'](_0x485257){this['_onSetScro'+'ll'](_0x485257['x'],_0x485257['y']);}get['scroll'](){return this['_scroll'];}['_setValue'](_0x3003ab,_0x2c7d38){const _0x25726c=this['data'],_0x3d4e43=_0x25726c[_0x3003ab];_0x25726c[_0x3003ab]=_0x2c7d38,this['fire']('set',_0x3003ab,_0x3d4e43,_0x2c7d38);}['_toggleLif'+'ecycleList'+'eners'](_0x4df798){this[_0x4df798]('set_horizo'+'ntal',this['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'],this),this[_0x4df798]('set_vertic'+'al',this['_onSetVert'+'icalScroll'+'ingEnabled'],this),this['entity'][_0x4df798]('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this);}['_toggleEle'+'mentListen'+'ers'](_0x205984){if(this['entity']['element']){if(_0x205984==='on'&&this['_hasElemen'+'tListeners'])return;this['entity']['element'][_0x205984]('resize',this['_syncAll'],this),this['entity']['element'][_0x205984]('mousewheel',this['_onMouseWh'+'eel'],this),this['_hasElemen'+'tListeners']=_0x205984==='on';}}['_onElement'+'ComponentA'+'dd'](_0x3d932d){this['_evtElemen'+'tRemove']=this['entity']['element']['once']('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['_toggleEle'+'mentListen'+'ers']('on');}['_onElement'+'ComponentR'+'emove'](_0xdf6877){var _0x176c54;(_0x176c54=this['_evtElemen'+'tRemove'])==null||_0x176c54['off'](),this['_evtElemen'+'tRemove']=null,this['_toggleEle'+'mentListen'+'ers']('off');}['_viewportE'+'ntitySubsc'+'ribe'](){this['_evtViewpo'+'rtEntityEl'+'ementAdd']=this['_viewportE'+'ntity']['on']('element:ad'+'d',this['_onViewpor'+'tElementGa'+'in'],this),this['_viewportE'+'ntity']['element']&&this['_onViewpor'+'tElementGa'+'in']();}['_viewportE'+'ntityUnsub'+'scribe'](){var _0xc4cdcb,_0x3fd773;(_0xc4cdcb=this['_evtViewpo'+'rtEntityEl'+'ementAdd'])==null||_0xc4cdcb['off'](),this['_evtViewpo'+'rtEntityEl'+'ementAdd']=null,(_0x3fd773=this['_viewportE'+'ntity'])!=null&&_0x3fd773['element']&&this['_onViewpor'+'tElementLo'+'se']();}['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](){const _0x199a7c=this['_viewportE'+'ntity']['element'];this['_evtViewpo'+'rtElementR'+'emove']=_0x199a7c['once']('beforeremo'+'ve',this['_onViewpor'+'tElementLo'+'se'],this),this['_evtViewpo'+'rtResize']=_0x199a7c['on']('resize',this['_syncAll'],this);}['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe'](){var _0x477002,_0x22df38;(_0x477002=this['_evtViewpo'+'rtElementR'+'emove'])==null||_0x477002['off'](),this['_evtViewpo'+'rtElementR'+'emove']=null,(_0x22df38=this['_evtViewpo'+'rtResize'])==null||_0x22df38['off'](),this['_evtViewpo'+'rtResize']=null;}['_onViewpor'+'tElementGa'+'in'](){this['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](),this['_syncAll']();}['_onViewpor'+'tElementLo'+'se'](){this['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe']();}['_contentEn'+'titySubscr'+'ibe'](){this['_evtConten'+'tEntityEle'+'mentAdd']=this['_contentEn'+'tity']['on']('element:ad'+'d',this['_onContent'+'ElementGai'+'n'],this),this['_contentEn'+'tity']['element']&&this['_onContent'+'ElementGai'+'n']();}['_contentEn'+'tityUnsubs'+'cribe'](){var _0x207dff,_0x3af0a6;(_0x207dff=this['_evtConten'+'tEntityEle'+'mentAdd'])==null||_0x207dff['off'](),this['_evtConten'+'tEntityEle'+'mentAdd']=null,(_0x3af0a6=this['_contentEn'+'tity'])!=null&&_0x3af0a6['element']&&this['_onContent'+'ElementLos'+'e']();}['_contentEn'+'tityElemen'+'tSubscribe'](){const _0x453b0e=this['_contentEn'+'tity']['element'];this['_evtConten'+'tElementRe'+'move']=_0x453b0e['once']('beforeremo'+'ve',this['_onContent'+'ElementLos'+'e'],this),this['_evtConten'+'tResize']=_0x453b0e['on']('resize',this['_syncAll'],this);}['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](){var _0x285764,_0x275f1e;(_0x285764=this['_evtConten'+'tElementRe'+'move'])==null||_0x285764['off'](),this['_evtConten'+'tElementRe'+'move']=null,(_0x275f1e=this['_evtConten'+'tResize'])==null||_0x275f1e['off'](),this['_evtConten'+'tResize']=null;}['_onContent'+'ElementGai'+'n'](){this['_contentEn'+'tityElemen'+'tSubscribe'](),this['_destroyDr'+'agHelper'](),this['_contentDr'+'agHelper']=new Go(this['_contentEn'+'tity']['element']),this['_contentDr'+'agHelper']['on']('drag:start',this['_onContent'+'DragStart'],this),this['_contentDr'+'agHelper']['on']('drag:end',this['_onContent'+'DragEnd'],this),this['_contentDr'+'agHelper']['on']('drag:move',this['_onContent'+'DragMove'],this),this['_prevConte'+'ntSizes'][Ce]=null,this['_prevConte'+'ntSizes'][je]=null,this['_syncAll']();}['_onContent'+'ElementLos'+'e'](){this['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](),this['_destroyDr'+'agHelper']();}['_onContent'+'DragStart'](){this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&this['_dragStart'+'Position']['copy'](this['_contentEn'+'tity']['getLocalPo'+'sition']());}['_onContent'+'DragEnd'](){this['_prevConte'+'ntDragPosi'+'tion']=null,this['_enableCon'+'tentInput']();}['_onContent'+'DragMove'](_0x4417f5){if(this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&(this['_wasDragge'+'d']=!(-0x14b3+0x1d77+-0x8c4),this['_setScroll'+'FromConten'+'tPosition'](_0x4417f5),this['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x4417f5),!this['_disabledC'+'ontentInpu'+'t'])){const _0x1b3179=_0x4417f5['x']-this['_dragStart'+'Position']['x'],_0x1604ab=_0x4417f5['y']-this['_dragStart'+'Position']['y'];(Math['abs'](_0x1b3179)>this['dragThresh'+'old']||Math['abs'](_0x1604ab)>this['dragThresh'+'old'])&&this['_disableCo'+'ntentInput']();}}['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](){this['_evtHorizo'+'ntalScroll'+'barAdd']=this['_horizonta'+'lScrollbar'+'Entity']['on']('scrollbar:'+'add',this['_onHorizon'+'talScrollb'+'arGain'],this),this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arGain']();}['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](){this['_evtVertic'+'alScrollba'+'rAdd']=this['_verticalS'+'crollbarEn'+'tity']['on']('scrollbar:'+'add',this['_onVertica'+'lScrollbar'+'Gain'],this),this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Gain']();}['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](){var _0x18bde4;(_0x18bde4=this['_evtHorizo'+'ntalScroll'+'barAdd'])==null||_0x18bde4['off'](),this['_evtHorizo'+'ntalScroll'+'barAdd']=null,this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arLose']();}['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](){var _0x1a6525;(_0x1a6525=this['_evtVertic'+'alScrollba'+'rAdd'])==null||_0x1a6525['off'](),this['_evtVertic'+'alScrollba'+'rAdd']=null,this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Lose']();}['_onSetHori'+'zontalScro'+'llbarValue'](_0x3060f9){!this['_scrollbar'+'UpdateFlag'+'s'][Ce]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](_0x3060f9,null);}['_onSetVert'+'icalScroll'+'barValue'](_0x4b7a89){!this['_scrollbar'+'UpdateFlag'+'s'][je]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](null,_0x4b7a89);}['_onHorizon'+'talScrollb'+'arGain'](){var _0x5b9216;const _0x1e8b8d=(_0x5b9216=this['_horizonta'+'lScrollbar'+'Entity'])==null?void(-0x382*0x7+-0x109d*-0x2+-0x8ac):_0x5b9216['scrollbar'];this['_evtHorizo'+'ntalScroll'+'barRemove']=_0x1e8b8d['on']('beforeremo'+'ve',this['_onHorizon'+'talScrollb'+'arLose'],this),this['_evtHorizo'+'ntalScroll'+'barValue']=_0x1e8b8d['on']('set:value',this['_onSetHori'+'zontalScro'+'llbarValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarPositi'+'on'](Ce);}['_onVertica'+'lScrollbar'+'Gain'](){var _0x5e18ed;const _0xa25914=(_0x5e18ed=this['_verticalS'+'crollbarEn'+'tity'])==null?void(-0x2488+0x1a5f+0xa29):_0x5e18ed['scrollbar'];this['_evtVertic'+'alScrollba'+'rRemove']=_0xa25914['on']('beforeremo'+'ve',this['_onVertica'+'lScrollbar'+'Lose'],this),this['_evtVertic'+'alScrollba'+'rValue']=_0xa25914['on']('set:value',this['_onSetVert'+'icalScroll'+'barValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](je),this['_syncScrol'+'lbarPositi'+'on'](je);}['_onHorizon'+'talScrollb'+'arLose'](){var _0x279b0b,_0x3883ee;(_0x279b0b=this['_evtHorizo'+'ntalScroll'+'barRemove'])==null||_0x279b0b['off'](),this['_evtHorizo'+'ntalScroll'+'barRemove']=null,(_0x3883ee=this['_evtHorizo'+'ntalScroll'+'barValue'])==null||_0x3883ee['off'](),this['_evtHorizo'+'ntalScroll'+'barValue']=null;}['_onVertica'+'lScrollbar'+'Lose'](){var _0x31cd5d,_0x540be4;(_0x31cd5d=this['_evtVertic'+'alScrollba'+'rRemove'])==null||_0x31cd5d['off'](),this['_evtVertic'+'alScrollba'+'rRemove']=null,(_0x540be4=this['_evtVertic'+'alScrollba'+'rValue'])==null||_0x540be4['off'](),this['_evtVertic'+'alScrollba'+'rValue']=null;}['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'](){this['_syncScrol'+'lbarEnable'+'dState'](Ce);}['_onSetVert'+'icalScroll'+'ingEnabled'](){this['_syncScrol'+'lbarEnable'+'dState'](je);}['_onSetScro'+'ll'](_0x33ca32,_0x384a76,_0x48737f){_0x48737f!==!(-0x1*-0xd52+0xe4a*-0x1+0xf9)&&this['_velocity']['set'](0x1b60+0x2b*-0x2b+-0x1427,-0x136+0x12fc+-0x11c6,0x17*0x95+-0x40*-0x1f+-0x1523);const _0x1123b9=this['_updateAxi'+'s'](_0x33ca32,'x',Ce),_0x321db0=this['_updateAxi'+'s'](_0x384a76,'y',je);(_0x1123b9||_0x321db0)&&this['fire']('set:scroll',this['_scroll']);}['_updateAxi'+'s'](_0x398df0,_0x265d7d,_0x1f62c7){const _0x16897a=_0x398df0!==null&&Math['abs'](_0x398df0-this['_scroll'][_0x265d7d])>0x1*0x1e88+-0x4d5*0x6+-0x18a+0.00001;return(_0x16897a||this['_isDraggin'+'g']()||_0x398df0===-0x1029+0x1*0x9df+-0xa1*-0xa)&&(this['_scroll'][_0x265d7d]=this['_determine'+'NewScrollV'+'alue'](_0x398df0,_0x265d7d,_0x1f62c7),this['_syncConte'+'ntPosition'](_0x1f62c7),this['_syncScrol'+'lbarPositi'+'on'](_0x1f62c7)),_0x16897a;}['_determine'+'NewScrollV'+'alue'](_0x1da25f,_0x1817bc,_0x5b3b9f){if(!this['_getScroll'+'ingEnabled'](_0x5b3b9f))return this['_scroll'][_0x1817bc];switch(this['scrollMode']){case QO:return Y['clamp'](_0x1da25f,0x1*0xd7f+-0x17f0*0x1+-0xb*-0xf3,this['_getMaxScr'+'ollValue'](_0x5b3b9f));case aS:return this['_setVeloci'+'tyFromOver'+'shoot'](_0x1da25f,_0x1817bc,_0x5b3b9f),_0x1da25f;case JO:return _0x1da25f;default:return console['warn']('Unhandled\x20'+'scroll\x20mod'+'e:'+this['scrollMode']),_0x1da25f;}}['_syncAll'](){this['_syncConte'+'ntPosition'](Ce),this['_syncConte'+'ntPosition'](je),this['_syncScrol'+'lbarPositi'+'on'](Ce),this['_syncScrol'+'lbarPositi'+'on'](je),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarEnable'+'dState'](je);}['_syncConte'+'ntPosition'](_0x5b9a32){if(!this['_contentEn'+'tity'])return;const _0x2bfeb6=this['_getAxis'](_0x5b9a32),_0x41b631=this['_getSign'](_0x5b9a32),_0x43ae58=this['_prevConte'+'ntSizes'][_0x5b9a32],_0x16b9cd=this['_getConten'+'tSize'](_0x5b9a32);if(_0x43ae58!==null&&Math['abs'](_0x43ae58-_0x16b9cd)>0x2540+-0x2673+0x133+0.0001){const _0x426535=this['_getMaxOff'+'set'](_0x5b9a32,_0x43ae58),_0x4b3f4d=this['_getMaxOff'+'set'](_0x5b9a32,_0x16b9cd);_0x4b3f4d===0x1*-0x19ea+0x5*-0x26b+0x2601?this['_scroll'][_0x2bfeb6]=0x13*-0x1fd+-0x8db+0x1*0x2ea3:this['_scroll'][_0x2bfeb6]=Y['clamp'](this['_scroll'][_0x2bfeb6]*_0x426535/_0x4b3f4d,-0xe6c+-0x12ed+0x2159,0xbd4+0x1288+-0x13*0x199);}const _0x2648a2=this['_scroll'][_0x2bfeb6]*this['_getMaxOff'+'set'](_0x5b9a32),_0x469b3d=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x469b3d[_0x2bfeb6]=_0x2648a2*_0x41b631,this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x469b3d),this['_prevConte'+'ntSizes'][_0x5b9a32]=_0x16b9cd;}['_syncScrol'+'lbarPositi'+'on'](_0x3b8382){const _0x332662=this['_scrollbar'+'Entities'][_0x3b8382];if(!(_0x332662!=null&&_0x332662['scrollbar']))return;const _0x122578=this['_getAxis'](_0x3b8382);this['_scrollbar'+'UpdateFlag'+'s'][_0x3b8382]=!(0x1*-0x234d+-0x2*-0xf9+0x1*0x215b),_0x332662['scrollbar']['value']=this['_scroll'][_0x122578],_0x332662['scrollbar']['handleSize']=this['_getScroll'+'barHandleS'+'ize'](_0x122578,_0x3b8382),this['_scrollbar'+'UpdateFlag'+'s'][_0x3b8382]=!(-0x29c+0x1*-0x1a5d+0x1cfa);}['_syncScrol'+'lbarEnable'+'dState'](_0x9c2d84){const _0x34a67c=this['_scrollbar'+'Entities'][_0x9c2d84];if(!_0x34a67c)return;const _0x74f349=this['_getScroll'+'ingEnabled'](_0x9c2d84),_0x26e5fc=this['_getScroll'+'barVisibil'+'ity'](_0x9c2d84);switch(_0x26e5fc){case eF:_0x34a67c['enabled']=_0x74f349;return;case tF:_0x34a67c['enabled']=_0x74f349&&this['_contentIs'+'LargerThan'+'Viewport'](_0x9c2d84);return;default:console['warn']('Unhandled\x20'+'scrollbar\x20'+'visibility'+':'+_0x26e5fc),_0x34a67c['enabled']=_0x74f349;}}['_contentIs'+'LargerThan'+'Viewport'](_0x4ae0b0){return this['_getConten'+'tSize'](_0x4ae0b0)>this['_getViewpo'+'rtSize'](_0x4ae0b0);}['_contentPo'+'sitionToSc'+'rollValue'](_0x577b24){const _0x52e568=this['_getMaxOff'+'set'](Ce),_0x2d4f55=this['_getMaxOff'+'set'](je);return _0x52e568===0x78a*0x2+0x25c+-0x1f0*0x9?xo['x']=-0x1*0x271+-0x59e*0x1+0x80f:xo['x']=_0x577b24['x']/_0x52e568,_0x2d4f55===0x25ed+0xf37+-0x3524?xo['y']=-0xd*0x232+-0xf91+0x1*0x2c1b:xo['y']=_0x577b24['y']/-_0x2d4f55,xo;}['_getMaxOff'+'set'](_0x56caed,_0x540323){_0x540323=_0x540323===void(-0xd19*-0x2+0xf18*-0x1+-0xb1a)?this['_getConten'+'tSize'](_0x56caed):_0x540323;const _0x46703c=this['_getViewpo'+'rtSize'](_0x56caed);return _0x540323<_0x46703c?-this['_getViewpo'+'rtSize'](_0x56caed):_0x46703c-_0x540323;}['_getMaxScr'+'ollValue'](_0x5c5682){return this['_contentIs'+'LargerThan'+'Viewport'](_0x5c5682)?0x1c9e+0x80b+-0x24a8:-0x3*-0x625+0x508+-0x1*0x1777;}['_getScroll'+'barHandleS'+'ize'](_0x174d5f,_0x587938){const _0x15817e=this['_getViewpo'+'rtSize'](_0x587938),_0xa79b30=this['_getConten'+'tSize'](_0x587938);if(Math['abs'](_0xa79b30)<0xbb6+-0x2219+-0x209*-0xb+0.001)return 0x475*-0x8+-0x5+0x23ae;const _0x277771=Math['min'](_0x15817e/_0xa79b30,-0xebf+0x1*0x1c4d+-0xd8d),_0x14ad1c=this['_toOversho'+'ot'](this['_scroll'][_0x174d5f],_0x587938);return _0x14ad1c===-0x128*0x13+-0x1*0x996+0x1f8e?_0x277771:_0x277771/(-0x25f*0x7+0x145a+-0x3c0+Math['abs'](_0x14ad1c));}['_getViewpo'+'rtSize'](_0x40e674){return this['_getSize'](_0x40e674,this['_viewportE'+'ntity']);}['_getConten'+'tSize'](_0x2a1d77){return this['_getSize'](_0x2a1d77,this['_contentEn'+'tity']);}['_getSize'](_0x3c33c2,_0x24dbb9){return _0x24dbb9!=null&&_0x24dbb9['element']?_0x24dbb9['element'][this['_getCalcul'+'atedDimens'+'ion'](_0x3c33c2)]:-0xaf0+0x1395+-0x8a5;}['_getScroll'+'ingEnabled'](_0x4b035e){if(_0x4b035e===Ce)return this['horizontal'];if(_0x4b035e===je)return this['vertical'];w['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x4b035e);}['_getScroll'+'barVisibil'+'ity'](_0x43f7ce){if(_0x43f7ce===Ce)return this['horizontal'+'ScrollbarV'+'isibility'];if(_0x43f7ce===je)return this['verticalSc'+'rollbarVis'+'ibility'];w['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x43f7ce);}['_getSign'](_0x8ffd2c){return _0x8ffd2c===Ce?0x11d6+-0x29*0x92+0x58d:-(-0x39*-0x67+-0x1*0x24a1+0xdb3);}['_getAxis'](_0x2d07fa){return _0x2d07fa===Ce?'x':'y';}['_getCalcul'+'atedDimens'+'ion'](_0x370dcb){return _0x370dcb===Ce?'calculated'+'Width':'calculated'+'Height';}['_destroyDr'+'agHelper'](){this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['destroy']();}['onUpdate'](){this['_contentEn'+'tity']&&(this['_updateVel'+'ocity'](),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarEnable'+'dState'](je));}['_updateVel'+'ocity'](){if(!this['_isDraggin'+'g']()){if(this['scrollMode']===aS&&(this['_hasOversh'+'oot']('x',Ce)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['x'],'x',Ce),this['_hasOversh'+'oot']('y',je)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['y'],'y',je)),Math['abs'](this['_velocity']['x'])>0xc20*0x2+0x2*0xb02+-0x2e44+0.0001||Math['abs'](this['_velocity']['y'])>-0x1d58+-0xd42*0x1+0x2a9a+0.0001){const _0x8185eb=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x8185eb['x']+=this['_velocity']['x'],_0x8185eb['y']+=this['_velocity']['y'],this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x8185eb),this['_setScroll'+'FromConten'+'tPosition'](_0x8185eb);}this['_velocity']['x']*=-0x850+-0x1afb+0xbc4*0x3-this['friction'],this['_velocity']['y']*=-0x1af*0x5+-0x1ce6*0x1+-0x12a9*-0x2-this['friction'];}}['_hasOversh'+'oot'](_0x333037,_0x2657a9){return Math['abs'](this['_toOversho'+'ot'](this['scroll'][_0x333037],_0x2657a9))>-0x521+-0x1*-0x25c0+0x1*-0x209f+0.001;}['_toOversho'+'ot'](_0x41f460,_0x4a4fa1){const _0x2db98a=this['_getMaxScr'+'ollValue'](_0x4a4fa1);return _0x41f460<0x1cc7+-0x22b1+0x5ea?_0x41f460:_0x41f460>_0x2db98a?_0x41f460-_0x2db98a:0x2280+0x1a3d+-0x3cbd;}['_setVeloci'+'tyFromOver'+'shoot'](_0x1f4b1b,_0x2f915d,_0x2b4de9){const _0xd2cc3d=this['_toOversho'+'ot'](_0x1f4b1b,_0x2b4de9)*this['_getMaxOff'+'set'](_0x2b4de9)*this['_getSign'](_0x2b4de9);Math['abs'](_0xd2cc3d)>-0x905*0x1+0x68*-0xb+0xd7d&&(this['_velocity'][_0x2f915d]=-_0xd2cc3d/(this['bounceAmou'+'nt']*(-0x3d7+-0x1*0x1e93+0x229c)+(-0x23f5+0x1*0x136f+-0x1*-0x1087)));}['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x5764ac){this['_prevConte'+'ntDragPosi'+'tion']?(this['_velocity']['sub2'](_0x5764ac,this['_prevConte'+'ntDragPosi'+'tion']),this['_prevConte'+'ntDragPosi'+'tion']['copy'](_0x5764ac)):(this['_velocity']['set'](0x2*-0xc11+-0x9+0x182b,0x14ba+-0x2*-0x11b2+-0xb*0x51a,0xee6+0x3*-0x9be+-0x20c*-0x7),this['_prevConte'+'ntDragPosi'+'tion']=_0x5764ac['clone']());}['_setScroll'+'FromConten'+'tPosition'](_0x23a9cf){let _0x1974f0=this['_contentPo'+'sitionToSc'+'rollValue'](_0x23a9cf);this['_isDraggin'+'g']()&&(_0x1974f0=this['_applyScro'+'llValueTen'+'sion'](_0x1974f0)),this['_onSetScro'+'ll'](_0x1974f0['x'],_0x1974f0['y'],!(-0x379*-0x1+-0xce*-0x5+-0x77e));}['_applyScro'+'llValueTen'+'sion'](_0x5da190){let _0x50919d=this['_getMaxScr'+'ollValue'](Ce),_0xcbaaee=this['_toOversho'+'ot'](_0x5da190['x'],Ce);return _0xcbaaee>0x161e+0xae3+-0x2101?_0x5da190['x']=_0x50919d+(-0xec2+-0x1c0a*0x1+-0x1*-0x2acd)*Math['log10'](-0x7*-0x2d0+0x338*0x8+-0x2d6f+_0xcbaaee):_0xcbaaee<0x2394+0x425+-0x27b9*0x1&&(_0x5da190['x']=-(-0x18da*-0x1+-0x2*-0xcfc+-0x32d1*0x1)*Math['log10'](0x3*-0xbe6+0x36d*0x3+0x196c-_0xcbaaee)),_0x50919d=this['_getMaxScr'+'ollValue'](je),_0xcbaaee=this['_toOversho'+'ot'](_0x5da190['y'],je),_0xcbaaee>0x29*0x26+0x13d0+0xcf3*-0x2?_0x5da190['y']=_0x50919d+(0x1141+-0x18cd+0x78d)*Math['log10'](-0x2381*-0x1+0xc2*0x1b+-0x13*0x2f2+_0xcbaaee):_0xcbaaee<-0x119f+-0xcda+0x1e79*0x1&&(_0x5da190['y']=-(0x18a8*0x1+0x59*-0x9+-0x1586)*Math['log10'](0x2*-0x656+0x1a29+0x4*-0x35f-_0xcbaaee)),_0x5da190;}['_isDraggin'+'g'](){return this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['isDragging'];}['_setScroll'+'barCompone'+'ntsEnabled'](_0x48e9d4){var _0x3d35af,_0x129675;(_0x3d35af=this['_horizonta'+'lScrollbar'+'Entity'])!=null&&_0x3d35af['scrollbar']&&(this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']['enabled']=_0x48e9d4),(_0x129675=this['_verticalS'+'crollbarEn'+'tity'])!=null&&_0x129675['scrollbar']&&(this['_verticalS'+'crollbarEn'+'tity']['scrollbar']['enabled']=_0x48e9d4);}['_setConten'+'tDraggingE'+'nabled'](_0xd1e0e3){this['_contentDr'+'agHelper']&&(this['_contentDr'+'agHelper']['enabled']=_0xd1e0e3);}['_onMouseWh'+'eel'](_0x4b8230){var _0x25b26f;if(!this['useMouseWh'+'eel']||!((_0x25b26f=this['_contentEn'+'tity'])!=null&&_0x25b26f['element']))return;const _0x41a6aa=_0x4b8230['event'],_0xec3cdc=_0x41a6aa['deltaX']/this['_contentEn'+'tity']['element']['calculated'+'Width']*this['mouseWheel'+'Sensitivit'+'y']['x'],_0x5b290a=_0x41a6aa['deltaY']/this['_contentEn'+'tity']['element']['calculated'+'Height']*this['mouseWheel'+'Sensitivit'+'y']['y'],_0x16c083=Y['clamp'](this['_scroll']['x']+_0xec3cdc,-0x1e7a+-0x18d3+0x374d,this['_getMaxScr'+'ollValue'](Ce)),_0x22972d=Y['clamp'](this['_scroll']['y']+_0x5b290a,0xb06+-0x133*-0xe+-0x14*0x164,this['_getMaxScr'+'ollValue'](je));this['scroll']=new J(_0x16c083,_0x22972d);}['_enableCon'+'tentInput'](){for(;this['_disabledC'+'ontentInpu'+'tEntities']['length'];){const _0x4df165=this['_disabledC'+'ontentInpu'+'tEntities']['pop']();_0x4df165['element']&&(_0x4df165['element']['useInput']=!(0xa1a+-0x39*0x36+0xc*0x29));}this['_disabledC'+'ontentInpu'+'t']=!(-0x1173+-0x1cb0+-0x1712*-0x2);}['_disableCo'+'ntentInput'](){const _0x35a0fb=_0x27d1f5=>{_0x27d1f5['element']&&_0x27d1f5['element']['useInput']&&(this['_disabledC'+'ontentInpu'+'tEntities']['push'](_0x27d1f5),_0x27d1f5['element']['useInput']=!(0x2dd*0x1+0xef7+-0x11d3));const _0x758e01=_0x27d1f5['children'];for(let _0x23e9ff=0x2d4*0x1+-0x142+0xc9*-0x2,_0x33d5d8=_0x758e01['length'];_0x23e9ff<_0x33d5d8;_0x23e9ff++)_0x35a0fb(_0x758e01[_0x23e9ff]);};if(this['_contentEn'+'tity']){const _0x5dd6b0=this['_contentEn'+'tity']['children'];for(let _0x19d339=0x813+0xc62+-0x1475*0x1,_0xc3c2c6=_0x5dd6b0['length'];_0x19d339<_0xc3c2c6;_0x19d339++)_0x35a0fb(_0x5dd6b0[_0x19d339]);}this['_disabledC'+'ontentInpu'+'t']=!(-0x139+0x1d29+-0x30*0x95);}['onEnable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(0x1*0x69d+0x142a+-0x3*0x8ed)),this['_setConten'+'tDraggingE'+'nabled'](!(-0x6f7*-0x1+-0xe3b*0x2+0x157f*0x1)),this['_syncAll']();}['onDisable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(0xf48+-0x1b85+-0x61f*-0x2)),this['_setConten'+'tDraggingE'+'nabled'](!(-0x260d+-0xe49+0x1*0x3457));}['onRemove'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleEle'+'mentListen'+'ers']('off'),this['_destroyDr'+'agHelper']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x53a38c,_0x1bd423){_0x53a38c['viewportEn'+'tity']&&(this['viewportEn'+'tity']=_0x1bd423[_0x53a38c['viewportEn'+'tity']['getGuid']()]),_0x53a38c['contentEnt'+'ity']&&(this['contentEnt'+'ity']=_0x1bd423[_0x53a38c['contentEnt'+'ity']['getGuid']()]),_0x53a38c['horizontal'+'ScrollbarE'+'ntity']&&(this['horizontal'+'ScrollbarE'+'ntity']=_0x1bd423[_0x53a38c['horizontal'+'ScrollbarE'+'ntity']['getGuid']()]),_0x53a38c['verticalSc'+'rollbarEnt'+'ity']&&(this['verticalSc'+'rollbarEnt'+'ity']=_0x1bd423[_0x53a38c['verticalSc'+'rollbarEnt'+'ity']['getGuid']()]);}}h(c0,'EVENT_SETS'+'CROLL','set:scroll');const sF=0xc01+0x8f6+0x1*-0x14ed;class iF{constructor(){h(this,'enabled',!(-0x19e8+-0x1046+-0x2a2e*-0x1)),h(this,'horizontal'),h(this,'vertical'),h(this,'scrollMode'),h(this,'bounceAmou'+'nt'),h(this,'friction'),h(this,'dragThresh'+'old',sF),h(this,'useMouseWh'+'eel',!(0x31*-0x4+-0x266e+-0x15a*-0x1d)),h(this,'mouseWheel'+'Sensitivit'+'y',new J(0x106b*0x1+-0x954+-0x2*0x38b,-0x1808+0x1*0xa29+0x4a0*0x3)),h(this,'horizontal'+'ScrollbarV'+'isibility',0x1*0x176f+0x1*-0x197b+0x4*0x83),h(this,'verticalSc'+'rollbarVis'+'ibility',0x1d0b+0x1807+-0x3512),h(this,'viewportEn'+'tity',null),h(this,'contentEnt'+'ity',null),h(this,'horizontal'+'ScrollbarE'+'ntity',null),h(this,'verticalSc'+'rollbarEnt'+'ity',null);}}const nS=[{'name':'enabled','type':'boolean'},{'name':'horizontal','type':'boolean'},{'name':'vertical','type':'boolean'},{'name':'scrollMode','type':'number'},{'name':'bounceAmou'+'nt','type':'number'},{'name':'friction','type':'number'},{'name':'dragThresh'+'old','type':'number'},{'name':'useMouseWh'+'eel','type':'boolean'},{'name':'mouseWheel'+'Sensitivit'+'y','type':'vec2'},{'name':'horizontal'+'ScrollbarV'+'isibility','type':'number'},{'name':'verticalSc'+'rollbarVis'+'ibility','type':'number'}],rF=0x1169+-0x2ec+0x1b*-0x89;class aF extends ct{constructor(_0x17b082){super(_0x17b082),this['id']='scrollview',this['ComponentT'+'ype']=c0,this['DataType']=iF,this['schema']=nS,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x305671,_0x3ebb1f,_0x494e11){_0x3ebb1f['dragThresh'+'old']===void(0x123*-0x9+-0x1926*-0x1+-0xeeb)&&(_0x3ebb1f['dragThresh'+'old']=rF),_0x3ebb1f['useMouseWh'+'eel']===void(0xe56+0x5c*0x37+-0x221a)&&(_0x3ebb1f['useMouseWh'+'eel']=!(0x864+-0x3b*0x6d+-0x1*-0x10bb)),_0x3ebb1f['mouseWheel'+'Sensitivit'+'y']===void(0xa*0x209+-0x460+-0xffa)&&(_0x3ebb1f['mouseWheel'+'Sensitivit'+'y']=new J(-0x1ff8+0x43*-0x3d+-0x2ff*-0x10,0x2037+0x246*0x4+-0x137*0x22)),super['initialize'+'ComponentD'+'ata'](_0x305671,_0x3ebb1f,nS),_0x305671['viewportEn'+'tity']=_0x3ebb1f['viewportEn'+'tity'],_0x305671['contentEnt'+'ity']=_0x3ebb1f['contentEnt'+'ity'],_0x305671['horizontal'+'ScrollbarE'+'ntity']=_0x3ebb1f['horizontal'+'ScrollbarE'+'ntity'],_0x305671['verticalSc'+'rollbarEnt'+'ity']=_0x3ebb1f['verticalSc'+'rollbarEnt'+'ity'];}['onUpdate'](_0x5641b4){const _0x4213cc=this['store'];for(const _0x274bbe in _0x4213cc){const _0x24041c=_0x4213cc[_0x274bbe]['entity'],_0x3c7773=_0x24041c['scrollview'];_0x3c7773['enabled']&&_0x24041c['enabled']&&_0x3c7773['onUpdate']();}}['_onRemoveC'+'omponent'](_0x559822,_0xda4aa9){_0xda4aa9['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class h0 extends we{constructor(_0x510af2,_0x1dd71e){super(_0x510af2,_0x1dd71e),h(this,'_handleEnt'+'ity',null),h(this,'_evtHandle'+'EntityElem'+'entAdd',null),h(this,'_evtHandle'+'EntityChan'+'ges',[]),this['_toggleLif'+'ecycleList'+'eners']('on');}get['data'](){const _0x1ab15e=this['system']['store'][this['entity']['getGuid']()];return _0x1ab15e?_0x1ab15e['data']:null;}set['enabled'](_0x3112f8){this['_setValue']('enabled',_0x3112f8);}get['enabled'](){return this['data']['enabled'];}set['orientatio'+'n'](_0x161a3c){this['_setValue']('orientatio'+'n',_0x161a3c);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['value'](_0x286e88){this['_setValue']('value',_0x286e88);}get['value'](){return this['data']['value'];}set['handleSize'](_0x3e8758){this['_setValue']('handleSize',_0x3e8758);}get['handleSize'](){return this['data']['handleSize'];}set['handleEnti'+'ty'](_0x58798b){if(this['_handleEnt'+'ity']===_0x58798b)return;const _0x5c8553=typeof _0x58798b=='string';this['_handleEnt'+'ity']&&_0x5c8553&&this['_handleEnt'+'ity']['getGuid']()===_0x58798b||(this['_handleEnt'+'ity']&&this['_handleEnt'+'ityUnsubsc'+'ribe'](),_0x58798b instanceof Ie?this['_handleEnt'+'ity']=_0x58798b:_0x5c8553?this['_handleEnt'+'ity']=this['system']['app']['getEntityF'+'romIndex'](_0x58798b)||null:this['_handleEnt'+'ity']=null,this['_handleEnt'+'ity']&&this['_handleEnt'+'itySubscri'+'be'](),this['_handleEnt'+'ity']?this['data']['handleEnti'+'ty']=this['_handleEnt'+'ity']['getGuid']():_0x5c8553&&_0x58798b&&(this['data']['handleEnti'+'ty']=_0x58798b));}get['handleEnti'+'ty'](){return this['_handleEnt'+'ity'];}['_setValue'](_0x4e6210,_0xef26b2){const _0x2671d7=this['data'],_0x4f6fb7=_0x2671d7[_0x4e6210];_0x2671d7[_0x4e6210]=_0xef26b2,this['fire']('set',_0x4e6210,_0x4f6fb7,_0xef26b2);}['_toggleLif'+'ecycleList'+'eners'](_0x9a01f7){this[_0x9a01f7]('set_value',this['_onSetValu'+'e'],this),this[_0x9a01f7]('set_handle'+'Size',this['_onSetHand'+'leSize'],this),this[_0x9a01f7]('set_orient'+'ation',this['_onSetOrie'+'ntation'],this);}['_handleEnt'+'itySubscri'+'be'](){this['_evtHandle'+'EntityElem'+'entAdd']=this['_handleEnt'+'ity']['on']('element:ad'+'d',this['_onHandleE'+'lementGain'],this),this['_handleEnt'+'ity']['element']&&this['_onHandleE'+'lementGain']();}['_handleEnt'+'ityUnsubsc'+'ribe'](){var _0x364669,_0x472be8;(_0x364669=this['_evtHandle'+'EntityElem'+'entAdd'])==null||_0x364669['off'](),this['_evtHandle'+'EntityElem'+'entAdd']=null,(_0x472be8=this['_handleEnt'+'ity'])!=null&&_0x472be8['element']&&this['_onHandleE'+'lementLose']();}['_handleEnt'+'ityElement'+'Subscribe'](){const _0x544c50=this['_handleEnt'+'ity']['element'],_0x2c888b=this['_evtHandle'+'EntityChan'+'ges'];_0x2c888b['push'](_0x544c50['once']('beforeremo'+'ve',this['_onHandleE'+'lementLose'],this)),_0x2c888b['push'](_0x544c50['on']('set:anchor',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x2c888b['push'](_0x544c50['on']('set:margin',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x2c888b['push'](_0x544c50['on']('set:pivot',this['_onSetHand'+'leAlignmen'+'t'],this));}['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](){for(let _0x212bd9=0x29f*-0x3+0x19f4+-0x1217;_0x212bd9<this['_evtHandle'+'EntityChan'+'ges']['length'];_0x212bd9++)this['_evtHandle'+'EntityChan'+'ges'][_0x212bd9]['off']();this['_evtHandle'+'EntityChan'+'ges']['length']=-0x17*-0xab+0x20c2+-0x301f;}['_onHandleE'+'lementGain'](){this['_handleEnt'+'ityElement'+'Subscribe'](),this['_destroyDr'+'agHelper'](),this['_handleDra'+'gHelper']=new Go(this['_handleEnt'+'ity']['element'],this['_getAxis']()),this['_handleDra'+'gHelper']['on']('drag:move',this['_onHandleD'+'rag'],this),this['_updateHan'+'dlePositio'+'nAndSize']();}['_onHandleE'+'lementLose'](){this['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](),this['_destroyDr'+'agHelper']();}['_onHandleD'+'rag'](_0x5d35bc){this['_handleEnt'+'ity']&&this['enabled']&&this['entity']['enabled']&&(this['value']=this['_handlePos'+'itionToScr'+'ollValue'](_0x5d35bc[this['_getAxis']()]));}['_onSetValu'+'e'](_0x2eb4c7,_0x4dc09e,_0x404c30){Math['abs'](_0x404c30-_0x4dc09e)>-0xf51+-0x16b8*-0x1+0x1*-0x767+0.00001&&(this['data']['value']=Y['clamp'](_0x404c30,-0x6d7+0x9*0x275+-0xf46,0x66f+0x5*0xdf+0xfb*-0xb),this['_updateHan'+'dlePositio'+'nAndSize'](),this['fire']('set:value',this['data']['value']));}['_onSetHand'+'leSize'](_0x45d0ab,_0x7a5acc,_0x537c21){Math['abs'](_0x537c21-_0x7a5acc)>0xa31*0x2+-0x251*0x3+-0xb5*0x13+0.00001&&(this['data']['handleSize']=Y['clamp'](_0x537c21,0x54*-0x49+-0x664+0x1e58,0x1*-0x2029+-0x194f+0x3979),this['_updateHan'+'dlePositio'+'nAndSize']());}['_onSetHand'+'leAlignmen'+'t'](){this['_updateHan'+'dlePositio'+'nAndSize']();}['_onSetOrie'+'ntation'](_0xe7b1c7,_0x36da15,_0x4ef309){var _0x1e6657;_0x4ef309!==_0x36da15&&((_0x1e6657=this['_handleEnt'+'ity'])!=null&&_0x1e6657['element'])&&(this['_handleEnt'+'ity']['element'][this['_getOpposi'+'teDimensio'+'n']()]=0x1dc2+0x1f02+-0x1e62*0x2);}['_updateHan'+'dlePositio'+'nAndSize'](){const _0x275014=this['_handleEnt'+'ity'],_0x26251c=_0x275014==null?void(-0x53*0x51+-0x14c5+0xbc2*0x4):_0x275014['element'];if(_0x275014){const _0x3efb0d=_0x275014['getLocalPo'+'sition']();_0x3efb0d[this['_getAxis']()]=this['_getHandle'+'Position'](),_0x275014['setLocalPo'+'sition'](_0x3efb0d);}_0x26251c&&(_0x26251c[this['_getDimens'+'ion']()]=this['_getHandle'+'Length']());}['_handlePos'+'itionToScr'+'ollValue'](_0x51e24b){return _0x51e24b*this['_getSign']()/this['_getUsable'+'TrackLengt'+'h']();}['_scrollVal'+'ueToHandle'+'Position'](_0x356c75){return _0x356c75*this['_getSign']()*this['_getUsable'+'TrackLengt'+'h']();}['_getUsable'+'TrackLengt'+'h'](){return Math['max'](this['_getTrackL'+'ength']()-this['_getHandle'+'Length'](),0x11*0x6d+0x12b*0x5+-0x1f*0x6c+0.001);}['_getTrackL'+'ength'](){return this['entity']['element']?this['orientatio'+'n']===Ce?this['entity']['element']['calculated'+'Width']:this['entity']['element']['calculated'+'Height']:-0x760+0x64+-0x6fc*-0x1;}['_getHandle'+'Length'](){return this['_getTrackL'+'ength']()*this['handleSize'];}['_getHandle'+'Position'](){return this['_scrollVal'+'ueToHandle'+'Position'](this['value']);}['_getSign'](){return this['orientatio'+'n']===Ce?-0x16*-0x13c+-0x781+-0x13a6:-(-0x4*0x893+-0x2095+0x42e2);}['_getAxis'](){return this['orientatio'+'n']===Ce?'x':'y';}['_getDimens'+'ion'](){return this['orientatio'+'n']===Ce?'width':'height';}['_getOpposi'+'teDimensio'+'n'](){return this['orientatio'+'n']===Ce?'height':'width';}['_destroyDr'+'agHelper'](){this['_handleDra'+'gHelper']&&this['_handleDra'+'gHelper']['destroy']();}['_setHandle'+'DraggingEn'+'abled'](_0x573912){this['_handleDra'+'gHelper']&&(this['_handleDra'+'gHelper']['enabled']=_0x573912);}['onEnable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0xd8b+-0x1a7a*-0x1+0x7*-0x1d9));}['onDisable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0x220c+-0x26d0+0x48dd));}['onRemove'](){this['_destroyDr'+'agHelper'](),this['_toggleLif'+'ecycleList'+'eners']('off');}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x2ecaa0,_0x16a436){_0x2ecaa0['handleEnti'+'ty']&&(this['handleEnti'+'ty']=_0x16a436[_0x2ecaa0['handleEnti'+'ty']['getGuid']()]);}}h(h0,'EVENT_SETV'+'ALUE','set:value');class nF{constructor(){h(this,'enabled',!(-0x9d2+-0x775*-0x2+0x1*-0x518)),h(this,'orientatio'+'n',Ce),h(this,'value',0x163*0x5+-0x1*0x231a+0x1c2b),h(this,'handleSize',-0x1*-0x5e7+-0x949+0x362*0x1),h(this,'handleEnti'+'ty',null);}}const oS=[{'name':'enabled','type':'boolean'},{'name':'orientatio'+'n','type':'number'},{'name':'value','type':'number'},{'name':'handleSize','type':'number'}];class oF extends ct{constructor(_0x5272fe){super(_0x5272fe),this['id']='scrollbar',this['ComponentT'+'ype']=h0,this['DataType']=nF,this['schema']=oS,this['on']('add',this['_onAddComp'+'onent'],this),this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x1e306e,_0x563abb,_0x2cd61b){super['initialize'+'ComponentD'+'ata'](_0x1e306e,_0x563abb,oS),_0x1e306e['handleEnti'+'ty']=_0x563abb['handleEnti'+'ty'];}['_onAddComp'+'onent'](_0x3ba608){_0x3ba608['fire']('scrollbar:'+'add');}['_onRemoveC'+'omponent'](_0xddef65,_0x3aef50){_0x3aef50['onRemove']();}}const lF={'volume':0x0,'pitch':0x0,'loop':!(-0x26ee+0x991*-0x2+0x3a11),'startTime':0x0,'duration':0x0,'position':new D(),'maxDistance':0x0,'refDistance':0x0,'rollOffFactor':0x0,'distanceModel':0x0,'onPlay':null,'onPause':null,'onResume':null,'onStop':null,'onEnd':null};class Gi extends me{constructor(_0x3e340b,_0x351717='Untitled',_0x44e17e={}){super(),h(this,'name'),h(this,'instances',[]),(this['_component']=_0x3e340b,this['_assets']=_0x3e340b['system']['app']['assets'],this['_manager']=_0x3e340b['system']['manager'],this['name']=_0x351717,this['_volume']=_0x44e17e['volume']!==void(0x1cb7+0x10d2*-0x1+-0xbe5)?Y['clamp'](Number(_0x44e17e['volume'])||-0x635*-0x1+0x123+-0x758*0x1,0x23e7+-0x2*-0x9e3+0x37ad*-0x1,0x26d3*-0x1+-0x19fd*0x1+0x40d1*0x1):0xeb5+0x65c+-0x1510,this['_pitch']=_0x44e17e['pitch']!==void(0x1175*0x1+0xc64+-0x1dd9)?Math['max'](-0x809+-0x1cd3+0x24dc+0.01,Number(_0x44e17e['pitch'])||-0x1e9+0x1*-0xa1f+0xc08):0x2*-0x136b+-0x29*0xc5+-0xd4*-0x55,this['_loop']=!!(_0x44e17e['loop']!==void(0xf13+0x166d*0x1+-0x12c*0x20)&&_0x44e17e['loop']),this['_duration']=_0x44e17e['duration']>-0xb90+0xc1*-0x3+0xdd3*0x1?_0x44e17e['duration']:null,this['_startTime']=Math['max'](0xce3+-0x1f52+0xd*0x16b,Number(_0x44e17e['startTime'])||-0x9*0x3f1+0xa8b+-0xc77*-0x2),this['_overlap']=!!_0x44e17e['overlap'],this['_autoPlay']=!!_0x44e17e['autoPlay'],this['_firstNode']=null,this['_lastNode']=null,this['_asset']=_0x44e17e['asset'],this['_asset']instanceof pe&&(this['_asset']=this['_asset']['id']),this['_onInstanc'+'ePlayHandl'+'er']=this['_onInstanc'+'ePlay']['bind'](this),this['_onInstanc'+'ePauseHand'+'ler']=this['_onInstanc'+'ePause']['bind'](this),this['_onInstanc'+'eResumeHan'+'dler']=this['_onInstanc'+'eResume']['bind'](this),this['_onInstanc'+'eStopHandl'+'er']=this['_onInstanc'+'eStop']['bind'](this),this['_onInstanc'+'eEndHandle'+'r']=this['_onInstanc'+'eEnd']['bind'](this));}['play'](_0x11d6e7){if(this['overlap']||this['stop'](),!this['isLoaded']&&!this['_hasAsset']()){w['warn']('Trying\x20to\x20'+'play\x20Sound'+'Slot\x20'+this['name']+('\x20but\x20it\x20is'+'\x20not\x20loade'+'d\x20and\x20does'+'n\x27t\x20have\x20a'+'n\x20asset.'));return;}let _0x3bca76=_0x11d6e7;if(_0x3bca76||(_0x3bca76=this['_createIns'+'tance'](),this['instances']['push'](_0x3bca76)),this['isLoaded'])_0x3bca76['play']();else{const _0x4f1609=function(_0x465186){const _0x4a810c=_0x3bca76['_playWhenL'+'oaded'];_0x3bca76['sound']=_0x465186,_0x4a810c&&_0x3bca76['play']();};this['off']('load',_0x4f1609),this['once']('load',_0x4f1609),this['load']();}return _0x3bca76;}['pause'](){let _0x3c5f2f=!(-0x17e0+-0x27*0x13+0x1ac6);const _0x13865d=this['instances'];for(let _0x1c8336=-0x3*-0x8dd+0x25c1+0xe8*-0x47,_0x4599a7=_0x13865d['length'];_0x1c8336<_0x4599a7;_0x1c8336++)_0x13865d[_0x1c8336]['pause']()&&(_0x3c5f2f=!(0x7*-0x109+-0x26*0xb0+0x215f));return _0x3c5f2f;}['resume'](){let _0xb5f44=!(-0x1be3+-0x17d5*0x1+0x1*0x33b9);const _0x158fd2=this['instances'];for(let _0x167f39=-0x67f+-0x10*0x125+-0x1*-0x18cf,_0x2e3ab4=_0x158fd2['length'];_0x167f39<_0x2e3ab4;_0x167f39++)_0x158fd2[_0x167f39]['resume']()&&(_0xb5f44=!(0x1afb+0x1233*0x1+-0x2d2e));return _0xb5f44;}['stop'](){let _0x2ca281=!(-0x1339+-0xda2*0x1+0x57a*0x6);const _0x505324=this['instances'];let _0x25ba0f=_0x505324['length'];for(;_0x25ba0f--;)_0x505324[_0x25ba0f]['stop'](),_0x2ca281=!(0x1e3c+-0x5*0x7f+-0x1bc1);return _0x505324['length']=0x1*-0x20b1+-0x21eb+-0x54*-0xcb,_0x2ca281;}['load'](){if(!this['_hasAsset']())return;const _0x131df9=this['_assets']['get'](this['_asset']);if(!_0x131df9){this['_assets']['off']('add:'+this['_asset'],this['_onAssetAd'+'d'],this),this['_assets']['once']('add:'+this['_asset'],this['_onAssetAd'+'d'],this);return;}if(_0x131df9['off']('remove',this['_onAssetRe'+'moved'],this),_0x131df9['on']('remove',this['_onAssetRe'+'moved'],this),!_0x131df9['resource']){_0x131df9['off']('load',this['_onAssetLo'+'ad'],this),_0x131df9['once']('load',this['_onAssetLo'+'ad'],this),this['_assets']['load'](_0x131df9);return;}this['fire']('load',_0x131df9['resource']);}['setExterna'+'lNodes'](_0x4dc83e,_0x1f3c08){if(!_0x4dc83e){console['error']('The\x20firstN'+'ode\x20must\x20h'+'ave\x20a\x20vali'+'d\x20AudioNod'+'e');return;}if(_0x1f3c08||(_0x1f3c08=_0x4dc83e),this['_firstNode']=_0x4dc83e,this['_lastNode']=_0x1f3c08,!this['_overlap']){const _0xacb7b6=this['instances'];for(let _0x49562a=-0xe*0x269+0x1fb3*-0x1+0x4171,_0x325b26=_0xacb7b6['length'];_0x49562a<_0x325b26;_0x49562a++)_0xacb7b6[_0x49562a]['setExterna'+'lNodes'](_0x4dc83e,_0x1f3c08);}}['clearExter'+'nalNodes'](){if(this['_firstNode']=null,this['_lastNode']=null,!this['_overlap']){const _0x194aed=this['instances'];for(let _0x208219=0x721*-0x2+0x1*0x1b9f+-0x1*0xd5d,_0x13b99f=_0x194aed['length'];_0x208219<_0x13b99f;_0x208219++)_0x194aed[_0x208219]['clearExter'+'nalNodes']();}}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_hasAsset'](){return this['_asset']!=null;}['_createIns'+'tance'](){let _0x338c2c=null;const _0x36e8cb=this['_component'];let _0x4aa0fa=null;if(this['_hasAsset']()){const _0x590c20=this['_assets']['get'](this['_asset']);_0x590c20&&(_0x4aa0fa=_0x590c20['resource']);}const _0x5b58f3=lF;return _0x5b58f3['volume']=this['_volume']*_0x36e8cb['volume'],_0x5b58f3['pitch']=this['_pitch']*_0x36e8cb['pitch'],_0x5b58f3['loop']=this['_loop'],_0x5b58f3['startTime']=this['_startTime'],_0x5b58f3['duration']=this['_duration'],_0x5b58f3['onPlay']=this['_onInstanc'+'ePlayHandl'+'er'],_0x5b58f3['onPause']=this['_onInstanc'+'ePauseHand'+'ler'],_0x5b58f3['onResume']=this['_onInstanc'+'eResumeHan'+'dler'],_0x5b58f3['onStop']=this['_onInstanc'+'eStopHandl'+'er'],_0x5b58f3['onEnd']=this['_onInstanc'+'eEndHandle'+'r'],_0x36e8cb['positional']?(_0x5b58f3['position']['copy'](_0x36e8cb['entity']['getPositio'+'n']()),_0x5b58f3['maxDistanc'+'e']=_0x36e8cb['maxDistanc'+'e'],_0x5b58f3['refDistanc'+'e']=_0x36e8cb['refDistanc'+'e'],_0x5b58f3['rollOffFac'+'tor']=_0x36e8cb['rollOffFac'+'tor'],_0x5b58f3['distanceMo'+'del']=_0x36e8cb['distanceMo'+'del'],_0x338c2c=new sn(this['_manager'],_0x4aa0fa,_0x5b58f3)):_0x338c2c=new As(this['_manager'],_0x4aa0fa,_0x5b58f3),this['_firstNode']&&_0x338c2c['setExterna'+'lNodes'](this['_firstNode'],this['_lastNode']),_0x338c2c;}['_onInstanc'+'ePlay'](_0x2f201d){this['fire']('play',_0x2f201d),this['_component']['fire']('play',this,_0x2f201d);}['_onInstanc'+'ePause'](_0x46db83){this['fire']('pause',_0x46db83),this['_component']['fire']('pause',this,_0x46db83);}['_onInstanc'+'eResume'](_0x1af6da){this['fire']('resume',_0x1af6da),this['_component']['fire']('resume',this,_0x1af6da);}['_onInstanc'+'eStop'](_0x5a89ec){const _0x3cefbe=this['instances']['indexOf'](_0x5a89ec);_0x3cefbe!==-(-0xa79+-0x2*-0xd7b+0x1*-0x107c)&&this['instances']['splice'](_0x3cefbe,0x745*0x1+0x1cdb+0x7*-0x529),this['fire']('stop',_0x5a89ec),this['_component']['fire']('stop',this,_0x5a89ec);}['_onInstanc'+'eEnd'](_0x563ae1){const _0x2bbbcb=this['instances']['indexOf'](_0x563ae1);_0x2bbbcb!==-(0x1b30+0x1c*-0xfa+0x29)&&this['instances']['splice'](_0x2bbbcb,0xd20+-0x2c*0xc7+0x1515),this['fire']('end',_0x563ae1),this['_component']['fire']('end',this,_0x563ae1);}['_onAssetAd'+'d'](_0x5b1a68){this['load']();}['_onAssetLo'+'ad'](_0x898c9){this['load']();}['_onAssetRe'+'moved'](_0x1916b4){_0x1916b4['off']('remove',this['_onAssetRe'+'moved'],this),this['_assets']['off']('add:'+_0x1916b4['id'],this['_onAssetAd'+'d'],this),this['stop']();}['updatePosi'+'tion'](_0xf10b1d){const _0x576465=this['instances'];for(let _0x13f9dd=-0x3*0x90e+-0x301*-0xd+-0xbe3,_0x2d62c9=_0x576465['length'];_0x13f9dd<_0x2d62c9;_0x13f9dd++)_0x576465[_0x13f9dd]['position']=_0xf10b1d;}set['asset'](_0x56408e){const _0x4ef88b=this['_asset'];if(_0x4ef88b){this['_assets']['off']('add:'+_0x4ef88b,this['_onAssetAd'+'d'],this);const _0x5d0c67=this['_assets']['get'](_0x4ef88b);_0x5d0c67&&_0x5d0c67['off']('remove',this['_onAssetRe'+'moved'],this);}this['_asset']=_0x56408e,this['_asset']instanceof pe&&(this['_asset']=this['_asset']['id']),this['_hasAsset']()&&this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['load']();}get['asset'](){return this['_asset'];}set['autoPlay'](_0x47a536){this['_autoPlay']=!!_0x47a536;}get['autoPlay'](){return this['_autoPlay'];}set['duration'](_0x4931e1){if(this['_duration']=Math['max'](-0x24b2+0xc55+0x51*0x4d,Number(_0x4931e1)||-0x1*0xa6f+-0x1e63+0x28d2)||null,!this['_overlap']){const _0x1182c2=this['instances'];for(let _0x1132c8=-0x2b*0x26+0x1a12+-0x13b*0x10,_0x54eeba=_0x1182c2['length'];_0x1132c8<_0x54eeba;_0x1132c8++)_0x1182c2[_0x1132c8]['duration']=this['_duration'];}}get['duration'](){let _0x15fef3=-0x84e*-0x2+-0x19f6+-0x7*-0x156;if(this['_hasAsset']()){const _0x3161f7=this['_assets']['get'](this['_asset']);_0x15fef3=_0x3161f7!=null&&_0x3161f7['resource']?_0x3161f7['resource']['duration']:-0x1d72+-0x9d6+0x2748;}return this['_duration']!=null?this['_duration']%(_0x15fef3||0x144b+0x1576*0x1+-0x29c0):_0x15fef3;}get['isLoaded'](){if(this['_hasAsset']()){const _0x2dcc8a=this['_assets']['get'](this['_asset']);if(_0x2dcc8a)return!!_0x2dcc8a['resource'];}return!(-0x9e*-0x1f+0x14ea+-0x43*0x99);}get['isPaused'](){const _0xc3174d=this['instances'],_0x391ec2=_0xc3174d['length'];if(_0x391ec2===0x1c3e+-0xb*-0x1a2+0x2e34*-0x1)return!(-0x42d+-0xb47*-0x2+-0xc*0x188);for(let _0xe26e04=-0x1df5+0x85*0x1d+0xee4;_0xe26e04<_0x391ec2;_0xe26e04++)if(!_0xc3174d[_0xe26e04]['isPaused'])return!(0x1610+-0x1259+-0x3b6);return!(-0x3*0x41f+-0x11f4+0x1e51);}get['isPlaying'](){const _0x5343b4=this['instances'];for(let _0x225474=-0xa2*0x21+-0x265+0x1747,_0x42adab=_0x5343b4['length'];_0x225474<_0x42adab;_0x225474++)if(_0x5343b4[_0x225474]['isPlaying'])return!(0x900+-0x8a5+0xd*-0x7);return!(0x101*0x10+-0x1d42+0xd33);}get['isStopped'](){const _0x457a58=this['instances'];for(let _0x5db40e=-0x149d+0x523+-0x7*-0x236,_0x511ec7=_0x457a58['length'];_0x5db40e<_0x511ec7;_0x5db40e++)if(!_0x457a58[_0x5db40e]['isStopped'])return!(0x885*-0x2+-0x12c3+0x23ce);return!(0x356*-0x1+0xcd*0x28+-0x1*0x1cb2);}set['loop'](_0x2c368e){this['_loop']=!!_0x2c368e;const _0x5caaf3=this['instances'];for(let _0x4972d3=-0x22a*0x1+0x5*-0x465+0x1823,_0x5c0f98=_0x5caaf3['length'];_0x4972d3<_0x5c0f98;_0x4972d3++)_0x5caaf3[_0x4972d3]['loop']=this['_loop'];}get['loop'](){return this['_loop'];}set['overlap'](_0x347a39){this['_overlap']=!!_0x347a39;}get['overlap'](){return this['_overlap'];}set['pitch'](_0x23d432){if(this['_pitch']=Math['max'](Number(_0x23d432)||-0x18d4+0x1*-0x49+-0x3*-0x85f,-0xe7+0xcb0+0x7*-0x1af+0.01),!this['_overlap']){const _0x2919e4=this['instances'];for(let _0x1cf771=-0x1a03+-0x1*-0x203+-0x100*-0x18,_0x1afc6b=_0x2919e4['length'];_0x1cf771<_0x1afc6b;_0x1cf771++)_0x2919e4[_0x1cf771]['pitch']=this['pitch']*this['_component']['pitch'];}}get['pitch'](){return this['_pitch'];}set['startTime'](_0x39971b){if(this['_startTime']=Math['max'](0x5*0xa3+0x4*0x6ec+0x1*-0x1edf,Number(_0x39971b)||0x12d7+-0xa*0x68+-0x4ed*0x3),!this['_overlap']){const _0x5e7f6d=this['instances'];for(let _0xba8ee3=-0x20e1+0x26ee+-0x60d,_0x2aedcc=_0x5e7f6d['length'];_0xba8ee3<_0x2aedcc;_0xba8ee3++)_0x5e7f6d[_0xba8ee3]['startTime']=this['_startTime'];}}get['startTime'](){return this['_startTime'];}set['volume'](_0x333b0c){if(this['_volume']=Y['clamp'](Number(_0x333b0c)||0xd00+-0xcd3*0x1+-0x2d,0x29f*-0x7+0x21c4*-0x1+0x1*0x341d,0xc5*-0x11+0x7af*0x5+-0x1955),!this['_overlap']){const _0x45c711=this['instances'];for(let _0x6bd356=-0xe2e+-0x186*0x1+0x3ed*0x4,_0x7f901e=_0x45c711['length'];_0x6bd356<_0x7f901e;_0x6bd356++)_0x45c711[_0x6bd356]['volume']=this['_volume']*this['_component']['volume'];}}get['volume'](){return this['_volume'];}}h(Gi,'EVENT_PLAY','play'),h(Gi,'EVENT_PAUS'+'E','pause'),h(Gi,'EVENT_RESU'+'ME','resume'),h(Gi,'EVENT_STOP','stop'),h(Gi,'EVENT_END','end'),h(Gi,'EVENT_LOAD','load');class Kr extends we{constructor(){super(...arguments),h(this,'_volume',0xb9a+0x2*-0xf25+0x12b1),h(this,'_pitch',-0x45*-0x2a+-0x1823+0xcd2),h(this,'_positiona'+'l',!(0x10d2+0x91*-0xd+0x975*-0x1)),h(this,'_refDistan'+'ce',0x153a+-0x432*0x6+-0x151*-0x3),h(this,'_maxDistan'+'ce',-0x98*-0x76+0xedc+-0x2ddc),h(this,'_rollOffFa'+'ctor',-0x3f5+0x185*-0x7+0xe99),h(this,'_distanceM'+'odel',Vp),h(this,'_slots',{}),h(this,'_playingBe'+'foreDisabl'+'e',{});}['_updateSou'+'ndInstance'+'s'](_0x3e0f09,_0x80d162,_0x1418b0){const _0x1ac724=this['_slots'];for(const _0x52f992 in _0x1ac724){const _0x208cfe=_0x1ac724[_0x52f992];if(!_0x208cfe['overlap']){const _0x23dbb1=_0x208cfe['instances'];for(let _0xf2b78c=0x55d*0x1+-0x129d*-0x2+-0x2a97,_0x4c14cc=_0x23dbb1['length'];_0xf2b78c<_0x4c14cc;_0xf2b78c++)_0x23dbb1[_0xf2b78c][_0x3e0f09]=_0x1418b0?_0x208cfe[_0x3e0f09]*_0x80d162:_0x80d162;}}}set['distanceMo'+'del'](_0x1b7654){this['_distanceM'+'odel']=_0x1b7654,this['_updateSou'+'ndInstance'+'s']('distanceMo'+'del',_0x1b7654,!(-0x320+0x862+-0x541));}get['distanceMo'+'del'](){return this['_distanceM'+'odel'];}set['maxDistanc'+'e'](_0x58b7f1){this['_maxDistan'+'ce']=_0x58b7f1,this['_updateSou'+'ndInstance'+'s']('maxDistanc'+'e',_0x58b7f1,!(-0x553*0x3+0x2*0xca1+-0x948));}get['maxDistanc'+'e'](){return this['_maxDistan'+'ce'];}set['refDistanc'+'e'](_0x3fad17){this['_refDistan'+'ce']=_0x3fad17,this['_updateSou'+'ndInstance'+'s']('refDistanc'+'e',_0x3fad17,!(0x1ed6*-0x1+0x1*-0x1ebb+-0x1*-0x3d92));}get['refDistanc'+'e'](){return this['_refDistan'+'ce'];}set['rollOffFac'+'tor'](_0x53b809){this['_rollOffFa'+'ctor']=_0x53b809,this['_updateSou'+'ndInstance'+'s']('rollOffFac'+'tor',_0x53b809,!(-0x1*0x1d09+-0x26b4*-0x1+0x2*-0x4d5));}get['rollOffFac'+'tor'](){return this['_rollOffFa'+'ctor'];}set['pitch'](_0x8f023c){this['_pitch']=_0x8f023c,this['_updateSou'+'ndInstance'+'s']('pitch',_0x8f023c,!(0x234a+-0x203c+-0x30e));}get['pitch'](){return this['_pitch'];}set['volume'](_0x2c0bde){this['_volume']=_0x2c0bde,this['_updateSou'+'ndInstance'+'s']('volume',_0x2c0bde,!(0x35*0x17+0x1*0x21c1+-0x44*0x91));}get['volume'](){return this['_volume'];}set['positional'](_0x4fb550){this['_positiona'+'l']=_0x4fb550;const _0x336d3b=this['_slots'];for(const _0x5b7e65 in _0x336d3b){const _0xf00359=_0x336d3b[_0x5b7e65];if(!_0xf00359['overlap']){const _0x1c1de0=_0xf00359['instances'],_0x5c610d=_0x1c1de0['length'];for(let _0x36c857=_0x5c610d-(-0x130*0x15+-0x1*0x1cd+0x1abe);_0x36c857>=-0x322*-0x1+-0x30*-0x7+-0x472;_0x36c857--){const _0x3ac611=_0x1c1de0[_0x36c857]['isPlaying']||_0x1c1de0[_0x36c857]['isSuspende'+'d'],_0x3fa26b=_0x1c1de0[_0x36c857]['currentTim'+'e'];_0x3ac611&&_0x1c1de0[_0x36c857]['stop']();const _0x6f4fba=_0xf00359['_createIns'+'tance']();_0x3ac611&&(_0x6f4fba['play'](),_0x6f4fba['currentTim'+'e']=_0x3fa26b),_0x1c1de0['push'](_0x6f4fba);}}}}get['positional'](){return this['_positiona'+'l'];}set['slots'](_0x273cad){const _0x142ebb=this['_slots'];if(_0x142ebb){for(const _0x5964a5 in _0x142ebb)_0x142ebb[_0x5964a5]['stop']();}const _0x340e25={};for(const _0x45e5ce in _0x273cad)_0x273cad[_0x45e5ce]instanceof Gi?_0x340e25[_0x273cad[_0x45e5ce]['name']]=_0x273cad[_0x45e5ce]:_0x273cad[_0x45e5ce]['name']&&(_0x340e25[_0x273cad[_0x45e5ce]['name']]=new Gi(this,_0x273cad[_0x45e5ce]['name'],_0x273cad[_0x45e5ce]));this['_slots']=_0x340e25,this['enabled']&&this['entity']['enabled']&&this['onEnable']();}get['slots'](){return this['_slots'];}['onEnable'](){if(this['system']['_inTools'])return;const _0x5afce0=this['_slots'],_0x49bfed=this['_playingBe'+'foreDisabl'+'e'];for(const _0x30603b in _0x5afce0){const _0x2d4cd2=_0x5afce0[_0x30603b];_0x2d4cd2['autoPlay']&&_0x2d4cd2['isStopped']?_0x2d4cd2['play']():_0x49bfed[_0x30603b]?_0x2d4cd2['resume']():_0x2d4cd2['isLoaded']||_0x2d4cd2['load']();}}['onDisable'](){const _0x24439f=this['_slots'],_0x52394f={};for(const _0x422621 in _0x24439f)_0x24439f[_0x422621]['overlap']||_0x24439f[_0x422621]['isPlaying']&&(_0x24439f[_0x422621]['pause'](),_0x52394f[_0x422621]=!(0x1e97*-0x1+0x63e+-0x10f*-0x17));this['_playingBe'+'foreDisabl'+'e']=_0x52394f;}['onRemove'](){this['off']();}['addSlot'](_0x486250,_0x2ad178){const _0x5c359b=this['_slots'];if(_0x5c359b[_0x486250])return w['warn']('A\x20sound\x20sl'+'ot\x20with\x20na'+'me\x20'+_0x486250+('\x20already\x20e'+'xists\x20on\x20E'+'ntity\x20')+this['entity']['path']),null;const _0x37b639=new Gi(this,_0x486250,_0x2ad178);return _0x5c359b[_0x486250]=_0x37b639,_0x37b639['autoPlay']&&this['enabled']&&this['entity']['enabled']&&_0x37b639['play'](),_0x37b639;}['removeSlot'](_0x2abe12){const _0x262bdb=this['_slots'];_0x262bdb[_0x2abe12]&&(_0x262bdb[_0x2abe12]['stop'](),delete _0x262bdb[_0x2abe12]);}['slot'](_0x5a8709){return this['_slots'][_0x5a8709];}['_getSlotPr'+'operty'](_0x46c3bc,_0x4ef8c2){if(!this['enabled']||!this['entity']['enabled'])return;const _0x4bc802=this['_slots'][_0x46c3bc];if(!_0x4bc802){w['warn']('Trying\x20to\x20'+'get\x20'+_0x4ef8c2+('\x20from\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20')+_0x46c3bc+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}return _0x4bc802[_0x4ef8c2];}['isPlaying'](_0x54f8cd){return this['_getSlotPr'+'operty'](_0x54f8cd,'isPlaying')||!(0x576*-0x6+-0x242*0x1+-0x1*-0x2307);}['isLoaded'](_0x303ca9){return this['_getSlotPr'+'operty'](_0x303ca9,'isLoaded')||!(-0x1*-0x9e+-0x1923+0x1886);}['isPaused'](_0x206745){return this['_getSlotPr'+'operty'](_0x206745,'isPaused')||!(-0x1*-0x16d7+0x2685+0x1*-0x3d5b);}['isStopped'](_0x45cdcf){return this['_getSlotPr'+'operty'](_0x45cdcf,'isStopped')||!(-0xebf+-0xf1b+0x1ddb);}['play'](_0x1b6e17){if(!this['enabled']||!this['entity']['enabled'])return null;const _0xa20973=this['_slots'][_0x1b6e17];return _0xa20973?_0xa20973['play']():(w['warn']('Trying\x20to\x20'+'play\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x1b6e17+('\x20which\x20doe'+'s\x20not\x20exis'+'t')),null);}['pause'](_0x39190b){const _0x2adadf=this['_slots'];if(_0x39190b){const _0x384475=_0x2adadf[_0x39190b];if(!_0x384475){w['warn']('Trying\x20to\x20'+'pause\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20'+_0x39190b+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x384475['pause']();}else{for(const _0x367970 in _0x2adadf)_0x2adadf[_0x367970]['pause']();}}['resume'](_0x488ce7){const _0x327b66=this['_slots'];if(_0x488ce7){const _0xc75111=_0x327b66[_0x488ce7];if(!_0xc75111){w['warn']('Trying\x20to\x20'+'resume\x20sou'+'nd\x20slot\x20wi'+'th\x20name\x20'+_0x488ce7+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0xc75111['isPaused']&&_0xc75111['resume']();}else{for(const _0x24d298 in _0x327b66)_0x327b66[_0x24d298]['resume']();}}['stop'](_0x12eb1b){const _0x57411f=this['_slots'];if(_0x12eb1b){const _0x69c1e2=_0x57411f[_0x12eb1b];if(!_0x69c1e2){w['warn']('Trying\x20to\x20'+'stop\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x12eb1b+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x69c1e2['stop']();}else{for(const _0xabe99d in _0x57411f)_0x57411f[_0xabe99d]['stop']();}}}h(Kr,'EVENT_PLAY','play'),h(Kr,'EVENT_PAUS'+'E','pause'),h(Kr,'EVENT_RESU'+'ME','resume'),h(Kr,'EVENT_STOP','stop'),h(Kr,'EVENT_END','end');class cF{constructor(){this['enabled']=!(0x9bc+0x1*-0x2296+-0x1*-0x18da);}}const d0=['enabled'];class hF extends ct{constructor(_0x2a476e){super(_0x2a476e),this['id']='sound',this['ComponentT'+'ype']=Kr,this['DataType']=cF,this['schema']=d0,this['manager']=_0x2a476e['soundManag'+'er'],w['assert'](this['manager'],'SoundCompo'+'nentSystem'+'\x20cannot\x20be'+'\x20created\x20w'+'ithout\x20sou'+'nd\x20manager'),this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['volume'](_0x81ec23){this['manager']['volume']=_0x81ec23;}get['volume'](){return this['manager']['volume'];}get['context'](){return Dl()?this['manager']['context']:(w['warn']('WARNING:\x20A'+'udio\x20conte'+'xt\x20is\x20not\x20'+'supported\x20'+'on\x20this\x20br'+'owser'),null);}['initialize'+'ComponentD'+'ata'](_0x31e297,_0x3250fc,_0x48c4cb){_0x48c4cb=['volume','pitch','positional','refDistanc'+'e','maxDistanc'+'e','rollOffFac'+'tor','distanceMo'+'del','slots'];for(let _0x34d609=-0xbad*0x1+-0x2235+0x2de2;_0x34d609<_0x48c4cb['length'];_0x34d609++)_0x3250fc['hasOwnProp'+'erty'](_0x48c4cb[_0x34d609])&&(_0x31e297[_0x48c4cb[_0x34d609]]=_0x3250fc[_0x48c4cb[_0x34d609]]);super['initialize'+'ComponentD'+'ata'](_0x31e297,_0x3250fc,['enabled']);}['cloneCompo'+'nent'](_0x1eafeb,_0x258b29){const _0x4259b6=_0x1eafeb['sound'],_0x31ee4e=_0x4259b6['slots'],_0x3336e7={};for(const _0x127322 in _0x31ee4e){const _0x14f55c=_0x31ee4e[_0x127322];_0x3336e7[_0x127322]={'name':_0x14f55c['name'],'volume':_0x14f55c['volume'],'pitch':_0x14f55c['pitch'],'loop':_0x14f55c['loop'],'duration':_0x14f55c['duration'],'startTime':_0x14f55c['startTime'],'overlap':_0x14f55c['overlap'],'autoPlay':_0x14f55c['autoPlay'],'asset':_0x14f55c['asset']};}const _0x4dc6e8={'distanceModel':_0x4259b6['distanceMo'+'del'],'enabled':_0x4259b6['enabled'],'maxDistance':_0x4259b6['maxDistanc'+'e'],'pitch':_0x4259b6['pitch'],'positional':_0x4259b6['positional'],'refDistance':_0x4259b6['refDistanc'+'e'],'rollOffFactor':_0x4259b6['rollOffFac'+'tor'],'slots':_0x3336e7,'volume':_0x4259b6['volume']};return this['addCompone'+'nt'](_0x258b29,_0x4dc6e8);}['onUpdate'](_0x130d6f){const _0x26ea3a=this['store'];for(const _0x3f62bc in _0x26ea3a)if(_0x26ea3a['hasOwnProp'+'erty'](_0x3f62bc)){const _0x152a7f=_0x26ea3a[_0x3f62bc]['entity'];if(_0x152a7f['enabled']){const _0x25b523=_0x152a7f['sound'];if(_0x25b523['enabled']&&_0x25b523['positional']){const _0x81f675=_0x152a7f['getPositio'+'n'](),_0x40b654=_0x25b523['slots'];for(const _0xccb64f in _0x40b654)_0x40b654[_0xccb64f]['updatePosi'+'tion'](_0x81f675);}}}}['onBeforeRe'+'move'](_0x491d58,_0x27f147){const _0x405a26=_0x27f147['slots'];for(const _0x547a48 in _0x405a26)_0x405a26[_0x547a48]['overlap']||_0x405a26[_0x547a48]['stop']();_0x27f147['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Kr['prototype'],d0);const lS='simple',cS='animated';class Hi extends me{constructor(_0x35bbf2,_0x5a3f0d){super(),h(this,'_evtSetMes'+'hes',null),(this['_component']=_0x35bbf2,this['_frame']=0x1*-0x666+0x1dea+-0x1784,this['_sprite']=null,this['_spriteAss'+'et']=null,this['spriteAsse'+'t']=_0x5a3f0d['spriteAsse'+'t'],this['name']=_0x5a3f0d['name'],this['fps']=_0x5a3f0d['fps']||-0x1069+0x12a3+-0x11d*0x2,this['loop']=_0x5a3f0d['loop']||!(-0x2*-0x1307+-0x1*0x1ded+-0x820),this['_playing']=!(-0x1a*-0xc7+0x656+0x1c5*-0xf),this['_paused']=!(0x1*-0x1fee+-0x1c4b*0x1+0x3c3a),this['_time']=0x1e21+-0x12d+-0x1cf4);}get['duration'](){if(this['_sprite']){const _0xa9d64c=this['fps']||Number['MIN_VALUE'];return this['_sprite']['frameKeys']['length']/Math['abs'](_0xa9d64c);}return-0x267b+-0x1*0x2386+0x4a01;}set['frame'](_0x4e656a){this['_setFrame'](_0x4e656a);const _0x429d1a=this['fps']||Number['MIN_VALUE'];this['_setTime'](this['_frame']/_0x429d1a);}get['frame'](){return this['_frame'];}get['isPaused'](){return this['_paused'];}get['isPlaying'](){return this['_playing'];}set['sprite'](_0x213da7){var _0x1fc7c8;if(this['_sprite']&&((_0x1fc7c8=this['_evtSetMes'+'hes'])==null||_0x1fc7c8['off'](),this['_evtSetMes'+'hes']=null,this['_sprite']['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['off']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['off']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_sprite']=_0x213da7,this['_sprite']&&(this['_evtSetMes'+'hes']=this['_sprite']['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['on']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['on']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_component']['currentCli'+'p']===this){let _0xedf301;!_0x213da7||!_0x213da7['atlas']?(_0xedf301=this['_component']['_meshInsta'+'nce'],_0xedf301&&(_0xedf301['deletePara'+'meter']('texture_em'+'issiveMap'),_0xedf301['deletePara'+'meter']('texture_op'+'acityMap')),this['_component']['_hideModel']()):(_0x213da7['atlas']['texture']&&(_0xedf301=this['_component']['_meshInsta'+'nce'],_0xedf301&&(_0xedf301['setParamet'+'er']('texture_em'+'issiveMap',_0x213da7['atlas']['texture']),_0xedf301['setParamet'+'er']('texture_op'+'acityMap',_0x213da7['atlas']['texture'])),this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['_component']['_showModel']()),this['time']&&this['fps']?this['time']=this['time']:this['frame']=this['frame']);}}get['sprite'](){return this['_sprite'];}set['spriteAsse'+'t'](_0x24420e){const _0x269754=this['_component']['system']['app']['assets'];let _0x1ac723=_0x24420e;if(_0x24420e instanceof pe&&(_0x1ac723=_0x24420e['id']),this['_spriteAss'+'et']!==_0x1ac723){if(this['_spriteAss'+'et']){const _0x27cc0a=_0x269754['get'](this['_spriteAss'+'et']);_0x27cc0a&&this['_unbindSpr'+'iteAsset'](_0x27cc0a);}if(this['_spriteAss'+'et']=_0x1ac723,this['_spriteAss'+'et']){const _0x29dbfa=_0x269754['get'](this['_spriteAss'+'et']);_0x29dbfa?this['_bindSprit'+'eAsset'](_0x29dbfa):(this['sprite']=null,_0x269754['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['time'](_0x2dcf07){this['_setTime'](_0x2dcf07),this['_sprite']?this['frame']=Math['min'](this['_sprite']['frameKeys']['length']-(-0x1*-0x58f+0x1*-0x229f+0x1d11),Math['floor'](this['_time']*Math['abs'](this['fps']))):this['frame']=0x65*0xb+0x2265+-0x25*0x10c;}get['time'](){return this['_time'];}['_onSpriteA'+'ssetAdded'](_0x4c539d){this['_component']['system']['app']['assets']['off']('add:'+_0x4c539d['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x4c539d['id']&&this['_bindSprit'+'eAsset'](_0x4c539d);}['_bindSprit'+'eAsset'](_0x2d08f8){_0x2d08f8['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x2d08f8['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x2d08f8['resource']?this['_onSpriteA'+'ssetLoad'](_0x2d08f8):this['_component']['system']['app']['assets']['load'](_0x2d08f8);}['_unbindSpr'+'iteAsset'](_0x55e53b){_0x55e53b&&(_0x55e53b['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x55e53b['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x55e53b['resource']&&!_0x55e53b['resource']['atlas']&&this['_component']['system']['app']['assets']['off']('load:'+_0x55e53b['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this));}['_onSpriteA'+'ssetLoad'](_0x41fca9){if(!_0x41fca9['resource'])this['sprite']=null;else{if(_0x41fca9['resource']['atlas'])this['sprite']=_0x41fca9['resource'];else{const _0x4cdae9=_0x41fca9['data']['textureAtl'+'asAsset'],_0x576190=this['_component']['system']['app']['assets'];_0x576190['off']('load:'+_0x4cdae9,this['_onTexture'+'AtlasLoad'],this),_0x576190['once']('load:'+_0x4cdae9,this['_onTexture'+'AtlasLoad'],this);}}}['_onTexture'+'AtlasLoad'](_0x55547a){const _0x4f7cc2=this['_spriteAss'+'et'];_0x4f7cc2 instanceof pe?this['_onSpriteA'+'ssetLoad'](_0x4f7cc2):this['_onSpriteA'+'ssetLoad'](this['_component']['system']['app']['assets']['get'](_0x4f7cc2));}['_onSpriteA'+'ssetRemove'](_0x119d2e){this['sprite']=null;}['_onSpriteM'+'eshesChang'+'e'](){this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['frame']);}['_onSpriteP'+'puChanged'](){this['_component']['currentCli'+'p']===this&&this['sprite']['renderMode']!==ci&&this['_component']['_showFrame'](this['frame']);}['_update'](_0x242329){if(this['fps']===0x1251+-0xff9+-0x258||!this['_playing']||this['_paused']||!this['_sprite'])return;const _0x57dbe3=this['fps']<-0x60*0x3e+-0x1f0e*-0x1+-0x7ce?-(0x146*-0x6+-0x1ca8+0x244d):0x1515+-0x21da+0xcc6,_0xeee3dc=this['_time']+_0x242329*this['_component']['speed']*_0x57dbe3,_0x45e639=this['duration'],_0x3c0e21=_0xeee3dc>_0x45e639||_0xeee3dc<0x1*-0xe6b+-0x1a0d+0x2878;this['_setTime'](_0xeee3dc);let _0x434501=this['frame'];this['_sprite']?_0x434501=Math['floor'](this['_sprite']['frameKeys']['length']*this['_time']/_0x45e639):_0x434501=0x7*-0x1bf+0x180d+-0x1*0xbd4,_0x434501!==this['_frame']&&this['_setFrame'](_0x434501),_0x3c0e21&&(this['loop']?(this['fire']('loop'),this['_component']['fire']('loop',this)):(this['_playing']=!(0x1*0x11ec+-0x1671+0x486),this['_paused']=!(-0x132a+0x31*0xb5+-0xf7a),this['fire']('end'),this['_component']['fire']('end',this)));}['_setTime'](_0x4fb2fa){this['_time']=_0x4fb2fa;const _0x3af5b2=this['duration'];this['_time']<-0x208b*-0x1+0xfa7*0x1+0x1819*-0x2?this['loop']?this['_time']=this['_time']%_0x3af5b2+_0x3af5b2:this['_time']=-0x3c0+-0x1*0x26e9+0x2aa9:this['_time']>_0x3af5b2&&(this['loop']?this['_time']%=_0x3af5b2:this['_time']=_0x3af5b2);}['_setFrame'](_0x45bb3b){this['_sprite']?this['_frame']=Y['clamp'](_0x45bb3b,-0x1bb1+0xc2*0x20+0x371*0x1,this['_sprite']['frameKeys']['length']-(-0x1b58+-0x4*-0x5dd+0x3e5)):this['_frame']=_0x45bb3b,this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['_frame']);}['_destroy'](){if(this['_spriteAss'+'et']){const _0x3ed9c2=this['_component']['system']['app']['assets'];this['_unbindSpr'+'iteAsset'](_0x3ed9c2['get'](this['_spriteAss'+'et']));}this['_sprite']&&(this['sprite']=null),this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null);}['play'](){this['_playing']||(this['_playing']=!(-0x1*-0x26dc+0xb11+-0x31ed),this['_paused']=!(0x2539+-0x1*0xdd+-0x245b),this['frame']=-0x47*-0x13+0x1d6c+-0x22b1,this['fire']('play'),this['_component']['fire']('play',this));}['pause'](){!this['_playing']||this['_paused']||(this['_paused']=!(-0x10f4+0x28c+0xe68),this['fire']('pause'),this['_component']['fire']('pause',this));}['resume'](){this['_paused']&&(this['_paused']=!(-0x14b5+-0x1e7*-0x13+-0xf6f),this['fire']('resume'),this['_component']['fire']('resume',this));}['stop'](){this['_playing']&&(this['_playing']=!(-0x11ad+0x22e8+-0x113a),this['_paused']=!(-0x2e3*-0x7+-0x2044+0xc10),this['_time']=0xa60+0x1694+-0x20f4,this['frame']=0x84*0x1+0x1d69+-0x1ded,this['fire']('stop'),this['_component']['fire']('stop',this));}}h(Hi,'EVENT_PLAY','play'),h(Hi,'EVENT_PAUS'+'E','pause'),h(Hi,'EVENT_RESU'+'ME','resume'),h(Hi,'EVENT_STOP','stop'),h(Hi,'EVENT_END','end'),h(Hi,'EVENT_LOOP','loop');const hS='texture_em'+'issiveMap',dS='texture_op'+'acityMap',fS='material_e'+'missive',uS='material_o'+'pacity',dF='innerOffse'+'t',fF='outerScale',uF='atlasRect';class ur extends we{constructor(_0x3c5ce5,_0x4826b0){super(_0x3c5ce5,_0x4826b0),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_type']=lS,this['_material']=_0x3c5ce5['defaultMat'+'erial'],this['_color']=new ie(0x2*0xa65+0xd3e+-0x2207,0x16e+-0xff9+0x1c*0x85,0x1f6+0x8*0x452+-0x2485,-0x3f*-0x12+-0xbf3+-0x12*-0x6b),this['_colorUnif'+'orm']=new Float32Array(-0x47c+-0x3a9*-0x2+-0x2d3),this['_speed']=-0x1412+-0x55c*0x6+0x1*0x343b,this['_flipX']=!(-0x1*0x1601+-0x20bc+0x36be),this['_flipY']=!(0x4*0x268+-0x190b+0xf6c),this['_width']=0x20b*-0x6+-0x1*-0x201d+-0x13da,this['_height']=0x1a3+0x61*0x65+-0x7fb*0x5,this['_drawOrder']=0xb9a+-0x1a26+0xe8c,this['_layers']=[er],this['_outerScal'+'e']=new J(0x4cd*0x4+-0x195e*-0x1+-0x2c91,0x1c9*0x4+-0x103f+0x91c),this['_outerScal'+'eUniform']=new Float32Array(0x1b0*0x8+0x1973+0x26f1*-0x1),this['_innerOffs'+'et']=new re(),this['_innerOffs'+'etUniform']=new Float32Array(0x1633+-0x12*-0x15d+-0x2eb9),this['_atlasRect']=new re(),this['_atlasRect'+'Uniform']=new Float32Array(0x5*-0x701+0x1168+0x11a1),this['_batchGrou'+'pId']=-(-0x2dd*-0x1+0x2ef*-0x5+0xbcf*0x1),this['_batchGrou'+'p']=null,this['_node']=new Ie(),this['_model']=new sr(),this['_model']['graph']=this['_node'],this['_meshInsta'+'nce']=null,_0x4826b0['addChild'](this['_model']['graph']),this['_model']['_entity']=_0x4826b0,this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_addedMode'+'l']=!(0x1304+-0x15cd*-0x1+-0x28d*0x10),this['_autoPlayC'+'lip']=null,this['_clips']={},this['_defaultCl'+'ip']=new Hi(this,{'name':this['entity']['name'],'fps':0x0,'loop':!(0xcc7+-0x10ca+-0x1*-0x404),'spriteAsset':null}),this['_currentCl'+'ip']=this['_defaultCl'+'ip']);}set['type'](_0xa2b07){this['_type']!==_0xa2b07&&(this['_type']=_0xa2b07,this['_type']===lS?(this['stop'](),this['_currentCl'+'ip']=this['_defaultCl'+'ip'],this['enabled']&&this['entity']['enabled']&&(this['_currentCl'+'ip']['frame']=this['frame'],this['_currentCl'+'ip']['sprite']?this['_showModel']():this['_hideModel']())):this['_type']===cS&&(this['stop'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_currentCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['enabled']&&this['entity']['enabled']?this['_showModel']():this['_hideModel']()));}get['type'](){return this['_type'];}set['frame'](_0x459de2){this['_currentCl'+'ip']['frame']=_0x459de2;}get['frame'](){return this['_currentCl'+'ip']['frame'];}set['spriteAsse'+'t'](_0x10aaf3){this['_defaultCl'+'ip']['spriteAsse'+'t']=_0x10aaf3;}get['spriteAsse'+'t'](){return this['_defaultCl'+'ip']['_spriteAss'+'et'];}set['sprite'](_0x1b402c){this['_currentCl'+'ip']['sprite']=_0x1b402c;}get['sprite'](){return this['_currentCl'+'ip']['sprite'];}set['material'](_0x52b6c2){this['_material']=_0x52b6c2,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=_0x52b6c2);}get['material'](){return this['_material'];}set['color'](_0x284015){this['_color']['r']=_0x284015['r'],this['_color']['g']=_0x284015['g'],this['_color']['b']=_0x284015['b'],this['_meshInsta'+'nce']&&(this['_colorUnif'+'orm'][0x1c38+-0x21cb+0x593]=this['_color']['r'],this['_colorUnif'+'orm'][-0x25e1*-0x1+0x1236+0x2*-0x1c0b]=this['_color']['g'],this['_colorUnif'+'orm'][0x147f+0x56b+-0x19e8]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](fS,this['_colorUnif'+'orm']));}get['color'](){return this['_color'];}set['opacity'](_0x66228d){this['_color']['a']=_0x66228d,this['_meshInsta'+'nce']&&this['_meshInsta'+'nce']['setParamet'+'er'](uS,_0x66228d);}get['opacity'](){return this['_color']['a'];}set['clips'](_0x5d0777){if(!_0x5d0777){for(const _0x372814 in this['_clips'])this['removeClip'](_0x372814);return;}for(const _0x4f11a5 in this['_clips']){let _0x2e4ba3=!(0x83a+0x1c*-0xad+0x53*0x21);for(const _0x436643 in _0x5d0777)if(_0x5d0777[_0x436643]['name']===_0x4f11a5){_0x2e4ba3=!(-0x1549*0x1+-0x15*-0x1da+-0x11*0x109),this['_clips'][_0x4f11a5]['fps']=_0x5d0777[_0x436643]['fps'],this['_clips'][_0x4f11a5]['loop']=_0x5d0777[_0x436643]['loop'],_0x5d0777[_0x436643]['hasOwnProp'+'erty']('sprite')?this['_clips'][_0x4f11a5]['sprite']=_0x5d0777[_0x436643]['sprite']:_0x5d0777[_0x436643]['hasOwnProp'+'erty']('spriteAsse'+'t')&&(this['_clips'][_0x4f11a5]['spriteAsse'+'t']=_0x5d0777[_0x436643]['spriteAsse'+'t']);break;}_0x2e4ba3||this['removeClip'](_0x4f11a5);}for(const _0x3731f in _0x5d0777)this['_clips'][_0x5d0777[_0x3731f]['name']]||this['addClip'](_0x5d0777[_0x3731f]);this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['sprite'])&&this['_hideModel']();}get['clips'](){return this['_clips'];}get['currentCli'+'p'](){return this['_currentCl'+'ip'];}set['speed'](_0x5b3640){this['_speed']=_0x5b3640;}get['speed'](){return this['_speed'];}set['flipX'](_0x2674b8){this['_flipX']!==_0x2674b8&&(this['_flipX']=_0x2674b8,this['_updateTra'+'nsform']());}get['flipX'](){return this['_flipX'];}set['flipY'](_0x6452ac){this['_flipY']!==_0x6452ac&&(this['_flipY']=_0x6452ac,this['_updateTra'+'nsform']());}get['flipY'](){return this['_flipY'];}set['width'](_0x3b0f7a){_0x3b0f7a!==this['_width']&&(this['_width']=_0x3b0f7a,this['_outerScal'+'e']['x']=this['_width'],this['sprite']&&(this['sprite']['renderMode']===Mt||this['sprite']['renderMode']===Pt)&&this['_updateTra'+'nsform']());}get['width'](){return this['_width'];}set['height'](_0x2e3331){_0x2e3331!==this['_height']&&(this['_height']=_0x2e3331,this['_outerScal'+'e']['y']=this['height'],this['sprite']&&(this['sprite']['renderMode']===Mt||this['sprite']['renderMode']===Pt)&&this['_updateTra'+'nsform']());}get['height'](){return this['_height'];}set['batchGroup'+'Id'](_0xbae246){var _0x41ba02,_0x34f036;if(this['_batchGrou'+'pId']===_0xbae246)return;const _0x5ceadd=this['_batchGrou'+'pId'];this['_batchGrou'+'pId']=_0xbae246,this['entity']['enabled']&&_0x5ceadd>=-0x1a60+-0x4*0x6e3+0x35ec&&((_0x41ba02=this['system']['app']['batcher'])==null||_0x41ba02['remove'](St['SPRITE'],_0x5ceadd,this['entity'])),this['entity']['enabled']&&_0xbae246>=-0x1046+0x2530+0xa75*-0x2?(_0x34f036=this['system']['app']['batcher'])==null||_0x34f036['insert'](St['SPRITE'],_0xbae246,this['entity']):_0x5ceadd>=-0x2364+-0x3b5*-0x4+0x1490&&this['_currentCl'+'ip']&&this['_currentCl'+'ip']['sprite']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['autoPlayCl'+'ip'](_0x2b2ed1){this['_autoPlayC'+'lip']=_0x2b2ed1 instanceof Hi?_0x2b2ed1['name']:_0x2b2ed1,this['_tryAutoPl'+'ay']();}get['autoPlayCl'+'ip'](){return this['_autoPlayC'+'lip'];}set['drawOrder'](_0x1fcbea){this['_drawOrder']=_0x1fcbea,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['drawOrder']=_0x1fcbea);}get['drawOrder'](){return this['_drawOrder'];}set['layers'](_0x430a6c){this['_addedMode'+'l']&&this['_hideModel'](),this['_layers']=_0x430a6c,this['_meshInsta'+'nce']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['layers'](){return this['_layers'];}get['aabb'](){return this['_meshInsta'+'nce']?this['_meshInsta'+'nce']['aabb']:null;}['onEnable'](){var _0x50cfc4;const _0xa1b7b5=this['system']['app'],_0x143543=_0xa1b7b5['scene'],_0x55c0ff=_0x143543['layers'];this['_evtLayers'+'Changed']=_0x143543['on']('set:layers',this['_onLayersC'+'hanged'],this),_0x55c0ff&&(this['_evtLayerA'+'dded']=_0x55c0ff['on']('add',this['_onLayerAd'+'ded'],this),this['_evtLayerR'+'emoved']=_0x55c0ff['on']('remove',this['_onLayerRe'+'moved'],this)),this['_showModel'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_batchGrou'+'pId']>=0x2020+0x10d*0x12+-0x5e*0x8b&&((_0x50cfc4=_0xa1b7b5['batcher'])==null||_0x50cfc4['insert'](St['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDisable'](){var _0x461867,_0x100625,_0x118981,_0x18fa9d;const _0x5b2f3b=this['system']['app'],_0x12f4e6=_0x5b2f3b['scene']['layers'];(_0x461867=this['_evtLayers'+'Changed'])==null||_0x461867['off'](),this['_evtLayers'+'Changed']=null,_0x12f4e6&&((_0x100625=this['_evtLayerA'+'dded'])==null||_0x100625['off'](),this['_evtLayerA'+'dded']=null,(_0x118981=this['_evtLayerR'+'emoved'])==null||_0x118981['off'](),this['_evtLayerR'+'emoved']=null),this['stop'](),this['_hideModel'](),this['_batchGrou'+'pId']>=0x244a+0x1*-0x13a5+-0x10a5&&((_0x18fa9d=_0x5b2f3b['batcher'])==null||_0x18fa9d['remove'](St['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDestroy'](){var _0x243156;this['_currentCl'+'ip']=null,this['_defaultCl'+'ip']&&(this['_defaultCl'+'ip']['_destroy'](),this['_defaultCl'+'ip']=null);for(const _0x1f84c3 in this['_clips'])this['_clips'][_0x1f84c3]['_destroy']();this['_clips']=null,this['_hideModel'](),this['_model']=null,(_0x243156=this['_node'])==null||_0x243156['remove'](),this['_node']=null,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=null,this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']=null);}['_showModel'](){if(this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x1d5087=[this['_meshInsta'+'nce']];for(let _0x4f707c=0x4f*0xb+-0x6*0x62b+-0x5*-0x6b9,_0x100ae4=this['_layers']['length'];_0x4f707c<_0x100ae4;_0x4f707c++){const _0x3ddf8b=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x4f707c]);_0x3ddf8b&&_0x3ddf8b['addMeshIns'+'tances'](_0x1d5087);}this['_addedMode'+'l']=!(0x7*0x48d+-0x26af+0x6d4);}['_hideModel'](){if(!this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x2a0bfb=[this['_meshInsta'+'nce']];for(let _0x56eb81=-0x43c+0x8ba*-0x4+0x2724,_0x545bf6=this['_layers']['length'];_0x56eb81<_0x545bf6;_0x56eb81++){const _0x38d32b=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x56eb81]);_0x38d32b&&_0x38d32b['removeMesh'+'Instances'](_0x2a0bfb);}this['_addedMode'+'l']=!(-0x26b6+0x2*0xcc8+0xd*0x103);}['_showFrame'](_0x3dc461){if(!this['sprite'])return;const _0xa0f39b=this['sprite']['meshes'][_0x3dc461];if(!_0xa0f39b){this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']['visible']=!(-0x1*-0x254f+0x1f54+-0xe*0x4e7));return;}let _0x59a8ff;if(this['sprite']['renderMode']===Pt?_0x59a8ff=this['system']['default9Sl'+'icedMateri'+'alSlicedMo'+'de']:this['sprite']['renderMode']===Mt?_0x59a8ff=this['system']['default9Sl'+'icedMateri'+'alTiledMod'+'e']:_0x59a8ff=this['system']['defaultMat'+'erial'],this['_meshInsta'+'nce']||(this['_meshInsta'+'nce']=new He(_0xa0f39b,this['_material'],this['_node']),this['_meshInsta'+'nce']['castShadow']=!(0x2*-0x503+-0x86b*-0x1+0x19c),this['_meshInsta'+'nce']['receiveSha'+'dow']=!(0x2*0xbc+-0x2*0x7+0x13*-0x13),this['_meshInsta'+'nce']['drawOrder']=this['_drawOrder'],this['_model']['meshInstan'+'ces']['push'](this['_meshInsta'+'nce']),this['_colorUnif'+'orm'][0x11e1+0x1ea0+0x102b*-0x3]=this['_color']['r'],this['_colorUnif'+'orm'][0x1f2*0x11+0x533*-0x1+-0x1bde]=this['_color']['g'],this['_colorUnif'+'orm'][-0x1*-0x1ef1+-0xbb*0x27+-0x272]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](fS,this['_colorUnif'+'orm']),this['_meshInsta'+'nce']['setParamet'+'er'](uS,this['_color']['a']),this['enabled']&&this['entity']['enabled']&&this['_showModel']()),this['_meshInsta'+'nce']['material']!==_0x59a8ff&&(this['_meshInsta'+'nce']['material']=_0x59a8ff),this['_meshInsta'+'nce']['mesh']!==_0xa0f39b&&(this['_meshInsta'+'nce']['mesh']=_0xa0f39b,this['_meshInsta'+'nce']['visible']=!(-0x4*-0x236+-0x1*-0x17aa+-0x2082),this['_meshInsta'+'nce']['_aabbVer']=-(-0xccf*-0x1+-0x49d*-0x8+0x12f*-0x2a)),this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_meshInsta'+'nce']['setParamet'+'er'](hS,this['sprite']['atlas']['texture']),this['_meshInsta'+'nce']['setParamet'+'er'](dS,this['sprite']['atlas']['texture'])):(this['_meshInsta'+'nce']['deletePara'+'meter'](hS),this['_meshInsta'+'nce']['deletePara'+'meter'](dS)),this['sprite']['atlas']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){this['_meshInsta'+'nce']['_updateAab'+'bFunc']=this['_updateAab'+'bFunc'];const _0xf9737=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][_0x3dc461]];if(_0xf9737){const _0x2414ad=(-0x1972*0x1+0x17*0x6a+0xfee)/_0xf9737['rect']['z'],_0x5528d8=(-0x5d+0x20a4+0x1*-0x2045)/_0xf9737['rect']['w'];this['_innerOffs'+'et']['set'](_0xf9737['border']['x']*_0x2414ad,_0xf9737['border']['y']*_0x5528d8,_0xf9737['border']['z']*_0x2414ad,_0xf9737['border']['w']*_0x5528d8);const _0x3856be=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0xf9737['rect']['x']/_0x3856be['width'],_0xf9737['rect']['y']/_0x3856be['height'],_0xf9737['rect']['z']/_0x3856be['width'],_0xf9737['rect']['w']/_0x3856be['height']);}else this['_innerOffs'+'et']['set'](0x184e+-0x1e7*0x10+0x622,0x1*0x1a2+-0xa81+0x8df,-0x1ee8+-0x55f+-0x1*-0x2447,0x2*0xf10+-0x1*-0x5c9+-0x23e9*0x1);this['_innerOffs'+'etUniform'][-0x1009+0x653*0x1+0x4db*0x2]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][0x3d*0xb+0x121c+0x1*-0x14ba]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][0x1859+0x49*0x40+-0x1*0x2a97]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0x196b+0x207f+-0x3d*0xf3]=this['_innerOffs'+'et']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](dF,this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][0x11d1+-0x80b*-0x1+-0x19dc*0x1]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0x1ab*0x4+-0x16*0x106+0x1d31]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0xe21+0xdfc*-0x2+-0xdd9*-0x1]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][0xa88+-0xcc8+-0x1*-0x243]=this['_atlasRect']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](uF,this['_atlasRect'+'Uniform']);}else this['_meshInsta'+'nce']['_updateAab'+'bFunc']=null;this['_updateTra'+'nsform']();}['_updateTra'+'nsform'](){let _0x25e47d=this['flipX']?-(0x106*0x5+0x4a*0x80+-0x2a1d*0x1):-0x15fa+0x7*-0x4db+0x37f8,_0x4f02d5=this['flipY']?-(0x1*-0x2c0+0x4d*0x71+0x1*-0x1f3c):-0xc3*0x27+0x4*0x277+0x13da,_0x695f60=0xeb1*-0x1+0x5c*0x6b+-0x7*0x365,_0x2d8967=-0x3d*-0xa3+0xa27+-0x30fe*0x1;if(this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){let _0x105e8e=-0x1bbb+-0x1e3a+-0x1*-0x39f6,_0x1b4ee2=-0x8f1+0xd27*-0x1+0x1619;if(this['sprite']['atlas']){const _0x5d5d22=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][this['frame']]];_0x5d5d22&&(_0x105e8e=_0x5d5d22['rect']['z'],_0x1b4ee2=_0x5d5d22['rect']['w'],_0x695f60=(-0x518*0x5+0xcab+0xccd+0.5-_0x5d5d22['pivot']['x'])*this['_width'],_0x2d8967=(0x8bc+-0xa22+-0x2*-0xb3+0.5-_0x5d5d22['pivot']['y'])*this['_height']);}const _0x125ac3=_0x105e8e/this['sprite']['pixelsPerU'+'nit'],_0x195722=_0x1b4ee2/this['sprite']['pixelsPerU'+'nit'];this['_outerScal'+'e']['set'](Math['max'](this['_width'],this['_innerOffs'+'et']['x']*_0x125ac3),Math['max'](this['_height'],this['_innerOffs'+'et']['y']*_0x195722)),_0x25e47d*=_0x125ac3,_0x4f02d5*=_0x195722,this['_outerScal'+'e']['x']/=_0x125ac3,this['_outerScal'+'e']['y']/=_0x195722,_0x25e47d*=Y['clamp'](this['_width']/(this['_innerOffs'+'et']['x']*_0x125ac3),-0x356+-0xd1b+0x1071+0.0001,0x7f3+-0xf*0x41+-0x423*0x1),_0x4f02d5*=Y['clamp'](this['_height']/(this['_innerOffs'+'et']['y']*_0x195722),-0x1ec1+0x17c5+0x6fc+0.0001,0x9e3*-0x1+-0x1f*0xf+0xbb5),this['_meshInsta'+'nce']&&(this['_outerScal'+'eUniform'][0x4*0x841+-0x15fd*-0x1+-0x3701]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0x1b7b+0x1e17*-0x1+0x29d]=this['_outerScal'+'e']['y'],this['_meshInsta'+'nce']['setParamet'+'er'](fF,this['_outerScal'+'eUniform']));}this['_node']['setLocalSc'+'ale'](_0x25e47d,_0x4f02d5,-0x2514+0x147f+0x1096),this['_node']['setLocalPo'+'sition'](_0x695f60,_0x2d8967,0x1e32+0x1*0x137+-0x1f69);}['_updateAab'+'b'](_0x54af48){return _0x54af48['center']['set'](-0x5f*0xd+-0x1*0x1678+0x19b*0x11,0xc7*0x29+-0x93f*0x1+-0xb5*0x20,-0x14a8*-0x1+-0x89*0x47+0x1157),_0x54af48['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(-0x26e3+0x9a5+0x1d3e+0.5),this['_outerScal'+'e']['y']*(-0xc*0x30d+0xd0a*-0x2+0x3eb0+0.5),-0x389+-0x12*-0x108+0xf07*-0x1+0.001),_0x54af48['setFromTra'+'nsformedAa'+'bb'](_0x54af48,this['_node']['getWorldTr'+'ansform']()),_0x54af48;}['_tryAutoPl'+'ay'](){if(!this['_autoPlayC'+'lip']||this['type']!==cS)return;const _0x1119c9=this['_clips'][this['_autoPlayC'+'lip']];_0x1119c9&&!_0x1119c9['isPlaying']&&(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['isPlaying'])&&this['enabled']&&this['entity']['enabled']&&this['play'](_0x1119c9['name']);}['_onLayersC'+'hanged'](_0x2fb0be,_0x20cf73){_0x2fb0be['off']('add',this['onLayerAdd'+'ed'],this),_0x2fb0be['off']('remove',this['onLayerRem'+'oved'],this),_0x20cf73['on']('add',this['onLayerAdd'+'ed'],this),_0x20cf73['on']('remove',this['onLayerRem'+'oved'],this),this['enabled']&&this['entity']['enabled']&&this['_showModel']();}['_onLayerAd'+'ded'](_0x3cf5b3){this['layers']['indexOf'](_0x3cf5b3['id'])<-0xc9e+0x7*-0x231+0x1bf5||this['_addedMode'+'l']&&this['enabled']&&this['entity']['enabled']&&this['_meshInsta'+'nce']&&_0x3cf5b3['addMeshIns'+'tances']([this['_meshInsta'+'nce']]);}['_onLayerRe'+'moved'](_0x1969a0){!this['_meshInsta'+'nce']||this['layers']['indexOf'](_0x1969a0['id'])<-0x15f0+0x19e4+0x2*-0x1fa||_0x1969a0['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}['removeMode'+'lFromLayer'+'s'](){for(let _0x81e6c2=0x86f+0x1*0x1273+-0x6f*0x3e;_0x81e6c2<this['layers']['length'];_0x81e6c2++){const _0x2014d7=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x81e6c2]);_0x2014d7&&_0x2014d7['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}}['addClip'](_0xff2243){const _0xfc777=new Hi(this,{'name':_0xff2243['name'],'fps':_0xff2243['fps'],'loop':_0xff2243['loop'],'spriteAsset':_0xff2243['spriteAsse'+'t']});return this['_clips'][_0xff2243['name']]=_0xfc777,_0xfc777['name']&&_0xfc777['name']===this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),_0xfc777;}['removeClip'](_0x3dec8f){delete this['_clips'][_0x3dec8f];}['clip'](_0x266aa1){return this['_clips'][_0x266aa1];}['play'](_0x1a97c6){const _0x3f030c=this['_clips'][_0x1a97c6],_0x4513fa=this['_currentCl'+'ip'];return _0x4513fa&&_0x4513fa!==_0x3f030c&&(_0x4513fa['_playing']=!(0x1*0xd13+0x7bf+-0x49*0x49)),this['_currentCl'+'ip']=_0x3f030c,this['_currentCl'+'ip']?(this['_currentCl'+'ip']=_0x3f030c,this['_currentCl'+'ip']['play']()):w['warn']('Trying\x20to\x20'+'play\x20sprit'+'e\x20animatio'+'n\x20'+_0x1a97c6+('\x20which\x20doe'+'s\x20not\x20exis'+'t.')),_0x3f030c;}['pause'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['_currentCl'+'ip']['pause']();}['resume'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPaused']&&this['_currentCl'+'ip']['resume']();}['stop'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['stop']();}}h(ur,'EVENT_PLAY','play'),h(ur,'EVENT_PAUS'+'E','pause'),h(ur,'EVENT_RESU'+'ME','resume'),h(ur,'EVENT_STOP','stop'),h(ur,'EVENT_END','end'),h(ur,'EVENT_LOOP','loop');class pF{constructor(){this['enabled']=!(0x1ade+0xbbb+0x1*-0x2699);}}const f0=['enabled'];class mF extends ct{constructor(_0x3a6204){super(_0x3a6204),this['id']='sprite',this['ComponentT'+'ype']=ur,this['DataType']=pF,this['schema']=f0,this['_defaultTe'+'xture']=null,this['_defaultMa'+'terial']=null,this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=null,this['_default9S'+'licedMater'+'ialTiledMo'+'de']=null,this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['defaultMat'+'erial'](_0x240096){this['_defaultMa'+'terial']=_0x240096;}get['defaultMat'+'erial'](){if(!this['_defaultMa'+'terial']){const _0x5eaf64=new _e(this['app']['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':_s,'name':'sprite'}),_0x30f46e=new Uint8Array(_0x5eaf64['lock']());_0x30f46e[0x109a+0x11*0x182+-0x2a3c]=_0x30f46e[0x18f7+-0x209+-0x16ed]=_0x30f46e[-0x7*-0x135+-0x250b+-0x1*-0x1c9a]=_0x30f46e[-0x17f1+-0x1*0xa7d+-0x1*-0x2271]=0x1f1*0x9+0x13e0+-0x245a,_0x5eaf64['unlock']();const _0xcae07f=new Ut();_0xcae07f['diffuse']['set'](-0x7*-0x43+0x920+0xb*-0xff,-0xb*-0xbc+0x17af+-0x1fc3,0xb75+-0x1f9d*-0x1+0x2b12*-0x1),_0xcae07f['emissive']['set'](0x71*-0x34+0xd*0x167+0x37*0x16,-0xa59*-0x2+-0xa*-0x161+-0x61*0x5b,-0x46*0x1c+-0xff5+0x179e*0x1),_0xcae07f['emissiveMa'+'p']=_0x5eaf64,_0xcae07f['opacityMap']=_0x5eaf64,_0xcae07f['opacityMap'+'Channel']='a',_0xcae07f['useLightin'+'g']=!(-0x12fa+0x153e+-0xc1*0x3),_0xcae07f['useTonemap']=!(0x1*-0x700+0xccc+-0x5cb),_0xcae07f['useFog']=!(-0x29*0xbf+-0xb9e+0x2a36*0x1),_0xcae07f['useSkybox']=!(-0x474+-0x172+-0x5e7*-0x1),_0xcae07f['blendType']=Gn,_0xcae07f['depthWrite']=!(-0x2347+-0xec*0x23+0x438c),_0xcae07f['pixelSnap']=!(0xd46+0x376+-0x10bb*0x1),_0xcae07f['cull']=bt,_0xcae07f['update'](),this['_defaultTe'+'xture']=_0x5eaf64,this['_defaultMa'+'terial']=_0xcae07f;}return this['_defaultMa'+'terial'];}set['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](_0x3b17c4){this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x3b17c4;}get['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](){if(!this['_default9S'+'licedMater'+'ialSlicedM'+'ode']){const _0x3766d8=this['defaultMat'+'erial']['clone']();_0x3766d8['nineSliced'+'Mode']=Pt,_0x3766d8['update'](),this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x3766d8;}return this['_default9S'+'licedMater'+'ialSlicedM'+'ode'];}set['default9Sl'+'icedMateri'+'alTiledMod'+'e'](_0x160062){this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x160062;}get['default9Sl'+'icedMateri'+'alTiledMod'+'e'](){if(!this['_default9S'+'licedMater'+'ialTiledMo'+'de']){const _0x4af23d=this['defaultMat'+'erial']['clone']();_0x4af23d['nineSliced'+'Mode']=Mt,_0x4af23d['update'](),this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x4af23d;}return this['_default9S'+'licedMater'+'ialTiledMo'+'de'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),this['_defaultTe'+'xture']&&(this['_defaultTe'+'xture']['destroy'](),this['_defaultTe'+'xture']=null);}['initialize'+'ComponentD'+'ata'](_0x163173,_0xed15e1,_0x176c0c){if(_0xed15e1['enabled']!==void(-0x2614+0x1352*-0x1+0x3966)&&(_0x163173['enabled']=_0xed15e1['enabled']),_0x163173['type']=_0xed15e1['type'],_0xed15e1['layers']&&Array['isArray'](_0xed15e1['layers'])&&(_0x163173['layers']=_0xed15e1['layers']['slice'](-0x25*-0xfc+-0x19*-0x53+-0x2c87*0x1)),_0xed15e1['drawOrder']!==void(0xfe1*-0x1+0x781+0x8*0x10c)&&(_0x163173['drawOrder']=_0xed15e1['drawOrder']),_0xed15e1['color']!==void(0x12b6+0x1*0x1627+-0x28dd)&&(_0xed15e1['color']instanceof ie?_0x163173['color']['set'](_0xed15e1['color']['r'],_0xed15e1['color']['g'],_0xed15e1['color']['b'],_0xed15e1['opacity']??0x145a+-0xc*0xe5+0x6b*-0x17):_0x163173['color']['set'](_0xed15e1['color'][0x15a*0xb+0xd09+-0x1be7*0x1],_0xed15e1['color'][0x6f+0x2*-0x3ce+0x72e],_0xed15e1['color'][-0x1cfc+0x25*-0xd1+-0x1*-0x3b33],_0xed15e1['opacity']??-0x192+-0x226b+-0x11*-0x21e),_0x163173['color']=_0x163173['color']),_0xed15e1['opacity']!==void(0xc39+0x2227+-0x2e60)&&(_0x163173['opacity']=_0xed15e1['opacity']),_0xed15e1['flipX']!==void(0x1ff0+-0x1*-0x102d+-0x301d*0x1)&&(_0x163173['flipX']=_0xed15e1['flipX']),_0xed15e1['flipY']!==void(0x1*-0xd9c+-0x2*-0xb56+-0x1d0*0x5)&&(_0x163173['flipY']=_0xed15e1['flipY']),_0xed15e1['width']!==void(0x17c7+-0xd0e*0x1+-0xb7*0xf)&&(_0x163173['width']=_0xed15e1['width']),_0xed15e1['height']!==void(0x10e8+0x2*-0x94+-0x1f8*0x8)&&(_0x163173['height']=_0xed15e1['height']),_0xed15e1['spriteAsse'+'t']!==void(0x13aa+-0x170c+0x362)&&(_0x163173['spriteAsse'+'t']=_0xed15e1['spriteAsse'+'t']),_0xed15e1['sprite']&&(_0x163173['sprite']=_0xed15e1['sprite']),_0xed15e1['frame']!==void(0x471*0x7+0x165*0x7+-0x28da)&&(_0x163173['frame']=_0xed15e1['frame']),_0xed15e1['clips']){for(const _0x3be51c in _0xed15e1['clips'])_0x163173['addClip'](_0xed15e1['clips'][_0x3be51c]);}_0xed15e1['speed']!==void(-0x17b1*-0x1+-0x1b7f+0x3ce)&&(_0x163173['speed']=_0xed15e1['speed']),_0xed15e1['autoPlayCl'+'ip']&&(_0x163173['autoPlayCl'+'ip']=_0xed15e1['autoPlayCl'+'ip']),_0x163173['batchGroup'+'Id']=_0xed15e1['batchGroup'+'Id']===void(-0x1ce6+-0xfe3+0x2cc9)||_0xed15e1['batchGroup'+'Id']===null?-(0x1bd4+0x154d+-0x3120*0x1):_0xed15e1['batchGroup'+'Id'],super['initialize'+'ComponentD'+'ata'](_0x163173,_0xed15e1,_0x176c0c);}['cloneCompo'+'nent'](_0x5d84e7,_0x282a5f){const _0x18cb3e=_0x5d84e7['sprite'];return this['addCompone'+'nt'](_0x282a5f,{'enabled':_0x18cb3e['enabled'],'type':_0x18cb3e['type'],'spriteAsset':_0x18cb3e['spriteAsse'+'t'],'sprite':_0x18cb3e['sprite'],'width':_0x18cb3e['width'],'height':_0x18cb3e['height'],'frame':_0x18cb3e['frame'],'color':_0x18cb3e['color']['clone'](),'opacity':_0x18cb3e['opacity'],'flipX':_0x18cb3e['flipX'],'flipY':_0x18cb3e['flipY'],'speed':_0x18cb3e['speed'],'clips':_0x18cb3e['clips'],'autoPlayClip':_0x18cb3e['autoPlayCl'+'ip'],'batchGroupId':_0x18cb3e['batchGroup'+'Id'],'drawOrder':_0x18cb3e['drawOrder'],'layers':_0x18cb3e['layers']['slice'](-0xfe2+0x1*-0x19c7+0x4f*0x87)});}['onUpdate'](_0x30fae7){const _0xeac1cd=this['store'];for(const _0x18df7e in _0xeac1cd)if(_0xeac1cd['hasOwnProp'+'erty'](_0x18df7e)){const _0x1a4b30=_0xeac1cd[_0x18df7e];if(_0x1a4b30['data']['enabled']&&_0x1a4b30['entity']['enabled']){const _0x150c68=_0x1a4b30['entity']['sprite'];_0x150c68['_currentCl'+'ip']&&_0x150c68['_currentCl'+'ip']['_update'](_0x30fae7);}}}['onBeforeRe'+'move'](_0x4cc773,_0x19b16d){_0x19b16d['onDestroy']();}}we['_buildAcce'+'ssors'](ur['prototype'],f0);class _n extends we{constructor(_0x1c410b,_0x597e69){super(_0x1c410b,_0x597e69),this['_oldState']=!(0x1c29+-0xbcb+0x5*-0x346),this['_size']=new D(),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['size'](_0x3c8a87){_0x3c8a87 instanceof D?this['_size']['copy'](_0x3c8a87):_0x3c8a87 instanceof Array&&_0x3c8a87['length']>=-0xb*-0x7d+-0x3*0x377+-0x509*-0x1&&this['size']['set'](_0x3c8a87[0x1be9+0x16ef+-0x32d8],_0x3c8a87[0x3*0x13d+-0x1*-0x877+-0xc2d],_0x3c8a87[0x234c+0x1*-0x42b+-0x1f1f]);}get['size'](){return this['_size'];}['onEnable'](){this['_checkStat'+'e']();}['onDisable'](){this['_checkStat'+'e']();}['_onSetEnab'+'led'](_0x3bd16c,_0x1e56ef,_0x565c73){this['_checkStat'+'e']();}['_checkStat'+'e'](){const _0x4dfe5e=this['enabled']&&this['entity']['enabled'];_0x4dfe5e!==this['_oldState']&&(this['_oldState']=_0x4dfe5e,this['fire']('enable'),this['fire']('state',this['enabled']));}['_onBeforeR'+'emove'](){this['fire']('remove');}}h(_n,'EVENT_ENAB'+'LE','enable'),h(_n,'EVENT_DISA'+'BLE','disable'),h(_n,'EVENT_STAT'+'E','state'),h(_n,'EVENT_REMO'+'VE','remove');class _F{constructor(){this['enabled']=!(-0x1e*0x36+0xd7d*0x1+-0x729);}}const u0=['enabled'];class gF extends ct{constructor(_0x121efa){super(_0x121efa),this['id']='zone',this['ComponentT'+'ype']=_n,this['DataType']=_F,this['schema']=u0,this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this);}['initialize'+'ComponentD'+'ata'](_0x508ac4,_0x2f5ebc,_0x1e5ae1){_0x508ac4['enabled']=_0x2f5ebc['hasOwnProp'+'erty']('enabled')?!!_0x2f5ebc['enabled']:!(-0x3*0x6d1+0xdc0+0x6b3),_0x2f5ebc['size']&&(_0x2f5ebc['size']instanceof D?_0x508ac4['size']['copy'](_0x2f5ebc['size']):_0x2f5ebc['size']instanceof Array&&_0x2f5ebc['size']['length']>=0x5fa+0xc93*0x1+-0x317*0x6&&_0x508ac4['size']['set'](_0x2f5ebc['size'][0x1*0x2211+0xb63+-0x2d74],_0x2f5ebc['size'][0xcd6+0x1cb9+-0x6ed*0x6],_0x2f5ebc['size'][-0x90f+-0x2*-0xfae+-0x164b]));}['cloneCompo'+'nent'](_0xe9e20,_0x4b530a){const _0x807a9f={'enabled':_0xe9e20['zone']['enabled'],'size':_0xe9e20['zone']['size']};return this['addCompone'+'nt'](_0x4b530a,_0x807a9f);}['_onBeforeR'+'emove'](_0x5993f1,_0x55dfc0){_0x55dfc0['_onBeforeR'+'emove']();}}we['_buildAcce'+'ssors'](_n['prototype'],u0);class SF{constructor(_0x7670af,_0x4fba6a){this['effect']=_0x7670af,this['inputTarge'+'t']=_0x4fba6a,this['outputTarg'+'et']=null,this['name']=_0x7670af['constructo'+'r']['name'];}}class yF{constructor(_0x55d775,_0x2314f2){this['app']=_0x55d775,this['camera']=_0x2314f2,this['destinatio'+'nRenderTar'+'get']=null,this['effects']=[],this['enabled']=!(-0xb67+-0x3*-0x1e+0xa*0x11b),this['depthTarge'+'t']=null,_0x2314f2['on']('set:rect',this['onCameraRe'+'ctChanged'],this);}['_allocateC'+'olorBuffer'](_0x53ff76,_0x21fe3a){const _0xb9d3c3=this['camera']['rect'],_0x725650=this['destinatio'+'nRenderTar'+'get'],_0x440443=this['app']['graphicsDe'+'vice'],_0x2d8d3c=Math['floor'](_0xb9d3c3['z']*((_0x725650==null?void(-0x39d*-0x5+0x5*-0x41f+0x28a):_0x725650['width'])??_0x440443['width'])),_0x15a4d2=Math['floor'](_0xb9d3c3['w']*((_0x725650==null?void(0x7c+0xef9*0x2+-0x1e6e):_0x725650['height'])??_0x440443['height']));return new _e(_0x440443,{'name':_0x21fe3a,'format':_0x53ff76,'width':_0x2d8d3c,'height':_0x15a4d2,'mipmaps':!(-0x1836+-0x25f*-0x4+0x1a3*0x9),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue});}['_createOff'+'screenTarg'+'et'](_0x57b0f4,_0x2480d6){const _0x56118c=this['app']['graphicsDe'+'vice'],_0x44553d=(this['destinatio'+'nRenderTar'+'get']??_0x56118c['backBuffer'])['isColorBuf'+'ferSrgb'](-0x1c90+-0x1*0x6d1+0x2361),_0x1c8afd=(_0x2480d6&&_0x56118c['getRendera'+'bleHdrForm'+'at']([nt,Xt],!(0x1*-0x10bf+0x1d38+-0xc79)))??(_0x44553d?_s:Ne),_0x14bd1c=this['camera']['entity']['name']+('-posteffec'+'t-')+this['effects']['length'],_0xba7891=this['_allocateC'+'olorBuffer'](_0x1c8afd,_0x14bd1c);return new gt({'colorBuffer':_0xba7891,'depth':_0x57b0f4,'stencil':_0x57b0f4&&this['app']['graphicsDe'+'vice']['supportsSt'+'encil'],'samples':_0x57b0f4?_0x56118c['samples']:0x1e34+-0x2422*0x1+0xd9*0x7});}['_resizeOff'+'screenTarg'+'et'](_0x48360b){const _0x57d561=_0x48360b['colorBuffe'+'r']['format'],_0x47d6f0=_0x48360b['colorBuffe'+'r']['name'];_0x48360b['destroyFra'+'meBuffers'](),_0x48360b['destroyTex'+'tureBuffer'+'s'](),_0x48360b['_colorBuff'+'er']=this['_allocateC'+'olorBuffer'](_0x57d561,_0x47d6f0),_0x48360b['_colorBuff'+'ers']=[_0x48360b['_colorBuff'+'er']];}['_destroyOf'+'fscreenTar'+'get'](_0x47194e){_0x47194e['destroyTex'+'tureBuffer'+'s'](),_0x47194e['destroy']();}['addEffect'](_0x1417c0){const _0x157450=this['effects'],_0x3b90fa=_0x157450['length']===-0x16db+-0x20c1+0x379c,_0x308805=this['_createOff'+'screenTarg'+'et'](_0x3b90fa,_0x1417c0['hdr']),_0x90bbbe=new SF(_0x1417c0,_0x308805);_0x157450['push'](_0x90bbbe),this['_sourceTar'+'get']=_0x90bbbe['inputTarge'+'t'],_0x157450['length']>0x42*0xb+0x23f3*0x1+-0x22*0x124&&(_0x157450[_0x157450['length']-(0xc9a+-0x3*-0x6dd+-0x212f)]['outputTarg'+'et']=_0x90bbbe['inputTarge'+'t']),this['_newPostEf'+'fect']=_0x1417c0,_0x1417c0['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap'](),this['enable'](),this['_newPostEf'+'fect']=void(-0x234d+0xa25+0x28*0xa1);}['removeEffe'+'ct'](_0x24a892){let _0x4dd60e=-(0x37*-0xa+-0x1051+0x1278);for(let _0x3b1fe1=0x11ab+-0x5e2*-0x2+-0x1d6f,_0x252429=this['effects']['length'];_0x3b1fe1<_0x252429;_0x3b1fe1++)if(this['effects'][_0x3b1fe1]['effect']===_0x24a892){_0x4dd60e=_0x3b1fe1;break;}_0x4dd60e>=0x598*0x5+-0x10d0*-0x2+0x24*-0x1b6&&(_0x4dd60e>-0xc5*0x11+0x22a8*-0x1+0x2fbd*0x1?this['effects'][_0x4dd60e-(0x10*-0xab+0x977*0x3+-0x11b4)]['outputTarg'+'et']=_0x4dd60e+(0x1eb4+-0x115*-0x17+0xb1e*-0x5)<this['effects']['length']?this['effects'][_0x4dd60e+(-0x8cc*-0x1+0x156c*0x1+-0x5*0x60b)]['inputTarge'+'t']:null:this['effects']['length']>0xb58+0x1*0x120a+-0x1d61&&(this['effects'][-0x7*-0x49+0x2*-0x130c+0x241a]['inputTarge'+'t']['_depth']||(this['_destroyOf'+'fscreenTar'+'get'](this['effects'][0x21*-0x98+-0x59*-0x52+0x8e9*-0x1]['inputTarge'+'t']),this['effects'][0x6*-0x34c+0x1*0xc77+-0x2*-0x3a9]['inputTarge'+'t']=this['_createOff'+'screenTarg'+'et'](!(0x1a*0x12e+0x4b+-0x1ef7),this['effects'][0x1288+-0x2*0x76d+-0x3ad]['hdr']),this['_sourceTar'+'get']=this['effects'][0x6*0x66f+-0x1d*0xd3+-0xb*0x156]['inputTarge'+'t']),this['camera']['renderTarg'+'et']=this['effects'][-0x1*-0x1b85+0xc5e+0x7fa*-0x5]['inputTarge'+'t']),this['_destroyOf'+'fscreenTar'+'get'](this['effects'][_0x4dd60e]['inputTarge'+'t']),this['effects']['splice'](_0x4dd60e,-0xa3*-0x7+-0x6*0x37c+0x1074)),this['enabled']&&_0x24a892['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap'](),this['effects']['length']===0x2499+0x1f01+0x2*-0x21cd&&this['disable']();}['_requestDe'+'pthMaps'](){for(let _0x23f634=-0x76d+-0x1*0x1d59+0x24c6,_0x340290=this['effects']['length'];_0x23f634<_0x340290;_0x23f634++){const _0x1b3daa=this['effects'][_0x23f634]['effect'];this['_newPostEf'+'fect']!==_0x1b3daa&&_0x1b3daa['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap']();}}['_releaseDe'+'pthMaps'](){for(let _0x970060=-0x2f1*-0x9+0xae7+-0xb8*0x34,_0x3436aa=this['effects']['length'];_0x970060<_0x3436aa;_0x970060++)this['effects'][_0x970060]['effect']['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap']();}['_requestDe'+'pthMap'](){const _0x1fed79=this['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x1fed79&&(_0x1fed79['incrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0x1d57+-0x1bca*0x1+-0x18d*0x1)));}['_releaseDe'+'pthMap'](){const _0x3fdc71=this['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x3fdc71&&(_0x3fdc71['decrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0x4b*-0x6+-0xb*0x179+0x11f6)));}['destroy'](){for(let _0x1bbcf8=0xfde+-0x1a8b+0x3*0x38f,_0x420369=this['effects']['length'];_0x1bbcf8<_0x420369;_0x1bbcf8++)this['effects'][_0x1bbcf8]['inputTarge'+'t']['destroy']();this['effects']['length']=0x262c+-0x1*-0x14f7+0x1*-0x3b23,this['disable']();}['enable'](){!this['enabled']&&this['effects']['length']&&(this['enabled']=!(-0x1*0x1a03+0x1c12*-0x1+0x3615),this['_requestDe'+'pthMaps'](),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['destinatio'+'nRenderTar'+'get']=this['camera']['renderTarg'+'et'],this['camera']['renderTarg'+'et']=this['effects'][-0x1*-0x25ff+-0x11*-0x1ed+-0x46bc]['inputTarge'+'t'],this['camera']['onPostproc'+'essing']=()=>{if(this['enabled']){let _0x1c19fc=null;const _0x41f86c=this['effects']['length'];if(_0x41f86c)for(let _0x5b043c=-0xcfd+-0x12ad+0x1faa;_0x5b043c<_0x41f86c;_0x5b043c++){const _0x3e8c16=this['effects'][_0x5b043c];let _0x121795=_0x3e8c16['outputTarg'+'et'];_0x5b043c===_0x41f86c-(-0x3*-0x74e+0x7df+0x2*-0xee4)&&(_0x1c19fc=this['camera']['rect'],this['destinatio'+'nRenderTar'+'get']&&(_0x121795=this['destinatio'+'nRenderTar'+'get'])),Q['pushGpuMar'+'ker'](this['app']['graphicsDe'+'vice'],_0x3e8c16['name']),_0x3e8c16['effect']['render'](_0x3e8c16['inputTarge'+'t'],_0x121795,_0x1c19fc),Q['popGpuMark'+'er'](this['app']['graphicsDe'+'vice']);}}});}['disable'](){this['enabled']&&(this['enabled']=!(-0x2*0xb3b+0xd81+0x8f6),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['_releaseDe'+'pthMaps'](),this['_destroyOf'+'fscreenTar'+'get'](this['_sourceTar'+'get']),this['camera']['renderTarg'+'et']=this['destinatio'+'nRenderTar'+'get'],this['camera']['onPostproc'+'essing']=null);}['_onCanvasR'+'esized'](_0x5056bc,_0xf623c5){const _0x41d90e=this['camera']['rect'],_0x2b9f98=this['destinatio'+'nRenderTar'+'get'];_0x5056bc=(_0x2b9f98==null?void(-0x2276+0x13*0x107+0xef1):_0x2b9f98['width'])??_0x5056bc,_0xf623c5=(_0x2b9f98==null?void(0x128c+-0x1e36+0xbaa):_0x2b9f98['height'])??_0xf623c5,this['camera']['camera']['aspectRati'+'o']=_0x5056bc*_0x41d90e['z']/(_0xf623c5*_0x41d90e['w']),this['resizeRend'+'erTargets']();}['resizeRend'+'erTargets'](){const _0xdc5e24=this['app']['graphicsDe'+'vice'],_0x57876f=this['destinatio'+'nRenderTar'+'get'],_0x35ac13=(_0x57876f==null?void(0x4*-0x842+-0x3*0x7d6+0x1*0x388a):_0x57876f['width'])??_0xdc5e24['width'],_0x255649=(_0x57876f==null?void(0xbf*0x7+0x7ed+-0xd26):_0x57876f['height'])??_0xdc5e24['height'],_0x3585b6=this['camera']['rect'],_0x4095c7=Math['floor'](_0x3585b6['z']*_0x35ac13),_0x451a1f=Math['floor'](_0x3585b6['w']*_0x255649),_0x476c7c=this['effects'];for(let _0x13f3b9=0x268a+-0x104e+-0x1*0x163c,_0x487bbf=_0x476c7c['length'];_0x13f3b9<_0x487bbf;_0x13f3b9++){const _0x13de68=_0x476c7c[_0x13f3b9];(_0x13de68['inputTarge'+'t']['width']!==_0x4095c7||_0x13de68['inputTarge'+'t']['height']!==_0x451a1f)&&this['_resizeOff'+'screenTarg'+'et'](_0x13de68['inputTarge'+'t']);}}['onCameraRe'+'ctChanged'](_0x1e6076,_0x34064c,_0x453f89){this['enabled']&&this['resizeRend'+'erTargets']();}}class Ir extends we{constructor(_0x5f1378,_0x147c5a){super(_0x5f1378,_0x147c5a),h(this,'onPostproc'+'essing',null),h(this,'_renderSce'+'neDepthMap',0x11f0+-0xf25+-0x2cb),h(this,'_renderSce'+'neColorMap',0xde*-0x2+-0x1*-0x1405+0x1*-0x1249),h(this,'_sceneDept'+'hMapReques'+'ted',!(0x883*-0x3+-0x1a8e*-0x1+-0xa*0x1a)),h(this,'_sceneColo'+'rMapReques'+'ted',!(-0x2551+0x9be+0xdca*0x2)),h(this,'_priority',0x1d*-0x43+-0xc03*-0x2+-0x106f),h(this,'_disablePo'+'stEffectsL'+'ayer',Il),h(this,'_camera',new Fl()),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_camera']['node']=_0x147c5a,this['_postEffec'+'ts']=new yF(_0x5f1378['app'],this));}['setShaderP'+'ass'](_0x54f7bc){const _0x46f98b=Si['get'](this['system']['app']['graphicsDe'+'vice']),_0x2ff620=_0x54f7bc?_0x46f98b['allocate'](_0x54f7bc,{'isForward':!(-0x82d*0x4+-0x679*0x6+0x2*0x23c5)}):null;return this['_camera']['shaderPass'+'Info']=_0x2ff620,_0x2ff620['index'];}['getShaderP'+'ass'](){var _0x3dabdd;return(_0x3dabdd=this['_camera']['shaderPass'+'Info'])==null?void(-0x8*-0x2a0+0x4*0x51b+-0x296c):_0x3dabdd['name'];}set['renderPass'+'es'](_0x188b18){this['_camera']['renderPass'+'es']=_0x188b18||[],this['dirtyLayer'+'Compositio'+'nCameras'](),this['system']['app']['scene']['updateShad'+'ers']=!(-0xd*-0xb3+-0x1704+0xded);}get['renderPass'+'es'](){return this['_camera']['renderPass'+'es'];}get['shaderPara'+'ms'](){return this['_camera']['shaderPara'+'ms'];}set['gammaCorre'+'ction'](_0x1c7bf4){this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=_0x1c7bf4;}get['gammaCorre'+'ction'](){return this['camera']['shaderPara'+'ms']['gammaCorre'+'ction'];}set['toneMappin'+'g'](_0x10b780){this['camera']['shaderPara'+'ms']['toneMappin'+'g']=_0x10b780;}get['toneMappin'+'g'](){return this['camera']['shaderPara'+'ms']['toneMappin'+'g'];}set['fog'](_0x21232f){this['_camera']['fogParams']=_0x21232f;}get['fog'](){return this['_camera']['fogParams'];}set['aperture'](_0x41a897){this['_camera']['aperture']=_0x41a897;}get['aperture'](){return this['_camera']['aperture'];}set['aspectRati'+'o'](_0x2a2b0a){this['_camera']['aspectRati'+'o']=_0x2a2b0a;}get['aspectRati'+'o'](){return this['_camera']['aspectRati'+'o'];}set['aspectRati'+'oMode'](_0x559d21){this['_camera']['aspectRati'+'oMode']=_0x559d21;}get['aspectRati'+'oMode'](){return this['_camera']['aspectRati'+'oMode'];}set['calculateP'+'rojection'](_0x84d53b){this['_camera']['calculateP'+'rojection']=_0x84d53b;}get['calculateP'+'rojection'](){return this['_camera']['calculateP'+'rojection'];}set['calculateT'+'ransform'](_0x581390){this['_camera']['calculateT'+'ransform']=_0x581390;}get['calculateT'+'ransform'](){return this['_camera']['calculateT'+'ransform'];}get['camera'](){return this['_camera'];}set['clearColor'](_0x344ecf){this['_camera']['clearColor']=_0x344ecf;}get['clearColor'](){return this['_camera']['clearColor'];}set['clearColor'+'Buffer'](_0x5b823e){this['_camera']['clearColor'+'Buffer']=_0x5b823e,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearColor'+'Buffer'](){return this['_camera']['clearColor'+'Buffer'];}set['clearDepth'+'Buffer'](_0x1db834){this['_camera']['clearDepth'+'Buffer']=_0x1db834,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearDepth'+'Buffer'](){return this['_camera']['clearDepth'+'Buffer'];}set['clearStenc'+'ilBuffer'](_0x2bcce7){this['_camera']['clearStenc'+'ilBuffer']=_0x2bcce7,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearStenc'+'ilBuffer'](){return this['_camera']['clearStenc'+'ilBuffer'];}set['cullFaces'](_0x57b1e6){this['_camera']['cullFaces']=_0x57b1e6;}get['cullFaces'](){return this['_camera']['cullFaces'];}set['disablePos'+'tEffectsLa'+'yer'](_0x1811c0){this['_disablePo'+'stEffectsL'+'ayer']=_0x1811c0,this['dirtyLayer'+'Compositio'+'nCameras']();}get['disablePos'+'tEffectsLa'+'yer'](){return this['_disablePo'+'stEffectsL'+'ayer'];}set['farClip'](_0x3b9863){this['_camera']['farClip']=_0x3b9863;}get['farClip'](){return this['_camera']['farClip'];}set['flipFaces'](_0x45cf2f){this['_camera']['flipFaces']=_0x45cf2f;}get['flipFaces'](){return this['_camera']['flipFaces'];}set['fov'](_0x547bbe){this['_camera']['fov']=_0x547bbe;}get['fov'](){return this['_camera']['fov'];}get['frustum'](){return this['_camera']['frustum'];}set['frustumCul'+'ling'](_0xda7269){this['_camera']['frustumCul'+'ling']=_0xda7269;}get['frustumCul'+'ling'](){return this['_camera']['frustumCul'+'ling'];}set['horizontal'+'Fov'](_0xb7cc0b){this['_camera']['horizontal'+'Fov']=_0xb7cc0b;}get['horizontal'+'Fov'](){return this['_camera']['horizontal'+'Fov'];}set['layers'](_0x37abb6){const _0x16b85b=this['_camera']['layers'],_0x1b1840=this['system']['app']['scene'];_0x16b85b['forEach'](_0x55f82a=>{const _0x231109=_0x1b1840['layers']['getLayerBy'+'Id'](_0x55f82a);_0x231109==null||_0x231109['removeCame'+'ra'](this);}),this['_camera']['layers']=_0x37abb6,this['enabled']&&this['entity']['enabled']&&_0x37abb6['forEach'](_0x34f77c=>{const _0x11bc9c=_0x1b1840['layers']['getLayerBy'+'Id'](_0x34f77c);_0x11bc9c==null||_0x11bc9c['addCamera'](this);}),this['fire']('set:layers');}get['layers'](){return this['_camera']['layers'];}get['layersSet'](){return this['_camera']['layersSet'];}set['jitter'](_0x2f5fa1){this['_camera']['jitter']=_0x2f5fa1;}get['jitter'](){return this['_camera']['jitter'];}set['nearClip'](_0x582828){this['_camera']['nearClip']=_0x582828;}get['nearClip'](){return this['_camera']['nearClip'];}set['orthoHeigh'+'t'](_0x1490de){this['_camera']['orthoHeigh'+'t']=_0x1490de;}get['orthoHeigh'+'t'](){return this['_camera']['orthoHeigh'+'t'];}get['postEffect'+'s'](){return this['_postEffec'+'ts'];}get['postEffect'+'sEnabled'](){return this['_postEffec'+'ts']['enabled'];}set['priority'](_0x16edea){this['_priority']=_0x16edea,this['dirtyLayer'+'Compositio'+'nCameras']();}get['priority'](){return this['_priority'];}set['projection'](_0x263491){this['_camera']['projection']=_0x263491;}get['projection'](){return this['_camera']['projection'];}get['projection'+'Matrix'](){return this['_camera']['projection'+'Matrix'];}set['rect'](_0x3ec0d2){this['_camera']['rect']=_0x3ec0d2,this['fire']('set:rect',this['_camera']['rect']);}get['rect'](){return this['_camera']['rect'];}set['renderScen'+'eColorMap'](_0x2bd8c2){_0x2bd8c2&&!this['_sceneColo'+'rMapReques'+'ted']?(this['requestSce'+'neColorMap'](!(0x246c+-0xdf5+-0x1677)),this['_sceneColo'+'rMapReques'+'ted']=!(-0xfad+0x808*0x1+0x7a5)):this['_sceneColo'+'rMapReques'+'ted']&&(this['requestSce'+'neColorMap'](!(0x17*-0xef+-0x55*0x4f+0x2fb5)),this['_sceneColo'+'rMapReques'+'ted']=!(0x19+-0x7aa+0x792));}get['renderScen'+'eColorMap'](){return this['_renderSce'+'neColorMap']>-0x9*0x1b+-0x2335*-0x1+-0x2242;}set['renderScen'+'eDepthMap'](_0x4f35fb){_0x4f35fb&&!this['_sceneDept'+'hMapReques'+'ted']?(this['requestSce'+'neDepthMap'](!(0x1757+0x55f+0x5*-0x5be)),this['_sceneDept'+'hMapReques'+'ted']=!(-0x1*0x1c61+0x1997*0x1+0x165*0x2)):this['_sceneDept'+'hMapReques'+'ted']&&(this['requestSce'+'neDepthMap'](!(-0x5*-0x273+0x9*0x382+-0x2bd0*0x1)),this['_sceneDept'+'hMapReques'+'ted']=!(-0x2da+0x139b+-0x10c0));}get['renderScen'+'eDepthMap'](){return this['_renderSce'+'neDepthMap']>0x5ea+-0x197b+-0x1391*-0x1;}set['renderTarg'+'et'](_0x2e7bd5){w['call'](()=>{this['_camera']['renderPass'+'es']['length']>0x1af5+0x1876+-0x336b*0x1&&w['warn']('Setting\x20a\x20'+'render\x20tar'+'get\x20on\x20the'+'\x20camera\x20'+this['entity']['name']+('\x20after\x20the'+'\x20render\x20pa'+'sses\x20is\x20no'+'t\x20supporte'+'d,\x20set\x20it\x20'+'up\x20first.'));}),this['_camera']['renderTarg'+'et']=_0x2e7bd5,this['dirtyLayer'+'Compositio'+'nCameras']();}get['renderTarg'+'et'](){return this['_camera']['renderTarg'+'et'];}set['scissorRec'+'t'](_0x2b623c){this['_camera']['scissorRec'+'t']=_0x2b623c;}get['scissorRec'+'t'](){return this['_camera']['scissorRec'+'t'];}set['sensitivit'+'y'](_0x37aa84){this['_camera']['sensitivit'+'y']=_0x37aa84;}get['sensitivit'+'y'](){return this['_camera']['sensitivit'+'y'];}set['shutter'](_0x7869b1){this['_camera']['shutter']=_0x7869b1;}get['shutter'](){return this['_camera']['shutter'];}get['viewMatrix'](){return this['_camera']['viewMatrix'];}['_enableDep'+'thLayer'](_0x14a5c5){if(this['layers']['find'](_0xbdd166=>_0xbdd166===ps)){const _0x337675=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x14a5c5?_0x337675==null||_0x337675['incrementC'+'ounter']():_0x337675==null||_0x337675['decrementC'+'ounter']();}else{if(_0x14a5c5)return!(-0x36a+0x2089*-0x1+0x5fe*0x6);}return!(-0xad*-0x1a+0x14ed+-0x5*0x7b3);}['requestSce'+'neColorMap'](_0x1173a0){this['_renderSce'+'neColorMap']+=_0x1173a0?0xb*0x34b+0x2320+-0x4758:-(-0x1a*0xfb+-0x5*0x7cd+0x4080),w['assert'](this['_renderSce'+'neColorMap']>=-0x7eb+0x1120+-0x1*0x935),this['_enableDep'+'thLayer'](_0x1173a0)||w['warnOnce']('CameraComp'+'onent.requ'+'estSceneCo'+'lorMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassCol'+'orGrab'](this['system']['app']['graphicsDe'+'vice'],this['renderScen'+'eColorMap']),this['system']['app']['scene']['layers']['markDirty']();}['requestSce'+'neDepthMap'](_0x2a676a){this['_renderSce'+'neDepthMap']+=_0x2a676a?-0x1e9f+0x24*-0x52+0x2a28:-(0x233+-0x1235+0x1003),w['assert'](this['_renderSce'+'neDepthMap']>=0xa54*0x1+-0x1*-0x476+-0xeca),this['_enableDep'+'thLayer'](_0x2a676a)||w['warnOnce']('CameraComp'+'onent.requ'+'estSceneDe'+'pthMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassDep'+'thGrab'](this['system']['app']['graphicsDe'+'vice'],this['system']['app']['renderer'],this['renderScen'+'eDepthMap']),this['system']['app']['scene']['layers']['markDirty']();}['dirtyLayer'+'Compositio'+'nCameras'](){const _0x1716d0=this['system']['app']['scene']['layers'];_0x1716d0['_dirty']=!(-0x2*0x1de+0x19*-0xeb+0x1aaf);}['screenToWo'+'rld'](_0x1bda94,_0x5bea12,_0x5b1742,_0x283fb5){const _0x1b541b=this['system']['app']['graphicsDe'+'vice'],{width:_0x469bdf,height:_0x435d4f}=_0x1b541b['clientRect'];return this['_camera']['screenToWo'+'rld'](_0x1bda94,_0x5bea12,_0x5b1742,_0x469bdf,_0x435d4f,_0x283fb5);}['worldToScr'+'een'](_0x484c40,_0xf5d7e2){const _0x39c1af=this['system']['app']['graphicsDe'+'vice'],{width:_0x55a91d,height:_0x1bacfe}=_0x39c1af['clientRect'];return this['_camera']['worldToScr'+'een'](_0x484c40,_0x55a91d,_0x1bacfe,_0xf5d7e2);}['onAppPrere'+'nder'](){this['_camera']['_viewMatDi'+'rty']=!(0x5*-0x36e+-0x1ed9+0x2fff),this['_camera']['_viewProjM'+'atDirty']=!(0x1*-0x23c9+-0xa*-0x3bf+0x8f*-0x3);}['addCameraT'+'oLayers'](){const _0x134453=this['layers'];for(let _0x5db0fe=-0x133*0x3+0x841*0x1+-0x254*0x2;_0x5db0fe<_0x134453['length'];_0x5db0fe++){const _0x40b68e=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x134453[_0x5db0fe]);_0x40b68e&&_0x40b68e['addCamera'](this);}}['removeCame'+'raFromLaye'+'rs'](){const _0x2d6b6=this['layers'];for(let _0x3d3247=-0x22bb+0x94*0x1+0x2227*0x1;_0x3d3247<_0x2d6b6['length'];_0x3d3247++){const _0x5691f0=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x2d6b6[_0x3d3247]);_0x5691f0&&_0x5691f0['removeCame'+'ra'](this);}}['onLayersCh'+'anged'](_0x3aadca,_0x48138a){this['addCameraT'+'oLayers'](),_0x3aadca['off']('add',this['onLayerAdd'+'ed'],this),_0x3aadca['off']('remove',this['onLayerRem'+'oved'],this),_0x48138a['on']('add',this['onLayerAdd'+'ed'],this),_0x48138a['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x52b7ad){this['layers']['indexOf'](_0x52b7ad['id'])<0x12eb+0x68*0x26+-0x225b||_0x52b7ad['addCamera'](this);}['onLayerRem'+'oved'](_0x3f5910){this['layers']['indexOf'](_0x3f5910['id'])<0xa6f+0xec8+-0x1937||_0x3f5910['removeCame'+'ra'](this);}['onEnable'](){var _0x427579,_0x495d5f,_0x538b5a;const _0x41b20d=this['system']['app']['scene'],_0x51f6e5=_0x41b20d['layers'];this['system']['addCamera'](this),(_0x427579=this['_evtLayers'+'Changed'])==null||_0x427579['off'](),this['_evtLayers'+'Changed']=_0x41b20d['on']('set:layers',this['onLayersCh'+'anged'],this),_0x51f6e5&&((_0x495d5f=this['_evtLayerA'+'dded'])==null||_0x495d5f['off'](),this['_evtLayerA'+'dded']=_0x51f6e5['on']('add',this['onLayerAdd'+'ed'],this),(_0x538b5a=this['_evtLayerR'+'emoved'])==null||_0x538b5a['off'](),this['_evtLayerR'+'emoved']=_0x51f6e5['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addCameraT'+'oLayers'](),this['postEffect'+'s']['enable']();}['onDisable'](){var _0x1c5b8,_0x311361,_0x46abc8;const _0x1a6fcb=this['system']['app']['scene']['layers'];this['postEffect'+'s']['disable'](),this['removeCame'+'raFromLaye'+'rs'](),(_0x1c5b8=this['_evtLayers'+'Changed'])==null||_0x1c5b8['off'](),this['_evtLayers'+'Changed']=null,_0x1a6fcb&&((_0x311361=this['_evtLayerA'+'dded'])==null||_0x311361['off'](),this['_evtLayerA'+'dded']=null,(_0x46abc8=this['_evtLayerR'+'emoved'])==null||_0x46abc8['off'](),this['_evtLayerR'+'emoved']=null),this['system']['removeCame'+'ra'](this);}['onRemove'](){this['onDisable'](),this['off'](),this['camera']['destroy']();}['calculateA'+'spectRatio'](_0x5a25c5){const _0x40e67f=this['system']['app']['graphicsDe'+'vice'],_0x53e466=_0x5a25c5?_0x5a25c5['width']:_0x40e67f['width'],_0x1d859b=_0x5a25c5?_0x5a25c5['height']:_0x40e67f['height'];return _0x53e466*this['rect']['z']/(_0x1d859b*this['rect']['w']);}['frameUpdat'+'e'](_0x43b2c0){this['aspectRati'+'oMode']===hm&&(this['aspectRati'+'o']=this['calculateA'+'spectRatio'](_0x43b2c0));}['startXr'](_0x1571d3,_0x1349cb,_0x113b5d){this['system']['app']['xr']['start'](this,_0x1571d3,_0x1349cb,_0x113b5d);}['endXr'](_0x3c7f96){if(!this['_camera']['xr']){_0x3c7f96&&_0x3c7f96(new Error('Camera\x20is\x20'+'not\x20in\x20XR'));return;}this['_camera']['xr']['end'](_0x3c7f96);}['copy'](_0x1f9195){this['aperture']=_0x1f9195['aperture'],this['aspectRati'+'o']=_0x1f9195['aspectRati'+'o'],this['aspectRati'+'oMode']=_0x1f9195['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x1f9195['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x1f9195['calculateT'+'ransform'],this['clearColor']=_0x1f9195['clearColor'],this['clearColor'+'Buffer']=_0x1f9195['clearColor'+'Buffer'],this['clearDepth'+'Buffer']=_0x1f9195['clearDepth'+'Buffer'],this['clearStenc'+'ilBuffer']=_0x1f9195['clearStenc'+'ilBuffer'],this['cullFaces']=_0x1f9195['cullFaces'],this['disablePos'+'tEffectsLa'+'yer']=_0x1f9195['disablePos'+'tEffectsLa'+'yer'],this['farClip']=_0x1f9195['farClip'],this['flipFaces']=_0x1f9195['flipFaces'],this['fov']=_0x1f9195['fov'],this['frustumCul'+'ling']=_0x1f9195['frustumCul'+'ling'],this['horizontal'+'Fov']=_0x1f9195['horizontal'+'Fov'],this['layers']=_0x1f9195['layers'],this['nearClip']=_0x1f9195['nearClip'],this['orthoHeigh'+'t']=_0x1f9195['orthoHeigh'+'t'],this['priority']=_0x1f9195['priority'],this['projection']=_0x1f9195['projection'],this['rect']=_0x1f9195['rect'],this['renderTarg'+'et']=_0x1f9195['renderTarg'+'et'],this['scissorRec'+'t']=_0x1f9195['scissorRec'+'t'],this['sensitivit'+'y']=_0x1f9195['sensitivit'+'y'],this['shutter']=_0x1f9195['shutter'];}}class vF{constructor(){this['enabled']=!(-0xfbd+-0x3f5*-0x7+-0xbf6);}}const p0=['enabled'];class xF extends ct{constructor(_0x3a42f4){super(_0x3a42f4),h(this,'cameras',[]),(this['id']='camera',this['ComponentT'+'ype']=Ir,this['DataType']=vF,this['schema']=p0,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['on']('prerender',this['onAppPrere'+'nder'],this));}['initialize'+'ComponentD'+'ata'](_0x41a8fb,_0xac2f9e,_0x25d72a){_0x25d72a=['aspectRati'+'o','aspectRati'+'oMode','calculateP'+'rojection','calculateT'+'ransform','clearColor','clearColor'+'Buffer','clearDepth'+'Buffer','clearStenc'+'ilBuffer','renderScen'+'eColorMap','renderScen'+'eDepthMap','cullFaces','farClip','flipFaces','fog','fov','frustumCul'+'ling','horizontal'+'Fov','layers','renderTarg'+'et','nearClip','orthoHeigh'+'t','projection','priority','rect','scissorRec'+'t','aperture','shutter','sensitivit'+'y','gammaCorre'+'ction','toneMappin'+'g'];for(let _0x48a9e6=-0xaa3*-0x1+-0x32d+0x3bb*-0x2;_0x48a9e6<_0x25d72a['length'];_0x48a9e6++){const _0x55ce30=_0x25d72a[_0x48a9e6];if(_0xac2f9e['hasOwnProp'+'erty'](_0x55ce30)){const _0x1f4713=_0xac2f9e[_0x55ce30];switch(_0x55ce30){case'rect':case'scissorRec'+'t':Array['isArray'](_0x1f4713)?_0x41a8fb[_0x55ce30]=new re(_0x1f4713[-0xa*-0x38a+0xf1*0x26+-0x472a],_0x1f4713[-0x97*0x2d+0x21e1+-0x755],_0x1f4713[0xab8+-0x305+-0x7b1],_0x1f4713[-0xef0+0x1c07+-0xd14]):_0x41a8fb[_0x55ce30]=_0x1f4713;break;case'clearColor':Array['isArray'](_0x1f4713)?_0x41a8fb[_0x55ce30]=new ie(_0x1f4713[0x1482+0x72*-0x15+0x8*-0x165],_0x1f4713[-0x148b+0x44*0x11+-0x26*-0x6c],_0x1f4713[-0xe*0xde+-0x8*0x3a1+-0x2a*-0xfb],_0x1f4713[-0x1aad+-0x192c+0x33dc]):_0x41a8fb[_0x55ce30]=_0x1f4713;break;default:_0x41a8fb[_0x55ce30]=_0x1f4713;break;}}}super['initialize'+'ComponentD'+'ata'](_0x41a8fb,_0xac2f9e,['enabled']);}['cloneCompo'+'nent'](_0x5d9998,_0x4eb489){const _0x20bd78=_0x5d9998['camera'];return this['addCompone'+'nt'](_0x4eb489,{'aspectRatio':_0x20bd78['aspectRati'+'o'],'aspectRatioMode':_0x20bd78['aspectRati'+'oMode'],'calculateProjection':_0x20bd78['calculateP'+'rojection'],'calculateTransform':_0x20bd78['calculateT'+'ransform'],'clearColor':_0x20bd78['clearColor'],'clearColorBuffer':_0x20bd78['clearColor'+'Buffer'],'clearDepthBuffer':_0x20bd78['clearDepth'+'Buffer'],'clearStencilBuffer':_0x20bd78['clearStenc'+'ilBuffer'],'renderSceneDepthMap':_0x20bd78['renderScen'+'eDepthMap'],'renderSceneColorMap':_0x20bd78['renderScen'+'eColorMap'],'cullFaces':_0x20bd78['cullFaces'],'enabled':_0x20bd78['enabled'],'farClip':_0x20bd78['farClip'],'flipFaces':_0x20bd78['flipFaces'],'fov':_0x20bd78['fov'],'frustumCulling':_0x20bd78['frustumCul'+'ling'],'horizontalFov':_0x20bd78['horizontal'+'Fov'],'layers':_0x20bd78['layers'],'renderTarget':_0x20bd78['renderTarg'+'et'],'nearClip':_0x20bd78['nearClip'],'orthoHeight':_0x20bd78['orthoHeigh'+'t'],'projection':_0x20bd78['projection'],'priority':_0x20bd78['priority'],'rect':_0x20bd78['rect'],'scissorRect':_0x20bd78['scissorRec'+'t'],'aperture':_0x20bd78['aperture'],'sensitivity':_0x20bd78['sensitivit'+'y'],'shutter':_0x20bd78['shutter'],'gammaCorrection':_0x20bd78['gammaCorre'+'ction'],'toneMapping':_0x20bd78['toneMappin'+'g']});}['onBeforeRe'+'move'](_0x32fcbb,_0x2b530f){this['removeCame'+'ra'](_0x2b530f),_0x2b530f['onRemove']();}['onAppPrere'+'nder'](){for(let _0x2a2a2a=0x923*-0x2+-0x3e1+0x1627,_0xd7b643=this['cameras']['length'];_0x2a2a2a<_0xd7b643;_0x2a2a2a++)this['cameras'][_0x2a2a2a]['onAppPrere'+'nder']();}['addCamera'](_0x3190b5){this['cameras']['push'](_0x3190b5),ul(this['cameras']);}['removeCame'+'ra'](_0x326d2b){const _0x2aaa40=this['cameras']['indexOf'](_0x326d2b);_0x2aaa40>=0x6*0x65b+0x204+0x2*-0x1413&&(this['cameras']['splice'](_0x2aaa40,-0x118c+-0x47a+-0x1607*-0x1),ul(this['cameras']));}['destroy'](){this['app']['off']('prerender',this['onAppPrere'+'nder'],this),super['destroy']();}}we['_buildAcce'+'ssors'](Ir['prototype'],p0);class m0{constructor(){h(this,'enabled',!(0x93c+-0x1a74+-0x1d*-0x98)),h(this,'light'),h(this,'type','directiona'+'l'),h(this,'color',new ie(-0xb74*-0x1+0xc30+0x17a3*-0x1,-0x3*-0x9e1+-0x267c+-0xce*-0xb,-0x837*-0x1+0x1a42+-0x2278)),h(this,'intensity',0x1*0x4cd+-0x101e+0x2*0x5a9),h(this,'luminance',0x1963+-0x6b*-0x17+-0x2300),h(this,'shape',Ys),h(this,'affectSpec'+'ularity',!(-0x4*-0x776+-0x13df+-0x9f9)),h(this,'castShadow'+'s',!(0x568+-0x13e5*-0x1+0x194c*-0x1)),h(this,'shadowDist'+'ance',0x20*-0x18+-0x13fa+0x7e*0x2f),h(this,'shadowInte'+'nsity',-0x219f+-0x1eb4+0x4054),h(this,'shadowReso'+'lution',-0x2700+0x4da+0x2626),h(this,'shadowBias',0x1c57+0xcca+-0x2921*0x1+0.05),h(this,'numCascade'+'s',-0x1f44+-0xd7a+0x2cbf),h(this,'cascadeBle'+'nd',-0x10fd+-0x1194*0x1+0x2291),h(this,'bakeNumSam'+'ples',0x7*-0x95+-0xd1e*-0x2+-0x1628),h(this,'bakeArea',0x22b8+-0x1*-0x1aa+0x2462*-0x1),h(this,'cascadeDis'+'tribution',0x19*0x28+0x157*-0x11+-0x1*-0x12df+0.5),h(this,'normalOffs'+'etBias',0x99*0x2f+-0x5b3+-0x1664),h(this,'range',-0x22b0+-0x10d9*0x1+0x3393),h(this,'innerConeA'+'ngle',-0xf16+0x23*-0xed+0x2fa5),h(this,'outerConeA'+'ngle',-0x1*-0x2291+-0x13d*-0x7+-0x1*0x2b0f),h(this,'falloffMod'+'e',Qp),h(this,'shadowType',$s),h(this,'vsmBlurSiz'+'e',0x781+0x136d*0x1+-0x1*0x1ae3),h(this,'vsmBlurMod'+'e',em),h(this,'vsmBias',(-0x13df+0x1221+0x1be+0.01)*(0x1*-0x1b5+-0x1ca*-0x3+-0x3a9+0.25)),h(this,'cookieAsse'+'t',null),h(this,'cookie',null),h(this,'cookieInte'+'nsity',-0xc*-0x53+0xde3+-0x11c6),h(this,'cookieFall'+'off',!(-0xd67*0x1+0x344+0xa23*0x1)),h(this,'cookieChan'+'nel','rgb'),h(this,'cookieAngl'+'e',0x2*-0xe64+0x1*-0x2191+0x3e59),h(this,'cookieScal'+'e',null),h(this,'cookieOffs'+'et',null),h(this,'shadowUpda'+'teMode',lm),h(this,'mask',-0x1595+-0x2597+0x3b2d*0x1),h(this,'affectDyna'+'mic',!(-0x8a*-0xc+0x8ce+-0x187*0xa)),h(this,'affectLigh'+'tmapped',!(0x254*-0xa+0x4c9+0x2*0x940)),h(this,'bake',!(0x26cb+0x119+-0x27e3)),h(this,'bakeDir',!(0x607*-0x3+-0x199*0x17+0x36d4)),h(this,'isStatic',!(-0x15d*0x9+0x1e52+-0x483*0x4)),h(this,'layers',[er]),h(this,'penumbraSi'+'ze',-0xcf+0x293*-0x5+-0xdaf*-0x1),h(this,'penumbraFa'+'lloff',-0x138+0x705*-0x1+0x83e),h(this,'shadowSamp'+'les',-0x26cb*-0x1+0x5*0x62f+-0x45a6),h(this,'shadowBloc'+'kerSamples',0x4c6+-0x45*-0x4b+-0x18ed);}}const Ho=Object['keys'](new m0());class TF extends we{constructor(){super(...arguments),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_cookieAss'+'et',null),h(this,'_cookieAss'+'etId',null),h(this,'_cookieAss'+'etAdd',!(-0x21b7+0x1*0x1d3+0x17*0x163)),h(this,'_cookieMat'+'rix',null);}get['data'](){const _0xed70ad=this['system']['store'][this['entity']['getGuid']()];return _0xed70ad?_0xed70ad['data']:null;}set['enabled'](_0x259b18){this['_setValue']('enabled',_0x259b18,function(_0x32f15a,_0x2f7de7){this['onSetEnabl'+'ed'](null,_0x2f7de7,_0x32f15a);});}get['enabled'](){return this['data']['enabled'];}set['light'](_0x492019){this['_setValue']('light',_0x492019);}get['light'](){return this['data']['light'];}set['type'](_0x1f475f){this['_setValue']('type',_0x1f475f,function(_0x5de33e,_0x1d9c26){this['system']['changeType'](this,_0x1d9c26,_0x5de33e),this['refreshPro'+'perties']();});}get['type'](){return this['data']['type'];}set['color'](_0x156e2b){this['_setValue']('color',_0x156e2b,function(_0x223e23,_0x231a6f){this['light']['setColor'](_0x223e23);},!(-0x1485+-0x1348+0x27cd));}get['color'](){return this['data']['color'];}set['intensity'](_0x48ea42){this['_setValue']('intensity',_0x48ea42,function(_0x219e04,_0x37218f){this['light']['intensity']=_0x219e04;});}get['intensity'](){return this['data']['intensity'];}set['luminance'](_0x513f48){this['_setValue']('luminance',_0x513f48,function(_0x3beded,_0x20011c){this['light']['luminance']=_0x3beded;});}get['luminance'](){return this['data']['luminance'];}set['shape'](_0x1813a4){this['_setValue']('shape',_0x1813a4,function(_0x5cf1ab,_0x3d71ce){this['light']['shape']=_0x5cf1ab;});}get['shape'](){return this['data']['shape'];}set['affectSpec'+'ularity'](_0x5acc5c){this['_setValue']('affectSpec'+'ularity',_0x5acc5c,function(_0x14ff69,_0x4d2281){this['light']['affectSpec'+'ularity']=_0x14ff69;});}get['affectSpec'+'ularity'](){return this['data']['affectSpec'+'ularity'];}set['castShadow'+'s'](_0x364d8c){this['_setValue']('castShadow'+'s',_0x364d8c,function(_0x11e24e,_0x37b947){this['light']['castShadow'+'s']=_0x11e24e;});}get['castShadow'+'s'](){return this['data']['castShadow'+'s'];}set['shadowDist'+'ance'](_0x2f01b6){this['_setValue']('shadowDist'+'ance',_0x2f01b6,function(_0x39e09b,_0x268654){this['light']['shadowDist'+'ance']=_0x39e09b;});}get['shadowDist'+'ance'](){return this['data']['shadowDist'+'ance'];}set['shadowInte'+'nsity'](_0x48cfa5){this['_setValue']('shadowInte'+'nsity',_0x48cfa5,function(_0xbc5607,_0x140ac1){this['light']['shadowInte'+'nsity']=_0xbc5607;});}get['shadowInte'+'nsity'](){return this['data']['shadowInte'+'nsity'];}set['shadowReso'+'lution'](_0x1b73a2){this['_setValue']('shadowReso'+'lution',_0x1b73a2,function(_0x5a9fbd,_0x2aa960){this['light']['shadowReso'+'lution']=_0x5a9fbd;});}get['shadowReso'+'lution'](){return this['data']['shadowReso'+'lution'];}set['shadowBias'](_0x57309c){this['_setValue']('shadowBias',_0x57309c,function(_0x1aebb8,_0x4d0644){this['light']['shadowBias']=-(0x934+0x101d+-0x1951*0x1+0.01)*Y['clamp'](_0x1aebb8,0x1fa*0x1+0x1710+-0x190a,0x1*-0x1e11+0x2425+-0x613);});}get['shadowBias'](){return this['data']['shadowBias'];}set['numCascade'+'s'](_0x16b6f7){this['_setValue']('numCascade'+'s',_0x16b6f7,function(_0x43b8d5,_0x5d27e5){this['light']['numCascade'+'s']=Y['clamp'](Math['floor'](_0x43b8d5),-0xb39+-0xb*-0x52+0x22*0x3a,0xaa7+0xaae*0x2+-0x1*0x1fff);});}get['numCascade'+'s'](){return this['data']['numCascade'+'s'];}set['cascadeBle'+'nd'](_0xe2bcce){this['_setValue']('cascadeBle'+'nd',_0xe2bcce,function(_0x18cd36,_0x1533e1){this['light']['cascadeBle'+'nd']=Y['clamp'](_0x18cd36,-0x216e+-0x53*-0x73+-0x3db,-0xad9*0x1+-0x14*0x1cc+0x2eca);});}get['cascadeBle'+'nd'](){return this['data']['cascadeBle'+'nd'];}set['bakeNumSam'+'ples'](_0x3f6894){this['_setValue']('bakeNumSam'+'ples',_0x3f6894,function(_0x4f625b,_0x5b446a){this['light']['bakeNumSam'+'ples']=Y['clamp'](Math['floor'](_0x4f625b),0x395*0x3+-0x43*0x63+-0xf2b*-0x1,0xe0d+-0xc94+0x3d*-0x2);});}get['bakeNumSam'+'ples'](){return this['data']['bakeNumSam'+'ples'];}set['bakeArea'](_0x35e43f){this['_setValue']('bakeArea',_0x35e43f,function(_0x29b38b,_0x425121){this['light']['bakeArea']=Y['clamp'](_0x29b38b,-0xa18*0x2+-0x1b8f+0x2fbf,-0xd57+-0x1987+-0x2792*-0x1);});}get['bakeArea'](){return this['data']['bakeArea'];}set['cascadeDis'+'tribution'](_0x25f68d){this['_setValue']('cascadeDis'+'tribution',_0x25f68d,function(_0x3791f6,_0x1e02bf){this['light']['cascadeDis'+'tribution']=Y['clamp'](_0x3791f6,0xbb8+0x17d6+-0x238e,-0x2f*-0x47+0x5de+-0x3b*0x52);});}get['cascadeDis'+'tribution'](){return this['data']['cascadeDis'+'tribution'];}set['normalOffs'+'etBias'](_0x2bc8e2){this['_setValue']('normalOffs'+'etBias',_0x2bc8e2,function(_0x4861b2,_0x197976){this['light']['normalOffs'+'etBias']=Y['clamp'](_0x4861b2,-0x5e7*0x4+-0x65*-0x20+0xafc,0x22e7+0x9dd+-0x2cc3);});}get['normalOffs'+'etBias'](){return this['data']['normalOffs'+'etBias'];}set['range'](_0x5229ea){this['_setValue']('range',_0x5229ea,function(_0x535fc4,_0x48d486){this['light']['attenuatio'+'nEnd']=_0x535fc4;});}get['range'](){return this['data']['range'];}set['innerConeA'+'ngle'](_0x5f4a9c){this['_setValue']('innerConeA'+'ngle',_0x5f4a9c,function(_0x166b06,_0x12ea27){this['light']['innerConeA'+'ngle']=_0x166b06;});}get['innerConeA'+'ngle'](){return this['data']['innerConeA'+'ngle'];}set['outerConeA'+'ngle'](_0x55d233){this['_setValue']('outerConeA'+'ngle',_0x55d233,function(_0x2ca45f,_0x3158a1){this['light']['outerConeA'+'ngle']=_0x2ca45f;});}get['outerConeA'+'ngle'](){return this['data']['outerConeA'+'ngle'];}set['falloffMod'+'e'](_0x5189a3){this['_setValue']('falloffMod'+'e',_0x5189a3,function(_0x1ee3b0,_0x2e82e2){this['light']['falloffMod'+'e']=_0x1ee3b0;});}get['falloffMod'+'e'](){return this['data']['falloffMod'+'e'];}set['shadowType'](_0x6f4450){this['_setValue']('shadowType',_0x6f4450,function(_0x45c2e4,_0x89114a){this['light']['shadowType']=_0x45c2e4;});}get['shadowType'](){return this['data']['shadowType'];}set['vsmBlurSiz'+'e'](_0x1029ac){this['_setValue']('vsmBlurSiz'+'e',_0x1029ac,function(_0x453096,_0x290f61){this['light']['vsmBlurSiz'+'e']=_0x453096;});}get['vsmBlurSiz'+'e'](){return this['data']['vsmBlurSiz'+'e'];}set['vsmBlurMod'+'e'](_0x2b21eb){this['_setValue']('vsmBlurMod'+'e',_0x2b21eb,function(_0x427762,_0x13b5e7){this['light']['vsmBlurMod'+'e']=_0x427762;});}get['vsmBlurMod'+'e'](){return this['data']['vsmBlurMod'+'e'];}set['vsmBias'](_0x4bb63a){this['_setValue']('vsmBias',_0x4bb63a,function(_0x20bece,_0x2a759e){this['light']['vsmBias']=Y['clamp'](_0x20bece,-0x267e+0x3*-0x5b6+0x37a0,0x198f+0xede+0x1*-0x286c);});}get['vsmBias'](){return this['data']['vsmBias'];}set['cookieAsse'+'t'](_0xa631ea){this['_setValue']('cookieAsse'+'t',_0xa631ea,function(_0x435a9c,_0x49ac4c){if(!(this['_cookieAss'+'etId']&&(_0x435a9c instanceof pe&&_0x435a9c['id']===this['_cookieAss'+'etId']||_0x435a9c===this['_cookieAss'+'etId']))){if(this['onCookieAs'+'setRemove'](),this['_cookieAss'+'etId']=null,_0x435a9c instanceof pe)this['data']['cookieAsse'+'t']=_0x435a9c['id'],this['_cookieAss'+'etId']=_0x435a9c['id'],this['onCookieAs'+'setAdd'](_0x435a9c);else{if(typeof _0x435a9c=='number'){this['_cookieAss'+'etId']=_0x435a9c;const _0x5162f2=this['system']['app']['assets']['get'](_0x435a9c);_0x5162f2?this['onCookieAs'+'setAdd'](_0x5162f2):(this['_cookieAss'+'etAdd']=!(0xf69*-0x1+-0xc*0x192+0xed*0x25),this['system']['app']['assets']['on']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this));}}}});}get['cookieAsse'+'t'](){return this['data']['cookieAsse'+'t'];}set['cookie'](_0xb919c8){this['_setValue']('cookie',_0xb919c8,function(_0x36ee3b,_0x57507d){this['light']['cookie']=_0x36ee3b;});}get['cookie'](){return this['data']['cookie'];}set['cookieInte'+'nsity'](_0x4843a9){this['_setValue']('cookieInte'+'nsity',_0x4843a9,function(_0x15bb59,_0xa36222){this['light']['cookieInte'+'nsity']=Y['clamp'](_0x15bb59,0x145d*-0x1+0x351*0x2+-0x25*-0x5f,-0x37+0x3*0x8e4+-0x1a74);});}get['cookieInte'+'nsity'](){return this['data']['cookieInte'+'nsity'];}set['cookieFall'+'off'](_0x5b307e){this['_setValue']('cookieFall'+'off',_0x5b307e,function(_0xdbda25,_0x403531){this['light']['cookieFall'+'off']=_0xdbda25;});}get['cookieFall'+'off'](){return this['data']['cookieFall'+'off'];}set['cookieChan'+'nel'](_0x6ef484){this['_setValue']('cookieChan'+'nel',_0x6ef484,function(_0x276356,_0x4c1153){this['light']['cookieChan'+'nel']=_0x276356;});}get['cookieChan'+'nel'](){return this['data']['cookieChan'+'nel'];}set['cookieAngl'+'e'](_0x6a271f){this['_setValue']('cookieAngl'+'e',_0x6a271f,function(_0x53d4f2,_0x57ee0b){if(_0x53d4f2!==0x9a8+-0x140c+0xa64||this['cookieScal'+'e']!==null){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new re());let _0x5d4be5=-0x160d*0x1+0x3*-0x9e5+0x33bd,_0xcc977b=-0x148b+0x311*0x7+0x1*-0xeb;this['cookieScal'+'e']&&(_0x5d4be5=this['cookieScal'+'e']['x'],_0xcc977b=this['cookieScal'+'e']['y']);const _0x14d5a4=Math['cos'](_0x53d4f2*Y['DEG_TO_RAD']),_0x49f0a5=Math['sin'](_0x53d4f2*Y['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x14d5a4/_0x5d4be5,-_0x49f0a5/_0x5d4be5,_0x49f0a5/_0xcc977b,_0x14d5a4/_0xcc977b),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;});}get['cookieAngl'+'e'](){return this['data']['cookieAngl'+'e'];}set['cookieScal'+'e'](_0x568fa9){this['_setValue']('cookieScal'+'e',_0x568fa9,function(_0x4c37dd,_0x404b56){if(_0x4c37dd!==null||this['cookieAngl'+'e']!==-0x249a+-0x2*0x8db+0x4f*0xb0){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new re());const _0x5eb378=_0x4c37dd['x'],_0x2174a6=_0x4c37dd['y'],_0x312477=Math['cos'](this['cookieAngl'+'e']*Y['DEG_TO_RAD']),_0x5a2a8c=Math['sin'](this['cookieAngl'+'e']*Y['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x312477/_0x5eb378,-_0x5a2a8c/_0x5eb378,_0x5a2a8c/_0x2174a6,_0x312477/_0x2174a6),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;},!(0x1e85+0xdd+-0x1f62));}get['cookieScal'+'e'](){return this['data']['cookieScal'+'e'];}set['cookieOffs'+'et'](_0x13c877){this['_setValue']('cookieOffs'+'et',_0x13c877,function(_0x2986c8,_0x481633){this['light']['cookieOffs'+'et']=_0x2986c8;},!(0x15c3+0x1*0x60d+-0x1bd0));}get['cookieOffs'+'et'](){return this['data']['cookieOffs'+'et'];}set['shadowUpda'+'teMode'](_0x2f2251){this['_setValue']('shadowUpda'+'teMode',_0x2f2251,function(_0xe3bab1,_0x5a6523){this['light']['shadowUpda'+'teMode']=_0xe3bab1;},!(0x1*-0x1e43+-0x114*0x2+-0x206b*-0x1));}get['shadowUpda'+'teMode'](){return this['data']['shadowUpda'+'teMode'];}set['mask'](_0x3a51eb){this['_setValue']('mask',_0x3a51eb,function(_0x2f1fc2,_0x455287){this['light']['mask']=_0x2f1fc2;});}get['mask'](){return this['data']['mask'];}set['affectDyna'+'mic'](_0x1b1cbb){this['_setValue']('affectDyna'+'mic',_0x1b1cbb,function(_0x2a4e62,_0x151227){_0x2a4e62?this['light']['mask']|=Ss:this['light']['mask']&=~Ss,this['light']['layersDirt'+'y']();});}get['affectDyna'+'mic'](){return this['data']['affectDyna'+'mic'];}set['affectLigh'+'tmapped'](_0x19db39){this['_setValue']('affectLigh'+'tmapped',_0x19db39,function(_0x11ab82,_0x45332c){_0x11ab82?(this['light']['mask']|=di,this['bake']&&(this['light']['mask']&=~fi)):(this['light']['mask']&=~di,this['bake']&&(this['light']['mask']|=fi));});}get['affectLigh'+'tmapped'](){return this['data']['affectLigh'+'tmapped'];}set['bake'](_0x5c783b){this['_setValue']('bake',_0x5c783b,function(_0x459e68,_0x5e8b30){_0x459e68?(this['light']['mask']|=fi,this['affectLigh'+'tmapped']&&(this['light']['mask']&=~di)):(this['light']['mask']&=~fi,this['affectLigh'+'tmapped']&&(this['light']['mask']|=di)),this['light']['layersDirt'+'y']();});}get['bake'](){return this['data']['bake'];}set['bakeDir'](_0x32f48e){this['_setValue']('bakeDir',_0x32f48e,function(_0x4547ac,_0x10eb2f){this['light']['bakeDir']=_0x4547ac;});}get['bakeDir'](){return this['data']['bakeDir'];}set['isStatic'](_0x3e1368){this['_setValue']('isStatic',_0x3e1368,function(_0x3b1861,_0x1cb15d){this['light']['isStatic']=_0x3b1861;});}get['isStatic'](){return this['data']['isStatic'];}set['layers'](_0x4d80e6){this['_setValue']('layers',_0x4d80e6,function(_0x38d179,_0x324d3b){for(let _0x21a934=0x14e*-0xb+-0x1533+0x238d;_0x21a934<_0x324d3b['length'];_0x21a934++){const _0x46aba3=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x324d3b[_0x21a934]);_0x46aba3&&(_0x46aba3['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x46aba3));}for(let _0x417def=0xac*-0x2f+0x2be+0x1*0x1cd6;_0x417def<_0x38d179['length'];_0x417def++){const _0x5671f6=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x38d179[_0x417def]);_0x5671f6&&this['enabled']&&this['entity']['enabled']&&(_0x5671f6['addLight'](this),this['light']['addLayer'](_0x5671f6));}});}get['layers'](){return this['data']['layers'];}set['shadowUpda'+'teOverride'+'s'](_0x3b1894){this['light']['shadowUpda'+'teOverride'+'s']=_0x3b1894;}get['shadowUpda'+'teOverride'+'s'](){return this['light']['shadowUpda'+'teOverride'+'s'];}set['shadowSamp'+'les'](_0x28ca1f){this['light']['shadowSamp'+'les']=_0x28ca1f;}get['shadowSamp'+'les'](){return this['light']['shadowSamp'+'les'];}set['shadowBloc'+'kerSamples'](_0x3b333b){this['light']['shadowBloc'+'kerSamples']=_0x3b333b;}get['shadowBloc'+'kerSamples'](){return this['light']['shadowBloc'+'kerSamples'];}set['penumbraSi'+'ze'](_0x53aa16){this['light']['penumbraSi'+'ze']=_0x53aa16;}get['penumbraSi'+'ze'](){return this['light']['penumbraSi'+'ze'];}set['penumbraFa'+'lloff'](_0x56ef73){this['light']['penumbraFa'+'lloff']=_0x56ef73;}get['penumbraFa'+'lloff'](){return this['light']['penumbraFa'+'lloff'];}['_setValue'](_0x19af2a,_0x277fa6,_0x3517bc,_0x122522){const _0x1472ce=this['data'],_0x190614=_0x1472ce[_0x19af2a];!_0x122522&&_0x190614===_0x277fa6||(_0x1472ce[_0x19af2a]=_0x277fa6,_0x3517bc&&_0x3517bc['call'](this,_0x277fa6,_0x190614));}['addLightTo'+'Layers'](){for(let _0x5c9e72=0x1*-0x187b+-0x29*0xce+0x1*0x3979;_0x5c9e72<this['layers']['length'];_0x5c9e72++){const _0x227dcf=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x5c9e72]);_0x227dcf&&(_0x227dcf['addLight'](this),this['light']['addLayer'](_0x227dcf));}}['removeLigh'+'tFromLayer'+'s'](){for(let _0x127c34=-0x174*-0xd+-0xa52+-0x892;_0x127c34<this['layers']['length'];_0x127c34++){const _0x449f63=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x127c34]);_0x449f63&&(_0x449f63['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x449f63));}}['onLayersCh'+'anged'](_0x30e6b9,_0x5689d4){this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),_0x30e6b9['off']('add',this['onLayerAdd'+'ed'],this),_0x30e6b9['off']('remove',this['onLayerRem'+'oved'],this),_0x5689d4['on']('add',this['onLayerAdd'+'ed'],this),_0x5689d4['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x18eb9a){this['layers']['indexOf'](_0x18eb9a['id'])>=0x2067+-0x1867+-0x800&&this['enabled']&&this['entity']['enabled']&&(_0x18eb9a['addLight'](this),this['light']['addLayer'](_0x18eb9a));}['onLayerRem'+'oved'](_0x13a940){this['layers']['indexOf'](_0x13a940['id'])>=-0x17b*0x7+0x1*0x4f+0xa0e&&(_0x13a940['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x13a940));}['refreshPro'+'perties'](){for(let _0x299495=-0x29*-0xa1+0x2e*0x47+-0x268b;_0x299495<Ho['length'];_0x299495++){const _0x17c6fa=Ho[_0x299495];this[_0x17c6fa]=this[_0x17c6fa];}this['enabled']&&this['entity']['enabled']&&this['onEnable']();}['onCookieAs'+'setSet'](){let _0x37f10e=!(0xf6e+0x2288+0x10a7*-0x3);this['_cookieAss'+'et']['type']==='cubemap'&&!this['_cookieAss'+'et']['loadFaces']&&(this['_cookieAss'+'et']['loadFaces']=!(-0x248+-0x254d+0x1*0x2795),_0x37f10e=!(-0xbb1+0x18e3+0x3*-0x466)),(!this['_cookieAss'+'et']['resource']||_0x37f10e)&&this['system']['app']['assets']['load'](this['_cookieAss'+'et']),this['_cookieAss'+'et']['resource']&&this['onCookieAs'+'setLoad']();}['onCookieAs'+'setAdd'](_0x5d5cf8){this['_cookieAss'+'etId']===_0x5d5cf8['id']&&(this['_cookieAss'+'et']=_0x5d5cf8,this['light']['enabled']&&this['onCookieAs'+'setSet'](),this['_cookieAss'+'et']['on']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['on']('remove',this['onCookieAs'+'setRemove'],this));}['onCookieAs'+'setLoad'](){!this['_cookieAss'+'et']||!this['_cookieAss'+'et']['resource']||(this['cookie']=this['_cookieAss'+'et']['resource']);}['onCookieAs'+'setRemove'](){this['_cookieAss'+'etId']&&(this['_cookieAss'+'etAdd']&&(this['system']['app']['assets']['off']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this),this['_cookieAss'+'etAdd']=!(0xe10+0xa8e+0x1*-0x189d)),this['_cookieAss'+'et']&&(this['_cookieAss'+'et']['off']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['off']('remove',this['onCookieAs'+'setRemove'],this),this['_cookieAss'+'et']=null),this['cookie']=null);}['onEnable'](){const _0x4f97bc=this['system']['app']['scene'],_0x11c6a3=_0x4f97bc['layers'];this['light']['enabled']=!(0x1*0x41d+-0x6fd+0x2e0),this['_evtLayers'+'Changed']=_0x4f97bc['on']('set:layers',this['onLayersCh'+'anged'],this),_0x11c6a3&&(this['_evtLayerA'+'dded']=_0x11c6a3['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x11c6a3['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),this['_cookieAss'+'et']&&!this['cookie']&&this['onCookieAs'+'setSet']();}['onDisable'](){var _0x4bf680,_0x2f9153,_0x41f13f;const _0x486325=this['system']['app']['scene']['layers'];this['light']['enabled']=!(0x1e85*-0x1+0x1ba7+-0x31*-0xf),(_0x4bf680=this['_evtLayers'+'Changed'])==null||_0x4bf680['off'](),this['_evtLayers'+'Changed']=null,_0x486325&&((_0x2f9153=this['_evtLayerA'+'dded'])==null||_0x2f9153['off'](),this['_evtLayerA'+'dded']=null,(_0x41f13f=this['_evtLayerR'+'emoved'])==null||_0x41f13f['off'](),this['_evtLayerR'+'emoved']=null),this['removeLigh'+'tFromLayer'+'s']();}['onRemove'](){this['onDisable'](),this['light']['destroy'](),this['cookieAsse'+'t']=null;}}class wF extends ct{constructor(_0x1e8686){super(_0x1e8686),this['id']='light',this['ComponentT'+'ype']=TF,this['DataType']=m0,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x349171,_0x31e614){const _0x16216e={..._0x31e614};_0x16216e['type']||(_0x16216e['type']=_0x349171['data']['type']),_0x349171['data']['type']=_0x16216e['type'],_0x16216e['layers']&&Array['isArray'](_0x16216e['layers'])&&(_0x16216e['layers']=_0x16216e['layers']['slice'](-0x19*-0xf7+0x370+-0x1b8f)),_0x16216e['color']&&Array['isArray'](_0x16216e['color'])&&(_0x16216e['color']=new ie(_0x16216e['color'][0xa49*-0x2+0x28*-0x31+0xe1d*0x2],_0x16216e['color'][0x189b+0x1*-0x14b5+-0x3e5],_0x16216e['color'][-0x1*-0xbff+-0xfa2+0x3a5])),_0x16216e['cookieOffs'+'et']&&_0x16216e['cookieOffs'+'et']instanceof Array&&(_0x16216e['cookieOffs'+'et']=new J(_0x16216e['cookieOffs'+'et'][-0x213c+-0x1878+-0x99e*-0x6],_0x16216e['cookieOffs'+'et'][-0x52b+0x1*-0x72c+0xc58])),_0x16216e['cookieScal'+'e']&&_0x16216e['cookieScal'+'e']instanceof Array&&(_0x16216e['cookieScal'+'e']=new J(_0x16216e['cookieScal'+'e'][-0xb5c*0x1+-0x3f*0x24+0x1438],_0x16216e['cookieScal'+'e'][-0x106f+0x1177*-0x2+0x20e*0x19])),_0x16216e['enable']&&(console['warn']('WARNING:\x20e'+'nable:\x20Pro'+'perty\x20is\x20d'+'eprecated.'+'\x20Set\x20enabl'+'ed\x20propert'+'y\x20instead.'),_0x16216e['enabled']=_0x16216e['enable']),_0x16216e['shape']||(_0x16216e['shape']=Ys);const _0x351241=new pl(this['app']['graphicsDe'+'vice'],this['app']['scene']['clusteredL'+'ightingEna'+'bled']);_0x351241['type']=fu[_0x16216e['type']],_0x351241['_node']=_0x349171['entity'],_0x349171['data']['light']=_0x351241,super['initialize'+'ComponentD'+'ata'](_0x349171,_0x16216e,Ho);}['_onRemoveC'+'omponent'](_0x14e99a,_0x492e68){_0x492e68['onRemove']();}['cloneCompo'+'nent'](_0x4c74c4,_0x30ece3){const _0x239cbb=_0x4c74c4['light'],_0x10c40a=[];let _0x534000;for(let _0x4557c5=0x11c0+-0x3*0xa88+0xdd8;_0x4557c5<Ho['length'];_0x4557c5++)_0x534000=Ho[_0x4557c5],_0x534000!=='light'&&(_0x239cbb[_0x534000]&&_0x239cbb[_0x534000]['clone']?_0x10c40a[_0x534000]=_0x239cbb[_0x534000]['clone']():_0x10c40a[_0x534000]=_0x239cbb[_0x534000]);return this['addCompone'+'nt'](_0x30ece3,_0x10c40a);}['changeType'](_0x3c712e,_0x2406ad,_0x5c2c57){_0x2406ad!==_0x5c2c57&&(_0x3c712e['light']['type']=fu[_0x5c2c57]);}}const EF=['x','y','z','w'],bF=[void(-0x16b*-0x5+0x108c*-0x1+-0x975*-0x1),void(0xa5d+-0x185e+0x1*0xe01),J,D,re];function Yn(_0x182c72,_0xfb8241,_0x36e4de,_0xe38895){switch(_0xfb8241['type']){case'boolean':return!!_0x36e4de;case'number':if(typeof _0x36e4de=='number')return _0x36e4de;if(typeof _0x36e4de=='string'){const _0x2519ae=parseInt(_0x36e4de,0x2*0x3+-0x6b7+0x6bb);return isNaN(_0x2519ae)?null:_0x2519ae;}else{if(typeof _0x36e4de=='boolean')return 0x3ca*0x8+-0x124f+-0xc01+_0x36e4de;}return null;case'json':{const _0x82cab8={};if(Array['isArray'](_0xfb8241['schema'])){(!_0x36e4de||typeof _0x36e4de!='object')&&(_0x36e4de={});for(let _0x19b53d=0x223e+0x2290+-0x44ce;_0x19b53d<_0xfb8241['schema']['length'];_0x19b53d++){const _0x505cd9=_0xfb8241['schema'][_0x19b53d];if(_0x505cd9['name']){if(_0x505cd9['array']){_0x82cab8[_0x505cd9['name']]=[];const _0x5b0058=Array['isArray'](_0x36e4de[_0x505cd9['name']])?_0x36e4de[_0x505cd9['name']]:[];for(let _0x4c797d=0x67*0x36+-0x193d+-0x1d*-0x1f;_0x4c797d<_0x5b0058['length'];_0x4c797d++)_0x82cab8[_0x505cd9['name']]['push'](Yn(_0x182c72,_0x505cd9,_0x5b0058[_0x4c797d]));}else{const _0x397d37=_0x36e4de['hasOwnProp'+'erty'](_0x505cd9['name'])?_0x36e4de[_0x505cd9['name']]:_0x505cd9['default'];_0x82cab8[_0x505cd9['name']]=Yn(_0x182c72,_0x505cd9,_0x397d37);}}}}return _0x82cab8;}case'asset':return _0x36e4de instanceof pe?_0x36e4de:typeof _0x36e4de=='number'?_0x182c72['assets']['get'](_0x36e4de)||null:typeof _0x36e4de=='string'&&_0x182c72['assets']['get'](parseInt(_0x36e4de,-0x7cd*-0x3+0x1dd0+0x1*-0x352d))||null;case'entity':return _0x36e4de instanceof Ie?_0x36e4de:typeof _0x36e4de=='string'?_0x182c72['getEntityF'+'romIndex'](_0x36e4de):null;case'rgb':case'rgba':if(_0x36e4de instanceof ie)return _0xe38895 instanceof ie?(_0xe38895['copy'](_0x36e4de),_0xe38895):_0x36e4de['clone']();if(_0x36e4de instanceof Array&&_0x36e4de['length']>=0x175b+0x1ffd+0x3755*-0x1&&_0x36e4de['length']<=-0x2*-0x7b9+-0x4ab*-0x3+0x1d6f*-0x1){for(let _0x22cd6e=-0x1187*0x1+0x2*0x719+0x355*0x1;_0x22cd6e<_0x36e4de['length'];_0x22cd6e++)if(typeof _0x36e4de[_0x22cd6e]!='number')return null;return _0xe38895||(_0xe38895=new ie()),_0xe38895['r']=_0x36e4de[0x1*-0x2668+0xa49+0x1*0x1c1f],_0xe38895['g']=_0x36e4de[-0x813+0x2*0x70f+0x305*-0x2],_0xe38895['b']=_0x36e4de[0x18f9+-0x8*0x219+-0x82f*0x1],_0xe38895['a']=_0x36e4de['length']===0x40f*-0x2+0x2266+-0x1a45?-0x458+0xb78+-0x71f:_0x36e4de[0xc11*-0x2+0x2*-0xa43+0x8ef*0x5],_0xe38895;}else{if(typeof _0x36e4de=='string'&&/#(?:[0-9a-f]{2}){3,4}/i['test'](_0x36e4de))return _0xe38895||(_0xe38895=new ie()),_0xe38895['fromString'](_0x36e4de),_0xe38895;}return null;case'vec2':case'vec3':case'vec4':{const _0x141bda=parseInt(_0xfb8241['type']['slice'](-0x31d+0x1*0x11c5+-0xea5),0x815*-0x2+-0xe24+0x1e58),_0x8ff1ce=bF[_0x141bda];if(_0x36e4de instanceof _0x8ff1ce)return _0xe38895 instanceof _0x8ff1ce?(_0xe38895['copy'](_0x36e4de),_0xe38895):_0x36e4de['clone']();if(_0x36e4de instanceof Array&&_0x36e4de['length']===_0x141bda){for(let _0x357cca=-0x1*0x10f5+0xe3d+-0xc*-0x3a;_0x357cca<_0x36e4de['length'];_0x357cca++)if(typeof _0x36e4de[_0x357cca]!='number')return null;_0xe38895||(_0xe38895=new _0x8ff1ce());for(let _0x3ed65c=-0x1607+0x2*0xcfe+-0x3f5;_0x3ed65c<_0x141bda;_0x3ed65c++)_0xe38895[EF[_0x3ed65c]]=_0x36e4de[_0x3ed65c];return _0xe38895;}return null;}case'curve':if(_0x36e4de){let _0x17fe16;if(_0x36e4de instanceof qs||_0x36e4de instanceof na)_0x17fe16=_0x36e4de['clone']();else{const _0x1985fa=_0x36e4de['keys'][0xa4*0x8+0x11*0x66+-0xbe6]instanceof Array?na:qs;_0x17fe16=new _0x1985fa(_0x36e4de['keys']),_0x17fe16['type']=_0x36e4de['type'];}return _0x17fe16;}break;}return _0x36e4de;}function _0(_0x27ac9b,_0x5809d9,_0x3f3805,_0x2fec35){return _0x5809d9['array']?_0x3f3805['map']((_0x5c4fe6,_0x18c471)=>Yn(_0x27ac9b,_0x5809d9,_0x5c4fe6,_0x2fec35?_0x2fec35[_0x18c471]:null)):Yn(_0x27ac9b,_0x5809d9,_0x3f3805,_0x2fec35);}function g0(_0x2fc967,_0x3e0cec,_0xbbf0d,_0x85ca3e){if(_0xbbf0d)for(const _0x5b2fe9 in _0x3e0cec){const _0x29fa3c=_0x3e0cec[_0x5b2fe9],_0x26cff0=_0xbbf0d[_0x5b2fe9];_0x26cff0!==void(-0x277*0x2+-0x23d6+0x28c4)&&(_0x85ca3e[_0x5b2fe9]=_0(_0x2fc967,_0x29fa3c,_0x26cff0,_0x85ca3e[_0x5b2fe9]));}}const yn=class yn{constructor(_0x49af29){this['scriptType']=_0x49af29,this['index']={};}['add'](_0x240f5d,_0xcb3e45){if(this['index'][_0x240f5d]){w['warn']('attribute\x20'+'\x27'+_0x240f5d+('\x27\x20is\x20alrea'+'dy\x20defined'+'\x20for\x20scrip'+'t\x20type\x20\x27')+this['scriptType']['name']+'\x27');return;}else{if(yn['reservedNa'+'mes']['has'](_0x240f5d)){w['warn']('attribute\x20'+'\x27'+_0x240f5d+('\x27\x20is\x20a\x20res'+'erved\x20attr'+'ibute\x20name'));return;}}this['index'][_0x240f5d]=_0xcb3e45,Object['defineProp'+'erty'](this['scriptType']['prototype'],_0x240f5d,{'get':function(){return this['__attribut'+'es'][_0x240f5d];},'set':function(_0x221ce3){const _0x194201='attr',_0xb22cf5='attr:'+_0x240f5d,_0x539b75=this['__attribut'+'es'][_0x240f5d];let _0x4b26e3=_0x539b75;if(_0x539b75&&_0xcb3e45['type']!=='json'&&_0xcb3e45['type']!=='entity'&&_0x539b75['clone']&&(this['hasEvent'](_0x194201)||this['hasEvent'](_0xb22cf5))&&(_0x4b26e3=_0x539b75['clone']()),_0xcb3e45['array']){if(this['__attribut'+'es'][_0x240f5d]=[],_0x221ce3){for(let _0x315f29=0x21ab+-0x1472+-0xd39*0x1,_0x27cbb6=_0x221ce3['length'];_0x315f29<_0x27cbb6;_0x315f29++)this['__attribut'+'es'][_0x240f5d]['push'](Yn(this['app'],_0xcb3e45,_0x221ce3[_0x315f29],_0x539b75?_0x539b75[_0x315f29]:null));}}else this['__attribut'+'es'][_0x240f5d]=Yn(this['app'],_0xcb3e45,_0x221ce3,_0x539b75);this['fire'](_0x194201,_0x240f5d,this['__attribut'+'es'][_0x240f5d],_0x4b26e3),this['fire'](_0xb22cf5,this['__attribut'+'es'][_0x240f5d],_0x4b26e3);}});}['remove'](_0xf38749){return this['index'][_0xf38749]?(delete this['index'][_0xf38749],delete this['scriptType']['prototype'][_0xf38749],!(0xdbd+-0x15af+0x2*0x3f9)):!(0x1fb6+0x6e6+-0x269b);}['has'](_0x2bdc70){return!!this['index'][_0x2bdc70];}['get'](_0x355d81){return this['index'][_0x355d81]||null;}};h(yn,'assignAttr'+'ibutesToSc'+'ript',g0),h(yn,'attributeT'+'oValue',_0),h(yn,'reservedNa'+'mes',new Set(['app','entity','enabled','_enabled','_enabledOl'+'d','_destroyed','__attribut'+'es','__attribut'+'esRaw','__scriptTy'+'pe','__executio'+'nOrder','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']));let Sl=yn;const Bu='initialize',zu='postInitia'+'lize',AF='update',CF='postUpdate',PF='swap';class ts extends me{constructor(_0x34ac51){super(),h(this,'app'),h(this,'entity'),h(this,'_enabled'),h(this,'_enabledOl'+'d'),h(this,'_initializ'+'ed'),h(this,'_postIniti'+'alized'),h(this,'__destroye'+'d'),h(this,'__scriptTy'+'pe'),h(this,'__executio'+'nOrder'),this['initScript'](_0x34ac51);}set['enabled'](_0x23fd8e){this['_enabled']=!!_0x23fd8e,this['enabled']!==this['_enabledOl'+'d']&&(this['_enabledOl'+'d']=this['enabled'],this['fire'](this['enabled']?'enable':'disable'),this['fire']('state',this['enabled']),!this['_initializ'+'ed']&&this['enabled']&&(this['_initializ'+'ed']=!(-0x7*0x385+-0x1b29+-0x44*-0xc3),this['fire']('preInitial'+'ize'),this['initialize']&&this['entity']['script']['_scriptMet'+'hod'](this,Bu)),this['_initializ'+'ed']&&!this['_postIniti'+'alized']&&this['enabled']&&!this['entity']['script']['_beingEnab'+'led']&&(this['_postIniti'+'alized']=!(-0x1a3b+0xb12*-0x2+-0x3d*-0xcb),this['postInitia'+'lize']&&this['entity']['script']['_scriptMet'+'hod'](this,zu)));}get['enabled'](){return this['_enabled']&&!this['_destroyed']&&this['entity']['script']['enabled']&&this['entity']['enabled'];}['initScript'](_0x32189d){const _0x436379=this['constructo'+'r'];w['assert'](_0x32189d&&_0x32189d['app']&&_0x32189d['entity'],'script\x20['+_0x436379['__name']+(']\x20has\x20miss'+'ing\x20argume'+'nts\x20in\x20con'+'structor')),this['app']=_0x32189d['app'],this['entity']=_0x32189d['entity'],this['_enabled']=typeof _0x32189d['enabled']=='boolean'?_0x32189d['enabled']:!(0x2*-0x29+0xb*-0x322+0x22c8),this['_enabledOl'+'d']=this['enabled'],this['__destroye'+'d']=!(-0x6d9+0x2eb+0x13*0x35),this['__scriptTy'+'pe']=_0x436379,this['__executio'+'nOrder']=-(-0x4*-0x44c+-0x22*-0xab+0x1*-0x27e5);}static get['scriptName'](){return this['__name'];}}h(ts,'EVENT_ENAB'+'LE','enable'),h(ts,'EVENT_DISA'+'BLE','disable'),h(ts,'EVENT_STAT'+'E','state'),h(ts,'EVENT_DEST'+'ROY','destroy'),h(ts,'EVENT_ATTR','attr'),h(ts,'EVENT_ERRO'+'R','error'),h(ts,'__name',null),h(ts,'__getScrip'+'tName',S0);const MF=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s\/]*)\s*/;function S0(_0x10f005){if(typeof _0x10f005!='function')return;if(_0x10f005['scriptName'])return _0x10f005['scriptName'];if('name'in Function['prototype'])return _0x10f005['name'];if(_0x10f005===Function||_0x10f005===Function['prototype']['constructo'+'r'])return'Function';const _0x238f30=(''+_0x10f005)['match'](MF);return _0x238f30?_0x238f30[0x1f*-0x10f+0x99a*-0x1+0x2a6c]:void(0x1bd+-0x556+-0x1*-0x399);}class Wo extends ts{constructor(_0x4c199d){super(_0x4c199d),h(this,'__attribut'+'es'),h(this,'__attribut'+'esRaw'),this['initScript'+'Type'](_0x4c199d);}static get['attributes'](){return this['hasOwnProp'+'erty']('__attribut'+'es')||(this['__attribut'+'es']=new Sl(this)),this['__attribut'+'es'];}['initScript'](_0x3cb193){ts['prototype']['initScript']['call'](this,_0x3cb193),this['__attribut'+'es']={},this['__attribut'+'esRaw']=_0x3cb193['attributes']||{};}['initScript'+'Type'](_0x3b162b){this['initScript'](_0x3b162b);}['__initiali'+'zeAttribut'+'es'](_0x48d224){if(!(!_0x48d224&&!this['__attribut'+'esRaw'])){for(const _0x1c6395 in this['__scriptTy'+'pe']['attributes']['index'])this['__attribut'+'esRaw']&&this['__attribut'+'esRaw']['hasOwnProp'+'erty'](_0x1c6395)?this[_0x1c6395]=this['__attribut'+'esRaw'][_0x1c6395]:this['__attribut'+'es']['hasOwnProp'+'erty'](_0x1c6395)||(this['__scriptTy'+'pe']['attributes']['index'][_0x1c6395]['hasOwnProp'+'erty']('default')?this[_0x1c6395]=this['__scriptTy'+'pe']['attributes']['index'][_0x1c6395]['default']:this[_0x1c6395]=null);this['__attribut'+'esRaw']=null;}}static['extend'](_0x224ef5){for(const _0x3eed7f in _0x224ef5)_0x224ef5['hasOwnProp'+'erty'](_0x3eed7f)&&(this['prototype'][_0x3eed7f]=_0x224ef5[_0x3eed7f]);}}const DF=_0xaddd36=>_0xaddd36[0xe7d*0x1+-0x692+-0x7eb*0x1]['toLowerCas'+'e']()+_0xaddd36['substring'](0x5*0x55e+-0x5*0x209+-0x8*0x215);class Ii extends we{constructor(_0x29bd20,_0x28cafc){super(_0x29bd20,_0x28cafc),h(this,'_attribute'+'DataMap',new Map()),(this['_scripts']=[],this['_updateLis'+'t']=new oh({'sortBy':'__executio'+'nOrder'}),this['_postUpdat'+'eList']=new oh({'sortBy':'__executio'+'nOrder'}),this['_scriptsIn'+'dex']={},this['_destroyed'+'Scripts']=[],this['_destroyed']=!(-0xcfd+0x177*0xa+0x4*-0x6a),this['_scriptsDa'+'ta']=null,this['_oldState']=!(0x2024+0x2c8*0xb+-0x3ebc),this['_enabled']=!(-0x825+0x89*0x1d+-0x760),this['_beingEnab'+'led']=!(-0x25da+0x8*0x21c+0x14fb),this['_isLooping'+'ThroughScr'+'ipts']=!(0x53*-0x52+-0x2b*-0xa3+-0x2*0x65),this['_execution'+'Order']=-(0x527*-0x1+0x2356+-0x1e2e),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this));}set['scripts'](_0x45201d){this['_scriptsDa'+'ta']=_0x45201d;for(const _0x2919b5 in _0x45201d){if(!_0x45201d['hasOwnProp'+'erty'](_0x2919b5))continue;const _0x414bd0=this['_scriptsIn'+'dex'][_0x2919b5];if(_0x414bd0){if(typeof _0x45201d[_0x2919b5]['enabled']=='boolean'&&(_0x414bd0['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x414bd0);}),_0x414bd0['enabled']=!!_0x45201d[_0x2919b5]['enabled']),typeof _0x45201d[_0x2919b5]['attributes']=='object'){for(const _0x4e592a in _0x45201d[_0x2919b5]['attributes'])if(!Sl['reservedNa'+'mes']['has'](_0x4e592a)){if(!_0x414bd0['__attribut'+'es']['hasOwnProp'+'erty'](_0x4e592a)){const _0x355b53=this['system']['app']['scripts']['get'](_0x2919b5);_0x355b53&&_0x355b53['attributes']['add'](_0x4e592a,{});}_0x414bd0[_0x4e592a]=_0x45201d[_0x2919b5]['attributes'][_0x4e592a];}}}else console['log'](this['order']);}}get['scripts'](){return this['_scripts'];}set['enabled'](_0x22c719){const _0x3f8f63=this['_enabled'];this['_enabled']=_0x22c719,this['fire']('set','enabled',_0x3f8f63,_0x22c719);}get['enabled'](){return this['_enabled'];}['onEnable'](){this['_beingEnab'+'led']=!(0x5*0x61f+0x15b2+-0x344d),this['_checkStat'+'e'](),this['entity']['_beingEnab'+'led']||this['onPostStat'+'eChange'](),this['_beingEnab'+'led']=!(-0x385*-0x2+-0xfe9+0x20*0x47);}['onDisable'](){this['_checkStat'+'e']();}['onPostStat'+'eChange'](){const _0x518ee0=this['_beginLoop'+'ing']();for(let _0x2b50e5=0x2069+-0x192*-0x1+-0x21fb,_0x3b9ca3=this['scripts']['length'];_0x2b50e5<_0x3b9ca3;_0x2b50e5++){const _0x4307a9=this['scripts'][_0x2b50e5];_0x4307a9['_initializ'+'ed']&&!_0x4307a9['_postIniti'+'alized']&&_0x4307a9['enabled']&&(_0x4307a9['_postIniti'+'alized']=!(0x24d8+-0x12a1+0x1237*-0x1),_0x4307a9['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x4307a9,zu));}this['_endLoopin'+'g'](_0x518ee0);}['_beginLoop'+'ing'](){const _0x59ad8f=this['_isLooping'+'ThroughScr'+'ipts'];return this['_isLooping'+'ThroughScr'+'ipts']=!(0x2*0xd5f+0x379*0x8+0x7ca*-0x7),_0x59ad8f;}['_endLoopin'+'g'](_0x3bacb6){this['_isLooping'+'ThroughScr'+'ipts']=_0x3bacb6,this['_isLooping'+'ThroughScr'+'ipts']||this['_removeDes'+'troyedScri'+'pts']();}['_onSetEnab'+'led'](_0x4806ee,_0x17fabf,_0x34c707){this['_beingEnab'+'led']=!(-0x98d+0xc*0x8+0x105*0x9),this['_checkStat'+'e'](),this['_beingEnab'+'led']=!(0xbd1+0x1c7c+0xa13*-0x4);}['_checkStat'+'e'](){const _0xf4e7b9=this['enabled']&&this['entity']['enabled'];if(_0xf4e7b9===this['_oldState'])return;this['_oldState']=_0xf4e7b9,this['fire'](_0xf4e7b9?'enable':'disable'),this['fire']('state',_0xf4e7b9),_0xf4e7b9?this['system']['_addCompon'+'entToEnabl'+'ed'](this):this['system']['_removeCom'+'ponentFrom'+'Enabled'](this);const _0x23d38a=this['_beginLoop'+'ing']();for(let _0x2c6eda=-0x6af*-0x3+-0x1f47+0x59d*0x2,_0x3051c8=this['scripts']['length'];_0x2c6eda<_0x3051c8;_0x2c6eda++){const _0x38377e=this['scripts'][_0x2c6eda];_0x38377e['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x38377e);}),_0x38377e['enabled']=_0x38377e['_enabled'];}this['_endLoopin'+'g'](_0x23d38a);}['_onBeforeR'+'emove'](){this['fire']('remove');const _0x3ec834=this['_beginLoop'+'ing']();for(let _0x4cab7c=0x169*0x4+0x24e4+-0x2*0x1544;_0x4cab7c<this['scripts']['length'];_0x4cab7c++){const _0x150705=this['scripts'][_0x4cab7c];_0x150705&&this['destroy'](_0x150705['__scriptTy'+'pe']['__name']);}this['_endLoopin'+'g'](_0x3ec834);}['_removeDes'+'troyedScri'+'pts'](){const _0x1b1b85=this['_destroyed'+'Scripts']['length'];if(_0x1b1b85){for(let _0x45cebf=-0x1*0x1ba7+0x42*-0x8f+0x4085;_0x45cebf<_0x1b1b85;_0x45cebf++){const _0x3e6de5=this['_destroyed'+'Scripts'][_0x45cebf];this['_removeScr'+'iptInstanc'+'e'](_0x3e6de5);}this['_destroyed'+'Scripts']['length']=0x1ab8+0xd*-0x17d+-0x75f,this['_resetExec'+'utionOrder'](-0x23c8+-0x162+0x252a,this['_scripts']['length']);}}['_onInitial'+'izeAttribu'+'tes'](){for(let _0xec1aee=-0x1982+-0x21ca+0x3b4c,_0x4227ad=this['scripts']['length'];_0xec1aee<_0x4227ad;_0xec1aee++){const _0x573ebc=this['scripts'][_0xec1aee];this['initialize'+'Attributes'](_0x573ebc);}}['initialize'+'Attributes'](_0x24ea2a){var _0x4534e2;if(_0x24ea2a instanceof Wo)_0x24ea2a['__initiali'+'zeAttribut'+'es']();else{const _0x4ff9d4=_0x24ea2a['__scriptTy'+'pe']['__name'],_0x162b5d=this['_attribute'+'DataMap']['get'](_0x4ff9d4);if(!_0x162b5d)return;const _0x3a2ee2=(_0x4534e2=this['system']['app']['scripts'])==null?void(-0xb63+-0x164d+0x21b0):_0x4534e2['getSchema'](_0x4ff9d4);_0x3a2ee2||w['warnOnce']('No\x20schema\x20'+'exists\x20for'+'\x20the\x20scrip'+'t\x20\x27'+_0x4ff9d4+('\x27.\x20A\x20schem'+'a\x20must\x20exi'+'st\x20for\x20dat'+'a\x20to\x20be\x20in'+'stantiated'+'\x20on\x20the\x20sc'+'ript.')),g0(this['system']['app'],_0x3a2ee2['attributes'],_0x162b5d,_0x24ea2a);}}['_scriptMet'+'hod'](_0x248f12,_0x1ac794,_0x323f20){try{_0x248f12[_0x1ac794](_0x323f20);}catch(_0x255d6e){_0x248f12['enabled']=!(0x1f2+-0x1b9f+-0x1*-0x19ae),_0x248f12['hasEvent']('error')||(console['warn']('unhandled\x20'+'exception\x20'+'while\x20call'+'ing\x20\x22'+_0x1ac794+'\x22\x20for\x20\x22'+_0x248f12['__scriptTy'+'pe']['__name']+'\x22\x20script:\x20',_0x255d6e),console['error'](_0x255d6e)),_0x248f12['fire']('error',_0x255d6e,_0x1ac794),this['fire']('error',_0x248f12,_0x255d6e,_0x1ac794);}}['_onInitial'+'ize'](){const _0x463f6c=this['_scripts'],_0x2bca74=this['_beginLoop'+'ing']();for(let _0x144b80=0x1*0x2c2+-0x9*-0x392+-0x22e4,_0x23e9f1=_0x463f6c['length'];_0x144b80<_0x23e9f1;_0x144b80++){const _0xa093ec=_0x463f6c[_0x144b80];!_0xa093ec['_initializ'+'ed']&&_0xa093ec['enabled']&&(_0xa093ec['_initializ'+'ed']=!(0x2581+-0xc2e*-0x2+-0x149f*0x3),_0xa093ec['initialize']&&this['_scriptMet'+'hod'](_0xa093ec,Bu));}this['_endLoopin'+'g'](_0x2bca74);}['_onPostIni'+'tialize'](){this['onPostStat'+'eChange']();}['_onUpdate'](_0x3e723e){const _0x3b12b5=this['_updateLis'+'t'];if(!_0x3b12b5['length'])return;const _0x423cc4=this['_beginLoop'+'ing']();for(_0x3b12b5['loopIndex']=0x5f8+0xf5b+0x1*-0x1553;_0x3b12b5['loopIndex']<_0x3b12b5['length'];_0x3b12b5['loopIndex']++){const _0x2134a9=_0x3b12b5['items'][_0x3b12b5['loopIndex']];_0x2134a9['enabled']&&this['_scriptMet'+'hod'](_0x2134a9,AF,_0x3e723e);}this['_endLoopin'+'g'](_0x423cc4);}['_onPostUpd'+'ate'](_0x18c399){const _0x11e8f=this['_postUpdat'+'eList'];if(!_0x11e8f['length'])return;const _0x17287f=this['_beginLoop'+'ing']();for(_0x11e8f['loopIndex']=-0xa8d+-0x26bb+-0x1*-0x3148;_0x11e8f['loopIndex']<_0x11e8f['length'];_0x11e8f['loopIndex']++){const _0x3a8370=_0x11e8f['items'][_0x11e8f['loopIndex']];_0x3a8370['enabled']&&this['_scriptMet'+'hod'](_0x3a8370,CF,_0x18c399);}this['_endLoopin'+'g'](_0x17287f);}['_insertScr'+'iptInstanc'+'e'](_0x5eb3b1,_0x4f0b7c,_0x5f1cdb){_0x4f0b7c===-(-0x19ee*0x1+0x45d*-0x2+0x22a9)?(this['_scripts']['push'](_0x5eb3b1),_0x5eb3b1['__executio'+'nOrder']=_0x5f1cdb,_0x5eb3b1['update']&&this['_updateLis'+'t']['append'](_0x5eb3b1),_0x5eb3b1['postUpdate']&&this['_postUpdat'+'eList']['append'](_0x5eb3b1)):(this['_scripts']['splice'](_0x4f0b7c,0x15*0x86+0x6*0x1e1+-0x1644,_0x5eb3b1),_0x5eb3b1['__executio'+'nOrder']=_0x4f0b7c,this['_resetExec'+'utionOrder'](_0x4f0b7c+(-0x6*0xcd+-0x76d*0x2+0x13a9),_0x5f1cdb+(0x2330+-0x216d+-0x1c2)),_0x5eb3b1['update']&&this['_updateLis'+'t']['insert'](_0x5eb3b1),_0x5eb3b1['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x5eb3b1));}['_removeScr'+'iptInstanc'+'e'](_0x2fc59c){const _0x13de46=this['_scripts']['indexOf'](_0x2fc59c);return _0x13de46===-(0x1*-0x1c4b+0x17*-0x15d+0x3ba7*0x1)||(this['_scripts']['splice'](_0x13de46,-0x1c2d+0x1aa9+0x185),_0x2fc59c['update']&&this['_updateLis'+'t']['remove'](_0x2fc59c),_0x2fc59c['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x2fc59c)),_0x13de46;}['_resetExec'+'utionOrder'](_0x51a804,_0x5f45c6){for(let _0xac7a36=_0x51a804;_0xac7a36<_0x5f45c6;_0xac7a36++)this['_scripts'][_0xac7a36]['__executio'+'nOrder']=_0xac7a36;}['_resolveEn'+'tityScript'+'Attribute'](_0x4b5277,_0x30dfa4,_0x56857b,_0x8dc8fe,_0x1c74a9,_0x551ba1){if(_0x4b5277['array']){const _0x3f23c6=_0x56857b['length'];if(!_0x3f23c6)return;const _0x5a84a7=_0x56857b['slice']();for(let _0x41988f=-0x4*0x319+-0x4a3+0x1107;_0x41988f<_0x3f23c6;_0x41988f++){const _0x353701=_0x5a84a7[_0x41988f]instanceof lt?_0x5a84a7[_0x41988f]['getGuid']():_0x5a84a7[_0x41988f];_0x551ba1[_0x353701]&&(_0x5a84a7[_0x41988f]=_0x8dc8fe?_0x551ba1[_0x353701]['getGuid']():_0x551ba1[_0x353701]);}_0x1c74a9[_0x30dfa4]=_0x5a84a7;}else{if(_0x56857b instanceof lt)_0x56857b=_0x56857b['getGuid']();else{if(typeof _0x56857b!='string')return;}_0x551ba1[_0x56857b]&&(_0x1c74a9[_0x30dfa4]=_0x551ba1[_0x56857b]);}}['has'](_0x584eb0){if(typeof _0x584eb0=='string')return!!this['_scriptsIn'+'dex'][_0x584eb0];if(!_0x584eb0)return!(0x168b+-0x22c3+0xc39);const _0xc8af92=_0x584eb0,_0x52aa2b=_0xc8af92['__name'],_0x1f1e53=this['_scriptsIn'+'dex'][_0x52aa2b];return(_0x1f1e53&&_0x1f1e53['instance'])instanceof _0xc8af92;}['get'](_0x3156f0){if(typeof _0x3156f0=='string'){const _0xa34a3b=this['_scriptsIn'+'dex'][_0x3156f0];return _0xa34a3b?_0xa34a3b['instance']:null;}if(!_0x3156f0)return null;const _0x3ade1e=_0x3156f0,_0x58272b=_0x3ade1e['__name'],_0x2285a7=this['_scriptsIn'+'dex'][_0x58272b],_0x2e133c=_0x2285a7&&_0x2285a7['instance'];return _0x2e133c instanceof _0x3ade1e?_0x2e133c:null;}['create'](_0x5c8f20,_0x5080b9={}){const _0x38a791=this;let _0x39b3c2=_0x5c8f20,_0x710f5=_0x5c8f20;if(typeof _0x39b3c2=='string')_0x39b3c2=this['system']['app']['scripts']['get'](_0x39b3c2);else{if(_0x39b3c2){const _0x1b71d7=S0(_0x39b3c2),_0x2a04d5=DF(_0x1b71d7);!(_0x39b3c2['prototype']instanceof Wo)&&!_0x39b3c2['scriptName']&&w['warnOnce']('The\x20Script'+'\x20class\x20\x22'+_0x1b71d7+('\x22\x20must\x20hav'+'e\x20a\x20static'+'\x20\x22scriptNa'+'me\x22\x20proper'+'ty:\x20`')+_0x1b71d7+('.scriptNam'+'e\x20=\x20\x22')+_0x2a04d5+('\x22;`.\x20This\x20'+'will\x20be\x20an'+'\x20error\x20in\x20'+'future\x20ver'+'sions\x20of\x20P'+'layCanvas.')),_0x39b3c2['__name']??(_0x39b3c2['__name']=_0x39b3c2['scriptName']??_0x2a04d5),_0x710f5=_0x39b3c2['__name'];}}if(_0x39b3c2){if(!this['_scriptsIn'+'dex'][_0x710f5]||!this['_scriptsIn'+'dex'][_0x710f5]['instance']){const _0x36b24f=new _0x39b3c2({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x5080b9['hasOwnProp'+'erty']('enabled')?_0x5080b9['enabled']:!(0x1*-0xd61+0x2f*0x31+-0x33*-0x16),'attributes':_0x5080b9['attributes']||{}});_0x5080b9['properties']&&typeof _0x5080b9['properties']=='object'&&Object['assign'](_0x36b24f,_0x5080b9['properties']),_0x36b24f instanceof Wo||this['_attribute'+'DataMap']['set'](_0x710f5,_0x5080b9['attributes']);const _0x442206=this['_scripts']['length'];let _0x479990=-(-0x13fa+0x1d8f+-0x994);return typeof _0x5080b9['ind']=='number'&&_0x5080b9['ind']!==-(-0x23a4+-0x156a+0x390f)&&_0x442206>_0x5080b9['ind']&&(_0x479990=_0x5080b9['ind']),this['_insertScr'+'iptInstanc'+'e'](_0x36b24f,_0x479990,_0x442206),this['_scriptsIn'+'dex'][_0x710f5]={'instance':_0x36b24f,'onSwap':function(){_0x38a791['swap'](_0x710f5);}},this[_0x710f5]=_0x36b24f,_0x5080b9['preloading']||this['initialize'+'Attributes'](_0x36b24f),this['fire']('create',_0x710f5,_0x36b24f),this['fire']('create:'+_0x710f5,_0x36b24f),this['system']['app']['scripts']['on']('swap:'+_0x710f5,this['_scriptsIn'+'dex'][_0x710f5]['onSwap']),_0x5080b9['preloading']||(_0x36b24f['enabled']&&!_0x36b24f['_initializ'+'ed']&&(_0x36b24f['_initializ'+'ed']=!(-0xfb3+-0x13c5+0x2378),_0x36b24f['initialize']&&this['_scriptMet'+'hod'](_0x36b24f,Bu)),_0x36b24f['enabled']&&!_0x36b24f['_postIniti'+'alized']&&(_0x36b24f['_postIniti'+'alized']=!(-0x42a+-0x15cb*0x1+-0x5*-0x531),_0x36b24f['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x36b24f,zu))),_0x36b24f;}w['warn']('script\x20\x27'+_0x710f5+('\x27\x20is\x20alrea'+'dy\x20added\x20t'+'o\x20entity\x20\x27')+this['entity']['name']+'\x27');}else this['_scriptsIn'+'dex'][_0x710f5]={'awaiting':!(-0x976*0x3+0x74e+0x1514),'ind':this['_scripts']['length']},w['warn']('script\x20\x27'+_0x710f5+('\x27\x20is\x20not\x20f'+'ound,\x20awai'+'ting\x20it\x20to'+'\x20be\x20added\x20'+'to\x20registr'+'y'));return null;}['destroy'](_0x4bf464){let _0x24af30=_0x4bf464,_0x4c46c3=_0x4bf464;typeof _0x4c46c3=='string'?_0x4c46c3=this['system']['app']['scripts']['get'](_0x4c46c3):_0x4c46c3&&(_0x24af30=_0x4c46c3['__name']);const _0x4d3e0e=this['_scriptsIn'+'dex'][_0x24af30];if(delete this['_scriptsIn'+'dex'][_0x24af30],!_0x4d3e0e)return!(0x101c+0x26c0+-0x36db);this['_attribute'+'DataMap']['delete'](_0x24af30);const _0xb83cf5=_0x4d3e0e['instance'];if(_0xb83cf5&&!_0xb83cf5['_destroyed']){if(_0xb83cf5['enabled']=!(-0x2ea*0xb+0x1247*0x2+-0x47f),_0xb83cf5['_destroyed']=!(0x1213+0x1489+-0x269c),this['_isLooping'+'ThroughScr'+'ipts'])this['_destroyed'+'Scripts']['push'](_0xb83cf5);else{const _0x223972=this['_removeScr'+'iptInstanc'+'e'](_0xb83cf5);_0x223972>=-0x2b3*-0x9+-0x2*0x16f+-0x156d&&this['_resetExec'+'utionOrder'](_0x223972,this['_scripts']['length']);}}return this['system']['app']['scripts']['off']('swap:'+_0x24af30,_0x4d3e0e['onSwap']),delete this[_0x24af30],this['fire']('destroy',_0x24af30,_0xb83cf5||null),this['fire']('destroy:'+_0x24af30,_0xb83cf5||null),_0xb83cf5&&_0xb83cf5['fire']('destroy'),!(0x4*-0x8c8+-0xf82+0x32a2);}['swap'](_0x3b0a51){let _0x54bf15=_0x3b0a51,_0x47feea=_0x3b0a51;typeof _0x47feea=='string'?_0x47feea=this['system']['app']['scripts']['get'](_0x47feea):_0x47feea&&(_0x54bf15=_0x47feea['__name']);const _0x2fbad3=this['_scriptsIn'+'dex'][_0x54bf15];if(!_0x2fbad3||!_0x2fbad3['instance'])return!(0x24fc+-0x2*0x139+0x2289*-0x1);const _0xac492=_0x2fbad3['instance'],_0x37c20e=this['_scripts']['indexOf'](_0xac492),_0x29c19d=new _0x47feea({'app':this['system']['app'],'entity':this['entity'],'enabled':_0xac492['enabled'],'attributes':_0xac492['__attribut'+'es']});return _0x29c19d['swap']?(this['initialize'+'Attributes'](_0x29c19d),this['_scripts'][_0x37c20e]=_0x29c19d,this['_scriptsIn'+'dex'][_0x54bf15]['instance']=_0x29c19d,this[_0x54bf15]=_0x29c19d,_0x29c19d['__executio'+'nOrder']=_0x37c20e,_0xac492['update']&&this['_updateLis'+'t']['remove'](_0xac492),_0xac492['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0xac492),_0x29c19d['update']&&this['_updateLis'+'t']['insert'](_0x29c19d),_0x29c19d['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x29c19d),this['_scriptMet'+'hod'](_0x29c19d,PF,_0xac492),this['fire']('swap',_0x54bf15,_0x29c19d),this['fire']('swap:'+_0x54bf15,_0x29c19d),!(0x231+-0x1*-0x19ea+0x59f*-0x5)):!(0xd1e+-0x24c7+0x17aa);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x5528dc,_0x3def25){var _0x159337,_0x57db73,_0xfc5c4e;const _0x311e08=this['entity']['script'];for(const _0x288aeb in _0x5528dc['_scriptsIn'+'dex']){const _0x20c3de=this['system']['app']['scripts']['get'](_0x288aeb);if(!_0x20c3de)continue;const _0x179639=_0x5528dc['_scriptsIn'+'dex'][_0x288aeb];if(!_0x179639||!_0x179639['instance'])continue;const _0x6b4b98=_0x311e08[_0x288aeb]['__attribut'+'esRaw']??_0x311e08['_attribute'+'DataMap']['get'](_0x288aeb),_0x353cd5=_0x311e08[_0x288aeb]['__attribut'+'es'];if(!_0x6b4b98&&!_0x353cd5)continue;const _0x524b6e=!!_0x6b4b98,_0x25f2c4=_0x179639['instance']['__attribut'+'es']??_0x311e08['_attribute'+'DataMap']['get'](_0x288aeb);for(const _0x5de72b in _0x25f2c4){if(!_0x25f2c4[_0x5de72b])continue;const _0x5f4e43=((_0x159337=_0x20c3de['attributes'])==null?void(-0x448*-0x3+-0x1c4b+0xf73):_0x159337['get'](_0x5de72b))??((_0xfc5c4e=(_0x57db73=this['system']['app']['scripts']['getSchema'](_0x288aeb))==null?void(-0x88+-0x22b+0x2b3):_0x57db73['attributes'])==null?void(0x1631+-0xbd+-0x1574):_0xfc5c4e[_0x5de72b]);if(_0x5f4e43){if(_0x5f4e43['type']==='entity')this['_resolveEn'+'tityScript'+'Attribute'](_0x5f4e43,_0x5de72b,_0x25f2c4[_0x5de72b],_0x524b6e,_0x6b4b98||_0x353cd5,_0x3def25);else{if(_0x5f4e43['type']==='json'&&Array['isArray'](_0x5f4e43['schema'])){const _0x503fa4=_0x25f2c4[_0x5de72b],_0x23207b=_0x6b4b98?_0x6b4b98[_0x5de72b]:_0x353cd5[_0x5de72b];for(let _0x4628fc=-0x130*-0xe+-0x9*-0x200+-0x1*0x22a0;_0x4628fc<_0x5f4e43['schema']['length'];_0x4628fc++){const _0x50a32b=_0x5f4e43['schema'][_0x4628fc];if(_0x50a32b['type']==='entity'){if(_0x5f4e43['array']){for(let _0x319ae8=-0x113*-0x15+0x10d3*0x1+-0x2762;_0x319ae8<_0x503fa4['length'];_0x319ae8++)this['_resolveEn'+'tityScript'+'Attribute'](_0x50a32b,_0x50a32b['name'],_0x503fa4[_0x319ae8][_0x50a32b['name']],_0x524b6e,_0x23207b[_0x319ae8],_0x3def25);}else this['_resolveEn'+'tityScript'+'Attribute'](_0x50a32b,_0x50a32b['name'],_0x503fa4[_0x50a32b['name']],_0x524b6e,_0x23207b,_0x3def25);}}}}}}}}['move'](_0x17e08e,_0x1160bb){const _0x3394a6=this['_scripts']['length'];if(_0x1160bb>=_0x3394a6||_0x1160bb<-0x539+0x472*0x4+-0x1*0xc8f)return!(0x1a95+-0x251d+0xa89);let _0x251099=_0x17e08e,_0x2ec17d=_0x17e08e;typeof _0x2ec17d!='string'?_0x2ec17d=_0x17e08e['__name']:_0x251099=null;const _0x38559e=this['_scriptsIn'+'dex'][_0x2ec17d];if(!_0x38559e||!_0x38559e['instance'])return!(-0xd3*-0x1f+-0xbe1*0x1+-0xdab);const _0x2d2cfb=_0x38559e['instance'];if(_0x251099&&!(_0x2d2cfb instanceof _0x251099))return!(-0x106*0x22+-0x41*-0x2a+0x1823);const _0x27efce=this['_scripts']['indexOf'](_0x2d2cfb);return _0x27efce===-(0x1fd2+0xff2+-0x2fc3)||_0x27efce===_0x1160bb?!(0x2*-0x31d+0x4*-0x251+-0x1*-0xf7f):(this['_scripts']['splice'](_0x1160bb,0x5*-0x535+0x116a*-0x2+0x3cdd,this['_scripts']['splice'](_0x27efce,-0x1df9*-0x1+-0xd4b+0x1*-0x10ad)[-0x22b+0xd01+-0xad6]),this['_resetExec'+'utionOrder'](0xc9d*-0x3+0x1b61+0xa76,_0x3394a6),this['_updateLis'+'t']['sort'](),this['_postUpdat'+'eList']['sort'](),this['fire']('move',_0x2ec17d,_0x2d2cfb,_0x1160bb,_0x27efce),this['fire']('move:'+_0x2ec17d,_0x2d2cfb,_0x1160bb,_0x27efce),!(0x10de+-0xd9c+-0x2*0x1a1));}}h(Ii,'EVENT_CREA'+'TE','create'),h(Ii,'EVENT_DEST'+'ROY','destroy'),h(Ii,'EVENT_ENAB'+'LE','enable'),h(Ii,'EVENT_DISA'+'BLE','disable'),h(Ii,'EVENT_REMO'+'VE','remove'),h(Ii,'EVENT_STAT'+'E','state'),h(Ii,'EVENT_MOVE','move'),h(Ii,'EVENT_ERRO'+'R','error');class IF{constructor(){this['enabled']=!(0x194f+-0x1239+-0x716);}}const LF='_onInitial'+'izeAttribu'+'tes',RF='_onInitial'+'ize',OF='_onPostIni'+'tialize',FF='_onUpdate',NF='_onPostUpd'+'ate';let Mc=0x2246+-0x1bf6+-0x650;class kF extends ct{constructor(_0x4519e6){super(_0x4519e6),this['id']='script',this['ComponentT'+'ype']=Ii,this['DataType']=IF,this['_component'+'s']=new oh({'sortBy':'_execution'+'Order'}),this['_enabledCo'+'mponents']=new oh({'sortBy':'_execution'+'Order'}),this['preloading']=!(0x1a09+-0xbb*-0x2b+-0x2b*0x156),this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this),this['app']['systems']['on']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['on']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x13896b,_0x2fa4eb){if(_0x13896b['_execution'+'Order']=Mc++,this['_component'+'s']['append'](_0x13896b),Mc>Number['MAX_SAFE_I'+'NTEGER']&&this['_resetExec'+'utionOrder'](),_0x13896b['enabled']=_0x2fa4eb['hasOwnProp'+'erty']('enabled')?!!_0x2fa4eb['enabled']:!(-0x1085+0x1*-0x1124+-0x7*-0x4cf),_0x13896b['enabled']&&_0x13896b['entity']['enabled']&&this['_enabledCo'+'mponents']['append'](_0x13896b),_0x2fa4eb['hasOwnProp'+'erty']('order')&&_0x2fa4eb['hasOwnProp'+'erty']('scripts')){_0x13896b['_scriptsDa'+'ta']=_0x2fa4eb['scripts'];for(let _0x9e51b=-0x8*-0x31d+0x109*-0x12+-0x49*0x16;_0x9e51b<_0x2fa4eb['order']['length'];_0x9e51b++)_0x13896b['create'](_0x2fa4eb['order'][_0x9e51b],{'enabled':_0x2fa4eb['scripts'][_0x2fa4eb['order'][_0x9e51b]]['enabled'],'attributes':_0x2fa4eb['scripts'][_0x2fa4eb['order'][_0x9e51b]]['attributes'],'preloading':this['preloading']});}}['cloneCompo'+'nent'](_0x479b52,_0x1f8e61){var _0x473eed;const _0x16b79f=[],_0x191810={};for(let _0x131b61=0xb59+0x25c7+-0x20c*0x18;_0x131b61<_0x479b52['script']['_scripts']['length'];_0x131b61++){const _0xd7d8a=_0x479b52['script']['_scripts'][_0x131b61],_0x4dc4ce=_0xd7d8a['__scriptTy'+'pe']['__name'];_0x16b79f['push'](_0x4dc4ce);const _0x19423c=((_0x473eed=_0x479b52['script']['_attribute'+'DataMap'])==null?void(0x21c*-0x10+0x23*-0x9d+0x505*0xb):_0x473eed['get'](_0x4dc4ce))||{};for(const _0x5a2dd9 in _0xd7d8a['__attribut'+'es'])_0x19423c[_0x5a2dd9]=_0xd7d8a['__attribut'+'es'][_0x5a2dd9];_0x191810[_0x4dc4ce]={'enabled':_0xd7d8a['_enabled'],'attributes':_0x19423c};}for(const _0xe4b392 in _0x479b52['script']['_scriptsIn'+'dex'])_0xe4b392['awaiting']&&_0x16b79f['splice'](_0xe4b392['ind'],0x679+0x1035+0xb57*-0x2,_0xe4b392);const _0x1e5d82={'enabled':_0x479b52['script']['enabled'],'order':_0x16b79f,'scripts':_0x191810};return this['addCompone'+'nt'](_0x1f8e61,_0x1e5d82);}['_resetExec'+'utionOrder'](){Mc=0x3cd*-0x4+-0x14da+-0x41*-0x8e;for(let _0x5aa72f=0x19b9*0x1+-0x17*0x20+-0x16d9,_0x2dbbf9=this['_component'+'s']['length'];_0x5aa72f<_0x2dbbf9;_0x5aa72f++)this['_component'+'s']['items'][_0x5aa72f]['_execution'+'Order']=Mc++;}['_callCompo'+'nentMethod'](_0x1492e,_0x1553bc,_0x37dfbf){for(_0x1492e['loopIndex']=0x6c5+-0x2da+-0x3eb;_0x1492e['loopIndex']<_0x1492e['length'];_0x1492e['loopIndex']++)_0x1492e['items'][_0x1492e['loopIndex']][_0x1553bc](_0x37dfbf);}['_onInitial'+'ize'](){this['preloading']=!(-0x202d+-0x2f*0x3e+-0x11*-0x290),this['_callCompo'+'nentMethod'](this['_component'+'s'],LF),this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],RF);}['_onPostIni'+'tialize'](){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],OF);}['_onUpdate'](_0xbf1a43){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],FF,_0xbf1a43);}['_onPostUpd'+'ate'](_0x3bfc4b){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],NF,_0x3bfc4b);}['_addCompon'+'entToEnabl'+'ed'](_0x1374dc){this['_enabledCo'+'mponents']['insert'](_0x1374dc);}['_removeCom'+'ponentFrom'+'Enabled'](_0x37e288){this['_enabledCo'+'mponents']['remove'](_0x37e288);}['_onBeforeR'+'emove'](_0x36c7f4,_0x2ce8e2){this['_component'+'s']['items']['indexOf'](_0x2ce8e2)>=0x27f+-0x77*-0x3d+-0x2*0xf6d&&_0x2ce8e2['_onBeforeR'+'emove'](),this['_removeCom'+'ponentFrom'+'Enabled'](_0x2ce8e2),this['_component'+'s']['remove'](_0x2ce8e2);}['destroy'](){super['destroy'](),this['app']['systems']['off']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['off']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}class y0 extends we{constructor(_0x2cca2d,_0x205dfc){super(_0x2cca2d,_0x205dfc),h(this,'_layers',[er]),h(this,'_instance',null),h(this,'_materialT'+'mp',null),h(this,'_highQuali'+'tySH',!(0xd1c+-0x9e0+0x33c*-0x1)),h(this,'_customAab'+'b',null),h(this,'_assetRefe'+'rence'),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_castShado'+'ws',!(-0x222f+0x1131+0x10ff)),(this['_assetRefe'+'rence']=new gl('asset',this,_0x2cca2d['app']['assets'],{'add':this['_onGSplatA'+'ssetAdded'],'load':this['_onGSplatA'+'ssetLoad'],'remove':this['_onGSplatA'+'ssetRemove'],'unload':this['_onGSplatA'+'ssetUnload']},this),_0x205dfc['on']('remove',this['onRemoveCh'+'ild'],this),_0x205dfc['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x205dfc['on']('insert',this['onInsertCh'+'ild'],this),_0x205dfc['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['customAabb'](_0x89b2c5){var _0x5bbfa9,_0x3ce12d;this['_customAab'+'b']=_0x89b2c5,(_0x3ce12d=(_0x5bbfa9=this['_instance'])==null?void(-0x18a1+-0x3*0x52+0x1997):_0x5bbfa9['meshInstan'+'ce'])==null||_0x3ce12d['setCustomA'+'abb'](this['_customAab'+'b']);}get['customAabb'](){return this['_customAab'+'b'];}set['instance'](_0x301c1a){if(this['destroyIns'+'tance'](),this['_instance']=_0x301c1a,this['_instance']){const _0x1e6b2f=this['_instance']['meshInstan'+'ce'];_0x1e6b2f['node']||(_0x1e6b2f['node']=this['entity']),_0x1e6b2f['castShadow']=this['_castShado'+'ws'],_0x1e6b2f['setCustomA'+'abb'](this['_customAab'+'b']),this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['instance'](){return this['_instance'];}set['material'](_0x5434a4){this['_instance']?this['_instance']['material']=_0x5434a4:this['_materialT'+'mp']=_0x5434a4;}get['material'](){var _0x1085c2;return((_0x1085c2=this['_instance'])==null?void(0x2671+0x1f1c+-0x172f*0x3):_0x1085c2['material'])??this['_materialT'+'mp']??null;}set['highQualit'+'ySH'](_0x24cf4d){_0x24cf4d!==this['_highQuali'+'tySH']&&(this['_highQuali'+'tySH']=_0x24cf4d,this['_instance']&&this['_instance']['setHighQua'+'litySH'](_0x24cf4d));}get['highQualit'+'ySH'](){return this['_highQuali'+'tySH'];}set['castShadow'+'s'](_0x39ba3d){var _0xeae688;if(this['_castShado'+'ws']!==_0x39ba3d){const _0xb2ae26=(_0xeae688=this['instance'])==null?void(0x2b*0xda+-0x1b9c+-0x902):_0xeae688['meshInstan'+'ce'];if(_0xb2ae26){const _0x391b46=this['layers'],_0x3264d7=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x39ba3d)for(let _0x5d64da=-0x18ce+0x1*-0xf72+0x2840;_0x5d64da<_0x391b46['length'];_0x5d64da++){const _0x3522f8=_0x3264d7['layers']['getLayerBy'+'Id'](this['layers'][_0x5d64da]);_0x3522f8&&_0x3522f8['removeShad'+'owCasters']([_0xb2ae26]);}if(_0xb2ae26['castShadow']=_0x39ba3d,!this['_castShado'+'ws']&&_0x39ba3d)for(let _0x1c26a5=0x2ab+-0x1b16+0x186b;_0x1c26a5<_0x391b46['length'];_0x1c26a5++){const _0x390dd8=_0x3264d7['layers']['getLayerBy'+'Id'](_0x391b46[_0x1c26a5]);_0x390dd8&&_0x390dd8['addShadowC'+'asters']([_0xb2ae26]);}}this['_castShado'+'ws']=_0x39ba3d;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['layers'](_0x302580){this['removeFrom'+'Layers'](),this['_layers']['length']=-0x1286+0x7a9*-0x1+0x1*0x1a2f;for(let _0x5993fc=-0x8*0x426+-0x20d+0x233d;_0x5993fc<_0x302580['length'];_0x5993fc++)this['_layers'][_0x5993fc]=_0x302580[_0x5993fc];!this['enabled']||!this['entity']['enabled']||this['addToLayer'+'s']();}get['layers'](){return this['_layers'];}set['asset'](_0x32233c){const _0x548406=_0x32233c instanceof pe?_0x32233c['id']:_0x32233c;this['_assetRefe'+'rence']['id']!==_0x548406&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onGSplatA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x548406,this['_assetRefe'+'rence']['asset']&&this['_onGSplatA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['destroyIns'+'tance'](){var _0x5ba7cd;this['_instance']&&(this['removeFrom'+'Layers'](),(_0x5ba7cd=this['_instance'])==null||_0x5ba7cd['destroy'](),this['_instance']=null);}['addToLayer'+'s'](){var _0x5bda52,_0x31f123;const _0xa55fad=(_0x5bda52=this['instance'])==null?void(0x22d5+-0x7d*0x1b+0x2*-0xad3):_0x5bda52['meshInstan'+'ce'];if(_0xa55fad){const _0x534b02=this['system']['app']['scene']['layers'];for(let _0x52a681=0x6*0x452+0x1*-0x445+-0x15a7;_0x52a681<this['_layers']['length'];_0x52a681++)(_0x31f123=_0x534b02['getLayerBy'+'Id'](this['_layers'][_0x52a681]))==null||_0x31f123['addMeshIns'+'tances']([_0xa55fad]);}}['removeFrom'+'Layers'](){var _0x425b7b,_0x2c165e;const _0x686ea4=(_0x425b7b=this['instance'])==null?void(-0x1f28+0x145*0x2+0x1c9e):_0x425b7b['meshInstan'+'ce'];if(_0x686ea4){const _0x5ac1ef=this['system']['app']['scene']['layers'];for(let _0x51d3d6=-0x4*0xb0+0x115f*-0x1+-0x33*-0x65;_0x51d3d6<this['_layers']['length'];_0x51d3d6++)(_0x2c165e=_0x5ac1ef['getLayerBy'+'Id'](this['_layers'][_0x51d3d6]))==null||_0x2c165e['removeMesh'+'Instances']([_0x686ea4]);}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_instance']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyIns'+'tance'](),this['asset']=null,this['_assetRefe'+'rence']['id']=null,this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x38a8a5,_0x1f4afc){this['addToLayer'+'s'](),_0x38a8a5['off']('add',this['onLayerAdd'+'ed'],this),_0x38a8a5['off']('remove',this['onLayerRem'+'oved'],this),_0x1f4afc['on']('add',this['onLayerAdd'+'ed'],this),_0x1f4afc['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x35fc06){this['layers']['indexOf'](_0x35fc06['id'])<0x1c49+-0x4e*0x2+0x589*-0x5||this['_instance']&&_0x35fc06['addMeshIns'+'tances'](this['_instance']['meshInstan'+'ce']);}['onLayerRem'+'oved'](_0x5b0867){this['layers']['indexOf'](_0x5b0867['id'])<0x3*0x59f+0x1*0x1dc5+-0x2ea2||this['_instance']&&_0x5b0867['removeMesh'+'Instances'](this['_instance']['meshInstan'+'ce']);}['onEnable'](){const _0x3f929a=this['system']['app']['scene'],_0x44c499=_0x3f929a['layers'];this['_evtLayers'+'Changed']=_0x3f929a['on']('set:layers',this['onLayersCh'+'anged'],this),_0x44c499&&(this['_evtLayerA'+'dded']=_0x44c499['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x44c499['on']('remove',this['onLayerRem'+'oved'],this)),this['_instance']?this['addToLayer'+'s']():this['asset']&&this['_onGSplatA'+'ssetAdded']();}['onDisable'](){var _0x210bc1,_0x3ea8d4,_0x478331;const _0x4356f7=this['system']['app']['scene']['layers'];(_0x210bc1=this['_evtLayers'+'Changed'])==null||_0x210bc1['off'](),this['_evtLayers'+'Changed']=null,_0x4356f7&&((_0x3ea8d4=this['_evtLayerA'+'dded'])==null||_0x3ea8d4['off'](),this['_evtLayerA'+'dded']=null,(_0x478331=this['_evtLayerR'+'emoved'])==null||_0x478331['off'](),this['_evtLayerR'+'emoved']=null),this['removeFrom'+'Layers']();}['hide'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0x20*-0x58+-0x136a+0x1e6b));}['show'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0x78e*0x3+0x1557+0xf*-0x2ef));}['_onGSplatA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onGSplatA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onGSplatA'+'ssetLoad'](){this['destroyIns'+'tance']();const _0x167893=this['_assetRefe'+'rence']['asset'];_0x167893&&(this['instance']=_0x167893['resource']['createInst'+'ance'](_0x167893['resource'],{'material':this['_materialT'+'mp'],'highQualitySH':this['_highQuali'+'tySH']}),this['_materialT'+'mp']=null,this['customAabb']=this['instance']['resource']['aabb']['clone']());}['_onGSplatA'+'ssetUnload'](){this['destroyIns'+'tance']();}['_onGSplatA'+'ssetRemove'](){this['_onGSplatA'+'ssetUnload']();}}class UF{constructor(){this['enabled']=!(-0x1*-0x35f+-0x261e+0x22bf);}}const Vu=['enabled'],To=['castShadow'+'s','material','highQualit'+'ySH','asset','layers'];class BF extends ct{constructor(_0x4c138a){super(_0x4c138a),this['id']='gsplat',this['ComponentT'+'ype']=y0,this['DataType']=UF,this['schema']=Vu,this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x456191,_0x3753bf,_0x237cfa){_0x3753bf['layers']&&_0x3753bf['layers']['length']&&(_0x3753bf['layers']=_0x3753bf['layers']['slice'](-0x15d9+-0x2f*-0x10+0x12e9));for(let _0x4d5b03=0xa4b+-0x9b3+0x4c*-0x2;_0x4d5b03<To['length'];_0x4d5b03++)_0x3753bf['hasOwnProp'+'erty'](To[_0x4d5b03])&&(_0x456191[To[_0x4d5b03]]=_0x3753bf[To[_0x4d5b03]]);_0x3753bf['aabbCenter']&&_0x3753bf['aabbHalfEx'+'tents']&&(_0x456191['customAabb']=new De(new D(_0x3753bf['aabbCenter']),new D(_0x3753bf['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x456191,_0x3753bf,Vu);}['cloneCompo'+'nent'](_0x23e447,_0xb7365f){const _0xa0d3b9=_0x23e447['gsplat'],_0x33141e={};To['forEach'](_0x21fe60=>{_0x21fe60==='material'?_0x33141e[_0x21fe60]=_0xa0d3b9[_0x21fe60]['clone']():_0x33141e[_0x21fe60]=_0xa0d3b9[_0x21fe60];}),_0x33141e['enabled']=_0xa0d3b9['enabled'];const _0x37de0c=this['addCompone'+'nt'](_0xb7365f,_0x33141e);return _0xa0d3b9['customAabb']&&(_0x37de0c['customAabb']=_0xa0d3b9['customAabb']['clone']()),_0x37de0c;}['onRemove'](_0x5e08b6,_0x1b90a0){_0x1b90a0['onRemove']();}}we['_buildAcce'+'ssors'](y0['prototype'],Vu);class Em extends me{constructor(){super(...arguments),h(this,'_meshes',null);}set['meshes'](_0x1127a9){this['decRefMesh'+'es'](),this['_meshes']=_0x1127a9,this['incRefMesh'+'es'](),this['fire']('set:meshes',_0x1127a9);}get['meshes'](){return this['_meshes'];}['destroy'](){this['meshes']=null;}['decRefMesh'+'es'](){var _0x1cd022;(_0x1cd022=this['_meshes'])==null||_0x1cd022['forEach']((_0x6ed787,_0x321a42)=>{_0x6ed787&&(_0x6ed787['decRefCoun'+'t'](),_0x6ed787['refCount']<-0x1c02+-0x12e9+0x222*0x16&&(_0x6ed787['destroy'](),this['_meshes'][_0x321a42]=null));});}['incRefMesh'+'es'](){var _0x2cb708;(_0x2cb708=this['_meshes'])==null||_0x2cb708['forEach'](_0x3f38f5=>{_0x3f38f5==null||_0x3f38f5['incRefCoun'+'t']();});}}h(Em,'EVENT_SETM'+'ESHES','set:meshes');function sh(_0x4fafb6){const _0x396d3=this;if(!_0x396d3['resource'])return;const _0x1a9ff0=_0x4fafb6['resource'],_0x46dc77=_0x1a9ff0['renders']&&_0x1a9ff0['renders'][_0x396d3['data']['renderInde'+'x']];_0x46dc77&&(_0x396d3['resource']['meshes']=_0x46dc77['resource']['meshes']);}function pS(_0x2e7eec){const _0x3365a3=this;_0x3365a3['registry']['off']('load:'+_0x2e7eec['id'],sh,_0x3365a3),_0x3365a3['registry']['on']('load:'+_0x2e7eec['id'],sh,_0x3365a3),_0x3365a3['registry']['off']('remove:'+_0x2e7eec['id'],mS,_0x3365a3),_0x3365a3['registry']['once']('remove:'+_0x2e7eec['id'],mS,_0x3365a3),_0x2e7eec['resource']?sh['call'](_0x3365a3,_0x2e7eec):_0x3365a3['registry']['load'](_0x2e7eec);}function mS(_0x1f3531){const _0x137366=this;_0x137366['registry']['off']('load:'+_0x1f3531['id'],sh,_0x137366),_0x137366['resource']&&_0x137366['resource']['destroy']();}class zF extends Qe{constructor(_0x26477d){super(_0x26477d,'render'),this['_registry']=_0x26477d['assets'];}['open'](_0x19eb15,_0x53a4fb){return new Em();}['patch'](_0x357e47,_0xb94062){if(!_0x357e47['data']['containerA'+'sset'])return;const _0x57f5d8=_0xb94062['get'](_0x357e47['data']['containerA'+'sset']);if(!_0x57f5d8){_0xb94062['once']('add:'+_0x357e47['data']['containerA'+'sset'],pS,_0x357e47);return;}pS['call'](_0x357e47,_0x57f5d8);}}class v0{constructor(_0x5e2b4f,_0x815300,_0x110a63,_0x6376fd){this['_paths']=_0x5e2b4f,this['_input']=_0x815300,this['_output']=_0x110a63,this['_interpola'+'tion']=_0x6376fd;}get['paths'](){return this['_paths'];}get['input'](){return this['_input'];}get['output'](){return this['_output'];}get['interpolat'+'ion'](){return this['_interpola'+'tion'];}}class Fh{constructor(_0x99aabe,_0x5e3cc6){this['_component'+'s']=_0x99aabe,this['_data']=_0x5e3cc6;}get['components'](){return this['_component'+'s'];}get['data'](){return this['_data'];}}function VF(_0xc610aa,_0x445779){let _0x453669;const _0x4ff6ac=(_0x43bebe,_0x123d53)=>{switch(_0x123d53){case _0x453669['DT_INT8']:return new Int8Array(_0x43bebe['buffer'],_0x43bebe['byteOffset'],_0x43bebe['byteLength']);case _0x453669['DT_INT16']:return new Int16Array(_0x43bebe['buffer'],_0x43bebe['byteOffset'],_0x43bebe['byteLength']/(0x2286+0xa*0x1d8+0xd3d*-0x4));case _0x453669['DT_INT32']:return new Int32Array(_0x43bebe['buffer'],_0x43bebe['byteOffset'],_0x43bebe['byteLength']/(-0xa51*0x2+-0x4a9+0x13*0x155));case _0x453669['DT_UINT8']:return new Uint8Array(_0x43bebe['buffer'],_0x43bebe['byteOffset'],_0x43bebe['byteLength']);case _0x453669['DT_UINT16']:return new Uint16Array(_0x43bebe['buffer'],_0x43bebe['byteOffset'],_0x43bebe['byteLength']/(-0x5ab+0x4e4*0x2+-0x41b));case _0x453669['DT_UINT32']:return new Uint32Array(_0x43bebe['buffer'],_0x43bebe['byteOffset'],_0x43bebe['byteLength']/(0x14*0xd4+0x12c3*-0x2+0x14fa));case _0x453669['DT_FLOAT32']:return new Float32Array(_0x43bebe['buffer'],_0x43bebe['byteOffset'],_0x43bebe['byteLength']/(-0x990+0x17d*0x13+-0x12b3*0x1));}return null;},_0x11a4e8=_0x2c15f3=>{switch(_0x2c15f3){case _0x453669['DT_INT8']:return-0xc45*-0x2+0x589+0x2*-0xf09;case _0x453669['DT_INT16']:return-0x3a2+0x93e*0x1+-0x59a;case _0x453669['DT_INT32']:return 0x1*-0x1b8c+-0x1*-0x24a1+-0x911;case _0x453669['DT_UINT8']:return-0x16c*0x13+-0x19*0x101+0x341e;case _0x453669['DT_UINT16']:return-0x150+0x1*0x22b5+0x2163*-0x1;case _0x453669['DT_UINT32']:return 0xc2e*0x2+0x1d95+-0x35ed;case _0x453669['DT_FLOAT32']:return-0x27b+0x8*-0x4bc+-0x813*-0x5;}return-0x1*0x621+0x11*0x16f+0xa1*-0x1d;},_0x22cd9d=_0x95ca1b=>_0x95ca1b['num_compon'+'ents']()*_0x11a4e8(_0x95ca1b['data_type']()),_0x34ed51={0x0:0x0,0x1:0x1,0x5:0x2,0x2:0x3,0x7:0x4,0x8:0x5,0x4:0x6,0x3:0x7},_0x5d5964=(_0x312fcf,_0x17d709)=>{const _0x49cb66=(_0x1f8c43,_0x2785fc,_0x4f3a85)=>{_0x1f8c43[-0x1*0x1d43+0xa9a*0x2+0x1*0x80f]=_0x2785fc[0x570*-0x7+-0x3*-0x905+0x3*0x3ab]-_0x4f3a85[-0x2f*0x23+0x1*-0x110+0x77d],_0x1f8c43[0x22f2+0x42*0x4+-0x23f9]=_0x2785fc[-0x375+0x1010*-0x2+0x2396]-_0x4f3a85[0xa57*-0x1+-0x1482+-0x1*-0x1eda],_0x1f8c43[0x1386+0x8e*-0x6+-0x1030]=_0x2785fc[-0x52+-0x10*0x247+0x931*0x4]-_0x4f3a85[-0xaab+0x1d*-0x117+0x2a48];},_0x36dc79=(_0x28aee1,_0x2beed3,_0x307967)=>{_0x28aee1[0x14e5+0x821*0x1+-0x1d06]=_0x2beed3[0x11*-0xe+0x1d*0x11a+-0x11*0x1d3]*_0x307967[0xb5*0x35+0x676*-0x2+-0x188b]-_0x307967[-0x12f6+0x1ba+-0x113d*-0x1]*_0x2beed3[-0x453*0x3+0x2338+0x163d*-0x1],_0x28aee1[-0x10d*-0x7+0x4*0x6e2+-0x13*0x1d6]=_0x2beed3[0x1ed9+-0x3*-0x3a6+0x233*-0x13]*_0x307967[-0xb*-0x2cf+0x7*0x56b+-0x44d2]-_0x307967[0x1*0x2373+-0x3e6*-0x1+-0x2757]*_0x2beed3[0x1*0x2452+0x48+-0x249a],_0x28aee1[-0x10d6+-0x5*-0x7+-0x1*-0x10b5]=_0x2beed3[-0x34e+0x10d2+-0xd84*0x1]*_0x307967[-0x1e35+-0x11ef*0x1+0x3025]-_0x307967[0x1*0x24d7+-0x50*-0x2+-0x1*0x2577]*_0x2beed3[-0x17b9+0x979+0xe41];},_0x3666ca=(_0x21eb51,_0x46f7ef)=>{const _0x582955=_0x21eb51[_0x46f7ef+(0x4*-0x3e1+-0x489+-0x6af*-0x3)],_0x21e8f8=_0x21eb51[_0x46f7ef+(0x1b03*-0x1+-0x363+0x1e67)],_0x4b9324=_0x21eb51[_0x46f7ef+(0x1*0x1b5b+-0x670+-0x14e9*0x1)],_0x26b48b=(0x2*-0x1253+-0x1e7b+-0xd*-0x52a)/Math['sqrt'](_0x582955*_0x582955+_0x21e8f8*_0x21e8f8+_0x4b9324*_0x4b9324);_0x21eb51[_0x46f7ef+(-0xb14*0x2+0x14d3+0x155)]*=_0x26b48b,_0x21eb51[_0x46f7ef+(-0x4ff+-0x1b*0x1f+0x845)]*=_0x26b48b,_0x21eb51[_0x46f7ef+(0x11b3*0x2+-0x632+0x1d32*-0x1)]*=_0x26b48b;},_0x18794d=(_0x947c3a,_0x5ad39c,_0x131a23)=>{for(let _0x1e96aa=-0x145f+0x1*-0xbad+0x200c;_0x1e96aa<-0x17bd+-0x23dd+-0x3b9d*-0x1;++_0x1e96aa)_0x947c3a[_0x1e96aa]=_0x5ad39c[_0x131a23+_0x1e96aa];},_0x19516d=_0x17d709['length']/(0x986+-0x389*0x9+0x164e),_0x544f88=_0x312fcf['length']/(-0x400*-0x8+-0x487*-0x1+0x2*-0x1242),_0x15f2b6=new Float32Array(_0x312fcf['length']),_0x47eafa=[-0x2401+0x1*-0xe25+0x3226,-0x1648+-0xce9*0x1+0x2331,0x16a*-0x11+-0x2a*0xc9+0x3904],_0xbac018=[0x197b*-0x1+0x1*-0x21e+0xf*0x1d7,-0x4*0x2e0+0x138d+-0x2af*0x3,-0x1df1+-0x13*-0x11d+0xa*0xe1],_0x258bc1=[0x897+-0x1*-0xad+0x1*-0x944,-0x1*0x2303+0x2254+0xaf,0x17*0xa3+0x39f*-0x3+-0x3c8],_0x59721e=[-0x3*-0x265+0x1b6b*-0x1+0xb9*0x1c,0x51*-0x55+0x466*-0x8+0x3e15,-0x1f06+-0x1ce8+0x3*0x13fa],_0xdfdbdd=[-0x1*-0x2629+0x23a7+-0x49d0,0x1ba+-0x1*-0x6b+-0x225,0x1250+0x2ea+-0x153a],_0x9eddac=[-0x246b*0x1+0x8b3+0x1bb8,-0x4d2+-0x40d*0x1+-0x8df*-0x1,-0x201c+-0xdd6+-0x2df2*-0x1];for(let _0x1e86a5=-0x1*-0xd9f+-0x1*0xa6f+-0x4*0xcc;_0x1e86a5<_0x19516d;++_0x1e86a5){const _0x132895=_0x17d709[_0x1e86a5*(-0xb2*-0x2+0x5*0x269+0xd6e*-0x1)+(-0x478*-0x4+0x3*0x605+-0x23ef)]*(0xd*-0xe5+-0xfd5+0x1b79),_0x497ebf=_0x17d709[_0x1e86a5*(0x43a+-0x187a*0x1+0x1443)+(0x2214+0x2038+-0x424b)]*(-0x42b*-0x1+0x1b05+-0x1f2d),_0x3a30a9=_0x17d709[_0x1e86a5*(-0x2551*0x1+-0x1844+-0x291*-0x18)+(0x34*0xab+-0x2039+-0x281*0x1)]*(0x2229+-0xb*0x281+-0x69b);_0x18794d(_0x47eafa,_0x312fcf,_0x132895),_0x18794d(_0xbac018,_0x312fcf,_0x497ebf),_0x18794d(_0x258bc1,_0x312fcf,_0x3a30a9),_0x49cb66(_0x59721e,_0xbac018,_0x47eafa),_0x49cb66(_0xdfdbdd,_0x258bc1,_0x47eafa),_0x36dc79(_0x9eddac,_0x59721e,_0xdfdbdd),_0x3666ca(_0x9eddac,-0x1*0xdb1+0x3*-0x238+0x1*0x1459);for(let _0x2f44e8=-0x24f7+0x62*0x29+-0x1ef*-0xb;_0x2f44e8<-0x3b*-0x1a+0x462+-0xa5d;++_0x2f44e8)_0x15f2b6[_0x132895+_0x2f44e8]+=_0x9eddac[_0x2f44e8],_0x15f2b6[_0x497ebf+_0x2f44e8]+=_0x9eddac[_0x2f44e8],_0x15f2b6[_0x3a30a9+_0x2f44e8]+=_0x9eddac[_0x2f44e8];}for(let _0x37e5bc=0xb7e*-0x1+0x2*-0x4e5+0x1548;_0x37e5bc<_0x544f88;++_0x37e5bc)_0x3666ca(_0x15f2b6,_0x37e5bc*(-0x1dba*-0x1+0x11cd+-0x2f84));return new Uint8Array(_0x15f2b6['buffer']);},_0x3e704d=_0x13ebb1=>{const _0x266750={},_0x53ec6d=new _0x453669['DecoderBuf'+'fer']();_0x53ec6d['Init'](_0x13ebb1,_0x13ebb1['length']);const _0x307368=new _0x453669['Decoder']();if(_0x307368['GetEncoded'+'GeometryTy'+'pe'](_0x53ec6d)!==_0x453669['TRIANGULAR'+'_MESH'])return _0x266750['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20mesh:\x20n'+'ot\x20a\x20mesh',_0x266750;const _0x20db93=new _0x453669['Mesh'](),_0x56941a=_0x307368['DecodeBuff'+'erToMesh'](_0x53ec6d,_0x20db93);if(!_0x56941a||!_0x56941a['ok']()||_0x453669['getPointer'](_0x20db93)===-0x1287+0x7*0x102+0x3d3*0x3)return _0x266750['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20asset',_0x266750;const _0x3eb72e=_0x20db93['num_faces']()*(0x11c+-0xbf*0x1c+0x9*0x233),_0x224d00=_0x20db93['num_points']()<=-0x1eee3+-0xe62*-0x19+0x18750,_0x42e632=_0x3eb72e*(_0x224d00?-0x21be+0x2325*-0x1+-0x3*-0x16f7:0xb5*-0x5+0x1feb*-0x1+0x46f*0x8),_0x32e424=_0x453669['_malloc'](_0x42e632);_0x224d00?(_0x307368['GetTriangl'+'esUInt16Ar'+'ray'](_0x20db93,_0x42e632,_0x32e424),_0x266750['indices']=new Uint16Array(_0x453669['HEAPU16']['buffer'],_0x32e424,_0x3eb72e)['slice']()['buffer']):(_0x307368['GetTriangl'+'esUInt32Ar'+'ray'](_0x20db93,_0x42e632,_0x32e424),_0x266750['indices']=new Uint32Array(_0x453669['HEAPU32']['buffer'],_0x32e424,_0x3eb72e)['slice']()['buffer']),_0x453669['_free'](_0x32e424);const _0x3573be=[];for(let _0x2e5f2a=-0x2584+0x1b4e+0xa36*0x1;_0x2e5f2a<_0x20db93['num_attrib'+'utes']();++_0x2e5f2a)_0x3573be['push'](_0x307368['GetAttribu'+'te'](_0x20db93,_0x2e5f2a));_0x3573be['sort']((_0x5458f9,_0x3122a1)=>(_0x34ed51[_0x5458f9['attribute_'+'type']()]??_0x34ed51['length'])-(_0x34ed51[_0x3122a1['attribute_'+'type']()]??_0x34ed51['length'])),_0x266750['attributes']=_0x3573be['map'](_0x19954a=>_0x19954a['unique_id']());let _0x143aa7=-0x567+-0xb*-0x1c5+-0xe10;const _0x482196=_0x3573be['map'](_0x2515ee=>{const _0x49e8d0=_0x143aa7;return _0x143aa7+=Math['ceil'](_0x22cd9d(_0x2515ee)/(-0x3*-0xb89+-0x1*0x1001+0x1a*-0xb7))*(0xfde+-0x211e+-0x11*-0x104),_0x49e8d0;}),_0x891fdc=_0x3573be['some'](_0x333504=>_0x333504['attribute_'+'type']()===-0x7*-0x65+0x3e5*0x2+0x14*-0x87),_0x6adf3c=_0x482196[0xa16*0x2+0x9f+0x2*-0xa65];if(!_0x891fdc){for(let _0x331ed0=0x7e3+0x989*-0x4+-0x1*-0x1e42;_0x331ed0<_0x482196['length'];++_0x331ed0)_0x482196[_0x331ed0]+=-0x93a+0x109*-0x1+0xa4f;_0x143aa7+=-0x1061+-0x158d+0x1*0x25fa;}_0x266750['vertices']=new ArrayBuffer(_0x20db93['num_points']()*_0x143aa7);const _0x3a340b=new Uint8Array(_0x266750['vertices']);for(let _0x44f05e=-0x6c*0x3e+-0x1483+0x2eab;_0x44f05e<_0x20db93['num_attrib'+'utes']();++_0x44f05e){const _0x3ad60c=_0x3573be[_0x44f05e],_0x36f63d=_0x22cd9d(_0x3ad60c),_0x338c3a=_0x20db93['num_points']()*_0x36f63d,_0xdf7dba=_0x453669['_malloc'](_0x338c3a);_0x307368['GetAttribu'+'teDataArra'+'yForAllPoi'+'nts'](_0x20db93,_0x3ad60c,_0x3ad60c['data_type'](),_0x338c3a,_0xdf7dba);const _0x5ba9c3=new Uint8Array(_0x453669['HEAPU8']['buffer'],_0xdf7dba,_0x338c3a);for(let _0x2db1e4=0x3*-0x276+-0x174*-0x3+0x306;_0x2db1e4<_0x20db93['num_points']();++_0x2db1e4)for(let _0x160627=0x2514+-0x12b4+-0x1260;_0x160627<_0x36f63d;++_0x160627)_0x3a340b[_0x2db1e4*_0x143aa7+_0x482196[_0x44f05e]+_0x160627]=_0x5ba9c3[_0x2db1e4*_0x36f63d+_0x160627];if(!_0x891fdc&&_0x3ad60c['attribute_'+'type']()===-0x16*0x182+0x205*0x3+0x1b1d){const _0x3af800=_0x5d5964(_0x4ff6ac(_0x5ba9c3,_0x3ad60c['data_type']()),_0x224d00?new Uint16Array(_0x266750['indices']):new Uint32Array(_0x266750['indices']));for(let _0x4e9528=0xf7a+-0x43*0x3b+-0x9;_0x4e9528<_0x20db93['num_points']();++_0x4e9528)for(let _0x1546a2=0x24c1+0x13ae+-0x386f;_0x1546a2<0x5*-0x304+-0x308+-0xe*-0x14c;++_0x1546a2)_0x3a340b[_0x4e9528*_0x143aa7+_0x6adf3c+_0x1546a2]=_0x3af800[_0x4e9528*(0x468+-0x1cfb+0x189f)+_0x1546a2];}_0x453669['_free'](_0xdf7dba);}return _0x453669['destroy'](_0x20db93),_0x453669['destroy'](_0x307368),_0x453669['destroy'](_0x53ec6d),_0x266750;},_0x13f387=_0x1bae21=>{const _0x349d59=_0x3e704d(new Uint8Array(_0x1bae21['buffer']));self['postMessag'+'e']({'jobId':_0x1bae21['jobId'],'error':_0x349d59['error'],'indices':_0x349d59['indices'],'vertices':_0x349d59['vertices'],'attributes':_0x349d59['attributes']},[_0x349d59['indices'],_0x349d59['vertices']]['filter'](_0x3cfb28=>_0x3cfb28!=null));},_0x45d42e=[];self['onmessage']=_0x9d0481=>{const _0x23e79c=_0x9d0481['data'];switch(_0x23e79c['type']){case'init':self['DracoDecod'+'erModule']({'instantiateWasm':(_0x144024,_0x31bc21)=>(WebAssembly['instantiat'+'e'](_0x23e79c['module'],_0x144024)['then'](_0x3868cc=>_0x31bc21(_0x3868cc))['catch'](_0x397641=>console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x397641)),{})})['then'](_0x5ca511=>{_0x453669=_0x5ca511,_0x45d42e['forEach'](_0x19db4c=>_0x13f387(_0x19db4c));});break;case'decodeMesh':_0x453669?_0x13f387(_0x23e79c):_0x45d42e['push'](_0x23e79c);break;}};}const _S=-0x62b+0x10ef+0x1*-0xac1;class GF{constructor(){this['workers']=[[],[],[]],this['jobId']=0x2158+-0x17*0x143+0x453*-0x1,this['jobQueue']=[],this['jobCallbac'+'ks']=new Map(),this['run']=(_0x26c2e5,_0x3e52f8)=>{_0x26c2e5['postMessag'+'e']({'type':'decodeMesh','jobId':_0x3e52f8['jobId'],'buffer':_0x3e52f8['buffer']},[_0x3e52f8['buffer']]);};}['init'](_0x595061){for(_0x595061['forEach'](_0x174df2=>{_0x174df2['addEventLi'+'stener']('message',_0x442142=>{const _0x36a3cf=_0x442142['data'],_0x9271e2=this['jobCallbac'+'ks']['get'](_0x36a3cf['jobId']);if(_0x9271e2&&_0x9271e2(_0x36a3cf['error'],{'indices':_0x36a3cf['indices'],'vertices':_0x36a3cf['vertices'],'attributes':_0x36a3cf['attributes']}),this['jobCallbac'+'ks']['delete'](_0x36a3cf['jobId']),this['jobQueue']['length']>0x1*-0x138+0x30f+-0x1d7){const _0x4d352c=this['jobQueue']['shift']();this['run'](_0x174df2,_0x4d352c);}else{const _0x28aeda=this['workers'][0xdcf+0x962+-0x5*0x4a3]['indexOf'](_0x174df2);if(_0x28aeda!==-(0x1889*0x1+0x1825*0x1+-0x30ad))this['workers'][0x1*-0x2095+0x215+0x1e82]['splice'](_0x28aeda,0x1356+-0x7b8+-0xb9d*0x1),this['workers'][0xfc6+-0x1024+-0x5*-0x13]['push'](_0x174df2);else{const _0x31abdc=this['workers'][-0x503*0x1+-0x1945*0x1+0x1e49]['indexOf'](_0x174df2);_0x31abdc!==-(0x466+0xc4b*0x1+-0x10b0)?(this['workers'][0x162*-0x13+-0x1*-0x208c+-0xf*0x6b]['splice'](_0x31abdc,0x3*-0xbc9+0x2709+0x3ad*-0x1),this['workers'][0x2f7*0xd+0xc0b+-0x3296]['push'](_0x174df2)):w['error']('logical\x20er'+'ror');}}});}),this['workers'][0x1b91+0x26e8+-0x1*0x4279]=_0x595061;this['jobQueue']['length']&&(this['workers'][-0x1cd4+-0x170+0x1e44]['length']||this['workers'][-0xdcb+-0x1401+-0x21cd*-0x1]['length']);){const _0x1ca604=this['jobQueue']['shift']();if(this['workers'][-0x23c5+0x1044+0x1381*0x1]['length']>0x3a3+-0x1c*0x13+0x13*-0x15){const _0x30ae36=this['workers'][0x1*0xd34+0x7a0*0x2+0x2*-0xe3a]['shift']();this['workers'][-0x13*0x74+0x72d+0x170]['push'](_0x30ae36),this['run'](_0x30ae36,_0x1ca604);}else{const _0x399aa7=this['workers'][-0x4ae*-0x5+-0x9a*-0x2+0x3*-0x833]['shift']();this['workers'][0x2*0x4f7+-0x75*0xb+-0x4e5]['push'](_0x399aa7),this['run'](_0x399aa7,_0x1ca604);}}}['enqueueJob'](_0x4ad4a1,_0x249109){const _0x8e57fd={'jobId':this['jobId']++,'buffer':_0x4ad4a1};if(this['jobCallbac'+'ks']['set'](_0x8e57fd['jobId'],_0x249109),this['workers'][-0xb7e+-0x2152*0x1+0x778*0x6]['length']>0x1*0x1c59+0x1ecd+0x1*-0x3b26){const _0x1137b2=this['workers'][0x1c0c+0x2d9*0xc+-0x3e38]['shift']();this['workers'][-0x201*0x7+0xce2+-0x3*-0x62]['push'](_0x1137b2),this['run'](_0x1137b2,_0x8e57fd);}else{if(this['workers'][0x136e+0x83a+0x1*-0x1ba7]['length']>0xa*0x3e6+-0x1*-0x2051+-0x474d*0x1){const _0xc583b7=this['workers'][0x1*-0xe7a+0x1153*0x2+-0x142b]['shift']();this['workers'][0x1837*-0x1+-0x5*0x183+0x1fc8]['push'](_0xc583b7),this['run'](_0xc583b7,_0x8e57fd);}else this['jobQueue']['push'](_0x8e57fd);}}}const HF=_0x2b72e3=>new Promise((_0x403667,_0x26de1d)=>{const _0xebbf67={'cache':!(-0x465+-0x5*-0x36d+-0xa3*0x14),'responseType':'text','retry':_S>0x1025+0xf64*-0x1+-0xc1*0x1,'maxRetries':_S};ot['get'](_0x2b72e3,_0xebbf67,(_0x1a3dec,_0x5e5700)=>{_0x1a3dec?_0x26de1d(_0x1a3dec):_0x403667(_0x5e5700);});}),WF=_0x185c25=>{const _0x20b69a=()=>fetch(_0x185c25)['then'](_0x4e5aa6=>_0x4e5aa6['arrayBuffe'+'r']())['then'](_0xc68626=>WebAssembly['compile'](_0xc68626)),_0x29d160=()=>WebAssembly['compileStr'+'eaming'](fetch(_0x185c25))['catch'](_0x21add8=>(w['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x185c25+'\x20('+_0x21add8+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x20b69a()));return WebAssembly['compileStr'+'eaming']?_0x29d160():_0x20b69a();},gS=0x2e2+0xa7*-0x29+0x17de;let ih;const $F=_0x521c52=>{if(ih)return!(-0x732+0xf6b+-0x839);if(!_0x521c52){const _0x5aa200=YS['getConfig']('DracoDecod'+'erModule');_0x5aa200?_0x521c52={'jsUrl':_0x5aa200['glueUrl'],'wasmUrl':_0x5aa200['wasmUrl'],'numWorkers':_0x5aa200['numWorkers']}:_0x521c52={'jsUrl':'draco.wasm'+'.js','wasmUrl':'draco.wasm'+'.wasm','numWorkers':gS};}return!_0x521c52['jsUrl']||!_0x521c52['wasmUrl']?!(0x248d+0x185d+0x1f7*-0x1f):(ih=new GF(),Promise['all']([HF(_0x521c52['jsUrl']),WF(_0x521c52['wasmUrl'])])['then'](([_0x33c9a8,_0x5a70b6])=>{const _0x1f11db=['/*\x20draco\x20*'+'/',_0x33c9a8,'/*\x20worker\x20'+'*/','(\x0a'+VF['toString']()+'\x0a)()\x0a\x0a']['join']('\x0a'),_0x5ec13c=new Blob([_0x1f11db],{'type':'applicatio'+'n/javascri'+'pt'}),_0x1f1d18=URL['createObje'+'ctURL'](_0x5ec13c),_0x5877ea=Math['max'](-0x525*-0x4+0xb*0x247+-0xa*0x490,Math['min'](0x3*0x6d7+-0x51*0x77+0x1132,_0x521c52['numWorkers']||gS)),_0x5bae86=[];for(let _0x3ed951=-0x1*0x141b+0xd*0x2b6+-0xf23;_0x3ed951<_0x5877ea;++_0x3ed951){const _0x432423=new Worker(_0x1f1d18);_0x432423['postMessag'+'e']({'type':'init','module':_0x5a70b6}),_0x5bae86['push'](_0x432423);}ih['init'](_0x5bae86);}),!(-0x1810+-0x17dc+0x2fec));},XF=(_0x59d7d2,_0x570ab6)=>$F()?(ih['enqueueJob'](_0x59d7d2,_0x570ab6),!(0x264f+0x8c9+0x2c*-0x112)):!(-0x203a+-0x2088+0x40c3);class qF{constructor(){h(this,'gltf'),h(this,'nodes'),h(this,'scenes'),h(this,'animations'),h(this,'textures'),h(this,'materials'),h(this,'variants'),h(this,'meshVarian'+'ts'),h(this,'meshDefaul'+'tMaterials'),h(this,'renders'),h(this,'skins'),h(this,'lights'),h(this,'cameras'),h(this,'nodeInstan'+'cingMap');}['destroy'](){this['renders']&&this['renders']['forEach'](_0x178671=>{_0x178671['meshes']=null;});}}const x0=_0x363dca=>/^data:[^\n\r,\u2028\u2029]*,.*$/i['test'](_0x363dca),jF=_0x13f62a=>_0x13f62a['substring'](_0x13f62a['indexOf'](':')+(0xa*0x3df+-0x228f+0x3b*-0x12),_0x13f62a['indexOf'](';')),yl=_0x29b800=>{switch(_0x29b800){case'SCALAR':return-0xaa5+-0x16e4+0x218a;case'VEC2':return-0xe74+0x18cb*0x1+-0x211*0x5;case'VEC3':return 0xc47+0x14bf+0x9*-0x3ab;case'VEC4':return-0xc5*0x17+-0x2595+-0x374c*-0x1;case'MAT2':return-0x23bf*-0x1+-0x2496+0xdb;case'MAT3':return 0x118c*-0x2+0xb4*-0x28+0x3f41;case'MAT4':return-0xb17+0x98e*0x1+0x199*0x1;default:return 0x275*0x9+-0x1*0x26a1+0x1087;}},Dd=_0x27d35a=>{switch(_0x27d35a){case 0x7c+-0x1192+0x2516:return dd;case 0xd8b*-0x1+-0x19b*-0xd+0xcad:return la;case 0x1*0x1ed6+0x2093+-0x29*0x10f:return fd;case-0x1*0xa33+-0x1258+0x9b6*0x5:return Ml;case 0x172d+-0x184d+0xf6*0x16:return Ty;case 0xb86+0x1f35+0xab*-0x22:return el;case 0xb14+-0x2*0xba8+0x2042:return Ve;default:return 0x1*-0x14a8+-0x649*-0x1+0xd*0x11b;}},YF=_0x3849c5=>{switch(_0x3849c5){case-0x1f7d+0x301*0x6+-0xd*-0x293:return 0x5b4*-0x4+-0x1151*0x1+0x2822;case 0x425*0x1+0xb05+0x4d7:return-0x1*-0x15c5+-0x1*-0x22b1+-0x3875;case-0x101*0x9+0x489*-0x3+0x2aa6:return 0x21e5*-0x1+0x1c78+0x56f;case-0x987+0xc04+0x1*0x1186:return 0x1461*-0x1+-0x113f+0x25a2*0x1;case-0x22a7+-0x2731+0x5ddc:return 0x601*-0x1+0x5bb*-0x3+0x1736;case 0x4*-0x85d+-0xa9*-0x1b+0x12*0x1fb:return 0x2336*0x1+0x226c+-0x459e;case 0x1*0xd5e+0x1fef+-0x9*0x2cf:return-0x270e+-0x1*-0xb87+0xb*0x281;default:return-0x141c*0x1+0x185b+-0x43f*0x1;}},KF=_0x1d82fb=>{switch(_0x1d82fb){case 0xa0d+0x17a9+-0xdb6:return Int8Array;case 0x1ba0+0x16*-0x4f+-0x47*0x3:return Uint8Array;case 0x9b*0x10+-0x27*-0x31+0x2db:return Int16Array;case-0x1d56*0x1+-0x69c+0x37f5:return Uint16Array;case 0xd4f+0x179*0xd+0x2*-0x638:return Int32Array;case 0x749+0x5d6*0x3+0x1a*-0x2f:return Uint32Array;case 0x10fb+0x2583+-0x2278:return Float32Array;default:return null;}},Nh={'POSITION':Me,'NORMAL':gs,'TANGENT':yi,'COLOR_0':Wt,'JOINTS_0':us,'WEIGHTS_0':gi,'TEXCOORD_0':is,'TEXCOORD_1':ba,'TEXCOORD_2':wl,'TEXCOORD_3':El,'TEXCOORD_4':bl,'TEXCOORD_5':Al,'TEXCOORD_6':Cl,'TEXCOORD_7':Pl},SS={[Me]:-0x23ad*-0x1+0x301*-0x1+-0x1ec*0x11,[gs]:0x4d4+0x2269+-0x273c,[yi]:-0x61b+0x3*-0x91c+-0x7*-0x4c7,[Wt]:-0xf7*0x4+-0x9e*0x29+0x2a7*0xb,[us]:0x11*0x187+-0x341+-0x16b2,[gi]:0x1672+-0xe*0x10f+-0x1*0x79b,[is]:0xc60+0x20f3+-0x2d4d,[ba]:0x2501+-0x458+-0x20a2,[wl]:-0x1*-0x13f0+0x129+-0x1511,[El]:-0x4c7*-0x7+0x1a86+-0x3bee,[bl]:0x4f4+-0x1b*-0x7f+-0x124f,[Al]:0x31d*-0x3+0x1*0x1ab6+-0x455*0x4,[Cl]:0x3ba+0x2ad+-0x1*0x65b,[Pl]:-0xadc+-0x18e5*-0x1+-0xdfc},ZF=_0x285344=>{switch(_0x285344){case dd:return _0x5b01b2=>Math['max'](_0x5b01b2/(0x1086+-0x7f+0x1c*-0x8e),-(-0x106*-0x17+-0x1c46+0x4bd));case la:return _0x581143=>_0x581143/(0x1*-0x23cd+-0x1aad+0x3f79*0x1);case fd:return _0xc2c901=>Math['max'](_0xc2c901/(-0x49dc+-0x1*-0x1a3d+0xaf9e),-(0x2*-0x1087+-0x1365+-0x24*-0x175));case Ml:return _0x3fda6e=>_0x3fda6e/(0x1*-0x1f6e7+0x12*0x7e1+0x26914);default:return _0x476336=>_0x476336;}},Gu=(_0x3022fd,_0x395ace,_0x5c1a74)=>{const _0x214cfe=ZF(_0x5c1a74),_0x18b185=_0x395ace['length'];for(let _0x37e2bb=0x449+-0x1774+-0x2bd*-0x7;_0x37e2bb<_0x18b185;++_0x37e2bb)_0x3022fd[_0x37e2bb]=_0x214cfe(_0x395ace[_0x37e2bb]);return _0x3022fd;},ua=(_0x2a1bc2,_0x304919,_0x1dcc92=!(-0x3*-0xaef+0x1*0x18d1+-0x399d))=>{const _0x1cf12e=yl(_0x2a1bc2['type']),_0x366030=KF(_0x2a1bc2['componentT'+'ype']);if(!_0x366030)return null;let _0x41aef2;if(_0x2a1bc2['sparse']){const _0x47d086=_0x2a1bc2['sparse'],_0x11dc7b={'count':_0x47d086['count'],'type':'SCALAR'},_0x3c65f4=ua(Object['assign'](_0x11dc7b,_0x47d086['indices']),_0x304919,!(-0x469*-0x6+-0xb76+-0xf00)),_0x11fa79={'count':_0x47d086['count'],'type':_0x2a1bc2['type'],'componentType':_0x2a1bc2['componentT'+'ype']},_0x15225c=ua(Object['assign'](_0x11fa79,_0x47d086['values']),_0x304919,!(-0x1095+-0x1*-0x34b+0xd4a));if(_0x2a1bc2['hasOwnProp'+'erty']('bufferView')){const _0x1a7d4c={'bufferView':_0x2a1bc2['bufferView'],'byteOffset':_0x2a1bc2['byteOffset'],'componentType':_0x2a1bc2['componentT'+'ype'],'count':_0x2a1bc2['count'],'type':_0x2a1bc2['type']};_0x41aef2=ua(_0x1a7d4c,_0x304919,!(0x1*0x796+0xc1a+-0x24*0x8c))['slice']();}else _0x41aef2=new _0x366030(_0x2a1bc2['count']*_0x1cf12e);for(let _0x47a528=0xb*-0x2ed+0x543*-0x5+-0x1*-0x3a7e;_0x47a528<_0x47d086['count'];++_0x47a528){const _0x24b294=_0x3c65f4[_0x47a528];for(let _0x512a86=0xaa0+-0x2*0x499+0xb7*-0x2;_0x512a86<_0x1cf12e;++_0x512a86)_0x41aef2[_0x24b294*_0x1cf12e+_0x512a86]=_0x15225c[_0x47a528*_0x1cf12e+_0x512a86];}}else{if(_0x2a1bc2['hasOwnProp'+'erty']('bufferView')){const _0x13d1da=_0x304919[_0x2a1bc2['bufferView']];if(_0x1dcc92&&_0x13d1da['hasOwnProp'+'erty']('byteStride')){const _0x43639c=_0x1cf12e*_0x366030['BYTES_PER_'+'ELEMENT'],_0x10d8db=new ArrayBuffer(_0x2a1bc2['count']*_0x43639c),_0x642ae0=new Uint8Array(_0x10d8db);let _0x4727d9=-0x56*-0x1a+0x1b04+-0x23c0;for(let _0x27425a=0x113d*-0x1+0x18cd*-0x1+0x2a0a;_0x27425a<_0x2a1bc2['count'];++_0x27425a){let _0x34138b=(_0x2a1bc2['byteOffset']||0x2*0x28+0x40b*0x1+-0x5*0xdf)+_0x27425a*_0x13d1da['byteStride'];for(let _0x2944be=-0x21d*0x8+-0x276+-0x25*-0x86;_0x2944be<_0x43639c;++_0x2944be)_0x642ae0[_0x4727d9++]=_0x13d1da[_0x34138b++];}_0x41aef2=new _0x366030(_0x10d8db);}else _0x41aef2=new _0x366030(_0x13d1da['buffer'],_0x13d1da['byteOffset']+(_0x2a1bc2['byteOffset']||-0x1b7d+-0xfe2+0x2b5f),_0x2a1bc2['count']*_0x1cf12e);}else _0x41aef2=new _0x366030(_0x2a1bc2['count']*_0x1cf12e);}return _0x41aef2;},Pn=(_0x268df4,_0x1db0f7)=>{const _0x3763b4=ua(_0x268df4,_0x1db0f7,!(-0x437*-0x7+-0x7c3+-0x15be));if(_0x3763b4 instanceof Float32Array||!_0x268df4['normalized'])return _0x3763b4;const _0x40ddb3=new Float32Array(_0x3763b4['length']);return Gu(_0x40ddb3,_0x3763b4,Dd(_0x268df4['componentT'+'ype'])),_0x40ddb3;},Hu=_0x243bca=>{let _0xc2156b=_0x243bca['min'],_0x556dac=_0x243bca['max'];if(!_0xc2156b||!_0x556dac)return null;if(_0x243bca['normalized']){const _0x4a5390=Dd(_0x243bca['componentT'+'ype']);_0xc2156b=Gu([],_0xc2156b,_0x4a5390),_0x556dac=Gu([],_0x556dac,_0x4a5390);}return new De(new D((_0x556dac[-0x1872+-0x1f77+0x16f*0x27]+_0xc2156b[-0x14ce+-0x1c*0x9e+0x130b*0x2])*(-0x2296+0x1*0x1635+0xc61+0.5),(_0x556dac[0x2252+-0xe*-0xb1+-0x649*0x7]+_0xc2156b[-0x60*-0x3+0x28e+-0x3ad])*(0xd65+-0x62*-0x2e+-0x1f01+0.5),(_0x556dac[0xf4d*0x2+-0xde*0xb+-0x150e]+_0xc2156b[-0xa09*-0x1+0x2696+0x5f*-0x83])*(-0x1*0x347+0x2ff*-0x7+0x1840+0.5)),new D((_0x556dac[0x2173+0x5*-0x18e+-0x19ad]-_0xc2156b[-0x53*0x49+-0x1d*0xf3+0x1999*0x2])*(-0x773*0x5+-0x7c+0xd*0x2e7+0.5),(_0x556dac[-0x185d+-0x18c*-0x8+-0x5*-0x266]-_0xc2156b[0x1808+-0xa*-0x28b+-0x1*0x3175])*(0x10ae+0x14e2+-0x2590+0.5),(_0x556dac[0x13db+0x1613+-0x2*0x14f6]-_0xc2156b[0x14*0x18f+-0x2051*0x1+0x127])*(-0x13f*-0x5+-0x19ca+0x1*0x138f+0.5)));},T0=_0xf010b4=>{if(!_0xf010b4['hasOwnProp'+'erty']('mode'))return js;switch(_0xf010b4['mode']){case-0x11c5*0x2+0x74*0x34+0xbfa:return cd;case-0x469*-0x1+0xb52+0x3*-0x53e:return hd;case-0x17b8+0x1c1*0x10+-0x3*0x172:return _y;case-0xce+-0x1ded+0x626*0x5:return gy;case 0xd*-0x1f2+-0x9dc+-0x283*-0xe:return js;case-0x1b92+-0x20e5+0x3c7c:return Er;case 0x24ab+0x24b8+-0x495d:return oa;default:return js;}},QF=_0x4579e9=>{const _0x24b545=new Uint16Array(_0x4579e9);for(let _0x1e8626=0x1*-0xaf2+0x2*0xc3e+0x6c5*-0x2;_0x1e8626<_0x4579e9;_0x1e8626++)_0x24b545[_0x1e8626]=_0x1e8626;return _0x24b545;},JF=(_0x11221d,_0x59f5cb)=>{const _0x333b6b=_0x11221d[Me];if(!_0x333b6b||_0x333b6b['components']!==0x7b9*0x5+-0x4*0x10d+-0x2266)return;let _0xa3b3b7;if(_0x333b6b['size']!==_0x333b6b['stride']){const _0x4c18bd=_0x333b6b['stride']/No[_0x333b6b['type']],_0x4f07d5=new wn[_0x333b6b['type']](_0x333b6b['buffer'],_0x333b6b['offset'],_0x333b6b['count']*_0x4c18bd);_0xa3b3b7=new wn[_0x333b6b['type']](_0x333b6b['count']*(-0x6bb*0x1+-0x1da0+0x245e));for(let _0x3da163=-0x23b8*0x1+0x2*-0x92e+-0x1*-0x3614;_0x3da163<_0x333b6b['count'];++_0x3da163)_0xa3b3b7[_0x3da163*(0x3*-0x1c+0x1b3+-0x74*0x3)+(0x1f61+0xc42+0x2ba3*-0x1)]=_0x4f07d5[_0x3da163*_0x4c18bd+(0x264f+0x971*0x4+-0x4c13)],_0xa3b3b7[_0x3da163*(-0x1*0x18bb+0x893+-0x1*-0x102b)+(-0xc33+0x2*-0x122c+0x1846*0x2)]=_0x4f07d5[_0x3da163*_0x4c18bd+(0x677+-0x1f*0x2e+-0xe4)],_0xa3b3b7[_0x3da163*(-0x12ff+-0x20*0x56+0x1dc2)+(-0x1b1d+-0x169d+0x1094*0x3)]=_0x4f07d5[_0x3da163*_0x4c18bd+(0xec+-0x17c8+0x16de)];}else _0xa3b3b7=new wn[_0x333b6b['type']](_0x333b6b['buffer'],_0x333b6b['offset'],_0x333b6b['count']*(-0x4c3*0x7+-0xc8+0x2220));const _0x706993=_0x333b6b['count'];_0x59f5cb||(_0x59f5cb=QF(_0x706993));const _0x46d680=Iv(_0xa3b3b7,_0x59f5cb),_0x16f1c9=new Float32Array(_0x46d680['length']);_0x16f1c9['set'](_0x46d680),_0x11221d[gs]={'buffer':_0x16f1c9['buffer'],'size':0xc,'offset':0x0,'stride':0xc,'count':_0x706993,'components':0x3,'type':Ve};},eN=_0x2d270c=>{const _0x4209d8=_0x55841a=>{const _0x186274=[];for(let _0x40d59a=0xfea+-0xccd+-0x31d*0x1;_0x40d59a<_0x55841a['_levels']['length'];++_0x40d59a){let _0x27aca8=[];if(_0x55841a['cubemap']){for(let _0x336ec8=0x43*-0x2f+-0xcb*0x1e+-0x2417*-0x1;_0x336ec8<0x115e+0x149c+-0x25f4;++_0x336ec8)_0x27aca8['push'](_0x55841a['_levels'][_0x40d59a][_0x336ec8]);}else _0x27aca8=_0x55841a['_levels'][_0x40d59a];_0x186274['push'](_0x27aca8);}return _0x186274;},_0x2d5af9=new _e(_0x2d270c['device'],_0x2d270c);return _0x2d5af9['_levels']=_0x4209d8(_0x2d270c),_0x2d5af9;},tN=_0x3fb8ab=>{const _0x17bba7=new pe(_0x3fb8ab['name']+'_clone',_0x3fb8ab['type'],_0x3fb8ab['file'],_0x3fb8ab['data'],_0x3fb8ab['options']);return _0x17bba7['loaded']=!(-0x1d6+0x89f*0x1+-0x6c9),_0x17bba7['resource']=eN(_0x3fb8ab['resource']),_0x3fb8ab['registry']['add'](_0x17bba7),_0x17bba7;},sN=(_0x23ffc6,_0x70dda4)=>{const _0x5e5a60=_0x70dda4[Me];if(!_0x5e5a60)return null;const _0x26496c=_0x5e5a60['count'],_0x4eeb6a=[];for(const _0x3364d4 in _0x70dda4)if(_0x70dda4['hasOwnProp'+'erty'](_0x3364d4)){const _0x3bd969={'semantic':_0x3364d4,'components':_0x70dda4[_0x3364d4]['components'],'type':_0x70dda4[_0x3364d4]['type'],'normalize':!!_0x70dda4[_0x3364d4]['normalize']};kt['isElementV'+'alid'](_0x23ffc6,_0x3bd969)||_0x3bd969['components']++,_0x4eeb6a['push'](_0x3bd969);}_0x4eeb6a['sort']((_0x215db7,_0xbf5193)=>SS[_0x215db7['semantic']]-SS[_0xbf5193['semantic']]);let _0x429f2b,_0x57ca27,_0x267e6e,_0xc9ba14,_0x2813fb,_0x1ff1aa;const _0xcee1ee=new kt(_0x23ffc6,_0x4eeb6a);let _0x15817f=!(0x12f5*0x1+0x1*-0x18c7+0x5d2);for(_0x429f2b=-0x1c83+-0x1ae4+0x443*0xd;_0x429f2b<_0xcee1ee['elements']['length'];++_0x429f2b)if(_0x2813fb=_0xcee1ee['elements'][_0x429f2b],_0xc9ba14=_0x70dda4[_0x2813fb['name']],_0x1ff1aa=_0xc9ba14['offset']-_0x5e5a60['offset'],_0xc9ba14['buffer']!==_0x5e5a60['buffer']||_0xc9ba14['stride']!==_0x2813fb['stride']||_0xc9ba14['size']!==_0x2813fb['size']||_0x1ff1aa!==_0x2813fb['offset']){_0x15817f=!(-0xdb1*-0x2+0xe07+-0x2968);break;}const _0x302ba6=new Is(_0x23ffc6,_0xcee1ee,_0x26496c),_0xd5dc78=_0x302ba6['lock'](),_0x463522=new Uint32Array(_0xd5dc78);let _0x3df092;if(_0x15817f)_0x3df092=new Uint32Array(_0x5e5a60['buffer'],_0x5e5a60['offset'],_0x26496c*_0x302ba6['format']['size']/(-0x1d77+-0xdef+0x2b6a*0x1)),_0x463522['set'](_0x3df092);else{let _0x3345fa,_0x5a1874;for(_0x429f2b=-0x1f0c+0x223*-0xb+-0x299*-0x15;_0x429f2b<_0x302ba6['format']['elements']['length'];++_0x429f2b){_0x2813fb=_0x302ba6['format']['elements'][_0x429f2b],_0x3345fa=_0x2813fb['stride']/(-0x1be8+-0x9ed+0x25d9),_0xc9ba14=_0x70dda4[_0x2813fb['name']],_0x5a1874=_0xc9ba14['stride']/(-0x20d7+-0x85*-0x39+0x33e),_0x3df092=new Uint32Array(_0xc9ba14['buffer'],_0xc9ba14['offset'],(_0xc9ba14['count']-(0x2577*0x1+-0x1ea*0x5+-0x1be4))*_0x5a1874+(_0xc9ba14['size']+(0x1136+-0x1*-0x1070+0x21a3*-0x1))/(-0x8*-0x1a1+0xd33+-0x1a37));let _0x31aa49=-0x34*-0x6+-0x1682+0x154a,_0x1fc787=_0x2813fb['offset']/(-0x17dd+-0x59f+0x1d8*0x10);const _0x1ae645=Math['floor']((_0xc9ba14['size']+(0x1223+0x3*-0x105+0x227*-0x7))/(0x1ada+0xe9*0x22+-0x39c8));for(_0x57ca27=0x1*-0x18e5+-0x8bd+0x21a2;_0x57ca27<_0x26496c;++_0x57ca27){for(_0x267e6e=0x5f*-0x55+0x147d+0xb0e;_0x267e6e<_0x1ae645;++_0x267e6e)_0x463522[_0x1fc787+_0x267e6e]=_0x3df092[_0x31aa49+_0x267e6e];_0x31aa49+=_0x5a1874,_0x1fc787+=_0x3345fa;}}}return _0x302ba6['unlock'](),_0x302ba6;},iN=(_0x22cae6,_0x365ef7,_0x369b44,_0x454390,_0x1ae89b,_0x17c692)=>{const _0x246802={},_0x1b37d5=[];for(const _0x73154c in _0x365ef7)_0x365ef7['hasOwnProp'+'erty'](_0x73154c)&&Nh['hasOwnProp'+'erty'](_0x73154c)&&(_0x246802[_0x73154c]=_0x365ef7[_0x73154c],_0x1b37d5['push'](_0x73154c+':'+_0x365ef7[_0x73154c]));_0x1b37d5['sort']();const _0x2f4aa2=_0x1b37d5['join']();let _0x2d8e21=_0x17c692[_0x2f4aa2];if(!_0x2d8e21){const _0x1fe3ac={};for(const _0x465371 in _0x246802){const _0x44f551=_0x454390[_0x365ef7[_0x465371]],_0x56dff=ua(_0x44f551,_0x1ae89b),_0x28560d=_0x1ae89b[_0x44f551['bufferView']],_0x471a8b=Nh[_0x465371],_0x35dc63=yl(_0x44f551['type'])*YF(_0x44f551['componentT'+'ype']),_0x5b2ca5=_0x28560d&&_0x28560d['hasOwnProp'+'erty']('byteStride')?_0x28560d['byteStride']:_0x35dc63;_0x1fe3ac[_0x471a8b]={'buffer':_0x56dff['buffer'],'size':_0x35dc63,'offset':_0x56dff['byteOffset'],'stride':_0x5b2ca5,'count':_0x44f551['count'],'components':yl(_0x44f551['type']),'type':Dd(_0x44f551['componentT'+'ype']),'normalize':_0x44f551['normalized']};}_0x1fe3ac['hasOwnProp'+'erty'](gs)||JF(_0x1fe3ac,_0x369b44),_0x2d8e21=sN(_0x22cae6,_0x1fe3ac),_0x17c692[_0x2f4aa2]=_0x2d8e21;}return _0x2d8e21;},rN=(_0x15b8d7,_0x1cc7bb,_0x5dcfa4,_0x3d4b10,_0x4ff348,_0x19f6c7)=>{let _0x58786d,_0x418d42,_0x16964b;const _0x37eca3=_0x1cc7bb['joints'],_0x2503b3=_0x37eca3['length'],_0x730303=[];if(_0x1cc7bb['hasOwnProp'+'erty']('inverseBin'+'dMatrices')){const _0x5b606a=_0x1cc7bb['inverseBin'+'dMatrices'],_0x4e3281=ua(_0x5dcfa4[_0x5b606a],_0x3d4b10,!(-0x1cd*0x5+-0x1*-0x17af+0x2*-0x757)),_0x4ff49b=[];for(_0x58786d=-0x981+0x22*0xef+-0x1*0x163d;_0x58786d<_0x2503b3;_0x58786d++){for(_0x418d42=0x20a1+0x21a4+-0x4245;_0x418d42<0x2e9*-0x2+0x258+0x1*0x38a;_0x418d42++)_0x4ff49b[_0x418d42]=_0x4e3281[_0x58786d*(-0x3*0x1b7+-0x202*-0x3+0x13*-0xb)+_0x418d42];_0x16964b=new te(),_0x16964b['set'](_0x4ff49b),_0x730303['push'](_0x16964b);}}else{for(_0x58786d=0x1f0a+-0x1274+-0x64b*0x2;_0x58786d<_0x2503b3;_0x58786d++)_0x16964b=new te(),_0x730303['push'](_0x16964b);}const _0xf34e61=[];for(_0x58786d=0x1b1a+0x1863+-0x337d*0x1;_0x58786d<_0x2503b3;_0x58786d++)_0xf34e61[_0x58786d]=_0x4ff348[_0x37eca3[_0x58786d]]['name'];const _0x22b27a=_0xf34e61['join']('#');let _0x356e3e=_0x19f6c7['get'](_0x22b27a);return _0x356e3e||(_0x356e3e=new Lv(_0x15b8d7,_0x730303,_0xf34e61),_0x19f6c7['set'](_0x22b27a,_0x356e3e)),_0x356e3e;},aN=(_0x924ff3,_0x247c13,_0x2d55f5,_0x155da9,_0xa511c7,_0x279f4c,_0xb25573)=>{var _0x10ea91;const _0x3e5bb7=new Ge(_0x924ff3);_0x3e5bb7['aabb']=Hu(_0x2d55f5[_0x247c13['attributes']['POSITION']]);const _0x265051=[];for(const [_0x16a6d7,_0x554b7b]of Object['entries'](_0x247c13['attributes'])){const _0x34530c=_0x2d55f5[_0x554b7b],_0x53ccf7=Nh[_0x16a6d7],_0x918d9c=Dd(_0x34530c['componentT'+'ype']);_0x265051['push']({'semantic':_0x53ccf7,'components':yl(_0x34530c['type']),'type':_0x918d9c,'normalize':_0x34530c['normalized']??(_0x53ccf7===Wt&&(_0x918d9c===la||_0x918d9c===Ml))});}if(_0xb25573['push'](new Promise((_0x221ebf,_0x1b5abe)=>{const _0xb5a083=_0x247c13['extensions']['KHR_draco_'+'mesh_compr'+'ession'];XF(_0x155da9[_0xb5a083['bufferView']]['slice']()['buffer'],(_0x13a478,_0x48ef58)=>{var _0x2ed226;if(_0x13a478)console['log'](_0x13a478),_0x1b5abe(_0x13a478);else{const _0x22ef24={};for(const [_0x4d20cd,_0x3f32d6]of Object['entries'](_0xb5a083['attributes']))_0x22ef24[Nh[_0x4d20cd]]=_0x48ef58['attributes']['indexOf'](_0x3f32d6);_0x265051['sort']((_0x5be222,_0x500abf)=>_0x22ef24[_0x5be222['semantic']]-_0x22ef24[_0x500abf['semantic']]),(_0x2ed226=_0x247c13['attributes'])!=null&&_0x2ed226['NORMAL']||_0x265051['splice'](0xdd1*0x2+-0x7e6*-0x3+-0x7*0x755,-0x7bd+0xab2*-0x3+0x27d3,{'semantic':'NORMAL','components':0x3,'type':Ve});const _0x59e00a=new kt(_0x924ff3,_0x265051),_0x474b23=_0x48ef58['vertices']['byteLength']/_0x59e00a['size'],_0x5f0800=_0x474b23<=-0xb65a+0x1*0x575b+0x15efe?Yi:wr,_0x3706a9=_0x48ef58['indices']['byteLength']/(_0x474b23<=-0xc5a7+0x7831+0x14d75?0x1cdb*-0x1+-0x2176*0x1+0x3e53:-0x121b+-0x1096+0x22b5);w['call'](()=>{_0x474b23!==_0x2d55f5[_0x247c13['attributes']['POSITION']]['count']&&w['warn']('mesh\x20has\x20i'+'nvalid\x20ver'+'tex\x20count'),_0x3706a9!==_0x2d55f5[_0x247c13['indices']]['count']&&w['warn']('mesh\x20has\x20i'+'nvalid\x20ind'+'ex\x20count');});const _0x518a39=new Is(_0x924ff3,_0x59e00a,_0x474b23,{'data':_0x48ef58['vertices']}),_0x12b7b6=new br(_0x924ff3,_0x5f0800,_0x3706a9,ms,_0x48ef58['indices']);_0x3e5bb7['vertexBuff'+'er']=_0x518a39,_0x3e5bb7['indexBuffe'+'r'][-0x187a+0x1517+0x363]=_0x12b7b6,_0x3e5bb7['primitive'][0x26*-0x79+-0x9e*-0x11+0x778]['type']=T0(_0x247c13),_0x3e5bb7['primitive'][0x19*0xf9+0x607*0x5+0xae4*-0x5]['base']=-0x88f+-0xe74*0x2+0x2577*0x1,_0x3e5bb7['primitive'][-0x1711+0x1*-0x1021+0x1*0x2732]['count']=_0x12b7b6?_0x3706a9:_0x474b23,_0x3e5bb7['primitive'][0x1ca+0x11b2+-0x137c]['indexed']=!!_0x12b7b6,_0x221ebf();}});})),(_0x10ea91=_0x247c13==null?void(0x1*-0x557+-0x24b9+0x2a10):_0x247c13['extensions'])!=null&&_0x10ea91['KHR_materi'+'als_varian'+'ts']){const _0x5d90d2=_0x247c13['extensions']['KHR_materi'+'als_varian'+'ts'],_0x21272f={};_0x5d90d2['mappings']['forEach'](_0x45ccdd=>{_0x45ccdd['variants']['forEach'](_0x364cc1=>{_0x21272f[_0x364cc1]=_0x45ccdd['material'];});}),_0xa511c7[_0x3e5bb7['id']]=_0x21272f;}return _0x279f4c[_0x3e5bb7['id']]=_0x247c13['material'],_0x3e5bb7;},nN=(_0x46f11e,_0x331322,_0x28b313,_0x57ef03,_0x35c72f,_0x1c7046,_0x2be7b6,_0x427cae,_0x2b5ab0)=>{const _0x5cc9e9=[];return _0x331322['primitives']['forEach'](_0x39d945=>{var _0x2141b5;if((_0x2141b5=_0x39d945['extensions'])!=null&&_0x2141b5['KHR_draco_'+'mesh_compr'+'ession'])_0x5cc9e9['push'](aN(_0x46f11e,_0x39d945,_0x28b313,_0x57ef03,_0x1c7046,_0x2be7b6,_0x2b5ab0));else{let _0x513685=_0x39d945['hasOwnProp'+'erty']('indices')?ua(_0x28b313[_0x39d945['indices']],_0x57ef03,!(-0x5*-0x241+-0x199*0x11+0x7f2*0x2)):null;const _0x293ca5=iN(_0x46f11e,_0x39d945['attributes'],_0x513685,_0x28b313,_0x57ef03,_0x35c72f),_0x5175d9=T0(_0x39d945),_0x2bbd95=new Ge(_0x46f11e);if(_0x2bbd95['vertexBuff'+'er']=_0x293ca5,_0x2bbd95['primitive'][-0x1137+0xa*0x2e0+-0xb89]['type']=_0x5175d9,_0x2bbd95['primitive'][-0x2b*-0xc7+0x3*0x425+-0x2ddc]['base']=-0xb92*0x1+-0x1343+0x9*0x36d,_0x2bbd95['primitive'][0x3*-0x8b4+0xb*0x35f+-0xaf9]['indexed']=_0x513685!==null,_0x513685!==null){let _0x35f03a;_0x513685 instanceof Uint8Array?_0x35f03a=$f:_0x513685 instanceof Uint16Array?_0x35f03a=Yi:_0x35f03a=wr,_0x35f03a===$f&&_0x46f11e['isWebGPU']&&(_0x35f03a=Yi,_0x513685=new Uint16Array(_0x513685));const _0x20b269=new br(_0x46f11e,_0x35f03a,_0x513685['length'],ms,_0x513685);_0x2bbd95['indexBuffe'+'r'][0x1eb3+0x75d+-0x2610]=_0x20b269,_0x2bbd95['primitive'][-0x187b*0x1+0x1979*0x1+0x1*-0xfe]['count']=_0x513685['length'];}else _0x2bbd95['primitive'][0x1c*-0xc1+0x1879+-0x35d]['count']=_0x293ca5['numVertice'+'s'];if(_0x39d945['hasOwnProp'+'erty']('extensions')&&_0x39d945['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts')){const _0x12ec05=_0x39d945['extensions']['KHR_materi'+'als_varian'+'ts'],_0x38d688={};_0x12ec05['mappings']['forEach'](_0x3f09d4=>{_0x3f09d4['variants']['forEach'](_0x400db5=>{_0x38d688[_0x400db5]=_0x3f09d4['material'];});}),_0x1c7046[_0x2bbd95['id']]=_0x38d688;}_0x2be7b6[_0x2bbd95['id']]=_0x39d945['material'];let _0x4c27ea=_0x28b313[_0x39d945['attributes']['POSITION']];if(_0x2bbd95['aabb']=Hu(_0x4c27ea),_0x39d945['hasOwnProp'+'erty']('targets')){const _0x445bcd=[];_0x39d945['targets']['forEach']((_0x5bf7e9,_0x581d18)=>{const _0x51c638={};_0x5bf7e9['hasOwnProp'+'erty']('POSITION')&&(_0x4c27ea=_0x28b313[_0x5bf7e9['POSITION']],_0x51c638['deltaPosit'+'ions']=Pn(_0x4c27ea,_0x57ef03),_0x51c638['aabb']=Hu(_0x4c27ea)),_0x5bf7e9['hasOwnProp'+'erty']('NORMAL')&&(_0x4c27ea=_0x28b313[_0x5bf7e9['NORMAL']],_0x51c638['deltaNorma'+'ls']=Pn(_0x4c27ea,_0x57ef03)),_0x331322['hasOwnProp'+'erty']('extras')&&_0x331322['extras']['hasOwnProp'+'erty']('targetName'+'s')?_0x51c638['name']=_0x331322['extras']['targetName'+'s'][_0x581d18]:_0x51c638['name']=_0x581d18['toString'](-0x9*-0x5b+0xc36*-0x3+-0x1*-0x2179),_0x331322['hasOwnProp'+'erty']('weights')&&(_0x51c638['defaultWei'+'ght']=_0x331322['weights'][_0x581d18]),_0x51c638['preserveDa'+'ta']=_0x427cae['morphPrese'+'rveData'],_0x445bcd['push'](new Md(_0x51c638));}),_0x2bbd95['morph']=new mm(_0x445bcd,_0x46f11e,{'preferHighPrecision':_0x427cae['morphPrefe'+'rHighPreci'+'sion']});}_0x5cc9e9['push'](_0x2bbd95);}}),_0x5cc9e9;},Dt=(_0x1e2934,_0x2095bb,_0x34db01)=>{var _0x3a8c51;let _0x10526e;const _0x30abe9=_0x1e2934['texCoord'];if(_0x30abe9){for(_0x10526e=0x207*0x13+0x2654+-0x1*0x4cd9;_0x10526e<_0x34db01['length'];++_0x10526e)_0x2095bb[_0x34db01[_0x10526e]+'MapUv']=_0x30abe9;}const _0x17fb15=[0xa6*-0x2f+-0x91c+0x2796,0x6*0x16+0x122b*0x1+0x1*-0x12af],_0x1d9c2e=[0x2159+-0x14bf+-0xc99,0x16ed+-0x5*0x6b7+0xaa7],_0x469e94=(_0x3a8c51=_0x1e2934['extensions'])==null?void(0x5*0x4c4+-0xcb6*0x1+-0xb1e):_0x3a8c51['KHR_textur'+'e_transfor'+'m'];if(_0x469e94){const _0x5a63cb=_0x469e94['offset']||_0x17fb15,_0x3a7489=_0x469e94['scale']||_0x1d9c2e,_0x542a2f=_0x469e94['rotation']?-_0x469e94['rotation']*Y['RAD_TO_DEG']:-0x1601+0x39+0x15c8,_0x15f223=new J(_0x3a7489[0x68b+0x43*-0x6b+0x1576],_0x3a7489[-0x1b5a+0xd72*-0x2+0x607*0x9]),_0xe592eb=new J(_0x5a63cb[-0xb27*-0x1+-0xbaf+0x88],0x1834+0xa*0x1df+-0x2ae9*0x1-_0x3a7489[-0x770+0x40*0x74+-0x1*0x158f]-_0x5a63cb[-0x6*0x50d+-0x190+0x29*0xc7]);for(_0x10526e=-0x2081*0x1+0xc38+0x1449*0x1;_0x10526e<_0x34db01['length'];++_0x10526e)_0x2095bb[_0x34db01[_0x10526e]+'MapTiling']=_0x15f223,_0x2095bb[_0x34db01[_0x10526e]+'MapOffset']=_0xe592eb,_0x2095bb[_0x34db01[_0x10526e]+('MapRotatio'+'n')]=_0x542a2f;}},oN=(_0x158d57,_0x3c9357,_0xa5d409)=>{let _0x990c81,_0x1147ca;if(_0x158d57['hasOwnProp'+'erty']('diffuseFac'+'tor')?(_0x990c81=_0x158d57['diffuseFac'+'tor'],_0x3c9357['diffuse']['set'](Math['pow'](_0x990c81[0x2f*0x61+-0x749+-0xa86],(0x1*0x1602+0x1311+0x5de*-0x7)/(0x1*-0xbc0+-0x1*-0xbe6+0x6*-0x6+0.20000000000000018)),Math['pow'](_0x990c81[0x1221+0x525*-0x7+-0x1*-0x11e3],(-0x1*0x943+-0x1*-0x426+-0x1*-0x51e)/(-0x95e*0x1+0x13*-0x1aa+0x28fe+0.20000000000000018)),Math['pow'](_0x990c81[-0x15d+0x1*0x26ed+-0x26*0xfd],(0x707+-0x110d+0xa07)/(-0x43*-0x52+0x1*-0xa91+-0x1*0xae3+0.20000000000000018))),_0x3c9357['opacity']=_0x990c81[-0x1849+-0x9*0x377+0x377b]):(_0x3c9357['diffuse']['set'](-0x1*-0xdcd+0x741*0x3+-0x238f,-0x9eb*0x3+-0x1e63+-0x3c25*-0x1,0x9c7+0xd3*-0x2f+0x1cf7),_0x3c9357['opacity']=-0x1*-0xf8c+0x206a+-0x2ff5),_0x158d57['hasOwnProp'+'erty']('diffuseTex'+'ture')){const _0x181382=_0x158d57['diffuseTex'+'ture'];_0x1147ca=_0xa5d409[_0x181382['index']],_0x3c9357['diffuseMap']=_0x1147ca,_0x3c9357['diffuseMap'+'Channel']='rgb',_0x3c9357['opacityMap']=_0x1147ca,_0x3c9357['opacityMap'+'Channel']='a',Dt(_0x181382,_0x3c9357,['diffuse','opacity']);}if(_0x3c9357['useMetalne'+'ss']=!(-0xd*-0x47+0x10*-0x1e7+0x1ad6),_0x158d57['hasOwnProp'+'erty']('specularFa'+'ctor')?(_0x990c81=_0x158d57['specularFa'+'ctor'],_0x3c9357['specular']['set'](Math['pow'](_0x990c81[-0xc4*-0x2b+0x1*0x6ab+-0x2797],(0x1c8e+-0x3*0x3cd+-0x1126)/(0xc04+-0x1be5+0xfe3+0.20000000000000018)),Math['pow'](_0x990c81[-0x1766+-0x184c+-0x1*-0x2fb3],(0xbb0+-0x14e3*0x1+0x1f*0x4c)/(0x147c*0x1+0x1d2e+0x1c*-0x1c6+0.20000000000000018)),Math['pow'](_0x990c81[0xb2*0x34+0x5*-0x623+0x1*-0x577],(-0x1ece+-0x123a+0x3109)/(0x35*0xa7+-0x687*0x5+-0x1ee+0.20000000000000018)))):_0x3c9357['specular']['set'](0x3*-0x2a5+-0x167*-0x2+-0x6*-0xdb,0x1bff+0x1e48+0x2*-0x1d23,0x19df+0x1ce9+-0x1*0x36c7),_0x158d57['hasOwnProp'+'erty']('glossiness'+'Factor')?_0x3c9357['gloss']=_0x158d57['glossiness'+'Factor']:_0x3c9357['gloss']=0x1904+0x1d1c+-0x361f,_0x158d57['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x18ace8=_0x158d57['specularGl'+'ossinessTe'+'xture'];_0x3c9357['specularMa'+'p']=_0x3c9357['glossMap']=_0xa5d409[_0x18ace8['index']],_0x3c9357['specularMa'+'pChannel']='rgb',_0x3c9357['glossMapCh'+'annel']='a',Dt(_0x18ace8,_0x3c9357,['gloss','metalness']);}},lN=(_0x12daf6,_0x3ce7f0,_0x186068)=>{if(_0x12daf6['hasOwnProp'+'erty']('clearcoatF'+'actor')?_0x3ce7f0['clearCoat']=_0x12daf6['clearcoatF'+'actor']*(-0x698*-0x5+-0x62b+-0x1acd+0.25):_0x3ce7f0['clearCoat']=0xd84+-0x17bd+0xa39,_0x12daf6['hasOwnProp'+'erty']('clearcoatT'+'exture')){const _0x1b1130=_0x12daf6['clearcoatT'+'exture'];_0x3ce7f0['clearCoatM'+'ap']=_0x186068[_0x1b1130['index']],_0x3ce7f0['clearCoatM'+'apChannel']='r',Dt(_0x1b1130,_0x3ce7f0,['clearCoat']);}if(_0x12daf6['hasOwnProp'+'erty']('clearcoatR'+'oughnessFa'+'ctor')?_0x3ce7f0['clearCoatG'+'loss']=_0x12daf6['clearcoatR'+'oughnessFa'+'ctor']:_0x3ce7f0['clearCoatG'+'loss']=0x19b1+-0x8*0x2fc+0x5*-0x5d,_0x12daf6['hasOwnProp'+'erty']('clearcoatR'+'oughnessTe'+'xture')){const _0x1d63e9=_0x12daf6['clearcoatR'+'oughnessTe'+'xture'];_0x3ce7f0['clearCoatG'+'lossMap']=_0x186068[_0x1d63e9['index']],_0x3ce7f0['clearCoatG'+'lossMapCha'+'nnel']='g',Dt(_0x1d63e9,_0x3ce7f0,['clearCoatG'+'loss']);}if(_0x12daf6['hasOwnProp'+'erty']('clearcoatN'+'ormalTextu'+'re')){const _0x1836f7=_0x12daf6['clearcoatN'+'ormalTextu'+'re'];_0x3ce7f0['clearCoatN'+'ormalMap']=_0x186068[_0x1836f7['index']],Dt(_0x1836f7,_0x3ce7f0,['clearCoatN'+'ormal']),_0x1836f7['hasOwnProp'+'erty']('scale')?_0x3ce7f0['clearCoatB'+'umpiness']=_0x1836f7['scale']:_0x3ce7f0['clearCoatB'+'umpiness']=-0x1d*-0x9+0x235c+-0x2460;}_0x3ce7f0['clearCoatG'+'lossInvert']=!(0x2567+-0x88e+-0x1cd9*0x1);},cN=(_0xedba1f,_0x2ee939,_0x44710e)=>{_0x2ee939['useLightin'+'g']=!(-0x1247*-0x1+0x2fb*0x3+-0x1b37),_0x2ee939['emissive']['copy'](_0x2ee939['diffuse']),_0x2ee939['emissiveMa'+'p']=_0x2ee939['diffuseMap'],_0x2ee939['emissiveMa'+'pUv']=_0x2ee939['diffuseMap'+'Uv'],_0x2ee939['emissiveMa'+'pTiling']['copy'](_0x2ee939['diffuseMap'+'Tiling']),_0x2ee939['emissiveMa'+'pOffset']['copy'](_0x2ee939['diffuseMap'+'Offset']),_0x2ee939['emissiveMa'+'pRotation']=_0x2ee939['diffuseMap'+'Rotation'],_0x2ee939['emissiveMa'+'pChannel']=_0x2ee939['diffuseMap'+'Channel'],_0x2ee939['emissiveVe'+'rtexColor']=_0x2ee939['diffuseVer'+'texColor'],_0x2ee939['emissiveVe'+'rtexColorC'+'hannel']=_0x2ee939['diffuseVer'+'texColorCh'+'annel'],_0x2ee939['useLightin'+'g']=!(-0x9*0x175+0x193f+-0xc21),_0x2ee939['useSkybox']=!(0x26f0+0x24*-0x109+-0x7*0x3d),_0x2ee939['diffuse']['set'](-0xec3+-0x3a4*0x8+0x2be4,-0x16*-0x148+0x1d34*0x1+-0xb1*0x53,0x24f4+-0x7bf*0x1+0x1d34*-0x1),_0x2ee939['diffuseMap']=null,_0x2ee939['diffuseVer'+'texColor']=!(0x622+0x1575*0x1+-0x2*0xdcb);},hN=(_0x267011,_0x22fd57,_0x40c20c)=>{if(_0x22fd57['useMetalne'+'ssSpecular'+'Color']=!(-0x240f+-0x1*0x3a1+0x27b0),_0x267011['hasOwnProp'+'erty']('specularCo'+'lorTexture')&&(_0x22fd57['specularMa'+'p']=_0x40c20c[_0x267011['specularCo'+'lorTexture']['index']],_0x22fd57['specularMa'+'pChannel']='rgb',Dt(_0x267011['specularCo'+'lorTexture'],_0x22fd57,['specular'])),_0x267011['hasOwnProp'+'erty']('specularCo'+'lorFactor')){const _0x34d7b6=_0x267011['specularCo'+'lorFactor'];_0x22fd57['specular']['set'](Math['pow'](_0x34d7b6[-0x709*0x4+0x1189*0x2+-0x6ee],(0x5ba+0x67*0x19+-0x1*0xfc8)/(0x19d8+0xde4+-0x27ba+0.20000000000000018)),Math['pow'](_0x34d7b6[0x411*-0x3+0x17e1+-0xbad],(0x1bc*0x1+0x5eb+-0x2*0x3d3)/(-0x3*-0x263+0x1b7a+-0x6ed*0x5+0.20000000000000018)),Math['pow'](_0x34d7b6[-0x41*0x4a+-0x670+-0x55*-0x4c],(-0xac5*-0x1+0x2*0x6f0+-0x18a4)/(0x16e5*0x1+-0x57a*-0x5+0x1*-0x3245+0.20000000000000018)));}else _0x22fd57['specular']['set'](-0x26fa+-0xd39*0x2+0x416d,-0x4*-0x899+0x1f40+-0x41a3,-0x247*-0x7+-0x15ac+0x5bc*0x1);_0x267011['hasOwnProp'+'erty']('specularFa'+'ctor')?_0x22fd57['specularit'+'yFactor']=_0x267011['specularFa'+'ctor']:_0x22fd57['specularit'+'yFactor']=0x1630+0x20e0+-0x5*0xb03,_0x267011['hasOwnProp'+'erty']('specularTe'+'xture')&&(_0x22fd57['specularit'+'yFactorMap'+'Channel']='a',_0x22fd57['specularit'+'yFactorMap']=_0x40c20c[_0x267011['specularTe'+'xture']['index']],Dt(_0x267011['specularTe'+'xture'],_0x22fd57,['specularit'+'yFactor']));},dN=(_0x477510,_0x29beb9,_0x54ddd5)=>{_0x477510['hasOwnProp'+'erty']('ior')&&(_0x29beb9['refraction'+'Index']=(0x7*-0x57d+-0x1bf7+-0x1621*-0x3)/_0x477510['ior']);},fN=(_0x277c05,_0x38b7ec,_0x287b74)=>{_0x277c05['hasOwnProp'+'erty']('dispersion')&&(_0x38b7ec['dispersion']=_0x277c05['dispersion']);},uN=(_0x1b0438,_0xd1b917,_0x2a630d)=>{_0xd1b917['blendType']=Zs,_0xd1b917['useDynamic'+'Refraction']=!(0x1ba0+0x24d4+-0x157c*0x3),_0x1b0438['hasOwnProp'+'erty']('transmissi'+'onFactor')&&(_0xd1b917['refraction']=_0x1b0438['transmissi'+'onFactor']),_0x1b0438['hasOwnProp'+'erty']('transmissi'+'onTexture')&&(_0xd1b917['refraction'+'MapChannel']='r',_0xd1b917['refraction'+'Map']=_0x2a630d[_0x1b0438['transmissi'+'onTexture']['index']],Dt(_0x1b0438['transmissi'+'onTexture'],_0xd1b917,['refraction']));},pN=(_0x10a2c4,_0x1fda94,_0x389cda)=>{if(_0x1fda94['useSheen']=!(-0x1cb*0x5+-0x1*0x17ea+-0x13*-0x1bb),_0x10a2c4['hasOwnProp'+'erty']('sheenColor'+'Factor')){const _0x4527a5=_0x10a2c4['sheenColor'+'Factor'];_0x1fda94['sheen']['set'](Math['pow'](_0x4527a5[0x25a5+0x1629+-0x3bce*0x1],(0x662+0x1*0x25a2+-0x2c03)/(0x1ccf+-0x3f3*0x1+0x18da*-0x1+0.20000000000000018)),Math['pow'](_0x4527a5[-0x267*-0x5+-0x1792+0xb90],(0x7*0x222+-0x5*-0x323+-0x1e9c)/(-0x18de+-0x1848+0x4*0xc4a+0.20000000000000018)),Math['pow'](_0x4527a5[-0x1701+-0x1d4f+0x1a29*0x2],(0x160f+0x4a9*0x4+-0x1459*0x2)/(0xc51+-0x4*0x234+-0x37f+0.20000000000000018)));}else _0x1fda94['sheen']['set'](-0x1958+-0x25b3+0x3f0c,-0xb*-0x202+-0xc5b*0x2+0x2a1,-0xef6+0x1518+-0x621);_0x10a2c4['hasOwnProp'+'erty']('sheenColor'+'Texture')&&(_0x1fda94['sheenMap']=_0x389cda[_0x10a2c4['sheenColor'+'Texture']['index']],Dt(_0x10a2c4['sheenColor'+'Texture'],_0x1fda94,['sheen'])),_0x1fda94['sheenGloss']=_0x10a2c4['hasOwnProp'+'erty']('sheenRough'+'nessFactor')?_0x10a2c4['sheenRough'+'nessFactor']:0x199c+0x1329+-0x9d*0x49,_0x10a2c4['hasOwnProp'+'erty']('sheenRough'+'nessTextur'+'e')&&(_0x1fda94['sheenGloss'+'Map']=_0x389cda[_0x10a2c4['sheenRough'+'nessTextur'+'e']['index']],_0x1fda94['sheenGloss'+'MapChannel']='a',Dt(_0x10a2c4['sheenRough'+'nessTextur'+'e'],_0x1fda94,['sheenGloss'])),_0x1fda94['sheenGloss'+'Invert']=!(-0x29d+0x1*0x10db+-0xe3e*0x1);},mN=(_0x333044,_0xc3910a,_0x38bb4e)=>{if(_0xc3910a['blendType']=Zs,_0xc3910a['useDynamic'+'Refraction']=!(0x1*0x1c2d+-0x1f58+-0x32b*-0x1),_0x333044['hasOwnProp'+'erty']('thicknessF'+'actor')&&(_0xc3910a['thickness']=_0x333044['thicknessF'+'actor']),_0x333044['hasOwnProp'+'erty']('thicknessT'+'exture')&&(_0xc3910a['thicknessM'+'ap']=_0x38bb4e[_0x333044['thicknessT'+'exture']['index']],_0xc3910a['thicknessM'+'apChannel']='g',Dt(_0x333044['thicknessT'+'exture'],_0xc3910a,['thickness'])),_0x333044['hasOwnProp'+'erty']('attenuatio'+'nDistance')&&(_0xc3910a['attenuatio'+'nDistance']=_0x333044['attenuatio'+'nDistance']),_0x333044['hasOwnProp'+'erty']('attenuatio'+'nColor')){const _0x287a36=_0x333044['attenuatio'+'nColor'];_0xc3910a['attenuatio'+'n']['set'](Math['pow'](_0x287a36[-0x1*-0xe86+-0x25dc+-0xce*-0x1d],(-0x1d11+-0xcaf+0x5f7*0x7)/(-0x1552+-0xd26+0x3*0xb7e+0.20000000000000018)),Math['pow'](_0x287a36[0x435*0x7+0x367+-0x20d9],(0x25ee*0x1+-0x760+0x21*-0xed)/(0x2457+0x5*-0x7ae+-0x211*-0x1+0.20000000000000018)),Math['pow'](_0x287a36[0x34*0x1a+0x1*-0x78d+0x35*0xb],(-0xffe+-0x187+-0x2*-0x8c3)/(0x2230+-0x25cd*-0x1+-0x47fb+0.20000000000000018)));}},_N=(_0x3f8c26,_0xad6032,_0x15d9ad)=>{_0x3f8c26['hasOwnProp'+'erty']('emissiveSt'+'rength')&&(_0xad6032['emissiveIn'+'tensity']=_0x3f8c26['emissiveSt'+'rength']);},gN=(_0x217083,_0x7a2001,_0x37cb11)=>{_0x7a2001['useIridesc'+'ence']=!(-0x2a6*-0xc+0xfd*-0x1c+-0x41c),_0x217083['hasOwnProp'+'erty']('iridescenc'+'eFactor')&&(_0x7a2001['iridescenc'+'e']=_0x217083['iridescenc'+'eFactor']),_0x217083['hasOwnProp'+'erty']('iridescenc'+'eTexture')&&(_0x7a2001['iridescenc'+'eMapChanne'+'l']='r',_0x7a2001['iridescenc'+'eMap']=_0x37cb11[_0x217083['iridescenc'+'eTexture']['index']],Dt(_0x217083['iridescenc'+'eTexture'],_0x7a2001,['iridescenc'+'e'])),_0x217083['hasOwnProp'+'erty']('iridescenc'+'eIor')&&(_0x7a2001['iridescenc'+'eRefractio'+'nIndex']=_0x217083['iridescenc'+'eIor']),_0x217083['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Minimum')&&(_0x7a2001['iridescenc'+'eThickness'+'Min']=_0x217083['iridescenc'+'eThickness'+'Minimum']),_0x217083['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Maximum')&&(_0x7a2001['iridescenc'+'eThickness'+'Max']=_0x217083['iridescenc'+'eThickness'+'Maximum']),_0x217083['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Texture')&&(_0x7a2001['iridescenc'+'eThickness'+'MapChannel']='g',_0x7a2001['iridescenc'+'eThickness'+'Map']=_0x37cb11[_0x217083['iridescenc'+'eThickness'+'Texture']['index']],Dt(_0x217083['iridescenc'+'eThickness'+'Texture'],_0x7a2001,['iridescenc'+'eThickness']));},SN=(_0x413002,_0x359c09,_0x477cd2)=>{if(_0x359c09['enableGGXS'+'pecular']=!(-0x5c9*-0x5+0x21eb+0xfb6*-0x4),_0x413002['hasOwnProp'+'erty']('anisotropy'+'Strength')?_0x359c09['anisotropy'+'Intensity']=_0x413002['anisotropy'+'Strength']:_0x359c09['anisotropy'+'Intensity']=-0x245e+0x108c+-0x9e9*-0x2,_0x413002['hasOwnProp'+'erty']('anisotropy'+'Texture')){const _0x33c5fe=_0x413002['anisotropy'+'Texture'];_0x359c09['anisotropy'+'Map']=_0x477cd2[_0x33c5fe['index']],Dt(_0x33c5fe,_0x359c09,['anisotropy']);}_0x413002['hasOwnProp'+'erty']('anisotropy'+'Rotation')?_0x359c09['anisotropy'+'Rotation']=_0x413002['anisotropy'+'Rotation']*Y['RAD_TO_DEG']:_0x359c09['anisotropy'+'Rotation']=-0x2*0x41f+-0x1*-0x11c5+-0x987;},w0=(_0x42c869,_0x2f4395)=>{const _0x419b5b=new Ut();_0x42c869['hasOwnProp'+'erty']('name')&&(_0x419b5b['name']=_0x42c869['name']),_0x419b5b['occludeSpe'+'cular']=bd,_0x419b5b['diffuseVer'+'texColor']=!(-0x26ee+-0x13*0xa7+-0x7*-0x755),_0x419b5b['specularTi'+'nt']=!(-0x1*0x1f0c+-0xcd7*-0x2+0x2*0x2af),_0x419b5b['specularVe'+'rtexColor']=!(-0x74*0x12+0x7a*-0x2b+0xe53*0x2),_0x419b5b['specular']['set'](0x368+-0x168c+0x1325,-0x25e3+0x2*-0x553+0x308a,0x1091+0x21d*-0x2+-0xc56),_0x419b5b['gloss']=0x80+-0x12cb*0x1+-0x926*-0x2,_0x419b5b['glossInver'+'t']=!(0x1bc5+-0x1444+-0x11*0x71),_0x419b5b['useMetalne'+'ss']=!(0x9ba*-0x1+0x19*-0x14+-0x41*-0x2e);let _0x10d4af,_0x1df80d;if(_0x42c869['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x426fbe=_0x42c869['pbrMetalli'+'cRoughness'];if(_0x426fbe['hasOwnProp'+'erty']('baseColorF'+'actor')&&(_0x10d4af=_0x426fbe['baseColorF'+'actor'],_0x419b5b['diffuse']['set'](Math['pow'](_0x10d4af[0xd8d+0x1cfd+0xb*-0x3de],(0x1*0x1c43+-0x22*0x2f+-0x2*0xb02)/(-0x10a7+0x7*0x3d7+0xc*-0xda+0.20000000000000018)),Math['pow'](_0x10d4af[0x7*0x54b+0x2689+-0xb*0x6df],(-0x3a8+-0x1*0xfa+0x1*0x4a3)/(-0xa79*-0x1+0x1e95+0x4*-0xa43+0.20000000000000018)),Math['pow'](_0x10d4af[0x1*0x377+0x5*0x56f+0x118*-0x1c],(0xdfc+0xa69*0x2+-0x22cd)/(0x565+-0x1308+0xda5+0.20000000000000018))),_0x419b5b['opacity']=_0x10d4af[0x46c+-0x2*-0x71e+-0x12a5]),_0x426fbe['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x8c9014=_0x426fbe['baseColorT'+'exture'];_0x1df80d=_0x2f4395[_0x8c9014['index']],_0x419b5b['diffuseMap']=_0x1df80d,_0x419b5b['diffuseMap'+'Channel']='rgb',_0x419b5b['opacityMap']=_0x1df80d,_0x419b5b['opacityMap'+'Channel']='a',Dt(_0x8c9014,_0x419b5b,['diffuse','opacity']);}if(_0x426fbe['hasOwnProp'+'erty']('metallicFa'+'ctor')&&(_0x419b5b['metalness']=_0x426fbe['metallicFa'+'ctor']),_0x426fbe['hasOwnProp'+'erty']('roughnessF'+'actor')&&(_0x419b5b['gloss']=_0x426fbe['roughnessF'+'actor']),_0x426fbe['hasOwnProp'+'erty']('metallicRo'+'ughnessTex'+'ture')){const _0x18493e=_0x426fbe['metallicRo'+'ughnessTex'+'ture'];_0x419b5b['metalnessM'+'ap']=_0x419b5b['glossMap']=_0x2f4395[_0x18493e['index']],_0x419b5b['metalnessM'+'apChannel']='b',_0x419b5b['glossMapCh'+'annel']='g',Dt(_0x18493e,_0x419b5b,['gloss','metalness']);}}if(_0x42c869['hasOwnProp'+'erty']('normalText'+'ure')){const _0x2987e7=_0x42c869['normalText'+'ure'];_0x419b5b['normalMap']=_0x2f4395[_0x2987e7['index']],Dt(_0x2987e7,_0x419b5b,['normal']),_0x2987e7['hasOwnProp'+'erty']('scale')&&(_0x419b5b['bumpiness']=_0x2987e7['scale']);}if(_0x42c869['hasOwnProp'+'erty']('occlusionT'+'exture')){const _0x37d8de=_0x42c869['occlusionT'+'exture'];_0x419b5b['aoMap']=_0x2f4395[_0x37d8de['index']],_0x419b5b['aoMapChann'+'el']='r',Dt(_0x37d8de,_0x419b5b,['ao']);}if(_0x42c869['hasOwnProp'+'erty']('emissiveFa'+'ctor')&&(_0x10d4af=_0x42c869['emissiveFa'+'ctor'],_0x419b5b['emissive']['set'](Math['pow'](_0x10d4af[-0xa43+-0x1*0x1ea9+0x28ec],(0xd64+-0x107*-0x25+-0x3366)/(0x4e0+-0x217d+0x1af*0x11+0.20000000000000018)),Math['pow'](_0x10d4af[-0x180a+0x2640+-0xe35],(-0x6f7+0xe09+-0x711)/(-0x5d2+-0xf53+0x3*0x70d+0.20000000000000018)),Math['pow'](_0x10d4af[0x1612+0x7*-0x3fe+-0xfb*-0x6],(-0xc0b+0x16ad+-0xaa1)/(0x241*-0x1+0x278+-0x35+0.20000000000000018)))),_0x42c869['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x3a9eec=_0x42c869['emissiveTe'+'xture'];_0x419b5b['emissiveMa'+'p']=_0x2f4395[_0x3a9eec['index']],Dt(_0x3a9eec,_0x419b5b,['emissive']);}if(_0x42c869['hasOwnProp'+'erty']('alphaMode'))switch(_0x42c869['alphaMode']){case'MASK':_0x419b5b['blendType']=Cs,_0x42c869['hasOwnProp'+'erty']('alphaCutof'+'f')?_0x419b5b['alphaTest']=_0x42c869['alphaCutof'+'f']:_0x419b5b['alphaTest']=-0x1*-0x26ce+-0x18d2+-0x37f*0x4+0.5;break;case'BLEND':_0x419b5b['blendType']=Zs,_0x419b5b['depthWrite']=!(0x10bf+-0x7*0x4f4+0x11ee);break;default:case'OPAQUE':_0x419b5b['blendType']=Cs;break;}else _0x419b5b['blendType']=Cs;_0x42c869['hasOwnProp'+'erty']('doubleSide'+'d')?(_0x419b5b['twoSidedLi'+'ghting']=_0x42c869['doubleSide'+'d'],_0x419b5b['cull']=_0x42c869['doubleSide'+'d']?bt:pa):(_0x419b5b['twoSidedLi'+'ghting']=!(0x6*0x1e2+0x1241*-0x1+-0x16*-0x51),_0x419b5b['cull']=pa);const _0x466f33={'KHR_materials_clearcoat':lN,'KHR_materials_emissive_strength':_N,'KHR_materials_ior':dN,'KHR_materials_dispersion':fN,'KHR_materials_iridescence':gN,'KHR_materials_pbrSpecularGlossiness':oN,'KHR_materials_sheen':pN,'KHR_materials_specular':hN,'KHR_materials_transmission':uN,'KHR_materials_unlit':cN,'KHR_materials_volume':mN,'KHR_materials_anisotropy':SN};if(_0x42c869['hasOwnProp'+'erty']('extensions'))for(const _0x2da196 in _0x42c869['extensions']){const _0x2b3d47=_0x466f33[_0x2da196];_0x2b3d47!==void(-0x192c+0x1816+0x116)&&_0x2b3d47(_0x42c869['extensions'][_0x2da196],_0x419b5b,_0x2f4395);}return _0x419b5b['update'](),_0x419b5b;},yN=(_0xca56c6,_0x29cc16,_0x18cc3e,_0x4b8ef5,_0x277c76,_0x14285f,_0x218e60)=>{const _0x1d3495=_0xfc426b=>new Fh(yl(_0xfc426b['type']),Pn(_0xfc426b,_0x4b8ef5)),_0x29ac13={'STEP':Bv,'LINEAR':Su,'CUBICSPLINE':yu},_0x463b3c={},_0x53ac3a={},_0x1861fa={};let _0x49433f=0x1a64+-0x26d4+0xc71,_0x10d8ad;for(_0x10d8ad=0x4ae*0x8+0xd2f+0x1*-0x329f;_0x10d8ad<_0xca56c6['samplers']['length'];++_0x10d8ad){const _0x5a738f=_0xca56c6['samplers'][_0x10d8ad];_0x463b3c['hasOwnProp'+'erty'](_0x5a738f['input'])||(_0x463b3c[_0x5a738f['input']]=_0x1d3495(_0x18cc3e[_0x5a738f['input']])),_0x53ac3a['hasOwnProp'+'erty'](_0x5a738f['output'])||(_0x53ac3a[_0x5a738f['output']]=_0x1d3495(_0x18cc3e[_0x5a738f['output']]));const _0x65d69b=_0x5a738f['hasOwnProp'+'erty']('interpolat'+'ion')&&_0x29ac13['hasOwnProp'+'erty'](_0x5a738f['interpolat'+'ion'])?_0x29ac13[_0x5a738f['interpolat'+'ion']]:Su,_0x301187={'paths':[],'input':_0x5a738f['input'],'output':_0x5a738f['output'],'interpolation':_0x65d69b};_0x1861fa[_0x10d8ad]=_0x301187;}const _0x5133a5=[],_0x562a0d={'translation':'localPosit'+'ion','rotation':'localRotat'+'ion','scale':'localScale'},_0x5399f9=_0x4dcf2d=>{const _0x118402=[];for(;_0x4dcf2d;)_0x118402['unshift'](_0x4dcf2d['name']),_0x4dcf2d=_0x4dcf2d['parent'];return _0x118402;},_0x3116b2=(_0x3f0ba0,_0x37830b,_0x429b14)=>{const _0x457094=_0x53ac3a[_0x3f0ba0['output']];if(!_0x457094){w['warn']('glb-parser'+':\x20No\x20outpu'+'t\x20data\x20is\x20'+'available\x20'+'for\x20the\x20mo'+'rph\x20target'+'\x20curve\x20('+_0x429b14+('/graph/wei'+'ghts).\x20Ski'+'pping.'));return;}let _0x5e7291;if(_0x14285f&&_0x14285f[_0x37830b['mesh']]){const _0x67ec45=_0x14285f[_0x37830b['mesh']];_0x67ec45['hasOwnProp'+'erty']('extras')&&_0x67ec45['extras']['hasOwnProp'+'erty']('targetName'+'s')&&(_0x5e7291=_0x67ec45['extras']['targetName'+'s']);}const _0x20f5cc=_0x457094['data'],_0x9c7ecd=_0x20f5cc['length']/_0x463b3c[_0x3f0ba0['input']]['data']['length'],_0x360fd1=_0x20f5cc['length']/_0x9c7ecd,_0x26675c=_0x360fd1*(-0x2a5*-0xc+-0x1c56+-0x2*0x1b1),_0xb4f5f8=new ArrayBuffer(_0x26675c*_0x9c7ecd);for(let _0x3601ed=-0x556*0x7+-0x21b6+0x4710;_0x3601ed<_0x9c7ecd;_0x3601ed++){const _0x47f94f=new Float32Array(_0xb4f5f8,_0x26675c*_0x3601ed,_0x360fd1);for(let _0x2171da=0x377*0xb+-0x61*-0x4+-0x27a1;_0x2171da<_0x360fd1;_0x2171da++)_0x47f94f[_0x2171da]=_0x20f5cc[_0x2171da*_0x9c7ecd+_0x3601ed];const _0x5899af=new Fh(-0x237e+-0x1*-0x112d+-0x1252*-0x1,_0x47f94f),_0x2e974a=_0x5e7291!=null&&_0x5e7291[_0x3601ed]?'name.'+_0x5e7291[_0x3601ed]:_0x3601ed;_0x53ac3a[-_0x49433f]=_0x5899af;const _0x3a60f9={'paths':[{'entityPath':_0x429b14,'component':'graph','propertyPath':['weight.'+_0x2e974a]}],'input':_0x3f0ba0['input'],'output':-_0x49433f,'interpolation':_0x3f0ba0['interpolat'+'ion']};_0x49433f++,_0x1861fa['morphCurve'+'-'+_0x10d8ad+'-'+_0x3601ed]=_0x3a60f9;}};for(_0x10d8ad=0x583*0x2+-0x1d*-0xc+-0xc62;_0x10d8ad<_0xca56c6['channels']['length'];++_0x10d8ad){const _0x1f966d=_0xca56c6['channels'][_0x10d8ad],_0x403932=_0x1f966d['target'],_0xfbbfdf=_0x1861fa[_0x1f966d['sampler']],_0x4e4102=_0x277c76[_0x403932['node']],_0x12930a=_0x218e60[_0x403932['node']],_0x2ace2b=_0x5399f9(_0x4e4102);_0x403932['path']['startsWith']('weights')?(_0x3116b2(_0xfbbfdf,_0x12930a,_0x2ace2b),_0x1861fa[_0x1f966d['sampler']]['morphCurve']=!(-0x2452+0x1d3e+-0x1c5*-0x4)):_0xfbbfdf['paths']['push']({'entityPath':_0x2ace2b,'component':'graph','propertyPath':[_0x562a0d[_0x403932['path']]]});}const _0x352f50=[],_0x400b61=[],_0x4b12f2=[];for(const _0x2cfe67 in _0x463b3c)_0x352f50['push'](_0x463b3c[_0x2cfe67]),_0x463b3c[_0x2cfe67]=_0x352f50['length']-(-0x191d+0x1242+0x1*0x6dc);for(const _0x3c2449 in _0x53ac3a)_0x400b61['push'](_0x53ac3a[_0x3c2449]),_0x53ac3a[_0x3c2449]=_0x400b61['length']-(0x82c+0xcf+0x1*-0x8fa);for(const _0x51a4f3 in _0x1861fa){const _0xac0642=_0x1861fa[_0x51a4f3];_0xac0642['morphCurve']||(_0x4b12f2['push'](new v0(_0xac0642['paths'],_0x463b3c[_0xac0642['input']],_0x53ac3a[_0xac0642['output']],_0xac0642['interpolat'+'ion'])),_0xac0642['paths']['length']>0x2478+0x379+-0x7fd*0x5&&_0xac0642['paths'][-0x1efb+0xb81+0x115*0x12]['propertyPa'+'th'][0x21d*0x1+0x1984+0x283*-0xb]==='localRotat'+'ion'&&_0xac0642['interpolat'+'ion']!==yu&&_0x5133a5['push'](_0x4b12f2[_0x4b12f2['length']-(0x1*0x2485+-0x1f7a+0x285*-0x2)]['output']));}_0x5133a5['sort']();let _0x129c99=null,_0x1044ff;for(_0x10d8ad=0x9fa+-0x1a*-0x61+0x1b*-0xbc;_0x10d8ad<_0x5133a5['length'];++_0x10d8ad){const _0x1c4944=_0x5133a5[_0x10d8ad];if(_0x10d8ad===-0x253a+0x4*0x72e+0x882||_0x1c4944!==_0x129c99){if(_0x1044ff=_0x400b61[_0x1c4944],_0x1044ff['components']===-0x17*-0x6+-0x1876+0x17f0){const _0x27363b=_0x1044ff['data'],_0x209dd4=_0x27363b['length']-(-0x910+-0x25*0xf1+0x2be9);for(let _0x49010a=-0x20e2*-0x1+0x8*0x1d2+0x2f72*-0x1;_0x49010a<_0x209dd4;_0x49010a+=-0x1*0x863+0xac2+-0xc9*0x3)_0x27363b[_0x49010a+(0xba3+-0x4a*0xd+-0x7e1)]*_0x27363b[_0x49010a+(0xb3*-0x1f+0x22f0+0xd3f*-0x1)]+_0x27363b[_0x49010a+(-0x12b9*0x1+0x8bd*-0x4+0x35ae)]*_0x27363b[_0x49010a+(-0x7*0x12b+0x705*-0x1+0xf37)]+_0x27363b[_0x49010a+(-0x8a1*-0x1+-0x1aea+0x124b)]*_0x27363b[_0x49010a+(0x192d+0x7cd+-0xde*0x26)]+_0x27363b[_0x49010a+(0x3fa*-0x5+0x1f4d*0x1+-0xb68)]*_0x27363b[_0x49010a+(-0x1a99+-0x7*0x157+0xd*0x2c5)]<-0x2*0x6fb+0x918+0x4de&&(_0x27363b[_0x49010a+(-0x1ac4+0x1*-0xdf3+-0x28bb*-0x1)]*=-(0xe04+0x993+-0x1796),_0x27363b[_0x49010a+(-0x322*0x2+0x2d5*-0x4+0x1f5*0x9)]*=-(0x6*-0x353+-0x2c3*-0x1+-0x5*-0x370),_0x27363b[_0x49010a+(-0x1da7+-0x2300+0x40ad)]*=-(0xa79+-0x1f28+0x14b0),_0x27363b[_0x49010a+(-0x16e0+0x20a0+-0x83*0x13)]*=-(0xeb*-0x23+-0x26eb*0x1+-0x17af*-0x3));}_0x129c99=_0x1c4944;}}let _0x3fef87=0x103d*0x1+-0x1415*0x1+-0x7b*-0x8;for(_0x10d8ad=-0x18d8+0x1*-0x1628+0x100*0x2f;_0x10d8ad<_0x352f50['length'];_0x10d8ad++)_0x1044ff=_0x352f50[_0x10d8ad]['_data'],_0x3fef87=Math['max'](_0x3fef87,_0x1044ff['length']===-0x12eb+-0xca8+0x1f93?0x1*0x82d+0x5*-0x768+-0x53*-0x59:_0x1044ff[_0x1044ff['length']-(0x219f+0x135d+-0x34fb)]);return new Qi(_0xca56c6['hasOwnProp'+'erty']('name')?_0xca56c6['name']:'animation_'+_0x29cc16,_0x3fef87,_0x352f50,_0x400b61,_0x4b12f2);},Dc=new te(),Qa=new D(),vN=(_0x1c5525,_0x18dd39,_0x537730)=>{const _0x392286=new Ie();if(_0x1c5525['hasOwnProp'+'erty']('name')&&_0x1c5525['name']['length']>-0x2f7+0xc37+-0x940?_0x392286['name']=_0x1c5525['name']:_0x392286['name']='node_'+_0x18dd39,_0x1c5525['hasOwnProp'+'erty']('matrix')&&(Dc['data']['set'](_0x1c5525['matrix']),Dc['getTransla'+'tion'](Qa),_0x392286['setLocalPo'+'sition'](Qa),Dc['getEulerAn'+'gles'](Qa),_0x392286['setLocalEu'+'lerAngles'](Qa),Dc['getScale'](Qa),_0x392286['setLocalSc'+'ale'](Qa)),_0x1c5525['hasOwnProp'+'erty']('rotation')){const _0x5ef8f1=_0x1c5525['rotation'];_0x392286['setLocalRo'+'tation'](_0x5ef8f1[0xa7b+-0x3e3*-0x1+-0xe5e*0x1],_0x5ef8f1[0x9fd+0xf87+-0x1983],_0x5ef8f1[0x1576+0x10e4+-0x2658],_0x5ef8f1[-0x13df*0x1+-0x937+0x1d19]);}if(_0x1c5525['hasOwnProp'+'erty']('translatio'+'n')){const _0x4198e9=_0x1c5525['translatio'+'n'];_0x392286['setLocalPo'+'sition'](_0x4198e9[0x9ec+0x1*-0x1fd5+0x15e9],_0x4198e9[-0xb56+-0x1bba+0x2711],_0x4198e9[-0xea1+0x9ef+0xe*0x56]);}if(_0x1c5525['hasOwnProp'+'erty']('scale')){const _0x39ccb6=_0x1c5525['scale'];_0x392286['setLocalSc'+'ale'](_0x39ccb6[0x1*-0x51a+0x15eb+0x1*-0x10d1],_0x39ccb6[-0xcf+-0x4f*0x7a+-0x6*-0x669],_0x39ccb6[-0x14b*0xf+-0xf3d+0x8a9*0x4]);}return _0x1c5525['hasOwnProp'+'erty']('extensions')&&_0x1c5525['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']&&_0x537730['set'](_0x1c5525,{'ext':_0x1c5525['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']}),_0x392286;},xN=(_0x34e2d7,_0x3b1a0a)=>{const _0x6f2e02=_0x34e2d7['type']==='orthograph'+'ic'?En:ni,_0x44e2fa=_0x6f2e02===En?_0x34e2d7['orthograph'+'ic']:_0x34e2d7['perspectiv'+'e'],_0x244dde={'enabled':!(-0x1*0x1336+-0x18*0x43+0x1*0x197f),'projection':_0x6f2e02,'nearClip':_0x44e2fa['znear'],'aspectRatioMode':hm};_0x44e2fa['zfar']&&(_0x244dde['farClip']=_0x44e2fa['zfar']),_0x6f2e02===En?(_0x244dde['orthoHeigh'+'t']=(0x53*0x47+0x264a+-0x3d4f+0.5)*_0x44e2fa['ymag'],_0x44e2fa['ymag']&&(_0x244dde['aspectRati'+'oMode']=lu,_0x244dde['aspectRati'+'o']=_0x44e2fa['xmag']/_0x44e2fa['ymag'])):(_0x244dde['fov']=_0x44e2fa['yfov']*Y['RAD_TO_DEG'],_0x44e2fa['aspectRati'+'o']&&(_0x244dde['aspectRati'+'oMode']=lu,_0x244dde['aspectRati'+'o']=_0x44e2fa['aspectRati'+'o']));const _0x23b95c=new lt(_0x34e2d7['name']);return _0x23b95c['addCompone'+'nt']('camera',_0x244dde),_0x23b95c;},TN=(_0x209e29,_0x1584e3)=>{const _0x42ca24={'enabled':!(0x7bc+0x1740+-0x1efb),'type':_0x209e29['type']==='point'?'omni':_0x209e29['type'],'color':_0x209e29['hasOwnProp'+'erty']('color')?new ie(_0x209e29['color']):ie['WHITE'],'range':_0x209e29['hasOwnProp'+'erty']('range')?_0x209e29['range']:0x20b1+-0xa7*-0x25+-0x11c5,'falloffMode':ev,'intensity':_0x209e29['hasOwnProp'+'erty']('intensity')?Y['clamp'](_0x209e29['intensity'],-0x1fc*0xe+-0x1a32+0x1*0x35fa,-0x2204+-0x1447+0x364d):0x34*-0x81+-0xda*0x1b+0x1*0x3133};_0x209e29['hasOwnProp'+'erty']('spot')&&(_0x42ca24['innerConeA'+'ngle']=_0x209e29['spot']['hasOwnProp'+'erty']('innerConeA'+'ngle')?_0x209e29['spot']['innerConeA'+'ngle']*Y['RAD_TO_DEG']:-0x18ef+-0xb9e+-0xc2f*-0x3,_0x42ca24['outerConeA'+'ngle']=_0x209e29['spot']['hasOwnProp'+'erty']('outerConeA'+'ngle')?_0x209e29['spot']['outerConeA'+'ngle']*Y['RAD_TO_DEG']:Math['PI']/(-0x2*-0x1f7+-0x1181*0x2+0x1f18)),_0x209e29['hasOwnProp'+'erty']('intensity')&&(_0x42ca24['luminance']=_0x209e29['intensity']*pl['getLightUn'+'itConversi'+'on'](fu[_0x42ca24['type']],_0x42ca24['outerConeA'+'ngle'],_0x42ca24['innerConeA'+'ngle']));const _0x306205=new lt(_0x1584e3['name']);return _0x306205['rotateLoca'+'l'](-0x1f7+-0x803+0xa54,-0x3f4+0x1aa*0xc+-0x1004*0x1,0x1eb5*0x1+-0x98*0x31+-0x19d),_0x306205['addCompone'+'nt']('light',_0x42ca24),_0x306205;},wN=(_0x4dd544,_0x209b4c,_0x476a0e,_0xdf49c)=>{if(!_0x209b4c['hasOwnProp'+'erty']('skins')||_0x209b4c['skins']['length']===0x239a+-0x1a73+-0x927)return[];const _0x488f19=new Map();return _0x209b4c['skins']['map'](_0x5e27d4=>rN(_0x4dd544,_0x5e27d4,_0x209b4c['accessors'],_0xdf49c,_0x476a0e,_0x488f19));},EN=(_0x3d0ea6,_0x593e2d,_0x5c384d,_0x31c4d5)=>{var _0xb5bea8,_0x4e0558,_0x493e83;const _0x3ffba2={},_0xbdbc3a={},_0xf1c697={},_0x134c69=[];return{'meshes':!_0x31c4d5['skipMeshes']&&((_0xb5bea8=_0x593e2d==null?void(-0x4a0+0x9ca*0x1+-0x52a):_0x593e2d['meshes'])==null?void(-0x484+0x1e0f+-0x198b):_0xb5bea8['length'])&&((_0x4e0558=_0x593e2d==null?void(0x1dd1+-0x2112+0x77*0x7):_0x593e2d['accessors'])==null?void(0x219a+-0x1de4*-0x1+0x306*-0x15):_0x4e0558['length'])&&((_0x493e83=_0x593e2d==null?void(0xc*0x1ac+-0x1e23+0x1*0xa13):_0x593e2d['bufferView'+'s'])==null?void(0x207*-0x2+-0x26*-0x29+-0x208):_0x493e83['length'])?_0x593e2d['meshes']['map'](_0x1e75fd=>nN(_0x3d0ea6,_0x1e75fd,_0x593e2d['accessors'],_0x5c384d,_0x3ffba2,_0xbdbc3a,_0xf1c697,_0x31c4d5,_0x134c69)):[],'meshVariants':_0xbdbc3a,'meshDefaultMaterials':_0xf1c697,'promises':_0x134c69};},bN=(_0x313c67,_0x23f639,_0x5687ce)=>{var _0x13e348,_0x2cc064,_0x2d7445;if(!_0x313c67['hasOwnProp'+'erty']('materials')||_0x313c67['materials']['length']===0x187d+-0x12*0xda+-0x929)return[];const _0x5942f8=(_0x13e348=_0x5687ce==null?void(0x11f4+0x100b+-0x21ff):_0x5687ce['material'])==null?void(-0x1096+0x46d+0x1*0xc29):_0x13e348['preprocess'],_0x3795c7=((_0x2cc064=_0x5687ce==null?void(-0x11aa+0x1*-0x259+0x1403*0x1):_0x5687ce['material'])==null?void(0x24f9*-0x1+-0xb48+0x3041):_0x2cc064['process'])??w0,_0x331aca=(_0x2d7445=_0x5687ce==null?void(-0x24b4+-0x13e2+0x3896):_0x5687ce['material'])==null?void(0x1*0xc9d+0x177c+-0x2419):_0x2d7445['postproces'+'s'];return _0x313c67['materials']['map'](_0x219cf2=>{_0x5942f8&&_0x5942f8(_0x219cf2);const _0x181a57=_0x3795c7(_0x219cf2,_0x23f639);return _0x331aca&&_0x331aca(_0x219cf2,_0x181a57),_0x181a57;});},AN=_0x114cc8=>{if(!_0x114cc8['hasOwnProp'+'erty']('extensions')||!_0x114cc8['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts'))return null;const _0x2a3cd2=_0x114cc8['extensions']['KHR_materi'+'als_varian'+'ts']['variants'],_0x23301f={};for(let _0x32d3ba=-0x221e+0x156c+0xcb2;_0x32d3ba<_0x2a3cd2['length'];_0x32d3ba++)_0x23301f[_0x2a3cd2[_0x32d3ba]['name']]=_0x32d3ba;return _0x23301f;},CN=(_0x85c0b2,_0x2ff798,_0x40746d,_0x283bea)=>{var _0x265eca,_0x53b23e;if(!_0x85c0b2['hasOwnProp'+'erty']('animations')||_0x85c0b2['animations']['length']===0xfb*0x10+0x1b6+0x11*-0x106)return[];const _0x332399=(_0x265eca=_0x283bea==null?void(0x161+-0x633*-0x3+0x1*-0x13fa):_0x283bea['animation'])==null?void(-0x29*-0x92+0x764+-0x1ec6):_0x265eca['preprocess'],_0x55b4ec=(_0x53b23e=_0x283bea==null?void(-0x18ae+-0x1*0x233e+0x3bec):_0x283bea['animation'])==null?void(-0x928+0xc4f+-0x1*0x327):_0x53b23e['postproces'+'s'];return _0x85c0b2['animations']['map']((_0x227160,_0x4d21c6)=>{_0x332399&&_0x332399(_0x227160);const _0x4025c8=yN(_0x227160,_0x4d21c6,_0x85c0b2['accessors'],_0x40746d,_0x2ff798,_0x85c0b2['meshes'],_0x85c0b2['nodes']);return _0x55b4ec&&_0x55b4ec(_0x227160,_0x4025c8),_0x4025c8;});},PN=(_0x50d631,_0x3db999,_0x2ba380,_0x587019)=>{const _0x481178=_0x3db999['accessors'];_0x2ba380['forEach']((_0x2523ab,_0x1a6aa3)=>{const _0x386638=_0x2523ab['ext']['attributes'];let _0x188254;if(_0x386638['hasOwnProp'+'erty']('TRANSLATIO'+'N')){const _0x41e694=_0x481178[_0x386638['TRANSLATIO'+'N']];_0x188254=Pn(_0x41e694,_0x587019);}let _0x1cc046;if(_0x386638['hasOwnProp'+'erty']('ROTATION')){const _0x4e9081=_0x481178[_0x386638['ROTATION']];_0x1cc046=Pn(_0x4e9081,_0x587019);}let _0x292e92;if(_0x386638['hasOwnProp'+'erty']('SCALE')){const _0x2d1630=_0x481178[_0x386638['SCALE']];_0x292e92=Pn(_0x2d1630,_0x587019);}const _0x43657e=(_0x188254?_0x188254['length']/(0x6fb+-0x3*-0x24+-0x764):-0x3*0xc64+-0xf44+0x2*0x1a38)||(_0x1cc046?_0x1cc046['length']/(0x910+-0xd2+0x15f*-0x6):0x2125+0xbb1*-0x1+-0x1574)||(_0x292e92?_0x292e92['length']/(-0x2b*-0x24+-0x6*-0x254+0x1*-0x1401):0x8b*-0x35+0x18c7+0x40*0x10);if(_0x43657e){const _0x34d52e=new Float32Array(_0x43657e*(0x1*-0x1b47+0x1*-0x1787+0x32de*0x1)),_0x258865=new D(),_0x219749=new le(),_0x4a3683=new D(-0x73b*0x1+0xeda+-0x3cf*0x2,0x1464+0x1724*-0x1+-0x1*-0x2c1,0x13d0+-0x8f*-0x32+-0x2fbd),_0x4f07ea=new te();let _0x4d7eff=0x2520+0x23*-0xeb+-0x4ff;for(let _0x3782d8=0x12e5+0xb*0x53+0x17*-0xfa;_0x3782d8<_0x43657e;_0x3782d8++){const _0x350890=_0x3782d8*(-0xb16+-0x90e+0x1427);if(_0x188254&&_0x258865['set'](_0x188254[_0x350890],_0x188254[_0x350890+(0x305+0xc83+-0x4b*0x35)],_0x188254[_0x350890+(-0x12a1*-0x1+0x7*0x14f+-0x8*0x379)]),_0x1cc046){const _0x4ba07e=_0x3782d8*(-0x107*0xd+0x2030+-0x12d1);_0x219749['set'](_0x1cc046[_0x4ba07e],_0x1cc046[_0x4ba07e+(0x10*-0x72+-0x30*-0x67+-0xc2f)],_0x1cc046[_0x4ba07e+(0x14bb+-0x2c*-0x76+-0x3*0xdab)],_0x1cc046[_0x4ba07e+(0xfcc+-0x104c+-0x1*-0x83)]);}_0x292e92&&_0x4a3683['set'](_0x292e92[_0x350890],_0x292e92[_0x350890+(-0xa2f*-0x1+-0x4*-0x446+0x1*-0x1b46)],_0x292e92[_0x350890+(-0x1074+0x627+-0xcb*-0xd)]),_0x4f07ea['setTRS'](_0x258865,_0x219749,_0x4a3683);for(let _0x57d0ef=0x2de*0xb+-0x5*0x101+0x5d*-0x49;_0x57d0ef<0x4e2+-0x1318+0xe46*0x1;_0x57d0ef++)_0x34d52e[_0x4d7eff++]=_0x4f07ea['data'][_0x57d0ef];}_0x2523ab['matrices']=_0x34d52e;}});},MN=(_0x5a565d,_0x282d1e,_0xd77a23)=>{var _0x22e79d,_0xaa3438,_0x276fd4;if(!_0x5a565d['hasOwnProp'+'erty']('nodes')||_0x5a565d['nodes']['length']===-0x191*-0x1+-0x916*-0x2+0xa3*-0x1f)return[];const _0x5b23e2=(_0x22e79d=_0x282d1e==null?void(-0x2*0x806+-0x20d8+-0x30e4*-0x1):_0x282d1e['node'])==null?void(-0x966+-0xc01+0x1567):_0x22e79d['preprocess'],_0x22a37b=((_0xaa3438=_0x282d1e==null?void(-0x10c8+-0x32d*0xa+-0x72*-0x6d):_0x282d1e['node'])==null?void(-0x2684+0x157c+0x4*0x442):_0xaa3438['process'])??vN,_0x361762=(_0x276fd4=_0x282d1e==null?void(-0x10f9+0xe*-0x222+-0x2ed5*-0x1):_0x282d1e['node'])==null?void(0x84a*0x3+0x15d*-0x11+0x1*-0x1b1):_0x276fd4['postproces'+'s'],_0x1633ea=_0x5a565d['nodes']['map']((_0xcef38b,_0x2f7ac7)=>{_0x5b23e2&&_0x5b23e2(_0xcef38b);const _0x1abfb0=_0x22a37b(_0xcef38b,_0x2f7ac7,_0xd77a23);return _0x361762&&_0x361762(_0xcef38b,_0x1abfb0),_0x1abfb0;});for(let _0x1198b1=0x2*-0x5c1+-0x1*-0x763+-0x5*-0xd3;_0x1198b1<_0x5a565d['nodes']['length'];++_0x1198b1){const _0x5d6315=_0x5a565d['nodes'][_0x1198b1];if(_0x5d6315['hasOwnProp'+'erty']('children')){const _0x3781e1=_0x1633ea[_0x1198b1],_0x3f3b14={};for(let _0x2ac0c7=0x1396*-0x1+0x2f6+-0x4c*-0x38;_0x2ac0c7<_0x5d6315['children']['length'];++_0x2ac0c7){const _0x52c949=_0x1633ea[_0x5d6315['children'][_0x2ac0c7]];_0x52c949['parent']||(_0x3f3b14['hasOwnProp'+'erty'](_0x52c949['name'])?_0x52c949['name']+=_0x3f3b14[_0x52c949['name']]++:_0x3f3b14[_0x52c949['name']]=-0x29*-0x7c+-0x2*0x129b+0x115b,_0x3781e1['addChild'](_0x52c949));}}}return _0x1633ea;},DN=(_0x4b97da,_0x1432cb)=>{var _0x498eec;const _0xd49033=[],_0x1a7e4b=_0x4b97da['scenes']['length'];if(_0x1a7e4b===-0x1*0x1d69+0x1*0x959+-0xb*-0x1d3&&((_0x498eec=_0x4b97da['scenes'][0x16*0x87+-0x60a+-0x590]['nodes'])==null?void(-0x11d8*-0x1+0x23e3+-0x35bb):_0x498eec['length'])===-0x25*-0x104+0x1f4*-0x13+-0x77*0x1){const _0x85903b=_0x4b97da['scenes'][-0x39*0x45+0xf4c+0x1*0x11]['nodes'][0x4*-0x823+0x3*0x653+0xd93*0x1];_0xd49033['push'](_0x1432cb[_0x85903b]);}else for(let _0x1b53f1=0x4*0x33a+-0xa53+0x295*-0x1;_0x1b53f1<_0x1a7e4b;_0x1b53f1++){const _0x33e66f=_0x4b97da['scenes'][_0x1b53f1];if(_0x33e66f['nodes']){const _0x1f8279=new Ie(_0x33e66f['name']);for(let _0x58faaa=-0x269a+-0x2302+-0x1267*-0x4;_0x58faaa<_0x33e66f['nodes']['length'];_0x58faaa++){const _0x507780=_0x1432cb[_0x33e66f['nodes'][_0x58faaa]];_0x1f8279['addChild'](_0x507780);}_0xd49033['push'](_0x1f8279);}}return _0xd49033;},IN=(_0xefbe97,_0xea8dd5,_0x324df0)=>{var _0x473f13,_0xd0af37,_0x3aa400;let _0x410f93=null;if(_0xefbe97['hasOwnProp'+'erty']('nodes')&&_0xefbe97['hasOwnProp'+'erty']('cameras')&&_0xefbe97['cameras']['length']>0xebc+-0x5*-0x311+0xb3*-0x2b){const _0x442306=(_0x473f13=_0x324df0==null?void(0x143*-0x3+-0x227c*-0x1+-0x10f*0x1d):_0x324df0['camera'])==null?void(-0x4*-0x764+-0x7*0x25f+-0xcf7):_0x473f13['preprocess'],_0xe00eac=((_0xd0af37=_0x324df0==null?void(0xc6d+-0x5*0xab+-0x48b*0x2):_0x324df0['camera'])==null?void(0x1709+-0xb31+-0x1*0xbd8):_0xd0af37['process'])??xN,_0x55f880=(_0x3aa400=_0x324df0==null?void(-0x1be6+0x1*0x19c3+0x1*0x223):_0x324df0['camera'])==null?void(-0x117a*-0x2+0x23*0x61+-0x3037):_0x3aa400['postproces'+'s'];_0xefbe97['nodes']['forEach']((_0x389f44,_0x5dc217)=>{if(_0x389f44['hasOwnProp'+'erty']('camera')){const _0x4ee38e=_0xefbe97['cameras'][_0x389f44['camera']];if(_0x4ee38e){_0x442306&&_0x442306(_0x4ee38e);const _0x32cb11=_0xe00eac(_0x4ee38e,_0xea8dd5[_0x5dc217]);_0x55f880&&_0x55f880(_0x4ee38e,_0x32cb11),_0x32cb11&&(_0x410f93||(_0x410f93=new Map()),_0x410f93['set'](_0x389f44,_0x32cb11));}}});}return _0x410f93;},LN=(_0x18aa95,_0x117382,_0x106e22)=>{var _0x32cda2,_0x41511b,_0x4ddb32;let _0x44f422=null;if(_0x18aa95['hasOwnProp'+'erty']('nodes')&&_0x18aa95['hasOwnProp'+'erty']('extensions')&&_0x18aa95['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x18aa95['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('lights')){const _0x201977=_0x18aa95['extensions']['KHR_lights'+'_punctual']['lights'];if(_0x201977['length']){const _0x5c85e6=(_0x32cda2=_0x106e22==null?void(0x1*0x2219+-0xdb*0x3+0x4*-0x7e2):_0x106e22['light'])==null?void(0x875+0x25dd+-0x21b*0x16):_0x32cda2['preprocess'],_0x3b56ec=((_0x41511b=_0x106e22==null?void(0x2*-0xe9+0x75d*-0x1+0x92f*0x1):_0x106e22['light'])==null?void(-0xf5*0x22+-0x6f9+0x23*0x121):_0x41511b['process'])??TN,_0x31d47a=(_0x4ddb32=_0x106e22==null?void(-0x148b*-0x1+-0x1a*0x1c+-0x11b3):_0x106e22['light'])==null?void(-0x25d8+0x1*0x100a+-0x15ce*-0x1):_0x4ddb32['postproces'+'s'];_0x18aa95['nodes']['forEach']((_0x167c53,_0x292f1c)=>{if(_0x167c53['hasOwnProp'+'erty']('extensions')&&_0x167c53['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x167c53['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('light')){const _0x2d18d2=_0x167c53['extensions']['KHR_lights'+'_punctual']['light'],_0x55b375=_0x201977[_0x2d18d2];if(_0x55b375){_0x5c85e6&&_0x5c85e6(_0x55b375);const _0x55cfa6=_0x3b56ec(_0x55b375,_0x117382[_0x292f1c]);_0x31d47a&&_0x31d47a(_0x55b375,_0x55cfa6),_0x55cfa6&&(_0x44f422||(_0x44f422=new Map()),_0x44f422['set'](_0x167c53,_0x55cfa6));}}});}}return _0x44f422;},RN=(_0x30a61a,_0x5ea85b,_0x2efa38)=>{_0x30a61a['nodes']['forEach'](_0xc98078=>{_0xc98078['hasOwnProp'+'erty']('mesh')&&_0xc98078['hasOwnProp'+'erty']('skin')&&_0x5ea85b[_0xc98078['mesh']]['meshes']['forEach'](_0x2e2256=>{_0x2e2256['skin']=_0x2efa38[_0xc98078['skin']];});});},ON=async(_0x5af91c,_0x334aed,_0x23c13d,_0x22c177,_0xebc37b)=>{var _0x5f97ca,_0x34f32c;const _0x54fb2d=(_0x5f97ca=_0xebc37b==null?void(0x1*0x154a+0x198b+-0x1*0x2ed5):_0xebc37b['global'])==null?void(0x25*0x47+-0x7*0x4b3+0x1*0x16a2):_0x5f97ca['preprocess'],_0x1fdbae=(_0x34f32c=_0xebc37b==null?void(0xe*0x1b5+-0x1991+-0x1ab*-0x1):_0xebc37b['global'])==null?void(0x258*-0x2+0xadc+-0x316*0x2):_0x34f32c['postproces'+'s'];_0x54fb2d&&_0x54fb2d(_0x334aed),_0x334aed['asset']&&_0x334aed['asset']['generator']==='PlayCanvas'&&w['warn']('glTF\x20model'+'\x20may\x20have\x20'+'been\x20gener'+'ated\x20with\x20'+'flipped\x20UV'+'s.\x20Please\x20'+'reconvert.');const _0x4b4c2d=new Map(),_0x1ac266=MN(_0x334aed,_0xebc37b,_0x4b4c2d),_0x91722f=DN(_0x334aed,_0x1ac266),_0x1a70fc=LN(_0x334aed,_0x1ac266,_0xebc37b),_0x386ea8=IN(_0x334aed,_0x1ac266,_0xebc37b),_0x30ef25=AN(_0x334aed),_0x5bb544=await Promise['all'](_0x23c13d),{meshes:_0x169233,meshVariants:_0x2d0d2f,meshDefaultMaterials:_0x490ed5,promises:_0x9aef3a}=EN(_0x5af91c,_0x334aed,_0x5bb544,_0xebc37b),_0x48d1c0=CN(_0x334aed,_0x1ac266,_0x5bb544,_0xebc37b);PN(_0x5af91c,_0x334aed,_0x4b4c2d,_0x5bb544);const _0x93cc9a=await Promise['all'](_0x22c177),_0xe5a2f3=_0x93cc9a['map'](_0x4695da=>_0x4695da['resource']),_0x4d114b=bN(_0x334aed,_0xe5a2f3,_0xebc37b),_0x5c2e0f=wN(_0x5af91c,_0x334aed,_0x1ac266,_0x5bb544),_0x2cf94c=[];for(let _0x57ebe1=-0x241a+0x102d*-0x2+0x4474*0x1;_0x57ebe1<_0x169233['length'];_0x57ebe1++)_0x2cf94c[_0x57ebe1]=new Em(),_0x2cf94c[_0x57ebe1]['meshes']=_0x169233[_0x57ebe1];RN(_0x334aed,_0x2cf94c,_0x5c2e0f);const _0x3121eb=new qF();return _0x3121eb['gltf']=_0x334aed,_0x3121eb['nodes']=_0x1ac266,_0x3121eb['scenes']=_0x91722f,_0x3121eb['animations']=_0x48d1c0,_0x3121eb['textures']=_0x93cc9a,_0x3121eb['materials']=_0x4d114b,_0x3121eb['variants']=_0x30ef25,_0x3121eb['meshVarian'+'ts']=_0x2d0d2f,_0x3121eb['meshDefaul'+'tMaterials']=_0x490ed5,_0x3121eb['renders']=_0x2cf94c,_0x3121eb['skins']=_0x5c2e0f,_0x3121eb['lights']=_0x1a70fc,_0x3121eb['cameras']=_0x386ea8,_0x3121eb['nodeInstan'+'cingMap']=_0x4b4c2d,_0x1fdbae&&_0x1fdbae(_0x334aed,_0x3121eb),await Promise['all'](_0x9aef3a),_0x3121eb;},FN=(_0x5840d6,_0x57d0a5)=>{const _0x1b1aa5=(_0x48926f,_0x42c9a8)=>{switch(_0x48926f){case 0x3ae2+-0x8*-0x410+-0x3562:return Te;case 0x3*-0x115f+0x103b+-0xf*-0x4ed:return vt;case 0x1701+-0x43*-0x11b+0x1*-0x3a12:return Kh;case-0x49e1+0x2a52*-0x1+-0x9b34*-0x1:return Qh;case-0x2*0x23ad+-0x2eea*-0x1+0x2*0x1fb9:return Zh;case 0x1bb2+-0x33d7*-0x1+-0xe*0x2e5:return ma;default:return _0x42c9a8;}},_0x5b10d6=(_0x54f7fa,_0x295ea2)=>{switch(_0x54f7fa){case 0xdbd2+-0x33b7+-0x26ec:return ue;case-0x3ce*0x43+0x1*-0xa370+0x225ca*0x1:return ip;case 0x6*0xcaa+-0xe0a*-0x1+-0x3105:return yt;default:return _0x295ea2;}};_0x5840d6&&(_0x57d0a5=_0x57d0a5??{},_0x5840d6['minFilter']=_0x1b1aa5(_0x57d0a5['minFilter'],ma),_0x5840d6['magFilter']=_0x1b1aa5(_0x57d0a5['magFilter'],vt),_0x5840d6['addressU']=_0x5b10d6(_0x57d0a5['wrapS'],yt),_0x5840d6['addressV']=_0x5b10d6(_0x57d0a5['wrapT'],yt));};let NN=0x2186+0xe06+-0x44*0xb3;const nn=_0x2456b9=>{var _0x431a40,_0x228950,_0x51c0cb,_0x3375fc;return((_0x228950=(_0x431a40=_0x2456b9['extensions'])==null?void(0x226*-0x4+-0x26c9+0x2f61):_0x431a40['KHR_textur'+'e_basisu'])==null?void(0x199*-0xd+0x1729*0x1+-0x264):_0x228950['source'])??((_0x3375fc=(_0x51c0cb=_0x2456b9['extensions'])==null?void(0x1*-0x184d+-0x4*-0x15c+-0x1*-0x12dd):_0x51c0cb['EXT_textur'+'e_webp'])==null?void(0x1038+-0x16c+-0xecc):_0x3375fc['source'])??_0x2456b9['source'];},kN=(_0x118d16,_0x18e026,_0x44c901,_0xa1d87a,_0x1a1bef)=>{var _0x2fc1f4,_0x53e6af,_0x59415e;if(!_0x118d16['images']||_0x118d16['images']['length']===0x1c34+-0x1*-0x1989+-0x35bd)return[];const _0x1cb450=(_0x2fc1f4=_0x1a1bef==null?void(0x2*-0xf07+0x5*-0x14e+-0x4*-0x925):_0x1a1bef['image'])==null?void(-0xe30+-0xd*-0x23d+-0xee9):_0x2fc1f4['preprocess'],_0x4bba8e=(_0x53e6af=_0x1a1bef==null?void(-0xb8d*0x1+-0x15b*-0x1c+-0x2ef*0x9):_0x1a1bef['image'])==null?void(-0x7*0x577+0x9a2+-0x1c9f*-0x1):_0x53e6af['processAsy'+'nc'],_0x5c7bfd=(_0x59415e=_0x1a1bef==null?void(-0x2*0x8b4+-0x1561+-0x26c9*-0x1):_0x1a1bef['image'])==null?void(0x1*0x16d+-0x21f0+-0x7*-0x4a5):_0x59415e['postproces'+'s'],_0x431e3d={'image/png':'png','image/jpeg':'jpg','image/basis':'basis','image/ktx':'ktx','image/ktx2':'ktx2','image/vnd-ms.dds':'dds'},_0x417d43=_0x1c0b87=>{const _0xb55f9=new Set();return _0x1c0b87['hasOwnProp'+'erty']('materials')&&_0x1c0b87['materials']['forEach'](_0x52985c=>{if(_0x52985c['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x13c2e9=_0x52985c['pbrMetalli'+'cRoughness'];if(_0x13c2e9['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x3e5458=_0x1c0b87['textures'][_0x13c2e9['baseColorT'+'exture']['index']];_0xb55f9['add'](nn(_0x3e5458));}}if(_0x52985c['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x32dccc=_0x1c0b87['textures'][_0x52985c['emissiveTe'+'xture']['index']];_0xb55f9['add'](nn(_0x32dccc));}if(_0x52985c['hasOwnProp'+'erty']('extensions')){const _0x23cec9=_0x52985c['extensions']['KHR_materi'+'als_sheen'];if(_0x23cec9&&_0x23cec9['hasOwnProp'+'erty']('sheenColor'+'Texture')){const _0x513cf0=_0x1c0b87['textures'][_0x23cec9['sheenColor'+'Texture']['index']];_0xb55f9['add'](nn(_0x513cf0));}const _0x3aad25=_0x52985c['extensions']['KHR_materi'+'als_pbrSpe'+'cularGloss'+'iness'];if(_0x3aad25&&_0x3aad25['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x37da3=_0x1c0b87['textures'][_0x3aad25['specularGl'+'ossinessTe'+'xture']['index']];_0xb55f9['add'](nn(_0x37da3));}const _0x574191=_0x52985c['extensions']['KHR_materi'+'als_specul'+'ar'];if(_0x574191&&_0x574191['hasOwnProp'+'erty']('specularCo'+'lorTexture')){const _0x1aa923=_0x1c0b87['textures'][_0x574191['specularCo'+'lorTexture']['index']];_0xb55f9['add'](nn(_0x1aa923));}}}),_0xb55f9;},_0x5846dd=(_0x2f474c,_0x2c5141,_0x199a8e,_0x2b5cec,_0x525ea8,_0x55d910)=>new Promise((_0x2b6b84,_0x9368e)=>{const _0x42829e=_0x11f9b8=>{const _0x3cc4b5=(_0x2f474c['name']||'gltf-textu'+'re')+'-'+NN++,_0x40c5d8={'url':_0x2c5141||_0x3cc4b5};if(_0x11f9b8&&(_0x40c5d8['contents']=_0x11f9b8['slice'](0x1b63+-0x1f6*0x11+0x5f3)['buffer']),_0x2b5cec){const _0x8d313e=_0x431e3d[_0x2b5cec];_0x8d313e&&(_0x40c5d8['filename']=_0x40c5d8['url']+'.'+_0x8d313e);}const _0x254517={'srgb':_0x55d910},_0x521dc5=new pe(_0x3cc4b5,'texture',_0x40c5d8,_0x254517,_0x525ea8);_0x521dc5['on']('load',_0x43b0bf=>_0x2b6b84(_0x43b0bf)),_0x521dc5['on']('error',_0x5920c9=>_0x9368e(_0x5920c9)),_0xa1d87a['add'](_0x521dc5),_0xa1d87a['load'](_0x521dc5);};_0x199a8e?_0x199a8e['then'](_0x17702f=>_0x42829e(_0x17702f)):_0x42829e(null);}),_0xe256fc=_0x417d43(_0x118d16);return _0x118d16['images']['map']((_0x3bb606,_0x393b1b)=>{_0x1cb450&&_0x1cb450(_0x3bb606);let _0x29230e;return _0x4bba8e?_0x29230e=new Promise((_0x3e36e9,_0x266da3)=>{_0x4bba8e(_0x3bb606,(_0x54657b,_0x4c7c43)=>{_0x54657b?_0x266da3(_0x54657b):_0x3e36e9(_0x4c7c43);});}):_0x29230e=new Promise(_0x24f398=>{_0x24f398(null);}),_0x29230e=_0x29230e['then'](_0x339c4d=>{const _0xb39b89=_0xe256fc['has'](_0x393b1b);return _0x339c4d||(_0x3bb606['hasOwnProp'+'erty']('uri')?x0(_0x3bb606['uri'])?_0x5846dd(_0x3bb606,_0x3bb606['uri'],null,jF(_0x3bb606['uri']),null,_0xb39b89):_0x5846dd(_0x3bb606,jn['test'](_0x3bb606['uri'])?_0x3bb606['uri']:xe['join'](_0x44c901,_0x3bb606['uri']),null,null,{'crossOrigin':'anonymous'},_0xb39b89):_0x3bb606['hasOwnProp'+'erty']('bufferView')&&_0x3bb606['hasOwnProp'+'erty']('mimeType')?_0x5846dd(_0x3bb606,null,_0x18e026[_0x3bb606['bufferView']],_0x3bb606['mimeType'],null,_0xb39b89):Promise['reject'](new Error('Invalid\x20im'+'age\x20found\x20'+'in\x20gltf\x20(n'+'either\x20uri'+'\x20or\x20buffer'+'View\x20found'+').\x20index='+_0x393b1b)));}),_0x5c7bfd&&(_0x29230e=_0x29230e['then'](_0x48a229=>(_0x5c7bfd(_0x3bb606,_0x48a229),_0x48a229))),_0x29230e;});},UN=(_0x1e383f,_0x4facd9,_0x5ae36d)=>{var _0x4ec7bd,_0x12361a,_0x572e9a,_0x3c0d25,_0x2ae825;if(!((_0x4ec7bd=_0x1e383f==null?void(-0xc9d+0x1c59+-0xfbc):_0x1e383f['images'])!=null&&_0x4ec7bd['length'])||!((_0x12361a=_0x1e383f==null?void(0x2709+-0x13*-0x162+-0x414f):_0x1e383f['textures'])!=null&&_0x12361a['length']))return[];const _0xf65794=(_0x572e9a=_0x5ae36d==null?void(-0x94*0x28+-0x107e+0x279e):_0x5ae36d['texture'])==null?void(0x142+0x1*0x649+-0x78b*0x1):_0x572e9a['preprocess'],_0x59902c=(_0x3c0d25=_0x5ae36d==null?void(0x1*-0x204b+-0x6*0x5df+-0xd81*-0x5):_0x5ae36d['texture'])==null?void(-0x1*-0x1723+-0x1587+-0x19c):_0x3c0d25['processAsy'+'nc'],_0x18afd3=(_0x2ae825=_0x5ae36d==null?void(0x2339+0x384+0x1*-0x26bd):_0x5ae36d['texture'])==null?void(0x2*-0xc14+-0x5*-0x2dc+0x9dc):_0x2ae825['postproces'+'s'],_0x3c9210=new Set();return _0x1e383f['textures']['map'](_0xcd9610=>{_0xf65794&&_0xf65794(_0xcd9610);let _0xe41ad2;return _0x59902c?_0xe41ad2=new Promise((_0x1ead98,_0x5331e0)=>{_0x59902c(_0xcd9610,_0x1e383f['images'],(_0x2ea149,_0x4f03bd)=>{_0x2ea149?_0x5331e0(_0x2ea149):_0x1ead98(_0x4f03bd);});}):_0xe41ad2=new Promise(_0x39b5fd=>{_0x39b5fd(null);}),_0xe41ad2=_0xe41ad2['then'](_0x316610=>{_0x316610=_0x316610??nn(_0xcd9610);const _0x40074f=_0x3c9210['has'](_0x316610);return _0x3c9210['add'](_0x316610),_0x4facd9[_0x316610]['then'](_0x1be86d=>{const _0x4574e6=_0x40074f?tN(_0x1be86d):_0x1be86d;return FN(_0x4574e6['resource'],(_0x1e383f['samplers']??[])[_0xcd9610['sampler']]),_0x4574e6;});}),_0x18afd3&&(_0xe41ad2=_0xe41ad2['then'](_0x31aa3f=>(_0x18afd3(_0xcd9610,_0x31aa3f),_0x31aa3f))),_0xe41ad2;});},BN=(_0x43194b,_0x18cd1d,_0x3c48e4,_0x113aa0)=>{var _0x109b0c,_0x21ac71,_0x19f63b;if(!_0x43194b['buffers']||_0x43194b['buffers']['length']===-0x1*-0x2275+0x179c+-0x3a11)return[];const _0x37a1fb=(_0x109b0c=_0x113aa0==null?void(-0x12*0x41+-0x1596+0x1a28):_0x113aa0['buffer'])==null?void(-0x130c+0x1*0x400+-0xc*-0x141):_0x109b0c['preprocess'],_0x127388=(_0x21ac71=_0x113aa0==null?void(0xd7a+-0x8be+0x3*-0x194):_0x113aa0['buffer'])==null?void(0x1938+0x32b*0x1+-0x1*0x1c63):_0x21ac71['processAsy'+'nc'],_0x1022cc=(_0x19f63b=_0x113aa0==null?void(0x7fa*-0x3+0x93f*0x2+-0x1d*-0x30):_0x113aa0['buffer'])==null?void(0x155f+-0x2517+0xfb8):_0x19f63b['postproces'+'s'];return _0x43194b['buffers']['map']((_0x3f19b9,_0x6c8d8a)=>{_0x37a1fb&&_0x37a1fb(_0x3f19b9);let _0x1ae746;return _0x127388?_0x1ae746=new Promise((_0x3fbd69,_0x3c536b)=>{_0x127388(_0x3f19b9,(_0x4dc2ea,_0x531487)=>{_0x4dc2ea?_0x3c536b(_0x4dc2ea):_0x3fbd69(_0x531487);});}):_0x1ae746=new Promise(_0x3f1234=>{_0x3f1234(null);}),_0x1ae746=_0x1ae746['then'](_0x424470=>{if(_0x424470)return _0x424470;if(_0x3f19b9['hasOwnProp'+'erty']('uri')){if(x0(_0x3f19b9['uri'])){const _0x5a2e1a=atob(_0x3f19b9['uri']['split'](',')[0xd*0x8+-0x1a73+-0x4*-0x683]),_0x25d372=new Uint8Array(_0x5a2e1a['length']);for(let _0x5d8294=0x13f*-0x9+0x20e*-0x5+-0x157d*-0x1;_0x5d8294<_0x5a2e1a['length'];_0x5d8294++)_0x25d372[_0x5d8294]=_0x5a2e1a['charCodeAt'](_0x5d8294);return _0x25d372;}return new Promise((_0x33ba59,_0x3f18bb)=>{ot['get'](jn['test'](_0x3f19b9['uri'])?_0x3f19b9['uri']:xe['join'](_0x3c48e4,_0x3f19b9['uri']),{'cache':!(0x1319+-0x26d7+0x13be),'responseType':'arraybuffe'+'r','retry':!(0x60d*0x1+-0x900+0x2f4)},(_0xea48cb,_0x2931eb)=>{_0xea48cb?_0x3f18bb(_0xea48cb):_0x33ba59(new Uint8Array(_0x2931eb));});});}return _0x18cd1d;}),_0x1022cc&&(_0x1ae746=_0x1ae746['then'](_0x3c54e8=>(_0x1022cc(_0x43194b['buffers'][_0x6c8d8a],_0x3c54e8),_0x3c54e8))),_0x1ae746;});},zN=(_0x3683eb,_0x241948)=>{const _0x15c4af=JSON['parse']((_0x1de18c=>{if(typeof TextDecoder<'u')return new TextDecoder()['decode'](_0x1de18c);let _0x525248='';for(let _0x3b4ebc=-0x6b0+-0x3b*-0x4c+-0x134*0x9;_0x3b4ebc<_0x1de18c['length'];_0x3b4ebc++)_0x525248+=String['fromCharCo'+'de'](_0x1de18c[_0x3b4ebc]);return decodeURIComponent(escape(_0x525248));})(_0x3683eb));if(_0x15c4af['asset']&&_0x15c4af['asset']['version']&&parseFloat(_0x15c4af['asset']['version'])<0x2152+0x23b7*0x1+-0x4507){_0x241948('Invalid\x20gl'+'tf\x20version'+'.\x20Expected'+'\x20version\x202'+'.0\x20or\x20abov'+'e\x20but\x20foun'+'d\x20version\x20'+'\x27'+_0x15c4af['asset']['version']+'\x27.');return;}_0x241948(null,_0x15c4af);},VN=(_0x1a1a73,_0x5b2ff1)=>{const _0x50d181=_0x1a1a73 instanceof ArrayBuffer?new DataView(_0x1a1a73):new DataView(_0x1a1a73['buffer'],_0x1a1a73['byteOffset'],_0x1a1a73['byteLength']),_0x21a9e7=_0x50d181['getUint32'](-0x2335*0x1+0x17ed+-0x169*-0x8,!(-0x1083+-0xedb+-0x5*-0x646)),_0x564f87=_0x50d181['getUint32'](0x81d+-0x2d*0x5d+0x840,!(0x22ec+-0x36f*-0x3+-0x2d39)),_0x412fff=_0x50d181['getUint32'](-0xc*0x17f+0x2203*-0x1+0x33ff,!(0x123c+-0x1169*-0x2+-0x350e));if(_0x21a9e7!==-0x506270fa+-0x5bbeec*0x2d+0xa6d76cdd){_0x5b2ff1('Invalid\x20ma'+'gic\x20number'+'\x20found\x20in\x20'+'glb\x20header'+'.\x20Expected'+'\x200x46546C6'+'7,\x20found\x200'+'x'+_0x21a9e7['toString'](0x1111+-0x13c3*0x1+-0x1*-0x2c2));return;}if(_0x564f87!==-0x1bd9+0x9*-0x425+-0x2094*-0x2){_0x5b2ff1('Invalid\x20ve'+'rsion\x20numb'+'er\x20found\x20i'+'n\x20glb\x20head'+'er.\x20Expect'+'ed\x202,\x20foun'+'d\x20'+_0x564f87);return;}if(_0x412fff<=0x1*0x2095+-0x2*0x4eb+-0x16bf||_0x412fff>_0x50d181['byteLength']){_0x5b2ff1('Invalid\x20le'+'ngth\x20found'+'\x20in\x20glb\x20he'+'ader.\x20Foun'+'d\x20'+_0x412fff);return;}const _0x4c5c1d=[];let _0x19a05e=-0x1d4+0x2*0xe6b+-0x1af6;for(;_0x19a05e<_0x412fff;){const _0x2499e9=_0x50d181['getUint32'](_0x19a05e,!(-0x1be3*-0x1+-0x235f*-0x1+-0x2*0x1fa1));_0x19a05e+_0x2499e9+(-0xea2*0x1+0xd*-0x28c+0x2*0x17e3)>_0x50d181['byteLength']&&_0x5b2ff1('Invalid\x20ch'+'unk\x20length'+'\x20found\x20in\x20'+'glb.\x20Found'+'\x20'+_0x2499e9);const _0x252511=_0x50d181['getUint32'](_0x19a05e+(-0x2200+-0x9b1*0x1+0x2bb5),!(0x191f*-0x1+0x8bf+0x1060)),_0x346fc0=new Uint8Array(_0x50d181['buffer'],_0x50d181['byteOffset']+_0x19a05e+(0xcbf+-0x1dbe+0x5ad*0x3),_0x2499e9);_0x4c5c1d['push']({'length':_0x2499e9,'type':_0x252511,'data':_0x346fc0}),_0x19a05e+=_0x2499e9+(0x1*-0x134b+0x1a4b+-0x6f8);}if(_0x4c5c1d['length']!==0xc01+0xf8d+-0x1b8d&&_0x4c5c1d['length']!==-0x2*-0xfbf+-0xe73+0x59*-0x31){_0x5b2ff1('Invalid\x20nu'+'mber\x20of\x20ch'+'unks\x20found'+'\x20in\x20glb\x20fi'+'le.');return;}if(_0x4c5c1d[0x240a+0xa95*-0x1+-0x1975]['type']!==0x98f0705a+-0xb720316+0x1f978cfd*-0x2){_0x5b2ff1('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x4'+'E4F534A,\x20f'+'ound\x200x'+_0x4c5c1d[-0x4d*0x7f+-0x16b0+-0x589*-0xb]['type']['toString'](-0x1f7a+-0x6*-0x13+0x1f18));return;}if(_0x4c5c1d['length']>0x11e+-0xfb+-0x11*0x2&&_0x4c5c1d[-0x156a+0x9be*0x2+0x2d*0xb]['type']!==-0x9167*-0x9+0x1*0x451619+0x4168a){_0x5b2ff1('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x0'+'04E4942,\x20f'+'ound\x200x'+_0x4c5c1d[-0x1*-0x1ff6+-0x515*0x7+-0x1cf*-0x2]['type']['toString'](-0x2f*0xc5+0xf9*-0xf+-0x32d2*-0x1));return;}_0x5b2ff1(null,{'gltfChunk':_0x4c5c1d[0xb9d*-0x2+0xf1+0xa3*0x23]['data'],'binaryChunk':_0x4c5c1d['length']===-0x13c9+0x5af*0x1+0xe1c?_0x4c5c1d[-0x1206+-0x109d+0x22a4]['data']:null});},GN=(_0x5ac79c,_0x10e1b9,_0x2321da)=>{const _0x3a46b1=()=>{const _0x254eb1=new Uint8Array(_0x10e1b9);return _0x254eb1[0x47*-0x81+-0xbaf+-0x97e*-0x5]===-0xc91*0x1+0x25bd+0x18c5*-0x1&&_0x254eb1[-0x9*0x135+0x5a2+0x53c]===-0x1f*0x5f+0x5*-0x3be+0x1ea3&&_0x254eb1[0x2335+-0x521*0x4+0xb3*-0x15]===-0x1eb0+0x110*0x22+-0x51c&&_0x254eb1[-0x10f*-0x22+0x4dd+-0x51b*0x8]===0x6da*0x5+-0x26e*0xb+-0x1*0x742;};_0x5ac79c&&_0x5ac79c['toLowerCas'+'e']()['endsWith']('.glb')||_0x3a46b1()?VN(_0x10e1b9,_0x2321da):_0x2321da(null,{'gltfChunk':_0x10e1b9,'binaryChunk':null});},HN=(_0x536bf6,_0x36548d,_0x47ec03)=>{var _0x15705d,_0x1998af,_0x3ce16e,_0x1e9906;const _0x42ea1f=[],_0x4d51ae=(_0x15705d=_0x47ec03==null?void(-0x1b59+0x167*0x7+-0x3*-0x5d8):_0x47ec03['bufferView'])==null?void(0x352*0x3+-0x1a1*-0x17+0x2f6d*-0x1):_0x15705d['preprocess'],_0xb9e884=(_0x1998af=_0x47ec03==null?void(-0x20f4+0x5e*-0x23+0x2dce):_0x47ec03['bufferView'])==null?void(-0xa76+0x1*-0xe75+0x18eb):_0x1998af['processAsy'+'nc'],_0x54ed9c=(_0x3ce16e=_0x47ec03==null?void(0x2066+0x14d0+-0x62*0x8b):_0x47ec03['bufferView'])==null?void(0xde0+0xa1*0x22+-0x2342):_0x3ce16e['postproces'+'s'];if(!((_0x1e9906=_0x536bf6['bufferView'+'s'])!=null&&_0x1e9906['length']))return _0x42ea1f;for(let _0x559698=-0x1717+0x1797*-0x1+0x2eae;_0x559698<_0x536bf6['bufferView'+'s']['length'];++_0x559698){const _0x10ba51=_0x536bf6['bufferView'+'s'][_0x559698];_0x4d51ae&&_0x4d51ae(_0x10ba51);let _0x21e63f;_0xb9e884?_0x21e63f=new Promise((_0x45caad,_0x48d0f6)=>{_0xb9e884(_0x10ba51,_0x36548d,(_0x3d566b,_0x4dd459)=>{_0x3d566b?_0x48d0f6(_0x3d566b):_0x45caad(_0x4dd459);});}):_0x21e63f=new Promise(_0x4b50f7=>{_0x4b50f7(null);}),_0x21e63f=_0x21e63f['then'](_0x2784f2=>_0x2784f2||_0x36548d[_0x10ba51['buffer']]['then'](_0x461fca=>new Uint8Array(_0x461fca['buffer'],_0x461fca['byteOffset']+(_0x10ba51['byteOffset']||0x1536+-0x29b*0x1+-0x129b),_0x10ba51['byteLength']))),_0x10ba51['hasOwnProp'+'erty']('byteStride')&&(_0x21e63f=_0x21e63f['then'](_0x1ad555=>(_0x1ad555['byteStride']=_0x10ba51['byteStride'],_0x1ad555))),_0x54ed9c&&(_0x21e63f=_0x21e63f['then'](_0x33fb8b=>(_0x54ed9c(_0x10ba51,_0x33fb8b),_0x33fb8b))),_0x42ea1f['push'](_0x21e63f);}return _0x42ea1f;};class kh{static['parse'](_0x259c50,_0x503d44,_0x57c207,_0x2606e6,_0x33c8ec,_0x45ff57,_0x55786d){GN(_0x259c50,_0x57c207,(_0x59feeb,_0x38b07b)=>{if(_0x59feeb){_0x55786d(_0x59feeb);return;}zN(_0x38b07b['gltfChunk'],(_0x39944d,_0x1bb894)=>{if(_0x39944d){_0x55786d(_0x39944d);return;}const _0x424c2a=BN(_0x1bb894,_0x38b07b['binaryChun'+'k'],_0x503d44,_0x45ff57),_0x53d9e9=HN(_0x1bb894,_0x424c2a,_0x45ff57),_0x4a2e66=kN(_0x1bb894,_0x53d9e9,_0x503d44,_0x33c8ec,_0x45ff57),_0x15fb95=UN(_0x1bb894,_0x4a2e66,_0x45ff57);ON(_0x2606e6,_0x1bb894,_0x53d9e9,_0x15fb95,_0x45ff57)['then'](_0x4c2bea=>_0x55786d(null,_0x4c2bea))['catch'](_0x389d82=>_0x55786d(_0x389d82));});});}static['createDefa'+'ultMateria'+'l'](){return w0({'name':'defaultGlb'+'Material'},[]);}}class WN extends Qe{constructor(_0x2aee29){super(_0x2aee29,'animation'),this['device']=_0x2aee29['graphicsDe'+'vice'],this['assets']=_0x2aee29['assets'];}['load'](_0x2336e1,_0x27af90,_0x5a985a){typeof _0x2336e1=='string'&&(_0x2336e1={'load':_0x2336e1,'original':_0x2336e1});const _0x50dce2={'retry':this['maxRetries']>-0x5ba+-0x6*-0x63d+-0x1fb4,'maxRetries':this['maxRetries']};(_0x2336e1['load']['startsWith']('blob:')||_0x2336e1['load']['startsWith']('data:'))&&(xe['getExtensi'+'on'](_0x2336e1['original'])['toLowerCas'+'e']()==='.glb'?_0x50dce2['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x50dce2['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x2336e1['load'],_0x50dce2,(_0x4f8bb9,_0xa0bdb5)=>{_0x4f8bb9?_0x27af90('Error\x20load'+'ing\x20animat'+'ion\x20resour'+'ce:\x20'+_0x2336e1['original']+'\x20['+_0x4f8bb9+']'):xe['getExtensi'+'on'](_0x2336e1['original'])['toLowerCas'+'e']()==='.glb'?kh['parse']('filename.g'+'lb','',_0xa0bdb5,this['device'],this['assets'],(_0x5a985a==null?void(-0xe7c+0x1*0x1e27+-0xfab):_0x5a985a['options'])??{},(_0x3dbc23,_0x1f95e1)=>{var _0x3fb7ef;if(_0x3dbc23)_0x27af90(_0x3dbc23);else{const _0xe560cf=_0x1f95e1['animations'];if((_0x3fb7ef=_0x5a985a==null?void(-0x1*-0x1b6c+0x182*-0xe+-0x650):_0x5a985a['data'])!=null&&_0x3fb7ef['events']){for(let _0x1d4595=0x63*-0x57+0x1b76+-0x62f*-0x1;_0x1d4595<_0xe560cf['length'];_0x1d4595++)_0xe560cf[_0x1d4595]['events']=new Hv(Object['values'](_0x5a985a['data']['events']));}_0x1f95e1['destroy'](),_0x27af90(null,_0xe560cf);}}):_0x27af90(null,this['_parseAnim'+'ationV'+_0xa0bdb5['animation']['version']](_0xa0bdb5));});}['open'](_0x9f4d9a,_0x2b5a4b,_0x191116){return _0x2b5a4b;}['_parseAnim'+'ationV3'](_0x4f1b43){const _0xfa7798=_0x4f1b43['animation'],_0x2a8619=new ug();_0x2a8619['name']=_0xfa7798['name'],_0x2a8619['duration']=_0xfa7798['duration'];for(let _0x10925b=0x42e+0x26d*-0x1+-0x1c1;_0x10925b<_0xfa7798['nodes']['length'];_0x10925b++){const _0xe61157=new fg(),_0x28c35b=_0xfa7798['nodes'][_0x10925b];_0xe61157['_name']=_0x28c35b['name'];for(let _0xb0654b=-0x2123+-0x6c*0x30+0x3563*0x1;_0xb0654b<_0x28c35b['keys']['length'];_0xb0654b++){const _0x1798d2=_0x28c35b['keys'][_0xb0654b],_0x5836ea=_0x1798d2['time'],_0x15f83e=_0x1798d2['pos'],_0xd021c3=_0x1798d2['rot'],_0x376ae8=_0x1798d2['scale'],_0x205d87=new D(_0x15f83e[-0x824*-0x2+-0x1494+-0x113*-0x4],_0x15f83e[-0x107d+0x2130+-0x10b2],_0x15f83e[0x218+0xbd5+-0x7*0x1fd]),_0x4f53cd=new le()['setFromEul'+'erAngles'](_0xd021c3[0x1cac+0x13*-0x187+0x59],_0xd021c3[0xfb1+0x93f*-0x3+0x5*0x269],_0xd021c3[0x7*-0x27f+-0x1008+0x2183]),_0x155753=new D(_0x376ae8[0x18ba+0x2311+-0x3bcb],_0x376ae8[0x20c3+-0x17e5+0x8dd*-0x1],_0x376ae8[-0xdb*0x16+0x2*0x71+0x11f2]),_0x17ffe0=new dg(_0x5836ea,_0x205d87,_0x4f53cd,_0x155753);_0xe61157['_keys']['push'](_0x17ffe0);}_0x2a8619['addNode'](_0xe61157);}return _0x2a8619;}['_parseAnim'+'ationV4'](_0x52fbd1){const _0x100a56=_0x52fbd1['animation'],_0x427544=new ug();_0x427544['name']=_0x100a56['name'],_0x427544['duration']=_0x100a56['duration'];for(let _0x319443=-0x1254+-0x1bf1+0x2e45;_0x319443<_0x100a56['nodes']['length'];_0x319443++){const _0xa18ae2=new fg(),_0x226aab=_0x100a56['nodes'][_0x319443];_0xa18ae2['_name']=_0x226aab['name'];const _0x3dd12b=_0x226aab['defaults']['p'],_0x47bd6a=_0x226aab['defaults']['r'],_0x8edf94=_0x226aab['defaults']['s'];for(let _0x452675=0x1f83+0x32d*0xb+-0x4272;_0x452675<_0x226aab['keys']['length'];_0x452675++){const _0x1de219=_0x226aab['keys'][_0x452675],_0x50e312=_0x1de219['t'],_0x29e47b=_0x3dd12b||_0x1de219['p'],_0x4368c2=_0x47bd6a||_0x1de219['r'],_0x41a27c=_0x8edf94||_0x1de219['s'],_0x2da9c3=new D(_0x29e47b[0x124*-0x6+0x792+-0x3e*0x3],_0x29e47b[-0x1128+-0x7*0x163+-0x26*-0xb5],_0x29e47b[0x2606+0xe7b*0x1+-0x347f]),_0x585402=new le()['setFromEul'+'erAngles'](_0x4368c2[-0x5*0x3d6+0x145*-0x7+0x1c11],_0x4368c2[0x229a+-0x198b+0x26*-0x3d],_0x4368c2[0xeb6*0x2+0x14e2+0xae*-0x4a]),_0x4d5075=new D(_0x41a27c[-0xba*0x2f+0x2289+0x9*-0xb],_0x41a27c[-0x1eb3+0x216f+0x3*-0xe9],_0x41a27c[0xe35+0xcab+-0x1ade]),_0x42e544=new dg(_0x50e312,_0x2da9c3,_0x585402,_0x4d5075);_0xa18ae2['_keys']['push'](_0x42e544);}_0x427544['addNode'](_0xa18ae2);}return _0x427544;}}class $N extends Qe{constructor(_0x316662){super(_0x316662,'animclip');}['load'](_0x4325f7,_0x8849ec){typeof _0x4325f7=='string'&&(_0x4325f7={'load':_0x4325f7,'original':_0x4325f7});const _0x19069d={'retry':this['maxRetries']>0x1bf0+0x2*0x1073+0xd*-0x4ae,'maxRetries':this['maxRetries']};_0x4325f7['load']['startsWith']('blob:')&&(_0x19069d['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x4325f7['load'],_0x19069d,(_0x129da5,_0x4ebbf3)=>{_0x129da5?_0x8849ec('Error\x20load'+'ing\x20animat'+'ion\x20clip\x20r'+'esource:\x20'+_0x4325f7['original']+'\x20['+_0x129da5+']'):_0x8849ec(null,_0x4ebbf3);});}['open'](_0x416229,_0x21bbba){const _0x190e06=_0x21bbba['name'],_0x12c4f6=_0x21bbba['duration'],_0x2e69e2=_0x21bbba['inputs']['map'](_0x400c65=>new Fh(0xf4f*-0x1+0x3*-0x24e+-0xa*-0x239,_0x400c65)),_0x226289=_0x21bbba['outputs']['map'](_0x216391=>new Fh(_0x216391['components'],_0x216391['data'])),_0x95f4bd=_0x21bbba['curves']['map'](_0x5ce4ea=>new v0([_0x5ce4ea['path']],_0x5ce4ea['inputIndex'],_0x5ce4ea['outputInde'+'x'],_0x5ce4ea['interpolat'+'ion']));return new Qi(_0x190e06,_0x12c4f6,_0x2e69e2,_0x226289,_0x95f4bd);}}class XN extends Qe{constructor(_0x4e891e){super(_0x4e891e,'animstateg'+'raph');}['load'](_0x26611a,_0x2948c6){typeof _0x26611a=='string'&&(_0x26611a={'load':_0x26611a,'original':_0x26611a});const _0x5ff4f2={'retry':this['maxRetries']>0x159e+0xaab+-0x2049,'maxRetries':this['maxRetries']};_0x26611a['load']['startsWith']('blob:')&&(_0x5ff4f2['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x26611a['load'],_0x5ff4f2,(_0x437cfd,_0x2c8b83)=>{_0x437cfd?_0x2948c6('Error\x20load'+'ing\x20animat'+'ion\x20state\x20'+'graph\x20reso'+'urce:\x20'+_0x26611a['original']+'\x20['+_0x437cfd+']'):_0x2948c6(null,_0x2c8b83);});}['open'](_0x8057a3,_0x16c6e4){return new Jc(_0x16c6e4);}}const Af=(function(){if(typeof window>'u')return!(0x1088+0x202d+0x1*-0x30b4);const _0x103cb8=window['navigator']['userAgent'],_0x193899=_0x103cb8['indexOf']('MSIE\x20');if(_0x193899>0x1*0x21b+0x1204*0x1+-0x141f)return parseInt(_0x103cb8['substring'](_0x193899+(0x1c91+-0x2*-0x45d+-0x2*0x12a3),_0x103cb8['indexOf']('.',_0x193899)),0x9f5+-0x440+0x5ab*-0x1);if(_0x103cb8['indexOf']('Trident/')>0x11e9*-0x2+0x5*-0x446+0x262*0x18){const _0x4d1099=_0x103cb8['indexOf']('rv:');return parseInt(_0x103cb8['substring'](_0x4d1099+(-0x7*-0x3f4+0x2*0x4e7+-0x2577),_0x103cb8['indexOf']('.',_0x4d1099)),-0x5ce*0x2+-0xf1d*-0x2+-0x1294);}return!(-0x9c5*0x1+-0x59a+0xf60);}()),qN=['.ogg','.mp3','.wav','.mp4a','.m4a','.mp4','.aac','.opus'];class jN extends Qe{constructor(_0x5bc37f){super(_0x5bc37f,'audio'),this['manager']=_0x5bc37f['soundManag'+'er'],w['assert'](this['manager'],'AudioHandl'+'er\x20cannot\x20'+'be\x20created'+'\x20without\x20s'+'ound\x20manag'+'er');}['_isSupport'+'ed'](_0xba17c6){const _0x3a04bb=xe['getExtensi'+'on'](_0xba17c6);return qN['indexOf'](_0x3a04bb)>-(-0x19e3+-0xb74+0x2558)||_0xba17c6['startsWith']('blob:');}['load'](_0x34e9bd,_0x4c6b5f){typeof _0x34e9bd=='string'&&(_0x34e9bd={'load':_0x34e9bd,'original':_0x34e9bd});const _0x3b63d8=function(_0x5b1be4){_0x4c6b5f(null,new Mw(_0x5b1be4));},_0x33e670=function(_0x4929f5){let _0x2268c5='Error\x20load'+'ing\x20audio\x20'+'url:\x20'+_0x34e9bd['original'];_0x4929f5&&(_0x2268c5+=':\x20'+(_0x4929f5['message']||_0x4929f5)),console['warn'](_0x2268c5),_0x4c6b5f(_0x2268c5);};if(this['_createSou'+'nd']){if(!this['_isSupport'+'ed'](_0x34e9bd['original'])){_0x33e670('Audio\x20form'+'at\x20for\x20'+_0x34e9bd['original']+('\x20not\x20suppo'+'rted'));return;}this['_createSou'+'nd'](_0x34e9bd['load'],_0x3b63d8,_0x33e670);}else _0x33e670(null);}['_createSou'+'nd'](_0x277447,_0x413aac,_0x46593c){if(Dl()){const _0x17bf41=this['manager'];if(!_0x17bf41['context']){_0x46593c('Audio\x20mana'+'ger\x20has\x20no'+'\x20audio\x20con'+'text');return;}const _0x475085={'retry':this['maxRetries']>0x720+0x1a16+-0x2136,'maxRetries':this['maxRetries']};(_0x277447['startsWith']('blob:')||_0x277447['startsWith']('data:'))&&(_0x475085['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']),ot['get'](_0x277447,_0x475085,(_0x41d0d3,_0x4d31c5)=>{if(_0x41d0d3){_0x46593c(_0x41d0d3);return;}_0x17bf41['context']['decodeAudi'+'oData'](_0x4d31c5,_0x413aac,_0x46593c);});}else{let _0x5bb0a0=null;try{_0x5bb0a0=new Audio();}catch{_0x46593c('No\x20support'+'\x20for\x20Audio'+'\x20element');return;}Af&&document['body']['appendChil'+'d'](_0x5bb0a0);const _0x6385be=function(){_0x5bb0a0['removeEven'+'tListener']('canplaythr'+'ough',_0x6385be),Af&&document['body']['removeChil'+'d'](_0x5bb0a0),_0x413aac(_0x5bb0a0);};_0x5bb0a0['onerror']=function(){_0x5bb0a0['onerror']=null,Af&&document['body']['removeChil'+'d'](_0x5bb0a0),_0x46593c();},_0x5bb0a0['addEventLi'+'stener']('canplaythr'+'ough',_0x6385be),_0x5bb0a0['src']=_0x277447;}}}class YN extends Qe{constructor(_0x17ebb9){super(_0x17ebb9,'binary');}['load'](_0x1b0efc,_0xfddacb){typeof _0x1b0efc=='string'&&(_0x1b0efc={'load':_0x1b0efc,'original':_0x1b0efc}),ot['get'](_0x1b0efc['load'],{'responseType':Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER'],'retry':this['maxRetries']>0x5*-0x392+0xfe2*-0x1+0x21bc,'maxRetries':this['maxRetries']},(_0x4d18f5,_0x2b1dcf)=>{_0x4d18f5?_0xfddacb('Error\x20load'+'ing\x20binary'+'\x20resource:'+'\x20'+_0x1b0efc['original']+'\x20['+_0x4d18f5+']'):_0xfddacb(null,_0x2b1dcf);});}['openBinary'](_0x5b5e31){return _0x5b5e31['buffer'];}}class yr{constructor(_0x3f9207,_0x2a011d,_0x1e7259,_0x48524c){const _0x1f84b1=function(_0x5f974a,_0x556937,_0x3363bb){const _0x462a25=yr['createAsse'+'t'](_0x2a011d['name'],_0x5f974a,_0x556937,_0x3363bb);return _0x1e7259['add'](_0x462a25),_0x462a25;},_0x538346=[];for(let _0x4530cc=-0x1c2+0x21a*0xe+-0x1baa;_0x4530cc<_0x3f9207['renders']['length'];++_0x4530cc)_0x538346['push'](_0x1f84b1('render',_0x3f9207['renders'][_0x4530cc],_0x4530cc));const _0x536241=[];for(let _0x48d655=0x1dcb*0x1+0x26ce+-0x4499;_0x48d655<_0x3f9207['materials']['length'];++_0x48d655)_0x536241['push'](_0x1f84b1('material',_0x3f9207['materials'][_0x48d655],_0x48d655));const _0x329512=[];for(let _0x428050=-0x5ae*0x6+0x65f+-0x1*-0x1bb5;_0x428050<_0x3f9207['animations']['length'];++_0x428050)_0x329512['push'](_0x1f84b1('animation',_0x3f9207['animations'][_0x428050],_0x428050));this['data']=_0x3f9207,this['_model']=null,this['_assetName']=_0x2a011d['name'],this['_assets']=_0x1e7259,this['_defaultMa'+'terial']=_0x48524c,this['renders']=_0x538346,this['materials']=_0x536241,this['textures']=_0x3f9207['textures'],this['animations']=_0x329512;}get['model'](){if(!this['_model']){const _0x2a0c70=yr['createMode'+'l'](this['data'],this['_defaultMa'+'terial']),_0x3517c2=yr['createAsse'+'t'](this['_assetName'],'model',_0x2a0c70,0x2479*-0x1+0x1*-0x2656+-0x4acf*-0x1);this['_assets']['add'](_0x3517c2),this['_model']=_0x3517c2;}return this['_model'];}static['createAsse'+'t'](_0x35a92b,_0x5600d9,_0x5828c2,_0x553ae5){const _0x2db44a=new pe(_0x35a92b+'/'+_0x5600d9+'/'+_0x553ae5,_0x5600d9,{'url':''});return _0x2db44a['resource']=_0x5828c2,_0x2db44a['loaded']=!(0x1*-0x21b3+-0x778+0x292b),_0x2db44a;}['instantiat'+'eModelEnti'+'ty'](_0x3da9dd){const _0xc02e30=new lt(void(0x260f+0x1*0x18bd+-0x3ecc),this['_assets']['_loader']['_app']);return _0xc02e30['addCompone'+'nt']('model',Object['assign']({'type':'asset','asset':this['model']},_0x3da9dd)),_0xc02e30;}['instantiat'+'eRenderEnt'+'ity'](_0x5097b7){const _0x4a01f8=this['_defaultMa'+'terial'],_0x35b436=[],_0x6faa7d=function(_0x4609ce,_0x4fda75,_0x424f4b,_0x3500d1,_0x177a14,_0x45a30e,_0x2a46f9,_0x21cc4b){const _0x5a6867=_0x177a14[_0x424f4b['id']],_0x26655c=_0x5a6867===void(-0x2194+0x40*0x68+-0xc2*-0xa)?_0x4a01f8:_0x3500d1[_0x5a6867],_0x3e42d9=new He(_0x424f4b,_0x26655c);_0x424f4b['morph']&&(_0x3e42d9['morphInsta'+'nce']=new xa(_0x424f4b['morph'])),_0x2a46f9['hasOwnProp'+'erty']('skin')&&_0x35b436['push']({'meshInstance':_0x3e42d9,'rootBone':_0x4609ce,'entity':_0x4fda75});const _0x58c77f=_0x21cc4b['get'](_0x2a46f9);if(_0x58c77f){const _0x3435d0=_0x58c77f['matrices'],_0x109fd6=kt['getDefault'+'Instancing'+'Format'](_0x424f4b['device']),_0x38a746=new Is(_0x424f4b['device'],_0x109fd6,_0x3435d0['length']/(0x126d+0x194c+0x2ba9*-0x1),{'data':_0x3435d0});_0x3e42d9['setInstanc'+'ing'](_0x38a746),_0x3e42d9['instancing'+'Data']['_destroyVe'+'rtexBuffer']=!(-0x5c*-0x38+-0x162*-0x13+-0x1733*0x2);}return _0x3e42d9;},_0x4d2937=(_0x5dfb15,_0x5e8398,_0x4e9b0c)=>{const _0x43050f=new lt(void(-0x16*0x6+-0xe6b*0x1+-0xeef*-0x1),this['_assets']['_loader']['_app']);_0x5e8398['_cloneInte'+'rnal'](_0x43050f),_0x5dfb15||(_0x5dfb15=_0x43050f);let _0x4a04bc=null,_0x87fe91=null;for(let _0x1deec2=0x3*0x2f6+-0x1027*0x2+0x176c;_0x1deec2<_0x4e9b0c['nodes']['length'];_0x1deec2++)if(_0x4e9b0c['nodes'][_0x1deec2]===_0x5e8398){const _0x12363c=_0x4e9b0c['gltf']['nodes'][_0x1deec2];if(_0x12363c['hasOwnProp'+'erty']('mesh')){const _0x2a78de=_0x4e9b0c['renders'][_0x12363c['mesh']]['meshes'];_0x87fe91=this['renders'][_0x12363c['mesh']];for(let _0x3d6aa5=0x13de+-0x4d0*0x8+0x12a2;_0x3d6aa5<_0x2a78de['length'];_0x3d6aa5++){const _0x553bcf=_0x2a78de[_0x3d6aa5];if(_0x553bcf){const _0x27deca=_0x6faa7d(_0x5dfb15,_0x43050f,_0x553bcf,_0x4e9b0c['materials'],_0x4e9b0c['meshDefaul'+'tMaterials'],_0x4e9b0c['skins'],_0x12363c,_0x4e9b0c['nodeInstan'+'cingMap']);_0x4a04bc||(_0x4a04bc=[]),_0x4a04bc['push'](_0x27deca);}}}if(_0x4e9b0c['lights']){const _0x380a86=_0x4e9b0c['lights']['get'](_0x12363c);_0x380a86&&_0x43050f['addChild'](_0x380a86['clone']());}if(_0x4e9b0c['cameras']){const _0x52b2f1=_0x4e9b0c['cameras']['get'](_0x12363c);_0x52b2f1&&_0x52b2f1['camera']['system']['cloneCompo'+'nent'](_0x52b2f1,_0x43050f);}}_0x4a04bc&&(_0x43050f['addCompone'+'nt']('render',Object['assign']({'type':'asset','meshInstances':_0x4a04bc},_0x5097b7)),_0x43050f['render']['assignAsse'+'t'](_0x87fe91));const _0x4282ce=_0x5e8398['children'];for(let _0x47194d=-0x3d3+-0x1616+0x19e9;_0x47194d<_0x4282ce['length'];_0x47194d++){const _0x80b142=_0x4d2937(_0x5dfb15,_0x4282ce[_0x47194d],_0x4e9b0c);_0x43050f['addChild'](_0x80b142);}return _0x43050f;},_0x2821b5=[];for(const _0x459700 of this['data']['scenes'])_0x2821b5['push'](_0x4d2937(null,_0x459700,this['data']));return _0x35b436['forEach'](_0x331a5d=>{_0x331a5d['meshInstan'+'ce']['skinInstan'+'ce']=_l['createCach'+'edSkinInst'+'ance'](_0x331a5d['meshInstan'+'ce']['mesh']['skin'],_0x331a5d['rootBone'],_0x331a5d['entity']),_0x331a5d['meshInstan'+'ce']['node']['render']['rootBone']=_0x331a5d['rootBone'];}),yr['createScen'+'eHierarchy'](_0x2821b5,lt);}['getMateria'+'lVariants'](){return this['data']['variants']?Object['keys'](this['data']['variants']):[];}['applyMater'+'ialVariant'](_0x3519aa,_0x332f98){const _0x4a1d30=_0x332f98?this['data']['variants'][_0x332f98]:null;if(_0x4a1d30===void(0x1*0x230b+0x232d+-0x4638)){w['warn']('No\x20variant'+'\x20named\x20'+_0x332f98+('\x20exists\x20in'+'\x20resource'));return;}const _0x1c6822=_0x3519aa['findCompon'+'ents']('render');for(let _0x238d10=0x89*-0x1f+-0xb5*-0x26+-0xa47;_0x238d10<_0x1c6822['length'];_0x238d10++){const _0x5dd31f=_0x1c6822[_0x238d10];this['_applyMate'+'rialVarian'+'t'](_0x4a1d30,_0x5dd31f['meshInstan'+'ces']);}}['applyMater'+'ialVariant'+'Instances'](_0x569e44,_0x328fda){const _0x56310f=_0x328fda?this['data']['variants'][_0x328fda]:null;if(_0x56310f===void(-0x76c+0x1*-0x19f6+0x2162)){w['warn']('No\x20variant'+'\x20named\x20'+_0x328fda+('\x20exists\x20in'+'\x20resource'));return;}this['_applyMate'+'rialVarian'+'t'](_0x56310f,_0x569e44);}['_applyMate'+'rialVarian'+'t'](_0x2a1491,_0x49e6a0){_0x49e6a0['forEach'](_0x296d42=>{if(_0x2a1491===null)_0x296d42['material']=this['_defaultMa'+'terial'];else{const _0x4ef5a6=this['data']['meshVarian'+'ts'][_0x296d42['mesh']['id']];_0x4ef5a6&&(_0x296d42['material']=this['data']['materials'][_0x4ef5a6[_0x2a1491]]);}w['assert'](_0x296d42['material']);});}static['createScen'+'eHierarchy'](_0x32565e,_0xbc4f0){let _0x2fab5b=null;if(_0x32565e['length']===0xf*-0x56+-0x1add+-0x1*-0x1fe8)_0x2fab5b=_0x32565e[0x237e*0x1+0x162*0x18+-0x2*0x2257];else{_0x2fab5b=new _0xbc4f0('SceneGroup');for(const _0x45aeb6 of _0x32565e)_0x2fab5b['addChild'](_0x45aeb6);}return _0x2fab5b;}static['createMode'+'l'](_0x367e1f,_0x5ca2a1){const _0x436ec9=function(_0x26ea5b,_0x266d76,_0x3cf3e3,_0x3fe685,_0x16069b,_0x1b6cb2,_0x3d6024){const _0x17ea2a=_0x367e1f['meshDefaul'+'tMaterials'][_0x266d76['id']],_0x58fdd4=_0x17ea2a===void(0x126c+0xc7c+-0x1ee8)?_0x5ca2a1:_0x16069b[_0x17ea2a],_0x1fc0e0=new He(_0x266d76,_0x58fdd4,_0x1b6cb2);if(_0x266d76['morph']){const _0x21f06f=new xa(_0x266d76['morph']);_0x1fc0e0['morphInsta'+'nce']=_0x21f06f,_0x26ea5b['morphInsta'+'nces']['push'](_0x21f06f);}if(_0x3d6024['hasOwnProp'+'erty']('skin')){const _0x2a14c2=_0x3d6024['skin'],_0x1aebf0=_0x3cf3e3[_0x2a14c2];_0x266d76['skin']=_0x1aebf0;const _0x410146=_0x3fe685[_0x2a14c2];_0x1fc0e0['skinInstan'+'ce']=_0x410146,_0x26ea5b['skinInstan'+'ces']['push'](_0x410146);}_0x26ea5b['meshInstan'+'ces']['push'](_0x1fc0e0);},_0x407989=new sr(),_0x35c93a=[];for(const _0x5087aa of _0x367e1f['skins']){const _0x147e42=new Ol(_0x5087aa);_0x147e42['bones']=_0x5087aa['bones'],_0x35c93a['push'](_0x147e42);}_0x407989['graph']=yr['createScen'+'eHierarchy'](_0x367e1f['scenes'],Ie);for(let _0x36defd=0x708+0x70e+-0xe16;_0x36defd<_0x367e1f['nodes']['length'];_0x36defd++){const _0x3cdf44=_0x367e1f['nodes'][_0x36defd];if(_0x3cdf44['root']===_0x407989['graph']){const _0x19fe9f=_0x367e1f['gltf']['nodes'][_0x36defd];if(_0x19fe9f['hasOwnProp'+'erty']('mesh')){const _0x155222=_0x367e1f['renders'][_0x19fe9f['mesh']]['meshes'];for(let _0x339586=0x99*-0x1b+-0x19c5+-0x95*-0x48;_0x339586<_0x155222['length'];_0x339586++){const _0x5c1527=_0x155222[_0x339586];_0x5c1527&&_0x436ec9(_0x407989,_0x5c1527,_0x367e1f['skins'],_0x35c93a,_0x367e1f['materials'],_0x3cdf44,_0x19fe9f);}}}}return _0x407989;}['destroy'](){const _0x1b99a5=this['_assets'],_0x39146b=function(_0x58a26d){_0x1b99a5['remove'](_0x58a26d),_0x58a26d['unload']();},_0xd3753d=function(_0x329dea){_0x329dea['forEach'](_0x5717eb=>{_0x39146b(_0x5717eb);});};this['animations']&&(_0xd3753d(this['animations']),this['animations']=null),this['textures']&&(_0xd3753d(this['textures']),this['textures']=null),this['materials']&&(_0xd3753d(this['materials']),this['materials']=null),this['renders']&&(_0xd3753d(this['renders']),this['renders']=null),this['_model']&&(_0x39146b(this['_model']),this['_model']=null),this['data']=null,this['assets']=null;}}class KN{constructor(_0x53b703,_0x456470,_0x22df8b){this['_device']=_0x53b703,this['_assets']=_0x456470,this['_defaultMa'+'terial']=kh['createDefa'+'ultMateria'+'l'](),this['maxRetries']=_0x22df8b;}['_getUrlWit'+'houtParams'](_0x561e2b){return _0x561e2b['indexOf']('?')>=0x1bf*0x3+0x14*0x16a+0x2185*-0x1?_0x561e2b['split']('?')[0x1*-0x1b4c+-0x4f*0x52+0x349a]:_0x561e2b;}['load'](_0x117bb6,_0x3c00e8,_0x3d4829){pe['fetchArray'+'Buffer'](_0x117bb6['load'],(_0x5ec0b7,_0x3bcbfd)=>{_0x5ec0b7?_0x3c00e8(_0x5ec0b7):kh['parse'](this['_getUrlWit'+'houtParams'](_0x117bb6['original']),xe['extractPat'+'h'](_0x117bb6['load']),_0x3bcbfd,this['_device'],_0x3d4829['registry'],_0x3d4829['options'],(_0x24bdc2,_0x5dbacb)=>{_0x24bdc2?_0x3c00e8(_0x24bdc2):_0x3c00e8(null,new yr(_0x5dbacb,_0x3d4829,this['_assets'],this['_defaultMa'+'terial']));});},_0x3d4829,this['maxRetries']);}['open'](_0x21ae77,_0x42c9a6,_0x230c62){return _0x42c9a6;}['patch'](_0x4a9e94,_0x41c0ec){}}class ZN extends Qe{constructor(_0x1c8bd5){super(_0x1c8bd5,'container'),this['glbContain'+'erParser']=new KN(_0x1c8bd5['graphicsDe'+'vice'],_0x1c8bd5['assets'],0x17*-0x43+0xe*0x2a2+-0x1*0x1ed7),this['parsers']={};}set['maxRetries'](_0x18d901){this['glbContain'+'erParser']['maxRetries']=_0x18d901;for(const _0x67bf2d in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x67bf2d)&&(this['parsers'][_0x67bf2d]['maxRetries']=_0x18d901);}get['maxRetries'](){return this['glbContain'+'erParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x1a91e9){return _0x1a91e9['indexOf']('?')>=0x150*-0x19+-0x1760+0x3830?_0x1a91e9['split']('?')[0x1fc*0x1+0x1563+-0x175f]:_0x1a91e9;}['_getParser'](_0x41f158){const _0x557038=_0x41f158?xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x41f158))['toLowerCas'+'e']()['replace']('.',''):null;return this['parsers'][_0x557038]||this['glbContain'+'erParser'];}['load'](_0x5973c4,_0x5f073e,_0x2a83ce){typeof _0x5973c4=='string'&&(_0x5973c4={'load':_0x5973c4,'original':_0x5973c4}),this['_getParser'](_0x5973c4['original'])['load'](_0x5973c4,_0x5f073e,_0x2a83ce);}['open'](_0x4f9ed,_0x3d07f7,_0x4ca8e4){return this['_getParser'](_0x4f9ed)['open'](_0x4f9ed,_0x3d07f7,_0x4ca8e4);}}class QN extends Qe{constructor(_0x41e832){super(_0x41e832,'css'),h(this,'decoder',null);}['load'](_0x39a083,_0x89e6d6){typeof _0x39a083=='string'&&(_0x39a083={'load':_0x39a083,'original':_0x39a083}),ot['get'](_0x39a083['load'],{'retry':this['maxRetries']>-0x446*-0x3+0x3a*0x4f+-0x1eb8*0x1,'maxRetries':this['maxRetries']},(_0x4549b5,_0xa27129)=>{_0x4549b5?_0x89e6d6('Error\x20load'+'ing\x20css\x20re'+'source:\x20'+_0x39a083['original']+'\x20['+_0x4549b5+']'):_0x89e6d6(null,_0xa27129);});}['openBinary'](_0x5e9cb5){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x5e9cb5);}}class JN extends Qe{constructor(_0x5552c0){super(_0x5552c0,'cubemap'),this['_device']=_0x5552c0['graphicsDe'+'vice'],this['_registry']=_0x5552c0['assets'],this['_loader']=_0x5552c0['loader'];}['load'](_0x1929bc,_0x5de5f7,_0x2066bb){this['loadAssets'](_0x2066bb,_0x5de5f7);}['open'](_0x13f67f,_0x7cb36d,_0x27a60b){return _0x27a60b?_0x27a60b['resource']:null;}['patch'](_0x4e4253,_0x59eec0){this['loadAssets'](_0x4e4253,(_0x301f10,_0x3fd8f2)=>{_0x301f10&&(_0x59eec0['fire']('error',_0x4e4253),_0x59eec0['fire']('error:'+_0x4e4253['id'],_0x301f10,_0x4e4253),_0x4e4253['fire']('error',_0x4e4253));});}['getAssetId'+'s'](_0x3a01c6){const _0x4950db=[];if(_0x4950db[-0x194a+-0x14f4+0x2e3e]=_0x3a01c6['file'],(_0x3a01c6['loadFaces']||!_0x3a01c6['file'])&&_0x3a01c6['data']&&_0x3a01c6['data']['textures']){for(let _0x396453=0x188e+-0x2454+0xbc6;_0x396453<-0x233b*-0x1+-0x1c8e+-0x6a7;++_0x396453)_0x4950db[_0x396453+(0x1*0xdd3+0x1d64+-0x159b*0x2)]=_0x3a01c6['data']['textures'][_0x396453];}else _0x4950db[-0x17f6+-0x8*-0x2e1+0xef*0x1]=_0x4950db[-0x2*0xea4+-0x97c*0x1+0x26c6]=_0x4950db[-0x150+-0x26f8+0x284b]=_0x4950db[-0x1068+0x556*-0x4+-0x25c4*-0x1]=_0x4950db[-0xd*-0x13f+-0x15eb+0x5bd]=_0x4950db[0x3*-0x2f7+0x9b9+-0xce]=null;return _0x4950db;}['compareAss'+'etIds'](_0x32c637,_0x5c28e4){return _0x32c637&&_0x5c28e4?parseInt(_0x32c637,0x1*0x508+0xecf*0x1+-0x1*0x13cd)===_0x32c637||typeof _0x32c637=='string'?_0x32c637===_0x5c28e4:_0x32c637['url']===_0x5c28e4['url']:_0x32c637!==null==(_0x5c28e4!==null);}['update'](_0x14ae4a,_0x111619,_0x147ea3){const _0x4ae2b4=_0x14ae4a['data']||{},_0x49a649=_0x14ae4a['_handlerSt'+'ate']['assets'],_0x35db76=_0x14ae4a['_resources'];let _0x59b7e2,_0x55864f,_0x2d10cf;const _0x4b8518=[null,null,null,null,null,null,null],_0xa7b230=function(){return _0x4ae2b4['hasOwnProp'+'erty']('type')?_0x4ae2b4['type']:_0x4ae2b4['hasOwnProp'+'erty']('rgbm')?_0x4ae2b4['rgbm']?Zi:Ds:null;};if(!_0x14ae4a['loaded']||_0x147ea3[-0x77*0x4d+0x1*0x248b+0x6*-0x20]!==_0x49a649[-0x1bb9+-0x1ee5+0x138a*0x3]){if(_0x147ea3[-0x2195+-0x123e*0x1+0x33d3]){if(_0x59b7e2=_0x147ea3[0x3*-0x462+0x126f+-0x1*0x549]['resource'],_0x59b7e2['cubemap']){for(_0x2d10cf=0x267f+0x1244+-0x38c3;_0x2d10cf<-0x287+0x2*-0x431+0xaef;++_0x2d10cf)_0x4b8518[_0x2d10cf+(0x1d23*0x1+0xc76+0x8*-0x533)]=new _e(this['_device'],{'name':_0x14ae4a['name']+('_prelitCub'+'emap')+(_0x59b7e2['width']>>_0x2d10cf),'cubemap':!(-0x2*-0xba2+-0x1c*-0xbb+-0x2bb8),'type':_0xa7b230()||_0x59b7e2['type'],'width':_0x59b7e2['width']>>_0x2d10cf,'height':_0x59b7e2['height']>>_0x2d10cf,'format':_0x59b7e2['format'],'levels':[_0x59b7e2['_levels'][_0x2d10cf]],'addressU':ue,'addressV':ue,'mipmaps':_0x2d10cf===-0x1*-0x2395+0x40a*0x2+0x2ba9*-0x1});}else _0x4b8518[-0xed6+-0x20b1+0x2f88]=_0x59b7e2;}}else _0x4b8518[-0x406*-0x5+-0x1*-0x9a1+0x1a7*-0x12]=_0x35db76[-0x12e7+-0x2f*0x8f+0x41b*0xb]||null,_0x4b8518[-0x51*0x3+-0x1d09*-0x1+-0x1c14]=_0x35db76[0x36*-0x32+0x692+-0x14*-0x33]||null,_0x4b8518[0x200*0xc+0x599*0x1+-0x1d96]=_0x35db76[-0x150b+0x1d3b+-0x82d]||null,_0x4b8518[0x2*0x1039+0xae6+-0x2b54]=_0x35db76[0x128c+-0xbdd*0x1+-0x6ab]||null,_0x4b8518[-0x1*0x3a5+0x1a2f*-0x1+-0x9f3*-0x3]=_0x35db76[0x85*0x25+-0x112f+-0x205]||null,_0x4b8518[-0x1*0x19c0+0x22d9+-0x913]=_0x35db76[-0x4*0x7f7+-0x182+0x2164]||null;const _0x1e9a43=_0x147ea3['slice'](0x561+-0x21e8+0x1c88);if(!_0x14ae4a['loaded']||!this['cmpArrays'](_0x1e9a43,_0x49a649['slice'](-0x1d*0xef+-0x183c+0x3350))){if(_0x1e9a43['indexOf'](null)===-(0xf44+-0x1*0x223+-0x1e0*0x7)){const _0x35e12e=_0x1e9a43['map'](_0x15e042=>_0x15e042['resource']),_0x5b1668=[];for(_0x55864f=-0x1d9d+0x173a*-0x1+0x1f5*0x1b;_0x55864f<_0x35e12e[0x2*-0x9b7+0x1*0x2572+-0x1204]['_levels']['length'];++_0x55864f)_0x5b1668['push'](_0x35e12e['map'](_0x392dbb=>_0x392dbb['_levels'][_0x55864f]));const _0xb6d713=_0x35e12e[-0x1a1f+-0x921+0x2340]['format'],_0x354797=new _e(this['_device'],{'name':_0x14ae4a['name']+'_faces','cubemap':!(-0x1b28+-0x10a9*0x2+-0x3c7a*-0x1),'type':_0xa7b230()||_0x35e12e[0x1*0x25c9+-0xa1+-0x2528]['type'],'width':_0x35e12e[-0x1*0x14b1+0x1*-0x7f4+0x1*0x1ca5]['width'],'height':_0x35e12e[0x1*0x886+-0x2398+-0x2b5*-0xa]['height'],'format':_0xb6d713===Cr?Ne:_0xb6d713,'mipmaps':_0x4ae2b4['mipmaps']??!(-0x606*-0x4+-0x597*0x3+-0x7d*0xf),'levels':_0x5b1668,'minFilter':_0x4ae2b4['hasOwnProp'+'erty']('minFilter')?_0x4ae2b4['minFilter']:_0x35e12e[0x16a7+0xf84+0xcb9*-0x3]['minFilter'],'magFilter':_0x4ae2b4['hasOwnProp'+'erty']('magFilter')?_0x4ae2b4['magFilter']:_0x35e12e[0x1*-0x1e23+0x2668+-0x845*0x1]['magFilter'],'anisotropy':_0x4ae2b4['hasOwnProp'+'erty']('anisotropy')?_0x4ae2b4['anisotropy']:-0x16c*-0x1+-0x1*-0xbb7+-0xd22,'addressU':ue,'addressV':ue});_0x4b8518[-0x1eb1*0x1+0x183e+0x673*0x1]=_0x354797;}}else _0x4b8518[0xf*-0x13b+-0x173d+0x4a2*0x9]=_0x35db76[0x223d+0x2*-0x57e+0x1*-0x1741]||null;if(!this['cmpArrays'](_0x4b8518,_0x35db76)){for(_0x14ae4a['resources']=_0x4b8518,_0x14ae4a['_handlerSt'+'ate']['assetIds']=_0x111619,_0x14ae4a['_handlerSt'+'ate']['assets']=_0x147ea3,_0x2d10cf=-0x1*-0x25e3+0x2501*0x1+0x12b9*-0x4;_0x2d10cf<_0x35db76['length'];++_0x2d10cf)_0x35db76[_0x2d10cf]!==null&&_0x4b8518['indexOf'](_0x35db76[_0x2d10cf])===-(-0x160f+0x235e+-0x2*0x6a7)&&_0x35db76[_0x2d10cf]['destroy']();}for(_0x2d10cf=0x264b+0x2f5*-0xd+0x26;_0x2d10cf<_0x49a649['length'];++_0x2d10cf)_0x49a649[_0x2d10cf]!==null&&_0x147ea3['indexOf'](_0x49a649[_0x2d10cf])===-(0x61+0x24dc+-0x253c)&&_0x49a649[_0x2d10cf]['unload']();}['cmpArrays'](_0xe3711a,_0x57c182){if(_0xe3711a['length']!==_0x57c182['length'])return!(0x88f*-0x4+-0x4c4+0x2701);for(let _0x265582=0x6*0x581+0x9b6*0x4+-0x47de;_0x265582<_0xe3711a['length'];++_0x265582)if(_0xe3711a[_0x265582]!==_0x57c182[_0x265582])return!(0x2543*-0x1+-0x2*0x33b+0x2bba);return!(-0x4*0x52c+0x224c+0x43*-0x34);}['resolveId'](_0x52e1f0){const _0x367e26=parseInt(_0x52e1f0,0x689+0x889+-0xf08);return _0x367e26===_0x52e1f0||_0x367e26['toString']()===_0x52e1f0?_0x367e26:_0x52e1f0;}['loadAssets'](_0x34ddf4,_0x1dc88e){_0x34ddf4['hasOwnProp'+'erty']('_handlerSt'+'ate')||(_0x34ddf4['_handlerSt'+'ate']={'assetIds':[null,null,null,null,null,null,null],'assets':[null,null,null,null,null,null,null]});const _0x589d25=this,_0x116692=_0x589d25['getAssetId'+'s'](_0x34ddf4),_0xaf17ca=[null,null,null,null,null,null,null],_0x30988e=_0x34ddf4['_handlerSt'+'ate']['assetIds'],_0x290e36=_0x34ddf4['_handlerSt'+'ate']['assets'],_0x47fd45=_0x589d25['_registry'];let _0x5a8059=-0xa*-0x38+0x1ec0+-0x20e9;const _0x4f9db8=function(_0x4214ae,_0x384484){_0xaf17ca[_0x4214ae]=_0x384484,_0x5a8059--,_0x5a8059===-0x1b92*0x1+-0x6*-0x399+0x5fc&&(_0x589d25['update'](_0x34ddf4,_0x116692,_0xaf17ca),_0x1dc88e(null,_0x34ddf4['resources']));},_0x1680dc=function(_0x30388e,_0x29e61f,_0x598771){_0x1dc88e(_0x29e61f);},_0x49ee84=function(_0x2077e2,_0x2c5780){_0x2c5780['loaded']?_0x4f9db8(_0x2077e2,_0x2c5780):(_0x47fd45['once']('load:'+_0x2c5780['id'],_0x4f9db8['bind'](_0x589d25,_0x2077e2)),_0x47fd45['once']('error:'+_0x2c5780['id'],_0x1680dc['bind'](_0x589d25,_0x2077e2)),_0x2c5780['loading']||_0x47fd45['load'](_0x2c5780));};let _0x17d307;for(let _0x451199=-0xfbb*-0x1+-0x2247+-0x4a3*-0x4;_0x451199<0x710+-0x21b8+0x1aaf;++_0x451199){const _0x108117=this['resolveId'](_0x116692[_0x451199]);if(!_0x108117)_0x4f9db8(_0x451199,null);else{if(_0x589d25['compareAss'+'etIds'](_0x108117,_0x30988e[_0x451199]))_0x49ee84(_0x451199,_0x290e36[_0x451199]);else{if(parseInt(_0x108117,-0x3b*-0x1a+-0x1f10*0x1+0x191c)===_0x108117)_0x17d307=_0x47fd45['get'](_0x108117),_0x17d307?_0x49ee84(_0x451199,_0x17d307):setTimeout(((_0x962bb6,_0x44bb07)=>{const _0x3e897d=_0x47fd45['get'](_0x44bb07);_0x3e897d?_0x49ee84(_0x962bb6,_0x3e897d):_0x1680dc(_0x962bb6,'failed\x20to\x20'+'find\x20depen'+'dent\x20cubem'+'ap\x20asset='+_0x44bb07);})['bind'](null,_0x451199,_0x108117));else{const _0x4750ef=typeof _0x108117=='string'?{'url':_0x108117,'filename':_0x108117}:_0x108117,_0x3e5303=_0x4750ef['url']['search']('.dds')===-(0x59a*0x3+-0x1*-0x18f1+0x14df*-0x2)?{'type':'rgbp','addressu':'clamp','addressv':'clamp','mipmaps':!(-0x469*0x3+0x12ee*-0x2+-0xa38*-0x5)}:null;_0x17d307=new pe(_0x34ddf4['name']+'_part_'+_0x451199,'texture',_0x4750ef,_0x3e5303),_0x47fd45['add'](_0x17d307),_0x49ee84(_0x451199,_0x17d307);}}}}}}class ek extends Qe{constructor(_0x1d0850){super(_0x1d0850,'folder');}['load'](_0x32fbcc,_0x1a0b8d){_0x1a0b8d(null,null);}}class yS{constructor(_0x1f5db4,_0x4e86ad){this['type']=_0x4e86ad&&_0x4e86ad['type']||Rh,this['em']=-0x1f*0x117+0x1*-0x17a8+0x3972,this['textures']=_0x1f5db4,this['intensity']=-0x1*0x24cb+-0x25c6+0x38d*0x15,this['_data']=null,this['data']=_0x4e86ad;}set['data'](_0x5d80cb){if(this['_data']=_0x5d80cb,!!_0x5d80cb&&(this['_data']['intensity']!==void(-0x2ea+0x151*0x3+-0x109)&&(this['intensity']=this['_data']['intensity']),this['_data']['info']||(this['_data']['info']={}),(!this['_data']['version']||this['_data']['version']<-0xd0d*-0x1+-0x534+-0x1*0x7d7)&&(this['_data']['info']['maps']=[{'width':this['_data']['info']['width'],'height':this['_data']['info']['height']}],this['_data']['chars']))){for(const _0x1d0dc7 in this['_data']['chars'])this['_data']['chars'][_0x1d0dc7]['map']=0xb*-0x318+0x4*0x2d+0x2154;}}get['data'](){return this['_data'];}}function Cf(_0xfba52f){return _0xfba52f['version']<-0xe*-0x163+0x185*-0xb+0x8*-0x56&&(_0xfba52f['version']<0xc86+0x1*0x112+-0xd96&&(_0xfba52f['info']['maps']=_0xfba52f['info']['maps']||[{'width':_0xfba52f['info']['width'],'height':_0xfba52f['info']['height']}]),_0xfba52f['chars']=Object['keys'](_0xfba52f['chars']||{})['reduce']((_0x2c9e90,_0xde57c9)=>{const _0xeb5e9=_0xfba52f['chars'][_0xde57c9],_0x137489=_0xeb5e9['letter']!==void(0x26b1+-0x1a02+0xbf*-0x11)?_0xeb5e9['letter']:Hc['fromCodePo'+'int'](_0xde57c9);return _0xfba52f['version']<0x1*-0x1217+0x1*-0x1c0d+0x166*0x21&&(_0xeb5e9['map']=_0xeb5e9['map']||-0x25bc+0x1d0b*0x1+0x8b1),_0x2c9e90[_0x137489]=_0xeb5e9,_0x2c9e90;},{}),_0xfba52f['version']=0x1*0x19a7+0x2*-0xcdf+0x1a),_0xfba52f;}class tk extends Qe{constructor(_0x373396){super(_0x373396,'font'),this['_loader']=_0x373396['loader'],this['maxRetries']=0xe35*-0x1+0x103f*-0x1+-0xf3a*-0x2;}['load'](_0x3999ba,_0x374740,_0x772a1f){typeof _0x3999ba=='string'&&(_0x3999ba={'load':_0x3999ba,'original':_0x3999ba});const _0x5888a7=this;xe['getExtensi'+'on'](_0x3999ba['original'])==='.json'?ot['get'](_0x3999ba['load'],{'retry':this['maxRetries']>-0x96b*-0x1+0xeab+0xc0b*-0x2,'maxRetries':this['maxRetries']},(_0x31db76,_0x51cd1f)=>{if(_0x31db76)_0x374740('Error\x20load'+'ing\x20font\x20r'+'esource:\x20'+_0x3999ba['original']+'\x20['+_0x31db76+']');else{const _0x1c7fd9=Cf(_0x51cd1f);_0x5888a7['_loadTextu'+'res'](_0x3999ba['load']['replace']('.json','.png'),_0x1c7fd9,(_0x560bfd,_0x4bf7cc)=>{_0x560bfd?_0x374740(_0x560bfd):_0x374740(null,{'data':_0x1c7fd9,'textures':_0x4bf7cc});});}}):(_0x772a1f&&_0x772a1f['data']&&(_0x772a1f['data']=Cf(_0x772a1f['data'])),this['_loadTextu'+'res'](_0x3999ba['load'],_0x772a1f&&_0x772a1f['data'],_0x374740));}['_loadTextu'+'res'](_0x4a82f0,_0x5b851e,_0x26e567){const _0x342d26=_0x5b851e['info']['maps']['length'];let _0x4cc7ca=-0x7f*-0x2a+-0x1*0x1b99+0x3*0x241,_0x10390d=null;const _0x1ecc5e=new Array(_0x342d26),_0x54ace4=this['_loader'],_0x27b1db=function(_0x3e97ee){const _0x279dfb=function(_0x5c2e9b,_0x9b1835){if(!_0x10390d){if(_0x5c2e9b){_0x10390d=_0x5c2e9b,_0x26e567(_0x5c2e9b);return;}_0x9b1835['upload'](),_0x1ecc5e[_0x3e97ee]=_0x9b1835,_0x4cc7ca++,_0x4cc7ca===_0x342d26&&_0x26e567(null,_0x1ecc5e);}};_0x3e97ee===0x240d*-0x1+-0x263c+-0x18c3*-0x3?_0x54ace4['load'](_0x4a82f0,'texture',_0x279dfb):_0x54ace4['load'](_0x4a82f0['replace']('.png',_0x3e97ee+'.png'),'texture',_0x279dfb);};for(let _0x11df5b=-0x127e+0xed1+-0x3ad*-0x1;_0x11df5b<_0x342d26;_0x11df5b++)_0x27b1db(_0x11df5b);}['open'](_0x3c228a,_0x3ad4ba,_0x820546){let _0x33b9a3;return _0x3ad4ba['textures']?_0x33b9a3=new yS(_0x3ad4ba['textures'],_0x3ad4ba['data']):_0x33b9a3=new yS(_0x3ad4ba,null),_0x33b9a3;}['patch'](_0x52ca14,_0x52da14){const _0x3b5802=_0x52ca14['resource'];!_0x3b5802['data']&&_0x52ca14['data']?_0x3b5802['data']=_0x52ca14['data']:!_0x52ca14['data']&&_0x3b5802['data']&&(_0x52ca14['data']=_0x3b5802['data']),_0x52ca14['data']&&(_0x52ca14['data']=Cf(_0x52ca14['data']));}}async function sk(){const _0x22bd5e=0x75*0x2+-0x252d+0x1*0x2443+0.28209479177387814;class _0x112252{constructor(_0x544330,_0x368f9a,_0x11955e){this['x']=_0x544330,this['y']=_0x368f9a,this['z']=_0x11955e;}}class _0x1cbd94{constructor(_0x1ba41d,_0xe31a05,_0x47ca16,_0x3cebf5){this['x']=_0x1ba41d,this['y']=_0xe31a05,this['z']=_0x47ca16,this['w']=_0x3cebf5;}}class _0x4fc094{constructor(_0xc3683c,_0x2aff14,_0x31dfab,_0x3085aa){this['x']=_0xc3683c,this['y']=_0x2aff14,this['z']=_0x31dfab,this['w']=_0x3085aa;}['set'](_0x13757e,_0x45b664,_0x1542f8,_0x1497e1){this['x']=_0x13757e,this['y']=_0x45b664,this['z']=_0x1542f8,this['w']=_0x1497e1;}}class _0x330d9a{constructor(_0x6523f,_0x1485ce,_0x220ea0,_0x81d65d,_0x4a72d2,_0x15e7c4,_0x96f14f,_0x3d0de5,_0x37bb85,_0x66c54d,_0x461b09,_0x2decdf,_0xfb4d83,_0x3b40ff){const _0x14a8ae=(_0x2bcf13,_0xcfe699)=>{const _0x5616b7=(0xa75+0x6eb*-0x1+-0x389<<_0xcfe699)-(0x328+0x1224+-0x45*0x4f);return(_0x2bcf13&_0x5616b7)/_0x5616b7;},_0x2681d9=(_0x210197,_0x186ff5)=>{_0x210197['x']=_0x14a8ae(_0x186ff5>>>0xf4b+0x20ae+-0x2fe4,0x6f7*0x4+-0x13a5+-0x82c),_0x210197['y']=_0x14a8ae(_0x186ff5>>>-0x11*-0x18b+-0x3cf+-0x1661,0x174d+-0xbb7+0x4*-0x2e3),_0x210197['z']=_0x14a8ae(_0x186ff5,-0x1ba*0x13+-0x2*-0x5a1+0x1597);},_0x2b5a24=(_0x51a944,_0x3f4fe2)=>{_0x51a944['x']=_0x14a8ae(_0x3f4fe2>>>0xcd*-0xb+0x2225+-0x193e,0x23d0+0x8cd+-0x2c95),_0x51a944['y']=_0x14a8ae(_0x3f4fe2>>>0x851*0x1+0xcdc+-0x151d,-0xf*-0x18a+-0x9df*-0x3+-0x34ab),_0x51a944['z']=_0x14a8ae(_0x3f4fe2>>>0x20b1+0x9f3*-0x1+-0x16b6,-0x1*0x19b1+-0x1c0+0x1*0x1b79),_0x51a944['w']=_0x14a8ae(_0x3f4fe2,-0x15de+-0xa*0x31f+0x8da*0x6);},_0x167daf=(_0x2ede67,_0x4cffbf)=>{const _0x3ff83d=(-0x1ceb+0x1423+0x8c9)/(Math['sqrt'](-0xfb+-0x1b43+0x1c40)*(0x1a1*-0x9+-0x168f+-0x129c*-0x2+0.5)),_0x4f910c=(_0x14a8ae(_0x4cffbf>>>0x173b+-0x2*-0xde2+-0x32eb,-0x1835+0xc*0x48+-0x27*-0x89)-(0x16fa+-0xe66+-0x894+0.5))*_0x3ff83d,_0x4bad73=(_0x14a8ae(_0x4cffbf>>>-0x21b1+0x34*-0x34+0x2c4b,0x7*-0x12b+0x11e6+-0x9af*0x1)-(-0x1*0xc5b+-0x5*0x656+0x2c09+0.5))*_0x3ff83d,_0x508428=(_0x14a8ae(_0x4cffbf,0x20fe+-0x941*-0x4+-0x8*0x8bf)-(-0x1c07+0x11c5*0x1+0xa42+0.5))*_0x3ff83d,_0x267dbf=Math['sqrt'](-0xaae+-0x6ff+0x92*0x1f-(_0x4f910c*_0x4f910c+_0x4bad73*_0x4bad73+_0x508428*_0x508428));switch(_0x4cffbf>>>0x1e9c+-0x17cb+-0x6b3){case 0x29*0x41+-0xbdf+0xb*0x22:_0x2ede67['set'](_0x4f910c,_0x4bad73,_0x508428,_0x267dbf);break;case-0x1b19*0x1+0x1*0xac+0x11*0x18e:_0x2ede67['set'](_0x267dbf,_0x4bad73,_0x508428,_0x4f910c);break;case 0xbd5+0x1*-0x79d+-0x2*0x21b:_0x2ede67['set'](_0x4bad73,_0x267dbf,_0x508428,_0x4f910c);break;case 0x7ae+0x9c1+-0x116c:_0x2ede67['set'](_0x4bad73,_0x508428,_0x267dbf,_0x4f910c);break;}},_0x115c79=(_0x23eb2a,_0x51040d,_0x4a52b6)=>_0x23eb2a*(0x2469+-0x122f+-0x1*0x1239-_0x4a52b6)+_0x51040d*_0x4a52b6,_0x2179e6=[-0x143c+0x1e75+-0xa36,-0x704+-0x109f+0x17ab,0x3*-0x23+-0x2358+0x23d0][_0x96f14f-(-0x1ecb+-0x1026+0x7d3*0x6)],_0x38f6ad=0x191b+-0x1*0x1c8b+0x2*0x1bb;this['read']=_0x4fdcef=>{const _0x2fd1c9=Math['floor'](_0x4fdcef/(-0x6fb*-0x3+-0xf13+0xe*-0x59))*_0x1485ce;if(_0x3d0de5&&(_0x2681d9(_0x3d0de5,_0x220ea0[_0x4fdcef*_0x38f6ad+(0x2702+-0x2*0x61+-0x2640)]),_0x3d0de5['x']=_0x115c79(_0x6523f[_0x2fd1c9+(0x25f0+-0x14ae+-0x1142)],_0x6523f[_0x2fd1c9+(0x1d*-0x29+-0x82f+0xcd7)],_0x3d0de5['x']),_0x3d0de5['y']=_0x115c79(_0x6523f[_0x2fd1c9+(0x11f7+0x1*0xaab+-0x1ca1)],_0x6523f[_0x2fd1c9+(0x1e51+-0x4*0x37d+-0xf*0x117)],_0x3d0de5['y']),_0x3d0de5['z']=_0x115c79(_0x6523f[_0x2fd1c9+(-0x28a*-0x1+-0x4*-0x5b0+-0x329*0x8)],_0x6523f[_0x2fd1c9+(-0x4bc*-0x1+-0x1f84+-0x1*-0x1acd)],_0x3d0de5['z'])),_0x37bb85&&_0x167daf(_0x37bb85,_0x220ea0[_0x4fdcef*_0x38f6ad+(0x9*-0x273+0x1741+-0x135)]),_0x66c54d&&(_0x2681d9(_0x66c54d,_0x220ea0[_0x4fdcef*_0x38f6ad+(0x245*-0x9+-0x157a+0x29e9)]),_0x66c54d['x']=_0x115c79(_0x6523f[_0x2fd1c9+(-0x1*0x5a8+-0x8*-0x479+-0x1e1a)],_0x6523f[_0x2fd1c9+(-0x160f+-0x3b+0x9*0x27b)],_0x66c54d['x']),_0x66c54d['y']=_0x115c79(_0x6523f[_0x2fd1c9+(0x1*0x139d+-0x1295+-0x1*0x101)],_0x6523f[_0x2fd1c9+(0x1d2d+0x2056+-0x3d79)],_0x66c54d['y']),_0x66c54d['z']=_0x115c79(_0x6523f[_0x2fd1c9+(-0x14d7+-0x2c*0x4c+0x21ef)],_0x6523f[_0x2fd1c9+(0x3*0xcd4+0xe31+-0x34a2)],_0x66c54d['z'])),_0x461b09&&(_0x2b5a24(_0x461b09,_0x220ea0[_0x4fdcef*_0x38f6ad+(0x267*-0x6+-0x1d9d+0x2c0a)]),_0x1485ce>-0x173a+-0x1483*-0x1+0x2c3&&(_0x461b09['x']=_0x115c79(_0x6523f[_0x2fd1c9+(0x24a+0x92f+0xc3*-0xf)],_0x6523f[_0x2fd1c9+(0xd7c+0x1539+0x2*-0x1153)],_0x461b09['x']),_0x461b09['y']=_0x115c79(_0x6523f[_0x2fd1c9+(-0x1b88+-0xe6b*0x1+0x30*0xe0)],_0x6523f[_0x2fd1c9+(0x1331*-0x2+-0x2*-0x107+0x2464)],_0x461b09['y']),_0x461b09['z']=_0x115c79(_0x6523f[_0x2fd1c9+(-0x84d+-0x1d80*0x1+-0x1*-0x25db)],_0x6523f[_0x2fd1c9+(0xea8+0x20e5+0x1*-0x2f7c)],_0x461b09['z']))),_0x2decdf&&(_0x2681d9(_0x2decdf,_0x220ea0[_0x4fdcef*_0x38f6ad+(0x23c5+0x148a+0x384b*-0x1)]),_0x2decdf['x']=_0x115c79(_0x6523f[_0x2fd1c9+(-0x233a+0x8e4+0x1a68)],_0x6523f[_0x2fd1c9+(0x20b2+-0x2519+0x47c)],_0x2decdf['x']),_0x2decdf['y']=_0x115c79(_0x6523f[_0x2fd1c9+(-0x16d6+0x4c9*0x2+0x2ab*0x5)],_0x6523f[_0x2fd1c9+(0x71d*-0x4+-0x1b3b*-0x1+0x14f)],_0x2decdf['y']),_0x2decdf['z']=_0x115c79(_0x6523f[_0x2fd1c9+(-0x1b6+-0x10*-0xd6+-0x5cb*0x2)],_0x6523f[_0x2fd1c9+(-0x464*-0x7+0x1*0x2555+-0x43fa)],_0x2decdf['z'])),_0xfb4d83&&(_0x2681d9(_0xfb4d83,_0x220ea0[_0x4fdcef*_0x38f6ad+(-0x1*-0xa63+-0x9e4+-0x7a)]),_0xfb4d83['x']=_0x115c79(_0x6523f[_0x2fd1c9+(0x17c5*-0x1+-0x1*0x628+0x5*0x601)],_0x6523f[_0x2fd1c9+(0x2297+0x71*0x35+-0x39e3)],_0xfb4d83['x']),_0xfb4d83['y']=_0x115c79(_0x6523f[_0x2fd1c9+(0x16de+0x263c+-0x20*0x1e8)],_0x6523f[_0x2fd1c9+(-0x430+-0x7*0x8+0x5*0xe7)],_0xfb4d83['y'])),_0x3b40ff&&_0x96f14f>0x1285+-0x2046+-0x1f7*-0x7){const _0x37817a=[_0x81d65d,_0x4a72d2,_0x15e7c4];for(let _0x504eea=0x80e*0x4+-0x51c*-0x1+0x1*-0x2554;_0x504eea<-0x1638+0x1d54+0x719*-0x1;++_0x504eea)for(let _0xc543a7=0x168c+-0x24f8+0x47*0x34;_0xc543a7<0xd7+-0x66*-0x2b+-0x11ea*0x1;++_0xc543a7)_0x3b40ff[_0x504eea*(-0x2048+-0x1703*-0x1+-0x6*-0x18e)+_0xc543a7]=_0xc543a7<_0x2179e6?_0x37817a[_0x504eea][_0x4fdcef*(0xa7+0x1e53+0x2*-0xf75)+_0xc543a7]*((-0xdff+0x2049+-0x30b*0x6)/(-0x25bd+-0x8db+0x2f97))-(-0x2038+-0x266b+0x46a7):-0x3*-0xc65+0x12*0x7d+-0x3*0xf53;}};}}self['onmessage']=async _0x3eea30=>{const {data:_0xfce721}=_0x3eea30;switch(_0xfce721['type']){case'initWorker':break;case'decompress':_0x43a5cc(_0xfce721['numSplats'],_0xfce721['chunkData'],_0xfce721['chunkSize'],_0xfce721['vertexData'],_0xfce721['shData0'],_0xfce721['shData1'],_0xfce721['shData2'],_0xfce721['shBands']);break;}};const _0x43a5cc=(_0x565f12,_0xc353c3,_0x54f075,_0xc03269,_0x16c54f,_0x103dd0,_0x31b11a,_0x25a2c7)=>{const _0x4fe2f1=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'];if(_0x25a2c7>0x1*-0x1d2f+-0x171*0x3+0x2182){const _0x3c10f4=[];for(let _0x1c0e63=-0x2549+-0x17c6+-0x8b9*-0x7;_0x1c0e63<-0x877+0x4*-0x457+0x1a00*0x1;++_0x1c0e63)_0x3c10f4['push']('f_rest_'+_0x1c0e63);_0x4fe2f1['splice'](_0x4fe2f1['indexOf']('f_dc_0')+(-0x2*0x5c9+0x1*-0x25cf+0x3162),0xd3c+0xe10+0x1*-0x1b4c,..._0x3c10f4);}const _0x436d3f={};_0x4fe2f1['forEach'](_0x31f3dd=>{_0x436d3f[_0x31f3dd]=new Float32Array(_0x565f12);});const _0x7a0787=new _0x112252(),_0x5ae542=new _0x4fc094(),_0x1475db=new _0x112252(),_0x48dc83=new _0x1cbd94(),_0x345a7b=new _0x112252(),_0x3f7ca6=new _0x112252(),_0x35b220=_0x25a2c7>-0x857*-0x1+0x8c1+0x223*-0x8?new Float32Array(-0x1b8c+0x178b+0x42e):null,_0x9e51b6=new _0x330d9a(_0xc353c3,_0x54f075,_0xc03269,_0x16c54f,_0x103dd0,_0x31b11a,_0x25a2c7,_0x7a0787,_0x5ae542,_0x1475db,_0x48dc83,_0x345a7b,_0x3f7ca6,_0x35b220);for(let _0x13a800=-0x5e3+0xbf*-0x1f+-0xe82*-0x2;_0x13a800<_0x565f12;++_0x13a800)if(_0x9e51b6['read'](_0x13a800),_0x436d3f['x'][_0x13a800]=_0x7a0787['x'],_0x436d3f['y'][_0x13a800]=_0x7a0787['y'],_0x436d3f['z'][_0x13a800]=_0x7a0787['z'],_0x436d3f['rot_1'][_0x13a800]=_0x5ae542['x'],_0x436d3f['rot_2'][_0x13a800]=_0x5ae542['y'],_0x436d3f['rot_3'][_0x13a800]=_0x5ae542['z'],_0x436d3f['rot_0'][_0x13a800]=_0x5ae542['w'],_0x436d3f['scale_0'][_0x13a800]=_0x1475db['x'],_0x436d3f['scale_1'][_0x13a800]=_0x1475db['y'],_0x436d3f['scale_2'][_0x13a800]=_0x1475db['z'],_0x436d3f['motion_0'][_0x13a800]=_0x345a7b['x'],_0x436d3f['motion_1'][_0x13a800]=_0x345a7b['y'],_0x436d3f['motion_2'][_0x13a800]=_0x345a7b['z'],_0x436d3f['t_scale'][_0x13a800]=_0x3f7ca6['x'],_0x436d3f['t'][_0x13a800]=_0x3f7ca6['y'],_0x436d3f['f_dc_0'][_0x13a800]=(_0x48dc83['x']-(0x1f4a+0x1a09+-0x3953+0.5))/_0x22bd5e,_0x436d3f['f_dc_1'][_0x13a800]=(_0x48dc83['y']-(-0x1*-0x33f+0x8a6+-0xbe5+0.5))/_0x22bd5e,_0x436d3f['f_dc_2'][_0x13a800]=(_0x48dc83['z']-(-0x18b2+0x9e4+0x1*0xece+0.5))/_0x22bd5e,_0x436d3f['opacity'][_0x13a800]=_0x48dc83['w']<=0x1d6e+-0x19cd*0x1+0x3a1*-0x1?-(-0x1217+0x19c9+0x182*-0x5):_0x48dc83['w']>=0x739*0x3+-0x146d+0x1*-0x13d?-0xfa3+-0x4*-0x363+0x23f:-Math['log']((-0x425+0x1c8c+-0x1866)/_0x48dc83['w']-(0x548*0x5+0xa*0x36b+0x1*-0x3c95)),_0x35b220){for(let _0x38b3af=0xa57+-0x2037*0x1+-0x19*-0xe0;_0x38b3af<-0xb2*-0x31+0x230a+-0x44ef;++_0x38b3af)_0x436d3f['f_rest_'+_0x38b3af][_0x13a800]=_0x35b220[_0x38b3af];}let _0x47d994={'x':_0x436d3f['x'],'y':_0x436d3f['y'],'z':_0x436d3f['z'],'rot_1':_0x436d3f['rot_1'],'rot_2':_0x436d3f['rot_2'],'rot_3':_0x436d3f['rot_3'],'rot_0':_0x436d3f['rot_0'],'scale_0':_0x436d3f['scale_0'],'scale_1':_0x436d3f['scale_1'],'scale_2':_0x436d3f['scale_2'],'motion_0':_0x436d3f['motion_0'],'motion_1':_0x436d3f['motion_1'],'motion_2':_0x436d3f['motion_2'],'t_scale':_0x436d3f['t_scale'],'t':_0x436d3f['t'],'f_dc_0':_0x436d3f['f_dc_0'],'f_dc_1':_0x436d3f['f_dc_1'],'f_dc_2':_0x436d3f['f_dc_2'],'opacity':_0x436d3f['opacity']};_0x35b220&&(_0x47d994={..._0x47d994,'f_rest_0':_0x436d3f['f_rest_0'],'f_rest_1':_0x436d3f['f_rest_1'],'f_rest_2':_0x436d3f['f_rest_2'],'f_rest_3':_0x436d3f['f_rest_3'],'f_rest_4':_0x436d3f['f_rest_4'],'f_rest_5':_0x436d3f['f_rest_5'],'f_rest_6':_0x436d3f['f_rest_6'],'f_rest_7':_0x436d3f['f_rest_7'],'f_rest_8':_0x436d3f['f_rest_8'],'f_rest_9':_0x436d3f['f_rest_9'],'f_rest_10':_0x436d3f['f_rest_10'],'f_rest_11':_0x436d3f['f_rest_11'],'f_rest_12':_0x436d3f['f_rest_12'],'f_rest_13':_0x436d3f['f_rest_13'],'f_rest_14':_0x436d3f['f_rest_14'],'f_rest_15':_0x436d3f['f_rest_15'],'f_rest_16':_0x436d3f['f_rest_16'],'f_rest_17':_0x436d3f['f_rest_17'],'f_rest_18':_0x436d3f['f_rest_18'],'f_rest_19':_0x436d3f['f_rest_19'],'f_rest_20':_0x436d3f['f_rest_20'],'f_rest_21':_0x436d3f['f_rest_21'],'f_rest_22':_0x436d3f['f_rest_22'],'f_rest_23':_0x436d3f['f_rest_23'],'f_rest_24':_0x436d3f['f_rest_24'],'f_rest_25':_0x436d3f['f_rest_25'],'f_rest_26':_0x436d3f['f_rest_26'],'f_rest_27':_0x436d3f['f_rest_27'],'f_rest_28':_0x436d3f['f_rest_28'],'f_rest_29':_0x436d3f['f_rest_29'],'f_rest_30':_0x436d3f['f_rest_30'],'f_rest_31':_0x436d3f['f_rest_31'],'f_rest_32':_0x436d3f['f_rest_32'],'f_rest_33':_0x436d3f['f_rest_33'],'f_rest_34':_0x436d3f['f_rest_34'],'f_rest_35':_0x436d3f['f_rest_35'],'f_rest_36':_0x436d3f['f_rest_36'],'f_rest_37':_0x436d3f['f_rest_37'],'f_rest_38':_0x436d3f['f_rest_38'],'f_rest_39':_0x436d3f['f_rest_39'],'f_rest_40':_0x436d3f['f_rest_40'],'f_rest_41':_0x436d3f['f_rest_41'],'f_rest_42':_0x436d3f['f_rest_42'],'f_rest_43':_0x436d3f['f_rest_43'],'f_rest_44':_0x436d3f['f_rest_44']});const _0x3c3804=Object['values'](_0x47d994)['map'](_0x253b77=>_0x253b77['buffer']);self['postMessag'+'e']({'type':'decompress'+'ed','data':_0x47d994},_0x3c3804);};}class ik extends me{constructor(){super(),h(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+sk['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x4446a2=>{if(!this['worker'])return;const {data:_0x3a304b}=_0x4446a2;switch(_0x3a304b['type']){case'decompress'+'ed':console['log']('decompress'+'ed'),this['fire']('decompress'+'ed',_0x3a304b['data']);break;}};}['decompress'](_0x1461a3,_0x12cf02,_0x5e12f6,_0x1d248b,_0x2bddd6,_0x46655b,_0x569eb9,_0x29cd99){const _0x3aed72=[_0x12cf02['buffer'],_0x1d248b['buffer']];_0x2bddd6&&_0x3aed72['push'](_0x2bddd6['buffer']),_0x46655b&&_0x3aed72['push'](_0x46655b['buffer']),_0x569eb9&&_0x3aed72['push'](_0x569eb9['buffer']),this['worker']['postMessag'+'e']({'type':'decompress','numSplats':_0x1461a3,'chunkData':_0x12cf02,'chunkSize':_0x5e12f6,'vertexData':_0x1d248b,'shData0':_0x2bddd6,'shData1':_0x46655b,'shData2':_0x569eb9,'shBands':_0x29cd99},_0x3aed72);}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}class rk{constructor(_0x3fee1d,_0x5aa2f9,_0x55f94f,_0x499068,_0x2b969b,_0x286f57,_0x4cb114,_0x2ef026){const _0x3ea60d=(_0x529016,_0x37d20c)=>{const _0x4b7b57=(-0x655+-0x3*0x5ef+0x1823<<_0x37d20c)-(0x7c*-0x25+-0xa3*-0x23+-0x45c);return(_0x529016&_0x4b7b57)/_0x4b7b57;},_0xc3face=(_0x60cf63,_0x5979b0)=>{_0x60cf63['x']=_0x3ea60d(_0x5979b0>>>0x2*0xf4e+-0x20f8+-0x19*-0x19,-0x6a3*-0x2+-0x33*-0xb3+0x1872*-0x2),_0x60cf63['y']=_0x3ea60d(_0x5979b0>>>-0x1881+-0x1035+-0x1*-0x28c1,-0x1*-0x149f+-0x17*0xad+-0x3*0x1ae),_0x60cf63['z']=_0x3ea60d(_0x5979b0,0x985*-0x1+0x7*-0x330+0x18*0x154);},_0x428dbf=(_0x35b7fa,_0x14960b)=>{_0x35b7fa['x']=_0x3ea60d(_0x14960b>>>0x1db2+0x9*-0x2e3+0x135*-0x3,-0x508*-0x4+-0x25cf+0x11b7),_0x35b7fa['y']=_0x3ea60d(_0x14960b>>>-0x22b3+0x174+-0x214f*-0x1,-0x3*0x86a+0x926+0x1020),_0x35b7fa['z']=_0x3ea60d(_0x14960b>>>0xaf*0x1f+0x10fd*-0x2+-0x1*-0xcd1,-0x249d+0x2b0*0xd+0x1b5),_0x35b7fa['w']=_0x3ea60d(_0x14960b,0x1ab7*0x1+0x2194+-0x1*0x3c43);},_0x1c9237=(_0x434bfa,_0x1761c6)=>{const _0x14436a=(0x1*0xe27+0x194d+-0x1*0x2773)/(Math['sqrt'](-0x18f2+-0x5d5*-0x3+0x775)*(0x14c*0x4+-0x1595+0x1065+0.5)),_0x2e2ee1=(_0x3ea60d(_0x1761c6>>>0xbe*-0x23+0x237*0x7+0x49*0x25,-0x3*0x1fd+0x1fee*0x1+-0x19ed)-(-0xd8d*0x2+-0x14c3+0x2fdd*0x1+0.5))*_0x14436a,_0x1401d5=(_0x3ea60d(_0x1761c6>>>-0x90e*-0x4+0x112c+0x1*-0x355a,-0x1bb6+-0xac*-0x12+0xfa8)-(0x35*0x9d+-0x2*-0x605+-0x3*0xed9+0.5))*_0x14436a,_0x363019=(_0x3ea60d(_0x1761c6,-0x2185+0x1a05*-0x1+0x3b94)-(0x5f0+0xc7*-0x8+0x12*0x4+0.5))*_0x14436a,_0x1137b3=Math['sqrt'](0x5*-0x626+-0xfbf*-0x2+0xbf*-0x1-(_0x2e2ee1*_0x2e2ee1+_0x1401d5*_0x1401d5+_0x363019*_0x363019));switch(_0x1761c6>>>-0x25e5+0x3*-0x2e9+0x2ebe){case 0x5*0x80+0xfaa+-0x5*0x3a2:_0x434bfa['set'](_0x2e2ee1,_0x1401d5,_0x363019,_0x1137b3);break;case 0x37b*0x5+-0x26a0+0x153a:_0x434bfa['set'](_0x1137b3,_0x1401d5,_0x363019,_0x2e2ee1);break;case 0x20b*-0xd+-0x1a*-0xac+0x1*0x919:_0x434bfa['set'](_0x1401d5,_0x1137b3,_0x363019,_0x2e2ee1);break;case 0x1343+0x319*-0x9+-0x2f*-0x2f:_0x434bfa['set'](_0x1401d5,_0x363019,_0x1137b3,_0x2e2ee1);break;}},_0x2b685e=(_0x253b31,_0x18804a,_0x56f7f7)=>_0x253b31*(0x94b*-0x3+-0x1f0*0x6+0x2782-_0x56f7f7)+_0x18804a*_0x56f7f7,{chunkData:_0x36f206,chunkSize:_0x3e8abc,vertexData:_0x4e4e66,shData0:_0x25e425,shData1:_0x57a2c6,shData2:_0x24d21f,shBands:_0x59df53}=_0x3fee1d,_0x120015=[-0x94+0x6*-0x565+0xd*0x289,0x2433+-0x9dd+0x103*-0x1a,-0x66d+-0x2*-0xb9c+-0xe*0x132][_0x59df53-(0x17f5*0x1+-0x775*-0x3+-0x2e53)],_0x8f5841=0xa04+0x2e7*-0x7+0x1*0xa53;this['read']=_0x2cbb05=>{const _0x117908=Math['floor'](_0x2cbb05/(0x143e+0x16b4+0x33a*-0xd))*_0x3e8abc;if(_0x5aa2f9&&(_0xc3face(_0x5aa2f9,_0x4e4e66[_0x2cbb05*_0x8f5841+(-0x283*-0x7+0x16b8+-0x284d)]),_0x5aa2f9['x']=_0x2b685e(_0x36f206[_0x117908+(-0x1583+-0x1*0x1f3+0x1776)],_0x36f206[_0x117908+(-0x16f6+-0x1*0x1bb3+0x32ac)],_0x5aa2f9['x']),_0x5aa2f9['y']=_0x2b685e(_0x36f206[_0x117908+(-0x11d2+0x9c5*-0x2+0x255d)],_0x36f206[_0x117908+(-0x238+0x2*-0xe79+0x1f2e)],_0x5aa2f9['y']),_0x5aa2f9['z']=_0x2b685e(_0x36f206[_0x117908+(0x6d*0x13+-0x216d*0x1+0x1958)],_0x36f206[_0x117908+(-0x15d0+0xa22*0x1+0xbb3)],_0x5aa2f9['z'])),_0x55f94f&&_0x1c9237(_0x55f94f,_0x4e4e66[_0x2cbb05*_0x8f5841+(0xb58+0xf*0x11f+-0x44*0x6a)]),_0x499068&&(_0xc3face(_0x499068,_0x4e4e66[_0x2cbb05*_0x8f5841+(-0x2*-0xe1d+0x814*0x1+0x1226*-0x2)]),_0x499068['x']=_0x2b685e(_0x36f206[_0x117908+(0x603*0x1+0x39a+-0x997)],_0x36f206[_0x117908+(0x6*0x36c+0x2244+-0x1241*0x3)],_0x499068['x']),_0x499068['y']=_0x2b685e(_0x36f206[_0x117908+(-0x3b8*0x2+-0x18c8+0x203f)],_0x36f206[_0x117908+(-0xb*0x2cf+-0xb1f*0x2+0x352d)],_0x499068['y']),_0x499068['z']=_0x2b685e(_0x36f206[_0x117908+(0x75*-0x26+0x1*-0x224d+0x33b3*0x1)],_0x36f206[_0x117908+(-0x79*-0x29+0x17ef+-0x2b45)],_0x499068['z'])),_0x2b969b&&(_0x428dbf(_0x2b969b,_0x4e4e66[_0x2cbb05*_0x8f5841+(0x2c9*-0x1+0x1*0x6aa+-0x3de)]),_0x3e8abc>-0x1e0d+-0xbc5+0x17*0x1d2&&(_0x2b969b['x']=_0x2b685e(_0x36f206[_0x117908+(-0x48*0x73+-0x7e*0x36+0x66*0x94)],_0x36f206[_0x117908+(0x1429+-0x1*0x1b7+-0x1263)],_0x2b969b['x']),_0x2b969b['y']=_0x2b685e(_0x36f206[_0x117908+(0x1cc7+-0x1101+-0xbb9)],_0x36f206[_0x117908+(-0x645+0x1c72+-0x161d)],_0x2b969b['y']),_0x2b969b['z']=_0x2b685e(_0x36f206[_0x117908+(0x2*0x14d+-0x13c3+-0x1137*-0x1)],_0x36f206[_0x117908+(0x19d3*-0x1+-0xb76+0x255a)],_0x2b969b['z']))),_0x286f57&&(_0xc3face(_0x286f57,_0x4e4e66[_0x2cbb05*_0x8f5841+(0x119+-0x8f9+-0x14*-0x65)]),_0x286f57['x']=_0x2b685e(_0x36f206[_0x117908+(0x1750+-0x1d81+0x643)],_0x36f206[_0x117908+(-0x21*0xfa+-0x1078+0x30c7*0x1)],_0x286f57['x']),_0x286f57['y']=_0x2b685e(_0x36f206[_0x117908+(-0x867+-0xc43+0x14bd*0x1)],_0x36f206[_0x117908+(0x277*0x7+-0x23f0+0x12c5)],_0x286f57['y']),_0x286f57['z']=_0x2b685e(_0x36f206[_0x117908+(0x4e6+0x1*0x1123+0x323*-0x7)],_0x36f206[_0x117908+(0x1*0x163d+0x14d6+-0x2afc)],_0x286f57['z'])),_0x4cb114&&(_0xc3face(_0x4cb114,_0x4e4e66[_0x2cbb05*_0x8f5841+(0x4*0x24+-0x13*-0x164+-0x1af7)]),_0x4cb114['x']=_0x2b685e(_0x36f206[_0x117908+(0x156+-0x1219*-0x2+-0x2570)],_0x36f206[_0x117908+(0x2605*0x1+0xd36+-0x23*0x176)],_0x4cb114['x']),_0x4cb114['y']=_0x2b685e(_0x36f206[_0x117908+(0x6*-0x60a+-0x1*-0x165a+0xdfc)],_0x36f206[_0x117908+(-0x2116+0x13bb+0x6bb*0x2)],_0x4cb114['y'])),_0x2ef026&&_0x59df53>-0x18a6+0xc6e+-0x17*-0x88){const _0x3113d3=[_0x25e425,_0x57a2c6,_0x24d21f];for(let _0x41809a=0x2*0x5d5+-0x3*0xa61+0x1379;_0x41809a<0x5*-0x4ff+-0x2*0x100d+-0x18*-0x261;++_0x41809a)for(let _0x4deda0=0xe*-0x2b+0x1e30+-0x1bd6;_0x4deda0<-0x1b35+-0x2*0xd8a+0x25*0x178;++_0x4deda0)_0x2ef026[_0x41809a*(-0x14ec+0x4e9+0x176*0xb)+_0x4deda0]=_0x4deda0<_0x120015?_0x3113d3[_0x41809a][_0x2cbb05*(-0xc6e+0xad+0x25d*0x5)+_0x4deda0]*((-0x201f+-0x2+0x2029)/(-0x2*-0x10fb+-0x220c*-0x1+0xd67*-0x5))-(0x165a+-0x2617*0x1+0xfc1):0x2b*0x8b+-0x1785+0x2*0x16;}};}}class ak{constructor(){h(this,'numSplats'),h(this,'comments'),h(this,'chunkData'),h(this,'vertexData'),h(this,'is4D'),h(this,'shData0'),h(this,'shData1'),h(this,'shData2'),h(this,'shBands');}['createIter'](_0x527f4c,_0x546420,_0x53baa6,_0x58415b,_0x2686dd,_0x5afa53,_0x443a14){return new rk(this,_0x527f4c,_0x546420,_0x53baa6,_0x58415b,_0x2686dd,_0x5afa53,_0x443a14);}['calcAabb'](_0x793c68){const {chunkData:_0x43346a,numChunks:_0x471dcc,chunkSize:_0x12fc54}=this;let _0x502224=Math['exp'](Math['max'](_0x43346a[-0x17bd+0x20b+0x15bb*0x1],_0x43346a[0x76b*-0x2+-0x57d*0x6+0x17e7*0x2],_0x43346a[0x21f0+0x1126+-0x330b])),_0x102232=_0x43346a[-0xeba+0x1*-0x15ec+0x1253*0x2]-_0x502224,_0x4138e8=_0x43346a[0x1*0x2169+0x409*0x7+-0x3da7]-_0x502224,_0x546f5c=_0x43346a[0xe3*0x1+-0xa6e+0x98d]-_0x502224,_0x333bdd=_0x43346a[-0x114b*0x1+-0xda1+-0x1*-0x1eef]+_0x502224,_0x59d658=_0x43346a[-0x1d54+-0xf7a+0x2*0x1669]+_0x502224,_0x2975b9=_0x43346a[0xfb*-0xb+0x16*-0xcb+0x1c40]+_0x502224;for(let _0x101fbe=-0x94c+-0xbc+-0x1*-0xa09;_0x101fbe<_0x471dcc;++_0x101fbe){const _0x3ccf65=_0x101fbe*_0x12fc54;_0x502224=Math['exp'](Math['max'](_0x43346a[_0x3ccf65+(0x1*-0x679+0x20fa+-0x1a78)],_0x43346a[_0x3ccf65+(0x810+0x18d9+0x9*-0x3a7)],_0x43346a[_0x3ccf65+(0x1*-0x20b1+0x1c4c+-0x8e*-0x8)])),_0x102232=Math['min'](_0x102232,_0x43346a[_0x3ccf65+(0x18e9+-0x15c2*-0x1+-0x2eab)]-_0x502224),_0x4138e8=Math['min'](_0x4138e8,_0x43346a[_0x3ccf65+(-0xa3d+-0x2625+-0x3*-0x1021)]-_0x502224),_0x546f5c=Math['min'](_0x546f5c,_0x43346a[_0x3ccf65+(-0x25a5*0x1+-0x1bb4+0x415b)]-_0x502224),_0x333bdd=Math['max'](_0x333bdd,_0x43346a[_0x3ccf65+(0x2347+-0x2ad+-0x2097)]+_0x502224),_0x59d658=Math['max'](_0x59d658,_0x43346a[_0x3ccf65+(0x2*0x38b+0xb9*0x30+-0x29c2)]+_0x502224),_0x2975b9=Math['max'](_0x2975b9,_0x43346a[_0x3ccf65+(0xcd1+0xb47+-0x1813*0x1)]+_0x502224);}return _0x793c68['center']['set']((_0x102232+_0x333bdd)*(-0x3*0x194+-0x18c4+0x1d80+0.5),(_0x4138e8+_0x59d658)*(-0x1*-0xf31+0x1c7d+0x1*-0x2bae+0.5),(_0x546f5c+_0x2975b9)*(-0x16de+0x1*0x7a6+0x3ce*0x4+0.5)),_0x793c68['halfExtent'+'s']['set']((_0x333bdd-_0x102232)*(-0x19a2+0x1237+0x76b*0x1+0.5),(_0x59d658-_0x4138e8)*(-0x1451*-0x1+-0xd8a+0x5*-0x15b+0.5),(_0x2975b9-_0x546f5c)*(0x6a4*0x5+0x229e+-0x43d2*0x1+0.5)),!(-0xd4c+0x1*0x156d+-0x821);}['getCenters'](_0x15fac7){const {vertexData:_0x40b7f8,chunkData:_0x4cd410,numChunks:_0x5a279,chunkSize:_0x383c2f}=this;let _0x59a1ec,_0xbd64d2,_0x5808ed,_0x2c16ff,_0x403c4d,_0x1da5fe;for(let _0x25ed9d=0x2351+0xb0c*0x2+-0x3969;_0x25ed9d<_0x5a279;++_0x25ed9d){const _0x598ac2=_0x25ed9d*_0x383c2f;_0x59a1ec=_0x4cd410[_0x598ac2+(-0x43*0x2b+0x26*-0x58+0x1851)],_0xbd64d2=_0x4cd410[_0x598ac2+(-0x8c5*-0x4+0x454*0x6+-0x3d0b)],_0x5808ed=_0x4cd410[_0x598ac2+(0x2145+-0x159d+-0xba6)],_0x2c16ff=_0x4cd410[_0x598ac2+(0x244a+0x88*0x42+-0x4757)],_0x403c4d=_0x4cd410[_0x598ac2+(0x6*0x7b+-0x55*-0x57+-0x1fc1)],_0x1da5fe=_0x4cd410[_0x598ac2+(-0x1*-0x1dbd+0x1686+-0x343e)];const _0x3246e8=Math['min'](this['numSplats'],(_0x25ed9d+(0x1*-0x1939+0x2348+-0xa0e))*(0x264f+-0x20f8+-0xb*0x65));for(let _0x606fe5=_0x25ed9d*(-0x1*-0x244d+0x65*0x1d+-0x3e*0xc1);_0x606fe5<_0x3246e8;++_0x606fe5){const _0x58edee=_0x40b7f8[_0x606fe5*(-0xef7*-0x2+0xa95+-0x287f)],_0x25e79f=(_0x58edee>>>0x1890+0x2695+-0x3f10)/(0x1f66+0x19de+-0x3145),_0x241f12=(_0x58edee>>>-0x2133+0x6fb*-0x1+-0x1*-0x2839&-0x11e3+0x160a+0x1*-0x28)/(0x2502+0x1426+-0x1b7*0x1f),_0xec34a1=(_0x58edee&0x4*-0x8db+-0x1*-0x5ad+0x25be)/(0x15b2+-0x106f+-0x32*-0xe);_0x15fac7[_0x606fe5*(0x1*-0x36c+-0x2aa*0xb+0x20bd)+(0x4*0x54+-0xf79+0xe29)]=(0x5*-0x67f+0x823+0x1859-_0x25e79f)*_0x59a1ec+_0x25e79f*_0x2c16ff,_0x15fac7[_0x606fe5*(0x2259+-0x1d27+-0x1*0x52f)+(0x1*0x1bae+-0x1873+-0x1*0x33a)]=(-0x1*-0xca3+-0x12df+0x63d-_0x241f12)*_0xbd64d2+_0x241f12*_0x403c4d,_0x15fac7[_0x606fe5*(-0x1105+0x1a*0x7c+0x470)+(0xd6*0x26+0x610+-0x25d2)]=(-0x2282+0x172a+0x19f*0x7-_0xec34a1)*_0x5808ed+_0xec34a1*_0x1da5fe;}}}['getChunks'](_0x1b1602){const {chunkData:_0xee34f3,numChunks:_0x2e7fff,chunkSize:_0x2c13bc}=this;let _0x5f01ad,_0x5c3d7c,_0x2dd53c,_0x585d52,_0x274ca,_0x1ff460;for(let _0x418ca8=0x77a+0x4b9+-0x3*0x411;_0x418ca8<_0x2e7fff;++_0x418ca8){const _0x26e24d=_0x418ca8*_0x2c13bc;_0x5f01ad=_0xee34f3[_0x26e24d+(-0x1102+-0x170a+-0x1406*-0x2)],_0x5c3d7c=_0xee34f3[_0x26e24d+(0x1*-0x10a2+0x1f*0x1b+0xd5e)],_0x2dd53c=_0xee34f3[_0x26e24d+(-0x1910+0x9d0*-0x1+-0x1*-0x22e2)],_0x585d52=_0xee34f3[_0x26e24d+(-0x9*0x36b+-0xd*-0x65+0x521*0x5)],_0x274ca=_0xee34f3[_0x26e24d+(-0x13bc+-0x16e2+-0x2aa2*-0x1)],_0x1ff460=_0xee34f3[_0x26e24d+(0x1e64+0x107b+-0x2eda)],_0x1b1602[_0x418ca8*(0x1a83+-0x58*-0x4+-0x1bdd)+(0x9c9+-0x1*-0x922+-0x12eb)]=_0x5f01ad,_0x1b1602[_0x418ca8*(0x5dd+-0x22b4+0x1cdd)+(0xef8+0x1543+-0x243a)]=_0x5c3d7c,_0x1b1602[_0x418ca8*(-0x6e*-0x18+-0x1*0xcec+0x2a2)+(0x2ab*-0x7+-0xd56+0x2005)]=_0x2dd53c,_0x1b1602[_0x418ca8*(0x133f*0x1+0x474+-0x17ad)+(0x119*0x6+-0x1*0x10e1+0xa4e*0x1)]=_0x585d52,_0x1b1602[_0x418ca8*(0x2662+-0x1dec+-0x9*0xf0)+(-0x99e+-0x1*0x4e1+0x2e7*0x5)]=_0x274ca,_0x1b1602[_0x418ca8*(-0x10fb*-0x1+0x3*0x89+0x3*-0x630)+(-0x2228+0x175f+0xace)]=_0x1ff460;}}['calcFocalP'+'oint'](_0x58bf68){const {chunkData:_0xe173e4,numChunks:_0x457e46,chunkSize:_0x2ec704}=this;_0x58bf68['x']=0x498+-0x124a*0x1+0xdb2,_0x58bf68['y']=-0x431+-0xa2+-0x4d3*-0x1,_0x58bf68['z']=-0xda1+0x776+-0x1*-0x62b;for(let _0x3ec3fd=-0x3bc+-0x994*-0x4+0x8a5*-0x4;_0x3ec3fd<_0x457e46;++_0x3ec3fd){const _0xa666ed=_0x3ec3fd*_0x2ec704;_0x58bf68['x']+=_0xe173e4[_0xa666ed+(0x1*0x6b+-0x434+0x3c9)]+_0xe173e4[_0xa666ed+(0x2670+0x1*-0x1035+-0x3*0x768)],_0x58bf68['y']+=_0xe173e4[_0xa666ed+(-0x1*0x14f+-0x121d+0x136d)]+_0xe173e4[_0xa666ed+(0x95+-0x26*0x44+-0x987*-0x1)],_0x58bf68['z']+=_0xe173e4[_0xa666ed+(-0x1a49+0x32b+0x1720)]+_0xe173e4[_0xa666ed+(0xa08+-0x1*-0x1273+0x2*-0xe3b)];}_0x58bf68['mulScalar']((0x2140+-0x1*0x208+-0x1f38+0.5)/_0x457e46);}get['isCompress'+'ed'](){return!(0x199*-0x3+-0xb6f+0x86*0x1f);}get['numChunks'](){return Math['ceil'](this['numSplats']/(-0xc1a+0x61*-0x45+0x273f));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}async['decompress'](){const _0xce99e0=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'],{shBands:_0x20a866}=this;if(_0x20a866>-0xd80+0x1*-0x1835+0x25b5){const _0x40c4eb=[];for(let _0x3cf7a2=0x108c*-0x1+-0x6b*-0x7+-0xd9f*-0x1;_0x3cf7a2<-0xa00+-0x4*-0x2ef+-0x18f;++_0x3cf7a2)_0x40c4eb['push']('f_rest_'+_0x3cf7a2);_0xce99e0['splice'](_0xce99e0['indexOf']('f_dc_0')+(0x26a9+0xc73*0x1+0x1*-0x331b),-0x1a0b+-0x1f5b*0x1+0x1da*0x1f,..._0x40c4eb);}const _0x4c6a52=new ik();return _0x4c6a52['decompress'](this['numSplats'],this['chunkData'],this['chunkSize'],this['vertexData'],this['shData0'],this['shData1'],this['shData2'],this['shBands']),new Promise((_0x2a26a7,_0x15190c)=>{_0x4c6a52['on']('decompress'+'ed',_0x133712=>{_0x4c6a52['destroy'](),_0x2a26a7(new qn([{'name':'vertex','count':this['numSplats'],'properties':_0xce99e0['map'](_0x2325d1=>({'type':'float','name':_0x2325d1,'storage':_0x133712[_0x2325d1],'byteSize':0x4}))}],this['comments']));});});}}async function nk(){const _0x3adf43='super4d-ca'+'che-v1',_0x5bc75d={'maxAge':0x9a7ec800,'maxSize':0x280000000},_0x264a8f=new Uint8Array([0x19eb+0x21*-0x49+0x1012*-0x1,0x1e84+-0xb*0xb2+-0x1672*0x1,0x2*0xcfc+0x10bd*-0x1+-0x76*0x13,-0x1e7c+-0xa*-0x163+0x8*0x215]),_0x49aee9=new Uint8Array([-0xd09+0xf1+0xc22*0x1,-0x2624+0x1*0x20ef+0x59a,0x858+0x213f+0x2929*-0x1,-0x1f42+-0x27*-0x9d+-0x7bb*-0x1,0x26*0x16+-0x1fd9+0x1cf4,-0x1f2f+0x4*0xe8+0x1bf7,-0x403*0x8+-0x1106+0xd*0x3cf,0x1*0x337+-0x98c+0x1*0x6b6,0x1911+0x6b6*-0x2+-0x2b*0x43,-0xfe8*-0x1+0x106d+-0x1ff0,0x11ce+-0x135*-0x11+-0x25e1,0xeb2+-0x2*0x9c5+0x19*0x32]),_0x1bca6e=0x695*-0x2+-0xd5a+0x1a84+0.28209479177387814,_0x3d83de=new Map([['char',Int8Array],['uchar',Uint8Array],['short',Int16Array],['ushort',Uint16Array],['int',Int32Array],['uint',Uint32Array],['float',Float32Array],['double',Float64Array]]);class _0x488e99{constructor(_0x11c4ee={}){this['options']={..._0x5bc75d,..._0x11c4ee},this['cache']=null,this['lruList']=[],this['cacheSizes']=new Map(),this['currentSiz'+'e']=0xad4+-0x1a63+0xf8f,this['initialize'+'d']=!(-0x1679+-0x2659+0x3cd3);}async['init'](){if(!this['initialize'+'d']){try{this['cache']=await caches['open'](_0x3adf43);const _0x1d70ee=await this['cache']['keys'](),_0xe74d85=[];for(const _0x513b0c of _0x1d70ee){const _0x3e77eb=_0x513b0c['url'],_0x1e23eb=await this['cache']['match'](_0x3e77eb);if(_0x1e23eb){const _0x2f49a3=(await _0x1e23eb['blob']())['size'],_0xdc2a8f=_0x1e23eb['headers']['get']('x-cache-ti'+'me');_0xdc2a8f&&_0xe74d85['push']({'url':_0x3e77eb,'size':_0x2f49a3,'cacheTime':parseInt(_0xdc2a8f)});}}_0xe74d85['sort']((_0x319b41,_0x197cca)=>_0x319b41['cacheTime']-_0x197cca['cacheTime']);for(const _0x205a33 of _0xe74d85)this['cacheSizes']['set'](_0x205a33['url'],_0x205a33['size']),this['currentSiz'+'e']+=_0x205a33['size'],this['lruList']['push'](_0x205a33['url']);}catch(_0x15cdfa){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0x15cdfa);}this['initialize'+'d']=!(0x771+-0x11f0+0xa7f);}}async['get'](_0x4258e9){if(await this['init'](),!this['cache'])return null;try{const _0x375c75=await this['cache']['match'](_0x4258e9);if(!_0x375c75)return null;const _0x3bda50=_0x375c75['headers']['get']('x-cache-ti'+'me');return _0x3bda50&&Date['now']()-parseInt(_0x3bda50)>this['options']['maxAge']?(await this['delete'](_0x4258e9),null):(this['updateLRU'](_0x4258e9),_0x375c75);}catch{return null;}}async['set'](_0x55f9e8,_0x21a7cb){if(!(!this['cache']||_0x55f9e8['startsWith']('blob:')))try{const _0x313094=_0x21a7cb['clone'](),_0x3d2133=await _0x313094['blob'](),_0x16b722=_0x3d2133['size'];this['currentSiz'+'e']+_0x16b722>this['options']['maxSize']&&await this['cleanupSpa'+'ce'](_0x16b722);const _0xc325ef=new Headers(_0x313094['headers']);_0xc325ef['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0x5fb2ec=new Response(_0x3d2133,{'status':_0x313094['status'],'statusText':_0x313094['statusText'],'headers':_0xc325ef});await this['cache']['put'](_0x55f9e8,_0x5fb2ec),this['cacheSizes']['set'](_0x55f9e8,_0x16b722),this['currentSiz'+'e']+=_0x16b722,this['updateLRU'](_0x55f9e8);}catch(_0xb774f3){console['error']('Cache\x20set\x20'+'error:',_0xb774f3);}}['updateLRU'](_0x185396){const _0x87c7e=this['lruList']['indexOf'](_0x185396);_0x87c7e>-(0x2620+-0x1329+0x3*-0x652)&&this['lruList']['splice'](_0x87c7e,0xdb+0x1d48+0x7*-0x44e),this['lruList']['push'](_0x185396);}async['cleanupSpa'+'ce'](_0x372ff6){const _0x15e52b=this['options']['maxSize']*(0x207e+-0x8f9*-0x3+-0x43*0xe3+0.9);if(!(this['currentSiz'+'e']<=_0x15e52b))for(;this['lruList']['length']>-0xc93*-0x2+-0x17f5+0x3d*-0x5&&this['currentSiz'+'e']>_0x15e52b;){const _0xa05370=this['lruList']['shift']();_0xa05370&&await this['delete'](_0xa05370);}}async['delete'](_0x1bd52f){if(this['cache'])try{await this['cache']['delete'](_0x1bd52f);const _0x3a3243=this['cacheSizes']['get'](_0x1bd52f)||-0x3e1+-0x2183+0x12b2*0x2;this['currentSiz'+'e']-=_0x3a3243,this['cacheSizes']['delete'](_0x1bd52f);const _0x5426dc=this['lruList']['indexOf'](_0x1bd52f);_0x5426dc>-(-0x3*0xcd5+-0x2071*-0x1+0x60f)&&this['lruList']['splice'](_0x5426dc,0x255+-0x1e4e+-0xdfd*-0x2);}catch(_0x5bcc5f){console['error']('Cache\x20dele'+'te\x20error:',_0x5bcc5f);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0x28680d=>Promise['all'](_0x28680d['map'](_0x22ed2f=>{var _0x2430f4;return(_0x2430f4=this['cache'])==null?void(-0x2*0xcff+0x1*0xae5+-0x5*-0x305):_0x2430f4['delete'](_0x22ed2f);}))),this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=-0x1655*-0x1+-0x1*-0x1f49+-0x359e;}catch(_0x56041b){console['error']('Cache\x20clea'+'r\x20error:',_0x56041b);}}['destroy'](){this['cache']=null,this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=-0xacf+0x256a+-0x31*0x8b;}}class _0x379d01{constructor(_0x51328e=[],_0x3d3500={}){this['cacheManag'+'er']=new _0x488e99(_0x3d3500['cache']),this['retryCount']=_0x3d3500['retryCount']||-0x385*0x5+-0xef*-0xb+-0x1*-0x757,this['retryDelay']=_0x3d3500['retryDelay']||-0x26*-0x3a+0x31*0x5+-0x79d,this['maxConcurr'+'ency']=_0x3d3500['maxConcurr'+'ency']||-0x1a42+0x756*0x2+0xb98,this['downloadQu'+'eue']=_0x51328e,this['isProcessi'+'ngDownload'+'Queue']=!(0x8*-0x205+-0x2*0xcb6+0x2995*0x1),this['pendingRes'+'ponses']=new Map(),this['processDow'+'nloadQueue']();}async['processDow'+'nloadQueue'](){if(!this['isProcessi'+'ngDownload'+'Queue']){for(this['isProcessi'+'ngDownload'+'Queue']=!(-0xc2*-0x4+0x2a2*-0xb+-0x2*-0xcf7);this['downloadQu'+'eue']['length']>0x895+-0x70f+-0x1*0x186;)try{const _0x4ce7dd=this['downloadQu'+'eue']['splice'](0x11b7+-0x5*0x605+0xa*0x13d,this['maxConcurr'+'ency'])['map'](_0x37bc70=>{if(!this['pendingRes'+'ponses']['has'](_0x37bc70)){const _0x4d9800=this['download'](_0x37bc70);return this['pendingRes'+'ponses']['set'](_0x37bc70,_0x4d9800),_0x4d9800['then'](()=>{this['pendingRes'+'ponses']['delete'](_0x37bc70);});}return Promise['resolve']();});await Promise['all'](_0x4ce7dd);}catch(_0x55dab4){console['error']('Download\x20e'+'rror:',_0x55dab4);}finally{this['isProcessi'+'ngDownload'+'Queue']=!(-0x1*0x943+0x19aa+0x1066*-0x1);}}}async['fetch'](_0x13a44f,_0x562c27={}){if(this['pendingRes'+'ponses']['has'](_0x13a44f))return this['pendingRes'+'ponses']['get'](_0x13a44f);const {forceRefresh:_0x290401=!(0x2eb*-0x9+-0x1a7b+0x283*0x15),..._0x5acbda}=_0x562c27;this['pendingRes'+'ponses']['set'](_0x13a44f,this['download'](_0x13a44f,_0x5acbda));const _0x493484=await this['pendingRes'+'ponses']['get'](_0x13a44f);return this['pendingRes'+'ponses']['delete'](_0x13a44f),_0x493484;}async['download'](_0x5017f4,_0x363fe0={}){var _0x552965;await((_0x552965=this['cacheManag'+'er'])==null?void(-0x4d9*0x1+-0x5*-0x4be+-0x1*0x12dd):_0x552965['init']());const {forceRefresh:_0x298611=!(-0x1087*0x2+-0x1f11+-0x20*-0x201),..._0x3ce28f}=_0x363fe0;_0x298611&&await this['cacheManag'+'er']['delete'](_0x5017f4);const _0x6ce050=await this['cacheManag'+'er']['get'](_0x5017f4);if(_0x6ce050)return _0x6ce050;let _0x1d0352;for(let _0x44c389=0x529*-0x7+-0x4e4+0x2903;_0x44c389<this['retryCount'];_0x44c389++)try{const _0x24d121=await fetch(_0x5017f4,_0x3ce28f);if(!_0x24d121['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0x24d121['status']);return await this['cacheManag'+'er']['set'](_0x5017f4,_0x24d121),_0x24d121;}catch(_0x4d927d){console['error']('Download\x20e'+'rror:',_0x4d927d),_0x1d0352=_0x4d927d,_0x44c389<this['retryCount']-(0x11fd*0x1+-0x206f*-0x1+-0x326b)&&await new Promise(_0x16e766=>setTimeout(_0x16e766,this['retryDelay']*(_0x44c389+(-0x2*-0x76b+0xbe9+0x3d2*-0x7))));}throw _0x1d0352;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}['destroy'](){this['cacheManag'+'er']['destroy'](),this['cacheManag'+'er']=null,this['downloadQu'+'eue']=[],this['isProcessi'+'ngDownload'+'Queue']=!(-0xf6d*-0x2+-0xe31+-0x34*0x52),this['pendingRes'+'ponses']=new Map(),this['pendingRes'+'ponses']['clear']();}}class _0xf2d3f{constructor(){this['numSplats']=0xa2*0x2c+-0xa9c+-0x113c,this['comments']=[],this['chunkData']=new Float32Array(-0x37c*-0x3+-0x422*-0x4+-0x1afc),this['vertexData']=new Uint32Array(-0x122*-0x1c+0x3*-0x8c3+-0x56f),this['is4D']=!(-0xf9+-0x12db+0xc*0x1a7),this['shBands']=-0x37f*0x1+0x1*0x22be+-0x1f3f,this['shData0']=new Uint8Array(0x1557+-0x217c+0xc25),this['shData1']=new Uint8Array(-0xa7c+-0x1*-0x171e+-0xca2),this['shData2']=new Uint8Array(-0x3*0xaaf+-0x248c+-0x4499*-0x1),this['elements']=[],this['isCompress'+'ed']=!(0xbc9+-0x607+-0x5c2);}get['numChunks'](){return Math['ceil'](this['numSplats']/(0x161c*-0x1+-0x25e9+-0x7b*-0x7f));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}}class _0x38df73{constructor(_0x21403b,_0x5746b5=[]){this['elements']=_0x21403b,this['comments']=_0x5746b5,this['isCompress'+'ed']=!(0x2076*0x1+0xb*-0x6+-0x1*0x2033);}}class _0x140e20{constructor(_0x2f06aa,_0x51a38f){this['reader']=_0x2f06aa,this['progressFu'+'nc']=_0x51a38f,this['head']=-0x7ca+0x5*0x219+-0x2b3,this['tail']=-0x235f+-0xdf*-0x21+-0x4*-0x1a8;}async['read'](){var _0x56e09c;const {value:_0x5922e1,done:_0x546bea}=await this['reader']['read']();if(_0x546bea)throw new Error('Stream\x20fin'+'ished\x20befo'+'re\x20end\x20of\x20'+'header');this['push'](_0x5922e1),(_0x56e09c=this['progressFu'+'nc'])==null||_0x56e09c['call'](this,_0x5922e1['byteLength']);}['push'](_0x59d42a){if(!this['data'])this['data']=_0x59d42a,this['view']=new DataView(this['data']['buffer']),this['tail']=_0x59d42a['length'];else{const _0x24988f=this['tail']-this['head'],_0x83c85a=_0x24988f+_0x59d42a['length'];if(this['data']['length']>=_0x83c85a)this['head']>-0x192f+-0x1606+0x5*0x971?(this['data']['copyWithin'](0xdab*0x1+-0x197e+0xbd3,this['head'],this['tail']),this['data']['set'](_0x59d42a,_0x24988f),this['head']=-0x1531+0x1052+0x4df,this['tail']=_0x83c85a):(this['data']['set'](_0x59d42a,this['tail']),this['tail']+=_0x59d42a['length']);else{const _0x4c8093=new Uint8Array(_0x83c85a);this['head']>0x86*0x5+0x5*-0x31d+0xcf3||this['tail']<this['data']['length']?_0x4c8093['set'](this['data']['subarray'](this['head'],this['tail']),-0x9db+0x19a8+-0xfcd*0x1):_0x4c8093['set'](this['data'],-0x1816+-0x2*-0x8f3+0x630),_0x4c8093['set'](_0x59d42a,_0x24988f),this['data']=_0x4c8093,this['view']=new DataView(this['data']['buffer']),this['head']=-0x1228+-0x259*0xb+-0x1a1*-0x1b,this['tail']=_0x83c85a;}}}['compact'](){this['head']>-0xc07+0x153*-0x13+-0x50*-0x77&&(this['data']['copyWithin'](0x1*-0x235d+0x1854+0x71*0x19,this['head'],this['tail']),this['tail']-=this['head'],this['head']=0x25c8+0x7*-0x15b+-0x1c4b);}get['remaining'](){return this['tail']-this['head'];}['getInt8'](){const _0x406d0e=this['view']['getInt8'](this['head']);return this['head']++,_0x406d0e;}['getUint8'](){const _0x525370=this['view']['getUint8'](this['head']);return this['head']++,_0x525370;}['getInt16'](){const _0x3b9381=this['view']['getInt16'](this['head'],!(-0x1230+-0x23e4+-0x2*-0x1b0a));return this['head']+=0x9be+-0x400*0x5+0xa44,_0x3b9381;}['getUint16'](){const _0x4f99d8=this['view']['getUint16'](this['head'],!(-0x6*0xc5+-0x26ed*-0x1+-0x224f));return this['head']+=-0x575+-0x7d*-0x1f+0x9ac*-0x1,_0x4f99d8;}['getInt32'](){const _0x1ece21=this['view']['getInt32'](this['head'],!(0x2023+-0x991+-0x1692));return this['head']+=-0xf*-0xdb+0x8fc+-0x15cd,_0x1ece21;}['getUint32'](){const _0x19fb10=this['view']['getUint32'](this['head'],!(-0x22*0xeb+0x35+0x1*0x1f01));return this['head']+=0xe5*-0x7+-0x1*0xdd8+0x12f*0x11,_0x19fb10;}['getFloat32'](){const _0x16a6e9=this['view']['getFloat32'](this['head'],!(0x78d+-0x1d6b+0x15de));return this['head']+=-0x217b+-0x672+0x27f1,_0x16a6e9;}['getFloat64'](){const _0x18db5c=this['view']['getFloat64'](this['head'],!(-0x2*-0x449+0x2*-0xac5+0xcf8));return this['head']+=0x1b63+0x3*0xa3f+-0x3a18,_0x18db5c;}}class _0xca2398{constructor(_0x111aac,_0x7ae9f5,_0x31fd1f){this['x']=_0x111aac,this['y']=_0x7ae9f5,this['z']=_0x31fd1f;}}class _0x18fbfc{constructor(_0x147568,_0x35a36c,_0x56391e,_0x369127){this['x']=_0x147568,this['y']=_0x35a36c,this['z']=_0x56391e,this['w']=_0x369127;}}class _0x427c0b{constructor(_0x178427,_0x2c7da4,_0x16b68c,_0x3ec2b4){this['x']=_0x178427,this['y']=_0x2c7da4,this['z']=_0x16b68c,this['w']=_0x3ec2b4;}['set'](_0x2644dd,_0x7fdc29,_0x288d7d,_0x582b87){this['x']=_0x2644dd,this['y']=_0x7fdc29,this['z']=_0x288d7d,this['w']=_0x582b87;}}class _0x306f61{constructor(_0x295ae0,_0x47b378,_0x39d33b,_0x1879d8,_0x306840,_0x30e0aa,_0x26d1e4,_0x2fb474,_0x2d3cbe,_0x2f1fe7,_0x137dca,_0x5a61c1,_0x3db142,_0x4d2945){const _0x11493a=(_0x37f25f,_0x287130)=>{const _0x203909=(-0x2679+-0x68*-0x2b+0x1502<<_0x287130)-(0x928+0xe21+-0x1*0x1748);return(_0x37f25f&_0x203909)/_0x203909;},_0x2f3825=(_0x49423a,_0x4b0615)=>{_0x49423a['x']=_0x11493a(_0x4b0615>>>-0x673*0x5+0x244b+0xcb*-0x5,0x18e*0x1+-0x181c+0x1699),_0x49423a['y']=_0x11493a(_0x4b0615>>>-0x2ea+-0x1b5a+-0x1e4f*-0x1,0x4c5+-0x462*-0x1+0x91d*-0x1),_0x49423a['z']=_0x11493a(_0x4b0615,-0x20*-0xa8+-0x143a+-0xbb*0x1);},_0x2ca5a0=(_0x1b6bf9,_0x592ba)=>{_0x1b6bf9['x']=_0x11493a(_0x592ba>>>-0x5*-0x1e1+0x3d*0x53+-0x1d14,0x18b8+-0x37*0x9b+0xf*0x93),_0x1b6bf9['y']=_0x11493a(_0x592ba>>>0x197+0x2*0xd00+-0x1b87,0x1*0x7c8+0xdf*-0x12+0x1*0x7ee),_0x1b6bf9['z']=_0x11493a(_0x592ba>>>-0x2d*-0x35+0x2015+-0x295e,0x23c5+0x1bae+-0x3f6b*0x1),_0x1b6bf9['w']=_0x11493a(_0x592ba,0x2b6*0xe+-0x111*-0x21+-0x491d);},_0x55b16f=(_0x1d9809,_0x2f9b1c)=>{const _0x105fe4=(-0x9f8+0x5*-0x148+0x1061)/(Math['sqrt'](0x1f45+-0xaa2+-0x1*0x14a1)*(-0x1632+-0x192a+0x2f5c+0.5)),_0x255ab6=(_0x11493a(_0x2f9b1c>>>0x58f*0x1+0xe7f+-0x13fa,0xd58+0x616+-0x124*0x11)-(-0x11c1+-0x29e+0x145f+0.5))*_0x105fe4,_0x15976d=(_0x11493a(_0x2f9b1c>>>0x1*-0x13f9+0x1e0b*0x1+-0xa08,-0x9e*-0x29+0x1c81+-0x35c5)-(0x29*-0xd+-0xb*0x16a+-0x2b*-0x69+0.5))*_0x105fe4,_0x3d637e=(_0x11493a(_0x2f9b1c,-0xc1*0x15+-0xd5*-0x21+0x5cb*-0x2)-(0x9*-0x1c7+0x1dde*-0x1+0x2ddd+0.5))*_0x105fe4,_0x1b2614=Math['sqrt'](-0x2178+0x1718+-0xa61*-0x1-(_0x255ab6*_0x255ab6+_0x15976d*_0x15976d+_0x3d637e*_0x3d637e));switch(_0x2f9b1c>>>0x9a7+0x1a26+-0x23af){case-0x10f5+0x118b+-0x96:_0x1d9809['set'](_0x255ab6,_0x15976d,_0x3d637e,_0x1b2614);break;case 0x244+0x18bc+-0x1aff:_0x1d9809['set'](_0x1b2614,_0x15976d,_0x3d637e,_0x255ab6);break;case 0xa34*-0x1+-0x74d*-0x1+0x1*0x2e9:_0x1d9809['set'](_0x15976d,_0x1b2614,_0x3d637e,_0x255ab6);break;case 0xf*-0xa6+0x262c+-0xfb*0x1d:_0x1d9809['set'](_0x15976d,_0x3d637e,_0x1b2614,_0x255ab6);break;}},_0x2789a3=(_0x409633,_0x4de697,_0x5b8faa)=>_0x409633*(0x2476+-0x1e0b+-0x66a-_0x5b8faa)+_0x4de697*_0x5b8faa,_0x131b80=[0x79*0x35+-0x1ecc+-0x1*-0x5c2,0x4f4*-0x7+0x15f9+-0x1*-0xcbb,-0x1*-0x3af+-0x2626+-0x1eb*-0x12][_0x26d1e4-(0x9f9+0x5*-0x629+0x1*0x14d5)],_0x66f79c=-0x176*-0x3+0x2*0x4b4+0x2*-0x6e2;this['read']=_0x82bf23=>{const _0x340d73=Math['floor'](_0x82bf23/(-0xce3+-0x1f1*0xd+0x2720))*_0x47b378;if(_0x2fb474&&(_0x2f3825(_0x2fb474,_0x39d33b[_0x82bf23*_0x66f79c+(0x1ea6+-0x117f+-0x103*0xd)]),_0x2fb474['x']=_0x2789a3(_0x295ae0[_0x340d73+(-0xa67*0x3+-0x1956+0x388b)],_0x295ae0[_0x340d73+(-0x2af+-0x4b*0xc+0x109*0x6)],_0x2fb474['x']),_0x2fb474['y']=_0x2789a3(_0x295ae0[_0x340d73+(-0x239f+-0x1*-0x26f5+0x1*-0x355)],_0x295ae0[_0x340d73+(-0x1*-0xfc3+-0x14a*-0xb+0x1*-0x1ded)],_0x2fb474['y']),_0x2fb474['z']=_0x2789a3(_0x295ae0[_0x340d73+(0x1f2e+0x19bf+0x38eb*-0x1)],_0x295ae0[_0x340d73+(0x2*-0xde0+0x1c02+-0x3d)],_0x2fb474['z'])),_0x2d3cbe&&_0x55b16f(_0x2d3cbe,_0x39d33b[_0x82bf23*_0x66f79c+(-0x645+0x5*-0x3d9+0x1983)]),_0x2f1fe7&&(_0x2f3825(_0x2f1fe7,_0x39d33b[_0x82bf23*_0x66f79c+(-0x5*-0x7bd+-0x236f*-0x1+-0x4a1e)]),_0x2f1fe7['x']=_0x2789a3(_0x295ae0[_0x340d73+(0x25f0+-0x1174+-0x36*0x61)],_0x295ae0[_0x340d73+(0x163f+0x2*0x769+-0x2508)],_0x2f1fe7['x']),_0x2f1fe7['y']=_0x2789a3(_0x295ae0[_0x340d73+(0x789+-0x12a8+0xb26)],_0x295ae0[_0x340d73+(-0x5*0x166+0x394*0x2+-0x20)],_0x2f1fe7['y']),_0x2f1fe7['z']=_0x2789a3(_0x295ae0[_0x340d73+(0xef1*-0x1+0x19ef+-0xaf6*0x1)],_0x295ae0[_0x340d73+(0x1999+-0x2101+0x773*0x1)],_0x2f1fe7['z'])),_0x137dca&&(_0x2ca5a0(_0x137dca,_0x39d33b[_0x82bf23*_0x66f79c+(0xa9*0xb+-0x617*-0x3+-0x8b*0x2f)]),_0x47b378>-0x1*-0xe5f+-0x3*0x5bb+0x2de&&(_0x137dca['x']=_0x2789a3(_0x295ae0[_0x340d73+(-0x227a+0x1*0x1eb+0x1eb*0x11)],_0x295ae0[_0x340d73+(-0x8b6+-0x209*0x7+0x1704)],_0x137dca['x']),_0x137dca['y']=_0x2789a3(_0x295ae0[_0x340d73+(0x118f+0x7ac+-0x1*0x192e)],_0x295ae0[_0x340d73+(0x2212+0x125*-0x3+0x3*-0xa31)],_0x137dca['y']),_0x137dca['z']=_0x2789a3(_0x295ae0[_0x340d73+(-0x1fc3+-0xca9+0x2c7a)],_0x295ae0[_0x340d73+(-0x3a4*-0x1+0x48a*-0x3+-0x3*-0x359)],_0x137dca['z']))),_0x5a61c1&&(_0x2f3825(_0x5a61c1,_0x39d33b[_0x82bf23*_0x66f79c+(-0x13a5+-0x3*-0x68c+-0x5*-0x1)]),_0x5a61c1['x']=_0x2789a3(_0x295ae0[_0x340d73+(-0x4*0xe5+0x908+-0x2*0x2b1)],_0x295ae0[_0x340d73+(0x805+-0x1*0x15fb+-0xe0b*-0x1)],_0x5a61c1['x']),_0x5a61c1['y']=_0x2789a3(_0x295ae0[_0x340d73+(0x7e7+0xd43+-0x1517)],_0x295ae0[_0x340d73+(-0x55f+0x4*0x524+-0xf1b)],_0x5a61c1['y']),_0x5a61c1['z']=_0x2789a3(_0x295ae0[_0x340d73+(-0x251*-0x1+-0x1911+0x16d4)],_0x295ae0[_0x340d73+(0x3*0xb43+-0x27c+-0x1f36)],_0x5a61c1['z'])),_0x3db142&&(_0x2f3825(_0x3db142,_0x39d33b[_0x82bf23*_0x66f79c+(-0x214f+-0x63*0x36+-0x6*-0x909)]),_0x3db142['x']=_0x2789a3(_0x295ae0[_0x340d73+(-0x1*0x227c+-0x26da+0x496e)],_0x295ae0[_0x340d73+(-0x2c3*-0x5+-0x2166+0x69*0x30)],_0x3db142['x']),_0x3db142['y']=_0x2789a3(_0x295ae0[_0x340d73+(0x1*0x1e29+0x1*0x1cf7+-0x3b06)],_0x295ae0[_0x340d73+(0x9*-0x1f+-0x53d+-0x3d*-0x1b)],_0x3db142['y'])),_0x4d2945&&_0x26d1e4>-0x1*-0x907+0x16+-0x91d){const _0x4dce47=[_0x1879d8,_0x306840,_0x30e0aa];for(let _0xe61ae9=0xe8*-0x15+-0x188c+0x2b94;_0xe61ae9<-0x1cd*-0x8+-0x51d*0x1+-0x948;++_0xe61ae9)for(let _0x266424=0x1*-0x86+-0x1b0b+0x1b91;_0x266424<-0x1*0x176e+0x152d+-0x25*-0x10;++_0x266424)_0x4d2945[_0xe61ae9*(-0x5*-0x3d3+0xd7+-0x5*0x3fb)+_0x266424]=_0x266424<_0x131b80?_0x4dce47[_0xe61ae9][_0x82bf23*(0xc5*-0xf+-0x1*0x197f+0x62f*0x6)+_0x266424]*((0x85*-0xf+-0xd*-0x1f1+-0x116a)/(-0x3*0xa85+-0xde9+-0x3*-0xf7d))-(0x256+-0x1*-0x12db+-0x152d):0x175*-0xb+0x33*0x21+0x2*0x4ba;}};}}self['onmessage']=async _0x1a98c=>{var _0x165e38,_0x50ffa2,_0x528632;const {data:_0x11b3c3}=_0x1a98c;switch(_0x11b3c3['type']){case'initWorker':globalThis['loadUrlLis'+'t']=_0x11b3c3['loadUrlLis'+'t'],globalThis['fetchWorke'+'r']=new _0x379d01(globalThis['loadUrlLis'+'t']);break;case'destroyWor'+'ker':(_0x165e38=globalThis['fetchWorke'+'r'])==null||_0x165e38['destroy'](),globalThis['fetchWorke'+'r']=null,globalThis['loadUrlLis'+'t']=[];break;case'loadPly':const {url:_0x4c417e,decompress:_0x1bf89e}=_0x11b3c3;try{globalThis['fetchWorke'+'r']||(globalThis['fetchWorke'+'r']=new _0x379d01(globalThis['loadUrlLis'+'t']));const _0x19ac36=await globalThis['fetchWorke'+'r']['fetch'](_0x4c417e);if(!_0x19ac36||!_0x19ac36['body'])self['postMessag'+'e']({'type':'error','data':'Error\x20load'+'ing\x20resour'+'ce','url':_0x4c417e});else{const _0x5e756e=parseInt(_0x19ac36['headers']['get']('content-le'+'ngth')??'0',0x7b*-0x47+-0x193c+0x17*0x295);self['postMessag'+'e']({'type':'totalLengt'+'h','totalLength':_0x5e756e,'bytes':0x0,'url':_0x4c417e});let _0x458ec6=await _0x5730bb(_0x19ac36['body']['getReader'](),_0x26fc6=>{self['postMessag'+'e']({'type':'progress','bytes':_0x26fc6,'totalLength':_0x5e756e,'url':_0x4c417e});});if(_0x1bf89e&&_0x458ec6['isCompress'+'ed']){const _0x3aa558=_0x32494a(_0x458ec6),_0x43d1d7=(_0x50ffa2=_0x3aa558==null?void(0x1b62+-0x15d*0xd+-0x1*0x9a9):_0x3aa558['elements'][-0x1666+0x13f2+0x274])==null?void(0xddd+0x2683+-0x3460):_0x50ffa2['properties']['map'](_0x32e60f=>_0x32e60f['storage']['buffer']);self['postMessag'+'e']({'type':'splatData','data':_0x3aa558,'url':_0x4c417e},_0x43d1d7);}else{if(_0x458ec6['isCompress'+'ed']){const _0x679112=['chunkData','vertexData'];_0x458ec6['shData0']&&_0x679112['push']('shData0','shData1','shData2');const _0xc67c98=_0x679112['map'](_0x941cd=>{var _0x2bda6;return(_0x2bda6=_0x458ec6[_0x941cd])==null?void(-0x961*-0x1+-0x1ea*0x3+-0x3a3):_0x2bda6['buffer'];});self['postMessag'+'e']({'type':'splatData','data':_0x458ec6,'url':_0x4c417e},_0xc67c98);}else{_0x458ec6=_0xece5b6(_0x458ec6);const _0x26657c=(_0x528632=_0x458ec6==null?void(0x4*0x2ef+0x2485+-0x3041):_0x458ec6['elements'][0x20ca+0x4*-0x9c+0x22b*-0xe])==null?void(-0xf7b+0x1e*0xa7+-0x417):_0x528632['properties']['map'](_0x50e382=>_0x50e382['storage']['buffer']);self['postMessag'+'e']({'type':'splatData','data':_0x458ec6,'url':_0x4c417e},_0x26657c);}}}}catch(_0x50f074){self['postMessag'+'e']({'type':'error','data':_0x50f074['message'],'url':_0x4c417e});}break;}};const _0xece5b6=_0x41f02d=>{var _0x2937b1;const _0x13af6b=(_0x2937b1=_0x41f02d==null?void(-0x1786*0x1+-0x103d+0x3*0xd41):_0x41f02d['elements'][-0x2*0x665+0xad8+0x1f2])==null?void(-0x274+0x2f*0x7b+0x1*-0x1421):_0x2937b1['properties']['find'](_0x4e0e42=>_0x4e0e42['name']==='opacity');if(_0x13af6b){for(let _0x204a2b=0x7ef*0x1+0x7*0x21a+-0x16a5;_0x204a2b<_0x13af6b['storage']['length'];_0x204a2b++)_0x13af6b['storage'][_0x204a2b]=(-0x760+0x1afc*-0x1+-0x13*-0x1cf)/(0x1a6b*-0x1+0xb58+0xf14+Math['exp'](-_0x13af6b['storage'][_0x204a2b]));}return _0x41f02d;},_0x2083e6=_0x3d1b22=>{const _0x20689b=[],_0x296ca3=[];let _0x1d7e31;for(let _0x4411bf=-0x1471+0x22c3+-0xe51;_0x4411bf<_0x3d1b22['length'];++_0x4411bf){const _0x11e922=_0x3d1b22[_0x4411bf]['split']('\x20');switch(_0x11e922[-0x9c*-0x3a+-0x1*0x957+-0x1a01]){case'comment':_0x296ca3['push'](_0x11e922['slice'](0x9f+0x201c+0x2*-0x105d)['join']('\x20'));break;case'format':_0x1d7e31=_0x11e922[-0x1*0x205e+0x1*0x2317+0xe8*-0x3];break;case'element':_0x20689b['push']({'name':_0x11e922[0x5bc*0x3+-0x48a*0x1+-0xca9*0x1],'count':parseInt(_0x11e922[-0x1c9*0x9+-0xc75+0x1c88],0x2665+-0x25*-0x86+-0x39b9),'properties':[]});break;case'property':{if(!_0x3d83de['has'](_0x11e922[-0xd*0x83+0x14f3*0x1+-0xe4b]))throw new Error('Unrecogniz'+'ed\x20propert'+'y\x20data\x20typ'+'e\x20\x27'+_0x11e922[-0x24e7+0x20a4+0x444]+('\x27\x20in\x20ply\x20h'+'eader'));_0x20689b[_0x20689b['length']-(0x2067+-0x18bd+-0x7a9)]['properties']['push']({'type':_0x11e922[-0x10b9*-0x2+-0x8e9*0x2+-0xf9f],'name':_0x11e922[0x74a+0x6d*0x2+-0x822],'storage':null,'byteSize':_0x3d83de['get'](_0x11e922[0xa50+0x1c06+0x2655*-0x1])['BYTES_PER_'+'ELEMENT']});break;}default:throw new Error('Unrecogniz'+'ed\x20header\x20'+'value\x20\x27'+_0x11e922[-0xd*0xcd+0xf5d+0x2*-0x27a]+('\x27\x20in\x20ply\x20h'+'eader'));}}return{'elements':_0x20689b,'format':_0x1d7e31,'comments':_0x296ca3};},_0x5546a4=_0x40bd17=>{const _0x4e2d9b=['min_x','min_y','min_z','max_x','max_y','max_z','min_scale_'+'x','min_scale_'+'y','min_scale_'+'z','max_scale_'+'x','max_scale_'+'y','max_scale_'+'z','min_r','min_g','min_b','max_r','max_g','max_b','min_motion'+'_x','min_motion'+'_y','min_motion'+'_z','max_motion'+'_x','max_motion'+'_y','max_motion'+'_z','min_time_s'+'cale','max_time_s'+'cale','min_time','max_time'],_0x5d36dd=['packed_pos'+'ition','packed_rot'+'ation','packed_sca'+'le','packed_col'+'or','packed_mot'+'ion','packed_tim'+'e'],_0x4c8acb=new Array(0x4*-0x55+-0x1*-0x17dc+0x61*-0x3b)['fill']('')['map']((_0x1d5cac,_0x32310f)=>'f_rest_'+_0x32310f),_0x16903d=()=>_0x40bd17[0x1307+-0x2b6*0x5+-0x1d3*0x3]['name']==='chunk'&&_0x40bd17[-0x618+0x3d*-0x17+0xb93]['properties']['every']((_0x44fefd,_0xbd8701)=>_0x44fefd['name']===_0x4e2d9b[_0xbd8701]&&_0x44fefd['type']==='float')&&_0x40bd17[0x11d+-0x12dc+0x11c0]['name']==='vertex'&&_0x40bd17[0x26*0x18+-0x13e0+0x1*0x1051]['properties']['every']((_0x36fa79,_0x5671d4)=>_0x36fa79['name']===_0x5d36dd[_0x5671d4]&&_0x36fa79['type']==='uint'),_0x179061=()=>_0x40bd17[-0x23*0xe8+-0x1424*-0x1+0x5cb*0x2]['name']==='sh'&&[0x1c44+0x2350+-0x3f8b,0x1*0x25b7+0x207*-0x1+-0x2398,0x1b4d+0xe*-0x159+-0x421*0x2]['indexOf'](_0x40bd17[-0x41*-0x25+0x11f6+-0x1*0x1b59]['properties']['length'])!==-(0x3*0x283+-0xff6+0x86e)&&_0x40bd17[-0x3ea+-0x2122+-0x33*-0xba]['properties']['every']((_0x31e621,_0x8d9de5)=>_0x31e621['name']===_0x4c8acb[_0x8d9de5]&&_0x31e621['type']==='uchar');return _0x40bd17['length']===-0x2277*0x1+-0x61e+0x2897&&_0x16903d()||_0x40bd17['length']===0x44a*0x2+-0x631*-0x3+0x1*-0x1b24&&_0x16903d()&&_0x179061();},_0x492ed8=_0x529f8c=>_0x529f8c['length']===-0x218a+0x4a*0x5d+0x6a9&&_0x529f8c[0x1*0x19b3+-0xf7*-0x12+-0x627*0x7]['name']==='vertex'&&_0x529f8c[-0x5d*-0xe+-0x1dbb+0x18a5]['properties']['every'](_0x3ddbab=>_0x3ddbab['type']==='float'),_0x30fabe=async(_0x2d5cd0,_0x5c5df6,_0x365dfc)=>{const _0x389e68=new _0xf2d3f();_0x389e68['comments']=_0x365dfc;const _0x5189f6=_0x5c5df6[-0x1a0b*0x1+0x1f1*0x8+0xa83]['count'],_0x9f0485=_0x5c5df6[0x1*-0x1fd3+0x1*-0x1671+0x1b22*0x2]['properties']['length'],_0x58c38c=_0x5c5df6[0x592+0x1*0xa75+-0x1006]['count'],_0x2a894d=_0x5c5df6[0x24fb*0x1+0x2136+0x10*-0x463]['properties']['some'](_0xed8781=>_0xed8781['name']==='packed_tim'+'e'),_0x2b9b96=(_0x164181=>{const _0x1106d9=Math['ceil'](Math['sqrt'](_0x164181)),_0x552b0e=Math['ceil'](_0x164181/_0x1106d9);return _0x1106d9*_0x552b0e;})(_0x58c38c);_0x389e68['numSplats']=_0x58c38c,_0x389e68['is4D']=_0x2a894d,_0x389e68['chunkData']=new Float32Array(_0x5189f6*_0x9f0485),_0x389e68['vertexData']=new Uint32Array(_0x2b9b96*(0x18e4+-0x2ad+-0x13*0x12b));const _0x43e53c=async(_0x4828bb,_0x48298e)=>{const _0x4c2080=new Uint8Array(_0x4828bb);let _0x310e66=0xc*0x2a9+-0x1*0x22b1+0x2c5*0x1;for(;_0x310e66<_0x48298e;){for(;_0x2d5cd0['remaining']===0x2*0x5b3+0x13e*0x10+0xfa3*-0x2;)await _0x2d5cd0['read']();const _0x3fd9c5=Math['min'](_0x48298e-_0x310e66,_0x2d5cd0['remaining']),_0x19c83a=_0x2d5cd0['data'];for(let _0x5acfec=-0x1*0x263f+0x165d+0xfe2;_0x5acfec<_0x3fd9c5;++_0x5acfec)_0x4c2080[_0x310e66++]=_0x19c83a[_0x2d5cd0['head']++];}};if(await _0x43e53c(_0x389e68['chunkData']['buffer'],_0x5189f6*_0x9f0485*(-0xd*-0x4+-0x17c0+0x179*0x10)),await _0x43e53c(_0x389e68['vertexData']['buffer'],_0x58c38c*(-0x19*0x12c+0x25b4+-0x862)*(0x942+0x7c5+-0x1103)),_0x5c5df6['length']===0xa74+-0x122a*-0x1+0x3*-0x989){const _0x9e8da1=_0x2b9b96*(0x1192+-0x21d+-0x1*0xf65),_0x1d6966=new Uint8Array(_0x9e8da1),_0x1885ba=new Uint8Array(_0x9e8da1),_0x5a85b5=new Uint8Array(_0x9e8da1),_0x17581c=0xa1+-0x92*-0x3c+-0x1ed9,_0x4f9837=_0x5c5df6[0x1ea2+-0xc7d+-0x1223]['properties']['length']/(0x1*-0x1b6b+-0x5e2*-0x1+0x158c),_0x5da519=new Uint8Array(_0x17581c*_0x4f9837*(-0x1*-0x1c12+-0x1ce1+-0xf*-0xe));for(let _0x3561d6=0x128b+0xddd+-0x2068;_0x3561d6<_0x389e68['numSplats'];_0x3561d6+=_0x17581c){const _0x11e149=Math['min'](_0x17581c,_0x389e68['numSplats']-_0x3561d6);await _0x43e53c(_0x5da519['buffer'],_0x11e149*_0x4f9837*(-0x1*-0x2029+-0x2*-0x7e1+-0x2fe8));for(let _0x14c481=0xe75+-0x6*-0x67+-0x10df;_0x14c481<_0x11e149;++_0x14c481)for(let _0x4a5058=0x4*-0x432+0x1cc*0x2+0xd30;_0x4a5058<0x3f*-0x7c+0x14d9+0x1e*0x53;++_0x4a5058){const _0x281424=(_0x3561d6+_0x14c481)*(0xb*0x217+0xd46+-0x2433)+_0x4a5058;_0x4a5058<_0x4f9837?(_0x1d6966[_0x281424]=_0x5da519[(_0x14c481*(-0x14d0+-0x1*0x82c+0x23b*0xd)+(-0x1*-0xda5+-0x8ec+-0x193*0x3))*_0x4f9837+_0x4a5058],_0x1885ba[_0x281424]=_0x5da519[(_0x14c481*(0xecc+0x9ca+-0x1893)+(-0xa93*0x2+0x5e*0x53+0xb*-0xd9))*_0x4f9837+_0x4a5058],_0x5a85b5[_0x281424]=_0x5da519[(_0x14c481*(0x9e+-0x14fe+0x1463)+(0xf*-0xcc+0x23d9+0x5*-0x4c7))*_0x4f9837+_0x4a5058]):(_0x1d6966[_0x281424]=-0x1851+0x8bf+0x1011,_0x1885ba[_0x281424]=-0xe1+-0x8b9+0xa19*0x1,_0x5a85b5[_0x281424]=0x1895*-0x1+-0x1f*-0xa7+-0xb*-0x71);}}_0x389e68['shData0']=_0x1d6966,_0x389e68['shData1']=_0x1885ba,_0x389e68['shData2']=_0x5a85b5,_0x389e68['shBands']={0x3:0x1,0x8:0x2,0xf:0x3}[_0x4f9837];}else _0x389e68['shBands']=0x5*0x1db+0x2496+0x1*-0x2ddd;return _0x389e68;},_0x1aa919=async(_0x10675c,_0x1998b7,_0x2e62a9)=>{const _0x5b7169=_0x1998b7[-0x1*0x233f+-0xc8b+0x2fca],_0x287d36=_0x5b7169['properties'],_0x3e7530=_0x287d36['length'],_0xa729d4=_0x287d36['map'](_0x278515=>_0x278515['storage']),_0x1c7c83=_0x287d36['reduce']((_0x325db1,_0x1a5ee8)=>_0x325db1+_0x1a5ee8['byteSize'],0x1d3d+0x2698+0xd91*-0x5);let _0x1d8642=-0xd*-0x2b5+-0x1*0x787+-0x1baa,_0xebffba;const _0x51cfd2=()=>{const _0x51b084=_0x10675c['data']['buffer'];(_0xebffba==null?void(0x1*0x1835+-0x19d3+0x9*0x2e):_0xebffba['buffer'])!==_0x51b084&&(_0xebffba=new Float32Array(_0x51b084,0x345+-0x7a7*0x1+-0x3*-0x176,_0x51b084['byteLength']/(-0x892+-0x2fa+0xb90)));};for(_0x51cfd2();_0x1d8642<_0x5b7169['count'];){for(;_0x10675c['remaining']<_0x1c7c83;)await _0x10675c['read'](),_0x51cfd2();const _0x5b04d7=Math['min'](_0x5b7169['count']-_0x1d8642,Math['floor'](_0x10675c['remaining']/_0x1c7c83));for(let _0x48eb48=0x836+-0x1*-0x4d1+-0x29b*0x5;_0x48eb48<_0x3e7530;++_0x48eb48){const _0x2e2065=_0xa729d4[_0x48eb48];for(let _0x48aaac=0x7*0x58+0x1cc6+-0x1a*0x133;_0x48aaac<_0x5b04d7;++_0x48aaac)_0x2e2065[_0x48aaac+_0x1d8642]=_0xebffba[_0x48aaac*_0x3e7530+_0x48eb48];}_0x1d8642+=_0x5b04d7,_0x10675c['head']+=_0x5b04d7*_0x1c7c83;}return new _0x38df73(_0x1998b7,_0x2e62a9);},_0x397bf9=async(_0x242720,_0x5459f5,_0x264c05)=>{for(let _0x1be4c7=0xec9+0x197f+-0x2848;_0x1be4c7<_0x5459f5['length'];++_0x1be4c7){const _0x5cefa3=_0x5459f5[_0x1be4c7],_0x3a730e=_0x5cefa3['properties']['reduce']((_0x3bf8f7,_0x21ae7)=>_0x3bf8f7+_0x21ae7['byteSize'],0x2c5*-0xb+0x609+-0x6a*-0x3b),_0x1e7c26=_0x5cefa3['properties']['map'](_0x3171be=>{if(_0x3171be['storage'])switch(_0x3171be['type']){case'char':return(_0x50ae0e,_0x337ab3)=>{_0x3171be['storage'][_0x337ab3]=_0x50ae0e['getInt8']();};case'uchar':return(_0x521527,_0x7cd36a)=>{_0x3171be['storage'][_0x7cd36a]=_0x521527['getUint8']();};case'short':return(_0x5a5866,_0x432dbf)=>{_0x3171be['storage'][_0x432dbf]=_0x5a5866['getInt16']();};case'ushort':return(_0x4637c0,_0x435e00)=>{_0x3171be['storage'][_0x435e00]=_0x4637c0['getUint16']();};case'int':return(_0x58f614,_0x43c955)=>{_0x3171be['storage'][_0x43c955]=_0x58f614['getInt32']();};case'uint':return(_0x11d972,_0x20a780)=>{_0x3171be['storage'][_0x20a780]=_0x11d972['getUint32']();};case'float':return(_0x2d37ca,_0x1aa9a8)=>{_0x3171be['storage'][_0x1aa9a8]=_0x2d37ca['getFloat32']();};case'double':return(_0x47ae67,_0x5147c5)=>{_0x3171be['storage'][_0x5147c5]=_0x47ae67['getFloat64']();};default:throw new Error('Unsupporte'+'d\x20property'+'\x20data\x20type'+'\x20\x27'+_0x3171be['type']+('\x27\x20in\x20ply\x20h'+'eader'));}else return _0x23778c=>{_0x23778c['head']+=_0x3171be['byteSize'];};});let _0x53d5cc=-0xfa9+0xdec+0x1bd;for(;_0x53d5cc<_0x5cefa3['count'];){for(;_0x242720['remaining']<_0x3a730e;)await _0x242720['read']();const _0x26bfc8=Math['min'](_0x5cefa3['count']-_0x53d5cc,Math['floor'](_0x242720['remaining']/_0x3a730e));for(let _0xc6f987=0x2c*-0xb5+0x634*-0x1+-0xc*-0x31c;_0xc6f987<_0x26bfc8;++_0xc6f987){for(let _0x55c93f=-0x1e3*0x5+0xb5f+-0x1f0;_0x55c93f<_0x5cefa3['properties']['length'];++_0x55c93f)_0x1e7c26[_0x55c93f](_0x242720,_0x53d5cc);_0x53d5cc++;}}}return new _0x38df73(_0x5459f5,_0x264c05);},_0x5730bb=async(_0x171cf1,_0x2381b6=null)=>{const _0xb084bf=(_0x1abf09,_0x757265)=>{const _0x55bea2=_0x1abf09['length']-_0x757265['length'];let _0x341a93,_0x2b7fc6;for(_0x341a93=0x189b+-0x9*0x24f+-0x3d4;_0x341a93<=_0x55bea2;++_0x341a93){for(_0x2b7fc6=-0x55d*0x1+0xd*-0x1bf+-0x2*-0xe08;_0x2b7fc6<_0x757265['length']&&_0x1abf09[_0x341a93+_0x2b7fc6]===_0x757265[_0x2b7fc6];++_0x2b7fc6);if(_0x2b7fc6===_0x757265['length'])return _0x341a93;}return-(-0x793+-0x1970+0x2104);},_0x20d343=(_0x347efd,_0x12aaf0)=>{if(_0x347efd['length']<_0x12aaf0['length'])return!(0x1*0xcbf+0xaab*0x2+0x2d7*-0xc);for(let _0x1d80c9=-0x1*0x262a+0x1*-0xc1f+-0x265*-0x15;_0x1d80c9<_0x12aaf0['length'];++_0x1d80c9)if(_0x347efd[_0x1d80c9]!==_0x12aaf0[_0x1d80c9])return!(-0xf3f+0x1f7*0x1+-0x1*-0xd49);return!(0x2563+-0xd6f+-0x17f4);},_0x4aa268=new _0x140e20(_0x171cf1,_0x2381b6);let _0x2df34b;for(;;){if(await _0x4aa268['read'](),_0x4aa268['tail']>=_0x264a8f['length']&&!_0x20d343(_0x4aa268['data'],_0x264a8f))throw new Error('Invalid\x20pl'+'y\x20header');if(_0x2df34b=_0xb084bf(_0x4aa268['data'],_0x49aee9),_0x2df34b!==-(-0x5c1+-0x2174+0x2736))break;}const _0x4af642=new TextDecoder('ascii')['decode'](_0x4aa268['data']['subarray'](-0x1f2b+0x1863+0x6c8,_0x2df34b))['split']('\x0a'),{elements:_0x195a10,format:_0x29759a,comments:_0x390fc1}=_0x2083e6(_0x4af642);if(_0x29759a!=='binary_lit'+'tle_endian')throw new Error('Unsupporte'+'d\x20ply\x20form'+'at');return _0x4aa268['head']=_0x2df34b+_0x49aee9['length'],_0x4aa268['compact'](),await((async()=>_0x5546a4(_0x195a10)?await _0x30fabe(_0x4aa268,_0x195a10,_0x390fc1):(_0x195a10['forEach'](_0x1b487e=>{_0x1b487e['properties']['forEach'](_0x41c34f=>{const _0x1f9aa6=_0x3d83de['get'](_0x41c34f['type']);if(_0x1f9aa6){const _0x39c883=new _0x1f9aa6(_0x1b487e['count']);_0x41c34f['storage']=_0x39c883;}});}),_0x492ed8(_0x195a10)?await _0x1aa919(_0x4aa268,_0x195a10,_0x390fc1):await _0x397bf9(_0x4aa268,_0x195a10,_0x390fc1)))());},_0x32494a=_0x464ed6=>{const {numSplats:_0xe27d5,chunkData:_0x12d62f,chunkSize:_0x5ec300,vertexData:_0x10842f,shData0:_0x48b802,shData1:_0x28b555,shData2:_0x2a79ad,shBands:_0x1e2697,comments:_0x10403b,is4D:_0x5464a4}=_0x464ed6,_0x4d327c=['x','y','z','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','f_dc_0','f_dc_1','f_dc_2','opacity'];if(_0x5464a4&&_0x4d327c['push']('t','t_scale','motion_0','motion_1','motion_2'),_0x1e2697>-0x20b+-0x21f3+0x23fe){const _0x34eabd=[];for(let _0x5039e1=0xbf1+0x20f*0x3+0x121e*-0x1;_0x5039e1<0x6aa*-0x3+-0x1594+0x29bf;++_0x5039e1)_0x34eabd['push']('f_rest_'+_0x5039e1);_0x4d327c['splice'](_0x4d327c['indexOf']('f_dc_0')+(0x2063*-0x1+0x238+-0xf16*-0x2),0x1*-0x8f2+-0x1b5c+0x244e,..._0x34eabd);}const _0x1dd7a2={};_0x4d327c['forEach'](_0x296464=>{_0x1dd7a2[_0x296464]=new Float32Array(_0xe27d5);});const _0x1bb48d=new _0xca2398(),_0x3dba26=new _0x427c0b(),_0x5271b2=new _0xca2398(),_0x3c6e15=new _0x18fbfc(),_0x4542b6=new _0xca2398(),_0x278935=new _0xca2398(),_0x1d0f15=_0x1e2697>-0x1ef1+-0xde5*-0x1+-0x886*-0x2?new Float32Array(0x9*0x273+0x1302+0xda0*-0x3):null,_0x54c17d=new _0x306f61(_0x12d62f,_0x5ec300,_0x10842f,_0x48b802,_0x28b555,_0x2a79ad,_0x1e2697,_0x1bb48d,_0x3dba26,_0x5271b2,_0x3c6e15,_0x4542b6,_0x278935,_0x1d0f15);for(let _0x9b270b=0x122a+-0x2155+0xf2b;_0x9b270b<_0xe27d5;++_0x9b270b){_0x54c17d['read'](_0x9b270b),_0x1dd7a2['x'][_0x9b270b]=_0x1bb48d['x'],_0x1dd7a2['y'][_0x9b270b]=_0x1bb48d['y'],_0x1dd7a2['z'][_0x9b270b]=_0x1bb48d['z'],_0x1dd7a2['rot_1'][_0x9b270b]=_0x3dba26['x'],_0x1dd7a2['rot_2'][_0x9b270b]=_0x3dba26['y'],_0x1dd7a2['rot_3'][_0x9b270b]=_0x3dba26['z'],_0x1dd7a2['rot_0'][_0x9b270b]=_0x3dba26['w'],_0x1dd7a2['scale_0'][_0x9b270b]=_0x5271b2['x'],_0x1dd7a2['scale_1'][_0x9b270b]=_0x5271b2['y'],_0x1dd7a2['scale_2'][_0x9b270b]=_0x5271b2['z'],_0x1dd7a2['motion_0'][_0x9b270b]=_0x4542b6['x'],_0x1dd7a2['motion_1'][_0x9b270b]=_0x4542b6['y'],_0x1dd7a2['motion_2'][_0x9b270b]=_0x4542b6['z'],_0x1dd7a2['t_scale'][_0x9b270b]=_0x278935['x'],_0x1dd7a2['t'][_0x9b270b]=_0x278935['y'],_0x1dd7a2['f_dc_0'][_0x9b270b]=(_0x3c6e15['x']-(-0x104f*0x1+0x8*-0x376+0x2bff+0.5))/_0x1bca6e,_0x1dd7a2['f_dc_1'][_0x9b270b]=(_0x3c6e15['y']-(-0x24a8+0xc23+0x1885+0.5))/_0x1bca6e,_0x1dd7a2['f_dc_2'][_0x9b270b]=(_0x3c6e15['z']-(-0xaf5+0xbc+-0xa39*-0x1+0.5))/_0x1bca6e;const _0x346296=_0x3c6e15['w']<=0x1*0x337+0x12b5*0x1+0x4*-0x57b?-(-0x12e1+0x1*-0xad+-0x3*-0x692):_0x3c6e15['w']>=0x25*0x1d+0x57*-0x47+0x1*0x13f1?0x3*0x7b5+-0x3e*-0x5d+-0x2ad*0x11:-Math['log']((-0x19c2+0x1*-0xd1d+0x26e0)/_0x3c6e15['w']-(0x1fec*-0x1+-0x26a*0x5+0x2bff));if(_0x1dd7a2['opacity'][_0x9b270b]=(-0x1edf+-0x1748+-0xd8a*-0x4)/(0xdcb+0x1cb9+-0x2a83+Math['exp'](-_0x346296)),_0x1d0f15){for(let _0x2a4fa4=0x335*-0x9+-0xc1+0x11*0x1be;_0x2a4fa4<-0x464+0xc*-0xdb+-0xed5*-0x1;++_0x2a4fa4)_0x1dd7a2['f_rest_'+_0x2a4fa4][_0x9b270b]=_0x1d0f15[_0x2a4fa4];}}const _0x31525e=[{'count':_0xe27d5,'name':'vertex','properties':_0x4d327c['map'](_0x445ff1=>({'byteSize':0x4,'name':_0x445ff1,'type':'float','storage':_0x1dd7a2[_0x445ff1]}))}];return new _0x38df73(_0x31525e,_0x10403b);};}class ok extends me{constructor(_0x3a58f2){super(),h(this,'worker'),h(this,'loadUrlLis'+'t'),(this['loadUrlLis'+'t']=_0x3a58f2,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+nk['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['postMessag'+'e']({'type':'initWorker','loadUrlList':this['loadUrlLis'+'t']});}['loadPly'](_0x32c5c4,_0x1d1b26,_0x4dab07=(_0x15300e,_0x284359)=>{},_0x4130a1=(_0x33a85f,_0x281bca,_0x481b78)=>{},_0x32f006=(_0x3da3ac,_0x14e50c)=>{}){var _0x4aac8e;return(_0x4aac8e=this['worker'])==null||_0x4aac8e['postMessag'+'e']({'type':'loadPly','url':_0x32c5c4,'decompress':_0x1d1b26}),new Promise((_0xa732f,_0x29bd7c)=>{if(!this['worker']){_0x29bd7c(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x49bd27=>{if(!this['worker'])return;const {data:_0x56f0df}=_0x49bd27;if(_0x32c5c4===_0x56f0df['url'])switch(_0x56f0df['type']){case'totalLengt'+'h':_0x4dab07==null||_0x4dab07(_0x56f0df['totalLengt'+'h'],_0x56f0df['url']);break;case'progress':_0x4130a1==null||_0x4130a1(_0x56f0df['bytes'],_0x56f0df['totalLengt'+'h'],_0x56f0df['url']);break;case'splatData':_0xa732f(_0x56f0df['data']);break;case'error':_0x32f006==null||_0x32f006(_0x56f0df['data'],_0x56f0df['url']);break;}};});}['destroy'](){this['loadUrl']='',this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),this['worker']['terminate'](),this['worker']=void(0x2fe+-0x350+0x52));}}class lk{constructor(_0x134472,_0x28f456){h(this,'urlList'),h(this,'app'),h(this,'maxRetries'),h(this,'gsplatReso'+'urce'),h(this,'onlyOneAss'+'et'),h(this,'readWorker'),(console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','Register\x20P'+'lyParser.c'+'onstructor'),this['app']=_0x134472,this['maxRetries']=_0x28f456,this['urlList']=[],this['gsplatReso'+'urce']=null,this['readWorker']=null,this['totalRecei'+'ved']=-0x1*-0x6e1+-0xab*0x1b+0xb28);}async['load'](_0x5a283c,_0x592d55,_0x37e5c9){var _0x2420a3,_0x53832c,_0x3e424c;console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','PlyParser.'+'load'),this['urlList']=[],_0x5a283c['load']['includes'](',')?this['urlList']=_0x5a283c['load']['split'](','):this['urlList']['push'](_0x5a283c['load']);const _0x111ab4=_0x37e5c9['data']['createTime']!==((_0x53832c=(_0x2420a3=this['onlyOneAss'+'et'])==null?void(0xccc+0x277*0xe+-0x2*0x17a7):_0x2420a3['data'])==null?void(-0x1*-0x3f2+-0x4cd*0x5+0x41*0x4f):_0x53832c['createTime']);(!this['readWorker']||_0x111ab4)&&((_0x3e424c=this['readWorker'])==null||_0x3e424c['destroy'](),this['readWorker']=new ok(this['urlList']));const _0x51e2b5=_0x37e5c9['data']['loadIndex']>=-0x1875*0x1+-0x2*0x10c8+0x1*0x3a05?_0x37e5c9['data']['loadIndex']:-0x1*0xffd+-0x13c3+0x23c0,_0x3e37d6=_0x37e5c9['data']['loadMode']==='all'?this['urlList']['length']-_0x51e2b5:_0x51e2b5+(-0x5ea+0x1ecb+0x10*-0x18e),_0x1f0839=_0x37e5c9['data']['timeOption'],_0x4e2552=_0x37e5c9['data']['events'];for(let _0x4de4f1=_0x51e2b5;_0x4de4f1<_0x3e37d6;_0x4de4f1++)await this['loadGsplat'+'Data'](this['urlList'],_0x592d55,_0x37e5c9,_0x4de4f1,_0x1f0839,_0x4e2552,_0x3e37d6);_0x4e2552['fire']('loadAllAss'+'etsDone');}async['loadGsplat'+'Data'](_0x1c21f7,_0x23f0e0,_0x53990c,_0x3418c2,_0x41dff,_0x11024c,_0x362020){var _0xf526b4,_0x3ec23f,_0x40382c;console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','loadGsplat'+'Data',_0x1c21f7[_0x3418c2]['trim'](),_0x3418c2);const _0x118b36=_0x41dff[(0x2546+-0x4*0x409+0x34*-0x68)*_0x3418c2]+_0x41dff[(0x7*0x1+0x24c6*0x1+-0x1*0x24cb)*_0x3418c2+(0x1c4f+0x1b4d+-0x379b)],_0x195821=_0x1c21f7[_0x3418c2]['trim']();globalThis['loadGsplat'+'DataStartT'+'ime']=performance['now'](),console['log']('loadTime','=========='+'=========='+'=========='+'=========='+'=========='+'====='),console['log']('loadTime','start\x20load'+'\x20ply\x20data',((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/(0x1bbf+0x2c6*-0x1+0x1*-0x571))['toFixed'](-0x1294*0x2+-0x1f97*0x1+0x44c1));try{const _0x34c942=await((_0xf526b4=this['readWorker'])==null?void(-0x3b*-0x5f+0x943+0x1*-0x1f28):_0xf526b4['loadPly'](_0x195821,_0x53990c['data']['decompress'],()=>{this['totalRecei'+'ved']=-0x3*-0x3f5+0x1a95+0x99d*-0x4;},(_0x28b35a,_0x42dddc)=>{this['totalRecei'+'ved']+=_0x28b35a,_0x53990c&&_0x11024c['fire']('progress',_0x42dddc*_0x3418c2/_0x362020+this['totalRecei'+'ved']/_0x362020,_0x42dddc);},(_0x352da5,_0x1494e2)=>{debugger;console['warn']('ERROE\x20Load'+'\x20Ply',_0x1494e2,_0x352da5);}));let _0x3d804d;console['log']('loadTime','load\x20ply\x20d'+'ata\x20done',((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/(-0x1a7e+-0x1*-0x19e5+0x1421))['toFixed'](-0x4fe*0x4+0x14f1+-0xf7)),_0x34c942['isCompress'+'ed']?(_0x3d804d=new ak(),_0x3d804d['comments']=_0x34c942['comments'],_0x3d804d['numSplats']=_0x34c942['numSplats'],_0x3d804d['is4D']=_0x34c942['is4D'],_0x3d804d['chunkData']=_0x34c942['chunkData'],_0x3d804d['vertexData']=_0x34c942['vertexData'],_0x3d804d['shData0']=_0x34c942['shData0'],_0x3d804d['shData1']=_0x34c942['shData1'],_0x3d804d['shData2']=_0x34c942['shData2'],_0x3d804d['shBands']=_0x34c942['shBands']):_0x3d804d=new qn(_0x34c942['elements'],_0x34c942['comments']),_0x53990c['fire']('load:data',_0x3d804d),_0x3d804d['isCompress'+'ed']||_0x53990c['data']['reorder'];const _0x2d042b=_0x53990c['data']['createTime']!==((_0x40382c=(_0x3ec23f=this['onlyOneAss'+'et'])==null?void(0x1*-0x47b+-0x665*-0x1+-0x7*0x46):_0x3ec23f['data'])==null?void(0x1937+0xa*0x34b+-0x3a25):_0x40382c['createTime']);this['gsplatReso'+'urce']&&!_0x2d042b?this['gsplatReso'+'urce']['appendGSpl'+'atResource'](_0x3d804d['isCompress'+'ed']?await _0x3d804d['decompress']():_0x3d804d,_0x41dff,_0x118b36,_0x53990c,_0x11024c):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['gsplatReso'+'urce']=new EC(this['app']['graphicsDe'+'vice'],_0x3d804d['isCompress'+'ed']?await _0x3d804d['decompress']():_0x3d804d),await this['gsplatReso'+'urce']['updateData'](),await this['gsplatReso'+'urce']['updateText'+'ure'](),this['gsplatReso'+'urce']['timeOption']=_0x41dff,this['onlyOneAss'+'et']=_0x53990c),_0x23f0e0(null,this['gsplatReso'+'urce']);}catch(_0x36a8ad){_0x23f0e0(_0x36a8ad,null);}}['open'](_0x488ab9,_0xe9a6bd){return _0xe9a6bd;}}async function ck(){const _0x33045f='super4d-ca'+'che-v1',_0xa911c1={'maxAge':0x202fbf000,'maxSize':0x280000000},_0x2ecafd=-0x1b16*-0x1+-0xd4d+0xdc9*-0x1+0.28209479177387814;class _0x107e18{constructor(_0x2ec823={}){this['options']={..._0xa911c1,..._0x2ec823},this['cache']=null,this['lruList']=[],this['cacheSizes']=new Map(),this['currentSiz'+'e']=-0x1d*0x71+-0x1222+-0x1eef*-0x1,this['initialize'+'d']=!(0xa55+-0x103d+0x5e9*0x1);}async['init'](){if(!this['initialize'+'d']){try{this['cache']=await caches['open'](_0x33045f);const _0x391542=await this['cache']['keys'](),_0x4ebbbb=[];for(const _0x24757b of _0x391542){const _0x32dba2=_0x24757b['url'],_0x25f187=await this['cache']['match'](_0x32dba2);if(_0x25f187){const _0x160c78=(await _0x25f187['blob']())['size'],_0x2ff848=_0x25f187['headers']['get']('x-cache-ti'+'me');_0x2ff848&&_0x4ebbbb['push']({'url':_0x32dba2,'size':_0x160c78,'cacheTime':parseInt(_0x2ff848)});}}_0x4ebbbb['sort']((_0x162261,_0x9c4161)=>_0x162261['cacheTime']-_0x9c4161['cacheTime']);for(const _0x3ffc8a of _0x4ebbbb)this['cacheSizes']['set'](_0x3ffc8a['url'],_0x3ffc8a['size']),this['currentSiz'+'e']+=_0x3ffc8a['size'],this['lruList']['push'](_0x3ffc8a['url']);}catch(_0x570222){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0x570222);}this['initialize'+'d']=!(0x2*0xaf1+0x70*0x2+0x6*-0x3cb);}}async['get'](_0x578d03){if(await this['init'](),!this['cache'])return null;try{const _0x2cbfef=await this['cache']['match'](_0x578d03);if(!_0x2cbfef)return null;const _0x419549=_0x2cbfef['headers']['get']('x-cache-ti'+'me');return _0x419549&&Date['now']()-parseInt(_0x419549)>this['options']['maxAge']?(await this['delete'](_0x578d03),null):(this['updateLRU'](_0x578d03),_0x2cbfef);}catch{return null;}}async['set'](_0x36a898,_0x4a6df5){if(!(!this['cache']||_0x36a898['startsWith']('blob:')))try{const _0x3de893=_0x4a6df5['clone'](),_0x4b6bdd=await _0x3de893['blob'](),_0x5bdeda=_0x4b6bdd['size'];this['currentSiz'+'e']+_0x5bdeda>this['options']['maxSize']&&await this['cleanupSpa'+'ce'](_0x5bdeda);const _0x49bcce=new Headers(_0x3de893['headers']);_0x49bcce['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0x1f0715=new Response(_0x4b6bdd,{'status':_0x3de893['status'],'statusText':_0x3de893['statusText'],'headers':_0x49bcce});await this['cache']['put'](_0x36a898,_0x1f0715),this['cacheSizes']['set'](_0x36a898,_0x5bdeda),this['currentSiz'+'e']+=_0x5bdeda,this['updateLRU'](_0x36a898);}catch(_0x418885){console['error']('Cache\x20set\x20'+'error:',_0x418885);}}['updateLRU'](_0x4ccfda){const _0x347ba6=this['lruList']['indexOf'](_0x4ccfda);_0x347ba6>-(0x213d+0x1*0x467+-0x25a3)&&this['lruList']['splice'](_0x347ba6,0x1799+-0x13*0x19b+0x1d*0x3d),this['lruList']['push'](_0x4ccfda);}async['cleanupSpa'+'ce'](_0x305716){const _0x4903e3=this['options']['maxSize']*(0x12bb+0x5*0x1a5+-0x1af4+0.9);if(!(this['currentSiz'+'e']<=_0x4903e3))for(;this['lruList']['length']>-0x1*-0xc83+0x16e4+-0x2367&&this['currentSiz'+'e']>_0x4903e3;){const _0x1ed677=this['lruList']['shift']();_0x1ed677&&await this['delete'](_0x1ed677);}}async['delete'](_0x43f54){if(this['cache'])try{await this['cache']['delete'](_0x43f54);const _0x1b4046=this['cacheSizes']['get'](_0x43f54)||-0x152e+0x521+0x100d;this['currentSiz'+'e']-=_0x1b4046,this['cacheSizes']['delete'](_0x43f54);const _0x4acaf2=this['lruList']['indexOf'](_0x43f54);_0x4acaf2>-(0x1*0xcea+-0x1427+-0x2*-0x39f)&&this['lruList']['splice'](_0x4acaf2,-0x2443+-0x13b*0x5+0x2a6b);}catch(_0x53f248){console['error']('Cache\x20dele'+'te\x20error:',_0x53f248);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0x3e3926=>Promise['all'](_0x3e3926['map'](_0x40f85e=>{var _0x688421;return(_0x688421=this['cache'])==null?void(0x19d6+0x7ad+-0x2183):_0x688421['delete'](_0x40f85e);}))),this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=-0x704*0x1+-0x25ac*0x1+0x2cb0;}catch(_0x54c550){console['error']('Cache\x20clea'+'r\x20error:',_0x54c550);}}['destroy'](){this['cache']=null,this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=-0x15dc*0x1+0x20da+-0xafe;}}class _0x156b79{constructor(_0x4d180a=[],_0xa322ab={}){this['cacheManag'+'er']=new _0x107e18(_0xa322ab['cache']),this['retryCount']=_0xa322ab['retryCount']||-0x1a73+0xc05*-0x1+0x267b*0x1,this['retryDelay']=_0xa322ab['retryDelay']||-0x1e91+0x13be+0xcc7,this['maxConcurr'+'ency']=_0xa322ab['maxConcurr'+'ency']||-0x108d+-0x2c*-0x3b+0x3*0x225,this['downloadQu'+'eue']=_0x4d180a,this['isProcessi'+'ngDownload'+'Queue']=!(-0xaed*0x1+0xe3*0x29+-0x196d),this['pendingRes'+'ponses']=new Map(),this['processDow'+'nloadQueue']();}async['processDow'+'nloadQueue'](){if(!this['isProcessi'+'ngDownload'+'Queue']){for(this['isProcessi'+'ngDownload'+'Queue']=!(-0x1cc4+-0x23b2*0x1+-0x1*-0x4076);this['downloadQu'+'eue']['length']>0x25c5+0x14ae+-0x3a73*0x1;)try{const _0x309baa=this['downloadQu'+'eue']['splice'](-0x2567+0x1cc*-0x5+0x2e63,this['maxConcurr'+'ency'])['map'](_0x3fd8ec=>{if(!this['pendingRes'+'ponses']['has'](_0x3fd8ec)){const _0x32d8cf=this['download'](_0x3fd8ec);return this['pendingRes'+'ponses']['set'](_0x3fd8ec,_0x32d8cf),_0x32d8cf['then'](()=>{this['pendingRes'+'ponses']['delete'](_0x3fd8ec);});}return Promise['resolve']();});await Promise['all'](_0x309baa);}catch(_0x3604ba){console['error']('Download\x20e'+'rror:',_0x3604ba);}finally{this['isProcessi'+'ngDownload'+'Queue']=!(0x1*-0x1b25+-0x214*-0xc+0x236*0x1);}}}async['fetch'](_0x4a5763,_0x237eb2={}){if(this['pendingRes'+'ponses']['has'](_0x4a5763))return this['pendingRes'+'ponses']['get'](_0x4a5763);const {forceRefresh:_0x393142=!(-0x1*0x23+0x1e9+-0x1c5),..._0x2a18f7}=_0x237eb2;this['pendingRes'+'ponses']['set'](_0x4a5763,this['download'](_0x4a5763,_0x2a18f7));const _0x5141e2=await this['pendingRes'+'ponses']['get'](_0x4a5763);return this['pendingRes'+'ponses']['delete'](_0x4a5763),_0x5141e2;}async['download'](_0x5b8000,_0x10dd9f={}){var _0x44edf9;await((_0x44edf9=this['cacheManag'+'er'])==null?void(0x11f2+-0x2*0x51b+-0x7bc):_0x44edf9['init']());const {forceRefresh:_0x4522cb=!(0x31b+0x216e+-0x2488),..._0x54b5f2}=_0x10dd9f;_0x4522cb&&await this['cacheManag'+'er']['delete'](_0x5b8000);const _0x46e4cc=await this['cacheManag'+'er']['get'](_0x5b8000);if(_0x46e4cc)return _0x46e4cc;let _0x570d94;for(let _0x53a7aa=-0xd*-0x117+-0x1c8e+0xe63;_0x53a7aa<this['retryCount'];_0x53a7aa++)try{const _0x2bdb4f=await fetch(_0x5b8000,_0x54b5f2);if(!_0x2bdb4f['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0x2bdb4f['status']);return await this['cacheManag'+'er']['set'](_0x5b8000,_0x2bdb4f),_0x2bdb4f;}catch(_0x7551c9){console['error']('Download\x20e'+'rror:',_0x7551c9),_0x570d94=_0x7551c9,_0x53a7aa<this['retryCount']-(0x5d6*-0x3+-0xc4*-0x30+-0x133d)&&await new Promise(_0xf9f31d=>setTimeout(_0xf9f31d,this['retryDelay']*(_0x53a7aa+(-0x1fad*0x1+-0x1d36*-0x1+0x278))));}throw _0x570d94;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}['destroy'](){var _0x486ab3;(_0x486ab3=this['cacheManag'+'er'])==null||_0x486ab3['destroy'](),this['cacheManag'+'er']=null,this['downloadQu'+'eue']=[],this['isProcessi'+'ngDownload'+'Queue']=!(0x6ab+-0x20d*-0x4+0xad*-0x16),this['pendingRes'+'ponses']=new Map(),this['pendingRes'+'ponses']['clear']();}}class _0x398b24{constructor(_0x24ac00,_0x2b7bf7=[]){this['elements']=_0x24ac00,this['comments']=_0x2b7bf7,this['isCompress'+'ed']=!(0x40f*-0x2+-0x3d*-0x29+0x1*-0x1a6);}}class _0x5c40f4{constructor(_0x5497a6){this['url']=_0x5497a6;}async['readFragme'+'nt'](){globalThis['fetchWorke'+'r']||(globalThis['fetchWorke'+'r']=new _0x156b79(globalThis['downloadQu'+'eueUrlList']));const _0xea2350=await globalThis['fetchWorke'+'r']['fetch'](this['url']);if(!_0xea2350['ok'])throw new Error('Failed\x20to\x20'+'fetch\x20'+this['url']+':\x20'+_0xea2350['statusText']);const _0x5c1773=await _0xea2350['arrayBuffe'+'r'](),_0x5588ac=new Uint8Array(_0x5c1773);let _0x2b1bd0=0xcd3+0x1703+-0x23d6,{size:_0x145d2b,type:_0x440434}=this['_readBoxHe'+'ader'](_0x5588ac,_0x2b1bd0);if(_0x440434!=='moof')throw new Error('Not\x20a\x20moof');_0x2b1bd0+=0x1*0x685+0x1*-0x43+0x31d*-0x2;const _0x11bbfe=_0x2b1bd0+_0x145d2b-(0x51*0x6f+0x1f5+0x1286*-0x2);let _0x21d5c3=null;for(;_0x2b1bd0<_0x11bbfe;){const {size:_0x6a66b7,type:_0xf3b62d}=this['_readBoxHe'+'ader'](_0x5588ac,_0x2b1bd0);_0x2b1bd0+=0x1*0x128c+0x4b8+0x1*-0x173c;const _0x153f0a=_0x5588ac['slice'](_0x2b1bd0,_0x2b1bd0+_0x6a66b7-(-0x377+-0x2682+0x2a01*0x1));_0x2b1bd0+=_0x6a66b7-(-0x1*-0x16bd+0xcf+-0x1784),_0xf3b62d==='emsg'&&(_0x21d5c3=this['_parseEmsg'](_0x153f0a));}if(!_0x21d5c3)throw new Error('Incomplete'+'\x20moof');const {size:_0xa1b26f,type:_0x2149fa}=this['_readBoxHe'+'ader'](_0x5588ac,_0x2b1bd0);if(_0x2149fa!=='mdat')throw new Error('Expected\x20m'+'dat\x20box\x20af'+'ter\x20moof');_0x2b1bd0+=0x133*0x7+-0xf51+-0x14*-0x59;const _0x7722e7=_0x5588ac['slice'](_0x2b1bd0,_0x2b1bd0+(_0xa1b26f-(0x10f*0x1f+0x110f+-0x31d8)));return{'metadata':_0x21d5c3,'segmentData':_0x7722e7};}['_readBoxHe'+'ader'](_0x34d6d6,_0x243236){if(_0x243236+(0x796+-0x2b5+-0x4d9)>_0x34d6d6['length'])throw new Error('EOF');const _0x4bfa17=_0x34d6d6[_0x243236]<<0x1c13+0x24aa+0x13*-0x367|_0x34d6d6[_0x243236+(-0x8ef*-0x3+-0x2*-0xbaa+-0x1910*0x2)]<<0x3b2*0x2+-0x3c3*-0x7+0x7*-0x4cf|_0x34d6d6[_0x243236+(-0x254c+-0x3cb+0x2919)]<<-0x2ac+0x949*0x3+0x1927*-0x1|_0x34d6d6[_0x243236+(-0xa*-0x316+-0x2*-0x10ea+0x3*-0x158f)],_0x4cf1d4=String['fromCharCo'+'de'](_0x34d6d6[_0x243236+(-0x2153+-0x1025*0x2+0x35*0x13d)],_0x34d6d6[_0x243236+(0x1*0x1375+0x1aa9+-0x2e19*0x1)],_0x34d6d6[_0x243236+(-0x2221+0x26d5+-0x1*0x4ae)],_0x34d6d6[_0x243236+(-0x15e8*-0x1+-0x1cc*0xf+0x513)]);return{'size':_0x4bfa17,'type':_0x4cf1d4};}['_parseEmsg'](_0xd154b9){let _0x8a158a=-0x1*0x2237+0x514+0x1d23;_0x8a158a=_0xd154b9['indexOf'](0xa29+0x2*-0x80f+-0x131*-0x5,_0x8a158a)+(0x26e+-0x1*-0x202f+-0x229c),_0x8a158a=_0xd154b9['indexOf'](0xfd9+0x6b6+-0x168f,_0x8a158a)+(0xf*-0x20e+0x707*-0x4+0x3aef),_0x8a158a+=-0x1*0x2414+0x1e4b+0x5d9;const _0x472433=_0xd154b9['slice'](_0x8a158a);return globalThis['CBOR']['decode'](_0x472433);}}class _0xe2a7dc{constructor(_0x383f22=-0x1b8b*-0x1+0x4c8+-0x1*0x2053,_0x17e69c=-0xba9+0x301*-0x1+-0x1*-0xeaa,_0x25ee0c=0x1828+0x1de0+0x1b04*-0x2,_0xd4b18b=0x1214+-0x95c*-0x3+-0x2e27*0x1){this['x']=_0x383f22,this['y']=_0x17e69c,this['z']=_0x25ee0c,this['w']=_0xd4b18b;}['set'](_0x5ada65,_0x154a04,_0x4dce55,_0x8c6a55){return this['x']=_0x5ada65,this['y']=_0x154a04,this['z']=_0x4dce55,this['w']=_0x8c6a55,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x4254ec=this){let _0x1368fa=_0x4254ec['length']();return _0x1368fa===0x7*0x2f+0x1*0x426+0x6b*-0xd?(this['x']=this['y']=this['z']=0x1504+0x4*-0x69d+-0x2*-0x2b8,this['w']=0x2413+0x1b1+-0x25c3):(_0x1368fa=(-0xb8d+-0x7*-0x1af+-0x1*0x3b)/_0x1368fa,this['x']=_0x4254ec['x']*_0x1368fa,this['y']=_0x4254ec['y']*_0x1368fa,this['z']=_0x4254ec['z']*_0x1368fa,this['w']=_0x4254ec['w']*_0x1368fa),this;}['mulScalar'](_0x443558,_0x88991d=this){return this['x']=_0x88991d['x']*_0x443558,this['y']=_0x88991d['y']*_0x443558,this['z']=_0x88991d['z']*_0x443558,this['w']=_0x88991d['w']*_0x443558,this;}}self['onmessage']=async _0x153719=>{var _0xc3f77b,_0x2efb72;const {data:_0x53e9cb}=_0x153719;switch(_0x53e9cb['type']){case'initWorker':importScripts(_0x53e9cb['cborXUrl']);break;case'destroyWor'+'ker':_0x5de823();break;case'loadGsdMan'+'ifest':const {manifestUrl:_0x41a009,loadRepresentation:_0x121b01}=_0x53e9cb,_0x236e7d=await _0x24b155(_0x41a009,_0x121b01);globalThis['manifestUr'+'l']=_0x41a009,globalThis['manifest']=_0x236e7d,globalThis['resentatio'+'n']=_0x236e7d['representa'+'tion'],globalThis['downloadQu'+'eueUrlList']=_0x48b894(),globalThis['fetchWorke'+'r']=new _0x156b79(globalThis['downloadQu'+'eueUrlList']),self['postMessag'+'e']({'type':'onloadMani'+'fest','data':_0x236e7d,'url':_0x41a009,'representation':_0x121b01});break;case'loadGsdSeg'+'ments':try{const _0x2b7f72=_0x2cd677(globalThis['manifest'],globalThis['resentatio'+'n']),_0x2b5533=await _0x46fa1f(globalThis['manifest'],_0x2b7f72),_0x2ff88c=(_0xc3f77b=_0x2b5533==null?void(-0x6*-0x48+0xe4c+-0xffc):_0x2b5533['elements'][0x14*-0x1bb+0x3*-0x2c7+0x2af1])==null?void(-0x1*0x1fbd+0x1*-0x1927+0x38e4):_0xc3f77b['properties']['map'](_0x3cc008=>_0x3cc008['storage']['buffer']);self['postMessag'+'e']({'type':'loadGsdSeg'+'mentsDone','data':_0x2b5533,'url':globalThis['manifestUr'+'l'],'representation':globalThis['resentatio'+'n']},_0x2ff88c);}catch(_0x18a980){console['error']('Error\x20load'+'ing\x20GSD:',_0x18a980),self['postMessag'+'e']({'type':'error','data':_0x18a980['message'],'url':globalThis['manifestUr'+'l']});}break;case'loadTimeli'+'neIndexSeg'+'ments':const {timelineIndexs:_0x429556}=_0x53e9cb;try{const _0x23d832=_0x2cd677(globalThis['manifest'],globalThis['resentatio'+'n']),_0x446a7f=await _0x5f5dd2(globalThis['manifest'],_0x23d832,_0x429556),_0x291c74=(_0x2efb72=_0x446a7f==null?void(0x1b96+-0x588*-0x6+0x2*-0x1e63):_0x446a7f['elements'][0x1*-0x1ba1+-0x1*0x13eb+-0x17c6*-0x2])==null?void(-0x1c*0xeb+-0x2694+0x4048):_0x2efb72['properties']['map'](_0x201efd=>_0x201efd['storage']['buffer']);self['postMessag'+'e']({'type':'loadTimeli'+'neIndexSeg'+'mentsDone','data':_0x446a7f,'timelineIndexs':_0x429556,'url':globalThis['manifestUr'+'l'],'representation':globalThis['resentatio'+'n']},_0x291c74);}catch(_0x11e1b3){console['error']('Error\x20load'+'ing\x20GSD:',_0x11e1b3),self['postMessag'+'e']({'type':'error','data':_0x11e1b3['message'],'url':globalThis['manifestUr'+'l']});}break;}};const _0x5de823=()=>{var _0x20b8ea;globalThis['manifestUr'+'l']=null,globalThis['manifest']=null,globalThis['resentatio'+'n']=null,(_0x20b8ea=globalThis['fetchWorke'+'r'])==null||_0x20b8ea['destroy'](),globalThis['fetchWorke'+'r']=null,globalThis['downloadQu'+'eueUrlList']=[],globalThis['loadedSegm'+'ents']=[],globalThis['currentLoa'+'dSg']=null;},_0x48b894=()=>{const _0x191bc8=new Set(),_0x4a6c47=_0x2cd677(globalThis['manifest'],globalThis['resentatio'+'n']),_0x1c51be=globalThis['manifest']['baseUrl'],_0x240fea=_0x4a6c47['segmentTem'+'plate'][-0x1*0x116a+-0x14fb*0x1+0x2665];for(const _0x1a0d9e of _0x240fea['segmentTim'+'eline'])for(const _0x556807 of _0x1a0d9e['nl']){const _0x1cf73f=''+_0x1c51be+_0x240fea['media']['replace']('$SegGroupI'+'ndex$',String(_0x1a0d9e['sg']))['replace']('$NodeIndex'+'$',String(_0x556807));_0x191bc8['add'](_0x1cf73f);}return Array['from'](_0x191bc8);},_0x24b155=async(_0x48cec0,_0x3542c7)=>{const _0x189d99=await(await fetch(_0x48cec0))['text'](),_0x4cd8c7=JSON['parse'](_0x189d99);_0x4cd8c7['baseUrl']=_0x48cec0['replace'](/\/[^\/]*$/,'/');const {schemas:_0x127255,gsiUrl:_0x1cb781,repId:_0x41680b}=await _0x376d3f(_0x4cd8c7,_0x3542c7);return _0x4cd8c7['schemas']=_0x127255,_0x4cd8c7['gsiUrl']=_0x1cb781,_0x4cd8c7['representa'+'tion']=_0x41680b,_0x4cd8c7;},_0x376d3f=async(_0x3a3698,_0x4de6ce)=>{let _0x262062=null,_0x5e85e8=null;for(const _0x1b4f12 of _0x3a3698['adaptation'+'Sets'])if(_0x1b4f12['contentTyp'+'e']==='4dgs'){_0x5e85e8=_0x1b4f12;for(const _0xa8c8a7 of _0x1b4f12['representa'+'tions'])if(_0xa8c8a7['id']===_0x4de6ce){_0x262062=_0xa8c8a7;break;}break;}_0x262062||(_0x262062=_0x5e85e8['representa'+'tions'][-0x5*0x209+0x53b+0xd3*0x6],console['warn']('Representa'+'tion\x20\x27'+_0x4de6ce+('\x27\x20not\x20foun'+'d,\x20use\x20the'+'\x20first\x20rep'+'resentatio'+'n\x20instead')));const _0x5a5dc7=_0x262062['id'],_0x4dd50a=_0x3a3698['baseUrl']+_0x5a5dc7+('/init.gsi.'+'json'),_0x5e1058=await(await fetch(_0x4dd50a))['text'](),_0x1d125c=JSON['parse'](_0x5e1058),_0x113ad5={};return _0x113ad5[_0x5a5dc7]=_0x1d125c,{'schemas':_0x113ad5,'gsiUrl':_0x4dd50a,'repId':_0x5a5dc7};},_0x2cd677=(_0x2d3a8b,_0x45a52e='high-quant'+'ized')=>{let _0x2c9d9c=null;for(const _0x4661e5 of _0x2d3a8b['adaptation'+'Sets'])if(_0x4661e5['contentTyp'+'e']==='4dgs'){for(const _0x2c4fe0 of _0x4661e5['representa'+'tions'])if(_0x2c4fe0['id']===_0x45a52e){_0x2c9d9c=_0x2c4fe0;break;}break;}if(!_0x2c9d9c)throw new Error('Representa'+'tion\x20\x27'+_0x45a52e+('\x27\x20not\x20foun'+'d'));return _0x2c9d9c;},_0x46fa1f=async(_0x10be4e,_0x2dc13f)=>{const _0x594bfa=_0x2dc13f['id'],_0x294aef=_0x10be4e['schemas'][_0x594bfa]['attributes'],_0x19e9c2=_0x2dc13f['segmentTem'+'plate'][0x3cb*0x4+-0x2560+0x7*0x32c];globalThis['loadedSegm'+'ents']=[];const _0x264f0a=[],_0x3f421e=[];for(const _0x2b64df of _0x19e9c2['segmentTim'+'eline'])for(const _0x2b404c of _0x2b64df['nl']){if(globalThis['loadedSegm'+'ents']['includes'](_0x2b64df['sg']+'_'+_0x2b404c))continue;globalThis['loadedSegm'+'ents']['push'](_0x2b64df['sg']+'_'+_0x2b404c);const _0x39f0f0=await _0x57dc9e(_0x10be4e,_0x2dc13f,_0x294aef,_0x2b64df['sg'],_0x2b404c);_0x3f421e['push'](_0x39f0f0['decoded']),_0x264f0a['push'](_0x39f0f0['metadata']);}return _0x3107a5(_0x3f421e,_0x294aef,_0x10be4e['comments']);},_0x5f5dd2=async(_0x1e39f2,_0x251a27,_0x4c0dcb)=>{if(!_0x4c0dcb||_0x4c0dcb['length']===-0x48f*0x4+0x1d74+-0xb38)return{'decoded':[],'metadata':[]};const _0x2c2bdd=_0x251a27['id'],_0x552362=_0x1e39f2['schemas'][_0x2c2bdd]['attributes'],_0x246a67=_0x251a27['segmentTem'+'plate'][0x197f+0x1*-0x147c+-0x1*0x503];globalThis['loadedSegm'+'ents']||(globalThis['loadedSegm'+'ents']=[]);const _0x2725c9=_0x246a67['segmentTim'+'eline'][_0x4c0dcb[0xc5*-0x19+-0x1847+-0xae1*-0x4]];globalThis['currentLoa'+'dSg']!==_0x2725c9['sg']&&(globalThis['loadedSegm'+'ents']=globalThis['loadedSegm'+'ents']['filter'](_0x1ddb48=>!_0x1ddb48['startsWith'](globalThis['currentLoa'+'dSg'])),globalThis['currentLoa'+'dSg']=_0x2725c9['sg']);let _0x4cb6b1;const _0x512a78=[];for(const _0x2935bb of _0x4c0dcb){_0x4cb6b1=_0x246a67['segmentTim'+'eline'][_0x2935bb];for(const _0x20d7eb of _0x4cb6b1['nl'])globalThis['loadedSegm'+'ents']['includes'](_0x4cb6b1['sg']+'_'+_0x20d7eb)||(globalThis['loadedSegm'+'ents']['push'](_0x4cb6b1['sg']+'_'+_0x20d7eb),_0x512a78['push'](_0x20d7eb));}const _0x1b39df=await _0x57dc9e(_0x1e39f2,_0x251a27,_0x552362,_0x4cb6b1['sg'],_0x512a78);_0x1b39df['metadata'];const _0x5cda5b=_0x1b39df['decoded'];return _0x3107a5(_0x5cda5b,_0x552362,_0x1e39f2['comments']);},_0x57dc9e=async(_0x2e0baf,_0x531865,_0x216778,_0x2867a6,_0x2810ce)=>{const _0x253afe=_0x2e0baf['baseUrl'],_0x52d262=_0x531865['segmentTem'+'plate'][0x152b+-0x8b*-0x29+0x147*-0x22]['media'],_0x3e19df=_0x2810ce['map'](_0x1ca9eb=>''+_0x253afe+_0x52d262['replace']('$SegGroupI'+'ndex$',String(_0x2867a6))['replace']('$NodeIndex'+'$',String(_0x1ca9eb))),_0x369eac=await Promise['all'](_0x3e19df['map'](async _0x1814a9=>{const _0x3ad00f=await _0x516683(_0x1814a9),_0x2e5ac9=_0x3ad00f['metadata'],_0x3527f0=_0x3ad00f['segmentDat'+'a'],_0x5bbe5c=_0x2e5ac9['gaussianCo'+'unt'];console['log']('loadSegmen'+'t\x20'+_0x1814a9),console['log']('loadSegmen'+'t\x20timeStar'+'t:',_0x2e5ac9['timeStart'],'segment\x20ti'+'meEnd:',_0x2e5ac9['timeEnd'],'segment\x20ga'+'ussianCoun'+'t:',_0x5bbe5c);let _0x50d5ce;if(_0x531865['id']['includes']('quantized')){const _0x1600a8=_0x2e5ac9['chunk_boun'+'ds'];_0x50d5ce=_0xea3b1e(_0x3527f0,_0x5bbe5c,_0x216778,_0x2867a6,_0x1600a8);}else _0x50d5ce=_0x2a27a8(_0x3527f0,_0x5bbe5c,_0x216778,_0x2867a6);return{'decoded':_0x50d5ce,'metadata':_0x2e5ac9};})),_0x1d5c94=_0x369eac['map'](_0x529f51=>_0x529f51['decoded']),_0x10c430=_0x369eac['map'](_0x1249b1=>_0x1249b1['metadata']);return{'decoded':_0x1d5c94,'metadata':_0x10c430};},_0x3107a5=(_0x4a5c67,_0x478910,_0x24083a)=>{if(_0x4a5c67['length']===-0x946+-0x15*-0x87+-0x1cd)return new _0x398b24([{'name':'vertex','count':0x0,'properties':[{'name':'position','type':'float','storage':new Float32Array(-0x1*0x1ac3+-0x211*-0x2+0x16a1),'byteSize':0x4},{'name':'color_opac'+'ity','type':'uint16','storage':new Uint16Array(-0x1*-0x22b9+-0x230e+0x55),'byteSize':0x2},{'name':'t','type':'float','storage':new Float32Array(0x2*0xa81+-0x34*0x13+-0x1126),'byteSize':0x4},{'name':'t_scale','type':'float','storage':new Float32Array(0x90a*0x1+0x1360+0x1*-0x1c6a),'byteSize':0x4},{'name':'cutoff','type':'float','storage':new Float32Array(-0x1d78+0x1540+0x838),'byteSize':0x4},{'name':'motion','type':'float','storage':new Float32Array(0x19*-0x59+-0xcd3+0x1584),'byteSize':0x4},{'name':'rotation','type':'float','storage':new Float32Array(0x1*-0x784+0x47*-0x11+0xc3b),'byteSize':0x4},{'name':'scale','type':'uint16','storage':new Uint16Array(0x148d*0x1+-0x2493+-0x803*-0x2),'byteSize':0x2},{'name':'time_index','type':'float','storage':new Float32Array(0x3*0x537+0x18db+-0x2880),'byteSize':0x4}]}],_0x24083a);const _0x783bbd=_0x5dba06(_0x4a5c67),[_0x320dc7,_0xfcabd3,_0x446ddc]=_0x5537e6(_0x783bbd['lifecycle'],0x1493+-0x1*0x210e+0x215*0x6,Float32Array),_0x472aed=_0x783bbd['time_index'],_0x1271f5=_0x478910['find'](_0x3554f1=>_0x3554f1['name']==='feature_re'+'st'),_0xb46c85=[];if(_0x1271f5&&_0x783bbd['feature_re'+'st']){const _0x4ed9a2=_0x1271f5['dataType']['split'](',')[0x10a4*-0x2+-0x1*0x8bf+0x2a08]['trim']()['replace']('>',''),_0x26af40=_0x5537e6(_0x783bbd['feature_re'+'st'],-0x16*0x29+0x10f8*0x2+-0x1e67,Float32Array);for(const _0x18ba1c of _0x26af40){const _0x5264b3=_0x5537e6(_0x18ba1c,_0x4ed9a2/(0x22d1*-0x1+-0x1*-0x337+0x1f9d),Float32Array);for(let _0x52b797=0x471+-0x592+-0x11*-0x11;_0x52b797<_0x5264b3['length'];_0x52b797++)_0xb46c85['push']({'name':'f_rest_'+_0x52b797,'type':'float','storage':_0x5264b3[_0x52b797],'byteSize':0x4});}}return new _0x398b24([{'name':'vertex','count':_0x783bbd['position']['length']/(-0x79*-0x2b+-0x17*-0x6a+-0x1dd6),'properties':[{'name':'position','type':'float','storage':_0x783bbd['position'],'byteSize':0x4},{'name':'color_opac'+'ity','type':'uint16','storage':_0x783bbd['color_opac'+'ity'],'byteSize':0x2},{'name':'t','type':'float','storage':_0xfcabd3,'byteSize':0x4},{'name':'t_scale','type':'float','storage':_0x320dc7,'byteSize':0x4},{'name':'cutoff','type':'float','storage':_0x446ddc,'byteSize':0x4},{'name':'motion','type':'float','storage':_0x783bbd['motion'],'byteSize':0x4},{'name':'rotation','type':'float','storage':_0x783bbd['rotation'],'byteSize':0x4},{'name':'scale','type':'uint16','storage':_0x783bbd['scale'],'byteSize':0x2},{'name':'time_index','type':'float','storage':_0x472aed,'byteSize':0x4},..._0xb46c85]}],_0x24083a);},_0x5537e6=(_0x5118ff,_0x31dfbc,_0x12d171)=>{const _0x5a362a=new Array(_0x31dfbc),_0x62a651=Math['floor'](_0x5118ff['length']/_0x31dfbc),_0x493ef7=_0x5118ff['length']%_0x31dfbc;for(let _0x19b8d6=0xdc7+-0x267d+0x18b6;_0x19b8d6<_0x31dfbc;_0x19b8d6++){const _0x1628a1=_0x19b8d6<_0x493ef7?_0x62a651+(-0x22a3*0x1+-0x1e*0x61+0x2e02):_0x62a651;_0x5a362a[_0x19b8d6]=new _0x12d171(_0x1628a1);}for(let _0x2ec8b3=0x1*-0x19ef+-0x83f+0x222e;_0x2ec8b3<_0x5118ff['length'];_0x2ec8b3++){const _0x468ca1=_0x2ec8b3%_0x31dfbc,_0x1786d7=Math['floor'](_0x2ec8b3/_0x31dfbc);_0x5a362a[_0x468ca1][_0x1786d7]=_0x5118ff[_0x2ec8b3];}return _0x5a362a;},_0x516683=async _0x7f8387=>{const _0x3c10e5=new _0x5c40f4(_0x7f8387),{metadata:_0x54d6c5,segmentData:_0x199bb8}=await _0x3c10e5['readFragme'+'nt']();return{'metadata':_0x54d6c5,'segmentData':_0x199bb8};},_0xb750ba=(_0x387a32,_0x3ec1b8)=>{let _0x436530,_0x3c7074,_0xee4baa=-(0x1e1a+-0x2409+0x5f0);if(_0x387a32['encoding']){const _0x2acba7=_0x387a32['encoding']['storageTyp'+'e'];if(_0x2acba7==='uint32')_0x3c7074=Uint32Array,_0x436530=Uint32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x2acba7['startsWith']('array<ucha'+'r')){_0x3c7074=Uint8Array;const _0x3d493d=_0x2acba7['split'](',')[0x1145*-0x1+0x3b9+0xd8d]['trim']()['replace']('>','');_0xee4baa=parseInt(_0x3d493d),_0x436530=_0xee4baa*Uint8Array['BYTES_PER_'+'ELEMENT'];}else throw new Error('Unsupporte'+'d\x20storage\x20'+'type:\x20'+_0x2acba7);}}else{if(_0x3c7074=Float32Array,_0x387a32['dataType']==='vec3f')_0x436530=(0xddd+-0x169+-0xc71)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x387a32['dataType']==='vec4f')_0x436530=(0x1fa+-0x900+0x1*0x70a)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x387a32['dataType']==='vec2f')_0x436530=(-0xd37*0x2+0x968+0x14*0xda)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x387a32['dataType']['startsWith']('array<floa'+'t')){const _0x558a12=_0x387a32['dataType']['split'](',')[-0x4*0x909+0x3*0xb0f+0x2f8]['trim']()['replace']('>','');_0xee4baa=parseInt(_0x558a12),_0x436530=_0xee4baa*Float32Array['BYTES_PER_'+'ELEMENT'];}else throw new Error('Unsupporte'+'d\x20data\x20typ'+'e:\x20'+_0x387a32['dataType']);}}}}return{'dataSize':_0x3ec1b8*_0x436530,'datatype':_0x3c7074,'arraySize':_0xee4baa};},_0x3c63f4=(_0x49627d,_0x4bc962)=>{const _0x54ef2b=(-0x26b+0x2f*0xd+0x9<<_0x4bc962)-(0x89*0x3c+-0x1988+-0x693);return(_0x49627d&_0x54ef2b)/_0x54ef2b;},_0x34d2f4=_0x2d56c9=>{const _0x1a639c=new Float32Array(_0x2d56c9['length']*(0x2202+0x1a75+0x92*-0x6a));for(let _0xa52043=0xe0c+-0x1*0xc1d+0x21*-0xf;_0xa52043<_0x2d56c9['length'];_0xa52043++)_0x1a639c[_0xa52043*(-0x29e+-0x13bf+0x1660)]=_0x3c63f4(_0x2d56c9[_0xa52043]>>>0x2*0xe09+0x1d*-0x14f+-0x1fe*-0x5,-0xc81+-0x754*-0x1+0x538),_0x1a639c[_0xa52043*(0x1557+0x1*-0x3fb+0x1*-0x1159)+(-0x106c+0xf96+0xd7)]=_0x3c63f4(_0x2d56c9[_0xa52043]>>>-0x2399+0x1*0x2419+-0x27*0x3,0x230d+-0x58a+-0x1d79),_0x1a639c[_0xa52043*(-0xda5+0x7*0x2ab+-0x505)+(-0x2c*0x71+0x1*-0x904+0x1c72)]=_0x3c63f4(_0x2d56c9[_0xa52043],-0x1405+0x20a8*-0x1+0x34b8);return _0x1a639c;},_0x380128=_0xf3df1d=>{const _0x3dc9c3=new Float32Array(_0xf3df1d['length']*(0xdaf+-0x2fc*0x5+0x141));for(let _0x60a78a=-0x21d7+-0x252b*-0x1+-0x354;_0x60a78a<_0xf3df1d['length'];_0x60a78a++)_0x3dc9c3[_0x60a78a*(-0xdbe+0x5c9+0x7f9*0x1)]=_0x3c63f4(_0xf3df1d[_0x60a78a]>>>-0x10c4+-0x2d0*0x9+0x2a2c,-0x5c9+-0xd09*-0x1+-0x738),_0x3dc9c3[_0x60a78a*(0x169e+0x1824+-0x2ebe)+(0x4*-0x97a+0xfcb+0x26*0x95)]=_0x3c63f4(_0xf3df1d[_0x60a78a]>>>-0x11d+0x2415*0x1+-0x22e8,-0x1026+0x1d7b+-0x1*0xd4d),_0x3dc9c3[_0x60a78a*(-0x634*-0x3+-0x551*-0x2+-0x3*0x9be)+(-0x5*-0x47+0x1209+0xa*-0x1f1)]=_0x3c63f4(_0xf3df1d[_0x60a78a]>>>-0x295*0x5+-0x25c1+0x32b2,-0x67d+-0x1718+-0x1d9d*-0x1),_0x3dc9c3[_0x60a78a*(0x2b*0x6a+0x1c04+-0x215*0x16)+(-0x2*0x439+0x1e2*-0xe+0x22d1*0x1)]=_0x3c63f4(_0xf3df1d[_0x60a78a],-0x1*-0x3a9+0x5*0x112+-0x8fb);return _0x3dc9c3;},_0x125d7c=_0x56c6c2=>{const _0x2040c4=new Float32Array(_0x56c6c2['length']*(0x21b7+0x93e+0x2af2*-0x1)),_0x3b7286=(0x1fde*-0x1+-0x11b*-0x12+0xbf9)/(Math['sqrt'](-0xd21+-0x32+0xd55)*(-0x1*0x1fb7+-0x9a1+0x2958+0.5));for(let _0x4f1071=0xb20+0xac*-0x15+0x2fc;_0x4f1071<_0x56c6c2['length'];_0x4f1071++){const _0x815d32=(_0x3c63f4(_0x56c6c2[_0x4f1071]>>>0xc9*0x11+-0x1d*0xe6+0xcc9,-0x1b58+0x1c2f+0x5*-0x29)-(-0x213d+-0xfc5+-0x1056*-0x3+0.5))*_0x3b7286,_0x4c4855=(_0x3c63f4(_0x56c6c2[_0x4f1071]>>>0xd1c+-0x3bc+0x4ab*-0x2,-0xc47+0x24d7+-0x1886)-(0x1a1b+-0x3*0x9a9+0x2e0+0.5))*_0x3b7286,_0x407bb5=(_0x3c63f4(_0x56c6c2[_0x4f1071],-0x1*0x7e2+0x1*0x1290+-0xaa4)-(-0x100c*0x2+-0xf2d+0x1*0x2f45+0.5))*_0x3b7286,_0x4d08d1=Math['sqrt'](-0x15bf+-0x3*0xa1+0x17a3-(_0x815d32*_0x815d32+_0x4c4855*_0x4c4855+_0x407bb5*_0x407bb5));let _0x46a199=-0x1499+-0x283*0x2+-0x1*-0x199f,_0x1a6cc2=0x1a1+0x2*-0xef7+0x1c4d,_0x35acea=-0x10*-0xa4+-0xe41+0x401,_0x4ebcec=-0x2151+0xfc5+-0x2*-0x8c6;switch(_0x56c6c2[_0x4f1071]>>>-0xf56+0x428+0xb4c){case 0x22d*-0x11+0x260d+-0x44*0x4:_0x46a199=_0x4d08d1,_0x1a6cc2=_0x815d32,_0x35acea=_0x4c4855,_0x4ebcec=_0x407bb5;break;case-0x2213+0x257d+0x123*-0x3:_0x46a199=_0x4d08d1,_0x1a6cc2=_0x4c4855,_0x35acea=_0x407bb5,_0x4ebcec=_0x815d32;break;case 0x8e*0x2b+0x443*0x5+0x2d27*-0x1:_0x46a199=_0x4c4855,_0x1a6cc2=_0x4d08d1,_0x35acea=_0x407bb5,_0x4ebcec=_0x815d32;break;case 0x1052+-0x3*0x94d+0xb98:_0x46a199=_0x4c4855,_0x1a6cc2=_0x407bb5,_0x35acea=_0x4d08d1,_0x4ebcec=_0x815d32;break;}const _0x3615df=_0x438d76(_0x46a199,_0x1a6cc2,_0x35acea,_0x4ebcec);_0x2040c4[_0x4f1071*(0x63*0x7+-0x1*-0x2498+0xd6*-0x2f)]=_0x3615df['x'],_0x2040c4[_0x4f1071*(-0x1e64+0xb31+-0x1336*-0x1)+(-0x2678*-0x1+0x43*0x27+-0x30ac)]=_0x3615df['y'],_0x2040c4[_0x4f1071*(-0x730+-0x1be5+0x8*0x463)+(-0x383+0x1*-0x121d+0x15a2)]=_0x3615df['z'];}return _0x2040c4;},_0x551576=(_0x534191,_0x5e66cb,_0x5c23dc)=>{const _0x482dea=_0x5c23dc-_0x5e66cb,_0x26987c=new Float32Array(_0x534191['length']);for(let _0x4294b0=0x683*0x1+0x19b4+-0x2037;_0x4294b0<_0x534191['length'];_0x4294b0++)_0x26987c[_0x4294b0]=_0x534191[_0x4294b0]/(-0x18f+-0x245*0x9+0x16fb)*_0x482dea+_0x5e66cb;return _0x26987c;},_0x4ebf93=new Float32Array(-0x1423+-0x3ab*0x3+0x1f25),_0xcfbe1a=new Int32Array(_0x4ebf93['buffer']),_0x2b83a7=_0x29769d=>{_0x4ebf93[0x15*-0x133+-0xb71*0x1+0x24a0]=_0x29769d;const _0x1dd261=_0xcfbe1a[0x5ba*-0x2+-0x923+0x1497];let _0x3c94af=_0x1dd261>>-0x15d*-0x6+-0x249e+-0xc*-0x260&-0x3df*0x17+0x8135*-0x1+0x15a3e,_0xe0ab95=_0x1dd261>>-0x1*-0x1d89+-0x4dc+-0x5*0x4ed&-0xb*0x25+0x18d+0x809;const _0x421b31=_0x1dd261>>0x2*-0xdfa+0x22f2+-0x13*0x5d&0x48e+0x1*0xede+-0x126d;return _0x421b31<0x1f42+0x1f*0x45+0x139b*-0x2?_0x3c94af:_0x421b31>0xe*-0x26e+-0xc7e+0x7d8*0x6?(_0x3c94af|=-0xd770+-0x21*0x722+0x23ed2,_0x3c94af|=(_0x421b31===-0x1591+0x1*-0x16b6+0x2d46?-0xc9a*-0x3+0x1*-0x2225+-0x3a9:0x418+0x1a1f+-0x1e36)&&_0x1dd261&0x32ed52+0x3535eb+0x7*0x368ae,_0x3c94af):_0x421b31<0x2f8+0x918*0x1+-0xb9f?(_0xe0ab95|=-0x16a7*0x1+0x204d+0xd3*-0x2,_0x3c94af|=(_0xe0ab95>>0x6b*-0x35+0x1*0x859+0xe40-_0x421b31)+(_0xe0ab95>>0x13*-0x1f+-0x2*0x146+0x54a-_0x421b31&0xc*0x42+0xb*0x117+0x14*-0xc1),_0x3c94af):(_0x3c94af|=_0x421b31-(0x10*-0xa6+-0x2447*-0x1+-0x1977)<<-0x56*-0x6b+0x5ac+-0x2994|_0xe0ab95>>-0x1*-0x1a01+0x4*0x4d6+-0x4*0xb56,_0x3c94af+=_0xe0ab95&0x8c9*0x1+0x2f*0x5f+-0x1a39,_0x3c94af);},_0x1ed7fd=_0x3ce2cb=>{const _0x40eb93=new Uint16Array(_0x3ce2cb['length']);for(let _0xc8a8e2=-0x2da*-0x4+0x1*-0x180b+0x287*0x5;_0xc8a8e2<_0x3ce2cb['length']/(-0x472+-0x7*-0x225+-0xa8d);++_0xc8a8e2)_0x40eb93[_0xc8a8e2*(-0x3*-0x6f1+-0x1*-0x161c+-0x2aeb*0x1)]=_0x2b83a7(_0x3ce2cb[_0xc8a8e2*(0x1d*0x3c+0x1*0x2614+-0x2cdc)]*_0x2ecafd+(0x761*-0x3+-0x26*-0xcb+-0x59*0x17+0.5)),_0x40eb93[_0xc8a8e2*(-0x1d3a+-0x91*0x32+0x3990)+(0x1119*0x1+-0xf24+-0x14*0x19)]=_0x2b83a7(_0x3ce2cb[_0xc8a8e2*(0x18e0+0x49a+-0x1d76)+(-0x980+0x133b+-0x9ba)]*_0x2ecafd+(-0xa6a+-0x1c0e+0x2*0x133c+0.5)),_0x40eb93[_0xc8a8e2*(0x13c6+-0x233a+-0x108*-0xf)+(-0x1*-0x47+0x2166+-0x21ab)]=_0x2b83a7(_0x3ce2cb[_0xc8a8e2*(-0x18cf*-0x1+0x4*0x17f+-0x1ec7)+(-0x16dc+-0x1a7b*-0x1+-0x39d)]*_0x2ecafd+(0x11*-0x123+-0x1*0x169b+-0xdfa*-0x3+0.5)),_0x40eb93[_0xc8a8e2*(0x3*-0x26b+-0x705*-0x2+-0x6c5)+(0x4a*0x5+-0x428+0x2b9)]=_0x2b83a7(_0x3ce2cb[_0xc8a8e2*(-0x212c+-0xcc0+0x150*0x23)+(0x3f2*0x9+0x22ec*0x1+0x466b*-0x1)]);return _0x40eb93;},_0x54e37c=new _0xe2a7dc(0xb*0x2a1+-0x26a9+0x9be,-0xa57+0x1bba+-0x1163,0x5*0x7be+0x2423*-0x1+-0x293,0x4bf*0x2+0x1*0x155+-0x1*0xad3),_0x438d76=(_0x504c4f,_0x138649,_0xdad231,_0x2fa1f4)=>(_0x54e37c['set'](_0x138649,_0xdad231,_0x2fa1f4,_0x504c4f),_0x54e37c['normalize'](),_0x54e37c['w']<-0xf31+0x185*-0x7+0xc*0x227&&_0x54e37c['mulScalar'](-(0x18c8+-0x1fb*-0x3+-0x1eb8)),_0x54e37c);function _0xea3b1e(_0x1d997c,_0x23d3a3,_0x4d3380,_0x474669,_0x47b85f){const _0x4d3c0b=_0x47b85f[Object['keys'](_0x47b85f)[-0xceb+0x21b9+-0x14ce]]['length'],_0x599422=-0x1cb6+-0x1658+0x340e*0x1;let _0x1022f9=[],_0x34212a=_0x23d3a3;for(let _0x39147a=0xb80+-0x1dae+0x122e;_0x39147a<_0x4d3c0b;_0x39147a++){const _0x5e788b=Math['min'](_0x599422,_0x34212a);_0x1022f9['push'](_0x5e788b),_0x34212a-=_0x5e788b;}let _0x457eda=0x1927*-0x1+0x14f+0x17d8,_0x4b91a5={};for(let _0x156beb of _0x4d3380){const _0xea4f27=_0x156beb['name'],{dataSize:_0x20c4ba,datatype:_0x4d9c15}=_0xb750ba(_0x156beb,_0x23d3a3);let _0xbe5058=_0x1d997c['buffer']['slice'](_0x457eda,_0x457eda+_0x20c4ba),_0x457f6f=new _0x4d9c15(_0xbe5058);_0x4b91a5[_0xea4f27]=_0x457f6f,_0x457eda+=_0x20c4ba;}let _0x18a5f6=[],_0x49f3d3=0x651+-0xf87+-0x106*-0x9;for(let _0x22dc97=0x1258+-0x3c6+-0xe92;_0x22dc97<_0x4d3c0b;_0x22dc97++){const _0x3cd31e=_0x215432(_0x4b91a5,_0x47b85f,_0x22dc97,_0x1022f9,_0x49f3d3,_0x4d3380),_0x50f33b=_0x3cd31e['chunkDecom'+'pressed'];_0x18a5f6['push'](_0x50f33b),_0x49f3d3=_0x3cd31e['chunkStart'+'Idx'];}let _0x2f838f={};for(let _0x16e7bc of Object['keys'](_0x18a5f6[0x1b0+-0x16a8+0x29f*0x8])){let _0x115bd2=0x163*0x15+0x1e85+-0x3ba4;for(let _0x1b6d8c=0x1528+-0x22f*-0x8+-0x26a0;_0x1b6d8c<_0x18a5f6['length'];_0x1b6d8c++)_0x115bd2+=_0x18a5f6[_0x1b6d8c][_0x16e7bc]['length'];_0x16e7bc==='color_opac'+'ity'||_0x16e7bc==='scale'?_0x2f838f[_0x16e7bc]=new Uint16Array(_0x115bd2):_0x2f838f[_0x16e7bc]=new Float32Array(_0x115bd2);let _0x2d6b43=-0x1c73+-0x23*-0x62+0xf0d;for(let _0x383cc3=0x18c9+-0x1*0x16fa+-0x1cf*0x1;_0x383cc3<_0x18a5f6['length'];_0x383cc3++)_0x2f838f[_0x16e7bc]['set'](_0x18a5f6[_0x383cc3][_0x16e7bc],_0x2d6b43),_0x2d6b43+=_0x18a5f6[_0x383cc3][_0x16e7bc]['length'];}return _0x4d3380['some'](_0x3ae233=>_0x3ae233['name']==='feature_re'+'st')&&(_0x2f838f['feature_re'+'st']=_0x4f539a(_0x4b91a5,_0x4d3380)),_0x2f838f['time_index']=new Float32Array(_0x23d3a3),_0x2f838f['time_index']['fill'](_0x474669-(0x417*0x8+0x130+0x107*-0x21)),_0x2f838f;}const _0x215432=(_0x47aa9c,_0x57ea24,_0x2d43e0,_0x542a58,_0x395e73,_0x15d2cc)=>{const _0x4dbbee=_0x542a58[_0x2d43e0],_0x50ec62=_0x395e73+_0x4dbbee,_0x45511c=(_0x41016d,_0xc457c0,_0x7a8a83)=>_0x41016d*(-0x1*0x39d+-0xc5*-0x11+-0x977-_0x7a8a83)+_0xc457c0*_0x7a8a83;let _0x1590eb={};for(let _0xce38d4 of _0x15d2cc){const _0x24f2d7=_0xce38d4['name'],_0x19fa27=_0xce38d4['encoding']['codec'],_0x55b8d2=_0x47aa9c[_0x24f2d7]['slice'](_0x395e73,_0x50ec62);if(_0x19fa27==='pack_11_10'+'_11'){if(_0x24f2d7==='scale'){const _0x4a55df=_0x57ea24['min_scales'][_0x2d43e0],_0x65a2fa=_0x57ea24['max_scales'][_0x2d43e0],_0x324b70=_0x34d2f4(_0x55b8d2),_0x1b346d=_0x324b70['length'],_0x18e65d=new Uint16Array(_0x1b346d);for(let _0x24ef8f=-0x204a+0x171*0xb+0x106f;_0x24ef8f<_0x1b346d;_0x24ef8f++)_0x18e65d[_0x24ef8f]=_0x2b83a7(Math['exp'](_0x45511c(_0x4a55df[_0x24ef8f%(-0x2*0xe6d+0x2*-0xb80+0x33dd)],_0x65a2fa[_0x24ef8f%(0x24*0x7b+-0x673+-0x1*0xad6)],_0x324b70[_0x24ef8f])));_0x1590eb[_0x24f2d7]=_0x18e65d;}else{const _0x27e793=_0x34d2f4(_0x55b8d2);let _0x48b167,_0x507e8c;if(_0x24f2d7==='position')_0x48b167=_0x57ea24['min_means'][_0x2d43e0],_0x507e8c=_0x57ea24['max_means'][_0x2d43e0];else{if(_0x24f2d7==='motion')_0x48b167=_0x57ea24['min_motion'][_0x2d43e0],_0x507e8c=_0x57ea24['max_motion'][_0x2d43e0];else{if(_0x24f2d7==='lifecycle'){const _0xc18003=_0x57ea24['min_t_scal'+'e'][_0x2d43e0],_0x4b7fcd=_0x57ea24['max_t_scal'+'e'][_0x2d43e0],_0x2b34f0=_0x57ea24['min_time'][_0x2d43e0],_0x49f572=_0x57ea24['max_time'][_0x2d43e0],_0x1e4502=_0x57ea24['min_cutoff'][_0x2d43e0],_0x3c1e41=_0x57ea24['max_cutoff'][_0x2d43e0];_0x48b167=[_0xc18003[-0x15c2+-0x4*-0x2e3+0xa36],_0x2b34f0[-0x13c7*-0x1+-0xe6c+-0x55b*0x1],_0x1e4502[-0x1219+-0x54a*-0x7+-0x12ed]],_0x507e8c=[_0x4b7fcd[-0x2*-0x3aa+-0x2f*0x8d+0x1*0x128f],_0x49f572[0x1619+0x1f7*0x2+-0x1a07],_0x3c1e41[-0x985+-0x12a6+0x1c2b]];}else throw new Error('Unknown\x20at'+'tribute\x20fo'+'r\x20pack_11_'+'10_11:\x20'+_0x24f2d7);}}for(let _0xb22329=-0x10*-0x13+0x17d8+-0x3*0x858;_0xb22329<_0x27e793['length'];_0xb22329++)_0x27e793[_0xb22329]=_0x45511c(_0x48b167[_0xb22329%(-0x1254+-0x1d51*-0x1+-0xafa*0x1)],_0x507e8c[_0xb22329%(0xc4f*-0x3+0x1ef*-0x7+-0x49*-0xb1)],_0x27e793[_0xb22329]);_0x1590eb[_0x24f2d7]=_0x27e793;}}else{if(_0x19fa27==='pack_8888'){let _0x1aa03d=_0x380128(_0x55b8d2);const _0x4cfc02=_0x57ea24['min_colors'][_0x2d43e0],_0x2cc3e4=_0x57ea24['max_colors'][_0x2d43e0],_0x55936d=new Uint16Array(_0x1aa03d['length']);for(let _0x1d84ab=-0x4*0x60c+0x1aeb*0x1+-0x2bb;_0x1d84ab<_0x1aa03d['length'];_0x1d84ab++){const _0x374bd3=_0x1d84ab*(0x7bb*-0x1+0xf8d+-0x7ce);_0x55936d[_0x374bd3]=_0x2b83a7(_0x45511c(_0x4cfc02[0x9c*-0xd+0xba1+-0x3b5],_0x2cc3e4[-0x9e3+0x3df+0x604],_0x1aa03d[_0x374bd3])),_0x55936d[_0x374bd3+(-0x150b+-0x99*0x5+-0x7*-0x36f)]=_0x2b83a7(_0x45511c(_0x4cfc02[-0x233e+-0x3c4+-0x1*-0x2703],_0x2cc3e4[0x7*-0xb3+-0x2343+-0x45*-0x95],_0x1aa03d[_0x374bd3+(-0xf31*-0x1+0x209+0x1139*-0x1)])),_0x55936d[_0x374bd3+(-0xe40+0x1dcc+0x6*-0x297)]=_0x2b83a7(_0x45511c(_0x4cfc02[-0xfba+0x1f*-0x81+-0x15d*-0x17],_0x2cc3e4[-0x615+0x234c+-0x1*0x1d35],_0x1aa03d[_0x374bd3+(-0x4cd*0x7+-0x9eb*0x3+0x1faf*0x2)])),_0x55936d[_0x374bd3+(0xb8c+-0x22cb+0x1*0x1742)]=_0x2b83a7(_0x1aa03d[_0x374bd3+(-0x1840+-0x186b+-0x3*-0x103a)]);}_0x1590eb[_0x24f2d7]=_0x55936d;}else{if(_0x19fa27==='pack_rotat'+'ion_32'){const _0x28e6a9=_0x125d7c(_0x55b8d2);_0x1590eb[_0x24f2d7]=_0x28e6a9;}else{if(_0x19fa27==='range_quan'+'t_u8'){if(_0x24f2d7==='feature_re'+'st')continue;throw new Error('Unknown\x20co'+'dec:\x20'+_0x19fa27);}}}}}return{'chunkDecompressed':_0x1590eb,'chunkStartIdx':_0x50ec62};},_0x4f539a=(_0x5f5069,_0x10714b)=>{const _0x318acc='feature_re'+'st',_0xb3c81d=_0x10714b['find'](_0x24e4b6=>_0x24e4b6['name']===_0x318acc);let _0x4545ea;const _0x2f3bb2=_0xb3c81d['encoding']['codec'],_0x9a9b77=_0x5f5069[_0x318acc];if(_0x2f3bb2==='range_quan'+'t_u8'){const [_0x42f23f,_0x3bb932]=_0xb3c81d['encoding']['range'];_0x4545ea=_0x551576(_0x9a9b77,_0x42f23f,_0x3bb932);}else throw new Error('Unknown\x20co'+'dec:\x20'+_0x2f3bb2);return _0x4545ea;},_0x2a27a8=(_0x2682ec,_0x166d53,_0x53e0bb,_0x45f4dc)=>{let _0x14be1f=0x331*0x1+0x1045+-0x2f*0x6a;const _0x222225={};for(const _0x9ea714 of _0x53e0bb){const {dataSize:_0x53a61c}=_0xb750ba(_0x9ea714,_0x166d53);if(['vec3f','vec4f','vec2f']['includes'](_0x9ea714['dataType']))_0x222225[_0x9ea714['name']]=new Float32Array(_0x2682ec['buffer']['slice'](_0x14be1f,_0x14be1f+_0x53a61c));else{if(_0x9ea714['dataType']['startsWith']('array<floa'+'t'))_0x222225[_0x9ea714['name']]=new Float32Array(_0x2682ec['buffer']['slice'](_0x14be1f,_0x14be1f+_0x53a61c));else throw new Error('Unsupporte'+'d\x20data\x20typ'+'e:\x20'+_0x9ea714['dataType']);}_0x14be1f+=_0x53a61c;}const _0x1b3ec2=new Uint16Array(_0x222225['scale']['length']);for(let _0x13304e=-0x431+0x3ef*-0x4+0x13ed;_0x13304e<_0x222225['scale']['length'];_0x13304e++)_0x1b3ec2[_0x13304e]=_0x2b83a7(Math['exp'](_0x222225['scale'][_0x13304e]));_0x222225['scale']=_0x1b3ec2;const _0x242c6c=_0x222225['rotation']['length']/(0x58*-0x3a+-0x151*0x9+0x1fcd*0x1),_0x336af2=new Float32Array(_0x242c6c*(-0x32b*-0x3+0x1baa*0x1+-0x2528));for(let _0x11b456=-0x5*-0x175+-0x2*0x3d+-0x6cf;_0x11b456<_0x242c6c;_0x11b456++){const _0x55b7e9=_0x438d76(_0x222225['rotation'][_0x11b456*(0x25d*-0xf+-0xd1+0x2448)],_0x222225['rotation'][_0x11b456*(0x26b7*0x1+-0x111d+-0x1596)+(-0x4*0x4+0x1292+-0x62b*0x3)],_0x222225['rotation'][_0x11b456*(-0x2098+-0x242f*-0x1+-0x393)+(-0x6be+-0x1237*0x2+0x2b2e)],_0x222225['rotation'][_0x11b456*(-0x174c+0x1*-0x357+-0x1*-0x1aa7)+(0x1eb*0x12+-0x216c+-0x5d*0x3)]);_0x336af2[_0x11b456*(0x141a+0x1d*-0x137+0xf24)]=_0x55b7e9['x'],_0x336af2[_0x11b456*(0x6e3+-0x52e*0x2+0x37c)+(-0x1ce8+-0x2*-0x965+0xa1f)]=_0x55b7e9['y'],_0x336af2[_0x11b456*(-0x3*0x535+-0xa*0x76+-0x2*-0xa1f)+(-0xad0+-0x493*0x6+0x2644)]=_0x55b7e9['z'];}return _0x222225['rotation']=_0x336af2,_0x222225['color_opac'+'ity']=_0x1ed7fd(_0x222225['color_opac'+'ity']),_0x222225['time_index']=new Float32Array(_0x166d53),_0x222225['time_index']['fill'](_0x45f4dc-(0xc40+0x194c+-0x258b)),_0x222225;},_0x5dba06=(_0x2cf9a6,_0x35c685)=>{const _0x48cdbe={};if(_0x2cf9a6['length']===0x10f*0x14+0x827*-0x2+-0x4dd)return _0x2cf9a6[-0x1eff+-0x15e4+0x1*0x34e3];for(const _0x4a38af of Object['keys'](_0x2cf9a6[-0x1*0x10a5+-0x1bf7+0x5*0x8ec]))if(_0x2cf9a6[-0x8f*-0x1d+0x11b3*0x1+-0x21e6][_0x4a38af]instanceof Float32Array||_0x2cf9a6[-0x26e+0x35+0x239][_0x4a38af]instanceof Uint16Array){const _0x225a7a=_0x2cf9a6['reduce']((_0x1cb70a,_0x1e1686)=>_0x1cb70a+_0x1e1686[_0x4a38af]['length'],-0x5*-0x6f1+0x511+0xd42*-0x3);let _0x247164;_0x2cf9a6[0x803+-0x5*0x10f+-0x2b8][_0x4a38af]instanceof Uint16Array?_0x247164=new Uint16Array(_0x225a7a):_0x247164=new Float32Array(_0x225a7a);let _0x48f96e=-0x11*-0xf9+-0x17*0x5a+-0x873;for(const _0x23c2d9 of _0x2cf9a6)_0x247164['set'](_0x23c2d9[_0x4a38af],_0x48f96e),_0x48f96e+=_0x23c2d9[_0x4a38af]['length'];_0x48cdbe[_0x4a38af]=_0x247164;}else Array['isArray'](_0x2cf9a6[0x1*0x1933+0x3d7*-0xa+-0xd33*-0x1][_0x4a38af])?_0x48cdbe[_0x4a38af]=_0x2cf9a6['flatMap'](_0x3f2ab7=>Array['from'](_0x3f2ab7[_0x4a38af])):_0x48cdbe[_0x4a38af]=_0x2cf9a6['map'](_0x47673c=>_0x47673c[_0x4a38af])['flat']();return _0x48cdbe;};}class hk extends me{constructor(_0x26e188){super(),h(this,'manifestUr'+'l'),h(this,'worker'),(this['manifestUr'+'l']=_0x26e188,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+ck['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['postMessag'+'e']({'type':'initWorker','cborXUrl':'https://fr'+'ontend.4dv'+'-intellige'+'nce.com/vi'+'ewer-stati'+'c/cbor-x@1'+'.6.0.min.j'+'s'});}['loadGsdMan'+'ifest'](_0x3227b8){var _0x56085a;return(_0x56085a=this['worker'])==null||_0x56085a['postMessag'+'e']({'type':'loadGsdMan'+'ifest','manifestUrl':this['manifestUr'+'l'],'loadRepresentation':_0x3227b8}),new Promise((_0x5c5e6f,_0x27a9bb)=>{if(!this['worker']){_0x27a9bb(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x14a134=>{if(!this['worker'])return;const {data:_0x4a2f25}=_0x14a134;if(this['manifestUr'+'l']===_0x4a2f25['url'])switch(_0x4a2f25['type']){case'onloadMani'+'fest':_0x5c5e6f({'manifest':_0x4a2f25['data'],'url':_0x4a2f25['url'],'representation':_0x4a2f25['representa'+'tion']});break;case'error':_0x27a9bb(_0x4a2f25['data']);break;}};});}['loadGsdSeg'+'ments'](_0x2fada7,_0x2ca500){var _0x4b7e24;return(_0x4b7e24=this['worker'])==null||_0x4b7e24['postMessag'+'e']({'type':'loadGsdSeg'+'ments'}),new Promise((_0x54a2a8,_0x5ee9e2)=>{if(!this['worker']){_0x5ee9e2(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x242f0a=>{if(!this['worker'])return;const {data:_0x2caef4}=_0x242f0a;if(this['manifestUr'+'l']===_0x2caef4['url'])switch(_0x2caef4['type']){case'progress':_0x2fada7==null||_0x2fada7(_0x2caef4['bytes'],_0x2caef4['totalLengt'+'h'],_0x2caef4['url']);break;case'loadGsdSeg'+'mentsDone':_0x54a2a8(_0x2caef4['data']);break;case'error':_0x2ca500==null||_0x2ca500(_0x2caef4['data'],_0x2caef4['url']);break;}};});}['loadGsdSeg'+'mentsByTim'+'elineIndex'](_0x1ae9b5,_0x42bae9,_0x469019){var _0x50d55d;return(_0x50d55d=this['worker'])==null||_0x50d55d['postMessag'+'e']({'type':'loadTimeli'+'neIndexSeg'+'ments','timelineIndexs':_0x1ae9b5}),new Promise((_0x2f6a5c,_0x1efaf3)=>{if(!this['worker']){_0x1efaf3(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x38181a=>{if(!this['worker'])return;const {data:_0x38f4f2}=_0x38181a;if(this['manifestUr'+'l']===_0x38f4f2['url'])switch(_0x38f4f2['type']){case'progress':_0x42bae9==null||_0x42bae9(_0x38f4f2['bytes'],_0x38f4f2['totalLengt'+'h'],_0x38f4f2['url']);break;case'loadTimeli'+'neIndexSeg'+'mentsDone':_0x2f6a5c(_0x38f4f2);break;case'error':_0x469019==null||_0x469019(_0x38f4f2['data'],_0x38f4f2['url']);break;}};});}['destroy'](){this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),this['worker']['terminate'](),this['worker']=void(-0xdf0+-0x139e+0xa*0x35b));}}const Xh=class Xh{constructor(_0x414dbb,_0x580ecb,_0x12ec90){h(this,'lastLoadIn'+'dex',0x1ae9+-0x1ce9+0x200),h(this,'gsdAssetPa'+'rser'),(this['manifest']=_0x414dbb,this['representa'+'tion']=_0x580ecb,this['gsdAssetPa'+'rser']=_0x12ec90,this['segmentTim'+'elines']=this['getSegment'+'Timeline'](_0x414dbb,_0x580ecb));}['getSegment'+'Timeline'](_0x5c3d67,_0x3d27f3){let _0x1dc02e=null;for(const _0x3d6cae of _0x5c3d67['adaptation'+'Sets'])if(_0x3d6cae['contentTyp'+'e']==='4dgs'){for(const _0x3de10d of _0x3d6cae['representa'+'tions'])if(_0x3de10d['id']===_0x3d27f3){_0x1dc02e=_0x3de10d;break;}break;}if(!_0x1dc02e)throw new Error('Representa'+'tion\x20\x27'+_0x3d27f3+('\x27\x20not\x20foun'+'d'));return _0x1dc02e['segmentTem'+'plate'][0x1362+-0x5*0x223+0x11*-0x83]['segmentTim'+'eline'];}['onTimeChan'+'ged'](_0x11f594){const _0x531962=this['findSegmen'+'tTimeline'](_0x11f594);if(!_0x531962)return;const _0x515c85=_0x531962['timelineIn'+'dex']<this['segmentTim'+'elines']['length']-(0x1ab5+0x17*-0x1a9+0x1*0xb7b)?_0x531962['timelineIn'+'dex']+(-0x121b+-0x1*-0x1b7d+-0x961):-0x10*-0x6+0xe43*-0x1+0xde3;this['lastLoadIn'+'dex']!==_0x515c85&&(this['lastLoadIn'+'dex']=_0x515c85,this['loadNextSe'+'gment'](_0x515c85));}async['loadNextSe'+'gment'](_0xe67e3c){const _0x576f56=[];for(let _0x24f277=-0x100a+0x3*-0xeb+-0x11b*-0x11;_0x24f277<Xh['CACHE_COUN'+'T'];_0x24f277++)_0x576f56['push']((_0xe67e3c+_0x24f277)%this['segmentTim'+'elines']['length']);const _0x4b05e1=_0x576f56[_0x576f56['length']-(0x1*0x382+0x2193*-0x1+0x1e12*0x1)],_0x1372ab=this['segmentTim'+'elines'][_0x4b05e1]['t']+this['segmentTim'+'elines'][_0x4b05e1]['d'];this['gsdAssetPa'+'rser']['appendload'+'DataTask'](_0x576f56,_0x1372ab);}['findSegmen'+'tTimeline'](_0x1a1776){let _0x5da4aa=0x1131+0x33a+-0x146b,_0x20cdc6=this['segmentTim'+'elines']['length']-(-0xd42+-0x2d5+0x1018);for(;_0x5da4aa<=_0x20cdc6;){const _0x3273a8=_0x5da4aa+_0x20cdc6>>-0xfbb*0x1+-0x14e5+0x24a1,{t:_0x4e3c21,d:_0xd59985}=this['segmentTim'+'elines'][_0x3273a8];if(_0x1a1776<_0x4e3c21)_0x20cdc6=_0x3273a8-(-0x1c*-0x11f+-0x2254+0x2f1);else{if(_0x1a1776>=_0x4e3c21+_0xd59985)_0x5da4aa=_0x3273a8+(0x7a*-0x4c+-0x5*0x3ee+-0x1*-0x37df);else return{'timeline':this['segmentTim'+'elines'][_0x3273a8],'timelineIndex':_0x3273a8};}}return null;}};h(Xh,'CACHE_COUN'+'T',-0x4b1*0x4+0x1*-0xb15+0x1ddf*0x1);let Wu=Xh;class dk{constructor(_0xfbb76,_0x4b9ead){h(this,'urlList'),h(this,'app'),h(this,'maxRetries'),h(this,'gsplatReso'+'urce'),h(this,'onlyOneAss'+'et'),h(this,'manifest'),h(this,'schedule'),h(this,'readWorker'),h(this,'loadDataTa'+'skQueue',[]),h(this,'isProcessi'+'ngLoadTask'+'Queue',!(0x727*-0x4+0x3*-0x5f2+0x2e73*0x1)),(console['log']('____\x20GSDJS'+'\x20ENGINE\x20IV'+'AN','Register\x20G'+'sdParser.c'+'onstructor'),this['app']=_0xfbb76,this['maxRetries']=_0x4b9ead,this['urlList']=[],this['gsplatReso'+'urce']=null,this['totalRecei'+'ved']=-0xde6+-0x1d79+0x2b5f,this['manifest']={});}async['load'](_0xf44525,_0x1f639b,_0xcdb142){console['log']('____\x20GSDJS'+'\x20ENGINE\x20IV'+'AN','GsdParser.'+'load',_0xf44525['load']);const _0x39d10d=_0xcdb142['data']['events'];this['events']=_0x39d10d,this['asset']=_0xcdb142,this['callback']=_0x1f639b,this['timeOption']=_0xcdb142['data']['timeOption'];let _0x3e4687=_0xcdb142['data']['representa'+'tion']||'high-raw';this['readWorker']=new hk(_0xf44525['load']);const _0x2ee48b=await this['readWorker']['loadGsdMan'+'ifest'](_0x3e4687);this['manifest']=_0x2ee48b['manifest'],_0x3e4687=_0x2ee48b['manifest']['representa'+'tion']||_0x3e4687,this['schedule']=new Wu(this['manifest'],_0x3e4687,this),this['totalRecei'+'vedCount']=-0x1*0x2624+0x1*-0xba0+0xe*0x38e;const _0x3ae64a=this['getSegment'+'Timeline'](this['manifest'],_0x3e4687),_0x2da154=_0x3ae64a[-0x135f+-0x1e01+-0x14*-0x278]['t']+_0x3ae64a[0x133*-0x17+-0x206e*-0x1+-0x4d9]['d'];this['appendload'+'DataTask']([-0x1*-0xdcc+-0x1b08+0xd3c,0x1184+-0x13e3+-0x4c*-0x8],_0x2da154),_0x39d10d['on']('timeChange'+'d',_0x19eb45=>{var _0xa58c8;(_0xa58c8=this['schedule'])==null||_0xa58c8['onTimeChan'+'ged'](_0x19eb45);});}['getSegment'+'Timeline'](_0xd663e,_0x2d2bf2){let _0x8614ac=null;for(const _0xd95d5f of _0xd663e['adaptation'+'Sets'])if(_0xd95d5f['contentTyp'+'e']==='4dgs'){for(const _0x5ab52f of _0xd95d5f['representa'+'tions'])if(_0x5ab52f['id']===_0x2d2bf2){_0x8614ac=_0x5ab52f;break;}break;}if(!_0x8614ac)throw new Error('Representa'+'tion\x20\x27'+_0x2d2bf2+('\x27\x20not\x20foun'+'d'));return _0x8614ac['segmentTem'+'plate'][-0x4c7*0x8+0x1*-0xf20+0x3558]['segmentTim'+'eline'];}['appendload'+'DataTask'](_0x59ff52,_0x3d7acb){this['loadDataTa'+'skQueue']['push']({'segmentIndexs':_0x59ff52,'loadedTime':_0x3d7acb}),this['isProcessi'+'ngLoadTask'+'Queue']||Promise['resolve']()['then'](()=>this['processLoa'+'dQueue']());}async['processLoa'+'dQueue'](){if(!this['isProcessi'+'ngLoadTask'+'Queue']){this['isProcessi'+'ngLoadTask'+'Queue']=!(0x1daf+-0x13b1+-0x9fe);try{for(;this['loadDataTa'+'skQueue']['length']>0x1be*-0x3+0x1*0x4c1+-0x79*-0x1;){const _0x1ea53b=this['loadDataTa'+'skQueue']['shift']();await this['loadGsplat'+'Data'](_0x1ea53b);}}finally{this['isProcessi'+'ngLoadTask'+'Queue']=!(-0x2*-0x525+0x231c+-0x1*0x2d65);}}}async['loadGsplat'+'Data'](_0x5c7a58){var _0x309a44,_0x1904bd;const {segmentIndexs:_0x3160a9,loadedTime:_0x5ae7b6}=_0x5c7a58,_0x5b1d86=this['events'],_0x5ba43f=this['asset'],_0x294a99=this['callback'],_0x24871d=this['timeOption'];globalThis['loadGsplat'+'DataStartT'+'ime']=performance['now'](),console['log']('____loadTi'+'me','gsd\x20======'+'=========='+'=========='+'=========='+'=========='+'========='),console['log']('____loadTi'+'me','gsd\x20start\x20'+'loadGsplat'+'Data',_0x3160a9,(performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])['toFixed'](0x2*0xdac+0xc10*-0x2+-0x336));try{const _0x20fe84=await this['readWorker']['loadGsdSeg'+'mentsByTim'+'elineIndex'](_0x3160a9,(_0x570fee,_0x2a1412)=>{this['totalRecei'+'ved']+=_0x570fee,_0x5ba43f&&_0x5b1d86['fire']('progress',this['totalRecei'+'ved'],_0x2a1412);},(_0x4e9c1b,_0x5e70b9)=>{debugger;console['warn']('ERROE\x20Load'+'\x20GSD',_0x5e70b9,_0x4e9c1b);});console['log']('____loadTi'+'me','gsd\x20end\x20lo'+'adGsplatDa'+'ta',(performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])['toFixed'](-0x1cc6+0xdc0+-0x1a*-0x94),_0x20fe84['data']['elements'][-0x1927+0x11a8+-0x65*-0x13]['count'],((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/_0x20fe84['data']['elements'][0x6cd+-0xce5+-0x78*-0xd]['count']*(-0x16d*-0x33+0x46c3*0x1+0x6f6*-0xf))['toFixed'](-0x32b+0x1c74+-0x1947));const _0x6c65ba=_0x20fe84['data'];if(_0x6c65ba['elements'][-0x1*0x2311+-0x1ef7*0x1+-0x8*-0x841]['count']===-0x1345*-0x1+-0x1747+0x402)return;this['totalRecei'+'vedCount']+=_0x6c65ba['elements'][-0x47*0x1f+-0x6ec*-0x2+-0x53f]['count'];const _0x40b272=new iC(_0x6c65ba['elements'],_0x6c65ba['comments']);_0x5ba43f['fire']('load:data',_0x40b272);const _0x255e3e=_0x5ba43f['data']['createTime']!==((_0x1904bd=(_0x309a44=this['onlyOneAss'+'et'])==null?void(-0x19be+0x6bf*-0x5+0x19*0x261):_0x309a44['data'])==null?void(0x13a9+-0x9d1*0x3+-0x166*-0x7):_0x1904bd['createTime']);this['gsplatReso'+'urce']&&!_0x255e3e?(console['log']('____\x20ENGIN'+'E\x20IVAN','appendGSpl'+'atDecodedR'+'esource'),this['gsplatReso'+'urce']['appendGSpl'+'atResource'](_0x40b272,_0x24871d,_0x5ae7b6,_0x5ba43f)):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'DecodedRes'+'ource'),this['gsplatReso'+'urce']=new CC(this['app']['graphicsDe'+'vice'],_0x40b272),this['gsplatReso'+'urce']['setSceneIn'+'fo'](this['manifest']['sceneInfo']),await this['gsplatReso'+'urce']['updateData'](),await this['gsplatReso'+'urce']['updateText'+'ure'](),this['gsplatReso'+'urce']['timeOption']=_0x24871d,this['onlyOneAss'+'et']=_0x5ba43f,_0x294a99&&_0x294a99(null,this['gsplatReso'+'urce']),_0x5b1d86['fire']('loadAllAss'+'etsDone'));}catch(_0x1fbb85){console['error']('loadGsplat'+'Data','error',_0x1fbb85),_0x294a99&&_0x294a99(_0x1fbb85,null);}}['open'](_0x3c8f5b,_0x41a321){return _0x41a321;}}class fk extends Qe{constructor(_0x4bd21d){console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20G'+'SplatHandl'+'er.constru'+'ctor\x20by\x20ap'+'plication\x20'+'addResourc'+'eHandles'),super(_0x4bd21d,'gsplat'),this['parsers']={'ply':new lk(_0x4bd21d,-0x1d8+-0x63*0xf+-0x4*-0x1ea),'json':new dk(_0x4bd21d,0x1cdc*0x1+0x3a*0x1+0x9b1*-0x3)};}['_getUrlWit'+'houtParams'](_0x1f296f){return _0x1f296f['indexOf']('?')>=0x1d1c+-0x2648+0x92c?_0x1f296f['split']('?')[-0x1658+0xd9d+0x8bb]:_0x1f296f;}['_getParser'](_0xf761d3){const _0x2e2ef1=xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0xf761d3))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x2e2ef1]||this['parsers']['ply'];}['load'](_0x5319fd,_0x176041,_0x168de1){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.load'),typeof _0x5319fd=='string'&&(_0x5319fd={'load':_0x5319fd,'original':_0x5319fd}),this['_getParser'](_0x5319fd['original'])['load'](_0x5319fd,_0x176041,_0x168de1);}['open'](_0x19cb3b,_0x11f1d2,_0x5096c3){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.open'),_0x11f1d2;}}class $u{static['setCompres'+'sedPRS'](_0x221b8c,_0x522b17,_0x984a4f){const _0x1307d6=_0x984a4f['singleVecs'];let _0xfd648f,_0x3dd633;const _0x2992bf=_0x522b17['___1'];_0x2992bf||(_0xfd648f=_0x984a4f['tripleVecs'],_0x3dd633=_0x522b17['___2']);let _0x5c4dfd=_0x2992bf?_0x2992bf[-0x1fb4+-0x1*0x193c+0x10*0x38f]:_0xfd648f[_0x3dd633];_0x221b8c['setLocalPo'+'sition'](_0x1307d6[_0x5c4dfd],_0x1307d6[_0x5c4dfd+(0x4b*-0x61+0x3b*-0x8e+0x1*0x3d26)],_0x1307d6[_0x5c4dfd+(-0x2023*0x1+0x1158+-0x1a5*-0x9)]),_0x5c4dfd=_0x2992bf?_0x2992bf[0x22c4+0x4c*0x53+-0x3b67]:_0xfd648f[_0x3dd633+(0x1ed3+-0x116b+0x1*-0xd67)],_0x221b8c['setLocalEu'+'lerAngles'](_0x1307d6[_0x5c4dfd],_0x1307d6[_0x5c4dfd+(0x1432+0x1b3c+-0x2f6d)],_0x1307d6[_0x5c4dfd+(-0x8f*0x11+-0x973+0x12f4*0x1)]),_0x5c4dfd=_0x2992bf?_0x2992bf[-0x2569+0xa*0x1f5+0x11d9*0x1]:_0xfd648f[_0x3dd633+(-0x1*0xfa5+0x2*0x8b7+-0x1c7)],_0x221b8c['setLocalSc'+'ale'](_0x1307d6[_0x5c4dfd],_0x1307d6[_0x5c4dfd+(0x2*-0xa4e+0xb6b*0x3+-0xc*0x123)],_0x1307d6[_0x5c4dfd+(-0x17*-0xff+-0x14e8+-0x1*0x1ff)]);}static['oneCharToK'+'ey'](_0x293e10,_0xcb0f1a){const _0x3a8147=_0x293e10['charCodeAt'](-0x2178+0x24d8+-0x360)-_0xcb0f1a['fieldFirst'+'Code'];return _0xcb0f1a['fieldArray'][_0x3a8147];}static['multCharTo'+'Key'](_0x58eca7,_0x338528){let _0x2917ec=-0x1e06+0x9c0+-0x40e*-0x5;for(let _0x45777b=0x6fa*-0x1+0x1e14+0x171a*-0x1;_0x45777b<_0x58eca7['length'];_0x45777b++)_0x2917ec=_0x2917ec*_0x338528['fieldCodeB'+'ase']+_0x58eca7['charCodeAt'](_0x45777b)-_0x338528['fieldFirst'+'Code'];return _0x338528['fieldArray'][_0x2917ec];}}class Uh{constructor(_0x54e56e,_0x43a38f){this['_node']=_0x54e56e,this['_data']=_0x43a38f;}['run'](){const _0x37e74d=Object['prototype']['toString']['call'](this['_node']);return _0x37e74d==='[object\x20Ob'+'ject]'?this['_handleMap']():_0x37e74d==='[object\x20Ar'+'ray]'?this['_handleArr'+'ay']():this['_result']=this['_node'],this['_result'];}['_handleMap'](){this['_result']={},Object['keys'](this['_node'])['forEach'](this['_handleKey'],this);}['_handleKey'](_0x3cd6d3){let _0x334a82=_0x3cd6d3;const _0x25d409=_0x3cd6d3['length'];_0x25d409===0x1be+0x1054+0x7d*-0x25?_0x334a82=$u['oneCharToK'+'ey'](_0x3cd6d3,this['_data']):_0x25d409===-0x1474+0x13ee+0x2*0x44&&(_0x334a82=$u['multCharTo'+'Key'](_0x3cd6d3,this['_data'])),this['_result'][_0x334a82]=new Uh(this['_node'][_0x3cd6d3],this['_data'])['run']();}['_handleArr'+'ay'](){this['_result']=[],this['_node']['forEach'](this['_handleArE'+'lt'],this);}['_handleArE'+'lt'](_0x18f8c6){const _0x2a1105=new Uh(_0x18f8c6,this['_data'])['run']();this['_result']['push'](_0x2a1105);}}class bm{constructor(_0x3e826e,_0x42cc35){this['_app']=_0x3e826e,this['_isTemplat'+'e']=_0x42cc35;}['parse'](_0x54c71a){const _0x200ac0={};let _0x153f4d=null;const _0x2ebeba=_0x54c71a['compressed'+'Format'];_0x2ebeba&&!_0x54c71a['entDecompr'+'essed']&&(_0x54c71a['entDecompr'+'essed']=!(-0x1752+-0x53f+0x1c91),_0x54c71a['entities']=new Uh(_0x54c71a['entities'],_0x2ebeba)['run']());for(const _0x11f66f in _0x54c71a['entities']){const _0x4ee9dc=_0x54c71a['entities'][_0x11f66f],_0x53d5b2=this['_createEnt'+'ity'](_0x4ee9dc,_0x2ebeba);_0x200ac0[_0x11f66f]=_0x53d5b2,_0x4ee9dc['parent']===null&&(_0x153f4d=_0x53d5b2);}for(const _0x36211e in _0x54c71a['entities']){const _0x2c096c=_0x200ac0[_0x36211e],_0x2853f3=_0x54c71a['entities'][_0x36211e]['children'],_0x239d6c=_0x2853f3['length'];for(let _0x1d8b87=-0x1b1c+0x23*0x72+-0x5c3*-0x2;_0x1d8b87<_0x239d6c;_0x1d8b87++){const _0x146029=_0x200ac0[_0x2853f3[_0x1d8b87]];_0x146029&&_0x2c096c['addChild'](_0x146029);}}return this['_openCompo'+'nentData'](_0x153f4d,_0x54c71a['entities']),_0x153f4d;}['_createEnt'+'ity'](_0x265a7f,_0x36ba26){const _0x831cb8=new lt(_0x265a7f['name'],this['_app']);if(_0x831cb8['setGuid'](_0x265a7f['resource_i'+'d']),this['_setPosRot'+'Scale'](_0x831cb8,_0x265a7f,_0x36ba26),_0x831cb8['_enabled']=_0x265a7f['enabled']??!(0x5a7*0x1+0x1*-0xc05+0x2*0x32f),this['_isTemplat'+'e']?_0x831cb8['_template']=!(-0x1fab+-0x234e+0x42f9):_0x831cb8['_enabledIn'+'Hierarchy']=_0x831cb8['_enabled'],_0x831cb8['template']=_0x265a7f['template'],_0x265a7f['tags']){for(let _0x226030=0x16af+0x4c4+-0x1b73;_0x226030<_0x265a7f['tags']['length'];_0x226030++)_0x831cb8['tags']['add'](_0x265a7f['tags'][_0x226030]);}return _0x831cb8;}['_setPosRot'+'Scale'](_0x40377f,_0x48effb,_0x2e9d6d){if(_0x2e9d6d)$u['setCompres'+'sedPRS'](_0x40377f,_0x48effb,_0x2e9d6d);else{const _0x2da24f=_0x48effb['position'],_0x52919a=_0x48effb['rotation'],_0x1ac460=_0x48effb['scale'];_0x40377f['setLocalPo'+'sition'](_0x2da24f[0x1*0x8c6+-0x12c1+0x9fb],_0x2da24f[-0x2e6*-0x5+0xe8b+-0x1d08],_0x2da24f[0x116d*-0x1+-0x1*0x124a+-0x9b*-0x3b]),_0x40377f['setLocalEu'+'lerAngles'](_0x52919a[0x13b9+0x16c*-0x1a+0x113f*0x1],_0x52919a[0x1148+-0x11d1+0x8a],_0x52919a[0x35*-0x64+-0xe83*-0x2+0x214*-0x4]),_0x40377f['setLocalSc'+'ale'](_0x1ac460[-0x119*0xf+0x1c6b+0x2fd*-0x4],_0x1ac460[0x1aa1*-0x1+0x39d+0x1705],_0x1ac460[-0x26ac+-0x1*0xeb1+0x355f]);}}['_openCompo'+'nentData'](_0x5eff7f,_0x2d522b){const _0x4f68da=this['_app']['systems']['list'];let _0x25c956=_0x4f68da['length'];const _0x560525=_0x2d522b[_0x5eff7f['getGuid']()];for(let _0x5f1820=0x1aaa+-0xa9*0x17+-0xb7b*0x1;_0x5f1820<_0x25c956;_0x5f1820++){const _0x5b7927=_0x4f68da[_0x5f1820],_0x5cb4cf=_0x560525['components'][_0x5b7927['id']];_0x5cb4cf&&_0x5b7927['addCompone'+'nt'](_0x5eff7f,_0x5cb4cf);}_0x25c956=_0x560525['children']['length'];const _0x4a6727=_0x5eff7f['_children'];for(let _0x1b3de5=0xc5+-0x1*-0x7db+-0x2e*0x30;_0x1b3de5<_0x25c956;_0x1b3de5++)_0x4a6727[_0x1b3de5]?_0x4a6727[_0x1b3de5]=this['_openCompo'+'nentData'](_0x4a6727[_0x1b3de5],_0x2d522b):w['warn']('Scene\x20data'+'\x20is\x20invali'+'d\x20where\x20a\x20'+'child\x20unde'+'r\x20\x22'+_0x5eff7f['name']+('\x22\x20Entity\x20d'+'oesn\x27t\x20exi'+'st.\x20Please'+'\x20check\x20the'+'\x20scene\x20dat'+'a.'));return _0x5eff7f;}}class E0{static['load'](_0x1354c5,_0x579b29,_0x303f9e){typeof _0x1354c5=='string'&&(_0x1354c5={'load':_0x1354c5,'original':_0x1354c5}),ot['get'](_0x1354c5['load'],{'retry':_0x579b29>0x2d*-0xa0+0x17d5+0x44b,'maxRetries':_0x579b29},(_0x186e53,_0x4370b1)=>{if(!_0x186e53)_0x303f9e(_0x186e53,_0x4370b1);else{let _0x18c0e7='Error\x20whil'+'e\x20loading\x20'+'scene\x20JSON'+'\x20'+_0x1354c5['original'];_0x186e53['message']?(_0x18c0e7+=':\x20'+_0x186e53['message'],_0x186e53['stack']&&(_0x18c0e7+='\x0a'+_0x186e53['stack'])):_0x18c0e7+=':\x20'+_0x186e53,_0x303f9e(_0x18c0e7);}});}}class uk extends Qe{constructor(_0x568e65){super(_0x568e65,'hierarchy');}['load'](_0x12b221,_0x8eaf9a){E0['load'](_0x12b221,this['maxRetries'],_0x8eaf9a);}['open'](_0xd778dd,_0x3de7a7){this['_app']['systems']['script']['preloading']=!(-0x1*-0xf17+-0x2412+0x14fb);const _0x925ae2=new bm(this['_app'],!(0x200d+-0x7*-0xe4+0x7*-0x578))['parse'](_0x3de7a7);return this['_app']['systems']['script']['preloading']=!(0x10*0x2b+0x15f*-0x1+-0x150*0x1),_0x925ae2;}}class pk extends Qe{constructor(_0x3d6ddf){super(_0x3d6ddf,'html'),h(this,'decoder',null);}['load'](_0x11a187,_0x36571b){typeof _0x11a187=='string'&&(_0x11a187={'load':_0x11a187,'original':_0x11a187}),ot['get'](_0x11a187['load'],{'retry':this['maxRetries']>0x1db9+0xcfb*0x1+-0x4*0xaad,'maxRetries':this['maxRetries']},(_0x54acc4,_0x5f2e1b)=>{_0x54acc4?_0x36571b('Error\x20load'+'ing\x20html\x20r'+'esource:\x20'+_0x11a187['original']+'\x20['+_0x54acc4+']'):_0x36571b(null,_0x5f2e1b);});}['openBinary'](_0x27704b){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x27704b);}}class mk extends Qe{constructor(_0x220433){super(_0x220433,'json'),h(this,'decoder',null);}['load'](_0x3eb2e7,_0x2a6d2a){typeof _0x3eb2e7=='string'&&(_0x3eb2e7={'load':_0x3eb2e7,'original':_0x3eb2e7});const _0x1734e4={'retry':this['maxRetries']>-0x4*-0x7e1+-0x4*-0x62+0x582*-0x6,'maxRetries':this['maxRetries']};_0x3eb2e7['load']['startsWith']('blob:')&&(_0x1734e4['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x3eb2e7['load'],_0x1734e4,(_0x51fbc7,_0x474c68)=>{_0x51fbc7?_0x2a6d2a('Error\x20load'+'ing\x20JSON\x20r'+'esource:\x20'+_0x3eb2e7['original']+'\x20['+_0x51fbc7+']'):_0x2a6d2a(null,_0x474c68);});}['openBinary'](_0x2e8503){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),JSON['parse'](this['decoder']['decode'](_0x2e8503));}}class _k{constructor(){this['removeInva'+'lid']=!(-0x41b*0x1+-0x1*-0x673+-0x258),this['valid']=!(0x1*0x23c9+-0x242d+-0x5*-0x14),this['enumValida'+'tors']={'occludeSpecular':this['_createEnu'+'mValidator']([lv,bd,cv]),'cull':this['_createEnu'+'mValidator']([bt,pa,Fo,Ax]),'blendType':this['_createEnu'+'mValidator']([Gp,Hp,Zs,Cs,Gn,Wp,Ed,$p,Xp,qp,jp]),'depthFunc':this['_createEnu'+'mValidator']([Cx,hh,dh,Wf,Px,Mx,Dx,Wi])};}['setInvalid'](_0x22d4a1,_0x2ab43e){this['valid']=!(-0x1805+-0x1b7d+0x3383),w['warn']('Ignoring\x20i'+'nvalid\x20Sta'+'ndardMater'+'ial\x20proper'+'ty:\x20'+_0x22d4a1,_0x2ab43e[_0x22d4a1]),this['removeInva'+'lid']&&delete _0x2ab43e[_0x22d4a1];}['validate'](_0x19c4d4){const _0x510ec0=$n,_0x443e30=gb,_0x7c984c=_0x19c4d4['mappingFor'+'mat']==='path';for(const _0x20cea4 in _0x19c4d4){const _0x43e4da=_0x510ec0[_0x20cea4];if(!_0x43e4da){_0x443e30[_0x20cea4]?delete _0x19c4d4[_0x20cea4]:(w['warnOnce']('Ignoring\x20u'+'nsupported'+'\x20input\x20pro'+'perty\x20to\x20s'+'tandard\x20ma'+'terial:\x20'+_0x20cea4),this['valid']=!(-0x274+0x94f*0x1+-0x6da));continue;}if(_0x43e4da['startsWith']('enum')){const _0x4de30e=_0x43e4da['split'](':')[-0x7b9*-0x1+-0x10c3+0x1*0x90b];this['enumValida'+'tors'][_0x4de30e]&&(this['enumValida'+'tors'][_0x4de30e](_0x19c4d4[_0x20cea4])||this['setInvalid'](_0x20cea4,_0x19c4d4));}else{if(_0x43e4da==='number')typeof _0x19c4d4[_0x20cea4]!='number'&&this['setInvalid'](_0x20cea4,_0x19c4d4);else{if(_0x43e4da==='boolean')typeof _0x19c4d4[_0x20cea4]!='boolean'&&this['setInvalid'](_0x20cea4,_0x19c4d4);else{if(_0x43e4da==='string')typeof _0x19c4d4[_0x20cea4]!='string'&&this['setInvalid'](_0x20cea4,_0x19c4d4);else{if(_0x43e4da==='vec2')_0x19c4d4[_0x20cea4]instanceof Array&&_0x19c4d4[_0x20cea4]['length']===0x253f*-0x1+-0x181d+0x3d5e||this['setInvalid'](_0x20cea4,_0x19c4d4);else{if(_0x43e4da==='rgb')_0x19c4d4[_0x20cea4]instanceof Array&&_0x19c4d4[_0x20cea4]['length']===0x1e5*0x5+0x2625+-0x2f9b||this['setInvalid'](_0x20cea4,_0x19c4d4);else{if(_0x43e4da==='texture')_0x7c984c?typeof _0x19c4d4[_0x20cea4]=='string'||_0x19c4d4[_0x20cea4]===null||_0x19c4d4[_0x20cea4]instanceof _e||this['setInvalid'](_0x20cea4,_0x19c4d4):typeof _0x19c4d4[_0x20cea4]=='number'||_0x19c4d4[_0x20cea4]===null||_0x19c4d4[_0x20cea4]instanceof _e||this['setInvalid'](_0x20cea4,_0x19c4d4);else{if(_0x43e4da==='boundingbo'+'x')_0x19c4d4[_0x20cea4]['center']&&_0x19c4d4[_0x20cea4]['center']instanceof Array&&_0x19c4d4[_0x20cea4]['center']['length']===0xc36+0x9a8+0xf*-0x175||this['setInvalid'](_0x20cea4,_0x19c4d4),_0x19c4d4[_0x20cea4]['halfExtent'+'s']&&_0x19c4d4[_0x20cea4]['halfExtent'+'s']instanceof Array&&_0x19c4d4[_0x20cea4]['halfExtent'+'s']['length']===0x2*-0xe5+0x2+-0x11*-0x1b||this['setInvalid'](_0x20cea4,_0x19c4d4);else{if(_0x43e4da==='cubemap')typeof _0x19c4d4[_0x20cea4]=='number'||_0x19c4d4[_0x20cea4]===null||_0x19c4d4[_0x20cea4]===void(-0x1d29+-0x9*-0x2d3+0x3be)||_0x19c4d4[_0x20cea4]instanceof _e&&_0x19c4d4[_0x20cea4]['cubemap']||this['setInvalid'](_0x20cea4,_0x19c4d4);else{if(_0x43e4da==='chunks'){const _0x49f9c5=Object['keys'](_0x19c4d4[_0x20cea4]);for(let _0x2742c1=0x852+0x254c+-0x2*0x16cf;_0x2742c1<_0x49f9c5['length'];_0x2742c1++)typeof _0x19c4d4[_0x20cea4][_0x49f9c5[_0x2742c1]]!='string'&&this['setInvalid'](_0x49f9c5[_0x2742c1],_0x19c4d4[_0x20cea4]);}else console['error']('Unknown\x20ma'+'terial\x20typ'+'e:\x20'+_0x43e4da);}}}}}}}}}}return _0x19c4d4['validated']=!(-0x254d+-0x6d*-0x4d+-0x484*-0x1),this['valid'];}['_createEnu'+'mValidator'](_0xdef3ef){return function(_0x557ba6){return _0xdef3ef['indexOf'](_0x557ba6)>=0x1a7d*0x1+0x521*-0x6+-0x1*-0x449;};}}class gk{constructor(){this['_validator']=null;}['parse'](_0x6f69a5){const _0x209e94=this['migrate'](_0x6f69a5),_0x417cfe=this['_validate'](_0x209e94),_0x48e70f=new Ut();return this['initialize'](_0x48e70f,_0x417cfe),_0x48e70f;}['initialize'](_0x3b8075,_0x4573ae){if(_0x4573ae['validated']||(_0x4573ae=this['_validate'](_0x4573ae)),_0x4573ae['chunks']&&_0x4573ae['chunks']&&Object['keys'](_0x4573ae['chunks'])['length']>-0xecd+-0x16b5*0x1+0x2582){const _0x3e373a=_0x3b8075['shaderChun'+'ks']['glsl'];Object['entries'](_0x4573ae['chunks'])['forEach'](([_0xf3ed4a,_0x26ea53])=>_0x3e373a['set'](_0xf3ed4a,_0x26ea53));}for(const _0x54da85 in _0x4573ae){const _0x349047=$n[_0x54da85],_0x65abb5=_0x4573ae[_0x54da85];if(_0x349047==='vec2')_0x3b8075[_0x54da85]=new J(_0x65abb5[0x2313+0x18b5+-0x3bc8],_0x65abb5[-0xf5c+-0x59f+0x14fc*0x1]);else{if(_0x349047==='rgb')_0x3b8075[_0x54da85]=new ie(_0x65abb5[0x1d*-0xa9+-0x1db5+0x30da],_0x65abb5[-0xc44+-0xb49+-0x5*-0x4b6],_0x65abb5[0x253a+-0x224b+-0x2ed]);else{if(_0x349047==='texture')_0x65abb5 instanceof _e?_0x3b8075[_0x54da85]=_0x65abb5:_0x3b8075[_0x54da85]instanceof _e&&typeof _0x65abb5=='number'&&_0x65abb5>-0x1dd*-0xd+0x247e+0xb*-0x585||(_0x3b8075[_0x54da85]=null);else{if(_0x349047==='cubemap')_0x65abb5 instanceof _e?_0x3b8075[_0x54da85]=_0x65abb5:_0x3b8075[_0x54da85]instanceof _e&&typeof _0x65abb5=='number'&&_0x65abb5>0x1c4*0x6+-0x1833+0xd9b||(_0x3b8075[_0x54da85]=null),_0x54da85==='cubeMap'&&!_0x65abb5&&(_0x3b8075['prefiltere'+'dCubemaps']=null);else{if(_0x349047==='boundingbo'+'x'){const _0x4067e7=new D(_0x65abb5['center'][0x2*-0x3f1+0x26c+0x576],_0x65abb5['center'][-0xa94+-0x4f3+0xf88],_0x65abb5['center'][0x261f*-0x1+0x1*0x94e+0x1cd3]),_0x444635=new D(_0x65abb5['halfExtent'+'s'][-0x122b*0x1+0xf55+0x2d6],_0x65abb5['halfExtent'+'s'][0xe*-0x2c6+-0x1*0x1e89+0x455e],_0x65abb5['halfExtent'+'s'][-0x7c1+0x172c+-0xf69]);_0x3b8075[_0x54da85]=new De(_0x4067e7,_0x444635);}else _0x3b8075[_0x54da85]=_0x4573ae[_0x54da85];}}}}}_0x3b8075['update']();}['migrate'](_0x298ebd){_0x298ebd['shader']&&delete _0x298ebd['shader'],_0x298ebd['mapping_fo'+'rmat']&&(_0x298ebd['mappingFor'+'mat']=_0x298ebd['mapping_fo'+'rmat'],delete _0x298ebd['mapping_fo'+'rmat']);let _0x1c94bd;const _0x1babe0=[['bumpMapFac'+'tor','bumpiness'],['aoUvSet','aoMapUv'],['aoMapVerte'+'xColor','aoVertexCo'+'lor'],['diffuseMap'+'VertexColo'+'r','diffuseVer'+'texColor'],['emissiveMa'+'pVertexCol'+'or','emissiveVe'+'rtexColor'],['specularMa'+'pVertexCol'+'or','specularVe'+'rtexColor'],['metalnessM'+'apVertexCo'+'lor','metalnessV'+'ertexColor'],['opacityMap'+'VertexColo'+'r','opacityVer'+'texColor'],['glossMapVe'+'rtexColor','glossVerte'+'xColor'],['lightMapVe'+'rtexColor','lightVerte'+'xColor'],['specularMa'+'pTint','specularTi'+'nt'],['metalnessM'+'apTint','metalnessT'+'int'],['clearCoatG'+'lossiness','clearCoatG'+'loss']];for(_0x1c94bd=-0x2*-0xa79+0x2c*-0x8d+0x34a*0x1;_0x1c94bd<_0x1babe0['length'];_0x1c94bd++){const _0x307b80=_0x1babe0[_0x1c94bd][0x2578+0x25e7+-0x4b5f],_0x4fa458=_0x1babe0[_0x1c94bd][-0x3*0x205+0x9aa*-0x4+0x2cb8];_0x298ebd[_0x307b80]!==void(-0x1*0x20c5+0x2046+0x7f)&&(_0x298ebd[_0x4fa458]===void(-0x166c+0x2*-0x103d+-0x1b73*-0x2)&&(_0x298ebd[_0x4fa458]=_0x298ebd[_0x307b80]),delete _0x298ebd[_0x307b80]);}const _0x401021=['fresnelFac'+'tor','shadowSamp'+'leType'];for(_0x1c94bd=-0x24f+0x6*0x57f+-0x1eab;_0x1c94bd<_0x401021['length'];_0x1c94bd++){const _0x3f46fa=_0x401021[_0x1c94bd];_0x298ebd['hasOwnProp'+'erty'](_0x3f46fa)&&delete _0x298ebd[_0x3f46fa];}return _0x298ebd;}['_validate'](_0x3f413a){return _0x3f413a['validated']||(this['_validator']||(this['_validator']=new _k()),this['_validator']['validate'](_0x3f413a)),_0x3f413a;}}const Sk={'aoMap':'white','aoDetailMap':'white','diffuseMap':'gray','diffuseDetailMap':'gray','specularMap':'gray','specularityFactorMap':'white','metalnessMap':'black','glossMap':'gray','sheenMap':'black','sheenGlossMap':'gray','clearCoatMap':'black','clearCoatGlossMap':'gray','clearCoatNormalMap':'normal','refractionMap':'white','emissiveMap':'gray','normalMap':'normal','normalDetailMap':'normal','heightMap':'gray','opacityMap':'gray','sphereMap':'gray','lightMap':'white','thicknessMap':'black','iridescenceMap':'black','iridescenceThicknessMap':'black','envAtlas':'black','anisotropyMap':'black'};class yk extends Qe{constructor(_0x3b082f){super(_0x3b082f,'material'),this['_assets']=_0x3b082f['assets'],this['_device']=_0x3b082f['graphicsDe'+'vice'],this['_parser']=new gk();}['load'](_0x133479,_0x419b4d){typeof _0x133479=='string'&&(_0x133479={'load':_0x133479,'original':_0x133479}),ot['get'](_0x133479['load'],{'retry':this['maxRetries']>0xc7f+0x465+-0x10e4,'maxRetries':this['maxRetries']},(_0xdb9a54,_0x1adfe1)=>{_0xdb9a54?_0x419b4d&&_0x419b4d('Error\x20load'+'ing\x20materi'+'al:\x20'+_0x133479['original']+'\x20['+_0xdb9a54+']'):_0x419b4d&&(_0x1adfe1['_engine']=!(0xce5+-0x988+-0x35d),_0x419b4d(null,_0x1adfe1));});}['open'](_0x5aa44,_0x12f449){const _0x2676dd=this['_parser']['parse'](_0x12f449);return _0x12f449['_engine']&&(_0x2676dd['_data']=_0x12f449,delete _0x12f449['_engine']),_0x2676dd;}['patch'](_0x456f78,_0x52b3c5){_0x456f78['resource']['_data']&&(_0x456f78['_data']=_0x456f78['resource']['_data'],delete _0x456f78['resource']['_data']),_0x456f78['data']['name']=_0x456f78['name'],_0x456f78['resource']['name']=_0x456f78['name'],this['_bindAndAs'+'signAssets'](_0x456f78,_0x52b3c5),_0x456f78['off']('unload',this['_onAssetUn'+'load'],this),_0x456f78['on']('unload',this['_onAssetUn'+'load'],this);}['_onAssetUn'+'load'](_0x11ebb5){delete _0x11ebb5['data']['parameters'],delete _0x11ebb5['data']['chunks'],delete _0x11ebb5['data']['name'];}['_assignTex'+'ture'](_0x104e71,_0x6c8226,_0x377164){_0x6c8226['resource'][_0x104e71]=_0x377164;}['_getPlaceh'+'olderTextu'+'re'](_0x5dbb7e){const _0x770319=Sk[_0x5dbb7e];return w['assert'](_0x770319,'No\x20placeho'+'lder\x20textu'+'re\x20found\x20f'+'or\x20paramet'+'er:\x20'+_0x5dbb7e),fa(this['_device'],_0x770319);}['_assignPla'+'ceholderTe'+'xture'](_0x2dfabc,_0x289071){_0x289071['resource'][_0x2dfabc]=this['_getPlaceh'+'olderTextu'+'re'](_0x2dfabc);}['_onTexture'+'Load'](_0x12e371,_0x6b3c7a,_0x4517c9){this['_assignTex'+'ture'](_0x12e371,_0x6b3c7a,_0x4517c9['resource']),_0x6b3c7a['resource']['update']();}['_onTexture'+'Add'](_0x3cc59b,_0xf80893,_0x15a411){this['_assets']['load'](_0x15a411);}['_onTexture'+'RemoveOrUn'+'load'](_0x31a20e,_0xb2e238,_0x2bc66c){const _0x1647f5=_0xb2e238['resource'];_0x1647f5&&_0xb2e238['resource'][_0x31a20e]===_0x2bc66c['resource']&&(this['_assignPla'+'ceholderTe'+'xture'](_0x31a20e,_0xb2e238),_0x1647f5['update']());}['_assignCub'+'emap'](_0x5b467a,_0x1cfccd,_0x310aca){if(_0x1cfccd['resource'][_0x5b467a]=_0x310aca[0x1*0xe59+-0xa7*-0x14+0x1*-0x1b65],_0x5b467a==='cubeMap'){const _0xda6ca9=_0x310aca['slice'](0x229b*0x1+0x820+-0x2aba);_0xda6ca9['every'](_0x3d5c90=>_0x3d5c90)?_0x1cfccd['resource']['prefiltere'+'dCubemaps']=_0xda6ca9:_0xda6ca9[-0x1790+0x4*-0x24a+0x20b8]&&(_0x1cfccd['resource']['envAtlas']=_0xda6ca9[-0x18e7+0xd9d+0xb4a]);}}['_onCubemap'+'Load'](_0x704cc4,_0x49498e,_0x376580){this['_assignCub'+'emap'](_0x704cc4,_0x49498e,_0x376580['resources']),this['_parser']['initialize'](_0x49498e['resource'],_0x49498e['data']);}['_onCubemap'+'Add'](_0x2c2f2b,_0x218497,_0x845452){this['_assets']['load'](_0x845452);}['_onCubemap'+'RemoveOrUn'+'load'](_0x4da238,_0x22938e,_0x560b92){const _0x5b52b2=_0x22938e['resource'];_0x22938e['data']['prefiltere'+'dCubeMap12'+'8']===_0x560b92['resources'][-0x250*0x7+0x1*-0x215b+-0x7*-0x714]&&(this['_assignCub'+'emap'](_0x4da238,_0x22938e,[null,null,null,null,null,null,null]),_0x5b52b2['update']());}['_bindAndAs'+'signAssets'](_0xd09a1e,_0x3e705d){const _0x20079b=this['_parser']['migrate'](_0xd09a1e['data']),_0x228f40=_0xd09a1e['resource'],_0x4e35f9=_0x20079b['mappingFor'+'mat']==='path',_0x24d85e=Cd;let _0x390b33,_0x5accab,_0x105e2c;for(_0x390b33=-0xe87+0x1f4+-0x3*-0x431;_0x390b33<_0x24d85e['length'];_0x390b33++){_0x5accab=_0x24d85e[_0x390b33],_0x105e2c=_0x228f40['_assetRefe'+'rences'][_0x5accab];const _0x33f65e=_0x20079b[_0x5accab],_0x3b818b=_0x228f40[_0x5accab],_0x33800c=_0x3b818b===this['_getPlaceh'+'olderTextu'+'re'](_0x5accab),_0x3b7881=_0x20079b['validated'];_0x33f65e&&(!_0x3b818b||!_0x3b7881||_0x33800c)?(_0x105e2c||(_0x105e2c=new gl(_0x5accab,_0xd09a1e,_0x3e705d,{'load':this['_onTexture'+'Load'],'add':this['_onTexture'+'Add'],'remove':this['_onTexture'+'RemoveOrUn'+'load'],'unload':this['_onTexture'+'RemoveOrUn'+'load']},this),_0x228f40['_assetRefe'+'rences'][_0x5accab]=_0x105e2c),_0x4e35f9?_0x105e2c['url']=_0xd09a1e['getAbsolut'+'eUrl'](_0x33f65e):_0x105e2c['id']=_0x33f65e,_0x105e2c['asset']&&(_0x105e2c['asset']['resource']?this['_assignTex'+'ture'](_0x5accab,_0xd09a1e,_0x105e2c['asset']['resource']):this['_assignPla'+'ceholderTe'+'xture'](_0x5accab,_0xd09a1e),_0x3e705d['load'](_0x105e2c['asset']))):_0x105e2c&&(_0x4e35f9?_0x105e2c['url']=null:_0x105e2c['id']=null);}const _0xca799e=fm;for(_0x390b33=-0x1c*0x6+-0xe06+0xeae;_0x390b33<_0xca799e['length'];_0x390b33++)_0x5accab=_0xca799e[_0x390b33],_0x105e2c=_0x228f40['_assetRefe'+'rences'][_0x5accab],_0x20079b[_0x5accab]&&!_0xd09a1e['data']['prefiltere'+'dCubeMap12'+'8']&&(_0x105e2c||(_0x105e2c=new gl(_0x5accab,_0xd09a1e,_0x3e705d,{'load':this['_onCubemap'+'Load'],'add':this['_onCubemap'+'Add'],'remove':this['_onCubemap'+'RemoveOrUn'+'load'],'unload':this['_onCubemap'+'RemoveOrUn'+'load']},this),_0x228f40['_assetRefe'+'rences'][_0x5accab]=_0x105e2c),_0x4e35f9?_0x105e2c['url']=_0x20079b[_0x5accab]:_0x105e2c['id']=_0x20079b[_0x5accab],_0x105e2c['asset']&&(_0x105e2c['asset']['loaded']&&this['_assignCub'+'emap'](_0x5accab,_0xd09a1e,_0x105e2c['asset']['resources']),_0x3e705d['load'](_0x105e2c['asset'])));this['_parser']['initialize'](_0x228f40,_0x20079b);}}class vk{constructor(_0x4e1491){this['_device']=_0x4e1491['device'],this['_defaultMa'+'terial']=_0x4e1491['defaultMat'+'erial'],this['_assets']=_0x4e1491['assets'];}['parse'](_0x26eaf1,_0x2f0351,_0x30fdce){kh['parse']('filename.g'+'lb','',_0x26eaf1,this['_device'],this['_assets'],(_0x30fdce==null?void(0x2ff*0x9+0x4e4+-0x1fdb):_0x30fdce['options'])??{},(_0x4dfcca,_0x247504)=>{if(_0x4dfcca)_0x2f0351(_0x4dfcca);else{const _0x379f50=yr['createMode'+'l'](_0x247504,this['_defaultMa'+'terial']);_0x247504['destroy'](),_0x2f0351(null,_0x379f50);}});}}const xk={'points':cd,'lines':hd,'lineloop':_y,'linestrip':gy,'triangles':js,'trianglestrip':Er,'trianglefan':oa},Tk={'int8':dd,'uint8':la,'int16':fd,'uint16':Ml,'int32':Ty,'uint32':el,'float32':Ve};class wk{constructor(_0x40dd8e){this['_device']=_0x40dd8e['device'],this['_defaultMa'+'terial']=_0x40dd8e['defaultMat'+'erial'];}['parse'](_0x2e7d03,_0x184d17){const _0x74a5f0=_0x2e7d03['model'];if(!_0x74a5f0){_0x184d17(null,null);return;}if(_0x74a5f0['version']<=-0x183d+0x2*-0x1214+0x3c66){_0x184d17('JsonModelP'+'arser#pars'+'e:\x20Trying\x20'+'to\x20parse\x20u'+'nsupported'+'\x20model\x20for'+'mat.');return;}const _0x534e6d=this['_parseNode'+'s'](_0x2e7d03),_0x16b2e1=this['_parseSkin'+'s'](_0x2e7d03,_0x534e6d),_0x1658d5=this['_parseVert'+'exBuffers'](_0x2e7d03),_0x439507=this['_parseInde'+'xBuffers'](_0x2e7d03,_0x1658d5),_0x384985=this['_parseMorp'+'hs'](_0x2e7d03,_0x534e6d,_0x1658d5),_0x22ff0c=this['_parseMesh'+'es'](_0x2e7d03,_0x16b2e1['skins'],_0x384985['morphs'],_0x1658d5,_0x439507['buffer'],_0x439507['data']),_0x59296a=this['_parseMesh'+'Instances'](_0x2e7d03,_0x534e6d,_0x22ff0c,_0x16b2e1['skins'],_0x16b2e1['instances'],_0x384985['morphs'],_0x384985['instances']),_0x26676f=new sr();_0x26676f['graph']=_0x534e6d[-0x27*0xf3+-0x9e5+0x2eea*0x1],_0x26676f['meshInstan'+'ces']=_0x59296a,_0x26676f['skinInstan'+'ces']=_0x16b2e1['instances'],_0x26676f['morphInsta'+'nces']=_0x384985['instances'],_0x26676f['getGraph']()['syncHierar'+'chy'](),_0x184d17(null,_0x26676f);}['_parseNode'+'s'](_0x155022){const _0xb63490=_0x155022['model'],_0x557baf=[];let _0x13435b;for(_0x13435b=0x1*-0x2417+0xdfa+0x161d;_0x13435b<_0xb63490['nodes']['length'];_0x13435b++){const _0x19e05b=_0xb63490['nodes'][_0x13435b],_0x3c75f8=new Ie(_0x19e05b['name']);_0x3c75f8['setLocalPo'+'sition'](_0x19e05b['position'][-0xbd*0x1d+-0x2374*-0x1+-0xe0b],_0x19e05b['position'][0xf76*0x1+0x2*0x556+-0x1*0x1a21],_0x19e05b['position'][0xdbd*-0x1+0x1ed7*-0x1+0x2c96]),_0x3c75f8['setLocalEu'+'lerAngles'](_0x19e05b['rotation'][0x1*-0x1aff+0x1f2a*0x1+-0x42b],_0x19e05b['rotation'][-0x408*-0x3+-0x2275+0x332*0x7],_0x19e05b['rotation'][0xcb8+-0x1957*0x1+0xca1]),_0x3c75f8['setLocalSc'+'ale'](_0x19e05b['scale'][0x1f98+0x53b+-0x24d3],_0x19e05b['scale'][-0x16a*-0xc+-0x2408+0x1311],_0x19e05b['scale'][0x206a+0x25e1+0x4649*-0x1]),_0x3c75f8['scaleCompe'+'nsation']=!!_0x19e05b['scaleCompe'+'nsation'],_0x557baf['push'](_0x3c75f8);}for(_0x13435b=0x8da*0x4+0x1*-0x1f0d+-0x45a;_0x13435b<_0xb63490['parents']['length'];_0x13435b++)_0x557baf[_0xb63490['parents'][_0x13435b]]['addChild'](_0x557baf[_0x13435b]);return _0x557baf;}['_parseSkin'+'s'](_0x19af77,_0x2815d7){const _0x53e3f2=_0x19af77['model'],_0x1b84c7=[],_0x2cf51b=[];let _0x195ee0,_0x570546;for(_0x195ee0=-0x1*0x1105+-0x657+0x175c;_0x195ee0<_0x53e3f2['skins']['length'];_0x195ee0++){const _0x1049aa=_0x53e3f2['skins'][_0x195ee0],_0x26f5d8=[];for(_0x570546=0x1*0x1253+-0x1e7d+-0x2*-0x615;_0x570546<_0x1049aa['inverseBin'+'dMatrices']['length'];_0x570546++){const _0x5f1a99=_0x1049aa['inverseBin'+'dMatrices'][_0x570546];_0x26f5d8[_0x570546]=new te()['set'](_0x5f1a99);}const _0x25c37c=new Lv(this['_device'],_0x26f5d8,_0x1049aa['boneNames']);_0x1b84c7['push'](_0x25c37c);const _0x1b5523=new Ol(_0x25c37c),_0x34da1d=[];for(_0x570546=0x1ffe+-0x2309*-0x1+-0x4307*0x1;_0x570546<_0x25c37c['boneNames']['length'];_0x570546++){const _0x2d284b=_0x25c37c['boneNames'][_0x570546],_0x1f6d89=_0x2815d7[-0x1640+-0x6e6*-0x1+0x6*0x28f]['findByName'](_0x2d284b);_0x34da1d['push'](_0x1f6d89);}_0x1b5523['bones']=_0x34da1d,_0x2cf51b['push'](_0x1b5523);}return{'skins':_0x1b84c7,'instances':_0x2cf51b};}['_getMorphV'+'ertexCount'](_0x4ce01,_0x116bcf,_0x3c02de){for(let _0x1b4dcf=-0xfc9*0x1+-0x1466*-0x1+0x49d*-0x1;_0x1b4dcf<_0x4ce01['meshes']['length'];_0x1b4dcf++){const _0x41c31d=_0x4ce01['meshes'][_0x1b4dcf];if(_0x41c31d['morph']===_0x116bcf)return _0x3c02de[_0x41c31d['vertices']]['numVertice'+'s'];}}['_parseMorp'+'hs'](_0xc57586,_0x5b791e,_0x52e3f7){const _0x994897=_0xc57586['model'],_0x17f8b4=[],_0x456809=[];let _0x4bb568,_0x4b9025,_0x3857ab,_0x38c623,_0x592ede,_0x49cf82;if(_0x994897['morphs']){const _0x1ed030=function(_0x4eeded,_0x48df0d,_0x5a2c6a){const _0x4e6b0a=new Float32Array(_0x5a2c6a*(0x9c5+-0x7*0xf5+-0x30f));for(let _0x17d428=-0x1c79+0xdbb+-0x1*-0xebe;_0x17d428<_0x48df0d['length'];_0x17d428++){const _0xc73ad2=_0x48df0d[_0x17d428]*(-0x9*0x146+-0x12a4+0x1e1d);_0x4e6b0a[_0xc73ad2]=_0x4eeded[_0x17d428*(0x222c+0x856+-0x2a7f)],_0x4e6b0a[_0xc73ad2+(0x148c+-0x1936+-0x1*-0x4ab)]=_0x4eeded[_0x17d428*(0xc31+-0xd1c*0x2+-0x3*-0x4ae)+(-0x198a+-0x5f*0x4d+0x361e)],_0x4e6b0a[_0xc73ad2+(0xd8f*0x1+-0x1c68+0xedb)]=_0x4eeded[_0x17d428*(0x4*0x7a7+-0x1b00+-0x399)+(0x105d+-0x1892+-0x2bd*-0x3)];}return _0x4e6b0a;};for(_0x4bb568=-0x25bf+0x2e*-0x74+0x3a97;_0x4bb568<_0x994897['morphs']['length'];_0x4bb568++){for(_0x38c623=_0x994897['morphs'][_0x4bb568]['targets'],_0x49cf82=[],_0x3857ab=this['_getMorphV'+'ertexCount'](_0x994897,_0x4bb568,_0x52e3f7),_0x4b9025=-0x1247*-0x1+-0xd7a+0x4cd*-0x1;_0x4b9025<_0x38c623['length'];_0x4b9025++){const _0x4c3eec=_0x38c623[_0x4b9025]['aabb'],_0x27a95f=_0x4c3eec['min'],_0x2f23a2=_0x4c3eec['max'],_0x1ea557=new De(new D((_0x2f23a2[0xd2e+-0x18c7+0x1*0xb99]+_0x27a95f[0x166b+0xe31+-0x11c*0x21])*(-0x900+0x19da+0x6*-0x2cf+0.5),(_0x2f23a2[-0x21d1+0xdcd*0x2+0x638]+_0x27a95f[0x1a6b+-0x2*-0x33f+0x36*-0x9c])*(0x1880+-0x1075+0x47*-0x1d+0.5),(_0x2f23a2[-0x2c3*-0x3+0x2146+-0x298d]+_0x27a95f[-0x661*0x1+-0x2007+0x266a])*(0x1f7*-0x12+0x1863+-0x3*-0x3a9+0.5)),new D((_0x2f23a2[0x1d8e+0x3b*-0x89+0x205]-_0x27a95f[-0x12*-0x19+-0xb24+-0x1*-0x962])*(0x15a5+-0xd95+-0x810+0.5),(_0x2f23a2[-0x10a5*0x1+0x1155+-0x23*0x5]-_0x27a95f[0x6*0xe6+0x80e+-0xd71])*(0x24c5+0x1*0x51a+-0x29df+0.5),(_0x2f23a2[-0x138d+0x19b1+-0x13a*0x5]-_0x27a95f[-0x247+-0x13be+0x1607])*(0x2*-0x9e3+-0x8*-0x443+-0xe52+0.5))),_0x112f77=_0x38c623[_0x4b9025]['indices'];let _0x545c0c=_0x38c623[_0x4b9025]['deltaPosit'+'ions'],_0x3f79de=_0x38c623[_0x4b9025]['deltaNorma'+'ls'];_0x112f77&&(_0x545c0c=_0x1ed030(_0x545c0c,_0x112f77,_0x3857ab),_0x3f79de=_0x1ed030(_0x3f79de,_0x112f77,_0x3857ab)),_0x592ede=new Md({'deltaPositions':_0x545c0c,'deltaNormals':_0x3f79de,'name':_0x38c623[_0x4b9025]['name'],'aabb':_0x1ea557}),_0x49cf82['push'](_0x592ede);}const _0x2af848=new mm(_0x49cf82,this['_device']);_0x17f8b4['push'](_0x2af848);const _0xc743c0=new xa(_0x2af848);_0x456809['push'](_0xc743c0);}}return{'morphs':_0x17f8b4,'instances':_0x456809};}['_parseVert'+'exBuffers'](_0x18cd8d){const _0x2f5d7b=_0x18cd8d['model'],_0x1731a1=[],_0x2934e4={'position':Me,'normal':gs,'tangent':yi,'blendWeight':gi,'blendIndices':us,'color':Wt,'texCoord0':is,'texCoord1':ba,'texCoord2':wl,'texCoord3':El,'texCoord4':bl,'texCoord5':Al,'texCoord6':Cl,'texCoord7':Pl};for(let _0x5cc594=-0x16d2+-0xf69+0x263b;_0x5cc594<_0x2f5d7b['vertices']['length'];_0x5cc594++){const _0x44a674=_0x2f5d7b['vertices'][_0x5cc594],_0x198c4f=[];for(const _0x2d4d9a in _0x44a674){const _0x4db517=_0x44a674[_0x2d4d9a];_0x198c4f['push']({'semantic':_0x2934e4[_0x2d4d9a],'components':_0x4db517['components'],'type':Tk[_0x4db517['type']],'normalize':_0x2934e4[_0x2d4d9a]===Wt});}const _0x57b2ae=new kt(this['_device'],_0x198c4f),_0x3fc776=_0x44a674['position']['data']['length']/_0x44a674['position']['components'],_0x196596=new Is(this['_device'],_0x57b2ae,_0x3fc776),_0x59ae3f=new Uo(_0x196596);for(let _0x37d7d4=0x2*-0x9d+-0x443*-0x7+-0x1c9b;_0x37d7d4<_0x3fc776;_0x37d7d4++){for(const _0x4b085f in _0x44a674){const _0x200922=_0x44a674[_0x4b085f];switch(_0x200922['components']){case-0x7ce+-0x3*-0x4df+-0x367*0x2:_0x59ae3f['element'][_0x2934e4[_0x4b085f]]['set'](_0x200922['data'][_0x37d7d4]);break;case-0x2637+-0x96c*-0x1+0x1ccd:_0x59ae3f['element'][_0x2934e4[_0x4b085f]]['set'](_0x200922['data'][_0x37d7d4*(-0x29*-0xbf+0x241b+-0x42b0)],0x2f9*0xa+-0x3ab*0x5+-0x5e*0x1f-_0x200922['data'][_0x37d7d4*(-0x1ec7+-0xa9*0x2b+0x2*0x1d96)+(-0x2bf*0x7+0x1293+0xa7)]);break;case-0x2b*0xa2+0x1cec+-0x1b3:_0x59ae3f['element'][_0x2934e4[_0x4b085f]]['set'](_0x200922['data'][_0x37d7d4*(0x4f9*0x4+0x14b*0x4+-0x190d)],_0x200922['data'][_0x37d7d4*(0x1*0xb1+0x11b*-0x20+0x1159*0x2)+(-0x1*-0x1659+-0xb92+0xc5*-0xe)],_0x200922['data'][_0x37d7d4*(0x1*0xe3e+-0x61e+-0x81d)+(0x7*0x4a+0x790+0x1*-0x994)]);break;case-0xd3e+-0x1d88+0x2aca:_0x59ae3f['element'][_0x2934e4[_0x4b085f]]['set'](_0x200922['data'][_0x37d7d4*(0x2*-0x883+-0x23c8+0x34d2*0x1)],_0x200922['data'][_0x37d7d4*(-0x861+0x1c4c+-0x13e7*0x1)+(-0x1cd*-0x12+0x67b*-0x2+0x1*-0x1373)],_0x200922['data'][_0x37d7d4*(-0xd*-0x2d7+-0x2*0x169+-0x15d*0x19)+(-0x135e+-0x12a1+-0x17*-0x1a7)],_0x200922['data'][_0x37d7d4*(-0x149b+0x1*-0xb55+-0x664*-0x5)+(-0x1*0x175b+-0x24c1*0x1+-0x3c1f*-0x1)]);break;}}_0x59ae3f['next']();}_0x59ae3f['end'](),_0x1731a1['push'](_0x196596);}return _0x1731a1;}['_parseInde'+'xBuffers'](_0x5ea354,_0x11fe59){const _0x39d931=_0x5ea354['model'];let _0x410b82=null,_0x5383cc=null,_0x59aa02,_0x541974=-0x24c8+-0x6*0x14b+-0x1*-0x2c8a;for(_0x59aa02=-0x8df*-0x1+0x4d1+-0x124*0xc;_0x59aa02<_0x39d931['meshes']['length'];_0x59aa02++){const _0x159b64=_0x39d931['meshes'][_0x59aa02];_0x159b64['indices']!==void(-0x195a+-0x4ac*-0x1+0x14ae)&&(_0x541974+=_0x159b64['indices']['length']);}let _0x422d78=-0x1*-0x10fd+0xa*-0x274+0x78b;for(_0x59aa02=-0x1876+0xfc5+0x8b1;_0x59aa02<_0x11fe59['length'];_0x59aa02++)_0x422d78=Math['max'](_0x422d78,_0x11fe59[_0x59aa02]['numVertice'+'s']);return _0x541974>-0x1a4d+-0x283*0xf+0x3ffa&&(_0x422d78>0x1c30f*0x1+-0x11956+-0x2*-0x2b23?(_0x410b82=new br(this['_device'],wr,_0x541974),_0x5383cc=new Uint32Array(_0x410b82['lock']())):(_0x410b82=new br(this['_device'],Yi,_0x541974),_0x5383cc=new Uint16Array(_0x410b82['lock']()))),{'buffer':_0x410b82,'data':_0x5383cc};}['_parseMesh'+'es'](_0xe806b2,_0x11efde,_0x5d55d4,_0x4c5f75,_0x4a88dc,_0x1667d7){const _0x16336e=_0xe806b2['model'],_0x3890db=[];let _0x3fc2ae=0x1f2c+0x5cb+-0x1*0x24f7;for(let _0x3efdfe=-0x103d*0x1+0x5e7*0x5+-0xd46;_0x3efdfe<_0x16336e['meshes']['length'];_0x3efdfe++){const _0x4e4d12=_0x16336e['meshes'][_0x3efdfe],_0x398ea3=_0x4e4d12['aabb'],_0x3c93bb=_0x398ea3['min'],_0x562d08=_0x398ea3['max'],_0x542d31=new De(new D((_0x562d08[-0x1c10+0x225e+-0x1*0x64e]+_0x3c93bb[0x26a4+0x2240+0x2472*-0x2])*(0x312*-0x3+0x1e5*0x11+-0x7*0x349+0.5),(_0x562d08[0x1568+0x133c+-0x65*0x67]+_0x3c93bb[0xf2a+0x2*0xe5+-0x10f3])*(0x3e6*0x3+0x5*0xe2+0x4*-0x407+0.5),(_0x562d08[-0x1cb5+-0x209b+-0x2*-0x1ea9]+_0x3c93bb[0x607+0x2f5*0xb+0x9a3*-0x4])*(0x15f2+0xdd1+0x5*-0x727+0.5)),new D((_0x562d08[-0x1cdc*0x1+-0x1319*0x1+-0x2ff5*-0x1]-_0x3c93bb[-0xbce+0x23ae+-0x17e0])*(-0x1167+-0x1f45+-0x4de*-0xa+0.5),(_0x562d08[-0x6b6+0x1249+-0x5c9*0x2]-_0x3c93bb[0x825+-0x511+-0x313])*(0xd4e*-0x2+0x2*-0xe9b+-0x2*-0x1be9+0.5),(_0x562d08[0x3*0x8e5+-0x265f+0xbb2]-_0x3c93bb[-0x3cb*-0x4+-0x1b6f+0xc45])*(0x1b68+0x706+0xe2*-0x27+0.5))),_0x2aa620=_0x4e4d12['indices']!==void(-0x24b*0x3+0xc07*0x3+-0xc*0x26f),_0x5a69ef=new Ge(this['_device']);_0x5a69ef['vertexBuff'+'er']=_0x4c5f75[_0x4e4d12['vertices']],_0x5a69ef['indexBuffe'+'r'][-0x979+0x249+0x730]=_0x2aa620?_0x4a88dc:null,_0x5a69ef['primitive'][-0x3*0x77e+-0x278*-0x1+0xa01*0x2]['type']=xk[_0x4e4d12['type']],_0x5a69ef['primitive'][-0xf*-0x4d+0x1433+-0x18b6]['base']=_0x2aa620?_0x4e4d12['base']+_0x3fc2ae:_0x4e4d12['base'],_0x5a69ef['primitive'][-0x4*0xdf+0x68*-0x8+0x4*0x1af]['count']=_0x4e4d12['count'],_0x5a69ef['primitive'][-0x1eeb+-0xb3f+-0x1515*-0x2]['indexed']=_0x2aa620,_0x5a69ef['skin']=_0x4e4d12['skin']!==void(-0x20f3+-0x4f8*-0x5+0x81b)?_0x11efde[_0x4e4d12['skin']]:null,_0x5a69ef['morph']=_0x4e4d12['morph']!==void(0x6b*-0x47+0x1e8c+-0xdf)?_0x5d55d4[_0x4e4d12['morph']]:null,_0x5a69ef['aabb']=_0x542d31,_0x2aa620&&(_0x1667d7['set'](_0x4e4d12['indices'],_0x3fc2ae),_0x3fc2ae+=_0x4e4d12['indices']['length']),_0x3890db['push'](_0x5a69ef);}return _0x4a88dc!==null&&_0x4a88dc['unlock'](),_0x3890db;}['_parseMesh'+'Instances'](_0x5a09fa,_0x2ce983,_0x1d0d12,_0x265b4c,_0x27d626,_0x1ffdb1,_0x3f58c9){const _0x2fd263=_0x5a09fa['model'],_0x1838ce=[];let _0xf92b69;for(_0xf92b69=0xa98+0x24e7+-0x2f7f;_0xf92b69<_0x2fd263['meshInstan'+'ces']['length'];_0xf92b69++){const _0x23b86b=_0x2fd263['meshInstan'+'ces'][_0xf92b69],_0x516502=_0x2ce983[_0x23b86b['node']],_0x3f2dc0=_0x1d0d12[_0x23b86b['mesh']],_0x55c3eb=new He(_0x3f2dc0,this['_defaultMa'+'terial'],_0x516502);if(_0x3f2dc0['skin']){const _0x43fd86=_0x265b4c['indexOf'](_0x3f2dc0['skin']);if(_0x43fd86===-(0x1752+0x8*-0x337+0x1*0x267))throw new Error('Mesh\x27s\x20ski'+'n\x20does\x20not'+'\x20appear\x20in'+'\x20skin\x20arra'+'y.');_0x55c3eb['skinInstan'+'ce']=_0x27d626[_0x43fd86];}if(_0x3f2dc0['morph']){const _0x3efae2=_0x1ffdb1['indexOf'](_0x3f2dc0['morph']);if(_0x3efae2===-(0x17c5+0x1e13+0x7*-0x7b1))throw new Error('Mesh\x27s\x20mor'+'ph\x20does\x20no'+'t\x20appear\x20i'+'n\x20morph\x20ar'+'ray.');_0x55c3eb['morphInsta'+'nce']=_0x3f58c9[_0x3efae2];}_0x1838ce['push'](_0x55c3eb);}return _0x1838ce;}}class Ek extends Qe{constructor(_0xd0a431){super(_0xd0a431,'model'),this['_parsers']=[],this['device']=_0xd0a431['graphicsDe'+'vice'],this['assets']=_0xd0a431['assets'],this['defaultMat'+'erial']=Qn(this['device']),this['addParser'](new wk(this),(_0x13e98a,_0x53454a)=>xe['getExtensi'+'on'](_0x13e98a)==='.json'),this['addParser'](new vk(this),(_0x2fec5d,_0x4d120b)=>xe['getExtensi'+'on'](_0x2fec5d)==='.glb');}['load'](_0x43d8f0,_0x160a3b,_0x458d1e){typeof _0x43d8f0=='string'&&(_0x43d8f0={'load':_0x43d8f0,'original':_0x43d8f0});const _0xe8caf7={'retry':this['maxRetries']>-0x1a3b+0xa55+0xfe6,'maxRetries':this['maxRetries']};(_0x43d8f0['load']['startsWith']('blob:')||_0x43d8f0['load']['startsWith']('data:'))&&(xe['getExtensi'+'on'](_0x43d8f0['original'])['toLowerCas'+'e']()==='.glb'?_0xe8caf7['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0xe8caf7['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x43d8f0['load'],_0xe8caf7,(_0x329b0b,_0x5264fa)=>{if(_0x160a3b){if(_0x329b0b)_0x160a3b('Error\x20load'+'ing\x20model:'+'\x20'+_0x43d8f0['original']+'\x20['+_0x329b0b+']');else{for(let _0x24b6b7=0x66*-0x29+0x523*-0x2+0x1a9c;_0x24b6b7<this['_parsers']['length'];_0x24b6b7++){const _0x11bf00=this['_parsers'][_0x24b6b7];if(_0x11bf00['decider'](_0x43d8f0['original'],_0x5264fa)){_0x11bf00['parser']['parse'](_0x5264fa,(_0x27c28f,_0x2d7c6c)=>{_0x27c28f?_0x160a3b(_0x27c28f):_0x160a3b(null,_0x2d7c6c);},_0x458d1e);return;}}_0x160a3b('No\x20parsers'+'\x20found');}}});}['open'](_0x57686e,_0x445fbd){return _0x445fbd;}['patch'](_0x2a9a64,_0x108f8){if(!_0x2a9a64['resource'])return;const _0x2e1474=_0x2a9a64['data'],_0x65ab3b=this;_0x2a9a64['resource']['meshInstan'+'ces']['forEach']((_0x2120d7,_0x3f24bc)=>{if(_0x2e1474['mapping']){const _0x670b4=function(_0x536803){_0x536803['resource']?_0x2120d7['material']=_0x536803['resource']:(_0x536803['once']('load',_0x670b4),_0x108f8['load'](_0x536803)),_0x536803['once']('remove',_0x16c427=>{_0x2120d7['material']===_0x16c427['resource']&&(_0x2120d7['material']=_0x65ab3b['defaultMat'+'erial']);});};if(!_0x2e1474['mapping'][_0x3f24bc]){_0x2120d7['material']=_0x65ab3b['defaultMat'+'erial'];return;}const _0x4c9d40=_0x2e1474['mapping'][_0x3f24bc]['material'],_0x204ab5=_0x2e1474['mapping'][_0x3f24bc]['path'];let _0x5c71a7;if(_0x4c9d40!==void(-0x203a+0x6*-0x3f0+0x129e*0x3))_0x4c9d40?(_0x5c71a7=_0x108f8['get'](_0x4c9d40),_0x5c71a7?_0x670b4(_0x5c71a7):_0x108f8['once']('add:'+_0x4c9d40,_0x670b4)):_0x2120d7['material']=_0x65ab3b['defaultMat'+'erial'];else{if(_0x204ab5){const _0x16dad3=_0x2a9a64['getAbsolut'+'eUrl'](_0x2e1474['mapping'][_0x3f24bc]['path']);_0x5c71a7=_0x108f8['getByUrl'](_0x16dad3),_0x5c71a7?_0x670b4(_0x5c71a7):_0x108f8['once']('add:url:'+_0x16dad3,_0x670b4);}}}});}['addParser'](_0xeac1da,_0x25b3ea){this['_parsers']['push']({'parser':_0xeac1da,'decider':_0x25b3ea});}}class bk extends Qe{constructor(_0x112c23){super(_0x112c23,'scene');}['load'](_0x37ed13,_0x57c51c){E0['load'](_0x37ed13,this['maxRetries'],_0x57c51c);}['open'](_0x5ed703,_0xde8425){this['_app']['systems']['script']['preloading']=!(0x1cb4+0x3*0xb92+-0x3f6a);const _0x1ef035=new bm(this['_app'],!(-0x21f0+0x40f*0x4+0x11b5))['parse'](_0xde8425),_0x2c02af=this['_app']['scene'];return _0x2c02af['root']=_0x1ef035,this['_app']['applyScene'+'Settings'](_0xde8425['settings']),this['_app']['systems']['script']['preloading']=!(0x1298+0x1*-0x1906+0x66f),_0x2c02af;}}const qh=class qh{static['push'](_0x10e3de){qh['_types']['push'](_0x10e3de);}};h(qh,'_types',[]);let aa=qh;const Ak=new Set(['system','entity','create','destroy','swap','move','data','scripts','_scripts','_scriptsIn'+'dex','_scriptsDa'+'ta','enabled','_oldState','onEnable','onDisable','onPostStat'+'eChange','_onSetEnab'+'led','_checkStat'+'e','_onBeforeR'+'emove','_onInitial'+'izeAttribu'+'tes','_onInitial'+'ize','_onPostIni'+'tialize','_onUpdate','_onPostUpd'+'ate','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']),Ck={};Sl['reservedNa'+'mes']['forEach']((_0x396422,_0x5b0efb,_0x5c6a44)=>{Ck[_0x396422]=-0x2b*-0x8e+-0x1ca6+0x4cd;});function Pk(_0x22b23e,_0x55ece2,_0x36d058){if(typeof _0x22b23e!='function')throw new Error('script\x20cla'+'ss:\x20\x27'+_0x22b23e+('\x27\x20must\x20be\x20'+'a\x20construc'+'tor\x20functi'+'on\x20(i.e.\x20c'+'lass).'));if(!(_0x22b23e['prototype']instanceof ts))throw new Error('script\x20cla'+'ss:\x20\x27'+Wo['__getScrip'+'tName'](_0x22b23e)+('\x27\x20does\x20not'+'\x20extend\x20pc'+'.Script.'));if(_0x55ece2=_0x55ece2||_0x22b23e['__name']||Wo['__getScrip'+'tName'](_0x22b23e),Ak['has'](_0x55ece2))throw new Error('script\x20nam'+'e:\x20\x27'+_0x55ece2+('\x27\x20is\x20reser'+'ved,\x20pleas'+'e\x20change\x20s'+'cript\x20name'));_0x22b23e['__name']=_0x55ece2,Ks['getApplica'+'tion']()['scripts']['add'](_0x22b23e),aa['push'](_0x22b23e);}const Mk=_0x2ec9b0=>_0x2ec9b0[0x2*-0xb3d+0x1*0x1f7d+-0x903]['toLowerCas'+'e']()+_0x2ec9b0['substring'](0x585+0x13*-0xd7+0x1b*0x63);class Dk extends Qe{constructor(_0x1b3468){super(_0x1b3468,'script'),this['_scripts']={},this['_cache']={};}['clearCache'](){for(const _0x57ca3d in this['_cache']){const _0x47b4d6=this['_cache'][_0x57ca3d],_0x289244=_0x47b4d6['parentNode'];_0x289244&&_0x289244['removeChil'+'d'](_0x47b4d6);}this['_cache']={};}['load'](_0x56cd1a,_0x170252){typeof _0x56cd1a=='string'&&(_0x56cd1a={'load':_0x56cd1a,'original':_0x56cd1a});const _0x1b9389=this;this['_app'];const _0x571131=(_0x56cd1a['load'],(_0x412873,_0x4d7b35,_0x58dc02)=>{if(_0x412873)_0x170252(_0x412873);else{const _0x3d394e={};for(let _0x5cbceb=0x1446+0x21*-0xb3+0x2cd*0x1;_0x5cbceb<aa['_types']['length'];_0x5cbceb++)_0x3d394e[aa['_types'][_0x5cbceb]['name']]=aa['_types'][_0x5cbceb];aa['_types']['length']=-0x1c6*0x7+0x1*0x313+0x957,_0x170252(null,_0x3d394e,_0x58dc02);const _0x2aa512=_0x4d7b35['split']('&hash=')[-0x1*-0x1c9+0xb82+0x53*-0x29];delete _0x1b9389['_loader']['_cache'][Cn['makeKey'](_0x2aa512,'script')];}}),[_0x3b6c37]=_0x56cd1a['load']['split']('?');_0x3b6c37['endsWith']('.mjs')?this['_loadModul'+'e'](_0x3b6c37,_0x571131):this['_loadScrip'+'t'](_0x56cd1a['load'],_0x571131);}['open'](_0x378130,_0x91fbc6){return _0x91fbc6;}['patch'](_0x1154ab,_0x1d7599){}['_loadScrip'+'t'](_0x3aa77e,_0x65f15e){const _0x57c5dc=document['head'],_0x26c3ae=document['createElem'+'ent']('script');this['_cache'][_0x3aa77e]=_0x26c3ae,_0x26c3ae['async']=!(-0x96c+-0x893*-0x1+0xda),_0x26c3ae['addEventLi'+'stener']('error',_0x555b39=>{_0x65f15e('Script:\x20'+_0x555b39['target']['src']+('\x20failed\x20to'+'\x20load'));},!(-0x379*-0x1+0x1aaf+0x53*-0x5d));let _0x335eb9=!(-0x1c*-0xcd+-0xb73*-0x1+0x6*-0x5a5);_0x26c3ae['onload']=_0x26c3ae['onreadysta'+'techange']=function(){!_0x335eb9&&(!this['readyState']||this['readyState']==='loaded'||this['readyState']==='complete')&&(_0x335eb9=!(0xd*0x23d+-0x1*0x1de5+0xcc),_0x65f15e(null,_0x3aa77e,_0x26c3ae));},_0x26c3ae['src']=_0x3aa77e,_0x57c5dc['appendChil'+'d'](_0x26c3ae);}['_loadModul'+'e'](_0x52cc3d,_0x4a0f1c){const _0x113e82=Ae['browser']&&window['location']['origin']!=='null'?window['location']['origin']+window['location']['pathname']:import.meta['url'],_0x592b03=new URL(_0x52cc3d,_0x113e82);import(_0x592b03['toString']())['then'](_0x240d71=>{var _0x3836b3,_0xfd0759;const _0x4435d4=_0x592b03['pathname']['split']('/')['pop'](),_0x3f841b=(_0xfd0759=(_0x3836b3=this['_app']['assets']['find'](_0x4435d4,'script'))==null?void(0x52b+-0x75c+0x231):_0x3836b3['data'])==null?void(0x392*0x5+-0x45*-0x3+0x11*-0x119):_0xfd0759['scripts'];for(const _0x2c9116 in _0x240d71){const _0x65b6a7=_0x240d71[_0x2c9116];if(_0x65b6a7['prototype']instanceof ts){const _0x4c2f5d=Mk(_0x65b6a7['name']);_0x65b6a7['scriptName']||w['warnOnce']('The\x20Script'+'\x20class\x20\x22'+_0x65b6a7['name']+('\x22\x20must\x20hav'+'e\x20a\x20static'+'\x20\x22scriptNa'+'me\x22\x20proper'+'ty:\x20`')+_0x65b6a7['name']+('.scriptNam'+'e\x20=\x20\x22')+_0x4c2f5d+('\x22;`.\x20This\x20'+'will\x20be\x20an'+'\x20error\x20in\x20'+'future\x20ver'+'sions\x20of\x20P'+'layCanvas.'));const _0x465e60=_0x65b6a7['scriptName']??_0x4c2f5d;Pk(_0x65b6a7,_0x465e60),_0x3f841b&&this['_app']['scripts']['addSchema'](_0x465e60,_0x3f841b[_0x465e60]);}}_0x4a0f1c(null,_0x52cc3d,null);})['catch'](_0x89283a=>{_0x4a0f1c(_0x89283a);});}}class Ik extends Qe{constructor(_0x2067fe){super(_0x2067fe,'shader'),h(this,'decoder',null);}['load'](_0x260076,_0x5832f1){typeof _0x260076=='string'&&(_0x260076={'load':_0x260076,'original':_0x260076}),ot['get'](_0x260076['load'],{'retry':this['maxRetries']>-0x4e3+0x396+0x6f*0x3,'maxRetries':this['maxRetries']},(_0x415c93,_0x3aabaa)=>{_0x415c93?_0x5832f1('Error\x20load'+'ing\x20shader'+'\x20resource:'+'\x20'+_0x260076['original']+'\x20['+_0x415c93+']'):_0x5832f1(null,_0x3aabaa);});}['openBinary'](_0x5c269a){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x5c269a);}}function Pf(_0x1dbf12){const _0x10c71a=this;_0x10c71a['resource']&&(_0x10c71a['resource']['atlas']=_0x1dbf12['resource']);}function Mf(_0x5a0561){this['registry']['load'](_0x5a0561);}class Lk extends Qe{constructor(_0x2bdd61){super(_0x2bdd61,'sprite'),this['_assets']=_0x2bdd61['assets'],this['_device']=_0x2bdd61['graphicsDe'+'vice'];}['load'](_0x5c76b3,_0x29ff2e){typeof _0x5c76b3=='string'&&(_0x5c76b3={'load':_0x5c76b3,'original':_0x5c76b3}),xe['getExtensi'+'on'](_0x5c76b3['original'])==='.json'&&ot['get'](_0x5c76b3['load'],{'retry':this['maxRetries']>0x5*0x326+0x219*-0xe+-0x4*-0x368,'maxRetries':this['maxRetries']},(_0x592563,_0xd594fc)=>{_0x592563?_0x29ff2e(_0x592563):_0x29ff2e(null,_0xd594fc);});}['open'](_0x2fd218,_0x427e27){const _0x5649c=new BA(this['_device']);return _0x2fd218&&(_0x5649c['__data']=_0x427e27),_0x5649c;}['patch'](_0xba8c99,_0x4e2f73){const _0x1a0fdb=_0xba8c99['resource'];if(_0x1a0fdb['__data']&&(_0xba8c99['data']['pixelsPerU'+'nit']=_0x1a0fdb['__data']['pixelsPerU'+'nit'],_0xba8c99['data']['renderMode']=_0x1a0fdb['__data']['renderMode'],_0xba8c99['data']['frameKeys']=_0x1a0fdb['__data']['frameKeys'],_0x1a0fdb['__data']['textureAtl'+'asAsset'])){const _0xae7e77=_0x4e2f73['getByUrl'](_0x1a0fdb['__data']['textureAtl'+'asAsset']);_0xae7e77?_0xba8c99['data']['textureAtl'+'asAsset']=_0xae7e77['id']:console['warn']('Could\x20not\x20'+'find\x20textu'+'reatlas\x20wi'+'th\x20url:\x20'+_0x1a0fdb['__data']['textureAtl'+'asAsset']);}_0x1a0fdb['startUpdat'+'e'](),_0x1a0fdb['renderMode']=_0xba8c99['data']['renderMode'],_0x1a0fdb['pixelsPerU'+'nit']=_0xba8c99['data']['pixelsPerU'+'nit'],_0x1a0fdb['frameKeys']=_0xba8c99['data']['frameKeys'],this['_updateAtl'+'as'](_0xba8c99),_0x1a0fdb['endUpdate'](),_0xba8c99['off']('change',this['_onAssetCh'+'ange'],this),_0xba8c99['on']('change',this['_onAssetCh'+'ange'],this);}['_updateAtl'+'as'](_0x3fbf3d){const _0x176364=_0x3fbf3d['resource'];if(!_0x3fbf3d['data']['textureAtl'+'asAsset']){_0x176364['atlas']=null;return;}this['_assets']['off']('load:'+_0x3fbf3d['data']['textureAtl'+'asAsset'],Pf,_0x3fbf3d),this['_assets']['on']('load:'+_0x3fbf3d['data']['textureAtl'+'asAsset'],Pf,_0x3fbf3d);const _0x57d726=this['_assets']['get'](_0x3fbf3d['data']['textureAtl'+'asAsset']);_0x57d726&&_0x57d726['resource']?_0x176364['atlas']=_0x57d726['resource']:_0x57d726?this['_assets']['load'](_0x57d726):(this['_assets']['off']('add:'+_0x3fbf3d['data']['textureAtl'+'asAsset'],Mf,_0x3fbf3d),this['_assets']['on']('add:'+_0x3fbf3d['data']['textureAtl'+'asAsset'],Mf,_0x3fbf3d));}['_onAssetCh'+'ange'](_0x5f17a9,_0x2c8b2f,_0x2cab5b,_0x59262b){_0x2c8b2f==='data'&&_0x2cab5b&&_0x2cab5b['textureAtl'+'asAsset']&&_0x59262b&&_0x2cab5b['textureAtl'+'asAsset']!==_0x59262b['textureAtl'+'asAsset']&&(this['_assets']['off']('load:'+_0x59262b['textureAtl'+'asAsset'],Pf,_0x5f17a9),this['_assets']['off']('add:'+_0x59262b['textureAtl'+'asAsset'],Mf,_0x5f17a9));}}class vS{constructor(_0x1c6148,_0x551cbd){h(this,'_app'),h(this,'_data'),h(this,'_templateR'+'oot',null),(this['_app']=_0x1c6148,this['_data']=_0x551cbd);}['instantiat'+'e'](){return this['_templateR'+'oot']||this['_parseTemp'+'late'](),this['_templateR'+'oot']['clone']();}['_parseTemp'+'late'](){const _0x4ba74a=new bm(this['_app'],!(0x853+-0x1bfd+0x13aa));this['_templateR'+'oot']=_0x4ba74a['parse'](this['_data']);}}class Rk extends Qe{constructor(_0x36dc28){super(_0x36dc28,'template'),h(this,'decoder',null);}['load'](_0x348799,_0x15f757){typeof _0x348799=='string'&&(_0x348799={'load':_0x348799,'original':_0x348799});const _0x53adf2={'retry':this['maxRetries']>-0x2*0x52b+0x2*0x11e7+-0x146*0x14,'maxRetries':this['maxRetries']};ot['get'](_0x348799['load'],_0x53adf2,(_0x8bd7b6,_0x3a001b)=>{_0x8bd7b6?_0x15f757('Error\x20requ'+'esting\x20tem'+'plate:\x20'+_0x348799['original']):_0x15f757(_0x8bd7b6,_0x3a001b);});}['open'](_0x37b6f2,_0x3fc919){return new vS(this['_app'],_0x3fc919);}['openBinary'](_0x548456){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),new vS(this['_app'],JSON['parse'](this['decoder']['decode'](_0x548456)));}}class Ok extends Qe{constructor(_0x5310f1){super(_0x5310f1,'text'),h(this,'decoder',null);}['load'](_0x1074a9,_0x588b44){typeof _0x1074a9=='string'&&(_0x1074a9={'load':_0x1074a9,'original':_0x1074a9}),ot['get'](_0x1074a9['load'],{'retry':this['maxRetries']>-0x1*-0x1b3a+-0x1*-0xef2+-0x4*0xa8b,'maxRetries':this['maxRetries']},(_0x3a07bc,_0x1f8e45)=>{_0x3a07bc?_0x588b44('Error\x20load'+'ing\x20text\x20r'+'esource:\x20'+_0x1074a9['original']+'\x20['+_0x3a07bc+']'):_0x588b44(null,_0x1f8e45);});}['openBinary'](_0x3c6245){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x3c6245);}}const Ic={'repeat':yt,'clamp':ue,'mirror':ip},Lc={'nearest':Te,'linear':vt,'nearest_mip_nearest':Kh,'linear_mip_nearest':Qh,'nearest_mip_linear':Zh,'linear_mip_linear':ma},Fk=/^data\.frames\.(\d+)$/;class Nk extends Qe{constructor(_0x47b8b1){super(_0x47b8b1,'textureatl'+'as'),this['_loader']=_0x47b8b1['loader'];}['load'](_0x32227b,_0x56bfb8){typeof _0x32227b=='string'&&(_0x32227b={'load':_0x32227b,'original':_0x32227b});const _0x2c412a=this,_0x26d0f4=this['_loader']['getHandler']('texture');xe['getExtensi'+'on'](_0x32227b['original'])==='.json'?ot['get'](_0x32227b['load'],{'retry':this['maxRetries']>-0x1e16*-0x1+0x20f1*0x1+-0x3f07,'maxRetries':this['maxRetries']},(_0x1468ba,_0x5cb09c)=>{if(_0x1468ba)_0x56bfb8(_0x1468ba);else{const _0x3361b2=_0x32227b['original']['replace']('.json','.png');_0x2c412a['_loader']['load'](_0x3361b2,'texture',(_0x23180a,_0xd1ddee)=>{_0x23180a?_0x56bfb8(_0x23180a):_0x56bfb8(null,{'data':_0x5cb09c,'texture':_0xd1ddee});});}}):_0x26d0f4['load'](_0x32227b,_0x56bfb8);}['open'](_0x1aa735,_0x525ae0,_0x339eee){const _0x254a54=new zA();if(_0x525ae0['texture']&&_0x525ae0['data'])_0x254a54['texture']=_0x525ae0['texture'],_0x254a54['__data']=_0x525ae0['data'];else{const _0x2372d8=this['_loader']['getHandler']('texture')['open'](_0x1aa735,_0x525ae0,_0x339eee);if(!_0x2372d8)return null;_0x254a54['texture']=_0x2372d8;}return _0x254a54;}['patch'](_0x9bced3,_0x4b2ad7){if(!_0x9bced3['resource'])return;_0x9bced3['resource']['__data']&&(_0x9bced3['resource']['__data']['minfilter']!==void(0xc93+-0x1*-0x416+0x5*-0x355)&&(_0x9bced3['data']['minfilter']=_0x9bced3['resource']['__data']['minfilter']),_0x9bced3['resource']['__data']['magfilter']!==void(0x6*0xde+0x2220+-0x68e*0x6)&&(_0x9bced3['data']['magfilter']=_0x9bced3['resource']['__data']['magfilter']),_0x9bced3['resource']['__data']['addressu']!==void(0x2*-0x361+-0x134+0x7f6)&&(_0x9bced3['data']['addressu']=_0x9bced3['resource']['__data']['addressu']),_0x9bced3['resource']['__data']['addressv']!==void(-0x1b14+-0x1447+0x2f5b)&&(_0x9bced3['data']['addressv']=_0x9bced3['resource']['__data']['addressv']),_0x9bced3['resource']['__data']['mipmaps']!==void(-0x252e+0x29f+-0x3d7*-0x9)&&(_0x9bced3['data']['mipmaps']=_0x9bced3['resource']['__data']['mipmaps']),_0x9bced3['resource']['__data']['anisotropy']!==void(-0xeb8+-0x2080+0x2f38)&&(_0x9bced3['data']['anisotropy']=_0x9bced3['resource']['__data']['anisotropy']),_0x9bced3['resource']['__data']['rgbm']!==void(0x2f*-0x5+0x1cd5+-0x31a*0x9)&&(_0x9bced3['data']['rgbm']=!!_0x9bced3['resource']['__data']['rgbm']),_0x9bced3['data']['frames']=_0x9bced3['resource']['__data']['frames'],delete _0x9bced3['resource']['__data']);const _0x296d53=_0x9bced3['resource']['texture'];if(_0x296d53&&(_0x296d53['name']=_0x9bced3['name'],_0x9bced3['data']['hasOwnProp'+'erty']('minfilter')&&_0x296d53['minFilter']!==Lc[_0x9bced3['data']['minfilter']]&&(_0x296d53['minFilter']=Lc[_0x9bced3['data']['minfilter']]),_0x9bced3['data']['hasOwnProp'+'erty']('magfilter')&&_0x296d53['magFilter']!==Lc[_0x9bced3['data']['magfilter']]&&(_0x296d53['magFilter']=Lc[_0x9bced3['data']['magfilter']]),_0x9bced3['data']['hasOwnProp'+'erty']('addressu')&&_0x296d53['addressU']!==Ic[_0x9bced3['data']['addressu']]&&(_0x296d53['addressU']=Ic[_0x9bced3['data']['addressu']]),_0x9bced3['data']['hasOwnProp'+'erty']('addressv')&&_0x296d53['addressV']!==Ic[_0x9bced3['data']['addressv']]&&(_0x296d53['addressV']=Ic[_0x9bced3['data']['addressv']]),_0x9bced3['data']['hasOwnProp'+'erty']('mipmaps')&&_0x296d53['mipmaps']!==_0x9bced3['data']['mipmaps']&&(_0x296d53['mipmaps']=_0x9bced3['data']['mipmaps']),_0x9bced3['data']['hasOwnProp'+'erty']('anisotropy')&&_0x296d53['anisotropy']!==_0x9bced3['data']['anisotropy']&&(_0x296d53['anisotropy']=_0x9bced3['data']['anisotropy']),_0x9bced3['data']['hasOwnProp'+'erty']('rgbm'))){const _0x5e38af=_0x9bced3['data']['rgbm']?Zi:Ds;_0x296d53['type']!==_0x5e38af&&(_0x296d53['type']=_0x5e38af);}_0x9bced3['resource']['texture']=_0x296d53;const _0x31dca0={};for(const _0x28d6e4 in _0x9bced3['data']['frames']){const _0x221c97=_0x9bced3['data']['frames'][_0x28d6e4];_0x31dca0[_0x28d6e4]={'rect':new re(_0x221c97['rect']),'pivot':new J(_0x221c97['pivot']),'border':new re(_0x221c97['border'])};}_0x9bced3['resource']['frames']=_0x31dca0,_0x9bced3['off']('change',this['_onAssetCh'+'ange'],this),_0x9bced3['on']('change',this['_onAssetCh'+'ange'],this);}['_onAssetCh'+'ange'](_0x5eeeaa,_0x316aff,_0x2a0fed){let _0x2b7d48;if(_0x316aff==='data'||_0x316aff==='data.frame'+'s'){const _0x1f3316={};for(const _0x4d889c in _0x2a0fed['frames'])_0x2b7d48=_0x2a0fed['frames'][_0x4d889c],_0x1f3316[_0x4d889c]={'rect':new re(_0x2b7d48['rect']),'pivot':new J(_0x2b7d48['pivot']),'border':new re(_0x2b7d48['border'])};_0x5eeeaa['resource']['frames']=_0x1f3316;}else{const _0x4f6ea9=_0x316aff['match'](Fk);if(_0x4f6ea9){const _0x4b45e9=_0x4f6ea9[0x21ff+0x4*-0x218+-0x199e];_0x2a0fed?(_0x5eeeaa['resource']['frames'][_0x4b45e9]?(_0x2b7d48=_0x5eeeaa['resource']['frames'][_0x4b45e9],_0x2b7d48['rect']['set'](_0x2a0fed['rect'][0x1a9d+-0xb2*-0x25+0x3457*-0x1],_0x2a0fed['rect'][-0x1b45+0x6cd*-0x2+0x28e0],_0x2a0fed['rect'][0x1fc*0x10+-0xa1+0xb1*-0x2d],_0x2a0fed['rect'][0x1*0x587+0xc73+0x3f*-0x49]),_0x2b7d48['pivot']['set'](_0x2a0fed['pivot'][0x23a2+0x1b09+-0x107*0x3d],_0x2a0fed['pivot'][0xeee+-0x31*0x55+-0x1*-0x158]),_0x2b7d48['border']['set'](_0x2a0fed['border'][0x1644+0xaf2*-0x3+0xa92],_0x2a0fed['border'][0x13f*-0x7+0xe47+-0x1*0x58d],_0x2a0fed['border'][-0xb5*-0x1+-0x1*0xba2+0x9*0x137],_0x2a0fed['border'][0xbf6+-0x64a*0x2+-0xa1*-0x1])):_0x5eeeaa['resource']['frames'][_0x4b45e9]={'rect':new re(_0x2a0fed['rect']),'pivot':new J(_0x2a0fed['pivot']),'border':new re(_0x2a0fed['border'])},_0x5eeeaa['resource']['fire']('set:frame',_0x4b45e9,_0x5eeeaa['resource']['frames'][_0x4b45e9])):_0x5eeeaa['resource']['frames'][_0x4b45e9]&&(delete _0x5eeeaa['resource']['frames'][_0x4b45e9],_0x5eeeaa['resource']['fire']('remove:fra'+'me',_0x4b45e9));}}}}function kk(){const _0x5d704b={'cTFETC1':0x0,'cTFETC2':0x1,'cTFBC1':0x2,'cTFBC3':0x3,'cTFPVRTC1_4_RGB':0x8,'cTFPVRTC1_4_RGBA':0x9,'cTFASTC_4x4':0xa,'cTFATC_RGB':0xb,'cTFATC_RGBA_INTERPOLATED_ALPHA':0xc,'cTFRGBA32':0xd,'cTFRGB565':0xe,'cTFRGBA4444':0x10},_0xd3aeb3={'astc':_0x5d704b['cTFASTC_4x'+'4'],'dxt':_0x5d704b['cTFBC1'],'etc1':_0x5d704b['cTFETC1'],'etc2':_0x5d704b['cTFETC1'],'pvr':_0x5d704b['cTFPVRTC1_'+'4_RGB'],'atc':_0x5d704b['cTFATC_RGB'],'none':_0x5d704b['cTFRGB565']},_0x164768={'astc':_0x5d704b['cTFASTC_4x'+'4'],'dxt':_0x5d704b['cTFBC3'],'etc1':_0x5d704b['cTFRGBA444'+'4'],'etc2':_0x5d704b['cTFETC2'],'pvr':_0x5d704b['cTFPVRTC1_'+'4_RGBA'],'atc':_0x5d704b['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA'],'none':_0x5d704b['cTFRGBA444'+'4']},_0xc8689c={'ETC1':0x15,'ETC2_RGB':0x16,'ETC2_RGBA':0x17,'DXT1':0x8,'DXT5':0xa,'PVRTC_4BPP_RGB_1':0x1a,'PVRTC_4BPP_RGBA_1':0x1b,'ASTC_4x4':0x1c,'ATC_RGB':0x1d,'ATC_RGBA':0x1e,'R8_G8_B8_A8':0x7,'R5_G6_B5':0x3,'R4_G4_B4_A4':0x5},_0x51533e=(_0x3b1bb7,_0x4eef16)=>{switch(_0x3b1bb7){case _0x5d704b['cTFETC1']:return _0x4eef16['formats']['etc2']?_0xc8689c['ETC2_RGB']:_0xc8689c['ETC1'];case _0x5d704b['cTFETC2']:return _0xc8689c['ETC2_RGBA'];case _0x5d704b['cTFBC1']:return _0xc8689c['DXT1'];case _0x5d704b['cTFBC3']:return _0xc8689c['DXT5'];case _0x5d704b['cTFPVRTC1_'+'4_RGB']:return _0xc8689c['PVRTC_4BPP'+'_RGB_1'];case _0x5d704b['cTFPVRTC1_'+'4_RGBA']:return _0xc8689c['PVRTC_4BPP'+'_RGBA_1'];case _0x5d704b['cTFASTC_4x'+'4']:return _0xc8689c['ASTC_4x4'];case _0x5d704b['cTFATC_RGB']:return _0xc8689c['ATC_RGB'];case _0x5d704b['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return _0xc8689c['ATC_RGBA'];case _0x5d704b['cTFRGBA32']:return _0xc8689c['R8_G8_B8_A'+'8'];case _0x5d704b['cTFRGB565']:return _0xc8689c['R5_G6_B5'];case _0x5d704b['cTFRGBA444'+'4']:return _0xc8689c['R4_G4_B4_A'+'4'];}},_0x5f0f3f=_0x54ed3e=>{const _0xa64612=function(_0x1159a9,_0x4bf85a){const _0x1c091a=_0x1159a9*(0x1f54+-0x2*-0x2d4+-0x24fc+0.00784313725490196)-(-0x1*-0x3ab+0x22ec*-0x1+0x1f42),_0xa60ac2=_0x4bf85a*((0x17c0+0x178a+-0x2f48)/(-0x117b+-0xe9f*-0x2+0x4*-0x2b1))-(0xe*0x14b+-0x1b14+0xb*0xd1),_0x171bcb=Math['sqrt'](0x20c0+0xd83+0x3e*-0xbf-Math['min'](0xc*-0xaa+-0x587*-0x1+0x272,_0x1c091a*_0x1c091a+_0xa60ac2*_0xa60ac2));return Math['max'](0xc62+0x1*0xa9f+0x27*-0x97,Math['min'](-0xabb*-0x1+-0x4b8*-0x2+-0x132c,Math['floor']((_0x171bcb+(-0x17c0+0x5*-0x4c7+0x2fa4))*(-0x491+-0x74*-0x35+-0xd*0x17f+0.5)*(0x1dd6+0xf29*-0x1+-0x11*0xce))));};for(let _0x258341=0x1*0x755+-0x11*-0x181+-0x1*0x20e6;_0x258341<_0x54ed3e['length'];_0x258341+=0x1855+-0x3b*-0x43+-0x27c2){const _0x38d954=_0x54ed3e[_0x258341+(0x167c+0x41e+-0x1a97)],_0x1f5657=_0x54ed3e[_0x258341+(0x13*-0x1b2+0x1e48+0x1ef)];_0x54ed3e[_0x258341+(-0x4*0x656+-0x18d4+0x322c)]=_0x38d954,_0x54ed3e[_0x258341+(-0x11e6+0x9f*-0x35+0x32d3)]=_0xa64612(_0x38d954,_0x1f5657),_0x54ed3e[_0x258341+(0x1d8b+-0xf06+0xe82*-0x1)]=0x208a+0x1f*-0x4c+0x1*-0x1657;}return _0x54ed3e;},_0x118fef=_0x52b092=>{const _0x3a1032=new Uint16Array(_0x52b092['length']/(-0x1*0x5d3+0x2320+-0x1d49));for(let _0x13f9af=-0x10e8+-0x1ece+0x2fb6;_0x13f9af<_0x52b092['length'];_0x13f9af+=0x45e+0x1324+0x2*-0xbbf){const _0x43f03b=_0x52b092[_0x13f9af+(-0x2638+0x6*-0x4d+-0x2*-0x1403)],_0xfb336d=_0x52b092[_0x13f9af+(-0x26c4*0x1+0x2*0x4bf+0x1d47)],_0x2fc083=_0x52b092[_0x13f9af+(0x18ed+0x1c44+-0x352f)];_0x3a1032[_0x13f9af/(-0x6fe*-0x2+0xa49+-0x1841)]=(_0x43f03b&-0x1261+0x94c+0xa0d)<<-0x1*0x1f66+0xd0c+0x1262|(_0xfb336d&-0x1aea+0xcb6*0x2+-0x1*-0x27a)<<0x1*0x1f8f+0x2d*0x86+-0x2*0x1b8d|_0x2fc083>>0x1*-0x1c50+-0x2249*0x1+0x3e9c;}return _0x3a1032;},_0x1ef636=(_0x53d665,_0x497b8d)=>(_0x53d665&_0x53d665-(0x74f*-0x1+-0x57b+0xccb))===0x4*0x28d+0x1*-0x1168+0x734&&(_0x497b8d&_0x497b8d-(-0x1*0x263d+0x2f*0x67+-0x31*-0x65))===0x967*-0x1+-0xb3*0x7+0xe4c,_0x2cde18=()=>typeof performance<'u'?performance['now']():-0xb*-0x367+-0x11fb*0x1+-0x1372;let _0x4c5ff5,_0x398e9b,_0x3c7ac6;const _0x16a370=(_0x23b308,_0x1f5135,_0x38bde9)=>{if(_0x38bde9){if(_0x23b308['formats']['astc'])return'astc';}else{if(_0x1f5135){if(_0x23b308['formats']['etc2'])return'etc2';}else{if(_0x23b308['formats']['etc2'])return'etc2';if(_0x23b308['formats']['etc1'])return'etc1';}}return(_0x594b18=>{for(let _0x31cf26=0x3f*-0x25+-0x252e*0x1+-0x29*-0x121;_0x31cf26<_0x594b18['length'];++_0x31cf26){const _0x540ee8=_0x594b18[_0x31cf26];if(_0x23b308['formats'][_0x540ee8])return _0x540ee8;}return'none';})(_0x1f5135?_0x3c7ac6:_0x398e9b);},_0x440f3b=(_0x214de1,_0x1fcadd,_0x4da16c)=>{switch(_0x4da16c){case _0x5d704b['cTFETC1']:case _0x5d704b['cTFETC2']:return!(0x150b+0x134b*0x1+0x2856*-0x1);case _0x5d704b['cTFBC1']:case _0x5d704b['cTFBC3']:return(_0x214de1&-0xb5e*0x2+-0x1457+-0x44f*-0xa)===-0xbae+0x1921+0x1*-0xd73&&(_0x1fcadd&-0x146d+-0x11ec+0x265c)===-0xf8+-0x1fc3+-0x93*-0x39;case _0x5d704b['cTFPVRTC1_'+'4_RGB']:case _0x5d704b['cTFPVRTC1_'+'4_RGBA']:return _0x1ef636(_0x214de1,_0x1fcadd);case _0x5d704b['cTFASTC_4x'+'4']:return!(-0x26a4+-0x1*-0x1c99+-0x3*-0x359);case _0x5d704b['cTFATC_RGB']:case _0x5d704b['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return!(-0x1*0x9fd+0x19c5+-0xfc8);}return!(-0xcc6+-0x1b9+-0xe8*-0x10);},_0x53cd59=(_0x23a1ff,_0x57a294,_0x42d52e)=>{if(!_0x4c5ff5['KTX2File'])throw new Error('Basis\x20tran'+'scoder\x20mod'+'ule\x20does\x20n'+'ot\x20include'+'\x20support\x20f'+'or\x20KTX2.');const _0x576dac=_0x2cde18(),_0x18b140=new _0x4c5ff5['KTX2File'](new Uint8Array(_0x57a294)),_0x3a0898=_0x18b140['getWidth'](),_0x30b0c5=_0x18b140['getHeight'](),_0x2e7667=_0x18b140['getLevels'](),_0xb0b06a=!!_0x18b140['getHasAlph'+'a'](),_0x23c73e=_0x18b140['isUASTC']&&_0x18b140['isUASTC']();if(!_0x3a0898||!_0x30b0c5||!_0x2e7667)throw _0x18b140['close'](),_0x18b140['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x23a1ff+'\x20width='+_0x3a0898+'\x20height='+_0x30b0c5+'\x20levels='+_0x2e7667);const _0x2f1baa=_0x16a370(_0x42d52e['deviceDeta'+'ils'],_0xb0b06a,_0x23c73e),_0x16cb3f=!!_0x42d52e['isGGGR']&&_0x2f1baa==='pvr';let _0x5753d2;if(_0x16cb3f?_0x5753d2=_0x5d704b['cTFRGBA32']:(_0x5753d2=_0xb0b06a?_0x164768[_0x2f1baa]:_0xd3aeb3[_0x2f1baa],_0x440f3b(_0x3a0898,_0x30b0c5,_0x5753d2)||(_0x5753d2=_0xb0b06a?_0x5d704b['cTFRGBA32']:_0x5d704b['cTFRGB565'])),!_0x18b140['startTrans'+'coding']())throw _0x18b140['close'](),_0x18b140['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x23a1ff);let _0x5ac52b;const _0x364811=[];for(let _0x32641f=0x1*-0x895+0x3b+0x85a;_0x32641f<_0x2e7667;++_0x32641f){const _0x3a6e90=_0x18b140['getImageTr'+'anscodedSi'+'zeInBytes'](_0x32641f,0x1ee4+-0x1*-0x13c3+0x32a7*-0x1,0x1a3f*0x1+-0xde1+0x1*-0xc5e,_0x5753d2),_0x162665=new Uint8Array(_0x3a6e90);if(!_0x18b140['transcodeI'+'mage'](_0x162665,_0x32641f,-0x23cb+-0x1*0x3a+0x2405*0x1,0xbc4+-0x1*0x4c1+-0x703,_0x5753d2,0x2*0x6c3+0x7*-0x25+0x1*-0xc83,-(0x1146+0x2*-0x11fe+0x12b7),-(0x4*0x1be+0x21ef*-0x1+-0x1*-0x1af8)))throw _0x18b140['close'](),_0x18b140['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x23a1ff);const _0x3147bd=_0x5753d2===_0x5d704b['cTFRGB565']||_0x5753d2===_0x5d704b['cTFRGBA444'+'4'];_0x364811['push'](_0x3147bd?new Uint16Array(_0x162665['buffer']):_0x162665);}if(_0x18b140['close'](),_0x18b140['delete'](),_0x16cb3f){for(_0x5753d2=_0x5d704b['cTFRGB565'],_0x5ac52b=-0x1c09*-0x1+0x8dd+-0x24e6;_0x5ac52b<_0x364811['length'];++_0x5ac52b)_0x364811[_0x5ac52b]=_0x118fef(_0x5f0f3f(_0x364811[_0x5ac52b]));}return{'format':_0x51533e(_0x5753d2,_0x42d52e['deviceDeta'+'ils']),'width':_0x3a0898,'height':_0x30b0c5,'levels':_0x364811,'cubemap':!(-0x1*0x19ba+-0x2f*-0x47+0xcb2),'transcodeTime':_0x2cde18()-_0x576dac,'url':_0x23a1ff,'unswizzledGGGR':_0x16cb3f};},_0x545fb8=(_0x5d0b80,_0x5d394d,_0x120cda)=>{const _0x7d1515=_0x2cde18(),_0x4064da=new _0x4c5ff5['BasisFile'](new Uint8Array(_0x5d394d)),_0x4da377=_0x4064da['getImageWi'+'dth'](-0x107+0x15be+-0x14b7,0x187f+0x1822+-0x1*0x30a1),_0x3934d1=_0x4064da['getImageHe'+'ight'](-0x1a60+-0x1c09+0x3669,-0xc07+0x250e+0x1907*-0x1),_0x3b26a9=_0x4064da['getNumImag'+'es'](),_0x57c999=_0x4064da['getNumLeve'+'ls'](-0x5d9*-0x1+0x734+-0xd0d*0x1),_0x3ca488=!!_0x4064da['getHasAlph'+'a'](),_0x5cc6d4=_0x4064da['isUASTC']&&_0x4064da['isUASTC']();if(!_0x4da377||!_0x3934d1||!_0x3b26a9||!_0x57c999)throw _0x4064da['close'](),_0x4064da['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x5d0b80+'\x20width='+_0x4da377+'\x20height='+_0x3934d1+'\x20images='+_0x3b26a9+'\x20levels='+_0x57c999);const _0x358c35=_0x16a370(_0x120cda['deviceDeta'+'ils'],_0x3ca488,_0x5cc6d4),_0x2c073f=!!_0x120cda['isGGGR']&&_0x358c35==='pvr';let _0x59f46;if(_0x2c073f?_0x59f46=_0x5d704b['cTFRGBA32']:(_0x59f46=_0x3ca488?_0x164768[_0x358c35]:_0xd3aeb3[_0x358c35],_0x440f3b(_0x4da377,_0x3934d1,_0x59f46)||(_0x59f46=_0x3ca488?_0x5d704b['cTFRGBA32']:_0x5d704b['cTFRGB565'])),!_0x4064da['startTrans'+'coding']())throw _0x4064da['close'](),_0x4064da['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x5d0b80);let _0x4d4541;const _0x23ef41=[];for(let _0x20a522=-0x1c5d+-0x2261+0x6*0xa75;_0x20a522<_0x57c999;++_0x20a522){const _0x206500=_0x4064da['getImageTr'+'anscodedSi'+'zeInBytes'](-0x5*0x5e3+-0x20e5+0x1*0x3e54,_0x20a522,_0x59f46),_0x3f3f6b=new Uint8Array(_0x206500);if(!_0x4064da['transcodeI'+'mage'](_0x3f3f6b,-0x1*-0x47b+-0x2a7*-0x9+-0x1c5a,_0x20a522,_0x59f46,0x1e2*0xd+-0x157d+-0x2fd*0x1,0x236a+0xe3e+-0x31a8)){if(_0x20a522===_0x57c999-(0x43*0x5d+0x19e8+0x76*-0x6d)&&_0x206500===_0x23ef41[_0x20a522-(-0x24b+-0x13e4+-0x8*-0x2c6)]['buffer']['byteLength'])_0x3f3f6b['set'](new Uint8Array(_0x23ef41[_0x20a522-(-0x2*0x98e+-0x217e*-0x1+-0xe61)]['buffer'])),console['warn']('Failed\x20to\x20'+'transcode\x20'+'last\x20mipma'+'p\x20level,\x20u'+'sing\x20previ'+'ous\x20level\x20'+'instead\x20ur'+'l='+_0x5d0b80);else throw _0x4064da['close'](),_0x4064da['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x5d0b80);}const _0x20f9e1=_0x59f46===_0x5d704b['cTFRGB565']||_0x59f46===_0x5d704b['cTFRGBA444'+'4'];_0x23ef41['push'](_0x20f9e1?new Uint16Array(_0x3f3f6b['buffer']):_0x3f3f6b);}if(_0x4064da['close'](),_0x4064da['delete'](),_0x2c073f){for(_0x59f46=_0x5d704b['cTFRGB565'],_0x4d4541=0x233f+-0x3*-0x432+-0x2fd5;_0x4d4541<_0x23ef41['length'];++_0x4d4541)_0x23ef41[_0x4d4541]=_0x118fef(_0x5f0f3f(_0x23ef41[_0x4d4541]));}return{'format':_0x51533e(_0x59f46,_0x120cda['deviceDeta'+'ils']),'width':_0x4da377,'height':_0x3934d1,'levels':_0x23ef41,'cubemap':!(0x2587+-0x1021+-0x1565),'transcodeTime':_0x2cde18()-_0x7d1515,'url':_0x5d0b80,'unswizzledGGGR':_0x2c073f};},_0xb43f7e=(_0x2aa6c9,_0x367643,_0x2a2dd5)=>_0x2a2dd5['isKTX2']?_0x53cd59(_0x2aa6c9,_0x367643,_0x2a2dd5):_0x545fb8(_0x2aa6c9,_0x367643,_0x2a2dd5),_0x3a2827=(_0x4ec737,_0x494ac5,_0x9ed8f8)=>{try{const _0x14600d=_0xb43f7e(_0x4ec737,_0x494ac5,_0x9ed8f8);_0x14600d['levels']=_0x14600d['levels']['map'](_0x3804e5=>_0x3804e5['buffer']),self['postMessag'+'e']({'url':_0x4ec737,'data':_0x14600d},_0x14600d['levels']);}catch(_0x3e919e){self['postMessag'+'e']({'url':_0x4ec737,'err':_0x3e919e},null);}},_0x1541ef=(_0x16fd4c,_0xeac543)=>{const _0x55fbff=(_0x14f2a3,_0x14f118)=>(WebAssembly['instantiat'+'e'](_0x16fd4c['module'],_0x14f2a3)['then'](_0x52795a=>{_0x14f118(_0x52795a);})['catch'](_0x24bb8c=>{console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x24bb8c);}),{});self['BASIS'](_0x16fd4c['module']?{'instantiateWasm':_0x55fbff}:null)['then'](_0x176a16=>{_0x176a16['initialize'+'Basis'](),_0x4c5ff5=_0x176a16,_0x398e9b=_0x16fd4c['rgbPriorit'+'y'],_0x3c7ac6=_0x16fd4c['rgbaPriori'+'ty'],_0xeac543(null);});},_0x176c3e=[];self['onmessage']=_0x54c403=>{const _0x2e90a1=_0x54c403['data'];switch(_0x2e90a1['type']){case'init':_0x1541ef(_0x2e90a1['config'],()=>{for(let _0x49bc36=-0x1e1b+0x2238+-0x41d;_0x49bc36<_0x176c3e['length'];++_0x49bc36)_0x3a2827(_0x176c3e[_0x49bc36]['url'],_0x176c3e[_0x49bc36]['data'],_0x176c3e[_0x49bc36]['options']);_0x176c3e['length']=0x395*-0x4+-0xe*0x24+0x1c*0x95;});break;case'transcode':_0x4c5ff5?_0x3a2827(_0x2e90a1['url'],_0x2e90a1['data'],_0x2e90a1['options']):_0x176c3e['push'](_0x2e90a1);break;}};}const Uk=_0x3ef313=>({'astc':!!_0x3ef313['extCompres'+'sedTexture'+'ASTC'],'atc':!!_0x3ef313['extCompres'+'sedTexture'+'ATC'],'dxt':!!_0x3ef313['extCompres'+'sedTexture'+'S3TC'],'etc1':!!_0x3ef313['extCompres'+'sedTexture'+'ETC1'],'etc2':!!_0x3ef313['extCompres'+'sedTexture'+'ETC'],'pvr':!!_0x3ef313['extCompres'+'sedTexture'+'PVRTC']}),Bk=(_0x4e1e40,_0x1185f2)=>{const _0x3c7d6a=_0x1861b4=>{const _0xf4f924=['/*\x20basis\x20*'+'/',_0x1861b4,'','('+kk['toString']()+')()\x0a\x0a']['join']('\x0a');return new Blob([_0xf4f924],{'type':'applicatio'+'n/javascri'+'pt'});},_0x3dd866=()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x49f50e=new WebAssembly['Module'](Uint8Array['of'](-0x1*0x8b4+0x10e2*-0x2+0x2a78,-0x1*-0x8ef+-0x4f3+-0x39b,-0x1483+-0x357*-0x9+-0x919,0xde5*0x1+-0x1*-0x1e0b+-0x2b83,0x9b6+-0x2b3+-0x702,-0x4f*0x58+0x1d3*-0xb+0x9d*0x4d,-0x26e2+-0x2a*-0xc1+0x738,0x487+-0x246d+-0xff3*-0x2));if(_0x49f50e instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x49f50e)instanceof WebAssembly['Instance'];}}catch{}return!(0x862+-0x26ec+0x45d*0x7);},_0x45e331=(_0x2bf234,_0x1b2f9d)=>{_0x1185f2(null,{'workerUrl':URL['createObje'+'ctURL'](_0x3c7d6a(_0x2bf234)),'module':_0x1b2f9d,'rgbPriority':_0x4e1e40['rgbPriorit'+'y'],'rgbaPriority':_0x4e1e40['rgbaPriori'+'ty']});},_0xb0abb6={'cache':!(-0x1b95+-0x8*0xd6+-0x2245*-0x1),'responseType':'text','retry':_0x4e1e40['maxRetries']>0x2361+-0xc9d+0x4*-0x5b1,'maxRetries':_0x4e1e40['maxRetries']};if(_0x4e1e40['glueUrl']&&_0x4e1e40['wasmUrl']&&_0x3dd866()){let _0x5e5f63=null,_0x3cec88=null;ot['get'](_0x4e1e40['glueUrl'],_0xb0abb6,(_0x2fbb58,_0x217507)=>{_0x2fbb58?_0x1185f2(_0x2fbb58):_0x3cec88?_0x45e331(_0x217507,_0x3cec88):_0x5e5f63=_0x217507;});const _0x5e46da=fetch(_0x4e1e40['wasmUrl']),_0x28feec=()=>{_0x5e46da['then'](_0x12ac61=>_0x12ac61['arrayBuffe'+'r']())['then'](_0x3a18e5=>WebAssembly['compile'](_0x3a18e5))['then'](_0x551dbe=>{_0x5e5f63?_0x45e331(_0x5e5f63,_0x551dbe):_0x3cec88=_0x551dbe;})['catch'](_0x519333=>{_0x1185f2(_0x519333,null);});};WebAssembly['compileStr'+'eaming']?WebAssembly['compileStr'+'eaming'](_0x5e46da)['then'](_0x1d534e=>{_0x5e5f63?_0x45e331(_0x5e5f63,_0x1d534e):_0x3cec88=_0x1d534e;})['catch'](_0x479d9c=>{w['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x4e1e40['wasmUrl']+'\x20('+_0x479d9c+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x28feec();}):_0x28feec();}else ot['get'](_0x4e1e40['fallbackUr'+'l'],_0xb0abb6,(_0x5beb4d,_0x466a80)=>{_0x5beb4d?_0x1185f2(_0x5beb4d,null):_0x45e331(_0x466a80,null);});};class zk{constructor(){this['callbacks']={},this['queue']=[],this['clients']=[];}['enqueueJob'](_0x10b1a2,_0x2ecb08,_0x510fc7,_0x5e8099){if(this['callbacks']['hasOwnProp'+'erty'](_0x10b1a2))this['callbacks'][_0x10b1a2]['push'](_0x510fc7);else{this['callbacks'][_0x10b1a2]=[_0x510fc7];const _0x1e6ecf={'url':_0x10b1a2,'data':_0x2ecb08,'options':_0x5e8099};this['clients']['length']>0x215f*0x1+0x1*-0x1ff5+-0x16a?this['clients']['shift']()['run'](_0x1e6ecf):this['queue']['push'](_0x1e6ecf);}}['enqueueCli'+'ent'](_0x1b94dd){this['queue']['length']>-0x64d*-0x2+0xcf9+-0x1993?_0x1b94dd['run'](this['queue']['shift']()):this['clients']['push'](_0x1b94dd);}['handleResp'+'onse'](_0x5ba002,_0x230a02,_0x282ac2){const _0x4e2933=this['callbacks'][_0x5ba002];if(_0x230a02){for(let _0x37f7cb=0x3*0x853+-0x949*-0x1+-0x6da*0x5;_0x37f7cb<_0x4e2933['length'];++_0x37f7cb)_0x4e2933[_0x37f7cb](_0x230a02);}else{_0x282ac2['format']===Jh||_0x282ac2['format']===ed?_0x282ac2['levels']=_0x282ac2['levels']['map'](_0x41371b=>new Uint16Array(_0x41371b)):_0x282ac2['levels']=_0x282ac2['levels']['map'](_0x519e49=>new Uint8Array(_0x519e49));for(let _0x143207=-0x43d+0x1c13+0x3*-0x7f2;_0x143207<_0x4e2933['length'];++_0x143207)_0x4e2933[_0x143207](null,_0x282ac2);}delete this['callbacks'][_0x5ba002];}}class Vk{constructor(_0x59529f,_0x438bb2,_0x525df2){this['queue']=_0x59529f,this['worker']=new Worker(_0x438bb2['workerUrl']),this['worker']['addEventLi'+'stener']('message',_0x3f300f=>{const _0x5a3b69=_0x3f300f['data'];this['queue']['handleResp'+'onse'](_0x5a3b69['url'],_0x5a3b69['err'],_0x5a3b69['data']),this['eager']||this['queue']['enqueueCli'+'ent'](this);}),this['worker']['postMessag'+'e']({'type':'init','config':_0x438bb2}),this['eager']=_0x525df2;}['run'](_0x875ad){const _0x5ed678=[];_0x875ad['data']instanceof ArrayBuffer&&_0x5ed678['push'](_0x875ad['data']),this['worker']['postMessag'+'e']({'type':'transcode','url':_0x875ad['url'],'format':_0x875ad['format'],'data':_0x875ad['data'],'options':_0x875ad['options']},_0x5ed678),this['eager']&&this['queue']['enqueueCli'+'ent'](this);}}const Gk=-0x2538+-0x227a+-0x1*-0x47b3,Hk=['etc2','etc1','astc','dxt','pvr','atc'],Wk=['astc','dxt','etc2','pvr','atc'],$k=-0x1f9a+-0x4cb*0x1+0x246a,Xu=new zk();let xS=null,qu=!(-0xf84+-0x932+0x18b7);function Xk(_0x5d1bb8){if(!qu){if(!_0x5d1bb8)_0x5d1bb8=xS||{};else{if(_0x5d1bb8['lazyInit']){xS=_0x5d1bb8;return;}}if(!_0x5d1bb8['glueUrl']||!_0x5d1bb8['wasmUrl']||!_0x5d1bb8['fallbackUr'+'l']){const _0x14858a=YS['getConfig']('BASIS');_0x14858a&&(_0x5d1bb8={'glueUrl':_0x14858a['glueUrl'],'wasmUrl':_0x14858a['wasmUrl'],'fallbackUrl':_0x14858a['fallbackUr'+'l'],'numWorkers':_0x14858a['numWorkers']});}if(_0x5d1bb8['glueUrl']||_0x5d1bb8['wasmUrl']||_0x5d1bb8['fallbackUr'+'l']){qu=!(0x1262*-0x2+0x928*-0x2+0x2*0x1b8a);const _0x332728=Math['max'](0x1e*-0x21+-0xc65*-0x3+-0x2150,Math['min'](0xe5d+-0x45a+-0x9f3,_0x5d1bb8['numWorkers']||Gk)),_0xcbacee=_0x5d1bb8['numWorkers']===0x182*0x11+0x527*0x3+-0x148b*0x2||(_0x5d1bb8['hasOwnProp'+'erty']('eagerWorke'+'rs')?_0x5d1bb8['eagerWorke'+'rs']:!(0x14b2+0x1a9b*-0x1+-0x5e9*-0x1));_0x5d1bb8['rgbPriorit'+'y']=_0x5d1bb8['rgbPriorit'+'y']||Hk,_0x5d1bb8['rgbaPriori'+'ty']=_0x5d1bb8['rgbaPriori'+'ty']||Wk,_0x5d1bb8['maxRetries']=_0x5d1bb8['hasOwnProp'+'erty']('maxRetries')?_0x5d1bb8['maxRetries']:$k,Bk(_0x5d1bb8,(_0x97067b,_0x28a8b8)=>{if(_0x97067b)console['error']('failed\x20to\x20'+'initialize'+'\x20basis\x20wor'+'ker:\x20'+_0x97067b);else{for(let _0x4b755c=0xd34+0x22b1+-0x2fe5;_0x4b755c<_0x332728;++_0x4b755c)Xu['enqueueCli'+'ent'](new Vk(Xu,_0x28a8b8,_0xcbacee));}});}}}let Df=null;function b0(_0x163cd2,_0x4c72a6,_0x554fd8,_0x376ba7,_0x4c4b5b){return Xk(),Df||(Df={'formats':Uk(_0x163cd2)}),Xu['enqueueJob'](_0x4c72a6,_0x554fd8,_0x376ba7,{'deviceDetails':Df,'isGGGR':!!(_0x4c4b5b!=null&&_0x4c4b5b['isGGGR']),'isKTX2':!!(_0x4c4b5b!=null&&_0x4c4b5b['isKTX2'])}),qu;}class eo{['load'](_0x3d6349,_0x55aec7,_0x168d4a){throw new Error('not\x20implem'+'ented');}['open'](_0x5de4a0,_0x4bf256,_0x2942c5){throw new Error('not\x20implem'+'ented');}}class qk extends eo{constructor(_0x1bf174,_0x48dfd2){super(),this['device']=_0x48dfd2,this['maxRetries']=0x3*-0x166+0x1f70+-0x1b3e;}['load'](_0x445672,_0x23fc46,_0xa2fed7){const _0x5ced80=this['device'],_0xb9021=_0x53770c=>{var _0x42ed10,_0x2d8e55,_0x364af2;b0(_0x5ced80,_0x445672['load'],_0x53770c,_0x23fc46,{'isGGGR':(((_0x364af2=(_0x2d8e55=(_0x42ed10=_0xa2fed7==null?void(-0x1da5+0xb1+0x1cf4):_0xa2fed7['file'])==null?void(-0x5*-0xd4+0x66f+0xa93*-0x1):_0x42ed10['variants'])==null?void(0x1*-0x1c34+-0x31*0xb3+0x1*0x3e77):_0x2d8e55['basis'])==null?void(-0x1*0x82e+0x1169*0x1+-0x93b):_0x364af2['opt'])&-0x2220+0x1*0x196f+0x8b9)!==0x1*-0xffb+0x1979+-0x97e})||_0x23fc46('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0xa2fed7['name']+']('+_0xa2fed7['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.'));};pe['fetchArray'+'Buffer'](_0x445672['load'],(_0x234996,_0x126192)=>{_0x234996?_0x23fc46(_0x234996):_0xb9021(_0x126192);},_0xa2fed7,this['maxRetries']);}['open'](_0x436814,_0x26800b,_0x20ef5d,_0x2bac07={}){const _0x4add77=_0x2bac07['srgb']?ld(_0x26800b['format']):_0x26800b['format'],_0x7fafae=new _e(_0x20ef5d,{'name':_0x436814,'profilerHint':Pr,'addressU':_0x26800b['cubemap']?ue:yt,'addressV':_0x26800b['cubemap']?ue:yt,'width':_0x26800b['width'],'height':_0x26800b['height'],'format':_0x4add77,'cubemap':_0x26800b['cubemap'],'levels':_0x26800b['levels'],..._0x2bac07});return _0x7fafae['upload'](),_0x7fafae;}}const A0=new Uint8Array([0x1*-0x1e39+0x41*-0x72+0x3bb4*0x1,-0x230d+0x12*-0x34+0x2705,0xd5+0x934+0x1*-0x9bb,0x1*-0x10e9+-0x124b*0x2+0x1*0x35c6,-0xa13+0x1*0x1b0d+-0x10ed,0x1*-0x2353+0x5da*0x5+0x3*0x209,-0x1fff+-0x22f+0x2248,-0x2*-0xb53+-0x1f4e*-0x1+-0x35ea,-0x1*0x2017+-0x230+0x87*0x41,-0xb0+-0x2f*0x65+0x133b,-0x226b+-0x20c6+0x4331,0x21d3*-0x1+-0x19*0x10b+0x67*0x95,0x961*0x4+0x9*0x32d+-0x41d0,0x23db+-0x27f*0x1+-0x2114,-0xc1*0x24+-0x245e+-0x3fc6*-0x1,-0x550+-0x4*-0x116+-0x14a*-0x1,-0x3f8*0x8+-0xce3+0x2ca3,-0x1*-0x1ded+-0x18de+-0x1*0x50f,0xb3b+0x22c6+-0x1*0x2e01,-0x1*-0x235f+-0x7fc+-0x1*0x1b62,0x527*0x1+0x100c+-0x1533,-0xaea+-0x1ff8+0x2ae2,0x1b8+-0x16*0x137+0x1902,0x2d3*-0x6+-0x10ef+0x21e2,0xbc9+-0x97*0xa+-0x1*0x5db,-0xa10+-0x3*0xb2b+0x1*0x2b97,-0xdc4+-0x1099+-0x1*-0x1e5d,0x1*-0x18d+-0x26cd+0x285a,-0x1*-0x83f+0xca*-0x1e+0xf6d,-0x2cf+0x135e+-0x107*0x10,0x1*0x13a9+0x1ec1+-0x3255,-0x2478+-0x1*-0x757+0x1de5,0x1b31+0xb59+-0x2601,-0xa*0xad+-0x1883+0x1f45,-0x201d+0x20b5*0x1+-0x98,-0x6d4*0x1+0x1d90+0x3*-0x794,-0x1757+0x1a6c+-0x308,-0x6*-0x567+-0x1d*-0xc1+-0x35fe,0x1e6f+-0x647*0x5+-0x4*-0x4e,-0xaa+0x7fd*0x1+0xa*-0xb5,-0x10b5+0x2*-0x571+0x1*0x1beb,-0x222+0x10b*-0x18+0x1ba2,0x1*0x1b8e+0x160*0x7+-0x2454,-0x1a42*0x1+0x575+0x1530,0x1*0x1a5b+-0x5*0x142+-0x13ad*0x1,0xc8d+0x82a+-0x1453,0xe5*0x1+0x1df3+-0x1e76,-0x3*0xa49+-0x143f*0x1+0x33d0,-0x18e4+0x662*0x6+-0xd61,-0x2*-0xd9d+-0x14*-0x119+0x5*-0x9d6,0x95c+-0x119*0x17+-0x53*-0x31,-0x17dd+0x999+0x57*0x2b,-0x18b9*0x1+-0x17d9+0x3092,0x148+0x1*0x2e3+-0x1f2*0x2,0x22*0x10f+-0x1c9f*0x1+-0x38e*0x2,-0x134b+-0x265*-0xb+0x3*-0x22d,0x243a*0x1+0xd*0x36+-0x2664,-0x91f+0x1*-0x19b9+0x23c5,-0x13bb+-0x1*0x2683+0x3a3e,0x1*-0x10d7+-0x1*-0x1537+-0x460,0x117f+-0x11a8+-0x1*-0x29,0x22f3+-0x14*-0xad+0x13*-0x28d,0x18b1+-0x5c0+-0x4aa*0x4,0x1*0x247d+-0x156f+-0xec9*0x1,0x295*0xa+0x3*0xa3d+-0x383b*0x1,0x221f+-0xfd+-0x20de,0x2077*0x1+-0x1*0x1dc3+-0x25*0xe,-0x21d4+0x182e+0x27a*0x4,0x5*-0x7b7+0x1*-0xd13+0x3406,0x2e*-0x47+-0x171c+-0x10*-0x246]),C0=(_0x1b8311,_0x476611)=>{const _0x1db811=new _e(_0x1b8311,{'width':0x1,'height':0x1,'format':Ne,'mipmaps':!(0x26+-0x1293+0x126e),'levels':[_0x476611]}),_0x5d03e2=new gt({'colorBuffer':_0x1db811,'depth':!(0xb3*-0x2f+-0x2701+0x47df)});_0x1b8311['setFramebu'+'ffer'](_0x5d03e2['impl']['_glFrameBu'+'ffer']),_0x1b8311['initRender'+'Target'](_0x5d03e2);const _0x1e37d8=new Uint8ClampedArray(-0xd1*0x16+0x1d3d+0x5d*-0x1f);return _0x1b8311['gl']['readPixels'](0x283*0xb+-0xd31+0x210*-0x7,-0x33b*0x6+0x9*-0x4f+-0x3*-0x763,-0x2bd*-0x5+0x220a+-0x52*0x95,-0x1cad+0x1056+-0x1*-0xc58,_0x1b8311['gl']['RGBA'],_0x1b8311['gl']['UNSIGNED_B'+'YTE'],_0x1e37d8),_0x5d03e2['destroy'](),_0x1db811['destroy'](),_0x1e37d8[0x1*0x155d+-0xe42+-0x71b]===0x1032+-0x2*0xc65+0x899&&_0x1e37d8[-0x15f3*0x1+0xb62*-0x1+-0xfb*-0x22]===0x51a*0x4+-0x2310+0x1*0xeaa&&_0x1e37d8[0xb*-0x2b+0x1e6e+-0xb*0x299]===-0x13*0xcc+0x9fc+0x52b&&_0x1e37d8[0x1038+0x26ed+-0x3722]===-0x29*0xca+0x4*0x1e8+-0x3*-0x853;},jk=_0x345857=>createImageBitmap(new Blob([A0],{'type':'image/png'}),{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x31f82e=>C0(_0x345857,_0x31f82e))['catch'](_0x100231=>!(-0x2479+-0x46d*-0x2+-0x1ba*-0x10)),Yk=_0x3b48d5=>new Promise((_0x1a04ab,_0x26ea85)=>{const _0x1bf93e=new Image();_0x1bf93e['src']=URL['createObje'+'ctURL'](new Blob([A0])),_0x1bf93e['onload']=()=>{_0x1a04ab(C0(_0x3b48d5,_0x1bf93e));};});class Kk{static['run'](_0x403358){jk(_0x403358)['then'](_0x46560a=>{console['log']('imageBitma'+'pIsCorrect'+'='+_0x46560a);}),Yk(_0x403358)['then'](_0x3eba54=>{console['log']('imgElement'+'IsCorrect='+_0x3eba54);});}}class Zk extends eo{constructor(_0xce537d,_0x16e185){super(),this['crossOrigi'+'n']=_0xce537d['prefix']?'anonymous':null,this['maxRetries']=-0x6e6+-0x2b*0x27+0xd73,this['device']=_0x16e185,mi['get']('IMG_ALPHA_'+'TEST')&&Kk['run'](this['device']);}['load'](_0x24f274,_0x59469b,_0x45efd7){var _0x39375e;const _0x384333=!!((_0x39375e=_0x45efd7==null?void(0x9c5+-0x1671+-0xcac*-0x1):_0x45efd7['file'])!=null&&_0x39375e['contents']);if(_0x384333){if(this['device']['supportsIm'+'ageBitmap']){this['_loadImage'+'BitmapFrom'+'Blob'](new Blob([_0x45efd7['file']['contents']]),_0x59469b);return;}_0x24f274={'load':URL['createObje'+'ctURL'](new Blob([_0x45efd7['file']['contents']])),'original':_0x24f274['original']};}const _0xd6c3d7=(_0x5acb56,_0x3b8557)=>{_0x384333&&URL['revokeObje'+'ctURL'](_0x24f274['load']),_0x59469b(_0x5acb56,_0x3b8557);};let _0x180cd7;_0x45efd7&&_0x45efd7['options']&&_0x45efd7['options']['hasOwnProp'+'erty']('crossOrigi'+'n')?_0x180cd7=_0x45efd7['options']['crossOrigi'+'n']:jn['test'](_0x24f274['load'])&&(_0x180cd7=this['crossOrigi'+'n']),this['device']['supportsIm'+'ageBitmap']?this['_loadImage'+'Bitmap'](_0x24f274['load'],_0x24f274['original'],_0x180cd7,_0xd6c3d7,_0x45efd7):this['_loadImage'](_0x24f274['load'],_0x24f274['original'],_0x180cd7,_0xd6c3d7);}['open'](_0x85fdca,_0xfef2b8,_0x1a6273,_0x50c7ff={}){const _0x766fb9=new _e(_0x1a6273,{'name':_0x85fdca,'profilerHint':Pr,'width':_0xfef2b8['width'],'height':_0xfef2b8['height'],'format':_0x50c7ff['srgb']?_s:Ne,..._0x50c7ff});return _0x766fb9['setSource'](_0xfef2b8),_0x766fb9;}['_loadImage'](_0x1e7c2e,_0x521146,_0x5393e6,_0x2a196d){const _0x2ebb8b=new Image();_0x5393e6&&(_0x2ebb8b['crossOrigi'+'n']=_0x5393e6);let _0x29ff28=0x1fb7+-0xdf0+0x25*-0x7b;const _0x13db3e=this['maxRetries'];let _0x18ba92;_0x2ebb8b['onload']=function(){_0x2a196d(null,_0x2ebb8b);},_0x2ebb8b['onerror']=function(){if(!_0x18ba92){if(_0x13db3e>-0x8e1+-0x1514+0x1df5*0x1&&++_0x29ff28<=_0x13db3e){const _0x21f590=Math['pow'](0x1*-0x1e97+0x3bb*0x7+0x23e*0x2,_0x29ff28)*(0x2*0xccc+0x2*-0x192+-0x1610);console['log']('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x521146+('\x27\x20-\x20Retryi'+'ng\x20in\x20')+_0x21f590+'ms...');const _0x3925b1=_0x1e7c2e['indexOf']('?')>=0x3*-0x703+0x1eba+-0x9b1?'&':'?';_0x18ba92=setTimeout(()=>{_0x2ebb8b['src']=_0x1e7c2e+_0x3925b1+'retry='+Date['now'](),_0x18ba92=null;},_0x21f590);}else _0x2a196d('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x521146+'\x27');}},_0x2ebb8b['src']=_0x1e7c2e;}['_loadImage'+'Bitmap'](_0x2dde8a,_0x287c17,_0x1b92d4,_0x3d9994,_0x336d5c){const _0x35864c={'cache':!(-0x1e8*0x10+-0x669*-0x1+-0x371*-0x7),'responseType':'blob','retry':this['maxRetries']>0x2d*-0xc1+-0x1f*-0x49+-0x2*-0xc8b,'maxRetries':this['maxRetries'],'progress':_0x336d5c};ot['get'](_0x2dde8a,_0x35864c,(_0x321e82,_0x2a4707)=>{_0x321e82?_0x3d9994(_0x321e82):this['_loadImage'+'BitmapFrom'+'Blob'](_0x2a4707,_0x3d9994);});}['_loadImage'+'BitmapFrom'+'Blob'](_0x1b976e,_0x136329){createImageBitmap(_0x1b976e,{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x519154=>_0x136329(null,_0x519154))['catch'](_0x56163f=>_0x136329(_0x56163f));}}const If=[0x9147aded*-0x1+-0x1cae6e64*0x5+0x17904218c,0xe6a0a75d+-0xa36517a4+0x77f5a167,-0x73b1*-0x1321+-0x1*0x124a035+-0x30e5*-0xd9d],Qk={0x83f0:td,0x83f2:op,0x83f3:vl,0x8d64:id,0x9274:cp,0x9278:hp,0x8c00:rd,0x8c01:xl,0x8c02:ad,0x8c03:Tl,0x8051:Cr,0x8058:Ne,0x8c41:lp,0x8c43:_s,0x8c3a:In,0x881b:ui,0x881a:nt};function Jk(_0x1e1ba0,_0x430aed,_0x5737de,_0x1c6d1e){return _0x1e1ba0===In?new Uint32Array(_0x430aed,_0x5737de,_0x1c6d1e/(-0x1670+0xd27+0x1*0x94d)):new Uint8Array(_0x430aed,_0x5737de,_0x1c6d1e);}class eU extends eo{constructor(_0x492d6c){super(),this['maxRetries']=-0x1*0x65+0x35*-0x97+0x4*0x7ea;}['load'](_0x317a51,_0x4d88bf,_0x305df1){pe['fetchArray'+'Buffer'](_0x317a51['load'],_0x4d88bf,_0x305df1,this['maxRetries']);}['open'](_0x1f479a,_0x4862c9,_0x123ad0,_0x5b461f={}){const _0x4e4ed8=this['parse'](_0x4862c9);if(!_0x4e4ed8)return null;const _0x4ce3f9=_0x5b461f['srgb']?ld(_0x4e4ed8['format']):_0x4e4ed8['format'],_0x178fb2=new _e(_0x123ad0,{'name':_0x1f479a,'profilerHint':Pr,'addressU':_0x4e4ed8['cubemap']?ue:yt,'addressV':_0x4e4ed8['cubemap']?ue:yt,'width':_0x4e4ed8['width'],'height':_0x4e4ed8['height'],'format':_0x4ce3f9,'cubemap':_0x4e4ed8['cubemap'],'levels':_0x4e4ed8['levels'],..._0x5b461f});return _0x178fb2['upload'](),_0x178fb2;}['parse'](_0x2ab7e8){const _0x10f030=new Uint32Array(_0x2ab7e8);if(If[0x25e+-0x4f7+-0x85*-0x5]!==_0x10f030[-0xae2*0x2+-0x2218+0x37dc]||If[-0x95*0x15+0x13a9+0x76f*-0x1]!==_0x10f030[0x1a1b+0x121c*0x1+-0x2c36]||If[0x1e95+-0x1d66+-0x12d*0x1]!==_0x10f030[-0x166*0x6+0x2df*-0x7+0x1*0x1c7f])return w['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX\x20f'+'ile.\x20Expec'+'ted\x200xAB4B'+'5458,\x200x20'+'3131BB,\x200x'+'0D0A1A0A'),null;const _0x49f6c5={'endianness':_0x10f030[0x2bb+-0x2126+-0x30b*-0xa],'glType':_0x10f030[0x33*0x47+-0x35*-0x76+0x1*-0x268f],'glTypeSize':_0x10f030[-0x24df*-0x1+0x511*0x5+-0x1*0x3e2f],'glFormat':_0x10f030[0x3*-0x531+-0x1d56+0x2cef],'glInternalFormat':_0x10f030[0x1091+0x1ae1+-0x2b6b],'glBaseInternalFormat':_0x10f030[-0x2658+-0x1*-0xbde+0x1a82],'pixelWidth':_0x10f030[-0x1*-0x10a2+-0x11ad+0x114],'pixelHeight':_0x10f030[0x18a9+-0x6*-0x12+-0x190b],'pixelDepth':_0x10f030[-0x1772+-0x2d*0xd0+0x1*0x3c0d],'numberOfArrayElements':_0x10f030[0x918*-0x4+-0x22df+0x474b],'numberOfFaces':_0x10f030[-0xca8+0x2536+-0x1881],'numberOfMipmapLevels':_0x10f030[0x34*-0x66+-0x1618+-0xb1*-0x3e],'bytesOfKeyValueData':_0x10f030[0x25b1+-0x1*-0x1bf2+0x15dc*-0x3]};if(_0x49f6c5['pixelDepth']>0x1090+-0x13a8+0xd*0x3d)return w['warn']('More\x20than\x20'+'1\x20pixel\x20de'+'pth\x20not\x20su'+'pported!'),null;if(_0x49f6c5['numberOfAr'+'rayElement'+'s']!==-0x816+-0x1b0a+0x2320)return w['warn']('Array\x20text'+'ure\x20not\x20su'+'pported!'),null;const _0xc6b83c=Qk[_0x49f6c5['glInternal'+'Format']];if(_0xc6b83c===void(0x8bc+0x54b*0x1+-0xe07))return w['warn']('Unknown\x20gl'+'InternalFo'+'rmat:\x20'+_0x49f6c5['glInternal'+'Format']),null;let _0x5849c7=0x3*0x811+-0x26e2+-0x19*-0x97+_0x49f6c5['bytesOfKey'+'ValueData']/(-0x7a9*0x1+0x1*-0x1c81+-0x16*-0x1a5);const _0x31e633=_0x49f6c5['numberOfFa'+'ces']>-0x1*0x1b7+0x990+-0x7d8,_0x4371ac=[];for(let _0x1da12a=-0x2688+0xe1+0x25a7;_0x1da12a<(_0x49f6c5['numberOfMi'+'pmapLevels']||-0xecc+0xb77+0x1ab*0x2);_0x1da12a++){const _0x255bcf=_0x10f030[_0x5849c7++];_0x31e633&&_0x4371ac['push']([]);const _0xd75a77=_0x31e633?_0x4371ac[_0x1da12a]:_0x4371ac;for(let _0x1ff54a=0x183c+-0x5e*0x5f+0x1*0xaa6;_0x1ff54a<(_0x31e633?0x131c+0x2554+-0x386a:-0x1d12+0x28f+0xd42*0x2);++_0x1ff54a)_0xd75a77['push'](Jk(_0xc6b83c,_0x2ab7e8,_0x5849c7*(0x2564*0x1+-0xc9a+-0x18c6),_0x255bcf)),_0x5849c7+=_0x255bcf+(-0x2012+-0x21bd+0x41d2)>>-0x1d39*0x1+-0x23f+0xed*0x22;}return{'format':_0xc6b83c,'width':_0x49f6c5['pixelWidth'],'height':_0x49f6c5['pixelHeigh'+'t'],'levels':_0x4371ac,'cubemap':_0x31e633};}}const tU={'KHR_DF_MODEL_UASTC':0xa6};class sU extends eo{constructor(_0x2dbea5,_0x58fb6f){super(),this['maxRetries']=-0x20c5*-0x1+-0x12ac+0x4b3*-0x3,this['device']=_0x58fb6f;}['load'](_0x14fe2d,_0x754dd4,_0x3624d5){pe['fetchArray'+'Buffer'](_0x14fe2d['load'],(_0x22dd24,_0x54b7a0)=>{_0x22dd24?_0x754dd4(_0x22dd24,_0x54b7a0):this['parse'](_0x54b7a0,_0x14fe2d,_0x754dd4,_0x3624d5);},_0x3624d5,this['maxRetries']);}['open'](_0x295b54,_0x417afe,_0x370572,_0x1cd7fc={}){const _0x2e8662=_0x1cd7fc['srgb']?ld(_0x417afe['format']):_0x417afe['format'],_0x1f4146=new _e(_0x370572,{'name':_0x295b54,'profilerHint':Pr,'addressU':_0x417afe['cubemap']?ue:yt,'addressV':_0x417afe['cubemap']?ue:yt,'width':_0x417afe['width'],'height':_0x417afe['height'],'format':_0x2e8662,'cubemap':_0x417afe['cubemap'],'levels':_0x417afe['levels'],..._0x1cd7fc});return _0x1f4146['upload'](),_0x1f4146;}['parse'](_0x5d9ad8,_0x11479f,_0x24ab42,_0x5c0c0f){var _0x7795aa,_0x5b101a,_0xef5c6a;const _0x3a0a8a=new KS(_0x5d9ad8),_0x38f9a0=[_0x3a0a8a['readU32be'](),_0x3a0a8a['readU32be'](),_0x3a0a8a['readU32be']()];if(_0x38f9a0[0xd90+-0x199*0x15+-0x2b*-0x77]!==-0x125*0x8f7d7d+-0x1*-0x107b7b8e4+0x47ce3b85||_0x38f9a0[-0xaa*-0x21+0x84b*0x3+-0x2eca]!==-0x24d023d7+0x30b816c7+-0x1*-0x144a3dcb||_0x38f9a0[-0xb5*-0x7+-0xe35+0x251*0x4]!==-0x5*0x47f4fa9+0x72bdac7+0x1c5acd90)return w['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX2\x20'+'file.\x20Expe'+'cted\x200xAB4'+'B5458,\x200x2'+'03131BB,\x200'+'x0D0A1A0A'),null;const _0x1ca9d1={'vkFormat':_0x3a0a8a['readU32'](),'typeSize':_0x3a0a8a['readU32'](),'pixelWidth':_0x3a0a8a['readU32'](),'pixelHeight':_0x3a0a8a['readU32'](),'pixelDepth':_0x3a0a8a['readU32'](),'layerCount':_0x3a0a8a['readU32'](),'faceCount':_0x3a0a8a['readU32'](),'levelCount':_0x3a0a8a['readU32'](),'supercompressionScheme':_0x3a0a8a['readU32']()},_0x30433e={'dfdByteOffset':_0x3a0a8a['readU32'](),'dfdByteLength':_0x3a0a8a['readU32'](),'kvdByteOffset':_0x3a0a8a['readU32'](),'kvdByteLength':_0x3a0a8a['readU32'](),'sgdByteOffset':_0x3a0a8a['readU64'](),'sgdByteLength':_0x3a0a8a['readU64']()},_0x5d5997=[];for(let _0x4b47fa=-0x2225*-0x1+-0x9fc+-0x1829;_0x4b47fa<Math['max'](-0x55d*-0x5+0x1d*-0x2b+-0x15f1,_0x1ca9d1['levelCount']);++_0x4b47fa)_0x5d5997['push']({'byteOffset':_0x3a0a8a['readU64'](),'byteLength':_0x3a0a8a['readU64'](),'uncompressedByteLength':_0x3a0a8a['readU64']()});if(_0x3a0a8a['readU32']()!==_0x30433e['kvdByteOff'+'set']-_0x30433e['dfdByteOff'+'set'])return w['warn']('Invalid\x20fi'+'le\x20data\x20en'+'countered.'),null;_0x3a0a8a['skip'](-0x23ea+0x1*0x12bf+-0x103*-0x11);const _0x5573a3=_0x3a0a8a['readU8']();_0x3a0a8a['skip'](_0x30433e['dfdByteLen'+'gth']-(-0x34*-0x36+0x185+-0xc74)),_0x3a0a8a['skip'](_0x30433e['kvdByteLen'+'gth']),_0x1ca9d1['supercompr'+'essionSche'+'me']===-0x2472+0x1a34+0xa3f||_0x5573a3===tU['KHR_DF_MOD'+'EL_UASTC']?b0(this['device'],_0x11479f['load'],_0x5d9ad8,_0x24ab42,{'isGGGR':(((_0xef5c6a=(_0x5b101a=(_0x7795aa=_0x5c0c0f==null?void(-0x1dcb+-0x4*-0x165+0x1837):_0x5c0c0f['file'])==null?void(0x1*0x198e+-0x219*-0xb+0x3b*-0xd3):_0x7795aa['variants'])==null?void(-0x1*0x1bd1+-0x9*-0x3f9+-0x1*0x7f0):_0x5b101a['basis'])==null?void(-0x18a2+-0x291+0x1b33):_0xef5c6a['opt'])&-0x3b*0x9e+0x621+0x1e51)!==-0xa23+0x11d1+-0x7ae,'isKTX2':!(0x1ff+-0x24ae+0x22af)})||_0x24ab42('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x5c0c0f['name']+']('+_0x5c0c0f['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.')):_0x24ab42('unsupporte'+'d\x20KTX2\x20pix'+'el\x20format');}}class iU extends eo{constructor(_0x3e36ef){super(),this['maxRetries']=0x1866+-0x1*0xf0b+-0x95b;}['load'](_0x331b1c,_0x3aa6cb,_0x411547){pe['fetchArray'+'Buffer'](_0x331b1c['load'],_0x3aa6cb,_0x411547,this['maxRetries']);}['open'](_0x24baa9,_0x5523ae,_0x146d76,_0x588a84={}){const _0x2c4611=new Uint32Array(_0x5523ae,-0x1e01+0x9*0x21f+-0xb*-0xfe,-0x1686+-0x41d+0x1ac3),_0x2bae4e=_0x2c4611[-0x1e60+-0x1*-0x6a4+0x17c0],_0x58981f=_0x2c4611[0x1f50+-0x177d*-0x1+-0x1*0x36ca],_0x1a332c=Math['max'](_0x2c4611[-0xd03*-0x2+-0x5*0x1df+-0x10a4],0xc76*-0x1+0xa*0x3a7+-0x3*0x805),_0xd62765=_0x2c4611[-0x19bd+-0xdff+0x70*0x5b]===-0xe1d+-0x1513+0x2334,_0x175a33=_0x2c4611[0x26d1+0x2*-0x6d3+-0xa9*0x26],_0x4409c9=_0x2c4611[-0x1*0x2575+-0x2378+-0x4903*-0x1],_0x490c51=_0x2c4611[-0x18df+-0x1954+0x324f]===-0x1dd*0x9+-0x9885+0x1a74a,_0x587256=0x51149f86+0xb*0x5e4e13f+0xad*-0x8eecb3,_0x3668ad=0x458eb44+0x4d8e97ed+-0x1c932aed,_0x1e796e=0x1*-0xe30+-0x1*0x9d1+-0x3*-0x826,_0x124c30=0x2360+-0x1*-0x9ff+0xef9*-0x3,_0x41603c=-0xd989dc+-0x5549fbac+0x8766d9cd,_0x37ccfd=0x34de2f3e*0x1+0x277b*0x18276+-0x3f44a5a*0x10,_0x4df1b7=-0x1ab93647+0x3165ec7a+-0x1a877c1d*-0x1,_0x15deed=0x334e055*-0xd+-0x2129e85*0x1a+-0x101613cb*-0x9,_0x5d243e=-0x74f*-0xac58e+0x1*-0x43b91d3d+0x6f*0x581a75;let _0x206414=!(0x1894+-0x5*-0xc9+-0x1c80),_0x9b7353=!(0x11bc+0x83+-0x123e),_0x215656=!(-0xc3*0x8+-0x28c+0x1*0x8a5),_0x426d2b=!(0x9f+-0x3a9*-0x9+-0x79*0x47),_0x27b9f8=null,_0x340668=0x6c6+0x2*0xead+-0x241f,_0x213d39;if(_0xd62765?_0x175a33===_0x587256?(_0x27b9f8=td,_0x206414=!(-0x1fb0+-0x1d7*-0x6+0x6*0x371)):_0x175a33===_0x3668ad?(_0x27b9f8=vl,_0x206414=!(0xf7d+-0x86*0x20+0x143)):_0x175a33===_0x1e796e?(_0x27b9f8=nt,_0x340668=-0x23e*-0x1+-0x1a13+0x17d7):_0x175a33===_0x124c30?(_0x27b9f8=Xt,_0x340668=-0xda8+0x332+0xa7a):_0x175a33===_0x41603c?(_0x27b9f8=id,_0x206414=!(-0x134f+-0x46b+0xbdd*0x2),_0x9b7353=!(0x14*0x1b7+-0x13a+-0x2112)):_0x175a33===_0x37ccfd||_0x175a33===_0x4df1b7?(_0x27b9f8=_0x175a33===_0x37ccfd?xl:Tl,_0x206414=!(-0x1*-0x26b9+0x7e2+0x1*-0x2e9b),_0x215656=!(-0x49*0x46+-0x2327+-0x371d*-0x1)):(_0x175a33===_0x15deed||_0x175a33===_0x5d243e)&&(_0x27b9f8=_0x175a33===_0x15deed?rd:ad,_0x206414=!(-0xa7*-0x32+0x1647+-0x36e5),_0x426d2b=!(0xd*-0x89+-0x2*-0x7a7+0x859*-0x1)):_0x4409c9===0x733*0x3+-0x1e77+0x47f*0x2&&(_0x27b9f8=Ne),!_0x27b9f8)return w['error']('This\x20DDS\x20p'+'ixel\x20forma'+'t\x20is\x20curre'+'ntly\x20unsup'+'ported.\x20Em'+'pty\x20textur'+'e\x20will\x20be\x20'+'created\x20in'+'stead\x20of\x20'+_0x24baa9+'.'),_0x213d39=new _e(_0x146d76,{'width':0x4,'height':0x4,'format':Cr,'name':'dds-legacy'+'-empty'}),_0x213d39;_0x213d39=new _e(_0x146d76,{'name':_0x24baa9,'profilerHint':Pr,'addressU':_0x490c51?ue:yt,'addressV':_0x490c51?ue:yt,'width':_0x2bae4e,'height':_0x58981f,'format':_0x27b9f8,'cubemap':_0x490c51,'mipmaps':_0x1a332c>0x537+0x251b+0x1d7*-0x17,..._0x588a84});let _0x975881=-0x13*-0x1f6+0x3*0x4eb+-0x3383;const _0x2b8d42=_0x490c51?-0x21d0*0x1+0x10a9*-0x2+0x4328:0x871*0x4+-0x2172+0x3*-0x1b;let _0x2080a4;const _0x1bed7b=-0x1376+0x1*-0xd78+0x20f2*0x1,_0x5aa1e6=-0x2b*0x27+0xcc7*-0x1+-0x2*-0x9ac,_0x16722b=_0x175a33===_0x587256?0x2463+-0x21c1+-0x29a:-0x352*-0x5+-0xf*-0x83+-0x1837*0x1;let _0x22c452,_0x270ace,_0x4570e8;for(let _0x46c41e=-0x1a75+-0x69d*0x1+0xf9*0x22;_0x46c41e<_0x2b8d42;_0x46c41e++){let _0x596107=_0x2bae4e,_0x3efc41=_0x58981f;for(let _0x1ee7a0=0x1f*-0xd4+-0x9*0x2ee+0x340a*0x1;_0x1ee7a0<_0x1a332c;_0x1ee7a0++){_0x206414?_0x9b7353?_0x2080a4=Math['floor']((_0x596107+(0xc*0x286+-0x24b*0x11+0x8b6))/(0x1*-0x2467+0xffd+0x146e*0x1))*Math['floor']((_0x3efc41+(0xa9*0x2e+-0x2156+0x2fb))/(0xbd*0x15+0xcaa*-0x1+-0x2d3))*(-0x1688+-0x12*0x16a+0x3004):_0x215656?_0x2080a4=Math['max'](_0x596107,-0x1*0xd1f+0x16f5+-0x9c6)*Math['max'](_0x3efc41,-0x4*0x864+-0x3a3*0x3+0x2c81)/(-0x8a6+-0x1d11+0x25bb):_0x426d2b?_0x2080a4=Math['max'](_0x596107,-0x2e7*-0x9+-0x20ed*0x1+-0x23*-0x32)*Math['max'](_0x3efc41,0xff3+-0xdc0+0xf*-0x25)/(0x1cc2+0x2*0xecb+0x26*-0x189):(_0x22c452=Math['floor']((_0x596107+_0x1bed7b-(0x1099+-0x1*-0xaf8+-0x188*0x12))/_0x1bed7b),_0x270ace=Math['floor']((_0x3efc41+_0x5aa1e6-(-0x1104+0x61e+0xae7*0x1))/_0x5aa1e6),_0x4570e8=_0x22c452*_0x270ace,_0x2080a4=_0x4570e8*_0x16722b):_0x2080a4=_0x596107*_0x3efc41*(0x685+0x531+-0xbb2);const _0x2b85ae=_0x27b9f8===Xt?new Float32Array(_0x5523ae,_0x975881,_0x2080a4):_0x27b9f8===nt?new Uint16Array(_0x5523ae,_0x975881,_0x2080a4):new Uint8Array(_0x5523ae,_0x975881,_0x2080a4);_0x490c51?(_0x213d39['_levels'][_0x1ee7a0]||(_0x213d39['_levels'][_0x1ee7a0]=[]),_0x213d39['_levels'][_0x1ee7a0][_0x46c41e]=_0x2b85ae):_0x213d39['_levels'][_0x1ee7a0]=_0x2b85ae,_0x975881+=_0x2080a4*_0x340668,_0x596107=Math['max'](_0x596107*(-0x37*0x17+0x7a3+-0x2b2+0.5),0x11dc+0x7c1+0x12a*-0x16),_0x3efc41=Math['max'](_0x3efc41*(0x99*0x40+-0xc24+0x1a1c*-0x1+0.5),0x181b+-0x7b5*0x5+0xe6f);}}return _0x213d39['upload'](),_0x213d39;}}class rU extends eo{constructor(_0x235fe0){super(),this['maxRetries']=-0x697+0x1c2e+0x1597*-0x1;}['load'](_0x453050,_0x55994d,_0x137688){pe['fetchArray'+'Buffer'](_0x453050['load'],_0x55994d,_0x137688,this['maxRetries']),_0x137688['data']&&!_0x137688['data']['type']&&(_0x137688['data']['type']=mh);}['open'](_0x5afc29,_0x495011,_0x6c2275,_0x35af3f={}){const _0x1fa51c=this['parse'](_0x495011);if(!_0x1fa51c)return null;const _0x595b5f=new _e(_0x6c2275,{'name':_0x5afc29,'profilerHint':Pr,'addressU':yt,'addressV':ue,'minFilter':Te,'magFilter':Te,'width':_0x1fa51c['width'],'height':_0x1fa51c['height'],'levels':_0x1fa51c['levels'],'format':Ne,'type':mh,'mipmaps':!(0x42*0x58+0x23f*-0xa+-0x39),..._0x35af3f});return _0x595b5f['upload'](),_0x595b5f;}['parse'](_0x34de1e){const _0x1ccac5=new KS(_0x34de1e);if(!_0x1ccac5['readLine']()['startsWith']('#?RADIANCE'))return w['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20ma'+'gic'),null;const _0x46cfe9={};for(;;){const _0x1ae9c0=_0x1ccac5['readLine']();if(_0x1ae9c0['length']===-0x1902+0x2334+-0x3*0x366)break;{const _0x2a6a5e=_0x1ae9c0['split']('=');_0x2a6a5e['length']===-0x278+-0x3*-0x74f+-0x17f*0xd&&(_0x46cfe9[_0x2a6a5e[0x26fd+0x1*0xb7+-0x27b4]]=_0x2a6a5e[-0x96*0x19+-0x1*0x1fe1+-0x4*-0xba2]);}}if(!_0x46cfe9['hasOwnProp'+'erty']('FORMAT'))return w['error']('radiance\x20h'+'eader\x20miss'+'ing\x20FORMAT'+'\x20variable'),null;const _0x440edb=_0x1ccac5['readLine']()['split']('\x20');if(_0x440edb['length']!==0x8bb+0x133c+-0x1dd*0xf)return w['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20re'+'solution'),null;const _0x11ab1d=parseInt(_0x440edb[0x2658+0x1*-0x2017+0x50*-0x14],0x19d2*0x1+-0x2*0x89b+-0x892),_0x54c4fe=parseInt(_0x440edb[-0xe7*0x29+0x35*-0x4b+0x3489],-0x129d+0x213b+-0xe94),_0x203a8c=this['_readPixel'+'s'](_0x1ccac5,_0x54c4fe,_0x11ab1d,_0x440edb[-0x8e*-0x28+-0x334+-0x32a*0x6]==='-Y');return _0x203a8c?{'width':_0x54c4fe,'height':_0x11ab1d,'levels':[_0x203a8c]}:null;}['_readPixel'+'s'](_0x380dcf,_0x1f7f8e,_0x18e268,_0x27c3b4){if(_0x1f7f8e<-0xb91+-0x4d*0x5+0xd1a||_0x1f7f8e>-0x1*0x31b1+0x79b*0x13+0x212f)return this['_readPixel'+'sFlat'](_0x380dcf,_0x1f7f8e,_0x18e268);const _0x344607=[-0x121*0xe+-0x1c6d+0x2c3b,-0x60e+-0x103d*0x1+0x1*0x164b,0x803+0x1877+0x207a*-0x1,-0xd87+-0xba8+-0x1*-0x192f];if(_0x380dcf['readArray'](_0x344607),_0x344607[0x227b+-0x2525+0x2aa]!==0x1831+0x15c*0x14+-0x335f||_0x344607[0x13e*-0x4+-0x7ce*-0x2+0x1*-0xaa3]!==0x1*0xa7f+-0x21ac*0x1+0x1*0x172f||(_0x344607[-0x17be+0x97+0x1729]&-0x1ae+0x14a5*-0x1+0x16d3)!==-0x50*-0x23+0x475+-0xf65*0x1)return _0x380dcf['skip'](-(-0x22af+-0x77f*-0x1+-0x1b34*-0x1)),this['_readPixel'+'sFlat'](_0x380dcf,_0x1f7f8e,_0x18e268);const _0x16ed0e=new ArrayBuffer(_0x1f7f8e*_0x18e268*(0x18ff+-0x26f0+0xdf5)),_0x2ce6e1=new Uint8Array(_0x16ed0e);let _0x243384=_0x27c3b4?-0x1bcc+0x7*-0x2aa+0x91*0x52:_0x1f7f8e*(-0x3*-0x5d9+-0xb28+-0x65f*0x1)*(_0x18e268-(0x2f*-0xb7+-0x19ac+-0x12*-0x34b)),_0x58f90f,_0x34a503,_0x2bb03e,_0x1de5b9,_0x385350,_0x89cf8c;for(_0x34a503=0x1079+-0x4*0x713+0x3f1*0x3;_0x34a503<_0x18e268;++_0x34a503){if(_0x34a503&&_0x380dcf['readArray'](_0x344607),(_0x344607[-0xc28*-0x3+0xcb9+0x9*-0x577]<<-0x1468*0x1+0x322*-0x2+0xd5a*0x2)+_0x344607[-0x9e8*0x1+-0x5bf*0x5+0x26a6]!==_0x1f7f8e)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'width'),null;for(_0x1de5b9=0x1*-0x22f+0xafd+-0x1*0x8ce;_0x1de5b9<-0x54d*-0x3+-0x8f5+0x2*-0x377;++_0x1de5b9)for(_0x58f90f=-0x102e+-0x2555+0x3583;_0x58f90f<_0x1f7f8e;)if(_0x385350=_0x380dcf['readU8'](),_0x385350>-0xd*-0x22d+-0xe61+-0xd68){if(_0x385350-=0x90*0x38+0x2fb+-0x1*0x21fb,_0x58f90f+_0x385350>_0x1f7f8e)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x89cf8c=_0x380dcf['readU8'](),_0x2bb03e=-0xe*-0xed+-0x122c+0x536;_0x2bb03e<_0x385350;++_0x2bb03e)_0x2ce6e1[_0x243384+_0x1de5b9+(0x2403+0xd1c+0xd*-0x3c7)*_0x58f90f++]=_0x89cf8c;}else{if(_0x385350===-0x14bd*0x1+-0x11*0x241+0x3b0e||_0x58f90f+_0x385350>_0x1f7f8e)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x2bb03e=0x20f+-0x44*-0x83+0xc49*-0x3;_0x2bb03e<_0x385350;++_0x2bb03e)_0x2ce6e1[_0x243384+_0x1de5b9+(0x30a*-0x2+0x1*0x14f6+0x2*-0x76f)*_0x58f90f++]=_0x380dcf['readU8']();}_0x243384+=_0x1f7f8e*(0x2013+0x10*-0x19c+0x143*-0x5)*(_0x27c3b4?0x160d+0x99f+-0x1*0x1fab:-(0x76b+-0x5*-0x15a+-0xe2c));}return _0x2ce6e1;}['_readPixel'+'sFlat'](_0x259182,_0x14d849,_0x3857bb){return _0x259182['remainingB'+'ytes']===_0x14d849*_0x3857bb*(-0xcb2+0xfb*-0x1d+-0xdb7*-0x3)?new Uint8Array(_0x259182['arraybuffe'+'r'],_0x259182['offset']):null;}}const TS={'repeat':yt,'clamp':ue,'mirror':ip},wS={'nearest':Te,'linear':vt,'nearest_mip_nearest':Kh,'linear_mip_nearest':Qh,'nearest_mip_linear':Zh,'linear_mip_linear':ma},aU={'default':Ds,'rgbm':Zi,'rgbe':mh,'rgbp':Qo,'swizzleGGGR':Jo},nU=function(_0x34c3b9){const _0x204fae=Xi['calcMipLev'+'elsCount'](_0x34c3b9['_width'],_0x34c3b9['_height']),_0x1c9a44=function(_0x56a95b){return _0x56a95b instanceof HTMLCanvasElement||_0x56a95b instanceof HTMLImageElement||_0x56a95b instanceof HTMLVideoElement;};if(!(_0x34c3b9['_format']===Ne||_0x34c3b9['_format']===Xt)||_0x34c3b9['_volume']||_0x34c3b9['_compresse'+'d']||_0x34c3b9['_levels']['length']===0x1*0x2194+0x2269+-0x43fc||_0x34c3b9['_levels']['length']===_0x204fae||_0x1c9a44(_0x34c3b9['_cubemap']?_0x34c3b9['_levels'][0xfb3*-0x1+-0x1447+-0x5*-0x732][0x1d*0xad+-0xf6a*-0x1+-0x2303*0x1]:_0x34c3b9['_levels'][0x3*-0x6f8+0x26d7+0x11ef*-0x1]))return;const _0x2d6079=function(_0x316c94,_0x51115c,_0x446c25){const _0x496504=Math['max'](-0x1111+0x3*-0x13d+0x1*0x14c9,_0x316c94>>-0x311*0xc+0xb5*0x9+0x1*0x1e70),_0x22086e=Math['max'](-0x1ec9*0x1+-0xa85+0x294f,_0x51115c>>-0x1f94+0x1dd7+0xdf*0x2),_0x254c92=new _0x446c25['constructo'+'r'](_0x496504*_0x22086e*(0x7*-0x182+0x1ad7+-0x1045)),_0x5a87b2=Math['floor'](_0x316c94/_0x496504),_0x2d3714=Math['floor'](_0x51115c/_0x22086e),_0x169736=_0x5a87b2*_0x2d3714;for(let _0x274ece=0x6a*0x57+-0x59e+-0x1*0x1e68;_0x274ece<_0x22086e;++_0x274ece)for(let _0x14fc91=-0x1e3e+0x1214*0x1+0xc2a;_0x14fc91<_0x496504;++_0x14fc91)for(let _0x219538=0x1b3+-0x2345+0x10c9*0x2;_0x219538<0x470+0xf9e+-0xa05*0x2;++_0x219538){let _0x313856=0x189c+0x439+-0x1cd5;for(let _0x36737c=0x5c9*-0x3+-0x1*-0xee9+-0x2*-0x139;_0x36737c<_0x2d3714;++_0x36737c)for(let _0x3e0f55=0x1*0x2458+0x1856+-0x3cae;_0x3e0f55<_0x5a87b2;++_0x3e0f55)_0x313856+=_0x446c25[(_0x14fc91*_0x5a87b2+_0x3e0f55+(_0x274ece*_0x2d3714+_0x36737c)*_0x316c94)*(-0x2001+0x2039+-0x34)+_0x219538];_0x254c92[(_0x14fc91+_0x274ece*_0x496504)*(0x236a+-0xb41*0x3+-0x1a3)+_0x219538]=_0x313856/_0x169736;}return _0x254c92;};for(let _0x19ab54=_0x34c3b9['_levels']['length'];_0x19ab54<_0x204fae;++_0x19ab54){const _0x23771f=Math['max'](-0x6*-0x4+-0x23c5*0x1+-0x1*-0x23ae,_0x34c3b9['_width']>>_0x19ab54-(-0x1622+-0x1e74*0x1+0x1*0x3497)),_0x18161f=Math['max'](-0x2*-0x1126+0x9a2+0x1*-0x2bed,_0x34c3b9['_height']>>_0x19ab54-(0x150f+0x1ad1+-0x2fdf));if(_0x34c3b9['_cubemap']){const _0x96d99b=[];for(let _0x59e922=-0x1c31+0x25d5+-0x9a4;_0x59e922<-0x19*-0xf0+0x125+0x188f*-0x1;++_0x59e922)_0x96d99b['push'](_0x2d6079(_0x23771f,_0x18161f,_0x34c3b9['_levels'][_0x19ab54-(0x311*0x7+0xbfb*0x1+-0x2171)][_0x59e922]));_0x34c3b9['_levels']['push'](_0x96d99b);}else _0x34c3b9['_levels']['push'](_0x2d6079(_0x23771f,_0x18161f,_0x34c3b9['_levels'][_0x19ab54-(-0xb52+0x4a9+0x355*0x2)]));}_0x34c3b9['_levelsUpd'+'ated']=_0x34c3b9['_cubemap']?[[!(0xd55+-0x1*-0x135e+-0x20b3),!(0xb*-0x1f9+-0xa88+0x203b),!(-0x2494*0x1+-0x3cb+0x285f),!(-0xb3c+-0x18f4+0xc10*0x3),!(-0x7a3+0x1c2b*0x1+-0x1488),!(-0x2*-0x599+-0x3b*-0x31+-0x167d)]]:[!(0x7*-0x46b+0x10d1*-0x1+0x2fbe)];};class oU extends Qe{constructor(_0x2b6a41){super(_0x2b6a41,'texture');const _0x41a9af=_0x2b6a41['assets'],_0x4f80e7=_0x2b6a41['graphicsDe'+'vice'];this['_device']=_0x4f80e7,this['_assets']=_0x41a9af,this['imgParser']=new Zk(_0x41a9af,_0x4f80e7),this['parsers']={'dds':new iU(_0x41a9af),'ktx':new eU(_0x41a9af),'ktx2':new sU(_0x41a9af,_0x4f80e7),'basis':new qk(_0x41a9af,_0x4f80e7),'hdr':new rU(_0x41a9af)};}set['crossOrigi'+'n'](_0x517cb7){this['imgParser']['crossOrigi'+'n']=_0x517cb7;}get['crossOrigi'+'n'](){return this['imgParser']['crossOrigi'+'n'];}set['maxRetries'](_0x229ce8){this['imgParser']['maxRetries']=_0x229ce8;for(const _0x5d49cb in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x5d49cb)&&(this['parsers'][_0x5d49cb]['maxRetries']=_0x229ce8);}get['maxRetries'](){return this['imgParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x204dfd){return _0x204dfd['indexOf']('?')>=0xd*0x115+-0x2*-0x153+0x1*-0x10b7?_0x204dfd['split']('?')[0x16b7*-0x1+-0x1a26*0x1+-0x7*-0x6fb]:_0x204dfd;}['_getParser'](_0x46853a){const _0xb20917=xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x46853a))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0xb20917]||this['imgParser'];}['_getTextur'+'eOptions'](_0x992322){var _0x36e580;const _0x120dc0={'profilerHint':Pr};if(_0x992322){((_0x36e580=_0x992322['name'])==null?void(-0x1da+0x1679+-0x149f):_0x36e580['length'])>0x1d2*0x1+-0x1a6+0x4*-0xb&&(_0x120dc0['name']=_0x992322['name']);const _0x2be0d5=_0x992322['data'];_0x2be0d5['hasOwnProp'+'erty']('minfilter')&&(_0x120dc0['minFilter']=wS[_0x2be0d5['minfilter']]),_0x2be0d5['hasOwnProp'+'erty']('magfilter')&&(_0x120dc0['magFilter']=wS[_0x2be0d5['magfilter']]),_0x2be0d5['hasOwnProp'+'erty']('addressu')&&(_0x120dc0['addressU']=TS[_0x2be0d5['addressu']]),_0x2be0d5['hasOwnProp'+'erty']('addressv')&&(_0x120dc0['addressV']=TS[_0x2be0d5['addressv']]),_0x2be0d5['hasOwnProp'+'erty']('mipmaps')&&(_0x120dc0['mipmaps']=_0x2be0d5['mipmaps']),_0x2be0d5['hasOwnProp'+'erty']('anisotropy')&&(_0x120dc0['anisotropy']=_0x2be0d5['anisotropy']),_0x2be0d5['hasOwnProp'+'erty']('flipY')&&(_0x120dc0['flipY']=!!_0x2be0d5['flipY']),_0x2be0d5['hasOwnProp'+'erty']('srgb')&&(_0x120dc0['srgb']=!!_0x2be0d5['srgb']),_0x120dc0['type']=Ds,_0x2be0d5['hasOwnProp'+'erty']('type')?_0x120dc0['type']=aU[_0x2be0d5['type']]:_0x2be0d5['hasOwnProp'+'erty']('rgbm')&&_0x2be0d5['rgbm']?_0x120dc0['type']=Zi:_0x992322['file']&&(_0x992322['file']['opt']&0x1efb+0x1*0x26fb+-0x45ee)!==0x2088+0x217b+-0x1*0x4203&&(_0x120dc0['type']=Jo);}return _0x120dc0;}['load'](_0x406687,_0x435993,_0x47d931){typeof _0x406687=='string'&&(_0x406687={'load':_0x406687,'original':_0x406687}),this['_getParser'](_0x406687['original'])['load'](_0x406687,_0x435993,_0x47d931);}['open'](_0x546f33,_0x371fb5,_0x8ed299){if(!_0x546f33)return;const _0x22a81b=this['_getTextur'+'eOptions'](_0x8ed299);let _0x7b818f=this['_getParser'](_0x546f33)['open'](_0x546f33,_0x371fb5,this['_device'],_0x22a81b);return _0x7b818f===null?_0x7b818f=new _e(this['_device'],{'width':0x4,'height':0x4,'format':Cr}):(nU(_0x7b818f),_0x371fb5['unswizzled'+'GGGR']&&(_0x8ed299['file']['variants']['basis']['opt']&=-(0x1ed+-0x16*0x75+0x82a))),_0x7b818f;}['patch'](_0x290901,_0x9f504f){const _0x37a5c8=_0x290901['resource'];if(!_0x37a5c8)return;const _0x447a5c=this['_getTextur'+'eOptions'](_0x290901);for(const _0x49db19 of Object['keys'](_0x447a5c))_0x37a5c8[_0x49db19]=_0x447a5c[_0x49db19];}}const lU='inline',cU='immersive-'+'vr',$o='immersive-'+'ar',ES='viewer',hU='left',dU='cpu-optimi'+'zed',P0='gpu-optimi'+'zed',M0='luminance-'+'alpha',D0='unsigned-s'+'hort',I0='float32';class fU{constructor(_0x14c7a8){h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRDOMOverl'+'ayState']),h(this,'_root',null),this['_manager']=_0x14c7a8;}get['supported'](){return this['_supported'];}get['available'](){return this['_supported']&&this['_manager']['active']&&this['_manager']['_session']['domOverlay'+'State']!==null;}get['state'](){return!this['_supported']||!this['_manager']['active']||!this['_manager']['_session']['domOverlay'+'State']?null:this['_manager']['_session']['domOverlay'+'State']['type'];}set['root'](_0x3f4b3b){!this['_supported']||this['_manager']['active']||(this['_root']=_0x3f4b3b);}get['root'](){return this['_root'];}}const Rc=[],bS=[];class ju extends me{constructor(_0x154aea,_0x36241f,_0x5159c4,_0x3164d5=null){super(),h(this,'manager'),h(this,'_xrHitTest'+'Source'),h(this,'_transient'),h(this,'_inputSour'+'ce'),(this['manager']=_0x154aea,this['_xrHitTest'+'Source']=_0x36241f,this['_transient']=_0x5159c4,this['_inputSour'+'ce']=_0x3164d5);}['remove'](){if(!this['_xrHitTest'+'Source'])return;const _0x954e9d=this['manager']['hitTest']['sources'],_0x394eec=_0x954e9d['indexOf'](this);_0x394eec!==-(-0x26a7*0x1+0x956+0x3*0x9c6)&&_0x954e9d['splice'](_0x394eec,-0x1a78+-0x1*0x205b+-0x3*-0x139c),this['onStop']();}['onStop'](){this['_xrHitTest'+'Source']['cancel'](),this['_xrHitTest'+'Source']=null,this['fire']('remove'),this['manager']['hitTest']['fire']('remove',this);}['update'](_0x3e9945){if(this['_transient']){const _0x22f9c5=_0x3e9945['getHitTest'+'ResultsFor'+'TransientI'+'nput'](this['_xrHitTest'+'Source']);for(let _0x10ce71=0x1*-0x110c+-0x1f46+0x3052;_0x10ce71<_0x22f9c5['length'];_0x10ce71++){const _0xcbe37b=_0x22f9c5[_0x10ce71];if(!_0xcbe37b['results']['length'])continue;let _0x4a44bb;_0xcbe37b['inputSourc'+'e']&&(_0x4a44bb=this['manager']['input']['_getByInpu'+'tSource'](_0xcbe37b['inputSourc'+'e'])),this['updateHitR'+'esults'](_0xcbe37b['results'],_0x4a44bb);}}else{const _0x26cd06=_0x3e9945['getHitTest'+'Results'](this['_xrHitTest'+'Source']);if(!_0x26cd06['length'])return;this['updateHitR'+'esults'](_0x26cd06);}}['updateHitR'+'esults'](_0x300964,_0x434c21){if(this['_inputSour'+'ce']&&this['_inputSour'+'ce']!==_0x434c21)return;const _0x302642=Rc['pop']()??new D();_0x434c21?_0x302642['copy'](_0x434c21['getOrigin']()):_0x302642['copy'](this['manager']['camera']['getPositio'+'n']());let _0x1604cf=(0x8a*-0x3d+-0x1789+0x386c)/(0x164c+0x289*-0xa+0x17*0x22),_0x11b496=null;const _0x3f8da2=Rc['pop']()??new D(),_0x30812f=bS['pop']()??new le();for(let _0x18ef2a=-0x459+-0x10cd+0x1*0x1526;_0x18ef2a<_0x300964['length'];_0x18ef2a++){const _0x37d959=_0x300964[_0x18ef2a]['getPose'](this['manager']['_reference'+'Space']),_0x5a25f9=_0x302642['distance'](_0x37d959['transform']['position']);_0x5a25f9>=_0x1604cf||(_0x1604cf=_0x5a25f9,_0x11b496=_0x300964[_0x18ef2a],_0x3f8da2['copy'](_0x37d959['transform']['position']),_0x30812f['copy'](_0x37d959['transform']['orientatio'+'n']));}this['fire']('result',_0x3f8da2,_0x30812f,_0x434c21||this['_inputSour'+'ce'],_0x11b496),this['manager']['hitTest']['fire']('result',this,_0x3f8da2,_0x30812f,_0x434c21||this['_inputSour'+'ce'],_0x11b496),Rc['push'](_0x302642),Rc['push'](_0x3f8da2),bS['push'](_0x30812f);}}h(ju,'EVENT_REMO'+'VE','remove'),h(ju,'EVENT_RESU'+'LT','result');class jr extends me{constructor(_0x4c3641){super(),h(this,'manager'),h(this,'_supported',Ae['browser']&&!!(window['XRSession']&&window['XRSession']['prototype']['requestHit'+'TestSource'])),h(this,'_available',!(0x15dd*0x1+-0xa7a*0x1+-0xb62)),h(this,'_checkingA'+'vailabilit'+'y',!(0x175a+0x1efb+-0x3654)),h(this,'sources',[]),(this['manager']=_0x4c3641,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){if(this['manager']['session']['enabledFea'+'tures']){const _0x158e7=this['manager']['session']['enabledFea'+'tures']['indexOf']('hit-test')!==-(-0x35*0x8a+-0x1c4a+-0x1*-0x38dd);if(!_0x158e7)return;this['_available']=_0x158e7,this['fire']('available');}else this['_checkingA'+'vailabilit'+'y']||(this['_checkingA'+'vailabilit'+'y']=!(0x1f22+0x2*-0xe20+-0x2e2),this['manager']['session']['requestRef'+'erenceSpac'+'e'](ES)['then'](_0x18f99d=>{this['manager']['session']['requestHit'+'TestSource']({'space':_0x18f99d})['then'](_0x23484b=>{_0x23484b['cancel'](),this['manager']['active']&&(this['_available']=!(-0x5*-0x463+0x7ce*0x5+-0x3cf5),this['fire']('available'));})['catch'](()=>{});})['catch'](()=>{}));}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0x256e+-0x4*-0x4ca+0x3895*-0x1);for(let _0x36b009=-0x154a+0x26d0+-0x1186;_0x36b009<this['sources']['length'];_0x36b009++)this['sources'][_0x36b009]['onStop']();this['sources']=[],this['fire']('unavailabl'+'e');}}['start'](_0x2b6775={}){var _0x4ebaf1,_0x5c9329;if(!this['_supported']){(_0x4ebaf1=_0x2b6775['callback'])==null||_0x4ebaf1['call'](_0x2b6775,new Error('XR\x20HitTest'+'\x20is\x20not\x20su'+'pported'),null);return;}if(!this['_available']){(_0x5c9329=_0x2b6775['callback'])==null||_0x5c9329['call'](_0x2b6775,new Error('XR\x20HitTest'+'\x20is\x20not\x20av'+'ailable'),null);return;}!_0x2b6775['profile']&&!_0x2b6775['spaceType']&&(_0x2b6775['spaceType']=ES);let _0x2bd47a;const _0x12deb0=_0x2b6775['offsetRay'];if(_0x12deb0){const _0x3ef2ac=new DOMPoint(_0x12deb0['origin']['x'],_0x12deb0['origin']['y'],_0x12deb0['origin']['z'],0x11be*-0x1+-0x1306+-0x1*-0x24c5),_0x1da560=new DOMPoint(_0x12deb0['direction']['x'],_0x12deb0['direction']['y'],_0x12deb0['direction']['z'],-0xb1+-0xe67+0xf18);_0x2bd47a=new XRRay(_0x3ef2ac,_0x1da560);}const _0xac1514=_0x2b6775['callback'];_0x2b6775['spaceType']?this['manager']['session']['requestRef'+'erenceSpac'+'e'](_0x2b6775['spaceType'])['then'](_0x1253b2=>{if(!this['manager']['session']){const _0x4729d6=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(2)');_0xac1514&&_0xac1514(_0x4729d6),this['fire']('error',_0x4729d6);return;}this['manager']['session']['requestHit'+'TestSource']({'space':_0x1253b2,'entityTypes':_0x2b6775['entityType'+'s']||void(-0x2*0xd89+0x3a*0x1c+0x14ba),'offsetRay':_0x2bd47a})['then'](_0x5530=>{this['_onHitTest'+'Source'](_0x5530,!(0x1*-0x23df+0x5*-0x6b8+0x4578),_0x2b6775['inputSourc'+'e'],_0xac1514);})['catch'](_0x49ea93=>{_0xac1514&&_0xac1514(_0x49ea93),this['fire']('error',_0x49ea93);});})['catch'](_0x1276c7=>{_0xac1514&&_0xac1514(_0x1276c7),this['fire']('error',_0x1276c7);}):this['manager']['session']['requestHit'+'TestSource'+'ForTransie'+'ntInput']({'profile':_0x2b6775['profile'],'entityTypes':_0x2b6775['entityType'+'s']||void(-0x1743+-0x1fe7+0x17*0x266),'offsetRay':_0x2bd47a})['then'](_0x324f0d=>{this['_onHitTest'+'Source'](_0x324f0d,!(0x29c+-0x32*0x61+0x1056),_0x2b6775['inputSourc'+'e'],_0xac1514);})['catch'](_0x188218=>{_0xac1514&&_0xac1514(_0x188218),this['fire']('error',_0x188218);});}['_onHitTest'+'Source'](_0x387dbb,_0x4c8b82,_0x42804d,_0x429494){if(!this['manager']['session']){_0x387dbb['cancel']();const _0x5023a1=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(3)');_0x429494&&_0x429494(_0x5023a1),this['fire']('error',_0x5023a1);return;}const _0x418345=new ju(this['manager'],_0x387dbb,_0x4c8b82,_0x42804d??null);this['sources']['push'](_0x418345),_0x429494&&_0x429494(null,_0x418345),this['fire']('add',_0x418345);}['update'](_0x204371){if(this['_available']){for(let _0xdd5a3b=-0x3d9+-0x81b+0xbf4;_0xdd5a3b<this['sources']['length'];_0xdd5a3b++)this['sources'][_0xdd5a3b]['update'](_0x204371);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}}h(jr,'EVENT_AVAI'+'LABLE','available'),h(jr,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(jr,'EVENT_ADD','add'),h(jr,'EVENT_REMO'+'VE','remove'),h(jr,'EVENT_RESU'+'LT','result'),h(jr,'EVENT_ERRO'+'R','error');class Yu extends me{constructor(_0x5f0bb9,_0x56b164){super(),h(this,'_image'),h(this,'_width'),h(this,'_bitmap',null),h(this,'_measuredW'+'idth',-0x1b05*-0x1+-0x1e33+0x32e),h(this,'_trackable',!(0x1e59+-0x3e6+-0x1a72)),h(this,'_tracking',!(0x9fb+0x6f+0xa69*-0x1)),h(this,'_emulated',!(-0x2449+0x1574+0xed6)),h(this,'_pose',null),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_image']=_0x5f0bb9,this['_width']=_0x56b164);}get['image'](){return this['_image'];}set['width'](_0x549af9){this['_width']=_0x549af9;}get['width'](){return this['_width'];}get['trackable'](){return this['_trackable'];}get['tracking'](){return this['_tracking'];}get['emulated'](){return this['_emulated'];}['prepare'](){return this['_bitmap']?{'image':this['_bitmap'],'widthInMeters':this['_width']}:createImageBitmap(this['_image'])['then'](_0xbd973=>(this['_bitmap']=_0xbd973,{'image':this['_bitmap'],'widthInMeters':this['_width']}));}['destroy'](){this['_image']=null,this['_pose']=null,this['_bitmap']&&(this['_bitmap']['close'](),this['_bitmap']=null);}['getPositio'+'n'](){return this['_pose']&&this['_position']['copy'](this['_pose']['transform']['position']),this['_position'];}['getRotatio'+'n'](){return this['_pose']&&this['_rotation']['copy'](this['_pose']['transform']['orientatio'+'n']),this['_rotation'];}}h(Yu,'EVENT_TRAC'+'KED','tracked'),h(Yu,'EVENT_UNTR'+'ACKED','untracked');class L0 extends me{constructor(_0x37d85f){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRImageTra'+'ckingResul'+'t']),h(this,'_available',!(-0x1eba+-0x83d+0x26f8)),h(this,'_images',[]),(this['_manager']=_0x37d85f,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['add'](_0x5ed5ff,_0x156688){if(!this['_supported']||this['_manager']['active'])return null;const _0x2c79b9=new Yu(_0x5ed5ff,_0x156688);return this['_images']['push'](_0x2c79b9),_0x2c79b9;}['remove'](_0x45ec4b){if(this['_manager']['active'])return;const _0x1badf7=this['_images']['indexOf'](_0x45ec4b);_0x1badf7!==-(0xfad+-0x1989+0x9dd)&&(_0x45ec4b['destroy'](),this['_images']['splice'](_0x1badf7,0x20e5+-0x1fbb+-0x129));}['_onSession'+'Start'](){this['_manager']['session']['getTracked'+'ImageScore'+'s']()['then'](_0x189728=>{this['_available']=!(0xbd2+-0x4b*0x26+0x16*-0x8);for(let _0x126d49=-0x13*0x17b+-0x1*0x8e5+-0x2a5*-0xe;_0x126d49<_0x189728['length'];_0x126d49++)this['_images'][_0x126d49]['_trackable']=_0x189728[_0x126d49]==='trackable';})['catch'](_0x201c54=>{this['_available']=!(0x44b+-0x1117+0xccd),this['fire']('error',_0x201c54);});}['_onSession'+'End'](){this['_available']=!(0xf5a+-0x13de+0xd*0x59);for(let _0x179025=-0x1806+-0x35*0x3b+0x243d;_0x179025<this['_images']['length'];_0x179025++){const _0x520cae=this['_images'][_0x179025];_0x520cae['_pose']=null,_0x520cae['_measuredW'+'idth']=-0x1e73+-0xb4*0x1b+0x316f,_0x520cae['_tracking']&&(_0x520cae['_tracking']=!(-0x1f19+0x1fc*-0x6+0xa*0x44d),_0x520cae['fire']('untracked'));}}['prepareIma'+'ges'](_0x436bf2){this['_images']['length']?Promise['all'](this['_images']['map'](_0x212a21=>_0x212a21['prepare']()))['then'](_0x489fa1=>{_0x436bf2(null,_0x489fa1);})['catch'](_0x49223e=>{_0x436bf2(_0x49223e,null);}):_0x436bf2(null,null);}['update'](_0x44b56f){if(!this['_available'])return;const _0x370d4b=_0x44b56f['getImageTr'+'ackingResu'+'lts'](),_0x3554b4={};for(let _0x3825c9=0x9*-0xc1+0xbbb*-0x1+0x1284;_0x3825c9<_0x370d4b['length'];_0x3825c9++){_0x3554b4[_0x370d4b[_0x3825c9]['index']]=_0x370d4b[_0x3825c9];const _0x72d4c1=this['_images'][_0x370d4b[_0x3825c9]['index']];_0x72d4c1['_emulated']=_0x370d4b[_0x3825c9]['trackingSt'+'ate']==='emulated',_0x72d4c1['_measuredW'+'idth']=_0x370d4b[_0x3825c9]['measuredWi'+'dthInMeter'+'s'],_0x72d4c1['_pose']=_0x44b56f['getPose'](_0x370d4b[_0x3825c9]['imageSpace'],this['_manager']['_reference'+'Space']);}for(let _0x39223e=0xaa7+-0x868*0x2+0x53*0x13;_0x39223e<this['_images']['length'];_0x39223e++)this['_images'][_0x39223e]['_tracking']&&!_0x3554b4[_0x39223e]?(this['_images'][_0x39223e]['_tracking']=!(0x1*0x139f+-0x1fc4+0xc26*0x1),this['_images'][_0x39223e]['fire']('untracked')):!this['_images'][_0x39223e]['_tracking']&&_0x3554b4[_0x39223e]&&(this['_images'][_0x39223e]['_tracking']=!(0x1*-0x242e+-0xf8f+-0xa59*-0x5),this['_images'][_0x39223e]['fire']('tracked'));}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['images'](){return this['_images'];}}h(L0,'EVENT_ERRO'+'R','error');class uU{constructor(_0xe85ba6,_0x35b6dd){h(this,'_index'),h(this,'_hand'),h(this,'_joints',[]),h(this,'_tip',null),(this['_index']=_0xe85ba6,this['_hand']=_0x35b6dd,this['_hand']['_fingers']['push'](this));}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['joints'](){return this['_joints'];}get['tip'](){return this['_tip'];}}const AS=Ae['browser']&&window['XRHand']?['thumb-tip','index-fing'+'er-tip','middle-fin'+'ger-tip','ring-finge'+'r-tip','pinky-fing'+'er-tip']:[],R0={};for(let l=0xd0e+0x439*-0x4+0x3d6*0x1;l<AS['length'];l++)R0[AS[l]]=!(0x3ec+0x1816+-0x1c02);class CS{constructor(_0x12baca,_0x2c1460,_0x3943bd,_0x45cd4b=null){h(this,'_index'),h(this,'_id'),h(this,'_hand'),h(this,'_finger'),h(this,'_wrist'),h(this,'_tip'),h(this,'_radius',null),h(this,'_localTran'+'sform',new te()),h(this,'_worldTran'+'sform',new te()),h(this,'_localPosi'+'tion',new D()),h(this,'_localRota'+'tion',new le()),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_dirtyLoca'+'l',!(0x9b3+-0x67*0x2f+0x49b*0x2)),(this['_index']=_0x12baca,this['_id']=_0x2c1460,this['_hand']=_0x3943bd,this['_finger']=_0x45cd4b,this['_wrist']=_0x2c1460==='wrist',this['_tip']=this['_finger']&&!!R0[_0x2c1460]);}['update'](_0x4d9033){this['_dirtyLoca'+'l']=!(-0x1d6b*0x1+0xc5c+0x110f),this['_radius']=_0x4d9033['radius'],this['_localPosi'+'tion']['copy'](_0x4d9033['transform']['position']),this['_localRota'+'tion']['copy'](_0x4d9033['transform']['orientatio'+'n']);}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0x201+0x6be+-0x4bc),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],D['ONE']));const _0x3179c2=this['_hand']['_manager']['camera']['parent'];_0x3179c2?this['_worldTran'+'sform']['mul2'](_0x3179c2['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['getPositio'+'n'](){return this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position'];}['getRotatio'+'n'](){return this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation'];}get['id'](){return this['_id'];}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['finger'](){return this['_finger'];}get['wrist'](){return this['_wrist'];}get['tip'](){return this['_tip'];}get['radius'](){return this['_radius']||0x1107*-0x2+0x7ca+0x1a44+0.005;}}let rh=[];const Wr=new D(),Oc=new D(),PS=new D();Ae['browser']&&window['XRHand']&&(rh=[['thumb-meta'+'carpal','thumb-phal'+'anx-proxim'+'al','thumb-phal'+'anx-distal','thumb-tip'],['index-fing'+'er-metacar'+'pal','index-fing'+'er-phalanx'+'-proximal','index-fing'+'er-phalanx'+'-intermedi'+'ate','index-fing'+'er-phalanx'+'-distal','index-fing'+'er-tip'],['middle-fin'+'ger-metaca'+'rpal','middle-fin'+'ger-phalan'+'x-proximal','middle-fin'+'ger-phalan'+'x-intermed'+'iate','middle-fin'+'ger-phalan'+'x-distal','middle-fin'+'ger-tip'],['ring-finge'+'r-metacarp'+'al','ring-finge'+'r-phalanx-'+'proximal','ring-finge'+'r-phalanx-'+'intermedia'+'te','ring-finge'+'r-phalanx-'+'distal','ring-finge'+'r-tip'],['pinky-fing'+'er-metacar'+'pal','pinky-fing'+'er-phalanx'+'-proximal','pinky-fing'+'er-phalanx'+'-intermedi'+'ate','pinky-fing'+'er-phalanx'+'-distal','pinky-fing'+'er-tip']]);class Ku extends me{constructor(_0x121199){super(),h(this,'_manager'),h(this,'_inputSour'+'ce'),h(this,'_tracking',!(0xa86+-0x104f+0x1*0x5ca)),h(this,'_fingers',[]),h(this,'_joints',[]),h(this,'_jointsByI'+'d',{}),h(this,'_tips',[]),h(this,'_wrist',null);const _0x2f6cfa=_0x121199['_xrInputSo'+'urce']['hand'];if(this['_manager']=_0x121199['_manager'],this['_inputSour'+'ce']=_0x121199,_0x2f6cfa['get']('wrist')){const _0x2611dc=new CS(-0x13e7+-0xd*-0x2fe+-0x12ff,'wrist',this,null);this['_wrist']=_0x2611dc,this['_joints']['push'](_0x2611dc),this['_jointsByI'+'d']['wrist']=_0x2611dc;}for(let _0x1387c4=0x220a*-0x1+-0xc86+0x2e90;_0x1387c4<rh['length'];_0x1387c4++){const _0x51d300=new uU(_0x1387c4,this);for(let _0x1c23d7=-0x2709*-0x1+-0x20b3+0x656*-0x1;_0x1c23d7<rh[_0x1387c4]['length'];_0x1c23d7++){const _0x486c76=rh[_0x1387c4][_0x1c23d7];if(!_0x2f6cfa['get'](_0x486c76))continue;const _0x3193e8=new CS(_0x1c23d7,_0x486c76,this,_0x51d300);this['_joints']['push'](_0x3193e8),this['_jointsByI'+'d'][_0x486c76]=_0x3193e8,_0x3193e8['tip']&&(this['_tips']['push'](_0x3193e8),_0x51d300['_tip']=_0x3193e8),_0x51d300['_joints']['push'](_0x3193e8);}}}['update'](_0x58ebcd){const _0x21ab7c=this['_inputSour'+'ce']['_xrInputSo'+'urce'];for(let _0x1f9972=0x33*-0xb2+0x1ef2+0x484;_0x1f9972<this['_joints']['length'];_0x1f9972++){const _0x5d26de=this['_joints'][_0x1f9972],_0x5e4d3a=_0x21ab7c['hand']['get'](_0x5d26de['_id']);if(_0x5e4d3a){let _0x23bc9e;if(_0x58ebcd['session']['visibility'+'State']!=='hidden'&&(_0x23bc9e=_0x58ebcd['getJointPo'+'se'](_0x5e4d3a,this['_manager']['_reference'+'Space'])),_0x23bc9e)_0x5d26de['update'](_0x23bc9e),_0x5d26de['wrist']&&!this['_tracking']&&(this['_tracking']=!(-0x25ac+0x22cc+-0x2e0*-0x1),this['fire']('tracking'));else{if(_0x5d26de['wrist']){this['_tracking']&&(this['_tracking']=!(0x614+0x1*-0x110d+0x57d*0x2),this['fire']('trackinglo'+'st'));break;}}}}const _0x536805=this['_jointsByI'+'d']['thumb-meta'+'carpal'],_0x593dd2=this['_jointsByI'+'d']['thumb-tip'],_0x29f03a=this['_jointsByI'+'d']['index-fing'+'er-phalanx'+'-proximal'],_0x59f9ff=this['_jointsByI'+'d']['index-fing'+'er-tip'],_0x4ab950=this['_jointsByI'+'d']['ring-finge'+'r-phalanx-'+'proximal'],_0x208d3b=this['_jointsByI'+'d']['pinky-fing'+'er-phalanx'+'-proximal'];if(_0x536805&&_0x593dd2&&_0x29f03a&&_0x59f9ff&&_0x4ab950&&_0x208d3b){this['_inputSour'+'ce']['_dirtyRay']=!(0x77a+0x1*0x1db7+-0x1*0x2531),this['_inputSour'+'ce']['_rayLocal']['origin']['lerp'](_0x593dd2['_localPosi'+'tion'],_0x59f9ff['_localPosi'+'tion'],0x1*-0xe61+-0x34*-0x83+-0xc3b+0.5);let _0x4ad74f=_0x536805,_0x27d3d0=_0x208d3b;if(this['_inputSour'+'ce']['handedness']===hU){const _0x106310=_0x4ad74f;_0x4ad74f=_0x27d3d0,_0x27d3d0=_0x106310;}Wr['sub2'](_0x4ad74f['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),Oc['sub2'](_0x27d3d0['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),PS['cross'](Wr,Oc)['normalize'](),Wr['lerp'](_0x29f03a['_localPosi'+'tion'],_0x4ab950['_localPosi'+'tion'],0x13*-0x20b+-0x19e8+0x40b9+0.5),Wr['sub'](this['_wrist']['_localPosi'+'tion'])['normalize'](),this['_inputSour'+'ce']['_rayLocal']['direction']['lerp'](PS,Wr,0x1f9c+0x1*0xfc7+-0x7*0x6c5+0.5)['normalize']();}this['_fingerIsC'+'losed'](0x1d*-0x91+0x11ba+-0x53*0x4)&&this['_fingerIsC'+'losed'](0x86*-0x19+0x1*0x55d+0x7bb)&&this['_fingerIsC'+'losed'](-0x459+-0x128f*0x2+0x297a*0x1)&&this['_fingerIsC'+'losed'](0x1487+-0x1c65+0x7e2)?this['_inputSour'+'ce']['_squeezing']||(this['_inputSour'+'ce']['_squeezing']=!(-0x1*0x18f7+0x22+0x18d5),this['_inputSour'+'ce']['fire']('squeezesta'+'rt'),this['_manager']['input']['fire']('squeezesta'+'rt',this['_inputSour'+'ce'])):this['_inputSour'+'ce']['_squeezing']&&(this['_inputSour'+'ce']['_squeezing']=!(0xd18+0x24b5*0x1+-0x31cc),this['_inputSour'+'ce']['fire']('squeeze'),this['_manager']['input']['fire']('squeeze',this['_inputSour'+'ce']),this['_inputSour'+'ce']['fire']('squeezeend'),this['_manager']['input']['fire']('squeezeend',this['_inputSour'+'ce']));}['_fingerIsC'+'losed'](_0x3762b5){const _0x5335b4=this['_fingers'][_0x3762b5];return Wr['sub2'](_0x5335b4['joints'][-0x1c9b+0x2e5+-0x1*-0x19b6]['_localPosi'+'tion'],_0x5335b4['joints'][0x2647+-0x1*0x2090+-0x5b6]['_localPosi'+'tion'])['normalize'](),Oc['sub2'](_0x5335b4['joints'][-0xcdf+-0x5*0x481+0x2366]['_localPosi'+'tion'],_0x5335b4['joints'][-0x1aa+0x4*-0x44+-0x1*-0x2bd]['_localPosi'+'tion'])['normalize'](),Wr['dot'](Oc)<-(-0x6*0x3c5+0x91d*-0x2+-0x28d8*-0x1+0.8);}['getJointBy'+'Id'](_0x551afa){return this['_jointsByI'+'d'][_0x551afa]||null;}get['fingers'](){return this['_fingers'];}get['joints'](){return this['_joints'];}get['tips'](){return this['_tips'];}get['wrist'](){return this['_wrist'];}get['tracking'](){return this['_tracking'];}}h(Ku,'EVENT_TRAC'+'KING','tracking'),h(Ku,'EVENT_TRAC'+'KINGLOST','trackinglo'+'st');const MS=new D(),DS=new le();let pU=-0x1dd0+0x15f6*-0x1+0x2*0x19e3;class Qt extends me{constructor(_0x651418,_0x314287){super(),h(this,'_id'),h(this,'_manager'),h(this,'_xrInputSo'+'urce'),h(this,'_ray',new Dn()),h(this,'_rayLocal',new Dn()),h(this,'_grip',!(-0x1*-0x704+0x541*0x7+-0x2bca)),h(this,'_hand',null),h(this,'_velocitie'+'sAvailable',!(0x2304+-0x1b36+0x1*-0x7cd)),h(this,'_velocitie'+'sTimestamp',de()),h(this,'_localTran'+'sform',null),h(this,'_worldTran'+'sform',null),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_localPosi'+'tion',null),h(this,'_localPosi'+'tionLast',null),h(this,'_localRota'+'tion',null),h(this,'_linearVel'+'ocity',null),h(this,'_dirtyLoca'+'l',!(-0x2113+0x18*0x46+0x1*0x1a83)),h(this,'_dirtyRay',!(-0x149f+0x1ae+0x12f2)),h(this,'_selecting',!(0x29*0x3c+0x15ec+-0x1f87)),h(this,'_squeezing',!(-0xd5f+0x2*-0x71d+0x1b9a)),h(this,'_elementIn'+'put',!(0x8bb+-0x1998+0x10dd)),h(this,'_elementEn'+'tity',null),h(this,'_hitTestSo'+'urces',[]),(this['_id']=++pU,this['_manager']=_0x651418,this['_xrInputSo'+'urce']=_0x314287,_0x314287['hand']&&(this['_hand']=new Ku(this)));}get['id'](){return this['_id'];}get['inputSourc'+'e'](){return this['_xrInputSo'+'urce'];}get['targetRayM'+'ode'](){return this['_xrInputSo'+'urce']['targetRayM'+'ode'];}get['handedness'](){return this['_xrInputSo'+'urce']['handedness'];}get['profiles'](){return this['_xrInputSo'+'urce']['profiles'];}get['grip'](){return this['_grip'];}get['hand'](){return this['_hand'];}get['gamepad'](){return this['_xrInputSo'+'urce']['gamepad']||null;}get['selecting'](){return this['_selecting'];}get['squeezing'](){return this['_squeezing'];}set['elementInp'+'ut'](_0x1ad097){this['_elementIn'+'put']!==_0x1ad097&&(this['_elementIn'+'put']=_0x1ad097,this['_elementIn'+'put']||(this['_elementEn'+'tity']=null));}get['elementInp'+'ut'](){return this['_elementIn'+'put'];}get['elementEnt'+'ity'](){return this['_elementEn'+'tity'];}get['hitTestSou'+'rces'](){return this['_hitTestSo'+'urces'];}['update'](_0x2c0b7a){if(this['_hand'])this['_hand']['update'](_0x2c0b7a);else{const _0x1e6719=this['_xrInputSo'+'urce']['gripSpace'];if(_0x1e6719){const _0x1f8b2c=_0x2c0b7a['getPose'](_0x1e6719,this['_manager']['_reference'+'Space']);if(_0x1f8b2c){this['_grip']||(this['_grip']=!(-0x1*-0x935+-0x2209*-0x1+-0x2b3e),this['_localTran'+'sform']=new te(),this['_worldTran'+'sform']=new te(),this['_localPosi'+'tionLast']=new D(),this['_localPosi'+'tion']=new D(),this['_localRota'+'tion']=new le(),this['_linearVel'+'ocity']=new D());const _0x48df19=de(),_0x4afc7d=(_0x48df19-this['_velocitie'+'sTimestamp'])/(-0xcda+0x158f+-0x4cd);this['_velocitie'+'sTimestamp']=_0x48df19,this['_dirtyLoca'+'l']=!(0x3d*0x92+-0x1051+-0x1279),this['_localPosi'+'tionLast']['copy'](this['_localPosi'+'tion']),this['_localPosi'+'tion']['copy'](_0x1f8b2c['transform']['position']),this['_localRota'+'tion']['copy'](_0x1f8b2c['transform']['orientatio'+'n']),this['_velocitie'+'sAvailable']=!(0xd78+-0x6d8*0x1+0x350*-0x2),this['_manager']['input']['velocities'+'Supported']&&_0x1f8b2c['linearVelo'+'city']?this['_linearVel'+'ocity']['copy'](_0x1f8b2c['linearVelo'+'city']):_0x4afc7d>-0x29*-0x23+-0x1*-0x505+-0xaa0&&(MS['sub2'](this['_localPosi'+'tion'],this['_localPosi'+'tionLast'])['divScalar'](_0x4afc7d),this['_linearVel'+'ocity']['lerp'](this['_linearVel'+'ocity'],MS,0x1245+-0x21fe+-0x23f*-0x7+0.15));}else this['_velocitie'+'sAvailable']=!(0x188a+-0x3d*0x43+0x892*-0x1);}const _0x2bac77=_0x2c0b7a['getPose'](this['_xrInputSo'+'urce']['targetRayS'+'pace'],this['_manager']['_reference'+'Space']);_0x2bac77&&(this['_dirtyRay']=!(0x2b6+-0x2658+0x23a2*0x1),this['_rayLocal']['origin']['copy'](_0x2bac77['transform']['position']),this['_rayLocal']['direction']['set'](-0x1*0xe95+0x200c+-0x1177*0x1,-0x13f0+0x6b*0x46+-0x952,-(0x1*0xf75+-0x7b4+-0x7c0)),DS['copy'](_0x2bac77['transform']['orientatio'+'n']),DS['transformV'+'ector'](this['_rayLocal']['direction'],this['_rayLocal']['direction']));}}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0x2651+-0x354+-0x6*-0x6f1),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],D['ONE']));const _0x336c9a=this['_manager']['camera']['parent'];_0x336c9a?this['_worldTran'+'sform']['mul2'](_0x336c9a['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['_updateRay'+'Transforms'](){const _0x3ec6c6=this['_dirtyRay'];if(this['_dirtyRay']=!(-0x1349*-0x1+0xe13+-0x1*0x215b),this['_manager']['camera']['parent']){const _0x3b0e57=this['_manager']['camera']['parent']['getWorldTr'+'ansform']();_0x3b0e57['getTransla'+'tion'](this['_position']),this['_rotation']['setFromMat'+'4'](_0x3b0e57),this['_rotation']['transformV'+'ector'](this['_rayLocal']['origin'],this['_ray']['origin']),this['_ray']['origin']['add'](this['_position']),this['_rotation']['transformV'+'ector'](this['_rayLocal']['direction'],this['_ray']['direction']);}else _0x3ec6c6&&(this['_ray']['origin']['copy'](this['_rayLocal']['origin']),this['_ray']['direction']['copy'](this['_rayLocal']['direction']));}['getPositio'+'n'](){return this['_position']?(this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position']):null;}['getLocalPo'+'sition'](){return this['_localPosi'+'tion'];}['getRotatio'+'n'](){return this['_rotation']?(this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation']):null;}['getLocalRo'+'tation'](){return this['_localRota'+'tion'];}['getLinearV'+'elocity'](){return this['_velocitie'+'sAvailable']?this['_linearVel'+'ocity']:null;}['getOrigin'](){return this['_updateRay'+'Transforms'](),this['_ray']['origin'];}['getDirecti'+'on'](){return this['_updateRay'+'Transforms'](),this['_ray']['direction'];}['hitTestSta'+'rt'](_0x578680={}){_0x578680['inputSourc'+'e']=this,_0x578680['profile']=this['_xrInputSo'+'urce']['profiles'][-0x1*0x1a88+0x116d+0x91b];const _0x3f3078=_0x578680['callback'];_0x578680['callback']=(_0x3fce5b,_0x47fb60)=>{_0x47fb60&&this['onHitTestS'+'ourceAdd'](_0x47fb60),_0x3f3078&&_0x3f3078(_0x3fce5b,_0x47fb60);},this['_manager']['hitTest']['start'](_0x578680);}['onHitTestS'+'ourceAdd'](_0xbd3dc4){this['_hitTestSo'+'urces']['push'](_0xbd3dc4),this['fire']('hittest:ad'+'d',_0xbd3dc4),_0xbd3dc4['on']('result',(_0x4badcd,_0x367714,_0x415042,_0x585bc0)=>{_0x415042===this&&this['fire']('hittest:re'+'sult',_0xbd3dc4,_0x4badcd,_0x367714,_0x585bc0);}),_0xbd3dc4['once']('remove',()=>{this['onHitTestS'+'ourceRemov'+'e'](_0xbd3dc4),this['fire']('hittest:re'+'move',_0xbd3dc4);});}['onHitTestS'+'ourceRemov'+'e'](_0xf98393){const _0xae5fbb=this['_hitTestSo'+'urces']['indexOf'](_0xf98393);_0xae5fbb!==-(-0x128b+-0xfdd+0x2269)&&this['_hitTestSo'+'urces']['splice'](_0xae5fbb,-0xf*0x136+-0x2*0x124d+0x36c5);}}h(Qt,'EVENT_REMO'+'VE','remove'),h(Qt,'EVENT_SELE'+'CT','select'),h(Qt,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(Qt,'EVENT_SELE'+'CTEND','selectend'),h(Qt,'EVENT_SQUE'+'EZE','squeeze'),h(Qt,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),h(Qt,'EVENT_SQUE'+'EZEEND','squeezeend'),h(Qt,'EVENT_HITT'+'ESTADD','hittest:ad'+'d'),h(Qt,'EVENT_HITT'+'ESTREMOVE','hittest:re'+'move'),h(Qt,'EVENT_HITT'+'ESTRESULT','hittest:re'+'sult');class Li extends me{constructor(_0x59524f){var _0x19b060,_0x4f935d;super(),h(this,'manager'),h(this,'_inputSour'+'ces',[]),h(this,'_onInputSo'+'urcesChang'+'eEvt'),h(this,'velocities'+'Supported',!(0xc66+0x2494+0x9*-0x571)),(this['manager']=_0x59524f,this['velocities'+'Supported']=!!(Ae['browser']&&((_0x4f935d=(_0x19b060=window['XRPose'])==null?void(-0x2*-0x6f7+-0xf9b+0x1ad):_0x19b060['prototype'])!=null&&_0x4f935d['hasOwnProp'+'erty']('linearVelo'+'city'))),this['_onInputSo'+'urcesChang'+'eEvt']=_0xe1d49e=>{this['_onInputSo'+'urcesChang'+'e'](_0xe1d49e);},this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){const _0x9c0225=this['manager']['session'];_0x9c0225['addEventLi'+'stener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']),_0x9c0225['addEventLi'+'stener']('select',_0x554b78=>{const _0xa69631=this['_getByInpu'+'tSource'](_0x554b78['inputSourc'+'e']);_0xa69631['update'](_0x554b78['frame']),_0xa69631['fire']('select',_0x554b78),this['fire']('select',_0xa69631,_0x554b78);}),_0x9c0225['addEventLi'+'stener']('selectstar'+'t',_0x192290=>{const _0xc2feb1=this['_getByInpu'+'tSource'](_0x192290['inputSourc'+'e']);_0xc2feb1['_selecting']||(_0xc2feb1['update'](_0x192290['frame']),_0xc2feb1['_selecting']=!(0x413*-0x7+0x2*0xadb+0x6cf),_0xc2feb1['fire']('selectstar'+'t',_0x192290),this['fire']('selectstar'+'t',_0xc2feb1,_0x192290));}),_0x9c0225['addEventLi'+'stener']('selectend',_0x5a4da5=>{const _0x4b1004=this['_getByInpu'+'tSource'](_0x5a4da5['inputSourc'+'e']);_0x4b1004['update'](_0x5a4da5['frame']),_0x4b1004['_selecting']=!(-0x941+0x2051+-0x170f),_0x4b1004['fire']('selectend',_0x5a4da5),this['fire']('selectend',_0x4b1004,_0x5a4da5);}),_0x9c0225['addEventLi'+'stener']('squeeze',_0x490886=>{const _0x5f1955=this['_getByInpu'+'tSource'](_0x490886['inputSourc'+'e']);_0x5f1955['update'](_0x490886['frame']),_0x5f1955['fire']('squeeze',_0x490886),this['fire']('squeeze',_0x5f1955,_0x490886);}),_0x9c0225['addEventLi'+'stener']('squeezesta'+'rt',_0x2214ce=>{const _0x2e447c=this['_getByInpu'+'tSource'](_0x2214ce['inputSourc'+'e']);_0x2e447c['update'](_0x2214ce['frame']),_0x2e447c['_squeezing']=!(0x1272+-0x2*-0x124a+-0x3706),_0x2e447c['fire']('squeezesta'+'rt',_0x2214ce),this['fire']('squeezesta'+'rt',_0x2e447c,_0x2214ce);}),_0x9c0225['addEventLi'+'stener']('squeezeend',_0x9998f5=>{const _0x395aba=this['_getByInpu'+'tSource'](_0x9998f5['inputSourc'+'e']);_0x395aba['update'](_0x9998f5['frame']),_0x395aba['_squeezing']=!(-0x1696+-0x201f+0x1b5b*0x2),_0x395aba['fire']('squeezeend',_0x9998f5),this['fire']('squeezeend',_0x395aba,_0x9998f5);});const _0x344cc7=_0x9c0225['inputSourc'+'es'];for(let _0x4403f8=-0x119a+-0x1cae*-0x1+-0xb14;_0x4403f8<_0x344cc7['length'];_0x4403f8++)this['_addInputS'+'ource'](_0x344cc7[_0x4403f8]);}['_onSession'+'End'](){let _0x2599a7=this['_inputSour'+'ces']['length'];for(;_0x2599a7--;){const _0x55b2e0=this['_inputSour'+'ces'][_0x2599a7];this['_inputSour'+'ces']['splice'](_0x2599a7,0x1*0x70b+0x1*0x1d0d+-0x2417*0x1),_0x55b2e0['fire']('remove'),this['fire']('remove',_0x55b2e0);}this['fire']('removeall'),this['manager']['session']['removeEven'+'tListener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']);}['_onInputSo'+'urcesChang'+'e'](_0x411f5e){for(let _0x3138af=-0x5d4+0x9*0x11d+0x431*-0x1;_0x3138af<_0x411f5e['removed']['length'];_0x3138af++)this['_removeInp'+'utSource'](_0x411f5e['removed'][_0x3138af]);for(let _0x7daf40=-0x2424+-0x9ba+0x39*0xce;_0x7daf40<_0x411f5e['added']['length'];_0x7daf40++)this['_addInputS'+'ource'](_0x411f5e['added'][_0x7daf40]);}['_getByInpu'+'tSource'](_0x12dc83){for(let _0x47c677=-0x1*0x1665+0x21b0+-0xb4b;_0x47c677<this['_inputSour'+'ces']['length'];_0x47c677++)if(this['_inputSour'+'ces'][_0x47c677]['inputSourc'+'e']===_0x12dc83)return this['_inputSour'+'ces'][_0x47c677];return null;}['_removeApp'+'Entity'](_0x2b9127){const _0x5ed7b0=this['manager']['app']['root']['findByName']('Armature_'+_0x2b9127);_0x5ed7b0&&this['manager']['app']['root']['removeChil'+'d'](_0x5ed7b0);}['_addInputS'+'ource'](_0x3fb277){if(this['_removeApp'+'Entity'](_0x3fb277['handedness']),this['_getByInpu'+'tSource'](_0x3fb277))return;const _0x171bf3=new Qt(this['manager'],_0x3fb277);this['_inputSour'+'ces']['push'](_0x171bf3),this['fire']('add',_0x171bf3);}['_removeInp'+'utSource'](_0x581ee7){for(let _0x32c5a5=0xec6+-0x1b5*0x1+-0xd11*0x1;_0x32c5a5<this['_inputSour'+'ces']['length'];_0x32c5a5++){if(this['_inputSour'+'ces'][_0x32c5a5]['inputSourc'+'e']!==_0x581ee7)continue;const _0xb6418f=this['_inputSour'+'ces'][_0x32c5a5];this['_inputSour'+'ces']['splice'](_0x32c5a5,0x8c*0x26+0xa1d+-0x6*0x526);let _0xe3e0fc=_0xb6418f['hitTestSou'+'rces']['length'];for(;_0xe3e0fc--;)_0xb6418f['hitTestSou'+'rces'][_0xe3e0fc]['remove']();this['_removeApp'+'Entity'](_0xb6418f['handedness']),_0xb6418f['fire']('remove'),this['fire']('remove',_0xb6418f);return;}}['update'](_0x216167){for(let _0x50fe0e=0x1b26+-0xf25+-0x7*0x1b7;_0x50fe0e<this['_inputSour'+'ces']['length'];_0x50fe0e++)this['_inputSour'+'ces'][_0x50fe0e]['update'](_0x216167);}get['inputSourc'+'es'](){return this['_inputSour'+'ces'];}}h(Li,'EVENT_ADD','add'),h(Li,'EVENT_REMO'+'VE','remove'),h(Li,'EVENT_SELE'+'CT','select'),h(Li,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(Li,'EVENT_SELE'+'CTEND','selectend'),h(Li,'EVENT_SQUE'+'EZE','squeeze'),h(Li,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),h(Li,'EVENT_SQUE'+'EZEEND','squeezeend');const Ja=new D(),IS=new D(),Lf=new te(),LS=new te();class Zu extends me{constructor(_0x37ee48){super(),h(this,'_manager'),h(this,'_supported',!(-0x4e7+-0xa*-0x20c+-0xf90)),h(this,'_available',!(-0x274*-0x6+-0x3bb*0xa+0x1697)),h(this,'_lightProb'+'eRequested',!(-0x5d*0x23+0x1318+-0x660)),h(this,'_lightProb'+'e',null),h(this,'_intensity',0x8f+0x2*0xbe9+-0x1*0x1861),h(this,'_rotation',new le()),h(this,'_color',new ie()),h(this,'_spherical'+'Harmonics',new Float32Array(0x2*0x6c8+-0x1*0x265+0xb10*-0x1)),(this['_manager']=_0x37ee48,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){this['_manager']['session']['requestLig'+'htProbe']&&(this['_supported']=!(-0x319+-0x13*-0x1c1+-0x1*0x1e3a));}['_onSession'+'End'](){this['_supported']=!(0x53e+0x2156+-0x7d*0x4f),this['_available']=!(0x1*-0x2f5+-0x29+0x31f),this['_lightProb'+'eRequested']=!(0x1*0x14c7+0x8*-0x200+-0x4c6),this['_lightProb'+'e']=null;}['start'](){let _0x3aaf20;if(this['_manager']['session']||(_0x3aaf20=new Error('XR\x20session'+'\x20is\x20not\x20ru'+'nning')),!_0x3aaf20&&this['_manager']['type']!==$o&&(_0x3aaf20=new Error('XR\x20session'+'\x20type\x20is\x20n'+'ot\x20AR')),!_0x3aaf20&&!this['_supported']&&(_0x3aaf20=new Error('light-esti'+'mation\x20is\x20'+'not\x20suppor'+'ted')),(!_0x3aaf20&&this['_lightProb'+'e']||this['_lightProb'+'eRequested'])&&(_0x3aaf20=new Error('light\x20esti'+'mation\x20is\x20'+'already\x20re'+'quested')),_0x3aaf20){this['fire']('error',_0x3aaf20);return;}this['_lightProb'+'eRequested']=!(-0x1*-0x247+-0xd2*-0x2c+-0x265f),this['_manager']['session']['requestLig'+'htProbe']()['then'](_0x296bb0=>{const _0x4f0cb9=this['_lightProb'+'eRequested'];this['_lightProb'+'eRequested']=!(0x1b90*-0x1+0x1189*0x1+0x2*0x504),this['_manager']['active']?_0x4f0cb9&&(this['_lightProb'+'e']=_0x296bb0):this['fire']('error',new Error('XR\x20session'+'\x20is\x20not\x20ac'+'tive'));})['catch'](_0x5ce59a=>{this['_lightProb'+'eRequested']=!(-0xe*0x1ed+-0x2373+0x3e6a),this['fire']('error',_0x5ce59a);});}['end'](){this['_lightProb'+'eRequested']=!(0x16bf*0x1+0x719*0x1+-0x1dd7),this['_lightProb'+'e']=null,this['_available']=!(0xcfc+-0x1*0x5df+-0x71c);}['update'](_0x3e354b){if(!this['_lightProb'+'e'])return;const _0x33e73d=_0x3e354b['getLightEs'+'timate'](this['_lightProb'+'e']);if(!_0x33e73d)return;this['_available']||(this['_available']=!(0x529*0x5+-0x21*-0xad+-0x301a),this['fire']('available'));const _0x4889cb=_0x33e73d['primaryLig'+'htIntensit'+'y'];this['_intensity']=Math['max'](0x1*0x1c43+0x1*0x1880+-0x34c2,Math['max'](_0x4889cb['x'],Math['max'](_0x4889cb['y'],_0x4889cb['z']))),Ja['copy'](_0x4889cb)['mulScalar']((0x2544+0x43*-0x8b+-0xe2)/this['_intensity']),this['_color']['set'](Ja['x'],Ja['y'],Ja['z']),Ja['set'](0x32*0x79+0xd*-0x1e5+0xff,0x13*0x6d+0xb*0x160+-0x1737,-0x87*-0x27+0x785+0x59e*-0x5),IS['copy'](_0x33e73d['primaryLig'+'htDirectio'+'n']),Lf['setLookAt'](IS,Ja,D['UP']),LS['setFromAxi'+'sAngle'](D['RIGHT'],-0xed4+0x4c1+0x1*0xa6d),Lf['mul'](LS),this['_rotation']['setFromMat'+'4'](Lf),this['_spherical'+'Harmonics']['set'](_0x33e73d['sphericalH'+'armonicsCo'+'efficients']);}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['intensity'](){return this['_available']?this['_intensity']:null;}get['color'](){return this['_available']?this['_color']:null;}get['rotation'](){return this['_available']?this['_rotation']:null;}get['sphericalH'+'armonics'](){return this['_available']?this['_spherical'+'Harmonics']:null;}}h(Zu,'EVENT_AVAI'+'LABLE','available'),h(Zu,'EVENT_ERRO'+'R','error');let mU=-0xa4c+-0x81*-0x15+-0x49*0x1;class Qu extends me{constructor(_0x32b599,_0x57651a){super(),h(this,'_id'),h(this,'_planeDete'+'ction'),h(this,'_xrPlane'),h(this,'_lastChang'+'edTime'),h(this,'_orientati'+'on'),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_id']=++mU,this['_planeDete'+'ction']=_0x32b599,this['_xrPlane']=_0x57651a,this['_lastChang'+'edTime']=_0x57651a['lastChange'+'dTime'],this['_orientati'+'on']=_0x57651a['orientatio'+'n']);}['destroy'](){this['_xrPlane']&&(this['_xrPlane']=null,this['fire']('remove'));}['update'](_0x7c7e43){const _0x179f09=this['_planeDete'+'ction']['_manager'],_0x1b3c9b=_0x7c7e43['getPose'](this['_xrPlane']['planeSpace'],_0x179f09['_reference'+'Space']);_0x1b3c9b&&(this['_position']['copy'](_0x1b3c9b['transform']['position']),this['_rotation']['copy'](_0x1b3c9b['transform']['orientatio'+'n'])),this['_lastChang'+'edTime']!==this['_xrPlane']['lastChange'+'dTime']&&(this['_lastChang'+'edTime']=this['_xrPlane']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}get['id'](){return this['_id'];}get['orientatio'+'n'](){return this['_orientati'+'on'];}get['points'](){return this['_xrPlane']['polygon'];}get['label'](){return this['_xrPlane']['semanticLa'+'bel']||'';}}h(Qu,'EVENT_REMO'+'VE','remove'),h(Qu,'EVENT_CHAN'+'GE','change');class Do extends me{constructor(_0x2baada){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRPlane']),h(this,'_available',!(-0x1d*0x94+-0x7*-0x35a+-0x6b1)),h(this,'_planesInd'+'ex',new Map()),h(this,'_planes',[]),(this['_manager']=_0x2baada,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){this['_manager']['session']['enabledFea'+'tures']&&this['_manager']['session']['enabledFea'+'tures']['indexOf']('plane-dete'+'ction')!==-(0x572+0x14ad+0x1*-0x1a1e)&&(this['_available']=!(-0x231d+0x1e43*-0x1+0x4160),this['fire']('available'));}['_onSession'+'End'](){for(let _0x4c13d8=0x104a*-0x1+0x40*0x56+0x536*-0x1;_0x4c13d8<this['_planes']['length'];_0x4c13d8++)this['_planes'][_0x4c13d8]['destroy'](),this['fire']('remove',this['_planes'][_0x4c13d8]);this['_planesInd'+'ex']['clear'](),this['_planes']['length']=0x2559+-0xb*-0x24a+-0x3e87,this['_available']&&(this['_available']=!(-0x1a63*0x1+0xaf5+0xf6f),this['fire']('unavailabl'+'e'));}['update'](_0x20a760){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x20a760['detectedPl'+'anes']['size'])this['_available']=!(0x159+-0x1718+0x125*0x13),this['fire']('available');else return;}const _0x48c860=_0x20a760['detectedPl'+'anes'];for(const [_0x42aabe,_0x34f97a]of this['_planesInd'+'ex'])_0x48c860['has'](_0x42aabe)||(this['_planesInd'+'ex']['delete'](_0x42aabe),this['_planes']['splice'](this['_planes']['indexOf'](_0x34f97a),-0x985*0x2+-0x245a+0x3765),_0x34f97a['destroy'](),this['fire']('remove',_0x34f97a));for(const _0x19210a of _0x48c860){let _0x12c5bf=this['_planesInd'+'ex']['get'](_0x19210a);_0x12c5bf?_0x12c5bf['update'](_0x20a760):(_0x12c5bf=new Qu(this,_0x19210a),this['_planesInd'+'ex']['set'](_0x19210a,_0x12c5bf),this['_planes']['push'](_0x12c5bf),_0x12c5bf['update'](_0x20a760),this['fire']('add',_0x12c5bf));}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['planes'](){return this['_planes'];}}h(Do,'EVENT_AVAI'+'LABLE','available'),h(Do,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(Do,'EVENT_ADD','add'),h(Do,'EVENT_REMO'+'VE','remove');class Io extends me{constructor(_0x37641c,_0x254f4e,_0xe9c548=null){super(),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_uuid',null),h(this,'_uuidReque'+'sts',null),(this['_anchors']=_0x37641c,this['_xrAnchor']=_0x254f4e,this['_uuid']=_0xe9c548);}['destroy'](){if(!this['_xrAnchor'])return;const _0x352afc=this['_xrAnchor'];this['_xrAnchor']['delete'](),this['_xrAnchor']=null,this['fire']('destroy',_0x352afc,this);}['update'](_0x4994b6){if(!this['_xrAnchor'])return;const _0x55d694=_0x4994b6['getPose'](this['_xrAnchor']['anchorSpac'+'e'],this['_anchors']['manager']['_reference'+'Space']);if(_0x55d694){if(this['_position']['equals'](_0x55d694['transform']['position'])&&this['_rotation']['equals'](_0x55d694['transform']['orientatio'+'n']))return;this['_position']['copy'](_0x55d694['transform']['position']),this['_rotation']['copy'](_0x55d694['transform']['orientatio'+'n']),this['fire']('change');}}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}['persist'](_0x15a1a6){if(!this['_anchors']['persistenc'+'e']){_0x15a1a6==null||_0x15a1a6(new Error('Persistent'+'\x20Anchors\x20a'+'re\x20not\x20sup'+'ported'),null);return;}if(this['_uuid']){_0x15a1a6==null||_0x15a1a6(null,this['_uuid']);return;}if(this['_uuidReque'+'sts']){_0x15a1a6&&this['_uuidReque'+'sts']['push'](_0x15a1a6);return;}this['_uuidReque'+'sts']=[],this['_xrAnchor']['requestPer'+'sistentHan'+'dle']()['then'](_0x580762=>{this['_uuid']=_0x580762,this['_anchors']['_indexByUu'+'id']['set'](this['_uuid'],this),_0x15a1a6==null||_0x15a1a6(null,_0x580762);for(const _0x464d30 of this['_uuidReque'+'sts'])_0x464d30(null,_0x580762);this['_uuidReque'+'sts']=null,this['fire']('persist',_0x580762);})['catch'](_0x2c32dd=>{_0x15a1a6==null||_0x15a1a6(_0x2c32dd,null);for(const _0x374a8e of this['_uuidReque'+'sts'])_0x374a8e(_0x2c32dd,null);this['_uuidReque'+'sts']=null;});}['forget'](_0x50b679){if(!this['_uuid']){_0x50b679==null||_0x50b679(new Error('Anchor\x20is\x20'+'not\x20persis'+'tent'));return;}this['_anchors']['forget'](this['_uuid'],_0x367436=>{this['_uuid']=null,_0x50b679==null||_0x50b679(_0x367436),this['fire']('forget');});}get['uuid'](){return this['_uuid'];}get['persistent'](){return!!this['_uuid'];}}h(Io,'EVENT_DEST'+'ROY','destroy'),h(Io,'EVENT_CHAN'+'GE','change'),h(Io,'EVENT_PERS'+'IST','persist'),h(Io,'EVENT_FORG'+'ET','forget');var VS;class on extends me{constructor(_0x3bbe7d){super(),h(this,'manager'),h(this,'_supported',Ae['browser']&&!!window['XRAnchor']),h(this,'_available',!(0x9e*-0x1f+-0xe+0x1331)),h(this,'_checkingA'+'vailabilit'+'y',!(0x24de+0x14*0x5f+0x2c49*-0x1)),h(this,'_persisten'+'ce',Ae['browser']&&!!((VS=window==null?void(0x247a+0x1e14+-0x428e):window['XRSession'])!=null&&VS['prototype']['restorePer'+'sistentAnc'+'hor'])),h(this,'_creationQ'+'ueue',[]),h(this,'_index',new Map()),h(this,'_indexByUu'+'id',new Map()),h(this,'_list',[]),h(this,'_callbacks'+'Anchors',new Map()),(this['manager']=_0x3bbe7d,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){var _0x19520e;const _0x337abb=((_0x19520e=this['manager']['session']['enabledFea'+'tures'])==null?void(0xecf*0x1+0x1191+-0x2060):_0x19520e['indexOf']('anchors'))>=-0xf3f+-0x220+0x115f;_0x337abb&&(this['_available']=_0x337abb,this['fire']('available'));}['_onSession'+'End'](){if(!this['_available'])return;this['_available']=!(-0x1*-0x73d+0x4*-0xfd+-0x348);for(let _0x3cd77e=-0x2*-0x2e9+0x16ff+-0x1cd1;_0x3cd77e<this['_creationQ'+'ueue']['length'];_0x3cd77e++)this['_creationQ'+'ueue'][_0x3cd77e]['callback']&&this['_creationQ'+'ueue'][_0x3cd77e]['callback'](new Error('session\x20en'+'ded'),null);this['_creationQ'+'ueue']['length']=-0x22f2+0xe1*-0xb+0x2c9d,this['_index']['clear'](),this['_indexByUu'+'id']['clear']();let _0x41edd7=this['_list']['length'];for(;_0x41edd7--;)this['_list'][_0x41edd7]['destroy']();this['_list']['length']=0x5ba*-0x4+-0x20d9+0x37c1,this['fire']('unavailabl'+'e');}['_createAnc'+'hor'](_0x2a4398,_0x4dcf9c=null){const _0x1fea8d=new Io(this,_0x2a4398,_0x4dcf9c);return this['_index']['set'](_0x2a4398,_0x1fea8d),_0x4dcf9c&&this['_indexByUu'+'id']['set'](_0x4dcf9c,_0x1fea8d),this['_list']['push'](_0x1fea8d),_0x1fea8d['once']('destroy',this['_onAnchorD'+'estroy'],this),_0x1fea8d;}['_onAnchorD'+'estroy'](_0x5875dc,_0x4fd529){this['_index']['delete'](_0x5875dc),_0x4fd529['uuid']&&this['_indexByUu'+'id']['delete'](_0x4fd529['uuid']);const _0x54ac2e=this['_list']['indexOf'](_0x4fd529);_0x54ac2e!==-(-0x1dde+0xd*-0xb3+0x26f6)&&this['_list']['splice'](_0x54ac2e,-0x5*-0x38f+-0x5d6+-0xbf4),this['fire']('destroy',_0x4fd529);}['create'](_0x1b7b26,_0x5aa26e,_0x2eef81){if(!this['_available']){_0x2eef81==null||_0x2eef81(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(window['XRHitTestR'+'esult']&&_0x1b7b26 instanceof XRHitTestResult){const _0x30030b=_0x1b7b26;if(_0x2eef81=_0x5aa26e,!this['_supported']){_0x2eef81==null||_0x2eef81(new Error('Anchors\x20AP'+'I\x20is\x20not\x20s'+'upported'),null);return;}if(!_0x30030b['createAnch'+'or']){_0x2eef81==null||_0x2eef81(new Error('Creating\x20A'+'nchor\x20from'+'\x20Hit\x20Test\x20'+'is\x20not\x20sup'+'ported'),null);return;}_0x30030b['createAnch'+'or']()['then'](_0x1eb0ca=>{const _0x5a4228=this['_createAnc'+'hor'](_0x1eb0ca);_0x2eef81==null||_0x2eef81(null,_0x5a4228),this['fire']('add',_0x5a4228);})['catch'](_0x277b7f=>{_0x2eef81==null||_0x2eef81(_0x277b7f,null),this['fire']('error',_0x277b7f);});}else this['_creationQ'+'ueue']['push']({'transform':new XRRigidTransform(_0x1b7b26,_0x5aa26e),'callback':_0x2eef81});}['restore'](_0x31525d,_0x4087b6){if(!this['_available']){_0x4087b6==null||_0x4087b6(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(!this['_persisten'+'ce']){_0x4087b6==null||_0x4087b6(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'),null);return;}if(!this['manager']['active']){_0x4087b6==null||_0x4087b6(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'),null);return;}this['manager']['session']['restorePer'+'sistentAnc'+'hor'](_0x31525d)['then'](_0x4bb6cd=>{const _0xee5b35=this['_createAnc'+'hor'](_0x4bb6cd,_0x31525d);_0x4087b6==null||_0x4087b6(null,_0xee5b35),this['fire']('add',_0xee5b35);})['catch'](_0x371f01=>{_0x4087b6==null||_0x4087b6(_0x371f01,null),this['fire']('error',_0x371f01);});}['forget'](_0x3da503,_0x159c99){if(!this['_available']){_0x159c99==null||_0x159c99(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'));return;}if(!this['_persisten'+'ce']){_0x159c99==null||_0x159c99(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'));return;}if(!this['manager']['active']){_0x159c99==null||_0x159c99(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'));return;}this['manager']['session']['deletePers'+'istentAnch'+'or'](_0x3da503)['then'](()=>{_0x159c99==null||_0x159c99(null);})['catch'](_0x2fca62=>{_0x159c99==null||_0x159c99(_0x2fca62),this['fire']('error',_0x2fca62);});}['update'](_0x471b73){if(!this['_available']){!this['manager']['session']['enabledFea'+'tures']&&!this['_checkingA'+'vailabilit'+'y']&&(this['_checkingA'+'vailabilit'+'y']=!(-0xa2*-0x1d+-0x913+-0x947),_0x471b73['createAnch'+'or'](new XRRigidTransform(),this['manager']['_reference'+'Space'])['then'](_0x2efe5a=>{_0x2efe5a['delete'](),this['manager']['active']&&(this['_available']=!(0x77*0xb+-0x22e1*0x1+0x1dc4),this['fire']('available'));})['catch'](()=>{}));return;}if(this['_creationQ'+'ueue']['length']){for(let _0x379ee2=-0x696*-0x2+-0x78*-0x32+-0x354*0xb;_0x379ee2<this['_creationQ'+'ueue']['length'];_0x379ee2++){const _0x361197=this['_creationQ'+'ueue'][_0x379ee2];_0x471b73['createAnch'+'or'](_0x361197['transform'],this['manager']['_reference'+'Space'])['then'](_0x453071=>{_0x361197['callback']&&this['_callbacks'+'Anchors']['set'](_0x453071,_0x361197['callback']);})['catch'](_0x4eb806=>{_0x361197['callback']&&_0x361197['callback'](_0x4eb806,null),this['fire']('error',_0x4eb806);});}this['_creationQ'+'ueue']['length']=-0x5f9*-0x2+0x2209+-0x2dfb;}for(const [_0x449d11,_0x192326]of this['_index'])_0x471b73['trackedAnc'+'hors']['has'](_0x449d11)||(this['_index']['delete'](_0x449d11),_0x192326['destroy']());for(let _0x7d316a=0x3*-0x9b6+-0x9d*-0x22+-0x4*-0x212;_0x7d316a<this['_list']['length'];_0x7d316a++)this['_list'][_0x7d316a]['update'](_0x471b73);for(const _0x24ab1f of _0x471b73['trackedAnc'+'hors']){if(this['_index']['has'](_0x24ab1f))continue;try{const _0xd7de21=_0x24ab1f['anchorSpac'+'e'];}catch{continue;}const _0x19fc7c=this['_createAnc'+'hor'](_0x24ab1f);_0x19fc7c['update'](_0x471b73);const _0x4f3e9e=this['_callbacks'+'Anchors']['get'](_0x24ab1f);_0x4f3e9e&&(this['_callbacks'+'Anchors']['delete'](_0x24ab1f),_0x4f3e9e(null,_0x19fc7c)),this['fire']('add',_0x19fc7c);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['persistenc'+'e'](){return this['_persisten'+'ce'];}get['uuids'](){return!this['_available']||!this['_persisten'+'ce']||!this['manager']['active']?null:this['manager']['session']['persistent'+'Anchors'];}get['list'](){return this['_list'];}}h(on,'EVENT_AVAI'+'LABLE','available'),h(on,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(on,'EVENT_ERRO'+'R','error'),h(on,'EVENT_ADD','add'),h(on,'EVENT_DEST'+'ROY','destroy');class Ju extends me{constructor(_0x1963bb,_0x26f701){super(),h(this,'_meshDetec'+'tion'),h(this,'_xrMesh'),h(this,'_lastChang'+'ed',0x168c+-0x1*-0x2bd+-0x1949),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_meshDetec'+'tion']=_0x1963bb,this['_xrMesh']=_0x26f701,this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime']);}get['xrMesh'](){return this['_xrMesh'];}get['label'](){return this['_xrMesh']['semanticLa'+'bel']||'';}get['vertices'](){return this['_xrMesh']['vertices'];}get['indices'](){return this['_xrMesh']['indices'];}['destroy'](){this['_xrMesh']&&(this['_xrMesh']=null,this['fire']('remove'));}['update'](_0x2632b4){const _0x52e528=this['_meshDetec'+'tion']['_manager'],_0x187d48=_0x2632b4['getPose'](this['_xrMesh']['meshSpace'],_0x52e528['_reference'+'Space']);_0x187d48&&(this['_position']['copy'](_0x187d48['transform']['position']),this['_rotation']['copy'](_0x187d48['transform']['orientatio'+'n'])),this['_lastChang'+'ed']!==this['_xrMesh']['lastChange'+'dTime']&&(this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}}h(Ju,'EVENT_REMO'+'VE','remove'),h(Ju,'EVENT_CHAN'+'GE','change');class Lo extends me{constructor(_0x36b599){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRMesh']),h(this,'_available',!(-0x9e0+0x7b5*0x4+-0x1*0x14f3)),h(this,'_index',new Map()),h(this,'_list',[]),(this['_manager']=_0x36b599,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['update'](_0x3706bd){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x3706bd['detectedMe'+'shes']['size'])this['_available']=!(-0x307+0x1e5d*-0x1+0x10b2*0x2),this['fire']('available');else return;}for(const _0x39d1a8 of _0x3706bd['detectedMe'+'shes']){let _0x2ea417=this['_index']['get'](_0x39d1a8);_0x2ea417?_0x2ea417['update'](_0x3706bd):(_0x2ea417=new Ju(this,_0x39d1a8),this['_index']['set'](_0x39d1a8,_0x2ea417),this['_list']['push'](_0x2ea417),_0x2ea417['update'](_0x3706bd),this['fire']('add',_0x2ea417));}for(const _0x7c118b of this['_index']['values']())_0x3706bd['detectedMe'+'shes']['has'](_0x7c118b['xrMesh'])||this['_removeMes'+'h'](_0x7c118b);}['_removeMes'+'h'](_0x5cc42a){this['_index']['delete'](_0x5cc42a['xrMesh']),this['_list']['splice'](this['_list']['indexOf'](_0x5cc42a),-0x104c+0x1*0xad2+0x57b),_0x5cc42a['destroy'](),this['fire']('remove',_0x5cc42a);}['_onSession'+'Start'](){if(this['_manager']['session']['enabledFea'+'tures']){const _0x288460=this['_manager']['session']['enabledFea'+'tures']['indexOf']('mesh-detec'+'tion')!==-(-0x238f*-0x1+0x3d3*0x7+-0x3e53);if(!_0x288460)return;this['_available']=_0x288460,this['fire']('available');}}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0xb73*-0x2+-0x2cf+0x19b6);for(const _0x398aec of this['_index']['values']())this['_removeMes'+'h'](_0x398aec);this['fire']('unavailabl'+'e');}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['meshes'](){return this['_list'];}}h(Lo,'EVENT_AVAI'+'LABLE','available'),h(Lo,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(Lo,'EVENT_ADD','add'),h(Lo,'EVENT_REMO'+'VE','remove');class O0 extends me{constructor(_0x44bc5a,_0x23c354,_0x19c360){super(),h(this,'_manager'),h(this,'_xrView'),h(this,'_positionD'+'ata',new Float32Array(0xf65+-0x4*-0x2ae+-0x1a*0x101)),h(this,'_viewport',new re()),h(this,'_projMat',new te()),h(this,'_projViewO'+'ffMat',new te()),h(this,'_viewMat',new te()),h(this,'_viewOffMa'+'t',new te()),h(this,'_viewMat3',new _i()),h(this,'_viewInvMa'+'t',new te()),h(this,'_viewInvOf'+'fMat',new te()),h(this,'_xrCamera',null),h(this,'_textureCo'+'lor',null),h(this,'_textureDe'+'pth',null),h(this,'_depthInfo',null),h(this,'_emptyDept'+'hBuffer',new Uint8Array(-0x809+0x1*0x2159+-0x1930)),h(this,'_depthMatr'+'ix',new te()),(this['_manager']=_0x44bc5a,this['_xrView']=_0x23c354);const _0x571a3c=this['_manager']['app']['graphicsDe'+'vice'];if(this['_manager']['views']['supportedC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera'],this['_manager']['views']['availableC'+'olor']&&this['_xrCamera']&&(this['_textureCo'+'lor']=new _e(_0x571a3c,{'format':Cr,'mipmaps':!(0xd8+0x1*0x1a8a+0x1*-0x1b61),'addressU':ue,'addressV':ue,'minFilter':vt,'magFilter':vt,'width':this['_xrCamera']['width'],'height':this['_xrCamera']['height'],'name':'XrView-'+this['_xrView']['eye']+'-Color'}))),this['_manager']['views']['supportedD'+'epth']&&this['_manager']['views']['availableD'+'epth']){const _0x3aab38=this['_manager']['views']['depthGpuOp'+'timized']?Te:vt;this['_textureDe'+'pth']=new _e(_0x571a3c,{'format':this['_manager']['views']['depthPixel'+'Format'],'arrayLength':_0x19c360===-0x345*-0x1+0x1*-0x1f13+0x71*0x3f?0xb*0x22c+0x2*-0x109c+0x954:_0x19c360,'mipmaps':!(-0x22*-0x60+-0x111c*-0x2+-0x2ef7),'addressU':ue,'addressV':ue,'minFilter':_0x3aab38,'magFilter':_0x3aab38,'width':0x4,'height':0x4,'name':'XrView-'+this['_xrView']['eye']+'-Depth'});for(let _0x3d3aca=0x244d*0x1+0x1133+0x80*-0x6b;_0x3d3aca<this['_textureDe'+'pth']['_levels']['length'];_0x3d3aca++)this['_textureDe'+'pth']['_levels'][_0x3d3aca]=this['_emptyDept'+'hBuffer'];this['_textureDe'+'pth']['upload']();}(this['_textureCo'+'lor']||this['_textureDe'+'pth'])&&_0x571a3c['on']('devicelost',this['_onDeviceL'+'ost'],this);}get['textureCol'+'or'](){return this['_textureCo'+'lor'];}get['textureDep'+'th'](){return this['_textureDe'+'pth'];}get['depthUvMat'+'rix'](){return this['_depthMatr'+'ix'];}get['depthValue'+'ToMeters'](){var _0xfcc6ba;return((_0xfcc6ba=this['_depthInfo'])==null?void(-0x1f43+-0x243b+0x437e*0x1):_0xfcc6ba['rawValueTo'+'Meters'])||-0x232+-0x7*-0x1fa+0x254*-0x5;}get['eye'](){return this['_xrView']['eye'];}get['viewport'](){return this['_viewport'];}get['projMat'](){return this['_projMat'];}get['projViewOf'+'fMat'](){return this['_projViewO'+'ffMat'];}get['viewOffMat'](){return this['_viewOffMa'+'t'];}get['viewInvOff'+'Mat'](){return this['_viewInvOf'+'fMat'];}get['viewMat3'](){return this['_viewMat3'];}get['positionDa'+'ta'](){return this['_positionD'+'ata'];}['update'](_0x1e78d4,_0x26a823){this['_xrView']=_0x26a823,this['_manager']['views']['availableC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera']);const _0x3f03da=_0x1e78d4['session']['renderStat'+'e']['baseLayer']['getViewpor'+'t'](this['_xrView']);this['_viewport']['x']=_0x3f03da['x'],this['_viewport']['y']=_0x3f03da['y'],this['_viewport']['z']=_0x3f03da['width'],this['_viewport']['w']=_0x3f03da['height'],this['_projMat']['set'](this['_xrView']['projection'+'Matrix']),this['_viewMat']['set'](this['_xrView']['transform']['inverse']['matrix']),this['_viewInvMa'+'t']['set'](this['_xrView']['transform']['matrix']),this['_updateTex'+'tureColor'](),this['_updateDep'+'th'](_0x1e78d4);}['_updateTex'+'tureColor'](){if(!this['_manager']['views']['availableC'+'olor']||!this['_xrCamera']||!this['_textureCo'+'lor'])return;const _0x2140a3=this['_manager']['webglBindi'+'ng'];if(!_0x2140a3)return;const _0x109cb0=_0x2140a3['getCameraI'+'mage'](this['_xrCamera']);if(!_0x109cb0)return;const _0x2e20a4=this['_manager']['app']['graphicsDe'+'vice'],_0x86a8d0=_0x2e20a4['gl'];if(!this['_frameBuff'+'erSource'])this['_frameBuff'+'erSource']=_0x86a8d0['createFram'+'ebuffer'](),this['_frameBuff'+'er']=_0x86a8d0['createFram'+'ebuffer']();else{const _0x1a6355=_0x86a8d0['COLOR_ATTA'+'CHMENT0'],_0x413ecd=this['_xrCamera']['width'],_0x455520=this['_xrCamera']['height'];_0x2e20a4['setFramebu'+'ffer'](this['_frameBuff'+'erSource']),_0x86a8d0['framebuffe'+'rTexture2D'](_0x86a8d0['FRAMEBUFFE'+'R'],_0x1a6355,_0x86a8d0['TEXTURE_2D'],_0x109cb0,-0x1*-0x24ab+-0x1c8a+-0x821),_0x2e20a4['setFramebu'+'ffer'](this['_frameBuff'+'er']),_0x86a8d0['framebuffe'+'rTexture2D'](_0x86a8d0['FRAMEBUFFE'+'R'],_0x1a6355,_0x86a8d0['TEXTURE_2D'],this['_textureCo'+'lor']['impl']['_glTexture'],0xd*0x89+-0x45d*-0x7+0x32*-0xc0),_0x86a8d0['bindFrameb'+'uffer'](_0x86a8d0['READ_FRAME'+'BUFFER'],this['_frameBuff'+'erSource']),_0x86a8d0['bindFrameb'+'uffer'](_0x86a8d0['DRAW_FRAME'+'BUFFER'],this['_frameBuff'+'er']),_0x86a8d0['blitFrameb'+'uffer'](-0x4d2+-0x351+-0x1*-0x823,_0x455520,_0x413ecd,0x11*0x219+0xef8*-0x1+-0x14b1,-0x7e6*0x2+-0xfd3+-0x1*-0x1f9f,0x205c+0x11*0x20c+-0x8*0x865,_0x413ecd,_0x455520,_0x86a8d0['COLOR_BUFF'+'ER_BIT'],_0x86a8d0['NEAREST']);}}['_updateDep'+'th'](_0x40429b){var _0x9e68de,_0x53efb6;if(!this['_manager']['views']['availableD'+'epth']||!this['_textureDe'+'pth'])return;const _0x216117=this['_manager']['views']['depthGpuOp'+'timized'],_0x6ef242=_0x216117?this['_manager']['webglBindi'+'ng']:_0x40429b;if(!_0x6ef242){this['_depthInfo']=null;return;}const _0x14e2f0=_0x6ef242['getDepthIn'+'formation'](this['_xrView']);if(!_0x14e2f0){this['_depthInfo']=null;return;}let _0xe3bd6f=!this['_depthInfo']!=!_0x14e2f0;this['_depthInfo']=_0x14e2f0;const _0x3eabe2=((_0x9e68de=this['_depthInfo'])==null?void(0x80b*0x2+-0x1fc+0x70d*-0x2):_0x9e68de['width'])||-0x2235+-0x711*0x5+0x458e,_0x13de6b=((_0x53efb6=this['_depthInfo'])==null?void(0xf4*-0x18+-0x4a*0x1c+0x7be*0x4):_0x53efb6['height'])||0x102a+0x1c3d+-0x2c63;let _0x3f9f7a=!(0x1*-0x2ba+-0x1*0x200f+0x22ca);if((this['_textureDe'+'pth']['width']!==_0x3eabe2||this['_textureDe'+'pth']['height']!==_0x13de6b)&&(this['_textureDe'+'pth']['_width']=_0x3eabe2,this['_textureDe'+'pth']['_height']=_0x13de6b,_0xe3bd6f=!(-0x7ea*0x3+-0x25ab+0x3d69*0x1),_0x3f9f7a=!(-0x26*0x2+-0x71d*0x1+0x769)),_0xe3bd6f&&(this['_depthInfo']?this['_depthMatr'+'ix']['data']['set'](this['_depthInfo']['normDepthB'+'ufferFromN'+'ormView']['matrix']):this['_depthMatr'+'ix']['setIdentit'+'y']()),this['_depthInfo']){if(_0x216117){if(this['_depthInfo']['texture']){const _0x32d85c=this['_manager']['app']['graphicsDe'+'vice']['gl'];switch(this['_textureDe'+'pth']['impl']['_glTexture']=this['_depthInfo']['texture'],this['_depthInfo']['textureTyp'+'e']==='texture-ar'+'ray'?this['_textureDe'+'pth']['impl']['_glTarget']=_0x32d85c['TEXTURE_2D'+'_ARRAY']:this['_textureDe'+'pth']['impl']['_glTarget']=_0x32d85c['TEXTURE_2D'],this['_manager']['views']['depthPixel'+'Format']){case Ji:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x32d85c['R32F'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x32d85c['FLOAT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x32d85c['RED'];break;case $i:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x32d85c['DEPTH_COMP'+'ONENT16'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x32d85c['UNSIGNED_S'+'HORT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x32d85c['DEPTH_COMP'+'ONENT'];break;}this['_textureDe'+'pth']['impl']['_glCreated']=!(0x9*0x14b+-0x1*0xe05+0x262);}}else this['_textureDe'+'pth']['_levels'][-0x5*0x60f+-0x21c6+0x4011]=new Uint8Array(this['_depthInfo']['data']),this['_textureDe'+'pth']['upload']();}else this['_textureDe'+'pth']['_levels'][-0x1e6b+-0x61c+0x2487]=this['_emptyDept'+'hBuffer'],this['_textureDe'+'pth']['upload']();_0x3f9f7a&&this['fire']('depth:resi'+'ze',_0x3eabe2,_0x13de6b);}['updateTran'+'sforms'](_0x219254){_0x219254?(this['_viewInvOf'+'fMat']['mul2'](_0x219254,this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewInvOf'+'fMat'])['invert']()):(this['_viewInvOf'+'fMat']['copy'](this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewMat'])),this['_viewMat3']['setFromMat'+'4'](this['_viewOffMa'+'t']),this['_projViewO'+'ffMat']['mul2'](this['_projMat'],this['_viewOffMa'+'t']),this['_positionD'+'ata'][0x8b*0x31+-0x2*-0x836+0x1*-0x2b07]=this['_viewInvOf'+'fMat']['data'][0x1*0x427+0x1c2b+0x2*-0x1023],this['_positionD'+'ata'][0x1f50+0x265*-0x1+0xe75*-0x2]=this['_viewInvOf'+'fMat']['data'][0x811+0x167c+0x20*-0xf4],this['_positionD'+'ata'][0x20cc+0x55*0x1c+-0x2a16]=this['_viewInvOf'+'fMat']['data'][-0xcf6+-0x1c0a+0xa*0x41b];}['_onDeviceL'+'ost'](){this['_frameBuff'+'erSource']=null,this['_frameBuff'+'er']=null,this['_depthInfo']=null;}['getDepth'](_0x548458,_0x2e31f0){var _0x2bf92f;return this['_manager']['views']['depthGpuOp'+'timized']?null:((_0x2bf92f=this['_depthInfo'])==null?void(0x18a6+-0x1ae4+0x1*0x23e):_0x2bf92f['getDepthIn'+'Meters'](_0x548458,_0x2e31f0))??null;}['destroy'](){if(this['_depthInfo']=null,this['_textureCo'+'lor']&&(this['_textureCo'+'lor']['destroy'](),this['_textureCo'+'lor']=null),this['_textureDe'+'pth']&&(this['_textureDe'+'pth']['destroy'](),this['_textureDe'+'pth']=null),this['_frameBuff'+'erSource']){const _0x1f25ed=this['_manager']['app']['graphicsDe'+'vice']['gl'];_0x1f25ed['deleteFram'+'ebuffer'](this['_frameBuff'+'erSource']),this['_frameBuff'+'erSource']=null,_0x1f25ed['deleteFram'+'ebuffer'](this['_frameBuff'+'er']),this['_frameBuff'+'er']=null;}}}h(O0,'EVENT_DEPT'+'HRESIZE','depth:resi'+'ze');class Bh extends me{constructor(_0x108acd){super(),h(this,'_manager'),h(this,'_index',new Map()),h(this,'_indexTmp',new Map()),h(this,'_list',[]),h(this,'_supported'+'Color',Ae['browser']&&!!window['XRCamera']&&!!window['XRWebGLBin'+'ding']),h(this,'_supported'+'Depth',Ae['browser']&&!!window['XRDepthInf'+'ormation']),h(this,'_available'+'Color',!(-0x9bb*-0x1+0x1*0x752+0x443*-0x4)),h(this,'_available'+'Depth',!(0x1da1+0xb3+-0x1e53)),h(this,'_depthUsag'+'e',''),h(this,'_depthForm'+'at',''),h(this,'_depthForm'+'ats',{[M0]:ap,[D0]:$i,[I0]:Ji}),(this['_manager']=_0x108acd,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}get['list'](){return this['_list'];}get['supportedC'+'olor'](){return this['_supported'+'Color'];}get['supportedD'+'epth'](){return this['_supported'+'Depth'];}get['availableC'+'olor'](){return this['_available'+'Color'];}get['availableD'+'epth'](){return this['_available'+'Depth'];}get['depthUsage'](){return this['_depthUsag'+'e'];}get['depthGpuOp'+'timized'](){return this['_depthUsag'+'e']===P0;}get['depthForma'+'t'](){return this['_depthForm'+'at'];}get['depthPixel'+'Format'](){return this['_depthForm'+'ats'][this['_depthForm'+'at']]??null;}['update'](_0x3970ee,_0x1e49d1){for(let _0x4bf6ea=0x1ebf+-0x240c+-0x1*-0x54d;_0x4bf6ea<_0x1e49d1['length'];_0x4bf6ea++)this['_indexTmp']['set'](_0x1e49d1[_0x4bf6ea]['eye'],_0x1e49d1[_0x4bf6ea]);for(const [_0x24dd64,_0x347fdd]of this['_indexTmp']){let _0x3e7c35=this['_index']['get'](_0x24dd64);_0x3e7c35?_0x3e7c35['update'](_0x3970ee,_0x347fdd):(_0x3e7c35=new O0(this['_manager'],_0x347fdd,_0x1e49d1['length']),this['_index']['set'](_0x24dd64,_0x3e7c35),this['_list']['push'](_0x3e7c35),_0x3e7c35['update'](_0x3970ee,_0x347fdd),this['fire']('add',_0x3e7c35));}for(const [_0x1768da,_0x2d660e]of this['_index']){if(this['_indexTmp']['has'](_0x1768da))continue;_0x2d660e['destroy'](),this['_index']['delete'](_0x1768da);const _0x4883b3=this['_list']['indexOf'](_0x2d660e);_0x4883b3!==-(0xacf+0x135*-0x15+0xe8b)&&this['_list']['splice'](_0x4883b3,0x1*-0x265+0xb5d*0x1+-0x55*0x1b),this['fire']('remove',_0x2d660e);}this['_indexTmp']['clear']();}['get'](_0x20d253){return this['_index']['get'](_0x20d253)||null;}['_onSession'+'Start'](){if(this['_manager']['type']===$o&&this['_manager']['session']['enabledFea'+'tures']&&(this['_available'+'Color']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('camera-acc'+'ess')!==-(-0x1*-0xb6f+0x246a+-0x2fd8),this['_available'+'Depth']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('depth-sens'+'ing')!==-(-0x2*0x5f2+0xe99+-0x2b4),this['_available'+'Depth'])){const _0xed7a08=this['_manager']['session'];this['_depthUsag'+'e']=_0xed7a08['depthUsage'],this['_depthForm'+'at']=_0xed7a08['depthDataF'+'ormat'];}}['_onSession'+'End'](){for(const _0x3e9701 of this['_index']['values']())_0x3e9701['destroy']();this['_index']['clear'](),this['_available'+'Color']=!(-0x73*-0x21+-0x2698+0x17c6),this['_available'+'Depth']=!(0x5c5+0x1*0xf17+-0x14db),this['_depthUsag'+'e']='',this['_depthForm'+'at']='',this['_list']['length']=-0x1*-0xf26+0xf73+0xa33*-0x3;}}h(Bh,'EVENT_ADD','add'),h(Bh,'EVENT_REMO'+'VE','remove');class ln extends me{constructor(_0x4d8220){super(),h(this,'app'),h(this,'_supported',Ae['browser']&&!!navigator['xr']),h(this,'_available',{}),h(this,'_type',null),h(this,'_spaceType',null),h(this,'_session',null),h(this,'_baseLayer',null),h(this,'webglBindi'+'ng',null),h(this,'_reference'+'Space',null),h(this,'domOverlay'),h(this,'hitTest'),h(this,'imageTrack'+'ing'),h(this,'planeDetec'+'tion'),h(this,'meshDetect'+'ion'),h(this,'input'),h(this,'lightEstim'+'ation'),h(this,'views'),h(this,'anchors'),h(this,'_camera',null),h(this,'_localPosi'+'tion',new D()),h(this,'_localRota'+'tion',new le()),h(this,'_depthNear',-0xca3+0x187+0xb1c+0.1),h(this,'_depthFar',0x8*0x3c3+0x29+0x1*-0x1a59),h(this,'_supported'+'FrameRates',null),h(this,'_width',-0x1*0x8fe+0x1*0xbbb+-0x2bd),h(this,'_height',-0x9*-0x1c5+0x1ebc+-0x2ea9),h(this,'_framebuff'+'erScaleFac'+'tor',-0xcc+0x199a+-0x18cd*0x1),(this['app']=_0x4d8220,this['_available'][lU]=!(-0xeb4*0x1+-0xbc4+0x1a79),this['_available'][cU]=!(-0x3*0xc3e+0x1635+0x152*0xb),this['_available'][$o]=!(0xe96+0xe27+-0x1cbc),this['views']=new Bh(this),this['domOverlay']=new fU(this),this['hitTest']=new jr(this),this['imageTrack'+'ing']=new L0(this),this['planeDetec'+'tion']=new Do(this),this['meshDetect'+'ion']=new Lo(this),this['input']=new Li(this),this['lightEstim'+'ation']=new Zu(this),this['anchors']=new on(this),this['views']=new Bh(this),this['_supported']&&(navigator['xr']['addEventLi'+'stener']('devicechan'+'ge',()=>{this['_deviceAva'+'ilabilityC'+'heck']();}),this['_deviceAva'+'ilabilityC'+'heck'](),this['app']['graphicsDe'+'vice']['on']('devicelost',this['_onDeviceL'+'ost'],this),this['app']['graphicsDe'+'vice']['on']('devicerest'+'ored',this['_onDeviceR'+'estored'],this)),this['isPC']=z0());}['destroy'](){}['start'](_0x4d37d1,_0x2f84dd,_0x30f60b,_0x260fb6){let _0x2acf8d=_0x260fb6;if(typeof _0x260fb6=='object'&&(_0x2acf8d=_0x260fb6['callback']),!this['_available'][_0x2f84dd]){_0x2acf8d&&_0x2acf8d(new Error('XR\x20is\x20not\x20'+'available'));return;}if(this['_session']){_0x2acf8d&&_0x2acf8d(new Error('XR\x20session'+'\x20is\x20alread'+'y\x20started'));return;}this['_camera']=_0x4d37d1,this['_camera']['camera']['xr']=this,this['_type']=_0x2f84dd,this['_spaceType']=_0x30f60b,this['_framebuff'+'erScaleFac'+'tor']=(_0x260fb6==null?void(-0x1c9e+0x1*0x69b+0x1603):_0x260fb6['framebuffe'+'rScaleFact'+'or'])??-0x84*0x31+0x1d46+0x1*-0x401,this['_setClipPl'+'anes'](_0x4d37d1['nearClip'],_0x4d37d1['farClip']);const _0x5cb581={'requiredFeatures':[_0x30f60b],'optionalFeatures':[]},_0x3b00ce=this['app']['graphicsDe'+'vice'];_0x3b00ce!=null&&_0x3b00ce['isWebGPU']&&_0x5cb581['requiredFe'+'atures']['push']('webgpu');const _0x3dbfe6=_0x3b00ce==null?void(-0x1692+0x1afe+-0x2*0x236):_0x3b00ce['isWebGL2'];if(_0x2f84dd===$o){if(_0x5cb581['optionalFe'+'atures']['push']('light-esti'+'mation'),_0x5cb581['optionalFe'+'atures']['push']('hit-test'),_0x260fb6&&(_0x260fb6['imageTrack'+'ing']&&this['imageTrack'+'ing']['supported']&&_0x5cb581['optionalFe'+'atures']['push']('image-trac'+'king'),_0x260fb6['planeDetec'+'tion']&&_0x5cb581['optionalFe'+'atures']['push']('plane-dete'+'ction'),_0x260fb6['meshDetect'+'ion']&&_0x5cb581['optionalFe'+'atures']['push']('mesh-detec'+'tion')),this['domOverlay']['supported']&&this['domOverlay']['root']&&(_0x5cb581['optionalFe'+'atures']['push']('dom-overla'+'y'),_0x5cb581['domOverlay']={'root':this['domOverlay']['root']}),_0x260fb6&&_0x260fb6['anchors']&&this['anchors']['supported']&&_0x5cb581['optionalFe'+'atures']['push']('anchors'),_0x260fb6&&_0x260fb6['depthSensi'+'ng']&&this['views']['supportedD'+'epth']){_0x5cb581['optionalFe'+'atures']['push']('depth-sens'+'ing');const _0x4c3714=[],_0x5b8e9f=[];if(_0x4c3714['push'](P0,dU),_0x5b8e9f['push'](I0,M0,D0),_0x260fb6['depthSensi'+'ng']['usagePrefe'+'rence']){const _0x3b38ed=_0x4c3714['indexOf'](_0x260fb6['depthSensi'+'ng']['usagePrefe'+'rence']);_0x3b38ed!==-(0x11*0x1bb+-0x263b+0x8d1)&&_0x4c3714['splice'](_0x3b38ed,0x1ede+0x2484+-0x2f*0x16f),_0x4c3714['unshift'](_0x260fb6['depthSensi'+'ng']['usagePrefe'+'rence']);}if(_0x260fb6['depthSensi'+'ng']['dataFormat'+'Preference']){const _0x24a6c7=_0x5b8e9f['indexOf'](_0x260fb6['depthSensi'+'ng']['dataFormat'+'Preference']);_0x24a6c7!==-(0x248e+-0x1*-0x713+-0x2ba0)&&_0x5b8e9f['splice'](_0x24a6c7,-0x14*0xb5+0xfc8+-0x1a3*0x1),_0x5b8e9f['unshift'](_0x260fb6['depthSensi'+'ng']['dataFormat'+'Preference']);}_0x5cb581['depthSensi'+'ng']={'usagePreference':_0x4c3714,'dataFormatPreference':_0x5b8e9f};}_0x3dbfe6&&_0x260fb6&&_0x260fb6['cameraColo'+'r']&&this['views']['supportedC'+'olor']&&_0x5cb581['optionalFe'+'atures']['push']('camera-acc'+'ess');}_0x5cb581['optionalFe'+'atures']['push']('hand-track'+'ing'),_0x260fb6&&_0x260fb6['optionalFe'+'atures']&&(_0x5cb581['optionalFe'+'atures']=_0x5cb581['optionalFe'+'atures']['concat'](_0x260fb6['optionalFe'+'atures'])),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['images']['length']?this['imageTrack'+'ing']['prepareIma'+'ges']((_0x2f9378,_0x609781)=>{if(_0x2f9378){_0x2acf8d&&_0x2acf8d(_0x2f9378),this['fire']('error',_0x2f9378);return;}_0x609781!==null&&(_0x5cb581['trackedIma'+'ges']=_0x609781),this['_onStartOp'+'tionsReady'](_0x2f84dd,_0x30f60b,_0x5cb581,_0x2acf8d);}):this['_onStartOp'+'tionsReady'](_0x2f84dd,_0x30f60b,_0x5cb581,_0x2acf8d);}['_onStartOp'+'tionsReady'](_0x53bbd1,_0x34a8c0,_0x369a31,_0x9b0a66){const _0x2b51c1=this['isPC']?{'requiredFeatures':['local-floo'+'r']}:_0x369a31;navigator['xr']['requestSes'+'sion'](_0x53bbd1,_0x2b51c1)['then'](_0x276e8d=>{this['_onSession'+'Start'](_0x276e8d,_0x34a8c0,_0x9b0a66);})['catch'](_0x330e3e=>{this['_camera']['camera']['xr']=null,this['_camera']=null,this['_type']=null,this['_spaceType']=null,_0x9b0a66&&_0x9b0a66(_0x330e3e),this['fire']('error',_0x330e3e);});}['end'](_0xa08331){if(!this['_session']){_0xa08331&&_0xa08331(new Error('XR\x20Session'+'\x20is\x20not\x20in'+'itialized'));return;}this['webglBindi'+'ng']=null,_0xa08331&&this['once']('end',_0xa08331),this['_session']['end']();}['isAvailabl'+'e'](_0x1efdf5){return this['_available'][_0x1efdf5];}['_deviceAva'+'ilabilityC'+'heck'](){for(const _0x4ec0da in this['_available'])this['_sessionSu'+'pportCheck'](_0x4ec0da);}['initiateRo'+'omCapture'](_0x2b523e){if(!this['_session']){_0x2b523e(new Error('Session\x20is'+'\x20not\x20activ'+'e'));return;}if(!this['_session']['initiateRo'+'omCapture']){_0x2b523e(new Error('Session\x20do'+'es\x20not\x20sup'+'port\x20manua'+'l\x20room\x20cap'+'ture'));return;}this['_session']['initiateRo'+'omCapture']()['then'](()=>{_0x2b523e&&_0x2b523e(null);})['catch'](_0x334fad=>{_0x2b523e&&_0x2b523e(_0x334fad);});}['updateTarg'+'etFrameRat'+'e'](_0xe4e9e3,_0x48cbb7){var _0x15b1af;if(!((_0x15b1af=this['_session'])!=null&&_0x15b1af['updateTarg'+'etFrameRat'+'e'])){_0x48cbb7==null||_0x48cbb7(new Error('unable\x20to\x20'+'update\x20fra'+'meRate'));return;}this['_session']['updateTarg'+'etFrameRat'+'e'](_0xe4e9e3)['then'](()=>{_0x48cbb7==null||_0x48cbb7();})['catch'](_0x5e6f07=>{_0x48cbb7==null||_0x48cbb7(_0x5e6f07);});}['_sessionSu'+'pportCheck'](_0x40ff14){navigator['xr']['isSessionS'+'upported'](_0x40ff14)['then'](_0x265612=>{this['_available'][_0x40ff14]!==_0x265612&&(this['_available'][_0x40ff14]=_0x265612,this['fire']('available',_0x40ff14,_0x265612),this['fire']('available:'+_0x40ff14,_0x265612));})['catch'](_0x262251=>{this['fire']('error',_0x262251);});}['_onSession'+'Start'](_0x3ab15d,_0x5e14bd,_0x191740){let _0x2168ae=!(-0xa*0x105+0x18*-0xa3+-0xb*-0x251);this['_session']=_0x3ab15d;const _0x3e2780=()=>{this['fire']('visibility'+':change',_0x3ab15d['visibility'+'State']);},_0x3f0371=()=>{this['_setClipPl'+'anes'](this['_camera']['nearClip'],this['_camera']['farClip']);},_0x4b98e9=()=>{this['_camera']&&(this['_camera']['off']('set_nearCl'+'ip',_0x3f0371),this['_camera']['off']('set_farCli'+'p',_0x3f0371),this['_camera']['camera']['xr']=null,this['_camera']=null),_0x3ab15d['removeEven'+'tListener']('end',_0x4b98e9),_0x3ab15d['removeEven'+'tListener']('visibility'+'change',_0x3e2780),_0x2168ae||this['fire']('end'),this['_session']=null,this['_reference'+'Space']=null,this['_width']=-0x1410+-0x2664+0x3a74,this['_height']=-0x52a+0x2a1*0x2+-0xc*0x2,this['_type']=null,this['_spaceType']=null,this['app']['systems']&&this['app']['tick']();};_0x3ab15d['addEventLi'+'stener']('end',_0x4b98e9),_0x3ab15d['addEventLi'+'stener']('visibility'+'change',_0x3e2780),this['_camera']['on']('set_nearCl'+'ip',_0x3f0371),this['_camera']['on']('set_farCli'+'p',_0x3f0371),w['assert'](window,'window\x20is\x20'+'needed\x20to\x20'+'scale\x20the\x20'+'XR\x20framebu'+'ffer.\x20Are\x20'+'you\x20runnin'+'g\x20XR\x20headl'+'ess?'),this['_createBas'+'eLayer'](),this['session']['supportedF'+'rameRates']?this['_supported'+'FrameRates']=Array['from'](this['session']['supportedF'+'rameRates']):this['_supported'+'FrameRates']=null,this['_session']['addEventLi'+'stener']('frameratec'+'hange',()=>{var _0x367ab3;this['fire']('frameratec'+'hange',(_0x367ab3=this['_session'])==null?void(-0x25e8+0xc2c+0x19bc):_0x367ab3['frameRate']);}),_0x3ab15d['requestRef'+'erenceSpac'+'e'](_0x5e14bd)['then'](_0x22ca89=>{this['_reference'+'Space']=_0x22ca89,this['app']['tick'](),_0x191740&&_0x191740(null),this['fire']('start');})['catch'](_0x4b9da9=>{_0x2168ae=!(-0xe6e+-0x1*-0x23e9+0x75*-0x2f),_0x3ab15d['end'](),_0x191740&&_0x191740(_0x4b9da9),this['fire']('error',_0x4b9da9);});}['_setClipPl'+'anes'](_0x4e4f93,_0x83482e){this['_depthNear']===_0x4e4f93&&this['_depthFar']===_0x83482e||(this['_depthNear']=_0x4e4f93,this['_depthFar']=_0x83482e,this['_session']&&this['_session']['updateRend'+'erState']({'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_createBas'+'eLayer'](){const _0x1a501c=this['app']['graphicsDe'+'vice'],_0x3e96ba=_0x1a501c['maxPixelRa'+'tio']/window['devicePixe'+'lRatio']*this['_framebuff'+'erScaleFac'+'tor'];if(this['_baseLayer']=new XRWebGLLayer(this['_session'],_0x1a501c['gl'],{'alpha':!(-0x1*0x23bb+-0x51*-0xb+-0x20*-0x102),'depth':!(-0xb8c+-0xa7d+-0x1*-0x1609),'stencil':!(0x10ff+0x1cef+-0x2dee),'framebufferScaleFactor':_0x3e96ba,'antialias':!(0x23fb+0xd6e+-0xf8*0x33)}),_0x1a501c!=null&&_0x1a501c['isWebGL2']&&window['XRWebGLBin'+'ding'])try{this['webglBindi'+'ng']=new XRWebGLBinding(this['_session'],_0x1a501c['gl']);}catch(_0x3bccd5){this['fire']('error',_0x3bccd5);}this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']});}['_onDeviceL'+'ost'](){this['_session']&&(this['webglBindi'+'ng']&&(this['webglBindi'+'ng']=null),this['_baseLayer']=null,this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_onDeviceR'+'estored'](){this['_session']&&setTimeout(()=>{this['app']['graphicsDe'+'vice']['gl']['makeXRComp'+'atible']()['then'](()=>{this['_createBas'+'eLayer']();})['catch'](_0x2f9d49=>{this['fire']('error',_0x2f9d49);});},-0x155*0x7+-0x1*-0x13da+-0xa87);}['update'](_0x568ac8){if(!this['_session'])return!(-0x2380+0xb74+0x180d);const _0x530860=_0x568ac8['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rWidth'],_0x1fa531=_0x568ac8['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rHeight'];(this['_width']!==_0x530860||this['_height']!==_0x1fa531)&&(this['_width']=_0x530860,this['_height']=_0x1fa531,this['app']['graphicsDe'+'vice']['setResolut'+'ion'](_0x530860,_0x1fa531));const _0x5bda14=_0x568ac8['getViewerP'+'ose'](this['_reference'+'Space']);if(!_0x5bda14)return!(0x1e0+-0x9ab+0x7cc);const _0x3f5e87=this['views']['list']['length'];this['views']['update'](_0x568ac8,_0x5bda14['views']);const _0x5c106c=_0x5bda14['transform']['position'],_0xb8a96f=_0x5bda14['transform']['orientatio'+'n'];if(this['_localPosi'+'tion']['set'](_0x5c106c['x'],_0x5c106c['y'],_0x5c106c['z']),this['_localRota'+'tion']['set'](_0xb8a96f['x'],_0xb8a96f['y'],_0xb8a96f['z'],_0xb8a96f['w']),_0x3f5e87===0x2570+0x1c03+-0x4173&&this['views']['list']['length']>0x9*-0x31d+0xd5d+-0x7*-0x218){const _0x2f72ef=new te(),_0x5b3a2b=this['views']['list'][0x97*-0x2c+0x3e7+0x160d];_0x2f72ef['copy'](_0x5b3a2b['projMat']);const _0x20729e=_0x2f72ef['data'],_0x509102=(0xc2d+-0x1*0x24c3+0x1898)*Math['atan']((-0x2278+0x3a4*-0x6+0x3851)/_0x20729e[-0x152b*0x1+0x18f0+-0x3c0])*(0x2*-0x6ac+-0x59*0x3+0xf17*0x1)/Math['PI'],_0x2b6684=_0x20729e[0x13aa+-0x2af+-0x10f6]/_0x20729e[-0x362*0x1+-0x1fbb*0x1+-0x59*-0x65],_0x47908d=_0x20729e[-0xd4*-0x8+0x16c3*0x1+-0x1d55]/(_0x20729e[-0x153f+0x948+0xc01*0x1]+(-0x1d34+0x181e+0x517)),_0x26492c=_0x20729e[-0x2b4*0xd+0x3*-0x6f+0x247f]/(_0x20729e[-0x14a7+0x1*-0x172+0x1*0x1623]-(0x1cf6+-0xa43*0x1+-0x2*0x959));this['_camera']['camera']['setXrPrope'+'rties']({'aspectRatio':_0x2b6684,'farClip':_0x47908d,'fov':_0x509102,'horizontalFov':!(0x22*-0xe+-0xa*-0x2f5+-0x1bb5),'nearClip':_0x26492c});}return this['_camera']['camera']['_node']['setLocalPo'+'sition'](this['_localPosi'+'tion']),this['_camera']['camera']['_node']['setLocalRo'+'tation'](this['_localRota'+'tion']),this['input']['update'](_0x568ac8),this['_type']===$o&&(this['hitTest']['supported']&&this['hitTest']['update'](_0x568ac8),this['lightEstim'+'ation']['supported']&&this['lightEstim'+'ation']['update'](_0x568ac8),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['update'](_0x568ac8),this['anchors']['supported']&&this['anchors']['update'](_0x568ac8),this['planeDetec'+'tion']['supported']&&this['planeDetec'+'tion']['update'](_0x568ac8),this['meshDetect'+'ion']['supported']&&this['meshDetect'+'ion']['update'](_0x568ac8)),this['fire']('update',_0x568ac8),!(0xb*0xd6+0x38*-0x2f+-0x116*-0x1);}get['supported'](){return this['_supported'];}get['active'](){return!!this['_session'];}get['type'](){return this['_type'];}get['spaceType'](){return this['_spaceType'];}get['session'](){return this['_session'];}get['frameRate'](){var _0x476841;return((_0x476841=this['_session'])==null?void(0xd05+0x17*-0xdd+0x6d6):_0x476841['frameRate'])??null;}get['supportedF'+'rameRates'](){return this['_supported'+'FrameRates'];}get['framebuffe'+'rScaleFact'+'or'](){return this['_framebuff'+'erScaleFac'+'tor'];}set['fixedFovea'+'tion'](_0x3bde82){var _0x18f3c2;(((_0x18f3c2=this['_baseLayer'])==null?void(-0x5c0+0x14b5+-0x1*0xef5):_0x18f3c2['fixedFovea'+'tion'])??null)!==null&&(this['app']['graphicsDe'+'vice']['samples']>0x1632+0x25cd+-0x3bfe&&w['warn']('Fixed\x20Fove'+'ation\x20is\x20i'+'gnored.\x20Di'+'sable\x20anti'+'-aliasing\x20'+'for\x20it\x20to\x20'+'be\x20effecti'+'ve.'),this['_baseLayer']['fixedFovea'+'tion']=_0x3bde82);}get['fixedFovea'+'tion'](){var _0x54f5a6;return((_0x54f5a6=this['_baseLayer'])==null?void(-0x1f6b+0x2512+0x1*-0x5a7):_0x54f5a6['fixedFovea'+'tion'])??null;}get['camera'](){return this['_camera']?this['_camera']['entity']:null;}get['visibility'+'State'](){return this['_session']?this['_session']['visibility'+'State']:null;}}h(ln,'EVENT_AVAI'+'LABLE','available'),h(ln,'EVENT_STAR'+'T','start'),h(ln,'EVENT_END','end'),h(ln,'EVENT_UPDA'+'TE','update'),h(ln,'EVENT_ERRO'+'R','error');class $U extends Ks{constructor(_0x231a28,_0xd40785={}){super(_0x231a28);const _0xf99d97=new tL();_0xf99d97['graphicsDe'+'vice']=_0xd40785['graphicsDe'+'vice']??this['createDevi'+'ce'](_0x231a28,_0xd40785),this['addCompone'+'ntSystems'](_0xf99d97),this['addResourc'+'eHandles'](_0xf99d97),_0xf99d97['elementInp'+'ut']=_0xd40785['elementInp'+'ut'],_0xf99d97['keyboard']=_0xd40785['keyboard'],_0xf99d97['mouse']=_0xd40785['mouse'],_0xf99d97['touch']=_0xd40785['touch'],_0xf99d97['gamepads']=_0xd40785['gamepads'],_0xf99d97['scriptPref'+'ix']=_0xd40785['scriptPref'+'ix'],_0xf99d97['assetPrefi'+'x']=_0xd40785['assetPrefi'+'x'],_0xf99d97['scriptsOrd'+'er']=_0xd40785['scriptsOrd'+'er'],_0xf99d97['soundManag'+'er']=new Pw(),_0xf99d97['lightmappe'+'r']=pL,_0xf99d97['batchManag'+'er']=IE,_0xf99d97['xr']=ln,this['init'](_0xf99d97);}['createDevi'+'ce'](_0x59906b,_0x72892e){return _0x72892e['graphicsDe'+'viceOption'+'s']||(_0x72892e['graphicsDe'+'viceOption'+'s']={}),Ae['browser']&&navigator['xr']&&(_0x72892e['graphicsDe'+'viceOption'+'s']['xrCompatib'+'le']=!(-0x3f6+-0xa3a+-0x1c6*-0x8)),_0x72892e['graphicsDe'+'viceOption'+'s']['alpha']=_0x72892e['graphicsDe'+'viceOption'+'s']['alpha']||!(-0x263f+-0x1*-0x4a3+0x219d),new aw(_0x59906b,_0x72892e['graphicsDe'+'viceOption'+'s']);}['addCompone'+'ntSystems'](_0x35d5c7){_0x35d5c7['componentS'+'ystems']=[wm,nR,NR,RL,BL,KR,zO,xF,wF,kF,hF,VL,kO,YO,LR,$L,aF,oF,mF,XR,UR,gF,BF];}['addResourc'+'eHandles'](_0x4722ad){_0x4722ad['resourceHa'+'ndlers']=[zF,WN,$N,XN,Ek,yk,oU,Ok,mk,jN,Dk,bk,JN,pk,QN,Ik,uk,ek,tk,YN,Nk,Lk,Rk,ZN,fk];}}class XU extends me{constructor(_0x5ef5e0,_0x4c9118){super(),h(this,'_assets',new Set()),h(this,'_loadingAs'+'sets',new Set()),h(this,'_waitingAs'+'sets',new Set()),h(this,'_loading',!(-0x2*0xa57+0xe8*0x1+-0x3d*-0x53)),h(this,'_loaded',!(0x1*-0x1+-0x216+0x218)),h(this,'_failed',[]),(this['_registry']=_0x4c9118,_0x5ef5e0['forEach'](_0x50b45c=>{if(_0x50b45c instanceof pe)_0x50b45c['registry']||(_0x50b45c['registry']=_0x4c9118),this['_assets']['add'](_0x50b45c);else{const _0x241efc=_0x4c9118['get'](_0x50b45c);_0x241efc?this['_assets']['add'](_0x241efc):this['_waitForAs'+'set'](_0x50b45c);}}));}['destroy'](){this['_registry']['off']('load',this['_onLoad']),this['_registry']['off']('error',this['_onError']),this['_waitingAs'+'sets']['forEach'](_0x3d7da4=>{this['_registry']['off']('add:'+_0x3d7da4,this['_onAddAsse'+'t']);}),this['off']('progress'),this['off']('load');}['_assetHasD'+'ependencie'+'s'](_0x2d4aec){var _0x51b18d;return _0x2d4aec['type']==='model'&&((_0x51b18d=_0x2d4aec['file'])==null?void(-0x1c65*0x1+0x39d*-0x9+-0x153*-0x2e):_0x51b18d['url'])&&_0x2d4aec['file']['url']&&_0x2d4aec['file']['url']['match'](/.json$/g);}['load'](_0xb931f4,_0x16cbd7){if(this['_loading']){console['debug']('AssetListL'+'oader:\x20Loa'+'d\x20function'+'\x20called\x20mu'+'ltiple\x20tim'+'es.');return;}this['_loading']=!(0x653*-0x1+0x169*0x13+-0x2*0xa3c),this['_callback']=_0xb931f4,this['_scope']=_0x16cbd7,this['_registry']['on']('load',this['_onLoad'],this),this['_registry']['on']('error',this['_onError'],this);let _0x577b00=!(0x24*0x67+-0x46*-0x4a+-0x22b7);this['_assets']['forEach'](_0x3fd24e=>{_0x3fd24e['loaded']||(_0x577b00=!(-0x1192+-0x2508*-0x1+-0x1376),this['_assetHasD'+'ependencie'+'s'](_0x3fd24e)&&this['_registry']['loadFromUr'+'l'](_0x3fd24e['file']['url'],_0x3fd24e['type'],(_0x4421cb,_0x20be08)=>{if(_0x4421cb){this['_onError'](_0x4421cb,_0x3fd24e);return;}this['_onLoad'](_0x3fd24e);}),this['_loadingAs'+'sets']['add'](_0x3fd24e),this['_registry']['add'](_0x3fd24e));}),this['_loadingAs'+'sets']['forEach'](_0x32a2c6=>{this['_assetHasD'+'ependencie'+'s'](_0x32a2c6)||this['_registry']['load'](_0x32a2c6);}),!_0x577b00&&this['_waitingAs'+'sets']['size']===-0x5d*-0x1d+0x6*-0x59c+0x171f&&this['_loadingCo'+'mplete']();}['ready'](_0xc0f1f2,_0x4f7da9=this){this['_loaded']?_0xc0f1f2['call'](_0x4f7da9,Array['from'](this['_assets'])):this['once']('load',_0xe9de1d=>{_0xc0f1f2['call'](_0x4f7da9,_0xe9de1d);});}['_loadingCo'+'mplete'](){this['_loaded']||(this['_loaded']=!(-0x1c19+0x19e9+0x230),this['_registry']['off']('load',this['_onLoad'],this),this['_registry']['off']('error',this['_onError'],this),this['_failed']['length']?(this['_callback']&&this['_callback']['call'](this['_scope'],'Failed\x20to\x20'+'load\x20some\x20'+'assets',this['_failed']),this['fire']('error',this['_failed'])):(this['_callback']&&this['_callback']['call'](this['_scope']),this['fire']('load',Array['from'](this['_assets']))));}['_onLoad'](_0x197e5a){this['_loadingAs'+'sets']['has'](_0x197e5a)&&(this['fire']('progress',_0x197e5a),this['_loadingAs'+'sets']['delete'](_0x197e5a)),this['_loadingAs'+'sets']['size']===0xb3*0x2a+-0x1342+-0xa1c&&setTimeout(()=>{this['_loadingCo'+'mplete']();},-0x3fd*-0x4+0x355*-0x9+-0xe09*-0x1);}['_onError'](_0x30a453,_0x4c8ab5){this['_loadingAs'+'sets']['has'](_0x4c8ab5)&&(this['_failed']['push'](_0x4c8ab5),this['_loadingAs'+'sets']['delete'](_0x4c8ab5)),this['_loadingAs'+'sets']['size']===-0x1b72+-0x2518+-0x1*-0x408a&&setTimeout(()=>{this['_loadingCo'+'mplete']();},0x338*-0x2+-0x1*-0x1505+-0x1*0xe95);}['_onAddAsse'+'t'](_0x487f92){this['_waitingAs'+'sets']['delete'](_0x487f92),this['_assets']['add'](_0x487f92),_0x487f92['loaded']||(this['_loadingAs'+'sets']['add'](_0x487f92),this['_registry']['load'](_0x487f92));}['_waitForAs'+'set'](_0x6d82a3){this['_waitingAs'+'sets']['add'](_0x6d82a3),this['_registry']['once']('add:'+_0x6d82a3,this['_onAddAsse'+'t'],this);}}const Fc=[],_U=[[],[],[]];class gU extends ys{constructor(_0x5cb2df,_0xb83543){super(_0x5cb2df),h(this,'viewBindGr'+'oups',[]),this['renderer']=_0xb83543;}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x18c984=>{_0x18c984['defaultUni'+'formBuffer']['destroy'](),_0x18c984['destroy']();}),this['viewBindGr'+'oups']['length']=0x1839+0x13*-0x1ec+0xc4b;}['update'](_0x29f20f,_0x54b89a,_0xde4f24,_0x8a9871){this['camera']=_0x29f20f,this['scene']=_0x54b89a,this['layers']=_0xde4f24,this['mapping']=_0x8a9871;}['execute'](){const _0x3ae277=this['device'],{renderer:_0x597f1d,camera:_0xce930c,scene:_0x49e499,layers:_0x564437,mapping:_0x311972,renderTarget:_0x588c81}=this,_0x2aee57=_0x49e499['layers']['layerList'],_0x4d549c=_0x49e499['layers']['subLayerEn'+'abled'],_0x384b7c=_0x49e499['layers']['subLayerLi'+'st'];for(let _0x5297fd=-0x1fa5*0x1+0x2352+-0x1*0x3ad;_0x5297fd<_0x2aee57['length'];_0x5297fd++){const _0xdeec62=_0x2aee57[_0x5297fd];if(!(_0x564437&&_0x564437['indexOf'](_0xdeec62)<0x91d*0x3+0x31d*-0x1+0x1bb*-0xe)&&_0xdeec62['enabled']&&_0x4d549c[_0x5297fd]&&_0xdeec62['camerasSet']['has'](_0xce930c['camera'])){const _0x11f4bf=_0x384b7c[_0x5297fd];Q['pushGpuMar'+'ker'](_0x3ae277,_0xdeec62['name']+'('+(_0x11f4bf?'TRANSP':'OPAQUE')+')'),_0xdeec62['_clearDept'+'hBuffer']&&_0x597f1d['clear'](_0xce930c['camera'],!(-0x7*-0x1+0x127*0x16+-0x1960*0x1),!(0x5a*-0xf+0x2217*-0x1+0x275d),!(0x6e2+-0x866+0x1*0x185));const _0x32971b=_0xdeec62['meshInstan'+'ces'];for(let _0x51bcea=0x4c*0x51+-0xf52+-0x8ba;_0x51bcea<_0x32971b['length'];_0x51bcea++){const _0x55f4f9=_0x32971b[_0x51bcea];_0x55f4f9['pick']&&_0x55f4f9['transparen'+'t']===_0x11f4bf&&(Fc['push'](_0x55f4f9),_0x311972['set'](_0x55f4f9['id'],_0x55f4f9));}Fc['length']>0x1*0x2021+-0x1ce2+-0x33f&&(_0x49e499['clusteredL'+'ightingEna'+'bled']&&_0x597f1d['worldClust'+'ersAllocat'+'or']['empty']['activate'](),_0x597f1d['setCameraU'+'niforms'](_0xce930c['camera'],_0x588c81),_0x3ae277['supportsUn'+'iformBuffe'+'rs']&&_0x597f1d['setupViewU'+'niformBuff'+'ers'](this['viewBindGr'+'oups'],_0x597f1d['viewUnifor'+'mFormat'],_0x597f1d['viewBindGr'+'oupFormat'],null),_0x597f1d['renderForw'+'ard'](_0xce930c['camera'],_0x588c81,Fc,_U,Zn,_0x992cff=>{_0x3ae277['setBlendSt'+'ate'](pt['NOBLEND']);}),Fc['length']=0x1*0x1c63+0x2c8+-0x1f2b),Q['popGpuMark'+'er'](_0x3ae277);}}}}const Rf=new Set(),SU=new re();let qU=class{constructor(_0x4ab0c3,_0x98ef16,_0x339893){h(this,'renderTarg'+'et',null),h(this,'mapping',new Map()),h(this,'deviceVali'+'d',!(0x1918+-0x12b3+-0x665)),(w['assert'](_0x4ab0c3),this['renderer']=_0x4ab0c3['renderer'],this['device']=_0x4ab0c3['graphicsDe'+'vice'],this['renderPass']=new gU(this['device'],_0x4ab0c3['renderer']),this['width']=-0x3*0x75c+-0x6b*-0x17+0xc77,this['height']=0xa*0x27a+0xe7*0x1a+-0x1*0x303a,this['resize'](_0x98ef16,_0x339893),this['device']['on']('destroy',()=>{this['deviceVali'+'d']=!(-0x611+0x2f6*-0x6+0x17d6);}));}['getSelecti'+'on'](_0x1731fc,_0x441c43,_0x5cf514=-0x250d+0x1fc+0x2312,_0x306f3f=0x6b9+0x7*-0x59+-0x449){const _0x21ba58=this['device'];if(_0x21ba58['isWebGPU'])return w['errorOnce']('pc.Picker#'+'getSelecti'+'on\x20is\x20not\x20'+'supported\x20'+'on\x20WebGPU,'+'\x20use\x20pc.Pi'+'cker#getSe'+'lectionAsy'+'nc\x20instead'+'.'),[];w['assert'](typeof _0x1731fc!='object','Picker.get'+'Selection:'+'param\x20\x27rec'+'t\x27\x20is\x20depr'+'ecated,\x20us'+'e\x20\x27x,\x20y,\x20w'+'idth,\x20heig'+'ht\x27\x20instea'+'d.'),_0x441c43=this['renderTarg'+'et']['height']-(_0x441c43+_0x306f3f);const _0x4c8309=this['sanitizeRe'+'ct'](_0x1731fc,_0x441c43,_0x5cf514,_0x306f3f);_0x21ba58['setRenderT'+'arget'](this['renderTarg'+'et']),_0x21ba58['updateBegi'+'n']();const _0x500289=new Uint8Array((-0x21e6+0x2566*-0x1+0x4750)*_0x4c8309['z']*_0x4c8309['w']);return _0x21ba58['readPixels'](_0x4c8309['x'],_0x4c8309['y'],_0x4c8309['z'],_0x4c8309['w'],_0x500289),_0x21ba58['updateEnd'](),this['decodePixe'+'ls'](_0x500289,this['mapping']);}['getSelecti'+'onAsync'](_0x4a98cf,_0x4a72c4,_0x747192=-0x19bb+0x1388+0x634,_0x264a9d=-0x2ff*0x5+-0x2446+-0x6*-0x88b){var _0x903c5f;(_0x903c5f=this['device'])!=null&&_0x903c5f['isWebGL2']&&(_0x4a72c4=this['renderTarg'+'et']['height']-(_0x4a72c4+_0x264a9d));const _0x516720=this['sanitizeRe'+'ct'](_0x4a98cf,_0x4a72c4,_0x747192,_0x264a9d);return this['renderTarg'+'et']['colorBuffe'+'r']['read'](_0x516720['x'],_0x516720['y'],_0x516720['z'],_0x516720['w'],{'renderTarget':this['renderTarg'+'et'],'immediate':!(-0x49b+-0x1eb3+0x234e)})['then'](_0x20cb20=>this['decodePixe'+'ls'](_0x20cb20,this['mapping']));}['sanitizeRe'+'ct'](_0x1ad022,_0x154d87,_0x2e576d,_0x13e0b8){const _0x88a2a6=this['renderTarg'+'et']['width'],_0x3ce87c=this['renderTarg'+'et']['height'];return _0x1ad022=Y['clamp'](Math['floor'](_0x1ad022),-0x1e8+-0x56a+0x752,_0x88a2a6-(0xe8c+-0x1fc8+0x1*0x113d)),_0x154d87=Y['clamp'](Math['floor'](_0x154d87),-0x79*-0x21+0x17f5+0xa6*-0x3d,_0x3ce87c-(0x262c+-0x1d*0x112+-0x5*0x16d)),_0x2e576d=Math['floor'](Math['max'](_0x2e576d,0x15+-0x1bc*-0x11+-0x1d90)),_0x2e576d=Math['min'](_0x2e576d,_0x88a2a6-_0x1ad022),_0x13e0b8=Math['floor'](Math['max'](_0x13e0b8,-0x1793+0x193a+-0x1*0x1a6)),_0x13e0b8=Math['min'](_0x13e0b8,_0x3ce87c-_0x154d87),SU['set'](_0x1ad022,_0x154d87,_0x2e576d,_0x13e0b8);}['decodePixe'+'ls'](_0x368589,_0x2e6d0c){const _0x2a1193=[];if(this['deviceVali'+'d']){const _0x3e93f4=_0x368589['length'];for(let _0x1d4a31=-0x9ad+-0x1fe4+0x2991;_0x1d4a31<_0x3e93f4;_0x1d4a31+=-0x184a*-0x1+-0x52b+-0x131b){const _0x272e00=_0x368589[_0x1d4a31+(0x2498*0x1+-0x1*0x2f6+-0x21a2)],_0x47668b=_0x368589[_0x1d4a31+(-0x141+0x37a+-0x238)],_0x247cc2=_0x368589[_0x1d4a31+(-0x1160+-0x4d4+-0x2*-0xb1b)],_0x38996b=(_0x368589[_0x1d4a31+(-0x109e+0xd7a+-0x10d*-0x3)]<<0x2133+-0x255f*-0x1+-0x467a|_0x272e00<<0x8a*-0x25+0x62e+0x14*0xb1|_0x47668b<<0x1f4c+0x1911+0x51f*-0xb|_0x247cc2)>>>0x1*-0x173b+0x7*-0x43+0x1910*0x1;_0x38996b!==0x1dc8*-0x2d244+-0x9ab863f4+0x1eebe5d13&&Rf['add'](_0x2e6d0c['get'](_0x38996b));}Rf['forEach'](_0x27331a=>{_0x27331a&&_0x2a1193['push'](_0x27331a);}),Rf['clear']();}return _0x2a1193;}['allocateRe'+'nderTarget'](){const _0x3a657d=new _e(this['device'],{'format':Ne,'width':this['width'],'height':this['height'],'mipmaps':!(-0x87c+0x1*-0x8a3+-0x1120*-0x1),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':'pick'});this['renderTarg'+'et']=new gt({'colorBuffer':_0x3a657d,'depth':!(0x19dc+0x1*0xd21+0x1*-0x26fd)});}['releaseRen'+'derTarget'](){this['renderTarg'+'et']&&(this['renderTarg'+'et']['destroyTex'+'tureBuffer'+'s'](),this['renderTarg'+'et']['destroy'](),this['renderTarg'+'et']=null);}['prepare'](_0x70d92f,_0x2babff,_0x2d40f2){_0x2d40f2 instanceof Ot&&(_0x2d40f2=[_0x2d40f2]),(!this['renderTarg'+'et']||this['width']!==this['renderTarg'+'et']['width']||this['height']!==this['renderTarg'+'et']['height'])&&(this['releaseRen'+'derTarget'](),this['allocateRe'+'nderTarget']()),this['mapping']['clear']();const _0x1b9949=this['renderPass'];_0x1b9949['init'](this['renderTarg'+'et']),_0x1b9949['colorOps']['clearValue']=ie['WHITE'],_0x1b9949['colorOps']['clear']=!(0x121c+0xccc+-0xf74*0x2),_0x1b9949['depthStenc'+'ilOps']['clearDepth']=!(-0x1*0x181+-0x1*-0x220f+-0x208e),_0x1b9949['update'](_0x70d92f,_0x2babff,_0x2d40f2,this['mapping']),_0x1b9949['render']();}['resize'](_0x13eaf1,_0x45ee7a){this['width']=Math['floor'](_0x13eaf1),this['height']=Math['floor'](_0x45ee7a);}},cr,hr;const Of=new D(),RS=new D(),Ri=new Dn(),Ro=new Dn(),ep=new Dn();Ri['end']=new D(),Ro['end']=new D(),ep['end']=new D();const en=new D(),Nc=new D(),Ff=new D(),OS=new D(),Nf=new D(),kc=new D(),Uc=new D(),Bc=new D(),zc=new D(),kf=new D(),yU=new D(),tn=new D(),wo=new D(),Vc=new D(),Gc=new D(),Eo=new D(),FS=new D(),NS=new D(),kS=new D(),US=new D(),vU=new re();function BS(_0x4f6bb6,_0x3ef29d,_0x18b2b3){return yU['cross'](_0x4f6bb6,_0x3ef29d)['dot'](_0x18b2b3);}function xU(_0x3bd8f6,_0x4d300a,_0x52e2ea){en['sub2'](_0x4d300a,_0x3bd8f6),Nc['sub2'](_0x52e2ea[-0x5*-0x326+-0x1775+0x7b7],_0x3bd8f6),Ff['sub2'](_0x52e2ea[0xb2*0x1f+0x249b+-0x3a28],_0x3bd8f6),OS['sub2'](_0x52e2ea[0x1944+-0xb5*-0x11+-0x2547*0x1],_0x3bd8f6),kc['cross'](OS,en);let _0x2000d4=Nc['dot'](kc),_0x40b14e,_0x374d03;if(_0x2000d4>=0xdf*-0x1+0x1321+0x13*-0xf6){if(_0x40b14e=-Ff['dot'](kc),_0x40b14e<-0x1eff+0x3*0xac7+-0x9*0x26||(_0x374d03=BS(en,Ff,Nc),_0x374d03<-0x1d*0x43+0x3df+0x3b8))return-(0x11f9*-0x1+0x1215*0x1+0x9*-0x3);const _0x25fe8d=(-0x126b+-0xb0b*-0x3+-0xeb5)/(_0x40b14e+_0x2000d4+_0x374d03);Uc['copy'](_0x52e2ea[0xf97+0x129+-0x860*0x2])['mulScalar'](_0x40b14e*_0x25fe8d),Bc['copy'](_0x52e2ea[-0x35b*-0x3+-0x12ea+-0xce*-0xb])['mulScalar'](_0x2000d4*_0x25fe8d),zc['copy'](_0x52e2ea[-0x15b3+-0x5*-0xa+0x1583])['mulScalar'](_0x374d03*_0x25fe8d),kf['copy'](Uc)['add'](Bc)['add'](zc);}else{if(Nf['sub2'](_0x52e2ea[-0x13e6+0x49*-0x5+-0x1556*-0x1],_0x3bd8f6),_0x40b14e=Nf['dot'](kc),_0x40b14e<0x1c74+0x6*0x487+0x945*-0x6||(_0x374d03=BS(en,Nc,Nf),_0x374d03<-0x129d+0x9a*-0x1f+0x2543))return-(-0xa30+0x632+0xb*0x5d);_0x2000d4=-_0x2000d4;const _0x3d73b2=(-0x390*-0x7+0x1aa6+-0x1*0x3395)/(_0x40b14e+_0x2000d4+_0x374d03);Uc['copy'](_0x52e2ea[-0x209b+0x12f6+0x7*0x1f3])['mulScalar'](_0x40b14e*_0x3d73b2),Bc['copy'](_0x52e2ea[-0x19b2+-0x224*-0x8+-0xa9*-0xd])['mulScalar'](_0x2000d4*_0x3d73b2),zc['copy'](_0x52e2ea[-0x4fe+-0xe58+-0x26b*-0x8])['mulScalar'](_0x374d03*_0x3d73b2),kf['copy'](Uc)['add'](Bc)['add'](zc);}return en['sub2'](_0x52e2ea[-0x20d7+-0x1659+0x2*0x1b98],_0x52e2ea[-0x1*-0x140b+-0x1*0xbfc+0x2af*-0x3])['lengthSq']()<(0x2*-0x11d7+-0x24c+0x12fd*0x2+0.0001)*(0x11de*-0x1+-0x161a*0x1+0x9fe*0x4+0.0001)||en['sub2'](_0x52e2ea[-0x2*-0x8db+-0x1*0x25f+-0xf56],_0x52e2ea[0x187*-0x4+-0x48a+-0x1*-0xaa9])['lengthSq']()<(-0x1411+-0x534+-0x1*-0x1945+0.0001)*(0x11ff+0x1*0x103d+-0x223c+0.0001)?-(0x2270+-0x17b6+0xb7*-0xf):kf['sub'](_0x3bd8f6)['lengthSq']();}class Am{constructor(_0x1867e7,_0x541856,_0xd800bc){this['event']=_0x1867e7,this['element']=_0x541856,this['camera']=_0xd800bc,this['_stopPropa'+'gation']=!(-0x1*0xd85+0x1*-0xa2e+0x17b4);}['stopPropag'+'ation'](){this['_stopPropa'+'gation']=!(-0x241b+-0x1*-0x1a3b+-0x8*-0x13c),this['event']&&(this['event']['stopImmedi'+'atePropaga'+'tion'](),this['event']['stopPropag'+'ation']());}}class bo extends Am{constructor(_0x3dc3cf,_0x236207,_0x48f8b3,_0x35827f,_0x463ec8,_0x2a6268,_0x12644c){super(_0x3dc3cf,_0x236207,_0x48f8b3),this['x']=_0x35827f,this['y']=_0x463ec8,this['ctrlKey']=_0x3dc3cf['ctrlKey']||!(0x327+-0x10e0+0xdba),this['altKey']=_0x3dc3cf['altKey']||!(-0xb60+0x1025+-0x4c4),this['shiftKey']=_0x3dc3cf['shiftKey']||!(-0x1c0e+0x1102+-0x3*-0x3af),this['metaKey']=_0x3dc3cf['metaKey']||!(0x110d+0x85*0x44+0x20*-0x1a3),this['button']=_0x3dc3cf['button'],sa['isPointerL'+'ocked']()?(this['dx']=_0x3dc3cf['movementX']||_0x3dc3cf['webkitMove'+'mentX']||_0x3dc3cf['mozMovemen'+'tX']||-0x1*-0x2019+-0x1491+0x29*-0x48,this['dy']=_0x3dc3cf['movementY']||_0x3dc3cf['webkitMove'+'mentY']||_0x3dc3cf['mozMovemen'+'tY']||-0x1e9e+-0x26ee+0x22c6*0x2):(this['dx']=_0x35827f-_0x2a6268,this['dy']=_0x463ec8-_0x12644c),this['wheelDelta']=0x5*-0x689+-0x23*-0x6b+0x120c,_0x3dc3cf['type']==='wheel'&&(_0x3dc3cf['deltaY']>-0x1*-0x17c2+0x962+-0x2124?this['wheelDelta']=0x8cb*0x1+0x3*0x9fe+0x6*-0x676:_0x3dc3cf['deltaY']<0x3*-0xcd7+-0x23ae+0x4a33&&(this['wheelDelta']=-(0x10*0x20f+-0xe23+-0x6*0x322)));}}class Ao extends Am{constructor(_0x10653b,_0x2c90b8,_0x802987,_0x15ffee,_0x50f548,_0xdd8f1a){super(_0x10653b,_0x2c90b8,_0x802987),this['touches']=_0x10653b['touches'],this['changedTou'+'ches']=_0x10653b['changedTou'+'ches'],this['x']=_0x15ffee,this['y']=_0x50f548,this['touch']=_0xdd8f1a;}}class dr extends Am{constructor(_0x4a9195,_0xc2d0a3,_0x4293cd,_0xa9ea59){super(_0x4a9195,_0xc2d0a3,_0x4293cd),this['inputSourc'+'e']=_0xa9ea59;}}class Xo{constructor(_0x4a4ec9,_0x41cb69){this['_app']=null,this['_attached']=!(-0x231c+0x1*0x2a2+0x207b),this['_target']=null,this['_enabled']=!(0x1298+-0x246e+0x11d6),this['_lastX']=0x3*-0x63f+0x2184*0x1+-0xec7,this['_lastY']=-0x1*-0x88f+0x2530+0x31*-0xef,this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_touchstar'+'tHandler']=this['_handleTou'+'chStart']['bind'](this),this['_touchendH'+'andler']=this['_handleTou'+'chEnd']['bind'](this),this['_touchcanc'+'elHandler']=this['_touchendH'+'andler'],this['_touchmove'+'Handler']=this['_handleTou'+'chMove']['bind'](this),this['_sortHandl'+'er']=this['_sortEleme'+'nts']['bind'](this),this['_elements']=[],this['_hoveredEl'+'ement']=null,this['_pressedEl'+'ement']=null,this['_touchedEl'+'ements']={},this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired']={},this['_selectedE'+'lements']={},this['_selectedP'+'ressedElem'+'ents']={},this['_useMouse']=!_0x41cb69||_0x41cb69['useMouse']!==!(-0x17b9+0x982+0xe38),this['_useTouch']=!_0x41cb69||_0x41cb69['useTouch']!==!(-0xd20+0x94c+0x3d5),this['_useXr']=!_0x41cb69||_0x41cb69['useXr']!==!(0x3a2+-0x10a5*-0x2+0xd*-0x2d7),this['_selectEve'+'ntsAttache'+'d']=!(0x149+0x1518+-0x1660),Ae['touch']&&(this['_clickedEn'+'tities']={}),this['attach'](_0x4a4ec9);}set['enabled'](_0x54993f){this['_enabled']=_0x54993f;}get['enabled'](){return this['_enabled'];}set['app'](_0x1a32c4){this['_app']=_0x1a32c4;}get['app'](){return this['_app']||Ms();}['attach'](_0x53d2bf){this['_attached']&&(this['_attached']=!(0x1b39*0x1+0x2550+-0x4088),this['detach']()),this['_target']=_0x53d2bf,this['_attached']=!(-0x66+-0x19e4+-0xa*-0x2a1);const _0x52b1d8=Ae['passiveEve'+'nts']?{'passive':!(0x1e9c+-0x521*-0x1+-0x23bd)}:!(-0x2f*0x7d+0xb*0x156+0x842);this['_useMouse']&&(window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x52b1d8),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x52b1d8),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x52b1d8),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x52b1d8)),this['_useTouch']&&Ae['touch']&&(this['_target']['addEventLi'+'stener']('touchstart',this['_touchstar'+'tHandler'],_0x52b1d8),this['_target']['addEventLi'+'stener']('touchend',this['_touchendH'+'andler'],!(-0x2*-0x130b+-0x1103+0x1*-0x1512)),this['_target']['addEventLi'+'stener']('touchmove',this['_touchmove'+'Handler'],!(-0x1eab+0xa2e*0x3+0x1*0x22)),this['_target']['addEventLi'+'stener']('touchcance'+'l',this['_touchcanc'+'elHandler'],!(0xaca+0x22a*0x3+-0x1*0x1147))),this['attachSele'+'ctEvents']();}['attachSele'+'ctEvents'](){!this['_selectEve'+'ntsAttache'+'d']&&this['_useXr']&&this['app']&&this['app']['xr']&&this['app']['xr']['supported']&&(this['_clickedEn'+'tities']||(this['_clickedEn'+'tities']={}),this['_selectEve'+'ntsAttache'+'d']=!(-0x1*-0x19d2+0x2*0x10fc+-0x3bca*0x1),this['app']['xr']['on']('start',this['_onXrStart'],this));}['detach'](){if(!this['_attached'])return;this['_attached']=!(0xda+0xc*0xf8+-0xc79*0x1);const _0x146a28=Ae['passiveEve'+'nts']?{'passive':!(-0xdb4+0x6*0x405+-0x56*0x1f)}:!(0x206e+0x613*0x1+-0x2680);this['_useMouse']&&(window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x146a28),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x146a28),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x146a28),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x146a28)),this['_useTouch']&&(this['_target']['removeEven'+'tListener']('touchstart',this['_touchstar'+'tHandler'],_0x146a28),this['_target']['removeEven'+'tListener']('touchend',this['_touchendH'+'andler'],!(-0x1432+0x135f+0xd4)),this['_target']['removeEven'+'tListener']('touchmove',this['_touchmove'+'Handler'],!(-0x1*-0x1bef+0x94e*-0x1+0x950*-0x2)),this['_target']['removeEven'+'tListener']('touchcance'+'l',this['_touchcanc'+'elHandler'],!(0x187f*0x1+-0x1f2d+0x6af))),this['_selectEve'+'ntsAttache'+'d']&&(this['_selectEve'+'ntsAttache'+'d']=!(-0x22b9+-0x39*-0x6a+0x1*0xb20),this['app']['xr']['off']('start',this['_onXrStart'],this),this['app']['xr']['off']('end',this['_onXrEnd'],this),this['app']['xr']['off']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['off']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['off']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['off']('remove',this['_onXrInput'+'Remove'],this)),this['_target']=null;}['addElement'](_0xbbc025){this['_elements']['indexOf'](_0xbbc025)===-(-0x2*-0xb53+0x1057*-0x2+-0x1*-0xa09)&&this['_elements']['push'](_0xbbc025);}['removeElem'+'ent'](_0x2885e6){const _0xa7fe6b=this['_elements']['indexOf'](_0x2885e6);_0xa7fe6b!==-(0x12b*-0xd+-0x5c4+-0x12a*-0x12)&&this['_elements']['splice'](_0xa7fe6b,0x5*0x728+-0x235f+0x68*-0x1);}['_handleUp'](_0x30186c){this['_enabled']&&(sa['isPointerL'+'ocked']()||(this['_calcMouse'+'Coords'](_0x30186c),this['_onElement'+'MouseEvent']('mouseup',_0x30186c)));}['_handleDow'+'n'](_0x4b0d02){this['_enabled']&&(sa['isPointerL'+'ocked']()||(this['_calcMouse'+'Coords'](_0x4b0d02),this['_onElement'+'MouseEvent']('mousedown',_0x4b0d02)));}['_handleMov'+'e'](_0x5218cb){this['_enabled']&&(this['_calcMouse'+'Coords'](_0x5218cb),this['_onElement'+'MouseEvent']('mousemove',_0x5218cb),this['_lastX']=cr,this['_lastY']=hr);}['_handleWhe'+'el'](_0x1aa8af){this['_enabled']&&(this['_calcMouse'+'Coords'](_0x1aa8af),this['_onElement'+'MouseEvent']('mousewheel',_0x1aa8af));}['_determine'+'TouchedEle'+'ments'](_0x32447f){const _0x388b9e={},_0x4264a4=this['app']['systems']['camera']['cameras'];for(let _0x2cb07e=_0x4264a4['length']-(-0x1555+0x1881*-0x1+0x92b*0x5);_0x2cb07e>=0x75c+-0x2*-0x10b6+-0x28c8;_0x2cb07e--){const _0x4a0db9=_0x4264a4[_0x2cb07e];let _0x5a337e=0x739*0x2+0x7a9*0x2+-0x1dc4;const _0x1907df=_0x32447f['changedTou'+'ches']['length'];for(let _0x56f72b=0x27*-0x66+-0x1827+0x27b1;_0x56f72b<_0x1907df;_0x56f72b++){if(_0x388b9e[_0x32447f['changedTou'+'ches'][_0x56f72b]['identifier']]){_0x5a337e++;continue;}const _0x59bd91=Wc(_0x32447f['changedTou'+'ches'][_0x56f72b]),_0x4ee446=this['_getTarget'+'ElementByC'+'oords'](_0x4a0db9,_0x59bd91['x'],_0x59bd91['y']);_0x4ee446&&(_0x5a337e++,_0x388b9e[_0x32447f['changedTou'+'ches'][_0x56f72b]['identifier']]={'element':_0x4ee446,'camera':_0x4a0db9,'x':_0x59bd91['x'],'y':_0x59bd91['y']});}if(_0x5a337e===_0x1907df)break;}return _0x388b9e;}['_handleTou'+'chStart'](_0x5327a2){if(!this['_enabled'])return;const _0x4b6b5a=this['_determine'+'TouchedEle'+'ments'](_0x5327a2);for(let _0x41ec99=0x1d3+-0x12c*0x20+0x23ad,_0x3fff2e=_0x5327a2['changedTou'+'ches']['length'];_0x41ec99<_0x3fff2e;_0x41ec99++){const _0x30b8f9=_0x5327a2['changedTou'+'ches'][_0x41ec99],_0x120ffd=_0x4b6b5a[_0x30b8f9['identifier']],_0x71e757=this['_touchedEl'+'ements'][_0x30b8f9['identifier']];_0x120ffd&&(!_0x71e757||_0x120ffd['element']!==_0x71e757['element'])&&(this['_fireEvent'](_0x5327a2['type'],new Ao(_0x5327a2,_0x120ffd['element'],_0x120ffd['camera'],_0x120ffd['x'],_0x120ffd['y'],_0x30b8f9)),this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x30b8f9['identifier']]=!(-0x5*-0x65+-0xd0e+0xb16));}for(const _0x22a1ed in _0x4b6b5a)this['_touchedEl'+'ements'][_0x22a1ed]=_0x4b6b5a[_0x22a1ed];}['_handleTou'+'chEnd'](_0x35da88){if(!this['_enabled'])return;const _0x22fbb3=this['app']['systems']['camera']['cameras'];for(const _0x1d60df in this['_clickedEn'+'tities'])delete this['_clickedEn'+'tities'][_0x1d60df];for(let _0x2f16cc=-0x5a6+0x2554+-0x1fae,_0x45ae4b=_0x35da88['changedTou'+'ches']['length'];_0x2f16cc<_0x45ae4b;_0x2f16cc++){const _0x2b5d3a=_0x35da88['changedTou'+'ches'][_0x2f16cc],_0x45eede=this['_touchedEl'+'ements'][_0x2b5d3a['identifier']];if(!_0x45eede)continue;const _0x2d8690=_0x45eede['element'],_0x4d493a=_0x45eede['camera'],_0x1e06be=_0x45eede['x'],_0x47d9ef=_0x45eede['y'];delete this['_touchedEl'+'ements'][_0x2b5d3a['identifier']],delete this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x2b5d3a['identifier']];const _0x17f609=Wc(_0x2b5d3a);for(let _0x123941=_0x22fbb3['length']-(-0x1ea8+-0x351+0x21fa);_0x123941>=0x1*-0x531+0xd2*0x3+0x3*0xe9;_0x123941--)this['_getTarget'+'ElementByC'+'oords'](_0x22fbb3[_0x123941],_0x17f609['x'],_0x17f609['y'])===_0x2d8690&&(this['_clickedEn'+'tities'][_0x2d8690['entity']['getGuid']()]||(this['_fireEvent']('click',new Ao(_0x35da88,_0x2d8690,_0x4d493a,_0x1e06be,_0x47d9ef,_0x2b5d3a)),this['_clickedEn'+'tities'][_0x2d8690['entity']['getGuid']()]=Date['now']()));this['_fireEvent'](_0x35da88['type'],new Ao(_0x35da88,_0x2d8690,_0x4d493a,_0x1e06be,_0x47d9ef,_0x2b5d3a));}}['_handleTou'+'chMove'](_0x275876){if(_0x275876['preventDef'+'ault'](),!this['_enabled'])return;const _0x3b3507=this['_determine'+'TouchedEle'+'ments'](_0x275876);for(let _0x47ff3f=-0x2165*0x1+-0x7*-0x13d+0x18ba,_0x1303b4=_0x275876['changedTou'+'ches']['length'];_0x47ff3f<_0x1303b4;_0x47ff3f++){const _0x4279bd=_0x275876['changedTou'+'ches'][_0x47ff3f],_0x197c16=_0x3b3507[_0x4279bd['identifier']],_0x13fe0a=this['_touchedEl'+'ements'][_0x4279bd['identifier']];if(_0x13fe0a){const _0x14cc53=Wc(_0x4279bd);(!_0x197c16||_0x197c16['element']!==_0x13fe0a['element'])&&!this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x4279bd['identifier']]&&(this['_fireEvent']('touchleave',new Ao(_0x275876,_0x13fe0a['element'],_0x13fe0a['camera'],_0x14cc53['x'],_0x14cc53['y'],_0x4279bd)),this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x4279bd['identifier']]=!(0xb09*0x2+0x4*0x737+-0x3*0x10fa)),this['_fireEvent']('touchmove',new Ao(_0x275876,_0x13fe0a['element'],_0x13fe0a['camera'],_0x14cc53['x'],_0x14cc53['y'],_0x4279bd));}}}['_onElement'+'MouseEvent'](_0x38556e,_0x4b52ff){let _0x3756ee=null;const _0xf5e597=this['_hoveredEl'+'ement'];this['_hoveredEl'+'ement']=null;const _0x28e231=this['app']['systems']['camera']['cameras'];let _0x21baa5;for(let _0x2a4dd9=_0x28e231['length']-(0x2b*0xad+0x427*-0x5+0x84b*-0x1);_0x2a4dd9>=0xda3+0x6*-0x127+-0x6b9&&(_0x21baa5=_0x28e231[_0x2a4dd9],_0x3756ee=this['_getTarget'+'ElementByC'+'oords'](_0x21baa5,cr,hr),!_0x3756ee);_0x2a4dd9--);if(this['_hoveredEl'+'ement']=_0x3756ee,(_0x38556e==='mousemove'||_0x38556e==='mouseup')&&this['_pressedEl'+'ement']?this['_fireEvent'](_0x38556e,new bo(_0x4b52ff,this['_pressedEl'+'ement'],_0x21baa5,cr,hr,this['_lastX'],this['_lastY'])):_0x3756ee&&(this['_fireEvent'](_0x38556e,new bo(_0x4b52ff,_0x3756ee,_0x21baa5,cr,hr,this['_lastX'],this['_lastY'])),_0x38556e==='mousedown'&&(this['_pressedEl'+'ement']=_0x3756ee)),_0xf5e597!==this['_hoveredEl'+'ement']&&(_0xf5e597&&this['_fireEvent']('mouseleave',new bo(_0x4b52ff,_0xf5e597,_0x21baa5,cr,hr,this['_lastX'],this['_lastY'])),this['_hoveredEl'+'ement']&&this['_fireEvent']('mouseenter',new bo(_0x4b52ff,this['_hoveredEl'+'ement'],_0x21baa5,cr,hr,this['_lastX'],this['_lastY']))),_0x38556e==='mouseup'&&this['_pressedEl'+'ement']){if(this['_pressedEl'+'ement']===this['_hoveredEl'+'ement']){const _0x4205ba=this['_hoveredEl'+'ement']['entity']['getGuid']();let _0x128cd3=!this['_clickedEn'+'tities'];if(this['_clickedEn'+'tities']){const _0x1bc590=this['_clickedEn'+'tities'][_0x4205ba]||-0x1*-0x3b8+0x1aa0+-0x1e58;_0x128cd3=Date['now']()-_0x1bc590>-0x18bb+-0x2a*0xcb+0x3b35,delete this['_clickedEn'+'tities'][_0x4205ba];}_0x128cd3&&this['_fireEvent']('click',new bo(_0x4b52ff,this['_hoveredEl'+'ement'],_0x21baa5,cr,hr,this['_lastX'],this['_lastY']));}this['_pressedEl'+'ement']=null;}}['_onXrStart'](){this['app']['xr']['on']('end',this['_onXrEnd'],this),this['app']['xr']['on']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['on']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['on']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['on']('remove',this['_onXrInput'+'Remove'],this);}['_onXrEnd'](){this['app']['xr']['off']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['off']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['off']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['off']('remove',this['_onXrInput'+'Remove'],this);}['_onXrUpdat'+'e'](){if(!this['_enabled'])return;const _0x59c771=this['app']['xr']['input']['inputSourc'+'es'];for(let _0x502738=0x12bd+0x1*0x2062+-0x331f*0x1;_0x502738<_0x59c771['length'];_0x502738++)this['_onElement'+'SelectEven'+'t']('selectmove',_0x59c771[_0x502738],null);}['_onXrInput'+'Remove'](_0x5c5842){const _0x6a1a65=this['_selectedE'+'lements'][_0x5c5842['id']];_0x6a1a65&&(_0x5c5842['_elementEn'+'tity']=null,this['_fireEvent']('selectleav'+'e',new dr(null,_0x6a1a65,null,_0x5c5842))),delete this['_selectedE'+'lements'][_0x5c5842['id']],delete this['_selectedP'+'ressedElem'+'ents'][_0x5c5842['id']];}['_onSelectS'+'tart'](_0x3a11d1,_0x174d39){this['_enabled']&&this['_onElement'+'SelectEven'+'t']('selectstar'+'t',_0x3a11d1,_0x174d39);}['_onSelectE'+'nd'](_0x568df8,_0x2567ff){this['_enabled']&&this['_onElement'+'SelectEven'+'t']('selectend',_0x568df8,_0x2567ff);}['_onElement'+'SelectEven'+'t'](_0x5ad365,_0x196555,_0x2522a5){let _0x135340;const _0xc90117=this['_selectedE'+'lements'][_0x196555['id']];let _0x9acb3a;const _0x5590ac=this['app']['systems']['camera']['cameras'];let _0x51d59d;if(_0x196555['elementInp'+'ut']){ep['set'](_0x196555['getOrigin'](),_0x196555['getDirecti'+'on']());for(let _0x22a060=_0x5590ac['length']-(0x2154+0x11*0x1e5+-0x4188);_0x22a060>=0x1719+0x20fe+-0x3817&&(_0x51d59d=_0x5590ac[_0x22a060],_0x135340=this['_getTarget'+'ElementByR'+'ay'](ep,_0x51d59d),!_0x135340);_0x22a060--);}_0x196555['_elementEn'+'tity']=_0x135340||null,_0x135340?(this['_selectedE'+'lements'][_0x196555['id']]=_0x135340,_0x9acb3a=_0x135340):delete this['_selectedE'+'lements'][_0x196555['id']],_0xc90117!==_0x9acb3a&&(_0xc90117&&this['_fireEvent']('selectleav'+'e',new dr(_0x2522a5,_0xc90117,_0x51d59d,_0x196555)),_0x9acb3a&&this['_fireEvent']('selectente'+'r',new dr(_0x2522a5,_0x9acb3a,_0x51d59d,_0x196555)));const _0x2145a2=this['_selectedP'+'ressedElem'+'ents'][_0x196555['id']];_0x5ad365==='selectmove'&&_0x2145a2&&this['_fireEvent']('selectmove',new dr(_0x2522a5,_0x2145a2,_0x51d59d,_0x196555)),_0x5ad365==='selectstar'+'t'&&(this['_selectedP'+'ressedElem'+'ents'][_0x196555['id']]=_0x9acb3a,_0x9acb3a&&this['_fireEvent']('selectstar'+'t',new dr(_0x2522a5,_0x9acb3a,_0x51d59d,_0x196555))),!_0x196555['elementInp'+'ut']&&_0x2145a2&&(delete this['_selectedP'+'ressedElem'+'ents'][_0x196555['id']],_0xc90117&&this['_fireEvent']('selectend',new dr(_0x2522a5,_0x2145a2,_0x51d59d,_0x196555))),_0x5ad365==='selectend'&&_0x196555['elementInp'+'ut']&&(delete this['_selectedP'+'ressedElem'+'ents'][_0x196555['id']],_0x2145a2&&this['_fireEvent']('selectend',new dr(_0x2522a5,_0x2145a2,_0x51d59d,_0x196555)),_0x2145a2&&_0x2145a2===_0xc90117&&this['_fireEvent']('click',new dr(_0x2522a5,_0x2145a2,_0x51d59d,_0x196555)));}['_fireEvent'](_0x57e02b,_0x5a5e5f){let _0x1ba9a5=_0x5a5e5f['element'];for(;_0x1ba9a5['fire'](_0x57e02b,_0x5a5e5f),!(_0x5a5e5f['_stopPropa'+'gation']||!_0x1ba9a5['entity']['parent']||(_0x1ba9a5=_0x1ba9a5['entity']['parent']['element'],!_0x1ba9a5)););}['_calcMouse'+'Coords'](_0x525873){const _0x482b37=this['_target']['getBoundin'+'gClientRec'+'t'](),_0xeef4cf=Math['floor'](_0x482b37['left']),_0x695685=Math['floor'](_0x482b37['top']);cr=_0x525873['clientX']-_0xeef4cf,hr=_0x525873['clientY']-_0x695685;}['_sortEleme'+'nts'](_0x5e890f,_0x4afb36){const _0x27dcb9=this['app']['scene']['layers']['sortTransp'+'arentLayer'+'s'](_0x5e890f['layers'],_0x4afb36['layers']);return _0x27dcb9!==0xaa*-0xb+-0x8d3+0x1021?_0x27dcb9:_0x5e890f['screen']&&!_0x4afb36['screen']?-(0xda9+0x3ec*-0x8+-0x8*-0x237):!_0x5e890f['screen']&&_0x4afb36['screen']?0xd7a+-0x21e9+0x8*0x28e:!_0x5e890f['screen']&&!_0x4afb36['screen']?0x5d5*-0x4+-0x2371+0x3ac5:_0x5e890f['screen']['screen']['screenSpac'+'e']&&!_0x4afb36['screen']['screen']['screenSpac'+'e']?-(0x244d*0x1+0xa*0x293+-0x3e0a):_0x4afb36['screen']['screen']['screenSpac'+'e']&&!_0x5e890f['screen']['screen']['screenSpac'+'e']?0x2123+-0x1*0x1327+-0x4a9*0x3:_0x4afb36['drawOrder']-_0x5e890f['drawOrder'];}['_getTarget'+'ElementByC'+'oords'](_0x31705e,_0x226fbc,_0x3aea4f){const _0x8e0e4e=this['_calculate'+'RayScreen'](_0x226fbc,_0x3aea4f,_0x31705e,Ri)?Ri:null,_0xa91196=this['_calculate'+'Ray3d'](_0x226fbc,_0x3aea4f,_0x31705e,Ro)?Ro:null;return this['_getTarget'+'Element'](_0x31705e,_0x8e0e4e,_0xa91196);}['_getTarget'+'ElementByR'+'ay'](_0x47d70d,_0x56fb59){Ri['origin']['copy'](_0x47d70d['origin']),Ri['direction']['copy'](_0x47d70d['direction']),Ri['end']['copy'](Ri['direction'])['mulScalar'](_0x56fb59['farClip']*(0x2e1+-0x2282+0x1fa3))['add'](Ri['origin']);const _0x1af7e1=Ri,_0x5336d1=_0x56fb59['worldToScr'+'een'](_0x1af7e1['origin'],Of),_0x48bc2b=this['_calculate'+'RayScreen'](_0x5336d1['x'],_0x5336d1['y'],_0x56fb59,Ro)?Ro:null;return this['_getTarget'+'Element'](_0x56fb59,_0x48bc2b,_0x1af7e1);}['_getTarget'+'Element'](_0x376f0b,_0x7468b0,_0x169bdb){let _0x4dbf8b=null,_0x624004=(0x1db9+0x26cb+0x4483*-0x1)/(-0x18e5+0x5f7*-0x4+-0x30c1*-0x1);this['_elements']['sort'](this['_sortHandl'+'er']);for(let _0x593e74=-0x209+-0x4*-0x3e6+-0xd8f,_0x35298d=this['_elements']['length'];_0x593e74<_0x35298d;_0x593e74++){const _0x2b0181=this['_elements'][_0x593e74];if(_0x2b0181['layers']['some'](_0x541c00=>_0x376f0b['layersSet']['has'](_0x541c00))){if(_0x2b0181['screen']&&_0x2b0181['screen']['screen']['screenSpac'+'e']){if(!_0x7468b0)continue;if(this['_checkElem'+'ent'](_0x7468b0,_0x2b0181,!(0x43*-0x4a+-0x20a9+0x3407))>=-0x1*-0x1fd0+-0x2*-0x397+-0x26fe){_0x4dbf8b=_0x2b0181;break;}}else{if(!_0x169bdb)continue;const _0x1cbe71=this['_checkElem'+'ent'](_0x169bdb,_0x2b0181,!(-0x19*-0x121+-0xa7*-0x1a+0x2d2e*-0x1));if(_0x1cbe71>=0x12*0x1fd+0x629*0x1+-0x29f3&&(_0x1cbe71<_0x624004&&(_0x4dbf8b=_0x2b0181,_0x624004=_0x1cbe71),_0x2b0181['screen'])){_0x4dbf8b=_0x2b0181;break;}}}}return _0x4dbf8b;}['_calculate'+'RayScreen'](_0x3f01a0,_0x4ca648,_0x2e9036,_0x5cc624){const _0x494ae8=this['app']['graphicsDe'+'vice']['width'],_0xe777e8=this['app']['graphicsDe'+'vice']['height'],_0x4f1296=_0x2e9036['rect']['z']*_0x494ae8,_0x2d6305=_0x2e9036['rect']['w']*_0xe777e8,_0x3a5f67=_0x2e9036['rect']['x']*_0x494ae8,_0x5400ee=_0x3a5f67+_0x4f1296,_0x1726f7=(0x1*-0xcff+-0x2565+0x3265-_0x2e9036['rect']['y'])*_0xe777e8,_0x5ee3b3=_0x1726f7-_0x2d6305;let _0x24ac20=_0x3f01a0*_0x494ae8/this['_target']['clientWidt'+'h'],_0x5d4158=_0x4ca648*_0xe777e8/this['_target']['clientHeig'+'ht'];return _0x24ac20>=_0x3a5f67&&_0x24ac20<=_0x5400ee&&_0x5d4158<=_0x1726f7&&_0x5d4158>=_0x5ee3b3?(_0x24ac20=_0x494ae8*(_0x24ac20-_0x3a5f67)/_0x4f1296,_0x5d4158=_0xe777e8*(_0x5d4158-_0x5ee3b3)/_0x2d6305,_0x5d4158=_0xe777e8-_0x5d4158,_0x5cc624['origin']['set'](_0x24ac20,_0x5d4158,-0x2337+-0xf*-0xf1+0x1519),_0x5cc624['direction']['set'](0x1*-0x24eb+0xf62+0x1589,0x20c7+-0xd5c+0x136b*-0x1,-(-0x9ea+0x8aa*0x4+-0x18bd)),_0x5cc624['end']['copy'](_0x5cc624['direction'])['mulScalar'](-0x9b*-0x19+0xfd+-0x1*0x101e)['add'](_0x5cc624['origin']),!(0x1ce*0xb+0x85d*0x4+0x1*-0x354e)):!(-0x21b*0xe+0x1a*0x47+0x1645);}['_calculate'+'Ray3d'](_0x5ed874,_0x417800,_0x2dfb77,_0x325fd5){const _0x373cb8=this['_target']['clientWidt'+'h'],_0x382ae7=this['_target']['clientHeig'+'ht'],_0x6eadc1=_0x2dfb77['rect']['z']*_0x373cb8,_0x1fcf74=_0x2dfb77['rect']['w']*_0x382ae7,_0xad9aad=_0x2dfb77['rect']['x']*_0x373cb8,_0x3e7432=_0xad9aad+_0x6eadc1,_0x5eaa90=(0x2*-0x416+-0x1b26+0x1*0x2353-_0x2dfb77['rect']['y'])*_0x382ae7,_0x34a03a=_0x5eaa90-_0x1fcf74;let _0x3b6fd9=_0x5ed874,_0xb9d53f=_0x417800;return _0x5ed874>=_0xad9aad&&_0x5ed874<=_0x3e7432&&_0x417800<=_0x5eaa90&&_0xb9d53f>=_0x34a03a?(_0x3b6fd9=_0x373cb8*(_0x3b6fd9-_0xad9aad)/_0x6eadc1,_0xb9d53f=_0x382ae7*(_0xb9d53f-_0x34a03a)/_0x1fcf74,_0x2dfb77['screenToWo'+'rld'](_0x3b6fd9,_0xb9d53f,_0x2dfb77['nearClip'],Of),_0x2dfb77['screenToWo'+'rld'](_0x3b6fd9,_0xb9d53f,_0x2dfb77['farClip'],RS),_0x325fd5['origin']['copy'](Of),_0x325fd5['direction']['set'](0xd1c+-0x1*0x1ac3+0xda7,0x2*-0xf29+-0x7*0x54d+0x436d,-(-0x1a31+-0x467*0x3+0x395*0xb)),_0x325fd5['end']['copy'](RS),!(-0x1*-0x1c3a+0x1*-0x165f+-0x5db)):!(-0x1f6f+0x1*-0x1135+0x1*0x30a5);}['_checkElem'+'ent'](_0x4011ef,_0x4bff4e,_0x52feb1){if(_0x4bff4e['maskedBy']&&this['_checkElem'+'ent'](_0x4011ef,_0x4bff4e['maskedBy']['element'],_0x52feb1)<-0x14c8+-0x219e+0x3666)return-(-0x4*-0x45a+0x1abb+-0x2c22);let _0x27a068;_0x52feb1?_0x27a068=Xo['calculateS'+'caleToScre'+'en'](_0x4bff4e):_0x27a068=Xo['calculateS'+'caleToWorl'+'d'](_0x4bff4e);const _0x6c1ff3=Xo['buildHitCo'+'rners'](_0x4bff4e,_0x52feb1?_0x4bff4e['screenCorn'+'ers']:_0x4bff4e['worldCorne'+'rs'],_0x27a068);return xU(_0x4011ef['origin'],_0x4011ef['end'],_0x6c1ff3);}static['buildHitCo'+'rners'](_0xb7f6e8,_0x3f6c2b,_0x101d45){let _0x666f53=_0x3f6c2b;if(_0xb7f6e8['entity']&&_0xb7f6e8['entity']['button']){const _0x572830=_0xb7f6e8['entity']['button']['hitPadding']||vU;wo['copy'](_0xb7f6e8['entity']['up']),Vc['copy'](wo)['mulScalar'](-(-0x2*-0x161+-0x7*-0x2a1+0x8*-0x2a5)),Eo['copy'](_0xb7f6e8['entity']['right']),Gc['copy'](Eo)['mulScalar'](-(0x11a+-0xe9e+0xd85)),wo['mulScalar'](_0x572830['w']*_0x101d45['y']),Vc['mulScalar'](_0x572830['y']*_0x101d45['y']),Eo['mulScalar'](_0x572830['z']*_0x101d45['x']),Gc['mulScalar'](_0x572830['x']*_0x101d45['x']),FS['copy'](_0x666f53[0x1*-0x13d+0x497*0x2+0x1*-0x7f1])['add'](Vc)['add'](Gc),NS['copy'](_0x666f53[0x9f8+-0x4*-0x286+-0x140f])['add'](Vc)['add'](Eo),kS['copy'](_0x666f53[0x23bf*-0x1+0x2*-0x65+0x248b])['add'](wo)['add'](Eo),US['copy'](_0x666f53[-0x848+0x1*0xa48+0x1*-0x1fd])['add'](wo)['add'](Gc),_0x666f53=[FS,NS,kS,US];}if(_0x101d45['x']<0x1896+0x22*0x1+-0x18b8){const _0x1fca19=_0x666f53[0xeed*0x2+-0xb5e+-0x2b*0x6e]['x'],_0x4bcda1=_0x666f53[0x15*0x195+0x7f*0xe+-0x282b]['x'];_0x666f53[0x188e*0x1+0x36a+-0x1*0x1bf8]['x']=_0x1fca19,_0x666f53[0x1e10+0x1*0x195b+0xad*-0x52]['x']=_0x4bcda1,_0x666f53[-0xdf+0x4d*-0x1f+0xa34]['x']=_0x4bcda1,_0x666f53[-0x7d1+-0x1*-0x7cf+-0x5*-0x1]['x']=_0x1fca19;}if(_0x101d45['y']<-0x2168+-0x1149+0x32b1){const _0xa5cd8b=_0x666f53[-0x18e8+-0x33*-0x99+-0x591]['y'],_0x3488df=_0x666f53[-0x6e3+-0x1711+-0x9fc*-0x3]['y'];_0x666f53[0x1ea9+-0x63f+0xa*-0x271]['y']=_0xa5cd8b,_0x666f53[0x20e7+0x7dd+0x1*-0x28c3]['y']=_0xa5cd8b,_0x666f53[-0x7fc+-0x3*-0x8ce+0x6*-0x312]['y']=_0x3488df,_0x666f53[0x2*-0x647+-0x2456+0x30e7]['y']=_0x3488df;}if(_0x101d45['z']<-0x34d+0x11a7+-0xe5a*0x1){const _0x37ac17=_0x666f53[-0x2*0xfc9+-0x1d1a+0x6*0xa1d]['x'],_0x1da19e=_0x666f53[0x24df*-0x1+-0x17*-0xcb+0x12a4]['y'],_0x160204=_0x666f53[0x74e+-0x1*-0x805+-0xf51]['z'];_0x666f53[0xcc5*-0x1+-0x88b+-0x1*-0x1552]['x']=_0x666f53[-0x1ca8+-0x223*-0xc+0x304]['x'],_0x666f53[0x9+0xb*0x6+0x49*-0x1]['y']=_0x666f53[0x4b3*-0x1+-0x13b+0x5ee]['y'],_0x666f53[0x621+0x149a+-0x1ab9]['z']=_0x666f53[-0x121*-0x1d+0x17*-0x65+-0x17aa]['z'],_0x666f53[-0x199d+-0x1*-0x1347+0x656]['x']=_0x37ac17,_0x666f53[0x33*0x9+0x1f4d+-0x2118]['y']=_0x1da19e,_0x666f53[0x6a5+0xf02+-0x15a7]['z']=_0x160204;}return _0x666f53;}static['calculateS'+'caleToScre'+'en'](_0xab2830){let _0xba2abb=_0xab2830['entity'];const _0x2ef2d2=_0xab2830['screen']['screen']['scale'];for(tn['set'](_0x2ef2d2,_0x2ef2d2,_0x2ef2d2);_0xba2abb&&!_0xba2abb['screen'];)tn['mul'](_0xba2abb['getLocalSc'+'ale']()),_0xba2abb=_0xba2abb['parent'];return tn;}static['calculateS'+'caleToWorl'+'d'](_0x3e7223){let _0x173248=_0x3e7223['entity'];for(tn['set'](-0x1*0x7d4+0x705+-0x1*-0xd0,0xc7c+0xc71+0x2c*-0x91,-0x9*0x57+0x2*-0xd6a+0x4*0x779);_0x173248;)tn['mul'](_0x173248['getLocalSc'+'ale']()),_0x173248=_0x173248['parent'];return tn;}}J['prototype']['scale']=J['prototype']['mulScalar'],D['prototype']['scale']=D['prototype']['mulScalar'],re['prototype']['scale']=re['prototype']['mulScalar'],new re();function YU(_0x45964e,_0x40960c){return w['deprecated']('pc.createS'+'phere\x20is\x20d'+'eprecated.'+'\x20Use\x20\x27pc.M'+'esh.fromGe'+'ometry(dev'+'ice,\x20new\x20S'+'phereGeome'+'try(option'+'s);\x27\x20forma'+'t\x20instead.'),Ge['fromGeomet'+'ry'](_0x45964e,new _m(_0x40960c));}Object['defineProp'+'erties'](gt['prototype'],{'_glFrameBuffer':{'get':function(){return w['deprecated']('pc.RenderT'+'arget#_glF'+'rameBuffer'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RenderT'+'arget.impl'+'#_glFrameB'+'uffer\x20inst'+'ead.'),this['impl']['_glFrameBu'+'ffer'];},'set':function(_0x49d2ef){w['deprecated']('pc.RenderT'+'arget#_glF'+'rameBuffer'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RenderT'+'arget.impl'+'#_glFrameB'+'uffer\x20inst'+'ead.');}}}),Object['defineProp'+'erty'](kt,'defaultIns'+'tancingFor'+'mat',{'get':function(){return w['assert']('pc.VertexF'+'ormat.defa'+'ultInstanc'+'ingFormat\x20'+'is\x20depreca'+'ted,\x20use\x20p'+'c.VertexFo'+'rmat.getDe'+'faultInsta'+'ncingForma'+'t(graphics'+'Device).'),null;}}),Object['defineProp'+'erties'](_e['prototype'],{'rgbm':{'get':function(){return w['deprecated']('pc.Texture'+'#rgbm\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Te'+'xture#type'+'\x20instead.'),this['type']===Zi;},'set':function(_0x1f7fa0){w['deprecated']('pc.Texture'+'#rgbm\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Te'+'xture#type'+'\x20instead.'),this['type']=_0x1f7fa0?Zi:Ds;}},'swizzleGGGR':{'get':function(){return w['deprecated']('pc.Texture'+'#swizzleGG'+'GR\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Textu'+'re#type\x20in'+'stead.'),this['type']===Jo;},'set':function(_0x571da5){w['deprecated']('pc.Texture'+'#swizzleGG'+'GR\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Textu'+'re#type\x20in'+'stead.'),this['type']=_0x571da5?Jo:Ds;}},'_glTexture':{'get':function(){return w['deprecated']('pc.Texture'+'#_glTextur'+'e\x20is\x20no\x20lo'+'nger\x20avail'+'able,\x20use\x20'+'Use\x20pc.Tex'+'ture.impl.'+'_glTexture'+'\x20instead.'),this['impl']['_glTexture'];}}}),Object['defineProp'+'erty']($e['prototype'],'boneLimit',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#bo'+'neLimit\x20is'+'\x20deprecate'+'d\x20and\x20the\x20'+'limit\x20has\x20'+'been\x20remov'+'ed.'),0x15d4+-0x11d3+-0x1*0x1;}}),Object['defineProp'+'erty']($e['prototype'],'webgl2',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#we'+'bgl2\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e#isWebGL2'+'\x20instead.'),this['isWebGL2'];}}),Object['defineProp'+'erty']($e['prototype'],'textureFlo'+'atHighPrec'+'ision',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureFloat'+'HighPrecis'+'ion\x20is\x20dep'+'recated\x20an'+'d\x20always\x20r'+'eturns\x20tru'+'e.'),!(0x664+-0x3*-0xa8b+-0x1*0x2605);}}),Object['defineProp'+'erty']($e['prototype'],'extBlendMi'+'nmax',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tBlendMinm'+'ax\x20is\x20depr'+'ecated\x20as\x20'+'it\x20is\x20alwa'+'ys\x20true.'),!(-0xb1b+-0x36*0x6d+0x2219);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'HalfFloat',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureHa'+'lfFloat\x20is'+'\x20deprecate'+'d\x20as\x20it\x20is'+'\x20always\x20tr'+'ue.'),!(-0x2615*-0x1+-0x8*0xff+-0x1e1d);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'Lod',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureLo'+'d\x20is\x20depre'+'cated\x20as\x20i'+'t\x20is\x20alway'+'s\x20true.'),!(0x331+0x48f+-0x2*0x3e0);}}),Object['defineProp'+'erty']($e['prototype'],'textureHal'+'fFloatFilt'+'erable',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureHalfF'+'loatFilter'+'able\x20is\x20de'+'precated\x20a'+'s\x20it\x20is\x20al'+'ways\x20true.'),!(-0x1*-0x1305+0x172e+0xe11*-0x3);}}),Object['defineProp'+'erty']($e['prototype'],'supportsMr'+'t',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsMrt\x20'+'is\x20depreca'+'ted\x20as\x20it\x20'+'is\x20always\x20'+'true.'),!(0x4bf+-0x1ee5*-0x1+-0x23a4);}}),Object['defineProp'+'erty']($e['prototype'],'supportsVo'+'lumeTextur'+'es',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsVolu'+'meTextures'+'\x20is\x20deprec'+'ated\x20as\x20it'+'\x20is\x20always'+'\x20true.'),!(-0x1*0xde5+-0x672+0x1457);}}),Object['defineProp'+'erty']($e['prototype'],'supportsIn'+'stancing',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsInst'+'ancing\x20is\x20'+'deprecated'+'\x20as\x20it\x20is\x20'+'always\x20tru'+'e.'),!(0x427*-0x9+0x1356+0x1209);}}),Object['defineProp'+'erty']($e['prototype'],'textureHal'+'fFloatUpda'+'table',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureHalfF'+'loatUpdata'+'ble\x20is\x20dep'+'recated\x20as'+'\x20it\x20is\x20alw'+'ays\x20true.'),!(0x5*-0x5c+0x1*0x2104+-0x1f38);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'Float',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureFl'+'oat\x20is\x20dep'+'recated\x20as'+'\x20it\x20is\x20alw'+'ays\x20true'),!(-0xd89+0x10d0+-0x1*0x347);}}),Object['defineProp'+'erty']($e['prototype'],'extStandar'+'dDerivativ'+'es',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tStandardD'+'erivatives'+'\x20is\x20deprec'+'ated\x20as\x20it'+'\x20is\x20always'+'\x20true.'),!(0x1*-0xf9d+-0x2c1*0x6+0x2023);}}),pt['DEFAULT']=Object['freeze'](new pt());const ut=new pt(),ji=new Yt();$e['prototype']['setBlendFu'+'nction']=function(_0x35b6d0,_0x53e05f){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendFunc'+'tion\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e.setBlend'+'State\x20inst'+'ead.');const _0x3ba861=this['blendState'];ut['copy'](_0x3ba861),ut['setColorBl'+'end'](_0x3ba861['colorOp'],_0x35b6d0,_0x53e05f),ut['setAlphaBl'+'end'](_0x3ba861['alphaOp'],_0x35b6d0,_0x53e05f),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendFu'+'nctionSepa'+'rate']=function(_0x152ce1,_0x33157b,_0x22684e,_0x1afa5a){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendFunc'+'tionSepara'+'te\x20is\x20depr'+'ecated,\x20us'+'e\x20pc.Graph'+'icsDevice.'+'setBlendSt'+'ate\x20instea'+'d.');const _0x45f8f=this['blendState'];ut['copy'](_0x45f8f),ut['setColorBl'+'end'](_0x45f8f['colorOp'],_0x152ce1,_0x33157b),ut['setAlphaBl'+'end'](_0x45f8f['alphaOp'],_0x22684e,_0x1afa5a),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendEq'+'uation']=function(_0x3372af){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendEqua'+'tion\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e.setBlend'+'State\x20inst'+'ead.');const _0x2826a0=this['blendState'];ut['copy'](_0x2826a0),ut['setColorBl'+'end'](_0x3372af,_0x2826a0['colorSrcFa'+'ctor'],_0x2826a0['colorDstFa'+'ctor']),ut['setAlphaBl'+'end'](_0x3372af,_0x2826a0['alphaSrcFa'+'ctor'],_0x2826a0['alphaDstFa'+'ctor']),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendEq'+'uationSepa'+'rate']=function(_0x41fccd,_0x2e397f){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendEqua'+'tionSepara'+'te\x20is\x20depr'+'ecated,\x20us'+'e\x20pc.Graph'+'icsDevice.'+'setBlendSt'+'ate\x20instea'+'d.');const _0x5b7aea=this['blendState'];ut['copy'](_0x5b7aea),ut['setColorBl'+'end'](_0x41fccd,_0x5b7aea['colorSrcFa'+'ctor'],_0x5b7aea['colorDstFa'+'ctor']),ut['setAlphaBl'+'end'](_0x2e397f,_0x5b7aea['alphaSrcFa'+'ctor'],_0x5b7aea['alphaDstFa'+'ctor']),this['setBlendSt'+'ate'](ut);},$e['prototype']['setColorWr'+'ite']=function(_0x18d50a,_0x2d776c,_0x2f42da,_0x23380d){w['deprecated']('pc.Graphic'+'sDevice#se'+'tColorWrit'+'e\x20is\x20depre'+'cated,\x20use'+'\x20pc.Graphi'+'csDevice.s'+'etBlendSta'+'te\x20instead'+'.');const _0x573440=this['blendState'];ut['copy'](_0x573440),ut['setColorWr'+'ite'](_0x18d50a,_0x2d776c,_0x2f42da,_0x23380d),this['setBlendSt'+'ate'](ut);},$e['prototype']['getBlendin'+'g']=function(){return this['blendState']['blend'];},$e['prototype']['setBlendin'+'g']=function(_0x33af54){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlending\x20'+'is\x20depreca'+'ted,\x20use\x20p'+'c.Graphics'+'Device.set'+'BlendState'+'\x20instead.'),ut['copy'](this['blendState']),ut['blend']=_0x33af54,this['setBlendSt'+'ate'](ut);},$e['prototype']['setDepthWr'+'ite']=function(_0x3a71ee){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthWrit'+'e\x20is\x20depre'+'cated,\x20use'+'\x20pc.Graphi'+'csDevice.s'+'etDepthSta'+'te\x20instead'+'.'),ji['copy'](this['depthState']),ji['write']=_0x3a71ee,this['setDepthSt'+'ate'](ji);},$e['prototype']['setDepthFu'+'nc']=function(_0x54e772){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthFunc'+'\x20is\x20deprec'+'ated,\x20use\x20'+'pc.Graphic'+'sDevice.se'+'tDepthStat'+'e\x20instead.'),ji['copy'](this['depthState']),ji['func']=_0x54e772,this['setDepthSt'+'ate'](ji);},$e['prototype']['setDepthTe'+'st']=function(_0x31119f){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthTest'+'\x20is\x20deprec'+'ated,\x20use\x20'+'pc.Graphic'+'sDevice.se'+'tDepthStat'+'e\x20instead.'),ji['copy'](this['depthState']),ji['test']=_0x31119f,this['setDepthSt'+'ate'](ji);},$e['prototype']['getCullMod'+'e']=function(){return this['cullMode'];},new Proxy({},{'get'(_0x4b467b,_0x3a69ec){return w['deprecated']('Using\x20pc.s'+'haderChunk'+'s\x20to\x20acces'+'s\x20global\x20s'+'hader\x20chun'+'ks\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Shade'+'rChunks.ge'+'t\x20instead,'+'\x20for\x20examp'+'le:\x20pc.Sha'+'derChunks.'+'get(this.a'+'pp.graphic'+'sDevice,\x20p'+'c.SHADERLA'+'NGUAGE_GLS'+'L).get(\x27'+_0x3a69ec+'\x27);'),Pe['get'](Ms()['graphicsDe'+'vice'],Fe)['get'](_0x3a69ec);},'set'(_0x3ed6d9,_0x3d4bf3,_0x3030e0){return w['deprecated']('Using\x20pc.s'+'haderChunk'+'s\x20to\x20overr'+'ide\x20global'+'\x20shader\x20ch'+'unks\x20is\x20de'+'precated.\x20'+'Use\x20pc.Sha'+'derChunks.'+'get\x20instea'+'d,\x20for\x20exa'+'mple:\x20pc.S'+'haderChunk'+'s.get(this'+'.app.graph'+'icsDevice,'+'\x20pc.SHADER'+'LANGUAGE_G'+'LSL).set(\x27'+_0x3d4bf3+'\x27);'),Pe['get'](Ms()['graphicsDe'+'vice'],Fe)['set'](_0x3d4bf3,_0x3030e0),!(0x13*0x10f+0x1*0x57a+-0x1997);}}),Object['defineProp'+'erty'](Et['prototype'],'defaultMat'+'erial',{'get':function(){return w['deprecated']('pc.Scene#d'+'efaultMate'+'rial\x20is\x20de'+'precated.'),Qn(Ms()['graphicsDe'+'vice']);}}),Object['defineProp'+'erty'](Et['prototype'],'fogColor',{'set':function(_0x1ec90a){w['deprecated']('Scene#fogC'+'olor\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.color\x20'+'instead.'),this['fog']['color']=_0x1ec90a;},'get':function(){return w['deprecated']('Scene#fogC'+'olor\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.color\x20'+'instead.'),this['fog']['color'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogEnd',{'set':function(_0x4a3908){w['deprecated']('Scene#fogE'+'nd\x20is\x20depr'+'ecated.\x20Us'+'e\x20Scene#fo'+'g.end\x20inst'+'ead.'),this['fog']['end']=_0x4a3908;},'get':function(){return w['deprecated']('Scene#fogE'+'nd\x20is\x20depr'+'ecated.\x20Us'+'e\x20Scene#fo'+'g.end\x20inst'+'ead.'),this['fog']['end'];}}),(function(){const _0xdd204d=function(){let _0xdc1109;try{_0xdc1109=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');')();}catch(_0x1a5652){_0xdc1109=window;}return _0xdc1109;},_0x782b34=_0xdd204d();_0x782b34['setInterva'+'l'](_0x158edf,-0x50*0x4b+0x1b7f+0xb91);}()),Object['defineProp'+'erty'](Et['prototype'],'fogStart',{'set':function(_0x48b606){w['deprecated']('Scene#fogS'+'tart\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.start\x20'+'instead.'),this['fog']['start']=_0x48b606;},'get':function(){return w['deprecated']('Scene#fogS'+'tart\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.start\x20'+'instead.'),this['fog']['start'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogDensity',{'set':function(_0x13c4e6){w['deprecated']('Scene#fogD'+'ensity\x20is\x20'+'deprecated'+'.\x20Use\x20Scen'+'e#fog.dens'+'ity\x20instea'+'d.'),this['fog']['density']=_0x13c4e6;},'get':function(){return w['deprecated']('Scene#fogD'+'ensity\x20is\x20'+'deprecated'+'.\x20Use\x20Scen'+'e#fog.dens'+'ity\x20instea'+'d.'),this['fog']['density'];}}),Object['defineProp'+'erty'](Et['prototype'],'toneMappin'+'g',{'set':function(_0x2c9c50){w['removed']('Scene#tone'+'Mapping\x20is'+'\x20removed.\x20'+'Use\x20Camera'+'Component#'+'toneMappin'+'g\x20instead.');},'get':function(){w['removed']('Scene#tone'+'Mapping\x20is'+'\x20removed.\x20'+'Use\x20Camera'+'Component#'+'toneMappin'+'g\x20instead.');}}),Object['defineProp'+'erty'](Et['prototype'],'gammaCorre'+'ction',{'set':function(_0x5985a7){w['removed']('Scene#gamm'+'aCorrectio'+'n\x20is\x20remov'+'ed.\x20Use\x20Ca'+'meraCompon'+'ent#gammaC'+'orrection\x20'+'instead.');},'get':function(){w['removed']('Scene#gamm'+'aCorrectio'+'n\x20is\x20remov'+'ed.\x20Use\x20Ca'+'meraCompon'+'ent#gammaC'+'orrection\x20'+'instead.');}}),Object['defineProp'+'erty'](Et['prototype'],'rendering',{'set':function(_0x2cabc8){w['removed']('Scene#rend'+'ering\x20is\x20r'+'emoved.\x20Us'+'e\x20Scene#fo'+'g\x20or\x20Camer'+'aComponent'+'#gammaCorr'+'ection\x20or\x20'+'CameraComp'+'onent#tone'+'Mapping\x20in'+'stead.');},'get':function(){w['removed']('Scene#rend'+'ering\x20is\x20r'+'emoved.\x20Us'+'e\x20Scene#fo'+'g\x20or\x20Camer'+'aComponent'+'#gammaCorr'+'ection\x20or\x20'+'CameraComp'+'onent#tone'+'Mapping\x20in'+'stead.');}}),Object['defineProp'+'erty'](du['prototype'],'_meshInsta'+'nces',{'get':function(){return w['deprecated']('pc.LayerCo'+'mposition#'+'_meshInsta'+'nces\x20is\x20de'+'precated.'),null;}}),Object['defineProp'+'erty'](Et['prototype'],'drawCalls',{'get':function(){return w['deprecated']('pc.Scene#d'+'rawCalls\x20i'+'s\x20deprecat'+'ed\x20and\x20no\x20'+'longer\x20pro'+'vides\x20mesh'+'\x20instances'+'.'),null;}}),['128','64','32','16','8','4']['forEach']((_0x49f495,_0x5e89c0)=>{Object['defineProp'+'erty'](Et['prototype'],'skyboxPref'+'iltered'+_0x49f495,{'get':function(){return w['deprecated']('pc.Scene#s'+'kyboxPrefi'+'ltered'+_0x49f495+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Scene#p'+'refiltered'+'Cubemaps\x20i'+'nstead.')),this['_prefilter'+'edCubemaps'][_0x5e89c0];},'set':function(_0x4bdae8){w['deprecated']('pc.Scene#s'+'kyboxPrefi'+'ltered'+_0x49f495+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Scene#p'+'refiltered'+'Cubemaps\x20i'+'nstead.')),this['_prefilter'+'edCubemaps'][_0x5e89c0]=_0x4bdae8,this['updateShad'+'ers']=!(-0x6fa+-0x1e96+0x2590);}});}),Object['defineProp'+'erty'](Et['prototype'],'models',{'get':function(){return this['_models']||(this['_models']=[]),this['_models'];}});function Bt(_0x42101e,_0x1fa4a3,_0x424aa5=''){Object['defineProp'+'erty'](_0x42101e['prototype'],_0x1fa4a3,{'set':function(_0x431ab3){w['errorOnce'](_0x42101e['name']+'#'+_0x1fa4a3+('\x20has\x20been\x20'+'removed.\x20')+_0x424aa5);},'get':function(){w['errorOnce'](_0x42101e['name']+'#'+_0x1fa4a3+('\x20has\x20been\x20'+'removed.\x20')+_0x424aa5);}});}Bt(Ot,'renderTarg'+'et'),Bt(Ot,'onPreCull'),Bt(Ot,'onPreRende'+'r'),Bt(Ot,'onPreRende'+'rOpaque'),Bt(Ot,'onPreRende'+'rTranspare'+'nt'),Bt(Ot,'onPostCull'),Bt(Ot,'onPostRend'+'er'),Bt(Ot,'onPostRend'+'erOpaque'),Bt(Ot,'onPostRend'+'erTranspar'+'ent'),Bt(Ot,'onDrawCall'),Bt(Ot,'layerRefer'+'ence'),Bt(Ir,'onPreCull','Use\x20Scene#'+'EVENT_PREC'+'ULL\x20event\x20'+'instead.'),Bt(Ir,'onPostCull','Use\x20Scene#'+'EVENT_POST'+'CULL\x20event'+'\x20instead.'),Bt(Ir,'onPreRende'+'r','Use\x20Scene#'+'EVENT_PRER'+'ENDER\x20even'+'t\x20instead.'),Bt(Ir,'onPostRend'+'er','Use\x20Scene#'+'EVENT_POST'+'RENDER\x20eve'+'nt\x20instead'+'.'),Bt(Ir,'onPreRende'+'rLayer','Use\x20Scene#'+'EVENT_PRER'+'ENDER_LAYE'+'R\x20event\x20in'+'stead.'),Bt(Ir,'onPostRend'+'erLayer','Use\x20Scene#'+'EVENT_POST'+'RENDER_LAY'+'ER\x20event\x20i'+'nstead.'),fl['prototype']['renderComp'+'osition']=function(_0x2ae906){w['deprecated']('pc.Forward'+'Renderer#r'+'enderCompo'+'sition\x20is\x20'+'deprecated'+'.\x20Use\x20pc.A'+'ppBase.ren'+'derComposi'+'tion\x20inste'+'ad.'),Ms()['renderComp'+'osition'](_0x2ae906);},He['prototype']['syncAabb']=function(){w['deprecated']('pc.MeshIns'+'tance#sync'+'Aabb\x20is\x20de'+'precated.');},mm['prototype']['getTarget']=function(_0x4277f6){return w['deprecated']('pc.Morph#g'+'etTarget\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.Morph#tar'+'gets\x20inste'+'ad.'),this['targets'][_0x4277f6];},Ie['prototype']['getChildre'+'n']=function(){return w['deprecated']('pc.GraphNo'+'de#getChil'+'dren\x20is\x20de'+'precated.\x20'+'Use\x20pc.Gra'+'phNode#chi'+'ldren\x20inst'+'ead.'),this['children'];},Ie['prototype']['getName']=function(){return w['deprecated']('pc.GraphNo'+'de#getName'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#name\x20in'+'stead.'),this['name'];},Ie['prototype']['getPath']=function(){return w['deprecated']('pc.GraphNo'+'de#getPath'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#path\x20in'+'stead.'),this['path'];},Ie['prototype']['getRoot']=function(){return w['deprecated']('pc.GraphNo'+'de#getRoot'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#root\x20in'+'stead.'),this['root'];},Ie['prototype']['getParent']=function(){return w['deprecated']('pc.GraphNo'+'de#getPare'+'nt\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Graph'+'Node#paren'+'t\x20instead.'),this['parent'];},Ie['prototype']['setName']=function(_0x4cad3f){w['deprecated']('pc.GraphNo'+'de#setName'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#name\x20in'+'stead.'),this['name']=_0x4cad3f;},Object['defineProp'+'erty'](tr['prototype'],'shader',{'set':function(_0x18ffbb){w['deprecated']('pc.Materia'+'l#shader\x20i'+'s\x20deprecat'+'ed,\x20use\x20pc'+'.ShaderMat'+'erial\x20inst'+'ead.');},'get':function(){return w['deprecated']('pc.Materia'+'l#shader\x20i'+'s\x20deprecat'+'ed,\x20use\x20pc'+'.ShaderMat'+'erial\x20inst'+'ead.'),null;}}),Object['defineProp'+'erty'](tr['prototype'],'blend',{'set':function(_0x3e55b6){w['deprecated']('pc.Materia'+'l#blend\x20is'+'\x20deprecate'+'d,\x20use\x20pc.'+'Material.b'+'lendState.'),this['blendState']['blend']=_0x3e55b6;},'get':function(){return this['blendState']['blend'];}}),Object['defineProp'+'erty'](Ut['prototype'],'shininess',{'get':function(){return this['gloss']*(-0x5*-0x32+-0x1102+0x106c);},'set':function(_0x3f62c6){this['gloss']=_0x3f62c6*(0xd*-0x291+-0x2*0xab3+-0x36c3*-0x1+0.01);}}),Object['defineProp'+'erty'](Ut['prototype'],'useGammaTo'+'nemap',{'get':function(){return this['useTonemap'];},'set':function(_0x1935a2){this['useTonemap']=_0x1935a2;}}),Object['defineProp'+'erty'](Ut['prototype'],'anisotropy',{'get':function(){w['deprecated']('pc.Standar'+'dMaterial#'+'anisotropy'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#'+'anisotropy'+'Intensity\x20'+'and\x20pc.Sta'+'ndardMater'+'ial#anisot'+'ropyRotati'+'on\x20instead'+'.');const _0x3bcfd0=Math['sign'](Math['cos'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD']*(-0x1*-0x1700+0x10e3+-0x27e1)));return this['anisotropy'+'Intensity']*_0x3bcfd0;},'set':function(_0x4bb99d){w['deprecated']('pc.Standar'+'dMaterial#'+'anisotropy'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#'+'anisotropy'+'Intensity\x20'+'and\x20pc.Sta'+'ndardMater'+'ial#anisot'+'ropyRotati'+'on\x20instead'+'.'),this['anisotropy'+'Intensity']=Math['abs'](_0x4bb99d),_0x4bb99d>=0x19b5*0x1+-0x1400+-0x3*0x1e7?this['anisotropy'+'Rotation']=-0x3*0x1e9+-0x48*0x1a+0x3f*0x35:this['anisotropy'+'Rotation']=0x9eb+0x1156*-0x2+-0x191b*-0x1;}});function Qs(_0x225721,_0x46831a){Object['defineProp'+'erty'](Ut['prototype'],_0x46831a,{'get':function(){return w['deprecated']('pc.Standar'+'dMaterial#'+_0x46831a+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#')+_0x225721+'\x20instead.'),this[_0x225721];},'set':function(_0xccf9bb){w['deprecated']('pc.Standar'+'dMaterial#'+_0x46831a+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#')+_0x225721+'\x20instead.'),this[_0x225721]=_0xccf9bb;}});}function Id(_0x441969){Object['defineProp'+'erty'](Ut['prototype'],_0x441969,{'get':function(){return w['deprecated']('pc.Standar'+'dMaterial#'+_0x441969+('\x20is\x20deprec'+'ated,\x20and\x20'+'the\x20behavi'+'our\x20is\x20as\x20'+'if\x20')+_0x441969+('\x20was\x20alway'+'s\x20true')),!(-0xaed+-0x1f0*-0x3+-0x77*-0xb);},'set':function(_0x386c92){w['deprecated']('pc.Standar'+'dMaterial#'+_0x441969+('\x20is\x20deprec'+'ated,\x20and\x20'+'the\x20behavi'+'our\x20is\x20as\x20'+'if\x20')+_0x441969+('\x20was\x20alway'+'s\x20true'));}});}Id('sheenTint'),Id('diffuseTin'+'t'),Id('emissiveTi'+'nt'),Id('ambientTin'+'t'),Qs('specularTi'+'nt','specularMa'+'pTint'),Qs('aoVertexCo'+'lor','aoMapVerte'+'xColor'),Qs('diffuseVer'+'texColor','diffuseMap'+'VertexColo'+'r'),Qs('specularVe'+'rtexColor','specularMa'+'pVertexCol'+'or'),Qs('emissiveVe'+'rtexColor','emissiveMa'+'pVertexCol'+'or'),Qs('metalnessV'+'ertexColor','metalnessM'+'apVertexCo'+'lor'),Qs('glossVerte'+'xColor','glossMapVe'+'rtexColor'),Qs('opacityVer'+'texColor','opacityMap'+'VertexColo'+'r'),Qs('lightVerte'+'xColor','lightMapVe'+'rtexColor'),Qs('sheenGloss','sheenGloss'+'iess'),Qs('clearCoatG'+'loss','clearCostG'+'lossiness');function F0(_0x156cee,_0x309dcf){_0x156cee!=='pass'&&Object['defineProp'+'erty'](dl['prototype'],_0x156cee,{'get':function(){return w['deprecated']('Getting\x20pc'+'.Options#'+_0x156cee+('\x20has\x20been\x20'+'deprecated'+'\x20as\x20the\x20pr'+'operty\x20has'+'\x20been\x20move'+'d\x20to\x20pc.Op'+'tions.LitS'+'haderOptio'+'ns#')+(_0x309dcf||_0x156cee)+'.'),this['litOptions'][_0x309dcf||_0x156cee];},'set':function(_0x8e03ec){w['deprecated']('Setting\x20pc'+'.Options#'+_0x156cee+('\x20has\x20been\x20'+'deprecated'+'\x20as\x20the\x20pr'+'operty\x20has'+'\x20been\x20move'+'d\x20to\x20pc.Op'+'tions.LitS'+'haderOptio'+'ns#')+(_0x309dcf||_0x156cee)+'.'),this['litOptions'][_0x309dcf||_0x156cee]=_0x8e03ec;}});}F0('refraction','useRefract'+'ion');const TU=new wv(),zS=Object['getOwnProp'+'ertyNames'](TU);for(const l in zS)F0(zS[l]);mn['prototype']['getAssetBy'+'Id']=function(_0x356ed9){return w['deprecated']('pc.AssetRe'+'gistry#get'+'AssetById\x20'+'is\x20depreca'+'ted.\x20Use\x20p'+'c.AssetReg'+'istry#get\x20'+'instead.'),this['get'](_0x356ed9);},Object['defineProp'+'erty'](Qt['prototype'],'ray',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#ray'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.XrInput'+'Source#get'+'Origin\x20and'+'\x20pc.XrInpu'+'tSource#ge'+'tDirection'+'\x20instead.'),this['_rayLocal'];}}),Object['defineProp'+'erty'](Qt['prototype'],'position',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#pos'+'ition\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Xr'+'InputSourc'+'e#getLocal'+'Position\x20i'+'nstead.'),this['_localPosi'+'tion'];}}),Object['defineProp'+'erty'](Qt['prototype'],'rotation',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#rot'+'ation\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Xr'+'InputSourc'+'e#getLocal'+'Rotation\x20i'+'nstead.'),this['_localRota'+'tion'];}}),Object['defineProp'+'erty'](Xo['prototype'],'wheel',{'get':function(){return this['wheelDelta']*-(-0x1*-0x111a+-0xb4a+0x5ce*-0x1);}}),Object['defineProp'+'erty'](ta['prototype'],'wheel',{'get':function(){return this['wheelDelta']*-(0xffe+-0x1516+-0x2*-0x28d);}}),Ks['prototype']['isFullscre'+'en']=function(){return w['deprecated']('pc.AppBase'+'#isFullscr'+'een\x20is\x20dep'+'recated.\x20U'+'se\x20the\x20Ful'+'lscreen\x20AP'+'I\x20directly'+'.'),!!document['fullscreen'+'Element'];},Ks['prototype']['enableFull'+'screen']=function(_0x1c9606,_0x5475bc,_0xae442c){w['deprecated']('pc.AppBase'+'#enableFul'+'lscreen\x20is'+'\x20deprecate'+'d.\x20Use\x20the'+'\x20Fullscree'+'n\x20API\x20dire'+'ctly.'),_0x1c9606=_0x1c9606||this['graphicsDe'+'vice']['canvas'];const _0x212a8a=function(){_0x5475bc(),document['removeEven'+'tListener']('fullscreen'+'change',_0x212a8a);},_0x41c698=function(){_0xae442c(),document['removeEven'+'tListener']('fullscreen'+'error',_0x41c698);};_0x5475bc&&document['addEventLi'+'stener']('fullscreen'+'change',_0x212a8a,!(-0x273+0x1862+0xaf7*-0x2)),_0xae442c&&document['addEventLi'+'stener']('fullscreen'+'error',_0x41c698,!(-0x19f5+-0x69d*0x5+-0x1*-0x3b07)),_0x1c9606['requestFul'+'lscreen']?_0x1c9606['requestFul'+'lscreen'](Element['ALLOW_KEYB'+'OARD_INPUT']):_0xae442c();},Ks['prototype']['disableFul'+'lscreen']=function(_0x5827a1){w['deprecated']('pc.AppBase'+'#disableFu'+'llscreen\x20i'+'s\x20deprecat'+'ed.\x20Use\x20th'+'e\x20Fullscre'+'en\x20API\x20dir'+'ectly.');const _0xd558f9=function(){_0x5827a1(),document['removeEven'+'tListener']('fullscreen'+'change',_0xd558f9);};_0x5827a1&&document['addEventLi'+'stener']('fullscreen'+'change',_0xd558f9,!(0x3eb+0x3*0x9f+0x11*-0x57)),document['exitFullsc'+'reen']();},Ks['prototype']['getSceneUr'+'l']=function(_0x22de42){w['deprecated']('pc.AppBase'+'#getSceneU'+'rl\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.AppBa'+'se#scenes\x20'+'and\x20pc.Sce'+'neRegistry'+'#find\x20inst'+'ead.');const _0x59ee7b=this['scenes']['find'](_0x22de42);return _0x59ee7b?_0x59ee7b['url']:null;},Ks['prototype']['loadScene']=function(_0x8cc3f7,_0x3f36db){w['deprecated']('pc.AppBase'+'#loadScene'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.AppBase'+'#scenes\x20an'+'d\x20pc.Scene'+'Registry#l'+'oadScene\x20i'+'nstead.'),this['scenes']['loadScene'](_0x8cc3f7,_0x3f36db);},Ks['prototype']['loadSceneH'+'ierarchy']=function(_0x2723b7,_0x2864a0){w['deprecated']('pc.AppBase'+'#loadScene'+'Hierarchy\x20'+'is\x20depreca'+'ted.\x20Use\x20p'+'c.AppBase#'+'scenes\x20and'+'\x20pc.SceneR'+'egistry#lo'+'adSceneHie'+'rarchy\x20ins'+'tead.'),this['scenes']['loadSceneH'+'ierarchy'](_0x2723b7,_0x2864a0);},Ks['prototype']['loadSceneS'+'ettings']=function(_0x150581,_0x448a44){w['deprecated']('pc.AppBase'+'#loadScene'+'Settings\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.AppBase#s'+'cenes\x20and\x20'+'pc.SceneRe'+'gistry#loa'+'dSceneSett'+'ings\x20inste'+'ad.'),this['scenes']['loadSceneS'+'ettings'](_0x150581,_0x448a44);},Tm['prototype']['setVisible']=function(_0xe78024){w['deprecated']('pc.ModelCo'+'mponent#se'+'tVisible\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.ModelComp'+'onent#enab'+'led\x20instea'+'d.'),this['enabled']=_0xe78024;},Object['defineProp'+'erty'](bs['prototype'],'bodyType',{'get':function(){return w['deprecated']('pc.RigidBo'+'dyComponen'+'t#bodyType'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RigidBo'+'dyComponen'+'t#type\x20ins'+'tead.'),this['type'];},'set':function(_0x333dc5){w['deprecated']('pc.RigidBo'+'dyComponen'+'t#bodyType'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RigidBo'+'dyComponen'+'t#type\x20ins'+'tead.'),this['type']=_0x333dc5;}}),bs['prototype']['syncBodyTo'+'Entity']=function(){w['deprecated']('pc.RigidBo'+'dyComponen'+'t#syncBody'+'ToEntity\x20i'+'s\x20not\x20publ'+'ic\x20API\x20and'+'\x20should\x20no'+'t\x20be\x20used.'),this['_updateDyn'+'amic']();},wm['prototype']['setGravity']=function(){w['deprecated']('pc.RigidBo'+'dyComponen'+'tSystem#se'+'tGravity\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.RigidBody'+'ComponentS'+'ystem#grav'+'ity\x20instea'+'d.'),arguments['length']===-0x1e94+0x1*0x1597+0x8fe?this['gravity']['copy'](arguments[0x1a*0xe2+0x3fe+-0x1af2]):this['gravity']['set'](arguments[0x12ec+-0x1233*0x1+-0xb9],arguments[0xc27+0x5*0x428+-0x20ee],arguments[-0xe09+-0x1b5a+0x2965*0x1]);};class wU{constructor(_0x10af3f){this['_frameInde'+'x']=-0x88c*0x1+-0x3*0x757+0x1e91,this['_frameTimi'+'ngs']=[],this['_timings']=[],this['_prevTimin'+'gs']=[],this['unitsName']='ms',this['decimalPla'+'ces']=0x1862+-0x8ae*-0x2+-0x29bd,this['enabled']=!(-0x1*0xdc5+-0x7+0xdcc),_0x10af3f['on']('frameupdat'+'e',this['begin']['bind'](this,'update')),_0x10af3f['on']('framerende'+'r',this['mark']['bind'](this,'render')),_0x10af3f['on']('frameend',this['mark']['bind'](this,'other'));}['begin'](_0x1c742a){if(!this['enabled'])return;this['_frameInde'+'x']<this['_frameTimi'+'ngs']['length']&&this['_frameTimi'+'ngs']['splice'](this['_frameInde'+'x']);const _0x407cff=this['_prevTimin'+'gs'];this['_prevTimin'+'gs']=this['_timings'],this['_timings']=this['_frameTimi'+'ngs'],this['_frameTimi'+'ngs']=_0x407cff,this['_frameInde'+'x']=-0x45*0x4c+-0x2452+0x1*0x38ce,this['mark'](_0x1c742a);}['mark'](_0x56a7bb){if(!this['enabled'])return;const _0x1200b5=de();if(this['_frameInde'+'x']>0x39c*0x1+0x7e*-0x3b+0x196e){const _0x15b5bf=this['_frameTimi'+'ngs'][this['_frameInde'+'x']-(0x1200+-0x3*-0xa79+-0x316a)];_0x15b5bf[-0x2*-0x1302+-0x1e2a+0x7d9*-0x1]=_0x1200b5-_0x15b5bf[0xb89*-0x1+-0xedb+0x1a65];}else{if(this['_timings']['length']>-0x681+0x12d0+-0x1*0xc4f){const _0x5b2c0f=this['_timings'][this['_timings']['length']-(-0x932*0x2+0x17*0xc1+0x2*0x87)];_0x5b2c0f[0xaeb+-0x49*0x1c+-0x2ee]=_0x1200b5-_0x5b2c0f[0x1*-0x501+-0x1*0x2432+-0x24*-0x125];}}if(this['_frameInde'+'x']>=this['_frameTimi'+'ngs']['length'])this['_frameTimi'+'ngs']['push']([_0x56a7bb,_0x1200b5]);else{const _0xd7c8fd=this['_frameTimi'+'ngs'][this['_frameInde'+'x']];_0xd7c8fd[0x643*0x5+-0x139a+-0x3e7*0x3]=_0x56a7bb,_0xd7c8fd[-0x455*0x4+-0x909+0x1a5e]=_0x1200b5;}this['_frameInde'+'x']++;}get['timings'](){return this['_timings']['slice'](0x1*-0x130a+0x1d55+-0xa4b,-(-0x74*-0x28+-0x8de*-0x1+0x31*-0x8d))['map'](_0x464371=>_0x464371[0x91c+0x1cf3*-0x1+0x13d8]);}}class EU{constructor(_0x5491cd){this['device']=_0x5491cd,_0x5491cd['gpuProfile'+'r']['enabled']=!(-0x1e1e+0xf56+0xec8),this['enabled']=!(0x1a8d+-0x5*0x54a+-0x1b),this['unitsName']='ms',this['decimalPla'+'ces']=-0x3a*0x80+0x6*0x208+0x10d1,this['_timings']=[];}get['timings'](){return this['_timings'][0x22f9+-0xf*-0x22f+0x43ba*-0x1]=this['device']['gpuProfile'+'r']['_frameTime'],this['_timings'];}}class bU{constructor(_0x212315,_0x1d083f,_0x42b568,_0x5354d9,_0xcf10fc){this['app']=_0x212315,this['values']=[],this['statNames']=_0x1d083f,this['statNames']['length']>-0x57a*0x1+0x163f+-0x10c2&&(this['statNames']['length']=0x15b2+0x46*-0x5b+0x333),this['unitsName']=_0x5354d9,this['decimalPla'+'ces']=_0x42b568,this['multiplier']=_0xcf10fc||0x24cd+0x5ae*-0x6+-0x2b8;const _0x188d20=(_0x4573d2,_0x127053)=>_0x4573d2['split']('.')['reduce']((_0x3fba9e,_0x278e1a)=>_0x3fba9e?_0x3fba9e[_0x278e1a]:null,_0x127053||this);_0x212315['on']('frameupdat'+'e',_0x536ee2=>{for(let _0x99c9d2=-0x189d+0x1*0x193+0x170a;_0x99c9d2<this['statNames']['length'];_0x99c9d2++)this['values'][_0x99c9d2]=_0x188d20(this['statNames'][_0x99c9d2],this['app']['stats'])*this['multiplier'];});}get['timings'](){return this['values'];}}class Uf{constructor(_0x54f85c,_0x297b33,_0x178e03,_0x2ad56c,_0x2961b5){this['app']=_0x297b33,this['name']=_0x54f85c,this['device']=_0x297b33['graphicsDe'+'vice'],this['timer']=_0x2961b5,this['watermark']=_0x178e03,this['enabled']=!(-0x7ba+0x80a+0x4f*-0x1),this['textRefres'+'hRate']=_0x2ad56c,this['avgTotal']=0x1293*0x1+0xcff+-0x1f92,this['avgTimer']=-0x12*-0x33+0x1d6+-0x4*0x15b,this['avgCount']=-0xb56+0xc32+-0xdc,this['timingText']='',this['texture']=null,this['yOffset']=0x25fc+0x1661*0x1+-0x3c5d,this['cursor']=-0xb70+0x6*-0x10b+0xa*0x1c5,this['sample']=new Uint8ClampedArray(-0x229*-0x1+-0x2606*0x1+0x23e1),this['sample']['set']([-0x1b*-0x7e+-0xe*-0x8a+0xe*-0x17d,-0x1c83+0x1*-0x1e2b+0x103*0x3a,0x2*-0x448+-0x2077+0x48f*0x9,0x1ae3+0xaba*-0x3+0x64a]),this['counter']=0x2f*0x6a+-0xa*-0x1df+-0x262c,this['app']['on']('frameupdat'+'e',this['update'],this);}['destroy'](){this['app']['off']('frameupdat'+'e',this['update'],this);}['loseContex'+'t'](){this['timer']&&typeof this['timer']['loseContex'+'t']=='function'&&this['timer']['loseContex'+'t']();}['update'](_0x9c19c2){const _0x22f27a=this['timer']['timings'],_0x309f33=_0x22f27a['reduce']((_0x221647,_0x5cb08e)=>_0x221647+_0x5cb08e,0x5*-0x9a+-0x10a6+0x13a8);if(this['avgTotal']+=_0x309f33,this['avgTimer']+=_0x9c19c2,this['avgCount']++,this['avgTimer']>this['textRefres'+'hRate']&&(this['timingText']=(this['avgTotal']/this['avgCount'])['toFixed'](this['timer']['decimalPla'+'ces']),this['avgTimer']=0x36f*0x3+-0x49*0x30+0x363,this['avgTotal']=-0x8c2+-0x46*-0x83+-0x1b10,this['avgCount']=0x1da5+-0x210d*-0x1+-0x3eb2),this['enabled']){let _0x55d904=0x62*-0x4f+-0x129a*0x1+0x2*0x186c;const _0x5669b4=(-0x852*0x2+-0x23*-0xcb+-0x2c7*0x4+0.5)*this['watermark'];for(let _0x5852b6=0x269f+0x10e0+-0x377f;_0x5852b6<_0x22f27a['length'];++_0x5852b6)_0x55d904+=Math['floor'](_0x22f27a[_0x5852b6]/_0x5669b4*(0xe*0x88+-0x17c+-0x4f5)),this['sample'][_0x5852b6]=_0x55d904;this['sample'][0x2187+0x225d*-0x1+0xd9]=this['watermark']/_0x5669b4*(0xffd+0x163*0x1+0x1*-0x1061),this['texture']['lock']()['set'](this['sample'],(this['cursor']+this['yOffset']*this['texture']['width'])*(0x564+-0x878*0x2+-0x128*-0xa)),this['texture']['unlock'](),this['cursor']++,this['cursor']===this['texture']['width']&&(this['cursor']=0xfda+0x1407+-0x343*0xb);}}['render'](_0x7fa690,_0x33e200,_0x5305b6,_0x2f0e62,_0x55da23){_0x7fa690['quad'](_0x33e200+_0x2f0e62,_0x5305b6,-_0x2f0e62,_0x55da23,this['enabled']?this['cursor']:-0x1*0xa36+0x94a*-0x2+0x1cca,this['enabled']?0x1fe*-0xc+-0x9ba*-0x4+0xa0*-0x18+0.5+this['yOffset']:this['texture']['height']-(-0x184f+-0x78c*0x3+0x2ef4),-_0x2f0e62,-0x209*-0x13+-0x365*0x4+0x1917*-0x1,this['texture'],-0xa*-0x317+-0x1c4b+-0x29b*0x1);}}class AU{constructor(_0x58b6ab,_0x460c38){const _0x212051=_0x54befd=>{_0x54befd['font']='10px\x20\x22Luci'+'da\x20Console'+'\x22,\x20Monaco,'+'\x20monospace',_0x54befd['textAlign']='left',_0x54befd['textBaseli'+'ne']='alphabetic';},_0x919784=_0x98ca6b=>_0x98ca6b==='.'||_0x98ca6b['length']===-0x11f9*-0x2+-0x21a*-0x11+0x47ab*-0x1&&_0x98ca6b['charCodeAt'](0x21*-0x52+0x1b0f+-0xc9*0x15)>=-0x136e+0x1*0x1cff+-0x961&&_0x98ca6b['charCodeAt'](0xd*0xc7+-0x11c4*0x1+0x1*0x7a9)<=-0x131f+-0x1ce1+-0x3*-0x1013,_0x280a2b=document['createElem'+'ent']('canvas'),_0x169867=_0x280a2b['getContext']('2d',{'alpha':!(0x190e+0x391*-0x5+0x2b*-0x2b)});_0x212051(_0x169867);const _0x16e029=new Map(),_0x2f8cb5=-0x5cb+0x381+0x1*0x24f,_0x122964=0x24e9*0x1+-0x89a*0x2+-0x11b5;let _0x4bc1e9=_0x2f8cb5,_0x3b2414=_0x2f8cb5;_0x460c38['forEach'](_0x3ecb41=>{const _0x35784b=_0x169867['measureTex'+'t'](_0x3ecb41),_0x37a3ea=Math['ceil'](-_0x35784b['actualBoun'+'dingBoxLef'+'t']),_0x49b090=Math['ceil'](_0x35784b['actualBoun'+'dingBoxRig'+'ht']),_0x15a93f=Math['ceil'](_0x35784b['actualBoun'+'dingBoxAsc'+'ent']),_0x222a22=Math['ceil'](_0x35784b['actualBoun'+'dingBoxDes'+'cent']),_0x51b177=_0x37a3ea+_0x49b090,_0x2aede6=_0x15a93f+_0x222a22;_0x4bc1e9+_0x51b177+_0x2f8cb5>=_0x122964&&(_0x4bc1e9=_0x2f8cb5,_0x3b2414+=0x11c*-0x8+0xf*-0x14a+0x149*0x16),_0x16e029['set'](_0x3ecb41,{'l':_0x37a3ea,'r':_0x49b090,'a':_0x15a93f,'d':_0x222a22,'w':_0x51b177,'h':_0x2aede6,'x':_0x4bc1e9,'y':_0x3b2414}),_0x4bc1e9+=_0x51b177+_0x2f8cb5;}),_0x280a2b['width']=-0x1c59+-0x1*0x11f5+0x304e,_0x280a2b['height']=Y['nextPowerO'+'fTwo'](_0x3b2414+(0x2641*-0x1+-0x2*-0xb85+0x1*0xf47)+_0x2f8cb5),_0x212051(_0x169867),_0x169867['fillStyle']='rgb(0,\x200,\x20'+'0)',_0x169867['fillRect'](0xadb*0x3+0x125*0x15+0x325*-0x12,-0x3*-0xa95+-0x176d+-0xd5*0xa,_0x280a2b['width'],_0x280a2b['height']),_0x16e029['forEach']((_0x5ca98,_0x4c5b9e)=>{_0x169867['fillStyle']=_0x919784(_0x4c5b9e)?'rgb(255,\x202'+'55,\x20255)':'rgb(170,\x201'+'70,\x20170)',_0x169867['fillText'](_0x4c5b9e,_0x5ca98['x']-_0x5ca98['l'],_0x5ca98['y']+_0x5ca98['a']);}),this['placements']=_0x16e029;const _0x11b88c=_0x169867['getImageDa'+'ta'](-0xd09+-0x41*0x79+0x2bc2,0x1859+0x1*-0x1f0d+0x6b4,_0x280a2b['width'],_0x280a2b['height'])['data'];for(let _0x474378=-0x4*0x1f+-0x1cb3+-0x1d2f*-0x1;_0x474378<_0x11b88c['length'];_0x474378+=0x16f3+-0x2691+0xfa2)_0x11b88c[_0x474378+(0x1*0x3b5+-0xc47+0x895*0x1)]=_0x11b88c[_0x474378+(-0xb3a*-0x1+-0xc2+-0xa78)],_0x11b88c[_0x474378+(-0x5*0x2b+-0x18*0x2b+0x4df)]=-0x1b0e+0x1813+0x2*0x1fd,_0x11b88c[_0x474378+(0x12ef+0x241*0x11+0x1*-0x393f)]=0x11e7*0x1+-0x382+-0xd66,_0x11b88c[_0x474378+(-0x343+0x2428+-0x20e3)]=0x1cd*0x1+0xa07+0xad5*-0x1;this['texture']=new _e(_0x58b6ab,{'name':'mini-stats'+'-word-atla'+'s','width':_0x280a2b['width'],'height':_0x280a2b['height'],'mipmaps':!(0xf0f+-0x29*-0xf3+0x35f9*-0x1),'minFilter':Te,'magFilter':Te,'levels':[_0x11b88c]});}['destroy'](){this['texture']['destroy'](),this['texture']=null;}['render'](_0x2b05b0,_0x9d3cba,_0x3443c9,_0x5651fc){const _0xb61942=this['placements']['get'](_0x9d3cba);return _0xb61942?(_0x2b05b0['quad'](_0x3443c9+_0xb61942['l']-(-0xc1*0x2b+0x5c1+0x1aab),_0x5651fc-_0xb61942['d']+(-0x153*0x1d+-0x2a5*-0x6+0xa*0x241),_0xb61942['w']+(0x10d2+0x9*-0x177+0x3a1*-0x1),_0xb61942['h']+(-0x1*-0xc46+0x1a5*0x6+0x1622*-0x1),_0xb61942['x']-(-0x11*0x8b+0x8d3+0x69),this['texture']['height']-_0xb61942['y']-_0xb61942['h']-(-0x201*0x7+0xabb+0x34d*0x1),void(-0x1d83+0x188+0x1bfb),void(-0x1c3e+-0x8f4+-0x45*-0x8a),this['texture'],0x1*0x203f+-0x1*0x14ea+-0xb54),_0xb61942['w']):0x1*-0x6a3+0x2327*-0x1+0x29ca;}}const CU='\x0a\x20\x20\x20\x20attri'+'bute\x20vec3\x20'+'vertex_pos'+'ition;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20un'+'normalized'+'\x20xy,\x20word\x20'+'flag\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_texCoord0'+';\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20unnormal'+'ized\x20textu'+'re\x20space\x20u'+'v,\x20normali'+'zed\x20uv\x0a\x0a\x20\x20'+'\x20\x20varying\x20'+'vec4\x20uv0;\x0a'+'\x20\x20\x20\x20varyin'+'g\x20float\x20wo'+'rdFlag;\x0a\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion.xy\x20*\x202'+'.0\x20-\x201.0,\x20'+'0.5,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v0\x20=\x20verte'+'x_texCoord'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20wordFlag\x20'+'=\x20vertex_p'+'osition.z;'+'\x0a\x20\x20\x20\x20}\x0a',PU='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec3f;\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'unnormaliz'+'ed\x20xy,\x20wor'+'d\x20flag\x0a\x20\x20\x20'+'\x20attribute'+'\x20vertex_te'+'xCoord0:\x20v'+'ec4f;\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20unno'+'rmalized\x20t'+'exture\x20spa'+'ce\x20uv,\x20nor'+'malized\x20uv'+'\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec4f;\x0a\x20\x20\x20\x20'+'varying\x20wo'+'rdFlag:\x20f3'+'2;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x20fn\x20v'+'ertexMain('+'input\x20:\x20Ve'+'rtexInput)'+'\x20->\x20Vertex'+'Output\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output\x20:\x20'+'VertexOutp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.p'+'osition\x20=\x20'+'vec4(input'+'.vertex_po'+'sition.xy\x20'+'*\x202.0\x20-\x201.'+'0,\x200.5,\x201.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.u'+'v0\x20=\x20input'+'.vertex_te'+'xCoord0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.wordFl'+'ag\x20=\x20input'+'.vertex_po'+'sition.z;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',MU='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec4\x20uv'+'0;\x0a\x20\x20\x20\x20var'+'ying\x20float'+'\x20wordFlag;'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'lr;\x0a\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20grap'+'hTex;\x0a\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20wo'+'rdsTex;\x0a\x0a\x20'+'\x20\x20\x20void\x20ma'+'in\x20(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20graph'+'Sample\x20=\x20t'+'exture2D(g'+'raphTex,\x20u'+'v0.xy);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20graph;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uv0.w\x20<\x20g'+'raphSample'+'.r)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20grap'+'h\x20=\x20vec4(0'+'.7,\x200.2,\x200'+'.2,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20el'+'se\x20if\x20(uv0'+'.w\x20<\x20graph'+'Sample.g)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20graph\x20=\x20'+'vec4(0.2,\x20'+'0.7,\x200.2,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20else\x20i'+'f\x20(uv0.w\x20<'+'\x20graphSamp'+'le.b)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gr'+'aph\x20=\x20vec4'+'(0.2,\x200.2,'+'\x200.7,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gra'+'ph\x20=\x20vec4('+'0.0,\x200.0,\x20'+'0.0,\x201.0\x20-'+'\x200.25\x20*\x20si'+'n(uv0.w\x20*\x20'+'3.14159));'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20words'+'\x20=\x20texture'+'2D(wordsTe'+'x,\x20vec2(uv'+'0.x,\x201.0\x20-'+'\x20uv0.y));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20mix(gr'+'aph,\x20words'+',\x20wordFlag'+')\x20*\x20clr;\x0a\x20'+'\x20\x20\x20}\x0a',DU='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c4f;\x0a\x20\x20\x20\x20v'+'arying\x20wor'+'dFlag:\x20f32'+';\x0a\x0a\x20\x20\x20\x20uni'+'form\x20clr:\x20'+'vec4f;\x0a\x0a\x20\x20'+'\x20\x20var\x20grap'+'hTex\x20:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20graphTex'+'_sampler\x20:'+'\x20sampler;\x0a'+'\x0a\x20\x20\x20\x20var\x20w'+'ordsTex\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20words'+'Tex_sample'+'r\x20:\x20sample'+'r;\x0a\x0a\x20\x20\x20\x20@f'+'ragment\x20fn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20u'+'v0:\x20vec4f\x20'+'=\x20input.uv'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20graph'+'Sample:\x20ve'+'c4f\x20=\x20text'+'ureSample('+'graphTex,\x20'+'graphTex_s'+'ampler,\x20uv'+'0.xy);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'graph:\x20vec'+'4f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(uv0.'+'w\x20<\x20graphS'+'ample.r)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20graph\x20='+'\x20vec4f(0.7'+',\x200.2,\x200.2'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20if\x20(uv0'+'.w\x20<\x20graph'+'Sample.g)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20graph\x20'+'=\x20vec4f(0.'+'2,\x200.7,\x200.'+'2,\x201.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(uv'+'0.w\x20<\x20grap'+'hSample.b)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20graph'+'\x20=\x20vec4f(0'+'.2,\x200.2,\x200'+'.7,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'raph\x20=\x20vec'+'4f(0.0,\x200.'+'0,\x200.0,\x201.'+'0\x20-\x200.25\x20*'+'\x20sin(uv0.w'+'\x20*\x203.14159'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20wor'+'ds:\x20vec4f\x20'+'=\x20textureS'+'ample(word'+'sTex,\x20word'+'sTex_sampl'+'er,\x20vec2f('+'uv0.x,\x201.0'+'\x20-\x20uv0.y))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20mix(grap'+'h,\x20words,\x20'+'input.word'+('Flag)\x20*\x20un'+'iform.clr;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20}\x0a');class IU{constructor(_0x485fa3,_0x2694c5=-0x1637+-0xe7d*0x2+0x10b*0x33){const _0x13c84d=new kt(_0x485fa3,[{'semantic':Me,'components':0x3,'type':Ve},{'semantic':is,'components':0x4,'type':Ve}]),_0x10dd55=new Uint16Array(_0x2694c5*(-0xd*0x19b+-0x211e+0x3603*0x1));for(let _0x2fabe3=0x2*-0x106f+0x1*-0x235d+0x443b;_0x2fabe3<_0x2694c5;++_0x2fabe3)_0x10dd55[_0x2fabe3*(0x25*-0x25+-0x1*0x1d1d+-0x227c*-0x1)+(-0xc0d*0x2+-0x770+0x1f8a)]=_0x2fabe3*(-0x17b2+-0x896+0x1*0x204c),_0x10dd55[_0x2fabe3*(0x3*0x731+0x9e5+-0x1f72)+(-0x171*-0xe+0x6*0x32b+-0x272f)]=_0x2fabe3*(0xb3*-0x5+0xdfa+-0xa77)+(0x1eae+0xd5b+0x581*-0x8),_0x10dd55[_0x2fabe3*(0xf0d+-0x3f0+-0x11*0xa7)+(0x10d*-0x15+0x63+0x15b0)]=_0x2fabe3*(0x5c+0x29d*-0x3+0x77f)+(0x875*0x3+0xc5+-0x1a22),_0x10dd55[_0x2fabe3*(-0x10c5*0x2+-0x2*0x342+0x2814)+(-0xa06+-0x1*-0x2707+-0x3*0x9aa)]=_0x2fabe3*(0x1cfa+-0x2255+0x113*0x5),_0x10dd55[_0x2fabe3*(0x3b9*-0x4+0x2338+-0x144e)+(-0x5*-0x13d+-0x1de2+0x7*0x363)]=_0x2fabe3*(-0x7*0x513+0x296+0x7*0x4b5)+(0x1661+-0x144b+0x7*-0x4c),_0x10dd55[_0x2fabe3*(0x1822+0xbe0+-0x23fc)+(-0x2234+-0xa7*-0x2d+0xe*0x59)]=_0x2fabe3*(-0x403*-0x3+-0x1*0x18ee+-0x295*-0x5)+(0xb05*0x1+-0x1*-0x91+-0xb93*0x1);this['device']=_0x485fa3,this['buffer']=new Is(_0x485fa3,_0x13c84d,_0x2694c5*(0x67*-0x3d+-0x8*0x293+0x2d27),{'usage':ey}),this['data']=new Float32Array(this['buffer']['numBytes']/(-0x3c3*0x4+0x3b4+0x2*0x5ae)),this['indexBuffe'+'r']=new br(_0x485fa3,Yi,_0x2694c5*(0x47+-0x3f*0x9d+0x11*0x242),ms,_0x10dd55),this['prim']={'type':js,'indexed':!(-0x6d4+0xcfc*0x2+-0x4c9*0x4),'base':0x0,'baseVertex':0x0,'count':0x0},this['quads']=0x421+0x1*-0xd37+0x916,this['mesh']=new Ge(_0x485fa3),this['mesh']['vertexBuff'+'er']=this['buffer'],this['mesh']['indexBuffe'+'r'][-0x1a*0x81+-0xb42+-0x185c*-0x1]=this['indexBuffe'+'r'],this['mesh']['primitive']=[this['prim']];const _0x5a7a3b=new Xn({'uniqueName':'MiniStats','vertexGLSL':CU,'fragmentGLSL':MU,'vertexWGSL':PU,'fragmentWGSL':DU,'attributes':{'vertex_position':Me,'vertex_texCoord0':is}});this['material']=_0x5a7a3b,_0x5a7a3b['cull']=bt,_0x5a7a3b['depthState']=Yt['NODEPTH'],_0x5a7a3b['blendState']=new pt(!(0x807+-0x3b3*-0x4+0x16d3*-0x1),fs,jh,Yh,fs,Ft,Ft),_0x5a7a3b['update'](),this['meshInstan'+'ce']=new He(this['mesh'],_0x5a7a3b,new Ie('MiniStatsM'+'esh')),this['uniforms']={'clr':new Float32Array(-0x10ea+0x15a6+0x4b8*-0x1)},this['targetSize']={'width':_0x485fa3['width'],'height':_0x485fa3['height']};}['quad'](_0x222c1a,_0x3366e8,_0x216519,_0x3d8102,_0x35103e,_0x515e5a,_0x34285d,_0x29e13c,_0x54a8a4,_0xdd68b7=0x1*-0x1795+0x1451*-0x1+-0x2be6*-0x1){const _0x457bbd=this['targetSize']['width'],_0x182ab1=this['targetSize']['height'],_0x1e0c49=_0x222c1a/_0x457bbd,_0x736dfd=_0x3366e8/_0x182ab1,_0x1c74a4=(_0x222c1a+_0x216519)/_0x457bbd,_0x2b6fa4=(_0x3366e8+_0x3d8102)/_0x182ab1,_0x14818d=_0x54a8a4['width'],_0x5a4b24=_0x54a8a4['height'],_0x208b5c=_0x35103e/_0x14818d,_0x167b09=_0x515e5a/_0x5a4b24,_0x170780=(_0x35103e+(_0x34285d??_0x216519))/_0x14818d,_0x14ee06=(_0x515e5a+(_0x29e13c??_0x3d8102))/_0x5a4b24;this['data']['set']([_0x1e0c49,_0x736dfd,_0xdd68b7,_0x208b5c,_0x167b09,-0xf70+0x1*0x1000+-0x8*0x12,-0x1b59*0x1+-0x21a7+0x3d00,_0x1c74a4,_0x736dfd,_0xdd68b7,_0x170780,_0x167b09,0x2185+0x1159+-0x32dd,-0x48*-0x8+0x333+0x2d*-0x1f,_0x1c74a4,_0x2b6fa4,_0xdd68b7,_0x170780,_0x14ee06,-0x1352*-0x1+0x167a+-0x29cb,-0x76*0x17+-0x1526+0x1fc1,_0x1e0c49,_0x2b6fa4,_0xdd68b7,_0x208b5c,_0x14ee06,0x30b*-0xa+-0xf2e+0x8b*0x54,0x19cd+0x6a*-0x1+-0x1962],(0x5*-0x46f+0x27*-0x62+0x2535)*this['quads']),this['quads']++,this['prim']['count']+=0x1a17+0x1*-0xc5d+0x2*-0x6da;}['startFrame'](){this['quads']=0x5*0x2c6+0x1f5*-0x5+-0x415,this['prim']['count']=-0x1669+-0x737*-0x1+-0x2*-0x799,this['targetSize']['width']=this['device']['canvas']['scrollWidt'+'h'],this['targetSize']['height']=this['device']['canvas']['scrollHeig'+'ht'];}['render'](_0x5c9076,_0x195506,_0x8957ea,_0x2b577c,_0x33f5a0,_0x20bbdc){this['buffer']['setData'](this['data']['buffer']),this['uniforms']['clr']['set'](_0x33f5a0,-0x75d+-0x72+0x7cf*0x1),this['material']['setParamet'+'er']('clr',this['uniforms']['clr']),this['material']['setParamet'+'er']('graphTex',_0x8957ea),this['material']['setParamet'+'er']('wordsTex',_0x2b577c),_0x5c9076['drawMeshIn'+'stance'](this['meshInstan'+'ce'],_0x195506);}}class N0{constructor(_0x1e2f15,_0x202aad){const _0x287614=_0x1e2f15['graphicsDe'+'vice'];this['deviceHeig'+'ht']=_0x287614['height']/_0x287614['maxPixelRa'+'tio'],_0x202aad={...N0['getDefault'+'Options'](),..._0x202aad},this['options']=_0x202aad,this['initGraphs'](_0x1e2f15,_0x287614,_0x202aad);const _0x9cc752=new Set(['','ms','0','1','2','3','4','5','6','7','8','9','.']['concat'](this['graphs']['map'](_0x356eee=>_0x356eee['name']))['concat'](_0x202aad['stats']?_0x202aad['stats']['map'](_0x56a091=>_0x56a091['unitsName']):[])['filter'](_0x3ee1a7=>!!_0x3ee1a7));this['wordAtlas']=new AU(_0x287614,_0x9cc752),this['sizes']=_0x202aad['sizes'],this['_activeSiz'+'eIndex']=_0x202aad['startSizeI'+'ndex'];const _0x3c87da=document['createElem'+'ent']('div');_0x3c87da['setAttribu'+'te']('id','mini-stats'),_0x202aad['position']==='top'?_0x3c87da['style']['cssText']='position:f'+'ixed;top:0'+';left:0;ba'+'ckground:t'+'ransparent'+';':_0x3c87da['style']['cssText']='position:f'+'ixed;botto'+'m:0;left:0'+';backgroun'+'d:transpar'+'ent;',_0x3c87da['style']['cssText']='position:f'+'ixed;top:0'+';left:0;ba'+'ckground:t'+'ransparent'+';',document['body']['appendChil'+'d'](_0x3c87da),_0x3c87da['addEventLi'+'stener']('mouseenter',_0x1a525a=>{this['opacity']=-0x2*-0x12b9+-0x2*-0x9d+-0x1*0x26ab;}),_0x3c87da['addEventLi'+'stener']('mouseleave',_0x52680d=>{this['opacity']=-0xdd*0x4+-0x1e4e+0x21c2+0.7;}),_0x3c87da['addEventLi'+'stener']('click',_0x27d2fb=>{_0x27d2fb['preventDef'+'ault'](),this['_enabled']&&(this['activeSize'+'Index']=(this['activeSize'+'Index']+(-0x19d1+0x5*0x166+0x12d4))%this['sizes']['length'],this['resize'](this['sizes'][this['activeSize'+'Index']]['width'],this['sizes'][this['activeSize'+'Index']]['height'],this['sizes'][this['activeSize'+'Index']]['graphs']));}),_0x287614['on']('resizecanv'+'as',this['updateDiv'],this),_0x287614['on']('losecontex'+'t',this['loseContex'+'t'],this),_0x1e2f15['on']('postrender',this['postRender'],this),this['app']=_0x1e2f15,this['drawLayer']=_0x1e2f15['scene']['layers']['getLayerBy'+'Id'](Il),this['device']=_0x287614,this['render2d']=new IU(_0x287614),this['div']=_0x3c87da,this['width']=0x8d1+0xdd3*0x1+-0x16a4,this['height']=-0x248e+0x7*0x14b+0x1b81,this['gspacing']=0x2145+0x1925+-0x3a68,this['clr']=[0x162e*-0x1+-0x1b80+-0xa1*-0x4f,-0x1d0*-0xb+-0x18d7+-0x9d*-0x8,-0x1e09+0x1db5+-0x11*-0x5,0x1ac2+-0x156f+0x553*-0x1+0.5],this['_enabled']=!(0x21d8+0x145a+-0x3632),this['activeSize'+'Index']=this['_activeSiz'+'eIndex'];}['destroy'](){this['device']['off']('resizecanv'+'as',this['updateDiv'],this),this['device']['off']('losecontex'+'t',this['loseContex'+'t'],this),this['app']['off']('postrender',this['postRender'],this),this['graphs']['forEach'](_0x34cb71=>_0x34cb71['destroy']()),this['wordAtlas']['destroy'](),this['texture']['destroy']();}static['getDefault'+'Options'](){return{'position':'top','sizes':[{'width':0x64,'height':0x10,'spacing':0x0,'graphs':!(-0x6a7+-0x3ac*-0x8+-0x8*0x2d7)},{'width':0x80,'height':0x20,'spacing':0x2,'graphs':!(0x193e+0xb06+-0x2444)},{'width':0x100,'height':0x40,'spacing':0x2,'graphs':!(-0x10d9+0x548+0x8d*0x15)}],'startSizeIndex':0x0,'textRefreshRate':0x1f4,'cpu':{'enabled':!(-0x13*-0x18e+-0x209b*-0x1+-0x1*0x3e25),'watermark':0x21},'gpu':{'enabled':!(-0x1720+-0x2181+0x38a1),'watermark':0x21},'stats':[{'name':'Frame','stats':['frame.ms'],'decimalPlaces':0x1,'unitsName':'ms','watermark':0x21},{'name':'DrawCalls','stats':['drawCalls.'+'total'],'watermark':0x3e8}]};}set['activeSize'+'Index'](_0x45ce7b){this['_activeSiz'+'eIndex']=_0x45ce7b,this['gspacing']=this['sizes'][_0x45ce7b]['spacing'],this['resize'](this['sizes'][_0x45ce7b]['width'],this['sizes'][_0x45ce7b]['height'],this['sizes'][_0x45ce7b]['graphs']);}get['activeSize'+'Index'](){return this['_activeSiz'+'eIndex'];}set['opacity'](_0x463277){this['clr'][0x5*-0x704+-0x16d3+0x2a*0x161]=_0x463277;}get['opacity'](){return this['clr'][0x169d+0x1bb3+-0x4f*0xa3];}get['overallHei'+'ght'](){const _0x5b3a37=this['graphs'],_0x3f7418=this['gspacing'];return this['height']*_0x5b3a37['length']+_0x3f7418*(_0x5b3a37['length']-(-0x1*-0xa2e+0x7*-0x2de+-0x1*-0x9e5));}set['enabled'](_0x1aae81){if(_0x1aae81!==this['_enabled']){this['_enabled']=_0x1aae81;for(let _0x5561e3=0x2f3*0x1+0x1a9f+0x1*-0x1d92;_0x5561e3<this['graphs']['length'];++_0x5561e3)this['graphs'][_0x5561e3]['enabled']=_0x1aae81,this['graphs'][_0x5561e3]['timer']['enabled']=_0x1aae81;}}get['enabled'](){return this['_enabled'];}['initGraphs'](_0x508a3d,_0x4cd61f,_0x5c354a){if(this['graphs']=[],_0x5c354a['cpu']['enabled']){const _0x351851=new wU(_0x508a3d),_0x5177c2=new Uf('CPU',_0x508a3d,_0x5c354a['cpu']['watermark'],_0x5c354a['textRefres'+'hRate'],_0x351851);this['graphs']['push'](_0x5177c2);}if(_0x5c354a['gpu']['enabled']){const _0x3b8290=new EU(_0x4cd61f),_0x3858bf=new Uf('GPU',_0x508a3d,_0x5c354a['gpu']['watermark'],_0x5c354a['textRefres'+'hRate'],_0x3b8290);this['graphs']['push'](_0x3858bf);}_0x5c354a['stats']&&_0x5c354a['stats']['forEach'](_0x32e2fe=>{const _0x42ca4c=new bU(_0x508a3d,_0x32e2fe['stats'],_0x32e2fe['decimalPla'+'ces'],_0x32e2fe['unitsName'],_0x32e2fe['multiplier']),_0x356daf=new Uf(_0x32e2fe['name'],_0x508a3d,_0x32e2fe['watermark'],_0x5c354a['textRefres'+'hRate'],_0x42ca4c);this['graphs']['push'](_0x356daf);});const _0x479bd1=_0x5c354a['sizes']['reduce']((_0x3a2b08,_0x1fd3cb)=>_0x1fd3cb['width']>_0x3a2b08?_0x1fd3cb['width']:_0x3a2b08,0x1e75+0x1eb*0x3+-0x203*0x12);this['texture']=new _e(_0x4cd61f,{'name':'mini-stats'+'-graph-tex'+'ture','width':Y['nextPowerO'+'fTwo'](_0x479bd1),'height':Y['nextPowerO'+'fTwo'](this['graphs']['length']),'mipmaps':!(0x4*0x532+-0x21f*0x3+-0xe6a),'minFilter':Te,'magFilter':Te,'addressU':yt,'addressV':yt}),this['graphs']['forEach']((_0x3868ca,_0x53edd1)=>{_0x3868ca['texture']=this['texture'],_0x3868ca['yOffset']=_0x53edd1;});}['render'](){const _0x22bd04=this['graphs'],_0x466a57=this['wordAtlas'],_0x8bf2d6=this['render2d'],_0x7ad780=this['width'],_0x56222e=this['height'],_0x51b5c6=this['gspacing'];_0x8bf2d6['startFrame']();for(let _0x329b48=0x202*0x1+-0x12f5+0x10f3;_0x329b48<_0x22bd04['length'];++_0x329b48){const _0x1bccc2=_0x22bd04[_0x329b48];let _0x416507=this['options']['position']==='top'?this['deviceHeig'+'ht']-(_0x329b48+(-0x1*0x1fe7+-0x5*-0x481+0x963))*(_0x56222e+_0x51b5c6):_0x329b48*(_0x56222e+_0x51b5c6);_0x1bccc2['render'](_0x8bf2d6,-0x31*-0x4e+-0x22*0x111+-0x1*-0x1554,_0x416507,_0x7ad780,_0x56222e);let _0x4c2d65=0x6*0x3+-0x1*-0xba0+-0x49*0x29;_0x416507+=_0x56222e-(-0x4*-0x3f5+-0x1177+0x1b0),_0x4c2d65+=_0x466a57['render'](_0x8bf2d6,_0x1bccc2['name'],_0x4c2d65,_0x416507)+(0x910*-0x4+0x53e*-0x2+0x2ec6);const _0x4029b5=_0x1bccc2['timingText'];for(let _0x1af07d=-0x7*0x4d9+-0x3b2*0x5+0x3469;_0x1af07d<_0x4029b5['length'];++_0x1af07d)_0x4c2d65+=_0x466a57['render'](_0x8bf2d6,_0x4029b5[_0x1af07d],_0x4c2d65,_0x416507);_0x1bccc2['timer']['unitsName']&&(_0x4c2d65+=0xb1a+-0x195a+-0x3*-0x4c1,_0x466a57['render'](_0x8bf2d6,_0x1bccc2['timer']['unitsName'],_0x4c2d65,_0x416507));}_0x8bf2d6['render'](this['app'],this['drawLayer'],this['texture'],this['wordAtlas']['texture'],this['clr'],_0x56222e);}['resize'](_0x138a96,_0xe02d58,_0x5cb53c){const _0x1bcb17=this['graphs'];for(let _0x43481b=0x2593+-0x1948+-0xc4b;_0x43481b<_0x1bcb17['length'];++_0x43481b)_0x1bcb17[_0x43481b]['enabled']=_0x5cb53c;this['width']=_0x138a96,this['height']=_0xe02d58,this['updateDiv']();}['updateDiv'](){const _0x4d0511=this['device']['canvas']['getBoundin'+'gClientRec'+'t']();this['div']['style']['left']=_0x4d0511['left']+'px',this['div']['style']['bottom']=window['innerHeigh'+'t']-_0x4d0511['bottom']+'px',this['div']['style']['width']=this['width']+'px',this['div']['style']['height']=this['overallHei'+'ght']+'px',this['deviceHeig'+'ht']=this['device']['height']/this['device']['maxPixelRa'+'tio'];}['loseContex'+'t'](){this['graphs']['forEach'](_0x251b5a=>_0x251b5a['loseContex'+'t']());}['postRender'](){this['_enabled']&&this['render']();}}H0();class LU extends ts{constructor(){super(...arguments),h(this,'basePath','https://cd'+'n.jsdelivr'+'.net/npm/@'+'webxr-inpu'+'t-profiles'+'/assets/di'+'st/profile'+'s'),h(this,'controller'+'s',new Map()),h(this,'preEntitie'+'s',new Map()),h(this,'eventsList',[]),h(this,'addEvents',(_0x1849e,_0x2d8d69,_0x2f43aa)=>{_0x1849e['on'](_0x2d8d69,_0x2f43aa),this['eventsList']=this['eventsList']['concat']({'e':_0x1849e,'ty':_0x2d8d69,'fn':_0x2f43aa});}),h(this,'removeEven'+'ts',()=>{this['eventsList']['forEach'](({e:_0x1f54ed,ty:_0x4b38e9,fn:_0x2af293})=>{_0x1f54ed['off'](_0x4b38e9,_0x2af293);}),this['eventsList']=[];}),h(this,'initialize',()=>{if(!this['app']['xr']){console['error']('XrControll'+'ers\x20script'+'\x20requires\x20'+'XR\x20to\x20be\x20e'+'nabled\x20on\x20'+'the\x20applic'+'ation');return;}this['addEvents'](this['app']['xr']['input'],'add',async _0xb30c27=>{var _0x1e949f;if(console['log']('add\x20xr\x20inp'+'ut',_0xb30c27['handedness']),!((_0x1e949f=_0xb30c27['profiles'])!=null&&_0x1e949f['length'])){console['warn']('No\x20profile'+'s\x20availabl'+'e\x20for\x20inpu'+'t\x20source');return;}const _0xfe85cf=_0xb30c27['profiles']['map'](async _0x1193d6=>{var _0x34916d;const _0x1a85a0=this['basePath']+'/'+_0x1193d6+('/profile.j'+'son');try{const _0x48b3ac=await fetch(_0x1a85a0);if(!_0x48b3ac['ok'])return null;const _0x4bbc88=await _0x48b3ac['json'](),_0x1977ce=((_0x34916d=_0x4bbc88['layouts'][_0xb30c27['handedness']])==null?void(0xc1+0x20*0xd5+-0x1b61):_0x34916d['assetPath'])||'',_0x2cf797=this['basePath']+'/'+_0x4bbc88['profileId']+'/'+_0xb30c27['handedness']+_0x1977ce['replace'](/^\/?(left|right)/,''),_0x55d10f=await new Promise((_0x6fa683,_0x55246e)=>{this['app']['assets']['loadFromUr'+'l'](_0x2cf797,'container',(_0x250517,_0x28ba5b)=>{_0x250517?_0x55246e(_0x250517):_0x6fa683(_0x28ba5b);});});return{'profileId':_0x1193d6,'asset':_0x55d10f};}catch{return console['warn']('Failed\x20to\x20'+'process\x20pr'+'ofile\x20'+_0x1193d6),null;}}),_0xe7afa1=(await Promise['all'](_0xfe85cf))['find'](_0x4f214a=>_0x4f214a!==null);if(_0xe7afa1){const {asset:_0x4a9a26}=_0xe7afa1,_0x5c6b4f=_0x4a9a26['resource']['instantiat'+'eRenderEnt'+'ity']();_0x5c6b4f['name']='Armature_'+_0xb30c27['handedness'],this['app']['root']['addChild'](_0x5c6b4f),this['preEntitie'+'s']['set'](_0xb30c27,_0x5c6b4f);const _0x1a9bec=new Map();if(_0xb30c27['hand'])for(const _0x4f0c5b of _0xb30c27['hand']['joints']){const _0x28ff8a=_0x5c6b4f['findByName'](_0x4f0c5b['id']);_0x28ff8a&&_0x1a9bec['set'](_0x4f0c5b,_0x28ff8a);}this['controller'+'s']['set'](_0xb30c27,{'entity':_0x5c6b4f,'jointMap':_0x1a9bec});}else console['warn']('No\x20compati'+'ble\x20profil'+'es\x20found');}),this['addEvents'](this['app']['xr']['input'],'remove',_0x1a53e8=>{var _0xcb436f;const _0x222271=this['controller'+'s']['get'](_0x1a53e8);_0x222271&&((_0xcb436f=_0x222271['entity'])==null||_0xcb436f['destroy'](),this['app']['root']['removeChil'+'d'](_0x222271==null?void(-0xabb+-0x229+-0x19*-0x84):_0x222271['entity']),this['controller'+'s']['delete'](_0x1a53e8));}),this['addEvents'](this['app']['xr']['input'],'removeall',this['destroy']),this['on']('destroy',this['removeEven'+'ts']);}),h(this,'destroy',()=>{var _0x3dc735,_0x543867,_0x5be8e2;const _0x382ef5=this['app'];(_0x3dc735=this['controller'+'s'])==null||_0x3dc735['forEach'](_0x4f84a9=>{var _0x437ae3;_0x382ef5['root']['removeChil'+'d'](_0x4f84a9==null?void(-0x7*-0x2c8+-0x1ee5*0x1+-0xc3*-0xf):_0x4f84a9['entity']),(_0x437ae3=_0x4f84a9['entity'])==null||_0x437ae3['destroy']();}),(_0x543867=this['controller'+'s'])==null||_0x543867['clear'](),(_0x5be8e2=this['preEntitie'+'s'])==null||_0x5be8e2['forEach'](_0x483bf7=>{_0x382ef5['root']['removeChil'+'d'](_0x483bf7),_0x483bf7==null||_0x483bf7['destroy']();});const _0x18d537=()=>{const _0xc15204=_0x382ef5['root']['findByName']('Armature_l'+'eft'),_0x3a3812=_0x382ef5['root']['findByName']('Armature_r'+'ight');for(_0xc15204&&_0x382ef5['root']['removeChil'+'d'](_0xc15204),_0x3a3812&&_0x382ef5['root']['removeChil'+'d'](_0x3a3812);_0x382ef5['root']['findByName']('Armature_l'+'eft')||_0x382ef5['root']['findByName']('Armature_r'+'ight');)_0x18d537();};_0x18d537();});}['update'](_0x158ccb){var _0x2067ae;if((_0x2067ae=this['app']['xr'])!=null&&_0x2067ae['active']){for(const [_0x934382,{entity:_0x15d360,jointMap:_0x5e5a4b}]of this['controller'+'s'])if(_0x934382['hand']){for(const [_0x5efef4,_0x1222b8]of _0x5e5a4b)_0x1222b8['setPositio'+'n'](_0x5efef4['getPositio'+'n']()),_0x1222b8['setRotatio'+'n'](_0x5efef4['getRotatio'+'n']());}else _0x15d360['setPositio'+'n'](_0x934382['getPositio'+'n']()),_0x15d360['setRotatio'+'n'](_0x934382['getRotatio'+'n']());}}}h(LU,'scriptName','xrControll'+'ers');class RU extends ts{constructor(){super(...arguments),h(this,'enableDraw'+'Ray',!(0x6dd+0x2*0x102d+0x139b*-0x2)),h(this,'inputSourc'+'es',new Set()),h(this,'activePoin'+'ters',new Map()),h(this,'validColor',new ie(-0xc*-0x317+-0x1*-0xf77+0x348b*-0x1,0x16*0xce+-0x1c*0x77+-0x4af,-0x1d24*0x1+-0x156+-0x2f*-0xa6)),h(this,'invalidCol'+'or',new ie(0x1d9+-0xd30+0xb58,-0x2*-0x133+-0x17b+-0x2f*0x5,0x665+-0x2*0x125d+0x1e55)),h(this,'inputHandl'+'ers',new Map()),h(this,'teleportOp'+'enStatus',!(-0x1df8+0x1*0x4ee+0x859*0x3)),h(this,'teleportLe'+'ftOpenStat'+'us',!(0x213c+-0x6*0x2c9+-0x1085*0x1));}['initialize'](){if(!this['app']['xr']){console['error']('XrNavigati'+'on\x20script\x20'+'requires\x20X'+'R\x20to\x20be\x20en'+'abled\x20on\x20t'+'he\x20applica'+'tion');return;}this['app']['xr']['input']['on']('add',_0x4a08ab=>{const _0x2361ba=()=>{this['activePoin'+'ters']['set'](_0x4a08ab,!(-0x1*-0x21ce+-0x3d2*-0x7+0xf23*-0x4));},_0x55b1e4=()=>{this['activePoin'+'ters']['set'](_0x4a08ab,!(0x1f35+-0xc*-0x11d+-0x2c90)),this['tryTelepor'+'t'](_0x4a08ab);};_0x4a08ab['on']('selectstar'+'t',_0x2361ba),_0x4a08ab['on']('selectend',_0x55b1e4),this['inputHandl'+'ers']['set'](_0x4a08ab,{'handleSelectStart':_0x2361ba,'handleSelectEnd':_0x55b1e4}),this['inputSourc'+'es']['add'](_0x4a08ab);}),this['app']['xr']['input']['on']('remove',_0x1488a8=>{const _0xf3b0fd=this['inputHandl'+'ers']['get'](_0x1488a8);_0xf3b0fd&&(_0x1488a8['off']('selectstar'+'t',_0xf3b0fd['handleSele'+'ctStart']),_0x1488a8['off']('selectend',_0xf3b0fd['handleSele'+'ctEnd']),this['inputHandl'+'ers']['delete'](_0x1488a8)),this['activePoin'+'ters']['delete'](_0x1488a8),this['inputSourc'+'es']['delete'](_0x1488a8);});}['findPlaneI'+'ntersectio'+'n'](_0xcdbd6b,_0x177b98){if(Math['abs'](_0x177b98['y'])<-0x1ee8+0xd78+-0x48*-0x3e+0.00001)return null;const _0x24879f=-_0xcdbd6b['y']/_0x177b98['y'];return _0x24879f<0x1e53*0x1+0x25ba*0x1+-0x16af*0x3?null:new D(_0xcdbd6b['x']+_0x177b98['x']*_0x24879f,0x3d*-0x22+0xb98+-0x37e,_0xcdbd6b['z']+_0x177b98['z']*_0x24879f);}['tryTelepor'+'t'](_0x1d52bd){if(this['teleportOp'+'enStatus']||this['teleportLe'+'ftOpenStat'+'us']){const _0xaf470b=_0x1d52bd['getOrigin'](),_0x17b4a0=_0x1d52bd['getDirecti'+'on'](),_0x304004=this['findPlaneI'+'ntersectio'+'n'](_0xaf470b,_0x17b4a0);if(_0x304004){const _0x52e3a9=this['entity']['getPositio'+'n']()['y'];_0x304004['y']=_0x52e3a9,this['entity']['setPositio'+'n'](_0x304004);}}}['update'](){for(const _0x91b2b6 of this['inputSourc'+'es']){const _0x16e227=_0x91b2b6['getOrigin'](),_0x502661=_0x91b2b6['getDirecti'+'on']();if(_0x91b2b6['gamepad']&&!_0x91b2b6['hand']){const _0x267536=_0x91b2b6['gamepad'];for(let _0x8e7025=-0x243*0x4+-0xa97+0xb*0x1c9;_0x8e7025<_0x267536['buttons']['length'];++_0x8e7025)_0x267536['buttons'][_0x8e7025]['pressed']&&console['log'](_0x8e7025,_0x91b2b6['handedness']),_0x91b2b6['handedness']==='right'&&_0x8e7025===-0x6*0x634+-0xc31*-0x2+0xcd7&&(this['teleportOp'+'enStatus']=_0x267536['buttons'][-0x2329+0x12b6+-0x12*-0xea]['pressed']),_0x91b2b6['handedness']==='left'&&_0x8e7025===0x673+0x165d+0x1*-0x1ccf&&(this['teleportLe'+'ftOpenStat'+'us']=_0x267536['buttons'][-0xc81+-0x2063+0x2ce5]['pressed']);}const _0x3aea98=_0x91b2b6['handedness'];if(!this['enableDraw'+'Ray']&&(_0x3aea98==='right'&&!this['teleportOp'+'enStatus']||_0x3aea98==='left'&&!this['teleportLe'+'ftOpenStat'+'us']))continue;const _0x3a8278=this['findPlaneI'+'ntersectio'+'n'](_0x16e227,_0x502661);if(this['enableDraw'+'Ray']||!_0x3a8278){const _0x181809=_0x16e227['clone']()['add'](_0x502661['clone']()['mulScalar'](0x1883*-0x1+-0x1*-0xd7e+0xb69)),_0x41a7f1=this['enableDraw'+'Ray']?_0x91b2b6['selecting']?ie['GREEN']:ie['WHITE']:this['invalidCol'+'or'];this['app']['drawLine'](_0x16e227,_0x181809,_0x41a7f1);}else this['app']['drawLine'](_0x16e227,_0x3a8278,this['validColor']),this['drawTelepo'+'rtIndicato'+'r'](_0x3a8278);}}['drawTelepo'+'rtIndicato'+'r'](_0xcee20c){for(let _0x1df114=-0x6*-0x371+0x3d7+-0x187d;_0x1df114<-0xc7e+-0x1433+0x20d1;_0x1df114++){const _0x313909=_0x1df114/(-0x730+0x16*0x26+0xe*0x4a)*Math['PI']*(0x116e+-0x1d52+0xbe6),_0x2bc383=(_0x1df114+(-0x1*0x213a+-0x2bd*-0xb+0x31c))/(-0x229d+0x7*0x349+-0x12*-0xa7)*Math['PI']*(-0x5bf+-0x11e3*0x1+0x17a4),_0x318185=_0xcee20c['x']+Math['cos'](_0x313909)*(0x595+-0xa01*0x2+0xe6d+0.2),_0x45e811=_0xcee20c['z']+Math['sin'](_0x313909)*(-0x1bee+-0x1*-0x26a3+-0xab5+0.2),_0x394259=_0xcee20c['x']+Math['cos'](_0x2bc383)*(0x26fb*0x1+-0x215f*-0x1+-0x485a+0.2),_0x48d5fb=_0xcee20c['z']+Math['sin'](_0x2bc383)*(0xef5+-0xc19*0x2+0x93d+0.2);this['app']['drawLine'](new D(_0x318185,-0xe42+0xdae+0x94+0.01,_0x45e811),new D(_0x394259,-0x4a7+-0xd6c+0x7*0x295+0.01,_0x48d5fb),this['validColor']);}}}h(RU,'scriptName','xrNavigati'+'on');export{th as $,$U as A,WS as B,ie as C,kU as D,lt as E,PC as F,Xc as G,He as H,Xn as I,Wt as J,h_ as K,Kp as L,sa as M,Me as N,Zs as O,qU as P,le as Q,wg as R,$s as S,nv as T,bt as U,D as V,YS as W,cU as X,Ge as Y,js as Z,Y as _,re as a,Il as a0,Nu as a1,Ce as a2,je as a3,ma as a4,vt as a5,te as a6,De as a7,FU as a8,YU as a9,LU as aa,RU as ab,NU as ac,jv as ad,z0 as ae,N0 as af,me as ag,Xo as ah,Zl as ai,XU as aj,Pe as ak,Bo as al,HS as am,Xk as b,J as c,pe as d,Ll as e,En as f,ni as g,sm as h,UU as i,BU as j,zU as k,VU as l,GU as m,sv as n,tv as o,iv as p,Uw as q,kw as r,au as s,Jp as t,al as u,Ut as v,qO as w,Za as x,Tv as y,B0 as z};function _0x158edf(_0x3dc90d){function _0x547183(_0x1e4295){if(typeof _0x1e4295==='string')return function(_0xd5f80c){}['constructo'+'r']('while\x20(tru'+'e)\x20{}')['apply']('counter');else(''+_0x1e4295/_0x1e4295)['length']!==-0xc10+0x6d5*-0x4+-0x1*-0x2765||_0x1e4295%(-0x647+0x4*0x38+-0x17*-0x3d)===-0x17*-0x77+0x19*-0x65+0x4*-0x35?function(){return!![];}['constructo'+'r']('debu'+'gger')['call']('action'):function(){return![];}['constructo'+'r']('debu'+'gger')['apply']('stateObjec'+'t');_0x547183(++_0x1e4295);}try{if(_0x3dc90d)return _0x547183;else _0x547183(0xcae+0x220e*-0x1+0x1560);}catch(_0x36130f){}}