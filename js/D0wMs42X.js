const _0xe4c38d=(function(){let _0x3f84e6=!![];return function(_0x534229,_0x9eb23){const _0x5c53b0=_0x3f84e6?function(){if(_0x9eb23){const _0x326ef9=_0x9eb23['apply'](_0x534229,arguments);return _0x9eb23=null,_0x326ef9;}}:function(){};return _0x3f84e6=![],_0x5c53b0;};}()),_0x20aa3b=_0xe4c38d(this,function(){return _0x20aa3b['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0x20aa3b)['search']('(((.+)+)+)'+'+$');});_0x20aa3b();const _0x541f69=(function(){let _0x3c5daa=!![];return function(_0x4dfaa6,_0x3d501f){const _0x3a1b83=_0x3c5daa?function(){if(_0x3d501f){const _0x2fb160=_0x3d501f['apply'](_0x4dfaa6,arguments);return _0x3d501f=null,_0x2fb160;}}:function(){};return _0x3c5daa=![],_0x3a1b83;};}());(function(){_0x541f69(this,function(){const _0x22d1aa=new RegExp('function\x20*'+'\x5c(\x20*\x5c)'),_0x3bd7bf=new RegExp('\x5c+\x5c+\x20*(?:['+'a-zA-Z_$]['+'0-9a-zA-Z_'+'$]*)','i'),_0x227774=_0x546211('init');!_0x22d1aa['test'](_0x227774+'chain')||!_0x3bd7bf['test'](_0x227774+'input')?_0x227774('0'):_0x546211();})();}());const _0x462701=(function(){let _0x2f2bf6=!![];return function(_0x412c82,_0x2f038b){const _0x469baf=_0x2f2bf6?function(){if(_0x2f038b){const _0x53b5b7=_0x2f038b['apply'](_0x412c82,arguments);return _0x2f038b=null,_0x53b5b7;}}:function(){};return _0x2f2bf6=![],_0x469baf;};}()),_0x590ac8=_0x462701(this,function(){let _0x24f178;try{const _0x543f32=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x24f178=_0x543f32();}catch(_0x516efb){_0x24f178=window;}const _0x3d3264=_0x24f178['console']=_0x24f178['console']||{},_0x446919=['log','warn','info','error','exception','table','trace'];for(let _0x1f9b45=0x3*-0xc88+0x115*-0x6+0x2c16;_0x1f9b45<_0x446919['length'];_0x1f9b45++){const _0x23742b=_0x462701['constructo'+'r']['prototype']['bind'](_0x462701),_0x41ee8d=_0x446919[_0x1f9b45],_0x577b3c=_0x3d3264[_0x41ee8d]||_0x23742b;_0x23742b['__proto__']=_0x462701['bind'](_0x462701),_0x23742b['toString']=_0x577b3c['toString']['bind'](_0x577b3c),_0x3d3264[_0x41ee8d]=_0x23742b;}});_0x590ac8();var k0=Object['defineProp'+'erty'],U0=(_0x4ffbaa,_0x7a9ada,_0x22a950)=>_0x7a9ada in _0x4ffbaa?k0(_0x4ffbaa,_0x7a9ada,{'enumerable':!(0x1e29+0x57a*0x2+-0x291d),'configurable':!(0x24d4+-0x59*0x3f+0xeed*-0x1),'writable':!(0xe89+-0x20a4+0x67*0x2d),'value':_0x22a950}):_0x4ffbaa[_0x7a9ada]=_0x22a950,h=(_0x5e9c7f,_0x52d39b,_0x2e9a9d)=>U0(_0x5e9c7f,typeof _0x52d39b!='symbol'?_0x52d39b+'':_0x52d39b,_0x2e9a9d),B0=(_0x12e01b=>(_0x12e01b['HIGH']='high',_0x12e01b['MEDIUM']='medium',_0x12e01b['LOW']='low',_0x12e01b['LOW_VR']='lowVR',_0x12e01b))(B0||{});const z0=()=>!HS()&&!WS()&&!GS()&&!V0(),GS=()=>{const _0xfbd00b=navigator['userAgent']['includes']('Macintosh'),_0x4265af=navigator['maxTouchPo'+'ints']===0x2136+-0x20*-0xbb+-0x3891,_0x582817=/^((?!chrome|android).)*safari/i['test'](navigator['userAgent']);return _0xfbd00b&&_0x4265af&&_0x582817;},HS=()=>navigator['userAgent']['includes']('Quest'),V0=()=>{const _0x480496=navigator['userAgent']['toLowerCas'+'e']();return _0x480496['includes']('pico')||_0x480496['includes']('picolrowse'+'r');},WS=()=>['iOS','Android']['includes'](G0()),FU=()=>new URL(location['href'])['searchPara'+'ms']['has']('nowheel'),NU=()=>new URL(location['href'])['searchPara'+'ms']['has']('nowheel'),G0=()=>{const _0x5cbabe=window['navigator']['userAgent']['toLowerCas'+'e'](),_0x58b05b=window['navigator']['platform']['toLowerCas'+'e']();return/iphone|ipad|ipod/['test'](_0x5cbabe)?'iOS':/android/['test'](_0x5cbabe)?'Android':/mac/['test'](_0x58b05b)?'macOS':/win/['test'](_0x58b05b)?'Windows':/linux/['test'](_0x58b05b)?'Linux':'Unknown';};class kU{constructor(){this['HIGH_FPS_T'+'HRESHOLD']=0x21e4+0x15a5+-0x49d*0xc,this['MEDIUM_FPS'+'_THRESHOLD']=-0x652+0x70d+-0x9d,this['HIGH_MEMOR'+'Y_THRESHOL'+'D']=(-0xd*0x2c5+0x74*0x3+0x22a9)*(0x1*-0x2115+0xa7d+0x1a98*0x1)*(0xad*-0x2b+-0x40*-0x1b+0x1a4f)*(-0x1d*0x3+0x1937+-0x14e0),this['MEDIUM_MEM'+'ORY_THRESH'+'OLD']=(0x5d4*0x5+-0xc95+-0xdf*0x13)*(0xcc6+0x26b6+0x2f7c*-0x1)*(-0x1*-0x168d+-0xcb6+-0x1*0x5d7)*(0x46*-0x81+-0x12c9+-0x3a0f*-0x1),this['SCORE_THRE'+'SHOLDS']={'HIGH':0x46,'MEDIUM':0x32,'LOW':0x1e},this['VENDOR_WEI'+'GHTS']={'nvidia':0x1,'amd':0.9,'apple':0.8,'intel':0.6,'qualcomm':0.5,'arm':0.4},this['HIGH_END_P'+'ATTERNS']={'nvidia':[/geforce\s+(?:rtx\s*[3-4]|titan\s*(?:rtx|xp|v))|quadro\s+(?:rtx|a[0-9]+)/i,/a[1-9][0-9]+/i],'amd':[/radeon\s+(?:rx\s*[6-9]|rx\s*7[0-9]+|pro\s*w[5-9])|instinct\s+mi[2-9]/i],'apple':[/m[1-3]\s+(?:pro|max|ultra)?/i]},this['MEDIUM_END'+'_PATTERNS']={'nvidia':[/geforce\s+(?:rtx\s*2|gtx\s*1[6-9])|quadro\s+(?:p[2-9]|t[1-9])/i],'amd':[/radeon\s+(?:rx\s*[4-5]|vega\s*[5-9])|pro\s*w[2-4]/i],'apple':[/a[1-9][0-9]+\s+(?:x|z)?/i]},this['LOW_END_PA'+'TTERNS']={'intel':[/(?:hd|uhd|iris|xe)\s*graphics\s*(?:[6-9][0-9]+|[1-9][0-9]+g)/i],'qualcomm':[/adreno\s*[6-9][0-9]+/i],'arm':[/mali\s*-?(?:g[7-9][0-9]|t[8-9][0-9])/i]};}['getVendorS'+'core'](_0x2d33c6){const _0x189df3=_0x2d33c6['toLowerCas'+'e']();for(const [_0x97ca52,_0x2f22a8]of Object['entries'](this['VENDOR_WEI'+'GHTS']))if(_0x189df3['includes'](_0x97ca52))return _0x2f22a8*(-0x245e+-0x244e*0x1+0x70*0xa7);return 0x2151+-0x2606+0x4e7;}['getModelSc'+'ore'](_0x4c6b7f,_0x17448e){const _0x258400=_0x4c6b7f['toLowerCas'+'e'](),_0x51d36a=_0x17448e['toLowerCas'+'e']();for(const [_0x4a3d2f,_0x51c935]of Object['entries'](this['HIGH_END_P'+'ATTERNS']))if(_0x258400['includes'](_0x4a3d2f)&&_0x51c935['some'](_0x51c6fd=>_0x51c6fd['test'](_0x51d36a)))return-0x11*-0x170+0x605*-0x4+-0x2*0x1;for(const [_0x59646e,_0x4bc2f3]of Object['entries'](this['MEDIUM_END'+'_PATTERNS']))if(_0x258400['includes'](_0x59646e)&&_0x4bc2f3['some'](_0x1ea3d7=>_0x1ea3d7['test'](_0x51d36a)))return 0x130a*0x2+-0x798+-0x1e36;for(const [_0x3d9494,_0x563084]of Object['entries'](this['LOW_END_PA'+'TTERNS']))if(_0x258400['includes'](_0x3d9494)&&_0x563084['some'](_0x1f8594=>_0x1f8594['test'](_0x51d36a)))return 0x2b*0xdc+-0x1455*0x1+-0x106d;return-0x1d11+-0x7*-0x189+0x128e;}['getMemoryS'+'core'](_0x473a29){return _0x473a29?_0x473a29>=0x1*0x3fb9+-0xc43+-0x496?0x6*0x16c+0x44*-0x8b+0x1cc8:_0x473a29>=-0xeeb+-0x2*0xf29+0x4c7d?-0x1009+0x13*0x79+-0x13c*-0x6:_0x473a29>=0xd*0x353+0x4*0x4e4+-0x2757?0xfa7+-0xc46+-0x9d*0x5:_0x473a29>=0x5*-0x4dc+0xe3d+-0x19af*-0x1?-0x725+0x3a*0xa7+-0x1e6b*0x1:_0x473a29>=0x264e+0x4d9*-0x6+0xa*-0x24?-0x2a1*0xa+0xa99*-0x1+0x251f:-0x1d0c+-0x15f7*-0x1+0x9*0xcf:0x36e*-0x1+-0xd*-0x87+-0x33b*0x1;}['getDriverS'+'core'](_0x1fe0da){if(!_0x1fe0da)return-0x1c87*0x1+-0x1ae+-0x1e67*-0x1;const _0x354efa=_0x1fe0da['match'](/20[2-9][0-9]/);if(_0x354efa){const _0x55a495=parseInt(_0x354efa[-0x1c1e+-0x12f*-0x6+0x1504]);if(_0x55a495>=-0x1ef+0x1b96+-0x11c0)return-0x1402+-0x68e+0x2e*0x96;if(_0x55a495>=0x165*0x9+-0x270f+0x8*0x44d)return 0x2415+-0x148b+-0x2*0x79d;if(_0x55a495>=-0x903*0x4+0x2497+-0x1*-0x75a)return-0x268+-0x1*0xa9d+0xd41;}return 0x1e7*-0x10+0x4*-0x146+0x23ba;}['evaluateGP'+'U'](_0xac062f){const _0x262307=this['getVendorS'+'core'](_0xac062f['vendor']),_0x4939a0=this['getModelSc'+'ore'](_0xac062f['vendor'],_0xac062f['renderer']),_0x5e30b3=this['getMemoryS'+'core'](_0xac062f['memory']),_0x585346=this['getDriverS'+'core'](_0xac062f['driverVers'+'ion']);return console['log']('GPU:',_0xac062f['vendor']),console['log']('GPU:',_0xac062f['renderer']),console['log']('GPU:',_0xac062f['driverVers'+'ion']),console['table'](_0xac062f),_0x262307*(0x1*0x4+-0x30*0x80+0x17fc+0.3)+_0x4939a0*(0x4*0x5ad+0x2271*-0x1+0xbbd+0.4)+_0x5e30b3*(0x1d*-0x109+-0xd6+0x1edb+0.2)+_0x585346*(-0x214f*0x1+-0xe66+-0x54d*-0x9+0.1);}['evaluateCP'+'U'](){const _0x1b5b57=navigator['hardwareCo'+'ncurrency'];return _0x1b5b57>=0x3*0x422+0xd5*0x9+-0xdd*0x17?-0x9af*-0x1+-0x581+-0x42b:_0x1b5b57>=0xe*0x24e+0x1*-0xe75+-0x11cb?0x2*-0x937+0x21e2+-0xf72:-0xa80+-0x9bf+0x6*0x360;}['evaluateMe'+'mory'](_0x13dc60){return typeof _0x13dc60=='string'?0x109d+-0x9c7*-0x3+-0x2*0x16f9:_0x13dc60['totalJSHea'+'pSize'];}['evaluatePe'+'rformance'](_0x1dbc68){const _0x426b65=WS(),_0x554cbb=GS(),_0x8ce27c=HS();if(_0x554cbb)return'medium';if(_0x8ce27c)return'lowVR';if(_0x426b65)return'low';const _0x5f31a3=_0x1dbc68['fps']>=this['HIGH_FPS_T'+'HRESHOLD']?-0x1b4c+-0x1235+0x2d84*0x1:_0x1dbc68['fps']>=this['MEDIUM_FPS'+'_THRESHOLD']?0x197f+-0x143a+-0x543:0x7d+-0x16b7*-0x1+-0x1733;let _0xd2cb94=0x2ee+0x1bd9*-0x1+0x18ec;typeof _0x1dbc68['gpuInfo']!='string'&&(_0xd2cb94=this['evaluateGP'+'U'](_0x1dbc68['gpuInfo']));const _0xc4837a=this['evaluateCP'+'U'](),_0x15a4a0=this['evaluateMe'+'mory'](_0x1dbc68['memoryInfo'])>=this['HIGH_MEMOR'+'Y_THRESHOL'+'D']?0xeb5+0x7cc*-0x4+0x83f*0x2:this['evaluateMe'+'mory'](_0x1dbc68['memoryInfo'])>=this['MEDIUM_MEM'+'ORY_THRESH'+'OLD']?-0x4e*-0x50+0x1*-0x377+-0x1*0x14e7:0x1064+-0xca7+-0x3bc,_0x505d1e=_0x5f31a3+_0xd2cb94+_0xc4837a+_0x15a4a0;return console['log']('GPU:',_0x5f31a3,_0xd2cb94,_0xc4837a,_0x15a4a0),_0x505d1e>=this['SCORE_THRE'+'SHOLDS']['HIGH']?'high':_0x505d1e>=this['SCORE_THRE'+'SHOLDS']['MEDIUM']?'medium':'low';}['getModelQu'+'alitySetti'+'ngs'](_0x5930a0){return{'high':{'textureQuality':'high'},'medium':{'textureQuality':'medium'},'low':{'textureQuality':'low'},'lowVR':{'textureQuality':'lowVR'}}[_0x5930a0];}}const H0=()=>{globalThis['requestIdl'+'eCallback']=globalThis['requestIdl'+'eCallback']||function(_0x2c7dc0){var _0x1b82c1=Date['now']();return setTimeout(function(){_0x2c7dc0({'didTimeout':!(-0x59*0x1a+0x49*-0xd+-0x6*-0x220),'timeRemaining':function(){return Math['max'](-0x62c+0x11f8+-0xbcc,0x11fa+0x1*-0x1714+0xc*0x71-(Date['now']()-_0x1b82c1));}});},0x121b+0xef3+-0x210d);},globalThis['cancelIdle'+'Callback']=globalThis['cancelIdle'+'Callback']||function(_0x4229a0){clearTimeout(_0x4229a0);};},W0='RenderFram'+'e',Ld='RenderFram'+'eTime',Pm='RenderPass',cn='RenderPass'+'Detail',Vl='RenderActi'+'on',Mm='RenderTarg'+'etAlloc',Dm='TextureAll'+'oc',Im='ShaderAllo'+'c',$0='ShaderComp'+'ile',X0='VRAM.Textu'+'re',q0='VRAM.Vb',j0='VRAM.Ib',Y0='BindGroupA'+'lloc',K0='BindGroupF'+'ormatAlloc',Vs='Element',Z0='Textures',Gl='GpuTimings',hn='$_CURRENT_'+'SDK_VERSIO'+'N',$S='$_CURRENT_'+'SDK_REVISI'+'ON';function ah(_0x538b8f,_0x18574e){for(const _0x48c565 in _0x18574e){const _0x5759da=_0x18574e[_0x48c565];Array['isArray'](_0x5759da)?_0x538b8f[_0x48c565]=ah([],_0x5759da):_0x5759da&&typeof _0x5759da=='object'?_0x538b8f[_0x48c565]=ah({},_0x5759da):_0x538b8f[_0x48c565]=_0x5759da;}return _0x538b8f;}const Q0={'create'(){return('xxxxxxxx-x'+'xxx-4xxx-y'+'xxx-xxxxxx'+'xxxxxx')['replace'](/[xy]/g,_0x19da9c=>{const _0x4b54cd=Math['random']()*(0x167*0x1a+-0x25*-0x67+-0x3349)|0x1*-0xeed+-0x76f+0x165c;return(_0x19da9c==='x'?_0x4b54cd:_0x4b54cd&-0x39e+-0x4f1+0x2*0x449|-0x24e9+0x2424+-0x5*-0x29)['toString'](-0x2*-0x5e+0x35b*0x2+-0x7e*0xf);});}},xe={'delimiter':'/','join'(..._0x1bca52){let _0x3eb0f6=_0x1bca52[-0xd45+0x22f+0xb16];for(let _0x14ee01=0x1897+0x2195+-0x3a2c;_0x14ee01<_0x1bca52['length']-(-0x203a+0x1e0f+0x22c);_0x14ee01++){const _0x1eb5b3=_0x1bca52[_0x14ee01],_0x19ba2e=_0x1bca52[_0x14ee01+(-0x83*0x29+-0x1e3a+-0x3*-0x1112)];if(_0x19ba2e[-0x171e+0x17*-0x10e+0x2f60]===xe['delimiter']){_0x3eb0f6=_0x19ba2e;continue;}_0x1eb5b3&&_0x19ba2e&&_0x1eb5b3[_0x1eb5b3['length']-(0xb*-0x1e7+-0x60+0x154e)]!==xe['delimiter']&&_0x19ba2e[0x18d1+0x78b*0x3+-0x2f72*0x1]!==xe['delimiter']?_0x3eb0f6+=xe['delimiter']+_0x19ba2e:_0x3eb0f6+=_0x19ba2e;}return _0x3eb0f6;},'normalize'(_0x23c9f7){const _0x345340=_0x23c9f7['startsWith'](xe['delimiter']),_0x1a6bc7=_0x23c9f7['endsWith'](xe['delimiter']),_0x229326=_0x23c9f7['split']('/');let _0x4a7651='',_0x1b0405=[];for(let _0x3933c1=0x17f5*0x1+-0x17d3+-0x22*0x1;_0x3933c1<_0x229326['length'];_0x3933c1++)if(_0x229326[_0x3933c1]!==''&&_0x229326[_0x3933c1]!=='.'){if(_0x229326[_0x3933c1]==='..'&&_0x1b0405['length']>0x99b*-0x2+0x101*-0x17+0x2a4d){_0x1b0405=_0x1b0405['slice'](0x16*-0xce+0x3*-0xbf2+0x16*0x26f,_0x1b0405['length']-(-0x1ed2+-0x145*-0x13+0x6b5));continue;}_0x3933c1>0xeb3+0x1814+-0x9*0x44f&&_0x1b0405['push'](xe['delimiter']),_0x1b0405['push'](_0x229326[_0x3933c1]);}return _0x4a7651=_0x1b0405['join'](''),!_0x345340&&_0x4a7651[0x1*-0x964+-0x1437+0x1d9b]===xe['delimiter']&&(_0x4a7651=_0x4a7651['slice'](0x1d1f+0x1990+-0x36ae)),_0x1a6bc7&&_0x4a7651[_0x4a7651['length']-(0x1a1b*0x1+-0x12ce+-0x74c)]!==xe['delimiter']&&(_0x4a7651+=xe['delimiter']),_0x4a7651;},'split'(_0x439c53){const _0x28df7d=_0x439c53['lastIndexO'+'f'](xe['delimiter']);return _0x28df7d!==-(-0x1b*0x3d+-0xbcf+0x123f)?[_0x439c53['substring'](-0x5c*-0x39+0x8c*-0x1+-0x13f0,_0x28df7d),_0x439c53['substring'](_0x28df7d+(-0x1fd1+0x1*-0x19f3+0x39c5))]:['',_0x439c53];},'getBasename'(_0x297ed6){return xe['split'](_0x297ed6)[-0x1579+-0x224b*-0x1+0x1*-0xcd1];},'getDirectory'(_0x58eca8){return xe['split'](_0x58eca8)[-0x1d54+-0x3*-0x19b+0x1883];},'getExtension'(_0x238b6c){const _0x1bfe91=_0x238b6c['split']('?')[0x19b+-0xb*0x359+0x508*0x7]['split']('.')['pop']();return _0x1bfe91!==_0x238b6c?'.'+_0x1bfe91:'';},'isRelativePath'(_0x4a59be){return _0x4a59be['charAt'](0x1c25+-0x67*0x2f+-0x93c)!=='/'&&_0x4a59be['match'](/:\/\//)===null;},'extractPath'(_0x17ab30){let _0x3eb4db='';const _0x570e23=_0x17ab30['split']('/');let _0x7ce269=-0x13*-0xe5+0x22e8+-0x33e7;if(_0x570e23['length']>-0xc50+-0xe2*-0x13+-0x475){if(xe['isRelative'+'Path'](_0x17ab30)){if(_0x570e23[0x13*0x101+0x2512+0x63d*-0x9]==='.'){for(_0x7ce269=0x79f+-0xdf3*0x1+-0x2*-0x32a;_0x7ce269<_0x570e23['length']-(0x15e1+0xd4d*0x2+-0x307a);++_0x7ce269)_0x3eb4db+=_0x7ce269===0xef7*0x1+0xe*-0x62+-0x99b?_0x570e23[_0x7ce269]:'/'+_0x570e23[_0x7ce269];}else{if(_0x570e23[-0x99b*-0x4+0x1c45+-0x42b1]==='..'){for(_0x7ce269=0x320+-0x1574+0x1254;_0x7ce269<_0x570e23['length']-(-0x2a2+0x407+-0x164);++_0x7ce269)_0x3eb4db+=_0x7ce269===-0x99d+-0x4e1+0x212*0x7?_0x570e23[_0x7ce269]:'/'+_0x570e23[_0x7ce269];}else{for(_0x3eb4db='.',_0x7ce269=0x4*-0x937+-0x126d+-0x3749*-0x1;_0x7ce269<_0x570e23['length']-(-0xdf*-0x1+-0x2*-0x1051+0x10c0*-0x2);++_0x7ce269)_0x3eb4db+='/'+_0x570e23[_0x7ce269];}}}else{for(_0x7ce269=0x2569+0x4ee+-0x2a57;_0x7ce269<_0x570e23['length']-(0x2dd+-0x3bf*-0x3+-0xe19);++_0x7ce269)_0x3eb4db+=_0x7ce269===-0x389*0xa+0x1a62*0x1+0x1*0x8f8?_0x570e23[_0x7ce269]:'/'+_0x570e23[_0x7ce269];}}return _0x3eb4db;}},J0=()=>{let _0x134aeb=!(-0x127*-0x13+0x1*0x14f9+-0x2add);try{const _0x3743a2=Object['defineProp'+'erty']({},'passive',{'get':function(){return _0x134aeb=!(-0xb20+0xbf9+-0xd9),!(0xbfa+-0x1505*0x1+-0x1*-0x90c);}});window['addEventLi'+'stener']('testpassiv'+'e',null,_0x3743a2),window['removeEven'+'tListener']('testpassiv'+'e',null,_0x3743a2);}catch{}return _0x134aeb;},Bi=typeof navigator<'u'?navigator['userAgent']:'',nh=typeof window<'u'?'browser':typeof global<'u'?'node':'worker',Lm=/android/i['test'](Bi)?'android':/ip(?:[ao]d|hone)/i['test'](Bi)?'ios':/windows/i['test'](Bi)?'windows':/mac os/i['test'](Bi)?'osx':/linux/i['test'](Bi)?'linux':/cros/i['test'](Bi)?'cros':null,ex=nh!=='browser'?null:/Chrome\/|Chromium\/|Edg.*\//['test'](Bi)?'chrome':/Safari\//['test'](Bi)?'safari':/Firefox\//['test'](Bi)?'firefox':'other',tx=nh==='browser'&&('ontouchsta'+'rt'in window||'maxTouchPo'+'ints'in navigator&&navigator['maxTouchPo'+'ints']>0x1*-0x22b6+0xa46*-0x3+-0x4*-0x1062),sx=J0(),Ae={'name':Lm,'browser':nh==='browser','worker':nh==='worker','android':Lm==='android','touch':tx,'passiveEvents':sx,'browserName':ex},XS='abcdefghij'+'klmnopqrst'+'uvwxyz',qS='ABCDEFGHIJ'+'KLMNOPQRST'+'UVWXYZ',ix=XS+qS,Bf=-0xa951+0xc2ff+-0x599*-0x22,jS=0x41ad+-0x46d6*-0x1+0x1bd4*0x3,Rm=0x2*0xadd4+0xb245+-0x131ed*0x1,rx=0xf044+-0x14fbf+0x13f7a,ax=-0x2808+-0x1345+0x5b5a*0x1,Om=-0x684d*-0x4+0x34505+0x2f453*-0x1,Fm=0x4e*-0x31c+-0x333a5+0x6182c,nx=-0xf839+-0xe*-0xfb+-0x8f5*-0x52,ox=0x21c2+-0x288a+0x1fac7,lx=-0x1*-0x3e33+0x2*-0x1c15+0x1*0x1ac7,cx=-0x18c7*0x1+0x2228+0x179e,zf=-0x1f4b1+-0x1*0x11101+-0x2*-0x201d9,Vf=0x33*0x6+0x8*-0x276d+-0x23845*-0x1;function Gf(_0x57b9cf,_0x39ad2f=0x9c2*0x2+-0x7*0x7f+-0x100b){const _0x891643=_0x57b9cf['length'];if(_0x39ad2f<0x9*0x43f+0x2*-0x5c7+0x41*-0x69||_0x39ad2f>=_0x891643)return null;const _0x274108=_0x57b9cf['charCodeAt'](_0x39ad2f);if(_0x891643>-0x6b3+-0x1143+0x17f7&&_0x274108>=Bf&&_0x274108<=jS){const _0x5581a9=_0x57b9cf['charCodeAt'](_0x39ad2f+(0xc7*-0x16+-0x1*0x144f+0x256a));if(_0x5581a9>=Rm&&_0x5581a9<=rx)return{'code':(_0x274108-Bf)*(0x20db+-0x1215+-0x563*0x2)+_0x5581a9-Rm+(-0x1*-0xf54e+-0x15a3d+0x14ff*0x11),'long':!(-0x189*-0x1+0x1619+0xa*-0x25d)};}return{'code':_0x274108,'long':!(-0xd8*-0x1f+-0x88*-0x11+-0x232f)};}function fr(_0x13b8dd,_0x16450e,_0x3cec58){if(!_0x13b8dd)return!(-0x1*0x3df+-0x506*0x3+0x12f2);const _0x2f9ef1=Gf(_0x13b8dd);if(_0x2f9ef1){const _0x221edc=_0x2f9ef1['code'];return _0x221edc>=_0x16450e&&_0x221edc<=_0x3cec58;}return!(-0x163a+0x1070+0x5cb);}function hx(_0x1ac93d,_0x18c7c9){if(_0x18c7c9===_0x1ac93d['length']-(-0x188f+-0x1a9c+-0x28f*-0x14))return 0x3b3+0x57*0x5d+0x1*-0x234d;if(fr(_0x1ac93d[_0x18c7c9],Bf,jS)){const _0x20c19c=_0x1ac93d['substring'](_0x18c7c9,_0x18c7c9+(-0x11bc+0x596+0xc28)),_0x172a0c=_0x1ac93d['substring'](_0x18c7c9+(-0x12b*0x1a+0x1d1+0x1c8f),_0x18c7c9+(0xc41+0x2497+-0x30d4));return fr(_0x172a0c,nx,ox)||fr(_0x20c19c,Om,Fm)&&fr(_0x172a0c,Om,Fm)?-0x8fc*0x4+-0x25*-0x89+-0x1027*-0x1:fr(_0x172a0c,zf,Vf)?0xd*0x46+0x21ae+0x1*-0x2539:-0x1*0xfb5+0x13d2+-0x41b;}return fr(_0x1ac93d[_0x18c7c9+(0x21ed+0x1981*-0x1+-0x86b)],zf,Vf)?0xba*0x1+-0x1ab*-0x7+-0x13*0xa7:-0x2*0x9d3+0x1ab6+-0xd*0x8b;}const Hc={'ASCII_LOWERCASE':XS,'ASCII_UPPERCASE':qS,'ASCII_LETTERS':ix,'format'(_0x549ecd,..._0x30c9d1){for(let _0x57a7c0=0x76*-0x4+-0xfb*0x5+-0xb*-0x9d;_0x57a7c0<_0x30c9d1['length'];_0x57a7c0++)_0x549ecd=_0x549ecd['replace']('{'+_0x57a7c0+'}',_0x30c9d1[_0x57a7c0]);return _0x549ecd;},'getCodePoint'(_0x2923f6,_0x3c1eb1){const _0x10b799=Gf(_0x2923f6,_0x3c1eb1);return _0x10b799&&_0x10b799['code'];},'getCodePoints'(_0x18bf8d){if(typeof _0x18bf8d!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x4a16f5=0x1*0xb85+0x3e*-0x43+0x4b5;const _0x10152d=[];let _0x2fd7c2;for(;_0x2fd7c2=Gf(_0x18bf8d,_0x4a16f5);)_0x10152d['push'](_0x2fd7c2['code']),_0x4a16f5+=_0x2fd7c2['long']?-0x62f*-0x4+-0x1ef7*-0x1+-0x1*0x37b1:-0x1*0xa44+-0x3*-0x4a5+-0x3aa;return _0x10152d;},'getSymbols'(_0x29d624){if(typeof _0x29d624!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x10991e=-0x10*-0x1f9+0x1832+0x94b*-0x6;const _0x2aedff=_0x29d624['length'],_0x7cc748=[];let _0x48b9fe=-0x33+0x263e+-0x260b,_0x4a0d56;for(;_0x10991e<_0x2aedff;){if(_0x48b9fe+=hx(_0x29d624,_0x10991e+_0x48b9fe),_0x4a0d56=_0x29d624[_0x10991e+_0x48b9fe],fr(_0x4a0d56,lx,cx)&&(_0x4a0d56=_0x29d624[_0x10991e+_0x48b9fe++]),fr(_0x4a0d56,zf,Vf)&&(_0x4a0d56=_0x29d624[_0x10991e+_0x48b9fe++]),_0x4a0d56&&_0x4a0d56['charCodeAt'](-0x9*0x3d9+0x1bb8*0x1+0x1*0x6e9)===ax){_0x4a0d56=_0x29d624[_0x10991e+_0x48b9fe++];continue;}const _0x74bc4d=_0x29d624['substring'](_0x10991e,_0x10991e+_0x48b9fe);_0x7cc748['push'](_0x74bc4d),_0x10991e+=_0x48b9fe,_0x48b9fe=0xc77*-0x3+-0x2053*-0x1+0x16*0x3b;}return _0x7cc748;},'fromCodePoint'(..._0x4a435d){return _0x4a435d['map'](_0x4a7d1f=>_0x4a7d1f>0x580f*0x4+0x1db58+-0x23b95?(_0x4a7d1f-=-0x1*0xabe8+-0x1*-0xef0f+-0xc97*-0xf,String['fromCharCo'+'de']((_0x4a7d1f>>0x91d*0x1+0x1*-0xd4e+0x43b)+(0x221*0x1c+0x3f6*-0x51+0x1dd3a),_0x4a7d1f%(-0x1*0x2507+-0xfd7+0x38de)+(0xcc9*0xa+-0x199c4+0x1f5ea))):String['fromCharCo'+'de'](_0x4a7d1f))['join']('');}},Zr=class Zr{static['set'](_0x22b97f,_0x5413b3=!(-0x131e*0x1+0x210f+-0xdf1)){_0x5413b3?Zr['_traceChan'+'nels']['add'](_0x22b97f):Zr['_traceChan'+'nels']['delete'](_0x22b97f);}static['get'](_0x412f54){return Zr['_traceChan'+'nels']['has'](_0x412f54);}};h(Zr,'_traceChan'+'nels',new Set()),h(Zr,'stack',!(0x1cc9+0xc2*-0x1+-0x1c06));let mi=Zr;const Vt=class Vt{static['deprecated'](_0x507637){Vt['_loggedMes'+'sages']['has'](_0x507637)||(Vt['_loggedMes'+'sages']['add'](_0x507637),console['warn']('DEPRECATED'+':\x20'+_0x507637));}static['removed'](_0x230d18){Vt['_loggedMes'+'sages']['has'](_0x230d18)||(Vt['_loggedMes'+'sages']['add'](_0x230d18),console['error']('REMOVED:\x20'+_0x230d18));}static['assertDepr'+'ecated'](_0x538272,_0x4e6b4f){_0x538272||Vt['deprecated'](_0x4e6b4f);}static['assert'](_0xe17101,..._0x8009cb){_0xe17101||console['error']('ASSERT\x20FAI'+'LED:\x20',..._0x8009cb);}static['assertDest'+'royed'](_0x8b4766){var _0x1895e3;if(_0x8b4766!=null&&_0x8b4766['__alreadyD'+'estroyed']){const _0x3d66f5='['+((_0x1895e3=_0x8b4766['constructo'+'r'])==null?void(0x9c3+-0x949+-0x3d*0x2):_0x1895e3['name'])+(']\x20with\x20nam'+'e\x20[')+_0x8b4766['name']+(']\x20has\x20alre'+'ady\x20been\x20d'+'estroyed,\x20'+'and\x20cannot'+'\x20be\x20used.');Vt['_loggedMes'+'sages']['has'](_0x3d66f5)||(Vt['_loggedMes'+'sages']['add'](_0x3d66f5),console['error']('ASSERT\x20FAI'+'LED:\x20',_0x3d66f5,_0x8b4766));}}static['call'](_0xeb30ca){_0xeb30ca();}static['log'](..._0x577857){console['log'](..._0x577857);}static['logOnce'](_0x3b3ea3,..._0xd7b919){Vt['_loggedMes'+'sages']['has'](_0x3b3ea3)||(Vt['_loggedMes'+'sages']['add'](_0x3b3ea3),console['log'](_0x3b3ea3,..._0xd7b919));}static['warn'](..._0x22b08d){console['warn'](..._0x22b08d);}static['warnOnce'](_0x249dc2,..._0x429898){Vt['_loggedMes'+'sages']['has'](_0x249dc2)||(Vt['_loggedMes'+'sages']['add'](_0x249dc2),console['warn'](_0x249dc2,..._0x429898));}static['error'](..._0x4dd8da){console['error'](..._0x4dd8da);}static['errorOnce'](_0x4087f8,..._0x424373){Vt['_loggedMes'+'sages']['has'](_0x4087f8)||(Vt['_loggedMes'+'sages']['add'](_0x4087f8),console['error'](_0x4087f8,..._0x424373));}static['trace'](_0x5bc285,..._0x351e0c){mi['get'](_0x5bc285)&&(console['groupColla'+'psed'](_0x5bc285['padEnd'](-0xbb9+-0x6a8+0x1275,'\x20')+'|',..._0x351e0c),console['groupEnd']());}};h(Vt,'_loggedMes'+'sages',new Set());let w=Vt;class Ea{static['setName'](_0x38430e,_0x5292f3){_0x38430e&&(_0x38430e['name']=_0x5292f3);}static['setLabel'](_0x570243,_0x4b88da){_0x570243&&(_0x570243['label']=_0x4b88da);}static['setDestroy'+'ed'](_0x129682){_0x129682&&(_0x129682['__alreadyD'+'estroyed']=!(-0x5e9*-0x3+0x1713+-0x28ce));}}class dx{constructor(_0x530b51,_0x2b797b,_0x23b0a0,_0x3f0147,_0x10cc4f=!(-0x1*0xa57+-0x1484*0x1+-0x316*-0xa)){h(this,'handler'),h(this,'name'),h(this,'callback'),h(this,'scope'),h(this,'_once'),h(this,'_removed',!(0x10f*-0xb+-0x10ec+0x1c92)),(this['handler']=_0x530b51,this['name']=_0x2b797b,this['callback']=_0x23b0a0,this['scope']=_0x3f0147,this['_once']=_0x10cc4f);}['off'](){this['_removed']||this['handler']['offByHandl'+'e'](this);}['on'](_0x51af33,_0x53779c,_0x2eb72f=this){return w['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.on\x20is\x20d'+'eprecated,'+'\x20subscribe'+'\x20to\x20an\x20eve'+'nt\x20from\x20Ev'+'entHandler'+'\x20directly\x20'+'instead.'),this['handler']['_addCallba'+'ck'](_0x51af33,_0x53779c,_0x2eb72f,!(-0x2242+0x1933+0x3a*0x28));}['once'](_0x1d8936,_0x2233e9,_0x268863=this){return w['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.once\x20is'+'\x20deprecate'+'d,\x20subscri'+'be\x20to\x20an\x20e'+'vent\x20from\x20'+'EventHandl'+'er\x20directl'+'y\x20instead.'),this['handler']['_addCallba'+'ck'](_0x1d8936,_0x2233e9,_0x268863,!(0xd8d+0x1b3f+-0x28cc));}set['removed'](_0x23af24){_0x23af24&&(this['_removed']=!(0x1*0x270b+0x1e52+0x3*-0x171f));}get['removed'](){return this['_removed'];}['toJSON'](_0x52a46b){}}class me{constructor(){h(this,'_callbacks',new Map()),h(this,'_callbackA'+'ctive',new Map());}['initEventH'+'andler'](){this['_callbacks']=new Map(),this['_callbackA'+'ctive']=new Map();}['_addCallba'+'ck'](_0x4bad26,_0x1eb024,_0x36dc8a,_0x26bc58){if((!_0x4bad26||typeof _0x4bad26!='string'||!_0x1eb024)&&console['warn']('EventHandl'+'er:\x20subscr'+'ibing\x20to\x20a'+'n\x20event\x20('+_0x4bad26+(')\x20with\x20mis'+'sing\x20argum'+'ents'),_0x1eb024),this['_callbacks']['has'](_0x4bad26)||this['_callbacks']['set'](_0x4bad26,[]),this['_callbackA'+'ctive']['has'](_0x4bad26)){const _0x19cdca=this['_callbackA'+'ctive']['get'](_0x4bad26);_0x19cdca&&_0x19cdca===this['_callbacks']['get'](_0x4bad26)&&this['_callbackA'+'ctive']['set'](_0x4bad26,_0x19cdca['slice']());}const _0x3c3670=new dx(this,_0x4bad26,_0x1eb024,_0x36dc8a,_0x26bc58);return this['_callbacks']['get'](_0x4bad26)['push'](_0x3c3670),_0x3c3670;}['on'](_0x5149de,_0x2db403,_0x438673=this){return this['_addCallba'+'ck'](_0x5149de,_0x2db403,_0x438673,!(-0xdcd+-0x1dc0+0x2b8e));}['once'](_0x132809,_0x206e2d,_0xe87f1c=this){return this['_addCallba'+'ck'](_0x132809,_0x206e2d,_0xe87f1c,!(0x5*0x719+-0x1911+-0xa6c));}['off'](_0x5d2ab2,_0x134361,_0x373a92){if(_0x5d2ab2)this['_callbackA'+'ctive']['has'](_0x5d2ab2)&&this['_callbackA'+'ctive']['get'](_0x5d2ab2)===this['_callbacks']['get'](_0x5d2ab2)&&this['_callbackA'+'ctive']['set'](_0x5d2ab2,this['_callbackA'+'ctive']['get'](_0x5d2ab2)['slice']());else{for(const [_0x5f6f77,_0x311c24]of this['_callbackA'+'ctive'])this['_callbacks']['has'](_0x5f6f77)&&this['_callbacks']['get'](_0x5f6f77)===_0x311c24&&this['_callbackA'+'ctive']['set'](_0x5f6f77,_0x311c24['slice']());}if(_0x5d2ab2){if(_0x134361){const _0x22539e=this['_callbacks']['get'](_0x5d2ab2);if(!_0x22539e)return this;for(let _0x3cadfa=0x4b6*0x3+-0x1*-0x203+0x1025*-0x1;_0x3cadfa<_0x22539e['length'];_0x3cadfa++)_0x22539e[_0x3cadfa]['callback']===_0x134361&&(_0x373a92&&_0x22539e[_0x3cadfa]['scope']!==_0x373a92||(_0x22539e[_0x3cadfa]['removed']=!(-0x35b+-0x3*0x78b+0xcfe*0x2),_0x22539e['splice'](_0x3cadfa,0x25fc+0x1520+0x3b1b*-0x1),_0x3cadfa--));_0x22539e['length']===0x1f64+-0x96c+-0xafc*0x2&&this['_callbacks']['delete'](_0x5d2ab2);}else{const _0x20aa38=this['_callbacks']['get'](_0x5d2ab2);if(_0x20aa38){for(let _0x35e2dc=-0x1b31+0x37*-0x84+0x378d;_0x35e2dc<_0x20aa38['length'];_0x35e2dc++)_0x20aa38[_0x35e2dc]['removed']=!(0x1*0x727+0x3ab+-0xad2);this['_callbacks']['delete'](_0x5d2ab2);}}}else{for(const _0x164f58 of this['_callbacks']['values']())for(let _0x5b0419=0x20b9+-0x1*0xa5b+-0xb2f*0x2;_0x5b0419<_0x164f58['length'];_0x5b0419++)_0x164f58[_0x5b0419]['removed']=!(0xc9d+0x274+0x7*-0x227);this['_callbacks']['clear']();}return this;}['offByHandl'+'e'](_0x4de46a){const _0xcb54f6=_0x4de46a['name'];_0x4de46a['removed']=!(0x1203+-0x44f*-0x3+-0x1ef0),this['_callbackA'+'ctive']['has'](_0xcb54f6)&&this['_callbackA'+'ctive']['get'](_0xcb54f6)===this['_callbacks']['get'](_0xcb54f6)&&this['_callbackA'+'ctive']['set'](_0xcb54f6,this['_callbackA'+'ctive']['get'](_0xcb54f6)['slice']());const _0xb7d991=this['_callbacks']['get'](_0xcb54f6);if(!_0xb7d991)return this;const _0x15f40c=_0xb7d991['indexOf'](_0x4de46a);return _0x15f40c!==-(-0x1891+-0x783*-0x3+-0x209*-0x1)&&(_0xb7d991['splice'](_0x15f40c,0x1315*0x1+0x254c+-0x3860),_0xb7d991['length']===-0x36+-0x18be*0x1+0x18f4*0x1&&this['_callbacks']['delete'](_0xcb54f6)),this;}['fire'](_0x223ef3,_0x128bca,_0x9f10f0,_0x3a38bc,_0x557210,_0x22d29,_0x185d99,_0x34ef72,_0x408f11){if(!_0x223ef3)return this;const _0x104895=this['_callbacks']['get'](_0x223ef3);if(!_0x104895)return this;let _0x36dbf1;this['_callbackA'+'ctive']['has'](_0x223ef3)?this['_callbackA'+'ctive']['get'](_0x223ef3)!==_0x104895&&(_0x36dbf1=_0x104895['slice']()):this['_callbackA'+'ctive']['set'](_0x223ef3,_0x104895);for(let _0x1edd30=0x48d+-0x81b*-0x1+0x4*-0x32a;(_0x36dbf1||this['_callbackA'+'ctive']['get'](_0x223ef3))&&_0x1edd30<(_0x36dbf1||this['_callbackA'+'ctive']['get'](_0x223ef3))['length'];_0x1edd30++){const _0x465cf2=(_0x36dbf1||this['_callbackA'+'ctive']['get'](_0x223ef3))[_0x1edd30];if(_0x465cf2['callback']&&(_0x465cf2['callback']['call'](_0x465cf2['scope'],_0x128bca,_0x9f10f0,_0x3a38bc,_0x557210,_0x22d29,_0x185d99,_0x34ef72,_0x408f11),_0x465cf2['_once'])){const _0x44788e=this['_callbacks']['get'](_0x223ef3),_0x2af872=_0x44788e?_0x44788e['indexOf'](_0x465cf2):-(-0x3*0x5a7+-0x3f5+0x14eb);if(_0x2af872!==-(-0x36e+-0x2dc*0x6+0x1497)){this['_callbackA'+'ctive']['get'](_0x223ef3)===_0x44788e&&this['_callbackA'+'ctive']['set'](_0x223ef3,this['_callbackA'+'ctive']['get'](_0x223ef3)['slice']());const _0x315b15=this['_callbacks']['get'](_0x223ef3);if(!_0x315b15)continue;_0x315b15[_0x2af872]['removed']=!(-0x12cc+-0x524+0x10*0x17f),_0x315b15['splice'](_0x2af872,-0x8eb*0x1+0x17d7+-0xeeb),_0x315b15['length']===0xb*-0x17f+0x2c*0xc9+-0x1217*0x1&&this['_callbacks']['delete'](_0x223ef3);}}}return _0x36dbf1||this['_callbackA'+'ctive']['delete'](_0x223ef3),this;}['hasEvent'](_0x5e395e){var _0x1e186b;return!!((_0x1e186b=this['_callbacks']['get'](_0x5e395e))!=null&&_0x1e186b['length']);}}class fx{constructor(){h(this,'_list',[]),h(this,'_index',{});}['push'](_0x2fa0de,_0x393256){if(this['_index'][_0x2fa0de])throw Error('Key\x20alread'+'y\x20in\x20index'+'\x20'+_0x2fa0de);const _0x58d268=this['_list']['push'](_0x393256)-(-0x18d1*0x1+-0xaaf*-0x3+0x269*-0x3);this['_index'][_0x2fa0de]=_0x58d268;}['has'](_0x44067d){return this['_index'][_0x44067d]!==void(-0x1*-0xd85+-0x620+-0x765);}['get'](_0x4b2f5e){const _0x5e7a3f=this['_index'][_0x4b2f5e];return _0x5e7a3f!==void(-0x27a*-0x5+0x100e*-0x2+-0x1*-0x13ba)?this['_list'][_0x5e7a3f]:null;}['remove'](_0x4f6b24){const _0x4d80d2=this['_index'][_0x4f6b24];if(_0x4d80d2!==void(0x1ec0+0xc7c+-0x2b3c)){this['_list']['splice'](_0x4d80d2,0x19*0x17f+0x89*0x16+-0x312c),delete this['_index'][_0x4f6b24];for(_0x4f6b24 in this['_index']){const _0x385284=this['_index'][_0x4f6b24];_0x385284>_0x4d80d2&&(this['_index'][_0x4f6b24]=_0x385284-(-0x3*0xab7+0x2506+-0xd*0x60));}return!(-0xbd9+0x1*-0x4e3+0x10bc);}return!(0xd53+-0x7*-0x195+-0x4e1*0x5);}['list'](){return this['_list'];}['clear'](){this['_list']['length']=0x50e*0x4+-0x121d+-0x4d*0x7;for(const _0x3cb1a7 in this['_index'])delete this['_index'][_0x3cb1a7];}}const ux=_0x4814ac=>{const _0xb94140={};let _0x47fac5=_0xb94140;return()=>(_0x47fac5===_0xb94140&&(_0x47fac5=_0x4814ac()),_0x47fac5);},ii=class ii{static['loadScript'](_0x290e55,_0x49321b){const _0x1bb3ad=document['createElem'+'ent']('script');_0x1bb3ad['setAttribu'+'te']('src',_0x290e55),_0x1bb3ad['onload']=()=>{_0x49321b(null);},_0x1bb3ad['onerror']=()=>{_0x49321b('Failed\x20to\x20'+'load\x20scrip'+'t=\x27'+_0x290e55+'\x27');},document['body']['appendChil'+'d'](_0x1bb3ad);}static['loadWasm'](_0x2884ac,_0x283670,_0x2fc994){const _0x2dace8=ii['wasmSuppor'+'ted']()&&_0x283670['glueUrl']&&_0x283670['wasmUrl']?_0x283670['glueUrl']:_0x283670['fallbackUr'+'l'];_0x2dace8?ii['loadScript'](_0x2dace8,_0x135e27=>{if(_0x135e27)_0x2fc994(_0x135e27,null);else{const _0x6ce077=window[_0x2884ac];window[_0x2884ac]=void(-0x76*-0x27+-0x1e2f+0xc35),_0x6ce077({'locateFile':()=>_0x283670['wasmUrl'],'onAbort':()=>{_0x2fc994('wasm\x20modul'+'e\x20aborted.');}})['then'](_0x69113b=>{_0x2fc994(null,_0x69113b);});}}):_0x2fc994('No\x20support'+'ed\x20wasm\x20mo'+'dules\x20foun'+'d.',null);}static['getModule'](_0x3d35f5){return ii['modules']['hasOwnProp'+'erty'](_0x3d35f5)||(ii['modules'][_0x3d35f5]={'config':null,'initializing':!(0x16b2+0xd96*-0x1+-0x91b),'instance':null,'callbacks':[]}),ii['modules'][_0x3d35f5];}static['initialize'](_0x2fce09,_0x2c8fbe){if(_0x2c8fbe['initializi'+'ng'])return;const _0x46c51e=_0x2c8fbe['config'];(_0x46c51e['glueUrl']||_0x46c51e['wasmUrl']||_0x46c51e['fallbackUr'+'l'])&&(_0x2c8fbe['initializi'+'ng']=!(-0x18b7+0x53*-0x1f+-0x22c4*-0x1),ii['loadWasm'](_0x2fce09,_0x46c51e,(_0x2c1973,_0xdd45fa)=>{_0x2c1973?_0x46c51e['errorHandl'+'er']?_0x46c51e['errorHandl'+'er'](_0x2c1973):console['error']('failed\x20to\x20'+'initialize'+'\x20module='+_0x2fce09+'\x20error='+_0x2c1973):(_0x2c8fbe['instance']=_0xdd45fa,_0x2c8fbe['callbacks']['forEach'](_0x1d0719=>{_0x1d0719(_0xdd45fa);}));}));}};h(ii,'modules',{}),h(ii,'wasmSuppor'+'ted',ux(()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x518deb=new WebAssembly['Module'](Uint8Array['of'](0x2273+-0x18dc+-0x5*0x1eb,0x3*0x5d1+-0x180b+0x33*0x23,0x84a+0x1001+-0xda*0x1c,-0x1*0x277+0x26cc+0x3*-0xbf8,0x1293+0x4e*0x4+0x22*-0x95,0x1*-0x25ab+0x539*-0x5+0x2*0x1fe4,0xe79+-0xcb+-0xdae*0x1,-0xb46+0xb68+-0x22));if(_0x518deb instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x518deb)instanceof WebAssembly['Instance'];}}catch{}return!(0x1bad+-0x757*0x4+0x1b0);}));let Yr=ii;class YS{static['setConfig'](_0x57c07b,_0x3babfe){const _0x10c477=Yr['getModule'](_0x57c07b);_0x10c477['config']=_0x3babfe,_0x10c477['callbacks']['length']>0x16bb+-0xee2+0x7d9*-0x1&&Yr['initialize'](_0x57c07b,_0x10c477);}static['getConfig'](_0x3eefb7){var _0x1d69ae,_0x1bd76a;return(_0x1bd76a=(_0x1d69ae=Yr['modules'])==null?void(-0x1e5c+0x1753+0x709):_0x1d69ae[_0x3eefb7])==null?void(0x216b+0x13b6*0x1+-0xcb*0x43):_0x1bd76a['config'];}static['getInstanc'+'e'](_0x27dcfa,_0x4ea9f3){const _0x324a04=Yr['getModule'](_0x27dcfa);_0x324a04['instance']?_0x4ea9f3(_0x324a04['instance']):(_0x324a04['callbacks']['push'](_0x4ea9f3),_0x324a04['config']&&Yr['initialize'](_0x27dcfa,_0x324a04));}}class KS{constructor(_0x296a08){h(this,'arraybuffe'+'r'),h(this,'dataView'),h(this,'offset',-0x25b2+-0x10*-0x8f+-0x3*-0x996),(this['arraybuffe'+'r']=_0x296a08,this['dataView']=new DataView(_0x296a08));}get['remainingB'+'ytes'](){return this['dataView']['byteLength']-this['offset'];}['reset'](_0x3edbf6=-0x49a+0xb64+-0x365*0x2){this['offset']=_0x3edbf6;}['skip'](_0x587fb5){this['offset']+=_0x587fb5;}['align'](_0x425003){this['offset']=this['offset']+_0x425003-(0xba1*-0x1+0x1857+0x1*-0xcb5)&~(_0x425003-(-0xbe6+-0x13*-0xf1+0x5fc*-0x1));}['_inc'](_0x1a09aa){return this['offset']+=_0x1a09aa,this['offset']-_0x1a09aa;}['readChar'](){return String['fromCharCo'+'de'](this['dataView']['getUint8'](this['offset']++));}['readChars'](_0x416c9e){let _0x129da0='';for(let _0xf09f92=0x25f4+0x4e9*-0x6+-0x2*0x43f;_0xf09f92<_0x416c9e;++_0xf09f92)_0x129da0+=this['readChar']();return _0x129da0;}['readU8'](){return this['dataView']['getUint8'](this['offset']++);}['readU16'](){return this['dataView']['getUint16'](this['_inc'](0x41*0x8e+-0x15a9+-0xe63),!(0xd4*0xa+-0x117b+-0x1d7*-0x5));}['readU32'](){return this['dataView']['getUint32'](this['_inc'](0x5ca+0x1d*-0xd7+0x1295*0x1),!(-0x1a*0xb1+0x3d2*-0x1+0x7c*0x2d));}['readU64'](){return this['readU32']()+(-0x31c+-0x1*0x14ab+0x17c9)**(-0x6aa+-0x1b8+-0xb*-0xc6)*this['readU32']();}['readU32be'](){return this['dataView']['getUint32'](this['_inc'](-0x1*-0x174+0x567*-0x1+-0x7*-0x91),!(0x1f3+-0x3*-0x84e+0x9*-0x2fc));}['readArray'](_0x2bf3e2){for(let _0x44f39e=-0x8*0x255+-0x257*-0x7+0x247;_0x44f39e<_0x2bf3e2['length'];++_0x44f39e)_0x2bf3e2[_0x44f39e]=this['readU8']();}['readLine'](){const _0x25b201=this['dataView'];let _0x7c4587='';for(;!(this['offset']>=_0x25b201['byteLength']);){const _0x1c1653=String['fromCharCo'+'de'](this['readU8']());if(_0x1c1653==='\x0a')break;_0x7c4587+=_0x1c1653;}return _0x7c4587;}}class oh{constructor(_0x2d11a1){h(this,'items',[]),h(this,'length',0x1548+0x9*0x158+0x164*-0x18),h(this,'loopIndex',-(-0x42d*-0x6+-0x1*-0x26f9+0x5d2*-0xb)),h(this,'_sortBy'),h(this,'_sortHandl'+'er'),(this['_sortBy']=_0x2d11a1['sortBy'],this['_sortHandl'+'er']=this['_doSort']['bind'](this));}['_binarySea'+'rch'](_0x5737b2){let _0x4c5404=-0x5*-0x7be+0x23d7+-0x4a8d,_0x5b9c70=this['items']['length']-(0x2649+-0x2066+0xfb*-0x6);const _0x51db92=_0x5737b2[this['_sortBy']];let _0x5b5d1c,_0x174e8a;for(;_0x4c5404<=_0x5b9c70;)_0x5b5d1c=Math['floor']((_0x4c5404+_0x5b9c70)/(0x4f4+-0x1485*-0x1+0x3*-0x87d)),_0x174e8a=this['items'][_0x5b5d1c][this['_sortBy']],_0x174e8a<=_0x51db92?_0x4c5404=_0x5b5d1c+(-0x11c+0x518+-0x1*0x3fb):_0x174e8a>_0x51db92&&(_0x5b9c70=_0x5b5d1c-(0xaf9*-0x1+-0x1*-0x3d1+0x729));return _0x4c5404;}['_doSort'](_0x3e3bed,_0x5d4f82){const _0xe90e00=this['_sortBy'];return _0x3e3bed[_0xe90e00]-_0x5d4f82[_0xe90e00];}['insert'](_0x45254c){const _0x3d8290=this['_binarySea'+'rch'](_0x45254c);this['items']['splice'](_0x3d8290,-0xe9*-0xf+-0x1*-0x1349+-0x20f0,_0x45254c),this['length']++,this['loopIndex']>=_0x3d8290&&this['loopIndex']++;}['append'](_0x3afb33){this['items']['push'](_0x3afb33),this['length']++;}['remove'](_0x513c5d){const _0x45db2a=this['items']['indexOf'](_0x513c5d);_0x45db2a<-0x451+0xb10+-0x1*0x6bf||(this['items']['splice'](_0x45db2a,0x1c0*0x3+0x98b*0x1+-0xeca),this['length']--,this['loopIndex']>=_0x45db2a&&this['loopIndex']--);}['sort'](){const _0x4175e7=this['loopIndex']>=-0x949*0x2+-0xa*0x377+0x8*0x6a7?this['items'][this['loopIndex']]:null;this['items']['sort'](this['_sortHandl'+'er']),_0x4175e7!==null&&(this['loopIndex']=this['items']['indexOf'](_0x4175e7));}}class Oo extends me{constructor(_0x3565d7){super(),h(this,'_index',{}),h(this,'_list',[]),this['_parent']=_0x3565d7;}['add'](..._0x3eca17){let _0x385a06=!(-0x1061*0x1+0x21*-0xfd+0x30ff);const _0x5e0028=this['_processAr'+'guments'](_0x3eca17,!(-0x12dd+-0x1*0x9b8+0x1c95));if(!_0x5e0028['length'])return _0x385a06;for(let _0x4fe229=-0x13c7+0x5ea*0x1+0xd*0x111;_0x4fe229<_0x5e0028['length'];_0x4fe229++)this['_index'][_0x5e0028[_0x4fe229]]||(_0x385a06=!(-0x242f+0x1013+0x141c),this['_index'][_0x5e0028[_0x4fe229]]=!(-0x13a9+-0x6*-0x425+-0x535),this['_list']['push'](_0x5e0028[_0x4fe229]),this['fire']('add',_0x5e0028[_0x4fe229],this['_parent']));return _0x385a06&&this['fire']('change',this['_parent']),_0x385a06;}['remove'](..._0x29007f){let _0x3bf930=!(0x1139+0x1453+0x55d*-0x7);if(!this['_list']['length'])return _0x3bf930;const _0x5d1682=this['_processAr'+'guments'](_0x29007f,!(-0xd81+0x1a*0x27+0x98b));if(!_0x5d1682['length'])return _0x3bf930;for(let _0x5119f7=0x20b8+-0x9d*0x7+-0x1c6d;_0x5119f7<_0x5d1682['length'];_0x5119f7++)this['_index'][_0x5d1682[_0x5119f7]]&&(_0x3bf930=!(0x1*-0x2025+0x1*-0x1c32+0x3c57),delete this['_index'][_0x5d1682[_0x5119f7]],this['_list']['splice'](this['_list']['indexOf'](_0x5d1682[_0x5119f7]),0xceb+0x9*0x3c9+-0x2efb),this['fire']('remove',_0x5d1682[_0x5119f7],this['_parent']));return _0x3bf930&&this['fire']('change',this['_parent']),_0x3bf930;}['clear'](){if(!this['_list']['length'])return;const _0x1bc011=this['_list']['slice'](-0x30*0xa7+0x242a+0x9*-0x8a);this['_list']=[],this['_index']={};for(let _0x4cb942=0x7*0x1d+0x3*0x36f+-0xb18;_0x4cb942<_0x1bc011['length'];_0x4cb942++)this['fire']('remove',_0x1bc011[_0x4cb942],this['_parent']);this['fire']('change',this['_parent']);}['has'](..._0x5d6fea){return this['_list']['length']?this['_has'](this['_processAr'+'guments'](_0x5d6fea)):!(-0xc9a*-0x1+0x1ed3*-0x1+0x123a);}['_has'](_0xb5cf34){if(!this['_list']['length']||!_0xb5cf34['length'])return!(0x2240+-0x9cf+-0x1870);for(let _0x1612b5=-0x1*-0x119b+-0x16de*-0x1+0x1*-0x2879;_0x1612b5<_0xb5cf34['length'];_0x1612b5++)if(_0xb5cf34[_0x1612b5]['length']===0x1f89+0x79c+-0x2724){if(this['_index'][_0xb5cf34[_0x1612b5][-0x1e2b*-0x1+0x120c+0x3037*-0x1]])return!(-0x1330+-0x7ed+-0x277*-0xb);}else{let _0x4d27cf=!(0x1d5d*0x1+-0xf6b+-0xdf2);for(let _0x300a32=-0x101b+-0x963+0x1*0x197e;_0x300a32<_0xb5cf34[_0x1612b5]['length'];_0x300a32++)if(!this['_index'][_0xb5cf34[_0x1612b5][_0x300a32]]){_0x4d27cf=!(-0x2480+0x1*-0x2566+0x49e7);break;}if(_0x4d27cf)return!(0x24f9+0x1284+0xb19*-0x5);}return!(0x1090+-0x41f*-0x8+-0x1*0x3187);}['list'](){return this['_list']['slice'](-0x1318+-0x171b+0x2a33);}['_processAr'+'guments'](_0x100123,_0x41f217){const _0x2c4a6d=[];let _0x14b3b1=[];if(!_0x100123||!_0x100123['length'])return _0x2c4a6d;for(let _0x48ac01=0x39*-0x31+-0x2b*-0x36+0x1d7;_0x48ac01<_0x100123['length'];_0x48ac01++)if(_0x100123[_0x48ac01]instanceof Array){_0x41f217||(_0x14b3b1=[]);for(let _0x9a3d2e=-0x11f5*0x1+0x1ee4*0x1+-0xcef;_0x9a3d2e<_0x100123[_0x48ac01]['length'];_0x9a3d2e++)typeof _0x100123[_0x48ac01][_0x9a3d2e]=='string'&&(_0x41f217?_0x2c4a6d['push'](_0x100123[_0x48ac01][_0x9a3d2e]):_0x14b3b1['push'](_0x100123[_0x48ac01][_0x9a3d2e]));!_0x41f217&&_0x14b3b1['length']&&_0x2c4a6d['push'](_0x14b3b1);}else typeof _0x100123[_0x48ac01]=='string'&&(_0x41f217?_0x2c4a6d['push'](_0x100123[_0x48ac01]):_0x2c4a6d['push']([_0x100123[_0x48ac01]]));return _0x2c4a6d;}get['size'](){return this['_list']['length'];}}h(Oo,'EVENT_ADD','add'),h(Oo,'EVENT_REMO'+'VE','remove'),h(Oo,'EVENT_CHAN'+'GE','change');const de=typeof window<'u'&&window['performanc'+'e']&&window['performanc'+'e']['now']?performance['now']['bind'](performance):Date['now'],px=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class Rd{constructor(_0x10ec0d){h(this,'scheme'),h(this,'authority'),h(this,'path'),h(this,'query'),h(this,'fragment');const _0x28456d=_0x10ec0d['match'](px);this['scheme']=_0x28456d[0xccf*0x1+-0x1253+0x586],this['authority']=_0x28456d[-0x1*-0x153d+-0x31f*-0x9+-0x3150],this['path']=_0x28456d[-0x2e1+-0x227*-0xd+0x1*-0x1915],this['query']=_0x28456d[0x24ce+0x1807*-0x1+-0x22*0x60],this['fragment']=_0x28456d[0x1462+0x9c9+0x26*-0xcb];}['toString'](){let _0x27b2b1='';return this['scheme']&&(_0x27b2b1+=this['scheme']+':'),this['authority']&&(_0x27b2b1+='//'+this['authority']),_0x27b2b1+=this['path'],this['query']&&(_0x27b2b1+='?'+this['query']),this['fragment']&&(_0x27b2b1+='#'+this['fragment']),_0x27b2b1;}['getQuery'](){const _0x3f5ad1={};if(this['query']){const _0x56cd35=decodeURIComponent(this['query'])['split']('&');for(const _0x4a9c79 of _0x56cd35){const _0x2c0ab8=_0x4a9c79['split']('=');_0x3f5ad1[_0x2c0ab8[0x1a7c+0xa6a+0x2*-0x1273]]=_0x2c0ab8[0x9b3+-0x5*0x58b+0x1205];}}return _0x3f5ad1;}['setQuery'](_0x43aac9){let _0x4b66e3='';for(const _0x149ac5 in _0x43aac9)_0x43aac9['hasOwnProp'+'erty'](_0x149ac5)&&(_0x4b66e3!==''&&(_0x4b66e3+='&'),_0x4b66e3+=encodeURIComponent(_0x149ac5)+'='+encodeURIComponent(_0x43aac9[_0x149ac5]));this['query']=_0x4b66e3;}}const mx=-0x5a*0x1a+0x147e+-0xb5a*0x1,tp=-0xc83+-0x7c3*-0x1+-0x4c1*-0x1,Nm=0xdb+0x1d2d+-0x1e04,_x=-0x5f0+-0x1268+-0x7*-0x37b,Y={'DEG_TO_RAD':Math['PI']/(-0x1742+0x2257+-0xa61),'RAD_TO_DEG':(0xd19+0x1dd8+-0x2a3d)/Math['PI'],'clamp'(_0x1931ac,_0x5c71f9,_0x1daced){return _0x1931ac>=_0x1daced?_0x1daced:_0x1931ac<=_0x5c71f9?_0x5c71f9:_0x1931ac;},'intToBytes24'(_0x434ebe){const _0x6012be=_0x434ebe>>-0x10e0+-0xb1e+0x1c0e&0x8d*0x11+0x2*-0xf89+0x16b4,_0x3e9161=_0x434ebe>>-0x11b2+0x17b9+-0x5ff&-0x18c0+-0x2*0x89c+-0x1*-0x2af7,_0x2d2d9b=_0x434ebe&0x34*0x34+-0xe*-0xf6+-0x53*0x47;return[_0x6012be,_0x3e9161,_0x2d2d9b];},'intToBytes32'(_0x29d239){const _0x451e08=_0x29d239>>-0x266a+-0x25b+0x28dd&0xf32+0x5d8+-0x140b,_0x354bf7=_0x29d239>>-0x1f9a+0x19*-0x61+0x2923&0x1384+0x3b8*-0x7+0x281*0x3,_0x1a1b64=_0x29d239>>0x871*0x3+0x334+-0x1c7f&0x24*-0x16+0x2*-0x78e+0x1333*0x1,_0x29f155=_0x29d239&-0x1*-0x1f3c+0x1bc8+-0x1357*0x3;return[_0x451e08,_0x354bf7,_0x1a1b64,_0x29f155];},'bytesToInt24'(_0x7a3381,_0x1c939b,_0x3c0636){return _0x7a3381['length']&&(_0x3c0636=_0x7a3381[-0x2592+-0x13a7+0x393b],_0x1c939b=_0x7a3381[-0x169a+-0x1143+0x27de],_0x7a3381=_0x7a3381[0x14d4+-0x21e4+0xb0*0x13]),_0x7a3381<<-0x3*0x2ab+0xc37+-0x426|_0x1c939b<<0x1*-0x24f5+0x63e+0x1ebf|_0x3c0636;},'bytesToInt32'(_0x59535b,_0x4b8be6,_0x5aeb8b,_0x5b1e15){return _0x59535b['length']&&(_0x5b1e15=_0x59535b[-0x1*-0x1ffd+-0x2b*-0x1e+0x19c*-0x17],_0x5aeb8b=_0x59535b[-0x2030+-0x61*0x47+-0x3b19*-0x1],_0x4b8be6=_0x59535b[-0x1*-0xce+-0x9a7+0x8da],_0x59535b=_0x59535b[0x26d7*0x1+-0x1fb*-0x6+-0x7*0x73f]),(_0x59535b<<0x6d3*0x5+-0x16a3+-0xb64|_0x4b8be6<<0x21e8+0x19ef+-0x3bc7|_0x5aeb8b<<-0x1b74*0x1+-0x17*0xef+-0x97*-0x53|_0x5b1e15)>>>0x33*-0x4d+-0x1f67*-0x1+-0x1010;},'lerp'(_0x25177d,_0x5a503f,_0x3e43e3){return _0x25177d+(_0x5a503f-_0x25177d)*Y['clamp'](_0x3e43e3,0x19*-0x15b+0x454*-0x2+-0x2a8b*-0x1,0x6b2*0x1+0x8*0x2d7+-0x1d69*0x1);},'lerpAngle'(_0x5bb909,_0x17029b,_0x9fc857){return _0x17029b-_0x5bb909>0x1d1f+0x22b*0x1+-0x1e96&&(_0x17029b-=0x51e*0x1+0x3*0x49d+-0x118d),_0x17029b-_0x5bb909<-(-0x10*-0x244+0x23c4+-0x4750)&&(_0x17029b+=0xbf*0x1+-0x1a9d+0x1b46),Y['lerp'](_0x5bb909,_0x17029b,Y['clamp'](_0x9fc857,-0xcbf+-0x1c2b+-0x1*-0x28ea,0x2*-0x10db+0x29*0xb3+0x50c));},'powerOfTwo'(_0x45bf9e){return _0x45bf9e!==-0x1f*0x10a+-0x11cd+0x1*0x3203&&!(_0x45bf9e&_0x45bf9e-(-0x10f*0x4+0x2556+-0x2119*0x1));},'nextPowerOfTwo'(_0xfdff28){return _0xfdff28--,_0xfdff28|=_0xfdff28>>-0xe4b*-0x2+0x2*-0x38f+0x1*-0x1577,_0xfdff28|=_0xfdff28>>-0x2174+0x25e3+-0x1*0x46d,_0xfdff28|=_0xfdff28>>-0x2352+0x9f7+0x195f,_0xfdff28|=_0xfdff28>>-0xb6c+-0x3*-0x4e1+-0x32f,_0xfdff28|=_0xfdff28>>-0x52*0x22+-0x19a0+0x2494,_0xfdff28++,_0xfdff28;},'nearestPowerOfTwo'(_0x166650){return Math['pow'](0x10*-0xab+-0x49d+-0x1*-0xf4f,Math['round'](Math['log2'](_0x166650)));},'random'(_0x539c7a,_0x5e060c){const _0x33094d=_0x5e060c-_0x539c7a;return Math['random']()*_0x33094d+_0x539c7a;},'smoothstep'(_0x2989e0,_0x515fa8,_0x1a09b3){return _0x1a09b3<=_0x2989e0?-0x198*0x12+0xa4c+-0x1*-0x1264:_0x1a09b3>=_0x515fa8?0x18cf+0xd9*-0x28+-0x5*-0x1d2:(_0x1a09b3=(_0x1a09b3-_0x2989e0)/(_0x515fa8-_0x2989e0),_0x1a09b3*_0x1a09b3*(0x6d*0x14+-0x1c3*0x7+0x3d4-(-0x4d1*-0x1+-0x153a+0x106b)*_0x1a09b3));},'smootherstep'(_0xc182b0,_0x283031,_0x4bb73e){return _0x4bb73e<=_0xc182b0?0x9*-0x10+-0x2*0xf3b+0x1f06:_0x4bb73e>=_0x283031?-0x15fb*-0x1+0x94d+0x3*-0xa6d:(_0x4bb73e=(_0x4bb73e-_0xc182b0)/(_0x283031-_0xc182b0),_0x4bb73e*_0x4bb73e*_0x4bb73e*(_0x4bb73e*(_0x4bb73e*(-0x1906*0x1+0x1ba9+0x1*-0x29d)-(-0x4*0x63d+-0xec*-0x8+0x11a3))+(-0xcc2+0x1*0x23db+-0x170f)));},'roundUp'(_0x1ca4a6,_0x58fb68){return _0x58fb68===-0x265*-0x1+0x1b*0x115+-0x1f9c?_0x1ca4a6:Math['ceil'](_0x1ca4a6/_0x58fb68)*_0x58fb68;},'between'(_0xe4ad78,_0x4ffd83,_0x53dda8,_0x4bb1b4){const _0x583c9f=Math['min'](_0x4ffd83,_0x53dda8),_0x36bff6=Math['max'](_0x4ffd83,_0x53dda8);return _0x4bb1b4?_0xe4ad78>=_0x583c9f&&_0xe4ad78<=_0x36bff6:_0xe4ad78>_0x583c9f&&_0xe4ad78<_0x36bff6;}},Tt=class Tt{constructor(_0x54a5bb=-0x1*-0x84a+0x11b2*-0x1+0x968,_0x5c2f7a=-0x19d6+-0x1*-0x112c+0x8aa,_0x44b27e=-0x1cb9+0x6ed*-0x3+0x3180,_0x362904=-0x44*-0x7b+-0x7*0x31+-0x14*0x191){h(this,'r'),h(this,'g'),h(this,'b'),h(this,'a');const _0x538ea3=_0x54a5bb['length'];_0x538ea3===0x1b45+0x1*0x31+0x1*-0x1b73||_0x538ea3===0x1*0x506+-0x95*0x1c+0xb4a?(this['r']=_0x54a5bb[0x1*-0x1e67+0xd99+0x10ce],this['g']=_0x54a5bb[0x4dc+-0xd*0xf4+0x789],this['b']=_0x54a5bb[-0x1a2a+0x1d*-0xef+0x2b*0x13d],this['a']=_0x54a5bb[-0x99f*0x2+-0x9fc+-0x5*-0x5d9]??-0x158e+0x859*-0x2+0x7*0x577):(this['r']=_0x54a5bb,this['g']=_0x5c2f7a,this['b']=_0x44b27e,this['a']=_0x362904);}['clone'](){const _0x2f7d1b=this['constructo'+'r'];return new _0x2f7d1b(this['r'],this['g'],this['b'],this['a']);}['copy'](_0x340e2){return this['r']=_0x340e2['r'],this['g']=_0x340e2['g'],this['b']=_0x340e2['b'],this['a']=_0x340e2['a'],this;}['equals'](_0x2a2471){return this['r']===_0x2a2471['r']&&this['g']===_0x2a2471['g']&&this['b']===_0x2a2471['b']&&this['a']===_0x2a2471['a'];}['set'](_0x237980,_0x3d0ceb,_0x41ee0f,_0x28d685=0x1*0xb69+-0x133*-0x3+0x1*-0xf01){return this['r']=_0x237980,this['g']=_0x3d0ceb,this['b']=_0x41ee0f,this['a']=_0x28d685,this;}['lerp'](_0x14dfd4,_0x4114e9,_0x2947ea){return this['r']=_0x14dfd4['r']+_0x2947ea*(_0x4114e9['r']-_0x14dfd4['r']),this['g']=_0x14dfd4['g']+_0x2947ea*(_0x4114e9['g']-_0x14dfd4['g']),this['b']=_0x14dfd4['b']+_0x2947ea*(_0x4114e9['b']-_0x14dfd4['b']),this['a']=_0x14dfd4['a']+_0x2947ea*(_0x4114e9['a']-_0x14dfd4['a']),this;}['linear'](_0x42252e=this){return this['r']=Math['pow'](_0x42252e['r'],0x487*0x2+-0x1f62+-0x1656*-0x1+0.20000000000000018),this['g']=Math['pow'](_0x42252e['g'],0xb*-0x1fc+0x25f*0xd+-0x8fd+0.20000000000000018),this['b']=Math['pow'](_0x42252e['b'],-0x1654+-0x424+0x1a7a+0.20000000000000018),this['a']=_0x42252e['a'],this;}['gamma'](_0x312144=this){return this['r']=Math['pow'](_0x312144['r'],(-0x5fe+-0x1032*-0x1+-0xa33)/(-0xd7f+0x1*-0x87a+0x15fb+0.20000000000000018)),this['g']=Math['pow'](_0x312144['g'],(0x683+0x5*0x11f+-0xc1d*0x1)/(-0xd*0x1+0x47f+-0x470+0.20000000000000018)),this['b']=Math['pow'](_0x312144['b'],(-0x21ea*0x1+-0x35*-0x63+0xd6c*0x1)/(-0x562*-0x1+0xdf6+-0x1356+0.20000000000000018)),this['a']=_0x312144['a'],this;}['mulScalar'](_0x121256){return this['r']*=_0x121256,this['g']*=_0x121256,this['b']*=_0x121256,this;}['fromString'](_0xf8ea4a){const _0x3883c4=parseInt(_0xf8ea4a['replace']('#','0x'),-0x1679+0x1*0x2183+-0x232*0x5);let _0xa00624;return _0xf8ea4a['length']>-0x1*0xf0d+-0x5b+0x9*0x1b7?_0xa00624=Y['intToBytes'+'32'](_0x3883c4):(_0xa00624=Y['intToBytes'+'24'](_0x3883c4),_0xa00624[0x9*-0x3a+0x25b5+-0x23a8]=0x64*-0x4c+0x1b*0xe+0x1d35*0x1),this['set'](_0xa00624[0x214f*-0x1+0x2373+0x89*-0x4]/(-0x1*-0x15f6+-0x2528+0x1031),_0xa00624[-0x23a6+-0x2*-0x1274+-0x141]/(-0x10d0+-0x407*0x2+-0x1*-0x19dd),_0xa00624[0x9*0x327+-0x1*-0x1cb5+-0x3912]/(-0x8a+-0x1f24+-0x7*-0x4ab),_0xa00624[0x221c+-0xa*-0x31f+-0x15c5*0x3]/(-0x6f*0x29+0xd*-0x20f+-0x1*-0x2d89)),this;}['fromArray'](_0x51130d,_0x520da1=0xd3*0xe+-0xe0*0x20+-0x7*-0x25a){return this['r']=_0x51130d[_0x520da1]??this['r'],this['g']=_0x51130d[_0x520da1+(-0x1*-0xb5c+-0x3a+-0xb21*0x1)]??this['g'],this['b']=_0x51130d[_0x520da1+(-0x1*0xa66+-0x1*-0x237f+-0x1917)]??this['b'],this['a']=_0x51130d[_0x520da1+(-0x303*0x5+-0x32b+-0x17*-0xcb)]??this['a'],this;}['toString'](_0x569495,_0x1986ed){const {r:_0x3ab92b,g:_0x139657,b:_0x3347c0,a:_0x1c24b5}=this;if(_0x1986ed||_0x3ab92b>0x1166+0x4ca*-0x1+0x1cd*-0x7||_0x139657>0x60d*0x3+-0x1*-0x20e0+-0x3306||_0x3347c0>0x11*0x95+-0x14c5*0x1+0xae1)return _0x3ab92b['toFixed'](-0x1*-0x1935+0x219f+-0x3ad1)+',\x20'+_0x139657['toFixed'](0x1d*-0x125+-0x1a75+0x13e3*0x3)+',\x20'+_0x3347c0['toFixed'](0x79+-0x469+0x3f3)+',\x20'+_0x1c24b5['toFixed'](-0x2461+-0x65*0x52+-0x44be*-0x1);let _0x18ea9e='#'+((-0x3b*-0x6d+-0xa8f+-0x1*0xe8f<<0x1da9+-0x313+-0x1a7e)+(Math['round'](_0x3ab92b*(-0x2*0x6d3+-0x525+0x2*0x9e5))<<0x14d5*0x1+-0x7b2+-0xd13)+(Math['round'](_0x139657*(0x15aa+-0x683*-0x2+-0x19*0x159))<<0x1420+0x11f6+-0x2*0x1307)+Math['round'](_0x3347c0*(-0x1a1+0xa62*-0x1+-0x6*-0x22b)))['toString'](0xb*0x345+0x2*-0x716+-0x15bb)['slice'](0x7d5*0x1+0x127a+-0x1a4e);if(_0x569495===!(-0x26d8+-0x6*0x3ce+-0x2*-0x1ed6)){const _0xa42d18=Math['round'](_0x1c24b5*(-0x166f+0xe48+0x926))['toString'](-0xad2+-0x11b2+0x1c94);this['a']<(0x3*-0xa31+0x5*0x175+0x175a)/(-0x24ef*-0x1+-0xfc0+-0x1430)?_0x18ea9e+='0'+_0xa42d18:_0x18ea9e+=_0xa42d18;}return _0x18ea9e;}['toArray'](_0x1101ac=[],_0x314c47=-0x1606+-0x21eb+0x37f1,_0x561a2f=!(-0x110*0x23+0x1896+0x64d*0x2)){return _0x1101ac[_0x314c47]=this['r'],_0x1101ac[_0x314c47+(0x12*0x114+-0x6a2+-0x1d3*0x7)]=this['g'],_0x1101ac[_0x314c47+(-0x7*0x2d4+0xe90+0x53e)]=this['b'],_0x561a2f&&(_0x1101ac[_0x314c47+(0xa6a+-0xc35*0x1+0x1ce)]=this['a']),_0x1101ac;}};h(Tt,'BLACK',Object['freeze'](new Tt(-0x6bd*-0x1+-0x5*-0x321+-0x1662,-0x2569*0x1+0x1e80+-0x1d*-0x3d,-0x81*-0x3+-0x25*-0xc1+-0x1d68,-0x2380+-0x41d+0x279e))),h(Tt,'BLUE',Object['freeze'](new Tt(-0x1d51+-0x6ef+0x2440,0x21e*0x7+0x1*0x18d5+-0x27a7,0x2343+0x11af*0x2+-0x46a0,0x1*-0xec3+0x1803+-0x3*0x315))),h(Tt,'CYAN',Object['freeze'](new Tt(-0x1601+-0x1b48+-0xb*-0x47b,-0x8eb+-0x10*0x120+-0xd76*-0x2,0x2213+0x317*0x9+-0x3de1*0x1,-0x2*-0x337+-0x2240+0x1bd3))),h(Tt,'GRAY',Object['freeze'](new Tt(-0x1489+-0x619+0x1aa2+0.5,-0x1f67+-0x585+0x2*0x1276+0.5,0x78e+0x12e7*-0x2+0x1e40+0.5,0x1353*0x1+0xc3+0x1415*-0x1))),h(Tt,'GREEN',Object['freeze'](new Tt(-0x92c*0x1+-0x1*-0xd0+-0x6b*-0x14,0x5*-0x6d4+0x497+0x1d8e,-0xd*-0xfe+0x10fe+-0x1de4,0x30c+-0x190b*0x1+-0x100*-0x16))),h(Tt,'MAGENTA',Object['freeze'](new Tt(0x1*0x24a3+-0x7*-0x496+-0x44bc,0x1169*-0x2+0x12ae+0x1024,0x1*-0x25bd+0x22d3+0x2eb,0x569+-0x1*-0x1141+-0x16a9))),h(Tt,'RED',Object['freeze'](new Tt(0x22de+0x1b5f*-0x1+0x2*-0x3bf,0xad*0x1+-0x43a*0x6+0x18af,-0x1ad7*0x1+-0x19c8+0x349f*0x1,-0xf11+0x1822*-0x1+-0x4*-0x9cd))),h(Tt,'WHITE',Object['freeze'](new Tt(-0x1*-0xd8+0x1*0x4e2+-0x5b9,0x971*-0x1+-0x1*-0x1bb6+0x1*-0x1244,-0x1e1c+0x406*-0x2+0x2629*0x1,0x59*0x2f+-0x605+-0xa51))),h(Tt,'YELLOW',Object['freeze'](new Tt(0x1*0xd51+-0x1582+-0x2*-0x419,0x1aff+0x37e*-0x4+0x683*-0x2,0x5*-0xd1+0x2669+-0x2254,-0xc07*0x1+-0xd51+0x873*0x3)));let ie=Tt;class ZS{constructor(_0x522e2c,_0x18445b=0x1d08*0x1+0xa8e+-0x2796){h(this,'_curve'),h(this,'_left',-(0x11a0+0x5d+-0x2*0x8fe)/(-0x26f6+-0x2*0x125d+0x4bb0)),h(this,'_right',(-0x138+-0x18d*-0x11+-0x1*0x1924)/(0x4*-0x49e+-0x226d+-0x34e5*-0x1)),h(this,'_recip',0x1b23*0x1+-0x650+-0x14d3),h(this,'_p0',0x1fac+0x17ba+-0x3766),h(this,'_p1',0x916+-0x8c9*-0x1+-0x11df),h(this,'_m0',-0x18f7+-0x2551*-0x1+-0xc5a),h(this,'_m1',-0x597+-0x4e4+0xa7b),(this['_curve']=_0x522e2c,this['_reset'](_0x18445b));}['evaluate'](_0x55bb97,_0x39c78e=!(0x7c0+-0x1*-0x506+0x1*-0xcc5)){(_0x39c78e||_0x55bb97<this['_left']||_0x55bb97>=this['_right'])&&this['_reset'](_0x55bb97);let _0x47d012;const _0x47ee2b=this['_curve']['type'];if(_0x47ee2b===_x)_0x47d012=this['_p0'];else{const _0x2fa48d=this['_recip']===0xa99+0x2*0x8a5+-0x1be3?-0x27+-0x79*-0x7+0x328*-0x1:(_0x55bb97-this['_left'])*this['_recip'];_0x47ee2b===mx?_0x47d012=Y['lerp'](this['_p0'],this['_p1'],_0x2fa48d):_0x47ee2b===tp?_0x47d012=Y['lerp'](this['_p0'],this['_p1'],_0x2fa48d*_0x2fa48d*(0x9*-0x1f5+-0x1*0x98f+0x1b2f-(0x1*-0x1c58+0x18c6+0x394)*_0x2fa48d)):_0x47d012=this['_evaluateH'+'ermite'](this['_p0'],this['_p1'],this['_m0'],this['_m1'],_0x2fa48d);}return _0x47d012;}['_reset'](_0x14c644){const _0x1733f0=this['_curve']['keys'],_0xdb0b49=_0x1733f0['length'];if(!_0xdb0b49)this['_left']=-(-0x6c3+-0x146f+-0x1b33*-0x1)/(-0xbab+0xb9e+0x1*0xd),this['_right']=(0x16d*-0x7+0x11*0x6+0x996)/(-0x2*0xbd4+0x2e3*0xb+-0x819),this['_recip']=-0x5*0x74d+0x198c+0xaf5,this['_p0']=this['_p1']=this['_m0']=this['_m1']=0x23da+0x1fc4*0x1+-0x5*0xd86;else{if(_0x14c644<_0x1733f0[0xbc2+-0x1adc+0xf1a][0x17*-0x13f+0x6ad*-0x1+0x2356])this['_left']=-(-0x1*0x179+-0x72*-0x52+-0x702*0x5)/(-0x3*-0xcfb+-0x242d+0x76*-0x6),this['_right']=_0x1733f0[0x111f+-0x45*0x37+-0x24c][0x16a*0x17+0x19*0x11+-0x222f],this['_recip']=0x2a5+0x26af+0x844*-0x5,this['_p0']=this['_p1']=_0x1733f0[-0x748+-0x6f1*-0x1+0x57][-0xe32*0x2+0x15fd+0x28*0x29],this['_m0']=this['_m1']=-0x2ae*-0xb+0x687+0x1*-0x2401;else{if(_0x14c644>=_0x1733f0[_0xdb0b49-(-0x24ad+0x1*0xaab+0x1a03)][-0x129e+0xa*-0x3d4+0x38e6])this['_left']=_0x1733f0[_0xdb0b49-(-0x328*0xa+-0x7e*0x31+0x37af*0x1)][0x3*-0x95b+-0x1186+-0x2d97*-0x1],this['_right']=(-0x13c3+0x2099+-0xcd5)/(0xdcf+0x18d0+-0x269f*0x1),this['_recip']=0x852+0x122d+-0x1a7f,this['_p0']=this['_p1']=_0x1733f0[_0xdb0b49-(0x1134+-0x1*0x1f71+0x1*0xe3e)][0x41*0x92+0x1*0x265f+-0x4b70],this['_m0']=this['_m1']=-0x56d+-0x1ffb+-0x54*-0x72;else{let _0x428578=0x996+0x4*-0x745+0x1*0x137e;for(;_0x14c644>=_0x1733f0[_0x428578+(-0x165e+-0xe*-0x1e7+0x443*-0x1)][-0x2a7*0x5+0x11*-0x1cf+-0x2*-0x1601];)_0x428578++;this['_left']=_0x1733f0[_0x428578][0x1976+-0x1aa*0x4+-0x12ce],this['_right']=_0x1733f0[_0x428578+(-0x17c6*0x1+0x701*-0x5+0x3acc)][0x6*-0x27f+-0x159b*-0x1+0x6a1*-0x1];const _0x3cd78c=(-0x7*-0xed+-0x24b6+0x1e3c)/(this['_right']-this['_left']);this['_recip']=isFinite(_0x3cd78c)?_0x3cd78c:-0xb04+0x1*-0x3f5+-0xef9*-0x1,this['_p0']=_0x1733f0[_0x428578][-0x15bd+0xd*0x1c7+-0x15d],this['_p1']=_0x1733f0[_0x428578+(0x498+-0x1209+0x1*0xd72)][0xbb*0x2+-0x3e5*0x1+0x3*0xd0],this['_curve']['type']===Nm&&this['_calcTange'+'nts'](_0x1733f0,_0x428578);}}}}['_calcTange'+'nts'](_0x8ad28a,_0x285a8f){let _0x23eca3;const _0x12b8dd=_0x8ad28a[_0x285a8f],_0x1f7d55=_0x8ad28a[_0x285a8f+(-0x25df+-0x17*-0xd3+0x12eb)];let _0x343dc9;if(_0x285a8f===-0x55f+-0x236e+0x5*0x829?_0x23eca3=[_0x8ad28a[0x2*0x8a1+0x19d6+-0x2b18][0x23b5+0x1*-0x254b+0x3a*0x7]+(_0x8ad28a[0x25f4+0x1432+-0x9*0x676][-0x17*0x11c+-0x1351+0x17*0x1f3]-_0x8ad28a[-0xff*-0x21+-0x1d8e*-0x1+-0x3e6c][-0x5e3+-0xfd+-0x370*-0x2]),_0x8ad28a[-0x41e+-0xcb3*-0x2+0x4*-0x552][-0x23ee+0xfc5+0x1*0x142a]+(_0x8ad28a[-0x2348+-0x1ced*0x1+0x4035][0x939+0xf0c+-0x611*0x4]-_0x8ad28a[-0xd9*-0xf+0x1e0f+-0x2ac5][0x1db2+-0x1a4c+-0x365])]:_0x23eca3=_0x8ad28a[_0x285a8f-(0xbd1+0x3*0x67e+0x1e*-0x10b)],_0x285a8f===_0x8ad28a['length']-(0x1976+-0x59*-0x26+-0x26aa)?_0x343dc9=[_0x8ad28a[_0x285a8f+(0x1*0xea7+-0xe*-0x17e+-0x1*0x238a)][-0x2395*-0x1+-0x185a+-0xb3b]+(_0x8ad28a[_0x285a8f+(-0x824+0x5*0x247+-0x33e)][0xacb+-0x1*0x6dd+-0x1*0x3ee]-_0x8ad28a[_0x285a8f][0x4f*-0x4+0x4*0x5ee+-0xb3e*0x2]),_0x8ad28a[_0x285a8f+(-0x124d*-0x1+-0x6cb*0x1+-0xb81)][-0x17c9*-0x1+-0x5a7*-0x1+-0x1d6f]+(_0x8ad28a[_0x285a8f+(-0xf09+-0x1a3a+0x4*0xa51)][0x1d94+-0x139*-0x6+-0x24e9*0x1]-_0x8ad28a[_0x285a8f][-0x1577+0x1*0x2430+-0x9d*0x18])]:_0x343dc9=_0x8ad28a[_0x285a8f+(0x247*0x4+-0xe46+0x52c)],this['_curve']['type']===Nm){const _0xe5d23c=(-0x530+-0x383+0x3*0x2e7)*(_0x1f7d55[0x2524+0x1c30+-0x4154]-_0x12b8dd[0x1a03*0x1+-0xc36+-0xdcd*0x1])/(_0x1f7d55[-0x259c+-0x5*0x416+0x187*0x26]-_0x23eca3[0x753+-0x104c+0x8f9]),_0x50d554=(-0x1e96+0x1*-0xc36+0x1*0x2ace)*(_0x1f7d55[-0x4*-0x4d9+-0x1929+0x5c5]-_0x12b8dd[-0x59*0x1+0x1b7a*0x1+-0x1b21])/(_0x343dc9[0x5*0x67b+-0xbce*-0x1+-0x2c35]-_0x12b8dd[-0x1929+-0x1376*-0x1+0x5b3]);this['_m0']=this['_curve']['tension']*(isFinite(_0xe5d23c)?_0xe5d23c:-0xe2a+-0x2*-0xf43+-0x105c)*(_0x1f7d55[-0x61*0x59+0x19c3*-0x1+0x3b7d]-_0x23eca3[0x8d*0xa+-0x1*0x1dfb+0x187a]),this['_m1']=this['_curve']['tension']*(isFinite(_0x50d554)?_0x50d554:0x19c9+0x174b+0x12*-0x2ba)*(_0x343dc9[-0x8c*-0x2b+0x1*-0x2f3+-0x1490]-_0x12b8dd[-0x1*0x1401+-0xe*-0x20e+-0x8c2]);}else{const _0x6c5094=(_0x1f7d55[0x1*0x180f+0x1*0x11c9+0x67*-0x68]-_0x12b8dd[-0x1131+0xde5*0x1+0x34c*0x1])/(_0x12b8dd[-0x2f*-0x13+0x1a3*-0xb+-0x3a1*-0x4]-_0x23eca3[0x53*0x4c+0x767+0xd*-0x277]),_0x469536=(_0x1f7d55[0xe97+-0x660+-0x1*0x837]-_0x12b8dd[-0x1b0c+0x1*-0x201f+0x3*0x13b9])/(_0x343dc9[-0x1997*-0x1+0xfcf+0x5ea*-0x7]-_0x1f7d55[0x1*0x818+-0x6a7+-0x171]),_0x44e9f6=_0x12b8dd[-0x126d+0x2545+-0x12d7]+(_0x23eca3[0x210b*-0x1+0x1*-0x98f+0x2a9b]-_0x12b8dd[0x1*0x869+-0x1*0x8e4+0x3e*0x2])*(isFinite(_0x6c5094)?_0x6c5094:0x14cd+-0x9*-0x1d+-0x15d2),_0x2473b4=_0x1f7d55[0x25e3+0xad*-0xd+-0x1d19]+(_0x343dc9[0x22f6+0x858+0x2b4d*-0x1]-_0x1f7d55[-0x12e4+0x797+0xb4e])*(isFinite(_0x469536)?_0x469536:0x1f82+0xa69*-0x2+-0xab0),_0x30a498=this['_curve']['tension'];this['_m0']=_0x30a498*(_0x1f7d55[0x400*-0x4+-0x663+0x1*0x1664]-_0x44e9f6),this['_m1']=_0x30a498*(_0x2473b4-_0x12b8dd[0x1623*-0x1+0x228d+-0xc69]);}}['_evaluateH'+'ermite'](_0xf689c3,_0x1c31cc,_0x278149,_0x16ad10,_0xeefafd){const _0x41923b=_0xeefafd*_0xeefafd,_0x8fb862=_0xeefafd+_0xeefafd,_0x425298=0x54*0x2f+0x7ff*0x3+-0x2768-_0xeefafd,_0x1f4327=_0x425298*_0x425298;return _0xf689c3*((-0x1936*0x1+-0x39*-0x3+0x188c+_0x8fb862)*_0x1f4327)+_0x278149*(_0xeefafd*_0x1f4327)+_0x1c31cc*(_0x41923b*(0x1*-0x2203+0x2f7+0x1f0f-_0x8fb862))+_0x16ad10*(_0x41923b*(_0xeefafd-(-0x7*0x471+-0x29f*0x3+0x26f5)));}}class qs{constructor(_0x4c426c){h(this,'keys',[]),h(this,'type',tp),h(this,'tension',0x33*-0x81+0xd2b*-0x1+0x26de+0.5),h(this,'_eval',new ZS(this));if(_0x4c426c){for(let _0x46f153=-0x9e*-0x4+-0x13fb+0x1183;_0x46f153<_0x4c426c['length']-(0xf07+0x124f+0xa1*-0x35);_0x46f153+=0x27*-0x9f+0x1*-0x1a9b+0x32d6)this['keys']['push']([_0x4c426c[_0x46f153],_0x4c426c[_0x46f153+(-0xe5d+0x7fb+0x1*0x663)]]);}this['sort']();}get['length'](){return this['keys']['length'];}['add'](_0x478507,_0x1e2621){const _0x17acfe=this['keys'],_0x33584b=_0x17acfe['length'];let _0x33a2e3=-0x11d3+-0x1f38+-0x2d*-0x117;for(;_0x33a2e3<_0x33584b&&!(_0x17acfe[_0x33a2e3][0x255*0xf+-0xedc+0x1*-0x141f]>_0x478507);_0x33a2e3++);const _0x2772c9=[_0x478507,_0x1e2621];return this['keys']['splice'](_0x33a2e3,0x1*-0xafe+-0x1*-0xcbb+-0x1bd,_0x2772c9),_0x2772c9;}['get'](_0x480d97){return this['keys'][_0x480d97];}['sort'](){this['keys']['sort']((_0x1f4868,_0x3e7c8b)=>_0x1f4868[0x1486+0x722+-0x1ba8]-_0x3e7c8b[0x1c46+-0x236e+0x728]);}['value'](_0x41da28){return this['_eval']['evaluate'](_0x41da28,!(-0x2003+0x49d*-0x1+-0x24a*-0x10));}['closest'](_0x43c8f0){const _0x13d8de=this['keys'],_0x5eb449=_0x13d8de['length'];let _0x5bfed4=-0x1b*-0x40+0x2*0xef9+0x24b0*-0x1,_0x2294db=null;for(let _0x3b9ce3=-0x29*-0x76+0x2139+-0x4bd*0xb;_0x3b9ce3<_0x5eb449;_0x3b9ce3++){const _0x357ac4=Math['abs'](_0x43c8f0-_0x13d8de[_0x3b9ce3][-0x134d+-0x262e+0x5*0xb7f]);if(_0x5bfed4>=_0x357ac4)_0x5bfed4=_0x357ac4,_0x2294db=_0x13d8de[_0x3b9ce3];else break;}return _0x2294db;}['clone'](){const _0x4bab6b=new this['constructo'+'r']();return _0x4bab6b['keys']=this['keys']['map'](_0x1e5512=>[..._0x1e5512]),_0x4bab6b['type']=this['type'],_0x4bab6b['tension']=this['tension'],_0x4bab6b;}['quantize'](_0x4f3110){_0x4f3110=Math['max'](_0x4f3110,-0xb07+0x6f+0x3b*0x2e);const _0x1ffa03=new Float32Array(_0x4f3110),_0x47bb94=(-0x1c7f*-0x1+0xab0+-0x272e)/(_0x4f3110-(-0x9d4*0x3+0x17e*-0x9+0x2aeb));_0x1ffa03[0x1*0xd13+0x2643+0x2*-0x19ab]=this['_eval']['evaluate'](0x945+0xfb+-0xa40,!(0x18e6*-0x1+-0x151b+0x2e01));for(let _0x2dc65e=-0x19c6*-0x1+0x11c4+-0x2b89;_0x2dc65e<_0x4f3110;_0x2dc65e++)_0x1ffa03[_0x2dc65e]=this['_eval']['evaluate'](_0x47bb94*_0x2dc65e);return _0x1ffa03;}['quantizeCl'+'amped'](_0xfe62b7,_0x5d5c92,_0x1cbf68){const _0x31803a=this['quantize'](_0xfe62b7);for(let _0x5e4e01=0x4bc+-0xc9d*-0x2+-0x1df6;_0x5e4e01<_0x31803a['length'];++_0x5e4e01)_0x31803a[_0x5e4e01]=Math['min'](_0x1cbf68,Math['max'](_0x5d5c92,_0x31803a[_0x5e4e01]));return _0x31803a;}}class na{constructor(..._0x2b2831){h(this,'curves',[]),h(this,'_type',tp);if(_0x2b2831['length']>-0x1981+0x13*-0xef+0x2b3f){for(let _0x20f03c=-0xdb6+-0x1*0x146f+0x2225;_0x20f03c<_0x2b2831['length'];_0x20f03c++)this['curves']['push'](new qs(_0x2b2831[_0x20f03c]));}else{if(_0x2b2831['length']===-0x1*0x1318+0x2*-0x9fd+0x2712)this['curves']['push'](new qs());else{const _0x587c5a=_0x2b2831[-0x269d+0x18c6+0x49d*0x3];if(typeof _0x587c5a=='number'){for(let _0x4f7181=0x1592+0x16ec+-0x2c7e;_0x4f7181<_0x587c5a;_0x4f7181++)this['curves']['push'](new qs());}else{for(let _0x120af0=-0x2169+0x2*-0x354+0x2811;_0x120af0<_0x587c5a['length'];_0x120af0++)this['curves']['push'](new qs(_0x587c5a[_0x120af0]));}}}}get['length'](){return this['curves']['length'];}set['type'](_0x1ef8b2){this['_type']=_0x1ef8b2;for(let _0x158155=-0x1eb5+-0x103e+0x2ef3;_0x158155<this['curves']['length'];_0x158155++)this['curves'][_0x158155]['type']=_0x1ef8b2;}get['type'](){return this['_type'];}['get'](_0x39dc6e){return this['curves'][_0x39dc6e];}['value'](_0x558458,_0x261492=[]){const _0x2f1076=this['curves']['length'];_0x261492['length']=_0x2f1076;for(let _0x3e29a0=0x1440+-0x181d+-0x2b*-0x17;_0x3e29a0<_0x2f1076;_0x3e29a0++)_0x261492[_0x3e29a0]=this['curves'][_0x3e29a0]['value'](_0x558458);return _0x261492;}['clone'](){const _0x22a91c=new this['constructo'+'r']();_0x22a91c['curves']=[];for(let _0x591a63=-0x1db4+0x2487+-0x6d3;_0x591a63<this['curves']['length'];_0x591a63++)_0x22a91c['curves']['push'](this['curves'][_0x591a63]['clone']());return _0x22a91c['_type']=this['_type'],_0x22a91c;}['quantize'](_0x995313){_0x995313=Math['max'](_0x995313,0xfa2+-0x11fc+0x1*0x25c);const _0x713ea0=this['curves']['length'],_0x2ebdf0=new Float32Array(_0x995313*_0x713ea0),_0x154ed6=(0x1c42+0xb5+-0xb*0x2a2)/(_0x995313-(0x590+0x1a*-0x151+0x1cab));for(let _0x490f25=0x2b*0x56+0x193b+-0x7*0x5ab;_0x490f25<_0x713ea0;_0x490f25++){const _0x21c401=new ZS(this['curves'][_0x490f25]);for(let _0xc28edd=-0x3*0x8ca+0x905*-0x2+0x658*0x7;_0xc28edd<_0x995313;_0xc28edd++)_0x2ebdf0[_0xc28edd*_0x713ea0+_0x490f25]=_0x21c401['evaluate'](_0x154ed6*_0xc28edd);}return _0x2ebdf0;}['quantizeCl'+'amped'](_0x13ef0f,_0x3baf55,_0x44346a){const _0x280ea1=this['quantize'](_0x13ef0f);for(let _0x1c65b8=0xb3c*0x1+-0x1*-0x2707+-0x3243;_0x1c65b8<_0x280ea1['length'];++_0x1c65b8)_0x280ea1[_0x1c65b8]=Math['min'](_0x44346a,Math['max'](_0x3baf55,_0x280ea1[_0x1c65b8]));return _0x280ea1;}}const Hf=new Float32Array(0x2*0x12d7+0x1*-0x1d08+-0x8a5),km=new Int32Array(Hf['buffer']);class Mn{static['float2Half'](_0x368cac){Hf[-0x1cef+0x22ea*-0x1+0x3fd9]=_0x368cac;const _0x494fd1=km[-0x5*0x32b+0x2011+0x103a*-0x1];let _0x557a2f=_0x494fd1>>0x719+-0x27c+-0x1*0x48d&-0xee10+0xad*0xbb+0xefb1,_0x26fe2e=_0x494fd1>>0x1*0xcdd+-0x1377+-0x2*-0x353&-0x1e6c+-0x164f+0x3cba;const _0x213e2a=_0x494fd1>>0x137d*-0x1+-0x2b1*-0x5+0x61f&0x7f*-0x2b+0x5ab+0x10a9*0x1;return _0x213e2a<0x9ff*0x2+-0x1*-0xa81+-0x1e18?_0x557a2f:_0x213e2a>0x2656+-0x299*-0xe+0x4a26*-0x1?(_0x557a2f|=0x1f*-0x1fd+-0x20d2+-0xda75*-0x1,_0x557a2f|=(_0x213e2a===0xf58*0x2+0x2203+-0x3*0x153c?-0x11ed+-0x1*0x11ab+0x43*0x88:-0x10bf+-0x1d35*-0x1+-0x427*0x3)&&_0x494fd1&-0xac44d5+0x252555+0x7*0x2596c9,_0x557a2f):_0x213e2a<0x2058+0xa3*0x28+-0x395f?(_0x26fe2e|=-0x21a1+-0x1*0xa91+0x66*0x83,_0x557a2f|=(_0x26fe2e>>-0x6b*0xd+0x2*0x97a+-0xd13-_0x213e2a)+(_0x26fe2e>>0x35c+0x18fd+-0x1be8-_0x213e2a&0x911*-0x3+-0x24ba+-0x491*-0xe),_0x557a2f):(_0x557a2f|=_0x213e2a-(-0x132f*0x2+0x16dc+0xff2)<<0x1f9c+-0x82b*0x1+-0x1767|_0x26fe2e>>-0x1e21+0x22fa+-0x8*0x9b,_0x557a2f+=_0x26fe2e&-0x26eb+-0x78*-0x2+-0x1ba*-0x16,_0x557a2f);}static['float2RGBA'+'8'](_0x37aa99,_0xe5106e){Hf[-0x1d*0x1+0xb6f*-0x1+-0x2*-0x5c6]=_0x37aa99;const _0x19e057=km[-0xd97+0x163c*-0x1+0x23d3];_0xe5106e['r']=(_0x19e057>>-0x24bf+0x45*0x1b+0x1*0x1d90&0xbf9+0x780+0x3b2*-0x5)/(-0x1*0x2375+-0x22cc*0x1+0x4740),_0xe5106e['g']=(_0x19e057>>0x2474*0x1+-0x211*0x8+0x3e*-0x52&-0x1a53+0x24dc+-0x3*0x32e)/(-0x1*-0x44+-0x6*-0x4ca+-0x43*0x6b),_0xe5106e['b']=(_0x19e057>>0x4e1+0x930+-0xe09&-0xf80+0x9a9+0x6d6)/(-0x6b*-0x53+-0x18ee+0x3*-0x2ec),_0xe5106e['a']=(_0x19e057&-0x1*0x1295+0x1cda+0x946*-0x1)/(0xd6*-0xd+0x74*0x31+0xa57*-0x1);}}const wt=class wt{constructor(_0x4ae969=-0x2f*0x61+-0x1*0xc8f+0x1e5e,_0x41bb8d=0xac*-0x20+-0x25d3+0x3b53,_0x2e44a2=-0x3*-0x921+0x1a1*-0xc+0x3*-0x29d){h(this,'x'),h(this,'y'),h(this,'z'),_0x4ae969['length']===-0x78f+0x473+0x31f?(this['x']=_0x4ae969[0x4*-0x4f5+0x1d3*0x4+-0x644*-0x2],this['y']=_0x4ae969[0x10e9+0xaa9*-0x1+-0x63f],this['z']=_0x4ae969[0xc35+-0x10bf+-0x6*-0xc2]):(this['x']=_0x4ae969,this['y']=_0x41bb8d,this['z']=_0x2e44a2);}['add'](_0x1c4320){return this['x']+=_0x1c4320['x'],this['y']+=_0x1c4320['y'],this['z']+=_0x1c4320['z'],this;}['add2'](_0x342b37,_0x2bef0c){return this['x']=_0x342b37['x']+_0x2bef0c['x'],this['y']=_0x342b37['y']+_0x2bef0c['y'],this['z']=_0x342b37['z']+_0x2bef0c['z'],this;}['addScalar'](_0x28427c){return this['x']+=_0x28427c,this['y']+=_0x28427c,this['z']+=_0x28427c,this;}['addScaled'](_0x4a9f35,_0x3dc68e){return this['x']+=_0x4a9f35['x']*_0x3dc68e,this['y']+=_0x4a9f35['y']*_0x3dc68e,this['z']+=_0x4a9f35['z']*_0x3dc68e,this;}['clone'](){const _0x5332cf=this['constructo'+'r'];return new _0x5332cf(this['x'],this['y'],this['z']);}['copy'](_0x4bd0ab){return this['x']=_0x4bd0ab['x'],this['y']=_0x4bd0ab['y'],this['z']=_0x4bd0ab['z'],this;}['cross'](_0x586af4,_0x342170){const _0x2ce743=_0x586af4['x'],_0x52c7b6=_0x586af4['y'],_0x42fc61=_0x586af4['z'],_0x26e7cf=_0x342170['x'],_0x515753=_0x342170['y'],_0x4308ff=_0x342170['z'];return this['x']=_0x52c7b6*_0x4308ff-_0x515753*_0x42fc61,this['y']=_0x42fc61*_0x26e7cf-_0x4308ff*_0x2ce743,this['z']=_0x2ce743*_0x515753-_0x26e7cf*_0x52c7b6,this;}['distance'](_0xd03b4b){const _0x1744e6=this['x']-_0xd03b4b['x'],_0x3e464c=this['y']-_0xd03b4b['y'],_0x5cf6bd=this['z']-_0xd03b4b['z'];return Math['sqrt'](_0x1744e6*_0x1744e6+_0x3e464c*_0x3e464c+_0x5cf6bd*_0x5cf6bd);}['div'](_0x52e182){return this['x']/=_0x52e182['x'],this['y']/=_0x52e182['y'],this['z']/=_0x52e182['z'],this;}['div2'](_0x5aee0,_0x4d084e){return this['x']=_0x5aee0['x']/_0x4d084e['x'],this['y']=_0x5aee0['y']/_0x4d084e['y'],this['z']=_0x5aee0['z']/_0x4d084e['z'],this;}['divScalar'](_0x1393c4){return this['x']/=_0x1393c4,this['y']/=_0x1393c4,this['z']/=_0x1393c4,this;}['dot'](_0x1a72c5){return this['x']*_0x1a72c5['x']+this['y']*_0x1a72c5['y']+this['z']*_0x1a72c5['z'];}['equals'](_0x24f986){return this['x']===_0x24f986['x']&&this['y']===_0x24f986['y']&&this['z']===_0x24f986['z'];}['equalsAppr'+'ox'](_0x25c7b1,_0x3e15af=-0x1a48+0xe71*0x1+0xbd7+0.000001){return Math['abs'](this['x']-_0x25c7b1['x'])<_0x3e15af&&Math['abs'](this['y']-_0x25c7b1['y'])<_0x3e15af&&Math['abs'](this['z']-_0x25c7b1['z'])<_0x3e15af;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];}['lerp'](_0x23eec0,_0x5f0d4b,_0x9818a8){return this['x']=_0x23eec0['x']+_0x9818a8*(_0x5f0d4b['x']-_0x23eec0['x']),this['y']=_0x23eec0['y']+_0x9818a8*(_0x5f0d4b['y']-_0x23eec0['y']),this['z']=_0x23eec0['z']+_0x9818a8*(_0x5f0d4b['z']-_0x23eec0['z']),this;}['mul'](_0x1c13ad){return this['x']*=_0x1c13ad['x'],this['y']*=_0x1c13ad['y'],this['z']*=_0x1c13ad['z'],this;}['mul2'](_0x563658,_0x2fa8b5){return this['x']=_0x563658['x']*_0x2fa8b5['x'],this['y']=_0x563658['y']*_0x2fa8b5['y'],this['z']=_0x563658['z']*_0x2fa8b5['z'],this;}['mulScalar'](_0x1127f6){return this['x']*=_0x1127f6,this['y']*=_0x1127f6,this['z']*=_0x1127f6,this;}['normalize'](_0x22fcc6=this){const _0x30a8e2=_0x22fcc6['x']*_0x22fcc6['x']+_0x22fcc6['y']*_0x22fcc6['y']+_0x22fcc6['z']*_0x22fcc6['z'];if(_0x30a8e2>-0x217+0x1e89*0x1+-0x16*0x14b){const _0xf1cbc7=(-0x787+-0x1d47+-0x3*-0xc45)/Math['sqrt'](_0x30a8e2);this['x']=_0x22fcc6['x']*_0xf1cbc7,this['y']=_0x22fcc6['y']*_0xf1cbc7,this['z']=_0x22fcc6['z']*_0xf1cbc7;}return this;}['floor'](_0xd00a8a=this){return this['x']=Math['floor'](_0xd00a8a['x']),this['y']=Math['floor'](_0xd00a8a['y']),this['z']=Math['floor'](_0xd00a8a['z']),this;}['ceil'](_0x2dff8b=this){return this['x']=Math['ceil'](_0x2dff8b['x']),this['y']=Math['ceil'](_0x2dff8b['y']),this['z']=Math['ceil'](_0x2dff8b['z']),this;}['round'](_0x43cc7e=this){return this['x']=Math['round'](_0x43cc7e['x']),this['y']=Math['round'](_0x43cc7e['y']),this['z']=Math['round'](_0x43cc7e['z']),this;}['min'](_0x429c77){return _0x429c77['x']<this['x']&&(this['x']=_0x429c77['x']),_0x429c77['y']<this['y']&&(this['y']=_0x429c77['y']),_0x429c77['z']<this['z']&&(this['z']=_0x429c77['z']),this;}['max'](_0x1fe553){return _0x1fe553['x']>this['x']&&(this['x']=_0x1fe553['x']),_0x1fe553['y']>this['y']&&(this['y']=_0x1fe553['y']),_0x1fe553['z']>this['z']&&(this['z']=_0x1fe553['z']),this;}['project'](_0x364b01){const _0x17fbe2=this['x']*_0x364b01['x']+this['y']*_0x364b01['y']+this['z']*_0x364b01['z'],_0x59f882=_0x364b01['x']*_0x364b01['x']+_0x364b01['y']*_0x364b01['y']+_0x364b01['z']*_0x364b01['z'],_0x42b62c=_0x17fbe2/_0x59f882;return this['x']=_0x364b01['x']*_0x42b62c,this['y']=_0x364b01['y']*_0x42b62c,this['z']=_0x364b01['z']*_0x42b62c,this;}['set'](_0x49f062,_0x540937,_0x1d03a4){return this['x']=_0x49f062,this['y']=_0x540937,this['z']=_0x1d03a4,this;}['sub'](_0xc0bac9){return this['x']-=_0xc0bac9['x'],this['y']-=_0xc0bac9['y'],this['z']-=_0xc0bac9['z'],this;}['sub2'](_0xe10816,_0x326e8a){return this['x']=_0xe10816['x']-_0x326e8a['x'],this['y']=_0xe10816['y']-_0x326e8a['y'],this['z']=_0xe10816['z']-_0x326e8a['z'],this;}['subScalar'](_0x60d2a){return this['x']-=_0x60d2a,this['y']-=_0x60d2a,this['z']-=_0x60d2a,this;}['fromArray'](_0x17b876,_0x29b470=-0x17cd+0x1*-0xe65+0x2632){return this['x']=_0x17b876[_0x29b470]??this['x'],this['y']=_0x17b876[_0x29b470+(-0x1*0x258a+0x2087*0x1+-0x141*-0x4)]??this['y'],this['z']=_0x17b876[_0x29b470+(0xe3+-0x1b0d*-0x1+-0x8f*0x32)]??this['z'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+']';}['toArray'](_0x2cacf3=[],_0x500de5=0xce*0x2c+-0x772+-0x952*0x3){return _0x2cacf3[_0x500de5]=this['x'],_0x2cacf3[_0x500de5+(-0x1*0x2661+-0x7d9+0xf*0x315)]=this['y'],_0x2cacf3[_0x500de5+(-0x223+-0x11d*0xb+0x3*0x4cc)]=this['z'],_0x2cacf3;}};h(wt,'ZERO',Object['freeze'](new wt(0x1cfc+-0xb06+-0x11f6,-0x1e68+0x810+0x1658,-0x7b5*0x4+0xc31*0x3+0x1*-0x5bf))),h(wt,'HALF',Object['freeze'](new wt(0x1*-0x231d+0x3c*-0x3a+0x30b5+0.5,0xb15*-0x1+0x1fb7+-0x26*0x8b+0.5,-0x1e67*-0x1+0x1a41+-0x38a8+0.5))),h(wt,'ONE',Object['freeze'](new wt(-0x44f*-0x3+0x6fe+0x9f5*-0x2,0x270a+-0x22e9+-0x20*0x21,0x1bbb+-0x1*-0x23e6+0x7f4*-0x8))),h(wt,'UP',Object['freeze'](new wt(0x1a0c+-0x23f+0x2a5*-0x9,-0x1*0x1ff3+0x204d+-0x59,0x6c2*0x1+0x21bc*0x1+-0x287e))),h(wt,'DOWN',Object['freeze'](new wt(0x1*0xcf5+0x26d6+-0x33cb,-(-0x740+-0x1031+0x1772),-0x450+-0x1*-0x1ad5+-0x1685))),h(wt,'RIGHT',Object['freeze'](new wt(-0x1834+-0x111d+0x2952,-0x1*-0x2395+-0x3*-0x539+-0x1*0x3340,-0x151c+-0xbf*0x13+-0x2349*-0x1))),h(wt,'LEFT',Object['freeze'](new wt(-(0x1ccd*0x1+0x1387*0x1+-0x3053),0x1*0x1f1e+0x1*0x1328+-0x3246,-0x1e9f+0x391+0xd87*0x2))),h(wt,'FORWARD',Object['freeze'](new wt(-0x95f+0x1e77*0x1+-0x1518,-0x1033+-0x3*0xa6f+-0x26*-0x140,-(0x1acc+-0xe12+0xcb9*-0x1)))),h(wt,'BACK',Object['freeze'](new wt(-0x7*0x353+0x2ea*-0x1+0x1a2f*0x1,0x1*-0x254e+0x1*-0x155d+0x3aab,0x1d19+-0x1c9f+0x79*-0x1)));let D=wt;const gn=class gn{constructor(){h(this,'data',new Float32Array(0x2479*0x1+-0x1*-0x8c1+-0x2d31)),this['data'][0x1212+0x2502+-0x3714]=this['data'][0x4*-0x7fd+-0x104e+0x3046]=this['data'][0x1b67+0x2*0x1281+0x1*-0x4061]=0x201*-0x1+0x196e+-0x176c;}['clone'](){const _0x54151e=this['constructo'+'r'];return new _0x54151e()['copy'](this);}['copy'](_0x50e334){const _0x2e0ac7=_0x50e334['data'],_0x55ff34=this['data'];return _0x55ff34[-0xd*-0x22+-0x1d8d+0x1bd3]=_0x2e0ac7[-0x1793*0x1+-0x23ce+0x699*0x9],_0x55ff34[-0x2*0x123b+0x2b9+0x21be]=_0x2e0ac7[0x13b0+0x139d+-0x274c],_0x55ff34[-0xef6+-0x40*0xb+-0x1b*-0xa8]=_0x2e0ac7[0xf26+0x503+0x2e1*-0x7],_0x55ff34[-0x10ff+-0x15db+0x26dd*0x1]=_0x2e0ac7[0x306+-0x1ec1+-0x35*-0x86],_0x55ff34[0x1084+0x2cc+-0x134c]=_0x2e0ac7[0x59d+-0x2b3*-0x7+0x13*-0x14a],_0x55ff34[0x3*0x124+0x13c2+-0x4d*0x4d]=_0x2e0ac7[0x776+0x1828+-0x1*0x1f99],_0x55ff34[-0x175*-0x10+-0x1e25+0x3*0x249]=_0x2e0ac7[-0x1085*0x1+0x1*-0x1699+0x2724],_0x55ff34[-0x14a8+-0x9c3+0x6*0x513]=_0x2e0ac7[0x139b+0x531+0x11*-0x175],_0x55ff34[-0x10d4+0x17d1+-0x6f5]=_0x2e0ac7[-0x2ba*0x9+-0xe*0x218+-0x2*-0x1af1],this;}['set'](_0x259053){const _0x18771f=this['data'];return _0x18771f[-0x2105*-0x1+-0x1a50+0x65*-0x11]=_0x259053[-0x14*-0x3b+0x1d52+-0x21ee],_0x18771f[-0x1fde+0x26e7+-0x708]=_0x259053[-0xfa9*0x1+0x1e31+0xe87*-0x1],_0x18771f[0xdf*0x11+-0x1*0x11ef+0x322]=_0x259053[0xaf7+-0x149e+0x1*0x9a9],_0x18771f[0x36*-0x15+0x21c3+0x2*-0xea9]=_0x259053[-0x90e*0x2+-0x242e+0x364d],_0x18771f[0x8*-0x1ce+0x36e+0xb06]=_0x259053[-0x2*-0x8f9+-0xf2d+-0x5*0x8d],_0x18771f[0xc5f+0xebd*0x2+0x2*-0x14ea]=_0x259053[-0x1c0c*0x1+0xc*-0x1c3+-0x27*-0x143],_0x18771f[-0x907*0x3+-0x8c*-0x4+0x1*0x18eb]=_0x259053[0xb47+0x129*-0x5+0x574*-0x1],_0x18771f[0x1a75+0x89f*0x4+0x45*-0xe2]=_0x259053[0xa*0x30a+0xc71*0x1+-0x2ace],_0x18771f[0x4*-0x29c+0x23ab+0x1*-0x1933]=_0x259053[-0x15f2+-0x13*-0x5d+0x1*0xf13],this;}['getX'](_0x20e7c1=new D()){return _0x20e7c1['set'](this['data'][-0x14c8+0x5ce*-0x6+0x379c],this['data'][0x1bd7*-0x1+-0x14b*-0x1+0x3cb*0x7],this['data'][0x7b*-0x29+0x241b+-0x1*0x1066]);}['getY'](_0x21daf9=new D()){return _0x21daf9['set'](this['data'][-0xa22+0x1384*-0x1+0x1da9],this['data'][-0x1a4f+0x20fe+-0x6ab],this['data'][-0x24f3*0x1+-0xcee+0x31e6]);}['getZ'](_0x2724bd=new D()){return _0x2724bd['set'](this['data'][0x16a5+0x7*-0x197+-0xb7e],this['data'][0xe27+-0x74f*-0x3+0x240d*-0x1],this['data'][0x2ad*0xc+-0x16*0x11c+0x4*-0x1eb]);}['equals'](_0x5408dc){const _0xc75656=this['data'],_0x3bd380=_0x5408dc['data'];return _0xc75656[0x16ed+0x23a4+0x2f*-0x13f]===_0x3bd380[-0x1*-0x1871+0x1275+-0x2ae6]&&_0xc75656[0x44d*-0x7+0xdc8+0x1054]===_0x3bd380[0x1*-0x57d+-0x234*0x1+0x5*0x18a]&&_0xc75656[-0x1aad+-0x187f+0x332e]===_0x3bd380[0x5d2+-0x2*0xe13+-0x3*-0x772]&&_0xc75656[0x4a6*-0x1+0x1f1a+-0x7*0x3c7]===_0x3bd380[0x13*-0x141+-0x22f+0x1a05]&&_0xc75656[-0x839+-0xe4f+0x3*0x784]===_0x3bd380[0x1ea8+0x1d1*0xd+-0x331*0x11]&&_0xc75656[0xefb+-0xed*0x12+0x1b4]===_0x3bd380[-0x143*-0x1e+-0x1*0x1541+-0x4*0x425]&&_0xc75656[0x15*0x134+-0x1*-0xe33+-0x1b7*0x17]===_0x3bd380[-0x1255+0x782+0xad9]&&_0xc75656[0x1*-0x19ba+-0x11a2+-0x17f*-0x1d]===_0x3bd380[0x24ea+-0x2046+-0x49d]&&_0xc75656[0x1b0e+0x1*0x24ca+-0x3fd0]===_0x3bd380[-0x125f*-0x1+0x26bb+-0x3912];}['isIdentity'](){const _0x2cd558=this['data'];return _0x2cd558[0x1616*-0x1+-0x1f3d*0x1+0x323*0x11]===0x226c+-0x198e*0x1+-0x1*0x8dd&&_0x2cd558[0xc62*0x1+0x25a2*-0x1+-0x3*-0x86b]===0x15d8+0x22ba+0x3892*-0x1&&_0x2cd558[-0x3b2+0x554*-0x2+-0x1*-0xe5c]===0x1*-0xc97+0x34*-0x89+0x1*0x286b&&_0x2cd558[-0x29*0x22+-0x7*-0x3d0+-0x43f*0x5]===-0x1e87+-0x45*-0x49+-0x56d*-0x2&&_0x2cd558[0xe*0x161+0x7a9+-0x1*0x1af3]===0xff3+0x8b*0x6+-0x2*0x99a&&_0x2cd558[-0x766*-0x1+0x2479+-0x2bda]===0x1d8c+0x765*-0x4+0x1*0x8&&_0x2cd558[-0x8d*-0x3+0x325+0x2f*-0x1a]===0x14a+-0x202*-0x10+0x5b*-0x5e&&_0x2cd558[0x702+-0x2*-0x433+0xf61*-0x1]===-0xe44+0x5*-0x4c7+0x2627&&_0x2cd558[0x13e9+-0x7*-0x516+-0x7ed*0x7]===0x3*-0x412+-0x1710+0x1*0x2347;}['setIdentit'+'y'](){const _0x368692=this['data'];return _0x368692[-0x65f*0x2+-0x1*-0x135e+-0x6a0]=-0x1a74+0x1b7*0xb+0x798,_0x368692[-0xc73*-0x2+-0x718*0x5+0x1*0xa93]=-0x3d*-0x3+0x33*0x86+0x3*-0x923,_0x368692[0x256c+-0xa3a+-0x1d*0xf0]=-0x6d*-0x4+0xfd7+0x1*-0x118b,_0x368692[-0x2698+0xcfe+0x199d*0x1]=0x29d*-0x9+-0x1775+0x2efa,_0x368692[-0x1*-0x10f1+0x1*-0x2329+0x91e*0x2]=-0x1d74+0xa90+0x12e5,_0x368692[-0x11bb+0x1*0x241+0xf7f]=0x1*-0x59d+0x1*0x2053+-0x1ab6,_0x368692[-0x11b7+-0x17f7+0x29b4]=0x46*0x67+0x5bf*0x2+-0x468*0x9,_0x368692[-0x2f4+0x84a*0x4+-0x1e2d]=0x652*0x2+-0x5d9*-0x6+-0x2fba,_0x368692[0x14bc+0x20f9+0x5b*-0x97]=-0x1f26+-0xf6b+-0x6*-0x7c3,this;}['toString'](){return'['+this['data']['join'](',\x20')+']';}['transpose'](_0x43a83d=this){const _0x3ebe1f=_0x43a83d['data'],_0x252861=this['data'];if(_0x3ebe1f===_0x252861){let _0x10783a;_0x10783a=_0x3ebe1f[-0x2*0x1319+0x1427+0xc*0x181],_0x252861[0x34*-0x14+-0x16f+0x580]=_0x3ebe1f[0x2*-0x745+-0x2c1*-0x3+0x64a],_0x252861[-0x67*0x4f+-0x2670+0x463c]=_0x10783a,_0x10783a=_0x3ebe1f[0x1*-0x1f4b+-0x1*0x15c4+-0x1*-0x3511],_0x252861[-0x21c0+-0x2255+0x4417*0x1]=_0x3ebe1f[-0x127+0x987+0x42d*-0x2],_0x252861[-0x2054+0x1836+0x4*0x209]=_0x10783a,_0x10783a=_0x3ebe1f[0xbf*-0x1d+-0x5ce+0x1b76],_0x252861[-0x2484+0x77f*0x4+-0x68d*-0x1]=_0x3ebe1f[-0x6f8+-0x20a5+-0x9e9*-0x4],_0x252861[-0x1845+0x1e75+0x629*-0x1]=_0x10783a;}else _0x252861[0x30*0xa8+-0x362+0x76*-0x3d]=_0x3ebe1f[-0x5d*-0x69+0x2*-0x58+-0x2575],_0x252861[0x216b+0x139f+0x1*-0x3509]=_0x3ebe1f[0x1*0x2374+-0xdf+0x127*-0x1e],_0x252861[-0x29d+-0x7*-0x38c+-0x1635]=_0x3ebe1f[0x2*0x10f+0x2*-0x103d+0x1e62],_0x252861[0xd27+0x1*0x55d+-0x1281]=_0x3ebe1f[0x5ca+-0x1054+0xa8b],_0x252861[-0x1f7a+-0x62c+0x25aa]=_0x3ebe1f[0x3a9*0x5+0x12db+-0x2524],_0x252861[-0x13*0x209+-0x1a*0x169+-0x789*-0xa]=_0x3ebe1f[-0x25*-0x6d+-0x2e+-0xf8c],_0x252861[0xcd*-0x17+0x19*-0x9+0x1352]=_0x3ebe1f[-0xb*-0x12a+-0xe2*0x18+-0x3*-0x2cc],_0x252861[-0x1257*-0x1+0x4b7+0x7ad*-0x3]=_0x3ebe1f[0x6f5+-0x14b+-0x5a5],_0x252861[-0x11fb+-0x71e*-0x1+0xae5]=_0x3ebe1f[-0x7c9+-0xd64+-0x1535*-0x1];return this;}['setFromMat'+'4'](_0x1e3751){const _0x5126f7=_0x1e3751['data'],_0x300ec4=this['data'];return _0x300ec4[-0x2474*0x1+0x2a3*0x2+0x1f2e]=_0x5126f7[-0x16ce+-0x1*-0x1abb+-0x3ed],_0x300ec4[0x3*0x397+0x1888+-0x234c]=_0x5126f7[-0x8*0x283+-0xb06+0x1f*0x101],_0x300ec4[-0x1262+-0x2410+0x3674]=_0x5126f7[0x1069+-0x1b9d+0x52*0x23],_0x300ec4[0x1093+-0x18a8+0x818]=_0x5126f7[-0xb*0x21e+-0x1b04+0x3252],_0x300ec4[0xda9+-0x7*-0x4df+0x2a*-0x123]=_0x5126f7[0x785+0x13c7+-0x1b47],_0x300ec4[-0x1e86*-0x1+0x4*0x464+-0x73*0x6b]=_0x5126f7[0xfc9+-0x57*-0x4+-0x3*0x5b5],_0x300ec4[0x101b+0x149c*0x1+0x65*-0x5d]=_0x5126f7[-0x5*-0x240+-0x608+-0x298*0x2],_0x300ec4[-0x23b8+0xc2b*0x2+0xb69*0x1]=_0x5126f7[-0x2*0x65b+-0x1cfb+0x29ba],_0x300ec4[-0xf5d+-0xa4+0x1009]=_0x5126f7[0xcb*-0x1d+-0xf41+-0x2f2*-0xd],this;}['setFromQua'+'t'](_0xc8fd42){const _0x25f219=_0xc8fd42['x'],_0x5541d8=_0xc8fd42['y'],_0x33b4a5=_0xc8fd42['z'],_0x15c30e=_0xc8fd42['w'],_0x59acfd=_0x25f219+_0x25f219,_0x1a0920=_0x5541d8+_0x5541d8,_0x45b68f=_0x33b4a5+_0x33b4a5,_0x92f370=_0x25f219*_0x59acfd,_0x23b26f=_0x25f219*_0x1a0920,_0x5cf07f=_0x25f219*_0x45b68f,_0x49b581=_0x5541d8*_0x1a0920,_0x1db286=_0x5541d8*_0x45b68f,_0x51c025=_0x33b4a5*_0x45b68f,_0x2bdfe3=_0x15c30e*_0x59acfd,_0x4e7325=_0x15c30e*_0x1a0920,_0x3bb31c=_0x15c30e*_0x45b68f,_0x5586f3=this['data'];return _0x5586f3[-0x132f+0x23b+0x10f4]=0x6*-0x37c+0x2415+0xf2c*-0x1-(_0x49b581+_0x51c025),_0x5586f3[-0x37e*0x5+-0x59*0x2b+0x206a]=_0x23b26f+_0x3bb31c,_0x5586f3[-0xca1+0x1*0x1bc7+-0xf24]=_0x5cf07f-_0x4e7325,_0x5586f3[0x1*-0x327+-0xe*0x59+-0x4*-0x202]=_0x23b26f-_0x3bb31c,_0x5586f3[-0x16d1+0x3*0x605+0x2*0x263]=0x184e+-0x5e5+0x2*-0x934-(_0x92f370+_0x51c025),_0x5586f3[0x2c5+-0x1*-0x1ab+-0x46b]=_0x1db286+_0x2bdfe3,_0x5586f3[-0x4f6+-0x1e9b+0x2397]=_0x5cf07f+_0x4e7325,_0x5586f3[-0xd2b+-0x181d+0x254f*0x1]=_0x1db286-_0x2bdfe3,_0x5586f3[0x1b3a+0xb5*0x7+-0x2025*0x1]=0x1*-0x103b+-0x19b2+0x29ee-(_0x92f370+_0x49b581),this;}['invertMat4'](_0x2c5ba1){const _0x4e1572=_0x2c5ba1['data'],_0x3e9c68=_0x4e1572[-0x1d81+0x3bd+0x19c4],_0x56abbe=_0x4e1572[-0xb83*0x3+-0x689+0x2913],_0x4d62ce=_0x4e1572[0x1f00+0x1f9d*0x1+-0x3e9b],_0x9f354f=_0x4e1572[-0x4b1*-0x6+0x1*-0x1f0f+0x2ed],_0x1f6326=_0x4e1572[-0x933*0x4+-0x1910+-0x7*-0x8d7],_0xbfd3da=_0x4e1572[-0xb66+0x2f0+0x2d4*0x3],_0x51e9de=_0x4e1572[0x1d30+0x1bc4+0x4*-0xe3b],_0xd1f3cb=_0x4e1572[0x1*0xda3+0x130a*-0x2+0x187a],_0x1e25d2=_0x4e1572[0x1360+-0x8*0x18e+-0x1*0x6e6],_0x5b00b0=_0x1e25d2*_0x1f6326-_0xbfd3da*_0xd1f3cb,_0x254dcc=-_0x1e25d2*_0x56abbe+_0x4d62ce*_0xd1f3cb,_0x2ff434=_0xbfd3da*_0x56abbe-_0x4d62ce*_0x1f6326,_0x5744ab=-_0x1e25d2*_0x9f354f+_0xbfd3da*_0x51e9de,_0x1c8184=_0x1e25d2*_0x3e9c68-_0x4d62ce*_0x51e9de,_0x230621=-_0xbfd3da*_0x3e9c68+_0x4d62ce*_0x9f354f,_0x3eb326=_0xd1f3cb*_0x9f354f-_0x1f6326*_0x51e9de,_0x4e4415=-_0xd1f3cb*_0x3e9c68+_0x56abbe*_0x51e9de,_0x2073e2=_0x1f6326*_0x3e9c68-_0x56abbe*_0x9f354f,_0x55a03a=_0x3e9c68*_0x5b00b0+_0x56abbe*_0x5744ab+_0x4d62ce*_0x3eb326;if(_0x55a03a===0x269*0x1+0x2462*-0x1+0x21f9)this['setIdentit'+'y']();else{const _0x53920d=(0x2b*-0x2+-0x4f2+0x549)/_0x55a03a,_0x2bc29f=this['data'];_0x2bc29f[-0x1e3d+0xb59+-0x1f*-0x9c]=_0x5b00b0*_0x53920d,_0x2bc29f[-0x26fa+0x2f5*-0x2+0x1*0x2ce5]=_0x254dcc*_0x53920d,_0x2bc29f[0xfdf+0x17a5+-0x2782]=_0x2ff434*_0x53920d,_0x2bc29f[-0x1*0x148e+-0x34*0x7f+0x2e5d]=_0x5744ab*_0x53920d,_0x2bc29f[-0x166*0x7+-0xaf5+0x14c3]=_0x1c8184*_0x53920d,_0x2bc29f[-0x1*-0xed2+0x1ebb+0x16c4*-0x2]=_0x230621*_0x53920d,_0x2bc29f[0x1391+0x1112+-0x249d]=_0x3eb326*_0x53920d,_0x2bc29f[0x2a9+0x2043+-0x22e5]=_0x4e4415*_0x53920d,_0x2bc29f[-0x1254+0x2ef+0x167*0xb]=_0x2073e2*_0x53920d;}return this;}['transformV'+'ector'](_0x2e23e7,_0x5ecadf=new D()){const _0x4fe4a0=this['data'],{x:_0x1324ab,y:_0x83d212,z:_0x3727fa}=_0x2e23e7;return _0x5ecadf['x']=_0x1324ab*_0x4fe4a0[0xb3*-0xd+0x570+0x3a7]+_0x83d212*_0x4fe4a0[0x1e7f+0x2540+-0x44*0xff]+_0x3727fa*_0x4fe4a0[-0x1739*-0x1+-0xd32+-0xd*0xc5],_0x5ecadf['y']=_0x1324ab*_0x4fe4a0[0xb09+-0x163d+0xb35]+_0x83d212*_0x4fe4a0[0x1*0x11e2+-0x1ba9+0x9cb]+_0x3727fa*_0x4fe4a0[0x4a2+0x30*-0x47+-0x1*-0x8b5],_0x5ecadf['z']=_0x1324ab*_0x4fe4a0[-0x1dcc+-0x1b14+0x38e2]+_0x83d212*_0x4fe4a0[0x2382+-0x1*0x201b+-0x362]+_0x3727fa*_0x4fe4a0[0x2*0x40e+-0x1d2*-0xc+-0x1dec],_0x5ecadf;}};h(gn,'IDENTITY',Object['freeze'](new gn())),h(gn,'ZERO',Object['freeze'](new gn()['set']([-0x8cf+-0x1*0xe63+0x1732,0x2570+0x1f*0x2d+-0x2ae3,-0xe75+-0x2*0xa97+0x23a3,0x180f+-0x1bbe*-0x1+-0x1*0x33cd,0x1*0x17b1+0x43a*0x1+0x3fd*-0x7,0x163f+0x1*-0x17f1+0xd9*0x2,0x253e+0x1469+0x1*-0x39a7,-0x190c+0x2*0xabc+0x394,0x2*0x6a1+-0x293*-0x9+-0x246d])));let _i=gn;const Gt=class Gt{constructor(_0x3b3f6b=0x1*-0xcb9+-0x141d+0x20d6,_0x5c1bd2=0xbbb+-0x256+-0x965){h(this,'x'),h(this,'y'),_0x3b3f6b['length']===0x52e+0x1680+-0x1bac?(this['x']=_0x3b3f6b[0x335*0x9+-0x1*0x1d21+0x44*0x1],this['y']=_0x3b3f6b[-0x150b+0x1e5b+-0x1*0x94f]):(this['x']=_0x3b3f6b,this['y']=_0x5c1bd2);}['add'](_0x1edc90){return this['x']+=_0x1edc90['x'],this['y']+=_0x1edc90['y'],this;}['add2'](_0x3192e6,_0x1b7324){return this['x']=_0x3192e6['x']+_0x1b7324['x'],this['y']=_0x3192e6['y']+_0x1b7324['y'],this;}['addScalar'](_0x54c394){return this['x']+=_0x54c394,this['y']+=_0x54c394,this;}['addScaled'](_0x24367f,_0x3d095a){return this['x']+=_0x24367f['x']*_0x3d095a,this['y']+=_0x24367f['y']*_0x3d095a,this;}['clone'](){const _0x5d54e5=this['constructo'+'r'];return new _0x5d54e5(this['x'],this['y']);}['copy'](_0x35a976){return this['x']=_0x35a976['x'],this['y']=_0x35a976['y'],this;}['cross'](_0x4a5509){return this['x']*_0x4a5509['y']-this['y']*_0x4a5509['x'];}['distance'](_0x344c5e){const _0x207da2=this['x']-_0x344c5e['x'],_0x490431=this['y']-_0x344c5e['y'];return Math['sqrt'](_0x207da2*_0x207da2+_0x490431*_0x490431);}['div'](_0xca9ab){return this['x']/=_0xca9ab['x'],this['y']/=_0xca9ab['y'],this;}['div2'](_0x471f71,_0x2f0715){return this['x']=_0x471f71['x']/_0x2f0715['x'],this['y']=_0x471f71['y']/_0x2f0715['y'],this;}['divScalar'](_0x531bf1){return this['x']/=_0x531bf1,this['y']/=_0x531bf1,this;}['dot'](_0x97bceb){return this['x']*_0x97bceb['x']+this['y']*_0x97bceb['y'];}['equals'](_0x4b39fc){return this['x']===_0x4b39fc['x']&&this['y']===_0x4b39fc['y'];}['equalsAppr'+'ox'](_0x42a363,_0x1d0a66=-0x89b+-0xe3c+0x16d7*0x1+0.000001){return Math['abs'](this['x']-_0x42a363['x'])<_0x1d0a66&&Math['abs'](this['y']-_0x42a363['y'])<_0x1d0a66;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y'];}['lerp'](_0x56d036,_0x2d0954,_0x1f4cc6){return this['x']=_0x56d036['x']+_0x1f4cc6*(_0x2d0954['x']-_0x56d036['x']),this['y']=_0x56d036['y']+_0x1f4cc6*(_0x2d0954['y']-_0x56d036['y']),this;}['mul'](_0x305e20){return this['x']*=_0x305e20['x'],this['y']*=_0x305e20['y'],this;}['mul2'](_0x512292,_0x6eed7f){return this['x']=_0x512292['x']*_0x6eed7f['x'],this['y']=_0x512292['y']*_0x6eed7f['y'],this;}['mulScalar'](_0x25bf6a){return this['x']*=_0x25bf6a,this['y']*=_0x25bf6a,this;}['normalize'](_0x5a01f4=this){const _0x307dfb=_0x5a01f4['x']*_0x5a01f4['x']+_0x5a01f4['y']*_0x5a01f4['y'];if(_0x307dfb>0xc5*-0x4+0x14e6*0x1+-0x11d2*0x1){const _0x40df50=(-0x9ca+0x1*-0x2c7+0xc92)/Math['sqrt'](_0x307dfb);this['x']=_0x5a01f4['x']*_0x40df50,this['y']=_0x5a01f4['y']*_0x40df50;}return this;}['rotate'](_0x3ccbd5){const _0x26e013=Math['atan2'](this['x'],this['y'])+_0x3ccbd5*Y['DEG_TO_RAD'],_0xd7f0e5=Math['sqrt'](this['x']*this['x']+this['y']*this['y']);return this['x']=Math['sin'](_0x26e013)*_0xd7f0e5,this['y']=Math['cos'](_0x26e013)*_0xd7f0e5,this;}['angle'](){return Math['atan2'](this['x'],this['y'])*Y['RAD_TO_DEG'];}['angleTo'](_0x481f84){return Math['atan2'](this['x']*_0x481f84['y']+this['y']*_0x481f84['x'],this['x']*_0x481f84['x']+this['y']*_0x481f84['y'])*Y['RAD_TO_DEG'];}['floor'](_0x1ea7b1=this){return this['x']=Math['floor'](_0x1ea7b1['x']),this['y']=Math['floor'](_0x1ea7b1['y']),this;}['ceil'](_0x375c06=this){return this['x']=Math['ceil'](_0x375c06['x']),this['y']=Math['ceil'](_0x375c06['y']),this;}['round'](_0x4faaee=this){return this['x']=Math['round'](_0x4faaee['x']),this['y']=Math['round'](_0x4faaee['y']),this;}['min'](_0x5a3128){return _0x5a3128['x']<this['x']&&(this['x']=_0x5a3128['x']),_0x5a3128['y']<this['y']&&(this['y']=_0x5a3128['y']),this;}['max'](_0x164703){return _0x164703['x']>this['x']&&(this['x']=_0x164703['x']),_0x164703['y']>this['y']&&(this['y']=_0x164703['y']),this;}['set'](_0x305998,_0x22c5b7){return this['x']=_0x305998,this['y']=_0x22c5b7,this;}['sub'](_0x1cb4b9){return this['x']-=_0x1cb4b9['x'],this['y']-=_0x1cb4b9['y'],this;}['sub2'](_0x4817fe,_0x3f5367){return this['x']=_0x4817fe['x']-_0x3f5367['x'],this['y']=_0x4817fe['y']-_0x3f5367['y'],this;}['subScalar'](_0x5126ae){return this['x']-=_0x5126ae,this['y']-=_0x5126ae,this;}['fromArray'](_0x245e32,_0x374840=-0x20bc+0x2290+-0xea*0x2){return this['x']=_0x245e32[_0x374840]??this['x'],this['y']=_0x245e32[_0x374840+(0x7*-0x567+-0x6c*0x17+0x2f86)]??this['y'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+']';}['toArray'](_0x56dc18=[],_0x1ed5b7=-0x2*-0xe1e+0x38*-0x4f+-0xaf4){return _0x56dc18[_0x1ed5b7]=this['x'],_0x56dc18[_0x1ed5b7+(0x2479+0x4*0x8f0+0x241c*-0x2)]=this['y'],_0x56dc18;}static['angleRad'](_0x21c8f5,_0x84351b){return Math['atan2'](_0x21c8f5['x']*_0x84351b['y']-_0x21c8f5['y']*_0x84351b['x'],_0x21c8f5['x']*_0x84351b['x']+_0x21c8f5['y']*_0x84351b['y']);}};h(Gt,'ZERO',Object['freeze'](new Gt(0x231e+-0x1187*-0x1+-0x34a5,-0x194c+0x2242+-0x8f6))),h(Gt,'HALF',Object['freeze'](new Gt(-0x48c+-0x2573+0x33b*0xd+0.5,-0x198a+0x130a*-0x2+0x1*0x3f9e+0.5))),h(Gt,'ONE',Object['freeze'](new Gt(-0x12*0x97+-0x1269*-0x1+-0x1*0x7ca,-0x1854+0x83c+0x1019))),h(Gt,'UP',Object['freeze'](new Gt(-0x200e+-0x486+-0x1*-0x2494,-0x3*0x9d+0x2243+-0x206b))),h(Gt,'DOWN',Object['freeze'](new Gt(0x1fa1+0x1e5f+0x100*-0x3e,-(0x2*0xf11+-0xf81+-0x1d4*0x8)))),h(Gt,'RIGHT',Object['freeze'](new Gt(-0x1fc3*0x1+-0x1*-0xfc5+0xfff,-0x5*0x737+-0x1675+0x751*0x8))),h(Gt,'LEFT',Object['freeze'](new Gt(-(-0xbfc+0x1*-0x19a1+0x259e*0x1),-0x11*0x78+0x1*0x1f+0x7d9)));let J=Gt;const pr=class pr{constructor(_0x3e648f=-0xb80+-0x12b5*0x1+0x25*0xd1,_0x4724fe=0x7b*0x25+-0x1749*-0x1+-0x2910,_0x2e3da6=-0x2396*0x1+0x1c4c*0x1+0x74a,_0x10dc1c=0x1248+0x5+0x124d*-0x1){h(this,'x'),h(this,'y'),h(this,'z'),h(this,'w'),_0x3e648f['length']===-0xaf7*0x3+0x714*0x4+0x499?(this['x']=_0x3e648f[-0x1700+0x1*-0x1431+0x2b31],this['y']=_0x3e648f[0x24+0x57*-0x6f+-0x12cb*-0x2],this['z']=_0x3e648f[0x9a*-0x13+-0x1e1+0x7*0x1e7],this['w']=_0x3e648f[-0x1*0xef3+0xdb*-0x2a+-0x1972*-0x2]):(this['x']=_0x3e648f,this['y']=_0x4724fe,this['z']=_0x2e3da6,this['w']=_0x10dc1c);}['add'](_0x47e9ce){return this['x']+=_0x47e9ce['x'],this['y']+=_0x47e9ce['y'],this['z']+=_0x47e9ce['z'],this['w']+=_0x47e9ce['w'],this;}['add2'](_0x22c046,_0x361735){return this['x']=_0x22c046['x']+_0x361735['x'],this['y']=_0x22c046['y']+_0x361735['y'],this['z']=_0x22c046['z']+_0x361735['z'],this['w']=_0x22c046['w']+_0x361735['w'],this;}['addScalar'](_0x2c069e){return this['x']+=_0x2c069e,this['y']+=_0x2c069e,this['z']+=_0x2c069e,this['w']+=_0x2c069e,this;}['addScaled'](_0x5ca10c,_0x26ad63){return this['x']+=_0x5ca10c['x']*_0x26ad63,this['y']+=_0x5ca10c['y']*_0x26ad63,this['z']+=_0x5ca10c['z']*_0x26ad63,this['w']+=_0x5ca10c['w']*_0x26ad63,this;}['clone'](){const _0x386cd5=this['constructo'+'r'];return new _0x386cd5(this['x'],this['y'],this['z'],this['w']);}['copy'](_0x3ec3f4){return this['x']=_0x3ec3f4['x'],this['y']=_0x3ec3f4['y'],this['z']=_0x3ec3f4['z'],this['w']=_0x3ec3f4['w'],this;}['div'](_0x1682b5){return this['x']/=_0x1682b5['x'],this['y']/=_0x1682b5['y'],this['z']/=_0x1682b5['z'],this['w']/=_0x1682b5['w'],this;}['div2'](_0xa0a21d,_0x514f3f){return this['x']=_0xa0a21d['x']/_0x514f3f['x'],this['y']=_0xa0a21d['y']/_0x514f3f['y'],this['z']=_0xa0a21d['z']/_0x514f3f['z'],this['w']=_0xa0a21d['w']/_0x514f3f['w'],this;}['divScalar'](_0x229e1c){return this['x']/=_0x229e1c,this['y']/=_0x229e1c,this['z']/=_0x229e1c,this['w']/=_0x229e1c,this;}['dot'](_0x4e74c6){return this['x']*_0x4e74c6['x']+this['y']*_0x4e74c6['y']+this['z']*_0x4e74c6['z']+this['w']*_0x4e74c6['w'];}['equals'](_0x2bece1){return this['x']===_0x2bece1['x']&&this['y']===_0x2bece1['y']&&this['z']===_0x2bece1['z']&&this['w']===_0x2bece1['w'];}['equalsAppr'+'ox'](_0x122049,_0x257360=0x3*0x7bd+-0x1*0x698+-0x109f+0.000001){return Math['abs'](this['x']-_0x122049['x'])<_0x257360&&Math['abs'](this['y']-_0x122049['y'])<_0x257360&&Math['abs'](this['z']-_0x122049['z'])<_0x257360&&Math['abs'](this['w']-_0x122049['w'])<_0x257360;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x11d1af,_0x1f9df0,_0x4b7826){return this['x']=_0x11d1af['x']+_0x4b7826*(_0x1f9df0['x']-_0x11d1af['x']),this['y']=_0x11d1af['y']+_0x4b7826*(_0x1f9df0['y']-_0x11d1af['y']),this['z']=_0x11d1af['z']+_0x4b7826*(_0x1f9df0['z']-_0x11d1af['z']),this['w']=_0x11d1af['w']+_0x4b7826*(_0x1f9df0['w']-_0x11d1af['w']),this;}['mul'](_0x28f704){return this['x']*=_0x28f704['x'],this['y']*=_0x28f704['y'],this['z']*=_0x28f704['z'],this['w']*=_0x28f704['w'],this;}['mul2'](_0x192813,_0xb2d73c){return this['x']=_0x192813['x']*_0xb2d73c['x'],this['y']=_0x192813['y']*_0xb2d73c['y'],this['z']=_0x192813['z']*_0xb2d73c['z'],this['w']=_0x192813['w']*_0xb2d73c['w'],this;}['mulScalar'](_0x9f5c69){return this['x']*=_0x9f5c69,this['y']*=_0x9f5c69,this['z']*=_0x9f5c69,this['w']*=_0x9f5c69,this;}['normalize'](_0xdd2205=this){const _0x5560d0=_0xdd2205['x']*_0xdd2205['x']+_0xdd2205['y']*_0xdd2205['y']+_0xdd2205['z']*_0xdd2205['z']+_0xdd2205['w']*_0xdd2205['w'];if(_0x5560d0>-0x1*-0x250+-0xf1*0x17+0x1357){const _0x28d6c5=(-0x25bb+-0x11a1*0x1+0x375d)/Math['sqrt'](_0x5560d0);this['x']=_0xdd2205['x']*_0x28d6c5,this['y']=_0xdd2205['y']*_0x28d6c5,this['z']=_0xdd2205['z']*_0x28d6c5,this['w']=_0xdd2205['w']*_0x28d6c5;}return this;}['floor'](_0x3c0f54=this){return this['x']=Math['floor'](_0x3c0f54['x']),this['y']=Math['floor'](_0x3c0f54['y']),this['z']=Math['floor'](_0x3c0f54['z']),this['w']=Math['floor'](_0x3c0f54['w']),this;}['ceil'](_0x10d020=this){return this['x']=Math['ceil'](_0x10d020['x']),this['y']=Math['ceil'](_0x10d020['y']),this['z']=Math['ceil'](_0x10d020['z']),this['w']=Math['ceil'](_0x10d020['w']),this;}['round'](_0x4aa97d=this){return this['x']=Math['round'](_0x4aa97d['x']),this['y']=Math['round'](_0x4aa97d['y']),this['z']=Math['round'](_0x4aa97d['z']),this['w']=Math['round'](_0x4aa97d['w']),this;}['min'](_0x321cfc){return _0x321cfc['x']<this['x']&&(this['x']=_0x321cfc['x']),_0x321cfc['y']<this['y']&&(this['y']=_0x321cfc['y']),_0x321cfc['z']<this['z']&&(this['z']=_0x321cfc['z']),_0x321cfc['w']<this['w']&&(this['w']=_0x321cfc['w']),this;}['max'](_0x35848e){return _0x35848e['x']>this['x']&&(this['x']=_0x35848e['x']),_0x35848e['y']>this['y']&&(this['y']=_0x35848e['y']),_0x35848e['z']>this['z']&&(this['z']=_0x35848e['z']),_0x35848e['w']>this['w']&&(this['w']=_0x35848e['w']),this;}['set'](_0xf2b6e7,_0x1e8dec,_0x343165,_0xbe8dcb){return this['x']=_0xf2b6e7,this['y']=_0x1e8dec,this['z']=_0x343165,this['w']=_0xbe8dcb,this;}['sub'](_0x7aa0e1){return this['x']-=_0x7aa0e1['x'],this['y']-=_0x7aa0e1['y'],this['z']-=_0x7aa0e1['z'],this['w']-=_0x7aa0e1['w'],this;}['sub2'](_0x3c892d,_0x41d78b){return this['x']=_0x3c892d['x']-_0x41d78b['x'],this['y']=_0x3c892d['y']-_0x41d78b['y'],this['z']=_0x3c892d['z']-_0x41d78b['z'],this['w']=_0x3c892d['w']-_0x41d78b['w'],this;}['subScalar'](_0x534af7){return this['x']-=_0x534af7,this['y']-=_0x534af7,this['z']-=_0x534af7,this['w']-=_0x534af7,this;}['fromArray'](_0x5e61a9,_0x73b43a=-0x2012+-0x121f*0x2+0x4450){return this['x']=_0x5e61a9[_0x73b43a]??this['x'],this['y']=_0x5e61a9[_0x73b43a+(-0x31c*0x2+0x3*0x3ee+0x5f*-0xf)]??this['y'],this['z']=_0x5e61a9[_0x73b43a+(0x3*0xb15+0x3*-0x657+-0xe38)]??this['z'],this['w']=_0x5e61a9[_0x73b43a+(-0x3f1+-0x4*0x6b1+0x7ae*0x4)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x5c3cac=[],_0x156f2a=0x491*0x8+-0x1*-0x6aa+-0x2b32){return _0x5c3cac[_0x156f2a]=this['x'],_0x5c3cac[_0x156f2a+(-0x252e+-0x1*0x647+0x1*0x2b76)]=this['y'],_0x5c3cac[_0x156f2a+(0x17*-0xba+0x6*-0x119+0x174e)]=this['z'],_0x5c3cac[_0x156f2a+(-0x7c5*0x5+-0x233*-0x5+0x1bdd)]=this['w'],_0x5c3cac;}};h(pr,'ZERO',Object['freeze'](new pr(0xde7+-0x4b*0x38+0x281,-0x177c+-0xfb+-0x1877*-0x1,-0x4f3+0x2299*0x1+-0x1da6,0x2*0x764+0x1096+-0x5*0x646))),h(pr,'HALF',Object['freeze'](new pr(0x4c7+0x768*-0x1+0x2a1+0.5,-0x1a*-0x111+0xe5*0x29+0x1*-0x4067+0.5,-0x6df*-0x3+0x5e1+-0x1a7e+0.5,-0xc2c+0x10ea+-0x2*0x25f+0.5))),h(pr,'ONE',Object['freeze'](new pr(-0x1c6c+0x13*0xc7+0x4c*0x2e,-0x3*-0xc2d+-0x2215+0x19*-0x19,0x1e06+0x2*0xe6c+0x1*-0x3add,-0x1ba*-0x2+0x685*-0x2+-0x997*-0x1)));let re=pr;const to=new J(),Os=new D(),Js=new D(),ei=new D(),Hl=new D(),Qr=class Qr{constructor(){h(this,'data',new Float32Array(0x1*-0x249a+0x102d+0x147d)),this['data'][-0x1a*-0x168+0x663+-0x2af3]=this['data'][-0x6*-0x23e+0xe72+-0x1be1]=this['data'][-0xbdd+0x1282*0x2+-0x191d]=this['data'][-0xb16+-0xa0*0x18+0x1a25]=0xea1+-0x23dc+0x1c5*0xc;}static['_getPerspe'+'ctiveHalfS'+'ize'](_0xe96c1b,_0x11f7a3,_0x1ca626,_0x1beb9d,_0x1dd51a){_0x1dd51a?(_0xe96c1b['x']=_0x1beb9d*Math['tan'](_0x11f7a3*Math['PI']/(-0x1bdf+0x3b4+0x1993*0x1)),_0xe96c1b['y']=_0xe96c1b['x']/_0x1ca626):(_0xe96c1b['y']=_0x1beb9d*Math['tan'](_0x11f7a3*Math['PI']/(0x1fef+-0x2357+0xb0*0x7)),_0xe96c1b['x']=_0xe96c1b['y']*_0x1ca626);}['add2'](_0x3fdf76,_0x584bd3){const _0x5b6389=_0x3fdf76['data'],_0x532c83=_0x584bd3['data'],_0x2fc9fc=this['data'];return _0x2fc9fc[0x3a+-0x6fd+0x6c3]=_0x5b6389[0x34*0x69+-0x1*0xacf+-0x1*0xa85]+_0x532c83[-0x2152+-0xac9*-0x1+0x9*0x281],_0x2fc9fc[-0x206f*0x1+0x63a*0x6+-0x4ec]=_0x5b6389[-0xc4f+-0x7ed+0xb*0x1d7]+_0x532c83[0x2690+0xcc0+-0x334f],_0x2fc9fc[-0x1d*0x44+-0x18a9+-0x205f*-0x1]=_0x5b6389[0x0+-0x1*-0x117+0x115*-0x1]+_0x532c83[0xf47+-0x593*0x2+0x5*-0xd3],_0x2fc9fc[0x1edd+-0x1c24+-0x2*0x15b]=_0x5b6389[0x1b07+-0x686*-0x1+-0x36*0x9f]+_0x532c83[-0x414+0x1*0x40d+0xa],_0x2fc9fc[0x1*-0x16be+-0x1fab+0x366d]=_0x5b6389[0x1a79*-0x1+-0x1*-0xab5+0xfc8]+_0x532c83[0x4*0x672+-0x110*-0x1+-0x1ad4*0x1],_0x2fc9fc[-0x10c4+0x105d*0x2+-0x7*0x247]=_0x5b6389[-0x11b+0x24e*0x1+-0x12e]+_0x532c83[0x1503+0x8*-0x24a+-0x2ae*0x1],_0x2fc9fc[-0x1*-0x14fe+0x4b8*0x5+-0x2c90]=_0x5b6389[-0x77c+0x5b*-0x2e+0x17dc]+_0x532c83[0x6ac+0x683*0x4+-0x20b2],_0x2fc9fc[-0x331*-0xb+-0x40d*0x3+-0x16ed]=_0x5b6389[-0x1*0x1813+-0x2664+0x2*0x1f3f]+_0x532c83[0x3*0x8eb+0x141a+0x3e7*-0xc],_0x2fc9fc[0x502+-0x1*-0x1226+0x172*-0x10]=_0x5b6389[0x9*-0x153+0x114*0x23+-0x19c9]+_0x532c83[-0x1*-0xe0a+0x1*-0x24aa+0xa*0x244],_0x2fc9fc[0xc*-0x1b+0x2097+-0x1f4a]=_0x5b6389[-0xa39*0x2+-0x7*0xe+0x6d*0x31]+_0x532c83[-0x1*0x1fc9+-0xaf8+0x2aca],_0x2fc9fc[-0x2457+0x50*0x55+0x9d1]=_0x5b6389[-0xadb+0x2132+-0x164d]+_0x532c83[-0xd36+0x120+0x1*0xc20],_0x2fc9fc[0x1*0xca7+-0x8d9+0x6b*-0x9]=_0x5b6389[-0x254f*0x1+-0x1*0x657+0x2bb1]+_0x532c83[-0x994*0x3+-0xc23+0x28ea],_0x2fc9fc[-0x707+-0x2*-0xf83+0x1*-0x17f3]=_0x5b6389[0x31*-0x4f+-0x1*-0x23f3+-0x14c8]+_0x532c83[0x1678+0x12d5*0x1+-0x3b*0xb3],_0x2fc9fc[0x2429*-0x1+-0x17d*-0x3+0x1fbf]=_0x5b6389[-0x87b*-0x1+0x2*0x12ad+-0xa*0x494]+_0x532c83[-0x18bb+0x1f3f+0x677*-0x1],_0x2fc9fc[-0x2502+0x1035+-0x1*-0x14db]=_0x5b6389[-0x2*0x125f+-0x1*-0x2156+0x376]+_0x532c83[-0x2096+-0x99e+-0x3*-0xe16],_0x2fc9fc[-0x26a5+-0x7*0x446+0x449e]=_0x5b6389[-0x1fb9+-0x24af*0x1+-0x1*-0x4477]+_0x532c83[0x35*0xaa+-0x214f+-0x1d4],this;}['add'](_0x17a88d){return this['add2'](this,_0x17a88d);}['clone'](){const _0x2ba0b5=this['constructo'+'r'];return new _0x2ba0b5()['copy'](this);}['copy'](_0x30077e){const _0x10ac61=_0x30077e['data'],_0x589d5f=this['data'];return _0x589d5f[0x19d5+-0x20ed*0x1+0x718]=_0x10ac61[0x2153+0x1*-0x25a1+-0x1d*-0x26],_0x589d5f[0x2096+0xb4+-0x2149]=_0x10ac61[0x4*0x48b+-0x194+-0x1097],_0x589d5f[-0x88*-0x35+0xeb*0x2a+0x3*-0x163c]=_0x10ac61[0x9c7+-0x1605+0x20*0x62],_0x589d5f[-0x1aee*-0x1+-0x1b8a+0x9f]=_0x10ac61[0x3*-0xc60+-0x1*-0x50b+0x278*0xd],_0x589d5f[0x2083+-0x4*-0x1cf+-0x27bb]=_0x10ac61[0x2452+-0x17*0xb3+-0x1439],_0x589d5f[0x20c7+-0x14df*-0x1+0x35a1*-0x1]=_0x10ac61[0x19bf+0x122f+-0x2be9],_0x589d5f[0x2385+-0x213f*-0x1+-0x16ea*0x3]=_0x10ac61[-0x48d+-0x1b2+0x1*0x645],_0x589d5f[0x1ce*0x5+0x26eb+-0x2fea]=_0x10ac61[-0x1488+-0x2b*-0x1b+0x1006],_0x589d5f[0x13*-0x27+0x78b*0x3+-0x13b4]=_0x10ac61[0x658+-0x11+-0x63f],_0x589d5f[0x2198+-0x1f4e+-0x241]=_0x10ac61[0x1490+0x52*-0x13+-0xe71],_0x589d5f[0x1*0x2501+-0xcb4+-0x1843]=_0x10ac61[-0x16ee+0x1*-0x13c5+-0x2abd*-0x1],_0x589d5f[-0xad1+0x28*-0x5+0xba4]=_0x10ac61[0x1d15+-0x617+-0x16f3],_0x589d5f[0x1c9b+0x7*-0x501+0x678]=_0x10ac61[0x123f*0x1+-0x383+0x1*-0xeb0],_0x589d5f[0x20e1*0x1+0x1dd0+-0x1a6*0x26]=_0x10ac61[0xd*0x16f+0x9e2+-0x1c78],_0x589d5f[-0x260c+0x26d3+-0xb9]=_0x10ac61[0x1*-0x1541+-0x2*0xd1e+0x2f8b],_0x589d5f[0x1*-0x1845+-0x12de+-0x2*-0x1599]=_0x10ac61[0x1152+0x163d*0x1+-0x1*0x2780],this;}['equals'](_0x156704){const _0x1eb97d=this['data'],_0x38a31f=_0x156704['data'];return _0x1eb97d[-0x11*0xc7+0x594+0x7a3]===_0x38a31f[0x291+-0x87*-0x1f+-0x10d*0x12]&&_0x1eb97d[-0x2506+-0x103b+0x3542]===_0x38a31f[-0xd*0x107+0x17*0xc5+0xb*-0x65]&&_0x1eb97d[0x503*0x3+0x211*0x9+-0x21a0]===_0x38a31f[-0x2*0xe17+0x267e*0x1+-0xa4e]&&_0x1eb97d[0xe91+-0x265d+0x17cf]===_0x38a31f[0x168c+-0xc7+-0x22d*0xa]&&_0x1eb97d[0x5c2+0x839+-0xdf7]===_0x38a31f[0x58f+-0xc4f+-0x2*-0x362]&&_0x1eb97d[0x7*-0x4+0x7*0x223+-0xed4]===_0x38a31f[-0xd3a*-0x1+-0x2484+0x174f]&&_0x1eb97d[0x1*0x24dd+0x1e35+-0x430c]===_0x38a31f[0x1*0x2195+0x1*-0x1f2b+-0x264]&&_0x1eb97d[0x1*-0x1442+-0xce6+-0x6a3*-0x5]===_0x38a31f[-0x2012+-0x22a8+0x42c1]&&_0x1eb97d[0x1*0x2682+-0xe45+-0x1835]===_0x38a31f[-0x1dbd+-0x1fad+0x3d72]&&_0x1eb97d[-0x2330+0x1dc6+-0x9b*-0x9]===_0x38a31f[0x187d+-0x4c*0x3c+0x4*-0x1a9]&&_0x1eb97d[0x19ce+-0x20e7+-0x7*-0x105]===_0x38a31f[0x151a+-0x5*-0x213+-0x1f6f]&&_0x1eb97d[0x619+0x47a+-0xa88]===_0x38a31f[0x1d9e*0x1+-0x1*0x254f+0x7bc]&&_0x1eb97d[0x2da*-0x2+0xbc*-0xa+0xd18]===_0x38a31f[0x3*0x42d+0x1*-0xafb+-0x30*0x8]&&_0x1eb97d[-0x209*0xb+-0x330*0xb+-0x5c0*-0xa]===_0x38a31f[-0xd0b*-0x2+0x4c+-0x1a55]&&_0x1eb97d[0x1b9*-0x16+-0x97*-0x29+0x3*0x497]===_0x38a31f[-0x3*0xb23+0x20cb*0x1+0x1*0xac]&&_0x1eb97d[-0x17e2+-0x1*-0x643+0x92*0x1f]===_0x38a31f[0xf1+-0x14e4+0xc5*0x1a];}['isIdentity'](){const _0x50a319=this['data'];return _0x50a319[-0xb14+0x1*0xbd7+-0x1*0xc3]===-0x22b5*0x1+-0x1d56*-0x1+0x560&&_0x50a319[0x7ab*-0x3+-0x27d*-0x7+0x597]===-0x7ca+-0x10*0x130+-0x6*-0x477&&_0x50a319[-0x53a*0x6+-0x1*-0x1829+0x735]===-0x10f*0xe+-0x16a9+0x257b&&_0x50a319[0x1*0xa57+-0x297*-0x2+-0xf82]===0x1573+-0x3*0xbf6+0x2e3*0x5&&_0x50a319[-0x1*0x1fd4+0x1e0a+0x1ce]===-0x1d66+-0x139d+0x1*0x3103&&_0x50a319[-0x427*0x9+-0x1c1+0x2725]===-0x5b*0x4+-0x2114+0x79*0x49&&_0x50a319[-0x2574+0x2a*-0xaa+0x15ca*0x3]===-0x1b18+-0x3*-0xcc1+-0xb2b&&_0x50a319[-0x152c*-0x1+0x11c4+-0x26e9]===-0x355*0xa+-0x2332+0x4484*0x1&&_0x50a319[0x3*0xa99+0x9fc+0x29bf*-0x1]===-0x9d5*-0x1+0x5d7+0x44*-0x3b&&_0x50a319[0xebb*0x1+0x13cd*-0x1+0x51b*0x1]===0xec6*-0x1+0x1203+-0x33d&&_0x50a319[0x1d2a*0x1+-0x2*0x130+-0x1ac0]===0x29*0xb0+0x2024+-0x3c53&&_0x50a319[0xbc5*0x1+0x8fe+-0x6e8*0x3]===0x1d28+0xa52+0x3e*-0xa3&&_0x50a319[0x26*-0x65+-0x266+0x1170]===-0x2d6*-0x5+0x25ac+0x2*-0x19ed&&_0x50a319[0x1404+0x41*0x92+-0x1303*0x3]===0x1554+0x23b8+-0xc*0x4c1&&_0x50a319[-0x26d1+0x19ab*0x1+0xd34]===0x1*0x21d6+-0xdd2+0x3*-0x6ac&&_0x50a319[-0x151a+-0x244c+0x3975]===0x33*0x5e+-0x12e6+0x2d;}['mul2'](_0x2da8d4,_0x273c3c){const _0x37bace=_0x2da8d4['data'],_0x167dd5=_0x273c3c['data'],_0xbb18f0=this['data'],_0x3644a0=_0x37bace[-0xdac+-0x689+0x1435],_0x3eceb1=_0x37bace[0x217f+0x6*-0x117+-0x96*0x2e],_0x31eef1=_0x37bace[-0xd7*-0x22+0x1b*-0xb2+-0x9c6],_0x2eb290=_0x37bace[0x14c1+0x69c+0x12*-0x185],_0x4203bd=_0x37bace[-0x20d7+-0x1e46+0x3f21*0x1],_0x17c33c=_0x37bace[0x286+0x1fb8+0x1*-0x2239],_0x5ba04f=_0x37bace[-0x1fd*0x5+-0xd74+0x176b],_0x5107a0=_0x37bace[-0xf69+-0x7*0x99+0x139f],_0x4b96ac=_0x37bace[-0x11a5*-0x2+-0xc*-0x6+-0x238a],_0x1130b8=_0x37bace[-0x25b1+0x1a*0x153+0x34c],_0x5181d5=_0x37bace[0x17ca+0x16f8+0xd*-0x398],_0x1008d8=_0x37bace[0x870+0x1*0x25bb+-0x2e20],_0x3d4387=_0x37bace[0x15b3+0x22c9+-0x3870],_0x358a98=_0x37bace[0x2*-0xfcd+-0x22b5*-0x1+-0x30e],_0x278556=_0x37bace[0x7*0x38f+-0x268d+0xdb2],_0x126ea8=_0x37bace[-0xba*0x2d+-0x756*0x5+0x456f];let _0x71ef01,_0x126dfb,_0xc6ec7b,_0x10639f;return _0x71ef01=_0x167dd5[0xcfd*-0x1+0x1*-0xbab+0x41c*0x6],_0x126dfb=_0x167dd5[-0xb38+0x4c4+0x39*0x1d],_0xc6ec7b=_0x167dd5[0x1d9+-0x1b73+0x199c],_0x10639f=_0x167dd5[-0x3*-0x3f3+-0x257*0x5+0x1*-0x23],_0xbb18f0[0xfdd+-0x146*0xd+0xb1]=_0x3644a0*_0x71ef01+_0x4203bd*_0x126dfb+_0x4b96ac*_0xc6ec7b+_0x3d4387*_0x10639f,_0xbb18f0[0x13*0x9f+-0x125*0x1+0x1*-0xaa7]=_0x3eceb1*_0x71ef01+_0x17c33c*_0x126dfb+_0x1130b8*_0xc6ec7b+_0x358a98*_0x10639f,_0xbb18f0[-0x1fad*-0x1+-0x2668+-0x19*-0x45]=_0x31eef1*_0x71ef01+_0x5ba04f*_0x126dfb+_0x5181d5*_0xc6ec7b+_0x278556*_0x10639f,_0xbb18f0[0xc69*-0x1+-0x1*0x3d+-0x7*-0x1cf]=_0x2eb290*_0x71ef01+_0x5107a0*_0x126dfb+_0x1008d8*_0xc6ec7b+_0x126ea8*_0x10639f,_0x71ef01=_0x167dd5[0x21a9+0xf03+-0xc2a*0x4],_0x126dfb=_0x167dd5[-0x2ce*0x4+0x4*-0x53e+0x2035],_0xc6ec7b=_0x167dd5[0x62*0x20+-0xf11+0x2d7],_0x10639f=_0x167dd5[0x1aa*-0xc+0x15b9+-0x1ba],_0xbb18f0[0x46*0x36+0x1*0x6da+-0x5*0x452]=_0x3644a0*_0x71ef01+_0x4203bd*_0x126dfb+_0x4b96ac*_0xc6ec7b+_0x3d4387*_0x10639f,_0xbb18f0[0x1d5d*0x1+-0x234c+0x5f4]=_0x3eceb1*_0x71ef01+_0x17c33c*_0x126dfb+_0x1130b8*_0xc6ec7b+_0x358a98*_0x10639f,_0xbb18f0[-0xe59+-0x1*-0x1ffa+-0x119b]=_0x31eef1*_0x71ef01+_0x5ba04f*_0x126dfb+_0x5181d5*_0xc6ec7b+_0x278556*_0x10639f,_0xbb18f0[0x4*0x676+-0xcd5+0x6*-0x22a]=_0x2eb290*_0x71ef01+_0x5107a0*_0x126dfb+_0x1008d8*_0xc6ec7b+_0x126ea8*_0x10639f,_0x71ef01=_0x167dd5[-0x1679+0x18*0x175+-0xc77],_0x126dfb=_0x167dd5[-0x75*-0x17+-0x3d1+-0x37*0x1f],_0xc6ec7b=_0x167dd5[0xe71+0x907+0x1*-0x176e],_0x10639f=_0x167dd5[0x29*0x89+-0xac1*-0x2+-0x2b68],_0xbb18f0[-0x63f+-0x1*0x15f7+0xf*0x1e2]=_0x3644a0*_0x71ef01+_0x4203bd*_0x126dfb+_0x4b96ac*_0xc6ec7b+_0x3d4387*_0x10639f,_0xbb18f0[0x1d*0x31+-0x1c*-0xf1+0x60*-0x55]=_0x3eceb1*_0x71ef01+_0x17c33c*_0x126dfb+_0x1130b8*_0xc6ec7b+_0x358a98*_0x10639f,_0xbb18f0[-0x3*0x953+-0x12*0x1ad+0x3a2d]=_0x31eef1*_0x71ef01+_0x5ba04f*_0x126dfb+_0x5181d5*_0xc6ec7b+_0x278556*_0x10639f,_0xbb18f0[0x22ce+-0x5af+-0x1d14]=_0x2eb290*_0x71ef01+_0x5107a0*_0x126dfb+_0x1008d8*_0xc6ec7b+_0x126ea8*_0x10639f,_0x71ef01=_0x167dd5[0x237e+-0x2*0x3a9+0x9*-0x320],_0x126dfb=_0x167dd5[-0x1*-0xefa+0x39b+-0x1288],_0xc6ec7b=_0x167dd5[-0x15*-0x127+-0x1247*-0x1+-0x2a6c],_0x10639f=_0x167dd5[-0x84f+-0x1*-0x39a+-0x3d*-0x14],_0xbb18f0[-0x1812+-0x9*-0x1d7+0x78f]=_0x3644a0*_0x71ef01+_0x4203bd*_0x126dfb+_0x4b96ac*_0xc6ec7b+_0x3d4387*_0x10639f,_0xbb18f0[0x5b2+0x211d+0x29*-0xf2]=_0x3eceb1*_0x71ef01+_0x17c33c*_0x126dfb+_0x1130b8*_0xc6ec7b+_0x358a98*_0x10639f,_0xbb18f0[0x26f+-0x1a58+0x17f7]=_0x31eef1*_0x71ef01+_0x5ba04f*_0x126dfb+_0x5181d5*_0xc6ec7b+_0x278556*_0x10639f,_0xbb18f0[0x2dc+-0x1*-0xa7f+-0xd4c]=_0x2eb290*_0x71ef01+_0x5107a0*_0x126dfb+_0x1008d8*_0xc6ec7b+_0x126ea8*_0x10639f,this;}['mulAffine2'](_0x2b9da2,_0x893a6){const _0x501776=_0x2b9da2['data'],_0x5bada4=_0x893a6['data'],_0x1cd324=this['data'],_0x579d33=_0x501776[-0x2250+-0x48*0x38+0x3210],_0x21a8b1=_0x501776[-0x226a+0x6e1+0x1b8a],_0x203298=_0x501776[-0xbd*-0x8+-0x2de*-0x5+-0x143c],_0x341360=_0x501776[-0x1aca+-0x18af*-0x1+-0x3*-0xb5],_0x309432=_0x501776[-0x1*-0x1398+-0x1*-0x1d36+-0x30c9],_0xc59379=_0x501776[0x1e37+-0x53*0x1e+0x1f*-0xa9],_0x2f2e66=_0x501776[-0x1950+0x1c36+0x1*-0x2de],_0x115924=_0x501776[-0x3*0x7e3+0x12bd+0x4f5],_0x45bbf8=_0x501776[-0x1*-0x5ad+0x1*-0xff2+0xd*0xcb],_0x35beec=_0x501776[0x1*0x2408+0x71d+-0x289*0x11],_0x4fe420=_0x501776[0x1*-0x213f+-0xa18+0x4*0xad9],_0x3c4df1=_0x501776[-0x2214+0x979+-0x18a9*-0x1];let _0x45c8d8,_0x57ab4e,_0x46eecc;return _0x45c8d8=_0x5bada4[0x7a5*0x1+0x4*-0x572+0x149*0xb],_0x57ab4e=_0x5bada4[-0x182*0xc+0xe3c+0x3dd],_0x46eecc=_0x5bada4[-0x8*-0x15d+0x4*-0x769+0x12be],_0x1cd324[0xb30+0x266e+-0x319e]=_0x579d33*_0x45c8d8+_0x341360*_0x57ab4e+_0x2f2e66*_0x46eecc,_0x1cd324[0x1517+0x2*-0x1361+-0x4e*-0x3a]=_0x21a8b1*_0x45c8d8+_0x309432*_0x57ab4e+_0x115924*_0x46eecc,_0x1cd324[-0x260+0x21af*-0x1+-0x1*-0x2411]=_0x203298*_0x45c8d8+_0xc59379*_0x57ab4e+_0x45bbf8*_0x46eecc,_0x1cd324[0x23f0+0x80b+0x3aa*-0xc]=-0x112f*0x1+-0x11a*0x12+0x2503,_0x45c8d8=_0x5bada4[0x4*-0x2f9+-0xd1+-0x1*-0xcb9],_0x57ab4e=_0x5bada4[-0x28f+0x1ef+0xa5*0x1],_0x46eecc=_0x5bada4[0x1c0a+0xf*0x13d+-0x2e97],_0x1cd324[0x26*-0x2+-0xc3a*-0x2+-0x1824]=_0x579d33*_0x45c8d8+_0x341360*_0x57ab4e+_0x2f2e66*_0x46eecc,_0x1cd324[-0xb4d+0x7e*0x19+-0xfc]=_0x21a8b1*_0x45c8d8+_0x309432*_0x57ab4e+_0x115924*_0x46eecc,_0x1cd324[0x2e6+-0x15db+0x2b*0x71]=_0x203298*_0x45c8d8+_0xc59379*_0x57ab4e+_0x45bbf8*_0x46eecc,_0x1cd324[0x1f7+-0x467+0x277*0x1]=0x23d5+0x1648+0x105*-0x39,_0x45c8d8=_0x5bada4[-0x1*0x209b+0x20b9+-0x1*0x16],_0x57ab4e=_0x5bada4[0x276*-0x7+0x1c27*0x1+-0xae4],_0x46eecc=_0x5bada4[0x451*-0x6+-0x1*-0x119f+0x851],_0x1cd324[0x137c+-0x20c5+0xd51]=_0x579d33*_0x45c8d8+_0x341360*_0x57ab4e+_0x2f2e66*_0x46eecc,_0x1cd324[-0xb51+-0x23b0+-0x2f0a*-0x1]=_0x21a8b1*_0x45c8d8+_0x309432*_0x57ab4e+_0x115924*_0x46eecc,_0x1cd324[-0x187b*-0x1+0x6d*-0x5+-0x1650]=_0x203298*_0x45c8d8+_0xc59379*_0x57ab4e+_0x45bbf8*_0x46eecc,_0x1cd324[-0x15cf+0x2*0xe8f+-0x2*0x3a2]=0x1697+-0x2*-0xd79+0x1083*-0x3,_0x45c8d8=_0x5bada4[-0x19c*-0x10+-0x1b4c+0x11*0x18],_0x57ab4e=_0x5bada4[-0xaf2+-0x5e5+0xbc*0x17],_0x46eecc=_0x5bada4[-0x1f28+-0xe8*0x11+0x2e9e],_0x1cd324[-0x114b+-0x6aa+0x1*0x1801]=_0x579d33*_0x45c8d8+_0x341360*_0x57ab4e+_0x2f2e66*_0x46eecc+_0x35beec,_0x1cd324[0xe3*0xb+-0xa*-0x19c+-0x1a*0xfe]=_0x21a8b1*_0x45c8d8+_0x309432*_0x57ab4e+_0x115924*_0x46eecc+_0x4fe420,_0x1cd324[0x5f*-0x1+-0xde5*-0x1+-0xd78]=_0x203298*_0x45c8d8+_0xc59379*_0x57ab4e+_0x45bbf8*_0x46eecc+_0x3c4df1,_0x1cd324[-0x21*-0xbf+0x214f+0x5*-0xb93]=-0x391*-0x5+-0x2*0x1b+0x19a*-0xb,this;}['mul'](_0x4b9d95){return this['mul2'](this,_0x4b9d95);}['transformP'+'oint'](_0x440def,_0xe10f66=new D()){const _0x1a8da5=this['data'],{x:_0x57595e,y:_0x630203,z:_0x1004d5}=_0x440def;return _0xe10f66['x']=_0x57595e*_0x1a8da5[0x1*-0x2f+-0x75+0xa4]+_0x630203*_0x1a8da5[-0x1*-0x1db6+-0x293+-0x1b1f]+_0x1004d5*_0x1a8da5[-0x1103+-0x19*0x101+0x2a24]+_0x1a8da5[0x8ca+-0x273*0x6+0x5f4],_0xe10f66['y']=_0x57595e*_0x1a8da5[-0x180f+-0x27*0xdf+-0x3a09*-0x1]+_0x630203*_0x1a8da5[-0x146+-0x13d*0x1e+0x2671]+_0x1004d5*_0x1a8da5[-0x1367*0x1+0x1*0x123d+-0x133*-0x1]+_0x1a8da5[0xee4+-0x22df*-0x1+-0x31b6],_0xe10f66['z']=_0x57595e*_0x1a8da5[0x7a*-0x2+0x1*0x1d43+-0x1c4d]+_0x630203*_0x1a8da5[-0x5*0x3fe+0x1*-0x15ff+0x29fb]+_0x1004d5*_0x1a8da5[0xb*-0x223+0x1f1*-0x1+-0x1*-0x197c]+_0x1a8da5[-0xb*-0x29d+0x2b+0x1cdc*-0x1],_0xe10f66;}['transformV'+'ector'](_0x5b43e9,_0x59598d=new D()){const _0x465b2b=this['data'],{x:_0x2ba39a,y:_0xdca559,z:_0x3d9342}=_0x5b43e9;return _0x59598d['x']=_0x2ba39a*_0x465b2b[0x235a+-0x22*0x6d+-0x14e0]+_0xdca559*_0x465b2b[-0xe11+0x1bed+-0xdd8]+_0x3d9342*_0x465b2b[-0x3*0x5aa+0x2433+-0x1*0x132d],_0x59598d['y']=_0x2ba39a*_0x465b2b[-0x56d+0x1503+-0xf95]+_0xdca559*_0x465b2b[0x212*0x7+0x9e9+-0x1862]+_0x3d9342*_0x465b2b[-0x118d+0x3e4+0x6d9*0x2],_0x59598d['z']=_0x2ba39a*_0x465b2b[-0x17*-0x92+-0x1*-0x1b11+-0x282d]+_0xdca559*_0x465b2b[-0x472+-0x6cf+0xb47]+_0x3d9342*_0x465b2b[0x1833+-0xec*-0x28+-0x7d*0x7d],_0x59598d;}['transformV'+'ec4'](_0x3ad715,_0x31a239=new re()){const _0x1ee2a4=this['data'],{x:_0x5f53ec,y:_0x4a574e,z:_0x35dd6f,w:_0x38b45f}=_0x3ad715;return _0x31a239['x']=_0x5f53ec*_0x1ee2a4[0x3*-0x64+-0x1618*0x1+0x4*0x5d1]+_0x4a574e*_0x1ee2a4[0x434*0x3+0x13*-0x135+0xa57]+_0x35dd6f*_0x1ee2a4[-0x1cb9+0x151+0x1b70]+_0x38b45f*_0x1ee2a4[0x6e*0x10+-0x1f5a+0x1886],_0x31a239['y']=_0x5f53ec*_0x1ee2a4[0x295*0x1+-0x2275+0x1fe1]+_0x4a574e*_0x1ee2a4[-0x1*-0x9ef+0x1526+-0x1f10]+_0x35dd6f*_0x1ee2a4[-0x8*0x83+-0x1*0xd88+0x11a9]+_0x38b45f*_0x1ee2a4[-0x12*0x1ce+-0x1ca4+0x3d2d],_0x31a239['z']=_0x5f53ec*_0x1ee2a4[0x16bd+0xfb*-0x7+-0xfde*0x1]+_0x4a574e*_0x1ee2a4[0xad6+-0x22a6+-0x7f2*-0x3]+_0x35dd6f*_0x1ee2a4[0xc13+0x26c3*-0x1+-0xb*-0x26e]+_0x38b45f*_0x1ee2a4[-0x385+-0x17b7*0x1+0x1*0x1b4a],_0x31a239['w']=_0x5f53ec*_0x1ee2a4[-0x18c8+-0x6*0x403+0x30dd]+_0x4a574e*_0x1ee2a4[-0x1*0x1cc3+0x276+0x2a2*0xa]+_0x35dd6f*_0x1ee2a4[0x48d+0x6*-0x354+0xf76]+_0x38b45f*_0x1ee2a4[0x81e*0x3+0x2*0xbce+-0x2fe7],_0x31a239;}['setLookAt'](_0x30c0d4,_0x2489fa,_0x2ba67f){ei['sub2'](_0x30c0d4,_0x2489fa)['normalize'](),Js['copy'](_0x2ba67f)['normalize'](),Os['cross'](Js,ei)['normalize'](),Js['cross'](ei,Os);const _0x216bda=this['data'];return _0x216bda[0x35b+-0x4*0x102+0x1*0xad]=Os['x'],_0x216bda[0x3*0x1ba+0x1*-0x40f+-0x11e]=Os['y'],_0x216bda[0x15cd*-0x1+0x180c+-0x23d]=Os['z'],_0x216bda[0x1bd9+-0x19f5+-0x1e1]=0xefc+-0x1d*-0x5+-0xf8d,_0x216bda[0xe64+0xa81*0x2+-0x1*0x2362]=Js['x'],_0x216bda[0x1*-0x60e+-0x3ac*-0x7+-0x13a1*0x1]=Js['y'],_0x216bda[0x33*-0x2a+0x17*-0xbf+0x198d]=Js['z'],_0x216bda[-0x110b*0x1+0xe8f+0x283]=-0x9bf*0x1+0x253e+0x1*-0x1b7f,_0x216bda[0x1896*-0x1+-0x2144+0x39e2]=ei['x'],_0x216bda[-0x22d7*-0x1+-0x1*-0x1961+-0x3c2f]=ei['y'],_0x216bda[0x669+-0x1c0b*-0x1+-0x226a]=ei['z'],_0x216bda[-0x1981+-0x236e+0x3cfa]=-0x1caa+0xa27*0x1+0x1283*0x1,_0x216bda[-0x1943*-0x1+0x5b7+-0x1eee]=_0x30c0d4['x'],_0x216bda[-0x6cd*-0x5+-0x198+-0x102e*0x2]=_0x30c0d4['y'],_0x216bda[0x2e*0xb7+0x17e*-0x13+-0x47a]=_0x30c0d4['z'],_0x216bda[-0x101+-0x10b*-0x9+-0x853]=-0xf2c+-0x2e7*-0x1+0xc46,this;}['setFrustum'](_0x1ac511,_0x379c46,_0x359cee,_0xa54704,_0x2edddc,_0x48c712){const _0x533114=(0x31*0x94+0x3b7*0x3+0x2777*-0x1)*_0x2edddc,_0x3ea397=_0x379c46-_0x1ac511,_0x36df59=_0xa54704-_0x359cee,_0x377487=_0x48c712-_0x2edddc,_0x49f1e9=this['data'];return _0x49f1e9[-0x96f+0x3*0x859+0x534*-0x3]=_0x533114/_0x3ea397,_0x49f1e9[0x109e*0x2+-0x85c+-0x18df]=0x22e*-0x2+-0x2*-0x122f+-0x2002,_0x49f1e9[-0x266*-0x4+-0x2de*-0x5+-0x17ec*0x1]=-0x1ccd+-0x92*0x12+0x2711,_0x49f1e9[0x1cb5+-0x750+-0x1562]=0x4f*-0x7e+0x848+0x2*0xf4d,_0x49f1e9[-0x1*-0x1607+0x2427+-0x3a2a]=-0x10*0x258+-0x196+0x2716,_0x49f1e9[-0xa20+-0x5*-0x29e+-0x1*0x2f1]=_0x533114/_0x36df59,_0x49f1e9[0x250c+0x1*-0xae5+-0x1a21]=-0x307+-0x9*-0x139+0x1*-0x7fa,_0x49f1e9[0x122a+0xacc+-0x1cef]=-0x27a+0x787+-0x50d,_0x49f1e9[-0x705*-0x3+0xa43+0xfa5*-0x2]=(_0x379c46+_0x1ac511)/_0x3ea397,_0x49f1e9[0x12d2+0x1*0x3e8+-0x16b1]=(_0xa54704+_0x359cee)/_0x36df59,_0x49f1e9[-0x4*0x10b+0x2036+0x380*-0x8]=(-_0x48c712-_0x2edddc)/_0x377487,_0x49f1e9[-0xb89*-0x1+0x9*-0x9b+-0x60b]=-(-0xbb1*-0x1+0x5*-0x53+-0xa11),_0x49f1e9[-0x130c+0x1b9b+-0x883]=0x6*0x595+-0x7*-0x13b+-0x2a1b,_0x49f1e9[-0x4f*-0x65+-0x1*0x32e+-0x1bf0]=-0x238f+-0x2459*0x1+0x47e8,_0x49f1e9[-0x2*-0x6d0+0xb*0x15b+-0x1c7b]=-_0x533114*_0x48c712/_0x377487,_0x49f1e9[0x2be+0x23*-0xfe+0x200b*0x1]=-0x1dd0+-0x351+0x2121,this;}['setPerspec'+'tive'](_0x195140,_0x4fa9f8,_0x1f07e1,_0x55377b,_0x4748){return Qr['_getPerspe'+'ctiveHalfS'+'ize'](to,_0x195140,_0x4fa9f8,_0x1f07e1,_0x4748),this['setFrustum'](-to['x'],to['x'],-to['y'],to['y'],_0x1f07e1,_0x55377b);}['setOrtho'](_0x26b76d,_0x1d0c65,_0xc27f87,_0x23905a,_0x2bcfa3,_0x3fdfbf){const _0x57dc9e=this['data'];return _0x57dc9e[-0x1128+0x242*0x2+0xca4]=(0xb6d+-0xe2*0x1f+0xff3*0x1)/(_0x1d0c65-_0x26b76d),_0x57dc9e[0x92b*-0x1+0x12f3+-0x9c7*0x1]=-0x53*0x1d+-0x4c*-0x53+-0xf3d,_0x57dc9e[0x15de*0x1+0x1b4a+-0x3126]=0xf66+0x4d*0x36+-0x1fa4,_0x57dc9e[0x63*-0x15+0x9f7+-0x1d5*0x1]=-0x2369+0x4*0x58+-0x2209*-0x1,_0x57dc9e[-0x590+0x1*0x1bc5+-0x1631]=-0x1*-0xe99+-0xa55+-0x444,_0x57dc9e[0x1d54+-0x18b4+-0x49b]=(-0x1074+0xc*-0x94+0x1766*0x1)/(_0x23905a-_0xc27f87),_0x57dc9e[-0x20c3*-0x1+-0x236b*0x1+-0x2ae*-0x1]=0x25f*0x5+-0xceb*-0x3+-0x329c,_0x57dc9e[-0x126+0x7f1*-0x3+-0x190*-0x10]=-0xfc5+0x104+-0x1*-0xec1,_0x57dc9e[-0x1e3e+-0x8*-0x4c9+-0x802]=0x2a*0x9e+-0x11ee+-0x7fe,_0x57dc9e[0x1fff+-0x170c+0x1*-0x8ea]=0x4e1*0x6+0x1597+-0x32dd,_0x57dc9e[0x2103+-0x1b74+0x3*-0x1d7]=-(-0x2*0x230+0xdb3+-0x951)/(_0x3fdfbf-_0x2bcfa3),_0x57dc9e[-0x13e1*-0x1+0x41*0x6f+-0x3005]=0x2*-0x7e3+-0x31d*-0x6+-0x2e8,_0x57dc9e[0x11*0x12e+-0x1*-0xcb5+-0x20b7]=-(_0x1d0c65+_0x26b76d)/(_0x1d0c65-_0x26b76d),_0x57dc9e[0x1863*0x1+0x1*0x2501+-0x3d57]=-(_0x23905a+_0xc27f87)/(_0x23905a-_0xc27f87),_0x57dc9e[0xd*0x1b4+0x23a7*-0x1+0x97*0x17]=-(_0x3fdfbf+_0x2bcfa3)/(_0x3fdfbf-_0x2bcfa3),_0x57dc9e[-0x6*0x4fd+0x2cd*0x5+0xb*0x174]=-0x1*-0x54c+-0x1*-0x13d5+-0x43*0x60,this;}['setFromAxi'+'sAngle'](_0x4433af,_0x403c13){_0x403c13*=Y['DEG_TO_RAD'];const {x:_0x9ba4e9,y:_0x24b74a,z:_0x290680}=_0x4433af,_0x40d2bc=Math['cos'](_0x403c13),_0x840d4f=Math['sin'](_0x403c13),_0x2e7005=0x12f7+0x2*-0x301+-0x67a*0x2-_0x40d2bc,_0x4727d4=_0x2e7005*_0x9ba4e9,_0x314e37=_0x2e7005*_0x24b74a,_0x24aa77=this['data'];return _0x24aa77[-0x223b+-0x133c+0x3577]=_0x4727d4*_0x9ba4e9+_0x40d2bc,_0x24aa77[-0x1a11+0x108*-0x9+0x712*0x5]=_0x4727d4*_0x24b74a+_0x840d4f*_0x290680,_0x24aa77[0xe05*-0x1+0x1*0x26fd+-0xa*0x27f]=_0x4727d4*_0x290680-_0x840d4f*_0x24b74a,_0x24aa77[0x1b12+0xe9d+0xa6b*-0x4]=0xb50+-0xba9+-0x1*-0x59,_0x24aa77[0x3b*-0x4c+0xf75+0x213*0x1]=_0x4727d4*_0x24b74a-_0x840d4f*_0x290680,_0x24aa77[-0x214c+0xb55*0x3+-0x2*0x57]=_0x314e37*_0x24b74a+_0x40d2bc,_0x24aa77[-0x1cab+0x91d+0x4e5*0x4]=_0x314e37*_0x290680+_0x840d4f*_0x9ba4e9,_0x24aa77[0x1af7+0x4*0x16+-0x1*0x1b48]=-0xd40+0xb10+-0x1*-0x230,_0x24aa77[-0x5c1+0xc06+-0x63d*0x1]=_0x4727d4*_0x290680+_0x840d4f*_0x24b74a,_0x24aa77[-0x12*0x227+0x21fd+0x1*0x4ca]=_0x314e37*_0x290680-_0x9ba4e9*_0x840d4f,_0x24aa77[0x223a+0xb2*0xd+-0x2b3a]=_0x2e7005*_0x290680*_0x290680+_0x40d2bc,_0x24aa77[0x12c7+-0x1402+-0x146*-0x1]=-0x1dfe+0x1d7e+0x80,_0x24aa77[0x1b6f+-0x1f1+-0x1972]=0x1767+0x2*-0xd2d+-0x1*-0x2f3,_0x24aa77[-0x20a7+0x20bd*-0x1+0x4171]=-0x8ca+0xfb9+0x6ef*-0x1,_0x24aa77[-0x1145*0x2+-0x2*0x6f8+0x1*0x3088]=0x1811+-0x1*0xcbf+-0xb52,_0x24aa77[0x12*0xe3+0x1ae3+-0x2aca]=-0x154a+0x1cf1+-0x7a6,this;}['setTransla'+'te'](_0x5e3456,_0x2b711c,_0x4e3749){const _0xb90cfa=this['data'];return _0xb90cfa[0x1*0x1152+0x8d2+-0x1a24]=0x2284+-0xe5c+-0x4d*0x43,_0xb90cfa[-0x183+-0x866+0x1a7*0x6]=0x3c7*0x7+-0x24fe+-0x1*-0xa8d,_0xb90cfa[-0xaf*0x1d+0x1*-0x1cc1+-0x2b3*-0x12]=0x11*0x21+0x34*-0xbf+0x249b,_0xb90cfa[0x91f*-0x3+-0x5dd+0x213d]=-0x25d5+-0x1c2b+0x1*0x4200,_0xb90cfa[0x10f1+0x1557+-0x2644]=-0x900+-0x6ec+0xfec,_0xb90cfa[-0x60d*0x1+-0x516+-0x33*-0x38]=0x2cb*-0xb+-0x1738*-0x1+0x782,_0xb90cfa[-0x2*-0x440+0x1186+-0x68*0x40]=-0x97*0x19+0x85*-0x45+0x3298,_0xb90cfa[-0x1176+-0x1b37+0xb2d*0x4]=0x1362*0x2+0x1*-0x2d7+-0x23ed,_0xb90cfa[0x1232+-0x1d6*-0x1+-0x1400]=0xa0c*-0x3+-0x5b7+0x23db,_0xb90cfa[-0x2427+0x11*-0x145+-0x283*-0x17]=-0x1849*-0x1+0x13d+-0x1986,_0xb90cfa[-0x602+0x20fd+0x1af1*-0x1]=0x1*0x455+0xc61+-0x10b5*0x1,_0xb90cfa[-0x2228+0x11d5+0x105e]=0x79*0x4d+0x29c*-0xb+-0x7b1,_0xb90cfa[0x1*0x18a7+0x1bc0+-0x1*0x345b]=_0x5e3456,_0xb90cfa[0x8*0x278+-0x1*0x1aeb+0x738]=_0x2b711c,_0xb90cfa[0x13*0x17f+0x24b0+-0x410f]=_0x4e3749,_0xb90cfa[0x26fa+-0xec+-0x25ff]=0xb46*0x1+0x9*-0x41a+-0x1*-0x19a5,this;}['setScale'](_0x10d2ce,_0x389c8f,_0x5e286b){const _0x3e2e16=this['data'];return _0x3e2e16[-0x1c79*-0x1+0x1*-0xb6f+0x2*-0x885]=_0x10d2ce,_0x3e2e16[-0xc9d+-0x5eb+0x5*0x3b5]=-0x17cf+0xd5d+0xa72,_0x3e2e16[0x19d8+0x243b+-0x1*0x3e11]=-0x5*-0x1fd+0x7*-0x4cf+0x17b8,_0x3e2e16[-0x25*-0x61+-0xd26+-0x4*0x37]=0x397+-0x5ca+0x233,_0x3e2e16[0x1790+0x222c+-0x4*0xe6e]=-0x1527+0x31*-0x76+0x2bbd*0x1,_0x3e2e16[-0xb6c+-0x171+0xce2*0x1]=_0x389c8f,_0x3e2e16[0x1*-0x2345+-0x1*-0x841+-0x2*-0xd85]=-0x26e1+0x10ac+0x3*0x767,_0x3e2e16[-0x1379+-0x44+0xa*0x1fa]=0x742+-0x107f+-0x1d9*-0x5,_0x3e2e16[0x1ce5+0x13*-0xc9+-0xdf2]=0x1c4b*0x1+0x2*-0xcff+-0x1*0x24d,_0x3e2e16[0x1*0x248e+-0x2*0x12fb+0x171]=0x34f*-0x1+0x1883+-0x2*0xa9a,_0x3e2e16[0x1153+-0x1*0x11be+0x75]=_0x5e286b,_0x3e2e16[-0xd07+-0x1768+0x247a]=0xd30*-0x1+0x146c+-0x73c,_0x3e2e16[0x7*0x2a1+0x38a*0x7+-0x2b21]=-0x8a*-0x48+0x1*0x1c9c+-0x436c,_0x3e2e16[-0x91e*-0x3+-0x2*-0x11d1+-0x3eef*0x1]=-0x227e+0xb*0x16f+-0x12b9*-0x1,_0x3e2e16[-0xfbc+-0xa11+0x19db*0x1]=0x151*-0xb+-0x17b*0x1+0xff6,_0x3e2e16[-0x1d08+-0x7a*-0xa+0x1853]=-0x2121+-0x4cf+0x25f1,this;}['setViewpor'+'t'](_0xebd138,_0x446f2a,_0x47e0c1,_0x2d9802){const _0x3b0481=this['data'];return _0x3b0481[-0xe7a+0x178+0x681*0x2]=_0x47e0c1*(0x61d+-0xf5a+0x93d+0.5),_0x3b0481[0x5da+0x14*-0x7+0x3b*-0x17]=0x601+-0x2*0x11be+0x1d7b,_0x3b0481[0x39d+0x26cd+-0x2a68]=0x1a3b+0x17*-0x2c+-0x1647,_0x3b0481[-0x4e*-0x50+0x137d+-0x2bda]=0x9*-0x17b+0x15a5+-0x852,_0x3b0481[0x650+0x4*0x2d6+-0x11a4]=-0x1*0x104d+0x4d6+0xb77,_0x3b0481[0x3*0x1f8+-0x144b+0x8*0x1cd]=_0x2d9802*(-0xf15*0x1+-0x921+-0xc1b*-0x2+0.5),_0x3b0481[-0x1*0x2364+-0x1bda+-0x2*-0x1fa2]=0x202e+-0x9*0x31b+0x13*-0x39,_0x3b0481[-0x1*-0x1622+0x1632+0x407*-0xb]=0xc*-0x33d+-0x2*-0x1ac+0x2384,_0x3b0481[0x18b5+-0x893+-0x1*0x101a]=0x27*-0xd+-0xe9+-0xa*-0x4a,_0x3b0481[-0x124+0x2028+0x2d1*-0xb]=-0x271*0xf+0x4ef+0x1fb0,_0x3b0481[0x16e2*0x1+-0x332+-0x13a6]=0x19d7+0x11f1+-0x2bc8+0.5,_0x3b0481[0x1837+-0x533+-0x12f9]=0x1a77+-0x2*-0x605+-0x2681,_0x3b0481[0x1180+-0x1*-0x2582+-0xafe*0x5]=_0xebd138+_0x47e0c1*(0x6*-0x48d+0x95*0x2f+0x1*-0xd+0.5),_0x3b0481[-0x3c*-0x19+-0x1675+0x10a6]=_0x446f2a+_0x2d9802*(-0x1e9b+-0x5*-0x42d+-0x1*-0x9ba+0.5),_0x3b0481[0x3*-0x821+-0x25cf+0x3e40]=-0x1*0x15cd+-0x236d+0x393a+0.5,_0x3b0481[-0x2e*-0x27+0x935*-0x3+0x14ac]=0xc97+-0xf5c*-0x1+-0x1*0x1bf2,this;}['setReflect'+'ion'](_0x2bd1a7,_0x5217c7){const _0x35c268=_0x2bd1a7['x'],_0x3f96ae=_0x2bd1a7['y'],_0x4eb1e1=_0x2bd1a7['z'],_0x3c3517=this['data'];return _0x3c3517[0x16e1+0xc69+-0x234a]=-0x1ec1+0x14b1+-0x3*-0x35b-(-0x427+0x363*0x6+-0x1029)*_0x35c268*_0x35c268,_0x3c3517[0x1229+0x1372*-0x1+0xa5*0x2]=-(-0x1020+0x1*0xde7+0x23b)*_0x35c268*_0x3f96ae,_0x3c3517[0x1832*0x1+-0x25eb+-0x2bf*-0x5]=-(0x2158+0xb1d+-0x3*0xed1)*_0x35c268*_0x4eb1e1,_0x3c3517[0x112d+0x1*-0x13ff+0x2d5]=0x26ed+0x4d*-0xb+-0x239e,_0x3c3517[0x1931+0x1*-0x143f+-0x277*0x2]=-(-0xc41*-0x2+0x207e+-0x38fe)*_0x35c268*_0x3f96ae,_0x3c3517[0x15f8*0x1+0x211f*0x1+-0x3712]=0x1936+-0x2361+0xa2c-(-0x1*0x1471+0x795+0xcde)*_0x3f96ae*_0x3f96ae,_0x3c3517[-0x65*-0x2b+-0xbbf*0x1+-0x532]=-(-0x259d+-0x269d+0x4c3c)*_0x3f96ae*_0x4eb1e1,_0x3c3517[0x2413+0x2004+-0x4410]=-0x5*0x1f0+0x1*0x23db+-0x1a2b,_0x3c3517[-0x11b3+-0x1ae7+0x2ca2]=-(-0x2112+-0x129+0x223d)*_0x35c268*_0x4eb1e1,_0x3c3517[0x1fbb+-0x8a6+-0x170c]=-(-0xf45*-0x2+-0x88d+0x15fb*-0x1)*_0x3f96ae*_0x4eb1e1,_0x3c3517[-0x21*-0x2c+-0x4*0x79a+0x18c6]=0xdf*-0xa+0x1ab*-0xa+0x1965*0x1-(0xe14+-0x3*0x832+0xa84)*_0x4eb1e1*_0x4eb1e1,_0x3c3517[0x2010+-0x5c7+-0xd1f*0x2]=0x2073+-0x73d*0x2+-0x11f9,_0x3c3517[-0xcc7*-0x1+-0x1d53+0x1098]=-(0x2db*0x3+0x427+-0xcb6)*_0x35c268*_0x5217c7,_0x3c3517[-0x25*0x56+-0x1fea+0x2c65]=-(-0xa11+0x360*-0xa+0xd*0x35f)*_0x3f96ae*_0x5217c7,_0x3c3517[0x13b2*0x1+-0x57*0xe+-0x2*0x771]=-(0x83*-0x47+0x7*0x16e+0x15*0x141)*_0x4eb1e1*_0x5217c7,_0x3c3517[-0xa5a+0x1*0xfcd+-0x564]=-0x191b+0x1b14+-0x1f8,this;}['invert'](_0x59dfef=this){const _0x4041e2=_0x59dfef['data'],_0x488b1a=_0x4041e2[-0x24d3*-0x1+0x592+-0x1*0x2a65],_0x16c291=_0x4041e2[0x1*0x23c5+0xc*0x28c+-0x4254],_0x22306f=_0x4041e2[-0x10a9+0x40*-0x7f+0x306b],_0x247028=_0x4041e2[-0xfed+-0x24a7+-0x1*-0x3497],_0x4471eb=_0x4041e2[0xb6*0x1a+-0x2582*-0x1+0x5*-0xb32],_0x545738=_0x4041e2[-0x15d+0x1*0x655+-0x4f3],_0x1d8cf3=_0x4041e2[0x1268+0x59*0x3e+-0x27f0],_0x576c0d=_0x4041e2[0x293*-0x8+-0x1631+0x14*0x224],_0x5c142a=_0x4041e2[0x6b5+-0xe36*-0x1+-0x14e3],_0x4e4c58=_0x4041e2[-0xad*0x22+-0x23fc*-0x1+-0xcf9*0x1],_0x11b3f3=_0x4041e2[-0x317*-0x1+0x1c07+-0x1f14],_0x227d59=_0x4041e2[0x6d4+-0x1571+0xea8],_0x2d5f72=_0x4041e2[0x29*0x8e+-0x1363+-0x1*0x34f],_0x53f991=_0x4041e2[-0x3*0xc13+0x1323+-0x1123*-0x1],_0x1b70c5=_0x4041e2[-0x1*0xf07+0x1b63+-0xc4e],_0x997a9c=_0x4041e2[-0x1*-0x2342+-0x4*0x81d+-0x2bf*0x1],_0x36225c=_0x488b1a*_0x545738-_0x16c291*_0x4471eb,_0x2eae12=_0x488b1a*_0x1d8cf3-_0x22306f*_0x4471eb,_0x175ef3=_0x488b1a*_0x576c0d-_0x247028*_0x4471eb,_0x45fe1d=_0x16c291*_0x1d8cf3-_0x22306f*_0x545738,_0x37f5e9=_0x16c291*_0x576c0d-_0x247028*_0x545738,_0x30da94=_0x22306f*_0x576c0d-_0x247028*_0x1d8cf3,_0x3b97a3=_0x5c142a*_0x53f991-_0x4e4c58*_0x2d5f72,_0x18acb9=_0x5c142a*_0x1b70c5-_0x11b3f3*_0x2d5f72,_0x142fee=_0x5c142a*_0x997a9c-_0x227d59*_0x2d5f72,_0x473c94=_0x4e4c58*_0x1b70c5-_0x11b3f3*_0x53f991,_0x1d8c08=_0x4e4c58*_0x997a9c-_0x227d59*_0x53f991,_0x2c1ac9=_0x11b3f3*_0x997a9c-_0x227d59*_0x1b70c5,_0xaad878=_0x36225c*_0x2c1ac9-_0x2eae12*_0x1d8c08+_0x175ef3*_0x473c94+_0x45fe1d*_0x142fee-_0x37f5e9*_0x18acb9+_0x30da94*_0x3b97a3;if(_0xaad878===0x2453+0x10*-0x175+-0xd03)this['setIdentit'+'y']();else{const _0x3027f3=(-0xbde*-0x1+0x1dda+-0x29b7)/_0xaad878,_0x45916a=this['data'];_0x45916a[0x1*0xf7c+0x4*-0x2ec+0x3cc*-0x1]=(_0x545738*_0x2c1ac9-_0x1d8cf3*_0x1d8c08+_0x576c0d*_0x473c94)*_0x3027f3,_0x45916a[0x75f*0x3+0x4a+-0x1666]=(-_0x16c291*_0x2c1ac9+_0x22306f*_0x1d8c08-_0x247028*_0x473c94)*_0x3027f3,_0x45916a[0x1258+0x28b+0x14e1*-0x1]=(_0x53f991*_0x30da94-_0x1b70c5*_0x37f5e9+_0x997a9c*_0x45fe1d)*_0x3027f3,_0x45916a[0x834+0x8a5+-0x35e*0x5]=(-_0x4e4c58*_0x30da94+_0x11b3f3*_0x37f5e9-_0x227d59*_0x45fe1d)*_0x3027f3,_0x45916a[-0x2a1*0x5+-0x9dc+-0x47*-0x53]=(-_0x4471eb*_0x2c1ac9+_0x1d8cf3*_0x142fee-_0x576c0d*_0x18acb9)*_0x3027f3,_0x45916a[0x9f*-0x35+0x265b+-0x1*0x56b]=(_0x488b1a*_0x2c1ac9-_0x22306f*_0x142fee+_0x247028*_0x18acb9)*_0x3027f3,_0x45916a[0x1*-0x6f1+0x197+0x2b0*0x2]=(-_0x2d5f72*_0x30da94+_0x1b70c5*_0x175ef3-_0x997a9c*_0x2eae12)*_0x3027f3,_0x45916a[0x703*0x5+-0x1e37+-0x4d1]=(_0x5c142a*_0x30da94-_0x11b3f3*_0x175ef3+_0x227d59*_0x2eae12)*_0x3027f3,_0x45916a[0x26e8+-0x48b*0x5+-0x1029]=(_0x4471eb*_0x1d8c08-_0x545738*_0x142fee+_0x576c0d*_0x3b97a3)*_0x3027f3,_0x45916a[-0xace+0x1635+-0x6*0x1e5]=(-_0x488b1a*_0x1d8c08+_0x16c291*_0x142fee-_0x247028*_0x3b97a3)*_0x3027f3,_0x45916a[-0x14*0x18b+0xf62+0xf84]=(_0x2d5f72*_0x37f5e9-_0x53f991*_0x175ef3+_0x997a9c*_0x36225c)*_0x3027f3,_0x45916a[0xa23+0x4e7+-0xeff]=(-_0x5c142a*_0x37f5e9+_0x4e4c58*_0x175ef3-_0x227d59*_0x36225c)*_0x3027f3,_0x45916a[0x43*-0x45+0x176d+0x6*-0xe3]=(-_0x4471eb*_0x473c94+_0x545738*_0x18acb9-_0x1d8cf3*_0x3b97a3)*_0x3027f3,_0x45916a[-0x4a5*-0x4+-0x6a7+-0xbe0]=(_0x488b1a*_0x473c94-_0x16c291*_0x18acb9+_0x22306f*_0x3b97a3)*_0x3027f3,_0x45916a[0x1903+-0x6ad*0x5+-0x9a*-0xe]=(-_0x2d5f72*_0x45fe1d+_0x53f991*_0x2eae12-_0x1b70c5*_0x36225c)*_0x3027f3,_0x45916a[-0xb77+-0x5c*0x25+0x18d2]=(_0x5c142a*_0x45fe1d-_0x4e4c58*_0x2eae12+_0x11b3f3*_0x36225c)*_0x3027f3;}return this;}['set'](_0x24db0e){const _0x268c18=this['data'];return _0x268c18[0x76*-0x29+-0x1f71+0x3257]=_0x24db0e[-0x781*-0x3+0x1e*-0xac+-0x25b],_0x268c18[0x1359*0x1+0x219b+-0x34f3]=_0x24db0e[0x20a1+0x1e8b+-0x1*0x3f2b],_0x268c18[-0x14ac+-0x6*0x598+0x363e]=_0x24db0e[-0x1d35+-0x65d+0x2394],_0x268c18[-0x1bf+-0x6*-0x6d+-0xcc]=_0x24db0e[0x7f3+-0xcda+0x275*0x2],_0x268c18[0xa40+0x1*-0x19ed+0xfb1]=_0x24db0e[-0x2d7+-0x25*-0x95+0x12ae*-0x1],_0x268c18[0x47e+0x20d1+0x2b*-0xde]=_0x24db0e[0x4df+-0x8ff+0x425],_0x268c18[-0x34*0x95+-0x73*0x6+0x20fc]=_0x24db0e[-0x4*-0x338+-0x180f+0xb35],_0x268c18[-0x1bd2+-0x1ab5+0x368e]=_0x24db0e[-0x94c+0x183d+-0xeea],_0x268c18[0xe4b+0xa*-0xb3+-0x745]=_0x24db0e[-0xa*-0x1bd+0x2369+0x1*-0x34c3],_0x268c18[-0xd*0x1a3+-0x9*0x1f8+0x2708]=_0x24db0e[0xc9d*-0x2+-0x1*-0x13db+0x568],_0x268c18[-0x1ede+-0x1742+0x362a]=_0x24db0e[-0x1*0x1075+0x845+-0x41d*-0x2],_0x268c18[0x1414+-0x94*0x10+-0xac9]=_0x24db0e[0x1401+-0xcaf+-0x747],_0x268c18[0x2400+-0x1d6f+0x1*-0x685]=_0x24db0e[-0xbce+0x1475+-0x89b],_0x268c18[-0xa17*0x3+0xa*-0x39f+-0x851*-0x8]=_0x24db0e[-0x161*-0xd+-0x17d*0xf+0x11*0x43],_0x268c18[-0x2ef*-0x1+0xbc4*-0x1+0x8e3]=_0x24db0e[-0x7*-0x14f+0x1f0b+-0x6*0x6b1],_0x268c18[0x2409+-0x1ef6+0x282*-0x2]=_0x24db0e[0x80a+-0x2192+-0x1*-0x1997],this;}['setIdentit'+'y'](){const _0x38e9d1=this['data'];return _0x38e9d1[0x348+0x2445+0x87*-0x4b]=-0x9*-0x17d+-0x7*-0x2c7+0x20d5*-0x1,_0x38e9d1[-0x1904+0x12a0+0x1*0x665]=0x2*-0x31c+-0xa78+0x10b0,_0x38e9d1[-0x9af*0x3+-0x647*0x1+0x2356]=0x20ff+0x3af*-0x2+0xf3*-0x1b,_0x38e9d1[-0x415*-0x8+-0x1026+-0x67*0x29]=0x1*0x1609+-0x253c+-0x511*-0x3,_0x38e9d1[0x1e50+-0x1*0x23b8+0x56c]=0xc8f+0x326*-0x7+0x1*0x97b,_0x38e9d1[0xb*0x13a+-0x11ca+0x451]=-0x1f44+0x362*-0x4+0x2ccd,_0x38e9d1[-0x2f*0x77+-0x1*-0x91a+-0x1d3*-0x7]=0x264*-0x8+0x1df+0x7*0x277,_0x38e9d1[-0x87*-0x13+-0x3fc+-0x602]=0x66d+0x215b+-0x27c8,_0x38e9d1[0x25bb+0x193a+0x3eed*-0x1]=0x174a+-0x1271*-0x2+-0x3c2c,_0x38e9d1[-0x1b*-0x49+0x2330+-0x2ada]=0x8*0x19e+0xfc6+0x23*-0xd2,_0x38e9d1[0x1101+-0x35*0x4f+-0x9c]=0x1014+-0xf3f*-0x2+-0x2e91,_0x38e9d1[0x7c1+-0x1*0xc83+-0x1*-0x4cd]=0x1*0x247d+-0x1b1c+-0x961,_0x38e9d1[-0x1449+0x2*0xd67+0x1*-0x679]=0x4*0x830+0x239e+-0x222f*0x2,_0x38e9d1[-0xe83+-0x11ab*0x2+-0x31e6*-0x1]=-0x576+-0x9e6+0xf5c,_0x38e9d1[0x16a3+0x1*-0x1adb+0x446]=-0x135f+0x1371+-0x12,_0x38e9d1[-0x9a4+0x11e3+-0x20c*0x4]=0x372+-0x1c9+-0x35*0x8,this;}['setTRS'](_0x44b5ae,_0x490313,_0x38960b){const _0x305592=_0x490313['x'],_0x513c65=_0x490313['y'],_0x35a1dd=_0x490313['z'],_0x544a49=_0x490313['w'],_0x5f1dd2=_0x38960b['x'],_0x557335=_0x38960b['y'],_0x5aa169=_0x38960b['z'],_0x3b9115=_0x305592+_0x305592,_0x579b14=_0x513c65+_0x513c65,_0xcbafdb=_0x35a1dd+_0x35a1dd,_0x1c4a19=_0x305592*_0x3b9115,_0x56b70a=_0x305592*_0x579b14,_0x211b54=_0x305592*_0xcbafdb,_0x2ac6f2=_0x513c65*_0x579b14,_0x4811da=_0x513c65*_0xcbafdb,_0x22c9d7=_0x35a1dd*_0xcbafdb,_0x468e8f=_0x544a49*_0x3b9115,_0x205cce=_0x544a49*_0x579b14,_0x45fc6b=_0x544a49*_0xcbafdb,_0x235691=this['data'];return _0x235691[0x1ba6+0x21c6+-0x3d6c*0x1]=(-0x22ad+-0xf03+0x31b1-(_0x2ac6f2+_0x22c9d7))*_0x5f1dd2,_0x235691[0xc5a+0x7*-0x327+0x9b8]=(_0x56b70a+_0x45fc6b)*_0x5f1dd2,_0x235691[0x43c+0xc89+-0x10c3]=(_0x211b54-_0x205cce)*_0x5f1dd2,_0x235691[0xee7*-0x1+0x480*-0x3+0x1c6a]=0x2617+-0xc9b+-0x197c,_0x235691[0x34*0x41+0x1949+-0x2679]=(_0x56b70a-_0x45fc6b)*_0x557335,_0x235691[-0x641*-0x1+-0x24ce+0x1e92]=(-0x93c+-0x1*-0x14b3+-0x1*0xb76-(_0x1c4a19+_0x22c9d7))*_0x557335,_0x235691[-0x9da+0x2f0+0x250*0x3]=(_0x4811da+_0x468e8f)*_0x557335,_0x235691[0x4a6+0x242*-0x11+0x21c3]=0x1176*-0x1+-0x18dd+-0x37*-0xc5,_0x235691[-0x20f6+-0x6*0x67f+0x7*0xa48]=(_0x211b54+_0x205cce)*_0x5aa169,_0x235691[-0x741+-0xf6b*-0x1+-0x821]=(_0x4811da-_0x468e8f)*_0x5aa169,_0x235691[-0xf*-0x1aa+-0x4*-0x67+-0x4*0x6a2]=(-0x1a32+-0x232a*0x1+0x3d5d-(_0x1c4a19+_0x2ac6f2))*_0x5aa169,_0x235691[0x1*0x26ae+0x317*0x5+0x2b*-0x142]=0x6*0x5f5+0x62e+0x4*-0xa7b,_0x235691[-0x1*-0x1232+-0x5aa+-0xc7c]=_0x44b5ae['x'],_0x235691[-0x2e3*0x5+-0x1d3*-0x4+0x730]=_0x44b5ae['y'],_0x235691[0x16d2+-0xd1*0x29+0xab5]=_0x44b5ae['z'],_0x235691[0x831+0xa3*0x17+0x16c7*-0x1]=-0x317+-0x16e9+-0x8ab*-0x3,this;}['transpose'](_0x38af44=this){const _0x1e81cb=_0x38af44['data'],_0xb105dd=this['data'];if(_0x1e81cb===_0xb105dd){let _0x49e8e3;_0x49e8e3=_0x1e81cb[-0x20c0+-0x35+-0x1*-0x20f6],_0xb105dd[0xd2b+-0xd27+-0x3]=_0x1e81cb[-0xf7a*0x1+0x23d6+-0x1458],_0xb105dd[-0xf9c+0xa24+0x1d4*0x3]=_0x49e8e3,_0x49e8e3=_0x1e81cb[-0x3*0x518+-0x7*-0x1f1+0x1b3],_0xb105dd[0x1*-0x14d1+-0xcb6*0x2+0x2e3f]=_0x1e81cb[0x36d+0xeb6+-0x121b*0x1],_0xb105dd[-0x1305*0x1+-0x3*0x56f+0x235a]=_0x49e8e3,_0x49e8e3=_0x1e81cb[0x791*0x3+0x11cc*-0x2+0xce8],_0xb105dd[-0xf97+0x1d11+-0xd77]=_0x1e81cb[-0x1c96*0x1+0x7e2*-0x3+-0x2*-0x1a24],_0xb105dd[-0x1cf4+0x6d*0x32+0x7b6]=_0x49e8e3,_0x49e8e3=_0x1e81cb[-0x976+-0x1c*-0x9+0x880],_0xb105dd[0x2*-0xde5+0xd*0xe9+-0xffb*-0x1]=_0x1e81cb[-0xf2+-0x1*-0x216d+-0x2072],_0xb105dd[-0x186b*-0x1+0x194f+0x1*-0x31b1]=_0x49e8e3,_0x49e8e3=_0x1e81cb[-0x1d86+-0x95c+0x58f*0x7],_0xb105dd[0x1392+-0x1*-0xa55+-0x1de0]=_0x1e81cb[-0x1378+0x2414+0x1d7*-0x9],_0xb105dd[0x15df+-0x79*-0x15+-0x1fbf*0x1]=_0x49e8e3,_0x49e8e3=_0x1e81cb[0x1918+-0x16a1*-0x1+-0x167*0x22],_0xb105dd[0x1b92+0x34*0x47+-0x29f3]=_0x1e81cb[0xad4*-0x3+-0x21cb+-0x1*-0x4255],_0xb105dd[0x1c1*-0x5+-0x4e*0x56+0x2307]=_0x49e8e3;}else _0xb105dd[-0x3b*-0x1+-0x3f4+0x3b9]=_0x1e81cb[-0x3*-0x82+0x2575*0x1+-0x24b*0x11],_0xb105dd[0x2*-0x2f3+-0x1*-0x22fc+-0x1d15]=_0x1e81cb[0x1a7+-0x1eab+0x1d08],_0xb105dd[-0xb49+0xf6b*0x1+0x21*-0x20]=_0x1e81cb[0xdf5+-0x26db+-0x18ee*-0x1],_0xb105dd[-0xdad+-0x19a7+0x2757]=_0x1e81cb[-0xadf+0xeef+-0x1*0x404],_0xb105dd[0xf6b+-0x1c9*0x5+-0x67a*0x1]=_0x1e81cb[0x772+-0x5*0x503+-0xcd*-0x16],_0xb105dd[0xa0*0x4+-0x416*0x7+0x3*0x8b5]=_0x1e81cb[-0x7b5+-0x15c3+0x1d7d],_0xb105dd[-0xdba+0x2220+-0x1460]=_0x1e81cb[-0x202e+0x15de+-0x3*-0x373],_0xb105dd[0x1*0x17b3+0x11e2+-0x298e]=_0x1e81cb[-0x92b+0x254e+-0x2*0xe0b],_0xb105dd[0x5*-0x649+0x10c4+0x1*0xeb1]=_0x1e81cb[0x25d+0x1*0x1ed5+-0x2130],_0xb105dd[-0x1*0xb3+-0x22ac+-0x338*-0xb]=_0x1e81cb[0x1*0x1ea9+-0x25dd+-0x1*-0x73a],_0xb105dd[0x252a+0x7db+-0x2cfb]=_0x1e81cb[0x457+-0xe*0x1ec+-0x283*-0x9],_0xb105dd[-0x3*-0x65b+-0x1f4*0x2+0x3*-0x50a]=_0x1e81cb[-0x13f*0x6+-0xc4c*0x2+0x2020*0x1],_0xb105dd[-0x1f93*-0x1+-0xae5+-0x14a2]=_0x1e81cb[0x170f+0x2c*0xdf+-0x3d6*0x10],_0xb105dd[-0x1872+0xbfb+0x10b*0xc]=_0x1e81cb[0x56a+-0x2ee+-0x275],_0xb105dd[-0x1*-0x1ba7+0x1f67*0x1+0x20*-0x1d8]=_0x1e81cb[0x53d*-0x2+0xf10+-0x48b],_0xb105dd[0x85+-0x761+0xa1*0xb]=_0x1e81cb[-0x1*-0x1ab3+-0x7*0x2fe+-0x9*0xa2];return this;}['getTransla'+'tion'](_0x5d8cf9=new D()){return _0x5d8cf9['set'](this['data'][-0x161*0xd+0xd*-0x1e1+0x2a66],this['data'][-0x25bb*0x1+0x7*-0x211+-0xa73*-0x5],this['data'][-0x2682*0x1+-0x2b*-0x3+-0x260f*-0x1]);}['getX'](_0x2ad385=new D()){return _0x2ad385['set'](this['data'][0x1cf9*-0x1+0x8a0*-0x2+0x1*0x2e39],this['data'][-0x175*-0x13+0xb*0xc6+-0x2430],this['data'][0x38*-0x13+-0x1*0x7bf+0x1*0xbe9]);}['getY'](_0x905c73=new D()){return _0x905c73['set'](this['data'][-0x1f18+-0x264b*0x1+0x4567],this['data'][-0x80a+-0x209b+0x1*0x28aa],this['data'][-0x9d2+-0x1aff+0x24d7*0x1]);}['getZ'](_0x52e7b0=new D()){return _0x52e7b0['set'](this['data'][-0x1*-0x16cd+-0x44*0x29+-0xbe1*0x1],this['data'][0x1b76+0x6*0x541+0x3af3*-0x1],this['data'][-0x1128+-0x1be+-0x6*-0x328]);}['getScale'](_0x21d7f0=new D()){return this['getX'](Os),this['getY'](Js),this['getZ'](ei),_0x21d7f0['set'](Os['length'](),Js['length'](),ei['length']()),_0x21d7f0;}get['scaleSign'](){return this['getX'](Os),this['getY'](Js),this['getZ'](ei),Os['cross'](Os,Js),Os['dot'](ei)<-0x2e5+0x277*-0xd+0x22f0?-(-0x1ad1*0x1+0x1*-0x2704+0x41d6):0x1b57+0xb5d+-0x26b3;}['setFromEul'+'erAngles'](_0x3a267c,_0x3f2a7d,_0x166844){_0x3a267c*=Y['DEG_TO_RAD'],_0x3f2a7d*=Y['DEG_TO_RAD'],_0x166844*=Y['DEG_TO_RAD'];const _0x5b5bcf=Math['sin'](-_0x3a267c),_0x26c788=Math['cos'](-_0x3a267c),_0x5045ba=Math['sin'](-_0x3f2a7d),_0x682472=Math['cos'](-_0x3f2a7d),_0x42294f=Math['sin'](-_0x166844),_0x346a02=Math['cos'](-_0x166844),_0x41b9df=this['data'];return _0x41b9df[0x111f*-0x1+-0x8e7+-0x2*-0xd03]=_0x682472*_0x346a02,_0x41b9df[-0xc0a+0xfe0+-0x9*0x6d]=-_0x682472*_0x42294f,_0x41b9df[-0x15*0xab+-0x6*-0x132+0xfb*0x7]=_0x5045ba,_0x41b9df[0x57e+-0x2*-0x10f1+-0x275d]=-0xab4+0x1228+-0x774,_0x41b9df[0x389*-0x4+-0x1*0xa8a+-0x18b2*-0x1]=_0x26c788*_0x42294f+_0x346a02*_0x5b5bcf*_0x5045ba,_0x41b9df[-0x16e7+0x1375+0x377]=_0x26c788*_0x346a02-_0x5b5bcf*_0x5045ba*_0x42294f,_0x41b9df[0x17cb+-0x385*0xb+0xef2]=-_0x682472*_0x5b5bcf,_0x41b9df[0x129e+-0x189a+0x603]=0x1dd5*0x1+-0xacd+-0x3*0x658,_0x41b9df[0x1*-0x1c86+0x161c+0x2*0x339]=_0x5b5bcf*_0x42294f-_0x26c788*_0x346a02*_0x5045ba,_0x41b9df[-0x1ef+0xddd+0x69*-0x1d]=_0x346a02*_0x5b5bcf+_0x26c788*_0x5045ba*_0x42294f,_0x41b9df[-0x187d+-0xf1*0x1e+-0x39*-0xed]=_0x26c788*_0x682472,_0x41b9df[0x223*-0xf+-0x183+-0x4cd*-0x7]=-0x23de+-0x19bd+0x3d9b,_0x41b9df[-0x223f+0x511+0x81*0x3a]=-0x1*-0x157+0x1d59+-0x8*0x3d6,_0x41b9df[0x1787+0x237e+-0x3af8]=0xead+0x8*0x31d+0x2795*-0x1,_0x41b9df[0xf7a*-0x2+-0x1*-0xe3b+-0x10c7*-0x1]=0xe75*-0x1+-0x1*0x139+0xfae,_0x41b9df[-0x1*0x21e9+-0x1*-0x57d+-0x1c7b*-0x1]=0x236*-0x10+-0x24*0xdf+-0xd59*-0x5,this;}['getEulerAn'+'gles'](_0x6676ed=new D()){this['getScale'](Hl);const _0x1e1f2c=Hl['x'],_0x44d79c=Hl['y'],_0x2d8f6d=Hl['z'];if(_0x1e1f2c===0x15a*-0x13+0x11*-0x4d+-0x1ecb*-0x1||_0x44d79c===0x319+-0x36*0xa5+0x1fb5*0x1||_0x2d8f6d===0xc4b+-0x237+-0xa14)return _0x6676ed['set'](0x7*-0x389+-0x26ca+0x3f89,0x2*-0x1af+-0x3*-0x957+-0x1*0x18a7,-0x27b+0x1047+0x4*-0x373);const _0x38982a=this['data'],_0x20cb96=Math['asin'](-_0x38982a[0x3*-0x173+0x15f*0x1+0x2fc*0x1]/_0x1e1f2c),_0x3a60e3=Math['PI']*(0x11e*0x15+0x172c+-0x2ea2*0x1+0.5);let _0x4c2f28,_0x1e9803;return _0x20cb96<_0x3a60e3?_0x20cb96>-_0x3a60e3?(_0x4c2f28=Math['atan2'](_0x38982a[-0x1850*-0x1+-0x155+-0x16f5]/_0x44d79c,_0x38982a[-0x15d8*0x1+0x10ad*-0x1+0x268f]/_0x2d8f6d),_0x1e9803=Math['atan2'](_0x38982a[0x10a1+0x2bf+-0x135f]/_0x1e1f2c,_0x38982a[-0xd21*-0x1+0x3*-0xa46+0x11b1]/_0x1e1f2c)):(_0x1e9803=-0x1324+-0x1*0x1675+-0x17*-0x1cf,_0x4c2f28=-Math['atan2'](_0x38982a[0x1ec6+-0x11a0+-0x1*0xd22]/_0x44d79c,_0x38982a[-0x1*-0x17e0+-0x419+0x3*-0x696]/_0x44d79c)):(_0x1e9803=0x5*-0x55d+0x183d+0x294,_0x4c2f28=Math['atan2'](_0x38982a[0x17bd+-0x1d07+0x54e]/_0x44d79c,_0x38982a[0xd25+0x5d1+-0x12f1*0x1]/_0x44d79c)),_0x6676ed['set'](_0x4c2f28,_0x20cb96,_0x1e9803)['mulScalar'](Y['RAD_TO_DEG']);}['toString'](){return'['+this['data']['join'](',\x20')+']';}};h(Qr,'IDENTITY',Object['freeze'](new Qr())),h(Qr,'ZERO',Object['freeze'](new Qr()['set']([0x1*0x1b31+-0x7*-0x2cf+0x3*-0xf9e,-0x1af5+-0x195+0x1c8a,-0x10d1+-0x2d2+0x1c9*0xb,0x2263+0x19f1+-0x3c54,-0xf4*0x1a+0xa97+0xe31,0x1e1*0x2+0x8e1*-0x1+0x51f,-0x116*0xa+0x2*-0x115+0xd06,-0x1cc3+0x2680+-0x9bd*0x1,-0x1b0a*0x1+-0x2679+-0x1f*-0x21d,-0x1dfa+0x1b4b+0x2af*0x1,-0xcec*0x2+0x858*0x1+-0x38*-0x50,0xdfc+0x1*-0x2241+0x1*0x1445,0x205e*0x1+-0x28+-0x2*0x101b,-0x33*0xb7+-0x45*0x3+0x9f*0x3c,-0x237a+-0x1329+0x47*0xc5,-0x105*-0x9+-0x3e0+-0x3b*0x17])));let te=Qr;const Sn=class Sn{constructor(_0x1f1d8a=-0x11f9+-0x1*0xc05+0x1dfe,_0x4278a2=0x1307+-0x540+-0xdc7,_0x1addb2=0xada*0x3+0x1324+0x2*-0x19d9,_0x25eee9=-0x500+-0x19*-0x11b+-0xb51*0x2){h(this,'x'),h(this,'y'),h(this,'z'),h(this,'w'),_0x1f1d8a['length']===-0xdd*-0x23+0x64b+-0x9*0x40e?(this['x']=_0x1f1d8a[-0x157f+0x7d*0x1d+0x756],this['y']=_0x1f1d8a[-0x1562+0x2*0xb65+-0x167],this['z']=_0x1f1d8a[0x826+-0x8*-0x1fd+-0x26*0xa2],this['w']=_0x1f1d8a[0x23db+0x1*-0x1867+0xb71*-0x1]):(this['x']=_0x1f1d8a,this['y']=_0x4278a2,this['z']=_0x1addb2,this['w']=_0x25eee9);}['clone'](){const _0x1e6cda=this['constructo'+'r'];return new _0x1e6cda(this['x'],this['y'],this['z'],this['w']);}['conjugate'](_0x19d503=this){return this['x']=_0x19d503['x']*-(0x1dda+-0x1*-0x2a5+-0x207e),this['y']=_0x19d503['y']*-(0x1277+-0x1bda+0x964),this['z']=_0x19d503['z']*-(-0xa9*0x25+-0x2226+-0x2e*-0x146),this['w']=_0x19d503['w'],this;}['copy'](_0x4d0381){return this['x']=_0x4d0381['x'],this['y']=_0x4d0381['y'],this['z']=_0x4d0381['z'],this['w']=_0x4d0381['w'],this;}['dot'](_0x5b9d88){return this['x']*_0x5b9d88['x']+this['y']*_0x5b9d88['y']+this['z']*_0x5b9d88['z']+this['w']*_0x5b9d88['w'];}['equals'](_0x56f463){return this['x']===_0x56f463['x']&&this['y']===_0x56f463['y']&&this['z']===_0x56f463['z']&&this['w']===_0x56f463['w'];}['equalsAppr'+'ox'](_0x32faf3,_0x9e27a3=0x513*0x6+-0x1b*-0x88+-0x2cca+0.000001){return Math['abs'](this['x']-_0x32faf3['x'])<_0x9e27a3&&Math['abs'](this['y']-_0x32faf3['y'])<_0x9e27a3&&Math['abs'](this['z']-_0x32faf3['z'])<_0x9e27a3&&Math['abs'](this['w']-_0x32faf3['w'])<_0x9e27a3;}['getAxisAng'+'le'](_0x441f2b){let _0x26e027=Math['acos'](this['w'])*(0x2265+0x1c*-0x38+0x1*-0x1c43);const _0x568dda=Math['sin'](_0x26e027/(-0x3cf+-0x2*0x57d+0x1*0xecb));return _0x568dda!==0x5c*-0x65+0x5d7*-0x1+0x2a23?(_0x441f2b['x']=this['x']/_0x568dda,_0x441f2b['y']=this['y']/_0x568dda,_0x441f2b['z']=this['z']/_0x568dda,(_0x441f2b['x']<0x551*-0x7+-0x13ab+0x38e2||_0x441f2b['y']<-0x25e5+-0x2a7+0x2*0x1446||_0x441f2b['z']<0x22f0+0x2065+-0xb*0x61f)&&(_0x441f2b['x']*=-(0x3c*0x6b+-0x260d+0xcfa),_0x441f2b['y']*=-(0x1039+0x23*0x5b+0x1ca9*-0x1),_0x441f2b['z']*=-(0x2*-0x6dc+0xe*-0xef+0x13*0x169),_0x26e027*=-(0x1*0xc4d+0x10d7+-0x1*0x1d23))):(_0x441f2b['x']=0x1*-0x4b7+-0xb87*-0x1+-0x6cf,_0x441f2b['y']=0xf8f*-0x1+-0x4de*-0x1+-0x7*-0x187,_0x441f2b['z']=0x22c6*0x1+0x18bc+-0x3b82),_0x26e027*Y['RAD_TO_DEG'];}['getEulerAn'+'gles'](_0x328fb4=new D()){let _0x34d663,_0x3049a1,_0x34e4ed;const _0x42021a=this['x'],_0x5da932=this['y'],_0xdbaca9=this['z'],_0x4c12c9=this['w'],_0x311b3c=(0x2113+-0x241*-0x5+-0x8de*0x5)*(_0x4c12c9*_0x5da932-_0x42021a*_0xdbaca9);return _0x311b3c<=-(-0x14f4+-0x8a9+0x43b*0x7+0.99999)?(_0x34d663=(0x339+-0xb*-0x35+-0x57e)*Math['atan2'](_0x42021a,_0x4c12c9),_0x3049a1=-Math['PI']/(-0x3*-0x53b+0x4*0x7fc+0x1*-0x2f9f),_0x34e4ed=0x4*0x5e3+0x12f1+0x2a7d*-0x1):_0x311b3c>=-0x45e+0x329*0x5+-0xb6f+0.99999?(_0x34d663=(0x1*0x17f3+0xc26+-0x1*0x2417)*Math['atan2'](_0x42021a,_0x4c12c9),_0x3049a1=Math['PI']/(0x4b7*0x4+0x2241+0x5*-0xa9f),_0x34e4ed=-0x179e+0x13*0x83+0xde5*0x1):(_0x34d663=Math['atan2']((0x114d+-0xa3*-0x1+-0x11ee)*(_0x4c12c9*_0x42021a+_0x5da932*_0xdbaca9),0x2412+0x1bc5+-0x1feb*0x2-(0x1231+0x6*-0x55+-0x5*0x33d)*(_0x42021a*_0x42021a+_0x5da932*_0x5da932)),_0x3049a1=Math['asin'](_0x311b3c),_0x34e4ed=Math['atan2']((-0x170e+-0x1896+0x2fa6)*(_0x4c12c9*_0xdbaca9+_0x42021a*_0x5da932),0x47*0x4f+0x283+-0x186b*0x1-(0x9*-0x267+-0x23cb+0x396c)*(_0x5da932*_0x5da932+_0xdbaca9*_0xdbaca9))),_0x328fb4['set'](_0x34d663,_0x3049a1,_0x34e4ed)['mulScalar'](Y['RAD_TO_DEG']);}['invert'](_0x38c12f=this){return this['conjugate'](_0x38c12f)['normalize']();}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x18ab32,_0xc43ee2,_0xc455c3){const _0x2bb0cb=(-0x6*0x13+0x32*-0x73+0x16e9-_0xc455c3)*(_0x18ab32['dot'](_0xc43ee2)<-0x18e5+0x13d9*-0x1+-0x2*-0x165f?-(0x1c5b+-0x22a*0x4+-0x13b2):0x25c2+-0xe55*0x1+-0x5db*0x4);return this['x']=_0x18ab32['x']*_0x2bb0cb+_0xc43ee2['x']*_0xc455c3,this['y']=_0x18ab32['y']*_0x2bb0cb+_0xc43ee2['y']*_0xc455c3,this['z']=_0x18ab32['z']*_0x2bb0cb+_0xc43ee2['z']*_0xc455c3,this['w']=_0x18ab32['w']*_0x2bb0cb+_0xc43ee2['w']*_0xc455c3,this['normalize']();}['mul'](_0xd9d598){const _0x8dc84a=this['x'],_0x319192=this['y'],_0x2c3433=this['z'],_0x3902a6=this['w'],_0x2f5f19=_0xd9d598['x'],_0x1bdfaf=_0xd9d598['y'],_0x29483f=_0xd9d598['z'],_0x89b943=_0xd9d598['w'];return this['x']=_0x3902a6*_0x2f5f19+_0x8dc84a*_0x89b943+_0x319192*_0x29483f-_0x2c3433*_0x1bdfaf,this['y']=_0x3902a6*_0x1bdfaf+_0x319192*_0x89b943+_0x2c3433*_0x2f5f19-_0x8dc84a*_0x29483f,this['z']=_0x3902a6*_0x29483f+_0x2c3433*_0x89b943+_0x8dc84a*_0x1bdfaf-_0x319192*_0x2f5f19,this['w']=_0x3902a6*_0x89b943-_0x8dc84a*_0x2f5f19-_0x319192*_0x1bdfaf-_0x2c3433*_0x29483f,this;}['mulScalar'](_0x4185cf,_0x2de1a3=this){return this['x']=_0x2de1a3['x']*_0x4185cf,this['y']=_0x2de1a3['y']*_0x4185cf,this['z']=_0x2de1a3['z']*_0x4185cf,this['w']=_0x2de1a3['w']*_0x4185cf,this;}['mul2'](_0x284d21,_0x169740){const _0x7b4a24=_0x284d21['x'],_0x58958b=_0x284d21['y'],_0x5d8206=_0x284d21['z'],_0xa2c8d9=_0x284d21['w'],_0x572897=_0x169740['x'],_0x15757c=_0x169740['y'],_0x51a956=_0x169740['z'],_0x1f30df=_0x169740['w'];return this['x']=_0xa2c8d9*_0x572897+_0x7b4a24*_0x1f30df+_0x58958b*_0x51a956-_0x5d8206*_0x15757c,this['y']=_0xa2c8d9*_0x15757c+_0x58958b*_0x1f30df+_0x5d8206*_0x572897-_0x7b4a24*_0x51a956,this['z']=_0xa2c8d9*_0x51a956+_0x5d8206*_0x1f30df+_0x7b4a24*_0x15757c-_0x58958b*_0x572897,this['w']=_0xa2c8d9*_0x1f30df-_0x7b4a24*_0x572897-_0x58958b*_0x15757c-_0x5d8206*_0x51a956,this;}['normalize'](_0x37abbd=this){let _0x294593=_0x37abbd['length']();return _0x294593===0x371*-0x8+0x3f+0x1b49?(this['x']=this['y']=this['z']=0x2f*0x35+-0x2c*-0xa4+-0x25eb,this['w']=-0x2694+-0x33*0x47+0x34ba):(_0x294593=(-0xa02+-0x957+0x135a)/_0x294593,this['x']=_0x37abbd['x']*_0x294593,this['y']=_0x37abbd['y']*_0x294593,this['z']=_0x37abbd['z']*_0x294593,this['w']=_0x37abbd['w']*_0x294593),this;}['set'](_0x26ec25,_0x520761,_0x232c49,_0x3d361f){return this['x']=_0x26ec25,this['y']=_0x520761,this['z']=_0x232c49,this['w']=_0x3d361f,this;}['setFromAxi'+'sAngle'](_0x2fb1ec,_0x4e378a){_0x4e378a*=(0x1bd0+0x1*-0x1c27+-0x3*-0x1d+0.5)*Y['DEG_TO_RAD'];const _0x2760ab=Math['sin'](_0x4e378a),_0x3a805f=Math['cos'](_0x4e378a);return this['x']=_0x2760ab*_0x2fb1ec['x'],this['y']=_0x2760ab*_0x2fb1ec['y'],this['z']=_0x2760ab*_0x2fb1ec['z'],this['w']=_0x3a805f,this;}['setFromEul'+'erAngles'](_0x3d8871,_0x226e47,_0x4452cc){if(_0x3d8871 instanceof D){const _0x1d00ce=_0x3d8871;_0x3d8871=_0x1d00ce['x'],_0x226e47=_0x1d00ce['y'],_0x4452cc=_0x1d00ce['z'];}const _0x38b085=(-0x8ef+0x1aad+-0x11be+0.5)*Y['DEG_TO_RAD'];_0x3d8871*=_0x38b085,_0x226e47*=_0x38b085,_0x4452cc*=_0x38b085;const _0x3bc3f2=Math['sin'](_0x3d8871),_0x4fb69f=Math['cos'](_0x3d8871),_0x33b8be=Math['sin'](_0x226e47),_0x355bf0=Math['cos'](_0x226e47),_0x21bc35=Math['sin'](_0x4452cc),_0x36499f=Math['cos'](_0x4452cc);return this['x']=_0x3bc3f2*_0x355bf0*_0x36499f-_0x4fb69f*_0x33b8be*_0x21bc35,this['y']=_0x4fb69f*_0x33b8be*_0x36499f+_0x3bc3f2*_0x355bf0*_0x21bc35,this['z']=_0x4fb69f*_0x355bf0*_0x21bc35-_0x3bc3f2*_0x33b8be*_0x36499f,this['w']=_0x4fb69f*_0x355bf0*_0x36499f+_0x3bc3f2*_0x33b8be*_0x21bc35,this;}['setFromMat'+'4'](_0x27c1b5){const _0x330c68=_0x27c1b5['data'];let _0x1aebcc=_0x330c68[-0x5bf*-0x5+0x24f3*-0x1+0x838],_0x31d1d1=_0x330c68[-0x46e+0xbb1*-0x1+0x18*0xac],_0x3e5cea=_0x330c68[-0xed*-0xd+0xde*0x1c+0x41*-0x8f],_0x20831b=_0x330c68[0x4df*-0x1+0x1026+-0xb43],_0x37e4a8=_0x330c68[0x8ba*0x1+0x5*0x746+-0x419*0xb],_0x417316=_0x330c68[-0x1825*0x1+-0x19e3*0x1+0x320e],_0x16fc4e=_0x330c68[-0x1fb5+0x1*0x24d9+-0x51c],_0x73c26a=_0x330c68[-0x2*-0xe7b+0x1d*0x146+-0x41db],_0x6be787=_0x330c68[0x1d61+0x418+0xb25*-0x3],_0x1742a7;return _0x1742a7=_0x1aebcc*_0x1aebcc+_0x31d1d1*_0x31d1d1+_0x3e5cea*_0x3e5cea,_0x1742a7===0x1f1d+0x245a+-0x4377?this['set'](0x2577+0x129+-0x26a0,-0x37*-0x12+0x197e+0x2*-0xeae,0x6f2*0x4+0x1*-0x266+0x39*-0x72,0x1bdc*0x1+-0x62*-0x2f+-0x2dd9):(_0x1742a7=(0xa92+0x1e2*-0x13+0x1935)/Math['sqrt'](_0x1742a7),_0x1aebcc*=_0x1742a7,_0x31d1d1*=_0x1742a7,_0x3e5cea*=_0x1742a7,_0x1742a7=_0x20831b*_0x20831b+_0x37e4a8*_0x37e4a8+_0x417316*_0x417316,_0x1742a7===-0xf5b+0x514+0x1*0xa47?this['set'](-0x2008+-0x5*0x4d9+-0x1*-0x3845,0x1e30+-0x1*-0x162a+0x2*-0x1a2d,-0x1*-0x11f5+-0x205c+0xe67,-0xf26+-0x1b71+0x2a98):(_0x1742a7=(-0x67f*0x3+0x1d22+0x4d2*-0x2)/Math['sqrt'](_0x1742a7),_0x20831b*=_0x1742a7,_0x37e4a8*=_0x1742a7,_0x417316*=_0x1742a7,_0x1742a7=_0x16fc4e*_0x16fc4e+_0x73c26a*_0x73c26a+_0x6be787*_0x6be787,_0x1742a7===-0x1464+-0x2*0x4af+0x1dc2?this['set'](-0xf3d*-0x2+0x309+0x17*-0x175,0x707+-0x1f65+0x185e,-0x3*-0x62b+0x2037*-0x1+0xea*0xf,-0x144+0xab*-0x7+0x5f2*0x1):(_0x1742a7=(-0x8*0x1d5+-0x1*-0x1d1e+-0xe75*0x1)/Math['sqrt'](_0x1742a7),_0x16fc4e*=_0x1742a7,_0x73c26a*=_0x1742a7,_0x6be787*=_0x1742a7,_0x6be787<-0x46+0x20a1+-0x205b?_0x1aebcc>_0x37e4a8?this['set'](-0xf8+0x175*0x5+-0x65*0x10+_0x1aebcc-_0x37e4a8-_0x6be787,_0x31d1d1+_0x20831b,_0x16fc4e+_0x3e5cea,_0x417316-_0x73c26a):this['set'](_0x31d1d1+_0x20831b,0x103d+0x798+-0x262*0xa-_0x1aebcc+_0x37e4a8-_0x6be787,_0x417316+_0x73c26a,_0x16fc4e-_0x3e5cea):_0x1aebcc<-_0x37e4a8?this['set'](_0x16fc4e+_0x3e5cea,_0x417316+_0x73c26a,0x2676+0x18*-0x45+-0x1ffd-_0x1aebcc-_0x37e4a8+_0x6be787,_0x31d1d1-_0x20831b):this['set'](_0x417316-_0x73c26a,_0x16fc4e-_0x3e5cea,_0x31d1d1-_0x20831b,-0x4*0xd+0x207+0xe9*-0x2+_0x1aebcc+_0x37e4a8+_0x6be787),this['mulScalar']((-0x219a*-0x1+-0x1*0x1c9d+-0x4fc)/this['length']()))));}['setFromDir'+'ections'](_0x2903db,_0x378b73){const _0x2cbf89=-0x6*0x336+0xa0*0x35+-0xddb*0x1+_0x2903db['dot'](_0x378b73);return _0x2cbf89<Number['EPSILON']?Math['abs'](_0x2903db['x'])>Math['abs'](_0x2903db['y'])?(this['x']=-_0x2903db['z'],this['y']=0x1d62+0x1*0x5b7+-0x2319,this['z']=_0x2903db['x'],this['w']=-0x3e*0x9f+-0x1*-0xdd6+0x62b*0x4):(this['x']=0x9*0x3d3+-0x1244+-0x1027,this['y']=-_0x2903db['z'],this['z']=_0x2903db['y'],this['w']=-0x1*0x1339+0x1*-0x963+0xe4e*0x2):(this['x']=_0x2903db['y']*_0x378b73['z']-_0x2903db['z']*_0x378b73['y'],this['y']=_0x2903db['z']*_0x378b73['x']-_0x2903db['x']*_0x378b73['z'],this['z']=_0x2903db['x']*_0x378b73['y']-_0x2903db['y']*_0x378b73['x'],this['w']=_0x2cbf89),this['normalize']();}['slerp'](_0x4984c5,_0x11f747,_0xb54a1d){const _0x309c4a=_0x4984c5['x'],_0x483cbf=_0x4984c5['y'],_0x13ab69=_0x4984c5['z'],_0x1113db=_0x4984c5['w'];let _0x263901=_0x11f747['x'],_0x350075=_0x11f747['y'],_0x407b10=_0x11f747['z'],_0x250cac=_0x11f747['w'],_0x481c2c=_0x1113db*_0x250cac+_0x309c4a*_0x263901+_0x483cbf*_0x350075+_0x13ab69*_0x407b10;if(_0x481c2c<-0x2*-0xdc7+-0x2321+0x115*0x7&&(_0x250cac=-_0x250cac,_0x263901=-_0x263901,_0x350075=-_0x350075,_0x407b10=-_0x407b10,_0x481c2c=-_0x481c2c),Math['abs'](_0x481c2c)>=0x8*-0x33d+-0x3*-0x94e+-0x201)return this['w']=_0x1113db,this['x']=_0x309c4a,this['y']=_0x483cbf,this['z']=_0x13ab69,this;const _0x45c09e=Math['acos'](_0x481c2c),_0x588923=Math['sqrt'](-0x428+0xcd*-0x2e+0x28ff-_0x481c2c*_0x481c2c);if(Math['abs'](_0x588923)<0x99*-0x24+0x38c+0x11f8+0.001)return this['w']=_0x1113db*(0x89d+-0x41*0x1f+0x2*-0x5f+0.5)+_0x250cac*(0x1c0f+-0x257b+-0x9*-0x10c+0.5),this['x']=_0x309c4a*(-0x757*-0x4+0x1ad7+-0x3833+0.5)+_0x263901*(0xf2e+0x1c0a+-0x3*0xe68+0.5),this['y']=_0x483cbf*(0xf35+-0x51b+0x2*-0x50d+0.5)+_0x350075*(0x1*0xc31+-0x1*-0xe2f+0x2*-0xd30+0.5),this['z']=_0x13ab69*(0xe71+0x1352+-0x2b*0xc9+0.5)+_0x407b10*(0x1*0x173f+0x305*0x1+-0xd22*0x2+0.5),this;const _0x115c09=Math['sin']((-0xa*-0x315+0x1*-0x1d12+0x95*-0x3-_0xb54a1d)*_0x45c09e)/_0x588923,_0x260a01=Math['sin'](_0xb54a1d*_0x45c09e)/_0x588923;return this['w']=_0x1113db*_0x115c09+_0x250cac*_0x260a01,this['x']=_0x309c4a*_0x115c09+_0x263901*_0x260a01,this['y']=_0x483cbf*_0x115c09+_0x350075*_0x260a01,this['z']=_0x13ab69*_0x115c09+_0x407b10*_0x260a01,this;}['transformV'+'ector'](_0xb049b3,_0x438c73=new D()){const _0x5d9a0e=_0xb049b3['x'],_0x17ba99=_0xb049b3['y'],_0x1d6aea=_0xb049b3['z'],_0x11f43e=this['x'],_0x45a3fa=this['y'],_0x1dd23c=this['z'],_0x14c0b1=this['w'],_0x229ac2=_0x14c0b1*_0x5d9a0e+_0x45a3fa*_0x1d6aea-_0x1dd23c*_0x17ba99,_0x412995=_0x14c0b1*_0x17ba99+_0x1dd23c*_0x5d9a0e-_0x11f43e*_0x1d6aea,_0x2dff3e=_0x14c0b1*_0x1d6aea+_0x11f43e*_0x17ba99-_0x45a3fa*_0x5d9a0e,_0x1c4338=-_0x11f43e*_0x5d9a0e-_0x45a3fa*_0x17ba99-_0x1dd23c*_0x1d6aea;return _0x438c73['x']=_0x229ac2*_0x14c0b1+_0x1c4338*-_0x11f43e+_0x412995*-_0x1dd23c-_0x2dff3e*-_0x45a3fa,_0x438c73['y']=_0x412995*_0x14c0b1+_0x1c4338*-_0x45a3fa+_0x2dff3e*-_0x11f43e-_0x229ac2*-_0x1dd23c,_0x438c73['z']=_0x2dff3e*_0x14c0b1+_0x1c4338*-_0x1dd23c+_0x229ac2*-_0x45a3fa-_0x412995*-_0x11f43e,_0x438c73;}['fromArray'](_0x28e273,_0x30e5cb=0x15df+-0x10c*-0xc+-0x226f){return this['x']=_0x28e273[_0x30e5cb]??this['x'],this['y']=_0x28e273[_0x30e5cb+(0xb*-0x15a+0x2204+-0x1325)]??this['y'],this['z']=_0x28e273[_0x30e5cb+(0xad*0x2d+0x1a*0x103+0x38b5*-0x1)]??this['z'],this['w']=_0x28e273[_0x30e5cb+(-0x38a+-0x5fb+0x988)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x205ec7=[],_0x21d182=-0x2a4*-0xa+0x9*0x2a7+-0x3247){return _0x205ec7[_0x21d182]=this['x'],_0x205ec7[_0x21d182+(-0x22d0+-0x7*-0xc4+0x1*0x1d75)]=this['y'],_0x205ec7[_0x21d182+(-0x6a*0x2b+0x7*-0x427+-0xb*-0x443)]=this['z'],_0x205ec7[_0x21d182+(0xc33+-0x87d+-0x3b3)]=this['w'],_0x205ec7;}};h(Sn,'IDENTITY',Object['freeze'](new Sn(0x775*-0x3+0x3d*-0x11+-0x164*-0x13,0xa*0x227+0x20e*-0x10+0xb5a,-0x26a8+0x98a+0x1d1e*0x1,-0x2076*-0x1+0x1ca+-0x223f))),h(Sn,'ZERO',Object['freeze'](new Sn(-0x2a*0x89+0x1*0x3b9+0x12c1*0x1,-0x78f+0x1*-0x11c7+-0x2e*-0x8d,-0x14fa*-0x1+0x15a*-0x18+0xb76,-0x17*0xd3+-0x2070+-0xdf*-0x3b)));let le=Sn;const Pa=new D(),Ma=new D(),Um=new D(),Bm=new D(),gx=new D();class De{constructor(_0x1cc644,_0x51c42e){h(this,'center',new D()),h(this,'halfExtent'+'s',new D(-0xb5f*0x1+-0x1*0x6d1+0x1230+0.5,-0x250a+0xb2*0x1a+0x97b*0x2+0.5,-0x1d06+-0x1786+0x348c+0.5)),h(this,'_min',new D()),h(this,'_max',new D()),(_0x1cc644&&this['center']['copy'](_0x1cc644),_0x51c42e&&this['halfExtent'+'s']['copy'](_0x51c42e));}['add'](_0x438bcd){const _0x154da2=this['center'],_0x4247e4=_0x154da2['x'],_0x5726ca=_0x154da2['y'],_0x2a6c29=_0x154da2['z'],_0x3f60ab=this['halfExtent'+'s'],_0x4bfeea=_0x3f60ab['x'],_0x5b58df=_0x3f60ab['y'],_0x3775cd=_0x3f60ab['z'];let _0x46d8da=_0x4247e4-_0x4bfeea,_0x420582=_0x4247e4+_0x4bfeea,_0x5d7e38=_0x5726ca-_0x5b58df,_0x55c3b7=_0x5726ca+_0x5b58df,_0x18e718=_0x2a6c29-_0x3775cd,_0x1f1dd6=_0x2a6c29+_0x3775cd;const _0x16b1d4=_0x438bcd['center'],_0x3b6ef6=_0x16b1d4['x'],_0x45b939=_0x16b1d4['y'],_0x822d25=_0x16b1d4['z'],_0x40aacd=_0x438bcd['halfExtent'+'s'],_0xcaab70=_0x40aacd['x'],_0xce1c38=_0x40aacd['y'],_0x25aa4f=_0x40aacd['z'],_0x412bde=_0x3b6ef6-_0xcaab70,_0x8b6f4c=_0x3b6ef6+_0xcaab70,_0x3eaa80=_0x45b939-_0xce1c38,_0x35f899=_0x45b939+_0xce1c38,_0x3f21a8=_0x822d25-_0x25aa4f,_0x26aec7=_0x822d25+_0x25aa4f;_0x412bde<_0x46d8da&&(_0x46d8da=_0x412bde),_0x8b6f4c>_0x420582&&(_0x420582=_0x8b6f4c),_0x3eaa80<_0x5d7e38&&(_0x5d7e38=_0x3eaa80),_0x35f899>_0x55c3b7&&(_0x55c3b7=_0x35f899),_0x3f21a8<_0x18e718&&(_0x18e718=_0x3f21a8),_0x26aec7>_0x1f1dd6&&(_0x1f1dd6=_0x26aec7),_0x154da2['x']=(_0x46d8da+_0x420582)*(0x1*-0x1944+-0x1d6b*0x1+0x1*0x36af+0.5),_0x154da2['y']=(_0x5d7e38+_0x55c3b7)*(0xd5d+0x1b5d+-0x28ba+0.5),_0x154da2['z']=(_0x18e718+_0x1f1dd6)*(0x1*0x1293+-0x1e0f+0xb7c+0.5),_0x3f60ab['x']=(_0x420582-_0x46d8da)*(0x1*-0x1cc9+-0x1916+0x35df+0.5),_0x3f60ab['y']=(_0x55c3b7-_0x5d7e38)*(-0xb*0x235+0xacf+0xd78+0.5),_0x3f60ab['z']=(_0x1f1dd6-_0x18e718)*(-0xacc+-0x2328+0x2df4+0.5);}['copy'](_0x41aead){this['center']['copy'](_0x41aead['center']),this['halfExtent'+'s']['copy'](_0x41aead['halfExtent'+'s']);}['clone'](){return new De(this['center'],this['halfExtent'+'s']);}['intersects'](_0x10d3f8){const _0x35f61a=this['getMax'](),_0x14ad05=this['getMin'](),_0x11dde5=_0x10d3f8['getMax'](),_0x4a9f84=_0x10d3f8['getMin']();return _0x14ad05['x']<=_0x11dde5['x']&&_0x35f61a['x']>=_0x4a9f84['x']&&_0x14ad05['y']<=_0x11dde5['y']&&_0x35f61a['y']>=_0x4a9f84['y']&&_0x14ad05['z']<=_0x11dde5['z']&&_0x35f61a['z']>=_0x4a9f84['z'];}['_intersect'+'sRay'](_0x1c44fe,_0x2678af){const _0x2bf479=Pa['copy'](this['getMin']())['sub'](_0x1c44fe['origin']),_0x21e408=Ma['copy'](this['getMax']())['sub'](_0x1c44fe['origin']),_0x1880cf=_0x1c44fe['direction'];_0x1880cf['x']===0x22d+0x1c4a+-0x1*0x1e77?(_0x2bf479['x']=_0x2bf479['x']<-0x708+-0x352*0x4+0x1450?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x21e408['x']=_0x21e408['x']<-0x1*0x19d5+-0x1a59*0x1+0x1a17*0x2?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x2bf479['x']/=_0x1880cf['x'],_0x21e408['x']/=_0x1880cf['x']),_0x1880cf['y']===0x1ff0+-0xe*0xfd+0x14b*-0xe?(_0x2bf479['y']=_0x2bf479['y']<0x16cb+0xe5c+0x2527*-0x1?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x21e408['y']=_0x21e408['y']<-0x1544*0x1+-0x26*-0xd6+0x4*-0x2a0?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x2bf479['y']/=_0x1880cf['y'],_0x21e408['y']/=_0x1880cf['y']),_0x1880cf['z']===0x1b2*-0x1+-0x7*0x457+-0x1e3*-0x11?(_0x2bf479['z']=_0x2bf479['z']<0x268d+-0x26ea+0x5d?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x21e408['z']=_0x21e408['z']<-0x45*-0x35+-0x40a*-0x2+-0x165d?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x2bf479['z']/=_0x1880cf['z'],_0x21e408['z']/=_0x1880cf['z']);const _0xfa09f=Um['set'](Math['min'](_0x2bf479['x'],_0x21e408['x']),Math['min'](_0x2bf479['y'],_0x21e408['y']),Math['min'](_0x2bf479['z'],_0x21e408['z'])),_0x1a090f=Bm['set'](Math['max'](_0x2bf479['x'],_0x21e408['x']),Math['max'](_0x2bf479['y'],_0x21e408['y']),Math['max'](_0x2bf479['z'],_0x21e408['z'])),_0x55069d=Math['min'](Math['min'](_0x1a090f['x'],_0x1a090f['y']),_0x1a090f['z']),_0x1ee613=Math['max'](Math['max'](_0xfa09f['x'],_0xfa09f['y']),_0xfa09f['z']),_0x43ec54=_0x55069d>=_0x1ee613&&_0x1ee613>=0x973+0x33d+0x8*-0x196;return _0x43ec54&&_0x2678af['copy'](_0x1c44fe['direction'])['mulScalar'](_0x1ee613)['add'](_0x1c44fe['origin']),_0x43ec54;}['_fastInter'+'sectsRay'](_0x1a580b){const _0x7e2009=Pa,_0x228862=Ma,_0x4aa395=Um,_0x15de78=Bm,_0x3540f7=gx,_0x3b92ca=_0x1a580b['direction'];return _0x7e2009['sub2'](_0x1a580b['origin'],this['center']),_0x15de78['set'](Math['abs'](_0x7e2009['x']),Math['abs'](_0x7e2009['y']),Math['abs'](_0x7e2009['z'])),_0x4aa395['mul2'](_0x7e2009,_0x3b92ca),!(_0x15de78['x']>this['halfExtent'+'s']['x']&&_0x4aa395['x']>=-0x5e+-0x558+-0x11*-0x56||_0x15de78['y']>this['halfExtent'+'s']['y']&&_0x4aa395['y']>=0x1529+0x39*-0x27+-0xc7a*0x1||_0x15de78['z']>this['halfExtent'+'s']['z']&&_0x4aa395['z']>=0x50b+-0x1c63+0x1758||(_0x3540f7['set'](Math['abs'](_0x3b92ca['x']),Math['abs'](_0x3b92ca['y']),Math['abs'](_0x3b92ca['z'])),_0x228862['cross'](_0x3b92ca,_0x7e2009),_0x228862['set'](Math['abs'](_0x228862['x']),Math['abs'](_0x228862['y']),Math['abs'](_0x228862['z'])),_0x228862['x']>this['halfExtent'+'s']['y']*_0x3540f7['z']+this['halfExtent'+'s']['z']*_0x3540f7['y'])||_0x228862['y']>this['halfExtent'+'s']['x']*_0x3540f7['z']+this['halfExtent'+'s']['z']*_0x3540f7['x']||_0x228862['z']>this['halfExtent'+'s']['x']*_0x3540f7['y']+this['halfExtent'+'s']['y']*_0x3540f7['x']);}['intersects'+'Ray'](_0x40cbed,_0x340edb){return _0x340edb?this['_intersect'+'sRay'](_0x40cbed,_0x340edb):this['_fastInter'+'sectsRay'](_0x40cbed);}['setMinMax'](_0xd533c4,_0x503f1b){this['center']['add2'](_0x503f1b,_0xd533c4)['mulScalar'](0x1ec7+0x18cd+0x2*-0x1bca+0.5),this['halfExtent'+'s']['sub2'](_0x503f1b,_0xd533c4)['mulScalar'](-0x40f*-0x5+0x34b*0x3+0x1e2c*-0x1+0.5);}['getMin'](){return this['_min']['copy'](this['center'])['sub'](this['halfExtent'+'s']);}['getMax'](){return this['_max']['copy'](this['center'])['add'](this['halfExtent'+'s']);}['containsPo'+'int'](_0x58fb0a){const _0x4cc18b=this['getMin'](),_0x3fd1c6=this['getMax']();return!(_0x58fb0a['x']<_0x4cc18b['x']||_0x58fb0a['x']>_0x3fd1c6['x']||_0x58fb0a['y']<_0x4cc18b['y']||_0x58fb0a['y']>_0x3fd1c6['y']||_0x58fb0a['z']<_0x4cc18b['z']||_0x58fb0a['z']>_0x3fd1c6['z']);}['setFromTra'+'nsformedAa'+'bb'](_0x13458e,_0x5c0ecd,_0x581c1=!(0x7*-0xe2+-0xf*-0x5+0x5e4)){const _0x153625=_0x13458e['center'],_0x192dd0=_0x13458e['halfExtent'+'s'],_0x162266=_0x5c0ecd['data'];let _0x334b4d=_0x162266[0x13*0xad+0x128+-0xdff],_0x1b6d3f=_0x162266[0x44f*0x8+0x9c1*-0x1+-0x18b3],_0x4e018b=_0x162266[-0x2504+0x799+0x1*0x1d73],_0x3fc16d=_0x162266[0x734+-0x1*0x162a+0xef7],_0x116b16=_0x162266[0x1440+-0x1dc+0x1*-0x125f],_0x56514a=_0x162266[-0x1*0x1615+0xa03+0xc1b],_0x56c2f7=_0x162266[0x1c8b+0x2397+-0x4020],_0x50b7c1=_0x162266[-0xe4d*0x1+-0x104b+0x1e9e],_0x1f4bcd=_0x162266[0xc41+0x289+0x20*-0x76];if(_0x581c1){let _0x4f764b=_0x334b4d*_0x334b4d+_0x1b6d3f*_0x1b6d3f+_0x4e018b*_0x4e018b;if(_0x4f764b>0x151*0x17+0x1*0x51f+0x2366*-0x1){const _0x1becb6=(-0x1370+-0x2*-0x443+-0xaeb*-0x1)/Math['sqrt'](_0x4f764b);_0x334b4d*=_0x1becb6,_0x1b6d3f*=_0x1becb6,_0x4e018b*=_0x1becb6;}if(_0x4f764b=_0x3fc16d*_0x3fc16d+_0x116b16*_0x116b16+_0x56514a*_0x56514a,_0x4f764b>-0xa*0x20b+-0x14ed*0x1+0x295b){const _0x26d729=(0x13*0x1d+-0x1c41+-0xa3*-0x29)/Math['sqrt'](_0x4f764b);_0x3fc16d*=_0x26d729,_0x116b16*=_0x26d729,_0x56514a*=_0x26d729;}if(_0x4f764b=_0x56c2f7*_0x56c2f7+_0x50b7c1*_0x50b7c1+_0x1f4bcd*_0x1f4bcd,_0x4f764b>0xc50+-0x3c8+0x1c*-0x4e){const _0x87d075=(-0x119a+0x83d+0x95e)/Math['sqrt'](_0x4f764b);_0x56c2f7*=_0x87d075,_0x50b7c1*=_0x87d075,_0x1f4bcd*=_0x87d075;}}this['center']['set'](_0x162266[-0x2413+0x4c5+0x1*0x1f5a]+_0x334b4d*_0x153625['x']+_0x1b6d3f*_0x153625['y']+_0x4e018b*_0x153625['z'],_0x162266[0x1d68+-0x1ad4+-0x287]+_0x3fc16d*_0x153625['x']+_0x116b16*_0x153625['y']+_0x56514a*_0x153625['z'],_0x162266[-0x2b8+0xe4b+-0x3*0x3d7]+_0x56c2f7*_0x153625['x']+_0x50b7c1*_0x153625['y']+_0x1f4bcd*_0x153625['z']),this['halfExtent'+'s']['set'](Math['abs'](_0x334b4d)*_0x192dd0['x']+Math['abs'](_0x1b6d3f)*_0x192dd0['y']+Math['abs'](_0x4e018b)*_0x192dd0['z'],Math['abs'](_0x3fc16d)*_0x192dd0['x']+Math['abs'](_0x116b16)*_0x192dd0['y']+Math['abs'](_0x56514a)*_0x192dd0['z'],Math['abs'](_0x56c2f7)*_0x192dd0['x']+Math['abs'](_0x50b7c1)*_0x192dd0['y']+Math['abs'](_0x1f4bcd)*_0x192dd0['z']);}static['computeMin'+'Max'](_0x240bda,_0x145f7d,_0x1fba8b,_0x3ae35f=_0x240bda['length']/(-0x17*-0x13+-0x144*-0x2+0x2*-0x21d)){if(_0x3ae35f>0x759+0x1*0x1519+-0x1c72){let _0x177e89=_0x240bda[-0x449*-0x3+-0x1*0x24d7+-0x266*-0xa],_0x5b0e7f=_0x240bda[0x150d+0x23ce+-0x38da],_0x48f5fb=_0x240bda[-0x1f0*0x5+-0x541+0xef3],_0x582e31=_0x177e89,_0x1c9dfb=_0x5b0e7f,_0x16454d=_0x48f5fb;const _0x1e3374=_0x3ae35f*(0x53*0x5e+-0x1*0x16be+0x7b9*-0x1);for(let _0x5ae574=0x86b*0x2+-0x1fbe+0xeeb;_0x5ae574<_0x1e3374;_0x5ae574+=-0x3be+0x2*0xd0a+-0x1653){const _0x129dd5=_0x240bda[_0x5ae574],_0x252b2c=_0x240bda[_0x5ae574+(-0x9*0x3e1+0x17d1+0xb19)],_0x7c6390=_0x240bda[_0x5ae574+(-0xc1f+-0x7c1*0x2+0x1ba3)];_0x129dd5<_0x177e89&&(_0x177e89=_0x129dd5),_0x252b2c<_0x5b0e7f&&(_0x5b0e7f=_0x252b2c),_0x7c6390<_0x48f5fb&&(_0x48f5fb=_0x7c6390),_0x129dd5>_0x582e31&&(_0x582e31=_0x129dd5),_0x252b2c>_0x1c9dfb&&(_0x1c9dfb=_0x252b2c),_0x7c6390>_0x16454d&&(_0x16454d=_0x7c6390);}_0x145f7d['set'](_0x177e89,_0x5b0e7f,_0x48f5fb),_0x1fba8b['set'](_0x582e31,_0x1c9dfb,_0x16454d);}}['compute'](_0xff8da5,_0x3048d0){De['computeMin'+'Max'](_0xff8da5,Pa,Ma,_0x3048d0),this['setMinMax'](Pa,Ma);}['intersects'+'BoundingSp'+'here'](_0x3a4fae){return this['_distanceT'+'oBoundingS'+'phereSq'](_0x3a4fae)<=_0x3a4fae['radius']*_0x3a4fae['radius'];}['_distanceT'+'oBoundingS'+'phereSq'](_0x208ea4){const _0x290a78=this['getMin'](),_0x36aa0e=this['getMax']();let _0x35cc49=0x651+0x1148+-0x1*0x1799;const _0x202ce1=['x','y','z'];for(let _0xbcb169=-0x24c1+-0x2de*-0x2+0x1f05*0x1;_0xbcb169<-0x147d+-0xb40+0x1fc0;++_0xbcb169){let _0x45024d=0x26*0x31+0x2e*-0x23+-0xfc;const _0x1e1523=_0x208ea4['center'][_0x202ce1[_0xbcb169]],_0x5efc28=_0x290a78[_0x202ce1[_0xbcb169]],_0x549003=_0x36aa0e[_0x202ce1[_0xbcb169]];let _0x1dea8a=-0x38*0xae+0x9*-0x313+-0x3*-0x15e9;_0x1e1523<_0x5efc28&&(_0x1dea8a=_0x5efc28-_0x1e1523,_0x45024d+=_0x1dea8a*_0x1dea8a),_0x1e1523>_0x549003&&(_0x1dea8a=_0x1e1523-_0x549003,_0x45024d+=_0x1dea8a*_0x1dea8a),_0x35cc49+=_0x45024d;}return _0x35cc49;}['_expand'](_0x48d100,_0x3e7a3b){Pa['add2'](this['getMin'](),_0x48d100),Ma['add2'](this['getMax'](),_0x3e7a3b),this['setMinMax'](Pa,Ma);}}const Wl=new D(),Sx=new D();class sp{constructor(_0x185f71=new D(),_0x387e7d=-0x10*-0x231+-0x889+-0x1*0x1a87+0.5){h(this,'center'),h(this,'radius'),(w['assert'](!Object['isFrozen'](_0x185f71),'The\x20constr'+'uctor\x20of\x20\x27'+'BoundingSp'+'here\x27\x20does'+'\x20not\x20accep'+'t\x20a\x20consta'+'nt\x20(frozen'+')\x20object\x20a'+'s\x20a\x20\x27cente'+'r\x27\x20paramet'+'er'),this['center']=_0x185f71,this['radius']=_0x387e7d);}['containsPo'+'int'](_0x4f4121){const _0x3c20b5=Wl['sub2'](_0x4f4121,this['center'])['lengthSq'](),_0x23c645=this['radius'];return _0x3c20b5<_0x23c645*_0x23c645;}['intersects'+'Ray'](_0x12a85f,_0x4dfa3d){const _0x5761c8=Wl['copy'](_0x12a85f['origin'])['sub'](this['center']),_0x41e7f2=_0x5761c8['dot'](Sx['copy'](_0x12a85f['direction'])['normalize']()),_0x36df9e=_0x5761c8['dot'](_0x5761c8)-this['radius']*this['radius'];if(_0x36df9e>-0x55a*0x2+0x1*-0x98e+-0x1*-0x1442&&_0x41e7f2>-0x1a*-0xa3+-0x2331+0x12a3)return!(0x318+0x248e+0x27a5*-0x1);const _0x21e760=_0x41e7f2*_0x41e7f2-_0x36df9e;if(_0x21e760<0x37d*0x1+-0x9c2+0x645)return!(-0x193d*-0x1+-0x1702+-0x23a);const _0x5a85e7=Math['abs'](-_0x41e7f2-Math['sqrt'](_0x21e760));return _0x4dfa3d&&_0x4dfa3d['copy'](_0x12a85f['direction'])['mulScalar'](_0x5a85e7)['add'](_0x12a85f['origin']),!(-0xe1e+-0x65f+0x147d);}['intersects'+'BoundingSp'+'here'](_0x40271c){Wl['sub2'](_0x40271c['center'],this['center']);const _0x23f5c5=_0x40271c['radius']+this['radius'];return Wl['lengthSq']()<=_0x23f5c5*_0x23f5c5;}}class QS{constructor(_0x2742fe=D['UP'],_0x49c08a=-0x1598+0xe96+0x45*0x1a){h(this,'normal',new D()),h(this,'distance'),(this['normal']['copy'](_0x2742fe),this['distance']=_0x49c08a);}['clone'](){const _0x5944b0=this['constructo'+'r'];return new _0x5944b0()['copy'](this);}['copy'](_0x40206f){return this['normal']['copy'](_0x40206f['normal']),this['distance']=_0x40206f['distance'],this;}['intersects'+'Line'](_0x39a943,_0xbe38b2,_0x472aec){const _0x2cfdac=this['distance'],_0x1f9450=this['normal']['dot'](_0x39a943)+_0x2cfdac,_0x401d91=this['normal']['dot'](_0xbe38b2)+_0x2cfdac,_0x140be2=_0x1f9450/(_0x1f9450-_0x401d91),_0x4786b3=_0x140be2>=-0x6ee+-0xb8*0x6+0xb3e&&_0x140be2<=0x10*0x251+0x1417+0x82a*-0x7;return _0x4786b3&&_0x472aec&&_0x472aec['lerp'](_0x39a943,_0xbe38b2,_0x140be2),_0x4786b3;}['intersects'+'Ray'](_0x5bf404,_0x3f09dc){const _0x507386=this['normal']['dot'](_0x5bf404['direction']);if(_0x507386===0x6e3+0x3*0x82d+-0x1f6a)return!(-0x1*0xb63+0x1b6c+-0x1008);const _0x4768fb=-(this['normal']['dot'](_0x5bf404['origin'])+this['distance'])/_0x507386;return _0x4768fb>=-0x878*-0x1+-0x491+-0x3e7&&_0x3f09dc&&_0x3f09dc['copy'](_0x5bf404['direction'])['mulScalar'](_0x4768fb)['add'](_0x5bf404['origin']),_0x4768fb>=0x1*-0x1e29+0x4a*-0x56+-0x9*-0x61d;}['normalize'](){const _0x5bc0bb=(0x943*-0x2+0x268a+-0x1403)/this['normal']['length']();return this['normal']['mulScalar'](_0x5bc0bb),this['distance']*=_0x5bc0bb,this;}['set'](_0x3fefac,_0x4d2ac5,_0xa04ef7,_0x15b9ba){return this['normal']['set'](_0x3fefac,_0x4d2ac5,_0xa04ef7),this['distance']=_0x15b9ba,this;}['setFromPoi'+'ntNormal'](_0x33ec1f,_0x1b3194){return this['normal']['copy'](_0x1b3194),this['distance']=-this['normal']['dot'](_0x33ec1f),this;}}class yx{constructor(){h(this,'planes',[]);for(let _0x490eda=0x728+-0x905+0x1dd;_0x490eda<0x5*0x650+0xb*-0x2f+0x3*-0x9d7;_0x490eda++)this['planes'][_0x490eda]=new QS();}['clone'](){const _0x2880ac=this['constructo'+'r'];return new _0x2880ac()['copy'](this);}['copy'](_0x1efa25){for(let _0x5697e1=-0x1f*0x29+0x1c5d+-0x1766;_0x5697e1<0x2*-0x12d1+-0xdcf+-0x1*-0x3377;_0x5697e1++)this['planes'][_0x5697e1]['copy'](_0x1efa25['planes'][_0x5697e1]);return this;}['setFromMat'+'4'](_0x38345e){const [_0x5c5e23,_0x1ff5b4,_0x2c01a1,_0x2fd251,_0x1d21bc,_0x5854ef,_0x216aee,_0x124cad,_0x334b31,_0x58b071,_0x1d1cea,_0x5ad1fa,_0x1d42bd,_0x94731b,_0x330023,_0x561d88]=_0x38345e['data'],_0x20fccf=this['planes'];_0x20fccf[-0x5f*-0x43+0xd*0x169+-0x2b32*0x1]['set'](_0x2fd251-_0x5c5e23,_0x124cad-_0x1d21bc,_0x5ad1fa-_0x334b31,_0x561d88-_0x1d42bd)['normalize'](),_0x20fccf[0x5*-0x647+0xbe1*-0x1+0x2b45]['set'](_0x2fd251+_0x5c5e23,_0x124cad+_0x1d21bc,_0x5ad1fa+_0x334b31,_0x561d88+_0x1d42bd)['normalize'](),_0x20fccf[-0x1e6e+0x12f4+0xb7c]['set'](_0x2fd251+_0x1ff5b4,_0x124cad+_0x5854ef,_0x5ad1fa+_0x58b071,_0x561d88+_0x94731b)['normalize'](),_0x20fccf[0x14fe+-0x956+-0xba5]['set'](_0x2fd251-_0x1ff5b4,_0x124cad-_0x5854ef,_0x5ad1fa-_0x58b071,_0x561d88-_0x94731b)['normalize'](),_0x20fccf[-0x1141*-0x1+0x4*0xb3+0x1*-0x1409]['set'](_0x2fd251-_0x2c01a1,_0x124cad-_0x216aee,_0x5ad1fa-_0x1d1cea,_0x561d88-_0x330023)['normalize'](),_0x20fccf[-0x9*-0x315+-0x23f2+0x83a]['set'](_0x2fd251+_0x2c01a1,_0x124cad+_0x216aee,_0x5ad1fa+_0x1d1cea,_0x561d88+_0x330023)['normalize']();}['containsPo'+'int'](_0xebdead){for(let _0x4d1f5d=0x2650+0x18bb+-0x1*0x3f0b;_0x4d1f5d<-0x8e4+-0x12f8*0x1+-0x1*-0x1be2;_0x4d1f5d++){const {normal:_0x254ad9,distance:_0x30fff8}=this['planes'][_0x4d1f5d];if(_0x254ad9['dot'](_0xebdead)+_0x30fff8<=0x2f5*-0x1+-0xcd*0x4+0x629)return!(-0x85c+0x700+0x15d);}return!(-0x6*0x43b+0x1b55+-0x1f3);}['containsSp'+'here'](_0xce3b2){const {center:_0x5f0163,radius:_0x2ec16}=_0xce3b2;let _0x48a650=-0xd68+0x1c+0xd4c;for(let _0x5db6bb=0x2114+-0x1*0x9d7+-0x9*0x295;_0x5db6bb<0x1d*0x48+0x16*0x76+-0x1246;_0x5db6bb++){const {normal:_0x291c71,distance:_0x8eded2}=this['planes'][_0x5db6bb],_0x556d92=_0x291c71['dot'](_0x5f0163)+_0x8eded2;if(_0x556d92<=-_0x2ec16)return 0x1deb+-0x1b6b*0x1+-0x280;_0x556d92>_0x2ec16&&_0x48a650++;}return _0x48a650===-0x1021+-0x1*-0x2410+-0x13e9?0x1*-0xdb6+-0xce+0xe86:0x566*0x2+-0x741+0x97*-0x6;}}class Dn{constructor(_0x14e113,_0x2a81f7){h(this,'origin',new D()),h(this,'direction',D['FORWARD']['clone']()),(_0x14e113&&this['origin']['copy'](_0x14e113),_0x2a81f7&&this['direction']['copy'](_0x2a81f7));}['set'](_0x35b335,_0x4adbec){return this['origin']['copy'](_0x35b335),this['direction']['copy'](_0x4adbec),this;}['copy'](_0x29d650){return this['set'](_0x29d650['origin'],_0x29d650['direction']);}['clone'](){return new this['constructo'+'r'](this['origin'],this['direction']);}}const yt=-0xd*0x1a+-0x2550*-0x1+-0x23fe,ue=-0x116a+-0x2*0x11d1+0x1b*0x1f7,ip=0x1*-0x2527+-0x1*-0xb92+0x1997*0x1,rp=-0x126f+0x1b72+-0x1*0x903,Ft=-0x332*0x5+-0x1*0x1c43+-0xe*-0x329,vx=-0x861+0xddf*0x2+-0x135b,JS=-0x1c28+0x1*0x18b7+-0x127*-0x3,xx=0x13bc+-0x43*0x10+-0xf87,jh=-0x7b*-0x43+0x83f*0x3+-0x38e8,Yh=0x102d*0x1+-0x2217+0x11f2,fs=-0x36a+-0xabd*-0x1+-0x19*0x4b,Tx=0x1947+-0x21f*-0x1+-0x1b64,wx=0xfdd*-0x1+-0x1*-0x13f3+-0x413,Ex=-0x13*-0x103+-0x20be+-0x2d*-0x4d,ms=-0xa*-0x187+0x2468+-0x33ae,lh=0x7a1+-0x222d+-0x3cb*-0x7,ey=0x411*0x3+0x19b1*0x1+-0x25e2,bx=-0x303*-0x6+0x1*0x1a5e+-0x2c6d,jo=0x1*-0xae+-0x14d7*-0x1+-0x1428,Yo=0x224b+0x16e*0x13+-0x3d73,ch=-0x1b0+-0x18e4+0x1a98,bt=0x1c8+0x1538+-0xb8*0x20,pa=0x169b+-0x4*0xb1+-0x13d6,Fo=-0x12aa+0x2*0xe9d+-0xa8e,Ax=-0x730+0x176e+0x33f*-0x5,Te=0xc*0x15+0x1*-0x22b5+0x21b9,vt=-0x1271+-0x15*0x9+0x132f,Kh=-0x26fe*0x1+-0x885+0x2f85,Zh=0x2408+-0x22e2+-0x123,Qh=-0x256*-0xb+0x23f7+-0x3da5,ma=0x2*0x762+0x180e+-0x26cd,Cx=-0x13*0x55+0x1*0xeed+-0x89e,hh=0x149e+-0xd*-0xf7+-0x2128,dh=0x11ae+0x18*0x37+0x3ce*-0x6,Wf=-0x1a28+-0x844*0x2+0x2ab3,Px=-0x21d5+-0x153*-0x3+0x2*0xef0,Mx=0x2420*0x1+-0x1b15*-0x1+0x7e6*-0x8,Dx=0x112b*0x1+0xdd0+-0x1ef5,Wi=0x683*0x1+0x3fb*-0x5+0xd6b,$f=-0xe*-0x233+-0x1701*0x1+-0x7c9*0x1,Yi=0x26*-0xf4+0xb2*0x26+-0xd*-0xc1,wr=0x3c5*0x8+0x21a0+-0x3fc6,ty=-0x1264+0x7d4*0x3+0x8*-0xa3,sy=-0x1*-0x252d+-0x91d+-0x1c0f,ap=0x3d*-0x6+0xf7b*-0x1+0x10eb,Jh=0x1fbb+0x10a9+0x3061*-0x1,np=0x85+0x1*0x1885+-0x1906,ed=0x8f8+0x791+-0x1084,Cr=0x1*-0x1487+-0x1b75+0x5*0x99a,Ne=-0x1464+-0xc47+0x20b2,td=-0x1153*-0x2+0x1d70+0x155a*-0x3,op=0x1f7*0x3+-0xc69+-0x3*-0x22f,vl=-0x45d+-0x2504+-0x17*-0x1cd,ui=0x781*0x5+-0x1a37+-0xb43,nt=0x145+-0x4cd*-0x2+-0xa3*0x11,Ye=0x1*-0x127f+-0xc31*0x2+0x23*0x13a,Xt=0xa*-0x2cb+-0x100e+0x757*0x6,Ji=0x20b*0x13+0x3*-0xc6f+-0x175,$i=0x1*-0x389+-0x5*-0x512+-0x15c1,sd=0x1745+0x74d*0x1+-0x39*0x89,In=0x1ac2+0x1dbc+-0x386c*0x1,lp=0x5*0x407+0x599*0x2+-0x2*0xfa1,_s=-0x16f+0x1e9d*0x1+-0x1d1a,id=-0x15d1+-0x12ef+0x28d5,cp=0x45*-0x23+-0xb76+0x14fb,hp=-0x2535+-0x1ea6*-0x1+-0x25*-0x2e,xl=-0x527*0x3+-0x2593*0x1+0x3520,Tl=-0x19b9+-0x1*-0x229d+0x1*-0x8cb,rd=-0x7*0x382+-0x26f8+0x10*0x3fa,ad=-0x1c*0x106+0x1442+-0x1*-0x881,iy=0xb*0xed+-0x6c2+0x11b*-0x3,ry=0x136b*0x1+0x2278+-0x35c6,ay=0x7*0x5+-0x3*0xc67+0x2530,ny=-0x1604+0x1d64+-0x3*0x26b,dp=-0x1b35+0xcbc+0xe99,oy=0x1a6a+0x148a+-0x2ed3,fp=-0xfc8+0x7*-0x329+0x2609,up=-0x2226+-0x21ac+0x43f5,pp=0x2641*0x1+0x15a2+-0x3bbf*0x1,Ki=0x2cb*0xb+0x23f+-0x20d3,mp=0x52+0x1cf3+-0x5d3*0x5,ly=-0x5*-0x28a+-0xe20+0x195,_p=0x131e*0x2+0x5*0x397+-0x3807*0x1,gp=0x182*-0xb+-0x2575+-0xd8d*-0x4,Sp=-0xb5*0x14+0x1dfc*-0x1+0x2c4a,yp=0x587*0x3+0x142c+-0x2496,vp=-0x17a7+-0x455*-0x3+0xad4,cy=-0x1e90+0x3be*0x2+-0x1741*-0x1,xp=0x1db7*0x1+0xa91*-0x1+-0x2*0x97c,nd=0x968+0x94d*-0x4+-0x13*-0x179,Tp=-0x16dd+-0xbd2+0x4f*0x71,Ue=0x8d1+0x1*-0x1f1b+0x47f*0x5,od=0x1a86+0x1ce6+0x1*-0x373a,wp=0x2c7+-0x4b5+0x221,Ep=-0x1cdd+0x10c3+-0x2d*-0x46,bp=-0x1*-0x1439+-0x4b1+0x1*-0xf53,Xf=0x5*-0x614+0x1*-0x5+0x75*0x43,qf=-0x1878+-0x17db+0x308a,jf=-0x3*0xd+-0x1d7*-0xd+-0x178c,Yf=0x15e2+0x22f0+-0x3895,Kf=-0x1b4a+-0x3dd*0x2+0x2342,Zf=-0x2*-0x49f+-0xa*0xa+-0x89b,hy=0x2569+0x1*0x20e3+0x2*-0x2306,dy=-0x157f+0x1c4c*0x1+-0x68c,fy=-0x1711+0xf7c+0x7d7*0x1,uy=0x1*0x111+0x1*0xc3b+-0xd09,Qf=0x20db*-0x1+-0xa8d+0x2bac,vn=-0x1*0x226c+-0x4a0*-0x6+0x6f1,Nt=new Map([[ty,{'name':'A8','size':0x1,'ldr':!(0x1*-0x16f4+-0x8b*0x3b+0x36fd)}],[Ep,{'name':'R8','size':0x1,'ldr':!(0xf1d+0x71e+0x3*-0x769)}],[sy,{'name':'L8','size':0x1,'ldr':!(-0x1787+0x2*-0x10ba+0x38fb)}],[ap,{'name':'LA8','size':0x2,'ldr':!(-0x1602+0x789+0xc3*0x13)}],[bp,{'name':'RG8','size':0x2,'ldr':!(-0x1ebe+-0x2027*-0x1+-0x169)}],[Jh,{'name':'RGB565','size':0x2,'ldr':!(-0x12c4+-0x151f+0x27e3*0x1)}],[np,{'name':'RGBA5551','size':0x2,'ldr':!(-0x1d71+-0x7*-0x269+0xc92)}],[ed,{'name':'RGBA4','size':0x2,'ldr':!(-0x914*0x1+0x2*-0x898+-0x4*-0x691)}],[Cr,{'name':'RGB8','size':0x4,'ldr':!(0x3f5*-0x4+-0x2508+0x34dc)}],[Ne,{'name':'RGBA8','size':0x4,'ldr':!(0x2*0x10fd+-0x1ca3+-0x557),'srgbFormat':_s}],[od,{'name':'R16F','size':0x2}],[wp,{'name':'RG16F','size':0x4}],[ui,{'name':'RGB16F','size':0x8}],[nt,{'name':'RGBA16F','size':0x8}],[Ye,{'name':'RGB32F','size':0x10}],[Xt,{'name':'RGBA32F','size':0x10}],[Ji,{'name':'R32F','size':0x4}],[$i,{'name':'DEPTH','size':0x4}],[vn,{'name':'DEPTH16','size':0x2}],[sd,{'name':'DEPTHSTENC'+'IL','size':0x4}],[In,{'name':'111110F','size':0x4}],[lp,{'name':'SRGB8','size':0x4,'ldr':!(-0xc56+-0x11f1+0x1e47),'srgb':!(0x1*-0x3d5+0x227c+-0x1ea7)}],[_s,{'name':'SRGBA8','size':0x4,'ldr':!(0x5*-0x4b2+0x120+-0x165a*-0x1),'srgb':!(-0xb04+-0x4f*-0x3b+-0x731)}],[ny,{'name':'BGRA8','size':0x4,'ldr':!(-0x1ae4+-0x12c+0x382*0x8)}],[hy,{'name':'SBGRA8','size':0x4,'ldr':!(0x78d+0xeae+-0x163b),'srgb':!(-0xc8b+-0x11*-0xac+0x11f)}],[td,{'name':'DXT1','blockSize':0x8,'ldr':!(0x1e29+0x2046+-0x3e6f),'srgbFormat':Xf}],[op,{'name':'DXT3','blockSize':0x10,'ldr':!(-0x6fd*0x1+-0xc7*0x17+-0x18de*-0x1),'srgbFormat':qf}],[vl,{'name':'DXT5','blockSize':0x10,'ldr':!(-0x867+0x1*-0x78d+0x3fd*0x4),'srgbFormat':jf}],[id,{'name':'ETC1','blockSize':0x8,'ldr':!(0x18d*-0x2+0x208b*-0x1+-0x7d*-0x49)}],[cp,{'name':'ETC2_RGB','blockSize':0x8,'ldr':!(-0x2ad*0x1+-0x36d*-0x1+-0xc0),'srgbFormat':Yf}],[hp,{'name':'ETC2_RGBA','blockSize':0x10,'ldr':!(0x1979+0x38*-0x23+-0x1*0x11d1),'srgbFormat':Kf}],[xl,{'name':'PVRTC_2BPP'+'_RGB_1','ldr':!(0x8f*0xb+-0x419*0x9+-0x2*-0xf5e),'blockSize':0x8}],[Tl,{'name':'PVRTC_2BPP'+'_RGBA_1','ldr':!(-0x64c*0x3+-0x5ae+0x1892),'blockSize':0x8}],[rd,{'name':'PVRTC_4BPP'+'_RGB_1','ldr':!(-0x1be6+0x1*-0x1f8e+0x1dba*0x2),'blockSize':0x8}],[ad,{'name':'PVRTC_4BPP'+'_RGBA_1','ldr':!(-0x26a9+0xc2a+-0x1*-0x1a7f),'blockSize':0x8}],[iy,{'name':'ASTC_4x4','blockSize':0x10,'ldr':!(0xb50+0x25*0xe9+-0x2cfd),'srgbFormat':Zf}],[ry,{'name':'ATC_RGB','blockSize':0x8,'ldr':!(0x1e5e+0xa89+0x1*-0x28e7)}],[ay,{'name':'ATC_RGBA','blockSize':0x10,'ldr':!(0x1af*-0x13+0x3ab+-0xfa*-0x1d)}],[dy,{'name':'BC6H_RGBF','blockSize':0x10}],[fy,{'name':'BC6H_RGBUF','blockSize':0x10}],[uy,{'name':'BC7_RGBA','blockSize':0x10,'ldr':!(0x2*0xd83+0xb81+-0x2687),'srgbFormat':Qf}],[Xf,{'name':'DXT1_SRGB','blockSize':0x8,'ldr':!(0x1189*-0x1+-0x16c+0x17*0xd3),'srgb':!(0x220f+0x2157+0x21b3*-0x2)}],[qf,{'name':'DXT3_SRGBA','blockSize':0x10,'ldr':!(-0x166+-0x1b*0xd+-0x2c5*-0x1),'srgb':!(0x24a2+-0x1ca6+0x7*-0x124)}],[jf,{'name':'DXT5_SRGBA','blockSize':0x10,'ldr':!(0x1c75+0x3*-0x727+-0x20*0x38),'srgb':!(-0x16*-0x136+-0xd*-0x1bb+-0x3123)}],[Yf,{'name':'ETC2_SRGB','blockSize':0x8,'ldr':!(0x430+0x1*-0x1ab+-0x3*0xd7),'srgb':!(0x1b2*-0xd+0x2*0x6a5+0x8c0)}],[Kf,{'name':'ETC2_SRGBA','blockSize':0x10,'ldr':!(-0x155a+0x1aca+-0x570),'srgb':!(0x1*0x18ee+0x6*0x3be+-0x97a*0x5)}],[Zf,{'name':'ASTC_4x4_S'+'RGB','blockSize':0x10,'ldr':!(0x1*0xafe+0xdaf+-0x18ad),'srgb':!(0x1b39+0x13da+-0x2f13)}],[Qf,{'name':'BC7_SRGBA','blockSize':0x10,'ldr':!(0x13+-0x2ce+0x3*0xe9),'srgb':!(0x178*-0x10+-0x1b11+0xa1d*0x5)}],[dp,{'name':'R8I','size':0x1,'isInt':!(0x176c+0x3c*0x9c+-0x4*0xeff)}],[oy,{'name':'R8U','size':0x1,'isInt':!(0x1d00+0x626+0x332*-0xb)}],[fp,{'name':'R16I','size':0x2,'isInt':!(-0x22c9+-0x223d+-0x136*-0x39)}],[up,{'name':'R16U','size':0x2,'isInt':!(0x18c1+0x2615+-0x3ed6)}],[pp,{'name':'R32I','size':0x4,'isInt':!(-0x22*-0xd6+-0x1*0x1a8d+-0x1*0x1df)}],[Ki,{'name':'R32U','size':0x4,'isInt':!(0x31*0x99+0x4*0x63d+-0x1*0x363d)}],[mp,{'name':'RG8I','size':0x2,'isInt':!(-0x5*-0x593+-0x1363*-0x1+-0x2f42)}],[ly,{'name':'RG8U','size':0x2,'isInt':!(-0x83e+-0x1274+0x1ab2)}],[_p,{'name':'RG16I','size':0x4,'isInt':!(-0xcc5+0x17e8+-0xb23)}],[gp,{'name':'RG16U','size':0x4,'isInt':!(0x4*0x7ef+-0x8f1*-0x4+-0x4380)}],[Sp,{'name':'RG32I','size':0x8,'isInt':!(-0x28d*-0xf+0x7cb+-0x2e0e)}],[yp,{'name':'RG32U','size':0x8,'isInt':!(0x24e9+0x499*0x5+-0x3be6)}],[vp,{'name':'RGBA8I','size':0x4,'isInt':!(0x191f+0x1fd3+-0x1c79*0x2)}],[cy,{'name':'RGBA8U','size':0x4,'isInt':!(0x2e+-0xcc2+-0x4*-0x325)}],[xp,{'name':'RGBA16I','size':0x8,'isInt':!(-0x2317+-0x2*0x102+0x251b*0x1)}],[nd,{'name':'RGBA16U','size':0x8,'isInt':!(-0x1160+0x1*0x135d+-0x1fd)}],[Tp,{'name':'RGBA32I','size':0x10,'isInt':!(0x119*-0x9+-0x3c0+-0xda1*-0x1)}],[Ue,{'name':'RGBA32U','size':0x10,'isInt':!(-0x55e+-0xcb*0x19+0x1931*0x1)}]]),Ix=_0x46e639=>{var _0x4a2e34;return((_0x4a2e34=Nt['get'](_0x46e639))==null?void(-0x4d+0x50c+0x1*-0x4bf):_0x4a2e34['blockSize'])!==void(-0x198d*-0x1+0xa80+0x347*-0xb);},fh=_0x32fa8b=>{var _0xe93fc9;return((_0xe93fc9=Nt['get'](_0x32fa8b))==null?void(-0x5*0x71d+0x157*-0x7+0x2cf2):_0xe93fc9['srgb'])===!(0x7bf*-0x1+0x1632+0x9*-0x19b);},dn=_0x5a2dce=>{var _0x16b085;return((_0x16b085=Nt['get'](_0x5a2dce))==null?void(0x1*-0x79f+-0x165a+-0x1*-0x1df9):_0x16b085['isInt'])===!(0x1d22+0x5a6+0x5cc*-0x6);},ld=_0x3b8cec=>{var _0x51d52c;return((_0x51d52c=Nt['get'](_0x3b8cec))==null?void(-0x9*-0x8b+0x562*0x2+-0xfa7):_0x51d52c['srgbFormat'])||_0x3b8cec;},Lx=_0xe0cee6=>{for(const [_0x1d99b1,_0x3cb815]of Nt)if(_0x3cb815['srgbFormat']===_0xe0cee6)return _0x1d99b1;return _0xe0cee6;},py=_0xb6f65b=>{const _0x2718b5=Nt['get'](_0xb6f65b);return!!(_0x2718b5!=null&&_0x2718b5['ldr']&&!(_0x2718b5!=null&&_0x2718b5['srgb']));},my=_0x1f436e=>{switch(_0x1f436e){case Ji:case Ye:case Xt:return Float32Array;case pp:case Sp:case Tp:return Int32Array;case Ki:case yp:case Ue:return Uint32Array;case fp:case _p:case xp:return Int16Array;case bp:case up:case gp:case nd:case Jh:case np:case ed:case od:case wp:case ui:case nt:return Uint16Array;case dp:case mp:case vp:return Int8Array;default:return Uint8Array;}},cd=0x3*0x903+0x5*-0x793+0xad6,hd=-0x5*-0x49e+0x2459+0x3b6e*-0x1,_y=-0x215*-0x8+0x2*-0x955+0x204,gy=-0x2a5*0x7+-0x1*-0x2257+0x1*-0xfd1,js=-0xb5f+0x1*-0x60f+-0x7*-0x27e,Er=-0x3*-0x9d+-0x91a+0x1d2*0x4,oa=0x75f+0x20b7+-0x2810,Me='POSITION',gs='NORMAL',yi='TANGENT',gi='BLENDWEIGH'+'T',us='BLENDINDIC'+'ES',Wt='COLOR',zm='TEXCOORD',is='TEXCOORD0',ba='TEXCOORD1',wl='TEXCOORD2',El='TEXCOORD3',bl='TEXCOORD4',Al='TEXCOORD5',Cl='TEXCOORD6',Pl='TEXCOORD7',Jf='ATTR0',uh='ATTR1',Ap='ATTR2',Cp='ATTR3',Pp='ATTR4',Rx='ATTR5',Ox='ATTR6',Fx='ATTR7',Ko='ATTR8',Zo='ATTR9',Nx='ATTR10',Mp='ATTR11',Dp='ATTR12',ph='ATTR13',Ip='ATTR14',Ln='ATTR15',Sy=-0x261b+0x3*-0x365+0x304b,xn=-0x54+0x1*0x1e85+-0x1e31*0x1,kx=0x44d+0x30*-0xb5+0x1*0x1da5,Ux=-0x1a00+-0x3*0x3b+0x1ab4,Bx=0x1284+-0x4e*0x1d+-0x9a9,$l=0x548+0x3b2*0x9+-0x268a,yy=0xa5*0x3b+-0x1058+0x19*-0xde,Od=-0x1*0x1b83+0x1*0x7af+0x1*0x13d6,Ds='default',Zi='rgbm',mh='rgbe',Qo='rgbp',Jo='swizzleGGG'+'R',eu=0x16d0+0x1de*-0x5+0x1*-0xd79,Pr=-0x245c+0x13*-0x10d+0x3855,vy=-0x3f*-0x93+0x1cb9+-0x40e3,xy='2d',zx=0x264b*-0x1+0x81*-0xf+0x2dda,Vx='none',tu='cube',Vm='equirect',Gx='octahedral',Fe='glsl',it='wgsl',dd=0x39d*-0x5+-0x1fef+-0x100*-0x32,la=-0x2ec*-0xa+-0x469*0x2+-0x1465,fd=-0x1*-0x11b0+-0x1dc7+0x13*0xa3,Ml=0x102b*0x1+0x216f+-0x3197,Ty=0x3*-0x2a1+0xa7a+-0x293,el=-0x2657+-0x246b*0x1+0x3*0x18ed,Ve=0x100b*-0x1+0x5*-0x414+0x2475,Tn=0x1*0x248b+-0x7cb+-0x730*0x4,_a=0x24c1*0x1+0x22f*0x1+-0x26ef,Xs=0xe4*-0x15+0x2479*-0x1+0x372f,ga=-0x17b1*-0x1+-0x5af+-0x11ff,ds=-0x9b*-0x1+0xf1e+-0xfb5,Rn=-0x94b+-0x2535+0x2e85*0x1,ca=-0x1479*0x1+0x2*-0xbd3+0x2c25,ha=-0x5*0x4eb+-0x4c1*0x7+0x39e5,da=0x356*-0x3+-0x2*-0x124+0x7c2,tl=-0x1631+-0x11e2+-0x2*-0x140e,sl=-0x1*-0x20b1+0x117*0x3+-0x23ec,il=0x13a2+-0x1*-0x1039+0xc*-0x2fc,_h=0xf41*-0x2+-0x6a3+0x2531,On=0x35*-0x37+0x35a+-0x3*-0x2b2,li=0x1666+0x2135*-0x1+0xadd,Hx=0x2057+0xf*0x17f+-0x36b9*0x1,Wx=-0x3*0x503+0xa7c+0x49d,ud=-0x1*-0x1ec5+0x1d75*0x1+-0x3c29,$x=-0xd4*0x7+-0x13*-0x8e+-0x4ac,Xx=0xedb+0x1fc4+-0x2e8c,qx=-0x3ef*0x3+0x236e*-0x1+0x21*0x16f,pd=0x169f*-0x1+0x74f*-0x5+0x3b3f,md=0xbb*-0x28+0x1172+0xbdc,Lp=-0x11*0xc2+-0x1d84+-0x2a7d*-0x1,wy=-0x905+0x15b2+-0xc95*0x1,jx=0x1435+0xac5+-0x1ee1,Fn=-0x2266+0x1031+0x124f,Nn=0x1eae+-0x9*0x400+-0x1cf*-0x3,kn=0x113c+-0x6be+-0x531*0x2,Un=0x3*0xab7+-0xe*0x28f+-0x1*-0x3ca,Bn=0x7c8+-0x260d+0x1e63,_d=-0x29*0x5a+-0x2132+0x2fbb,gd=-0x131+0x4d9*0x3+0x1*-0xd3a,zn=0x1ac5+0x3*-0x443+-0xddb,Sd=-0x2*-0xd13+-0x26*0xef+-0xe*-0xad,yd=0x1*-0x25ed+-0x6*-0x4cd+0x316*0x3,Vn=0x3*-0x583+0x3b*0x3d+0x29e,vd=0x2*0x58c+0xf9*0x22+-0x3b*0xbf,xd=-0x81*0x9+-0x8dc+-0x1*-0xd8b,gh=0x2*-0xb23+0x18ad+-0x240,Rp=0x8*-0x1bb+0x1aa1*-0x1+0x28a1,Op=-0x88*0xc+0x439*0x7+-0x1706,Yx=0x1706+-0xe74+0x434*-0x2,Kx=0x5*-0x4cd+0x1e19+-0x5ed,Zx=0x1803+-0x1fa+-0x15dd,Qx=0x1ccf+-0x1d0d+0x6b*0x1,Jx=-0x22d4+-0x22f4+0x45f6,eT=-0x6f1*0x2+0x350+-0xac1*-0x1,tT=0x1*0x1646+-0x1778+0x76*0x3,sT=0x6*0x125+0x112e+-0xc5*0x1f,Ey=['bool','int','float','vec2','vec3','vec4','ivec2','ivec3','ivec4','bvec2','bvec3','bvec4','mat2','mat3','mat4','sampler2D','samplerCub'+'e','','sampler2DS'+'hadow','samplerCub'+'eShadow','sampler3D','','','','','sampler2DA'+'rray','uint','uvec2','uvec3','uvec4','','','','','','','','','','','','','isampler2D','usampler2D','isamplerCu'+'be','usamplerCu'+'be','isampler3D','usampler3D','isampler2D'+'Array','usampler2D'+'Array'],iT=[['bool'],['i32'],['f32'],['vec2f','vec2<f32>'],['vec3f','vec3<f32>'],['vec4f','vec4<f32>'],['vec2i','vec2<i32>'],['vec3i','vec3<i32>'],['vec4i','vec4<i32>'],['vec2<bool>'],['vec3<bool>'],['vec4<bool>'],['mat2x2f','mat2x2<f32'+'>'],['mat3x3f','mat3x3<f32'+'>'],['mat4x4f','mat4x4<f32'+'>'],['texture_2d'+'<f32>'],['texture_cu'+'be<f32>'],['array<f32>'],['texture_de'+'pth_2d'],['texture_de'+'pth_cube'],['texture_3d'+'<f32>'],['array<vec2'+'<f32>>'],['array<vec3'+'<f32>>'],['array<vec4'+'<f32>>'],['array<mat4'+'x4<f32>>'],['texture_2d'+'_array<f32'+'>'],['u32'],['vec2u','vec2<u32>'],['vec3u','vec3<u32>'],['vec4u','vec4<u32>'],['array<i32>'],['array<u32>'],['array<bool'+'>'],['array<vec2'+'i>','array<vec2'+'<i32>>'],['array<vec2'+'u>','array<vec2'+'<u32>>'],['array<vec2'+'b>','array<vec2'+'<bool>>'],['array<vec3'+'i>','array<vec3'+'<i32>>'],['array<vec3'+'u>','array<vec3'+'<u32>>'],['array<vec3'+'b>','array<vec3'+'<bool>>'],['array<vec4'+'i>','array<vec4'+'<i32>>'],['array<vec4'+'u>','array<vec4'+'<u32>>'],['array<vec4'+'b>','array<vec4'+'<bool>>'],['texture_2d'+'<i32>'],['texture_2d'+'<u32>'],['texture_cu'+'be<i32>'],['texture_cu'+'be<u32>'],['texture_3d'+'<i32>'],['texture_3d'+'<u32>'],['texture_2d'+'_array<i32'+'>'],['texture_2d'+'_array<u32'+'>']],rT=new Map();iT['forEach']((_0x3d3386,_0x520f76)=>{_0x3d3386['forEach'](_0x126635=>rT['set'](_0x126635,_0x520f76));});const aT='webgl2',Fp=0x5*-0x31d+0x1b*0x40+0x8d2,by=-0x123*-0x1f+0x674*-0x1+-0x1cc7,nT=0x7a+-0x1e0b*0x1+0x1d95*0x1,oT='ldr',Ay=-0xf05+-0x20f1+0x2ff7,Cy=0x2557+0x3a9+-0x28fe,Py=-0x116*-0x1a+-0xd0b+-0xf2d,My=0x1*0x1815+0x2646+-0x3e53,Dy=-0x147d+0x1042*-0x2+-0x13*-0x2cb,Iy=0xa7*0x1f+-0x7*-0x43b+-0x31b6,Ly=0x2642+0x3ee*0x7+-0x257*0x1c,Ry=0x1a62+-0x1899+0x149*-0x1,lT=0x7b2+0x99f*0x2+-0x19f1,rl=-0x9da+0x1c28+-0x124e,Oy=-0x2e4+-0x70*0x59+-0x1*-0x29d5,su=0x35*-0x3e+0xec*-0x2a+-0xdc*-0x3c,Np='default',wn=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array],No=[-0xbd8*-0x1+-0x1eef+0x1318,-0x23a+0xcad+-0xa72,0x1b*-0x166+-0x1931*0x1+-0xe3*-0x47,0x226a+0xc9a+-0x446*0xb,-0x1*-0x1d47+-0x3*-0xa12+-0x3b79,0x1173+0x19e+0x1*-0x130d,0x1b*0xda+0x29*-0x42+-0x8*0x18d,0x2c3*-0x1+-0x1ba*-0x13+0x3*-0xa03],cT=['INT8','UINT8','INT16','UINT16','INT32','UINT32','FLOAT32','FLOAT16'],Sh=[Uint8Array,Uint16Array,Uint32Array],hT=[-0x1682+0x1beb+-0x568,-0x2*0x10e4+0xd6d+0x145d,0x2*-0x3cd+-0x1ab8+0x125*0x1e],Fy=new Map([['float','f32'],['vec2','vec2f'],['vec3','vec3f'],['vec4','vec4f'],['int','i32'],['ivec2','vec2i'],['ivec3','vec3i'],['ivec4','vec4i'],['uint','u32'],['uvec2','vec2u'],['uvec3','vec3u'],['uvec4','vec4u']]),Le={};Le[Me]=-0xe7c+0x245f*0x1+-0x15e3,Le[gs]=0x17b2+0xd28+0x24d9*-0x1,Le[gi]=0x1166+0x258c+-0x36f0,Le[us]=0xcb6*0x2+0x13a*-0xa+0x5*-0x2a1,Le[Wt]=0xca9+-0x2f7+-0x9ae,Le[is]=0x743+0x2*0x10c+-0x956,Le[ba]=-0xe3+0x1*-0x7d3+0x8bc,Le[wl]=-0xf34+-0xdc9+0xe82*0x2,Le[El]=0x34d+-0x58a+-0x7*-0x53,Le[bl]=0x21b4+-0x9ac+-0x17ff,Le[Al]=-0x6be+0x13*-0x3b+0xb29,Le[Cl]=-0x2c7*0x7+-0xcd*0x21+-0x7*-0x68f,Le[Pl]=-0x7dc*0x3+-0x1065+-0x1*-0x2805,Le[yi]=-0x51b*0x7+-0x1298+0x1b31*0x2,Le[Jf]=0x3d*0x35+-0xe*-0x4c+0x10c9*-0x1,Le[uh]=-0x11*-0x87+-0x422+0x4*-0x135,Le[Ap]=-0x1b46+-0x19b1+-0x34f9*-0x1,Le[Cp]=0x242d*0x1+-0x10c4+-0xbf*0x1a,Le[Pp]=0x1*0x1b56+0x9e*0x2b+-0x1aee*0x2,Le[Rx]=0x7*-0x295+-0x1df0+-0x601*-0x8,Le[Ox]=0xb07+-0x1008+-0x1*-0x507,Le[Fx]=0xf8c+-0xb06+-0x47f,Le[Ko]=-0x1ace+0x1*-0x1ce1+0x37b7,Le[Zo]=-0x2b*-0x2+0x2622+-0x1*0x266f,Le[Nx]=-0x22aa+0x19b3+-0x901*-0x1,Le[Mp]=-0x1723+-0x48b*0x8+0x3b86,Le[Dp]=-0xb1*0x15+-0x11d4+0x2065,Le[ph]=0x949*-0x2+-0x6*-0x144+-0x3ad*-0x3,Le[Ip]=-0x26d9+0x46f*-0x8+0x4a5f*0x1,Le[Ln]=-0xb94+-0x19ed*0x1+-0x10*-0x259;const mr=class mr{static['clearGpuMa'+'rkers'](){mr['markers']['length']=-0x107*-0x25+-0x1*-0x2413+-0x4a16;}static['pushGpuMar'+'ker'](_0x52e41c,_0x250f43){mr['markers']['push'](_0x250f43),_0x52e41c['pushMarker'](_0x250f43);}static['popGpuMark'+'er'](_0x3213f6){mr['markers']['length']&&mr['markers']['pop'](),_0x3213f6['popMarker']();}static['toString'](){return mr['markers']['join']('\x20|\x20');}};h(mr,'markers',[]);let Q=mr,dT=0x30f*-0x3+0x11*-0x1bc+0x3*0xce3;class Td{constructor(_0xa902b0,_0x1141be){h(this,'slot',-(-0x1*0x144a+-0x91f+0x1d6a)),h(this,'scopeId',null),(this['name']=_0xa902b0,this['visibility']=_0x1141be);}}class kp extends Td{}class fT extends Td{constructor(_0x186c24,_0x1cf21a,_0x3a90aa=!(0x13*0x1d+-0x7a7*0x4+0xe3b*0x2)){super(_0x186c24,_0x1cf21a),h(this,'format',''),(this['readOnly']=_0x3a90aa,w['assert'](_0x3a90aa||!(_0x1cf21a&Fp),'Storage\x20bu'+'ffer\x20can\x20o'+'nly\x20be\x20use'+'d\x20in\x20read-'+'only\x20mode\x20'+'in\x20SHADERS'+'TAGE_VERTE'+'X.'));}}class Gm extends Td{constructor(_0x5d8de9,_0x3b0606,_0x493bd7=xy,_0x3cff91=zx,_0x39d1da=!(0x259e+-0x223c+-0x1b1*0x2),_0x178da5=null){super(_0x5d8de9,_0x3b0606),this['textureDim'+'ension']=_0x493bd7,this['sampleType']=_0x3cff91,this['hasSampler']=_0x39d1da,this['samplerNam'+'e']=_0x178da5??_0x5d8de9+'_sampler';}}class uT extends Td{constructor(_0x37b9f6,_0x4017b4=Ne,_0x39e87d=xy,_0x4c2655=!(0x1d0*-0x10+0x23f6+-0x51*0x16),_0x40cda2=!(-0x721+0x15b+0x1*0x5c7)){super(_0x37b9f6,nT),this['format']=_0x4017b4,this['textureDim'+'ension']=_0x39e87d,this['write']=_0x4c2655,this['read']=_0x40cda2;}}class Ny{constructor(_0x5182d3,_0x3d22bf){h(this,'uniformBuf'+'ferFormats',[]),h(this,'textureFor'+'mats',[]),h(this,'storageTex'+'tureFormat'+'s',[]),h(this,'storageBuf'+'ferFormats',[]),(this['id']=dT++,Ea['setName'](this,'BindGroupF'+'ormat_'+this['id']),w['assert'](_0x3d22bf));let _0x289dbf=0x101*-0xf+0x23*0x80+-0x271;_0x3d22bf['forEach'](_0x5505e8=>{_0x5505e8['slot']=_0x289dbf++,_0x5505e8 instanceof Gm&&_0x5505e8['hasSampler']&&_0x289dbf++,_0x5505e8 instanceof kp?this['uniformBuf'+'ferFormats']['push'](_0x5505e8):_0x5505e8 instanceof Gm?this['textureFor'+'mats']['push'](_0x5505e8):_0x5505e8 instanceof uT?this['storageTex'+'tureFormat'+'s']['push'](_0x5505e8):_0x5505e8 instanceof fT?this['storageBuf'+'ferFormats']['push'](_0x5505e8):w['assert']('Invalid\x20bi'+'nd\x20format',_0x5505e8);}),this['device']=_0x5182d3;const _0x122ea1=_0x5182d3['scope'];this['bufferForm'+'atsMap']=new Map(),this['uniformBuf'+'ferFormats']['forEach']((_0x3e2230,_0x538b4f)=>this['bufferForm'+'atsMap']['set'](_0x3e2230['name'],_0x538b4f)),this['textureFor'+'matsMap']=new Map(),this['textureFor'+'mats']['forEach']((_0x2c3334,_0x1cdcf7)=>{this['textureFor'+'matsMap']['set'](_0x2c3334['name'],_0x1cdcf7),_0x2c3334['scopeId']=_0x122ea1['resolve'](_0x2c3334['name']);}),this['storageTex'+'tureFormat'+'sMap']=new Map(),this['storageTex'+'tureFormat'+'s']['forEach']((_0x34749a,_0xb73223)=>{this['storageTex'+'tureFormat'+'sMap']['set'](_0x34749a['name'],_0xb73223),_0x34749a['scopeId']=_0x122ea1['resolve'](_0x34749a['name']);}),this['storageBuf'+'ferFormats'+'Map']=new Map(),this['storageBuf'+'ferFormats']['forEach']((_0x4f12aa,_0x527f94)=>{this['storageBuf'+'ferFormats'+'Map']['set'](_0x4f12aa['name'],_0x527f94),_0x4f12aa['scopeId']=_0x122ea1['resolve'](_0x4f12aa['name']);}),this['impl']=_0x5182d3['createBind'+'GroupForma'+'tImpl'](this),w['trace'](K0,'Alloc:\x20Id\x20'+this['id']+(',\x20while\x20re'+'ndering\x20[')+Q['toString']()+']',this);}['destroy'](){this['impl']['destroy']();}['getTexture'](_0x54915d){const _0x1bb59e=this['textureFor'+'matsMap']['get'](_0x54915d);return _0x1bb59e!==void(0x11f8+0x1525+-0x271d)?this['textureFor'+'mats'][_0x1bb59e]:null;}['getStorage'+'Texture'](_0x2b26fd){const _0x753cf2=this['storageTex'+'tureFormat'+'sMap']['get'](_0x2b26fd);return _0x753cf2!==void(0x10ad*-0x1+-0x41*0xb+-0x1c*-0xb2)?this['storageTex'+'tureFormat'+'s'][_0x753cf2]:null;}['loseContex'+'t'](){}}class Kt{constructor(){h(this,'_cache',new Map());}['get'](_0x32f549,_0x7a97f8){return this['_cache']['has'](_0x32f549)||(this['_cache']['set'](_0x32f549,_0x7a97f8()),_0x32f549['on']('destroy',()=>{this['remove'](_0x32f549);}),_0x32f549['on']('devicelost',()=>{var _0x1e56e2,_0x4d4e69;(_0x4d4e69=(_0x1e56e2=this['_cache']['get'](_0x32f549))==null?void(-0x1084+-0x2*0x10f4+0x326c):_0x1e56e2['loseContex'+'t'])==null||_0x4d4e69['call'](_0x1e56e2,_0x32f549);})),this['_cache']['get'](_0x32f549);}['remove'](_0x76d852){var _0x1cef56,_0x4aa86f;(_0x4aa86f=(_0x1cef56=this['_cache']['get'](_0x76d852))==null?void(-0x26ab+0x495*0x8+0x203):_0x1cef56['destroy'])==null||_0x4aa86f['call'](_0x1cef56,_0x76d852),this['_cache']['delete'](_0x76d852);}}class Xi{static['calcLevelD'+'imension'](_0x5916c2,_0x1cce16){return Math['max'](_0x5916c2>>_0x1cce16,0x15a0+-0x1345+-0x2b*0xe);}static['calcMipLev'+'elsCount'](_0x4a82d3,_0x528739,_0x3325e0=-0xc34+0x25dc+-0x19a7){return 0x1*0x13ac+0x2701+-0x3aac+Math['floor'](Math['log2'](Math['max'](_0x4a82d3,_0x528739,_0x3325e0)));}static['calcLevelG'+'puSize'](_0xfae893,_0x310ce1,_0x2216ec,_0x2b3e27){var _0x19e9a8;const _0x475c05=Nt['get'](_0x2b3e27);w['assert'](_0x475c05!==void(-0x1*0x257d+0x3*0x813+-0xd44*-0x1),'Invalid\x20pi'+'xel\x20format'+'\x20'+_0x2b3e27);const _0x30ca01=((_0x19e9a8=Nt['get'](_0x2b3e27))==null?void(-0x1*0xc1+-0x1*-0xdf7+-0xd36):_0x19e9a8['size'])??0x8ec+-0x156b*0x1+0x1c9*0x7;if(_0x30ca01>-0x231b+0x5bd+0x1d5e)return _0xfae893*_0x310ce1*_0x2216ec*_0x30ca01;const _0x1748e8=_0x475c05['blockSize']??0x2*-0x849+0x4*0x2fc+-0x4a2*-0x1;let _0x4267ed=Math['floor']((_0xfae893+(0x2076+-0x2*-0x7ea+0x3047*-0x1))/(-0x939+-0x2*0x123+0xb83*0x1));const _0x2f4d3e=Math['floor']((_0x310ce1+(-0x532+0x28*0xab+-0x1583))/(0xd5e+0x1*-0x249e+0x1744)),_0x4514dd=Math['floor']((_0x2216ec+(-0x2*-0x1f4+-0x7a+-0x36b))/(0xcb7+-0x1bc+0xaf7*-0x1));return(_0x2b3e27===xl||_0x2b3e27===Tl)&&(_0x4267ed=Math['max'](Math['floor'](_0x4267ed/(0x16a2+0x2201*0x1+-0x38a1)),-0x2*-0x6da+-0x10fd+0x34a)),_0x4267ed*_0x2f4d3e*_0x4514dd*_0x1748e8;}static['calcGpuSiz'+'e'](_0x477628,_0x1d51fa,_0x354b09,_0x3b720d,_0x4dc430,_0x1ab46b){let _0x2649cb=0x596+0xb23*0x2+0x1bdc*-0x1;for(;_0x2649cb+=Xi['calcLevelG'+'puSize'](_0x477628,_0x1d51fa,_0x354b09,_0x3b720d),!(!_0x4dc430||_0x477628===0xd0f*0x2+-0x19ca*-0x1+-0x114d*0x3&&_0x1d51fa===-0x3*0x2a5+0x1*0x17fa+-0x100a&&_0x354b09===0xb8+0x1268+-0x131f);)_0x477628=Math['max'](_0x477628>>-0x703*0x1+0x9*-0x1a1+0x15ad*0x1,-0x1330*-0x2+-0x1382+-0x12dd*0x1),_0x1d51fa=Math['max'](_0x1d51fa>>-0x807+0x1b35+-0x132d,0x5*0x75+-0x1ddd+0x1b95),_0x354b09=Math['max'](_0x354b09>>-0x3*0xc2f+0xefc+0xac9*0x2,0x120e*-0x1+0x11*-0xc5+-0x1*-0x1f24);return _0x2649cb*(_0x1ab46b?0x40*0x30+-0x1*-0x1ae7+-0x26e1:0x1*0x1850+0x31d*-0x7+-0x284);}}let pT=0x1b*-0x166+-0x969*0x4+0x4b66;class _e{constructor(_0x9a831e,_0x566673={}){h(this,'name'),h(this,'_gpuSize',0x8f*-0x1+-0x811+0x8a0),h(this,'id',pT++),h(this,'_invalid',!(-0x133c+-0x3*0x2f3+0x1c16)),h(this,'_lockedLev'+'el',-(0x29*0x2f+0xca5*0x1+-0x142b)),h(this,'_lockedMod'+'e',$l),h(this,'renderVers'+'ionDirty',0x3*-0x279+0x1c5f+-0x9*0x254),h(this,'_storage',!(0xfb+0x15d1*-0x1+0x14d7)),h(this,'_numLevels',0x1d+-0xc10+0xbf3),h(this,'_numLevels'+'Requested');var _0x5a1b40;this['device']=_0x9a831e,w['assert'](this['device'],'Texture\x20co'+'nstructor\x20'+'requires\x20a'+'\x20graphicsD'+'evice\x20to\x20b'+'e\x20valid'),w['assert'](!_0x566673['width']||Number['isInteger'](_0x566673['width']),'Texture\x20wi'+'dth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x566673),w['assert'](!_0x566673['height']||Number['isInteger'](_0x566673['height']),'Texture\x20he'+'ight\x20must\x20'+'be\x20an\x20inte'+'ger\x20number'+',\x20got',_0x566673),w['assert'](!_0x566673['depth']||Number['isInteger'](_0x566673['depth']),'Texture\x20de'+'pth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x566673),this['name']=_0x566673['name']??'',this['_width']=Math['floor'](_0x566673['width']??0x14c3+-0x6b9+-0xe06),this['_height']=Math['floor'](_0x566673['height']??0x2*-0xf94+0x1d60+0x1cc),this['_format']=_0x566673['format']??Ne,this['_compresse'+'d']=Ix(this['_format']),this['_integerFo'+'rmat']=dn(this['_format']),this['_integerFo'+'rmat']&&(_0x566673['minFilter']=Te,_0x566673['magFilter']=Te),this['_volume']=_0x566673['volume']??!(0x5*0xe9+-0x1*0x1c2b+0x1*0x179f),this['_depth']=Math['floor'](_0x566673['depth']??-0x58b+-0x17c5+-0x1*-0x1d51),this['_arrayLeng'+'th']=Math['floor'](_0x566673['arrayLengt'+'h']??-0x9*0x1c6+-0x225b+0x3251),this['_storage']=_0x566673['storage']??!(-0xc9a+-0x15*0x4b+0x12c2),this['_cubemap']=_0x566673['cubemap']??!(-0xba5*-0x3+-0x1e2*-0x9+-0x19f*0x20),this['_flipY']=_0x566673['flipY']??!(-0x685*0x1+-0x2*0x7b1+-0xaf4*-0x2),this['_premultip'+'lyAlpha']=_0x566673['premultipl'+'yAlpha']??!(0x7*-0x25c+0x10a0+-0x3*0x9),this['_mipmaps']=_0x566673['mipmaps']??!(0x18dc+-0x731+-0x11ab),this['_numLevels'+'Requested']=_0x566673['numLevels'],_0x566673['numLevels']!==void(0x484+-0x5a4*0x1+-0xc*-0x18)&&(this['_numLevels']=_0x566673['numLevels']),this['_updateNum'+'Level'](),this['_minFilter']=_0x566673['minFilter']??ma,this['_magFilter']=_0x566673['magFilter']??vt,this['_anisotrop'+'y']=_0x566673['anisotropy']??0x4*0x1da+0x749+-0x2f*0x50,this['_addressU']=_0x566673['addressU']??yt,this['_addressV']=_0x566673['addressV']??yt,this['_addressW']=_0x566673['addressW']??yt,this['_compareOn'+'Read']=_0x566673['compareOnR'+'ead']??!(0xa*-0xf+0x1*0x22fc+-0x3*0xb77),this['_compareFu'+'nc']=_0x566673['compareFun'+'c']??hh,this['_type']=_0x566673['type']??Ds,w['assert'](!_0x566673['hasOwnProp'+'erty']('rgbm'),'Use\x20option'+'s.type.'),w['assert'](!_0x566673['hasOwnProp'+'erty']('swizzleGGG'+'R'),'Use\x20option'+'s.type.'),this['projection']=Vx,this['_cubemap']?this['projection']=tu:_0x566673['projection']&&_0x566673['projection']!==tu&&(this['projection']=_0x566673['projection']),this['profilerHi'+'nt']=_0x566673['profilerHi'+'nt']??-0x23e7+-0xea9+0x3290,this['_levels']=_0x566673['levels'];const _0x410636=!!_0x566673['levels'];this['_levels']||this['_clearLeve'+'ls'](),this['recreateIm'+'pl'](_0x410636),_0x9a831e['textures']['push'](this),w['trace'](Dm,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+'\x20['+((_0x5a1b40=Nt['get'](this['format']))==null?void(-0x267a+0x4f*-0x65+-0x351*-0x15):_0x5a1b40['name'])+']'+(this['cubemap']?'[Cubemap]':'')+(this['volume']?'[Volume]':'')+(this['array']?'[Array]':'')+('[MipLevels'+':')+this['numLevels']+']',this);}['destroy'](){w['trace'](Dm,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0xfb594b=this['device'];if(_0xfb594b){const _0x2d3578=_0xfb594b['textures']['indexOf'](this);_0x2d3578!==-(0x78d*0x1+0x107d+-0x1809)&&_0xfb594b['textures']['splice'](_0x2d3578,0x2513+-0x2343+-0x1cf),_0xfb594b['scope']['removeValu'+'e'](this),this['impl']['destroy'](_0xfb594b),this['adjustVram'+'SizeTracki'+'ng'](_0xfb594b['_vram'],-this['_gpuSize']),this['_levels']=null,this['device']=null;}}['recreateIm'+'pl'](_0x5b5bc2=!(0x24c6+0xc1b*-0x3+-0x27*0x3)){var _0x45306b;const {device:_0x42127f}=this;(_0x45306b=this['impl'])==null||_0x45306b['destroy'](_0x42127f),this['impl']=null,this['impl']=_0x42127f['createText'+'ureImpl'](this),this['dirtyAll'](),_0x5b5bc2&&this['upload']();}['_clearLeve'+'ls'](){this['_levels']=this['_cubemap']?[[null,null,null,null,null,null]]:[null];}['resize'](_0x2692a2,_0x58d1fd,_0xb58a58=0x17d5+-0x1b7*-0x16+-0x1ec7*0x2){const _0x101915=this['device'];this['adjustVram'+'SizeTracki'+'ng'](_0x101915['_vram'],-this['_gpuSize']),this['impl']['destroy'](_0x101915),this['_clearLeve'+'ls'](),this['_width']=Math['floor'](_0x2692a2),this['_height']=Math['floor'](_0x58d1fd),this['_depth']=Math['floor'](_0xb58a58),this['_updateNum'+'Level'](),this['impl']=_0x101915['createText'+'ureImpl'](this),this['dirtyAll']();}['loseContex'+'t'](){this['impl']['loseContex'+'t'](),this['dirtyAll']();}['adjustVram'+'SizeTracki'+'ng'](_0x17a1e6,_0x157ded){w['trace'](X0,this['id']+'\x20'+this['name']+'\x20size:\x20'+_0x157ded+('\x20vram.text'+'ure:\x20')+_0x17a1e6['tex']+'\x20=>\x20'+(_0x17a1e6['tex']+_0x157ded)),_0x17a1e6['tex']+=_0x157ded,this['profilerHi'+'nt']===eu?_0x17a1e6['texShadow']+=_0x157ded:this['profilerHi'+'nt']===Pr?_0x17a1e6['texAsset']+=_0x157ded:this['profilerHi'+'nt']===vy&&(_0x17a1e6['texLightma'+'p']+=_0x157ded);}['propertyCh'+'anged'](_0x4679cb){this['impl']['propertyCh'+'anged'](_0x4679cb),this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion'];}['_updateNum'+'Level'](){const _0x14348e=this['mipmaps']?Xi['calcMipLev'+'elsCount'](this['width'],this['height']):-0x2531+-0x1*-0x13d+-0x1*-0x23f5,_0x506b69=this['_numLevels'+'Requested'];_0x506b69!==void(-0x3c1*0x1+-0x1*0x4e3+-0x9e*-0xe)&&_0x506b69>_0x14348e&&w['warn']('Texture#nu'+'mLevels:\x20r'+'equested\x20m'+'ip\x20level\x20c'+'ount\x20is\x20gr'+'eater\x20than'+'\x20the\x20maxim'+'um\x20possibl'+'e,\x20will\x20be'+'\x20clamped\x20t'+'o',_0x14348e,this),this['_numLevels']=Math['min'](_0x506b69??_0x14348e,_0x14348e),this['_mipmaps']=this['_numLevels']>0x21d5+0x23de+-0x45b2*0x1;}get['lockedMode'](){return this['_lockedMod'+'e'];}set['minFilter'](_0x5b28f7){this['_minFilter']!==_0x5b28f7&&(dn(this['_format'])?w['warn']('Texture#mi'+'nFilter:\x20m'+'inFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_minFilter']=_0x5b28f7,this['propertyCh'+'anged'](Ay)));}get['minFilter'](){return this['_minFilter'];}set['magFilter'](_0x92c141){this['_magFilter']!==_0x92c141&&(dn(this['_format'])?w['warn']('Texture#ma'+'gFilter:\x20m'+'agFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_magFilter']=_0x92c141,this['propertyCh'+'anged'](Cy)));}get['magFilter'](){return this['_magFilter'];}set['addressU'](_0x247e29){this['_addressU']!==_0x247e29&&(this['_addressU']=_0x247e29,this['propertyCh'+'anged'](Py));}get['addressU'](){return this['_addressU'];}set['addressV'](_0x492733){this['_addressV']!==_0x492733&&(this['_addressV']=_0x492733,this['propertyCh'+'anged'](My));}get['addressV'](){return this['_addressV'];}set['addressW'](_0x2c174a){if(!this['_volume']){w['warn']('pc.Texture'+'#addressW:'+'\x20Can\x27t\x20set'+'\x20W\x20address'+'ing\x20mode\x20f'+'or\x20a\x20non-3'+'D\x20texture.');return;}_0x2c174a!==this['_addressW']&&(this['_addressW']=_0x2c174a,this['propertyCh'+'anged'](Dy));}get['addressW'](){return this['_addressW'];}set['compareOnR'+'ead'](_0x1198d8){this['_compareOn'+'Read']!==_0x1198d8&&(this['_compareOn'+'Read']=_0x1198d8,this['propertyCh'+'anged'](Iy));}get['compareOnR'+'ead'](){return this['_compareOn'+'Read'];}set['compareFun'+'c'](_0x2827c8){this['_compareFu'+'nc']!==_0x2827c8&&(this['_compareFu'+'nc']=_0x2827c8,this['propertyCh'+'anged'](Ly));}get['compareFun'+'c'](){return this['_compareFu'+'nc'];}set['anisotropy'](_0x261b90){this['_anisotrop'+'y']!==_0x261b90&&(this['_anisotrop'+'y']=_0x261b90,this['propertyCh'+'anged'](Ry));}get['anisotropy'](){return this['_anisotrop'+'y'];}set['mipmaps'](_0x5ce943){this['_mipmaps']!==_0x5ce943&&(this['device']['isWebGPU']?w['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20is\x20curr'+'ently\x20not\x20'+'allowed\x20to'+'\x20be\x20change'+'d\x20on\x20WebGP'+'U,\x20create\x20'+'the\x20textur'+'e\x20appropri'+'ately.',this):dn(this['_format'])?w['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20cannot\x20'+'be\x20changed'+'\x20on\x20an\x20int'+'eger\x20textu'+'re,\x20will\x20r'+'emain\x20fals'+'e',this):this['_mipmaps']=_0x5ce943,_0x5ce943&&(this['_needsMipm'+'apsUpload']=!(0x76*0x6+-0x1*0x154+-0x170)));}get['mipmaps'](){return this['_mipmaps'];}get['numLevels'](){return this['_numLevels'];}get['storage'](){return this['_storage'];}get['width'](){return this['_width'];}get['height'](){return this['_height'];}get['depth'](){return this['_depth'];}get['format'](){return this['_format'];}get['cubemap'](){return this['_cubemap'];}get['gpuSize'](){const _0x103778=this['pot']&&this['_mipmaps']&&!(this['_compresse'+'d']&&this['_levels']['length']===0x2*0x13a+-0xf5f+0x4*0x33b);return Xi['calcGpuSiz'+'e'](this['_width'],this['_height'],this['_depth'],this['_format'],_0x103778,this['_cubemap']);}get['array'](){return this['_arrayLeng'+'th']>0xa3*-0x37+-0x2556+0x485b;}get['arrayLengt'+'h'](){return this['_arrayLeng'+'th'];}get['volume'](){return this['_volume'];}set['type'](_0x32f673){this['_type']!==_0x32f673&&(this['_type']=_0x32f673,this['device']['_shadersDi'+'rty']=!(0x66*-0x2c+0x1*-0x1d2d+0x1*0x2eb5));}get['type'](){return this['_type'];}set['srgb'](_0xdacb16){var _0x45fbd1,_0x5b0fa0,_0x4981ee,_0x3f07d5;const _0x33789a=fh(this['format']);if(_0xdacb16!==_0x33789a){if(_0xdacb16){const _0x41707c=ld(this['format']);this['_format']!==_0x41707c&&(w['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20sRGB\x20'+'equivalent'+':\x20')+((_0x45fbd1=Nt['get'](this['format']))==null?void(0x1*0x1205+0x6d9*0x1+-0x18de*0x1):_0x45fbd1['name'])+'\x20->\x20'+((_0x5b0fa0=Nt['get'](_0x41707c))==null?void(0x2c2*-0x7+-0x2*-0x6c5+0xf6*0x6):_0x5b0fa0['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x41707c,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0xd88+-0x21ff*-0x1+0xa9*-0x1f));}else{const _0x662b5=Lx(this['format']);this['_format']!==_0x662b5&&(w['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20linea'+'r\x20equivale'+'nt:\x20')+((_0x4981ee=Nt['get'](this['format']))==null?void(-0x48d+-0x24db+0x2968):_0x4981ee['name'])+'\x20->\x20'+((_0x3f07d5=Nt['get'](_0x662b5))==null?void(-0x1fab+0x279+0xca*0x25):_0x3f07d5['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x662b5,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x265c+0x2101+0x1c9*0x3));}}}get['srgb'](){return fh(this['format']);}set['flipY'](_0x2f0236){this['_flipY']!==_0x2f0236&&(this['_flipY']=_0x2f0236,this['_needsUplo'+'ad']=!(0x1357+-0x1177+-0xa*0x30));}get['flipY'](){return this['_flipY'];}set['premultipl'+'yAlpha'](_0x39f731){this['_premultip'+'lyAlpha']!==_0x39f731&&(this['_premultip'+'lyAlpha']=_0x39f731,this['_needsUplo'+'ad']=!(0x48b+-0xca*-0x2c+-0x2743));}get['premultipl'+'yAlpha'](){return this['_premultip'+'lyAlpha'];}get['pot'](){return Y['powerOfTwo'](this['_width'])&&Y['powerOfTwo'](this['_height']);}get['encoding'](){switch(this['type']){case Zi:return'rgbm';case mh:return'rgbe';case Qo:return'rgbp';}return py(this['format'])?'srgb':'linear';}['dirtyAll'](){this['_levelsUpd'+'ated']=this['_cubemap']?[[!(-0xfd9+0x1dcc*0x1+-0xdf3),!(-0x329*-0xa+-0x22d*0x1+-0x1*0x1d6d),!(-0x1*0x20d5+-0x2692+0x4767),!(-0xbe7+-0x3*0xa80+-0x1*-0x2b67),!(-0x7df+-0xc3d*0x1+0x141c),!(0xba6*0x1+-0xb5a+-0x4*0x13)]]:[!(0x31*-0x9a+0xf1b+0xe5f)],this['_needsUplo'+'ad']=!(-0x1b30+0x193*0x4+-0xbf*-0x1c),this['_needsMipm'+'apsUpload']=this['_mipmaps'],this['_mipmapsUp'+'loaded']=!(-0x1038+-0x5f8*0x2+-0x321*-0x9),this['propertyCh'+'anged'](lT);}['lock'](_0xa98a7a={}){_0xa98a7a['level']??(_0xa98a7a['level']=-0xb14*0x1+-0x1c0d*0x1+0x2721*0x1),_0xa98a7a['face']??(_0xa98a7a['face']=-0x1e89+-0x1eb*0x5+0x2820),_0xa98a7a['mode']??(_0xa98a7a['mode']=Od),w['assert'](this['_lockedMod'+'e']===$l,'The\x20textur'+'e\x20is\x20alrea'+'dy\x20locked.'+'\x20Call\x20`tex'+'ture.unloc'+'k()`\x20befor'+'e\x20attempti'+'ng\x20to\x20lock'+'\x20again.',this),w['assert'](_0xa98a7a['mode']===yy||_0xa98a7a['mode']===Od,'Cannot\x20loc'+'k\x20a\x20textur'+'e\x20with\x20TEX'+'TURELOCK_N'+'ONE.\x20To\x20un'+'lock\x20a\x20tex'+'ture,\x20call'+'\x20`texture.'+'unlock()`.',this),this['_lockedMod'+'e']=_0xa98a7a['mode'],this['_lockedLev'+'el']=_0xa98a7a['level'];const _0x24a33d=this['cubemap']?this['_levels'][_0xa98a7a['face']]:this['_levels'];if((_0x24a33d==null?void(0x17aa+-0x22c*0x4+0xd5*-0x12):_0x24a33d[_0xa98a7a['level']])===null){const _0x5f3a71=Math['max'](0xe68*-0x2+0xfe3*0x1+0xcee,this['_width']>>_0xa98a7a['level']),_0x1d60a6=Math['max'](-0x22c7+-0xb33*0x2+0x392e,this['_height']>>_0xa98a7a['level']),_0xdcd3e8=Math['max'](-0x15d*-0xc+0xbb6*0x2+-0x27c7,this['_depth']>>_0xa98a7a['level']),_0x4878e3=new ArrayBuffer(Xi['calcLevelG'+'puSize'](_0x5f3a71,_0x1d60a6,_0xdcd3e8,this['_format']));_0x24a33d[_0xa98a7a['level']]=new(my(this['_format']))(_0x4878e3);}return _0x24a33d==null?void(-0x4f1+0x1*0x1db9+-0x18c8):_0x24a33d[_0xa98a7a['level']];}['setSource'](_0x418b25,_0x3c8f15=-0x3b2+-0x1fe0+-0x13a*-0x1d){let _0x2edf4e=!(0xaf5+0x3cd*-0x4+0x440),_0x329c2d,_0x10acf1;if(this['_cubemap']){if(_0x418b25[-0x1*0x1345+-0xbdc+-0xd*-0x265]){_0x329c2d=_0x418b25[-0xb26+-0x2473+0x5*0x985]['width']||0x4*0x902+-0x5*-0x389+-0x35b5*0x1,_0x10acf1=_0x418b25[0xfb*-0x3+0x1b5b+-0x186a]['height']||-0x4a5*-0x5+0x5*-0xbf+-0x9bf*0x2;for(let _0x4cefdc=-0x1*0x1223+-0x25*-0xec+0x3*-0x553;_0x4cefdc<0xa21*0x1+-0x2157+0x173c;_0x4cefdc++){const _0x590271=_0x418b25[_0x4cefdc];if(!_0x590271||_0x590271['width']!==_0x329c2d||_0x590271['height']!==_0x10acf1||!this['device']['_isBrowser'+'Interface'](_0x590271)){_0x2edf4e=!(-0x1ec5*-0x1+0x9*0x28b+-0x35a8);break;}}}else _0x2edf4e=!(-0x7*-0x38f+-0x166+-0x1783);if(!_0x2edf4e){for(let _0x539405=0x999+0x11b9+-0x1b52;_0x539405<-0x24e6+-0x7d8+0x6*0x776;_0x539405++)this['_levels'][_0x3c8f15][_0x539405]!==_0x418b25[_0x539405]&&(this['_levelsUpd'+'ated'][_0x3c8f15][_0x539405]=!(0x1f84*-0x1+0x232b+-0x3a7));}}else this['device']['_isBrowser'+'Interface'](_0x418b25)||(_0x2edf4e=!(0x175*-0x1+0x2489+-0xa*0x382)),_0x2edf4e||(_0x418b25!==this['_levels'][_0x3c8f15]&&(this['_levelsUpd'+'ated'][_0x3c8f15]=!(-0x2393+-0x1*-0x147d+-0xf16*-0x1)),_0x418b25 instanceof HTMLVideoElement?(_0x329c2d=_0x418b25['videoWidth'],_0x10acf1=_0x418b25['videoHeigh'+'t']):(_0x329c2d=_0x418b25['width'],_0x10acf1=_0x418b25['height']));if(_0x2edf4e){if(this['_width']=0xbb6+0x17*-0xc5+0x601*0x1,this['_height']=0x3*0xb89+-0x5b5+-0x1ce2,this['_cubemap']){for(let _0x4b9aee=-0x2*-0x12dd+0x1*0x16bf+0x1*-0x3c79;_0x4b9aee<-0xa*-0x41+0x61*-0x40+0x15bc;_0x4b9aee++)this['_levels'][_0x3c8f15][_0x4b9aee]=null,this['_levelsUpd'+'ated'][_0x3c8f15][_0x4b9aee]=!(0x3d*-0x44+-0x1373+0x23a7*0x1);}else this['_levels'][_0x3c8f15]=null,this['_levelsUpd'+'ated'][_0x3c8f15]=!(-0x89e*-0x4+0x1c03+-0x3e7b);}else _0x3c8f15===0x4b3*-0x6+0x7*-0x407+0x3863&&(this['_width']=_0x329c2d,this['_height']=_0x10acf1),this['_levels'][_0x3c8f15]=_0x418b25;(this['_invalid']!==_0x2edf4e||!_0x2edf4e)&&(this['_invalid']=_0x2edf4e,this['upload']());}['getSource'](_0x6813f9=0x68*-0x4+-0x1*-0x143e+0x129e*-0x1){return this['_levels'][_0x6813f9];}['unlock'](){this['_lockedMod'+'e']===$l&&w['warn']('pc.Texture'+'#unlock:\x20A'+'ttempting\x20'+'to\x20unlock\x20'+'a\x20texture\x20'+'that\x20is\x20no'+'t\x20locked.',this),this['_lockedMod'+'e']===Od&&this['upload'](),this['_lockedLev'+'el']=-(-0x3*-0xaba+0xe0b*0x1+-0x15c*0x22),this['_lockedMod'+'e']=$l;}['upload'](){var _0x4588b3,_0xc9fa59;this['_needsUplo'+'ad']=!(0x1*0x1b3b+0x13bb+-0x2ef6),this['_needsMipm'+'apsUpload']=this['_mipmaps'],(_0xc9fa59=(_0x4588b3=this['impl'])['uploadImme'+'diate'])==null||_0xc9fa59['call'](_0x4588b3,this['device'],this);}['read'](_0x287b22,_0x3be3ca,_0x63d381,_0x3075d9,_0x4a79a6={}){var _0xe80eb6,_0x21d6fc;return(_0x21d6fc=(_0xe80eb6=this['impl'])['read'])==null?void(0xb32+-0x2f8*-0x2+-0x2db*0x6):_0x21d6fc['call'](_0xe80eb6,_0x287b22,_0x3be3ca,_0x63d381,_0x3075d9,_0x4a79a6);}['write'](_0x59eff1,_0x1704e6,_0x1119fb,_0x21fe84,_0x2cd1f9){var _0x31f7a2,_0xda0d18;return(_0xda0d18=(_0x31f7a2=this['impl'])['write'])==null?void(0x1*0x1057+-0x3c2+0xc95*-0x1):_0xda0d18['call'](_0x31f7a2,_0x59eff1,_0x1704e6,_0x1119fb,_0x21fe84,_0x2cd1f9);}}const mT={'white':[0x76e+-0xdfc*0x2+0x1589*0x1,-0x12d1+-0x24bd+0x388d,-0x1777+0x856+-0x204*-0x8,-0x163a+-0x727+0x1e60],'gray':[0xa8*0x38+-0x25f1+-0x1*-0x1b1,0x1*0x1a96+0x1*0xbf9+-0x1*0x260f,-0x662+0x72a+-0x8*0x9,0x1*0x337+0x6*0x629+-0x272e],'black':[-0x1bd3*0x1+-0x1*-0x124c+-0x987*-0x1,0x5*-0x69f+0x1*0x265f+0x1*-0x544,-0x4a3*-0x2+0x19f8*0x1+0x1*-0x233e,0x1*-0x1e55+-0x104e+-0x1a*-0x1d5],'normal':[-0xf9*-0x3+-0x1999*-0x1+-0x1c04,0x13*-0x4f+-0xf*-0x283+-0x1*0x1f50,-0x1*0x41+-0x12*-0xa2+-0x2*0x512,0x493*0x3+-0x17e+-0xb3c*0x1],'pink':[0x2336+0x13*-0x1ae+-0x24d,0x1ceb+-0x289+-0x19e2,-0x639+-0x112*0xd+0x21d*0xa,0xa87+0x1*0x107+-0xa8f]};class _T{constructor(){h(this,'map',new Map());}['destroy'](){this['map']['forEach'](_0x1ccf6e=>{_0x1ccf6e['destroy']();});}}const gT=new Kt(),fa=(_0x2e9c23,_0x5716b)=>{const _0x111b5d=gT['get'](_0x2e9c23,()=>new _T());if(!_0x111b5d['map']['has'](_0x5716b)){const _0xc27a22=new _e(_0x2e9c23,{'name':'built-in-t'+'exture-'+_0x5716b,'width':0x1,'height':0x1,'format':Ne}),_0x5bde84=_0xc27a22['lock'](),_0x13b311=mT[_0x5716b];w['assert'](_0x13b311,'Data\x20for\x20b'+'uilt-in\x20te'+'xture\x20\x27'+_0x5716b+('\x27\x20not\x20foun'+'d')),_0x5bde84['set'](_0x13b311),_0xc27a22['unlock'](),_0x111b5d['map']['set'](_0x5716b,_0xc27a22);}return _0x111b5d['map']['get'](_0x5716b);};let ST=0xc57+0x453+-0x1*0x10aa;class ky{constructor(){h(this,'bindGroup'),h(this,'offsets',[]);}}class Up{constructor(_0x271034,_0x11a7f2,_0x2a5415){h(this,'renderVers'+'ionUpdated',-(-0x18f6+-0x2329+-0xd*-0x4a0)),h(this,'uniformBuf'+'fers'),h(this,'uniformBuf'+'ferOffsets',[]),(this['id']=ST++,this['device']=_0x271034,this['format']=_0x11a7f2,this['dirty']=!(0x18b*-0x1+-0x1c32+0x1dbd),this['impl']=_0x271034['createBind'+'GroupImpl'](this),this['textures']=[],this['storageTex'+'tures']=[],this['storageBuf'+'fers']=[],this['uniformBuf'+'fers']=[],this['defaultUni'+'formBuffer']=_0x2a5415,_0x2a5415&&this['setUniform'+'Buffer'](Np,_0x2a5415),w['trace'](Y0,'Alloc:\x20Id\x20'+this['id'],this,_0x11a7f2));}['destroy'](){this['impl']['destroy'](),this['impl']=null,this['format']=null,this['defaultUni'+'formBuffer']=null;}['setUniform'+'Buffer'](_0x1074d4,_0x3dadf6){const _0x2f4d38=this['format']['bufferForm'+'atsMap']['get'](_0x1074d4);w['assert'](_0x2f4d38!==void(0x1c53+0xc0*-0x3+-0x1a13),'Setting\x20a\x20'+'uniform\x20['+_0x1074d4+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['uniformBuf'+'fers'][_0x2f4d38]!==_0x3dadf6&&(this['uniformBuf'+'fers'][_0x2f4d38]=_0x3dadf6,this['dirty']=!(0x185b+0x1d3f*-0x1+0x2*0x272));}['setStorage'+'Buffer'](_0x14399b,_0x1d92b6){const _0x3c93d9=this['format']['storageBuf'+'ferFormats'+'Map']['get'](_0x14399b);w['assert'](_0x3c93d9!==void(-0x1b1*-0x17+-0x1e78+0x1*-0x86f),'Setting\x20a\x20'+'storage\x20bu'+'ffer\x20['+_0x14399b+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['storageBuf'+'fers'][_0x3c93d9]!==_0x1d92b6&&(this['storageBuf'+'fers'][_0x3c93d9]=_0x1d92b6,this['dirty']=!(0x1171*-0x1+-0x12c5+0x2436));}['setTexture'](_0x4a4f01,_0x519563){const _0x8cb3fc=this['format']['textureFor'+'matsMap']['get'](_0x4a4f01);w['assert'](_0x8cb3fc!==void(0x2*-0xef0+0x1*-0x18fd+0x36dd),'Setting\x20a\x20'+'texture\x20['+_0x4a4f01+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['textures'][_0x8cb3fc]!==_0x519563?(this['textures'][_0x8cb3fc]=_0x519563,this['dirty']=!(0x452*-0x4+0xda*0x1b+0x2db*-0x2)):this['renderVers'+'ionUpdated']<_0x519563['renderVers'+'ionDirty']&&(this['dirty']=!(-0x53f*-0x2+-0x126*-0xd+-0x4*0x65b));}['setStorage'+'Texture'](_0x16c509,_0x3261ed){const _0x58ed8f=this['format']['storageTex'+'tureFormat'+'sMap']['get'](_0x16c509);w['assert'](_0x58ed8f!==void(0xc9d+0x23f3*-0x1+-0x2*-0xbab),'Setting\x20a\x20'+'storage\x20te'+'xture\x20['+_0x16c509+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['storageTex'+'tures'][_0x58ed8f]!==_0x3261ed?(this['storageTex'+'tures'][_0x58ed8f]=_0x3261ed,this['dirty']=!(-0xd3b*0x1+0x1*0x8b4+0x3d*0x13)):this['renderVers'+'ionUpdated']<_0x3261ed['renderVers'+'ionDirty']&&(this['dirty']=!(-0x17b9+0x1a62+0x2a9*-0x1));}['updateUnif'+'ormBuffers'](){for(let _0x552579=-0x1*-0x217d+0x14ca*0x1+-0x23*0x18d;_0x552579<this['uniformBuf'+'fers']['length'];_0x552579++)this['uniformBuf'+'fers'][_0x552579]['update']();}['update'](){const {textureFormats:_0x3afb49,storageTextureFormats:_0x35db16,storageBufferFormats:_0x19c251}=this['format'];for(let _0x3d944d=-0x681+-0x1111+0x1792;_0x3d944d<_0x3afb49['length'];_0x3d944d++){const _0x34e81d=_0x3afb49[_0x3d944d];let _0x47de9c=_0x34e81d['scopeId']['value'];_0x47de9c||(_0x34e81d['name']==='uSceneDept'+'hMap'&&(w['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x47de9c=fa(this['device'],'white')),_0x34e81d['name']==='uSceneColo'+'rMap'&&(w['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x47de9c=fa(this['device'],'pink')),_0x47de9c||(w['errorOnce']('Texture\x20'+_0x34e81d['name']+('\x20is\x20requir'+'ed\x20for\x20ren'+'dering\x20but'+'\x20was\x20not\x20s'+'et.\x20Render'+'ing\x20[')+Q['toString']()+']'),_0x47de9c=fa(this['device'],'pink'))),this['setTexture'](_0x34e81d['name'],_0x47de9c);}for(let _0x47d6e8=0x2*-0xa7b+0x1*-0x2617+0x1*0x3b0d;_0x47d6e8<_0x35db16['length'];_0x47d6e8++){const _0x175afc=_0x35db16[_0x47d6e8],_0x15bd06=_0x175afc['scopeId']['value'];w['assert'](_0x15bd06,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20texture\x20s'+'lot\x20['+_0x175afc['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+Q['toString']()+']',this),this['setStorage'+'Texture'](_0x175afc['name'],_0x15bd06);}for(let _0x3795bd=-0x2466+-0x1e61+0x42c7;_0x3795bd<_0x19c251['length'];_0x3795bd++){const _0x4ba6cb=_0x19c251[_0x3795bd],_0x335e9e=_0x4ba6cb['scopeId']['value'];w['assert'](_0x335e9e,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20buffer\x20sl'+'ot\x20['+_0x4ba6cb['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+Q['toString']()+']',this),this['setStorage'+'Buffer'](_0x4ba6cb['name'],_0x335e9e);}this['uniformBuf'+'ferOffsets']['length']=this['uniformBuf'+'fers']['length'];for(let _0x56b56b=0x1*-0x1947+-0x1f8b+0x1c69*0x2;_0x56b56b<this['uniformBuf'+'fers']['length'];_0x56b56b++){const _0x3b427e=this['uniformBuf'+'fers'][_0x56b56b];this['uniformBuf'+'ferOffsets'][_0x56b56b]=_0x3b427e['offset'],this['renderVers'+'ionUpdated']<_0x3b427e['renderVers'+'ionDirty']&&(this['dirty']=!(-0x1f3*-0x9+-0x11f6+-0x6b*-0x1));}this['dirty']&&(this['dirty']=!(0x26bd+-0x22df*0x1+-0x3dd),this['renderVers'+'ionUpdated']=this['device']['renderVers'+'ion'],this['impl']['update'](this));}}const qe={'set'(_0x6d5de6,_0x416299,_0x3e97d5,_0x50062e=-0xee+-0x15d7*0x1+-0xb*-0x212){return _0x6d5de6&~(_0x50062e<<_0x3e97d5)|_0x416299<<_0x3e97d5;},'get'(_0x3667ef,_0x34a325,_0x4ef388=-0x1f0e+-0xc5b+-0x2*-0x15b5){return _0x3667ef>>_0x34a325&_0x4ef388;},'all'(_0x18e0e4,_0x4dc1c1,_0x1fd67e=-0x24*-0x81+0x108e+-0x22b1){const _0x1cfab7=_0x1fd67e<<_0x4dc1c1;return(_0x18e0e4&_0x1cfab7)===_0x1cfab7;},'any'(_0x139fe4,_0x7fe66e,_0x4f2497=-0xa*-0x4f+-0x1*-0x2a5+-0x1*0x5ba){return(_0x139fe4&_0x4f2497<<_0x7fe66e)!==-0x1d7*0xb+-0x85a*-0x3+0x3*-0x19b;}},Xl=-0x17*-0x2f+-0x789*0x3+-0x623*-0x3,ir=0xb*-0x241+0x2*0xea3+-0x236*0x2,Hm=-0x1725+0x37+0x16ee,Wm=-0x2276+-0x4a3*-0x5+0xb4a,$m=0x78d+0x1032+-0x17b8,Xm=-0x12db*0x1+-0x77c*0x2+0x21de,qm=0x1aaa*0x1+-0x712*0x2+0x7*-0x1c8,jm=0x10b2+-0x2291*0x1+0x11f1,iu=-0x24c3+0x887+0xfa*0x1d,Ym=-0xe16+0x176*-0x4+0x29*0x7d,Km=-0x218d+0x1024+0x1181*0x1,Zm=-0x1*-0x14f+-0x21d7+0x20a1,Qm=0x153*-0x7+-0x347*-0x5+0x1*-0x704,yT=0x23*-0x94+0x21cf+-0xd84,vT=iu,ri=class ri{constructor(_0x2c7f41=!(0xbab*-0x2+0x1*-0x21e3+0x5b9*0xa),_0x43ba6a=fs,_0x5f3ce1=Ft,_0x9eda73=rp,_0x5f50cc,_0x4d47b2,_0x265a66,_0x25e301=!(0x24c9+-0x1a*0x76+-0x18cd),_0x3fdb89=!(-0x59d+0x1afb+-0x223*0xa),_0x615262=!(-0xe94+0x42*0x8b+-0x6*0x38b),_0x1a64c5=!(0x4e8+0x2362+-0x284a*0x1)){h(this,'target0',0x11d9+0x4*-0x226+-0x941),(this['setColorBl'+'end'](_0x43ba6a,_0x5f3ce1,_0x9eda73),this['setAlphaBl'+'end'](_0x5f50cc??_0x43ba6a,_0x4d47b2??_0x5f3ce1,_0x265a66??_0x9eda73),this['setColorWr'+'ite'](_0x25e301,_0x3fdb89,_0x615262,_0x1a64c5),this['blend']=_0x2c7f41);}set['blend'](_0x3083ea){this['target0']=qe['set'](this['target0'],_0x3083ea?0x1cbe*-0x1+-0x34f*0xb+0x4124:-0x3ab*0x2+0x17df+-0x33*0x53,Qm);}get['blend'](){return qe['all'](this['target0'],Qm);}['setColorBl'+'end'](_0x5b2f18,_0x39d263,_0x1d4250){this['target0']=qe['set'](this['target0'],_0x5b2f18,Hm,Xl),this['target0']=qe['set'](this['target0'],_0x39d263,Wm,ir),this['target0']=qe['set'](this['target0'],_0x1d4250,$m,ir);}['setAlphaBl'+'end'](_0x31806f,_0x574f51,_0x15167a){this['target0']=qe['set'](this['target0'],_0x31806f,Xm,Xl),this['target0']=qe['set'](this['target0'],_0x574f51,qm,ir),this['target0']=qe['set'](this['target0'],_0x15167a,jm,ir);}['setColorWr'+'ite'](_0x3e049a,_0x43cf30,_0x596f73,_0x19e833){this['redWrite']=_0x3e049a,this['greenWrite']=_0x43cf30,this['blueWrite']=_0x596f73,this['alphaWrite']=_0x19e833;}get['colorOp'](){return qe['get'](this['target0'],Hm,Xl);}get['colorSrcFa'+'ctor'](){return qe['get'](this['target0'],Wm,ir);}get['colorDstFa'+'ctor'](){return qe['get'](this['target0'],$m,ir);}get['alphaOp'](){return qe['get'](this['target0'],Xm,Xl);}get['alphaSrcFa'+'ctor'](){return qe['get'](this['target0'],qm,ir);}get['alphaDstFa'+'ctor'](){return qe['get'](this['target0'],jm,ir);}set['redWrite'](_0x3a210b){this['target0']=qe['set'](this['target0'],_0x3a210b?-0xf7*-0x4+0x197b+-0x1d56:-0x192b+0x8f5+0x2*0x81b,iu);}get['redWrite'](){return qe['all'](this['target0'],iu);}set['greenWrite'](_0x9af9a5){this['target0']=qe['set'](this['target0'],_0x9af9a5?0x2705+0x26a2+-0x19e2*0x3:-0x1fe6+0x1*0x87d+0x1769,Ym);}get['greenWrite'](){return qe['all'](this['target0'],Ym);}set['blueWrite'](_0x2e1a5d){this['target0']=qe['set'](this['target0'],_0x2e1a5d?0x2*0x28d+0x1793+-0x1cac:0x1c30+0x727+-0x2357,Km);}get['blueWrite'](){return qe['all'](this['target0'],Km);}set['alphaWrite'](_0x290c66){this['target0']=qe['set'](this['target0'],_0x290c66?0x271+-0xb48+0x2*0x46c:0x2c5*-0x8+0x20b*0x4+0xdfc,Zm);}get['alphaWrite'](){return qe['all'](this['target0'],Zm);}get['allWrite'](){return qe['get'](this['target0'],vT,yT);}['copy'](_0x55dc52){return this['target0']=_0x55dc52['target0'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}get['key'](){return this['target0'];}['equals'](_0x6f71eb){return this['target0']===_0x6f71eb['target0'];}};h(ri,'NOBLEND',Object['freeze'](new ri())),h(ri,'NOWRITE',Object['freeze'](new ri(void(0x2478+0x11*0x231+0x3*-0x1893),void(0xf4c+-0x73*-0x29+-0x89*0x3f),void(0x58f*0x1+-0x36a+0x1*-0x225),void(-0x1304+-0x1f67*-0x1+-0x15*0x97),void(0x17d6*-0x1+0x1df8*0x1+-0x622*0x1),void(-0x1f*0x79+0x1cf*0x2+0xb09),void(0x4*0x96b+-0x23ca+-0x1e2),!(0x87+0xa*-0x24b+0x1668),!(-0x1e38+-0x271*0xb+0x4*0xe45),!(-0x6f*-0x9+-0x1*-0x5d1+0x33d*-0x3),!(0x2152+0x1c56+-0x3da7)))),h(ri,'ALPHABLEND',Object['freeze'](new ri(!(-0x915+-0x842+0x1157),fs,jh,Yh))),h(ri,'ADDBLEND',Object['freeze'](new ri(!(0x678+-0x1*0x24a1+-0x7*-0x44f),fs,Ft,Ft)));let pt=ri;class Bp{constructor(){h(this,'map',new Map()),h(this,'id',0x4*0x80c+0xb*-0x332+-0x2*-0x17b);}['get'](_0x2879ae){let _0x5e8345=this['map']['get'](_0x2879ae);return _0x5e8345===void(0x1*0xab5+0xd4+-0x1*0xb89)&&(_0x5e8345=this['id']++,this['map']['set'](_0x2879ae,_0x5e8345)),_0x5e8345;}}const xT=new Bp(),Jm=-0x26*-0xb+-0x2*0x6a2+0x5*0x255,e_=-0x1c48+-0x2db*-0x3+0x13b7,t_=-0x16*0x1c3+0x56b+0x215a,_r=class _r{constructor(_0x454b75=Wf,_0x153de3=!(-0x2271+0x1*0xfba+0x12b7)){h(this,'data',-0xd6d+-0x2*0x622+0x1*0x19b1),h(this,'_depthBias',-0x1*0x2176+-0x17ee+0x1cb2*0x2),h(this,'_depthBias'+'Slope',-0x208f+0x1*0x656+0x31*0x89),h(this,'key',-0x8e8+0x1*-0x1222+0x1b0a),(this['func']=_0x454b75,this['write']=_0x153de3);}set['test'](_0x116757){this['func']=_0x116757?Wf:Wi,this['updateKey']();}get['test'](){return this['func']!==Wi;}set['write'](_0x2f924f){this['data']=qe['set'](this['data'],_0x2f924f?0x43*-0x59+-0xdb*0x1c+0x240*0x15:0x62+-0x1d5+-0x35*-0x7,t_),this['updateKey']();}get['write'](){return qe['all'](this['data'],t_);}set['func'](_0x54e382){this['data']=qe['set'](this['data'],_0x54e382,e_,Jm),this['updateKey']();}get['func'](){return qe['get'](this['data'],e_,Jm);}set['depthBias'](_0x2620ac){this['_depthBias']=_0x2620ac,this['updateKey']();}get['depthBias'](){return this['_depthBias'];}set['depthBiasS'+'lope'](_0x241531){this['_depthBias'+'Slope']=_0x241531,this['updateKey']();}get['depthBiasS'+'lope'](){return this['_depthBias'+'Slope'];}['copy'](_0x24a423){return this['data']=_0x24a423['data'],this['_depthBias']=_0x24a423['_depthBias'],this['_depthBias'+'Slope']=_0x24a423['_depthBias'+'Slope'],this['key']=_0x24a423['key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['updateKey'](){const {data:_0x5b82ca,_depthBias:_0x10c92b,_depthBiasSlope:_0x1cb154}=this,_0x37de55=_0x5b82ca+'-'+_0x10c92b+'-'+_0x1cb154;this['key']=xT['get'](_0x37de55);}['equals'](_0x3788a6){return this['key']===_0x3788a6['key'];}};h(_r,'DEFAULT',Object['freeze'](new _r())),h(_r,'NODEPTH',Object['freeze'](new _r(Wi,!(0x2646+-0x486*0x4+-0x142d)))),h(_r,'WRITEDEPTH',Object['freeze'](new _r(Wi,!(-0x1d4a+0xa*-0x1ee+-0x2*-0x184b))));let Yt=_r;class Uy{constructor(){h(this,'globalId',-0x89*-0x1+0x2a*0xcb+-0x1*0x21d7),h(this,'revision',-0x35*0x59+-0xa76*0x3+-0x31cf*-0x1);}['equals'](_0x137ede){return this['globalId']===_0x137ede['globalId']&&this['revision']===_0x137ede['revision'];}['copy'](_0x225ed4){this['globalId']=_0x225ed4['globalId'],this['revision']=_0x225ed4['revision'];}['reset'](){this['globalId']=-0x884+-0x194+0xa18,this['revision']=-0x12d3+0x172*0x17+-0xe6b;}}let s_=-0x30*-0xb8+-0x2130+-0xa8*0x2;class TT{constructor(){s_++,this['version']=new Uy(),this['version']['globalId']=s_;}['increment'](){this['version']['revision']++;}}class wT{constructor(_0x328333){this['name']=_0x328333,this['value']=null,this['versionObj'+'ect']=new TT();}['toJSON'](_0x3ad508){}['setValue'](_0x48fd0e){this['value']=_0x48fd0e,this['versionObj'+'ect']['increment']();}['getValue'](){return this['value'];}}class ET{constructor(_0x195ac4){this['name']=_0x195ac4,this['variables']=new Map();}['resolve'](_0x306cef){return this['variables']['has'](_0x306cef)||this['variables']['set'](_0x306cef,new wT(_0x306cef)),this['variables']['get'](_0x306cef);}['removeValu'+'e'](_0x25db81){for(const _0x4a5663 in this['variables']){const _0x5968a6=this['variables'][_0x4a5663];_0x5968a6['value']===_0x25db81&&(_0x5968a6['value']=null);}}}let bT=0xaf*0x2f+-0xe37+0x1*-0x11ea;class Is{constructor(_0x1ff1dc,_0x5ac94d,_0x5adc31,_0x25478f){h(this,'usage',ms),(w['assert'](arguments['length']<=-0x4e0+0x174f+-0x126b&&(!_0x25478f||typeof _0x25478f=='object'),'incorrect\x20'+'arguments'),this['usage']=(_0x25478f==null?void(-0xd6e+-0x13d5+-0x5*-0x6a7):_0x25478f['usage'])??ms,this['device']=_0x1ff1dc,this['format']=_0x5ac94d,this['numVertice'+'s']=_0x5adc31,this['id']=bT++,this['impl']=_0x1ff1dc['createVert'+'exBufferIm'+'pl'](this,_0x5ac94d,_0x25478f),this['numBytes']=_0x5ac94d['verticesBy'+'teSize']?_0x5ac94d['verticesBy'+'teSize']:_0x5ac94d['size']*_0x5adc31,this['adjustVram'+'SizeTracki'+'ng'](_0x1ff1dc['_vram'],this['numBytes']));const _0x542bea=_0x25478f==null?void(-0x4e*0x49+-0x1d76+0x33b4):_0x25478f['data'];_0x542bea?this['setData'](_0x542bea):this['storage']=new ArrayBuffer(this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0xc16d26=this['device'],_0x382dd9=_0xc16d26['buffers']['indexOf'](this);_0x382dd9!==-(-0x3*-0x87b+0xe0b+0x1*-0x277b)&&_0xc16d26['buffers']['splice'](_0x382dd9,-0x1b8+-0x4e+0x1*0x207),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0xc16d26),this['adjustVram'+'SizeTracki'+'ng'](_0xc16d26['_vram'],-this['storage']['byteLength'])),this['storage']=null;}['adjustVram'+'SizeTracki'+'ng'](_0x28cfc9,_0x32c9a9){w['trace'](q0,this['id']+'\x20size:\x20'+_0x32c9a9+'\x20vram.vb:\x20'+_0x28cfc9['vb']+'\x20=>\x20'+(_0x28cfc9['vb']+_0x32c9a9)),_0x28cfc9['vb']+=_0x32c9a9;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getUsage'](){return this['usage'];}['getNumVert'+'ices'](){return this['numVertice'+'s'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x41e0bd){return _0x41e0bd['byteLength']!==this['numBytes']?(w['error']('VertexBuff'+'er:\x20wrong\x20'+'initial\x20da'+'ta\x20size:\x20e'+'xpected\x20'+this['numBytes']+',\x20got\x20'+_0x41e0bd['byteLength']),!(0x2412+-0xc36*-0x1+-0x3047)):(this['storage']=_0x41e0bd,this['unlock'](),!(-0x1fe6+-0x2*-0x913+0xdc0));}}function hi(_0x105b24){if(_0x105b24==null)return 0xdc7+0x45+-0xe0c;let _0x37106f=-0x46d*0x3+0x3*0xbb2+-0x1*0x15cf;for(let _0x4eef88=-0x1*0x215f+0x1743+0xa1c*0x1,_0x1dca76=_0x105b24['length'];_0x4eef88<_0x1dca76;_0x4eef88++)_0x37106f=(_0x37106f<<-0xa4*0xe+0x1*-0x1b85+0x2482)-_0x37106f+_0x105b24['charCodeAt'](_0x4eef88),_0x37106f|=-0x6df+-0xb9d+-0x1*-0x127c;return _0x37106f;}function By(_0x2905e7){let _0x2e55d3=0x1*-0x513ed55b+0xb6d713eb*0x1+-0xb*-0x28065bf;for(let _0x564661=0x2*-0x37+-0x1be6+0x1c54;_0x564661<_0x2905e7['length'];_0x564661++)_0x2e55d3^=_0x2905e7[_0x564661],_0x2e55d3*=-0x44503b+-0x1dd148b+0x3216659;return _0x2e55d3>>>0x4df*0x1+-0xb0c*0x3+0x1c45*0x1;}const AT=new Bp(),CT=[-0x25a2*-0x1+-0x3d1+0x3*-0xb45,-0x225e+-0x97d*-0x4+0x1c9*-0x2,0x1d3a+-0x6*0x1cf+-0x496*0x4,0x123f+-0x8*-0x2eb+0x84f*-0x5,-0x19b9+0x1bc2+-0x1*0x1f9],PT=new Kt();class kt{constructor(_0x668c55,_0x258a48,_0x1944f2){this['device']=_0x668c55,this['_elements']=[],this['hasUv0']=!(0x1*0x23df+0x1*-0xc6d+-0x1771),this['hasUv1']=!(0x1e92+-0x12+-0x1e7f*0x1),this['hasColor']=!(-0x15*0x7f+0x1*-0xce+-0x1*-0xb3a),this['hasTangent'+'s']=!(0x1*-0x1d78+0x133f+0xa3a),this['verticesBy'+'teSize']=-0x1f4c+-0x2443+0x1685*0x3,this['vertexCoun'+'t']=_0x1944f2,this['interleave'+'d']=_0x1944f2===void(0x2570+0x11e3+-0x3753),this['instancing']=!(-0x63d*0x3+-0x1*0x164+0x141c),this['size']=_0x258a48['reduce']((_0x564652,_0x203f4a)=>_0x564652+Math['ceil'](_0x203f4a['components']*No[_0x203f4a['type']]/(-0xe*-0x24a+0x10e8+-0x30f0))*(-0x71+0xbc5+-0xb50),-0x617+0x1ed2+-0x18bb);let _0x21a9a2=-0x608+0x35*0x12+-0x127*-0x2,_0xe91b22;for(let _0x3dc38d=0xc11*-0x2+0x11*-0x136+0x2cb8,_0x2e3c6d=_0x258a48['length'];_0x3dc38d<_0x2e3c6d;_0x3dc38d++){const _0x4ce784=_0x258a48[_0x3dc38d];_0xe91b22=_0x4ce784['components']*No[_0x4ce784['type']],w['assert'](kt['isElementV'+'alid'](_0x668c55,_0x4ce784),'WebGPU\x20doe'+'s\x20not\x20supp'+'ort\x20the\x20fo'+'rmat\x20of\x20ve'+'rtex\x20eleme'+'nt\x20'+_0x4ce784['semantic']+'\x20:\x20'+cT[_0x4ce784['type']]+'\x20x\x20'+_0x4ce784['components']),_0x1944f2&&(_0x21a9a2=Y['roundUp'](_0x21a9a2,_0xe91b22),w['assert'](_0xe91b22%(0x4*0x2e3+-0x1e4f*0x1+-0x1*-0x12c7)===0x26a1+0x95c+0xfff*-0x3,'Non-interl'+'eaved\x20vert'+'ex\x20format\x20'+'with\x20eleme'+'nt\x20size\x20no'+'t\x20multiple'+'\x20of\x204\x20can\x20'+'have\x20perfo'+'rmance\x20imp'+'act\x20on\x20som'+'e\x20platform'+'s.\x20Element'+'\x20size:\x20'+_0xe91b22));const _0x190933=_0x4ce784['asInt']??!(-0x15a9*0x1+0x256a+-0xfc0),_0x2b6003=_0x190933?!(-0x14e9*0x1+0xb19+0x9d1):_0x4ce784['normalize']??!(-0xb*0x138+0x32c+0xa3d),_0x1832ed={'name':_0x4ce784['semantic'],'offset':_0x1944f2?_0x21a9a2:_0x4ce784['hasOwnProp'+'erty']('offset')?_0x4ce784['offset']:_0x21a9a2,'stride':_0x1944f2?_0xe91b22:_0x4ce784['hasOwnProp'+'erty']('stride')?_0x4ce784['stride']:this['size'],'dataType':_0x4ce784['type'],'numComponents':_0x4ce784['components'],'normalize':_0x2b6003,'size':_0xe91b22,'asInt':_0x190933};this['_elements']['push'](_0x1832ed),_0x1944f2?_0x21a9a2+=_0xe91b22*_0x1944f2:_0x21a9a2+=Math['ceil'](_0xe91b22/(0x1721+0x1edc+0x29*-0x151))*(-0x2332+0x55a+0x1ddc),_0x4ce784['semantic']===is?this['hasUv0']=!(-0x2*0x1147+-0x3*0xc0e+-0x8*-0x8d7):_0x4ce784['semantic']===ba?this['hasUv1']=!(-0x1971+0x572+0x13ff):_0x4ce784['semantic']===Wt?this['hasColor']=!(0xcf5+0x9c*-0x2d+0xe77):_0x4ce784['semantic']===yi&&(this['hasTangent'+'s']=!(0x2cd+-0x1490+0x11c3));}_0x1944f2&&(this['verticesBy'+'teSize']=_0x21a9a2),this['_evaluateH'+'ash']();}get['elements'](){return this['_elements'];}static['getDefault'+'Instancing'+'Format'](_0x26973b){return PT['get'](_0x26973b,()=>new kt(_0x26973b,[{'semantic':Mp,'components':0x4,'type':Ve},{'semantic':Dp,'components':0x4,'type':Ve},{'semantic':Ip,'components':0x4,'type':Ve},{'semantic':Ln,'components':0x4,'type':Ve}]));}static['isElementV'+'alid'](_0x506634,_0x3e2e18){const _0x9db7c8=_0x3e2e18['components']*No[_0x3e2e18['type']];return!(_0x506634['isWebGPU']&&!CT['includes'](_0x9db7c8));}['update'](){w['assert'](!this['device']['isWebGPU'],'VertexForm'+'at#update\x20'+'is\x20not\x20sup'+'ported\x20on\x20'+'WebGPU\x20and'+'\x20VertexFor'+'mat\x20cannot'+'\x20be\x20modifi'+'ed.'),this['_evaluateH'+'ash']();}['_evaluateH'+'ash'](){const _0x7c2c91=[],_0x1108cb=[],_0x2e0854=this['_elements']['length'];for(let _0x7d5dfc=-0x11c*0x14+-0x1cf*-0x1+0x1461;_0x7d5dfc<_0x2e0854;_0x7d5dfc++){const {name:_0x2fab81,dataType:_0x16459e,numComponents:_0x42517f,normalize:_0x33d499,offset:_0x241e17,stride:_0x34319f,size:_0x313e2b,asInt:_0x306cc6}=this['_elements'][_0x7d5dfc],_0x1d8e89=_0x2fab81+_0x16459e+_0x42517f+_0x33d499+_0x306cc6;_0x7c2c91['push'](_0x1d8e89);const _0xac259d=_0x1d8e89+_0x241e17+_0x34319f+_0x313e2b;_0x1108cb['push'](_0xac259d);}_0x7c2c91['sort']();const _0x3a68fe=_0x7c2c91['join']();this['batchingHa'+'sh']=hi(_0x3a68fe),this['shaderProc'+'essingHash'+'String']=_0x3a68fe,this['renderingH'+'ashString']=_0x1108cb['join']('_'),this['renderingH'+'ash']=AT['get'](this['renderingH'+'ashString']);}}const MT=new Bp(),zh=class zh{constructor(_0x152500={}){h(this,'_func'),h(this,'_ref'),h(this,'_fail'),h(this,'_zfail'),h(this,'_zpass'),h(this,'_readMask'),h(this,'_writeMask'),h(this,'_dirty',!(0x50b*-0x5+0x2c1*-0x5+0xa*0x3e6)),h(this,'_key'),(this['_func']=_0x152500['func']??Wi,this['_ref']=_0x152500['ref']??-0x239*0x2+-0xb*-0x1a3+-0xd8f,this['_readMask']=_0x152500['readMask']??0x1*-0x12d+-0x2262+-0x1247*-0x2,this['_writeMask']=_0x152500['writeMask']??0xfec+0x1962+0x1*-0x284f,this['_fail']=_0x152500['fail']??xn,this['_zfail']=_0x152500['zfail']??xn,this['_zpass']=_0x152500['zpass']??xn,this['_evalKey']());}set['func'](_0x3cb4c4){this['_func']=_0x3cb4c4,this['_dirty']=!(0x1*-0x1c19+-0x4bc+0x20d5);}get['func'](){return this['_func'];}set['ref'](_0x1a3534){this['_ref']=_0x1a3534,this['_dirty']=!(-0x1b4b*-0x1+-0x1*-0x1522+-0x306d);}get['ref'](){return this['_ref'];}set['fail'](_0xd6172e){this['_fail']=_0xd6172e,this['_dirty']=!(0xb32*-0x1+-0x1*-0x1b5b+0x1029*-0x1);}get['fail'](){return this['_fail'];}set['zfail'](_0x531928){this['_zfail']=_0x531928,this['_dirty']=!(-0x1*-0x347+0x2135+-0x247c);}get['zfail'](){return this['_zfail'];}set['zpass'](_0x4c0dc7){this['_zpass']=_0x4c0dc7,this['_dirty']=!(-0x3df*-0x8+-0x1056+-0xea2);}get['zpass'](){return this['_zpass'];}set['readMask'](_0x142382){this['_readMask']=_0x142382,this['_dirty']=!(-0x1303+-0x6f8+0x19fb);}get['readMask'](){return this['_readMask'];}set['writeMask'](_0x271a95){this['_writeMask']=_0x271a95,this['_dirty']=!(0x25a9+0x135*-0x6+-0x1*0x1e6b);}get['writeMask'](){return this['_writeMask'];}['_evalKey'](){const {_func:_0x215676,_ref:_0x141384,_fail:_0x50a6c2,_zfail:_0x2c214d,_zpass:_0x50f69e,_readMask:_0xbc50bf,_writeMask:_0x4f7eeb}=this,_0x27bbe7=_0x215676+','+_0x141384+','+_0x50a6c2+','+_0x2c214d+','+_0x50f69e+','+_0xbc50bf+','+_0x4f7eeb;this['_key']=MT['get'](_0x27bbe7),this['_dirty']=!(-0x1*-0xde5+0x4*-0x2d7+0x4*-0xa2);}get['key'](){return this['_dirty']&&this['_evalKey'](),this['_key'];}['copy'](_0x2d22fc){return this['_func']=_0x2d22fc['_func'],this['_ref']=_0x2d22fc['_ref'],this['_readMask']=_0x2d22fc['_readMask'],this['_writeMask']=_0x2d22fc['_writeMask'],this['_fail']=_0x2d22fc['_fail'],this['_zfail']=_0x2d22fc['_zfail'],this['_zpass']=_0x2d22fc['_zpass'],this['_dirty']=_0x2d22fc['_dirty'],this['_key']=_0x2d22fc['_key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}};h(zh,'DEFAULT',Object['freeze'](new zh()));let pi=zh;const ql=new Set(),Vh=class Vh extends me{constructor(_0x5ee715,_0x5bf978){var _0x23f8ab,_0x2103d7,_0x3ba032,_0x1f73d7,_0x38c6e3,_0x3a4876;super(),h(this,'canvas'),h(this,'backBuffer',null),h(this,'backBuffer'+'Size',new J()),h(this,'backBuffer'+'Format'),h(this,'backBuffer'+'Antialias',!(-0x607*0x6+-0x1*0x18d7+-0x39*-0x112)),h(this,'isWebGPU',!(0xa37+-0xa52+0x1c)),h(this,'isWebGL2',!(-0x24db+-0x84e+-0x6*-0x787)),h(this,'isHdr',!(0x6df*-0x5+0xd5d+0x14ff)),h(this,'scope'),h(this,'maxIndirec'+'tDrawCount',0xcc7+-0x88+-0x1*0x83f),h(this,'maxAnisotr'+'opy'),h(this,'maxCubeMap'+'Size'),h(this,'maxTexture'+'Size'),h(this,'maxVolumeS'+'ize'),h(this,'maxColorAt'+'tachments',0x60d*0x5+0x17a0+-0x35e0),h(this,'precision'),h(this,'samples'),h(this,'maxSamples',-0xe5*-0x28+-0x23f4+-0xf*-0x3),h(this,'supportsSt'+'encil'),h(this,'supportsCo'+'mpute',!(0x2*-0x9fd+-0x1106+0x1*0x2501)),h(this,'supportsSt'+'orageTextu'+'reRead',!(0xad9*-0x2+-0x203*0xe+0x31dd)),h(this,'renderTarg'+'et',null),h(this,'shaders',[]),h(this,'textures',[]),h(this,'targets',new Set()),h(this,'renderVers'+'ion',0xf00+0xb*-0x152+-0x7a),h(this,'renderPass'+'Index'),h(this,'insideRend'+'erPass',!(-0x2e*0x53+0x105+-0xde6*-0x1)),h(this,'supportsUn'+'iformBuffe'+'rs',!(-0xfa3+0x1b8*-0x2+0x1314)),h(this,'supportsCl'+'ipDistance'+'s',!(0x279*-0xb+0x105*0x23+-0x87b)),h(this,'textureFlo'+'atRenderab'+'le'),h(this,'textureHal'+'fFloatRend'+'erable'),h(this,'textureRG1'+'1B10Render'+'able',!(0x664+-0x3*-0x6da+-0x1af1)),h(this,'textureFlo'+'atFilterab'+'le',!(0x1*0x214b+0x99f+-0x2ae9)),h(this,'quadVertex'+'Buffer'),h(this,'blendState',new pt()),h(this,'depthState',new Yt()),h(this,'stencilEna'+'bled',!(0x1*0x892+0x38c*-0x3+0x213)),h(this,'stencilFro'+'nt',new pi()),h(this,'stencilBac'+'k',new pi()),h(this,'dynamicBuf'+'fers'),h(this,'gpuProfile'+'r'),h(this,'defaultCle'+'arOptions',{'color':[0xac1*-0x3+0x218b+0x2*-0xa4,0x900+0x97*-0x3+-0x73b*0x1,-0xec4+0x226c+0x4ea*-0x4,0x1da7*0x1+0xd2c+-0x2ad2],'depth':0x1,'stencil':0x0,'flags':jo|Yo}),h(this,'clientRect',{'width':0x0,'height':0x0}),h(this,'_shadersDi'+'rty',!(-0xca3+0x3*0x923+-0xec5)),h(this,'capsDefine'+'s',new Map()),h(this,'mapsToClea'+'r',new Set()),(this['canvas']=_0x5ee715,'setAttribu'+'te'in _0x5ee715&&_0x5ee715['setAttribu'+'te']('data-engin'+'e','PlayCanvas'+'\x20'+hn),this['initOption'+'s']={..._0x5bf978},(_0x23f8ab=this['initOption'+'s'])['alpha']??(_0x23f8ab['alpha']=!(-0x8ad+0xa*0x209+-0x3d*0x31)),(_0x2103d7=this['initOption'+'s'])['depth']??(_0x2103d7['depth']=!(0x2412+0xe4f*-0x1+-0x3*0x741)),(_0x3ba032=this['initOption'+'s'])['stencil']??(_0x3ba032['stencil']=!(-0x175d+0x2cf*0x7+-0x3b4*-0x1)),(_0x1f73d7=this['initOption'+'s'])['antialias']??(_0x1f73d7['antialias']=!(-0x259*0xf+-0x122+0x2459)),(_0x38c6e3=this['initOption'+'s'])['powerPrefe'+'rence']??(_0x38c6e3['powerPrefe'+'rence']='high-perfo'+'rmance'),(_0x3a4876=this['initOption'+'s'])['displayFor'+'mat']??(_0x3a4876['displayFor'+'mat']=oT),this['_maxPixelR'+'atio']=Ae['browser']?Math['min'](0x3d+0x4ff*0x6+0x6*-0x509,window['devicePixe'+'lRatio']):-0x14f8+0x1*-0x166b+0x2b64,this['buffers']=[],this['_vram']={'texShadow':0x0,'texAsset':0x0,'texLightmap':0x0,'tex':0x0,'vb':0x0,'ib':0x0,'ub':0x0,'sb':0x0},this['_shaderSta'+'ts']={'vsCompiled':0x0,'fsCompiled':0x0,'linked':0x0,'materialShaders':0x0,'compileTime':0x0},this['initialize'+'ContextCac'+'hes'](),this['_drawCalls'+'PerFrame']=-0xb5d*-0x3+0x1*0x4c3+-0x26da,this['_shaderSwi'+'tchesPerFr'+'ame']=0x24b5*-0x1+0x1944+0xb71,this['_primsPerF'+'rame']=[]);for(let _0x17f3bc=cd;_0x17f3bc<=oa;_0x17f3bc++)this['_primsPerF'+'rame'][_0x17f3bc]=0xc*0x2+0x1da9+-0x1dc1;this['_renderTar'+'getCreatio'+'nTime']=-0x1*0x1cc9+0x3a*0xab+-0x9f5,this['scope']=new ET('Device'),this['textureBia'+'s']=this['scope']['resolve']('textureBia'+'s'),this['textureBia'+'s']['setValue'](0x1821+0x2e*0x4+-0x18d9);}['postInit'](){const _0x2a8654=new kt(this,[{'semantic':Me,'components':0x2,'type':Ve}]),_0x20eb60=new Float32Array([-(-0xe*0x257+-0x1*-0x131b+0xda8),-(-0x1098+-0x47*-0x3b+-0x14*-0x3),0x14ba+-0x1fae+0x37*0x33,-(0x1256+0x119b*0x1+0x398*-0xa),-(-0x4b*-0x35+-0x1*0x7d+0x3*-0x503),0x2079+0x10bc+-0x3134,0x29*0xc2+-0x1d06+-0x20b,-0x6b*0x25+-0x24bc+-0xd*-0x404]);this['quadVertex'+'Buffer']=new Is(this,_0x2a8654,-0x766+-0x22a5+-0x1*-0x2a0f,{'data':_0x20eb60});}['initCapsDe'+'fines'](){const {capsDefines:_0x12ce4e}=this;_0x12ce4e['clear'](),this['textureFlo'+'atFilterab'+'le']&&_0x12ce4e['set']('CAPS_TEXTU'+'RE_FLOAT_F'+'ILTERABLE',''),this['textureFlo'+'atRenderab'+'le']&&_0x12ce4e['set']('CAPS_TEXTU'+'RE_FLOAT_R'+'ENDERABLE','');}['destroy'](){var _0xaa1466,_0x33e2c1,_0x487e56;this['fire']('destroy'),(_0xaa1466=this['quadVertex'+'Buffer'])==null||_0xaa1466['destroy'](),this['quadVertex'+'Buffer']=null,(_0x33e2c1=this['dynamicBuf'+'fers'])==null||_0x33e2c1['destroy'](),this['dynamicBuf'+'fers']=null,(_0x487e56=this['gpuProfile'+'r'])==null||_0x487e56['destroy'](),this['gpuProfile'+'r']=null;}['onDestroyS'+'hader'](_0x4cccf5){this['fire']('destroy:sh'+'ader',_0x4cccf5);const _0x3abaa3=this['shaders']['indexOf'](_0x4cccf5);_0x3abaa3!==-(-0x2*-0x1046+0x26*-0xdf+0x8f)&&this['shaders']['splice'](_0x3abaa3,-0x2*-0x5ff+0x1ef3+-0x2af0);}['postDestro'+'y'](){this['scope']=null,this['canvas']=null;}['loseContex'+'t'](){var _0x11d469;this['contextLos'+'t']=!(-0x8a7*-0x1+-0x1*0x161b+0xd74),this['backBuffer'+'Size']['set'](-(-0xae8+0x1d*0xd3+-0xcfe),-(-0x380*-0x9+-0x10ca+-0xeb5));for(const _0x2f1c91 of this['textures'])_0x2f1c91['loseContex'+'t']();for(const _0x152dd0 of this['buffers'])_0x152dd0['loseContex'+'t']();for(const _0x4e3353 of this['targets'])_0x4e3353['loseContex'+'t']();(_0x11d469=this['gpuProfile'+'r'])==null||_0x11d469['loseContex'+'t']();}['restoreCon'+'text'](){var _0x2ad747,_0x23f2c5;this['contextLos'+'t']=!(0x18e*-0x9+-0x1*0x1673+0x2472),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes']();for(const _0x229d08 of this['buffers'])_0x229d08['unlock']();(_0x23f2c5=(_0x2ad747=this['gpuProfile'+'r'])==null?void(0x1*0xbb7+0x8*0x12d+-0x151f):_0x2ad747['restoreCon'+'text'])==null||_0x23f2c5['call'](_0x2ad747);}['toJSON'](_0x1afa34){}['initialize'+'ContextCac'+'hes'](){this['vertexBuff'+'ers']=[],this['shader']=null,this['shaderVali'+'d']=void(0x7*0x4db+-0x1ba3+-0x65a),this['shaderAsyn'+'cCompile']=!(0x1e*-0x10c+-0xc25+-0x32*-0xdf),this['renderTarg'+'et']=null;}['initialize'+'RenderStat'+'e'](){this['blendState']=new pt(),this['depthState']=new Yt(),this['cullMode']=pa,this['vx']=this['vy']=this['vw']=this['vh']=0x7b*-0x7+0x1eb*0x10+-0x1b53,this['sx']=this['sy']=this['sw']=this['sh']=-0x152+-0xdb*-0x1e+0x616*-0x4,this['blendColor']=new ie(0xee+-0x1a26+0x1938,0x1*0x1574+-0x92*0x13+-0xa9e,-0x1483+0xa57+0xa2c,-0x3b*-0x91+-0x11d8+-0xf93);}['setStencil'+'State'](_0x449440,_0x1a6393){w['assert'](!(-0x205b+-0x1333+-0x43*-0xc5));}['setBlendSt'+'ate'](_0x3aecf2){w['assert'](!(0x1*0x1af+0x1200+-0x2*0x9d7));}['setBlendCo'+'lor'](_0xf9f4fc,_0x4995c9,_0x38106f,_0x361b62){w['assert'](!(0x2*-0x664+-0xa1e+0x16e7));}['setDepthSt'+'ate'](_0x2103cd){w['assert'](!(-0x872+0x3dc+0x497));}['setCullMod'+'e'](_0x191923){w['assert'](!(0xb*0x211+-0x255*0xd+0x797));}['setRenderT'+'arget'](_0x2f196f){this['renderTarg'+'et']=_0x2f196f;}['setVertexB'+'uffer'](_0x5223f4){_0x5223f4&&this['vertexBuff'+'ers']['push'](_0x5223f4);}['clearVerte'+'xBuffer'](){this['vertexBuff'+'ers']['length']=0x1*0x20e+0x17a9+0xe3*-0x1d;}['getIndirec'+'tDrawSlot'](){return 0x121f+0x591*0x6+-0x3385;}get['indirectDr'+'awBuffer'](){return null;}['getRenderT'+'arget'](){return this['renderTarg'+'et'];}['initRender'+'Target'](_0x50ca14){if(_0x50ca14['initialize'+'d'])return;const _0x5dc33a=de();this['fire']('fbo:create',{'timestamp':_0x5dc33a,'target':this}),_0x50ca14['init'](),this['targets']['add'](_0x50ca14),this['_renderTar'+'getCreatio'+'nTime']+=de()-_0x5dc33a;}['draw'](_0x51baf4,_0x5b77dc,_0x1c1eb0,_0x17ba96,_0x3f5c41=!(0x21bb+-0x912+-0x18a9*0x1),_0x4f5c4c=!(0x724+0x313*-0x9+0x5*0x41b)){w['assert'](!(-0x1*0x89f+-0x163b+0x1edb));}['_isBrowser'+'Interface'](_0x147887){return this['_isImageBr'+'owserInter'+'face'](_0x147887)||this['_isImageCa'+'nvasInterf'+'ace'](_0x147887)||this['_isImageVi'+'deoInterfa'+'ce'](_0x147887);}['_isImageBr'+'owserInter'+'face'](_0x6a3892){return typeof ImageBitmap<'u'&&_0x6a3892 instanceof ImageBitmap||typeof HTMLImageElement<'u'&&_0x6a3892 instanceof HTMLImageElement;}['_isImageCa'+'nvasInterf'+'ace'](_0x6c3456){return typeof HTMLCanvasElement<'u'&&_0x6c3456 instanceof HTMLCanvasElement;}['_isImageVi'+'deoInterfa'+'ce'](_0x17f520){return typeof HTMLVideoElement<'u'&&_0x17f520 instanceof HTMLVideoElement;}['resizeCanv'+'as'](_0x505a31,_0x46d01f){const _0x171362=Math['min'](this['_maxPixelR'+'atio'],Ae['browser']?window['devicePixe'+'lRatio']:0x1*0x10e6+0x1*0x1468+-0x254d),_0x1e8120=Math['floor'](_0x505a31*_0x171362),_0x53f3f8=Math['floor'](_0x46d01f*_0x171362);(_0x1e8120!==this['canvas']['width']||_0x53f3f8!==this['canvas']['height'])&&this['setResolut'+'ion'](_0x1e8120,_0x53f3f8);}['setResolut'+'ion'](_0x569276,_0x150633){this['canvas']['width']=_0x569276,this['canvas']['height']=_0x150633,this['fire'](Vh['EVENT_RESI'+'ZE'],_0x569276,_0x150633);}['update'](){this['updateClie'+'ntRect']();}['updateClie'+'ntRect'](){if(Ae['worker'])this['clientRect']['width']=this['canvas']['width'],this['clientRect']['height']=this['canvas']['height'];else{const _0xc98b8b=this['canvas']['getBoundin'+'gClientRec'+'t']();this['clientRect']['width']=_0xc98b8b['width'],this['clientRect']['height']=_0xc98b8b['height'];}}get['width'](){return this['canvas']['width'];}get['height'](){return this['canvas']['height'];}set['fullscreen'](_0x569410){w['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.');}get['fullscreen'](){return w['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.'),!(-0x7*-0x479+0x0+-0x1f4e*0x1);}set['maxPixelRa'+'tio'](_0x296e7a){this['_maxPixelR'+'atio']=_0x296e7a;}get['maxPixelRa'+'tio'](){return this['_maxPixelR'+'atio'];}get['deviceType'](){return this['_deviceTyp'+'e'];}['startRende'+'rPass'](_0x5c43ef){}['endRenderP'+'ass'](_0x5ee389){}['startCompu'+'tePass'](_0x1d4436){}['endCompute'+'Pass'](){}['frameStart'](){this['renderPass'+'Index']=-0x1*0x16f0+-0x2*-0x8c+0xe9*0x18,this['renderVers'+'ion']++,w['call'](()=>{if(mi['get'](Z0)){const _0x5f094d=this['textures']['slice']();_0x5f094d['sort']((_0x1cf2fb,_0x4c6cc4)=>_0x4c6cc4['gpuSize']-_0x1cf2fb['gpuSize']),w['log']('Textures:\x20'+_0x5f094d['length']);let _0x1e02ba=0xdc7*0x1+0x138e+0xa1*-0x35;_0x5f094d['forEach']((_0x19a79d,_0xafdde8)=>{const _0x4d0cf2=_0x19a79d['gpuSize'];_0x1e02ba+=_0x4d0cf2,w['log'](_0xafdde8+'.\x20'+_0x19a79d['name']+'\x20'+_0x19a79d['width']+'x'+_0x19a79d['height']+'\x20VRAM:\x20'+(_0x4d0cf2/(0xa06+-0x21ea+0x1be4)/(0x92a+-0x20ab+0x1b81))['toFixed'](-0x1*-0x1c02+0x69d+0x229d*-0x1)+'\x20MB');}),w['log']('Total:\x20'+(_0x1e02ba/(-0x98e+-0x5+0xd93)/(0x2259+0xeac+-0x19*0x1cd))['toFixed'](-0x1403+0x1da9+0x1*-0x9a4)+'MB');}});}['frameEnd'](){this['mapsToClea'+'r']['forEach'](_0x5f1819=>_0x5f1819['clear']()),this['mapsToClea'+'r']['clear']();}['computeDis'+'patch'](_0x4fc5ab,_0x2bc706='Unnamed'){}['getRendera'+'bleHdrForm'+'at'](_0x3e77d1=[In,nt,Xt],_0xbf0c87=!(0x5d7*0x3+0x209*0x9+0x1*-0x23d6),_0x1f747e=-0x1ef4+0x14*0x14c+-0x1*-0x505){for(let _0x54f7f3=0xf7d+0x183d+-0x27ba;_0x54f7f3<_0x3e77d1['length'];_0x54f7f3++){const _0x3fc7a1=_0x3e77d1[_0x54f7f3];switch(_0x3fc7a1){case In:{if(this['textureRG1'+'1B10Render'+'able'])return _0x3fc7a1;break;}case nt:if(this['textureHal'+'fFloatRend'+'erable'])return _0x3fc7a1;break;case Xt:if(this['isWebGPU']&&_0x1f747e>-0xb9f+0x41a+0x786)continue;if(this['textureFlo'+'atRenderab'+'le']&&(!_0xbf0c87||this['textureFlo'+'atFilterab'+'le']))return _0x3fc7a1;break;}}}['validateAt'+'tributes'](_0x5c0cff,_0x106b20,_0x33c353){w['call'](()=>{ql['clear'](),_0x106b20==null||_0x106b20['elements']['forEach'](_0x451afe=>ql['add'](Le[_0x451afe['name']])),_0x33c353==null||_0x33c353['elements']['forEach'](_0x439278=>ql['add'](Le[_0x439278['name']]));for(const [_0x58f868,_0x249e84]of _0x5c0cff['attributes'])ql['has'](_0x58f868)||w['errorOnce']('Vertex\x20att'+'ribute\x20['+_0x249e84+(']\x20at\x20locat'+'ion\x20')+_0x58f868+('\x20required\x20'+'by\x20the\x20sha'+'der\x20is\x20not'+'\x20present\x20i'+'n\x20the\x20curr'+'ently\x20assi'+'gned\x20verte'+'x\x20buffers,'+'\x20while\x20ren'+'dering\x20[')+Q['toString']()+']',{'shader':_0x5c0cff,'vb0Format':_0x106b20,'vb1Format':_0x33c353});});}};h(Vh,'EVENT_RESI'+'ZE','resizecanv'+'as');let $e=Vh,DT=0x1*0x2573+0x181*0xe+-0x3a81;class gt{constructor(_0x42a494={}){h(this,'name'),h(this,'_device'),h(this,'_colorBuff'+'er'),h(this,'_colorBuff'+'ers'),h(this,'_depthBuff'+'er'),h(this,'_depth'),h(this,'_stencil'),h(this,'_samples'),h(this,'autoResolv'+'e'),h(this,'_face'),h(this,'_mipLevel'),h(this,'_mipmaps'),h(this,'flipY');var _0x2ed05b,_0x54a290,_0x4c61f2,_0x50167e,_0x919c3b,_0x4df309;w['assert'](!(_0x42a494 instanceof $e),'pc.RenderT'+'arget\x20cons'+'tructor\x20no'+'\x20longer\x20ac'+'cepts\x20Grap'+'hicsDevice'+'\x20parameter'+'.'),this['id']=DT++;const _0x1ae208=((_0x2ed05b=_0x42a494['colorBuffe'+'r'])==null?void(0x81*-0x3+0x8ea+-0x767*0x1):_0x2ed05b['device'])??((_0x54a290=_0x42a494['colorBuffe'+'rs'])==null?void(-0x33f*0x2+0x491+0x1ed):_0x54a290[-0x72a+0x3*-0xc63+0x2c53]['device'])??((_0x4c61f2=_0x42a494['depthBuffe'+'r'])==null?void(-0x193*0x4+-0xde3+0x142f*0x1):_0x4c61f2['device'])??_0x42a494['graphicsDe'+'vice'];w['assert'](_0x1ae208,'Failed\x20to\x20'+'obtain\x20the'+'\x20device,\x20c'+'olorBuffer'+'\x20nor\x20depth'+'Buffer\x20sto'+'re\x20it.'),this['_device']=_0x1ae208;const {maxSamples:_0x3ffada}=this['_device'];if(this['_samples']=Math['min'](_0x42a494['samples']??0x19cb+-0xcba+-0xd10,_0x3ffada),_0x1ae208['isWebGPU']&&(this['_samples']=this['_samples']>-0x1b1b+-0x1e4*0x1+0x4*0x740?_0x3ffada:0xf4c+0x1*-0x1445+0x4fa),this['_colorBuff'+'er']=_0x42a494['colorBuffe'+'r'],_0x42a494['colorBuffe'+'r']&&(this['_colorBuff'+'ers']=[_0x42a494['colorBuffe'+'r']]),this['_depthBuff'+'er']=_0x42a494['depthBuffe'+'r'],this['_face']=_0x42a494['face']??-0x40c*0x6+-0x1245*0x1+0x2a8d*0x1,this['_depthBuff'+'er']){const _0x15b878=this['_depthBuff'+'er']['_format'];_0x15b878===$i||_0x15b878===vn?(this['_depth']=!(0x1d01+0x2474+-0x4175),this['_stencil']=!(-0x16d2+-0x1e59+0x352c)):_0x15b878===sd?(this['_depth']=!(0xa35+0x1*0xdde+-0x1813),this['_stencil']=!(-0x1*-0x267b+-0x219b*-0x1+-0x4816)):_0x15b878===Ji&&this['_depthBuff'+'er']['device']['isWebGPU']&&this['_samples']>0x7af+0x549+-0xcf7?(this['_depth']=!(0x1b3*-0x2+-0x5a8*0x6+0x2556),this['_stencil']=!(0x1a7d+-0x3*-0x8c3+-0x34c5)):(w['warn']('Incorrect\x20'+'depthBuffe'+'r\x20format.\x20'+'Must\x20be\x20pc'+'.PIXELFORM'+'AT_DEPTH\x20o'+'r\x20pc.PIXEL'+'FORMAT_DEP'+'THSTENCIL'),this['_depth']=!(0x251a+0x1cb5+0x1*-0x41ce),this['_stencil']=!(-0x1*0x167a+0x67f*-0x6+0x3d75));}else this['_depth']=_0x42a494['depth']??!(0x1700+0xb*-0x17b+-0xbf*0x9),this['_stencil']=_0x42a494['stencil']??!(-0x237b*0x1+-0x1d*-0x84+0x92*0x24);_0x42a494['colorBuffe'+'rs']&&(w['assert'](!this['_colorBuff'+'ers'],'When\x20const'+'ructing\x20Re'+'nderTarget'+'\x20and\x20optio'+'ns.colorBu'+'ffers\x20is\x20u'+'sed,\x20optio'+'ns.colorBu'+'ffer\x20must\x20'+'not\x20be\x20use'+'d.'),this['_colorBuff'+'ers']||(this['_colorBuff'+'ers']=[..._0x42a494['colorBuffe'+'rs']],this['_colorBuff'+'er']=_0x42a494['colorBuffe'+'rs'][0x12b5*-0x1+-0x113+0x13c8])),this['autoResolv'+'e']=_0x42a494['autoResolv'+'e']??!(0x2559+0x3*0xb2b+0x179e*-0x3),this['name']=_0x42a494['name'],this['name']||(this['name']=(_0x50167e=this['_colorBuff'+'er'])==null?void(-0x15b*0xa+-0x485*0x3+0x277*0xb):_0x50167e['name']),this['name']||(this['name']=(_0x919c3b=this['_depthBuff'+'er'])==null?void(-0x5*-0x40f+0x17*0x84+-0x1*0x2027):_0x919c3b['name']),this['name']||(this['name']='Untitled'),this['flipY']=_0x42a494['flipY']??!(0x1fcb*-0x1+0x33a*-0xa+-0x10*-0x401),this['_mipLevel']=_0x42a494['mipLevel']??0x28*0x63+-0x2609+-0x6d*-0x35,this['_mipLevel']>0x1*-0x26a1+0x517*-0x5+0x4014&&this['_depth']&&(w['error']('Rendering\x20'+'to\x20a\x20mipLe'+'vel\x20is\x20not'+'\x20supported'+'\x20when\x20rend'+'er\x20target\x20'+'uses\x20a\x20dep'+'th\x20buffer.'+'\x20Ignoring\x20'+'mipLevel\x20'+this['_mipLevel']+('\x20for\x20rende'+'r\x20target\x20')+this['name'],{'renderTarget':this,'options':_0x42a494}),this['_mipLevel']=0x1cfc+0x883*0x4+-0x3f08),this['_mipmaps']=_0x42a494['mipLevel']===void(0xbc*-0x2d+-0x1b97+0x3ca3),this['validateMr'+'t'](),this['impl']=_0x1ae208['createRend'+'erTargetIm'+'pl'](this),w['trace'](Mm,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+('\x20[samples:'+'\x20')+this['samples']+']'+((_0x4df309=this['_colorBuff'+'ers'])!=null&&_0x4df309['length']?'[MRT:\x20'+this['_colorBuff'+'ers']['length']+']':'')+(this['colorBuffe'+'r']?'[Color]':'')+(this['depth']?'[Depth]':'')+(this['stencil']?'[Stencil]':'')+'[Face:'+this['face']+']');}['destroy'](){w['trace'](Mm,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x43ba12=this['_device'];_0x43ba12&&(_0x43ba12['targets']['delete'](this),_0x43ba12['renderTarg'+'et']===this&&_0x43ba12['setRenderT'+'arget'](null),this['destroyFra'+'meBuffers']());}['destroyFra'+'meBuffers'](){const _0x310864=this['_device'];_0x310864&&this['impl']['destroy'](_0x310864);}['destroyTex'+'tureBuffer'+'s'](){var _0x547634,_0x23cf71;(_0x547634=this['_depthBuff'+'er'])==null||_0x547634['destroy'](),this['_depthBuff'+'er']=null,(_0x23cf71=this['_colorBuff'+'ers'])==null||_0x23cf71['forEach'](_0x31cfce=>{_0x31cfce['destroy']();}),this['_colorBuff'+'ers']=null,this['_colorBuff'+'er']=null;}['resize'](_0x28bfcb,_0x3623a3){var _0x4ed9cc,_0x5d065d;if(this['width']!==_0x28bfcb||this['height']!==_0x3623a3){if(this['mipLevel']>-0x1d09+-0xfa4*0x2+0x1*0x3c51){w['warn']('Only\x20a\x20ren'+'der\x20target'+'\x20rendering'+'\x20to\x20mipLev'+'el\x200\x20can\x20b'+'e\x20resized,'+'\x20ignoring.',this);return;}const _0x3debe5=this['_device'];this['destroyFra'+'meBuffers'](),_0x3debe5['renderTarg'+'et']===this&&_0x3debe5['setRenderT'+'arget'](null),(_0x4ed9cc=this['_depthBuff'+'er'])==null||_0x4ed9cc['resize'](_0x28bfcb,_0x3623a3),(_0x5d065d=this['_colorBuff'+'ers'])==null||_0x5d065d['forEach'](_0x1d7724=>{_0x1d7724['resize'](_0x28bfcb,_0x3623a3);}),this['validateMr'+'t'](),this['impl']=_0x3debe5['createRend'+'erTargetIm'+'pl'](this);}}['validateMr'+'t'](){w['call'](()=>{if(this['_colorBuff'+'ers']){const {width:_0x5066e5,height:_0x4d5050,cubemap:_0x5a65d6,volume:_0x5961eb}=this['_colorBuff'+'ers'][-0x26fc*-0x1+0x1*-0xc6d+-0x1a8f];for(let _0x34eed6=-0x1*0x529+0x300*-0x1+0x6e*0x13;_0x34eed6<this['_colorBuff'+'ers']['length'];_0x34eed6++){const _0x21b5a3=this['_colorBuff'+'ers'][_0x34eed6];w['assert'](_0x21b5a3['width']===_0x5066e5,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20width',this),w['assert'](_0x21b5a3['height']===_0x4d5050,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20height',this),w['assert'](_0x21b5a3['cubemap']===_0x5a65d6,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20cubemap\x20s'+'etting',this),w['assert'](_0x21b5a3['volume']===_0x5961eb,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20volume\x20se'+'tting',this);}}});}['init'](){this['impl']['init'](this['_device'],this);}get['initialize'+'d'](){return this['impl']['initialize'+'d'];}get['device'](){return this['_device'];}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['resolve'](_0x2903b5=!(-0x15c+-0x26bc+-0xa06*-0x4),_0x5717e9=!!this['_depthBuff'+'er']){this['_device']&&this['_samples']>-0x1159+-0x1a4f+0x2ba9&&(Q['pushGpuMar'+'ker'](this['_device'],'RESOLVE-RT'+':'+this['name']+':'+(_0x2903b5?'[color]':'')+':'+(_0x5717e9?'[depth]':'')),this['impl']['resolve'](this['_device'],this,_0x2903b5,_0x5717e9),Q['popGpuMark'+'er'](this['_device']));}['copy'](_0x4e35ce,_0xf6f7d0,_0x86e623){if(!this['_device']){if(_0x4e35ce['_device'])this['_device']=_0x4e35ce['_device'];else return w['error']('Render\x20tar'+'gets\x20are\x20n'+'ot\x20initial'+'ized'),!(0x1*0xa63+0x9b6+0x1418*-0x1);}Q['pushGpuMar'+'ker'](this['_device'],'COPY-RT:'+_0x4e35ce['name']+'->'+this['name']);const _0x4f85b9=this['_device']['copyRender'+'Target'](_0x4e35ce,this,_0xf6f7d0,_0x86e623);return Q['popGpuMark'+'er'](this['_device']),_0x4f85b9;}get['samples'](){return this['_samples'];}get['depth'](){return this['_depth'];}get['stencil'](){return this['_stencil'];}get['colorBuffe'+'r'](){return this['_colorBuff'+'er'];}['getColorBu'+'ffer'](_0x5c1d3e){var _0x5808e7;return(_0x5808e7=this['_colorBuff'+'ers'])==null?void(-0x2125+0x2*-0xbb1+0x3887):_0x5808e7[_0x5c1d3e];}get['depthBuffe'+'r'](){return this['_depthBuff'+'er'];}get['face'](){return this['_face'];}get['mipLevel'](){return this['_mipLevel'];}get['mipmaps'](){return this['_mipmaps'];}get['width'](){var _0x2d8f30,_0x1728fe;let _0x14dea5=((_0x2d8f30=this['_colorBuff'+'er'])==null?void(0x158f*0x1+-0x11df+-0x2*0x1d8):_0x2d8f30['width'])||((_0x1728fe=this['_depthBuff'+'er'])==null?void(-0x20e9+-0x1bd*-0x5+0x1838):_0x1728fe['width'])||this['_device']['width'];return this['_mipLevel']>-0x1be0+0x12*-0xdc+0x2b58&&(_0x14dea5=Xi['calcLevelD'+'imension'](_0x14dea5,this['_mipLevel'])),_0x14dea5;}get['height'](){var _0x4517bc,_0x2a3be9;let _0x4d21d9=((_0x4517bc=this['_colorBuff'+'er'])==null?void(-0x34d+0x8*-0x471+0x1*0x26d5):_0x4517bc['height'])||((_0x2a3be9=this['_depthBuff'+'er'])==null?void(-0x14d*-0x9+-0x1fc4+0x140f):_0x2a3be9['height'])||this['_device']['height'];return this['_mipLevel']>0x1a12+-0x1e61+0x44f&&(_0x4d21d9=Xi['calcLevelD'+'imension'](_0x4d21d9,this['_mipLevel'])),_0x4d21d9;}['isColorBuf'+'ferSrgb'](_0x53963c=0x395+0x3d*-0x35+-0x2*-0x486){if(this['device']['backBuffer']===this)return fh(this['device']['backBuffer'+'Format']);const _0x4f0679=this['getColorBu'+'ffer'](_0x53963c);return _0x4f0679?fh(_0x4f0679['format']):!(-0x4*-0x3ad+-0x32a+-0xb89);}}const IT={'equals'(_0xd94c8f,_0x19287f){if(_0xd94c8f['length']!==_0x19287f['length'])return!(0x1490+0x636+0x7*-0x3d3);for(let _0x168e0f=-0x17*-0x75+-0x1*0x192a+0xea7;_0x168e0f<_0xd94c8f['length'];_0x168e0f++)if(_0xd94c8f[_0x168e0f]!==_0x19287f[_0x168e0f])return!(0x146d+0x979+-0x1*0x1de5);return!(-0x7f8*0x1+-0x2c8*0xc+-0x6e4*-0x6);}};class wd{constructor(){h(this,'_refCount',0x21a9+0x1cea+0x1*-0x3e93);}['incRefCoun'+'t'](){this['_refCount']++;}['decRefCoun'+'t'](){this['_refCount']--;}get['refCount'](){return this['_refCount'];}}class LT extends wd{constructor(_0x14f2c4){super(),h(this,'object'),(this['object']=_0x14f2c4,this['incRefCoun'+'t']());}}class RT{constructor(){h(this,'cache',new Map());}['destroy'](){this['cache']['forEach'](_0x41b88b=>{var _0x113fbd;(_0x113fbd=_0x41b88b['object'])==null||_0x113fbd['destroy']();}),this['cache']['clear']();}['clear'](){this['cache']['clear']();}['get'](_0x3cc014){const _0x1d2d60=this['cache']['get'](_0x3cc014);return _0x1d2d60?(_0x1d2d60['incRefCoun'+'t'](),_0x1d2d60['object']):null;}['set'](_0x12d415,_0x4a898f){w['assert'](!this['cache']['has'](_0x12d415),'RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'put\x20object'+'\x20with\x20key\x20'+'that\x20alrea'+'dy\x20exists\x20'+'in\x20the\x20cac'+'he',{'key':_0x12d415,'object':_0x4a898f}),this['cache']['set'](_0x12d415,new LT(_0x4a898f));}['release'](_0x36305c){var _0x2b47a0;const _0x4afb26=this['cache']['get'](_0x36305c);_0x4afb26?(_0x4afb26['decRefCoun'+'t'](),_0x4afb26['refCount']===0x1f8f+-0x1*0x1cf+-0x11*0x1c0&&(this['cache']['delete'](_0x36305c),(_0x2b47a0=_0x4afb26['object'])==null||_0x2b47a0['destroy']())):w['warn']('RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'release\x20ob'+'ject\x20that\x20'+'is\x20not\x20in\x20'+'the\x20cache',{'key':_0x36305c});}}class OT extends RT{['loseContex'+'t'](_0x474175){this['clear']();}}const FT=new Kt(),Fd=_0x1bf6e4=>FT['get'](_0x1bf6e4,()=>new OT()),At=[];At[Xs]=-0x1b*-0x8d+0x96d+-0x184b,At[ga]=0x241+0x2c9+-0x508,At[ds]=0x3*-0x969+0x8*0x4c0+-0x9c2,At[Rn]=0x3*0x295+-0x17cf+0x1014,At[_a]=-0x17ea*0x1+-0x1e71*-0x1+-0x686,At[ca]=-0x250d+0x950*0x2+-0x3*-0x625,At[ha]=-0x1*0x1493+-0x5*-0x1f+0x155*0xf,At[da]=0x597*-0x2+0x43*0x1d+0x39b*0x1,At[Tn]=-0xcec+0x11c9*0x2+-0x16a5,At[tl]=-0xef+-0xea3+-0x4*-0x3e5,At[sl]=-0x9*0xb7+-0x739*-0x3+-0xf39,At[il]=-0x1605+0x2*-0x1277+0x5*0xbcb,At[_h]=-0x81d+-0x1de5+-0x1*-0x260a,At[On]=0x251e*0x1+-0x876*0x2+-0x1426,At[li]=0x12f5+-0x2*-0xffd+0x5a7*-0x9,At[Fn]=0x4e1+0x25ab+-0x2a8b,At[Nn]=-0x1cd3+0x1c86+0x4f,At[kn]=0x10b9+0x1*-0x2a+-0x108c,At[Un]=0x246*0x1+-0x1d0e+0x3d4*0x7;class dt{constructor(_0x4d5b57,_0x1569bc,_0x42ce62=0x101*-0xc+-0x180d+0x1*0x2419){h(this,'name'),h(this,'type'),h(this,'byteSize'),h(this,'offset'),h(this,'scopeId'),h(this,'count'),h(this,'numCompone'+'nts');if(this['shortName']=_0x4d5b57,this['name']=_0x42ce62?_0x4d5b57+'[0]':_0x4d5b57,this['type']=_0x1569bc,this['numCompone'+'nts']=At[_0x1569bc],w['assert'](this['numCompone'+'nts'],'Unhandled\x20'+'uniform\x20fo'+'rmat\x20'+_0x1569bc+'\x20used\x20for\x20'+_0x4d5b57),this['updateType']=_0x1569bc,_0x42ce62>-0x1c8+0x61+0x167)switch(_0x1569bc){case Xs:this['updateType']=ud;break;case _a:this['updateType']=Bn;break;case Fn:this['updateType']=_d;break;case Tn:this['updateType']=gd;break;case ga:this['updateType']=pd;break;case ca:this['updateType']=zn;break;case Nn:this['updateType']=Sd;break;case tl:this['updateType']=yd;break;case ds:this['updateType']=md;break;case ha:this['updateType']=Vn;break;case kn:this['updateType']=vd;break;case sl:this['updateType']=xd;break;case Rn:this['updateType']=Lp;break;case da:this['updateType']=gh;break;case Un:this['updateType']=Rp;break;case il:this['updateType']=Op;break;case li:this['updateType']=wy;break;default:w['error']('Uniform\x20ar'+'ray\x20of\x20typ'+'e\x20'+Ey[_0x1569bc]+('\x20is\x20not\x20su'+'pported\x20wh'+'en\x20process'+'ing\x20unifor'+'m\x20\x27')+_0x4d5b57+'\x27.'),w['call'](()=>{this['invalid']=!(0x6e+0x195d+-0x19cb);});break;}this['count']=_0x42ce62,w['assert'](!isNaN(_0x42ce62),'Unsupporte'+'d\x20uniform:'+'\x20'+_0x4d5b57+'['+_0x42ce62+']'),w['call'](()=>{isNaN(_0x42ce62)&&(this['invalid']=!(0xa*-0x14c+0x54*-0x5e+0xaf4*0x4));});let _0x549edd=this['numCompone'+'nts'];_0x42ce62&&(_0x549edd=Y['roundUp'](_0x549edd,0x751+-0x47e+-0x1*0x2cf)),this['byteSize']=_0x549edd*(0xe7+-0x371*0x1+0x1*0x28e),_0x42ce62&&(this['byteSize']*=_0x42ce62),w['assert'](this['byteSize'],'Unknown\x20by'+'te\x20size\x20fo'+'r\x20uniform\x20'+'format\x20'+_0x1569bc+'\x20used\x20for\x20'+_0x4d5b57);}get['isArrayTyp'+'e'](){return this['count']>-0x20dd+0x1*-0x1646+-0x3ad*-0xf;}['calculateO'+'ffset'](_0x58ac11){let _0x908927=this['byteSize']<=-0x1*-0x213f+0x3cb+0x6*-0x62b?this['byteSize']:-0x1f*0xee+0x3*0x12b+0x49*0x59;this['count']&&(_0x908927=0xe2+0x1*-0x1cb7+0x1be5),_0x58ac11=Y['roundUp'](_0x58ac11,_0x908927),this['offset']=_0x58ac11/(0x186+0xbd3*0x1+-0xd55);}}class zy{constructor(_0x5e036f,_0x2b3adf){h(this,'byteSize',-0x18b9*-0x1+-0x13bb*0x1+-0x12*0x47),h(this,'map',new Map()),(this['scope']=_0x5e036f['scope'],this['uniforms']=_0x2b3adf);let _0x4d8406=-0x3d2*0x9+-0x3*-0x4d+0x217b;for(let _0x12920e=-0x10*0x71+0x5b1*0x5+-0x1565;_0x12920e<_0x2b3adf['length'];_0x12920e++){const _0xed0da1=_0x2b3adf[_0x12920e];_0xed0da1['calculateO'+'ffset'](_0x4d8406),_0x4d8406=_0xed0da1['offset']*(0xf0b+0x1e27+-0x2d2e)+_0xed0da1['byteSize'],_0xed0da1['scopeId']=this['scope']['resolve'](_0xed0da1['name']),this['map']['set'](_0xed0da1['name'],_0xed0da1);}this['byteSize']=Y['roundUp'](_0x4d8406,0x442+-0xd21+0x8ef);}['get'](_0x440a9f){return this['map']['get'](_0x440a9f);}}const Lr='Preprocess'+'or',Fs=/[ \t]*#(ifn?def|if|endif|else|elif|define|undef|extension|include)/g,Nd=/define[ \t]+([^\n]+)\r?(?:\n|$)/g,i_=/extension[ \t]+([\w-]+)[ \t]*:[ \t]*(enable|require)/g,kd=/undef[ \t]+([^\n]+)\r?(?:\n|$)/g,Ud=/(ifdef|ifndef|if)[ \t]*([^\r\n]+)\r?\n/g,Bd=/(endif|else|elif)(?:[ \t]+([^\r\n]*))?\r?\n?/g,r_=/\{?[\w-]+\}?/,NT=/(!|\s)?defined\(([\w-]+)\)/,kT=/!?defined\s*\([^)]*\)/g,UT=/!?defined\s*$/,BT=/([a-z_]\w*)\s*(==|!=|<|<=|>|>=)\s*([\w"']+)/i,zT=/[+\-]/g,zd=/include[ \t]+"([\w-]+)(?:\s*,\s*([\w-]+))?"/g,VT=/\{i\}/g,a_=/(pcFragColor[1-8])\b/g,Lt=class Lt{static['run'](_0x5dd8a7,_0x5f2c8e=new Map(),_0x59a957={}){Lt['sourceName']=_0x59a957['sourceName'],_0x5dd8a7=this['stripComme'+'nts'](_0x5dd8a7),_0x5dd8a7=_0x5dd8a7['split'](/\r?\n/)['map'](_0x13fe4d=>_0x13fe4d['trimEnd']())['join']('\x0a');const _0x189759=new Map(),_0x42e715=new Map();if(_0x5dd8a7=this['_preproces'+'s'](_0x5dd8a7,_0x189759,_0x42e715,_0x5f2c8e,_0x59a957['stripDefin'+'es']),_0x5dd8a7===null)return null;const _0x550d87=new Map();return _0x189759['forEach']((_0x2eb084,_0x39ddd2)=>{Number['isInteger'](parseFloat(_0x2eb084))&&!_0x2eb084['includes']('.')&&_0x550d87['set'](_0x39ddd2,_0x2eb084);}),_0x5dd8a7=this['stripComme'+'nts'](_0x5dd8a7),_0x5dd8a7=this['stripUnuse'+'dColorAtta'+'chments'](_0x5dd8a7,_0x59a957),_0x5dd8a7=this['RemoveEmpt'+'yLines'](_0x5dd8a7),_0x5dd8a7=this['processArr'+'aySize'](_0x5dd8a7,_0x550d87),_0x5dd8a7=this['injectDefi'+'nes'](_0x5dd8a7,_0x42e715),_0x5dd8a7;}static['stripUnuse'+'dColorAtta'+'chments'](_0x4d2885,_0x1e4e5d){if(_0x1e4e5d['stripUnuse'+'dColorAtta'+'chments']){const _0x53dd33=new Map(),_0x8247f3=_0x4d2885['match'](a_);if(_0x8247f3==null||_0x8247f3['forEach'](_0x20702a=>{const _0x38a13f=parseInt(_0x20702a['charAt'](_0x20702a['length']-(-0x37b+0x147b+-0x10ff)),-0x65*0x58+-0x128a+0x354c);_0x53dd33['set'](_0x38a13f,(_0x53dd33['get'](_0x38a13f)??-0x3*0x629+-0xd58*0x1+-0x1*-0x1fd3)+(-0x1*0x2081+0x120a+0xe78));}),Array['from'](_0x53dd33['values']())['some'](_0x3539a5=>_0x3539a5===0x938+-0x1d74+0x143d)){const _0x313e91=_0x4d2885['split']('\x0a'),_0x246ac6=[];for(let _0x4b2519=-0x1402+-0x1971+0x1*0x2d73;_0x4b2519<_0x313e91['length'];_0x4b2519++){const _0x3680dd=_0x313e91[_0x4b2519]['match'](a_);if(_0x3680dd){const _0x3dd200=parseInt(_0x3680dd[-0x4*-0x86+-0x4c1*0x7+0x1f2f]['charAt'](_0x3680dd[0x164+0x1af+-0x1*0x313]['length']-(0x13bb+0xa*-0x24a+0x32a)),0x25*0xd4+0x17*-0xa7+0xb*-0x16b);if(_0x3dd200>0x5a6+0xc1*0x1f+0x187*-0x13&&_0x53dd33['get'](_0x3dd200)===-0x1307*-0x2+0x7be*-0x1+0x1e4f*-0x1)continue;}_0x246ac6['push'](_0x313e91[_0x4b2519]);}_0x4d2885=_0x246ac6['join']('\x0a');}}return _0x4d2885;}static['stripComme'+'nts'](_0x3e2532){return _0x3e2532['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1');}static['processArr'+'aySize'](_0x35a4ec,_0x388b6b){return _0x35a4ec!==null&&_0x388b6b['forEach']((_0x1041d7,_0x1eac06)=>{_0x35a4ec=_0x35a4ec['replace'](new RegExp('\x5c['+_0x1eac06+'\x5c]','g'),'['+_0x1041d7+']');}),_0x35a4ec;}static['injectDefi'+'nes'](_0x4ab33f,_0x364b09){if(_0x4ab33f!==null&&_0x364b09['size']>-0xe39*0x1+0x304*-0x9+0x295d){const _0x50a67e=_0x4ab33f['split']('\x0a');_0x364b09['forEach']((_0x2eb963,_0x501f87)=>{const _0x674197=new RegExp(_0x501f87,'g');for(let _0x292b4d=0x1af*0xe+0x3*0xadd+-0x3829;_0x292b4d<_0x50a67e['length'];_0x292b4d++)_0x50a67e[_0x292b4d]['includes']('#')||(_0x50a67e[_0x292b4d]=_0x50a67e[_0x292b4d]['replace'](_0x674197,_0x2eb963));}),_0x4ab33f=_0x50a67e['join']('\x0a');}return _0x4ab33f;}static['RemoveEmpt'+'yLines'](_0x1c15e3){return _0x1c15e3!==null&&(_0x1c15e3=_0x1c15e3['split'](/\r?\n/)['map'](_0x5ddc6f=>_0x5ddc6f['trim']()===''?'':_0x5ddc6f)['join']('\x0a'),_0x1c15e3=_0x1c15e3['replace'](/(\n\n){3,}/g,'\x0a\x0a')),_0x1c15e3;}static['_preproces'+'s'](_0x41dc3e,_0x15c705=new Map(),_0x2ec913,_0x62c653,_0x4f593a){var _0x160cf4;const _0x507815=_0x41dc3e,_0x11dd47=[];let _0x97b5b8=!(-0x2103+-0x221*0x2+0x2546),_0x17f500;for(;(_0x17f500=Fs['exec'](_0x41dc3e))!==null&&!_0x97b5b8;){const _0xe1b4a9=_0x17f500[-0x23ce+-0x32*-0x56+0x1303];switch(_0xe1b4a9){case'define':{Nd['lastIndex']=_0x17f500['index'];const _0x267056=Nd['exec'](_0x41dc3e);w['assert'](_0x267056,'Invalid\x20['+_0xe1b4a9+']:\x20'+_0x41dc3e['substring'](_0x17f500['index'],_0x17f500['index']+(-0x5d*0xf+0xf*0x175+-0x1004))+'...'),_0x97b5b8||(_0x97b5b8=_0x267056===null);const _0x21f24f=_0x267056[-0xd82+0x2694+-0x17*0x117];r_['lastIndex']=_0x267056['index'];const _0x42df63=r_['exec'](_0x21f24f)[0x2*-0x2c0+0x1041+-0xac1];let _0x3472b3=_0x21f24f['substring'](_0x42df63['length'])['trim']();_0x3472b3===''&&(_0x3472b3='true');const _0x1d3c16=Lt['_keep'](_0x11dd47);let _0x2a3af6=_0x4f593a;if(_0x1d3c16){const _0x4882b7=_0x42df63['startsWith']('{')&&_0x42df63['endsWith']('}');_0x4882b7&&(_0x2a3af6=!(-0x158a+0x5*0x3fb+-0x1*-0x1a3)),_0x4882b7?_0x2ec913['set'](_0x42df63,_0x3472b3):_0x15c705['set'](_0x42df63,_0x3472b3),_0x2a3af6&&(_0x41dc3e=_0x41dc3e['substring'](-0x232f*0x1+0x111e+-0x7d*-0x25,_0x267056['index']-(0x384*0x8+-0x1c8d*-0x1+-0x38ac))+_0x41dc3e['substring'](Nd['lastIndex']),Fs['lastIndex']=_0x267056['index']-(-0xf06+-0x1125+0x4*0x80b));}w['trace'](Lr,_0xe1b4a9+':\x20['+_0x42df63+']\x20'+_0x3472b3+'\x20'+(_0x1d3c16?'':'IGNORED')),_0x2a3af6||(Fs['lastIndex']=_0x267056['index']+_0x267056[0x1f4c+0x4*-0x68e+-0x514]['length']);break;}case'undef':{kd['lastIndex']=_0x17f500['index'];const _0x208ff8=kd['exec'](_0x41dc3e),_0x230355=_0x208ff8[-0x3*0x753+0x2*-0xaec+0x2bd2]['trim'](),_0x10492e=Lt['_keep'](_0x11dd47);_0x10492e&&(_0x15c705['delete'](_0x230355),_0x4f593a&&(_0x41dc3e=_0x41dc3e['substring'](-0x2ba*-0x9+0x253d*0x1+0x3dc7*-0x1,_0x208ff8['index']-(-0xbb3+-0x22be+0x2e72))+_0x41dc3e['substring'](kd['lastIndex']),Fs['lastIndex']=_0x208ff8['index']-(0x4f+0x256f+-0x25bd))),w['trace'](Lr,_0xe1b4a9+':\x20['+_0x230355+']\x20'+(_0x10492e?'':'IGNORED')),_0x4f593a||(Fs['lastIndex']=_0x208ff8['index']+_0x208ff8[-0x25d9+0x21e4+-0x1*-0x3f5]['length']);break;}case'extension':{i_['lastIndex']=_0x17f500['index'];const _0x1ba5ff=i_['exec'](_0x41dc3e);if(w['assert'](_0x1ba5ff,'Invalid\x20['+_0xe1b4a9+']:\x20'+_0x41dc3e['substring'](_0x17f500['index'],_0x17f500['index']+(0x6d*0x25+-0x1eb3*0x1+-0x12e*-0xd))+'...'),_0x97b5b8||(_0x97b5b8=_0x1ba5ff===null),_0x1ba5ff){const _0x2d3a77=_0x1ba5ff[0x8b6+-0x31*-0xbf+-0x2d44],_0x75a468=Lt['_keep'](_0x11dd47);_0x75a468&&_0x15c705['set'](_0x2d3a77,'true'),w['trace'](Lr,_0xe1b4a9+':\x20['+_0x2d3a77+']\x20'+(_0x75a468?'':'IGNORED'));}Fs['lastIndex']=_0x1ba5ff['index']+_0x1ba5ff[-0x315*-0x7+0x1eb2*-0x1+0x91f*0x1]['length'];break;}case'ifdef':case'ifndef':case'if':{Ud['lastIndex']=_0x17f500['index'];const _0x4f3acb=Ud['exec'](_0x41dc3e),_0x19878d=_0x4f3acb[-0xbad+-0x11ba+-0x1d69*-0x1],_0x440f77=Lt['evaluate'](_0x19878d,_0x15c705);_0x97b5b8||(_0x97b5b8=_0x440f77['error']);let _0x362df4=_0x440f77['result'];_0xe1b4a9==='ifndef'&&(_0x362df4=!_0x362df4),_0x11dd47['push']({'anyKeep':_0x362df4,'keep':_0x362df4,'start':_0x17f500['index'],'end':Ud['lastIndex']}),w['trace'](Lr,_0xe1b4a9+':\x20['+_0x19878d+']\x20=>\x20'+_0x362df4),Fs['lastIndex']=_0x4f3acb['index']+_0x4f3acb[-0x2*0x62a+-0x23+-0xc77*-0x1]['length'];break;}case'endif':case'else':case'elif':{Bd['lastIndex']=_0x17f500['index'];const _0x44c85d=Bd['exec'](_0x41dc3e),_0x34241c=_0x11dd47['pop']();if(!_0x34241c){console['error']('Shader\x20pre'+'processing'+'\x20encounter'+'ed\x20\x22#'+_0x44c85d[-0x14a6+0x1*0x1f67+-0xac0]+('\x22\x20without\x20'+'a\x20precedin'+'g\x20#if\x20#ifd'+'ef\x20#ifndef'+'\x20while\x20pre'+'processing'+'\x20')+Lt['sourceName']+('\x20on\x20line:\x0a'+'\x20')+_0x41dc3e['substring'](_0x17f500['index'],_0x17f500['index']+(0x21*-0x6f+-0x2*-0x1d7+-0x5b*-0x1f))+'...',{'source':_0x507815}),_0x97b5b8=!(0xec6*-0x1+0x47e+0x1*0xa48);continue;}const _0x7f3660=_0x34241c['keep']?_0x41dc3e['substring'](_0x34241c['end'],_0x17f500['index']):'';w['trace'](Lr,_0xe1b4a9+(':\x20[previou'+'s\x20block]\x20='+'>\x20')+(_0x7f3660!=='')),_0x41dc3e=_0x41dc3e['substring'](-0x14fa+0x19a0+0xa*-0x77,_0x34241c['start'])+_0x7f3660+_0x41dc3e['substring'](Bd['lastIndex']),Fs['lastIndex']=_0x34241c['start']+_0x7f3660['length'];const _0x241a11=_0x44c85d[0x7*0x513+-0x64d+0x1b*-0x115];if(_0x241a11==='else'||_0x241a11==='elif'){let _0x31141a=!(-0xcc*-0x29+-0x3*-0x69b+-0x347c);if(!_0x34241c['anyKeep']){if(_0x241a11==='else')_0x31141a=!_0x34241c['keep'];else{const _0xaab2ca=Lt['evaluate'](_0x44c85d[-0xe90*0x2+-0x586+0x1*0x22a8],_0x15c705);_0x31141a=_0xaab2ca['result'],_0x97b5b8||(_0x97b5b8=_0xaab2ca['error']);}}_0x11dd47['push']({'anyKeep':_0x34241c['anyKeep']||_0x31141a,'keep':_0x31141a,'start':Fs['lastIndex'],'end':Fs['lastIndex']}),w['trace'](Lr,_0xe1b4a9+':\x20['+_0x44c85d[-0x14da+-0x149*-0x15+-0x621]+']\x20=>\x20'+_0x31141a);}break;}case'include':{zd['lastIndex']=_0x17f500['index'];const _0x2f06cf=zd['exec'](_0x41dc3e);if(_0x97b5b8||(_0x97b5b8=_0x2f06cf===null),!_0x2f06cf){w['assert'](_0x2f06cf,'Invalid\x20['+_0xe1b4a9+(']\x20while\x20pr'+'eprocessin'+'g\x20')+Lt['sourceName']+':\x0a'+_0x41dc3e['substring'](_0x17f500['index'],_0x17f500['index']+(-0x950+-0x21d2+0x2b86))+'...'),_0x97b5b8=!(0x1d8f+-0x223d+0x4ae);continue;}const _0x40ba5a=_0x2f06cf[-0x27*-0xd7+0x21a8*0x1+-0x4268]['trim'](),_0x1df580=(_0x160cf4=_0x2f06cf[-0x494+0x22a7*-0x1+0x273d])==null?void(0x1735+-0x13fd+-0x338):_0x160cf4['trim'](),_0x32f80a=Lt['_keep'](_0x11dd47);if(_0x32f80a){let _0x622046=_0x62c653==null?void(-0x1556+0xc*0xb8+-0x2*-0x65b):_0x62c653['get'](_0x40ba5a);if(_0x622046!==void(-0x82d+0x6b*0x1d+-0x3f2*0x1)){if(_0x622046=this['stripComme'+'nts'](_0x622046),_0x1df580){const _0x3d5235=_0x15c705['get'](_0x1df580),_0x43be50=parseFloat(_0x3d5235);if(Number['isInteger'](_0x43be50)){let _0x483275='';for(let _0x9a471b=-0x352+0x2d9+-0x79*-0x1;_0x9a471b<_0x43be50;_0x9a471b++)_0x483275+=_0x622046['replace'](VT,String(_0x9a471b));_0x622046=_0x483275;}else console['error']('Include\x20Co'+'unt\x20identi'+'fier\x20\x22'+_0x1df580+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+Lt['sourceName']+('\x20on\x20line:\x0a'+'\x20')+_0x41dc3e['substring'](_0x17f500['index'],_0x17f500['index']+(-0x12ce*-0x2+-0xbd8+0x20*-0xcb))+'...',{'originalSource':_0x507815,'source':_0x41dc3e}),_0x97b5b8=!(-0x83*0x2e+-0x2e1*0x7+-0x8bd*-0x5);}_0x41dc3e=_0x41dc3e['substring'](0x5*0xab+0x11*-0x19+-0x1ae,_0x2f06cf['index']-(-0x16f*-0xe+-0x4a9*0x6+0x7e5))+_0x622046+_0x41dc3e['substring'](zd['lastIndex']),Fs['lastIndex']=_0x2f06cf['index']-(-0xd39*0x2+0xc*0x10f+0xdbf);}else{console['error']('Include\x20\x22'+_0x40ba5a+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+Lt['sourceName'],{'originalSource':_0x507815,'source':_0x41dc3e}),_0x97b5b8=!(-0x233+-0x1*-0xeac+-0x1*0xc79);continue;}}w['trace'](Lr,_0xe1b4a9+':\x20['+_0x40ba5a+']\x20'+(_0x32f80a?'':'IGNORED'));break;}}}return _0x11dd47['length']>-0x22*-0x71+0x23ff+0x1*-0x3301&&(console['error']('Shader\x20pre'+'processing'+'\x20reached\x20t'+'he\x20end\x20of\x20'+'the\x20file\x20w'+'ithout\x20enc'+'ountering\x20'+'the\x20necess'+'ary\x20#endif'+'\x20to\x20close\x20'+'a\x20precedin'+'g\x20#if,\x20#if'+'def,\x20or\x20#i'+'fndef\x20bloc'+'k.\x20'+Lt['sourceName']),_0x97b5b8=!(-0x14ae+0xdf7+-0x9*-0xbf)),_0x97b5b8?(console['error']('Failed\x20to\x20'+'preprocess'+'\x20shader:\x20',{'source':_0x507815}),null):_0x41dc3e;}static['_keep'](_0x3d10ca){for(let _0x300ef0=-0x236a+0x8*-0x208+-0x19d5*-0x2;_0x300ef0<_0x3d10ca['length'];_0x300ef0++)if(!_0x3d10ca[_0x300ef0]['keep'])return!(0x621*-0x3+-0x2058+0x2*0x195e);return!(-0x3bb+-0x1bc8+-0x1f83*-0x1);}static['evaluateAt'+'omicExpres'+'sion'](_0x324f6f,_0x5715d8){let _0x829ab6=!(-0x92e+-0x35f*-0x4+-0x44d);_0x324f6f=_0x324f6f['trim']();let _0xc3cd05=!(-0x24dd+0x930+-0x1*-0x1bae);if(_0x324f6f==='true')return{'result':!(0x1955+0x875+0x361*-0xa),'error':_0x829ab6};if(_0x324f6f==='false')return{'result':!(0x2362+0x1*0x47d+-0x27de),'error':_0x829ab6};const _0x2b0992=NT['exec'](_0x324f6f);if(_0x2b0992){_0xc3cd05=_0x2b0992[-0x2509+0x22f9+0x211]==='!',_0x324f6f=_0x2b0992[0xba4+-0x503+-0x235*0x3]['trim']();const _0x30bfc0=_0x5715d8['has'](_0x324f6f);return{'result':_0xc3cd05?!_0x30bfc0:_0x30bfc0,'error':_0x829ab6};}const _0x4f94a6=BT['exec'](_0x324f6f);if(_0x4f94a6){const _0x3d9a31=_0x5715d8['get'](_0x4f94a6[-0x3*0xcdc+-0x114b+0x37e0]['trim']())??_0x4f94a6[0x995*-0x2+-0x24cb+0x37f6]['trim'](),_0x76fd24=_0x5715d8['get'](_0x4f94a6[-0x3d2+0x35*-0x5d+0x1e*0xc5]['trim']())??_0x4f94a6[0x1b0d+-0x231c+0x812]['trim'](),_0x348a37=_0x4f94a6[-0xa4f*0x3+-0x1de6+0x3cd5]['trim']();let _0x410f82=!(-0x122d+-0x1e09+-0x1*-0x3037);switch(_0x348a37){case'==':_0x410f82=_0x3d9a31===_0x76fd24;break;case'!=':_0x410f82=_0x3d9a31!==_0x76fd24;break;case'<':_0x410f82=_0x3d9a31<_0x76fd24;break;case'<=':_0x410f82=_0x3d9a31<=_0x76fd24;break;case'>':_0x410f82=_0x3d9a31>_0x76fd24;break;case'>=':_0x410f82=_0x3d9a31>=_0x76fd24;break;default:_0x829ab6=!(0x1*0x15f2+-0x2409+0xe17);}return{'result':_0x410f82,'error':_0x829ab6};}return{'result':_0x5715d8['has'](_0x324f6f),'error':_0x829ab6};}static['processPar'+'entheses'](_0x54b55b,_0x160a36){let _0x3e2592=!(0x466+-0x2167+-0x5e*-0x4f),_0x12e4c2=_0x54b55b['trim']();for(;_0x12e4c2['startsWith']('(')&&_0x12e4c2['endsWith'](')');){let _0x19514d=0x6a2*0x4+-0x1ceb+0x263*0x1,_0x31075f=!(0x1948*-0x1+0x25d4+-0xc8c*0x1);for(let _0x469d27=0x19b0+0x1d49+0x1253*-0x3;_0x469d27<_0x12e4c2['length']-(0x557*-0x7+-0x14f6+0x3a58*0x1);_0x469d27++)if(_0x12e4c2[_0x469d27]==='(')_0x19514d++;else{if(_0x12e4c2[_0x469d27]===')'&&(_0x19514d--,_0x19514d===-0x295*-0xf+-0x4bd+-0x21fe)){_0x31075f=!(-0x59*0x9+-0x3c9*0x3+0xe7d);break;}}if(_0x31075f)_0x12e4c2=_0x12e4c2['slice'](-0x43*0x3d+-0x4*0x358+0x3ab*0x8,-(0x4*0x3e4+0x164f*-0x1+0x6c0))['trim']();else break;}for(;;){let _0x4cb075=!(-0x1e00+-0x1ff*-0x6+0x41*0x47),_0x29b82f=0x116f+0xf99*0x1+0x38*-0x97,_0x9a782d=0x40f*0x5+-0xa97*-0x1+-0x1ee2,_0x2c47f4=-(0x2325*0x1+-0x109*0x18+0x4*-0x293),_0xc9680e=-(0xa*-0x6+0x224e+-0x2211),_0x1d36de=0x3d*-0x1b+-0x1*-0x25f5+0xa82*-0x3;for(let _0x8a3ea4=-0x62d+-0xc65*-0x2+-0x129d;_0x8a3ea4<_0x12e4c2['length'];_0x8a3ea4++)if(_0x12e4c2[_0x8a3ea4]==='('){const _0x496603=_0x12e4c2['substring'](0x238b+-0x23ef+0x4*0x19,_0x8a3ea4);UT['test'](_0x496603)?_0x1d36de++:_0x1d36de===0x243d*-0x1+0x1*-0x3df+0x281c&&(_0x29b82f++,_0x29b82f>_0x9a782d&&(_0x9a782d=_0x29b82f,_0x2c47f4=_0x8a3ea4),_0x4cb075=!(-0x1375*-0x1+0x14da+0x1*-0x284f));}else _0x12e4c2[_0x8a3ea4]===')'&&(_0x1d36de>-0x2*0x4fc+-0x7a*0x33+0x2246?_0x1d36de--:_0x29b82f>0x228c+-0x15bf+-0xccd&&(_0x29b82f===_0x9a782d&&_0x2c47f4!==-(-0xfe3+-0x131e+0x2302)&&(_0xc9680e=_0x8a3ea4),_0x29b82f--));if(!_0x4cb075||_0x2c47f4===-(-0x1*0x3be+-0x9*-0x1b4+0x5*-0x251)||_0xc9680e===-(0x2*-0xed6+0x1746+-0x667*-0x1))break;const _0x5ef141=_0x12e4c2['substring'](_0x2c47f4+(0x171a*0x1+-0x1*-0x2084+0x379d*-0x1),_0xc9680e),{result:_0x1869d5,error:_0x3eb171}=Lt['evaluate'](_0x5ef141,_0x160a36);_0x3e2592=_0x3e2592||_0x3eb171,_0x12e4c2=_0x12e4c2['substring'](-0x172e+0x101f*-0x1+0x274d,_0x2c47f4)+(_0x1869d5?'true':'false')+_0x12e4c2['substring'](_0xc9680e+(0x1edd+-0x1c78+-0x264));}return{'expression':_0x12e4c2,'error':_0x3e2592};}static['evaluate'](_0x25c012,_0x486dd0){const _0x331934=zT['exec'](_0x25c012)===null;w['assert'](_0x331934,'Resolving\x20'+'expression'+'\x20like\x20this'+'\x20is\x20not\x20su'+'pported:\x20'+_0x25c012);let _0x18a090=_0x25c012,_0x2031d3=!(0x1c27+-0x1*0x10dd+0x3c3*-0x3);if(_0x25c012['replace'](kT,'')['indexOf']('(')!==-(0x6d1+-0x1df*-0x6+-0x120a*0x1)){const _0x38e98d=Lt['processPar'+'entheses'](_0x25c012,_0x486dd0);_0x18a090=_0x38e98d['expression'],_0x2031d3=_0x38e98d['error'];}if(_0x2031d3)return w['log']('Parenthesi'+'s\x20parsing\x20'+'error\x20in\x20e'+'xpression:'+'\x20\x22'+_0x25c012+'\x22'),{'result':!(0x6b2+0x15d*0x5+-0xd82),'error':!(0x15c3+0x1*-0x1e07+0x844)};const _0x2a94a8=_0x18a090['split']('||');for(const _0x312694 of _0x2a94a8){const _0xea96ae=_0x312694['split']('&&');let _0x1290bc=!(0x1721*-0x1+0x1a4e+0x32d*-0x1);for(const _0x250b0e of _0xea96ae){const {result:_0x57b0f2,error:_0x583725}=Lt['evaluateAt'+'omicExpres'+'sion'](_0x250b0e['trim'](),_0x486dd0);if(!_0x57b0f2||_0x583725){_0x1290bc=!(-0x1d01+-0x22e+-0x8*-0x3e6);break;}}if(_0x1290bc)return{'result':!(0xfb4+-0xf93+-0x21),'error':!_0x331934};}return{'result':!(0x133*0x13+-0x1d65+0x1*0x69d),'error':!_0x331934};}};h(Lt,'sourceName');let ko=Lt;const Vy='\x0a\x0a#ifndef\x20'+'outType_0\x0a'+'#define\x20ou'+'tType_0\x20ve'+'c4\x0a#endif\x0a'+'\x0alayout(lo'+'cation\x20=\x200'+')\x20out\x20high'+'p\x20outType_'+'0\x20pcFragCo'+'lor0;\x0a\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_1\x0a'+'layout(loc'+'ation\x20=\x201)'+'\x20out\x20highp'+'\x20outType_1'+'\x20pcFragCol'+'or1;\x0a#endi'+'f\x0a\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_2\x0alayo'+'ut(locatio'+'n\x20=\x202)\x20out'+'\x20highp\x20out'+'Type_2\x20pcF'+'ragColor2;'+'\x0a#endif\x0a\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'3\x0alayout(l'+'ocation\x20=\x20'+'3)\x20out\x20hig'+'hp\x20outType'+'_3\x20pcFragC'+'olor3;\x0a#en'+'dif\x0a\x0a#if\x20C'+'OLOR_ATTAC'+'HMENT_4\x0ala'+'yout(locat'+'ion\x20=\x204)\x20o'+'ut\x20highp\x20o'+'utType_4\x20p'+'cFragColor'+'4;\x0a#endif\x0a'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_5\x0alayout'+'(location\x20'+'=\x205)\x20out\x20h'+'ighp\x20outTy'+'pe_5\x20pcFra'+'gColor5;\x0a#'+'endif\x0a\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_6\x0a'+'layout(loc'+'ation\x20=\x206)'+'\x20out\x20highp'+'\x20outType_6'+'\x20pcFragCol'+'or6;\x0a#endi'+'f\x0a\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_7\x0alayo'+'ut(locatio'+'n\x20=\x207)\x20out'+'\x20highp\x20out'+'Type_7\x20pcF'+'ragColor7;'+'\x0a#endif\x0a\x0a#'+'define\x20gl_'+'FragColor\x20'+'pcFragColo'+'r0\x0a\x0a#defin'+'e\x20varying\x20'+'in\x0a\x0a#defin'+'e\x20texture2'+'D\x20texture\x0a'+'#define\x20te'+'xture2DBia'+'s\x20texture\x0a'+'#define\x20te'+'xtureCube\x20'+'texture\x0a#d'+'efine\x20text'+'ure2DProj\x20'+'texturePro'+'j\x0a#define\x20'+'texture2DL'+'od\x20texture'+'Lod\x0a#defin'+'e\x20texture2'+'DProjLod\x20t'+'extureProj'+'Lod\x0a#defin'+'e\x20textureC'+'ubeLod\x20tex'+'tureLod\x0a#d'+'efine\x20text'+('ure2DGrad\x20'+'textureGra'+'d\x0a#define\x20'+'texture2DP'+'rojGrad\x20te'+'xtureProjG'+'rad\x0a#defin'+'e\x20textureC'+'ubeGrad\x20te'+'xtureGrad\x0a'+'#define\x20ut'+'exture2D\x20t'+'exture\x0a#de'+'fine\x20itext'+'ure2D\x20text'+'ure\x0a\x0a//\x20de'+'precated\x20d'+'efines\x0a#de'+'fine\x20textu'+'re2DLodEXT'+'\x20texture2D'+'LodEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DLod_ins'+'tead\x0a#defi'+'ne\x20texture'+'2DProjLodE'+'XT\x20texture'+'2DProjLodE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'texture2DP'+'rojLod\x0a#de'+'fine\x20textu'+'reCubeLodE'+'XT\x20texture'+'CubeLodEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xtureCubeL'+'od_instead'+'\x0a#define\x20t'+'exture2DGr'+'adEXT\x20text'+'ure2DGradE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'texture2DG'+'rad_instea'+'d\x0a#define\x20'+'texture2DP'+'rojGradEXT'+'\x20texture2D'+'ProjGradEX'+'T_is_no_lo'+'nger_suppo'+'rted_use_t'+'exture2DPr'+'ojGrad_ins'+'tead\x0a#defi'+'ne\x20texture'+'CubeGradEX'+'T\x20textureC'+'ubeGradEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xtureCubeG'+'rad_instea'+'d\x0a\x0a//\x20samp'+'le\x20shadows'+'\x20using\x20tex'+'tureGrad\x20t'+'o\x20remove\x20d'+'erivatives'+'\x20in\x20the\x20dy'+'namic\x20loop'+'s\x20(which\x20a'+'re\x20used\x20by'+'\x0a//\x20cluste'+'red\x20lighti'+'ng)\x20-\x20as\x20D'+'irectX\x20sha'+'der\x20compil'+'er\x20tries\x20t'+'o\x20unroll\x20t'+'he\x20loops\x20a'+'nd\x20takes\x20l'+'ong\x20time\x0a/'+'/\x20to\x20compi'+'le\x20the\x20sha'+'der.\x20Using'+'\x20textureLo'+'d\x20would\x20be'+'\x20even\x20bett')+('er,\x20but\x20We'+'bGl\x20does\x20n'+'ot\x20transla'+'te\x20it\x20to\x0a/'+'/\x20lod\x20inst'+'ruction\x20fo'+'r\x20DirectX\x20'+'correctly\x20'+'and\x20uses\x20S'+'ampleCmp\x20i'+'nstead\x20of\x20'+'SampleCmpL'+'evelZero\x20o'+'r\x20similar.'+'\x0a#define\x20t'+'extureShad'+'ow(res,\x20uv'+')\x20textureG'+'rad(res,\x20u'+'v,\x20vec2(1,'+'\x201),\x20vec2('+'1,\x201))\x0a\x0a//'+'\x20pass\x20/\x20ac'+'cept\x20shado'+'w\x20map\x20or\x20t'+'exture\x20as\x20'+'a\x20function'+'\x20parameter'+',\x20on\x20webgl'+'\x20this\x20is\x20s'+'imply\x20pass'+'ed\x20as\x20is\x0a/'+'/\x20but\x20this'+'\x20is\x20needed'+'\x20for\x20WebGP'+'U\x0a#define\x20'+'SHADOWMAP_'+'PASS(name)'+'\x20name\x0a#def'+'ine\x20SHADOW'+'MAP_ACCEPT'+'(name)\x20sam'+'pler2DShad'+'ow\x20name\x0a#d'+'efine\x20TEXT'+'URE_PASS(n'+'ame)\x20name\x0a'+'#define\x20TE'+'XTURE_ACCE'+'PT(name)\x20s'+'ampler2D\x20n'+'ame\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT_HIG'+'HP(name)\x20h'+'ighp\x20sampl'+'er2D\x20name\x0a'+'\x0a#define\x20G'+'L2\x0a'),Gy='\x0a#define\x20a'+'ttribute\x20i'+'n\x0a#define\x20'+'varying\x20ou'+'t\x0a#define\x20'+'texture2D\x20'+'texture\x0a#d'+'efine\x20utex'+'ture2D\x20tex'+'ture\x0a#defi'+'ne\x20itextur'+'e2D\x20textur'+'e\x0a#define\x20'+'GL2\x0a#defin'+'e\x20VERTEXSH'+'ADER\x0a\x0a#def'+'ine\x20TEXTUR'+'E_PASS(nam'+'e)\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'(name)\x20sam'+'pler2D\x20nam'+'e\x0a#define\x20'+'TEXTURE_AC'+'CEPT_HIGHP'+'(name)\x20hig'+'hp\x20sampler'+'2D\x20name\x0a',Hy='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#ifnde'+'f\x20outType_'+'0\x0a#define\x20'+'outType_0\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_1\x0a'+'#define\x20ou'+'tType_1\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_2\x0a#d'+'efine\x20outT'+'ype_2\x20vec4'+'\x0a#endif\x0a#i'+'fndef\x20outT'+'ype_3\x0a#def'+'ine\x20outTyp'+'e_3\x20vec4\x0a#'+'endif\x0a#ifn'+'def\x20outTyp'+'e_4\x0a#defin'+'e\x20outType_'+'4\x20vec4\x0a#en'+'dif\x0a#ifnde'+'f\x20outType_'+'5\x0a#define\x20'+'outType_5\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_6\x0a'+'#define\x20ou'+'tType_6\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_7\x0a#d'+'efine\x20outT'+'ype_7\x20vec4'+'\x0a#endif\x0a\x0al'+'ayout(loca'+'tion\x20=\x200)\x20'+'out\x20highp\x20'+'outType_0\x20'+'pcFragColo'+'r0;\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pcFra'+'gColor1;\x0al'+'ayout(loca'+'tion\x20=\x202)\x20'+'out\x20highp\x20'+'outType_2\x20'+'pcFragColo'+'r2;\x0alayout'+'(location\x20'+'=\x203)\x20out\x20h'+'ighp\x20outTy'+'pe_3\x20pcFra'+'gColor3;\x0al'+'ayout(loca'+'tion\x20=\x204)\x20'+'out\x20highp\x20'+'outType_4\x20'+'pcFragColo'+'r4;\x0alayout'+'(location\x20'+'=\x205)\x20out\x20h'+'ighp\x20outTy'+'pe_5\x20pcFra'+'gColor5;\x0al'+'ayout(loca'+'tion\x20=\x206)\x20'+'out\x20highp\x20'+'outType_6\x20'+'pcFragColo'+'r6;\x0alayout'+'(location\x20'+'=\x207)\x20out\x20h'+'ighp\x20outTy'+'pe_7\x20pcFra'+'gColor7;\x0a\x0a'+'#define\x20gl'+'_FragColor'+'\x20pcFragCol'+'or0\x0a\x0a#defi'+'ne\x20texture'+'2D(res,\x20uv'+')\x20texture('+'sampler2D('+('res,\x20res\x20#'+'#\x20_sampler'+'),\x20uv)\x0a#de'+'fine\x20textu'+'re2DBias(r'+'es,\x20uv,\x20bi'+'as)\x20textur'+'e(sampler2'+'D(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv,\x20b'+'ias)\x0a#defi'+'ne\x20texture'+'2DLod(res,'+'\x20uv,\x20lod)\x20'+'textureLod'+'(sampler2D'+'(res,\x20res\x20'+'##\x20_sample'+'r),\x20uv,\x20lo'+'d)\x0a#define'+'\x20textureCu'+'be(res,\x20uv'+')\x20texture('+'samplerCub'+'e(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv)\x0a#'+'define\x20tex'+'tureCubeLo'+'d(res,\x20uv,'+'\x20lod)\x20text'+'ureLod(sam'+'plerCube(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x20lod)'+'\x0a#define\x20t'+'extureShad'+'ow(res,\x20uv'+')\x20textureL'+'od(sampler'+'2DShadow(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x200.0)'+'\x0a#define\x20i'+'texture2D('+'res,\x20uv)\x20t'+'exture(isa'+'mpler2D(re'+'s,\x20res\x20##\x20'+'_sampler),'+'\x20uv)\x0a#defi'+'ne\x20utextur'+'e2D(res,\x20u'+'v)\x20texture'+'(usampler2'+'D(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv)\x0a\x0a'+'//\x20depreca'+'ted\x20define'+'s\x0a#define\x20'+'texture2DL'+'odEXT\x20text'+'ure2DLodEX'+'T_is_no_lo'+'nger_suppo'+'rted_use_t'+'exture2DLo'+'d_instead\x0a'+'#define\x20te'+'xture2DPro'+'jLodEXT\x20te'+'xture2DPro'+'jLodEXT_is'+'_no_longer'+'_supported'+'_use_textu'+'re2DProjLo'+'d\x0a#define\x20'+'textureCub'+'eLodEXT\x20te'+'xtureCubeL'+'odEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'CubeLod_in'+'stead\x0a#def'+'ine\x20textur'+'e2DGradEXT'+'\x20texture2D'+'GradEXT_is'+'_no_longer'+'_supported'+'_use_textu'+'re2DGrad_i'+'nstead\x0a#de')+('fine\x20textu'+'re2DProjGr'+'adEXT\x20text'+'ure2DProjG'+'radEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DProjGra'+'d_instead\x0a'+'#define\x20te'+'xtureCubeG'+'radEXT\x20tex'+'tureCubeGr'+'adEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'CubeGrad_i'+'nstead\x0a\x0a//'+'\x20TODO:\x20imp'+'lement\x20oth'+'er\x20texture'+'\x20sampling\x20'+'macros\x0a//\x20'+'#define\x20te'+'xture2DPro'+'j\x20textureP'+'roj\x0a//\x20#de'+'fine\x20textu'+'re2DProjLo'+'d\x20textureP'+'rojLod\x0a//\x20'+'#define\x20te'+'xture2DGra'+'d\x20textureG'+'rad\x0a//\x20#de'+'fine\x20textu'+'re2DProjGr'+'ad\x20texture'+'ProjGrad\x0a/'+'/\x20#define\x20'+'textureCub'+'eGrad\x20text'+'ureGrad\x0a\x0a/'+'/\x20pass\x20/\x20a'+'ccept\x20shad'+'ow\x20map\x20as\x20'+'a\x20function'+'\x20parameter'+',\x20passes\x20b'+'oth\x20the\x20te'+'xture\x20as\x20w'+'ell\x20as\x20sam'+'pler\x0a//\x20as'+'\x20the\x20combi'+'ned\x20sample'+'r\x20can\x20be\x20o'+'nly\x20create'+'d\x20at\x20a\x20poi'+'nt\x20of\x20use\x0a'+'#define\x20SH'+'ADOWMAP_PA'+'SS(name)\x20n'+'ame,\x20name\x20'+'##\x20_sample'+'r\x0a#define\x20'+'SHADOWMAP_'+'ACCEPT(nam'+'e)\x20texture'+'2D\x20name,\x20s'+'ampler\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'PASS(name)'+'\x20name,\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT(nam'+'e)\x20texture'+'2D\x20name,\x20s'+'ampler\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT_HIG'+'HP\x20TEXTURE'+'_ACCEPT\x0a\x0a#'+'define\x20GL2'+'\x0a#define\x20W'+'EBGPU\x0a'),Wy='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#defin'+'e\x20texture2'+'D(res,\x20uv)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20itextu'+'re2D(res,\x20'+'uv)\x20textur'+'e(isampler'+'2D(res,\x20re'+'s\x20##\x20_samp'+'ler),\x20uv)\x0a'+'#define\x20ut'+'exture2D(r'+'es,\x20uv)\x20te'+'xture(usam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a\x0a#defi'+'ne\x20TEXTURE'+'_PASS(name'+')\x20name,\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT(na'+'me)\x20textur'+'e2D\x20name,\x20'+'sampler\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT_HI'+'GHP\x20TEXTUR'+'E_ACCEPT\x0a\x0a'+'#define\x20GL'+'2\x0a#define\x20'+'WEBGPU\x0a#de'+'fine\x20VERTE'+'XSHADER\x0a#d'+'efine\x20gl_V'+'ertexID\x20gl'+'_VertexInd'+'ex\x0a#define'+'\x20gl_Instan'+'ceID\x20gl_In'+'stanceInde'+'x\x0a',$y='\x0a',Xy='\x0a#define\x20V'+'ERTEXSHADE'+'R\x0a',n_='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20to'+'\x20sample\x20sc'+'ene\x20grab\x20t'+'extures\x0ave'+'c2\x20getGrab'+'ScreenPos('+'vec4\x20clipP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x200.5;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'WEBGPU\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv.y\x20'+'=\x201.0\x20-\x20uv'+'.y;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a\x0a//\x20con'+'vert\x20uv\x20co'+'ordinates\x20'+'to\x20sample\x20'+'image\x20effe'+'ct\x20texture'+'\x20(render\x20t'+'arget\x20text'+'ure\x20render'+'ed\x20without'+'\x0a//\x20forwar'+'d\x20renderer'+'\x20which\x20doe'+'s\x20the\x20flip'+'\x20in\x20the\x20pr'+'ojection\x20m'+'atrix)\x0avec'+'2\x20getImage'+'EffectUV(v'+'ec2\x20uv)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv.y'+'\x20=\x201.0\x20-\x20u'+'v.y;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20uv'+';\x0a}\x0a',o_='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20fo'+'r\x20sampling'+'\x20scene\x20gra'+'b\x20textures'+'\x0afn\x20getGra'+'bScreenPos'+'(clipPos:\x20'+'vec4<f32>)'+'\x20->\x20vec2<f'+'32>\x20{\x0a\x20\x20\x20\x20'+'var\x20uv:\x20ve'+'c2<f32>\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x20vec2<f3'+'2>(0.5);\x0a\x20'+'\x20\x20\x20uv.y\x20=\x20'+'1.0\x20-\x20uv.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'//\x20convert'+'\x20uv\x20coordi'+'nates\x20to\x20s'+'ample\x20imag'+'e\x20effect\x20t'+'exture\x20(re'+'nder\x20targe'+'t\x20texture\x20'+'rendered\x20w'+'ithout\x0a//\x20'+'forward\x20re'+'nderer\x20whi'+'ch\x20does\x20th'+'e\x20flip\x20in\x20'+'the\x20projec'+'tion\x20matri'+'x)\x0afn\x20getI'+'mageEffect'+'UV(uv:\x20vec'+'2<f32>)\x20->'+'\x20vec2<f32>'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20modifiedU'+'V:\x20vec2<f3'+'2>\x20=\x20uv;\x0a\x20'+'\x20\x20\x20modifie'+'dUV.y\x20=\x201.'+'0\x20-\x20modifi'+'edUV.y;\x0a\x20\x20'+'\x20\x20return\x20m'+'odifiedUV;'+'\x0a}\x0a\x0a//\x20typ'+'es\x20wrapped'+'\x20in\x20size\x20a'+'ligned\x20str'+'uctures\x20to'+'\x20ensure\x20co'+'rrect\x20alig'+'nment\x20in\x20u'+'niform\x20buf'+'fer\x20arrays'+'\x0astruct\x20Wr'+'appedF32\x20{'+'\x20@size(16)'+'\x20element:\x20'+'f32\x20}\x0astru'+'ct\x20Wrapped'+'I32\x20{\x20@siz'+'e(16)\x20elem'+'ent:\x20i32\x20}'+'\x0astruct\x20Wr'+'appedU32\x20{'+'\x20@size(16)'+'\x20element:\x20'+'u32\x20}\x0astru'+'ct\x20Wrapped'+'Vec2F\x20{\x20@s'+'ize(16)\x20el'+'ement:\x20vec'+'2f\x20}\x0astruc'+'t\x20WrappedV'+'ec2I\x20{\x20@si'+'ze(16)\x20ele'+'ment:\x20vec2'+'i\x20}\x0astruct'+'\x20WrappedVe'+'c2U\x20{\x20@siz'+'e(16)\x20elem'+'ent:\x20vec2u'+'\x20}\x0a',GT={'vertex_position':Me,'vertex_normal':gs,'vertex_tangent':yi,'vertex_texCoord0':is,'vertex_texCoord1':ba,'vertex_texCoord2':wl,'vertex_texCoord3':El,'vertex_texCoord4':bl,'vertex_texCoord5':Al,'vertex_texCoord6':Cl,'vertex_texCoord7':Pl,'vertex_color':Wt,'vertex_boneIndices':us,'vertex_boneWeights':gi};class Jt{static['createDefi'+'nition'](_0x7c1fe9,_0x50c802){w['assert'](_0x50c802),w['assert'](!_0x50c802['vertexDefi'+'nes']||_0x50c802['vertexDefi'+'nes']instanceof Map),w['assert'](!_0x50c802['vertexIncl'+'udes']||_0x50c802['vertexIncl'+'udes']instanceof Map),w['assert'](!_0x50c802['fragmentDe'+'fines']||_0x50c802['fragmentDe'+'fines']instanceof Map),w['assert'](!_0x50c802['fragmentIn'+'cludes']||_0x50c802['fragmentIn'+'cludes']instanceof Map);const _0x55ff10=_0x33403d=>{let _0x19be3d=_0x33403d['fragmentOu'+'tputTypes']??'vec4';return Array['isArray'](_0x19be3d)||(_0x19be3d=[_0x19be3d]),_0x19be3d;},_0x984fbc=(_0x4842e3,_0x22d748,_0x4757c6,_0x54a9bc)=>{const _0x5cb320=_0x7c1fe9['isWebGPU']?_0x4842e3:_0x22d748;let _0x4d1ccb='';if(!_0x4757c6){const _0xd68b95=_0x55ff10(_0x54a9bc);for(let _0x27cdb0=-0x10f4+0x4f*-0x38+0x223c;_0x27cdb0<_0x7c1fe9['maxColorAt'+'tachments'];_0x27cdb0++){_0x4d1ccb+='#define\x20CO'+'LOR_ATTACH'+'MENT_'+_0x27cdb0+'\x0a';const _0x37145b=_0xd68b95[_0x27cdb0]??'vec4';_0x4d1ccb+='#define\x20ou'+'tType_'+_0x27cdb0+'\x20'+_0x37145b+'\x0a';}}return _0x4d1ccb+_0x5cb320;},_0x4b64e8=(_0x2ff536,_0x3ecc26)=>{let _0x587595='';if(!_0x2ff536){const _0x541920=_0x55ff10(_0x3ecc26);for(let _0x1b1203=-0x1f7e+0x1c7b+0x1*0x303;_0x1b1203<_0x7c1fe9['maxColorAt'+'tachments'];_0x1b1203++){const _0x3364bf=_0x541920[_0x1b1203]??'vec4',_0x590b5d=Fy['get'](_0x3364bf);w['assert'](_0x590b5d,'Unknown\x20ou'+'tput\x20type\x20'+'translatio'+'n:\x20'+_0x3364bf+'\x20->\x20'+_0x590b5d),_0x587595+='alias\x20pcOu'+'tType'+_0x1b1203+'\x20=\x20'+_0x590b5d+';\x0a';}}return _0x587595;},_0x20804d=_0x50c802['name']??'Untitled';let _0x4df585,_0x51dd0e;const _0x2aa71a=Jt['getDefines'+'Code'](_0x7c1fe9,_0x50c802['vertexDefi'+'nes']),_0x278f5c=Jt['getDefines'+'Code'](_0x7c1fe9,_0x50c802['fragmentDe'+'fines']);return _0x50c802['shaderLang'+'uage']===it?(_0x4df585='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20'+_0x4b64e8(!(0x1*0x7f7+0x4*0x7ea+-0x279f),_0x50c802)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Xy+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+o_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x2aa71a+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x50c802['vertexCode']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'),_0x51dd0e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20'+_0x4b64e8(!(-0xe*0x3+0x35*-0x35+0x5c*0x1f),_0x50c802)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+$y+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+o_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x278f5c+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x50c802['fragmentCo'+'de']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')):(w['assert'](_0x50c802['vertexCode']),_0x4df585=Jt['versionCod'+'e'](_0x7c1fe9)+_0x984fbc(Wy,Gy,!(0x5*-0x2ef+-0x141b*0x1+0x2*0x1163),_0x50c802)+_0x2aa71a+Jt['precisionC'+'ode'](_0x7c1fe9)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+n_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Jt['getShaderN'+'ameCode'](_0x20804d)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x50c802['vertexCode'],w['assert'](_0x50c802['fragmentCo'+'de']),_0x51dd0e=(_0x50c802['fragmentPr'+'eamble']||'')+Jt['versionCod'+'e'](_0x7c1fe9)+_0x984fbc(Hy,Vy,!(0x3d*0x46+0x21f*0xb+0x2*-0x1401),_0x50c802)+_0x278f5c+Jt['precisionC'+'ode'](_0x7c1fe9)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+n_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Jt['getShaderN'+'ameCode'](_0x20804d)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x50c802['fragmentCo'+'de']),{'name':_0x20804d,'shaderLanguage':_0x50c802['shaderLang'+'uage']??Fe,'attributes':_0x50c802['attributes'],'vshader':_0x4df585,'vincludes':_0x50c802['vertexIncl'+'udes'],'fincludes':_0x50c802['fragmentIn'+'cludes'],'fshader':_0x51dd0e,'useTransformFeedback':_0x50c802['useTransfo'+'rmFeedback'],'meshUniformBufferFormat':_0x50c802['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x50c802['meshBindGr'+'oupFormat']};}static['getDefines'+'Code'](_0x3c2369,_0x2c8167){let _0x5510dd='';return _0x3c2369['capsDefine'+'s']['forEach']((_0x4f46ea,_0x20315c)=>{_0x5510dd+='#define\x20'+_0x20315c+'\x20'+_0x4f46ea+'\x0a';}),_0x5510dd+='\x0a',_0x2c8167==null||_0x2c8167['forEach']((_0x4ced73,_0x4d86b0)=>{_0x5510dd+='#define\x20'+_0x4d86b0+'\x20'+_0x4ced73+'\x0a';}),_0x5510dd+='\x0a',_0x5510dd;}static['getShaderN'+'ameCode'](_0x196f75){return'#define\x20SH'+'ADER_NAME\x20'+_0x196f75+'\x0a';}static['versionCod'+'e'](_0x9f34c0){return _0x9f34c0['isWebGPU']?'#version\x204'+'50\x0a':'#version\x203'+'00\x20es\x0a';}static['precisionC'+'ode'](_0x48e9e6,_0x277528){_0x277528&&_0x277528!=='highp'&&_0x277528!=='mediump'&&_0x277528!=='lowp'&&(_0x277528=null),_0x277528&&(_0x277528==='highp'&&_0x48e9e6['maxPrecisi'+'on']!=='highp'&&(_0x277528='mediump'),_0x277528==='mediump'&&_0x48e9e6['maxPrecisi'+'on']==='lowp'&&(_0x277528='lowp'));const _0x1f24fd=_0x277528||_0x48e9e6['precision'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20precisi'+'on\x20'+_0x1f24fd+('\x20float;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x1f24fd+('\x20int;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20pr'+'ecision\x20')+_0x1f24fd+('\x20usampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x1f24fd+('\x20isampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x1f24fd+('\x20sampler2D'+'Shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x1f24fd+('\x20samplerCu'+'beShadow;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20precisio'+'n\x20')+_0x1f24fd+('\x20sampler2D'+'Array;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}static['collectAtt'+'ributes'](_0x1fdee5){const _0x2fa69a={};let _0x9840a3=0xb9e*0x3+-0x4*-0x7de+-0x4252,_0x32f99d=_0x1fdee5['indexOf']('attribute');for(;_0x32f99d>=0x11ab*-0x1+0x4e*-0x65+0x3071&&!(_0x32f99d>-0x102c+0x2335+-0x1309&&_0x1fdee5[_0x32f99d-(-0x78c+-0x1b6f*0x1+0x8bf*0x4)]==='/');){let _0x1758d8=!(0x1c35+0x23c6+-0x3ffa);if(_0x32f99d>-0xfb*0x1c+-0xaf5+0x2669){let _0x16822a=_0x1fdee5['lastIndexO'+'f']('\x0a',_0x32f99d);_0x16822a=_0x16822a!==-(-0x707*-0x3+0xf*0x5f+-0x1aa5)?_0x16822a+(0x121+0x1c5d+0x1*-0x1d7d):0x7a2+0x194a+-0x20ec,_0x1fdee5['substring'](_0x16822a,_0x32f99d)['includes']('#')&&(_0x1758d8=!(-0x128f*-0x1+0x930+-0x1bbf));}if(!_0x1758d8){const _0x284f7e=_0x1fdee5['indexOf'](';',_0x32f99d),_0x3d5c22=_0x1fdee5['lastIndexO'+'f']('\x20',_0x284f7e),_0xae42b0=_0x1fdee5['substring'](_0x3d5c22+(0xab9*-0x3+-0x1a19+0x3a45),_0x284f7e);if(_0x2fa69a[_0xae42b0])w['warn']('Attribute\x20'+'['+_0xae42b0+(']\x20already\x20'+'exists\x20whe'+'n\x20extracti'+'ng\x20the\x20att'+'ributes\x20fr'+'om\x20the\x20ver'+'tex\x20shader'+',\x20ignoring'+'.'),{'vsCode':_0x1fdee5});else{const _0x392dde=GT[_0xae42b0];_0x392dde!==void(0x1b1f+-0x745*-0x1+-0x2264)?_0x2fa69a[_0xae42b0]=_0x392dde:(_0x2fa69a[_0xae42b0]='ATTR'+_0x9840a3,_0x9840a3++);}}_0x32f99d=_0x1fdee5['indexOf']('attribute',_0x32f99d+(0x1623+0x53*0x74+-0x3*0x13ea));}return _0x2fa69a;}}let HT=0x11e6+0x851+-0x8bd*0x3;class qy{constructor(_0x2b8c77,_0x4757c2){h(this,'meshUnifor'+'mBufferFor'+'mat'),h(this,'meshBindGr'+'oupFormat'),h(this,'attributes',new Map());if(this['id']=HT++,this['device']=_0x2b8c77,this['definition']=_0x4757c2,this['name']=_0x4757c2['name']||'Untitled',this['init'](),_0x4757c2['cshader'])w['assert'](_0x2b8c77['supportsCo'+'mpute'],'Compute\x20sh'+'aders\x20are\x20'+'not\x20suppor'+'ted\x20on\x20thi'+'s\x20device.'),w['assert'](!_0x4757c2['vshader']&&!_0x4757c2['fshader'],'Vertex\x20and'+'\x20fragment\x20'+'shaders\x20ar'+'e\x20not\x20supp'+'orted\x20when'+'\x20creating\x20'+'a\x20compute\x20'+'shader.'),_0x4757c2['cshader']=ko['run'](_0x4757c2['cshader'],_0x4757c2['cincludes'],{'sourceName':'compute\x20sh'+'ader\x20for\x20'+this['label'],'stripDefines':!(0x1019+-0x255+-0xdc4)});else{w['assert'](_0x4757c2['vshader'],'No\x20vertex\x20'+'shader\x20has'+'\x20been\x20spec'+'ified\x20when'+'\x20creating\x20'+'a\x20shader.'),w['assert'](_0x4757c2['fshader'],'No\x20fragmen'+'t\x20shader\x20h'+'as\x20been\x20sp'+'ecified\x20wh'+'en\x20creatin'+'g\x20a\x20shader'+'.'),w['call'](()=>{this['vUnmodifie'+'d']=_0x4757c2['vshader'],this['fUnmodifie'+'d']=_0x4757c2['fshader'];});const _0x1e2474=_0x4757c2['shaderLang'+'uage']===it;_0x4757c2['vshader']=ko['run'](_0x4757c2['vshader'],_0x4757c2['vincludes'],{'sourceName':'vertex\x20sha'+'der\x20for\x20'+this['label'],'stripDefines':_0x1e2474}),_0x4757c2['shaderLang'+'uage']===Fe&&(_0x4757c2['attributes']??(_0x4757c2['attributes']=Jt['collectAtt'+'ributes'](_0x4757c2['vshader'])));const _0xb99366=_0x2b8c77['isWebGL2']&&(Ae['name']==='osx'||Ae['name']==='ios');if(_0x4757c2['fshader']=ko['run'](_0x4757c2['fshader'],_0x4757c2['fincludes'],{'stripUnusedColorAttachments':_0xb99366,'stripDefines':_0x1e2474,'sourceName':'fragment\x20s'+'hader\x20for\x20'+this['label']}),!_0x4757c2['vshader']||!_0x4757c2['fshader']){w['error']('Shader:\x20Fa'+'iled\x20to\x20cr'+'eate\x20shade'+'r\x20'+this['label']+('.\x20Vertex\x20o'+'r\x20fragment'+'\x20shader\x20so'+'urce\x20is\x20em'+'pty.'),this),this['failed']=!(0x1277+0x5d3*-0x5+-0xb*-0xf8);return;}}this['impl']=_0x2b8c77['createShad'+'erImpl'](this),w['trace'](Im,'Alloc:\x20'+this['label']+',\x20stack:\x20'+Q['toString'](),{'instance':this});}['init'](){this['ready']=!(0x1fda+0x1*0xb9d+-0x2b76),this['failed']=!(-0xa*-0x11f+0x15d8*-0x1+0xaa3);}get['label'](){return'Shader\x20Id\x20'+this['id']+'\x20('+(this['definition']['shaderLang'+'uage']===it?'WGSL':'GLSL')+')\x20'+this['name'];}['destroy'](){w['trace'](Im,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']),this['device']['onDestroyS'+'hader'](this),this['impl']['destroy'](this);}['loseContex'+'t'](){this['init'](),this['impl']['loseContex'+'t']();}['restoreCon'+'text'](){this['impl']['restoreCon'+'text'](this['device'],this);}}class WT{constructor(){h(this,'storage'),h(this,'gpuBuffer'),h(this,'offset');}}const Be=[];Be[Xs]=function(_0x5a0f96,_0x17578e,_0x42f18d){const _0x2b2ea2=_0x5a0f96['storageFlo'+'at32'];_0x2b2ea2[_0x42f18d]=_0x17578e;},Be[ga]=(_0xabe8cf,_0x277b5b,_0x436949)=>{const _0x1c24c2=_0xabe8cf['storageFlo'+'at32'];_0x1c24c2[_0x436949]=_0x277b5b[0x914*0x1+-0xf4d+0x3b*0x1b],_0x1c24c2[_0x436949+(0x256e+-0x114a+-0x1423)]=_0x277b5b[0x110d*0x1+-0xecc*0x1+0x2*-0x120];},Be[ds]=(_0x15ea75,_0x20c2ab,_0x2f8837)=>{const _0x45a9d5=_0x15ea75['storageFlo'+'at32'];_0x45a9d5[_0x2f8837]=_0x20c2ab[-0x1*-0x14fb+-0x9dc+-0x3*0x3b5],_0x45a9d5[_0x2f8837+(0x1ef3+0x243a+-0x432c)]=_0x20c2ab[0x1*-0x1ea3+0x2*0x71d+0x106a],_0x45a9d5[_0x2f8837+(-0x1284+-0x25d2+0x3858)]=_0x20c2ab[-0x1ae7*-0x1+0x8f8+-0x23dd];},Be[Rn]=(_0x137dd3,_0x2c76b6,_0xefc9e7)=>{const _0xa4367=_0x137dd3['storageFlo'+'at32'];_0xa4367[_0xefc9e7]=_0x2c76b6[0x29c*-0x2+-0x1e3d+0x2375*0x1],_0xa4367[_0xefc9e7+(-0x365+-0x117d*-0x2+-0x1f94)]=_0x2c76b6[-0x44f*-0x7+-0x1*0x2141+0x319],_0xa4367[_0xefc9e7+(-0x1*-0xccd+0x7*0x223+-0x1bc0)]=_0x2c76b6[-0x136d*0x1+-0x6*0xec+-0x391*-0x7],_0xa4367[_0xefc9e7+(0x16*0x19b+-0x2475+0x126)]=_0x2c76b6[0x7a*0x29+-0x1*-0x163d+-0x29c4];},Be[_a]=function(_0x5ee592,_0x255446,_0x2959cf){const _0x4153c7=_0x5ee592['storageInt'+'32'];_0x4153c7[_0x2959cf]=_0x255446;},Be[ca]=function(_0x1909c1,_0x273e81,_0x1d5146){const _0x10efee=_0x1909c1['storageInt'+'32'];_0x10efee[_0x1d5146]=_0x273e81[0x16a6+0x1ce9+-0x1*0x338f],_0x10efee[_0x1d5146+(0x1*0x1ea1+0xfcf+-0x1*0x2e6f)]=_0x273e81[0xd3e*-0x2+-0x81*-0x26+0x1*0x757];},Be[ha]=function(_0xbd470d,_0x23fa82,_0x2501c3){const _0x230df0=_0xbd470d['storageInt'+'32'];_0x230df0[_0x2501c3]=_0x23fa82[-0x19d8+0x254c+-0xb74],_0x230df0[_0x2501c3+(-0x44*0x1+0x6*0x292+-0xf27)]=_0x23fa82[-0x5*0x431+-0x269*-0x4+0xb52],_0x230df0[_0x2501c3+(-0x1*0x1089+0x214a+-0x10bf)]=_0x23fa82[-0x1300+-0x1533+0x2f*0xdb];},Be[da]=function(_0x42cdf7,_0xcd37cd,_0x3cfc5e){const _0x417193=_0x42cdf7['storageInt'+'32'];_0x417193[_0x3cfc5e]=_0xcd37cd[-0x997*-0x1+0x2361+-0x2cf8],_0x417193[_0x3cfc5e+(-0x337*0x3+-0xf*-0x251+-0x1919*0x1)]=_0xcd37cd[0x11ed*0x2+0x1429+0x86*-0x6b],_0x417193[_0x3cfc5e+(0xd*0x14f+0x1*-0x1915+0x814)]=_0xcd37cd[0x1*0x9b2+-0x20da+0x172a],_0x417193[_0x3cfc5e+(0x12b1+-0xc26+-0x688)]=_0xcd37cd[0x1*-0x179b+-0x17*-0x157+-0x733];},Be[_h]=(_0x224640,_0x3061b3,_0x9846f3)=>{const _0x368e3e=_0x224640['storageFlo'+'at32'];_0x368e3e[_0x9846f3]=_0x3061b3[0x216f+-0x22dc+-0x1*-0x16d],_0x368e3e[_0x9846f3+(0x193+-0x3d2+0x240)]=_0x3061b3[-0x67*0x29+0x1*0x903+0x9*0xd5],_0x368e3e[_0x9846f3+(0x10*0x6d+-0x2309*0x1+0x1c3d)]=_0x3061b3[0x242b*0x1+-0xe15+-0x1614],_0x368e3e[_0x9846f3+(-0xc4d+-0x1119+0x1d6b*0x1)]=_0x3061b3[0x1d*-0x95+0x1541+0x1*-0x45d],_0x368e3e[_0x9846f3+(0x2509*0x1+0x21d*-0x2+-0x3*0xaed)]=_0x3061b3[0xeac+0x1142+-0x1fea],_0x368e3e[_0x9846f3+(0xa8+0x16*-0x1c0+-0x25e1*-0x1)]=_0x3061b3[-0x6c0+0x251d+-0x1e58];},Be[On]=(_0x25dd91,_0x5430c2,_0x2e0ca4)=>{const _0x378062=_0x25dd91['storageFlo'+'at32'];_0x378062[_0x2e0ca4]=_0x5430c2[-0x1296+-0x534*-0x7+-0x6*0x2f9],_0x378062[_0x2e0ca4+(-0x180c*-0x1+0x1214+-0x2a1f)]=_0x5430c2[-0x24c4+-0x615+0xa*0x449],_0x378062[_0x2e0ca4+(-0x461+0x6f0+-0x28d)]=_0x5430c2[-0x1696+-0x5*-0x733+-0xd67],_0x378062[_0x2e0ca4+(-0x5b*0x4b+0x206e+-0x5c1)]=_0x5430c2[0x1b17+-0x26f2+0xbde],_0x378062[_0x2e0ca4+(-0x12*0xca+-0x246f+0x32a8)]=_0x5430c2[0x2f1*-0xa+0x1d09*0x1+0x65],_0x378062[_0x2e0ca4+(-0xd2e+0x24a5+-0x1771)]=_0x5430c2[0x23a4*0x1+0x1bf7*0x1+0x2*-0x1fcb],_0x378062[_0x2e0ca4+(-0x2d5*0x7+-0x1c6b+0x3046)]=_0x5430c2[-0x1*-0x345+0x16f0+0x1*-0x1a2f],_0x378062[_0x2e0ca4+(0x1b*0xa7+-0x1*0x1855+0x6c1)]=_0x5430c2[-0x17d*0x4+-0x199*0xe+-0x3b*-0x7b],_0x378062[_0x2e0ca4+(-0x80e*-0x4+0x1a76+-0x3aa4)]=_0x5430c2[-0x1*0x24cd+0x5b5+0x1f20];},Be[ud]=function(_0x24a10d,_0xb66570,_0x37577f,_0x5d64c0){const _0x5df065=_0x24a10d['storageFlo'+'at32'];for(let _0x50d7a8=0x22f+-0x117c+0xf4d;_0x50d7a8<_0x5d64c0;_0x50d7a8++)_0x5df065[_0x37577f+_0x50d7a8*(-0xdaf+0x1*-0xc79+-0x1*-0x1a2c)]=_0xb66570[_0x50d7a8];},Be[pd]=(_0x276b30,_0x4f6437,_0x68fb34,_0x4c4b1d)=>{const _0x5e8225=_0x276b30['storageFlo'+'at32'];for(let _0x494730=-0x53*0x29+0x1b55+0x1*-0xe0a;_0x494730<_0x4c4b1d;_0x494730++)_0x5e8225[_0x68fb34+_0x494730*(0x26*-0xc5+0x1b55+-0x11*-0x1d)]=_0x4f6437[_0x494730*(-0x5b*0x39+-0x12ce+0x2713*0x1)],_0x5e8225[_0x68fb34+_0x494730*(0x11f*-0x2+-0x1*0x1d2c+-0x12*-0x1bf)+(-0x145d*-0x1+-0x180e*0x1+0x3b2)]=_0x4f6437[_0x494730*(-0x1b5f+0x1183+0x9de)+(0x53*-0x34+0xb69+0x574)];},Be[md]=(_0x454b45,_0x229169,_0x46efe1,_0x4ef61d)=>{const _0x2507fd=_0x454b45['storageFlo'+'at32'];for(let _0x2488e7=0x2*0x121d+0xb07+-0x2f41;_0x2488e7<_0x4ef61d;_0x2488e7++)_0x2507fd[_0x46efe1+_0x2488e7*(0x1d61+0x4*-0x6ef+-0x1a1)]=_0x229169[_0x2488e7*(-0x52d*-0x6+-0x39d+-0x1b6e)],_0x2507fd[_0x46efe1+_0x2488e7*(-0x215e+-0x10aa+0x320c)+(-0xb4*-0x5+-0x1c31+-0xea*-0x1b)]=_0x229169[_0x2488e7*(-0x547+-0x22c2+0x280c)+(0x1715+-0x14a5+-0x26f*0x1)],_0x2507fd[_0x46efe1+_0x2488e7*(0x1*0x173a+-0x13ac+0x3*-0x12e)+(0x23b*-0xd+0x261c+-0x91b)]=_0x229169[_0x2488e7*(-0x4*-0x61f+-0x200f*0x1+0x796)+(0xee6+-0x22bf+-0x17*-0xdd)];},Be[Fn]=(_0x4844d4,_0x25c746,_0x74b23f,_0xf96e6)=>{const _0x95210e=_0x4844d4['storageUin'+'t32'];_0x95210e[_0x74b23f]=_0x25c746;},Be[Nn]=(_0x326ad0,_0x22a56a,_0x16fb49,_0xd60cec)=>{const _0x42122f=_0x326ad0['storageUin'+'t32'];_0x42122f[_0x16fb49]=_0x22a56a[-0x241e*-0x1+0xeb9*-0x1+0x1565*-0x1],_0x42122f[_0x16fb49+(0x1ca9+-0x36*0x85+-0xb*0xe)]=_0x22a56a[-0xe*0xce+0xa9d+0xa8];},Be[kn]=(_0x13ecbc,_0x4e6a97,_0x5c94af,_0x8a7679)=>{const _0x5b99bb=_0x13ecbc['storageUin'+'t32'];_0x5b99bb[_0x5c94af]=_0x4e6a97[0x2*-0x995+0x5d*0x4d+0xcd*-0xb],_0x5b99bb[_0x5c94af+(-0xc*0x9d+0x231e+-0x1bc1)]=_0x4e6a97[0x1c81*-0x1+-0x1ca3+0x3925],_0x5b99bb[_0x5c94af+(0x167d+0x59*0x6+0x1891*-0x1)]=_0x4e6a97[-0x4a*0x21+0x1390+0x1*-0xa04];},Be[Un]=(_0x3a7f00,_0x119575,_0x45e774,_0x5ac7be)=>{const _0x4334c6=_0x3a7f00['storageUin'+'t32'];_0x4334c6[_0x45e774]=_0x119575[0x1dab*-0x1+-0x1e4c+0x3bf7],_0x4334c6[_0x45e774+(0x79d*0x3+0x1482+-0x2b58)]=_0x119575[0x1a7+0x2*-0x11f7+-0x2*-0x1124],_0x4334c6[_0x45e774+(-0x183e+0x818+0x1028)]=_0x119575[0x1d3b*0x1+-0x25cf*-0x1+-0x4308],_0x4334c6[_0x45e774+(-0x55a+-0x376+0x8d3*0x1)]=_0x119575[-0x1ad2+0x1b74+0x1*-0x9f];},Be[Bn]=function(_0x3a4fed,_0x1b6543,_0x5904bf,_0x1f3dfd){const _0x10009c=_0x3a4fed['storageInt'+'32'];for(let _0x4e55df=0x194e+0xb*-0x22b+-0x1*0x175;_0x4e55df<_0x1f3dfd;_0x4e55df++)_0x10009c[_0x5904bf+_0x4e55df*(0xfcb+-0x2*-0xc91+-0x28e9)]=_0x1b6543[_0x4e55df];},Be[gd]=Be[Bn],Be[_d]=function(_0x9f68d,_0x4a6d95,_0x37b5d4,_0x41c74b){const _0x2d4982=_0x9f68d['storageUin'+'t32'];for(let _0x186590=-0x1*0x1594+-0x16*-0x75+0xb86;_0x186590<_0x41c74b;_0x186590++)_0x2d4982[_0x37b5d4+_0x186590*(0x284+0x159b+-0x3*0x809)]=_0x4a6d95[_0x186590];},Be[zn]=(_0x58e066,_0x2b0a38,_0x534265,_0x25ef7c)=>{const _0x5ac72f=_0x58e066['storageInt'+'32'];for(let _0x1cd460=-0x159b+0x1ebc+-0x921;_0x1cd460<_0x25ef7c;_0x1cd460++)_0x5ac72f[_0x534265+_0x1cd460*(-0x1f11+0x35b*-0x6+-0x1*-0x3337)]=_0x2b0a38[_0x1cd460*(0x842*-0x1+0x1*-0xa17+0x125b)],_0x5ac72f[_0x534265+_0x1cd460*(-0x1835*-0x1+-0x230e+0xadd)+(0xf*-0x267+0x4b+0x1*0x23bf)]=_0x2b0a38[_0x1cd460*(-0x36*-0xa2+-0x13ef+-0xe3b)+(0x1fcc*-0x1+0x6cf+0x18fe*0x1)];},Be[yd]=Be[zn],Be[Sd]=(_0x5b2f99,_0x2d353c,_0x5e4e9c,_0x18169b)=>{const _0x1e1c84=_0x5b2f99['storageUin'+'t32'];for(let _0x55a022=-0x1*0x3c7+-0xd80+-0x1147*-0x1;_0x55a022<_0x18169b;_0x55a022++)_0x1e1c84[_0x5e4e9c+_0x55a022*(0x2*-0xc34+-0x2420+0x3c8c)]=_0x2d353c[_0x55a022*(-0x16*0xf9+0x292*-0x2+-0x1a8c*-0x1)],_0x1e1c84[_0x5e4e9c+_0x55a022*(-0x3*-0x187+0x191f+-0x1db0)+(-0x1*-0x1c81+0x2058+-0xec*0x42)]=_0x2d353c[_0x55a022*(0xfa1*-0x1+0x2b*0x2f+0x7be)+(-0x3*-0xa94+-0x1d08+-0x2b3)];},Be[Vn]=(_0x1162fb,_0x3f9328,_0x25e993,_0x323c93)=>{const _0x4efb39=_0x1162fb['storageInt'+'32'];for(let _0x14ac2c=0x803+0xd2d*-0x1+0x52a;_0x14ac2c<_0x323c93;_0x14ac2c++)_0x4efb39[_0x25e993+_0x14ac2c*(-0x157*-0xd+0x2230+-0x3397)]=_0x3f9328[_0x14ac2c*(0x43b+0x2477*0x1+-0x28af)],_0x4efb39[_0x25e993+_0x14ac2c*(-0x17*-0x123+0x8b*-0x3f+0x814)+(0x11dd*-0x2+-0x1*-0x716+0x1ca5)]=_0x3f9328[_0x14ac2c*(-0xcae+-0x1a3*0x1+0xe54)+(-0x1ed4+0x5ab+-0x1*-0x192a)],_0x4efb39[_0x25e993+_0x14ac2c*(0x964+-0xc44+0x4*0xb9)+(0x1*-0x1924+-0x137*-0x13+0x211)]=_0x3f9328[_0x14ac2c*(-0x1ca2+-0x1618*0x1+-0x32bd*-0x1)+(-0x1912+0x16a4+0xd*0x30)];},Be[xd]=Be[Vn],Be[vd]=(_0x239cbd,_0x42e181,_0xeaceea,_0x8371e8)=>{const _0x59fdd0=_0x239cbd['storageUin'+'t32'];for(let _0x38d14c=0x524+-0xb96+0x672;_0x38d14c<_0x8371e8;_0x38d14c++)_0x59fdd0[_0xeaceea+_0x38d14c*(0x1*0x104f+0x25*0x39+-0x1888)]=_0x42e181[_0x38d14c*(0x2*-0x8ea+0xd*0x23f+-0x2d7*0x4)],_0x59fdd0[_0xeaceea+_0x38d14c*(0x3*0xa0b+0x944*-0x4+0x6f3)+(0x839*-0x1+-0x3b*0x76+0x236c)]=_0x42e181[_0x38d14c*(0xe9d+-0x5e*-0x45+-0x8e*0x48)+(0x109+0x1*0x2284+0x34*-0xaf)],_0x59fdd0[_0xeaceea+_0x38d14c*(-0xa*0x14+-0x2209*0x1+-0x22d5*-0x1)+(0x11f5*0x1+0x1e2b*0x1+-0x805*0x6)]=_0x42e181[_0x38d14c*(-0x1704+0x3*-0x31d+0x205e)+(-0x6f3+0xefd*-0x1+0x35*0x6a)];};class zp{constructor(_0x1d7d56,_0x429683,_0x222623=!(-0x197+0x1*0x120e+-0x1077)){h(this,'device'),h(this,'persistent'),h(this,'allocation'),h(this,'storageFlo'+'at32'),h(this,'storageInt'+'32'),h(this,'storageUin'+'t32'),h(this,'renderVers'+'ionDirty',0xda2+-0x2b*0xa9+0x4eb*0x3);if(this['device']=_0x1d7d56,this['format']=_0x429683,this['persistent']=_0x222623,w['assert'](_0x429683),_0x222623){this['impl']=_0x1d7d56['createUnif'+'ormBufferI'+'mpl'](this);const _0x4d8bc2=new ArrayBuffer(_0x429683['byteSize']);this['assignStor'+'age'](new Int32Array(_0x4d8bc2)),_0x1d7d56['_vram']['ub']+=this['format']['byteSize'];}else this['allocation']=new WT();}['destroy'](){if(this['persistent']){const _0x423975=this['device'];this['impl']['destroy'](_0x423975),_0x423975['_vram']['ub']-=this['format']['byteSize'];}}get['offset'](){return this['persistent']?0x1743+-0x33*-0xc4+-0x3e4f:this['allocation']['offset'];}['assignStor'+'age'](_0x23161e){this['storageInt'+'32']=_0x23161e,this['storageUin'+'t32']=new Uint32Array(_0x23161e['buffer'],_0x23161e['byteOffset'],_0x23161e['byteLength']/(0x13a9+0x792+-0x1b37*0x1)),this['storageFlo'+'at32']=new Float32Array(_0x23161e['buffer'],_0x23161e['byteOffset'],_0x23161e['byteLength']/(0x3*-0x59a+-0x1091+0x2163));}['loseContex'+'t'](){var _0x3b85cf;(_0x3b85cf=this['impl'])==null||_0x3b85cf['loseContex'+'t']();}['setUniform'](_0x573ee9,_0x41ed9d){w['assert'](_0x573ee9);const _0x140dbb=_0x573ee9['offset'];if(_0x41ed9d!=null){const _0x299708=Be[_0x573ee9['updateType']];_0x299708?_0x299708(this,_0x41ed9d,_0x140dbb,_0x573ee9['count']):this['storageFlo'+'at32']['set'](_0x41ed9d,_0x140dbb);}else w['warnOnce']('Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20to\x20unif'+'orm\x20['+_0x573ee9['name']+('],\x20expecte'+'d\x20type\x20')+Ey[_0x573ee9['type']]+('\x20while\x20ren'+'dering\x20')+Q['toString']());}['set'](_0x240577,_0x32d3aa){const _0x598393=this['format']['map']['get'](_0x240577);w['assert'](_0x598393,'Uniform\x20na'+'me\x20['+_0x240577+(']\x20is\x20not\x20p'+'art\x20of\x20the'+'\x20Uniform\x20b'+'uffer.')),_0x598393&&this['setUniform'](_0x598393,_0x32d3aa);}['startUpdat'+'e'](_0x4cc294){if(!this['persistent']){const _0x1bf23e=this['allocation'],_0x518e61=_0x1bf23e['gpuBuffer'];this['device']['dynamicBuf'+'fers']['alloc'](_0x1bf23e,this['format']['byteSize']),this['assignStor'+'age'](_0x1bf23e['storage']),_0x4cc294&&(_0x4cc294['bindGroup']=_0x1bf23e['gpuBuffer']['getBindGro'+'up'](this),_0x4cc294['offsets'][-0x21*-0x12d+0x1bbe+-0x428b]=_0x1bf23e['offset']),_0x518e61!==_0x1bf23e['gpuBuffer']&&(this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion']);}}['endUpdate'](){this['persistent']?this['impl']['unlock'](this):(this['storageFlo'+'at32']=null,this['storageInt'+'32']=null);}['update'](_0x5ce580){this['startUpdat'+'e'](_0x5ce580);const _0x1b2902=this['format']['uniforms'];for(let _0x4e671d=0x1552+0x2*-0x1cd+-0x11b8;_0x4e671d<_0x1b2902['length'];_0x4e671d++){const _0x7c8829=_0x1b2902[_0x4e671d]['scopeId']['value'];this['setUniform'](_0x1b2902[_0x4e671d],_0x7c8829);}this['endUpdate']();}}class $T{constructor(){h(this,'frameAlloc'+'ations',[]),h(this,'pastFrameA'+'llocations',new Map()),h(this,'_enabled',!(-0x1*0x1157+-0x1053+0x21ab)),h(this,'_enableReq'+'uest',!(-0x22a1*-0x1+0x2041+-0x42e1*0x1)),h(this,'_frameTime',-0x5ea*0x2+-0x13d*-0x1d+-0x1815);}['loseContex'+'t'](){this['pastFrameA'+'llocations']['clear']();}set['enabled'](_0x462fca){this['_enableReq'+'uest']=_0x462fca;}get['enabled'](){return this['_enableReq'+'uest'];}['processEna'+'bleRequest'](){this['_enableReq'+'uest']!==this['_enabled']&&(this['_enabled']=this['_enableReq'+'uest'],this['_enabled']||(this['_frameTime']=0x756*-0x1+0x1fe*-0xd+0x213c));}['request'](_0x4e4ba2){this['pastFrameA'+'llocations']['set'](_0x4e4ba2,this['frameAlloc'+'ations']),this['frameAlloc'+'ations']=[];}['report'](_0x3b1e5b,_0x18af95){if(_0x18af95){const _0x5290ac=this['pastFrameA'+'llocations']['get'](_0x3b1e5b);if(w['assert'](_0x5290ac['length']===_0x18af95['length']),_0x18af95['length']>0x21b7+-0x1d*-0x39+-0xc*0x359&&(this['_frameTime']=_0x18af95['reduce']((_0x110ba5,_0x1d3684)=>_0x110ba5+_0x1d3684,-0x1*-0x138f+-0x1*-0x139b+-0x272a)),mi['get'](Gl)){w['trace'](Gl,'--\x20GPU\x20tim'+'ings\x20for\x20f'+'rame\x20'+_0x3b1e5b+'\x20--');let _0x5999d7=-0x2092+0x4cc+0x12*0x18b;for(let _0x515a2f=0xce*0x1b+0x25*0x55+-0x2203;_0x515a2f<_0x5290ac['length'];++_0x515a2f){const _0x47c5d1=_0x5290ac[_0x515a2f];_0x5999d7+=_0x18af95[_0x515a2f],w['trace'](Gl,_0x18af95[_0x515a2f]['toFixed'](0xeb9+0x2c4+-0x117b*0x1)+'\x20ms\x20'+_0x47c5d1);}w['trace'](Gl,_0x5999d7['toFixed'](-0x8b*-0x45+0xd87*-0x1+-0x17ee)+'\x20ms\x20TOTAL');}}this['pastFrameA'+'llocations']['delete'](_0x3b1e5b);}['getSlot'](_0x380ebe){const _0x3afb06=this['frameAlloc'+'ations']['length'];return this['frameAlloc'+'ations']['push'](_0x380ebe),_0x3afb06;}get['slotCount'](){return this['frameAlloc'+'ations']['length'];}}class jy{constructor(){h(this,'bufferId',null);}['destroy'](_0x1f27d3){this['bufferId']&&(_0x1f27d3['gl']['deleteBuff'+'er'](this['bufferId']),this['bufferId']=null);}get['initialize'+'d'](){return!!this['bufferId'];}['loseContex'+'t'](){this['bufferId']=null;}['unlock'](_0x46906c,_0x32bc4d,_0x338c88,_0x29455f){const _0x5d1d46=_0x46906c['gl'];if(this['bufferId'])_0x5d1d46['bindBuffer'](_0x338c88,this['bufferId']),_0x5d1d46['bufferSubD'+'ata'](_0x338c88,0x1*0x1f42+-0x8e6+0x1*-0x165c,_0x29455f);else{let _0x4d38eb;switch(_0x32bc4d){case ms:_0x4d38eb=_0x5d1d46['STATIC_DRA'+'W'];break;case lh:_0x4d38eb=_0x5d1d46['DYNAMIC_DR'+'AW'];break;case ey:_0x4d38eb=_0x5d1d46['STREAM_DRA'+'W'];break;case bx:_0x4d38eb=_0x5d1d46['DYNAMIC_CO'+'PY'];break;}this['bufferId']=_0x5d1d46['createBuff'+'er'](),_0x5d1d46['bindBuffer'](_0x338c88,this['bufferId']),_0x5d1d46['bufferData'](_0x338c88,_0x29455f,_0x4d38eb);}}}class XT extends jy{constructor(){super(...arguments),h(this,'vao',null);}['destroy'](_0x4a8c1f){super['destroy'](_0x4a8c1f),_0x4a8c1f['unbindVert'+'exArray']();}['loseContex'+'t'](){super['loseContex'+'t'](),this['vao']=null;}['unlock'](_0x41a28c){const _0x5a8d4b=_0x41a28c['device'];super['unlock'](_0x5a8d4b,_0x41a28c['usage'],_0x5a8d4b['gl']['ARRAY_BUFF'+'ER'],_0x41a28c['storage']);}}class qT extends jy{constructor(_0x41a94d){super();const _0x26b302=_0x41a94d['device']['gl'],_0x57bff6=_0x41a94d['format'];_0x57bff6===$f?this['glFormat']=_0x26b302['UNSIGNED_B'+'YTE']:_0x57bff6===Yi?this['glFormat']=_0x26b302['UNSIGNED_S'+'HORT']:_0x57bff6===wr&&(this['glFormat']=_0x26b302['UNSIGNED_I'+'NT']);}['unlock'](_0x45e175){const _0xcebdfc=_0x45e175['device'];super['unlock'](_0xcebdfc,_0x45e175['usage'],_0xcebdfc['gl']['ELEMENT_AR'+'RAY_BUFFER'],_0x45e175['storage']);}}class jT{constructor(_0x5d3eb0,_0x251d65,_0x163d71,_0x440296){if(this['locationId']=_0x440296,this['scopeId']=_0x5d3eb0['scope']['resolve'](_0x251d65),this['version']=new Uy(),_0x251d65['substring'](_0x251d65['length']-(0x1*-0xb02+0x894*0x4+0x1*-0x174b))==='[0]')switch(_0x163d71){case Xs:_0x163d71=ud;break;case _a:_0x163d71=Bn;break;case Fn:_0x163d71=_d;break;case Tn:_0x163d71=gd;break;case ga:_0x163d71=pd;break;case ca:_0x163d71=zn;break;case Nn:_0x163d71=Sd;break;case tl:_0x163d71=yd;break;case ds:_0x163d71=md;break;case ha:_0x163d71=Vn;break;case kn:_0x163d71=vd;break;case sl:_0x163d71=xd;break;case Rn:_0x163d71=Lp;break;case da:_0x163d71=gh;break;case Un:_0x163d71=Rp;break;case il:_0x163d71=Op;break;}this['dataType']=_0x163d71,this['value']=[null,null,null,null],this['array']=[];}}let l_=-0x1c43+0x9ca+0x1279;const YT=new Set(['gl_VertexI'+'D','gl_Instanc'+'eID','gl_DrawID','gl_BaseVer'+'tex','gl_BaseIns'+'tance']);class KT{constructor(){h(this,'map',new Map());}['destroy'](_0x32f191){this['map']['forEach'](_0x481747=>{_0x32f191['gl']['deleteShad'+'er'](_0x481747);});}['loseContex'+'t'](_0x27e3ae){this['map']['clear']();}}const ZT=new Kt(),QT=new Kt();class JT{constructor(_0x18a367){h(this,'compileDur'+'ation',-0x1*0xb2b+0x599+0x2c9*0x2),(this['init'](),this['compile'](_0x18a367['device'],_0x18a367),this['link'](_0x18a367['device'],_0x18a367),_0x18a367['device']['shaders']['push'](_0x18a367));}['destroy'](_0x55b90a){this['glProgram']&&(_0x55b90a['device']['gl']['deleteProg'+'ram'](this['glProgram']),this['glProgram']=null);}['init'](){this['uniforms']=[],this['samplers']=[],this['attributes']=[],this['glProgram']=null,this['glVertexSh'+'ader']=null,this['glFragment'+'Shader']=null;}['loseContex'+'t'](){this['init']();}['restoreCon'+'text'](_0x4f88b2,_0x53084e){this['compile'](_0x4f88b2,_0x53084e),this['link'](_0x4f88b2,_0x53084e);}['compile'](_0xc01693,_0x49b67a){const _0x1d5604=_0x49b67a['definition'];this['glVertexSh'+'ader']=this['_compileSh'+'aderSource'](_0xc01693,_0x1d5604['vshader'],!(0x57c+-0x21a2+0x1c26)),this['glFragment'+'Shader']=this['_compileSh'+'aderSource'](_0xc01693,_0x1d5604['fshader'],!(-0x252d*0x1+0x4a*0x11+0x2044));}['link'](_0xb14024,_0x580582){if(this['glProgram'])return;const _0x2728e0=_0xb14024['gl'];if(_0x2728e0['isContextL'+'ost']())return;let _0x3e9e1e=-0xdfd+-0x206d*-0x1+0xa*-0x1d8;w['call'](()=>{this['compileDur'+'ation']=0xeec+0x26f0+-0x35dc,_0x3e9e1e=de();});const _0xa46d9b=_0x2728e0['createProg'+'ram']();this['glProgram']=_0xa46d9b,_0x2728e0['attachShad'+'er'](_0xa46d9b,this['glVertexSh'+'ader']),_0x2728e0['attachShad'+'er'](_0xa46d9b,this['glFragment'+'Shader']);const _0x59bfd5=_0x580582['definition'],_0x435105=_0x59bfd5['attributes'];if(_0x59bfd5['useTransfo'+'rmFeedback']){const _0x439395=[];for(const _0x42c3ff in _0x435105)_0x435105['hasOwnProp'+'erty'](_0x42c3ff)&&_0x439395['push']('out_'+_0x42c3ff);_0x2728e0['transformF'+'eedbackVar'+'yings'](_0xa46d9b,_0x439395,_0x2728e0['INTERLEAVE'+'D_ATTRIBS']);}const _0x173ff5={};for(const _0x3b33c8 in _0x435105)if(_0x435105['hasOwnProp'+'erty'](_0x3b33c8)){const _0x43273b=_0x435105[_0x3b33c8],_0x2e7c4c=Le[_0x43273b];w['assert'](!_0x173ff5['hasOwnProp'+'erty'](_0x2e7c4c),'WARNING:\x20T'+'wo\x20attribu'+'tes\x20are\x20ma'+'pped\x20to\x20th'+'e\x20same\x20loc'+'ation\x20in\x20a'+'\x20shader:\x20'+_0x173ff5[_0x2e7c4c]+'\x20and\x20'+_0x3b33c8),_0x173ff5[_0x2e7c4c]=_0x3b33c8,_0x2728e0['bindAttrib'+'Location'](_0xa46d9b,_0x2e7c4c,_0x3b33c8);}_0x2728e0['linkProgra'+'m'](_0xa46d9b),w['call'](()=>{this['compileDur'+'ation']=de()-_0x3e9e1e;}),_0xb14024['_shaderSta'+'ts']['linked']++,_0x59bfd5['tag']===Sy&&_0xb14024['_shaderSta'+'ts']['materialSh'+'aders']++;}['_compileSh'+'aderSource'](_0x10a9f9,_0x14bec8,_0x6b3091){const _0x1bb15f=_0x10a9f9['gl'];if(_0x1bb15f['isContextL'+'ost']())return null;const _0x31faa3=(_0x6b3091?ZT:QT)['get'](_0x10a9f9,()=>new KT());let _0x170c33=_0x31faa3['map']['get'](_0x14bec8);if(!_0x170c33){const _0x415b0d=de();_0x10a9f9['fire']('shader:com'+'pile:start',{'timestamp':_0x415b0d,'target':_0x10a9f9}),_0x170c33=_0x1bb15f['createShad'+'er'](_0x6b3091?_0x1bb15f['VERTEX_SHA'+'DER']:_0x1bb15f['FRAGMENT_S'+'HADER']),_0x1bb15f['shaderSour'+'ce'](_0x170c33,_0x14bec8),_0x1bb15f['compileSha'+'der'](_0x170c33),_0x31faa3['map']['set'](_0x14bec8,_0x170c33);const _0x258114=de();_0x10a9f9['fire']('shader:com'+'pile:end',{'timestamp':_0x258114,'target':_0x10a9f9}),_0x10a9f9['_shaderSta'+'ts']['compileTim'+'e']+=_0x258114-_0x415b0d,_0x6b3091?_0x10a9f9['_shaderSta'+'ts']['vsCompiled']++:_0x10a9f9['_shaderSta'+'ts']['fsCompiled']++;}return _0x170c33;}['finalize'](_0x8c49fc,_0x18372c){var _0x38574d,_0x47e4e1;const _0x562afc=_0x8c49fc['gl'];if(_0x562afc['isContextL'+'ost']())return!(0x4*0x4c7+0x21b*-0x1+-0x5ab*0x3);const _0x533538=this['glProgram'],_0x21838d=_0x18372c['definition'],_0x16fb1a=de();_0x8c49fc['fire']('shader:lin'+'k:start',{'timestamp':_0x16fb1a,'target':_0x8c49fc});let _0xbd1059=-0x1372+0xf2*-0x21+0x32a4;if(w['call'](()=>{_0xbd1059=de();}),!_0x562afc['getProgram'+'Parameter'](_0x533538,_0x562afc['LINK_STATU'+'S'])){if(!this['_isCompile'+'d'](_0x8c49fc,_0x18372c,this['glVertexSh'+'ader'],_0x21838d['vshader'],'vertex')||!this['_isCompile'+'d'](_0x8c49fc,_0x18372c,this['glFragment'+'Shader'],_0x21838d['fshader'],'fragment'))return!(0x30*0xa3+-0x210d+0x3a*0xb);const _0x5381a0='Failed\x20to\x20'+'link\x20shade'+'r\x20program.'+'\x20Error:\x20'+_0x562afc['getProgram'+'InfoLog'](_0x533538);return _0x21838d['translated'+'Frag']=(_0x38574d=_0x562afc['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0x708+-0x86+0x2*0x3c7):_0x38574d['getTransla'+'tedShaderS'+'ource'](this['glFragment'+'Shader']),_0x21838d['translated'+'Vert']=(_0x47e4e1=_0x562afc['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(0x2297+0x860+-0x2af7):_0x47e4e1['getTransla'+'tedShaderS'+'ource'](this['glVertexSh'+'ader']),console['error'](_0x5381a0,_0x21838d),console['error'](_0x5381a0),!(0x1c9*-0xb+-0x1ce6*-0x1+0x5*-0x1da);}const _0xa5002e=_0x562afc['getProgram'+'Parameter'](_0x533538,_0x562afc['ACTIVE_ATT'+'RIBUTES']);_0x18372c['attributes']['clear']();for(let _0x349053=0x3d7*-0x9+-0x787+0x2a16;_0x349053<_0xa5002e;_0x349053++){const _0x1a8a3b=_0x562afc['getActiveA'+'ttrib'](_0x533538,_0x349053),_0x5ead7d=_0x562afc['getAttribL'+'ocation'](_0x533538,_0x1a8a3b['name']);YT['has'](_0x1a8a3b['name'])||(_0x21838d['attributes'][_0x1a8a3b['name']]===void(-0xf*0x1f2+-0x1676+0x33a4)?(console['error']('Vertex\x20sha'+'der\x20attrib'+'ute\x20\x22'+_0x1a8a3b['name']+('\x22\x20is\x20not\x20m'+'apped\x20to\x20a'+'\x20semantic\x20'+'in\x20shader\x20'+'definition'+',\x20shader\x20[')+_0x18372c['label']+']',_0x18372c),_0x18372c['failed']=!(0x446+-0x13d5*-0x1+-0x181b)):_0x18372c['attributes']['set'](_0x5ead7d,_0x1a8a3b['name']));}const _0x4840b6=_0x8c49fc['_samplerTy'+'pes'],_0x38189b=_0x562afc['getProgram'+'Parameter'](_0x533538,_0x562afc['ACTIVE_UNI'+'FORMS']);for(let _0x5c97da=-0x1*0x349+-0x2*-0x7e1+-0xc79;_0x5c97da<_0x38189b;_0x5c97da++){const _0x3a292b=_0x562afc['getActiveU'+'niform'](_0x533538,_0x5c97da),_0x584db4=_0x562afc['getUniform'+'Location'](_0x533538,_0x3a292b['name']),_0x5de417=new jT(_0x8c49fc,_0x3a292b['name'],_0x8c49fc['pcUniformT'+'ype'][_0x3a292b['type']],_0x584db4);_0x4840b6['has'](_0x3a292b['type'])?this['samplers']['push'](_0x5de417):this['uniforms']['push'](_0x5de417);}_0x18372c['ready']=!(0x1051+-0x151a+0x4c9);const _0x28ccd5=de();return _0x8c49fc['fire']('shader:lin'+'k:end',{'timestamp':_0x28ccd5,'target':_0x8c49fc}),_0x8c49fc['_shaderSta'+'ts']['compileTim'+'e']+=_0x28ccd5-_0x16fb1a,w['call'](()=>{const _0xf989ec=de()-_0xbd1059;this['compileDur'+'ation']+=_0xf989ec,l_+=this['compileDur'+'ation'],w['trace']($0,'[id:\x20'+_0x18372c['id']+']\x20'+_0x18372c['name']+':\x20'+this['compileDur'+'ation']['toFixed'](-0x304+-0x6e9*-0x1+-0x6*0xa6)+('ms,\x20TOTAL:'+'\x20')+l_['toFixed'](-0x985+0x1b6b+-0x11e5)+'ms');}),!(-0x1649+0x1370+0xf3*0x3);}['_isCompile'+'d'](_0x111984,_0x3239a2,_0x4f0657,_0x3868fa,_0x1a9b75){const _0x419a74=_0x111984['gl'];if(!_0x419a74['getShaderP'+'arameter'](_0x4f0657,_0x419a74['COMPILE_ST'+'ATUS'])){const _0xb8d5a4=_0x419a74['getShaderI'+'nfoLog'](_0x4f0657),[_0x2134bd,_0xc7ccee]=this['_processEr'+'ror'](_0x3868fa,_0xb8d5a4),_0x1f304e='Failed\x20to\x20'+'compile\x20'+_0x1a9b75+'\x20shader:\x0a\x0a'+_0xb8d5a4+'\x0a'+_0x2134bd+('\x20while\x20ren'+'dering\x20')+Q['toString']();return _0xc7ccee['shader']=_0x3239a2,console['error'](_0x1f304e,_0xc7ccee),console['error'](_0x1f304e),!(0x3*-0x7cd+0x7a5*-0x5+0x3da1);}return!(-0x11fd+0x281+0xf7c);}['isLinked'](_0xd1fde3){const {extParallelShaderCompile:_0xd2379f}=_0xd1fde3;return _0xd2379f?_0xd1fde3['gl']['getProgram'+'Parameter'](this['glProgram'],_0xd2379f['COMPLETION'+'_STATUS_KH'+'R']):!(0x2155+0x61*-0x4b+-0x4ea);}['_processEr'+'ror'](_0x4314b9,_0x237e8e){const _0x740a98={};let _0x14dcf0='';if(_0x4314b9){const _0x529fdd=_0x4314b9['split']('\x0a');let _0x46d95f=-0x263f*-0x1+0xb5*0x1d+-0x3ac0,_0x1e942c=_0x529fdd['length'];if(_0x237e8e&&_0x237e8e['startsWith']('ERROR:')){const _0x291f95=_0x237e8e['match'](/^ERROR:\s(\d+):(\d+):\s*(.+)/);_0x291f95&&(_0x740a98['message']=_0x291f95[0xb*-0x2a7+0x158*0x5+-0x2cf*-0x8],_0x740a98['line']=parseInt(_0x291f95[-0x17bf+0x1*0x2fc+0x1*0x14c5],0xa75+0x1d*0x93+-0x1b12),_0x46d95f=Math['max'](0x3*0x849+0x2103+0x6*-0x9a5,_0x740a98['line']-(-0x1bd8+-0x1*-0x1759+0x485)),_0x1e942c=Math['min'](_0x529fdd['length'],_0x740a98['line']+(0x1*0x656+0x1896+-0x1ee7)));}for(let _0x3c9fd6=_0x46d95f;_0x3c9fd6<_0x1e942c;_0x3c9fd6++){const _0x58f29b=_0x3c9fd6+(-0x69c+0x23bf*-0x1+0xa97*0x4)===_0x740a98['line']?'>\x20':'\x20\x20';_0x14dcf0+=''+_0x58f29b+(_0x3c9fd6+(-0x1ca8*0x1+0x521+0x18*0xfb))+':\x09'+_0x529fdd[_0x3c9fd6]+'\x0a';}_0x740a98['source']=_0x4314b9;}return[_0x14dcf0,_0x740a98];}}function c_(_0x504999,_0x574f8b){const _0x4119e1=_0x504999['width'],_0x3507fb=_0x504999['height'];if(_0x4119e1>_0x574f8b||_0x3507fb>_0x574f8b){const _0x313ae8=_0x574f8b/Math['max'](_0x4119e1,_0x3507fb),_0x437a59=Math['floor'](_0x4119e1*_0x313ae8),_0x5ad73a=Math['floor'](_0x3507fb*_0x313ae8);w['warn']('Image\x20dime'+'nsions\x20lar'+'ger\x20than\x20m'+'ax\x20support'+'ed\x20texture'+'\x20size\x20of\x20'+_0x574f8b+('.\x20Resizing'+'\x20from\x20')+_0x4119e1+',\x20'+_0x3507fb+'\x20to\x20'+_0x437a59+',\x20'+_0x5ad73a+'.');const _0x3ec61d=document['createElem'+'ent']('canvas');return _0x3ec61d['width']=_0x437a59,_0x3ec61d['height']=_0x5ad73a,_0x3ec61d['getContext']('2d')['drawImage'](_0x504999,-0x23d1+0x136b*-0x2+0x4aa7,0xb96*0x1+0xcfb+0x1*-0x1891,_0x4119e1,_0x3507fb,0x30a*-0x4+-0x1*0x22a3+0xf99*0x3,0x1c98+-0x45*0x31+0x27*-0x65,_0x437a59,_0x5ad73a),_0x3ec61d;}return _0x504999;}class ew{constructor(_0x5bb27c){h(this,'_glTexture',null),h(this,'_glTarget'),h(this,'_glFormat'),h(this,'_glInterna'+'lFormat'),h(this,'_glPixelTy'+'pe'),h(this,'_glCreated'),h(this,'dirtyParam'+'eterFlags',0x244b+0x282+0x4d*-0x81),this['texture']=_0x5bb27c;}['destroy'](_0x358be9){if(this['_glTexture']){for(let _0xccf653=0x6bd*-0x3+0x1a53+-0x61c;_0xccf653<_0x358be9['textureUni'+'ts']['length'];_0xccf653++){const _0x5e54c2=_0x358be9['textureUni'+'ts'][_0xccf653];for(let _0x2fbff2=0x2154+-0x1*-0x1e89+-0x3fdd;_0x2fbff2<_0x5e54c2['length'];_0x2fbff2++)_0x5e54c2[_0x2fbff2]===this['_glTexture']&&(_0x5e54c2[_0x2fbff2]=null);}_0x358be9['gl']['deleteText'+'ure'](this['_glTexture']),this['_glTexture']=null;}}['loseContex'+'t'](){this['_glTexture']=null;}['propertyCh'+'anged'](_0x45e154){this['dirtyParam'+'eterFlags']|=_0x45e154;}['initialize'](_0x5171e0,_0x322ca9){const _0x23fda3=_0x5171e0['gl'];switch(this['_glTexture']=_0x23fda3['createText'+'ure'](),this['_glTarget']=_0x322ca9['_cubemap']?_0x23fda3['TEXTURE_CU'+'BE_MAP']:_0x322ca9['_volume']?_0x23fda3['TEXTURE_3D']:_0x322ca9['array']?_0x23fda3['TEXTURE_2D'+'_ARRAY']:_0x23fda3['TEXTURE_2D'],_0x322ca9['_format']){case ty:this['_glFormat']=_0x23fda3['ALPHA'],this['_glInterna'+'lFormat']=_0x23fda3['ALPHA'],this['_glPixelTy'+'pe']=_0x23fda3['UNSIGNED_B'+'YTE'];break;case sy:this['_glFormat']=_0x23fda3['LUMINANCE'],this['_glInterna'+'lFormat']=_0x23fda3['LUMINANCE'],this['_glPixelTy'+'pe']=_0x23fda3['UNSIGNED_B'+'YTE'];break;case ap:this['_glFormat']=_0x23fda3['LUMINANCE_'+'ALPHA'],this['_glInterna'+'lFormat']=_0x23fda3['LUMINANCE_'+'ALPHA'],this['_glPixelTy'+'pe']=_0x23fda3['UNSIGNED_B'+'YTE'];break;case Ep:this['_glFormat']=_0x23fda3['RED'],this['_glInterna'+'lFormat']=_0x23fda3['R8'],this['_glPixelTy'+'pe']=_0x23fda3['UNSIGNED_B'+'YTE'];break;case bp:this['_glFormat']=_0x23fda3['RG'],this['_glInterna'+'lFormat']=_0x23fda3['RG8'],this['_glPixelTy'+'pe']=_0x23fda3['UNSIGNED_B'+'YTE'];break;case Jh:this['_glFormat']=_0x23fda3['RGB'],this['_glInterna'+'lFormat']=_0x23fda3['RGB565'],this['_glPixelTy'+'pe']=_0x23fda3['UNSIGNED_S'+'HORT_5_6_5'];break;case np:this['_glFormat']=_0x23fda3['RGBA'],this['_glInterna'+'lFormat']=_0x23fda3['RGB5_A1'],this['_glPixelTy'+'pe']=_0x23fda3['UNSIGNED_S'+'HORT_5_5_5'+'_1'];break;case ed:this['_glFormat']=_0x23fda3['RGBA'],this['_glInterna'+'lFormat']=_0x23fda3['RGBA4'],this['_glPixelTy'+'pe']=_0x23fda3['UNSIGNED_S'+'HORT_4_4_4'+'_4'];break;case Cr:this['_glFormat']=_0x23fda3['RGB'],this['_glInterna'+'lFormat']=_0x23fda3['RGB8'],this['_glPixelTy'+'pe']=_0x23fda3['UNSIGNED_B'+'YTE'];break;case Ne:this['_glFormat']=_0x23fda3['RGBA'],this['_glInterna'+'lFormat']=_0x23fda3['RGBA8'],this['_glPixelTy'+'pe']=_0x23fda3['UNSIGNED_B'+'YTE'];break;case ny:case hy:w['error']('BGRA8\x20and\x20'+'SBGRA8\x20tex'+'ture\x20forma'+'ts\x20are\x20not'+'\x20supported'+'\x20by\x20WebGL.');break;case td:this['_glFormat']=_0x23fda3['RGB'],this['_glInterna'+'lFormat']=_0x5171e0['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGB_S3TC_'+'DXT1_EXT'];break;case op:this['_glFormat']=_0x23fda3['RGBA'],this['_glInterna'+'lFormat']=_0x5171e0['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT3_EXT'];break;case vl:this['_glFormat']=_0x23fda3['RGBA'],this['_glInterna'+'lFormat']=_0x5171e0['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT5_EXT'];break;case id:this['_glFormat']=_0x23fda3['RGB'],this['_glInterna'+'lFormat']=_0x5171e0['extCompres'+'sedTexture'+'ETC1']['COMPRESSED'+'_RGB_ETC1_'+'WEBGL'];break;case xl:this['_glFormat']=_0x23fda3['RGB'],this['_glInterna'+'lFormat']=_0x5171e0['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_2BPPV1_IM'+'G'];break;case Tl:this['_glFormat']=_0x23fda3['RGBA'],this['_glInterna'+'lFormat']=_0x5171e0['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_2BPPV1_I'+'MG'];break;case rd:this['_glFormat']=_0x23fda3['RGB'],this['_glInterna'+'lFormat']=_0x5171e0['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_4BPPV1_IM'+'G'];break;case ad:this['_glFormat']=_0x23fda3['RGBA'],this['_glInterna'+'lFormat']=_0x5171e0['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_4BPPV1_I'+'MG'];break;case cp:this['_glFormat']=_0x23fda3['RGB'],this['_glInterna'+'lFormat']=_0x5171e0['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGB8_ETC2'];break;case hp:this['_glFormat']=_0x23fda3['RGBA'],this['_glInterna'+'lFormat']=_0x5171e0['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGBA8_ETC'+'2_EAC'];break;case iy:this['_glFormat']=_0x23fda3['RGBA'],this['_glInterna'+'lFormat']=_0x5171e0['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_RGBA_ASTC'+'_4x4_KHR'];break;case ry:this['_glFormat']=_0x23fda3['RGB'],this['_glInterna'+'lFormat']=_0x5171e0['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGB_ATC_W'+'EBGL'];break;case ay:this['_glFormat']=_0x23fda3['RGBA'],this['_glInterna'+'lFormat']=_0x5171e0['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGBA_ATC_'+'INTERPOLAT'+'ED_ALPHA_W'+'EBGL'];break;case dy:this['_glFormat']=_0x23fda3['RGB'],this['_glInterna'+'lFormat']=_0x5171e0['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'SIGNED_FLO'+'AT_EXT'];break;case fy:this['_glFormat']=_0x23fda3['RGB'],this['_glInterna'+'lFormat']=_0x5171e0['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'UNSIGNED_F'+'LOAT_EXT'];break;case uy:this['_glFormat']=_0x23fda3['RGBA'],this['_glInterna'+'lFormat']=_0x5171e0['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGBA_BPTC'+'_UNORM_EXT'];break;case Xf:this['_glFormat']=_0x23fda3['SRGB'],this['_glInterna'+'lFormat']=_0x5171e0['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_S3TC'+'_DXT1_EXT'];break;case qf:this['_glFormat']=_0x23fda3['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x5171e0['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'3_EXT'];break;case jf:this['_glFormat']=_0x23fda3['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x5171e0['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'5_EXT'];break;case Yf:this['_glFormat']=_0x23fda3['SRGB'],this['_glInterna'+'lFormat']=_0x5171e0['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ETC'+'2'];break;case Kf:this['_glFormat']=_0x23fda3['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x5171e0['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ETC2_E'+'AC'];break;case Zf:this['_glFormat']=_0x23fda3['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x5171e0['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ASTC_4'+'x4_KHR'];break;case Qf:this['_glFormat']=_0x23fda3['RGBA'],this['_glInterna'+'lFormat']=_0x5171e0['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_SRGB_ALPH'+'A_BPTC_UNO'+'RM_EXT'];break;case od:this['_glFormat']=_0x23fda3['RED'],this['_glInterna'+'lFormat']=_0x23fda3['R16F'],this['_glPixelTy'+'pe']=_0x23fda3['HALF_FLOAT'];break;case wp:this['_glFormat']=_0x23fda3['RG'],this['_glInterna'+'lFormat']=_0x23fda3['RG16F'],this['_glPixelTy'+'pe']=_0x23fda3['HALF_FLOAT'];break;case ui:this['_glFormat']=_0x23fda3['RGB'],this['_glInterna'+'lFormat']=_0x23fda3['RGB16F'],this['_glPixelTy'+'pe']=_0x23fda3['HALF_FLOAT'];break;case nt:this['_glFormat']=_0x23fda3['RGBA'],this['_glInterna'+'lFormat']=_0x23fda3['RGBA16F'],this['_glPixelTy'+'pe']=_0x23fda3['HALF_FLOAT'];break;case Ye:this['_glFormat']=_0x23fda3['RGB'],this['_glInterna'+'lFormat']=_0x23fda3['RGB32F'],this['_glPixelTy'+'pe']=_0x23fda3['FLOAT'];break;case Xt:this['_glFormat']=_0x23fda3['RGBA'],this['_glInterna'+'lFormat']=_0x23fda3['RGBA32F'],this['_glPixelTy'+'pe']=_0x23fda3['FLOAT'];break;case Ji:this['_glFormat']=_0x23fda3['RED'],this['_glInterna'+'lFormat']=_0x23fda3['R32F'],this['_glPixelTy'+'pe']=_0x23fda3['FLOAT'];break;case $i:this['_glFormat']=_0x23fda3['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x23fda3['DEPTH_COMP'+'ONENT32F'],this['_glPixelTy'+'pe']=_0x23fda3['FLOAT'];break;case vn:this['_glFormat']=_0x23fda3['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x23fda3['DEPTH_COMP'+'ONENT16'],this['_glPixelTy'+'pe']=_0x23fda3['UNSIGNED_S'+'HORT'];break;case sd:this['_glFormat']=_0x23fda3['DEPTH_STEN'+'CIL'],this['_glInterna'+'lFormat']=_0x23fda3['DEPTH24_ST'+'ENCIL8'],this['_glPixelTy'+'pe']=_0x23fda3['UNSIGNED_I'+'NT_24_8'];break;case In:this['_glFormat']=_0x23fda3['RGB'],this['_glInterna'+'lFormat']=_0x23fda3['R11F_G11F_'+'B10F'],this['_glPixelTy'+'pe']=_0x23fda3['UNSIGNED_I'+'NT_10F_11F'+'_11F_REV'];break;case lp:this['_glFormat']=_0x23fda3['RGB'],this['_glInterna'+'lFormat']=_0x23fda3['SRGB8'],this['_glPixelTy'+'pe']=_0x23fda3['UNSIGNED_B'+'YTE'];break;case _s:this['_glFormat']=_0x23fda3['RGBA'],this['_glInterna'+'lFormat']=_0x23fda3['SRGB8_ALPH'+'A8'],this['_glPixelTy'+'pe']=_0x23fda3['UNSIGNED_B'+'YTE'];break;case dp:this['_glFormat']=_0x23fda3['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x23fda3['R8I'],this['_glPixelTy'+'pe']=_0x23fda3['BYTE'];break;case oy:this['_glFormat']=_0x23fda3['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x23fda3['R8UI'],this['_glPixelTy'+'pe']=_0x23fda3['UNSIGNED_B'+'YTE'];break;case fp:this['_glFormat']=_0x23fda3['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x23fda3['R16I'],this['_glPixelTy'+'pe']=_0x23fda3['SHORT'];break;case up:this['_glFormat']=_0x23fda3['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x23fda3['R16UI'],this['_glPixelTy'+'pe']=_0x23fda3['UNSIGNED_S'+'HORT'];break;case pp:this['_glFormat']=_0x23fda3['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x23fda3['R32I'],this['_glPixelTy'+'pe']=_0x23fda3['INT'];break;case Ki:this['_glFormat']=_0x23fda3['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x23fda3['R32UI'],this['_glPixelTy'+'pe']=_0x23fda3['UNSIGNED_I'+'NT'];break;case mp:this['_glFormat']=_0x23fda3['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x23fda3['RG8I'],this['_glPixelTy'+'pe']=_0x23fda3['BYTE'];break;case ly:this['_glFormat']=_0x23fda3['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x23fda3['RG8UI'],this['_glPixelTy'+'pe']=_0x23fda3['UNSIGNED_B'+'YTE'];break;case _p:this['_glFormat']=_0x23fda3['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x23fda3['RG16I'],this['_glPixelTy'+'pe']=_0x23fda3['SHORT'];break;case gp:this['_glFormat']=_0x23fda3['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x23fda3['RG16UI'],this['_glPixelTy'+'pe']=_0x23fda3['UNSIGNED_S'+'HORT'];break;case Sp:this['_glFormat']=_0x23fda3['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x23fda3['RG32I'],this['_glPixelTy'+'pe']=_0x23fda3['INT'];break;case yp:this['_glFormat']=_0x23fda3['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x23fda3['RG32UI'],this['_glPixelTy'+'pe']=_0x23fda3['UNSIGNED_I'+'NT'];break;case vp:this['_glFormat']=_0x23fda3['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x23fda3['RGBA8I'],this['_glPixelTy'+'pe']=_0x23fda3['BYTE'];break;case cy:this['_glFormat']=_0x23fda3['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x23fda3['RGBA8UI'],this['_glPixelTy'+'pe']=_0x23fda3['UNSIGNED_B'+'YTE'];break;case xp:this['_glFormat']=_0x23fda3['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x23fda3['RGBA16I'],this['_glPixelTy'+'pe']=_0x23fda3['SHORT'];break;case nd:this['_glFormat']=_0x23fda3['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x23fda3['RGBA16UI'],this['_glPixelTy'+'pe']=_0x23fda3['UNSIGNED_S'+'HORT'];break;case Tp:this['_glFormat']=_0x23fda3['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x23fda3['RGBA32I'],this['_glPixelTy'+'pe']=_0x23fda3['INT'];break;case Ue:this['_glFormat']=_0x23fda3['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x23fda3['RGBA32UI'],this['_glPixelTy'+'pe']=_0x23fda3['UNSIGNED_I'+'NT'];break;}this['_glCreated']=!(-0x1314*0x2+-0xf28+0x3551*0x1);}['upload'](_0x3df36d,_0x381391){w['assert'](_0x381391['device'],'Attempting'+'\x20to\x20use\x20a\x20'+'texture\x20th'+'at\x20has\x20bee'+'n\x20destroye'+'d.',_0x381391);const _0x2dffc2=_0x3df36d['gl'];if(!_0x381391['_needsUplo'+'ad']&&(_0x381391['_needsMipm'+'apsUpload']&&_0x381391['_mipmapsUp'+'loaded']||!_0x381391['pot']))return;let _0x36b6cf=-0xb9d*0x1+-0x39*0x7f+0x353*0xc,_0x4c9664,_0x3bd4a5;const _0x4942d9=_0x381391['numLevels'];for(_0x381391['array']&&_0x2dffc2['texStorage'+'3D'](_0x2dffc2['TEXTURE_2D'+'_ARRAY'],_0x4942d9,this['_glInterna'+'lFormat'],_0x381391['_width'],_0x381391['_height'],_0x381391['_arrayLeng'+'th']);_0x381391['_levels'][_0x36b6cf]||_0x36b6cf===-0x3*-0x1b7+-0xf90+0x379*0x3;){if(!_0x381391['_needsUplo'+'ad']&&_0x36b6cf===-0x1202*0x2+-0x1*-0x1679+0xd8b){_0x36b6cf++;continue;}else{if(_0x36b6cf&&(!_0x381391['_needsMipm'+'apsUpload']||!_0x381391['_mipmaps']))break;}if(_0x4c9664=_0x381391['_levels'][_0x36b6cf],_0x3bd4a5=(0x9c3+-0x76*0x3+-0x860)/Math['pow'](0xa79+0x13d*0x15+-0x2478,_0x36b6cf),_0x36b6cf===0x1661+-0x1847*0x1+0x1e7&&!_0x381391['_compresse'+'d']&&!_0x381391['_integerFo'+'rmat']&&_0x381391['_levels']['length']<_0x4942d9&&(_0x2dffc2['generateMi'+'pmap'](this['_glTarget']),_0x381391['_mipmapsUp'+'loaded']=!(0x1c72+-0x3db*-0x1+-0x204d)),_0x381391['_cubemap']){let _0x23ac72;if(_0x3df36d['_isBrowser'+'Interface'](_0x4c9664[0x2a*0x65+0x48+-0x2cf*0x6]))for(_0x23ac72=-0x26e9+0x2*-0xdb9+0x425b;_0x23ac72<-0x1d1b*0x1+-0x8*-0x2d7+0x3*0x223;_0x23ac72++){if(!_0x381391['_levelsUpd'+'ated'][-0x4a9+0x796+-0x7*0x6b][_0x23ac72])continue;let _0x57cc53=_0x4c9664[_0x23ac72];_0x3df36d['_isImageBr'+'owserInter'+'face'](_0x57cc53)&&(_0x57cc53['width']>_0x3df36d['maxCubeMap'+'Size']||_0x57cc53['height']>_0x3df36d['maxCubeMap'+'Size'])&&(_0x57cc53=c_(_0x57cc53,_0x3df36d['maxCubeMap'+'Size']),_0x36b6cf===-0xa8*0x2+-0x626*0x1+-0x776*-0x1&&(_0x381391['_width']=_0x57cc53['width'],_0x381391['_height']=_0x57cc53['height'])),_0x3df36d['setUnpackF'+'lipY'](!(-0x3*0x9b+-0x12a4+0x369*0x6)),_0x3df36d['setUnpackP'+'remultiply'+'Alpha'](_0x381391['_premultip'+'lyAlpha']),this['_glCreated']?_0x2dffc2['texSubImag'+'e2D'](_0x2dffc2['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x23ac72,_0x36b6cf,0x1cf1+0x25e0+0x137*-0x37,0x242f+-0x1f2b+-0x504,this['_glFormat'],this['_glPixelTy'+'pe'],_0x57cc53):_0x2dffc2['texImage2D'](_0x2dffc2['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x23ac72,_0x36b6cf,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x57cc53);}else for(_0x3bd4a5=(-0x1d17+-0x2343+0x405b)/Math['pow'](-0x522+0x1*-0x24cb+-0x5f*-0x71,_0x36b6cf),_0x23ac72=-0x4e4+-0x13d5+0x18b9;_0x23ac72<-0x1fb1+-0x14bb+0x3472;_0x23ac72++){if(!_0x381391['_levelsUpd'+'ated'][-0x4a*0x5d+-0x1*0x91a+0x23fc][_0x23ac72])continue;const _0x3d9501=_0x4c9664[_0x23ac72];_0x381391['_compresse'+'d']?this['_glCreated']&&_0x3d9501?_0x2dffc2['compressed'+'TexSubImag'+'e2D'](_0x2dffc2['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x23ac72,_0x36b6cf,-0x37d+0x15*-0x22+0x647,-0x193*0x1+0x261a+-0x2487,Math['max'](_0x381391['_width']*_0x3bd4a5,-0x1*-0x10b1+-0x597+-0xb19),Math['max'](_0x381391['_height']*_0x3bd4a5,0x898*0x2+0x1*0x243a+0xb*-0x4db),this['_glInterna'+'lFormat'],_0x3d9501):_0x2dffc2['compressed'+'TexImage2D'](_0x2dffc2['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x23ac72,_0x36b6cf,this['_glInterna'+'lFormat'],Math['max'](_0x381391['_width']*_0x3bd4a5,0x23e3+-0xcbe+-0x1724),Math['max'](_0x381391['_height']*_0x3bd4a5,0xcd1+-0xc40+-0x90),0xb8d+-0x294+-0x8f9*0x1,_0x3d9501):(_0x3df36d['setUnpackF'+'lipY'](!(-0x1a5f+0x22fe*0x1+-0x44f*0x2)),_0x3df36d['setUnpackP'+'remultiply'+'Alpha'](_0x381391['_premultip'+'lyAlpha']),this['_glCreated']&&_0x3d9501?_0x2dffc2['texSubImag'+'e2D'](_0x2dffc2['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x23ac72,_0x36b6cf,-0x43*-0x23+-0x10*0x231+0x19e7*0x1,0x2b*0x3b+0x100e+-0x187*0x11,Math['max'](_0x381391['_width']*_0x3bd4a5,0x18a7+-0x6*-0x1a6+-0x228a),Math['max'](_0x381391['_height']*_0x3bd4a5,0x269*0xe+0x2*-0x5ba+-0x1649*0x1),this['_glFormat'],this['_glPixelTy'+'pe'],_0x3d9501):_0x2dffc2['texImage2D'](_0x2dffc2['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x23ac72,_0x36b6cf,this['_glInterna'+'lFormat'],Math['max'](_0x381391['_width']*_0x3bd4a5,0x1e70+-0x17b*-0x7+-0x28cc),Math['max'](_0x381391['_height']*_0x3bd4a5,0x1*0x1655+-0xd3*0x3+0x12b*-0x11),0xa2c+-0x1d*-0xed+-0x1*0x2505,this['_glFormat'],this['_glPixelTy'+'pe'],_0x3d9501));}}else{if(_0x381391['_volume'])_0x381391['_compresse'+'d']?_0x2dffc2['compressed'+'TexImage3D'](_0x2dffc2['TEXTURE_3D'],_0x36b6cf,this['_glInterna'+'lFormat'],Math['max'](_0x381391['_width']*_0x3bd4a5,0xe72+0x10d7+0x2d8*-0xb),Math['max'](_0x381391['_height']*_0x3bd4a5,0x2198+0x1a33+-0x3bca),Math['max'](_0x381391['_depth']*_0x3bd4a5,0x1*0x24fb+-0x2*-0x125f+0xa88*-0x7),0x16*0xdf+0x37c*0x1+-0x16a6,_0x4c9664):(_0x3df36d['setUnpackF'+'lipY'](!(-0x8*0x314+-0xfd+0x199e)),_0x3df36d['setUnpackP'+'remultiply'+'Alpha'](_0x381391['_premultip'+'lyAlpha']),_0x2dffc2['texImage3D'](_0x2dffc2['TEXTURE_3D'],_0x36b6cf,this['_glInterna'+'lFormat'],Math['max'](_0x381391['_width']*_0x3bd4a5,0xd32*0x2+0x1*0x2011+-0x74*0x81),Math['max'](_0x381391['_height']*_0x3bd4a5,0x1230*0x1+0x25e0+-0x380f),Math['max'](_0x381391['_depth']*_0x3bd4a5,0x20b8+0x4*0x956+-0x11*0x41f),-0x228f+-0x1*0x19b1+0x3c40,this['_glFormat'],this['_glPixelTy'+'pe'],_0x4c9664));else{if(_0x381391['array']&&typeof _0x4c9664=='object'){if(_0x381391['_arrayLeng'+'th']===_0x4c9664['length']){if(_0x381391['_compresse'+'d']){for(let _0x2f85c6=-0x1b4b+0x194d+0x1fe;_0x2f85c6<_0x381391['_arrayLeng'+'th'];_0x2f85c6++)_0x2dffc2['compressed'+'TexSubImag'+'e3D'](_0x2dffc2['TEXTURE_2D'+'_ARRAY'],_0x36b6cf,-0x1fc2*0x1+0xcd7+-0xa7*-0x1d,-0x70*0xb+0x13*0x3b+0x25*0x3,_0x2f85c6,Math['max'](Math['floor'](_0x381391['_width']*_0x3bd4a5),-0x1290+-0x1d97+-0x2e*-0x10c),Math['max'](Math['floor'](_0x381391['_height']*_0x3bd4a5),-0xa24*0x1+0x170+0x8b5),-0x3*0x131+0x252a+-0x2196,this['_glInterna'+'lFormat'],_0x4c9664[_0x2f85c6]);}else{for(let _0x557585=-0x3b*-0x7+-0xc8b+0x577*0x2;_0x557585<_0x381391['_arrayLeng'+'th'];_0x557585++)_0x2dffc2['texSubImag'+'e3D'](_0x2dffc2['TEXTURE_2D'+'_ARRAY'],_0x36b6cf,-0x2547+0x12df+0x1268,0xc5f*-0x2+-0x3*-0x224+-0x5*-0x3aa,_0x557585,Math['max'](Math['floor'](_0x381391['_width']*_0x3bd4a5),0x1c26+-0xd96+-0xe8f),Math['max'](Math['floor'](_0x381391['_height']*_0x3bd4a5),-0xc64+-0x1428+-0xd*-0x281),-0x1a54+-0x430+0x1*0x1e85,this['_glFormat'],this['_glPixelTy'+'pe'],_0x4c9664[_0x557585]);}}}else{if(_0x3df36d['_isBrowser'+'Interface'](_0x4c9664)){_0x3df36d['_isImageBr'+'owserInter'+'face'](_0x4c9664)&&(_0x4c9664['width']>_0x3df36d['maxTexture'+'Size']||_0x4c9664['height']>_0x3df36d['maxTexture'+'Size'])&&(_0x4c9664=c_(_0x4c9664,_0x3df36d['maxTexture'+'Size']),_0x36b6cf===0x133+0x52*-0x52+-0x17*-0x117&&(_0x381391['_width']=_0x4c9664['width'],_0x381391['_height']=_0x4c9664['height']));const _0x195150=_0x4c9664['width']||_0x4c9664['videoWidth'],_0x386437=_0x4c9664['height']||_0x4c9664['videoHeigh'+'t'];_0x3df36d['setUnpackF'+'lipY'](_0x381391['_flipY']),_0x3df36d['setUnpackP'+'remultiply'+'Alpha'](_0x381391['_premultip'+'lyAlpha']),this['_glCreated']&&_0x381391['_width']===_0x195150&&_0x381391['_height']===_0x386437&&!_0x3df36d['_isImageVi'+'deoInterfa'+'ce'](_0x4c9664)?_0x2dffc2['texSubImag'+'e2D'](_0x2dffc2['TEXTURE_2D'],_0x36b6cf,0x194a+-0xc48+-0x6*0x22b,0x2*0x136a+-0x1964+0x10*-0xd7,this['_glFormat'],this['_glPixelTy'+'pe'],_0x4c9664):(_0x2dffc2['texImage2D'](_0x2dffc2['TEXTURE_2D'],_0x36b6cf,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x4c9664),_0x36b6cf===-0x243*-0xb+-0xc1d+-0x2*0x662&&(_0x381391['_width']=_0x195150,_0x381391['_height']=_0x386437));}else _0x3bd4a5=(0x2e8+-0x696+0x17*0x29)/Math['pow'](0x569+0x897+0x9*-0x18e,_0x36b6cf),_0x381391['_compresse'+'d']?this['_glCreated']&&_0x4c9664?_0x2dffc2['compressed'+'TexSubImag'+'e2D'](_0x2dffc2['TEXTURE_2D'],_0x36b6cf,0x1a95+0x470+-0x1f05,0x159*-0x13+0x25ae+-0xc13,Math['max'](Math['floor'](_0x381391['_width']*_0x3bd4a5),0x4c7*-0x2+-0xd*0x8b+-0x3*-0x58a),Math['max'](Math['floor'](_0x381391['_height']*_0x3bd4a5),0x3*-0x65+-0x1*0xab7+0xbe7),this['_glInterna'+'lFormat'],_0x4c9664):_0x2dffc2['compressed'+'TexImage2D'](_0x2dffc2['TEXTURE_2D'],_0x36b6cf,this['_glInterna'+'lFormat'],Math['max'](Math['floor'](_0x381391['_width']*_0x3bd4a5),0xe94+0x56+-0x15b*0xb),Math['max'](Math['floor'](_0x381391['_height']*_0x3bd4a5),-0x38a*-0x1+0x326+0x3b*-0x1d),0x1b4e+-0x9*0x447+0xb31,_0x4c9664):(_0x3df36d['setUnpackF'+'lipY'](!(-0x186d+-0x514+0x1d82*0x1)),_0x3df36d['setUnpackP'+'remultiply'+'Alpha'](_0x381391['_premultip'+'lyAlpha']),this['_glCreated']&&_0x4c9664?_0x2dffc2['texSubImag'+'e2D'](_0x2dffc2['TEXTURE_2D'],_0x36b6cf,0x121f*-0x2+-0x1*0x1223+0x3661,0x1c15+0xc5b+0x4*-0xa1c,Math['max'](_0x381391['_width']*_0x3bd4a5,-0x1ff*-0xa+0x1afb+-0x10*0x2ef),Math['max'](_0x381391['_height']*_0x3bd4a5,-0x11d*-0x13+0x4d8*-0x2+-0xb76*0x1),this['_glFormat'],this['_glPixelTy'+'pe'],_0x4c9664):_0x2dffc2['texImage2D'](_0x2dffc2['TEXTURE_2D'],_0x36b6cf,this['_glInterna'+'lFormat'],Math['max'](_0x381391['_width']*_0x3bd4a5,0x736+0x8*0xdf+0xbf*-0x13),Math['max'](_0x381391['_height']*_0x3bd4a5,0x2*-0xe89+-0x18d7*0x1+-0x1af5*-0x2),0x2*0xe6f+-0x1f*-0x86+0x128*-0x27,this['_glFormat'],this['_glPixelTy'+'pe'],_0x4c9664));_0x36b6cf===0x7*-0x4c7+-0x225*-0x11+0x182*-0x2?_0x381391['_mipmapsUp'+'loaded']=!(0xc*-0x337+0xdca*0x1+-0xb*-0x241):_0x381391['_mipmapsUp'+'loaded']=!(0x1*0x419+0x1*0x1bf6+-0x200f);}}}_0x36b6cf++;}if(_0x381391['_needsUplo'+'ad']){if(_0x381391['_cubemap']){for(let _0x469a72=-0x7f0+-0x202+0x9f2;_0x469a72<0x1731+-0x2*-0x12da+-0x3cdf;_0x469a72++)_0x381391['_levelsUpd'+'ated'][0x17aa+0x2401+0x41*-0xeb][_0x469a72]=!(-0x1eea+0x1176+0x35*0x41);}else _0x381391['_levelsUpd'+'ated'][-0x3*-0x2d+-0x1498+0x1411]=!(-0x1*0x1804+-0x2142+0x3947);}!_0x381391['_compresse'+'d']&&!_0x381391['_integerFo'+'rmat']&&_0x381391['_mipmaps']&&_0x381391['_needsMipm'+'apsUpload']&&_0x381391['_levels']['length']===-0x1f5b+-0xdf*0x8+0x2654&&(_0x2dffc2['generateMi'+'pmap'](this['_glTarget']),_0x381391['_mipmapsUp'+'loaded']=!(0x13*0xe2+-0xf8a*-0x1+0xbc*-0x2c)),_0x381391['_gpuSize']&&_0x381391['adjustVram'+'SizeTracki'+'ng'](_0x3df36d['_vram'],-_0x381391['_gpuSize']),_0x381391['_gpuSize']=_0x381391['gpuSize'],_0x381391['adjustVram'+'SizeTracki'+'ng'](_0x3df36d['_vram'],_0x381391['_gpuSize']),this['_glCreated']=!(0xa*0xd9+-0x509+-0x371);}['read'](_0x281d2e,_0x9cbf81,_0x4f7a32,_0x187772,_0x166521){const _0xb5142e=this['texture'];return _0xb5142e['device']['readTextur'+'eAsync'](_0xb5142e,_0x281d2e,_0x9cbf81,_0x4f7a32,_0x187772,_0x166521);}['write'](_0x1aa54b,_0x3a78ba,_0x45b719,_0x2d594e,_0x1ecdd8){const {texture:_0x450bbb}=this,{device:_0x56280f}=_0x450bbb;return _0x56280f['setTexture'](_0x450bbb,0x2665*0x1+0x284+-0x28e9),_0x56280f['writeTextu'+'reAsync'](_0x450bbb,_0x1aa54b,_0x3a78ba,_0x45b719,_0x2d594e,_0x1ecdd8);}}class tw{constructor(_0x58b38a,_0x14bbae){h(this,'msaaFB'),h(this,'resolveFB'),(this['msaaFB']=_0x58b38a,this['resolveFB']=_0x14bbae);}['destroy'](_0x3dbe02){this['msaaFB']&&(_0x3dbe02['deleteRend'+'erbuffer'](this['msaaFB']),this['msaaFB']=null),this['resolveFB']&&(_0x3dbe02['deleteRend'+'erbuffer'](this['resolveFB']),this['resolveFB']=null);}}class sw{constructor(){h(this,'_glFrameBu'+'ffer',null),h(this,'_glDepthBu'+'ffer',null),h(this,'_glResolve'+'FrameBuffe'+'r',null),h(this,'colorMrtFr'+'amebuffers',null),h(this,'_glMsaaCol'+'orBuffers',[]),h(this,'_glMsaaDep'+'thBuffer',null),h(this,'msaaDepthB'+'ufferKey'),h(this,'suppliedCo'+'lorFramebu'+'ffer'),h(this,'_isInitial'+'ized',!(-0x1e01*0x1+-0x54a+0x3ec*0x9));}['destroy'](_0x4100aa){var _0x2eeaab;const _0x42ac64=_0x4100aa['gl'];this['_isInitial'+'ized']=!(0x6a*-0x18+0x1*0xa47+-0x56),this['_glFrameBu'+'ffer']&&(this['_glFrameBu'+'ffer']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x42ac64['deleteFram'+'ebuffer'](this['_glFrameBu'+'ffer']),this['_glFrameBu'+'ffer']=null),this['_glDepthBu'+'ffer']&&(_0x42ac64['deleteRend'+'erbuffer'](this['_glDepthBu'+'ffer']),this['_glDepthBu'+'ffer']=null),this['_glResolve'+'FrameBuffe'+'r']&&(this['_glResolve'+'FrameBuffe'+'r']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x42ac64['deleteFram'+'ebuffer'](this['_glResolve'+'FrameBuffe'+'r']),this['_glResolve'+'FrameBuffe'+'r']=null),this['_glMsaaCol'+'orBuffers']['forEach'](_0x23d94c=>{_0x42ac64['deleteRend'+'erbuffer'](_0x23d94c);}),this['_glMsaaCol'+'orBuffers']['length']=0xb*0xd5+0x13cf+0xb*-0x2a2,(_0x2eeaab=this['colorMrtFr'+'amebuffers'])==null||_0x2eeaab['forEach'](_0x1bbf0d=>{_0x1bbf0d['destroy'](_0x42ac64);}),this['colorMrtFr'+'amebuffers']=null,this['_glMsaaDep'+'thBuffer']&&(this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']&&Fd(_0x4100aa)['release'](this['msaaDepthB'+'ufferKey'])),this['suppliedCo'+'lorFramebu'+'ffer']=void(0xb99+-0xaf0+0xd*-0xd);}get['initialize'+'d'](){return this['_isInitial'+'ized'];}['init'](_0x39a138,_0x2d32bf){var _0x3d9b2d,_0x28af48;const _0x26b128=_0x39a138['gl'];w['assert'](!this['_isInitial'+'ized'],'Render\x20tar'+'get\x20alread'+'y\x20initiali'+'zed.'),this['_isInitial'+'ized']=!(-0x77f*-0x5+-0x154b+-0x1030);const _0x435f91=[];if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0x13a*-0x6+-0x251*0x6+0x1542))this['_glFrameBu'+'ffer']=this['suppliedCo'+'lorFramebu'+'ffer'];else{w['call'](()=>{(_0x2d32bf['width']<=-0x1e70+-0x599*-0x3+0x7*0x1f3||_0x2d32bf['height']<=0x49c*-0x7+-0x2138+0x417c)&&w['warnOnce']('Invalid\x20re'+'nder\x20targe'+'t\x20size:\x20'+_0x2d32bf['width']+'\x20x\x20'+_0x2d32bf['height'],_0x2d32bf);}),this['_glFrameBu'+'ffer']=_0x26b128['createFram'+'ebuffer'](),_0x39a138['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x4805a7=((_0x3d9b2d=_0x2d32bf['_colorBuff'+'ers'])==null?void(-0x15*0x12+-0x387+-0x3d*-0x15):_0x3d9b2d['length'])??-0x31d+0x224+0xf9,_0x17e0cb=_0x26b128['COLOR_ATTA'+'CHMENT0'];for(let _0x21c697=0x18eb+0x117b+-0x2a66;_0x21c697<_0x4805a7;++_0x21c697){const _0x5c711e=_0x2d32bf['getColorBu'+'ffer'](_0x21c697);_0x5c711e&&(_0x5c711e['impl']['_glTexture']||(_0x5c711e['_width']=Math['min'](_0x5c711e['width'],_0x39a138['maxRenderB'+'ufferSize']),_0x5c711e['_height']=Math['min'](_0x5c711e['height'],_0x39a138['maxRenderB'+'ufferSize']),_0x39a138['setTexture'](_0x5c711e,0x12c1+-0x52f*0x1+-0xd92)),_0x26b128['framebuffe'+'rTexture2D'](_0x26b128['FRAMEBUFFE'+'R'],_0x17e0cb+_0x21c697,_0x5c711e['_cubemap']?_0x26b128['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x2d32bf['_face']:_0x26b128['TEXTURE_2D'],_0x5c711e['impl']['_glTexture'],_0x2d32bf['mipLevel']),_0x435f91['push'](_0x17e0cb+_0x21c697));}_0x26b128['drawBuffer'+'s'](_0x435f91);const _0x1e90d8=_0x2d32bf['_depthBuff'+'er'];if(_0x1e90d8||_0x2d32bf['_depth']){const _0x51a779=_0x2d32bf['_stencil']?_0x26b128['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x26b128['DEPTH_ATTA'+'CHMENT'];if(_0x1e90d8)_0x1e90d8['impl']['_glTexture']||(_0x1e90d8['_width']=Math['min'](_0x1e90d8['width'],_0x39a138['maxRenderB'+'ufferSize']),_0x1e90d8['_height']=Math['min'](_0x1e90d8['height'],_0x39a138['maxRenderB'+'ufferSize']),_0x39a138['setTexture'](_0x1e90d8,0x19f2*-0x1+-0x147+0x65*0x45)),_0x26b128['framebuffe'+'rTexture2D'](_0x26b128['FRAMEBUFFE'+'R'],_0x51a779,_0x1e90d8['_cubemap']?_0x26b128['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x2d32bf['_face']:_0x26b128['TEXTURE_2D'],_0x2d32bf['_depthBuff'+'er']['impl']['_glTexture'],_0x2d32bf['mipLevel']);else{if(!(_0x2d32bf['_samples']>-0x1113+0x1371+-0x37*0xb)){this['_glDepthBu'+'ffer']||(this['_glDepthBu'+'ffer']=_0x26b128['createRend'+'erbuffer']());const _0x1a1f75=_0x2d32bf['_stencil']?_0x26b128['DEPTH24_ST'+'ENCIL8']:_0x26b128['DEPTH_COMP'+'ONENT32F'];_0x26b128['bindRender'+'buffer'](_0x26b128['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x26b128['renderbuff'+'erStorage'](_0x26b128['RENDERBUFF'+'ER'],_0x1a1f75,_0x2d32bf['width'],_0x2d32bf['height']),_0x26b128['framebuffe'+'rRenderbuf'+'fer'](_0x26b128['FRAMEBUFFE'+'R'],_0x51a779,_0x26b128['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x26b128['bindRender'+'buffer'](_0x26b128['RENDERBUFF'+'ER'],null);}}}w['call'](()=>this['_checkFbo'](_0x39a138,_0x2d32bf));}if(_0x2d32bf['_samples']>-0x93*0x2b+0x3a1+0x1*0x1511){this['_glResolve'+'FrameBuffe'+'r']=this['_glFrameBu'+'ffer'],this['_glFrameBu'+'ffer']=_0x26b128['createFram'+'ebuffer'](),_0x39a138['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x8c6b60=((_0x28af48=_0x2d32bf['_colorBuff'+'ers'])==null?void(-0x63+-0x5fa+-0xb5*-0x9):_0x28af48['length'])??0x10*0x2b+-0x1a99*0x1+0x17e9;if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(-0x5*-0x422+-0x790+0x102*-0xd)){const _0x1b572d=_0x26b128['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x1b572d);const _0x38cc49=_0x39a138['backBuffer'+'Format']===Ne?_0x26b128['RGBA8']:_0x26b128['RGB8'];_0x26b128['bindRender'+'buffer'](_0x26b128['RENDERBUFF'+'ER'],_0x1b572d),_0x26b128['renderbuff'+'erStorageM'+'ultisample'](_0x26b128['RENDERBUFF'+'ER'],_0x2d32bf['_samples'],_0x38cc49,_0x2d32bf['width'],_0x2d32bf['height']),_0x26b128['framebuffe'+'rRenderbuf'+'fer'](_0x26b128['FRAMEBUFFE'+'R'],_0x26b128['COLOR_ATTA'+'CHMENT0'],_0x26b128['RENDERBUFF'+'ER'],_0x1b572d);}else for(let _0x51366f=-0x1d*-0x5d+-0x26da+-0x1c51*-0x1;_0x51366f<_0x8c6b60;++_0x51366f){const _0x3968a2=_0x2d32bf['getColorBu'+'ffer'](_0x51366f);if(_0x3968a2){const _0x5f132a=_0x26b128['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x5f132a),_0x26b128['bindRender'+'buffer'](_0x26b128['RENDERBUFF'+'ER'],_0x5f132a),_0x26b128['renderbuff'+'erStorageM'+'ultisample'](_0x26b128['RENDERBUFF'+'ER'],_0x2d32bf['_samples'],_0x3968a2['impl']['_glInterna'+'lFormat'],_0x2d32bf['width'],_0x2d32bf['height']),_0x26b128['framebuffe'+'rRenderbuf'+'fer'](_0x26b128['FRAMEBUFFE'+'R'],_0x26b128['COLOR_ATTA'+'CHMENT0']+_0x51366f,_0x26b128['RENDERBUFF'+'ER'],_0x5f132a);}}if(_0x2d32bf['_depth']){w['assert'](!this['_glMsaaDep'+'thBuffer']);const _0x74c7ac=_0x2d32bf['_stencil']?_0x26b128['DEPTH24_ST'+'ENCIL8']:_0x26b128['DEPTH_COMP'+'ONENT32F'],_0x19a917=_0x2d32bf['_stencil']?_0x26b128['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x26b128['DEPTH_ATTA'+'CHMENT'];let _0x2d80f0;const _0x39f0a8=_0x2d32bf['_depthBuff'+'er'];_0x39f0a8&&(_0x2d80f0=_0x39f0a8['id']+':'+_0x2d32bf['width']+':'+_0x2d32bf['height']+':'+_0x2d32bf['_samples']+':'+_0x74c7ac+':'+_0x19a917,this['_glMsaaDep'+'thBuffer']=Fd(_0x39a138)['get'](_0x2d80f0)),this['_glMsaaDep'+'thBuffer']||(this['_glMsaaDep'+'thBuffer']=_0x26b128['createRend'+'erbuffer'](),_0x26b128['bindRender'+'buffer'](_0x26b128['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']),_0x26b128['renderbuff'+'erStorageM'+'ultisample'](_0x26b128['RENDERBUFF'+'ER'],_0x2d32bf['_samples'],_0x74c7ac,_0x2d32bf['width'],_0x2d32bf['height']),this['_glMsaaDep'+'thBuffer']['destroy']=function(){_0x26b128['deleteRend'+'erbuffer'](this);},_0x39f0a8&&Fd(_0x39a138)['set'](_0x2d80f0,this['_glMsaaDep'+'thBuffer'])),this['msaaDepthB'+'ufferKey']=_0x2d80f0,_0x26b128['framebuffe'+'rRenderbuf'+'fer'](_0x26b128['FRAMEBUFFE'+'R'],_0x19a917,_0x26b128['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']);}w['call'](()=>this['_checkFbo'](_0x39a138,_0x2d32bf,'MSAA')),_0x8c6b60>-0x172a+-0x2a9*0xb+0x2*0x1a37&&(this['_createMsa'+'aMrtFrameb'+'uffers'](_0x39a138,_0x2d32bf,_0x8c6b60),_0x39a138['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']),_0x26b128['drawBuffer'+'s'](_0x435f91));}}['_createMsa'+'aMrtFrameb'+'uffers'](_0xd96fd1,_0x4aee1c,_0xe2e9f4){const _0x139c7a=_0xd96fd1['gl'];this['colorMrtFr'+'amebuffers']=[];for(let _0x3edcff=0x5*0x4bd+0x1b7f*-0x1+0x3ce;_0x3edcff<_0xe2e9f4;++_0x3edcff){const _0xad084f=_0x4aee1c['getColorBu'+'ffer'](_0x3edcff),_0x54020b=_0x139c7a['createFram'+'ebuffer']();_0xd96fd1['setFramebu'+'ffer'](_0x54020b);const _0x2c9ee0=this['_glMsaaCol'+'orBuffers'][_0x3edcff];_0x139c7a['bindRender'+'buffer'](_0x139c7a['RENDERBUFF'+'ER'],_0x2c9ee0),_0x139c7a['renderbuff'+'erStorageM'+'ultisample'](_0x139c7a['RENDERBUFF'+'ER'],_0x4aee1c['_samples'],_0xad084f['impl']['_glInterna'+'lFormat'],_0x4aee1c['width'],_0x4aee1c['height']),_0x139c7a['framebuffe'+'rRenderbuf'+'fer'](_0x139c7a['FRAMEBUFFE'+'R'],_0x139c7a['COLOR_ATTA'+'CHMENT0'],_0x139c7a['RENDERBUFF'+'ER'],_0x2c9ee0),_0x139c7a['drawBuffer'+'s']([_0x139c7a['COLOR_ATTA'+'CHMENT0']]),w['call'](()=>this['_checkFbo'](_0xd96fd1,_0x4aee1c,'MSAA-MRT-s'+'rc'+_0x3edcff));const _0x764216=_0x139c7a['createFram'+'ebuffer']();_0xd96fd1['setFramebu'+'ffer'](_0x764216),_0x139c7a['framebuffe'+'rTexture2D'](_0x139c7a['FRAMEBUFFE'+'R'],_0x139c7a['COLOR_ATTA'+'CHMENT0'],_0xad084f['_cubemap']?_0x139c7a['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4aee1c['_face']:_0x139c7a['TEXTURE_2D'],_0xad084f['impl']['_glTexture'],-0x6f1*-0x1+0x346*-0x2+-0x1*0x65),this['colorMrtFr'+'amebuffers'][_0x3edcff]=new tw(_0x54020b,_0x764216),w['call'](()=>this['_checkFbo'](_0xd96fd1,_0x4aee1c,'MSAA-MRT-d'+'st'+_0x3edcff));}}['_checkFbo'](_0x1083f5,_0x331f6e,_0x2af807=''){const _0x2e2b64=_0x1083f5['gl'],_0x2c1d83=_0x2e2b64['checkFrame'+'bufferStat'+'us'](_0x2e2b64['FRAMEBUFFE'+'R']);let _0x489618;switch(_0x2c1d83){case _0x2e2b64['FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT']:_0x489618='FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT';break;case _0x2e2b64['FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T']:_0x489618='FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T';break;case _0x2e2b64['FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS']:_0x489618='FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS';break;case _0x2e2b64['FRAMEBUFFE'+'R_UNSUPPOR'+'TED']:_0x489618='FRAMEBUFFE'+'R_UNSUPPOR'+'TED';break;}w['assert'](!_0x489618,'Framebuffe'+'r\x20creation'+'\x20failed\x20wi'+'th\x20error\x20c'+'ode\x20'+_0x489618+(',\x20render\x20t'+'arget:\x20')+_0x331f6e['name']+'\x20'+_0x2af807,_0x331f6e);}['loseContex'+'t'](){this['_glFrameBu'+'ffer']=null,this['_glDepthBu'+'ffer']=null,this['_glResolve'+'FrameBuffe'+'r']=null,this['_glMsaaCol'+'orBuffers']['length']=-0x1979+0x4*0x757+0xc7*-0x5,this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']=void(0x1*-0x406+-0x7f0+0xbf6),this['colorMrtFr'+'amebuffers']=null,this['suppliedCo'+'lorFramebu'+'ffer']=void(0x365+-0x1404+0x1*0x109f),this['_isInitial'+'ized']=!(-0x191*0x12+-0x6d*-0x50+-0x5dd);}['internalRe'+'solve'](_0x58f10d,_0x2825b0,_0xd4dc5d,_0x2071f8,_0x150e34){w['assert'](_0x2825b0!==_0xd4dc5d,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x58f10d['setScissor'](0x9*-0x293+0x1eef*0x1+0x3e2*-0x2,-0x53a+0x22e3+0x1*-0x1da9,_0x2071f8['width'],_0x2071f8['height']);const _0x606a56=_0x58f10d['gl'];_0x606a56['bindFrameb'+'uffer'](_0x606a56['READ_FRAME'+'BUFFER'],_0x2825b0),_0x606a56['bindFrameb'+'uffer'](_0x606a56['DRAW_FRAME'+'BUFFER'],_0xd4dc5d),_0x606a56['blitFrameb'+'uffer'](0x208d+0x180c+-0x3899,-0x1c2d+-0x1*0xbb7+0x17*0x1bc,_0x2071f8['width'],_0x2071f8['height'],-0x10d*0x1+-0x10f+0x21c,-0x1b8+0x1c78+-0x4*0x6b0,_0x2071f8['width'],_0x2071f8['height'],_0x150e34,_0x606a56['NEAREST']);}['resolve'](_0x320c79,_0x5d1ee4,_0xd9f6bc,_0x4213f8){const _0x364878=_0x320c79['gl'];if(this['colorMrtFr'+'amebuffers']){if(_0xd9f6bc)for(let _0x1bb95f=0x1d8c+0x5*-0x556+0x2de*-0x1;_0x1bb95f<this['colorMrtFr'+'amebuffers']['length'];_0x1bb95f++){const _0x41762c=this['colorMrtFr'+'amebuffers'][_0x1bb95f];Q['pushGpuMar'+'ker'](_0x320c79,'RESOLVE-MR'+'T'+_0x1bb95f),this['internalRe'+'solve'](_0x320c79,_0x41762c['msaaFB'],_0x41762c['resolveFB'],_0x5d1ee4,_0x364878['COLOR_BUFF'+'ER_BIT']),Q['popGpuMark'+'er'](_0x320c79);}_0x4213f8&&(Q['pushGpuMar'+'ker'](_0x320c79,'RESOLVE-MR'+'T-DEPTH'),this['internalRe'+'solve'](_0x320c79,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x5d1ee4,_0x364878['DEPTH_BUFF'+'ER_BIT']),Q['popGpuMark'+'er'](_0x320c79));}else Q['pushGpuMar'+'ker'](_0x320c79,'RESOLVE'),this['internalRe'+'solve'](_0x320c79,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x5d1ee4,(_0xd9f6bc?_0x364878['COLOR_BUFF'+'ER_BIT']:0x1b15*0x1+-0x2*0x10d1+0x22f*0x3)|(_0x4213f8?_0x364878['DEPTH_BUFF'+'ER_BIT']:0x5*0x6a3+-0x1*-0x10e3+-0x1a*0x1ed)),Q['popGpuMark'+'er'](_0x320c79);_0x364878['bindFrameb'+'uffer'](_0x364878['FRAMEBUFFE'+'R'],this['_glFrameBu'+'ffer']);}}class iw{constructor(){h(this,'renderVers'+'ion'),h(this,'queries',[]);}['destroy'](_0x4f3303){this['queries']['forEach'](_0x5551e4=>_0x4f3303['deleteQuer'+'y'](_0x5551e4)),this['queries']=null;}}class rw extends $T{constructor(_0xc87090){super(),h(this,'device'),h(this,'freeQuerie'+'s',[]),h(this,'frameQueri'+'es',[]),h(this,'previousFr'+'ameQueries',[]),h(this,'timings',[]),(this['device']=_0xc87090,this['ext']=_0xc87090['extDisjoin'+'tTimerQuer'+'y']);}['destroy'](){this['freeQuerie'+'s']['forEach'](_0x2401f1=>this['device']['gl']['deleteQuer'+'y'](_0x2401f1)),this['frameQueri'+'es']['forEach'](_0xfb80ce=>this['device']['gl']['deleteQuer'+'y'](_0xfb80ce)),this['previousFr'+'ameQueries']['forEach'](_0x2dd3e8=>_0x2dd3e8['destroy'](this['device']['gl'])),this['freeQuerie'+'s']=null,this['frameQueri'+'es']=null,this['previousFr'+'ameQueries']=null;}['loseContex'+'t'](){super['loseContex'+'t'](),this['freeQuerie'+'s']=[],this['frameQueri'+'es']=[],this['previousFr'+'ameQueries']=[];}['restoreCon'+'text'](){this['ext']=this['device']['extDisjoin'+'tTimerQuer'+'y'];}['getQuery'](){return this['freeQuerie'+'s']['pop']()??this['device']['gl']['createQuer'+'y']();}['start'](_0x5da2b3){if(this['ext']){const _0x39c5c1=this['getSlot'](_0x5da2b3),_0x153264=this['getQuery']();return this['frameQueri'+'es'][_0x39c5c1]=_0x153264,this['device']['gl']['beginQuery'](this['ext']['TIME_ELAPS'+'ED_EXT'],_0x153264),_0x39c5c1;}}['end'](_0x429b60){_0x429b60!==void(0x1d8f+0x269b*-0x1+0x90c)&&this['device']['gl']['endQuery'](this['ext']['TIME_ELAPS'+'ED_EXT']);}['frameStart'](){this['processEna'+'bleRequest'](),this['_enabled']&&(this['frameGPUMa'+'rkerSlot']=this['start']('GpuFrame'));}['frameEnd'](){this['_enabled']&&this['end'](this['frameGPUMa'+'rkerSlot']);}['request'](){if(this['_enabled']){const _0x59c9bb=this['ext'],_0x54e7da=this['device']['gl'],_0x5008ed=this['device']['renderVers'+'ion'],_0x51f199=this['frameQueri'+'es'];if(_0x51f199['length']>0x63*0xb+-0x8b7+-0x2*-0x23b){this['frameQueri'+'es']=[];const _0x4791e7=new iw();_0x4791e7['queries']=_0x51f199,_0x4791e7['renderVers'+'ion']=_0x5008ed,this['previousFr'+'ameQueries']['push'](_0x4791e7);}if(this['previousFr'+'ameQueries']['length']>-0xc40+-0x49d+0x10dd){const _0x1cbce4=this['previousFr'+'ameQueries'][-0x134f+-0x6*-0x379+-0x187*0x1],_0x289f84=_0x1cbce4['queries'],_0x55368e=_0x289f84[_0x289f84['length']-(-0x12ed+0x233e*0x1+-0x1050)],_0x4a6806=_0x54e7da['getQueryPa'+'rameter'](_0x55368e,_0x54e7da['QUERY_RESU'+'LT_AVAILAB'+'LE']),_0x59c333=_0x54e7da['getParamet'+'er'](_0x59c9bb['GPU_DISJOI'+'NT_EXT']);if(_0x4a6806&&!_0x59c333){this['previousFr'+'ameQueries']['shift']();const _0x4f8aac=this['timings'];_0x4f8aac['length']=0xfcc+0x13*0x2a+-0x12ea;for(let _0x3f6664=0x1*-0x102+0x731*0x5+-0x22f3;_0x3f6664<_0x289f84['length'];_0x3f6664++){const _0x19b09d=_0x289f84[_0x3f6664],_0x21d3eb=_0x54e7da['getQueryPa'+'rameter'](_0x19b09d,_0x54e7da['QUERY_RESU'+'LT']);_0x4f8aac[_0x3f6664]=_0x21d3eb*(0xa*0x353+0x6*0x24c+-0xd*0x39e+0.000001),this['freeQuerie'+'s']['push'](_0x19b09d);}this['report'](_0x1cbce4['renderVers'+'ion'],_0x4f8aac);}_0x59c333&&(this['previousFr'+'ameQueries']['forEach'](_0x3c8c89=>{this['report'](_0x3c8c89['renderVers'+'ion'],null),_0x3c8c89['destroy'](_0x54e7da);}),this['previousFr'+'ameQueries']['length']=0x1b0e*0x1+0x1*0xa49+-0x2557);}super['request'](_0x5008ed);}}}const Da=[];class aw extends $e{constructor(_0x5af27b,_0xaa0bb8={}){super(_0x5af27b,_0xaa0bb8),h(this,'gl'),h(this,'_defaultFr'+'amebuffer',null),h(this,'_defaultFr'+'amebufferC'+'hanged',!(0x4c*-0x13+0x818*0x4+-0x1abb)),(_0xaa0bb8=this['initOption'+'s'],this['updateClie'+'ntRect'](),this['initTextur'+'eUnits'](),this['contextLos'+'t']=!(-0x5*0x22a+0x59*0x6f+-0x1bc4),this['_contextLo'+'stHandler']=_0x5e7bfb=>{_0x5e7bfb['preventDef'+'ault'](),this['loseContex'+'t'](),w['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20lost.'),this['fire']('devicelost');},this['_contextRe'+'storedHand'+'ler']=()=>{w['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20restore'+'d.'),this['restoreCon'+'text'](),this['fire']('devicerest'+'ored');});const _0x3fe467=typeof navigator<'u'&&navigator['userAgent'];if(this['forceDisab'+'leMultisam'+'pling']=_0x3fe467&&_0x3fe467['includes']('AppleWebKi'+'t')&&(_0x3fe467['includes']('15.4')||_0x3fe467['includes']('15_4')),this['forceDisab'+'leMultisam'+'pling']&&(_0xaa0bb8['antialias']=!(0x1c76*0x1+0xb16+0x35*-0xbf),w['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'AppleWebKi'+'t\x2015.4')),Ae['browserNam'+'e']==='firefox'){const _0x51439e=(typeof navigator<'u'?navigator['userAgent']:'')['match'](/Firefox\/(\d+(\.\d+)*)/),_0x3a7e40=_0x51439e?_0x51439e[0x170c+-0x1b9c+0x491]:null;if(_0x3a7e40){const _0x149410=parseFloat(_0x3a7e40);(Ae['name']==='windows'&&(_0x149410>=-0x769*-0x3+-0x14aa+-0x119||_0x149410===-0x1*-0x1e2b+0x1c99*-0x1+-0x11f*0x1)||Ae['name']==='android'&&_0x149410>=0x12c5+-0x233d+0x4*0x43f)&&(_0xaa0bb8['antialias']=!(-0x2611+0xb0*0x28+0xa92),w['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'Firefox\x20'+Ae['name']+('\x20platform\x20'+'version\x20')+_0x3a7e40));}}this['backBuffer'+'Antialias']=_0xaa0bb8['antialias']??!(-0xabe+-0x1e1b+0x28da),_0xaa0bb8['antialias']=!(0x22f5+-0x158*0xb+-0x142c);const _0x4ed5b5=_0xaa0bb8['gl']??_0x5af27b['getContext']('webgl2',_0xaa0bb8);if(!_0x4ed5b5)throw new Error('WebGL\x20not\x20'+'supported');this['gl']=_0x4ed5b5,this['isWebGL2']=!(0x1edb*0x1+0x1*0x16c4+-0x359f),this['_deviceTyp'+'e']=aT,this['updateBack'+'bufferForm'+'at'](null);const _0x10d9d8=Ae['browserNam'+'e']==='chrome',_0x10eb64=Ae['browserNam'+'e']==='safari',_0x5f5a19=Ae['browser']&&navigator['appVersion']['indexOf']('Mac')!==-(0xc9*0x29+0x20*-0x131+0x130*0x5);this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']=_0x10eb64,this['_tempMacCh'+'romeBlitFr'+'amebufferW'+'orkaround']=_0x5f5a19&&_0x10d9d8&&!_0xaa0bb8['alpha'],_0x5af27b['addEventLi'+'stener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(-0x583*-0x4+0x964*-0x1+0x1*-0xca7)),_0x5af27b['addEventLi'+'stener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(-0xcc5+-0x209*-0x13+0x3b3*-0x7)),this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes'](),this['createBack'+'buffer'](null),this['supportsIm'+'ageBitmap']=!_0x10eb64&&typeof ImageBitmap<'u',this['_samplerTy'+'pes']=new Set([_0x4ed5b5['SAMPLER_2D'],_0x4ed5b5['SAMPLER_CU'+'BE'],_0x4ed5b5['UNSIGNED_I'+'NT_SAMPLER'+'_2D'],_0x4ed5b5['INT_SAMPLE'+'R_2D'],_0x4ed5b5['SAMPLER_2D'+'_SHADOW'],_0x4ed5b5['SAMPLER_CU'+'BE_SHADOW'],_0x4ed5b5['SAMPLER_3D'],_0x4ed5b5['INT_SAMPLE'+'R_3D'],_0x4ed5b5['UNSIGNED_I'+'NT_SAMPLER'+'_3D'],_0x4ed5b5['SAMPLER_2D'+'_ARRAY'],_0x4ed5b5['INT_SAMPLE'+'R_2D_ARRAY'],_0x4ed5b5['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]),this['glAddress']=[_0x4ed5b5['REPEAT'],_0x4ed5b5['CLAMP_TO_E'+'DGE'],_0x4ed5b5['MIRRORED_R'+'EPEAT']],this['glBlendEqu'+'ation']=[_0x4ed5b5['FUNC_ADD'],_0x4ed5b5['FUNC_SUBTR'+'ACT'],_0x4ed5b5['FUNC_REVER'+'SE_SUBTRAC'+'T'],_0x4ed5b5['MIN'],_0x4ed5b5['MAX']],this['glBlendFun'+'ctionColor']=[_0x4ed5b5['ZERO'],_0x4ed5b5['ONE'],_0x4ed5b5['SRC_COLOR'],_0x4ed5b5['ONE_MINUS_'+'SRC_COLOR'],_0x4ed5b5['DST_COLOR'],_0x4ed5b5['ONE_MINUS_'+'DST_COLOR'],_0x4ed5b5['SRC_ALPHA'],_0x4ed5b5['SRC_ALPHA_'+'SATURATE'],_0x4ed5b5['ONE_MINUS_'+'SRC_ALPHA'],_0x4ed5b5['DST_ALPHA'],_0x4ed5b5['ONE_MINUS_'+'DST_ALPHA'],_0x4ed5b5['CONSTANT_C'+'OLOR'],_0x4ed5b5['ONE_MINUS_'+'CONSTANT_C'+'OLOR']],this['glBlendFun'+'ctionAlpha']=[_0x4ed5b5['ZERO'],_0x4ed5b5['ONE'],_0x4ed5b5['SRC_COLOR'],_0x4ed5b5['ONE_MINUS_'+'SRC_COLOR'],_0x4ed5b5['DST_COLOR'],_0x4ed5b5['ONE_MINUS_'+'DST_COLOR'],_0x4ed5b5['SRC_ALPHA'],_0x4ed5b5['SRC_ALPHA_'+'SATURATE'],_0x4ed5b5['ONE_MINUS_'+'SRC_ALPHA'],_0x4ed5b5['DST_ALPHA'],_0x4ed5b5['ONE_MINUS_'+'DST_ALPHA'],_0x4ed5b5['CONSTANT_A'+'LPHA'],_0x4ed5b5['ONE_MINUS_'+'CONSTANT_A'+'LPHA']],this['glComparis'+'on']=[_0x4ed5b5['NEVER'],_0x4ed5b5['LESS'],_0x4ed5b5['EQUAL'],_0x4ed5b5['LEQUAL'],_0x4ed5b5['GREATER'],_0x4ed5b5['NOTEQUAL'],_0x4ed5b5['GEQUAL'],_0x4ed5b5['ALWAYS']],this['glStencilO'+'p']=[_0x4ed5b5['KEEP'],_0x4ed5b5['ZERO'],_0x4ed5b5['REPLACE'],_0x4ed5b5['INCR'],_0x4ed5b5['INCR_WRAP'],_0x4ed5b5['DECR'],_0x4ed5b5['DECR_WRAP'],_0x4ed5b5['INVERT']],this['glClearFla'+'g']=[-0x1*-0x1024+-0xb27+-0x4fd*0x1,_0x4ed5b5['COLOR_BUFF'+'ER_BIT'],_0x4ed5b5['DEPTH_BUFF'+'ER_BIT'],_0x4ed5b5['COLOR_BUFF'+'ER_BIT']|_0x4ed5b5['DEPTH_BUFF'+'ER_BIT'],_0x4ed5b5['STENCIL_BU'+'FFER_BIT'],_0x4ed5b5['STENCIL_BU'+'FFER_BIT']|_0x4ed5b5['COLOR_BUFF'+'ER_BIT'],_0x4ed5b5['STENCIL_BU'+'FFER_BIT']|_0x4ed5b5['DEPTH_BUFF'+'ER_BIT'],_0x4ed5b5['STENCIL_BU'+'FFER_BIT']|_0x4ed5b5['COLOR_BUFF'+'ER_BIT']|_0x4ed5b5['DEPTH_BUFF'+'ER_BIT']],this['glCull']=[-0xff8+-0x1*-0x6b9+0x9*0x107,_0x4ed5b5['BACK'],_0x4ed5b5['FRONT'],_0x4ed5b5['FRONT_AND_'+'BACK']],this['glFilter']=[_0x4ed5b5['NEAREST'],_0x4ed5b5['LINEAR'],_0x4ed5b5['NEAREST_MI'+'PMAP_NEARE'+'ST'],_0x4ed5b5['NEAREST_MI'+'PMAP_LINEA'+'R'],_0x4ed5b5['LINEAR_MIP'+'MAP_NEARES'+'T'],_0x4ed5b5['LINEAR_MIP'+'MAP_LINEAR']],this['glPrimitiv'+'e']=[_0x4ed5b5['POINTS'],_0x4ed5b5['LINES'],_0x4ed5b5['LINE_LOOP'],_0x4ed5b5['LINE_STRIP'],_0x4ed5b5['TRIANGLES'],_0x4ed5b5['TRIANGLE_S'+'TRIP'],_0x4ed5b5['TRIANGLE_F'+'AN']],this['glType']=[_0x4ed5b5['BYTE'],_0x4ed5b5['UNSIGNED_B'+'YTE'],_0x4ed5b5['SHORT'],_0x4ed5b5['UNSIGNED_S'+'HORT'],_0x4ed5b5['INT'],_0x4ed5b5['UNSIGNED_I'+'NT'],_0x4ed5b5['FLOAT'],_0x4ed5b5['HALF_FLOAT']],this['pcUniformT'+'ype']={},this['pcUniformT'+'ype'][_0x4ed5b5['BOOL']]=Tn,this['pcUniformT'+'ype'][_0x4ed5b5['INT']]=_a,this['pcUniformT'+'ype'][_0x4ed5b5['FLOAT']]=Xs,this['pcUniformT'+'ype'][_0x4ed5b5['FLOAT_VEC2']]=ga,this['pcUniformT'+'ype'][_0x4ed5b5['FLOAT_VEC3']]=ds,this['pcUniformT'+'ype'][_0x4ed5b5['FLOAT_VEC4']]=Rn,this['pcUniformT'+'ype'][_0x4ed5b5['INT_VEC2']]=ca,this['pcUniformT'+'ype'][_0x4ed5b5['INT_VEC3']]=ha,this['pcUniformT'+'ype'][_0x4ed5b5['INT_VEC4']]=da,this['pcUniformT'+'ype'][_0x4ed5b5['BOOL_VEC2']]=tl,this['pcUniformT'+'ype'][_0x4ed5b5['BOOL_VEC3']]=sl,this['pcUniformT'+'ype'][_0x4ed5b5['BOOL_VEC4']]=il,this['pcUniformT'+'ype'][_0x4ed5b5['FLOAT_MAT2']]=_h,this['pcUniformT'+'ype'][_0x4ed5b5['FLOAT_MAT3']]=On,this['pcUniformT'+'ype'][_0x4ed5b5['FLOAT_MAT4']]=li,this['pcUniformT'+'ype'][_0x4ed5b5['SAMPLER_2D']]=Hx,this['pcUniformT'+'ype'][_0x4ed5b5['SAMPLER_CU'+'BE']]=Wx,this['pcUniformT'+'ype'][_0x4ed5b5['UNSIGNED_I'+'NT']]=Fn,this['pcUniformT'+'ype'][_0x4ed5b5['UNSIGNED_I'+'NT_VEC2']]=Nn,this['pcUniformT'+'ype'][_0x4ed5b5['UNSIGNED_I'+'NT_VEC3']]=kn,this['pcUniformT'+'ype'][_0x4ed5b5['UNSIGNED_I'+'NT_VEC4']]=Un,this['pcUniformT'+'ype'][_0x4ed5b5['SAMPLER_2D'+'_SHADOW']]=$x,this['pcUniformT'+'ype'][_0x4ed5b5['SAMPLER_CU'+'BE_SHADOW']]=Xx,this['pcUniformT'+'ype'][_0x4ed5b5['SAMPLER_2D'+'_ARRAY']]=jx,this['pcUniformT'+'ype'][_0x4ed5b5['SAMPLER_3D']]=qx,this['pcUniformT'+'ype'][_0x4ed5b5['INT_SAMPLE'+'R_2D']]=Yx,this['pcUniformT'+'ype'][_0x4ed5b5['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=Kx,this['pcUniformT'+'ype'][_0x4ed5b5['INT_SAMPLE'+'R_CUBE']]=Zx,this['pcUniformT'+'ype'][_0x4ed5b5['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=Qx,this['pcUniformT'+'ype'][_0x4ed5b5['INT_SAMPLE'+'R_3D']]=Jx,this['pcUniformT'+'ype'][_0x4ed5b5['UNSIGNED_I'+'NT_SAMPLER'+'_3D']]=eT,this['pcUniformT'+'ype'][_0x4ed5b5['INT_SAMPLE'+'R_2D_ARRAY']]=tT,this['pcUniformT'+'ype'][_0x4ed5b5['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]=sT,this['targetToSl'+'ot']={},this['targetToSl'+'ot'][_0x4ed5b5['TEXTURE_2D']]=0x1653+0x2*-0xbb7+0x11b,this['targetToSl'+'ot'][_0x4ed5b5['TEXTURE_CU'+'BE_MAP']]=-0x2f*0xb7+0xb*-0x46+-0x354*-0xb,this['targetToSl'+'ot'][_0x4ed5b5['TEXTURE_3D']]=-0x1e4a*0x1+0x556+0x18f6;let _0x519ebc,_0x19d199,_0x4bd97a,_0x5dccb8,_0x4f55aa;this['commitFunc'+'tion']=[],this['commitFunc'+'tion'][Tn]=function(_0x17068d,_0x169374){_0x17068d['value']!==_0x169374&&(_0x4ed5b5['uniform1i'](_0x17068d['locationId'],_0x169374),_0x17068d['value']=_0x169374);},this['commitFunc'+'tion'][_a]=this['commitFunc'+'tion'][Tn],this['commitFunc'+'tion'][Xs]=function(_0x5451fd,_0x215ee1){_0x5451fd['value']!==_0x215ee1&&(_0x4ed5b5['uniform1f'](_0x5451fd['locationId'],_0x215ee1),_0x5451fd['value']=_0x215ee1);},this['commitFunc'+'tion'][ga]=function(_0x297ccd,_0x28ce2f){_0x4f55aa=_0x297ccd['value'],_0x519ebc=_0x28ce2f[-0x1c5+0x2392+0x1fd*-0x11],_0x19d199=_0x28ce2f[0x19a1+-0x1*-0x1415+-0x1*0x2db5],(_0x4f55aa[0x1*-0x1257+0x1*0x21fb+0x11e*-0xe]!==_0x519ebc||_0x4f55aa[-0x1*0x1f2e+-0x1e2e+0x3d5d]!==_0x19d199)&&(_0x4ed5b5['uniform2fv'](_0x297ccd['locationId'],_0x28ce2f),_0x4f55aa[0x20e7+0x186b+-0x13f*0x2e]=_0x519ebc,_0x4f55aa[0x190f+0x1*-0x19c6+-0xb8*-0x1]=_0x19d199);},this['commitFunc'+'tion'][ds]=function(_0x8d7dd4,_0x582826){_0x4f55aa=_0x8d7dd4['value'],_0x519ebc=_0x582826[-0x1*0x1a3f+-0xd3+0x1b12],_0x19d199=_0x582826[-0x1*0xa13+0x55*-0x43+0x2053],_0x4bd97a=_0x582826[-0xc80+0xb2*0x11+-0x8*-0x16],(_0x4f55aa[0x5*-0x33d+-0x3ab*-0x3+0x2*0x298]!==_0x519ebc||_0x4f55aa[-0xddf+0x1704+-0x924]!==_0x19d199||_0x4f55aa[0x642+-0x3*0x59f+-0xb*-0xf7]!==_0x4bd97a)&&(_0x4ed5b5['uniform3fv'](_0x8d7dd4['locationId'],_0x582826),_0x4f55aa[-0x59*-0x42+-0xeee+-0x804]=_0x519ebc,_0x4f55aa[0x6a9+0x5d5*-0x3+0x39d*0x3]=_0x19d199,_0x4f55aa[-0x160*0x1+0x1*-0x1424+0x1586]=_0x4bd97a);},this['commitFunc'+'tion'][Rn]=function(_0x14c3b9,_0x1cea79){_0x4f55aa=_0x14c3b9['value'],_0x519ebc=_0x1cea79[0x8e*0x12+-0x26a9+-0x1cad*-0x1],_0x19d199=_0x1cea79[0xb8*-0x24+-0x20df+0x3ac0*0x1],_0x4bd97a=_0x1cea79[0x1546+0x2*0x51c+-0x1f7c],_0x5dccb8=_0x1cea79[0x13*0x14e+-0x1583+0x16*-0x26],(_0x4f55aa[-0x136b*-0x1+0x1454+0xb9*-0x37]!==_0x519ebc||_0x4f55aa[-0xde4+-0x24aa+0x328f]!==_0x19d199||_0x4f55aa[-0xe+0x447+-0x437]!==_0x4bd97a||_0x4f55aa[0x1f31+0x1*-0xbd8+-0x1356]!==_0x5dccb8)&&(_0x4ed5b5['uniform4fv'](_0x14c3b9['locationId'],_0x1cea79),_0x4f55aa[-0x3b*0x59+0x1646*0x1+-0x1c3]=_0x519ebc,_0x4f55aa[0x3*0x991+0x2488+-0x413a]=_0x19d199,_0x4f55aa[-0x129a*-0x2+0xb*-0x1+-0x1*0x2527]=_0x4bd97a,_0x4f55aa[-0x21e4+-0x1*-0x1df4+0x151*0x3]=_0x5dccb8);},this['commitFunc'+'tion'][ca]=function(_0x34c7b8,_0x3b2948){_0x4f55aa=_0x34c7b8['value'],_0x519ebc=_0x3b2948[0xc7*0x5+-0x5*0x61+-0x1fe],_0x19d199=_0x3b2948[-0x198c+0x1*0x17e1+0x2*0xd6],(_0x4f55aa[0x1d9e+-0x1321*-0x1+-0x1*0x30bf]!==_0x519ebc||_0x4f55aa[-0x16e+0x2008+-0x45f*0x7]!==_0x19d199)&&(_0x4ed5b5['uniform2iv'](_0x34c7b8['locationId'],_0x3b2948),_0x4f55aa[0x1*-0x1a2a+-0x2611+0x403b]=_0x519ebc,_0x4f55aa[-0x1a8e+0x14d1+0x5be]=_0x19d199);},this['commitFunc'+'tion'][tl]=this['commitFunc'+'tion'][ca],this['commitFunc'+'tion'][ha]=function(_0x2ab293,_0x52531e){_0x4f55aa=_0x2ab293['value'],_0x519ebc=_0x52531e[0xbd7+0xd3*-0x19+0xbb*0xc],_0x19d199=_0x52531e[0x8*0x452+-0x9*0x286+-0xbd9],_0x4bd97a=_0x52531e[-0x18*-0xb+-0xd66*0x1+0xc60],(_0x4f55aa[0x1be3+0x1*0x229f+-0x3e82]!==_0x519ebc||_0x4f55aa[-0x1352+-0x5*-0x1c1+-0xa8e*-0x1]!==_0x19d199||_0x4f55aa[0x1941+-0x6d*0x10+-0x3*0x625]!==_0x4bd97a)&&(_0x4ed5b5['uniform3iv'](_0x2ab293['locationId'],_0x52531e),_0x4f55aa[0x1d96+-0x24cb*-0x1+-0x4261]=_0x519ebc,_0x4f55aa[0x5*-0xc9+-0x3*-0x1b7+-0x137*0x1]=_0x19d199,_0x4f55aa[-0x47*0x2b+-0xd9*-0x23+-0x11bc]=_0x4bd97a);},this['commitFunc'+'tion'][sl]=this['commitFunc'+'tion'][ha],this['commitFunc'+'tion'][da]=function(_0x41576e,_0x44dbfd){_0x4f55aa=_0x41576e['value'],_0x519ebc=_0x44dbfd[-0xa92*0x3+-0x5db*0x1+-0xa3*-0x3b],_0x19d199=_0x44dbfd[0x126e+0x84d+0x1*-0x1aba],_0x4bd97a=_0x44dbfd[0xbea*-0x2+-0x6c+-0xe6*-0x1b],_0x5dccb8=_0x44dbfd[-0x19bb+-0x1*0x1d3+0x1b91],(_0x4f55aa[0x66e+0x56*0x59+0x60e*-0x6]!==_0x519ebc||_0x4f55aa[-0xc76+0x15*-0xe9+0x1f94]!==_0x19d199||_0x4f55aa[0x191*-0x3+0x297*-0x1+0x2*0x3a6]!==_0x4bd97a||_0x4f55aa[-0x1eb2*-0x1+0x138b+-0x323a]!==_0x5dccb8)&&(_0x4ed5b5['uniform4iv'](_0x41576e['locationId'],_0x44dbfd),_0x4f55aa[0x4*-0x423+-0x2536+0x35c2]=_0x519ebc,_0x4f55aa[-0x1cf2+-0x1057*-0x1+0xc9c]=_0x19d199,_0x4f55aa[-0x1a6a+-0x187a+0x1*0x32e6]=_0x4bd97a,_0x4f55aa[-0x3*0x4ce+-0xf0*0x9+0x16dd*0x1]=_0x5dccb8);},this['commitFunc'+'tion'][il]=this['commitFunc'+'tion'][da],this['commitFunc'+'tion'][_h]=function(_0x310100,_0x4b2d0b){_0x4ed5b5['uniformMat'+'rix2fv'](_0x310100['locationId'],!(-0x1eb+-0xa29+-0x407*-0x3),_0x4b2d0b);},this['commitFunc'+'tion'][On]=function(_0x190be2,_0x4fb3a5){_0x4ed5b5['uniformMat'+'rix3fv'](_0x190be2['locationId'],!(0x625*0x3+-0x1dec+0xb7e),_0x4fb3a5);},this['commitFunc'+'tion'][li]=function(_0x488374,_0x256a03){_0x4ed5b5['uniformMat'+'rix4fv'](_0x488374['locationId'],!(0x2*0xb15+0x594+-0x1bbd),_0x256a03);},this['commitFunc'+'tion'][ud]=function(_0xa9c991,_0x3bfb35){_0x4ed5b5['uniform1fv'](_0xa9c991['locationId'],_0x3bfb35);},this['commitFunc'+'tion'][pd]=function(_0x101fb2,_0x9ea419){_0x4ed5b5['uniform2fv'](_0x101fb2['locationId'],_0x9ea419);},this['commitFunc'+'tion'][md]=function(_0x56d74d,_0x56e10c){_0x4ed5b5['uniform3fv'](_0x56d74d['locationId'],_0x56e10c);},this['commitFunc'+'tion'][Lp]=function(_0x1556ea,_0x4e4e0f){_0x4ed5b5['uniform4fv'](_0x1556ea['locationId'],_0x4e4e0f);},this['commitFunc'+'tion'][Fn]=function(_0x43aedc,_0x4df272){_0x43aedc['value']!==_0x4df272&&(_0x4ed5b5['uniform1ui'](_0x43aedc['locationId'],_0x4df272),_0x43aedc['value']=_0x4df272);},this['commitFunc'+'tion'][Nn]=function(_0x4d3e51,_0x34d33d){_0x4f55aa=_0x4d3e51['value'],_0x519ebc=_0x34d33d[0x461*0x1+0x959+-0x6dd*0x2],_0x19d199=_0x34d33d[-0x316+0xc*0x2b4+-0x1d59],(_0x4f55aa[-0x8d5*-0x1+-0xb55+0x280]!==_0x519ebc||_0x4f55aa[-0xd*-0x2c8+0x2*0x1189+-0x4739]!==_0x19d199)&&(_0x4ed5b5['uniform2ui'+'v'](_0x4d3e51['locationId'],_0x34d33d),_0x4f55aa[-0xd09+0xaa9+0x260]=_0x519ebc,_0x4f55aa[-0x1d0d+0x249b+-0x1*0x78d]=_0x19d199);},this['commitFunc'+'tion'][kn]=function(_0x2e4a15,_0x3f1382){_0x4f55aa=_0x2e4a15['value'],_0x519ebc=_0x3f1382[-0xa93*-0x3+0x10e5+0x7f*-0x62],_0x19d199=_0x3f1382[-0x1*0x17cb+-0x6de*0x5+0x3a22],_0x4bd97a=_0x3f1382[0x284*-0xe+0x1e0d+-0x1*-0x52d],(_0x4f55aa[-0x1abd*-0x1+-0x185*0x2+-0x17b3*0x1]!==_0x519ebc||_0x4f55aa[-0x189f+0xb08*-0x1+-0x38*-0xa3]!==_0x19d199||_0x4f55aa[-0xfeb+0x1*0x305+0xce8]!==_0x4bd97a)&&(_0x4ed5b5['uniform3ui'+'v'](_0x2e4a15['locationId'],_0x3f1382),_0x4f55aa[-0x1698+0x909+-0x3*-0x485]=_0x519ebc,_0x4f55aa[-0xd13*0x1+0x1*-0xb57+-0x85*-0x2f]=_0x19d199,_0x4f55aa[-0xa*-0x217+-0xa7*0x2f+0x9c5]=_0x4bd97a);},this['commitFunc'+'tion'][Un]=function(_0x37b994,_0x42aabc){_0x4f55aa=_0x37b994['value'],_0x519ebc=_0x42aabc[-0xd46+-0xf35+0x13d*0x17],_0x19d199=_0x42aabc[0x1646+-0x610+-0x1035],_0x4bd97a=_0x42aabc[-0x565+0x196a+-0x6d*0x2f],_0x5dccb8=_0x42aabc[-0x3fa+0x6f2+-0x2f5],(_0x4f55aa[0x3*-0xeb+0x101f+-0xd5e]!==_0x519ebc||_0x4f55aa[0x4*-0x880+0x86a+-0x1*-0x1997]!==_0x19d199||_0x4f55aa[-0x187*-0x2+-0x1400+0x5*0x364]!==_0x4bd97a||_0x4f55aa[0x17b6+-0x24e4+0xd31]!==_0x5dccb8)&&(_0x4ed5b5['uniform4ui'+'v'](_0x37b994['locationId'],_0x42aabc),_0x4f55aa[0x695*0x4+-0x1*-0xc4d+-0x26a1]=_0x519ebc,_0x4f55aa[-0x2*0xe3e+0x2148+-0x4cb]=_0x19d199,_0x4f55aa[-0x161+-0x15*0x119+-0x2e*-0x88]=_0x4bd97a,_0x4f55aa[-0x21e0+-0xb82*0x2+0x38e7]=_0x5dccb8);},this['commitFunc'+'tion'][Bn]=function(_0x88f8f1,_0x5bfbe6){_0x4ed5b5['uniform1iv'](_0x88f8f1['locationId'],_0x5bfbe6);},this['commitFunc'+'tion'][_d]=function(_0x5a96ce,_0x742634){_0x4ed5b5['uniform1ui'+'v'](_0x5a96ce['locationId'],_0x742634);},this['commitFunc'+'tion'][gd]=this['commitFunc'+'tion'][Bn],this['commitFunc'+'tion'][zn]=function(_0xa5db1e,_0x53bed9){_0x4ed5b5['uniform2iv'](_0xa5db1e['locationId'],_0x53bed9);},this['commitFunc'+'tion'][Sd]=function(_0x40120e,_0x359412){_0x4ed5b5['uniform2ui'+'v'](_0x40120e['locationId'],_0x359412);},this['commitFunc'+'tion'][yd]=this['commitFunc'+'tion'][zn],this['commitFunc'+'tion'][Vn]=function(_0x3cba7a,_0x31dba3){_0x4ed5b5['uniform3iv'](_0x3cba7a['locationId'],_0x31dba3);},this['commitFunc'+'tion'][vd]=function(_0x1ea36a,_0x5baab3){_0x4ed5b5['uniform3ui'+'v'](_0x1ea36a['locationId'],_0x5baab3);},this['commitFunc'+'tion'][xd]=this['commitFunc'+'tion'][Vn],this['commitFunc'+'tion'][gh]=function(_0x13e201,_0x528287){_0x4ed5b5['uniform4iv'](_0x13e201['locationId'],_0x528287);},this['commitFunc'+'tion'][Rp]=function(_0x16b6e1,_0x2b94c6){_0x4ed5b5['uniform4ui'+'v'](_0x16b6e1['locationId'],_0x2b94c6);},this['commitFunc'+'tion'][Op]=this['commitFunc'+'tion'][gh],this['commitFunc'+'tion'][wy]=function(_0x2ffff3,_0x2a4a96){_0x4ed5b5['uniformMat'+'rix4fv'](_0x2ffff3['locationId'],!(0x212c+-0x2d*-0x18+-0x2563),_0x2a4a96);},this['constantTe'+'xSource']=this['scope']['resolve']('source'),this['postInit']();}['postInit'](){super['postInit'](),this['gpuProfile'+'r']=new rw(this);}['destroy'](){super['destroy']();const _0x2451a5=this['gl'];this['feedback']&&_0x2451a5['deleteTran'+'sformFeedb'+'ack'](this['feedback']),this['clearVerte'+'xArrayObje'+'ctCache'](),this['canvas']['removeEven'+'tListener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0x25*0xb9+0x155*-0x8+-0x1014)),this['canvas']['removeEven'+'tListener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(-0x5bc+0x419+0x1a4)),this['_contextLo'+'stHandler']=null,this['_contextRe'+'storedHand'+'ler']=null,this['gl']=null,super['postDestro'+'y']();}['createBack'+'buffer'](_0x9bc349){this['supportsSt'+'encil']=this['initOption'+'s']['stencil'],this['backBuffer']=new gt({'name':'WebglFrame'+'buffer','graphicsDevice':this,'depth':this['initOption'+'s']['depth'],'stencil':this['supportsSt'+'encil'],'samples':this['samples']}),this['backBuffer']['impl']['suppliedCo'+'lorFramebu'+'ffer']=_0x9bc349;}['updateBack'+'bufferForm'+'at'](_0x2a2a12){const _0x23647e=this['gl'];_0x23647e['bindFrameb'+'uffer'](_0x23647e['FRAMEBUFFE'+'R'],_0x2a2a12);const _0x2ebec0=this['gl']['getParamet'+'er'](this['gl']['ALPHA_BITS']);this['backBuffer'+'Format']=_0x2ebec0?Ne:Cr;}['updateBack'+'buffer'](){const _0x53ffad=this['canvas']['width']!==this['backBuffer'+'Size']['x']||this['canvas']['height']!==this['backBuffer'+'Size']['y'];(this['_defaultFr'+'amebufferC'+'hanged']||_0x53ffad)&&(this['_defaultFr'+'amebufferC'+'hanged']&&this['updateBack'+'bufferForm'+'at'](this['_defaultFr'+'amebuffer']),this['_defaultFr'+'amebufferC'+'hanged']=!(-0x1*-0x26fb+0xe*0x7a+-0x2da6),this['backBuffer'+'Size']['set'](this['canvas']['width'],this['canvas']['height']),this['backBuffer']['destroy'](),this['createBack'+'buffer'](this['_defaultFr'+'amebuffer']));}['createVert'+'exBufferIm'+'pl'](_0xb8d142,_0xe744b0){return new XT();}['createInde'+'xBufferImp'+'l'](_0x220325){return new qT(_0x220325);}['createShad'+'erImpl'](_0x276845){return new JT(_0x276845);}['createText'+'ureImpl'](_0x16afa9){return new ew(_0x16afa9);}['createRend'+'erTargetIm'+'pl'](_0x269ea2){return new sw();}['pushMarker'](_0x29e0d8){if(Ae['browser']&&window['spector']){const _0x5cbad5=Q['toString']();window['spector']['setMarker'](_0x5cbad5+'\x20#');}}['popMarker'](){if(Ae['browser']&&window['spector']){const _0x5a0bd0=Q['toString']();_0x5a0bd0['length']?window['spector']['setMarker'](_0x5a0bd0+'\x20#'):window['spector']['clearMarke'+'r']();}}['getPrecisi'+'on'](){const _0x419c3e=this['gl'];let _0x4d7b7b='highp';if(_0x419c3e['getShaderP'+'recisionFo'+'rmat']){const _0x2a5b0a=_0x419c3e['getShaderP'+'recisionFo'+'rmat'](_0x419c3e['VERTEX_SHA'+'DER'],_0x419c3e['HIGH_FLOAT']),_0xb7d819=_0x419c3e['getShaderP'+'recisionFo'+'rmat'](_0x419c3e['VERTEX_SHA'+'DER'],_0x419c3e['MEDIUM_FLO'+'AT']),_0x384924=_0x419c3e['getShaderP'+'recisionFo'+'rmat'](_0x419c3e['FRAGMENT_S'+'HADER'],_0x419c3e['HIGH_FLOAT']),_0x1f5bd4=_0x419c3e['getShaderP'+'recisionFo'+'rmat'](_0x419c3e['FRAGMENT_S'+'HADER'],_0x419c3e['MEDIUM_FLO'+'AT']);if(_0x2a5b0a&&_0xb7d819&&_0x384924&&_0x1f5bd4){const _0x1fa178=_0x2a5b0a['precision']>-0x1481+-0x14ee+-0x1*-0x296f&&_0x384924['precision']>0x2*0x1319+-0x44*-0x2f+-0x2*0x1957,_0x40377e=_0xb7d819['precision']>-0x1b1c+-0x311*0x5+0x29*0x109&&_0x1f5bd4['precision']>0x1f01*-0x1+-0x847+0x6*0x68c;_0x1fa178||(_0x40377e?(_0x4d7b7b='mediump',w['warn']('WARNING:\x20h'+'ighp\x20not\x20s'+'upported,\x20'+'using\x20medi'+'ump')):(_0x4d7b7b='lowp',w['warn']('WARNING:\x20h'+'ighp\x20and\x20m'+'ediump\x20not'+'\x20supported'+',\x20using\x20lo'+'wp')));}}return _0x4d7b7b;}['getExtensi'+'on'](){for(let _0xf50c4f=0x16de+0x13a8+-0x2a86;_0xf50c4f<arguments['length'];_0xf50c4f++)if(this['supportedE'+'xtensions']['indexOf'](arguments[_0xf50c4f])!==-(-0x2355+-0x19b4+0x2*0x1e85))return this['gl']['getExtensi'+'on'](arguments[_0xf50c4f]);return null;}get['extDisjoin'+'tTimerQuer'+'y'](){return this['_extDisjoi'+'ntTimerQue'+'ry']||(this['_extDisjoi'+'ntTimerQue'+'ry']=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery')),this['_extDisjoi'+'ntTimerQue'+'ry'];}['initialize'+'Extensions'](){const _0x4a7934=this['gl'];this['supportedE'+'xtensions']=_0x4a7934['getSupport'+'edExtensio'+'ns']()??[],this['_extDisjoi'+'ntTimerQue'+'ry']=null,this['textureRG1'+'1B10Render'+'able']=!(-0x24cd+0xc39+0x2c*0x8f),this['extColorBu'+'fferFloat']=this['getExtensi'+'on']('EXT_color_'+'buffer_flo'+'at'),this['textureFlo'+'atRenderab'+'le']=!!this['extColorBu'+'fferFloat'],this['extColorBu'+'fferHalfFl'+'oat']=this['getExtensi'+'on']('EXT_color_'+'buffer_hal'+'f_float'),this['textureHal'+'fFloatRend'+'erable']=!!this['extColorBu'+'fferHalfFl'+'oat']||!!this['extColorBu'+'fferFloat'],this['extDebugRe'+'ndererInfo']=this['getExtensi'+'on']('WEBGL_debu'+'g_renderer'+'_info'),this['extTexture'+'FloatLinea'+'r']=this['getExtensi'+'on']('OES_textur'+'e_float_li'+'near'),this['textureFlo'+'atFilterab'+'le']=!!this['extTexture'+'FloatLinea'+'r'],this['extFloatBl'+'end']=this['getExtensi'+'on']('EXT_float_'+'blend'),this['extTexture'+'FilterAnis'+'otropic']=this['getExtensi'+'on']('EXT_textur'+'e_filter_a'+'nisotropic','WEBKIT_EXT'+'_texture_f'+'ilter_anis'+'otropic'),this['extParalle'+'lShaderCom'+'pile']=this['getExtensi'+'on']('KHR_parall'+'el_shader_'+'compile'),this['extCompres'+'sedTexture'+'ETC1']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc1'),this['extCompres'+'sedTexture'+'ETC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc'),this['extCompres'+'sedTexture'+'PVRTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_pvrtc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_pvrtc'),this['extCompres'+'sedTexture'+'S3TC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_s3tc'),this['extCompres'+'sedTexture'+'S3TC_SRGB']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc_'+'srgb'),this['extCompres'+'sedTexture'+'ATC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_atc'),this['extCompres'+'sedTexture'+'ASTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_astc'),this['extTexture'+'Compressio'+'nBPTC']=this['getExtensi'+'on']('EXT_textur'+'e_compress'+'ion_bptc');}['initialize'+'Capabiliti'+'es'](){const _0x2d6266=this['gl'];let _0x417bea;const _0x3adf14=typeof navigator<'u'?navigator['userAgent']:'';this['maxPrecisi'+'on']=this['precision']=this['getPrecisi'+'on']();const _0x1ec33a=_0x2d6266['getContext'+'Attributes']();this['supportsMs'+'aa']=(_0x1ec33a==null?void(-0xf06+-0x1a3*0x1+-0x10a9*-0x1):_0x1ec33a['antialias'])??!(-0x122b*-0x2+-0x46*0x86+-0x4f*-0x1),this['supportsSt'+'encil']=(_0x1ec33a==null?void(0xb2*0x37+-0x126*0x7+-0x1e34*0x1):_0x1ec33a['stencil'])??!(0x2*-0x5a1+0x19ed*0x1+-0xeaa),this['maxTexture'+'Size']=_0x2d6266['getParamet'+'er'](_0x2d6266['MAX_TEXTUR'+'E_SIZE']),this['maxCubeMap'+'Size']=_0x2d6266['getParamet'+'er'](_0x2d6266['MAX_CUBE_M'+'AP_TEXTURE'+'_SIZE']),this['maxRenderB'+'ufferSize']=_0x2d6266['getParamet'+'er'](_0x2d6266['MAX_RENDER'+'BUFFER_SIZ'+'E']),this['maxTexture'+'s']=_0x2d6266['getParamet'+'er'](_0x2d6266['MAX_TEXTUR'+'E_IMAGE_UN'+'ITS']),this['maxCombine'+'dTextures']=_0x2d6266['getParamet'+'er'](_0x2d6266['MAX_COMBIN'+'ED_TEXTURE'+'_IMAGE_UNI'+'TS']),this['maxVertexT'+'extures']=_0x2d6266['getParamet'+'er'](_0x2d6266['MAX_VERTEX'+'_TEXTURE_I'+'MAGE_UNITS']),this['vertexUnif'+'ormsCount']=_0x2d6266['getParamet'+'er'](_0x2d6266['MAX_VERTEX'+'_UNIFORM_V'+'ECTORS']),this['fragmentUn'+'iformsCoun'+'t']=_0x2d6266['getParamet'+'er'](_0x2d6266['MAX_FRAGME'+'NT_UNIFORM'+'_VECTORS']),this['maxColorAt'+'tachments']=_0x2d6266['getParamet'+'er'](_0x2d6266['MAX_COLOR_'+'ATTACHMENT'+'S']),this['maxVolumeS'+'ize']=_0x2d6266['getParamet'+'er'](_0x2d6266['MAX_3D_TEX'+'TURE_SIZE']),_0x417bea=this['extDebugRe'+'ndererInfo'],this['unmaskedRe'+'nderer']=_0x417bea?_0x2d6266['getParamet'+'er'](_0x417bea['UNMASKED_R'+'ENDERER_WE'+'BGL']):'',this['unmaskedVe'+'ndor']=_0x417bea?_0x2d6266['getParamet'+'er'](_0x417bea['UNMASKED_V'+'ENDOR_WEBG'+'L']):'';const _0x4bbba7=/\bMali-G52+/,_0x532b38=/SM-[a-zA-Z0-9]+/;this['supportsGp'+'uParticles']=!(this['unmaskedVe'+'ndor']==='ARM'&&_0x3adf14['match'](_0x532b38))&&!this['unmaskedRe'+'nderer']['match'](_0x4bbba7),_0x417bea=this['extTexture'+'FilterAnis'+'otropic'],this['maxAnisotr'+'opy']=_0x417bea?_0x2d6266['getParamet'+'er'](_0x417bea['MAX_TEXTUR'+'E_MAX_ANIS'+'OTROPY_EXT']):0x1*0x182f+-0xba*-0x21+-0x3028;const _0x4ee5ea=!this['forceDisab'+'leMultisam'+'pling'];this['maxSamples']=_0x4ee5ea?_0x2d6266['getParamet'+'er'](_0x2d6266['MAX_SAMPLE'+'S']):-0xe0a*-0x1+0x884+-0x168d*0x1,this['maxSamples']=Math['min'](this['maxSamples'],0xab+0x8c5*-0x1+0x81e),this['samples']=_0x4ee5ea&&this['backBuffer'+'Antialias']?this['maxSamples']:-0x1f9a+0x24f+-0x14*-0x177,this['supportsAr'+'eaLights']=!Ae['android'],this['maxTexture'+'s']<=0x4f8+-0xcf5+0x805&&(this['supportsAr'+'eaLights']=!(-0x13*0x4b+-0x1*-0xd47+-0x7b5*0x1)),this['initCapsDe'+'fines']();}['initialize'+'RenderStat'+'e'](){super['initialize'+'RenderStat'+'e']();const _0x161213=this['gl'];_0x161213['disable'](_0x161213['BLEND']),_0x161213['blendFunc'](_0x161213['ONE'],_0x161213['ZERO']),_0x161213['blendEquat'+'ion'](_0x161213['FUNC_ADD']),_0x161213['colorMask'](!(-0x2e*-0x4c+-0x2*-0x952+0x9c*-0x35),!(-0x13b*-0x7+0x605*0x2+-0x1*0x14a7),!(-0x1b1e+-0x1e7*-0x11+0xbf*-0x7),!(-0x3c6*-0x2+0x978+0x882*-0x2)),_0x161213['blendColor'](0xf9e+-0x12f+-0xe6f*0x1,0x23a+0xb68+0xa*-0x15d,0x1c13*-0x1+0x7*-0x2d5+0x2fe6,-0x17*0xce+-0x1908+0x2b8a),_0x161213['enable'](_0x161213['CULL_FACE']),this['cullFace']=_0x161213['BACK'],_0x161213['cullFace'](_0x161213['BACK']),_0x161213['enable'](_0x161213['DEPTH_TEST']),_0x161213['depthFunc'](_0x161213['LEQUAL']),_0x161213['depthMask'](!(-0x1*0x743+-0x45f*-0x8+-0x1bb5)),this['stencil']=!(-0x890+-0x1a16+0xb8d*0x3),_0x161213['disable'](_0x161213['STENCIL_TE'+'ST']),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=Wi,this['stencilRef'+'Front']=this['stencilRef'+'Back']=-0x1913+-0x1*0x1582+0x2e95,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=0x1*-0x1a35+-0x2469+-0x3f9d*-0x1,_0x161213['stencilFun'+'c'](_0x161213['ALWAYS'],0x5*0xbf+0x88*0x47+-0x2973,-0x234a+0xbf1+0x1858),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=xn,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=xn,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=xn,this['stencilWri'+'teMaskFron'+'t']=-0x1699+-0x1a74+0x2*0x1906,this['stencilWri'+'teMaskBack']=-0x10d9+-0x11b4+0x238c,_0x161213['stencilOp'](_0x161213['KEEP'],_0x161213['KEEP'],_0x161213['KEEP']),_0x161213['stencilMas'+'k'](-0x3*0xa57+0x825+0x17df),this['alphaToCov'+'erage']=!(0x17*0xc9+0x95*-0xf+0x953*-0x1),this['raster']=!(-0xa65*-0x3+0x2*-0x525+-0x1*0x14e5),_0x161213['disable'](_0x161213['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']),_0x161213['disable'](_0x161213['RASTERIZER'+'_DISCARD']),this['depthBiasE'+'nabled']=!(0x1b8*-0x8+-0x1379*0x1+0x213a),_0x161213['disable'](_0x161213['POLYGON_OF'+'FSET_FILL']),this['clearDepth']=0x2*-0x1236+0x2b4*0xc+0x3fd,_0x161213['clearDepth'](0x4*0x257+0x2*0xace+-0x1ef7),this['clearColor']=new ie(0x2*-0x5f7+-0x1*0x14f3+0x1bb*0x13,0x1*-0xe1+0xe2f+-0xd4e,0x1*0x4cd+-0x139c+-0x1*-0xecf,0x1*-0x2159+-0x14b+0x22a4),_0x161213['clearColor'](-0x21c7+-0x1*-0x211+0x1fb6,-0xc9*0x2a+0x160d+-0x1*-0xaed,-0xef9+-0xf*0x67+0x2*0xa81,-0x432+0x1315+-0xee3),this['clearStenc'+'il']=-0x2191+0x2*-0x1325+0x47db,_0x161213['clearStenc'+'il'](0x3fd+-0x23fd+-0x40*-0x80),_0x161213['hint'](_0x161213['FRAGMENT_S'+'HADER_DERI'+'VATIVE_HIN'+'T'],_0x161213['NICEST']),_0x161213['enable'](_0x161213['SCISSOR_TE'+'ST']),_0x161213['pixelStore'+'i'](_0x161213['UNPACK_COL'+'ORSPACE_CO'+'NVERSION_W'+'EBGL'],_0x161213['NONE']),this['unpackFlip'+'Y']=!(0x201*0x3+-0x7f*0x2b+0xf53*0x1),_0x161213['pixelStore'+'i'](_0x161213['UNPACK_FLI'+'P_Y_WEBGL'],!(-0x2415+-0x1*-0x1365+0x10b1)),this['unpackPrem'+'ultiplyAlp'+'ha']=!(-0x19df+0x11ab*0x2+0x2*-0x4bb),_0x161213['pixelStore'+'i'](_0x161213['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],!(0xfad*0x1+-0xd0b*-0x2+-0x29c2)),_0x161213['pixelStore'+'i'](_0x161213['UNPACK_ALI'+'GNMENT'],-0x312+-0x20cb+0x1*0x23de);}['initTextur'+'eUnits'](_0x1bf0fc=0xe5d+-0x2ea*0x5+0x45){this['textureUni'+'ts']=[];for(let _0x370375=0x2607+0x314*-0x1+0x185*-0x17;_0x370375<_0x1bf0fc;_0x370375++)this['textureUni'+'ts']['push']([null,null,null]);}['initialize'+'ContextCac'+'hes'](){super['initialize'+'ContextCac'+'hes'](),this['_vaoMap']=new Map(),this['boundVao']=null,this['activeFram'+'ebuffer']=null,this['feedback']=null,this['transformF'+'eedbackBuf'+'fer']=null,this['textureUni'+'t']=0x2533+-0x8da+-0x1c59,this['initTextur'+'eUnits'](this['maxCombine'+'dTextures']);}['loseContex'+'t'](){super['loseContex'+'t']();for(const _0x3527b0 of this['shaders'])_0x3527b0['loseContex'+'t']();}['restoreCon'+'text'](){this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),super['restoreCon'+'text']();for(const _0x5d9066 of this['shaders'])_0x5d9066['restoreCon'+'text']();}['setViewpor'+'t'](_0x7144f,_0x2b28d2,_0x4c7107,_0x380491){(this['vx']!==_0x7144f||this['vy']!==_0x2b28d2||this['vw']!==_0x4c7107||this['vh']!==_0x380491)&&(this['gl']['viewport'](_0x7144f,_0x2b28d2,_0x4c7107,_0x380491),this['vx']=_0x7144f,this['vy']=_0x2b28d2,this['vw']=_0x4c7107,this['vh']=_0x380491);}['setScissor'](_0x5a59ae,_0xa9357f,_0xa5b82f,_0x5e208e){(this['sx']!==_0x5a59ae||this['sy']!==_0xa9357f||this['sw']!==_0xa5b82f||this['sh']!==_0x5e208e)&&(this['gl']['scissor'](_0x5a59ae,_0xa9357f,_0xa5b82f,_0x5e208e),this['sx']=_0x5a59ae,this['sy']=_0xa9357f,this['sw']=_0xa5b82f,this['sh']=_0x5e208e);}['setFramebu'+'ffer'](_0x528b2d){if(this['activeFram'+'ebuffer']!==_0x528b2d){const _0x1234d8=this['gl'];_0x1234d8['bindFrameb'+'uffer'](_0x1234d8['FRAMEBUFFE'+'R'],_0x528b2d),this['activeFram'+'ebuffer']=_0x528b2d;}}['copyRender'+'Target'](_0x41ffe8,_0x242a88,_0x124349,_0x5b0e49){var _0x3f2efe,_0x256a87;const _0x1a0716=this['gl'];if(_0x41ffe8===this['backBuffer']&&(_0x41ffe8=null),_0x124349){if(_0x242a88){if(_0x41ffe8){if(!_0x41ffe8['_colorBuff'+'er']||!_0x242a88['_colorBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20color\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0x838*-0x4+0x546+-0x1b9b*-0x1);if(_0x41ffe8['_colorBuff'+'er']['_format']!==_0x242a88['_colorBuff'+'er']['_format'])return w['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20c'+'olor\x20forma'+'ts'),!(-0x1e3c+0xfb*0x1+-0xd6*-0x23);}}else{if(!_0x41ffe8['_colorBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20empty\x20col'+'or\x20buffer\x20'+'to\x20backbuf'+'fer'),!(0x355+0x5*-0x6cd+0x1ead*0x1);}}if(_0x5b0e49&&_0x41ffe8&&!_0x41ffe8['_depth']){if(!_0x41ffe8['_depthBuff'+'er']||!_0x242a88['_depthBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20depth\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(-0x736+-0xc9a+0x69b*0x3);if(_0x41ffe8['_depthBuff'+'er']['_format']!==_0x242a88['_depthBuff'+'er']['_format'])return w['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20d'+'epth\x20forma'+'ts'),!(0x86d+0x96b+-0x11d7);}Q['pushGpuMar'+'ker'](this,'COPY-RT');const _0x2da32e=this['renderTarg'+'et'];this['renderTarg'+'et']=_0x242a88,this['updateBegi'+'n']();const _0x50e160=_0x41ffe8?_0x41ffe8['impl']['_glFrameBu'+'ffer']:(_0x3f2efe=this['backBuffer'])==null?void(0x1*0xe03+0xb36*-0x1+-0x2cd):_0x3f2efe['impl']['_glFrameBu'+'ffer'],_0x511919=_0x242a88?_0x242a88['impl']['_glFrameBu'+'ffer']:(_0x256a87=this['backBuffer'])==null?void(-0x255d*0x1+0x1dca+0x793):_0x256a87['impl']['_glFrameBu'+'ffer'];w['assert'](_0x50e160!==_0x511919,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x1a0716['bindFrameb'+'uffer'](_0x1a0716['READ_FRAME'+'BUFFER'],_0x50e160),_0x1a0716['bindFrameb'+'uffer'](_0x1a0716['DRAW_FRAME'+'BUFFER'],_0x511919);const _0x4034d5=_0x41ffe8?_0x41ffe8['width']:_0x242a88?_0x242a88['width']:this['width'],_0xe280b6=_0x41ffe8?_0x41ffe8['height']:_0x242a88?_0x242a88['height']:this['height'];return _0x1a0716['blitFrameb'+'uffer'](-0x3*-0x8ab+-0x2*-0x5c9+0x2593*-0x1,0x19e4+-0x1*0x2611+-0x40f*-0x3,_0x4034d5,_0xe280b6,0xc8+0x731+-0x1*0x7f9,-0xd*-0xb+0x1be8+-0x1c77,_0x4034d5,_0xe280b6,(_0x124349?_0x1a0716['COLOR_BUFF'+'ER_BIT']:0xead+0x13f6+-0x22a3)|(_0x5b0e49?_0x1a0716['DEPTH_BUFF'+'ER_BIT']:-0x789*0x2+0x1*-0xe32+0x1d44*0x1),_0x1a0716['NEAREST']),this['renderTarg'+'et']=_0x2da32e,_0x1a0716['bindFrameb'+'uffer'](_0x1a0716['FRAMEBUFFE'+'R'],_0x2da32e?_0x2da32e['impl']['_glFrameBu'+'ffer']:null),Q['popGpuMark'+'er'](this),!(-0x232+-0x16df+0x1*0x1911);}['frameStart'](){super['frameStart'](),this['updateBack'+'buffer'](),this['gpuProfile'+'r']['frameStart']();}['frameEnd'](){super['frameEnd'](),this['gpuProfile'+'r']['frameEnd'](),this['gpuProfile'+'r']['request']();}['startRende'+'rPass'](_0x2cf9f9){const _0x48a34e=_0x2cf9f9['renderTarg'+'et']??this['backBuffer'];this['renderTarg'+'et']=_0x48a34e,w['assert'](_0x48a34e),Q['pushGpuMar'+'ker'](this,'Pass:'+_0x2cf9f9['name']+'\x20RT:'+_0x48a34e['name']),Q['pushGpuMar'+'ker'](this,'START-PASS'),this['updateBegi'+'n']();const {width:_0xdf81cf,height:_0x21d7a7}=_0x48a34e;this['setViewpor'+'t'](0x4*-0x6b6+-0x1*0x18fe+0x33d6,0x2217+0x1*0x1e39+-0x2a*0x188,_0xdf81cf,_0x21d7a7),this['setScissor'](-0x1d69*0x1+-0x654+0x23bd,0x11*0xd+-0x1485+0x13a8,_0xdf81cf,_0x21d7a7);const _0x62d363=_0x2cf9f9['colorOps'],_0x4dbe02=_0x2cf9f9['depthStenc'+'ilOps'];if(_0x62d363!=null&&_0x62d363['clear']||_0x4dbe02['clearDepth']||_0x4dbe02['clearStenc'+'il']){let _0x40b1f5=-0x474*0x5+0x2161*0x1+-0xb1d;const _0x41d87d={};_0x62d363!=null&&_0x62d363['clear']&&(_0x40b1f5|=jo,_0x41d87d['color']=[_0x62d363['clearValue']['r'],_0x62d363['clearValue']['g'],_0x62d363['clearValue']['b'],_0x62d363['clearValue']['a']]),_0x4dbe02['clearDepth']&&(_0x40b1f5|=Yo,_0x41d87d['depth']=_0x4dbe02['clearDepth'+'Value']),_0x4dbe02['clearStenc'+'il']&&(_0x40b1f5|=ch,_0x41d87d['stencil']=_0x4dbe02['clearStenc'+'ilValue']),_0x41d87d['flags']=_0x40b1f5,this['clear'](_0x41d87d);}w['call'](()=>{this['insideRend'+'erPass']&&w['errorOnce']('RenderPass'+'\x20cannot\x20be'+'\x20started\x20w'+'hile\x20insid'+'e\x20another\x20'+'render\x20pas'+'s.');}),this['insideRend'+'erPass']=!(-0x1932+0x223*0x11+-0xb21),Q['popGpuMark'+'er'](this);}['endRenderP'+'ass'](_0x16a8b2){var _0x551f39;Q['pushGpuMar'+'ker'](this,'END-PASS'),this['unbindVert'+'exArray']();const _0x45beb3=this['renderTarg'+'et'],_0x5b8d90=_0x16a8b2['colorArray'+'Ops']['length'];if(_0x45beb3){Da['length']=-0x1ac3+0x3*-0xaae+0x3acd;const _0x210b46=this['gl'];for(let _0x5583fb=-0x65+-0x1446+-0x14ab*-0x1;_0x5583fb<_0x5b8d90;_0x5583fb++){const _0xa50de6=_0x16a8b2['colorArray'+'Ops'][_0x5583fb];_0xa50de6['store']||_0xa50de6['resolve']||Da['push'](_0x210b46['COLOR_ATTA'+'CHMENT0']+_0x5583fb);}_0x45beb3!==this['backBuffer']&&(_0x16a8b2['depthStenc'+'ilOps']['storeDepth']||Da['push'](_0x210b46['DEPTH_ATTA'+'CHMENT']),_0x16a8b2['depthStenc'+'ilOps']['storeStenc'+'il']||Da['push'](_0x210b46['STENCIL_AT'+'TACHMENT'])),Da['length']>-0x5ed*-0x6+-0x1993+-0x9fb&&_0x16a8b2['fullSizeCl'+'earRect']&&_0x210b46['invalidate'+'Framebuffe'+'r'](_0x210b46['DRAW_FRAME'+'BUFFER'],Da),_0x5b8d90&&((_0x551f39=_0x16a8b2['colorOps'])!=null&&_0x551f39['resolve'])&&_0x16a8b2['samples']>0x67*-0xa+-0x2*-0x311+-0x21b*0x1&&_0x45beb3['autoResolv'+'e']&&_0x45beb3['resolve'](!(0xa*-0x5c+0x1d0e*0x1+-0x1976),!(-0x669*-0x1+-0xfa3+0x93b*0x1)),_0x45beb3['depthBuffe'+'r']&&_0x16a8b2['depthStenc'+'ilOps']['resolveDep'+'th']&&_0x16a8b2['samples']>-0x6b7*0x4+0x1cd*0x11+-0x3c0*0x1&&_0x45beb3['autoResolv'+'e']&&_0x45beb3['resolve'](!(-0x1a60+0x22d9+-0x878),!(-0x1*0x3+-0x713*0x3+0x153c));for(let _0x3a65f0=-0x1fd9+-0x337*0x1+0x2310;_0x3a65f0<_0x5b8d90;_0x3a65f0++)if(_0x16a8b2['colorArray'+'Ops'][_0x3a65f0]['genMipmaps']){const _0xd7f68=_0x45beb3['_colorBuff'+'ers'][_0x3a65f0];_0xd7f68&&_0xd7f68['impl']['_glTexture']&&_0xd7f68['mipmaps']&&(Q['pushGpuMar'+'ker'](this,'MIPS'+_0x3a65f0),this['activeText'+'ure'](this['maxCombine'+'dTextures']-(0x249a+0x1709*-0x1+-0xd90)),this['bindTextur'+'e'](_0xd7f68),this['gl']['generateMi'+'pmap'](_0xd7f68['impl']['_glTarget']),Q['popGpuMark'+'er'](this));}}this['insideRend'+'erPass']=!(-0xb5*0x29+0x124f*0x2+-0x4*0x1e8),Q['popGpuMark'+'er'](this),Q['popGpuMark'+'er'](this);}set['defaultFra'+'mebuffer'](_0x4f0885){this['_defaultFr'+'amebuffer']!==_0x4f0885&&(this['_defaultFr'+'amebuffer']=_0x4f0885,this['_defaultFr'+'amebufferC'+'hanged']=!(0x1449+-0xd39*-0x2+-0x2ebb));}get['defaultFra'+'mebuffer'](){return this['_defaultFr'+'amebuffer'];}['updateBegi'+'n'](){if(Q['pushGpuMar'+'ker'](this,'UPDATE-BEG'+'IN'),this['boundVao']=null,this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']){for(let _0x127f09=-0x2371+-0x2131*0x1+0x6dd*0xa;_0x127f09<this['textureUni'+'ts']['length'];++_0x127f09)for(let _0x334d71=-0xfdd+0x2*0xb5+0xe73;_0x334d71<-0xe83+-0x5a0*-0x4+-0x7fa;++_0x334d71)this['textureUni'+'ts'][_0x127f09][_0x334d71]=null;}const _0x4533e9=this['renderTarg'+'et']??this['backBuffer'];w['assert'](_0x4533e9);const _0x432249=_0x4533e9['impl'];_0x432249['initialize'+'d']||this['initRender'+'Target'](_0x4533e9),this['setFramebu'+'ffer'](_0x432249['_glFrameBu'+'ffer']),Q['popGpuMark'+'er'](this);}['updateEnd'](){Q['pushGpuMar'+'ker'](this,'UPDATE-END'),this['unbindVert'+'exArray']();const _0x43e483=this['renderTarg'+'et'];if(_0x43e483&&_0x43e483!==this['backBuffer']){_0x43e483['_samples']>0x27c+-0x221e+-0x7*-0x485&&_0x43e483['autoResolv'+'e']&&_0x43e483['resolve']();const _0x563667=_0x43e483['_colorBuff'+'er'];_0x563667&&_0x563667['impl']['_glTexture']&&_0x563667['mipmaps']&&(this['activeText'+'ure'](this['maxCombine'+'dTextures']-(0x1631+0x1eb3+-0x34e3*0x1)),this['bindTextur'+'e'](_0x563667),this['gl']['generateMi'+'pmap'](_0x563667['impl']['_glTarget']));}Q['popGpuMark'+'er'](this);}['setUnpackF'+'lipY'](_0x5868bc){if(this['unpackFlip'+'Y']!==_0x5868bc){this['unpackFlip'+'Y']=_0x5868bc;const _0xbeb0d1=this['gl'];_0xbeb0d1['pixelStore'+'i'](_0xbeb0d1['UNPACK_FLI'+'P_Y_WEBGL'],_0x5868bc);}}['setUnpackP'+'remultiply'+'Alpha'](_0x13de39){if(this['unpackPrem'+'ultiplyAlp'+'ha']!==_0x13de39){this['unpackPrem'+'ultiplyAlp'+'ha']=_0x13de39;const _0x27fefe=this['gl'];_0x27fefe['pixelStore'+'i'](_0x27fefe['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],_0x13de39);}}['activeText'+'ure'](_0x1d8d5a){this['textureUni'+'t']!==_0x1d8d5a&&(this['gl']['activeText'+'ure'](this['gl']['TEXTURE0']+_0x1d8d5a),this['textureUni'+'t']=_0x1d8d5a);}['bindTextur'+'e'](_0x3905ac){const _0x32c9a7=_0x3905ac['impl'],_0x4f5988=_0x32c9a7['_glTarget'],_0x302c98=_0x32c9a7['_glTexture'],_0x2b6674=this['textureUni'+'t'],_0x4349a0=this['targetToSl'+'ot'][_0x4f5988];this['textureUni'+'ts'][_0x2b6674][_0x4349a0]!==_0x302c98&&(this['gl']['bindTextur'+'e'](_0x4f5988,_0x302c98),this['textureUni'+'ts'][_0x2b6674][_0x4349a0]=_0x302c98);}['bindTextur'+'eOnUnit'](_0x2442fe,_0x2615e3){const _0x42aeaf=_0x2442fe['impl'],_0x45691b=_0x42aeaf['_glTarget'],_0x4f4d55=_0x42aeaf['_glTexture'],_0xca1456=this['targetToSl'+'ot'][_0x45691b];this['textureUni'+'ts'][_0x2615e3][_0xca1456]!==_0x4f4d55&&(this['activeText'+'ure'](_0x2615e3),this['gl']['bindTextur'+'e'](_0x45691b,_0x4f4d55),this['textureUni'+'ts'][_0x2615e3][_0xca1456]=_0x4f4d55);}['setTexture'+'Parameters'](_0x6eb56f){const _0x7ccfc0=this['gl'],_0x2738a5=_0x6eb56f['impl']['dirtyParam'+'eterFlags'],_0x357c6f=_0x6eb56f['impl']['_glTarget'];if(_0x2738a5&Ay){let _0x47be2f=_0x6eb56f['_minFilter'];(!_0x6eb56f['_mipmaps']||_0x6eb56f['_compresse'+'d']&&_0x6eb56f['_levels']['length']===0x2*-0xcf5+-0x36*0x2b+0x22fd)&&(_0x47be2f===Kh||_0x47be2f===Zh?_0x47be2f=Te:(_0x47be2f===Qh||_0x47be2f===ma)&&(_0x47be2f=vt)),_0x7ccfc0['texParamet'+'eri'](_0x357c6f,_0x7ccfc0['TEXTURE_MI'+'N_FILTER'],this['glFilter'][_0x47be2f]);}if(_0x2738a5&Cy&&_0x7ccfc0['texParamet'+'eri'](_0x357c6f,_0x7ccfc0['TEXTURE_MA'+'G_FILTER'],this['glFilter'][_0x6eb56f['_magFilter']]),_0x2738a5&Py&&_0x7ccfc0['texParamet'+'eri'](_0x357c6f,_0x7ccfc0['TEXTURE_WR'+'AP_S'],this['glAddress'][_0x6eb56f['_addressU']]),_0x2738a5&My&&_0x7ccfc0['texParamet'+'eri'](_0x357c6f,_0x7ccfc0['TEXTURE_WR'+'AP_T'],this['glAddress'][_0x6eb56f['_addressV']]),_0x2738a5&Dy&&_0x7ccfc0['texParamet'+'eri'](_0x357c6f,_0x7ccfc0['TEXTURE_WR'+'AP_R'],this['glAddress'][_0x6eb56f['_addressW']]),_0x2738a5&Iy&&_0x7ccfc0['texParamet'+'eri'](_0x357c6f,_0x7ccfc0['TEXTURE_CO'+'MPARE_MODE'],_0x6eb56f['_compareOn'+'Read']?_0x7ccfc0['COMPARE_RE'+'F_TO_TEXTU'+'RE']:_0x7ccfc0['NONE']),_0x2738a5&Ly&&_0x7ccfc0['texParamet'+'eri'](_0x357c6f,_0x7ccfc0['TEXTURE_CO'+'MPARE_FUNC'],this['glComparis'+'on'][_0x6eb56f['_compareFu'+'nc']]),_0x2738a5&Ry){const _0x4a8cab=this['extTexture'+'FilterAnis'+'otropic'];_0x4a8cab&&_0x7ccfc0['texParamet'+'erf'](_0x357c6f,_0x4a8cab['TEXTURE_MA'+'X_ANISOTRO'+'PY_EXT'],Y['clamp'](Math['round'](_0x6eb56f['_anisotrop'+'y']),0xa9*-0x7+-0xa31+-0x1*-0xed1,this['maxAnisotr'+'opy']));}}['setTexture'](_0xe84225,_0x183c6e){const _0x571bf1=_0xe84225['impl'];_0x571bf1['_glTexture']||_0x571bf1['initialize'](this,_0xe84225),_0x571bf1['dirtyParam'+'eterFlags']>-0x2*0x6d8+-0x21*-0x119+-0x1689||_0xe84225['_needsUplo'+'ad']||_0xe84225['_needsMipm'+'apsUpload']?(this['activeText'+'ure'](_0x183c6e),this['bindTextur'+'e'](_0xe84225),_0x571bf1['dirtyParam'+'eterFlags']&&(this['setTexture'+'Parameters'](_0xe84225),_0x571bf1['dirtyParam'+'eterFlags']=-0x624*0x4+0xb*0x1+-0x1*-0x1885),(_0xe84225['_needsUplo'+'ad']||_0xe84225['_needsMipm'+'apsUpload'])&&(_0x571bf1['upload'](this,_0xe84225),_0xe84225['_needsUplo'+'ad']=!(-0xc96+0x6b7+0x5e0),_0xe84225['_needsMipm'+'apsUpload']=!(-0x107*0x1d+0xfd4+0xdf8))):this['bindTextur'+'eOnUnit'](_0xe84225,_0x183c6e);}['createVert'+'exArray'](_0x3e7ba2){let _0x4964f9,_0x48f267;const _0x26ca02=_0x3e7ba2['length']>-0xc14+0x2d*0xd+0x9cc;if(_0x26ca02){_0x4964f9='';for(let _0x22bd0f=0xe91+-0x1*0x1cba+0xe29;_0x22bd0f<_0x3e7ba2['length'];_0x22bd0f++){const _0x1e8cca=_0x3e7ba2[_0x22bd0f];_0x4964f9+=_0x1e8cca['id']+_0x1e8cca['format']['renderingH'+'ash'];}_0x48f267=this['_vaoMap']['get'](_0x4964f9);}if(!_0x48f267){const _0x5d081e=this['gl'];_0x48f267=_0x5d081e['createVert'+'exArray'](),_0x5d081e['bindVertex'+'Array'](_0x48f267),_0x5d081e['bindBuffer'](_0x5d081e['ELEMENT_AR'+'RAY_BUFFER'],null);let _0x3debf4=!(0x1*-0x13e7+0x2696+0x2*-0x957);for(let _0x78e04a=-0xca2+-0xf7+-0x3b*-0x3b;_0x78e04a<_0x3e7ba2['length'];_0x78e04a++){const _0x4f5dbb=_0x3e7ba2[_0x78e04a];_0x5d081e['bindBuffer'](_0x5d081e['ARRAY_BUFF'+'ER'],_0x4f5dbb['impl']['bufferId']);const _0x17f247=_0x4f5dbb['format']['elements'];for(let _0x373ca8=-0x24d2+-0x1e13+0x42e5;_0x373ca8<_0x17f247['length'];_0x373ca8++){const _0x382090=_0x17f247[_0x373ca8],_0x56d801=Le[_0x382090['name']];_0x56d801===-0xc87*0x2+-0x1*-0x222b+-0x91d&&(_0x3debf4=!(-0x123b*-0x2+-0x21bc+-0x15d*0x2)),_0x382090['asInt']?_0x5d081e['vertexAttr'+'ibIPointer'](_0x56d801,_0x382090['numCompone'+'nts'],this['glType'][_0x382090['dataType']],_0x382090['stride'],_0x382090['offset']):_0x5d081e['vertexAttr'+'ibPointer'](_0x56d801,_0x382090['numCompone'+'nts'],this['glType'][_0x382090['dataType']],_0x382090['normalize'],_0x382090['stride'],_0x382090['offset']),_0x5d081e['enableVert'+'exAttribAr'+'ray'](_0x56d801),_0x4f5dbb['format']['instancing']&&_0x5d081e['vertexAttr'+'ibDivisor'](_0x56d801,-0x1*0xefc+0x152d+-0x18c*0x4);}}_0x5d081e['bindVertex'+'Array'](null),_0x5d081e['bindBuffer'](_0x5d081e['ARRAY_BUFF'+'ER'],null),_0x26ca02&&this['_vaoMap']['set'](_0x4964f9,_0x48f267),_0x3debf4||w['warn']('No\x20vertex\x20'+'attribute\x20'+'is\x20mapped\x20'+'to\x20locatio'+'n\x200,\x20which'+'\x20might\x20cau'+'se\x20compati'+'bility\x20iss'+'ues\x20on\x20Saf'+'ari\x20on\x20Mac'+'OS\x20-\x20pleas'+'e\x20use\x20attr'+'ibute\x20SEMA'+'NTIC_POSIT'+'ION\x20or\x20SEM'+'ANTIC_ATTR'+'15');}return _0x48f267;}['unbindVert'+'exArray'](){this['boundVao']&&(this['boundVao']=null,this['gl']['bindVertex'+'Array'](null));}['setBuffers'](_0x3dc250){const _0x110c1f=this['gl'];let _0x1c8dbd;if(this['vertexBuff'+'ers']['length']===0x59d+0xf*-0x265+0x1e4f*0x1){const _0xa06903=this['vertexBuff'+'ers'][0x10d*0x6+-0x90a+-0xaf*-0x4];w['assert'](_0xa06903['device']===this,'The\x20Vertex'+'Buffer\x20was'+'\x20not\x20creat'+'ed\x20using\x20c'+'urrent\x20Gra'+'phicsDevic'+'e'),_0xa06903['impl']['vao']||(_0xa06903['impl']['vao']=this['createVert'+'exArray'](this['vertexBuff'+'ers'])),_0x1c8dbd=_0xa06903['impl']['vao'];}else _0x1c8dbd=this['createVert'+'exArray'](this['vertexBuff'+'ers']);this['boundVao']!==_0x1c8dbd&&(this['boundVao']=_0x1c8dbd,_0x110c1f['bindVertex'+'Array'](_0x1c8dbd));const _0x3882f2=_0x3dc250?_0x3dc250['impl']['bufferId']:null;_0x110c1f['bindBuffer'](_0x110c1f['ELEMENT_AR'+'RAY_BUFFER'],_0x3882f2);}['draw'](_0x9b7e1a,_0x41dd03,_0x1e3d66,_0x29cc8b,_0x3ba2a9=!(-0x59f+0x24eb+-0x2*0xfa6),_0x512a84=!(0xfc1*0x2+0x21e2*-0x1+0x260)){const _0x30f217=this['shader'];if(_0x30f217&&(this['activateSh'+'ader'](),this['shaderVali'+'d'])){const _0x222c6b=this['gl'];_0x3ba2a9&&(w['call'](()=>{var _0x462100,_0x1e3f96;return this['validateAt'+'tributes'](this['shader'],(_0x462100=this['vertexBuff'+'ers'][-0x3*0x304+0x2e*0x30+-0x3*-0x24])==null?void(-0x22f9+-0x41a+-0x595*-0x7):_0x462100['format'],(_0x1e3f96=this['vertexBuff'+'ers'][0x1090+-0xc1*-0x29+0x1f*-0x188])==null?void(-0x1ac1*0x1+0x152e+0x1*0x593):_0x1e3f96['format']);}),this['setBuffers'](_0x41dd03));let _0x4bb6f4=-0x9b0+-0x1b97+0x2547;const _0x4a3c0b=_0x30f217['impl']['samplers'];for(let _0x5af8d4=-0x1*-0x17a5+0x423*-0x3+-0xb3c,_0x4acd18=_0x4a3c0b['length'];_0x5af8d4<_0x4acd18;_0x5af8d4++){const _0x70067b=_0x4a3c0b[_0x5af8d4];let _0x4a3445=_0x70067b['scopeId']['value'];if(!_0x4a3445){const _0xf537e=_0x70067b['scopeId']['name'];w['assert'](_0xf537e!=='texture_gr'+'abPass','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27texture'+'_grabPass\x27'+'\x20is\x20not\x20lo'+'nger\x20suppo'+'rted,\x20use\x20'+'\x27uSceneCol'+'orMap\x27\x20ins'+'tead'),w['assert'](_0xf537e!=='uDepthMap','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27uDepthM'+'ap\x27\x20is\x20not'+'\x20longer\x20su'+'pported,\x20u'+'se\x20\x27uScene'+'DepthMap\x27\x20'+'instead'),_0xf537e==='uSceneDept'+'hMap'&&(w['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x4a3445=fa(this,'white')),_0xf537e==='uSceneColo'+'rMap'&&(w['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x4a3445=fa(this,'pink')),_0x4a3445||(w['errorOnce']('Shader\x20'+_0x30f217['name']+'\x20requires\x20'+_0xf537e+('\x20texture\x20w'+'hich\x20was\x20n'+'ot\x20set.\x20Re'+'ndering\x20[')+Q['toString']()+']',_0x30f217),_0x4a3445=fa(this,'pink'));}if(_0x4a3445 instanceof _e){const _0x43411d=_0x4a3445;this['setTexture'](_0x43411d,_0x4bb6f4),this['renderTarg'+'et']&&this['renderTarg'+'et']['_samples']<0xb6*-0x2b+0xc52+0x1242&&(this['renderTarg'+'et']['colorBuffe'+'r']&&this['renderTarg'+'et']['colorBuffe'+'r']===_0x43411d?w['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20color\x20b'+'uffer\x20as\x20a'+'\x20texture',{'renderTarget':this['renderTarg'+'et'],'texture':_0x43411d}):this['renderTarg'+'et']['depthBuffe'+'r']&&this['renderTarg'+'et']['depthBuffe'+'r']===_0x43411d&&w['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20depth\x20b'+'uffer\x20as\x20a'+'\x20texture',{'texture':_0x43411d})),_0x70067b['slot']!==_0x4bb6f4&&(_0x222c6b['uniform1i'](_0x70067b['locationId'],_0x4bb6f4),_0x70067b['slot']=_0x4bb6f4),_0x4bb6f4++;}else{_0x70067b['array']['length']=0x7b5*0x1+0x2513+-0x2cc8;const _0x1c3c57=_0x4a3445['length'];for(let _0x571e1d=0x1*0x26d5+-0xf*-0x1fb+-0x448a;_0x571e1d<_0x1c3c57;_0x571e1d++){const _0xb05c90=_0x4a3445[_0x571e1d];this['setTexture'](_0xb05c90,_0x4bb6f4),_0x70067b['array'][_0x571e1d]=_0x4bb6f4,_0x4bb6f4++;}_0x222c6b['uniform1iv'](_0x70067b['locationId'],_0x70067b['array']);}}const _0x5b14fd=_0x30f217['impl']['uniforms'];for(let _0x320808=-0x1876+0x1274+0x602,_0x40a67b=_0x5b14fd['length'];_0x320808<_0x40a67b;_0x320808++){const _0x312148=_0x5b14fd[_0x320808],_0xf6c714=_0x312148['scopeId'],_0x9aa080=_0x312148['version'],_0x31729b=_0xf6c714['versionObj'+'ect']['version'];if(_0x9aa080['globalId']!==_0x31729b['globalId']||_0x9aa080['revision']!==_0x31729b['revision']){_0x9aa080['globalId']=_0x31729b['globalId'],_0x9aa080['revision']=_0x31729b['revision'];const _0x319c94=_0xf6c714['value'];_0x319c94!=null?this['commitFunc'+'tion'][_0x312148['dataType']](_0x312148,_0x319c94):w['warnOnce']('Shader\x20['+_0x30f217['label']+(']\x20requires'+'\x20uniform\x20[')+_0x312148['scopeId']['name']+(']\x20which\x20ha'+'s\x20not\x20been'+'\x20set,\x20whil'+'e\x20renderin'+'g\x20[')+Q['toString']()+']');}}this['transformF'+'eedbackBuf'+'fer']&&(_0x222c6b['bindBuffer'+'Base'](_0x222c6b['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x1*-0x445+0x1d7*0x11+-0x1b02,this['transformF'+'eedbackBuf'+'fer']['impl']['bufferId']),_0x222c6b['beginTrans'+'formFeedba'+'ck'](_0x222c6b['POINTS']));const _0x32b094=this['glPrimitiv'+'e'][_0x9b7e1a['type']],_0x17882a=_0x9b7e1a['count'];if(_0x9b7e1a['indexed']){w['assert'](_0x41dd03['device']===this,'The\x20IndexB'+'uffer\x20was\x20'+'not\x20create'+'d\x20using\x20cu'+'rrent\x20Grap'+'hicsDevice');const _0x1fec74=_0x41dd03['impl']['glFormat'],_0x469223=_0x9b7e1a['base']*_0x41dd03['bytesPerIn'+'dex'];_0x1e3d66>0x1*0x1d7+-0x102a*-0x1+-0x1a3*0xb?_0x222c6b['drawElemen'+'tsInstance'+'d'](_0x32b094,_0x17882a,_0x1fec74,_0x469223,_0x1e3d66):_0x222c6b['drawElemen'+'ts'](_0x32b094,_0x17882a,_0x1fec74,_0x469223);}else{const _0x3c6663=_0x9b7e1a['base'];_0x1e3d66>0xe9+-0x330*-0x6+-0x1409?_0x222c6b['drawArrays'+'Instanced'](_0x32b094,_0x3c6663,_0x17882a,_0x1e3d66):_0x222c6b['drawArrays'](_0x32b094,_0x3c6663,_0x17882a);}this['transformF'+'eedbackBuf'+'fer']&&(_0x222c6b['endTransfo'+'rmFeedback'](),_0x222c6b['bindBuffer'+'Base'](_0x222c6b['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],-0x12b7+0x586+0xd31,null)),this['_drawCalls'+'PerFrame']++,this['_primsPerF'+'rame'][_0x9b7e1a['type']]+=_0x9b7e1a['count']*(_0x1e3d66>-0x1091*0x1+0x4aa+0xbe8?_0x1e3d66:-0xe64+-0x4f4+-0x3*-0x673);}_0x512a84&&this['clearVerte'+'xBuffer']();}['clear'](_0x40d749){const _0x357ddd=this['defaultCle'+'arOptions'];_0x40d749=_0x40d749||_0x357ddd;const _0x43ab2f=_0x40d749['flags']??_0x357ddd['flags'];if(_0x43ab2f!==0x49*-0xf+-0x1*-0x2236+-0x61*0x4f){const _0x1ab197=this['gl'];if(_0x43ab2f&jo){const _0x594bc6=_0x40d749['color']??_0x357ddd['color'],_0x174215=_0x594bc6[-0x677+0x91e*0x3+-0x1*0x14e3],_0x3af843=_0x594bc6[-0x5f8+0x267b+-0x2082],_0x3a1f3e=_0x594bc6[-0xae9+-0xd88+-0x1873*-0x1],_0x5b144a=_0x594bc6[-0x25b2+0x1188+-0x409*-0x5],_0x4c9a95=this['clearColor'];(_0x174215!==_0x4c9a95['r']||_0x3af843!==_0x4c9a95['g']||_0x3a1f3e!==_0x4c9a95['b']||_0x5b144a!==_0x4c9a95['a'])&&(this['gl']['clearColor'](_0x174215,_0x3af843,_0x3a1f3e,_0x5b144a),this['clearColor']['set'](_0x174215,_0x3af843,_0x3a1f3e,_0x5b144a)),this['setBlendSt'+'ate'](pt['NOBLEND']);}if(_0x43ab2f&Yo){const _0xf11150=_0x40d749['depth']??_0x357ddd['depth'];_0xf11150!==this['clearDepth']&&(this['gl']['clearDepth'](_0xf11150),this['clearDepth']=_0xf11150),this['setDepthSt'+'ate'](Yt['WRITEDEPTH']);}if(_0x43ab2f&ch){const _0x3c1491=_0x40d749['stencil']??_0x357ddd['stencil'];_0x3c1491!==this['clearStenc'+'il']&&(this['gl']['clearStenc'+'il'](_0x3c1491),this['clearStenc'+'il']=_0x3c1491),_0x1ab197['stencilMas'+'k'](-0x1cfd+-0x451+0x224d*0x1),this['stencilWri'+'teMaskFron'+'t']=-0x1af*0x17+-0x1*0x62e+-0x1*-0x2de6,this['stencilWri'+'teMaskBack']=0x3*-0x37d+-0xaed*-0x1+0x89*0x1;}_0x1ab197['clear'](this['glClearFla'+'g'][_0x43ab2f]);}}['submit'](){this['gl']['flush']();}['readPixels'](_0xfc330a,_0x1cbd6b,_0x3351dd,_0x9586e7,_0x7ddbe){const _0x3db11a=this['gl'];_0x3db11a['readPixels'](_0xfc330a,_0x1cbd6b,_0x3351dd,_0x9586e7,_0x3db11a['RGBA'],_0x3db11a['UNSIGNED_B'+'YTE'],_0x7ddbe);}['clientWait'+'Async'](_0x5dd570,_0x3cb340){const _0x4b2d94=this['gl'],_0x1848ce=_0x4b2d94['fenceSync'](_0x4b2d94['SYNC_GPU_C'+'OMMANDS_CO'+'MPLETE'],-0x1a9b+-0x219e+-0x1413*-0x3);return this['submit'](),new Promise((_0xfe74c7,_0x318b4b)=>{function _0x94e60d(){const _0x38363d=_0x4b2d94['clientWait'+'Sync'](_0x1848ce,_0x5dd570,0x1*0x1b83+-0x1*0x7a+0x301*-0x9);_0x38363d===_0x4b2d94['TIMEOUT_EX'+'PIRED']?setTimeout(_0x94e60d,_0x3cb340):(_0x4b2d94['deleteSync'](_0x1848ce),_0x38363d===_0x4b2d94['WAIT_FAILE'+'D']?_0x318b4b(new Error('webgl\x20clie'+'ntWaitSync'+'\x20sync\x20fail'+'ed')):_0xfe74c7());}_0x94e60d();});}async['readPixels'+'Async'](_0x568aa1,_0x4aebc9,_0x8ee581,_0x71fab9,_0x16abd9){var _0x378cdf;const _0x512984=this['gl'],_0x371220=(_0x378cdf=this['renderTarg'+'et']['colorBuffe'+'r'])==null?void(-0x2581+0xdee+0x1793):_0x378cdf['impl'],_0x2a6f89=(_0x371220==null?void(-0x2534+-0x1ee1+0x4415):_0x371220['_glFormat'])??_0x512984['RGBA'],_0x4227c1=(_0x371220==null?void(0x112*0x7+0x1066+-0x4*0x5f9):_0x371220['_glPixelTy'+'pe'])??_0x512984['UNSIGNED_B'+'YTE'],_0x3332d2=_0x512984['createBuff'+'er']();return _0x512984['bindBuffer'](_0x512984['PIXEL_PACK'+'_BUFFER'],_0x3332d2),_0x512984['bufferData'](_0x512984['PIXEL_PACK'+'_BUFFER'],_0x16abd9['byteLength'],_0x512984['STREAM_REA'+'D']),_0x512984['readPixels'](_0x568aa1,_0x4aebc9,_0x8ee581,_0x71fab9,_0x2a6f89,_0x4227c1,-0x19b5+0xe04+0xbb1),_0x512984['bindBuffer'](_0x512984['PIXEL_PACK'+'_BUFFER'],null),await this['clientWait'+'Async'](-0x2*0x167+0x1965+-0x1697,0x2444+0x22cf+-0x7*0xa25),_0x512984['bindBuffer'](_0x512984['PIXEL_PACK'+'_BUFFER'],_0x3332d2),_0x512984['getBufferS'+'ubData'](_0x512984['PIXEL_PACK'+'_BUFFER'],-0xdf*-0x24+-0x1c1e+-0x5*0xa6,_0x16abd9),_0x512984['bindBuffer'](_0x512984['PIXEL_PACK'+'_BUFFER'],null),_0x512984['deleteBuff'+'er'](_0x3332d2),_0x16abd9;}['readTextur'+'eAsync'](_0x1bcd04,_0x1bfcfc,_0x9f867e,_0x3c9416,_0x1437ee,_0x93520e){const _0x95ba6b=_0x93520e['face']??0x960*-0x2+0x1340+0x1*-0x80,_0x17387f=_0x93520e['renderTarg'+'et']??new gt({'colorBuffer':_0x1bcd04,'depth':!(0x20bb+-0xf*-0x20f+-0x3f9b),'face':_0x95ba6b});w['assert'](_0x17387f['colorBuffe'+'r']===_0x1bcd04);const _0x1486e9=new ArrayBuffer(Xi['calcLevelG'+'puSize'](_0x3c9416,_0x1437ee,-0x476*0x3+-0xffa+0x1d5d,_0x1bcd04['_format'])),_0x28b412=_0x93520e['data']??new(my(_0x1bcd04['_format']))(_0x1486e9);return this['setRenderT'+'arget'](_0x17387f),this['initRender'+'Target'](_0x17387f),new Promise((_0x1ee4da,_0xd957e2)=>{this['readPixels'+'Async'](_0x1bfcfc,_0x9f867e,_0x3c9416,_0x1437ee,_0x28b412)['then'](_0x1b26bf=>{_0x93520e['renderTarg'+'et']||_0x17387f['destroy'](),_0x1ee4da(_0x1b26bf);})['catch'](_0xd957e2);});}async['writeTextu'+'reAsync'](_0x5b745f,_0x5c1c71,_0x2c58d4,_0x11d2da,_0x4ad489,_0x199dac){const _0x4ce65f=this['gl'],_0x52d169=_0x5b745f['impl'],_0xb1c0c9=(_0x52d169==null?void(-0x16ae+-0x1*0x427+0x1ad5*0x1):_0x52d169['_glFormat'])??_0x4ce65f['RGBA'],_0x1c4bf0=(_0x52d169==null?void(-0x128+-0x19c9+0x1af1):_0x52d169['_glPixelTy'+'pe'])??_0x4ce65f['UNSIGNED_B'+'YTE'],_0x4b26f3=_0x4ce65f['createBuff'+'er']();_0x4ce65f['bindBuffer'](_0x4ce65f['PIXEL_UNPA'+'CK_BUFFER'],_0x4b26f3),_0x4ce65f['bufferData'](_0x4ce65f['PIXEL_UNPA'+'CK_BUFFER'],_0x199dac,_0x4ce65f['STREAM_DRA'+'W']),_0x4ce65f['bindTextur'+'e'](_0x4ce65f['TEXTURE_2D'],_0x52d169['_glTexture']),_0x4ce65f['texSubImag'+'e2D'](_0x4ce65f['TEXTURE_2D'],-0x202a+-0x25ca+0x25*0x1e4,_0x5c1c71,_0x2c58d4,_0x11d2da,_0x4ad489,_0xb1c0c9,_0x1c4bf0,0x9e*0x3a+0x2ed*-0x9+0x977*-0x1),_0x4ce65f['bindBuffer'](_0x4ce65f['PIXEL_UNPA'+'CK_BUFFER'],null),_0x5b745f['_needsUplo'+'ad']=!(-0x1434+-0x6*-0x361+-0x11),_0x5b745f['_mipmapsUp'+'loaded']=!(0x9*0xca+-0x2361+-0x28*-0xb5),await this['clientWait'+'Async'](-0x1aa8+-0x27b+0x1d23,-0xa06*0x2+-0x19da*-0x1+0x2*-0x2df);}['setAlphaTo'+'Coverage'](_0x3eeb37){this['alphaToCov'+'erage']!==_0x3eeb37&&(this['alphaToCov'+'erage']=_0x3eeb37,_0x3eeb37?this['gl']['enable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']):this['gl']['disable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']));}['setTransfo'+'rmFeedback'+'Buffer'](_0x5c909d){if(this['transformF'+'eedbackBuf'+'fer']!==_0x5c909d){this['transformF'+'eedbackBuf'+'fer']=_0x5c909d;const _0x1c9226=this['gl'];_0x5c909d?(this['feedback']||(this['feedback']=_0x1c9226['createTran'+'sformFeedb'+'ack']()),_0x1c9226['bindTransf'+'ormFeedbac'+'k'](_0x1c9226['TRANSFORM_'+'FEEDBACK'],this['feedback'])):_0x1c9226['bindTransf'+'ormFeedbac'+'k'](_0x1c9226['TRANSFORM_'+'FEEDBACK'],null);}}['setRaster'](_0x19ae82){this['raster']!==_0x19ae82&&(this['raster']=_0x19ae82,_0x19ae82?this['gl']['disable'](this['gl']['RASTERIZER'+'_DISCARD']):this['gl']['enable'](this['gl']['RASTERIZER'+'_DISCARD']));}['setStencil'+'Test'](_0x1fc1bb){if(this['stencil']!==_0x1fc1bb){const _0xd5df27=this['gl'];_0x1fc1bb?_0xd5df27['enable'](_0xd5df27['STENCIL_TE'+'ST']):_0xd5df27['disable'](_0xd5df27['STENCIL_TE'+'ST']),this['stencil']=_0x1fc1bb;}}['setStencil'+'Func'](_0x344599,_0x57c523,_0x4d06ef){(this['stencilFun'+'cFront']!==_0x344599||this['stencilRef'+'Front']!==_0x57c523||this['stencilMas'+'kFront']!==_0x4d06ef||this['stencilFun'+'cBack']!==_0x344599||this['stencilRef'+'Back']!==_0x57c523||this['stencilMas'+'kBack']!==_0x4d06ef)&&(this['gl']['stencilFun'+'c'](this['glComparis'+'on'][_0x344599],_0x57c523,_0x4d06ef),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=_0x344599,this['stencilRef'+'Front']=this['stencilRef'+'Back']=_0x57c523,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=_0x4d06ef);}['setStencil'+'FuncFront'](_0xc2cac7,_0x588886,_0x1550a5){if(this['stencilFun'+'cFront']!==_0xc2cac7||this['stencilRef'+'Front']!==_0x588886||this['stencilMas'+'kFront']!==_0x1550a5){const _0x292fd8=this['gl'];_0x292fd8['stencilFun'+'cSeparate'](_0x292fd8['FRONT'],this['glComparis'+'on'][_0xc2cac7],_0x588886,_0x1550a5),this['stencilFun'+'cFront']=_0xc2cac7,this['stencilRef'+'Front']=_0x588886,this['stencilMas'+'kFront']=_0x1550a5;}}['setStencil'+'FuncBack'](_0x2dbaeb,_0xd5a4d0,_0x4af2a9){if(this['stencilFun'+'cBack']!==_0x2dbaeb||this['stencilRef'+'Back']!==_0xd5a4d0||this['stencilMas'+'kBack']!==_0x4af2a9){const _0x321ca2=this['gl'];_0x321ca2['stencilFun'+'cSeparate'](_0x321ca2['BACK'],this['glComparis'+'on'][_0x2dbaeb],_0xd5a4d0,_0x4af2a9),this['stencilFun'+'cBack']=_0x2dbaeb,this['stencilRef'+'Back']=_0xd5a4d0,this['stencilMas'+'kBack']=_0x4af2a9;}}['setStencil'+'Operation'](_0x12debc,_0x370a4d,_0x168a81,_0xc82fe7){(this['stencilFai'+'lFront']!==_0x12debc||this['stencilZfa'+'ilFront']!==_0x370a4d||this['stencilZpa'+'ssFront']!==_0x168a81||this['stencilFai'+'lBack']!==_0x12debc||this['stencilZfa'+'ilBack']!==_0x370a4d||this['stencilZpa'+'ssBack']!==_0x168a81)&&(this['gl']['stencilOp'](this['glStencilO'+'p'][_0x12debc],this['glStencilO'+'p'][_0x370a4d],this['glStencilO'+'p'][_0x168a81]),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=_0x12debc,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=_0x370a4d,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=_0x168a81),(this['stencilWri'+'teMaskFron'+'t']!==_0xc82fe7||this['stencilWri'+'teMaskBack']!==_0xc82fe7)&&(this['gl']['stencilMas'+'k'](_0xc82fe7),this['stencilWri'+'teMaskFron'+'t']=_0xc82fe7,this['stencilWri'+'teMaskBack']=_0xc82fe7);}['setStencil'+'OperationF'+'ront'](_0xc42a16,_0x3299fc,_0x2d26ab,_0x4192d1){(this['stencilFai'+'lFront']!==_0xc42a16||this['stencilZfa'+'ilFront']!==_0x3299fc||this['stencilZpa'+'ssFront']!==_0x2d26ab)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['FRONT'],this['glStencilO'+'p'][_0xc42a16],this['glStencilO'+'p'][_0x3299fc],this['glStencilO'+'p'][_0x2d26ab]),this['stencilFai'+'lFront']=_0xc42a16,this['stencilZfa'+'ilFront']=_0x3299fc,this['stencilZpa'+'ssFront']=_0x2d26ab),this['stencilWri'+'teMaskFron'+'t']!==_0x4192d1&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['FRONT'],_0x4192d1),this['stencilWri'+'teMaskFron'+'t']=_0x4192d1);}['setStencil'+'OperationB'+'ack'](_0x2c1cde,_0x49373c,_0x26943e,_0xcf1e4e){(this['stencilFai'+'lBack']!==_0x2c1cde||this['stencilZfa'+'ilBack']!==_0x49373c||this['stencilZpa'+'ssBack']!==_0x26943e)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['BACK'],this['glStencilO'+'p'][_0x2c1cde],this['glStencilO'+'p'][_0x49373c],this['glStencilO'+'p'][_0x26943e]),this['stencilFai'+'lBack']=_0x2c1cde,this['stencilZfa'+'ilBack']=_0x49373c,this['stencilZpa'+'ssBack']=_0x26943e),this['stencilWri'+'teMaskBack']!==_0xcf1e4e&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['BACK'],_0xcf1e4e),this['stencilWri'+'teMaskBack']=_0xcf1e4e);}['setBlendSt'+'ate'](_0x13b56f){const _0x3fbecf=this['blendState'];if(!_0x3fbecf['equals'](_0x13b56f)){const _0x25e4e1=this['gl'],{blend:_0x5d370a,colorOp:_0x4d422f,alphaOp:_0x1804d4,colorSrcFactor:_0x19f02a,colorDstFactor:_0x5e5ded,alphaSrcFactor:_0x5478b2,alphaDstFactor:_0x48216c}=_0x13b56f;if(_0x3fbecf['blend']!==_0x5d370a&&(_0x5d370a?_0x25e4e1['enable'](_0x25e4e1['BLEND']):_0x25e4e1['disable'](_0x25e4e1['BLEND'])),_0x3fbecf['colorOp']!==_0x4d422f||_0x3fbecf['alphaOp']!==_0x1804d4){const _0x270657=this['glBlendEqu'+'ation'];_0x25e4e1['blendEquat'+'ionSeparat'+'e'](_0x270657[_0x4d422f],_0x270657[_0x1804d4]);}(_0x3fbecf['colorSrcFa'+'ctor']!==_0x19f02a||_0x3fbecf['colorDstFa'+'ctor']!==_0x5e5ded||_0x3fbecf['alphaSrcFa'+'ctor']!==_0x5478b2||_0x3fbecf['alphaDstFa'+'ctor']!==_0x48216c)&&_0x25e4e1['blendFuncS'+'eparate'](this['glBlendFun'+'ctionColor'][_0x19f02a],this['glBlendFun'+'ctionColor'][_0x5e5ded],this['glBlendFun'+'ctionAlpha'][_0x5478b2],this['glBlendFun'+'ctionAlpha'][_0x48216c]),_0x3fbecf['allWrite']!==_0x13b56f['allWrite']&&this['gl']['colorMask'](_0x13b56f['redWrite'],_0x13b56f['greenWrite'],_0x13b56f['blueWrite'],_0x13b56f['alphaWrite']),_0x3fbecf['copy'](_0x13b56f);}}['setBlendCo'+'lor'](_0x937588,_0x2f2f4e,_0x36fc5a,_0x13f4b5){const _0x1ea3f0=this['blendColor'];(_0x937588!==_0x1ea3f0['r']||_0x2f2f4e!==_0x1ea3f0['g']||_0x36fc5a!==_0x1ea3f0['b']||_0x13f4b5!==_0x1ea3f0['a'])&&(this['gl']['blendColor'](_0x937588,_0x2f2f4e,_0x36fc5a,_0x13f4b5),_0x1ea3f0['set'](_0x937588,_0x2f2f4e,_0x36fc5a,_0x13f4b5));}['setStencil'+'State'](_0x1e0328,_0x1a3036){_0x1e0328||_0x1a3036?(this['setStencil'+'Test'](!(-0xad*-0x26+-0x2b*0x22+-0x13f8)),_0x1e0328===_0x1a3036?(this['setStencil'+'Func'](_0x1e0328['func'],_0x1e0328['ref'],_0x1e0328['readMask']),this['setStencil'+'Operation'](_0x1e0328['fail'],_0x1e0328['zfail'],_0x1e0328['zpass'],_0x1e0328['writeMask'])):(_0x1e0328??(_0x1e0328=pi['DEFAULT']),this['setStencil'+'FuncFront'](_0x1e0328['func'],_0x1e0328['ref'],_0x1e0328['readMask']),this['setStencil'+'OperationF'+'ront'](_0x1e0328['fail'],_0x1e0328['zfail'],_0x1e0328['zpass'],_0x1e0328['writeMask']),_0x1a3036??(_0x1a3036=pi['DEFAULT']),this['setStencil'+'FuncBack'](_0x1a3036['func'],_0x1a3036['ref'],_0x1a3036['readMask']),this['setStencil'+'OperationB'+'ack'](_0x1a3036['fail'],_0x1a3036['zfail'],_0x1a3036['zpass'],_0x1a3036['writeMask']))):this['setStencil'+'Test'](!(0x9eb+0x21d1+0x1*-0x2bbb));}['setDepthSt'+'ate'](_0x10084a){const _0x9b28c4=this['depthState'];if(!_0x9b28c4['equals'](_0x10084a)){const _0x2c7f16=this['gl'],_0x2bf53f=_0x10084a['write'];_0x9b28c4['write']!==_0x2bf53f&&_0x2c7f16['depthMask'](_0x2bf53f);let {func:_0x35f6e2,test:_0x2bbd5d}=_0x10084a;!_0x2bbd5d&&_0x2bf53f&&(_0x2bbd5d=!(0xd2b+-0x3b*-0xa9+-0x341e),_0x35f6e2=Wi),_0x9b28c4['func']!==_0x35f6e2&&_0x2c7f16['depthFunc'](this['glComparis'+'on'][_0x35f6e2]),_0x9b28c4['test']!==_0x2bbd5d&&(_0x2bbd5d?_0x2c7f16['enable'](_0x2c7f16['DEPTH_TEST']):_0x2c7f16['disable'](_0x2c7f16['DEPTH_TEST']));const {depthBias:_0x45b27c,depthBiasSlope:_0x29b3af}=_0x10084a;_0x45b27c||_0x29b3af?(this['depthBiasE'+'nabled']||(this['depthBiasE'+'nabled']=!(0x42c*-0x3+-0x2b*-0x1b+0x7fb),this['gl']['enable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x2c7f16['polygonOff'+'set'](_0x29b3af,_0x45b27c)):this['depthBiasE'+'nabled']&&(this['depthBiasE'+'nabled']=!(0x1*-0x337+0x275*0x8+0x41c*-0x4),this['gl']['disable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x9b28c4['copy'](_0x10084a);}}['setCullMod'+'e'](_0x57cb2f){if(this['cullMode']!==_0x57cb2f){if(_0x57cb2f===bt)this['gl']['disable'](this['gl']['CULL_FACE']);else{this['cullMode']===bt&&this['gl']['enable'](this['gl']['CULL_FACE']);const _0xe3e1f0=this['glCull'][_0x57cb2f];this['cullFace']!==_0xe3e1f0&&(this['gl']['cullFace'](_0xe3e1f0),this['cullFace']=_0xe3e1f0);}this['cullMode']=_0x57cb2f;}}['setShader'](_0x512734,_0x519759=!(-0x19ed*0x1+0xed9+0xb15*0x1)){_0x512734!==this['shader']&&(this['shader']=_0x512734,this['shaderAsyn'+'cCompile']=_0x519759,this['shaderVali'+'d']=void(-0x242*0x7+-0xd6b+0x1d39),this['_shaderSwi'+'tchesPerFr'+'ame']++);}['activateSh'+'ader'](){const {shader:_0x494b11}=this,{impl:_0x3f737c}=_0x494b11;this['shaderVali'+'d']===void(0x2b6*-0x6+-0x1c6e+0x2cb2)&&(_0x494b11['failed']?this['shaderVali'+'d']=!(-0x17a+0x8fc+-0x781):_0x494b11['ready']||(this['shaderAsyn'+'cCompile']?_0x3f737c['isLinked'](this)?_0x3f737c['finalize'](this,_0x494b11)||(_0x494b11['failed']=!(0x1999*0x1+-0x473+0x2*-0xa93),this['shaderVali'+'d']=!(-0x3c9*0x5+0x1aa2*-0x1+0x48*0xa2)):this['shaderVali'+'d']=!(0x42e+0xac*-0x1e+-0xffb*-0x1):_0x3f737c['finalize'](this,_0x494b11)||(_0x494b11['failed']=!(0x3*-0x4ac+0x4*0x773+-0x328*0x5),this['shaderVali'+'d']=!(0x2*-0xa7+0x2a*-0xe0+0x260f)))),this['shaderVali'+'d']===void(-0x977+-0x2063+0x29da)&&(this['gl']['useProgram'](_0x3f737c['glProgram']),this['shaderVali'+'d']=!(-0x1*-0xfc8+0x2f*0x47+-0x1cd1));}['clearVerte'+'xArrayObje'+'ctCache'](){const _0x4b4407=this['gl'];this['_vaoMap']['forEach']((_0x6d1b86,_0xb672c6,_0x106022)=>{_0x4b4407['deleteVert'+'exArray'](_0x6d1b86);}),this['_vaoMap']['clear']();}set['fullscreen'](_0xebad26){_0xebad26?this['gl']['canvas']['requestFul'+'lscreen']():document['exitFullsc'+'reen']();}get['fullscreen'](){return!!document['fullscreen'+'Element'];}['debugLoseC'+'ontext'](_0x1caa34=0x1238+-0x3a6*-0x7+-0x2b5e){const _0x9e30c4=this['gl']['getExtensi'+'on']('WEBGL_lose'+'_context');_0x9e30c4['loseContex'+'t'](),setTimeout(()=>_0x9e30c4['restoreCon'+'text'](),_0x1caa34);}}let nw=-0x1529+0x2159+0x186*-0x8;class br{constructor(_0x30841f,_0x4b1d6b,_0x515b25,_0x12fa71=ms,_0x1e6bd2,_0x4bc9a9){this['device']=_0x30841f,this['format']=_0x4b1d6b,this['numIndices']=_0x515b25,this['usage']=_0x12fa71,this['id']=nw++,this['impl']=_0x30841f['createInde'+'xBufferImp'+'l'](this,_0x4bc9a9);const _0x45818a=hT[_0x4b1d6b];this['bytesPerIn'+'dex']=_0x45818a,this['numBytes']=this['numIndices']*_0x45818a,_0x1e6bd2?this['setData'](_0x1e6bd2):this['storage']=new ArrayBuffer(this['numBytes']),this['adjustVram'+'SizeTracki'+'ng'](_0x30841f['_vram'],this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x56cd79=this['device'],_0x110dcf=_0x56cd79['buffers']['indexOf'](this);_0x110dcf!==-(-0xa*0x212+-0xb*0xef+0x1efa)&&_0x56cd79['buffers']['splice'](_0x110dcf,-0x1*0x75a+-0x1*-0x1f8e+-0x3b*0x69),this['device']['indexBuffe'+'r']===this&&(this['device']['indexBuffe'+'r']=null),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x56cd79),this['adjustVram'+'SizeTracki'+'ng'](_0x56cd79['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x59c189,_0x2aba80){w['trace'](j0,this['id']+'\x20size:\x20'+_0x2aba80+'\x20vram.ib:\x20'+_0x59c189['ib']+'\x20=>\x20'+(_0x59c189['ib']+_0x2aba80)),_0x59c189['ib']+=_0x2aba80;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getNumIndi'+'ces'](){return this['numIndices'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x4050b8){return _0x4050b8['byteLength']!==this['numBytes']?(w['error']('IndexBuffe'+'r:\x20wrong\x20i'+'nitial\x20dat'+'a\x20size:\x20ex'+'pected\x20'+this['numBytes']+',\x20got\x20'+_0x4050b8['byteLength']),!(0x22ea+-0x1c2b+0x6be*-0x1)):(this['storage']=_0x4050b8,this['unlock'](),!(-0x41*-0x11+0x159d+-0x19ee));}['_lockTyped'+'Array'](){const _0x19a775=this['lock']();return this['format']===wr?new Uint32Array(_0x19a775):this['format']===Yi?new Uint16Array(_0x19a775):new Uint8Array(_0x19a775);}['writeData'](_0x555531,_0x525dd2){const _0x3ce3f2=this['_lockTyped'+'Array']();if(_0x555531['length']>_0x525dd2){if(ArrayBuffer['isView'](_0x555531))_0x555531=_0x555531['subarray'](0x1*0x200a+-0x775+0xcb*-0x1f,_0x525dd2),_0x3ce3f2['set'](_0x555531);else{for(let _0x417633=-0x2026+-0xba3+0x2bc9;_0x417633<_0x525dd2;_0x417633++)_0x3ce3f2[_0x417633]=_0x555531[_0x417633];}}else _0x3ce3f2['set'](_0x555531);this['unlock']();}['readData'](_0x9b8e7c){const _0x533080=this['_lockTyped'+'Array'](),_0x553ce1=this['numIndices'];if(ArrayBuffer['isView'](_0x9b8e7c))_0x9b8e7c['set'](_0x533080);else{_0x9b8e7c['length']=-0x1fd0+0xfa5+0x1*0x102b;for(let _0x575644=-0x1ab*0x2+0xac*-0x10+0xe16;_0x575644<_0x553ce1;_0x575644++)_0x9b8e7c[_0x575644]=_0x533080[_0x575644];}return _0x553ce1;}}class ow{constructor(){h(this,'clearValue',new ie(0xd1a+-0x653*0x4+0x2*0x619,-0x2f9*-0x1+-0x65+0x3c*-0xb,0x1367*0x1+-0x897*0x3+0x65e,0x14ca+0x14*0x139+-0x2d3d)),h(this,'clearValue'+'Linear',new ie(0x15e8+0x105f+-0x2647,-0x76*-0x35+0x1*-0x6d9+-0x1195*0x1,0x432+0x11*0xf3+-0x1455,0x10*-0x151+-0x829*-0x2+0x4bf)),h(this,'clear',!(-0x7dd+-0x89a+0x41e*0x4)),h(this,'store',!(0x6dd*-0x3+-0xd52+0x21ea)),h(this,'resolve',!(0x207a+-0xc36+-0x1444)),h(this,'genMipmaps',!(-0x1d5e*0x1+-0x14a*-0x16+0x103));}}class lw{constructor(){h(this,'clearDepth'+'Value',0xa7b+0x6b*-0x25+0x4fd*0x1),h(this,'clearStenc'+'ilValue',-0x184d+-0x1*-0x1519+-0x19a*-0x2),h(this,'clearDepth',!(-0x13*0xb3+0x9*0x25b+-0x7e9*0x1)),h(this,'clearStenc'+'il',!(-0x77*-0xe+-0x524+0x15d*-0x1)),h(this,'storeDepth',!(0x2602+0x1*-0x11c2+-0x143f)),h(this,'resolveDep'+'th',!(-0x9f8+0x2065*0x1+-0x166c)),h(this,'storeStenc'+'il',!(0x5b*-0x31+-0x11c+0x1288));}}class ys{constructor(_0x2f3709){h(this,'_name'),h(this,'device'),h(this,'_enabled',!(0x2*-0x8d2+-0x2585+0x3729)),h(this,'_skipStart',!(-0x49d+0x1eb8+0xd*-0x202)),h(this,'_skipEnd',!(-0xb23*-0x1+0x1a50+-0x2572)),h(this,'executeEna'+'bled',!(0xba1+0x173*0x5+0x8*-0x25c)),h(this,'renderTarg'+'et'),h(this,'_options'),h(this,'samples',-0x1c1c+0x1edc+-0x2c0),h(this,'colorArray'+'Ops',[]),h(this,'depthStenc'+'ilOps'),h(this,'requiresCu'+'bemaps',!(-0x208b+0x227+0x1e64)),h(this,'fullSizeCl'+'earRect',!(-0x9bb*0x1+-0x35e+0x1*0xd19)),h(this,'beforePass'+'es',[]),h(this,'afterPasse'+'s',[]),(w['assert'](_0x2f3709),this['device']=_0x2f3709);}get['colorOps'](){return this['colorArray'+'Ops'][-0x6ab+0x1*0x1631+-0xf86];}set['name'](_0x504a94){this['_name']=_0x504a94;}get['name'](){return this['_name']||(this['_name']=this['constructo'+'r']['name']),this['_name'];}set['scaleX'](_0x571772){w['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleX']=_0x571772;}get['scaleX'](){return this['_options']['scaleX'];}set['scaleY'](_0x58d8a3){w['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleY']=_0x58d8a3;}get['scaleY'](){return this['_options']['scaleY'];}set['options'](_0x24634e){this['_options']=_0x24634e,_0x24634e&&(this['scaleX']=this['scaleX']??0x16*-0x107+0x73+0x2c5*0x8,this['scaleY']=this['scaleY']??-0xe95*-0x2+0x1216+-0xcd*0x3b);}get['options'](){return this['_options'];}['init'](_0x29ba59=null,_0x5d971d){this['options']=_0x5d971d,this['renderTarg'+'et']=_0x29ba59,this['samples']=Math['max'](this['renderTarg'+'et']?this['renderTarg'+'et']['samples']:this['device']['samples'],-0x1232*0x1+0x1b25+-0x8f2),this['allocateAt'+'tachments'](),this['postInit']();}['allocateAt'+'tachments'](){var _0xe37b26,_0x21fedd,_0x407b56,_0x499760;const _0x3bb6a9=this['renderTarg'+'et'];this['depthStenc'+'ilOps']=new lw(),_0x3bb6a9!=null&&_0x3bb6a9['depthBuffe'+'r']&&(this['depthStenc'+'ilOps']['storeDepth']=!(-0x1df*-0x14+-0x38*0xa0+-0x26c));const _0x59ffd4=_0x3bb6a9?((_0xe37b26=_0x3bb6a9['_colorBuff'+'ers'])==null?void(-0x127d*0x1+-0x18bc+-0x8a5*-0x5):_0xe37b26['length'])??0xd*0x61+0x11a0+-0x168d:0x6d2+-0x23bc*0x1+0x1ceb;this['colorArray'+'Ops']['length']=-0x6e*-0x2+-0x1b81+0x1aa5;for(let _0x37d4ec=0x1d6f*0x1+0x15e3*0x1+-0x3352;_0x37d4ec<_0x59ffd4;_0x37d4ec++){const _0x36dbec=new ow();this['colorArray'+'Ops'][_0x37d4ec]=_0x36dbec,this['samples']===-0x303*0x1+0x6*0x1ca+-0x7b8&&(_0x36dbec['store']=!(0x1*-0x204d+0x1ea5+0x1a8),_0x36dbec['resolve']=!(-0x141*-0xd+-0x2247+0x11fb));const _0x58fc3b=(_0x407b56=(_0x21fedd=this['renderTarg'+'et'])==null?void(-0xf78+-0x1f04+-0x64*-0x77):_0x21fedd['_colorBuff'+'ers'])==null?void(0x1*-0x218b+0x2*-0x79f+-0x17*-0x21f):_0x407b56[_0x37d4ec];if((_0x499760=this['renderTarg'+'et'])!=null&&_0x499760['mipmaps']&&(_0x58fc3b!=null&&_0x58fc3b['mipmaps'])){const _0x45e709=dn(_0x58fc3b['_format']);_0x36dbec['genMipmaps']=!_0x45e709;}}}['destroy'](){}['postInit'](){}['frameUpdat'+'e'](){if(this['_options']&&this['renderTarg'+'et']){const _0x2dedc2=this['_options']['resizeSour'+'ce']??this['device']['backBuffer'],_0x3ab0f7=Math['floor'](_0x2dedc2['width']*this['scaleX']),_0x245195=Math['floor'](_0x2dedc2['height']*this['scaleY']);this['renderTarg'+'et']['resize'](_0x3ab0f7,_0x245195);}}['before'](){}['execute'](){}['after'](){}['onEnable'](){}['onDisable'](){}set['enabled'](_0x247e21){this['_enabled']!==_0x247e21&&(this['_enabled']=_0x247e21,_0x247e21?this['onEnable']():this['onDisable']());}get['enabled'](){return this['_enabled'];}['setClearCo'+'lor'](_0x156bf6){const _0x46f1e1=this['colorArray'+'Ops']['length'];for(let _0x1d4f0b=-0xd*0x17e+-0x10ac+0x1b*0x156;_0x1d4f0b<_0x46f1e1;_0x1d4f0b++){const _0x947411=this['colorArray'+'Ops'][_0x1d4f0b];_0x156bf6&&(_0x947411['clearValue']['copy'](_0x156bf6),_0x947411['clearValue'+'Linear']['linear'](_0x156bf6)),_0x947411['clear']=!!_0x156bf6;}}['setClearDe'+'pth'](_0x2c2316){_0x2c2316&&(this['depthStenc'+'ilOps']['clearDepth'+'Value']=_0x2c2316),this['depthStenc'+'ilOps']['clearDepth']=_0x2c2316!==void(0x2166+-0x1abf+-0x6a7);}['setClearSt'+'encil'](_0xb60643){_0xb60643&&(this['depthStenc'+'ilOps']['clearStenc'+'ilValue']=_0xb60643),this['depthStenc'+'ilOps']['clearStenc'+'il']=_0xb60643!==void(0xa93+-0xd3f*-0x1+-0x17d2);}['render'](){if(this['enabled']){const _0x53a678=this['device'],_0x209bcc=this['renderTarg'+'et']!==void(0xd22*0x1+0x599+0x23*-0x89);w['call'](()=>{this['log'](_0x53a678,_0x53a678['renderPass'+'Index']);}),this['before'](),this['executeEna'+'bled']&&(_0x209bcc&&!this['_skipStart']&&_0x53a678['startRende'+'rPass'](this),this['execute'](),_0x209bcc&&!this['_skipEnd']&&_0x53a678['endRenderP'+'ass'](this)),this['after'](),_0x53a678['renderPass'+'Index']++;}}['log'](_0x258651,_0x19ad92=0x135d+-0x12*0x47+0xd*-0x11b){var _0x326917,_0x27a737,_0x100834;if(mi['get'](Pm)||mi['get'](cn)){const _0x1d9396=this['renderTarg'+'et']??(this['renderTarg'+'et']===null?_0x258651['backBuffer']:null),_0x8dabd4=!!(_0x1d9396!=null&&_0x1d9396['impl']['assignedCo'+'lorTexture'])||(_0x1d9396==null?void(-0xb0f+-0x26*0x83+0x1e81):_0x1d9396['impl']['suppliedCo'+'lorFramebu'+'ffer'])!==void(-0x1cad+-0x1ae+0x1e5b),_0x2861c2=((_0x326917=_0x1d9396==null?void(0x16*0x143+-0x20a8+0x4e6):_0x1d9396['_colorBuff'+'ers'])==null?void(0x7*0xe5+0x1390+0x259*-0xb):_0x326917['length'])??(_0x8dabd4?-0x23b4+0x2*0x3+0x23af:-0x5*-0x62d+-0x1*-0x101+-0x1fe2),_0x1c8cc2=_0x1d9396==null?void(0x23ef+-0xabb+-0x1934):_0x1d9396['depth'],_0x36bf71=_0x1d9396==null?void(-0x11f*0x3+-0x19ee*0x1+0x1d4b):_0x1d9396['stencil'],_0x4aba51=_0x1d9396==null?void(-0xf47*0x2+0x40*0x50+0x547*0x2):_0x1d9396['mipLevel'],_0x33eaee=_0x1d9396?'\x20RT:\x20'+(_0x1d9396?_0x1d9396['name']:'NULL')+'\x20'+(_0x2861c2>0xf07+0xb3f*-0x2+-0x15*-0x5b?'[Color'+(_0x2861c2>-0xea5+0xbcf*-0x1+-0x1*-0x1a75?'\x20x\x20'+_0x2861c2:'')+']':'')+(_0x1c8cc2?'[Depth]':'')+(_0x36bf71?'[Stencil]':'')+'\x20'+_0x1d9396['width']+'\x20x\x20'+_0x1d9396['height']+(this['samples']>-0x196d+-0x1ec4+0x3831?'\x20samples:\x20'+this['samples']:'')+(_0x4aba51>-0x1cfe+0x12d1+-0x1*-0xa2d?'\x20mipLevel:'+'\x20'+_0x4aba51:''):'',_0x583c37=this['_skipStart']?'++':_0x19ad92['toString']()['padEnd'](-0x13d*0x1+0x40*-0x6d+0x5b3*0x5,'\x20');w['trace'](Pm,_0x583c37+':\x20'+this['name']['padEnd'](-0x1f*0x8b+0x1f3b+-0xe52*0x1,'\x20')+(this['executeEna'+'bled']?'':'\x20DISABLED\x20')+_0x33eaee['padEnd'](0x10f2+-0x8a+0x6*-0x2b7));for(let _0x13560c=-0x26a3+-0x240f+0x4ab2;_0x13560c<_0x2861c2;_0x13560c++){const _0xf6d73a=this['colorArray'+'Ops'][_0x13560c],_0x280cad=(_0x27a737=Nt['get'](_0x8dabd4?_0x258651['backBuffer'+'Format']:_0x1d9396['getColorBu'+'ffer'](_0x13560c)['format']))==null?void(0x7*-0x317+-0x5*0x547+0x3004):_0x27a737['name'];w['trace'](cn,'\x20\x20\x20\x20color['+_0x13560c+']:\x20'+(_0xf6d73a['clear']?'clear':'load')+'->'+(_0xf6d73a['store']?'store':'discard')+'\x20'+(_0xf6d73a['resolve']?'resolve\x20':'')+(_0xf6d73a['genMipmaps']?'mipmaps\x20':'')+'\x20[format:\x20'+_0x280cad+']\x20'+(_0xf6d73a['clear']?'[clear:\x20'+_0xf6d73a['clearValue']['toString'](!(-0x1c49+-0x27*-0xbb+0x2*-0x1a),!(-0x1*0xcb6+-0x1909*0x1+0x3*0xc95))+']':''));}if(this['depthStenc'+'ilOps']){const _0x6ddf35=''+(_0x1d9396['depthBuffe'+'r']?'\x20[format:\x20'+((_0x100834=Nt['get'](_0x1d9396['depthBuffe'+'r']['format']))==null?void(-0x2654+0x1292*0x1+0x13c2):_0x100834['name'])+']':'');_0x1c8cc2&&w['trace'](cn,'\x20\x20\x20\x20depthO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearDepth']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeDepth']?'store':'discard')+(this['depthStenc'+'ilOps']['resolveDep'+'th']?'\x20resolve':'')+_0x6ddf35+(this['depthStenc'+'ilOps']['clearDepth']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearDepth'+'Value']+']':'')),_0x36bf71&&w['trace'](cn,'\x20\x20\x20\x20stencO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeStenc'+'il']?'store':'discard')+_0x6ddf35+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearStenc'+'ilValue']+']':''));}}}}function cw(_0x53fbb6){this['array'][this['index']]=_0x53fbb6;}function hw(_0x14b4ca,_0x54982d){this['array'][this['index']]=_0x14b4ca,this['array'][this['index']+(-0x6*0x5c8+0x3*0xb68+-0x79*-0x1)]=_0x54982d;}function dw(_0x1ae530,_0x353582,_0x34f662){this['array'][this['index']]=_0x1ae530,this['array'][this['index']+(-0x5*0x552+-0x2*-0x504+0x1093)]=_0x353582,this['array'][this['index']+(0x1*0x52a+-0xaa3+-0x1*-0x57b)]=_0x34f662;}function fw(_0x533475,_0x2ece7b,_0x563739,_0x5373fa){this['array'][this['index']]=_0x533475,this['array'][this['index']+(-0x4*-0x6a1+0x1ccb+0x1ba7*-0x2)]=_0x2ece7b,this['array'][this['index']+(0x13a9+0xa9d+-0x1e44)]=_0x563739,this['array'][this['index']+(0x260c+-0x4*0xfe+-0x2211)]=_0x5373fa;}function uw(_0x12b83e,_0x36fb5a,_0x3e9eff){this['array'][_0x12b83e]=_0x36fb5a[_0x3e9eff];}function pw(_0x44650a,_0x3d809f,_0x255a53){this['array'][_0x44650a]=_0x3d809f[_0x255a53],this['array'][_0x44650a+(0x1f51+-0x1a99+-0x4b7)]=_0x3d809f[_0x255a53+(-0x1*-0xce6+-0x5*-0x2dd+-0x1b36)];}function mw(_0x144482,_0x582381,_0x1c94a3){this['array'][_0x144482]=_0x582381[_0x1c94a3],this['array'][_0x144482+(0x2c*-0x2c+0x1*0x65+0x396*0x2)]=_0x582381[_0x1c94a3+(-0xb48+0xb39+0x1*0x10)],this['array'][_0x144482+(0xc11+-0x1a3*-0x3+0x6*-0x2d4)]=_0x582381[_0x1c94a3+(0x49*0x3d+0x2385+0x1a74*-0x2)];}function _w(_0x1e46fc,_0x17eb8a,_0x419964){this['array'][_0x1e46fc]=_0x17eb8a[_0x419964],this['array'][_0x1e46fc+(0x1a3*0xf+-0x2222+0x996)]=_0x17eb8a[_0x419964+(-0x5ad*0x2+-0x226d+0x2dc8)],this['array'][_0x1e46fc+(0x49d*-0x6+0x3*-0x315+0x24ef)]=_0x17eb8a[_0x419964+(0x441*-0x2+0x1f70*0x1+0x7a4*-0x3)],this['array'][_0x1e46fc+(0x1d89+-0x22f9+0x1d1*0x3)]=_0x17eb8a[_0x419964+(-0x185c+-0x1*0x1025+0x1442*0x2)];}function gw(_0x3efec0,_0x1416ce,_0x38ea62){_0x1416ce[_0x38ea62]=this['array'][_0x3efec0];}function Sw(_0x35c553,_0x27937e,_0x871b3){_0x27937e[_0x871b3]=this['array'][_0x35c553],_0x27937e[_0x871b3+(-0x1053+-0x17*0xcd+-0xf*-0x251)]=this['array'][_0x35c553+(0xb1b+-0x247d+0x1963)];}function yw(_0x4ff464,_0x54408e,_0x348125){_0x54408e[_0x348125]=this['array'][_0x4ff464],_0x54408e[_0x348125+(0xf94+-0xc39+0x27*-0x16)]=this['array'][_0x4ff464+(0xd69*-0x2+-0x170d+0x31e0)],_0x54408e[_0x348125+(-0x218*-0x1+0x2472+-0x2688)]=this['array'][_0x4ff464+(-0xf20+-0x1*-0x182+0xda0)];}function vw(_0x333106,_0x32608d,_0x491c18){_0x32608d[_0x491c18]=this['array'][_0x333106],_0x32608d[_0x491c18+(0xed1*0x1+0x1e3e+-0x2d0e)]=this['array'][_0x333106+(-0x1a+0x1571+-0x1556)],_0x32608d[_0x491c18+(-0x1f3c+0xeec+-0x829*-0x2)]=this['array'][_0x333106+(0x165b*-0x1+0x6ff+0xf5e*0x1)],_0x32608d[_0x491c18+(0x2362+-0x25f3+0x84*0x5)]=this['array'][_0x333106+(-0x2ce*0xa+0x7*-0x392+-0x1*-0x350d)];}class xw{constructor(_0x39c717,_0x29b620,_0x5a8c28){switch(this['index']=0x2c9+0x128*-0xb+0x9ef,this['numCompone'+'nts']=_0x29b620['numCompone'+'nts'],_0x5a8c28['interleave'+'d']?this['array']=new wn[_0x29b620['dataType']](_0x39c717,_0x29b620['offset']):this['array']=new wn[_0x29b620['dataType']](_0x39c717,_0x29b620['offset'],_0x5a8c28['vertexCoun'+'t']*_0x29b620['numCompone'+'nts']),this['stride']=_0x29b620['stride']/this['array']['constructo'+'r']['BYTES_PER_'+'ELEMENT'],_0x29b620['numCompone'+'nts']){case-0xfc4+-0x2232+0x31f7:this['set']=cw,this['getToArray']=gw,this['setFromArr'+'ay']=uw;break;case 0x1125+0x11*-0x1cf+0xd9c:this['set']=hw,this['getToArray']=Sw,this['setFromArr'+'ay']=pw;break;case 0x116c+-0x1c76+0xb0d:this['set']=dw,this['getToArray']=yw,this['setFromArr'+'ay']=mw;break;case-0xf3d+-0x1*-0x1f1f+0x54a*-0x3:this['set']=fw,this['getToArray']=vw,this['setFromArr'+'ay']=_w;break;}}['get'](_0x573a9b){return this['array'][this['index']+_0x573a9b];}['set'](_0x265fe6,_0x12d804,_0x24c9e7,_0x58dd90){}['getToArray'](_0x539f09,_0x3031ec,_0x4ca0f0){}['setFromArr'+'ay'](_0x3d7511,_0x3d747d,_0x34d314){}}class Uo{constructor(_0x5a878f){this['vertexBuff'+'er']=_0x5a878f,this['vertexForm'+'atSize']=_0x5a878f['getFormat']()['size'],this['buffer']=this['vertexBuff'+'er']['lock'](),this['accessors']=[],this['element']={};const _0x477a11=this['vertexBuff'+'er']['getFormat']();for(let _0x3d1cf2=0x9e9+0xd*0x283+0xe30*-0x3;_0x3d1cf2<_0x477a11['elements']['length'];_0x3d1cf2++){const _0x306156=_0x477a11['elements'][_0x3d1cf2];this['accessors'][_0x3d1cf2]=new xw(this['buffer'],_0x306156,_0x477a11),this['element'][_0x306156['name']]=this['accessors'][_0x3d1cf2];}}['next'](_0x188e39=0x1c3*-0xb+0xb*-0xb2+0x15a*0x14){let _0x59c692=0x20ef*-0x1+-0x40+0x6a3*0x5;const _0x4a80b9=this['accessors'],_0x39f487=this['accessors']['length'];for(;_0x59c692<_0x39f487;){const _0x2c46b3=_0x4a80b9[_0x59c692++];_0x2c46b3['index']+=_0x188e39*_0x2c46b3['stride'];}}['end'](){this['vertexBuff'+'er']['unlock']();}['writeData'](_0x7d0fca,_0x39768c,_0x2e345a){const _0x20987a=this['element'][_0x7d0fca];if(_0x20987a){_0x2e345a>this['vertexBuff'+'er']['numVertice'+'s']&&(w['error']('NumVertice'+'s\x20provided'+'\x20to\x20setDat'+'a:\x20'+_0x2e345a+('\x20is\x20larger'+'\x20than\x20spac'+'e\x20in\x20Verte'+'xBuffer:\x20')+this['vertexBuff'+'er']['numVertice'+'s']),_0x2e345a=this['vertexBuff'+'er']['numVertice'+'s']);const _0x2ba0be=_0x20987a['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){let _0x5c9cad=0x1f25+0x1473+-0x3398;for(let _0xc44cd4=-0x4e3*-0x7+0x14*-0xe2+-0x108d;_0xc44cd4<_0x2e345a;_0xc44cd4++)_0x20987a['setFromArr'+'ay'](_0x5c9cad,_0x39768c,_0xc44cd4*_0x2ba0be),_0x5c9cad+=_0x20987a['stride'];}else{if(_0x39768c['length']>_0x2e345a*_0x2ba0be){const _0x353004=_0x2e345a*_0x2ba0be;if(ArrayBuffer['isView'](_0x39768c))_0x39768c=_0x39768c['subarray'](0x24cd+0x657+-0x2c*0xfb,_0x353004),_0x20987a['array']['set'](_0x39768c);else{for(let _0x591ac7=-0x1*-0xd7+0x1*-0xe4d+0xd76;_0x591ac7<_0x353004;_0x591ac7++)_0x20987a['array'][_0x591ac7]=_0x39768c[_0x591ac7];}}else _0x20987a['array']['set'](_0x39768c);}}}['readData'](_0x15894c,_0x5d745d){const _0x52acb7=this['element'][_0x15894c];let _0x310320=-0x1845*-0x1+0x2695*-0x1+0xe50;if(_0x52acb7){_0x310320=this['vertexBuff'+'er']['numVertice'+'s'];let _0x258e5e;const _0x2dc04a=_0x52acb7['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){Array['isArray'](_0x5d745d)&&(_0x5d745d['length']=0xa*0x19f+-0xa33*0x3+0xe63),_0x52acb7['index']=-0x847+0x1*0x2dc+0x1*0x56b;let _0x1dd58d=0x1eb9+0x1*0xe27+-0x2ce0;for(_0x258e5e=0x11*-0xc2+0x1330+-0x64e;_0x258e5e<_0x310320;_0x258e5e++)_0x52acb7['getToArray'](_0x1dd58d,_0x5d745d,_0x258e5e*_0x2dc04a),_0x1dd58d+=_0x52acb7['stride'];}else{if(ArrayBuffer['isView'](_0x5d745d))_0x5d745d['set'](_0x52acb7['array']);else{_0x5d745d['length']=-0x1*0x91d+-0x167f+0x1f9c;const _0x1fa1f9=_0x310320*_0x2dc04a;for(_0x258e5e=-0x1472+0x1*0x8cb+0x9d*0x13;_0x258e5e<_0x1fa1f9;_0x258e5e++)_0x5d745d[_0x258e5e]=_0x52acb7['array'][_0x258e5e];}}}return _0x310320;}}const Tw=-(0x2f9+0x1e8+0x1a0*-0x3);class ww{constructor(_0x2b1705,_0x492137){h(this,'key',null),h(this,'element',null),h(this,'event',null),_0x492137&&(this['key']=_0x492137['keyCode'],this['element']=_0x492137['target'],this['event']=_0x492137);}}const jl=new ww();function Vd(_0x564be4){return jl['key']=_0x564be4['keyCode'],jl['element']=_0x564be4['target'],jl['event']=_0x564be4,jl;}function Yl(_0x31df87){return typeof _0x31df87=='string'?_0x31df87['toUpperCas'+'e']()['charCodeAt'](-0x23ea+-0xd30*-0x1+-0x16ba*-0x1):_0x31df87;}const Ew={0x9:'Tab',0xd:'Enter',0x10:'Shift',0x11:'Control',0x12:'Alt',0x1b:'Escape',0x25:'Left',0x26:'Up',0x27:'Right',0x28:'Down',0x2e:'Delete',0x5b:'Win'};class h_ extends me{constructor(_0x3f0ba6,_0x273b22={}){super(),h(this,'_element',null),h(this,'_keymap',{}),h(this,'_lastmap',{}),(this['_keyDownHa'+'ndler']=this['_handleKey'+'Down']['bind'](this),this['_keyUpHand'+'ler']=this['_handleKey'+'Up']['bind'](this),this['_keyPressH'+'andler']=this['_handleKey'+'Press']['bind'](this),this['_visibilit'+'yChangeHan'+'dler']=this['_handleVis'+'ibilityCha'+'nge']['bind'](this),this['_windowBlu'+'rHandler']=this['_handleWin'+'dowBlur']['bind'](this),_0x3f0ba6&&this['attach'](_0x3f0ba6),this['preventDef'+'ault']=_0x273b22['preventDef'+'ault']||!(-0x123+0x2623+-0x24ff),this['stopPropag'+'ation']=_0x273b22['stopPropag'+'ation']||!(-0x14e2+-0x13*0xa3+0x20fc));}['attach'](_0x1cc58f){this['_element']&&this['detach'](),this['_element']=_0x1cc58f,this['_element']['addEventLi'+'stener']('keydown',this['_keyDownHa'+'ndler'],!(-0x1*0x81d+0x3*-0x527+0x1793)),this['_element']['addEventLi'+'stener']('keypress',this['_keyPressH'+'andler'],!(0x71b+-0x16bf+0x3*0x537)),this['_element']['addEventLi'+'stener']('keyup',this['_keyUpHand'+'ler'],!(0x176c+-0xf6c+-0x17*0x59)),document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x22eb+-0x1bf7*-0x1+0x1*0x6f5)),window['addEventLi'+'stener']('blur',this['_windowBlu'+'rHandler'],!(-0x57a+-0x65d*0x1+0xbd8));}['detach'](){if(!this['_element']){w['warn']('Unable\x20to\x20'+'detach\x20key'+'board.\x20It\x20'+'is\x20not\x20att'+'ached\x20to\x20a'+'n\x20element.');return;}this['_element']['removeEven'+'tListener']('keydown',this['_keyDownHa'+'ndler']),this['_element']['removeEven'+'tListener']('keypress',this['_keyPressH'+'andler']),this['_element']['removeEven'+'tListener']('keyup',this['_keyUpHand'+'ler']),this['_element']=null,document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1439*0x1+-0x411+-0x3*-0x819)),window['removeEven'+'tListener']('blur',this['_windowBlu'+'rHandler'],!(0x95*0x1+0xa81+-0xb15));}['toKeyIdent'+'ifier'](_0x57348a){_0x57348a=Yl(_0x57348a);const _0x5bf425=Ew[_0x57348a['toString']()];if(_0x5bf425)return _0x5bf425;let _0x1ad3a3=_0x57348a['toString'](0x14ad*0x1+0x12*-0x15d+0x3ed)['toUpperCas'+'e']();const _0x418bc4=_0x1ad3a3['length'];for(let _0x4afcb7=0x534*-0x6+-0x1f*-0x94+0xd4c;_0x4afcb7<0x136*-0x12+-0x35*-0x9e+-0xae6-_0x418bc4;_0x4afcb7++)_0x1ad3a3='0'+_0x1ad3a3;return'U+'+_0x1ad3a3;}['_handleKey'+'Down'](_0xd8205b){const _0x2299b2=_0xd8205b['keyCode']||_0xd8205b['charCode'];if(_0x2299b2===void(0x1d89+0x1c7d+-0x3a06))return;const _0x162199=this['toKeyIdent'+'ifier'](_0x2299b2);this['_keymap'][_0x162199]=!(0x1*-0x1c2b+-0x2000+-0x1*-0x3c2b),this['fire']('keydown',Vd(_0xd8205b)),this['preventDef'+'ault']&&_0xd8205b['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0xd8205b['stopPropag'+'ation']();}['_handleKey'+'Up'](_0x44b271){const _0x44216a=_0x44b271['keyCode']||_0x44b271['charCode'];if(_0x44216a===void(0x477+-0x6*-0x529+-0x236d))return;const _0x230b50=this['toKeyIdent'+'ifier'](_0x44216a);delete this['_keymap'][_0x230b50],this['fire']('keyup',Vd(_0x44b271)),this['preventDef'+'ault']&&_0x44b271['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x44b271['stopPropag'+'ation']();}['_handleKey'+'Press'](_0x1db105){this['fire']('keypress',Vd(_0x1db105)),this['preventDef'+'ault']&&_0x1db105['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x1db105['stopPropag'+'ation']();}['_handleVis'+'ibilityCha'+'nge'](){document['visibility'+'State']==='hidden'&&this['_handleWin'+'dowBlur']();}['_handleWin'+'dowBlur'](){this['_keymap']={},this['_lastmap']={};}['update'](){for(const _0x5e7316 in this['_lastmap'])delete this['_lastmap'][_0x5e7316];for(const _0x12a5af in this['_keymap'])this['_keymap']['hasOwnProp'+'erty'](_0x12a5af)&&(this['_lastmap'][_0x12a5af]=this['_keymap'][_0x12a5af]);}['isPressed'](_0x410062){const _0x3eef4c=Yl(_0x410062),_0x505102=this['toKeyIdent'+'ifier'](_0x3eef4c);return!!this['_keymap'][_0x505102];}['wasPressed'](_0x13a1da){const _0x37bf91=Yl(_0x13a1da),_0x5e1d71=this['toKeyIdent'+'ifier'](_0x37bf91);return!!this['_keymap'][_0x5e1d71]&&!this['_lastmap'][_0x5e1d71];}['wasRelease'+'d'](_0x4ba970){const _0x5cd8dd=Yl(_0x4ba970),_0x22aa06=this['toKeyIdent'+'ifier'](_0x5cd8dd);return!this['_keymap'][_0x22aa06]&&!!this['_lastmap'][_0x22aa06];}}h(h_,'EVENT_KEYD'+'OWN','keydown'),h(h_,'EVENT_KEYU'+'P','keyup');function ru(){return!!(document['pointerLoc'+'kElement']||document['mozPointer'+'LockElemen'+'t']||document['webkitPoin'+'terLockEle'+'ment']);}class ta{constructor(_0x2235ed,_0x359037){h(this,'x',-0x1*0x10a2+0x21ac+-0x110a),h(this,'y',-0x6c6+-0x1514+0x1bda),h(this,'dx',-0x242d+0x1a5+0x8*0x451),h(this,'dy',0xf*-0x1bc+-0x2a9+-0x98f*-0x3),h(this,'button',Tw),h(this,'wheelDelta',0x1a9b+0x1e03*-0x1+0x368),h(this,'element'),h(this,'ctrlKey',!(0x16d4+-0x1dc+0x3*-0x6fd)),h(this,'altKey',!(-0x1164+-0x12*-0x22+-0xf01*-0x1)),h(this,'shiftKey',!(-0x989+0x2142+0x16*-0x114)),h(this,'metaKey',!(0x36*0x51+-0x5bf*-0x3+-0x2252)),h(this,'event');let _0xa04160={'x':0x0,'y':0x0};if(_0x359037){if(_0x359037 instanceof ta)throw Error('Expected\x20M'+'ouseEvent');_0xa04160=_0x2235ed['_getTarget'+'Coords'](_0x359037);}else _0x359037={};if(_0xa04160)this['x']=_0xa04160['x'],this['y']=_0xa04160['y'];else{if(ru())this['x']=-0x180+0x90b*-0x1+0xa8b,this['y']=-0x1*0x330+-0x102*0x13+-0x3*-0x772;else return;}_0x359037['type']==='wheel'&&(_0x359037['deltaY']>0x2*-0xcff+-0x14f1+0x2eef?this['wheelDelta']=0x4*-0x503+0x9a+-0x1*-0x1373:_0x359037['deltaY']<0x2342+-0x100f*-0x1+-0x3351&&(this['wheelDelta']=-(0xeb5+-0x24f6+0x1642))),ru()?(this['dx']=_0x359037['movementX']||_0x359037['webkitMove'+'mentX']||_0x359037['mozMovemen'+'tX']||0x19bc+-0x10*0xc3+-0x3*0x484,this['dy']=_0x359037['movementY']||_0x359037['webkitMove'+'mentY']||_0x359037['mozMovemen'+'tY']||0x257*-0x7+0x20*-0x133+0x83*0x6b):(this['dx']=this['x']-_0x2235ed['_lastX'],this['dy']=this['y']-_0x2235ed['_lastY']),(_0x359037['type']==='mousedown'||_0x359037['type']==='mouseup')&&(this['button']=_0x359037['button']),this['buttons']=_0x2235ed['_buttons']['slice'](0x1*0x1426+-0x1ac1+0x69b),this['element']=_0x359037['target'],this['ctrlKey']=_0x359037['ctrlKey']??!(-0x392+0x6d*0x17+-0x638),this['altKey']=_0x359037['altKey']??!(-0x1f5*-0x7+0xa43+0x17f5*-0x1),this['shiftKey']=_0x359037['shiftKey']??!(-0xedb*0x1+0xb4b+-0x391*-0x1),this['metaKey']=_0x359037['metaKey']??!(-0x118f+-0x19c0+0x2b5*0x10),this['event']=_0x359037;}}class sa extends me{constructor(_0xa7c52){super(),h(this,'_lastX',0xffc+-0xc98+0x1b2*-0x2),h(this,'_lastY',-0xd25+0x2539+-0x1814),h(this,'_buttons',[!(0x341*0x1+0x13*0x1d9+-0x265b),!(-0xf20+-0x2af*-0xb+-0x6*0x266),!(0x2c6*-0x5+0x1607+-0x2b8*0x3)]),h(this,'_lastbutto'+'ns',[!(-0x3*-0x8ef+0x3f*0x2b+-0x2561),!(0x192a+-0x1fbe+0x695),!(-0x3*-0x269+-0x6be*-0x1+-0xdf8)]),h(this,'_target',null),h(this,'_attached',!(0x269+0x818+-0xe0*0xc)),(this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_contextMe'+'nuHandler']=_0x42e4cc=>{_0x42e4cc['preventDef'+'ault']();},this['attach'](_0xa7c52));}static['isPointerL'+'ocked'](){return ru();}['attach'](_0x4190e6){if(this['_target']=_0x4190e6,this['_attached'])return;this['_attached']=!(-0x2e1*0xb+-0x16dc+-0x1*-0x3687);const _0x30e34c={'passive':!(0xa*-0x35f+0x158e+0xc29)},_0x1af62b=Ae['passiveEve'+'nts']?_0x30e34c:!(0xb2*-0x1b+0x208b+-0xdc4);window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x1af62b),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x1af62b),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x1af62b),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x1af62b);}['detach'](){if(!this['_attached'])return;this['_attached']=!(0x1*0x1c4f+-0x573*-0x3+-0x2ca7),this['_target']=null;const _0xff0b3={'passive':!(-0x2115+-0x17b0*0x1+-0xd*-0x45e)},_0x28ca3a=Ae['passiveEve'+'nts']?_0xff0b3:!(-0xa9e+0x1952+0xeb3*-0x1);window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x28ca3a),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x28ca3a),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x28ca3a),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x28ca3a);}['disableCon'+'textMenu'](){this['_target']&&this['_target']['addEventLi'+'stener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enableCont'+'extMenu'](){this['_target']&&this['_target']['removeEven'+'tListener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enablePoin'+'terLock'](_0x8ba07e,_0x44c6fa){if(!document['body']['requestPoi'+'nterLock']){_0x44c6fa&&_0x44c6fa();return;}const _0x184b62=()=>{_0x8ba07e(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x184b62);},_0x21a3d0=()=>{_0x44c6fa(),document['removeEven'+'tListener']('pointerloc'+'kerror',_0x21a3d0);};_0x8ba07e&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x184b62,!(-0x19d0+0x491*0x7+0x1*-0x626)),_0x44c6fa&&document['addEventLi'+'stener']('pointerloc'+'kerror',_0x21a3d0,!(0x46f*0x5+0x10*-0x60+-0x102a)),document['body']['requestPoi'+'nterLock']();}['disablePoi'+'nterLock'](_0xcd0452){if(!document['exitPointe'+'rLock'])return;const _0x30beb6=()=>{_0xcd0452(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x30beb6);};_0xcd0452&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x30beb6,!(-0xb*0x233+-0xc*0x142+0x6b*0x5e)),document['exitPointe'+'rLock']();}['update'](){this['_lastbutto'+'ns'][0x10a*0x8+-0x15f*-0x1+-0x9af]=this['_buttons'][-0x64b*-0x1+-0x270+0x2f*-0x15],this['_lastbutto'+'ns'][0x9*-0x223+-0xbdd*-0x2+0xe6*-0x5]=this['_buttons'][-0x22c7*-0x1+-0x142d+-0xe99],this['_lastbutto'+'ns'][0x12d*-0xc+-0xce5+0x1b03]=this['_buttons'][-0x2488+0x16c2*0x1+-0x498*-0x3];}['isPressed'](_0x1f7101){return this['_buttons'][_0x1f7101];}['wasPressed'](_0x24f728){return this['_buttons'][_0x24f728]&&!this['_lastbutto'+'ns'][_0x24f728];}['wasRelease'+'d'](_0xbc06e6){return!this['_buttons'][_0xbc06e6]&&this['_lastbutto'+'ns'][_0xbc06e6];}['_handleUp'](_0x50222b){this['_buttons'][_0x50222b['button']]=!(-0x171*-0x10+-0x25ef+0xee0);const _0x395ae0=new ta(this,_0x50222b);_0x395ae0['event']&&this['fire']('mouseup',_0x395ae0);}['_handleDow'+'n'](_0x3a8349){this['_buttons'][_0x3a8349['button']]=!(0x95*-0x18+0x1616+-0x81e);const _0x446c1a=new ta(this,_0x3a8349);_0x446c1a['event']&&this['fire']('mousedown',_0x446c1a);}['_handleMov'+'e'](_0xff6fc1){const _0x2525ee=new ta(this,_0xff6fc1);_0x2525ee['event']&&(this['fire']('mousemove',_0x2525ee),this['_lastX']=_0x2525ee['x'],this['_lastY']=_0x2525ee['y']);}['_handleWhe'+'el'](_0x54413d){const _0xb695d8=new ta(this,_0x54413d);_0xb695d8['event']&&this['fire']('mousewheel',_0xb695d8);}['_getTarget'+'Coords'](_0x45da25){const _0x35f560=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x2ab6e0=Math['floor'](_0x35f560['left']),_0x11167d=Math['floor'](_0x35f560['top']);return _0x45da25['clientX']<_0x2ab6e0||_0x45da25['clientX']>=_0x2ab6e0+this['_target']['clientWidt'+'h']||_0x45da25['clientY']<_0x11167d||_0x45da25['clientY']>=_0x11167d+this['_target']['clientHeig'+'ht']?null:{'x':_0x45da25['clientX']-_0x2ab6e0,'y':_0x45da25['clientY']-_0x11167d};}}h(sa,'EVENT_MOUS'+'EMOVE','mousemove'),h(sa,'EVENT_MOUS'+'EDOWN','mousedown'),h(sa,'EVENT_MOUS'+'EUP','mouseup'),h(sa,'EVENT_MOUS'+'EWHEEL','mousewheel');function Wc(_0x39d873){let _0x5e13a4=-0x17b*-0x4+-0x25*-0x5b+0x13*-0x101,_0x5d7351=0x26e2+0x1*-0xa9f+-0x1c43,_0x199197=_0x39d873['target'];for(;!(_0x199197 instanceof HTMLElement)&&_0x199197;)_0x199197=_0x199197['parentNode'];for(;_0x199197;)_0x5e13a4+=_0x199197['offsetLeft']-_0x199197['scrollLeft'],_0x5d7351+=_0x199197['offsetTop']-_0x199197['scrollTop'],_0x199197=_0x199197['offsetPare'+'nt'];return{'x':_0x39d873['pageX']-_0x5e13a4,'y':_0x39d873['pageY']-_0x5d7351};}class d_{constructor(_0x3937e2){h(this,'id'),h(this,'x'),h(this,'y'),h(this,'target'),h(this,'touch');const _0x1219c3=Wc(_0x3937e2);this['id']=_0x3937e2['identifier'],this['x']=_0x1219c3['x'],this['y']=_0x1219c3['y'],this['target']=_0x3937e2['target'],this['touch']=_0x3937e2;}}class Kl{constructor(_0x544ad5,_0x2ffd8a){h(this,'element'),h(this,'event'),h(this,'touches',[]),h(this,'changedTou'+'ches',[]),(this['element']=_0x2ffd8a['target'],this['event']=_0x2ffd8a,this['touches']=Array['from'](_0x2ffd8a['touches'])['map'](_0x45b5ce=>new d_(_0x45b5ce)),this['changedTou'+'ches']=Array['from'](_0x2ffd8a['changedTou'+'ches'])['map'](_0x1c2699=>new d_(_0x1c2699)));}['getTouchBy'+'Id'](_0x3583e4,_0x32ccba){return _0x32ccba['find'](_0x3ba13f=>_0x3ba13f['id']===_0x3583e4)||null;}}class Zl extends me{constructor(_0x116ab3){super(),this['_element']=null,this['_startHand'+'ler']=this['_handleTou'+'chStart']['bind'](this),this['_endHandle'+'r']=this['_handleTou'+'chEnd']['bind'](this),this['_moveHandl'+'er']=this['_handleTou'+'chMove']['bind'](this),this['_cancelHan'+'dler']=this['_handleTou'+'chCancel']['bind'](this),this['attach'](_0x116ab3);}['attach'](_0x369b38){this['_element']&&this['detach'](),this['_element']=_0x369b38,this['_element']['addEventLi'+'stener']('touchstart',this['_startHand'+'ler'],!(-0x5cb*0x4+-0x1*0x80b+-0x94*-0x36)),this['_element']['addEventLi'+'stener']('touchend',this['_endHandle'+'r'],!(-0x19*0xc9+-0x1d96+-0x2bc*-0x12)),this['_element']['addEventLi'+'stener']('touchmove',this['_moveHandl'+'er'],!(0x83a+0x5*-0x237+0x2da)),this['_element']['addEventLi'+'stener']('touchcance'+'l',this['_cancelHan'+'dler'],!(0x1327+-0x2f*-0x23+-0x1993));}['detach'](){this['_element']&&(this['_element']['removeEven'+'tListener']('touchstart',this['_startHand'+'ler'],!(-0xb81*-0x1+-0x25*0x6d+-0x63*-0xb)),this['_element']['removeEven'+'tListener']('touchend',this['_endHandle'+'r'],!(-0x353*-0x9+-0x1a34+-0x5f*0xa)),this['_element']['removeEven'+'tListener']('touchmove',this['_moveHandl'+'er'],!(-0x16af+-0x20e*0x1+-0x18be*-0x1)),this['_element']['removeEven'+'tListener']('touchcance'+'l',this['_cancelHan'+'dler'],!(0x114b*-0x2+-0x1*0xdc1+-0x88*-0x5b))),this['_element']=null;}['_handleTou'+'chStart'](_0x264b8e){this['fire']('touchstart',new Kl(this,_0x264b8e));}['_handleTou'+'chEnd'](_0x1a4930){this['fire']('touchend',new Kl(this,_0x1a4930));}['_handleTou'+'chMove'](_0x17910d){_0x17910d['preventDef'+'ault'](),this['fire']('touchmove',new Kl(this,_0x17910d));}['_handleTou'+'chCancel'](_0x1eb57e){this['fire']('touchcance'+'l',new Kl(this,_0x1eb57e));}}h(Zl,'EVENT_TOUC'+'HSTART','touchstart'),h(Zl,'EVENT_TOUC'+'HEND','touchend'),h(Zl,'EVENT_TOUC'+'HMOVE','touchmove'),h(Zl,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');const Oe=class Oe{['get'](_0x5ca9ca,_0x1972a9,_0x50c8c6){typeof _0x1972a9=='function'&&(_0x50c8c6=_0x1972a9,_0x1972a9={});const _0x66b842=this['request']('GET',_0x5ca9ca,_0x1972a9,_0x50c8c6),{progress:_0x4984b1}=_0x1972a9;if(_0x4984b1){const _0x151e91=_0x1882b0=>{_0x1882b0['lengthComp'+'utable']&&_0x4984b1['fire']('progress',_0x1882b0['loaded'],_0x1882b0['total']);},_0x504b40=_0x5090fd=>{_0x151e91(_0x5090fd),_0x66b842['removeEven'+'tListener']('loadstart',_0x151e91),_0x66b842['removeEven'+'tListener']('progress',_0x151e91),_0x66b842['removeEven'+'tListener']('loadend',_0x504b40);};_0x66b842['addEventLi'+'stener']('loadstart',_0x151e91),_0x66b842['addEventLi'+'stener']('progress',_0x151e91),_0x66b842['addEventLi'+'stener']('loadend',_0x504b40);}return _0x66b842;}['post'](_0x2a83d7,_0x2bf5d1,_0x2a04f7,_0x1dd8b8){return typeof _0x2a04f7=='function'&&(_0x1dd8b8=_0x2a04f7,_0x2a04f7={}),_0x2a04f7['postdata']=_0x2bf5d1,this['request']('POST',_0x2a83d7,_0x2a04f7,_0x1dd8b8);}['put'](_0x24f56c,_0x448213,_0x1cba46,_0x58a861){return typeof _0x1cba46=='function'&&(_0x58a861=_0x1cba46,_0x1cba46={}),_0x1cba46['postdata']=_0x448213,this['request']('PUT',_0x24f56c,_0x1cba46,_0x58a861);}['del'](_0x1f8db3,_0xe00ed9,_0x574ce0){return typeof _0xe00ed9=='function'&&(_0x574ce0=_0xe00ed9,_0xe00ed9={}),this['request']('DELETE',_0x1f8db3,_0xe00ed9,_0x574ce0);}['request'](_0x310d66,_0x1c9a11,_0xe25b9a,_0x52e7cc){let _0x3768f1,_0x3b53ca,_0x4fbecb,_0x33bf05=!(-0x78a*0x1+0x1290+-0xb05);if(typeof _0xe25b9a=='function'&&(_0x52e7cc=_0xe25b9a,_0xe25b9a={}),_0xe25b9a['retry']&&(_0xe25b9a=Object['assign']({'retries':0x0,'maxRetries':0x5},_0xe25b9a)),_0xe25b9a['callback']=_0x52e7cc,_0xe25b9a['async']==null&&(_0xe25b9a['async']=!(-0x20e8+0x1e5f+0x289)),_0xe25b9a['headers']==null&&(_0xe25b9a['headers']={}),_0xe25b9a['postdata']!=null){if(_0xe25b9a['postdata']instanceof Document)_0x4fbecb=_0xe25b9a['postdata'];else{if(_0xe25b9a['postdata']instanceof FormData)_0x4fbecb=_0xe25b9a['postdata'];else{if(_0xe25b9a['postdata']instanceof Object){let _0x3b1d9e=_0xe25b9a['headers']['Content-Ty'+'pe'];switch(_0x3b1d9e===void(-0x2420+-0xa95+-0xb*-0x43f)&&(_0xe25b9a['headers']['Content-Ty'+'pe']=Oe['ContentTyp'+'e']['FORM_URLEN'+'CODED'],_0x3b1d9e=_0xe25b9a['headers']['Content-Ty'+'pe']),_0x3b1d9e){case Oe['ContentTyp'+'e']['FORM_URLEN'+'CODED']:{_0x4fbecb='';let _0x1aae96=!(0x3*-0x5e6+-0x123d*-0x1+-0x8b);for(const _0x392493 in _0xe25b9a['postdata'])if(_0xe25b9a['postdata']['hasOwnProp'+'erty'](_0x392493)){_0x1aae96?_0x1aae96=!(0x346*-0x1+0x1e59+0x906*-0x3):_0x4fbecb+='&';const _0x44f92f=encodeURIComponent(_0x392493),_0x50e4d6=encodeURIComponent(_0xe25b9a['postdata'][_0x392493]);_0x4fbecb+=_0x44f92f+'='+_0x50e4d6;}break;}default:case Oe['ContentTyp'+'e']['JSON']:_0x3b1d9e==null&&(_0xe25b9a['headers']['Content-Ty'+'pe']=Oe['ContentTyp'+'e']['JSON']),_0x4fbecb=JSON['stringify'](_0xe25b9a['postdata']);break;}}else _0x4fbecb=_0xe25b9a['postdata'];}}}if(_0xe25b9a['cache']===!(-0x122+-0x65*-0xd+-0x3fe)){const _0x5f163e=de();_0x3768f1=new Rd(_0x1c9a11),_0x3768f1['query']?_0x3768f1['query']=_0x3768f1['query']+'&ts='+_0x5f163e:_0x3768f1['query']='ts='+_0x5f163e,_0x1c9a11=_0x3768f1['toString']();}_0xe25b9a['query']&&(_0x3768f1=new Rd(_0x1c9a11),_0x3b53ca=ah(_0x3768f1['getQuery'](),_0xe25b9a['query']),_0x3768f1['setQuery'](_0x3b53ca),_0x1c9a11=_0x3768f1['toString']());const _0x3bdb5c=new XMLHttpRequest();_0x3bdb5c['open'](_0x310d66,_0x1c9a11,_0xe25b9a['async']),_0x3bdb5c['withCreden'+'tials']=_0xe25b9a['withCreden'+'tials']!==void(0x18f4+-0x1*-0x1412+0xe2*-0x33)?_0xe25b9a['withCreden'+'tials']:!(-0x65*-0x45+0x29*-0x2+0x139*-0x16),_0x3bdb5c['responseTy'+'pe']=_0xe25b9a['responseTy'+'pe']||this['_guessResp'+'onseType'](_0x1c9a11);for(const _0x1c2ccc in _0xe25b9a['headers'])_0xe25b9a['headers']['hasOwnProp'+'erty'](_0x1c2ccc)&&_0x3bdb5c['setRequest'+'Header'](_0x1c2ccc,_0xe25b9a['headers'][_0x1c2ccc]);_0x3bdb5c['onreadysta'+'techange']=()=>{this['_onReadySt'+'ateChange'](_0x310d66,_0x1c9a11,_0xe25b9a,_0x3bdb5c);},_0x3bdb5c['onerror']=()=>{this['_onError'](_0x310d66,_0x1c9a11,_0xe25b9a,_0x3bdb5c),_0x33bf05=!(0x10e5+-0x2*-0x583+-0x1beb);};try{_0x3bdb5c['send'](_0x4fbecb);}catch(_0x2198fc){_0x33bf05||_0xe25b9a['error'](_0x3bdb5c['status'],_0x3bdb5c,_0x2198fc);}return _0x3bdb5c;}['_guessResp'+'onseType'](_0x58eb65){const _0x68bb81=new Rd(_0x58eb65),_0x13990e=xe['getExtensi'+'on'](_0x68bb81['path'])['toLowerCas'+'e']();return Oe['binaryExte'+'nsions']['indexOf'](_0x13990e)>=0x223b+-0xd0*0x3+-0x1fcb?Oe['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x13990e==='.json'?Oe['ResponseTy'+'pe']['JSON']:_0x13990e==='.xml'?Oe['ResponseTy'+'pe']['DOCUMENT']:Oe['ResponseTy'+'pe']['TEXT'];}['_isBinaryC'+'ontentType'](_0x48e0aa){return[Oe['ContentTyp'+'e']['BASIS'],Oe['ContentTyp'+'e']['BIN'],Oe['ContentTyp'+'e']['DDS'],Oe['ContentTyp'+'e']['GLB'],Oe['ContentTyp'+'e']['MP3'],Oe['ContentTyp'+'e']['MP4'],Oe['ContentTyp'+'e']['OGG'],Oe['ContentTyp'+'e']['OPUS'],Oe['ContentTyp'+'e']['WAV']]['indexOf'](_0x48e0aa)>=0x2f*0x45+0x3d*-0xa2+0x19ef;}['_isBinaryR'+'esponseTyp'+'e'](_0x3c6acc){return _0x3c6acc===Oe['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']||_0x3c6acc===Oe['ResponseTy'+'pe']['BLOB']||_0x3c6acc===Oe['ResponseTy'+'pe']['JSON'];}['_onReadySt'+'ateChange'](_0x5485a6,_0x5f5753,_0x3d0db7,_0x3adbbd){if(_0x3adbbd['readyState']===0xc5b+0x1c3*-0xd+0xa90)switch(_0x3adbbd['status']){case-0xa24+0x5d2+0x452:{_0x3adbbd['responseUR'+'L']&&_0x3adbbd['responseUR'+'L']['startsWith']('file:///')?this['_onSuccess'](_0x5485a6,_0x5f5753,_0x3d0db7,_0x3adbbd):this['_onError'](_0x5485a6,_0x5f5753,_0x3d0db7,_0x3adbbd);break;}case 0x31d*-0xb+-0xa1*0x25+-0x4*-0xe93:case-0x21b2+0x13d6+-0xa3*-0x17:case-0x4*0x21a+0x13*-0x2a+0xc54:case 0xa*0x1f7+0xa25+0x1*-0x1c9b:{this['_onSuccess'](_0x5485a6,_0x5f5753,_0x3d0db7,_0x3adbbd);break;}default:{this['_onError'](_0x5485a6,_0x5f5753,_0x3d0db7,_0x3adbbd);break;}}}['_onSuccess'](_0x337f11,_0x29e9d9,_0x1d6043,_0x3efeab){let _0x58cd20,_0x546bd1;const _0x54eb29=_0x3efeab['getRespons'+'eHeader']('Content-Ty'+'pe');_0x54eb29&&(_0x546bd1=_0x54eb29['split'](';')[0xe6c+0x1857+-0x26c3]['trim']());try{this['_isBinaryC'+'ontentType'](_0x546bd1)||this['_isBinaryR'+'esponseTyp'+'e'](_0x3efeab['responseTy'+'pe'])?_0x58cd20=_0x3efeab['response']:_0x546bd1===Oe['ContentTyp'+'e']['JSON']||_0x29e9d9['split']('?')[0x10e4+0x1*-0x9a5+-0x73f]['endsWith']('.json')?_0x58cd20=JSON['parse'](_0x3efeab['responseTe'+'xt']):_0x3efeab['responseTy'+'pe']===Oe['ResponseTy'+'pe']['DOCUMENT']||_0x546bd1===Oe['ContentTyp'+'e']['XML']?_0x58cd20=_0x3efeab['responseXM'+'L']:_0x58cd20=_0x3efeab['responseTe'+'xt'],_0x1d6043['callback'](null,_0x58cd20);}catch(_0x104bbe){_0x1d6043['callback'](_0x104bbe);}}['_onError'](_0x50cc4d,_0x1e8cb3,_0x3d3bf2,_0x4bcdc3){if(!_0x3d3bf2['retrying']){if(_0x3d3bf2['retry']&&_0x3d3bf2['retries']<_0x3d3bf2['maxRetries']){_0x3d3bf2['retries']++,_0x3d3bf2['retrying']=!(0x1924*-0x1+-0x1*-0x2631+-0xd0d);const _0x4c87ee=Y['clamp'](Math['pow'](0x1ac+-0x26df+0xf*0x27b,_0x3d3bf2['retries'])*Oe['retryDelay'],0x16c4+0x1*-0x13df+0x1*-0x2e5,_0x3d3bf2['maxRetryDe'+'lay']||-0x2330+-0xc8d+0x4345);console['log'](_0x50cc4d+':\x20'+_0x1e8cb3+'\x20-\x20Error\x20'+_0x4bcdc3['status']+('.\x20Retrying'+'\x20in\x20')+_0x4c87ee+'\x20ms'),setTimeout(()=>{_0x3d3bf2['retrying']=!(0x1*0x2195+-0x23a3+0x20f),this['request'](_0x50cc4d,_0x1e8cb3,_0x3d3bf2,_0x3d3bf2['callback']);},_0x4c87ee);}else _0x3d3bf2['callback'](_0x4bcdc3['status']===0x13*-0x1e1+0xfc8+0x1*0x13eb?'Network\x20er'+'ror':_0x4bcdc3['status'],null);}}};h(Oe,'ContentTyp'+'e',{'AAC':'audio/aac','BASIS':'image/basi'+'s','BIN':'applicatio'+'n/octet-st'+'ream','DDS':'image/dds','FORM_URLENCODED':'applicatio'+'n/x-www-fo'+'rm-urlenco'+'ded','GIF':'image/gif','GLB':'model/gltf'+'-binary','JPEG':'image/jpeg','JSON':'applicatio'+'n/json','MP3':'audio/mpeg','MP4':'audio/mp4','OGG':'audio/ogg','OPUS':'audio/ogg;'+'\x20codecs=\x22o'+'pus\x22','PNG':'image/png','TEXT':'text/plain','WAV':'audio/x-wa'+'v','XML':'applicatio'+'n/xml'}),h(Oe,'ResponseTy'+'pe',{'TEXT':'text','ARRAY_BUFFER':'arraybuffe'+'r','BLOB':'blob','DOCUMENT':'document','JSON':'json'}),h(Oe,'binaryExte'+'nsions',['.model','.wav','.ogg','.mp3','.mp4','.m4a','.aac','.dds','.basis','.glb','.opus']),h(Oe,'retryDelay',-0x1c69+-0x1*-0x115a+-0x3d1*-0x3);let Ls=Oe;const ot=new Ls(),Vp='linear',bw='inverse',Aw='exponentia'+'l';class Cw{constructor(_0x2a33f0){h(this,'_manager'),h(this,'position',new D()),h(this,'orientatio'+'n',new te()),this['_manager']=_0x2a33f0;}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x57659d){this['position']['copy'](_0x57659d);const _0x1eac9d=this['listener'];_0x1eac9d&&('positionX'in _0x1eac9d?(_0x1eac9d['positionX']['value']=_0x57659d['x'],_0x1eac9d['positionY']['value']=_0x57659d['y'],_0x1eac9d['positionZ']['value']=_0x57659d['z']):_0x1eac9d['setPositio'+'n']&&_0x1eac9d['setPositio'+'n'](_0x57659d['x'],_0x57659d['y'],_0x57659d['z']));}['setOrienta'+'tion'](_0x34ceb3){this['orientatio'+'n']['copy'](_0x34ceb3);const _0x3aaf26=this['listener'];if(_0x3aaf26){const _0x1f6236=_0x34ceb3['data'];'forwardX'in _0x3aaf26?(_0x3aaf26['forwardX']['value']=-_0x1f6236[-0x36a*-0x1+-0x1*-0x11b+-0x47d],_0x3aaf26['forwardY']['value']=-_0x1f6236[-0x7b+-0x2258+0x22dc*0x1],_0x3aaf26['forwardZ']['value']=-_0x1f6236[0x39c+-0x8ed+0x3*0x1c9],_0x3aaf26['upX']['value']=_0x1f6236[0x41*0x95+0x1*0x189d+-0x3e6e],_0x3aaf26['upY']['value']=_0x1f6236[0x1945+0x8a5+-0x21e5],_0x3aaf26['upZ']['value']=_0x1f6236[0x1a86+0x1352+-0x1e*0x187]):_0x3aaf26['setOrienta'+'tion']&&_0x3aaf26['setOrienta'+'tion'](-_0x1f6236[0x1b23+0x24ef+-0x400a],-_0x1f6236[-0x672+0x1c28*-0x1+0x22a3],-_0x1f6236[-0x194e+-0x1*0x224f+0x3ba7],_0x1f6236[0x7d1+-0x152d+-0x358*-0x4],_0x1f6236[-0x7*-0x277+0x261f+-0x375b],_0x1f6236[0x10cf*-0x2+-0x1*-0xd7d+0x1427]);}}['getOrienta'+'tion'](){return this['orientatio'+'n'];}get['listener'](){const _0x467eb0=this['_manager']['context'];return _0x467eb0?_0x467eb0['listener']:null;}}const Ql='running',f_=['click','touchstart','mousedown'];class Pw extends me{constructor(){super(),this['_context']=null,this['AudioConte'+'xt']=typeof AudioContext<'u'&&AudioContext||typeof webkitAudioContext<'u'&&webkitAudioContext,this['AudioConte'+'xt']||w['warn']('No\x20support'+'\x20for\x203D\x20au'+'dio\x20found'),this['_unlockHan'+'dlerFunc']=this['_unlockHan'+'dler']['bind'](this),this['_userSuspe'+'nded']=!(-0xdb1+-0xf91+0x1d43),this['listener']=new Cw(this),this['_volume']=-0x14*0x183+-0x617*-0x4+-0x5e1*-0x1;}set['volume'](_0x1c280c){_0x1c280c=Y['clamp'](_0x1c280c,0x26b9+0xe0b+0x1*-0x34c4,0xaab*-0x2+0x92f*0x3+0x2*-0x31b),this['_volume']=_0x1c280c,this['fire']('volumechan'+'ge',_0x1c280c);}get['volume'](){return this['_volume'];}get['suspended'](){return this['_userSuspe'+'nded'];}get['context'](){return!this['_context']&&this['AudioConte'+'xt']&&(this['_context']=new this['AudioConte'+'xt'](),this['_context']['state']!==Ql&&this['_registerU'+'nlockListe'+'ners']()),this['_context'];}['suspend'](){this['_userSuspe'+'nded']||(this['_userSuspe'+'nded']=!(0x2169*0x1+-0x359*0x2+-0x1ab7),this['_context']&&this['_context']['state']===Ql&&this['_suspend']());}['resume'](){this['_userSuspe'+'nded']&&(this['_userSuspe'+'nded']=!(-0x1*0x1eef+-0x1*0x8b9+0x27a9),this['_context']&&this['_context']['state']!==Ql&&this['_resume']());}['destroy'](){var _0x575f29;this['fire']('destroy'),this['_context']&&(this['_removeUnl'+'ockListene'+'rs'](),(_0x575f29=this['_context'])==null||_0x575f29['close'](),this['_context']=null);}['_resume'](){this['_context']['resume']()['then'](()=>{const _0x3f2ef8=this['_context']['createBuff'+'erSource']();_0x3f2ef8['buffer']=this['_context']['createBuff'+'er'](-0x1*-0x2db+-0x13c+-0x19e,0x32c+0x185*-0x13+-0x2*-0xcda,this['_context']['sampleRate']),_0x3f2ef8['connect'](this['_context']['destinatio'+'n']),_0x3f2ef8['start'](0x1*-0x267+0x1664*-0x1+0x18cb),_0x3f2ef8['onended']=_0x3c50e2=>{_0x3f2ef8['disconnect'](0xe57+0x165b+0xe*-0x29f),this['fire']('resume');};},_0x4e68e8=>{w['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20it\x20'+'was\x20reject'+'ed\x20'+_0x4e68e8);})['catch'](_0xd11c08=>{w['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20thr'+'ew\x20an\x20exce'+'ption\x20'+_0xd11c08);});}['_suspend'](){this['_context']['suspend']()['then'](()=>{this['fire']('suspend');},_0x299f4c=>{w['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20i'+'t\x20was\x20reje'+'cted\x20'+_0x299f4c);})['catch'](_0x51b662=>{w['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20t'+'hrew\x20an\x20ex'+'ception\x20'+_0x51b662);});}['_unlockHan'+'dler'](){this['_removeUnl'+'ockListene'+'rs'](),!this['_userSuspe'+'nded']&&this['_context']['state']!==Ql&&this['_resume']();}['_registerU'+'nlockListe'+'ners'](){f_['forEach'](_0x3eed02=>{window['addEventLi'+'stener'](_0x3eed02,this['_unlockHan'+'dlerFunc'],!(-0x13fa+-0x13a5+-0x10*-0x27a));});}['_removeUnl'+'ockListene'+'rs'](){f_['forEach'](_0x4b0d95=>{window['removeEven'+'tListener'](_0x4b0d95,this['_unlockHan'+'dlerFunc'],!(-0xa6*0x2f+-0xf57+0x16e9*0x2));});}}class Mw{constructor(_0x1ed287){h(this,'audio'),h(this,'buffer'),_0x1ed287 instanceof Audio?this['audio']=_0x1ed287:this['buffer']=_0x1ed287;}get['duration'](){let _0x172351=-0x7*0x409+-0x1*-0x14f6+0x749;return this['buffer']?_0x172351=this['buffer']['duration']:this['audio']&&(_0x172351=this['audio']['duration']),_0x172351||0x3*0xa4d+-0x115b+0x242*-0x6;}}function Dl(){return typeof AudioContext<'u'||typeof webkitAudioContext<'u';}const Zt=0x71e*-0x4+0x12e+0x1b4a,fn=0x1017+-0xee*0x23+0x1a*0xa2,Hs=0xbae+0x709*-0x5+0x1781;function es(_0x41c400,_0x570ba5){return _0x41c400%_0x570ba5||0x206d+-0x1023+-0x5*0x342;}class As extends me{constructor(_0x42ed3a,_0x3896e2,_0x1576fd){super(),h(this,'source',null),(this['_manager']=_0x42ed3a,this['_volume']=_0x1576fd['volume']!==void(0x3*0x647+-0x15cb*0x1+0x2f6)?Y['clamp'](Number(_0x1576fd['volume'])||0x91*0xf+-0x50b*-0x3+-0x2a*0x90,0x1537+-0x12b8+-0x27f,-0x4*0x66+0xb5c*0x1+-0x9c3):0x18e4+0x5e*-0x7+-0x1651,this['_pitch']=_0x1576fd['pitch']!==void(-0x1319*-0x1+-0x19e9*0x1+0x6d0*0x1)?Math['max'](0x691*0x1+0x1e9*0x3+-0xc4c+0.01,Number(_0x1576fd['pitch'])||0x5*0x5fe+-0x4c0*0x3+-0x2*0x7db):0x2*0x12cd+-0x1d39*-0x1+-0x42d2,this['_loop']=!!(_0x1576fd['loop']!==void(-0x233*-0x2+0x23a1+-0x2807)&&_0x1576fd['loop']),this['_sound']=_0x3896e2,this['_state']=Hs,this['_suspended']=!(0x1e4a+0x4*-0x650+-0x509),this['_suspendEn'+'dEvent']=-0xd70+0x265e+0x18ee*-0x1,this['_suspendIn'+'stanceEven'+'ts']=!(-0x11b+-0xce1+0xdfd),this['_playWhenL'+'oaded']=!(0x163d+-0x5b5*-0x2+-0x6bb*0x5),this['_startTime']=Math['max'](0x62b*0x2+0x828+-0x147e,Number(_0x1576fd['startTime'])||0x17c9+0x1a41+-0x131*0x2a),this['_duration']=Math['max'](-0x50+0x25f6*-0x1+0x2646,Number(_0x1576fd['duration'])||0x8fe*-0x2+0x1*-0x118f+0x238b),this['_startOffs'+'et']=null,this['_onPlayCal'+'lback']=_0x1576fd['onPlay'],this['_onPauseCa'+'llback']=_0x1576fd['onPause'],this['_onResumeC'+'allback']=_0x1576fd['onResume'],this['_onStopCal'+'lback']=_0x1576fd['onStop'],this['_onEndCall'+'back']=_0x1576fd['onEnd'],Dl()?(this['_startedAt']=-0x1*0x1f7b+0x1*0x1cc+0x11*0x1bf,this['_currentTi'+'me']=-0x3*0xbc2+-0x1d*0x59+0x2d5b,this['_currentOf'+'fset']=0x3e5+-0x1*0x1a4d+0x1668,this['_inputNode']=null,this['_connector'+'Node']=null,this['_firstNode']=null,this['_lastNode']=null,this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x199a+-0x147c+0x9*0x51f),this['_initializ'+'eNodes'](),this['_endedHand'+'ler']=this['_onEnded']['bind'](this)):(this['_isReady']=!(-0xe2*0x1+0x388*0x4+-0xd3d*0x1),this['_loadedMet'+'adataHandl'+'er']=this['_onLoadedM'+'etadata']['bind'](this),this['_timeUpdat'+'eHandler']=this['_onTimeUpd'+'ate']['bind'](this),this['_endedHand'+'ler']=this['_onEnded']['bind'](this),this['_createSou'+'rce']()));}set['currentTim'+'e'](_0x37f829){if(!(_0x37f829<0x2526+0x2a6+0x6a2*-0x6)){if(this['_state']===Zt){const _0x598699=this['_suspendIn'+'stanceEven'+'ts'];this['_suspendIn'+'stanceEven'+'ts']=!(-0x1101*-0x1+0x2d1*0x8+0x1d*-0x15d),this['stop'](),this['_startOffs'+'et']=_0x37f829,this['play'](),this['_suspendIn'+'stanceEven'+'ts']=_0x598699;}else this['_startOffs'+'et']=_0x37f829,this['_currentTi'+'me']=_0x37f829;}}get['currentTim'+'e'](){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===fn?this['_currentTi'+'me']:this['_state']===Hs||!this['source']?0x3b*0xd+0x1*-0x1eef+-0x4a8*-0x6:(this['_updateCur'+'rentTime'](),this['_currentTi'+'me']);}set['duration'](_0xed4020){this['_duration']=Math['max'](0x1*0x175b+-0x602+-0x1159,Number(_0xed4020)||-0x80*0x17+-0x25dc+0x6c*0x75);const _0x8912c7=this['_state']===Zt;this['stop'](),_0x8912c7&&this['play']();}get['duration'](){return this['_sound']?this['_duration']?es(this['_duration'],this['_sound']['duration']):this['_sound']['duration']:0x13*-0xc1+0xb*-0x2d9+0x16d3*0x2;}get['isPaused'](){return this['_state']===fn;}get['isPlaying'](){return this['_state']===Zt;}get['isStopped'](){return this['_state']===Hs;}get['isSuspende'+'d'](){return this['_suspended'];}set['loop'](_0x5a300e){this['_loop']=!!_0x5a300e,this['source']&&(this['source']['loop']=this['_loop']);}get['loop'](){return this['_loop'];}set['pitch'](_0x5b2d55){this['_currentOf'+'fset']=this['currentTim'+'e'],this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_pitch']=Math['max'](Number(_0x5b2d55)||0x1a*0x51+0xd*0xf2+-0x1484,0x93c+-0x23f5+-0x1*-0x1ab9+0.01),this['source']&&(this['source']['playbackRa'+'te']['value']=this['_pitch']);}get['pitch'](){return this['_pitch'];}set['sound'](_0x11ed0c){this['_sound']=_0x11ed0c,this['_state']!==Hs?this['stop']():this['_createSou'+'rce']();}get['sound'](){return this['_sound'];}set['startTime'](_0x274e4e){this['_startTime']=Math['max'](-0x2503+-0x1223+0x3726,Number(_0x274e4e)||-0xc*-0x123+-0x523+-0x881);const _0x4250ef=this['_state']===Zt;this['stop'](),_0x4250ef&&this['play']();}get['startTime'](){return this['_startTime'];}set['volume'](_0x124aff){_0x124aff=Y['clamp'](_0x124aff,-0x4*0x4c6+-0x14cf+0x27e7,-0x1*-0xbd7+0x1da4+0x14bd*-0x2),this['_volume']=_0x124aff,this['gain']&&(this['gain']['gain']['value']=_0x124aff*this['_manager']['volume']);}get['volume'](){return this['_volume'];}['_onPlay'](){this['fire']('play'),this['_onPlayCal'+'lback']&&this['_onPlayCal'+'lback'](this);}['_onPause'](){this['fire']('pause'),this['_onPauseCa'+'llback']&&this['_onPauseCa'+'llback'](this);}['_onResume'](){this['fire']('resume'),this['_onResumeC'+'allback']&&this['_onResumeC'+'allback'](this);}['_onStop'](){this['fire']('stop'),this['_onStopCal'+'lback']&&this['_onStopCal'+'lback'](this);}['_onEnded'](){if(this['_suspendEn'+'dEvent']>-0x13*0x1e9+-0x24d9*-0x1+-0x8e){this['_suspendEn'+'dEvent']--;return;}this['fire']('end'),this['_onEndCall'+'back']&&this['_onEndCall'+'back'](this),this['stop']();}['_onManager'+'VolumeChan'+'ge'](){this['volume']=this['_volume'];}['_onManager'+'Suspend'](){this['_state']===Zt&&!this['_suspended']&&(this['_suspended']=!(-0x20a4*-0x1+-0xa*0x8e+-0x363*0x8),this['pause']());}['_onManager'+'Resume'](){this['_suspended']&&(this['_suspended']=!(0x13*0x14c+-0x13*0x9d+0x2*-0x67e),this['resume']());}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['_inputNode']=this['gain'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}['play'](){return this['_state']!==Hs&&this['stop'](),this['_state']=Zt,this['_playWhenL'+'oaded']=!(0x5ce*0x1+-0x1fcb+0x2*0xcff),this['_waitingCo'+'ntextSuspe'+'nsion']?!(-0x2*0x13+0x22af+-0x2288):this['_manager']['suspended']?(this['_manager']['once']('resume',this['_playAudio'+'Immediate'],this),this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x3*0x2ba+0x2581*0x1+0x1*-0x2daf),!(-0x59*0x6b+-0x16bb+0x3bef)):(this['_playAudio'+'Immediate'](),!(0x161*0x2+0x1*-0x236d+0x1*0x20ab));}['_playAudio'+'Immediate'](){if(this['_waitingCo'+'ntextSuspe'+'nsion']=!(0xfa1*0x2+0x9e*0x1c+-0x19*0x1f1),this['_state']!==Zt)return;this['source']||this['_createSou'+'rce']();let _0x9a7c05=es(this['_startOffs'+'et'],this['duration']);_0x9a7c05=es(this['_startTime']+_0x9a7c05,this['_sound']['duration']),this['_startOffs'+'et']=null,this['_duration']?this['source']['start'](0x1*0x6e5+-0x8b*0xe+0xb5,_0x9a7c05,this['_duration']):this['source']['start'](0x115a+0x17b1+-0x290b,_0x9a7c05),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentTi'+'me']=-0x11da+0x183e+-0x664,this['_currentOf'+'fset']=_0x9a7c05,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay']();}['pause'](){return this['_playWhenL'+'oaded']=!(-0xae5+0xfd*0x21+-0x15b7),this['_state']!==Zt?!(-0x1*-0x7b9+-0xf97+0x7df):(this['_state']=fn,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_updateCur'+'rentTime'](),this['_suspendEn'+'dEvent']++,this['source']['stop'](0x6ac*-0x1+-0x7a5+-0x5*-0x2dd),this['source']=null,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause']()),!(0x99a*0x2+0x101f+-0x1*0x2353));}['resume'](){if(this['_state']!==fn)return!(0x1e81+0x854+-0x26d4);let _0x3ca09c=this['currentTim'+'e'];return this['_state']=Zt,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['source']||this['_createSou'+'rce'](),this['_startOffs'+'et']!==null&&(_0x3ca09c=es(this['_startOffs'+'et'],this['duration']),_0x3ca09c=es(this['_startTime']+_0x3ca09c,this['_sound']['duration']),this['_startOffs'+'et']=null),this['_duration']?this['source']['start'](0x1b97+-0x52c+-0x166b,_0x3ca09c,this['_duration']):this['source']['start'](0x6e1*-0x1+-0xc0*-0x9+-0xb*-0x3,_0x3ca09c),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentOf'+'fset']=_0x3ca09c,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_playWhenL'+'oaded']=!(-0x20*0xda+0x1cd*-0x13+-0x1c*-0x232),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(0x15e5*-0x1+0x1416+0x1cf);}['stop'](){if(this['_playWhenL'+'oaded']=!(-0x1829+-0x7*-0x50c+-0xb2a),this['_state']===Hs)return!(-0x2*-0x448+-0x6bc+0x1*-0x1d3);const _0xb5dbfc=this['_state']===Zt;return this['_state']=Hs,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_startedAt']=0x23ba+0x1811*-0x1+-0xba9,this['_currentTi'+'me']=0x1dd+0x37*-0x29+-0x2*-0x379,this['_currentOf'+'fset']=-0x62b*0x1+-0x11*-0x1ae+-0x1663,this['_startOffs'+'et']=null,this['_suspendEn'+'dEvent']++,_0xb5dbfc&&this['source']&&this['source']['stop'](0x10*-0x217+-0x1757+-0x12ed*-0x3),this['source']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop']()),!(0x2168+0xd6d+-0x1*0x2ed5);}['setExterna'+'lNodes'](_0x32ac5a,_0x388e39){if(!_0x32ac5a){console['error']('The\x20firstN'+'ode\x20must\x20b'+'e\x20a\x20valid\x20'+'Audio\x20Node');return;}_0x388e39||(_0x388e39=_0x32ac5a);const _0x3a5a80=this['_manager']['context']['destinatio'+'n'];this['_firstNode']!==_0x32ac5a&&(this['_firstNode']?this['_connector'+'Node']['disconnect'](this['_firstNode']):this['_connector'+'Node']['disconnect'](_0x3a5a80),this['_firstNode']=_0x32ac5a,this['_connector'+'Node']['connect'](_0x32ac5a)),this['_lastNode']!==_0x388e39&&(this['_lastNode']&&this['_lastNode']['disconnect'](_0x3a5a80),this['_lastNode']=_0x388e39,this['_lastNode']['connect'](_0x3a5a80));}['clearExter'+'nalNodes'](){const _0x1bea81=this['_manager']['context']['destinatio'+'n'];this['_firstNode']&&(this['_connector'+'Node']['disconnect'](this['_firstNode']),this['_firstNode']=null),this['_lastNode']&&(this['_lastNode']['disconnect'](_0x1bea81),this['_lastNode']=null),this['_connector'+'Node']['connect'](_0x1bea81);}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_createSou'+'rce'](){if(!this['_sound'])return null;const _0xc0174a=this['_manager']['context'];return this['_sound']['buffer']&&(this['source']=_0xc0174a['createBuff'+'erSource'](),this['source']['buffer']=this['_sound']['buffer'],this['source']['connect'](this['_inputNode']),this['source']['onended']=this['_endedHand'+'ler'],this['source']['loopStart']=es(this['_startTime'],this['source']['buffer']['duration']),this['_duration']&&(this['source']['loopEnd']=Math['max'](this['source']['loopStart'],es(this['_startTime']+this['_duration'],this['source']['buffer']['duration'])))),this['source'];}['_updateCur'+'rentTime'](){this['_currentTi'+'me']=es((this['_manager']['context']['currentTim'+'e']-this['_startedAt'])*this['_pitch']+this['_currentOf'+'fset'],this['duration']);}['_onManager'+'Destroy'](){this['source']&&this['_state']===Zt&&(this['source']['stop'](-0x12d7+-0x9d*-0x3d+0x1*-0x1292),this['source']=null);}}h(As,'EVENT_PLAY','play'),h(As,'EVENT_PAUS'+'E','pause'),h(As,'EVENT_RESU'+'ME','resume'),h(As,'EVENT_STOP','stop'),h(As,'EVENT_END','end'),Dl()||(Object['assign'](As['prototype'],{'play':function(){return this['_state']!==Hs&&this['stop'](),!this['source']&&!this['_createSou'+'rce']()?!(-0x245+0x12*0x169+-0x171c):(this['volume']=this['_volume'],this['pitch']=this['_pitch'],this['loop']=this['_loop'],this['source']['play'](),this['_state']=Zt,this['_playWhenL'+'oaded']=!(0x87*-0x4a+0x1ca7+0x8*0x14c),this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_manager']['suspended']&&this['_onManager'+'Suspend'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay'](),!(0x1534+0x159*0x7+-0x1ea3));},'pause':function(){return!this['source']||this['_state']!==Zt?!(-0x32b*0x2+0x1ae8+-0x195*0xd):(this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(-0x1e7f*0x1+-0x17*0x1af+-0x21*-0x219),this['_state']=fn,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause'](),!(0x347*0x3+0x8cc*-0x4+0x195b*0x1));},'resume':function(){return!this['source']||this['_state']!==fn?!(-0x897*0x1+-0x171+0xa09):(this['_state']=Zt,this['_playWhenL'+'oaded']=!(0x26b4+-0x200f+-0x6a4),this['source']['paused']&&(this['source']['play'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(0x1600+0x151f+-0x2b1f));},'stop':function(){return!this['source']||this['_state']===Hs?!(-0xe47+0x1*-0x163d+0x2485):(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(0xe*-0xe8+0x17a6+-0xaf5),this['_state']=Hs,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop'](),!(-0xb5f+-0x2*-0x42e+0x303));},'setExternalNodes':function(){},'clearExternalNodes':function(){},'getExternalNodes':function(){return[null,null];},'_onLoadedMetadata':function(){this['source']['removeEven'+'tListener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['_isReady']=!(-0x76*-0x53+-0x2fc*-0xa+0x2e*-0x17b);let _0x1bfa5c=es(this['_startOffs'+'et'],this['duration']);_0x1bfa5c=es(this['_startTime']+_0x1bfa5c,this['_sound']['duration']),this['_startOffs'+'et']=null,this['source']['currentTim'+'e']=_0x1bfa5c;},'_createSource':function(){return this['_sound']&&this['_sound']['audio']&&(this['_isReady']=!(-0x84c+-0x1*0x14e9+-0x1*-0x1d36),this['source']=this['_sound']['audio']['cloneNode'](!(-0x286*0x5+-0x142d+0x20cb)),this['source']['addEventLi'+'stener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['source']['addEventLi'+'stener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['onended']=this['_endedHand'+'ler']),this['source'];},'_onTimeUpdate':function(){this['_duration']&&this['source']['currentTim'+'e']>es(this['_startTime']+this['_duration'],this['source']['duration'])&&(this['loop']?this['source']['currentTim'+'e']=es(this['_startTime'],this['source']['duration']):(this['source']['removeEven'+'tListener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['pause'](),this['_onEnded']()));},'_onManagerDestroy':function(){this['source']&&this['source']['pause']();}}),Object['defineProp'+'erty'](As['prototype'],'volume',{'get':function(){return this['_volume'];},'set':function(_0x1094e8){_0x1094e8=Y['clamp'](_0x1094e8,0x1db7+0x147b*-0x1+0x6*-0x18a,0x36+-0x1*0x1d69+0x2a*0xb2),this['_volume']=_0x1094e8,this['source']&&(this['source']['volume']=_0x1094e8*this['_manager']['volume']);}}),Object['defineProp'+'erty'](As['prototype'],'pitch',{'get':function(){return this['_pitch'];},'set':function(_0x22f98b){this['_pitch']=Math['max'](Number(_0x22f98b)||0x1*-0x159b+-0x47*0x6a+-0x1*-0x3301,-0x469+0x1167*0x1+0xcfe*-0x1+0.01),this['source']&&(this['source']['playbackRa'+'te']=this['_pitch']);}}),Object['defineProp'+'erty'](As['prototype'],'sound',{'get':function(){return this['_sound'];},'set':function(_0x10405d){this['stop'](),this['_sound']=_0x10405d;}}),Object['defineProp'+'erty'](As['prototype'],'currentTim'+'e',{'get':function(){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===Hs||!this['source']?0x1edb*0x1+0x41*0x6d+-0x3a88:this['source']['currentTim'+'e']-this['_startTime'];},'set':function(_0x224fff){_0x224fff<0xca*-0x9+0x47e*-0x1+0xb98||(this['_startOffs'+'et']=_0x224fff,this['source']&&this['_isReady']&&(this['source']['currentTim'+'e']=es(this['_startTime']+es(_0x224fff,this['duration']),this['_sound']['duration']),this['_startOffs'+'et']=null));}}));const Dw=-0x1*-0x250b+0x31ba+-0x2fb5;class sn extends As{constructor(_0x2b0f6a,_0x4691ee,_0x3fcabc={}){super(_0x2b0f6a,_0x4691ee,_0x3fcabc),h(this,'_position',new D()),h(this,'_velocity',new D()),(_0x3fcabc['position']&&(this['position']=_0x3fcabc['position']),this['maxDistanc'+'e']=_0x3fcabc['maxDistanc'+'e']!==void(0x19a3+-0x57b+-0x1428)?Number(_0x3fcabc['maxDistanc'+'e']):Dw,this['refDistanc'+'e']=_0x3fcabc['refDistanc'+'e']!==void(0x1b1*0x8+-0x2f0+-0xa98)?Number(_0x3fcabc['refDistanc'+'e']):0x29*0xa0+0x8f3+0x2292*-0x1,this['rollOffFac'+'tor']=_0x3fcabc['rollOffFac'+'tor']!==void(-0x22cd+-0x1*-0x1fb5+0x24*0x16)?Number(_0x3fcabc['rollOffFac'+'tor']):0x2024*-0x1+-0x7*0x565+0x45e8,this['distanceMo'+'del']=_0x3fcabc['distanceMo'+'del']!==void(-0x74f+0x1*-0x24cc+0x2c1b)?_0x3fcabc['distanceMo'+'del']:Vp);}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['panner']=this['_manager']['context']['createPann'+'er'](),this['panner']['connect'](this['gain']),this['_inputNode']=this['panner'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}set['position'](_0xad07a4){this['_position']['copy'](_0xad07a4);const _0x34c292=this['panner'];'positionX'in _0x34c292?(_0x34c292['positionX']['value']=_0xad07a4['x'],_0x34c292['positionY']['value']=_0xad07a4['y'],_0x34c292['positionZ']['value']=_0xad07a4['z']):_0x34c292['setPositio'+'n']&&_0x34c292['setPositio'+'n'](_0xad07a4['x'],_0xad07a4['y'],_0xad07a4['z']);}get['position'](){return this['_position'];}set['velocity'](_0xb8b768){w['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity']['copy'](_0xb8b768);}get['velocity'](){return w['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity'];}set['maxDistanc'+'e'](_0x20a114){this['panner']['maxDistanc'+'e']=_0x20a114;}get['maxDistanc'+'e'](){return this['panner']['maxDistanc'+'e'];}set['refDistanc'+'e'](_0xf2f33e){this['panner']['refDistanc'+'e']=_0xf2f33e;}get['refDistanc'+'e'](){return this['panner']['refDistanc'+'e'];}set['rollOffFac'+'tor'](_0x37ffdf){this['panner']['rolloffFac'+'tor']=_0x37ffdf;}get['rollOffFac'+'tor'](){return this['panner']['rolloffFac'+'tor'];}set['distanceMo'+'del'](_0xe1de6e){this['panner']['distanceMo'+'del']=_0xe1de6e;}get['distanceMo'+'del'](){return this['panner']['distanceMo'+'del'];}}if(!Dl()){let l=new D();const t=function(_0x53c6c2,_0x59059d,_0x282a70,_0x192a55,_0xb64923,_0x2a871f){l=l['sub2'](_0x53c6c2,_0x59059d);const _0x61d574=l['length']();if(_0x61d574<_0x282a70)return 0x9c9+0x1*0x101+-0xac9;if(_0x61d574>_0x192a55)return-0xfa2+-0xc*-0x43+0x52*0x27;let _0x179f78=0xfc7+-0x17b*-0x11+-0x28f2;return _0x2a871f===Vp?_0x179f78=0x18e6+0x4*0x8d6+-0x7*0x89b-_0xb64923*(_0x61d574-_0x282a70)/(_0x192a55-_0x282a70):_0x2a871f===bw?_0x179f78=_0x282a70/(_0x282a70+_0xb64923*(_0x61d574-_0x282a70)):_0x2a871f===Aw&&(_0x179f78=Math['pow'](_0x61d574/_0x282a70,-_0xb64923)),Y['clamp'](_0x179f78,0x175a+-0x1b57+0x3fd,0x4*-0x14b+0x1be0+0xd*-0x1bf);};Object['defineProp'+'erty'](sn['prototype'],'position',{'get':function(){return this['_position'];},'set':function(_0x24208b){if(this['_position']['copy'](_0x24208b),this['source']){const _0x24f241=this['_manager']['listener']['getPositio'+'n'](),_0x355a32=t(_0x24f241,this['_position'],this['refDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x174ade=this['volume'];this['source']['volume']=_0x174ade*_0x355a32*this['_manager']['volume'];}}}),Object['defineProp'+'erty'](sn['prototype'],'maxDistanc'+'e',{'get':function(){return this['_maxDistan'+'ce'];},'set':function(_0x1f6834){this['_maxDistan'+'ce']=_0x1f6834;}}),Object['defineProp'+'erty'](sn['prototype'],'refDistanc'+'e',{'get':function(){return this['_refDistan'+'ce'];},'set':function(_0x2c4088){this['_refDistan'+'ce']=_0x2c4088;}}),Object['defineProp'+'erty'](sn['prototype'],'rollOffFac'+'tor',{'get':function(){return this['_rollOffFa'+'ctor'];},'set':function(_0x153f7e){this['_rollOffFa'+'ctor']=_0x153f7e;}}),Object['defineProp'+'erty'](sn['prototype'],'distanceMo'+'del',{'get':function(){return this['_distanceM'+'odel'];},'set':function(_0x19cf93){this['_distanceM'+'odel']=_0x19cf93;}});}const Gp=0x39d*-0x9+0x7b*0x5+0x1e1e,Hp=0x1*0x1e24+-0x7*0xb+-0x1dd6,Zs=-0x1*0xa2b+-0x943*0x4+0x2f39,Cs=-0x2628+0x1a35+0xbf6,Gn=0x1*-0xd23+0x16f6+-0x1*0x9cf,Wp=-0x9db*-0x2+0x221f+-0x35d0,Ed=0x3a3+-0x26bc+0xf3*0x25,$p=0x5c2*0x3+0x241b+-0x355a,Xp=-0x178f+-0x1db2+0x3*0x11c3,qp=-0x231*0x3+-0x223e*0x1+-0x53*-0x7e,jp=-0x6cb+0x2*0x1271+-0x1e0d,Yy={[Gp]:'SUBTRACTIV'+'E',[Hp]:'ADDITIVE',[Zs]:'NORMAL',[Cs]:'NONE',[Gn]:'PREMULTIPL'+'IED',[Wp]:'MULTIPLICA'+'TIVE',[Ed]:'ADDITIVEAL'+'PHA',[$p]:'MULTIPLICA'+'TIVE2X',[Xp]:'SCREEN',[qp]:'MIN',[jp]:'MAX'},Kn='none',Iw='linear',Lw=-0x1127*0x2+-0x267d+-0x5*-0xe8f,Yp=0x2264+-0x64d*-0x3+-0x3549,Rw={[Lw]:'NONE',[Yp]:'SCHLICK'},Ow=-0x13fa+0x561+-0xe99*-0x1,Ky=-0xaf+0x2*0x722+-0xd86,er=0x248*0x1+-0xc29*-0x3+-0x26c3,ps=0x1055+0x1f9b+-0x2fef,Kp=-0x1*0x607+0x1*0x205e+-0x1a55,Zp=-0xe9*0x27+-0x1012+0x3394,Il=0x1c13+-0x193*0x1+-0xe2*0x1e,ve=-0x1204*0x1+-0x1258*-0x1+-0x54,Ke=0x10e0+0xb83+-0x1c62,Ze=0xa25+-0x575*0x1+-0x2*0x257,u_={[ve]:'DIRECTIONA'+'L',[Ke]:'OMNI',[Ze]:'SPOT'},$c=-0x1cfc+0x2338+-0x5d8,Ys=-0x268d+0x4*0x1d3+0x1f41,Zy=-0x4ff+0xb*-0x273+0x1e1*0x11,Qy=0x1025*0x2+0x25e+-0x22a6,Jy=-0x9b0+-0x1*0x1a93+0x2*0x1223,Fw={[Ys]:'PUNCTUAL',[Zy]:'RECT',[Qy]:'DISK',[Jy]:'SPHERE'},Qp=-0x7d4+-0x17e2+0x549*0x6,ev=-0x2*-0x1154+-0x1a61+0x846*-0x1,Nw={[Qp]:'LINEAR',[ev]:'INVERSESQU'+'ARED'},$s=-0x2191+-0x1*0x1e0b+-0xb1*-0x5c,au=-0x18c2+0x1*-0x2bf+-0x1b83*-0x1,Jp=-0x1d74+-0x16d2+0x3449*0x1,kw=0x262*0xc+-0x30f+-0x8b*0x2f,tv=-0xa13+-0x10cc+-0x1ae4*-0x1,al=0xb64+0x3*-0x10c+-0x83a,sv=-0x6b1*-0x3+-0x272+-0x119a,iv=0xe3*-0x7+0x4d*-0x54+-0x1f81*-0x1,Uw=-0x252f+0x22*0x3d+0x1d1e,qi=new Map([[tv,{'name':'PCF1_32F','kind':'PCF1','format':$i,'pcf':!(0x301*-0x2+-0xb7c+0x117e)}],[$s,{'name':'PCF3_32F','kind':'PCF3','format':$i,'pcf':!(0x4d2*0x1+0x1be*0xb+0x17fc*-0x1)}],[kw,{'name':'PCF5_32F','kind':'PCF5','format':$i,'pcf':!(0xb*0x30a+0xda1+-0x2f0f)}],[sv,{'name':'PCF1_16F','kind':'PCF1','format':vn,'pcf':!(-0x265f+0x4be*0x4+0x1367)}],[iv,{'name':'PCF3_16F','kind':'PCF3','format':vn,'pcf':!(0x3a*0x34+0x2*0xca4+-0x4*0x944)}],[Uw,{'name':'PCF5_16F','kind':'PCF5','format':vn,'pcf':!(-0x1*-0xc5+0x1*0x6af+-0x9f*0xc)}],[au,{'name':'VSM_16F','kind':'VSM','format':nt,'vsm':!(0x222e+0xd57+0x5*-0x981)}],[Jp,{'name':'VSM_32F','kind':'VSM','format':Xt,'vsm':!(0x1*0x3+-0x1139+0x1136)}],[al,{'name':'PCSS_32F','kind':'PCSS','format':Ji,'pcss':!(0x3*-0x691+-0x1210+0x25c3)}]]),Bw=-0x8cb*0x4+0x12af*-0x2+-0xeb5*-0x5,em=0x190c+0x2af*-0x5+0xba0*-0x1,nu=0x3f2+-0xc90+-0x2*-0x44f,rv=0x1ebc+-0x1*-0x351+-0x220d,ai=-0x143*0x11+0xeb+0x1488,zw=0x9+0x3*0x503+-0xf11,yh=0xf59+0x22d7+0x16*-0x248,Vw=0x15cf*0x1+0x17a4+-0x1*0x2d72,ni=0xb*0x10f+0x2489*0x1+-0x371*0xe,En=0x859*0x3+-0x520+-0x13ea,un=0x171+-0x76*0x3d+0x1aad,$r=0x1782+0x1018+-0x2799,Jl=-0x1a4*0xe+-0xeaa+0x25a4,tm=0x2103*-0x1+0x17*0x61+0x184c,av=-0x2*0xe41+0x8d0+0x13b3,Gw={[tm]:'NONE',[av]:'BOX'},p_='mul',Ll=-0x1204+0x1*0xba1+0xf*0x6d,Xc=0xf9f*0x1+0x101d+-0x1fbb,Hw={[Ll]:'NONE',[Xc]:'SRGB'},sm=0x2*-0xa9f+-0x18d+-0x16cb*-0x1,UU=-0x51b*0x7+0x1db6+0x608,BU=0x4*-0x4b7+0x47f*0x7+-0xc9b,zU=-0x1*0x1517+0x5*-0x5e+-0x8*-0x2de,VU=0x2256+0x2290+-0x3*0x16f6,GU=-0xe2d+-0x197a+0x4*0x9eb,nv=0x40c+-0x1*0x23ab+0x1fa5,ov=['LINEAR','FILMIC','HEJL','ACES','ACES2','NEUTRAL','NONE'],lv=-0x1b58+-0xa64+0x25bc,bd=-0x1beb+-0x15*-0xe5+-0x1*-0x923,cv=0x1*0x139+0x25fb+-0x2732,Ww={[lv]:'NONE',[bd]:'AO',[cv]:'GLOSSDEPEN'+'DENT'},vr='none',vh='envAtlas',xh='envAtlasHQ',Th='cubeMap',hv='sphereMap',$w={[vr]:'NONE',[vh]:'ENVATLAS',[xh]:'ENVATLASHQ',[Th]:'CUBEMAP',[hv]:'SPHEREMAP'},im='ambientSH',rm='envAtlas',am='constant',Xw={[im]:'AMBIENTSH',[rm]:'ENVALATLAS',[am]:'CONSTANT'},wh=-0x994*-0x1+0x43*0x6f+-0x26a0,nl=0x42d*-0x9+0x189+-0x82*-0x47,nm=-0x4c1*0x5+-0x35f*0x9+0x3620,dv=0x2d1+-0x1*-0x18de+-0x1ba7,fv=0x7*-0x233+0x25c6+0x1d*-0xc5,ol=0x1*-0xd6f+0x72*0x17+0x351*0x1,ou=0x1cbf+0x1*0x1af2+-0x3771,uv=0x181c+-0x1*-0x589+-0x1d25,Eh=-0xf3*0x25+-0x1*0x1d3c+0x415b,om=-0xa83+-0x16b*-0x4+0x6d7,ll=0x224b+-0x8*0x46d+0x1*0x51d,cl=-0x1b0e*0x1+0x15f+0x21af*0x1,pv=-0x546+0xc0e*-0x2+0x2d62,hl=-0xc*0x3cb+-0x3c71+0x89f5*0x1,qc=0x1943*0x3+-0x1d*-0x1a3+-0x3b40,Ps=-0x40f*-0x1+0x11*0x5+0x4*-0x119,xr=-0x45f*0x3+-0x1ccb+-0x1*-0x29e9,lm=0x1d08*0x1+-0x5fb+-0x170b*0x1,Ss=-0x631*0x1+-0xc1b+0x5*0x3a9,di=-0x1515+-0x185*-0xb+0x460,fi=0x3b*0x25+-0x170f+0x214*0x7,Aa=-0x5f0+-0x20ba+0x26aa,Rl=0x122e+0x12b6+0x1*-0x24e3,cm=-0x8e9*0x2+-0x1b0a+0x2*0x166f,Zn=-0x983+-0x1e0e+0x2794,ci=0x10a1+-0x139*-0x5+0x52*-0x47,Pt=0x2*-0x393+0x14c6+-0x1*0xd9f,Mt=0xe88+0x1220+-0x20a6,qw={[ci]:'SIMPLE',[Pt]:'SLICED',[Mt]:'TILED'},jc=-0x162b+0x1*0x12af+0x37d,ec=0x501*0x3+-0x15a8+0x6a5,Yc=-0xb1f+0xbd4+-0xb5,jw=-0x1ceb+0x1e54+-0x168,Yw=0x2*-0xa79+-0x4*0x8b1+0x8*0x6f7,m_=-0x12f7+0x14a6*0x1+-0x1ac,Kw=-0x96d+-0x1918+-0x2289*-0x1,Zw=0x660+-0x583+-0x36*0x4,hm=0x35*-0x8b+0x519+0x1*0x17ae,lu=-0x5*-0x71+0x7*-0x115+-0x113*-0x5,Ce=0x47*0xb+-0x118f+0xe82,je=-0x1f7d+0x11eb+0xd93,Bo='infinite',Qw='box',Jw='dome',Sa='none',eE='bayer8',tE='bluenoise',sE='ignnoise',iE={[Sa]:'NONE',[eE]:'BAYER8',[tE]:'BLUENOISE',[sE]:'IGNNOISE'},rE='prerender',aE='postrender',nE='prerender:'+'layer',oE='postrender'+':layer',mv='precull',_v='postcull',lE='cull:end';class Ad{constructor(_0x446f86,_0x43ccc8,_0x40cce1){h(this,'uniformFor'+'mats',[]),h(this,'bindGroupF'+'ormats',[]),h(this,'vertexForm'+'at'),(this['uniformFor'+'mats'][rl]=_0x446f86,this['bindGroupF'+'ormats'][rl]=_0x43ccc8,this['vertexForm'+'at']=_0x40cce1);}['hasUniform'](_0x4c004e){for(let _0x1eec59=0x3*-0x50e+-0x1*-0x2469+0x6f*-0x31;_0x1eec59<this['uniformFor'+'mats']['length'];_0x1eec59++){const _0xfa4880=this['uniformFor'+'mats'][_0x1eec59];if(_0xfa4880!=null&&_0xfa4880['get'](_0x4c004e))return!(-0x2bf*0x9+-0x49*-0x17+0x38*0x53);}return!(0x1f*0x51+0x12*0x1f2+-0x1669*0x2);}['hasTexture'](_0x3a0cae){for(let _0x1bcf85=0x2270+0xe*0x1ac+0x3*-0x1348;_0x1bcf85<this['bindGroupF'+'ormats']['length'];_0x1bcf85++){const _0x3eb6eb=this['bindGroupF'+'ormats'][_0x1bcf85];if(_0x3eb6eb!=null&&_0x3eb6eb['getTexture'](_0x3a0cae))return!(0xa5c+-0x4e1*-0x7+-0xd7*0x35);}return!(-0x11*0xc1+-0x22f3*0x1+0x2fc5);}['getVertexE'+'lement'](_0x456b41){var _0x67f73d;return(_0x67f73d=this['vertexForm'+'at'])==null?void(0x1a28+0x1*0xdca+-0x27f2):_0x67f73d['elements']['find'](_0x1c0a15=>_0x1c0a15['name']===_0x456b41);}['generateKe'+'y'](_0x22fe3c){var _0x922241;let _0x5396b0=JSON['stringify'](this['uniformFor'+'mats'])+JSON['stringify'](this['bindGroupF'+'ormats']);return _0x22fe3c['isWebGPU']&&(_0x5396b0+=(_0x922241=this['vertexForm'+'at'])==null?void(0x12*-0xa9+-0x1401+0x1fe3):_0x922241['shaderProc'+'essingHash'+'String']),_0x5396b0;}}const gv=new Kt();function Hn(_0x216216){const _0x4bf458=gv['get'](_0x216216);return w['assert'](_0x4bf458),_0x4bf458;}function cE(_0x52654c,_0x3fba4a){w['assert'](_0x3fba4a),gv['get'](_0x52654c,()=>_0x3fba4a);}class ya{static['definesHas'+'h'](_0x5e7418){const _0x4b47d3=Array['from'](_0x5e7418)['sort']((_0x2918b2,_0x541449)=>_0x2918b2[-0x63*0x50+0x1*-0x99f+0x288f]>_0x541449[0x1dc6+0x2d*0x77+-0x32b1]?-0x1*-0x232f+-0x20c1+-0x26d:-(0x19f5+-0x2646+0xc52));return hi(JSON['stringify'](_0x4b47d3));}}const hE=new Kt();class dE{constructor(_0x53be8d,_0x31b89d,_0x2fc9d0={}){h(this,'index'),h(this,'name'),h(this,'defines',new Map()),(w['assert'](/^[a-z]\w*$/i['test'](_0x53be8d),'ShaderPass'+'\x20name\x20can\x20'+'only\x20conta'+'in\x20letters'+',\x20numbers\x20'+'and\x20unders'+'cores\x20and\x20'+'start\x20with'+'\x20a\x20letter:'+'\x20'+_0x53be8d),this['name']=_0x53be8d,this['index']=_0x31b89d,Object['assign'](this,_0x2fc9d0),this['buildShade'+'rDefines']());}['buildShade'+'rDefines'](){let _0x2d2ce6;this['isShadow']?_0x2d2ce6='SHADOW':this['isForward']?_0x2d2ce6='FORWARD':this['index']===Zn&&(_0x2d2ce6='PICK'),this['defines']['set'](_0x2d2ce6+'_PASS',''),this['defines']['set'](this['name']['toUpperCas'+'e']()+'_PASS','');}}class Si{constructor(){h(this,'passesName'+'d',new Map()),h(this,'passesInde'+'xed',[]),h(this,'nextIndex',-0x10*0x7+0x3*0x371+-0x9e3);const _0x460548=(_0x35d0a0,_0x431148,_0xaa832c)=>{const _0xda828b=this['allocate'](_0x35d0a0,_0xaa832c);w['assert'](_0xda828b['index']===_0x431148);};_0x460548('forward',Aa,{'isForward':!(-0x7*-0x1a5+-0x143b+0x8b8)}),_0x460548('prepass',Rl),_0x460548('shadow',cm),_0x460548('pick',Zn);}static['get'](_0x593e7e){return w['assert'](_0x593e7e),hE['get'](_0x593e7e,()=>new Si());}['allocate'](_0x2805bd,_0x365c00){let _0x5a743c=this['passesName'+'d']['get'](_0x2805bd);return _0x5a743c===void(0x429+0xbd5+-0xffe)&&(_0x5a743c=new dE(_0x2805bd,this['nextIndex'],_0x365c00),this['passesName'+'d']['set'](_0x5a743c['name'],_0x5a743c),this['passesInde'+'xed'][_0x5a743c['index']]=_0x5a743c,this['nextIndex']++),_0x5a743c;}['getByIndex'](_0x35912d){const _0x2fd376=this['passesInde'+'xed'][_0x35912d];return w['assert'](_0x2fd376),_0x2fd376;}['getByName'](_0x1ea433){return this['passesName'+'d']['get'](_0x1ea433);}}class __ extends Map{constructor(){super(...arguments),h(this,'_keyDirty',!(0x423+-0x4d*-0x27+-0xfdd)),h(this,'_key','');}['set'](_0x572725,_0x3da0f0){return(!this['has'](_0x572725)||this['get'](_0x572725)!==_0x3da0f0)&&this['markDirty'](),super['set'](_0x572725,_0x3da0f0);}['add'](_0x41495b){for(const [_0x318f18,_0x60062d]of Object['entries'](_0x41495b))this['set'](_0x318f18,_0x60062d);return this;}['delete'](_0x775b74){const _0x5471ec=this['has'](_0x775b74),_0x3237b6=super['delete'](_0x775b74);return _0x5471ec&&_0x3237b6&&this['markDirty'](),_0x3237b6;}['clear'](){this['size']>0x49*-0x6f+0x15*-0x165+0x3cf0&&this['markDirty'](),super['clear']();}['markDirty'](){this['_dirty']=!(-0x168d+0x10ab+0x5e2),this['_keyDirty']=!(-0x100c+0x2*0xaf9+-0x5e6);}['isDirty'](){return this['_dirty'];}['resetDirty'](){this['_dirty']=!(0xa15+-0xe9c+-0x1*-0x488);}get['key'](){return this['_keyDirty']&&(this['_keyDirty']=!(-0x2029*0x1+0x766+0x18c4),this['_key']=Array['from'](this['entries']())['sort'](([_0x169e25],[_0x8411f])=>_0x169e25<_0x8411f?-(-0x5*0xaf+-0xb50+0x4*0x3af):_0x169e25>_0x8411f?-0x2243+0x24f7+-0x2b3:0x12c7+-0x919+0x76*-0x15)['map'](([_0x4a0425,_0x535fe2])=>_0x4a0425+'='+hi(_0x535fe2))['join'](',')),this['_key'];}['copy'](_0x562356){this['clear']();for(const [_0x2dac25,_0x25ca1d]of _0x562356)this['set'](_0x2dac25,_0x25ca1d);return this;}}const fE=new Kt();class Pe{constructor(){h(this,'glsl',new __()),h(this,'wgsl',new __()),h(this,'version','');}static['get'](_0x17eddc,_0x3705d1=Fe){const _0x5f1112=fE['get'](_0x17eddc,()=>new Pe());return _0x3705d1===Fe?_0x5f1112['glsl']:_0x5f1112['wgsl'];}get['useWGSL'](){return this['glsl']['size']===-0x1*-0x18d+-0x11c2*-0x1+-0x1*0x134f||this['wgsl']['size']>0x1*0xaed+-0xce4+0x1f7;}get['key'](){return'GLSL:'+this['glsl']['key']+'|WGSL:'+this['wgsl']['key']+'|API:'+this['version'];}['isDirty'](){return this['glsl']['isDirty']()||this['wgsl']['isDirty']();}['resetDirty'](){this['glsl']['resetDirty'](),this['wgsl']['resetDirty']();}['copy'](_0x167029){return this['version']=_0x167029['version'],this['glsl']['copy'](_0x167029['glsl']),this['wgsl']['copy'](_0x167029['wgsl']),this;}}class bh{static['merge'](..._0x41cd7c){const _0x51b7c6=new Map(_0x41cd7c[0x23df+0x7a1+-0x2b80]??[]);for(let _0x2e8f07=0x7*0x64+0x3d*0x82+-0x21b5;_0x2e8f07<_0x41cd7c['length'];_0x2e8f07++){const _0x2d00ec=_0x41cd7c[_0x2e8f07];if(_0x2d00ec){for(const [_0x42822b,_0x35d62a]of _0x2d00ec)_0x51b7c6['set'](_0x42822b,_0x35d62a);}}return _0x51b7c6;}}class uE extends ya{constructor(_0x50b795,_0x3bbc19){super(),this['key']=_0x50b795,this['shaderDefi'+'nition']=_0x3bbc19;}['generateKe'+'y'](_0x31e8c0){return this['key'];}['createShad'+'erDefiniti'+'on'](_0x3748ba,_0x258f2f){return this['shaderDefi'+'nition'];}}class $t{static['createShad'+'er'](_0x53490b,_0x356267){const _0x152082=Hn(_0x53490b);let _0x53bab5=_0x152082['getCachedS'+'hader'](_0x356267['uniqueName']);if(!_0x53bab5){const _0x5215c7=_0x53490b['isWebGPU']&&(!!_0x356267['vertexWGSL']||!!_0x356267['vertexChun'+'k'])&&(!!_0x356267['fragmentWG'+'SL']||!!_0x356267['fragmentCh'+'unk']),_0x1bb4bd=Pe['get'](_0x53490b,_0x5215c7?it:Fe),_0x5a5b17=_0x356267['vertexChun'+'k']?_0x1bb4bd['get'](_0x356267['vertexChun'+'k']):_0x5215c7?_0x356267['vertexWGSL']:_0x356267['vertexGLSL'],_0x3da7b4=_0x356267['fragmentCh'+'unk']?_0x1bb4bd['get'](_0x356267['fragmentCh'+'unk']):_0x5215c7?_0x356267['fragmentWG'+'SL']:_0x356267['fragmentGL'+'SL'];w['assert'](_0x5a5b17,'ShaderUtil'+'s.createSh'+'ader:\x20vert'+'ex\x20shader\x20'+'code\x20not\x20p'+'rovided',_0x356267),w['assert'](_0x3da7b4,'ShaderUtil'+'s.createSh'+'ader:\x20frag'+'ment\x20shade'+'r\x20code\x20not'+'\x20provided',_0x356267);const _0x41adb7=bh['merge'](_0x1bb4bd,_0x356267['fragmentIn'+'cludes']),_0x95921b=bh['merge'](_0x1bb4bd,_0x356267['vertexIncl'+'udes']);_0x53bab5=new qy(_0x53490b,Jt['createDefi'+'nition'](_0x53490b,{'name':_0x356267['uniqueName'],'shaderLanguage':_0x5215c7?it:Fe,'attributes':_0x356267['attributes'],'vertexCode':_0x5a5b17,'fragmentCode':_0x3da7b4,'useTransformFeedback':_0x356267['useTransfo'+'rmFeedback'],'vertexIncludes':_0x95921b,'vertexDefines':_0x356267['vertexDefi'+'nes'],'fragmentIncludes':_0x41adb7,'fragmentDefines':_0x356267['fragmentDe'+'fines'],'fragmentOutputTypes':_0x356267['fragmentOu'+'tputTypes']})),_0x152082['setCachedS'+'hader'](_0x356267['uniqueName'],_0x53bab5);}return _0x53bab5;}static['getCoreDef'+'ines'](_0x206c88,_0x43dd66){const _0x57360b=new Map(_0x206c88['defines']);return _0x43dd66['cameraShad'+'erParams']['defines']['forEach']((_0x65061,_0xa0ef9d)=>_0x57360b['set'](_0xa0ef9d,_0x65061)),Si['get'](_0x43dd66['device'])['getByIndex'](_0x43dd66['pass'])['defines']['forEach']((_0x648055,_0x300a3f)=>_0x57360b['set'](_0x300a3f,_0x648055)),_0x57360b;}static['processSha'+'der'](_0x3407d8,_0x5e7fb1){w['assert'](_0x3407d8);const _0x6e8581=_0x3407d8['definition'],_0x46ccb1=(_0x6e8581['name']??'shader')+'-id-'+_0x3407d8['id'],_0x144cfd=new uE(_0x46ccb1,_0x6e8581),_0x519854='shader',_0x333f31=Hn(_0x3407d8['device']);w['assert'](!_0x333f31['isRegister'+'ed'](_0x519854)),_0x333f31['register'](_0x519854,_0x144cfd);const _0x2d38b4=_0x333f31['getProgram'](_0x519854,{},_0x5e7fb1);return _0x333f31['unregister'](_0x519854),_0x2d38b4;}static['addScreenD'+'epthChunkD'+'efines'](_0x5a00cb,_0x169f69,_0x2d319d){_0x169f69['sceneDepth'+'MapLinear']&&_0x2d319d['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',''),_0x5a00cb['textureFlo'+'atRenderab'+'le']&&_0x2d319d['set']('SCENE_DEPT'+'HMAP_FLOAT','');}}const pE={'type':Er,'base':0x0,'baseVertex':0x0,'count':0x4,'indexed':!(-0x2b*0xae+-0x1*0x1d51+-0xea3*-0x4)},so=new re(),io=new re(),Gd=new ky();class Ah{constructor(_0x463a1b){h(this,'uniformBuf'+'fer'),h(this,'bindGroup');const _0x458814=_0x463a1b['device'];if(this['shader']=_0x463a1b,w['assert'](_0x463a1b),_0x458814['supportsUn'+'iformBuffe'+'rs']){const _0x396090=new Ad();this['shader']=$t['processSha'+'der'](_0x463a1b,_0x396090);const _0x3d523c=this['shader']['meshUnifor'+'mBufferFor'+'mat'];_0x3d523c&&(this['uniformBuf'+'fer']=new zp(_0x458814,_0x3d523c,!(-0x454+-0x1*0x2501+-0xd*-0x32e)));const _0x3914c0=this['shader']['meshBindGr'+'oupFormat'];w['assert'](_0x3914c0),this['bindGroup']=new Up(_0x458814,_0x3914c0),Ea['setName'](this['bindGroup'],'QuadRender'+'-MeshBindG'+'roup_'+this['bindGroup']['id']);}}['destroy'](){var _0x475556,_0x1db584;(_0x475556=this['uniformBuf'+'fer'])==null||_0x475556['destroy'](),this['uniformBuf'+'fer']=null,(_0x1db584=this['bindGroup'])==null||_0x1db584['destroy'](),this['bindGroup']=null;}['render'](_0x35b9b0,_0x85122){const _0x5144bf=this['shader']['device'];Q['pushGpuMar'+'ker'](_0x5144bf,'QuadRender'),_0x35b9b0&&(so['set'](_0x5144bf['vx'],_0x5144bf['vy'],_0x5144bf['vw'],_0x5144bf['vh']),io['set'](_0x5144bf['sx'],_0x5144bf['sy'],_0x5144bf['sw'],_0x5144bf['sh']),_0x85122=_0x85122??_0x35b9b0,_0x5144bf['setViewpor'+'t'](_0x35b9b0['x'],_0x35b9b0['y'],_0x35b9b0['z'],_0x35b9b0['w']),_0x5144bf['setScissor'](_0x85122['x'],_0x85122['y'],_0x85122['z'],_0x85122['w'])),_0x5144bf['setVertexB'+'uffer'](_0x5144bf['quadVertex'+'Buffer'],-0x6*-0x49b+0x8*0x8+-0xa6*0x2b);const _0x3f4f69=this['shader'];if(_0x5144bf['setShader'](_0x3f4f69),_0x5144bf['supportsUn'+'iformBuffe'+'rs']){_0x5144bf['setBindGro'+'up'](rl,_0x5144bf['emptyBindG'+'roup']);const _0x14c25d=this['bindGroup'];_0x14c25d['update'](),_0x5144bf['setBindGro'+'up'](Oy,_0x14c25d);const _0x3324f2=this['uniformBuf'+'fer'];_0x3324f2?(_0x3324f2['update'](Gd),_0x5144bf['setBindGro'+'up'](su,Gd['bindGroup'],Gd['offsets'])):_0x5144bf['setBindGro'+'up'](su,_0x5144bf['emptyBindG'+'roup']);}_0x5144bf['draw'](pE),_0x35b9b0&&(_0x5144bf['setViewpor'+'t'](so['x'],so['y'],so['z'],so['w']),_0x5144bf['setScissor'](io['x'],io['y'],io['z'],io['w'])),Q['popGpuMark'+'er'](_0x5144bf);}}class mE extends ys{constructor(_0x196168,_0x1cab31,_0x12a8c7,_0x5378d4){super(_0x196168),this['quad']=_0x1cab31,this['rect']=_0x12a8c7,this['scissorRec'+'t']=_0x5378d4;}['execute'](){const {device:_0xf548da}=this;Q['pushGpuMar'+'ker'](_0xf548da,this['name']+':'+this['quad']['shader']['name']),_0xf548da['setCullMod'+'e'](bt),_0xf548da['setDepthSt'+'ate'](Yt['NODEPTH']),_0xf548da['setStencil'+'State'](null,null),this['quad']['render'](this['rect'],this['scissorRec'+'t']),Q['popGpuMark'+'er'](_0xf548da);}}const _E=new re();function Ar(_0x502c56,_0x3bbb2d,_0x3ff79b,_0x413dc4,_0x56c1a6){w['assert'](_0x3bbb2d!==void(0x88d+-0xf*0x87+-0xa4));const _0x49d916=arguments[0x40f+0x39b+-0x7a5];w['call'](()=>{_0x49d916!==void(0x7d6+0x42b*-0x7+0x1557)&&w['warnOnce']('pc.drawQua'+'dWithShade'+'r\x20no\x20longe'+'r\x20accepts\x20'+'useBlend\x20p'+'arameter,\x20'+'and\x20blendi'+'ng\x20state\x20n'+'eeds\x20to\x20be'+'\x20set\x20up\x20us'+'ing\x20Graphi'+'csDevice.s'+'etBlendSta'+'te.');});const _0x3badc1=new Ah(_0x3ff79b);_0x413dc4||(_0x413dc4=_E,_0x413dc4['x']=0x16f2+-0x1d7d+-0x5*-0x14f,_0x413dc4['y']=-0x16e*0x19+-0x7bc+-0x6*-0x73f,_0x413dc4['z']=_0x3bbb2d?_0x3bbb2d['width']:_0x502c56['width'],_0x413dc4['w']=_0x3bbb2d?_0x3bbb2d['height']:_0x502c56['height']);const _0x37d2c9=new mE(_0x502c56,_0x3badc1,_0x413dc4,_0x56c1a6);_0x37d2c9['init'](_0x3bbb2d),_0x37d2c9['colorOps']['clear']=!(0x393*0x3+-0x134f+0x897*0x1),_0x37d2c9['depthStenc'+'ilOps']['clearDepth']=!(0x3d3*0x1+0x1*-0x1c67+-0x1895*-0x1),_0x502c56['isWebGPU']&&_0x3bbb2d===null&&_0x502c56['samples']>0xe5e+-0x2ea*-0x8+-0x25ad*0x1&&(_0x37d2c9['colorOps']['store']=!(-0x1*-0x20f+0x1a*0xb7+-0x23*0x97)),_0x37d2c9['render'](),_0x3badc1['destroy']();}class g_{constructor(_0x30b9e4,_0x1ebe4d,_0x133af1){h(this,'_aabb',new De()),h(this,'origMeshIn'+'stances'),h(this,'meshInstan'+'ce',null),h(this,'dynamic'),h(this,'batchGroup'+'Id'),(this['origMeshIn'+'stances']=_0x30b9e4,this['dynamic']=_0x1ebe4d,this['batchGroup'+'Id']=_0x133af1);}['destroy'](_0x10b711,_0x45fa82){this['meshInstan'+'ce']&&(this['removeFrom'+'Layers'](_0x10b711,_0x45fa82),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}['addToLayer'+'s'](_0x57a7b3,_0x3553aa){for(let _0x4b22e8=0x10a8+-0xd*0x13f+-0x75;_0x4b22e8<_0x3553aa['length'];_0x4b22e8++){const _0x17d463=_0x57a7b3['layers']['getLayerBy'+'Id'](_0x3553aa[_0x4b22e8]);_0x17d463&&_0x17d463['addMeshIns'+'tances']([this['meshInstan'+'ce']]);}}['removeFrom'+'Layers'](_0x39ca33,_0x4295d4){for(let _0x1421d8=0xa*-0x59+0x22ff+0x1f85*-0x1;_0x1421d8<_0x4295d4['length'];_0x1421d8++){const _0x1670d6=_0x39ca33['layers']['getLayerBy'+'Id'](_0x4295d4[_0x1421d8]);_0x1670d6&&_0x1670d6['removeMesh'+'Instances']([this['meshInstan'+'ce']]);}}['updateBoun'+'dingBox'](){this['_aabb']['copy'](this['origMeshIn'+'stances'][0x737+0x153d+-0x1c74]['aabb']);for(let _0x9c8da=-0x1cf9*0x1+0x254+0x1aa6;_0x9c8da<this['origMeshIn'+'stances']['length'];_0x9c8da++)this['_aabb']['add'](this['origMeshIn'+'stances'][_0x9c8da]['aabb']);this['meshInstan'+'ce']['aabb']=this['_aabb'],this['meshInstan'+'ce']['_aabbVer']=-0xd*0x89+-0x2001+-0x2*-0x137b;}get['model'](){w['removed']('pc.Batch#m'+'odel\x20was\x20r'+'emoved.\x20Us'+'e\x20pc.Batch'+'#meshInsta'+'nce\x20to\x20acc'+'ess\x20batche'+'d\x20mesh\x20ins'+'tead.');}}class St{constructor(_0x51f40c,_0x59c2ac,_0x134660,_0x55aa32,_0xc86b10=[er]){h(this,'_ui',!(0x7*0x247+-0x513+-0x9*0x135)),h(this,'_sprite',!(0x1904+0x1c51+0x1*-0x3554)),h(this,'_obj',{'model':[],'element':[],'sprite':[],'render':[]}),h(this,'id'),h(this,'name'),h(this,'dynamic'),h(this,'maxAabbSiz'+'e'),h(this,'layers'),(this['id']=_0x51f40c,this['name']=_0x59c2ac,this['dynamic']=_0x134660,this['maxAabbSiz'+'e']=_0x55aa32,this['layers']=_0xc86b10);}}h(St,'MODEL','model'),h(St,'ELEMENT','element'),h(St,'SPRITE','sprite'),h(St,'RENDER','render');const S_=new te();class Ol{constructor(_0x2bae47){h(this,'bones'),(this['_dirty']=!(-0x1d4b*0x1+0x2e0+-0x1a6b*-0x1),this['_rootBone']=null,this['_skinUpdat'+'eIndex']=-(-0xb2d+0x11e*0xf+-0x594),this['_updateBef'+'oreCull']=!(-0x25e0+-0x930+0x10*0x2f1),_0x2bae47&&this['initSkin'](_0x2bae47));}set['rootBone'](_0x152e7c){this['_rootBone']=_0x152e7c;}get['rootBone'](){return this['_rootBone'];}['init'](_0x560534,_0x39e5f4){const _0x4a862d=_0x39e5f4*(-0x8bc+0x2*-0x2c2+0x4c1*0x3);let _0x179054=Math['ceil'](Math['sqrt'](_0x4a862d));_0x179054=Y['roundUp'](_0x179054,-0x2168+0x1233+0xf38);const _0x5c94b6=Math['ceil'](_0x4a862d/_0x179054);this['boneTextur'+'e']=new _e(_0x560534,{'width':_0x179054,'height':_0x5c94b6,'format':Xt,'mipmaps':!(0x297*-0x5+-0x1b56+0x284a),'minFilter':Te,'magFilter':Te,'name':'skin'}),this['matrixPale'+'tte']=this['boneTextur'+'e']['lock']({'mode':yy}),this['boneTextur'+'e']['unlock']();}['destroy'](){this['boneTextur'+'e']&&(this['boneTextur'+'e']['destroy'](),this['boneTextur'+'e']=null);}['resolve'](_0x54cd3d,_0x2db051){this['rootBone']=_0x54cd3d;const _0x51ef3b=this['skin'],_0x2c6920=[];for(let _0xbee22e=-0x293*0x7+0x26f4+-0xe9*0x17;_0xbee22e<_0x51ef3b['boneNames']['length'];_0xbee22e++){const _0x34113f=_0x51ef3b['boneNames'][_0xbee22e];let _0x4f2895=_0x54cd3d['findByName'](_0x34113f);_0x4f2895||(w['error']('Failed\x20to\x20'+'find\x20bone\x20'+'['+_0x34113f+(']\x20in\x20the\x20e'+'ntity\x20hier'+'archy,\x20Ren'+'derCompone'+'nt\x20on\x20')+_0x2db051['name']+(',\x20rootBone'+':\x20')+_0x54cd3d['name']),_0x4f2895=_0x2db051),_0x2c6920['push'](_0x4f2895);}this['bones']=_0x2c6920;}['initSkin'](_0x328a9d){this['skin']=_0x328a9d,this['bones']=[];const _0x1cf598=_0x328a9d['inverseBin'+'dPose']['length'];this['init'](_0x328a9d['device'],_0x1cf598),this['matrices']=[];for(let _0x4ba452=-0x3*0xb13+0x4*-0x286+0x2b51;_0x4ba452<_0x1cf598;_0x4ba452++)this['matrices'][_0x4ba452]=new te();}['uploadBone'+'s'](_0x3a340b){this['boneTextur'+'e']['upload']();}['_updateMat'+'rices'](_0x4e33a9,_0x15fd59){if(this['_skinUpdat'+'eIndex']!==_0x15fd59){this['_skinUpdat'+'eIndex']=_0x15fd59,S_['copy'](_0x4e33a9['getWorldTr'+'ansform']())['invert']();for(let _0x4c6e06=this['bones']['length']-(0x18c4+-0x1177*0x1+0x1*-0x74c);_0x4c6e06>=-0xeda+0x1*-0x25a3+0x347d;_0x4c6e06--)this['matrices'][_0x4c6e06]['mulAffine2'](S_,this['bones'][_0x4c6e06]['getWorldTr'+'ansform']()),this['matrices'][_0x4c6e06]['mulAffine2'](this['matrices'][_0x4c6e06],this['skin']['inverseBin'+'dPose'][_0x4c6e06]);}}['updateMatr'+'ices'](_0x54ec5f,_0x27f8e5){this['_updateBef'+'oreCull']&&this['_updateMat'+'rices'](_0x54ec5f,_0x27f8e5);}['updateMatr'+'ixPalette'](_0x59d3c8,_0x35dd54){this['_updateMat'+'rices'](_0x59d3c8,_0x35dd54);const _0x54b6f1=this['matrixPale'+'tte'],_0x1a8659=this['bones']['length'];for(let _0x52483f=-0x1acf+-0x23b5+0x3e84;_0x52483f<_0x1a8659;_0x52483f++){const _0x2bb2cc=this['matrices'][_0x52483f]['data'],_0x3b155d=_0x52483f*(-0x15ef+-0x2665*-0x1+-0xb*0x17e);_0x54b6f1[_0x3b155d]=_0x2bb2cc[-0x97d+0x1*0x153d+-0xbc0],_0x54b6f1[_0x3b155d+(-0x2*-0x51b+-0x18a5+0xe70)]=_0x2bb2cc[0x1*0x242b+0x1bc1+-0x1ff4*0x2],_0x54b6f1[_0x3b155d+(0x195c+-0xab5+0xa3*-0x17)]=_0x2bb2cc[0x242c*0x1+0x23cb+-0x5*0xe63],_0x54b6f1[_0x3b155d+(0xf7f*0x1+0x3d5+0xd7*-0x17)]=_0x2bb2cc[-0xe*-0x192+0x1afa+-0x1875*0x2],_0x54b6f1[_0x3b155d+(-0x20aa+-0x62f*-0x5+0x1c3)]=_0x2bb2cc[-0x2b*-0xcd+-0x125a+-0x24c*0x7],_0x54b6f1[_0x3b155d+(-0x8ba*-0x3+-0x99b+-0x108e)]=_0x2bb2cc[-0x1edf+0x2*0xe73+0x66*0x5],_0x54b6f1[_0x3b155d+(0x41*0x3a+0x2*0xe6a+-0x2b88)]=_0x2bb2cc[-0x1*-0xf94+0x108e+-0x2019],_0x54b6f1[_0x3b155d+(0x1b4+-0x382*0x5+0xfdd)]=_0x2bb2cc[0x8*0x3b3+-0x9*-0x276+-0x33b1],_0x54b6f1[_0x3b155d+(-0x1*-0xfc7+0xda5+-0x1d64)]=_0x2bb2cc[0x1712+0x22ce+-0x6*0x9a5],_0x54b6f1[_0x3b155d+(-0x821*-0x2+0x1464+-0x249d)]=_0x2bb2cc[-0x5*0x137+0x2de*-0x1+0x8f7],_0x54b6f1[_0x3b155d+(0x1b6e+-0x102d+-0xb37)]=_0x2bb2cc[0x20fa+0x1c73*0x1+-0x23*0x1c1],_0x54b6f1[_0x3b155d+(0xb1c+0x1242+-0x1d53)]=_0x2bb2cc[-0x22ea+0x9bd+0x193b];}this['uploadBone'+'s'](this['skin']['device']);}}class y_ extends Ol{constructor(_0x2cd73a,_0x30a25d,_0x4de34c){super();const _0x28c0a1=_0x30a25d['length'];this['init'](_0x2cd73a,_0x28c0a1),this['device']=_0x2cd73a,this['rootNode']=_0x4de34c,this['bones']=_0x30a25d;}['updateMatr'+'ices'](_0x4a8f23,_0xa415b4){}['updateMatr'+'ixPalette'](_0x1f4c89,_0x43d30a){const _0x2d890c=this['matrixPale'+'tte'],_0x304044=this['bones']['length'];for(let _0x152ad1=-0x347*-0x1+-0x1ace*-0x1+-0x1e15;_0x152ad1<_0x304044;_0x152ad1++){const _0x1b582e=this['bones'][_0x152ad1]['getWorldTr'+'ansform']()['data'],_0xb08312=_0x152ad1*(0x15eb+0x9*0x30f+-0x3166);_0x2d890c[_0xb08312]=_0x1b582e[-0xfaf+0x1e4f+-0xea0],_0x2d890c[_0xb08312+(-0x1f80+-0xa9a+0x2a1b)]=_0x1b582e[-0xa6e+0x2*0x4b2+-0x5a*-0x3],_0x2d890c[_0xb08312+(0x133a+0x2*0x8e9+-0x2*0x1285)]=_0x1b582e[0xa1f*0x2+0x13*0x10a+-0x27f4*0x1],_0x2d890c[_0xb08312+(-0x24a6+0x1*0x229f+0x20a)]=_0x1b582e[-0x2*0x476+-0x1db2+0x2*0x1355],_0x2d890c[_0xb08312+(0x1*-0xaf2+-0x1726+0x221c)]=_0x1b582e[-0x14e3+0x5a*-0x57+0x337a],_0x2d890c[_0xb08312+(-0x153*0x2+-0x197c+0x1c27)]=_0x1b582e[0x230b*0x1+-0x28*-0xdf+-0x45de],_0x2d890c[_0xb08312+(-0x4*0x5fc+0x1*0x1915+-0x11f*0x1)]=_0x1b582e[0x1dba+-0xa6d*0x3+0x196],_0x2d890c[_0xb08312+(0x1*0x13c9+0x1*-0xb29+0x47*-0x1f)]=_0x1b582e[0x1*-0x7f7+-0x20c1+0x28c5],_0x2d890c[_0xb08312+(-0x11f9+0x1568+-0x367)]=_0x1b582e[0x2f7+0x9ad*0x3+-0x1ffc],_0x2d890c[_0xb08312+(0xe2f*0x2+0x13fe+-0x3053)]=_0x1b582e[-0x21b2+0x882+0x39a*0x7],_0x2d890c[_0xb08312+(-0x33*-0x7b+-0x25ba+-0x2a7*-0x5)]=_0x1b582e[0x1ec3+0x1*0x859+-0x2712],_0x2d890c[_0xb08312+(-0x19e1+-0x34b+0x1d37*0x1)]=_0x1b582e[-0x1*0x22d2+-0x1284+-0x3564*-0x1];}this['uploadBone'+'s'](this['device']);}}let gE=-0x29*0x59+0x37+-0x2*-0x705;class oi{constructor(){this['initDefaul'+'ts']();}['initDefaul'+'ts'](){this['recreate']=!(-0xc41*0x3+-0x471*0x7+-0x257*-0x1d),this['verticesUs'+'age']=ms,this['indicesUsa'+'ge']=ms,this['maxVertice'+'s']=-0x14de+0xa96+0xa48,this['maxIndices']=-0x1*-0x12d3+-0x33e+-0xf95,this['vertexCoun'+'t']=-0x8f3*0x1+-0x1211+0x1b04,this['indexCount']=-0xace+-0x19af+-0x1*-0x247d,this['vertexStre'+'amsUpdated']=!(0x146f*0x1+0x1*-0x138a+-0xe4),this['indexStrea'+'mUpdated']=!(-0x1c40+-0x9a*0x3c+0x4059),this['vertexStre'+'amDictiona'+'ry']={},this['indices']=null;}['_changeVer'+'texCount'](_0x28b731,_0xa1ef43){this['vertexCoun'+'t']?w['assert'](this['vertexCoun'+'t']===_0x28b731,'Vertex\x20str'+'eam\x20'+_0xa1ef43+'\x20has\x20'+_0x28b731+('\x20vertices,'+'\x20which\x20doe'+'s\x20not\x20matc'+'h\x20already\x20'+'set\x20stream'+'s\x20with\x20')+this['vertexCoun'+'t']+'\x20vertices.'):this['vertexCoun'+'t']=_0x28b731;}}h(oi,'DEFAULT_CO'+'MPONENTS_P'+'OSITION',-0x34*-0x1+-0x58c+-0x3*-0x1c9),h(oi,'DEFAULT_CO'+'MPONENTS_N'+'ORMAL',-0x20ba+0x3c*-0x7a+0x3d55),h(oi,'DEFAULT_CO'+'MPONENTS_U'+'V',0x1*-0x1d1b+0x310+0x1a0d),h(oi,'DEFAULT_CO'+'MPONENTS_C'+'OLORS',0x3e*0x1+-0x1*0x1eeb+-0x3*-0xa3b);class SE{constructor(_0x2f7471,_0x393ba6,_0x2af219,_0x5e42e6,_0x1f1ab5){this['data']=_0x2f7471,this['componentC'+'ount']=_0x393ba6,this['dataType']=_0x2af219,this['dataTypeNo'+'rmalize']=_0x5e42e6,this['asInt']=_0x1f1ab5;}}class Ge extends wd{constructor(_0x30c235,_0x1923f4){super(),h(this,'indexBuffe'+'r',[null]),h(this,'vertexBuff'+'er',null),h(this,'primitive',[{'type':0x0,'base':0x0,'baseVertex':0x0,'count':0x0}]),h(this,'skin',null),h(this,'boneAabb',null),h(this,'_aabbVer',-0x1*0x207a+0x1cc3+-0x1*-0x3b7),h(this,'_aabb',new De()),h(this,'_geometryD'+'ata',null),h(this,'_morph',null),h(this,'_storageIn'+'dex',!(-0x38b+0x32*-0xac+0x2524)),h(this,'_storageVe'+'rtex',!(-0x1194+0x3*0xa59+-0xd76)),(this['id']=gE++,w['assert'](_0x30c235,'Mesh\x20const'+'ructor\x20tak'+'es\x20a\x20Graph'+'icsDevice\x20'+'as\x20a\x20param'+'eter,\x20and\x20'+'it\x20was\x20not'+'\x20provided.'),this['device']=_0x30c235,this['_storageIn'+'dex']=(_0x1923f4==null?void(-0x7d0+0x1232+-0xa62):_0x1923f4['storageInd'+'ex'])||!(-0x3cb+0x61*0xd+-0x121),this['_storageVe'+'rtex']=(_0x1923f4==null?void(-0x18cb+0x1141+-0x1*-0x78a):_0x1923f4['storageVer'+'tex'])||!(-0x3a5+-0x3f1+0x797));}static['fromGeomet'+'ry'](_0x4f156d,_0x500560,_0xfcaf3b={}){const _0x31ea6b=new Ge(_0x4f156d,_0xfcaf3b),{positions:_0x29286e,normals:_0x14f7d5,tangents:_0x401f95,colors:_0x3c1def,uvs:_0xe7560b,uvs1:_0x273972,blendIndices:_0x3b794b,blendWeights:_0x21ccee,indices:_0x48a55b}=_0x500560;return _0x29286e&&_0x31ea6b['setPositio'+'ns'](_0x29286e),_0x14f7d5&&_0x31ea6b['setNormals'](_0x14f7d5),_0x401f95&&_0x31ea6b['setVertexS'+'tream'](yi,_0x401f95,-0x7*-0x1ca+0x199+0xe1b*-0x1),_0x3c1def&&_0x31ea6b['setColors3'+'2'](_0x3c1def),_0xe7560b&&_0x31ea6b['setUvs'](0xa3*0xb+0x5d*0x2+-0x7bb,_0xe7560b),_0x273972&&_0x31ea6b['setUvs'](0x3*0x2e1+0x141*0x13+-0x2075,_0x273972),_0x3b794b&&_0x31ea6b['setVertexS'+'tream'](us,_0x3b794b,0x696+0x8d*0x3c+-0x279e,_0x3b794b['length']/(-0xd*0x133+-0x24df+0x1a3d*0x2),la),_0x21ccee&&_0x31ea6b['setVertexS'+'tream'](gi,_0x21ccee,0x18fd+-0x30d*-0x9+-0x346e),_0x48a55b&&_0x31ea6b['setIndices'](_0x48a55b),_0x31ea6b['update'](),_0x31ea6b;}set['morph'](_0x551204){_0x551204!==this['_morph']&&(this['_morph']&&this['_morph']['decRefCoun'+'t'](),this['_morph']=_0x551204,_0x551204&&_0x551204['incRefCoun'+'t']());}get['morph'](){return this['_morph'];}set['aabb'](_0x342cb7){this['_aabb']=_0x342cb7,this['_aabbVer']++;}get['aabb'](){return this['_aabb'];}['destroy'](){const _0x4b8bc7=this['morph'];_0x4b8bc7&&(this['morph']=null,_0x4b8bc7['refCount']<-0x2060+0xb*-0x77+0x257e&&_0x4b8bc7['destroy']()),this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);for(let _0x485402=-0x5fe+-0x59*0x27+0x138d;_0x485402<this['indexBuffe'+'r']['length'];_0x485402++)this['_destroyIn'+'dexBuffer'](_0x485402);this['indexBuffe'+'r']['length']=-0x1283*0x1+0x1*-0x1b25+0x2da8,this['_geometryD'+'ata']=null;}['_destroyIn'+'dexBuffer'](_0x2a0834){this['indexBuffe'+'r'][_0x2a0834]&&(this['indexBuffe'+'r'][_0x2a0834]['destroy'](),this['indexBuffe'+'r'][_0x2a0834]=null);}['_initBoneA'+'abbs'](_0x5ea76d){this['boneAabb']=[],this['boneUsed']=[];let _0x2cf448,_0x24e09c,_0x55575e,_0x33e175,_0x165f40;const _0x419419=[],_0x5e2f2f=[],_0x3bad17=this['boneUsed'],_0x1af316=this['skin']['boneNames']['length'];let _0x1dec75,_0x48e964,_0x55d040;for(let _0x5e540a=-0x2*-0x949+-0x1ae0*0x1+0x84e;_0x5e540a<_0x1af316;_0x5e540a++)_0x419419[_0x5e540a]=new D(Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']),_0x5e2f2f[_0x5e540a]=new D(-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);const _0x3403c5=new Uo(this['vertexBuff'+'er']),_0x2261e2=_0x3403c5['element'][Me],_0x51e412=_0x3403c5['element'][gi],_0x1b0d44=_0x3403c5['element'][us],_0x1b744e=this['vertexBuff'+'er']['numVertice'+'s'];for(let _0x2925fe=-0x1cff+0x1a49*0x1+0x2b6;_0x2925fe<_0x1b744e;_0x2925fe++){for(let _0xcbeb47=0x1*0x1e0d+-0x1821+0x17b*-0x4;_0xcbeb47<-0x13*0x169+-0x1669+0x3138;_0xcbeb47++)if(_0x51e412['array'][_0x51e412['index']+_0xcbeb47]>-0x1f00+-0x1*-0x21b7+0x2b7*-0x1){const _0x3a92ea=_0x1b0d44['array'][_0x1b0d44['index']+_0xcbeb47];if(_0x3bad17[_0x3a92ea]=!(0x13*-0x141+-0x76*0x22+0x277f),_0x2cf448=_0x2261e2['array'][_0x2261e2['index']],_0x24e09c=_0x2261e2['array'][_0x2261e2['index']+(0x1*0x9b7+0x16cb+0x2081*-0x1)],_0x55575e=_0x2261e2['array'][_0x2261e2['index']+(-0x131c*-0x1+0x4c7*-0x3+-0x4c5)],_0x33e175=_0x5e2f2f[_0x3a92ea],_0x165f40=_0x419419[_0x3a92ea],_0x165f40['x']>_0x2cf448&&(_0x165f40['x']=_0x2cf448),_0x165f40['y']>_0x24e09c&&(_0x165f40['y']=_0x24e09c),_0x165f40['z']>_0x55575e&&(_0x165f40['z']=_0x55575e),_0x33e175['x']<_0x2cf448&&(_0x33e175['x']=_0x2cf448),_0x33e175['y']<_0x24e09c&&(_0x33e175['y']=_0x24e09c),_0x33e175['z']<_0x55575e&&(_0x33e175['z']=_0x55575e),_0x5ea76d){let _0x182ab7=_0x1dec75=_0x2cf448,_0x8c553e=_0x48e964=_0x24e09c,_0x58276b=_0x55d040=_0x55575e;for(let _0x53d7a9=0x11d8+0x755+-0x192d;_0x53d7a9<_0x5ea76d['length'];_0x53d7a9++){const _0x4e8ea9=_0x5ea76d[_0x53d7a9],_0x1b31e6=_0x4e8ea9['deltaPosit'+'ions'][_0x2925fe*(-0x3*-0xc2a+-0x23*-0xa3+-0x3ac4)],_0x497cab=_0x4e8ea9['deltaPosit'+'ions'][_0x2925fe*(-0x117a+-0x77e+0x18fb)+(0x8*0x4+0xd*0x283+-0x20c6)],_0x140d83=_0x4e8ea9['deltaPosit'+'ions'][_0x2925fe*(0x21ea+0x1*0x1733+-0x391a)+(-0xbd7+0x3*0x469+-0x162)];_0x1b31e6<-0x2621+0xf67+0x16ba?_0x182ab7+=_0x1b31e6:_0x1dec75+=_0x1b31e6,_0x497cab<0x346*-0x2+-0x1b4d+0x21d9?_0x8c553e+=_0x497cab:_0x48e964+=_0x497cab,_0x140d83<0x4f*0x29+-0x1215+0x56e?_0x58276b+=_0x140d83:_0x55d040+=_0x140d83;}_0x165f40['x']>_0x182ab7&&(_0x165f40['x']=_0x182ab7),_0x165f40['y']>_0x8c553e&&(_0x165f40['y']=_0x8c553e),_0x165f40['z']>_0x58276b&&(_0x165f40['z']=_0x58276b),_0x33e175['x']<_0x1dec75&&(_0x33e175['x']=_0x1dec75),_0x33e175['y']<_0x48e964&&(_0x33e175['y']=_0x48e964),_0x33e175['z']<_0x55d040&&(_0x33e175['z']=_0x55d040);}}_0x3403c5['next']();}const _0x3c1732=this['vertexBuff'+'er']['getFormat']()['elements']['find'](_0x1d03e8=>_0x1d03e8['name']===Me);if(_0x3c1732&&_0x3c1732['normalize']){const _0x2b24dc=((()=>{switch(_0x3c1732['dataType']){case dd:return _0x26f198=>Math['max'](_0x26f198/(-0x1*-0x1b02+-0x26*-0x9d+-0x31d1),-(-0x1f1*-0x3+-0x1204+0x2*0x619));case la:return _0xb04a0b=>_0xb04a0b/(0x1*-0x18ad+-0x903+0x22af*0x1);case fd:return _0x47d128=>Math['max'](_0x47d128/(0x17db+-0x1*-0xaca+-0x239*-0x2a),-(-0x1133+-0x214a+0x327e));case Ml:return _0x2f3911=>_0x2f3911/(-0x4*-0x5d59+0x20b5*0x1+-0x961a*0x1);default:return _0x34fb27=>_0x34fb27;}})());for(let _0x504c93=-0x1372+0xdee*-0x1+0x2160;_0x504c93<_0x1af316;_0x504c93++)if(_0x3bad17[_0x504c93]){const _0x38b826=_0x419419[_0x504c93],_0x23c9a6=_0x5e2f2f[_0x504c93];_0x38b826['set'](_0x2b24dc(_0x38b826['x']),_0x2b24dc(_0x38b826['y']),_0x2b24dc(_0x38b826['z'])),_0x23c9a6['set'](_0x2b24dc(_0x23c9a6['x']),_0x2b24dc(_0x23c9a6['y']),_0x2b24dc(_0x23c9a6['z']));}}for(let _0x40eee1=0x1e79*-0x1+-0x1ae3+-0x1cae*-0x2;_0x40eee1<_0x1af316;_0x40eee1++){const _0x23feef=new De();_0x23feef['setMinMax'](_0x419419[_0x40eee1],_0x5e2f2f[_0x40eee1]),this['boneAabb']['push'](_0x23feef);}}['_initGeome'+'tryData'](){this['_geometryD'+'ata']||(this['_geometryD'+'ata']=new oi(),this['vertexBuff'+'er']&&(this['_geometryD'+'ata']['vertexCoun'+'t']=this['vertexBuff'+'er']['numVertice'+'s'],this['_geometryD'+'ata']['maxVertice'+'s']=this['vertexBuff'+'er']['numVertice'+'s']),this['indexBuffe'+'r']['length']>0x260f+0x7af+-0x2dbe&&this['indexBuffe'+'r'][-0xb5c*0x3+0x1109+0x110b]&&(this['_geometryD'+'ata']['indexCount']=this['indexBuffe'+'r'][0x107f+-0x659+0x1b1*-0x6]['numIndices'],this['_geometryD'+'ata']['maxIndices']=this['indexBuffe'+'r'][-0x1f91+-0xad3+0x1*0x2a64]['numIndices']));}['clear'](_0x1a0a37,_0x906d7a,_0x2d0f17=0xd*0x21e+-0x2435*0x1+-0x75*-0x13,_0x52aba3=-0x200e+-0x4*-0x6c1+0x50a){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['initDefaul'+'ts'](),this['_geometryD'+'ata']['recreate']=!(0x2c*-0x2+0x15d5+0x157d*-0x1),this['_geometryD'+'ata']['maxVertice'+'s']=_0x2d0f17,this['_geometryD'+'ata']['maxIndices']=_0x52aba3,this['_geometryD'+'ata']['verticesUs'+'age']=_0x1a0a37?ms:lh,this['_geometryD'+'ata']['indicesUsa'+'ge']=_0x906d7a?ms:lh;}['setVertexS'+'tream'](_0x4bd215,_0x35bb25,_0x2e5259,_0x2751de,_0x58ffae=Ve,_0x1cf3b6=!(-0x1567+0x26ce*-0x1+-0x6*-0xa09),_0x388ba8=!(-0xaf7+0x71*0x41+-0x1*0x11b9)){this['_initGeome'+'tryData']();const _0x2f8a29=_0x2751de||_0x35bb25['length']/_0x2e5259;this['_geometryD'+'ata']['_changeVer'+'texCount'](_0x2f8a29,_0x4bd215),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(-0x649*0x5+-0x19f6*0x1+0x3963),this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x4bd215]=new SE(_0x35bb25,_0x2e5259,_0x58ffae,_0x1cf3b6,_0x388ba8);}['getVertexS'+'tream'](_0x4cfdb5,_0x4bac25){let _0x4f7511=-0x190f*0x1+0xfd*0x14+0x54b,_0x90df65=!(0x10f*0x13+0xe04+-0x68*0x54);if(this['_geometryD'+'ata']){const _0x197560=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x4cfdb5];_0x197560&&(_0x90df65=!(0xb3+0xfd9*-0x2+0x1eff),_0x4f7511=this['_geometryD'+'ata']['vertexCoun'+'t'],ArrayBuffer['isView'](_0x4bac25)?_0x4bac25['set'](_0x197560['data']):(_0x4bac25['length']=0x1c03*-0x1+-0x1*0x9a3+0x25a6,_0x4bac25['push'](_0x197560['data'])));}return _0x90df65||this['vertexBuff'+'er']&&(_0x4f7511=new Uo(this['vertexBuff'+'er'])['readData'](_0x4cfdb5,_0x4bac25)),_0x4f7511;}['setPositio'+'ns'](_0x374b5d,_0x223bf6=oi['DEFAULT_CO'+'MPONENTS_P'+'OSITION'],_0x1fe138){this['setVertexS'+'tream'](Me,_0x374b5d,_0x223bf6,_0x1fe138,Ve,!(0x1c97+-0x23cb+-0x2d*-0x29));}['setNormals'](_0x5bfa47,_0x193fe3=oi['DEFAULT_CO'+'MPONENTS_N'+'ORMAL'],_0x2b4fe5){this['setVertexS'+'tream'](gs,_0x5bfa47,_0x193fe3,_0x2b4fe5,Ve,!(-0xf2*-0x23+0x157d*-0x1+-0xb98));}['setUvs'](_0x21f20a,_0x54642c,_0xf2db9=oi['DEFAULT_CO'+'MPONENTS_U'+'V'],_0x7d2978){this['setVertexS'+'tream'](zm+_0x21f20a,_0x54642c,_0xf2db9,_0x7d2978,Ve,!(-0x26ca+-0xc1f+-0x157*-0x26));}['setColors'](_0x300d93,_0x2b298d=oi['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x400424){this['setVertexS'+'tream'](Wt,_0x300d93,_0x2b298d,_0x400424,Ve,!(-0x1034+0x41d+-0x56*-0x24));}['setColors3'+'2'](_0x113c34,_0x500025){this['setVertexS'+'tream'](Wt,_0x113c34,oi['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x500025,la,!(0x13a8+-0x1505+0x15d));}['setIndices'](_0x56c8f7,_0x2dc1c9){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x467+0xbaa+0x1*-0x1011),this['_geometryD'+'ata']['indices']=_0x56c8f7,this['_geometryD'+'ata']['indexCount']=_0x2dc1c9||_0x56c8f7['length'];}['getPositio'+'ns'](_0x11a00d){return this['getVertexS'+'tream'](Me,_0x11a00d);}['getNormals'](_0x1076d2){return this['getVertexS'+'tream'](gs,_0x1076d2);}['getUvs'](_0x4f42eb,_0x55c096){return this['getVertexS'+'tream'](zm+_0x4f42eb,_0x55c096);}['getColors'](_0x1c2363){return this['getVertexS'+'tream'](Wt,_0x1c2363);}['getIndices'](_0x4201cc){let _0x3e92aa=0x160*-0xe+-0x81*0xa+0x184a;if(this['_geometryD'+'ata']&&this['_geometryD'+'ata']['indices']){const _0x463ca4=this['_geometryD'+'ata']['indices'];if(_0x3e92aa=this['_geometryD'+'ata']['indexCount'],ArrayBuffer['isView'](_0x4201cc))_0x4201cc['set'](_0x463ca4);else{_0x4201cc['length']=-0x4fe+0x1acd*-0x1+0x1fcb;for(let _0x2bad9f=-0x187c+0x212b+-0x8af,_0x42b493=_0x463ca4['length'];_0x2bad9f<_0x42b493;_0x2bad9f++)_0x4201cc['push'](_0x463ca4[_0x2bad9f]);}}else this['indexBuffe'+'r']['length']>-0x7bb*0x1+-0x1b69+-0x2324*-0x1&&this['indexBuffe'+'r'][-0xa7*-0x1f+-0xecd+-0x56c]&&(_0x3e92aa=this['indexBuffe'+'r'][0xc65+0x18a0+-0x75*0x51]['readData'](_0x4201cc));return _0x3e92aa;}['update'](_0x59869c=js,_0x178cc1=!(0xb24+-0x24ce+0x19aa)){if(this['_geometryD'+'ata']){if(_0x178cc1){const _0x16b43d=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][Me];_0x16b43d&&_0x16b43d['componentC'+'ount']===-0x1d45+-0x1*0xb3d+0x2885&&(this['_aabb']['compute'](_0x16b43d['data'],this['_geometryD'+'ata']['vertexCoun'+'t']),this['_aabbVer']++);}let _0x3f3979=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['vertexCoun'+'t']>this['_geometryD'+'ata']['maxVertice'+'s']&&(_0x3f3979=!(0xc41+-0x13*-0x1ac+0xbf*-0x3b),this['_geometryD'+'ata']['maxVertice'+'s']=this['_geometryD'+'ata']['vertexCoun'+'t']),_0x3f3979&&this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);let _0x112856=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['indexCount']>this['_geometryD'+'ata']['maxIndices']&&(_0x112856=!(-0x1*0x11ba+-0x1495+-0x7*-0x579),this['_geometryD'+'ata']['maxIndices']=this['_geometryD'+'ata']['indexCount']),_0x112856&&this['indexBuffe'+'r']['length']>-0x22ea*-0x1+0x2341+-0x462b&&this['indexBuffe'+'r'][-0x2d4+-0x161a+0x1*0x18ee]&&(this['indexBuffe'+'r'][0x15a1+-0x3ae*-0x1+-0xb*0x24d]['destroy'](),this['indexBuffe'+'r'][-0x1a1+0x28d+-0xec]=null),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&this['_updateVer'+'texBuffer'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&this['_updateInd'+'exBuffer'](),this['primitive'][-0x4*-0x56f+-0xa88+-0xb34]['type']=_0x59869c,this['indexBuffe'+'r']['length']>-0x340*-0x3+0x2*-0x3e+-0x944&&this['indexBuffe'+'r'][-0x1*0x2177+-0x102*-0x6+0x1b6b]?this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&(this['primitive'][-0x1*-0x1712+0xd*0x122+-0x25cc*0x1]['count']=this['_geometryD'+'ata']['indexCount'],this['primitive'][-0x30f*-0x6+-0x1438+0x1de]['indexed']=!(0x1474+-0x15f9+-0x185*-0x1)):this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&(this['primitive'][0x5f+-0x809+0x147*0x6]['count']=this['_geometryD'+'ata']['vertexCoun'+'t'],this['primitive'][0xa0f+0x4fb+0x37*-0x46]['indexed']=!(-0x26bd+-0x81a+-0x1*-0x2ed8)),this['_geometryD'+'ata']['vertexCoun'+'t']=0x538+-0x1293*0x2+0x1fee,this['_geometryD'+'ata']['indexCount']=-0x27+0x1344+-0x2bb*0x7,this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(-0x1*0xe19+0x1783+-0x969),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x1*-0x1519+-0x6*-0xa7+-0xb*-0x190),this['_geometryD'+'ata']['recreate']=!(0x7c6*0x4+0x130*0x4+-0x23d7),this['updateRend'+'erStates']();}}['_buildVert'+'exFormat'](_0x5c0f12){const _0x4a2466=[];for(const _0x2c84e9 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x143869=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x2c84e9];_0x4a2466['push']({'semantic':_0x2c84e9,'components':_0x143869['componentC'+'ount'],'type':_0x143869['dataType'],'normalize':_0x143869['dataTypeNo'+'rmalize'],'asInt':_0x143869['asInt']});}return new kt(this['device'],_0x4a2466,_0x5c0f12);}['_updateVer'+'texBuffer'](){if(!this['vertexBuff'+'er']){const _0x28eab7=this['_geometryD'+'ata']['maxVertice'+'s'],_0x208aed=this['_buildVert'+'exFormat'](_0x28eab7);this['vertexBuff'+'er']=new Is(this['device'],_0x208aed,_0x28eab7,{'usage':this['_geometryD'+'ata']['verticesUs'+'age'],'storage':this['_storageVe'+'rtex']});}const _0x4fde4f=new Uo(this['vertexBuff'+'er']),_0x3fea55=this['_geometryD'+'ata']['vertexCoun'+'t'];for(const _0x3b99a2 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x166117=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x3b99a2];_0x4fde4f['writeData'](_0x3b99a2,_0x166117['data'],_0x3fea55),delete this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x3b99a2];}_0x4fde4f['end']();}['_updateInd'+'exBuffer'](){if(this['indexBuffe'+'r']['length']<=0x17c8+-0x24a+-0x157e||!this['indexBuffe'+'r'][-0x12f1*-0x1+0x935+-0xe13*0x2]){const _0x5374c=this['_geometryD'+'ata']['maxVertice'+'s'],_0x511779=_0x5374c>-0x1daee*-0x1+0x111d9+-0x1ecc8||_0x5374c===-0xc31*0x1+0x20ed*0x1+-0x14bc?wr:Yi,_0x1993ea=this['_storageIn'+'dex']?{'storage':!(0xe2d+0x26f8+-0x3525)}:void(0x17f*0x11+0xd5e+-0x26cd);this['indexBuffe'+'r'][-0x6a*-0x21+0x1384*0x1+-0x1*0x212e]=new br(this['device'],_0x511779,this['_geometryD'+'ata']['maxIndices'],this['_geometryD'+'ata']['indicesUsa'+'ge'],void(-0x1e25+0x2208+-0x3e3),_0x1993ea);}const _0xb5a3ec=this['_geometryD'+'ata']['indices'];_0xb5a3ec&&(this['indexBuffe'+'r'][-0x7*-0x4f3+0x12af*0x1+-0x3554]['writeData'](_0xb5a3ec,this['_geometryD'+'ata']['indexCount']),this['_geometryD'+'ata']['indices']=null);}['prepareRen'+'derState'](_0x4c3308){_0x4c3308===$r?this['generateWi'+'reframe']():_0x4c3308===Jl&&(this['primitive'][Jl]={'type':cd,'base':0x0,'baseVertex':0x0,'count':this['vertexBuff'+'er']?this['vertexBuff'+'er']['numVertice'+'s']:0x1307+0xcac*-0x1+-0x65b,'indexed':!(0x16cf+0x132d+-0x29fb*0x1)});}['updateRend'+'erStates'](){this['primitive'][Jl]&&this['prepareRen'+'derState'](Jl),this['primitive'][$r]&&this['prepareRen'+'derState']($r);}['generateWi'+'reframe'](){this['_destroyIn'+'dexBuffer']($r);const _0x35498b=this['vertexBuff'+'er']['numVertice'+'s'],_0x354729=[];let _0x128e2b;if(this['indexBuffe'+'r']['length']>-0x8dc+0x202a+-0x174e&&this['indexBuffe'+'r'][0x111e+0x15*0x7c+-0x1b4a]){const _0x5baf42=[[-0x1081+-0x1*0x25ea+0x366b*0x1,-0x2267*0x1+-0xa1*-0x1f+0xee9],[-0x92+0x186f+-0x7f4*0x3,0x1517+-0x1*0x1ce1+0x7cc],[0x3*0x79f+-0x1*0x26+-0x16b5,-0x643+0x2299+-0x1c56]],_0x506b30=this['primitive'][un]['base'],_0x124338=this['primitive'][un]['count'],_0x384a07=this['primitive'][un]['baseVertex']||-0x16a5+0x4f7+0x11ae,_0x578d0c=this['indexBuffe'+'r'][un],_0x258441=new Sh[_0x578d0c['format']](_0x578d0c['storage']),_0x27e89a=new Set();for(let _0x22a65b=_0x506b30;_0x22a65b<_0x506b30+_0x124338;_0x22a65b+=0x22be+0x12d*-0x16+-0x8dd)for(let _0x4a911b=-0x1c5e+-0x9e*0x29+0x35ac;_0x4a911b<0x22ad+0x204c+-0x217b*0x2;_0x4a911b++){const _0x1ef632=_0x258441[_0x22a65b+_0x5baf42[_0x4a911b][0xb7b*0x1+0x166e+-0x21e9]]+_0x384a07,_0x1368bb=_0x258441[_0x22a65b+_0x5baf42[_0x4a911b][-0x26b*0x3+0x1*-0xd93+0x14d5]]+_0x384a07,_0x3713ba=_0x1ef632>_0x1368bb?_0x1368bb*_0x35498b+_0x1ef632:_0x1ef632*_0x35498b+_0x1368bb;_0x27e89a['has'](_0x3713ba)||(_0x27e89a['add'](_0x3713ba),_0x354729['push'](_0x1ef632,_0x1368bb));}_0x128e2b=_0x578d0c['format'];}else{for(let _0x46f8dd=0x4*0x570+0x1aba*0x1+-0x307a;_0x46f8dd<_0x35498b;_0x46f8dd+=-0x1e9*0x1+-0x1a43+0x1c2f)_0x354729['push'](_0x46f8dd,_0x46f8dd+(0x559*0x7+0x1835+-0x3da3),_0x46f8dd+(0x10fb+0x2386+-0x348*0x10),_0x46f8dd+(0x6a3*-0x5+0x4*-0x4fb+-0x351d*-0x1),_0x46f8dd+(0x1c26+0x13d0+-0x2ff4),_0x46f8dd);_0x128e2b=_0x354729['length']>-0x695c*-0x1+-0x1d65f+0x3a*0xab5?wr:Yi;}const _0xbb61ab=new br(this['vertexBuff'+'er']['device'],_0x128e2b,_0x354729['length']);new Sh[_0xbb61ab['format']](_0xbb61ab['storage'])['set'](_0x354729),_0xbb61ab['unlock'](),this['primitive'][$r]={'type':hd,'base':0x0,'baseVertex':0x0,'count':_0x354729['length'],'indexed':!(0x1*-0x12e7+-0x2395+0x367c)},this['indexBuffe'+'r'][$r]=_0xbb61ab;}}const v_=new te(),Hd=new D(),x_=new le(),Wd=new le(),T_=new D(),w_=new D(),yE=new te(),vE=new le(),rs=new D(),ro=new te(),as=new le(),Ia=new le(),E_=new te(),$d=new D(),tc=new D();function b_(_0x33dea7,_0x3e9b6b){return _0x33dea7 instanceof Function?_0x33dea7:_0x226d80=>{let _0x265290=_0x226d80[_0x33dea7];return _0x265290 instanceof Function&&(_0x265290=_0x265290()),_0x265290===_0x3e9b6b;};}function Sv(_0x5d6111,_0x3428c8){if(_0x3428c8(_0x5d6111))return _0x5d6111;const _0x3da7b0=_0x5d6111['_children'],_0x321fbb=_0x3da7b0['length'];for(let _0x36ec4c=-0x9dd+0x7*0x33+0x878;_0x36ec4c<_0x321fbb;++_0x36ec4c){const _0x6ff82e=Sv(_0x3da7b0[_0x36ec4c],_0x3428c8);if(_0x6ff82e)return _0x6ff82e;}return null;}class Ie extends me{constructor(_0x51368c='Untitled'){super(),h(this,'name'),h(this,'tags',new Oo(this)),h(this,'localPosit'+'ion',new D()),h(this,'localRotat'+'ion',new le()),h(this,'localScale',new D(0x1*-0x47f+-0x1605+0x49*0x5d,-0x153*-0x6+-0x1a1c+0x122b,0x2*0x1009+0x1a*0x155+-0x42b3)),h(this,'localEuler'+'Angles',new D()),h(this,'position',new D()),h(this,'rotation',new le()),h(this,'eulerAngle'+'s',new D()),h(this,'_scale',null),h(this,'localTrans'+'form',new te()),h(this,'_dirtyLoca'+'l',!(0x73*0x3+-0x2241+-0x695*-0x5)),h(this,'_aabbVer',0x1a6*0x17+0x1f18+-0x4502),h(this,'_frozen',!(0x7b6*0x5+-0x1f58+-0x735)),h(this,'worldTrans'+'form',new te()),h(this,'_dirtyWorl'+'d',!(0x19df+0x20*-0xa4+-0x3*0x1ca)),h(this,'_worldScal'+'eSign',0x1f72+0x12*-0x43+-0x1abc),h(this,'_normalMat'+'rix',new _i()),h(this,'_dirtyNorm'+'al',!(0x2150+-0xd*0x14+-0x204c)),h(this,'_right',null),h(this,'_up',null),h(this,'_forward',null),h(this,'_parent',null),h(this,'_children',[]),h(this,'_graphDept'+'h',-0x1*-0x19f1+0x2228+-0x3c19),h(this,'_enabled',!(-0x5*0x44+-0x8*-0xb8+-0x11b*0x4)),h(this,'_enabledIn'+'Hierarchy',!(-0x2e0*-0x6+-0x2*-0x5c9+-0x1cd1)),h(this,'scaleCompe'+'nsation',!(0x2705+0x9*-0x175+-0x19e7)),this['name']=_0x51368c;}get['right'](){return this['_right']||(this['_right']=new D()),this['getWorldTr'+'ansform']()['getX'](this['_right'])['normalize']();}get['up'](){return this['_up']||(this['_up']=new D()),this['getWorldTr'+'ansform']()['getY'](this['_up'])['normalize']();}get['forward'](){return this['_forward']||(this['_forward']=new D()),this['getWorldTr'+'ansform']()['getZ'](this['_forward'])['normalize']()['mulScalar'](-(-0x169f+0x758+0xf48));}get['normalMatr'+'ix'](){const _0x38e38b=this['_normalMat'+'rix'];return this['_dirtyNorm'+'al']&&(_0x38e38b['invertMat4'](this['getWorldTr'+'ansform']())['transpose'](),this['_dirtyNorm'+'al']=!(-0x2*0xf4f+0x1ce+-0x3*-0x99b)),_0x38e38b;}set['enabled'](_0x355627){var _0x4c6eba;this['_enabled']!==_0x355627&&(this['_enabled']=_0x355627,(_0x355627&&((_0x4c6eba=this['_parent'])!=null&&_0x4c6eba['enabled'])||!_0x355627)&&this['_notifyHie'+'rarchyStat'+'eChanged'](this,_0x355627));}get['enabled'](){return this['_enabled']&&this['_enabledIn'+'Hierarchy'];}get['parent'](){return this['_parent'];}get['path'](){let _0x5a6ec3=this['_parent'];if(!_0x5a6ec3)return'';let _0x518000=this['name'];for(;_0x5a6ec3&&_0x5a6ec3['_parent'];)_0x518000=_0x5a6ec3['name']+'/'+_0x518000,_0x5a6ec3=_0x5a6ec3['_parent'];return _0x518000;}get['root'](){let _0x226f07=this;for(;_0x226f07['_parent'];)_0x226f07=_0x226f07['_parent'];return _0x226f07;}get['children'](){return this['_children'];}get['graphDepth'](){return this['_graphDept'+'h'];}['_notifyHie'+'rarchyStat'+'eChanged'](_0xb626f5,_0x340c56){_0xb626f5['_onHierarc'+'hyStateCha'+'nged'](_0x340c56);const _0x517825=_0xb626f5['_children'];for(let _0x19d523=-0x1e1c+-0x1*-0x2299+-0x47d,_0x50c76e=_0x517825['length'];_0x19d523<_0x50c76e;_0x19d523++)_0x517825[_0x19d523]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x517825[_0x19d523],_0x340c56);}['_onHierarc'+'hyStateCha'+'nged'](_0x40fc48){this['_enabledIn'+'Hierarchy']=_0x40fc48,_0x40fc48&&!this['_frozen']&&this['_unfreezeP'+'arentToRoo'+'t']();}['_cloneInte'+'rnal'](_0x3c1feb){_0x3c1feb['name']=this['name'];const _0x4c2040=this['tags']['_list'];_0x3c1feb['tags']['clear']();for(let _0x528159=0x1d29+-0x1cf+-0x1b5a;_0x528159<_0x4c2040['length'];_0x528159++)_0x3c1feb['tags']['add'](_0x4c2040[_0x528159]);_0x3c1feb['localPosit'+'ion']['copy'](this['localPosit'+'ion']),_0x3c1feb['localRotat'+'ion']['copy'](this['localRotat'+'ion']),_0x3c1feb['localScale']['copy'](this['localScale']),_0x3c1feb['localEuler'+'Angles']['copy'](this['localEuler'+'Angles']),_0x3c1feb['position']['copy'](this['position']),_0x3c1feb['rotation']['copy'](this['rotation']),_0x3c1feb['eulerAngle'+'s']['copy'](this['eulerAngle'+'s']),_0x3c1feb['localTrans'+'form']['copy'](this['localTrans'+'form']),_0x3c1feb['_dirtyLoca'+'l']=this['_dirtyLoca'+'l'],_0x3c1feb['worldTrans'+'form']['copy'](this['worldTrans'+'form']),_0x3c1feb['_dirtyWorl'+'d']=this['_dirtyWorl'+'d'],_0x3c1feb['_dirtyNorm'+'al']=this['_dirtyNorm'+'al'],_0x3c1feb['_aabbVer']=this['_aabbVer']+(-0x4*0x87e+-0x1*0x23+0x221c),_0x3c1feb['_enabled']=this['_enabled'],_0x3c1feb['scaleCompe'+'nsation']=this['scaleCompe'+'nsation'],_0x3c1feb['_enabledIn'+'Hierarchy']=!(0x17a4+0x1*0x24aa+0x167*-0x2b);}['clone'](){const _0x5dbcf8=new this['constructo'+'r']();return this['_cloneInte'+'rnal'](_0x5dbcf8),_0x5dbcf8;}['copy'](_0x58267b){return _0x58267b['_cloneInte'+'rnal'](this),this;}['destroy'](){this['remove']();const _0x4be6a9=this['_children'];for(;_0x4be6a9['length'];){const _0x55e51e=_0x4be6a9['pop']();_0x55e51e['_parent']=null,_0x55e51e['destroy']();}this['fire']('destroy',this),this['off']();}['find'](_0x1a79e9,_0x5899d5){const _0x1bb30b=[],_0x477a69=b_(_0x1a79e9,_0x5899d5);return this['forEach'](_0x2067e0=>{_0x477a69(_0x2067e0)&&_0x1bb30b['push'](_0x2067e0);}),_0x1bb30b;}['findOne'](_0x1b841b,_0x52a597){const _0x2bc326=b_(_0x1b841b,_0x52a597);return Sv(this,_0x2bc326);}['findByTag'](..._0x36c749){const _0x38b599=[],_0x47f76f=(_0x3770dc,_0x2fba3c)=>{_0x2fba3c&&_0x3770dc['tags']['has'](..._0x36c749)&&_0x38b599['push'](_0x3770dc);for(let _0x2ad3fd=0x22aa+0x6b*0x39+-0x3a7d;_0x2ad3fd<_0x3770dc['_children']['length'];_0x2ad3fd++)_0x47f76f(_0x3770dc['_children'][_0x2ad3fd],!(-0x5*-0x2e3+0x22a5+-0x3114));};return _0x47f76f(this,!(0xd*-0x29c+0xab1*0x3+0x1da)),_0x38b599;}['findByName'](_0x167668){return this['findOne']('name',_0x167668);}['findByPath'](_0xd918d8){const _0x3bdcf0=Array['isArray'](_0xd918d8)?_0xd918d8:_0xd918d8['split']('/');let _0x509f83=this;for(let _0x1f0e48=0x3*-0x47c+-0x9ad+0x1*0x1721,_0x5653e9=_0x3bdcf0['length'];_0x1f0e48<_0x5653e9;++_0x1f0e48)if(_0x509f83=_0x509f83['children']['find'](_0x537998=>_0x537998['name']===_0x3bdcf0[_0x1f0e48]),!_0x509f83)return null;return _0x509f83;}['forEach'](_0x1cfa70,_0x1ada7a){_0x1cfa70['call'](_0x1ada7a,this);const _0x3c2262=this['_children'],_0x16f744=_0x3c2262['length'];for(let _0x4be908=-0x11*0xd6+0xb*0x1d3+-0x5db;_0x4be908<_0x16f744;++_0x4be908)_0x3c2262[_0x4be908]['forEach'](_0x1cfa70,_0x1ada7a);}['isDescenda'+'ntOf'](_0x50e6bf){let _0x4dadb7=this['_parent'];for(;_0x4dadb7;){if(_0x4dadb7===_0x50e6bf)return!(0x22d2+-0xb*-0x137+-0x302f);_0x4dadb7=_0x4dadb7['_parent'];}return!(-0x1*-0x44f+0x1*0x120b+-0x1659);}['isAncestor'+'Of'](_0x55556c){return _0x55556c['isDescenda'+'ntOf'](this);}['getEulerAn'+'gles'](){return this['getWorldTr'+'ansform']()['getEulerAn'+'gles'](this['eulerAngle'+'s']),this['eulerAngle'+'s'];}['getLocalEu'+'lerAngles'](){return this['localRotat'+'ion']['getEulerAn'+'gles'](this['localEuler'+'Angles']),this['localEuler'+'Angles'];}['getLocalPo'+'sition'](){return this['localPosit'+'ion'];}['getLocalRo'+'tation'](){return this['localRotat'+'ion'];}['getLocalSc'+'ale'](){return this['localScale'];}['getLocalTr'+'ansform'](){return this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0x19f6+0x20b*0xa+-0x5f*0x7d)),this['localTrans'+'form'];}['getPositio'+'n'](){return this['getWorldTr'+'ansform']()['getTransla'+'tion'](this['position']),this['position'];}['getRotatio'+'n'](){return this['rotation']['setFromMat'+'4'](this['getWorldTr'+'ansform']()),this['rotation'];}['getScale'](){return this['_scale']||(this['_scale']=new D()),this['getWorldTr'+'ansform']()['getScale'](this['_scale']);}['getWorldTr'+'ansform'](){return!this['_dirtyLoca'+'l']&&!this['_dirtyWorl'+'d']?this['worldTrans'+'form']:(this['_parent']&&this['_parent']['getWorldTr'+'ansform'](),this['_sync'](),this['worldTrans'+'form']);}get['worldScale'+'Sign'](){return this['_worldScal'+'eSign']===-0x866+0x1a3*-0x11+0x2439&&(this['_worldScal'+'eSign']=this['getWorldTr'+'ansform']()['scaleSign']),this['_worldScal'+'eSign'];}['remove'](){var _0xbf1bee;(_0xbf1bee=this['_parent'])==null||_0xbf1bee['removeChil'+'d'](this);}['reparent'](_0x41ff0d,_0x218806){this['remove'](),_0x41ff0d&&(_0x218806>=-0x1b13+-0x43*-0x32+0x1*0xdfd?_0x41ff0d['insertChil'+'d'](this,_0x218806):_0x41ff0d['addChild'](this));}['setLocalEu'+'lerAngles'](_0xf37768,_0x1c0bb6,_0x159ee5){this['localRotat'+'ion']['setFromEul'+'erAngles'](_0xf37768,_0x1c0bb6,_0x159ee5),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalPo'+'sition'](_0x347ed8,_0x38d57f,_0x2e14e6){_0x347ed8 instanceof D?this['localPosit'+'ion']['copy'](_0x347ed8):this['localPosit'+'ion']['set'](_0x347ed8,_0x38d57f,_0x2e14e6),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalRo'+'tation'](_0x5efb6d,_0x5a47be,_0x164a33,_0x4adae5){_0x5efb6d instanceof le?this['localRotat'+'ion']['copy'](_0x5efb6d):this['localRotat'+'ion']['set'](_0x5efb6d,_0x5a47be,_0x164a33,_0x4adae5),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalSc'+'ale'](_0x2a95b3,_0x5ec235,_0x5d9503){_0x2a95b3 instanceof D?this['localScale']['copy'](_0x2a95b3):this['localScale']['set'](_0x2a95b3,_0x5ec235,_0x5d9503),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_dirtifyLo'+'cal'](){this['_dirtyLoca'+'l']||(this['_dirtyLoca'+'l']=!(0x14fd+-0x59e*-0x5+-0x1*0x3113),this['_dirtyWorl'+'d']||this['_dirtifyWo'+'rld']());}['_unfreezeP'+'arentToRoo'+'t'](){let _0x3eb765=this['_parent'];for(;_0x3eb765;)_0x3eb765['_frozen']=!(0x458+-0x301*-0x7+-0x195e*0x1),_0x3eb765=_0x3eb765['_parent'];}['_dirtifyWo'+'rld'](){this['_dirtyWorl'+'d']||this['_unfreezeP'+'arentToRoo'+'t'](),this['_dirtifyWo'+'rldInterna'+'l']();}['_dirtifyWo'+'rldInterna'+'l'](){if(!this['_dirtyWorl'+'d']){this['_frozen']=!(0x1933+0x9b9*-0x2+-0x5c0),this['_dirtyWorl'+'d']=!(0x245b+0x3*0x2f+-0x24e8*0x1);for(let _0x1f27a9=0x21ec+-0x1*0xb31+0x1*-0x16bb;_0x1f27a9<this['_children']['length'];_0x1f27a9++)this['_children'][_0x1f27a9]['_dirtyWorl'+'d']||this['_children'][_0x1f27a9]['_dirtifyWo'+'rldInterna'+'l']();}this['_dirtyNorm'+'al']=!(-0xd*-0x6e+-0x154d+-0x3*-0x53d),this['_worldScal'+'eSign']=-0x1236+-0x1*-0x2642+-0xa06*0x2,this['_aabbVer']++;}['setPositio'+'n'](_0x485e1a,_0x9ade92,_0x42d143){_0x485e1a instanceof D?rs['copy'](_0x485e1a):rs['set'](_0x485e1a,_0x9ade92,_0x42d143),this['_parent']===null?this['localPosit'+'ion']['copy'](rs):(ro['copy'](this['_parent']['getWorldTr'+'ansform']())['invert'](),ro['transformP'+'oint'](rs,this['localPosit'+'ion'])),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setRotatio'+'n'](_0x460d4c,_0x31ba3f,_0xe2dc34,_0x11c669){if(_0x460d4c instanceof le?as['copy'](_0x460d4c):as['set'](_0x460d4c,_0x31ba3f,_0xe2dc34,_0x11c669),this['_parent']===null)this['localRotat'+'ion']['copy'](as);else{const _0x231a8c=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x231a8c)['invert'](),this['localRotat'+'ion']['copy'](Ia)['mul'](as);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setPositio'+'nAndRotati'+'on'](_0x6779a6,_0x2913bf){if(this['_parent']===null)this['localPosit'+'ion']['copy'](_0x6779a6),this['localRotat'+'ion']['copy'](_0x2913bf);else{const _0x374321=this['_parent']['getWorldTr'+'ansform']();ro['copy'](_0x374321)['invert'](),ro['transformP'+'oint'](_0x6779a6,this['localPosit'+'ion']),this['localRotat'+'ion']['setFromMat'+'4'](ro)['mul'](_0x2913bf);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setEulerAn'+'gles'](_0x13aa7f,_0x4a93ec,_0x35f45b){if(this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x13aa7f,_0x4a93ec,_0x35f45b),this['_parent']!==null){const _0x59ccba=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x59ccba)['invert'](),this['localRotat'+'ion']['mul2'](Ia,this['localRotat'+'ion']);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['addChild'](_0x5368ca){this['_prepareIn'+'sertChild'](_0x5368ca),this['_children']['push'](_0x5368ca),this['_onInsertC'+'hild'](_0x5368ca);}['addChildAn'+'dSaveTrans'+'form'](_0x49a444){const _0x42396f=_0x49a444['getPositio'+'n'](),_0x54375f=_0x49a444['getRotatio'+'n']();this['_prepareIn'+'sertChild'](_0x49a444),_0x49a444['setPositio'+'n'](yE['copy'](this['worldTrans'+'form'])['invert']()['transformP'+'oint'](_0x42396f)),_0x49a444['setRotatio'+'n'](vE['copy'](this['getRotatio'+'n']())['invert']()['mul'](_0x54375f)),this['_children']['push'](_0x49a444),this['_onInsertC'+'hild'](_0x49a444);}['insertChil'+'d'](_0xc2d7,_0x189db2){this['_prepareIn'+'sertChild'](_0xc2d7),this['_children']['splice'](_0x189db2,-0x113*0x4+-0x105e+-0x5*-0x422,_0xc2d7),this['_onInsertC'+'hild'](_0xc2d7);}['_prepareIn'+'sertChild'](_0x8918d6){_0x8918d6['remove'](),w['assert'](_0x8918d6!==this,'GraphNode\x20'+(_0x8918d6==null?void(0x1d21+0x6*-0x184+0x17*-0xdf):_0x8918d6['name'])+('\x20cannot\x20be'+'\x20a\x20child\x20o'+'f\x20itself')),w['assert'](!this['isDescenda'+'ntOf'](_0x8918d6),'GraphNode\x20'+(_0x8918d6==null?void(-0x1faf+0x2*-0xaff+0x35ad):_0x8918d6['name'])+('\x20cannot\x20ad'+'d\x20an\x20ances'+'tor\x20as\x20a\x20c'+'hild'));}['_fireOnHie'+'rarchy'](_0x3119bd,_0x1e87d2,_0x2779a9){this['fire'](_0x3119bd,_0x2779a9);for(let _0x21ccb4=0x1*-0xcd+-0x24*-0x83+-0x119f;_0x21ccb4<this['_children']['length'];_0x21ccb4++)this['_children'][_0x21ccb4]['_fireOnHie'+'rarchy'](_0x1e87d2,_0x1e87d2,_0x2779a9);}['_onInsertC'+'hild'](_0x11f0ab){_0x11f0ab['_parent']=this;const _0x350318=_0x11f0ab['_enabled']&&this['enabled'];_0x11f0ab['_enabledIn'+'Hierarchy']!==_0x350318&&(_0x11f0ab['_enabledIn'+'Hierarchy']=_0x350318,_0x11f0ab['_notifyHie'+'rarchyStat'+'eChanged'](_0x11f0ab,_0x350318)),_0x11f0ab['_updateGra'+'phDepth'](),_0x11f0ab['_dirtifyWo'+'rld'](),this['_frozen']&&_0x11f0ab['_unfreezeP'+'arentToRoo'+'t'](),_0x11f0ab['_fireOnHie'+'rarchy']('insert','inserthier'+'archy',this),this['fire']&&this['fire']('childinser'+'t',_0x11f0ab);}['_updateGra'+'phDepth'](){this['_graphDept'+'h']=this['_parent']?this['_parent']['_graphDept'+'h']+(-0x2205+0x230d+-0x107):-0xea8+0x2*-0x70d+0x1cc2;for(let _0x4111db=-0x25ac+0x1*0x14a7+0x1105,_0x7e1041=this['_children']['length'];_0x4111db<_0x7e1041;_0x4111db++)this['_children'][_0x4111db]['_updateGra'+'phDepth']();}['removeChil'+'d'](_0xc42988){const _0x4ef98f=this['_children']['indexOf'](_0xc42988);_0x4ef98f!==-(-0x7*0x48a+-0x2*0x933+0x322d)&&(this['_children']['splice'](_0x4ef98f,0x23a2+-0xfba+-0x13e7),_0xc42988['_parent']=null,_0xc42988['_fireOnHie'+'rarchy']('remove','removehier'+'archy',this),this['fire']('childremov'+'e',_0xc42988));}['_sync'](){if(this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0x1063*0x1+-0xc2e+-0x434)),this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['scaleCompe'+'nsation']){let _0x4babf7;const _0xde76a7=this['_parent'];let _0x132521=this['localScale'],_0xf8ce20=_0xde76a7;if(_0xf8ce20){for(;_0xf8ce20&&_0xf8ce20['scaleCompe'+'nsation'];)_0xf8ce20=_0xf8ce20['_parent'];_0xf8ce20&&(_0xf8ce20=_0xf8ce20['_parent'],_0xf8ce20&&(_0x4babf7=_0xf8ce20['worldTrans'+'form']['getScale'](),T_['mul2'](_0x4babf7,this['localScale']),_0x132521=T_));}Wd['setFromMat'+'4'](_0xde76a7['worldTrans'+'form']),x_['mul2'](Wd,this['localRotat'+'ion']);let _0x29b536=_0xde76a7['worldTrans'+'form'];_0xde76a7['scaleCompe'+'nsation']&&(w_['mul2'](_0x4babf7,_0xde76a7['getLocalSc'+'ale']()),v_['setTRS'](_0xde76a7['worldTrans'+'form']['getTransla'+'tion'](Hd),Wd,w_),_0x29b536=v_),_0x29b536['transformP'+'oint'](this['localPosit'+'ion'],Hd),this['worldTrans'+'form']['setTRS'](Hd,x_,_0x132521);}else this['worldTrans'+'form']['mulAffine2'](this['_parent']['worldTrans'+'form'],this['localTrans'+'form']);}this['_dirtyWorl'+'d']=!(0x35*-0x1f+0xb7c+-0x510);}}['syncHierar'+'chy'](){if(!this['_enabled']||this['_frozen'])return;this['_frozen']=!(0x1451+0x1c2b+-0x307c),(this['_dirtyLoca'+'l']||this['_dirtyWorl'+'d'])&&this['_sync']();const _0x50161a=this['_children'];for(let _0xeabea5=-0xb43+0x6*-0xe8+-0x1*-0x10b3,_0x18d212=_0x50161a['length'];_0xeabea5<_0x18d212;_0xeabea5++)_0x50161a[_0xeabea5]['syncHierar'+'chy']();}['lookAt'](_0x3f30a9,_0x37c699,_0x578e65,_0x4870a7=0x34a+0x68f+-0x9d9*0x1,_0xe8aeed=0x44a+-0xb31+-0x374*-0x2,_0x2b0907=-0x1d18+-0x460*0x2+0x25d8){if(_0x3f30a9 instanceof D)$d['copy'](_0x3f30a9),_0x37c699 instanceof D?tc['copy'](_0x37c699):tc['copy'](D['UP']);else{if(_0x578e65===void(-0x20da+-0x5*0x4ab+-0xf*-0x3bf))return;$d['set'](_0x3f30a9,_0x37c699,_0x578e65),tc['set'](_0x4870a7,_0xe8aeed,_0x2b0907);}E_['setLookAt'](this['getPositio'+'n'](),$d,tc),as['setFromMat'+'4'](E_),this['setRotatio'+'n'](as);}['translate'](_0x2a173a,_0x19735a,_0x317b97){_0x2a173a instanceof D?rs['copy'](_0x2a173a):rs['set'](_0x2a173a,_0x19735a,_0x317b97),rs['add'](this['getPositio'+'n']()),this['setPositio'+'n'](rs);}['translateL'+'ocal'](_0x537ee7,_0x30de91,_0x1f9b5a){_0x537ee7 instanceof D?rs['copy'](_0x537ee7):rs['set'](_0x537ee7,_0x30de91,_0x1f9b5a),this['localRotat'+'ion']['transformV'+'ector'](rs,rs),this['localPosit'+'ion']['add'](rs),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotate'](_0x5b6973,_0x165ce0,_0x46214d){if(as['setFromEul'+'erAngles'](_0x5b6973,_0x165ce0,_0x46214d),this['_parent']===null)this['localRotat'+'ion']['mul2'](as,this['localRotat'+'ion']);else{const _0x12be21=this['getRotatio'+'n'](),_0x42e20e=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x42e20e)['invert'](),as['mul2'](Ia,as),this['localRotat'+'ion']['mul2'](as,_0x12be21);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotateLoca'+'l'](_0x14e217,_0x1ce68d,_0x53ba6b){as['setFromEul'+'erAngles'](_0x14e217,_0x1ce68d,_0x53ba6b),this['localRotat'+'ion']['mul'](as),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}}const yv=new Kt();function Qn(_0x296725){const _0x57873c=yv['get'](_0x296725);return w['assert'](_0x57873c),_0x57873c;}function xE(_0x15c753,_0x4293d1){w['assert'](_0x4293d1),yv['get'](_0x15c753,()=>_0x4293d1);}class TE{constructor(){h(this,'cache',new Map());}['destroy'](){this['cache']['forEach']((_0x37bc09,_0x13f6cd)=>{_0x13f6cd['destroy']();}),this['cache']['clear']();}['incRef'](_0x1de1cd){const _0x4db984=(this['cache']['get'](_0x1de1cd)||0xdd1+-0x7eb*0x1+0x97*-0xa)+(-0x56b*-0x7+-0x268a+-0x9e*-0x1);this['cache']['set'](_0x1de1cd,_0x4db984);}['decRef'](_0x1e215c){if(_0x1e215c){let _0x386fde=this['cache']['get'](_0x1e215c);_0x386fde&&(_0x386fde--,_0x386fde===0xe*0x22f+-0x537+0x1*-0x195b?(this['cache']['delete'](_0x1e215c),_0x1e215c['destroy']()):this['cache']['set'](_0x1e215c,_0x386fde));}}}class zi{static['incRef'](_0x4de451){this['cache']['incRef'](_0x4de451);}static['decRef'](_0x2c7c0){this['cache']['decRef'](_0x2c7c0);}static['destroy'](){this['cache']['destroy']();}}h(zi,'cache',new TE());let wE=0x23fb+-0x1a47*0x1+0x6*-0x19e;const EE=new De(),sc=new De(),Xd=new sp(),qd=new Set(),Rr=new Uint32Array(-0xa31+-0x4e5+0x1*0xf1a);class bE{constructor(_0xfa50e6){h(this,'vertexBuff'+'er',null),h(this,'_destroyVe'+'rtexBuffer',!(-0xfa9+0x187*0x5+-0x3*-0x2ad)),this['count']=_0xfa50e6;}['destroy'](){var _0xf16c0c;this['_destroyVe'+'rtexBuffer']&&((_0xf16c0c=this['vertexBuff'+'er'])==null||_0xf16c0c['destroy']()),this['vertexBuff'+'er']=null;}}class AE{constructor(){h(this,'map',new Map()),h(this,'meshMetaDa'+'ta',new Int32Array(-0x115e+0x15*0x17b+-0xdb5));}['get'](_0x25acbb){return this['map']['get'](_0x25acbb)??this['map']['get'](null);}}class CE{constructor(){h(this,'shader'),h(this,'bindGroup',null),h(this,'uniformBuf'+'fer',null),h(this,'hashes');}['getBindGro'+'up'](_0x3a6981){if(!this['bindGroup']){const _0x4cf2f2=this['shader'];w['assert'](_0x4cf2f2);const _0x146e34=_0x4cf2f2['meshBindGr'+'oupFormat'];w['assert'](_0x146e34),this['bindGroup']=new Up(_0x3a6981,_0x146e34),Ea['setName'](this['bindGroup'],'MeshBindGr'+'oup_'+this['bindGroup']['id']);}return this['bindGroup'];}['getUniform'+'Buffer'](_0x127cad){if(!this['uniformBuf'+'fer']){const _0x394c19=this['shader'];w['assert'](_0x394c19);const _0x2f2f01=_0x394c19['meshUnifor'+'mBufferFor'+'mat'];w['assert'](_0x2f2f01),this['uniformBuf'+'fer']=new zp(_0x127cad,_0x2f2f01,!(-0x11*-0x1a6+0x3*-0xa11+0x22e));}return this['uniformBuf'+'fer'];}['destroy'](){var _0x3b645f,_0xf1785a;(_0x3b645f=this['bindGroup'])==null||_0x3b645f['destroy'](),this['bindGroup']=null,(_0xf1785a=this['uniformBuf'+'fer'])==null||_0xf1785a['destroy'](),this['uniformBuf'+'fer']=null;}}const Jr=class Jr{constructor(_0x266ab9,_0xda51fb,_0x432740=null){h(this,'castShadow',!(0x8a6+-0x11ee+0x949)),h(this,'shadowCasc'+'adeMask',Bw),h(this,'cull',!(0x1820+-0x1605+-0xb*0x31)),h(this,'drawOrder',-0x191d+0x317*-0x8+0x31d5),h(this,'_drawBucke'+'t',-0x203b+-0x13ad+0x5*0xa7b),h(this,'node'),h(this,'visible',!(0x20b*0x3+0x1eff+-0x2520)),h(this,'visibleThi'+'sFrame',!(0x1ba1+-0x16a5+-0x4fb)),h(this,'flipFacesF'+'actor',0x8*-0x411+0x1*0x7cd+-0x4*-0x62f),h(this,'gsplatInst'+'ance',null),h(this,'id',wE++),h(this,'isVisibleF'+'unc',null),h(this,'instancing'+'Data',null),h(this,'indirectDa'+'ta',null),h(this,'parameters',{}),h(this,'pick',!(-0x257d+-0x2649+0x4bc6)),h(this,'stencilFro'+'nt',null),h(this,'stencilBac'+'k',null),h(this,'transparen'+'t',!(-0x1*0x5d9+-0x75e+0xd38)),h(this,'_aabb',new De()),h(this,'_aabbVer',-(-0x1*0x1efd+-0x405+0x1*0x2303)),h(this,'_aabbMeshV'+'er',-(-0x1948+-0x600+0x1f49*0x1)),h(this,'_customAab'+'b',null),h(this,'_updateAab'+'b',!(-0x845+-0x2*0xfa+0xa39)),h(this,'_updateAab'+'bFunc',null),h(this,'_sortKeySh'+'adow',0x161a+0xd15*0x1+-0x1*0x232f),h(this,'_sortKeyFo'+'rward',0xbaa+-0x1b8*-0x16+0x6*-0x83f),h(this,'_sortKeyDy'+'namic',0x210b+-0x1334*0x1+-0xdd7),h(this,'_layer',Ky),h(this,'_material',null),h(this,'_skinInsta'+'nce',null),h(this,'_morphInst'+'ance',null),h(this,'_receiveSh'+'adow',!(0x237b*0x1+0x199d+0x61c*-0xa)),h(this,'_renderSty'+'le',un),h(this,'_screenSpa'+'ce',!(0x15cf+0x175d*-0x1+0x39*0x7)),h(this,'_shaderCac'+'he',new Map()),h(this,'_shaderDef'+'s',Ss<<0x244c+0x321*-0x7+-0xe55),h(this,'_calculate'+'SortDistan'+'ce',null);if(w['assert'](!(_0x266ab9 instanceof Ie),'Incorrect\x20'+'parameters'+'\x20for\x20MeshI'+'nstance\x27s\x20'+'constructo'+'r.\x20Use\x20new'+'\x20MeshInsta'+'nce(mesh,\x20'+'material,\x20'+'node)'),this['node']=_0x432740,this['_mesh']=_0x266ab9,_0x266ab9['incRefCoun'+'t'](),this['material']=_0xda51fb,_0x266ab9['vertexBuff'+'er']){const _0x5761ad=_0x266ab9['vertexBuff'+'er']['format'];this['_shaderDef'+'s']|=_0x5761ad['hasUv0']?nm:-0x6f1*-0x4+-0x1f5e+0x39a,this['_shaderDef'+'s']|=_0x5761ad['hasUv1']?dv:-0x1*-0xb29+0xb68+-0x1*0x1691,this['_shaderDef'+'s']|=_0x5761ad['hasColor']?fv:-0x2a4*0x4+-0x283*0x3+0x1219*0x1,this['_shaderDef'+'s']|=_0x5761ad['hasTangent'+'s']?om:-0x65*-0x1+-0x482*-0x4+-0x126d;}this['updateKey']();}set['drawBucket'](_0x116f8f){this['_drawBucke'+'t']=Math['floor'](_0x116f8f)&0x1f29*0x1+-0x1af3*0x1+-0x337*0x1,this['updateKey']();}get['drawBucket'](){return this['_drawBucke'+'t'];}set['renderStyl'+'e'](_0x192d71){this['_renderSty'+'le']=_0x192d71,this['mesh']['prepareRen'+'derState'](_0x192d71);}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['mesh'](_0x357778){_0x357778!==this['_mesh']&&(this['_mesh']&&this['_mesh']['decRefCoun'+'t'](),this['_mesh']=_0x357778,_0x357778&&_0x357778['incRefCoun'+'t']());}get['mesh'](){return this['_mesh'];}set['aabb'](_0x1d5ea4){this['_aabb']=_0x1d5ea4;}get['aabb'](){if(!this['_updateAab'+'b'])return this['_aabb'];if(this['_updateAab'+'bFunc'])return this['_updateAab'+'bFunc'](this['_aabb']);let _0x2ab530=this['_customAab'+'b'],_0x1506d4=!!_0x2ab530;if(!_0x2ab530){if(_0x2ab530=EE,this['skinInstan'+'ce']){if(!this['mesh']['boneAabb']){const _0x42e3eb=this['_morphInst'+'ance']?this['_morphInst'+'ance']['morph']['_targets']:null;this['mesh']['_initBoneA'+'abbs'](_0x42e3eb);}const _0x439891=this['mesh']['boneUsed'];let _0x15c515=!(-0x97*-0x3d+0xc17*-0x2+0x9f*-0x13);for(let _0x5984b9=0x2068+-0x1fb6+-0x59*0x2;_0x5984b9<this['mesh']['boneAabb']['length'];_0x5984b9++)_0x439891[_0x5984b9]&&(sc['setFromTra'+'nsformedAa'+'bb'](this['mesh']['boneAabb'][_0x5984b9],this['skinInstan'+'ce']['matrices'][_0x5984b9]),_0x15c515?(_0x15c515=!(0x74d*0x1+0x15b6+0x1d02*-0x1),_0x2ab530['center']['copy'](sc['center']),_0x2ab530['halfExtent'+'s']['copy'](sc['halfExtent'+'s'])):_0x2ab530['add'](sc));_0x1506d4=!(-0x19*0x12+0x11*-0x1fd+-0x1*-0x238f);}else{if(this['node']['_aabbVer']!==this['_aabbVer']||this['mesh']['_aabbVer']!==this['_aabbMeshV'+'er']){if(this['mesh']?(_0x2ab530['center']['copy'](this['mesh']['aabb']['center']),_0x2ab530['halfExtent'+'s']['copy'](this['mesh']['aabb']['halfExtent'+'s'])):(_0x2ab530['center']['set'](0x1*-0x1f76+-0x1a76+0x39ec,-0xd72+-0x26*0x2+0x2*0x6df,-0x21f7+0x68f+-0x2*-0xdb4),_0x2ab530['halfExtent'+'s']['set'](-0x92b*-0x3+0x722+-0x22a3,-0x2*-0xa37+0xd70+-0x21de,-0x1*0x14b7+0x1f80+-0xac9)),this['mesh']&&this['mesh']['morph']){const _0x45d04e=this['mesh']['morph']['aabb'];_0x2ab530['_expand'](_0x45d04e['getMin'](),_0x45d04e['getMax']());}_0x1506d4=!(-0x16cc+0xbb3+0xb19),this['_aabbVer']=this['node']['_aabbVer'],this['_aabbMeshV'+'er']=this['mesh']['_aabbVer'];}}}return _0x1506d4&&this['_aabb']['setFromTra'+'nsformedAa'+'bb'](_0x2ab530,this['node']['getWorldTr'+'ansform']()),this['_aabb'];}['clearShade'+'rs'](){this['_shaderCac'+'he']['forEach'](_0x31a27d=>{_0x31a27d['destroy']();}),this['_shaderCac'+'he']['clear']();}['getShaderI'+'nstance'](_0x57c720,_0x207a24,_0x277565,_0x239b7f,_0x21d698,_0x2b8e8d,_0x4508dd){var _0xe78213;const _0x17fa06=this['_shaderDef'+'s'];Rr[0x35*0x95+-0x1d2d+-0x2*0xd6]=_0x57c720,Rr[-0xeb0+-0x120e*0x1+0x65*0x53]=_0x207a24,Rr[0x24c2+-0x32b*-0xb+-0x4799]=_0x17fa06,Rr[-0x1a7*-0x17+-0x256*-0xc+-0x4206]=_0x239b7f['hash'];const _0x468d04=By(Rr);let _0x2dbc4f=this['_shaderCac'+'he']['get'](_0x468d04);if(!_0x2dbc4f){const _0x5cca46=this['_material'];if(_0x2dbc4f=new CE(),_0x2dbc4f['shader']=_0x5cca46['variants']['get'](_0x468d04),_0x2dbc4f['hashes']=new Uint32Array(Rr),!_0x2dbc4f['shader']){Q['pushGpuMar'+'ker'](this['mesh']['device'],'Node:\x20'+this['node']['name']);const _0x1ca2ac=_0x5cca46['getShaderV'+'ariant']({'device':this['mesh']['device'],'scene':_0x277565,'objDefs':_0x17fa06,'cameraShaderParams':_0x239b7f,'pass':_0x57c720,'sortedLights':_0x4508dd,'viewUniformFormat':_0x21d698,'viewBindGroupFormat':_0x2b8e8d,'vertexFormat':(_0xe78213=this['mesh']['vertexBuff'+'er'])==null?void(0x464+0x1d01+0x53*-0x67):_0xe78213['format']});Q['popGpuMark'+'er'](this['mesh']['device']),_0x5cca46['variants']['set'](_0x468d04,_0x1ca2ac),_0x2dbc4f['shader']=_0x1ca2ac;}this['_shaderCac'+'he']['set'](_0x468d04,_0x2dbc4f);}return w['call'](()=>{IT['equals'](_0x2dbc4f['hashes'],Rr)||w['errorOnce']('Hash\x20colli'+'sion\x20in\x20th'+'e\x20shader\x20c'+'ache\x20for\x20m'+'esh\x20instan'+'ce.\x20This\x20i'+'s\x20very\x20unl'+'ikely\x20but\x20'+'still\x20poss'+'ible.\x20Plea'+'se\x20report\x20'+'this\x20issue'+'.');}),_0x2dbc4f;}set['material'](_0x80a183){this['clearShade'+'rs']();const _0x1c4961=this['_material'];_0x1c4961&&_0x1c4961['removeMesh'+'InstanceRe'+'f'](this),this['_material']=_0x80a183,_0x80a183&&(_0x80a183['addMeshIns'+'tanceRef'](this),this['transparen'+'t']=_0x80a183['transparen'+'t'],this['updateKey']());}get['material'](){return this['_material'];}['_updateSha'+'derDefs'](_0x1b23a2){_0x1b23a2!==this['_shaderDef'+'s']&&(this['_shaderDef'+'s']=_0x1b23a2,this['clearShade'+'rs']());}set['calculateS'+'ortDistanc'+'e'](_0x106594){this['_calculate'+'SortDistan'+'ce']=_0x106594;}get['calculateS'+'ortDistanc'+'e'](){return this['_calculate'+'SortDistan'+'ce'];}set['receiveSha'+'dow'](_0x5dc5e2){this['_receiveSh'+'adow']!==_0x5dc5e2&&(this['_receiveSh'+'adow']=_0x5dc5e2,this['_updateSha'+'derDefs'](_0x5dc5e2?this['_shaderDef'+'s']&~wh:this['_shaderDef'+'s']|wh));}get['receiveSha'+'dow'](){return this['_receiveSh'+'adow'];}set['batching'](_0x152da5){this['_updateSha'+'derDefs'](_0x152da5?this['_shaderDef'+'s']|qc:this['_shaderDef'+'s']&~qc);}get['batching'](){return(this['_shaderDef'+'s']&qc)!==-0x5*0x2ef+-0x595+-0x120*-0x12;}set['skinInstan'+'ce'](_0x5e18d0){this['_skinInsta'+'nce']=_0x5e18d0,this['_updateSha'+'derDefs'](_0x5e18d0?this['_shaderDef'+'s']|nl:this['_shaderDef'+'s']&~nl),this['_setupSkin'+'Update']();}get['skinInstan'+'ce'](){return this['_skinInsta'+'nce'];}set['morphInsta'+'nce'](_0x41366b){var _0x25a4df;(_0x25a4df=this['_morphInst'+'ance'])==null||_0x25a4df['destroy'](),this['_morphInst'+'ance']=_0x41366b;let _0x3d2db4=this['_shaderDef'+'s'];_0x3d2db4=_0x41366b&&_0x41366b['morph']['morphPosit'+'ions']?_0x3d2db4|ll:_0x3d2db4&~ll,_0x3d2db4=_0x41366b&&_0x41366b['morph']['morphNorma'+'ls']?_0x3d2db4|cl:_0x3d2db4&~cl,_0x3d2db4=_0x41366b&&_0x41366b['morph']['intRenderF'+'ormat']?_0x3d2db4|hl:_0x3d2db4&~hl,this['_updateSha'+'derDefs'](_0x3d2db4);}get['morphInsta'+'nce'](){return this['_morphInst'+'ance'];}set['screenSpac'+'e'](_0x63b776){this['_screenSpa'+'ce']!==_0x63b776&&(this['_screenSpa'+'ce']=_0x63b776,this['_updateSha'+'derDefs'](_0x63b776?this['_shaderDef'+'s']|Eh:this['_shaderDef'+'s']&~Eh));}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['key'](_0x47f92d){this['_sortKeyFo'+'rward']=_0x47f92d;}get['key'](){return this['_sortKeyFo'+'rward'];}set['mask'](_0x1e8df2){const _0x4ea368=this['_shaderDef'+'s']&-0x12b4d+0x1c57a+0x65d2;this['_updateSha'+'derDefs'](_0x4ea368|_0x1e8df2<<0x25f*0x1+-0x1*-0xed5+-0x1124);}get['mask'](){return this['_shaderDef'+'s']>>0x1e96+-0xc3*0x15+-0x1*0xe87;}set['instancing'+'Count'](_0x27af3a){this['instancing'+'Data']&&(this['instancing'+'Data']['count']=_0x27af3a);}get['instancing'+'Count'](){return this['instancing'+'Data']?this['instancing'+'Data']['count']:-0x2ef*0x1+-0x1f1b*0x1+-0x220a*-0x1;}['destroy'](){var _0xa0bc41,_0x52aaad,_0x31341a;const _0x99fcf5=this['mesh'];_0x99fcf5&&(this['mesh']=null,_0x99fcf5['refCount']<0x2157+0x22a1+-0x43f7&&_0x99fcf5['destroy']()),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][-0x3*0xb3+0x5*-0x322+-0x1*-0x11c3],null),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][0x626*0x5+-0x1682+-0x1*0x83b],null),(_0xa0bc41=this['_skinInsta'+'nce'])==null||_0xa0bc41['destroy'](),this['_skinInsta'+'nce']=null,(_0x52aaad=this['morphInsta'+'nce'])==null||_0x52aaad['destroy'](),this['morphInsta'+'nce']=null,this['clearShade'+'rs'](),this['material']=null,(_0x31341a=this['instancing'+'Data'])==null||_0x31341a['destroy']();}static['_prepareRe'+'nderStyleF'+'orArray'](_0x46ef54,_0xd4a5ce){if(_0x46ef54){for(let _0x19c30c=-0x920+-0x60*-0x1+0x8c0;_0x19c30c<_0x46ef54['length'];_0x19c30c++){_0x46ef54[_0x19c30c]['_renderSty'+'le']=_0xd4a5ce;const _0x516e95=_0x46ef54[_0x19c30c]['mesh'];qd['has'](_0x516e95)||(qd['add'](_0x516e95),_0x516e95['prepareRen'+'derState'](_0xd4a5ce));}qd['clear']();}}['_isVisible'](_0x1abdc6){return this['visible']?this['isVisibleF'+'unc']?this['isVisibleF'+'unc'](_0x1abdc6):(Xd['center']=this['aabb']['center'],Xd['radius']=this['_aabb']['halfExtent'+'s']['length'](),_0x1abdc6['frustum']['containsSp'+'here'](Xd)>-0xa*0x112+-0x3*-0x157+0x6af):!(-0x116d+-0x1c*-0x59+0x7b2*0x1);}['updateKey'](){const {material:_0x1cffe3}=this;this['_sortKeyFo'+'rward']=this['_drawBucke'+'t']<<-0x16c9+-0xce6+-0x13*-0x1e2|(_0x1cffe3['alphaToCov'+'erage']||_0x1cffe3['alphaTest']?-0x62*0x1a1f+0x58*-0x362b+0x5c9ea6:0x2662+0x2362+0x1*-0x49c4)|_0x1cffe3['id']&-0x698ca2*0x1+-0x2c69a1*0x1+0xd5f642;}['setInstanc'+'ing'](_0x5d1976,_0x5f12f1=!(0x4e*0x35+0x2540+-0x3565)){_0x5d1976?(this['instancing'+'Data']=new bE(_0x5d1976['numVertice'+'s']),this['instancing'+'Data']['vertexBuff'+'er']=_0x5d1976,_0x5d1976['format']['instancing']=!(-0x5e1+-0x1*-0x296+0x34b),this['cull']=_0x5f12f1):(this['instancing'+'Data']=null,this['cull']=!(0x26c6*0x1+0xd3+-0x2799)),this['_updateSha'+'derDefs'](_0x5d1976?this['_shaderDef'+'s']|ol:this['_shaderDef'+'s']&~ol);}['setIndirec'+'t'](_0x2dfc76,_0x4b035a){this['_allocIndi'+'rectData'](),this['indirectDa'+'ta']['map']['set']((_0x2dfc76==null?void(0x1*-0xd2d+-0xe44+0x1b71):_0x2dfc76['camera'])??null,_0x4b035a),this['mesh']['device']['mapsToClea'+'r']['add'](this['indirectDa'+'ta']['map']);}['getIndirec'+'tMetaData'](){var _0x259307;this['_allocIndi'+'rectData']();const _0x1d6ca5=(_0x259307=this['mesh'])==null?void(-0xc1a+-0x7*-0x1a6+0x90):_0x259307['primitive'][this['renderStyl'+'e']],_0x4c6888=this['indirectDa'+'ta']['meshMetaDa'+'ta'];return _0x4c6888[0x6ad+-0xb3*0x22+-0x5b3*-0x3]=_0x1d6ca5['count'],_0x4c6888[-0x225a+-0x3*-0x94d+0x674]=_0x1d6ca5['base'],_0x4c6888[-0x99d+-0x1f7*-0xb+-0xbfe]=_0x1d6ca5['baseVertex'],_0x4c6888;}['_allocIndi'+'rectData'](){this['indirectDa'+'ta']||(this['indirectDa'+'ta']=new AE());}['ensureMate'+'rial'](_0x1739f4){this['material']||(w['warn']('Mesh\x20attac'+'hed\x20to\x20ent'+'ity\x20\x27'+this['node']['name']+('\x27\x20does\x20not'+'\x20have\x20a\x20ma'+'terial,\x20us'+'ing\x20a\x20defa'+'ult\x20one.')),this['material']=Qn(_0x1739f4));}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['getParamet'+'er'](_0x28e063){return this['parameters'][_0x28e063];}['setParamet'+'er'](_0x593e19,_0x456bff,_0xce3d49=-0x2*-0x1e54860e+-0x1c5d05edb*0x1+0x4820d04e*0x9){const _0x3d2073=this['parameters'][_0x593e19];_0x3d2073?(_0x3d2073['data']=_0x456bff,_0x3d2073['passFlags']=_0xce3d49):this['parameters'][_0x593e19]={'scopeId':null,'data':_0x456bff,'passFlags':_0xce3d49};}['setRealtim'+'eLightmap'](_0x234e5a,_0x4a5dea){const _0x2f59dc=this['getParamet'+'er'](_0x234e5a);_0x2f59dc!==_0x4a5dea&&(_0x2f59dc&&zi['decRef'](_0x2f59dc['data']),_0x4a5dea?(zi['incRef'](_0x4a5dea),this['setParamet'+'er'](_0x234e5a,_0x4a5dea)):this['deletePara'+'meter'](_0x234e5a));}['deletePara'+'meter'](_0x2da604){this['parameters'][_0x2da604]&&delete this['parameters'][_0x2da604];}['setParamet'+'ers'](_0x67e717,_0x2146f5){const _0x507f65=this['parameters'];for(const _0x1d5537 in _0x507f65){const _0x4ff9d2=_0x507f65[_0x1d5537];_0x4ff9d2['passFlags']&_0x2146f5&&(_0x4ff9d2['scopeId']||(_0x4ff9d2['scopeId']=_0x67e717['scope']['resolve'](_0x1d5537)),_0x4ff9d2['scopeId']['setValue'](_0x4ff9d2['data']));}}['setLightma'+'pped'](_0x86b5ab){_0x86b5ab?this['mask']=(this['mask']|di)&-(-0xb*-0xbf+-0xdc0*-0x1+-0x15ef):(this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][-0x195*0x18+-0x1*-0x1f0f+-0x1d*-0x3d],null),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][-0x2fe*-0x5+-0x169+-0xd8c],null),this['_shaderDef'+'s']&=-(-0xba1+0xade+-0x461*-0x4),this['mask']=(this['mask']|Ss)&-(0x1a46+0x296+-0xb*0x29f));}['setCustomA'+'abb'](_0x337516){_0x337516?this['_customAab'+'b']?this['_customAab'+'b']['copy'](_0x337516):this['_customAab'+'b']=_0x337516['clone']():(this['_customAab'+'b']=null,this['_aabbVer']=-(0x224f+0x15*0x1+-0x2263)),this['_setupSkin'+'Update']();}['_setupSkin'+'Update'](){this['_skinInsta'+'nce']&&(this['_skinInsta'+'nce']['_updateBef'+'oreCull']=!this['_customAab'+'b']);}};h(Jr,'lightmapPa'+'ramNames',['texture_li'+'ghtMap','texture_di'+'rLightMap']);let He=Jr;const PE=[0x1382+0x121f*-0x1+0x1*-0x163,0x26ca+-0x6f*0x31+-0x118a,0x1808+-0x16b4+-0x151,-0xa0*0x2e+0x19*-0x97+0x12d*0x25,0x1af0*0x1+0x3*-0x659+-0x7e2,0x1aec+0x1661+-0x314c],ME=[0x734+-0x1c*0x15+-0x4e8*0x1,0x114*0x1c+-0x1707+0x394*-0x2,0x17af*0x1+0x92*0x39+0x1*-0x382e,-0x1*0x2365+0x116*-0x3+0x7bb*0x5,-0x3e*-0x27+-0x3bb+-0x5b4,0xfc7+-0x11*0x102+0x15d],A_=new _i();function C_(_0xcea2c1,_0xdeb8a9){if(_0xcea2c1&&!_0xdeb8a9||!_0xcea2c1&&_0xdeb8a9)return!(0x55e*0x5+0x151a+-0x2fef);if(_0xcea2c1=_0xcea2c1['data'],_0xdeb8a9=_0xdeb8a9['data'],_0xcea2c1===_0xdeb8a9)return!(0x453+0x142*-0x6+0x5*0xa5);if(_0xcea2c1 instanceof Float32Array&&_0xdeb8a9 instanceof Float32Array){if(_0xcea2c1['length']!==_0xdeb8a9['length'])return!(0xb1a+0x16*0x74+-0x1511);for(let _0x4daf6a=0x25*0x81+-0x1*-0x897+-0x48a*0x6;_0x4daf6a<_0xcea2c1['length'];_0x4daf6a++)if(_0xcea2c1[_0x4daf6a]!==_0xdeb8a9[_0x4daf6a])return!(0xf7+0x204b+-0x1*0x2141);return!(0x1f94+-0xe72*0x2+-0x2b0);}return!(-0x1eca+-0x1730+-0x427*-0xd);}function DE(_0x47daeb,_0x3e460b){for(const _0x102ca2 in _0x47daeb)if(_0x47daeb['hasOwnProp'+'erty'](_0x102ca2)&&!C_(_0x47daeb[_0x102ca2],_0x3e460b[_0x102ca2]))return!(0x1261+-0xdf0+0x11c*-0x4);for(const _0x14ef34 in _0x3e460b)if(_0x3e460b['hasOwnProp'+'erty'](_0x14ef34)&&!C_(_0x3e460b[_0x14ef34],_0x47daeb[_0x14ef34]))return!(-0x1ce+0x1*-0x1142+-0x1*-0x1311);return!(-0xe5+-0x4b*0x83+0x2746);}function jd(_0x4e999c){return _0x4e999c['node']['worldTrans'+'form']['scaleSign'];}class IE{constructor(_0xb45d,_0x3f37f6,_0xf95749){this['device']=_0xb45d,this['rootNode']=_0x3f37f6,this['scene']=_0xf95749,this['_init']=!(0xb3d*-0x1+0x1500+-0x4e1*0x2),this['_batchGrou'+'ps']={},this['_batchGrou'+'pCounter']=0x1e54+0x4d1*-0x1+-0x1983,this['_batchList']=[],this['_dirtyGrou'+'ps']=[],this['_stats']={'createTime':0x0,'updateLastFrameTime':0x0};}['destroy'](){this['device']=null,this['rootNode']=null,this['scene']=null,this['_batchGrou'+'ps']={},this['_batchList']=[],this['_dirtyGrou'+'ps']=[];}['addGroup'](_0x272ca1,_0x3977ce,_0x17c52d,_0x4ecfc3,_0x2f4755){if(_0x4ecfc3===void(-0x12d1*0x2+-0x16dc+-0x57*-0xb2)&&(_0x4ecfc3=this['_batchGrou'+'pCounter'],this['_batchGrou'+'pCounter']++),this['_batchGrou'+'ps'][_0x4ecfc3]){w['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x4ecfc3+('\x20already\x20e'+'xists.'));return;}const _0x3ba09e=new St(_0x4ecfc3,_0x272ca1,_0x3977ce,_0x17c52d,_0x2f4755);return this['_batchGrou'+'ps'][_0x4ecfc3]=_0x3ba09e,_0x3ba09e;}['removeGrou'+'p'](_0x221f96){if(!this['_batchGrou'+'ps'][_0x221f96]){w['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x221f96+('\x20doesn\x27t\x20e'+'xist.'));return;}const _0x180b7c=[];for(let _0x19fc6c=-0x26ea+-0x10*-0x254+0x1aa;_0x19fc6c<this['_batchList']['length'];_0x19fc6c++)this['_batchList'][_0x19fc6c]['batchGroup'+'Id']===_0x221f96?this['destroyBat'+'ch'](this['_batchList'][_0x19fc6c]):_0x180b7c['push'](this['_batchList'][_0x19fc6c]);this['_batchList']=_0x180b7c,this['_removeMod'+'elsFromBat'+'chGroup'](this['rootNode'],_0x221f96),delete this['_batchGrou'+'ps'][_0x221f96];}['markGroupD'+'irty'](_0x2b2ba9){this['_dirtyGrou'+'ps']['indexOf'](_0x2b2ba9)<0x2*0x26b+-0x147f+0xfa9&&this['_dirtyGrou'+'ps']['push'](_0x2b2ba9);}['getGroupBy'+'Name'](_0x3a0d60){const _0x2b8e26=this['_batchGrou'+'ps'];for(const _0x41742f in _0x2b8e26)if(_0x2b8e26['hasOwnProp'+'erty'](_0x41742f)&&_0x2b8e26[_0x41742f]['name']===_0x3a0d60)return _0x2b8e26[_0x41742f];return null;}['getBatches'](_0x312acc){const _0x29eb76=[],_0x1b41f8=this['_batchList']['length'];for(let _0x23a586=0x2443+-0x1691+-0xdb2;_0x23a586<_0x1b41f8;_0x23a586++){const _0xd3ea96=this['_batchList'][_0x23a586];_0xd3ea96['batchGroup'+'Id']===_0x312acc&&_0x29eb76['push'](_0xd3ea96);}return _0x29eb76;}['_removeMod'+'elsFromBat'+'chGroup'](_0x3e9d04,_0x6fa66f){if(_0x3e9d04['enabled']){_0x3e9d04['model']&&_0x3e9d04['model']['batchGroup'+'Id']===_0x6fa66f&&(_0x3e9d04['model']['batchGroup'+'Id']=-(0x2c*0x13+0x19de+0x1*-0x1d21)),_0x3e9d04['render']&&_0x3e9d04['render']['batchGroup'+'Id']===_0x6fa66f&&(_0x3e9d04['render']['batchGroup'+'Id']=-(0x4*-0x735+-0x1*0x127f+0x2f54)),_0x3e9d04['element']&&_0x3e9d04['element']['batchGroup'+'Id']===_0x6fa66f&&(_0x3e9d04['element']['batchGroup'+'Id']=-(0x6d6+-0x1297+0xbc2)),_0x3e9d04['sprite']&&_0x3e9d04['sprite']['batchGroup'+'Id']===_0x6fa66f&&(_0x3e9d04['sprite']['batchGroup'+'Id']=-(0x1c46+0x781+-0x1e2*0x13));for(let _0x30a0f3=-0x16f8+-0xc91*0x2+0x301a;_0x30a0f3<_0x3e9d04['_children']['length'];_0x30a0f3++)this['_removeMod'+'elsFromBat'+'chGroup'](_0x3e9d04['_children'][_0x30a0f3],_0x6fa66f);}}['insert'](_0x236480,_0x23cd96,_0x4f02ae){const _0x7e6030=this['_batchGrou'+'ps'][_0x23cd96];w['assert'](_0x7e6030,'Invalid\x20ba'+'tch\x20'+_0x23cd96+'\x20insertion'),_0x7e6030&&_0x7e6030['_obj'][_0x236480]['indexOf'](_0x4f02ae)<-0x116a+-0xb51+0x1cbb&&(_0x7e6030['_obj'][_0x236480]['push'](_0x4f02ae),this['markGroupD'+'irty'](_0x23cd96));}['remove'](_0x57cd58,_0x3b32d0,_0x72538){const _0x6fa0bb=this['_batchGrou'+'ps'][_0x3b32d0];if(w['assert'](_0x6fa0bb,'Invalid\x20ba'+'tch\x20'+_0x3b32d0+'\x20insertion'),_0x6fa0bb){const _0x16a6aa=_0x6fa0bb['_obj'][_0x57cd58]['indexOf'](_0x72538);_0x16a6aa>=-0x1f02+0x12e2+0x610*0x2&&(_0x6fa0bb['_obj'][_0x57cd58]['splice'](_0x16a6aa,0xd87+-0x2089*-0x1+0x1*-0x2e0f),this['markGroupD'+'irty'](_0x3b32d0));}}['_extractRe'+'nder'](_0x1f056b,_0x5b3068,_0xcbbe62,_0x1e65cb){return _0x1f056b['render']&&(_0x5b3068=_0x1e65cb[_0x1f056b['render']['batchGroup'+'Id']]=_0x5b3068['concat'](_0x1f056b['render']['meshInstan'+'ces']),_0x1f056b['render']['removeFrom'+'Layers']()),_0x5b3068;}['_extractMo'+'del'](_0xa8d33,_0x4142d9,_0x398341,_0x35a2b9){return _0xa8d33['model']&&_0xa8d33['model']['model']&&(_0x4142d9=_0x35a2b9[_0xa8d33['model']['batchGroup'+'Id']]=_0x4142d9['concat'](_0xa8d33['model']['meshInstan'+'ces']),_0xa8d33['model']['removeMode'+'lFromLayer'+'s'](),_0xa8d33['model']['_batchGrou'+'p']=_0x398341),_0x4142d9;}['_extractEl'+'ement'](_0x306188,_0x31b884,_0x4d9221){if(!_0x306188['element'])return;let _0x4a0433=!(0x4e4*0x1+0xb65+-0x1*0x1048);_0x306188['element']['_text']&&_0x306188['element']['_text']['_model']['meshInstan'+'ces']['length']>0x25a9+0x215+-0x27be*0x1?(_0x31b884['push'](_0x306188['element']['_text']['_model']['meshInstan'+'ces'][-0x1*0x22f1+-0x1895*-0x1+-0x2*-0x52e]),_0x306188['element']['removeMode'+'lFromLayer'+'s'](_0x306188['element']['_text']['_model']),_0x4a0433=!(0x1b25+-0xd46+-0xddf*0x1)):_0x306188['element']['_image']&&(_0x31b884['push'](_0x306188['element']['_image']['_renderabl'+'e']['meshInstan'+'ce']),_0x306188['element']['removeMode'+'lFromLayer'+'s'](_0x306188['element']['_image']['_renderabl'+'e']['model']),_0x306188['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']&&(_0x31b884['push'](_0x306188['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']),(!_0x306188['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']||!_0x306188['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k'])&&(_0x306188['element']['_dirtifyMa'+'sk'](),_0x306188['element']['_onPrerend'+'er']())),_0x4a0433=!(-0xe92+-0x25ca*-0x1+-0x1*0x1738)),_0x4a0433&&(_0x4d9221['_ui']=!(0xfc7*-0x1+0x181*0x9+0x11f*0x2),_0x306188['element']['_batchGrou'+'p']=_0x4d9221);}['_collectAn'+'dRemoveMes'+'hInstances'](_0x4601ca,_0x2b693a){for(let _0xbcb73f=-0xa5d+-0x734*0x5+-0x2e61*-0x1;_0xbcb73f<_0x2b693a['length'];_0xbcb73f++){const _0x40bba9=_0x2b693a[_0xbcb73f],_0x1fce24=this['_batchGrou'+'ps'][_0x40bba9];if(!_0x1fce24)continue;let _0x1d8f1c=_0x4601ca[_0x40bba9];_0x1d8f1c||(_0x1d8f1c=_0x4601ca[_0x40bba9]=[]);for(let _0x100603=0x1476+-0x532+-0xf44;_0x100603<_0x1fce24['_obj']['model']['length'];_0x100603++)_0x1d8f1c=this['_extractMo'+'del'](_0x1fce24['_obj']['model'][_0x100603],_0x1d8f1c,_0x1fce24,_0x4601ca);for(let _0x1b6f91=0x1c48+-0x104e*0x1+-0xbfa;_0x1b6f91<_0x1fce24['_obj']['render']['length'];_0x1b6f91++)_0x1d8f1c=this['_extractRe'+'nder'](_0x1fce24['_obj']['render'][_0x1b6f91],_0x1d8f1c,_0x1fce24,_0x4601ca);for(let _0x128362=0x3*-0xa+-0x1a93+0x1ab1*0x1;_0x128362<_0x1fce24['_obj']['element']['length'];_0x128362++)this['_extractEl'+'ement'](_0x1fce24['_obj']['element'][_0x128362],_0x1d8f1c,_0x1fce24);for(let _0x249695=-0x2498+-0x882+-0x2e*-0xfb;_0x249695<_0x1fce24['_obj']['sprite']['length'];_0x249695++){const _0x38dd8f=_0x1fce24['_obj']['sprite'][_0x249695];_0x38dd8f['sprite']&&_0x38dd8f['sprite']['_meshInsta'+'nce']&&(_0x1fce24['dynamic']||_0x38dd8f['sprite']['sprite']['_renderMod'+'e']===ci)&&(_0x1d8f1c['push'](_0x38dd8f['sprite']['_meshInsta'+'nce']),_0x38dd8f['sprite']['removeMode'+'lFromLayer'+'s'](),_0x1fce24['_sprite']=!(0x15*0x15e+-0xb*0x143+-0xed5),_0x38dd8f['sprite']['_batchGrou'+'p']=_0x1fce24);}}}['generate'](_0x30d4d8){const _0x44f7cd={};_0x30d4d8||(_0x30d4d8=Object['keys'](this['_batchGrou'+'ps']));const _0x163e4b=[];for(let _0x36bf00=0x6e3*-0x3+-0x2396+0x383f;_0x36bf00<this['_batchList']['length'];_0x36bf00++){if(_0x30d4d8['indexOf'](this['_batchList'][_0x36bf00]['batchGroup'+'Id'])<0x46a*-0x1+0x5a*-0x67+0x32*0xd0){_0x163e4b['push'](this['_batchList'][_0x36bf00]);continue;}this['destroyBat'+'ch'](this['_batchList'][_0x36bf00]);}if(this['_batchList']=_0x163e4b,this['_collectAn'+'dRemoveMes'+'hInstances'](_0x44f7cd,_0x30d4d8),_0x30d4d8===this['_dirtyGrou'+'ps'])this['_dirtyGrou'+'ps']['length']=0x98c+0x7d*0x2d+-0x1f85;else{const _0x4f82c8=[];for(let _0x491b50=-0x239c+-0x16ce+0x3a6a;_0x491b50<this['_dirtyGrou'+'ps']['length'];_0x491b50++)_0x30d4d8['indexOf'](this['_dirtyGrou'+'ps'][_0x491b50])<0x20c2+0x18bb*0x1+-0x397d&&_0x4f82c8['push'](this['_dirtyGrou'+'ps'][_0x491b50]);this['_dirtyGrou'+'ps']=_0x4f82c8;}let _0x57f5ac,_0x580f03,_0x20b932,_0x95665b;for(const _0x26d910 in _0x44f7cd)if(_0x44f7cd['hasOwnProp'+'erty'](_0x26d910)){if(_0x57f5ac=_0x44f7cd[_0x26d910],_0x20b932=this['_batchGrou'+'ps'][_0x26d910],!_0x20b932){w['error']('batch\x20grou'+'p\x20'+_0x26d910+'\x20not\x20found');continue;}_0x580f03=this['prepare'](_0x57f5ac,_0x20b932['dynamic'],_0x20b932['maxAabbSiz'+'e'],_0x20b932['_ui']||_0x20b932['_sprite']);for(let _0x5ce762=0x63+-0x3df*-0x7+-0x1b7c;_0x5ce762<_0x580f03['length'];_0x5ce762++)_0x95665b=this['create'](_0x580f03[_0x5ce762],_0x20b932['dynamic'],parseInt(_0x26d910,-0x1675*0x1+0x1*0x6fb+-0xf84*-0x1)),_0x95665b&&_0x95665b['addToLayer'+'s'](this['scene'],_0x20b932['layers']);}}['prepare'](_0x454c6d,_0xe8119d,_0x1b372a=Number['POSITIVE_I'+'NFINITY'],_0x2182e8){if(_0x454c6d['length']===0xb2f*0x1+-0x1*0x1dde+0x12af)return[];const _0x2ff311=_0x1b372a*(0x1b2a+0x1*-0x683+-0x14a7+0.5),_0xaecc4a=-0x1*0x1f16+-0xb15+0x2e2b,_0xb77fa2=0xf039*0x2077f+-0xceb7*0x1c991+0x89ff095f,_0x1a10d9=new De(),_0x7afebe=new De();let _0x5abe77=null,_0x37723e;const _0x20d318=[];let _0x3471ef=0xa79*0x2+-0x112f*0x1+-0x3c3;_0x2182e8&&_0x454c6d['sort']((_0x1a4bd3,_0x4c505b)=>_0x1a4bd3['drawOrder']-_0x4c505b['drawOrder']);let _0x1b55b5=_0x454c6d,_0x5cee66;const _0x7d4e3d=_0x2182e8?function(_0x49a3b2){_0x5abe77?_0x5abe77['add'](_0x49a3b2['aabb']):_0x5abe77=_0x49a3b2['aabb']['clone'](),_0x5cee66['push'](_0x49a3b2);}:function(_0x1bc110){_0x5cee66['push'](_0x1bc110);};for(;_0x1b55b5['length']>-0x1*-0x115a+0x267a+-0x37d4;){_0x20d318[_0x3471ef]=[_0x1b55b5[0x12*0x3+0x24f2+-0x29*0xe8]],_0x5cee66=[];const _0x4f13c2=_0x1b55b5[0x3d*0x15+-0x4a3*0x1+-0x5e]['material'],_0x68a4a2=_0x1b55b5[0x2574+-0xe9f+-0x16d5]['layer'],_0x591aa9=_0x1b55b5[-0x2*-0xbf6+0x1*-0x2223+0xa37*0x1]['_shaderDef'+'s'],_0xe8f02a=_0x1b55b5[-0x20e1*-0x1+0x9*-0x215+0x712*-0x2]['parameters'],_0x212f95=_0x1b55b5[-0x17e6+0x1e*-0x104+-0x1b2f*-0x2]['stencilFro'+'nt'];let _0x6d843f=_0x1b55b5[-0x1256*-0x1+0x18f8+-0x2b4e]['mesh']['vertexBuff'+'er']['getNumVert'+'ices']();const _0x30e739=_0x1b55b5[0x4d*0xf+-0x2634+0x21b1]['drawOrder'];_0x1a10d9['copy'](_0x1b55b5[0x1a6*-0x11+0x964+-0x636*-0x3]['aabb']);const _0x359c2f=jd(_0x1b55b5[0xc7e+0x1*0x147b+-0x20f9]),_0x24dfd1=_0x1b55b5[0x7ee+-0x1459*-0x1+-0x1c47]['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh'],_0xd8e606=_0x1b55b5[0x4e*-0x48+-0xccb+0x22bb]['mesh']['primitive'][-0x1320+0x4*-0x899+-0x4*-0xd61]['indexed'];_0x5abe77=null;for(let _0x1689f8=-0x9bb+-0x15*-0x35+-0xc5*-0x7;_0x1689f8<_0x1b55b5['length'];_0x1689f8++){const _0x10007f=_0x1b55b5[_0x1689f8];if(_0xe8119d&&_0x20d318[_0x3471ef]['length']>=_0xaecc4a){_0x5cee66=_0x5cee66['concat'](_0x1b55b5['slice'](_0x1689f8));break;}if(_0x4f13c2!==_0x10007f['material']||_0x68a4a2!==_0x10007f['layer']||_0x24dfd1!==_0x10007f['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh']||_0xd8e606!==_0x10007f['mesh']['primitive'][0x2a*-0x7d+-0x3*-0x3d+0x13cb]['indexed']||_0x591aa9!==_0x10007f['_shaderDef'+'s']||_0x6d843f+_0x10007f['mesh']['vertexBuff'+'er']['getNumVert'+'ices']()>_0xb77fa2){_0x7d4e3d(_0x10007f);continue;}if(_0x7afebe['copy'](_0x1a10d9),_0x7afebe['add'](_0x10007f['aabb']),_0x7afebe['halfExtent'+'s']['x']>_0x2ff311||_0x7afebe['halfExtent'+'s']['y']>_0x2ff311||_0x7afebe['halfExtent'+'s']['z']>_0x2ff311){_0x7d4e3d(_0x10007f);continue;}if(_0x212f95&&(!(_0x37723e=_0x10007f['stencilFro'+'nt'])||_0x212f95['func']!==_0x37723e['func']||_0x212f95['zpass']!==_0x37723e['zpass'])){_0x7d4e3d(_0x10007f);continue;}if(_0x359c2f!==jd(_0x10007f)){_0x7d4e3d(_0x10007f);continue;}if(!DE(_0xe8f02a,_0x10007f['parameters'])){_0x7d4e3d(_0x10007f);continue;}if(_0x2182e8&&_0x5abe77&&_0x5abe77['intersects'](_0x10007f['aabb'])&&_0x10007f['drawOrder']!==_0x30e739){_0x7d4e3d(_0x10007f);continue;}_0x1a10d9['add'](_0x10007f['aabb']),_0x6d843f+=_0x10007f['mesh']['vertexBuff'+'er']['getNumVert'+'ices'](),_0x20d318[_0x3471ef]['push'](_0x10007f);}_0x3471ef++,_0x1b55b5=_0x5cee66;}return _0x20d318;}['collectBat'+'chedMeshDa'+'ta'](_0x500fb9,_0x392fc9){let _0x119d7c=null,_0x27394e=-0x1527+0x472*0x6+0x1*-0x585,_0x1575e4=-0x1*0x2249+-0x14e7+0x3730,_0xc8c3b8=null;for(let _0x130ce4=-0x957+0x7d4*0x2+-0x651;_0x130ce4<_0x500fb9['length'];_0x130ce4++)if(_0x500fb9[_0x130ce4]['visible']){const _0x2264ed=_0x500fb9[_0x130ce4]['mesh'],_0x349f97=_0x2264ed['vertexBuff'+'er']['numVertice'+'s'];if(_0x27394e+=_0x349f97,_0x2264ed['primitive'][-0x71*0x55+-0x4*-0x98c+-0xab]['indexed'])_0x1575e4+=_0x2264ed['primitive'][-0x7f*-0x4c+-0xb*-0x2ab+-0x430d]['count'];else{const _0x1170ab=_0x2264ed['primitive'][0x2*0xe25+0x1*-0x2437+0x1*0x7ed]['type'];(_0x1170ab===oa||_0x1170ab===Er)&&_0x2264ed['primitive'][-0xce5+-0x769*0x3+-0x1*-0x2320]['count']===-0x223e+0xb44+-0xb7f*-0x2&&(_0x1575e4+=-0x1af*0x6+0x59f*0x2+-0x11e);}if(!_0x119d7c){_0xc8c3b8=_0x500fb9[_0x130ce4]['material'],_0x119d7c={};const _0x1a1589=_0x2264ed['vertexBuff'+'er']['format']['elements'];for(let _0xd13014=0x1*-0x1363+0x5b5+0xdae;_0xd13014<_0x1a1589['length'];_0xd13014++){const _0x212ae8=_0x1a1589[_0xd13014]['name'];_0x119d7c[_0x212ae8]={'numComponents':_0x1a1589[_0xd13014]['numCompone'+'nts'],'dataType':_0x1a1589[_0xd13014]['dataType'],'normalize':_0x1a1589[_0xd13014]['normalize'],'count':0x0};}_0x392fc9&&(_0x119d7c[us]={'numComponents':0x1,'dataType':Ve,'normalize':!(0x1f89+0x2f*0xc+-0x21bc),'count':0x0});}}return{'streams':_0x119d7c,'batchNumVerts':_0x27394e,'batchNumIndices':_0x1575e4,'material':_0xc8c3b8};}['create'](_0x2378f5,_0x35e18a,_0x7c7202){const _0x526e5e=de();this['_init']||(this['vertexForm'+'ats']={},this['_init']=!(-0x8ff+0x2467+-0x1b68));let _0x524d49=null,_0x116460,_0x170f0a,_0xbb896c,_0x1f526b=null;const _0x2c1f11=this['collectBat'+'chedMeshDa'+'ta'](_0x2378f5,_0x35e18a);if(_0x2c1f11['streams']){const _0x3f4fbc=_0x2c1f11['streams'];let _0x1f06d3=_0x2c1f11['material'];const _0x3477d5=_0x2c1f11['batchNumVe'+'rts'],_0x25d37c=_0x2c1f11['batchNumIn'+'dices'];_0x1f526b=new g_(_0x2378f5,_0x35e18a,_0x7c7202),this['_batchList']['push'](_0x1f526b);let _0x31f513,_0x3db3d4,_0x4c82ab,_0x286d44,_0x5ae7fe=0xf10*0x1+-0x2289+-0x1379*-0x1,_0x5dd034=0x1c65+-0x11*0x55+-0x16c0,_0x1c3379;const _0x56565c=_0x3477d5<=0x68b6+-0x33*-0x792+0xeacd*-0x1?Uint16Array:Uint32Array,_0x404d86=new _0x56565c(_0x25d37c);for(_0x116460 in _0x3f4fbc)_0x524d49=_0x3f4fbc[_0x116460],_0x524d49['typeArrayT'+'ype']=wn[_0x524d49['dataType']],_0x524d49['elementByt'+'eSize']=No[_0x524d49['dataType']],_0x524d49['buffer']=new _0x524d49['typeArrayT'+'ype'](_0x3477d5*_0x524d49['numCompone'+'nts']);for(let _0x48ebe0=-0x2436+0x1e06+-0x24*-0x2c;_0x48ebe0<_0x2378f5['length'];_0x48ebe0++)if(_0x2378f5[_0x48ebe0]['visible']){_0x170f0a=_0x2378f5[_0x48ebe0]['mesh'],_0xbb896c=_0x170f0a['vertexBuff'+'er']['numVertice'+'s'],_0x35e18a||(_0x1c3379=_0x2378f5[_0x48ebe0]['node']['getWorldTr'+'ansform']());for(_0x116460 in _0x3f4fbc)if(_0x116460!==us){_0x524d49=_0x3f4fbc[_0x116460];const _0xd5b373=new _0x524d49['typeArrayT'+'ype'](_0x524d49['buffer']['buffer'],_0x524d49['elementByt'+'eSize']*_0x524d49['count']),_0x19ba43=_0x170f0a['getVertexS'+'tream'](_0x116460,_0xd5b373)*_0x524d49['numCompone'+'nts'];if(_0x524d49['count']+=_0x19ba43,!_0x35e18a&&_0x524d49['numCompone'+'nts']>=-0x2*0x57d+0xa5d*0x2+0x9*-0x115){if(_0x116460===Me){const _0x2d9259=_0x1c3379['data'],_0x4efb79=_0x2d9259[0x13*-0xe9+-0x9*0x10d+0x1ac0],_0x15ae49=_0x2d9259[-0x1f*-0x133+0x18c8+-0x3df4],_0x59c69d=_0x2d9259[0xc1*0x27+-0x127d*-0x1+-0x2fe2],_0x1250fc=_0x2d9259[0x3ff+-0x1*0x21b3+0x1db8],_0xb3602a=_0x2d9259[-0x3*0x50+-0x1b39+0x1c2e],_0x1019f2=_0x2d9259[-0x1*0xc6f+-0x20f7+0x2d6c],_0x33a9aa=_0x2d9259[0x17*-0x192+-0x1c55+-0x1*-0x407b],_0x4ec2a1=_0x2d9259[0x16*0x1e+-0x11e*0xe+-0x1*-0xd19],_0x331b88=_0x2d9259[-0xa67*-0x1+0xc19+-0x1676],_0x309737=_0x2d9259[0x2e6*-0x7+-0x1ff0+-0x2*-0x1a23],_0x41a745=_0x2d9259[-0x1bd7+-0xd77+0x295b],_0x3bc92a=_0x2d9259[0xa6b+-0x2170+0x1713];let _0x2abd96,_0x3580d1,_0x1777ae;for(let _0x57d954=0xd*0x164+-0x1f72+0x2*0x6af;_0x57d954<_0x19ba43;_0x57d954+=_0x524d49['numCompone'+'nts'])_0x2abd96=_0xd5b373[_0x57d954],_0x3580d1=_0xd5b373[_0x57d954+(0x2665+0xdd1+-0x3435)],_0x1777ae=_0xd5b373[_0x57d954+(0xb4*-0x2e+0x12bb+0xd9f)],_0xd5b373[_0x57d954]=_0x2abd96*_0x4efb79+_0x3580d1*_0x1250fc+_0x1777ae*_0x33a9aa+_0x309737,_0xd5b373[_0x57d954+(0xa61+-0x1709*-0x1+-0x2169)]=_0x2abd96*_0x15ae49+_0x3580d1*_0xb3602a+_0x1777ae*_0x4ec2a1+_0x41a745,_0xd5b373[_0x57d954+(-0x17*-0xd1+0x1e68+-0x312d)]=_0x2abd96*_0x59c69d+_0x3580d1*_0x1019f2+_0x1777ae*_0x331b88+_0x3bc92a;}else{if(_0x116460===gs||_0x116460===yi){A_['invertMat4'](_0x1c3379)['transpose']();const [_0x3df304,_0x2e2baf,_0x700352,_0x3768b3,_0x3a98fc,_0x2beca5,_0x58348c,_0x220650,_0x4acbdb]=A_['data'];let _0x35a5eb,_0x3eadb8,_0x25fee4;for(let _0x48283a=0xe55+-0x1722+0x2ef*0x3;_0x48283a<_0x19ba43;_0x48283a+=_0x524d49['numCompone'+'nts'])_0x35a5eb=_0xd5b373[_0x48283a],_0x3eadb8=_0xd5b373[_0x48283a+(-0xc25*0x1+-0xbc2+-0x168*-0x11)],_0x25fee4=_0xd5b373[_0x48283a+(-0x2543*-0x1+0x41*0x3b+-0x1a1e*0x2)],_0xd5b373[_0x48283a]=_0x35a5eb*_0x3df304+_0x3eadb8*_0x3768b3+_0x25fee4*_0x58348c,_0xd5b373[_0x48283a+(0x348+0x1*0x916+0x1*-0xc5d)]=_0x35a5eb*_0x2e2baf+_0x3eadb8*_0x3a98fc+_0x25fee4*_0x220650,_0xd5b373[_0x48283a+(0x65f+-0x17f+-0x4de)]=_0x35a5eb*_0x700352+_0x3eadb8*_0x2beca5+_0x25fee4*_0x4acbdb;}}}}if(_0x35e18a){_0x524d49=_0x3f4fbc[us];for(let _0x1b6aca=-0x1d4c+-0x1*-0x9d7+0x1375;_0x1b6aca<_0xbb896c;_0x1b6aca++)_0x524d49['buffer'][_0x524d49['count']++]=_0x48ebe0;}if(_0x170f0a['primitive'][0x4*-0x5e5+0x19*0xad+0x6af*0x1]['indexed']){_0x31f513=_0x170f0a['primitive'][0xed1*0x2+-0xefe*0x1+-0x1*0xea4]['base'],_0x3db3d4=_0x170f0a['primitive'][0x77*-0x3f+0x1*-0x1215+0x2f5e]['baseVertex']||0x1ab0*0x1+-0x1454+-0x65c,_0x4c82ab=_0x170f0a['primitive'][0x1*0x12ff+-0xa43+-0x1*0x8bc]['count'];const _0x1deefb=_0x170f0a['indexBuffe'+'r'][0x162*0xd+0x26a1+0x389b*-0x1]['getFormat']();_0x286d44=new Sh[_0x1deefb](_0x170f0a['indexBuffe'+'r'][-0x5*0x11b+-0x17ca+0x1d51]['storage']);}else{_0x3db3d4=-0xfb3*0x2+0x103e+0xf28;const _0xf9e32=_0x170f0a['primitive'][0x10*0x1a1+0x20b9+-0x3ac9]['type'];if(_0xf9e32===oa||_0xf9e32===Er){if(_0x170f0a['primitive'][0xdfb+0x565*0x3+0x9*-0x35a]['count']===0x1*-0x1223+0x11*-0xd5+0x9c*0x35)_0x31f513=0x3*-0x978+0x1e9d+-0x235,_0x4c82ab=-0x1*-0xf1b+-0x164f+0x73a,_0x286d44=_0xf9e32===oa?PE:ME;else{_0x4c82ab=-0x131*0x17+0x3*0x98e+-0x11*0x13;continue;}}}for(let _0x41da8c=-0x1*-0x1ddd+0x3*0x4bd+-0x2c14;_0x41da8c<_0x4c82ab;_0x41da8c++)_0x404d86[_0x41da8c+_0x5dd034]=_0x286d44[_0x31f513+_0x41da8c]+_0x3db3d4+_0x5ae7fe;_0x5dd034+=_0x4c82ab,_0x5ae7fe+=_0xbb896c;}_0x170f0a=new Ge(this['device']);for(_0x116460 in _0x3f4fbc)_0x524d49=_0x3f4fbc[_0x116460],_0x170f0a['setVertexS'+'tream'](_0x116460,_0x524d49['buffer'],_0x524d49['numCompone'+'nts'],void(0x652*0x5+0xe5f+-0x2df9),_0x524d49['dataType'],_0x524d49['normalize']);_0x404d86['length']>0xc91*-0x3+-0xb7c+0x312f&&_0x170f0a['setIndices'](_0x404d86),_0x170f0a['update'](js,!(0x1*0x1c8+0x2a6*-0x3+0x62b)),_0x35e18a&&(_0x1f06d3=_0x1f06d3['clone'](),_0x1f06d3['update']());const _0xa3c1e8=new He(_0x170f0a,_0x1f06d3,this['rootNode']);_0xa3c1e8['castShadow']=_0x1f526b['origMeshIn'+'stances'][0x25de*0x1+-0xf97+-0x1647]['castShadow'],_0xa3c1e8['parameters']=_0x1f526b['origMeshIn'+'stances'][0x23ea+0x6c4+-0x2aae]['parameters'],_0xa3c1e8['layer']=_0x1f526b['origMeshIn'+'stances'][0x18a7*-0x1+-0x2250+0x3af7]['layer'],_0xa3c1e8['_shaderDef'+'s']=_0x1f526b['origMeshIn'+'stances'][0x13c2+0x116f*0x1+-0x2531]['_shaderDef'+'s'],_0xa3c1e8['batching']=!(-0x10d*0x3+0x2678+-0x1*0x2351),_0xa3c1e8['cull']=_0x1f526b['origMeshIn'+'stances'][0x672+0x76*-0x1f+-0x1*-0x7d8]['cull'];const _0x44776d=this['_batchGrou'+'ps'][_0x7c7202];if(_0x44776d&&_0x44776d['_ui']&&(_0xa3c1e8['cull']=!(0x4b*-0x7+0x15*0x97+0x211*-0x5)),_0x35e18a){const _0x2909b1=[];for(let _0x2cca8f=0x1*0x15cd+-0x232*0x3+-0xf37;_0x2cca8f<_0x1f526b['origMeshIn'+'stances']['length'];_0x2cca8f++)_0x2909b1['push'](_0x1f526b['origMeshIn'+'stances'][_0x2cca8f]['node']);_0xa3c1e8['skinInstan'+'ce']=new y_(this['device'],_0x2909b1,this['rootNode']);}_0xa3c1e8['_updateAab'+'b']=!(-0x2c9*-0x1+0x1*0x19b7+0x5b3*-0x5),_0xa3c1e8['drawOrder']=_0x1f526b['origMeshIn'+'stances'][0x1276*0x2+0x5a6+-0x2*0x1549]['drawOrder'],_0xa3c1e8['stencilFro'+'nt']=_0x1f526b['origMeshIn'+'stances'][-0x1b14+0x1de2+-0x2ce]['stencilFro'+'nt'],_0xa3c1e8['stencilBac'+'k']=_0x1f526b['origMeshIn'+'stances'][-0x7f9*-0x4+0x1fdf+-0x3fc3]['stencilBac'+'k'],_0xa3c1e8['flipFacesF'+'actor']=jd(_0x1f526b['origMeshIn'+'stances'][-0xc57+0x1*0x40b+0x84c]),_0xa3c1e8['castShadow']=_0x1f526b['origMeshIn'+'stances'][-0xd7*-0x17+-0x602+-0xd4f]['castShadow'],_0x1f526b['meshInstan'+'ce']=_0xa3c1e8,_0x1f526b['updateBoun'+'dingBox']();}return this['_stats']['createTime']+=de()-_0x526e5e,_0x1f526b;}['updateAll'](){this['_dirtyGrou'+'ps']['length']>0x60d*-0x5+0x255e+-0x71d&&this['generate'](this['_dirtyGrou'+'ps']);const _0x1f575c=de();for(let _0x2093e9=-0x1366+-0x7*-0x1e7+0x615*0x1;_0x2093e9<this['_batchList']['length'];_0x2093e9++)this['_batchList'][_0x2093e9]['dynamic']&&this['_batchList'][_0x2093e9]['updateBoun'+'dingBox']();this['_stats']['updateLast'+'FrameTime']=de()-_0x1f575c;}['clone'](_0x5219e5,_0x2aa69e){const _0x463f91=new g_(_0x2aa69e,_0x5219e5['dynamic'],_0x5219e5['batchGroup'+'Id']);this['_batchList']['push'](_0x463f91);const _0x1ea044=[];for(let _0x3e2a1f=-0x19fa+0x3*0xb89+-0x2f*0x2f;_0x3e2a1f<_0x2aa69e['length'];_0x3e2a1f++)_0x1ea044['push'](_0x2aa69e[_0x3e2a1f]['node']);return _0x463f91['meshInstan'+'ce']=new He(_0x5219e5['meshInstan'+'ce']['mesh'],_0x5219e5['meshInstan'+'ce']['material'],_0x5219e5['meshInstan'+'ce']['node']),_0x463f91['meshInstan'+'ce']['_updateAab'+'b']=!(-0x85f+0x4*0xc3+0x554),_0x463f91['meshInstan'+'ce']['parameters']=_0x2aa69e[-0x1be8+-0xcdd+0x5d3*0x7]['parameters'],_0x463f91['meshInstan'+'ce']['cull']=_0x2aa69e[0x1372+0x139c+0x1*-0x270e]['cull'],_0x463f91['meshInstan'+'ce']['layer']=_0x2aa69e[-0xda+0x1730*0x1+-0x1656]['layer'],_0x5219e5['dynamic']&&(_0x463f91['meshInstan'+'ce']['skinInstan'+'ce']=new y_(this['device'],_0x1ea044,this['rootNode'])),_0x463f91['meshInstan'+'ce']['castShadow']=_0x5219e5['meshInstan'+'ce']['castShadow'],_0x463f91;}['destroyBat'+'ch'](_0xfe470e){_0xfe470e['destroy'](this['scene'],this['_batchGrou'+'ps'][_0xfe470e['batchGroup'+'Id']]['layers']);}}const P_='uSceneColo'+'rMap';class LE extends ys{constructor(){super(...arguments),h(this,'colorRende'+'rTarget',null),h(this,'source',null);}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']);}['shouldReal'+'locate'](_0x173ee0,_0x42c947,_0x4be863){if((_0x173ee0==null?void(0x25e9+0x103*0x1f+-0x4546):_0x173ee0['colorBuffe'+'r']['format'])!==_0x4be863)return!(0x1ba7+-0x206b+0x4c4);const _0x2e3e82=(_0x42c947==null?void(-0x152f+0x1c38+-0x709):_0x42c947['width'])||this['device']['width'],_0x29ed73=(_0x42c947==null?void(0x150a+-0x188e+0x96*0x6):_0x42c947['height'])||this['device']['height'];return!_0x173ee0||_0x2e3e82!==_0x173ee0['width']||_0x29ed73!==_0x173ee0['height'];}['allocateRe'+'nderTarget'](_0x1714ab,_0x125b66,_0x4149dc,_0x169c60){const _0x2f4aab=new _e(_0x4149dc,{'name':P_,'format':_0x169c60,'width':_0x125b66?_0x125b66['colorBuffe'+'r']['width']:_0x4149dc['width'],'height':_0x125b66?_0x125b66['colorBuffe'+'r']['height']:_0x4149dc['height'],'mipmaps':!(-0x1444+-0xb84+0x1fc8),'minFilter':ma,'magFilter':vt,'addressU':ue,'addressV':ue});return _0x1714ab?(_0x1714ab['destroyFra'+'meBuffers'](),_0x1714ab['_colorBuff'+'er']=_0x2f4aab,_0x1714ab['_colorBuff'+'ers']=[_0x2f4aab]):_0x1714ab=new gt({'name':'ColorGrabR'+'T','colorBuffer':_0x2f4aab,'depth':!(0x2143+-0x259d+0x45b),'stencil':!(-0x231d+0x2fc*0x6+0x1136),'autoResolve':!(-0x89d+0xeae+0x8*-0xc2)}),_0x1714ab;}['releaseRen'+'derTarget'](_0x207e70){_0x207e70&&(_0x207e70['destroyTex'+'tureBuffer'+'s'](),_0x207e70['destroy']());}['frameUpdat'+'e'](){const _0x311b15=this['device'],_0x2f8da7=this['source'],_0x263181=(_0x2f8da7==null?void(0xae0+0x1a0a+-0xe*0x2a3):_0x2f8da7['colorBuffe'+'r']['format'])??this['device']['backBuffer'+'Format'];this['shouldReal'+'locate'](this['colorRende'+'rTarget'],_0x2f8da7==null?void(0x1cef+-0xda6*0x1+-0xf49):_0x2f8da7['colorBuffe'+'r'],_0x263181)&&(this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']),this['colorRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['colorRende'+'rTarget'],_0x2f8da7,_0x311b15,_0x263181));const _0x1af499=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x311b15['scope']['resolve'](P_)['setValue'](_0x1af499);}['execute'](){const _0x2651c6=this['device'];Q['pushGpuMar'+'ker'](_0x2651c6,'GRAB-COLOR');const _0x549647=this['source'],_0x39d726=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x2651c6['isWebGPU']?(_0x2651c6['copyRender'+'Target'](_0x549647,this['colorRende'+'rTarget'],!(0x1d*-0x7b+0x1ea8+-0x10b9),!(-0x2683+-0x8d*0x35+-0x43b5*-0x1)),_0x2651c6['mipmapRend'+'erer']['generate'](this['colorRende'+'rTarget']['colorBuffe'+'r']['impl'])):(_0x2651c6['copyRender'+'Target'](_0x549647,this['colorRende'+'rTarget'],!(0x1*0xfb+-0x25c7+0x24cc),!(0x2019+-0x1*0x218e+0x176)),_0x2651c6['activeText'+'ure'](_0x2651c6['maxCombine'+'dTextures']-(0x43*-0x85+-0x9d*-0x32+0x426)),_0x2651c6['bindTextur'+'e'](_0x39d726),_0x2651c6['gl']['generateMi'+'pmap'](_0x39d726['impl']['_glTarget'])),Q['popGpuMark'+'er'](_0x2651c6);}}const M_='uSceneDept'+'hMap';class RE extends ys{constructor(_0x102995,_0x41f7f0){super(_0x102995),h(this,'depthRende'+'rTarget',null),h(this,'camera',null),this['camera']=_0x41f7f0;}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']);}['shouldReal'+'locate'](_0x34c89d,_0xf71cdf){const _0x537abf=(_0xf71cdf==null?void(-0x1b07+-0xf6c+0x2a73):_0xf71cdf['width'])||this['device']['width'],_0x212cd8=(_0xf71cdf==null?void(0x845+0x29*-0x3d+-0x18*-0x10):_0xf71cdf['height'])||this['device']['height'];return!_0x34c89d||_0x537abf!==_0x34c89d['width']||_0x212cd8!==_0x34c89d['height'];}['allocateRe'+'nderTarget'](_0x4acf35,_0x31b070,_0x18b0c6,_0x119345,_0x128818){const _0x293eb1=new _e(_0x18b0c6,{'name':M_,'format':_0x119345,'width':_0x31b070?_0x31b070['colorBuffe'+'r']['width']:_0x18b0c6['width'],'height':_0x31b070?_0x31b070['colorBuffe'+'r']['height']:_0x18b0c6['height'],'mipmaps':!(-0x258c+-0x797*-0x5+-0x66),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue});return _0x4acf35?(_0x4acf35['destroyFra'+'meBuffers'](),_0x128818?_0x4acf35['_depthBuff'+'er']=_0x293eb1:(_0x4acf35['_colorBuff'+'er']=_0x293eb1,_0x4acf35['_colorBuff'+'ers']=[_0x293eb1])):_0x4acf35=new gt({'name':'DepthGrabR'+'T','colorBuffer':_0x128818?null:_0x293eb1,'depthBuffer':_0x128818?_0x293eb1:null,'depth':!_0x128818,'stencil':_0x18b0c6['supportsSt'+'encil'],'autoResolve':!(0x24aa+0x1*-0x1463+-0x1046)}),_0x4acf35;}['releaseRen'+'derTarget'](_0x6bf1ae){_0x6bf1ae&&(_0x6bf1ae['destroyTex'+'tureBuffer'+'s'](),_0x6bf1ae['destroy']());}['before'](){var _0x5315ed,_0x978de4;const _0x91cb7d=this['camera'],_0x328402=this['device'],_0x2615e1=(_0x91cb7d==null?void(0xf25*-0x1+0x16cd+-0x7a8):_0x91cb7d['renderTarg'+'et'])??_0x328402['backBuffer'];let _0x432c13=!(0x18bf+0x2278+-0x13bd*0x3),_0x52c373=_0x2615e1['stencil']?sd:$i;_0x328402['isWebGPU']&&_0x2615e1['samples']>0x247e+0x1fc7+-0x4444&&(_0x52c373=Ji,_0x432c13=!(-0x5d8+0x11*-0x4+0x1*0x61d));const _0x45931d=((_0x5315ed=_0x91cb7d['renderTarg'+'et'])==null?void(-0x1d12+0x1*-0x19e5+0x36f7):_0x5315ed['depthBuffe'+'r'])??((_0x978de4=_0x91cb7d['renderTarg'+'et'])==null?void(0x1b94+-0x21ee+0x2*0x32d):_0x978de4['colorBuffe'+'r']);this['shouldReal'+'locate'](this['depthRende'+'rTarget'],_0x45931d)&&(this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']),this['depthRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['depthRende'+'rTarget'],_0x91cb7d['renderTarg'+'et'],_0x328402,_0x52c373,_0x432c13));const _0x2c51eb=_0x432c13?this['depthRende'+'rTarget']['depthBuffe'+'r']:this['depthRende'+'rTarget']['colorBuffe'+'r'];_0x328402['scope']['resolve'](M_)['setValue'](_0x2c51eb);}['execute'](){const _0x374d44=this['device'];if(Q['pushGpuMar'+'ker'](_0x374d44,'GRAB-DEPTH'),_0x374d44['isWebGL2']&&_0x374d44['renderTarg'+'et']['samples']>-0x1e9b*0x1+-0x3*0x247+0x27f*0xf){const _0x1e2abc=_0x374d44['renderTarg'+'et']['impl']['_glFrameBu'+'ffer'],_0x10fc7c=this['depthRende'+'rTarget'];_0x374d44['renderTarg'+'et']=_0x10fc7c,_0x374d44['updateBegi'+'n'](),this['depthRende'+'rTarget']['impl']['internalRe'+'solve'](_0x374d44,_0x1e2abc,_0x10fc7c['impl']['_glFrameBu'+'ffer'],this['depthRende'+'rTarget'],_0x374d44['gl']['DEPTH_BUFF'+'ER_BIT']);}else _0x374d44['copyRender'+'Target'](_0x374d44['renderTarg'+'et'],this['depthRende'+'rTarget'],!(0x40*0x19+0x1dd4+0x1*-0x2413),!(-0xd8*-0x3+0x1f5d+-0x21e5));Q['popGpuMark'+'er'](_0x374d44);}}class vv{constructor(){h(this,'_gammaCorr'+'ection',Xc),h(this,'_toneMappi'+'ng',sm),h(this,'_srgbRende'+'rTarget',!(-0x2551+0x156c+0xfe6*0x1)),h(this,'_ssaoEnabl'+'ed',!(0x4*-0x74d+0xeee+0x1*0xe47)),h(this,'_fog',Kn),h(this,'_sceneDept'+'hMapLinear',!(-0x443*0x1+-0x5*-0x365+-0xcb5)),h(this,'_hash'),h(this,'_defines',new Map()),h(this,'_definesDi'+'rty',!(0x2a*-0xd2+0x8*-0x445+-0x224e*-0x2));}get['hash'](){if(this['_hash']===void(-0x3c3*0x5+0x803+0xacc)){const _0x21563b=this['gammaCorre'+'ction']+'_'+this['toneMappin'+'g']+'_'+this['srgbRender'+'Target']+'_'+this['fog']+'_'+this['ssaoEnable'+'d']+'_'+this['sceneDepth'+'MapLinear'];this['_hash']=hi(_0x21563b);}return this['_hash'];}get['defines'](){const _0x9a07df=this['_defines'];return this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(-0xf0d+0x1340*-0x1+0x224e*0x1),_0x9a07df['clear'](),this['_sceneDept'+'hMapLinear']&&_0x9a07df['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',!(0x655+0xdee+-0x1443)),_0x9a07df['set']('FOG',this['_fog']['toUpperCas'+'e']()),_0x9a07df['set']('TONEMAP',ov[this['_toneMappi'+'ng']]),_0x9a07df['set']('GAMMA',Hw[this['shaderOutp'+'utGamma']])),_0x9a07df;}['markDirty'](){this['_hash']=void(-0x3d*0x17+-0x1*-0xaed+-0x572),this['_definesDi'+'rty']=!(0x3*0x1af+0x2591+0x2a9e*-0x1);}set['fog'](_0x2b5f67){this['_fog']!==_0x2b5f67&&(this['_fog']=_0x2b5f67,this['markDirty']());}get['fog'](){return this['_fog'];}set['ssaoEnable'+'d'](_0x5bb925){this['_ssaoEnabl'+'ed']!==_0x5bb925&&(this['_ssaoEnabl'+'ed']=_0x5bb925,this['markDirty']());}get['ssaoEnable'+'d'](){return this['_ssaoEnabl'+'ed'];}set['gammaCorre'+'ction'](_0x3774ea){this['_gammaCorr'+'ectionAssi'+'gned']=!(-0x1cca+0x60e+0x16bc),this['_gammaCorr'+'ection']!==_0x3774ea&&(this['_gammaCorr'+'ection']=_0x3774ea,this['markDirty']());}get['gammaCorre'+'ction'](){return this['_gammaCorr'+'ection'];}set['toneMappin'+'g'](_0x5b70cf){this['_toneMappi'+'ng']!==_0x5b70cf&&(this['_toneMappi'+'ng']=_0x5b70cf,this['markDirty']());}get['toneMappin'+'g'](){return this['_toneMappi'+'ng'];}set['srgbRender'+'Target'](_0x2baa63){this['_srgbRende'+'rTarget']!==_0x2baa63&&(this['_srgbRende'+'rTarget']=_0x2baa63,this['markDirty']());}get['srgbRender'+'Target'](){return this['_srgbRende'+'rTarget'];}set['sceneDepth'+'MapLinear'](_0x3fe67c){this['_sceneDept'+'hMapLinear']!==_0x3fe67c&&(this['_sceneDept'+'hMapLinear']=_0x3fe67c,this['markDirty']());}get['sceneDepth'+'MapLinear'](){return this['_sceneDept'+'hMapLinear'];}get['shaderOutp'+'utGamma'](){return this['_gammaCorr'+'ection']===Xc&&!this['_srgbRende'+'rTarget']?Xc:Ll;}}const La=new D(),ao=new D(),D_=new D(),I_=new te(),OE=[new D(),new D(),new D(),new D(),new D(),new D(),new D(),new D()];class Fl{constructor(){h(this,'shaderPass'+'Info',null),h(this,'renderPass'+'ColorGrab',null),h(this,'renderPass'+'DepthGrab',null),h(this,'fogParams',null),h(this,'shaderPara'+'ms',new vv()),h(this,'renderPass'+'es',[]),h(this,'jitter',-0x25*-0x5e+0x35b*0xb+-0x327f),(this['_aspectRat'+'io']=(0x853+-0x11*0x12f+0xbdc)/(0x1ccf+-0x1f45*-0x1+0x13*-0x329),this['_aspectRat'+'ioMode']=hm,this['_calculate'+'Projection']=null,this['_calculate'+'Transform']=null,this['_clearColo'+'r']=new ie(0x1*0x3fd+-0xd*0x27+-0x1*0x202+0.75,-0x25ab*0x1+-0x13e5+0x3990+0.75,-0x2164+-0xd8a+0x2eee+0.75,0x172e*0x1+0x81c+-0x1f49),this['_clearColo'+'rBuffer']=!(-0x1a48+0x142*-0x18+0x2*0x1c3c),this['_clearDept'+'h']=0xbae+-0x1c3d+0x1090,this['_clearDept'+'hBuffer']=!(0x2*-0x997+-0x1b5a+0x2e88),this['_clearSten'+'cil']=0x1*0x62f+-0xd*-0x2a3+-0x2876,this['_clearSten'+'cilBuffer']=!(-0x1eef+-0xd8+0x1fc7),this['_cullFaces']=!(-0x250f+0x195c+0xbb3),this['_farClip']=-0x19e5*0x1+-0xa4*-0x39+0x9*-0xbf,this['_flipFaces']=!(0x37f*-0x4+0x66*0x55+-0x7*0x2d7),this['_fov']=0x4c4*0x6+0x51e+-0x1*0x2189,this['_frustumCu'+'lling']=!(0x223c+0x2560+-0x479c),this['_horizonta'+'lFov']=!(0x689+-0x2577+0x1*0x1eef),this['_layers']=[er,ps,Kp,Il,Zp],this['_layersSet']=new Set(this['_layers']),this['_nearClip']=-0xe4d*-0x1+0x19d9+0x23b*-0x12+0.1,this['_node']=null,this['_orthoHeig'+'ht']=-0x782*0x1+-0x1*-0x6c1+0xcb,this['_projectio'+'n']=ni,this['_rect']=new re(0x1029*-0x1+-0x10b*0x8+0x1881,-0x10e*0x25+-0x353+0x2a59,0xea6*0x1+0xe5d+-0x1d02,0x26a+-0xe3*0xd+-0x3*-0x30a),this['_renderTar'+'get']=null,this['_scissorRe'+'ct']=new re(-0x1*0x175f+-0x1bef*-0x1+-0x124*0x4,0x4f*0x3b+-0x135b+0x126,-0x1bb6+0xc89+0xf2e,0x5f*0x1a+0x58*-0x2+-0x8f5),this['_scissorRe'+'ctClear']=!(0x1e0d+-0x21fb+-0x1*-0x3ef),this['_aperture']=0x25c9+-0x585*0x5+-0x6*0x1b0,this['_shutter']=(-0x15d*0x7+-0x14cf+-0x1*-0x1e5b)/(-0x1c3a+-0x1*0x1357+0x3379),this['_sensitivi'+'ty']=0x8f1+0x3c9+-0x8d2,this['_projMat']=new te(),this['_projMatDi'+'rty']=!(0xbf*0x17+-0x2375+0x124c),this['_projMatSk'+'ybox']=new te(),this['_viewMat']=new te(),this['_viewMatDi'+'rty']=!(-0xb55*0x3+-0x105+0x2304),this['_viewProjM'+'at']=new te(),this['_viewProjM'+'atDirty']=!(-0x3dd+0x9e5+-0x4*0x182),this['_shaderMat'+'ricesVersi'+'on']=0x904*-0x4+0x1f77+0x6b*0xb,this['_viewProjI'+'nverse']=new te(),this['_viewProjC'+'urrent']=null,this['_viewProjP'+'revious']=new te(),this['_jitters']=[-0x2*-0x8db+-0x23c1+0x1*0x120b,0x13e8+0x1407+0x27ef*-0x1,-0xd11*0x1+-0x1288+0x1f99*0x1,0xfa+0x4*0x1bb+-0x7e6*0x1],this['frustum']=new yx(),this['_xr']=null,this['_xrPropert'+'ies']={'horizontalFov':this['_horizonta'+'lFov'],'fov':this['_fov'],'aspectRatio':this['_aspectRat'+'io'],'farClip':this['_farClip'],'nearClip':this['_nearClip']});}['destroy'](){var _0x5b500b,_0x345380;(_0x5b500b=this['renderPass'+'ColorGrab'])==null||_0x5b500b['destroy'](),this['renderPass'+'ColorGrab']=null,(_0x345380=this['renderPass'+'DepthGrab'])==null||_0x345380['destroy'](),this['renderPass'+'DepthGrab']=null,this['renderPass'+'es']['length']=-0x1*-0xb1b+-0x10df*-0x1+-0x1bfa;}['_storeShad'+'erMatrices'](_0x722952,_0x2432d0,_0x5b23c1,_0x1ba04a){this['_shaderMat'+'ricesVersi'+'on']!==_0x1ba04a&&(this['_shaderMat'+'ricesVersi'+'on']=_0x1ba04a,this['_viewProjP'+'revious']['copy'](this['_viewProjC'+'urrent']??_0x722952),this['_viewProjC'+'urrent']??(this['_viewProjC'+'urrent']=new te()),this['_viewProjC'+'urrent']['copy'](_0x722952),this['_viewProjI'+'nverse']['invert'](_0x722952),this['_jitters'][0x1*0x1aa5+0x9eb*0x3+-0x3864]=this['_jitters'][-0x1*-0x1c8b+0x1d74+-0x39ff],this['_jitters'][-0x1296+-0x386+0x161f]=this['_jitters'][-0x3*-0xa11+0x1*0x40d+-0xb*0x31d],this['_jitters'][-0x2148+-0x12*0x1ff+0x4536]=_0x2432d0,this['_jitters'][-0x1*-0x6ee+-0x1*0x1181+0xa94]=_0x5b23c1);}get['fullSizeCl'+'earRect'](){const _0x2da81e=this['_scissorRe'+'ctClear']?this['scissorRec'+'t']:this['_rect'];return _0x2da81e['x']===-0x11af+0x425+-0x6c5*-0x2&&_0x2da81e['y']===0x552+-0xf42+0x9f0&&_0x2da81e['z']===-0x1ec4*-0x1+0x3*-0x581+-0xe40&&_0x2da81e['w']===0xaec+-0xa1b*0x1+-0x10*0xd;}set['aspectRati'+'o'](_0xc84208){this['_aspectRat'+'io']!==_0xc84208&&(this['_aspectRat'+'io']=_0xc84208,this['_projMatDi'+'rty']=!(-0x8a5+-0x70+0x915));}get['aspectRati'+'o'](){var _0x3d9beb;return(_0x3d9beb=this['xr'])!=null&&_0x3d9beb['active']?this['_xrPropert'+'ies']['aspectRati'+'o']:this['_aspectRat'+'io'];}set['aspectRati'+'oMode'](_0x15850e){this['_aspectRat'+'ioMode']!==_0x15850e&&(this['_aspectRat'+'ioMode']=_0x15850e,this['_projMatDi'+'rty']=!(0x1bda+-0x1039+0xba1*-0x1));}get['aspectRati'+'oMode'](){return this['_aspectRat'+'ioMode'];}set['calculateP'+'rojection'](_0x3b442e){this['_calculate'+'Projection']=_0x3b442e,this['_projMatDi'+'rty']=!(0xd08+0xaa9+0x17b1*-0x1);}get['calculateP'+'rojection'](){return this['_calculate'+'Projection'];}set['calculateT'+'ransform'](_0x35b980){this['_calculate'+'Transform']=_0x35b980;}get['calculateT'+'ransform'](){return this['_calculate'+'Transform'];}set['clearColor'](_0x217c82){this['_clearColo'+'r']['copy'](_0x217c82);}get['clearColor'](){return this['_clearColo'+'r'];}set['clearColor'+'Buffer'](_0x59b253){this['_clearColo'+'rBuffer']=_0x59b253;}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'](_0x4a4f75){this['_clearDept'+'h']=_0x4a4f75;}get['clearDepth'](){return this['_clearDept'+'h'];}set['clearDepth'+'Buffer'](_0x5b56d7){this['_clearDept'+'hBuffer']=_0x5b56d7;}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'il'](_0x45076c){this['_clearSten'+'cil']=_0x45076c;}get['clearStenc'+'il'](){return this['_clearSten'+'cil'];}set['clearStenc'+'ilBuffer'](_0x51d72d){this['_clearSten'+'cilBuffer']=_0x51d72d;}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}set['cullFaces'](_0x874da0){this['_cullFaces']=_0x874da0;}get['cullFaces'](){return this['_cullFaces'];}set['farClip'](_0x495ce0){this['_farClip']!==_0x495ce0&&(this['_farClip']=_0x495ce0,this['_projMatDi'+'rty']=!(-0x4*0x25+-0x1*0x15b+0x1ef));}get['farClip'](){var _0x1f015a;return(_0x1f015a=this['xr'])!=null&&_0x1f015a['active']?this['_xrPropert'+'ies']['farClip']:this['_farClip'];}set['flipFaces'](_0x496ef3){this['_flipFaces']=_0x496ef3;}get['flipFaces'](){return this['_flipFaces'];}set['fov'](_0x4b4312){this['_fov']!==_0x4b4312&&(this['_fov']=_0x4b4312,this['_projMatDi'+'rty']=!(0x1d2*0x3+0x1*-0xde5+0x7f*0x11));}get['fov'](){var _0x4472c1;return(_0x4472c1=this['xr'])!=null&&_0x4472c1['active']?this['_xrPropert'+'ies']['fov']:this['_fov'];}set['frustumCul'+'ling'](_0x179d01){this['_frustumCu'+'lling']=_0x179d01;}get['frustumCul'+'ling'](){return this['_frustumCu'+'lling'];}set['horizontal'+'Fov'](_0x163447){this['_horizonta'+'lFov']!==_0x163447&&(this['_horizonta'+'lFov']=_0x163447,this['_projMatDi'+'rty']=!(-0xfa8+-0x723+0x16cb));}get['horizontal'+'Fov'](){var _0x5e3e9e;return(_0x5e3e9e=this['xr'])!=null&&_0x5e3e9e['active']?this['_xrPropert'+'ies']['horizontal'+'Fov']:this['_horizonta'+'lFov'];}set['layers'](_0x367288){this['_layers']=_0x367288['slice'](0x1b8+-0xb97+0x9df),this['_layersSet']=new Set(this['_layers']);}get['layers'](){return this['_layers'];}get['layersSet'](){return this['_layersSet'];}set['nearClip'](_0x842766){this['_nearClip']!==_0x842766&&(this['_nearClip']=_0x842766,this['_projMatDi'+'rty']=!(-0x155*0x2+0x1*0x10d5+-0xe2b));}get['nearClip'](){var _0x3ceb63;return(_0x3ceb63=this['xr'])!=null&&_0x3ceb63['active']?this['_xrPropert'+'ies']['nearClip']:this['_nearClip'];}set['node'](_0x257187){this['_node']=_0x257187;}get['node'](){return this['_node'];}set['orthoHeigh'+'t'](_0x4a8f7f){this['_orthoHeig'+'ht']!==_0x4a8f7f&&(this['_orthoHeig'+'ht']=_0x4a8f7f,this['_projMatDi'+'rty']=!(-0x116c+0x3d*0xf+0x1*0xdd9));}get['orthoHeigh'+'t'](){return this['_orthoHeig'+'ht'];}set['projection'](_0x373df9){this['_projectio'+'n']!==_0x373df9&&(this['_projectio'+'n']=_0x373df9,this['_projMatDi'+'rty']=!(0x5b3+-0x26e5+0x2132));}get['projection'](){return this['_projectio'+'n'];}get['projection'+'Matrix'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMat'];}set['rect'](_0xa2b92a){this['_rect']['copy'](_0xa2b92a);}get['rect'](){return this['_rect'];}set['renderTarg'+'et'](_0x41c4b3){this['_renderTar'+'get']=_0x41c4b3;}get['renderTarg'+'et'](){return this['_renderTar'+'get'];}set['scissorRec'+'t'](_0x281405){this['_scissorRe'+'ct']['copy'](_0x281405);}get['scissorRec'+'t'](){return this['_scissorRe'+'ct'];}get['viewMatrix'](){if(this['_viewMatDi'+'rty']){const _0x361378=this['_node']['getWorldTr'+'ansform']();this['_viewMat']['copy'](_0x361378)['invert'](),this['_viewMatDi'+'rty']=!(-0x9e1+0x1*-0x118d+-0x925*-0x3);}return this['_viewMat'];}set['aperture'](_0x3e5d4a){this['_aperture']=_0x3e5d4a;}get['aperture'](){return this['_aperture'];}set['sensitivit'+'y'](_0x3b2c1e){this['_sensitivi'+'ty']=_0x3b2c1e;}get['sensitivit'+'y'](){return this['_sensitivi'+'ty'];}set['shutter'](_0x44cfc6){this['_shutter']=_0x44cfc6;}get['shutter'](){return this['_shutter'];}set['xr'](_0x381821){this['_xr']!==_0x381821&&(this['_xr']=_0x381821,this['_projMatDi'+'rty']=!(0x21b8+0x97*-0xb+0x1*-0x1b3b));}get['xr'](){return this['_xr'];}['clone'](){return new Fl()['copy'](this);}['copy'](_0x13ddb1){return this['_aspectRat'+'io']=_0x13ddb1['_aspectRat'+'io'],this['_farClip']=_0x13ddb1['_farClip'],this['_fov']=_0x13ddb1['_fov'],this['_horizonta'+'lFov']=_0x13ddb1['_horizonta'+'lFov'],this['_nearClip']=_0x13ddb1['_nearClip'],this['_xrPropert'+'ies']['aspectRati'+'o']=_0x13ddb1['_xrPropert'+'ies']['aspectRati'+'o'],this['_xrPropert'+'ies']['farClip']=_0x13ddb1['_xrPropert'+'ies']['farClip'],this['_xrPropert'+'ies']['fov']=_0x13ddb1['_xrPropert'+'ies']['fov'],this['_xrPropert'+'ies']['horizontal'+'Fov']=_0x13ddb1['_xrPropert'+'ies']['horizontal'+'Fov'],this['_xrPropert'+'ies']['nearClip']=_0x13ddb1['_xrPropert'+'ies']['nearClip'],this['aspectRati'+'oMode']=_0x13ddb1['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x13ddb1['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x13ddb1['calculateT'+'ransform'],this['clearColor']=_0x13ddb1['clearColor'],this['clearColor'+'Buffer']=_0x13ddb1['clearColor'+'Buffer'],this['clearDepth']=_0x13ddb1['clearDepth'],this['clearDepth'+'Buffer']=_0x13ddb1['clearDepth'+'Buffer'],this['clearStenc'+'il']=_0x13ddb1['clearStenc'+'il'],this['clearStenc'+'ilBuffer']=_0x13ddb1['clearStenc'+'ilBuffer'],this['cullFaces']=_0x13ddb1['cullFaces'],this['flipFaces']=_0x13ddb1['flipFaces'],this['frustumCul'+'ling']=_0x13ddb1['frustumCul'+'ling'],this['layers']=_0x13ddb1['layers'],this['orthoHeigh'+'t']=_0x13ddb1['orthoHeigh'+'t'],this['projection']=_0x13ddb1['projection'],this['rect']=_0x13ddb1['rect'],this['renderTarg'+'et']=_0x13ddb1['renderTarg'+'et'],this['scissorRec'+'t']=_0x13ddb1['scissorRec'+'t'],this['aperture']=_0x13ddb1['aperture'],this['shutter']=_0x13ddb1['shutter'],this['sensitivit'+'y']=_0x13ddb1['sensitivit'+'y'],this['shaderPass'+'Info']=_0x13ddb1['shaderPass'+'Info'],this['jitter']=_0x13ddb1['jitter'],this['_projMatDi'+'rty']=!(0x1ac*-0xe+-0x1c6d*-0x1+-0x505),this;}['_enableRen'+'derPassCol'+'orGrab'](_0xf8b0b6,_0x4fe5f8){var _0x2cd4bb;_0x4fe5f8?this['renderPass'+'ColorGrab']||(this['renderPass'+'ColorGrab']=new LE(_0xf8b0b6)):((_0x2cd4bb=this['renderPass'+'ColorGrab'])==null||_0x2cd4bb['destroy'](),this['renderPass'+'ColorGrab']=null);}['_enableRen'+'derPassDep'+'thGrab'](_0x33754e,_0x1a8d5f,_0x2ed54b){var _0x3c9655;_0x2ed54b?this['renderPass'+'DepthGrab']||(this['renderPass'+'DepthGrab']=new RE(_0x33754e,this)):((_0x3c9655=this['renderPass'+'DepthGrab'])==null||_0x3c9655['destroy'](),this['renderPass'+'DepthGrab']=null);}['_updateVie'+'wProjMat'](){(this['_projMatDi'+'rty']||this['_viewMatDi'+'rty']||this['_viewProjM'+'atDirty'])&&(this['_viewProjM'+'at']['mul2'](this['projection'+'Matrix'],this['viewMatrix']),this['_viewProjM'+'atDirty']=!(0x2050+0x61e+0x1*-0x266d));}['worldToScr'+'een'](_0xdeb844,_0x297f65,_0x7a074a,_0x3290b9=new D()){this['_updateVie'+'wProjMat'](),this['_viewProjM'+'at']['transformP'+'oint'](_0xdeb844,_0x3290b9);const _0x44d9f8=this['_viewProjM'+'at']['data'],_0x58394c=_0xdeb844['x']*_0x44d9f8[-0x9*0x17f+0x2467+0x16ed*-0x1]+_0xdeb844['y']*_0x44d9f8[-0x4bd*0x5+-0x1*0x19fd+0x31b5]+_0xdeb844['z']*_0x44d9f8[0x7e*-0x1+-0x2616+0x269f]+(-0x21b5+-0x14e*-0x1+0x44*0x7a)*_0x44d9f8[0x7bd+-0x2*0x801+0xa4*0xd];_0x3290b9['x']=(_0x3290b9['x']/_0x58394c+(-0x56a+-0x1c05+-0x42e*-0x8))*(-0x26b+-0xf01+0x116c+0.5),_0x3290b9['y']=(-0x1*-0x22c7+-0x3*-0x26a+-0x2a04-_0x3290b9['y']/_0x58394c)*(-0x15b*0x13+-0x2481+0x3e42+0.5);const {x:_0x2885c7,y:_0x1c1f95,z:_0x24e1f4,w:_0x1d5f71}=this['_rect'];return _0x3290b9['x']=_0x3290b9['x']*_0x24e1f4*_0x297f65+_0x2885c7*_0x297f65,_0x3290b9['y']=_0x3290b9['y']*_0x1d5f71*_0x7a074a+(-0x56f*-0x1+-0x1d5c+0x17ee-_0x1c1f95-_0x1d5f71)*_0x7a074a,_0x3290b9;}['screenToWo'+'rld'](_0xc4c58c,_0x2cc649,_0x4184a4,_0xf1878c,_0xbe3f8c,_0xec9325=new D()){const {x:_0x4cddd4,y:_0x43c52f,z:_0x12942e,w:_0x2d0104}=this['_rect'],_0x11b5bd=this['farClip']-this['nearClip'];if(La['set']((_0xc4c58c-_0x4cddd4*_0xf1878c)/(_0x12942e*_0xf1878c),0x9*-0x1a5+0x61*-0x43+0x2831-(_0x2cc649-(-0x171c+-0x19b+0x18b8-_0x43c52f-_0x2d0104)*_0xbe3f8c)/(_0x2d0104*_0xbe3f8c),_0x4184a4/_0x11b5bd),La['mulScalar'](-0x1*-0x2012+0x1e11*-0x1+-0x1ff),La['sub'](D['ONE']),this['_projectio'+'n']===ni){te['_getPerspe'+'ctiveHalfS'+'ize'](ao,this['fov'],this['aspectRati'+'o'],this['nearClip'],this['horizontal'+'Fov']),ao['x']*=La['x'],ao['y']*=La['y'];const _0x1c6b96=this['_node']['getWorldTr'+'ansform']();ao['z']=-this['nearClip'],_0x1c6b96['transformP'+'oint'](ao,D_);const _0x45baf0=this['_node']['getPositio'+'n']();_0xec9325['sub2'](D_,_0x45baf0),_0xec9325['normalize'](),_0xec9325['mulScalar'](_0x4184a4),_0xec9325['add'](_0x45baf0);}else this['_updateVie'+'wProjMat'](),I_['copy'](this['_viewProjM'+'at'])['invert'](),I_['transformP'+'oint'](La,_0xec9325);return _0xec9325;}['_evaluateP'+'rojectionM'+'atrix'](){if(this['_projMatDi'+'rty']){if(this['_projectio'+'n']===ni)this['_projMat']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip'],this['horizontal'+'Fov']),this['_projMatSk'+'ybox']['copy'](this['_projMat']);else{const _0x1eb4f7=this['_orthoHeig'+'ht'],_0x588137=_0x1eb4f7*this['aspectRati'+'o'];this['_projMat']['setOrtho'](-_0x588137,_0x588137,-_0x1eb4f7,_0x1eb4f7,this['nearClip'],this['farClip']),this['_projMatSk'+'ybox']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip']);}this['_projMatDi'+'rty']=!(0x1166+-0x1*0x18d9+-0x6a*-0x12);}}['getProject'+'ionMatrixS'+'kybox'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMatSk'+'ybox'];}['getExposur'+'e'](){const _0x116a46=Math['log2'](this['_aperture']*this['_aperture']/this['_shutter']*(-0xcfc*-0x1+-0x4*0x659+-0x6*-0x222)/this['_sensitivi'+'ty']);return(0x7d7*-0x4+0x1*-0x1ef7+0x3e54)/(Math['pow'](-0x2165+-0x18c3+0x3a2a,_0x116a46)*(0x269+-0x1af7+0x188f+0.19999999999999996));}['getScreenS'+'ize'](_0x4b7c10){if(this['_projectio'+'n']===ni){const _0x166fb9=this['_node']['getPositio'+'n']()['distance'](_0x4b7c10['center']);if(_0x166fb9<_0x4b7c10['radius'])return 0x1*-0x6b1+-0x27f+0x1*0x931;const _0x5c7fcc=Math['asin'](_0x4b7c10['radius']/_0x166fb9),_0x519eff=Math['tan'](_0x5c7fcc),_0x230987=Math['tan'](this['fov']/(-0x25a5+0x2*-0x8fa+0x379b)*Y['DEG_TO_RAD']);return Math['min'](_0x519eff/_0x230987,0x2375+0x1*-0x6f0+0x2*-0xe42);}return Y['clamp'](_0x4b7c10['radius']/this['_orthoHeig'+'ht'],-0x1d7b*-0x1+-0x1810+0x56b*-0x1,-0x3*-0xc84+0x27*0xbd+0x1*-0x4256);}['getFrustum'+'Corners'](_0x3fa18b=this['nearClip'],_0x30c95b=this['farClip']){const _0x464fce=this['fov']*Math['PI']/(-0x4f*0x4c+0x145b+0x3cd);let _0x2625c8,_0x3cc975;this['projection']===ni?this['horizontal'+'Fov']?(_0x2625c8=_0x3fa18b*Math['tan'](_0x464fce/(-0x14d9*0x1+-0x17*-0x8d+-0x418*-0x2)),_0x3cc975=_0x2625c8/this['aspectRati'+'o']):(_0x3cc975=_0x3fa18b*Math['tan'](_0x464fce/(0x3*-0xc5e+0x2244+0x2d8*0x1)),_0x2625c8=_0x3cc975*this['aspectRati'+'o']):(_0x3cc975=this['_orthoHeig'+'ht'],_0x2625c8=_0x3cc975*this['aspectRati'+'o']);const _0x147349=OE;return _0x147349[-0x89f+-0x15*-0x143+-0x11e0]['x']=_0x2625c8,_0x147349[-0x2*-0x45d+0xac9*0x2+-0x1e4c]['y']=-_0x3cc975,_0x147349[-0x637*0x6+0x85+0x24c5]['z']=-_0x3fa18b,_0x147349[0x4a6+-0xbd1+-0xcc*-0x9]['x']=_0x2625c8,_0x147349[0xc4e+-0x1381+0x734*0x1]['y']=_0x3cc975,_0x147349[-0xf9a*0x2+0x24*0x26+0x1*0x19dd]['z']=-_0x3fa18b,_0x147349[0x43*0xc+-0x20c6+-0x2*-0xed2]['x']=-_0x2625c8,_0x147349[0x17a5+-0x1*-0x935+-0x20d8]['y']=_0x3cc975,_0x147349[0xb8b+-0x1ae*0x7+-0x39*-0x1]['z']=-_0x3fa18b,_0x147349[-0x3*0x503+-0x1*0x14f3+0x23ff*0x1]['x']=-_0x2625c8,_0x147349[0x1654+-0x4de+0x3*-0x5d1]['y']=-_0x3cc975,_0x147349[-0x173e+-0x2*-0x606+0x1*0xb35]['z']=-_0x3fa18b,this['_projectio'+'n']===ni&&(this['horizontal'+'Fov']?(_0x2625c8=_0x30c95b*Math['tan'](_0x464fce/(-0x1ba1+-0x1*-0xb6a+0x1039)),_0x3cc975=_0x2625c8/this['aspectRati'+'o']):(_0x3cc975=_0x30c95b*Math['tan'](_0x464fce/(0x21af+-0x23c1+0x4*0x85)),_0x2625c8=_0x3cc975*this['aspectRati'+'o'])),_0x147349[0x2333+0x18fd+-0x3c2c]['x']=_0x2625c8,_0x147349[-0x1700+-0x606+0x1d0a]['y']=-_0x3cc975,_0x147349[0x2*-0xdf+-0x1*-0x1cb5+-0x1af3]['z']=-_0x30c95b,_0x147349[-0x207*-0x11+-0x2235+0x3d*-0x1]['x']=_0x2625c8,_0x147349[-0x1*0x2368+-0x16e9+0x3a56]['y']=_0x3cc975,_0x147349[0x113*0x13+0x2*0xa4a+-0x6d4*0x6]['z']=-_0x30c95b,_0x147349[-0x22d0+-0x1a4*-0x12+0x7*0xc2]['x']=-_0x2625c8,_0x147349[0x1*-0x137+-0x1c89+-0x1dc6*-0x1]['y']=_0x3cc975,_0x147349[-0x2040*0x1+-0x2282+0x42c8]['z']=-_0x30c95b,_0x147349[0x20f+0x1*-0x1e6d+-0x977*-0x3]['x']=-_0x2625c8,_0x147349[0x104f+-0x21d5+0x118d]['y']=-_0x3cc975,_0x147349[-0x1c2b+0x23ae+-0x77c*0x1]['z']=-_0x30c95b,_0x147349;}['setXrPrope'+'rties'](_0x10e0f0){Object['assign'](this['_xrPropert'+'ies'],_0x10e0f0),this['_projMatDi'+'rty']=!(-0x1c91*-0x1+-0x5bd+-0x16d4);}}const L_=new te(),R_=new te(),O_=new te(),gr=class gr{static['create'](_0x35c1f9,_0x3941dd,_0x52befe){const _0x3f9c88=new Fl();switch(_0x3f9c88['node']=new Ie(_0x35c1f9),_0x3f9c88['aspectRati'+'o']=0x202a+0x1*-0x232b+0x302,_0x3f9c88['aspectRati'+'oMode']=lu,_0x3f9c88['_scissorRe'+'ctClear']=!(-0xc5b*-0x1+0x1a6f+-0x3*0xcee),_0x3941dd){case Ke:_0x3f9c88['node']['setRotatio'+'n'](gr['pointLight'+'Rotations'][_0x52befe]),_0x3f9c88['fov']=-0x935*0x1+0x1d9*-0x4+0x10f3*0x1,_0x3f9c88['projection']=ni;break;case Ze:_0x3f9c88['projection']=ni;break;case ve:_0x3f9c88['projection']=En;break;}return _0x3f9c88;}static['evalSpotCo'+'okieMatrix'](_0x5a76f3){let _0x1b8d23=gr['_spotCooki'+'eCamera'];_0x1b8d23||(_0x1b8d23=gr['create']('SpotCookie'+'Camera',Ze),gr['_spotCooki'+'eCamera']=_0x1b8d23),_0x1b8d23['fov']=_0x5a76f3['_outerCone'+'Angle']*(-0x140b*0x1+-0xfba+-0x81*-0x47);const _0x26a3d4=_0x1b8d23['_node'];_0x26a3d4['setPositio'+'n'](_0x5a76f3['_node']['getPositio'+'n']()),_0x26a3d4['setRotatio'+'n'](_0x5a76f3['_node']['getRotatio'+'n']()),_0x26a3d4['rotateLoca'+'l'](-(0x102a*-0x2+0x203*-0x1+0x1*0x22b1),0x8e*0x2+0x719*0x2+-0x2*0x7a7,0x1*-0x21cf+-0x3e5+0x25b4),L_['setTRS'](_0x26a3d4['getPositio'+'n'](),_0x26a3d4['getRotatio'+'n'](),D['ONE'])['invert'](),R_['mul2'](_0x1b8d23['projection'+'Matrix'],L_);const _0x42c143=_0x5a76f3['cookieMatr'+'ix'],_0x30a84c=_0x5a76f3['atlasViewp'+'ort'];return O_['setViewpor'+'t'](_0x30a84c['x'],_0x30a84c['y'],_0x30a84c['z'],_0x30a84c['w']),_0x42c143['mul2'](O_,R_),_0x42c143;}};h(gr,'pointLight'+'Rotations',[new le()['setFromEul'+'erAngles'](-0x187d+0x8e4+-0x16b*-0xb,0x3bf+-0x54f*-0x1+-0x8b4,-0x23ac*0x1+0x9f4*0x2+0x1078),new le()['setFromEul'+'erAngles'](-0x18cd*0x1+0x1ed7+0x2*-0x305,-(-0x1*0x1e8f+0x3*-0x3c6+0x2a3b*0x1),-0x7c6+0x2e*0x2b+0xc0),new le()['setFromEul'+'erAngles'](0x17db+-0x16b7+-0x65*0x2,0x7b+-0x6a3+0x628,-0x1b97+0x177a+0x3*0x15f),new le()['setFromEul'+'erAngles'](-(0xd*-0xa+-0x1e93+-0x1*-0x1f6f),0x22f*0xe+-0x7e8+-0x78e*0x3,0x6c1*0x2+0x1ab7+-0x7*0x5bf),new le()['setFromEul'+'erAngles'](0x2008+-0x963*-0x4+0x4594*-0x1,-0x1df3+0xe1*0x29+0x562*-0x1,-0x214+0x6a3*0x3+-0x5*0x36d),new le()['setFromEul'+'erAngles'](-0x977+-0x35d*0x1+-0x2*-0x66a,-0x326+-0x135a+-0x78*-0x30,-0x5c*0x2f+-0x31f+0x14b7*0x1)]),h(gr,'_spotCooki'+'eCamera',null);let Wn=gr;const vs=new D(),Or=new Float32Array(-0x119f+0x26da+-0x1535),FE=new D(-(0x1f82+-0x1dd3+-0x1af+0.5),-0x203*0x1+0x5c7*0x5+-0x1ae0,0xb79*-0x3+-0x33*-0x23+0x1b72),NE=new D(-0x3b7*-0xa+-0x13eb+0x1*-0x113b,-0x22ce+0x1*-0xff6+0x32c4,-0x327*-0xc+-0x868*0x3+-0xc9c+0.5),at={'POSITION_RANGE':0x0,'DIRECTION_FLAGS':0x1,'COLOR_ANGLES_BIAS':0x2,'PROJ_MAT_0':0x3,'ATLAS_VIEWPORT':0x3,'PROJ_MAT_1':0x4,'PROJ_MAT_2':0x5,'PROJ_MAT_3':0x6,'AREA_DATA_WIDTH':0x7,'AREA_DATA_HEIGHT':0x8,'COUNT':0x9},kE={'LIGHTSHAPE_PUNCTUAL':Ys+'u','LIGHTSHAPE_RECT':Zy+'u','LIGHTSHAPE_DISK':Qy+'u','LIGHTSHAPE_SPHERE':Jy+'u','LIGHT_COLOR_DIVIDER':$c+'.0'},F_=(_0x231832,_0x251930)=>Object['keys'](_0x231832)['map'](_0x359d23=>'#define\x20{'+_0x251930+_0x359d23+'}\x20'+_0x231832[_0x359d23])['join']('\x0a'),N_='\x0a\x0a\x20\x20\x20\x20'+F_(at,'CLUSTER_TE'+'XTURE_')+'\x0a\x20\x20\x20\x20'+F_(kE,'')+'\x0a';class UE{constructor(_0x1b8ef4){h(this,'areaLights'+'Enabled',!(0x1504+0x382+-0x1885)),(this['device']=_0x1b8ef4,Pe['get'](_0x1b8ef4,Fe)['set']('lightBuffe'+'rDefinesPS',N_),Pe['get'](_0x1b8ef4,it)['set']('lightBuffe'+'rDefinesPS',N_),this['cookiesEna'+'bled']=!(0x3*-0x798+0x782+0xf47),this['shadowsEna'+'bled']=!(-0xf*-0x1df+-0x1*-0x1c76+-0x3886),this['areaLights'+'Enabled']=!(-0x1d55*0x1+-0xc7*-0x10+-0x873*-0x2),this['maxLights']=-0xcc4*0x1+-0x27*0x7d+0x20ce);const _0xc8f66e=at['COUNT'];this['lightsFloa'+'t']=new Float32Array((-0x3*-0x3ab+0x179f+0x5*-0x6ec)*_0xc8f66e*this['maxLights']),this['lightsUint']=new Uint32Array(this['lightsFloa'+'t']['buffer']),this['lightsText'+'ure']=this['createText'+'ure'](this['device'],_0xc8f66e,this['maxLights'],Xt,'LightsText'+'ure'),this['_lightsTex'+'tureId']=this['device']['scope']['resolve']('lightsText'+'ure'),this['invMaxColo'+'rValue']=0x2d8+-0x8*0x90+-0x35*-0x8,this['invMaxAtte'+'nuation']=-0x1b2a*0x1+0x1a33+0xf7,this['boundsMin']=new D(),this['boundsDelt'+'a']=new D();}['destroy'](){var _0x270560;(_0x270560=this['lightsText'+'ure'])==null||_0x270560['destroy'](),this['lightsText'+'ure']=null;}['createText'+'ure'](_0x4ccacf,_0x5143be,_0x42aa88,_0x497950,_0x776a74){return new _e(_0x4ccacf,{'name':_0x776a74,'width':_0x5143be,'height':_0x42aa88,'mipmaps':!(-0x25cc+-0xb74*-0x3+0x1*0x371),'format':_0x497950,'addressU':ue,'addressV':ue,'type':Ds,'magFilter':Te,'minFilter':Te,'anisotropy':0x1});}['setBounds'](_0x344653,_0x59a137){this['boundsMin']['copy'](_0x344653),this['boundsDelt'+'a']['copy'](_0x59a137);}['uploadText'+'ures'](){this['lightsText'+'ure']['lock']()['set'](this['lightsFloa'+'t']),this['lightsText'+'ure']['unlock']();}['updateUnif'+'orms'](){this['_lightsTex'+'tureId']['setValue'](this['lightsText'+'ure']);}['getSpotDir'+'ection'](_0x3b5202,_0x546065){_0x546065['_node']['getWorldTr'+'ansform']()['getY'](_0x3b5202)['mulScalar'](-(-0x38*0x53+0x20d3+-0xeaa)),_0x3b5202['normalize']();}['getLightAr'+'eaSizes'](_0x55cab8){const _0x456c1a=_0x55cab8['_node']['getWorldTr'+'ansform']();return _0x456c1a['transformV'+'ector'](FE,vs),Or[-0x5c4+0x2456+-0x1e92]=vs['x'],Or[0x6*0x63a+-0x265b+-0x1*-0x100]=vs['y'],Or[0xc9a*-0x3+-0x105d+0x362d]=vs['z'],_0x456c1a['transformV'+'ector'](NE,vs),Or[-0xd3a+0x2c*-0x6d+0x1ff9]=vs['x'],Or[-0x6bb*-0x4+-0x8*-0x1e9+-0x2a30]=vs['y'],Or[-0x18e6+0x3*-0xb06+-0x5*-0xb99]=vs['z'],Or;}['addLightDa'+'ta'](_0x4e080b,_0x1260be){const _0x3800a6=_0x4e080b['_type']===Ze,_0x5dacd0=_0x4e080b['atlasViewp'+'ortAllocat'+'ed'],_0x552ba3=this['cookiesEna'+'bled']&&!!_0x4e080b['_cookie']&&_0x5dacd0,_0xadfd81=this['areaLights'+'Enabled']&&_0x4e080b['shape']!==Ys,_0x5e717e=this['shadowsEna'+'bled']&&_0x4e080b['castShadow'+'s']&&_0x5dacd0,_0x53dbe8=_0x4e080b['_node']['getPositio'+'n']();let _0x1a26de=null,_0x3cca8f=null;_0x3800a6?_0x5e717e?_0x1a26de=_0x4e080b['getRenderD'+'ata'](null,0x23a3+0x28*-0x73+-0x1*0x11ab)['shadowMatr'+'ix']:_0x552ba3&&(_0x1a26de=Wn['evalSpotCo'+'okieMatrix'](_0x4e080b)):(_0x5e717e||_0x552ba3)&&(_0x3cca8f=_0x4e080b['atlasViewp'+'ort']);const _0x1f287e=this['lightsFloa'+'t'],_0x2e001f=this['lightsUint'],_0x5e7001=_0x1260be*this['lightsText'+'ure']['width']*(0x1c69*-0x1+-0x37b*0x2+0x2363*0x1);_0x1f287e[_0x5e7001+(0x573+0x1777+-0x1ce6)*at['POSITION_R'+'ANGE']+(0x25f*-0x5+0x1349*0x1+-0x76e)]=_0x53dbe8['x'],_0x1f287e[_0x5e7001+(0x17de+-0x3*-0xa43+-0xc5*0x47)*at['POSITION_R'+'ANGE']+(-0x1*-0x23ab+-0x25*-0x7+-0x24ad)]=_0x53dbe8['y'],_0x1f287e[_0x5e7001+(0x3*0x487+0x1*0x21b5+-0x2f46)*at['POSITION_R'+'ANGE']+(-0x48f*0x1+-0x202d+0x24be)]=_0x53dbe8['z'],_0x1f287e[_0x5e7001+(0x1*-0xf6a+-0x218f+0x30fd*0x1)*at['POSITION_R'+'ANGE']+(-0x71e+0x86*-0x39+-0x24f7*-0x1)]=_0x4e080b['attenuatio'+'nEnd'];const _0x17d264=_0x4e080b['clusteredD'+'ata'];if(_0x2e001f[_0x5e7001+(-0x5*-0x5bd+0x193*0x1+-0x1e40)*at['COLOR_ANGL'+'ES_BIAS']+(-0x1f3a+-0x46a+0x23a4)]=_0x17d264[-0x161*0x1a+-0x203b+0x4415],_0x2e001f[_0x5e7001+(-0x40a+0x108c*-0x2+0x2526)*at['COLOR_ANGL'+'ES_BIAS']+(-0x2010+-0x4*0x512+0x5d1*0x9)]=_0x17d264[-0x7*0x24b+-0x1cb3+0x2cc1],_0x2e001f[_0x5e7001+(-0x82a+-0x114e*-0x1+-0x920)*at['COLOR_ANGL'+'ES_BIAS']+(0x1379+0xb1a*0x2+-0x29ab)]=_0x17d264[-0x527*-0x1+0x3e3*0x3+0x10ce*-0x1],_0x4e080b['castShadow'+'s']){const _0x470858=_0x4e080b['getRenderD'+'ata'](null,-0xcdf+-0x2*-0xdeb+-0xef7),_0x5e8756=_0x4e080b['_getUnifor'+'mBiasValue'+'s'](_0x470858),_0x403a89=Mn['float2Half'](_0x5e8756['bias']),_0x327e59=Mn['float2Half'](_0x5e8756['normalBias']);_0x2e001f[_0x5e7001+(0xe*-0xd0+0x139+-0xa2b*-0x1)*at['COLOR_ANGL'+'ES_BIAS']+(-0x2*0xee9+0x223*-0x1+-0xf8*-0x21)]=_0x403a89|_0x327e59<<0x26c8+-0xac1*-0x2+0x1e1d*-0x2;}if(_0x3800a6&&(this['getSpotDir'+'ection'](vs,_0x4e080b),_0x1f287e[_0x5e7001+(0xde6+0x1*0x11a5+0x1f87*-0x1)*at['DIRECTION_'+'FLAGS']+(0x1*0xcf7+-0x2ee*-0x8+-0x2467)]=vs['x'],_0x1f287e[_0x5e7001+(-0x1b47+-0x1f05*-0x1+-0x3ba)*at['DIRECTION_'+'FLAGS']+(0x77f+-0x1*-0x1db0+-0x2*0x1297)]=vs['y'],_0x1f287e[_0x5e7001+(0x1665+0x1edd+-0xa*0x553)*at['DIRECTION_'+'FLAGS']+(0x1073*-0x1+-0x132*-0x5+-0xa7b*-0x1)]=vs['z']),_0x2e001f[_0x5e7001+(0x19df+-0x15ab+-0x430)*at['DIRECTION_'+'FLAGS']+(-0x11e4+0x650+0x17*0x81)]=_0x4e080b['getCluster'+'edFlags'](_0x5e717e,_0x552ba3),_0x1a26de){const _0x33663d=_0x1a26de['data'];for(let _0x393ed7=0x26*-0x1b+-0x3*-0xb41+-0x1*0x1dc1;_0x393ed7<-0xb14+0x8e8+-0x2*-0x11e;_0x393ed7++)_0x1f287e[_0x5e7001+(0x1*-0x1f57+0x214a+-0x1ef)*at['PROJ_MAT_0']+_0x393ed7]=_0x33663d[_0x393ed7];}if(_0x3cca8f&&(_0x1f287e[_0x5e7001+(-0xb3f+0x1*0x269+0x46d*0x2)*at['ATLAS_VIEW'+'PORT']+(-0x625+0x22cc+-0x5*0x5bb)]=_0x3cca8f['x'],_0x1f287e[_0x5e7001+(-0x1*-0x15fb+0x15ec+-0x2be3)*at['ATLAS_VIEW'+'PORT']+(-0x8*-0x44f+-0x89*-0x3e+-0x43a5*0x1)]=_0x3cca8f['y'],_0x1f287e[_0x5e7001+(0x2143+0x41*0x1b+-0x281a)*at['ATLAS_VIEW'+'PORT']+(-0x4db+-0xb23*-0x2+-0x1169)]=_0x3cca8f['z']/(0xb*0x2bd+0x1398+0x18da*-0x2)),_0xadfd81){const _0x192c4f=this['getLightAr'+'eaSizes'](_0x4e080b);_0x1f287e[_0x5e7001+(0x35d+0x4a9*-0x3+0xaa2)*at['AREA_DATA_'+'WIDTH']+(0x13*-0x11b+-0x127d+0x277e)]=_0x192c4f[-0x288*0xd+-0x60f+0x26f7],_0x1f287e[_0x5e7001+(-0x985+-0xa15*-0x1+-0x8c*0x1)*at['AREA_DATA_'+'WIDTH']+(0xe*0x136+0x3*-0x61f+0x16a)]=_0x192c4f[-0x11e1+0x25e3+0x6ab*-0x3],_0x1f287e[_0x5e7001+(0x12b1+0x252+0x2b*-0x7d)*at['AREA_DATA_'+'WIDTH']+(0x18e1+-0x247c*0x1+0xb9d)]=_0x192c4f[-0x8d0*-0x4+0x6d*0x53+-0x4695],_0x1f287e[_0x5e7001+(0x25b4+-0x1518+0x2*-0x84c)*at['AREA_DATA_'+'HEIGHT']+(0x154+0x4*0x827+-0x21f0)]=_0x192c4f[-0x2*0xb8a+-0x1*-0x2140+-0xa29*0x1],_0x1f287e[_0x5e7001+(-0x1c21*-0x1+-0x1e*0x143+0x9bd)*at['AREA_DATA_'+'HEIGHT']+(0x2258+-0x1*0x1218+-0x103f*0x1)]=_0x192c4f[0x1657+-0x2202+0x1*0xbaf],_0x1f287e[_0x5e7001+(0xd64*0x1+0x182*0xc+-0x1f78)*at['AREA_DATA_'+'HEIGHT']+(0x4*0x94c+0x1*0x1b77+-0x40a5)]=_0x192c4f[-0x1*0x466+-0xb3c+0xfa7];}}}const ic=new D(),rc=new D(),ac=new D(),Yd=new De(),k_=-0x3*0x605+-0x13d0+0x35df;class U_{constructor(){this['light']=null,this['min']=new D(),this['max']=new D();}}class cu{constructor(_0x35533c){h(this,'clusterTex'+'ture'),(this['device']=_0x35533c,this['name']='Untitled',this['reportCoun'+'t']=0x3*-0x87d+0x1b8c+0x215*-0x1,this['boundsMin']=new D(),this['boundsMax']=new D(),this['boundsDelt'+'a']=new D(),this['_cells']=new D(-0x1d9*0x9+0xb1+0xb*0x173,-0x277*0xb+0x2*0x4ab+0x11c8,-0x23fb*-0x1+0x54a*0x1+0x4c*-0x8b),this['_cellsLimi'+'t']=new D(),this['cells']=this['_cells'],this['maxCellLig'+'htCount']=-0x6*0x23e+-0x1b71*-0x1+-0xdf9,this['_usedLight'+'s']=[],this['_usedLight'+'s']['push'](new U_()),this['lightsBuff'+'er']=new UE(_0x35533c),this['registerUn'+'iforms'](_0x35533c));}set['maxCellLig'+'htCount'](_0x2fe5eb){_0x2fe5eb!==this['_maxCellLi'+'ghtCount']&&(this['_maxCellLi'+'ghtCount']=_0x2fe5eb,this['_cellsDirt'+'y']=!(0xb07+-0x875+-0x5e*0x7));}get['maxCellLig'+'htCount'](){return this['_maxCellLi'+'ghtCount'];}set['cells'](_0x41c40e){ic['copy'](_0x41c40e)['floor'](),this['_cells']['equals'](ic)||(this['_cells']['copy'](ic),this['_cellsLimi'+'t']['copy'](ic)['sub'](D['ONE']),this['_cellsDirt'+'y']=!(0x10f*0xd+-0x213d+0x137a));}get['cells'](){return this['_cells'];}['destroy'](){this['lightsBuff'+'er']['destroy'](),this['releaseClu'+'sterTextur'+'e']();}['releaseClu'+'sterTextur'+'e'](){this['clusterTex'+'ture']&&(this['clusterTex'+'ture']['destroy'](),this['clusterTex'+'ture']=null);}['registerUn'+'iforms'](_0x47b2cd){this['_clusterSk'+'ipId']=_0x47b2cd['scope']['resolve']('clusterSki'+'p'),this['_clusterMa'+'xCellsId']=_0x47b2cd['scope']['resolve']('clusterMax'+'Cells'),this['_clusterWo'+'rldTexture'+'Id']=_0x47b2cd['scope']['resolve']('clusterWor'+'ldTexture'),this['_clusterTe'+'xtureSizeI'+'d']=_0x47b2cd['scope']['resolve']('clusterTex'+'tureSize'),this['_clusterTe'+'xtureSizeD'+'ata']=new Float32Array(-0x415+0x187*0x11+-0x15df),this['_clusterBo'+'undsMinId']=_0x47b2cd['scope']['resolve']('clusterBou'+'ndsMin'),this['_clusterBo'+'undsMinDat'+'a']=new Float32Array(0x21c0+-0x1*0x7d4+-0x1*0x19e9),this['_clusterBo'+'undsDeltaI'+'d']=_0x47b2cd['scope']['resolve']('clusterBou'+'ndsDelta'),this['_clusterBo'+'undsDeltaD'+'ata']=new Float32Array(0x1b21+-0x266*-0xd+-0x3a4c),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']=_0x47b2cd['scope']['resolve']('clusterCel'+'lsCountByB'+'oundsSize'),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']=new Float32Array(0x1833+0x20d7*0x1+-0x3907),this['_clusterCe'+'llsDotId']=_0x47b2cd['scope']['resolve']('clusterCel'+'lsDot'),this['_clusterCe'+'llsDotData']=new Float32Array(0x1a08+0x1*-0x2205+0x800),this['_clusterCe'+'llsMaxId']=_0x47b2cd['scope']['resolve']('clusterCel'+'lsMax'),this['_clusterCe'+'llsMaxData']=new Float32Array(-0x1*0x812+0x1d23*0x1+-0x150e);}['updatePara'+'ms'](_0x132c3c){_0x132c3c&&(this['cells']=_0x132c3c['cells'],this['maxCellLig'+'htCount']=_0x132c3c['maxLightsP'+'erCell'],this['lightsBuff'+'er']['cookiesEna'+'bled']=_0x132c3c['cookiesEna'+'bled'],this['lightsBuff'+'er']['shadowsEna'+'bled']=_0x132c3c['shadowsEna'+'bled'],this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x132c3c['areaLights'+'Enabled']);}['updateCell'+'s'](){if(this['_cellsDirt'+'y']){this['_cellsDirt'+'y']=!(0x1*0x22b7+0x486*-0x5+-0xc18);const _0x4fbefe=this['_cells']['x'],_0x20d8d2=this['_cells']['y'],_0x475191=this['_cells']['z'],_0x53a3d3=_0x4fbefe*_0x20d8d2*_0x475191,_0xaf7260=this['maxCellLig'+'htCount']*_0x53a3d3;let _0x719348=Math['ceil'](Math['sqrt'](_0xaf7260));_0x719348=Y['roundUp'](_0x719348,this['maxCellLig'+'htCount']);const _0x3c9fb9=Math['ceil'](_0xaf7260/_0x719348);w['assert'](_0x719348<=k_&&_0x3c9fb9<=k_,'Clustered\x20'+'lights\x20par'+'ameters\x20ca'+'use\x20the\x20te'+'xture\x20size'+'\x20to\x20be\x20ove'+'r\x20the\x20limi'+'t,\x20please\x20'+'adjust\x20the'+'m.'),this['_clusterCe'+'llsMaxData'][0x5*-0x4fc+-0x87c+0x2168]=_0x4fbefe,this['_clusterCe'+'llsMaxData'][0x1*-0xd81+-0x15b*-0x1+0xc27]=_0x20d8d2,this['_clusterCe'+'llsMaxData'][0xb*-0x1f4+-0x11d5+0x2753]=_0x475191,this['_clusterCe'+'llsDotData'][0x1654+0x78*0x33+-0x2e3c]=this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][-0x109f+-0x10*0x110+0x21a0]=_0x4fbefe*_0x475191*this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][0x1f7a+0x1*0x1ce5+-0x6b5*0x9]=_0x4fbefe*this['maxCellLig'+'htCount'],this['clusters']=new Uint8ClampedArray(_0xaf7260),this['counts']=new Int32Array(_0x53a3d3),this['_clusterTe'+'xtureSizeD'+'ata'][0x1*0x10a3+0x183*0x9+-0x1e3e]=_0x719348,this['_clusterTe'+'xtureSizeD'+'ata'][0xba7+-0x1*-0x2b4+0x14e*-0xb]=(-0x4fd*-0x4+0xa8a*-0x2+0x1*0x121)/_0x719348,this['_clusterTe'+'xtureSizeD'+'ata'][-0x1*0x2215+-0x17d+0x114*0x21]=(-0xaaf*-0x3+-0x7*0x3+0x31*-0xa7)/_0x3c9fb9,this['releaseClu'+'sterTextur'+'e'](),this['clusterTex'+'ture']=this['lightsBuff'+'er']['createText'+'ure'](this['device'],_0x719348,_0x3c9fb9,Ep,'ClusterTex'+'ture');}}['uploadText'+'ures'](){this['clusterTex'+'ture']['lock']()['set'](this['clusters']),this['clusterTex'+'ture']['unlock'](),this['lightsBuff'+'er']['uploadText'+'ures']();}['updateUnif'+'orms'](){this['_clusterSk'+'ipId']['setValue'](this['_usedLight'+'s']['length']>0x91f+0x312+-0xc30?-0x1e75+0x49c+-0x19d9*-0x1:0x1cbd+0x3*-0x6e1+-0x819*0x1),this['lightsBuff'+'er']['updateUnif'+'orms'](),this['_clusterWo'+'rldTexture'+'Id']['setValue'](this['clusterTex'+'ture']),this['_clusterMa'+'xCellsId']['setValue'](this['maxCellLig'+'htCount']);const _0x417ca4=this['boundsDelt'+'a'];this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x1*0xde9+-0xdd1*0x1+0x1bba]=this['_cells']['x']/_0x417ca4['x'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x2*-0xbe3+0x13*-0x96+-0xca3*0x1]=this['_cells']['y']/_0x417ca4['y'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x1bb8+-0xd7*0x8+-0x14fe]=this['_cells']['z']/_0x417ca4['z'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']['setValue'](this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']),this['_clusterBo'+'undsMinDat'+'a'][-0x3*0x200+-0xef0*-0x2+0x2fc*-0x8]=this['boundsMin']['x'],this['_clusterBo'+'undsMinDat'+'a'][0x3e*-0xa1+-0x1*0x7f+0x277e]=this['boundsMin']['y'],this['_clusterBo'+'undsMinDat'+'a'][0x1a7+0x10ed+0x949*-0x2]=this['boundsMin']['z'],this['_clusterBo'+'undsDeltaD'+'ata'][-0x11*-0x83+0x2b*-0x7b+0xbf6]=_0x417ca4['x'],this['_clusterBo'+'undsDeltaD'+'ata'][-0x1b19*-0x1+0x248c+-0x3fa4]=_0x417ca4['y'],this['_clusterBo'+'undsDeltaD'+'ata'][0xc*0x24b+0x2e7*-0xa+0x184]=_0x417ca4['z'],this['_clusterTe'+'xtureSizeI'+'d']['setValue'](this['_clusterTe'+'xtureSizeD'+'ata']),this['_clusterBo'+'undsMinId']['setValue'](this['_clusterBo'+'undsMinDat'+'a']),this['_clusterBo'+'undsDeltaI'+'d']['setValue'](this['_clusterBo'+'undsDeltaD'+'ata']),this['_clusterCe'+'llsDotId']['setValue'](this['_clusterCe'+'llsDotData']),this['_clusterCe'+'llsMaxId']['setValue'](this['_clusterCe'+'llsMaxData']);}['evalLightC'+'ellMinMax'](_0x470dc7,_0x51a36b,_0x2dd359){_0x51a36b['copy'](_0x470dc7['min']),_0x51a36b['sub'](this['boundsMin']),_0x51a36b['div'](this['boundsDelt'+'a']),_0x51a36b['mul2'](_0x51a36b,this['cells']),_0x51a36b['floor'](),_0x2dd359['copy'](_0x470dc7['max']),_0x2dd359['sub'](this['boundsMin']),_0x2dd359['div'](this['boundsDelt'+'a']),_0x2dd359['mul2'](_0x2dd359,this['cells']),_0x2dd359['ceil'](),_0x51a36b['max'](D['ZERO']),_0x2dd359['min'](this['_cellsLimi'+'t']);}['collectLig'+'hts'](_0x4ef8c4){const _0xda5481=this['lightsBuff'+'er']['maxLights'],_0xcd6311=this['_usedLight'+'s'];let _0x550a27=0x25c9+-0x929+-0x1c9f;_0x4ef8c4['forEach'](_0x48836a=>{const _0x168b88=!!(_0x48836a['mask']&(Ss|di)),_0x5d67ad=_0x48836a['type']===Ze&&_0x48836a['_outerCone'+'Angle']===0x13*-0xca+-0x2313*0x1+0x3211;if(_0x48836a['enabled']&&_0x48836a['type']!==ve&&_0x48836a['visibleThi'+'sFrame']&&_0x48836a['intensity']>-0xe0c+-0x15*-0x14f+-0xb5*0x13&&_0x168b88&&!_0x5d67ad){if(_0x550a27<_0xda5481){let _0x11de4f;_0x550a27<_0xcd6311['length']?_0x11de4f=_0xcd6311[_0x550a27]:(_0x11de4f=new U_(),_0xcd6311['push'](_0x11de4f)),_0x11de4f['light']=_0x48836a,_0x48836a['getBoundin'+'gBox'](Yd),_0x11de4f['min']['copy'](Yd['getMin']()),_0x11de4f['max']['copy'](Yd['getMax']()),_0x550a27++;}else w['warnOnce']('Clustered\x20'+'lighting:\x20'+'more\x20than\x20'+(_0xda5481-(0x22b4+0x4*0x68+0x223*-0x11))+('\x20lights\x20in'+'\x20the\x20frame'+',\x20ignoring'+'\x20some.'));}}),_0xcd6311['length']=_0x550a27;}['evaluateBo'+'unds'](){const _0x4f4c05=this['_usedLight'+'s'],_0x2d4e30=this['boundsMin'],_0x27ff47=this['boundsMax'];if(_0x4f4c05['length']>-0x1*0x14b7+-0x5*0x203+-0x1*-0x1ec7){_0x2d4e30['copy'](_0x4f4c05[-0x18a9*-0x1+-0x29*0xdf+0x13*0x95]['min']),_0x27ff47['copy'](_0x4f4c05[-0x1e19+-0xabe*-0x3+-0x220]['max']);for(let _0xb1c2aa=-0x1988*-0x1+-0x1e*-0x8c+-0x14f7*0x2;_0xb1c2aa<_0x4f4c05['length'];_0xb1c2aa++)_0x2d4e30['min'](_0x4f4c05[_0xb1c2aa]['min']),_0x27ff47['max'](_0x4f4c05[_0xb1c2aa]['max']);}else _0x2d4e30['set'](0x1075*-0x2+-0x6*-0x32+0x1fbe*0x1,0x104d+0x3*0x90f+0x6a*-0x69,0xbcf+0x191b+-0x24ea),_0x27ff47['set'](0x6b4+0x1ed*-0xd+-0x2*-0x92b,0x16ba+-0x2699+-0xfe0*-0x1,-0x7c*-0x25+0x9c0+-0x1bab);this['boundsDelt'+'a']['sub2'](_0x27ff47,_0x2d4e30),this['lightsBuff'+'er']['setBounds'](_0x2d4e30,this['boundsDelt'+'a']);}['updateClus'+'ters'](_0x28da6d){this['counts']['fill'](-0x3bf*-0x2+0x1ff6*-0x1+0x1*0x1878),this['clusters']['fill'](0x394*-0xa+0x354+-0x81d*-0x4),this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x28da6d?_0x28da6d['areaLights'+'Enabled']:!(-0xce8+0x1*0xc56+0x15*0x7);const _0x4a0672=this['_cells']['x'],_0x6bef5c=this['_cells']['z'],_0x1311be=this['counts'],_0x39ba91=this['_maxCellLi'+'ghtCount'],_0x58b3fb=this['clusters'],_0x1da7e9=this['maxCellLig'+'htCount'];let _0xff4cbb=!(-0x18d0+0x1b0+0x1721);const _0x1eb2dc=this['_usedLight'+'s'];for(let _0x52599f=-0x2*-0x6ed+-0x3e6+-0x9f3;_0x52599f<_0x1eb2dc['length'];_0x52599f++){const _0x28ef43=_0x1eb2dc[_0x52599f],_0x4d1399=_0x28ef43['light'];this['lightsBuff'+'er']['addLightDa'+'ta'](_0x4d1399,_0x52599f),this['evalLightC'+'ellMinMax'](_0x28ef43,rc,ac);const _0x2f8eb1=rc['x'],_0x27944c=ac['x'],_0x3688d8=rc['y'],_0x35cbc1=ac['y'],_0x2a22d9=rc['z'],_0x172225=ac['z'];for(let _0x30c958=_0x2f8eb1;_0x30c958<=_0x27944c;_0x30c958++)for(let _0x47ed5e=_0x2a22d9;_0x47ed5e<=_0x172225;_0x47ed5e++)for(let _0x26fc51=_0x3688d8;_0x26fc51<=_0x35cbc1;_0x26fc51++){const _0x1b50d8=_0x30c958+_0x4a0672*(_0x47ed5e+_0x26fc51*_0x6bef5c),_0xa2fa95=_0x1311be[_0x1b50d8];_0xa2fa95<_0x39ba91?(_0x58b3fb[_0x1da7e9*_0x1b50d8+_0xa2fa95]=_0x52599f,_0x1311be[_0x1b50d8]=_0xa2fa95+(0x2613+0x2*0x104f+-0x46b0)):_0xff4cbb=!(-0x112e+0xb33*-0x3+0x32c7);}}_0xff4cbb&&this['reportCoun'+'t']<-0x1*-0x246a+-0x7*-0x31d+-0x13*0x310&&(console['warn']('Too\x20many\x20l'+'ights\x20in\x20l'+'ight\x20clust'+'er\x20'+this['name']+(',\x20please\x20a'+'djust\x20para'+'meters.')+(this['reportCoun'+'t']===-0xd*-0x2e1+-0x9db+0x1b8e*-0x1?'\x20Giving\x20up'+'\x20on\x20report'+'ing\x20it.':'')),this['reportCoun'+'t']++);}['update'](_0x8c317a,_0x203aa5=null){this['updatePara'+'ms'](_0x203aa5),this['updateCell'+'s'](),this['collectLig'+'hts'](_0x8c317a),this['evaluateBo'+'unds'](),this['updateClus'+'ters'](_0x203aa5),this['uploadText'+'ures']();}['activate'](){this['updateUnif'+'orms']();}}const B_=-0x42*-0x7+-0x2033+0xb5*0x2b+0.39996322972865306,Nl={'circlePoint'(_0x3faf67){const _0x1fdbe7=Math['sqrt'](Math['random']()),_0x510711=Math['random']()*(0x65f+-0xa3*-0x17+-0x1502*0x1)*Math['PI'];_0x3faf67['x']=_0x1fdbe7*Math['cos'](_0x510711),_0x3faf67['y']=_0x1fdbe7*Math['sin'](_0x510711);},'circlePointDeterministic'(_0x55f0e5,_0x2cfd87,_0x2d2ac1){const _0x2de856=_0x2cfd87*B_,_0x28bed5=Math['sqrt'](_0x2cfd87)/Math['sqrt'](_0x2d2ac1);_0x55f0e5['x']=_0x28bed5*Math['cos'](_0x2de856),_0x55f0e5['y']=_0x28bed5*Math['sin'](_0x2de856);},'spherePointDeterministic'(_0x49f43e,_0x1a8bf3,_0x49b205,_0xd89e39=0x8b*0x47+-0x1089+0x1*-0x1604,_0x16ed82=-0x17dd+-0x403+0x1be1){_0xd89e39=-0x687+0x20d7*-0x1+0x275f-(-0x5*-0x1+0x87f+-0x882)*_0xd89e39,_0x16ed82=-0x1bda+-0x25a4+0x417f-(-0x1ae5+-0x29*-0xbd+-0x35e)*_0x16ed82;const _0x44aa16=Y['lerp'](_0xd89e39,_0x16ed82,_0x1a8bf3/_0x49b205),_0x30a5bd=Math['sqrt'](0x987+-0x11c+-0x86a-_0x44aa16*_0x44aa16),_0x3ae1f4=B_*_0x1a8bf3;_0x49f43e['x']=Math['cos'](_0x3ae1f4)*_0x30a5bd,_0x49f43e['y']=_0x44aa16,_0x49f43e['z']=Math['sin'](_0x3ae1f4)*_0x30a5bd;},'radicalInverse'(_0x3d9e58){let _0x551a3d=(_0x3d9e58<<-0x128e+-0x43*-0x23+0x975|_0x3d9e58>>>0x1*-0x1e78+-0x31*-0xa1+-0x49)>>>-0x1*-0x164c+0x1*-0x181d+0x1d1;return _0x551a3d=((_0x551a3d&0x1a8*0x5c2dfd+-0x214232a5+-0x2214a30e)<<-0x1835+0x2647*-0x1+0x3e7d|(_0x551a3d&0x160141*-0x86d+-0xd1820e97+-0x26e85*-0xe896)>>>0x3*-0x73f+-0x1409+0x29c7)>>>0x1d71+-0x4d+-0x1d24,_0x551a3d=((_0x551a3d&-0x18aa*0x1421d+0xc6415fe+0x45d7bc77)<<0x2397+0xc46*-0x1+-0x174f|(_0x551a3d&0xef*-0x163aaf7+-0x9f4f45e9+-0x2*-0x15c1457a7)>>>0x2482*0x1+-0xc3*-0xb+-0x2ce1)>>>-0xef*0x7+0x23d9*0x1+0x1*-0x1d50,_0x551a3d=((_0x551a3d&-0x531*-0x1ca3+-0x6a6b*-0x1049+0x7b55c59)<<-0x196a*-0x1+0xae0+-0x2446*0x1|(_0x551a3d&-0xbb9*0x1e40c5+0x77e769c3+0x1*0x1dbaecc8a)>>>0xa7*0xb+-0x175*-0x17+-0x28ac)>>>-0x1*-0x8ad+-0x3a*-0xe+-0xbd9,_0x551a3d=((_0x551a3d&0xaa5ac5*-0x1+0x168090d*0x1+0x4152b7)<<-0x2a1*-0x8+0x2*0xe5+0x2*-0xb65|(_0x551a3d&0x3*-0x94adddff+0x13f72f251+0x17d97a6ac)>>>0x5*0x4f3+-0x1eef*0x1+0x638)>>>-0x1a*-0x82+-0x52*-0x44+0x22fc*-0x1,_0x551a3d*(-0x1*-0x81b+-0x2391+0x1b76+2.3283064365386963e-10);}},BE={'linear':'decodeLine'+'ar','srgb':'decodeGamm'+'a','rgbm':'decodeRGBM','rgbe':'decodeRGBE','rgbp':'decodeRGBP','xy':'unpackNorm'+'alXY','xyz':'unpackNorm'+'alXYZ'},zE={'linear':'encodeLine'+'ar','srgb':'encodeGamm'+'a','rgbm':'encodeRGBM','rgbe':'encodeRGBE','rgbp':'encodeRGBP'};class Tr{static['decodeFunc'](_0xc44a72){return BE[_0xc44a72]??'decodeGamm'+'a';}static['encodeFunc'](_0x388f5b){return zE[_0x388f5b]??'encodeGamm'+'a';}}const z_=_0x33bc8b=>{switch(_0x33bc8b){case tu:return'Cubemap';case Gx:return'Octahedral';default:return'Equirect';}},nc=(_0x2ce23c,_0x585368,_0x289c96)=>{if(_0x2ce23c<=-0x5*-0x7a+-0x12e0+0x83f*0x2)_0x585368[_0x289c96+(0x1805+0x656*0x1+0x13*-0x199)]=0x17e1*-0x1+-0x81*0x11+-0x1*-0x2072,_0x585368[_0x289c96+(0xfd6+0x11*0x11+-0x10f6)]=0x409+0x1*0x615+-0xa1e,_0x585368[_0x289c96+(0x15*-0x26+-0x1*-0x2507+-0x3*0xb4d)]=0xaf*0x2e+0x198+-0x210a,_0x585368[_0x289c96+(-0x137e+0x9cd+0x9b4)]=0x1074+-0x1*-0x157e+-0x25f2;else{if(_0x2ce23c>=0x1*0x593+-0x11*0x24b+0x2169)_0x585368[_0x289c96+(-0x1ba+-0x1dc3+0x3*0xa7f)]=0x3cb*0x5+0xf11+-0x1*0x2109,_0x585368[_0x289c96+(-0x1*-0x7ad+0x3e9+0x1*-0xb95)]=0x1*0x1021+-0x1633+0x612,_0x585368[_0x289c96+(0xa*0x2d1+0x111+-0x1*0x1d39)]=0x8d7+-0xd8b+0x4b4,_0x585368[_0x289c96+(-0x2148+-0xe5+0x4*0x88c)]=0x1e42+0x3*0x9d2+-0x3bb8;else{let _0x28aacb=(-0x8*-0x45a+-0x1db4+0x51b*-0x1)*_0x2ce23c%(0x4eb*-0x5+0x27a+0x161e),_0x5211a7=(0x4eb*-0x1+0x219b*0x1+-0x1bb1)*_0x2ce23c%(0x3a8+0x1be6+-0x1f8d),_0x34a6f6=(-0x1*0xec2f+-0x1*-0x1ae57+0x3bd9*0x1)*_0x2ce23c%(-0x149*0x13+0x1*-0x13f9+0x2c65);const _0x47254d=(-0x131*0x319a+0x123621f+-0x5*-0x42512)*_0x2ce23c%(0x1b30+-0x779*0x2+-0xc3d);_0x28aacb-=_0x5211a7/(-0x9*0x3dd+0x1239+-0x118b*-0x1),_0x5211a7-=_0x34a6f6/(-0x1eb*-0xb+0x356+-0x1770),_0x34a6f6-=_0x47254d/(-0x944+0x62e+0x415),_0x585368[_0x289c96+(0x19bd*0x1+0x1*-0xce5+-0xcd8)]=Math['min'](0x7d*-0x3b+0x76e+-0x8*-0x2cc,Math['floor'](_0x28aacb*(-0x2*-0x3ee+-0x2136+0x1a5a))),_0x585368[_0x289c96+(-0x1e7e+0xc5e+0x11*0x111)]=Math['min'](-0x63a*0x3+-0x660+0x1a0d,Math['floor'](_0x5211a7*(0x10*0x9d+0x1cbf+0x5*-0x783))),_0x585368[_0x289c96+(-0x9cb+0x2*0xbcf+-0xdd1)]=Math['min'](0x1*-0x152b+0x32*0x10+0x130a,Math['floor'](_0x34a6f6*(0x193*-0x3+0x18e5+-0x132c))),_0x585368[_0x289c96+(0x342*0x6+-0x1267+0x1d*-0xa)]=Math['min'](0x18d7*0x1+0x19ff+0x109d*-0x3,Math['floor'](_0x47254d*(-0x11*-0x3b+-0xaf9+0x407*0x2)));}}},VE=_0x526854=>{const _0x1fa867=_0x526854['length'],_0x2d1079=Math['min'](_0x1fa867,-0x1cb4+-0x241d+-0x137*-0x37),_0x45a882=Math['ceil'](_0x1fa867/_0x2d1079),_0x54d725=new Uint8Array(_0x2d1079*_0x45a882*(0xb60+0x169*-0x7+0x7f*-0x3));let _0x252298=-0x3a*-0x28+0x10b4*0x2+0x25c*-0x12;for(let _0x5086dd=0x1*0x7cd+0x1b8a+-0x2357;_0x5086dd<_0x1fa867;_0x5086dd+=0x1a10+0x561+0x1*-0x1f6d)nc(_0x526854[_0x5086dd+(0xc8e+-0x2017+0x3*0x683)]*(-0x551*0x3+0x13e1+0x1f7*-0x2+0.5)+(-0x1*-0x1258+0x1275+0x1*-0x24cd+0.5),_0x54d725,_0x252298+(-0x1f94+0x163+0x1e31)),nc(_0x526854[_0x5086dd+(0x9*0x3b7+-0x162b+-0xb43*0x1)]*(-0x13d+-0x1*-0x18c9+-0x178c+0.5)+(0x1f0*-0x9+-0x20dd+-0x1*-0x324d+0.5),_0x54d725,_0x252298+(-0x1eb4+0x75*-0x3e+0x1*0x3b0e)),nc(_0x526854[_0x5086dd+(0x1c*0x118+0x23b3+-0x1*0x4251)]*(-0x6be*-0x5+0xd8f+-0x1*0x2f45+0.5)+(0x328*-0xb+0xc*0x22c+0x8a8+0.5),_0x54d725,_0x252298+(0x1551+-0x1*0x1493+0x1a*-0x7)),nc(_0x526854[_0x5086dd+(0xa5*-0x39+0x4bb+0x2005)]/(0x1*0xd8e+0xd*0x119+0x1bcb*-0x1),_0x54d725,_0x252298+(-0xc73*0x1+0x1ce3+-0x832*0x2)),_0x252298+=-0x12f9*-0x1+-0x113c+-0xb*0x27;return{'width':_0x2d1079,'height':_0x45a882,'data':_0x54d725};},GE=(_0x483192,_0x5a8e01,_0x501817,_0x374e03)=>{const _0x4ec43c=_0x501817*(0xf6f+0x23cf+0x1*-0x333c)*Math['PI'],_0x38e149=Math['pow'](-0x89*0xa+0x3*-0x50c+0x147f-_0x5a8e01,(0x7c*-0x17+0x3b*0x2f+-0xa*-0x8)/(_0x374e03+(0x17ca+0x1edd*0x1+0x2*-0x1b53))),_0x33043d=Math['sqrt'](0xb96+-0x233a+0x17a5*0x1-_0x38e149*_0x38e149);_0x483192['set'](Math['cos'](_0x4ec43c)*_0x33043d,Math['sin'](_0x4ec43c)*_0x33043d,_0x38e149)['normalize']();},HE=(_0x31ba90,_0x1af067,_0x743ecc)=>{const _0x422c7a=_0x743ecc*(0x29a*-0x6+-0x93+0x1031)*Math['PI'],_0x33a8ec=Math['sqrt'](0x1839+0x1bc8*0x1+-0xd*0x400-_0x1af067),_0x4deee6=Math['sqrt'](_0x1af067);_0x31ba90['set'](Math['cos'](_0x422c7a)*_0x4deee6,Math['sin'](_0x422c7a)*_0x4deee6,_0x33a8ec)['normalize']();},WE=(_0x4d0d67,_0x38cfdf,_0x2c091e,_0x5db812)=>{const _0x50d37a=_0x2c091e*(-0xa11+0x3df*0x8+-0x14e5)*Math['PI'],_0x197fe6=Math['sqrt']((-0x79e+-0x234f+0x896*0x5-_0x38cfdf)/(-0x1cb*-0x11+-0x23*0x94+-0xa3e+(_0x5db812*_0x5db812-(0x20ea+0x13ab+0xa84*-0x5))*_0x38cfdf)),_0x2b9300=Math['sqrt'](-0x12c4+-0x144a+-0x65*-0x63-_0x197fe6*_0x197fe6);_0x4d0d67['set'](Math['cos'](_0x50d37a)*_0x2b9300,Math['sin'](_0x50d37a)*_0x2b9300,_0x197fe6)['normalize']();},$E=(_0x6e1713,_0x2a93f7)=>{const _0x1cde87=_0x6e1713*_0x2a93f7,_0x258f55=_0x2a93f7/(0xb3+-0x6c7+0x615-_0x6e1713*_0x6e1713+_0x1cde87*_0x1cde87);return _0x258f55*_0x258f55*((0x1a5+-0x1*0xa7e+-0xb*-0xce)/Math['PI']);},XE=(_0x320ccf,_0x2cbc80)=>{const _0x136818=new D(),_0x4deab5=[];for(let _0x26c3c6=-0x47*0x53+-0x1a0+0x18a5;_0x26c3c6<_0x320ccf;++_0x26c3c6)GE(_0x136818,_0x26c3c6/_0x320ccf,Nl['radicalInv'+'erse'](_0x26c3c6),_0x2cbc80),_0x4deab5['push'](_0x136818['x'],_0x136818['y'],_0x136818['z'],0xc28+0x1ecc+-0x2af4);return _0x4deab5;},qE=(_0x592c9b,_0x6ceebd)=>{const _0x38df86=_0x6ceebd/_0x592c9b,_0x2b699d=new D(),_0x505b50=[];for(let _0x495717=-0x1da9+0x1c45*0x1+-0x1*-0x164;_0x495717<_0x592c9b;++_0x495717){HE(_0x2b699d,_0x495717/_0x592c9b,Nl['radicalInv'+'erse'](_0x495717));const _0x2079d4=_0x2b699d['z']/Math['PI'],_0x5174f1=(0x2187+0x11+-0x2198+0.5)*Math['log2'](_0x38df86/_0x2079d4);_0x505b50['push'](_0x2b699d['x'],_0x2b699d['y'],_0x2b699d['z'],_0x5174f1);}return _0x505b50;},jE={0x10:{0x2:0x1a,0x8:0x14,0x20:0x11,0x80:0x10,0x200:0x10},0x20:{0x2:0x35,0x8:0x28,0x20:0x22,0x80:0x20,0x200:0x20},0x80:{0x2:0xd6,0x8:0xa3,0x20:0x8b,0x80:0x82,0x200:0x80},0x400:{0x2:0x6ba,0x8:0x51e,0x20:0x45a,0x80:0x411,0x200:0x401}},YE=(_0x5e99c8,_0x21755b)=>{const _0x53c676=jE[_0x5e99c8];return _0x53c676&&_0x53c676[_0x21755b]||_0x5e99c8;},KE=(_0x36af12,_0x25c9b4,_0x18383d)=>{const _0x5f31f2=_0x18383d/_0x36af12,_0xc6b2dc=0xe9a+-0xfc5+0x12c-Math['log2'](_0x25c9b4)/(0x9+-0xf17*0x1+0xf19*0x1),_0xf97be=_0xc6b2dc*_0xc6b2dc,_0x292e78=new D(),_0x377aeb=new D(),_0x3fc51d=new D(-0x2552+-0x2*-0xb9d+-0x1*-0xe18,-0x26be+-0x21fe+0x48bc,0xe79+0x16c8+-0x95*0x40),_0x2aec63=[],_0x1a3c4f=YE(_0x36af12,_0x25c9b4);for(let _0x684505=-0x1e9a+-0x93*-0x17+0x1165;_0x684505<_0x1a3c4f;++_0x684505){WE(_0x292e78,_0x684505/_0x1a3c4f,Nl['radicalInv'+'erse'](_0x684505),_0xf97be);const _0x1a5910=_0x292e78['z'];if(_0x377aeb['set'](_0x292e78['x'],_0x292e78['y'],_0x292e78['z'])['mulScalar']((0x3cd*-0x5+-0x14ca+-0x27cd*-0x1)*_0x1a5910)['sub'](_0x3fc51d),_0x377aeb['z']>-0xb02*0x1+0x2*0x1e5+-0xc*-0x9a){const _0x3e40d6=$E(Math['min'](-0x1*0x2f5+-0xa1+0x397,_0x1a5910),_0xf97be)/(0x1*0x8c3+0xa6*-0x34+0x1*0x18f9)+(-0x229f*-0x1+-0x13d4+0x21d*-0x7+0.001),_0x311620=(0x9f*-0x2d+0x349*0x9+0x19e*-0x1+0.5)*Math['log2'](_0x5f31f2/_0x3e40d6);_0x2aec63['push'](_0x377aeb['x'],_0x377aeb['y'],_0x377aeb['z'],_0x311620);}}for(;_0x2aec63['length']<_0x36af12*(0x1*-0x47+-0x2576+0x25c1);)_0x2aec63['push'](0x17b7+0x76f*0x2+0x77*-0x53,0xc6d*-0x1+-0x16a0+0xbaf*0x3,-0x175*-0x2+-0x2029*-0x1+0x3*-0xbb1,-0x7*-0x2da+0x5*-0x91+0x1*-0x1121);return _0x2aec63;},ZE=(_0x2debdf,_0x5548ed,_0x43f8eb)=>{const _0x342c29=VE(_0x43f8eb);return new _e(_0x2debdf,{'name':_0x5548ed,'width':_0x342c29['width'],'height':_0x342c29['height'],'mipmaps':!(0x20a3*0x1+-0x206b*0x1+-0x37),'minFilter':Te,'magFilter':Te,'levels':[_0x342c29['data']]});};class xv{constructor(_0x3f6466=!(0x39*-0x86+0xe3b+-0xeb*-0x11)){h(this,'map',new Map()),this['destroyCon'+'tent']=_0x3f6466;}['destroy'](){this['destroyCon'+'tent']&&this['map']['forEach']((_0x1612c5,_0x1f91c5)=>{_0x1612c5['destroy']();});}['get'](_0x5f458b,_0x4c30bb){if(!this['map']['has'](_0x5f458b)){const _0x3f7484=_0x4c30bb();return this['map']['set'](_0x5f458b,_0x3f7484),_0x3f7484;}return this['map']['get'](_0x5f458b);}}const QE=new xv(!(-0xe9e*0x1+0x1cc*-0x4+0x15cf)),JE=new Kt(),dm=(_0x29f55f,_0x5454bf,_0x464453)=>JE['get'](_0x29f55f,()=>new xv())['get'](_0x5454bf,()=>ZE(_0x29f55f,_0x5454bf,QE['get'](_0x5454bf,_0x464453))),eb=(_0x86b38f,_0x23796e,_0x3a4e0f)=>{const _0x25a21f='lambert-sa'+'mples-'+_0x23796e+'-'+_0x3a4e0f;return dm(_0x86b38f,_0x25a21f,()=>qE(_0x23796e,_0x3a4e0f));},tb=(_0x1f478b,_0x7787c3,_0x120ac9)=>{const _0x1afb13='phong-samp'+'les-'+_0x7787c3+'-'+_0x120ac9;return dm(_0x1f478b,_0x1afb13,()=>XE(_0x7787c3,_0x120ac9));},sb=(_0x4c8aa8,_0x370bb4,_0x55a528,_0x5e2e8b)=>{const _0x41ba3a='ggx-sample'+'s-'+_0x370bb4+'-'+_0x55a528+'-'+_0x5e2e8b;return dm(_0x4c8aa8,_0x41ba3a,()=>KE(_0x370bb4,_0x55a528,_0x5e2e8b));};function vi(_0x8fcfc8,_0x157f28,_0x1abb62={}){var _0x44a5ea,_0x1d1e81;w['assert'](_0x8fcfc8 instanceof _e&&_0x157f28 instanceof _e,'source\x20and'+'\x20target\x20mu'+'st\x20be\x20text'+'ures');const _0x48f406=_0x1abb62['seamPixels']??0x1*0x1779+0x161e+-0x2d97,_0x359386=(((_0x44a5ea=_0x1abb62['rect'])==null?void(0x6cd+-0xb*0x32b+0x1c0c):_0x44a5ea['z'])??_0x157f28['width'])-_0x48f406*(-0x7cd+0x1*-0xd92+-0x1a5*-0xd),_0x30c877=(((_0x1d1e81=_0x1abb62['rect'])==null?void(0xa58+-0x70*-0x54+-0x112*0x2c):_0x1d1e81['w'])??_0x157f28['height'])-_0x48f406*(-0x12fe+-0x744+-0xa4*-0x29);if(_0x359386<-0x1*0x5cd+-0x219e+0x276c*0x1||_0x30c877<0x17ef*-0x1+-0x266a+0x3e5a)return!(-0x1a8*0x4+-0x11*-0x111+0xb80*-0x1);const _0x2559b8={'none':'reproject','lambert':'prefilterS'+'amplesUnwe'+'ighted','phong':'prefilterS'+'amplesUnwe'+'ighted','ggx':'prefilterS'+'amples'},_0x2a9016=_0x1abb62['hasOwnProp'+'erty']('specularPo'+'wer')?_0x1abb62['specularPo'+'wer']:-0x1d36+0x1123+-0x2*-0x60a,_0x55e247=_0x1abb62['hasOwnProp'+'erty']('face')?_0x1abb62['face']:null,_0x392234=_0x1abb62['hasOwnProp'+'erty']('distributi'+'on')?_0x1abb62['distributi'+'on']:_0x2a9016===-0x1*0x91f+-0x859*-0x3+-0xfeb?'none':'phong',_0x11e3fc=_0x2559b8[_0x392234]||'reproject',_0x5b5a62=_0x11e3fc['startsWith']('prefilterS'+'amples'),_0x3edf60=Tr['decodeFunc'](_0x8fcfc8['encoding']),_0x45cb59=Tr['encodeFunc'](_0x157f28['encoding']),_0x5d825d='sample'+z_(_0x8fcfc8['projection']),_0x4e07f3='getDirecti'+'on'+z_(_0x157f28['projection']),_0x2cf00b=_0x1abb62['hasOwnProp'+'erty']('numSamples')?_0x1abb62['numSamples']:-0x1024+0x18a2+-0x47e,_0xfbae6e='ReprojectS'+'hader:'+_0x11e3fc+'_'+_0x3edf60+'_'+_0x45cb59+'_'+_0x5d825d+'_'+_0x4e07f3+'_'+_0x2cf00b,_0x535a08=_0x8fcfc8['device'];let _0x1ac33b=Hn(_0x535a08)['getCachedS'+'hader'](_0xfbae6e);if(!_0x1ac33b){const _0x2a4b39=new Map();_0x5b5a62&&_0x2a4b39['set']('USE_SAMPLE'+'S_TEX',''),_0x8fcfc8['cubemap']&&_0x2a4b39['set']('CUBEMAP_SO'+'URCE',''),_0x2a4b39['set']('{PROCESS_F'+'UNC}',_0x11e3fc),_0x2a4b39['set']('{DECODE_FU'+'NC}',_0x3edf60),_0x2a4b39['set']('{ENCODE_FU'+'NC}',_0x45cb59),_0x2a4b39['set']('{SOURCE_FU'+'NC}',_0x5d825d),_0x2a4b39['set']('{TARGET_FU'+'NC}',_0x4e07f3),_0x2a4b39['set']('{NUM_SAMPL'+'ES}',_0x2cf00b),_0x2a4b39['set']('{NUM_SAMPL'+'ES_SQRT}',Math['round'](Math['sqrt'](_0x2cf00b))['toFixed'](-0x137e+-0x1ead*0x1+0x26*0x152));const _0x1bae4f=_0x535a08['isWebGPU'],_0x21111a=Pe['get'](_0x535a08,_0x1bae4f?it:Fe),_0x6733fb=new Map();_0x6733fb['set']('decodePS',_0x21111a['get']('decodePS')),_0x6733fb['set']('encodePS',_0x21111a['get']('encodePS')),_0x1ac33b=$t['createShad'+'er'](_0x535a08,{'uniqueName':_0xfbae6e,'attributes':{'vertex_position':Me},'vertexChunk':'reprojectV'+'S','fragmentChunk':'reprojectP'+'S','fragmentIncludes':_0x6733fb,'fragmentDefines':_0x2a4b39});}Q['pushGpuMar'+'ker'](_0x535a08,'ReprojectT'+'exture'),_0x535a08['setBlendSt'+'ate'](pt['NOBLEND']);const _0x9b95e4=_0x535a08['scope']['resolve'](_0x8fcfc8['cubemap']?'sourceCube':'sourceTex');w['assert'](_0x9b95e4),_0x9b95e4['setValue'](_0x8fcfc8);const _0x505a4e=_0x535a08['scope']['resolve']('params'),_0x2c74cc=_0x535a08['scope']['resolve']('uvMod');_0x48f406>0x1af*0xe+-0x11dd+-0x1*0x5b5?_0x2c74cc['setValue']([(_0x359386+_0x48f406*(-0xa2b+0x1*0xd8b+-0x2*0x1af))/_0x359386,(_0x30c877+_0x48f406*(0x1*0x1fd6+-0x258e+0x1*0x5ba))/_0x30c877,-_0x48f406/_0x359386,-_0x48f406/_0x30c877]):_0x2c74cc['setValue']([-0x1e44+0x6b8+0x178d*0x1,0x264+0x2c9*0x1+-0x2*0x296,-0x87a*0x2+-0x1*0x1ac9+0x2bbd,-0x1830+-0x217e*0x1+-0x17*-0x282]);const _0x55ddc6=[-0x1*0x391+0x1a68+-0x1*0x16d7,_0x157f28['width']*_0x157f28['height']*(_0x157f28['cubemap']?0x2477+0x258a+0x49fb*-0x1:0x7f2+-0x22*0xd9+0x42d*0x5),_0x8fcfc8['width']*_0x8fcfc8['height']*(_0x8fcfc8['cubemap']?-0xab5+-0x1fb7+0x2a72:-0x1*-0x1fbf+0x1267*-0x1+-0xd57)];if(_0x5b5a62){const _0x56f652=_0x8fcfc8['width']*_0x8fcfc8['height']*(_0x8fcfc8['cubemap']?-0x37*-0x59+-0x17b9+0x94*0x8:0x2*-0x696+0x228a+-0x3*0x71f),_0x49420e=_0x392234==='ggx'?sb(_0x535a08,_0x2cf00b,_0x2a9016,_0x56f652):_0x392234==='lambert'?eb(_0x535a08,_0x2cf00b,_0x56f652):tb(_0x535a08,_0x2cf00b,_0x2a9016);_0x535a08['scope']['resolve']('samplesTex')['setValue'](_0x49420e),_0x535a08['scope']['resolve']('samplesTex'+'InverseSiz'+'e')['setValue']([(-0xb23*0x1+0x6*-0x47+0xcce)/_0x49420e['width'],(-0x1f0a+-0x1*0xf2d+0x2e38)/_0x49420e['height']]);}for(let _0x29e7cc=-0xf*-0x108+0x4ff*0x2+-0x1976;_0x29e7cc<(_0x157f28['cubemap']?0x238b*0x1+-0x25c3*0x1+0x52*0x7:0x17e2+-0x902*0x2+-0x5dd);_0x29e7cc++)if(_0x55e247===null||_0x29e7cc===_0x55e247){const _0x233259=new gt({'colorBuffer':_0x157f28,'face':_0x29e7cc,'depth':!(0x1b23+0x12b*0x2+-0x1d78),'flipY':_0x535a08['isWebGPU']});_0x55ddc6[0x1a10+-0xd99*0x1+-0xc77]=_0x29e7cc,_0x505a4e['setValue'](_0x55ddc6),Ar(_0x535a08,_0x233259,_0x1ac33b,_0x1abb62==null?void(0x1c49+0xe94+-0x2add):_0x1abb62['rect']),_0x233259['destroy']();}return Q['popGpuMark'+'er'](_0x535a08),!(-0x29*-0xbb+0x2*-0x1d+-0x1db9);}const Kd=(_0x12e5e5,_0x1767f4=0x17a2+0x1*0x19ef+0x3191*-0x1)=>0xc*-0x218+-0x102d+0x1*0x294e+Math['floor'](Math['log2'](Math['max'](_0x12e5e5,_0x1767f4))),ib=_0x2ebf79=>_0x2ebf79['textureHal'+'fFloatRend'+'erable'],rb=_0x461cfc=>_0x461cfc['textureFlo'+'atRenderab'+'le'],ab=_0x5a4e5d=>ib(_0x5a4e5d)?nt:rb(_0x5a4e5d)?Xt:Ne,nb=_0x315e12=>Ne,ob=(_0x57c7e8,_0x300322,_0x4d575c,_0xfeecbb)=>new _e(_0x57c7e8,{'name':'lighting-'+_0x300322,'cubemap':!(0x130f+-0xb*-0x24a+-0x3*0xebf),'width':_0x300322,'height':_0x300322,'format':_0x4d575c,'type':Qo,'addressU':ue,'addressV':ue,'mipmaps':!(0x4cf+0x26a*0xa+-0xf7*0x1e)});class Tv{static['generateSk'+'yboxCubema'+'p'](_0x48fac9,_0x3c817f){const _0x20bf38=_0x48fac9['device'];Q['pushGpuMar'+'ker'](_0x20bf38,'genSkyboxC'+'ubemap');const _0x5c573f=ob(_0x20bf38,_0x3c817f||(_0x48fac9['cubemap']?_0x48fac9['width']:_0x48fac9['width']/(-0x77e+-0x628+0x42*0x35)),Ne);return vi(_0x48fac9,_0x5c573f,{'numSamples':0x400}),Q['popGpuMark'+'er'](_0x20bf38),_0x5c573f;}static['generateLi'+'ghtingSour'+'ce'](_0x34a2bd,_0x5b6cea){const _0x4c15dd=_0x34a2bd['device'];Q['pushGpuMar'+'ker'](_0x4c15dd,'genLightin'+'gSource');const _0x29b295=ab(_0x4c15dd),_0x1af85f=(_0x5b6cea==null?void(0x93c+0x1bef+-0x252b):_0x5b6cea['target'])||new _e(_0x4c15dd,{'name':'lighting-s'+'ource','cubemap':!(0xf97*-0x2+-0x3*-0x55c+0x2*0x78d),'width':(_0x5b6cea==null?void(-0x1e43+0x54f+0x18f4):_0x5b6cea['size'])||0x49*0x5f+0x5*-0x772+0xaa3,'height':(_0x5b6cea==null?void(-0xb*0x12b+0x19e+0xb3b):_0x5b6cea['size'])||0x8d*0x3a+-0xa90+-0x14e2,'format':_0x29b295,'type':_0x29b295===Ne?Qo:Ds,'addressU':ue,'addressV':ue,'mipmaps':!(0x14a8+-0x4*-0x744+-0x31b8)});return vi(_0x34a2bd,_0x1af85f,{'numSamples':_0x34a2bd['mipmaps']?0x3c3*-0x1+0x15ac+-0x11e8:-0x2209+-0x1115*-0x1+0x9*0x254}),Q['popGpuMark'+'er'](_0x4c15dd),_0x1af85f;}static['generateAt'+'las'](_0x54fbe4,_0x2b419d){const _0x65d32=_0x54fbe4['device'],_0x2ee2d1=nb();Q['pushGpuMar'+'ker'](_0x65d32,'genAtlas');const _0x558626=(_0x2b419d==null?void(-0x612+0x4b*-0x67+-0x243f*-0x1):_0x2b419d['target'])||new _e(_0x65d32,{'name':'envAtlas','width':(_0x2b419d==null?void(0x2d*-0x9+0x2*0x1181+0x2b*-0xc7):_0x2b419d['size'])||-0x1eec+-0x7b+-0x2167*-0x1,'height':(_0x2b419d==null?void(-0x23b9+-0x9*0x432+0x497b):_0x2b419d['size'])||0x68*0x29+0x1183+-0x202b,'format':_0x2ee2d1,'type':Qo,'projection':Vm,'addressU':ue,'addressV':ue,'mipmaps':!(0x111*0x17+0xd*-0x12e+-0x930)});Q['pushGpuMar'+'ker'](_0x65d32,'mipmaps');const _0x26c04b=_0x558626['width']/(-0x1*0x2451+-0x10d5+-0x43e*-0xd),_0x3eb8d3=new re(0x2391*0x1+0x12c4+-0x3655,0x2dc+0x1bfe+-0x1eda,(0x1*0xaf6+0xc8*0x1a+-0x9c2*0x3)*_0x26c04b,(0x26d9+-0x4a*-0x70+-0x4639)*_0x26c04b),_0x529fa4=Kd(-0xd*-0x5b+-0x335+0x2*-0x35)-Kd(0x2*-0x7fd+0x2170+-0x1172);for(let _0x2d6c7b=-0x7*-0x277+-0x1*-0x1319+-0x245a;_0x2d6c7b<_0x529fa4;++_0x2d6c7b)vi(_0x54fbe4,_0x558626,{'numSamples':0x1,'rect':_0x3eb8d3,'seamPixels':_0x26c04b}),_0x3eb8d3['x']+=_0x3eb8d3['w'],_0x3eb8d3['y']+=_0x3eb8d3['w'],_0x3eb8d3['z']=Math['max'](-0x197a*0x1+-0xa5b+0x23d6,Math['floor'](_0x3eb8d3['z']*(-0x1*0x475+0x289*0x6+0xac1*-0x1+0.5))),_0x3eb8d3['w']=Math['max'](0x8a1+0xe4d+-0x16ed,Math['floor'](_0x3eb8d3['w']*(-0x1fb0+0x24fe+-0x54e+0.5)));Q['popGpuMark'+'er'](_0x65d32),Q['pushGpuMar'+'ker'](_0x65d32,'reflection'+'s'),_0x3eb8d3['set'](-0x8*-0x35+0x2e5+0x1*-0x48d,(-0x1571+0x20f*0x1+0x1462)*_0x26c04b,(-0x2678+-0x1cfe+0x4476)*_0x26c04b,(-0x29*0x65+0x1111+-0x64)*_0x26c04b);for(let _0x9d2b02=0x5c8+0x2570+0x2b37*-0x1;_0x9d2b02<-0x6*-0x5dd+0x188*0x7+0x1*-0x2ddf;++_0x9d2b02)vi(_0x54fbe4,_0x558626,{'numSamples':(_0x2b419d==null?void(-0x1*-0x529+-0x112*0x15+0x1151):_0x2b419d['numReflect'+'ionSamples'])||-0x3*0x81f+-0x7e9+0x2446,'distribution':(_0x2b419d==null?void(0x2*-0x1183+0xa2c+0x18da*0x1):_0x2b419d['distributi'+'on'])||'ggx','specularPower':Math['max'](-0x1*-0x201e+-0x189b+-0x782*0x1,0x14de+0x1a67+-0x2745>>_0x9d2b02*(0x183d+0x27c+-0x1*0x1ab7)),'rect':_0x3eb8d3,'seamPixels':_0x26c04b}),_0x3eb8d3['y']+=_0x3eb8d3['w'],_0x3eb8d3['z']=Math['max'](-0xe*-0xe+-0x10b4+0x7*0x247,Math['floor'](_0x3eb8d3['z']*(-0x1d88+0xb7+-0x1*-0x1cd1+0.5))),_0x3eb8d3['w']=Math['max'](-0x645+0xbb7*-0x2+0x1db4,Math['floor'](_0x3eb8d3['w']*(0x1*-0x54+-0x1d36+-0xc7*-0x26+0.5)));return Q['popGpuMark'+'er'](_0x65d32),Q['pushGpuMar'+'ker'](_0x65d32,'ambient'),_0x3eb8d3['set']((0x1202+-0x1fe7*0x1+-0x5*-0x2e1)*_0x26c04b,(-0x15a2+0x810*-0x2+-0x192*-0x19)*_0x26c04b,(0x1b8d*0x1+0x188c+-0x33d9)*_0x26c04b,(0xc4b*0x1+-0x4d*0x7+-0xb8*0xe)*_0x26c04b),vi(_0x54fbe4,_0x558626,{'numSamples':(_0x2b419d==null?void(0x1cc1*0x1+0x7b2+-0x2473):_0x2b419d['numAmbient'+'Samples'])||-0x1*0x1747+-0x5e3+0x252a,'distribution':'lambert','rect':_0x3eb8d3,'seamPixels':_0x26c04b}),Q['popGpuMark'+'er'](_0x65d32),Q['popGpuMark'+'er'](_0x65d32),_0x558626;}static['generatePr'+'efilteredA'+'tlas'](_0x5b909f,_0x7d2e89){const _0x447aec=_0x5b909f[0x14da+-0x88f*0x2+-0x3bc*0x1]['device'],_0x23f449=_0x5b909f[-0x1075+0x113f+0x2*-0x65]['format'],_0x14b564=_0x5b909f[-0x1*-0xf82+0x2045+-0x9*0x54f]['type'];Q['pushGpuMar'+'ker'](_0x447aec,'genPrefilt'+'eredAtlas');const _0x4d4deb=(_0x7d2e89==null?void(-0x2579*0x1+-0x24e6+0x4a5f):_0x7d2e89['target'])||new _e(_0x447aec,{'name':'envPrefilt'+'eredAtlas','width':(_0x7d2e89==null?void(0x1d3*-0x11+0x120c+-0xcf7*-0x1):_0x7d2e89['size'])||0x1134+-0x158*-0x1a+-0x3224,'height':(_0x7d2e89==null?void(0x1eb6+-0x19c1*0x1+-0x4f5):_0x7d2e89['size'])||0x16*-0xe9+-0x127c+-0xa*-0x40d,'format':_0x23f449,'type':_0x14b564,'projection':Vm,'addressU':ue,'addressV':ue,'mipmaps':!(-0x6f5+0x2*-0x146+0x982)});Q['pushGpuMar'+'ker'](_0x447aec,'mipmaps');const _0x137d10=_0x4d4deb['width']/(-0x2655+0x3*-0x3e7+0x1*0x340a),_0x193923=new re(0x7*0x25b+-0x1a6b+0x9ee,-0x8fc+0x101b+-0x71f,(0x9aa*-0x1+0x191f*-0x1+-0x49*-0x81)*_0x137d10,(0x711*-0x3+0x24f7+-0xec4)*_0x137d10),_0x47ccbe=Kd(0x1*-0x24f9+-0x78e*-0x4+-0x53*-0x1b);for(let _0x37d1a3=-0x2550+-0x12*-0xc4+-0xfb*-0x18;_0x37d1a3<_0x47ccbe;++_0x37d1a3)vi(_0x5b909f[0x11bb+0x1cc+-0x1*0x1387],_0x4d4deb,{'numSamples':0x1,'rect':_0x193923,'seamPixels':_0x137d10}),_0x193923['x']+=_0x193923['w'],_0x193923['y']+=_0x193923['w'],_0x193923['z']=Math['max'](0x41+-0x83*-0x11+-0x8f3,Math['floor'](_0x193923['z']*(0x1344+-0xc5+-0x127f*0x1+0.5))),_0x193923['w']=Math['max'](-0x971+-0x16f7+0x2069*0x1,Math['floor'](_0x193923['w']*(-0x1939*-0x1+-0x2*-0x1387+-0x3*0x156d+0.5)));Q['popGpuMark'+'er'](_0x447aec),Q['pushGpuMar'+'ker'](_0x447aec,'reflection'+'s'),_0x193923['set'](-0x150b+-0x131b*-0x1+0x1f0*0x1,(0x1*0x92b+0x7*0x403+-0x2440)*_0x137d10,(0x3*0xa34+0x254c+0x8*-0x85d)*_0x137d10,(0x328+-0xe3c*0x2+0x19d0)*_0x137d10);for(let _0x4a3cd1=-0x1*-0x1eef+0x1*0x97a+-0x2868*0x1;_0x4a3cd1<_0x5b909f['length'];++_0x4a3cd1)vi(_0x5b909f[_0x4a3cd1],_0x4d4deb,{'numSamples':0x1,'rect':_0x193923,'seamPixels':_0x137d10}),_0x193923['y']+=_0x193923['w'],_0x193923['z']=Math['max'](0x33b+-0x17f*-0x17+-0x25a3,Math['floor'](_0x193923['z']*(0x221c+-0x129f*0x1+0x319*-0x5+0.5))),_0x193923['w']=Math['max'](0x1d84+0x1a34+-0x37b7,Math['floor'](_0x193923['w']*(0x8d*0xc+-0x886*-0x1+-0x1a*0x95+0.5)));return Q['popGpuMark'+'er'](_0x447aec),Q['pushGpuMar'+'ker'](_0x447aec,'ambient'),_0x193923['set']((-0x220a+0x1d47+0x543*0x1)*_0x137d10,(0xc1*0x1a+-0x45*0x1+-0x1*0x11d5)*_0x137d10,(-0x1*-0x24be+-0x197c+-0x581*0x2)*_0x137d10,(-0x178*-0x1a+0x97e+-0x2f8e)*_0x137d10),_0x7d2e89!=null&&_0x7d2e89['legacyAmbi'+'ent']?vi(_0x5b909f[-0x215b*0x1+0x1b4c+0x30a*0x2],_0x4d4deb,{'numSamples':0x1,'rect':_0x193923,'seamPixels':_0x137d10}):vi(_0x5b909f[0xa3c+0x1*0x663+-0x353*0x5],_0x4d4deb,{'numSamples':(_0x7d2e89==null?void(-0x22e6+-0x8*-0x2fe+-0xaf6*-0x1):_0x7d2e89['numSamples'])||-0x12ec+-0x1361+0x2e4d,'distribution':'lambert','rect':_0x193923,'seamPixels':_0x137d10}),Q['popGpuMark'+'er'](_0x447aec),Q['popGpuMark'+'er'](_0x447aec),_0x4d4deb;}}const lb={'aoPS':'1.57','clearCoatPS':'1.57','clearCoatGlossPS':'1.60','clearCoatNormalPS':'1.57','diffusePS':'1.57','emissivePS':'1.57','glossPS':'1.60','metalnessPS':'1.57','normalMapPS':'1.57','opacityPS':'1.57','parallaxPS':'1.57','sheenPS':'1.57','sheenGlossPS':'1.60','specularPS':'1.57','specularityFactorPS':'1.57','thicknessPS':'1.57','transmissionPS':'1.57','normalVertexPS':'1.55','aoDiffuseOccPS':'1.62','aoSpecOccPS':'2.6','clusteredLightPS':'1.62','clusteredLightShadowPS':'1.62','combinePS':'1.62','falloffInvSquaredPS':'1.62','falloffLinearPS':'1.62','lightDiffuseLambertPS':'1.62','lightSheenPS':'1.62','lightSpecularAnisoGGXPS':'1.62','lightSpecularBlinnPS':'1.62','ltcPS':'1.62','reflDirPS':'1.62','reflDirAnisoPS':'1.62','reflectionCCPS':'1.62','reflectionCubePS':'2.6','reflectionEnvPS':'2.6','reflectionEnvHQPS':'2.6','reflectionSpherePS':'2.6','reflectionSheenPS':'1.62','shadowCommonPS':'1.62','shadowCoordPS':'1.62','shadowCoordPerspZBufferPS':'1.62','shadowEVSMPS':'1.62','spotPS':'1.62','TBNPS':'1.62','endPS':'1.65','metalnessModulatePS':'1.65','outputAlphaPS':'1.65','outputAlphaPremulPS':'1.65','fresnelSchlickPS':'1.65','iridescenceDiffractionPS':'1.65','lightmapAddPS':'1.65','refractionCubePS':'1.70','refractionDynamicPS':'1.70'},V_={'ambientPrefilteredCubePS':'1.51','ambientPrefilteredCubeLodPS':'1.51','dpAtlasQuadPS':'1.51','genParaboloidPS':'1.51','prefilterCubemapPS':'1.51','reflectionDpAtlasPS':'1.51','reflectionPrefilteredCubePS':'1.51','reflectionPrefilteredCubeLodPS':'1.51','refractionPS':'1.56','combineClearCoatPS':'1.56','combineDiffusePS':'1.56','combineDiffuseSpecularPS':'1.56','combineDiffuseSpecularNoReflPS':'1.56','combineDiffuseSpecularNoReflSeparateAmbientPS':'1.56','combineDiffuseSpecularOldPS':'1.56','lightmapSingleVertPS':'1.55','normalMapFastPS':'1.55','specularAaNonePS':'1.55','specularAaToksvigPS':'1.55','specularAaToksvigFastPS':'1.55','skyboxEnvPS':'2.1','skyboxHDRPS':'2.1','shadowVSM8PS':'2.3','fogExpPS':'2.5','fogExp2PS':'2.5','fogLinearPS':'2.5','fogNonePS':'2.5','gamma1_0PS':'2.5','gamma2_2PS':'2.5','storeEVSMPS':'2.6','shadowEVSMnPS':'2.6','shadowVSM_commonPS':'2.6','shadowStandardPS':'2.6','shadowStandardGL2PS':'2.6','startVS':'2.6','endVS':'2.6','baseVS':'2.6','baseNineSlicedVS':'2.6','viewNormalVS':'2.6','lightmapDirAddPS':'2.6','TBNObjectSpacePS':'2.6','TBNderivativePS':'2.6','startPS':'2.6','outputAlphaOpaque':'2.6','outputAlphaPremul':'2.6','cubeMapProjectBoxPS':'2.6','cubeMapProjectNonePS':'2.6','envMultiplyPS':'2.6','envConstPS':'2.6','aoSpecOccConstPS':'2.6','aoSpecOccConstSimplePS':'2.6','aoSpecOccSimplePS':'2.6','ambientConstantPS':'2.6','ambientEnvPS':'2.6','ambientSHPS':'2.6','shadowSampleCoordPS':'2.6','diffuseDetailMapPS':'2.7','normalDetailMapPS':'2.7','normalXYPS':'2.7','normalXYZPS':'2.7','aoDetailMapPS':'2.7','lightmapDirPS':'2.7','lightmapSinglePS':'2.7','tangentBinormalVS':'2.7'},cb=(_0x1b75f7,_0x3234d4)=>{const _0x287ed2=_0x1b75f7['split']('.')['map'](_0x3673d6=>parseInt(_0x3673d6,0x358+-0x225d+-0x1*-0x1f0f)),_0x4c5ecb=_0x3234d4['split']('.')['map'](_0x1e4bf9=>parseInt(_0x1e4bf9,-0x1*0xfd9+0x1*-0x563+0x30a*0x7));return _0x287ed2[0x151*0xd+0x1*0x263b+0x508*-0xb]<_0x4c5ecb[0x2318+-0x1b*0x7+-0x225b]||_0x287ed2[0x2*-0xcf5+-0x114b+-0x9*-0x4cd]===_0x4c5ecb[0x29*-0x9a+0xa80*0x2+-0x1*-0x3aa]&&_0x287ed2[-0xe*0xb2+0xf01+-0x544]<_0x4c5ecb[0x6d3*0x1+-0x1*-0xac6+-0x1198];},hb=(_0x40b33a,_0x4d7f2b)=>{for(const _0x2ef595 of _0x40b33a['keys']())if(V_['hasOwnProp'+'erty'](_0x2ef595)){const _0x5ef0bc=V_[_0x2ef595];w['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x2ef595+('\x27\x20was\x20remo'+'ved\x20in\x20API'+'\x20')+_0x5ef0bc+('\x20and\x20is\x20no'+'\x20longer\x20su'+'pported.'));}else{const _0x1c74a7=lb[_0x2ef595];_0x1c74a7&&(!_0x4d7f2b||cb(_0x4d7f2b,_0x1c74a7))&&w['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x2ef595+('\x27\x20is\x20API\x20v'+'ersion\x20')+_0x1c74a7+(',\x20but\x20the\x20'+'supplied\x20c'+'hunk\x20is\x20ve'+'rsion\x20')+(_0x4d7f2b||'undefined')+('.\x20Please\x20u'+'pdate\x20to\x20t'+'he\x20latest\x20'+'API:\x20https'+'://develop'+'er.playcan'+'vas.com/us'+'er-manual/'+'graphics/s'+'hader-chun'+'k-migratio'+'ns/'));}},Zd={'vertex_normal':gs,'vertex_tangent':yi,'vertex_texCoord0':is,'vertex_texCoord1':ba,'vertex_color':Wt,'vertex_boneWeights':gi,'vertex_boneIndices':us};class db{constructor(_0x34a41e,_0x2c52a1,_0x4e7549=!(0x1740+0x17c6+-0x1a*0x1cf)){h(this,'varyingsCo'+'de',''),h(this,'device'),h(this,'options'),h(this,'shaderLang'+'uage'),h(this,'vDefines',new Map()),h(this,'fDefines',new Map()),h(this,'includes',new Map()),h(this,'chunks',null),(this['device']=_0x34a41e,this['options']=_0x2c52a1);const _0x2b5a0e=_0x2c52a1['shaderChun'+'ks'];if(this['shaderLang'+'uage']=_0x34a41e['isWebGPU']&&_0x4e7549&&(_0x2b5a0e!=null&&_0x2b5a0e['useWGSL'])?it:Fe,this['attributes']={'vertex_position':Me},_0x2c52a1['userAttrib'+'utes']){for(const [_0x1f9afb,_0x13c2c3]of Object['entries'](_0x2c52a1['userAttrib'+'utes']))this['attributes'][_0x13c2c3]=_0x1f9afb;}const _0x2d6e64=Pe['get'](_0x34a41e,this['shaderLang'+'uage']);if(this['chunks']=new Map(_0x2d6e64),_0x2b5a0e){const _0x4cc48c=this['shaderLang'+'uage']===Fe?_0x2b5a0e['glsl']:_0x2b5a0e['wgsl'];w['call'](()=>{hb(_0x4cc48c,_0x2b5a0e['version']);}),_0x4cc48c['forEach']((_0x3fa5d4,_0x1c58cb)=>{for(const _0x3a4308 in Zd)Zd['hasOwnProp'+'erty'](_0x3a4308)&&_0x3fa5d4['indexOf'](_0x3a4308)>=-0x4*0x287+-0x329+-0x4f*-0x2b&&(this['attributes'][_0x3a4308]=Zd[_0x3a4308]);this['chunks']['set'](_0x1c58cb,_0x3fa5d4);});}this['shaderPass'+'Info']=Si['get'](this['device'])['getByIndex'](_0x2c52a1['pass']),this['shadowPass']=this['shaderPass'+'Info']['isShadow'],this['lighting']=_0x2c52a1['lights']['length']>-0x11*-0x180+0x1ecd+-0x384d||_0x2c52a1['dirLightMa'+'pEnabled']||_0x2c52a1['clusteredL'+'ightingEna'+'bled'],this['reflection'+'s']=_0x2c52a1['reflection'+'Source']!==vr,this['needsNorma'+'l']=this['lighting']||this['reflection'+'s']||_0x2c52a1['useSpecula'+'r']||_0x2c52a1['ambientSH']||_0x2c52a1['useHeights']||_0x2c52a1['enableGGXS'+'pecular']||_0x2c52a1['clusteredL'+'ightingEna'+'bled']&&!this['shadowPass']||_0x2c52a1['useClearCo'+'atNormals'],this['needsNorma'+'l']=this['needsNorma'+'l']&&!this['shadowPass'],this['needsScene'+'Color']=_0x2c52a1['useDynamic'+'Refraction'],this['needsScree'+'nSize']=_0x2c52a1['useDynamic'+'Refraction'],this['needsTrans'+'forms']=_0x2c52a1['useDynamic'+'Refraction'],this['vshader']=null,this['fshader']=null;}['fDefineSet'](_0x1d662c,_0x4a036a,_0x12ee48=''){_0x1d662c&&this['fDefines']['set'](_0x4a036a,_0x12ee48);}['generateVe'+'rtexShader'](_0x3d64bc,_0x266c9a,_0x4269de){const {options:_0x145a0f,vDefines:_0x329ee2,attributes:_0x5ece91}=this,_0x10908d=new Map();if(_0x10908d['set']('vPositionW','vec3'),(_0x145a0f['nineSliced'+'Mode']===Pt||_0x145a0f['nineSliced'+'Mode']===Mt)&&_0x329ee2['set']('NINESLICED',!(0x1eff+0x1731+0x363*-0x10)),this['options']['linearDept'+'h']&&(_0x329ee2['set']('LINEAR_DEP'+'TH',!(0xd6c+-0x263+-0x5*0x235)),_0x10908d['set']('vLinearDep'+'th','float')),this['needsNorma'+'l']&&_0x329ee2['set']('NORMALS',!(0x1*0xb6f+0x1*-0x23d7+-0x47*-0x58)),this['options']['useInstanc'+'ing']){const _0x20b287=Pe['get'](this['device'],this['shaderLang'+'uage']);this['chunks']['get']('transformI'+'nstancingV'+'S')===_0x20b287['get']('transformI'+'nstancingV'+'S')&&(_0x5ece91['instance_l'+'ine1']=Mp,_0x5ece91['instance_l'+'ine2']=Dp,_0x5ece91['instance_l'+'ine3']=Ip,_0x5ece91['instance_l'+'ine4']=Ln);}this['needsNorma'+'l']&&(_0x5ece91['vertex_nor'+'mal']=gs,_0x10908d['set']('vNormalW','vec3'),_0x145a0f['hasTangent'+'s']&&(_0x145a0f['useHeights']||_0x145a0f['useNormals']||_0x145a0f['useClearCo'+'atNormals']||_0x145a0f['enableGGXS'+'pecular'])?(_0x329ee2['set']('TANGENTS',!(0x44b*-0x2+0x1f*-0xf1+-0xc97*-0x3)),_0x5ece91['vertex_tan'+'gent']=yi,_0x10908d['set']('vTangentW','vec3'),_0x10908d['set']('vBinormalW','vec3')):_0x145a0f['enableGGXS'+'pecular']&&(_0x329ee2['set']('GGX_SPECUL'+'AR',!(0x17*-0x42+0x1d87*-0x1+0x2375)),_0x10908d['set']('vObjectSpa'+'ceUpW','vec3')));const _0x205fd3=0x1*-0x20ed+-0x779*-0x1+0x1976;for(let _0x3154d4=0x1*-0x4c7+0x6d*0x59+-0x211e;_0x3154d4<_0x205fd3;_0x3154d4++)_0x3d64bc[_0x3154d4]&&(_0x329ee2['set']('UV'+_0x3154d4,!(-0x18c5*0x1+0x2452+-0xb8d)),_0x5ece91['vertex_tex'+'Coord'+_0x3154d4]='TEXCOORD'+_0x3154d4),_0x266c9a[_0x3154d4]&&(_0x329ee2['set']('UV'+_0x3154d4+('_UNMODIFIE'+'D'),!(-0x309+-0x3c5+0x86*0xd)),_0x10908d['set']('vUv'+_0x3154d4,'vec2'));let _0x2f0ea5=-0x24df+-0xe5+0x12e2*0x2;const _0xd68a8d=new Set();_0x4269de['forEach'](_0x175f4a=>{const {id:_0x2406bf,uv:_0x5b376e,name:_0x732485}=_0x175f4a,_0x4d1955=_0x2406bf+_0x5b376e*(0x2e*0x3b+0x827+-0x125d);if(!_0xd68a8d['has'](_0x4d1955)){_0xd68a8d['add'](_0x4d1955),_0x10908d['set']('vUV'+_0x5b376e+'_'+_0x2406bf,'vec2');const _0x36e594='texture_'+_0x732485+('MapTransfo'+'rm');_0x329ee2['set']('{TRANSFORM'+'_NAME_'+_0x2f0ea5+'}',_0x36e594),_0x329ee2['set']('{TRANSFORM'+'_UV_'+_0x2f0ea5+'}',_0x5b376e),_0x329ee2['set']('{TRANSFORM'+'_ID_'+_0x2f0ea5+'}',_0x2406bf),_0x2f0ea5++;}}),_0x329ee2['set']('UV_TRANSFO'+'RMS_COUNT',_0x2f0ea5),_0x145a0f['vertexColo'+'rs']&&(_0x5ece91['vertex_col'+'or']=Wt,_0x329ee2['set']('VERTEX_COL'+'OR',!(-0x17c2+-0x199e+-0xa0*-0x4f)),_0x10908d['set']('vVertexCol'+'or','vec4')),_0x145a0f['useMsdf']&&_0x145a0f['msdfTextAt'+'tribute']&&(_0x5ece91['vertex_out'+'lineParame'+'ters']=Ko,_0x5ece91['vertex_sha'+'dowParamet'+'ers']=Zo,_0x329ee2['set']('MSDF',!(-0x6c8+0x8*-0x427+0x2800))),(_0x145a0f['useMorphPo'+'sition']||_0x145a0f['useMorphNo'+'rmal'])&&(_0x329ee2['set']('MORPHING',!(0x14b1+-0x964+-0x1*0xb4d)),_0x145a0f['useMorphTe'+'xtureBased'+'Int']&&_0x329ee2['set']('MORPHING_I'+'NT',!(-0x48d+-0x20f7+0x2584)),_0x145a0f['useMorphPo'+'sition']&&_0x329ee2['set']('MORPHING_P'+'OSITION',!(-0x5cb*0x3+0x3*-0x416+0x1da3)),_0x145a0f['useMorphNo'+'rmal']&&_0x329ee2['set']('MORPHING_N'+'ORMAL',!(-0x88b+0x1*0x25b+0x630)),_0x5ece91['morph_vert'+'ex_id']=Ln),_0x145a0f['skin']&&(_0x5ece91['vertex_bon'+'eIndices']=us,_0x145a0f['batch']?_0x329ee2['set']('BATCH',!(-0x1520+-0xb9d*0x1+-0x20bd*-0x1)):(_0x5ece91['vertex_bon'+'eWeights']=gi,_0x329ee2['set']('SKIN',!(0x14*0xf2+0xd81*-0x1+-0x3*0x1cd)))),_0x145a0f['useInstanc'+'ing']&&_0x329ee2['set']('INSTANCING',!(0x1f*0x67+-0x2c*-0x3e+-0x1*0x1721)),_0x145a0f['screenSpac'+'e']&&_0x329ee2['set']('SCREENSPAC'+'E',!(-0x22c3+0x1*0x1ac7+-0x1*-0x7fc)),_0x145a0f['pixelSnap']&&_0x329ee2['set']('PIXELSNAP',!(-0x6*0x4fc+-0x580*0x1+0x2368)),_0x10908d['forEach']((_0x479fbf,_0x4e53b2)=>{this['varyingsCo'+'de']+='#define\x20VA'+'RYING_'+_0x4e53b2['toUpperCas'+'e']()+'\x0a',this['varyingsCo'+'de']+=this['shaderLang'+'uage']===it?'varying\x20'+_0x4e53b2+':\x20'+Fy['get'](_0x479fbf)+';\x0a':'varying\x20'+_0x479fbf+'\x20'+_0x4e53b2+';\x0a';}),this['includes']['set']('varyingsVS',this['varyingsCo'+'de']),this['includes']['set']('varyingsPS',this['varyingsCo'+'de']),this['vshader']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22litMain'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20';}['_setupLigh'+'tingDefine'+'s'](_0x5cda70,_0x3832f2){const _0x4ee712=this['fDefines'],_0x42febb=this['options'];if(this['fDefines']['set']('LIGHT_COUN'+'T',_0x42febb['lights']['length']),_0x5cda70&&_0x4ee712['set']('AREA_LIGHT'+'S',!(0x158c+0x25c2+-0x3b4e)),_0x3832f2&&this['lighting']&&(_0x4ee712['set']('LIT_CLUSTE'+'RED_LIGHTS',!(0x1*-0x243a+0x363+0x20d7)),_0x42febb['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x4ee712['set']('CLUSTER_CO'+'OKIES',!(-0x7a5+-0x1*0x1bdf+0x2384)),_0x42febb['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&_0x4ee712['set']('CLUSTER_AR'+'EALIGHTS',!(0x15*0x83+0x2*0xfa7+-0x2a0d)),_0x42febb['lightMaskD'+'ynamic']&&_0x4ee712['set']('CLUSTER_ME'+'SH_DYNAMIC'+'_LIGHTS',!(-0x162c+0xdfb+0x831)),_0x42febb['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x42febb['noShadow'])){const _0x19ed4e=qi['get'](_0x42febb['clusteredL'+'ightingSha'+'dowType']);_0x4ee712['set']('CLUSTER_SH'+'ADOWS',!(-0x12*-0x14c+0x1024+0x13be*-0x2)),_0x4ee712['set']('SHADOW_KIN'+'D_'+_0x19ed4e['kind'],!(0x1f6a*0x1+-0xbf*-0x1f+-0x368b*0x1)),_0x4ee712['set']('CLUSTER_SH'+'ADOW_TYPE_'+_0x19ed4e['kind'],!(0x1*-0x40d+0x1954+0x1547*-0x1));}for(let _0x30b725=0x7f8+0x3*0x1d5+-0xd77;_0x30b725<_0x42febb['lights']['length'];_0x30b725++){const _0x4e2057=_0x42febb['lights'][_0x30b725],_0x956ae5=_0x4e2057['_type'];if(_0x3832f2&&_0x956ae5!==ve)continue;const _0x52e6d3=_0x5cda70&&_0x4e2057['_shape']?_0x4e2057['_shape']:Ys,_0x50d9d1=_0x4e2057['_shadowTyp'+'e'],_0x2de1a5=_0x4e2057['castShadow'+'s']&&!_0x42febb['noShadow'],_0x563b34=qi['get'](_0x50d9d1);w['assert'](_0x563b34),_0x4ee712['set']('LIGHT'+_0x30b725,!(0x332+0x2611*-0x1+0x22df)),_0x4ee712['set']('LIGHT'+_0x30b725+'TYPE',''+u_[_0x956ae5]),_0x4ee712['set']('LIGHT'+_0x30b725+'SHADOWTYPE',''+_0x563b34['name']),_0x4ee712['set']('LIGHT'+_0x30b725+'SHAPE',''+Fw[_0x52e6d3]),_0x4ee712['set']('LIGHT'+_0x30b725+'FALLOFF',''+Nw[_0x4e2057['_falloffMo'+'de']]),_0x4e2057['affectSpec'+'ularity']&&_0x4ee712['set']('LIGHT'+_0x30b725+('AFFECT_SPE'+'CULARITY'),!(-0x825+0x5c*-0x37+-0x1*-0x1be9)),_0x4e2057['_cookie']&&(_0x956ae5===Ze&&!_0x4e2057['_cookie']['_cubemap']||_0x956ae5===Ke&&_0x4e2057['_cookie']['_cubemap'])&&(_0x4ee712['set']('LIGHT'+_0x30b725+'COOKIE',!(-0x62a*0x1+-0xd*0x7f+0xc9d*0x1)),_0x4ee712['set']('{LIGHT'+_0x30b725+('COOKIE_CHA'+'NNEL}'),_0x4e2057['_cookieCha'+'nnel']),_0x956ae5===Ze&&(_0x4e2057['_cookieTra'+'nsform']&&_0x4ee712['set']('LIGHT'+_0x30b725+('COOKIE_TRA'+'NSFORM'),!(0xb2d+0x582*-0x5+0x105d)),_0x4e2057['_cookieFal'+'loff']&&_0x4ee712['set']('LIGHT'+_0x30b725+('COOKIE_FAL'+'LOFF'),!(-0x18e*-0x1+0x15a6+-0x1734)))),_0x2de1a5&&(_0x4ee712['set']('LIGHT'+_0x30b725+'CASTSHADOW',!(0x11f4+-0x1*-0xdff+0x1ff3*-0x1)),_0x563b34['pcf']&&_0x4ee712['set']('LIGHT'+_0x30b725+'SHADOW_PCF',!(0x16cb+0x1*-0x20e+-0x14bd)),_0x4e2057['_normalOff'+'setBias']&&!_0x4e2057['_isVsm']&&_0x4ee712['set']('LIGHT'+_0x30b725+('_SHADOW_SA'+'MPLE_NORMA'+'L_OFFSET'),!(0x241f+-0x1594+0x1*-0xe8b)),_0x956ae5===ve&&(_0x4ee712['set']('LIGHT'+_0x30b725+('_SHADOW_SA'+'MPLE_ORTHO'),!(0x57*-0x25+-0xbbf*-0x1+-0x35*-0x4)),_0x4e2057['cascadeBle'+'nd']>0x24b2+0x2*-0x4fd+-0x1ab8&&_0x4ee712['set']('LIGHT'+_0x30b725+('_SHADOW_CA'+'SCADE_BLEN'+'D'),!(-0x6*-0x1e7+0x83*-0xb+-0x5c9*0x1)),_0x4e2057['numCascade'+'s']>-0x489+-0x56f+-0x353*-0x3&&_0x4ee712['set']('LIGHT'+_0x30b725+('_SHADOW_CA'+'SCADES'),!(0x1edc+-0x8b9+-0x1623))),(_0x563b34['pcf']||_0x563b34['pcss']||this['device']['isWebGPU'])&&_0x4ee712['set']('LIGHT'+_0x30b725+('_SHADOW_SA'+'MPLE_SOURC'+'E_ZBUFFER'),!(0x3*-0x284+0x4*0x92c+-0x1d24)),_0x956ae5===Ke&&_0x4ee712['set']('LIGHT'+_0x30b725+('_SHADOW_SA'+'MPLE_POINT'),!(-0x634*0x5+-0x1*0x1dd7+-0x6c3*-0x9))),_0x2de1a5&&(_0x4ee712['set']('SHADOW_KIN'+'D_'+_0x563b34['kind'],!(-0xd17*0x2+0x1fa6+0x2*-0x2bc)),_0x956ae5===ve&&_0x4ee712['set']('SHADOW_DIR'+'ECTIONAL',!(0x2123+-0xb9b+0x1a*-0xd4)));}}['prepareFor'+'wardPass'](_0x285727){const {options:_0x12463b}=this,_0x44026e=_0x12463b['clusteredL'+'ightingEna'+'bled']&&_0x12463b['clusteredL'+'ightingAre'+'aLightsEna'+'bled']||_0x12463b['lights']['some'](_0x26f119=>_0x26f119['_shape']&&_0x26f119['_shape']!==Ys),_0x5b888c=!_0x12463b['lightMapEn'+'abled']||_0x12463b['lightMapWi'+'thoutAmbie'+'nt'],_0x5532e6=this['needsNorma'+'l']&&(_0x12463b['useNormals']||_0x12463b['useClearCo'+'atNormals']||_0x12463b['enableGGXS'+'pecular']&&!_0x12463b['useHeights']);_0x12463b['useSpecula'+'r']&&(this['fDefineSet'](!(0x45*-0x4b+-0xe*0x23c+0x1*0x337f),'LIT_SPECUL'+'AR'),this['fDefineSet'](this['reflection'+'s'],'LIT_REFLEC'+'TIONS'),this['fDefineSet'](_0x12463b['useClearCo'+'at'],'LIT_CLEARC'+'OAT'),this['fDefineSet'](_0x12463b['fresnelMod'+'el']>-0x1939+0x58a*-0x2+0x244d*0x1,'LIT_SPECUL'+'AR_FRESNEL'),this['fDefineSet'](_0x12463b['useSheen'],'LIT_SHEEN'),this['fDefineSet'](_0x12463b['useIridesc'+'ence'],'LIT_IRIDES'+'CENCE')),this['fDefineSet'](this['lighting']&&_0x12463b['useSpecula'+'r']||this['reflection'+'s'],'LIT_SPECUL'+'AR_OR_REFL'+'ECTION'),this['fDefineSet'](this['needsScene'+'Color'],'LIT_SCENE_'+'COLOR'),this['fDefineSet'](this['needsScree'+'nSize'],'LIT_SCREEN'+'_SIZE'),this['fDefineSet'](this['needsTrans'+'forms'],'LIT_TRANSF'+'ORMS'),this['fDefineSet'](this['needsNorma'+'l'],'LIT_NEEDS_'+'NORMAL'),this['fDefineSet'](this['lighting'],'LIT_LIGHTI'+'NG'),this['fDefineSet'](_0x12463b['useMetalne'+'ss'],'LIT_METALN'+'ESS'),this['fDefineSet'](_0x12463b['enableGGXS'+'pecular'],'LIT_GGX_SP'+'ECULAR'),this['fDefineSet'](_0x12463b['useSpecula'+'rityFactor'],'LIT_SPECUL'+'ARITY_FACT'+'OR'),this['fDefineSet'](_0x12463b['useCubeMap'+'Rotation'],'CUBEMAP_RO'+'TATION'),this['fDefineSet'](_0x12463b['occludeSpe'+'cularFloat'],'LIT_OCCLUD'+'E_SPECULAR'+'_FLOAT'),this['fDefineSet'](_0x12463b['separateAm'+'bient'],'LIT_SEPARA'+'TE_AMBIENT'),this['fDefineSet'](_0x12463b['twoSidedLi'+'ghting'],'LIT_TWO_SI'+'DED_LIGHTI'+'NG'),this['fDefineSet'](_0x12463b['lightMapEn'+'abled'],'LIT_LIGHTM'+'AP'),this['fDefineSet'](_0x12463b['dirLightMa'+'pEnabled'],'LIT_DIR_LI'+'GHTMAP'),this['fDefineSet'](_0x12463b['skyboxInte'+'nsity']>-0x1*-0x20d7+-0x212e+0x57,'LIT_SKYBOX'+'_INTENSITY'),this['fDefineSet'](_0x12463b['clusteredL'+'ightingSha'+'dowsEnable'+'d'],'LIT_CLUSTE'+'RED_SHADOW'+'S'),this['fDefineSet'](_0x12463b['clusteredL'+'ightingAre'+'aLightsEna'+'bled'],'LIT_CLUSTE'+'RED_AREA_L'+'IGHTS'),this['fDefineSet'](_0x5532e6,'LIT_TBN'),this['fDefineSet'](_0x5b888c,'LIT_ADD_AM'+'BIENT'),this['fDefineSet'](_0x12463b['hasTangent'+'s'],'LIT_TANGEN'+'TS'),this['fDefineSet'](_0x12463b['useNormals'],'LIT_USE_NO'+'RMALS'),this['fDefineSet'](_0x12463b['useClearCo'+'atNormals'],'LIT_USE_CL'+'EARCOAT_NO'+'RMALS'),this['fDefineSet'](_0x12463b['useRefract'+'ion'],'LIT_REFRAC'+'TION'),this['fDefineSet'](_0x12463b['useDynamic'+'Refraction'],'LIT_DYNAMI'+'C_REFRACTI'+'ON'),this['fDefineSet'](_0x12463b['dispersion'],'LIT_DISPER'+'SION'),this['fDefineSet'](_0x12463b['useHeights'],'LIT_HEIGHT'+'S'),this['fDefineSet'](_0x12463b['opacityFad'+'esSpecular'],'LIT_OPACIT'+'Y_FADES_SP'+'ECULAR'),this['fDefineSet'](_0x12463b['alphaToCov'+'erage'],'LIT_ALPHA_'+'TO_COVERAG'+'E'),this['fDefineSet'](_0x12463b['alphaTest'],'LIT_ALPHA_'+'TEST'),this['fDefineSet'](_0x12463b['useMsdf'],'LIT_MSDF'),this['fDefineSet'](_0x12463b['ssao'],'LIT_SSAO'),this['fDefineSet'](_0x12463b['useAo'],'LIT_AO'),this['fDefineSet'](_0x12463b['occludeDir'+'ect'],'LIT_OCCLUD'+'E_DIRECT'),this['fDefineSet'](_0x12463b['msdfTextAt'+'tribute'],'LIT_MSDF_T'+'EXT_ATTRIB'+'UTE'),this['fDefineSet'](_0x12463b['diffuseMap'+'Enabled'],'LIT_DIFFUS'+'E_MAP'),this['fDefineSet'](_0x12463b['shadowCatc'+'her'],'LIT_SHADOW'+'_CATCHER'),this['fDefineSet'](!(0xe2e+0x1*-0x739+-0x6f5),'LIT_FRESNE'+'L_MODEL',Rw[_0x12463b['fresnelMod'+'el']]),this['fDefineSet'](!(-0xc5*-0x2+-0x12*0xc4+0xc3e),'LIT_NONE_S'+'LICE_MODE',qw[_0x12463b['nineSliced'+'Mode']]),this['fDefineSet'](!(0xc54+-0x3*-0xc60+-0xc*0x41f),'LIT_BLEND_'+'TYPE',Yy[_0x12463b['blendType']]),this['fDefineSet'](!(-0x68*-0x10+-0x16d9+0x1059),'LIT_CUBEMA'+'P_PROJECTI'+'ON',Gw[_0x12463b['cubeMapPro'+'jection']]),this['fDefineSet'](!(-0xc*0x3+-0x1d*-0x107+-0x1*0x1da7),'LIT_OCCLUD'+'E_SPECULAR',Ww[_0x12463b['occludeSpe'+'cular']]),this['fDefineSet'](!(0x74b*0x2+-0x328+0x10a*-0xb),'LIT_REFLEC'+'TION_SOURC'+'E',$w[_0x12463b['reflection'+'Source']]),this['fDefineSet'](!(-0x1137*0x1+0x1386+-0x24f),'LIT_AMBIEN'+'T_SOURCE',Xw[_0x12463b['ambientSou'+'rce']]),this['fDefineSet'](!(0x255f*-0x1+-0x4*-0x5ba+0x17*0xa1),'{lightingU'+'v}',_0x285727??''),this['fDefineSet'](!(-0x62d+-0x4*-0x121+0x1a9),'{reflectio'+'nDecode}',Tr['decodeFunc'](_0x12463b['reflection'+'Encoding'])),this['fDefineSet'](!(-0x1*0x25a0+-0x1*0x2126+0x46c6),'{reflectio'+'nCubemapDe'+'code}',Tr['decodeFunc'](_0x12463b['reflection'+'CubemapEnc'+'oding'])),this['fDefineSet'](!(-0x12c8*0x1+-0x2606+0x295*0x16),'{ambientDe'+'code}',Tr['decodeFunc'](_0x12463b['ambientEnc'+'oding'])),this['_setupLigh'+'tingDefine'+'s'](_0x44026e,_0x12463b['clusteredL'+'ightingEna'+'bled']);}['prepareSha'+'dowPass'](){const {options:_0x30b536}=this,_0x3feb79=this['shaderPass'+'Info']['lightType'],_0x54b3b9=this['shaderPass'+'Info']['shadowType'],_0x4344b8=qi['get'](_0x54b3b9);w['assert'](_0x4344b8);const _0x4e65fa=_0x3feb79===ve||!_0x4344b8['vsm']&&_0x3feb79===Ze;this['fDefineSet'](_0x4e65fa,'PERSPECTIV'+'E_DEPTH'),this['fDefineSet'](!(0x2622+0xb76*-0x1+-0x1aac),'LIGHT_TYPE',''+u_[_0x3feb79]),this['fDefineSet'](!(-0x1*-0x176e+0x35+-0x17a3),'SHADOW_TYP'+'E',''+_0x4344b8['name']),this['fDefineSet'](_0x30b536['alphaTest'],'LIT_ALPHA_'+'TEST');}['generateFr'+'agmentShad'+'er'](_0x28fe4e,_0x49f12f,_0x277e60){const _0x4d93f9=this['options'];this['includes']['set']('frontendDe'+'clPS',_0x28fe4e??''),this['includes']['set']('frontendCo'+'dePS',_0x49f12f??''),_0x4d93f9['pass']===Zn||_0x4d93f9['pass']===Rl||(this['shadowPass']?this['prepareSha'+'dowPass']():this['prepareFor'+'wardPass'](_0x277e60)),this['fshader']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22litMain'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20';}}class wv{constructor(){h(this,'hasTangent'+'s',!(-0x354*0x3+0xb3a+0x1*-0x13d)),h(this,'shaderChun'+'ks',null),h(this,'pass',-0x5*-0x261+0x236c+-0x2f51),h(this,'alphaTest',!(-0x1*0x1ad8+0x1*0xe8a+0xc4f)),h(this,'blendType',Cs),h(this,'separateAm'+'bient',!(-0x1b9+-0x268a+0x2844)),h(this,'screenSpac'+'e',!(-0x49*0x2f+-0xb*0x224+0x24f4)),h(this,'skin',!(-0x15c5+0x131*-0x1f+0x3ab5)),h(this,'batch',!(0x8e7+-0x1e8f+0x15a9)),h(this,'useInstanc'+'ing',!(-0x81e*0x4+0x1a6c+0x1*0x60d)),h(this,'useMorphPo'+'sition',!(-0xe9a+-0x2*0x9a3+0x21e1)),h(this,'useMorphNo'+'rmal',!(-0x1*-0xff4+0x38a+0x67f*-0x3)),h(this,'useMorphTe'+'xtureBased'+'Int',!(0x44*-0x59+0xf9b+0x80a)),h(this,'nineSliced'+'Mode',0x1401*-0x1+-0x9b1+0x7*0x43e),h(this,'clusteredL'+'ightingEna'+'bled',!(0x13ec+-0x1*-0xe16+-0x3*0xb56)),h(this,'clusteredL'+'ightingCoo'+'kiesEnable'+'d',!(-0xa3d+0x2*0x11c0+-0x1942)),h(this,'clusteredL'+'ightingSha'+'dowsEnable'+'d',!(-0xa*-0x44+-0x7f*-0x4c+-0x285b)),h(this,'clusteredL'+'ightingSha'+'dowType',-0x25*0x100+0xf35+0x15cb),h(this,'clusteredL'+'ightingAre'+'aLightsEna'+'bled',!(0x6*-0x293+-0x1f33+0x2ea6)),h(this,'vertexColo'+'rs',!(-0x25*0x79+-0x337*-0x7+-0x503*0x1)),h(this,'lightMapEn'+'abled',!(0xf1a+0x399+-0x12b2)),h(this,'dirLightMa'+'pEnabled',!(0x1*-0x1e23+0x5*-0x2a2+0x2b4e)),h(this,'useHeights',!(-0xfb0+-0xbb1+-0x57a*-0x5)),h(this,'useNormals',!(0x1feb*-0x1+-0x7ac+-0x1c*-0x16a)),h(this,'useClearCo'+'atNormals',!(-0x6ea+0x9f2+-0x307)),h(this,'useAo',!(0xa98+0x3*0x7b+-0xc08)),h(this,'diffuseMap'+'Enabled',!(0x2b*-0x50+0x628+0x749)),h(this,'pixelSnap',!(-0x167a+-0x3*-0x91a+-0x4d3)),h(this,'ambientSH',!(0x3*-0x185+-0x7*0x4ae+0x2552)),h(this,'ssao',!(-0x1b7c+0x1*-0x791+0x230e)),h(this,'twoSidedLi'+'ghting',!(-0xe33+-0x423*0x3+0x1a9d)),h(this,'occludeDir'+'ect',!(-0x2691+-0x1e91+-0x649*-0xb)),h(this,'occludeSpe'+'cular',0x120+0x3c9+-0x4e9),h(this,'occludeSpe'+'cularFloat',!(-0x163c+-0x95*0x25+0x2bc6)),h(this,'useMsdf',!(0x1*0x25aa+-0x1227+0x2*-0x9c1)),h(this,'msdfTextAt'+'tribute',!(0x1a2d+-0x1*0x1857+-0x1d5)),h(this,'alphaToCov'+'erage',!(-0x1755+0x1618+-0x9f*-0x2)),h(this,'opacityFad'+'esSpecular',!(0x22d4+0x3c7+-0x225*0x12)),h(this,'opacityDit'+'her',Sa),h(this,'opacitySha'+'dowDither',Sa),h(this,'cubeMapPro'+'jection',-0x1fce+0x2408+-0x43a),h(this,'useSpecula'+'r',!(-0x1e7d+0x106a+0x35*0x44)),h(this,'useSpecula'+'rityFactor',!(0x23ff+0x3fb*-0x5+-0x1017)),h(this,'enableGGXS'+'pecular',!(0xcdb*-0x2+0x1881+0x136)),h(this,'fresnelMod'+'el',-0x1636+-0xf*0x1c9+0x30fd),h(this,'useRefract'+'ion',!(0x36*-0x5d+0x22ec+-0xf4d)),h(this,'useClearCo'+'at',!(-0x466+0x1731+-0x82*0x25)),h(this,'useSheen',!(0xd8b*-0x1+-0xb4d+0x1*0x18d9)),h(this,'useIridesc'+'ence',!(-0xc2c*-0x3+-0x71e*-0x1+-0x2ba1)),h(this,'useMetalne'+'ss',!(0x1*-0x230b+-0x2265+0x265*0x1d)),h(this,'useDynamic'+'Refraction',!(-0x1d7d+-0x559+-0x3*-0xb9d)),h(this,'dispersion',!(0x2669+0x8ab*-0x2+-0x1512)),h(this,'fog',Kn),h(this,'gamma',Ll),h(this,'toneMap',-(-0x20b9*0x1+-0x2*0x1042+0x2*0x209f)),h(this,'reflection'+'Source',vr),h(this,'reflection'+'Encoding',null),h(this,'reflection'+'CubemapEnc'+'oding',null),h(this,'ambientSou'+'rce','constant'),h(this,'ambientEnc'+'oding',null),h(this,'skyboxInte'+'nsity',-0x267+0xe7e+-0xc16),h(this,'useCubeMap'+'Rotation',!(0x2692+0x2*-0x1034+-0x629)),h(this,'lightMapWi'+'thoutAmbie'+'nt',!(-0xb0d+-0x2591+0x9*0x567)),h(this,'lights',[]),h(this,'noShadow',!(-0xe3+-0x1*0xcbb+0xd9f)),h(this,'lightMaskD'+'ynamic',-0x142+-0x8c9+0xa0b),h(this,'userAttrib'+'utes',{}),h(this,'linearDept'+'h',!(0x136e+-0x62a+-0xd43)),h(this,'shadowCatc'+'her',!(-0x315*0x5+-0x1d15+0x2c7f));}}class dl{constructor(){h(this,'defines',new Map()),h(this,'forceUv1',!(-0x1*-0x957+-0x2016+-0x68*-0x38)),h(this,'specularTi'+'nt',!(0x114*-0x3+0xe87*0x1+-0x22*0x55)),h(this,'metalnessT'+'int',!(-0x3*-0x8ed+-0x7b1*-0x4+-0x398a)),h(this,'glossTint',!(-0x1a51+0x3*0x752+0x45c)),h(this,'emissiveEn'+'coding','linear'),h(this,'lightMapEn'+'coding','linear'),h(this,'packedNorm'+'al',!(0x2*-0x7f5+-0x224f+0x323a)),h(this,'normalDeta'+'ilPackedNo'+'rmal',!(-0x1*-0x2299+0x1373+0x1*-0x360b)),h(this,'clearCoatP'+'ackedNorma'+'l',!(0x18b6*-0x1+-0x2*-0xc5b+0x1)),h(this,'glossInver'+'t',!(0x1861+-0x53+0x180d*-0x1)),h(this,'sheenGloss'+'Invert',!(0x1245+0x257e+-0x44a*0xd)),h(this,'clearCoatG'+'lossInvert',!(0x1*0x5ff+-0x2ea*-0xa+-0x1*0x2322)),h(this,'useAO',!(0x63e*0x3+0x2025+-0x32de)),h(this,'litOptions',new wv());}get['pass'](){return this['litOptions']['pass'];}}const Ev={'generateKey'(_0x52bd5f){return'lit'+Object['keys'](_0x52bd5f)['sort']()['map'](_0x233e9c=>{var _0x1772c1;return _0x233e9c==='shaderChun'+'ks'?((_0x1772c1=_0x52bd5f['shaderChun'+'ks'])==null?void(-0xc18+0x5*0x599+-0xfe5):_0x1772c1['key'])??'':_0x233e9c==='lights'?Ev['generateLi'+'ghtsKey'](_0x52bd5f):_0x233e9c+_0x52bd5f[_0x233e9c];})['join']('\x0a');},'generateLightsKey'(_0x269b11){return'lights:'+_0x269b11['lights']['map'](_0x3d682e=>!_0x269b11['clusteredL'+'ightingEna'+'bled']||_0x3d682e['_type']===ve?_0x3d682e['key']+',':'')['join']('');}},bn=[],Qd=_0xf3a682=>Object['keys'](_0xf3a682)['filter'](_0x503c29=>_0x503c29!=='litOptions')['sort']();class fb extends ya{constructor(){super(...arguments),h(this,'optionsCon'+'text',new dl()),h(this,'optionsCon'+'textMin',new dl());}['generateKe'+'y'](_0x521c06){let _0x21d00b;return _0x521c06===this['optionsCon'+'textMin']?(this['propsMin']||(this['propsMin']=Qd(_0x521c06)),_0x21d00b=this['propsMin']):_0x521c06===this['optionsCon'+'text']?(this['props']||(this['props']=Qd(_0x521c06)),_0x21d00b=this['props']):_0x21d00b=Qd(_0x521c06),'standard:\x0a'+ya['definesHas'+'h'](_0x521c06['defines'])+'\x0a'+_0x21d00b['map'](_0x336dd1=>_0x336dd1+_0x521c06[_0x336dd1])['join']('\x0a')+Ev['generateKe'+'y'](_0x521c06['litOptions']);}['_getUvSour'+'ceExpressi'+'on'](_0x4121d8,_0x2cee78,_0x21a591){const _0x1ccef1=_0x21a591[_0x4121d8],_0x55ebc9=_0x21a591[_0x2cee78],_0x5a1150=_0x21a591['litOptions']['pass']===Aa;let _0x41f75a;return _0x5a1150&&_0x21a591['litOptions']['nineSliced'+'Mode']===Pt||_0x5a1150&&_0x21a591['litOptions']['nineSliced'+'Mode']===Mt?_0x41f75a='nineSliced'+'Uv':(_0x1ccef1===-0x3a2+-0x7f*-0x37+-0x17a7?_0x41f75a='vUv'+_0x55ebc9:_0x41f75a='vUV'+_0x55ebc9+'_'+_0x1ccef1,_0x21a591['heightMap']&&_0x4121d8!=='heightMapT'+'ransform'&&(_0x41f75a+='\x20+\x20dUvOffs'+'et')),_0x41f75a;}['_validateM'+'apChunk'](_0x397d1a,_0x1ce3fd,_0x24bffc){w['call'](()=>{const _0xf2eb2=_0x24bffc['get'](_0x1ce3fd)['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1'),_0x160b3f=[],_0x4b659b=(_0x31a23c,_0x514088)=>{_0xf2eb2['includes'](_0x31a23c)&&_0x160b3f['push']('\x20\x20'+_0x31a23c+'\x20->\x20'+_0x514088);};[['$UV','{STD_'+_0x397d1a+('_TEXTURE_U'+'V}')],['$CH','{STD_'+_0x397d1a+('_TEXTURE_C'+'HANNEL}')],['$SAMPLER','{STD_'+_0x397d1a+('_TEXTURE_N'+'AME}')],['$DECODE','{STD_'+_0x397d1a+('_TEXTURE_D'+'ECODE}')],['$VC','{STD_'+_0x397d1a+('_VERTEX_CH'+'ANNEL}')],['$DETAILMOD'+'E','{STD_'+_0x397d1a+('_DETAILMOD'+'E}')],['unpackNorm'+'al(','{STD_'+_0x397d1a+('_TEXTURE_D'+'ECODE}(')]]['forEach'](([_0x31a5a4,_0xe0110d])=>_0x4b659b(_0x31a5a4,_0xe0110d)),[['MAPFLOAT','STD_'+_0x397d1a+'_CONSTANT'],['MAPCOLOR','STD_'+_0x397d1a+'_CONSTANT'],['MAPVERTEX','STD_'+_0x397d1a+'_VERTEX'],['MAPTEXTURE','STD_'+_0x397d1a+'_TEXTURE'],['MAPINVERT','STD_'+_0x397d1a+'_INVERT']]['forEach'](([_0x4c3dd9,_0x28b58d])=>_0x4b659b(_0x4c3dd9,_0x28b58d)),_0xf2eb2['includes']('$texture2D'+'SAMPLE')&&_0x4b659b('$texture2D'+'SAMPLE','(Macro\x20no\x20'+'longer\x20sup'+'ported\x20-\x20r'+'emove/refa'+'ctor)'),_0x160b3f['length']>-0x1280*0x1+0x359*-0x9+-0x3b*-0xd3&&w['errorOnce']('Shader\x20chu'+'nk\x20'+_0x1ce3fd+('\x20is\x20in\x20no\x20'+'longer\x20com'+'patible\x20fo'+'rmat.\x20Plea'+'se\x20make\x20th'+'ese\x20replac'+'ements\x20to\x20'+'bring\x20it\x20t'+'o\x20the\x20curr'+'ent\x20versio'+'n:\x0a')+_0x160b3f['join']('\x0a'),{'code':_0xf2eb2});});}['_addMapDef'+'ines'](_0x3ee381,_0xbb6807,_0x5526f1,_0xc8db7b,_0x4191fa,_0x2e13ba,_0x3b38a1=null){const _0x15a7d1=_0xbb6807+'Map',_0x2c7d5a=_0xbb6807['toUpperCas'+'e'](),_0x1049c8=_0x15a7d1+'Uv',_0x5e2b0c=_0x15a7d1+'Identifier',_0x2618f5=_0x15a7d1+'Transform',_0x28522a=_0x15a7d1+'Channel',_0x276664=_0xbb6807+('VertexColo'+'rChannel'),_0x22e545=_0xbb6807+'Tint',_0x6e054f=_0xbb6807+('VertexColo'+'r'),_0x4c03bc=_0xbb6807+'Mode',_0x439c3b=_0xbb6807+'Invert',_0x293522=_0xc8db7b[_0x22e545],_0x3465dc=_0xc8db7b[_0x6e054f],_0x18aec2=_0xc8db7b[_0x15a7d1],_0x1873a7=_0xc8db7b[_0x5e2b0c],_0x5c76c2=_0xc8db7b[_0x4c03bc],_0x340bd8=_0x4191fa['get'](_0x5526f1);if(w['assert'](_0x340bd8,'Shader\x20chu'+'nk\x20'+_0x5526f1+('\x20not\x20found'+'.')),w['call'](()=>{_0x340bd8&&this['_validateM'+'apChunk'](_0x2c7d5a,_0x5526f1,_0x4191fa);}),_0x18aec2){_0x3ee381['set']('STD_'+_0x2c7d5a+'_TEXTURE','');const _0x345e3f=this['_getUvSour'+'ceExpressi'+'on'](_0x2618f5,_0x1049c8,_0xc8db7b);_0x3ee381['set']('{STD_'+_0x2c7d5a+('_TEXTURE_U'+'V}'),_0x345e3f),_0x3ee381['set']('{STD_'+_0x2c7d5a+('_TEXTURE_C'+'HANNEL}'),_0xc8db7b[_0x28522a]);const _0x4c2c9a='{STD_'+_0x2c7d5a+('_TEXTURE_N'+'AME}');if(_0x340bd8['includes'](_0x4c2c9a)){let _0x5cc159='texture_'+_0x15a7d1;const _0x69bcc3=_0x2e13ba[_0x1873a7];_0x69bcc3?_0x5cc159=_0x69bcc3:(_0x2e13ba[_0x1873a7]=_0x5cc159,_0x3ee381['set']('STD_'+_0x2c7d5a+('_TEXTURE_A'+'LLOCATE'),'')),_0x3ee381['set'](_0x4c2c9a,_0x5cc159);}if(_0x3b38a1){const _0x151f54=_0xc8db7b[_0x28522a]==='aaa'?'passThroug'+'h':Tr['decodeFunc'](_0x3b38a1);_0x3ee381['set']('{STD_'+_0x2c7d5a+('_TEXTURE_D'+'ECODE}'),_0x151f54);}}_0x3465dc&&(_0x3ee381['set']('STD_'+_0x2c7d5a+'_VERTEX',''),_0x3ee381['set']('{STD_'+_0x2c7d5a+('_VERTEX_CH'+'ANNEL}'),_0xc8db7b[_0x276664])),_0x5c76c2&&_0x3ee381['set']('{STD_'+_0x2c7d5a+('_DETAILMOD'+'E}'),_0x5c76c2),_0x293522&&_0x3ee381['set']('STD_'+_0x2c7d5a+'_CONSTANT',''),_0xc8db7b[_0x439c3b]&&_0x3ee381['set']('STD_'+_0x2c7d5a+'_INVERT','');}['_correctCh'+'annel'](_0x556682,_0x5ac9a1,_0xe316bc){if(_0xe316bc[_0x556682]>0x2*0xb3f+0x15e+-0x6*0x3fa){if(_0xe316bc[_0x556682]<_0x5ac9a1['length'])return _0x5ac9a1['substring'](0x1267*0x1+0x1999*-0x1+0x1*0x732,_0xe316bc[_0x556682]);if(_0xe316bc[_0x556682]>_0x5ac9a1['length']){let _0x54bd6e=_0x5ac9a1;const _0xeaa95e=_0x54bd6e['charAt'](_0x54bd6e['length']-(-0x3*-0x864+0x17f4+0x19*-0x1f7)),_0x2fb504=_0xe316bc[_0x556682]-_0x54bd6e['length'];for(let _0x13ec47=0x1869+0x239+0x3ce*-0x7;_0x13ec47<_0x2fb504;_0x13ec47++)_0x54bd6e+=_0xeaa95e;return _0x54bd6e;}return _0x5ac9a1;}}['createVert'+'exShader'](_0x3a6ea2,_0x6641ec){const _0x702c8f=[],_0x4096e9=[],_0x1684e4=[];for(const _0x18475a in bn){const _0xc57357=_0x18475a+'Map';if(_0x6641ec[_0x18475a+('VertexColo'+'r')]){const _0x17fd7f=_0x18475a+('VertexColo'+'rChannel');_0x6641ec[_0x17fd7f]=this['_correctCh'+'annel'](_0x18475a,_0x6641ec[_0x17fd7f],bn);}if(_0x6641ec[_0xc57357]){const _0x51e928=_0xc57357+'Channel',_0x5173af=_0xc57357+'Transform',_0xea53ef=_0xc57357+'Uv';_0x6641ec[_0xea53ef]=Math['min'](_0x6641ec[_0xea53ef],-0x5*0x23b+-0x8a+0xbb2),_0x6641ec[_0x51e928]=this['_correctCh'+'annel'](_0x18475a,_0x6641ec[_0x51e928],bn);const _0x169f7d=_0x6641ec[_0xea53ef];_0x702c8f[_0x169f7d]=!(-0x15da+-0xb88+0x2162),_0x4096e9[_0x169f7d]=_0x4096e9[_0x169f7d]||_0x6641ec[_0xc57357]&&!_0x6641ec[_0x5173af],_0x6641ec[_0x5173af]&&_0x1684e4['push']({'name':_0x18475a,'id':_0x6641ec[_0x5173af],'uv':_0x6641ec[_0xea53ef]});}}_0x6641ec['forceUv1']&&(_0x702c8f[0x3bb*-0x5+-0x270d+0x365*0x11]=!(-0x22*-0x49+0x1*-0x1ba6+-0x3*-0x5fc),_0x4096e9[-0x16a+0x96*0x3d+0x3*-0xb71]=_0x4096e9[-0x62e+0x1*-0xb5a+0x1189]!==void(0x962*-0x2+0x2567+-0x12a3)?_0x4096e9[0x7e7*-0x1+0x13a2+0xbba*-0x1]:!(-0x10a3+-0x2261+0x3304)),_0x3a6ea2['generateVe'+'rtexShader'](_0x702c8f,_0x4096e9,_0x1684e4);}['prepareFra'+'gmentDefin'+'es'](_0x219d8d,_0x16c8d9,_0x397dbf){const _0x5880d7=(_0x35612c,_0x27e2fa,_0x135849='')=>{_0x35612c&&_0x16c8d9['set'](_0x27e2fa,_0x135849);};_0x5880d7(_0x219d8d['lightMap'],'STD_LIGHTM'+'AP',''),_0x5880d7(_0x219d8d['lightVerte'+'xColor'],'STD_LIGHT_'+'VERTEX_COL'+'OR',''),_0x5880d7(_0x219d8d['dirLightMa'+'p']&&_0x219d8d['litOptions']['useSpecula'+'r'],'STD_LIGHTM'+'AP_DIR',''),_0x5880d7(_0x219d8d['heightMap'],'STD_HEIGHT'+'_MAP',''),_0x5880d7(_0x219d8d['useSpecula'+'rColor'],'STD_SPECUL'+'AR_COLOR',''),_0x5880d7(_0x219d8d['aoMap']||_0x219d8d['aoVertexCo'+'lor']||_0x219d8d['useAO'],'STD_AO',''),_0x5880d7(!(0x1d4a*0x1+0xe6+-0x54*0x5c),'STD_OPACIT'+'Y_DITHER',iE[_0x397dbf['isForward']?_0x219d8d['litOptions']['opacityDit'+'her']:_0x219d8d['litOptions']['opacitySha'+'dowDither']]);}['createShad'+'erDefiniti'+'on'](_0x26d947,_0x574234){const _0x25c87c=Si['get'](_0x26d947)['getByIndex'](_0x574234['litOptions']['pass']),_0x136d91=_0x25c87c['isForward'],_0x20c3a5=new db(_0x26d947,_0x574234['litOptions']);this['createVert'+'exShader'](_0x20c3a5,_0x574234);const _0x565759={};_0x574234['litOptions']['fresnelMod'+'el']=_0x574234['litOptions']['fresnelMod'+'el']===-0x116b+-0x3*0x2b9+0x1996?Yp:_0x574234['litOptions']['fresnelMod'+'el'];const _0x305e57=_0x20c3a5['fDefines'];this['prepareFra'+'gmentDefin'+'es'](_0x574234,_0x305e57,_0x25c87c);let _0x2acee9='';if(_0x136d91){if(_0x574234['heightMap']&&this['_addMapDef'+'ines'](_0x305e57,'height','parallaxPS',_0x574234,_0x20c3a5['chunks'],_0x565759),(_0x574234['litOptions']['blendType']!==Cs||_0x574234['litOptions']['alphaTest']||_0x574234['litOptions']['alphaToCov'+'erage']||_0x574234['litOptions']['opacityDit'+'her']!==Sa)&&this['_addMapDef'+'ines'](_0x305e57,'opacity','opacityPS',_0x574234,_0x20c3a5['chunks'],_0x565759),_0x20c3a5['needsNorma'+'l']){if((_0x574234['normalMap']||_0x574234['clearCoatN'+'ormalMap'])&&!_0x574234['litOptions']['hasTangent'+'s']){const _0x263804=_0x574234['normalMap']?'normalMap':'clearCoatN'+'ormalMap';_0x2acee9=this['_getUvSour'+'ceExpressi'+'on'](_0x263804+'Transform',_0x263804+'Uv',_0x574234);}this['_addMapDef'+'ines'](_0x305e57,'normalDeta'+'il','normalMapP'+'S',_0x574234,_0x20c3a5['chunks'],_0x565759,_0x574234['normalDeta'+'ilPackedNo'+'rmal']?'xy':'xyz'),this['_addMapDef'+'ines'](_0x305e57,'normal','normalMapP'+'S',_0x574234,_0x20c3a5['chunks'],_0x565759,_0x574234['packedNorm'+'al']?'xy':'xyz');}_0x574234['diffuseDet'+'ail']&&this['_addMapDef'+'ines'](_0x305e57,'diffuseDet'+'ail','diffusePS',_0x574234,_0x20c3a5['chunks'],_0x565759,_0x574234['diffuseDet'+'ailEncodin'+'g']),this['_addMapDef'+'ines'](_0x305e57,'diffuse','diffusePS',_0x574234,_0x20c3a5['chunks'],_0x565759,_0x574234['diffuseEnc'+'oding']),_0x574234['litOptions']['useRefract'+'ion']&&(this['_addMapDef'+'ines'](_0x305e57,'refraction','transmissi'+'onPS',_0x574234,_0x20c3a5['chunks'],_0x565759),this['_addMapDef'+'ines'](_0x305e57,'thickness','thicknessP'+'S',_0x574234,_0x20c3a5['chunks'],_0x565759)),_0x574234['litOptions']['useIridesc'+'ence']&&(this['_addMapDef'+'ines'](_0x305e57,'iridescenc'+'e','iridescenc'+'ePS',_0x574234,_0x20c3a5['chunks'],_0x565759),this['_addMapDef'+'ines'](_0x305e57,'iridescenc'+'eThickness','iridescenc'+'eThickness'+'PS',_0x574234,_0x20c3a5['chunks'],_0x565759)),(_0x20c3a5['lighting']&&_0x574234['litOptions']['useSpecula'+'r']||_0x20c3a5['reflection'+'s'])&&(_0x574234['litOptions']['useSheen']&&(this['_addMapDef'+'ines'](_0x305e57,'sheen','sheenPS',_0x574234,_0x20c3a5['chunks'],_0x565759,_0x574234['sheenEncod'+'ing']),this['_addMapDef'+'ines'](_0x305e57,'sheenGloss','sheenGloss'+'PS',_0x574234,_0x20c3a5['chunks'],_0x565759)),_0x574234['litOptions']['useMetalne'+'ss']&&(this['_addMapDef'+'ines'](_0x305e57,'metalness','metalnessP'+'S',_0x574234,_0x20c3a5['chunks'],_0x565759),this['_addMapDef'+'ines'](_0x305e57,'ior','iorPS',_0x574234,_0x20c3a5['chunks'],_0x565759)),_0x574234['litOptions']['useSpecula'+'rityFactor']&&this['_addMapDef'+'ines'](_0x305e57,'specularit'+'yFactor','specularit'+'yFactorPS',_0x574234,_0x20c3a5['chunks'],_0x565759),_0x574234['useSpecula'+'rColor']&&this['_addMapDef'+'ines'](_0x305e57,'specular','specularPS',_0x574234,_0x20c3a5['chunks'],_0x565759,_0x574234['specularEn'+'coding']),this['_addMapDef'+'ines'](_0x305e57,'gloss','glossPS',_0x574234,_0x20c3a5['chunks'],_0x565759)),_0x574234['aoDetail']&&this['_addMapDef'+'ines'](_0x305e57,'aoDetail','aoPS',_0x574234,_0x20c3a5['chunks'],_0x565759),(_0x574234['aoMap']||_0x574234['aoVertexCo'+'lor']||_0x574234['useAO'])&&this['_addMapDef'+'ines'](_0x305e57,'ao','aoPS',_0x574234,_0x20c3a5['chunks'],_0x565759),this['_addMapDef'+'ines'](_0x305e57,'emissive','emissivePS',_0x574234,_0x20c3a5['chunks'],_0x565759,_0x574234['emissiveEn'+'coding']),_0x574234['litOptions']['useClearCo'+'at']&&(this['_addMapDef'+'ines'](_0x305e57,'clearCoat','clearCoatP'+'S',_0x574234,_0x20c3a5['chunks'],_0x565759),this['_addMapDef'+'ines'](_0x305e57,'clearCoatG'+'loss','clearCoatG'+'lossPS',_0x574234,_0x20c3a5['chunks'],_0x565759),this['_addMapDef'+'ines'](_0x305e57,'clearCoatN'+'ormal','clearCoatN'+'ormalPS',_0x574234,_0x20c3a5['chunks'],_0x565759,_0x574234['clearCoatP'+'ackedNorma'+'l']?'xy':'xyz')),_0x574234['litOptions']['enableGGXS'+'pecular']&&this['_addMapDef'+'ines'](_0x305e57,'anisotropy','anisotropy'+'PS',_0x574234,_0x20c3a5['chunks'],_0x565759),(_0x574234['lightMap']||_0x574234['lightVerte'+'xColor'])&&this['_addMapDef'+'ines'](_0x305e57,'light','lightmapPS',_0x574234,_0x20c3a5['chunks'],_0x565759,_0x574234['lightMapEn'+'coding']);}else{const _0x4518a5=_0x574234['litOptions']['opacitySha'+'dowDither'];(_0x574234['litOptions']['alphaTest']||_0x4518a5)&&this['_addMapDef'+'ines'](_0x305e57,'opacity','opacityPS',_0x574234,_0x20c3a5['chunks'],_0x565759);}_0x20c3a5['generateFr'+'agmentShad'+'er'](_0x20c3a5['chunks']['get']('stdDeclara'+'tionPS'),_0x20c3a5['chunks']['get']('stdFrontEn'+'dPS'),_0x2acee9);const _0x240889=bh['merge'](_0x20c3a5['chunks'],_0x20c3a5['includes']),_0x4be543=_0x20c3a5['vDefines'];_0x574234['defines']['forEach']((_0x4ffad3,_0x279954)=>_0x4be543['set'](_0x279954,_0x4ffad3)),_0x574234['defines']['forEach']((_0x28d086,_0x32254c)=>_0x305e57['set'](_0x32254c,_0x28d086));const _0x52593a=Jt['createDefi'+'nition'](_0x26d947,{'name':'StandardSh'+'ader','attributes':_0x20c3a5['attributes'],'shaderLanguage':_0x20c3a5['shaderLang'+'uage'],'vertexCode':_0x20c3a5['vshader'],'fragmentCode':_0x20c3a5['fshader'],'vertexIncludes':_0x240889,'fragmentIncludes':_0x240889,'fragmentDefines':_0x305e57,'vertexDefines':_0x4be543});return _0x20c3a5['shaderPass'+'Info']['isForward']&&(_0x52593a['tag']=Sy),_0x52593a;}}const Jd=new fb(),ss=[];ss[Gp]={'src':Ft,'dst':Ft,'op':Tx},ss[Cs]={'src':Ft,'dst':rp,'op':fs},ss[Zs]={'src':jh,'dst':Yh,'op':fs,'alphaSrc':Ft},ss[Gn]={'src':Ft,'dst':Yh,'op':fs},ss[Hp]={'src':Ft,'dst':Ft,'op':fs},ss[Ed]={'src':jh,'dst':Ft,'op':fs},ss[$p]={'src':JS,'dst':vx,'op':fs},ss[Xp]={'src':xx,'dst':Ft,'op':fs},ss[Wp]={'src':JS,'dst':rp,'op':fs},ss[qp]={'src':Ft,'dst':Ft,'op':wx},ss[jp]={'src':Ft,'dst':Ft,'op':Ex};let ub=-0xc*-0x22+0x248f+-0x2627;class tr{constructor(){h(this,'meshInstan'+'ces',[]),h(this,'name','Untitled'),h(this,'userId',''),h(this,'id',ub++),h(this,'variants',new Map()),h(this,'defines',new Map()),h(this,'_definesDi'+'rty',!(0x1177+0x174d+-0x1*0x28c3)),h(this,'parameters',{}),h(this,'alphaTest',-0x19c0+-0x5b0+0xfb8*0x2),h(this,'alphaToCov'+'erage',!(-0x1127+-0x263b+-0x3763*-0x1)),h(this,'_blendStat'+'e',new pt()),h(this,'_depthStat'+'e',new Yt()),h(this,'cull',pa),h(this,'stencilFro'+'nt',null),h(this,'stencilBac'+'k',null),h(this,'_shaderChu'+'nks',null),h(this,'_oldChunks',{}),h(this,'_dirtyShad'+'er',!(0x1ecc+0x2029+0x3ef5*-0x1)),h(this,'_shaderVer'+'sion',-0x42*0x8d+0x2b0*0xb+0x6ca),h(this,'_scene',null),h(this,'dirty',!(-0x2*0x1ad+-0x1113+0x2eb*0x7)),new.target===tr&&w['error']('Material\x20c'+'lass\x20canno'+'t\x20be\x20insta'+'ntiated,\x20u'+'se\x20ShaderM'+'aterial\x20in'+'stead');}get['hasShaderC'+'hunks'](){return this['_shaderChu'+'nks']!=null;}get['shaderChun'+'ks'](){return this['_shaderChu'+'nks']||(this['_shaderChu'+'nks']=new Pe()),this['_shaderChu'+'nks'];}['getShaderC'+'hunks'](_0x468656=Fe){const _0x275b2a=this['shaderChun'+'ks'];return _0x468656===Fe?_0x275b2a['glsl']:_0x275b2a['wgsl'];}set['shaderChun'+'ksVersion'](_0x258dc5){this['shaderChun'+'ks']['version']=_0x258dc5;}get['shaderChun'+'ksVersion'](){return this['shaderChun'+'ks']['version'];}set['chunks'](_0x17e2e4){w['deprecated']('Material.c'+'hunks\x20has\x20'+'been\x20remov'+'ed,\x20please'+'\x20use\x20Mater'+'ial.getSha'+'derChunks\x20'+'instead.\x20F'+'or\x20example'+':\x20material'+'.getShader'+'Chunks(pc.'+'SHADERLANG'+'UAGE_GLSL)'+'.set(\x22chun'+'kName\x22,\x20\x22c'+'hunkCode\x22)'),this['_oldChunks']=_0x17e2e4;}get['chunks'](){return w['deprecated']('Material.c'+'hunks\x20has\x20'+'been\x20remov'+'ed,\x20please'+'\x20use\x20Mater'+'ial.getSha'+'derChunks\x20'+'instead.\x20F'+'or\x20example'+':\x20material'+'.getShader'+'Chunks(pc.'+'SHADERLANG'+'UAGE_GLSL)'+'.set(\x22chun'+'kName\x22,\x20\x22c'+'hunkCode\x22)'),Object['assign'](this['_oldChunks'],Object['fromEntrie'+'s'](this['shaderChun'+'ks']['glsl'])),this['_oldChunks'];}set['depthBias'](_0x3fec22){this['_depthStat'+'e']['depthBias']=_0x3fec22;}get['depthBias'](){return this['_depthStat'+'e']['depthBias'];}set['slopeDepth'+'Bias'](_0x521b6c){this['_depthStat'+'e']['depthBiasS'+'lope']=_0x521b6c;}get['slopeDepth'+'Bias'](){return this['_depthStat'+'e']['depthBiasS'+'lope'];}set['redWrite'](_0x374e37){this['_blendStat'+'e']['redWrite']=_0x374e37;}get['redWrite'](){return this['_blendStat'+'e']['redWrite'];}set['greenWrite'](_0x14f24f){this['_blendStat'+'e']['greenWrite']=_0x14f24f;}get['greenWrite'](){return this['_blendStat'+'e']['greenWrite'];}set['blueWrite'](_0x5aa2c3){this['_blendStat'+'e']['blueWrite']=_0x5aa2c3;}get['blueWrite'](){return this['_blendStat'+'e']['blueWrite'];}set['alphaWrite'](_0x342c91){this['_blendStat'+'e']['alphaWrite']=_0x342c91;}get['alphaWrite'](){return this['_blendStat'+'e']['alphaWrite'];}get['transparen'+'t'](){return this['_blendStat'+'e']['blend'];}['_updateTra'+'nsparency'](){const _0x16c754=this['transparen'+'t'],_0xd60ade=this['meshInstan'+'ces'];for(let _0xc063a1=-0x230f+0x385+0x1f8a;_0xc063a1<_0xd60ade['length'];_0xc063a1++)_0xd60ade[_0xc063a1]['transparen'+'t']=_0x16c754;}set['blendState'](_0x4e79ed){this['_blendStat'+'e']['copy'](_0x4e79ed),this['_updateTra'+'nsparency']();}get['blendState'](){return this['_blendStat'+'e'];}set['blendType'](_0x433135){const _0x47cde7=ss[_0x433135];w['assert'](_0x47cde7,'Unknown\x20bl'+'end\x20mode\x20'+_0x433135),this['_blendStat'+'e']['setColorBl'+'end'](_0x47cde7['op'],_0x47cde7['src'],_0x47cde7['dst']),this['_blendStat'+'e']['setAlphaBl'+'end'](_0x47cde7['alphaOp']??_0x47cde7['op'],_0x47cde7['alphaSrc']??_0x47cde7['src'],_0x47cde7['alphaDst']??_0x47cde7['dst']);const _0x494b4b=_0x433135!==Cs;this['_blendStat'+'e']['blend']!==_0x494b4b&&(this['_blendStat'+'e']['blend']=_0x494b4b,this['_updateTra'+'nsparency']()),this['_updateMes'+'hInstanceK'+'eys']();}get['blendType'](){if(!this['transparen'+'t'])return Cs;const {colorOp:_0x5cc0f5,colorSrcFactor:_0x1129bc,colorDstFactor:_0x4a6a77,alphaOp:_0x1bc781,alphaSrcFactor:_0x1068e1,alphaDstFactor:_0x4b2b75}=this['_blendStat'+'e'];for(let _0xa542f=0x9*0x1be+-0x9f7+-0x13*0x4d;_0xa542f<ss['length'];_0xa542f++){const _0xfec465=ss[_0xa542f];if(_0xfec465['src']===_0x1129bc&&_0xfec465['dst']===_0x4a6a77&&_0xfec465['op']===_0x5cc0f5&&_0xfec465['src']===_0x1068e1&&_0xfec465['dst']===_0x4b2b75&&_0xfec465['op']===_0x1bc781)return _0xa542f;}return Zs;}set['depthState'](_0xf9e8c0){this['_depthStat'+'e']['copy'](_0xf9e8c0);}get['depthState'](){return this['_depthStat'+'e'];}set['depthTest'](_0x41d4a6){this['_depthStat'+'e']['test']=_0x41d4a6;}get['depthTest'](){return this['_depthStat'+'e']['test'];}set['depthFunc'](_0x64111e){this['_depthStat'+'e']['func']=_0x64111e;}get['depthFunc'](){return this['_depthStat'+'e']['func'];}set['depthWrite'](_0x4c868){this['_depthStat'+'e']['write']=_0x4c868;}get['depthWrite'](){return this['_depthStat'+'e']['write'];}['copy'](_0x207f2b){var _0x34fc0d,_0x17136a;this['name']=_0x207f2b['name'],this['alphaTest']=_0x207f2b['alphaTest'],this['alphaToCov'+'erage']=_0x207f2b['alphaToCov'+'erage'],this['_blendStat'+'e']['copy'](_0x207f2b['_blendStat'+'e']),this['_depthStat'+'e']['copy'](_0x207f2b['_depthStat'+'e']),this['cull']=_0x207f2b['cull'],this['stencilFro'+'nt']=(_0x34fc0d=_0x207f2b['stencilFro'+'nt'])==null?void(0x827+0x125c+0x269*-0xb):_0x34fc0d['clone'](),_0x207f2b['stencilBac'+'k']&&(this['stencilBac'+'k']=_0x207f2b['stencilFro'+'nt']===_0x207f2b['stencilBac'+'k']?this['stencilFro'+'nt']:_0x207f2b['stencilBac'+'k']['clone']()),this['clearParam'+'eters']();for(const _0x365e47 in _0x207f2b['parameters'])_0x207f2b['parameters']['hasOwnProp'+'erty'](_0x365e47)&&this['_setParame'+'terSimple'](_0x365e47,_0x207f2b['parameters'][_0x365e47]['data']);return this['defines']['clear'](),_0x207f2b['defines']['forEach']((_0x17500a,_0x2bbe21)=>this['defines']['set'](_0x2bbe21,_0x17500a)),this['_shaderChu'+'nks']=_0x207f2b['hasShaderC'+'hunks']?new Pe():null,(_0x17136a=this['_shaderChu'+'nks'])==null||_0x17136a['copy'](_0x207f2b['_shaderChu'+'nks']),this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['_updateMes'+'hInstanceK'+'eys'](){const _0x1dbe31=this['meshInstan'+'ces'];for(let _0x424f02=0x11b2+-0x3b9+-0xdf9;_0x424f02<_0x1dbe31['length'];_0x424f02++)_0x1dbe31[_0x424f02]['updateKey']();}['updateUnif'+'orms'](_0x2956a0,_0x5f444f){this['_dirtyShad'+'er']&&this['clearVaria'+'nts']();}['getShaderV'+'ariant'](_0x29903e){w['assert'](!(0x20f2*0x1+0x1d9*0x8+0x283*-0x13),'Not\x20implem'+'ented');}['update'](){var _0x2d784e,_0x3ad00e;if(Object['keys'](this['_oldChunks'])['length']>0x2ca+-0x2689+0x23bf*0x1){for(const [_0x5876b9,_0x69df7e]of Object['entries'](this['_oldChunks']))this['shaderChun'+'ks']['glsl']['set'](_0x5876b9,_0x69df7e),delete this['_oldChunks'][_0x5876b9];}(this['_definesDi'+'rty']||(_0x2d784e=this['_shaderChu'+'nks'])!=null&&_0x2d784e['isDirty']())&&(this['_definesDi'+'rty']=!(0x1279*0x1+-0x1*0xeab+-0x8b*0x7),(_0x3ad00e=this['_shaderChu'+'nks'])==null||_0x3ad00e['resetDirty'](),this['clearVaria'+'nts']()),this['dirty']=!(0x1111+-0x4e1*-0x1+-0xaf9*0x2);}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['clearVaria'+'nts'](){this['variants']['clear']();const _0x207a71=this['meshInstan'+'ces'],_0x4fea3c=_0x207a71['length'];for(let _0x35b794=0x12f7+0x26*-0xe5+0xf07;_0x35b794<_0x4fea3c;_0x35b794++)_0x207a71[_0x35b794]['clearShade'+'rs']();}['getParamet'+'er'](_0x54daba){return this['parameters'][_0x54daba];}['_setParame'+'terSimple'](_0x455385,_0x19ac8e){w['call'](()=>{_0x19ac8e===void(-0xdbf+-0x1*-0x1d69+-0xfaa)&&w['warnOnce']('Material#s'+'etParamete'+'r:\x20Attempt'+'ing\x20to\x20set'+'\x20undefined'+'\x20data\x20for\x20'+'parameter\x20'+'\x22'+_0x455385+('\x22,\x20this\x20is'+'\x20likely\x20no'+'t\x20expected'+'.'),this);});const _0x3fc2bf=this['parameters'][_0x455385];_0x3fc2bf?_0x3fc2bf['data']=_0x19ac8e:this['parameters'][_0x455385]={'scopeId':null,'data':_0x19ac8e};}['setParamet'+'er'](_0x8e7cc5,_0x16a15e){if(_0x16a15e===void(0x11df*-0x2+-0x1*-0xe0e+0x15b*0x10)&&typeof _0x8e7cc5=='object'){const _0x2d3f77=_0x8e7cc5;if(_0x2d3f77['length']){for(let _0x20c0e5=-0x1c17+0x1*-0x20f6+-0x3d0d*-0x1;_0x20c0e5<_0x2d3f77['length'];_0x20c0e5++)this['setParamet'+'er'](_0x2d3f77[_0x20c0e5]);return;}_0x8e7cc5=_0x2d3f77['name'],_0x16a15e=_0x2d3f77['value'];}this['_setParame'+'terSimple'](_0x8e7cc5,_0x16a15e);}['deletePara'+'meter'](_0x45da99){this['parameters'][_0x45da99]&&delete this['parameters'][_0x45da99];}['setParamet'+'ers'](_0x5e4099,_0x1b8c02){const _0x327403=this['parameters'];_0x1b8c02===void(-0x1f09+0x9b*-0x6+0x22ab)&&(_0x1b8c02=_0x327403);for(const _0x575267 in _0x1b8c02){const _0x53eaed=_0x327403[_0x575267];_0x53eaed&&(_0x53eaed['scopeId']||(_0x53eaed['scopeId']=_0x5e4099['scope']['resolve'](_0x575267)),_0x53eaed['scopeId']['setValue'](_0x53eaed['data']));}}['setDefine'](_0x35b77f,_0x12d45d){let _0x3320f3=!(0x185c*0x1+0xbc*-0x25+-0x2d1*-0x1);const {defines:_0x1ca9ef}=this;_0x12d45d!==void(0x1*-0x1051+0x2b*-0x57+0x1eee)&&_0x12d45d!==!(-0x9e0*0x1+-0x856+0x1237)?(_0x3320f3=!_0x1ca9ef['has'](_0x35b77f)||_0x1ca9ef['get'](_0x35b77f)!==_0x12d45d,_0x1ca9ef['set'](_0x35b77f,_0x12d45d)):(_0x3320f3=_0x1ca9ef['has'](_0x35b77f),_0x1ca9ef['delete'](_0x35b77f)),this['_definesDi'+'rty']||(this['_definesDi'+'rty']=_0x3320f3);}['getDefine'](_0x2ebae9){return this['defines']['has'](_0x2ebae9);}['destroy'](){this['variants']['clear']();for(let _0x5ca916=-0x1e51+0xd76+0x35f*0x5;_0x5ca916<this['meshInstan'+'ces']['length'];_0x5ca916++){const _0x5897cf=this['meshInstan'+'ces'][_0x5ca916];if(_0x5897cf['clearShade'+'rs'](),_0x5897cf['_material']=null,_0x5897cf['mesh']){const _0x24e071=Qn(_0x5897cf['mesh']['device']);this!==_0x24e071&&(_0x5897cf['material']=_0x24e071);}else w['warn']('pc.Materia'+'l:\x20MeshIns'+'tance.mesh'+'\x20is\x20null,\x20'+'default\x20ma'+'terial\x20can'+'not\x20be\x20ass'+'igned\x20to\x20t'+'he\x20MeshIns'+'tance');}this['meshInstan'+'ces']['length']=0x22d1+0x1*0x1353+-0x3624;}['addMeshIns'+'tanceRef'](_0x11e1dd){this['meshInstan'+'ces']['push'](_0x11e1dd);}['removeMesh'+'InstanceRe'+'f'](_0x13b749){const _0x25dfd5=this['meshInstan'+'ces'],_0x4f1380=_0x25dfd5['indexOf'](_0x13b749);_0x4f1380!==-(0x1*-0x209c+0x4b7+0x1be6)&&_0x25dfd5['splice'](_0x4f1380,-0x175*-0x14+-0x22f4+0x1*0x5d1);}}class Ws{static['update'](_0x365cc7,_0x506554,_0x5c6234,_0x3f9616,_0x4fee37,_0x486f4a,_0x47e607){Ws['updateShar'+'edOptions'](_0x365cc7,_0x506554,_0x5c6234,_0x4fee37,_0x486f4a),Ws['updateMate'+'rialOption'+'s'](_0x365cc7,_0x506554),Ws['updateEnvO'+'ptions'](_0x365cc7,_0x506554,_0x5c6234,_0x3f9616),Ws['updateLigh'+'tingOption'+'s'](_0x365cc7,_0x506554,_0x5c6234,_0x4fee37,_0x47e607);}static['updateShar'+'edOptions'](_0xb350cf,_0x453c83,_0x51af92,_0x4e0fc6,_0x540229){_0xb350cf['shaderChun'+'ks']=_0x453c83['shaderChun'+'ks'],_0xb350cf['pass']=_0x540229,_0xb350cf['alphaTest']=_0x453c83['alphaTest']>-0x5f4+0x3*-0x5bb+0x3*0x7b7,_0xb350cf['blendType']=_0x453c83['blendType'],_0xb350cf['screenSpac'+'e']=_0x4e0fc6&&(_0x4e0fc6&Eh)!==-0x685*-0x2+0x2399+-0x30a3*0x1,_0xb350cf['skin']=_0x4e0fc6&&(_0x4e0fc6&nl)!==-0x12e3+-0x6ce*-0x1+-0xc15*-0x1,_0xb350cf['useInstanc'+'ing']=_0x4e0fc6&&(_0x4e0fc6&ol)!==0x2266+0x7b+0x1*-0x22e1,_0xb350cf['useMorphPo'+'sition']=_0x4e0fc6&&(_0x4e0fc6&ll)!==0x10*-0x78+-0x45a*-0x7+-0x16f6,_0xb350cf['useMorphNo'+'rmal']=_0x4e0fc6&&(_0x4e0fc6&cl)!==0x1bd7*0x1+-0x28*0xa7+-0x1bf,_0xb350cf['useMorphTe'+'xtureBased'+'Int']=_0x4e0fc6&&(_0x4e0fc6&hl)!==-0x1*-0x197f+0xc*0xd6+-0x2387,_0xb350cf['hasTangent'+'s']=_0x4e0fc6&&(_0x4e0fc6&om)!==-0x26*0xa7+0xfc7+-0x301*-0x3,_0xb350cf['nineSliced'+'Mode']=_0x453c83['nineSliced'+'Mode']||ci,_0x453c83['useLightin'+'g']&&_0x51af92['clusteredL'+'ightingEna'+'bled']?(_0xb350cf['clusteredL'+'ightingEna'+'bled']=!(0xb+0x1*-0x1d57+0x1d4c),_0xb350cf['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x51af92['lighting']['cookiesEna'+'bled'],_0xb350cf['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x51af92['lighting']['shadowsEna'+'bled'],_0xb350cf['clusteredL'+'ightingSha'+'dowType']=_0x51af92['lighting']['shadowType'],_0xb350cf['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x51af92['lighting']['areaLights'+'Enabled']):(_0xb350cf['clusteredL'+'ightingEna'+'bled']=!(-0x1ba8+-0x1*-0x164f+0x55a),_0xb350cf['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0x920+0xd53+0x432*-0x1),_0xb350cf['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(0x8f+-0x2c*0xe2+0x264a),_0xb350cf['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x21b4*0x1+-0x2*0x837+0x1145*-0x1));}static['updateMate'+'rialOption'+'s'](_0x187f50,_0x358756){_0x187f50['separateAm'+'bient']=!(0x51*0x24+-0x1d*0x95+0x57e),_0x187f50['pixelSnap']=_0x358756['pixelSnap'],_0x187f50['ambientSH']=_0x358756['ambientSH'],_0x187f50['twoSidedLi'+'ghting']=_0x358756['twoSidedLi'+'ghting'],_0x187f50['occludeDir'+'ect']=_0x358756['occludeDir'+'ect'],_0x187f50['occludeSpe'+'cular']=_0x358756['occludeSpe'+'cular'],_0x187f50['occludeSpe'+'cularFloat']=_0x358756['occludeSpe'+'cularInten'+'sity']!==-0xd57+0x1*0x1134+-0x3dc,_0x187f50['useMsdf']=!(0x53a+0x25c7+-0x10*0x2b0),_0x187f50['msdfTextAt'+'tribute']=!(0x1*0x1503+-0x23f3+0xef1),_0x187f50['alphaToCov'+'erage']=_0x358756['alphaToCov'+'erage'],_0x187f50['opacityFad'+'esSpecular']=_0x358756['opacityFad'+'esSpecular'],_0x187f50['opacityDit'+'her']=_0x358756['opacityDit'+'her'],_0x187f50['cubeMapPro'+'jection']=tm,_0x187f50['useSpecula'+'r']=_0x358756['hasSpecula'+'r'],_0x187f50['useSpecula'+'rityFactor']=_0x358756['hasSpecula'+'rityFactor'],_0x187f50['enableGGXS'+'pecular']=_0x358756['ggxSpecula'+'r'],_0x187f50['fresnelMod'+'el']=_0x358756['fresnelMod'+'el'],_0x187f50['useRefract'+'ion']=_0x358756['hasRefract'+'ion'],_0x187f50['useClearCo'+'at']=_0x358756['hasClearCo'+'at'],_0x187f50['useSheen']=_0x358756['hasSheen'],_0x187f50['useIridesc'+'ence']=_0x358756['hasIrrides'+'cence'],_0x187f50['useMetalne'+'ss']=_0x358756['hasMetalne'+'ss'],_0x187f50['useDynamic'+'Refraction']=_0x358756['dynamicRef'+'raction'],_0x187f50['dispersion']=_0x358756['dispersion']>0x7a4+0xd31+0x14d5*-0x1,_0x187f50['vertexColo'+'rs']=!(0x86+0x12eb+-0x1*0x1370),_0x187f50['lightMapEn'+'abled']=_0x358756['hasLightin'+'g'],_0x187f50['dirLightMa'+'pEnabled']=_0x358756['dirLightMa'+'p'],_0x187f50['useHeights']=_0x358756['hasHeights'],_0x187f50['useNormals']=_0x358756['hasNormals'],_0x187f50['useClearCo'+'atNormals']=_0x358756['hasClearCo'+'atNormals'],_0x187f50['useAo']=_0x358756['hasAo'],_0x187f50['diffuseMap'+'Enabled']=_0x358756['hasDiffuse'+'Map'];}static['updateEnvO'+'ptions'](_0xc24cdd,_0x11a0ed,_0x4c8220,_0x483a16){_0xc24cdd['fog']=_0x11a0ed['useFog']?_0x483a16['fog']:Kn,_0xc24cdd['gamma']=_0x483a16['shaderOutp'+'utGamma'],_0xc24cdd['toneMap']=_0x11a0ed['useTonemap']?_0x483a16['toneMappin'+'g']:nv,_0x11a0ed['useSkybox']&&_0x4c8220['envAtlas']&&_0x4c8220['skybox']?(_0xc24cdd['reflection'+'Source']=xh,_0xc24cdd['reflection'+'Encoding']=_0x4c8220['envAtlas']['encoding'],_0xc24cdd['reflection'+'CubemapEnc'+'oding']=_0x4c8220['skybox']['encoding']):_0x11a0ed['useSkybox']&&_0x4c8220['envAtlas']?(_0xc24cdd['reflection'+'Source']=vh,_0xc24cdd['reflection'+'Encoding']=_0x4c8220['envAtlas']['encoding']):_0x11a0ed['useSkybox']&&_0x4c8220['skybox']?(_0xc24cdd['reflection'+'Source']=Th,_0xc24cdd['reflection'+'Encoding']=_0x4c8220['skybox']['encoding']):(_0xc24cdd['reflection'+'Source']=vr,_0xc24cdd['reflection'+'Encoding']=null),_0x11a0ed['ambientSH']?(_0xc24cdd['ambientSou'+'rce']=im,_0xc24cdd['ambientEnc'+'oding']=null):_0xc24cdd['reflection'+'Source']!==vr&&_0x4c8220['envAtlas']?(_0xc24cdd['ambientSou'+'rce']=rm,_0xc24cdd['ambientEnc'+'oding']=_0x4c8220['envAtlas']['encoding']):(_0xc24cdd['ambientSou'+'rce']=am,_0xc24cdd['ambientEnc'+'oding']=null);const _0x264397=_0xc24cdd['reflection'+'Source']!==vr;_0xc24cdd['skyboxInte'+'nsity']=_0x264397,_0xc24cdd['useCubeMap'+'Rotation']=_0x264397&&_0x4c8220['_skyboxRot'+'ationShade'+'rInclude'];}static['updateLigh'+'tingOption'+'s'](_0x29f2bd,_0x4e3a80,_0x26ecbf,_0x7f95d,_0x552a9f){if(_0x29f2bd['lightMapWi'+'thoutAmbie'+'nt']=!(-0xd0f+0x1164+0x2*-0x22a),_0x4e3a80['useLightin'+'g']){const _0x27eaee=[],_0x1a6a26=_0x7f95d?_0x7f95d>>0x1b29*-0x1+0x20*0x7+0x1a59:Ss;_0x29f2bd['lightMaskD'+'ynamic']=!!(_0x1a6a26&Ss),_0x29f2bd['lightMapWi'+'thoutAmbie'+'nt']=!(0x2004+-0xc8b*-0x2+-0x3919),_0x552a9f&&(Ws['collectLig'+'hts'](ve,_0x552a9f[ve],_0x27eaee,_0x1a6a26),_0x26ecbf['clusteredL'+'ightingEna'+'bled']||(Ws['collectLig'+'hts'](Ke,_0x552a9f[Ke],_0x27eaee,_0x1a6a26),Ws['collectLig'+'hts'](Ze,_0x552a9f[Ze],_0x27eaee,_0x1a6a26))),_0x29f2bd['lights']=_0x27eaee;}else _0x29f2bd['lights']=[];(_0x29f2bd['lights']['length']===0xc*0xba+0x91+0x949*-0x1&&!_0x26ecbf['clusteredL'+'ightingEna'+'bled']||(_0x7f95d&wh)!==-0x1a24+-0xf2a*0x1+0x294e*0x1)&&(_0x29f2bd['noShadow']=!(-0x8d3*0x4+0x1350+0xffc));}static['collectLig'+'hts'](_0xe7421a,_0x467716,_0x7a4ee5,_0x3023d0){for(let _0x4ce499=-0x1f05+-0x53*-0x61+0x16*-0x5;_0x4ce499<_0x467716['length'];_0x4ce499++){const _0x5e3e3f=_0x467716[_0x4ce499];_0x5e3e3f['enabled']&&_0x5e3e3f['mask']&_0x3023d0&&_0x7a4ee5['push'](_0x5e3e3f);}}}const G_=(_0x557c7c,_0x344eff)=>{if(_0x557c7c['length']!==_0x344eff['length'])return!(-0x8b*-0x35+0x261a+-0x6b0*0xa);for(let _0x1f1a2a=-0x24d6+-0x6*0x629+-0x1273*-0x4;_0x1f1a2a<_0x557c7c['length'];++_0x1f1a2a)if(_0x557c7c[_0x1f1a2a]!==_0x344eff[_0x1f1a2a])return!(0x22df+0x1cf1+-0x1*0x3fcf);return!(0x2264+-0xe3*-0x29+0x1795*-0x3);},pb=_0x2b013d=>_0x2b013d['r']!==-0x1636*0x1+-0xf9f*-0x1+0x698||_0x2b013d['g']!==-0x1a97*-0x1+0xf*0xfb+0x155*-0x1f||_0x2b013d['b']!==0x2710+0x1d49+-0x4458,mb=_0x734e9=>_0x734e9['r']!==-0x18bb+0x37a+0x1541*0x1||_0x734e9['g']!==0x2*0xcd8+0x21f*0xb+0x2f*-0x10b||_0x734e9['b']!==0x10a7+-0x38*-0x55+0x1*-0x233f;class _b{constructor(){this['_mapXForms']=null;}['updateMinR'+'ef'](_0x231a52,_0x281742,_0x348ebc,_0xea62af,_0x18261a,_0x59b0de){this['_updateSha'+'redOptions'](_0x231a52,_0x281742,_0x348ebc,_0xea62af,_0x18261a),this['_updateMin'+'Options'](_0x231a52,_0x348ebc,_0x18261a),this['_updateUVO'+'ptions'](_0x231a52,_0x348ebc,_0xea62af,!(-0x3*0x707+-0x1cc2+0x3*0x109d));}['updateRef'](_0xa97d07,_0x529adb,_0x134f80,_0x23048c,_0x728e1f,_0x4ee03f,_0x4009c7){this['_updateSha'+'redOptions'](_0xa97d07,_0x529adb,_0x23048c,_0x728e1f,_0x4ee03f),this['_updateEnv'+'Options'](_0xa97d07,_0x23048c,_0x529adb,_0x134f80),this['_updateMat'+'erialOptio'+'ns'](_0xa97d07,_0x23048c,_0x529adb),_0xa97d07['litOptions']['hasTangent'+'s']=_0x728e1f&&(_0x728e1f&om)!==0xbd3+0x5*-0x2c3+-0xfe*-0x2,this['_updateLig'+'htOptions'](_0xa97d07,_0x529adb,_0x23048c,_0x728e1f,_0x4009c7),this['_updateUVO'+'ptions'](_0xa97d07,_0x23048c,_0x728e1f,!(0x1*0x192f+0x49*-0x59+0x1*0x33),_0x134f80);}['_updateSha'+'redOptions'](_0x1526d0,_0x549fb4,_0x53fa09,_0x24d0ed,_0x2dc865){_0x1526d0['forceUv1']=_0x53fa09['forceUv1'],_0x53fa09['userAttrib'+'utes']&&(_0x1526d0['litOptions']['userAttrib'+'utes']=Object['fromEntrie'+'s'](_0x53fa09['userAttrib'+'utes']['entries']())),_0x1526d0['litOptions']['shaderChun'+'ks']=_0x53fa09['shaderChun'+'ks'],_0x1526d0['litOptions']['pass']=_0x2dc865,_0x1526d0['litOptions']['alphaTest']=_0x53fa09['alphaTest']>-0x1e5b+-0x1a4a+0x355*0x11,_0x1526d0['litOptions']['blendType']=_0x53fa09['blendType'],_0x1526d0['litOptions']['screenSpac'+'e']=_0x24d0ed&&(_0x24d0ed&Eh)!==-0x135b+0x4*0x505+-0xb9,_0x1526d0['litOptions']['skin']=_0x24d0ed&&(_0x24d0ed&nl)!==-0x2ab*-0x1+0x2*0x211+-0x6cd,_0x1526d0['litOptions']['batch']=_0x24d0ed&&(_0x24d0ed&qc)!==0x6*0x19d+-0xd21*-0x1+0x1*-0x16cf,_0x1526d0['litOptions']['useInstanc'+'ing']=_0x24d0ed&&(_0x24d0ed&ol)!==-0x14a3+0x695+0xe0e,_0x1526d0['litOptions']['useMorphPo'+'sition']=_0x24d0ed&&(_0x24d0ed&ll)!==0xe1a+0x1c74+-0x2a8e,_0x1526d0['litOptions']['useMorphNo'+'rmal']=_0x24d0ed&&(_0x24d0ed&cl)!==-0x28f*-0x1+0x175*0x16+0x229d*-0x1,_0x1526d0['litOptions']['useMorphTe'+'xtureBased'+'Int']=_0x24d0ed&&(_0x24d0ed&hl)!==-0xa62*0x2+0xafa+0x9ca,_0x1526d0['litOptions']['nineSliced'+'Mode']=_0x53fa09['nineSliced'+'Mode']||-0x3*0x63a+0xb7*0x2a+-0xb58,_0x549fb4['clusteredL'+'ightingEna'+'bled']&&_0x53fa09['useLightin'+'g']?(_0x1526d0['litOptions']['clusteredL'+'ightingEna'+'bled']=!(-0x1*-0x14ef+0x1df*-0xb+0xa*-0x9),_0x1526d0['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x549fb4['lighting']['cookiesEna'+'bled'],_0x1526d0['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x549fb4['lighting']['shadowsEna'+'bled'],_0x1526d0['litOptions']['clusteredL'+'ightingSha'+'dowType']=_0x549fb4['lighting']['shadowType'],_0x1526d0['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x549fb4['lighting']['areaLights'+'Enabled']):(_0x1526d0['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x7c5+-0x213a+0x1976),_0x1526d0['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0x130d*0x1+-0x1*0x34e+0x24*0x9f),_0x1526d0['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(0xa*-0x2e1+0x1*-0x1c0d+0x38d8),_0x1526d0['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(-0x35*-0x2f+0x61*0x12+0xc*-0x161));}['_updateUVO'+'ptions'](_0x346963,_0x25729d,_0x160702,_0x29e84a,_0x3759f5){let _0x4fa2ae=!(-0x1fd3*-0x1+-0x5*-0x28a+-0x2c84),_0x3b7ef5=!(-0x12e4+-0x75*0x25+0x23ce),_0x356b63=!(0x1369+-0x63*0x1f+0x279*-0x3);_0x160702&&(_0x4fa2ae=(_0x160702&nm)!==0x1*0x2281+-0x1773+-0x5*0x236,_0x3b7ef5=(_0x160702&dv)!==0x2*-0x1295+-0x1d3a+0x4264,_0x356b63=(_0x160702&fv)!==0x2191+0x153e+-0x36cf),_0x346963['litOptions']['vertexColo'+'rs']=!(0x1c38+0x2*0x4e3+-0x25fd),this['_mapXForms']=[];const _0x2fae24={};for(const _0x1d71b7 in bn)this['_updateTex'+'Options'](_0x346963,_0x25729d,_0x1d71b7,_0x4fa2ae,_0x3b7ef5,_0x356b63,_0x29e84a,_0x2fae24);this['_mapXForms']=null,_0x346963['litOptions']['ssao']=_0x3759f5==null?void(-0x9d*0x3b+-0x2593*-0x1+-0x164):_0x3759f5['ssaoEnable'+'d'],_0x346963['useAO']=_0x346963['litOptions']['ssao'],_0x346963['litOptions']['lightMapEn'+'abled']=_0x346963['lightMap'],_0x346963['litOptions']['dirLightMa'+'pEnabled']=_0x346963['dirLightMa'+'p'],_0x346963['litOptions']['useHeights']=_0x346963['heightMap'],_0x346963['litOptions']['useNormals']=_0x346963['normalMap'],_0x346963['litOptions']['useClearCo'+'atNormals']=_0x346963['clearCoatN'+'ormalMap'],_0x346963['litOptions']['useAo']=_0x346963['aoMap']||_0x346963['aoVertexCo'+'lor']||_0x346963['litOptions']['ssao'],_0x346963['litOptions']['diffuseMap'+'Enabled']=_0x346963['diffuseMap'];}['_updateTex'+'Options'](_0x21301d,_0x23f30e,_0x10b2e5,_0xd08e89,_0x103470,_0x463cd4,_0x54d0c3,_0x149236){const _0x1543c4=_0x10b2e5==='opacity';if(!_0x54d0c3||_0x1543c4){const _0x596693=_0x10b2e5+'Map',_0x26de8f=_0x10b2e5+('VertexColo'+'r'),_0x5966dc=_0x10b2e5+('VertexColo'+'rChannel'),_0x394847=_0x596693+'Channel',_0x1f15f3=_0x596693+'Transform',_0x42cc62=_0x596693+'Uv',_0x4523fc=_0x596693+'Identifier';if(_0x10b2e5!=='light'&&(_0x21301d[_0x596693]=!(-0x1*-0xf2f+0xbb6+-0x2*0xd72),_0x21301d[_0x4523fc]=void(0xd33+0x2*0x1181+-0x12d*0x29),_0x21301d[_0x394847]='',_0x21301d[_0x1f15f3]=0x5c9+0x260*-0x6+0x877,_0x21301d[_0x42cc62]=-0x1104+-0x4*0xf2+0x533*0x4),_0x21301d[_0x26de8f]=!(0x7*0x2e3+-0x1*0x765+-0xccf),_0x21301d[_0x5966dc]='',_0x1543c4&&_0x23f30e['blendType']===Cs&&_0x23f30e['alphaTest']===-0x1a48+0x3*-0x95f+0x3665&&!_0x23f30e['alphaToCov'+'erage']&&_0x23f30e['opacityDit'+'her']===Sa)return;if(_0x10b2e5!=='height'&&_0x23f30e[_0x26de8f]&&_0x463cd4&&(_0x21301d[_0x26de8f]=_0x23f30e[_0x26de8f],_0x21301d[_0x5966dc]=_0x23f30e[_0x5966dc],_0x21301d['litOptions']['vertexColo'+'rs']=!(0x4ef*-0x3+-0xb24+0x19f1)),_0x23f30e[_0x596693]){let _0x508c91=!(0xe18+0x1a4d+-0x2865);if(_0x23f30e[_0x42cc62]===0x74f*-0x5+0x461*0x5+0x753*0x2&&!_0xd08e89&&(_0x508c91=!(-0x336+0x11a9*-0x1+0x14e0)),_0x23f30e[_0x42cc62]===0x170*0x4+-0xb1+-0x50e&&!_0x103470&&(_0x508c91=!(0x2*0x295+0x3c1+-0x8ea)),_0x508c91){const _0x25a388=_0x23f30e[_0x596693]['id'];let _0x3ff39b=_0x149236[_0x25a388];_0x3ff39b===void(-0x161f*0x1+-0x1*-0x1cf3+-0x4*0x1b5)&&(_0x149236[_0x25a388]=_0x10b2e5,_0x3ff39b=_0x10b2e5),_0x21301d[_0x596693]=!!_0x23f30e[_0x596693],_0x21301d[_0x4523fc]=_0x3ff39b,_0x21301d[_0x1f15f3]=this['_getMapTra'+'nsformID'](_0x23f30e['getUniform'](_0x1f15f3),_0x23f30e[_0x42cc62]),_0x21301d[_0x394847]=_0x23f30e[_0x394847],_0x21301d[_0x42cc62]=_0x23f30e[_0x42cc62];}}}}['_updateMin'+'Options'](_0x375dea,_0x1e8566,_0x2a543d){const _0x550d28=_0x2a543d===Rl;_0x375dea['litOptions']['opacitySha'+'dowDither']=_0x550d28?_0x1e8566['opacityDit'+'her']:_0x1e8566['opacitySha'+'dowDither'],_0x375dea['litOptions']['linearDept'+'h']=_0x550d28,_0x375dea['litOptions']['lights']=[];}['_updateMat'+'erialOptio'+'ns'](_0x21e98c,_0x289067,_0x582397){var _0x11bd45,_0x4407bc,_0x24d5bc,_0x591a40,_0x809e8,_0x541354;const _0x48726d=!!(_0x289067['useMetalne'+'ss']||_0x289067['specularMa'+'p']||_0x289067['sphereMap']||_0x289067['cubeMap']||mb(_0x289067['specular'])||_0x289067['specularit'+'yFactor']>0x236d*-0x1+-0x253*0x7+0x33b2&&_0x289067['useMetalne'+'ss']||_0x289067['enableGGXS'+'pecular']||_0x289067['clearCoat']>0x5b7*-0x1+-0x652+0xc09),_0xf2e0d6=!_0x289067['useMetalne'+'ss']||_0x289067['useMetalne'+'ssSpecular'+'Color'],_0x182d3e=_0x48726d&&(_0x289067['specularTi'+'nt']||!_0x289067['specularMa'+'p']&&!_0x289067['specularVe'+'rtexColor'])&&pb(_0x289067['specular']),_0x47c964=_0x48726d&&_0x289067['useMetalne'+'ssSpecular'+'Color']&&(_0x289067['specularit'+'yFactorTin'+'t']||_0x289067['specularit'+'yFactor']<0x29a+0x1cdb+-0x1f74&&!_0x289067['specularit'+'yFactorMap']),_0x17ab6e=_0x560a98=>_0x560a98?_0x560a98['format']===vl||_0x560a98['type']===Jo:!(0x9ac+0x3b*0x6d+0x92*-0x3d),_0x5266d9=(_0x33fd2c,_0x5948f4)=>Math['abs'](_0x33fd2c-_0x5948f4)<-0x1428+-0x1016+0x243e*0x1+0.0001;_0x21e98c['specularTi'+'nt']=_0x182d3e,_0x21e98c['specularit'+'yFactorTin'+'t']=_0x47c964,_0x21e98c['metalnessT'+'int']=_0x289067['useMetalne'+'ss']&&_0x289067['metalness']<-0x4a7+-0xcb5*0x1+0x115d,_0x21e98c['glossTint']=!(0x257a+0x64b+-0x2bc5),_0x21e98c['diffuseEnc'+'oding']=(_0x11bd45=_0x289067['diffuseMap'])==null?void(0x26b7+0x1606*-0x1+0x10b1*-0x1):_0x11bd45['encoding'],_0x21e98c['diffuseDet'+'ailEncodin'+'g']=(_0x4407bc=_0x289067['diffuseDet'+'ailMap'])==null?void(0x1*0xe09+-0xff0+0x1e7):_0x4407bc['encoding'],_0x21e98c['emissiveEn'+'coding']=(_0x24d5bc=_0x289067['emissiveMa'+'p'])==null?void(-0x4b8+0x126a+0xdb2*-0x1):_0x24d5bc['encoding'],_0x21e98c['lightMapEn'+'coding']=(_0x591a40=_0x289067['lightMap'])==null?void(-0x26d4+-0x22f+0x1*0x2903):_0x591a40['encoding'],_0x21e98c['packedNorm'+'al']=_0x17ab6e(_0x289067['normalMap']),_0x21e98c['refraction'+'Tint']=_0x5266d9(_0x289067['refraction'],0x2*-0xbc+0x7*-0x373+0x1*0x199e),_0x21e98c['refraction'+'IndexTint']=_0x5266d9(_0x289067['refraction'+'Index'],(-0x2*-0x81+0x1cce+-0x1dcf)/(0x239f+-0x206d+-0x331+0.5)),_0x21e98c['thicknessT'+'int']=_0x289067['useDynamic'+'Refraction']&&_0x289067['thickness']!==0x3*-0xcd4+0x24a1+0x4*0x77,_0x21e98c['specularEn'+'coding']=(_0x809e8=_0x289067['specularMa'+'p'])==null?void(0xf*-0x1a6+-0x240d+0x3cc7):_0x809e8['encoding'],_0x21e98c['sheenEncod'+'ing']=(_0x541354=_0x289067['sheenMap'])==null?void(-0x463*0x5+-0xcdb*-0x2+-0x3c7):_0x541354['encoding'],_0x21e98c['aoMapUv']=_0x289067['aoUvSet'],_0x21e98c['aoDetail']=!!_0x289067['aoDetailMa'+'p'],_0x21e98c['diffuseDet'+'ail']=!!_0x289067['diffuseDet'+'ailMap'],_0x21e98c['normalDeta'+'il']=!!_0x289067['normalMap'],_0x21e98c['normalDeta'+'ilPackedNo'+'rmal']=_0x17ab6e(_0x289067['normalDeta'+'ilMap']),_0x21e98c['diffuseDet'+'ailMode']=_0x289067['diffuseDet'+'ailMode'],_0x21e98c['aoDetailMo'+'de']=_0x289067['aoDetailMo'+'de'],_0x21e98c['clearCoatG'+'loss']=!!_0x289067['clearCoatG'+'loss'],_0x21e98c['clearCoatP'+'ackedNorma'+'l']=_0x17ab6e(_0x289067['clearCoatN'+'ormalMap']),_0x21e98c['iorTint']=_0x5266d9(_0x289067['refraction'+'Index'],(0x805+-0x2613+0x1e0f)/(-0x14ab+-0x209f*0x1+0x354b+0.5)),_0x582397['forcePassT'+'hroughSpec'+'ular']&&(_0x21e98c['specularEn'+'coding']='linear',_0x21e98c['sheenEncod'+'ing']='linear'),_0x21e98c['iridescenc'+'eTint']=_0x289067['iridescenc'+'e']!==-0xb71*-0x2+0x2691+-0x3d72,_0x21e98c['glossInver'+'t']=_0x289067['glossInver'+'t'],_0x21e98c['sheenGloss'+'Invert']=_0x289067['sheenGloss'+'Invert'],_0x21e98c['clearCoatG'+'lossInvert']=_0x289067['clearCoatG'+'lossInvert'],_0x21e98c['useSpecula'+'rColor']=_0xf2e0d6,_0x21e98c['litOptions']['separateAm'+'bient']=!(-0x1*-0x223a+-0x1d54+-0x1*0x4e5),_0x21e98c['litOptions']['pixelSnap']=_0x289067['pixelSnap'],_0x21e98c['litOptions']['ambientSH']=!!_0x289067['ambientSH'],_0x21e98c['litOptions']['twoSidedLi'+'ghting']=_0x289067['twoSidedLi'+'ghting'],_0x21e98c['litOptions']['occludeSpe'+'cular']=_0x289067['occludeSpe'+'cular'],_0x21e98c['litOptions']['occludeSpe'+'cularFloat']=_0x289067['occludeSpe'+'cularInten'+'sity']!==-0x2*0xd2+-0x1afd+0x2*0xe51,_0x21e98c['litOptions']['useMsdf']=!!_0x289067['msdfMap'],_0x21e98c['litOptions']['msdfTextAt'+'tribute']=!!_0x289067['msdfTextAt'+'tribute'],_0x21e98c['litOptions']['alphaToCov'+'erage']=_0x289067['alphaToCov'+'erage'],_0x21e98c['litOptions']['opacityFad'+'esSpecular']=_0x289067['opacityFad'+'esSpecular'],_0x21e98c['litOptions']['opacityDit'+'her']=_0x289067['opacityDit'+'her'],_0x21e98c['litOptions']['cubeMapPro'+'jection']=_0x289067['cubeMapPro'+'jection'],_0x21e98c['litOptions']['occludeDir'+'ect']=_0x289067['occludeDir'+'ect'],_0x21e98c['litOptions']['useSpecula'+'r']=_0x48726d,_0x21e98c['litOptions']['useSpecula'+'rityFactor']=(_0x47c964||!!_0x289067['specularit'+'yFactorMap'])&&_0x289067['useMetalne'+'ssSpecular'+'Color'],_0x21e98c['litOptions']['enableGGXS'+'pecular']=_0x289067['enableGGXS'+'pecular'],_0x21e98c['litOptions']['fresnelMod'+'el']=_0x289067['fresnelMod'+'el'],_0x21e98c['litOptions']['useRefract'+'ion']=(_0x289067['refraction']||!!_0x289067['refraction'+'Map'])&&(_0x289067['useDynamic'+'Refraction']||_0x21e98c['litOptions']['reflection'+'Source']!==vr),_0x21e98c['litOptions']['useClearCo'+'at']=!!_0x289067['clearCoat'],_0x21e98c['litOptions']['useSheen']=_0x289067['useSheen'],_0x21e98c['litOptions']['useIridesc'+'ence']=_0x289067['useIridesc'+'ence']&&_0x289067['iridescenc'+'e']!==-0x3a4+-0x169+0x50d,_0x21e98c['litOptions']['useMetalne'+'ss']=_0x289067['useMetalne'+'ss'],_0x21e98c['litOptions']['useDynamic'+'Refraction']=_0x289067['useDynamic'+'Refraction'],_0x21e98c['litOptions']['dispersion']=_0x289067['dispersion']>-0x7da+0x47*0x1a+0x29*0x4,_0x21e98c['litOptions']['shadowCatc'+'her']=_0x289067['shadowCatc'+'her'];}['_updateEnv'+'Options'](_0x450368,_0x2bbe96,_0x25d2ae,_0x3703e9){_0x450368['litOptions']['fog']=_0x2bbe96['useFog']?_0x3703e9['fog']:Kn,_0x450368['litOptions']['gamma']=_0x3703e9['shaderOutp'+'utGamma'],_0x450368['litOptions']['toneMap']=_0x2bbe96['useTonemap']?_0x3703e9['toneMappin'+'g']:nv;let _0x461f23=!(-0x56b*-0x7+-0xd*-0x27c+-0x4638);if(_0x2bbe96['envAtlas']&&_0x2bbe96['cubeMap']?(_0x450368['litOptions']['reflection'+'Source']=xh,_0x450368['litOptions']['reflection'+'Encoding']=_0x2bbe96['envAtlas']['encoding'],_0x450368['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x2bbe96['cubeMap']['encoding']):_0x2bbe96['envAtlas']?(_0x450368['litOptions']['reflection'+'Source']=vh,_0x450368['litOptions']['reflection'+'Encoding']=_0x2bbe96['envAtlas']['encoding']):_0x2bbe96['cubeMap']?(_0x450368['litOptions']['reflection'+'Source']=Th,_0x450368['litOptions']['reflection'+'Encoding']=_0x2bbe96['cubeMap']['encoding']):_0x2bbe96['sphereMap']?(_0x450368['litOptions']['reflection'+'Source']=hv,_0x450368['litOptions']['reflection'+'Encoding']=_0x2bbe96['sphereMap']['encoding']):_0x2bbe96['useSkybox']&&_0x25d2ae['envAtlas']&&_0x25d2ae['skybox']?(_0x450368['litOptions']['reflection'+'Source']=xh,_0x450368['litOptions']['reflection'+'Encoding']=_0x25d2ae['envAtlas']['encoding'],_0x450368['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x25d2ae['skybox']['encoding'],_0x461f23=!(-0x3f8*-0x7+-0x49*-0x1f+0xf*-0x271)):_0x2bbe96['useSkybox']&&_0x25d2ae['envAtlas']?(_0x450368['litOptions']['reflection'+'Source']=vh,_0x450368['litOptions']['reflection'+'Encoding']=_0x25d2ae['envAtlas']['encoding'],_0x461f23=!(-0xdf1+-0x57b*-0x7+0x824*-0x3)):_0x2bbe96['useSkybox']&&_0x25d2ae['skybox']?(_0x450368['litOptions']['reflection'+'Source']=Th,_0x450368['litOptions']['reflection'+'Encoding']=_0x25d2ae['skybox']['encoding'],_0x461f23=!(-0xcfd+-0x24bd*0x1+-0x29e*-0x13)):(_0x450368['litOptions']['reflection'+'Source']=vr,_0x450368['litOptions']['reflection'+'Encoding']=null),_0x2bbe96['ambientSH'])_0x450368['litOptions']['ambientSou'+'rce']=im,_0x450368['litOptions']['ambientEnc'+'oding']=null;else{const _0x28ca08=_0x2bbe96['envAtlas']||(_0x2bbe96['useSkybox']&&_0x25d2ae['envAtlas']?_0x25d2ae['envAtlas']:null);_0x28ca08&&!_0x2bbe96['sphereMap']?(_0x450368['litOptions']['ambientSou'+'rce']=rm,_0x450368['litOptions']['ambientEnc'+'oding']=_0x28ca08['encoding']):(_0x450368['litOptions']['ambientSou'+'rce']=am,_0x450368['litOptions']['ambientEnc'+'oding']=null);}_0x450368['litOptions']['skyboxInte'+'nsity']=_0x461f23,_0x450368['litOptions']['useCubeMap'+'Rotation']=_0x461f23&&_0x25d2ae['_skyboxRot'+'ationShade'+'rInclude'];}['_updateLig'+'htOptions'](_0x334bc0,_0x54d556,_0x590383,_0x16337e,_0x58aedf){if(_0x334bc0['lightMap']=!(0x22f9+-0xcbf+-0x1639),_0x334bc0['lightMapCh'+'annel']='',_0x334bc0['lightMapUv']=0xc*-0x26a+-0x1833+0x352b,_0x334bc0['lightMapTr'+'ansform']=-0x132a+-0x96e+0xf4*0x1e,_0x334bc0['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x1ad+-0x1*-0x1f16+-0x1d68),_0x334bc0['dirLightMa'+'p']=!(-0x1*-0x23c9+-0xfc7+0x9*-0x239),_0x16337e&&(_0x334bc0['litOptions']['noShadow']=(_0x16337e&wh)!==-0x1e*0x44+-0x2554+-0x4*-0xb53,(_0x16337e&ou)!==0x729+0xb5+-0x7de&&(_0x334bc0['lightMapEn'+'coding']=_0x54d556['lightmapPi'+'xelFormat']===Ne?'rgbm':'linear',_0x334bc0['lightMap']=!(0x151*-0x17+0xc7f+-0x2*-0x8e4),_0x334bc0['lightMapCh'+'annel']='rgb',_0x334bc0['lightMapUv']=-0x2114+-0x1*-0x1f97+0x1*0x17e,_0x334bc0['lightMapTr'+'ansform']=0x303*-0x6+0x274*-0xd+0x31f6,_0x334bc0['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!_0x590383['lightMap'],(_0x16337e&uv)!==-0x2283+0x10b2*0x1+0x11d1*0x1&&(_0x334bc0['dirLightMa'+'p']=!(-0x1783+-0x1042*0x2+0x801*0x7)),(_0x16337e&pv)!==0x1eeb+0x1bef*-0x1+-0xbf*0x4&&(_0x334bc0['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x2448+-0x13*0x171+-0x8e4)))),_0x590383['useLightin'+'g']){const _0x37c777=[],_0x3f93a3=_0x16337e?_0x16337e>>-0x234f+-0x2037+-0xd3*-0x52:Ss;_0x334bc0['litOptions']['lightMaskD'+'ynamic']=!!(_0x3f93a3&Ss),_0x58aedf&&(Ws['collectLig'+'hts'](ve,_0x58aedf[ve],_0x37c777,_0x3f93a3),_0x54d556['clusteredL'+'ightingEna'+'bled']||(Ws['collectLig'+'hts'](Ke,_0x58aedf[Ke],_0x37c777,_0x3f93a3),Ws['collectLig'+'hts'](Ze,_0x58aedf[Ze],_0x37c777,_0x3f93a3))),_0x334bc0['litOptions']['lights']=_0x37c777;}else _0x334bc0['litOptions']['lights']=[];_0x334bc0['litOptions']['lights']['length']===-0xd9e*0x1+0x16d4+0x106*-0x9&&!_0x54d556['clusteredL'+'ightingEna'+'bled']&&(_0x334bc0['litOptions']['noShadow']=!(0x3*0xbb7+0x17ae+-0x3ad3));}['_getMapTra'+'nsformID'](_0x4e14c7,_0x483b70){if(!_0x4e14c7)return 0x9fb+-0x1d52+0x1357;let _0x15c686=this['_mapXForms'][_0x483b70];_0x15c686||(_0x15c686=[],this['_mapXForms'][_0x483b70]=_0x15c686);for(let _0x1d86e2=0x16*-0x3e+-0x22e0+-0x4*-0xa0d;_0x1d86e2<_0x15c686['length'];_0x1d86e2++)if(G_(_0x15c686[_0x1d86e2][-0xf62+-0x1*-0xe8f+0xd3]['value'],_0x4e14c7[0x1ad9+-0x2*0x3b3+-0x1373]['value'])&&G_(_0x15c686[_0x1d86e2][-0x1f42+0x7*-0x281+0x30ca]['value'],_0x4e14c7[-0x2c4*0x5+0x1894*-0x1+0x2669]['value']))return _0x1d86e2+(-0x1243+-0x4*-0x665+-0x750);return _0x15c686['push'](_0x4e14c7);}}function rt(_0x2c485c,_0xf36e20=!(0x2*0xf5b+0x62e+0x1272*-0x2),_0x37dc8a=!(0x42d*0x2+0xb3*0xe+-0x489*0x4)){const _0x2f5c98={};return _0x2f5c98[_0x2c485c+'Map']='texture',_0x2f5c98[_0x2c485c+'MapTiling']='vec2',_0x2f5c98[_0x2c485c+'MapOffset']='vec2',_0x2f5c98[_0x2c485c+('MapRotatio'+'n')]='number',_0x2f5c98[_0x2c485c+'MapUv']='number',_0xf36e20&&(_0x2f5c98[_0x2c485c+'MapChannel']='string',_0x37dc8a&&(_0x2f5c98[_0x2c485c+('VertexColo'+'r')]='boolean',_0x2f5c98[_0x2c485c+('VertexColo'+'rChannel')]='string')),_0x2f5c98;}const $n={'name':'string','chunks':'chunks','mappingFormat':'string','_engine':'boolean','ambient':'rgb',...rt('ao'),...rt('aoDetail',!(0x251f+-0xb11*0x1+-0x1a0e),!(-0xcb7+0x25e4+-0x9*0x2cc)),'aoDetailMode':'string','aoIntensity':'number','diffuse':'rgb',...rt('diffuse'),...rt('diffuseDet'+'ail',!(-0x117*0x1b+0x60*0x4a+0x3*0x8f),!(0x1cd7+-0x6ac*-0x5+-0x3e32)),'diffuseDetailMode':'string','specular':'rgb','specularTint':'boolean',...rt('specular'),'occludeSpecular':'enum:occlu'+'deSpecular','specularityFactor':'number','specularityFactorTint':'boolean',...rt('specularit'+'yFactor'),'useMetalness':'boolean','metalness':'number','enableGGXSpecular':'boolean','metalnessTint':'boolean',...rt('metalness'),'useMetalnessSpecularColor':'boolean','anisotropyIntensity':'number','anisotropyRotation':'number',...rt('anisotropy'),'shininess':'number','gloss':'number','glossInvert':'boolean',...rt('gloss'),'clearCoat':'number',...rt('clearCoat'),'clearCoatGloss':'number','clearCoatGlossInvert':'boolean',...rt('clearCoatG'+'loss'),'clearCoatBumpiness':'number',...rt('clearCoatN'+'ormal',!(-0x2*0xffb+-0x990+0x2987)),'useSheen':'boolean','sheen':'rgb',...rt('sheen'),'sheenGloss':'number','sheenGlossInvert':'boolean',...rt('sheenGloss'),'fresnelModel':'number','emissive':'rgb',...rt('emissive'),'emissiveIntensity':'number',...rt('normal',!(0x801+-0x61*0x4a+0xab*0x1e)),'bumpiness':'number',...rt('normalDeta'+'il',!(-0x3c5+-0x1*-0x1775+-0x13af*0x1)),'normalDetailMapBumpiness':'number',...rt('height',!(0x15c5*-0x1+-0x82f*-0x1+0xd96),!(0x67*-0x38+0x1*-0x1cd1+0x3ab*0xe)),'heightMapFactor':'number','alphaToCoverage':'boolean','alphaTest':'number','alphaFade':'number','opacity':'number',...rt('opacity'),'opacityFadesSpecular':'boolean','opacityDither':'string','opacityShadowDither':'string','reflectivity':'number','refraction':'number','refractionTint':'boolean',...rt('refraction'),'refractionIndex':'number','dispersion':'number','thickness':'number','thicknessTint':'boolean',...rt('thickness'),'attenuation':'rgb','attenuationDistance':'number','useDynamicRefraction':'boolean','sphereMap':'texture','cubeMap':'cubemap','cubeMapProjection':'number','cubeMapProjectionBox':'boundingbo'+'x','useIridescence':'boolean','iridescence':'number','iridescenceTint':'boolean',...rt('iridescenc'+'e'),'iridescenceThicknessTint':'boolean','iridescenceThicknessMin':'number','iridescenceThicknessMax':'number','iridescenceRefractionIndex':'number',...rt('iridescenc'+'eThickness'),...rt('light'),'depthTest':'boolean','depthFunc':'enum:depth'+'Func','depthWrite':'boolean','depthBias':'number','slopeDepthBias':'number','cull':'enum:cull','blendType':'enum:blend'+'Type','useFog':'boolean','useLighting':'boolean','useSkybox':'boolean','useTonemap':'boolean','envAtlas':'texture','twoSidedLighting':'boolean','shadowCatcher':'boolean'},Cd=[];for(const l in $n)$n[l]==='texture'&&Cd['push'](l);const fm=[];for(const l in $n)$n[l]==='cubemap'&&fm['push'](l);const gb={'aoMapVertexColor':'boolean','diffuseMapTint':'boolean','diffuseMapVertexColor':'boolean','emissiveMapTint':'boolean','emissiveMapVertexColor':'boolean','glossMapVertexColor':'boolean','metalnessMapVertexColor':'boolean','opacityMapVertexColor':'boolean','specularAntialias':'boolean','specularMapTint':'boolean','specularMapVertexColor':'boolean','ambientTint':'boolean','emissiveTint':'boolean','diffuseTint':'boolean','sheenTint':'boolean','conserveEnergy':'boolean','useGamma':'boolean','useGammaTonemap':'boolean','sheenGlossTint':'boolean','anisotropy':'boolean'},Kc={},bv={};let no=new Set();const oc=new ie();class Ut extends tr{constructor(){super(),h(this,'userAttrib'+'utes',new Map()),h(this,'onUpdateSh'+'ader'),(this['_assetRefe'+'rences']={},this['_activePar'+'ams']=new Set(),this['_activeLig'+'htingParam'+'s']=new Set(),this['shaderOptB'+'uilder']=new _b(),this['reset']());}['reset'](){Object['keys'](Kc)['forEach'](_0x29d364=>{this['_'+_0x29d364]=Kc[_0x29d364]['value']();}),this['_uniformCa'+'che']={};}['copy'](_0x846988){return super['copy'](_0x846988),Object['keys'](Kc)['forEach'](_0x3d7488=>{this[_0x3d7488]=_0x846988[_0x3d7488];}),this['userAttrib'+'utes']=new Map(_0x846988['userAttrib'+'utes']),this;}['setAttribu'+'te'](_0x5606b8,_0x520e93){this['userAttrib'+'utes']['set'](_0x520e93,_0x5606b8);}['_setParame'+'ter'](_0x1e6952,_0x322dfc){no['add'](_0x1e6952),this['setParamet'+'er'](_0x1e6952,_0x322dfc);}['_setParame'+'ters'](_0x10fb86){_0x10fb86['forEach'](_0x33f0dc=>{this['_setParame'+'ter'](_0x33f0dc['name'],_0x33f0dc['value']);});}['_processPa'+'rameters'](_0x5a475a){const _0x49f4a3=this[_0x5a475a];_0x49f4a3['forEach'](_0x4cfad8=>{no['has'](_0x4cfad8)||delete this['parameters'][_0x4cfad8];}),this[_0x5a475a]=no,no=_0x49f4a3,no['clear']();}['_updateMap'](_0xe5da53){const _0x512e5d=_0xe5da53+'Map',_0x44d359=this[_0x512e5d];if(_0x44d359){this['_setParame'+'ter']('texture_'+_0x512e5d,_0x44d359);const _0x31d058=_0x512e5d+'Transform',_0xf16841=this['getUniform'](_0x31d058);_0xf16841&&this['_setParame'+'ters'](_0xf16841);}}['_allocUnif'+'orm'](_0x3e2b00,_0x18fc7e){let _0x42decd=this['_uniformCa'+'che'][_0x3e2b00];return _0x42decd||(_0x42decd=_0x18fc7e(),this['_uniformCa'+'che'][_0x3e2b00]=_0x42decd),_0x42decd;}['getUniform'](_0x1596d0,_0x290b64,_0x313f11){return bv[_0x1596d0](this,_0x290b64,_0x313f11);}['updateUnif'+'orms'](_0x5a4536,_0x30bd82){const _0x3314b3=_0x24347d=>this['getUniform'](_0x24347d,_0x5a4536,_0x30bd82);this['_setParame'+'ter']('material_a'+'mbient',_0x3314b3('ambient')),this['_setParame'+'ter']('material_d'+'iffuse',_0x3314b3('diffuse')),this['_setParame'+'ter']('material_a'+'oIntensity',this['aoIntensit'+'y']),this['useMetalne'+'ss']?((!this['metalnessM'+'ap']||this['metalness']<0x2*0x12c5+0x7e3*-0x1+-0x1da6)&&this['_setParame'+'ter']('material_m'+'etalness',this['metalness']),(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x3314b3('specular')),(!this['specularit'+'yFactorMap']||this['specularit'+'yFactorTin'+'t'])&&this['_setParame'+'ter']('material_s'+'pecularity'+'Factor',this['specularit'+'yFactor']),this['_setParame'+'ter']('material_s'+'heen',_0x3314b3('sheen')),this['_setParame'+'ter']('material_s'+'heenGloss',this['sheenGloss']),this['_setParame'+'ter']('material_r'+'efractionI'+'ndex',this['refraction'+'Index'])):(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x3314b3('specular')),this['enableGGXS'+'pecular']&&(this['_setParame'+'ter']('material_a'+'nisotropyI'+'ntensity',this['anisotropy'+'Intensity']),this['_setParame'+'ter']('material_a'+'nisotropyR'+'otation',[Math['cos'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD']),Math['sin'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD'])])),this['clearCoat']>0x134b+-0x19d6+-0x1*-0x68b&&(this['_setParame'+'ter']('material_c'+'learCoat',this['clearCoat']),this['_setParame'+'ter']('material_c'+'learCoatGl'+'oss',this['clearCoatG'+'loss']),this['_setParame'+'ter']('material_c'+'learCoatBu'+'mpiness',this['clearCoatB'+'umpiness'])),this['_setParame'+'ter']('material_g'+'loss',this['gloss']),w['call'](()=>{this['emissiveMa'+'p']&&this['emissive']['r']===-0x672+0x1498+-0xe26&&this['emissive']['g']===0x3cc+-0xb*0xc7+0x4c1&&this['emissive']['b']===0xf1*-0x28+-0x23c7+-0x1*-0x496f&&w['warnOnce']('Emissive\x20m'+'ap\x20is\x20set\x20'+'but\x20emissi'+'ve\x20color\x20i'+'s\x20black,\x20m'+'aking\x20the\x20'+'map\x20invisi'+'ble.\x20Set\x20e'+'missive\x20co'+'lor\x20to\x20whi'+'te\x20to\x20make'+'\x20the\x20map\x20v'+'isible.\x20Re'+'ndering\x20['+Q['toString']()+']',this);}),this['_setParame'+'ter']('material_e'+'missive',_0x3314b3('emissive')),this['_setParame'+'ter']('material_e'+'missiveInt'+'ensity',this['emissiveIn'+'tensity']),this['refraction']>-0x5*0x2bf+0x188f+-0x7*0x18c&&this['_setParame'+'ter']('material_r'+'efraction',this['refraction']),this['dispersion']>-0xb9e+0x2*0x7c9+-0x2c*0x17&&this['_setParame'+'ter']('material_d'+'ispersion',this['dispersion']),this['useDynamic'+'Refraction']&&(this['_setParame'+'ter']('material_t'+'hickness',this['thickness']),this['_setParame'+'ter']('material_a'+'ttenuation',_0x3314b3('attenuatio'+'n')),this['_setParame'+'ter']('material_i'+'nvAttenuat'+'ionDistanc'+'e',this['attenuatio'+'nDistance']===-0x1*-0x259+0x9d7+-0xc30?0x2313*-0x1+-0x1d90+0x40a3:(-0x1*0x1533+-0xed4+0x2408)/this['attenuatio'+'nDistance'])),this['useIridesc'+'ence']&&(this['_setParame'+'ter']('material_i'+'ridescence',this['iridescenc'+'e']),this['_setParame'+'ter']('material_i'+'ridescence'+'Refraction'+'Index',this['iridescenc'+'eRefractio'+'nIndex']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'in',this['iridescenc'+'eThickness'+'Min']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'ax',this['iridescenc'+'eThickness'+'Max'])),this['_setParame'+'ter']('material_o'+'pacity',this['opacity']),this['opacityFad'+'esSpecular']===!(0x3*-0x9cd+-0x1*-0xecb+0xe9d)&&this['_setParame'+'ter']('material_a'+'lphaFade',this['alphaFade']),this['occludeSpe'+'cular']&&this['_setParame'+'ter']('material_o'+'ccludeSpec'+'ularIntens'+'ity',this['occludeSpe'+'cularInten'+'sity']),this['cubeMapPro'+'jection']===av&&this['_setParame'+'ter'](_0x3314b3('cubeMapPro'+'jectionBox'));for(const _0x47ad92 in bn)this['_updateMap'](_0x47ad92);this['ambientSH']&&this['_setParame'+'ter']('ambientSH['+'0]',this['ambientSH']),this['normalMap']&&this['_setParame'+'ter']('material_b'+'umpiness',this['bumpiness']),this['normalMap']&&this['normalDeta'+'ilMap']&&this['_setParame'+'ter']('material_n'+'ormalDetai'+'lMapBumpin'+'ess',this['normalDeta'+'ilMapBumpi'+'ness']),this['heightMap']&&this['_setParame'+'ter']('material_h'+'eightMapFa'+'ctor',_0x3314b3('heightMapF'+'actor')),this['envAtlas']&&this['cubeMap']?(this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap'])):this['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']):this['cubeMap']?this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap']):this['sphereMap']&&this['_setParame'+'ter']('texture_sp'+'hereMap',this['sphereMap']),this['_setParame'+'ter']('material_r'+'eflectivit'+'y',this['reflectivi'+'ty']),this['_processPa'+'rameters']('_activePar'+'ams'),super['updateUnif'+'orms'](_0x5a4536,_0x30bd82);}['updateEnvU'+'niforms'](_0x2b3734,_0x54f2ac){!(this['envAtlas']||this['cubeMap']||this['sphereMap'])&&this['useSkybox']&&(_0x54f2ac['envAtlas']&&_0x54f2ac['skybox']?(this['_setParame'+'ter']('texture_en'+'vAtlas',_0x54f2ac['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',_0x54f2ac['skybox'])):_0x54f2ac['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',_0x54f2ac['envAtlas']):_0x54f2ac['skybox']&&this['_setParame'+'ter']('texture_cu'+'beMap',_0x54f2ac['skybox'])),this['_processPa'+'rameters']('_activeLig'+'htingParam'+'s');}['getShaderV'+'ariant'](_0x2ffdd4){const {device:_0x5d6122,scene:_0x3db1f2,pass:_0x1f6856,objDefs:_0x4fb3d2,sortedLights:_0x2614dc,cameraShaderParams:_0x46849d}=_0x2ffdd4;this['updateEnvU'+'niforms'](_0x5d6122,_0x3db1f2);const _0x2757aa=Si['get'](_0x5d6122)['getByIndex'](_0x1f6856),_0x384421=_0x1f6856===Zn||_0x1f6856===Rl||_0x2757aa['isShadow'];let _0x26afa1=_0x384421?Jd['optionsCon'+'textMin']:Jd['optionsCon'+'text'];_0x26afa1['defines']=$t['getCoreDef'+'ines'](this,_0x2ffdd4),_0x384421?this['shaderOptB'+'uilder']['updateMinR'+'ef'](_0x26afa1,_0x3db1f2,this,_0x4fb3d2,_0x1f6856,_0x2614dc):this['shaderOptB'+'uilder']['updateRef'](_0x26afa1,_0x3db1f2,_0x46849d,this,_0x4fb3d2,_0x1f6856,_0x2614dc),this['useFog']||_0x26afa1['defines']['set']('FOG','NONE'),_0x26afa1['defines']['set']('TONEMAP',ov[_0x26afa1['litOptions']['toneMap']]),this['onUpdateSh'+'ader']&&(_0x26afa1=this['onUpdateSh'+'ader'](_0x26afa1));const _0x3a2192=new Ad(_0x2ffdd4['viewUnifor'+'mFormat'],_0x2ffdd4['viewBindGr'+'oupFormat'],_0x2ffdd4['vertexForm'+'at']),_0xec1e94=Hn(_0x5d6122);_0xec1e94['register']('standard',Jd);const _0x34049c=_0xec1e94['getProgram']('standard',_0x26afa1,_0x3a2192,this['userId']);return this['_dirtyShad'+'er']=!(-0x1*0x2388+-0x2593*0x1+0x491c),_0x34049c;}['destroy'](){for(const _0x418de5 in this['_assetRefe'+'rences'])this['_assetRefe'+'rences'][_0x418de5]['_unbind']();this['_assetRefe'+'rences']=null,super['destroy']();}}h(Ut,'TEXTURE_PA'+'RAMETERS',Cd),h(Ut,'CUBEMAP_PA'+'RAMETERS',fm);const Pd=(_0x5b44f8,_0x52a4b8)=>{bv[_0x5b44f8]=_0x52a4b8;},um=(_0x42e433,_0x4ef880,_0x3fd18b,_0x450dd2)=>{Object['defineProp'+'erty'](Ut['prototype'],_0x42e433,{'get':_0x450dd2||function(){return this['_'+_0x42e433];},'set':_0x3fd18b}),Kc[_0x42e433]={'value':_0x4ef880};},Sb=_0x4f7ba4=>{const _0x1f7f95='_'+_0x4f7ba4['name'],_0x35a647=_0x4f7ba4['dirtyShade'+'rFunc']||(()=>!(0x2d2+0x8*0x4c1+0x146d*-0x2)),_0x15a4b7=function(_0x46d1c3){const _0x3d540e=this[_0x1f7f95];_0x3d540e!==_0x46d1c3&&(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x35a647(_0x3d540e,_0x46d1c3),this[_0x1f7f95]=_0x46d1c3);};um(_0x4f7ba4['name'],()=>_0x4f7ba4['defaultVal'+'ue'],_0x15a4b7,_0x4f7ba4['getterFunc']);},yb=_0x3b4872=>{const _0xe60738='_'+_0x3b4872['name'],_0x13b4fa=_0x3b4872['dirtyShade'+'rFunc']||(()=>!(-0x23*-0xd0+0xfb*0x20+0x1d0*-0x21)),_0x3b99b9=function(_0x4c7028){const _0x466954=this[_0xe60738];_0x466954['equals'](_0x4c7028)||(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x13b4fa(_0x466954,_0x4c7028),this[_0xe60738]=_0x466954['copy'](_0x4c7028));};um(_0x3b4872['name'],()=>_0x3b4872['defaultVal'+'ue']['clone'](),_0x3b99b9,_0x3b4872['getterFunc']);},Es=_0x6ea002=>_0x6ea002['defaultVal'+'ue']&&_0x6ea002['defaultVal'+'ue']['clone']?yb(_0x6ea002):Sb(_0x6ea002);function et(_0x1c84b5,_0x2e408d='rgb',_0x54d6ca=!(-0x3e*-0x72+0x1a2d*-0x1+-0x16f*0x1),_0x2bb5f2=0x24c6+-0x235e+-0x168){bn[_0x1c84b5]=_0x2e408d['length']||-(0x1246+-0x23dd+-0x1*-0x1198),Es({'name':_0x1c84b5+'Map','defaultValue':null,'dirtyShaderFunc':(_0xfc740f,_0x101dce)=>!!_0xfc740f!=!!_0x101dce||_0xfc740f&&(_0xfc740f['type']!==_0x101dce['type']||_0xfc740f['format']!==_0x101dce['format'])}),Es({'name':_0x1c84b5+'MapTiling','defaultValue':new J(0x1*0x863+-0xd58+-0x5*-0xfe,-0x1*-0x1acd+0x1da*0xf+0x3692*-0x1)}),Es({'name':_0x1c84b5+'MapOffset','defaultValue':new J(-0x1c8e+0x29c+0x12*0x171,0x3e*0x15+0x196e+-0x1e84)}),Es({'name':_0x1c84b5+('MapRotatio'+'n'),'defaultValue':0x0}),Es({'name':_0x1c84b5+'MapUv','defaultValue':_0x2bb5f2}),_0x2e408d&&(Es({'name':_0x1c84b5+'MapChannel','defaultValue':_0x2e408d}),_0x54d6ca&&(Es({'name':_0x1c84b5+('VertexColo'+'r'),'defaultValue':!(-0x46*0x21+0x147+0x7c0)}),Es({'name':_0x1c84b5+('VertexColo'+'rChannel'),'defaultValue':_0x2e408d})));const _0x2c42b2=_0x1c84b5+'MapTiling',_0x1cef48=_0x1c84b5+'MapOffset',_0x305cb4=_0x1c84b5+('MapRotatio'+'n'),_0x10d0bb=_0x1c84b5+('MapTransfo'+'rm');Pd(_0x10d0bb,(_0x864a06,_0x2ca615,_0x544c4d)=>{const _0xd3078b=_0x864a06[_0x2c42b2],_0x23ab03=_0x864a06[_0x1cef48],_0x306c3e=_0x864a06[_0x305cb4];if(_0xd3078b['x']===0x97*0xe+0x981+0x2*-0x8e1&&_0xd3078b['y']===0x4*-0x5f9+-0x52f*0x1+-0x745*-0x4&&_0x23ab03['x']===-0x2cd+0x33e*0x8+-0x1723*0x1&&_0x23ab03['y']===-0x1*-0x146a+0x1c85+-0x30ef&&_0x306c3e===-0x1*-0x613+0x1abf+-0x20d2)return null;const _0x750044=_0x864a06['_allocUnif'+'orm'](_0x10d0bb,()=>[{'name':'texture_'+_0x10d0bb+'0','value':new Float32Array(0x1de6+-0x2641+0x33*0x2a)},{'name':'texture_'+_0x10d0bb+'1','value':new Float32Array(0x4*-0x3d1+-0x1aeb+0x2a32*0x1)}]),_0x4dd92d=Math['cos'](_0x306c3e*Y['DEG_TO_RAD']),_0x4e37c7=Math['sin'](_0x306c3e*Y['DEG_TO_RAD']),_0x992589=_0x750044[0xac0+-0x20d0+-0x4*-0x584]['value'];_0x992589[-0x1*-0xb24+0x34f+-0xe73]=_0x4dd92d*_0xd3078b['x'],_0x992589[0x248b+0x11*0x12b+-0x3865]=-_0x4e37c7*_0xd3078b['y'],_0x992589[0x8*0x3e5+-0x1*-0x25e1+-0x4507]=_0x23ab03['x'];const _0x4fabd9=_0x750044[-0x1*-0xc97+-0x26d3*0x1+-0x8bf*-0x3]['value'];return _0x4fabd9[0xa*-0xf7+-0x689+0x102f]=_0x4e37c7*_0xd3078b['x'],_0x4fabd9[-0x16bd+-0x11cb+-0x9*-0x481]=_0x4dd92d*_0xd3078b['y'],_0x4fabd9[-0x65*0x3c+-0x309+0x7*0x3d1]=0x191*0x17+0x1f84+-0x438a-_0xd3078b['y']-_0x23ab03['y'],_0x750044;});}function Ra(_0x10924c,_0x5946ae){Es({'name':_0x10924c,'defaultValue':_0x5946ae,'getterFunc':function(){return this['_dirtyShad'+'er']=!(0x23*-0xe+-0x718+-0x902*-0x1),this['_'+_0x10924c];}}),Pd(_0x10924c,(_0x1b4fb0,_0x12690e,_0x3ce929)=>{const _0x406a62=_0x1b4fb0['_allocUnif'+'orm'](_0x10924c,()=>new Float32Array(0x12f8+-0x1*0x1eb2+0xbbd)),_0x575b92=_0x1b4fb0[_0x10924c];return oc['linear'](_0x575b92),_0x406a62[0x114+-0xcc5+0x1*0xbb1]=oc['r'],_0x406a62[-0xbe4*0x1+0x97c+-0x269*-0x1]=oc['g'],_0x406a62[-0x92*0x35+0x180d+0x62f]=oc['b'],_0x406a62;});}function ze(_0x522ad7,_0x3b6688,_0x38cffa){Es({'name':_0x522ad7,'defaultValue':_0x3b6688,'dirtyShaderFunc':(_0x572e9c,_0x4ee2f8)=>(_0x572e9c===0x1b70+-0x2535+-0x3d*-0x29||_0x572e9c===-0x1*-0x815+-0x9e9*0x3+0x15a7)!=(_0x4ee2f8===0x17f2+-0xf*0x79+-0x10db||_0x4ee2f8===0x240+0x569+0xa*-0xc4)}),Pd(_0x522ad7,_0x38cffa);}function oo(_0x2adfb7,_0x52a188){Es({'name':_0x2adfb7,'defaultValue':null,'dirtyShaderFunc':(_0x19346e,_0x2b7a5b)=>!!_0x19346e==!!_0x2b7a5b}),Pd(_0x2adfb7,_0x52a188);}function ke(_0x53ec36,_0xcf30){Es({'name':_0x53ec36,'defaultValue':_0xcf30});}function vb(){Ra('ambient',new ie(0xa0f+0x1fe5+0x1*-0x29f3,-0x1f66*0x1+-0x1873+0x37da,-0x1fcf+-0x1*0xbb6+-0xe82*-0x3)),Ra('diffuse',new ie(0x1014+-0x7*0x381+0x43a*0x2,0xc20+-0xad*-0x7+-0x10da,-0x3f*0x3a+0x448*-0x2+-0x3*-0x79d)),Ra('specular',new ie(-0x1*0x24a0+0x1684+0x4b4*0x3,-0x23db+-0x6fd*-0x4+0x7e7,0x19c8+-0x23b*0x5+-0x7*0x217)),Ra('emissive',new ie(-0x737+-0x3ea+0x1*0xb21,-0x1*-0xa2a+0x552+-0xf7c,0x7*0x50d+-0x1259+-0xe*0x137)),Ra('sheen',new ie(-0x1246+-0x223*-0x1+0x1024,-0x34*-0x7f+-0x1*0x19aa+0x3*-0xb,-0x257e+-0x2ee+-0x1*-0x286d)),Ra('attenuatio'+'n',new ie(-0x1*-0x12a4+0xf86+-0x2229,-0x1*-0x179b+-0x1c67+0x4cd,-0x1*-0x2559+-0xa*-0x5a+0x28dc*-0x1)),ze('emissiveIn'+'tensity',-0xa93+-0x5b3+-0x3*-0x56d),ze('specularit'+'yFactor',-0x9f2+0x1832+-0xe3f*0x1),ze('sheenGloss',-0x391+-0x22b*0x9+0x1714),ze('gloss',-0x4*-0x699+0x1ccd+-0x3731+0.25),ze('aoIntensit'+'y',0x16*-0x62+-0x6dc+0x22f*0x7),ze('heightMapF'+'actor',-0x1*-0x127d+-0x1*0x1567+0xf9*0x3,(_0x589a83,_0x460414,_0x34bd40)=>_0x589a83['heightMapF'+'actor']*(-0xffb*-0x1+-0x1e16*-0x1+-0x2e11+0.025)),ze('opacity',-0x1867+-0x6cb+0x1f33),ze('alphaFade',-0xe*0x191+0x23e3*0x1+-0x4c*0x2f),ze('alphaTest',-0x9*-0x4a+-0x236b+0x1f*0x10f),ze('bumpiness',0x1063*-0x1+0x7e*0x1+0xfe6),ze('normalDeta'+'ilMapBumpi'+'ness',0x156e+-0x1f2*0x14+0x117b),ze('reflectivi'+'ty',0x1*-0x7a9+0x8a3+-0xf9),ze('occludeSpe'+'cularInten'+'sity',0x8bb+-0x268e+-0x2e*-0xa6),ze('refraction',0x17*-0xa3+-0x305*0xc+0x5*0xa2d),ze('refraction'+'Index',(0x3*0x27+0x1554+-0x15c8)/(0xb07*-0x2+0x1*0x51a+0x10f5+0.5)),ze('dispersion',-0x1830+0x967+0x5*0x2f5),ze('thickness',0x11b4+0x1*-0x1a5a+0xf6*0x9),ze('attenuatio'+'nDistance',0x14d0+0x1199+-0x2669*0x1),ze('metalness',-0x47b+0xe18+-0xf*0xa4),ze('anisotropy'+'Intensity',0x2633+-0x7*0x11f+-0x1e5a),ze('anisotropy'+'Rotation',-0x26e9*0x1+0x2*-0xce6+-0xcf1*-0x5),ze('clearCoat',0x1*-0xc6a+0x1*-0xf40+0x1baa),ze('clearCoatG'+'loss',0xd13+0x2f2+-0x1004),ze('clearCoatB'+'umpiness',-0xfa2*-0x1+0x89d+0x6b*-0x3a),ze('aoUvSet',0x24c8+-0x1f68+-0x560,null),ze('iridescenc'+'e',-0x2*0x20c+0x1fc8+0x376*-0x8),ze('iridescenc'+'eRefractio'+'nIndex',(-0x4*-0x50a+-0x685*-0x5+-0x34c0)/(0xa01+-0x1*-0x14e5+0xb*-0x2cf+0.5)),ze('iridescenc'+'eThickness'+'Min',0x1*-0x17a3+-0x773*0x5+0x3ce2),ze('iridescenc'+'eThickness'+'Max',-0x1*0x1ffa+-0x5e*0x40+0x20e*0x1b),oo('ambientSH'),oo('cubeMapPro'+'jectionBox',(_0x24bc96,_0x20b14e,_0x25ba3b)=>{const _0x5b54cd=_0x24bc96['_allocUnif'+'orm']('cubeMapPro'+'jectionBox',()=>[{'name':'envBoxMin','value':new Float32Array(-0x1d65+-0xa6*0x28+0x3758)},{'name':'envBoxMax','value':new Float32Array(-0x22ab+-0x1651+0x38ff)}]),_0x5b8d0f=_0x24bc96['cubeMapPro'+'jectionBox']['getMin'](),_0x2fef88=_0x5b54cd[-0x89*-0x1c+0x1967+-0x2863]['value'];_0x2fef88[0xa20+0x5bc*0x5+-0x17e*0x1a]=_0x5b8d0f['x'],_0x2fef88[0x1ca4+0xc6d+-0x2910]=_0x5b8d0f['y'],_0x2fef88[0x5b*0x3d+0x200*-0xb+-0x53*-0x1]=_0x5b8d0f['z'];const _0x3cec78=_0x24bc96['cubeMapPro'+'jectionBox']['getMax'](),_0x1e07f1=_0x5b54cd[0x721*0x1+0x2c*-0x98+0x1300]['value'];return _0x1e07f1[0x12*0x227+0x47c*0x8+0x1*-0x4a9e]=_0x3cec78['x'],_0x1e07f1[-0x228c*0x1+-0xee1+0x316e]=_0x3cec78['y'],_0x1e07f1[0x4*0x1c1+-0x21fc+0x1afa]=_0x3cec78['z'],_0x5b54cd;}),ke('specularTi'+'nt',!(-0x2*0x18e+0x568+-0x24b)),ke('specularit'+'yFactorTin'+'t',!(0xde*-0x25+-0x59f*-0x1+0x1a78)),ke('useMetalne'+'ss',!(-0x12d1+-0x49f+0x1771)),ke('useMetalne'+'ssSpecular'+'Color',!(0x3*0x92e+-0x8b6+-0x12d3)),ke('useSheen',!(-0xbdf+-0x311+-0x4fb*-0x3)),ke('enableGGXS'+'pecular',!(-0x3bd*0x1+-0x63*-0x2+0x2*0x17c)),ke('occludeDir'+'ect',!(-0x2175+0x1cd7*0x1+0x49f)),ke('opacityFad'+'esSpecular',!(0x373*0x3+0x25b1*0x1+-0x300a)),ke('occludeSpe'+'cular',bd),ke('fresnelMod'+'el',Yp),ke('useDynamic'+'Refraction',!(-0x7a1+-0xa*-0x22a+0x1*-0xe02)),ke('cubeMapPro'+'jection',tm),ke('useFog',!(0x20ba+-0x234f+-0x295*-0x1)),ke('useLightin'+'g',!(0x9b0+-0x5*-0x328+-0xa*0x28c)),ke('useTonemap',!(0xd92+-0x7f*0x7+0xa19*-0x1)),ke('useSkybox',!(-0x143b+0x1449+0x1*-0xe)),ke('forceUv1',!(0x1f1d+0x14d2+-0x2*0x19f7)),ke('pixelSnap',!(0x12*0x1+-0x1*-0x24a7+-0x24b8)),ke('twoSidedLi'+'ghting',!(-0x1829*-0x1+-0x205*0x5+-0xe0f)),ke('nineSliced'+'Mode',void(0x8e*-0x4+-0x2*0x1019+-0xa*-0x371)),ke('msdfTextAt'+'tribute',!(-0x727+-0x8e9*-0x1+0x1c1*-0x1)),ke('useIridesc'+'ence',!(-0xec*-0x25+-0x12fe+-0x35*0x49)),ke('glossInver'+'t',!(-0x1*-0x3cc+0xe4e+-0x1219)),ke('sheenGloss'+'Invert',!(-0x12*0x11+0x49*-0x7d+0x24d8)),ke('clearCoatG'+'lossInvert',!(0xef*0x19+0x139a+-0x2af0)),ke('opacityDit'+'her',Sa),ke('opacitySha'+'dowDither',Sa),ke('shadowCatc'+'her',!(0x378+-0x1a1f+0x8*0x2d5)),et('diffuse'),et('specular'),et('emissive'),et('thickness','g'),et('specularit'+'yFactor','g'),et('normal',''),et('metalness','g'),et('gloss','g'),et('opacity','a'),et('refraction','g'),et('height','g',!(0x13b7+-0x126a+-0x14c)),et('ao','g'),et('light','rgb',!(-0x72d+0xc44+0x1*-0x517),0x5f*0x33+-0x1*0x8d1+-0xa1b),et('msdf',''),et('diffuseDet'+'ail','rgb',!(-0x11a7*0x1+0x232a+-0x1b*0xa6)),et('normalDeta'+'il',''),et('aoDetail','g',!(-0xe33+-0x689+0x14bd)),et('clearCoat','g'),et('clearCoatG'+'loss','g'),et('clearCoatN'+'ormal',''),et('sheen','rgb'),et('sheenGloss','g'),et('iridescenc'+'e','g'),et('iridescenc'+'eThickness','g'),et('anisotropy',''),ke('diffuseDet'+'ailMode',p_),ke('aoDetailMo'+'de',p_),oo('cubeMap'),oo('sphereMap'),oo('envAtlas');const _0x3d4a31=function(){return this['_prefilter'+'edCubemaps'];},_0x38add4=function(_0x4ccd01){const _0x39d111=this['_prefilter'+'edCubemaps'];_0x4ccd01=_0x4ccd01||[];let _0x23e350=!(0x3*-0x7ae+0x1061+0x6aa),_0x28c3b1=!(0x148*-0x1a+0x7*-0x305+0x3673);for(let _0x535731=-0x24a1*0x1+0x13*-0x13d+0x58*0xaf;_0x535731<-0x1bce+0xbbc+0x1018;++_0x535731){const _0x565a93=_0x4ccd01[_0x535731]||null;_0x39d111[_0x535731]!==_0x565a93&&(_0x39d111[_0x535731]=_0x565a93,_0x23e350=!(0x584*0x2+0x375+-0xe7d)),_0x28c3b1=_0x28c3b1&&!!_0x39d111[_0x535731];}_0x23e350&&(_0x28c3b1?this['envAtlas']=Tv['generatePr'+'efilteredA'+'tlas'](_0x39d111,{'target':this['envAtlas']}):this['envAtlas']&&(this['envAtlas']['destroy'](),this['envAtlas']=null),this['_dirtyShad'+'er']=!(0x1*0x1161+0xec0+-0x2021));},_0x1422e6=[null,null,null,null,null,null];um('prefiltere'+'dCubemaps',()=>_0x1422e6['slice'](),_0x38add4,_0x3d4a31);}vb();const Rt=class Rt{static['render'](_0x178fdd,_0x420c62){const _0x440889=_0x420c62['device'],_0x5dfdfa=_0x178fdd['cells'],_0x26246f=_0x178fdd['lightsBuff'+'er'],_0x13aee1=_0x26246f['boundsMin'],_0x3bd3b9=_0x26246f['boundsDelt'+'a'],_0x1bd15f=_0x13aee1['clone']()['add'](_0x3bd3b9),_0xca498c=_0x26246f['boundsDelt'+'a']['clone']()['div'](_0x5dfdfa),_0xdf01cb=Rt['gridPositi'+'ons'],_0x4d97c9=Rt['gridColors'],_0x3d162e=new ie(0x4fa*-0x7+0x6*0x3c7+-0x2*-0x616+0.3,-0x1978+-0xef*0x28+-0x30*-0x14f+0.3,0x5*0x9+0x4*-0x10+0x13+0.3),_0x4d7075=(_0x25954e,_0x29fb6e,_0x531aad,_0xfac4c6,_0x5bd7f9,_0x5e096c,_0x24ce1b,_0x4a5813,_0x51d4d6)=>{for(let _0x52280b=-0x1d60+-0x1e13+0x3b73;_0x52280b<=_0x25954e;_0x52280b++)for(let _0x972bc3=0x25e6+0x1*0x8e9+-0x2ecf;_0x972bc3<=_0x29fb6e;_0x972bc3++){const _0x9c908d=_0x531aad+_0x52280b*_0xfac4c6,_0x376950=_0x5bd7f9+_0x972bc3*_0x5e096c;_0x51d4d6===-0x250b+-0x1*0x5e3+-0xa*-0x44b?_0xdf01cb['push'](_0x9c908d,_0x24ce1b,_0x376950,_0x9c908d,_0x4a5813,_0x376950):_0x51d4d6===-0x41a+0x2*0x6c8+-0x975?_0xdf01cb['push'](_0x9c908d,_0x376950,_0x24ce1b,_0x9c908d,_0x376950,_0x4a5813):_0x51d4d6===-0x38b*-0x7+-0x1b42+0x277&&_0xdf01cb['push'](_0x24ce1b,_0x9c908d,_0x376950,_0x4a5813,_0x9c908d,_0x376950);}};if(_0x4d7075(_0x5dfdfa['x'],_0x5dfdfa['z'],_0x13aee1['x'],_0xca498c['x'],_0x13aee1['z'],_0xca498c['z'],_0x13aee1['y'],_0x1bd15f['y'],-0x9ac+-0x7*-0x409+-0x1293),_0x4d7075(_0x5dfdfa['x'],_0x5dfdfa['y'],_0x13aee1['x'],_0xca498c['x'],_0x13aee1['y'],_0xca498c['y'],_0x13aee1['z'],_0x1bd15f['z'],-0xdcb+0x8b0+0x3*0x1b4),_0x4d7075(_0x5dfdfa['y'],_0x5dfdfa['z'],_0x13aee1['y'],_0xca498c['y'],_0x13aee1['z'],_0xca498c['z'],_0x13aee1['x'],_0x1bd15f['x'],-0xb*-0x2f9+-0x1*0x1731+0x10*-0x98),_0xdf01cb['length']){const _0x43ce1b=_0xdf01cb['length']/(0x1322+-0x5*-0x58f+0xa*-0x4b1);if(_0x43ce1b!==_0x4d97c9['length']/(0x1*-0x250f+-0x61e+0x2b31)){_0x4d97c9['length']=0x14c8+0x21ea+-0x36b2;for(let _0x180dbd=-0x176e+0x11c3*-0x1+0x2931;_0x180dbd<_0x43ce1b;_0x180dbd++)_0x4d97c9['push'](_0x3d162e['r'],_0x3d162e['g'],_0x3d162e['b'],_0x3d162e['a']);}_0x420c62['drawLineAr'+'rays'](_0xdf01cb,_0x4d97c9),_0xdf01cb['length']=-0x90+0x4f4+0x4*-0x119;}let _0x35cf5e=Rt['mesh'];_0x35cf5e||(_0x35cf5e=new Ge(_0x440889),_0x35cf5e['clear'](!(0x1*0x1804+-0x17f8+0xc*-0x1),!(-0x1*0x1708+0x1c85*0x1+-0x57d)),Rt['mesh']=_0x35cf5e);const _0x4b1ac0=[],_0x5dd9a2=[],_0x1bd256=[],_0x397a4e=_0x178fdd['_cells']['x'],_0x1e0f18=_0x178fdd['_cells']['z'],_0xc5488c=_0x178fdd['counts'],_0x13c59f=_0x178fdd['_maxCellLi'+'ghtCount'],_0x2b4e68=new D(),_0x27119c=new D(),_0x48af68=new D(),_0x37ccb3=_0x3bd3b9['clone']()['div'](_0x5dfdfa);let _0x2ced60=-0x151*-0xa+0x1*-0x8b0+0x2*-0x23d;for(let _0x5308e2=0x781*-0x2+0x308*0x8+-0x93e;_0x5308e2<_0x5dfdfa['x'];_0x5308e2++)for(let _0x162175=-0x55*0x3d+-0x28d+0x16ce;_0x162175<_0x5dfdfa['z'];_0x162175++)for(let _0x3d82ff=-0x258+0x196+0xc2;_0x3d82ff<_0x5dfdfa['y'];_0x3d82ff++){const _0x25fa28=_0x5308e2+_0x397a4e*(_0x162175+_0x3d82ff*_0x1e0f18),_0x2aef13=_0xc5488c[_0x25fa28];if(_0x2aef13>0x1*0x1767+0x1c2b+0x19c9*-0x2){_0x2b4e68['x']=_0x13aee1['x']+_0x37ccb3['x']*_0x5308e2,_0x2b4e68['y']=_0x13aee1['y']+_0x37ccb3['y']*_0x3d82ff,_0x2b4e68['z']=_0x13aee1['z']+_0x37ccb3['z']*_0x162175,_0x27119c['add2'](_0x2b4e68,_0x37ccb3),_0x4b1ac0['push'](_0x2b4e68['x'],_0x2b4e68['y'],_0x27119c['z']),_0x4b1ac0['push'](_0x27119c['x'],_0x2b4e68['y'],_0x27119c['z']),_0x4b1ac0['push'](_0x27119c['x'],_0x27119c['y'],_0x27119c['z']),_0x4b1ac0['push'](_0x2b4e68['x'],_0x27119c['y'],_0x27119c['z']),_0x4b1ac0['push'](_0x27119c['x'],_0x2b4e68['y'],_0x2b4e68['z']),_0x4b1ac0['push'](_0x2b4e68['x'],_0x2b4e68['y'],_0x2b4e68['z']),_0x4b1ac0['push'](_0x2b4e68['x'],_0x27119c['y'],_0x2b4e68['z']),_0x4b1ac0['push'](_0x27119c['x'],_0x27119c['y'],_0x2b4e68['z']),_0x48af68['lerp'](Rt['colorLow'],Rt['colorHigh'],_0x2aef13/_0x13c59f)['round']();for(let _0x272331=0x11a0+-0x2171+0xfd1*0x1;_0x272331<-0x1158+-0x472+0x15d2;_0x272331++)_0x5dd9a2['push'](_0x48af68['x'],_0x48af68['y'],_0x48af68['z'],0x1*-0x132a+0xb*-0xf9+-0x2*-0xeef);_0x1bd256['push'](_0x2ced60*(-0x225e+-0x16b8+0x391e)+(-0x823+-0x241+-0x14*-0x85),_0x2ced60*(0x1146+-0x1*0x1387+0x249)+(0x1*0x13b1+0x1503*-0x1+0x153),_0x2ced60*(-0x2471*-0x1+-0x20d2+0x1*-0x397)+(-0x2*-0x472+-0x189c+0xfbb*0x1)),_0x1bd256['push'](_0x2ced60*(0x2*0xa75+0x2dc*-0xb+0xa92)+(-0x1c06+-0x1991+0x3*0x11de),_0x2ced60*(0x1*0xed1+0x1b66+-0x2a2f*0x1)+(0x1d99*-0x1+-0x1b03+0x3*0x12df),_0x2ced60*(0x4c3*-0x1+-0x29*-0x41+-0x2*0x2cf)+(0x9*0x49+0x218f+-0x241e)),_0x1bd256['push'](_0x2ced60*(-0x55c+-0x1853+-0x1*-0x1db7)+(-0x10*-0x15b+-0xd0*-0x25+-0x33bc),_0x2ced60*(0x21dd*-0x1+0x26*-0x3+0x2257)+(0xf3+0x132f+0x141d*-0x1),_0x2ced60*(0x7*-0x179+0x1*0x8a5+0x1b2)+(-0xc95*0x3+-0x79e+-0x8c*-0x53)),_0x1bd256['push'](_0x2ced60*(0x1c5a+-0x6c2+-0x1590)+(0xa*-0xfa+-0x1053+-0x2*-0xd0f),_0x2ced60*(0x477+-0x1d47+-0x1e*-0xd4)+(-0x12fb+-0x1*0x1d11+-0x99d*-0x5),_0x2ced60*(0xaa2*0x2+0x358+0x4*-0x625)+(-0x9f8+0x2*0x8f6+-0x7ee)),_0x1bd256['push'](_0x2ced60*(-0x1f7c+-0x1*-0xebb+0x10c9*0x1)+(-0x9*0x13a+-0x1fd9+0x2ae6),_0x2ced60*(-0x811*-0x1+-0x2*-0x39a+-0xf3d)+(-0x8e3+0x19*0x3+0x89a),_0x2ced60*(0x62a+-0x1a15+-0x13f3*-0x1)+(0x89*0x15+-0x1a1b+-0x3b9*-0x4)),_0x1bd256['push'](_0x2ced60*(-0x1d3f*-0x1+-0x1589+0x3d7*-0x2)+(-0x1ecd+-0xbba+-0x1*-0x2a89),_0x2ced60*(0x118a+0x1bde+-0x2d60)+(0x2b*-0x5+0x3*0x985+-0x1bb1),_0x2ced60*(-0x1a1*-0x7+0x1cf1+-0x2850)+(-0x2*-0xffd+-0x1b2e+-0x4c6)),_0x1bd256['push'](_0x2ced60*(0x1a11+-0x656+-0x13b3*0x1)+(-0x1f6*-0x3+-0x1fb4+0x259*0xb),_0x2ced60*(0x7*0x403+0x1*-0x3a9+-0x1864)+(-0x3f+-0x151f+-0xaaf*-0x2),_0x2ced60*(0x1*-0x334+0x1efd+0x1*-0x1bc1)+(-0xcd6+-0x8a5+0x157f)),_0x1bd256['push'](_0x2ced60*(0x49*-0x59+0x1*-0xe05+0x276e)+(-0xa*0x1ca+-0x3*0x1cf+0x1751*0x1),_0x2ced60*(0x1*-0x2000+-0x12d*0x1+0x2135)+(-0x1343+-0x1*-0x7e7+-0x3cb*-0x3),_0x2ced60*(-0x71*-0x6+-0x1891+-0x1*-0x15f3)+(-0x3*-0x611+0x39b*-0x1+0x4dc*-0x3)),_0x1bd256['push'](_0x2ced60*(0x20f4+-0x5*-0x2a5+0x1*-0x2e25)+(0xb16*-0x2+0x2f*-0xd+0x1890),_0x2ced60*(-0x26*0x3+-0xe71*-0x2+0x38d*-0x8)+(-0x100+0x86f*0x2+-0xfda),_0x2ced60*(0xd*0x10c+0x8a1+-0x1635)+(0x1e17+0x7c6+-0x25db)),_0x1bd256['push'](_0x2ced60*(0x21e5*-0x1+0x1*0x1727+0xac6)+(-0xb1b+0x185b+0x69e*-0x2),_0x2ced60*(0xd82+-0x4*0x92b+0x1732)+(-0x1c8b*0x1+-0xb2+0x1d44),_0x2ced60*(-0x914+0x5d3+0x349)+(-0x17c4+0x961+0xe65)),_0x1bd256['push'](_0x2ced60*(-0x176b+0x1*-0x7c2+0x1f35)+(-0x249*0x3+0x1*0x1156+0x53b*-0x2),_0x2ced60*(0x1*-0x1cd8+-0x7e8+0x24c8)+(0x23*-0x2b+0x1186+-0xba5),_0x2ced60*(0x26db+-0xe3*-0x7+-0x2d08)+(0x3b*-0x9d+0xc*0x101+0x1829)),_0x1bd256['push'](_0x2ced60*(0x2*0xdea+0x170b*0x1+-0x32d7)+(-0x994*0x4+-0x13*-0x30+0x1160*0x2),_0x2ced60*(-0x1e9f*-0x1+0x2*0x7ec+-0x2e6f)+(-0xbbb+0x25e6+-0x68a*0x4),_0x2ced60*(-0x635+-0x84a*0x3+0x1f1b)+(0x2f*-0x21+0x19e2+0x89*-0x25)),_0x2ced60++;}}if(_0x2ced60){if(_0x35cf5e['setPositio'+'ns'](_0x4b1ac0),_0x35cf5e['setNormals'](new Float32Array(_0x4b1ac0['length'])),_0x35cf5e['setColors3'+'2'](_0x5dd9a2),_0x35cf5e['setIndices'](_0x1bd256),_0x35cf5e['update'](js,!(-0x13*0xe9+-0x13a*-0x2+0x1*0xed8)),!Rt['meshInstan'+'ce']){const _0x4ff8c1=new Ut();_0x4ff8c1['useLightin'+'g']=!(-0x12d2+-0x2110+0x33e3),_0x4ff8c1['emissive']=new ie(-0x226c+0x1*-0x6e9+0x2956,0xa4*-0x20+0x2136+-0xcb5,-0xa9*-0xf+-0x19b9*0x1+0x1*0xfd3),_0x4ff8c1['emissiveVe'+'rtexColor']=!(0x4a1*-0x8+0xb9e+0x196a),_0x4ff8c1['blendType']=Ed,_0x4ff8c1['depthWrite']=!(0xd13+-0x2f3*-0xd+-0x3*0x1123),_0x4ff8c1['update']();const _0x39ef0f=new Ie('WorldClust'+'ersDebug');_0x39ef0f['worldTrans'+'form']=te['IDENTITY'],_0x39ef0f['_dirtyWorl'+'d']=_0x39ef0f['_dirtyNorm'+'al']=!(-0x3f*0x4d+0x136e*-0x1+0x2662),Rt['meshInstan'+'ce']=new He(_0x35cf5e,_0x4ff8c1,_0x39ef0f),Rt['meshInstan'+'ce']['cull']=!(-0x4*-0x86f+0x1f*0x137+0x23b2*-0x2);}const _0x21994c=Rt['meshInstan'+'ce'];_0x420c62['immediate']['drawMesh'](_0x21994c['material'],_0x21994c['node']['worldTrans'+'form'],null,_0x21994c,_0x420c62['defaultDra'+'wLayer']);}}};h(Rt,'gridPositi'+'ons',[]),h(Rt,'gridColors',[]),h(Rt,'mesh',null),h(Rt,'meshInstan'+'ce',null),h(Rt,'colorLow',new D(0x1*0x206d+0x1726+-0x3792,0xe8c+0x2354+0x1*-0x31df,-0x4*-0x4e3+-0xb6c+-0x1b*0x4d)),h(Rt,'colorHigh',new D(0x3c2*0x7+-0x2436+0x142*0x8,0x1078+-0x1c66+-0x1fd*-0x6,0x1df*0xe+0x25ed+0x43*-0xf5));let hu=Rt;const xb='muPIHORMLN'+'DCz4DxVR/Z'+'vYfAUVEFR4'+'7KRIC4nwAA'+'AAAP7WxlhD'+'6Ci+2HCe7B'+'F8jRAPZwdH'+'2UPpI5PdLC'+'JdkvG4UTaN'+'DJ/0crAzne'+'71GCrb4kbd'+'MjjCEGzdX6'+'fNxDMLJq5x'+'keoIVTdfiZ'+'kodEeArmZm'+'p/FQzFjD4x'+'8iOW7Dg64n'+'+3mWqyEwLx'+'XT8zoJXfbw'+'8QJKDCaarU'+'YyTlMzNFHb'+'gUe9IQV7g4'+'YOgtSKpIFZ'+'J0qERm7u4P'+'pmiF89ktHW'+'CywaGmD6h+'+'hfh2/Zd8KY'+'lKqqo4Cem4'+'T42bT/Z9Fp'+'CQF1hhSjfB'+'zZ5XFn/y3j'+'egWC6u86Ku'+'ELRundQS/1'+'Rp+XuKKGIg'+'Rv3CvP5y74'+'9yqLlFO495'+'JOT3+f2CXg'+'d71npU0/Kj'+'jpkZucbJ5m'+'78IVyuSrSo'+'zc9jgBUhDr'+'z0hFsyb7LF'+'UH9//wJbBg'+'LdNWJZObfK'+'xrNt8TliLA'+'9w9sXFv6g2'+'6iXpf6r/Bq'+'cAusj/QzGB'+'ZuoUGeEtw8'+'BCXCZ3jUiw'+'4hvM18ZVql'+'UD3C40LAFX'+'W6FRjuAZGR'+'Nstb0/qVk4'+'skwyT+MHrv'+'RorI4rKHVM'+'WZmKyAkzL/'+'78u/9pMQuX'+'14pZN50b2P'+'Hn6fRxeaCQ'+'LsfT4dpvIk'+'WWFuFVENZI'+'h+8xgR6lU+'+'85W0PPdAu1'+'j99kcCG40J'+'BQa4JMyRzq'+'6qriOBLtqF'+'87vpCJan0W'+'EduVr/mOYk'+'S00urVA0mA'+'6M3031+GmG'+'mW48PaJDYO'+'EIb3bIXWPa'+'LoAOEinX1T'+'N3+/vwhG6n'+'qJu0TdHped'+'S7QsGZIoxH'+'3nQYYjQP1j'+'mbahlbNngw'+'5ogsGk1y50'+'XZyUmQBY+/'+'JBJ3Unu4dA'+'pm+WmPwHPU'+'9gLb+4mHh4'+'BiY6M86pq+'+'WeTyWdI3s0'+'CXPEtHGXZ8'+'zMZgUoyRom'+'Bi1VdazzuN'+'+WOmQ9Pa0Z'+'0tlNopUi8A'+'J4x2Xn4mmO'+'KEbXLxlbVs'+'Wu8XhuDGYF'+'OGCRVdSqDP'+'XrHU5SDdUl'+'ti3k5///SB'+'wzTMwK3L4a'+'1H7w4lnpEa'+'s6////AfX8'+('asyIBfeFXV'+'J3tgvxQ/bl'+'ZuUKyIODIf'+'r/UzdWNu7p'+'ciLBpdZRZ4'+'pIfZ1R6szq'+'+XNxkGG///'+'8EZFpu7VHA'+'hFWqHEOrB9'+'unw+YQa5o8'+'/9IR/V5/zq'+'+986rJSyfg'+'JKt2u9hxU1'+'wzyQWPjJGv'+'zG9+eWWxGF'+'OHVKqI4jBQ'+'ALwZZswesn'+'vZ2UmmkEXd'+'iRpz8B+oWE'+'7PY70ZTMnd'+'isYSXg2Tqo'+'I+3y9BxbnY'+'2Y4EfbdcRh'+'AvG59NqDEN'+'NYbxKvK5HJ'+'fPG5M+Wi2A'+'cpLVJrD6ca'+'iEOzgSoVNS'+'gQK8fm2M3z'+'GcF4xtClv/'+'8Hs9oD7C3j'+'itTATYNQxm'+'KqKf1LhIxz'+'f1bmfiNn7U'+'KFmcJu4sLq'+'VLwxGSue3t'+'aBEyknkw5h'+'XTsUCvqmmL'+'/f8n/w0giR'+'7Hu/9EHvpk'+'z3yuu64Tio'+'MkzdTJ30i0'+'+hFnQqW1+v'+'9mMwq+z9qG'+'X0UFu9Momv'+'VG2xod6vc1'+'2AAAAACq7s'+'Ga5qptFR0j'+'F3nQt/D+7P'+'ibKYahaxP3'+'hEixPbGi9n'+'wNf2LAa7Lk'+'EZRKxzXeCD'+'64Xpii5n+8'+'Kpg8eHIv7A'+'WXZltgMoGl'+'tmoJ0XGdOC'+'L8WkzphvR9'+'N2o3ARSZ42'+'l5e5Pe4B58'+'MCRlP3EKv+'+'mcloknH+ft'+'o5BWsmEutW'+'6KvjOVsznF'+'CktkSczVk4'+'aGvj9VXlRc'+'LeDoKG8RkB'+'gdcNG2bf8H'+'UL4MT2DM+a'+'r7NImJhKpx'+'akX4Vk0CnP'+'+/XNhl5UsP'+'0lXgeZXPoD'+'BMSW5An+DX'+'lTCO5FQGwS'+'PYwHLKYVIi'+'mEdAoVe49r'+'QLaaNcye5L'+'xU2/c5TijT'+'gJtD5eQQIe'+'1snxauj5jZ'+'sxJBUJdoP/'+'zqpjqv8qBr'+'uoPsVsP8N4'+'4PCUW5Dd0D'+'zqjSS/Dl5m'+'I9cn1w2ndN'+'/0KAEm1QAA'+'AACwu6KM/0'+'83IBbH5bPa'+'/9oHUwcU8I'+'9v3j6/v18Q'+'Yammrf+P6V'+'L///8BrpuM'+'3fOLCxaLNO'+'FNF1zPbPYT'+'P65ni6njft'+'4eVcyrVXRQ'+'Frs52tr35S'+'tiSp55edVD')+('CBC0H5rIfa'+'c6nzUwxQSt'+'7y15QoKb+5'+'zebEQUmVbr'+'PjXuUa19Ey'+'7sqXMiSUKH'+'aw72PJKDdr'+'utJoQr3u6l'+'EYJ8K0MakW'+'Kj9zjTFi4X'+'94TsKYco0G'+'rLeB60M6D8'+'M/80rhXUW8'+'iMequg8y5F'+'838WI0+gp3'+'GBN5Kj/xIO'+'xTWQuUaPV/'+'LwvARr1VH9'+'3BFgGZR1MF'+'W0Ua30GbYm'+'dnAgo9VWy8'+'SQtpDUgGE2'+'r2zq2eTEMC'+'L7sMKmE1hc'+'hVhuF/TCq9'+'iXKEm86kzO'+'f3Rp9ZnCxb'+'pDUj+FKNxV'+'yXe6pVZkRX'+'v/m95SnB/E'+'B8aME29N85'+'MtAcDoXWlo'+'r8De2Q5Dg1'+'tar+8wgiZu'+'fbMam81j//'+'ASUohoR/zS'+'h2KG4bvT6m'+'kIPz6C5/98'+'DC3LaWlaEZ'+'1zA5JORZRu'+'6J/a0GY285'+'sEYzw71YqO'+'T1ihAG0z5S'+'Dt1xNiDQWZ'+'dFpndArp6x'+'WhqSDkRb4k'+'SJEHb9liPv'+'w7uLV/6i5M'+'Vf//A9Qjr8'+'xkAEUh+KDI'+'+zdtJ68d6M'+'BOktg1iyp/'+'SCq8O9f5pb'+'amn1VVVQPR'+'TWqNBvhQKa'+'07s6P0lc9L'+'uu/3gw4Hey'+'OUfz8MxMwV'+'4UQhua+t9c'+'r4bz/nIB2w'+'nDSK1K7I94'+'M+s6C84hta'+'X/CNlMQUSs'+'2KJO+yaebf'+'TbkNX5yWcq'+'EJevo0vbKU'+'iETuFXiL01'+'9A3E+lmsyZ'+'MwXrXLLiQA'+'Z5t9+jI3Jo'+'bhJTMiDH5Z'+'OQ+8Jau555'+'5NMjHSscP9'+'qCVaa40doh'+'+1a3Ukf6jq'+'BmLddgh79/'+'fwTfCyqiul'+'dNkUoy+nUp'+'+4nerwg0Oj'+'tGv2x485PJ'+'OJvUEokNhY'+'IdWjpx7BWk'+'0VZGWOp3jS'+'FTJ2bnu6KC'+'duZtG/UcBC'+'9RZ3W/jMSf'+'SMw4Etr/Do'+'D/XYP2V5Ov'+'w+YoM3F5g2'+'dGLdvuG6Zk'+'VGLE6Dk5Zr'+'+sdSyGliJP'+'1y2OFf/KFO'+'0RWO+3gsGh'+'esTnfZVpTd'+'8/HwgO216g'+'waqo+vY3Tl'+'jfJWowY+i0'+'p0Os4SLn/1'+'wLqDHMlszg')+('gmT/D8MRFz'+'s+pLv6LNJS'+'sNZ/r41mWi'+'/rF6ZcKp/y'+'zJdK0VU44h'+'skq3RGpgO6'+'mIpJDsf/mZ'+'kFrz0yYOML'+'buaj/wp1v7'+'JMFM5eqvBh'+'mTd7U8frQA'+'tHtys4zgpj'+'ZmzUhOVTfN'+'NLifElGXAD'+'lqHGKrkBT/'+'nYwX8ZRm3R'+'jvyPvjKyEq'+'EGKUpVnvOG'+'x+NKPHiWM/'+'/ZDpDVGvvr'+'jmk8RPF/wi'+'YZD3+Us8YC'+'XjrVOfjdd1'+'UPAfjLp8jg'+'Sn4me7DPTp'+'z1Ggy9XL80'+'guFO7ECT10'+'AvILKfD18Q'+'x+KY/f8aRq'+'u0oOO8hfKR'+'FZa9PUJwCs'+'p6VdZz6LFk'+'m2b9Pl2LIi'+'fCwzRy7Tpd'+'G2uAtOxP2O'+'emY26bJMa9'+'ZGSLIRlMsg'+'pDpnDJwd0o'+'a5pQ13x1hr'+'Hf52HpulUW'+'onGWsfXZbS'+'QYKu9bnEN7'+'6ciQih0opN'+'3deDVrbrxo'+'rfVlnCmL1R'+'9zq3ePGWIv'+'21c7pW8kEi'+'FTM5JX8dAw'+'867s/60cf7'+'9/BH+MDFCZ'+'BHlz1L+qGO'+'Jf/1txhhmr'+'f3//As+RIJ'+'wevDb+fgNX'+'VeHw67QptZ'+'egayhrEwr5'+'Gy+EPo1RLa'+'MtPbqOZYoV'+'zXzwzjMFWZ'+'xyUG9YUIf6'+'////AQWy84'+'iAygLk9COt'+'Xt92+0mT/x'+'g0zMzMBeLk'+'b8y9SL2TDX'+'gSX422hDgp'+'GNLJyuPioA'+'+YJ91G8znr'+'pNqHkwYysc'+'aJDEc9Vc+j'+'4cXle3hvcd'+'2JqDQH2lBZ'+'xDn6mUTs0b'+'75raMvbs72'+'7codX01Anj'+'8f3wir9P2x'+'QaQ22v/TxC'+'MglKDFoTja'+'P01XTLgxnT'+'vPv02JgEUr'+'W6UDgOnobF'+'pLdvKdlypg'+'IzPcq14fgX'+'U5tvVW0FEs'+'7VRlsG1IyA'+'69fN4n+awH'+'hT34cE+xUv'+'dj86C8LgAs'+'FheTjI9Ht9'+'EyYAAAAAAV'+'BVKRx2wLgU'+'TI0/2QfyJo'+'2riRw3JDqz'+'EShmx/Lifo'+'6mRkQVbS7X'+'53t+EvKxcX'+'ogtdts31e9'+'MRHdcHgsA8'+'rt4/mt2unl'+'zQ/wsU8Gu7')+('+W6Oj7eD8E'+'QdDp5XlCsV'+'aS/AV/t5Zp'+'POHR3rGpyA'+'Je9IPV+xMr'+'BL1Oz/8MQh'+'Fs31h0N1cV'+'nq371uqIJY'+'HyafKH1jte'+'AK3VpMXBcu'+'C+yt0ZeKyR'+'UY4QhdrJJ4'+'tJ1wg3Hu6k'+'DsbovxupTM'+'kGdRrm8oZS'+'oYPbJ+PwH/'+'xotgTdkA12'+'05vUEfnqkI'+'04T/fnnd1f'+'iZW5AwNcgg'+'d7fi4j5zas'+'mcntZexIxq'+'FZQMzMJpfn'+'dmI5jn17cg'+'n5EV5t9XN0'+'C///8Q9wlJ'+'pMGXdoiaMT'+'G2sVyHQsn8'+'mWRISCLNG7'+'77S0OuDRP2'+'GlLcJ2UeOg'+'7Fo8hTNPeJ'+'//iTJhyqxh'+'KRUntdXOih'+'q2wfKfH///'+'8B0GGrwT+f'+'SOQRdctKxj'+'jGCSS11d6B'+'lQ9BDfE0J6'+'Z25FaNTKGp'+'FKNCMr2G/0'+'41KpWwBLVe'+'1k08vncseQ'+'bKZdXi8x1t'+'9XA45U/Wd4'+'3D9wAh3Tal'+'0aiLVzGPus'+'OZ1F+W3TWo'+'qlX/A95+dN'+'ef11TsuGfu'+'l+ctGssldk'+'3fqpfqh+43'+'XTxL42+leS'+'HoF/dWHYGX'+'6maqUEuLX7'+'UB+r/6Llr4'+'LKocbVIeu+'+'hB9QTPfz9f'+'CP8RyWmX4S'+'mbhMFsNtCi'+'jV7lVcwejL'+'Klvl0GfCnd'+'nWV7/39VBr'+'tTRuUx92ok'+'e3GBgKkC5f'+'dGK0YvNK+x'+'enKaDmsHDj'+'NFUM3NMz3Z'+'iXXFuLgojo'+'sPVCDEl2W5'+'BjX3Ms+j0G'+'SqACHmh0+R'+'PWyuNm/Qe8'+'vFf9AW7N1u'+'RaxWirrUyt'+'qEJnJ4/Flm'+'8hSoiZ2NQB'+'sS6w/yQlC4'+'gCaFo8q4ny'+'Y6AFdo4hiw'+'hBXzbNKKvZ'+'vktCjSCukR'+'R/BbYVbNwZ'+'i2Yh3hGodE'+'acLW8qijiW'+'JODf0P2bhf'+'aiPspPT4lY'+'JBgi/KfcFw'+'CfvyUIgkJO'+'v///8CG/JE'+'epRBLaMFE+'+'2TgrqsJXOV'+'OWHt6g/bFw'+'VLLMVBsMR5'+'0dis/39/Al'+'BX+/rMTJkU'+'QrnlxpR2iu'+'0Tp8tATkRY'+'GmDIrcAiRP'+'8PjoWIlb7/')+('0ecTdSCE9Y'+'58+a+n/Fov'+'JQTVF4F2jA'+'xMZhTgrM/K'+'VS5BQu6bVb'+'kWY5HXnxRs'+'hks3urDdW4'+'RkWp4M4TeL'+'mFK5KF/uHk'+'kiO5Kv96Ri'+'oH984v/CSD'+'BnG+BwlnU9'+'B+o7Y+0X0N'+'ob+0pLsStx'+'jvPXMy2eCp'+'zhOWV4XbOb'+'BHN4UE2sLQ'+'/DIqXhOzxV'+'f38GlTi6aG'+'7EnePO7TRJ'+'m9yOfUUcqq'+'1I2iQHrVDq'+'n3TUNRi/lM'+'w8KbMW/3/n'+'qCz/Ef8PoW'+'5Qxcz2yHR/'+'f78EPB2Stb'+'d+ZFmfNTUY'+'ILzsb9YNhp'+'aHcaymYrBi'+'NHmFE3Y4cc'+'YJ25Prqm7z'+'HobGHED8/9'+'3ZNlWro9vc'+'KivGZs31Ui'+'K1k5zjUhex'+'UgbqJb+fUT'+'jxce/7Zly8'+'a5KMC1fX5n'+'fjPgibdvzb'+'XV1jRT2asX'+'vmSAusaLdq'+'1TSIJ8fXIN'+'k5AtT34EWP'+'AsfP9IFQqM'+'5K11O6saoH'+'JA==');let Vi=null;const Av=()=>{if(!Vi){const _0x3fd1e7=atob(xb);Vi=Uint8Array['from'](_0x3fd1e7,_0x393532=>_0x393532['charCodeAt'](-0x217c*-0x1+0x19cb+0x25f*-0x19));}},Tb=()=>(Av(),Vi);class wb{constructor(_0x1464fd=-0xa86*-0x2+0xa1f+-0x1f2b){h(this,'seed',-0xb9b*0x2+-0x202f*-0x1+-0x1*0x8f9),(this['seed']=_0x1464fd*(0x1091+-0x1432+0x3*0x137),Av());}['_next'](){this['seed']=(this['seed']+(-0x1bb4+0x1*0x709+0x14af))%Vi['length'];}['value'](){return this['_next'](),Vi[this['seed']]/(0x1117+0x2*0xa01+-0x241a*0x1);}['vec4'](_0x30c615=new re()){return this['_next'](),_0x30c615['set'](Vi[this['seed']],Vi[this['seed']+(0x1cd2+-0x1*0x2365+0x694)],Vi[this['seed']+(-0x49*0x1b+0x67*0x31+-0x35*0x3a)],Vi[this['seed']+(-0x1c89+0x1*0x209+0x1a83)])['mulScalar']((0x8c3+-0x1*-0x16b6+-0xfbc*0x2)/(0x23c7*-0x1+0xbd0+0x18f6));}}const Eb=[new D(-(-0x1bd7*0x1+-0x23f7+0x3fcf),-0x1f24+0x25*0xa6+0x262*0x3,-0xe58*0x1+-0x1*0x1b57+-0x1*-0x29af),new D(-0x15b2+0x768+-0xe4b*-0x1,0x1961*0x1+-0x1826+-0x13b,0xe6d+-0x2*0xe20+0xdd3*0x1),new D(0x776*0x5+0x6e4+-0x2c32,-(-0x1136+0x2624+0x1*-0x14ed),-0x21e6+0x5db*-0x5+-0x705*-0x9),new D(-0x157*-0x1d+0x52*0x74+-0x1*0x4c03,0x2295*-0x1+0x14*0x18e+0x37e,-0x1d9+-0xba0+0xd79),new D(-0x3d1*0x1+-0x8e4+0xcb5,-0x1c0f+0x1dc*0x1+0x1a33,-(-0x3b*0x15+0x1f11+0x1a39*-0x1)),new D(-0x1abf*0x1+-0x2*-0x724+0xc77,0x1920+-0x24fb*-0x1+-0x3e1b,-0x18bf+-0x4a*0x1f+0x21b6)];class bb{constructor(){h(this,'colors',new Float32Array(-0x1fd3+-0x3d8+0x23bd));}['update'](_0x4e25d4,_0x463242){const _0x398dab=this['colors'],{r:_0x961287,g:_0x4510ed,b:_0x5d8a47}=_0x4e25d4;for(let _0x480ca0=-0x614+0x1dcc+-0x17b8;_0x480ca0<-0x6e6+-0x1b*-0x1+0x6d1;_0x480ca0++)_0x398dab[_0x480ca0*(0x1b35+-0x11cb+-0x53*0x1d)]=_0x961287,_0x398dab[_0x480ca0*(-0x12c2+-0x2*0x7b2+0x2229)+(-0x4a*-0xe+-0x846*0x3+0x14c7)]=_0x4510ed,_0x398dab[_0x480ca0*(0x8db+-0x1*-0x1075+-0x3*0x86f)+(0xc81+-0x2*-0x39c+-0x2d1*0x7)]=_0x5d8a47;for(let _0x44ce3b=0x4d7*0x2+0x2634+-0x2fe2;_0x44ce3b<_0x463242['length'];_0x44ce3b++){const _0x9e0387=_0x463242[_0x44ce3b];if(_0x9e0387['_type']===ve)for(let _0x97b76=0x20b3+-0x1*-0x29f+-0x2352;_0x97b76<0x53*-0x6b+-0x15f9+-0x2*-0x1c58;_0x97b76++){const _0x430912=Math['max'](Eb[_0x97b76]['dot'](_0x9e0387['_direction']),0x1*-0x8f9+-0x10*-0x191+0x1017*-0x1)*_0x9e0387['_intensity'],_0x3a9f1a=_0x9e0387['_color'];_0x398dab[_0x97b76*(-0x3a*-0x20+0x1115*-0x1+0x54*0x1e)]+=_0x3a9f1a['r']*_0x430912,_0x398dab[_0x97b76*(-0x607*-0x1+-0x2*0x88f+-0xcb*-0xe)+(-0x1457+0x37a+0x10de)]+=_0x3a9f1a['g']*_0x430912,_0x398dab[_0x97b76*(0x1a27+-0xc7f+-0xda5)+(0x13*0x12c+-0xd69*0x1+-0x8d9)]+=_0x3a9f1a['b']*_0x430912;}}}}const Ab=(_0x520918,_0xcffa9b,_0x346af9,_0x2cffcf)=>{const _0x4bd33e=new _e(_0x520918,{'name':''+_0xcffa9b+_0x346af9,'width':_0x346af9,'height':_0x346af9,'format':Ne,'addressU':yt,'addressV':yt,'type':Ds,'magFilter':Te,'minFilter':Te,'anisotropy':0x1,'mipmaps':!(-0x1aec*-0x1+-0x19*-0x40+-0x212b)});return _0x4bd33e['lock']()['set'](_0x2cffcf),_0x4bd33e['unlock'](),_0x4bd33e;},Cb=new Kt(),Pb=_0x2c10e8=>Cb['get'](_0x2c10e8,()=>{const _0x5bebad=Tb(),_0x57bda0=Math['sqrt'](_0x5bebad['length']/(0x2159*0x1+-0x3b*-0x59+-0x2*0x1aec));return Ab(_0x2c10e8,'BlueNoise',_0x57bda0,_0x5bebad);});class va{constructor(_0x27049c,_0xdc407c){this['texture']=_0x27049c,this['cached']=!(-0x1116+0x15c*-0xe+-0x7*-0x529),this['renderTarg'+'ets']=_0xdc407c;}['destroy'](){this['texture']&&(this['texture']['destroy'](),this['texture']=null);const _0x790575=this['renderTarg'+'ets'];for(let _0x2a7c52=0x15fd+0x12f2+0x28ef*-0x1;_0x2a7c52<_0x790575['length'];_0x2a7c52++)_0x790575[_0x2a7c52]['destroy']();this['renderTarg'+'ets']['length']=-0x206b+0x3*0xa08+0x253;}static['create'](_0x287be2,_0x33e20a){let _0x3c3125=null;return _0x33e20a['_type']===Ke?_0x3c3125=this['createCube'+'map'](_0x287be2,_0x33e20a['_shadowRes'+'olution'],_0x33e20a['_shadowTyp'+'e']):_0x3c3125=this['create2dMa'+'p'](_0x287be2,_0x33e20a['_shadowRes'+'olution'],_0x33e20a['_shadowTyp'+'e']),_0x3c3125;}static['createAtla'+'s'](_0x591998,_0x54e635,_0x1b8b44){const _0x22754d=this['create2dMa'+'p'](_0x591998,_0x54e635,_0x1b8b44),_0x2797af=_0x22754d['renderTarg'+'ets'],_0x33d73b=_0x2797af[-0x46a+-0xa*-0x300+0x19*-0x106];for(let _0x5e308a=0x23+-0x1*-0x18a9+-0x4*0x633;_0x5e308a<0x70d+0x1*0x1c02+-0x2e*0xc3;_0x5e308a++)_0x2797af['push'](_0x33d73b);return _0x22754d;}static['create2dMa'+'p'](_0x3815f0,_0x4d2396,_0x4d699d){var _0x3628b1;const _0x215f1e=qi['get'](_0x4d699d);w['assert'](_0x215f1e);let _0x44fb54=_0x215f1e['format'];_0x44fb54===Ji&&!_0x3815f0['textureFlo'+'atRenderab'+'le']&&_0x3815f0['textureHal'+'fFloatRend'+'erable']&&(_0x44fb54=od);const _0x53e7af=(_0x3628b1=Nt['get'](_0x44fb54))==null?void(0x120*-0xd+-0x120d*0x2+-0x97*-0x56):_0x3628b1['name'];let _0x2d9031=vt;_0x4d699d===Jp&&(_0x2d9031=_0x3815f0['extTexture'+'FloatLinea'+'r']?vt:Te),_0x4d699d===al&&(_0x2d9031=Te);const _0x2735c4=new _e(_0x3815f0,{'profilerHint':eu,'format':_0x44fb54,'width':_0x4d2396,'height':_0x4d2396,'mipmaps':!(0x3*-0x565+0x8*-0x3d2+0x2ec0),'minFilter':_0x2d9031,'magFilter':_0x2d9031,'addressU':ue,'addressV':ue,'name':'ShadowMap2'+'D_'+_0x53e7af});let _0x46e945=null;return _0x215f1e!=null&&_0x215f1e['pcf']?(_0x2735c4['compareOnR'+'ead']=!(-0x1676+0x207b+-0xa05),_0x2735c4['compareFun'+'c']=hh,_0x46e945=new gt({'depthBuffer':_0x2735c4})):_0x46e945=new gt({'colorBuffer':_0x2735c4,'depth':!(0x3e5+0x1*0xcf4+0x1*-0x10d9)}),_0x3815f0['isWebGPU']&&(_0x46e945['flipY']=!(0x1ac7+-0xb02+-0xfc5)),new va(_0x2735c4,[_0x46e945]);}static['createCube'+'map'](_0x5b0c88,_0x501715,_0x523681){var _0x5eefaa;const _0x3bf528=qi['get'](_0x523681);w['assert'](_0x3bf528);const _0x4ba940=(_0x5eefaa=Nt['get'](_0x3bf528['format']))==null?void(0x2640+0x14d+-0x195*0x19):_0x5eefaa['name'],_0x34ca0f=_0x523681===al,_0xa5514e=_0x34ca0f?Te:vt,_0x80e730=new _e(_0x5b0c88,{'profilerHint':eu,'format':_0x3bf528==null?void(-0x1b*-0xb7+-0xde2+-0x56b*0x1):_0x3bf528['format'],'width':_0x501715,'height':_0x501715,'cubemap':!(0x4a2+-0x1c4c+0x17aa),'mipmaps':!(0x2*-0x693+0x13*-0x17+0x6*0x27a),'minFilter':_0xa5514e,'magFilter':_0xa5514e,'addressU':ue,'addressV':ue,'name':'ShadowMapC'+'ube_'+_0x4ba940});_0x34ca0f||(_0x80e730['compareOnR'+'ead']=!(0x469*0x3+-0xa39+-0x302),_0x80e730['compareFun'+'c']=hh);const _0x56aaad=[];for(let _0x46e890=0x8*0x80+0x4*0x4ef+0x4*-0x5ef;_0x46e890<0x2*0x3e6+-0x93d+-0x177*-0x1;_0x46e890++)_0x34ca0f?_0x56aaad['push'](new gt({'colorBuffer':_0x80e730,'face':_0x46e890,'depth':!(0x2*-0xa51+0xe21+0x681)})):_0x56aaad['push'](new gt({'depthBuffer':_0x80e730,'face':_0x46e890}));return new va(_0x80e730,_0x56aaad);}}const Mb=[],Db=[],xi=new re(),ef=new re();class tf{constructor(_0x103b40){this['size']=Math['floor'](_0x103b40['w']*(-0x4*0x21e+0x83*0x35+-0xea7)),this['used']=!(-0x16be+0x27*-0x99+-0x3*-0xf5a),this['lightId']=-(0x2285+0x1*-0x16dd+-0x9d*0x13),this['rect']=_0x103b40;}}class Ib{constructor(_0x39e0f3){this['device']=_0x39e0f3,this['version']=0x95*0x2c+-0xdd2+-0x1af*0x7,this['shadowAtla'+'sResolutio'+'n']=0x62*0x3+-0x104f+0x1*0x1729,this['shadowAtla'+'s']=null,this['shadowEdge'+'Pixels']=-0x2c7*-0x5+-0x345+-0xa9b*0x1,this['cookieAtla'+'sResolutio'+'n']=-0x2089+0x62b*-0x2+0x2ce3,this['cookieAtla'+'s']=new _e(this['device'],{'name':'CookieAtla'+'s','width':this['cookieAtla'+'sResolutio'+'n'],'height':this['cookieAtla'+'sResolutio'+'n'],'format':_s,'cubemap':!(0x3*0x38b+-0x785+0x31b*-0x1),'mipmaps':!(-0x106+0x3a5*0x1+-0x29e),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue}),this['cookieRend'+'erTarget']=new gt({'colorBuffer':this['cookieAtla'+'s'],'depth':!(0x1f94+-0x9*-0xa7+0x1*-0x2572),'flipY':!(-0xbb+-0x9cf+-0x26*-0x47)}),this['slots']=[],this['atlasSplit']=[],this['cubeSlotsO'+'ffsets']=[new J(0x916+-0x25f6+0x1ce0,0x11a4+-0x1*-0xa59+0x1*-0x1bfd),new J(0x48b*-0x8+0x4a1+0x1fb7,0x3c2+-0x67*-0x39+0x1*-0x1ab0),new J(-0x610+-0x155*-0x5+0x4*-0x26,-0x935*0x1+0x134c+0x9*-0x11f),new J(-0xa*0xe3+0x17a+0x765,-0x1c5f+0x5e0+0x480*0x5),new J(0x8be*0x1+0x1*-0x25b1+0x1cf5,-0x2492+-0x229e+0x4730),new J(0x5*0x5ae+0x11d*-0x1e+-0x2*-0x281,-0x9e7+-0x305*0x1+0xced)],this['scissorVec']=new re(),this['allocateSh'+'adowAtlas'](0x1f*-0x8d+-0x23f3+0x11ad*0x3),this['allocateCo'+'okieAtlas'](0x22f1*-0x1+-0x1df4*0x1+-0x75*-0x8e),this['allocateUn'+'iforms']();}['destroy'](){this['destroySha'+'dowAtlas'](),this['destroyCoo'+'kieAtlas']();}['destroySha'+'dowAtlas'](){var _0x541e1b;(_0x541e1b=this['shadowAtla'+'s'])==null||_0x541e1b['destroy'](),this['shadowAtla'+'s']=null;}['destroyCoo'+'kieAtlas'](){var _0x197c45,_0x31f8ad;(_0x197c45=this['cookieAtla'+'s'])==null||_0x197c45['destroy'](),this['cookieAtla'+'s']=null,(_0x31f8ad=this['cookieRend'+'erTarget'])==null||_0x31f8ad['destroy'](),this['cookieRend'+'erTarget']=null;}['allocateSh'+'adowAtlas'](_0x5d2588,_0x37ffb8=$s){var _0x2c39f6;const _0x55dd61=(_0x2c39f6=this['shadowAtla'+'s'])==null?void(0x1014+0x3*-0x7c5+0x73b):_0x2c39f6['texture']['format'],_0x24a820=qi['get'](_0x37ffb8)['format'];if(!this['shadowAtla'+'s']||this['shadowAtla'+'s']['texture']['width']!==_0x5d2588||_0x55dd61!==_0x24a820){this['version']++,this['destroySha'+'dowAtlas'](),this['shadowAtla'+'s']=va['createAtla'+'s'](this['device'],_0x5d2588,_0x37ffb8),this['shadowAtla'+'s']['cached']=!(0x4*-0x601+-0xb*-0x21d+-0x1*-0xc5);const _0x453cd6=(-0xbc0+-0x1*0x1ea3+0x2a67)/this['shadowAtla'+'sResolutio'+'n'];this['scissorVec']['set'](_0x453cd6,_0x453cd6,-(-0x1*0x161b+0x19de+-0x3c1)*_0x453cd6,-(-0x3fe+0x20ab+-0xb3*0x29)*_0x453cd6);}}['allocateCo'+'okieAtlas'](_0x45424a){this['cookieAtla'+'s']['width']!==_0x45424a&&(this['cookieRend'+'erTarget']['resize'](_0x45424a,_0x45424a),this['version']++);}['allocateUn'+'iforms'](){this['_shadowAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('shadowAtla'+'sTexture'),this['_shadowAtl'+'asParamsId']=this['device']['scope']['resolve']('shadowAtla'+'sParams'),this['_shadowAtl'+'asParams']=new Float32Array(0xd16+-0x7*-0x2f1+0xdd*-0x27),this['_cookieAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('cookieAtla'+'sTexture');}['updateUnif'+'orms'](){const _0x2f30d5=this['shadowAtla'+'s']['renderTarg'+'ets'][0x2650+0x184*0x9+-0x4c*0xaf]['depthBuffe'+'r'];this['_shadowAtl'+'asTextureI'+'d']['setValue'](_0x2f30d5),this['_shadowAtl'+'asParams'][-0x41*-0x1+0x39d+-0x3de]=this['shadowAtla'+'sResolutio'+'n'],this['_shadowAtl'+'asParams'][-0x1de6+0x82b*-0x1+0x2612]=this['shadowEdge'+'Pixels'],this['_shadowAtl'+'asParamsId']['setValue'](this['_shadowAtl'+'asParams']),this['_cookieAtl'+'asTextureI'+'d']['setValue'](this['cookieAtla'+'s']);}['subdivide'](_0x4c02c2,_0x2e9ed6){let _0x59d5db=_0x2e9ed6['atlasSplit'];if(!_0x59d5db){const _0x281512=Math['ceil'](Math['sqrt'](_0x4c02c2));_0x59d5db=Db,_0x59d5db[0x24fe+-0x2561+0x63]=_0x281512,_0x59d5db['length']=0x1575+-0x1*0x1bf9+0x685;}if(!((_0x58a260,_0x33a061)=>_0x58a260['length']===_0x33a061['length']&&_0x58a260['every']((_0x32a78b,_0x152486)=>_0x32a78b===_0x33a061[_0x152486]))(_0x59d5db,this['atlasSplit'])){this['version']++,this['slots']['length']=0x703*0x1+-0x19ca*-0x1+-0x20cd,this['atlasSplit']['length']=-0x1cf5+0x14ce+0x827,this['atlasSplit']['push'](..._0x59d5db);const _0x161366=this['atlasSplit'][0x1d*0xfd+0x5*-0x791+0x92c*0x1];if(_0x161366>0xc85*-0x1+-0x12b2+-0xc*-0x29a){const _0x2ac9d4=(0x1*0x24eb+-0xa8d+-0x1a5d*0x1)/_0x161366;for(let _0x17e209=0x1*0xe4f+-0x911*0x1+-0x53e*0x1;_0x17e209<_0x161366;_0x17e209++)for(let _0x4d3c11=0x12de*-0x1+-0x2*-0x616+0x6b2;_0x4d3c11<_0x161366;_0x4d3c11++){const _0x31719e=new re(_0x17e209*_0x2ac9d4,_0x4d3c11*_0x2ac9d4,_0x2ac9d4,_0x2ac9d4),_0x2f1f85=this['atlasSplit'][-0x4*-0x284+-0x613+0xc*-0x55+_0x17e209*_0x161366+_0x4d3c11];if(_0x2f1f85>0xde9+-0x14b*0xd+0x2e7){for(let _0x44e7ff=-0x1066+0x12f4+-0x6d*0x6;_0x44e7ff<_0x2f1f85;_0x44e7ff++)for(let _0x14720b=0xb17*0x2+-0x509*0x7+0xd11;_0x14720b<_0x2f1f85;_0x14720b++){const _0x42ded3=_0x2ac9d4/_0x2f1f85,_0x41a601=new re(_0x31719e['x']+_0x44e7ff*_0x42ded3,_0x31719e['y']+_0x14720b*_0x42ded3,_0x42ded3,_0x42ded3);this['slots']['push'](new tf(_0x41a601));}}else this['slots']['push'](new tf(_0x31719e));}}else this['slots']['push'](new tf(new re(-0xbda+0x1d9c+-0x11c2,-0x132f*0x1+0x918+-0x7b*-0x15,0x6e*0x30+0x3bb+-0x185a,-0xfa4+0x2*0x120+-0x1*-0xd65)));this['slots']['sort']((_0x579b2b,_0x3a8993)=>_0x3a8993['size']-_0x579b2b['size']);}}['collectLig'+'hts'](_0x197019,_0x1e1abb){const _0x323ecb=_0x1e1abb['cookiesEna'+'bled'],_0x2322be=_0x1e1abb['shadowsEna'+'bled'];let _0x19e306=!(0x1*0x13c3+0xb0*0x1f+-0x2912),_0x1564bb=!(-0x3ee*0x6+0x1c81+0xfc*-0x5);const _0x147df5=Mb;return _0x147df5['length']=0x7f5+-0x2f*0xa7+0x5ad*0x4,(_0x323ecb||_0x2322be)&&(_0xf0e5aa=>{for(let _0x39ac8d=0x16b7+-0x4*0x63e+0x241;_0x39ac8d<_0xf0e5aa['length'];_0x39ac8d++){const _0x23db04=_0xf0e5aa[_0x39ac8d];if(_0x23db04['visibleThi'+'sFrame']){const _0x432743=_0x2322be&&_0x23db04['castShadow'+'s'],_0x5c2daf=_0x323ecb&&!!_0x23db04['cookie'];_0x19e306||(_0x19e306=_0x432743),_0x1564bb||(_0x1564bb=_0x5c2daf),(_0x432743||_0x5c2daf)&&_0x147df5['push'](_0x23db04);}}})(_0x197019),_0x147df5['sort']((_0x418189,_0x3aa193)=>_0x3aa193['maxScreenS'+'ize']-_0x418189['maxScreenS'+'ize']),_0x19e306&&this['allocateSh'+'adowAtlas'](this['shadowAtla'+'sResolutio'+'n'],_0x1e1abb['shadowType']),_0x1564bb&&this['allocateCo'+'okieAtlas'](this['cookieAtla'+'sResolutio'+'n']),(_0x19e306||_0x1564bb)&&this['subdivide'](_0x147df5['length'],_0x1e1abb),_0x147df5;}['setupSlot'](_0xaf9d10,_0x3e3045){_0xaf9d10['atlasViewp'+'ort']['copy'](_0x3e3045);const _0x2d59a8=_0xaf9d10['numShadowF'+'aces'];for(let _0x15e008=0x4cf+0x1ced+-0x21bc;_0x15e008<_0x2d59a8;_0x15e008++)if(_0xaf9d10['castShadow'+'s']||_0xaf9d10['_cookie']){if(xi['copy'](_0x3e3045),ef['copy'](_0x3e3045),_0xaf9d10['_type']===Ze&&xi['add'](this['scissorVec']),_0xaf9d10['_type']===Ke){const _0x112c4f=xi['z']/(-0x306+-0x1971+0x1c7a),_0x483eda=this['cubeSlotsO'+'ffsets'][_0x15e008];xi['x']+=_0x112c4f*_0x483eda['x'],xi['y']+=_0x112c4f*_0x483eda['y'],xi['z']=_0x112c4f,xi['w']=_0x112c4f,ef['copy'](xi);}if(_0xaf9d10['castShadow'+'s']){const _0x3d5042=_0xaf9d10['getRenderD'+'ata'](null,_0x15e008);_0x3d5042['shadowView'+'port']['copy'](xi),_0x3d5042['shadowScis'+'sor']['copy'](ef);}}}['assignSlot'](_0x1cfd71,_0x48771b,_0x3f90c9){_0x1cfd71['atlasViewp'+'ortAllocat'+'ed']=!(-0x52c+0xda3+-0x1*0x877);const _0x58f115=this['slots'][_0x48771b];_0x58f115['lightId']=_0x1cfd71['id'],_0x58f115['used']=!(0x1*0x23bf+0x3fb+-0x27ba),_0x3f90c9&&(_0x1cfd71['atlasSlotU'+'pdated']=!(0x4cf+0x536+-0xa05),_0x1cfd71['atlasVersi'+'on']=this['version'],_0x1cfd71['atlasSlotI'+'ndex']=_0x48771b);}['update'](_0x1bed36,_0x57e2ae){this['shadowAtla'+'sResolutio'+'n']=_0x57e2ae['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x57e2ae['cookieAtla'+'sResolutio'+'n'];const _0x4e2366=this['collectLig'+'hts'](_0x1bed36,_0x57e2ae);if(_0x4e2366['length']>-0x1db5+-0x55*0x23+0x2954){const _0x445fa1=this['slots'];for(let _0x21db50=-0x24*0x72+0x101*-0x1+0x1*0x1109;_0x21db50<_0x445fa1['length'];_0x21db50++)_0x445fa1[_0x21db50]['used']=!(-0xafd*-0x1+0x5f1+0x26b*-0x7);const _0x4de85f=Math['min'](_0x4e2366['length'],_0x445fa1['length']);for(let _0x178131=-0x2592+0xbf*0x13+0x1765;_0x178131<_0x4de85f;_0x178131++){const _0x2238d9=_0x4e2366[_0x178131];_0x2238d9['castShadow'+'s']&&(_0x2238d9['_shadowMap']=this['shadowAtla'+'s']);const _0x2f649a=_0x445fa1[_0x2238d9['atlasSlotI'+'ndex']];if(_0x2238d9['atlasVersi'+'on']===this['version']&&_0x2238d9['id']===(_0x2f649a==null?void(-0xb95*0x1+-0xe*0x1e5+0x261b):_0x2f649a['lightId'])){const _0x14a42d=_0x445fa1[_0x2238d9['atlasSlotI'+'ndex']];_0x14a42d['size']===_0x445fa1[_0x178131]['size']&&!_0x14a42d['used']&&this['assignSlot'](_0x2238d9,_0x2238d9['atlasSlotI'+'ndex'],!(-0x1*-0x40+0xdb+-0x11a));}}let _0x1662cf=0x2491+-0x19c8+-0xac9;for(let _0x197303=-0x1d74+0xc26+0x114e;_0x197303<_0x4de85f;_0x197303++){for(;_0x1662cf<_0x445fa1['length']&&_0x445fa1[_0x1662cf]['used'];)_0x1662cf++;const _0x164ab7=_0x4e2366[_0x197303];_0x164ab7['atlasViewp'+'ortAllocat'+'ed']||this['assignSlot'](_0x164ab7,_0x1662cf,!(0x26dd+0xd80+-0x345d));const _0x3c8c57=_0x445fa1[_0x164ab7['atlasSlotI'+'ndex']];this['setupSlot'](_0x164ab7,_0x3c8c57['rect']);}}this['updateUnif'+'orms']();}}class Lb{constructor(){this['cache']=new Map();}['destroy'](){this['clear'](),this['cache']=null;}['clear'](){this['cache']['forEach'](_0x10d106=>{_0x10d106['forEach'](_0x57e8da=>{_0x57e8da['destroy']();});}),this['cache']['clear']();}['getKey'](_0x19e0b8){const _0x5363e1=_0x19e0b8['_type']===Ke,_0x463224=_0x19e0b8['_shadowTyp'+'e'],_0xc554a5=_0x19e0b8['_shadowRes'+'olution'];return _0x5363e1+'-'+_0x463224+'-'+_0xc554a5;}['get'](_0x178975,_0x2e24f1){const _0x131882=this['getKey'](_0x2e24f1),_0x50d94e=this['cache']['get'](_0x131882);if(_0x50d94e&&_0x50d94e['length'])return _0x50d94e['pop']();const _0x10da8b=va['create'](_0x178975,_0x2e24f1);return _0x10da8b['cached']=!(0x12e*-0x1c+-0x15ae+0x36b6),_0x10da8b;}['add'](_0x2e3227,_0x5207e5){const _0x4c7729=this['getKey'](_0x2e3227),_0x3b1a35=this['cache']['get'](_0x4c7729);_0x3b1a35?_0x3b1a35['push'](_0x5207e5):this['cache']['set'](_0x4c7729,[_0x5207e5]);}}class Rb extends ys{constructor(_0x3dadb5,_0x515242,_0x41acc1,_0x1cd019,_0x4f193c){super(_0x3dadb5),Ea['setName'](this,this['name']+'-'+_0x41acc1['_node']['name']),this['requiresCu'+'bemaps']=!(0xf8d*0x1+-0x35*0x1d+-0x1*0x98b),this['shadowRend'+'erer']=_0x515242,this['light']=_0x41acc1,this['face']=_0x1cd019,this['applyVsm']=_0x4f193c,this['shadowCame'+'ra']=_0x515242['prepareFac'+'e'](_0x41acc1,null,_0x1cd019),_0x515242['setupRende'+'rPass'](this,this['shadowCame'+'ra'],!(-0xf18+0x232c+-0x1414));}['execute'](){this['shadowRend'+'erer']['renderFace'](this['light'],null,this['face'],!(0x663*-0x2+0x5e*-0x52+0x2ae3*0x1));}['after'](){this['applyVsm']&&this['shadowRend'+'erer']['renderVsm'](this['light'],this['shadowCame'+'ra']);}}class Ob{constructor(_0x362a01,_0x2cebf8){h(this,'shadowLigh'+'ts',[]),h(this,'renderer'),h(this,'shadowRend'+'erer'),h(this,'device'),(this['renderer']=_0x362a01,this['shadowRend'+'erer']=_0x2cebf8,this['device']=_0x362a01['device']);}['cull'](_0x226d7a,_0x4f323f,_0x2fe7df=null){const _0x14e32b=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled'];_0x226d7a['visibleThi'+'sFrame']=!(-0x3*-0xa22+-0x5*0x739+0x5b7),_0x14e32b||_0x226d7a['_shadowMap']||(_0x226d7a['_shadowMap']=va['create'](this['device'],_0x226d7a));const _0x1ee41f=_0x226d7a['_type'],_0x5205e0=_0x1ee41f===Ze?0x73*0x2+0x603+0x2*-0x374:0x1*0x16bd+0x2*-0xea7+0x697;for(let _0x3e0967=0x840+0xb4*0x36+-0x2e38;_0x3e0967<_0x5205e0;_0x3e0967++){const _0x211990=_0x226d7a['getRenderD'+'ata'](null,_0x3e0967),_0xb526=_0x211990['shadowCame'+'ra'];_0xb526['nearClip']=_0x226d7a['attenuatio'+'nEnd']/(-0x115*0x7+-0x751+0x12cc),_0xb526['farClip']=_0x226d7a['attenuatio'+'nEnd'];const _0x55f574=_0xb526['_node'],_0x5cc228=_0x226d7a['_node'];if(_0x55f574['setPositio'+'n'](_0x5cc228['getPositio'+'n']()),_0x1ee41f===Ze)_0xb526['fov']=_0x226d7a['_outerCone'+'Angle']*(0x5*-0x3c7+-0x16a8+-0x3c7*-0xb),_0x55f574['setRotatio'+'n'](_0x5cc228['getRotatio'+'n']()),_0x55f574['rotateLoca'+'l'](-(0xcb6+0x3e1*0x9+-0x2f45*0x1),0x92*-0x40+-0xa1*-0xb+-0x1d95*-0x1,-0xa0a+0x1*0x994+0x2*0x3b);else{if(_0x1ee41f===Ke){if(_0x14e32b){const _0xb8d11b=(0x1*-0x1473+-0x247*0x2+0x1903*0x1)/(this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowAtla'+'sResolutio'+'n']*_0x226d7a['atlasViewp'+'ort']['z']/(-0x219a+0x153*-0x18+0x4165))*this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowEdge'+'Pixels'];_0xb526['fov']=Math['atan'](0x1492+0x994+-0x1e25+_0xb8d11b)*Y['RAD_TO_DEG']*(-0x134f*0x2+0x37*0x2e+0x1cbe);}else _0xb526['fov']=-0x2*0x1214+0x339*-0xb+0x47f5;}}this['renderer']['updateCame'+'raFrustum'](_0xb526),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x4f323f,_0x226d7a,_0x211990['visibleCas'+'ters'],_0xb526,_0x2fe7df);}}['prepareLig'+'hts'](_0x2a0f5a,_0x31472e){let _0x27d1d9;for(let _0x55da8c=0x3fd+0x22a8+-0x26a5;_0x55da8c<_0x31472e['length'];_0x55da8c++){const _0x18508e=_0x31472e[_0x55da8c];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x18508e)&&_0x18508e['atlasViewp'+'ortAllocat'+'ed']){_0x2a0f5a['push'](_0x18508e);for(let _0x4e46be=-0x80d+-0x187d*-0x1+-0x1070;_0x4e46be<_0x18508e['numShadowF'+'aces'];_0x4e46be++)_0x27d1d9=this['shadowRend'+'erer']['prepareFac'+'e'](_0x18508e,null,_0x4e46be);}}return _0x27d1d9;}['buildNonCl'+'usteredRen'+'derPasses'](_0x1b2378,_0x4bf17f){for(let _0x3c28e8=0x163d+-0x1dcb*0x1+0x1*0x78e;_0x3c28e8<_0x4bf17f['length'];_0x3c28e8++){const _0x2489de=_0x4bf17f[_0x3c28e8];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x2489de)){const _0x491904=_0x2489de['_type']===Ze,_0x3a9ebe=_0x2489de['numShadowF'+'aces'];for(let _0x2e1b08=0x322+-0x263f+0x231d;_0x2e1b08<_0x3a9ebe;_0x2e1b08++){const _0x410933=new Rb(this['device'],this['shadowRend'+'erer'],_0x2489de,_0x2e1b08,_0x491904);_0x1b2378['addRenderP'+'ass'](_0x410933);}}}}}class Fb extends ys{constructor(_0x74c2e1,_0x68895e,_0x46635f,_0x59970e,_0x13b893){super(_0x74c2e1),Ea['setName'](this,this['name']+'-'+_0x46635f['_node']['name']),this['shadowRend'+'erer']=_0x68895e,this['light']=_0x46635f,this['camera']=_0x59970e,this['allCascade'+'sRendering']=_0x13b893;}['execute'](){const {light:_0x48edd8,camera:_0x25ec13,shadowRenderer:_0x351fd3,allCascadesRendering:_0x32a62d}=this,_0x351596=_0x48edd8['numShadowF'+'aces'],_0x5885d0=_0x48edd8['shadowUpda'+'teOverride'+'s'];for(let _0x232f9c=0x1*-0x635+-0x1bea+-0x5*-0x6d3;_0x232f9c<_0x351596;_0x232f9c++)(_0x5885d0==null?void(0x1375+0xd88+-0x20fd*0x1):_0x5885d0[_0x232f9c])!==Ps&&_0x351fd3['renderFace'](_0x48edd8,_0x25ec13,_0x232f9c,!_0x32a62d),(_0x5885d0==null?void(0x1e8f+0x1d46+-0x3bd5):_0x5885d0[_0x232f9c])===xr&&(_0x5885d0[_0x232f9c]=Ps);}['after'](){this['shadowRend'+'erer']['renderVsm'](this['light'],this['camera']);}}const lc=new De(),Ti=new D(),H_=new te(),Xe=[new D(),new D(),new D(),new D(),new D(),new D(),new D(),new D()],sf={'min':0x0,'max':0x0};function Nb(_0x251a7d,_0xec2fb7,_0x4a7d04){Xe[-0x66*-0x9+-0x19e6+0x88*0x2a]['x']=Xe[0x1f80+-0x27a+-0x1d05]['x']=Xe[0x1bf*0x2+-0x1282+0xf06]['x']=Xe[0xb4a+-0xabc+-0x8b]['x']=_0xec2fb7['x'],Xe[-0x21c2+0x5*-0x57d+-0xf4d*-0x4]['y']=Xe[0x47*0x6b+0x1201*-0x1+-0x255*0x5]['y']=Xe[-0x199+0xf7+0xa9]['y']=Xe[0x26f3+0x1fd1+-0x46bf]['y']=_0xec2fb7['y'],Xe[-0x7f*-0x3d+-0x669+-0x5f6*0x4]['z']=Xe[0x10*0x1cc+-0x1153+0x5b5*-0x2]['z']=Xe[0x1*-0x21c5+0x942+-0x1*-0x1889]['z']=Xe[-0x180*0x9+0x60+0xd27]['z']=_0xec2fb7['z'],Xe[0x1*0x19f9+-0x5b*-0x65+-0x1*0x3ddc]['x']=Xe[-0x1*0x22e7+0xa39+-0x1*-0x18b3]['x']=Xe[-0x2*0x111b+-0x2480+0x46bc]['x']=Xe[0x1613+0x371*0x3+-0x205f]['x']=_0x4a7d04['x'],Xe[0x2*0x7c+-0x1af*0x8+-0x5*-0x280]['y']=Xe[-0x1*-0x1661+0x9*0x135+-0x213c]['y']=Xe[-0x2*0xa85+0x6a7+0x1*0xe67]['y']=Xe[0x1147+-0x519+-0xc28]['y']=_0x4a7d04['y'],Xe[-0xb10+0x1*-0x20a5+0x2bb5*0x1]['z']=Xe[-0xf84+-0x6*0x90+-0x1*-0x12e5]['z']=Xe[-0x15d6+-0x2545+0x3b1f]['z']=Xe[0x2*0xeda+-0x1aef+-0x2c0]['z']=_0x4a7d04['z'];let _0x16b73a=-0x15ed69e2e+0x6*0xb0b1bc3a+-0x7147e72f,_0x35e76e=-(-0x3d4af2*0x99d+0x41e42*0x3a2d+0x3b1b116cf);for(let _0x1066a9=-0x1745+-0x1306+-0x3*-0xe19;_0x1066a9<-0x1b33+0x1963+0x1d8;++_0x1066a9){_0x251a7d['transformP'+'oint'](Xe[_0x1066a9],Xe[_0x1066a9]);const _0x5049cc=Xe[_0x1066a9]['z'];_0x5049cc<_0x16b73a&&(_0x16b73a=_0x5049cc),_0x5049cc>_0x35e76e&&(_0x35e76e=_0x5049cc);}return sf['min']=_0x16b73a,sf['max']=_0x35e76e,sf;}class kb{constructor(_0x3f8ee5,_0x2eddd2){h(this,'renderer'),h(this,'shadowRend'+'erer'),h(this,'device'),(this['renderer']=_0x3f8ee5,this['shadowRend'+'erer']=_0x2eddd2,this['device']=_0x3f8ee5['device']);}['cull'](_0x50b7a4,_0x3cf801,_0x4a8168,_0x40cb3d=null){_0x50b7a4['visibleThi'+'sFrame']=!(-0x9e*0x3+-0x2*0xb17+0x1808),_0x50b7a4['_shadowMap']||(_0x50b7a4['_shadowMap']=va['create'](this['device'],_0x50b7a4));const _0x3b32f6=_0x4a8168['_nearClip'];this['generateSp'+'litDistanc'+'es'](_0x50b7a4,_0x3b32f6,Math['min'](_0x4a8168['_farClip'],_0x50b7a4['shadowDist'+'ance']));const _0x3c5608=_0x50b7a4['shadowUpda'+'teOverride'+'s'];for(let _0x54bbfc=-0x1873+-0x7*0x38a+0x3139;_0x54bbfc<_0x50b7a4['numCascade'+'s']&&(_0x3c5608==null?void(-0x570+0x2553+-0x1fe3):_0x3c5608[_0x54bbfc])!==Ps;_0x54bbfc++){const _0xfa09ac=_0x50b7a4['getRenderD'+'ata'](_0x4a8168,_0x54bbfc),_0x581608=_0xfa09ac['shadowCame'+'ra'];_0x581608['renderTarg'+'et']=_0x50b7a4['_shadowMap']['renderTarg'+'ets'][0x1852+0x154f+-0x2da1],_0xfa09ac['shadowView'+'port']['copy'](_0x50b7a4['cascades'][_0x54bbfc]),_0xfa09ac['shadowScis'+'sor']['copy'](_0x50b7a4['cascades'][_0x54bbfc]);const _0x43803a=_0x581608['_node'],_0x1c7ddb=_0x50b7a4['_node'];_0x43803a['setPositio'+'n'](_0x1c7ddb['getPositio'+'n']()),_0x43803a['setRotatio'+'n'](_0x1c7ddb['getRotatio'+'n']()),_0x43803a['rotateLoca'+'l'](-(0x1447+-0x11*0x151+-0x4*-0x9d),-0x2*-0x1312+-0x15*0xc5+0x1*-0x15fb,0x3*0x69b+-0x22cd+0xefc);const _0xe4afa5=_0x54bbfc===0x217c+-0x21*0x102+-0x1*0x3a?_0x3b32f6:_0x50b7a4['_shadowCas'+'cadeDistan'+'ces'][_0x54bbfc-(0x168a*-0x1+0x128+0x1563)],_0x37348f=_0x50b7a4['_shadowCas'+'cadeDistan'+'ces'][_0x54bbfc],_0x49f282=_0x4a8168['getFrustum'+'Corners'](_0xe4afa5,_0x37348f);Ti['set'](-0x1*0x1ba+-0x173*0x11+0x1a5d,0x10*0xdf+-0x1*-0x1dc1+0x8bd*-0x5,-0x254c+-0xc60+0x31ac);const _0x3591bf=_0x4a8168['node']['getWorldTr'+'ansform']();for(let _0x192ef1=-0x1790+0x39*-0x20+0x1eb0;_0x192ef1<-0x11e8+0x11*0x235+-0x1395;_0x192ef1++)_0x3591bf['transformP'+'oint'](_0x49f282[_0x192ef1],_0x49f282[_0x192ef1]),Ti['add'](_0x49f282[_0x192ef1]);Ti['mulScalar']((-0xa55+0x2*-0x10e7+0x2c24*0x1)/(0x1c3e+-0x1d23*0x1+0xed));let _0x4ad327=-0x210b+-0x28*0x3b+-0x2a43*-0x1;for(let _0x2dbaf0=-0x1559*-0x1+0x1e7c+-0x33d5;_0x2dbaf0<0x1d0a+0x3*0x7ad+-0x3409;_0x2dbaf0++){const _0x3a761e=_0x49f282[_0x2dbaf0]['sub'](Ti)['length']();_0x3a761e>_0x4ad327&&(_0x4ad327=_0x3a761e);}const _0xccef58=_0x43803a['right'],_0xf88094=_0x43803a['up'],_0x303a20=_0x43803a['forward'],_0x267dbb=(0x1579*0x1+-0x1872+0x2f9+0.25)*_0x50b7a4['_shadowRes'+'olution']/_0x4ad327,_0x17ef91=Math['ceil'](Ti['dot'](_0xf88094)*_0x267dbb)/_0x267dbb,_0x3f1182=Math['ceil'](Ti['dot'](_0xccef58)*_0x267dbb)/_0x267dbb,_0x36ebde=_0xf88094['mulScalar'](_0x17ef91),_0x19a049=_0xccef58['mulScalar'](_0x3f1182),_0x4b6ac1=Ti['dot'](_0x303a20),_0x45d50b=_0x303a20['mulScalar'](_0x4b6ac1);Ti['add2'](_0x36ebde,_0x19a049)['add'](_0x45d50b),_0x43803a['setPositio'+'n'](Ti),_0x43803a['translateL'+'ocal'](0x1*0xfcb+-0x80*0x17+-0x7*0x9d,-0x5fa+0x1*0xc8e+-0x1*0x694,0xf2407+-0x141ccf+0x143b08),_0x581608['nearClip']=0x2*0xe23+0x1*0xceb+-0x2931+0.01,_0x581608['farClip']=0x2053e6+-0x32e92e+0x3119c8,_0x581608['orthoHeigh'+'t']=_0x4ad327,this['renderer']['updateCame'+'raFrustum'](_0x581608),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x3cf801,_0x50b7a4,_0xfa09ac['visibleCas'+'ters'],_0x581608,_0x40cb3d);const _0xe80490=0xad9*0x1+-0x230f+-0x1837*-0x1<<_0x54bbfc,_0x24fb03=_0xfa09ac['visibleCas'+'ters'],_0x503be8=_0x24fb03['length'];let _0x22bfa8=0x19*0x189+-0x267+-0x23fa;for(let _0x3d3dc5=-0x18fa*-0x1+-0x1*-0x13a5+-0x2c9f;_0x3d3dc5<_0x503be8;_0x3d3dc5++){const _0x2560e9=_0x24fb03[_0x3d3dc5];_0x2560e9['shadowCasc'+'adeMask']&_0xe80490&&(_0x24fb03[_0x22bfa8++]=_0x2560e9,_0x22bfa8===0x117d+-0xbf5*0x1+-0x587?lc['copy'](_0x2560e9['aabb']):lc['add'](_0x2560e9['aabb']));}_0x503be8!==_0x22bfa8&&(_0x24fb03['length']=_0x22bfa8),H_['copy'](_0x43803a['getWorldTr'+'ansform']())['invert']();const _0x1bc1a3=Nb(H_,lc['getMin'](),lc['getMax']());_0x43803a['translateL'+'ocal'](0x10*-0x174+0x4*0x9e+-0x2*-0xa64,0xd*-0xc7+0x17e9*0x1+-0xdce*0x1,_0x1bc1a3['max']+(0x1d1b*0x1+-0x1179+-0xba2+0.1)),_0x581608['farClip']=_0x1bc1a3['max']-_0x1bc1a3['min']+(-0x10a6*0x2+-0x2a1+0x23ed+0.2),_0xfa09ac['projection'+'Compensati'+'on']=_0x4ad327;}}['generateSp'+'litDistanc'+'es'](_0x388c0b,_0x57c4b5,_0x531883){_0x388c0b['_shadowCas'+'cadeDistan'+'ces']['fill'](_0x531883);for(let _0x40c04c=-0x1fd2+0x2628+-0x655;_0x40c04c<_0x388c0b['numCascade'+'s'];_0x40c04c++){const _0x3a0bb6=_0x40c04c/_0x388c0b['numCascade'+'s'],_0x326577=_0x57c4b5+(_0x531883-_0x57c4b5)*_0x3a0bb6,_0xd2efbe=_0x57c4b5*(_0x531883/_0x57c4b5)**_0x3a0bb6,_0x289da8=Y['lerp'](_0x326577,_0xd2efbe,_0x388c0b['cascadeDis'+'tribution']);_0x388c0b['_shadowCas'+'cadeDistan'+'ces'][_0x40c04c-(0x1*0x152b+-0x21c4+0xc9a)]=_0x289da8;}}['getLightRe'+'nderPass'](_0x29687d,_0x260122){w['assert'](_0x29687d&&_0x29687d['_type']===ve);let _0x4ed0b2=null;if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x29687d)){const _0x3b7bb6=_0x29687d['numShadowF'+'aces'],_0x275246=_0x29687d['shadowUpda'+'teOverride'+'s'];let _0x57ec77=!(-0x5f2+0x16cd+-0x10db),_0x31690b;for(let _0x15c146=-0x1b4f+0x1d52+-0x203;_0x15c146<_0x3b7bb6;_0x15c146++)(_0x275246==null?void(-0xb4e+-0x205a+0x2ba8):_0x275246[_0x15c146])===Ps&&(_0x57ec77=!(0x2*0x102f+0x228f+-0x42ec)),_0x31690b=this['shadowRend'+'erer']['prepareFac'+'e'](_0x29687d,_0x260122,_0x15c146);_0x4ed0b2=new Fb(this['device'],this['shadowRend'+'erer'],_0x29687d,_0x260122,_0x57ec77),this['shadowRend'+'erer']['setupRende'+'rPass'](_0x4ed0b2,_0x31690b,_0x57ec77);}return _0x4ed0b2;}}const rf=new Set(),W_=new te(),$_=new te(),Fr=new Float32Array(-0x3*0xd01+0x1717+0xfee),lo=new re(-0xf2b+-0x61*-0x23+0x1e9,0x912+-0x1687+0xd76,0x26ef+0x1926+-0x55*0xc1,-0x2*0xf73+0x745+-0x1*-0x17a1),X_=new te();function Ub(_0x236e36,_0x54dc34){return Math['exp'](-(_0x236e36*_0x236e36)/((-0x1*0x2111+-0x13a*-0x1+-0x1*-0x1fd9)*_0x54dc34*_0x54dc34));}function Bb(_0x455dec){const _0x312ac7=(_0x455dec-(0x2*0x2a5+0xd89+0x49*-0x42))/(0x2*-0x11b4+-0x1d48+0x40b6),_0x20422e=(_0x455dec-(-0x2571+-0x16b1+0x5*0xc07))*(-0x217*-0xf+-0x2*-0x11e5+-0x1*0x4323+0.5),_0x13b349=new Array(_0x455dec);let _0x1a7bbd=0x24bd+-0x587+-0x1f36;for(let _0x328d59=0x8*0x3cb+0x1635*-0x1+0x823*-0x1;_0x328d59<_0x455dec;++_0x328d59)_0x13b349[_0x328d59]=Ub(_0x328d59-_0x20422e,_0x312ac7),_0x1a7bbd+=_0x13b349[_0x328d59];for(let _0x5b5c77=0x104a+-0x99a*0x4+0x2*0xb0f;_0x5b5c77<_0x455dec;++_0x5b5c77)_0x13b349[_0x5b5c77]/=_0x1a7bbd;return _0x13b349;}class Cv{constructor(_0x57de3e,_0x350631){h(this,'shadowPass'+'Cache',[]),(this['device']=_0x57de3e['device'],this['renderer']=_0x57de3e,this['lightTextu'+'reAtlas']=_0x350631);const _0x1a4fd2=this['device']['scope'];this['sourceId']=_0x1a4fd2['resolve']('source'),this['pixelOffse'+'tId']=_0x1a4fd2['resolve']('pixelOffse'+'t'),this['weightId']=_0x1a4fd2['resolve']('weight[0]'),this['blurVsmSha'+'der']=[{},{}],this['blurVsmWei'+'ghts']={},this['shadowMapL'+'ightRadius'+'Id']=_0x1a4fd2['resolve']('light_radi'+'us'),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['blendState'+'Write']=new pt(),this['blendState'+'NoWrite']=new pt(),this['blendState'+'NoWrite']['setColorWr'+'ite'](!(0x1d22+0x1ad5+-0x2f2*0x13),!(0x116d+0x1*-0xb9+-0x10b3),!(0xa37+-0x1*0x2dd+-0x759),!(-0x4a5*-0x8+0x1*0x853+0x2*-0x16bd));}static['createShad'+'owCamera'](_0x2c4539,_0xe51be,_0x2c66af){const _0x22e3bc=Wn['create']('ShadowCame'+'ra',_0xe51be,_0x2c66af),_0x552d2f=qi['get'](_0x2c4539);w['assert'](_0x552d2f);const _0x460e47=(_0x552d2f==null?void(0x3*0x1e+0x2*-0x973+0x1*0x128c):_0x552d2f['vsm'])??!(-0x1d*0x2+0x4*0x66e+0x1b3*-0xf),_0x4f7658=(_0x552d2f==null?void(-0x2523+-0x1d3+0x26f6):_0x552d2f['pcf'])??!(-0x5*-0x19f+-0x4*-0x2ff+-0x1416);return _0x460e47?_0x22e3bc['clearColor']=new ie(0x614+0x1*0x119f+-0x17b3,0x1f13+0x1a5*-0x11+-0xe*0x39,-0x22cd+0x236c+0x35*-0x3,-0x1f98+0x26c9+-0x107*0x7):_0x22e3bc['clearColor']=new ie(-0x1834+0x36+0x17ff,-0x1*-0x13f9+0x8cf*0x2+-0x11*0x236,0x1c8+0xdf7*0x1+-0xd*0x136,0x18e9+-0xad*0xa+-0x1226),_0x22e3bc['clearDepth'+'Buffer']=!(0x115*-0xf+0x2f1*0x1+0xd4a),_0x22e3bc['clearStenc'+'ilBuffer']=!(0x2cc+0x18f*-0x6+-0x49*-0x17),_0x22e3bc['clearColor'+'Buffer']=!_0x4f7658,_0x22e3bc;}['_cullShado'+'wCastersIn'+'ternal'](_0x46a14d,_0x252c9e,_0x19a3cf){const _0x2edfee=_0x46a14d['length'];for(let _0x249f96=-0x18a1+-0xc*0x2bf+0x3995*0x1;_0x249f96<_0x2edfee;_0x249f96++){const _0x58191d=_0x46a14d[_0x249f96];_0x58191d['castShadow']&&(!_0x58191d['cull']||_0x58191d['_isVisible'](_0x19a3cf))&&(_0x58191d['visibleThi'+'sFrame']=!(0x193a*0x1+-0x242b+-0x1*-0xaf1),_0x252c9e['push'](_0x58191d));}}['cullShadow'+'Casters'](_0x188a06,_0x133335,_0x2b3ef2,_0x354414,_0x5e55c0){var _0x312505,_0x1bce87;if((_0x312505=this['renderer']['scene'])==null||_0x312505['fire'](mv,_0x354414),_0x2b3ef2['length']=0x5*-0x6b6+-0x19a4+0x3b32,_0x5e55c0)this['_cullShado'+'wCastersIn'+'ternal'](_0x5e55c0,_0x2b3ef2,_0x354414);else{const _0x2365ad=_0x188a06['layerList'],_0x467c08=_0x2365ad['length'];for(let _0x497c56=-0x13*0xd3+0x113c+-0x193;_0x497c56<_0x467c08;_0x497c56++){const _0x2b7dc7=_0x2365ad[_0x497c56];_0x2b7dc7['_lightsSet']['has'](_0x133335)&&(rf['has'](_0x2b7dc7)||(rf['add'](_0x2b7dc7),this['_cullShado'+'wCastersIn'+'ternal'](_0x2b7dc7['shadowCast'+'ers'],_0x2b3ef2,_0x354414)));}rf['clear']();}_0x2b3ef2['sort'](this['sortCompar'+'eShader']),(_0x1bce87=this['renderer']['scene'])==null||_0x1bce87['fire'](_v,_0x354414);}['sortCompar'+'eShader'](_0x34557e,_0x20fc45){const _0x1eacf5=_0x34557e['_sortKeySh'+'adow'],_0x80741d=_0x20fc45['_sortKeySh'+'adow'];return _0x1eacf5===_0x80741d?_0x20fc45['mesh']['id']-_0x34557e['mesh']['id']:_0x80741d-_0x1eacf5;}['setupRende'+'rState'](_0x4dfbb1,_0x40a858){const _0x5a6040=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']?_0x40a858['_isPcf']:_0x40a858['_isPcf']&&_0x40a858['_type']!==Ke;_0x4dfbb1['setBlendSt'+'ate'](_0x5a6040?this['blendState'+'NoWrite']:this['blendState'+'Write']),_0x4dfbb1['setDepthSt'+'ate'](_0x40a858['shadowDept'+'hState']),_0x4dfbb1['setStencil'+'State'](null,null);}['dispatchUn'+'iforms'](_0x306761,_0xc3824,_0x1075d9,_0x2710d3){const _0x289e0e=_0xc3824['_node'];_0x306761['_type']!==ve&&(this['renderer']['dispatchVi'+'ewPos'](_0x289e0e['getPositio'+'n']()),this['shadowMapL'+'ightRadius'+'Id']['setValue'](_0x306761['attenuatio'+'nEnd'])),W_['setTRS'](_0x289e0e['getPositio'+'n'](),_0x289e0e['getRotatio'+'n'](),D['ONE'])['invert'](),$_['mul2'](_0xc3824['projection'+'Matrix'],W_);const _0x29397b=_0x1075d9['shadowView'+'port'];_0xc3824['rect']=_0x29397b,_0xc3824['scissorRec'+'t']=_0x1075d9['shadowScis'+'sor'],X_['setViewpor'+'t'](_0x29397b['x'],_0x29397b['y'],_0x29397b['z'],_0x29397b['w']),_0x1075d9['shadowMatr'+'ix']['mul2'](X_,$_),_0x306761['_type']===ve&&_0x306761['_shadowMat'+'rixPalette']['set'](_0x1075d9['shadowMatr'+'ix']['data'],_0x2710d3*(0x1cf*0x8+-0x56d*0x2+-0x38e));}['getShadowP'+'ass'](_0x556819){var _0x1b0ca2;const _0x495235=_0x556819['_type'],_0x4a18a=_0x556819['_shadowTyp'+'e'];let _0x15acdf=(_0x1b0ca2=this['shadowPass'+'Cache'][_0x495235])==null?void(0x1955+-0x2548+0x13*0xa1):_0x1b0ca2[_0x4a18a];if(!_0x15acdf){const _0x3aae3c='ShadowPass'+'_'+_0x495235+'_'+_0x4a18a;_0x15acdf=Si['get'](this['device'])['allocate'](_0x3aae3c,{'isShadow':!(0x1643+-0xa1f+-0xc24),'lightType':_0x495235,'shadowType':_0x4a18a}),this['shadowPass'+'Cache'][_0x495235]||(this['shadowPass'+'Cache'][_0x495235]=[]),this['shadowPass'+'Cache'][_0x495235][_0x4a18a]=_0x15acdf;}return _0x15acdf['index'];}['submitCast'+'ers'](_0x497049,_0x24d3ff,_0xd36a01){var _0x1fb6c7;const _0x3bd1ac=this['device'],_0x41692f=this['renderer'],_0x26fc3a=_0x41692f['scene'],_0x35bd4f=-0xc*0x1e7+0x2*-0xbaa+-0x2e29*-0x1<<cm,_0x29788f=this['getShadowP'+'ass'](_0x24d3ff),_0x535093=_0xd36a01['shaderPara'+'ms'],_0x31d380=_0xd36a01['renderTarg'+'et']['flipY']?-(-0x1*0x18c3+-0x2626+-0x1f75*-0x2):0x1111*-0x1+-0x26c9*-0x1+-0x33*0x6d,_0x2f7222=_0x497049['length'];for(let _0x534dfc=-0x2*-0x120a+0x3*0x223+0x49*-0x95;_0x534dfc<_0x2f7222;_0x534dfc++){const _0x28f85e=_0x497049[_0x534dfc],_0x2478c8=_0x28f85e['mesh'],_0x33d4c1=_0x28f85e['instancing'+'Data'];if(_0x33d4c1&&_0x33d4c1['count']<=-0x1d12+-0xa27+-0x1*-0x2739)continue;_0x28f85e['ensureMate'+'rial'](_0x3bd1ac);const _0x4a36a1=_0x28f85e['material'];Q['pushGpuMar'+'ker'](_0x3bd1ac,'Node:\x20'+_0x28f85e['node']['name']+(',\x20Material'+':\x20')+_0x4a36a1['name']),_0x41692f['setBaseCon'+'stants'](_0x3bd1ac,_0x4a36a1),_0x41692f['setSkinnin'+'g'](_0x3bd1ac,_0x28f85e),_0x4a36a1['dirty']&&(_0x4a36a1['updateUnif'+'orms'](_0x3bd1ac,_0x26fc3a),_0x4a36a1['dirty']=!(0x19*-0x8b+0xc2f+0x3*0x77)),_0x41692f['setupCullM'+'ode'](!(0x602*0x5+-0x267a+-0x6c*-0x14),_0x31d380,_0x28f85e),_0x4a36a1['setParamet'+'ers'](_0x3bd1ac),_0x28f85e['setParamet'+'ers'](_0x3bd1ac,_0x35bd4f);const _0x105ab1=_0x28f85e['getShaderI'+'nstance'](_0x29788f,-0x1*0x18ff+0x1a1*-0x3+0x1de2,_0x26fc3a,_0x535093,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat']),_0x1bfc65=_0x105ab1['shader'];if(w['assert'](_0x1bfc65,'no\x20shader\x20'+'for\x20pass\x20'+_0x29788f,_0x4a36a1),_0x1bfc65['failed'])continue;_0x28f85e['_sortKeySh'+'adow']=_0x1bfc65['id'],_0x3bd1ac['setShader'](_0x1bfc65),_0x41692f['setVertexB'+'uffers'](_0x3bd1ac,_0x2478c8),_0x41692f['setMorphin'+'g'](_0x3bd1ac,_0x28f85e['morphInsta'+'nce']),_0x33d4c1&&_0x3bd1ac['setVertexB'+'uffer'](_0x33d4c1['vertexBuff'+'er']),_0x41692f['setMeshIns'+'tanceMatri'+'ces'](_0x28f85e),_0x41692f['setupMeshU'+'niformBuff'+'ers'](_0x105ab1);const _0x2d8d52=_0x28f85e['renderStyl'+'e'],_0xbe3a0c=(_0x1fb6c7=_0x28f85e['indirectDa'+'ta'])==null?void(0x1*-0x267b+-0xf*-0x37+-0x1*-0x2342):_0x1fb6c7['get'](_0xd36a01);_0x3bd1ac['draw'](_0x2478c8['primitive'][_0x2d8d52],_0x2478c8['indexBuffe'+'r'][_0x2d8d52],_0x33d4c1==null?void(0xba7*-0x1+-0x25*-0xb+0xa10):_0x33d4c1['count'],_0xbe3a0c),_0x41692f['_shadowDra'+'wCalls']++,_0x33d4c1&&_0x41692f['_instanced'+'DrawCalls']++,Q['popGpuMark'+'er'](_0x3bd1ac);}}['needsShado'+'wRendering'](_0x246814){const _0xfc1882=_0x246814['enabled']&&_0x246814['castShadow'+'s']&&_0x246814['shadowUpda'+'teMode']!==Ps&&_0x246814['visibleThi'+'sFrame'];return _0x246814['shadowUpda'+'teMode']===xr&&(_0x246814['shadowUpda'+'teMode']=Ps),_0xfc1882&&(this['renderer']['_shadowMap'+'Updates']+=_0x246814['numShadowF'+'aces']),_0xfc1882;}['getLightRe'+'nderData'](_0x536483,_0x2effeb,_0x431e1a){return _0x536483['getRenderD'+'ata'](_0x536483['_type']===ve?_0x2effeb:null,_0x431e1a);}['setupRende'+'rPass'](_0x56ddd2,_0x18a7ab,_0x164f0a){const _0x4b901f=_0x18a7ab['renderTarg'+'et'];_0x56ddd2['init'](_0x4b901f),_0x56ddd2['depthStenc'+'ilOps']['clearDepth'+'Value']=0x189*0x7+-0x1*-0x25f0+-0x3*0x103a,_0x56ddd2['depthStenc'+'ilOps']['clearDepth']=_0x164f0a,_0x4b901f['depthBuffe'+'r']?_0x56ddd2['depthStenc'+'ilOps']['storeDepth']=!(-0x5c9*0x1+-0x26ec+-0x221*-0x15):(_0x56ddd2['colorOps']['clearValue']['copy'](_0x18a7ab['clearColor']),_0x56ddd2['colorOps']['clear']=_0x164f0a,_0x56ddd2['depthStenc'+'ilOps']['storeDepth']=!(-0x264b+-0x1a02+-0x404e*-0x1)),_0x56ddd2['requiresCu'+'bemaps']=!(0x1fd8+0x1bed+0xf*-0x3fc);}['prepareFac'+'e'](_0x100ee5,_0x18ce73,_0x1e4a56){const _0xe1b447=_0x100ee5['_type'],_0x24ce38=this['getLightRe'+'nderData'](_0x100ee5,_0x18ce73,_0x1e4a56)['shadowCame'+'ra'],_0x30bf91=_0xe1b447===ve?-0x1016+0x1*-0xa76+-0x1*-0x1a8c:_0x1e4a56;return _0x24ce38['renderTarg'+'et']=_0x100ee5['_shadowMap']['renderTarg'+'ets'][_0x30bf91],_0x24ce38;}['renderFace'](_0xb56831,_0x1f0777,_0x518ed9,_0x5bc60e,_0x189a4d=!(0x1*-0x259f+0x13*-0x57+0x2c14)){const _0x49bb6b=this['device'],_0x45667b=de();Q['pushGpuMar'+'ker'](_0x49bb6b,'SHADOW\x20'+_0xb56831['_node']['name']+'\x20FACE\x20'+_0x518ed9);const _0x25821b=this['getLightRe'+'nderData'](_0xb56831,_0x1f0777,_0x518ed9),_0x306b67=_0x25821b['shadowCame'+'ra'];this['dispatchUn'+'iforms'](_0xb56831,_0x306b67,_0x25821b,_0x518ed9);const _0x32d920=_0x306b67['renderTarg'+'et'],_0x2115ed=this['renderer'];_0x2115ed['setCameraU'+'niforms'](_0x306b67,_0x32d920),_0x49bb6b['supportsUn'+'iformBuffe'+'rs']&&_0x2115ed['setupViewU'+'niformBuff'+'ers'](_0x25821b['viewBindGr'+'oups'],this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],null),_0x189a4d?(_0x2115ed['setupViewp'+'ort'](_0x306b67,_0x32d920),_0x5bc60e&&_0x2115ed['clear'](_0x306b67)):_0x2115ed['clearView'](_0x306b67,_0x32d920,!(0x18f9+0x2137+-0x3a30),!(0x1a80+-0x13aa+-0x6d5)),this['setupRende'+'rState'](_0x49bb6b,_0xb56831),this['submitCast'+'ers'](_0x25821b['visibleCas'+'ters'],_0xb56831,_0x306b67),Q['popGpuMark'+'er'](_0x49bb6b),_0x2115ed['_shadowMap'+'Time']+=de()-_0x45667b;}['render'](_0x3627c8,_0x577379,_0x3e3ea9=!(0x1e18+-0x1*0x1031+-0xde7)){if(this['needsShado'+'wRendering'](_0x3627c8)){const _0x4ca37f=_0x3627c8['numShadowF'+'aces'];for(let _0x539eb5=0x39a+0x2537+-0xd9b*0x3;_0x539eb5<_0x4ca37f;_0x539eb5++)this['prepareFac'+'e'](_0x3627c8,_0x577379,_0x539eb5),this['renderFace'](_0x3627c8,_0x577379,_0x539eb5,!(-0x18c8+0x1dfd+-0x535),_0x3e3ea9);this['renderVsm'](_0x3627c8,_0x577379);}}['renderVsm'](_0x386b7d,_0x4544b4){_0x386b7d['_isVsm']&&_0x386b7d['_vsmBlurSi'+'ze']>-0x20f5+0x146+-0x3*-0xa90&&(!this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']||_0x386b7d['_type']===ve)&&this['applyVsmBl'+'ur'](_0x386b7d,_0x4544b4);}['getVsmBlur'+'Shader'](_0x358bcd,_0x4346dc){const _0x1abeb8=this['blurVsmSha'+'der'];let _0x247d8f=_0x1abeb8[_0x358bcd][_0x4346dc];if(!_0x247d8f){this['blurVsmWei'+'ghts'][_0x4346dc]=Bb(_0x4346dc);const _0x145fc4=new Map();_0x145fc4['set']('{SAMPLES}',_0x4346dc),_0x358bcd===0x1d*-0x3a+-0x1bc5*-0x1+-0x1532&&_0x145fc4['set']('GAUSS',''),_0x247d8f=$t['createShad'+'er'](this['device'],{'uniqueName':'blurVsm'+_0x358bcd+_0x4346dc,'attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentChunk':'blurVSMPS','fragmentDefines':_0x145fc4}),_0x1abeb8[_0x358bcd][_0x4346dc]=_0x247d8f;}return _0x247d8f;}['applyVsmBl'+'ur'](_0x3b33f5,_0x332727){const _0x31e07b=this['device'];Q['pushGpuMar'+'ker'](_0x31e07b,'VSM\x20'+_0x3b33f5['_node']['name']),_0x31e07b['setBlendSt'+'ate'](pt['NOBLEND']);const _0x307b4e=_0x3b33f5['getRenderD'+'ata'](_0x3b33f5['_type']===ve?_0x332727:null,0x6*0x369+-0x1cc+-0x12aa)['shadowCame'+'ra']['renderTarg'+'et'],_0x5d0c09=this['renderer']['shadowMapC'+'ache']['get'](_0x31e07b,_0x3b33f5),_0x5a9684=_0x5d0c09['renderTarg'+'ets'][-0x4f*0x35+0x13e*0x1+0xf1d],_0x3d5241=_0x3b33f5['vsmBlurMod'+'e'],_0x1767c8=_0x3b33f5['_vsmBlurSi'+'ze'],_0x6d9928=this['getVsmBlur'+'Shader'](_0x3d5241,_0x1767c8);lo['z']=_0x3b33f5['_shadowRes'+'olution']-(-0xdbd*0x2+0x26e4+-0xb68),lo['w']=lo['z'],this['sourceId']['setValue'](_0x307b4e['colorBuffe'+'r']),Fr[-0xe41*-0x2+0xd6d+-0x29ef]=(0x1*0x24c1+-0xcbb*-0x3+-0x4af1)/_0x3b33f5['_shadowRes'+'olution'],Fr[0x12cc+-0x1403+0x138]=-0x3*0x7f7+0x230a+0x3*-0x3b7,this['pixelOffse'+'tId']['setValue'](Fr),_0x3d5241===em&&this['weightId']['setValue'](this['blurVsmWei'+'ghts'][_0x1767c8]),Ar(_0x31e07b,_0x5a9684,_0x6d9928,null,lo),this['sourceId']['setValue'](_0x5a9684['colorBuffe'+'r']),Fr[-0x1d*-0xe7+-0xbbc+-0xe6e]=Fr[0x1c22+0x6a4+-0x22c6],Fr[0xf75+-0xb*0x176+0x9d]=-0x2431+0x1969+0xac8,this['pixelOffse'+'tId']['setValue'](Fr),Ar(_0x31e07b,_0x307b4e,_0x6d9928,null,lo),this['renderer']['shadowMapC'+'ache']['add'](_0x3b33f5,_0x5d0c09),Q['popGpuMark'+'er'](_0x31e07b);}['initViewBi'+'ndGroupFor'+'mat'](){this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']&&(this['viewUnifor'+'mFormat']=new zy(this['device'],[new dt('matrix_vie'+'wProjectio'+'n',li)]),this['viewBindGr'+'oupFormat']=new Ny(this['device'],[new kp(Np,Fp|by)]));}['frameUpdat'+'e'](){this['initViewBi'+'ndGroupFor'+'mat']();}}const cc=[];class zb{constructor(_0x233ca5){h(this,'_empty',null),h(this,'_allocated',[]),h(this,'_clusters',new Map()),this['device']=_0x233ca5;}['destroy'](){this['_empty']&&(this['_empty']['destroy'](),this['_empty']=null),this['_allocated']['forEach'](_0x215240=>{_0x215240['destroy']();}),this['_allocated']['length']=-0x1389+-0x1f39+-0x59*-0x92;}get['count'](){return this['_allocated']['length'];}get['empty'](){if(!this['_empty']){const _0x1b200b=new cu(this['device']);_0x1b200b['name']='ClusterEmp'+'ty',_0x1b200b['update']([]),this['_empty']=_0x1b200b;}return this['_empty'];}['assign'](_0x159cf3){const _0x117550=this['empty'];cc['push'](...this['_allocated']),this['_allocated']['length']=-0x8b*0x1d+0x20ad+-0x2*0x877,this['_clusters']['clear']();const _0x1e8320=_0x159cf3['length'];for(let _0x22dd59=0x10b2+0x1*-0x991+-0x721;_0x22dd59<_0x1e8320;_0x22dd59++){const _0x4c08a7=_0x159cf3[_0x22dd59]['renderActi'+'ons'];if(_0x4c08a7){const _0x5f09f5=_0x4c08a7['length'];for(let _0x2d03b5=-0xd*0x12a+-0xb85+0x1aa7;_0x2d03b5<_0x5f09f5;_0x2d03b5++){const _0x2f74f1=_0x4c08a7[_0x2d03b5];_0x2f74f1['lightClust'+'ers']=null;const _0x172926=_0x2f74f1['layer'];if(_0x172926['hasCluster'+'edLights']&&_0x172926['meshInstan'+'ces']['length']){const _0x251711=_0x172926['getLightId'+'Hash'](),_0x1a1c13=this['_clusters']['get'](_0x251711);let _0x2af7ee=_0x1a1c13==null?void(-0x47a*-0x3+0x307+-0x1075):_0x1a1c13['lightClust'+'ers'];_0x2af7ee||(_0x2af7ee=cc['pop']()??new cu(this['device']),Ea['setName'](_0x2af7ee,'Cluster-'+this['_allocated']['length']),this['_allocated']['push'](_0x2af7ee),this['_clusters']['set'](_0x251711,_0x2f74f1)),_0x2f74f1['lightClust'+'ers']=_0x2af7ee;}_0x2f74f1['lightClust'+'ers']||(_0x2f74f1['lightClust'+'ers']=_0x117550);}}}cc['forEach'](_0xfa347b=>_0xfa347b['destroy']()),cc['length']=-0x12a9*0x1+-0xc05*0x2+-0x2ab3*-0x1;}['update'](_0x3f005c,_0x18c1df){this['assign'](_0x3f005c),this['_clusters']['forEach'](_0x77d737=>{const _0x35737e=_0x77d737['layer'];_0x77d737['lightClust'+'ers']['update'](_0x35737e['clusteredL'+'ightsSet'],_0x18c1df);});}}const rr=new re(),af=[];class pm extends ys{constructor(_0x4624b7,_0x56bec9){super(_0x4624b7),h(this,'_quadRende'+'rer2D',null),h(this,'_quadRende'+'rerCube',null),h(this,'_filteredL'+'ights',[]),h(this,'_forceCopy',!(0x1b*0x82+0x1b0d+-0x28c2)),h(this,'_evtDevice'+'Restored',null),(this['_cubeSlots'+'Offsets']=_0x56bec9,this['requiresCu'+'bemaps']=!(0x1f76*-0x1+-0x719*-0x5+0x67*-0xa),this['blitTextur'+'eId']=_0x4624b7['scope']['resolve']('blitTextur'+'e'),this['invViewPro'+'jId']=_0x4624b7['scope']['resolve']('invViewPro'+'j'),this['_evtDevice'+'Restored']=_0x4624b7['on']('devicerest'+'ored',this['onDeviceRe'+'stored'],this));}['destroy'](){var _0x364d19,_0x5703b1,_0x49f839;(_0x364d19=this['_quadRende'+'rer2D'])==null||_0x364d19['destroy'](),this['_quadRende'+'rer2D']=null,(_0x5703b1=this['_quadRende'+'rerCube'])==null||_0x5703b1['destroy'](),this['_quadRende'+'rerCube']=null,(_0x49f839=this['_evtDevice'+'Restored'])==null||_0x49f839['off'](),this['_evtDevice'+'Restored']=null;}static['create'](_0x3081d3,_0x122e7d){w['assert'](_0x3081d3);const _0x3c2edd=new pm(_0x3081d3['device'],_0x122e7d);return _0x3c2edd['init'](_0x3081d3),_0x3c2edd['colorOps']['clear']=!(-0xabb+-0x1637+0x20f3),_0x3c2edd['depthStenc'+'ilOps']['clearDepth']=!(0x1*0x189b+0x4a*-0x60+0x326),_0x3c2edd;}['onDeviceRe'+'stored'](){this['_forceCopy']=!(-0x1*-0x10c3+0x5fb*-0x4+-0x3*-0x263);}['update'](_0x1d2f25){const _0x13105d=this['_filteredL'+'ights'];this['filter'](_0x1d2f25,_0x13105d),this['executeEna'+'bled']=_0x13105d['length']>-0x13d5+0x1*-0x88f+-0x4*-0x719;}['filter'](_0x3eb7b6,_0xd0c7f6){for(let _0x46bbbd=-0xd*-0x209+0x1*0x2687+0x207e*-0x2;_0x46bbbd<_0x3eb7b6['length'];_0x46bbbd++){const _0x21cb0e=_0x3eb7b6[_0x46bbbd];_0x21cb0e['_type']!==ve&&_0x21cb0e['atlasViewp'+'ortAllocat'+'ed']&&(!_0x21cb0e['atlasSlotU'+'pdated']&&!this['_forceCopy']||_0x21cb0e['enabled']&&_0x21cb0e['cookie']&&_0x21cb0e['visibleThi'+'sFrame']&&_0xd0c7f6['push'](_0x21cb0e));}this['_forceCopy']=!(0xa08+-0x211f+0x1718);}['initInvVie'+'wProjMatri'+'ces'](){if(!af['length'])for(let _0xac3e2b=0x1e68+0x142c+-0x4e*0xa6;_0xac3e2b<-0x4*-0xa+0xb8b*-0x1+0x1*0xb69;_0xac3e2b++){const _0x2ae540=Wn['create'](null,Ke,_0xac3e2b),_0x39373f=_0x2ae540['projection'+'Matrix'],_0x4a2472=_0x2ae540['node']['getLocalTr'+'ansform']()['clone']()['invert']();af[_0xac3e2b]=new te()['mul2'](_0x39373f,_0x4a2472)['invert']();}}get['quadRender'+'er2D'](){if(!this['_quadRende'+'rer2D']){const _0x4ca0b3=$t['createShad'+'er'](this['device'],{'uniqueName':'cookieRend'+'erer2d','attributes':{'vertex_position':Me},'vertexChunk':'cookieBlit'+'VS','fragmentChunk':'cookieBlit'+'2DPS'});this['_quadRende'+'rer2D']=new Ah(_0x4ca0b3);}return this['_quadRende'+'rer2D'];}get['quadRender'+'erCube'](){if(!this['_quadRende'+'rerCube']){const _0x1873d8=$t['createShad'+'er'](this['device'],{'uniqueName':'cookieRend'+'ererCube','attributes':{'vertex_position':Me},'vertexChunk':'cookieBlit'+'VS','fragmentChunk':'cookieBlit'+'CubePS'});this['_quadRende'+'rerCube']=new Ah(_0x1873d8);}return this['_quadRende'+'rerCube'];}['execute'](){const _0x566778=this['device'];_0x566778['setBlendSt'+'ate'](pt['NOBLEND']),_0x566778['setCullMod'+'e'](bt),_0x566778['setDepthSt'+'ate'](Yt['NODEPTH']),_0x566778['setStencil'+'State']();const _0x128e85=this['renderTarg'+'et']['colorBuffe'+'r']['width'],_0x35e009=this['_cubeSlots'+'Offsets'],_0x2ee5a1=this['_filteredL'+'ights'];for(let _0x5617e5=0x381*-0x1+-0xa7*0x5+0x6c4;_0x5617e5<_0x2ee5a1['length'];_0x5617e5++){const _0x5c530=_0x2ee5a1[_0x5617e5];Q['pushGpuMar'+'ker'](this['device'],'COOKIE\x20'+_0x5c530['_node']['name']);const _0x417be4=_0x5c530['numShadowF'+'aces'],_0x2dba4c=_0x417be4>-0x14ef*0x1+0x3ce*-0x5+-0x3e*-0xa5?this['quadRender'+'erCube']:this['quadRender'+'er2D'];_0x417be4>-0xdc3*0x2+-0x2*-0x323+0x1541&&this['initInvVie'+'wProjMatri'+'ces'](),this['blitTextur'+'eId']['setValue'](_0x5c530['cookie']);for(let _0x3032fb=0x20d8+-0x2614+0x53c;_0x3032fb<_0x417be4;_0x3032fb++){if(rr['copy'](_0x5c530['atlasViewp'+'ort']),_0x417be4>-0x1ade+-0x6ec*-0x1+0x13f3){const _0x3b6119=rr['z']/(0x1a0+0x1097+0x4*-0x48d),_0x2de8fb=_0x35e009[_0x3032fb];rr['x']+=_0x3b6119*_0x2de8fb['x'],rr['y']+=_0x3b6119*_0x2de8fb['y'],rr['z']=_0x3b6119,rr['w']=_0x3b6119,this['invViewPro'+'jId']['setValue'](af[_0x3032fb]['data']);}rr['mulScalar'](_0x128e85),_0x2dba4c['render'](rr);}Q['popGpuMark'+'er'](_0x566778);}_0x2ee5a1['length']=0x2*0xbd9+0x1*-0xb0f+-0xca3;}}class Vb extends ys{constructor(_0x18249d,_0x5dccfc,_0x597105){super(_0x18249d),this['requiresCu'+'bemaps']=!(0x15a*0x3+0x2*-0x12fe+-0x21ef*-0x1),this['shadowRend'+'erer']=_0x5dccfc,this['shadowRend'+'ererLocal']=_0x597105;}['update'](_0x23d47d){const _0x2555db=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x6d44bf=this['shadowRend'+'ererLocal']['prepareLig'+'hts'](_0x2555db,_0x23d47d),_0x468155=_0x2555db['length'];this['enabled']=_0x468155>0x34d+0xd2e+-0x107b,_0x468155&&this['shadowRend'+'erer']['setupRende'+'rPass'](this,_0x6d44bf,!(-0x1e25+-0xf6f+0x683*0x7));}['execute'](){const _0x5a160b=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x150511=_0x5a160b['length'];for(let _0x18626b=0x29*-0x95+-0xb*0x2b7+0x1add*0x2;_0x18626b<_0x150511;_0x18626b++){const _0x267513=_0x5a160b[_0x18626b];for(let _0x4ba80c=-0x7*0x4c+-0x3*-0x29f+0x5c9*-0x1;_0x4ba80c<_0x267513['numShadowF'+'aces'];_0x4ba80c++)this['shadowRend'+'erer']['renderFace'](_0x267513,null,_0x4ba80c,!(0x1a13+0x5c*-0x8+-0x1733));}_0x5a160b['length']=0x2152+-0x1f1f+-0x233;}}class Gb extends ys{constructor(_0x578892,_0x444169,_0x3848ac,_0x2292ec,_0x4d1613){super(_0x578892),this['renderer']=_0x444169,this['frameGraph']=null,this['cookiesRen'+'derPass']=pm['create'](_0x4d1613['cookieRend'+'erTarget'],_0x4d1613['cubeSlotsO'+'ffsets']),this['beforePass'+'es']['push'](this['cookiesRen'+'derPass']),this['shadowRend'+'erPass']=new Vb(_0x578892,_0x3848ac,_0x2292ec),this['beforePass'+'es']['push'](this['shadowRend'+'erPass']);}['update'](_0x49e16a,_0x5da95c,_0x552ae6,_0x5db7b7,_0x19d8b7){this['frameGraph']=_0x49e16a,this['cookiesRen'+'derPass']['enabled']=_0x552ae6,_0x552ae6&&this['cookiesRen'+'derPass']['update'](_0x5db7b7),this['shadowRend'+'erPass']['enabled']=_0x5da95c,_0x5da95c&&this['shadowRend'+'erPass']['update'](_0x19d8b7);}['destroy'](){this['cookiesRen'+'derPass']['destroy'](),this['cookiesRen'+'derPass']=null;}['execute'](){const _0x1896a1=de(),{renderer:_0x41e781}=this,{scene:_0x159a2e}=_0x41e781;_0x41e781['worldClust'+'ersAllocat'+'or']['update'](this['frameGraph']['renderPass'+'es'],_0x159a2e['lighting']),_0x41e781['_lightClus'+'tersTime']+=de()-_0x1896a1,_0x41e781['_lightClus'+'ters']=_0x41e781['worldClust'+'ersAllocat'+'or']['count'];}}let nf=0x1413*0x1+-0x634*0x2+-0x97*0xd;const ar=new te(),nr=new te(),Oa=new te(),q_=new _i(),of=new sp(),j_=new te()['setScale'](0xb86+0x1*0x137+0x5*-0x28c,-(-0x4a3*0x7+0xb74*-0x2+0x375e),-0x4f6+-0x1*-0x156b+-0x1074),lf=new Set(),cf=new Set(),hf=new ky(),Y_=new te()['set']([-0xef6+0x9ca+0x35*0x19,-0x1737+0x25d+0x14da,-0x83*0x7+-0x55d+-0x1*-0x8f2,0x1*-0x15d7+-0xf99+0x2570,-0x1b7*0x7+-0x1007*-0x2+-0x1*0x140d,-0x22a0+0x1b*0x169+0xe*-0x3f,0x1*0xf13+-0x1073+0x160,-0x2*-0x40f+0x1160+-0x197e,0x211+0x18a9*0x1+-0xd5d*0x2,0x23c0+0x16a8+-0x3a68,-0x1*0x4de+0xf69+-0xa8b+0.5,0x65*-0x5e+-0xad*-0x24+0xcc2,0x35*0xb1+0xda7+-0x431*0xc,-0x368+0xe08+-0x550*0x2,-0x2301+-0x1*-0x266f+-0x1*0x36e+0.5,-0x6f7*-0x4+0x97a+-0x2555]),K_=[new J(-0xc41*0x1+0xe5c*-0x1+0x1a9d+0.5,-0x1986+0x350+-0xb1b*-0x2+0.333333),new J(0x1*-0x19fd+0x5e7+0x3*0x6b2+0.25,0x181a+0x291*0x1+-0x1aab+0.666667),new J(-0x17a0+-0x2*-0x1369+-0x2*0x799+0.75,0x16f*-0x1+0x379*0x9+-0x1dd2+0.111111),new J(0x26d1*-0x1+0x10*-0x1e1+0x44e1+0.125,0x2f*-0x1d+-0x44*0x43+0x171f+0.444444),new J(0x7a*-0x15+-0x3f*0x3b+-0x12b*-0x15+0.625,-0x175*0xd+-0x5*-0x479+-0x36c+0.777778),new J(-0x1f0+-0x1721+0x1911+0.375,-0x25a3+-0x11f1+-0xde5*-0x4+0.222222),new J(0x1*0x10ed+0x84d+0xc9d*-0x2+0.875,-0x726+0xe89+0x763*-0x1+0.555556),new J(0x373*0x1+0x354+-0x6c7+0.0625,0x3d*-0x61+0x17d+0x15a0+0.888889),new J(0x19*-0x13+0x1*-0x11c2+0x139d+0.5625,-0x1*-0x1c9+-0x14e4+0x131b*0x1+0.037037),new J(-0x189e+-0x1*0x1b47+0x5*0xa61+0.3125,0x21b6+-0x12e2+-0xed4+0.37037),new J(-0x324+-0x1575+0x1899+0.8125,-0x2db+0x25e2+0x3d*-0x93+0.703704),new J(-0x2120+0x1298+0x744*0x2+0.1875,-0x26ec+-0x29a*0x8+0x3bbc+0.148148),new J(-0x1*0x3bc+-0x1131*0x2+0x261e+0.6875,0x22c5*0x1+-0x4d9*-0x7+-0x44b4+0.481481),new J(-0x1a3b+0x287*-0x4+0x2457+0.4375,-0xdb5+0x361*0xa+0x61*-0x35+0.814815),new J(-0x14cb+0x3*0x993+-0x5*0x196+0.9375,0x23ae+0x12a9*-0x1+0x1105*-0x1+0.259259),new J(-0x12e7+-0x416*-0x7+0xd*-0xbf+0.03125,-0x14b4+-0xaf1+0x1fa5*0x1+0.592593)],Hb=new te(),Wb=new te(),$b=new te(),Xb=new te(),qb=new te(),jb=new te(),Fa=new Set(),df=[],ff=[];class Yb{constructor(_0x4ac626){h(this,'clustersDe'+'bugRendere'+'d',!(0x1*0x23b+0xd73+-0x1*0xfad)),h(this,'processing'+'MeshInstan'+'ces',new Set()),h(this,'worldClust'+'ersAllocat'+'or'),h(this,'lights',[]),h(this,'localLight'+'s',[]),h(this,'cameraDirS'+'hadowLight'+'s',new Map()),h(this,'dirLightSh'+'adows',new Map()),h(this,'blueNoise',new wb(0xe23+0x166e+-0x2416*0x1)),(this['device']=_0x4ac626,this['scene']=null,this['worldClust'+'ersAllocat'+'or']=new zb(_0x4ac626),this['lightTextu'+'reAtlas']=new Ib(_0x4ac626),this['shadowMapC'+'ache']=new Lb(),this['shadowRend'+'erer']=new Cv(this,this['lightTextu'+'reAtlas']),this['_shadowRen'+'dererLocal']=new Ob(this,this['shadowRend'+'erer']),this['_shadowRen'+'dererDirec'+'tional']=new kb(this,this['shadowRend'+'erer']),this['_renderPas'+'sUpdateClu'+'stered']=new Gb(this['device'],this,this['shadowRend'+'erer'],this['_shadowRen'+'dererLocal'],this['lightTextu'+'reAtlas']),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['_skinTime']=-0x592+-0xe55+0x5*0x3fb,this['_morphTime']=-0x1794*-0x1+-0x2172+0x9de,this['_cullTime']=-0x4*-0x75a+-0x1*0xe8f+0xb5*-0x15,this['_shadowMap'+'Time']=0xc47+-0x96*0x38+0x7*0x2ef,this['_lightClus'+'tersTime']=-0x1*0x246b+0xca7+0x17c4,this['_layerComp'+'ositionUpd'+'ateTime']=-0x30+0x3*0x675+-0x132f,this['_shadowDra'+'wCalls']=0x4*0x3af+0xed1+-0x1d8d,this['_skinDrawC'+'alls']=0x1e2f+-0x18b+-0x1ca4,this['_instanced'+'DrawCalls']=-0x2221+-0x10*0x1b4+0x33b*0x13,this['_shadowMap'+'Updates']=-0xcc7*0x3+0x8b7+-0x1d9e*-0x1,this['_numDrawCa'+'llsCulled']=-0x1e28+-0x1637+0x345f,this['_camerasRe'+'ndered']=0x2300+-0x35*0x9b+-0x95*0x5,this['_lightClus'+'ters']=0x5d*0x4b+-0x53*0xd+-0x10c*0x16);const _0x4b812b=_0x4ac626['scope'];this['boneTextur'+'eId']=_0x4b812b['resolve']('texture_po'+'seMap'),this['modelMatri'+'xId']=_0x4b812b['resolve']('matrix_mod'+'el'),this['normalMatr'+'ixId']=_0x4b812b['resolve']('matrix_nor'+'mal'),this['viewInvId']=_0x4b812b['resolve']('matrix_vie'+'wInverse'),this['viewPos']=new Float32Array(0x76f*-0x5+0x1*0x156d+0xfc1),this['viewPosId']=_0x4b812b['resolve']('view_posit'+'ion'),this['projId']=_0x4b812b['resolve']('matrix_pro'+'jection'),this['projSkybox'+'Id']=_0x4b812b['resolve']('matrix_pro'+'jectionSky'+'box'),this['viewId']=_0x4b812b['resolve']('matrix_vie'+'w'),this['viewId3']=_0x4b812b['resolve']('matrix_vie'+'w3'),this['viewProjId']=_0x4b812b['resolve']('matrix_vie'+'wProjectio'+'n'),this['flipYId']=_0x4b812b['resolve']('projection'+'FlipY'),this['tbnBasis']=_0x4b812b['resolve']('tbnBasis'),this['nearClipId']=_0x4b812b['resolve']('camera_nea'+'r'),this['farClipId']=_0x4b812b['resolve']('camera_far'),this['cameraPara'+'ms']=new Float32Array(0x1abf+-0x1911+-0x1aa),this['cameraPara'+'msId']=_0x4b812b['resolve']('camera_par'+'ams'),this['viewIndexI'+'d']=_0x4b812b['resolve']('view_index'),this['viewIndexI'+'d']['setValue'](0x201+-0x2632+0x2431),this['blueNoiseJ'+'itterVersi'+'on']=0x2613+0x93e+-0x2f51,this['blueNoiseJ'+'itterVec']=new re(),this['blueNoiseJ'+'itterData']=new Float32Array(0x1*0x5ea+-0x1cb6+0x16d0),this['blueNoiseJ'+'itterId']=_0x4b812b['resolve']('blueNoiseJ'+'itter'),this['blueNoiseT'+'extureId']=_0x4b812b['resolve']('blueNoiseT'+'ex32'),this['alphaTestI'+'d']=_0x4b812b['resolve']('alpha_ref'),this['opacityMap'+'Id']=_0x4b812b['resolve']('texture_op'+'acityMap'),this['exposureId']=_0x4b812b['resolve']('exposure'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']=_0x4b812b['resolve']('twoSidedLi'+'ghtingNegS'+'caleFactor'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](-0xff7*-0x2+0x1e0b+-0x3df9),this['morphPosit'+'ionTex']=_0x4b812b['resolve']('morphPosit'+'ionTex'),this['morphNorma'+'lTex']=_0x4b812b['resolve']('morphNorma'+'lTex'),this['morphTexPa'+'rams']=_0x4b812b['resolve']('morph_tex_'+'params'),this['lightCube']=new bb(),this['constantLi'+'ghtCube']=_0x4b812b['resolve']('lightCube['+'0]');}['destroy'](){this['shadowRend'+'erer']=null,this['_shadowRen'+'dererLocal']=null,this['_shadowRen'+'dererDirec'+'tional']=null,this['shadowMapC'+'ache']['destroy'](),this['shadowMapC'+'ache']=null,this['_renderPas'+'sUpdateClu'+'stered']['destroy'](),this['_renderPas'+'sUpdateClu'+'stered']=null,this['lightTextu'+'reAtlas']['destroy'](),this['lightTextu'+'reAtlas']=null;}['setupViewp'+'ort'](_0x5c1710,_0xe9e79c){const _0x59e9b3=this['device'],_0x46dc3e=_0xe9e79c?_0xe9e79c['width']:_0x59e9b3['width'],_0x5033b4=_0xe9e79c?_0xe9e79c['height']:_0x59e9b3['height'],_0x2282c5=_0x5c1710['rect'];let _0x5a1913=Math['floor'](_0x2282c5['x']*_0x46dc3e),_0x52f801=Math['floor'](_0x2282c5['y']*_0x5033b4),_0xd5301f=Math['floor'](_0x2282c5['z']*_0x46dc3e),_0x571b87=Math['floor'](_0x2282c5['w']*_0x5033b4);if(_0x59e9b3['setViewpor'+'t'](_0x5a1913,_0x52f801,_0xd5301f,_0x571b87),_0x5c1710['_scissorRe'+'ctClear']){const _0x313b9d=_0x5c1710['scissorRec'+'t'];_0x5a1913=Math['floor'](_0x313b9d['x']*_0x46dc3e),_0x52f801=Math['floor'](_0x313b9d['y']*_0x5033b4),_0xd5301f=Math['floor'](_0x313b9d['z']*_0x46dc3e),_0x571b87=Math['floor'](_0x313b9d['w']*_0x5033b4);}_0x59e9b3['setScissor'](_0x5a1913,_0x52f801,_0xd5301f,_0x571b87);}['setCameraU'+'niforms'](_0x3636a8,_0x1fb522){var _0x2f0bee,_0x1a8081;const _0xd12751=_0x1fb522==null?void(-0xd1*0xf+-0xaf4+0x1733):_0x1fb522['flipY'];let _0x4593de=null;if(_0x3636a8['xr']&&_0x3636a8['xr']['session']){const _0x53bedc=((_0x1a8081=(_0x2f0bee=_0x3636a8['_node'])==null?void(-0xbff+0x1*-0x1b7c+0x3*0xd29):_0x2f0bee['parent'])==null?void(0x1595+-0x6fb+-0xe9a):_0x1a8081['getWorldTr'+'ansform']())||null;_0x4593de=_0x3636a8['xr']['views']['list'];for(let _0x211b68=-0x45*0x1f+-0xf06+-0x357*-0x7;_0x211b68<_0x4593de['length'];_0x211b68++){const _0x1eb115=_0x4593de[_0x211b68];_0x1eb115['updateTran'+'sforms'](_0x53bedc),_0x3636a8['frustum']['setFromMat'+'4'](_0x1eb115['projViewOf'+'fMat']);}}else{let _0x5edaa=_0x3636a8['projection'+'Matrix'];_0x3636a8['calculateP'+'rojection']&&_0x3636a8['calculateP'+'rojection'](_0x5edaa,ec);let _0x349a70=_0x3636a8['getProject'+'ionMatrixS'+'kybox']();_0xd12751&&(_0x5edaa=Hb['mul2'](j_,_0x5edaa),_0x349a70=Wb['mul2'](j_,_0x349a70)),this['device']['isWebGPU']&&(_0x5edaa=$b['mul2'](Y_,_0x5edaa),_0x349a70=Xb['mul2'](Y_,_0x349a70));const {jitter:_0x3b2d69}=_0x3636a8;let _0x3bc192=-0x1e22+-0x5*-0x76d+0xc7*-0x9,_0x39552d=0x46a+-0x6e6+0x27c;if(_0x3b2d69>0x203+-0x12e7+0x10e4){const _0x4435d2=_0x1fb522?_0x1fb522['width']:this['device']['width'],_0x2d5fe6=_0x1fb522?_0x1fb522['height']:this['device']['height'],_0x2f967d=K_[this['device']['renderVers'+'ion']%K_['length']];_0x3bc192=_0x3b2d69*(_0x2f967d['x']*(-0x44+0x2*-0x581+0xb48)-(0xd71+-0xa*-0x53+-0x5*0x356))/_0x4435d2,_0x39552d=_0x3b2d69*(_0x2f967d['y']*(0x1652+-0x2*0x1064+0xa78)-(0x2215+-0x1*0x56f+-0x1ca5))/_0x2d5fe6,_0x5edaa=qb['copy'](_0x5edaa),_0x5edaa['data'][-0x499*0x2+0x22c8+-0x198e]=_0x3bc192,_0x5edaa['data'][-0x844*0x4+-0x2657+0x8ee*0x8]=_0x39552d,_0x349a70=jb['copy'](_0x349a70),_0x349a70['data'][0x13d9+0xfed+-0x5*0x726]=_0x3bc192,_0x349a70['data'][-0xa30+0x633+0x5*0xce]=_0x39552d,this['blueNoiseJ'+'itterVersi'+'on']!==this['device']['renderVers'+'ion']&&(this['blueNoiseJ'+'itterVersi'+'on']=this['device']['renderVers'+'ion'],this['blueNoise']['vec4'](this['blueNoiseJ'+'itterVec']));}const _0x204edb=_0x3b2d69>0x2047+0x1a5*-0x1+0xf51*-0x2?this['blueNoiseJ'+'itterVec']:re['ZERO'];if(this['blueNoiseJ'+'itterData'][0xd73+-0x16*-0x1f+-0x101d]=_0x204edb['x'],this['blueNoiseJ'+'itterData'][0x11d7+0x1746+-0x1*0x291c]=_0x204edb['y'],this['blueNoiseJ'+'itterData'][-0x3*-0x233+-0x187d*0x1+-0x8f3*-0x2]=_0x204edb['z'],this['blueNoiseJ'+'itterData'][0x26aa+-0x65d+-0x204a*0x1]=_0x204edb['w'],this['blueNoiseJ'+'itterId']['setValue'](this['blueNoiseJ'+'itterData']),this['projId']['setValue'](_0x5edaa['data']),this['projSkybox'+'Id']['setValue'](_0x349a70['data']),_0x3636a8['calculateT'+'ransform'])_0x3636a8['calculateT'+'ransform'](nr,ec);else{const _0x9e141c=_0x3636a8['_node']['getPositio'+'n'](),_0x137725=_0x3636a8['_node']['getRotatio'+'n']();nr['setTRS'](_0x9e141c,_0x137725,D['ONE']);}this['viewInvId']['setValue'](nr['data']),Oa['copy'](nr)['invert'](),this['viewId']['setValue'](Oa['data']),q_['setFromMat'+'4'](Oa),this['viewId3']['setValue'](q_['data']),ar['mul2'](_0x5edaa,Oa),this['viewProjId']['setValue'](ar['data']),_0x3636a8['_storeShad'+'erMatrices'](ar,_0x3bc192,_0x39552d,this['device']['renderVers'+'ion']),this['flipYId']['setValue'](_0xd12751?-(-0x1cf*-0xb+0x7*0x10b+-0x1b31):0x1*0x2635+-0xf4e*0x1+0x3*-0x7a2),this['dispatchVi'+'ewPos'](_0x3636a8['_node']['getPositio'+'n']()),_0x3636a8['frustum']['setFromMat'+'4'](ar);}this['tbnBasis']['setValue'](_0xd12751?-(0xe8a+-0x1316+-0x1*-0x48d):-0x347*0xb+-0xcfe+0x310c);const _0x388409=_0x3636a8['_nearClip'],_0x2d052d=_0x3636a8['_farClip'];return this['nearClipId']['setValue'](_0x388409),this['farClipId']['setValue'](_0x2d052d),this['cameraPara'+'ms'][-0x982+0xc9*-0x2b+0x13*0x247]=(-0x7*0x80+-0x7*-0x17+-0xb8*-0x4)/_0x2d052d,this['cameraPara'+'ms'][0xd06*-0x1+-0x239a+0x30a1]=_0x2d052d,this['cameraPara'+'ms'][-0x11e*-0x8+-0x25cb+-0x99f*-0x3]=_0x388409,this['cameraPara'+'ms'][-0xcb1+-0x1*0xceb+0x199f]=_0x3636a8['projection']===En?0x199d*-0x1+-0x16cf+-0x17*-0x21b:-0x3*0x699+0x19c7+0x4*-0x17f,this['cameraPara'+'msId']['setValue'](this['cameraPara'+'ms']),this['exposureId']['setValue'](this['scene']['physicalUn'+'its']?_0x3636a8['getExposur'+'e']():this['scene']['exposure']),_0x4593de;}['clear'](_0x1beb91,_0x253d24,_0x34fdeb,_0x1f7dc0){const _0x116d4d=(_0x253d24??_0x1beb91['_clearColo'+'rBuffer']?jo:0x176e+0x939+-0x20a7)|(_0x34fdeb??_0x1beb91['_clearDept'+'hBuffer']?Yo:0x2*0xb27+-0x8fc+-0x5*0x2aa)|(_0x1f7dc0??_0x1beb91['_clearSten'+'cilBuffer']?ch:0x5*0x19+0x1025*0x2+0x3*-0xaed);if(_0x116d4d){const _0x19c1cd=this['device'];Q['pushGpuMar'+'ker'](_0x19c1cd,'CLEAR'),_0x19c1cd['clear']({'color':[_0x1beb91['_clearColo'+'r']['r'],_0x1beb91['_clearColo'+'r']['g'],_0x1beb91['_clearColo'+'r']['b'],_0x1beb91['_clearColo'+'r']['a']],'depth':_0x1beb91['_clearDept'+'h'],'stencil':_0x1beb91['_clearSten'+'cil'],'flags':_0x116d4d}),Q['popGpuMark'+'er'](_0x19c1cd);}}['setCamera'](_0x1daadb,_0x1d44b6,_0x505e51,_0x3d5108=null){this['setCameraU'+'niforms'](_0x1daadb,_0x1d44b6),this['clearView'](_0x1daadb,_0x1d44b6,_0x505e51,!(-0x14e9*0x1+0x44c+0x109e));}['clearView'](_0x160cdc,_0x55ac8a,_0x2df33d,_0x247d65){const _0x1c8067=this['device'];if(Q['pushGpuMar'+'ker'](_0x1c8067,'CLEAR-VIEW'),_0x1c8067['setRenderT'+'arget'](_0x55ac8a),_0x1c8067['updateBegi'+'n'](),_0x247d65&&(_0x1c8067['setColorWr'+'ite'](!(-0x1c2+0xb*0x1f1+-0x1399),!(-0x19e8+0x65*-0x33+-0x1*-0x2e07),!(-0x119b+-0x6*-0x19b+-0x7f9*-0x1),!(0x24*-0x106+-0xb2c+0x3004)),_0x1c8067['setDepthWr'+'ite'](!(0x376*0x4+-0x19e1+0xc09))),this['setupViewp'+'ort'](_0x160cdc,_0x55ac8a),_0x2df33d){const _0x26b73b=_0x160cdc['_clearOpti'+'ons'];_0x1c8067['clear'](_0x26b73b||{'color':[_0x160cdc['_clearColo'+'r']['r'],_0x160cdc['_clearColo'+'r']['g'],_0x160cdc['_clearColo'+'r']['b'],_0x160cdc['_clearColo'+'r']['a']],'depth':_0x160cdc['_clearDept'+'h'],'flags':(_0x160cdc['_clearColo'+'rBuffer']?jo:0x123e+0x1*0xaab+-0x1ce9)|(_0x160cdc['_clearDept'+'hBuffer']?Yo:0x5*0x3b4+-0x1*0x1938+-0x42*-0x1a)|(_0x160cdc['_clearSten'+'cilBuffer']?ch:0x3*0x145+-0x1e*0x90+-0xd11*-0x1),'stencil':_0x160cdc['_clearSten'+'cil']});}Q['popGpuMark'+'er'](_0x1c8067);}['setupCullM'+'ode'](_0x3b03d9,_0x4cac90,_0x1962ad){const _0x51fb5c=_0x1962ad['material'];let _0x911d71=bt;if(_0x3b03d9){let _0x5b5374=-0x1ced+-0x1031+0x1*0x2d1f;(_0x51fb5c['cull']===Fo||_0x51fb5c['cull']===pa)&&(_0x5b5374=_0x4cac90*_0x1962ad['flipFacesF'+'actor']*_0x1962ad['node']['worldScale'+'Sign']),_0x5b5374<0x93b+0x1096+-0x19d1?_0x911d71=_0x51fb5c['cull']===Fo?pa:Fo:_0x911d71=_0x51fb5c['cull'];}this['device']['setCullMod'+'e'](_0x911d71),_0x911d71===bt&&_0x51fb5c['cull']===bt&&this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](_0x1962ad['node']['worldScale'+'Sign']);}['updateCame'+'raFrustum'](_0x25f533){if(_0x25f533['xr']&&_0x25f533['xr']['views']['list']['length']){const _0x49fe4e=_0x25f533['xr']['views']['list'][-0x114d+0x1d99+-0xc4c];ar['mul2'](_0x49fe4e['projMat'],_0x49fe4e['viewOffMat']),_0x25f533['frustum']['setFromMat'+'4'](ar);return;}const _0x299eae=_0x25f533['projection'+'Matrix'];if(_0x25f533['calculateP'+'rojection']&&_0x25f533['calculateP'+'rojection'](_0x299eae,ec),_0x25f533['calculateT'+'ransform'])_0x25f533['calculateT'+'ransform'](nr,ec);else{const _0x30b6a3=_0x25f533['_node']['getPositio'+'n'](),_0x2a4a93=_0x25f533['_node']['getRotatio'+'n']();nr['setTRS'](_0x30b6a3,_0x2a4a93,D['ONE']),this['viewInvId']['setValue'](nr['data']);}Oa['copy'](nr)['invert'](),ar['mul2'](_0x299eae,Oa),_0x25f533['frustum']['setFromMat'+'4'](ar);}['setBaseCon'+'stants'](_0x13f793,_0x531716){_0x13f793['setCullMod'+'e'](_0x531716['cull']),_0x531716['opacityMap']&&this['opacityMap'+'Id']['setValue'](_0x531716['opacityMap']),(_0x531716['opacityMap']||_0x531716['alphaTest']>0xca*0x1+0x1*-0x583+0x4b9)&&this['alphaTestI'+'d']['setValue'](_0x531716['alphaTest']);}['updateCpuS'+'kinMatrice'+'s'](_0x6cd1d0){nf++;const _0x404fcf=_0x6cd1d0['length'];if(_0x404fcf===0x1b91*-0x1+0x3*0x511+0xc5e)return;const _0x3f717d=de();for(let _0x42f0c3=-0x959*-0x2+0x9cb*0x1+-0x3*0x97f;_0x42f0c3<_0x404fcf;_0x42f0c3++){const _0x1861e8=_0x6cd1d0[_0x42f0c3]['skinInstan'+'ce'];_0x1861e8&&(_0x1861e8['updateMatr'+'ices'](_0x6cd1d0[_0x42f0c3]['node'],nf),_0x1861e8['_dirty']=!(0x1*-0x1807+-0x1990+0x3197));}this['_skinTime']+=de()-_0x3f717d;}['updateGpuS'+'kinMatrice'+'s'](_0x252af7){const _0x4a5b3b=de();for(const _0x2fb7f2 of _0x252af7){const _0x368520=_0x2fb7f2['skinInstan'+'ce'];_0x368520&&_0x368520['_dirty']&&(_0x368520['updateMatr'+'ixPalette'](_0x2fb7f2['node'],nf),_0x368520['_dirty']=!(-0x123f+0x2225*-0x1+0x3465));}this['_skinTime']+=de()-_0x4a5b3b;}['updateMorp'+'hing'](_0x191037){const _0x3064a5=de();for(const _0x807350 of _0x191037){const _0x39151f=_0x807350['morphInsta'+'nce'];_0x39151f&&_0x39151f['_dirty']&&_0x39151f['update']();}this['_morphTime']+=de()-_0x3064a5;}['updateGSpl'+'ats'](_0x477476){var _0x5ce2c2;for(const _0x4acd8b of _0x477476)(_0x5ce2c2=_0x4acd8b['gsplatInst'+'ance'])==null||_0x5ce2c2['update']();}['gpuUpdate'](_0x3df5a1){this['updateGpuS'+'kinMatrice'+'s'](_0x3df5a1),this['updateMorp'+'hing'](_0x3df5a1),this['updateGSpl'+'ats'](_0x3df5a1);}['setVertexB'+'uffers'](_0x5f38b2,_0x47b2bd){_0x5f38b2['setVertexB'+'uffer'](_0x47b2bd['vertexBuff'+'er']);}['setMorphin'+'g'](_0x22251d,_0x14512c){_0x14512c&&(_0x14512c['prepareRen'+'dering'](_0x22251d),_0x22251d['setVertexB'+'uffer'](_0x14512c['morph']['vertexBuff'+'erIds']),this['morphPosit'+'ionTex']['setValue'](_0x14512c['texturePos'+'itions']),this['morphNorma'+'lTex']['setValue'](_0x14512c['textureNor'+'mals']),this['morphTexPa'+'rams']['setValue'](_0x14512c['_texturePa'+'rams']));}['setSkinnin'+'g'](_0x18baa8,_0x2b2332){const _0x4325c2=_0x2b2332['skinInstan'+'ce'];if(_0x4325c2){this['_skinDrawC'+'alls']++;const _0x242781=_0x4325c2['boneTextur'+'e'];this['boneTextur'+'eId']['setValue'](_0x242781);}}['dispatchVi'+'ewPos'](_0x358afd){const _0x27fe22=this['viewPos'];_0x27fe22[0x1*-0xe36+0x1e*0x147+-0x181c]=_0x358afd['x'],_0x27fe22[0xf6b+0x1aa7+-0x2a11]=_0x358afd['y'],_0x27fe22[0x248b+-0x9*0x199+-0x1628]=_0x358afd['z'],this['viewPosId']['setValue'](_0x27fe22);}['initViewBi'+'ndGroupFor'+'mat'](_0x1efc01){if(this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']){const _0x292784=[new dt('matrix_vie'+'w',li),new dt('matrix_vie'+'wInverse',li),new dt('matrix_pro'+'jection',li),new dt('matrix_pro'+'jectionSky'+'box',li),new dt('matrix_vie'+'wProjectio'+'n',li),new dt('matrix_vie'+'w3',On),new dt('cubeMapRot'+'ationMatri'+'x',On),new dt('view_posit'+'ion',ds),new dt('skyboxInte'+'nsity',Xs),new dt('exposure',Xs),new dt('textureBia'+'s',Xs),new dt('view_index',Xs)];_0x1efc01&&_0x292784['push'](new dt('clusterCel'+'lsCountByB'+'oundsSize',ds),new dt('clusterTex'+'tureSize',ds),new dt('clusterBou'+'ndsMin',ds),new dt('clusterBou'+'ndsDelta',ds),new dt('clusterCel'+'lsDot',ds),new dt('clusterCel'+'lsMax',ds),new dt('shadowAtla'+'sParams',ga),new dt('clusterMax'+'Cells',_a),new dt('clusterSki'+'p',Xs)),this['viewUnifor'+'mFormat']=new zy(this['device'],_0x292784);const _0x2c66cf=[new kp(Np,Fp|by)];this['viewBindGr'+'oupFormat']=new Ny(this['device'],_0x2c66cf);}}['setupViewU'+'niforms'](_0x1ef3f8,_0x157952){this['projId']['setValue'](_0x1ef3f8['projMat']['data']),this['projSkybox'+'Id']['setValue'](_0x1ef3f8['projMat']['data']),this['viewId']['setValue'](_0x1ef3f8['viewOffMat']['data']),this['viewInvId']['setValue'](_0x1ef3f8['viewInvOff'+'Mat']['data']),this['viewId3']['setValue'](_0x1ef3f8['viewMat3']['data']),this['viewProjId']['setValue'](_0x1ef3f8['projViewOf'+'fMat']['data']),this['viewPosId']['setValue'](_0x1ef3f8['positionDa'+'ta']),this['viewIndexI'+'d']['setValue'](_0x157952);}['setupViewU'+'niformBuff'+'ers'](_0x6f9519,_0xe60153,_0x91bdf2,_0x117e2e){w['assert'](Array['isArray'](_0x6f9519),'viewBindGr'+'oups\x20must\x20'+'be\x20an\x20arra'+'y');const {device:_0x3c1ec1}=this,_0x306a60=(_0x117e2e==null?void(0x49*0x65+-0x183*0x17+-0x4*-0x17e):_0x117e2e['length'])??0x1036+-0x659+-0x9dc;for(;_0x6f9519['length']<_0x306a60;){const _0x195ec1=new zp(_0x3c1ec1,_0xe60153,!(-0x1*0xd06+-0x1e*0x6e+-0x19eb*-0x1)),_0x2a2caa=new Up(_0x3c1ec1,_0x91bdf2,_0x195ec1);Ea['setName'](_0x2a2caa,'ViewBindGr'+'oup_'+_0x2a2caa['id']),_0x6f9519['push'](_0x2a2caa);}if(_0x117e2e)for(let _0x2dbe71=-0xfa5+-0x234d+0x32f2;_0x2dbe71<_0x306a60;_0x2dbe71++){const _0x4f3283=_0x117e2e[_0x2dbe71];this['setupViewU'+'niforms'](_0x4f3283,_0x2dbe71);const _0x353f74=_0x6f9519[_0x2dbe71];_0x353f74['defaultUni'+'formBuffer']['update'](),_0x353f74['update']();}else{const _0x3a93b7=_0x6f9519[-0x10a8+0x2549+-0x1*0x14a1];_0x3a93b7['defaultUni'+'formBuffer']['update'](),_0x3a93b7['update']();}_0x117e2e||_0x3c1ec1['setBindGro'+'up'](rl,_0x6f9519[-0xd*0x1c7+0xa8e+0xc8d]);}['setupMeshU'+'niformBuff'+'ers'](_0x4dd99c){const _0x2dd0a5=this['device'];if(_0x2dd0a5['supportsUn'+'iformBuffe'+'rs']){const _0x2be90b=_0x4dd99c['getBindGro'+'up'](_0x2dd0a5);_0x2be90b['update'](),_0x2dd0a5['setBindGro'+'up'](Oy,_0x2be90b),_0x4dd99c['getUniform'+'Buffer'](_0x2dd0a5)['update'](hf),_0x2dd0a5['setBindGro'+'up'](su,hf['bindGroup'],hf['offsets']);}}['setMeshIns'+'tanceMatri'+'ces'](_0x3104e3,_0x1aa6ef=!(0x2*0x1d+-0x9cc+0x993)){const _0x484123=_0x3104e3['node']['worldTrans'+'form'];this['modelMatri'+'xId']['setValue'](_0x484123['data']),_0x1aa6ef&&this['normalMatr'+'ixId']['setValue'](_0x3104e3['node']['normalMatr'+'ix']['data']);}['cull'](_0x1969cc,_0x42c4fd,_0x51cee6){const _0x36ba0e=de(),_0x3c7ad6=_0x51cee6['opaque'];_0x3c7ad6['length']=0x1e82+-0xcb3+0x1*-0x11cf;const _0x5ec28c=_0x51cee6['transparen'+'t'];_0x5ec28c['length']=-0x51a*0x7+0x1267+-0x7*-0x279;const _0x4abff8=_0x1969cc['frustumCul'+'ling'],_0x57e628=_0x42c4fd['length'];for(let _0x58b670=-0x1f71+-0xf*-0x1b1+-0x15*-0x4a;_0x58b670<_0x57e628;_0x58b670++){const _0x367e74=_0x42c4fd[_0x58b670];_0x367e74['visible']&&(!_0x4abff8||!_0x367e74['cull']||_0x367e74['_isVisible'](_0x1969cc))&&(_0x367e74['visibleThi'+'sFrame']=!(0x1*-0x392+-0x1f07+0x2299),(_0x367e74['transparen'+'t']?_0x5ec28c:_0x3c7ad6)['push'](_0x367e74),(_0x367e74['skinInstan'+'ce']||_0x367e74['morphInsta'+'nce']||_0x367e74['gsplatInst'+'ance'])&&(this['processing'+'MeshInstan'+'ces']['add'](_0x367e74),_0x367e74['gsplatInst'+'ance']&&_0x367e74['gsplatInst'+'ance']['cameras']['push'](_0x1969cc)));}this['_cullTime']+=de()-_0x36ba0e,this['_numDrawCa'+'llsCulled']+=_0x4abff8?_0x57e628:0x1320+-0x16d3+0x3b3;}['collectLig'+'hts'](_0x1e4d90){this['lights']['length']=-0x3*-0x919+0x23c3+-0x1f87*0x2,this['localLight'+'s']['length']=-0x6*0x219+-0x917*0x3+0xd49*0x3;const _0x14d406=this['scene']['_stats'];_0x14d406['dynamicLig'+'hts']=-0x1*-0x2311+-0x2*-0xaf6+-0x38fd,_0x14d406['bakedLight'+'s']=0x1*-0x1ec5+-0x8cb+0x2790;const _0x5e8487=_0x1e4d90['layerList']['length'];for(let _0x478070=0xba0+0x1f97+-0x2b37;_0x478070<_0x5e8487;_0x478070++){const _0x5cb692=_0x1e4d90['layerList'][_0x478070];if(!cf['has'](_0x5cb692)){cf['add'](_0x5cb692);const _0x188169=_0x5cb692['_lights'];for(let _0x25677b=0x19ee+-0x126a+-0x784;_0x25677b<_0x188169['length'];_0x25677b++){const _0x130359=_0x188169[_0x25677b];lf['has'](_0x130359)||(lf['add'](_0x130359),this['lights']['push'](_0x130359),_0x130359['_type']!==ve&&this['localLight'+'s']['push'](_0x130359),(_0x130359['mask']&Ss||_0x130359['mask']&di)&&_0x14d406['dynamicLig'+'hts']++,_0x130359['mask']&fi&&_0x14d406['bakedLight'+'s']++);}}}_0x14d406['lights']=this['lights']['length'],lf['clear'](),cf['clear']();}['cullLights'](_0x7c647b,_0x316cec){const _0xf25c19=this['scene']['clusteredL'+'ightingEna'+'bled'],_0xd556d6=this['scene']['physicalUn'+'its'];for(let _0x36ba60=-0xd*-0x1df+0x2571+-0x3dc4;_0x36ba60<_0x316cec['length'];_0x36ba60++){const _0xb466bb=_0x316cec[_0x36ba60];if(_0xb466bb['enabled']){if(_0xb466bb['_type']!==ve){if(_0xb466bb['getBoundin'+'gSphere'](of),_0x7c647b['frustum']['containsSp'+'here'](of)){_0xb466bb['visibleThi'+'sFrame']=!(0x10b*0xd+0x1337*-0x2+0x18df*0x1),_0xb466bb['usePhysica'+'lUnits']=_0xd556d6;const _0x5683e5=_0x7c647b['getScreenS'+'ize'](of);_0xb466bb['maxScreenS'+'ize']=Math['max'](_0xb466bb['maxScreenS'+'ize'],_0x5683e5);}else _0xf25c19||_0xb466bb['castShadow'+'s']&&!_0xb466bb['shadowMap']&&(_0xb466bb['visibleThi'+'sFrame']=!(0x3ef+-0x7af*0x1+0x30*0x14));}else _0xb466bb['usePhysica'+'lUnits']=this['scene']['physicalUn'+'its'];}}}['cullShadow'+'maps'](_0x17de08){const _0x1f5564=this['scene']['clusteredL'+'ightingEna'+'bled'];for(let _0x554285=0x1*-0x1aae+0x1*0xd0a+0xda4;_0x554285<this['localLight'+'s']['length'];_0x554285++){const _0x28e1f1=this['localLight'+'s'][_0x554285];_0x28e1f1['_type']!==ve&&(_0x1f5564?_0x28e1f1['atlasSlotU'+'pdated']&&_0x28e1f1['shadowUpda'+'teMode']===Ps&&(_0x28e1f1['shadowUpda'+'teMode']=xr):_0x28e1f1['shadowUpda'+'teMode']===Ps&&_0x28e1f1['castShadow'+'s']&&(_0x28e1f1['getRenderD'+'ata'](null,-0x9bb+0x1d*-0x55+-0x2a*-0x76)['shadowCame'+'ra']['renderTarg'+'et']||(_0x28e1f1['shadowUpda'+'teMode']=xr)),_0x28e1f1['visibleThi'+'sFrame']&&_0x28e1f1['castShadow'+'s']&&_0x28e1f1['shadowUpda'+'teMode']!==Ps&&this['_shadowRen'+'dererLocal']['cull'](_0x28e1f1,_0x17de08));}this['cameraDirS'+'hadowLight'+'s']['clear']();const _0x5ee060=_0x17de08['cameras'];for(let _0x336d69=0x118+0x1*0x196a+-0x1a82;_0x336d69<_0x5ee060['length'];_0x336d69++){const _0x5d97d1=_0x5ee060[_0x336d69];if(_0x5d97d1['enabled']){const _0x169d93=_0x5d97d1['camera'];let _0x3dc677;const _0x5dc6a1=_0x169d93['layers'];for(let _0x5e9b97=-0x16*0x16e+0x437*0x5+0xa61;_0x5e9b97<_0x5dc6a1['length'];_0x5e9b97++){const _0x2d0ee8=_0x17de08['getLayerBy'+'Id'](_0x5dc6a1[_0x5e9b97]);if(_0x2d0ee8){const _0x2af830=_0x2d0ee8['splitLight'+'s'][ve];for(let _0x4a782e=-0x16*-0x77+0x1*-0xe9b+0x461;_0x4a782e<_0x2af830['length'];_0x4a782e++){const _0x2c526e=_0x2af830[_0x4a782e];_0x2c526e['castShadow'+'s']&&!Fa['has'](_0x2c526e)&&(Fa['add'](_0x2c526e),_0x3dc677=_0x3dc677??[],_0x3dc677['push'](_0x2c526e),this['_shadowRen'+'dererDirec'+'tional']['cull'](_0x2c526e,_0x17de08,_0x169d93));}}}_0x3dc677&&this['cameraDirS'+'hadowLight'+'s']['set'](_0x169d93,_0x3dc677),Fa['clear']();}}}['cullCompos'+'ition'](_0x27d2fb){const _0x33492f=de(),{scene:_0x590142}=this;this['processing'+'MeshInstan'+'ces']['clear']();const _0x14d5dc=_0x27d2fb['cameras']['length'];this['_camerasRe'+'ndered']+=_0x14d5dc;for(let _0x5475e6=0x4e2+0x3*0x326+0xe54*-0x1;_0x5475e6<_0x14d5dc;_0x5475e6++){const _0x319ebd=_0x27d2fb['cameras'][_0x5475e6];_0x590142==null||_0x590142['fire'](mv,_0x319ebd);const _0x1a1c2c=_0x319ebd['renderTarg'+'et'];_0x319ebd['frameUpdat'+'e'](_0x1a1c2c),this['updateCame'+'raFrustum'](_0x319ebd['camera']);const _0x43db6d=_0x319ebd['layers'];for(let _0x3e6d50=0x953+0xa3*-0x25+0xe3c;_0x3e6d50<_0x43db6d['length'];_0x3e6d50++){const _0x408b1e=_0x27d2fb['getLayerBy'+'Id'](_0x43db6d[_0x3e6d50]);if(_0x408b1e&&_0x408b1e['enabled']){this['cullLights'](_0x319ebd['camera'],_0x408b1e['_lights']);const _0x338fda=_0x408b1e['getCulledI'+'nstances'](_0x319ebd['camera']);this['cull'](_0x319ebd['camera'],_0x408b1e['meshInstan'+'ces'],_0x338fda);}}_0x590142==null||_0x590142['fire'](_v,_0x319ebd);}_0x590142['clusteredL'+'ightingEna'+'bled']&&this['updateLigh'+'tTextureAt'+'las'](),this['cullShadow'+'maps'](_0x27d2fb),_0x590142==null||_0x590142['fire'](lE),this['_cullTime']+=de()-_0x33492f;}['updateShad'+'ers'](_0x2f2eae,_0x13eef9){const _0x12f5ec=_0x2f2eae['length'];for(let _0x19d394=0x1bb0+-0xf*0x141+-0x8e1;_0x19d394<_0x12f5ec;_0x19d394++){const _0x4cfb76=_0x2f2eae[_0x19d394]['material'];if(_0x4cfb76&&!Fa['has'](_0x4cfb76)&&(Fa['add'](_0x4cfb76),_0x4cfb76['getShaderV'+'ariant']!==tr['prototype']['getShaderV'+'ariant'])){if(_0x13eef9&&(!_0x4cfb76['useLightin'+'g']||_0x4cfb76['emitter']&&!_0x4cfb76['emitter']['lighting']))continue;_0x4cfb76['clearVaria'+'nts']();}}Fa['clear']();}['updateFram'+'eUniforms'](){this['blueNoiseT'+'extureId']['setValue'](Pb(this['device']));}['beginFrame'](_0x5efcc7){const _0x43ef49=this['scene'],_0x1c8021=_0x43ef49['updateShad'+'ers']||this['device']['_shadersDi'+'rty'];let _0x36460a=0xdf3*0x1+-0x1d61+-0x1*-0xf6e;const _0x12074c=_0x5efcc7['layerList'],_0x5bade0=_0x12074c['length'];for(let _0x2eda97=-0x1*-0x26a+0x511*-0x7+0x210d;_0x2eda97<_0x5bade0;_0x2eda97++){const _0x34ada3=_0x12074c[_0x2eda97]['meshInstan'+'ces'],_0x24bc89=_0x34ada3['length'];_0x36460a+=_0x24bc89;for(let _0x16f418=0x161d+-0x11d9+-0x444;_0x16f418<_0x24bc89;_0x16f418++){const _0x328339=_0x34ada3[_0x16f418];_0x328339['visibleThi'+'sFrame']=!(-0x821+-0x11fb*-0x2+-0xd*0x224),_0x1c8021&&df['push'](_0x328339),_0x328339['skinInstan'+'ce']&&ff['push'](_0x328339);}}if(_0x43ef49['_stats']['meshInstan'+'ces']=_0x36460a,_0x1c8021){const _0x2d5baa=!_0x43ef49['updateShad'+'ers']||!this['device']['_shadersDi'+'rty'];this['updateShad'+'ers'](df,_0x2d5baa),_0x43ef49['updateShad'+'ers']=!(0x1645*-0x1+0xea2+-0xa3*-0xc),this['device']['_shadersDi'+'rty']=!(-0x55*0x19+-0xd*-0x102+-0x4cc),_0x43ef49['_shaderVer'+'sion']++;}this['updateFram'+'eUniforms'](),this['updateCpuS'+'kinMatrice'+'s'](ff),df['length']=-0x228e+0x29*-0x23+0x2829,ff['length']=0x1*-0x111d+0x9bd+-0x3b*-0x20;const _0x4316a4=this['lights'],_0x1e0cd6=_0x4316a4['length'];for(let _0x2f303e=0x175d+-0x11*-0x232+0x4ab*-0xd;_0x2f303e<_0x1e0cd6;_0x2f303e++)_0x4316a4[_0x2f303e]['beginFrame']();}['updateLigh'+'tTextureAt'+'las'](){this['lightTextu'+'reAtlas']['update'](this['localLight'+'s'],this['scene']['lighting']);}['updateLaye'+'rCompositi'+'on'](_0x148b58){const _0x4d4627=de(),_0x5c5100=_0x148b58['layerList']['length'],_0x54c7ca=this['scene']['_shaderVer'+'sion'];for(let _0xfab2f3=-0x1*-0x2193+0xbcc+-0x2d5f*0x1;_0xfab2f3<_0x5c5100;_0xfab2f3++){const _0x3598b7=_0x148b58['layerList'][_0xfab2f3];_0x3598b7['_shaderVer'+'sion']=_0x54c7ca,_0x3598b7['_skipRende'+'rCounter']=-0x11*0xbc+-0x727*0x3+-0x21f1*-0x1,_0x3598b7['_forwardDr'+'awCalls']=-0x180f+-0xd*-0x2cc+0xc4d*-0x1,_0x3598b7['_shadowDra'+'wCalls']=0x1*0x1c65+0xfcf+-0x2c34,_0x3598b7['_renderTim'+'e']=0x125+-0xe0a*-0x2+-0x1d39;}_0x148b58['_update'](),this['_layerComp'+'ositionUpd'+'ateTime']+=de()-_0x4d4627;}['frameUpdat'+'e'](){this['clustersDe'+'bugRendere'+'d']=!(0x250f+-0x749*0x1+0x1*-0x1dc5),this['initViewBi'+'ndGroupFor'+'mat'](this['scene']['clusteredL'+'ightingEna'+'bled']),this['dirLightSh'+'adows']['clear']();}}class Pv{constructor(){h(this,'camera',null),(this['layer']=null,this['transparen'+'t']=!(0xc*-0x15c+0x3c1*-0x8+0x2e59),this['renderTarg'+'et']=null,this['lightClust'+'ers']=null,this['clearColor']=!(0x2f7*0xc+0x17d3+-0x3b66),this['clearDepth']=!(0xe*0x14+-0x1c0b+0x1af4),this['clearStenc'+'il']=!(-0x2*0x78f+-0x1416*-0x1+-0x4f7),this['triggerPos'+'tprocess']=!(-0x5*-0x311+0x4*0x4ca+-0x1*0x227c),this['firstCamer'+'aUse']=!(0x4f2*-0x7+0x545*0x1+0x1d5a),this['lastCamera'+'Use']=!(-0x2450+-0xc11*-0x3+-0x3*-0xa),this['viewBindGr'+'oups']=[],this['useCameraP'+'asses']=!(0x1ce1+0x1a5e+-0x126a*0x3));}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x367404=>{_0x367404['defaultUni'+'formBuffer']['destroy'](),_0x367404['destroy']();}),this['viewBindGr'+'oups']['length']=0x25*0x2b+0x1d53+0x238a*-0x1;}['setupClear'+'s'](_0x41c751,_0x308288){this['clearColor']=(_0x41c751==null?void(-0xa85+0x15aa+-0x1*0xb25):_0x41c751['clearColor'+'Buffer'])||_0x308288['clearColor'+'Buffer'],this['clearDepth']=(_0x41c751==null?void(0x54*-0x8+0x1499*0x1+0x2b*-0x6b):_0x41c751['clearDepth'+'Buffer'])||_0x308288['clearDepth'+'Buffer'],this['clearStenc'+'il']=(_0x41c751==null?void(0x1d5c+-0x1488+-0x8d4):_0x41c751['clearStenc'+'ilBuffer'])||_0x308288['clearStenc'+'ilBuffer'];}}class Kb extends ys{constructor(_0x1fa0b4,_0x294091,_0x1c5ebd,_0x1c41fe){super(_0x1fa0b4),h(this,'layerCompo'+'sition'),h(this,'scene'),h(this,'renderer'),h(this,'renderActi'+'ons',[]),h(this,'gammaCorre'+'ction'),h(this,'toneMappin'+'g'),h(this,'noDepthCle'+'ar',!(-0xfe9*-0x2+0x2b0+-0x2281)),(this['layerCompo'+'sition']=_0x294091,this['scene']=_0x1c5ebd,this['renderer']=_0x1c41fe);}get['rendersAny'+'thing'](){return this['renderActi'+'ons']['length']>-0x108d+-0x53f+-0xf*-0x174;}['addRenderA'+'ction'](_0x48bee9){this['renderActi'+'ons']['push'](_0x48bee9);}['addLayer'](_0x48293a,_0x58a9f1,_0x593af5,_0x5e85cb=!(0x1ccf+0x26a+-0x1f39)){w['assert'](_0x48293a),w['assert'](this['renderTarg'+'et']!==void(-0x87+-0x1e6+-0x3*-0xcf),'Render\x20pas'+'s\x20needs\x20to'+'\x20be\x20initia'+'lized\x20befo'+'re\x20adding\x20'+'layers'),w['assert'](_0x48293a['camera']['layersSet']['has'](_0x58a9f1['id']),'Camera\x20'+_0x48293a['entity']['name']+('\x20does\x20not\x20'+'render\x20lay'+'er\x20')+_0x58a9f1['name']+'.');const _0x5acc0f=new Pv();if(_0x5acc0f['renderTarg'+'et']=this['renderTarg'+'et'],_0x5acc0f['camera']=_0x48293a,_0x5acc0f['layer']=_0x58a9f1,_0x5acc0f['transparen'+'t']=_0x593af5,_0x5e85cb){const _0x51a877=this['renderActi'+'ons']['length']===0xfe9*-0x2+-0x2348+0x431a;_0x5acc0f['setupClear'+'s'](_0x51a877?_0x48293a:void(-0x1c9a+-0x4fb*0x5+0x3581),_0x58a9f1);}this['addRenderA'+'ction'](_0x5acc0f);}['addLayers'](_0x5d6a1a,_0x38427e,_0x3d8e53,_0x3b5e40,_0x1f30c3,_0x2f7303=!(0x552+-0x4*0x3f+0x3*-0x172)){const {layerList:_0xe7be8a,subLayerList:_0x16fd69}=_0x5d6a1a;let _0x21acc9=_0x3b5e40,_0x299dae=_0x3d8e53;for(;_0x299dae<_0xe7be8a['length'];){const _0x4066dd=_0xe7be8a[_0x299dae],_0x27f54f=_0x16fd69[_0x299dae];if(_0x38427e['camera']['layersSet']['has'](_0x4066dd['id'])&&(this['addLayer'](_0x38427e,_0x4066dd,_0x27f54f,_0x21acc9),_0x21acc9=!(-0x6*-0x116+-0x2030+0x19ad)),_0x299dae++,_0x4066dd['id']===_0x1f30c3&&_0x27f54f===_0x2f7303)break;}return _0x299dae;}['updateDire'+'ctionalSha'+'dows'](){const {renderer:_0xc5b7ff,renderActions:_0x4261c9}=this;for(let _0x3f6c93=-0x86*0x16+-0x1a3+0xd27;_0x3f6c93<_0x4261c9['length'];_0x3f6c93++){const _0x1e72a6=_0x4261c9[_0x3f6c93]['camera']['camera'],_0x4ce104=this['renderer']['cameraDirS'+'hadowLight'+'s']['get'](_0x1e72a6);if(_0x4ce104)for(let _0x1688f5=0xba6+-0x1887+0x1d7*0x7;_0x1688f5<_0x4ce104['length'];_0x1688f5++){const _0x3a396d=_0x4ce104[_0x1688f5];if(_0xc5b7ff['dirLightSh'+'adows']['get'](_0x3a396d)!==_0x1e72a6){_0xc5b7ff['dirLightSh'+'adows']['set'](_0x3a396d,_0x1e72a6);const _0x3f4146=_0xc5b7ff['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x3a396d,_0x1e72a6);_0x3f4146&&this['beforePass'+'es']['push'](_0x3f4146);}}}}['updateClea'+'rs'](){const _0x47453f=this['renderActi'+'ons'][0x1*-0x120f+-0xe3*0x7+-0x611*-0x4];if(_0x47453f){const _0xb35fd1=_0x47453f['camera']['camera'],_0x1c8759=_0xb35fd1['fullSizeCl'+'earRect'];this['setClearCo'+'lor'](_0x1c8759&&_0x47453f['clearColor']?_0xb35fd1['clearColor']:void(-0x37*-0x1c+0x10d*-0x16+0x111a)),this['setClearDe'+'pth'](_0x1c8759&&_0x47453f['clearDepth']&&!this['noDepthCle'+'ar']?_0xb35fd1['clearDepth']:void(0x1100+0xff2+-0x20f2*0x1)),this['setClearSt'+'encil'](_0x1c8759&&_0x47453f['clearStenc'+'il']?_0xb35fd1['clearStenc'+'il']:void(0x10e4+-0x19e8+0x482*0x2));}}['frameUpdat'+'e'](){super['frameUpdat'+'e'](),this['updateDire'+'ctionalSha'+'dows'](),this['updateClea'+'rs']();}['before'](){const {renderActions:_0x1847c7}=this;for(let _0x5146ab=-0x1f2*-0xb+0x10*0x266+-0x88a*0x7;_0x5146ab<_0x1847c7['length'];_0x5146ab++){const _0x5278da=_0x1847c7[_0x5146ab];_0x5278da['firstCamer'+'aUse']&&this['scene']['fire'](rE,_0x5278da['camera']);}}['execute'](){const {layerComposition:_0x4f0d44,renderActions:_0xb8044e}=this;for(let _0x59a29f=0x137+-0x3*-0x6c7+0x2*-0xac6;_0x59a29f<_0xb8044e['length'];_0x59a29f++){const _0x2e4524=_0xb8044e[_0x59a29f],_0x183f5b=_0x2e4524['layer'];w['call'](()=>{_0x4f0d44['getLayerBy'+'Name'](_0x183f5b['name'])||w['warnOnce']('Layer\x20'+_0x183f5b['name']+('\x20is\x20not\x20fo'+'und\x20in\x20the'+'\x20scene\x20and'+'\x20will\x20not\x20'+'be\x20rendere'+'d.\x20Your\x20re'+'nder\x20pass\x20'+'setup\x20migh'+'t\x20need\x20to\x20'+'be\x20updated'+'.'));}),_0x4f0d44['isEnabled'](_0x183f5b,_0x2e4524['transparen'+'t'])&&this['renderRend'+'erAction'](_0x2e4524,_0x59a29f===0x1*-0x265+0x25*-0x63+-0x1*-0x10b4);}}['after'](){for(let _0xea735c=-0x6dd+0x1b*0xfc+-0x13b7;_0xea735c<this['renderActi'+'ons']['length'];_0xea735c++){const _0x38906b=this['renderActi'+'ons'][_0xea735c];_0x38906b['lastCamera'+'Use']&&this['scene']['fire'](aE,_0x38906b['camera']);}this['beforePass'+'es']['length']=-0x22*-0xee+-0x11f0+0x5*-0x2bc;}['renderRend'+'erAction'](_0x1242b8,_0x279c24){var _0x5942ff;const {renderer:_0x2517e6,scene:_0x26b99a}=this,_0x1cf378=_0x2517e6['device'],{layer:_0x19d00f,transparent:_0x49dc6c,camera:_0x4e2abe}=_0x1242b8;Q['pushGpuMar'+'ker'](this['device'],'Camera:\x20'+(_0x4e2abe?_0x4e2abe['entity']['name']:'Unnamed')+',\x20Layer:\x20'+_0x19d00f['name']+'('+(_0x49dc6c?'TRANSP':'OPAQUE')+')');const _0x45c4a2=de();if(_0x4e2abe){const _0x3a6657=_0x4e2abe['gammaCorre'+'ction'],_0x359d0d=_0x4e2abe['toneMappin'+'g'];this['gammaCorre'+'ction']!==void(0x45e*-0x1+0x24ce+-0x2070)&&(_0x4e2abe['gammaCorre'+'ction']=this['gammaCorre'+'ction']),this['toneMappin'+'g']!==void(-0x11fa+0x699+0xb61)&&(_0x4e2abe['toneMappin'+'g']=this['toneMappin'+'g']),_0x26b99a['fire'](nE,_0x4e2abe,_0x19d00f,_0x49dc6c);const _0x3c36ed={'lightClusters':_0x1242b8['lightClust'+'ers']},_0x57bc1d=((_0x5942ff=_0x4e2abe['camera']['shaderPass'+'Info'])==null?void(-0x214+0x7e8+0x2ea*-0x2):_0x5942ff['index'])??Aa;(!_0x279c24||!_0x4e2abe['camera']['fullSizeCl'+'earRect'])&&(_0x3c36ed['clearColor']=_0x1242b8['clearColor'],_0x3c36ed['clearDepth']=_0x1242b8['clearDepth'],_0x3c36ed['clearStenc'+'il']=_0x1242b8['clearStenc'+'il']);const _0xaa3aac=_0x1242b8['renderTarg'+'et']??_0x1cf378['backBuffer'];_0x2517e6['renderForw'+'ardLayer'](_0x4e2abe['camera'],_0xaa3aac,_0x19d00f,_0x49dc6c,_0x57bc1d,_0x1242b8['viewBindGr'+'oups'],_0x3c36ed),_0x1cf378['setBlendSt'+'ate'](pt['NOBLEND']),_0x1cf378['setStencil'+'State'](null,null),_0x1cf378['setAlphaTo'+'Coverage'](!(0x13e0+-0x10f9+0x1*-0x2e6)),_0x26b99a['fire'](oE,_0x4e2abe,_0x19d00f,_0x49dc6c),this['gammaCorre'+'ction']!==void(0x1*0x1a55+-0xc7+-0x1*0x198e)&&(_0x4e2abe['gammaCorre'+'ction']=_0x3a6657),this['toneMappin'+'g']!==void(-0x45+-0x1681+0x16c6)&&(_0x4e2abe['toneMappin'+'g']=_0x359d0d);}Q['popGpuMark'+'er'](this['device']),_0x19d00f['_renderTim'+'e']+=de()-_0x45c4a2;}['log'](_0x259e2d,_0x5a2671){if(super['log'](_0x259e2d,_0x5a2671),mi['get'](cn)){const {layerComposition:_0x533df7}=this;this['renderActi'+'ons']['forEach']((_0x2008a8,_0x5e0ea4)=>{const _0x458654=_0x2008a8['layer'],_0x47ea09=_0x458654['enabled']&&_0x533df7['isEnabled'](_0x458654,_0x2008a8['transparen'+'t']),_0x1aabd1=_0x2008a8['camera'];w['trace'](cn,'\x20\x20\x20\x20'+_0x5e0ea4+':'+('\x20Cam:\x20'+(_0x1aabd1?_0x1aabd1['entity']['name']:'-'))['padEnd'](0x2f*-0x10+-0x468+0x76e,'\x20')+('\x20Lay:\x20'+_0x458654['name'])['padEnd'](-0x177d*-0x1+0x39b+-0x1b02,'\x20')+(_0x2008a8['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x47ea09?'\x20ENABLED':'\x20DISABLED')+('\x20Meshes:\x20'+_0x458654['meshInstan'+'ces']['length'])['padEnd'](-0x1*-0x1b9b+-0x189+-0x1b*0xf7,'\x20'));});}}}class Zb extends ys{constructor(_0x5c97b1,_0x45d398,_0x10afe9){super(_0x5c97b1),this['renderer']=_0x45d398,this['renderActi'+'on']=_0x10afe9,this['requiresCu'+'bemaps']=!(-0x359*0x2+0x1ac6*-0x1+0xb*0x30b);}['execute'](){const _0x4533fc=this['renderActi'+'on'],_0x5cb926=_0x4533fc['camera'];w['assert'](_0x4533fc['triggerPos'+'tprocess']&&_0x5cb926['onPostproc'+'essing']),_0x5cb926['onPostproc'+'essing']();}}const Qb=[[],[],[]],or=new ie(),Nr={'drawCalls':[],'shaderInstances':[],'isNewMaterial':[],'lightMaskChanged':[],'clear':function(){this['drawCalls']['length']=0x4d9*-0x5+0x850+0xfed,this['shaderInst'+'ances']['length']=0x68b+0x1925+0x1fb0*-0x1,this['isNewMater'+'ial']['length']=0xa*-0x39d+-0x1860+0xc1a*0x5,this['lightMaskC'+'hanged']['length']=0x14e8+0x1*0x262+-0x1*0x174a;}};function Jb(_0x470200){const _0x27b582=[];for(let _0x54eaf0=0x2690*-0x1+-0x67*0x45+0x4253*0x1;_0x54eaf0<_0x470200;++_0x54eaf0){const _0x4b9fcc=Math['sqrt'](_0x54eaf0+(-0x13e1+-0x58f*-0x7+-0x1308+0.5))/Math['sqrt'](_0x470200);_0x27b582['push'](_0x4b9fcc);}return _0x27b582;}function eA(_0x3c4ef8){const _0xde93fa=[];for(let _0x589be1=0x1d50+0x1d0c+-0x3a5c;_0x589be1<_0x3c4ef8;_0x589be1++){const _0x5c0141=_0x589be1/_0x3c4ef8,_0x9ef98d=Math['sqrt'](_0x5c0141*_0x5c0141);_0xde93fa['push'](_0x9ef98d);}return _0xde93fa;}const Ni=class Ni extends Yb{constructor(_0x301a0e){super(_0x301a0e);const _0x3a8b86=this['device'];this['_forwardDr'+'awCalls']=-0x2*-0x81+0xf5b+0x1*-0x105d,this['_materialS'+'witches']=-0x488+-0x461*0x8+0x2790,this['_depthMapT'+'ime']=0x1e19+0x24a+-0x1*0x2063,this['_forwardTi'+'me']=-0xa8d*0x2+-0x1829+0x2d43,this['_sortTime']=0xd4*0x1a+0xdb*0x2b+-0x3a51;const _0x48a8e=_0x3a8b86['scope'];this['fogColorId']=_0x48a8e['resolve']('fog_color'),this['fogStartId']=_0x48a8e['resolve']('fog_start'),this['fogEndId']=_0x48a8e['resolve']('fog_end'),this['fogDensity'+'Id']=_0x48a8e['resolve']('fog_densit'+'y'),this['ambientId']=_0x48a8e['resolve']('light_glob'+'alAmbient'),this['skyboxInte'+'nsityId']=_0x48a8e['resolve']('skyboxInte'+'nsity'),this['cubeMapRot'+'ationMatri'+'xId']=_0x48a8e['resolve']('cubeMapRot'+'ationMatri'+'x'),this['pcssDiskSa'+'mplesId']=_0x48a8e['resolve']('pcssDiskSa'+'mples[0]'),this['pcssSphere'+'SamplesId']=_0x48a8e['resolve']('pcssSphere'+'Samples[0]'),this['lightColor'+'Id']=[],this['lightDir']=[],this['lightDirId']=[],this['lightShado'+'wMapId']=[],this['lightShado'+'wMatrixId']=[],this['lightShado'+'wParamsId']=[],this['lightShado'+'wIntensity']=[],this['lightRadiu'+'sId']=[],this['lightPos']=[],this['lightPosId']=[],this['lightWidth']=[],this['lightWidth'+'Id']=[],this['lightHeigh'+'t']=[],this['lightHeigh'+'tId']=[],this['lightInAng'+'leId']=[],this['lightOutAn'+'gleId']=[],this['lightCooki'+'eId']=[],this['lightCooki'+'eIntId']=[],this['lightCooki'+'eMatrixId']=[],this['lightCooki'+'eOffsetId']=[],this['lightShado'+'wSearchAre'+'aId']=[],this['lightCamer'+'aParamsId']=[],this['lightSoftS'+'hadowParam'+'sId']=[],this['shadowMatr'+'ixPaletteI'+'d']=[],this['shadowCasc'+'adeDistanc'+'esId']=[],this['shadowCasc'+'adeCountId']=[],this['shadowCasc'+'adeBlendId']=[],this['screenSize'+'Id']=_0x48a8e['resolve']('uScreenSiz'+'e'),this['_screenSiz'+'e']=new Float32Array(-0x306+-0x3*0xc0e+0x2734),this['fogColor']=new Float32Array(-0x269b+0x29*0x3b+0x39*0x83),this['ambientCol'+'or']=new Float32Array(-0x77f+-0x2088+-0x52*-0x7d),this['pcssDiskSa'+'mples']=Jb(0x59*0x4e+0x220d+-0x1*0x3d1b),this['pcssSphere'+'Samples']=eA(0x13ab+-0x8ce+-0x229*0x5);}['destroy'](){super['destroy']();}['dispatchGl'+'obalLights'](_0x1b4963){const _0x14f2f2=this['ambientCol'+'or'];if(or['linear'](_0x1b4963['ambientLig'+'ht']),_0x14f2f2[-0x125f+0x687+0x2f6*0x4]=or['r'],_0x14f2f2[-0x11d9+0x56f+0xc6b]=or['g'],_0x14f2f2[-0x1a4+0xf48+-0xda2]=or['b'],_0x1b4963['physicalUn'+'its']){for(let _0x240af5=-0x11fe+-0x1b1e+0x168e*0x2;_0x240af5<0x212f+-0x2527+-0x1*-0x3fb;_0x240af5++)_0x14f2f2[_0x240af5]*=_0x1b4963['ambientLum'+'inance'];}this['ambientId']['setValue'](_0x14f2f2),this['skyboxInte'+'nsityId']['setValue'](_0x1b4963['physicalUn'+'its']?_0x1b4963['skyboxLumi'+'nance']:_0x1b4963['skyboxInte'+'nsity']),this['cubeMapRot'+'ationMatri'+'xId']['setValue'](_0x1b4963['_skyboxRot'+'ationMat3']['data']);}['_resolveLi'+'ght'](_0x42d2c2,_0x39c32d){const _0x4db544='light'+_0x39c32d;this['lightColor'+'Id'][_0x39c32d]=_0x42d2c2['resolve'](_0x4db544+'_color'),this['lightDir'][_0x39c32d]=new Float32Array(-0x2207+0x6f1+0x1b19),this['lightDirId'][_0x39c32d]=_0x42d2c2['resolve'](_0x4db544+'_direction'),this['lightShado'+'wMapId'][_0x39c32d]=_0x42d2c2['resolve'](_0x4db544+'_shadowMap'),this['lightShado'+'wMatrixId'][_0x39c32d]=_0x42d2c2['resolve'](_0x4db544+('_shadowMat'+'rix')),this['lightShado'+'wParamsId'][_0x39c32d]=_0x42d2c2['resolve'](_0x4db544+('_shadowPar'+'ams')),this['lightShado'+'wIntensity'][_0x39c32d]=_0x42d2c2['resolve'](_0x4db544+('_shadowInt'+'ensity')),this['lightShado'+'wSearchAre'+'aId'][_0x39c32d]=_0x42d2c2['resolve'](_0x4db544+('_shadowSea'+'rchArea')),this['lightRadiu'+'sId'][_0x39c32d]=_0x42d2c2['resolve'](_0x4db544+'_radius'),this['lightPos'][_0x39c32d]=new Float32Array(0x1c2+0x1*0x16d7+-0x1896),this['lightPosId'][_0x39c32d]=_0x42d2c2['resolve'](_0x4db544+'_position'),this['lightWidth'][_0x39c32d]=new Float32Array(-0x982*-0x1+0x1b03*-0x1+0x8c2*0x2),this['lightWidth'+'Id'][_0x39c32d]=_0x42d2c2['resolve'](_0x4db544+'_halfWidth'),this['lightHeigh'+'t'][_0x39c32d]=new Float32Array(0x2*-0x464+0x4*0x7b5+-0x1609),this['lightHeigh'+'tId'][_0x39c32d]=_0x42d2c2['resolve'](_0x4db544+('_halfHeigh'+'t')),this['lightInAng'+'leId'][_0x39c32d]=_0x42d2c2['resolve'](_0x4db544+('_innerCone'+'Angle')),this['lightOutAn'+'gleId'][_0x39c32d]=_0x42d2c2['resolve'](_0x4db544+('_outerCone'+'Angle')),this['lightCooki'+'eId'][_0x39c32d]=_0x42d2c2['resolve'](_0x4db544+'_cookie'),this['lightCooki'+'eIntId'][_0x39c32d]=_0x42d2c2['resolve'](_0x4db544+('_cookieInt'+'ensity')),this['lightCooki'+'eMatrixId'][_0x39c32d]=_0x42d2c2['resolve'](_0x4db544+('_cookieMat'+'rix')),this['lightCooki'+'eOffsetId'][_0x39c32d]=_0x42d2c2['resolve'](_0x4db544+('_cookieOff'+'set')),this['lightCamer'+'aParamsId'][_0x39c32d]=_0x42d2c2['resolve'](_0x4db544+('_cameraPar'+'ams')),this['lightSoftS'+'hadowParam'+'sId'][_0x39c32d]=_0x42d2c2['resolve'](_0x4db544+('_softShado'+'wParams')),this['shadowMatr'+'ixPaletteI'+'d'][_0x39c32d]=_0x42d2c2['resolve'](_0x4db544+('_shadowMat'+'rixPalette'+'[0]')),this['shadowCasc'+'adeDistanc'+'esId'][_0x39c32d]=_0x42d2c2['resolve'](_0x4db544+('_shadowCas'+'cadeDistan'+'ces')),this['shadowCasc'+'adeCountId'][_0x39c32d]=_0x42d2c2['resolve'](_0x4db544+('_shadowCas'+'cadeCount')),this['shadowCasc'+'adeBlendId'][_0x39c32d]=_0x42d2c2['resolve'](_0x4db544+('_shadowCas'+'cadeBlend'));}['setLTCDire'+'ctionalLig'+'ht'](_0x32e30b,_0x3904eb,_0x134e37,_0x43d98f,_0x154eb6){this['lightPos'][_0x3904eb][0x20c8+0x1cc0+-0x3d88]=_0x43d98f['x']-_0x134e37['x']*_0x154eb6,this['lightPos'][_0x3904eb][-0xc3a+0x1322+0x3*-0x24d]=_0x43d98f['y']-_0x134e37['y']*_0x154eb6,this['lightPos'][_0x3904eb][0xef2*-0x1+0x8d8*0x2+-0x2bc]=_0x43d98f['z']-_0x134e37['z']*_0x154eb6,this['lightPosId'][_0x3904eb]['setValue'](this['lightPos'][_0x3904eb]);const _0x4ef56c=_0x32e30b['transformV'+'ector'](new D(-(0x1*0x1104+0x1e42+-0x17a3*0x2+0.5),0x255+0x152e+-0x1783,-0x1*0x2295+-0x1fec+0x4281));this['lightWidth'][_0x3904eb][-0xb*0x258+0x20*0x8e+0x808]=_0x4ef56c['x']*_0x154eb6,this['lightWidth'][_0x3904eb][-0x805*0x1+0x1172+-0x96c]=_0x4ef56c['y']*_0x154eb6,this['lightWidth'][_0x3904eb][-0xbce+0x1f5*0x10+-0x2*0x9c0]=_0x4ef56c['z']*_0x154eb6,this['lightWidth'+'Id'][_0x3904eb]['setValue'](this['lightWidth'][_0x3904eb]);const _0xa488fb=_0x32e30b['transformV'+'ector'](new D(0x149f+0x17a*0x19+-0x3989*0x1,-0x14c+-0x19c4+0x1b10*0x1,-0x1*0x38f+-0xacf+0xe5e*0x1+0.5));this['lightHeigh'+'t'][_0x3904eb][-0xba*0xa+-0x15b3+0x5*0x5cb]=_0xa488fb['x']*_0x154eb6,this['lightHeigh'+'t'][_0x3904eb][-0x11cb+-0x1b3c+0x2d08]=_0xa488fb['y']*_0x154eb6,this['lightHeigh'+'t'][_0x3904eb][0x1c87+0x190a+-0x358f]=_0xa488fb['z']*_0x154eb6,this['lightHeigh'+'tId'][_0x3904eb]['setValue'](this['lightHeigh'+'t'][_0x3904eb]);}['dispatchDi'+'rectLights'](_0x1af141,_0x20c9e,_0x225ca6){let _0x5d07d6=-0xd*0xd+-0x1c41*0x1+0x1cea;const _0x2ccf1c=this['device']['scope'];for(let _0xf268fb=-0x1b23+0x6f1*0x1+0x1432;_0xf268fb<_0x1af141['length'];_0xf268fb++){if(!(_0x1af141[_0xf268fb]['mask']&_0x20c9e))continue;const _0x4ed6ff=_0x1af141[_0xf268fb],_0x553b13=_0x4ed6ff['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x5d07d6]||this['_resolveLi'+'ght'](_0x2ccf1c,_0x5d07d6),this['lightColor'+'Id'][_0x5d07d6]['setValue'](_0x4ed6ff['_colorLine'+'ar']),_0x553b13['getY'](_0x4ed6ff['_direction'])['mulScalar'](-(0x19*-0x10a+-0xe*-0x2ae+0x1*-0xb89)),_0x4ed6ff['_direction']['normalize'](),this['lightDir'][_0x5d07d6][-0x335+-0x1513*-0x1+-0x8ef*0x2]=_0x4ed6ff['_direction']['x'],this['lightDir'][_0x5d07d6][-0x12c*-0x16+-0x156e+-0x459]=_0x4ed6ff['_direction']['y'],this['lightDir'][_0x5d07d6][-0x99b+0x13*-0x19d+0x6b6*0x6]=_0x4ed6ff['_direction']['z'],this['lightDirId'][_0x5d07d6]['setValue'](this['lightDir'][_0x5d07d6]),_0x4ed6ff['shape']!==Ys&&this['setLTCDire'+'ctionalLig'+'ht'](_0x553b13,_0x5d07d6,_0x4ed6ff['_direction'],_0x225ca6['_node']['getPositio'+'n'](),_0x225ca6['farClip']),_0x4ed6ff['castShadow'+'s']){const _0x4f3be7=_0x4ed6ff['getRenderD'+'ata'](_0x225ca6,0x5f*0x16+-0x1154+0x92a),_0x3efd57=_0x4ed6ff['_getUnifor'+'mBiasValue'+'s'](_0x4f3be7);this['lightShado'+'wMapId'][_0x5d07d6]['setValue'](_0x4f3be7['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x5d07d6]['setValue'](_0x4f3be7['shadowMatr'+'ix']['data']),this['shadowMatr'+'ixPaletteI'+'d'][_0x5d07d6]['setValue'](_0x4ed6ff['_shadowMat'+'rixPalette']),this['shadowCasc'+'adeDistanc'+'esId'][_0x5d07d6]['setValue'](_0x4ed6ff['_shadowCas'+'cadeDistan'+'ces']),this['shadowCasc'+'adeCountId'][_0x5d07d6]['setValue'](_0x4ed6ff['numCascade'+'s']),this['shadowCasc'+'adeBlendId'][_0x5d07d6]['setValue'](-0x1*-0x2573+-0x1*-0x29a+-0x1d2*0x16-_0x4ed6ff['cascadeBle'+'nd']),this['lightShado'+'wIntensity'][_0x5d07d6]['setValue'](_0x4ed6ff['shadowInte'+'nsity']),this['lightSoftS'+'hadowParam'+'sId'][_0x5d07d6]['setValue'](_0x4ed6ff['_softShado'+'wParams']),_0x4f3be7['shadowCame'+'ra']['renderTarg'+'et']&&this['lightShado'+'wSearchAre'+'aId'][_0x5d07d6]['setValue'](_0x4ed6ff['penumbraSi'+'ze']/_0x4f3be7['shadowCame'+'ra']['renderTarg'+'et']['width']*_0x4f3be7['projection'+'Compensati'+'on']);const _0x4900a0=_0x4ed6ff['_shadowCam'+'eraParams'];_0x4900a0['length']=0x2f0*0xb+0x191*0x9+-0x2e65,_0x4900a0[-0x6*-0x1cc+-0x1b8a+-0x14a*-0xd]=0x71d+-0x2307*0x1+0x1bea,_0x4900a0[0x14*-0x113+0x1e3*-0x14+-0x3b39*-0x1]=_0x4f3be7['shadowCame'+'ra']['_farClip'],_0x4900a0[0x1639*-0x1+0x3*0xb72+-0xc1b]=_0x4f3be7['shadowCame'+'ra']['_nearClip'],_0x4900a0[0xa29*-0x2+0x20de+-0xc89]=-0x1a35+0x17f8+0x23e,this['lightCamer'+'aParamsId'][_0x5d07d6]['setValue'](_0x4900a0);const _0x774194=_0x4ed6ff['_shadowRen'+'derParams'];_0x774194['length']=0x1d91+-0x63e+-0x174f,_0x774194[-0x2163+-0x993+0x2af6]=_0x4ed6ff['_shadowRes'+'olution'],_0x774194[-0x55*-0x46+-0x34*-0x80+-0x313d]=_0x3efd57['normalBias'],_0x774194[-0x1713+-0x2*-0xf45+-0x53*0x17]=_0x3efd57['bias'],_0x774194[0xbc3+0x2662+-0x3222]=-0x1cad*0x1+-0x163e+0x32eb,this['lightShado'+'wParamsId'][_0x5d07d6]['setValue'](_0x774194);}_0x5d07d6++;}return _0x5d07d6;}['setLTCPosi'+'tionalLigh'+'t'](_0x334cba,_0x3558b8){const _0x3be543=_0x334cba['transformV'+'ector'](new D(-(-0x6*0xa7+0x1*0x25b4+-0x32*0xad+0.5),0xb1d+0x1*0x23dd+-0x2efa,0x3f*-0x59+0x1*-0xb75+0x215c));this['lightWidth'][_0x3558b8][0x1a09+-0x22ea+0x8e1]=_0x3be543['x'],this['lightWidth'][_0x3558b8][-0xa26+-0x7bf+0x8f3*0x2]=_0x3be543['y'],this['lightWidth'][_0x3558b8][-0x363+0xa8a+-0x725]=_0x3be543['z'],this['lightWidth'+'Id'][_0x3558b8]['setValue'](this['lightWidth'][_0x3558b8]);const _0x588a72=_0x334cba['transformV'+'ector'](new D(-0x312+0x153*-0x12+-0x29*-0xa8,-0x6fd+-0xe00+0x14fd,0xf9e+-0x43*0x44+0x22e+0.5));this['lightHeigh'+'t'][_0x3558b8][-0x2710+-0x3*-0x4e1+0x186d]=_0x588a72['x'],this['lightHeigh'+'t'][_0x3558b8][0x2b*0x44+0x9dc*0x2+0x1*-0x1f23]=_0x588a72['y'],this['lightHeigh'+'t'][_0x3558b8][-0x542*-0x5+-0x1*0x1a8d+0x45]=_0x588a72['z'],this['lightHeigh'+'tId'][_0x3558b8]['setValue'](this['lightHeigh'+'t'][_0x3558b8]);}['dispatchOm'+'niLight'](_0x5c1e05,_0x4a606f,_0x25ce35){const _0x58908f=_0x4a606f['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x25ce35]||this['_resolveLi'+'ght'](_0x5c1e05,_0x25ce35),this['lightRadiu'+'sId'][_0x25ce35]['setValue'](_0x4a606f['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x25ce35]['setValue'](_0x4a606f['_colorLine'+'ar']),_0x58908f['getTransla'+'tion'](_0x4a606f['_position']),this['lightPos'][_0x25ce35][0x1dc9+-0x6d7+-0x16f2]=_0x4a606f['_position']['x'],this['lightPos'][_0x25ce35][0xb1d*0x1+-0x2*0x7d2+0x488]=_0x4a606f['_position']['y'],this['lightPos'][_0x25ce35][-0x260e+0x1dd6*0x1+0x83a]=_0x4a606f['_position']['z'],this['lightPosId'][_0x25ce35]['setValue'](this['lightPos'][_0x25ce35]),_0x4a606f['shape']!==Ys&&this['setLTCPosi'+'tionalLigh'+'t'](_0x58908f,_0x25ce35),_0x4a606f['castShadow'+'s']){const _0x378172=_0x4a606f['getRenderD'+'ata'](null,0x112d+-0xa73+0x6ba*-0x1);this['lightShado'+'wMapId'][_0x25ce35]['setValue'](_0x378172['shadowBuff'+'er']);const _0xcfa757=_0x4a606f['_getUnifor'+'mBiasValue'+'s'](_0x378172),_0x2c0eed=_0x4a606f['_shadowRen'+'derParams'];_0x2c0eed['length']=-0x2095+-0x1362+0x33fb,_0x2c0eed[-0x358*-0x2+-0x1384*0x1+-0x4*-0x335]=_0x4a606f['_shadowRes'+'olution'],_0x2c0eed[0x254b+-0x5*0x135+-0x1f41]=_0xcfa757['normalBias'],_0x2c0eed[-0x1*0x151f+0x51*-0x4a+0x3f*0xb5]=_0xcfa757['bias'],_0x2c0eed[0x13*-0xe4+0x1103+-0x14]=(-0x869*0x2+-0x21ba+-0x328d*-0x1)/_0x4a606f['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x25ce35]['setValue'](_0x2c0eed),this['lightShado'+'wIntensity'][_0x25ce35]['setValue'](_0x4a606f['shadowInte'+'nsity']);const _0x1c25fe=_0x4a606f['penumbraSi'+'ze']/_0x378172['shadowCame'+'ra']['renderTarg'+'et']['width'];this['lightShado'+'wSearchAre'+'aId'][_0x25ce35]['setValue'](_0x1c25fe);const _0x23afed=_0x4a606f['_shadowCam'+'eraParams'];_0x23afed['length']=0x20fb+0x240a*-0x1+-0x1*-0x313,_0x23afed[0x19d1+0x20b8+-0x3a89]=-0x1e*0xb7+-0x26d1+0x3c43,_0x23afed[0x1*0x11c5+0xa96+-0x17e*0x13]=_0x378172['shadowCame'+'ra']['_farClip'],_0x23afed[0x74f+-0x16e*0x3+-0x303]=_0x378172['shadowCame'+'ra']['_nearClip'],_0x23afed[0x18*0x15f+-0x18ab+-0x83a*0x1]=-0x23ef+-0x1*0xd69+0x3158,this['lightCamer'+'aParamsId'][_0x25ce35]['setValue'](_0x23afed);}_0x4a606f['_cookie']&&(this['lightCooki'+'eId'][_0x25ce35]['setValue'](_0x4a606f['_cookie']),this['lightShado'+'wMatrixId'][_0x25ce35]['setValue'](_0x58908f['data']),this['lightCooki'+'eIntId'][_0x25ce35]['setValue'](_0x4a606f['cookieInte'+'nsity']));}['dispatchSp'+'otLight'](_0x29dbed,_0x3a9c0c,_0x8525af){const _0xec74d7=_0x3a9c0c['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x8525af]||this['_resolveLi'+'ght'](_0x29dbed,_0x8525af),this['lightInAng'+'leId'][_0x8525af]['setValue'](_0x3a9c0c['_innerCone'+'AngleCos']),this['lightOutAn'+'gleId'][_0x8525af]['setValue'](_0x3a9c0c['_outerCone'+'AngleCos']),this['lightRadiu'+'sId'][_0x8525af]['setValue'](_0x3a9c0c['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x8525af]['setValue'](_0x3a9c0c['_colorLine'+'ar']),_0xec74d7['getTransla'+'tion'](_0x3a9c0c['_position']),this['lightPos'][_0x8525af][-0x1444*-0x1+0x2*-0x11ac+-0x14*-0xc1]=_0x3a9c0c['_position']['x'],this['lightPos'][_0x8525af][-0x1*0x1e5d+-0x1*0xcbb+0x2b19]=_0x3a9c0c['_position']['y'],this['lightPos'][_0x8525af][0x4ca+0x452+-0x91a*0x1]=_0x3a9c0c['_position']['z'],this['lightPosId'][_0x8525af]['setValue'](this['lightPos'][_0x8525af]),_0x3a9c0c['shape']!==Ys&&this['setLTCPosi'+'tionalLigh'+'t'](_0xec74d7,_0x8525af),_0xec74d7['getY'](_0x3a9c0c['_direction'])['mulScalar'](-(0x1441*-0x1+0x51d+0xf25)),_0x3a9c0c['_direction']['normalize'](),this['lightDir'][_0x8525af][-0x1*-0x472+0x68a+0x26*-0x4a]=_0x3a9c0c['_direction']['x'],this['lightDir'][_0x8525af][0x1d43+0x1eb8*0x1+-0x3bfa]=_0x3a9c0c['_direction']['y'],this['lightDir'][_0x8525af][-0xcb4*0x2+-0x20c6+0x3a30]=_0x3a9c0c['_direction']['z'],this['lightDirId'][_0x8525af]['setValue'](this['lightDir'][_0x8525af]),_0x3a9c0c['castShadow'+'s']){const _0x14b005=_0x3a9c0c['getRenderD'+'ata'](null,0x21a0+0x81e+0x27*-0x112);this['lightShado'+'wMapId'][_0x8525af]['setValue'](_0x14b005['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x8525af]['setValue'](_0x14b005['shadowMatr'+'ix']['data']);const _0x437278=_0x3a9c0c['_getUnifor'+'mBiasValue'+'s'](_0x14b005),_0x6c7fa6=_0x3a9c0c['_shadowRen'+'derParams'];_0x6c7fa6['length']=-0x1*-0x4f+-0x50*-0x2a+-0x5*0x2af,_0x6c7fa6[0x52f*0x5+0x101*-0x2+0x1*-0x17e9]=_0x3a9c0c['_shadowRes'+'olution'],_0x6c7fa6[0x11ac+-0x5*-0xca+-0x159d]=_0x437278['normalBias'],_0x6c7fa6[0x160a+-0xfbe*-0x2+0x55a*-0xa]=_0x437278['bias'],_0x6c7fa6[-0x32d*-0x7+0x16c6*-0x1+0x2*0x47]=(0x6d4+0x1115*0x2+-0x28fd)/_0x3a9c0c['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x8525af]['setValue'](_0x6c7fa6),this['lightShado'+'wIntensity'][_0x8525af]['setValue'](_0x3a9c0c['shadowInte'+'nsity']);const _0x368ef1=_0x3a9c0c['penumbraSi'+'ze']/_0x14b005['shadowCame'+'ra']['renderTarg'+'et']['width'],_0x1434a0=_0x14b005['shadowCame'+'ra']['_fov']*Math['PI']/(0x25c9+-0x2d3*-0x9+0x4*-0xfa0),_0x163fc6=(-0x8*-0x44d+-0x14*-0x8+0x1*-0x2307)/Math['tan'](_0x1434a0/(-0x62*0x30+0xb02*-0x1+-0x72*-0x42));this['lightShado'+'wSearchAre'+'aId'][_0x8525af]['setValue'](_0x368ef1*_0x163fc6);const _0xf80213=_0x3a9c0c['_shadowCam'+'eraParams'];_0xf80213['length']=-0x138+0x2550*0x1+-0x2414,_0xf80213[0x7a*0x3b+0x1c5*0x15+-0x4147]=-0x1f84+0xd4a+0x123a,_0xf80213[-0x277+0x15b9*0x1+-0x1341]=_0x14b005['shadowCame'+'ra']['_farClip'],_0xf80213[-0x5*-0x2ab+-0x2358+0x1603]=_0x14b005['shadowCame'+'ra']['_nearClip'],_0xf80213[0x1*-0x7c7+0x1897+-0x10cd]=-0x2*-0x11e5+0x2*-0x920+-0x118a,this['lightCamer'+'aParamsId'][_0x8525af]['setValue'](_0xf80213);}if(_0x3a9c0c['_cookie']){if(!_0x3a9c0c['castShadow'+'s']){const _0x1e1c23=Wn['evalSpotCo'+'okieMatrix'](_0x3a9c0c);this['lightShado'+'wMatrixId'][_0x8525af]['setValue'](_0x1e1c23['data']);}this['lightCooki'+'eId'][_0x8525af]['setValue'](_0x3a9c0c['_cookie']),this['lightCooki'+'eIntId'][_0x8525af]['setValue'](_0x3a9c0c['cookieInte'+'nsity']),_0x3a9c0c['_cookieTra'+'nsform']&&(_0x3a9c0c['_cookieTra'+'nsformUnif'+'orm'][0x1974+-0x20a2+0x2*0x397]=_0x3a9c0c['_cookieTra'+'nsform']['x'],_0x3a9c0c['_cookieTra'+'nsformUnif'+'orm'][0x10eb+-0x3d2+-0x8*0x1a3]=_0x3a9c0c['_cookieTra'+'nsform']['y'],_0x3a9c0c['_cookieTra'+'nsformUnif'+'orm'][0x1a90+0xb69*0x2+-0x3160]=_0x3a9c0c['_cookieTra'+'nsform']['z'],_0x3a9c0c['_cookieTra'+'nsformUnif'+'orm'][0x23c7+-0x1ca5+0x1*-0x71f]=_0x3a9c0c['_cookieTra'+'nsform']['w'],this['lightCooki'+'eMatrixId'][_0x8525af]['setValue'](_0x3a9c0c['_cookieTra'+'nsformUnif'+'orm']),_0x3a9c0c['_cookieOff'+'setUniform'][0x1*0x502+-0x2e4+-0x21e]=_0x3a9c0c['_cookieOff'+'set']['x'],_0x3a9c0c['_cookieOff'+'setUniform'][0x1547+0x1db1*0x1+-0x1*0x32f7]=_0x3a9c0c['_cookieOff'+'set']['y'],this['lightCooki'+'eOffsetId'][_0x8525af]['setValue'](_0x3a9c0c['_cookieOff'+'setUniform']));}}['dispatchLo'+'calLights'](_0x39fbf2,_0x48c31a,_0x1a68b3){let _0x52a27e=_0x1a68b3;const _0x59d364=this['device']['scope'],_0x5647db=_0x39fbf2[Ke],_0x43d30f=_0x5647db['length'];for(let _0x47e302=0x1e7+-0xc13+0xa2c;_0x47e302<_0x43d30f;_0x47e302++){const _0x340e24=_0x5647db[_0x47e302];_0x340e24['mask']&_0x48c31a&&(this['dispatchOm'+'niLight'](_0x59d364,_0x340e24,_0x52a27e),_0x52a27e++);}const _0x37ff6f=_0x39fbf2[Ze],_0x5972c1=_0x37ff6f['length'];for(let _0x4da43c=0x311*0x5+0x4e2*-0x3+-0x19*0x7;_0x4da43c<_0x5972c1;_0x4da43c++){const _0x1bd7f3=_0x37ff6f[_0x4da43c];_0x1bd7f3['mask']&_0x48c31a&&(this['dispatchSp'+'otLight'](_0x59d364,_0x1bd7f3,_0x52a27e),_0x52a27e++);}}['renderForw'+'ardPrepare'+'Materials'](_0x307d5d,_0x73df49,_0x79e6f2,_0x5ea165,_0x3aa1d8,_0xf6665){const _0x56bd16=_0x307d5d['fogParams']??this['scene']['fog'],_0x5be04e=_0x307d5d['shaderPara'+'ms'];_0x5be04e['fog']=_0x56bd16['type'],_0x5be04e['srgbRender'+'Target']=(_0x73df49==null?void(0x3b*-0x26+0x18aa+-0xfe8*0x1):_0x73df49['isColorBuf'+'ferSrgb'](0x822+-0x37*-0x29+-0x10f1*0x1))??!(0x2243+-0x227c*0x1+0x3a);const _0x22f07c=(_0x305a1b,_0x15406f,_0x2ed565,_0x4f3e5)=>{Nr['drawCalls']['push'](_0x305a1b),Nr['shaderInst'+'ances']['push'](_0x15406f),Nr['isNewMater'+'ial']['push'](_0x2ed565),Nr['lightMaskC'+'hanged']['push'](_0x4f3e5);};Nr['clear']();const _0x35ddd8=this['device'],_0x529e68=this['scene'],_0x5a47c1=_0x529e68['clusteredL'+'ightingEna'+'bled'],_0xe60763=(_0x3aa1d8==null?void(0x2673+0xf3*-0x1a+-0x3*0x497):_0x3aa1d8['getLightHa'+'sh'](_0x5a47c1))??-0x259b+-0xaed+-0x1*-0x3088;let _0x4f7dee=null,_0x55dfab,_0x16cb1b;const _0x10dfff=_0x79e6f2['length'];for(let _0x27a4ba=0x1d9a*-0x1+-0xbee*0x3+0x5*0xd14;_0x27a4ba<_0x10dfff;_0x27a4ba++){const _0x9830f7=_0x79e6f2[_0x27a4ba];if(_0x307d5d===Ni['skipRender'+'Camera']){if(Ni['_skipRende'+'rCounter']>=Ni['skipRender'+'After'])continue;Ni['_skipRende'+'rCounter']++;}if(_0x3aa1d8){if(_0x3aa1d8['_skipRende'+'rCounter']>=_0x3aa1d8['skipRender'+'After'])continue;_0x3aa1d8['_skipRende'+'rCounter']++;}const _0x189799=_0x9830f7['instancing'+'Data'];if(_0x189799&&_0x189799['count']<=-0x354+0x133*0x1+0x221)continue;_0x9830f7['ensureMate'+'rial'](_0x35ddd8);const _0x5d433b=_0x9830f7['material'],_0x57bfe1=_0x9830f7['_shaderDef'+'s'],_0x44cb29=_0x9830f7['mask'];_0x5d433b&&_0x5d433b===_0x4f7dee&&_0x57bfe1!==_0x55dfab&&(_0x4f7dee=null),_0x5d433b!==_0x4f7dee&&(this['_materialS'+'witches']++,_0x5d433b['_scene']=_0x529e68,_0x5d433b['dirty']&&(Q['pushGpuMar'+'ker'](_0x35ddd8,'Node:\x20'+_0x9830f7['node']['name']+(',\x20Material'+':\x20')+_0x5d433b['name']),_0x5d433b['updateUnif'+'orms'](_0x35ddd8,_0x529e68),_0x5d433b['dirty']=!(-0x7*0x2e1+-0x1*-0x1865+0x5*-0xd9),Q['popGpuMark'+'er'](_0x35ddd8)));const _0x2db959=_0x9830f7['getShaderI'+'nstance'](_0xf6665,_0xe60763,_0x529e68,_0x5be04e,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x5ea165);_0x22f07c(_0x9830f7,_0x2db959,_0x5d433b!==_0x4f7dee,!_0x4f7dee||_0x44cb29!==_0x16cb1b),_0x4f7dee=_0x5d433b,_0x55dfab=_0x57bfe1,_0x16cb1b=_0x44cb29;}return Nr;}['renderForw'+'ardInterna'+'l'](_0xdf8cbe,_0x3c45d2,_0x3f507e,_0x4f8c31,_0x4693c0,_0x276027,_0x433d44){var _0x18db08,_0x5d6f9c;const _0x4817ff=this['device'],_0x5e86e6=this['scene'],_0x4e1ee2=0xd2d+-0x2345*0x1+0x1619<<_0x4f8c31,_0x104430=_0x276027?-(0x18d9*0x1+0x305*-0x3+-0x1c1*0x9):0xff6+-0x54a+-0xaab,_0x4a0489=_0x5e86e6['clusteredL'+'ightingEna'+'bled'],_0x9da9cd=(_0x18db08=_0xdf8cbe['xr'])!=null&&_0x18db08['session']&&_0xdf8cbe['xr']['views']['list']['length']?_0xdf8cbe['xr']['views']['list']:null,_0x2a2926=_0x3c45d2['drawCalls']['length'];for(let _0x147b5b=-0xe*0x24c+0x8+0x2020;_0x147b5b<_0x2a2926;_0x147b5b++){const _0x1ccf56=_0x3c45d2['drawCalls'][_0x147b5b],_0x5bc2c4=_0x3c45d2['isNewMater'+'ial'][_0x147b5b],_0x3af91a=_0x3c45d2['lightMaskC'+'hanged'][_0x147b5b],_0x47b23e=_0x3c45d2['shaderInst'+'ances'][_0x147b5b],_0x334a12=_0x1ccf56['material'],_0x3601c1=_0x1ccf56['mask'];if(_0x47b23e['shader']['failed'])continue;if(_0x5bc2c4){if(_0x4817ff['setShader'](_0x47b23e['shader'],!(0x40f*-0x8+0x139+-0x2*-0xfa0)),_0x334a12['setParamet'+'ers'](_0x4817ff),_0x3af91a){const _0xd8d6df=this['dispatchDi'+'rectLights'](_0x3f507e[ve],_0x3601c1,_0xdf8cbe);_0x4a0489||this['dispatchLo'+'calLights'](_0x3f507e,_0x3601c1,_0xd8d6df);}this['alphaTestI'+'d']['setValue'](_0x334a12['alphaTest']),_0x4817ff['setBlendSt'+'ate'](_0x334a12['blendState']),_0x4817ff['setDepthSt'+'ate'](_0x334a12['depthState']),_0x4817ff['setAlphaTo'+'Coverage'](_0x334a12['alphaToCov'+'erage']);}Q['pushGpuMar'+'ker'](_0x4817ff,'Node:\x20'+_0x1ccf56['node']['name']+(',\x20Material'+':\x20')+_0x334a12['name']),this['setupCullM'+'ode'](_0xdf8cbe['_cullFaces'],_0x104430,_0x1ccf56);const _0x9a6e11=_0x1ccf56['stencilFro'+'nt']??_0x334a12['stencilFro'+'nt'],_0x5e26b0=_0x1ccf56['stencilBac'+'k']??_0x334a12['stencilBac'+'k'];_0x4817ff['setStencil'+'State'](_0x9a6e11,_0x5e26b0),_0x1ccf56['setParamet'+'ers'](_0x4817ff,_0x4e1ee2),_0x4817ff['scope']['resolve']('meshInstan'+'ceId')['setValue'](_0x1ccf56['id']);const _0x290837=_0x1ccf56['mesh'];this['setVertexB'+'uffers'](_0x4817ff,_0x290837),this['setMorphin'+'g'](_0x4817ff,_0x1ccf56['morphInsta'+'nce']),this['setSkinnin'+'g'](_0x4817ff,_0x1ccf56);const _0xb00d79=_0x1ccf56['instancing'+'Data'];_0xb00d79&&_0x4817ff['setVertexB'+'uffer'](_0xb00d79['vertexBuff'+'er']),this['setMeshIns'+'tanceMatri'+'ces'](_0x1ccf56,!(0x5fb+0x2e3*-0x8+0xd*0x151)),this['setupMeshU'+'niformBuff'+'ers'](_0x47b23e);const _0x3031fc=_0x1ccf56['renderStyl'+'e'],_0x5c911a=_0x290837['indexBuffe'+'r'][_0x3031fc];_0x4693c0==null||_0x4693c0(_0x1ccf56,_0x147b5b);const _0x5815c1=(_0x5d6f9c=_0x1ccf56['indirectDa'+'ta'])==null?void(-0x1e8f+-0x17af+0x363e):_0x5d6f9c['get'](_0xdf8cbe);if(_0x9da9cd)for(let _0x2fd43a=-0x4e3*0x2+0x1*0x8aa+0x11c*0x1;_0x2fd43a<_0x9da9cd['length'];_0x2fd43a++){const _0x4fed95=_0x9da9cd[_0x2fd43a];if(_0x4817ff['setViewpor'+'t'](_0x4fed95['viewport']['x'],_0x4fed95['viewport']['y'],_0x4fed95['viewport']['z'],_0x4fed95['viewport']['w']),_0x4817ff['supportsUn'+'iformBuffe'+'rs']){const _0x309e93=_0x433d44[_0x2fd43a];_0x4817ff['setBindGro'+'up'](rl,_0x309e93);}else this['setupViewU'+'niforms'](_0x4fed95,_0x2fd43a);const _0x5dca4d=_0x2fd43a===0x160c*-0x1+0x1e2d+0x821*-0x1,_0x1ff0d5=_0x2fd43a===_0x9da9cd['length']-(0x1b14*0x1+-0x1ee4+0x3d1);_0x4817ff['draw'](_0x290837['primitive'][_0x3031fc],_0x5c911a,_0xb00d79==null?void(0x121*-0x22+0x135+-0x133*-0x1f):_0xb00d79['count'],_0x5815c1,_0x5dca4d,_0x1ff0d5),this['_forwardDr'+'awCalls']++,_0x1ccf56['instancing'+'Data']&&this['_instanced'+'DrawCalls']++;}else _0x4817ff['draw'](_0x290837['primitive'][_0x3031fc],_0x5c911a,_0xb00d79==null?void(-0x1a*0x25+-0x7*-0x257+-0x435*0x3):_0xb00d79['count'],_0x5815c1),this['_forwardDr'+'awCalls']++,_0x1ccf56['instancing'+'Data']&&this['_instanced'+'DrawCalls']++;_0x147b5b<_0x2a2926-(0xd*0x38+-0x2da*-0x4+0x1*-0xe3f)&&!_0x3c45d2['isNewMater'+'ial'][_0x147b5b+(0x19bb+0x5b*-0x5f+0x80b)]&&_0x334a12['setParamet'+'ers'](_0x4817ff,_0x1ccf56['parameters']),Q['popGpuMark'+'er'](_0x4817ff);}}['renderForw'+'ard'](_0x3f3ad6,_0x4eb044,_0x29c46d,_0xc6f403,_0x5d4414,_0x3d0b02,_0x2bcade,_0x259fa3,_0x173316){const _0x39530e=de(),_0x514206=this['renderForw'+'ardPrepare'+'Materials'](_0x3f3ad6,_0x4eb044,_0x29c46d,_0xc6f403,_0x2bcade,_0x5d4414);this['renderForw'+'ardInterna'+'l'](_0x3f3ad6,_0x514206,_0xc6f403,_0x5d4414,_0x3d0b02,_0x259fa3,_0x173316),Nr['clear'](),this['_forwardTi'+'me']+=de()-_0x39530e;}['renderForw'+'ardLayer'](_0x3f8336,_0x14ce8b,_0x28a5a3,_0x578a29,_0x170e03,_0x13ed04,_0xa9b755={}){const {scene:_0x166d50,device:_0x4fac8b}=this,_0x2859dc=_0x166d50['clusteredL'+'ightingEna'+'bled'];this['setupViewp'+'ort'](_0x3f8336,_0x14ce8b);let _0x1846e9,_0x3affee;if(_0x28a5a3){const _0x27a514=de();_0x28a5a3['sortVisibl'+'e'](_0x3f8336,_0x578a29),this['_sortTime']+=de()-_0x27a514;const _0x33ae6c=_0x28a5a3['getCulledI'+'nstances'](_0x3f8336);_0x1846e9=_0x578a29?_0x33ae6c['transparen'+'t']:_0x33ae6c['opaque'],_0x166d50['immediate']['onPreRende'+'rLayer'](_0x28a5a3,_0x1846e9,_0x578a29),_0x28a5a3['requiresLi'+'ghtCube']&&(this['lightCube']['update'](_0x166d50['ambientLig'+'ht'],_0x28a5a3['_lights']),this['constantLi'+'ghtCube']['setValue'](this['lightCube']['colors'])),_0x3affee=_0x28a5a3['splitLight'+'s'];}else _0x1846e9=_0xa9b755['meshInstan'+'ces'],_0x3affee=_0xa9b755['splitLight'+'s']??Qb;if(w['assert'](_0x1846e9,'Either\x20lay'+'er\x20or\x20opti'+'ons.meshIn'+'stances\x20mu'+'st\x20be\x20prov'+'ided'),_0x2859dc){const _0x1b917a=_0xa9b755['lightClust'+'ers']??this['worldClust'+'ersAllocat'+'or']['empty'];_0x1b917a['activate'](),_0x28a5a3&&!this['clustersDe'+'bugRendere'+'d']&&_0x166d50['lighting']['debugLayer']===_0x28a5a3['id']&&(this['clustersDe'+'bugRendere'+'d']=!(-0x38a*-0x1+-0xa*0x65+-0x1a*-0x4),hu['render'](_0x1b917a,this['scene']));}_0x166d50['_activeCam'+'era']=_0x3f8336;const _0x599923=_0x3f8336['fogParams']??this['scene']['fog'];this['setFogCons'+'tants'](_0x599923);const _0x55d008=this['setCameraU'+'niforms'](_0x3f8336,_0x14ce8b);_0x4fac8b['supportsUn'+'iformBuffe'+'rs']&&this['setupViewU'+'niformBuff'+'ers'](_0x13ed04,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x55d008);const _0x38a824=_0xa9b755['clearColor']??!(0x1*-0x1d27+0x39e+0x3a6*0x7),_0x5e782d=_0xa9b755['clearDepth']??!(0x2*-0x86e+0xe51+0x28c),_0x369958=_0xa9b755['clearStenc'+'il']??!(0x3ff+-0x1269+0xe6b);(_0x38a824||_0x5e782d||_0x369958)&&this['clear'](_0x3f8336,_0x38a824,_0x5e782d,_0x369958);const _0x181b10=!!(_0x3f8336['_flipFaces']^(_0x14ce8b==null?void(0x1f17+0x1145+0x2*-0x182e):_0x14ce8b['flipY'])),_0x5d9821=this['_forwardDr'+'awCalls'];this['renderForw'+'ard'](_0x3f8336,_0x14ce8b,_0x1846e9,_0x3affee,_0x170e03,null,_0x28a5a3,_0x181b10,_0x13ed04),_0x28a5a3&&(_0x28a5a3['_forwardDr'+'awCalls']+=this['_forwardDr'+'awCalls']-_0x5d9821);}['setFogCons'+'tants'](_0x23213a){if(_0x23213a['type']!==Kn){or['linear'](_0x23213a['color']);const _0x3ecc19=this['fogColor'];_0x3ecc19[0x25b7+0x677*0x3+0x14*-0x2db]=or['r'],_0x3ecc19[-0x23d7+-0x73b+0x2b13*0x1]=or['g'],_0x3ecc19[0x5e1+-0x1074+-0x2b*-0x3f]=or['b'],this['fogColorId']['setValue'](_0x3ecc19),_0x23213a['type']===Iw?(this['fogStartId']['setValue'](_0x23213a['start']),this['fogEndId']['setValue'](_0x23213a['end'])):this['fogDensity'+'Id']['setValue'](_0x23213a['density']);}}['setSceneCo'+'nstants'](){const _0x31209d=this['scene'];this['dispatchGl'+'obalLights'](_0x31209d);const _0x3f1377=this['device'];this['_screenSiz'+'e'][0xb*0x2f0+-0x6*0x5f3+0x362]=_0x3f1377['width'],this['_screenSiz'+'e'][0x1993*-0x1+-0x3*-0x6ae+0x1*0x58a]=_0x3f1377['height'],this['_screenSiz'+'e'][-0xa2d+-0x420+-0x1*-0xe4f]=(0x2*0x120e+0x1*0x86f+-0x2c8a)/_0x3f1377['width'],this['_screenSiz'+'e'][0x1d40+0x204d+-0x3d8a]=(-0x1c7+0x1*0x67a+-0x259*0x2)/_0x3f1377['height'],this['screenSize'+'Id']['setValue'](this['_screenSiz'+'e']),this['pcssDiskSa'+'mplesId']['setValue'](this['pcssDiskSa'+'mples']),this['pcssSphere'+'SamplesId']['setValue'](this['pcssSphere'+'Samples']);}['buildFrame'+'Graph'](_0x344575,_0x1473dc){const _0x5bc70a=this['scene'];if(_0x344575['reset'](),_0x5bc70a['clusteredL'+'ightingEna'+'bled']){const {shadowsEnabled:_0x54cc3b,cookiesEnabled:_0x325db6}=_0x5bc70a['lighting'];this['_renderPas'+'sUpdateClu'+'stered']['update'](_0x344575,_0x54cc3b,_0x325db6,this['lights'],this['localLight'+'s']),_0x344575['addRenderP'+'ass'](this['_renderPas'+'sUpdateClu'+'stered']);}else this['_shadowRen'+'dererLocal']['buildNonCl'+'usteredRen'+'derPasses'](_0x344575,this['localLight'+'s']);let _0x4cbe44=-0x1*0x1cc8+-0x1882+0x1aa5*0x2,_0x1add21=!(0x26ec+0x248b+-0x4b77),_0x4d6b1d=null;const _0x108e3e=_0x1473dc['_renderAct'+'ions'];for(let _0x20eb14=_0x4cbe44;_0x20eb14<_0x108e3e['length'];_0x20eb14++){const _0x3adc21=_0x108e3e[_0x20eb14],{layer:_0x231ff6,camera:_0x4dfd0c}=_0x3adc21;if(_0x3adc21['useCameraP'+'asses'])w['call'](()=>{_0x4dfd0c['postEffect'+'s']['effects']['length']>-0x114*0x1d+-0x240d+0x4351&&w['warnOnce']('Camera\x20\x27'+_0x4dfd0c['entity']['name']+('\x27\x20uses\x20ren'+'der\x20passes'+',\x20which\x20ar'+'e\x20not\x20comp'+'atible\x20wit'+'h\x20post-eff'+'ects\x20scrip'+'ts.\x20Render'+'ing\x20of\x20the'+'\x20post-effe'+'cts\x20is\x20ign'+'ored,\x20but\x20'+'they\x20shoul'+'d\x20not\x20be\x20a'+'ttached\x20to'+'\x20the\x20camer'+'a.'));}),_0x4dfd0c['camera']['renderPass'+'es']['forEach'](_0x5b1855=>{_0x344575['addRenderP'+'ass'](_0x5b1855);});else{const _0xc8a8a8=_0x231ff6['id']===ps,_0xaf95b6=_0xc8a8a8&&(_0x4dfd0c['renderScen'+'eColorMap']||_0x4dfd0c['renderScen'+'eDepthMap']);_0x1add21&&(_0x1add21=!(-0x52d+0x247f*0x1+-0x1f51*0x1),_0x4cbe44=_0x20eb14,_0x4d6b1d=_0x3adc21['renderTarg'+'et']);const _0x351aa3=_0x108e3e[_0x20eb14+(0x189*-0x3+-0x1deb+0x1*0x2287)],_0x1db9f0=(_0x351aa3?!_0x351aa3['useCameraP'+'asses']&&_0x351aa3['layer']['id']===ps:!(-0x1f62+-0x11d7+0x2*0x189d))&&(_0x4dfd0c['renderScen'+'eColorMap']||_0x4dfd0c['renderScen'+'eDepthMap']),_0x171f56=_0x351aa3?_0x351aa3['firstCamer'+'aUse']&&this['cameraDirS'+'hadowLight'+'s']['has'](_0x351aa3['camera']['camera']):!(0x3*-0x371+-0x18af*0x1+0x2303*0x1);if(!_0x351aa3||_0x351aa3['renderTarg'+'et']!==_0x4d6b1d||_0x171f56||_0x1db9f0||_0xaf95b6){if(_0xc8a8a8&&_0x4cbe44===_0x20eb14||this['addMainRen'+'derPass'](_0x344575,_0x1473dc,_0x4d6b1d,_0x4cbe44,_0x20eb14),_0xc8a8a8){if(_0x4dfd0c['renderScen'+'eColorMap']){const _0x170982=_0x4dfd0c['camera']['renderPass'+'ColorGrab'];_0x170982['source']=_0x4dfd0c['renderTarg'+'et'],_0x344575['addRenderP'+'ass'](_0x170982);}_0x4dfd0c['renderScen'+'eDepthMap']&&_0x344575['addRenderP'+'ass'](_0x4dfd0c['camera']['renderPass'+'DepthGrab']);}if(_0x3adc21['triggerPos'+'tprocess']&&(_0x4dfd0c!=null&&_0x4dfd0c['onPostproc'+'essing'])){const _0x7607ed=new Zb(this['device'],this,_0x3adc21);_0x344575['addRenderP'+'ass'](_0x7607ed);}_0x1add21=!(-0x2*-0x926+0x1a87+-0x2cd3);}}}}['addMainRen'+'derPass'](_0x48ea89,_0x2011cb,_0x9e0512,_0x5853c8,_0x244e6c){const _0x55a8df=new Kb(this['device'],_0x2011cb,this['scene'],this);_0x55a8df['init'](_0x9e0512);const _0x425c5b=_0x2011cb['_renderAct'+'ions'];for(let _0x337dbf=_0x5853c8;_0x337dbf<=_0x244e6c;_0x337dbf++)_0x55a8df['addRenderA'+'ction'](_0x425c5b[_0x337dbf]);_0x48ea89['addRenderP'+'ass'](_0x55a8df);}['update'](_0x3385ac){this['frameUpdat'+'e'](),this['shadowRend'+'erer']['frameUpdat'+'e'](),this['scene']['_updateSky'+'Mesh'](),this['updateLaye'+'rCompositi'+'on'](_0x3385ac),this['collectLig'+'hts'](_0x3385ac),this['beginFrame'](_0x3385ac),this['setSceneCo'+'nstants'](),this['cullCompos'+'ition'](_0x3385ac),this['gpuUpdate'](this['processing'+'MeshInstan'+'ces']);}};h(Ni,'skipRender'+'Camera',null),h(Ni,'_skipRende'+'rCounter',0x3*-0x823+0x99+0x17d0),h(Ni,'skipRender'+'After',-0x1deb+0x209d+0x1e*-0x17);let fl=Ni,uf=0x1662+-0x21e+-0x1444*0x1;const co=[],hc=new Set();function tA(_0x153003,_0x2bf758){return _0x153003['drawOrder']-_0x2bf758['drawOrder'];}function sA(_0x4beb07,_0x5a6cda){const _0x5415a8=_0x4beb07['_sortKeyFo'+'rward'],_0x14b3c5=_0x5a6cda['_sortKeyFo'+'rward'];return _0x5415a8===_0x14b3c5?_0x5a6cda['mesh']['id']-_0x4beb07['mesh']['id']:_0x14b3c5-_0x5415a8;}function iA(_0xb3634,_0x3f82c0){return _0x3f82c0['_sortKeyDy'+'namic']-_0xb3634['_sortKeyDy'+'namic'];}function rA(_0x131dd6,_0x5184c7){return _0x131dd6['_sortKeyDy'+'namic']-_0x5184c7['_sortKeyDy'+'namic'];}const aA=[null,tA,sA,iA,rA];class nA{constructor(){h(this,'opaque',[]),h(this,'transparen'+'t',[]);}}class Ot{constructor(_0x5d13ce={}){h(this,'meshInstan'+'ces',[]),h(this,'meshInstan'+'cesSet',new Set()),h(this,'shadowCast'+'ers',[]),h(this,'shadowCast'+'ersSet',new Set()),h(this,'_visibleIn'+'stances',new WeakMap()),h(this,'_lights',[]),h(this,'_lightsSet',new Set()),h(this,'_clustered'+'LightsSet',new Set()),h(this,'_splitLigh'+'ts',[[],[],[]]),h(this,'_splitLigh'+'tsDirty',!(-0xc0d+0xb6c+0xa1)),h(this,'requiresLi'+'ghtCube',!(-0x2266+0x1*-0x26c9+0x4930)),h(this,'cameras',[]),h(this,'camerasSet',new Set()),h(this,'_dirtyComp'+'osition',!(0x2*-0x916+0xfe2+0x24b)),(_0x5d13ce['id']!==void(0xb*0x18d+0x26*-0xe9+0x1187)?(this['id']=_0x5d13ce['id'],uf=Math['max'](this['id']+(-0x1916+-0x3eb*0x1+0x1d02),uf)):this['id']=uf++,this['name']=_0x5d13ce['name'],this['_enabled']=_0x5d13ce['enabled']??!(0x11ae+0xc82+-0x1e30),this['_refCounte'+'r']=this['_enabled']?0x1e89*-0x1+0x13ac+-0xade*-0x1:-0x19*0xe5+0x1c0c+-0x5*0x123,this['opaqueSort'+'Mode']=_0x5d13ce['opaqueSort'+'Mode']??Yw,this['transparen'+'tSortMode']=_0x5d13ce['transparen'+'tSortMode']??m_,_0x5d13ce['renderTarg'+'et']&&(this['renderTarg'+'et']=_0x5d13ce['renderTarg'+'et']),this['_clearColo'+'rBuffer']=!!_0x5d13ce['clearColor'+'Buffer'],this['_clearDept'+'hBuffer']=!!_0x5d13ce['clearDepth'+'Buffer'],this['_clearSten'+'cilBuffer']=!!_0x5d13ce['clearStenc'+'ilBuffer'],this['onEnable']=_0x5d13ce['onEnable'],this['onDisable']=_0x5d13ce['onDisable'],this['_enabled']&&this['onEnable']&&this['onEnable'](),this['customSort'+'Callback']=null,this['customCalc'+'ulateSortV'+'alues']=null,this['_lightHash']=-0xbe8+0xa7d+0x16b,this['_lightHash'+'Dirty']=!(-0xba6+-0x1b2d+-0x1c*-0x163),this['_lightIdHa'+'sh']=-0x1a4+0x1357+-0x11b3,this['_lightIdHa'+'shDirty']=!(0x7*0x17f+-0x7*-0x4af+-0x2b41),this['skipRender'+'After']=Number['MAX_VALUE'],this['_skipRende'+'rCounter']=-0xa69+-0x6a9*-0x2+-0x1*0x2e9,this['_renderTim'+'e']=0x5bb*-0x1+-0x1096*-0x1+0x7*-0x18d,this['_forwardDr'+'awCalls']=0xe*-0x205+-0x8ae+0x24f4,this['_shadowDra'+'wCalls']=0x9*-0xef+0x63a+0x22d,this['_shaderVer'+'sion']=-(0x893+0x9*-0xc5+-0x1*0x1a5));}set['enabled'](_0x479deb){_0x479deb!==this['_enabled']&&(this['_dirtyComp'+'osition']=!(-0xca7+0x102e+-0x387),this['_enabled']=_0x479deb,_0x479deb?(this['incrementC'+'ounter'](),this['onEnable']&&this['onEnable']()):(this['decrementC'+'ounter'](),this['onDisable']&&this['onDisable']()));}get['enabled'](){return this['_enabled'];}set['clearColor'+'Buffer'](_0x4f52d5){this['_clearColo'+'rBuffer']=_0x4f52d5,this['_dirtyComp'+'osition']=!(-0x10c8*-0x1+-0x538+-0xb90);}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'+'Buffer'](_0x50cae5){this['_clearDept'+'hBuffer']=_0x50cae5,this['_dirtyComp'+'osition']=!(-0x23b9+0x18c1+-0xc*-0xea);}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'ilBuffer'](_0x17db40){this['_clearSten'+'cilBuffer']=_0x17db40,this['_dirtyComp'+'osition']=!(-0xb2f*-0x1+0x14c1+0x3fe*-0x8);}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}get['hasCluster'+'edLights'](){return this['_clustered'+'LightsSet']['size']>-0x247d+0x1e17+0x666;}get['clusteredL'+'ightsSet'](){return this['_clustered'+'LightsSet'];}['incrementC'+'ounter'](){this['_refCounte'+'r']===0xc8*-0x32+-0x1f2b+0x463b&&(this['_enabled']=!(-0x46b*-0x6+0x1*-0x28c+0x1*-0x17f6),this['onEnable']&&this['onEnable']()),this['_refCounte'+'r']++;}['decrementC'+'ounter'](){if(this['_refCounte'+'r']===-0x2493+-0x811+0x2ca5*0x1)this['_enabled']=!(0x425+0x27*-0x59+0x96b*0x1),this['onDisable']&&this['onDisable']();else{if(this['_refCounte'+'r']===-0x2708+0x1f6d+0x79b){w['warn']('Trying\x20to\x20'+'decrement\x20'+'layer\x20coun'+'ter\x20below\x20'+'0');return;}}this['_refCounte'+'r']--;}['addMeshIns'+'tances'](_0x4b47b7,_0x5192d3){const _0x1a0b74=this['meshInstan'+'ces'],_0x3ba303=this['meshInstan'+'cesSet'];for(let _0x416f8e=-0x599+0xd*0x185+-0xe28;_0x416f8e<_0x4b47b7['length'];_0x416f8e++){const _0x3cb198=_0x4b47b7[_0x416f8e];_0x3ba303['has'](_0x3cb198)||(_0x1a0b74['push'](_0x3cb198),_0x3ba303['add'](_0x3cb198),hc['add'](_0x3cb198['material']));}if(_0x5192d3||this['addShadowC'+'asters'](_0x4b47b7),hc['size']>-0x17e2+0x1bbd+-0x1*0x3db){const _0xe6b45f=this['_shaderVer'+'sion'];hc['forEach'](_0x5ce38a=>{_0xe6b45f>=0x1053*-0x2+-0x7de+0x2884&&_0x5ce38a['_shaderVer'+'sion']!==_0xe6b45f&&(_0x5ce38a['getShaderV'+'ariant']!==tr['prototype']['getShaderV'+'ariant']&&_0x5ce38a['clearVaria'+'nts'](),_0x5ce38a['_shaderVer'+'sion']=_0xe6b45f);}),hc['clear']();}}['removeMesh'+'Instances'](_0x34887a,_0x26c41c){const _0x5dbd6b=this['meshInstan'+'ces'],_0x5af5f8=this['meshInstan'+'cesSet'];for(let _0x9fce5a=-0x1769+-0x1*-0x1c34+-0x4cb;_0x9fce5a<_0x34887a['length'];_0x9fce5a++){const _0x1e7626=_0x34887a[_0x9fce5a];if(_0x5af5f8['has'](_0x1e7626)){_0x5af5f8['delete'](_0x1e7626);const _0x43e9b6=_0x5dbd6b['indexOf'](_0x1e7626);_0x43e9b6>=-0x1b7f+-0x1c5b+0x37da&&_0x5dbd6b['splice'](_0x43e9b6,-0xdf5+-0x2255+-0x3b7*-0xd);}}_0x26c41c||this['removeShad'+'owCasters'](_0x34887a);}['addShadowC'+'asters'](_0x45552b){const _0x230972=this['shadowCast'+'ers'],_0x3fa196=this['shadowCast'+'ersSet'];for(let _0x3946d9=-0x26*0x2e+0xb69+-0x495;_0x3946d9<_0x45552b['length'];_0x3946d9++){const _0x85d00=_0x45552b[_0x3946d9];_0x85d00['castShadow']&&!_0x3fa196['has'](_0x85d00)&&(_0x3fa196['add'](_0x85d00),_0x230972['push'](_0x85d00));}}['removeShad'+'owCasters'](_0x39adc3){const _0x1a76f1=this['shadowCast'+'ers'],_0x3565ad=this['shadowCast'+'ersSet'];for(let _0x453695=0x11*-0x95+-0xbcc+0x15b1;_0x453695<_0x39adc3['length'];_0x453695++){const _0x30abf5=_0x39adc3[_0x453695];if(_0x3565ad['has'](_0x30abf5)){_0x3565ad['delete'](_0x30abf5);const _0x1f4927=_0x1a76f1['indexOf'](_0x30abf5);_0x1f4927>=-0x1aed*-0x1+0x22d7*0x1+-0x3dc4&&_0x1a76f1['splice'](_0x1f4927,-0x1ff+0x2*0xac6+0x22c*-0x9);}}}['clearMeshI'+'nstances'](_0x52efe2=!(-0x3*0xc2d+-0x3a*0x9b+0x3fb*0x12)){this['meshInstan'+'ces']['length']=0x8*0x146+0xe58+-0x1888,this['meshInstan'+'cesSet']['clear'](),_0x52efe2||(this['shadowCast'+'ers']['length']=-0x709*0x2+0x1e68*0x1+-0x1056,this['shadowCast'+'ersSet']['clear']());}['markLights'+'Dirty'](){this['_lightHash'+'Dirty']=!(-0x13a+0x18ab+-0x1771),this['_lightIdHa'+'shDirty']=!(0xdf*-0x29+0x1f*-0x12f+0xa58*0x7),this['_splitLigh'+'tsDirty']=!(-0x11b*-0xf+-0x1dab+0xd16);}['hasLight'](_0x320246){return this['_lightsSet']['has'](_0x320246);}['addLight'](_0x11acfb){const _0x3913c5=_0x11acfb['light'];this['_lightsSet']['has'](_0x3913c5)||(this['_lightsSet']['add'](_0x3913c5),this['_lights']['push'](_0x3913c5),this['markLights'+'Dirty']()),_0x3913c5['type']!==ve&&this['_clustered'+'LightsSet']['add'](_0x3913c5);}['removeLigh'+'t'](_0x55f554){const _0x2c95ae=_0x55f554['light'];this['_lightsSet']['has'](_0x2c95ae)&&(this['_lightsSet']['delete'](_0x2c95ae),this['_lights']['splice'](this['_lights']['indexOf'](_0x2c95ae),-0x328*-0xa+-0x1583+-0xa0c),this['markLights'+'Dirty']()),_0x2c95ae['type']!==ve&&this['_clustered'+'LightsSet']['delete'](_0x2c95ae);}['clearLight'+'s'](){this['_lightsSet']['forEach'](_0x599c5c=>_0x599c5c['removeLaye'+'r'](this)),this['_lightsSet']['clear'](),this['_clustered'+'LightsSet']['clear'](),this['_lights']['length']=-0xd*-0x2dd+-0x148d+0xc2*-0x16,this['markLights'+'Dirty']();}get['splitLight'+'s'](){if(this['_splitLigh'+'tsDirty']){this['_splitLigh'+'tsDirty']=!(0x3*0x257+0x172b+-0x1e2f);const _0x143d6c=this['_splitLigh'+'ts'];for(let _0x418c4d=0x154*-0x1a+0x1ab3+0x7d5*0x1;_0x418c4d<_0x143d6c['length'];_0x418c4d++)_0x143d6c[_0x418c4d]['length']=0x232f*-0x1+0x2120+-0x11*-0x1f;const _0x2c81ab=this['_lights'];for(let _0x516c6c=0x25e9+0x2070+-0x30f*0x17;_0x516c6c<_0x2c81ab['length'];_0x516c6c++){const _0x431811=_0x2c81ab[_0x516c6c];_0x431811['enabled']&&_0x143d6c[_0x431811['_type']]['push'](_0x431811);}for(let _0x3202cb=-0x11*-0x1+-0xf96+0x1*0xf85;_0x3202cb<_0x143d6c['length'];_0x3202cb++)_0x143d6c[_0x3202cb]['sort']((_0x4b86db,_0x4d158c)=>_0x4b86db['key']-_0x4d158c['key']);}return this['_splitLigh'+'ts'];}['evaluateLi'+'ghtHash'](_0x476177,_0x2dc69a,_0x55bdf1){let _0x97614d=-0x131f*0x1+-0xebd+0x21dc;const _0x119485=this['_lights'];for(let _0x57bdcb=-0x2650+-0x1*0x2465+0x2d*0x1a9;_0x57bdcb<_0x119485['length'];_0x57bdcb++){const _0x52c831=_0x119485[_0x57bdcb]['type']!==ve;(_0x476177&&_0x52c831||_0x2dc69a&&!_0x52c831)&&co['push'](_0x55bdf1?_0x119485[_0x57bdcb]['id']:_0x119485[_0x57bdcb]['key']);}return co['length']>-0x11b7*0x1+0x2e5*0xd+-0x2*0x9f5&&(co['sort'](),_0x97614d=By(co),co['length']=0x1feb+0x3*-0x8df+-0x2a7*0x2),_0x97614d;}['getLightHa'+'sh'](_0x47e008){return this['_lightHash'+'Dirty']&&(this['_lightHash'+'Dirty']=!(-0x1*-0xf6b+-0x243f*-0x1+-0x1*0x33a9),this['_lightHash']=this['evaluateLi'+'ghtHash'](!_0x47e008,!(-0x10*-0xb0+-0xc56+0x2*0xab),!(-0x598*-0x1+-0x1*0x1931+-0xd*-0x182))),this['_lightHash'];}['getLightId'+'Hash'](){return this['_lightIdHa'+'shDirty']&&(this['_lightIdHa'+'shDirty']=!(0x2197+0x6bc+0x31a*-0xd),this['_lightIdHa'+'sh']=this['evaluateLi'+'ghtHash'](!(0x301*-0x2+0x12fd*0x1+-0xcfb),!(0x8f*0x5+0x3c3*0x1+-0x68d),!(-0x5*0x51b+0x150f*0x1+-0x4*-0x11e))),this['_lightIdHa'+'sh'];}['addCamera'](_0x5700dd){this['camerasSet']['has'](_0x5700dd['camera'])||(this['camerasSet']['add'](_0x5700dd['camera']),this['cameras']['push'](_0x5700dd),this['_dirtyComp'+'osition']=!(0x1ca8+-0x55d*0x1+-0x174b));}['removeCame'+'ra'](_0xd1e6a1){if(this['camerasSet']['has'](_0xd1e6a1['camera'])){this['camerasSet']['delete'](_0xd1e6a1['camera']);const _0x509e0c=this['cameras']['indexOf'](_0xd1e6a1);this['cameras']['splice'](_0x509e0c,-0x1fc2+0x45*0x8b+-0x5b4),this['_dirtyComp'+'osition']=!(-0x21d*-0x8+0x2*0xd46+-0x9*0x4d4);}}['clearCamer'+'as'](){this['cameras']['length']=-0x139*-0xd+-0x1bf5+0x182*0x8,this['camerasSet']['clear'](),this['_dirtyComp'+'osition']=!(0x1*0x1b1c+0x2*0x101d+-0x46*0xd9);}['_calculate'+'SortDistan'+'ces'](_0x1c3625,_0x997db5,_0x52ea24){const _0x40035b=_0x1c3625['length'],{x:_0x1c8914,y:_0xe036b2,z:_0x3b41ff}=_0x997db5,{x:_0x293ced,y:_0x595a4e,z:_0x1a2c3f}=_0x52ea24;for(let _0x3cd4ac=0x3*-0x749+0x20*0x53+-0x1*-0xb7b;_0x3cd4ac<_0x40035b;_0x3cd4ac++){const _0x14a8ff=_0x1c3625[_0x3cd4ac];let _0x36696d;if(_0x14a8ff['calculateS'+'ortDistanc'+'e'])_0x36696d=_0x14a8ff['calculateS'+'ortDistanc'+'e'](_0x14a8ff,_0x997db5,_0x52ea24);else{const _0x2e49dc=_0x14a8ff['aabb']['center'];_0x36696d=(_0x2e49dc['x']-_0x1c8914)*_0x293ced+(_0x2e49dc['y']-_0xe036b2)*_0x595a4e+(_0x2e49dc['z']-_0x3b41ff)*_0x1a2c3f;}const _0x340c9e=_0x14a8ff['_drawBucke'+'t']*(-0x6a0b2c16+0xc09875*-0x5b+0xea1c27ad*0x1);_0x14a8ff['_sortKeyDy'+'namic']=_0x340c9e+_0x36696d;}}['getCulledI'+'nstances'](_0x24d6e7){let _0x284542=this['_visibleIn'+'stances']['get'](_0x24d6e7);return _0x284542||(_0x284542=new nA(),this['_visibleIn'+'stances']['set'](_0x24d6e7,_0x284542)),_0x284542;}['sortVisibl'+'e'](_0x4ec54b,_0x565fa4){const _0x520832=_0x565fa4?this['transparen'+'tSortMode']:this['opaqueSort'+'Mode'];if(_0x520832===Yc)return;const _0x166b26=this['getCulledI'+'nstances'](_0x4ec54b),_0x21043d=_0x565fa4?_0x166b26['transparen'+'t']:_0x166b26['opaque'],_0x19d336=_0x4ec54b['node'];if(_0x520832===Zw){const _0x1f6d51=_0x19d336['getPositio'+'n'](),_0x24f37e=_0x19d336['forward'];this['customCalc'+'ulateSortV'+'alues']&&this['customCalc'+'ulateSortV'+'alues'](_0x21043d,_0x21043d['length'],_0x1f6d51,_0x24f37e),this['customSort'+'Callback']&&_0x21043d['sort'](this['customSort'+'Callback']);}else{if(_0x520832===m_||_0x520832===Kw){const _0x260546=_0x19d336['getPositio'+'n'](),_0x213548=_0x19d336['forward'];this['_calculate'+'SortDistan'+'ces'](_0x21043d,_0x260546,_0x213548);}_0x21043d['sort'](aA[_0x520832]);}}}const oA=(_0x2ab378,_0x3fdffd)=>_0x2ab378['priority']-_0x3fdffd['priority'],ul=_0x4ba640=>_0x4ba640['sort'](oA);class du extends me{constructor(_0x342bac='Untitled'){super(),h(this,'layerList',[]),h(this,'layerIdMap',new Map()),h(this,'layerNameM'+'ap',new Map()),h(this,'layerOpaqu'+'eIndexMap',new Map()),h(this,'layerTrans'+'parentInde'+'xMap',new Map()),h(this,'subLayerLi'+'st',[]),h(this,'subLayerEn'+'abled',[]),h(this,'cameras',[]),h(this,'_renderAct'+'ions',[]),h(this,'_dirty',!(-0x5d*0x11+0x1*0x1eb3+-0x1885)),(this['name']=_0x342bac,this['_opaqueOrd'+'er']={},this['_transpare'+'ntOrder']={});}['destroy'](){this['destroyRen'+'derActions']();}['destroyRen'+'derActions'](){this['_renderAct'+'ions']['forEach'](_0x1b7da9=>_0x1b7da9['destroy']()),this['_renderAct'+'ions']['length']=0x16f0+-0x800*0x4+0x4*0x244;}['markDirty'](){this['_dirty']=!(-0x1a08+0x665*-0x2+0x26d2);}['_update'](){const _0x55144c=this['layerList']['length'];if(!this['_dirty']){for(let _0x29d3de=-0x1ec2+0xf*0x1d+0x1d0f;_0x29d3de<_0x55144c;_0x29d3de++)if(this['layerList'][_0x29d3de]['_dirtyComp'+'osition']){this['_dirty']=!(-0x6d9+0x252c+0x7*-0x455);break;}}if(this['_dirty']){this['_dirty']=!(-0x5*-0x5ea+-0x6c6*0x3+-0x9*0x107),this['cameras']['length']=0x1bd6+-0x59*-0x6d+0x3*-0x15e9;for(let _0x77e7b7=-0x1*0x94d+-0x2040+0x1*0x298d;_0x77e7b7<_0x55144c;_0x77e7b7++){const _0x246ed8=this['layerList'][_0x77e7b7];_0x246ed8['_dirtyComp'+'osition']=!(-0xa5e+0x117f*0x2+0x835*-0x3);for(let _0x432866=-0xfd9+0x9*0x3a+0xdcf*0x1;_0x432866<_0x246ed8['cameras']['length'];_0x432866++){const _0x2acd9d=_0x246ed8['cameras'][_0x432866];this['cameras']['indexOf'](_0x2acd9d)<0x7*0x2c4+-0xdc9+0x593*-0x1&&this['cameras']['push'](_0x2acd9d);}}this['cameras']['length']>0x22*-0x53+-0xf26+0x1a2d&&ul(this['cameras']);let _0x5a619b=0x2*0x113e+0x7*0x317+0x451*-0xd;this['destroyRen'+'derActions']();for(let _0x505285=0x437*0x1+-0x1*0x1e0b+0x1d*0xe4;_0x505285<this['cameras']['length'];_0x505285++){const _0x39c67e=this['cameras'][_0x505285];if(_0x39c67e['camera']['renderPass'+'es']['length']>0x260e+-0x7*0x123+-0x1e19){this['addDummyRe'+'nderAction'](_0x5a619b,_0x39c67e),_0x5a619b++;continue;}let _0x43e1aa=!(-0x4*0x980+0x1b6a+0x2*0x54b);const _0x4987ab=_0x5a619b;let _0x393e41=null,_0x2ad277=!(-0x1f9d+-0x78d+0x272b);for(let _0x1d35ec=-0x1*-0x322+-0x1df5+0x1ad3;_0x1d35ec<_0x55144c;_0x1d35ec++){const _0xbad8f8=this['layerList'][_0x1d35ec];if(_0xbad8f8['enabled']&&this['subLayerEn'+'abled'][_0x1d35ec]&&_0xbad8f8['cameras']['length']>0x11ff+-0x47*0x5f+0x85a&&_0x39c67e['layers']['indexOf'](_0xbad8f8['id'])>=-0x21*0x115+-0x156b+0x3920){!_0x2ad277&&_0xbad8f8['id']===_0x39c67e['disablePos'+'tEffectsLa'+'yer']&&(_0x2ad277=!(0x1633+-0xb44+-0xaef*0x1),_0x393e41&&(_0x393e41['triggerPos'+'tprocess']=!(-0x4e2*-0x1+-0x1*-0x1ccd+-0x1*0x21af)));const _0x46b3e3=this['subLayerLi'+'st'][_0x1d35ec];_0x393e41=this['addRenderA'+'ction'](_0x5a619b,_0xbad8f8,_0x46b3e3,_0x39c67e,_0x43e1aa,_0x2ad277),_0x5a619b++,_0x43e1aa=!(0x19*0x10b+-0x901+-0x101*0x11);}}_0x4987ab<_0x5a619b&&(_0x393e41['lastCamera'+'Use']=!(0x2402+-0xac1*-0x3+-0x4445*0x1)),!_0x2ad277&&_0x393e41&&(_0x393e41['triggerPos'+'tprocess']=!(-0x12b*-0x7+-0x2636+0x1e09)),_0x39c67e['renderTarg'+'et']&&_0x39c67e['postEffect'+'sEnabled']&&this['propagateR'+'enderTarge'+'t'](_0x4987ab-(0xb*0x31d+-0x5e9+-0x1c55),_0x39c67e);}this['_logRender'+'Actions']();}}['getNextRen'+'derAction'](_0x4c828a){w['assert'](this['_renderAct'+'ions']['length']===_0x4c828a);const _0x46b342=new Pv();return this['_renderAct'+'ions']['push'](_0x46b342),_0x46b342;}['addDummyRe'+'nderAction'](_0x4bb7f6,_0x620244){const _0x1fb637=this['getNextRen'+'derAction'](_0x4bb7f6);_0x1fb637['camera']=_0x620244,_0x1fb637['useCameraP'+'asses']=!(-0x226c+-0x139*-0xb+0x14f9);}['addRenderA'+'ction'](_0x320563,_0x4b2eff,_0x2faa19,_0x111bd6,_0x3a2114,_0x3618ea){let _0x1d1596=_0x4b2eff['id']!==ps?_0x111bd6['renderTarg'+'et']:null,_0x365c0c=!(0x193*-0xe+0x9f6+0xc15);const _0x26010b=this['_renderAct'+'ions'];for(let _0x5346e6=_0x320563-(0x1*0x1a48+-0x10a+0x1*-0x193d);_0x5346e6>=-0x2286+0x77f+0x1b07;_0x5346e6--)if(_0x26010b[_0x5346e6]['camera']===_0x111bd6&&_0x26010b[_0x5346e6]['renderTarg'+'et']===_0x1d1596){_0x365c0c=!(0x22d5*0x1+-0x1*0xbfb+0x27*-0x96);break;}_0x3618ea&&_0x111bd6['postEffect'+'sEnabled']&&(_0x1d1596=null);const _0x2f84a6=this['getNextRen'+'derAction'](_0x320563);_0x2f84a6['triggerPos'+'tprocess']=!(-0x793*-0x5+-0x4*0x8f3+-0x212),_0x2f84a6['layer']=_0x4b2eff,_0x2f84a6['transparen'+'t']=_0x2faa19,_0x2f84a6['camera']=_0x111bd6,_0x2f84a6['renderTarg'+'et']=_0x1d1596,_0x2f84a6['firstCamer'+'aUse']=_0x3a2114,_0x2f84a6['lastCamera'+'Use']=!(-0x157*0xe+0x19f3+0x4*-0x1cc);const _0x4a98cf=_0x3a2114||!_0x365c0c,_0x306952=_0x4b2eff['clearColor'+'Buffer']||_0x4b2eff['clearDepth'+'Buffer']||_0x4b2eff['clearStenc'+'ilBuffer'];return(_0x4a98cf||_0x306952)&&_0x2f84a6['setupClear'+'s'](_0x4a98cf?_0x111bd6:void(0x2b*-0x2a+-0x2c*-0x75+-0xd0e),_0x4b2eff),_0x2f84a6;}['propagateR'+'enderTarge'+'t'](_0x4805d2,_0x3fc70f){for(let _0x46310b=_0x4805d2;_0x46310b>=-0x1be8+0x2*0x45f+0x2*0x995;_0x46310b--){const _0x419eef=this['_renderAct'+'ions'][_0x46310b],_0x5eb4fb=_0x419eef['layer'];if(_0x419eef['renderTarg'+'et']&&_0x5eb4fb['id']!==ps)break;if(_0x5eb4fb['id']===ps)continue;if(_0x419eef['useCameraP'+'asses'])break;const _0x51986d=_0x419eef==null?void(-0xc2*0x21+-0x9e2+0x7*0x4fc):_0x419eef['camera']['camera'];if(_0x51986d&&(!_0x3fc70f['camera']['rect']['equals'](_0x51986d['rect'])||!_0x3fc70f['camera']['scissorRec'+'t']['equals'](_0x51986d['scissorRec'+'t'])))break;_0x419eef['renderTarg'+'et']=_0x3fc70f['renderTarg'+'et'];}}['_logRender'+'Actions'](){if(mi['get'](Vl)){w['trace'](Vl,'Render\x20Act'+'ions\x20for\x20c'+'omposition'+':\x20'+this['name']);for(let _0x13de18=-0x1a9d+0x7c0+0x12dd;_0x13de18<this['_renderAct'+'ions']['length'];_0x13de18++){const _0x4cdf2d=this['_renderAct'+'ions'][_0x13de18],_0x5ea55a=_0x4cdf2d['camera'];if(_0x4cdf2d['useCameraP'+'asses'])w['trace'](Vl,_0x13de18+('CustomPass'+'es\x20Cam:\x20')+(_0x5ea55a?_0x5ea55a['entity']['name']:'-'));else{const _0x3f8de0=_0x4cdf2d['layer'],_0x53ff4a=_0x3f8de0['enabled']&&this['isEnabled'](_0x3f8de0,_0x4cdf2d['transparen'+'t']),_0x466d9b=(_0x4cdf2d['clearColor']?'Color\x20':'.....\x20')+(_0x4cdf2d['clearDepth']?'Depth\x20':'.....\x20')+(_0x4cdf2d['clearStenc'+'il']?'Stencil':'.......');w['trace'](Vl,_0x13de18+('\x20Cam:\x20'+(_0x5ea55a?_0x5ea55a['entity']['name']:'-'))['padEnd'](0x24a0+-0x1331+-0x1159,'\x20')+('\x20Lay:\x20'+_0x3f8de0['name'])['padEnd'](0x1eb*0xb+-0x15e0*-0x1+-0x2ae3,'\x20')+(_0x4cdf2d['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x53ff4a?'\x20ENABLED\x20':'\x20DISABLED')+('\x20RT:\x20'+(_0x4cdf2d['renderTarg'+'et']?_0x4cdf2d['renderTarg'+'et']['name']:'-'))['padEnd'](-0x1f68+-0x19a6*0x1+0x392c*0x1,'\x20')+'\x20Clear:\x20'+_0x466d9b+(_0x4cdf2d['firstCamer'+'aUse']?'\x20CAM-FIRST':'')+(_0x4cdf2d['lastCamera'+'Use']?'\x20CAM-LAST':'')+(_0x4cdf2d['triggerPos'+'tprocess']?'\x20POSTPROCE'+'SS':''));}}}}['_isLayerAd'+'ded'](_0x472acb){const _0x5e91c4=this['layerIdMap']['get'](_0x472acb['id'])===_0x472acb;return w['assert'](!_0x5e91c4,'Layer\x20is\x20a'+'lready\x20add'+'ed:\x20'+_0x472acb['name']),_0x5e91c4;}['_isSublaye'+'rAdded'](_0x2e81f0,_0x373be8){return(_0x373be8?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['get'](_0x2e81f0)!==void(0x1f6*-0x1+-0xb4d+-0x61*-0x23)?(w['error']('Sublayer\x20'+_0x2e81f0['name']+(',\x20transpar'+'ent:\x20')+_0x373be8+('\x20is\x20alread'+'y\x20added.')),!(0x1*-0x939+0x204b+-0x1712)):!(0x1f*0x65+0x189a*0x1+-0x24d4);}['push'](_0x27be1d){this['_isLayerAd'+'ded'](_0x27be1d)||(this['layerList']['push'](_0x27be1d),this['layerList']['push'](_0x27be1d),this['_opaqueOrd'+'er'][_0x27be1d['id']]=this['subLayerLi'+'st']['push'](!(-0x1adc+0x28b+-0x236*-0xb))-(0x1a41+-0x66*0x6+-0x17dc),this['_transpare'+'ntOrder'][_0x27be1d['id']]=this['subLayerLi'+'st']['push'](!(-0x1*0x26f3+-0x171b+0x3e0e))-(0x1d*0x2f+0xe15+-0x1367),this['subLayerEn'+'abled']['push'](!(0x182f*-0x1+0x12*-0x83+0x2165)),this['subLayerEn'+'abled']['push'](!(-0x12bb+0x22d1+-0x80b*0x2)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x1baa*-0x1+-0x233*-0x1+0x35*0x7b),this['fire']('add',_0x27be1d));}['insert'](_0x525816,_0x3b1286){if(this['_isLayerAd'+'ded'](_0x525816))return;this['layerList']['splice'](_0x3b1286,-0x505+0x3*0x919+-0x1646,_0x525816,_0x525816),this['subLayerLi'+'st']['splice'](_0x3b1286,0x5df+-0x1651+-0x1072*-0x1,!(0x24bd+0x249d+-0x4959),!(0x10de+-0x8bd+-0x1*0x821));const _0x3c769a=this['layerList']['length'];this['_updateOpa'+'queOrder'](_0x3b1286,_0x3c769a-(-0x268d+0x935*-0x1+0x2fc3)),this['_updateTra'+'nsparentOr'+'der'](_0x3b1286,_0x3c769a-(-0xbff+0x808*-0x2+0x382*0x8)),this['subLayerEn'+'abled']['splice'](_0x3b1286,-0x1*0x206b+-0x79*0x27+0x236*0x17,!(-0x1152+-0x1390+0x24e2),!(0x23c0+-0x1*0x281+-0x213f*0x1)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x20dd+-0xa8f+0xe*0x31a),this['fire']('add',_0x525816);}['remove'](_0x265ef0){let _0x50ecc9=this['layerList']['indexOf'](_0x265ef0);for(delete this['_opaqueOrd'+'er'][_0x50ecc9],delete this['_transpare'+'ntOrder'][_0x50ecc9];_0x50ecc9>=-0x6e*-0x7+-0x1b2a+-0x305*-0x8;)this['layerList']['splice'](_0x50ecc9,0x22*-0xec+0x1*0x1db9+0x1a0),this['subLayerLi'+'st']['splice'](_0x50ecc9,-0x1f8d+0x165a*0x1+0x934),this['subLayerEn'+'abled']['splice'](_0x50ecc9,0x2f*0xaf+0x1e4d+-0x3*0x14cf),_0x50ecc9=this['layerList']['indexOf'](_0x265ef0),this['_dirty']=!(-0x2080+-0x7*0x191+0x1*0x2b77),this['fire']('remove',_0x265ef0);const _0x31aee5=this['layerList']['length'];this['_updateOpa'+'queOrder'](-0x9*0x13e+-0xab8+-0x1*-0x15e6,_0x31aee5-(0x491+-0x17bc+0xc*0x199)),this['_updateTra'+'nsparentOr'+'der'](-0xc*0x11a+0xca7+0x91,_0x31aee5-(-0x3*-0x587+-0x3*0x750+0x55c)),this['_updateLay'+'erMaps']();}['pushOpaque'](_0x4bc06d){this['_isSublaye'+'rAdded'](_0x4bc06d,!(-0x17*-0x35+0xc1*-0xe+0x5cc))||(this['layerList']['push'](_0x4bc06d),this['_opaqueOrd'+'er'][_0x4bc06d['id']]=this['subLayerLi'+'st']['push'](!(-0x24e1+0x1fa3+0x53f*0x1))-(0x2254+-0xe38+-0x141b),this['subLayerEn'+'abled']['push'](!(0x28*-0x3+-0x90a+0x982)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x140a+0x509+0xf01),this['fire']('add',_0x4bc06d));}['insertOpaq'+'ue'](_0x5680f,_0x2e8c46){if(this['_isSublaye'+'rAdded'](_0x5680f,!(-0x60*0x13+-0x1*0x198f+0x20b0)))return;this['layerList']['splice'](_0x2e8c46,-0x1ce*-0x1+0x65a*-0x1+0x48c,_0x5680f),this['subLayerLi'+'st']['splice'](_0x2e8c46,-0x1b08+0x1*-0xd23+0x282b,!(0x3*-0x833+-0x14*-0xb3+-0x12*-0x97));const _0x5d7c85=this['subLayerLi'+'st']['length'];this['_updateOpa'+'queOrder'](_0x2e8c46,_0x5d7c85-(0x14*0x8f+0xa*0x39e+0x1*-0x2f57)),this['subLayerEn'+'abled']['splice'](_0x2e8c46,-0x22a4+0x2a*-0x76+0x48*0xc0,!(-0xb22+-0x96b+0x148d)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x1ed8+0x1cb9*-0x1+-0x21f),this['fire']('add',_0x5680f);}['removeOpaq'+'ue'](_0x445b13){for(let _0x28b8a1=0x1b79+0x30f+-0x1e88,_0x5b1282=this['layerList']['length'];_0x28b8a1<_0x5b1282;_0x28b8a1++)if(this['layerList'][_0x28b8a1]===_0x445b13&&!this['subLayerLi'+'st'][_0x28b8a1]){this['layerList']['splice'](_0x28b8a1,-0x2ab*-0x9+0xaa8+0x11*-0x20a),this['subLayerLi'+'st']['splice'](_0x28b8a1,-0x14a+0x1ec1+-0x12*0x1a3),_0x5b1282--,this['_updateOpa'+'queOrder'](_0x28b8a1,_0x5b1282-(0x41e*0x5+0x1cb6+-0x314b)),this['subLayerEn'+'abled']['splice'](_0x28b8a1,0x1c5e+0xedb+-0x2b38),this['_dirty']=!(-0x1fdc+-0x101*0x11+0xf*0x343),this['layerList']['indexOf'](_0x445b13)<-0xbfb+-0x1c06+0x2801&&this['fire']('remove',_0x445b13);break;}this['_updateLay'+'erMaps']();}['pushTransp'+'arent'](_0x25e879){this['_isSublaye'+'rAdded'](_0x25e879,!(-0x1*0x959+-0x5dd*0x1+0xf36))||(this['layerList']['push'](_0x25e879),this['_transpare'+'ntOrder'][_0x25e879['id']]=this['subLayerLi'+'st']['push'](!(-0x1ade+-0x2162+-0x1e20*-0x2))-(0x505*-0x5+-0x5*-0x57a+-0x124*0x2),this['subLayerEn'+'abled']['push'](!(-0x10c4+-0x26bb+-0x1*-0x377f)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x234e+-0x19b*0x7+-0x1811),this['fire']('add',_0x25e879));}['insertTran'+'sparent'](_0x56cebf,_0x421372){if(this['_isSublaye'+'rAdded'](_0x56cebf,!(-0x203+-0x166f+0x1872)))return;this['layerList']['splice'](_0x421372,-0xc7c*-0x1+0x90e+-0x158a,_0x56cebf),this['subLayerLi'+'st']['splice'](_0x421372,-0x110*-0x7+0x1*-0x181d+-0x1*-0x10ad,!(0x3*0x17b+0x2507+-0x4*0xa5e));const _0x94ae69=this['subLayerLi'+'st']['length'];this['_updateTra'+'nsparentOr'+'der'](_0x421372,_0x94ae69-(-0x15a2+-0x241c+-0x1*-0x39bf)),this['subLayerEn'+'abled']['splice'](_0x421372,-0x37*0x95+-0x14f6+0x34f9,!(0x2004+0x1*0x545+-0x2549)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x1201+-0x2c6+0x14c7*0x1),this['fire']('add',_0x56cebf);}['removeTran'+'sparent'](_0x5b01cd){for(let _0x27fe78=-0x268e+-0x25f0+0x4c7e,_0x464ebe=this['layerList']['length'];_0x27fe78<_0x464ebe;_0x27fe78++)if(this['layerList'][_0x27fe78]===_0x5b01cd&&this['subLayerLi'+'st'][_0x27fe78]){this['layerList']['splice'](_0x27fe78,0x51a+0x1a3*-0xa+0x241*0x5),this['subLayerLi'+'st']['splice'](_0x27fe78,0x1243+-0x236c+0x112a),_0x464ebe--,this['_updateTra'+'nsparentOr'+'der'](_0x27fe78,_0x464ebe-(0x11*-0xb8+-0x1*-0x2395+0xe6*-0x1a)),this['subLayerEn'+'abled']['splice'](_0x27fe78,0x82+-0x47*-0x8+-0x1*0x2b9),this['_dirty']=!(-0x28*0xcc+0x1a6+-0x1e3a*-0x1),this['layerList']['indexOf'](_0x5b01cd)<0x25*0xcd+-0xe*-0x1fc+-0x3969&&this['fire']('remove',_0x5b01cd);break;}this['_updateLay'+'erMaps']();}['getOpaqueI'+'ndex'](_0x1d2587){return this['layerOpaqu'+'eIndexMap']['get'](_0x1d2587)??-(-0x1*0xe87+-0x1390+-0x886*-0x4);}['getTranspa'+'rentIndex'](_0x26188d){return this['layerTrans'+'parentInde'+'xMap']['get'](_0x26188d)??-(-0x154a*-0x1+0xf*0x295+0x29c*-0x17);}['isEnabled'](_0x2fefdf,_0x517c6f){if(_0x2fefdf['enabled']){const _0x300d0c=_0x517c6f?this['getTranspa'+'rentIndex'](_0x2fefdf):this['getOpaqueI'+'ndex'](_0x2fefdf);if(_0x300d0c>=-0x15*-0xbc+-0xed*-0x1b+-0xd79*0x3)return this['subLayerEn'+'abled'][_0x300d0c];}return!(-0x306*-0x1+0x1d0d+-0x2012);}['_updateLay'+'erMaps'](){this['layerIdMap']['clear'](),this['layerNameM'+'ap']['clear'](),this['layerOpaqu'+'eIndexMap']['clear'](),this['layerTrans'+'parentInde'+'xMap']['clear']();for(let _0x4ab01b=-0x1*-0x1361+0x1*-0x139c+0x3b;_0x4ab01b<this['layerList']['length'];_0x4ab01b++){const _0x3c26bd=this['layerList'][_0x4ab01b];this['layerIdMap']['set'](_0x3c26bd['id'],_0x3c26bd),this['layerNameM'+'ap']['set'](_0x3c26bd['name'],_0x3c26bd),(this['subLayerLi'+'st'][_0x4ab01b]?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['set'](_0x3c26bd,_0x4ab01b);}}['getLayerBy'+'Id'](_0x254086){return this['layerIdMap']['get'](_0x254086)??null;}['getLayerBy'+'Name'](_0xa07554){return this['layerNameM'+'ap']['get'](_0xa07554)??null;}['_updateOpa'+'queOrder'](_0x2d526e,_0x1d0c2b){for(let _0x5959c6=_0x2d526e;_0x5959c6<=_0x1d0c2b;_0x5959c6++)this['subLayerLi'+'st'][_0x5959c6]===!(-0x236a+-0x11e9+-0x1aaa*-0x2)&&(this['_opaqueOrd'+'er'][this['layerList'][_0x5959c6]['id']]=_0x5959c6);}['_updateTra'+'nsparentOr'+'der'](_0x348e96,_0x16e970){for(let _0x448d76=_0x348e96;_0x448d76<=_0x16e970;_0x448d76++)this['subLayerLi'+'st'][_0x448d76]===!(0x3*0xb14+-0x2e0*-0xc+0x3c*-0x121)&&(this['_transpare'+'ntOrder'][this['layerList'][_0x448d76]['id']]=_0x448d76);}['_sortLayer'+'sDescendin'+'g'](_0x43cc62,_0x1cf33b,_0x546faf){let _0x2bd0db=-(-0x5*0x574+-0x1f71+0x3ab6),_0xd1eeb1=-(0x26*0xe6+-0x55*-0x49+-0x3a60);for(let _0x36b7ac=-0x6a3*-0x3+0x1*0x422+-0x180b*0x1,_0x2e05ed=_0x43cc62['length'];_0x36b7ac<_0x2e05ed;_0x36b7ac++){const _0x452938=_0x43cc62[_0x36b7ac];_0x546faf['hasOwnProp'+'erty'](_0x452938)&&(_0x2bd0db=Math['max'](_0x2bd0db,_0x546faf[_0x452938]));}for(let _0x5e29db=-0x3d*-0x34+0x1d*-0xf7+0x133*0xd,_0x47d404=_0x1cf33b['length'];_0x5e29db<_0x47d404;_0x5e29db++){const _0x4ecec7=_0x1cf33b[_0x5e29db];_0x546faf['hasOwnProp'+'erty'](_0x4ecec7)&&(_0xd1eeb1=Math['max'](_0xd1eeb1,_0x546faf[_0x4ecec7]));}return _0x2bd0db===-(-0x294*0x8+-0xcf*-0x27+-0xae8)&&_0xd1eeb1!==-(-0x133*0xf+-0xac+0x2*0x955)?0x707+0x1321+-0x1a27:_0xd1eeb1===-(0x1*-0x2016+0x1*0x2f+0x3fd*0x8)&&_0x2bd0db!==-(0x1*0xc3a+-0x10f*-0x11+-0x1e38)?-(-0x27*-0x61+-0x3b*-0x9d+-0x32f5):_0xd1eeb1-_0x2bd0db;}['sortTransp'+'arentLayer'+'s'](_0xefa448,_0x30f272){return this['_sortLayer'+'sDescendin'+'g'](_0xefa448,_0x30f272,this['_transpare'+'ntOrder']);}['sortOpaque'+'Layers'](_0x7993cc,_0x45db1e){return this['_sortLayer'+'sDescendin'+'g'](_0x7993cc,_0x45db1e,this['_opaqueOrd'+'er']);}}const dc=new D(),wi={'bias':0x0,'normalBias':0x0},ho=new ie(),pf={'r':0x0,'g':0x1,'b':0x2,'a':0x3},fu={'directional':ve,'omni':Ke,'point':Ke,'spot':Ze},lA=[[new re(-0x1ab9+0xa44+0x1075,-0xed7+0xfb0+0x1f*-0x7,0x15*0xf+-0x4a6+0x36c,0x21b*-0x5+0xd32+0x1f*-0x16)],[new re(0x772+0x17f*0x12+-0x2260,-0x1a16+-0x2b6*-0x2+-0x73*-0x2e,0x82a+-0x720+-0x10a+0.5,0x549*-0x7+0xa*0x20d+0x3f*0x43+0.5),new re(-0xdb2+0x1c7b+-0x2f5*0x5,-0x1*0x188e+0x15a*-0x1b+0x3d0c+0.5,0x2615*0x1+-0xedf+-0x1736+0.5,-0xe3d+0xf3f*-0x1+0x1d7c*0x1+0.5)],[new re(-0x2*0xf0b+-0xa4*-0xb+0x170a*0x1,0x1*-0x1928+0x1*-0x9ab+0x22d3,0xb1*0x1f+0x7a+-0x15e9+0.5,-0xf65+-0x245e+0x33c3+0.5),new re(0x1*-0x1418+-0xc99+0x20b1,0x9d3*0x3+-0x2180+-0x1*-0x407+0.5,0xe6+0x1666+-0x11c*0x15+0.5,-0x1*0xc07+-0x1*0x2446+0x9a9*0x5+0.5),new re(-0x103e+-0x1a72+0x2ab0+0.5,0x2252+-0x9*0x2f1+-0x7d9,0x283*-0x1+0x1493+-0x1210*0x1+0.5,-0xc*0x1de+-0x11a8+-0x2*-0x1408+0.5)],[new re(0x1*0x1ecf+0x1e3c+0x1*-0x3d0b,0x3b5*-0x4+-0x2447+-0x93*-0x59,-0x12*0x3+0x1*-0x157f+0x15b5*0x1+0.5,0x6a*0x14+0x193+-0x3*0x349+0.5),new re(0x903*-0x1+0x2*0x307+0x2f5,-0xf4a+-0x7d3*0x1+0x171d+0.5,-0x26b9+0xa1*0x1+-0xb8*-0x35+0.5,-0x1*-0x3dd+0xeea+0xd1*-0x17+0.5),new re(0x5*0x85+-0x1*0x25fd+0x2364+0.5,0xde5*0x1+0x4c1*0x6+0x1*-0x2a6b,0x5*0x681+0x222d+0x2*-0x2159+0.5,0x1d14+0x184e+-0x3562+0.5),new re(0x114e+0x55*0x67+0x9*-0x5b9+0.5,0x5*0x2f+0x1d41*0x1+-0x1e2c+0.5,0xa8f+-0x1351+0x1*0x8c2+0.5,0xbea+0x6e*0x37+-0x1c*0x145+0.5)]],cA={'rrr':0x1,'ggg':0x2,'bbb':0x4,'aaa':0x8,'rgb':0x7};let hA=0x1*0x126e+0xa*0x216+-0x274a;class dA{constructor(_0x2f354c,_0x3b30ab,_0x4605e3){this['light']=_0x4605e3,this['camera']=_0x2f354c,this['shadowCame'+'ra']=Cv['createShad'+'owCamera'](_0x4605e3['_shadowTyp'+'e'],_0x4605e3['_type'],_0x3b30ab),this['shadowMatr'+'ix']=new te(),this['shadowView'+'port']=new re(0x3ba+0x7*0x4cd+-0x2555,0xdcd*0x1+0x1b*0x4f+-0x1622,-0x191b+0x1765+0x1b7,0x4ae*0x2+0x4*-0x856+-0x17fd*-0x1),this['shadowScis'+'sor']=new re(0x1c4b+0x1a49+-0xda5*0x4,0x12d8+-0x1*-0x1faf+-0x41*0xc7,-0x174a+-0x43b+0x1b86,0x1*0x2005+0x23ff+0x2f5*-0x17),this['projection'+'Compensati'+'on']=-0xf99+0x899+0x700,this['face']=_0x3b30ab,this['visibleCas'+'ters']=[],this['viewBindGr'+'oups']=[];}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0xc90c20=>{_0xc90c20['defaultUni'+'formBuffer']['destroy'](),_0xc90c20['destroy']();}),this['viewBindGr'+'oups']['length']=-0x1c52+-0x27*0xdb+0x1*0x3daf;}get['shadowBuff'+'er'](){const _0x2a6390=this['shadowCame'+'ra']['renderTarg'+'et'];return _0x2a6390?this['light']['_isPcf']?_0x2a6390['depthBuffe'+'r']:_0x2a6390['colorBuffe'+'r']:null;}}class pl{constructor(_0x1e6a93,_0x5ae469){h(this,'layers',new Set()),h(this,'clusteredL'+'ighting'),h(this,'shadowDept'+'hState',Yt['DEFAULT']['clone']()),h(this,'clusteredF'+'lags',0x1*-0x158f+-0x93f+0x1ece),h(this,'clusteredD'+'ata',new Uint32Array(-0x10dc+-0x25*0xab+0x1*0x2996)),h(this,'clusteredD'+'ata16',new Uint16Array(this['clusteredD'+'ata']['buffer'])),h(this,'_evtDevice'+'Restored',null),(this['device']=_0x1e6a93,this['clusteredL'+'ighting']=_0x5ae469,this['id']=hA++,this['_evtDevice'+'Restored']=_0x1e6a93['on']('devicerest'+'ored',this['onDeviceRe'+'stored'],this),this['_type']=ve,this['_color']=new ie(-0x7a*0x5+0x118a+-0xf28+0.8,-0x95*0x22+-0xfa6*0x1+-0x15*-0x1b0+0.8,-0x213e+-0x1952+0x3a9*0x10+0.8),this['_intensity']=-0xca*0x1b+-0x14ba+-0x279*-0x11,this['_affectSpe'+'cularity']=!(-0x4*0x141+-0x143c+0x650*0x4),this['_luminance']=-0x21*-0xaf+-0x1a25*-0x1+-0x30b4,this['_castShado'+'ws']=!(0x7*-0x3a+-0x5b*0x47+0x4*0x6b5),this['_enabled']=!(0xe8b+0x44*0x1+-0x2*0x767),this['_mask']=Ss,this['isStatic']=!(0xcc2+0x16d2+0x2393*-0x1),this['key']=0x66c+0x721*-0x4+-0x1c*-0xca,this['bakeDir']=!(0xaf1*-0x2+0xf84+0x65e),this['bakeNumSam'+'ples']=-0x2255+-0x1a6e+0x3cc4,this['bakeArea']=-0x25*-0x82+-0x1*-0x8e+-0x8*0x26b,this['attenuatio'+'nStart']=0x22ef+0x6c5*0x2+-0x306f,this['attenuatio'+'nEnd']=0x21c6+0x157e+-0x373a*0x1,this['_falloffMo'+'de']=Qp,this['_shadowTyp'+'e']=$s,this['_vsmBlurSi'+'ze']=-0x1061+0x1cab+-0xc3f,this['vsmBlurMod'+'e']=em,this['vsmBias']=(-0x2b3*0x5+-0x249*-0x8+-0xaf*0x7+0.01)*(-0x1*0x647+-0x20a5+-0xbc*-0x35+0.25),this['_cookie']=null,this['cookieInte'+'nsity']=-0xf62+0x2*-0x10e9+0xd*0x3c9,this['_cookieFal'+'loff']=!(-0x469+0xba*0x2a+-0x29*0xa3),this['_cookieCha'+'nnel']='rgb',this['_cookieTra'+'nsform']=null,this['_cookieTra'+'nsformUnif'+'orm']=new Float32Array(-0x8ef+0xc5c+-0x369),this['_cookieOff'+'set']=null,this['_cookieOff'+'setUniform']=new Float32Array(0xc22+-0x1039*0x1+0x1*0x419),this['_cookieTra'+'nsformSet']=!(0x1b88+-0x1345*0x2+-0xb03*-0x1),this['_cookieOff'+'setSet']=!(0x1488+-0x16d6+0x3*0xc5),this['_innerCone'+'Angle']=0xd31+0x35*-0x33+-0x27a,this['_outerCone'+'Angle']=-0x1b*-0x1+-0x943*0x1+-0x1*-0x955,this['cascades']=null,this['_shadowMat'+'rixPalette']=null,this['_shadowCas'+'cadeDistan'+'ces']=null,this['numCascade'+'s']=-0x3*0xcb3+-0x11b+0x2735*0x1,this['_cascadeBl'+'end']=-0x5*0x63b+-0x15*0x34+0x236b,this['cascadeDis'+'tribution']=-0x35b*0x8+0x1605+0x4d3+0.5,this['_shape']=Ys,this['_colorLine'+'ar']=new Float32Array(-0x7*-0xe6+0x137f*-0x2+0x5*0x68b),this['_updateLin'+'earColor'](),this['_position']=new D(0x392+-0x14ca+0x1138,0x8*-0xee+-0x1f8c+0x26fc,-0x1042*-0x1+-0x36f*0x6+0x458),this['_direction']=new D(0xad*-0x8+0x84f+0x1*-0x2e7,-0x1*-0x130b+0x1*0x8c2+-0x1bcd,-0x1257+-0x13f3*-0x1+-0x19c),this['_innerCone'+'AngleCos']=Math['cos'](this['_innerCone'+'Angle']*Math['PI']/(0x1eaa+-0x1*-0x1859+-0x364f)),this['_updateOut'+'erAngle'](this['_outerCone'+'Angle']),this['_usePhysic'+'alUnits']=void(-0x2101+-0x15f1+0x36f2),this['_shadowMap']=null,this['_shadowRen'+'derParams']=[],this['_shadowCam'+'eraParams']=[],this['shadowDist'+'ance']=0x146a+0x3f*-0x85+-0x67*-0x1f,this['_shadowRes'+'olution']=-0xd04+-0x236b+0x346f,this['_shadowBia'+'s']=-(-0x2e3*0x3+-0x517+-0x58*-0x28+0.0005),this['_shadowInt'+'ensity']=0x1c6+-0xf1*0x29+0x24d4,this['_normalOff'+'setBias']=-0x1*-0x19cf+0x4d9+-0x9*0x368,this['shadowUpda'+'teMode']=lm,this['shadowUpda'+'teOverride'+'s']=null,this['_isVsm']=!(-0x3*-0x26f+0x5b*0x2f+-0x1801),this['_isPcf']=!(-0x24b5+0x5*0x5a+0x22f3),this['_softShado'+'wParams']=new Float32Array(-0x1*-0x1630+0x2*0xce0+-0x2fec),this['shadowSamp'+'les']=0xc93*-0x1+-0xac3+0x1766,this['shadowBloc'+'kerSamples']=-0x1fc7+-0x2*-0x112e+-0x285*0x1,this['penumbraSi'+'ze']=0x26d6+-0x190b*0x1+0x2c2*-0x5,this['penumbraFa'+'lloff']=-0x157f+-0x9fb+0x1f7b,this['_cookieMat'+'rix']=null,this['_atlasView'+'port']=null,this['atlasViewp'+'ortAllocat'+'ed']=!(-0x5*-0x28f+0xa6a+-0x1734),this['atlasVersi'+'on']=-0x1*0x1138+0x1f40+0x8*-0x1c1,this['atlasSlotI'+'ndex']=0x54c*-0x6+-0x7c5+-0xe1*-0x2d,this['atlasSlotU'+'pdated']=!(-0x327*0x5+-0x35*-0x8d+0x7*-0x1eb),this['_node']=null,this['_renderDat'+'a']=[],this['visibleThi'+'sFrame']=!(0x2469+-0x5bd*0x3+0x121*-0x11),this['maxScreenS'+'ize']=0x2b3*-0xc+0x1489+0xbdb,this['_updateSha'+'dowBias']());}['destroy'](){var _0xe0e1ae;(_0xe0e1ae=this['_evtDevice'+'Restored'])==null||_0xe0e1ae['off'](),this['_evtDevice'+'Restored']=null,this['_destroySh'+'adowMap'](),this['releaseRen'+'derData'](),this['_renderDat'+'a']=null;}['onDeviceRe'+'stored'](){this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=xr);}['releaseRen'+'derData'](){if(this['_renderDat'+'a']){for(let _0x1498ba=-0x55b*-0x7+0x4*-0xf3+-0x19*0x159;_0x1498ba<this['_renderDat'+'a']['length'];_0x1498ba++)this['_renderDat'+'a'][_0x1498ba]['destroy']();this['_renderDat'+'a']['length']=0x1*0xc5f+0x32*0x80+-0x255f;}}['addLayer'](_0x258c65){this['layers']['add'](_0x258c65);}['removeLaye'+'r'](_0x181407){this['layers']['delete'](_0x181407);}set['shadowSamp'+'les'](_0x188cd1){this['_softShado'+'wParams'][-0x7a*0x3e+-0x7a4+0x2530]=_0x188cd1;}get['shadowSamp'+'les'](){return this['_softShado'+'wParams'][-0x264+-0x15*-0x6a+-0x64e];}set['shadowBloc'+'kerSamples'](_0x3b299b){this['_softShado'+'wParams'][0x68e*0x4+0x25*-0x43+-0x1088]=_0x3b299b;}get['shadowBloc'+'kerSamples'](){return this['_softShado'+'wParams'][0x22be+0x1*-0x210d+-0x30*0x9];}set['shadowBias'](_0x2fb0a4){this['_shadowBia'+'s']!==_0x2fb0a4&&(this['_shadowBia'+'s']=_0x2fb0a4,this['_updateSha'+'dowBias']());}get['shadowBias'](){return this['_shadowBia'+'s'];}set['numCascade'+'s'](_0x250b73){(!this['cascades']||this['numCascade'+'s']!==_0x250b73)&&(this['cascades']=lA[_0x250b73-(-0x1c7f+-0x9f+0xd5*0x23)],this['_shadowMat'+'rixPalette']=new Float32Array(0x1bcb+0x2*0xe09+-0x379d),this['_shadowCas'+'cadeDistan'+'ces']=new Float32Array(0x443+0xad1+0x10*-0xf1),this['_destroySh'+'adowMap'](),this['updateKey']());}get['numCascade'+'s'](){return this['cascades']['length'];}set['cascadeBle'+'nd'](_0x29c44c){this['_cascadeBl'+'end']!==_0x29c44c&&(this['_cascadeBl'+'end']=_0x29c44c,this['updateKey']());}get['cascadeBle'+'nd'](){return this['_cascadeBl'+'end'];}set['shadowMap'](_0x47d331){this['_shadowMap']!==_0x47d331&&(this['_destroySh'+'adowMap'](),this['_shadowMap']=_0x47d331);}get['shadowMap'](){return this['_shadowMap'];}set['mask'](_0x146409){this['_mask']!==_0x146409&&(this['_mask']=_0x146409,this['updateKey'](),this['updateClus'+'teredFlags']());}get['mask'](){return this['_mask'];}get['numShadowF'+'aces'](){const _0x32baa1=this['_type'];return _0x32baa1===ve?this['numCascade'+'s']:_0x32baa1===Ke?0xd5*0x14+0x427*-0x1+-0xc77:0x260d+-0x4*0x6aa+-0x24*0x51;}set['type'](_0x5a24a6){if(this['_type']===_0x5a24a6)return;this['_type']=_0x5a24a6,this['_destroySh'+'adowMap'](),this['_updateSha'+'dowBias'](),this['updateKey'](),this['updateClus'+'teredFlags']();const _0x1b77cf=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowUpda'+'teOverride'+'s']=null,this['shadowType']=_0x1b77cf;}get['type'](){return this['_type'];}set['shape'](_0x177376){if(this['_shape']===_0x177376)return;this['_shape']=_0x177376,this['_destroySh'+'adowMap'](),this['updateKey'](),this['updateClus'+'teredFlags']();const _0x166b58=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowType']=_0x166b58;}get['shape'](){return this['_shape'];}set['usePhysica'+'lUnits'](_0x426ad5){this['_usePhysic'+'alUnits']!==_0x426ad5&&(this['_usePhysic'+'alUnits']=_0x426ad5,this['_updateLin'+'earColor']());}get['usePhysica'+'lUnits'](){return this['_usePhysic'+'alUnits'];}set['shadowType'](_0x32308f){if(this['_shadowTyp'+'e']===_0x32308f)return;let _0x583329=qi['get'](_0x32308f);_0x583329||(_0x32308f=$s);const _0x96ca14=this['device'];_0x32308f===al&&!_0x96ca14['textureFlo'+'atRenderab'+'le']&&!_0x96ca14['textureHal'+'fFloatRend'+'erable']&&(_0x32308f=$s),this['_type']===Ke&&_0x32308f!==tv&&_0x32308f!==$s&&_0x32308f!==sv&&_0x32308f!==iv&&_0x32308f!==al&&(_0x32308f=$s),_0x32308f===Jp&&(!_0x96ca14['textureFlo'+'atRenderab'+'le']||!_0x96ca14['textureFlo'+'atFilterab'+'le'])&&(_0x32308f=au),_0x32308f===au&&!_0x96ca14['textureHal'+'fFloatRend'+'erable']&&(_0x32308f=$s),_0x583329=qi['get'](_0x32308f),this['_isVsm']=(_0x583329==null?void(0x223*0x3+0xcbb+-0x1324):_0x583329['vsm'])??!(0x1c8b*0x1+0x1*0xe77+-0x6d*0x65),this['_isPcf']=(_0x583329==null?void(-0x12ea*0x1+-0x95*-0x35+-0xbef):_0x583329['pcf'])??!(-0x23e2+0x246e+0x1*-0x8b),this['_shadowTyp'+'e']=_0x32308f,this['_destroySh'+'adowMap'](),this['updateKey']();}get['shadowType'](){return this['_shadowTyp'+'e'];}set['enabled'](_0x497ec0){this['_enabled']!==_0x497ec0&&(this['_enabled']=_0x497ec0,this['layersDirt'+'y']());}get['enabled'](){return this['_enabled'];}set['castShadow'+'s'](_0x317c6f){this['_castShado'+'ws']!==_0x317c6f&&(this['_castShado'+'ws']=_0x317c6f,this['_destroySh'+'adowMap'](),this['layersDirt'+'y'](),this['updateKey']());}get['castShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']!==fi&&this['_mask']!==0x15b*-0x11+-0x21*-0xe5+-0x67a;}set['shadowInte'+'nsity'](_0x41b6a5){this['_shadowInt'+'ensity']!==_0x41b6a5&&(this['_shadowInt'+'ensity']=_0x41b6a5,this['updateKey']());}get['shadowInte'+'nsity'](){return this['_shadowInt'+'ensity'];}get['bakeShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']===fi;}set['shadowReso'+'lution'](_0x21d257){this['_shadowRes'+'olution']!==_0x21d257&&(this['_type']===Ke?_0x21d257=Math['min'](_0x21d257,this['device']['maxCubeMap'+'Size']):_0x21d257=Math['min'](_0x21d257,this['device']['maxTexture'+'Size']),this['_shadowRes'+'olution']=_0x21d257,this['_destroySh'+'adowMap']());}get['shadowReso'+'lution'](){return this['_shadowRes'+'olution'];}set['vsmBlurSiz'+'e'](_0x3675d0){this['_vsmBlurSi'+'ze']!==_0x3675d0&&(_0x3675d0%(-0x4*0x119+-0x1*0x2d4+-0x32*-0x25)===0x10d*0x21+0x653*-0x2+-0x1*0x1607&&_0x3675d0++,this['_vsmBlurSi'+'ze']=_0x3675d0);}get['vsmBlurSiz'+'e'](){return this['_vsmBlurSi'+'ze'];}set['normalOffs'+'etBias'](_0x3933e5){if(this['_normalOff'+'setBias']!==_0x3933e5){const _0x74e10d=!this['_normalOff'+'setBias']&&_0x3933e5||this['_normalOff'+'setBias']&&!_0x3933e5;this['_normalOff'+'setBias']=_0x3933e5,_0x74e10d&&this['updateKey']();}}get['normalOffs'+'etBias'](){return this['_normalOff'+'setBias'];}set['falloffMod'+'e'](_0x321574){this['_falloffMo'+'de']!==_0x321574&&(this['_falloffMo'+'de']=_0x321574,this['updateKey'](),this['updateClus'+'teredFlags']());}get['falloffMod'+'e'](){return this['_falloffMo'+'de'];}set['innerConeA'+'ngle'](_0xbd511c){this['_innerCone'+'Angle']!==_0xbd511c&&(this['_innerCone'+'Angle']=_0xbd511c,this['_innerCone'+'AngleCos']=Math['cos'](_0xbd511c*Math['PI']/(0x3e*0x19+0xe96+0x13f0*-0x1)),this['updateClus'+'terData'](!(-0x14f*-0x1c+-0xf6f*0x1+-0x1534),!(-0x1775+-0x5d6*-0x2+0xbc9)),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['innerConeA'+'ngle'](){return this['_innerCone'+'Angle'];}set['outerConeA'+'ngle'](_0x1e4b1f){this['_outerCone'+'Angle']!==_0x1e4b1f&&(this['_outerCone'+'Angle']=_0x1e4b1f,this['_updateOut'+'erAngle'](_0x1e4b1f),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['outerConeA'+'ngle'](){return this['_outerCone'+'Angle'];}set['penumbraSi'+'ze'](_0x46f650){this['_penumbraS'+'ize']=_0x46f650,this['_softShado'+'wParams'][-0x11d+0x1*-0x472+0x3*0x1db]=_0x46f650;}get['penumbraSi'+'ze'](){return this['_penumbraS'+'ize'];}set['penumbraFa'+'lloff'](_0x4684f9){this['_softShado'+'wParams'][-0x1dad+-0x17cc+0x357c]=_0x4684f9;}get['penumbraFa'+'lloff'](){return this['_softShado'+'wParams'][-0x19*0xc7+0x1*-0xdc5+0x2137];}['_updateOut'+'erAngle'](_0x4631d4){const _0x580854=_0x4631d4*Math['PI']/(-0x8e*0x2+-0x9f7+-0xc9*-0xf);this['_outerCone'+'AngleCos']=Math['cos'](_0x580854),this['_outerCone'+'AngleSin']=Math['sin'](_0x580854),this['updateClus'+'terData'](!(0x1593+0x1f7*0xd+-0x2f1d),!(0x3b*-0x3c+-0x1d7e+0x5*0x8aa));}set['intensity'](_0x58d47a){this['_intensity']!==_0x58d47a&&(this['_intensity']=_0x58d47a,this['_updateLin'+'earColor']());}get['intensity'](){return this['_intensity'];}set['affectSpec'+'ularity'](_0x20a25f){this['_type']===ve&&(this['_affectSpe'+'cularity']=_0x20a25f,this['updateKey']());}get['affectSpec'+'ularity'](){return this['_affectSpe'+'cularity'];}set['luminance'](_0x30a411){this['_luminance']!==_0x30a411&&(this['_luminance']=_0x30a411,this['_updateLin'+'earColor']());}get['luminance'](){return this['_luminance'];}get['cookieMatr'+'ix'](){return this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new te()),this['_cookieMat'+'rix'];}get['atlasViewp'+'ort'](){return this['_atlasView'+'port']||(this['_atlasView'+'port']=new re(-0x221*0x1+-0x194b*-0x1+0x4a2*-0x5,0x8af+0x451+-0xd00,0x1*-0x1105+-0x9*-0x29d+-0x67f,-0x1*0x873+-0x223b+-0x7*-0x619)),this['_atlasView'+'port'];}set['cookie'](_0x4eee67){this['_cookie']!==_0x4eee67&&(this['_cookie']=_0x4eee67,this['updateKey']());}get['cookie'](){return this['_cookie'];}set['cookieFall'+'off'](_0x5c3af5){this['_cookieFal'+'loff']!==_0x5c3af5&&(this['_cookieFal'+'loff']=_0x5c3af5,this['updateKey']());}get['cookieFall'+'off'](){return this['_cookieFal'+'loff'];}set['cookieChan'+'nel'](_0x33c571){if(this['_cookieCha'+'nnel']!==_0x33c571){if(_0x33c571['length']<0x1f08+0x1*-0x71c+0x17e9*-0x1){const _0x4fa00d=_0x33c571['charAt'](_0x33c571['length']-(0x209*0x7+0x18b1+-0x26ef)),_0x17ffc0=0x1*-0xfee+-0x2359+0x334a-_0x33c571['length'];for(let _0x19fbd5=-0x19b5*0x1+0x45d+0x1558;_0x19fbd5<_0x17ffc0;_0x19fbd5++)_0x33c571+=_0x4fa00d;}this['_cookieCha'+'nnel']=_0x33c571,this['updateKey'](),this['updateClus'+'teredFlags']();}}get['cookieChan'+'nel'](){return this['_cookieCha'+'nnel'];}set['cookieTran'+'sform'](_0x4b1760){this['_cookieTra'+'nsform']!==_0x4b1760&&(this['_cookieTra'+'nsform']=_0x4b1760,this['_cookieTra'+'nsformSet']=!!_0x4b1760,_0x4b1760&&!this['_cookieOff'+'set']&&(this['cookieOffs'+'et']=new J(),this['_cookieOff'+'setSet']=!(-0x16ec+0x44f*0x4+0x5b1)),this['updateKey']());}get['cookieTran'+'sform'](){return this['_cookieTra'+'nsform'];}set['cookieOffs'+'et'](_0x5c47e0){if(this['_cookieOff'+'set']===_0x5c47e0)return;!!(this['_cookieTra'+'nsformSet']||_0x5c47e0)&&!_0x5c47e0&&this['_cookieOff'+'set']?this['_cookieOff'+'set']['set'](0x1691*0x1+0x171b+-0x2dac,0x1*-0x58f+-0xefd+0x5*0x41c):this['_cookieOff'+'set']=_0x5c47e0,this['_cookieOff'+'setSet']=!!_0x5c47e0,_0x5c47e0&&!this['_cookieTra'+'nsform']&&(this['cookieTran'+'sform']=new re(0x328+-0x1658+0x1331,-0x205a+-0xa*0xad+-0x271d*-0x1,0x1e2b*-0x1+-0x15d7*-0x1+-0x29*-0x34,-0x581*-0x6+-0xecf+-0x1237),this['_cookieTra'+'nsformSet']=!(-0x1e9+-0x3*0x20d+0x811)),this['updateKey']();}get['cookieOffs'+'et'](){return this['_cookieOff'+'set'];}['beginFrame'](){this['visibleThi'+'sFrame']=this['_type']===ve&&this['_enabled'],this['maxScreenS'+'ize']=-0x1*-0x1a6b+-0x7cd*0x5+0x1*0xc96,this['atlasViewp'+'ortAllocat'+'ed']=!(-0x1cd5+0x1*-0x19b+0x1e71),this['atlasSlotU'+'pdated']=!(-0x15f7*-0x1+0x26c4+0x1*-0x3cba);}['_destroySh'+'adowMap'](){if(this['releaseRen'+'derData'](),this['_shadowMap']&&(this['_shadowMap']['cached']||this['_shadowMap']['destroy'](),this['_shadowMap']=null),this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=xr),this['shadowUpda'+'teOverride'+'s']){for(let _0x49e0d5=0xfe6+-0xfb*0x12+-0x1*-0x1c0;_0x49e0d5<this['shadowUpda'+'teOverride'+'s']['length'];_0x49e0d5++)this['shadowUpda'+'teOverride'+'s'][_0x49e0d5]===Ps&&(this['shadowUpda'+'teOverride'+'s'][_0x49e0d5]=xr);}}['getRenderD'+'ata'](_0x4b95ad,_0x4601c3){for(let _0x4509c1=-0x2*-0x1256+0x22*-0xc+-0x118a*0x2;_0x4509c1<this['_renderDat'+'a']['length'];_0x4509c1++){const _0x35848b=this['_renderDat'+'a'][_0x4509c1];if(_0x35848b['camera']===_0x4b95ad&&_0x35848b['face']===_0x4601c3)return _0x35848b;}const _0x37d8d3=new dA(_0x4b95ad,_0x4601c3,this);return this['_renderDat'+'a']['push'](_0x37d8d3),_0x37d8d3;}['clone'](){const _0x2e7579=new pl(this['device'],this['clusteredL'+'ighting']);return _0x2e7579['type']=this['_type'],_0x2e7579['setColor'](this['_color']),_0x2e7579['intensity']=this['_intensity'],_0x2e7579['affectSpec'+'ularity']=this['_affectSpe'+'cularity'],_0x2e7579['luminance']=this['_luminance'],_0x2e7579['castShadow'+'s']=this['castShadow'+'s'],_0x2e7579['_enabled']=this['_enabled'],_0x2e7579['attenuatio'+'nStart']=this['attenuatio'+'nStart'],_0x2e7579['attenuatio'+'nEnd']=this['attenuatio'+'nEnd'],_0x2e7579['falloffMod'+'e']=this['_falloffMo'+'de'],_0x2e7579['shadowType']=this['_shadowTyp'+'e'],_0x2e7579['vsmBlurSiz'+'e']=this['_vsmBlurSi'+'ze'],_0x2e7579['vsmBlurMod'+'e']=this['vsmBlurMod'+'e'],_0x2e7579['vsmBias']=this['vsmBias'],_0x2e7579['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x2e7579['mask']=this['mask'],this['shadowUpda'+'teOverride'+'s']&&(_0x2e7579['shadowUpda'+'teOverride'+'s']=this['shadowUpda'+'teOverride'+'s']['slice']()),_0x2e7579['innerConeA'+'ngle']=this['_innerCone'+'Angle'],_0x2e7579['outerConeA'+'ngle']=this['_outerCone'+'Angle'],_0x2e7579['numCascade'+'s']=this['numCascade'+'s'],_0x2e7579['cascadeDis'+'tribution']=this['cascadeDis'+'tribution'],_0x2e7579['cascadeBle'+'nd']=this['_cascadeBl'+'end'],_0x2e7579['shape']=this['_shape'],_0x2e7579['shadowDept'+'hState']['copy'](this['shadowDept'+'hState']),_0x2e7579['shadowBias']=this['shadowBias'],_0x2e7579['normalOffs'+'etBias']=this['_normalOff'+'setBias'],_0x2e7579['shadowReso'+'lution']=this['_shadowRes'+'olution'],_0x2e7579['shadowDist'+'ance']=this['shadowDist'+'ance'],_0x2e7579['shadowInte'+'nsity']=this['shadowInte'+'nsity'],_0x2e7579['shadowSamp'+'les']=this['shadowSamp'+'les'],_0x2e7579['shadowBloc'+'kerSamples']=this['shadowBloc'+'kerSamples'],_0x2e7579['penumbraSi'+'ze']=this['penumbraSi'+'ze'],_0x2e7579['penumbraFa'+'lloff']=this['penumbraFa'+'lloff'],_0x2e7579;}static['getLightUn'+'itConversi'+'on'](_0x15a217,_0x713bb4=Math['PI']/(-0x264d+0x13a3*-0x1+-0x39f4*-0x1),_0x2de251=0x1794+-0xea6+-0x8ee){switch(_0x15a217){case Ze:{const _0x5c08dc=Math['cos'](_0x713bb4),_0x686849=Math['cos'](_0x2de251);return(0x1a24+0x15a3+-0x2fc5*0x1)*Math['PI']*(0x1dc2+0x771*0x2+0x27*-0x125-_0x686849+(_0x686849-_0x5c08dc)/(-0x1b19+0x33*-0xbb+0x405c));}case Ke:return(0x1*0x2267+-0x1*0xf47+-0x131c)*Math['PI'];case ve:return 0x1f25+-0x215f+0x23b;}}['_getUnifor'+'mBiasValue'+'s'](_0x35e751){const _0x14c4b1=_0x35e751['shadowCame'+'ra']['_farClip'];switch(this['_type']){case Ke:wi['bias']=this['shadowBias'],wi['normalBias']=this['_normalOff'+'setBias'];break;case Ze:this['_isVsm']?wi['bias']=-(-0x87b+0x5a9+0x2d2+0.00001)*(-0x1c4f+-0x2471+0x567*0xc):wi['bias']=this['shadowBias']*(-0x74f+-0x1d17+-0x142*-0x1d),wi['normalBias']=this['_isVsm']?this['vsmBias']/(this['attenuatio'+'nEnd']/(0x8ef+-0x1a30+0x1148)):this['_normalOff'+'setBias'];break;case ve:this['_isVsm']?wi['bias']=-(-0x96d+-0xa*0x67+-0x1*-0xd73+0.00001)*(-0x28f*-0x1+-0x20af+-0x4*-0x78d):wi['bias']=this['shadowBias']/_0x14c4b1*(0xb*-0x312+0x1587+0xca3),wi['normalBias']=this['_isVsm']?this['vsmBias']/(_0x14c4b1/(-0xe3d+-0x2556+0x339a)):this['_normalOff'+'setBias'];break;}return wi;}['getColor'](){return this['_color'];}['getBoundin'+'gSphere'](_0x3337aa){if(this['_type']===Ze){const _0x32ba0b=this['attenuatio'+'nEnd'],_0x5eddb6=this['_outerCone'+'Angle'],_0x68e7cf=this['_outerCone'+'AngleCos'],_0x2a16ef=this['_node'];dc['copy'](_0x2a16ef['up']),_0x5eddb6>0x217b*0x1+-0x22f*0x3+-0x1ac1*0x1?(_0x3337aa['radius']=_0x32ba0b*this['_outerCone'+'AngleSin'],dc['mulScalar'](-_0x32ba0b*_0x68e7cf)):(_0x3337aa['radius']=_0x32ba0b/((0x1e6*-0x12+0x26c5+0x19*-0x2f)*_0x68e7cf),dc['mulScalar'](-_0x3337aa['radius'])),_0x3337aa['center']['add2'](_0x2a16ef['getPositio'+'n'](),dc);}else this['_type']===Ke&&(_0x3337aa['center']=this['_node']['getPositio'+'n'](),_0x3337aa['radius']=this['attenuatio'+'nEnd']);}['getBoundin'+'gBox'](_0x33af0b){if(this['_type']===Ze){const _0x26af1c=this['attenuatio'+'nEnd'],_0x5f2204=this['_outerCone'+'Angle'],_0x49f0bf=this['_node'],_0xc95d7=Math['abs'](Math['sin'](_0x5f2204*Y['DEG_TO_RAD'])*_0x26af1c);_0x33af0b['center']['set'](0x198a+0x6*-0x16+-0x1906,-_0x26af1c*(0x18be+0x2*-0x321+-0x152*0xe+0.5),-0x5*0x523+-0xd*-0x22f+-0x2b4),_0x33af0b['halfExtent'+'s']['set'](_0xc95d7,_0x26af1c*(-0x2*0x1ab+-0x240d+0x2763+0.5),_0xc95d7),_0x33af0b['setFromTra'+'nsformedAa'+'bb'](_0x33af0b,_0x49f0bf['getWorldTr'+'ansform'](),!(0x2488+0x2c*-0xcd+0x53*-0x4));}else this['_type']===Ke&&(_0x33af0b['center']['copy'](this['_node']['getPositio'+'n']()),_0x33af0b['halfExtent'+'s']['set'](this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd']));}['_updateSha'+'dowBias'](){if(this['_type']===Ke&&!this['clusteredL'+'ighting'])this['shadowDept'+'hState']['depthBias']=-0x2a4+0x15cb*-0x1+0x1a1*0xf,this['shadowDept'+'hState']['depthBiasS'+'lope']=0x1998*0x1+-0x630+-0x1368;else{const _0xd69312=this['shadowBias']*-(0xa3c+-0x239+-0x41b);this['shadowDept'+'hState']['depthBias']=_0xd69312,this['shadowDept'+'hState']['depthBiasS'+'lope']=_0xd69312;}}['_updateLin'+'earColor'](){let _0x1af5fe=this['_intensity'];this['_usePhysic'+'alUnits']&&(_0x1af5fe=this['_luminance']/pl['getLightUn'+'itConversi'+'on'](this['_type'],this['_outerCone'+'Angle']*Y['DEG_TO_RAD'],this['_innerCone'+'Angle']*Y['DEG_TO_RAD']));const _0x1db4f4=this['_color'],_0x3d0563=this['_colorLine'+'ar'];_0x1af5fe>=-0x1*0x1f87+0x13bf+0x1*0xbc9?ho['linear'](_0x1db4f4)['mulScalar'](_0x1af5fe):ho['copy'](_0x1db4f4)['mulScalar'](_0x1af5fe)['linear'](),_0x3d0563[-0xe2*-0x12+0x7*-0x45a+0x2ea*0x5]=ho['r'],_0x3d0563[-0x1*0x19f6+0xa58*-0x1+0xb*0x34d]=ho['g'],_0x3d0563[0xea5+-0x263*0x1+-0xe*0xe0]=ho['b'],this['updateClus'+'terData'](!(0x11c5+0x2679+0x2*-0x1c1f));}['setColor'](){arguments['length']===-0xec9+0x1814+-0x94a?this['_color']['set'](arguments[-0xa95+0x8d2+0x1c3]['r'],arguments[-0x95c*0x2+0x1*0x1268+0x5*0x10]['g'],arguments[-0x5*0x355+-0x2649+0xd*0x43a]['b']):arguments['length']===-0x49e*0x2+-0x9d*-0x1d+-0x88a*0x1&&this['_color']['set'](arguments[0x1*0x4d4+0x2*-0x9d3+0xed2],arguments[-0x1*-0x1f3b+0x1*0x883+-0x27bd],arguments[0x198f+-0x1*-0xc9d+-0x262a]),this['_updateLin'+'earColor']();}['layersDirt'+'y'](){this['layers']['forEach'](_0xbc11b9=>{_0xbc11b9['hasLight'](this)&&_0xbc11b9['markLights'+'Dirty']();});}['updateKey'](){let _0x4d3284=this['_type']<<0x1*-0x1c3+0x1*-0x1a2+-0x382*-0x1|this['_shadowTyp'+'e']<<-0x4ac+-0x1*-0x982+-0x4bd*0x1|this['_falloffMo'+'de']<<0xe9d*0x2+0x2645+-0x4368|(this['_normalOff'+'setBias']!==0x4f+-0xf9a+0xf4b?0x1*-0xdf4+0x1917+-0xb22:0x230c+0xb*0x1c9+-0x36af)<<0x1fd6+0x1209+0x5*-0x9f5|(this['_cookie']?-0x2621*0x1+-0x267d+0x4c9f:-0x1dad+-0x1*0x14f1+0x49a*0xb)<<0x24b6*-0x1+-0x13*-0x18a+0x78d|(this['_cookieFal'+'loff']?0xd*-0x17a+0x7c7+-0x2db*-0x4:-0xc*-0xa9+-0x5*-0x389+-0x1999)<<0x1eba+0x7ac*-0x2+-0xf4e|pf[this['_cookieCha'+'nnel']['charAt'](-0x25d9+0xd4e*0x1+0x188b*0x1)]<<-0x1*0x1119+0x19e2+-0x8b7|(this['_cookieTra'+'nsform']?0x27b*-0xd+-0x6ca*0x4+-0x4*-0xeda:0x3*0x5b+0x453+-0x564)<<-0xc61+0x4a7*-0x5+0x1*0x23b0|this['_shape']<<-0x628*-0x5+-0xfa9+-0xf15|(this['numCascade'+'s']>-0xf*0x10d+0x5f+-0x2*-0x7b2?0x11b*-0x19+-0x1939+-0x1*-0x34dd:0x4c7+-0x50b*-0x1+0x9d2*-0x1)<<-0x1*-0xe27+0x21*-0xa4+0x706|(this['_cascadeBl'+'end']>-0x1bf7+-0x2df+0x1ed6?0x1*0x1f9+-0x1085*0x1+0xe8d:-0x20e7+0x1fd5+0x112)<<-0x1*0x210d+0x7*0x67+0x1e44|(this['affectSpec'+'ularity']?-0x43f*-0x9+0x18b7+-0x3eed:0x105*0x3+-0x8d5+0x5c6)<<-0x2681+0x1b*0xba+0x12ea|this['mask']<<-0xdea+-0x1*0x175+0x7*0x233|(this['_castShado'+'ws']?-0x21b8+0x1c54+0x565:0xa16*0x1+-0x1aca+0x10b4)<<-0x32e*-0x4+-0x1*-0x10a2+-0x1d57;this['_cookieCha'+'nnel']['length']===-0x1*-0x14f3+-0x95*0x39+0xc3d&&(_0x4d3284|=pf[this['_cookieCha'+'nnel']['charAt'](0x107a+-0x22f+0x1*-0xe4a)]<<-0x35*0xaa+0x1225+0xd*0x151,_0x4d3284|=pf[this['_cookieCha'+'nnel']['charAt'](-0x1016+0x6cc+0x11*0x8c)]<<-0x2*-0xb51+0xbe1+-0x2275),_0x4d3284!==this['key']&&this['layersDirt'+'y'](),this['key']=_0x4d3284;}['updateClus'+'teredFlags'](){const _0x1eee05=!!(this['mask']&Ss),_0x1af259=!!(this['mask']&di);this['clusteredF'+'lags']=(this['type']===Ze?0x22b0+-0x8*-0x260+-0x35af:-0x1*0x25c1+0x2257+0x36a)<<-0x19b2+-0xc2*-0x16+0x924|(this['_shape']&-0x174c+-0x1d41*0x1+-0x8*-0x692)<<0x1*-0x19b5+0x7f9+-0x8ec*-0x2|(this['_falloffMo'+'de']&-0x25b*0x5+0x2*-0xa0f+0x1fe6)<<-0x820+0x2305+-0x1*0x1aca|(cA[this['_cookieCha'+'nnel']]??0x27f+-0x22a*-0xb+-0x1a4d)<<0x13cf*-0x1+-0x25c+-0x32e*-0x7|(_0x1eee05?-0x2589+0x7d5+0x27*0xc3:-0x1576+-0x40f+0x1985)<<-0x192a+0x645+-0x71*-0x2b|(_0x1af259?-0x1ace+0x5*0x48d+-0x1*-0x40e:0x119*-0x5+0x116*0x15+-0xd*0x155)<<0x23eb*-0x1+0x6c*-0x4c+0x84*0x84;}['getCluster'+'edFlags'](_0x58ed97,_0x141468){return this['clusteredF'+'lags']|((_0x58ed97?Math['floor'](this['shadowInte'+'nsity']*(0x115*-0x3+-0x4*-0x584+0x11d2*-0x1)):-0xa4*0x8+-0xf8d*-0x1+-0xa6d*0x1)&0x1aa8*-0x1+-0x463+0x6*0x557)<<0x6*-0x13d+0x42*-0x8f+0x2c4c|((_0x141468?Math['floor'](this['cookieInte'+'nsity']*(-0x1a33+-0x1e09+0x393b)):-0x1354+-0xc1*-0x25+-0x891)&0x1*-0x1fc3+0xad*0x1f+0xbcf)<<-0x4bc+-0x186a+0x5*0x5d6;}['updateClus'+'terData'](_0x1353e6,_0x5ef663){const {clusteredData16:_0x40520f}=this,_0x28c633=Mn['float2Half'];_0x1353e6&&(_0x40520f[-0x1a40+-0x37e+0x1dbe]=_0x28c633(Y['clamp'](this['_colorLine'+'ar'][-0x9c*0x33+0x8*0x3be+0x49*0x4]/$c,-0x37c*-0x6+-0xa*0x1d0+-0x4*0xb2,0x8964+0x1*-0x6753+0xddcf)),_0x40520f[0x1*-0x2bd+0x2485+-0x21c7]=_0x28c633(Y['clamp'](this['_colorLine'+'ar'][0x1*-0xcac+0x1bfc+-0xf4f]/$c,0x1ebb+0x57a+-0x2435,-0x4167*-0x1+0xb451+-0x34*-0x32)),_0x40520f[-0x104e+-0x1a57+0x2aa7]=_0x28c633(Y['clamp'](this['_colorLine'+'ar'][0x43*0x24+0x2*-0x1b3+-0x604]/$c,0x24b0*-0x1+-0x1b75+0x4025,-0x88e3*-0x3+-0x6204+-0x38c5))),_0x5ef663&&(_0x40520f[-0x1515+0x1ac6+-0x1*0x5ad]=_0x28c633(this['_innerCone'+'AngleCos']),_0x40520f[0x1*-0xecf+-0x3af+0x1283]=_0x28c633(this['_outerCone'+'AngleCos']));}}class Mv{constructor(_0x1883c5,_0x1311f3,_0x41ecfc){h(this,'_areaLight'+'sEnabled',!(-0x1d25+-0x1*0x13bd+0x30e3)),h(this,'_cells',new D(0xbf9+-0x43a+-0x7b5,-0xe0+0x1d15+-0x1c32,0x1ac*0x7+-0x7*0x4af+0x151f*0x1)),h(this,'_maxLights'+'PerCell',-0x105b+0xc33*-0x2+0x29c0),h(this,'_shadowsEn'+'abled',!(-0x1798*-0x1+-0xdd4+-0xa*0xfa)),h(this,'_shadowTyp'+'e',$s),h(this,'_shadowAtl'+'asResoluti'+'on',0x17aa+-0x27*0x95+-0x1*-0x709),h(this,'_cookiesEn'+'abled',!(-0x1*0x101d+0x7f5+0x829)),h(this,'_cookieAtl'+'asResoluti'+'on',0xa8f+0x3c2*0x9+-0x1*0x2461),h(this,'debugLayer'),h(this,'atlasSplit',null),(this['_supportsA'+'reaLights']=_0x1883c5,this['_maxTextur'+'eSize']=_0x1311f3,this['_dirtyLigh'+'tsFnc']=_0x41ecfc);}['applySetti'+'ngs'](_0x1b79b9){this['shadowsEna'+'bled']=_0x1b79b9['lightingSh'+'adowsEnabl'+'ed']??this['shadowsEna'+'bled'],this['cookiesEna'+'bled']=_0x1b79b9['lightingCo'+'okiesEnabl'+'ed']??this['cookiesEna'+'bled'],this['areaLights'+'Enabled']=_0x1b79b9['lightingAr'+'eaLightsEn'+'abled']??this['areaLights'+'Enabled'],this['shadowAtla'+'sResolutio'+'n']=_0x1b79b9['lightingSh'+'adowAtlasR'+'esolution']??this['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x1b79b9['lightingCo'+'okieAtlasR'+'esolution']??this['cookieAtla'+'sResolutio'+'n'],this['maxLightsP'+'erCell']=_0x1b79b9['lightingMa'+'xLightsPer'+'Cell']??this['maxLightsP'+'erCell'],this['shadowType']=_0x1b79b9['lightingSh'+'adowType']??this['shadowType'],_0x1b79b9['lightingCe'+'lls']&&(this['cells']=new D(_0x1b79b9['lightingCe'+'lls']));}set['cells'](_0x1fec3a){this['_cells']['copy'](_0x1fec3a);}get['cells'](){return this['_cells'];}set['maxLightsP'+'erCell'](_0x52e007){this['_maxLights'+'PerCell']=Y['clamp'](_0x52e007,-0x3b3+0x1b48+-0x1794*0x1,0x1a6d+-0x9b5+0x7*-0x23f);}get['maxLightsP'+'erCell'](){return this['_maxLights'+'PerCell'];}set['cookieAtla'+'sResolutio'+'n'](_0x1b731a){this['_cookieAtl'+'asResoluti'+'on']=Y['clamp'](_0x1b731a,-0x1*-0xcb3+0x2312*0x1+0x2fa5*-0x1,this['_maxTextur'+'eSize']);}get['cookieAtla'+'sResolutio'+'n'](){return this['_cookieAtl'+'asResoluti'+'on'];}set['shadowAtla'+'sResolutio'+'n'](_0x81ec3f){this['_shadowAtl'+'asResoluti'+'on']=Y['clamp'](_0x81ec3f,0xaa*0x1a+-0xd59+0x1*-0x3cb,this['_maxTextur'+'eSize']);}get['shadowAtla'+'sResolutio'+'n'](){return this['_shadowAtl'+'asResoluti'+'on'];}set['shadowType'](_0x1c972c){this['_shadowTyp'+'e']!==_0x1c972c&&(this['_shadowTyp'+'e']=_0x1c972c,this['_dirtyLigh'+'tsFnc']());}get['shadowType'](){return this['_shadowTyp'+'e'];}set['cookiesEna'+'bled'](_0x226208){this['_cookiesEn'+'abled']!==_0x226208&&(this['_cookiesEn'+'abled']=_0x226208,this['_dirtyLigh'+'tsFnc']());}get['cookiesEna'+'bled'](){return this['_cookiesEn'+'abled'];}set['areaLights'+'Enabled'](_0x2121c6){this['_supportsA'+'reaLights']&&this['_areaLight'+'sEnabled']!==_0x2121c6&&(this['_areaLight'+'sEnabled']=_0x2121c6,this['_dirtyLigh'+'tsFnc']());}get['areaLights'+'Enabled'](){return this['_areaLight'+'sEnabled'];}set['shadowsEna'+'bled'](_0x3fb7fd){this['_shadowsEn'+'abled']!==_0x3fb7fd&&(this['_shadowsEn'+'abled']=_0x3fb7fd,this['_dirtyLigh'+'tsFnc']());}get['shadowsEna'+'bled'](){return this['_shadowsEn'+'abled'];}}class xa{constructor(_0x124c99){this['morph']=_0x124c99,_0x124c99['incRefCoun'+'t'](),this['device']=_0x124c99['device'];const _0xc475eb=_0x124c99['_targets']['length'];this['shader']=this['_createSha'+'der'](_0xc475eb),this['_weights']=[],this['_weightMap']=new Map();for(let _0x1335ad=0x1e63+-0x6fb*0x2+0x5*-0x349;_0x1335ad<_0x124c99['_targets']['length'];_0x1335ad++){const _0xb2b2c9=_0x124c99['_targets'][_0x1335ad];_0xb2b2c9['name']&&this['_weightMap']['set'](_0xb2b2c9['name'],_0x1335ad),this['setWeight'](_0x1335ad,_0xb2b2c9['defaultWei'+'ght']);}this['_shaderMor'+'phWeights']=new Float32Array(_0xc475eb),this['_shaderMor'+'phIndex']=new Uint32Array(_0xc475eb);const _0x29d103=(_0x18776b,_0xc6c4b9)=>(this[_0xc6c4b9]=_0x124c99['_createTex'+'ture'](_0x18776b,_0x124c99['_renderTex'+'tureFormat']),new gt({'colorBuffer':this[_0xc6c4b9],'depth':!(-0x1f*0x4+-0x39*0x81+0x1d36)}));_0x124c99['morphPosit'+'ions']&&(this['rtPosition'+'s']=_0x29d103('MorphRTPos','texturePos'+'itions')),_0x124c99['morphNorma'+'ls']&&(this['rtNormals']=_0x29d103('MorphRTNrm','textureNor'+'mals')),this['_texturePa'+'rams']=new Float32Array([_0x124c99['morphTextu'+'reWidth'],_0x124c99['morphTextu'+'reHeight']]);const _0x220dd6=_0x124c99['aabb']['halfExtent'+'s'];this['_aabbSize']=new Float32Array([_0x220dd6['x']*(-0x23d5*0x1+-0x1*-0x3ab+-0x1*-0x202e),_0x220dd6['y']*(-0x14b2*0x1+-0x1*-0xe53+0x221*0x3),_0x220dd6['z']*(-0x9dc*-0x3+-0x1e6e+0xde)]);const _0x5f22bc=_0x124c99['aabb']['getMin']();this['_aabbMin']=new Float32Array([_0x5f22bc['x']*(0x5*-0x44f+-0x2503*-0x1+0xf76*-0x1),_0x5f22bc['y']*(0x2698+-0x47*-0x1b+-0x23*0x151),_0x5f22bc['z']*(0x16d2+-0xc5*-0xf+-0x225b)]),this['_aabbNrmSi'+'ze']=new Float32Array([0x1c94+-0x7*0x1be+-0x1060,-0x10*-0x12e+0x329+0x1*-0x1607,0xff8+-0x246f*-0x1+-0x33*0x107]),this['_aabbNrmMi'+'n']=new Float32Array([-(-0x226d+0x5*0x676+0x220),-(0x56*0x4f+-0x7b4+0x3*-0x647),-(-0x240c+0x2*-0xe3+0x25d3)]),this['aabbSizeId']=this['device']['scope']['resolve']('aabbSize'),this['aabbMinId']=this['device']['scope']['resolve']('aabbMin'),this['morphTextu'+'reId']=this['device']['scope']['resolve']('morphTextu'+'re'),this['morphFacto'+'r']=this['device']['scope']['resolve']('morphFacto'+'r[0]'),this['morphIndex']=this['device']['scope']['resolve']('morphIndex'+'[0]'),this['countId']=this['device']['scope']['resolve']('count'),this['zeroTextur'+'es']=!(-0x3a*-0x79+-0xa29+-0x1140);}['destroy'](){var _0xf95e3f,_0x428bb7,_0x333db9,_0x2aba56;this['shader']=null;const _0x19d11d=this['morph'];_0x19d11d&&(this['morph']=null,_0x19d11d['decRefCoun'+'t'](),_0x19d11d['refCount']<0xbe7+-0x5*-0xd3+0x3*-0x557&&_0x19d11d['destroy']()),(_0xf95e3f=this['rtPosition'+'s'])==null||_0xf95e3f['destroy'](),this['rtPosition'+'s']=null,(_0x428bb7=this['texturePos'+'itions'])==null||_0x428bb7['destroy'](),this['texturePos'+'itions']=null,(_0x333db9=this['rtNormals'])==null||_0x333db9['destroy'](),this['rtNormals']=null,(_0x2aba56=this['textureNor'+'mals'])==null||_0x2aba56['destroy'](),this['textureNor'+'mals']=null;}['clone'](){return new xa(this['morph']);}['_getWeight'+'Index'](_0x5bb67f){if(typeof _0x5bb67f=='string'){const _0x41d358=this['_weightMap']['get'](_0x5bb67f);return _0x41d358===void(-0x4*-0x707+0xeed+-0x2b09)&&w['errorOnce']('Cannot\x20fin'+'d\x20morph\x20ta'+'rget\x20with\x20'+'name:\x20'+_0x5bb67f+'.'),_0x41d358;}return _0x5bb67f;}['getWeight'](_0x31edd8){const _0x2981ca=this['_getWeight'+'Index'](_0x31edd8);return this['_weights'][_0x2981ca];}['setWeight'](_0x477ab7,_0x343d76){const _0x35c42d=this['_getWeight'+'Index'](_0x477ab7);w['assert'](_0x35c42d>=-0x1*-0x1f91+-0xce1*0x1+-0x12b0&&_0x35c42d<this['morph']['_targets']['length']),this['_weights'][_0x35c42d]=_0x343d76,this['_dirty']=!(-0x8b6+-0x7de+0x1094);}['_createSha'+'der'](_0x43db3f){const _0x1451f9=new Map();_0x1451f9['set']('{MORPH_TEX'+'TURE_MAX_C'+'OUNT}',_0x43db3f),this['morph']['intRenderF'+'ormat']&&_0x1451f9['set']('MORPH_INT','');const _0x2e68f4=this['morph']['intRenderF'+'ormat']?'uvec4':'vec4';return $t['createShad'+'er'](this['device'],{'uniqueName':'TextureMor'+'phShader_'+_0x43db3f+'-'+(this['morph']['intRenderF'+'ormat']?'int':'float'),'attributes':{'vertex_position':Me},'vertexChunk':'morphVS','fragmentChunk':'morphPS','fragmentDefines':_0x1451f9,'fragmentOutputTypes':[_0x2e68f4]});}['_updateTex'+'tureRender'+'Target'](_0x3a0a80,_0x12a3b4,_0x37a8aa){const {morph:_0x23c141,device:_0x5e31f5}=this;this['setAabbUni'+'forms'](_0x37a8aa),this['morphTextu'+'reId']['setValue'](_0x37a8aa?_0x23c141['targetsTex'+'turePositi'+'ons']:_0x23c141['targetsTex'+'tureNormal'+'s']),_0x5e31f5['setBlendSt'+'ate'](pt['NOBLEND']),this['countId']['setValue'](_0x12a3b4),this['morphFacto'+'r']['setValue'](this['_shaderMor'+'phWeights']),this['morphIndex']['setValue'](this['_shaderMor'+'phIndex']),Ar(_0x5e31f5,_0x3a0a80,this['shader']);}['_updateTex'+'tureMorph'](_0x597529){const _0x100cb4=this['device'];Q['pushGpuMar'+'ker'](_0x100cb4,'MorphUpdat'+'e'),(_0x597529>-0x2424+0x8e5+0x9*0x307||!this['zeroTextur'+'es'])&&(this['rtPosition'+'s']&&this['_updateTex'+'tureRender'+'Target'](this['rtPosition'+'s'],_0x597529,!(0x11b*-0x11+-0xbc6*-0x3+-0x1087*0x1)),this['rtNormals']&&this['_updateTex'+'tureRender'+'Target'](this['rtNormals'],_0x597529,!(0xb*-0x1af+0x1e60+-0x29*0x4a)),this['zeroTextur'+'es']=_0x597529===0x1b0e+0x1*0x1a11+0x5e7*-0x9),Q['popGpuMark'+'er'](_0x100cb4);}['setAabbUni'+'forms'](_0x3871ac=!(-0x1feb+0x97e*0x4+-0x1*0x60d)){this['aabbSizeId']['setValue'](_0x3871ac?this['_aabbSize']:this['_aabbNrmSi'+'ze']),this['aabbMinId']['setValue'](_0x3871ac?this['_aabbMin']:this['_aabbNrmMi'+'n']);}['prepareRen'+'dering'](_0x9064c){this['setAabbUni'+'forms']();}['update'](){this['_dirty']=!(0x5f9*-0x2+0x2*-0xca6+-0x253f*-0x1);const _0x2a5021=this['morph']['_targets'],_0x582226=-0x1*-0x15f3+0x11*-0x101+0x271*-0x2+0.00001,_0x556ad4=this['_shaderMor'+'phWeights'],_0x46b404=this['_shaderMor'+'phIndex'];let _0x4400ec=-0x1b77+0xd97+-0x94*-0x18;for(let _0x2dd25e=0xc14+0x1616+-0x1115*0x2;_0x2dd25e<_0x2a5021['length'];_0x2dd25e++)Math['abs'](this['getWeight'](_0x2dd25e))>_0x582226&&(_0x556ad4[_0x4400ec]=this['getWeight'](_0x2dd25e),_0x46b404[_0x4400ec]=_0x2dd25e,_0x4400ec++);this['_updateTex'+'tureMorph'](_0x4400ec);}}class sr{constructor(){h(this,'graph',null),h(this,'meshInstan'+'ces',[]),h(this,'skinInstan'+'ces',[]),h(this,'morphInsta'+'nces',[]),(this['cameras']=[],this['lights']=[],this['_shadersVe'+'rsion']=-0x14a1*0x1+0x1*-0x1552+0x29f3,this['_immutable']=!(0x1*0x13f9+0x195+-0x158d));}['getGraph'](){return this['graph'];}['setGraph'](_0x1b9eb3){this['graph']=_0x1b9eb3;}['getCameras'](){return this['cameras'];}['setCameras'](_0x2dc220){this['cameras']=_0x2dc220;}['getLights'](){return this['lights'];}['setLights'](_0x3d2c72){this['lights']=_0x3d2c72;}['getMateria'+'ls'](){const _0x1a2c26=[];for(let _0x302c0a=-0x167*-0x11+0x182d+-0x4*0xc01;_0x302c0a<this['meshInstan'+'ces']['length'];_0x302c0a++){const _0x1089dc=this['meshInstan'+'ces'][_0x302c0a];_0x1a2c26['indexOf'](_0x1089dc['material'])===-(-0xddd+0x1c9c+-0xebe)&&_0x1a2c26['push'](_0x1089dc['material']);}return _0x1a2c26;}['clone'](){const _0x24bea7=[],_0x1f8280=[],_0x8859c=function(_0x4f5e6b){const _0x230b09=_0x4f5e6b['clone']();_0x24bea7['push'](_0x4f5e6b),_0x1f8280['push'](_0x230b09);for(let _0x66f78e=0x1fea+-0x2*0xdef+0x25*-0x1c;_0x66f78e<_0x4f5e6b['_children']['length'];_0x66f78e++)_0x230b09['addChild'](_0x8859c(_0x4f5e6b['_children'][_0x66f78e]));return _0x230b09;},_0x3d543f=_0x8859c(this['graph']),_0x91a1e2=[],_0x8befc4=[],_0x5e58b3=[];for(let _0x3d91a7=0x1736+-0x1*-0x15c5+-0x2cfb;_0x3d91a7<this['skinInstan'+'ces']['length'];_0x3d91a7++){const _0x426291=this['skinInstan'+'ces'][_0x3d91a7]['skin'],_0x5a5c12=new Ol(_0x426291),_0x224210=[];for(let _0x55d9f4=-0x1382+0x22fb+-0xf79;_0x55d9f4<_0x426291['boneNames']['length'];_0x55d9f4++){const _0x16df9c=_0x426291['boneNames'][_0x55d9f4],_0x5d80f7=_0x3d543f['findByName'](_0x16df9c);_0x224210['push'](_0x5d80f7);}_0x5a5c12['bones']=_0x224210,_0x8befc4['push'](_0x5a5c12);}for(let _0x589025=0x13e8+0x1842+-0x2c2a;_0x589025<this['morphInsta'+'nces']['length'];_0x589025++){const _0x40020a=this['morphInsta'+'nces'][_0x589025]['morph'],_0x198587=new xa(_0x40020a);_0x5e58b3['push'](_0x198587);}for(let _0x4f7084=0x74b*-0x1+-0x1e0f+0x255a;_0x4f7084<this['meshInstan'+'ces']['length'];_0x4f7084++){const _0x48fb00=this['meshInstan'+'ces'][_0x4f7084],_0x1497cf=_0x24bea7['indexOf'](_0x48fb00['node']),_0x4015bc=new He(_0x48fb00['mesh'],_0x48fb00['material'],_0x1f8280[_0x1497cf]);if(_0x48fb00['skinInstan'+'ce']){const _0x2b12a6=this['skinInstan'+'ces']['indexOf'](_0x48fb00['skinInstan'+'ce']);_0x4015bc['skinInstan'+'ce']=_0x8befc4[_0x2b12a6];}if(_0x48fb00['morphInsta'+'nce']){const _0x2f4021=this['morphInsta'+'nces']['indexOf'](_0x48fb00['morphInsta'+'nce']);_0x4015bc['morphInsta'+'nce']=_0x5e58b3[_0x2f4021];}_0x91a1e2['push'](_0x4015bc);}const _0x2e347c=new sr();return _0x2e347c['graph']=_0x3d543f,_0x2e347c['meshInstan'+'ces']=_0x91a1e2,_0x2e347c['skinInstan'+'ces']=_0x8befc4,_0x2e347c['morphInsta'+'nces']=_0x5e58b3,_0x2e347c['getGraph']()['syncHierar'+'chy'](),_0x2e347c;}['destroy'](){const _0x23323a=this['meshInstan'+'ces'];for(let _0x4b048e=-0x2149*0x1+0x427*0x4+-0x10ad*-0x1;_0x4b048e<_0x23323a['length'];_0x4b048e++)_0x23323a[_0x4b048e]['destroy']();this['meshInstan'+'ces']['length']=0x4be+0x1a*-0x106+-0x15de*-0x1;}['generateWi'+'reframe'](){He['_prepareRe'+'nderStyleF'+'orArray'](this['meshInstan'+'ces'],$r);}}class mm extends wd{constructor(_0x105d25,_0x47e1a6,{preferHighPrecision:_0x20da31=!(0x1e7a+0x1a03*0x1+-0x387c)}={}){super(),h(this,'_aabb'),h(this,'preferHigh'+'Precision'),(w['assert'](_0x47e1a6,'Morph\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x47e1a6);const _0x36b791=_0x47e1a6;this['preferHigh'+'Precision']=_0x20da31,w['assert'](_0x105d25['every'](_0x1724c7=>!_0x1724c7['used']),'A\x20specifie'+'d\x20target\x20h'+'as\x20already'+'\x20been\x20used'+'\x20to\x20create'+'\x20a\x20Morph,\x20'+'use\x20its\x20cl'+'one\x20instea'+'d.'),this['_targets']=_0x105d25['slice']();const _0x55b69d=_0x36b791['textureHal'+'fFloatRend'+'erable']?nt:void(-0x77b*0x5+0x1502+-0x1065*-0x1),_0x1c4389=_0x36b791['textureFlo'+'atRenderab'+'le']?Xt:void(-0x25b2+-0x6+-0x12dc*-0x2);this['_renderTex'+'tureFormat']=this['preferHigh'+'Precision']?_0x1c4389??_0x55b69d:_0x55b69d??_0x1c4389,this['_renderTex'+'tureFormat']=this['_renderTex'+'tureFormat']??nd,this['intRenderF'+'ormat']=dn(this['_renderTex'+'tureFormat']),this['_textureFo'+'rmat']=this['preferHigh'+'Precision']?Xt:nt,this['_init'](),this['_updateMor'+'phFlags']();}['destroy'](){var _0x53b924,_0x1d5d37,_0x441e19;(_0x53b924=this['vertexBuff'+'erIds'])==null||_0x53b924['destroy'](),this['vertexBuff'+'erIds']=null,(_0x1d5d37=this['targetsTex'+'turePositi'+'ons'])==null||_0x1d5d37['destroy'](),this['targetsTex'+'turePositi'+'ons']=null,(_0x441e19=this['targetsTex'+'tureNormal'+'s'])==null||_0x441e19['destroy'](),this['targetsTex'+'tureNormal'+'s']=null;}get['aabb'](){if(!this['_aabb']){const _0x44942b=new D(),_0x300518=new D();for(let _0x190826=-0x1a*-0x11f+0x3*0xc7+-0x1*0x1f7b;_0x190826<this['_targets']['length'];_0x190826++){const _0x166f50=this['_targets'][_0x190826]['aabb'];_0x44942b['min'](_0x166f50['getMin']()),_0x300518['max'](_0x166f50['getMax']());}this['_aabb']=new De(),this['_aabb']['setMinMax'](_0x44942b,_0x300518);}return this['_aabb'];}get['morphPosit'+'ions'](){return this['_morphPosi'+'tions'];}get['morphNorma'+'ls'](){return this['_morphNorm'+'als'];}['_init'](){this['_initTextu'+'reBased']();for(let _0x26f5fe=0x9f*-0x21+0x89+0x13f6;_0x26f5fe<this['_targets']['length'];_0x26f5fe++)this['_targets'][_0x26f5fe]['_postInit']();}['_findSpars'+'eSet'](_0x2b4ac2,_0x569890,_0x5c0fe0){let _0x11a81d=-0x11a1*-0x1+0xd0*0xd+0x4*-0x70c;const _0x328782=_0x2b4ac2[0x156d+-0xd*-0x41+-0x18ba]['length'];for(let _0x26739c=0x1c34+0x1d74+-0x39a8;_0x26739c<_0x328782;_0x26739c+=0x1*-0x189a+0xb92+0xd0b){let _0x28d4dc=!(-0x1445+0x2071+-0xc2b);for(let _0x28b495=0x100a+-0x59*-0x22+-0x1bdc*0x1;_0x28b495<_0x2b4ac2['length'];_0x28b495++){const _0x3da5c4=_0x2b4ac2[_0x28b495];if(_0x3da5c4[_0x26739c]!==-0x29b*-0x6+0x227c+0x321e*-0x1||_0x3da5c4[_0x26739c+(-0x270b+0x44f*0x7+0x8e3*0x1)]!==-0x265e+-0x1637+-0xd*-0x4a9||_0x3da5c4[_0x26739c+(0x1997+0xad0+-0x2465)]!==0xd*0x17f+-0x2355+0xfe2){_0x28d4dc=!(0xc01*0x1+-0x3*-0x3dd+0x2*-0xbcc);break;}}_0x28d4dc?(_0x569890['push'](_0x11a81d),_0x5c0fe0['push'](_0x26739c/(0xf*-0x11a+0x43+0x2*0x823)),_0x11a81d++):_0x569890['push'](0x39*0xa9+0x3*-0xc1d+0x5*-0x42);}return _0x11a81d;}['_initTextu'+'reBased'](){const _0xe09a10=[],_0x362f55=[],_0x901467=this['_targets'];for(let _0x457b62=-0x546+0xda5+-0x85f;_0x457b62<_0x901467['length'];_0x457b62++){const _0x492b2c=_0x901467[_0x457b62];_0x492b2c['options']['deltaPosit'+'ions']&&(_0xe09a10['push'](_0x492b2c['options']['deltaPosit'+'ions']),_0x362f55['push'](!(0x1859+-0x2c*-0xb8+0x59*-0xa1))),_0x492b2c['options']['deltaNorma'+'ls']&&(_0xe09a10['push'](_0x492b2c['options']['deltaNorma'+'ls']),_0x362f55['push'](!(0x67d*-0x6+-0xb*-0xec+-0x27*-0xbd)));}const _0x9f3b5e=[],_0x3e92d=[],_0x3f953c=this['_findSpars'+'eSet'](_0xe09a10,_0x9f3b5e,_0x3e92d),_0x36f308=this['device']['maxTexture'+'Size'];let _0x1a9107=Math['ceil'](Math['sqrt'](_0x3f953c));_0x1a9107=Math['min'](_0x1a9107,_0x36f308);const _0x2043b6=Math['ceil'](_0x3f953c/_0x1a9107);if(_0x2043b6>_0x36f308){w['warnOnce']('Morph\x20targ'+'et\x20data\x20is'+'\x20too\x20large'+'\x20to\x20fit\x20in'+'to\x20a\x20textu'+'re\x20array.\x20'+'Required\x20t'+'exture\x20siz'+'e:\x20'+_0x1a9107+'x'+_0x2043b6+(',\x20max\x20text'+'ure\x20size:\x20')+_0x36f308+'x'+_0x36f308+'.');return;}this['morphTextu'+'reWidth']=_0x1a9107,this['morphTextu'+'reHeight']=_0x2043b6;let _0x58aab3=!(0xa16+-0x1b*-0x13d+-0x2b84);const _0xe54a7b=Mn['float2Half'];this['_textureFo'+'rmat']===nt&&(_0x58aab3=!(-0x431*-0x2+-0x1659*0x1+0xdf7));const _0x1f022d=[],_0x18af5d=[],_0x16c1ef=_0x1a9107*_0x2043b6*(-0x1e70+0x1*0x26d6+-0x862);for(let _0x59171d=-0x3*0xbd9+-0x2*-0x78b+0x1475;_0x59171d<_0xe09a10['length'];_0x59171d++){const _0x339733=_0xe09a10[_0x59171d],_0x4de6a4=this['_textureFo'+'rmat']===nt?new Uint16Array(_0x16c1ef):new Float32Array(_0x16c1ef);if((_0x362f55[_0x59171d]?_0x1f022d:_0x18af5d)['push'](_0x4de6a4),_0x58aab3)for(let _0x168a67=0x16af+-0x77b+-0x22c*0x7;_0x168a67<_0x3e92d['length'];_0x168a67++){const _0x5060c5=_0x3e92d[_0x168a67]*(-0x2*-0x134+-0x69c+0x437*0x1),_0x5b2b28=_0x168a67*(0xbd5+0x79b*0x1+0x1*-0x136c)+(-0x3ba*0x6+0x1568+0xf8);_0x4de6a4[_0x5b2b28]=_0xe54a7b(_0x339733[_0x5060c5]),_0x4de6a4[_0x5b2b28+(-0x2*-0xcbd+0xdb*0x1d+-0x3248)]=_0xe54a7b(_0x339733[_0x5060c5+(0x16*-0x191+0x11f4+0x1*0x1083)]),_0x4de6a4[_0x5b2b28+(-0x11e*-0x14+0x2f*-0x91+0x1*0x449)]=_0xe54a7b(_0x339733[_0x5060c5+(-0x1*-0x104e+0x1334*-0x1+0x2e8*0x1)]);}else for(let _0x5e1b4a=-0x1bf4+-0x132b+-0xfb5*-0x3;_0x5e1b4a<_0x3e92d['length'];_0x5e1b4a++){const _0x53c785=_0x3e92d[_0x5e1b4a]*(0xb47+0xb5d*0x1+0x16a1*-0x1),_0x26bb1a=_0x5e1b4a*(0x344*-0x4+0x2214+-0x1500)+(0x10a4+-0xd06+-0x1cd*0x2);_0x4de6a4[_0x26bb1a]=_0x339733[_0x53c785],_0x4de6a4[_0x26bb1a+(0x661*0x1+-0x240+-0x420)]=_0x339733[_0x53c785+(-0x19*0x6f+0x1*0x1d96+0x95f*-0x2)],_0x4de6a4[_0x26bb1a+(-0x9*-0x1e+-0x1b0f+0x1a03)]=_0x339733[_0x53c785+(-0x2b0*0xe+-0x1301+0x38a3)];}}_0x1f022d['length']>-0x1c*0x40+0x5eb+-0x1*-0x115&&(this['targetsTex'+'turePositi'+'ons']=this['_createTex'+'ture']('MorphPosit'+'ionsTextur'+'e',this['_textureFo'+'rmat'],_0x901467['length'],[_0x1f022d]),this['targetsTex'+'turePositi'+'ons']['upload']()),_0x18af5d['length']>0x1bb7+-0xd4c+-0xe6b&&(this['targetsTex'+'tureNormal'+'s']=this['_createTex'+'ture']('MorphNorma'+'lsTexture',this['_textureFo'+'rmat'],_0x901467['length'],[_0x18af5d]),this['targetsTex'+'tureNormal'+'s']['upload']());const _0x5a6451=[{'semantic':Ln,'components':0x1,'type':el,'asInt':!(0x3*-0xac5+0x1*-0xc2c+-0x1*-0x2c7b)}];return this['vertexBuff'+'erIds']=new Is(this['device'],new kt(this['device'],_0x5a6451,_0x9f3b5e['length']),_0x9f3b5e['length'],{'data':new Uint32Array(_0x9f3b5e)}),!(-0x480+0x1*0x1061+-0xbe1);}get['targets'](){return this['_targets'];}['_updateMor'+'phFlags'](){this['_morphPosi'+'tions']=!(0x1421+0x202e+-0x67*0x82),this['_morphNorm'+'als']=!(-0xf66+0x1*0x24d2+-0x1*0x156b);for(let _0x1adc35=-0x2550+0x82e*-0x1+0xf2a*0x3;_0x1adc35<this['_targets']['length'];_0x1adc35++){const _0x2f47e4=this['_targets'][_0x1adc35];_0x2f47e4['morphPosit'+'ions']&&(this['_morphPosi'+'tions']=!(0xd54+0x3a3+-0x10f7*0x1)),_0x2f47e4['morphNorma'+'ls']&&(this['_morphNorm'+'als']=!(-0x7a*-0x3b+-0x1*-0xbda+0x27f8*-0x1));}}['_createTex'+'ture'](_0x46ea1e,_0x33e1e5,_0x3aab28,_0x3e18e2){return new _e(this['device'],{'levels':_0x3e18e2,'arrayLength':_0x3aab28,'width':this['morphTextu'+'reWidth'],'height':this['morphTextu'+'reHeight'],'format':_0x33e1e5,'cubemap':!(-0x181d+-0x8c4+0x20e2),'mipmaps':!(-0xb07*0x2+-0x1788+0x2d97),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':_0x46ea1e});}}class Md{constructor(_0x37000c){h(this,'used',!(-0x3a6*-0x8+0x1*-0x263f+0x488*0x2)),(w['assert'](arguments['length']===-0x1*0x17d+0x3a1*0x8+0x19*-0x11a),this['options']=_0x37000c,this['_name']=_0x37000c['name'],this['_defaultWe'+'ight']=_0x37000c['defaultWei'+'ght']||-0x75*-0x52+0x17*-0x97+-0x17e9,this['_aabb']=_0x37000c['aabb'],this['deltaPosit'+'ions']=_0x37000c['deltaPosit'+'ions'],this['morphPosit'+'ions']=!!_0x37000c['deltaPosit'+'ions'],this['morphNorma'+'ls']=!!_0x37000c['deltaNorma'+'ls']);}get['name'](){return this['_name'];}get['defaultWei'+'ght'](){return this['_defaultWe'+'ight'];}get['aabb'](){return this['_aabb']||(this['_aabb']=new De(),this['deltaPosit'+'ions']&&this['_aabb']['compute'](this['deltaPosit'+'ions'])),this['_aabb'];}['clone'](){return w['assert'](this['options'],'MorphTarge'+'t\x20cannot\x20b'+'e\x20cloned,\x20'+'was\x20it\x20cre'+'ated\x20with\x20'+'a\x20preserve'+'Data\x20optio'+'n?'),new Md(this['options']);}['_postInit'](){this['options']['preserveDa'+'ta']||(this['options']=null),this['used']=!(-0x976+-0x1502+0x28a*0xc);}}let Ei,Z_=-0x22e6*-0x1+-0x443+-0x1ea2;const ce=0xab5+0x1*0x166f+0x4*-0x848,mf=new te(),_f=new te(),ti=new D(),tt=new D(),Ns=new D(),Na=new D(),ns=new D(),_t=new D(),ka=new D(),Ua=new D(),fo=new D(),Q_=new D(),zt=new D(),fc=new D(),kr=new D();function pn(_0x255e52){return _0x255e52-Math['floor'](_0x255e52);}function fA(_0x13389e){return Math['max'](Math['min'](_0x13389e,-0x1fe7*-0x1+0xb*-0x13a+-0x1*0x1268),-0x231b+-0x159*0xf+0x3752);}function gf(_0x3b8663,_0x13df7f){return _0x3b8663-_0x13df7f*Math['floor'](_0x3b8663/_0x13df7f);}function uA(_0x29e81b){let _0x3848ab=pn(_0x29e81b),_0x17b63e=pn((0x702+0x14a+-0x74d)*_0x29e81b),_0x3dcc3c=pn((0x2a1*-0x1+-0xc3cb*0x1+0x11*0x1a9d)*_0x29e81b),_0x31eadd=pn((-0x1*0xf2ee246+0x9a47665+0xf1cb2e0)*_0x29e81b);return _0x3848ab-=_0x17b63e/(-0x1025*0x1+-0x2a*-0x30+0x944),_0x17b63e-=_0x3dcc3c/(0x3*-0x553+0x17b3*0x1+0x6bb*-0x1),_0x3dcc3c-=_0x31eadd/(0x137+-0x9c1*-0x4+-0x273c),_0x31eadd-=_0x31eadd/(-0xae7+0x3*-0x5ff+0x1de3),[_0x3848ab,_0x17b63e,_0x3dcc3c,_0x31eadd];}function uc(_0x323465){let _0x51d0e6=pn(_0x323465),_0x1f4a54=pn((-0x2*-0x1215+0x1cf7+0x2*-0x2011)*_0x323465);return _0x51d0e6-=_0x1f4a54/(-0x8*0x4+-0x228f+0x23ae),_0x1f4a54-=_0x1f4a54/(0x247*0x9+-0x38*0x21+-0xc48),[_0x51d0e6,_0x1f4a54];}class pA{constructor(_0x443168){this['_emitter']=_0x443168;}['calcSpawnP'+'osition'](_0xea60dc,_0x2d59e0,_0x3c60b8,_0x276582,_0x36639e){const _0xef9d1c=this['_emitter'],_0x58f284=Math['random'](),_0x1de71f=Math['random'](),_0x3c701f=Math['random'](),_0x311a62=Math['random']();if(_0xef9d1c['useCpu']&&(_0xea60dc[_0x36639e*ce+(-0xd3*0xb+0x7*-0x32c+0x1f45)+_0xef9d1c['numParticl'+'esPot']*(0x1*0x1505+-0x3aa*0x1+-0x1*0x1159)*ce]=_0x58f284,_0xea60dc[_0x36639e*ce+(-0x3b*-0x53+-0x1cd4+0x9b4)+_0xef9d1c['numParticl'+'esPot']*(0x1d64+-0x15d9+-0x1*0x789)*ce]=_0x1de71f,_0xea60dc[_0x36639e*ce+(0xe99+0x367+-0x11fe)+_0xef9d1c['numParticl'+'esPot']*(-0x217d+0xfd8+0x11a7)*ce]=_0x3c701f),tt['x']=_0x58f284-(-0x637+-0xf4b+0x2*0xac1+0.5),tt['y']=_0x1de71f-(-0x1fc2+0x1327+0xc9b+0.5),tt['z']=_0x3c701f-(0x799*-0x1+0xc4d+-0x4b4+0.5),_0xef9d1c['emitterSha'+'pe']===ai){const _0x10a012=Math['max'](Math['abs'](tt['x']),Math['max'](Math['abs'](tt['y']),Math['abs'](tt['z']))),_0x4fec16=_0x10a012+(0xed4+0xb2*0x17+-0x1ed2+0.5-_0x10a012)*_0x3c60b8[0xfb1+0x5*-0x2b1+0x23c*-0x1],_0x5f5319=_0x10a012+(-0x18e0+-0x2f6*-0x1+0x176*0xf+0.5-_0x10a012)*_0x3c60b8[-0x1ad3*0x1+0x165+0x196f],_0x18024a=_0x10a012+(-0x4*0x9ac+0x22e+-0x1241*-0x2+0.5-_0x10a012)*_0x3c60b8[0x249c+0x759+0x2bf3*-0x1];tt['x']=_0x4fec16*(_0x10a012===Math['abs'](tt['x'])?Math['sign'](tt['x']):(0x6d3*-0x1+0x24fd+0x2*-0xf14)*tt['x']),tt['y']=_0x5f5319*(_0x10a012===Math['abs'](tt['y'])?Math['sign'](tt['y']):(0x1d00+0x1fc0+0x613*-0xa)*tt['y']),tt['z']=_0x18024a*(_0x10a012===Math['abs'](tt['z'])?Math['sign'](tt['z']):(-0x5c6*0x3+-0x4ac+-0x1600*-0x1)*tt['z']),_0xef9d1c['localSpace']?ti['copy'](_0x2d59e0['transformP'+'oint'](tt)):ti['copy'](_0x276582)['add'](_0x2d59e0['transformP'+'oint'](tt));}else{tt['normalize']();const _0x30d83b=_0xef9d1c['emitterRad'+'ius']===0x1*0x196+0x142*0xd+-0x11f0?-0x25d9+0x74e+0x1e8b:_0xef9d1c['emitterRad'+'iusInner']/_0xef9d1c['emitterRad'+'ius'],_0x2424c8=_0x311a62*(0x1439+-0x64a+-0xdee-_0x30d83b)+_0x30d83b;_0xef9d1c['localSpace']?ti['copy'](tt['mulScalar'](_0x2424c8*_0xef9d1c['emitterRad'+'ius'])):ti['copy'](_0x276582)['add'](tt['mulScalar'](_0x2424c8*_0xef9d1c['emitterRad'+'ius']));}let _0x515d10=-Y['lerp'](_0xef9d1c['rate'],_0xef9d1c['rate2'],_0x58f284)*_0x36639e;if(_0xef9d1c['pack8']){const _0x151400=(ti['x']-_0xef9d1c['worldBound'+'s']['center']['x'])/_0xef9d1c['worldBound'+'sSize']['x']+(-0xac3+-0x4a7+0x1*0xf6a+0.5),_0x50ea5d=(ti['y']-_0xef9d1c['worldBound'+'s']['center']['y'])/_0xef9d1c['worldBound'+'sSize']['y']+(0x2073+0x24d4+-0xddb*0x5+0.5),_0x5b88ab=(ti['z']-_0xef9d1c['worldBound'+'s']['center']['z'])/_0xef9d1c['worldBound'+'sSize']['z']+(-0x1211+0x145a+-0x249+0.5);let _0x7e5d1a=Y['lerp'](_0xef9d1c['startAngle']*Y['DEG_TO_RAD'],_0xef9d1c['startAngle'+'2']*Y['DEG_TO_RAD'],_0x58f284);_0x7e5d1a=_0x7e5d1a%(Math['PI']*(0x5b3*-0x1+0x12c8*-0x2+-0x2b45*-0x1))/(Math['PI']*(0xe9c+-0x1d03+0xe69));const _0x5cb3fd=uc(_0x151400);_0xea60dc[_0x36639e*ce]=_0x5cb3fd[-0xf3e*0x1+-0x2f*-0x97+0x2d*-0x47],_0xea60dc[_0x36639e*ce+(-0x1cda+0x1a1*-0x10+0x36eb)]=_0x5cb3fd[-0x1*0x25d9+-0x1d9+-0x27b3*-0x1];const _0x3362de=uc(_0x50ea5d);_0xea60dc[_0x36639e*ce+(-0x3*0x6a2+-0xed7+0x3*0xb95)]=_0x3362de[0xf6d+0xca3*-0x1+-0x2ca],_0xea60dc[_0x36639e*ce+(-0x21*0x12e+-0x578+0x2c69)]=_0x3362de[-0x109+0x1dcd+-0x1cc3*0x1];const _0x4a0b6b=uc(_0x5b88ab);_0xea60dc[_0x36639e*ce+(0x4*0x142+-0x2062+0x1b5a)+_0xef9d1c['numParticl'+'esPot']*ce]=_0x4a0b6b[0x24b0+-0xa21*0x1+-0x1a8f],_0xea60dc[_0x36639e*ce+(-0x1*-0x1d1d+0x77*0xb+-0x2239*0x1)+_0xef9d1c['numParticl'+'esPot']*ce]=_0x4a0b6b[0xce*-0x28+0xb8b+0x14a6];const _0x561978=uc(_0x7e5d1a);_0xea60dc[_0x36639e*ce+(-0x296+-0x532+0x7ca)+_0xef9d1c['numParticl'+'esPot']*ce]=_0x561978[0x1*-0x1492+0x185a+-0x3c8*0x1],_0xea60dc[_0x36639e*ce+(-0xa4d*-0x3+0x2192*0x1+0x203b*-0x2)+_0xef9d1c['numParticl'+'esPot']*ce]=_0x561978[0x94*0xa+-0x243d+0x1e76];const _0x456db4=0x2*0xdc6+-0x448+-0x1743;_0xea60dc[_0x36639e*ce+(0x16ba*0x1+0x2401+-0x3ab8)+_0xef9d1c['numParticl'+'esPot']*ce*(-0x1a7b+-0x8a9*-0x2+0x92b)]=_0x456db4;const _0x38d443=Math['max'](_0xef9d1c['lifetime'],(_0xef9d1c['numParticl'+'es']-(0x1b40+-0x14b8+-0x687))*Math['max'](_0xef9d1c['rate'],_0xef9d1c['rate2'])),_0x1c71c1=_0xef9d1c['lifetime']+(-0x2310+-0xaeb+0x2dfc);_0x515d10=(_0x515d10+_0x38d443)/(_0x38d443+_0x1c71c1);const _0x19e5e6=uA(_0x515d10);_0xea60dc[_0x36639e*ce+(-0x1d90+0x1d2e+0x62)+_0xef9d1c['numParticl'+'esPot']*ce*(-0xb48+-0x196+0x9d*0x15)]=_0x19e5e6[0x2365+-0x24c9+0x1*0x164],_0xea60dc[_0x36639e*ce+(0x10d+0x1*0x5a1+0x1*-0x6ad)+_0xef9d1c['numParticl'+'esPot']*ce*(-0x3*-0x212+-0xae9+0x4b6*0x1)]=_0x19e5e6[0xe5*0x18+-0x3*-0xcdb+-0xe2*0x44],_0xea60dc[_0x36639e*ce+(0xbe0+-0xe1f+0x241*0x1)+_0xef9d1c['numParticl'+'esPot']*ce*(-0x305+-0x24b4+0x27bc)]=_0x19e5e6[-0x48b*-0x5+-0x19*-0xb8+-0x28ad],_0xea60dc[_0x36639e*ce+(0x177a+-0x13d0+-0x3a7)+_0xef9d1c['numParticl'+'esPot']*ce*(0x9*0x1e3+-0xc75+-0xf*0x4d)]=_0x19e5e6[-0x15*0xb7+-0x7*0xb1+0x153*0xf];}else _0xea60dc[_0x36639e*ce]=ti['x'],_0xea60dc[_0x36639e*ce+(0x2448+-0x677*0x4+-0xa6b)]=ti['y'],_0xea60dc[_0x36639e*ce+(-0x7*-0x1bb+-0x3*-0x911+-0x75*0x56)]=ti['z'],_0xea60dc[_0x36639e*ce+(-0xe*0x1ae+0x2b4+-0x6f1*-0x3)]=Y['lerp'](_0xef9d1c['startAngle']*Y['DEG_TO_RAD'],_0xef9d1c['startAngle'+'2']*Y['DEG_TO_RAD'],_0x58f284),_0xea60dc[_0x36639e*ce+(-0xed+0x26d+-0x3*0x7f)+_0xef9d1c['numParticl'+'esPot']*ce]=_0x515d10;}['update'](_0x47db97,_0x315df4,_0x1e8d60,_0x568edc,_0xbf72da,_0x310caa,_0x14d692,_0x51b3f8){let _0x3f789b,_0x372c21,_0x20df21;const _0x5714d4=this['_emitter'];if(_0x5714d4['meshInstan'+'ce']['node']){const _0x270e55=_0x5714d4['meshInstan'+'ce']['node']['worldTrans'+'form'];for(let _0x294429=-0x3*0x39c+0x1d5d+0x1*-0x1289;_0x294429<-0x283*0xd+-0x1765+-0x3818*-0x1;_0x294429++)mf['data'][_0x294429]=_0x270e55['data'][_0x294429];_f['copy'](mf),_f['invert'](),Ei=_0x5714d4['meshInstan'+'ce']['node']['localScale'],Z_=Math['max'](Math['max'](Ei['x'],Ei['y']),Ei['z']);}_0x310caa=_0x5714d4['meshInstan'+'ce']['node']===null||_0x5714d4['localSpace']?D['ZERO']:_0x5714d4['meshInstan'+'ce']['node']['getPositio'+'n']();const _0x22ab8c=_0x5714d4['camera']?_0x5714d4['camera']['_node']['getPositio'+'n']():D['ZERO'],_0x15e399=_0x5714d4['useMesh']?-0x15d*-0x12+-0x1c20+0x3a7:-0x11*0x13+0x1*-0x123b+0x138d;let _0x27221b,_0x3226e7,_0x300b09,_0x5f1083,_0x5a4d27,_0x33a8e0,_0x1c40c4,_0x1fc831,_0x5bf4e0;const _0x324596=_0x5714d4['precision']-(0x299*0x7+-0x515*0x1+-0x7*0x1df);for(let _0x5f5e01=-0x128a+-0x15c6+0x285*0x10;_0x5f5e01<_0x5714d4['numParticl'+'es'];_0x5f5e01++){const _0x454a75=Math['floor'](_0x5714d4['vbCPU'][_0x5f5e01*_0x5714d4['numParticl'+'eVerts']*(_0x5714d4['useMesh']?0x17b1+0x17*-0x199+0x117*0xc:-0x1b91+0x97*-0x2d+0x3620)+(0xa*0x76+-0x428*0x2+-0x1*-0x3b7)]),_0x4265f1=_0x1e8d60[_0x454a75*ce+(0x17*-0xb+-0x1d47+-0x4*-0x791)+_0x5714d4['numParticl'+'esPot']*(0x1a*-0x154+0x17d*0xe+0x36d*0x4)*ce];Ns['x']=_0x4265f1,Ns['y']=_0x1e8d60[_0x454a75*ce+(0x12c1+0x247c+-0x373c)+_0x5714d4['numParticl'+'esPot']*(0x805+-0x1c8f+-0x41c*-0x5)*ce],Ns['z']=_0x1e8d60[_0x454a75*ce+(-0xebf+-0x1ca*0x7+-0x1b47*-0x1)+_0x5714d4['numParticl'+'esPot']*(-0x3*-0x81a+0x2627+-0x3e73)*ce];const _0x5a9872=_0x5714d4['rate']+(_0x5714d4['rate2']-_0x5714d4['rate'])*_0x4265f1,_0xae543f=_0x5714d4['lifetime'];let _0x4d3baa=_0x1e8d60[_0x454a75*ce+(0x1135+-0x1014+-0x11e)+_0x5714d4['numParticl'+'esPot']*ce]+_0x14d692;const _0x308af5=fA(_0x4d3baa/_0xae543f);let _0x277e0b=0x1b*0xaa+0x1f*0xa3+0x25ab*-0x1,_0x53c33f=0x5*0x56b+0x115*-0x22+0xd*0xbf;const _0x2d0fa6=0x1*0x207e+0xc53*0x1+0x4d*-0x95;(_0x4d3baa-_0x14d692<=0x169+0x25a0+-0x2709||_0x4d3baa>=_0xae543f)&&this['calcSpawnP'+'osition'](_0x1e8d60,_0x568edc,_0xbf72da,_0x310caa,_0x454a75);let _0xdf4ded=_0x4d3baa>0xb6f+0x1bb9*-0x1+0x6*0x2b7&&_0x4d3baa<_0xae543f;_0xdf4ded&&(_0x20df21=_0x308af5*_0x324596,_0x27221b=Math['floor'](_0x20df21),_0x3226e7=Math['ceil'](_0x20df21),_0x20df21%=-0x69d*-0x2+0x3*0x31e+0x1*-0x1693,_0x3f789b=_0x5714d4['qRotSpeed'][_0x27221b],_0x372c21=_0x5714d4['qRotSpeed'][_0x3226e7],_0x300b09=_0x3f789b+(_0x372c21-_0x3f789b)*_0x20df21,_0x3f789b=_0x5714d4['qRotSpeed2'][_0x27221b],_0x372c21=_0x5714d4['qRotSpeed2'][_0x3226e7],_0x5f1083=_0x3f789b+(_0x372c21-_0x3f789b)*_0x20df21,_0x3f789b=_0x5714d4['qScale'][_0x27221b],_0x372c21=_0x5714d4['qScale'][_0x3226e7],_0x277e0b=_0x3f789b+(_0x372c21-_0x3f789b)*_0x20df21,_0x3f789b=_0x5714d4['qScale2'][_0x27221b],_0x372c21=_0x5714d4['qScale2'][_0x3226e7],_0x5a4d27=_0x3f789b+(_0x372c21-_0x3f789b)*_0x20df21,_0x3f789b=_0x5714d4['qAlpha'][_0x27221b],_0x372c21=_0x5714d4['qAlpha'][_0x3226e7],_0x33a8e0=_0x3f789b+(_0x372c21-_0x3f789b)*_0x20df21,_0x3f789b=_0x5714d4['qAlpha2'][_0x27221b],_0x372c21=_0x5714d4['qAlpha2'][_0x3226e7],_0x1c40c4=_0x3f789b+(_0x372c21-_0x3f789b)*_0x20df21,_0x3f789b=_0x5714d4['qRadialSpe'+'ed'][_0x27221b],_0x372c21=_0x5714d4['qRadialSpe'+'ed'][_0x3226e7],_0x1fc831=_0x3f789b+(_0x372c21-_0x3f789b)*_0x20df21,_0x3f789b=_0x5714d4['qRadialSpe'+'ed2'][_0x27221b],_0x372c21=_0x5714d4['qRadialSpe'+'ed2'][_0x3226e7],_0x5bf4e0=_0x3f789b+(_0x372c21-_0x3f789b)*_0x20df21,_0x1fc831+=(_0x5bf4e0-_0x1fc831)*(_0x4265f1*(-0x11e5+0xd7*0x1a+-0x38d)%(0x32*-0x65+-0x2a5*-0x4+0x927)),Na['x']=_0x1e8d60[_0x454a75*ce],Na['y']=_0x1e8d60[_0x454a75*ce+(0xe3*-0x1a+0x48+-0x16c7*-0x1)],Na['z']=_0x1e8d60[_0x454a75*ce+(-0x101a+-0x2474+0xd24*0x4)],_0x5714d4['localSpace']?fo['copy'](Na):fo['copy'](Na)['sub'](_0x310caa),fo['normalize']()['mulScalar'](_0x1fc831),_0x27221b*=-0x1d30+0x1*-0x32b+-0xaca*-0x3,_0x3226e7*=0x1*0x19fe+-0xc22*-0x2+0x323f*-0x1,_0x3f789b=_0x5714d4['qLocalVelo'+'city'][_0x27221b],_0x372c21=_0x5714d4['qLocalVelo'+'city'][_0x3226e7],_t['x']=_0x3f789b+(_0x372c21-_0x3f789b)*_0x20df21,_0x3f789b=_0x5714d4['qLocalVelo'+'city'][_0x27221b+(-0x2380+-0x5*0x511+0x3cd6)],_0x372c21=_0x5714d4['qLocalVelo'+'city'][_0x3226e7+(0xd02+-0x26dd+-0x19dc*-0x1)],_t['y']=_0x3f789b+(_0x372c21-_0x3f789b)*_0x20df21,_0x3f789b=_0x5714d4['qLocalVelo'+'city'][_0x27221b+(0x768+-0xace+-0x1b4*-0x2)],_0x372c21=_0x5714d4['qLocalVelo'+'city'][_0x3226e7+(0x315*0x1+-0x874+0x33*0x1b)],_t['z']=_0x3f789b+(_0x372c21-_0x3f789b)*_0x20df21,_0x3f789b=_0x5714d4['qLocalVelo'+'city2'][_0x27221b],_0x372c21=_0x5714d4['qLocalVelo'+'city2'][_0x3226e7],Ua['x']=_0x3f789b+(_0x372c21-_0x3f789b)*_0x20df21,_0x3f789b=_0x5714d4['qLocalVelo'+'city2'][_0x27221b+(-0x679*-0x3+0x1*0x1db3+0xb*-0x477)],_0x372c21=_0x5714d4['qLocalVelo'+'city2'][_0x3226e7+(0x1d97+-0x101*-0xc+-0x29a2)],Ua['y']=_0x3f789b+(_0x372c21-_0x3f789b)*_0x20df21,_0x3f789b=_0x5714d4['qLocalVelo'+'city2'][_0x27221b+(0x11d1*-0x2+-0x84b+0x2bef)],_0x372c21=_0x5714d4['qLocalVelo'+'city2'][_0x3226e7+(0x16c0+0x3*-0x55+-0x15bf)],Ua['z']=_0x3f789b+(_0x372c21-_0x3f789b)*_0x20df21,_0x3f789b=_0x5714d4['qVelocity'][_0x27221b],_0x372c21=_0x5714d4['qVelocity'][_0x3226e7],ns['x']=_0x3f789b+(_0x372c21-_0x3f789b)*_0x20df21,_0x3f789b=_0x5714d4['qVelocity'][_0x27221b+(-0x833*-0x3+-0x81*-0x1f+0x2837*-0x1)],_0x372c21=_0x5714d4['qVelocity'][_0x3226e7+(0xb61+-0x2691+-0x1*-0x1b31)],ns['y']=_0x3f789b+(_0x372c21-_0x3f789b)*_0x20df21,_0x3f789b=_0x5714d4['qVelocity'][_0x27221b+(0x6*-0x16d+0x25*0x102+-0x1cba)],_0x372c21=_0x5714d4['qVelocity'][_0x3226e7+(-0x1ac1*0x1+-0x927+0x23ea*0x1)],ns['z']=_0x3f789b+(_0x372c21-_0x3f789b)*_0x20df21,_0x3f789b=_0x5714d4['qVelocity2'][_0x27221b],_0x372c21=_0x5714d4['qVelocity2'][_0x3226e7],ka['x']=_0x3f789b+(_0x372c21-_0x3f789b)*_0x20df21,_0x3f789b=_0x5714d4['qVelocity2'][_0x27221b+(-0x435*0x9+-0x16b4+0x2*0x1e49)],_0x372c21=_0x5714d4['qVelocity2'][_0x3226e7+(-0x5*0x765+0x3e8*0x4+0x155a)],ka['y']=_0x3f789b+(_0x372c21-_0x3f789b)*_0x20df21,_0x3f789b=_0x5714d4['qVelocity2'][_0x27221b+(-0x2*0x797+0x13c2*-0x1+-0x5d3*-0x6)],_0x372c21=_0x5714d4['qVelocity2'][_0x3226e7+(-0x1*-0x24e9+0x209b+0x23e*-0x1f)],ka['z']=_0x3f789b+(_0x372c21-_0x3f789b)*_0x20df21,_t['x']+=(Ua['x']-_t['x'])*Ns['x'],_t['y']+=(Ua['y']-_t['y'])*Ns['y'],_t['z']+=(Ua['z']-_t['z'])*Ns['z'],_0x5714d4['initialVel'+'ocity']>0x187b+0x5*-0x167+-0x1178&&(_0x5714d4['emitterSha'+'pe']===zw?(tt['copy'](Ns)['mulScalar'](-0x862+-0x1c76+0x1*0x24da)['sub'](D['ONE'])['normalize'](),_t['add'](tt['mulScalar'](_0x5714d4['initialVel'+'ocity']))):_t['add'](D['FORWARD']['mulScalar'](_0x5714d4['initialVel'+'ocity']))),ns['x']+=(ka['x']-ns['x'])*Ns['x'],ns['y']+=(ka['y']-ns['y'])*Ns['y'],ns['z']+=(ka['z']-ns['z'])*Ns['z'],_0x300b09+=(_0x5f1083-_0x300b09)*Ns['y'],_0x277e0b=(_0x277e0b+(_0x5a4d27-_0x277e0b)*(_0x4265f1*(-0x1ee2+0x4499+0x3*0x73)%(0x22af+0x215d+0x1*-0x440b)))*Z_,_0x53c33f=(_0x1c40c4-_0x33a8e0)*(_0x4265f1*(0x18fc+0x20f1+-0x1*0x3605)%(0xd5*-0x2e+0x843+0x1e04)),_0x5714d4['meshInstan'+'ce']['node']&&(_0x5714d4['localSpace']?(_t['x']/=Ei['x'],_t['y']/=Ei['y'],_t['z']/=Ei['z']):mf['transformP'+'oint'](_t,_t)),_0x5714d4['localSpace']?(_f['transformP'+'oint'](ns,ns),_t['add'](ns)['add'](fo)):(_t['add'](ns['mul'](Ei)),_t['add'](fo['mul'](Ei))),fc['copy'](_t),Q_['copy'](Na)['add'](_t['mulScalar'](_0x14d692)),zt['copy'](Q_),_0x1e8d60[_0x454a75*ce]=zt['x'],_0x1e8d60[_0x454a75*ce+(-0x15fa+-0x150d*0x1+0xd8*0x33)]=zt['y'],_0x1e8d60[_0x454a75*ce+(-0x1bdc*0x1+0x23bb+-0x21*0x3d)]=zt['z'],_0x1e8d60[_0x454a75*ce+(0x19d4+0x6*0x575+-0x3a8f)]+=_0x300b09*_0x14d692,_0x5714d4['wrap']&&_0x5714d4['wrapBounds']&&(_0x5714d4['localSpace']||zt['sub'](_0x310caa),zt['x']=gf(zt['x'],_0x5714d4['wrapBounds']['x'])-_0x5714d4['wrapBounds']['x']*(0x11*0x239+0x83d+-0x2e06+0.5),zt['y']=gf(zt['y'],_0x5714d4['wrapBounds']['y'])-_0x5714d4['wrapBounds']['y']*(0xc0+0x1a*0x53+-0x92e+0.5),zt['z']=gf(zt['z'],_0x5714d4['wrapBounds']['z'])-_0x5714d4['wrapBounds']['z']*(0x1*0x118d+0x65b*0x5+-0x3154+0.5),_0x5714d4['localSpace']||zt['add'](_0x310caa)),_0x5714d4['sort']>-0x243d+-0x2*0x51c+-0x2e75*-0x1&&(_0x5714d4['sort']===-0x1*-0x32+0x9d*-0x29+0x63d*0x4?(kr['copy'](zt)['sub'](_0x22ab8c),_0x5714d4['particleDi'+'stance'][_0x454a75]=-(kr['x']*kr['x']+kr['y']*kr['y']+kr['z']*kr['z'])):_0x5714d4['sort']===0x3*-0x3d4+-0x8b*-0x19+-0x215?_0x5714d4['particleDi'+'stance'][_0x454a75]=_0x4d3baa:_0x5714d4['sort']===0x374*-0x2+-0x5c*-0x2+0x45*0x17&&(_0x5714d4['particleDi'+'stance'][_0x454a75]=-_0x4d3baa))),_0x51b3f8?_0x4d3baa<-0x26f+0x1810+-0x1*0x15a1&&(_0x1e8d60[_0x454a75*ce+(0x2*0x8fe+-0x2676+0x147d)+_0x5714d4['numParticl'+'esPot']*(0x2fc*-0x5+0x6d*-0xd+0x1f*0xa9)*ce]=-(-0x3*0xc5b+-0x4*0x59f+0x3b8e)):(_0x4d3baa>=_0xae543f&&(_0x4d3baa-=Math['max'](_0xae543f,(_0x5714d4['numParticl'+'es']-(-0x1901+-0x32*0x7+0x1a60))*_0x5a9872),_0x1e8d60[_0x454a75*ce+(-0x2c8+0x50b*0x5+-0x166c)+_0x5714d4['numParticl'+'esPot']*(0x24a1+-0x1*-0x3df+0x49*-0x8e)*ce]=_0x5714d4['loop']?0x1*-0x1469+0x5da+0xe90*0x1:-(-0x1b78+0x1e1d+-0x1a*0x1a)),_0x4d3baa<0x1*-0x22b2+-0x11a4+0x3456&&_0x5714d4['loop']&&(_0x1e8d60[_0x454a75*ce+(-0xab9+0x159*0x1c+-0xc0*0x24)+_0x5714d4['numParticl'+'esPot']*(-0x74*0x54+-0x1bf0+0x47*0xee)*ce]=-0x1ddb+-0x1b60+0x32e*0x12)),_0x1e8d60[_0x454a75*ce+(0x214d+-0x3*0x862+0x4*-0x209)+_0x5714d4['numParticl'+'esPot']*(-0x68e+-0x1518+-0xb1*-0x28)*ce]<0x2*-0x24f+0x768+0x15*-0x22&&(_0xdf4ded=!(0x21*0xf1+-0x2a*-0x6a+-0x3074)),_0x1e8d60[_0x454a75*ce+(0x67a*-0x2+0x2697+0x2*-0xcd0)+_0x5714d4['numParticl'+'esPot']*ce]=_0x4d3baa;for(let _0x31476d=-0x9b2*-0x2+-0x14d*-0x5+0x3b3*-0x7;_0x31476d<_0x5714d4['numParticl'+'eVerts'];_0x31476d++){const _0x3ea407=(_0x5f5e01*_0x5714d4['numParticl'+'eVerts']+_0x31476d)*(_0x5714d4['useMesh']?0x1*-0x178+-0x2361+0x24df:0x1efa+-0x1*-0x190b+-0x3801);let _0x557a22=_0x5714d4['vbCPU'][_0x3ea407],_0x5c8f2=_0x5714d4['vbCPU'][_0x3ea407+(0x13e+-0x9e5+0x2*0x454)],_0x405d8f=_0x5714d4['vbCPU'][_0x3ea407+(0x1548+0xda8*-0x1+-0x5*0x186)];_0xdf4ded||(_0x557a22=_0x5c8f2=_0x405d8f=0xa*0x169+0x2*-0xe9+-0xc48);const _0x16f14e=_0x5f5e01*_0x5714d4['numParticl'+'eVerts']*_0x15e399+_0x31476d*_0x15e399;_0x47db97[_0x16f14e]=zt['x'],_0x47db97[_0x16f14e+(-0x2*0x2a6+-0x134f*0x2+0x2beb)]=zt['y'],_0x47db97[_0x16f14e+(0x2399+-0x19a6+-0x9f1)]=zt['z'],_0x47db97[_0x16f14e+(0xe66+-0x21e5+-0x1c6*-0xb)]=_0x308af5,_0x47db97[_0x16f14e+(-0x26af+0x176a+-0xd*-0x12d)]=_0x5714d4['alignToMot'+'ion']?_0x2d0fa6:_0x1e8d60[_0x454a75*ce+(0x1ed1+-0x32*-0xad+-0x4098)],_0x47db97[_0x16f14e+(-0x6e6+0x1354+0x423*-0x3)]=_0x277e0b,_0x47db97[_0x16f14e+(0x3d*0x1+-0x3*0xb3d+0x2180)]=_0x53c33f,_0x47db97[_0x16f14e+(-0x1*0x1281+0x23*-0x74+0x2264)]=fc['x'],_0x47db97[_0x16f14e+(0x2*-0x295+0x2648+-0x79*0x46)]=_0x557a22,_0x47db97[_0x16f14e+(0x2700+-0x1c77+-0xa80)]=_0x5c8f2,_0x47db97[_0x16f14e+(0xe29+0x231*0x5+-0x1914)]=_0x405d8f,_0x47db97[_0x16f14e+(0x2690+0x2*-0x133c+-0x1*0xd)]=fc['y'],_0x47db97[_0x16f14e+(-0x1043*-0x1+-0x9d4+0x1*-0x663)]=_0x454a75,_0x47db97[_0x16f14e+(0x53*0x31+0x1*-0x2449+0x1473)]=fc['z'],_0x47db97[_0x16f14e+(0x146f+0x3a*0x79+-0x5*0x98f)]=_0x5714d4['vbCPU'][_0x3ea407+(-0x7c8+-0x31c+0xae7)],_0x5714d4['useMesh']&&(_0x47db97[_0x16f14e+(-0x1ec3+-0x58a+-0x122e*-0x2)]=_0x5714d4['vbCPU'][_0x3ea407+(-0x9c2*-0x1+-0x1*-0x215b+-0x2b19)],_0x47db97[_0x16f14e+(-0xabe+0x1c67*0x1+-0x1199)]=_0x5714d4['vbCPU'][_0x3ea407+(-0x2*0x724+-0x12a+0xf77*0x1)]);}}if(_0x5714d4['sort']>nu&&_0x5714d4['camera']){const _0x516f6d=_0x5714d4['useMesh']?0x207*0x1+-0x1722*0x1+0x1521:-0x5e9*-0x1+0x374+0x1*-0x959,_0x4b3714=_0x5714d4['particleDi'+'stance'];for(let _0x153638=0xf*0x167+-0x1*-0x1a21+-0x2f2a;_0x153638<_0x5714d4['numParticl'+'es'];_0x153638++)_0x315df4[_0x153638][-0x1*0x2f1+0xa7c+-0x78b*0x1]=_0x153638,_0x315df4[_0x153638][-0x556+0x164c+-0x5a7*0x3]=_0x4b3714[Math['floor'](_0x5714d4['vbCPU'][_0x153638*_0x5714d4['numParticl'+'eVerts']*_0x516f6d+(0x2460+0x1f09+-0x4366*0x1)])];_0x5714d4['vbOld']['set'](_0x5714d4['vbCPU']),_0x315df4['sort']((_0x2819e0,_0x8aeccd)=>_0x2819e0[0x1*-0x21+0x8fb+-0x8d9]-_0x8aeccd[0x1891*0x1+0x3a9*0x5+-0x1*0x2add]);for(let _0xa5194e=0x2274+0x1f*0x44+0x2*-0x1558;_0xa5194e<_0x5714d4['numParticl'+'es'];_0xa5194e++){const _0x4980eb=_0x315df4[_0xa5194e][-0x580+0x6de+0xaf*-0x2]*_0x5714d4['numParticl'+'eVerts']*_0x516f6d,_0x1fcc59=_0xa5194e*_0x5714d4['numParticl'+'eVerts']*_0x516f6d;for(let _0x653966=0x12d4+-0xb30*-0x2+-0xa4d*0x4;_0x653966<_0x5714d4['numParticl'+'eVerts']*_0x516f6d;_0x653966++)_0x5714d4['vbCPU'][_0x1fcc59+_0x653966]=_0x5714d4['vbOld'][_0x4980eb+_0x653966];}}}}const J_=new _i(),eg=new _i(),tg=new _i();class mA{constructor(_0x3f1ca3,_0x243e88){this['_emitter']=_0x3f1ca3,this['frameRando'+'mUniform']=new Float32Array(0x15e9+-0x95a+-0xc8c),this['emitterPos'+'Uniform']=new Float32Array(0x7a*-0x47+-0x405*-0x9+-0x254),this['emitterSca'+'leUniform']=new Float32Array([0x1319+-0xddd+-0x53b*0x1,-0x146c+-0x201d*-0x1+-0xbb0,-0x1e89*0x1+-0x21d7*-0x1+-0x34d]),this['worldBound'+'sMulUnifor'+'m']=new Float32Array(-0x151*-0x5+-0x1*0x32c+-0x91*0x6),this['worldBound'+'sAddUnifor'+'m']=new Float32Array(-0x1*-0x22a9+0x190f+-0x3bb5),this['inBoundsSi'+'zeUniform']=new Float32Array(-0x1879+-0x18da*0x1+0x3156),this['inBoundsCe'+'nterUnifor'+'m']=new Float32Array(-0x3e8*0x5+-0x18d*-0x9+-0xb*-0x82),this['constantPa'+'rticleTexI'+'N']=_0x243e88['scope']['resolve']('particleTe'+'xIN'),this['constantPa'+'rticleTexO'+'UT']=_0x243e88['scope']['resolve']('particleTe'+'xOUT'),this['constantEm'+'itterPos']=_0x243e88['scope']['resolve']('emitterPos'),this['constantEm'+'itterScale']=_0x243e88['scope']['resolve']('emitterSca'+'le'),this['constantSp'+'awnBounds']=_0x243e88['scope']['resolve']('spawnBound'+'s'),this['constantSp'+'awnPosInne'+'rRatio']=_0x243e88['scope']['resolve']('spawnPosIn'+'nerRatio'),this['constantSp'+'awnBoundsS'+'phere']=_0x243e88['scope']['resolve']('spawnBound'+'sSphere'),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']=_0x243e88['scope']['resolve']('spawnBound'+'sSphereInn'+'erRatio'),this['constantIn'+'itialVeloc'+'ity']=_0x243e88['scope']['resolve']('initialVel'+'ocity'),this['constantFr'+'ameRandom']=_0x243e88['scope']['resolve']('frameRando'+'m'),this['constantDe'+'lta']=_0x243e88['scope']['resolve']('delta'),this['constantRa'+'te']=_0x243e88['scope']['resolve']('rate'),this['constantRa'+'teDiv']=_0x243e88['scope']['resolve']('rateDiv'),this['constantLi'+'fetime']=_0x243e88['scope']['resolve']('lifetime'),this['constantGr'+'aphSampleS'+'ize']=_0x243e88['scope']['resolve']('graphSampl'+'eSize'),this['constantGr'+'aphNumSamp'+'les']=_0x243e88['scope']['resolve']('graphNumSa'+'mples'),this['constantIn'+'ternalTex0']=_0x243e88['scope']['resolve']('internalTe'+'x0'),this['constantIn'+'ternalTex1']=_0x243e88['scope']['resolve']('internalTe'+'x1'),this['constantIn'+'ternalTex2']=_0x243e88['scope']['resolve']('internalTe'+'x2'),this['constantIn'+'ternalTex3']=_0x243e88['scope']['resolve']('internalTe'+'x3'),this['constantEm'+'itterMatri'+'x']=_0x243e88['scope']['resolve']('emitterMat'+'rix'),this['constantEm'+'itterMatri'+'xInv']=_0x243e88['scope']['resolve']('emitterMat'+'rixInv'),this['constantNu'+'mParticles']=_0x243e88['scope']['resolve']('numParticl'+'es'),this['constantNu'+'mParticles'+'Pot']=_0x243e88['scope']['resolve']('numParticl'+'esPot'),this['constantLo'+'calVelocit'+'yDivMult']=_0x243e88['scope']['resolve']('localVeloc'+'ityDivMult'),this['constantVe'+'locityDivM'+'ult']=_0x243e88['scope']['resolve']('velocityDi'+'vMult'),this['constantRo'+'tSpeedDivM'+'ult']=_0x243e88['scope']['resolve']('rotSpeedDi'+'vMult'),this['constantSe'+'ed']=_0x243e88['scope']['resolve']('seed'),this['constantSt'+'artAngle']=_0x243e88['scope']['resolve']('startAngle'),this['constantSt'+'artAngle2']=_0x243e88['scope']['resolve']('startAngle'+'2'),this['constantOu'+'tBoundsMul']=_0x243e88['scope']['resolve']('outBoundsM'+'ul'),this['constantOu'+'tBoundsAdd']=_0x243e88['scope']['resolve']('outBoundsA'+'dd'),this['constantIn'+'BoundsSize']=_0x243e88['scope']['resolve']('inBoundsSi'+'ze'),this['constantIn'+'BoundsCent'+'er']=_0x243e88['scope']['resolve']('inBoundsCe'+'nter'),this['constantMa'+'xVel']=_0x243e88['scope']['resolve']('maxVel'),this['constantFa'+'ceTangent']=_0x243e88['scope']['resolve']('faceTangen'+'t'),this['constantFa'+'ceBinorm']=_0x243e88['scope']['resolve']('faceBinorm');}['_setInputB'+'ounds'](){this['inBoundsSi'+'zeUniform'][0xd*-0x20+-0x5*0x247+0xd03]=this['_emitter']['prevWorldB'+'oundsSize']['x'],this['inBoundsSi'+'zeUniform'][-0x614+-0x134c+0x1961]=this['_emitter']['prevWorldB'+'oundsSize']['y'],this['inBoundsSi'+'zeUniform'][0x23+-0x45*-0x41+-0x6*0x2f1]=this['_emitter']['prevWorldB'+'oundsSize']['z'],this['constantIn'+'BoundsSize']['setValue'](this['inBoundsSi'+'zeUniform']),this['inBoundsCe'+'nterUnifor'+'m'][-0x2480+-0xeae+0x332e]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['x'],this['inBoundsCe'+'nterUnifor'+'m'][-0x279+0x1fe9+-0x1d6f]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['y'],this['inBoundsCe'+'nterUnifor'+'m'][-0x4*0x46a+-0x1262+0x240c]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['z'],this['constantIn'+'BoundsCent'+'er']['setValue'](this['inBoundsCe'+'nterUnifor'+'m']);}['randomize'](){this['frameRando'+'mUniform'][0xb3*0x1c+0x59*-0x38+-0x1*0x1c]=Math['random'](),this['frameRando'+'mUniform'][0xcc8*0x2+-0x283*0x7+-0x7fa]=Math['random'](),this['frameRando'+'mUniform'][0xe43*-0x1+0xf98*0x2+-0x3d*0x47]=Math['random']();}['update'](_0x7c5273,_0xec9ff1,_0x406c41,_0x6b372a,_0x1b4251){Q['pushGpuMar'+'ker'](_0x7c5273,'ParticleGP'+'U');const _0x3296a9=this['_emitter'];_0x7c5273['setBlendSt'+'ate'](pt['NOBLEND']),_0x7c5273['setDepthSt'+'ate'](Yt['NODEPTH']),_0x7c5273['setCullMod'+'e'](bt),this['randomize'](),this['constantGr'+'aphSampleS'+'ize']['setValue']((-0x253a*-0x1+-0x3e+-0x24fb)/_0x3296a9['precision']),this['constantGr'+'aphNumSamp'+'les']['setValue'](_0x3296a9['precision']),this['constantNu'+'mParticles']['setValue'](_0x3296a9['numParticl'+'es']),this['constantNu'+'mParticles'+'Pot']['setValue'](_0x3296a9['numParticl'+'esPot']),this['constantIn'+'ternalTex0']['setValue'](_0x3296a9['internalTe'+'x0']),this['constantIn'+'ternalTex1']['setValue'](_0x3296a9['internalTe'+'x1']),this['constantIn'+'ternalTex2']['setValue'](_0x3296a9['internalTe'+'x2']),this['constantIn'+'ternalTex3']['setValue'](_0x3296a9['internalTe'+'x3']);const _0x5357b9=_0x3296a9['meshInstan'+'ce']['node'],_0x38bb59=_0x5357b9===null?D['ONE']:_0x5357b9['localScale'];if(_0x3296a9['pack8']){this['worldBound'+'sMulUnifor'+'m'][-0x2659*-0x1+0x717+-0x2d70]=_0x3296a9['worldBound'+'sMul']['x'],this['worldBound'+'sMulUnifor'+'m'][0x11ba+0x374+0x152d*-0x1]=_0x3296a9['worldBound'+'sMul']['y'],this['worldBound'+'sMulUnifor'+'m'][-0x1714+-0x14*-0x78+0xdb6]=_0x3296a9['worldBound'+'sMul']['z'],this['constantOu'+'tBoundsMul']['setValue'](this['worldBound'+'sMulUnifor'+'m']),this['worldBound'+'sAddUnifor'+'m'][-0x51b*0x2+0x5*0x26b+-0x1e1*0x1]=_0x3296a9['worldBound'+'sAdd']['x'],this['worldBound'+'sAddUnifor'+'m'][0xd9c+0xc7d*-0x2+0xb5f]=_0x3296a9['worldBound'+'sAdd']['y'],this['worldBound'+'sAddUnifor'+'m'][0x903*-0x1+-0x1*-0x24b5+-0x1bb0]=_0x3296a9['worldBound'+'sAdd']['z'],this['constantOu'+'tBoundsAdd']['setValue'](this['worldBound'+'sAddUnifor'+'m']),this['_setInputB'+'ounds']();let _0x4a3fdf=_0x3296a9['maxVel']*Math['max'](Math['max'](_0x38bb59['x'],_0x38bb59['y']),_0x38bb59['z']);_0x4a3fdf=Math['max'](_0x4a3fdf,0x216b+0x1*0x193f+-0x3aa9),this['constantMa'+'xVel']['setValue'](_0x4a3fdf);}const _0x1fe5e2=_0x5357b9===null||_0x3296a9['localSpace']?D['ZERO']:_0x5357b9['getPositio'+'n'](),_0x10fd15=_0x5357b9===null?te['IDENTITY']:_0x5357b9['getWorldTr'+'ansform']();_0x3296a9['emitterSha'+'pe']===ai?(J_['setFromMat'+'4'](_0xec9ff1),this['constantSp'+'awnBounds']['setValue'](J_['data']),this['constantSp'+'awnPosInne'+'rRatio']['setValue'](_0x406c41)):(this['constantSp'+'awnBoundsS'+'phere']['setValue'](_0x3296a9['emitterRad'+'ius']),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']['setValue'](_0x3296a9['emitterRad'+'ius']===0xb75+-0x101*-0xf+-0xd42*0x2?0xad9+0x313*-0x2+0x1*-0x4b3:_0x3296a9['emitterRad'+'iusInner']/_0x3296a9['emitterRad'+'ius'])),this['constantIn'+'itialVeloc'+'ity']['setValue'](_0x3296a9['initialVel'+'ocity']),eg['setFromMat'+'4'](_0x10fd15),tg['invertMat4'](_0x10fd15),this['emitterPos'+'Uniform'][-0x1*-0x548+0x359*-0x3+0x17*0x35]=_0x1fe5e2['x'],this['emitterPos'+'Uniform'][0x1fdd+0x4*-0x1f6+-0xd4*0x1d]=_0x1fe5e2['y'],this['emitterPos'+'Uniform'][-0x1254+0x1d27+-0x3*0x39b]=_0x1fe5e2['z'],this['constantEm'+'itterPos']['setValue'](this['emitterPos'+'Uniform']),this['constantFr'+'ameRandom']['setValue'](this['frameRando'+'mUniform']),this['constantDe'+'lta']['setValue'](_0x6b372a),this['constantRa'+'te']['setValue'](_0x3296a9['rate']),this['constantRa'+'teDiv']['setValue'](_0x3296a9['rate2']-_0x3296a9['rate']),this['constantSt'+'artAngle']['setValue'](_0x3296a9['startAngle']*Y['DEG_TO_RAD']),this['constantSt'+'artAngle2']['setValue'](_0x3296a9['startAngle'+'2']*Y['DEG_TO_RAD']),this['constantSe'+'ed']['setValue'](_0x3296a9['seed']),this['constantLi'+'fetime']['setValue'](_0x3296a9['lifetime']),this['emitterSca'+'leUniform'][-0x1da5+-0x1*-0x1435+-0x1*-0x970]=_0x38bb59['x'],this['emitterSca'+'leUniform'][-0x67*-0x4d+-0x64c*-0x2+-0x152*0x21]=_0x38bb59['y'],this['emitterSca'+'leUniform'][0x2408+0x957+-0x7*0x67b]=_0x38bb59['z'],this['constantEm'+'itterScale']['setValue'](this['emitterSca'+'leUniform']),this['constantEm'+'itterMatri'+'x']['setValue'](eg['data']),this['constantEm'+'itterMatri'+'xInv']['setValue'](tg['data']),this['constantLo'+'calVelocit'+'yDivMult']['setValue'](_0x3296a9['localVeloc'+'ityUMax']),this['constantVe'+'locityDivM'+'ult']['setValue'](_0x3296a9['velocityUM'+'ax']),this['constantRo'+'tSpeedDivM'+'ult']['setValue'](_0x3296a9['rotSpeedUM'+'ax'][-0x19*0x1f+0x1fa7+-0x1ca0*0x1]);let _0x199351=_0x3296a9['swapTex']?_0x3296a9['particleTe'+'xOUT']:_0x3296a9['particleTe'+'xIN'];_0x199351=_0x3296a9['beenReset']?_0x3296a9['particleTe'+'xStart']:_0x199351;const _0x1fc5ed=_0x3296a9['swapTex']?_0x3296a9['particleTe'+'xIN']:_0x3296a9['particleTe'+'xOUT'];this['constantPa'+'rticleTexI'+'N']['setValue'](_0x199351),Ar(_0x7c5273,_0x3296a9['swapTex']?_0x3296a9['rtParticle'+'TexIN']:_0x3296a9['rtParticle'+'TexOUT'],_0x1b4251?_0x3296a9['shaderPart'+'icleUpdate'+'OnStop']:_0x3296a9['loop']?_0x3296a9['shaderPart'+'icleUpdate'+'Respawn']:_0x3296a9['shaderPart'+'icleUpdate'+'NoRespawn']),_0x3296a9['material']['setParamet'+'er']('particleTe'+'xOUT',_0x199351),_0x3296a9['material']['setParamet'+'er']('particleTe'+'xIN',_0x1fc5ed),_0x3296a9['beenReset']=!(0xb4*0x12+0x252a+-0x31d1),_0x3296a9['swapTex']=!_0x3296a9['swapTex'],_0x3296a9['prevWorldB'+'oundsSize']['copy'](_0x3296a9['worldBound'+'sSize']),_0x3296a9['prevWorldB'+'oundsCente'+'r']['copy'](_0x3296a9['worldBound'+'s']['center']),_0x3296a9['pack8']&&this['_setInputB'+'ounds'](),Q['popGpuMark'+'er'](_0x7c5273);}}const sg=['NONE','VERTEX','MAP'];class _A extends ya{['generateKe'+'y'](_0x5eb179){let _0x595f49='particle_'+ya['definesHas'+'h'](_0x5eb179['defines'])+'_';for(const _0x5a5fe3 in _0x5eb179)_0x5eb179['hasOwnProp'+'erty'](_0x5a5fe3)&&(_0x595f49+=_0x5eb179[_0x5a5fe3]);return _0x595f49;}['createVert'+'exDefines'](_0x4795fc,_0x28f6f3){const _0x41a2cc=new Map(_0x4795fc['defines']);return _0x4795fc['mesh']&&_0x41a2cc['set']('USE_MESH',''),_0x4795fc['meshUv']&&_0x41a2cc['set']('USE_MESH_U'+'V',''),_0x4795fc['localSpace']&&_0x41a2cc['set']('LOCAL_SPAC'+'E',''),_0x4795fc['screenSpac'+'e']&&_0x41a2cc['set']('SCREEN_SPA'+'CE',''),_0x4795fc['animTex']&&_0x41a2cc['set']('ANIMTEX',''),_0x4795fc['soft']>-0x53*0xa+0x1963+-0x1*0x1625&&_0x41a2cc['set']('SOFT',''),_0x4795fc['stretch']>-0x23fd+-0xb71+0x2f6e&&_0x41a2cc['set']('STRETCH',''),_0x4795fc['customFace']&&_0x41a2cc['set']('CUSTOM_FAC'+'E',''),_0x4795fc['pack8']&&_0x41a2cc['set']('PACK8',''),_0x4795fc['localSpace']&&_0x41a2cc['set']('LOCAL_SPAC'+'E',''),_0x4795fc['animTexLoo'+'p']&&_0x41a2cc['set']('ANIMTEX_LO'+'OP',''),_0x4795fc['wrap']&&_0x41a2cc['set']('WRAP',''),_0x4795fc['alignToMot'+'ion']&&_0x41a2cc['set']('ALIGN_TO_M'+'OTION',''),_0x41a2cc['set']('NORMAL',sg[_0x4795fc['normal']]),_0x28f6f3['particle_v'+'ertexData']=Me,_0x4795fc['mesh']&&_0x4795fc['meshUv']&&(_0x28f6f3['particle_u'+'v']=is),_0x4795fc['useCpu']&&(_0x28f6f3['particle_v'+'ertexData2']=uh,_0x28f6f3['particle_v'+'ertexData3']=Ap,_0x28f6f3['particle_v'+'ertexData4']=Cp,_0x28f6f3['particle_v'+'ertexData5']=Pp),_0x41a2cc;}['createFrag'+'mentDefine'+'s'](_0x4d6fc3){const _0x47b68f=new Map(_0x4d6fc3['defines']);return _0x4d6fc3['soft']>-0x69a*-0x3+-0x6b5*-0x5+-0x3557&&_0x47b68f['set']('SOFT',''),_0x4d6fc3['halflamber'+'t']&&_0x47b68f['set']('HALF_LAMBE'+'RT',''),_0x47b68f['set']('NORMAL',sg[_0x4d6fc3['normal']]),_0x47b68f['set']('BLEND',Yy[_0x4d6fc3['blend']]),_0x47b68f;}['createShad'+'erDefiniti'+'on'](_0x21e698,_0x339a92){const _0x42dc95=_0x21e698['isWebGPU']?it:Fe,_0x1c5c53=Pe['get'](_0x21e698,_0x42dc95),_0x5cae40={},_0x557c4c=this['createVert'+'exDefines'](_0x339a92,_0x5cae40),_0x32c22a=this['createFrag'+'mentDefine'+'s'](_0x339a92),_0x4c55e5='PARTICLE_'+(_0x339a92['useCpu']?'CPU':'GPU')+'\x0a';_0x557c4c['set'](_0x4c55e5,''),_0x32c22a['set'](_0x4c55e5,'');const _0x23498d=new Map(_0x1c5c53);return Jt['createDefi'+'nition'](_0x21e698,{'name':'ParticleSh'+'ader','shaderLanguage':_0x42dc95,'attributes':_0x5cae40,'vertexCode':_0x1c5c53['get']('particle_s'+'haderVS'),'fragmentCode':_0x1c5c53['get']('particle_s'+'haderPS'),'fragmentDefines':_0x32c22a,'fragmentIncludes':_0x23498d,'vertexIncludes':_0x23498d,'vertexDefines':_0x557c4c});}}const gA=new _A();class SA extends tr{constructor(_0x19b11e){super(),h(this,'emitter',null),(this['emitter']=_0x19b11e,w['assert'](_0x19b11e));}['getShaderV'+'ariant'](_0x2050ae){const {device:_0x4e0a1f,scene:_0x4a408d,cameraShaderParams:_0x5b642f,objDefs:_0x2ebc0f}=_0x2050ae,{emitter:_0x2709cb}=this,_0x4c397c={'defines':$t['getCoreDef'+'ines'](this,_0x2050ae),'pass':Aa,'useCpu':this['emitter']['useCpu'],'normal':_0x2709cb['lighting']?_0x2709cb['normalMap']!==null?0x4a8+-0x4*-0x48d+-0x16da:0x6e2+-0xcbb+-0x2ed*-0x2:0x195a+-0xb5*0x31+-0x3d*-0x27,'halflambert':this['emitter']['halfLamber'+'t'],'stretch':this['emitter']['stretch'],'alignToMotion':this['emitter']['alignToMot'+'ion'],'soft':this['emitter']['depthSofte'+'ning'],'mesh':this['emitter']['useMesh'],'meshUv':_0x2ebc0f&nm,'gamma':(_0x5b642f==null?void(-0x5*-0x50b+-0x878+-0x10bf):_0x5b642f['shaderOutp'+'utGamma'])??Ll,'toneMap':(_0x5b642f==null?void(-0xda1+-0x1*0x1003+0x4*0x769):_0x5b642f['toneMappin'+'g'])??sm,'fog':_0x4a408d&&!this['emitter']['noFog']?_0x4a408d['fog']['type']:'none','wrap':this['emitter']['wrap']&&this['emitter']['wrapBounds'],'localSpace':this['emitter']['localSpace'],'screenSpace':_0x2709cb['inTools']?!(0x1*0x1345+-0x5a+-0x12ea):this['emitter']['screenSpac'+'e'],'blend':this['emitter']['blendType'],'animTex':this['emitter']['_isAnimate'+'d'](),'animTexLoop':this['emitter']['animLoop'],'pack8':this['emitter']['pack8'],'customFace':this['emitter']['orientatio'+'n']!==yh},_0x145221=new Ad(_0x2050ae['viewUnifor'+'mFormat'],_0x2050ae['viewBindGr'+'oupFormat'],_0x2050ae['vertexForm'+'at']),_0x1ea16c=Hn(_0x4e0a1f);return _0x1ea16c['register']('particle',gA),_0x1ea16c['getProgram']('particle',_0x4c397c,_0x145221,this['userId']);}}const ig=[[-(-0x159c+0x149d+0x8*0x20),-(-0x1c8f+-0x1d5*0x7+0x2963)],[-0x1d5c+0xeb*-0x13+0x2ece,-(-0x7*0x1c5+0x161c+-0x9b8)],[0x8f*-0x19+-0x1*-0x1c5f+-0x4cd*0x3,-0x21*-0x11b+-0x283+-0x2f*0xb9],[-(-0x7d*0x41+-0x1863*0x1+-0x3821*-0x1),-0x1a41+-0x10*-0x187+0x1d2]];function xs(_0x511b2a,_0x4d7eac,_0x21798d,_0x6acc,_0x16f175=Xt,_0x40ceb2,_0x3a2205){let _0x580c0a=Te;_0x3a2205&&(_0x16f175===Ne||_0x16f175===_s)&&(_0x580c0a=vt);const _0x56de74=new _e(_0x511b2a,{'width':_0x4d7eac,'height':_0x21798d,'format':_0x16f175,'cubemap':!(0x4*-0x6da+0xbff*-0x3+0x1*0x3f66),'mipmaps':!(-0x6c2+-0x9a9+0x4*0x41b),'minFilter':_0x580c0a,'magFilter':_0x580c0a,'addressU':ue,'addressV':ue,'name':'ParticleSy'+'stemTextur'+'e'}),_0xeaaa56=_0x56de74['lock']();if(_0x16f175===Ne||_0x16f175===_s){const _0x53d21e=new Uint8Array(_0x6acc['length']);for(let _0x2ef561=0x2684+0x587+-0x2c0b;_0x2ef561<_0x6acc['length'];_0x2ef561++)_0x53d21e[_0x2ef561]=_0x6acc[_0x2ef561]*_0x40ceb2*(0x1b95*-0x1+-0x1016*0x1+0x2caa);_0x6acc=_0x53d21e;}return _0xeaaa56['set'](_0x6acc),_0x56de74['unlock'](),_0x56de74;}function rg(_0x9d4926){return Math['max'](Math['min'](_0x9d4926,0x106*0x11+-0x16b4+0x54f),0x33*0x7b+-0x1430+-0x451);}const ag=new qs([0x21c0+0xb9b+-0x2d5b,-0x231*0x8+-0x336+0x14be,0x2503+-0xd0d+-0x1*0x17f5,-0x16*-0x17d+0x1a6*-0x1+-0x1f18]),ng=new qs([0x7f0+-0x1*-0x9eb+-0x1*0x11db,-0xf5*0x1f+-0x12f+0xa49*0x3,-0xc4*-0x17+-0x1d1b+0xb80,-0x1*0x157a+-0x776+0xef*0x1f]),og=new na([0x1cb3*0x1+-0x2237+0x584,0x1c0b*0x1+-0x62*-0xd+-0x2105,-0x75*-0x18+-0xd*0x14b+0x5d8,-0x5d*-0x13+-0x21e4+0x7*0x3db],[-0x420+-0x496+0x8b6,0x207+-0x1ccd+0x1ac6,-0x22fa+0x1f4b*-0x1+0x2*0x2123,0x20b3+0x16db+-0x378e],[0x8*-0x4a0+0x86*-0x16+0x3084,-0x21b5+0xc*0x2ee+-0x173,0x1*0xb38+-0x35a+0x21*-0x3d,0x1e9*-0xe+-0x7*0x49+0x1cbd]),yA=new na([0x6b*-0x4+-0x1b83*-0x1+-0x31*0x87,-0x4*0x84e+-0x2330+0x4469,0x16*-0x3d+-0x2430+0x296f*0x1,0x1cee+0xda*-0xf+0x1027*-0x1],[0x20eb+-0x1968+0x281*-0x3,-0x57c+-0x1589+-0x2*-0xd83,-0x1053+-0x7b0+0xd4*0x1d,-0xce9*-0x1+0x2*-0x3a5+-0x2cf*0x2],[0x14d*0xb+0xa7f*0x3+-0x2dcc,-0x26a1+-0x2101+0x47a3,0x161d+0xfee+-0x260a,0x7fa+-0x20ef+0x47*0x5a]);let bi=0x1337+-0x1b76+0x841;const pc=0x1d2+-0x16e2+-0x47*-0x4c,Ai=new Float32Array(0x9ac*-0x1+-0xe2*0x1e+0x242b),Ur=new te(),lg=new D(),mc=new D(),_c=new D();let uu,Zc;function he(_0x34070b,_0x133709){Zc[_0x34070b]!==void(0xd56+0x582+0x1*-0x12d8)&&Zc[_0x34070b]!==null?uu[_0x34070b]=Zc[_0x34070b]:uu[_0x34070b]=_0x133709;}function Dv(_0x155275,_0x4c488d,_0x2881ff){return(_0x155275*(0x5*-0x1bb+0x185f+-0xeb9*0x1)<<0xb56+0x1*-0x264a+0x1b04|_0x4c488d*(0x1e9f+-0x1139+-0xc67)<<-0x2616+-0x17*0x164+0x2*0x230d|_0x2881ff*(-0x7f3+0x44c*0x1+0x23*0x22))/(0x3c0+0x2488+0x7*-0x5c1<<-0xfb+0xb3*-0x33+-0x125e*-0x2);}function cg(_0x66e6f6,_0x4abec1){const _0x24535f=_0x66e6f6['length']/(-0x1ac1+0x13e4+0x6e0),_0x552628=new Array(_0x24535f*(-0x1*0x1e17+-0x1ae8+0x3cd*0xf));for(let _0x226dcc=-0x470*0x6+0x81f+0x1281;_0x226dcc<_0x24535f;_0x226dcc++)_0x552628[_0x226dcc*(0x8af+-0x1*-0xcd3+-0x15*0x106)]=_0x66e6f6[_0x226dcc*(0xa84+-0x22ea+0x1*0x1869)],_0x552628[_0x226dcc*(0xd17*0x2+-0xc22+-0xe08)+(0x2110+0x4f*-0x13+0xd99*-0x2)]=_0x66e6f6[_0x226dcc*(0x7*-0x4ff+-0x606+0x3a*0xb5)+(-0x249*-0x3+0xc3a+-0xb*0x1bc)],_0x552628[_0x226dcc*(0x1441+-0x2ef+-0x114e)+(0x129f+0x1f82+-0x321f)]=_0x66e6f6[_0x226dcc*(0x1cf*-0x13+0xe2b+0x7*0x2e3)+(0x1b3f*-0x1+0x2661+-0x10*0xb2)],_0x552628[_0x226dcc*(-0x53*-0x5f+0x908+-0x27d1)+(-0x13ea+0x1c*-0x118+0x328d*0x1)]=Dv(_0x4abec1[_0x226dcc*(-0x1788+0x4*-0x80f+0x37c7)],_0x4abec1[_0x226dcc*(-0x22a7*0x1+0x1*0xf25+0x107*0x13)+(-0x25dc+-0xca*0x1a+-0x131*-0x31)],_0x4abec1[_0x226dcc*(0xf1c+0x1ee4+-0x2dfd)+(0x21f5*-0x1+-0x17b0+0x39a7*0x1)]);return _0x552628;}function vA(_0x2e00da,_0x54d17f){const _0x33f0d8=new Array(_0x54d17f['length']*(-0xe0d+-0xed1*-0x1+-0x10*0xc));for(let _0x5981b8=0x125b+0x1682+-0xb*0x3b7;_0x5981b8<_0x54d17f['length'];_0x5981b8++)_0x33f0d8[_0x5981b8*(-0x6*0x4d9+-0x1*0x1e39+0x3b53)]=_0x2e00da[_0x5981b8*(-0x1*0x157d+0xa75+0xb0b)],_0x33f0d8[_0x5981b8*(-0xa*0x1+0x1150+-0x2f*0x5e)+(-0xe59+-0x1387*-0x2+-0x18b4)]=_0x2e00da[_0x5981b8*(0x44*-0x6d+0x5ee+0x1709*0x1)+(-0x1b2b*0x1+0x44a+-0xca*-0x1d)],_0x33f0d8[_0x5981b8*(0x174d+-0x40+0x1*-0x1709)+(-0x5f3+0x2331+-0x4*0x74f)]=_0x2e00da[_0x5981b8*(0x1*-0x13de+0xeb2+0x52f)+(-0xb+0x58*0x47+-0x185b)],_0x33f0d8[_0x5981b8*(-0x2242+0x261+-0x73*-0x47)+(0x1*0x211d+-0x2518+0x1ff*0x2)]=_0x54d17f[_0x5981b8];return _0x33f0d8;}function xA(_0x55dbc1,_0x5d4e07,_0xb59499,_0x2bfdd5,_0x405f04){const _0x2bf9d6=new Array(_0x55dbc1['length']*(0x1a65+-0x8*-0xb0+-0x1*0x1fe1));for(let _0x361338=0x235*-0x1+0x11*-0x242+0x2897;_0x361338<_0x55dbc1['length'];_0x361338++)_0x2bf9d6[_0x361338*(0x1b20+0x342*-0x5+-0xad2)]=_0x55dbc1[_0x361338],_0x2bf9d6[_0x361338*(-0x92*0x32+0x54a+-0x19*-0xee)+(-0xa12*0x1+-0x16*-0x165+-0x149b)]=_0x5d4e07[_0x361338],_0x2bf9d6[_0x361338*(0x7e5*0x1+0x433*0x2+-0x1*0x1047)+(0xc2*0x14+-0x47b+-0x1*0xaab)]=0x2d7*0x6+-0x4*0x33b+0x3e*-0x11,_0x2bf9d6[_0x361338*(0x1*-0x203b+-0x188e+-0x25*-0x189)+(-0x18f5*-0x1+-0x9f4*0x2+-0x50a)]=Dv(_0xb59499[_0x361338],_0x2bfdd5[_0x361338],_0x405f04[_0x361338]);return _0x2bf9d6;}function TA(_0x242440,_0x238d64){const _0x5074b9=new Array(_0x242440['length']*(0xd*0x2f7+0x1*-0x5e4+-0x20a3));for(let _0x5ed858=0x6d8*0x2+-0x1*0x2661+0x18b1;_0x5ed858<_0x242440['length'];_0x5ed858++)_0x5074b9[_0x5ed858*(0x1bc0+-0x1*0xd49+-0xe73)]=_0x242440[_0x5ed858],_0x5074b9[_0x5ed858*(-0x1904+-0x7cc+-0x2fc*-0xb)+(0x1*-0x8e4+0x809*-0x1+0x10ee)]=_0x238d64[_0x5ed858],_0x5074b9[_0x5ed858*(0x3f*-0x53+0x1014+0x45d)+(-0x13e7+0x1*0x19d3+0x2*-0x2f5)]=0x10*0x11b+-0x1e67+0xcb7,_0x5074b9[_0x5ed858*(-0x17ff+0x1*0x435+0x13ce)+(0x1ff*0x13+-0x20ee+-0x4fc)]=-0xe70*-0x1+-0x1e65+-0x2b*-0x5f;return _0x5074b9;}function wA(_0x16d669){const _0x588d91=Math['max'](_0x16d669['rate'],_0x16d669['rate2'])*_0x16d669['numParticl'+'es']+_0x16d669['lifetime'];return Date['now']()+_0x588d91*(0x13a*-0x1+0x23a3+0x1e81*-0x1);}function EA(_0x9520d5,_0xc3f593){const _0x27c259=new Float32Array(_0x9520d5['length']);for(let _0x56a3f0=0x1b*0x15b+-0x1ff2+-0x3*0x18d;_0x56a3f0<_0x9520d5['length'];_0x56a3f0++)_0x27c259[_0x56a3f0]=_0x9520d5[_0x56a3f0]-_0xc3f593[_0x56a3f0];return _0x27c259;}function Xr(_0x4dc72f,_0x10dfc9){const _0x23c6bb=_0x10dfc9['length'],_0x475413=_0x4dc72f['length']/_0x23c6bb;for(let _0xd08985=-0x43*0x4e+0x1ff+0x126b;_0xd08985<_0x475413;_0xd08985++)for(let _0x397aed=0x3b*0x95+0xee0+0x125*-0x2b;_0x397aed<_0x23c6bb;_0x397aed++){const _0x776c95=Math['abs'](_0x4dc72f[_0xd08985*_0x23c6bb+_0x397aed]);_0x10dfc9[_0x397aed]=Math['max'](_0x10dfc9[_0x397aed],_0x776c95);}}function bA(_0x3c3d65,_0x1abc0c){const _0x1c5f10=_0x1abc0c['length'],_0x5f55b4=_0x3c3d65['length']/_0x1c5f10;for(let _0x4fa587=-0x524*-0x1+-0x138*0x1c+-0x8c*-0x35;_0x4fa587<_0x5f55b4;_0x4fa587++)for(let _0x591575=-0x2536+0x1bf9+0x93d;_0x591575<_0x1c5f10;_0x591575++)_0x3c3d65[_0x4fa587*_0x1c5f10+_0x591575]/=_0x1abc0c[_0x591575]===-0xb45*0x2+0x3*-0x8c+0x182e?0x5e+-0x1efc+-0x9*-0x367:_0x1abc0c[_0x591575],_0x3c3d65[_0x4fa587*_0x1c5f10+_0x591575]*=0xeea*-0x2+-0x1a3*0x5+0x2603+0.5,_0x3c3d65[_0x4fa587*_0x1c5f10+_0x591575]+=0x1371*-0x2+0x1a1*0xf+0xe73+0.5;}function Br(_0x47e033,_0x6bdabf,_0x4fdb40){const _0xec757d=EA(_0x6bdabf,_0x47e033);return Xr(_0xec757d,_0x4fdb40),bA(_0xec757d,_0x4fdb40),_0xec757d;}const AA=new Kt();class CA{constructor(_0x6afab2,_0x4c5c78){h(this,'material',null),h(this,'internalTe'+'x0',null),h(this,'internalTe'+'x1',null),h(this,'internalTe'+'x2',null),h(this,'colorParam',null),this['graphicsDe'+'vice']=_0x6afab2;const _0x2f1acc=_0x6afab2,_0x9afd80=-0x1de*0x5+0x4*0x33b+0x2*-0x1bb;this['precision']=_0x9afd80,this['_addTimeTi'+'me']=0xe6c+0x4*-0x71f+0xe10,uu=this,Zc=_0x4c5c78,he('numParticl'+'es',0x724+0x2d2+-0x9f5*0x1),this['numParticl'+'es']>_0x6afab2['maxTexture'+'Size']&&(w['warn']('WARNING:\x20c'+'an\x27t\x20creat'+'e\x20more\x20tha'+'n\x20'+_0x6afab2['maxTexture'+'Size']+('\x20particles'+'\x20on\x20this\x20d'+'evice.')),this['numParticl'+'es']=_0x6afab2['maxTexture'+'Size']),he('rate',0x2*0xef2+0xd71+-0xad5*0x4),he('rate2',this['rate']),he('lifetime',0x38+0x288+-0x3*0xda),he('emitterExt'+'ents',new D(0xe5a+-0x581*-0x5+0x1b*-0x18d,0xc45+0x233d+-0x2f82*0x1,0xdd8*-0x1+-0x1692+-0x1235*-0x2)),he('emitterExt'+'entsInner',new D(0x1314+-0x1174*-0x2+-0x35fc,-0x1*-0xcc+0x1527+-0x15f3,0x1a19+0xd2d+-0x13a3*0x2)),he('emitterRad'+'ius',-0x2397*0x1+-0xbac+0x3*0xfc1),he('emitterRad'+'iusInner',0xe*-0x2b4+-0x1601+0x3bd9),he('emitterSha'+'pe',ai),he('initialVel'+'ocity',-0x1454*0x1+-0x21e2+0x3637),he('wrap',!(-0x1*-0x89b+0xd50+-0x16*0xff)),he('localSpace',!(0x212*0x2+0x1997+-0x1dba)),he('screenSpac'+'e',!(-0xd0e+-0xa*-0xad+0x64d)),he('wrapBounds',null),he('colorMap',this['defaultPar'+'amTexture']),he('normalMap',null),he('loop',!(-0x1*0x2072+0x1fa9+0xc9)),he('preWarm',!(0x1a+0x18c9+0x1ea*-0xd)),he('sort',nu),he('mode',rv),he('scene',null),he('lighting',!(0x2*0xab2+0x1b0d+0x1f*-0x190)),he('halfLamber'+'t',!(0x12e9+0x200b*0x1+-0x32f3)),he('intensity',0x3*0x52f+0x23eb+-0x3377),he('stretch',-0x232*-0x4+0x1*0x2590+0x2*-0x172c),he('alignToMot'+'ion',!(-0x2338+0x176c+0x13*0x9f)),he('depthSofte'+'ning',0x14ac+-0xe*-0x162+-0x8*0x501),he('mesh',null),he('particleNo'+'rmal',new D(0x93a+-0x20c4+0xbc5*0x2,0x257*0x2+-0x31*0x61+-0xe*-0xfe,0x1f*-0x1d+-0x1c58+0x1fdb)),he('orientatio'+'n',yh),he('depthWrite',!(-0x8fb+-0x193a+-0x3a*-0x97)),he('noFog',!(0x13*-0x68+0x3*-0x4f1+0x168c)),he('blendType',Zs),he('node',null),he('startAngle',-0x43*0x4f+0x621+0xe8c),he('startAngle'+'2',this['startAngle']),he('animTilesX',-0x1d2e+0x1366+-0x1f5*-0x5),he('animTilesY',0xa*-0x1ce+-0xa4f+0x717*0x4),he('animStartF'+'rame',0xaa2+0x1*0x1b3b+-0x25dd),he('animNumFra'+'mes',-0xa80+-0xf3b+0x24*0xb7),he('animNumAni'+'mations',0x1*0xdfd+-0x1*-0x228e+-0x39*0xda),he('animIndex',-0x186+-0x2*-0x12d2+0x45*-0x86),he('randomizeA'+'nimIndex',!(0x5d9*0x5+-0x242a+-0x377*-0x2)),he('animSpeed',0x1*0x1571+-0x41*0x71+0x741),he('animLoop',!(0x2694+-0x179f+0x1*-0xef5)),this['_gpuUpdate'+'r']=new mA(this,_0x2f1acc),this['_cpuUpdate'+'r']=new pA(this),this['emitterPos'+'Uniform']=new Float32Array(-0x1dbc+0x1a87+0xce*0x4),this['wrapBounds'+'Uniform']=new Float32Array(0x8*0x1cd+-0x5d3+-0x892),this['emitterSca'+'leUniform']=new Float32Array([-0xe3a+-0x1ee6+0x2d21,0x1687+0x1e5b+-0x1*0x34e1,0x3*0x9db+-0x6e5+0x1*-0x16ab]),he('colorGraph',yA),he('colorGraph'+'2',this['colorGraph']),he('scaleGraph',ng),he('scaleGraph'+'2',this['scaleGraph']),he('alphaGraph',ng),he('alphaGraph'+'2',this['alphaGraph']),he('localVeloc'+'ityGraph',og),he('localVeloc'+'ityGraph2',this['localVeloc'+'ityGraph']),he('velocityGr'+'aph',og),he('velocityGr'+'aph2',this['velocityGr'+'aph']),he('rotationSp'+'eedGraph',ag),he('rotationSp'+'eedGraph2',this['rotationSp'+'eedGraph']),he('radialSpee'+'dGraph',ag),he('radialSpee'+'dGraph2',this['radialSpee'+'dGraph']),this['animTilesP'+'arams']=new Float32Array(-0x1+-0x2392+-0x1*-0x2395),this['animParams']=new Float32Array(-0x134f+-0x249*0x9+0x13f2*0x2),this['animIndexP'+'arams']=new Float32Array(-0x91c+-0x170e+-0x3a*-0x8e),this['vbToSort']=null,this['vbOld']=null,this['particleDi'+'stance']=null,this['camera']=null,this['swapTex']=!(-0x180f*-0x1+0x9*-0x5d+0x139*-0x11),this['useMesh']=!(-0x6*-0x184+-0xb37+0xb5*0x3),this['useCpu']=!_0x6afab2['supportsGp'+'uParticles'],this['pack8']=!(0xadf+-0xca*-0x4+0x85*-0x1b),this['localBound'+'s']=new De(),this['worldBound'+'sNoTrail']=new De(),this['worldBound'+'sTrail']=[new De(),new De()],this['worldBound'+'s']=new De(),this['worldBound'+'sSize']=new D(),this['prevWorldB'+'oundsSize']=new D(),this['prevWorldB'+'oundsCente'+'r']=new D(),this['prevEmitte'+'rExtents']=this['emitterExt'+'ents'],this['prevEmitte'+'rRadius']=this['emitterRad'+'ius'],this['worldBound'+'sMul']=new D(),this['worldBound'+'sAdd']=new D(),this['timeToSwit'+'chBounds']=0x1fd0+-0xad4+0x4f*-0x44,this['shaderPart'+'icleUpdate'+'Respawn']=null,this['shaderPart'+'icleUpdate'+'NoRespawn']=null,this['shaderPart'+'icleUpdate'+'OnStop']=null,this['numParticl'+'eVerts']=0x21a2+-0x8bf+-0x18e3,this['numParticl'+'eIndices']=0xd2b+0x29*-0x97+0x4*0x2c1,this['material']=null,this['meshInstan'+'ce']=null,this['drawOrder']=0x1d32+0x1387*0x2+-0x270*0x1c,this['seed']=Math['random'](),this['fixedTimeS'+'tep']=(-0x1773+0x202e+-0x8ba)/(0x24dd+-0x10ed+-0x13b4),this['maxSubStep'+'s']=-0x59c*-0x5+0xa51*0x1+-0x2653*0x1,this['simTime']=0x1*0x103a+-0x39+0x1*-0x1001,this['simTimeTot'+'al']=0x1429*-0x1+-0xd9c+0x23*0xf7,this['beenReset']=!(-0x1*0x16cf+-0x244f+0x3b1f),this['_layer']=null,this['rebuild']();}get['defaultPar'+'amTexture'](){return w['assert'](this['graphicsDe'+'vice']),AA['get'](this['graphicsDe'+'vice'],()=>{const _0x3734b7=new Float32Array(-0x25a+0x1a00+-0x13a6);for(let _0x2c57c6=-0x1*-0x1061+0x2453+0x4*-0xd2d;_0x2c57c6<0x254d+-0x2020+0x51d*-0x1;_0x2c57c6++)for(let _0x3963a6=-0x1*0x65e+0x1405+-0xda7;_0x3963a6<-0x1e83+0x18ec+0x5a7;_0x3963a6++){const _0x462e11=_0x3963a6+(-0x25d1+0x1bf7*-0x1+-0x41c9*-0x1)-(-0x1f91+-0x2256+0x41ef+0.5),_0x3ebae4=_0x2c57c6+(0xe6e+-0xc11+-0x2*0x12e)-(-0x958*-0x3+-0x1ec4+0xb1*0x4+0.5),_0xde5582=rg(-0x1683+-0x717+0x1d9b-rg(Math['sqrt'](_0x462e11*_0x462e11+_0x3ebae4*_0x3ebae4)/(0x19a1*-0x1+-0xdf*0x1e+0x33d3*0x1))-(-0x23d*0x1+-0x1b41+-0x5*-0x5e6+0.5)),_0x29eb09=_0x2c57c6*(0x2525+-0xb21+0x12e*-0x16)+_0x3963a6;_0x3734b7[_0x29eb09*(-0x52d+0x2608*-0x1+0x2b39)]=-0x7db+-0xd10+-0xa76*-0x2,_0x3734b7[_0x29eb09*(0x22ea+-0x1*-0x1bbb+0x1*-0x3ea1)+(-0xdf1*-0x1+0x19*0xa3+-0x1ddb)]=0xe5+0x263f+-0x2723,_0x3734b7[_0x29eb09*(0x145e+-0x13*0x85+-0xa7b)+(-0x5*-0x6c2+0x25*-0x4a+-0xb8b*0x2)]=0x45d*-0x1+0x2159+0x3*-0x9a9,_0x3734b7[_0x29eb09*(-0xfba+-0x80f*0x2+0x1fdc)+(0x19*-0x187+0x76c+0x1a*0x12f)]=_0xde5582;}const _0x49907f=xs(this['graphicsDe'+'vice'],-0x14*0x121+0x2e*0x7+0x1562,0x26d9+-0x61d*0x3+-0x1472,_0x3734b7,_s,0x6*0x539+-0x3ec*-0x9+0x25*-0x1cd,!(-0x10*-0x133+0x1a*-0x29+0x502*-0x3));return _0x49907f['minFilter']=vt,_0x49907f['magFilter']=vt,_0x49907f;});}['onChangeCa'+'mera'](){this['resetMater'+'ial']();}['calculateB'+'oundsMad'](){this['worldBound'+'sMul']['x']=(0x825+0x193c+-0x6*0x590)/this['worldBound'+'sSize']['x'],this['worldBound'+'sMul']['y']=(-0xb0b+0x1085+-0x579)/this['worldBound'+'sSize']['y'],this['worldBound'+'sMul']['z']=(0x5b7+-0x2*0xe3f+0x16c8)/this['worldBound'+'sSize']['z'],this['worldBound'+'sAdd']['copy'](this['worldBound'+'s']['center'])['mul'](this['worldBound'+'sMul'])['mulScalar'](-(-0x1ffe+-0x11*0x4c+0x250b)),this['worldBound'+'sAdd']['x']+=-0x188d+-0x13a0+-0x107*-0x2b+0.5,this['worldBound'+'sAdd']['y']+=0x1126*-0x1+0x2626+-0x1500+0.5,this['worldBound'+'sAdd']['z']+=0x34b*-0xb+-0x2c4+0x26fd+0.5;}['calculateW'+'orldBounds'](){if(!this['node'])return;if(this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),!this['useCpu']){let _0x30e8a=!(-0x2bd*0x3+0x1856+-0x101e*0x1);this['emitterSha'+'pe']===ai?_0x30e8a=!this['emitterExt'+'ents']['equals'](this['prevEmitte'+'rExtents']):_0x30e8a=this['emitterRad'+'ius']!==this['prevEmitte'+'rRadius'],_0x30e8a&&this['calculateL'+'ocalBounds']();}const _0x11076b=this['node']['getWorldTr'+'ansform']();this['localSpace']?this['worldBound'+'sNoTrail']['copy'](this['localBound'+'s']):this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],_0x11076b),this['worldBound'+'sTrail'][-0xec6+-0x1dac+-0x1*-0x2c72]['add'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][0x1d22+-0x778+-0x15a9]['add'](this['worldBound'+'sNoTrail']);const _0x52bf80=this['simTimeTot'+'al'];_0x52bf80>=this['timeToSwit'+'chBounds']&&(this['worldBound'+'sTrail'][-0x43*-0x3a+-0x1424+0x4f6*0x1]['copy'](this['worldBound'+'sTrail'][0x138c+-0xfd0+-0x3bb]),this['worldBound'+'sTrail'][0x1720+0x3fa*0x2+-0x1f13]['copy'](this['worldBound'+'sNoTrail']),this['timeToSwit'+'chBounds']=_0x52bf80+this['lifetime']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0x7a9+-0x111*0x7+0xf20]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x2*-0x9c9+0x22a8+-0xf14),this['localSpace']?(this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x11076b),this['meshInstan'+'ce']['mesh']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x11076b)):(this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['mesh']['aabb']['copy'](this['worldBound'+'s'])),this['meshInstan'+'ce']['_aabbVer']=0x1581+0xda3*0x1+-0x2323-this['meshInstan'+'ce']['_aabbVer'],this['pack8']&&this['calculateB'+'oundsMad']();}['resetWorld'+'Bounds'](){this['node']&&(this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?te['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0xf93+0x25f9+-0x1666]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][0x1d+0x739*0x1+-0x755*0x1]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0x4*0x50f+-0x2181+0x35bd]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x4*-0x4+-0x23e6+-0x128*-0x1f),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['simTimeTot'+'al']=-0x1*-0x1b43+-0x219*0x4+-0x12df,this['timeToSwit'+'chBounds']=0x1c83+-0x4*-0x5f+-0x1dff);}['calculateL'+'ocalBounds'](){let _0x164745=Number['MAX_VALUE'],_0x30442b=Number['MAX_VALUE'],_0x2a2c17=Number['MAX_VALUE'],_0x2cd029=-Number['MAX_VALUE'],_0x2e4978=-Number['MAX_VALUE'],_0xc8f00b=-Number['MAX_VALUE'],_0x4c9cac=0x80e+0x224e*-0x1+-0x8c*-0x30,_0x8f1216=0x5*0x623+-0x211*0x5+-0x145a;const _0x1b0aed=this['lifetime']/this['precision'],_0x5113f8=[this['qVelocity'],this['qVelocity2']],_0x440081=[this['qLocalVelo'+'city'],this['qLocalVelo'+'city2']],_0x36d1e0=[-0x2cb+0x1930+0x3*-0x777,-0x287*-0x9+0x1f0e+-0x35cd],_0x3cd5ea=[-0x8b3+0x1*-0x9c2+0x15*0xe1,0xcb*0x23+0x946+-0x1*0x2507],_0x31f17e=[0x2439*-0x1+-0x23bc+0xd*0x589,-0xc90+-0x1*-0x1609+-0x979],_0x31a10f=[-0x2666+-0xf53*-0x1+0x1713,-0x22e5+0x1*0xe6b+-0x2*-0xa3d],_0x40389d=[-0x1ef6+-0x480+0x22*0x10b,0x214d*-0x1+0x27d+-0x4*-0x7b4];let _0x11192a,_0x41072e,_0x3e7213;for(let _0x593831=0x306+-0x15a9+-0x16f*-0xd;_0x593831<this['precision']+(-0x1a00+-0xf5*-0x15+-0xbd*-0x8);_0x593831++){const _0x50870e=Math['min'](_0x593831,this['precision']-(0x1a5e+-0x1*-0x2f+-0x1a8c));for(let _0x30b043=-0x1949+-0x1fe8+-0xb*-0x533;_0x30b043<-0x1a02+0x644+0x9e0*0x2;_0x30b043++)_0x11192a=_0x440081[_0x30b043][_0x50870e*(-0x2301+0x3*-0x4eb+0x31c5)+(0x2*-0x1e0+-0x1*0x26b+0x1*0x62b)]*_0x1b0aed+_0x36d1e0[_0x30b043],_0x41072e=_0x440081[_0x30b043][_0x50870e*(0x4f5+0x1*-0x845+0x25*0x17)+(0xabd*0x1+-0x193a+0xe7e)]*_0x1b0aed+_0x3cd5ea[_0x30b043],_0x3e7213=_0x440081[_0x30b043][_0x50870e*(-0x3c3*0x7+-0x1b*0xfc+-0x8d2*-0x6)+(-0xef3+0xb12+0x3e3)]*_0x1b0aed+_0x31f17e[_0x30b043],_0x164745=Math['min'](_0x11192a,_0x164745),_0x30442b=Math['min'](_0x41072e,_0x30442b),_0x2a2c17=Math['min'](_0x3e7213,_0x2a2c17),_0x2cd029=Math['max'](_0x11192a,_0x2cd029),_0x2e4978=Math['max'](_0x41072e,_0x2e4978),_0xc8f00b=Math['max'](_0x3e7213,_0xc8f00b),_0x36d1e0[_0x30b043]=_0x11192a,_0x3cd5ea[_0x30b043]=_0x41072e,_0x31f17e[_0x30b043]=_0x3e7213;for(let _0xb9c372=-0x9f+-0x17aa+0x1849;_0xb9c372<-0x1*-0x14b1+0x94*0xb+-0x1b0b;_0xb9c372++)_0x40389d[_0xb9c372]+=_0x1b0aed*Math['sqrt'](_0x5113f8[_0xb9c372][_0x50870e*(-0x1b95+-0x16c4+0x2*0x192e)+(0x1a1*-0x5+0x5fb+0x22a*0x1)]*_0x5113f8[_0xb9c372][_0x50870e*(0x1*-0x1961+0xb19+0xe4b*0x1)+(-0x1d23+0x1*-0x587+0xb8e*0x3)]+_0x5113f8[_0xb9c372][_0x50870e*(0x29f*0xe+-0x2a*0x50+0x1*-0x178f)+(-0x13d*-0x16+0x3*0x2bb+-0x236e)]*_0x5113f8[_0xb9c372][_0x50870e*(0xd*-0x243+0x49*-0x10+-0x10fd*-0x2)+(0x5d+0x2566+-0x25c2)]+_0x5113f8[_0xb9c372][_0x50870e*(-0x1*0x12d1+0x17*-0x152+-0x1899*-0x2)+(0x1214+-0x1c07+-0x1*-0x9f5)]*_0x5113f8[_0xb9c372][_0x50870e*(0x9d0+0x956*0x1+0x1323*-0x1)+(-0xb99*-0x2+-0x1*-0x224+0xcaa*-0x2)]);_0x31a10f[0x1301+-0x87+0x1*-0x127a]+=this['qRadialSpe'+'ed'][_0x50870e]*_0x1b0aed,_0x31a10f[-0x2647+-0xd*0x47+-0x29e3*-0x1]+=this['qRadialSpe'+'ed2'][_0x50870e]*_0x1b0aed,_0x4c9cac=Math['max'](_0x4c9cac,Math['max'](Math['abs'](_0x31a10f[-0x1*-0x256c+-0x1954+-0xc18]),Math['abs'](_0x31a10f[0x5*0xaf+-0x42b+0xc1]))),_0x8f1216=Math['max'](_0x8f1216,this['qScale'][_0x50870e]);}this['emitterSha'+'pe']===ai?(_0x11192a=this['emitterExt'+'ents']['x']*(-0x1*0x817+0x5*0x442+-0x1f*0x6d+0.5),_0x41072e=this['emitterExt'+'ents']['y']*(0x26df+-0x1fd2+-0x70d+0.5),_0x3e7213=this['emitterExt'+'ents']['z']*(-0x977*0x3+0x1*0x919+0x134c+0.5)):(_0x11192a=this['emitterRad'+'ius'],_0x41072e=this['emitterRad'+'ius'],_0x3e7213=this['emitterRad'+'ius']);const _0x4db36b=Math['max'](_0x40389d[-0x7*-0x475+0x5db*0x2+-0x41*0xa9],_0x40389d[-0x8*-0x298+0x3*-0xa91+0xaf4]);mc['x']=_0x164745-_0x8f1216-_0x11192a-_0x4c9cac-_0x4db36b,mc['y']=_0x30442b-_0x8f1216-_0x41072e-_0x4c9cac-_0x4db36b,mc['z']=_0x2a2c17-_0x8f1216-_0x3e7213-_0x4c9cac-_0x4db36b,_c['x']=_0x2cd029+_0x8f1216+_0x11192a+_0x4c9cac+_0x4db36b,_c['y']=_0x2e4978+_0x8f1216+_0x41072e+_0x4c9cac+_0x4db36b,_c['z']=_0xc8f00b+_0x8f1216+_0x3e7213+_0x4c9cac+_0x4db36b,this['localBound'+'s']['setMinMax'](mc,_c);}['rebuild'](){const _0x42fe25=this['graphicsDe'+'vice'];this['colorMap']===null&&(this['colorMap']=this['defaultPar'+'amTexture']),this['spawnBound'+'s']=this['emitterSha'+'pe']===ai?this['emitterExt'+'ents']:this['emitterRad'+'ius'],this['useCpu']=this['useCpu']||this['sort']>nu||_0x42fe25['maxVertexT'+'extures']<=0x32e+0x1b4a+0x1e77*-0x1||_0x42fe25['fragmentUn'+'iformsCoun'+'t']<-0x2490+0x562*0x6+0x484||_0x42fe25['forceCpuPa'+'rticles'],this['_destroyRe'+'sources'](),this['pack8']=(this['pack8']||!_0x42fe25['textureFlo'+'atRenderab'+'le'])&&!this['useCpu'],bi=this['useCpu']||this['pack8']?0x7*0x246+0x2*-0x557+-0x538:-0xcfd+0x137*-0x1+0xe36,this['useMesh']=!!this['mesh'],this['numParticl'+'esPot']=Y['nextPowerO'+'fTwo'](this['numParticl'+'es']),this['rebuildGra'+'phs'](),this['calculateL'+'ocalBounds'](),this['resetWorld'+'Bounds'](),this['node']&&(this['worldBound'+'s']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?te['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][0x2f3+0x136c+-0x1*0x165f]['copy'](this['worldBound'+'s']),this['worldBound'+'sTrail'][-0x2016+0x44*0x68+-0x1*-0x477]['copy'](this['worldBound'+'s']),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x2519+-0x4bb+0x29d6),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['pack8']&&this['calculateB'+'oundsMad']()),this['vbToSort']=new Array(this['numParticl'+'es']);for(let _0x43721f=-0x4*-0x159+0x54a+0x1*-0xaae;_0x43721f<this['numParticl'+'es'];_0x43721f++)this['vbToSort'][_0x43721f]=[-0x1c05*-0x1+0x24c3+-0x40c8*0x1,0x1104+-0x740+-0x9c4];this['particleDi'+'stance']=new Float32Array(this['numParticl'+'es']),this['_gpuUpdate'+'r']['randomize'](),this['particleTe'+'x']=new Float32Array(this['numParticl'+'esPot']*bi*pc);const _0x57ff7f=this['node']===null||this['localSpace']?D['ZERO']:this['node']['getPositio'+'n']();this['emitterSha'+'pe']===ai&&(this['node']===null||this['localSpace']?Ur['setTRS'](D['ZERO'],le['IDENTITY'],this['spawnBound'+'s']):Ur['setTRS'](D['ZERO'],this['node']['getRotatio'+'n'](),lg['copy'](this['spawnBound'+'s'])['mul'](this['node']['localScale'])),Ai[-0x2124+-0x2316+0x443a]=this['emitterExt'+'ents']['x']!==-0x10f5+0x1a96+0x1ed*-0x5?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:-0x1*0x1e53+0x1318+0xb3b,Ai[-0x2*-0x11f4+-0x10c1*0x1+-0x1326]=this['emitterExt'+'ents']['y']!==-0x1*-0xfad+-0x7e4+0x1*-0x7c9?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0x1*0xe5f+-0x1cf4+0x3*0xe71,Ai[0x1*0x1b2d+0x1*-0x1a5+-0x1986]=this['emitterExt'+'ents']['z']!==-0xcb2*0x1+0x105e+0x1d6*-0x2?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0x1913*-0x1+0x1*-0x586+-0x7*0x2cb);for(let _0x4bf89f=-0x6df*0x2+0xca7+0x117;_0x4bf89f<this['numParticl'+'es'];_0x4bf89f++)this['_cpuUpdate'+'r']['calcSpawnP'+'osition'](this['particleTe'+'x'],Ur,Ai,_0x57ff7f,_0x4bf89f),this['useCpu']&&(this['particleTe'+'x'][_0x4bf89f*pc+(-0x801+0x7b*0x2f+-0x4db*0x3)+this['numParticl'+'esPot']*(0x219c+-0x182d*0x1+-0x7f*0x13)*pc]=-0x1586+0x95b*-0x4+-0x1*-0x3af3);this['particleTe'+'xStart']=new Float32Array(this['numParticl'+'esPot']*bi*pc);for(let _0x2ff870=-0x24f1+-0x653*0x1+0x2b44;_0x2ff870<this['particleTe'+'xStart']['length'];_0x2ff870++)this['particleTe'+'xStart'][_0x2ff870]=this['particleTe'+'x'][_0x2ff870];this['useCpu']||(this['pack8']?(this['particleTe'+'xIN']=xs(_0x42fe25,this['numParticl'+'esPot'],bi,this['particleTe'+'x'],Ne,-0x2303+0x98b+0x1979*0x1,!(0x8b*0x44+0x13a*0x5+0x67*-0x6b)),this['particleTe'+'xOUT']=xs(_0x42fe25,this['numParticl'+'esPot'],bi,this['particleTe'+'x'],Ne,0x3fd*-0x7+-0x1a6*-0x1+0x1a46,!(0x1*-0x2529+-0x22be+0x47e8)),this['particleTe'+'xStart']=xs(_0x42fe25,this['numParticl'+'esPot'],bi,this['particleTe'+'xStart'],Ne,0xb9c*-0x1+0x821*0x4+0x1*-0x14e7,!(0x5b8*0x2+0x2564+-0x30d3))):(this['particleTe'+'xIN']=xs(_0x42fe25,this['numParticl'+'esPot'],bi,this['particleTe'+'x']),this['particleTe'+'xOUT']=xs(_0x42fe25,this['numParticl'+'esPot'],bi,this['particleTe'+'x']),this['particleTe'+'xStart']=xs(_0x42fe25,this['numParticl'+'esPot'],bi,this['particleTe'+'xStart'])),this['rtParticle'+'TexIN']=new gt({'colorBuffer':this['particleTe'+'xIN'],'depth':!(-0x2d*0xb5+-0x16f+0x2141)}),this['rtParticle'+'TexOUT']=new gt({'colorBuffer':this['particleTe'+'xOUT'],'depth':!(-0x1*0x1b68+-0x1839+0x33a2)}),this['swapTex']=!(0xcc5*0x1+0x39*-0x7c+-0x5*-0x2f8));const _0x4cb790=new Map();this['localSpace']&&_0x4cb790['set']('LOCAL_SPAC'+'E',''),this['pack8']&&_0x4cb790['set']('PACK8',''),this['emitterSha'+'pe']===ai&&_0x4cb790['set']('EMITTERSHA'+'PE_BOX','');const _0x4bd825='Shape:'+this['emitterSha'+'pe']+'-Pack:'+this['pack8']+'-Local:'+this['localSpace'],_0x390863=Pe['get'](_0x42fe25,_0x42fe25['isWebGPU']?it:Fe),_0x1e832d=new Map(_0x390863),_0x5db3a7={'attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentChunk':'particle_s'+'imulationP'+'S','fragmentDefines':_0x4cb790,'fragmentIncludes':_0x1e832d};_0x5db3a7['uniqueName']='ParticleUp'+'dateRespaw'+'n-'+_0x4bd825,_0x4cb790['set']('RESPAWN',''),this['shaderPart'+'icleUpdate'+'Respawn']=$t['createShad'+'er'](_0x42fe25,_0x5db3a7),_0x4cb790['delete']('RESPAWN'),_0x5db3a7['uniqueName']='ParticleUp'+'dateNoResp'+'awn-'+_0x4bd825,_0x4cb790['set']('NO_RESPAWN',''),this['shaderPart'+'icleUpdate'+'NoRespawn']=$t['createShad'+'er'](_0x42fe25,_0x5db3a7),_0x4cb790['delete']('NO_RESPAWN'),_0x5db3a7['uniqueName']='ParticleUp'+'dateStop-'+_0x4bd825,_0x4cb790['set']('ON_STOP',''),this['shaderPart'+'icleUpdate'+'OnStop']=$t['createShad'+'er'](_0x42fe25,_0x5db3a7),this['numParticl'+'eVerts']=this['useMesh']?this['mesh']['vertexBuff'+'er']['numVertice'+'s']:-0x9e*-0x6+0x153c+-0x18ec,this['numParticl'+'eIndices']=this['useMesh']?this['mesh']['indexBuffe'+'r'][-0x35*-0xb+0x10bb+-0x981*0x2]['numIndices']:0x312+0x3*-0x3e1+0x897,this['_allocate'](this['numParticl'+'es']);const _0x247836=new Ge(_0x42fe25);_0x247836['vertexBuff'+'er']=this['vertexBuff'+'er'],_0x247836['indexBuffe'+'r'][0x2*0x73+0x3*-0x562+0xf40]=this['indexBuffe'+'r'],_0x247836['primitive'][0x167*0x2+0xf31+-0x1*0x11ff]['type']=js,_0x247836['primitive'][-0x1ca*0x3+-0x4a7+-0x5*-0x201]['base']=0xa8b+-0xd64+0x2d9,_0x247836['primitive'][0xa*-0xd7+-0x1e9+0xa4f]['count']=this['numParticl'+'es']*this['numParticl'+'eIndices'],_0x247836['primitive'][-0x4da+-0x26*-0x6c+-0xb2e]['indexed']=!(0x1ce6+0x1*-0x13f3+0x1d*-0x4f),this['material']=this['_createMat'+'erial'](),this['resetMater'+'ial']();const _0x53d146=this['meshInstan'+'ce']?this['meshInstan'+'ce']['visible']:!(-0x20da+-0x1984+0x3a5e);this['meshInstan'+'ce']=new He(_0x247836,this['material'],this['node']),this['meshInstan'+'ce']['pick']=!(0x137c+-0x142f+0xb4),this['meshInstan'+'ce']['updateKey'](),this['meshInstan'+'ce']['cull']=!(0x1*-0x15fb+0x2568+-0xf6d),this['localSpace']?this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],this['node']['getWorldTr'+'ansform']()):this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['_updateAab'+'b']=!(0x1b51+0x1*0xab5+-0x2605),this['meshInstan'+'ce']['visible']=_0x53d146,this['_setMateri'+'alTextures'](),this['resetTime'](),this['addTime'](-0x4a*-0x6e+0xe54+0x2*-0x1710,!(0x11dc+-0x1949*0x1+0x76e)),this['preWarm']&&this['prewarm'](this['lifetime']);}['_isAnimate'+'d'](){return this['animNumFra'+'mes']>=0x247*-0x9+0x304*0x1+-0x45f*-0x4&&(this['animTilesX']>-0xc54*-0x3+0x567+-0x2a62||this['animTilesY']>0x23c0+-0x8a4+-0x1b1b)&&(this['colorMap']&&this['colorMap']!==this['defaultPar'+'amTexture']||this['normalMap']);}['rebuildGra'+'phs'](){const _0x22cf61=this['precision'],_0x4a701b=this['graphicsDe'+'vice'];this['qLocalVelo'+'city']=this['localVeloc'+'ityGraph']['quantize'](_0x22cf61),this['qVelocity']=this['velocityGr'+'aph']['quantize'](_0x22cf61),this['qColor']=this['colorGraph']['quantizeCl'+'amped'](_0x22cf61,0x233b*-0x1+0x2*-0x3fa+0x2b2f,0x8dc+0x1bda+0x1*-0x24b5),this['qRotSpeed']=this['rotationSp'+'eedGraph']['quantize'](_0x22cf61),this['qScale']=this['scaleGraph']['quantize'](_0x22cf61),this['qAlpha']=this['alphaGraph']['quantize'](_0x22cf61),this['qRadialSpe'+'ed']=this['radialSpee'+'dGraph']['quantize'](_0x22cf61),this['qLocalVelo'+'city2']=this['localVeloc'+'ityGraph2']['quantize'](_0x22cf61),this['qVelocity2']=this['velocityGr'+'aph2']['quantize'](_0x22cf61),this['qColor2']=this['colorGraph'+'2']['quantizeCl'+'amped'](_0x22cf61,-0x3a7+0x6fb*-0x5+0x268e,-0x161a+-0x210f+0x372a),this['qRotSpeed2']=this['rotationSp'+'eedGraph2']['quantize'](_0x22cf61),this['qScale2']=this['scaleGraph'+'2']['quantize'](_0x22cf61),this['qAlpha2']=this['alphaGraph'+'2']['quantize'](_0x22cf61),this['qRadialSpe'+'ed2']=this['radialSpee'+'dGraph2']['quantize'](_0x22cf61);for(let _0x1d29d9=-0x22*-0xc3+0x2*0xbf8+-0x31d6;_0x1d29d9<_0x22cf61;_0x1d29d9++)this['qRotSpeed'][_0x1d29d9]*=Y['DEG_TO_RAD'],this['qRotSpeed2'][_0x1d29d9]*=Y['DEG_TO_RAD'];if(this['localVeloc'+'ityUMax']=new Float32Array(0x12fd*0x2+0x1d3c+-0x4333),this['velocityUM'+'ax']=new Float32Array(0x152e+0x2bd*-0x7+-0x200),this['colorUMax']=new Float32Array(-0xe07+-0x53*-0x49+-0x55*0x1d),this['rotSpeedUM'+'ax']=[0x283*0x7+-0x5cb*-0x4+-0x1*0x28c1],this['scaleUMax']=[0x149+-0x923+-0x2*-0x3ed],this['alphaUMax']=[0x7c2+-0x14aa+0xce8],this['radialSpee'+'dUMax']=[0x7f4+-0xe*-0x9e+0x588*-0x3],this['qLocalVelo'+'cityDiv']=Br(this['qLocalVelo'+'city'],this['qLocalVelo'+'city2'],this['localVeloc'+'ityUMax']),this['qVelocityD'+'iv']=Br(this['qVelocity'],this['qVelocity2'],this['velocityUM'+'ax']),this['qColorDiv']=Br(this['qColor'],this['qColor2'],this['colorUMax']),this['qRotSpeedD'+'iv']=Br(this['qRotSpeed'],this['qRotSpeed2'],this['rotSpeedUM'+'ax']),this['qScaleDiv']=Br(this['qScale'],this['qScale2'],this['scaleUMax']),this['qAlphaDiv']=Br(this['qAlpha'],this['qAlpha2'],this['alphaUMax']),this['qRadialSpe'+'edDiv']=Br(this['qRadialSpe'+'ed'],this['qRadialSpe'+'ed2'],this['radialSpee'+'dUMax']),this['pack8']){const _0x5cee21=[-0xa0d+-0x30*-0x53+-0x583,-0x6*0x147+0x1*-0x1b37+0x22e1,0x1ff3*0x1+0x87+0x1*-0x207a];Xr(this['qVelocity'],_0x5cee21);const _0x23b5d5=[-0x2b7*-0xe+-0x262c+0x2a,0x2*-0x17f+-0x944+0x3*0x416,0x7ad+-0x7c*0x26+0xabb];Xr(this['qVelocity2'],_0x23b5d5);const _0x468600=[0x2*0xa72+-0x533*-0x2+0x9*-0x37a,-0x14fc+-0x1*0xfbc+0x24b8,-0x9f9+0x1*-0x2588+0x2f81*0x1];Xr(this['qLocalVelo'+'city'],_0x468600);const _0x17bd6d=[0x55f+-0x19a+0x1*-0x3c5,-0x44d+-0xe1*-0x18+-0x10cb,-0x3d*0x60+0x8*0xd9+0xce*0x14];Xr(this['qLocalVelo'+'city2'],_0x17bd6d);const _0x52137e=[0xaa+0x1d50+-0x1dfa];Xr(this['qRadialSpe'+'ed'],_0x52137e);const _0x585301=[-0x226a+-0xa*0x71+-0x1c*-0x163];Xr(this['qRadialSpe'+'ed2'],_0x585301);let _0x1c98d2=Math['max'](_0x5cee21[-0x24f3+0x2051+0x4a2],_0x23b5d5[0x18fc+0x276*0xe+-0x3b70]);_0x1c98d2=Math['max'](_0x1c98d2,_0x5cee21[-0xc7+-0x1dbd*-0x1+-0x1cf5]),_0x1c98d2=Math['max'](_0x1c98d2,_0x23b5d5[0x1*0xecd+-0x2294+0x13c8]),_0x1c98d2=Math['max'](_0x1c98d2,_0x5cee21[0xa95+-0x295*0x1+0x1*-0x7fe]),_0x1c98d2=Math['max'](_0x1c98d2,_0x23b5d5[-0x1afb*-0x1+-0x377*0xb+0x4*0x2c9]);let _0x4cba48=Math['max'](_0x468600[-0x1*0x16c+0xefb*-0x1+-0x1067*-0x1],_0x17bd6d[-0x51f+0xe5*-0x1a+0x1c61]);_0x4cba48=Math['max'](_0x4cba48,_0x468600[0x2416+-0x12*0x6+0x11*-0x219]),_0x4cba48=Math['max'](_0x4cba48,_0x17bd6d[0x529+0xe5*-0x7+-0x1*-0x11b]),_0x4cba48=Math['max'](_0x4cba48,_0x468600[-0x15fa*-0x1+-0x322+-0x12d6]),_0x4cba48=Math['max'](_0x4cba48,_0x17bd6d[0xc7d+0x1*0x1113+-0x1d8e]);const _0x458417=Math['max'](_0x52137e[-0x1f9d+-0x390+0x232d*0x1],_0x585301[0x24f9+0x7*-0xf8+-0x1e31]);this['maxVel']=_0x1c98d2+_0x4cba48+_0x458417;}this['useCpu']||(this['internalTe'+'x0']=xs(_0x4a701b,_0x22cf61,0x1*-0x1a47+-0x16b7+0x30ff*0x1,cg(this['qLocalVelo'+'city'],this['qLocalVelo'+'cityDiv'])),this['internalTe'+'x1']=xs(_0x4a701b,_0x22cf61,-0x1*0x22f1+-0x150a+0x37fc,cg(this['qVelocity'],this['qVelocityD'+'iv'])),this['internalTe'+'x2']=xs(_0x4a701b,_0x22cf61,-0xf9*0x22+0x1*0x1b2b+0x36*0x1c,xA(this['qRotSpeed'],this['qScale'],this['qScaleDiv'],this['qRotSpeedD'+'iv'],this['qAlphaDiv'])),this['internalTe'+'x3']=xs(_0x4a701b,_0x22cf61,0xd97+-0x3fd+-0x9*0x111,TA(this['qRadialSpe'+'ed'],this['qRadialSpe'+'edDiv']))),this['colorParam']=xs(_0x4a701b,_0x22cf61,-0xe*-0x26f+0x1*0x2515+-0x2*0x2393,vA(this['qColor'],this['qAlpha']),_s,0x59*0x3a+-0x1927*-0x1+-0x14*0x244,!(0x3d8*0x5+0x18c*-0x1+-0x11ac));}['_setMateri'+'alTextures'](){this['colorMap']&&(w['call'](()=>{py(this['colorMap']['format'])&&w['warnOnce']('ParticleEm'+'itter:\x20col'+'orMap\x20text'+'ure\x20['+this['colorMap']['name']+(']\x20is\x20not\x20u'+'sing\x20sRGB\x20'+'format.\x20Pl'+'ease\x20corre'+'ct\x20it\x20for\x20'+'the\x20correc'+'t\x20renderin'+'g.'),this['colorMap']);}),this['material']['setParamet'+'er']('colorMap',this['colorMap']),this['lighting']&&this['normalMap']&&this['material']['setParamet'+'er']('normalMap',this['normalMap']));}['_createMat'+'erial'](){const _0x42c06d=new SA(this);return _0x42c06d['name']='EmitterMat'+'erial:'+this['node']['name'],_0x42c06d['cull']=bt,_0x42c06d['alphaWrite']=!(-0x1*0x659+0x2041+-0x19e7),_0x42c06d['blendType']=this['blendType'],_0x42c06d['depthWrite']=this['depthWrite'],_0x42c06d;}['resetMater'+'ial'](){const _0x2310fb=this['material'];_0x2310fb['setParamet'+'er']('stretch',this['stretch']),this['_isAnimate'+'d']()&&(_0x2310fb['setParamet'+'er']('animTexTil'+'esParams',this['animTilesP'+'arams']),_0x2310fb['setParamet'+'er']('animTexPar'+'ams',this['animParams']),_0x2310fb['setParamet'+'er']('animTexInd'+'exParams',this['animIndexP'+'arams'])),_0x2310fb['setParamet'+'er']('colorMult',this['intensity']),this['useCpu']||(_0x2310fb['setParamet'+'er']('internalTe'+'x0',this['internalTe'+'x0']),_0x2310fb['setParamet'+'er']('internalTe'+'x1',this['internalTe'+'x1']),_0x2310fb['setParamet'+'er']('internalTe'+'x2',this['internalTe'+'x2']),_0x2310fb['setParamet'+'er']('internalTe'+'x3',this['internalTe'+'x3'])),_0x2310fb['setParamet'+'er']('colorParam',this['colorParam']),_0x2310fb['setParamet'+'er']('numParticl'+'es',this['numParticl'+'es']),_0x2310fb['setParamet'+'er']('numParticl'+'esPot',this['numParticl'+'esPot']),_0x2310fb['setParamet'+'er']('lifetime',this['lifetime']),_0x2310fb['setParamet'+'er']('rate',this['rate']),_0x2310fb['setParamet'+'er']('rateDiv',this['rate2']-this['rate']),_0x2310fb['setParamet'+'er']('seed',this['seed']),_0x2310fb['setParamet'+'er']('scaleDivMu'+'lt',this['scaleUMax'][-0x1*-0x25c0+0x9c5+-0x3*0xfd7]),_0x2310fb['setParamet'+'er']('alphaDivMu'+'lt',this['alphaUMax'][0x280*-0x1+-0x1*-0x14c2+0xf6*-0x13]),_0x2310fb['setParamet'+'er']('radialSpee'+'dDivMult',this['radialSpee'+'dUMax'][0x5*0x571+0x3f*-0x4d+-0x842]),_0x2310fb['setParamet'+'er']('graphNumSa'+'mples',this['precision']),_0x2310fb['setParamet'+'er']('graphSampl'+'eSize',(-0x961*0x4+-0x25*0x7d+-0x58f*-0xa)/this['precision']),_0x2310fb['setParamet'+'er']('emitterSca'+'le',new Float32Array([-0xf4b+0x2*0x10b4+0x7a*-0x26,-0xe6+-0x1*0x2d2+-0x3b9*-0x1,-0x2567+0x1*-0xa39+0x2fa1])),this['pack8']&&(this['_gpuUpdate'+'r']['_setInputB'+'ounds'](),_0x2310fb['setParamet'+'er']('inBoundsSi'+'ze',this['_gpuUpdate'+'r']['inBoundsSi'+'zeUniform']),_0x2310fb['setParamet'+'er']('inBoundsCe'+'nter',this['_gpuUpdate'+'r']['inBoundsCe'+'nterUnifor'+'m']),_0x2310fb['setParamet'+'er']('maxVel',this['maxVel'])),this['wrap']&&this['wrapBounds']&&(this['wrapBounds'+'Uniform'][0x260e+0x380*0xb+0x29*-0x1de]=this['wrapBounds']['x'],this['wrapBounds'+'Uniform'][-0x1b07+-0x201d+0x3b25]=this['wrapBounds']['y'],this['wrapBounds'+'Uniform'][-0x1d4a+-0x18+0x1d64]=this['wrapBounds']['z'],_0x2310fb['setParamet'+'er']('wrapBounds',this['wrapBounds'+'Uniform'])),this['_setMateri'+'alTextures'](),this['depthSofte'+'ning']>-0x22f1+0x5d*0xa+0x1f4f&&_0x2310fb['setParamet'+'er']('softening',(0x1*-0x10e+0xd54*0x1+-0x9*0x15d)/(this['depthSofte'+'ning']*this['depthSofte'+'ning']*(0x2*0x3de+0x25dd*0x1+-0x2d35))),this['stretch']>0x1b6e+0xe47+0x1*-0x29b5&&(_0x2310fb['cull']=bt),this['_compParti'+'cleFacePar'+'ams']();}['_compParti'+'cleFacePar'+'ams'](){let _0x141bcd,_0x30d35f;if(this['orientatio'+'n']===yh)_0x141bcd=new Float32Array([0x1*-0x138c+0x2*-0x1101+0x358f,-0x5*0x255+0x4*0x3d6+0x29*-0x17,-0x1d*0xbf+0xf30+0x673]),_0x30d35f=new Float32Array([0x47*0x83+0x2aa+-0x95*0x43,0x4a7+0x2583+0x3*-0xe0e,0x12a9*-0x1+-0x10ae+0x8*0x46b]);else{let _0xcb9717;this['orientatio'+'n']===Vw?_0xcb9717=this['particleNo'+'rmal']['normalize']():_0xcb9717=(this['node']===null?te['IDENTITY']:this['node']['getWorldTr'+'ansform']())['transformV'+'ector'](this['particleNo'+'rmal'])['normalize']();const _0x690e00=new D(0x1*-0x2f5+-0x7be+0xab4,-0x63f*0x3+-0x12b5*0x2+0x5*0xb3b,0x2160+-0x5*0x6f1+0xb*0x1f);Math['abs'](_0x690e00['dot'](_0xcb9717))===-0xe5*0x1+-0x134e+0x1*0x1434&&_0x690e00['set'](0x821*0x2+-0x29*-0x91+0x1*-0x277b,-0x11*0x71+-0x50e+-0x1*-0xc8f,0x220b+0x13c5+-0x35cf);const _0x1f9b4a=new D()['cross'](_0xcb9717,_0x690e00)['normalize']();_0x690e00['cross'](_0x1f9b4a,_0xcb9717)['normalize'](),_0x141bcd=new Float32Array([_0x690e00['x'],_0x690e00['y'],_0x690e00['z']]),_0x30d35f=new Float32Array([_0x1f9b4a['x'],_0x1f9b4a['y'],_0x1f9b4a['z']]);}this['material']['setParamet'+'er']('faceTangen'+'t',_0x141bcd),this['material']['setParamet'+'er']('faceBinorm',_0x30d35f);}['getVertexI'+'nfo'](){const _0x7932f0=[];return this['useCpu']?_0x7932f0['push']({'semantic':Jf,'components':0x4,'type':Ve},{'semantic':uh,'components':0x4,'type':Ve},{'semantic':Ap,'components':0x4,'type':Ve},{'semantic':Cp,'components':0x1,'type':Ve},{'semantic':Pp,'components':this['useMesh']?0x1*-0x2363+0x201+0x2166:-0x1cf1+0x201f+-0x32c,'type':Ve}):(_0x7932f0['push']({'semantic':Jf,'components':0x4,'type':Ve}),this['useMesh']&&_0x7932f0['push']({'semantic':uh,'components':0x2,'type':Ve})),_0x7932f0;}['_allocate'](_0x1f290e){const _0xa75ebc=_0x1f290e*this['numParticl'+'eVerts'],_0x58445c=_0x1f290e*this['numParticl'+'eIndices'];if(this['vertexBuff'+'er']===void(0x81a*0x2+-0x164*0x19+0x1290)||this['vertexBuff'+'er']['getNumVert'+'ices']()!==_0xa75ebc){const _0x59502c=this['getVertexI'+'nfo'](),_0x374463=new kt(this['graphicsDe'+'vice'],_0x59502c);this['vertexBuff'+'er']=new Is(this['graphicsDe'+'vice'],_0x374463,_0xa75ebc,{'usage':lh}),this['indexBuffe'+'r']=new br(this['graphicsDe'+'vice'],wr,_0x58445c);const _0x246e1d=new Float32Array(this['vertexBuff'+'er']['lock']());let _0x1f20c5,_0x240c1e,_0x687c47;if(this['useMesh']){_0x1f20c5=new Float32Array(this['mesh']['vertexBuff'+'er']['lock']()),_0x240c1e=_0x1f20c5['length']/this['mesh']['vertexBuff'+'er']['numVertice'+'s'];for(let _0x547b16=-0x1680+0x26c9+-0xb*0x17b;_0x547b16<this['mesh']['vertexBuff'+'er']['format']['elements']['length'];_0x547b16++)if(this['mesh']['vertexBuff'+'er']['format']['elements'][_0x547b16]['name']===is){_0x687c47=this['mesh']['vertexBuff'+'er']['format']['elements'][_0x547b16]['offset']/(0x1*-0x2145+-0x11a0+0x32e9*0x1);break;}}for(let _0x266abd=0x7*0x4c1+-0x1*-0x815+-0x295c;_0x266abd<_0xa75ebc;_0x266abd++){const _0x12b5d9=Math['floor'](_0x266abd/this['numParticl'+'eVerts']);if(this['useMesh']){const _0x1480d8=_0x266abd%this['numParticl'+'eVerts'];_0x246e1d[_0x266abd*(-0x1a*-0xc2+-0x4be*0x1+-0x1*0xef0)]=_0x1f20c5[_0x1480d8*_0x240c1e],_0x246e1d[_0x266abd*(-0x12fa+-0x227b+0x357b)+(-0x1*0x1f84+-0x1510+0x3495)]=_0x1f20c5[_0x1480d8*_0x240c1e+(0x4a0*0x4+-0xded+-0x492)],_0x246e1d[_0x266abd*(0x210f+-0x2099+0x10*-0x7)+(-0x16fe+-0x1fc3+0x36c3)]=_0x1f20c5[_0x1480d8*_0x240c1e+(-0x22*-0x26+0x8bb+-0xdc5)],_0x246e1d[_0x266abd*(0x900+-0x1*0x1f82+0x1c*0xce)+(-0x1ede+0xc92*0x3+-0x21*0x35)]=_0x12b5d9,_0x246e1d[_0x266abd*(-0x1264*0x2+0x1c1*0x13+0x9*0x63)+(-0xd30*0x1+-0x22*-0x49+0x382)]=_0x1f20c5[_0x1480d8*_0x240c1e+_0x687c47+(-0x1c5a+-0x809+-0x747*-0x5)],_0x246e1d[_0x266abd*(0x24c2+0x749*0x1+-0x2c05)+(0x256*-0x10+-0x9*0x249+0x39f6)]=-0x824+-0x148a+0x7*0x419-_0x1f20c5[_0x1480d8*_0x240c1e+_0x687c47+(0x19*-0x125+0x1bde+0xc0)];}else{const _0x33617e=_0x266abd%(0x22eb+0xb1*0xa+0x85d*-0x5);_0x246e1d[_0x266abd*(0x1ada+0xb7a*0x1+-0x2650*0x1)]=ig[_0x33617e][0x7c1+-0x26ad*-0x1+-0x2e6e],_0x246e1d[_0x266abd*(-0x11*-0x10+-0x1*0x1747+0x163b)+(-0x258d*0x1+0x1*-0x1af8+0x4086*0x1)]=ig[_0x33617e][0x207b+-0x65*0x25+-0x11e1],_0x246e1d[_0x266abd*(-0x1604+0xcf9+0x90f*0x1)+(-0xe*-0xd6+0x3*-0x25f+0x11*-0x45)]=-0x1265+0x1c5b+-0x9f6,_0x246e1d[_0x266abd*(-0x1*-0x246e+-0x1cde*-0x1+-0x4*0x1052)+(0x148a+0x1ffe+-0x3485)]=_0x12b5d9;}}this['useCpu']&&(this['vbCPU']=new Float32Array(_0x246e1d),this['vbOld']=new Float32Array(this['vbCPU']['length'])),this['vertexBuff'+'er']['unlock'](),this['useMesh']&&this['mesh']['vertexBuff'+'er']['unlock']();let _0x533e53=-0x6*-0xf9+-0x1ddf*-0x1+-0x23b5;const _0x24dfa5=new Uint32Array(this['indexBuffe'+'r']['lock']());if(this['useMesh']){const _0x14f764=this['mesh']['indexBuffe'+'r'][0x3*0xac5+-0x2676+0x627];_0x1f20c5=new Sh[_0x14f764['format']](_0x14f764['lock']());}for(let _0x46f98b=-0x998*0x1+0x5fc*0x4+-0x33*0x48;_0x46f98b<_0x1f290e;_0x46f98b++)if(this['useMesh']){for(let _0x32837b=0x1*0x1d6c+-0x3b*-0xa5+0x1f*-0x22d;_0x32837b<this['numParticl'+'eIndices'];_0x32837b++)_0x24dfa5[_0x46f98b*this['numParticl'+'eIndices']+_0x32837b]=_0x1f20c5[_0x32837b]+_0x46f98b*this['numParticl'+'eVerts'];}else{const _0x1f7a49=_0x46f98b*(0x20*-0xd4+0x2192*0x1+-0x70e);_0x24dfa5[_0x533e53++]=_0x1f7a49,_0x24dfa5[_0x533e53++]=_0x1f7a49+(0x115f*-0x2+0xe5e+-0x3*-0x6cb),_0x24dfa5[_0x533e53++]=_0x1f7a49+(-0x7f9*-0x1+-0x1ed3+0x16dc),_0x24dfa5[_0x533e53++]=_0x1f7a49,_0x24dfa5[_0x533e53++]=_0x1f7a49+(-0x38e*0x3+0x159*0x9+-0x175*0x1),_0x24dfa5[_0x533e53++]=_0x1f7a49+(0x553+0x1bab+-0x20fb);}this['indexBuffe'+'r']['unlock'](),this['useMesh']&&this['mesh']['indexBuffe'+'r'][0x6d4+-0x92d+0x259]['unlock']();}}['reset'](){if(this['beenReset']=!(0x11*0xad+0x188*-0x13+-0x119b*-0x1),this['seed']=Math['random'](),this['material']['setParamet'+'er']('seed',this['seed']),this['useCpu']){for(let _0x4094ed=-0xa2d+0x6*-0x599+-0x1*-0x2bc3;_0x4094ed<this['particleTe'+'xStart']['length'];_0x4094ed++)this['particleTe'+'x'][_0x4094ed]=this['particleTe'+'xStart'][_0x4094ed];}else this['_setMateri'+'alTextures']();this['resetWorld'+'Bounds'](),this['resetTime']();const _0x326327=this['loop'];this['loop']=!(-0x2b0+-0x177c+0x1a2c*0x1),this['addTime'](-0x1*-0xa8d+-0xca9+0x6*0x5a,!(0x125b*0x1+0x1*0x24d3+-0x19*0x235)),this['loop']=_0x326327,this['preWarm']&&this['prewarm'](this['lifetime']);}['prewarm'](_0x48f0fd){const _0x3e4732=_0x48f0fd/this['lifetime'],_0x46f0d5=Math['min'](Math['floor'](_0x3e4732*this['precision']),this['precision']),_0x360449=_0x48f0fd/_0x46f0d5;for(let _0x4a774e=-0xb96*-0x3+0xcc1+-0x1*0x2f83;_0x4a774e<_0x46f0d5;_0x4a774e++)this['addTime'](_0x360449,!(-0x1191*0x2+0x9+0x1*0x231a));}['resetTime'](){this['endTime']=wA(this);}['finishFram'+'e'](){this['useCpu']&&this['vertexBuff'+'er']['unlock']();}['addTime'](_0x403697,_0x1cb3fd){const _0x28d397=this['graphicsDe'+'vice'],_0x126f0a=de();if(this['simTimeTot'+'al']+=_0x403697,this['calculateW'+'orldBounds'](),this['_isAnimate'+'d']()){const _0x112c90=this['animTilesP'+'arams'];_0x112c90[-0x1*-0x1593+-0x1ba+-0x13d9]=(-0x269f+-0x3*0x685+0x3a2f)/this['animTilesX'],_0x112c90[-0xa81+0x1e7*0x2+-0x35a*-0x2]=(0x1*-0x1cf3+0x1e51+-0x15d)/this['animTilesY'];const _0x4ee663=this['animParams'];_0x4ee663[-0x4a0*0x2+-0x2*-0x2c6+-0x2*-0x1da]=this['animStartF'+'rame'],_0x4ee663[0x1*0x1bc5+-0x10cd+-0xaf7]=this['animNumFra'+'mes']*this['animSpeed'],_0x4ee663[0x1318+0xf09+-0x221f]=this['animNumFra'+'mes']-(0x15b*-0xe+-0xa31*-0x1+0x6*0x177),_0x4ee663[-0x207f*0x1+0x3*0x6d2+-0x101*-0xc]=this['animNumAni'+'mations']-(0x266+-0xc5*-0x2b+-0x237c);const _0x3aba53=this['animIndexP'+'arams'];_0x3aba53[-0x11*0x1a9+-0x25*0xfb+0x4080]=this['animIndex'],_0x3aba53[-0x49*0xc+0x18d0*0x1+-0x1563]=this['randomizeA'+'nimIndex'];}this['scene']&&this['camera']!==this['scene']['_activeCam'+'era']&&(this['camera']=this['scene']['_activeCam'+'era'],this['onChangeCa'+'mera']()),this['emitterSha'+'pe']===ai&&(Ai[-0xff2+-0x1*0x2003+0x2ff5]=this['emitterExt'+'ents']['x']!==-0x8d6+0x1*0xa39+-0x1*0x163?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:0x1*0xa75+0x1d42+0xd3d*-0x3,Ai[-0x1b*-0x27+-0x49e+0x82]=this['emitterExt'+'ents']['y']!==0x11*0x1fc+0xe97+-0x3053?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:0xe*0x151+-0x2*-0xbf+-0x13ec,Ai[-0xa63*-0x2+0x1d*-0x116+-0xaba*-0x1]=this['emitterExt'+'ents']['z']!==-0x1541+0x1*-0x2457+0xe66*0x4?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:0x1898+-0x13*0x1ca+0x2*0x4b3,this['meshInstan'+'ce']['node']===null?Ur['setTRS'](D['ZERO'],le['IDENTITY'],this['emitterExt'+'ents']):Ur['setTRS'](D['ZERO'],this['meshInstan'+'ce']['node']['getRotatio'+'n'](),lg['copy'](this['emitterExt'+'ents'])['mul'](this['meshInstan'+'ce']['node']['localScale'])));let _0x59bce3;const _0xb0babc=this['meshInstan'+'ce']['node']===null?D['ONE']:this['meshInstan'+'ce']['node']['localScale'];if(this['emitterSca'+'leUniform'][-0x1*0x2552+-0x1b4*-0xb+0x27*0x7a]=_0xb0babc['x'],this['emitterSca'+'leUniform'][-0x8b*-0x1e+0x37*0x91+0x21*-0x170]=_0xb0babc['y'],this['emitterSca'+'leUniform'][-0x1094*0x2+-0x1e3d*-0x1+0x2ed]=_0xb0babc['z'],this['material']['setParamet'+'er']('emitterSca'+'le',this['emitterSca'+'leUniform']),this['localSpace']&&this['meshInstan'+'ce']['node']&&(_0x59bce3=this['meshInstan'+'ce']['node']['getPositio'+'n'](),this['emitterPos'+'Uniform'][0x12ec+0x8*0x1c1+-0x3*0xafc]=_0x59bce3['x'],this['emitterPos'+'Uniform'][0x1fb5+0xd2e+-0x2ce2]=_0x59bce3['y'],this['emitterPos'+'Uniform'][-0x2*-0x4eb+-0x753+-0x281]=_0x59bce3['z'],this['material']['setParamet'+'er']('emitterPos',this['emitterPos'+'Uniform'])),this['_compParti'+'cleFacePar'+'ams'](),!this['useCpu'])this['_gpuUpdate'+'r']['update'](_0x28d397,Ur,Ai,_0x403697,_0x1cb3fd);else{const _0xeb077d=new Float32Array(this['vertexBuff'+'er']['lock']());this['_cpuUpdate'+'r']['update'](_0xeb077d,this['vbToSort'],this['particleTe'+'x'],Ur,Ai,_0x59bce3,_0x403697,_0x1cb3fd);}this['loop']||Date['now']()>this['endTime']&&(this['onFinished']&&this['onFinished'](),this['meshInstan'+'ce']['visible']=!(-0x61f*-0x2+-0x67c+-0x5c1)),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['drawOrder']=this['drawOrder']),this['_addTimeTi'+'me']+=de()-_0x126f0a;}['_destroyRe'+'sources'](){var _0x55251d,_0x175364,_0x50042b,_0x17b378,_0x3ca037,_0x8bdcec,_0x4db0b8,_0x11658c,_0x2bb592,_0x989d7c,_0x4e6620,_0x57ade;(_0x55251d=this['particleTe'+'xIN'])==null||_0x55251d['destroy'](),this['particleTe'+'xIN']=null,(_0x175364=this['particleTe'+'xOUT'])==null||_0x175364['destroy'](),this['particleTe'+'xOUT']=null,this['particleTe'+'xStart']&&this['particleTe'+'xStart']['destroy']&&(this['particleTe'+'xStart']['destroy'](),this['particleTe'+'xStart']=null),(_0x50042b=this['rtParticle'+'TexIN'])==null||_0x50042b['destroy'](),this['rtParticle'+'TexIN']=null,(_0x17b378=this['rtParticle'+'TexOUT'])==null||_0x17b378['destroy'](),this['rtParticle'+'TexOUT']=null,(_0x3ca037=this['internalTe'+'x0'])==null||_0x3ca037['destroy'](),this['internalTe'+'x0']=null,(_0x8bdcec=this['internalTe'+'x1'])==null||_0x8bdcec['destroy'](),this['internalTe'+'x1']=null,(_0x4db0b8=this['internalTe'+'x2'])==null||_0x4db0b8['destroy'](),this['internalTe'+'x2']=null,(_0x11658c=this['internalTe'+'x3'])==null||_0x11658c['destroy'](),this['internalTe'+'x3']=null,(_0x2bb592=this['colorParam'])==null||_0x2bb592['destroy'](),this['colorParam']=null,(_0x989d7c=this['vertexBuff'+'er'])==null||_0x989d7c['destroy'](),this['vertexBuff'+'er']=void(-0x13*0x1b7+-0xd8d+0x93a*0x5),(_0x4e6620=this['indexBuffe'+'r'])==null||_0x4e6620['destroy'](),this['indexBuffe'+'r']=void(-0xccc*-0x3+-0x9*0x17b+-0x1f*0xcf),(_0x57ade=this['material'])==null||_0x57ade['destroy'](),this['material']=null;}['destroy'](){this['camera']=null,this['_destroyRe'+'sources']();}}class PA extends ya{['generateKe'+'y'](_0x3b038d){var _0x381d3d;const _0x31a00c=_0x3b038d['shaderDesc'],_0x4e67f5=_0x31a00c['vertexGLSL']?hi(_0x31a00c['vertexGLSL']):0xcdf+0x84f*-0x1+-0x490,_0x23c295=_0x31a00c['fragmentGL'+'SL']?hi(_0x31a00c['fragmentGL'+'SL']):0x46c+0x24a*0x2+-0x900,_0x2d571f=_0x31a00c['vertexWGSL']?hi(_0x31a00c['vertexWGSL']):-0x2395*-0x1+0x1330+-0x36c5,_0x71348e=_0x31a00c['fragmentWG'+'SL']?hi(_0x31a00c['fragmentWG'+'SL']):-0x1ce6+0x3*0x455+-0xb1*-0x17,_0x26649a=ya['definesHas'+'h'](_0x3b038d['defines']),_0xa51175=((_0x381d3d=_0x3b038d['shaderChun'+'ks'])==null?void(-0x2*0x6b6+0x1*-0x1421+0x218d):_0x381d3d['key'])??'';let _0x4b6f32=_0x31a00c['uniqueName']+'_'+_0x26649a+'_'+_0x4e67f5+'_'+_0x23c295+'_'+_0x2d571f+'_'+_0x71348e+'_'+_0xa51175;return _0x3b038d['skin']&&(_0x4b6f32+='_skin'),_0x3b038d['useInstanc'+'ing']&&(_0x4b6f32+='_inst'),_0x3b038d['useMorphPo'+'sition']&&(_0x4b6f32+='_morphp'),_0x3b038d['useMorphNo'+'rmal']&&(_0x4b6f32+='_morphn'),_0x3b038d['useMorphTe'+'xtureBased'+'Int']&&(_0x4b6f32+='_morphi'),_0x4b6f32;}['createAttr'+'ibutesDefi'+'nition'](_0x1c833c,_0x58d52a){const _0x881512=_0x58d52a['shaderDesc']['attributes'],_0x378d94=_0x881512?{..._0x881512}:void(-0x181a*0x1+0x7*0x55d+-0xd71);_0x58d52a['skin']&&(_0x378d94['vertex_bon'+'eWeights']=gi,_0x378d94['vertex_bon'+'eIndices']=us),(_0x58d52a['useMorphPo'+'sition']||_0x58d52a['useMorphNo'+'rmal'])&&(_0x378d94['morph_vert'+'ex_id']=Ln),_0x1c833c['attributes']=_0x378d94;}['createVert'+'exDefiniti'+'on'](_0x48ccee,_0x3e5ed5,_0x8e4c1,_0x229019){const _0x2ac332=_0x3e5ed5['shaderDesc'],_0x5a7776=new Map(_0x8e4c1);_0x5a7776['set']('transformI'+'nstancingV'+'S','');const _0x1c1169=new Map(_0x3e5ed5['defines']);_0x3e5ed5['skin']&&_0x1c1169['set']('SKIN',!(0x1bf1+-0x3*0xb9+0xce3*-0x2)),_0x3e5ed5['useInstanc'+'ing']&&_0x1c1169['set']('INSTANCING',!(-0x1*-0x52f+-0x1c9a+0x176b)),(_0x3e5ed5['useMorphPo'+'sition']||_0x3e5ed5['useMorphNo'+'rmal'])&&(_0x1c1169['set']('MORPHING',!(0x3d3+0x71d+-0x38*0x32)),_0x3e5ed5['useMorphTe'+'xtureBased'+'Int']&&_0x1c1169['set']('MORPHING_I'+'NT',!(0x33d*0x8+0x11*-0x189+0x31)),_0x3e5ed5['useMorphPo'+'sition']&&_0x1c1169['set']('MORPHING_P'+'OSITION',!(-0xb61+-0x1647+-0x8*-0x435)),_0x3e5ed5['useMorphNo'+'rmal']&&_0x1c1169['set']('MORPHING_N'+'ORMAL',!(0xd33+0x913+-0x1646))),_0x48ccee['vertexCode']=_0x229019?_0x2ac332['vertexWGSL']:_0x2ac332['vertexGLSL'],_0x48ccee['vertexIncl'+'udes']=_0x5a7776,_0x48ccee['vertexDefi'+'nes']=_0x1c1169;}['createFrag'+'mentDefini'+'tion'](_0x1510f1,_0x527858,_0x10e5e4,_0x53304f){const _0x3a9f93=_0x527858['shaderDesc'],_0x15ff03=new Map(_0x10e5e4),_0x1b01d9=new Map(_0x527858['defines']);_0x1510f1['fragmentCo'+'de']=_0x53304f?_0x3a9f93['fragmentWG'+'SL']:_0x3a9f93['fragmentGL'+'SL'],_0x1510f1['fragmentIn'+'cludes']=_0x15ff03,_0x1510f1['fragmentDe'+'fines']=_0x1b01d9;}['createShad'+'erDefiniti'+'on'](_0x5ef247,_0x5bddeb){var _0x3ccc3c;const _0x27593a=_0x5bddeb['shaderDesc'],_0x4a868e=_0x5ef247['isWebGPU']&&!!_0x27593a['vertexWGSL']&&!!_0x27593a['fragmentWG'+'SL']&&(((_0x3ccc3c=_0x5bddeb['shaderChun'+'ks'])==null?void(0x608+0x1a73*0x1+-0x67f*0x5):_0x3ccc3c['useWGSL'])??!(-0x3dc+-0xa7f*0x3+-0x1*-0x2359)),_0x3a1e64={'name':'ShaderMate'+'rial-'+_0x27593a['uniqueName'],'shaderLanguage':_0x4a868e?it:Fe,'fragmentOutputTypes':_0x27593a['fragmentOu'+'tputTypes'],'meshUniformBufferFormat':_0x27593a['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x27593a['meshBindGr'+'oupFormat']},_0x511162=_0x4a868e?it:Fe,_0x2c0ca7=bh['merge'](Pe['get'](_0x5ef247,_0x511162),_0x5bddeb['shaderChun'+'ks'][_0x511162]);return this['createAttr'+'ibutesDefi'+'nition'](_0x3a1e64,_0x5bddeb),this['createVert'+'exDefiniti'+'on'](_0x3a1e64,_0x5bddeb,_0x2c0ca7,_0x4a868e),this['createFrag'+'mentDefini'+'tion'](_0x3a1e64,_0x5bddeb,_0x2c0ca7,_0x4a868e),Jt['createDefi'+'nition'](_0x5ef247,_0x3a1e64);}}const MA=new PA();class Xn extends tr{constructor(_0x54562f){super(),h(this,'_shaderDes'+'c'),this['shaderDesc']=_0x54562f;}set['shaderDesc'](_0x42df79){if(this['_shaderDes'+'c']=void(0x1be4+0x103b+-0x2c1f),_0x42df79&&(this['_shaderDes'+'c']={'uniqueName':_0x42df79['uniqueName'],'attributes':_0x42df79['attributes'],'fragmentOutputTypes':_0x42df79['fragmentOu'+'tputTypes'],'vertexGLSL':_0x42df79['vertexGLSL'],'fragmentGLSL':_0x42df79['fragmentGL'+'SL'],'vertexWGSL':_0x42df79['vertexWGSL'],'fragmentWGSL':_0x42df79['fragmentWG'+'SL']},_0x42df79['vertexCode']||_0x42df79['fragmentCo'+'de']||_0x42df79['shaderLang'+'uage'])){w['deprecated']('ShaderMate'+'rial\x20['+_0x42df79['uniqueName']+(']:\x20vertexC'+'ode,\x20fragm'+'entCode\x20an'+'d\x20shaderLa'+'nguage\x20pro'+'perties\x20of'+'\x20ShaderDes'+'c\x20is\x20depre'+'cated.\x20Use'+'\x20vertexGLS'+'L,\x20fragmen'+'tGLSL,\x20ver'+'texWGSL\x20or'+'\x20fragmentW'+'GSL\x20instea'+'d.'));const _0x428927=_0x42df79['shaderLang'+'uage']??Fe;_0x428927===Fe?(this['_shaderDes'+'c']['vertexGLSL']=_0x42df79['vertexCode'],this['_shaderDes'+'c']['fragmentGL'+'SL']=_0x42df79['fragmentCo'+'de']):_0x428927===it&&(this['_shaderDes'+'c']['vertexWGSL']=_0x42df79['vertexCode'],this['_shaderDes'+'c']['fragmentWG'+'SL']=_0x42df79['fragmentCo'+'de']);}this['clearVaria'+'nts']();}get['shaderDesc'](){return this['_shaderDes'+'c'];}['copy'](_0x3f9d4a){return super['copy'](_0x3f9d4a),this['shaderDesc']=_0x3f9d4a['shaderDesc'],this;}['getShaderV'+'ariant'](_0xf36077){const {objDefs:_0x417de5}=_0xf36077,_0x208d02={'defines':$t['getCoreDef'+'ines'](this,_0xf36077),'skin':(_0x417de5&nl)!==0xe9*-0x14+0xeb9+0x37b,'useInstancing':(_0x417de5&ol)!==0x2380+0x118f+0x121*-0x2f,'useMorphPosition':(_0x417de5&ll)!==-0x1632+0xca*0xb+-0xd84*-0x1,'useMorphNormal':(_0x417de5&cl)!==0x1ae0+-0x1fae+0xf*0x52,'useMorphTextureBasedInt':(_0x417de5&hl)!==-0xc1d*-0x3+0x16e3+-0x3b3a,'pass':_0xf36077['pass'],'gamma':_0xf36077['cameraShad'+'erParams']['shaderOutp'+'utGamma'],'toneMapping':_0xf36077['cameraShad'+'erParams']['toneMappin'+'g'],'fog':_0xf36077['cameraShad'+'erParams']['fog'],'shaderDesc':this['shaderDesc'],'shaderChunks':this['shaderChun'+'ks']},_0x23f114=new Ad(_0xf36077['viewUnifor'+'mFormat'],_0xf36077['viewBindGr'+'oupFormat'],_0xf36077['vertexForm'+'at']),_0x2b90e0=Hn(_0xf36077['device']);return _0x2b90e0['register']('shader-mat'+'erial',MA),_0x2b90e0['getProgram']('shader-mat'+'erial',_0x208d02,_0x23f114,this['userId']);}}const Iv=(_0x325049,_0x44e3aa)=>{const _0x5decc3=_0x44e3aa['length']/(-0x1a66+0x1*0x1981+-0x1d*-0x8),_0x3d9f4d=_0x325049['length']/(0x4*0x8cb+-0x329*-0x1+-0x2652),_0x5cafc4=new D(),_0x174eb2=new D(),_0x30f046=new D(),_0x1cef10=new D(),_0x4b29d=new D(),_0x24f16e=new D(),_0x5212e2=[];for(let _0x4064c6=-0x1ef1*0x1+-0x115+-0x1*-0x2006;_0x4064c6<_0x325049['length'];_0x4064c6++)_0x5212e2[_0x4064c6]=-0xb8*0x11+-0x2b*-0x7+0xb0b;for(let _0x2f0b8e=-0x94e+-0x1da6+-0xc*-0x33f;_0x2f0b8e<_0x5decc3;_0x2f0b8e++){const _0x3439ef=_0x44e3aa[_0x2f0b8e*(0x8ea+-0x52d+-0x3ba)],_0x21c511=_0x44e3aa[_0x2f0b8e*(-0xf10+-0x38*0x1f+0x749*0x3)+(0x12a*0x20+0x83b+-0x1*0x2d7a)],_0x265613=_0x44e3aa[_0x2f0b8e*(-0x1*0x1fc4+0x4*0x317+-0x1*-0x136b)+(-0x1822+0x8*0x41f+-0x8d4)];_0x5cafc4['set'](_0x325049[_0x3439ef*(-0x1*0x1315+-0x4*-0x4eb+0x4a*-0x2)],_0x325049[_0x3439ef*(0x43f*-0x5+-0x5*0x3be+0x27f4)+(-0x2405+-0x1072+0x124*0x2e)],_0x325049[_0x3439ef*(-0x51*-0x2+0x1*-0x379+0x2da)+(0x5*0x181+0x741+0xfc*-0xf)]),_0x174eb2['set'](_0x325049[_0x21c511*(-0x21*0x99+-0xa*0x39e+0x6fd*0x8)],_0x325049[_0x21c511*(0xa*0x23d+-0x1864+0x205)+(0xee6*-0x2+-0x1430+0x31fd*0x1)],_0x325049[_0x21c511*(-0x3df*0x1+0xe3b+-0x3*0x373)+(-0x1947+-0x124a+0x8b7*0x5)]),_0x30f046['set'](_0x325049[_0x265613*(-0x1868+0xb36+-0x467*-0x3)],_0x325049[_0x265613*(-0x9b3+-0x481*0x3+-0x1739*-0x1)+(-0x1441*-0x1+-0x20e3*0x1+0xca3)],_0x325049[_0x265613*(-0x1*0x1c9f+-0x137+0x1dd9)+(-0x3b*0x92+-0x848+-0x3d*-0xb0)]),_0x1cef10['sub2'](_0x174eb2,_0x5cafc4),_0x4b29d['sub2'](_0x30f046,_0x5cafc4),_0x24f16e['cross'](_0x1cef10,_0x4b29d)['normalize'](),_0x5212e2[_0x3439ef*(0xb*-0x35f+0x26c+-0x13d*-0x1c)]+=_0x24f16e['x'],_0x5212e2[_0x3439ef*(0x133*-0x6+0x1*0x1c7+0x56e)+(0x1021+0x61*-0x62+-0x2*-0xa81)]+=_0x24f16e['y'],_0x5212e2[_0x3439ef*(0x1*0xe16+-0x3*0x4a2+-0xf*0x3)+(0x262+-0xa8*0x2e+0x1bd0)]+=_0x24f16e['z'],_0x5212e2[_0x21c511*(-0x1*-0x14c+0x950+-0xa99*0x1)]+=_0x24f16e['x'],_0x5212e2[_0x21c511*(0x6c9+0x1100+0xb3*-0x22)+(0x49d*-0x5+0x5bf+0x1*0x1153)]+=_0x24f16e['y'],_0x5212e2[_0x21c511*(-0x1260*-0x1+0x174b+-0x1f*0x158)+(0x259*-0x9+-0x106*-0x10+0x1*0x4c3)]+=_0x24f16e['z'],_0x5212e2[_0x265613*(0x12dc+0xc5b+-0x7cd*0x4)]+=_0x24f16e['x'],_0x5212e2[_0x265613*(-0x761*0x3+0x11f6+-0x86*-0x8)+(0x128d*0x1+-0x187f+0x5f3)]+=_0x24f16e['y'],_0x5212e2[_0x265613*(-0x1*-0x1222+-0x12b*0x1d+0x38*0x48)+(-0x24a0+-0x1e5f+0x1*0x4301)]+=_0x24f16e['z'];}for(let _0x299735=-0x1*-0x1273+0x5*-0x2a2+0x29*-0x21;_0x299735<_0x3d9f4d;_0x299735++){const _0x18d2a9=_0x5212e2[_0x299735*(-0x5cb+0xb6f*0x1+-0x5a1)],_0x564b72=_0x5212e2[_0x299735*(-0x1f7b+-0x2284*-0x1+0x56*-0x9)+(0x86*-0x1b+0x1d55+-0xf32)],_0x3c2d1b=_0x5212e2[_0x299735*(0x5b0*0x1+0x9e5+0x7c9*-0x2)+(0xa18+0x9ed+-0x1403*0x1)],_0x14c54c=(0x383*-0xb+-0x1*-0x1859+0xe49)/Math['sqrt'](_0x18d2a9*_0x18d2a9+_0x564b72*_0x564b72+_0x3c2d1b*_0x3c2d1b);_0x5212e2[_0x299735*(-0x90+0x1c39+-0x1ba6)]*=_0x14c54c,_0x5212e2[_0x299735*(0x1*-0x149f+-0x17f*-0x11+-0x1*0x4cd)+(-0x9*-0x107+-0x2005+0x16c7)]*=_0x14c54c,_0x5212e2[_0x299735*(-0x16dc+-0x15e1+-0x2*-0x1660)+(0x10ae+0x1*-0x452+-0x22*0x5d)]*=_0x14c54c;}return _0x5212e2;},Mr=(_0x210f26,_0x568943,_0xe26c46,_0x3be7a0)=>{const _0x569fbd=_0x3be7a0['length']/(-0x3e1*0x5+0x342*-0x1+0x78e*0x3),_0x904931=_0x210f26['length']/(-0xb3*-0x33+0x4fe+-0x28a4),_0x265c92=new D(),_0x207b47=new D(),_0x1c6052=new D(),_0x3ec7f5=new J(),_0x26869b=new J(),_0x210cfa=new J(),_0x71e49c=new D(),_0x1ebf32=new D(),_0x331f35=new Float32Array(_0x904931*(-0xec*-0x19+-0x248b+-0x6c1*-0x2)),_0xa2c57d=new Float32Array(_0x904931*(-0x197*-0x6+-0x13d*0x3+-0x5d0)),_0x288946=[];for(let _0x1b5241=0x234d+0x172b+-0x3a78;_0x1b5241<_0x569fbd;_0x1b5241++){const _0x1822c9=_0x3be7a0[_0x1b5241*(0x4*-0x598+-0xaa1*-0x1+0xbc2)],_0x511f22=_0x3be7a0[_0x1b5241*(-0x1e4c+0x113e*-0x2+-0x1*-0x40cb)+(0x24e9+-0x124+0xc*-0x2fb)],_0x52991a=_0x3be7a0[_0x1b5241*(0x1b16+0x133*0x17+0x21*-0x1a8)+(-0x1dd9+0x699*0x5+-0x2*0x191)];_0x265c92['set'](_0x210f26[_0x1822c9*(0xf73+0xb1*0x2+-0x869*0x2)],_0x210f26[_0x1822c9*(-0x8*-0x2bd+-0x2*-0x1196+-0x3911)+(-0x1f7*-0x11+-0x2596*-0x1+0xa24*-0x7)],_0x210f26[_0x1822c9*(0xd09+-0x7be*-0x1+-0x14c4)+(0x75d+0x1258*0x1+-0x19b3)]),_0x207b47['set'](_0x210f26[_0x511f22*(-0x71*-0x23+-0x1*-0x198a+-0x28fa)],_0x210f26[_0x511f22*(0x761*-0x5+-0x1ef*0xc+0x3c1c)+(0x335+0x6ec*-0x2+0x2*0x552)],_0x210f26[_0x511f22*(0x58f+-0xc24+0x698)+(-0xf50+0x231f+-0x13cd)]),_0x1c6052['set'](_0x210f26[_0x52991a*(0x99b*0x1+-0x2658+0x1cc0)],_0x210f26[_0x52991a*(-0x118d+0x2f*0x39+0x719)+(0x1b*0xc7+0x78f+-0x1c8b*0x1)],_0x210f26[_0x52991a*(0xbbf+-0x1d86*-0x1+-0x2942)+(-0xb48+0x34+0x42*0x2b)]),_0x3ec7f5['set'](_0xe26c46[_0x1822c9*(0x237*0x1+-0x4*-0x3bb+-0x36d*0x5)],_0xe26c46[_0x1822c9*(0x8b*0x1+0x227+-0x2b0)+(-0x276+-0x2140*0x1+0x23b7)]),_0x26869b['set'](_0xe26c46[_0x511f22*(-0x1*-0x2175+-0x2665+-0x4f2*-0x1)],_0xe26c46[_0x511f22*(-0x1712+0x178b+-0x11*0x7)+(-0x1a44+-0x3*0x38d+0x24ec*0x1)]),_0x210cfa['set'](_0xe26c46[_0x52991a*(-0xeaf*0x1+0x26fd*-0x1+0x35ae)],_0xe26c46[_0x52991a*(-0xb9*-0xf+0x8f8+-0x89*0x25)+(0x2086+-0x26b0+0x62b)]);const _0x122445=_0x207b47['x']-_0x265c92['x'],_0x562967=_0x1c6052['x']-_0x265c92['x'],_0x67414e=_0x207b47['y']-_0x265c92['y'],_0x2e378f=_0x1c6052['y']-_0x265c92['y'],_0x37117b=_0x207b47['z']-_0x265c92['z'],_0x35a840=_0x1c6052['z']-_0x265c92['z'],_0x2a5c83=_0x26869b['x']-_0x3ec7f5['x'],_0x503e6f=_0x210cfa['x']-_0x3ec7f5['x'],_0x58fb3d=_0x26869b['y']-_0x3ec7f5['y'],_0x53efde=_0x210cfa['y']-_0x3ec7f5['y'],_0x55b7ba=_0x2a5c83*_0x53efde-_0x503e6f*_0x58fb3d;if(_0x55b7ba===-0xcb4+-0x1b44+0x27f8)_0x71e49c['set'](-0x2*0xf5e+0x1*0x1c3a+0x282,-0x1*-0x1cac+-0xd21+-0xf8a,0x1c4b*-0x1+0x6a1*0x5+-0x4da),_0x1ebf32['set'](-0x228a+0x1eb+0xc*0x2b8,-0xc*0x19+-0xeb7*-0x1+0x1*-0xd8b,0xf4d+-0x20b*0x8+0x10b);else{const _0x57a740=(0x15a9+-0x311+-0x1297)/_0x55b7ba;_0x71e49c['set']((_0x53efde*_0x122445-_0x58fb3d*_0x562967)*_0x57a740,(_0x53efde*_0x67414e-_0x58fb3d*_0x2e378f)*_0x57a740,(_0x53efde*_0x37117b-_0x58fb3d*_0x35a840)*_0x57a740),_0x1ebf32['set']((_0x2a5c83*_0x562967-_0x503e6f*_0x122445)*_0x57a740,(_0x2a5c83*_0x2e378f-_0x503e6f*_0x67414e)*_0x57a740,(_0x2a5c83*_0x35a840-_0x503e6f*_0x37117b)*_0x57a740);}_0x331f35[_0x1822c9*(0x1fc4+0x3*0x261+-0x26e4)+(-0x2538+0x2*0xb52+0x4dc*0x3)]+=_0x71e49c['x'],_0x331f35[_0x1822c9*(-0xb*-0x20+-0x9b*-0x23+-0x1*0x168e)+(-0xa6b+-0xe*-0xe5+-0x21a)]+=_0x71e49c['y'],_0x331f35[_0x1822c9*(0x26c4+0xf*-0x1bb+-0xccc)+(-0x796*0x1+-0x1*-0x5+0x793)]+=_0x71e49c['z'],_0x331f35[_0x511f22*(-0x587*-0x3+0x238e+0x18*-0x22c)+(-0x9*-0x21e+-0x1d85+0xa77)]+=_0x71e49c['x'],_0x331f35[_0x511f22*(-0x69e*-0x2+-0x13*-0x2c+-0x107d)+(-0x1608+-0x16d*0x5+0x1d2a)]+=_0x71e49c['y'],_0x331f35[_0x511f22*(0x24ab+0x6*-0x353+-0x10b6)+(-0x1*0x250+-0x2669+0x28bb*0x1)]+=_0x71e49c['z'],_0x331f35[_0x52991a*(0x10*-0x152+0x1*-0xca6+0x21c9)+(-0x19*-0x169+-0x1f*0x6b+0x164c*-0x1)]+=_0x71e49c['x'],_0x331f35[_0x52991a*(-0x1*0x23f6+-0x3d5+0x7f6*0x5)+(-0x182f+0x1c0c+-0x1ee*0x2)]+=_0x71e49c['y'],_0x331f35[_0x52991a*(-0x2*-0x36+-0x138a*0x1+0x1321)+(-0xb4+0x1c3*-0xe+0x1960)]+=_0x71e49c['z'],_0xa2c57d[_0x1822c9*(-0x26b7+0xcfe+0x19bc)+(-0x3bc*-0x1+-0x25c*-0x3+-0xad0)]+=_0x1ebf32['x'],_0xa2c57d[_0x1822c9*(-0x1*-0x2328+-0x8*-0x162+-0x2e35)+(0x19d5*-0x1+-0x1da9+0x377f*0x1)]+=_0x1ebf32['y'],_0xa2c57d[_0x1822c9*(-0xd4*-0x17+-0x23fb+0x10f2*0x1)+(-0x4a2*0x2+-0x23c*0x7+0x18ea)]+=_0x1ebf32['z'],_0xa2c57d[_0x511f22*(0x9c9+0x1a23+0x1d*-0x13d)+(0x1079*0x1+0x2438+-0x2f*0x11f)]+=_0x1ebf32['x'],_0xa2c57d[_0x511f22*(0x1d5a+0x2*-0x9b7+0x3b*-0x2b)+(-0x23c8+-0x562*0x5+0x3eb3)]+=_0x1ebf32['y'],_0xa2c57d[_0x511f22*(-0x4*-0x673+-0x84b+0x1*-0x117e)+(0xa*0x18a+-0x219d+-0x1*-0x123b)]+=_0x1ebf32['z'],_0xa2c57d[_0x52991a*(0x24cb+0x8c4+0x109*-0x2c)+(-0x2*0x58f+-0xd*-0x19d+-0x9db)]+=_0x1ebf32['x'],_0xa2c57d[_0x52991a*(-0x5*-0x2c9+0x16d+-0x77*0x21)+(0x1e62+-0x94+0x9ef*-0x3)]+=_0x1ebf32['y'],_0xa2c57d[_0x52991a*(-0x56b*0x3+-0x12a*0xe+0x2090)+(-0xff7+-0x16e1*-0x1+-0x6e8)]+=_0x1ebf32['z'];}const _0x8a02c7=new D(),_0x22889a=new D(),_0x2ad184=new D(),_0x395966=new D();for(let _0x19e209=0x4b0*-0x1+-0xf4b+0x13fb;_0x19e209<_0x904931;_0x19e209++){_0x2ad184['set'](_0x568943[_0x19e209*(-0x1ac9+0x1b1f+-0x53)],_0x568943[_0x19e209*(-0x112d+0x4d6+0xc5a)+(-0x125f+0x11e*-0x9+0x1c6e)],_0x568943[_0x19e209*(-0x1*0x1de6+-0x401*0x4+0x2ded)+(-0x1a*0x7f+-0x813+0x1*0x14fb)]),_0x8a02c7['set'](_0x331f35[_0x19e209*(0x1bce+-0x2101+0x536)],_0x331f35[_0x19e209*(0x1f15+0x1fac+-0x3ebe)+(0x1cb7+-0xe5f+0xe57*-0x1)],_0x331f35[_0x19e209*(-0x1d00+-0x2*0x11d6+0x40af)+(0x14*0xd8+-0x1bda+0x13*0x94)]),_0x22889a['set'](_0xa2c57d[_0x19e209*(-0x146f*-0x1+-0x9fd*-0x1+-0x1e69)],_0xa2c57d[_0x19e209*(-0x2d*0x78+-0x136b+0x2*0x1443)+(-0xb*-0x2c6+0x1e8e+0x1d*-0x21b)],_0xa2c57d[_0x19e209*(-0x4f*-0x11+-0x1*-0x1b6+-0x1*0x6f2)+(-0x1956+0x15*0x9d+0xc77)]);const _0x3c9264=_0x2ad184['dot'](_0x8a02c7);_0x395966['copy'](_0x2ad184)['mulScalar'](_0x3c9264),_0x395966['sub2'](_0x8a02c7,_0x395966)['normalize'](),_0x288946[_0x19e209*(-0xcf8+0x23ed+-0x16f1*0x1)]=_0x395966['x'],_0x288946[_0x19e209*(-0x1289+0x32*0xa3+-0xd49)+(-0x25*-0x43+-0x1*0x24a7+-0x1*-0x1af9)]=_0x395966['y'],_0x288946[_0x19e209*(-0x1724+-0x3*-0x115+0x1*0x13e9)+(-0x885+0x1e79+-0x15f2)]=_0x395966['z'],_0x395966['cross'](_0x2ad184,_0x8a02c7),_0x288946[_0x19e209*(-0x22d8+0xcfc+0x32*0x70)+(0x1*0xada+0x18*-0x157+0x1551)]=_0x395966['dot'](_0x22889a)<-0x1c94+0x129a*-0x1+-0x42*-0xb7?-(-0x9ca*0x2+-0x7*-0x371+-0x482):0x7*0xad+0x6*0xf1+0x10*-0xa6;}return _0x288946;};class Ta{constructor(){h(this,'positions'),h(this,'normals'),h(this,'colors'),h(this,'uvs'),h(this,'uvs1'),h(this,'blendIndic'+'es'),h(this,'blendWeigh'+'ts'),h(this,'tangents'),h(this,'indices');}['calculateN'+'ormals'](){w['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),w['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['normals']=Iv(this['positions'],this['indices']);}['calculateT'+'angents'](){w['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),w['assert'](this['normals'],'Geometry\x20m'+'ust\x20have\x20n'+'ormals\x20set'),w['assert'](this['uvs'],'Geometry\x20m'+'ust\x20have\x20u'+'vs\x20set'),w['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']);}}const pu=(-0x1*-0x709+0x609*0x1+-0xd0e)/(0x19f*0x7+-0x621+0x27c*-0x2),hg=0x1afd+0x10f+0x1*-0x1c0b-pu*(-0x3e*-0x58+-0x1742*-0x1+-0x1*0x2c90);class mu extends Ta{constructor(_0x3b9459={}){super();const _0x60f22e=_0x3b9459['halfExtent'+'s']??new D(-0x2372+0xecb+-0x11*-0x137+0.5,0x485+0x1bf+-0x191*0x4+0.5,0x24e9+-0x1dc2+-0x1*0x727+0.5),_0x425e14=_0x3b9459['widthSegme'+'nts']??0x812+0x1*-0x649+0x13*-0x18,_0x1c6610=_0x3b9459['lengthSegm'+'ents']??-0xe*0xbe+0x22b5+-0x2*0xc28,_0x4994bc=_0x3b9459['heightSegm'+'ents']??0x8f3+-0x1071+0x77f*0x1,_0x237fe3=_0x3b9459['yOffset']??-0x1517+-0xd*0xd3+0x162*0x17,_0x47e173=-_0x60f22e['y']+_0x237fe3,_0x1bb8af=_0x60f22e['y']+_0x237fe3,_0x2b4674=[new D(-_0x60f22e['x'],_0x47e173,_0x60f22e['z']),new D(_0x60f22e['x'],_0x47e173,_0x60f22e['z']),new D(_0x60f22e['x'],_0x1bb8af,_0x60f22e['z']),new D(-_0x60f22e['x'],_0x1bb8af,_0x60f22e['z']),new D(_0x60f22e['x'],_0x47e173,-_0x60f22e['z']),new D(-_0x60f22e['x'],_0x47e173,-_0x60f22e['z']),new D(-_0x60f22e['x'],_0x1bb8af,-_0x60f22e['z']),new D(_0x60f22e['x'],_0x1bb8af,-_0x60f22e['z'])],_0x6af9c1=[[0x14ee+0x1fcd+-0x34bb,-0x12e3+0x213*0xa+0x1*-0x1da,0x1*0x1c57+0x1869+0x1*-0x34bd],[-0x1*-0x20e+-0x2195+0x1*0x1f8b,-0x99e*0x1+-0x2485*0x1+-0x5c5*-0x8,0xd23*0x1+0xc2*0x1e+0x2*-0x11ec],[0x1*-0x12d5+0xa0e+0x8ca,0x913+0x47*0x79+-0x2aa0,-0x1ca4*0x1+0xc67+0x1043],[0x15*0x107+0x722+-0x1cb4,-0xe8d+0x1*-0x2617+0x34a4,-0x1d*-0x120+-0x241*0x9+0x277*-0x5],[-0x14*-0x1ac+0x1*-0x167f+-0xaf0,-0x93d+0x19*0x179+-0x1b90,-0x9f1+0x1*-0x262b+0x301e],[0x6d7+0x337*-0x1+-0x39b,0x6d*0x4+0x77*0xd+-0x7bf,0xf41+-0x667+-0x8d4]],_0x27b8cb=[[0x75+0x1efa+-0x1f6f,-0x1fe7+-0x33*0x6a+-0x1*-0x3505,0x6b9+-0x349*-0x1+-0xa01],[0x6*0x64d+0x57e*0x7+-0x4c40,0x26d7+-0x9b1*-0x1+-0x3088,-(-0xa87*-0x1+-0x137*-0x1d+-0xdd*0x35)],[-0xd6d+0x2597+-0x182a,-0x1fcf+-0x24cd+0x449d,-0x7*0x571+-0xb4+-0x1*-0x26cb],[0x2550+-0x23cd+-0x183,-(-0x2af*0x1+-0x10a3+0x61*0x33),-0x50*0x57+0xaa2+0x108e],[-0x4b*-0x43+-0x1ac+-0x3*0x5fc,0x1*-0x50b+-0x1f90+0x249b,-0x69*0x20+-0x7b*0x47+0x2f3d],[-(0x9e5+0x107*-0x14+-0x155*-0x8),0x35*0xa7+-0x1c32+0x1*-0x661,0x241e+-0x1*0xffd+-0x1421]],_0x1dccb9={'FRONT':0x0,'BACK':0x1,'TOP':0x2,'BOTTOM':0x3,'RIGHT':0x4,'LEFT':0x5},_0x2181ef=[],_0x566f28=[],_0x4f4ac6=[],_0x33a8e4=[];let _0x28ff75=0x26f4+0x950+0x3044*-0x1;const _0x43df1c=(_0x342659,_0x19211a,_0x3db953)=>{const _0x500832=new D(),_0x32f27c=new D(),_0x1ce35b=new D(),_0x2f5b5f=new D();for(let _0xd4300b=-0x11af+-0x23e6+-0x13f*-0x2b;_0xd4300b<=_0x19211a;_0xd4300b++)for(let _0x42b96f=0x13*-0xd1+0x1da9*-0x1+-0xb4b*-0x4;_0x42b96f<=_0x3db953;_0x42b96f++){_0x500832['lerp'](_0x2b4674[_0x6af9c1[_0x342659][0x18e6+-0x202b+-0x1*-0x745]],_0x2b4674[_0x6af9c1[_0x342659][-0x20*-0x132+0x68f+0x4a*-0x9b]],_0xd4300b/_0x19211a),_0x32f27c['lerp'](_0x2b4674[_0x6af9c1[_0x342659][-0xd09*0x1+0x11*0xed+-0x2b4]],_0x2b4674[_0x6af9c1[_0x342659][-0x851*-0x3+-0x1*-0x1cc9+-0x35ba]],_0x42b96f/_0x3db953),_0x1ce35b['sub2'](_0x32f27c,_0x2b4674[_0x6af9c1[_0x342659][0x61*0x67+0x2f6*-0x1+0x1*-0x2411]]),_0x2f5b5f['add2'](_0x500832,_0x1ce35b);let _0xfbe2e1=_0xd4300b/_0x19211a,_0x531280=_0x42b96f/_0x3db953;_0x2181ef['push'](_0x2f5b5f['x'],_0x2f5b5f['y'],_0x2f5b5f['z']),_0x566f28['push'](_0x27b8cb[_0x342659][-0x1e37+0xe19*0x1+-0x2*-0x80f],_0x27b8cb[_0x342659][-0xf22+-0xb8d+0x1ab0],_0x27b8cb[_0x342659][0x35*-0x39+-0x223*-0x7+-0x326]),_0x4f4ac6['push'](_0xfbe2e1,0xb71*0x3+0xe1b+-0x306d-_0x531280),_0xfbe2e1=_0xfbe2e1*hg+pu,_0x531280=_0x531280*hg+pu,_0xfbe2e1/=0xef6+-0x2fd*0x3+-0x5fc,_0x531280/=0xa65+-0x1a8*0xd+0x2*0x593,_0xfbe2e1+=_0x342659%(-0x1*0x25c9+0x8fc+0x39a*0x8)/(-0x231d*-0x1+-0xb72+-0x17a8),_0x531280+=Math['floor'](_0x342659/(-0x1a21+-0xd*-0x14b+-0x1*-0x955))/(-0x2094*-0x1+-0x2e*0xa7+-0x28f),_0xd4300b<_0x19211a&&_0x42b96f<_0x3db953&&(_0x33a8e4['push'](_0x28ff75+_0x3db953+(0x428*-0x2+-0xb00+0x17*0xd7),_0x28ff75+(-0x3bf+-0x1*-0x59c+-0x1dc),_0x28ff75),_0x33a8e4['push'](_0x28ff75+_0x3db953+(0x1d9a+-0x1bfb+-0x1*0x19e),_0x28ff75+_0x3db953+(0x239a+0xa68+-0x2*0x1700),_0x28ff75+(-0x1*-0x1739+0x3d*0xa+-0x3a*0x71))),_0x28ff75++;}};_0x43df1c(_0x1dccb9['FRONT'],_0x425e14,_0x4994bc),_0x43df1c(_0x1dccb9['BACK'],_0x425e14,_0x4994bc),_0x43df1c(_0x1dccb9['TOP'],_0x425e14,_0x1c6610),_0x43df1c(_0x1dccb9['BOTTOM'],_0x425e14,_0x1c6610),_0x43df1c(_0x1dccb9['RIGHT'],_0x1c6610,_0x4994bc),_0x43df1c(_0x1dccb9['LEFT'],_0x1c6610,_0x4994bc),this['positions']=_0x2181ef,this['normals']=_0x566f28,this['uvs']=_0x4f4ac6,this['uvs1']=_0x4f4ac6,this['indices']=_0x33a8e4,_0x3b9459['calculateT'+'angents']&&(this['tangents']=Mr(_0x2181ef,_0x566f28,_0x4f4ac6,_0x33a8e4));}}class _m extends Ta{constructor(_0x1ca482={}){super();const _0x541d57=_0x1ca482['radius']??-0x1*0x592+-0x15e+0x6f0+0.5,_0x335ac8=_0x1ca482['latitudeBa'+'nds']??0x728+0x1*-0x137+-0x5e1,_0x32650e=_0x1ca482['longitudeB'+'ands']??-0x1901*0x1+-0x3*0x253+0x200a,_0x5af8df=[],_0x351b2a=[],_0x165854=[],_0x4f820b=[];for(let _0x442a93=0x527+0xed5+-0x13fc;_0x442a93<=_0x335ac8;_0x442a93++){const _0x886841=_0x442a93*Math['PI']/_0x335ac8,_0x5ad143=Math['sin'](_0x886841),_0x2faf32=Math['cos'](_0x886841);for(let _0x3f2063=-0x25*-0x71+0x10f*0x1b+0x1675*-0x2;_0x3f2063<=_0x32650e;_0x3f2063++){const _0x15018b=_0x3f2063*(0xb4c+0xb7*0x36+0x2*-0x18f2)*Math['PI']/_0x32650e-Math['PI']/(-0x1*0x2259+-0x64*0x59+0x451f*0x1),_0x4a7581=Math['sin'](_0x15018b),_0x26736f=Math['cos'](_0x15018b)*_0x5ad143,_0x318ed6=_0x2faf32,_0x7ca4f5=_0x4a7581*_0x5ad143,_0x524100=0x5*-0x652+-0xaa7*-0x3+-0x5a-_0x3f2063/_0x32650e,_0xce950b=-0x1*0x23+0x1*0x1a09+-0x19e5-_0x442a93/_0x335ac8;_0x5af8df['push'](_0x26736f*_0x541d57,_0x318ed6*_0x541d57,_0x7ca4f5*_0x541d57),_0x351b2a['push'](_0x26736f,_0x318ed6,_0x7ca4f5),_0x165854['push'](_0x524100,0x24df+-0x3*-0x612+-0x3714-_0xce950b);}}for(let _0x174eac=-0x258c+0x2*-0x78d+-0x1*-0x34a6;_0x174eac<_0x335ac8;++_0x174eac)for(let _0x32489b=-0x2329*0x1+0x1*0x1193+0x1196*0x1;_0x32489b<_0x32650e;++_0x32489b){const _0x53cccb=_0x174eac*(_0x32650e+(-0x1e4a+0x1*0x259f+-0x754))+_0x32489b,_0x39a2cb=_0x53cccb+_0x32650e+(0x98a+-0x161b*0x1+0xc92);_0x4f820b['push'](_0x53cccb+(-0x4fe+-0x1a3c+0x1f3b),_0x39a2cb,_0x53cccb),_0x4f820b['push'](_0x53cccb+(0xa*0x337+-0x85*0x2+-0x1f1b*0x1),_0x39a2cb+(0xbca+0x2596+-0xb*0x47d),_0x39a2cb);}this['positions']=_0x5af8df,this['normals']=_0x351b2a,this['uvs']=_0x165854,this['uvs1']=_0x165854,this['indices']=_0x4f820b,_0x1ca482['calculateT'+'angents']&&(this['tangents']=Mr(_0x5af8df,_0x351b2a,_0x165854,_0x4f820b));}}class DA extends _m{constructor(_0x54922c={}){const _0x2d9b6e=_0x54922c['latitudeBa'+'nds']??-0x1d4d+0x1*-0x9cb+0x2728,_0x10d302=_0x54922c['longitudeB'+'ands']??-0x243c+-0x17b4+0x2*0x1e00;super({'radius':0.5,'latitudeBands':_0x2d9b6e,'longitudeBands':_0x10d302});const _0xbf30d7=0xf2+-0x2*0x60+-0x19*0x2+0.1,_0x1a899f=0x6*-0x600+-0x2*0x2f6+-0x1*-0x29ec+0.95,_0x4dda74=_0x1a899f*_0x1a899f,_0x5bb561=this['positions'];for(let _0x1c39d1=0x715+-0x24c4+0x1daf;_0x1c39d1<_0x5bb561['length'];_0x1c39d1+=0x1*-0x253+0x19*-0x103+0x1ba1){const _0x46a775=_0x5bb561[_0x1c39d1]/(-0xfa1*-0x2+-0x1*-0x1ec1+-0x3e03+0.5);let _0x16e7ac=_0x5bb561[_0x1c39d1+(-0x24d0+0x2497+0x3a)]/(0xc14+0x1e8f*-0x1+0x1*0x127b+0.5);const _0xc38bec=_0x5bb561[_0x1c39d1+(0x4df+-0x2b*0x6e+0xd9d)]/(0x1ed3+-0x15b8+0x3f*-0x25+0.5);_0x16e7ac<-0x11b0+0x1*0x11d+0x1093*0x1&&(_0x16e7ac*=0x347*-0x1+-0x2*0x89c+0x147f+0.3,_0x46a775*_0x46a775+_0xc38bec*_0xc38bec<_0x4dda74&&(_0x16e7ac=-_0xbf30d7)),_0x16e7ac+=_0xbf30d7,_0x16e7ac*=-0xef*0x16+-0x32d+0x1*0x17b7+0.5,_0x5bb561[_0x1c39d1+(-0x8f8+0xf0b*-0x1+0x1d*0xd4)]=_0x16e7ac;}}}class zo{static['create'](_0x1bf710,_0x32aebd){switch(_0x32aebd){case Qw:return zo['box'](_0x1bf710);case Jw:return zo['dome'](_0x1bf710);}return w['assert'](_0x32aebd===Bo,'Unsupporte'+'d\x20sky\x20geom'+'etry\x20type\x20'+_0x32aebd),zo['infinite'](_0x1bf710);}static['infinite'](_0xd30229){return Ge['fromGeomet'+'ry'](_0xd30229,new mu(_0xd30229));}static['box'](_0x250521){return Ge['fromGeomet'+'ry'](_0x250521,new mu({'yOffset':0.5}));}static['dome'](_0x1687f4){const _0x506d9f=new DA({'latitudeBands':0x32,'longitudeBands':0x32});return _0x506d9f['normals']=void(-0x272*0x4+-0x1efd+0x28c5),_0x506d9f['uvs']=void(-0x26b0+0x791+0x1f1f),Ge['fromGeomet'+'ry'](_0x1687f4,_0x506d9f);}}class IA{constructor(_0x5bf93a,_0x120ab8,_0x143d98,_0x28f227,_0x4ca827){h(this,'meshInstan'+'ce',null),h(this,'_depthWrit'+'e',!(-0x9d2+0x233*0x2+0x1cf*0x3));const _0x2b8401=new Xn({'uniqueName':'SkyMateria'+'l','vertexGLSL':Pe['get'](_0x5bf93a,Fe)['get']('skyboxVS'),'fragmentGLSL':Pe['get'](_0x5bf93a,Fe)['get']('skyboxPS'),'vertexWGSL':Pe['get'](_0x5bf93a,it)['get']('skyboxVS'),'fragmentWGSL':Pe['get'](_0x5bf93a,it)['get']('skyboxPS'),'attributes':{'aPosition':Me}});_0x2b8401['setDefine']('{SKYBOX_DE'+'CODE_FNC}',Tr['decodeFunc'](_0x28f227['encoding'])),_0x4ca827!==Bo&&_0x2b8401['setDefine']('SKYMESH',''),_0x28f227['cubemap']&&_0x2b8401['setDefine']('SKY_CUBEMA'+'P',''),_0x2b8401['setParamet'+'er']('skyboxHigh'+'lightMulti'+'plier',_0x120ab8['skyboxHigh'+'lightMulti'+'plier']),_0x28f227['cubemap']?_0x2b8401['setParamet'+'er']('texture_cu'+'beMap',_0x28f227):(_0x2b8401['setParamet'+'er']('texture_en'+'vAtlas',_0x28f227),_0x2b8401['setParamet'+'er']('mipLevel',_0x120ab8['skyboxMip'])),_0x2b8401['cull']=Fo,_0x2b8401['depthWrite']=this['_depthWrit'+'e'];const _0x8df863=_0x120ab8['layers']['getLayerBy'+'Id'](Kp);if(_0x8df863){const _0x273044=zo['create'](_0x5bf93a,_0x4ca827),_0x124763=new He(_0x273044,_0x2b8401,_0x143d98);this['meshInstan'+'ce']=_0x124763,_0x124763['cull']=!(-0x22bf*-0x1+-0x435+-0x1e89),_0x124763['pick']=!(-0x1391+-0xf19+-0x22ab*-0x1),_0x8df863['addMeshIns'+'tances']([_0x124763]),this['skyLayer']=_0x8df863;}}['destroy'](){this['meshInstan'+'ce']&&(this['skyLayer']&&this['skyLayer']['removeMesh'+'Instances']([this['meshInstan'+'ce']]),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}set['depthWrite'](_0x2fce03){this['_depthWrit'+'e']=_0x2fce03,this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']['depthWrite']=_0x2fce03);}get['depthWrite'](){return this['_depthWrit'+'e'];}}class LA{constructor(_0x52dcaa){h(this,'_type',Bo),h(this,'_center',new D(-0x11b3+0x28f*0x5+0x4e8,-0x1*0x773+-0x7*-0x16f+-0x295,0x1dc1+-0x6d*-0xa+-0x2203*0x1)),h(this,'skyMesh',null),h(this,'_depthWrit'+'e',!(-0x1009+0x1*0x395+0xc75)),h(this,'node',new Ie('SkyMeshNod'+'e')),(this['device']=_0x52dcaa['device'],this['scene']=_0x52dcaa,this['center']=new D(-0x70d+-0x1*0x2bd+-0x9ca*-0x1,-0xa3*0x1d+0x24d0+-0x1258,-0x1641+0x67+-0x1*-0x15da),this['centerArra'+'y']=new Float32Array(0x1*-0x22bd+-0x457*0x8+0x4578),this['projectedS'+'kydomeCent'+'erId']=this['device']['scope']['resolve']('projectedS'+'kydomeCent'+'er'));}['applySetti'+'ngs'](_0x56d624){this['type']=_0x56d624['skyType']??Bo,this['node']['setLocalPo'+'sition'](new D(_0x56d624['skyMeshPos'+'ition']??[-0x913+0x2*0x905+-0x8f7,0x25f4+-0x1cfc+0x11f*-0x8,0x12a6+-0x5*0xd+-0x1*0x1265])),this['node']['setLocalEu'+'lerAngles'](new D(_0x56d624['skyMeshRot'+'ation']??[0x15eb+-0x1*0x124e+0x19*-0x25,-0x1*0x2353+-0x1a4b+0x3d9e,-0x16b*-0x1+0x1ae8+-0x1c53])),this['node']['setLocalSc'+'ale'](new D(_0x56d624['skyMeshSca'+'le']??[0x1f*0x97+0x43*0x22+0x31*-0x8e,-0x143d+-0xa1+0x1*0x14df,-0x566*0x1+-0x2e2*-0x7+0x61*-0x27])),_0x56d624['skyCenter']&&(this['_center']=new D(_0x56d624['skyCenter']));}set['type'](_0x3c182b){this['_type']!==_0x3c182b&&(this['_type']=_0x3c182b,this['scene']['updateShad'+'ers']=!(-0x97*-0x17+0x23f0+-0x3181),this['updateSkyM'+'esh']());}get['type'](){return this['_type'];}set['center'](_0x49c30b){this['_center']['copy'](_0x49c30b);}get['center'](){return this['_center'];}set['depthWrite'](_0x170acc){this['_depthWrit'+'e']!==_0x170acc&&(this['_depthWrit'+'e']=_0x170acc,this['skyMesh']&&(this['skyMesh']['depthWrite']=_0x170acc));}get['depthWrite'](){return this['_depthWrit'+'e'];}['updateSkyM'+'esh'](){const _0x4ffd5b=this['scene']['_getSkybox'+'Tex']();_0x4ffd5b&&(this['resetSkyMe'+'sh'](),this['skyMesh']=new IA(this['device'],this['scene'],this['node'],_0x4ffd5b,this['type']),this['skyMesh']['depthWrite']=this['_depthWrit'+'e'],this['scene']['fire']('set:skybox',_0x4ffd5b));}['resetSkyMe'+'sh'](){var _0x20e13b;(_0x20e13b=this['skyMesh'])==null||_0x20e13b['destroy'](),this['skyMesh']=null;}['update'](){if(this['type']!==Bo){const {center:_0x1ac118,centerArray:_0x4230de}=this,_0x8b4276=new D();this['node']['getWorldTr'+'ansform']()['transformP'+'oint'](_0x1ac118,_0x8b4276),_0x4230de[0xa90+0x2ef*0x9+0x24f7*-0x1]=_0x8b4276['x'],_0x4230de[0x79*0x2f+0x509+0x19*-0x117]=_0x8b4276['y'],_0x4230de[0x1316+-0x182*0x6+-0xa08]=_0x8b4276['z'],this['projectedS'+'kydomeCent'+'erId']['setValue'](_0x4230de);}}}const Ch=new Ie();Ch['worldTrans'+'form']=te['IDENTITY'],Ch['_dirtyWorl'+'d']=Ch['_dirtyNorm'+'al']=!(0x3a*-0xa3+-0x1*0x77e+0x2c6d);class RA{constructor(_0x5dcba8,_0x58d337,_0x3fd70b){this['material']=_0x58d337,this['layer']=_0x3fd70b,this['positions']=[],this['colors']=[],this['mesh']=new Ge(_0x5dcba8),this['meshInstan'+'ce']=null;}['addLines'](_0x4b4d48,_0x228e6b){const _0xa52bff=this['positions'],_0x4ee5fc=_0x4b4d48['length'];for(let _0x51e2db=0xeb2+0x180f*-0x1+0x8d*0x11;_0x51e2db<_0x4ee5fc;_0x51e2db++){const _0x2e7fbf=_0x4b4d48[_0x51e2db];_0xa52bff['push'](_0x2e7fbf['x'],_0x2e7fbf['y'],_0x2e7fbf['z']);}const _0x48b774=this['colors'];if(_0x228e6b['length'])for(let _0x1892e6=-0x102*0x18+0xe3e+-0x9f2*-0x1;_0x1892e6<_0x4ee5fc;_0x1892e6++){const _0x5e57fc=_0x228e6b[_0x1892e6];_0x48b774['push'](_0x5e57fc['r'],_0x5e57fc['g'],_0x5e57fc['b'],_0x5e57fc['a']);}else{for(let _0x126b1b=0x7e*0x18+0xdd+0x127*-0xb;_0x126b1b<_0x4ee5fc;_0x126b1b++)_0x48b774['push'](_0x228e6b['r'],_0x228e6b['g'],_0x228e6b['b'],_0x228e6b['a']);}}['addLinesAr'+'rays'](_0x4ba754,_0xee1463){const _0x42f398=this['positions'];for(let _0x1ef3c9=0xfd0+0x1*0x119a+-0x216a;_0x1ef3c9<_0x4ba754['length'];_0x1ef3c9+=0x4*-0x171+0x26a6+-0x37*0x99)_0x42f398['push'](_0x4ba754[_0x1ef3c9],_0x4ba754[_0x1ef3c9+(0x11b7+0x103c+-0x21f2)],_0x4ba754[_0x1ef3c9+(-0x241e+0x2*0xa33+-0x42*-0x3d)]);const _0x1b4401=this['colors'];if(_0xee1463['length']){for(let _0xab5ade=0xd7b+0x17a9+-0x2524;_0xab5ade<_0xee1463['length'];_0xab5ade+=0x569+-0x2608+0x20a3*0x1)_0x1b4401['push'](_0xee1463[_0xab5ade],_0xee1463[_0xab5ade+(-0x15*0x111+0x1ec8+-0x862)],_0xee1463[_0xab5ade+(0x407*0x1+-0xb2f+0x72a)],_0xee1463[_0xab5ade+(-0x2a*0x8e+-0x216c+0x135*0x2f)]);}else{const _0x44e8df=_0x4ba754['length']/(-0xa51*0x3+-0x1a11*0x1+-0x1*-0x3907);for(let _0x5655b6=0x31*0x67+-0x94*0x11+-0x9e3;_0x5655b6<_0x44e8df;_0x5655b6++)_0x1b4401['push'](_0xee1463['r'],_0xee1463['g'],_0xee1463['b'],_0xee1463['a']);}}['onPreRende'+'r'](_0x53b690,_0x22d7f2){this['positions']['length']>-0x106*-0x1+0x266+-0x36c&&this['material']['transparen'+'t']===_0x22d7f2&&(this['mesh']['setPositio'+'ns'](this['positions']),this['mesh']['setColors'](this['colors']),this['mesh']['update'](hd,!(0x80+-0x2d*-0x97+0x2*-0xd85)),this['meshInstan'+'ce']||(this['meshInstan'+'ce']=new He(this['mesh'],this['material'],Ch)),_0x53b690['push'](this['meshInstan'+'ce']));}['clear'](){this['positions']['length']=-0x230c+0xca1*-0x1+-0x2fad*-0x1,this['colors']['length']=-0x12c6+-0x2a1+-0x1567*-0x1;}}class OA{constructor(_0x5cadd0){this['device']=_0x5cadd0,this['map']=new Map();}['getBatch'](_0x1412b0,_0x439214){let _0x5bc0ee=this['map']['get'](_0x1412b0);return _0x5bc0ee||(_0x5bc0ee=new RA(this['device'],_0x1412b0,_0x439214),this['map']['set'](_0x1412b0,_0x5bc0ee)),_0x5bc0ee;}['onPreRende'+'r'](_0x4b47c9,_0x1e387d){this['map']['forEach'](_0x2ca272=>{_0x2ca272['onPreRende'+'r'](_0x4b47c9,_0x1e387d);});}['clear'](){this['map']['forEach'](_0x2371e1=>_0x2371e1['clear']());}}const Ts=[],Ba=new D();class FA{constructor(_0x368e7b){h(this,'shaderDesc'+'s',new Map()),(this['device']=_0x368e7b,this['quadMesh']=null,this['textureSha'+'der']=null,this['depthTextu'+'reShader']=null,this['cubeLocalP'+'os']=null,this['cubeWorldP'+'os']=null,this['batchesMap']=new Map(),this['allBatches']=new Set(),this['updatedLay'+'ers']=new Set(),this['_materialD'+'epth']=null,this['_materialN'+'oDepth']=null,this['layerMeshI'+'nstances']=new Map());}['createMate'+'rial'](_0x42a093){const _0x507493=new Xn({'uniqueName':'ImmediateL'+'ine','vertexGLSL':Pe['get'](this['device'],Fe)['get']('immediateL'+'ineVS'),'fragmentGLSL':Pe['get'](this['device'],Fe)['get']('immediateL'+'inePS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('immediateL'+'ineVS'),'fragmentWGSL':Pe['get'](this['device'],it)['get']('immediateL'+'inePS'),'attributes':{'vertex_position':Me,'vertex_color':Wt}});return _0x507493['blendType']=Zs,_0x507493['depthTest']=_0x42a093,_0x507493['update'](),_0x507493;}get['materialDe'+'pth'](){return this['_materialD'+'epth']||(this['_materialD'+'epth']=this['createMate'+'rial'](!(0x73*-0x7+0x2c*0xbc+-0x1d2b))),this['_materialD'+'epth'];}get['materialNo'+'Depth'](){return this['_materialN'+'oDepth']||(this['_materialN'+'oDepth']=this['createMate'+'rial'](!(-0x599*-0x1+-0x78*-0x4d+-0x29b0))),this['_materialN'+'oDepth'];}['getBatch'](_0x2beb3c,_0x5433d1){let _0x1f0746=this['batchesMap']['get'](_0x2beb3c);_0x1f0746||(_0x1f0746=new OA(this['device']),this['batchesMap']['set'](_0x2beb3c,_0x1f0746)),this['allBatches']['add'](_0x1f0746);const _0x2f062c=_0x5433d1?this['materialDe'+'pth']:this['materialNo'+'Depth'];return _0x1f0746['getBatch'](_0x2f062c,_0x2beb3c);}['getShaderD'+'esc'](_0x3548b9,_0x3912bd,_0x28795c){return this['shaderDesc'+'s']['has'](_0x3548b9)||this['shaderDesc'+'s']['set'](_0x3548b9,{'uniqueName':'DebugShade'+'r:'+_0x3548b9,'vertexGLSL':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20attribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20mat4\x20matr'+'ix_model;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ve'+'c2\x20uv0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(vertex'+'_position,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uv0\x20=\x20ve'+'rtex_posit'+'ion.xy\x20+\x200'+'.5;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20','vertexWGSL':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20attribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'model:\x20mat'+'4x4f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec2f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20@ver'+'tex\x20fn\x20ver'+'texMain(in'+'put:\x20Verte'+'xInput)\x20->'+'\x20VertexOut'+'put\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20un'+'iform.matr'+'ix_model\x20*'+'\x20vec4f(inp'+'ut.vertex_'+'position,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.uv0\x20=\x20in'+'put.vertex'+'_position.'+'xy\x20+\x20vec2f'+'(0.5);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20','fragmentGLSL':_0x3912bd,'fragmentWGSL':_0x28795c,'attributes':{'vertex_position':Me}}),this['shaderDesc'+'s']['get'](_0x3548b9);}['getTexture'+'ShaderDesc'](_0x58c54c){const _0x49fdfe=Tr['decodeFunc'](_0x58c54c);return this['getShaderD'+'esc']('textureSha'+'der-'+_0x58c54c,'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20colorMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20linear'+'Color\x20=\x20'+_0x49fdfe+('(texture2D'+'(colorMap,'+'\x20uv0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(linearC'+'olor),\x201);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20uv0:\x20vec'+'2f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'colorMap:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20colorMa'+'pSampler:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20@fragment'+'\x20fn\x20fragme'+'ntMain(inp'+'ut\x20:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'output:\x20Fr'+'agmentOutp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20sample'+'dTex\x20=\x20tex'+'tureSample'+'(colorMap,'+'\x20colorMapS'+'ampler,\x20in'+'put.uv0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'linearColo'+'r:\x20vec3f\x20='+'\x20'+_0x49fdfe+('(sampledTe'+'x);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20vec4f'+'(gammaCorr'+'ectOutput('+'linearColo'+'r),\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'));}['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](){return this['getShaderD'+'esc']('textureSha'+'derUnfilte'+'rable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vec2\x20uv0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20col'+'orMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'uv\x20=\x20ivec2'+'(uv0\x20*\x20tex'+'tureSize(c'+'olorMap,\x200'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'texelFetch'+'(colorMap,'+'\x20uv,\x200).xy'+'z,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20uv0:\x20vec'+'2f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'colorMap:\x20'+'texture_2d'+'<uff>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20@'+'fragment\x20f'+'n\x20fragment'+'Main(input'+'\x20:\x20Fragmen'+'tInput)\x20->'+'\x20FragmentO'+'utput\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20uv\x20:\x20vec'+'2<i32>\x20=\x20v'+'ec2<i32>(i'+'nput.uv0\x20*'+'\x20vec2f(tex'+'tureDimens'+'ions(color'+'Map,\x200)));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20fetchedCo'+'lor\x20:\x20vec4'+'f\x20=\x20textur'+'eLoad(colo'+'rMap,\x20uv,\x20'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20vec4f'+'(fetchedCo'+'lor.xyz,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20');}['getDepthTe'+'xtureShade'+'rDesc'](){return this['getShaderD'+'esc']('depthTextu'+'reShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'gammaPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20void\x20main'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x20getLi'+'nearScreen'+'Depth(getI'+'mageEffect'+'UV(uv0))\x20*'+'\x20camera_pa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(vec3(de'+'pth)),\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'gammaPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20u'+'v0:\x20vec2f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20@fragme'+'nt\x20fn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20depth'+':\x20f32\x20=\x20ge'+'tLinearScr'+'eenDepth(g'+'etImageEff'+'ectUV(inpu'+'t.uv0))\x20*\x20'+'uniform.ca'+'mera_param'+'s.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(gammaCor'+'rectOutput'+'(vec3f(dep'+'th)),\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}['getQuadMes'+'h'](){return this['quadMesh']||(this['quadMesh']=new Ge(this['device']),this['quadMesh']['setPositio'+'ns']([-(0x1363+0x25c9+-0x392c+0.5),-(-0x1ac2+0x1324+0x79e+0.5),-0x2264+0x14b1*0x1+0x15*0xa7,-0xb*-0x6b+-0xb89+0x6f0+0.5,-(-0x254*0x3+-0x17fa+0x1ef6+0.5),0x227d+-0x255b+-0x16f*-0x2,-(0x270b+-0xe20+-0x18eb*0x1+0.5),-0x2095+0x1f79+0x11c+0.5,-0xb77+-0x9ef*-0x2+-0x867,-0x1e3*-0x7+0x1b51+-0x2886+0.5,0x4a7+-0x1*0x1bbf+-0x4*-0x5c6+0.5,0x21e5*0x1+-0x1f82+-0x263]),this['quadMesh']['update'](Er)),this['quadMesh'];}['drawMesh'](_0x560d35,_0x1be147,_0x57dbe8,_0x138c83,_0x5d2985){if(!_0x138c83){const _0x2d170e=this['getGraphNo'+'de'](_0x1be147);_0x138c83=new He(_0x57dbe8,_0x560d35,_0x2d170e);}let _0x1b8260=this['layerMeshI'+'nstances']['get'](_0x5d2985);_0x1b8260||(_0x1b8260=[],this['layerMeshI'+'nstances']['set'](_0x5d2985,_0x1b8260)),_0x1b8260['push'](_0x138c83);}['drawWireAl'+'ignedBox'](_0x259a9a,_0x2cc793,_0x529875,_0x1890ed,_0x26fa3d,_0x4f8a85){if(_0x4f8a85){const _0x51a8b7=(_0x380f2d,_0x3f4691,_0x28a9fd)=>{Ba['set'](_0x380f2d,_0x3f4691,_0x28a9fd),_0x4f8a85['transformP'+'oint'](Ba,Ba),Ts['push'](Ba['x'],Ba['y'],Ba['z']);};_0x51a8b7(_0x259a9a['x'],_0x259a9a['y'],_0x259a9a['z']),_0x51a8b7(_0x259a9a['x'],_0x2cc793['y'],_0x259a9a['z']),_0x51a8b7(_0x259a9a['x'],_0x2cc793['y'],_0x259a9a['z']),_0x51a8b7(_0x2cc793['x'],_0x2cc793['y'],_0x259a9a['z']),_0x51a8b7(_0x2cc793['x'],_0x2cc793['y'],_0x259a9a['z']),_0x51a8b7(_0x2cc793['x'],_0x259a9a['y'],_0x259a9a['z']),_0x51a8b7(_0x2cc793['x'],_0x259a9a['y'],_0x259a9a['z']),_0x51a8b7(_0x259a9a['x'],_0x259a9a['y'],_0x259a9a['z']),_0x51a8b7(_0x259a9a['x'],_0x259a9a['y'],_0x2cc793['z']),_0x51a8b7(_0x259a9a['x'],_0x2cc793['y'],_0x2cc793['z']),_0x51a8b7(_0x259a9a['x'],_0x2cc793['y'],_0x2cc793['z']),_0x51a8b7(_0x2cc793['x'],_0x2cc793['y'],_0x2cc793['z']),_0x51a8b7(_0x2cc793['x'],_0x2cc793['y'],_0x2cc793['z']),_0x51a8b7(_0x2cc793['x'],_0x259a9a['y'],_0x2cc793['z']),_0x51a8b7(_0x2cc793['x'],_0x259a9a['y'],_0x2cc793['z']),_0x51a8b7(_0x259a9a['x'],_0x259a9a['y'],_0x2cc793['z']),_0x51a8b7(_0x259a9a['x'],_0x259a9a['y'],_0x259a9a['z']),_0x51a8b7(_0x259a9a['x'],_0x259a9a['y'],_0x2cc793['z']),_0x51a8b7(_0x259a9a['x'],_0x2cc793['y'],_0x259a9a['z']),_0x51a8b7(_0x259a9a['x'],_0x2cc793['y'],_0x2cc793['z']),_0x51a8b7(_0x2cc793['x'],_0x2cc793['y'],_0x259a9a['z']),_0x51a8b7(_0x2cc793['x'],_0x2cc793['y'],_0x2cc793['z']),_0x51a8b7(_0x2cc793['x'],_0x259a9a['y'],_0x259a9a['z']),_0x51a8b7(_0x2cc793['x'],_0x259a9a['y'],_0x2cc793['z']);}else Ts['push'](_0x259a9a['x'],_0x259a9a['y'],_0x259a9a['z'],_0x259a9a['x'],_0x2cc793['y'],_0x259a9a['z'],_0x259a9a['x'],_0x2cc793['y'],_0x259a9a['z'],_0x2cc793['x'],_0x2cc793['y'],_0x259a9a['z'],_0x2cc793['x'],_0x2cc793['y'],_0x259a9a['z'],_0x2cc793['x'],_0x259a9a['y'],_0x259a9a['z'],_0x2cc793['x'],_0x259a9a['y'],_0x259a9a['z'],_0x259a9a['x'],_0x259a9a['y'],_0x259a9a['z'],_0x259a9a['x'],_0x259a9a['y'],_0x2cc793['z'],_0x259a9a['x'],_0x2cc793['y'],_0x2cc793['z'],_0x259a9a['x'],_0x2cc793['y'],_0x2cc793['z'],_0x2cc793['x'],_0x2cc793['y'],_0x2cc793['z'],_0x2cc793['x'],_0x2cc793['y'],_0x2cc793['z'],_0x2cc793['x'],_0x259a9a['y'],_0x2cc793['z'],_0x2cc793['x'],_0x259a9a['y'],_0x2cc793['z'],_0x259a9a['x'],_0x259a9a['y'],_0x2cc793['z'],_0x259a9a['x'],_0x259a9a['y'],_0x259a9a['z'],_0x259a9a['x'],_0x259a9a['y'],_0x2cc793['z'],_0x259a9a['x'],_0x2cc793['y'],_0x259a9a['z'],_0x259a9a['x'],_0x2cc793['y'],_0x2cc793['z'],_0x2cc793['x'],_0x2cc793['y'],_0x259a9a['z'],_0x2cc793['x'],_0x2cc793['y'],_0x2cc793['z'],_0x2cc793['x'],_0x259a9a['y'],_0x259a9a['z'],_0x2cc793['x'],_0x259a9a['y'],_0x2cc793['z']);this['getBatch'](_0x26fa3d,_0x1890ed)['addLinesAr'+'rays'](Ts,_0x529875),Ts['length']=0x22c*0xa+0x10e1*-0x2+0x2*0x605;}['drawWireSp'+'here'](_0x16acea,_0x405d24,_0x21bc3d,_0x3cf78e,_0x50fa99,_0x3af4d0){const _0x485d53=(-0xa80+0x11*-0x8f+0x1401)*Math['PI']/_0x3cf78e;let _0x131f66=0x1*-0xffb+0x1*0x321+-0xeb*-0xe;for(let _0x27fc55=-0x1ce2+-0x125*-0x9+0x1*0x1295;_0x27fc55<_0x3cf78e;_0x27fc55++){const _0xcdd61f=Math['sin'](_0x131f66),_0x4c570c=Math['cos'](_0x131f66);_0x131f66+=_0x485d53;const _0x5841d7=Math['sin'](_0x131f66),_0xb978e5=Math['cos'](_0x131f66);Ts['push'](_0x16acea['x']+_0x405d24*_0xcdd61f,_0x16acea['y'],_0x16acea['z']+_0x405d24*_0x4c570c),Ts['push'](_0x16acea['x']+_0x405d24*_0x5841d7,_0x16acea['y'],_0x16acea['z']+_0x405d24*_0xb978e5),Ts['push'](_0x16acea['x']+_0x405d24*_0xcdd61f,_0x16acea['y']+_0x405d24*_0x4c570c,_0x16acea['z']),Ts['push'](_0x16acea['x']+_0x405d24*_0x5841d7,_0x16acea['y']+_0x405d24*_0xb978e5,_0x16acea['z']),Ts['push'](_0x16acea['x'],_0x16acea['y']+_0x405d24*_0xcdd61f,_0x16acea['z']+_0x405d24*_0x4c570c),Ts['push'](_0x16acea['x'],_0x16acea['y']+_0x405d24*_0x5841d7,_0x16acea['z']+_0x405d24*_0xb978e5);}this['getBatch'](_0x3af4d0,_0x50fa99)['addLinesAr'+'rays'](Ts,_0x21bc3d),Ts['length']=-0x1*0x1709+0x337+-0x9e9*-0x2;}['getGraphNo'+'de'](_0x5a5d12){const _0x4e75a7=new Ie('ImmediateD'+'ebug');return _0x4e75a7['worldTrans'+'form']=_0x5a5d12,_0x4e75a7['_dirtyWorl'+'d']=_0x4e75a7['_dirtyNorm'+'al']=!(-0x2285+-0x243d+0x5*0xe27),_0x4e75a7;}['onPreRende'+'rLayer'](_0x10b7ba,_0x4b8161,_0x3dcc51){if(this['batchesMap']['forEach']((_0xbf7ec0,_0x41952a)=>{_0x41952a===_0x10b7ba&&_0xbf7ec0['onPreRende'+'r'](_0x4b8161,_0x3dcc51);}),!this['updatedLay'+'ers']['has'](_0x10b7ba)){this['updatedLay'+'ers']['add'](_0x10b7ba);const _0x6fad4a=this['layerMeshI'+'nstances']['get'](_0x10b7ba);if(_0x6fad4a){for(let _0x442ab9=0x5bb+0x3d*-0x5b+0xff4;_0x442ab9<_0x6fad4a['length'];_0x442ab9++)_0x4b8161['push'](_0x6fad4a[_0x442ab9]);_0x6fad4a['length']=-0x59e+-0x1836*0x1+0x1dd4;}}}['onPostRend'+'er'](){this['allBatches']['forEach'](_0x3a8774=>_0x3a8774['clear']()),this['allBatches']['clear'](),this['updatedLay'+'ers']['clear']();}}class NA{constructor(){h(this,'type',Kn),h(this,'color',new ie(0x5*-0x593+0x2481+-0x8a2,-0x724+0x476*0x2+-0x1c8*0x1,0x13*0x191+0x3*-0xc9+-0x1b68)),h(this,'density',-0x2c7*0x6+-0x196a+-0x4*-0xa85),h(this,'start',-0x4*0x735+-0x1ce3+-0x39b8*-0x1),h(this,'end',0x250*-0x1+-0x2249+0x2881*0x1);}}class Et extends me{constructor(_0x47907d){super(),h(this,'ambientBak'+'e',!(0x1de1*-0x1+-0x1df5*0x1+0x3bd7*0x1)),h(this,'ambientBak'+'eOcclusion'+'Brightness',-0xf5c+-0x368+0x12c4),h(this,'ambientBak'+'eOcclusion'+'Contrast',0x2a*0x2b+0x5e5*0x5+-0x2487),h(this,'ambientLig'+'ht',new ie(0x1f58+-0xc0b*0x1+0x3*-0x66f,-0x1144*-0x1+-0x2df+-0xe65,-0x18b8+0x2*0x81e+0x87c)),h(this,'ambientLum'+'inance',0x1*-0xe5e+0x1*0x1eed+-0x108f),h(this,'exposure',0x1c21+0x2a0*-0x7+-0x3*0x340),h(this,'lightmapSi'+'zeMultipli'+'er',0x1df7+0x14ce+-0x3*0x10ec),h(this,'lightmapMa'+'xResolutio'+'n',-0x1ae1+0x553+-0xd*-0x246),h(this,'lightmapMo'+'de',jc),h(this,'lightmapFi'+'lterEnable'+'d',!(0x957+-0x20ae+-0x1758*-0x1)),h(this,'lightmapHD'+'R',!(-0x1d81+0x233e+0x16f*-0x4)),h(this,'root',null),h(this,'physicalUn'+'its',!(-0x1306+-0x7ce+0x1ad5)),h(this,'_envAtlas',null),h(this,'_skyboxCub'+'eMap',null),h(this,'_fogParams',new NA()),h(this,'forcePassT'+'hroughSpec'+'ular',!(-0x1c4a+-0x1376+0x2fc1*0x1)),(w['assert'](_0x47907d,'Scene\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x47907d,this['_gravity']=new D(0x2f*0x55+-0x1905+0x96a,-(-0x15b5+0x2041*0x1+-0xa83+0.8000000000000007),-0x1*-0x198f+0x1*0x2655+-0xbc*0x57),this['_layers']=null,this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']=null,this['_skyboxInt'+'ensity']=0x1c5e+-0xc0*0x11+-0xf9d*0x1,this['_skyboxLum'+'inance']=-0xf0b+0x1*-0x40f+0x131a,this['_skyboxMip']=-0x884+0xd73+-0x4ef,this['_skyboxHig'+'hlightMult'+'iplier']=-0x53f*0x2+-0x132d+0x1dac,this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x24d4+-0x8b*-0x1b+0x162c),this['_skyboxRot'+'ation']=new le(),this['_skyboxRot'+'ationMat3']=new _i(),this['_skyboxRot'+'ationMat4']=new te(),this['_ambientBa'+'keNumSampl'+'es']=0x2fb*0x5+-0x24da+0x15f4,this['_ambientBa'+'keSpherePa'+'rt']=0x1ed5+-0x3b*-0x8b+-0x3ede+0.4,this['_lightmapF'+'ilterRange']=0x11*-0x18e+0x3*0x9f2+-0x2*0x1af,this['_lightmapF'+'ilterSmoot'+'hness']=-0x1*-0x1d84+-0xa31+0x3*-0x671+0.2,this['_clustered'+'LightingEn'+'abled']=!(-0x12f*0x18+0x20d1+-0x469),this['_lightingP'+'arams']=new Mv(this['device']['supportsAr'+'eaLights'],this['device']['maxTexture'+'Size'],()=>{this['updateShad'+'ers']=!(0xb*-0x16d+-0x1edf+0x2e8e);}),this['_sky']=new LA(this),this['_stats']={'meshInstances':0x0,'lights':0x0,'dynamicLights':0x0,'bakedLights':0x0,'updateShadersTime':0x0},this['updateShad'+'ers']=!(-0xa*-0x10f+0xb93+-0x1*0x1629),this['_shaderVer'+'sion']=-0x12c1+0x8d2+0x9ef,this['immediate']=new FA(this['device']));}get['defaultDra'+'wLayer'](){return this['layers']['getLayerBy'+'Id'](Zp);}set['ambientBak'+'eNumSample'+'s'](_0x10f75a){this['_ambientBa'+'keNumSampl'+'es']=Y['clamp'](Math['floor'](_0x10f75a),0x13f*0x2+-0x1*-0x1f7d+-0x21fa,0x15dc+0x6*0x1c1+0x1*-0x1f63);}get['ambientBak'+'eNumSample'+'s'](){return this['_ambientBa'+'keNumSampl'+'es'];}set['ambientBak'+'eSpherePar'+'t'](_0x29ac26){this['_ambientBa'+'keSpherePa'+'rt']=Y['clamp'](_0x29ac26,0x1bdb*0x1+0x2*-0x97+-0x1*0x1aad+0.001,-0x1*-0x1d15+-0x3b+-0x1cd9);}get['ambientBak'+'eSpherePar'+'t'](){return this['_ambientBa'+'keSpherePa'+'rt'];}set['clusteredL'+'ightingEna'+'bled'](_0x5248c1){if(this['device']['isWebGPU']&&!_0x5248c1){w['warnOnce']('WebGPU\x20cur'+'rently\x20onl'+'y\x20supports'+'\x20clustered'+'\x20lighting,'+'\x20and\x20this\x20'+'cannot\x20be\x20'+'disabled.');return;}if(!this['_clustered'+'LightingEn'+'abled']&&_0x5248c1){console['error']('Turning\x20on'+'\x20disabled\x20'+'clustered\x20'+'lighting\x20i'+'s\x20not\x20curr'+'ently\x20supp'+'orted');return;}this['_clustered'+'LightingEn'+'abled']=_0x5248c1;}get['clusteredL'+'ightingEna'+'bled'](){return this['_clustered'+'LightingEn'+'abled'];}set['envAtlas'](_0x35b617){_0x35b617!==this['_envAtlas']&&(this['_envAtlas']=_0x35b617,_0x35b617&&(_0x35b617['addressU']=ue,_0x35b617['addressV']=ue,_0x35b617['minFilter']=vt,_0x35b617['magFilter']=vt,_0x35b617['mipmaps']=!(-0x1514+-0x1ab1+0x2fc6)),this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_resetSkyM'+'esh']());}get['envAtlas'](){return this['_envAtlas'];}set['layers'](_0x23c2bd){const _0x1be296=this['_layers'];this['_layers']=_0x23c2bd,this['fire']('set:layers',_0x1be296,_0x23c2bd);}get['layers'](){return this['_layers'];}get['sky'](){return this['_sky'];}get['lighting'](){return this['_lightingP'+'arams'];}get['fog'](){return this['_fogParams'];}set['lightmapFi'+'lterRange'](_0xd9b627){this['_lightmapF'+'ilterRange']=Math['max'](_0xd9b627,0x27*0x2c+-0x5f9*0x6+-0x1*-0x1d22+0.001);}get['lightmapFi'+'lterRange'](){return this['_lightmapF'+'ilterRange'];}set['lightmapFi'+'lterSmooth'+'ness'](_0x3317d4){this['_lightmapF'+'ilterSmoot'+'hness']=Math['max'](_0x3317d4,-0x2*0x79d+-0x2558+-0x6*-0x8c3+0.001);}get['lightmapFi'+'lterSmooth'+'ness'](){return this['_lightmapF'+'ilterSmoot'+'hness'];}set['prefiltere'+'dCubemaps'](_0x5d884e){_0x5d884e=_0x5d884e||[];const _0x7bd4c8=this['_prefilter'+'edCubemaps'];(_0x7bd4c8['length']!==_0x5d884e['length']||_0x7bd4c8['some']((_0x40f89a,_0x2fb380)=>_0x40f89a!==_0x5d884e[_0x2fb380]))&&(_0x5d884e['length']===-0x169f+-0x520+0x1bc5&&_0x5d884e['every'](_0x55973a=>!!_0x55973a)?(this['_internalE'+'nvAtlas']=Tv['generatePr'+'efilteredA'+'tlas'](_0x5d884e,{'target':this['_internalE'+'nvAtlas']}),this['_envAtlas']=this['_internalE'+'nvAtlas']):(this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_envAtlas']=null),this['_prefilter'+'edCubemaps']=_0x5d884e['slice'](),this['_resetSkyM'+'esh']());}get['prefiltere'+'dCubemaps'](){return this['_prefilter'+'edCubemaps'];}set['skybox'](_0x277645){_0x277645!==this['_skyboxCub'+'eMap']&&(this['_skyboxCub'+'eMap']=_0x277645,this['_resetSkyM'+'esh']());}get['skybox'](){return this['_skyboxCub'+'eMap'];}set['skyboxInte'+'nsity'](_0x10e621){_0x10e621!==this['_skyboxInt'+'ensity']&&(this['_skyboxInt'+'ensity']=_0x10e621,this['_resetSkyM'+'esh']());}get['skyboxInte'+'nsity'](){return this['_skyboxInt'+'ensity'];}set['skyboxLumi'+'nance'](_0x379df9){_0x379df9!==this['_skyboxLum'+'inance']&&(this['_skyboxLum'+'inance']=_0x379df9,this['_resetSkyM'+'esh']());}get['skyboxLumi'+'nance'](){return this['_skyboxLum'+'inance'];}set['skyboxMip'](_0xd262fa){_0xd262fa!==this['_skyboxMip']&&(this['_skyboxMip']=_0xd262fa,this['_resetSkyM'+'esh']());}get['skyboxMip'](){return this['_skyboxMip'];}set['skyboxHigh'+'lightMulti'+'plier'](_0x22fe87){_0x22fe87!==this['_skyboxHig'+'hlightMult'+'iplier']&&(this['_skyboxHig'+'hlightMult'+'iplier']=_0x22fe87,this['_resetSkyM'+'esh']());}get['skyboxHigh'+'lightMulti'+'plier'](){return this['_skyboxHig'+'hlightMult'+'iplier'];}set['skyboxRota'+'tion'](_0x46f0a4){if(!this['_skyboxRot'+'ation']['equals'](_0x46f0a4)){const _0x55213c=_0x46f0a4['equals'](le['IDENTITY']);this['_skyboxRot'+'ation']['copy'](_0x46f0a4),_0x55213c?this['_skyboxRot'+'ationMat3']['setIdentit'+'y']():(this['_skyboxRot'+'ationMat4']['setTRS'](D['ZERO'],_0x46f0a4,D['ONE']),this['_skyboxRot'+'ationMat3']['invertMat4'](this['_skyboxRot'+'ationMat4'])),!this['_skyboxRot'+'ationShade'+'rInclude']&&!_0x55213c&&(this['_skyboxRot'+'ationShade'+'rInclude']=!(0x15ae+0x1824+-0x2dd2),this['_resetSkyM'+'esh']());}}get['skyboxRota'+'tion'](){return this['_skyboxRot'+'ation'];}['destroy'](){this['_resetSkyM'+'esh'](),this['root']=null,this['off']();}['drawLine'](_0x4f921b,_0x307da1,_0x1f718c=ie['WHITE'],_0x505696=!(-0x19ed+-0x590+0x1f7d),_0x30119f=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x30119f,_0x505696)['addLines']([_0x4f921b,_0x307da1],[_0x1f718c,_0x1f718c]);}['drawLines'](_0x3b8731,_0x590fe6,_0x4d8d8a=!(0x1f96+0x1*0xb51+-0x2ae7),_0x498f81=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x498f81,_0x4d8d8a)['addLines'](_0x3b8731,_0x590fe6);}['drawLineAr'+'rays'](_0x14c2b3,_0x47ccd3,_0x2c1138=!(0xa43+-0xa13+-0x30),_0x1e890b=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x1e890b,_0x2c1138)['addLinesAr'+'rays'](_0x14c2b3,_0x47ccd3);}['applySetti'+'ngs'](_0x47d228){const _0x2532e4=_0x47d228['physics'],_0x13da50=_0x47d228['render'];this['_gravity']['set'](_0x2532e4['gravity'][-0x59*0x6d+0x4de*-0x2+0x1*0x2fa1],_0x2532e4['gravity'][-0x12ad+-0xa*0x342+0x3342],_0x2532e4['gravity'][-0x2*-0xbbe+-0x24b+-0x13f*0x11]),this['ambientLig'+'ht']['set'](_0x13da50['global_amb'+'ient'][-0x1f3a+-0xce+0x148*0x19],_0x13da50['global_amb'+'ient'][0x1a71*-0x1+0x1*0x419+0x1659],_0x13da50['global_amb'+'ient'][0x1051*-0x2+0x2192+0x11*-0xe]),this['ambientLum'+'inance']=_0x13da50['ambientLum'+'inance'],this['fog']['type']=_0x13da50['fog'],this['fog']['color']['set'](_0x13da50['fog_color'][0x6*0x257+-0x39b*0x5+0x3fd],_0x13da50['fog_color'][-0x229e+0x8d*0x1f+0x118c*0x1],_0x13da50['fog_color'][-0x8a8+-0x4db+0xd85*0x1]),this['fog']['start']=_0x13da50['fog_start'],this['fog']['end']=_0x13da50['fog_end'],this['fog']['density']=_0x13da50['fog_densit'+'y'],this['lightmapSi'+'zeMultipli'+'er']=_0x13da50['lightmapSi'+'zeMultipli'+'er'],this['lightmapMa'+'xResolutio'+'n']=_0x13da50['lightmapMa'+'xResolutio'+'n'],this['lightmapMo'+'de']=_0x13da50['lightmapMo'+'de'],this['exposure']=_0x13da50['exposure'],this['_skyboxInt'+'ensity']=_0x13da50['skyboxInte'+'nsity']??-0x1*-0x153+-0x17a3+-0x1d*-0xc5,this['_skyboxLum'+'inance']=_0x13da50['skyboxLumi'+'nance']??0x47aa+0x3*0x371+-0x3dd*0x1,this['_skyboxMip']=_0x13da50['skyboxMip']??-0x3*-0xb1+-0x23d8+0x21c5,_0x13da50['skyboxRota'+'tion']&&(this['skyboxRota'+'tion']=new le()['setFromEul'+'erAngles'](_0x13da50['skyboxRota'+'tion'][-0x16f*0xb+0x192b+-0x966],_0x13da50['skyboxRota'+'tion'][0x1*0x193+0x1c48+-0x1*0x1dda],_0x13da50['skyboxRota'+'tion'][0x1e23+0x1d*0x143+0x23*-0x1e8])),this['sky']['applySetti'+'ngs'](_0x13da50),this['clusteredL'+'ightingEna'+'bled']=_0x13da50['clusteredL'+'ightingEna'+'bled']??!(-0x1*-0x171+-0x11b2+0x1042),this['lighting']['applySetti'+'ngs'](_0x13da50),['lightmapFi'+'lterEnable'+'d','lightmapFi'+'lterRange','lightmapFi'+'lterSmooth'+'ness','ambientBak'+'e','ambientBak'+'eNumSample'+'s','ambientBak'+'eSpherePar'+'t','ambientBak'+'eOcclusion'+'Brightness','ambientBak'+'eOcclusion'+'Contrast']['forEach'](_0xfec82f=>{_0x13da50['hasOwnProp'+'erty'](_0xfec82f)&&(this[_0xfec82f]=_0x13da50[_0xfec82f]);}),this['_resetSkyM'+'esh']();}['_getSkybox'+'Tex'](){const _0x534d12=this['_prefilter'+'edCubemaps'];return this['_skyboxMip']?_0x534d12[[-0x1a67+-0x1a3*0x17+0x2*0x2006,-0x599+0x260+0x76*0x7,0x2*0x703+0x1328*0x1+-0x212b,0xc5*-0x1+-0x584*-0x2+0x1*-0xa3f,0x1482+-0x1*0x146f+-0xe,-0x4*0x1eb+0x101*0xe+-0x65c][this['_skyboxMip']]]||this['_envAtlas']||_0x534d12[-0x1*-0x1147+-0x13a5+0x25e]||this['_skyboxCub'+'eMap']:this['_skyboxCub'+'eMap']||_0x534d12[0x9*-0x10b+-0x1679+-0x1fdc*-0x1]||this['_envAtlas'];}['_updateSky'+'Mesh'](){this['sky']['skyMesh']||this['sky']['updateSkyM'+'esh'](),this['sky']['update']();}['_resetSkyM'+'esh'](){this['sky']['resetSkyMe'+'sh'](),this['updateShad'+'ers']=!(0x3a*0x27+-0x19*0xec+0xe36);}['setSkybox'](_0x54878e){_0x54878e?(this['skybox']=_0x54878e[0x11*-0x1c1+-0x4*0x6a3+0x385d]||null,_0x54878e[-0xef3+-0x4cb+-0x695*-0x3]&&!_0x54878e[-0xa4*0x2+-0x1*-0x201b+-0x523*0x6]['cubemap']?this['envAtlas']=_0x54878e[-0x5f5*0x2+0x88c+-0x35f*-0x1]:this['prefiltere'+'dCubemaps']=_0x54878e['slice'](-0x1659*-0x1+0x1*0x2b7+-0x190f)):(this['skybox']=null,this['envAtlas']=null);}get['lightmapPi'+'xelFormat'](){return this['lightmapHD'+'R']&&this['device']['getRendera'+'bleHdrForm'+'at']()||Ne;}}h(Et,'EVENT_SETL'+'AYERS','set:layers'),h(Et,'EVENT_SETS'+'KYBOX','set:skybox'),h(Et,'EVENT_PRER'+'ENDER','prerender'),h(Et,'EVENT_POST'+'RENDER','postrender'),h(Et,'EVENT_PRER'+'ENDER_LAYE'+'R','prerender:'+'layer'),h(Et,'EVENT_POST'+'RENDER_LAY'+'ER','postrender'+':layer'),h(Et,'EVENT_PREC'+'ULL','precull'),h(Et,'EVENT_POST'+'CULL','postcull');class Lv{constructor(_0x52680b,_0x508ff8,_0x11c438){this['device']=_0x52680b,this['inverseBin'+'dPose']=_0x508ff8,this['boneNames']=_0x11c438;}}const kA=[-0x1b38+-0x100c+-0x3*-0xe6c,-0x720*-0x2+0x1*-0x226f+0x142f,0x335+0x10*-0x15d+0x129c,0x24b3+0x51b+0x29ce*-0x1,0x2366+0x192a+0xe4*-0x44,0x1cc9+0x135*0x7+-0x253b,-0x1*0x1c4e+0x7*-0x323+-0x1*-0x3243,0x3ca*0x5+-0x10f+0xf1*-0x13,0x102f+-0x422+0x404*-0x3,-0x1841+0x1147*-0x2+-0x3acf*-0x1,-0x2008+0x5*0x459+0xa4b,0x1b81+0x1*0x171f+-0x329f],UA=[0x1371+-0x41d*-0x5+-0xd56*0x3,0x38c*0x1+0x228c+0x2617*-0x1,0x4*-0x6f7+0x204e+-0x46f,-0x11ea+0x1e86+-0xc9a,0x1f07+-0x8e*-0x19+-0x2ce2,-0x17b*0xd+0x26aa+-0x136a];class BA extends me{constructor(_0x4c8d41,_0x4bb4b0){super(),this['_device']=_0x4c8d41,this['_pixelsPer'+'Unit']=_0x4bb4b0&&_0x4bb4b0['pixelsPerU'+'nit']!==void(0x9dc+0x1e19+-0x27f5)?_0x4bb4b0['pixelsPerU'+'nit']:-0x6bc+0x3*0x8bd+-0x115*0x12,this['_renderMod'+'e']=_0x4bb4b0&&_0x4bb4b0['renderMode']!==void(-0x1605+-0x1ddd+-0x2*-0x19f1)?_0x4bb4b0['renderMode']:ci,this['_atlas']=_0x4bb4b0&&_0x4bb4b0['atlas']!==void(0x2*0xc5+-0x1ae*-0xa+-0x1*0x1256)?_0x4bb4b0['atlas']:null,this['_frameKeys']=_0x4bb4b0&&_0x4bb4b0['frameKeys']!==void(0x403+-0x1344+0x163*0xb)?_0x4bb4b0['frameKeys']:null,this['_meshes']=[],this['_updatingP'+'roperties']=!(0x1e8e*-0x1+0x152c+0x1*0x963),this['_meshesDir'+'ty']=!(-0x2601+-0x7*-0x549+0x7*0x25),this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes']();}set['frameKeys'](_0x379264){this['_frameKeys']=_0x379264,this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x14f0+0x1*-0x2e7+0x1209*-0x1):this['_createMes'+'hes']()),this['fire']('set:frameK'+'eys',_0x379264);}get['frameKeys'](){return this['_frameKeys'];}set['atlas'](_0x20073d){_0x20073d!==this['_atlas']&&(this['_atlas']&&(this['_atlas']['off']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['off']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['off']('remove:fra'+'me',this['_onFrameRe'+'moved'],this)),this['_atlas']=_0x20073d,this['_atlas']&&this['_frameKeys']&&(this['_atlas']['on']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['on']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['on']('remove:fra'+'me',this['_onFrameRe'+'moved'],this),this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x923*-0x2+0x1add+0x907*-0x5):this['_createMes'+'hes']()),this['fire']('set:atlas',_0x20073d));}get['atlas'](){return this['_atlas'];}set['pixelsPerU'+'nit'](_0x2e87b9){this['_pixelsPer'+'Unit']!==_0x2e87b9&&(this['_pixelsPer'+'Unit']=_0x2e87b9,this['fire']('set:pixels'+'PerUnit',_0x2e87b9),this['_atlas']&&this['_frameKeys']&&this['renderMode']===ci&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x823*-0x3+-0x1ad8+0x1*0x3341):this['_createMes'+'hes']()));}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}set['renderMode'](_0x5d5417){if(this['_renderMod'+'e']===_0x5d5417)return;const _0x535953=this['_renderMod'+'e'];this['_renderMod'+'e']=_0x5d5417,this['fire']('set:render'+'Mode',_0x5d5417),(_0x535953===ci||_0x5d5417===ci)&&this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x5ed*0x3+0x4*-0x2ba+0x1caf):this['_createMes'+'hes']());}get['renderMode'](){return this['_renderMod'+'e'];}get['meshes'](){return this['_meshes'];}['_createMes'+'hes'](){const _0x3b06d0=this['_meshes']['length'];for(let _0x56ff9f=0x1*0xefb+-0x17b1+-0x2*-0x45b;_0x56ff9f<_0x3b06d0;_0x56ff9f++){const _0x56937f=this['_meshes'][_0x56ff9f];_0x56937f&&_0x56937f['destroy']();}const _0x2367bc=this['_frameKeys']['length'];this['_meshes']=new Array(_0x2367bc);const _0x153c4e=this['renderMode']===Pt||this['_renderMod'+'e']===Mt?this['_create9Sl'+'iceMesh']:this['_createSim'+'pleMesh'];for(let _0x284e6c=-0x60*-0x4d+-0x2*-0x1258+-0x4190;_0x284e6c<_0x2367bc;_0x284e6c++){const _0x44852f=this['_atlas']['frames'][this['_frameKeys'][_0x284e6c]];this['_meshes'][_0x284e6c]=_0x44852f?_0x153c4e['call'](this,_0x44852f):null;}this['fire']('set:meshes');}['_createSim'+'pleMesh'](_0x4634dd){const _0x512187=_0x4634dd['rect'],_0x2259cb=this['_atlas']['texture']['width'],_0x49a966=this['_atlas']['texture']['height'],_0x5b7ce6=_0x512187['z']/this['_pixelsPer'+'Unit'],_0x4039aa=_0x512187['w']/this['_pixelsPer'+'Unit'],_0x3a46a6=_0x4634dd['pivot']['x'],_0x81622e=_0x4634dd['pivot']['y'],_0x196cfa=[-_0x3a46a6*_0x5b7ce6,-_0x81622e*_0x4039aa,0x36+-0x33*-0xc2+0x1*-0x26dc,(-0x1*-0xdae+0x5*-0x2d7+0x86-_0x3a46a6)*_0x5b7ce6,-_0x81622e*_0x4039aa,-0x2230+-0x5*-0x73b+-0x1f7,(-0x2571+-0x2143+-0x17*-0x313-_0x3a46a6)*_0x5b7ce6,(-0x22fb+0x4*-0x5e7+0x3a98-_0x81622e)*_0x4039aa,0x176a+-0x40*0x7b+0x1*0x756,-_0x3a46a6*_0x5b7ce6,(0x120c+-0x2b*0x49+-0x28*0x25-_0x81622e)*_0x4039aa,0x579*-0x7+0x3*0x797+0x11*0xea],_0x1ec398=_0x512187['x']/_0x2259cb,_0x431327=0x11*0x16f+-0x1e94+-0x109*-0x6-_0x512187['y']/_0x49a966,_0xca3281=(_0x512187['x']+_0x512187['z'])/_0x2259cb,_0x45c17a=-0xffa+0x18ef+0x2*-0x47a-(_0x512187['y']+_0x512187['w'])/_0x49a966,_0x2f95fe=[_0x1ec398,_0x431327,_0xca3281,_0x431327,_0xca3281,_0x45c17a,_0x1ec398,_0x45c17a],_0x29e5d2=new Ta();return _0x29e5d2['positions']=_0x196cfa,_0x29e5d2['normals']=kA,_0x29e5d2['uvs']=_0x2f95fe,_0x29e5d2['indices']=UA,Ge['fromGeomet'+'ry'](this['_device'],_0x29e5d2);}['_create9Sl'+'iceMesh'](){const _0x6825ec=J['ONE'],_0xd68840=0x77*-0x2a+-0x9f6+0x1d7f,_0x3be7c2=0x1c04+-0x3d*0xf+-0x186e,_0x32827b=[],_0x1e39db=[],_0x32697f=[],_0x376841=[];let _0x44f61d=-0xed5+-0xb24+0x19f9;for(let _0x58a049=0xd*0x3f+0x371*0x3+-0xd86*0x1;_0x58a049<=_0xd68840;_0x58a049++){const _0x417927=_0x58a049===0x1ba*-0x1+-0x2041+0x21fb*0x1||_0x58a049===_0xd68840?0x17*0xa4+0x15c1+-0x1*0x247d:-0x1185+-0xf38+0x3*0xaea;for(let _0x31f094=-0xa8f*0x3+0x186e+0x1*0x73f;_0x31f094<=_0x3be7c2;_0x31f094++){const _0x21dc53=-_0x6825ec['x']+(-0xc3*0x28+-0x4*-0x864+-0x18b*0x2)*_0x6825ec['x']*(_0x58a049<=0x45*-0x17+-0xcb9*0x2+0x1fa6?-0x263+0x2*0xb9e+-0x6f3*0x3:0x1*-0x2c5+-0x7*0x11a+0x2*0x53f)/_0xd68840,_0x47d6ea=-0x16c0+0x1*-0xd8d+0x244d*0x1,_0x5c7f8c=-(-_0x6825ec['y']+(0x17*-0x1+0x5ab*0x2+-0xb3d*0x1)*_0x6825ec['y']*(_0x31f094<=-0x11*-0x121+0x18e4*0x1+0x5b*-0x7c?0x156c+-0x1fb5*-0x1+-0x1d*0x1d5:-0x1d*-0xd3+-0x1*-0x137d+0x1*-0x2b61)/_0x3be7c2),_0x38bea3=_0x31f094===0x72b*-0x3+-0xbe*-0x13+0x767||_0x31f094===_0x3be7c2?0x1c01+-0x379*0xb+0xa32*0x1:-0x194+0xf4f+-0xfb*0xe;_0x32827b['push'](-_0x21dc53,_0x47d6ea,_0x5c7f8c),_0x1e39db['push'](-0x165*0x1b+0x25f+-0x2348*-0x1,0xe*0x1aa+-0x1f8f+0x844,-0x5f1+-0xe80+0x1471),_0x32697f['push'](_0x417927,_0x38bea3),_0x58a049<_0xd68840&&_0x31f094<_0x3be7c2&&(_0x376841['push'](_0x44f61d+_0x3be7c2+(0x80d+-0xf3c+0x50*0x17),_0x44f61d+(-0x1b12+-0x1dc3*0x1+0x38d6),_0x44f61d),_0x376841['push'](_0x44f61d+_0x3be7c2+(-0x1d3d*-0x1+-0x4*0x3e5+-0xda8),_0x44f61d+_0x3be7c2+(0x1117+-0x10f1*-0x1+0x6ce*-0x5),_0x44f61d+(0x1ea0+-0x2b3*-0x4+-0x296b))),_0x44f61d++;}}const _0x33d258=new Ta();return _0x33d258['positions']=_0x32827b,_0x33d258['normals']=_0x1e39db,_0x33d258['uvs']=_0x32697f,_0x33d258['indices']=_0x376841,Ge['fromGeomet'+'ry'](this['_device'],_0x33d258);}['_onSetFram'+'es'](_0x1dc60f){this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0xdc9+0x17b6+-0x1*0x257f):this['_createMes'+'hes']();}['_onFrameCh'+'anged'](_0xc45965,_0x2c6f58){const _0x406158=this['_frameKeys']['indexOf'](_0xc45965);_0x406158<0x13de+0x1e57+-0x3235||(_0x2c6f58?this['renderMode']===ci&&(this['_meshes'][_0x406158]=this['_createSim'+'pleMesh'](_0x2c6f58)):this['_meshes'][_0x406158]=null,this['fire']('set:meshes'));}['_onFrameRe'+'moved'](_0x451d2c){const _0x424fbd=this['_frameKeys']['indexOf'](_0x451d2c);_0x424fbd<-0x2175+0x1*0x2157+0x1e||(this['_meshes'][_0x424fbd]=null,this['fire']('set:meshes'));}['startUpdat'+'e'](){this['_updatingP'+'roperties']=!(0xd40*0x1+-0x1a3c+0xcfc),this['_meshesDir'+'ty']=!(0xac9+-0x230b+0x1843);}['endUpdate'](){this['_updatingP'+'roperties']=!(0xa22*0x1+-0x5d*-0x4e+-0x2677),this['_meshesDir'+'ty']&&this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes'](),this['_meshesDir'+'ty']=!(0x1afc+-0xa1+0x2*-0xd2d);}['destroy'](){for(const _0x57bdbe of this['_meshes'])_0x57bdbe&&_0x57bdbe['destroy']();this['_meshes']['length']=-0x1197+-0x113*0xa+-0x1*-0x1c55;}}class zA extends me{constructor(){super(),this['_texture']=null,this['_frames']=null;}set['texture'](_0x3e3cf8){this['_texture']=_0x3e3cf8,this['fire']('set:textur'+'e',_0x3e3cf8);}get['texture'](){return this['_texture'];}set['frames'](_0x4c3135){this['_frames']=_0x4c3135,this['fire']('set:frames',_0x4c3135);}get['frames'](){return this['_frames'];}['setFrame'](_0x493417,_0x15d6a0){let _0x45e573=this['_frames'][_0x493417];_0x45e573?(_0x45e573['rect']['copy'](_0x15d6a0['rect']),_0x45e573['pivot']['copy'](_0x15d6a0['pivot']),_0x45e573['border']['copy'](_0x15d6a0['border'])):(_0x45e573={'rect':_0x15d6a0['rect']['clone'](),'pivot':_0x15d6a0['pivot']['clone'](),'border':_0x15d6a0['border']['clone']()},this['_frames'][_0x493417]=_0x45e573),this['fire']('set:frame',_0x493417['toString'](),_0x45e573);}['removeFram'+'e'](_0x2bcc32){const _0xa312e4=this['_frames'][_0x2bcc32];_0xa312e4&&(delete this['_frames'][_0x2bcc32],this['fire']('remove:fra'+'me',_0x2bcc32['toString'](),_0xa312e4));}['destroy'](){this['_texture']&&this['_texture']['destroy']();}}class dg{constructor(_0x64d385,_0x2f2c11,_0x1c2ab7,_0x6f9b4c){this['time']=_0x64d385,this['position']=_0x2f2c11,this['rotation']=_0x1c2ab7,this['scale']=_0x6f9b4c;}}class fg{constructor(){this['_name']='',this['_keys']=[];}}class ug{constructor(){h(this,'name',''),h(this,'duration',-0x2a*-0x56+0x364+-0x1180),(this['_nodes']=[],this['_nodeDict']={});}['getNode'](_0x1e8ade){return this['_nodeDict'][_0x1e8ade];}['addNode'](_0x35fb54){this['_nodes']['push'](_0x35fb54),this['_nodeDict'][_0x35fb54['_name']]=_0x35fb54;}get['nodes'](){return this['_nodes'];}}class VA{constructor(){this['_written']=!(0xdc7+-0x10f*0x16+-0xe*-0xae),this['_name']='',this['_keyFrames']=[],this['_quat']=new le(),this['_pos']=new D(),this['_scale']=new D(),this['_targetNod'+'e']=null;}['getTarget'](){return this['_targetNod'+'e'];}['setTarget'](_0x5bdf94){this['_targetNod'+'e']=_0x5bdf94;}}class Sf{constructor(_0x4a6bac){h(this,'looping',!(0xe*0x8e+0x84+-0x6a*0x14)),(this['_animation']=null,this['_time']=-0xf2*-0x11+-0x164f+0x63d,this['_interpola'+'tedKeys']=[],this['_interpola'+'tedKeyDict']={},this['_currKeyIn'+'dices']={},this['graph']=null);const _0x41c24b=_0x464d9b=>{const _0x2c176d=new VA();_0x2c176d['_name']=_0x464d9b['name'],this['_interpola'+'tedKeys']['push'](_0x2c176d),this['_interpola'+'tedKeyDict'][_0x464d9b['name']]=_0x2c176d,this['_currKeyIn'+'dices'][_0x464d9b['name']]=0x1d*-0x51+-0x19*0x5f+-0x49d*-0x4;for(let _0x2952d7=-0xec0+0x1df1+0xf31*-0x1;_0x2952d7<_0x464d9b['_children']['length'];_0x2952d7++)_0x41c24b(_0x464d9b['_children'][_0x2952d7]);};_0x41c24b(_0x4a6bac);}set['animation'](_0x393fd5){this['_animation']=_0x393fd5,this['currentTim'+'e']=0x295+0x1*0x1b0a+-0x1d9f;}get['animation'](){return this['_animation'];}set['currentTim'+'e'](_0x5abd32){this['_time']=_0x5abd32;const _0x1aa21c=this['_interpola'+'tedKeys']['length'];for(let _0x3c14ec=-0x9b4+-0xa*-0x36c+-0x1884*0x1;_0x3c14ec<_0x1aa21c;_0x3c14ec++){const _0x31c4aa=this['_interpola'+'tedKeys'][_0x3c14ec]['_name'];this['_currKeyIn'+'dices'][_0x31c4aa]=-0x1081+-0x23*0x85+0x6f0*0x5;}this['addTime'](0x2*0xbf3+0x1*0x218e+0x1cba*-0x2),this['updateGrap'+'h']();}get['currentTim'+'e'](){return this['_time'];}get['numNodes'](){return this['_interpola'+'tedKeys']['length'];}['addTime'](_0x2aee41){if(this['_animation']!==null){const _0x1d140b=this['_animation']['_nodes'],_0x263777=this['_animation']['duration'];if(this['_time']===_0x263777&&!this['looping'])return;if(this['_time']+=_0x2aee41,this['_time']>_0x263777){this['_time']=this['looping']?-0xbf8+0x137d+-0x785:_0x263777;for(let _0x47768d=-0x233c+0x12ab+0x1*0x1091;_0x47768d<_0x1d140b['length'];_0x47768d++){const _0x6e8096=_0x1d140b[_0x47768d]['_name'];this['_currKeyIn'+'dices'][_0x6e8096]=0x1a9e+0x125*0x2+0x94*-0x32;}}else{if(this['_time']<-0xb*-0x302+0x6*-0x51c+-0x26e){this['_time']=this['looping']?_0x263777:0x1eb7+0x961+0x8*-0x503;for(let _0x1bc812=-0x2*-0x4ab+0x7c1*0x2+0x6a*-0x3c;_0x1bc812<_0x1d140b['length'];_0x1bc812++){const _0x56957b=_0x1d140b[_0x1bc812],_0xe524ef=_0x56957b['_name'];this['_currKeyIn'+'dices'][_0xe524ef]=_0x56957b['_keys']['length']-(-0x136b+-0x24d6+0x3843);}}}const _0x30a8aa=_0x2aee41>=-0x22c0*0x1+0xf25+0x139b?-0x4*0x335+0x138e+-0x6b9:-(0x45f+-0x1da+0x1*-0x284);for(let _0x2b128c=-0x2369+-0x1a65+0x3dce;_0x2b128c<_0x1d140b['length'];_0x2b128c++){const _0x322af0=_0x1d140b[_0x2b128c],_0x415b85=_0x322af0['_name'],_0x4976c3=_0x322af0['_keys'],_0x44b719=this['_interpola'+'tedKeyDict'][_0x415b85];if(_0x44b719===void(0x6e6+0x1643*-0x1+0xf5d)){w['warn']('Unknown\x20sk'+'eleton\x20nod'+'e\x20name:\x20'+_0x415b85);continue;}let _0x16ae9c=!(0xc07+-0xade+-0x4*0x4a);if(_0x4976c3['length']!==0x1bb4*-0x1+-0x73c*0x2+-0x1*-0x2a2d)for(let _0xc7a72e=this['_currKeyIn'+'dices'][_0x415b85];_0xc7a72e<_0x4976c3['length']-(0x1fba+0x7*0x179+-0x2a08)&&_0xc7a72e>=-0x1f44+-0x1702+0x3646;_0xc7a72e+=_0x30a8aa){const _0x12bf49=_0x4976c3[_0xc7a72e],_0x5dad4c=_0x4976c3[_0xc7a72e+(-0x15fd+0x6d3+0xf2b)];if(_0x12bf49['time']<=this['_time']&&_0x5dad4c['time']>=this['_time']){const _0x5d0cea=(this['_time']-_0x12bf49['time'])/(_0x5dad4c['time']-_0x12bf49['time']);_0x44b719['_pos']['lerp'](_0x12bf49['position'],_0x5dad4c['position'],_0x5d0cea),_0x44b719['_quat']['slerp'](_0x12bf49['rotation'],_0x5dad4c['rotation'],_0x5d0cea),_0x44b719['_scale']['lerp'](_0x12bf49['scale'],_0x5dad4c['scale'],_0x5d0cea),_0x44b719['_written']=!(0x21a9+0x4*-0x7ac+-0x2f9),this['_currKeyIn'+'dices'][_0x415b85]=_0xc7a72e,_0x16ae9c=!(-0x221*0x11+0x12f6+-0x113b*-0x1);break;}}(_0x4976c3['length']===-0x1b4e+-0x28+-0x1b77*-0x1||!_0x16ae9c&&this['_time']===-0x2258+0x1884+0x9d4&&this['looping'])&&(_0x44b719['_pos']['copy'](_0x4976c3[-0x7f5+-0x1d12+0x2507]['position']),_0x44b719['_quat']['copy'](_0x4976c3[0x1c2c+0x868+-0x2494]['rotation']),_0x44b719['_scale']['copy'](_0x4976c3[-0x143a+0x7*0x1eb+0x6cd]['scale']),_0x44b719['_written']=!(-0x1bb2+0x1dcd+-0x21b));}}}['blend'](_0x4a9bef,_0x5b470c,_0x4ffe63){const _0x2e849c=this['_interpola'+'tedKeys']['length'];for(let _0x106764=0xd*0x179+-0x1d7*-0x3+-0x18aa;_0x106764<_0x2e849c;_0x106764++){const _0x5a442c=_0x4a9bef['_interpola'+'tedKeys'][_0x106764],_0x3ddd35=_0x5b470c['_interpola'+'tedKeys'][_0x106764],_0x3fcae2=this['_interpola'+'tedKeys'][_0x106764];_0x5a442c['_written']&&_0x3ddd35['_written']?(_0x3fcae2['_quat']['slerp'](_0x5a442c['_quat'],_0x5b470c['_interpola'+'tedKeys'][_0x106764]['_quat'],_0x4ffe63),_0x3fcae2['_pos']['lerp'](_0x5a442c['_pos'],_0x5b470c['_interpola'+'tedKeys'][_0x106764]['_pos'],_0x4ffe63),_0x3fcae2['_scale']['lerp'](_0x5a442c['_scale'],_0x3ddd35['_scale'],_0x4ffe63),_0x3fcae2['_written']=!(0x74c+-0x496+0x2b6*-0x1)):_0x5a442c['_written']?(_0x3fcae2['_quat']['copy'](_0x5a442c['_quat']),_0x3fcae2['_pos']['copy'](_0x5a442c['_pos']),_0x3fcae2['_scale']['copy'](_0x5a442c['_scale']),_0x3fcae2['_written']=!(-0xd*0x18a+0xd2a+0x6d8)):_0x3ddd35['_written']&&(_0x3fcae2['_quat']['copy'](_0x3ddd35['_quat']),_0x3fcae2['_pos']['copy'](_0x3ddd35['_pos']),_0x3fcae2['_scale']['copy'](_0x3ddd35['_scale']),_0x3fcae2['_written']=!(-0x1f10+0x26cc+-0x24*0x37));}}['setGraph'](_0x5e2e0a){if(this['graph']=_0x5e2e0a,_0x5e2e0a)for(let _0x5c8d32=-0x22bf*-0x1+0x7a8+-0xd*0x343;_0x5c8d32<this['_interpola'+'tedKeys']['length'];_0x5c8d32++){const _0x17bc5f=this['_interpola'+'tedKeys'][_0x5c8d32],_0x46a1a5=_0x5e2e0a['findByName'](_0x17bc5f['_name']);this['_interpola'+'tedKeys'][_0x5c8d32]['setTarget'](_0x46a1a5);}else{for(let _0x3aec53=-0x2*0x665+0x2d4*-0xa+0x2912;_0x3aec53<this['_interpola'+'tedKeys']['length'];_0x3aec53++)this['_interpola'+'tedKeys'][_0x3aec53]['setTarget'](null);}}['updateGrap'+'h'](){if(this['graph'])for(let _0x983a76=0x42c+0x1*-0x1b8+-0x274;_0x983a76<this['_interpola'+'tedKeys']['length'];_0x983a76++){const _0x36736d=this['_interpola'+'tedKeys'][_0x983a76];if(_0x36736d['_written']){const _0x31b8f5=_0x36736d['getTarget']();_0x31b8f5['localPosit'+'ion']['copy'](_0x36736d['_pos']),_0x31b8f5['localRotat'+'ion']['copy'](_0x36736d['_quat']),_0x31b8f5['localScale']['copy'](_0x36736d['_scale']),_0x31b8f5['_dirtyLoca'+'l']||_0x31b8f5['_dirtifyLo'+'cal'](),_0x36736d['_written']=!(0x27*-0x67+-0x1*0x145d+0x240f);}}}}const zs=(-0xe*0xea+0x1eec+0x26*-0x7a)/(-0x2d6+-0x195c+0x1c72),si=-0x170f*0x1+0x2*0x2f2+0x112c-zs*(-0x1d88+0x1f38+0xa*-0x2b);class gm extends Ta{constructor(_0x221a38,_0x4b0db3,_0x5799e0,_0x142c6d,_0x4f6228,_0x20894e){super();const _0x1e3abf=new D(),_0x524c17=new D(),_0x552ffd=new D(),_0x3b00ec=new D(),_0x45a17b=new D(),_0xc03eb6=new D(),_0x483a0a=[],_0x15572a=[],_0x43f2ed=[],_0x5b8a91=[],_0x195281=[];let _0x40462a;if(_0x5799e0>0x2*0xca3+0x1a65*0x1+-0x33ab){for(let _0x118993=-0xd0d+-0x883*-0x1+0x48a;_0x118993<=_0x142c6d;_0x118993++)for(let _0x4fc08b=0x12a9+0x1*-0x494+-0x2d1*0x5;_0x4fc08b<=_0x4f6228;_0x4fc08b++){const _0x5dfd4a=_0x4fc08b/_0x4f6228*(-0xfd*0x1b+-0x1*-0x1597+0x51a)*Math['PI']-Math['PI'],_0x18a8b2=Math['sin'](_0x5dfd4a),_0x467ffa=Math['cos'](_0x5dfd4a);_0x45a17b['set'](_0x18a8b2*_0x221a38,-_0x5799e0/(0x1*-0xdad+0x4*-0x5f1+0x2573),_0x467ffa*_0x221a38),_0x3b00ec['set'](_0x18a8b2*_0x4b0db3,_0x5799e0/(0x1*0xa86+-0x1365+0x1*0x8e1),_0x467ffa*_0x4b0db3),_0x1e3abf['lerp'](_0x45a17b,_0x3b00ec,_0x118993/_0x142c6d),_0x524c17['sub2'](_0x3b00ec,_0x45a17b)['normalize'](),_0xc03eb6['set'](_0x467ffa,0x1*-0x1eee+-0x1*-0x2482+0x11*-0x54,-_0x18a8b2),_0x552ffd['cross'](_0xc03eb6,_0x524c17)['normalize'](),_0x483a0a['push'](_0x1e3abf['x'],_0x1e3abf['y'],_0x1e3abf['z']),_0x15572a['push'](_0x552ffd['x'],_0x552ffd['y'],_0x552ffd['z']);let _0x46768f=_0x4fc08b/_0x4f6228,_0x35301e=_0x118993/_0x142c6d;_0x43f2ed['push'](_0x46768f,0x1*0x1c14+-0xb1f+0x1c*-0x9b-_0x35301e);const _0x2b841c=_0x35301e;if(_0x35301e=_0x46768f,_0x46768f=_0x2b841c,_0x46768f=_0x46768f*si+zs,_0x35301e=_0x35301e*si+zs,_0x46768f/=-0x13*-0xcf+-0x13a*0x6+-0x16*0x5d,_0x5b8a91['push'](_0x46768f,0x16*-0x170+0x1848+0x759-_0x35301e),_0x118993<_0x142c6d&&_0x4fc08b<_0x4f6228){const _0x3f33b0=_0x118993*(_0x4f6228+(0x8c3*-0x1+0x1309+-0xb*0xef))+_0x4fc08b,_0x3bf437=_0x118993*(_0x4f6228+(-0x1d1e+-0x18ab+0x35ca))+(_0x4fc08b+(-0x8*0x1b+0xe8e+-0xdb5)),_0xf57978=(_0x118993+(0x1cb7*-0x1+-0x7*-0x327+-0x6a7*-0x1))*(_0x4f6228+(-0x2405*-0x1+0x1819+-0x3c1d))+_0x4fc08b,_0x5cbf3b=(_0x118993+(-0x1b1*-0x1+0x29*0xab+-0x9*0x33b))*(_0x4f6228+(0xbe2+-0x2*-0x8d8+0x1d*-0x105))+(_0x4fc08b+(-0x2*0x694+-0x2*0xc1+-0xeab*-0x1));_0x195281['push'](_0x3f33b0,_0x3bf437,_0xf57978),_0x195281['push'](_0x3bf437,_0x5cbf3b,_0xf57978);}}}if(_0x20894e){const _0x2940c8=Math['floor'](_0x4f6228/(0x15fc+0x723+0x101*-0x1d)),_0x4dedf4=_0x4f6228,_0x2af336=_0x5799e0/(0x2576+-0x196e+-0x1*0xc06);for(let _0x4494a0=0x13dd+-0x3*-0x175+-0x183c;_0x4494a0<=_0x2940c8;_0x4494a0++){const _0x2e03e9=_0x4494a0*Math['PI']*(0x213c+-0x332*0xb+0x1ea+0.5)/_0x2940c8,_0x536513=Math['sin'](_0x2e03e9),_0x5576bc=Math['cos'](_0x2e03e9);for(let _0x1a6b44=0x3*0x31d+-0x2*-0x4f+-0x9f5;_0x1a6b44<=_0x4dedf4;_0x1a6b44++){const _0x391dd8=_0x1a6b44*(0x1e96+0x1af1+-0x3985)*Math['PI']/_0x4dedf4-Math['PI']/(-0x20ce+-0x86f+0x1*0x293f),_0x5b3c22=Math['sin'](_0x391dd8),_0x4399cd=Math['cos'](_0x391dd8)*_0x536513,_0x2cc663=_0x5576bc,_0x2f38bd=_0x5b3c22*_0x536513;let _0x525a5f=-0x2f*-0x8e+-0x1*-0x1ed9+-0x1d6*0x1f-_0x1a6b44/_0x4dedf4,_0x45f223=0x176d+-0x217c+0xa1*0x10-_0x4494a0/_0x2940c8;_0x483a0a['push'](_0x4399cd*_0x4b0db3,_0x2cc663*_0x4b0db3+_0x2af336,_0x2f38bd*_0x4b0db3),_0x15572a['push'](_0x4399cd,_0x2cc663,_0x2f38bd),_0x43f2ed['push'](_0x525a5f,-0x1*-0x100f+0x1b*-0x93+-0x8d-_0x45f223),_0x525a5f=_0x525a5f*si+zs,_0x45f223=_0x45f223*si+zs,_0x525a5f/=-0xa6f*0x1+0x1e89+-0x8b*0x25,_0x45f223/=-0x25f+-0x63f+0x8a1,_0x525a5f+=(-0x1*-0xf4d+-0x4b1*-0x1+-0x77*0x2b)/(-0x336+0x5*-0x529+0x1d06),_0x5b8a91['push'](_0x525a5f,-0x610+0x1192+0x1f*-0x5f-_0x45f223);}}_0x40462a=(_0x142c6d+(0x4f3*0x1+-0x1e13*-0x1+-0x2305))*(_0x4f6228+(0x4e2+0x1fe9+0x24ca*-0x1));for(let _0x1c3763=-0x1cdc+0x1577+0x765;_0x1c3763<_0x2940c8;++_0x1c3763)for(let _0x7575a3=0x267f+0x103d+-0x36bc;_0x7575a3<_0x4dedf4;++_0x7575a3){const _0x2c2449=_0x1c3763*(_0x4dedf4+(0x581*0x4+0x1b99+-0x319c))+_0x7575a3,_0xe485e2=_0x2c2449+_0x4dedf4+(0x1*-0x1ada+-0x24b4+-0x35*-0x133);_0x195281['push'](_0x40462a+_0x2c2449+(-0x1c1c+-0x6fb+-0x463*-0x8),_0x40462a+_0xe485e2,_0x40462a+_0x2c2449),_0x195281['push'](_0x40462a+_0x2c2449+(-0x432+-0x99*0x4+-0x1*-0x697),_0x40462a+_0xe485e2+(-0x1c13+-0xa26+0xcbe*0x3),_0x40462a+_0xe485e2);}for(let _0x50e9be=0x25*0x3d+-0x24d8+0x1c07;_0x50e9be<=_0x2940c8;_0x50e9be++){const _0x5396d1=Math['PI']*(0x7cd+-0x1*-0xd4f+-0x4*0x547+0.5)+_0x50e9be*Math['PI']*(-0xe56+0xe54+0x2+0.5)/_0x2940c8,_0x14ecac=Math['sin'](_0x5396d1),_0x17f1fa=Math['cos'](_0x5396d1);for(let _0x5e6cc1=0x11ba+0x250b+-0x36c5;_0x5e6cc1<=_0x4dedf4;_0x5e6cc1++){const _0x48a84f=_0x5e6cc1*(0xb*0x30e+0x61+-0x21f9*0x1)*Math['PI']/_0x4dedf4-Math['PI']/(-0x2330+-0x2454+0x4786),_0x165349=Math['sin'](_0x48a84f),_0x4689c0=Math['cos'](_0x48a84f)*_0x14ecac,_0x301d70=_0x17f1fa,_0x53c089=_0x165349*_0x14ecac;let _0x4960cd=-0x5*0x3ed+-0x1450+0x27f2-_0x5e6cc1/_0x4dedf4,_0x4625a4=-0x11ef*0x2+-0x9e3+-0x2dc2*-0x1-_0x50e9be/_0x2940c8;_0x483a0a['push'](_0x4689c0*_0x4b0db3,_0x301d70*_0x4b0db3-_0x2af336,_0x53c089*_0x4b0db3),_0x15572a['push'](_0x4689c0,_0x301d70,_0x53c089),_0x43f2ed['push'](_0x4960cd,0x2d8+0x176d+-0x691*0x4-_0x4625a4),_0x4960cd=_0x4960cd*si+zs,_0x4625a4=_0x4625a4*si+zs,_0x4960cd/=-0x2211*-0x1+-0x279*0x2+-0x1d1c,_0x4625a4/=-0x2672+-0x227d+0x48f2,_0x4960cd+=(-0xabe+0x242c+0x4*-0x65b)/(-0x1c57+0xfdd+0xc7d*0x1),_0x5b8a91['push'](_0x4960cd,0xb*0x296+0xb9b*-0x1+-0x10d6-_0x4625a4);}}_0x40462a=(_0x142c6d+(-0xcb4*0x3+0x14f*0xb+0x17b8))*(_0x4f6228+(-0x1*-0x2006+-0x1*-0x2133+-0x827*0x8))+(_0x4dedf4+(-0x11d7+-0x6f1+-0x1b*-0xeb))*(_0x2940c8+(0x70f*-0x5+-0x17c+0x24c8));for(let _0x4e381b=0x418*0x3+0x1720+-0x2368;_0x4e381b<_0x2940c8;++_0x4e381b)for(let _0x4e5b6e=0xc03+-0x15c8+0x9c5;_0x4e5b6e<_0x4dedf4;++_0x4e5b6e){const _0x1e25a0=_0x4e381b*(_0x4dedf4+(-0x17c6+0x4*0x80b+-0x865))+_0x4e5b6e,_0x34e485=_0x1e25a0+_0x4dedf4+(0x10c4+-0x2*-0x112c+-0x26f*0x15);_0x195281['push'](_0x40462a+_0x1e25a0+(0x39c+0x2*0xa31+-0x1*0x17fd),_0x40462a+_0x34e485,_0x40462a+_0x1e25a0),_0x195281['push'](_0x40462a+_0x1e25a0+(0x6ea+0x95c*-0x4+-0x5*-0x61b),_0x40462a+_0x34e485+(0x1c4b+0x1*0x13f9+-0x3043),_0x40462a+_0x34e485);}}else{if(_0x40462a=(_0x142c6d+(0x1f4*0x3+0x1675+-0x1c50))*(_0x4f6228+(-0x205b+-0x1*-0xfa6+0x10b6)),_0x221a38>-0x204a+0x1f08+0x142)for(let _0x1ffab3=0x16ff+-0x1acd+0x1e7*0x2;_0x1ffab3<_0x4f6228;_0x1ffab3++){const _0x23f1f1=_0x1ffab3/_0x4f6228*(-0x3bb+-0x22f*0x7+0x1306)*Math['PI'],_0x253097=Math['sin'](_0x23f1f1),_0x46878a=-_0x5799e0/(0x4cc*-0x1+0x1*-0x2337+-0x3*-0xd57),_0x54a72d=Math['cos'](_0x23f1f1);let _0x2c6499=-0x22f5+-0x15f*-0x9+-0x1*-0x169f-(_0x253097+(0x22d2*-0x1+-0x2*0x1b5+0x263d))/(-0xd8*0x16+0x179b+-0x509*0x1),_0x362850=(_0x54a72d+(-0x7*0x6e+-0x2221*-0x1+0xf8f*-0x2))/(-0x17c3+0x51a+-0x12ab*-0x1);_0x483a0a['push'](_0x253097*_0x221a38,_0x46878a,_0x54a72d*_0x221a38),_0x15572a['push'](-0x2312+0x26d5+-0x9*0x6b,-(-0x805+0x1*0x678+0xc7*0x2),0x1dd*0x12+-0xba6+-0x15e4),_0x43f2ed['push'](_0x2c6499,-0xb6d+-0x2*0x3c7+0x12fc-_0x362850),_0x2c6499=_0x2c6499*si+zs,_0x362850=_0x362850*si+zs,_0x2c6499/=0x2*0x184+0x25c9+-0x28ce*0x1,_0x362850/=-0xa6f*0x2+-0xf65+-0x1223*-0x2,_0x2c6499+=(-0xa*-0xa0+0x24b5+0xabd*-0x4)/(-0x1*0x28+-0x2*0xd5d+0x1ae5),_0x5b8a91['push'](_0x2c6499,-0x15f6+0x1fe6+-0x9ef*0x1-_0x362850),_0x1ffab3>-0x1*-0x94f+0xa*0x329+0x268*-0x11&&_0x195281['push'](_0x40462a,_0x40462a+_0x1ffab3,_0x40462a+_0x1ffab3-(0x1f6c+-0x1a00+-0x56b));}if(_0x40462a+=_0x4f6228,_0x4b0db3>0x26f3+-0x16f7+-0xffc)for(let _0x59fbbb=-0x98c+0x146b+-0xadf;_0x59fbbb<_0x4f6228;_0x59fbbb++){const _0x5639e1=_0x59fbbb/_0x4f6228*(-0x17db+0x170*-0xe+0x2bfd)*Math['PI'],_0x138a81=Math['sin'](_0x5639e1),_0x30d298=_0x5799e0/(0x24f1+0x237d+-0x486c),_0x5308da=Math['cos'](_0x5639e1);let _0x2b3c2d=-0x1357*-0x1+0x1*0x134c+-0x26a2-(_0x138a81+(-0x1*0x5be+-0x25ec+-0x1*-0x2bab))/(0x1*0x1add+-0x8db+-0x8*0x240),_0x4741c8=(_0x5308da+(0x1181+0x1*0x299+-0x1419))/(0x5*0x451+-0x2*-0x1105+-0x379d);_0x483a0a['push'](_0x138a81*_0x4b0db3,_0x30d298,_0x5308da*_0x4b0db3),_0x15572a['push'](0x4d5*0x6+-0x38*0x83+-0x2*0x2b,0x1150+0x1ee+0x3d9*-0x5,0x1bfb+0x5d9*0x1+-0x21d4),_0x43f2ed['push'](_0x2b3c2d,-0x65+-0x2317+0x237d-_0x4741c8),_0x2b3c2d=_0x2b3c2d*si+zs,_0x4741c8=_0x4741c8*si+zs,_0x2b3c2d/=0x238e+0xc6c+-0x2ff7,_0x4741c8/=-0x1acd*-0x1+-0x1baa+0xe0,_0x2b3c2d+=(-0x1df5+0x241*0xa+-0x1*-0x76d)/(-0x1af*0x6+0x1e20+0x6d*-0x2f),_0x5b8a91['push'](_0x2b3c2d,-0x3d*0x43+0x1*0x12a7+0x3*-0xe5-_0x4741c8),_0x59fbbb>0x219+-0xf64+0xd4c&&_0x195281['push'](_0x40462a,_0x40462a+_0x59fbbb-(-0xa1c+0x5*-0x175+-0x1*-0x1166),_0x40462a+_0x59fbbb);}}this['positions']=_0x483a0a,this['normals']=_0x15572a,this['uvs']=_0x43f2ed,this['uvs1']=_0x5b8a91,this['indices']=_0x195281;}}class GA extends gm{constructor(_0x270ad3={}){const _0x360a42=_0x270ad3['radius']??0x2*-0x11bb+0x1*-0x376+0x26ec*0x1+0.3,_0x19e1d6=_0x270ad3['height']??-0x1*-0xc6a+-0x1d8+-0x21d*0x5,_0x410997=_0x270ad3['heightSegm'+'ents']??-0x1*0x841+0x23b9+-0x1*0x1b77,_0x52e253=_0x270ad3['sides']??-0xfbc+-0x2b*0xb2+0x2db6;super(_0x360a42,_0x360a42,_0x19e1d6-(-0x13*-0x56+0x29e*-0xc+-0x42c*-0x6)*_0x360a42,_0x410997,_0x52e253,!(-0x1dc9+0x204d+-0x2*0x142)),_0x270ad3['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class HA extends gm{constructor(_0x573b79={}){const _0x3b67a6=_0x573b79['baseRadius']??-0x2*0x2aa+0xd20+0x7cc*-0x1+0.5,_0x29a103=_0x573b79['peakRadius']??-0x38f+-0x18d1+0x10*0x1c6,_0x1f031f=_0x573b79['height']??0x175*0x6+0x11b3*0x2+0x2c23*-0x1,_0x3e5055=_0x573b79['heightSegm'+'ents']??-0x2316+0x1fec+0x32f,_0x46a4c3=_0x573b79['capSegment'+'s']??0x1bb*0x5+0x2631+-0x1763*0x2;super(_0x3b67a6,_0x29a103,_0x1f031f,_0x3e5055,_0x46a4c3,!(-0x958+-0x153d*-0x1+0x2*-0x5f2)),_0x573b79['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class WA extends gm{constructor(_0x4c8ccc={}){const _0x5e3297=_0x4c8ccc['radius']??-0x3*0xce3+-0x1cc9+0x4372+0.5,_0x574be9=_0x4c8ccc['height']??-0x1b1+0x1ea7+-0x1cf5,_0x59e794=_0x4c8ccc['heightSegm'+'ents']??0x1*0x1c88+0xefb+-0x2b7e,_0x46ce29=_0x4c8ccc['capSegment'+'s']??-0x2205+-0x1602+0x381b;super(_0x5e3297,_0x5e3297,_0x574be9,_0x59e794,_0x46ce29,!(-0x15*0x1d3+-0x1bd1*0x1+0x129*0x39)),_0x4c8ccc['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class $A extends Ta{constructor(_0x2e6f64={}){super();const _0x151b50=_0x2e6f64['halfExtent'+'s']??new J(-0x1*-0x19ee+0x1dad+-0x379b+0.5,0x1*-0x2216+0x2701+-0x4eb+0.5),_0x390b37=_0x2e6f64['widthSegme'+'nts']??-0xb*-0x63+0x2*0x20b+-0x429*0x2,_0xdc443f=_0x2e6f64['lengthSegm'+'ents']??0xa57+-0xd53+-0x301*-0x1,_0x20e65f=[],_0x4de657=[],_0x3c66d1=[],_0x91b2a6=[];let _0x371599=0x16b2+-0x1cd3+-0x1*-0x621;for(let _0x2fc93d=-0x257*-0x1+-0x10*-0x256+0x27b7*-0x1;_0x2fc93d<=_0x390b37;_0x2fc93d++)for(let _0x2e8f8a=-0xed9+0x2b6+-0xd*-0xef;_0x2e8f8a<=_0xdc443f;_0x2e8f8a++){const _0x341794=-_0x151b50['x']+(-0x259*0x1+0xd8*-0x13+0x1263)*_0x151b50['x']*_0x2fc93d/_0x390b37,_0x1b0cf3=-0x1c5d+-0x1*-0x1cd5+0xa*-0xc,_0x48e9bc=-(-_0x151b50['y']+(-0xb47*0x1+-0x2a*0x5f+0x1adf)*_0x151b50['y']*_0x2e8f8a/_0xdc443f),_0x192f0d=_0x2fc93d/_0x390b37,_0x309549=_0x2e8f8a/_0xdc443f;_0x20e65f['push'](_0x341794,_0x1b0cf3,_0x48e9bc),_0x4de657['push'](-0x1*0x2462+0x7af*0x1+0x991*0x3,-0x199c+0x937+0x1066,-0x698*-0x5+0x733+-0x282b),_0x3c66d1['push'](_0x192f0d,0x235+-0x1abd+0x1889-_0x309549),_0x2fc93d<_0x390b37&&_0x2e8f8a<_0xdc443f&&(_0x91b2a6['push'](_0x371599+_0xdc443f+(0x74c*0x5+-0x7*-0x256+-0x34d5),_0x371599+(-0xe78+-0x3*0x3d7+-0x1*-0x19fe),_0x371599),_0x91b2a6['push'](_0x371599+_0xdc443f+(-0x18b2+-0x3*0xcf7+0x3f98),_0x371599+_0xdc443f+(-0xdf0*-0x2+0x95*0x7+-0x1ff1),_0x371599+(-0x23e8+-0x1254+0x363d*0x1))),_0x371599++;}this['positions']=_0x20e65f,this['normals']=_0x4de657,this['uvs']=_0x3c66d1,this['uvs1']=_0x3c66d1,this['indices']=_0x91b2a6,_0x2e6f64['calculateT'+'angents']&&(this['tangents']=Mr(_0x20e65f,_0x4de657,_0x3c66d1,_0x91b2a6));}}class XA extends Ta{constructor(_0x4bd225={}){super();const _0x3824b0=_0x4bd225['tubeRadius']??-0x26c6+-0xa36*0x3+0x4568+0.2,_0x484a95=_0x4bd225['ringRadius']??-0x1956+0x1167+0x3*0x2a5+0.3,_0x9027d9=(_0x4bd225['sectorAngl'+'e']??0x55a+0x1*0x3e6+-0x7d8)*Y['DEG_TO_RAD'],_0x4ac178=_0x4bd225['segments']??0x316+-0x26e8+0x23f0,_0x12e22f=_0x4bd225['sides']??-0x1*-0x245f+0x1*-0xd04+-0x1747,_0x395195=[],_0x1eb723=[],_0x53a8b6=[],_0x593d15=[];for(let _0xac5994=-0x5cb*-0x4+-0x5*-0x599+-0x3329;_0xac5994<=_0x12e22f;_0xac5994++)for(let _0x55bad4=0x314+0x7*-0xfb+0x3c9;_0x55bad4<=_0x4ac178;_0x55bad4++){const _0x4d0ea7=Math['cos'](_0x9027d9*_0x55bad4/_0x4ac178)*(_0x484a95+_0x3824b0*Math['cos']((0x3ee+0x1eef+0x1*-0x22db)*Math['PI']*_0xac5994/_0x12e22f)),_0x37a18b=Math['sin']((-0x1492+-0x1a58+0x2eec)*Math['PI']*_0xac5994/_0x12e22f)*_0x3824b0,_0x523f72=Math['sin'](_0x9027d9*_0x55bad4/_0x4ac178)*(_0x484a95+_0x3824b0*Math['cos']((-0xaf3+-0xb0b+0xb00*0x2)*Math['PI']*_0xac5994/_0x12e22f)),_0x39dfc3=Math['cos'](_0x9027d9*_0x55bad4/_0x4ac178)*Math['cos']((0x1605+-0x21ec+0xbe9)*Math['PI']*_0xac5994/_0x12e22f),_0x476de0=Math['sin']((0x1*-0x6a3+-0x20*0x8e+0x1865)*Math['PI']*_0xac5994/_0x12e22f),_0x2c0692=Math['sin'](_0x9027d9*_0x55bad4/_0x4ac178)*Math['cos']((-0xb9*0x9+0x1*0xb2+0x5d1)*Math['PI']*_0xac5994/_0x12e22f),_0x1eb329=_0xac5994/_0x12e22f,_0x94f3f7=-0x1fcd+0x4*0x653+0x682-_0x55bad4/_0x4ac178;if(_0x395195['push'](_0x4d0ea7,_0x37a18b,_0x523f72),_0x1eb723['push'](_0x39dfc3,_0x476de0,_0x2c0692),_0x53a8b6['push'](_0x1eb329,-0x471*-0x7+0x10f3+-0x3009*0x1-_0x94f3f7),_0xac5994<_0x12e22f&&_0x55bad4<_0x4ac178){const _0x486542=_0xac5994*(_0x4ac178+(-0x131a+-0x1e39+0x3154))+_0x55bad4,_0x4520eb=(_0xac5994+(-0x112a+0x25b3*-0x1+-0x3*-0x124a))*(_0x4ac178+(0x26a7+-0x107+0x1*-0x259f))+_0x55bad4,_0x2fc777=_0xac5994*(_0x4ac178+(-0xc57*-0x1+-0x9dc+-0x27a))+(_0x55bad4+(0x80*0x2d+-0x1*-0x42d+-0x239*0xc)),_0x11a317=(_0xac5994+(0x596+-0x1ebc+-0x2f*-0x89))*(_0x4ac178+(-0x6*0x66e+-0x1*0x1597+0x3c2c))+(_0x55bad4+(-0x185d+-0x18a*-0xd+0x3e*0x12));_0x593d15['push'](_0x486542,_0x4520eb,_0x2fc777),_0x593d15['push'](_0x4520eb,_0x11a317,_0x2fc777);}}this['positions']=_0x395195,this['normals']=_0x1eb723,this['uvs']=_0x53a8b6,this['uvs1']=_0x53a8b6,this['indices']=_0x593d15,_0x4bd225['calculateT'+'angents']&&(this['tangents']=Mr(_0x395195,_0x1eb723,_0x53a8b6,_0x593d15));}}class qA{constructor(_0x1139d7,_0x5c0009){h(this,'processedC'+'ache',new Map()),h(this,'definition'+'sCache',new Map()),h(this,'_generator'+'s',new Map()),(this['_device']=_0x1139d7,this['_isClearin'+'gCache']=!(0x1*0x16f7+0x2f4+-0xd6*0x1f),this['_precached']=!(0x9*0x3e5+-0x2596+0x28a),this['_programsC'+'ollection']=[],this['_defaultSt'+'dMatOption']=new dl(),this['_defaultSt'+'dMatOption'+'Min']=new dl());const _0x232c25=new vv();_0x5c0009['shaderOptB'+'uilder']['updateRef'](this['_defaultSt'+'dMatOption'],{},_0x232c25,_0x5c0009,null,[],Aa,null),_0x5c0009['shaderOptB'+'uilder']['updateMinR'+'ef'](this['_defaultSt'+'dMatOption'+'Min'],{},_0x5c0009,null,cm,null),_0x1139d7['on']('destroy:sh'+'ader',_0x45e732=>{this['removeFrom'+'Cache'](_0x45e732);});}['destroy'](){this['clearCache']();}['register'](_0x20e818,_0x3c75d7){this['_generator'+'s']['has'](_0x20e818)||this['_generator'+'s']['set'](_0x20e818,_0x3c75d7);}['unregister'](_0x5ac929){this['_generator'+'s']['has'](_0x5ac929)&&this['_generator'+'s']['delete'](_0x5ac929);}['isRegister'+'ed'](_0x2bb803){return this['_generator'+'s']['has'](_0x2bb803);}['generateSh'+'aderDefini'+'tion'](_0x2c5f16,_0xb25d0,_0x341788,_0x450e8f){var _0x56b06c,_0x59b09c;let _0xbf1890=this['definition'+'sCache']['get'](_0x341788);if(!_0xbf1890){let _0x51e6ca;(_0x56b06c=_0x450e8f['litOptions'])!=null&&_0x56b06c['lights']&&(_0x51e6ca=_0x450e8f['litOptions']['lights'],_0x450e8f['litOptions']['lights']=_0x51e6ca['map'](_0x62496f=>{const _0x55aab7=_0x62496f['clone']?_0x62496f['clone']():_0x62496f;return _0x55aab7['key']=_0x62496f['key'],_0x55aab7;})),this['storeNewPr'+'ogram'](_0xb25d0,_0x450e8f),(_0x59b09c=_0x450e8f['litOptions'])!=null&&_0x59b09c['lights']&&(_0x450e8f['litOptions']['lights']=_0x51e6ca),this['_precached']&&w['log']('ProgramLib'+'rary#getPr'+'ogram:\x20Cac'+'he\x20miss\x20fo'+'r\x20shader\x20'+_0xb25d0+'\x20key\x20'+_0x341788+('\x20after\x20sha'+'ders\x20preca'+'ching'));const _0x484e1a=this['_device'];_0xbf1890=_0x2c5f16['createShad'+'erDefiniti'+'on'](_0x484e1a,_0x450e8f),_0xbf1890['name']=_0xbf1890['name']??(_0x450e8f['pass']?_0xb25d0+'-pass:'+_0x450e8f['pass']:_0xb25d0),this['definition'+'sCache']['set'](_0x341788,_0xbf1890);}return _0xbf1890;}['getCachedS'+'hader'](_0x33bfb4){return this['processedC'+'ache']['get'](_0x33bfb4);}['setCachedS'+'hader'](_0x301c91,_0x3d80cd){this['processedC'+'ache']['set'](_0x301c91,_0x3d80cd);}['getProgram'](_0x1866aa,_0x2c383a,_0x53c0f3,_0x4b7331){const _0x4bf40c=this['_generator'+'s']['get'](_0x1866aa);if(!_0x4bf40c)return w['warn']('ProgramLib'+'rary#getPr'+'ogram:\x20No\x20'+'program\x20li'+'brary\x20func'+'tions\x20regi'+'stered\x20for'+':\x20'+_0x1866aa),null;const _0x5a523f=_0x4bf40c['generateKe'+'y'](_0x2c383a),_0x560791=hi(_0x5a523f),_0x507bff=_0x53c0f3['generateKe'+'y'](this['_device']),_0x1fabbd=hi(_0x507bff),_0x89eb45=_0x560791+'#'+_0x1fabbd;let _0x1edf24=this['getCachedS'+'hader'](_0x89eb45);if(!_0x1edf24){const _0x55aece=this['generateSh'+'aderDefini'+'tion'](_0x4bf40c,_0x1866aa,_0x560791,_0x2c383a);w['assert'](_0x55aece);let _0x22d0f0='',_0x4ecad8;_0x2c383a['pass']!==void(0xaad*0x1+0xa9*-0x11+0x8c)&&(_0x4ecad8=Si['get'](this['_device'])['getByIndex'](_0x2c383a['pass']),_0x22d0f0='-'+_0x4ecad8['name']),this['_device']['fire']('shader:gen'+'erate',{'userMaterialId':_0x4b7331,'shaderPassInfo':_0x4ecad8,'definition':_0x55aece});const _0x50fda7={'name':''+_0x55aece['name']+_0x22d0f0+'-proc','attributes':_0x55aece['attributes'],'vshader':_0x55aece['vshader'],'vincludes':_0x55aece['vincludes'],'fincludes':_0x55aece['fincludes'],'fshader':_0x55aece['fshader'],'processingOptions':_0x53c0f3,'shaderLanguage':_0x55aece['shaderLang'+'uage'],'meshUniformBufferFormat':_0x55aece['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x55aece['meshBindGr'+'oupFormat']};_0x1edf24=new qy(this['_device'],_0x50fda7),w['call'](()=>{_0x1edf24['_generatio'+'nKey']=_0x5a523f,_0x1edf24['_processin'+'gKey']=_0x507bff;}),this['setCachedS'+'hader'](_0x89eb45,_0x1edf24);}return _0x1edf24;}['storeNewPr'+'ogram'](_0x11cb84,_0x296e00){let _0x4833ae={};if(_0x11cb84==='standard'){const _0x421032=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x296e00['pass']);for(const _0x21caf9 in _0x296e00)(_0x296e00['hasOwnProp'+'erty'](_0x21caf9)&&_0x421032[_0x21caf9]!==_0x296e00[_0x21caf9]||_0x21caf9==='pass')&&(_0x4833ae[_0x21caf9]=_0x296e00[_0x21caf9]);for(const _0x3c8924 in _0x296e00['litOptions'])_0x4833ae[_0x3c8924]=_0x296e00['litOptions'][_0x3c8924];}else _0x4833ae=_0x296e00;this['_programsC'+'ollection']['push'](JSON['stringify']({'name':_0x11cb84,'options':_0x4833ae}));}['dumpProgra'+'ms'](){let _0x162c79='let\x20device'+'\x20=\x20pc.app\x20'+'?\x20pc.app.g'+'raphicsDev'+'ice\x20:\x20pc.A'+'pplication'+'.getApplic'+'ation().gr'+'aphicsDevi'+'ce;\x0a';_0x162c79+='let\x20shader'+'s\x20=\x20[',this['_programsC'+'ollection'][0x6ba*-0x3+-0x1a93*0x1+0x2ec1]&&(_0x162c79+='\x0a\x09'+this['_programsC'+'ollection'][0x6cb+0x1*0x5c2+-0x3*0x42f]);for(let _0x5f1727=-0xc2a*0x1+0x2*0xb67+0x1*-0xaa3;_0x5f1727<this['_programsC'+'ollection']['length'];++_0x5f1727)_0x162c79+=',\x0a\x09'+this['_programsC'+'ollection'][_0x5f1727];_0x162c79+='\x0a];\x0a',_0x162c79+='pc.getProg'+'ramLibrary'+'(device).p'+'recompile('+'shaders);\x0a',_0x162c79+='if\x20(pc.ver'+'sion\x20!=\x20\x22'+hn+('\x22\x20||\x20pc.re'+'vision\x20!=\x20'+'\x22')+$S+'\x22)\x0a',_0x162c79+='\x09console.w'+'arn(\x22preco'+'mpile-shad'+'ers.js:\x20en'+'gine\x20versi'+'on\x20mismatc'+'h,\x20rebuild'+'\x20shaders\x20l'+'ib\x20with\x20cu'+'rrent\x20engi'+'ne\x22);';const _0x5010a1=document['createElem'+'ent']('a');_0x5010a1['setAttribu'+'te']('href','data:text/'+'plain;char'+'set=utf-8,'+encodeURIComponent(_0x162c79)),_0x5010a1['setAttribu'+'te']('download','precompile'+'-shaders.j'+'s'),_0x5010a1['style']['display']='none',document['body']['appendChil'+'d'](_0x5010a1),_0x5010a1['click'](),document['body']['removeChil'+'d'](_0x5010a1);}['clearCache'](){this['_isClearin'+'gCache']=!(0x10ae+-0x23f2+-0x66c*-0x3),this['processedC'+'ache']['forEach'](_0x58a04b=>{_0x58a04b['destroy']();}),this['processedC'+'ache']['clear'](),this['_isClearin'+'gCache']=!(-0x1943+-0x1335+-0x3*-0xed3);}['removeFrom'+'Cache'](_0x16a11e){this['_isClearin'+'gCache']||this['processedC'+'ache']['forEach']((_0x3fd193,_0x4f43e0)=>{_0x16a11e===_0x3fd193&&this['processedC'+'ache']['delete'](_0x4f43e0);});}['_getDefaul'+'tStdMatOpt'+'ions'](_0x3c0159){const _0x39d57=Si['get'](this['_device'])['getByIndex'](_0x3c0159);return _0x3c0159===Zn||_0x3c0159===Rl||_0x39d57['isShadow']?this['_defaultSt'+'dMatOption'+'Min']:this['_defaultSt'+'dMatOption'];}['precompile'](_0x35b191){if(_0x35b191){const _0x54ab8c=new Array(_0x35b191['length']);for(let _0x46969a=0xc32+-0x1*-0xaae+-0x16e0;_0x46969a<_0x35b191['length'];_0x46969a++){if(_0x35b191[_0x46969a]['name']==='standard'){const _0x4db9ac=_0x35b191[_0x46969a]['options'],_0x517095=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x4db9ac['pass']);for(const _0x3b89c9 in _0x517095)_0x517095['hasOwnProp'+'erty'](_0x3b89c9)&&_0x4db9ac[_0x3b89c9]===void(0x2046+0x2*0x133b+-0xbca*0x6)&&(_0x4db9ac[_0x3b89c9]=_0x517095[_0x3b89c9]);}_0x54ab8c[_0x46969a]=this['getProgram'](_0x35b191[_0x46969a]['name'],_0x35b191[_0x46969a]['options']);}}this['_precached']=!(0x30f*-0xb+0x9*0xeb+0x1962);}}async function jA(){const _0x24224d=new Float32Array(-0x1e03+-0x1ce6+-0x1*-0x3aea),_0x4995bb=new Int32Array(_0x24224d['buffer']);let _0x525326=-0x52*0x65+0x16ea+0x970,_0x3dd3f5={};self['onmessage']=async _0x38a3ba=>{const {data:_0x9322a9}=_0x38a3ba;switch(_0x9322a9['type']){case'initWorker':break;case'appendGSpl'+'atData':_0x84a276(_0x9322a9['properties'],_0x9322a9['timeIndex'],_0x9322a9['timeOption']);break;case'releaseSeq'+'Data':_0x406906(_0x9322a9['index']);break;case'releaseAll'+'SeqData':_0x312e61();break;case'destroyWor'+'ker':_0x25dd55();break;}};class _0x344e10{constructor(_0x35cb53=-0x1b2a+-0x1c01+0x372b,_0x455120=0x1*-0x4ae+-0x271*0xb+0x1f89,_0x188def=-0x4e*-0xb+0xd22+-0x107c,_0x4aa110=0x4*-0x371+-0x141*0x19+0x5*0x906){this['x']=_0x35cb53,this['y']=_0x455120,this['z']=_0x188def,this['w']=_0x4aa110;}['set'](_0x20ccf1,_0x1a5033,_0xb4e14d,_0x3e9b18){return this['x']=_0x20ccf1,this['y']=_0x1a5033,this['z']=_0xb4e14d,this['w']=_0x3e9b18,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x177cdb=this){let _0x77b6c2=_0x177cdb['length']();return _0x77b6c2===0x22*0x3d+0x3*0x463+-0x1*0x1543?(this['x']=this['y']=this['z']=0x503*0x5+0xe6e+-0x277d,this['w']=0x3*-0x7af+0x1c68+-0x2*0x2ad):(_0x77b6c2=(0x1186*0x2+-0x1ac1+-0x84a*0x1)/_0x77b6c2,this['x']=_0x177cdb['x']*_0x77b6c2,this['y']=_0x177cdb['y']*_0x77b6c2,this['z']=_0x177cdb['z']*_0x77b6c2,this['w']=_0x177cdb['w']*_0x77b6c2),this;}['mulScalar'](_0x2a7700,_0x2ea0a8=this){return this['x']=_0x2ea0a8['x']*_0x2a7700,this['y']=_0x2ea0a8['y']*_0x2a7700,this['z']=_0x2ea0a8['z']*_0x2a7700,this['w']=_0x2ea0a8['w']*_0x2a7700,this;}}const _0x25d1a8=_0x372a6a=>{_0x24224d[0x2*-0x11d9+0x9*-0x2e6+0x6*0xa4c]=_0x372a6a;const _0x20964c=_0x4995bb[0x152b+-0x15ef+0x62*0x2];let _0x4603cb=_0x20964c>>0x12d9*0x2+0x705*0x2+0x2*-0x19d6&-0x10d7+0x2e9*0x39+-0x150a,_0x2be67b=_0x20964c>>-0x186d+0x1f36+-0xf*0x73&0x6b*-0x17+-0x1841+0x29dd;const _0xd38f8b=_0x20964c>>0xe4d*-0x1+-0x420*0x8+0x2f64&-0x21a8+0x1cd9+0x5ce*0x1;return _0xd38f8b<0x437+0x1*0x1c22+-0x1ff2?_0x4603cb:_0xd38f8b>-0xa3*-0x27+0x1466+0x2cad*-0x1?(_0x4603cb|=-0x1*0x4723+0x163d*-0x7+0x53*0x43a,_0x4603cb|=(_0xd38f8b===-0x16cf+0x1125+0xb*0x9b?0x5*0x3e2+-0x1e52+-0x574*-0x2:-0x1ab5+-0x12c0+-0xfd*-0x2e)&&_0x20964c&0x79828d+0x658a21+0x3*-0x1faee5,_0x4603cb):_0xd38f8b<0x67a+-0x1861+0x1258?(_0x2be67b|=0x21d2+0x6a9+0x207b*-0x1,_0x4603cb|=(_0x2be67b>>-0x34d+0xa6d+-0x156*0x5-_0xd38f8b)+(_0x2be67b>>-0x1*-0x211d+0x4*0x33b+-0x2d98-_0xd38f8b&-0xe77+0x67*-0x2d+0x2093),_0x4603cb):(_0x4603cb|=_0xd38f8b-(0xe4*-0x4+0x25cc+-0x67*0x54)<<0x1*0x19d9+0xf07*0x1+0x2*-0x146b|_0x2be67b>>-0x2*-0x331+0x2ff*-0x2+-0x1*0x63,_0x4603cb+=_0x2be67b&-0x1f3f+0x3b6+0x6*0x497,_0x4603cb);},_0x504243=()=>({0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x183de8=-0x607+0x2c*-0x1+0x17*0x45;_0x183de8<-0x8b*0x29+-0x10*0x6d+0xc0*0x27;++_0x183de8)if(!_0x3dd3f5['f_rest_'+_0x183de8])return _0x183de8;return 0x1115*0x1+0xd55+-0x1e3d;})())]??0x50e+-0xc9*-0x1b+-0x1a41),_0x84a276=(_0x29d458,_0x3a3241,_0x172a4b)=>{const _0x4b998f=!!_0x29d458['time_index'];_0x4b998f||(_0x29d458['time_index']=new Float32Array(0x2517+-0x2*0xcc5+-0xb8d)),_0x525326+=_0x29d458['x']['length']??0x1*0xdd9+-0x1*0x2632+0x1859;const _0x633d39=Object['keys'](_0x29d458);for(let _0x3d12c6=-0x1015+0x12b9+-0x2a4;_0x3d12c6<_0x633d39['length'];_0x3d12c6++){const _0x495379=_0x633d39[_0x3d12c6],_0x39f93e=_0x29d458[_0x495379],_0x2e78d6=_0x3dd3f5[_0x495379]??new Float32Array(0x59c*-0x1+0xfdc+-0x20*0x52);if(!_0x4b998f&&_0x495379==='time_index'){const _0x5804ad=new Float32Array(_0x525326);_0x5804ad['fill'](_0x3a3241),_0x5804ad['set'](_0x2e78d6,-0x11*-0x35+0x1*-0x10a7+0xd22),_0x3dd3f5[_0x495379]=_0x5804ad;}else{if(!_0x4b998f&&_0x39f93e&&_0x495379==='t'){const _0x46846e=new Float32Array(_0x525326);if(_0x46846e['set'](_0x2e78d6,0x21a7+0x75+-0x887*0x4),_0x172a4b){for(let _0x34b26f=_0x2e78d6['length'];_0x34b26f<_0x525326;_0x34b26f++)_0x39f93e[_0x34b26f-_0x2e78d6['length']]>-(0x34*0x81+-0x14*0xb4+-0xc1f)?_0x46846e[_0x34b26f]=_0x39f93e[_0x34b26f-_0x2e78d6['length']]+_0x172a4b[(-0x10ef+0x18b4+0x1*-0x7c3)*_0x3a3241]:_0x46846e[_0x34b26f]=_0x39f93e[_0x34b26f-_0x2e78d6['length']];}_0x3dd3f5[_0x495379]=_0x46846e;}else{if(_0x39f93e){const _0x4187ef=new Float32Array(_0x525326);_0x4187ef['set'](_0x2e78d6,-0x85a*0x1+-0xbdd+0x73*0x2d),_0x4187ef['set'](_0x39f93e,_0x2e78d6['length']),_0x3dd3f5[_0x495379]=_0x4187ef;}}}}const _0x52fdd2={};Object['keys'](_0x3dd3f5)['forEach'](_0x415b9c=>{_0x52fdd2[_0x415b9c]=new Float32Array(_0x3dd3f5[_0x415b9c]['buffer']['slice']());});const _0x2a3339=Object['keys'](_0x52fdd2)['map'](_0x1ee0b1=>_0x52fdd2[_0x1ee0b1]['buffer']),_0x2f93ff=_0x5d3d2b(),_0x391f7a=Object['keys'](_0x2f93ff)['map'](_0x1e60dd=>_0x2f93ff[_0x1e60dd]['buffer']);self['postMessag'+'e']({'type':'newAppendD'+'ata','properties':_0x52fdd2,'transformData':_0x2f93ff},_0x2a3339['concat'](_0x391f7a));},_0x5d3d2b=()=>{const _0x41a18c=_0x3dd3f5['x']['length'],_0xc90bc7=_0x3dd3f5['x'],_0x211058=_0x3dd3f5['y'],_0x2e2a8d=_0x3dd3f5['z'],_0x4c9a85=_0x3dd3f5['scale_0'],_0x2991f7=_0x3dd3f5['scale_1'],_0xb6ea80=_0x3dd3f5['scale_2'],_0x15206d=_0x3dd3f5['rot_1'],_0x1d4f37=_0x3dd3f5['rot_2'],_0x13fac0=_0x3dd3f5['rot_3'],_0x2cd4d8=_0x3dd3f5['rot_0'],_0x28459d=_0x3dd3f5['motion_0'],_0xb286a1=_0x3dd3f5['motion_1'],_0x2b24d6=_0x3dd3f5['motion_2'],_0x438ce4=_0x3dd3f5['t'],_0x15d66a=_0x3dd3f5['t_scale'],_0xc12149=_0x3dd3f5['time_index'],_0xfaac3=_0x3dd3f5['f_dc_0'],_0x18c819=_0x3dd3f5['f_dc_1'],_0x208bd8=_0x3dd3f5['f_dc_2'],_0x58c09c=_0x3dd3f5['opacity'],_0x530a58=(_0x438ce4==null?void(0x1ee3*-0x1+-0x3e0+-0x22c3*-0x1):_0x438ce4['length'])>-0x2080+0x2398+0x12*-0x2c,_0x59c5d4=new Float32Array(_0x41a18c*(-0xb81*-0x1+0x1839*-0x1+0xcbb)),_0x1b1f2b=new Float32Array(_0x41a18c*(0x16bc+-0x62d+0x846*-0x2)),_0x5f3e66=new Uint16Array(_0x41a18c*(-0xb*-0x2+0x859*-0x1+0x846)),_0x420a21=new Float32Array(_0x41a18c*(0x1*-0x2686+0xfd9+0x16b0));let _0x2037b4=null,_0x133fcd=null,_0x159250=null,_0xb796a8=null;_0x530a58&&(_0x2037b4=new Float32Array(_0x41a18c*(-0x119+0x66c+-0x550)),_0x133fcd=new Float32Array(_0x41a18c*(0x621*0x6+0x1*0x49f+-0x14b1*0x2)),_0x159250=new Float32Array(_0x41a18c*(-0x1f24+-0xcc4+0x1*0x2beb)),_0xb796a8=new Float32Array(_0x41a18c));const _0xdb627a=new _0x344e10(-0x2*0xd4b+-0x53*0x59+0x3771,0xb6*-0x20+0x1*-0x223+0x18e3,-0x181c+0x16ad+-0x16f*-0x1,-0x13c0+-0x1db1+0x3*0x107b);let _0x15c4eb=-0x195d+-0x6*-0x243+-0xbcb*-0x1,_0x580e6a=0x2*-0xf79+0x2*0x114a+-0x3a2,_0x8fc772=0x1cad+-0x3dc+-0x18d1,_0x359139=-0x2*-0x859+0x1940+0xd*-0x33a,_0x2f16b4=0x1870+0x1cef+0x355f*-0x1,_0x3fff2a=0x734*-0x4+0x1d63*0x1+0x1*-0x93,_0x14c72c=!(-0x1b86*-0x1+0xb15+-0x269b);const _0x275bbf=new Float32Array(-0x2321+0x1*-0x79a+-0x155f*-0x2),_0x5cda4=new Float32Array(0x2ab*-0x1+-0x1eb7+0x2165),_0x3c6030=new Uint16Array(_0x41a18c*(-0x4bb*-0x5+-0x98+-0x170b)),_0x16dd50=-0x19*0x7+0xf8e+0x1a7*-0x9+0.28209479177387814;for(let _0x2c12ad=0x25d3+-0x51+0x1*-0x2582;_0x2c12ad<_0x41a18c;++_0x2c12ad){const _0x1b5992=_0xfaac3[_0x2c12ad]*_0x16dd50+(0x38*0x1b+0x25d+0x845*-0x1+0.5),_0x579197=_0x18c819[_0x2c12ad]*_0x16dd50+(-0x1a91+0xf6+0x199b+0.5),_0x434955=_0x208bd8[_0x2c12ad]*_0x16dd50+(-0x683*0x2+-0x4c1*-0x1+0x845+0.5),_0x21e2e9=_0x58c09c[_0x2c12ad];_0x3c6030[_0x2c12ad*(-0x1*-0xf3d+0x39f*-0x2+-0x7fb)+(-0x220f+-0xa91+-0x66*-0x70)]=_0x25d1a8(_0x1b5992),_0x3c6030[_0x2c12ad*(-0x1e24+-0x58d+0x23b5)+(0x1165+0xbef*-0x1+0x1*-0x575)]=_0x25d1a8(_0x579197),_0x3c6030[_0x2c12ad*(-0xef9*-0x1+-0x115*-0x1f+-0x3080)+(-0xb51*0x1+0x344*0x3+0x1*0x187)]=_0x25d1a8(_0x434955),_0x3c6030[_0x2c12ad*(-0x20a5+-0x5*0x2c3+0x2e78)+(-0x2330+0x1836+-0x1d*-0x61)]=_0x25d1a8(_0x21e2e9);const _0x85fde5=_0xc90bc7[_0x2c12ad],_0x584a7c=_0x211058[_0x2c12ad],_0x921baf=_0x2e2a8d[_0x2c12ad],_0x35b616=Math['max'](_0x4c9a85[_0x2c12ad],_0x2991f7[_0x2c12ad],_0xb6ea80[_0x2c12ad]);if(isFinite(_0x85fde5)&&isFinite(_0x584a7c)&&isFinite(_0x921baf)&&isFinite(_0x35b616)){const _0x18e429=(-0x15e2*0x1+-0x1172+-0x13*-0x212)*Math['exp'](_0x35b616);_0x14c72c?(_0x14c72c=!(0x1*-0x1f1e+0x27b+0x11a*0x1a),_0x15c4eb=_0x85fde5-_0x18e429,_0x580e6a=_0x584a7c-_0x18e429,_0x8fc772=_0x921baf-_0x18e429,_0x359139=_0x85fde5+_0x18e429,_0x2f16b4=_0x584a7c+_0x18e429,_0x3fff2a=_0x921baf+_0x18e429):(_0x15c4eb=Math['min'](_0x15c4eb,_0x85fde5-_0x18e429),_0x580e6a=Math['min'](_0x580e6a,_0x584a7c-_0x18e429),_0x8fc772=Math['min'](_0x8fc772,_0x921baf-_0x18e429),_0x359139=Math['max'](_0x359139,_0x85fde5+_0x18e429),_0x2f16b4=Math['max'](_0x2f16b4,_0x584a7c+_0x18e429),_0x3fff2a=Math['max'](_0x3fff2a,_0x921baf+_0x18e429));}_0xdb627a['set'](_0x15206d[_0x2c12ad],_0x1d4f37[_0x2c12ad],_0x13fac0[_0x2c12ad],_0x2cd4d8[_0x2c12ad]),_0xdb627a['normalize'](),_0xdb627a['w']<0x1500+0x1d56+-0x3256&&_0xdb627a['mulScalar'](-(0x19fb+0xbfa+-0x25f4)),_0x1b1f2b[_0x2c12ad*(0x848+-0x2*-0xcd+0x7*-0x169)+(-0x9e3*0x2+-0x1*-0x156d+-0x1a7)]=_0xc90bc7[_0x2c12ad],_0x1b1f2b[_0x2c12ad*(0x1afc+-0xacd+-0x102c)+(0x1158+0x1890+-0x29e7)]=_0x211058[_0x2c12ad],_0x1b1f2b[_0x2c12ad*(0xe*0x241+0x1*0x1939+-0x38c4)+(-0x47b+-0x1*0x23de+0x285b*0x1)]=_0x2e2a8d[_0x2c12ad],_0x59c5d4[_0x2c12ad*(0x2*0x1ff+0x1891+0x6*-0x4c2)+(-0x2*0xf0d+0x247b+0x661*-0x1)]=_0xc90bc7[_0x2c12ad],_0x59c5d4[_0x2c12ad*(0x108c+-0xf47*0x2+-0x61*-0x25)+(-0x14f0*-0x1+-0x1*-0x26d7+-0x88a*0x7)]=_0x211058[_0x2c12ad],_0x59c5d4[_0x2c12ad*(0x1*0x1115+0x3*0x86f+-0x2a5f)+(0xa*0x29b+-0x1*-0x1a77+-0x3483*0x1)]=_0x2e2a8d[_0x2c12ad],_0x5f3e66[_0x2c12ad*(0x1d02+-0x7bb*0x1+-0x1544)+(-0x1fa5+-0x1a76+0x3a1b)]=_0x25d1a8(Math['exp'](_0x4c9a85[_0x2c12ad])),_0x5f3e66[_0x2c12ad*(0x1454+-0xfe*0x17+-0x281*-0x1)+(0xb5c+0x1ca*-0xd+-0xbe7*-0x1)]=_0x25d1a8(Math['exp'](_0x2991f7[_0x2c12ad])),_0x5f3e66[_0x2c12ad*(0xbbc+-0x773*0x5+-0xc6*-0x21)+(0x216c+0x34*0x10+0x1a*-0x169)]=_0x25d1a8(Math['exp'](_0xb6ea80[_0x2c12ad])),_0x420a21[_0x2c12ad*(0x1b9c+-0x1*-0x204d+-0x3be6)+(0x139*-0x6+-0xb63+-0x12b9*-0x1)]=_0xdb627a['x'],_0x420a21[_0x2c12ad*(-0x1ec2+-0x1595+0x1*0x345a)+(0x20a5*0x1+0x1*0x49f+-0x2543)]=_0xdb627a['y'],_0x420a21[_0x2c12ad*(0x373*0x7+-0x1b40+0x31e)+(-0xb12+0x3d*-0x9a+0x4c7*0xa)]=_0xdb627a['z'],_0x530a58&&_0x2037b4&&_0x133fcd&&_0x159250&&_0xb796a8&&(_0x2037b4[_0x2c12ad*(0x37b*0xb+0xae5+0x133*-0x29)+(-0x7a*0x3d+-0x1e78+0x3b8a)]=_0x28459d[_0x2c12ad],_0x2037b4[_0x2c12ad*(0x158e+-0xfe8+-0x5a3)+(-0x818+0x3*-0xce8+0xeb*0x33)]=_0xb286a1[_0x2c12ad],_0x2037b4[_0x2c12ad*(0x19f0+-0x95e+-0x9*0x1d7)+(0x101c+-0xd8b+-0x28f)]=_0x2b24d6[_0x2c12ad],_0x159250[_0x2c12ad*(0xe97+-0x14aa+0x2*0x30b)+(-0x7*-0x155+0x3f*-0x5d+0xd90)]=_0x28459d[_0x2c12ad],_0x159250[_0x2c12ad*(0x2*-0x11b2+-0x139*0x9+0x1734*0x2)+(-0x7b5*-0x2+0xfef+0x2*-0xfac)]=_0xb286a1[_0x2c12ad],_0x159250[_0x2c12ad*(-0x31*0x49+-0x17fc+0x25f8)+(-0x1c*0xc8+-0x1509+0x2aeb)]=_0x2b24d6[_0x2c12ad],_0xb796a8[_0x2c12ad]=_0x15d66a?Math['exp'](_0x15d66a[_0x2c12ad]):0x29*0x2+-0x133d+0x12eb,_0x133fcd[_0x2c12ad*(-0xabc+0x1b50+-0x1091*0x1)+(0x1a52*0x1+0x1*0x153b+0x25*-0x149)]=_0x438ce4?_0x438ce4[_0x2c12ad]:-0x985+0x191c+-0xf97*0x1,_0x133fcd[_0x2c12ad*(0x1*0x1848+0x57f*-0x6+0x8b5)+(-0x2335+-0x1d3a+-0x2038*-0x2)]=_0xb796a8[_0x2c12ad]);}_0x14c72c||(_0x275bbf[0x6cd*0x2+0x22ef+0xaf*-0x47]=(_0x15c4eb+_0x359139)*(0xa*-0x15b+0x1*-0x921+-0x16af*-0x1+0.5),_0x275bbf[-0x12f6*0x2+-0x1751+-0x75*-0x86]=(_0x580e6a+_0x2f16b4)*(-0xb36*-0x2+-0x3*-0x4d5+-0x24eb+0.5),_0x275bbf[0x4*0x423+0x17d*-0x6+-0x79c]=(_0x8fc772+_0x3fff2a)*(-0x10d3+-0x1aa0+0x2b73+0.5),_0x5cda4[0xe12*-0x2+0x894+0x1390]=(_0x359139-_0x15c4eb)*(0x252e+0x2f*-0x11+-0x220f+0.5),_0x5cda4[-0x2*0x461+-0xbc4*-0x3+-0x1a89]=(_0x2f16b4-_0x580e6a)*(0x1c16+0x257*-0xa+-0x4b0+0.5),_0x5cda4[0xcaf+-0x10b*-0x5+-0x479*0x4]=(_0x3fff2a-_0x8fc772)*(0x4ae*-0x5+0x60*-0x4+0x18e6+0.5));const _0x142790=_0x27e51c();let _0x33b4db={'dataColor':_0x3c6030,'center':_0x275bbf,'halfExtents':_0x5cda4,'dataCenters':_0x59c5d4,'dataPosition':_0x1b1f2b,'dataScale':_0x5f3e66,'dataRotation':_0x420a21,..._0x142790};return _0x530a58&&(_0x33b4db={..._0x33b4db,'dataMotion':_0x2037b4,'dataTime':_0x133fcd,'motion':_0x159250,'tScaleArray':_0xb796a8,'muT':new Float32Array(_0x438ce4),'timeIndex':new Float32Array(_0xc12149)}),_0x33b4db;},_0x24304c=_0x449937=>{const _0x24d04d=[];for(let _0x4cd36f=-0x10*0xd+0x231d+-0x224d;_0x4cd36f<_0x449937;++_0x4cd36f)_0x24d04d['push'](_0x3dd3f5['f_rest_'+_0x4cd36f]);return _0x24d04d;},_0x27e51c=()=>{const _0xc744c8=_0x504243();if(_0xc744c8<=-0xba1+-0x627+0x11c8)return{};const _0x29c8a6=_0x3dd3f5['x']['length'],_0x137d85=new Uint32Array(_0x29c8a6*(-0x1*0x1af3+-0x473*0x5+0x1*0x3136)),_0x1cf67b=new Uint32Array(_0x29c8a6*(0x569*-0x4+-0x1f85+-0x1*-0x352d)),_0x77a36c=new Uint32Array(_0x29c8a6*(-0x1ff8+0x77*-0x2b+0x33f9)),_0x188173=new Uint32Array(_0x29c8a6*(-0x196*-0x7+0x417+-0xf2d)),_0x1d813e={0x1:0x3,0x2:0x8,0x3:0xf}[_0xc744c8],_0xa83059=_0x24304c(_0x1d813e*(-0x22be+-0x68+0x2329)),_0x574f61=-0xa*-0x312+0xc4e+-0x2303,_0x41c334=0x831+0x1aac+-0x3*0xa4a,_0x55a82a=new Float32Array(-0x12fe+-0x16a5+0x29a4),_0xf9a072=new Uint32Array(_0x55a82a['buffer']),_0x5e6fc0=new Array(_0x1d813e*(-0x6*0x51f+-0x9bd*0x2+-0x1*-0x3237))['fill'](0x6*-0x13d+-0xe7f*0x1+0x15ed);for(let _0x4e97cc=-0x1f0f+-0x5d*-0x2e+-0x1*-0xe59;_0x4e97cc<_0x29c8a6;++_0x4e97cc){for(let _0x42982b=0x2*-0x964+-0x1439*0x1+-0x5*-0x7cd;_0x42982b<_0x1d813e;++_0x42982b)_0x5e6fc0[_0x42982b*(0x1f38+0x1f3b+-0x8*0x7ce)]=_0xa83059[_0x42982b][_0x4e97cc],_0x5e6fc0[_0x42982b*(-0x1f41+-0x8e*0x43+0x446e)+(-0xc0f+0xea6+-0x296)]=_0xa83059[_0x42982b+_0x1d813e][_0x4e97cc],_0x5e6fc0[_0x42982b*(-0x118d+-0x241a*0x1+-0x2*-0x1ad5)+(0x2240+0x1bd+-0x23fb)]=_0xa83059[_0x42982b+_0x1d813e*(-0x266c+-0x1f1f*0x1+0x458d)][_0x4e97cc];let _0xfa7771=_0x5e6fc0[-0x15dd+-0x1938+0x2c5*0x11];for(let _0x152298=0x1b4f+0x1ebd+-0x3a0b*0x1;_0x152298<_0x1d813e*(0x2277+-0xcf9+-0xd*0x1a7);++_0x152298)_0xfa7771=Math['max'](_0xfa7771,Math['abs'](_0x5e6fc0[_0x152298]));if(_0xfa7771!==0x1925+0x20af+-0x1*0x39d4){for(let _0x2e9777=-0x2a5*0x4+-0x21fb*0x1+-0x29f*-0x11;_0x2e9777<_0x1d813e;++_0x2e9777)_0x5e6fc0[_0x2e9777*(0x1*0xc43+-0x11*-0x17f+-0x25af*0x1)+(0x574*0x1+-0x1f74+0x1a00)]=Math['max'](-0x38a+0x151*-0xc+-0x19*-0xc6,Math['min'](_0x574f61,Math['floor']((_0x5e6fc0[_0x2e9777*(-0x6c*-0x5+-0x1693+-0x2*-0xa3d)+(0x65b*-0x3+-0x2f*-0x79+-0x326)]/_0xfa7771*(0x1eb7+0x1700+-0x35b7+0.5)+(-0x281*-0x9+0x1*-0x9b3+-0xcd6+0.5))*_0x574f61+(-0x1*-0x971+0xa67+-0x9ec*0x2+0.5)))),_0x5e6fc0[_0x2e9777*(-0x2197+0x24f7+-0x7b*0x7)+(-0xf92+0x5c2+0x9d1)]=Math['max'](0xe9b+0xf2*0x1+0x52f*-0x3,Math['min'](_0x41c334,Math['floor']((_0x5e6fc0[_0x2e9777*(0x9dd*0x1+0xc4+-0xa9e)+(0x20b+0xb08+-0xe*0xef)]/_0xfa7771*(0x170f+-0x3f0+-0x131f+0.5)+(0x4d*0x51+0x748+-0x1fa5+0.5))*_0x41c334+(-0x13*-0x3d+0x292*0x3+-0xc3d+0.5)))),_0x5e6fc0[_0x2e9777*(0xfb8+0x6b*-0x26+0x5*0x9)+(-0x7*0xa3+0x25ff+-0x2188)]=Math['max'](0x10d5+0x2*-0xa75+0x415,Math['min'](_0x574f61,Math['floor']((_0x5e6fc0[_0x2e9777*(0xdbc+-0x4fb+0x45f*-0x2)+(0x626+-0x59e*0x1+-0x86)]/_0xfa7771*(-0x5*0x2fa+-0xdd6*-0x1+-0x10c*-0x1+0.5)+(0x1beb+-0x18fd*0x1+-0x2ee+0.5))*_0x574f61+(0x212a+0x20ac+-0x41d6+0.5))));_0x55a82a[-0x623*0x6+0xa69*0x1+-0x1*-0x1a69]=_0xfa7771,_0x137d85[_0x4e97cc*(-0x1*-0x18b6+-0xd*0x1a1+0x1*-0x385)+(0xffa+0x8c4+-0x18be)]=_0xf9a072[-0x1a79*0x1+0x1f75+0x2*-0x27e],_0x137d85[_0x4e97cc*(-0x25ca+-0x12bf*0x1+0x388d)+(0xd2b*0x1+0x54a*0x5+0x2*-0x13ce)]=_0x5e6fc0[0x1*0x2126+0x553*-0x1+0x1a3*-0x11]<<0x2*-0x2e+-0xe*-0x16a+-0x135b*0x1|_0x5e6fc0[-0x12b*0xb+-0xbfb+-0x1e9*-0xd]<<-0x717*-0x5+0x24b8+0x2*-0x2410|_0x5e6fc0[-0xcf7+0xdc1*-0x2+-0x1*-0x287b],_0x137d85[_0x4e97cc*(-0x836+-0x29*-0xb8+-0x1*0x153e)+(0xbcb+0x12*0x218+-0x2e9*0x11)]=_0x5e6fc0[-0xc7d+-0x13bc+-0x2*-0x101e]<<0x3*0xad5+-0x17bd*-0x1+-0x3827|_0x5e6fc0[-0x1*0x23a2+0xd8a+0x161c]<<-0x2421+0x419*-0x1+0x2845|_0x5e6fc0[-0x5cb+0x1*-0x1df+-0x119*-0x7],_0x137d85[_0x4e97cc*(0x2669*0x1+0x25fd+-0x4c62)+(-0x1c2+0x214+0x1*-0x4f)]=_0x5e6fc0[-0x237e+0x1*0x1564+-0x8*-0x1c4]<<-0x5c3+0xb*-0x319+0x27eb|_0x5e6fc0[0x2076+0x5ea+-0x2659*0x1]<<-0x2b*0xa1+-0x1*-0x1539+0x4f*0x13|_0x5e6fc0[-0x3*0x457+0x1151+-0x444],_0xc744c8>-0x5*-0x4+-0x1*0x202e+0x201b&&(_0x1cf67b[_0x4e97cc*(-0x147+0xbcb+-0xa80)+(0x20e0+0x2*-0x2+-0x20dc)]=_0x5e6fc0[0x1*0xb1a+0x553+-0x4*0x419]<<-0x1b0f+-0x1819+0x333d|_0x5e6fc0[0xb5b+-0xd*0x24d+-0x154*-0xe]<<-0x1*0x733+-0x197f+0x20bd|_0x5e6fc0[0x1d59+0x1*-0x1d39+-0x15],_0x1cf67b[_0x4e97cc*(0x16*-0x1a1+-0xe74+-0x5e*-0x89)+(0x2128+0x2*-0x4e1+-0x1*0x1765)]=_0x5e6fc0[-0x7*0x29d+0x1473*-0x1+-0xcee*-0x3]<<-0x1*-0x100f+0x1*-0x1273+0x279|_0x5e6fc0[0xabf+-0x2267+-0x17b5*-0x1]<<0x1194+0x18d*0x5+-0x86e*0x3|_0x5e6fc0[-0x41e+0xde5+-0x9b9*0x1],_0x1cf67b[_0x4e97cc*(0x2ad+-0x1097+0xdee)+(-0x2666+0x4c6+0x21a2)]=_0x5e6fc0[0x1082+-0x925+0x22*-0x37]<<-0x22b4+-0x1f3*0x4+0x2a95|_0x5e6fc0[0x264c+0x1583*0x1+-0x3bbf]<<-0x4b7+0x19d+0x325|_0x5e6fc0[0x5*-0x119+0xf45*0x1+0x9b7*-0x1],_0x1cf67b[_0x4e97cc*(-0x1dee+-0x1ebf+0x3cb1)+(-0x1484+0x5*-0x323+0x2436)]=_0x5e6fc0[-0x1305+-0x8*0x155+0x1dbf]<<-0x1*0x1048+0x52f*-0x4+-0x2519*-0x1|_0x5e6fc0[0x971*0x1+-0x1bd1*0x1+-0x1273*-0x1]<<-0x1*0x14d1+0x97*-0x41+0x1b1*0x23|_0x5e6fc0[-0x2224+0x1c38+0x600],_0xc744c8>0x957+0x1e72+-0x1*0x27c7?(_0x77a36c[_0x4e97cc*(-0xd0*-0x1a+-0x2519+0xffd)+(0x228f+-0xf1d*-0x2+0x9b*-0x6b)]=_0x5e6fc0[-0x20f+0x1*0x8db+-0x1*0x6b7]<<0x5ee+0x899*0x1+0xe72*-0x1|_0x5e6fc0[-0x569+-0x622*0x1+0xba1]<<-0x1e8+0xad7+-0x239*0x4|_0x5e6fc0[-0x92d+0x20b6+0x1772*-0x1],_0x77a36c[_0x4e97cc*(0xda*0x13+-0x16cf*-0x1+0xb*-0x38b)+(-0x14d6+0x1e64*-0x1+0x333b)]=_0x5e6fc0[-0xe2d*0x2+-0x8e0*0x2+-0x2e32*-0x1]<<0x68f+0x1a52+-0x20cc|_0x5e6fc0[0xa76+0x62f+0x2c2*-0x6]<<0x16c4+0x11*0x20f+-0x8*0x737|_0x5e6fc0[0x1f54+-0x197e+-0x5bc],_0x77a36c[_0x4e97cc*(0x13aa+0x5*0x4f7+0x9*-0x4f1)+(0xbdd*0x1+0x2699+0x193a*-0x2)]=_0x5e6fc0[0x12*0x177+0xaaa*-0x3+-0x1*-0x5bb]<<-0x99*0xe+0x19a2+-0x1*0x112f|_0x5e6fc0[-0xba*0x1c+0x3a*0xa6+-0x3d*0x48]<<0x2447+-0x1884+-0xbb8|_0x5e6fc0[-0x7c9*0x1+-0xa89+0x126f],_0x77a36c[_0x4e97cc*(-0xe6+-0x165a*-0x1+0x1c*-0xc4)+(-0x1*0x24dd+0x5*-0x5c9+-0xd29*-0x5)]=_0x5e6fc0[0xf0a+-0x33*0xb2+0x148a]<<0x1043+0x1*0x113f+-0x216d|_0x5e6fc0[-0x95*0x22+0x1131+0x15c*0x2]<<-0x1f47+-0x3d8+-0x506*-0x7|_0x5e6fc0[0x15*0x135+-0x2*-0xbf+-0x1ab7*0x1],_0x188173[_0x4e97cc*(-0x239*0x4+0x4*-0x321+0x55b*0x4)+(-0x1fcb+0xa5*-0x7+0x1*0x244e)]=_0x5e6fc0[0x4cc+-0x3b*0x83+0x1986]<<-0x89*0x4+0xa*-0x28a+0x1b9d|_0x5e6fc0[0x8*-0xec+0x3*-0x3ca+0x12e0]<<0x46*0x8d+0x1c93+0x4316*-0x1|_0x5e6fc0[0x8b*0x3a+-0x1f3f+-0x1*0x1c],_0x188173[_0x4e97cc*(0x1*-0xccf+-0x1b2a+0x27fd)+(0x1378+-0xa7*-0x2e+0x3179*-0x1)]=_0x5e6fc0[-0x19e1+-0x1*0x191b+0x3320]<<0x1*-0x23+-0x1277+0x12af|_0x5e6fc0[0x1e6*-0x2+-0xf1c+0x130d]<<-0x1b4d*-0x1+0x1524+-0x811*0x6|_0x5e6fc0[0x1b18+0x2067+0x3b59*-0x1],_0x188173[_0x4e97cc*(-0x174b+0x2c*-0x30+0x1f8f)+(0x301*0x7+0x16f*0x1+-0x1674)]=_0x5e6fc0[-0x12ef+0x1acd+-0x7b7]<<-0x258+0xc13+-0x9a6|_0x5e6fc0[0x19f3+0x2c*-0xc5+0x811]<<-0x1*0x2556+0x287*0x7+0x13b0|_0x5e6fc0[0xbe+0xcc2+-0xd57],_0x188173[_0x4e97cc*(-0x1cf*-0x5+0x1043*0x1+-0x194a)+(0x1*0x1868+0x1986+-0x31eb)]=_0x5e6fc0[0x1c6*0xb+-0x6*0x3d7+-0xb*-0x56]<<-0x3*-0xbb9+0x1bcb*-0x1+-0x1*0x74b|_0x5e6fc0[-0x50d*0x3+0x1554+-0x602*0x1]<<-0x6*-0x605+0x2538+-0x1*0x494b|_0x5e6fc0[0x1950+-0xae2*0x1+-0x16d*0xa]):_0x77a36c[_0x4e97cc]=_0x5e6fc0[0x1197+0x1*-0x1fa8+-0xe26*-0x1]<<-0x6f*0x2c+-0x1*0xed8+0x2201|_0x5e6fc0[-0x26e1+-0xdfc+0x34f3]<<-0x734+-0xb5*0xb+0xf06*0x1|_0x5e6fc0[-0x1*-0x187+0x113b*0x1+-0x12ab]);}}return{'sh1to3Data':_0x137d85,'sh4to7Data':_0x1cf67b,'sh8to11Data':_0x77a36c,'sh12to15Data':_0x188173};},_0x406906=_0xf4e3b2=>{if(!_0x3dd3f5['time_index'])return;const _0x1b07dd=_0x3dd3f5['time_index']['findIndex'](_0x566442=>_0x566442===_0xf4e3b2);let _0x39120c=_0x3dd3f5['time_index']['findIndex']((_0x36a184,_0x2952cf)=>_0x36a184!==_0xf4e3b2&&_0x2952cf>_0x1b07dd);if(_0x39120c===-(0x11*0x189+0x7*0x341+-0x1*0x30df)&&_0x1b07dd===-(-0x2485*-0x1+0xb*-0x34f+-0x1f))return;_0x39120c===-(-0x2617*-0x1+-0x1a12*-0x1+-0x4028)&&_0x1b07dd!==-(0x1f8e+-0x1*-0x1241+-0x55*0x96)&&(_0x39120c=_0x3dd3f5['time_index']['length']),_0x525326-=_0x39120c-_0x1b07dd;const _0x4715bd=Object['keys'](_0x3dd3f5);for(let _0x53f48b=-0x18fc+0x151d+0x3df;_0x53f48b<_0x4715bd['length'];_0x53f48b++){const _0x20180b=_0x4715bd[_0x53f48b],_0x4bfd29=_0x3dd3f5[_0x20180b];if(_0x4bfd29){const _0x294dca=new Float32Array(_0x525326);_0x1b07dd>-0x827+0x201b+0xbfa*-0x2?(_0x294dca['set'](_0x4bfd29['subarray'](-0x22c3+0x1*-0x595+-0x2858*-0x1,_0x1b07dd),0xd*0x1b1+0x255b+0x76b*-0x8),_0x294dca['set'](_0x4bfd29['subarray'](_0x39120c),_0x1b07dd)):_0x294dca['set'](_0x4bfd29['subarray'](_0x39120c),0x1786*-0x1+0x14a5+0x2e1),_0x3dd3f5[_0x20180b]=_0x294dca;}}},_0x312e61=()=>{const _0x3b779f=Object['keys'](_0x3dd3f5);for(let _0x38442f=0x9fe*-0x1+-0x2527*-0x1+-0x1b29;_0x38442f<_0x3b779f['length'];_0x38442f++){const _0x8499d2=_0x3b779f[_0x38442f];_0x3dd3f5[_0x8499d2]&&(_0x3dd3f5[_0x8499d2]=[]);}},_0x25dd55=()=>{_0x3dd3f5={},_0x525326=0x17*0x189+-0x2*-0xe99+-0x4081;};}class YA extends me{constructor(){super(),this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+jA['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}async['appendGSpl'+'atData'](_0x422d9a,_0x45f0a8,_0x3030a4,_0x426e33=!(-0x1*-0x2bd+0x79*0xa+-0x2*0x3bb)){var _0xac9af9,_0x386a54;const _0x5a9703={};return _0x422d9a['elements'][0x1d*0x56+-0x9f5*0x1+-0x1*-0x37]['properties']['forEach'](_0x199eaa=>{_0x5a9703[_0x199eaa['name']]=_0x199eaa['storage'];}),_0x426e33?(_0xac9af9=this['worker'])==null||_0xac9af9['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x5a9703,'timeIndex':_0x45f0a8,'timeOption':_0x3030a4},_0x422d9a['elements'][-0x6e5*-0x5+0x1227+-0x1a5*0x20]['properties']['map'](_0x21130c=>_0x21130c['storage']['buffer'])):(_0x386a54=this['worker'])==null||_0x386a54['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x5a9703,'timeIndex':_0x45f0a8,'timeOption':_0x3030a4}),new Promise(_0x312ab2=>{this['worker']['onmessage']=_0x44377a=>{if(!this['worker'])return;const {data:_0x2ecb06}=_0x44377a;_0x2ecb06['type']==='newAppendD'+'ata'&&_0x312ab2(_0x2ecb06);};});}async['releaseSeq'+'Data'](_0x1330f3){var _0x184ee8;(_0x184ee8=this['worker'])==null||_0x184ee8['postMessag'+'e']({'type':'releaseSeq'+'Data','index':_0x1330f3});}async['releaseAll'+'SeqData'](){var _0x56845b;(_0x56845b=this['worker'])==null||_0x56845b['postMessag'+'e']({'type':'releaseAll'+'SeqData'});}['destroy'](){var _0x160be8;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x160be8=this['worker'])==null||_0x160be8['terminate'](),this['worker']=null);}}const za=new te(),pg=new le(),yf=new De(),mg=new De(),KA=new ie(-0x755*-0x3+0x9ca+-0x1fc8,-0xc53+-0x356+0x5*0x322,0x2438+0x1215+-0x364d,-0x21d9+-0x1d95+0x3f6e+0.4),vf=-0x198f*0x1+-0x145d+0x2dec+0.28209479177387814,xf=-0x45625+0x2ebf3+0x47772;let ZA=class{constructor(_0x26dd18,_0x1026e6,_0x2f342b,_0x3c8276,_0x38b66b,_0x1c6e97){const _0x1dd4ae=_0x26dd18['getProp']('x'),_0x4be172=_0x26dd18['getProp']('y'),_0x27bae8=_0x26dd18['getProp']('z'),_0x2fd2cb=_0x26dd18['getProp']('rot_1'),_0xc0f4bb=_0x26dd18['getProp']('rot_2'),_0x60387a=_0x26dd18['getProp']('rot_3'),_0x5cbe95=_0x26dd18['getProp']('rot_0'),_0x3c53d3=_0x26dd18['getProp']('motion_0'),_0x36614a=_0x26dd18['getProp']('motion_1'),_0x456a4e=_0x26dd18['getProp']('motion_2'),_0x572423=_0x26dd18['getProp']('scale_0'),_0x599349=_0x26dd18['getProp']('scale_1'),_0x90039b=_0x26dd18['getProp']('scale_2'),_0x289ecd=_0x26dd18['getProp']('f_dc_0'),_0xfbbf21=_0x26dd18['getProp']('f_dc_1'),_0x1896d0=_0x26dd18['getProp']('f_dc_2'),_0x4523d3=_0x26dd18['getProp']('opacity');this['read']=_0x176458=>{_0x1026e6&&(_0x1026e6['x']=_0x1dd4ae[_0x176458],_0x1026e6['y']=_0x4be172[_0x176458],_0x1026e6['z']=_0x27bae8[_0x176458]),_0x2f342b&&_0x2f342b['set'](_0x2fd2cb[_0x176458],_0xc0f4bb[_0x176458],_0x60387a[_0x176458],_0x5cbe95[_0x176458]),_0x3c8276&&_0x3c8276['set'](Math['exp'](_0x572423[_0x176458]),Math['exp'](_0x599349[_0x176458]),Math['exp'](_0x90039b[_0x176458])),_0x1c6e97&&_0x3c53d3&&_0x1c6e97['set'](_0x3c53d3[_0x176458],_0x36614a[_0x176458],_0x456a4e[_0x176458]),_0x38b66b&&_0x38b66b['set'](0x1510+-0x1*-0x211f+0x8f*-0x61+0.5+_0x289ecd[_0x176458]*vf,-0x543*-0x7+-0x89*0x8+-0x208d+0.5+_0xfbbf21[_0x176458]*vf,-0x10*0x1fd+-0xb3a+0x2b0a+0.5+_0x1896d0[_0x176458]*vf,_0x4523d3[_0x176458]);};}};const _g=(_0x84b6c1,_0x3261a6,_0x2639a5)=>{pg['set'](_0x2639a5['x'],_0x2639a5['y'],_0x2639a5['z'],_0x2639a5['w'])['normalize'](),_0x84b6c1['setTRS'](_0x3261a6,pg,D['ONE']);};class qn{constructor(_0x430aa9,_0x572c84=[]){h(this,'elements'),h(this,'numSplats',0xc11*-0x1+0x6c5+0x54c),h(this,'comments'),h(this,'is4D'),h(this,'dataWorker'),h(this,'destroy',()=>{var _0x4c90d3;(_0x4c90d3=this['dataWorker'])==null||_0x4c90d3['destroy'](),this['dataWorker']=null;});var _0x3eb160,_0x46e5ff,_0x17076c;this['elements']=_0x430aa9,this['numSplats']=((_0x3eb160=this['getElement']('vertex'))==null?void(-0xd*0x190+-0xa*-0x338+-0x4*0x2f8):_0x3eb160['count'])??0xf2f+0x12d2+-0x5*0x6cd,this['comments']=_0x572c84,this['is4D']=!!((_0x17076c=(_0x46e5ff=this['getElement']('vertex'))==null?void(-0x17b*-0x2+-0x14b4+0x11be):_0x46e5ff['properties']['find'](_0x12bc5a=>_0x12bc5a['name']==='t'))!=null&&_0x17076c['storage']);}async['appendGSpl'+'atData'](_0x2e24cf,_0x37a892,_0x614947){var _0x20454;let _0x4b0524=-0x10a0+-0x158*-0x11+-0x638;for(let _0x15c11b=-0x2706+0x1c12+-0x2*-0x57a;_0x15c11b<_0x614947['length']&&_0x37a892>_0x614947[_0x15c11b];_0x15c11b+=0xe6d+-0x1269+0x1ff*0x2)_0x4b0524=_0x15c11b/(0x167a*0x1+0xf0c+-0x2584);console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20appendGSp'+'latData',_0x4b0524),this['dataWorker']||(this['dataWorker']=new YA(),await this['dataWorker']['appendGSpl'+'atData'](this,-0x2*0xa1f+0x9b3*0x2+0x1*0xd8,_0x614947));const _0xd7e13c=this['getElement']('vertex');_0xd7e13c&&(_0xd7e13c['count']=this['numSplats']);const _0x429a74=await this['dataWorker']['appendGSpl'+'atData'](_0x2e24cf,_0x4b0524,_0x614947,!(-0x2323*-0x1+0xf11+-0x3234)),_0x4ef0b9=_0x429a74['properties'],_0x1ab854=((_0x20454=this['getElement']('vertex'))==null?void(-0x881*-0x1+0x58c+-0x21*0x6d):_0x20454['properties'])??[];for(const _0x562288 in _0x4ef0b9){const _0x4bdc3a=_0x1ab854['find'](_0x23bcb2=>_0x23bcb2['name']===_0x562288);_0x4bdc3a?_0x4bdc3a['storage']=_0x4ef0b9[_0x562288]:_0x1ab854['push']({'type':'float','name':_0x562288,'storage':_0x4ef0b9[_0x562288],'byteSize':0x4});}this['transformD'+'ata']=_0x429a74['transformD'+'ata'],this['numSplats']=_0x4ef0b9['x']['length'],console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20appendGSp'+'latData\x20nu'+'mSplats',this['numSplats']);}async['releaseSeq'+'Data'](_0x28115c){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20releaseSe'+'qData',_0x28115c),this['dataWorker']['releaseSeq'+'Data'](_0x28115c),this;}async['releaseAll'+'SeqData'](){var _0x181f08;return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20release\x20a'+'ll\x20SeqData'),(_0x181f08=this['dataWorker'])==null||_0x181f08['releaseAll'+'SeqData'](),this;}static['calcSplatA'+'abb'](_0x36b698,_0x1b9891,_0x915c6c,_0x52be72){_g(za,_0x1b9891,_0x915c6c),yf['center']['set'](-0x6f3*-0x3+0x1*-0x4c9+-0x10*0x101,-0x2291+-0x1064+0x32f5,-0x237*-0xd+-0x247*-0x2+0x2159*-0x1),yf['halfExtent'+'s']['set'](_0x52be72['x']*(0x1*0x2411+0x47f*-0x5+-0xd94),_0x52be72['y']*(-0x381*0xb+-0x111e*0x1+0x37ab),_0x52be72['z']*(-0x1417+-0x1*-0x22ed+-0x1a*0x92)),_0x36b698['setFromTra'+'nsformedAa'+'bb'](yf,za);}['getProp'](_0x134dce,_0x4a3c18='vertex'){var _0x52293a,_0x3198bf;return(_0x3198bf=(_0x52293a=this['getElement'](_0x4a3c18))==null?void(0x1f3b+-0x16b*-0xe+-0x5ad*0x9):_0x52293a['properties']['find'](_0x379fbc=>_0x379fbc['name']===_0x134dce))==null?void(0x1*0x7f0+-0x1587+0xd97):_0x3198bf['storage'];}['getElement'](_0xd58f00){return this['elements']['find'](_0x766c63=>_0x766c63['name']===_0xd58f00);}['addProp'](_0x30339a,_0x4fc493){this['getElement']('vertex')['properties']['push']({'type':'float','name':_0x30339a,'storage':_0x4fc493,'byteSize':0x4});}['createIter'](_0x7bd13f,_0x4415d2,_0xa34f50,_0x161912,_0x54be82){return new ZA(this,_0x7bd13f,_0x4415d2,_0xa34f50,_0x161912,_0x54be82);}async['calcAabbAs'+'ync'](_0x5d7905,_0x4f5ae6){var _0x1c04a6,_0x2ec731;if((_0x1c04a6=this['transformD'+'ata'])!=null&&_0x1c04a6['center']&&((_0x2ec731=this['transformD'+'ata'])!=null&&_0x2ec731['halfExtent'+'s'])){_0x5d7905['center']['set'](this['transformD'+'ata']['center'][0x5*0x3df+-0x2*0x1330+0x3*0x657],this['transformD'+'ata']['center'][0x1f6f+-0x24c7*-0x1+-0x397*0x13],this['transformD'+'ata']['center'][0x2050+-0x159*-0x17+0x3f4d*-0x1]),_0x5d7905['halfExtent'+'s']['set'](this['transformD'+'ata']['halfExtent'+'s'][0x1f8e*0x1+0x116+-0x829*0x4],this['transformD'+'ata']['halfExtent'+'s'][-0x39*-0x28+-0x1007+0x720],this['transformD'+'ata']['halfExtent'+'s'][-0x17b4+-0x207d*-0x1+0x6b*-0x15]);return;}const _0x3a169c=this['getProp']('x'),_0x4de93c=this['getProp']('y'),_0x49a2d2=this['getProp']('z'),_0x3f133a=this['getProp']('scale_0'),_0x333437=this['getProp']('scale_1'),_0x2a5ca4=this['getProp']('scale_2'),_0x2c75d4=await(_0x4f5ae6==null?void(-0xb5c+-0x232d+-0xf83*-0x3):_0x4f5ae6['calcAabb'](this['numSplats'],_0x3a169c,_0x4de93c,_0x49a2d2,_0x3f133a,_0x333437,_0x2a5ca4));_0x5d7905['center']['set'](_0x2c75d4['center'][-0x6*0x57f+0x576*-0x3+0x9*0x57c],_0x2c75d4['center'][0x2008+0x8ed+0x28f4*-0x1],_0x2c75d4['center'][-0x37d*0x1+0x1*-0x10d2+-0x7*-0x2e7]),_0x5d7905['halfExtent'+'s']['set'](_0x2c75d4['halfExtent'+'s'][-0x35*-0x65+0x1f27+-0x70*0x77],_0x2c75d4['halfExtent'+'s'][0x572+0x511*0x1+0xa82*-0x1],_0x2c75d4['halfExtent'+'s'][-0x2b2+0x2682+-0x23ce]);}['calcAabb'](_0x377f00,_0x117c7c){let _0x55baa7,_0x448e11,_0x645c4d,_0x38b1a5,_0x3883c6,_0x35d20b,_0x5916f3=!(0x1*-0x2573+0x10*-0x47+0x29e3*0x1);const _0x31ac2c=this['getProp']('x'),_0x145c8b=this['getProp']('y'),_0x199b2e=this['getProp']('z'),_0x57bebf=this['getProp']('scale_0'),_0x10d481=this['getProp']('scale_1'),_0x483bb8=this['getProp']('scale_2');for(let _0x5e2341=-0x2d2+-0x2*0x553+0x35e*0x4;_0x5e2341<this['numSplats'];++_0x5e2341){if(_0x117c7c&&!_0x117c7c(_0x5e2341))continue;const _0x58814c=_0x31ac2c[_0x5e2341],_0x1b87ba=_0x145c8b[_0x5e2341],_0x2510ae=_0x199b2e[_0x5e2341],_0xac637a=Math['max'](_0x57bebf[_0x5e2341],_0x10d481[_0x5e2341],_0x483bb8[_0x5e2341]);if(!isFinite(_0x58814c)||!isFinite(_0x1b87ba)||!isFinite(_0x2510ae)||!isFinite(_0xac637a))continue;const _0x4a649a=(0x4*-0x748+-0x1*0x1177+-0x1*-0x2e99)*Math['exp'](_0xac637a);_0x5916f3?(_0x5916f3=!(0xff*0x18+0x1*-0x2f+-0x17*0x108),_0x55baa7=_0x58814c-_0x4a649a,_0x448e11=_0x1b87ba-_0x4a649a,_0x645c4d=_0x2510ae-_0x4a649a,_0x38b1a5=_0x58814c+_0x4a649a,_0x3883c6=_0x1b87ba+_0x4a649a,_0x35d20b=_0x2510ae+_0x4a649a):(_0x55baa7=Math['min'](_0x55baa7,_0x58814c-_0x4a649a),_0x448e11=Math['min'](_0x448e11,_0x1b87ba-_0x4a649a),_0x645c4d=Math['min'](_0x645c4d,_0x2510ae-_0x4a649a),_0x38b1a5=Math['max'](_0x38b1a5,_0x58814c+_0x4a649a),_0x3883c6=Math['max'](_0x3883c6,_0x1b87ba+_0x4a649a),_0x35d20b=Math['max'](_0x35d20b,_0x2510ae+_0x4a649a));}return _0x5916f3||(_0x377f00['center']['set']((_0x55baa7+_0x38b1a5)*(0x2441+0x46f+-0x38*0xba+0.5),(_0x448e11+_0x3883c6)*(-0x14f+-0xe*-0xa1+-0x77f+0.5),(_0x645c4d+_0x35d20b)*(0x1909+0x21ef+-0x3af8+0.5)),_0x377f00['halfExtent'+'s']['set']((_0x38b1a5-_0x55baa7)*(0x1c33+-0x1349+0x1*-0x8ea+0.5),(_0x3883c6-_0x448e11)*(-0x1dd5*0x1+0x9db+0x1*0x13fa+0.5),(_0x35d20b-_0x645c4d)*(0x7ed*0x1+-0x22a7+-0x1*-0x1aba+0.5))),!_0x5916f3;}['yieldToMai'+'n'](){var _0x54a3e3;return(_0x54a3e3=globalThis['scheduler'])!=null&&_0x54a3e3['yield']?globalThis['scheduler']['yield']():new Promise(_0x851e39=>{setTimeout(_0x851e39,-0xa93*-0x3+0x20f0+-0x40a9);});}['calcAabbEx'+'act'](_0x1785ab,_0x8f20ef){const _0xe73d46=new D(),_0x399e6e=new le(),_0x4163d3=new D(),_0x15d89d=this['createIter'](_0xe73d46,_0x399e6e,_0x4163d3);let _0x5196a5=!(0x491*-0x5+0x8c+0x1649);for(let _0x449712=-0x780+0xcfc+-0x57c;_0x449712<this['numSplats'];++_0x449712)_0x8f20ef&&!_0x8f20ef(_0x449712)||(_0x15d89d['read'](_0x449712),_0x5196a5?(_0x5196a5=!(-0x26e3+-0x1*0x8ab+0x983*0x5),qn['calcSplatA'+'abb'](_0x1785ab,_0xe73d46,_0x399e6e,_0x4163d3)):(qn['calcSplatA'+'abb'](mg,_0xe73d46,_0x399e6e,_0x4163d3),_0x1785ab['add'](mg)));return!_0x5196a5;}async['getCenters'](_0x12b505){const _0x5131b6=this['getProp']('x'),_0x20200f=this['getProp']('y'),_0x9ee448=this['getProp']('z');for(let _0x640d68=-0x2*0x12f6+-0x1*0x1fd2+0x45be;_0x640d68<this['numSplats'];++_0x640d68)_0x12b505[_0x640d68*(0x6b*0x4+-0xd34+0xb8b)+(-0x6*0x604+0x1266+-0x12e*-0xf)]=_0x5131b6[_0x640d68],_0x12b505[_0x640d68*(-0x2631+0x16*0x8f+-0x1f*-0xd6)+(-0x24f9+-0x4*0x803+-0x3e*-0x11d)]=_0x20200f[_0x640d68],_0x12b505[_0x640d68*(0x6*-0x28f+0x134*-0x1d+0x3241)+(0x1*-0x1c45+0x13*0x25+-0x1*-0x1988)]=_0x9ee448[_0x640d68],_0x640d68%xf===-0x72*-0x3d+-0x180f+-0x31b&&await this['yieldToMai'+'n']();}async['getMuT'](){var _0x2fe647;if((_0x2fe647=this['transformD'+'ata'])!=null&&_0x2fe647['muT'])return this['transformD'+'ata']['muT'];const _0x558906=this['getProp']('t');return _0x558906?new Float32Array(_0x558906):void(-0x392*-0x5+0x1a6b+-0x1*0x2c45);}async['getTScale'](){const _0x5a8202=this['getProp']('t_scale');if(!_0x5a8202)return;const _0x33a161=new Float32Array(this['numSplats']);for(let _0xec2025=-0x51*-0x5f+-0x3*0x59f+0x466*-0x3;_0xec2025<this['numSplats'];++_0xec2025)_0x33a161[_0xec2025]=Math['exp'](_0x5a8202[_0xec2025]),_0xec2025%xf===0x115*0x11+0x1de9+-0x304e&&await this['yieldToMai'+'n']();return _0x33a161;}async['getMotion'](_0x3f1645){const _0xb685f5=this['getProp']('motion_0'),_0x587e8d=this['getProp']('motion_1'),_0x166f38=this['getProp']('motion_2');if(!(!_0xb685f5||!_0x587e8d||!_0x166f38)){for(let _0x1d7d46=0x1bb0+0x40b+-0x1fbb;_0x1d7d46<this['numSplats'];++_0x1d7d46)_0x3f1645[_0x1d7d46*(-0x25*0xf1+0x24c2+0x62*-0x5)+(0x23e4+-0x78d+0x5*-0x5ab)]=_0xb685f5[_0x1d7d46],_0x3f1645[_0x1d7d46*(-0x1a7+0x29*-0x4d+0xdff)+(-0x203d+-0x21d4+0x3*0x1606)]=_0x587e8d[_0x1d7d46],_0x3f1645[_0x1d7d46*(0xd21+-0x70*-0x1f+-0x1aae)+(-0x1f*0x102+0xb*-0xf2+0x29a6)]=_0x166f38[_0x1d7d46],_0x1d7d46%xf===0x20f9+0x61b*0x5+-0x3f80&&await this['yieldToMai'+'n']();}}['getTimeInd'+'ex'](){var _0x4e3425;if((_0x4e3425=this['transformD'+'ata'])!=null&&_0x4e3425['timeIndex'])return this['transformD'+'ata']['timeIndex'];const _0x4e27bb=this['getProp']('time_index');if(_0x4e27bb)return new Float32Array(_0x4e27bb);}['calcFocalP'+'oint'](_0x164238,_0x4a0d4d){const _0x4b9c12=this['getProp']('x'),_0x5003d3=this['getProp']('y'),_0x1cd8e0=this['getProp']('z'),_0x3eb7ec=this['getProp']('scale_0'),_0x424247=this['getProp']('scale_1'),_0x5191dd=this['getProp']('scale_2');_0x164238['x']=-0x17*-0x71+0x18f5+-0x8c7*0x4,_0x164238['y']=-0x2ef*0xb+0x5a*-0x26+-0x1*-0x2da1,_0x164238['z']=0x1caf+0x414+-0x20c3;let _0x2b6fd6=0xb5c+0x1b90+-0x26ec;for(let _0xa236d7=-0x20ad+0x11b*-0xb+-0x2cd6*-0x1;_0xa236d7<this['numSplats'];++_0xa236d7){if(_0x4a0d4d&&!_0x4a0d4d(_0xa236d7))continue;const _0x5c120b=_0x4b9c12[_0xa236d7],_0x59c75e=_0x5003d3[_0xa236d7],_0x3bb15c=_0x1cd8e0[_0xa236d7];if(!isFinite(_0x5c120b)||!isFinite(_0x59c75e)||!isFinite(_0x3bb15c))continue;const _0x5138eb=(-0x22b1*-0x1+0x4a7*-0x5+0xb6d*-0x1)/(-0x1973+-0x1225*-0x1+-0x74f*-0x1+Math['exp'](Math['max'](_0x3eb7ec[_0xa236d7],_0x424247[_0xa236d7],_0x5191dd[_0xa236d7])));_0x164238['x']+=_0x5c120b*_0x5138eb,_0x164238['y']+=_0x59c75e*_0x5138eb,_0x164238['z']+=_0x3bb15c*_0x5138eb,_0x2b6fd6+=_0x5138eb;}_0x164238['mulScalar']((-0x1534+0x23e1+0x756*-0x2)/_0x2b6fd6);}['renderWire'+'frameBound'+'s'](_0x272251,_0xb12131){const _0x2b4dbb=new D(),_0x5c21eb=new le(),_0x19ffef=new D(),_0x139087=new D(),_0x572455=new D(),_0x363334=this['createIter'](_0x2b4dbb,_0x5c21eb,_0x19ffef);for(let _0x3094c4=-0x1d52+0x2*0x12fd+-0x8a8;_0x3094c4<this['numSplats'];++_0x3094c4)_0x363334['read'](_0x3094c4),_g(za,_0x2b4dbb,_0x5c21eb),za['mul2'](_0xb12131,za),_0x139087['set'](_0x19ffef['x']*-(-0x23d4*-0x1+0x1*0x21f9+0x45cb*-0x1),_0x19ffef['y']*-(-0x1*-0x1ef8+0x1c83+-0x3b79),_0x19ffef['z']*-(-0x925+-0x1*0x159d+0x1ec4)),_0x572455['set'](_0x19ffef['x']*(0xc*0x21f+-0xb5*0x23+0x1*-0xb3),_0x19ffef['y']*(-0x1*-0x1965+-0x16c2+0x2a1*-0x1),_0x19ffef['z']*(-0x1469+0xcc+-0x139f*-0x1)),_0x272251['immediate']['drawWireAl'+'ignedBox'](_0x139087,_0x572455,KA,!(0x1a71+0x9*0x21e+-0x2d7f),_0x272251['defaultDra'+'wLayer'],za);}get['isCompress'+'ed'](){return!(0x1ec+-0xd83+0xb98);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x1d19e0=0x2380+-0x144e+-0xf32;_0x1d19e0<-0x42*-0x21+0x3*0xa45+-0x29c*0xf;++_0x1d19e0)if(!this['getProp']('f_rest_'+_0x1d19e0))return _0x1d19e0;return 0xfd9+-0x1366+0x3ba;})())]??-0x3c3+0x1b66+-0x3*0x7e1;}['calcMorton'+'Order'](){const _0x59daee=_0x383564=>{let _0x9f18aa=_0x383564[0x9*0x343+0x1c70+0x5*-0xb8f],_0x26e62b=_0x383564[-0x1*0x18f4+-0xd8a+0x1*0x267e];for(let _0x43d5cb=0x4f*-0x40+0x179e+0x3dd*-0x1;_0x43d5cb<_0x383564['length'];_0x43d5cb++)_0x383564[_0x43d5cb]<_0x9f18aa&&(_0x9f18aa=_0x383564[_0x43d5cb]),_0x383564[_0x43d5cb]>_0x26e62b&&(_0x26e62b=_0x383564[_0x43d5cb]);return{'min':_0x9f18aa,'max':_0x26e62b};},_0xf37074=(_0x311252,_0x40bacd,_0x3e9de5)=>{const _0x534b5d=_0x5524bc=>(_0x5524bc&=0x19f7+0xda2+0x62*-0x5d,_0x5524bc=(_0x5524bc^_0x5524bc<<-0x4*-0x69d+0x1687+0x6fd*-0x7)&0x83*-0x3495498+0x884fe7b1+0x1*0x225366316,_0x5524bc=(_0x5524bc^_0x5524bc<<0xae0+-0x5*-0x37c+0x43*-0x6c)&-0x290fd75+-0x2f*-0x1e01f0+0xf9274*0x1,_0x5524bc=(_0x5524bc^_0x5524bc<<-0x777+-0x1bf*-0x3+-0x23e*-0x1)&0xb33*0x7a35+0x59323e5+-0x7df92b1,_0x5524bc=(_0x5524bc^_0x5524bc<<-0x2150+-0x1*-0x178+0xa9e*0x3)&0x1*-0x11c18285+0x9a6d364+0x113f416a,_0x5524bc);return(_0x534b5d(_0x3e9de5)<<0x1f9f+-0x1a50+-0x54d)+(_0x534b5d(_0x40bacd)<<0x16bb+-0x2203+-0xb49*-0x1)+_0x534b5d(_0x311252);},_0xdfd53=this['getProp']('x'),_0x116766=this['getProp']('y'),_0x11efbb=this['getProp']('z'),{min:_0x355e7f,max:_0x510fda}=_0x59daee(_0xdfd53),{min:_0x3c612b,max:_0xc9a48a}=_0x59daee(_0x116766),{min:_0x3fefbd,max:_0x19c818}=_0x59daee(_0x11efbb),_0x44cf8f=_0x355e7f===_0x510fda?-0x598+-0x9*-0x223+-0x1*0xda3:(0x6f0+-0x144+-0x1ac)/(_0x510fda-_0x355e7f),_0x3f692b=_0x3c612b===_0xc9a48a?0x1d40+-0x181d+0x1*-0x523:(-0x188f+0x446+0x1849)/(_0xc9a48a-_0x3c612b),_0x5c9e27=_0x3fefbd===_0x19c818?0x166b+0x2*0xaf1+0xb*-0x407:(0x4*0x4e7+0x1d62+-0x2cfe)/(_0x19c818-_0x3fefbd),_0x576b1e=new Map();for(let _0x1bcef4=-0x2367+-0xe9b+0x2*0x1901;_0x1bcef4<this['numSplats'];_0x1bcef4++){const _0x135137=Math['min'](-0x2+0x642*0x1+-0x241*0x1,Math['floor']((_0xdfd53[_0x1bcef4]-_0x355e7f)*_0x44cf8f)),_0x1108c2=Math['min'](-0x75f+-0x255f+0x30bd,Math['floor']((_0x116766[_0x1bcef4]-_0x3c612b)*_0x3f692b)),_0x56d7d4=Math['min'](0x15a8+-0x151*-0x13+0xaab*-0x4,Math['floor']((_0x11efbb[_0x1bcef4]-_0x3fefbd)*_0x5c9e27)),_0x2bf046=_0xf37074(_0x135137,_0x1108c2,_0x56d7d4),_0x24496d=_0x576b1e['get'](_0x2bf046);_0x24496d?_0x24496d['push'](_0x1bcef4):_0x576b1e['set'](_0x2bf046,[_0x1bcef4]);}const _0x2462af=Array['from'](_0x576b1e['keys']())['sort']((_0x1a597b,_0x37e7fd)=>_0x1a597b-_0x37e7fd),_0x3aa60b=new Uint32Array(this['numSplats']);let _0x155dee=0x14*-0x1af+-0x1840+0x39ec;for(let _0x5cf93f=-0x19d*-0x1+0x7b4+-0x5*0x1dd;_0x5cf93f<_0x2462af['length'];++_0x5cf93f){const _0x302650=_0x576b1e['get'](_0x2462af[_0x5cf93f]);for(let _0x1d3c14=-0xa7d+0x2ce*-0x3+0x12e7*0x1;_0x1d3c14<_0x302650['length'];++_0x1d3c14)_0x3aa60b[_0x155dee++]=_0x302650[_0x1d3c14];}return _0x3aa60b;}['reorder'](_0x591829){const _0x483076=new Map(),_0x43b678=_0x4fa6f5=>{if(_0x483076['has'](_0x4fa6f5)){const _0x4f4201=_0x483076['get'](_0x4fa6f5);return _0x483076['delete'](_0x4fa6f5),_0x4f4201;}return new ArrayBuffer(_0x4fa6f5);},_0x49e031=_0x2675d6=>{_0x483076['set'](_0x2675d6['byteLength'],_0x2675d6);},_0x1a913b=_0x199f18=>{const _0x30c241=new _0x199f18['constructo'+'r'](_0x43b678(_0x199f18['byteLength']));for(let _0x572c02=0x1*-0x74f+-0x1d2e+0x247d;_0x572c02<_0x591829['length'];_0x572c02++)_0x30c241[_0x572c02]=_0x199f18[_0x591829[_0x572c02]];return _0x49e031(_0x199f18['buffer']),_0x30c241;};this['elements']['forEach'](_0x2aeea9=>{_0x2aeea9['properties']['forEach'](_0x4f15a6=>{_0x4f15a6['storage']&&(_0x4f15a6['storage']=_0x1a913b(_0x4f15a6['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}async function QA(){const _0xa50564=new Float32Array(0xb1*0x1a+0x2332+-0x1*0x352b);new Int32Array(_0xa50564['buffer']);let _0x4c4115=0x1ff0+-0x816+-0x2b*0x8e,_0xd22d9d={};self['onmessage']=async _0x19550d=>{const {data:_0xe874e7}=_0x19550d;switch(_0xe874e7['type']){case'initWorker':break;case'appendGSpl'+'atData':_0x54602(_0xe874e7['properties'],_0xe874e7['timeIndex'],_0xe874e7['timeOption']);break;case'releaseSeq'+'Data':_0x21bfa1(_0xe874e7['index']);break;case'releaseAll'+'SeqData':_0xb8c871();break;case'destroyWor'+'ker':_0x59bd35();break;}};const _0x24e15f=()=>({0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x27b615=0x1*-0x170+-0x5*-0x508+-0x17b8;_0x27b615<-0x9*0x1e7+-0x73c+0x1888;++_0x27b615)if(!_0xd22d9d['f_rest_'+_0x27b615])return _0x27b615;return 0x10b6+-0x1683+0x2d*0x22;})())]??0x3c8+0xf17*-0x2+-0x1*-0x1a66),_0x54602=(_0x125ba0,_0x47369e,_0x2856b3)=>{var _0x259e1c,_0x19b374;_0x4c4115+=(((_0x259e1c=_0x125ba0['position'])==null?void(-0x2*-0x5c9+0x1c44+-0x27d6):_0x259e1c['length'])??-0x22d2+0x133b*0x1+0x133*0xd)/(0x37*-0x1+0x174f+0x13*-0x137),console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedDataWor'+'ker\x20append'+'GSplatData'+'\x20numSplats',_0x4c4115,(((_0x19b374=_0x125ba0['position'])==null?void(0x503*-0x2+-0x1*0x1aa2+0xc*0x30e):_0x19b374['length'])??0xda9+0x31*0xc7+-0x33c0)/(0x1e09+0x1394+-0x319a*0x1));const _0x501518=Object['keys'](_0x125ba0);for(let _0x5a4e0a=-0xb9f+-0x3*-0x653+0x2*-0x3ad;_0x5a4e0a<_0x501518['length'];_0x5a4e0a++){const _0xa28b1a=_0x501518[_0x5a4e0a],_0x29b4f9=_0x125ba0[_0xa28b1a],_0x475541=_0xd22d9d[_0xa28b1a]??new Float32Array(-0x14*0x136+0x16f3+0x145);if(_0x29b4f9){let _0xea557=null;switch(_0xa28b1a){case'position':_0xea557=new Float32Array(_0x4c4115*(0x453+0xe4e+-0x94f*0x2));break;case'color_opac'+'ity':_0xea557=new Uint16Array(_0x4c4115*(0x11e7*-0x1+0x1*0xacf+0x5b*0x14));break;case'scale':_0xea557=new Uint16Array(_0x4c4115*(-0x25a+-0x225c+0x53f*0x7));break;case'motion':_0xea557=new Float32Array(_0x4c4115*(0x327+-0x3b*0xa1+0x21f7));break;case'rotation':_0xea557=new Float32Array(_0x4c4115*(0x1*0x1e81+-0x12a9*0x1+-0xbd5));break;default:_0xea557=new Float32Array(_0x4c4115);break;}_0xea557['set'](_0x475541,-0x971+-0x1343+0x1cb4),_0xea557['set'](_0x29b4f9,_0x475541['length']),_0xd22d9d[_0xa28b1a]=_0xea557;}}const _0x29911e={};Object['keys'](_0xd22d9d)['forEach'](_0xd552c6=>{_0xd552c6==='scale'||_0xd552c6==='color_opac'+'ity'?_0x29911e[_0xd552c6]=new Uint16Array(_0xd22d9d[_0xd552c6]['buffer']['slice']()):_0x29911e[_0xd552c6]=new Float32Array(_0xd22d9d[_0xd552c6]['buffer']['slice']());});const _0x35550a=Object['keys'](_0x29911e)['map'](_0x298b84=>_0x29911e[_0x298b84]['buffer']),_0x477adc=_0x42c7be(),_0x3d35fd=Object['keys'](_0x477adc)['map'](_0x47ead0=>_0x477adc[_0x47ead0]['buffer']);self['postMessag'+'e']({'type':'newAppendD'+'ata','properties':_0x29911e,'transformData':_0x477adc},_0x35550a['concat'](_0x3d35fd));},_0x42c7be=()=>{const _0x40ed45=_0xd22d9d['position']['length']/(-0x3b0+-0x31*0xb3+0x25f6),_0xf502fc=_0xd22d9d['position'],_0x519bb4=_0xd22d9d['scale'],_0x238797=_0xd22d9d['rotation'],_0x35c309=_0xd22d9d['motion'],_0x5b5478=_0xd22d9d['t'],_0x6c2740=_0xd22d9d['t_scale'],_0x4df816=_0xd22d9d['time_index'],_0x356b77=_0xd22d9d['color_opac'+'ity'],_0x2c06ce=(_0x5b5478==null?void(-0x14d0+0x6*-0x206+0x20f4):_0x5b5478['length'])>0x2125+0x73a+0xd75*-0x3;let _0x512de6=null,_0x9da308=null,_0x3a2201=null,_0xb7b301=null;_0x2c06ce&&(_0x9da308=new Float32Array(_0x40ed45*(0x1954+-0x199e+-0x1*-0x4d)),_0xb7b301=new Float32Array(_0x40ed45),_0x512de6=new Float32Array(_0x35c309['buffer']['slice']()),_0x3a2201=new Float32Array(_0x35c309['buffer']['slice']()));const _0x375324=new Float32Array(_0xf502fc['buffer']['slice']()),_0x58b972=new Float32Array(_0xf502fc['buffer']['slice']()),_0x4aed21=new Uint16Array(_0x356b77['buffer']['slice']()),_0x3ce34a=new Uint16Array(_0x519bb4['buffer']['slice']()),_0x473f21=new Float32Array(_0x238797['buffer']['slice']());for(let _0x42f94b=0xd*0x282+0xb*-0x7d+-0x1b3b;_0x42f94b<_0x40ed45;++_0x42f94b)_0x2c06ce&&_0x9da308&&_0xb7b301&&(_0xb7b301[_0x42f94b]=_0x6c2740?Math['exp'](_0x6c2740[_0x42f94b]):-0x1*0x1046+-0xf8*-0x25+-0x1*0x1392,_0x9da308[_0x42f94b*(-0x1*-0xf4b+-0x2*-0xca5+-0x2892)+(-0x1753+0x1631+-0x91*-0x2)]=_0x5b5478?_0x5b5478[_0x42f94b]:0x1*-0x1664+0x199*-0x1+0x10b*0x17,_0x9da308[_0x42f94b*(0xab*-0x35+0x1ed5+0x495*0x1)+(-0x187e*-0x1+-0x248d+0x8*0x182)]=_0xb7b301[_0x42f94b]);const _0x919a21=_0x2f7bbb();let _0xed4dc8={'dataColor':_0x4aed21,'dataCenters':_0x58b972,'dataPosition':_0x375324,'dataScale':_0x3ce34a,'dataRotation':_0x473f21,..._0x919a21};return _0x2c06ce&&(_0xed4dc8={..._0xed4dc8,'dataMotion':_0x512de6,'dataTime':_0x9da308,'motion':_0x3a2201,'tScaleArray':_0xb7b301,'muT':new Float32Array(_0x5b5478),'timeIndex':new Float32Array(_0x4df816)}),_0xed4dc8;},_0x3c7a13=_0x3ed4d6=>{const _0x3b22fe=[];for(let _0xf60cbd=0x1a16+0xab9+-0x24cf;_0xf60cbd<_0x3ed4d6;++_0xf60cbd)_0x3b22fe['push'](_0xd22d9d['f_rest_'+_0xf60cbd]);return _0x3b22fe;},_0x2f7bbb=()=>{const _0x174b85=_0x24e15f();if(_0x174b85<=0xb*0x222+-0x2520+-0xdaa*-0x1)return{};const _0x3e0eed=_0xd22d9d['x']['length'],_0x1f14af=new Uint32Array(_0x3e0eed*(0x1*-0xdab+0x1746*-0x1+-0x1*-0x24f5)),_0x397d25=new Uint32Array(_0x3e0eed*(-0x9*-0x11b+0x1ecd+-0x28bc)),_0x5f15da=new Uint32Array(_0x3e0eed*(-0x1359+-0x26d3+-0xc4*-0x4c)),_0x5ccf41=new Uint32Array(_0x3e0eed*(0x18ab+0x13a*0xc+-0x275f)),_0x5e3bdc={0x1:0x3,0x2:0x8,0x3:0xf}[_0x174b85],_0x1ace64=_0x3c7a13(_0x5e3bdc*(0xac9+-0x172a*-0x1+-0x21f0)),_0x54a75a=0x9*-0x392+-0x6*-0x533+0x8ef,_0x25bff1=-0x1*0x2275+0xf0b+0x1769,_0x581494=new Float32Array(-0x801*-0x3+-0x8*0x1d3+-0x1*0x96a),_0x3fe7b9=new Uint32Array(_0x581494['buffer']),_0x1335c0=new Array(_0x5e3bdc*(-0x2f*0x7d+-0x2643*-0x1+-0xf4d))['fill'](0x1fa7+-0x1026+-0xf81);for(let _0x2d1d3b=-0x18*0xce+0x1776*-0x1+-0x4b*-0x92;_0x2d1d3b<_0x3e0eed;++_0x2d1d3b){for(let _0x2b6bf3=0x1*-0x17cb+-0x24eb+0x3cb6;_0x2b6bf3<_0x5e3bdc;++_0x2b6bf3)_0x1335c0[_0x2b6bf3*(-0x266c+-0x3*0xb6e+0x48b9)]=_0x1ace64[_0x2b6bf3][_0x2d1d3b],_0x1335c0[_0x2b6bf3*(0x5d6+-0x1*0xff5+0xa22)+(0x1f97*0x1+-0xd0c+0x7*-0x2a6)]=_0x1ace64[_0x2b6bf3+_0x5e3bdc][_0x2d1d3b],_0x1335c0[_0x2b6bf3*(0x1f5a+-0x3*0x671+-0xc04)+(0x1d*-0x13d+0x13fe*-0x1+0x37e9)]=_0x1ace64[_0x2b6bf3+_0x5e3bdc*(-0x4*0x1a+0xc46*0x2+-0x2*0xc11)][_0x2d1d3b];let _0x5f137c=_0x1335c0[0xcd2+0x8d*0x21+0x1eff*-0x1];for(let _0x2f8dcd=-0x2584+0xd*0x2f0+-0xab;_0x2f8dcd<_0x5e3bdc*(-0x1*-0xe2f+0x1*-0x142f+-0x3*-0x201);++_0x2f8dcd)_0x5f137c=Math['max'](_0x5f137c,Math['abs'](_0x1335c0[_0x2f8dcd]));if(_0x5f137c!==-0x729+0x109*-0x3+0xa44){for(let _0x1c5ea1=-0x13a0+0x1*-0xca4+0x2044;_0x1c5ea1<_0x5e3bdc;++_0x1c5ea1)_0x1335c0[_0x1c5ea1*(0x188d*-0x1+-0x1*-0x21a6+-0x916)+(0x1ba2+-0x26e2+-0x3*-0x3c0)]=Math['max'](-0x1a6*0x9+-0x8ea+-0xbe0*-0x2,Math['min'](_0x54a75a,Math['floor']((_0x1335c0[_0x1c5ea1*(0x8d7+0x23bf*-0x1+0x1aeb)+(-0x3f2*0x4+-0x5*-0x772+-0x1572)]/_0x5f137c*(-0x355+0x3dd+-0x88+0.5)+(-0x8*-0x112+-0x1093*0x2+-0x2*-0xc4b+0.5))*_0x54a75a+(0x1fc*0xd+-0x25aa+0xbde+0.5)))),_0x1335c0[_0x1c5ea1*(-0x17fd+-0xb5e+0x235e)+(0xbdd*-0x2+0xe*-0x1a1+-0x2e89*-0x1)]=Math['max'](-0x13e0+-0x1c30+-0x8*-0x602,Math['min'](_0x25bff1,Math['floor']((_0x1335c0[_0x1c5ea1*(0x2*-0x12c5+0x581+-0x1*-0x200c)+(-0x1469+-0x1*-0x67+0x1*0x1403)]/_0x5f137c*(-0x1*-0x887+0x1*0x19eb+-0x2272+0.5)+(-0x54d+-0x164d+0x1b9a+0.5))*_0x25bff1+(0x1b*-0x93+-0x4a*0x34+-0x1*-0x1e89+0.5)))),_0x1335c0[_0x1c5ea1*(-0x1*0x130a+0x749*0x5+-0x1160)+(0x1135+-0x2*-0x31+-0x1*0x1195)]=Math['max'](-0x1b52*0x1+0x1*0x1afb+0x57,Math['min'](_0x54a75a,Math['floor']((_0x1335c0[_0x1c5ea1*(0x1393+0x4da+-0x186a)+(-0xc73*0x1+0x25ab+-0xe*0x1cd)]/_0x5f137c*(0x6e2*-0x1+0x941+-0x25f+0.5)+(-0x4d5*0x1+0x190a+-0x1435+0.5))*_0x54a75a+(-0x13*0x1f2+0xad5+-0x1a21*-0x1+0.5))));_0x581494[0x3a3*-0x2+-0x2446+0x2b8c]=_0x5f137c,_0x1f14af[_0x2d1d3b*(0x17d8+0x515+-0x1ce9)+(0x271*-0x6+-0x3*-0x73d+0x1*-0x711)]=_0x3fe7b9[-0x1cab+0xc*0x125+0x1*0xeef],_0x1f14af[_0x2d1d3b*(0xd*0xf1+-0x3e9*-0x3+-0x17f4)+(-0x52*0x56+0x362*0x4+0xe05)]=_0x1335c0[0x727*0x1+0x13b1+0x2*-0xd6c]<<0xef*-0x27+0x365*-0xb+-0x29*-0x1cd|_0x1335c0[0x1*-0xb32+0x20c1+-0x158e]<<0x146d+0x6*-0x33d+0x1*-0xf4|_0x1335c0[0xb*0x139+-0xd5e+-0x13],_0x1f14af[_0x2d1d3b*(0x1b8d+-0x208c+0x503)+(-0xa26+0x1443+-0xa1b)]=_0x1335c0[-0x2654+0xb2e*0x1+0x11*0x199]<<0x2330+0x1064*-0x1+-0x12b7*0x1|_0x1335c0[-0xb*-0xa4+-0xf*0x89+0x11*0xf]<<0xe02+0x80*0x4c+-0x33f7|_0x1335c0[0x1cd*0x13+-0x8dc+-0x1956],_0x1f14af[_0x2d1d3b*(-0x1504*-0x1+0x2514+-0x3a14)+(-0x5f*0xe+0x42*-0x7f+0x25f3)]=_0x1335c0[0x9*-0x401+0xa*-0x61+-0x65*-0x65]<<-0x2*-0x130a+0x239b+-0x499a|_0x1335c0[0x1c27+-0x1734+-0x24*0x23]<<0x197a+0x11*0x163+-0x3*0x1056|_0x1335c0[0x7*-0x3c1+-0x4*-0x60e+-0x6b*-0x5],_0x174b85>0x16e5+-0x1d88+0x6a4&&(_0x397d25[_0x2d1d3b*(0xbe2+0x181c*0x1+0x399*-0xa)+(-0x733*0x5+0x1*-0x17da+0x3bd9)]=_0x1335c0[-0x14e5*0x1+0x10*0x2e+0x120e]<<0x6*-0x21e+-0x2324+0x2fed|_0x1335c0[-0xcde+-0x13a+0x192*0x9]<<0x1c*-0x8e+0x3a9+0x5f5*0x2|_0x1335c0[0x3*-0x314+0x2fe*-0x4+-0x309*-0x7],_0x397d25[_0x2d1d3b*(-0xb*0x67+-0x683+0x57a*0x2)+(0x1*0xbbe+-0x158*0xb+0x30b*0x1)]=_0x1335c0[0x5*-0x248+-0x773*0x2+-0xd2d*-0x2]<<0x1*-0x9c5+0x5f*-0xf+0xf6b*0x1|_0x1335c0[-0x424+-0x84*-0x17+-0x1*0x7ab]<<0x897+0x1*0x187d+-0x3*0xb03|_0x1335c0[0x254d+0x1*-0x1b03+0xa3c*-0x1],_0x397d25[_0x2d1d3b*(-0xbe8+0x1e18+-0x122c)+(-0xceb+-0x139d+0x208a)]=_0x1335c0[0x23e+0xdd1+-0x1000]<<0x94b+-0x1*0xe1b+-0x4e5*-0x1|_0x1335c0[-0x39*-0x77+-0xdeb*-0x1+0x2*-0x142d]<<0x1*-0x306+-0x2357+0x2668|_0x1335c0[-0xf4*-0x21+0x252a+0xa1*-0x6d],_0x397d25[_0x2d1d3b*(0x1183*-0x1+0xfd8+0x1af)+(-0x2291*0x1+-0x19f1*-0x1+0x8a3)]=_0x1335c0[0x107*0x13+-0x59*0x1f+-0x8ac]<<0xde2+-0x476*0x6+0xcf7|_0x1335c0[-0x18*-0x23+-0x1*-0x1a89+-0x11a*0x1b]<<0x22a*-0x11+0x75b+0x1d7a|_0x1335c0[-0x25f9+-0x23d4+0x49e1*0x1],_0x174b85>0x2*0x39d+0x1*0xa6f+-0x11a7?(_0x5f15da[_0x2d1d3b*(-0x21a4+-0xd0a+0x2eb2*0x1)+(-0x2*0xbf8+-0x671+0x1e61)]=_0x1335c0[-0xd9d+0xbb*0x2f+-0x14a3]<<0xa23+0x1*-0x1fdb+-0x1*-0x15cd|_0x1335c0[0x1cee+0x1d73*0x1+-0x3a4b]<<0x952+0x1bba+-0x2501|_0x1335c0[-0x232e+-0x1a59+-0x59a*-0xb],_0x5f15da[_0x2d1d3b*(0xba7+-0x14d8+0x935)+(-0x7*0xc4+-0x1df2+0x45*0x83)]=_0x1335c0[0x930+-0x1f45+0x1*0x162d]<<-0x24*-0x68+0x566+0x13f1*-0x1|_0x1335c0[-0xa6*-0xa+0x7*-0x1d+-0xb3*0x8]<<0x900+0x1d5e+0x1*-0x2653|_0x1335c0[-0x2*-0xb92+-0x1*-0x2cf+-0x1*0x19d9],_0x5f15da[_0x2d1d3b*(0x1*-0x1e02+0x2417+-0x611)+(-0x2a1*0x4+-0x809+0x128f)]=_0x1335c0[-0x13ce+-0x6*-0x138+-0x81*-0x19]<<-0x26d*-0x5+0x47*-0xd+-0x871|_0x1335c0[-0x158b+-0xa8*0x3a+0x3bb7*0x1]<<-0x1f9d+0x432+-0x172*-0x13|_0x1335c0[-0x15fa+0x5*-0x3be+-0x829*-0x5],_0x5f15da[_0x2d1d3b*(-0x8*-0x23c+-0x3e+0x37*-0x52)+(-0x2321+-0x2dd*-0x5+0x14d3)]=_0x1335c0[0x11*-0x3a+-0x1*-0x1c0b+-0x1813]<<-0x2*-0x859+0x1*-0x155+-0xf48|_0x1335c0[0xedd+0x16*0x1+-0xed4]<<-0x4e8+-0x1*-0xb26+-0x633|_0x1335c0[0x173*-0x7+0x706+0x33f],_0x5ccf41[_0x2d1d3b*(0x1364+-0x1*-0x1db4+-0x3114)+(-0x2173+0x10f3+0x840*0x2)]=_0x1335c0[-0x169*-0x1+0x202+0x34a*-0x1]<<0x1efb+-0x1*0x2526+-0x50*-0x14|_0x1335c0[-0x55c+0x119e+0x10*-0xc2]<<0x1*-0x1d5e+-0x213e+-0x1*-0x3ea7|_0x1335c0[0x7e3*-0x3+-0x12fd+0x2ac9],_0x5ccf41[_0x2d1d3b*(-0x31*-0x23+0x1*0x17b9+-0x1e68)+(-0x14a4+-0x25f8+0x3a9d)]=_0x1335c0[-0x1*-0x25b1+0x17fb+-0x7b1*0x8]<<-0x1*-0x931+-0x1153+0x837|_0x1335c0[-0x567*-0x3+-0x135+-0xedb]<<0x1*-0x2083+0x1*-0x92f+0x29bd|_0x1335c0[0x1801+0x111e+-0x28f9*0x1],_0x5ccf41[_0x2d1d3b*(0x278+0xa38+0x656*-0x2)+(-0x653*0x4+0x1121+0x82d)]=_0x1335c0[0x20fd+-0x9e5*0x1+-0x16f1]<<0x844+-0x27+-0x1*0x808|_0x1335c0[-0x22b+0x6ea*-0x1+0x93d]<<0x73d+-0x18c+-0x5a6|_0x1335c0[-0x499+0x3bf*-0x4+0x13be],_0x5ccf41[_0x2d1d3b*(0x9*-0x133+-0x1ff6+0x1*0x2ac5)+(-0x20cd+0x1e6a+0x266)]=_0x1335c0[-0x1*-0x1d1f+-0x15f5+-0x380*0x2]<<0x54d*-0x1+-0x22c6*-0x1+-0x2*0xeb2|_0x1335c0[0x762+0x254f*0x1+-0x2c86]<<0x6*0x18f+-0xb*0x35f+0x1bc6|_0x1335c0[-0xca6*0x1+-0x220d+0x2edf]):_0x5f15da[_0x2d1d3b]=_0x1335c0[0x61*0x41+0x9bb+-0x2247]<<-0x12e*0x14+0x1*-0x1732+0xa9*0x47|_0x1335c0[-0x945+-0x2406+0x2d61]<<-0x1764+-0x907*-0x1+0xe68|_0x1335c0[0x2351+-0x1ec7*-0x1+-0x4201]);}}return{'sh1to3Data':_0x1f14af,'sh4to7Data':_0x397d25,'sh8to11Data':_0x5f15da,'sh12to15Data':_0x5ccf41};},_0x21bfa1=_0x18a829=>{if(!_0xd22d9d['time_index'])return;const _0x15bf58=_0xd22d9d['time_index']['findIndex'](_0x4237b8=>_0x4237b8===_0x18a829);let _0x4d8d00=_0xd22d9d['time_index']['findIndex']((_0x447872,_0x30fb61)=>_0x447872!==_0x18a829&&_0x30fb61>_0x15bf58);if(_0x4d8d00===-(-0x1a2*0x9+-0x199e+0x2851)&&_0x15bf58===-(-0x56*-0x1b+-0xcee+0x3dd))return;_0x4d8d00===-(-0x2053+0x804+-0x2*-0xc28)&&_0x15bf58!==-(0xd*0x2a1+-0x1b89*0x1+0x6a3*-0x1)&&(_0x4d8d00=_0xd22d9d['time_index']['length']),_0x4c4115-=_0x4d8d00-_0x15bf58,console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedDataWor'+'ker\x20releas'+'eSeqData\x20n'+'umSplats',_0x4c4115,_0x4d8d00-_0x15bf58);const _0x29f0cd=Object['keys'](_0xd22d9d);for(let _0x56894c=0x7e7*-0x2+0x4f*0x12+0xa40;_0x56894c<_0x29f0cd['length'];_0x56894c++){const _0x40975d=_0x29f0cd[_0x56894c],_0x3f435d=_0xd22d9d[_0x40975d];if(_0x3f435d){let _0x7049e8=0x1b*0xfd+0x16a4+0x18a9*-0x2;switch(_0x40975d){case'position':_0x7049e8=0x2ae+-0x20e5+0x1e3a;break;case'color_opac'+'ity':_0x7049e8=0x236e+-0x1d3b+-0x62f;break;case'scale':_0x7049e8=0x1503+-0x1*-0x18c1+-0x2dc1;break;case'motion':_0x7049e8=0xa2b+0x1*0xdf3+-0x181b;break;case'rotation':_0x7049e8=-0x9f8+0xb*-0x2af+0x2780;break;default:_0x7049e8=-0x2175+-0x3b*-0x58+0xd2e;break;}const _0x558de2=new Float32Array(_0x4c4115*_0x7049e8);_0x15bf58>0xfdb+-0x3*0x327+-0x111*0x6?(_0x558de2['set'](_0x3f435d['subarray'](0x1c*0x62+0xe*0xef+-0x23*0xae,_0x15bf58*_0x7049e8),-0xf9f+-0xcee+0x1c8d),_0x558de2['set'](_0x3f435d['subarray'](_0x4d8d00*_0x7049e8),_0x15bf58*_0x7049e8)):_0x558de2['set'](_0x3f435d['subarray'](_0x4d8d00*_0x7049e8),-0x18c0+-0x1*-0x14fa+0x3c6),_0xd22d9d[_0x40975d]=_0x558de2;}}},_0xb8c871=()=>{const _0x1c2814=Object['keys'](_0xd22d9d);for(let _0x4e3bfd=-0x150*-0x11+0x28*-0xb+-0x1498;_0x4e3bfd<_0x1c2814['length'];_0x4e3bfd++){const _0xda4a61=_0x1c2814[_0x4e3bfd];_0xd22d9d[_0xda4a61]&&(_0xd22d9d[_0xda4a61]=[]);}},_0x59bd35=()=>{_0xd22d9d={},_0x4c4115=0xe26*0x2+-0x1*0x26b5+0xa69;};}class JA extends me{constructor(){super(),this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+QA['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}async['appendGSpl'+'atData'](_0x50f7ad,_0x2f4202,_0x393c4c,_0x2d526b=!(-0xe3+-0xc4b+0x4b*0x2d)){var _0x54bfcd,_0x430a4d;const _0x3e3c82={};return _0x50f7ad['elements'][-0x4*0x65d+0x718+-0x2f*-0x64]['properties']['forEach'](_0x45a3e4=>{_0x3e3c82[_0x45a3e4['name']]=_0x45a3e4['storage'];}),_0x2d526b?(_0x54bfcd=this['worker'])==null||_0x54bfcd['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x3e3c82,'timeIndex':_0x2f4202,'timeOption':_0x393c4c},_0x50f7ad['elements'][-0x1*0x202a+0x6f0+0x2*0xc9d]['properties']['map'](_0x2d87d0=>_0x2d87d0['storage']['buffer'])):(_0x430a4d=this['worker'])==null||_0x430a4d['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x3e3c82,'timeIndex':_0x2f4202,'timeOption':_0x393c4c}),new Promise(_0x17f0a5=>{this['worker']['onmessage']=_0xab1378=>{if(!this['worker'])return;const {data:_0x29a3e1}=_0xab1378;_0x29a3e1['type']==='newAppendD'+'ata'&&_0x17f0a5(_0x29a3e1);};});}async['releaseSeq'+'Data'](_0x53e9df){var _0x382b7c;(_0x382b7c=this['worker'])==null||_0x382b7c['postMessag'+'e']({'type':'releaseSeq'+'Data','index':_0x53e9df});}async['releaseAll'+'SeqData'](){var _0x32dad8;(_0x32dad8=this['worker'])==null||_0x32dad8['postMessag'+'e']({'type':'releaseAll'+'SeqData'});}['destroy'](){var _0x2125b5;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x2125b5=this['worker'])==null||_0x2125b5['terminate'](),this['worker']=null);}}const gc=new te(),gg=new le(),eC=new ie(0x139*-0x2+0x322*-0xb+0x24e9,-0xd48+0x73*0x4f+-0x1634,0x1e5+0x6*-0x47b+0x1*0x18fd,0x5*0x12c+-0x827*-0x2+-0x1*0x162a+0.4),Sg=0x562c5*0x1+0x3*0x699+-0x26950;class tC{constructor(_0x4cc260,_0x2a4edb,_0x185611,_0x583142,_0x54cad2,_0x2dadc9){const _0x55703f=_0x4cc260['getProp']('position'),_0x4df72e=_0x4cc260['getProp']('color_opac'+'ity'),_0x303bd9=_0x4cc260['getProp']('scale'),_0x1251e2=_0x4cc260['getProp']('motion'),_0x287c3d=_0x4cc260['getProp']('rotation');this['read']=_0x4ea044=>{_0x2a4edb&&_0x2a4edb['set'](_0x55703f[_0x4ea044*(0xf*0x51+0x11*0x242+-0x158f*0x2)+(-0x1be*-0x13+0x18f3+-0x3a0d)],_0x55703f[_0x4ea044*(0xd94+0x25f3+-0x2*0x19c2)+(-0x1af*0x11+-0x172+0x1e12)],_0x55703f[_0x4ea044*(0xc85+-0x20*-0x28+-0x1182)+(0x19ad+-0x43*-0x75+-0x51e*0xb)]),_0x185611&&_0x185611['set'](_0x287c3d[_0x4ea044*(-0x407*-0x1+0x17ad+-0x3*0x93b)+(-0x3f*0x2f+-0x54e+-0x1*-0x10df)],_0x287c3d[_0x4ea044*(0x20bf+-0x1*0x1901+-0x7bb)+(-0x98b+0x161b*-0x1+-0x6f*-0x49)],_0x287c3d[_0x4ea044*(-0x47*-0x21+-0xa9*0x26+0x2*0x7f9)+(0xb7e+0x1f14+-0x2a90)]),_0x583142&&_0x583142['set'](_0x303bd9[_0x4ea044*(-0xe65+0x9a*0x37+-0x2*0x957)+(0x1617+-0x1d05+0x6ee)],_0x303bd9[_0x4ea044*(-0x1ff6+0x1*-0x1d7d+0x3d76)+(-0x1004+-0x1*0x1a9a+-0x1*-0x2a9f)],_0x303bd9[_0x4ea044*(0x49*0x67+-0x1328+-0xa34)+(-0x64c+0x194e*-0x1+0x1f9c)]),_0x2dadc9&&_0x1251e2&&_0x2dadc9['set'](_0x1251e2[_0x4ea044*(-0x1b51+-0x587+0x287*0xd)+(0x48a*0x2+0x4a9*0x4+-0x1bb8)],_0x1251e2[_0x4ea044*(-0x1548*0x1+0x13*-0x180+0x31cb)+(0x1f50+-0x33*0xb+-0x2*0xe8f)],_0x1251e2[_0x4ea044*(0xe28+0xbbd*0x1+-0x1*0x19e2)+(-0x1*0x15d7+0x37*-0x8d+0x3424)]),_0x54cad2&&_0x54cad2['set'](_0x4df72e[_0x4ea044*(0x7*-0x33d+0x1a1c+-0x36d)+(-0x21fd+0x1*-0x1015+-0x1*-0x3212)],_0x4df72e[_0x4ea044*(-0x22a4+0x916+0x1992)+(0x20f0+-0xb*0x149+-0x12cc)],_0x4df72e[_0x4ea044*(-0x124*0x4+-0x1961+0x1*0x1df5)+(0x20e4+-0x2*-0x50e+-0x1*0x2afe)],_0x4df72e[_0x4ea044*(-0x1*-0x69d+-0x1*-0x1da8+-0x2441)+(-0x1*-0x2549+-0x1*-0x1223+-0x1*0x3769)]);};}}const sC=(_0x1047e3,_0x5320a7,_0x4987e7)=>{gg['set'](_0x4987e7['x'],_0x4987e7['y'],_0x4987e7['z'],_0x4987e7['w'])['normalize'](),_0x1047e3['setTRS'](_0x5320a7,gg,D['ONE']);};class iC{constructor(_0xa53d89,_0x244f6a=[],_0x1d9b5d=[]){h(this,'elements'),h(this,'properties'),h(this,'numSplats',0x259*-0xd+-0xbe*-0x33+-0x755),h(this,'comments'),h(this,'is4D'),h(this,'dataWorker'),h(this,'destroy',()=>{var _0x51e5a2;(_0x51e5a2=this['dataWorker'])==null||_0x51e5a2['destroy'](),this['dataWorker']=null;});var _0x4ff07b,_0x14d8cf,_0x3868b5;this['elements']=_0xa53d89,this['properties']=_0x1d9b5d,this['numSplats']=((_0x4ff07b=this['getElement']('vertex'))==null?void(0x3*-0x341+-0x17e*-0x4+0x3cb*0x1):_0x4ff07b['count'])??0x3*-0x649+0x1ffb+-0xd20,this['comments']=_0x244f6a,this['is4D']=!!((_0x3868b5=(_0x14d8cf=this['getElement']('vertex'))==null?void(-0x2618+-0x1c6*-0x2+0xc*0x2e1):_0x14d8cf['properties']['find'](_0x49f5c4=>_0x49f5c4['name']==='t'))!=null&&_0x3868b5['storage']);}async['appendGSpl'+'atData'](_0x1e1375,_0x498724,_0xeeaea9){var _0xd81656;let _0x153733=0x3*0xa6c+-0x7*0x18+0x2*-0xf4e;for(let _0x3c8d8c=0x52e*-0x4+0x567+0xf51;_0x3c8d8c<_0xeeaea9['length']&&_0x498724>_0xeeaea9[_0x3c8d8c];_0x3c8d8c+=-0x13eb+0x3*0x351+0x9fa)_0x153733=_0x3c8d8c/(-0x129f+-0x1*0x829+-0x2fa*-0x9);this['dataWorker']||(this['dataWorker']=new JA(),await this['dataWorker']['appendGSpl'+'atData'](this,-0x10*0x149+0x1ba4+-0x714,_0xeeaea9));const _0x3a4391=this['getElement']('vertex');_0x3a4391&&(_0x3a4391['count']=this['numSplats']);const _0x53e011=await this['dataWorker']['appendGSpl'+'atData'](_0x1e1375,_0x153733,_0xeeaea9,!(-0x2c*-0x3b+0x1*0x14a3+-0x1ec7)),_0xb08038=_0x53e011['properties'],_0x296e28=((_0xd81656=this['getElement']('vertex'))==null?void(-0x1*0x1be5+-0x48f*-0x4+0x9a9):_0xd81656['properties'])??[];for(const _0x91626d in _0xb08038){const _0x31a6ed=_0x296e28['find'](_0x1db2a7=>_0x1db2a7['name']===_0x91626d);_0x31a6ed?_0x31a6ed['storage']=_0xb08038[_0x91626d]:_0x296e28['push']({'type':'float','name':_0x91626d,'storage':_0xb08038[_0x91626d],'byteSize':0x4});}this['transformD'+'ata']=_0x53e011['transformD'+'ata'],this['numSplats']=_0xb08038['position']['length']/(0x453*-0x9+0x15a6+-0x8a4*-0x2);}async['releaseSeq'+'Data'](_0x351c76){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedData\x20re'+'leaseSeqDa'+'ta',_0x351c76),this['dataWorker']['releaseSeq'+'Data'](_0x351c76),this;}async['releaseAll'+'SeqData'](){var _0x5762a6;return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedData\x20re'+'lease\x20all\x20'+'SeqData'),(_0x5762a6=this['dataWorker'])==null||_0x5762a6['releaseAll'+'SeqData'](),this;}['getProp'](_0x39c351,_0x6d156d='vertex'){var _0x1ec780,_0x3d83e6;return(_0x3d83e6=(_0x1ec780=this['getElement'](_0x6d156d))==null?void(-0x17d3+0x3*-0xc55+0x3cd2):_0x1ec780['properties']['find'](_0x3a2f00=>_0x3a2f00['name']===_0x39c351))==null?void(-0x1429+0xf6f*0x1+-0xf2*-0x5):_0x3d83e6['storage'];}['getElement'](_0x4f4618){return this['elements']['find'](_0x2d252e=>_0x2d252e['name']===_0x4f4618);}['createIter'](_0x3bbfd4,_0x3715bf,_0x457657,_0x5a0686,_0x40f3c2){return new tC(this,_0x3bbfd4,_0x3715bf,_0x457657,_0x5a0686,_0x40f3c2);}['calcAabb'](_0x1e8f8b,_0x605a30){let _0x15279d=-0x2559+0xad1+0x1a88,_0x97a41e=-0xa33*0x3+-0x24a5+0x433e,_0x399c24=0xa58*0x1+-0x1*0xcf1+0x85*0x5,_0xa11049=-0x1f*0x7+-0xd*-0x179+-0x124c,_0x54cc0e=0x1ff*0x2+0x5c*-0x5d+0x1d6e,_0x2ac1e9=-0x1a7d*0x1+0x17e7+-0x296*-0x1,_0x2cde65=!(-0x2*0xaad+0xd4c+0x80e);const _0x2ab1da=this['getProp']('position'),_0x26c0a1=this['getProp']('scale');for(let _0x2bf2eb=-0x125d+0x11*-0x1cd+0x30fa;_0x2bf2eb<this['numSplats'];++_0x2bf2eb){if(_0x605a30&&!_0x605a30(_0x2bf2eb))continue;const _0x227349=_0x2ab1da[_0x2bf2eb*(-0x3d*0xe+0x1*-0x1ebd+0x2*0x110b)+(-0x2*0x837+-0x221e+0x328c)],_0x27a205=_0x2ab1da[_0x2bf2eb*(0x1*0x2299+-0x5b*-0x65+-0x177f*0x3)+(0x15+0x7*-0x3b2+0x19ca)],_0x349f87=_0x2ab1da[_0x2bf2eb*(0x11af+-0x427*-0x1+-0x97*0x25)+(0x26e7*0x1+0x2087+0x28d*-0x1c)],_0x19014f=Math['max'](_0x26c0a1[_0x2bf2eb*(0x2c*-0xad+0x1b76+0x5*0x75)+(-0x78e*0x1+-0x11a7*0x1+0x1935)],_0x26c0a1[_0x2bf2eb*(-0x24a*-0xb+-0x3*-0x335+-0x49*0x7a)+(0xa1b+0x2a7*-0x1+-0x1*0x773)],_0x26c0a1[_0x2bf2eb*(-0x2a*-0x70+-0x219*-0x4+-0x1ac1)+(-0x1*-0x2e4+-0x1*-0xa1c+-0xcfe)]);if(!isFinite(_0x227349)||!isFinite(_0x27a205)||!isFinite(_0x349f87)||!isFinite(_0x19014f))continue;const _0x5161d5=(-0x252e+0x17e7+0xd49*0x1)*Math['exp'](_0x19014f);_0x2cde65?(_0x2cde65=!(0xb17+-0x1c67+-0xd*-0x155),_0x15279d=_0x227349-_0x5161d5,_0x97a41e=_0x27a205-_0x5161d5,_0x399c24=_0x349f87-_0x5161d5,_0xa11049=_0x227349+_0x5161d5,_0x54cc0e=_0x27a205+_0x5161d5,_0x2ac1e9=_0x349f87+_0x5161d5):(_0x15279d=Math['min'](_0x15279d,_0x227349-_0x5161d5),_0x97a41e=Math['min'](_0x97a41e,_0x27a205-_0x5161d5),_0x399c24=Math['min'](_0x399c24,_0x349f87-_0x5161d5),_0xa11049=Math['max'](_0xa11049,_0x227349+_0x5161d5),_0x54cc0e=Math['max'](_0x54cc0e,_0x27a205+_0x5161d5),_0x2ac1e9=Math['max'](_0x2ac1e9,_0x349f87+_0x5161d5));}return _0x2cde65||(_0x1e8f8b['center']['set']((_0x15279d+_0xa11049)*(-0x1d29*-0x1+0x6b0+-0x23d9+0.5),(_0x97a41e+_0x54cc0e)*(-0x801*0x2+-0x21f5+0x31f7+0.5),(_0x399c24+_0x2ac1e9)*(0x11d1*-0x1+-0x1fc*0x10+0x3191+0.5)),_0x1e8f8b['halfExtent'+'s']['set']((_0xa11049-_0x15279d)*(-0x1973+0x215c+-0x7e9+0.5),(_0x54cc0e-_0x97a41e)*(0x6d*-0x57+0x17fc+0xd0f+0.5),(_0x2ac1e9-_0x399c24)*(-0x1108+0x127a+-0x172*0x1+0.5))),!_0x2cde65;}['yieldToMai'+'n'](){var _0x25a500;return(_0x25a500=globalThis['scheduler'])!=null&&_0x25a500['yield']?globalThis['scheduler']['yield']():new Promise(_0x1b75af=>{setTimeout(_0x1b75af,0x127a+0xaa8+-0x1d22);});}async['getCenters'](_0x47d2c8){const _0x30866e=this['getProp']('x'),_0x3aeaf9=this['getProp']('y'),_0x10a3b2=this['getProp']('z');for(let _0x518726=-0x269f+0x3*-0x2f3+0x2f78;_0x518726<this['numSplats'];++_0x518726)_0x47d2c8[_0x518726*(-0xdb2*-0x1+0x260e+-0x33bd)+(-0x35*0x4f+-0x818+0x1873)]=_0x30866e[_0x518726],_0x47d2c8[_0x518726*(0x1eea+0x2*0x111+-0x2109)+(0x1*0x2687+0x30c+-0x2992)]=_0x3aeaf9[_0x518726],_0x47d2c8[_0x518726*(-0x19e4*-0x1+-0x23c8+0x1fb*0x5)+(0x52a+0x156b*-0x1+0x17*0xb5)]=_0x10a3b2[_0x518726],_0x518726%Sg===0xce*0x1d+-0x17ab*0x1+0x55&&await this['yieldToMai'+'n']();}async['getMuT'](){var _0x4a6f3f;if((_0x4a6f3f=this['transformD'+'ata'])!=null&&_0x4a6f3f['muT'])return this['transformD'+'ata']['muT'];const _0x279284=this['getProp']('t');return _0x279284?new Float32Array(_0x279284):void(-0x1*-0x65+0x3*-0x48f+-0x5*-0x2a8);}async['getTScale'](){const _0x414e83=this['getProp']('t_scale');if(!_0x414e83)return;const _0x7378fe=new Float32Array(this['numSplats']);for(let _0x4d2845=0x8d7*-0x1+-0x7*-0x9d+0x48c;_0x4d2845<this['numSplats'];++_0x4d2845)_0x7378fe[_0x4d2845]=Math['exp'](_0x414e83[_0x4d2845]),_0x4d2845%Sg===0x1bd1+-0x63a*-0x4+-0x21*0x199&&await this['yieldToMai'+'n']();return _0x7378fe;}['getMotion'](_0x2efef6){const _0x3ab6dd=this['getProp']('motion');_0x3ab6dd&&new Float32Array(_0x3ab6dd['buffer']['slice']());}['getTimeInd'+'ex'](){var _0x2b5c26;if((_0x2b5c26=this['transformD'+'ata'])!=null&&_0x2b5c26['timeIndex'])return this['transformD'+'ata']['timeIndex'];const _0x33c923=this['getProp']('time_index');if(_0x33c923)return new Float32Array(_0x33c923);}['calcFocalP'+'oint'](_0x13a209,_0x45ae04){const _0x1a27e7=this['getProp']('position'),_0x18539c=this['getProp']('scale');_0x13a209['x']=-0x5c5+-0x1*-0x537+0x8e,_0x13a209['y']=0xc1*-0x1b+0x8db*0x2+-0x1*-0x2a5,_0x13a209['z']=0x3d7+-0x853+-0x47c*-0x1;let _0x3c8d66=-0x241d+-0x22e9+-0x1*-0x4706;for(let _0x4d7e7a=-0x206f*-0x1+-0x224e*0x1+0x1*0x1df;_0x4d7e7a<this['numSplats'];++_0x4d7e7a){if(_0x45ae04&&!_0x45ae04(_0x4d7e7a))continue;const _0x2ce707=_0x1a27e7[_0x4d7e7a*(0x1265+0x261+-0x14c3)+(0x12b2+0xb14+-0x1dc6)],_0x5bce22=_0x1a27e7[_0x4d7e7a*(-0xb3*-0x8+-0x1ee3*0x1+0x194e)+(0xa00+-0x1*0x17c5+0xdc6)],_0x33dfd5=_0x1a27e7[_0x4d7e7a*(0x25*-0x9b+0x1*-0x17c8+0xa2*0x49)+(0x1*0x202a+0xfea+-0x3*0x1006)];if(!isFinite(_0x2ce707)||!isFinite(_0x5bce22)||!isFinite(_0x33dfd5))continue;const _0x2d1755=(-0x1235+-0x39a+0x15d0)/(0xd2a+-0xce*0x30+0x1977+Math['max'](_0x18539c[_0x4d7e7a*(0x1*-0x2299+-0xb32*-0x2+-0xc38*-0x1)+(-0xd*0xdb+0x3d0*-0x4+0x1a5f)],_0x18539c[_0x4d7e7a*(0x2011*-0x1+0x1aca+0x54a)+(-0xacc*-0x1+-0x136*-0x1f+0x1*-0x3055)],_0x18539c[_0x4d7e7a*(-0xaaf+0x675+0x43d)+(0x15c3+-0xb*0x305+0x12*0xa3)]));_0x13a209['x']+=_0x2ce707*_0x2d1755,_0x13a209['y']+=_0x5bce22*_0x2d1755,_0x13a209['z']+=_0x33dfd5*_0x2d1755,_0x3c8d66+=_0x2d1755;}_0x13a209['mulScalar']((-0x2*0xdfd+0x1135+0xac6)/_0x3c8d66);}['renderWire'+'frameBound'+'s'](_0x5d3c09,_0x92a9da){const _0x109531=new D(),_0x446c4f=new le(),_0x51acdf=new D(),_0xd33591=new D(),_0x18709a=new D(),_0x3880cb=this['createIter'](_0x109531,_0x446c4f,_0x51acdf);for(let _0x2b11a8=-0x3b*0x16+-0x184d+0x1d5f;_0x2b11a8<this['numSplats'];++_0x2b11a8)_0x3880cb['read'](_0x2b11a8),sC(gc,_0x109531,_0x446c4f),gc['mul2'](_0x92a9da,gc),_0xd33591['set'](_0x51acdf['x']*-(-0x3d1+-0x1*-0xbd7+0x1b*-0x4c),_0x51acdf['y']*-(-0x3*-0x50a+-0x239f+0x1483),_0x51acdf['z']*-(-0x16*0x101+0x12c5+0x353)),_0x18709a['set'](_0x51acdf['x']*(-0xe74+0x1809+-0x2b*0x39),_0x51acdf['y']*(0x1*-0x2342+-0x9*0x54+0x2638),_0x51acdf['z']*(0x803+0x1d31*0x1+-0x2532)),_0x5d3c09['immediate']['drawWireAl'+'ignedBox'](_0xd33591,_0x18709a,eC,!(-0xfdd+-0x23+0x1000),_0x5d3c09['defaultDra'+'wLayer'],gc);}get['isCompress'+'ed'](){return!(-0x120b*0x1+-0x5f*0x5d+-0x73*-0x75);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x776513=0xb*0x1c7+0x1657+0x4*-0xa79;_0x776513<-0x2*0x12f2+0x1f58+-0x1*-0x6b9;++_0x776513)if(!this['getProp']('f_rest_'+_0x776513))return _0x776513;return-0x134a*0x1+0xc94+0x29*0x2b;})())]??0x52*0x66+0x1b6f+-0x1*0x3c1b;}['calcMorton'+'Order'](){const _0x4776c0=_0x1079ab=>{let _0x32a595=_0x1079ab[0x21ac+0x6a5+0x1*-0x2851],_0x2918bc=_0x1079ab[-0xce4+0x1*0x2285+-0x15a1];for(let _0x16df6f=-0x110e+-0x55*-0x61+0x115*-0xe;_0x16df6f<_0x1079ab['length'];_0x16df6f++)_0x1079ab[_0x16df6f]<_0x32a595&&(_0x32a595=_0x1079ab[_0x16df6f]),_0x1079ab[_0x16df6f]>_0x2918bc&&(_0x2918bc=_0x1079ab[_0x16df6f]);return{'min':_0x32a595,'max':_0x2918bc};},_0x16de65=(_0x547b0c,_0x501794,_0x389ae0)=>{const _0x41a60a=_0x40c8f9=>(_0x40c8f9&=0xb76+0x1f70+-0x26e7,_0x40c8f9=(_0x40c8f9^_0x40c8f9<<0x1a9*-0x5+0x1*-0x202d+-0x1445*-0x2)&0x952b068f+-0x1559efcd1+-0x6bc257*-0x427,_0x40c8f9=(_0x40c8f9^_0x40c8f9<<-0x10d3+0xdf4*0x1+0x2e7)&0x527d1ba+0x1fa50d8+-0x4213283,_0x40c8f9=(_0x40c8f9^_0x40c8f9<<0x3cb*-0x5+0x7b6*-0x1+0x1*0x1ab1)&-0x2ea433+-0xf931*0x52f+-0x84689f5*-0x1,_0x40c8f9=(_0x40c8f9^_0x40c8f9<<0x550+-0x19ea+0x149c)&-0x2f*0x30aeb5+0x2ff*-0x3401+0x12b07483,_0x40c8f9);return(_0x41a60a(_0x389ae0)<<0x5*-0x1c5+-0xd9a+-0x1675*-0x1)+(_0x41a60a(_0x501794)<<0x2c4*-0x7+0x2419+-0x1dc*0x9)+_0x41a60a(_0x547b0c);},_0xd59e5=this['getProp']('x'),_0x417439=this['getProp']('y'),_0x3d38c9=this['getProp']('z'),{min:_0x4d9302,max:_0x3cd348}=_0x4776c0(_0xd59e5),{min:_0x329c8c,max:_0x6fbdf3}=_0x4776c0(_0x417439),{min:_0x52246e,max:_0x1b498f}=_0x4776c0(_0x3d38c9),_0xd25fce=_0x4d9302===_0x3cd348?0x1*-0xee5+0x25*0x20+0xb*0xef:(0x27*-0xdf+0x2368+0xdb*0x3)/(_0x3cd348-_0x4d9302),_0x2e427e=_0x329c8c===_0x6fbdf3?-0x1b*-0x6b+0x5f1*-0x5+0x126c:(0xf12*-0x1+-0xedb*0x2+-0x1*-0x30c8)/(_0x6fbdf3-_0x329c8c),_0x2e52d1=_0x52246e===_0x1b498f?0x13d+0x2237+-0x2*0x11ba:(0x4d0+-0x2c6+0x2*0xfb)/(_0x1b498f-_0x52246e),_0x14c4ab=new Map();for(let _0xba7a2f=-0x1e47+0x1d3*0x5+0x1528;_0xba7a2f<this['numSplats'];_0xba7a2f++){const _0x5dc57b=Math['min'](0x19e7+-0x125*0x9+-0xb9b,Math['floor']((_0xd59e5[_0xba7a2f]-_0x4d9302)*_0xd25fce)),_0x33b340=Math['min'](-0xf*0x119+-0x2033*-0x1+-0xbbd,Math['floor']((_0x417439[_0xba7a2f]-_0x329c8c)*_0x2e427e)),_0xf263d0=Math['min'](0x17*0x6f+-0x5f1+-0x9,Math['floor']((_0x3d38c9[_0xba7a2f]-_0x52246e)*_0x2e52d1)),_0x422fd3=_0x16de65(_0x5dc57b,_0x33b340,_0xf263d0),_0x538ee3=_0x14c4ab['get'](_0x422fd3);_0x538ee3?_0x538ee3['push'](_0xba7a2f):_0x14c4ab['set'](_0x422fd3,[_0xba7a2f]);}const _0x43df03=Array['from'](_0x14c4ab['keys']())['sort']((_0x4d74e8,_0x13e9f9)=>_0x4d74e8-_0x13e9f9),_0x195bb3=new Uint32Array(this['numSplats']);let _0x4ef7a9=0x1*-0x19fd+0x2122*0x1+-0x725;for(let _0x3e425c=0x34*-0xbd+-0x72b*0x1+0x2d8f;_0x3e425c<_0x43df03['length'];++_0x3e425c){const _0x49702f=_0x14c4ab['get'](_0x43df03[_0x3e425c]);for(let _0x3c18de=0xb3d+-0x11*-0x137+-0x1fe4;_0x3c18de<_0x49702f['length'];++_0x3c18de)_0x195bb3[_0x4ef7a9++]=_0x49702f[_0x3c18de];}return _0x195bb3;}['reorder'](_0x36b957){const _0x131752=new Map(),_0x11fb7b=_0x5c826d=>{if(_0x131752['has'](_0x5c826d)){const _0x5d1629=_0x131752['get'](_0x5c826d);return _0x131752['delete'](_0x5c826d),_0x5d1629;}return new ArrayBuffer(_0x5c826d);},_0x3a3a9d=_0x1de83f=>{_0x131752['set'](_0x1de83f['byteLength'],_0x1de83f);},_0xcf9630=_0x2dcaba=>{const _0x33a66f=new _0x2dcaba['constructo'+'r'](_0x11fb7b(_0x2dcaba['byteLength']));for(let _0xbba2eb=0x2657+0x1d25+0x7*-0x9a4;_0xbba2eb<_0x36b957['length'];_0xbba2eb++)_0x33a66f[_0xbba2eb]=_0x2dcaba[_0x36b957[_0xbba2eb]];return _0x3a3a9d(_0x2dcaba['buffer']),_0x33a66f;};this['elements']['forEach'](_0x3c60cb=>{_0x3c60cb['properties']['forEach'](_0x449a70=>{_0x449a70['storage']&&(_0x449a70['storage']=_0xcf9630(_0x449a70['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}const rC='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20void\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(vert'+'ex_positio'+'n,\x200.0,\x201.'+'0);\x0a\x20\x20\x20\x20}\x0a',aC='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tEvalSHVS\x22'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'akes\x20a\x20nor'+'malized\x203-'+'component\x20'+'value,\x20con'+'vert\x20to\x20(1'+'1,\x2011,\x2010)'+'\x20bit\x20range'+'\x20and\x0a\x20\x20\x20\x20/'+'/\x20then\x20pac'+'kage\x20into\x20'+'RGBA8\x0a\x20\x20\x20\x20'+'vec4\x20packR'+'gb(vec3\x20v)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uvec3\x20vb\x20'+'=\x20uvec3(cl'+'amp(v,\x20vec'+'3(0.0),\x20ve'+'c3(1.0))\x20*'+'\x20vec3(2047'+'.0,\x202047.0'+',\x201023.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uint\x20bits\x20'+'=\x20(vb.x\x20<<'+'\x2021)\x20|\x20(vb'+'.y\x20<<\x2010)\x20'+'|\x20vb.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4((u'+'vec4(bits)'+'\x20>>\x20uvec4('+'24,\x2016,\x208,'+'\x200))\x20&\x20uve'+'c4(0xff))\x20'+'/\x20vec4(255'+'.0);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20medium'+'p\x20vec3\x20dir'+';\x0a\x20\x20\x20\x20unif'+'orm\x20medium'+'p\x20sampler2'+'D\x20centroid'+'s;\x0a\x20\x20\x20\x20uni'+'form\x20mediu'+'mp\x20float\x20s'+'hN_mins;\x0a\x20'+'\x20\x20\x20uniform'+'\x20mediump\x20f'+'loat\x20shN_m'+'axs;\x0a\x0a\x20\x20\x20\x20'+'void\x20main('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20ivec'+'2\x20uv\x20=\x20ive'+'c2(gl_Frag'+'Coord.xy)\x20'+'*\x20ivec2(SH'+'_COEFFS,\x201'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20mediump\x20v'+'ec3\x20coeffi'+'cients[SH_'+'COEFFS];\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20read\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20for'+'\x20(int\x20i\x20=\x20'+'0;\x20i\x20<\x20SH_'+'COEFFS;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20s\x20=\x20texe'+'lFetch(cen'+'troids,\x20iv'+'ec2(uv.x\x20+'+'\x20i,\x20uv.y),'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20coefficie'+'nts[i]\x20=\x20m'+'ix(vec3(sh'+'N_mins),\x20v'+'ec3(shN_ma'+'xs),\x20s);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20evaluate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20packRgb'+'(evalSH(co'+'efficients'+',\x20dir)\x20*\x200'+('.25\x20+\x200.5)'+';\x0a\x20\x20\x20\x20}\x0a'),nC='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20@vertex'+'\x0a\x20\x20\x20\x20fn\x20ve'+'rtexMain(i'+'nput:\x20Vert'+'exInput)\x20-'+'>\x20VertexOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utput:\x20Ver'+'texOutput;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(vertex_'+'position,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20}\x0a',oC='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tEvalSHVS\x22'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'akes\x20a\x20nor'+'malized\x203-'+'component\x20'+'value,\x20con'+'vert\x20to\x20(1'+'1,\x2011,\x2010)'+'\x20bit\x20range'+'\x20and\x0a\x20\x20\x20\x20/'+'/\x20then\x20pac'+'kage\x20into\x20'+'RGBA8\x0a\x20\x20\x20\x20'+'fn\x20packRgb'+'(v:\x20vec3f)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20vb\x20=\x20v'+'ec3u(clamp'+'(v,\x20vec3f('+'0.0),\x20vec3'+'f(1.0))\x20*\x20'+'vec3f(2047'+'.0,\x202047.0'+',\x201023.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20bits\x20='+'\x20dot(vb,\x20v'+'ec3u(1\x20<<\x20'+'21,\x201\x20<<\x201'+'0,\x201));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(('+'vec4u(bits'+')\x20>>\x20vec4u'+'(24,\x2016,\x208'+',\x200))\x20&\x20ve'+'c4u(0xff))'+'\x20/\x20vec4f(2'+'55.0);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20un'+'iform\x20dir:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20uniform\x20'+'shN_mins:\x20'+'f32;\x0a\x20\x20\x20\x20u'+'niform\x20shN'+'_maxs:\x20f32'+';\x0a\x0a\x20\x20\x20\x20var'+'\x20centroids'+':\x20texture_'+'2d<f32>;\x0a\x0a'+'\x20\x20\x20\x20@fragm'+'ent\x0a\x20\x20\x20\x20fn'+'\x20fragmentM'+'ain(input:'+'\x20FragmentI'+'nput)\x20->\x20F'+'ragmentOut'+'put\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20uv\x20=\x20'+'vec2i(inpu'+'t.position'+'.xy)\x20*\x20vec'+'2i(SH_COEF'+'FS,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'coefficien'+'ts:\x20array<'+'vec3f,\x20SH_'+'COEFFS>;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20read\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20for'+'\x20(var\x20i:\x20i'+'32\x20=\x200;\x20i\x20'+'<\x20SH_COEFF'+'S;\x20i++)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20s:\x20v'+'ec3f\x20=\x20tex'+'tureLoad(c'+'entroids,\x20'+'vec2i(uv.x'+'\x20+\x20i,\x20uv.y'+'),\x200).xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20coeffic'+'ients[i]\x20='+'\x20mix(vec3f'+'(uniform.s'+'hN_mins),\x20'+'vec3f(unif'+('orm.shN_ma'+'xs),\x20s);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20evaluate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.color'+'\x20=\x20packRgb'+'(evalSH(&c'+'oefficient'+'s,\x20uniform'+'.dir)\x20*\x200.'+'25\x20+\x200.5);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20out'+'put;\x0a\x20\x20\x20\x20}'+'\x0a'),lC='\x0a\x20\x20\x20\x20unifo'+'rm\x20mediump'+'\x20sampler2D'+'\x20sh0;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20sh_lab'+'els;\x0a\x20\x20\x20\x20u'+'niform\x20med'+'iump\x20sampl'+'er2D\x20sh_re'+'sult;\x0a\x0a\x20\x20\x20'+'\x20uniform\x20v'+'ec4\x20sh0_mi'+'ns;\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20sh0_maxs;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20SH_C0\x20=\x20'+'0.28209479'+'177387814;'+'\x0a\x0a\x20\x20\x20\x20//\x20u'+'npack\x2011,\x20'+'11,\x2010\x20nor'+'malized\x20va'+'lue\x20from\x20r'+'gba8\x20textu'+'re\x20sample\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackRgb(v'+'ec4\x20v)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uve'+'c4\x20uv\x20=\x20uv'+'ec4(v\x20*\x2025'+'5.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uint\x20b'+'its\x20=\x20(uv.'+'x\x20<<\x2024)\x20|'+'\x20(uv.y\x20<<\x20'+'16)\x20|\x20(uv.'+'z\x20<<\x208)\x20|\x20'+'uv.w;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uvec3\x20'+'vb\x20=\x20(uvec'+'3(bits)\x20>>'+'\x20uvec3(21,'+'\x2010,\x200))\x20&'+'\x20uvec3(0x7'+'ffu,\x200x7ff'+'u,\x200x3ffu)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'3(vb)\x20/\x20ve'+'c3(2047.0,'+'\x202047.0,\x201'+'023.0);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20readCo'+'lor(in\x20Spl'+'atSource\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'sample\x20bas'+'e\x20color\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20baseSampl'+'e\x20=\x20mix(sh'+'0_mins,\x20sh'+'0_maxs,\x20te'+'xelFetch(s'+'h0,\x20source'+'.uv,\x200));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20resolve\x20'+'base\x20color'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec4\x20base\x20='+'\x20vec4(vec3'+'(0.5)\x20+\x20ba'+'seSample.x'+'yz\x20*\x20SH_C0'+',\x201.0\x20/\x20(1'+'.0\x20+\x20exp(-'+'baseSample'+'.w)));\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20e'+'xtract\x20sph'+'erical\x20har'+'monics\x20pal'+'ette\x20index'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20label'+'Sample\x20=\x20i'+'vec2(texel'+'Fetch(sh_l'+'abels,\x20sou'+'rce.uv,\x200)'+'.xy\x20*\x20255.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20int\x20n\x20=\x20'+('labelSampl'+'e.x\x20+\x20labe'+'lSample.y\x20'+'*\x20256;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20shSample\x20'+'=\x20texelFet'+'ch(sh_resu'+'lt,\x20ivec2('+'n\x20%\x2064,\x20n\x20'+'/\x2064),\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20sh\x20=\x20('+'unpackRgb('+'shSample)\x20'+'-\x20vec3(0.5'+'))\x20*\x204.0;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vec4'+'(base.xyz\x20'+'+\x20sh,\x20base'+'.w);\x0a\x20\x20\x20\x20}'+'\x0a'),cC='\x0a\x20\x20\x20\x20var\x20s'+'h0:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20s'+'h_labels:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20sh_re'+'sult:\x20text'+'ure_2d<f32'+'>;\x0a\x0a\x20\x20\x20\x20un'+'iform\x20sh0_'+'mins:\x20vec4'+'f;\x0a\x20\x20\x20\x20uni'+'form\x20sh0_m'+'axs:\x20vec4f'+';\x0a\x0a\x20\x20\x20\x20con'+'st\x20SH_C0:\x20'+'f32\x20=\x200.28'+'2094791773'+'87814;\x0a\x0a\x20\x20'+'\x20\x20//\x20unpac'+'k\x2011,\x2011,\x20'+'10\x20normali'+'zed\x20value\x20'+'from\x20rgba8'+'\x20texture\x20s'+'ample\x0a\x20\x20\x20\x20'+'fn\x20unpackR'+'gb(v:\x20vec4'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20bits'+'\x20=\x20dot(vec'+'4u(v\x20*\x20255'+'.0),\x20vec4u'+'(1u\x20<<\x2024,'+'\x201u\x20<<\x2016,'+'\x201u\x20<<\x208,\x20'+'1u));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20vb'+'\x20=\x20(vec3u('+'bits)\x20>>\x20v'+'ec3u(21,\x201'+'0,\x200))\x20&\x20v'+'ec3u(0x7ff'+'u,\x200x7ffu,'+'\x200x3ffu);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec3f'+'(vb)\x20/\x20vec'+'3f(2047.0,'+'\x202047.0,\x201'+'023.0);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20f'+'n\x20readColo'+'r(source:\x20'+'ptr<functi'+'on,\x20SplatS'+'ource>)\x20->'+'\x20vec4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'sample\x20bas'+'e\x20color\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'baseSample'+':\x20vec4f\x20=\x20'+'mix(unifor'+'m.sh0_mins'+',\x20uniform.'+'sh0_maxs,\x20'+'textureLoa'+'d(sh0,\x20sou'+'rce.uv,\x200)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20base\x20'+'=\x20vec4f(ve'+'c3f(0.5)\x20+'+'\x20baseSampl'+'e.xyz\x20*\x20SH'+'_C0,\x201.0\x20/'+'\x20(1.0\x20+\x20ex'+'p(-baseSam'+'ple.w)));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20extract\x20'+'spherical\x20'+'harmonics\x20'+'palette\x20in'+'dex\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20labe'+'lSample:\x20v'+'ec2i\x20=\x20vec'+'2i(texture'+'Load(sh_la'+'bels,\x20sour'+'ce.uv,\x200).'+'xy\x20*\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20n\x20=\x20l'+('abelSample'+'.x\x20+\x20label'+'Sample.y\x20*'+'\x20256;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hSample:\x20v'+'ec4f\x20=\x20tex'+'tureLoad(s'+'h_result,\x20'+'vec2i(n\x20%\x20'+'64,\x20n\x20/\x2064'+'),\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'h:\x20vec3f\x20='+'\x20(unpackRg'+'b(shSample'+')\x20-\x20vec3f('+'0.5))\x20*\x204.'+'0;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20v'+'ec4f(base.'+'xyz\x20+\x20sh,\x20'+'base.w);\x0a\x20'+'\x20\x20\x20}\x0a'),hC=(_0x275057,_0x562470)=>{for(const _0x52d953 in _0x562470)_0x275057['resolve'](_0x52d953)['setValue'](_0x562470[_0x52d953]);};class dC extends ys{constructor(){super(...arguments),h(this,'executeCal'+'lback',null);}['execute'](){var _0x23ff2f;(_0x23ff2f=this['executeCal'+'lback'])==null||_0x23ff2f['call'](this);}}const yg=new te(),uo=new D();class fC{constructor(_0x6b94f,_0x394bba){h(this,'prevDir',new D()),h(this,'updateMode','enable'),(this['device']=_0x6b94f,this['gsplatInst'+'ance']=_0x394bba);const {resource:_0xd6c6e6}=_0x394bba,_0x45001a=new Map(Pe['get'](_0x6b94f,_0x6b94f['isWebGPU']?'wgsl':'glsl'));this['shader']=$t['createShad'+'er'](_0x6b94f,{'uniqueName':'gsplatReso'+'lveSH','vertexGLSL':rC,'fragmentGLSL':aC,'vertexWGSL':nC,'fragmentWGSL':oC,'vertexIncludes':_0x45001a,'fragmentIncludes':_0x45001a,'fragmentDefines':new Map([['SH_BANDS',_0xd6c6e6['gsplatData']['shBands']['toString']()]]),'attributes':{'vertex_position':Me}}),this['texture']=_0xd6c6e6['createText'+'ure']('centroids',Ne,new J(0x28f+-0x7c7*0x3+0xea*0x17,0x1684+-0x1322+0x9e)),this['renderTarg'+'et']=new gt({'colorBuffer':this['texture'],'depth':!(-0x2a5*0x8+-0x1*-0x20d9+-0xb0*0x11)}),this['renderPass']=new dC(_0x6b94f),this['renderPass']['init'](this['renderTarg'+'et'],{}),this['renderPass']['colorOps']['clear']=!(-0x1f20+-0x21be+0x40de),this['quadRender']=new Ah(this['shader']);const {material:_0x14b142}=_0x394bba;_0x14b142['setDefine']('SH_BANDS','0');const {shaderChunks:_0x5dd9c6}=_0x14b142;_0x5dd9c6['glsl']['set']('gsplatSogs'+'ColorVS',lC),_0x5dd9c6['wgsl']['set']('gsplatSogs'+'ColorVS',cC),_0x14b142['update'](),_0x6b94f['scope']['resolve']('sh_result')['setValue'](this['texture']);}['destroy'](){const {gsplatInstance:_0x2a2e11}=this,{material:_0x397407}=_0x2a2e11;_0x397407['setDefine']('SH_BANDS',_0x2a2e11['resource']['gsplatData']['shBands']['toString']());const {shaderChunks:_0x1e2c71}=_0x397407;_0x1e2c71['glsl']['delete']('gsplatSogs'+'ColorVS'),_0x1e2c71['wgsl']['delete']('gsplatSogs'+'ColorVS'),_0x397407['update'](),this['quadRender']['destroy'](),this['renderPass']['destroy'](),this['renderTarg'+'et']['destroy'](),this['texture']['destroy'](),this['shader']['destroy']();}['render'](_0x21cd70,_0x17d110){const {prevDir:_0x4f10c8,updateMode:_0x2aa451}=this;if(_0x2aa451==='disable'||(yg['invert'](_0x17d110),yg['transformV'+'ector'](_0x21cd70['forward'],uo),uo['normalize'](),_0x2aa451==='enable'&&uo['equalsAppr'+'ox'](_0x4f10c8,-0x7b0+-0xc6*0x13+0x1662+0.001)))return;_0x4f10c8['copy'](uo);const _0x45b6a7=()=>{const {device:_0x27100b}=this,{sh_centroids:_0x16ac98,meta:_0x3d3723}=this['gsplatInst'+'ance']['resource']['gsplatData'];hC(_0x27100b['scope'],{'dir':uo['toArray'](),'centroids':_0x16ac98,'shN_mins':_0x3d3723['shN']['mins'],'shN_maxs':_0x3d3723['shN']['maxs']}),_0x27100b['setCullMod'+'e'](bt),_0x27100b['setDepthSt'+'ate'](Yt['NODEPTH']),_0x27100b['setStencil'+'State'](null,null),_0x27100b['setBlendSt'+'ate'](pt['NOBLEND']),this['quadRender']['render']();};this['renderPass']['executeCal'+'lback']=_0x45b6a7,this['renderPass']['render']();}}const uC='\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20means_l'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20means_'+'u;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20quats'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20scales'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20sh_lab'+'els;\x0a\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20uint\x20n'+'umSplats;\x0a'+'\x0a\x20\x20\x20\x20uint\x20'+'packU32(ve'+'c4\x20v)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20uint(v.'+'x\x20*\x20255.0)'+'\x20<<\x2024u\x20|\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20uint('+'v.y\x20*\x20255.'+'0)\x20<<\x2016u\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uin'+'t(v.z\x20*\x2025'+'5.0)\x20<<\x208u'+'\x20|\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ui'+'nt(v.w\x20*\x202'+'55.0);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20uv'+'ec4\x20packU3'+'2(vec4\x20a,\x20'+'vec4\x20b,\x20ve'+'c4\x20c,\x20vec4'+'\x20d)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uvec4(pac'+'kU32(a),\x20p'+'ackU32(b),'+'\x20packU32(c'+'),\x20packU32'+'(d));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20int\x20w\x20='+'\x20int(textu'+'reSize(mea'+'ns_l,\x200).x'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ivec2\x20uv\x20'+'=\x20ivec2(gl'+'_FragCoord'+'.xy);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(ui'+'nt(uv.x\x20+\x20'+'uv.y\x20*\x20w)\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20meansLSam'+'ple\x20=\x20texe'+'lFetch(mea'+'ns_l,\x20uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20meansUSam'+'ple\x20=\x20texe'+'lFetch(mea'+'ns_u,\x20uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20quatsSamp'+'le\x20=\x20texel'+'Fetch(quat'+'s,\x20uv,\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20scales'+'Sample\x20=\x20t'+'exelFetch('+'scales,\x20uv'+',\x200).xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shLabel'+'sSample\x20=\x20'+'texelFetch'+'(sh_labels'+',\x20uv,\x200).x'+('y;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20pcFragCo'+'lor0\x20=\x20pac'+'kU32(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(meansLS'+'ample,\x20shL'+'abelsSampl'+'e.x),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(meansUS'+'ample,\x20shL'+'abelsSampl'+'e.y),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(quatsSa'+'mple),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec4(scales'+'Sample,\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20}\x0a'),pC='\x0a\x20\x20\x20\x20var\x20m'+'eans_l:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20means_u'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20qua'+'ts:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20s'+'cales:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20sh_label'+'s:\x20texture'+'_2d<f32>;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20numSpla'+'ts:\x20u32;\x0a\x0a'+'\x20\x20\x20\x20fn\x20pac'+'kU32(v:\x20ve'+'c4<f32>)\x20-'+'>\x20u32\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20(u32(v.'+'x\x20*\x20255.0)'+'\x20<<\x2024u)\x20\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20(u3'+'2(v.y\x20*\x2025'+'5.0)\x20<<\x2016'+'u)\x20\x20|\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(u32(v.z\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20u32(v.w'+'\x20*\x20255.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20fn\x20packU'+'Vec32(a:\x20v'+'ec4<f32>,\x20'+'b:\x20vec4<f3'+'2>,\x20c:\x20vec'+'4<f32>,\x20d:'+'\x20vec4<f32>'+')\x20->\x20vec4<'+'u32>\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4<u32'+'>(packU32('+'a),\x20packU3'+'2(b),\x20pack'+'U32(c),\x20pa'+'ckU32(d));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20@fragmen'+'t\x0a\x20\x20\x20\x20fn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Fragme'+'ntOutput;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20w:\x20u32\x20'+'=\x20textureD'+'imensions('+'means_l,\x200'+').x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20uv:'+'\x20vec2<u32>'+'\x20=\x20vec2<u3'+'2>(pcPosit'+'ion.xy);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uv.x\x20+\x20uv'+'.y\x20*\x20w\x20>=\x20'+'uniform.nu'+'mSplats)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20discard'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20output;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20fetch\x20the'+'\x20source\x20in'+'dex\x20and\x20ca'+'lculate\x20so'+'urce\x20uv\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'meansLSamp'+'le:\x20vec3<f'+('32>\x20=\x20text'+'ureLoad(me'+'ans_l,\x20uv,'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20meansUSam'+'ple:\x20vec3<'+'f32>\x20=\x20tex'+'tureLoad(m'+'eans_u,\x20uv'+',\x200).xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20quatsSam'+'ple:\x20vec4<'+'f32>\x20=\x20tex'+'tureLoad(q'+'uats,\x20uv,\x20'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20scal'+'esSample:\x20'+'vec3<f32>\x20'+'=\x20textureL'+'oad(scales'+',\x20uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20shLa'+'belsSample'+':\x20vec2<f32'+'>\x20=\x20textur'+'eLoad(sh_l'+'abels,\x20uv,'+'\x200).xy;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20packUVec'+'32(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(meansLSam'+'ple,\x20shLab'+'elsSample.'+'x),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(meansUSam'+'ple,\x20shLab'+'elsSample.'+'y),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(quatsSamp'+'le),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4(scalesSa'+'mple,\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a'),An=-0xafe+0x255c+-0x1a5e+0.28209479177387814,Ci=_0xf13fc2=>_0xf13fc2['read'](-0x1d*-0x113+-0x223*-0x6+-0x2bf9*0x1,0x14e1+-0x1a9e+0x5bd,_0xf13fc2['width'],_0xf13fc2['height'],{'mipLevel':0x0,'face':0x0,'immediate':!(-0x19c3+0x3*0x95+0x1804)}),mC=(_0x1aa42b,_0x126ad7)=>{for(const _0x5badf3 in _0x126ad7)_0x1aa42b['resolve'](_0x5badf3)['setValue'](_0x126ad7[_0x5badf3]);};class _C{constructor(_0x18bbcc,_0x5136dd,_0x21e50e,_0x25c4bf,_0x4516f3,_0x4ea802){const _0x2f7115=(_0x4847f0,_0x45d3ed,_0x44a6cd)=>_0x4847f0*(0xb97+-0x1*-0xb7b+0x49d*-0x5-_0x44a6cd)+_0x45d3ed*_0x44a6cd,{meta:_0x50781d}=_0x18bbcc,{means:_0x202f2f,scales:_0x1768d1,sh0:_0x4fd618,shN:_0x351e49}=_0x50781d,_0x5a0386=_0x5136dd&&_0x18bbcc['means_l']['_levels'][0x1e+-0x2499+0x247b],_0x5d0108=_0x5136dd&&_0x18bbcc['means_u']['_levels'][-0x2fe+0x2a0*-0xa+0x1d3e],_0x3618ae=_0x21e50e&&_0x18bbcc['quats']['_levels'][-0x2*-0xd98+0x1d5a+-0x2*0x1c45],_0x22525e=_0x25c4bf&&_0x18bbcc['scales']['_levels'][0x2d1+0x6*-0x52c+0x1c37],_0xc16bf5=_0x4516f3&&_0x18bbcc['sh0']['_levels'][-0x1902+0x2036+-0x734],_0x48cf3d=_0x4ea802&&_0x18bbcc['sh_labels']['_levels'][-0x517*0x1+-0x5c*-0x3a+-0xfc1],_0x2df338=_0x4ea802&&_0x18bbcc['sh_centroi'+'ds']['_levels'][-0x1*0x1e1d+-0x2119+0x3f36],_0x272138=(0xa*0xe3+-0x7bc+0xc*-0x18)/Math['sqrt'](0x191*-0x1+-0x2*-0xb49+-0x14ff);this['read']=_0xf9b223=>{if(_0x5136dd){const _0x2db86a=_0x2f7115(_0x202f2f['mins'][-0x8de+0x267d+-0x1d9f*0x1],_0x202f2f['maxs'][0x1c13+-0xd53*-0x1+0x5ea*-0x7],((_0x5d0108[_0xf9b223*(-0x1*0x2168+0x411*-0x9+-0x19*-0x2cd)+(0x265+0x3*0xd+-0x28c)]<<-0x1e86+0xbea+0x12a4)+_0x5a0386[_0xf9b223*(-0x1*-0xac+0xf36+-0xfde)+(-0x1c34+-0x49d*-0x8+-0x8b4)])/(0x1ee0f+-0x61*0x3ca+0x817a*0x1)),_0x118639=_0x2f7115(_0x202f2f['mins'][-0x5bf+-0x1*-0x970+-0x1*0x3b0],_0x202f2f['maxs'][-0x596+-0x38*-0xac+-0x2009],((_0x5d0108[_0xf9b223*(-0x247b+0x199a+0xae5*0x1)+(0x233a+0x79b+-0x2ad4)]<<0xafa+0x1dcd+-0x225*0x13)+_0x5a0386[_0xf9b223*(0x1*-0x17f5+-0x1447+0x1*0x2c40)+(0x67*0x43+-0x2575+-0x1*-0xa81)])/(-0x137*-0x47+-0x3097*-0x9+-0x10b91)),_0x18ec22=_0x2f7115(_0x202f2f['mins'][-0x77*-0x11+-0x22dd+0x1af8],_0x202f2f['maxs'][-0xc80+0x150e+-0x88c],((_0x5d0108[_0xf9b223*(-0xcf+-0xe*-0x1f3+0x10f*-0x19)+(-0x1*0x12db+0x11d*0x1e+-0xe89)]<<0x199e+-0x909+-0x108d)+_0x5a0386[_0xf9b223*(-0x2*0x130f+0x1090+0x1592)+(-0x47*0x73+0x2525+-0x2*0x29f)])/(0x523f+0x183*-0x62+-0x2*-0xa0f3));_0x5136dd['x']=Math['sign'](_0x2db86a)*(Math['exp'](Math['abs'](_0x2db86a))-(-0x22d2+-0x8f5*-0x3+-0x2*-0x3fa)),_0x5136dd['y']=Math['sign'](_0x118639)*(Math['exp'](Math['abs'](_0x118639))-(0x4*0x144+-0x26ab+0x219c*0x1)),_0x5136dd['z']=Math['sign'](_0x18ec22)*(Math['exp'](Math['abs'](_0x18ec22))-(0x12a4+-0x1b39+0x896));}if(_0x21e50e){const _0x1cb5e2=(_0x3618ae[_0xf9b223*(0x115*-0xc+0x197+-0x1*-0xb69)+(0x1*0x1717+-0x85*-0x6+-0x1a35*0x1)]/(-0x1186+0x28d*-0x5+-0x1*-0x1f46)-(0x27*0x55+0x154*0x1b+-0x30cf+0.5))*_0x272138,_0x4b3ebe=(_0x3618ae[_0xf9b223*(-0x2498*-0x1+0x1be*0x2+-0x2*0x1408)+(-0xb6*-0x10+0x1*-0x2051+0x7*0x2fe)]/(0x2424+0x99f+-0x2cc4)-(0x2351+-0x863*0x3+-0xa28+0.5))*_0x272138,_0x4e4146=(_0x3618ae[_0xf9b223*(-0x2*0x2c9+0x6d*0x6+-0x1*-0x308)+(-0x15*-0x22+0x1*-0x4b1+-0xa3*-0x3)]/(0x1de*0x8+-0xb53+0xa*-0x43)-(-0x1aac+-0x524+0x1fd0+0.5))*_0x272138,_0x2a016c=Math['sqrt'](Math['max'](0x1*-0x1d1e+-0x1632+0x3350,0xdd9+0x11a2+0x22*-0xed-(_0x1cb5e2*_0x1cb5e2+_0x4b3ebe*_0x4b3ebe+_0x4e4146*_0x4e4146)));switch(_0x3618ae[_0xf9b223*(-0x19*-0x1f+0x125e*-0x2+0x21b9)+(0x115b+-0x1bf8+0x10*0xaa)]-(-0x53d+-0x1*0x16ed+0x1d26)){case-0x1*0x1c8b+-0x1616*-0x1+-0x39*-0x1d:_0x21e50e['set'](_0x1cb5e2,_0x4b3ebe,_0x4e4146,_0x2a016c);break;case-0x25a8+0x92c*0x1+0x8f*0x33:_0x21e50e['set'](_0x2a016c,_0x4b3ebe,_0x4e4146,_0x1cb5e2);break;case 0x25cf*-0x1+-0x466*0x2+0x2e9d:_0x21e50e['set'](_0x4b3ebe,_0x2a016c,_0x4e4146,_0x1cb5e2);break;case 0x4f*-0x39+0xf07*0x1+0x293:_0x21e50e['set'](_0x4b3ebe,_0x4e4146,_0x2a016c,_0x1cb5e2);break;}}if(_0x25c4bf){const _0x3428d8=_0x2f7115(_0x1768d1['mins'][-0x20*-0x4d+0x90d*0x3+-0x541*0x7],_0x1768d1['maxs'][-0x15d3+-0x250a*-0x1+-0xf37],_0x22525e[_0xf9b223*(0x145b+-0x19b0+0x25*0x25)+(-0x509*0x7+0x260a+0x8f*-0x5)]/(0x1f83+-0x1a74+-0x41*0x10)),_0x26641c=_0x2f7115(_0x1768d1['mins'][0x1a74+0x1f02+0x1327*-0x3],_0x1768d1['maxs'][0x18d*0xb+0x128*-0x2+-0xebe],_0x22525e[_0xf9b223*(0x2689*-0x1+-0x11b*-0x22+-0x1*-0xf7)+(-0x257+-0x11d6+-0x2a*-0x7b)]/(0x21f2+-0xac4+0x162f*-0x1)),_0x5f469c=_0x2f7115(_0x1768d1['mins'][0x2*0xca9+-0x1454+0xb*-0x74],_0x1768d1['maxs'][-0x258+-0xd41+0x1*0xf9b],_0x22525e[_0xf9b223*(0x1*-0xeb8+0xe09*-0x2+-0x1*-0x2ace)+(-0x18*-0x2f+-0x4d9*-0x2+-0xe18)]/(0xa8b*0x1+0x6*0x167+0xf2*-0x13));_0x25c4bf['set'](_0x3428d8,_0x26641c,_0x5f469c);}if(_0x4516f3){const _0x304813=_0x2f7115(_0x4fd618['mins'][0x1675*0x1+-0x103f+-0x636],_0x4fd618['maxs'][0xc10+-0x2*0x6e3+0x1b6],_0xc16bf5[_0xf9b223*(-0xe9f+-0x565*-0x1+0x7*0x152)+(0x199+0x524+0x19*-0x45)]/(0x3b4*0x5+0x5b+-0x8f0*0x2)),_0x16d91b=_0x2f7115(_0x4fd618['mins'][-0x18b*0xa+0x1e93+0x792*-0x2],_0x4fd618['maxs'][-0x1*-0x2609+0x10d3+-0x36db],_0xc16bf5[_0xf9b223*(0x1a7c*0x1+-0x1900+-0x178)+(-0x1a61+-0x6d3*0x2+0x2808)]/(-0x1d9e+0x12f7+-0x6*-0x1f1)),_0x3a99e2=_0x2f7115(_0x4fd618['mins'][0x1c5*0x7+-0x143e*-0x1+-0x209f],_0x4fd618['maxs'][0x8*-0x59+0x1*-0xab5+-0x1*-0xd7f],_0xc16bf5[_0xf9b223*(0x1*0x2cc+-0x1f6f*0x1+0x32f*0x9)+(-0x8b*0x32+0x1bfb*0x1+0x1*-0xd3)]/(-0xefe+0x21b*-0x3+0x164e*0x1)),_0x4bab3d=_0x2f7115(_0x4fd618['mins'][0x2*0x1345+0x3b3*-0x7+-0x31*0x42],_0x4fd618['maxs'][-0x1bb4+0x3bc*-0x1+-0x61*-0x53],_0xc16bf5[_0xf9b223*(-0x107e+-0x1a38+0x2aba)+(0x1*0x21d9+0x1769+-0x1315*0x3)]/(0xad6+-0x1390+-0x9b9*-0x1));_0x4516f3['set'](-0x80*-0x44+0x14c2+0x1*-0x36c2+0.5+_0x304813*An,-0xbe4*0x1+-0xe8b+0x1a6f+0.5+_0x16d91b*An,0x142b+0x1c94+-0x30bf+0.5+_0x3a99e2*An,(0x10bb+0x1730+0x1a*-0x189)/(-0x3*-0x525+0x1d73+-0x2ce1+Math['exp'](-_0x4bab3d)));}if(_0x4ea802){const _0x467d6d=_0x48cf3d[_0xf9b223*(-0x22dc+-0x1f2d+0x420d*0x1)+(0x7e6*-0x1+-0x10f5*-0x1+-0x90f)]+(_0x48cf3d[_0xf9b223*(0x1*-0xf45+-0x20a1+0x2fea)+(0x26e3+0xfa5+-0x3687)]<<0x90+0x14b*-0x17+-0x1*-0x1d35),_0x24422a=_0x467d6d%(-0x1e7a+-0x3*0x315+0x27f9)*(-0x2*0x1240+0x2254+0x23b*0x1),_0x11f7a9=Math['floor'](_0x467d6d/(-0x99*-0x26+0x6*-0x4bd+0x5f8));for(let _0xa6360a=-0x17+-0x4*-0x5c8+-0x1*0x1709;_0xa6360a<-0x1*0x2459+-0x2*-0xfcf+-0x4be*-0x1;++_0xa6360a)for(let _0x32e5ca=-0xdf*-0x12+0x1a88+0x151b*-0x2;_0x32e5ca<0x4*-0x953+0x98e*0x1+0xb*0x287;++_0x32e5ca)_0x4ea802[_0xa6360a*(0x91*-0x3b+-0xc79*0x1+0x2df3)+_0x32e5ca]=_0x2f7115(_0x351e49['mins'],_0x351e49['maxs'],_0x2df338[(_0x24422a+_0x32e5ca)*(-0xa80+-0x1e59+0x28dd)+_0xa6360a+_0x11f7a9*_0x18bbcc['sh_centroi'+'ds']['width']*(-0x1*0x1891+-0x236a+0x3bff*0x1)]/(-0xaa9+0x1ca3+-0x5a9*0x3));}};}}class gC{constructor(){h(this,'meta'),h(this,'numSplats'),h(this,'means_l'),h(this,'means_u'),h(this,'quats'),h(this,'scales'),h(this,'sh0'),h(this,'sh_centroi'+'ds'),h(this,'sh_labels'),h(this,'packedText'+'ure');}['destroy'](){var _0x580f6e,_0x406293,_0x15bc60,_0x39655d,_0x125bbd,_0x124e04,_0x42bcea,_0x1d7840;(_0x580f6e=this['means_l'])==null||_0x580f6e['destroy'](),(_0x406293=this['means_u'])==null||_0x406293['destroy'](),(_0x15bc60=this['quats'])==null||_0x15bc60['destroy'](),(_0x39655d=this['scales'])==null||_0x39655d['destroy'](),(_0x125bbd=this['sh0'])==null||_0x125bbd['destroy'](),(_0x124e04=this['sh_centroi'+'ds'])==null||_0x124e04['destroy'](),(_0x42bcea=this['sh_labels'])==null||_0x42bcea['destroy'](),(_0x1d7840=this['packedText'+'ure'])==null||_0x1d7840['destroy']();}['createIter'](_0x1d6b2b,_0x11b96d,_0x2bc46d,_0x5df192,_0x28e710){return new _C(this,_0x1d6b2b,_0x11b96d,_0x2bc46d,_0x5df192,_0x28e710);}['calcAabb'](_0x45e924){const {mins:_0x4f2d7f,maxs:_0x4dd1f7}=this['meta']['means'],_0x3ac38d=_0x3af8f8=>Math['sign'](_0x3af8f8)*(Math['exp'](Math['abs'](_0x3af8f8))-(-0x1dab+-0x1779+-0x3*-0x11b7));_0x45e924['center']['set']((_0x3ac38d(_0x4f2d7f[-0x1*0xb1d+0x2*0x243+0x697])+_0x3ac38d(_0x4dd1f7[0x2070+0xb*0x2b+0x43*-0x83]))*(-0x7d6*-0x1+0x1de0+-0x25b6+0.5),(_0x3ac38d(_0x4f2d7f[0x54c*0x5+-0x1f8c+0x511])+_0x3ac38d(_0x4dd1f7[0xd00+0x238f*0x1+-0x308e]))*(0x1*0x141+0x1366+-0x1*0x14a7+0.5),(_0x3ac38d(_0x4f2d7f[-0x1*-0x162e+-0x1d70+0x744])+_0x3ac38d(_0x4dd1f7[0x9*0x26e+-0x28c*-0x4+0x1*-0x200c]))*(0x1159+0x205f+-0x31b8+0.5)),_0x45e924['halfExtent'+'s']['set']((_0x3ac38d(_0x4dd1f7[0x15*-0x1c1+0xac1*-0x1+0x2f96])-_0x3ac38d(_0x4f2d7f[-0xe9*-0x15+-0xeed+-0x430]))*(0x1*-0x4f2+0x43e*0x8+-0x1cfe+0.5),(_0x3ac38d(_0x4dd1f7[-0x16d+0x3*0x38f+0x9*-0x107])-_0x3ac38d(_0x4f2d7f[0x2466+-0x12b6+-0x11af]))*(0xa6a*0x3+0x389*0x8+0x322*-0x13+0.5),(_0x3ac38d(_0x4dd1f7[0x23eb+-0x955*0x3+-0x7ea])-_0x3ac38d(_0x4f2d7f[0x1142+-0x1*-0x20e5+-0x3225]))*(-0x9d3*0x2+-0x781+-0x3e1*-0x7+0.5));}['getCenters'](_0x5cb16f){const {meta:_0x27db33,means_l:_0x5f2574,means_u:_0x402faa,numSplats:_0x596047}=this,{means:_0x23c5c6}=_0x27db33,_0x205fa4=new Uint32Array(_0x402faa['_levels'][0x12f9+0x468*-0x8+-0x9*-0x1cf]['buffer']),_0x12c6aa=new Uint32Array(_0x5f2574['_levels'][0x12ae+0xd1a+-0x1fc8]['buffer']),_0x2d78eb=_0x23c5c6['mins'][0x419*0x4+-0x347*0x9+0x3d*0x37]/(0x2687+0x19683+-0x1*0xbd0b),_0x13f712=_0x23c5c6['mins'][-0x7a3+0x1f*0xa3+-0xc19]/(0x1eee4+0x153eb+-0x242d0),_0x17fdcc=_0x23c5c6['mins'][-0x655*0x6+0x422+0x21de]/(-0x1*0xc8aa+-0x17*0x665+0x12dde*0x2),_0x596aa6=_0x23c5c6['maxs'][0xe4c+0x677*0x3+-0xf*0x23f]/(0x1442b+-0xc334+0x7f08),_0x81e5a=_0x23c5c6['maxs'][0x2*0x136b+0x204e+-0x4723*0x1]/(0xae*-0x250+0x1*0x6174+0x230eb),_0xbc3b6a=_0x23c5c6['maxs'][0x1438+0x925+-0x1d5b]/(-0xe38f+-0x3f5*0x64+0x36f42);for(let _0x34c9ce=0x4db*-0x6+-0x1*0xb2c+0x284e;_0x34c9ce<_0x596047;_0x34c9ce++){const _0x5a5d50=_0x34c9ce,_0x1ecce7=_0x205fa4[_0x5a5d50],_0x461fb3=_0x12c6aa[_0x5a5d50],_0x6a04e5=_0x1ecce7<<-0x1*0x2235+0x1dd9+0x464&0x1cc5e+-0xc68e+-0x6d0|_0x461fb3&0x5ce+0x4*0x1e7+-0xc6b,_0x4f7971=_0x1ecce7&-0x1*-0x14d85+0x2cb*0x97+-0x1f442|_0x461fb3>>>0x1c4+0x2d2+-0x1*0x48e&-0x335*-0x1+0x2e*0xb9+-0x4*0x8dd,_0x5f1ed6=_0x1ecce7>>>0x1*0x355+-0x82+-0x2cb&0x1c6b2+0x4de*-0x67+0x12da0|_0x461fb3>>>-0x6c3*0x5+-0x6f1*-0x4+-0x209*-0x3&0x7bd*0x1+0x1a98+-0x2156,_0x25c94e=_0x2d78eb*(0xa493+0x1b304+-0x15798-_0x6a04e5)+_0x596aa6*_0x6a04e5,_0x5503ba=_0x13f712*(0x271e*0x9+-0x1bf79+-0x2*-0xafb5-_0x4f7971)+_0x81e5a*_0x4f7971,_0x570192=_0x17fdcc*(0x13785+0x1e41b+-0x5*0x6bed-_0x5f1ed6)+_0xbc3b6a*_0x5f1ed6,_0x22da92=_0x25c94e<0x4*-0x783+-0x1*0x258d+0x4399?-_0x25c94e:_0x25c94e,_0x232028=_0x5503ba<-0x21de+-0x23a5+0x4583?-_0x5503ba:_0x5503ba,_0x321e6d=_0x570192<-0x265+-0x668+0x8cd?-_0x570192:_0x570192;_0x5cb16f[_0x34c9ce*(-0x23*-0x110+0x1dbe+-0x42eb)]=(_0x25c94e<-0x2616+0x1c64+0x92*0x11?-(-0x9a+-0xac6+0xb61):-0x21d1+-0x4*0x46c+-0x13*-0x2b6)*(Math['exp'](_0x22da92)-(0x1313+-0x80*0x40+0xcee)),_0x5cb16f[_0x34c9ce*(-0x1294*-0x1+0x11cb+-0x245c)+(0x103a+-0x3e*0x46+-0xbb*-0x1)]=(_0x5503ba<-0xc6*-0x14+0x1*-0x21e5+0x126d?-(-0x1*-0x2683+-0x4*0x289+-0x1c5e):0x11*0x1d9+-0x2b3+-0x1cb5*0x1)*(Math['exp'](_0x232028)-(0x3*0xc41+0x2398+-0x485a)),_0x5cb16f[_0x34c9ce*(-0x1437+0x4e3*0x1+-0x77*-0x21)+(-0x159+-0x1fbb+0x2116)]=(_0x570192<-0x5a0+0x3ba+0x1e6?-(0x2221+0x6d7+-0x28f7*0x1):0x167*0x2+-0x8b*-0x2+-0xc7*0x5)*(Math['exp'](_0x321e6d)-(0x19cf+0x1d88+-0x12*0x313));}}['calcFocalP'+'oint'](_0x30cef2,_0x219738){_0x30cef2['set'](0x1031*-0x1+-0x1e96+-0x1*-0x2ec7,0xa3f+-0x19f3*0x1+0xfb4,0x19a+0x1*-0x6ff+-0x565*-0x1);}get['isSogs'](){return!(0x16*0x1bf+0x1d2f+-0x4399);}get['shBands'](){var _0x1193fb;return{0xc0:0x1,0x200:0x2,0x3c0:0x3}[(_0x1193fb=this['sh_centroi'+'ds'])==null?void(0x97*-0x23+-0x17fb+-0x4*-0xb28):_0x1193fb['width']]??0x209e+0x10e7*0x2+0x109b*-0x4;}async['decompress'](){const _0x227a2a=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3'],{shBands:_0x36de9f}=this,{means_l:_0x414220,means_u:_0x2693a0,quats:_0x2964aa,scales:_0x2708d4,sh0:_0x34b500,sh_labels:_0x7de649,sh_centroids:_0x3faef4}=this;if(_0x414220['_levels'][-0x1917+0x73e+-0x3*-0x5f3]=await Ci(_0x414220),_0x2693a0['_levels'][0x451+-0x193*-0xa+-0x140f]=await Ci(_0x2693a0),_0x2964aa['_levels'][-0xe6c+0x1715+-0x2e3*0x3]=await Ci(_0x2964aa),_0x2708d4['_levels'][-0x7d*0xa+0x270+0x139*0x2]=await Ci(_0x2708d4),_0x34b500['_levels'][0x9*0xd+-0x205f*-0x1+-0x1*0x20d4]=await Ci(_0x34b500),_0x36de9f>0x517*-0x1+0x11cb+0x10f*-0xc){_0x7de649['_levels'][-0x1123*-0x1+-0x5a7*0x3+-0x2e]=await Ci(_0x7de649),_0x3faef4['_levels'][-0xcb4+-0x1384+0x4*0x80e]=await Ci(_0x3faef4);const _0x206ee8=[];for(let _0x1af75d=-0xbc7+0x152b*0x1+-0x964;_0x1af75d<-0x6ac+-0x10e8+0x17c1;++_0x1af75d)_0x206ee8['push']('f_rest_'+_0x1af75d);_0x227a2a['splice'](_0x227a2a['indexOf']('f_dc_0')+(-0x94a+0x191f+-0xfd4*0x1),-0x1f6f+0x5*-0x4d1+0x3784,..._0x206ee8);}const _0x2170c9={};_0x227a2a['forEach'](_0x277b11=>{_0x2170c9[_0x277b11]=new Float32Array(this['numSplats']);});const _0x27babb=new D(),_0x507c97=new le(),_0x54f291=new D(),_0xc3de8a=new re(),_0x4da57f=_0x36de9f>0x2*-0x93a+0x209c+-0xe28?new Float32Array(0x1c5*-0x8+-0x18d3+0x2728):null,_0x1cc410=this['createIter'](_0x27babb,_0x507c97,_0x54f291,_0xc3de8a,_0x4da57f);for(let _0xea6ccd=0x1*-0x1603+-0x5f*0xf+-0x6e5*-0x4;_0xea6ccd<this['numSplats'];++_0xea6ccd)if(_0x1cc410['read'](_0xea6ccd),_0x2170c9['x'][_0xea6ccd]=_0x27babb['x'],_0x2170c9['y'][_0xea6ccd]=_0x27babb['y'],_0x2170c9['z'][_0xea6ccd]=_0x27babb['z'],_0x2170c9['rot_1'][_0xea6ccd]=_0x507c97['x'],_0x2170c9['rot_2'][_0xea6ccd]=_0x507c97['y'],_0x2170c9['rot_3'][_0xea6ccd]=_0x507c97['z'],_0x2170c9['rot_0'][_0xea6ccd]=_0x507c97['w'],_0x2170c9['scale_0'][_0xea6ccd]=_0x54f291['x'],_0x2170c9['scale_1'][_0xea6ccd]=_0x54f291['y'],_0x2170c9['scale_2'][_0xea6ccd]=_0x54f291['z'],_0x2170c9['f_dc_0'][_0xea6ccd]=(_0xc3de8a['x']-(0x711+0x3*-0x221+-0x1d*0x6+0.5))/An,_0x2170c9['f_dc_1'][_0xea6ccd]=(_0xc3de8a['y']-(0x1d67+-0x50f+-0x1858+0.5))/An,_0x2170c9['f_dc_2'][_0xea6ccd]=(_0xc3de8a['z']-(0x18f2+-0x4*0x229+-0x104e+0.5))/An,_0x2170c9['opacity'][_0xea6ccd]=_0xc3de8a['w']<=-0x341*0x5+-0x1027+-0x1*-0x206c?-(0x139*0x3+0xf5c+-0x12df):_0xc3de8a['w']>=-0x218e+0x1c3c+0x553?-0x2458+0xa13*0x1+-0x1a6d*-0x1:-Math['log']((0x11e*0x1e+-0x2359+0x1d6)/_0xc3de8a['w']-(-0x4*0x41+-0x8cd*-0x3+0x3*-0x876)),_0x4da57f){for(let _0x42db9c=0x1f33+-0x1d8*-0x2+-0x22e3;_0x42db9c<-0x1*-0x7b5+-0xce8+-0x4*-0x158;++_0x42db9c)_0x2170c9['f_rest_'+_0x42db9c][_0xea6ccd]=_0x4da57f[_0x42db9c];}return new qn([{'name':'vertex','count':this['numSplats'],'properties':_0x227a2a['map'](_0x2fc05e=>({'name':_0x2fc05e,'type':'float','byteSize':0x4,'storage':_0x2170c9[_0x2fc05e]}))}]);}['packGpuMem'+'ory'](){const {means_l:_0x3dd176,means_u:_0x567177,quats:_0x413d3a,scales:_0xb47a72,sh_labels:_0x47589a,numSplats:_0x25911a}=this,{device:_0x426f34}=_0x3dd176,{scope:_0x5590db}=_0x426f34,_0x277658=$t['createShad'+'er'](_0x426f34,{'uniqueName':'GsplatSogs'+'ReorderSha'+'der','attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentGLSL':uC,'fragmentWGSL':pC,'fragmentOutputTypes':['uvec4']}),_0x1b373d=new gt({'colorBuffer':this['packedText'+'ure'],'depth':!(0x142d+0x3e+-0x146a),'mipLevel':0x0});_0x426f34['setCullMod'+'e'](bt),_0x426f34['setBlendSt'+'ate'](pt['NOBLEND']),_0x426f34['setDepthSt'+'ate'](Yt['NODEPTH']),mC(_0x5590db,{'means_l':_0x3dd176,'means_u':_0x567177,'quats':_0x413d3a,'scales':_0xb47a72,'sh_labels':_0x47589a??_0x3dd176,'numSplats':_0x25911a}),Ar(_0x426f34,_0x1b373d,_0x277658),_0x1b373d['destroy'](),_0x277658['destroy']();}async['prepareGpu'+'Data'](){const {device:_0x448976,height:_0x5d47f1,width:_0xf9475f}=this['means_l'];this['means_l']['_levels'][-0x323+-0x20fc+0x241f]=await Ci(this['means_l']),this['means_u']['_levels'][-0x1ecb+0x1c34+0x297]=await Ci(this['means_u']),this['packedText'+'ure']=new _e(_0x448976,{'name':'sogsPacked'+'Texture','width':_0xf9475f,'height':_0x5d47f1,'format':Ue,'mipmaps':!(0x1595+0x1a52*-0x1+0x4be)}),_0x448976['on']('devicerest'+'ored',()=>{this['packGpuMem'+'ory']();}),this['packGpuMem'+'ory']();}['reorderDat'+'a'](){return this['prepareGpu'+'Data']();}}async function SC(){let _0x3c13fd=null,_0x3f5b60=null,_0x2091b1=null,_0x420619=null,_0x4739fe=null,_0x58b5a9=null,_0x2e7aad=null,_0x355f9d=null,_0x47ba3b=null,_0x6b5ef1=null,_0x96fdf=null,_0x5f177b=null,_0x198117=null,_0xdfd368=null,_0x24669e=null,_0x14c4f7=null,_0x268e41=null,_0x232ce8=null,_0x3e1897=null,_0x278f57=null,_0x3157=null,_0x1ae4b4=null,_0x1533f8=null,_0x49b379=null,_0x1a5bfc=Float32Array['BYTES_PER_'+'ELEMENT'],_0x4399e1=Uint32Array['BYTES_PER_'+'ELEMENT'],_0x2c6d9e=-0x6df*0x5+0x3*0x1fd+-0x2*-0xe32,_0x30a9d7=!(0xbb*0x35+0x9*-0x227+-0x1358),_0x5872fb,_0x4b456a,_0x2a7a9b={'x':0x0,'y':0x0,'z':0x0},_0x325444={'x':0x0,'y':0x0,'z':0x0},_0x4e5dcf=!(0x3ad+0x17*0x4a+0x1*-0xa53),_0x247bb7=!(-0x140a+-0x19f+0x15a9*0x1),_0x2684f0=!(0x3ef*-0x1+-0x20c+-0x2*-0x2fe),_0x56e67a=!(-0x6a2+0x16a9+-0x1006),_0x3b893c=-0x158e+-0x13e5+-0x9*-0x49b,_0x13be7f=-0x2eb*0x4+0x257*-0x1+0xe03,_0x386e50=!(-0x59*-0x6d+0x2397+0x497b*-0x1),_0x30b0d7=null,_0x4e48a0=!(0x24a7*0x1+-0x1c2a+-0x87c),_0x51af3a=-0x15b3+-0x19c9+0x2f7c,_0x5c19b5=0xe76+-0x8ec+-0x2c5*0x2,_0xb9349d={'x':0x0,'y':0x0,'z':0x0},_0x856c45={'x':0x0,'y':0x0,'z':0x0},_0x1612d1,_0xd4834b;self['onmessage']=async _0x569b84=>{const {data:_0x505a56}=_0x569b84;switch(_0x505a56['type']){case'initWorker':await _0x393050(_0x505a56['sortWasmUr'+'l']),self['postMessag'+'e']({'type':'initialize'+'d'});break;case'initData':if(_0x2c6d9e=_0x505a56['centers']['length']/(-0x724*0x3+-0x33e*-0x1+0x1231),_0x2c6d9e<=-0x16e5+0x3f1*-0x2+0x1ec7*0x1||!_0x3f5b60)return;_0x469bb8(),_0x30a9d7=_0x505a56['is4d'],_0x1612d1=_0x505a56['id'];const _0x176ac9=_0x5a3fbe(_0x2c6d9e);if(_0x387d6c(_0x176ac9),_0x2091b1[-0xb1c+-0x25f1+-0x1d*-0x1b1]=_0xb9349d['x'],_0x2091b1[-0x12e5+0x10cf*-0x1+0x23b5]=_0xb9349d['y'],_0x2091b1[0x240+-0x19f*0x6+-0x4*-0x1df]=_0xb9349d['z'],_0x420619[-0x1*0x1fe7+0x2*-0xe7a+0x3cdb]=_0x856c45['x'],_0x420619[-0x1*-0x1934+-0x1a32+0xff]=_0x856c45['y'],_0x420619[0x1072+-0x9d8+-0x698]=_0x856c45['z'],_0x58b5a9&&_0x505a56['centers']&&_0x58b5a9['length']===_0x505a56['centers']['length']){const _0x841c2e=new Float32Array(_0x505a56['centers']);_0x58b5a9['set'](_0x841c2e);}if(_0x355f9d&&_0x505a56['timeIndex']&&_0x355f9d['length']===_0x505a56['timeIndex']['length']){const _0x117815=new Uint32Array(_0x505a56['timeIndex']);_0x355f9d['set'](_0x117815);}if(_0x96fdf&&_0x505a56['motion']&&_0x96fdf['length']===_0x505a56['motion']['length']){const _0x1b06a4=new Float32Array(_0x505a56['motion']);_0x96fdf['set'](_0x1b06a4);}if(_0x30a9d7&&_0x47ba3b&&_0x6b5ef1&&_0x505a56['muT']&&_0x505a56['tScale']&&_0x47ba3b['length']===_0x505a56['muT']['length']&&_0x6b5ef1['length']===_0x505a56['tScale']['length']&&(_0x47ba3b['set'](_0x505a56['muT']),_0x6b5ef1['set'](_0x505a56['tScale'])),_0x2e7aad){for(let _0x2f3a54=0x1*-0x1a31+0x7b5*-0x3+0x3150;_0x2f3a54<_0x2e7aad['length'];++_0x2f3a54)_0x2e7aad[_0x2f3a54]=_0x2f3a54;}_0x4739fe&&_0x505a56['timeOption']&&_0x4739fe['set'](_0x505a56['timeOption']),_0x43c9b6(),_0x4e48a0=!(0x2*0x1142+0x1171+-0x1*0x33f5),_0x2684f0=!(0x1577+-0x9*-0x413+-0xe*0x427),_0x3f7725();break;case'setTime':_0x5872fb=_0x505a56['time'],_0x3f7725();break;case'setUseTemp'+'oralSort':_0x4e5dcf=_0x505a56['useTempora'+'lSort'];break;case'setUseDyna'+'micSort':_0x247bb7=_0x505a56['useDynamic'+'Sort'];break;case'sort':if(!_0x2091b1)return;_0x2091b1[-0x18bd+-0x208*0xc+0x311d]=_0x505a56['cameraPosi'+'tion']['x'],_0x2091b1[0x1ce2*0x1+-0x17d8*0x1+-0x1*0x509]=_0x505a56['cameraPosi'+'tion']['y'],_0x2091b1[0x159e+0x1*-0x14f+0x1*-0x144d]=_0x505a56['cameraPosi'+'tion']['z'],_0x420619[0x6+0x1*0x10d+-0x113]=_0x505a56['cameraDire'+'ction']['x'],_0x420619[-0x1*0x6ca+-0xa5a+0x1125]=_0x505a56['cameraDire'+'ction']['y'],_0x420619[0xed6+-0x985*0x1+0x9*-0x97]=_0x505a56['cameraDire'+'ction']['z'],_0xb9349d['x']=_0x505a56['cameraPosi'+'tion']['x'],_0xb9349d['y']=_0x505a56['cameraPosi'+'tion']['y'],_0xb9349d['z']=_0x505a56['cameraPosi'+'tion']['z'],_0x856c45['x']=_0x505a56['cameraDire'+'ction']['x'],_0x856c45['y']=_0x505a56['cameraDire'+'ction']['y'],_0x856c45['z']=_0x505a56['cameraDire'+'ction']['z'],_0x3f7725();break;}};const _0x469bb8=()=>{_0x13be7f=Math['max'](0x157d+0x1*-0x164b+0x6*0x24,Math['min'](0x15cb+-0x1a7c+-0x4c5*-0x1,Math['round'](Math['log2'](_0x2c6d9e/(-0x12*0x3a+-0x245*0x2+-0xa*-0xdd))))),_0x3b893c=(0x1*-0x25d2+0x588+0x204c)**_0x13be7f+(0x319*0x1+-0x10d*0x25+-0x23c9*-0x1);},_0x387d6c=_0x4a3591=>{_0x5f177b=-0x2068+-0x1*0xfa0+0x3008,_0x198117=_0x5f177b+_0x2c6d9e*_0x1a5bfc*(-0x1c48+0x3*-0x56+-0xd*-0x241),_0x232ce8=_0x198117+(-0x4e9*-0x1+0x533+0x8*-0x137)*_0x1a5bfc*(0x10d*0x1f+-0xb98+-0x14f9),_0x3e1897=_0x232ce8+_0x2c6d9e*_0x4399e1,_0x278f57=_0x3e1897+(0x1*-0x1f1b+-0x73+0x1f91*0x1)*_0x1a5bfc,_0x3157=_0x278f57+(0x21b4+0x21b*0x7+0x1837*-0x2)*_0x1a5bfc,_0x1ae4b4=_0x3157+(-0x145d+-0x2499+0x38f9)*_0x1a5bfc,_0x1533f8=_0x1ae4b4+(0x2*0xa2a+-0x7a0+0x9*-0x169)*_0x1a5bfc,_0x49b379=_0x1533f8+_0x2c6d9e*_0x4399e1,_0x58b5a9=new Float32Array(_0x4a3591,_0x5f177b,_0x2c6d9e*(-0x1*-0x871+-0x1533+0xcc5)),_0x4739fe=new Float32Array(_0x4a3591,_0x198117,-0x5*0x64d+0x210a+-0xc1),_0x2e7aad=new Uint32Array(_0x4a3591,_0x232ce8,_0x2c6d9e),_0x2091b1=new Float32Array(_0x4a3591,_0x3e1897,0xca*-0x2d+0x11da*0x2+-0x1*0x2f),_0x420619=new Float32Array(_0x4a3591,_0x278f57,-0xf*0x156+-0x1*-0x10f5+0x318),_0x30a9d7&&(_0x14c4f7=_0x49b379+_0x3b893c*_0x4399e1,_0x268e41=_0x14c4f7+_0x2c6d9e*_0x1a5bfc,_0x24669e=_0x268e41+_0x2c6d9e*_0x1a5bfc,_0xdfd368=_0x24669e+_0x2c6d9e*(0x2391+-0x1c1+0x21cd*-0x1)*_0x1a5bfc,_0x47ba3b=new Float32Array(_0x4a3591,_0x14c4f7,_0x2c6d9e),_0x6b5ef1=new Float32Array(_0x4a3591,_0x268e41,_0x2c6d9e),_0x96fdf=new Float32Array(_0x4a3591,_0x24669e,_0x2c6d9e*(0x92*-0x19+-0xdd+-0x12a*-0xd)),_0x355f9d=new Uint32Array(_0x4a3591,_0xdfd368,_0x2c6d9e));},_0x393050=async _0x4e8932=>{_0x51af3a=-0x4fa+-0x54a+0xa45;const _0x3e5b35={'env':{'memory':new WebAssembly['Memory']({'initial':_0x51af3a}),'pthread_self':function(){return 0x4*0x6e2+0x1911+-0x3499;},'emscripten_builtin_memalign':function(){return 0x1*-0x7eb+0x114e+-0x963;},'loggerVec3':(_0x3eca80,_0x2d5ab8,_0x5f3262,_0x259d30)=>{console['log']('C++\x20logger'+'Vec3\x20['+_0x3eca80+']\x200:'+_0x2d5ab8+'\x201:'+_0x5f3262+'\x202:'+_0x259d30);},'loggerFloat':(_0x2d0bd5,_0x5a6233)=>{console['log']('C++\x20LogFlo'+'at\x20['+_0x2d0bd5+']\x20a:'+_0x5a6233);},'loggerValue':(_0x258f1a,_0x596cc7,_0x4607c1,_0x3c8c13,_0x94afe2)=>{console['log']('C++\x20logger'+'Value\x20['+_0x258f1a+']\x20minDist:'+_0x596cc7+'\x20maxDist:'+_0x4607c1+'\x20range:'+_0x3c8c13+'\x20divider:'+_0x94afe2);},'loggerCamera':(_0x2c2187,_0x5db24a,_0x54bf23,_0x308ee3,_0x12ed1d,_0x2c6689,_0x297a7c)=>{console['log']('C++\x20logger'+'Camera\x20['+_0x2c2187+']\x20x:'+_0x5db24a+'\x20y:'+_0x54bf23+'\x20z:'+_0x308ee3+'\x20dx:'+_0x12ed1d+'\x20dy:'+_0x2c6689+'\x20dz:'+_0x297a7c);},'loggerBound':(_0x18a088,_0x448a1a,_0x493328,_0x1ded36,_0x307d91,_0x36fc42)=>{console['log']('C++\x20logger'+'Bound\x20minX'+':'+_0x18a088+'\x20minY:'+_0x448a1a+'\x20minZ:'+_0x493328+'\x20maxX:'+_0x1ded36+'\x20maxY:'+_0x307d91+'\x20maxZ:'+_0x36fc42);},'loggerDebug':_0x5394a3=>{console['log']('C++\x20logger'+'Debug\x20['+_0x5394a3+']');}}};try{const _0x24a946=await(await fetch(_0x4e8932))['arrayBuffe'+'r']();return _0x3c13fd=(await WebAssembly['instantiat'+'e'](_0x24a946,_0x3e5b35))['instance'],_0x3f5b60=_0x3e5b35['env']['memory'],_0x3c13fd;}catch(_0x2b7253){throw console['error']('WASM'+':',_0x2b7253),_0x2b7253;}},_0xe63fb=_0x3ffaae=>{if(_0x3ffaae<=0x1082+0xddd+-0x1e5f)return-0x55*0x35+-0x1998+0xe66*0x3;let _0x5ea131=_0x3ffaae*_0x1a5bfc*(-0x21ea+0x70*0x35+0xabd*0x1);_0x5ea131+=_0x3ffaae*_0x4399e1,_0x5ea131+=(-0x4*0x887+-0x320+0x253f)*_0x1a5bfc,_0x5ea131+=(-0x4a*-0x56+0x1d4f+-0x6c5*0x8)*_0x1a5bfc,_0x5ea131+=(-0xb0e+0x2245+0x5a*-0x42)*_0x1a5bfc,_0x5ea131+=(-0x1c45+-0x238f+0x115*0x3b)*_0x1a5bfc,_0x5ea131+=_0x3ffaae*_0x1a5bfc,_0x5ea131+=_0x3b893c*_0x4399e1,_0x5ea131+=(0x977+-0x2*0xaec+0x1d3*0x7)*_0x1a5bfc*(0x42*0x2e+-0x12*0x14e+0xba2),_0x5ea131+=_0x3ffaae*_0x4399e1,_0x30a9d7&&(_0x5ea131+=_0x3ffaae*_0x1a5bfc,_0x5ea131+=_0x3ffaae*_0x1a5bfc,_0x5ea131+=_0x3ffaae*_0x1a5bfc*(0xbf1*-0x2+-0x3*0x887+0x317a));const _0x5e7743=(-0x1ebe+-0x25c9+0x44c7)*(0x16a*0x4+0xc94+-0x2*0x71e);return Math['ceil'](_0x5ea131/_0x5e7743);},_0x5a3fbe=_0x32014b=>{const _0x532601=_0xe63fb(_0x32014b);return _0x532601>_0x51af3a?(_0x3f5b60['grow'](_0x532601-_0x51af3a),_0x51af3a=_0x532601):_0x3f5b60['grow'](-0x23a0+0x645*-0x4+0xb9*0x54),_0x3f5b60['buffer'];},_0x43c9b6=()=>{if(!_0x3c13fd)return;const {calcAABB:_0x1e67c0}=_0x3c13fd['exports'];_0x1e67c0(_0x5f177b,_0x3157,_0x1ae4b4,_0x2c6d9e);},_0x3f7725=()=>{_0x30b0d7&&clearTimeout(_0x30b0d7),_0x30b0d7=setTimeout(()=>{_0x30b0d7=null,_0x22e4f6();},0x1864+0x1*-0x1f0d+0x37*0x1f);},_0x22e4f6=()=>{if(!_0x3c13fd||!_0x4e48a0||_0x2e7aad['length']!==_0x2c6d9e||_0x232ce8===null||_0x5f177b===null||_0x3e1897===null||_0x278f57===null||_0x3157===null||_0x1ae4b4===null)return;const _0x510a51=_0x2091b1[-0x3f8*-0x4+0x2566*-0x1+-0x5*-0x44e],_0x2b86c0=_0x2091b1[0xa49*-0x3+0x35d*-0x7+0x3667],_0x4ce1f8=_0x2091b1[-0x1a70+-0x734*0x1+0x92*0x3b],_0xe58259=_0x420619[-0x181c+-0x19f3+0x48d*0xb],_0x47cb83=_0x420619[0x16e8+0x499+-0x1b80],_0x385967=_0x420619[-0xedd+0x4fe+0x9e1],_0x2a0bda=0x1605+-0x33f*-0x2+0x32b*-0x9+0.001;if(!_0x2684f0&&Math['abs'](_0x510a51-_0x2a7a9b['x'])<_0x2a0bda&&Math['abs'](_0x2b86c0-_0x2a7a9b['y'])<_0x2a0bda&&Math['abs'](_0x4ce1f8-_0x2a7a9b['z'])<_0x2a0bda&&Math['abs'](_0xe58259-_0x325444['x'])<_0x2a0bda&&Math['abs'](_0x47cb83-_0x325444['y'])<_0x2a0bda&&Math['abs'](_0x385967-_0x325444['z'])<_0x2a0bda&&Math['abs'](_0x5872fb-_0x4b456a)<-0x1021*0x1+-0x218+0x3*0x613+0.01)return;if(_0x56e67a){_0x386e50=!(-0x24dc+-0x2a5*0x1+0xd2b*0x3);return;}_0x56e67a=!(-0x16f3+0x49*-0x35+0x2610),_0x2684f0=!(-0x1034+0x1*-0x13f1+-0x1*-0x2426),_0x4b456a=_0x5872fb,_0x2a7a9b['x']=_0x510a51,_0x2a7a9b['y']=_0x2b86c0,_0x2a7a9b['z']=_0x4ce1f8,_0x325444['x']=_0xe58259,_0x325444['y']=_0x47cb83,_0x325444['z']=_0x385967,_0x386e50=!(0x2376+-0x437*-0x2+-0x23*0x141);const {sortIndexes:_0x33a410}=_0x3c13fd['exports'];try{const _0x46ceea=_0x33a410(_0x232ce8,_0x5f177b,_0x24669e,_0x14c4f7,_0x268e41,_0x3e1897,_0x278f57,_0x3157,_0x1ae4b4,_0x1533f8,_0x49b379,_0x5872fb||-0xf84+0x11fb+-0x277,_0x4e5dcf,_0x247bb7,_0x30a9d7,_0x2c6d9e,_0x3b893c,_0x13be7f,_0x198117,_0xdfd368),_0x43a139=new Uint32Array(_0x2e7aad);if(_0x46ceea===-0xf6b+-0x1d63*0x1+0x2*0x1667){debugger;console['log']('____\x20ENGIN'+'E','Indexes\x20co'+'unt\x20===\x20',_0x46ceea);}const _0x201f80=_0x2c6d9e!==_0x5c19b5||_0xd4834b!==_0x1612d1;self['postMessag'+'e']({'type':'sortComple'+'ted','count':_0x46ceea,'order':_0x43a139,'isNewOrder':_0x201f80},[_0x43a139['buffer']]),_0x5c19b5=_0x2c6d9e,_0xd4834b=_0x1612d1;}catch(_0xd43219){console['error'](':',_0xd43219),self['postMessag'+'e']({'type':'error','error':_0xd43219['message']});}_0x56e67a=!(-0x13bb+0x3*0x80d+-0x46b),_0x386e50&&_0x3f7725();};}class yC extends me{constructor(){super(),h(this,'worker',null),h(this,'numSplats',-0x1f38+0xc24*0x1+-0x21*-0x94),h(this,'is4d',!(0x8*-0x21d+-0xc2+-0x10a*-0x11)),h(this,'sortStartT'+'ime',-0x80*-0x1d+-0x46*-0x8c+-0x6*0x8cc),h(this,'orderTextu'+'re'),h(this,'backOrderT'+'exture'),h(this,'data',{}),(this['orderTextu'+'re']=null,this['backOrderT'+'exture']=null,this['worker']=null,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+SC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x516aa7=>{var _0x48d87a;if(!this['worker'])return;const {data:_0x186872}=_0x516aa7;switch(_0x186872['type']){case'initialize'+'d':this['fire']('initialize'+'d');break;case'sortComple'+'ted':_0x186872['order']&&(_0x186872['isNewOrder']&&(this['orderTextu'+'re']=this['backOrderT'+'exture']),(_0x48d87a=this['orderTextu'+'re'])==null||_0x48d87a['write'](-0x341+0x2e*-0x65+-0x1*-0x1567,-0x4b4*-0x2+-0xf1*0x5+0x3*-0x191,this['orderTextu'+'re']['width'],this['orderTextu'+'re']['height']-(-0x1*-0xf21+-0x1412+0x1*0x4f2),_0x186872['order']));let _0x304a05=0xa28+0x26fe+0xe9*-0x36;this['sortStartT'+'ime']!==-0xe17+-0x2eb*-0x1+0xb2c&&(_0x304a05=performance['now']()-this['sortStartT'+'ime']),this['fire']('updated',_0x516aa7['data']['count'],_0x304a05,_0x186872['isNewOrder']),this['sortStartT'+'ime']=-0x1a98+0xdc7*-0x1+-0x285f*-0x1;break;case'error':console['error']('Worker:',_0x186872['error']),this['fire']('error',_0x186872['error']);break;}},this['worker']['postMessag'+'e']({'type':'initWorker','sortWasmUrl':'https://fr'+'ontend.4dv'+'-intellige'+'nce.com/vi'+'ewer-stati'+'c/sorter-t'+'railing.wa'+'sm'});}['initData'](_0x4bce97,_0x484980,_0x348c5e,_0x1c4f0e,_0x43e682,_0x27d26b,_0x337392,_0x5f1c85){var _0x5bc09d;this['is4d']=_0x5f1c85,this['numSplats']=_0x484980['length']/(-0xbce*-0x3+-0xe*0x2a7+0x1bb),(!_0x337392||_0x337392['length']===0x9d*-0x2+0x109e+-0x2*0x7b2)&&(_0x337392=[0x2574+-0x4*-0x97a+-0x7*0xac4,-0x1e24+-0x6ad*-0x5+0x301*-0x1]),this['orderTextu'+'re']||(this['orderTextu'+'re']=_0x4bce97),this['backOrderT'+'exture']=_0x4bce97;const _0x49fdf6=new Date()['getTime']();(_0x5bc09d=this['worker'])==null||_0x5bc09d['postMessag'+'e']({'type':'initData','centers':_0x484980,'muT':_0x348c5e,'tScale':_0x1c4f0e,'motion':_0x43e682,'timeIndex':_0x27d26b,'timeOption':_0x337392,'is4d':_0x5f1c85,'id':_0x49fdf6});}['setCamera'](_0x2da716,_0x5cbb72){this['worker']&&(!_0x2da716||!_0x5cbb72||(this['data']['cameraPosi'+'tion']={'x':_0x2da716['x'],'y':_0x2da716['y'],'z':_0x2da716['z']},this['data']['cameraDire'+'ction']={'x':_0x5cbb72['x'],'y':_0x5cbb72['y'],'z':_0x5cbb72['z']},this['sortStartT'+'ime']===0x1139+-0x3*-0xc3d+-0x8*0x6be&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'sort','cameraPosition':{'x':_0x2da716['x'],'y':_0x2da716['y'],'z':_0x2da716['z']},'cameraDirection':{'x':_0x5cbb72['x'],'y':_0x5cbb72['y'],'z':_0x5cbb72['z']}})));}['setCurrent'+'Time'](_0x24e08d){this['worker']&&(this['data']['time']=_0x24e08d,this['sortStartT'+'ime']===-0x21e2+-0x30a+0x24ec&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'setTime','time':_0x24e08d}));}['setUseTemp'+'oralSort'](_0x1ce1bf){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseTemp'+'oralSort','useTemporalSort':_0x1ce1bf});}['setUseDyna'+'micSort'](_0x52f3d0){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseDyna'+'micSort','useDynamicSort':_0x52f3d0});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}const vC=new te(),Va=new D(),Ga=new D(),Sc=[0x7*-0x500+0x244*-0x3+0x217*0x14,0x1739+0xc0e*-0x3+0xcf1];class xC{constructor(_0x2f51d6,_0x114563={}){h(this,'resource'),h(this,'orderTextu'+'re'),h(this,'backOrderT'+'exture'),h(this,'_material'),h(this,'meshInstan'+'ce'),h(this,'options',{}),h(this,'sorter',null),h(this,'time',-0x621*0x5+0x1fb*0x9+-0x2*-0x669),h(this,'lastCamera'+'Position',new D()),h(this,'lastCamera'+'Direction',new D()),h(this,'resolveSH',null),h(this,'cameras',[]),h(this,'forceUpDat'+'eSorterTim'+'e',(_0xd04c67,_0x2f3258=void(-0xa93+-0x12b0+0x1d43))=>{(_0x2f3258||_0x2f3258===-0x1*-0x509+0x1d4f+-0x2258)&&(this['material']['setParamet'+'er']('uTime',_0x2f3258),this['updateTime'](_0x2f3258)),this['sort'](_0xd04c67);}),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Instance',_0x2f51d6['numSplats']),this['resource']=_0x2f51d6,this['orderTextu'+'re']=this['resource']['createText'+'ure']('splatOrder',Ki,this['resource']['evalTextur'+'eSize'](this['resource']['numSplats'])),this['backOrderT'+'exture']=null,_0x114563['material']?(this['_material']=_0x114563['material'],this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re'])):(this['_material']=new Xn({'uniqueName':'SplatMater'+'ial','vertexGLSL':'#include\x20\x22'+'gsplatVS\x22','fragmentGLSL':'#include\x20\x22'+'gsplatPS\x22','vertexWGSL':'#include\x20\x22'+'gsplatVS\x22','fragmentWGSL':'#include\x20\x22'+'gsplatPS\x22','attributes':{'vertex_position':Me,'vertex_id_attrib':ph}}),this['configureM'+'aterial'](this['_material']),this['_material']['update']()),this['meshInstan'+'ce']=new He(this['resource']['mesh'],this['_material']),this['meshInstan'+'ce']['setInstanc'+'ing'](this['resource']['instanceIn'+'dices'],!(-0x3*-0xf9+0x6ce*-0x5+0x1f1b)),this['meshInstan'+'ce']['gsplatInst'+'ance']=this,this['meshInstan'+'ce']['instancing'+'Count']=0x69*-0x2f+0x349+0xffe,this['sorter']=new yC(),this['sorter']['on']('initialize'+'d',()=>{var _0x11dfdc,_0x213a72,_0x18e591,_0x1c3495,_0x2256c5,_0x4ded30,_0x2fa270,_0x41ad40,_0x57cc30,_0xe2cf02,_0x2171db;const _0x3faf9e=new Float32Array(this['resource']['centers']['buffer']['slice']()),_0x2c6f39=new Float32Array(((_0x213a72=(_0x11dfdc=this['resource']['muT'])==null?void(-0x24d6+0x1b1d+-0x83*-0x13):_0x11dfdc['buffer'])==null?void(0x119*0x23+0x5c*0x5e+0x1811*-0x3):_0x213a72['slice']())??new Float32Array()),_0x2d489a=new Float32Array(((_0x1c3495=(_0x18e591=this['resource']['tScale'])==null?void(0xdfe+0x2377+-0x3175):_0x18e591['buffer'])==null?void(-0x119*0x7+0x8d*0x33+-0x1468):_0x1c3495['slice']())??new Float32Array()),_0x5432ae=new Float32Array(((_0x4ded30=(_0x2256c5=this['resource']['motion'])==null?void(0x1758+-0x4b*0x4d+-0xc9):_0x2256c5['buffer'])==null?void(-0x1420+0x1b57+-0x737):_0x4ded30['slice']())??new Float32Array()),_0x513603=new Float32Array(((_0x41ad40=(_0x2fa270=this['resource']['timeIndex'])==null?void(0x679*0x4+0x1*-0x26ab+0xcc7):_0x2fa270['buffer'])==null?void(-0x1241+-0x3b2+0x1*0x15f3):_0x41ad40['slice']())??new Float32Array(-0x3d*0x8f+-0x35*-0x3e+0x1*0x153d)),_0x551b48=new Float32Array(((_0xe2cf02=(_0x57cc30=this['resource']['timeOption'])==null?void(0xa5*0x33+-0x405+-0x1cda):_0x57cc30['buffer'])==null?void(-0x1*0x23c1+-0x249*-0x11+0x84*-0x6):_0xe2cf02['slice']())??new Float32Array());(_0x2171db=this['sorter'])==null||_0x2171db['initData'](this['orderTextu'+'re'],_0x3faf9e,_0x2c6f39,_0x2d489a,_0x5432ae,_0x513603,_0x551b48,this['resource']['is4D']);}),this['sorter']['on']('updated',async(_0x27e98a,_0x34ee24,_0x2ffa39)=>{var _0x488b95;this['meshInstan'+'ce']['instancing'+'Count']=Math['ceil'](_0x27e98a/this['resource']['instanceSi'+'ze']),_0x2ffa39&&this['backOrderT'+'exture']&&(console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatInst'+'ance\x20updat'+'ed'),[this['orderTextu'+'re'],this['backOrderT'+'exture']]=[this['backOrderT'+'exture'],this['orderTextu'+'re']],await this['resource']['updateText'+'ure'](),this['resource']['configureM'+'aterial'](this['_material']),this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re'])),_0x2ffa39&&((_0x488b95=this['resource'])==null||_0x488b95['fireAssets'+'ManagerTim'+'eIndex']()),this['material']['setParamet'+'er']('numSplats',_0x27e98a);}),this['setHighQua'+'litySH'](_0x114563['highQualit'+'ySH']??!(0x51+0xbdf+0x1*-0xc2f)));}async['updateInst'+'anceData'](_0x529e69){var _0x28dde7,_0x14b2a9;console['log']('____\x20ENGIN'+'E\x20IVAN','updateInst'+'anceData\x20A'+'SSETS\x20GSpl'+'atInstance',_0x529e69['numSplats']),this['resource']=_0x529e69;const _0x4f395e=this['resource']['evalTextur'+'eSize'](_0x529e69['centers']['length']/(0xba4+0x61d+-0x5ea*0x3));return(_0x28dde7=this['backOrderT'+'exture'])==null||_0x28dde7['destroy'](),this['backOrderT'+'exture']=this['resource']['createText'+'ure']('splatOrder'+'2',Ki,_0x4f395e),this['meshInstan'+'ce']['setInstanc'+'ing'](this['resource']['instanceIn'+'dices'],!(-0x17ab+-0x15a1+0xb53*0x4)),(_0x14b2a9=this['sorter'])==null||_0x14b2a9['initData'](this['backOrderT'+'exture'],_0x529e69['centers'],_0x529e69['muT'],_0x529e69['tScale'],_0x529e69['motion'],_0x529e69['timeIndex'],_0x529e69['timeOption'],_0x529e69['is4D']),new Promise(_0x2bbed4=>{var _0x100367;const _0x440232=(_0x3f9f84,_0x56766c,_0x46d587)=>{var _0x57fb96;_0x46d587&&((_0x57fb96=this['sorter'])==null||_0x57fb96['off']('updated',_0x440232),_0x2bbed4(!(-0x1f52+-0x1*-0x258d+-0x63b)));};(_0x100367=this['sorter'])==null||_0x100367['on']('updated',_0x440232);});}['destroy'](){var _0x2115e6,_0x50da7d,_0x5747e1,_0x157e04,_0x4cccee,_0xa33af6;(_0x2115e6=this['resolveSH'])==null||_0x2115e6['destroy'](),(_0x50da7d=this['material'])==null||_0x50da7d['destroy'](),(_0x5747e1=this['meshInstan'+'ce'])==null||_0x5747e1['destroy'](),(_0x157e04=this['sorter'])==null||_0x157e04['destroy'](),(_0x4cccee=this['orderTextu'+'re'])==null||_0x4cccee['destroy'](),(_0xa33af6=this['backOrderT'+'exture'])==null||_0xa33af6['destroy']();}set['material'](_0xcbcd31){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.set\x20'+'material'),this['_material']!==_0xcbcd31&&(this['_material']=_0xcbcd31,this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0xcbcd31));}get['material'](){return this['_material'];}['configureM'+'aterial'](_0x332e70,_0x24387e={}){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.conf'+'igureMater'+'ial'),this['resource']['configureM'+'aterial'](_0x332e70),_0x332e70['setParamet'+'er']('numSplats',0xe3*0x29+-0x923+-0x1b38),_0x332e70['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),_0x332e70['setParamet'+'er']('alphaClip',0x5*0x446+-0x2*0x409+-0xd4c+0.3),_0x332e70['setDefine']('DITHER_'+(_0x24387e['dither']?'BLUENOISE':'NONE'),''),_0x332e70['cull']=bt,_0x332e70['blendType']=_0x24387e['dither']?Cs:Zs,_0x332e70['depthWrite']=!!_0x24387e['dither'];}['updateView'+'port'](_0xc7db94){var _0x33dee6;const _0x3047fb=_0xc7db94==null?void(-0x22a*0xa+-0x2278+0x381c):_0xc7db94['camera'],_0xbf4196=_0x3047fb==null?void(0x19d*-0xb+-0xecf+0x3*0xada):_0x3047fb['renderTarg'+'et'],{width:_0xdbf353,height:_0x42dc6f}=_0xbf4196??this['resource']['device'];Sc[-0x149+-0x120e*-0x1+0x1dd*-0x9]=_0xdbf353,Sc[-0x169e+-0xce3+0x2382]=_0x42dc6f;const _0x982970=(_0x33dee6=_0x3047fb==null?void(0x1bab*0x1+-0x1869+-0x342):_0x3047fb['camera'])==null?void(0x1b9b+0x9*-0x23b+-0x788):_0x33dee6['xr'];_0x982970!=null&&_0x982970['active']&&_0x982970['views']['list']['length']===0x2000+-0xb0a*0x3+-0x30*-0x6&&(Sc[-0x73b+0x16*0x52+0x1*0x2f]*=0x1704+-0x1e80+0x1*0x77c+0.5),this['material']['setParamet'+'er']('viewport',Sc);}['sort'](_0x99e3f6){if(this['sorter']){const _0x3ca9e4=_0x99e3f6['getWorldTr'+'ansform']();_0x3ca9e4['getTransla'+'tion'](Va),_0x3ca9e4['getZ'](Ga);const _0x5224e5=this['meshInstan'+'ce']['node']['getWorldTr'+'ansform'](),_0x41a8f2=vC['invert'](_0x5224e5);_0x41a8f2['transformP'+'oint'](Va,Va),_0x41a8f2['transformV'+'ector'](Ga,Ga),(!Va['equalsAppr'+'ox'](this['lastCamera'+'Position'])||!Ga['equalsAppr'+'ox'](this['lastCamera'+'Direction']))&&(this['lastCamera'+'Position']['copy'](Va),this['lastCamera'+'Direction']['copy'](Ga),this['sorter']['setCamera'](Va,Ga)),this['sorter']['setCurrent'+'Time'](this['time']);}this['updateView'+'port'](_0x99e3f6);}['update'](){var _0x16a8ee;if(this['cameras']['length']>0x7ec*-0x2+-0x1e6e+0x2e46){const _0x13c5ed=this['cameras'][-0x12d+-0x20d9+0x2206];this['sort'](_0x13c5ed['_node']),(_0x16a8ee=this['resolveSH'])==null||_0x16a8ee['render'](_0x13c5ed['_node'],this['meshInstan'+'ce']['node']['getWorldTr'+'ansform']()),this['cameras']['length']=0x7*0x26+-0x5e2*0x3+0x109c;}}['setHighQua'+'litySH'](_0xaacfec){const {resource:_0x1d37e5}=this,{gsplatData:_0x5ae611}=_0x1d37e5;_0x5ae611 instanceof gC&&_0x5ae611['shBands']>0x21b3*-0x1+0xc0*-0xf+0x1*0x2cf3&&_0xaacfec===!!this['resolveSH']&&(this['resolveSH']?(this['resolveSH']['destroy'](),this['resolveSH']=null):this['resolveSH']=new fC(_0x1d37e5['device'],this));}['updateTime'](_0xedb18b){this['time']=_0xedb18b;}}class Rv{constructor(_0x3dfa24,_0x1a5eab){h(this,'sceneInfo',{}),h(this,'isDestroye'+'d',!(0x1287+0xb10+-0x19*0x12f)),h(this,'device'),h(this,'gsplatData'),h(this,'centers'),h(this,'aabb'),h(this,'mesh'),h(this,'instanceIn'+'dices'),h(this,'gsplatInst'+'ance'),(this['device']=_0x3dfa24,this['gsplatData']=_0x1a5eab,this['isDestroye'+'d']=!(0x22b7+0x1f83+-0x4239));const _0x4b74f5=-0x2ed*-0x7+-0xe*-0x167+-0x279d,_0x4f78f2=Math['ceil'](_0x1a5eab['numSplats']/_0x4b74f5)*_0x4b74f5/_0x4b74f5,_0x228b75=new Uint32Array(_0x4f78f2);for(let _0x2aac85=-0x4*-0x668+-0x7e0+-0x238*0x8;_0x2aac85<_0x4f78f2;++_0x2aac85)_0x228b75[_0x2aac85]=_0x2aac85*_0x4b74f5;const _0x47d69a=new kt(_0x3dfa24,[{'semantic':ph,'components':0x1,'type':el,'asInt':!(0x8*-0x11+0x86e+-0x7e6)}]),_0x174f0b=new Float32Array((0x17d*0x9+0x414+-0x116d)*_0x4b74f5),_0x38d528=new Uint32Array((-0x414+0x1e56+-0x1a3c)*_0x4b74f5);for(let _0x5d1a48=0x167e+-0x1*0x16c9+0x4b;_0x5d1a48<_0x4b74f5;++_0x5d1a48){_0x174f0b['set']([-(0x16a9+0x2*0x679+-0x239a),-(0xf6*-0x14+-0xc81+-0x83*-0x3e),_0x5d1a48,-0x3d8*0x2+-0x5c*0x6a+-0x2dc9*-0x1,-(0xc01*0x3+0x8*0x232+-0x2*0x1ac9),_0x5d1a48,0xa5d*-0x1+-0x665+-0x7*-0x265,0x1bd3+-0x1a82+-0x150,_0x5d1a48,-(0x2254+-0x6a*-0x5e+0x11*-0x44f),-0x1425+-0x1725+0x2b4b,_0x5d1a48],_0x5d1a48*(-0x16*-0xee+-0x3*-0x9a9+-0x3163));const _0x557647=_0x5d1a48*(0x16eb+0x1f5e+-0x3645);_0x38d528['set']([-0x11*-0x223+0x735+-0x2b88+_0x557647,-0x252e+0x2e*0xb3+0x505+_0x557647,-0xe16+0x6*0x3e4+-0x8*0x128+_0x557647,-0x3*0x33b+0x23e7+0x131*-0x16+_0x557647,0xcca+0x1d82*0x1+-0x2a4a+_0x557647,-0x221c+-0x2*-0x120a+-0x1f5+_0x557647],_0x5d1a48*(0x3*-0x231+-0x1515+-0x1bae*-0x1));}this['mesh']=new Ge(_0x3dfa24),this['mesh']['setPositio'+'ns'](_0x174f0b,0x251*0xa+-0x1*0x11+-0x1716),this['mesh']['setIndices'](_0x38d528),this['mesh']['update'](),this['mesh']['incRefCoun'+'t'](),this['instanceIn'+'dices']=new Is(_0x3dfa24,_0x47d69a,_0x4f78f2,{'usage':ms,'data':_0x228b75['buffer']});}['updateData'](){var _0x34b09f;const _0x190292=this['gsplatData'];if(!_0x190292)return;const _0x5179ce=-0x614*-0x4+0x952+-0x2*0x1091,_0x267fa9=Math['ceil'](_0x190292['numSplats']/_0x5179ce)*_0x5179ce/_0x5179ce,_0x9f973a=new Uint32Array(_0x267fa9);for(let _0x40218b=0x1*-0x22be+0x19d9+0x8e5;_0x40218b<_0x267fa9;++_0x40218b)_0x9f973a[_0x40218b]=_0x40218b*_0x5179ce;const _0x3f5a59=new kt(this['device'],[{'semantic':ph,'components':0x1,'type':el,'asInt':!(-0x2641+0x1c3f+0xa02)}]),_0x41d2aa=new Float32Array((0x4c7+-0xcb*0xa+0x5b*0x9)*_0x5179ce),_0x4e0d85=new Uint32Array((-0x2315+0x2*0xb5f+-0xc5d*-0x1)*_0x5179ce);for(let _0x2a5905=-0x554+0x1cf4*-0x1+0x2248;_0x2a5905<_0x5179ce;++_0x2a5905){_0x41d2aa['set']([-(-0x1*0x746+0x2*0x100f+-0x18d7),-(-0x1bfe*-0x1+0x156e+-0x316b),_0x2a5905,-0x1e31+-0x2*-0xc43+0x5ac,-(-0x18c6+-0x194*0x14+0x3857),_0x2a5905,0x1cb5*0x1+-0x7*-0x393+-0x35b9,-0x935*0x1+0xa45+-0x10f,_0x2a5905,-(-0x26b*-0xb+0x125b+0x2cf3*-0x1),0x13e2+0x1571+0x56*-0x7b,_0x2a5905],_0x2a5905*(0xce7+-0x1516+-0x12d*-0x7));const _0x395c1d=_0x2a5905*(0x59*0x1f+0x266*0x8+-0x1df3);_0x4e0d85['set']([0x2*-0xa5a+-0x4*0x4f1+-0xa*-0x40c+_0x395c1d,-0xe75*-0x1+0xbb*0x13+-0x1c55+_0x395c1d,0x9e*-0xd+-0x6b9+0xec1+_0x395c1d,0x6d*-0x53+-0x2273+0x1*0x45ca+_0x395c1d,0x921+0x16f2+-0x2011*0x1+_0x395c1d,-0x2ff*-0x1+-0x24db+0x21df+_0x395c1d],_0x2a5905*(-0x1*0xc63+0x147e+0x1*-0x815));}this['mesh']['setPositio'+'ns'](_0x41d2aa,-0x1*0x1d3e+0x8*-0x3df+-0x1b*-0x23b),this['mesh']['setIndices'](_0x4e0d85),this['mesh']['update'](),this['mesh']['incRefCoun'+'t'](),(_0x34b09f=this['instanceIn'+'dices'])==null||_0x34b09f['destroy'](),this['instanceIn'+'dices']=new Is(this['device'],_0x3f5a59,_0x267fa9,{'usage':ms,'data':_0x9f973a['buffer']});}['updateText'+'ure'](){}['destroy'](){var _0x30bd0f,_0x22e6b3,_0x32ce0c,_0x1f6ec5;(_0x30bd0f=this['mesh'])==null||_0x30bd0f['destroy'](),(_0x22e6b3=this['instanceIn'+'dices'])==null||_0x22e6b3['destroy'](),(_0x32ce0c=this['gsplatData'])==null||_0x32ce0c['destroy'](),this['gsplatData']=null,(_0x1f6ec5=this['gsplatInst'+'ance'])==null||_0x1f6ec5['destroy'](),this['gsplatInst'+'ance']=void(-0x193b+0x1+0x193a),this['isDestroye'+'d']=!(-0x14af+0x13c*0x15+-0x53d),this['mesh']=null;}get['instanceSi'+'ze'](){return 0x19*-0xa5+-0x3*-0xb1+0xe8a;}get['numSplats'](){var _0x116db3;return(_0x116db3=this['gsplatData'])==null?void(0xe9+0x1*-0x19b+0xb2):_0x116db3['numSplats'];}['setSceneIn'+'fo'](_0x20e43c){}['configureM'+'aterial'](_0x194fc4){}['evalTextur'+'eSize'](_0x2c13d5){return J['ZERO'];}['appendGSpl'+'atResource'](_0x46de00,_0x43e082,_0x56411e,_0x57f50e,_0x207a32){}['fireAssets'+'ManagerTim'+'eIndex'](){}['createText'+'ure'](_0x51e807,_0x105124,_0x1d707b,_0x5f8c0b){return new _e(this['device'],{'name':_0x51e807,'width':_0x1d707b['x'],'height':_0x1d707b['y'],'format':_0x105124,'cubemap':!(-0x1269+0x7f0+0x6*0x1bf),'mipmaps':!(0x4*0x65+0x117e+-0x1311),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,..._0x5f8c0b?{'levels':[_0x5f8c0b]}:{}});}['instantiat'+'e'](){w['removed']('GSplatReso'+'urce.insta'+'ntiate\x20is\x20'+'removed.\x20U'+'se\x20gsplat\x20'+'component\x20'+'instead');}['createInst'+'ance'](_0x352c24,_0x53a547){return this['gsplatInst'+'ance']=new xC(_0x352c24,_0x53a547),this['gsplatInst'+'ance'];}}async function TC(){const _0x58fae7=new Float32Array(-0x26e7+-0x9*-0x33f+-0x33b*-0x3),_0x424b7d=new Int32Array(_0x58fae7['buffer']);let _0x573b22=null,_0x4f53f8=null,_0x2e3ba4=null,_0x2f4eb6=null,_0x28abaf=null,_0x30cc2e=null,_0x4412a3=null,_0x423478=null;self['onmessage']=async _0x1297fc=>{const {data:_0x30949f}=_0x1297fc;switch(_0x30949f['type']){case'initWorker':break;case'updateSHDa'+'ta1':_0x6e979(_0x30949f['numSplats'],_0x30949f['shBands'],_0x30949f['SHData']);break;case'updateColo'+'rData':_0x3643dd(_0x30949f['numSplats'],_0x30949f['cr'],_0x30949f['cg'],_0x30949f['cb'],_0x30949f['ca']);break;case'updateTran'+'sformData':_0x3ca40e(_0x30949f['numSplats'],_0x30949f['is4D'],_0x30949f['x'],_0x30949f['y'],_0x30949f['z'],_0x30949f['rx'],_0x30949f['ry'],_0x30949f['rz'],_0x30949f['rw'],_0x30949f['mx'],_0x30949f['my'],_0x30949f['mz'],_0x30949f['sx'],_0x30949f['sy'],_0x30949f['sz'],_0x30949f['muT'],_0x30949f['tScale']);break;case'calcAabb':_0x470513(_0x30949f['numSplats'],_0x30949f['x'],_0x30949f['y'],_0x30949f['z'],_0x30949f['sx'],_0x30949f['sy'],_0x30949f['sz']);break;case'destroyWor'+'ker':_0x5341cf();break;}};class _0x4e3f93{constructor(_0x1ade20=0x3fa*0x1+0x1d*0xfc+-0x2086,_0x33eb17=-0x1b65+0x38*-0xa6+0x3fb5,_0x124a73=-0x96a*0x2+-0x1dfe+0x30d2,_0xb7eae7=-0x1623+-0x555+0x1b79){this['x']=_0x1ade20,this['y']=_0x33eb17,this['z']=_0x124a73,this['w']=_0xb7eae7;}['set'](_0x2d22e7,_0x103a32,_0x457a20,_0x4138ff){return this['x']=_0x2d22e7,this['y']=_0x103a32,this['z']=_0x457a20,this['w']=_0x4138ff,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x24076c=this){let _0x2f4f49=_0x24076c['length']();return _0x2f4f49===0x2*0xbe7+0x2b5+0xb*-0x269?(this['x']=this['y']=this['z']=-0x10e6+0x1*0x1fab+-0xec5,this['w']=0x3*0x459+0x5*-0x27+-0x1c1*0x7):(_0x2f4f49=(0x9f0+-0x1*0x2051+0x1662)/_0x2f4f49,this['x']=_0x24076c['x']*_0x2f4f49,this['y']=_0x24076c['y']*_0x2f4f49,this['z']=_0x24076c['z']*_0x2f4f49,this['w']=_0x24076c['w']*_0x2f4f49),this;}['mulScalar'](_0x2f53d4,_0x51cad0=this){return this['x']=_0x51cad0['x']*_0x2f53d4,this['y']=_0x51cad0['y']*_0x2f53d4,this['z']=_0x51cad0['z']*_0x2f53d4,this['w']=_0x51cad0['w']*_0x2f53d4,this;}}const _0x5060bb=_0x4d15bf=>{_0x58fae7[0xfae+0x5bf+-0x5*0x449]=_0x4d15bf;const _0x5ec149=_0x424b7d[-0x22d+0x1c8a+0x1a5d*-0x1];let _0x373c22=_0x5ec149>>0x5dc+0x2278*-0x1+0x2de*0xa&-0x2856*-0x1+-0x1dd7*-0x1+0x39d3,_0x2ae84c=_0x5ec149>>-0xa*0x229+-0x1ec8+0x6*0x8bd&-0x1*-0x22e1+-0x1*0x1d3b+0x259;const _0x44f484=_0x5ec149>>0x8c5+0xc20+-0x14ce&-0x1bdc+-0x9*-0x28b+0x5f8;return _0x44f484<0x1*-0x18dc+0x12a*0xd+0x1*0xa21?_0x373c22:_0x44f484>0x1*0x2096+-0x6*-0x4cf+-0x3ce2?(_0x373c22|=0x45b6+0x3535*-0x3+0xd5e9,_0x373c22|=(_0x44f484===-0x12a2+0x2228+0x1*-0xe87?-0x1b5b+-0x2154+0x3caf:-0x67*0x53+0xbbb+-0x1*-0x15ab)&&_0x5ec149&0x36857*0x2a+-0x1*-0x5a9cd7+-0x69bb1e,_0x373c22):_0x44f484<-0x2365+0xe43*0x1+0x107*0x15?(_0x2ae84c|=0x1a4b+-0x95d*0x1+-0x8ee,_0x373c22|=(_0x2ae84c>>-0x72*-0x1c+0x252d+-0x3133-_0x44f484)+(_0x2ae84c>>0x98c+0x1ab8+0x3*-0xbf1-_0x44f484&-0x1dd6+0x1522+0x8b5),_0x373c22):(_0x373c22|=_0x44f484-(-0x5ad*-0x2+0x82f*0x4+0x97*-0x4a)<<0x1d6b+0xe19+-0x2b7a|_0x2ae84c>>0x4*0x94f+-0x67*-0x55+-0x476e,_0x373c22+=_0x2ae84c&0x2268+-0x34+-0x2233*0x1,_0x373c22);},_0x470513=(_0x12a185,_0x57040b,_0x3e6ac0,_0x2250b3,_0x53b8cf,_0x497401,_0x11cc05)=>{let _0x14f1ec=-0x1d3*-0x1+0x52e*-0x2+0x889,_0x5473d2=0x2e*-0x67+0x130*0xc+0x442,_0x50a060=-0xc83+0x1dde+-0x115b,_0x9e3ff6=0x1*-0x65b+0x44*-0xe+0xa13*0x1,_0x20a3cb=0x9e6+-0x65d+-0x5*0xb5,_0x8bd3dd=-0x60e+-0x1*0x16f6+-0x6*-0x4d6,_0x44d88f=!(-0x1243*0x1+-0x1f4c+-0x318f*-0x1);const _0x2e7b84=new Float32Array(-0x3*-0xae4+0x100b+0x185a*-0x2),_0x259cae=new Float32Array(-0x1*-0x15e9+0x48e+-0x1a74);for(let _0x1ce672=-0xf*0xf1+0x51b+-0x904*-0x1;_0x1ce672<_0x12a185;++_0x1ce672){const _0xabc7e2=_0x57040b[_0x1ce672],_0x49e00c=_0x3e6ac0[_0x1ce672],_0x4d3a74=_0x2250b3[_0x1ce672],_0x1524f1=Math['max'](_0x53b8cf[_0x1ce672],_0x497401[_0x1ce672],_0x11cc05[_0x1ce672]);if(!isFinite(_0xabc7e2)||!isFinite(_0x49e00c)||!isFinite(_0x4d3a74)||!isFinite(_0x1524f1))continue;const _0x153d9b=(0x1c0d+0x2*0xf4f+-0x1*0x3aa9)*Math['exp'](_0x1524f1);_0x44d88f?(_0x44d88f=!(0x21ad+-0x1943+-0x1*0x869),_0x14f1ec=_0xabc7e2-_0x153d9b,_0x5473d2=_0x49e00c-_0x153d9b,_0x50a060=_0x4d3a74-_0x153d9b,_0x9e3ff6=_0xabc7e2+_0x153d9b,_0x20a3cb=_0x49e00c+_0x153d9b,_0x8bd3dd=_0x4d3a74+_0x153d9b):(_0x14f1ec=Math['min'](_0x14f1ec,_0xabc7e2-_0x153d9b),_0x5473d2=Math['min'](_0x5473d2,_0x49e00c-_0x153d9b),_0x50a060=Math['min'](_0x50a060,_0x4d3a74-_0x153d9b),_0x9e3ff6=Math['max'](_0x9e3ff6,_0xabc7e2+_0x153d9b),_0x20a3cb=Math['max'](_0x20a3cb,_0x49e00c+_0x153d9b),_0x8bd3dd=Math['max'](_0x8bd3dd,_0x4d3a74+_0x153d9b));}_0x44d88f||(_0x2e7b84[0x4eb*0x1+-0x35c+-0x18f]=(_0x14f1ec+_0x9e3ff6)*(0x1139*0x1+-0x1eb6+0xd7d+0.5),_0x2e7b84[0xb*0x31d+0x254f*0x1+-0xd*0x581]=(_0x5473d2+_0x20a3cb)*(0x1*-0x1593+0x49b+0x10f8+0.5),_0x2e7b84[-0x163d+-0x730+0x1d6f]=(_0x50a060+_0x8bd3dd)*(0x28*0xbb+0x23a2+-0x40da+0.5),_0x259cae[0x220e+0x8*0x211+-0x3296]=(_0x9e3ff6-_0x14f1ec)*(-0x11*-0x106+-0x8bf+-0x8a7+0.5),_0x259cae[-0xb51+-0x1eb0+0x13*0x236]=(_0x20a3cb-_0x5473d2)*(-0xac1+0x5d9*0x2+0xf1*-0x1+0.5),_0x259cae[0x7cf+0x12aa+-0x1a77]=(_0x8bd3dd-_0x50a060)*(0x24e7+0x22e6+-0x47cd+0.5)),self['postMessag'+'e']({'type':'updatedAab'+'bData','center':_0x2e7b84,'halfExtents':_0x259cae});},_0x3ca40e=(_0x62ac33,_0x180dfa,_0x411d4d,_0x459408,_0x20f2d0,_0x5bea74,_0x215725,_0x77a9a3,_0x57fda3,_0x42465b,_0x559a62,_0x29cb53,_0x30113d,_0x197eb5,_0x211a4e,_0x47e10a,_0x25f691)=>{_0x5341cf(),_0x573b22=new Float32Array(_0x62ac33*(-0x78a+-0x1961+0x20ee)),_0x2f4eb6=new Float32Array(_0x62ac33*(0x2335*0x1+0x13*0x7+-0x23b7*0x1)),_0x30cc2e=new Uint16Array(_0x62ac33*(0x1ea+-0x5af*0x5+0x1a84)),_0x2e3ba4=new Float32Array(_0x62ac33*(-0x1ca2*0x1+0x8*0x37+0x1aed)),_0x180dfa&&(_0x28abaf=new Float32Array(_0x62ac33*(0xd58+0x25b2+0x3307*-0x1)),_0x4f53f8=new Float32Array(_0x62ac33*(-0x374+0x188e+0x1517*-0x1)),_0x4412a3=new Float32Array(_0x62ac33*(-0x172f+-0x4*0x850+0x5a5*0xa)),_0x423478=new Float32Array(_0x62ac33));const _0x14d363=new _0x4e3f93(0xd*-0x1f5+0x7ed+0x1*0x1184,-0x5b8+-0x22e9+0xd8b*0x3,-0x1*0x274+-0x1f1c+-0x166*-0x18,-0x1*0x1261+0x1*-0xd69+0x1fca);for(let _0x4e59a8=-0x1a73+-0x2*0xc95+-0x339d*-0x1;_0x4e59a8<_0x62ac33;_0x4e59a8++)_0x14d363['set'](_0x5bea74[_0x4e59a8],_0x215725[_0x4e59a8],_0x77a9a3[_0x4e59a8],_0x57fda3[_0x4e59a8]),_0x14d363['normalize'](),_0x14d363['w']<-0x1*-0x1f38+0xef*0x1b+0x9*-0x645&&_0x14d363['mulScalar'](-(0x1*0xcf7+-0x2182+0x523*0x4)),_0x2f4eb6[_0x4e59a8*(-0x8*0x178+-0x1*-0x9ee+-0x43*-0x7)+(-0x1*0xcbe+0x74*0x4b+-0x153e)]=_0x411d4d[_0x4e59a8],_0x2f4eb6[_0x4e59a8*(0x39*0x81+-0x14f6+0x8*-0xf8)+(-0x7c*0x4c+-0x71*0x34+-0x6b*-0x8f)]=_0x459408[_0x4e59a8],_0x2f4eb6[_0x4e59a8*(-0x22d8*-0x1+-0x273+-0x2062)+(0x16c4+0x711+-0x9f1*0x3)]=_0x20f2d0[_0x4e59a8],_0x573b22[_0x4e59a8*(-0xe24+-0x1026+0x1e4d*0x1)+(-0x24fb+0x1*-0xaba+0x2fb5)]=_0x411d4d[_0x4e59a8],_0x573b22[_0x4e59a8*(-0xf*-0x1f6+0x11be+-0x9*0x53d)+(0x63*-0x15+-0x12f*-0x1d+-0x1a33)]=_0x459408[_0x4e59a8],_0x573b22[_0x4e59a8*(-0x2198+-0x433*0x2+0x2a01)+(-0x919+-0x19e4+0x22ff)]=_0x20f2d0[_0x4e59a8],_0x30cc2e[_0x4e59a8*(0x1f8e+0x9f6+-0x2981)+(0x8ee*-0x3+0x285+0x1845*0x1)]=_0x5060bb(Math['exp'](_0x30113d[_0x4e59a8])),_0x30cc2e[_0x4e59a8*(0x1*0x2169+0x83*0x13+-0x2b1f)+(0x3*0x909+0x56e+-0x56c*0x6)]=_0x5060bb(Math['exp'](_0x197eb5[_0x4e59a8])),_0x30cc2e[_0x4e59a8*(-0x229b*0x1+-0x119f*-0x2+-0xa0)+(-0x11ab+0xb*-0x1b0+-0x1*-0x243d)]=_0x5060bb(Math['exp'](_0x211a4e[_0x4e59a8])),_0x2e3ba4[_0x4e59a8*(0x127+-0xd34+-0x2*-0x608)+(0x2097+-0xfce+-0x10c9)]=_0x14d363['x'],_0x2e3ba4[_0x4e59a8*(-0x1146+-0xaa3*-0x2+0x1*-0x3fd)+(-0x2*0x251+-0x4ba+0x95d)]=_0x14d363['y'],_0x2e3ba4[_0x4e59a8*(0x1ed0+-0x71e+-0x8d*0x2b)+(-0x18e4+0x1164+0x2*0x3c1)]=_0x14d363['z'],_0x180dfa&&_0x28abaf&&_0x4f53f8&&(_0x28abaf[_0x4e59a8*(0x2c6*-0xb+-0x3*-0x427+0x1210)+(-0x235f*0x1+0x2030+0x32f)]=_0x42465b[_0x4e59a8],_0x28abaf[_0x4e59a8*(-0x129b+-0x79b+0x1a39)+(-0x19d*0x5+-0xb*-0x122+-0x464)]=_0x559a62[_0x4e59a8],_0x28abaf[_0x4e59a8*(0x2b*-0x27+0x2382+-0x1cf2)+(0x1*0x2146+-0x248f+-0x3*-0x119)]=_0x29cb53[_0x4e59a8],_0x4412a3[_0x4e59a8*(-0x21f6+-0x1aa6+-0x15*-0x2e3)+(-0x26a1+-0xb56*-0x2+-0x2b*-0x5f)]=_0x42465b[_0x4e59a8],_0x4412a3[_0x4e59a8*(-0x1cda+-0x199a+0x3677)+(-0x22*0xef+0x17*-0x38+0x24c7)]=_0x559a62[_0x4e59a8],_0x4412a3[_0x4e59a8*(-0x89f*0x4+0xf67+0x1318)+(-0x1bcb+-0x15a8+0x3175)]=_0x29cb53[_0x4e59a8],_0x423478[_0x4e59a8]=_0x25f691?Math['exp'](_0x25f691[_0x4e59a8]):0x17e9*0x1+0x162d+0x2b6*-0x11,_0x4f53f8[_0x4e59a8*(-0x233+-0x1*-0x13d+0xf9)+(0x1*0x253d+0x1c4f+0xa*-0x68e)]=_0x47e10a?_0x47e10a[_0x4e59a8]:0x14ac+-0x251*-0xb+-0x2e27*0x1,_0x4f53f8[_0x4e59a8*(0xcf7+0x2708*0x1+-0x2*0x19fe)+(-0x18c7*-0x1+-0xd8c+0x1*-0xb3a)]=_0x423478[_0x4e59a8]);const _0x5a414f=[_0x573b22['buffer'],_0x2f4eb6['buffer'],_0x30cc2e['buffer'],_0x2e3ba4['buffer']];_0x180dfa&&_0x5a414f['push'](_0x28abaf['buffer'],_0x4f53f8['buffer'],_0x4412a3['buffer'],_0x423478['buffer']),self['postMessag'+'e']({'type':'updatedTra'+'nsformData','centers':_0x573b22,'dataPosition':_0x2f4eb6,'dataScale':_0x30cc2e,'dataRotation':_0x2e3ba4,'dataMotion':_0x28abaf,'dataTime':_0x4f53f8,'motion':_0x4412a3,'tScaleArray':_0x423478},_0x5a414f);},_0x3643dd=(_0x2555e7,_0x16adb,_0x61b7b3,_0x3fc04d,_0x23f38d)=>{const _0x55b66f=new Uint16Array(_0x2555e7*(0x7c7+0x46*-0x1e+0x71)),_0xaa6514=0x2d2*-0xa+-0x1*-0xa9f+0x1195+0.28209479177387814;for(let _0x44f6ec=-0x1d06+-0x3b*-0x67+-0x1c3*-0x3;_0x44f6ec<_0x2555e7;++_0x44f6ec){const _0xbf7b81=_0x16adb[_0x44f6ec]*_0xaa6514+(-0xa23+-0xb7*-0x5+0x690+0.5),_0xd81f60=_0x61b7b3[_0x44f6ec]*_0xaa6514+(0x38d+-0x393*-0x3+-0xe46+0.5),_0x91900=_0x3fc04d[_0x44f6ec]*_0xaa6514+(-0x1204*-0x2+-0x1758+0x658*-0x2+0.5),_0x43007f=_0x23f38d[_0x44f6ec];_0x55b66f[_0x44f6ec*(0x7*-0x1ac+-0x1273+-0x1*-0x1e2b)+(-0x24*-0x94+0x1d*-0xe3+0x4e7)]=_0x5060bb(_0xbf7b81),_0x55b66f[_0x44f6ec*(-0x930+0x92e+0x6)+(-0x914*-0x1+0x2e*0x17+-0xd35)]=_0x5060bb(_0xd81f60),_0x55b66f[_0x44f6ec*(0x1*0x16b3+0x3*0x511+0x12f1*-0x2)+(0x328+-0x7*-0x6e+-0x8*0xc5)]=_0x5060bb(_0x91900),_0x55b66f[_0x44f6ec*(-0x1*0xb8d+0x1b3d+0x22*-0x76)+(0x18e1+0xb5*-0x37+0xe05)]=_0x5060bb(_0x43007f);}self['postMessag'+'e']({'type':'updatedCol'+'orData','data':_0x55b66f});},_0x6e979=(_0x30ab0c,_0xde79af,_0x3065af)=>{const _0x128eec=new Uint32Array(_0x30ab0c*(-0x643+0x11b9+-0xb72)),_0x1f14b1=new Uint32Array(_0x30ab0c*(-0x1999+-0x22e9+0x3d*0xfe)),_0x395fc8=new Uint32Array(_0x30ab0c*(-0x166+0x1*-0xbcf+0xd39)),_0x4b6dd1=new Uint32Array(_0x30ab0c*(-0x5c2+0x1ff4+-0x1a2e)),_0x7314c={0x1:0x3,0x2:0x8,0x3:0xf}[_0xde79af],_0x550a76=_0x3065af,_0x5a950d=-0x4*-0x8ad+-0x2122+0x23*0x2f,_0x33f93a=0x1fc9+-0x18a5+-0x17*0x23,_0x1546c2=new Float32Array(-0x226c+0x562*-0x4+0xbf*0x4b),_0xe6cc61=new Uint32Array(_0x1546c2['buffer']),_0x5eb932=new Array(_0x7314c*(-0x13*-0x7b+-0x30*-0x8b+-0x1da*0x13))['fill'](-0x1de1+0x52e+0x18b3);for(let _0x4fdc5b=0xb0b*-0x3+0x1768+0x9b9;_0x4fdc5b<_0x30ab0c;++_0x4fdc5b){for(let _0x1e6d9f=0x200+-0x1785+-0x313*-0x7;_0x1e6d9f<_0x7314c;++_0x1e6d9f)_0x5eb932[_0x1e6d9f*(0x12a*-0x7+-0x4d9*0x1+0xd02)]=_0x550a76[_0x1e6d9f][_0x4fdc5b],_0x5eb932[_0x1e6d9f*(-0x19f5+0x14b*0x11+0x3fd)+(0x182d+0x2650+-0xa6a*0x6)]=_0x550a76[_0x1e6d9f+_0x7314c][_0x4fdc5b],_0x5eb932[_0x1e6d9f*(-0x103*0x26+-0x1dc8+0x1*0x443d)+(-0x23f2+0x23ab+0x49*0x1)]=_0x550a76[_0x1e6d9f+_0x7314c*(-0x979+0x8a0*-0x3+0x235b)][_0x4fdc5b];let _0x17a181=_0x5eb932[0xdb*0x6+0x219f+-0x1*0x26c1];for(let _0x1d2bd6=-0x1b9d*0x1+0x2a6*-0x9+0x1*0x3374;_0x1d2bd6<_0x7314c*(-0xac2+-0xa00+0x1*0x14c5);++_0x1d2bd6)_0x17a181=Math['max'](_0x17a181,Math['abs'](_0x5eb932[_0x1d2bd6]));if(_0x17a181!==0x1d15+0x135d*-0x1+0x4*-0x26e){for(let _0x5de70e=-0x1c*-0xab+0x66+-0x65e*0x3;_0x5de70e<_0x7314c;++_0x5de70e)_0x5eb932[_0x5de70e*(0x52d+-0x10b*-0x10+-0x15da)+(-0x20b9+0x4*0x4c0+0x1*0xdb9)]=Math['max'](0x377*-0x1+0x2*-0xeb9+0x20e9,Math['min'](_0x5a950d,Math['floor']((_0x5eb932[_0x5de70e*(-0x4d4+-0x1*-0x1871+-0xc1*0x1a)+(-0x1885+0x1971+0xec*-0x1)]/_0x17a181*(-0x18a6*-0x1+0x22da+-0x3b80+0.5)+(-0x1d6*0x13+-0x62f+0x2911+0.5))*_0x5a950d+(0x21*0x66+0x2*0x11d4+-0x30ce+0.5)))),_0x5eb932[_0x5de70e*(-0x4*0x718+-0x572+0x21d5)+(0x1f3a+-0x1d79+0x10*-0x1c)]=Math['max'](-0x2f*0x29+0x12f*-0x19+0x251e,Math['min'](_0x33f93a,Math['floor']((_0x5eb932[_0x5de70e*(0x1*-0x1f6f+-0x227+0x3d*0x8d)+(-0x33b+0x69a*0x2+-0x9f8)]/_0x17a181*(0x82f+0x1*0xc13+-0xa21*0x2+0.5)+(0x1ebf+-0x1*-0x215b+-0x401a+0.5))*_0x33f93a+(-0x1*-0x1034+0xd2f+-0x1d63+0.5)))),_0x5eb932[_0x5de70e*(-0x946*-0x4+0x428+-0x293d)+(0x21e0+-0x20a8+-0x136*0x1)]=Math['max'](0x2663*0x1+0x391*0x6+-0x3bc9,Math['min'](_0x5a950d,Math['floor']((_0x5eb932[_0x5de70e*(0x22de*0x1+-0x1104+-0x11d7)+(-0x2e*-0x73+-0x14d2+-0x1*-0x2a)]/_0x17a181*(-0x1*0x559+-0x4f*-0x1b+-0x1*0x2fc+0.5)+(0x18e6+-0x1d73+-0xe9*-0x5+0.5))*_0x5a950d+(-0x151b+-0x3*0x748+0x2af3+0.5))));_0x1546c2[-0x23b1*0x1+0x1351*-0x1+0x3702]=_0x17a181,_0x128eec[_0x4fdc5b*(-0x2*-0x1f+0x4ee+-0x528)+(-0x1586+-0x3*-0xe2+0x97*0x20)]=_0xe6cc61[0x25d0+-0xad*0x1b+-0x1391*0x1],_0x128eec[_0x4fdc5b*(0x1bae+-0x6a0+-0x150a)+(-0x9fd+-0x19da+0x23d8)]=_0x5eb932[0x1582+-0x28*0x73+-0x38a]<<-0x433+0x116f+-0xd27|_0x5eb932[0x486+-0x121c+-0x47*-0x31]<<0x2*-0x1f0+0x1*0x1b08+-0x171d|_0x5eb932[0x479*0x6+-0x2de*0x8+-0x3e4],_0x128eec[_0x4fdc5b*(-0x24e2+0xc9*0x10+0x4de*0x5)+(-0x3*0x24+-0x2186*-0x1+-0x2118)]=_0x5eb932[-0x32*0xc7+-0x1711*0x1+0x3df2]<<0xcba*0x3+-0x1*-0x1343+-0x4*0xe57|_0x5eb932[-0x14fa+-0x333+0x1831]<<0x53d*0x7+0x150*0xa+-0x31c0|_0x5eb932[0x269b+0x1a1d+0x3*-0x1591],_0x128eec[_0x4fdc5b*(0x6f*-0x36+0x1*0x1adf+-0x371)+(0x12cd+0xf22+-0x21ec)]=_0x5eb932[-0x1*0x8cb+-0x1c14+-0x1*-0x24e5]<<-0x15cf+0x1fe3+-0x9ff|_0x5eb932[0x1*0x6fd+0x1b1*0xa+0xbf*-0x20]<<0x1663+-0xf*-0xbf+-0x2189|_0x5eb932[-0x2476+0x2*-0x3c9+-0x6*-0x758],_0xde79af>0x887+0x17f8+-0x2*0x103f&&(_0x1f14b1[_0x4fdc5b*(-0x84a+-0x9ec+0x123a)+(-0x3*-0xb8d+-0x217*-0x5+0x1f6*-0x17)]=_0x5eb932[-0x355+-0x2445+-0x1*-0x27a3]<<0xaab+-0x2446+0x19b0|_0x5eb932[-0x5a+0x23a9+0x2345*-0x1]<<-0x76*-0x43+-0x2456+0xc9*0x7|_0x5eb932[0x224b+0x2274+-0x4*0x112d],_0x1f14b1[_0x4fdc5b*(0xaeb+-0x4e8*-0x3+-0x199f)+(-0x12bc+-0x1ac6*0x1+0x2d83)]=_0x5eb932[0xf85+-0x1add+-0x144*-0x9]<<-0x7ed+0x13cc+-0x1*0xbca|_0x5eb932[0xb*-0x28f+0xbe7*-0x1+0x805*0x5]<<-0x5ee+0x668+-0x6f|_0x5eb932[0x19a1+-0x132c+-0x667],_0x1f14b1[_0x4fdc5b*(-0x74*0x56+-0xcf1*-0x1+0x1a0b)+(0x1*-0x107e+0x100d+0x73)]=_0x5eb932[0x1e8c+-0x37*0x81+-0x2c6]<<0x6dd*-0x3+0x1915+0x469*-0x1|_0x5eb932[0x161*-0x5+-0x23fe+0xf*0x2dd]<<-0x170f*-0x1+-0xaaf*0x1+-0xc55|_0x5eb932[-0x3b1+0x3f*-0x9a+0x29a8],_0x1f14b1[_0x4fdc5b*(-0x121*-0x1a+-0x1fd*-0xe+0x1*-0x392c)+(0x19ad+0x1249+-0x1*0x2bf3)]=_0x5eb932[-0x3e1*0x1+0x26*-0x53+0x23*0x77]<<-0xe83*0x1+0x15c4+-0x72c|_0x5eb932[-0x1d76+-0x5*0x63b+0x3cb0*0x1]<<0x1f6d+-0x25eb+0xef*0x7|_0x5eb932[-0x9b*0x2b+-0x57c+0x1f99],_0xde79af>-0x1*0x5bf+0x1fac+-0x19eb*0x1?(_0x395fc8[_0x4fdc5b*(0x2b9+0x2216+-0x24cb)+(-0x9d*-0x5+0x1*-0x226e+-0x1*-0x1f5d)]=_0x5eb932[0x26e6+-0xadb*0x1+-0x1bf6]<<-0x1334+0x3*0xcd9+-0x1342|_0x5eb932[-0x7*-0x201+-0x1*-0x10f5+-0x5*0x62e]<<0x270f+-0x792+0x64a*-0x5|_0x5eb932[-0x1780*-0x1+0x1*-0x13a+-0x162f],_0x395fc8[_0x4fdc5b*(0x1*0x226c+0x1ea7+-0x410f*0x1)+(0x8*0xe0+0xc9a*-0x1+-0x59b*-0x1)]=_0x5eb932[-0x1*0xbf9+-0x8b5+0x14c6]<<0x21e9*0x1+-0x611*0x3+-0xfa1|_0x5eb932[0x1069*-0x1+0x4*0x19+0x80f*0x2]<<0x9*-0x2a7+-0xe35+0x261f|_0x5eb932[-0x1c50+-0x1f5+0x1e5f],_0x395fc8[_0x4fdc5b*(-0x786+0x1b9e+-0x1414)+(0x157a*-0x1+0x3f2+0x118a)]=_0x5eb932[0x152*0xa+-0x76d*-0x2+-0x1bf3]<<0x19*0xa3+-0x1*-0x18fb+0x2b*-0xf3|_0x5eb932[0x3ad+-0x1*-0x18b6+-0x1c47]<<-0x5ff+-0x236d+-0xb*-0x3c5|_0x5eb932[-0x1969*-0x1+0x1*0xc83+0x1*-0x25cf],_0x395fc8[_0x4fdc5b*(-0x6f3*0x5+-0x126*0x17+0x3d2d)+(-0x1ffb+0x23db+-0x3dd)]=_0x5eb932[-0x176e+-0x1625+0x15*0x22d]<<-0x58*0x18+0x2e*0x8c+-0x49*0x3b|_0x5eb932[-0x2583+-0x3*0x823+0x3e0b]<<-0x2c3+-0x1e97+0x2165|_0x5eb932[0x13*0x18b+-0x1b10+-0x221],_0x4b6dd1[_0x4fdc5b*(-0x5*-0x31a+0x16*0x94+0x2e*-0x9d)+(-0x10*-0x1e8+-0xc36+-0x1*0x124a)]=_0x5eb932[0x1*-0x199d+-0x669+-0x1*-0x2027]<<-0x13*0x1c9+-0xe3f*-0x1+0x13c1|_0x5eb932[0x3e*-0x11+0xd37+-0x8f7]<<0x6d0*0x5+-0x8*0x89+-0x1dbd*0x1|_0x5eb932[0x26eb+0x3*0x824+-0x3f34],_0x4b6dd1[_0x4fdc5b*(0x23e9+-0x1f16*-0x1+-0x42fb)+(0x1*0x1f16+-0x4a*-0x48+-0x33e5)]=_0x5eb932[0x180c+0x1e1c+-0x1b02*0x2]<<0x97*-0x3+0x9*0x232+-0x11e8|_0x5eb932[-0x1e*-0xce+-0x22cf+0xad0]<<-0x3fc+-0x1d95*0x1+0x2cd*0xc|_0x5eb932[-0x1*-0x25bb+0x2eb*-0xa+0x2cd*-0x3],_0x4b6dd1[_0x4fdc5b*(0x18f+0x18*0x6a+-0xb7b)+(-0x1ec0+0x211f*0x1+-0x25d)]=_0x5eb932[0x1c2+-0x1e04+-0x40f*-0x7]<<-0x14cd*0x1+0x2387+-0xa3*0x17|_0x5eb932[-0x1315+0x26df*0x1+-0x13a2]<<-0xf5d+0x3*-0x577+-0x48b*-0x7|_0x5eb932[0x3e*-0x43+-0xc78+0x1cdb*0x1],_0x4b6dd1[_0x4fdc5b*(0xac4+0x2*0x7e1+0x12*-0x179)+(0x69d*0x1+0x751+-0xdeb)]=_0x5eb932[-0x136f*0x2+0x21be*-0x1+0x48c6]<<-0x1*0x17b+0x148a+-0x15b*0xe|_0x5eb932[-0x49*-0x54+-0x21c1+0x9f8]<<-0x5*-0x6d9+-0x365*-0x7+-0x39f5*0x1|_0x5eb932[-0xc9d+0x12*0x4a+-0x287*-0x3]):_0x395fc8[_0x4fdc5b]=_0x5eb932[-0x2596+-0x21d+-0x9f2*-0x4]<<-0x1*0xf0d+0x1*0x2192+0x5*-0x3b0|_0x5eb932[0x6bc+-0x24a*-0xd+0x748*-0x5]<<0x2ef*0x5+-0x1f15+0x1075|_0x5eb932[0x1cde+0x200e+-0x1d*0x219]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata1','data':{'sh1to3Data':_0x128eec,'sh4to7Data':_0x1f14b1,'sh8to11Data':_0x395fc8,'sh12to15Data':_0x4b6dd1}},[_0x128eec['buffer'],_0x1f14b1['buffer'],_0x395fc8['buffer'],_0x4b6dd1['buffer']]);},_0x5341cf=()=>{_0x573b22=null,_0x4f53f8=null,_0x2e3ba4=null,_0x2f4eb6=null,_0x28abaf=null,_0x30cc2e=null,_0x4412a3=null,_0x423478=null;};}let wC=class extends me{constructor(){super(),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+TC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}['workerMess'+'ageFn'](_0x54dbf4,_0x262b50,_0x5700dc){_0x54dbf4['onmessage']=_0x88b323=>{if(!this['worker'])return;const {data:_0x26cdf2}=_0x88b323;if(_0x26cdf2['type']===_0x262b50)switch(_0x262b50){case'updatedSHD'+'ata1':_0x5700dc(_0x26cdf2['data']);break;case'updatedCol'+'orData':_0x5700dc(_0x26cdf2['data']);break;case'updatedTra'+'nsformData':_0x5700dc(_0x26cdf2);break;case'updatedAab'+'bData':_0x5700dc(_0x26cdf2);break;}};}['updateSHDa'+'ta1'](_0x1adb6e,_0x217a65,_0x192e01){var _0xe6a902;return(_0xe6a902=this['worker'])==null||_0xe6a902['postMessag'+'e']({'type':'updateSHDa'+'ta1','numSplats':_0x1adb6e,'shBands':_0x217a65,'SHData':_0x192e01}),new Promise(_0x1fcd31=>{this['workerMess'+'ageFn'](this['worker'],'updatedSHD'+'ata1',_0x253d85=>{_0x1fcd31(_0x253d85);});});}async['updateColo'+'rData'](_0x262f4f,_0x460f3c,_0x5594d5,_0x40e6b5,_0x4ac1c8){var _0x563fe6;return(_0x563fe6=this['worker'])==null||_0x563fe6['postMessag'+'e']({'type':'updateColo'+'rData','numSplats':_0x262f4f,'cr':_0x460f3c,'cg':_0x5594d5,'cb':_0x40e6b5,'ca':_0x4ac1c8}),new Promise(_0x3ce41e=>{this['workerMess'+'ageFn'](this['worker'],'updatedCol'+'orData',_0x2a3f8e=>{_0x3ce41e(_0x2a3f8e);});});}async['calcAabb'](_0x4ba457,_0x1878b1,_0x298e19,_0x395237,_0x42a5d2,_0x25a4a0,_0x5cdbd3){var _0x28ad84;const _0x48d76e=new Float32Array(_0x1878b1),_0x49b7d2=new Float32Array(_0x298e19),_0x300f8b=new Float32Array(_0x395237),_0x2b0b54=new Float32Array(_0x42a5d2),_0x4bb565=new Float32Array(_0x25a4a0),_0x1e16d4=new Float32Array(_0x5cdbd3);return(_0x28ad84=this['worker'])==null||_0x28ad84['postMessag'+'e']({'type':'calcAabb','numSplats':_0x4ba457,'x':_0x48d76e,'y':_0x49b7d2,'z':_0x300f8b,'sx':_0x2b0b54,'sy':_0x4bb565,'sz':_0x1e16d4},[_0x48d76e['buffer'],_0x49b7d2['buffer'],_0x300f8b['buffer'],_0x2b0b54['buffer'],_0x4bb565['buffer'],_0x1e16d4['buffer']]),new Promise(_0xc27936=>{this['workerMess'+'ageFn'](this['worker'],'updatedAab'+'bData',_0x41cea3=>{_0xc27936(_0x41cea3);});});}async['updateTran'+'sData'](_0x2f3aed,_0x47fd30,_0xefcabb,_0xfc8bde,_0x501eae,_0xe9e7c3,_0x2e3cd0,_0x237a81,_0x191254,_0x57256b,_0x4e89ad,_0x19d652,_0x2f3582,_0x76cc85,_0x5f0c0e,_0x110459,_0x199049){var _0xc2239b;return(_0xc2239b=this['worker'])==null||_0xc2239b['postMessag'+'e']({'type':'updateTran'+'sformData','numSplats':_0x2f3aed,'is4D':_0x47fd30,'x':_0xefcabb,'y':_0xfc8bde,'z':_0x501eae,'rx':_0xe9e7c3,'ry':_0x2e3cd0,'rz':_0x237a81,'rw':_0x191254,'mx':_0x57256b,'my':_0x4e89ad,'mz':_0x19d652,'sx':_0x2f3582,'sy':_0x76cc85,'sz':_0x5f0c0e,'muT':_0x110459,'tScale':_0x199049}),new Promise(_0x243241=>{const _0x1f1454=_0x5c197c=>{_0x243241(_0x5c197c);};this['workerMess'+'ageFn'](this['worker'],'updatedTra'+'nsformData',_0x1f1454);});}['destroy'](){var _0x4c9a2;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x4c9a2=this['worker'])==null||_0x4c9a2['terminate'](),this['worker']=null);}};const vg=(_0x197d01,_0x237787)=>{const _0x431c60=[];for(let _0x3c08f0=0x1acb*-0x1+0x17db+0x2f0;_0x3c08f0<_0x237787;++_0x3c08f0)_0x431c60['push'](_0x197d01['getProp']('f_rest_'+_0x3c08f0));return _0x431c60;};class EC extends Rv{constructor(_0x1ab22d,_0x26d205){console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),super(_0x1ab22d,_0x26d205),h(this,'timeOption'),h(this,'appendQueu'+'e',[]),h(this,'isProcessi'+'ngQueue',!(-0xd9*0x22+-0x946+0x2619*0x1)),h(this,'muT'),h(this,'tScale'),h(this,'motion'),h(this,'timeIndex'),h(this,'colorTextu'+'re'),h(this,'transformA'+'Texture'),h(this,'transformB'+'Texture'),h(this,'transformR'+'Texture'),h(this,'transformM'+'otionTextu'+'re'),h(this,'transformL'+'ifecycleTe'+'xture'),h(this,'colorTextu'+'re2'),h(this,'transformA'+'Texture2'),h(this,'transformB'+'Texture2'),h(this,'transformR'+'Texture2'),h(this,'transformM'+'otionTextu'+'re2'),h(this,'transformL'+'ifecycleTe'+'xture2'),h(this,'is4D'),h(this,'shBands'),h(this,'sh1to3Text'+'ure'),h(this,'sh4to7Text'+'ure'),h(this,'sh8to11Tex'+'ture'),h(this,'sh12to15Te'+'xture'),h(this,'sh1to3Text'+'ure2'),h(this,'sh4to7Text'+'ure2'),h(this,'sh8to11Tex'+'ture2'),h(this,'sh12to15Te'+'xture2'),h(this,'updateData'+'Worker'),(this['updateData'+'Worker']=new wC(),this['assetsMana'+'gerLoadedT'+'ime']=0x1b09+-0x2685+0x1*0xb81);}async['updateData'](){var _0x3f0db0,_0x27313c,_0x15b429,_0x5d54de,_0x11862f,_0x3f1fa3,_0x26220f,_0x11faa1,_0x1ef7a7,_0x5daac5,_0x11e824;console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20update'+'Data'),await super['updateData']();const _0x4d3b41=this['gsplatData'];if(!_0x4d3b41)return;this['is4D']=_0x4d3b41['is4D'];const _0x33a11a=await this['getTransfo'+'rmDataByWo'+'rker'](_0x4d3b41);this['aabb']=new De(),await _0x4d3b41['calcAabbAs'+'ync'](this['aabb'],this['updateData'+'Worker']),this['mesh']['aabb']['copy'](this['aabb']),this['centers']=_0x33a11a['centers'],this['motion']=_0x33a11a['motion'],this['tScale']=_0x33a11a['tScaleArra'+'y'],this['muT']=await _0x4d3b41['getMuT'](),this['timeIndex']=await _0x4d3b41['getTimeInd'+'ex']();const _0x5dc50c=this['evalTextur'+'eSize'](_0x4d3b41['numSplats']);this['colorTextu'+'re']?((_0x3f0db0=this['colorTextu'+'re2'])==null||_0x3f0db0['destroy'](),(_0x27313c=this['transformA'+'Texture2'])==null||_0x27313c['destroy'](),(_0x15b429=this['transformB'+'Texture2'])==null||_0x15b429['destroy'](),(_0x5d54de=this['transformR'+'Texture2'])==null||_0x5d54de['destroy'](),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x5dc50c),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x5dc50c),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x5dc50c),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x5dc50c),this['is4D']&&((_0x11862f=this['transformM'+'otionTextu'+'re2'])==null||_0x11862f['destroy'](),(_0x3f1fa3=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x3f1fa3['destroy'](),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x5dc50c),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x5dc50c))):(this['colorTextu'+'re']=this['createText'+'ure']('splatColor',nt,_0x5dc50c),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x5dc50c),this['transformA'+'Texture']=this['createText'+'ure']('transformA',Ye,_0x5dc50c),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x5dc50c),this['transformB'+'Texture']=this['createText'+'ure']('transformB',ui,_0x5dc50c),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x5dc50c),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ye,_0x5dc50c),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x5dc50c),this['is4D']&&(this['transformM'+'otionTextu'+'re']=this['createText'+'ure']('transformM'+'otion',Ye,_0x5dc50c),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x5dc50c),this['transformL'+'ifecycleTe'+'xture']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture',Ye,_0x5dc50c),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x5dc50c))),await this['updateColo'+'rData'](_0x4d3b41),await this['updateTran'+'sformFromD'+'ata'](_0x33a11a),this['shBands']=_0x4d3b41['shBands'],this['shBands']>-0x705*0x3+0xc69+0x8a6&&(this['sh1to3Text'+'ure']?((_0x26220f=this['sh1to3Text'+'ure2'])==null||_0x26220f['destroy'](),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x5dc50c),this['shBands']>0x2563+0x2707*-0x1+0x1*0x1a5&&((_0x11faa1=this['sh4to7Text'+'ure2'])==null||_0x11faa1['destroy'](),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x5dc50c),this['shBands']>-0x1754+-0xe*0x1c5+-0x180e*-0x2?((_0x1ef7a7=this['sh8to11Tex'+'ture2'])==null||_0x1ef7a7['destroy'](),(_0x5daac5=this['sh12to15Te'+'xture2'])==null||_0x5daac5['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x5dc50c),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x5dc50c)):((_0x11e824=this['sh8to11Tex'+'ture2'])==null||_0x11e824['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x5dc50c)))):(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x5dc50c),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o32',Ue,_0x5dc50c),this['shBands']>0x189*0x7+0x170c+0x21ca*-0x1&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',Ue,_0x5dc50c),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x5dc50c),this['shBands']>-0x8*0x4a+0x825+-0x5d3?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ue,_0x5dc50c),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x5dc50c),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',Ue,_0x5dc50c),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x5dc50c)):(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ki,_0x5dc50c),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ki,_0x5dc50c)))),await this['updateSHDa'+'taByWorker'](_0x4d3b41));}['updateText'+'ure'](){console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20update'+'Texture'),!this['isDestroye'+'d']&&(super['updateText'+'ure'](),[this['colorTextu'+'re'],this['colorTextu'+'re2']]=[this['colorTextu'+'re2'],this['colorTextu'+'re']],[this['transformA'+'Texture'],this['transformA'+'Texture2']]=[this['transformA'+'Texture2'],this['transformA'+'Texture']],[this['transformB'+'Texture'],this['transformB'+'Texture2']]=[this['transformB'+'Texture2'],this['transformB'+'Texture']],[this['transformR'+'Texture'],this['transformR'+'Texture2']]=[this['transformR'+'Texture2'],this['transformR'+'Texture']],this['is4D']&&([this['transformM'+'otionTextu'+'re'],this['transformM'+'otionTextu'+'re2']]=[this['transformM'+'otionTextu'+'re2'],this['transformM'+'otionTextu'+'re']],[this['transformL'+'ifecycleTe'+'xture'],this['transformL'+'ifecycleTe'+'xture2']]=[this['transformL'+'ifecycleTe'+'xture2'],this['transformL'+'ifecycleTe'+'xture']]),[this['sh1to3Text'+'ure'],this['sh1to3Text'+'ure2']]=[this['sh1to3Text'+'ure2'],this['sh1to3Text'+'ure']],[this['sh4to7Text'+'ure'],this['sh4to7Text'+'ure2']]=[this['sh4to7Text'+'ure2'],this['sh4to7Text'+'ure']],[this['sh8to11Tex'+'ture'],this['sh8to11Tex'+'ture2']]=[this['sh8to11Tex'+'ture2'],this['sh8to11Tex'+'ture']],[this['sh12to15Te'+'xture'],this['sh12to15Te'+'xture2']]=[this['sh12to15Te'+'xture2'],this['sh12to15Te'+'xture']]);}['releaseGSp'+'latResourc'+'e'](_0x16b50b){this['appendQueu'+'e']['push']({'type':'release','taskId':new Date()['getTime'](),'data':{'index':_0x16b50b}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['releaseAll'+'GSplatReso'+'urce'](){this['isDestroye'+'d']||(console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20releas'+'eSeqGSplat'+'\x20all'),this['appendQueu'+'e']=[],await this['gsplatData']['releaseAll'+'SeqData']());}['appendGSpl'+'atResource'](_0x575172,_0x5902a0,_0x2e914a,_0x16a775,_0x1a8ddf){this['appendQueu'+'e']['push']({'type':'append','taskId':new Date()['getTime'](),'data':{'gsplatData':_0x575172,'timeOption':_0x5902a0,'loadedTime':_0x2e914a,'asset':_0x16a775,'events':_0x1a8ddf}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['processQue'+'ue'](){if(!this['isProcessi'+'ngQueue']){this['isProcessi'+'ngQueue']=!(-0xd*-0x41+-0x187*-0x11+0x751*-0x4);try{for(;this['appendQueu'+'e']['length']>-0x21*0x12+-0xe17+0x1069;){const _0x5bd36d=this['appendQueu'+'e']['shift']();_0x5bd36d['type']==='append'?await this['processApp'+'endTask'](_0x5bd36d['data']):_0x5bd36d['type']==='release'&&await this['processRel'+'easeTask'](_0x5bd36d['data']);}}finally{this['isProcessi'+'ngQueue']=!(0x3*-0x664+-0x2*-0x479+-0x9*-0x123);}}}async['processRel'+'easeTask'](_0x5e4d8d){const {index:_0xb421d2}=_0x5e4d8d;console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.relea'+'seGSplatRe'+'source',_0xb421d2),!this['isDestroye'+'d']&&await this['gsplatData']['releaseSeq'+'Data'](_0xb421d2);}async['processApp'+'endTask'](_0x4abdca){var _0x2d1b57;const {gsplatData:_0x2cc107,timeOption:_0x4d5c2a,loadedTime:_0x492270,asset:_0x242a96,events:_0x531037}=_0x4abdca;!this['gsplatData']||this['isDestroye'+'d']||(console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.appen'+'dGSplatRes'+'ource'),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),console['log']('loadTime__'+'__','----------'+'----------'+'---'),this['timeOption']=_0x4d5c2a,await this['gsplatData']['appendGSpl'+'atData'](_0x2cc107,_0x492270,_0x4d5c2a),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20gspla'+'tData.appe'+'ndGSplatDa'+'ta',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x265c+0x2675+-0x17),_0x2cc107['numSplats'],((performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])/_0x2cc107['numSplats'])['toFixed'](0x83*0x3f+-0x1d5e+-0x16e*0x2)),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await this['updateData'](),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20this.'+'updateData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x1ca8+-0x1*0x197f+-0x3629*-0x1),_0x2cc107['numSplats']),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),(_0x2d1b57=this['gsplatInst'+'ance'])==null||_0x2d1b57['updateInst'+'anceData'](this),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20updat'+'eInstanceD'+'ata',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x1885*0x1+-0x212f+0x39b6*0x1),_0x2cc107['numSplats']),this['asset']=_0x242a96,this['assetsMana'+'gerLoadedT'+'ime']=_0x492270,this['events']=_0x531037);}['fireAssets'+'ManagerTim'+'eIndex'](){var _0x21e8f9;const _0x24c277=this['assetsMana'+'gerLoadedT'+'ime'];console['log']('____\x20ENGIN'+'E\x20IVAN','fireAssets'+'ManagerTim'+'eIndex',_0x24c277),(_0x21e8f9=this['asset'])==null||_0x21e8f9['fire']('setAssetsL'+'oaded',_0x24c277);}['destroy'](){var _0x366915,_0x4dcfb2,_0x2a5e10,_0x1e1d82,_0x268c98,_0xb3b684,_0x3a6eb5,_0x1032ec,_0x3c228c,_0x2a9942,_0x4f78b4,_0xf8059f,_0x4bc8ca,_0x5ac3a4,_0x46beef,_0x1e4457,_0x4fac91,_0x5c8b80,_0x1491f9,_0x240f4e,_0xc73d7f;(_0x366915=this['updateData'+'Worker'])==null||_0x366915['destroy'](),this['updateData'+'Worker']=void(-0x89+-0x2053*0x1+-0x106e*-0x2),(_0x4dcfb2=this['colorTextu'+'re'])==null||_0x4dcfb2['destroy'](),(_0x2a5e10=this['transformA'+'Texture'])==null||_0x2a5e10['destroy'](),(_0x1e1d82=this['transformB'+'Texture'])==null||_0x1e1d82['destroy'](),(_0x268c98=this['transformR'+'Texture'])==null||_0x268c98['destroy'](),(_0xb3b684=this['transformM'+'otionTextu'+'re'])==null||_0xb3b684['destroy'](),(_0x3a6eb5=this['transformL'+'ifecycleTe'+'xture'])==null||_0x3a6eb5['destroy'](),(_0x1032ec=this['sh1to3Text'+'ure'])==null||_0x1032ec['destroy'](),(_0x3c228c=this['sh4to7Text'+'ure'])==null||_0x3c228c['destroy'](),(_0x2a9942=this['sh8to11Tex'+'ture'])==null||_0x2a9942['destroy'](),(_0x4f78b4=this['sh12to15Te'+'xture'])==null||_0x4f78b4['destroy'](),(_0xf8059f=this['colorTextu'+'re2'])==null||_0xf8059f['destroy'](),(_0x4bc8ca=this['transformA'+'Texture2'])==null||_0x4bc8ca['destroy'](),(_0x5ac3a4=this['transformB'+'Texture2'])==null||_0x5ac3a4['destroy'](),(_0x46beef=this['transformR'+'Texture2'])==null||_0x46beef['destroy'](),(_0x1e4457=this['transformM'+'otionTextu'+'re2'])==null||_0x1e4457['destroy'](),(_0x4fac91=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x4fac91['destroy'](),(_0x5c8b80=this['sh1to3Text'+'ure2'])==null||_0x5c8b80['destroy'](),(_0x1491f9=this['sh4to7Text'+'ure2'])==null||_0x1491f9['destroy'](),(_0x240f4e=this['sh8to11Tex'+'ture2'])==null||_0x240f4e['destroy'](),(_0xc73d7f=this['sh12to15Te'+'xture2'])==null||_0xc73d7f['destroy'](),this['releaseAll'+'GSplatReso'+'urce'](),super['destroy'](),this['aabb']=null,this['centers']=null,this['motion']=null,this['tScale']=null,this['muT']=null,this['timeIndex']=null,this['shBands']=null;}['configureM'+'aterial'](_0x2a965d){var _0x52856f,_0x239b62,_0x5ec5b7,_0x56dd66,_0x696c74,_0x3e1c64,_0x18ece6,_0x4c9ef0,_0x269a7e,_0x32b8c6,_0x1f03c5,_0x7b6f96,_0x58cd4f;if(console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.con'+'figureMate'+'rial'),this['isDestroye'+'d'])return;const _0x499899=((_0x52856f=_0x2a965d['getParamet'+'er']('pointCloud'+'ModeEnable'+'d'))==null?void(0x1*-0x179c+-0x25*0xc9+0x34a9):_0x52856f['data'])??0x2471+0x1839+0xa*-0x611,_0x463d8e=((_0x239b62=_0x2a965d['getParamet'+'er']('uSplatScal'+'e'))==null?void(0xf74+0xc78+0x6fb*-0x4):_0x239b62['data'])??0x3*0xb99+-0xd3f+-0x158b,_0x3e16c5=((_0x5ec5b7=_0x2a965d['getParamet'+'er']('uSaturatio'+'n'))==null?void(0x220d+-0x33e*0x1+0x3*-0xa45):_0x5ec5b7['data'])??0x466*-0x1+-0x11*0x13+0x5aa,_0x5cda4b=((_0x56dd66=_0x2a965d['getParamet'+'er']('uHueOffset'))==null?void(-0xe55+0x19*-0xcd+0x225a):_0x56dd66['data'])??0x7e8*-0x1+-0x1*0x18fd+-0x1*-0x20e5,_0x32a5b5=((_0x696c74=_0x2a965d['getParamet'+'er']('uInvertOpa'+'city'))==null?void(0x11*-0x115+0xb06+0x3*0x275):_0x696c74['data'])??0x1*-0x1e4b+-0x10dc+-0x2f27*-0x1,_0x206abf=((_0x3e1c64=_0x2a965d['getParamet'+'er']('uOpacity'))==null?void(-0x1135*-0x2+0x255e*-0x1+0x2f4):_0x3e1c64['data'])??0x5f1*0x3+0x461+-0x1633*0x1,_0x51e6a5=((_0x18ece6=_0x2a965d['getParamet'+'er']('clrOffset'))==null?void(0x431*0x6+0x2b*-0xe1+-0xd*-0xf9):_0x18ece6['data'])??[0x1014+0x94*-0x20+0x2*0x136,0x3f5*0x1+-0x343*-0x9+0x290*-0xd,0x109f+0x1*-0x2071+0xfd2,-0x1*0x14e8+-0x1*-0x210d+-0xc24],_0x3dc6e8=((_0x4c9ef0=_0x2a965d['getParamet'+'er']('clrScale'))==null?void(-0xd44+0x1a+0xa*0x151):_0x4c9ef0['data'])??[-0x43*0xe+-0x580+0x92b,0x22e5+0x612+-0x28f6,0xf5c+0x1d23+-0x2c7e,-0x1*-0x11f9+0x2*0x799+-0x351*0xa],_0x50e139=((_0x269a7e=_0x2a965d['getParamet'+'er']('uShapeN'))==null?void(-0x26be+0x2611+0xad):_0x269a7e['data'])??0x12eb*0x1+0x1212*0x1+-0x24fd,_0x514ef5=((_0x32b8c6=_0x2a965d['getParamet'+'er']('mode'))==null?void(-0x263c+0x2*0x3e+0x25c0):_0x32b8c6['data'])??0xac*0x2c+-0x2383+0x5f3,_0x132299=((_0x1f03c5=_0x2a965d['getParamet'+'er']('ringSize'))==null?void(-0x31d*0x5+0xdb+0xeb6):_0x1f03c5['data'])??0x35*0x63+-0x1*-0x56b+-0x19ea,_0x2c266c=((_0x7b6f96=_0x2a965d['defines'])==null?void(-0xffb+0x967+0x694):_0x7b6f96['get']('uOpenAnim'))??'0',_0x1df552=((_0x58cd4f=_0x2a965d['defines'])==null?void(-0xcac+0x7*-0x1bb+-0x1a7*-0xf):_0x58cd4f['get']('uControlCo'+'lorMode'))??'0';_0x2a965d['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x2a965d['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x2a965d['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x2a965d['setParamet'+'er']('transformR',this['transformR'+'Texture']),_0x2a965d['setParamet'+'er']('uSplatScal'+'e',_0x463d8e),_0x2a965d['setParamet'+'er']('pointCloud'+'ModeEnable'+'d',_0x499899),_0x2a965d['setParamet'+'er']('uSaturatio'+'n',_0x3e16c5),_0x2a965d['setParamet'+'er']('uHueOffset',_0x5cda4b),_0x2a965d['setParamet'+'er']('uInvertOpa'+'city',_0x32a5b5),_0x2a965d['setParamet'+'er']('uOpacity',_0x206abf),_0x2a965d['setParamet'+'er']('clrOffset',_0x51e6a5),_0x2a965d['setParamet'+'er']('clrScale',_0x3dc6e8),_0x2a965d['setParamet'+'er']('uShapeN',_0x50e139),_0x2a965d['setParamet'+'er']('mode',_0x514ef5),_0x2a965d['setParamet'+'er']('ringSize',_0x132299),_0x2a965d['setParamet'+'er']('prerenderC'+'Time',-0x3*0xaab+0x37a+-0x43*-0x6d),_0x2a965d['setParamet'+'er']('renderSpac'+'e',-0x1*0x15ce+-0x1e3b*-0x1+-0x13*0x71),_0x2a965d['setParamet'+'er']('endSpace',-0x510*0x7+-0x2452*0x1+0x47cc),_0x2a965d['setDefine']('uOpenAnim',_0x2c266c),_0x2a965d['setDefine']('uControlCo'+'lorMode',_0x1df552),this['transformM'+'otionTextu'+'re']&&_0x2a965d['setParamet'+'er']('transformM'+'otion',this['transformM'+'otionTextu'+'re']),this['transformL'+'ifecycleTe'+'xture']&&_0x2a965d['setParamet'+'er']('transformL'+'ifecycle',this['transformL'+'ifecycleTe'+'xture']),_0x2a965d['setDefine']('SH_BANDS',this['shBands']),_0x2a965d['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x2a965d['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x2a965d['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x2a965d['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x2a965d['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']);}['evalTextur'+'eSize'](_0x51b756){const _0xae3b6a=Math['ceil'](Math['sqrt'](_0x51b756)),_0x34efd4=Math['ceil'](_0x51b756/_0xae3b6a);return new J(_0xae3b6a,_0x34efd4);}async['updateColo'+'rData'](_0x43860e){var _0x5e09c6;console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x3b057d=this['colorTextu'+'re2'];if(!_0x3b057d||this['isDestroye'+'d'])return;const _0x350ed6=_0x43860e['getProp']('f_dc_0'),_0x3e9eac=_0x43860e['getProp']('f_dc_1'),_0x40deaf=_0x43860e['getProp']('f_dc_2'),_0xf5a02e=_0x43860e['getProp']('opacity');let _0x4b7efe=(_0x5e09c6=_0x43860e['transformD'+'ata'])==null?void(-0x2595+-0xe18+0x33ad):_0x5e09c6['dataColor'];_0x4b7efe||(_0x4b7efe=await this['updateData'+'Worker']['updateColo'+'rData'](_0x43860e['numSplats'],_0x350ed6,_0x3e9eac,_0x40deaf,_0xf5a02e)),await this['idleUpdate'+'TexturePro'+'mise'](_0x3b057d,_0x4b7efe);}async['getTransfo'+'rmDataByWo'+'rker'](_0x587d37){var _0x1f01e3;if(console['log']('____\x20ENGIN'+'E\x20IVAN','getTransfo'+'rmDataByWo'+'rker'),(_0x1f01e3=_0x587d37['transformD'+'ata'])!=null&&_0x1f01e3['dataCenter'+'s'])return{'centers':_0x587d37['transformD'+'ata']['dataCenter'+'s'],'dataPosition':_0x587d37['transformD'+'ata']['dataPositi'+'on'],'dataScale':_0x587d37['transformD'+'ata']['dataScale'],'dataRotation':_0x587d37['transformD'+'ata']['dataRotati'+'on'],'dataMotion':_0x587d37['transformD'+'ata']['dataMotion'],'dataTime':_0x587d37['transformD'+'ata']['dataTime'],'motion':_0x587d37['transformD'+'ata']['motion'],'tScaleArray':_0x587d37['transformD'+'ata']['tScaleArra'+'y']};const _0x3fef80=_0x587d37['getProp']('x'),_0x1e6911=_0x587d37['getProp']('y'),_0x95e12d=_0x587d37['getProp']('z'),_0x43c388=_0x587d37['getProp']('rot_1'),_0xc8ef48=_0x587d37['getProp']('rot_2'),_0xc939ec=_0x587d37['getProp']('rot_3'),_0x2bfa29=_0x587d37['getProp']('rot_0'),_0x264f11=_0x587d37['getProp']('motion_0'),_0x245bab=_0x587d37['getProp']('motion_1'),_0x383dab=_0x587d37['getProp']('motion_2'),_0x5391a8=_0x587d37['getProp']('scale_0'),_0x1593bf=_0x587d37['getProp']('scale_1'),_0x3b0cb9=_0x587d37['getProp']('scale_2'),_0x5810a1=_0x587d37['getProp']('t'),_0x46138e=_0x587d37['getProp']('t_scale');return await this['updateData'+'Worker']['updateTran'+'sData'](_0x587d37['numSplats'],this['is4D'],_0x3fef80,_0x1e6911,_0x95e12d,_0x43c388,_0xc8ef48,_0xc939ec,_0x2bfa29,_0x264f11,_0x245bab,_0x383dab,_0x5391a8,_0x1593bf,_0x3b0cb9,_0x5810a1,_0x46138e);}async['updateTran'+'sformFromD'+'ata'](_0x363532){console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformFromD'+'ata'),this['transformA'+'Texture2']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformA'+'Texture2'],_0x363532['dataPositi'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformR'+'Texture2'],_0x363532['dataRotati'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformB'+'Texture2'],_0x363532['dataScale']),this['is4D']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformM'+'otionTextu'+'re2'],_0x363532['dataMotion']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformL'+'ifecycleTe'+'xture2'],_0x363532['dataTime'])));}async['idleUpdate'+'TexturePro'+'mise'](_0x4dfb32,_0xecab9d){if(!this['isDestroye'+'d'])return new Promise(_0x72eaff=>{requestIdleCallback(()=>{const _0x2ba071=_0x4dfb32['lock']();_0x2ba071==null||_0x2ba071['set'](_0xecab9d),_0x4dfb32['unlock'](),_0x72eaff(!(-0xa79+-0x1664+-0xb3*-0x2f));},{'timeout':0x12c});});}async['updateTran'+'sformData'](_0x3684bb){var _0xed793,_0x38990f,_0x11d1d0,_0x2cca05;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformData'),this['isDestroye'+'d'])return;const _0x5357dd=Mn['float2Half'];if(!this['transformA'+'Texture'])return;const _0x1a20c0=this['transformA'+'Texture']['lock'](),_0x500a16=this['transformR'+'Texture']['lock'](),_0x3854dc=this['transformB'+'Texture']['lock'](),_0x33126c=(_0xed793=this['transformM'+'otionTextu'+'re'])==null?void(-0x17*-0x17d+0x619*-0x4+0xe5*-0xb):_0xed793['lock'](),_0x2aaac7=(_0x38990f=this['transformL'+'ifecycleTe'+'xture'])==null?void(-0x436+-0x2af+-0x6e5*-0x1):_0x38990f['lock'](),_0x37634d=new D(),_0x2e8f0d=new le(),_0x30e183=new D(),_0x5acee2=new D(),_0x11ed7f=_0x3684bb['createIter'](_0x37634d,_0x2e8f0d,_0x30e183,null,_0x5acee2),_0x9232e7=_0x3684bb['getProp']('t'),_0x39094b=_0x3684bb['getProp']('t_scale');for(let _0x113da0=0x754+0x3c1+0x1*-0xb15;_0x113da0<_0x3684bb['numSplats'];_0x113da0++)_0x11ed7f['read'](_0x113da0),_0x2e8f0d['normalize'](),_0x2e8f0d['w']<-0x995+-0xc14+0x15a9&&_0x2e8f0d['mulScalar'](-(-0x1bc+0x160c+-0x1*0x144f)),_0x1a20c0[_0x113da0*(0x1*-0x15cb+-0x19b8+0x2f86)+(0x17bd+-0x1033+-0x78a*0x1)]=_0x37634d['x'],_0x1a20c0[_0x113da0*(-0x61f*-0x4+-0x1f7f+0x706)+(0x541+-0x209b*0x1+0x2f*0x95)]=_0x37634d['y'],_0x1a20c0[_0x113da0*(0x1e4c+0x22f1*0x1+0x6*-0xadf)+(0x95*-0x26+-0x1*-0x18f1+-0x2d1)]=_0x37634d['z'],_0x3854dc[_0x113da0*(-0x264+0x1a1c+-0x17b5)+(-0x1*0x18df+-0xd3*0xe+0x2469)]=_0x5357dd(_0x30e183['x']),_0x3854dc[_0x113da0*(0x21*0x119+-0x11db+-0x7f*0x25)+(0x4*-0x619+0x20b6+0x851*-0x1)]=_0x5357dd(_0x30e183['y']),_0x3854dc[_0x113da0*(0x3bb+-0x1a63*-0x1+-0x1e1b)+(0x9c4*0x1+-0x3*-0xaab+-0x29c3)]=_0x5357dd(_0x30e183['z']),_0x500a16[_0x113da0*(-0x234c+-0x6d*-0x29+0x11da)+(0x309+0x2655+0x6*-0x6e5)]=_0x2e8f0d['x'],_0x500a16[_0x113da0*(0x3de+0x17e4+0x1*-0x1bbf)+(0x911+-0x2*-0x1cf+-0x1*0xcae)]=_0x2e8f0d['y'],_0x500a16[_0x113da0*(0x18*-0x17+0xafd+-0x8d2)+(0x451+-0x1e6b+-0x687*-0x4)]=_0x2e8f0d['z'],this['is4D']&&_0x33126c&&_0x2aaac7&&(_0x33126c[_0x113da0*(-0x2*0xd79+-0x482*-0x3+-0xd6f*-0x1)+(-0x9ac+-0x1de6+-0x3f5*-0xa)]=_0x5acee2['x'],_0x33126c[_0x113da0*(-0x31*0x2e+-0x5c1*-0x1+-0x70*-0x7)+(0xec+0x94a+-0x27*0x43)]=_0x5acee2['y'],_0x33126c[_0x113da0*(0x14b+-0x1*-0x3f3+-0x1*0x53b)+(-0x43*-0x25+-0x4*0xb3+-0x6e1)]=_0x5acee2['z'],_0x2aaac7[_0x113da0*(-0x18d*0x3+-0xba*0x3+0x6d8*0x1)+(-0x18ed+-0x17f0+0x30dd)]=_0x9232e7?_0x9232e7[_0x113da0]:-0x11+-0x1054+0x577*0x3,_0x2aaac7[_0x113da0*(-0x949*0x3+0x1d*-0x149+0x4123)+(0x3d*0x67+-0x327+-0x1563)]=_0x39094b?Math['exp'](_0x39094b[_0x113da0]):0xe66+-0x887*0x3+0xb2f);this['transformA'+'Texture']['unlock'](),this['transformB'+'Texture']['unlock'](),this['transformR'+'Texture']['unlock'](),(_0x11d1d0=this['transformM'+'otionTextu'+'re'])==null||_0x11d1d0['unlock'](),(_0x2cca05=this['transformL'+'ifecycleTe'+'xture'])==null||_0x2cca05['unlock']();}async['updateSHDa'+'ta'](_0x12f17e){var _0x4a25e6,_0x459c85,_0x1efa17,_0x1ee590,_0x46aadc,_0x491fe0,_0x54cb89,_0x5a8969;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta'),this['isDestroye'+'d'])return;const _0x1bcbd1=(_0x4a25e6=this['sh1to3Text'+'ure2'])==null?void(0x1*-0x240b+-0x32*0x26+-0xe7d*-0x3):_0x4a25e6['lock'](),_0x4aa78f=(_0x459c85=this['sh4to7Text'+'ure2'])==null?void(0x206f+0xa88*0x1+-0x2af7):_0x459c85['lock'](),_0x56989c=(_0x1efa17=this['sh8to11Tex'+'ture2'])==null?void(-0x1*0x81d+0x1*0x221b+-0x19fe):_0x1efa17['lock'](),_0x4e7cd5=(_0x1ee590=this['sh12to15Te'+'xture2'])==null?void(0x2*0x583+0x1195*-0x1+0x68f):_0x1ee590['lock'](),_0x7fd14f={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x32e8f1=vg(_0x12f17e,_0x7fd14f*(0x3*0x2c8+0x72*-0x18+0x25b*0x1)),_0xfd72df=-0x873+-0xa70+0xde*0x1f,_0x23ffc1=-0xbaf+-0x2f*0xab+0x27*0x135,_0x19d17f=new Float32Array(0x191*0x9+0x165d+-0x99*0x3d),_0xd1475c=new Uint32Array(_0x19d17f['buffer']),_0x4524cc=new Array(_0x7fd14f*(0x1205+-0x2d5*-0x5+0x1b*-0x131))['fill'](0x5*0x42d+-0x21fe+-0x3*-0x45f);for(let _0x24a283=0x1*-0x1be7+0x18ac*0x1+0x33b;_0x24a283<_0x12f17e['numSplats'];++_0x24a283){for(let _0x41e4a7=0x228e*0x1+-0x1*0x2441+0x1b3;_0x41e4a7<_0x7fd14f;++_0x41e4a7)_0x4524cc[_0x41e4a7*(0x1*-0x2e7+0x162d+-0x1343)]=_0x32e8f1[_0x41e4a7][_0x24a283],_0x4524cc[_0x41e4a7*(0x1*0x1c76+0x1d5+-0x1e48)+(-0x8d0+0xee0*-0x1+0x17b1)]=_0x32e8f1[_0x41e4a7+_0x7fd14f][_0x24a283],_0x4524cc[_0x41e4a7*(0x2*-0x3cb+-0x1*0x90d+-0x1*-0x10a6)+(0x1357+0x23e*0x9+-0x7e7*0x5)]=_0x32e8f1[_0x41e4a7+_0x7fd14f*(-0x2141*0x1+-0x59*0x6f+-0x11*-0x43a)][_0x24a283];let _0x21f4f9=_0x4524cc[-0x214e+-0x5*0x439+0x366b];for(let _0x9a7a4a=-0x6c1+0x920*0x4+-0x1dbe*0x1;_0x9a7a4a<_0x7fd14f*(-0x1*0x11d0+-0x22a1+0x3474);++_0x9a7a4a)_0x21f4f9=Math['max'](_0x21f4f9,Math['abs'](_0x4524cc[_0x9a7a4a]));if(_0x21f4f9!==-0x3*0xb3b+0x172a+-0xa87*-0x1){for(let _0x5ea2c3=-0x2c2*-0xd+-0x15e0+-0xdfa*0x1;_0x5ea2c3<_0x7fd14f;++_0x5ea2c3)_0x4524cc[_0x5ea2c3*(0x7*-0x1a3+0x13af+0x2bd*-0x3)+(0x2*-0xc5+0x5bf*0x2+-0x9f4)]=Math['max'](0xe*-0x20b+-0x17*0xfd+0x3355*0x1,Math['min'](_0xfd72df,Math['floor']((_0x4524cc[_0x5ea2c3*(0xe*0x2f+-0x745+-0x1*-0x4b6)+(0x121f*0x1+0x1f40+-0x3*0x1075)]/_0x21f4f9*(-0x6*-0x2cb+-0x4*0x455+0x92+0.5)+(0x202*0x10+0x29*0x32+-0x2822+0.5))*_0xfd72df+(0x7a*-0x47+-0x1*-0x734+0x1aa2+0.5)))),_0x4524cc[_0x5ea2c3*(-0x3a*-0x59+-0x397+-0x1090)+(-0x1698*-0x1+0x13a2+-0x2a39)]=Math['max'](-0xe1+-0x69f+0x780,Math['min'](_0x23ffc1,Math['floor']((_0x4524cc[_0x5ea2c3*(-0x12cf+-0x2003+0x32d5)+(-0x1*-0x1399+-0x17*0xe5+0xfb*0x1)]/_0x21f4f9*(-0x283+0x1*-0x1736+-0x19b9*-0x1+0.5)+(0x4*-0x1f2+-0x1b96+0x235e+0.5))*_0x23ffc1+(0x74*0x35+0x1*-0x1d75+-0x571*-0x1+0.5)))),_0x4524cc[_0x5ea2c3*(0x227b+-0x2*0x4c1+-0x1aa*0xf)+(-0x17d*-0x19+-0x1b68+-0x17*0x6d)]=Math['max'](0x177+-0x1a52+-0x7*-0x38d,Math['min'](_0xfd72df,Math['floor']((_0x4524cc[_0x5ea2c3*(0x1bd2+-0x1*0x3f4+-0x17db)+(-0xdff+-0x1*0x752+0x1553)]/_0x21f4f9*(0x1603+-0x1eb0+-0x1*-0x8ad+0.5)+(0x15f7*0x1+-0x8d1*0x1+-0xd26+0.5))*_0xfd72df+(0x1*-0x2421+-0x106a+0x348b*0x1+0.5))));_0x19d17f[0x1fe4+-0x8*0x101+-0x17dc]=_0x21f4f9,_0x1bcbd1[_0x24a283*(-0x135*0x5+0x157c+-0xf6f)+(-0x1*-0x2554+-0x23*0xb3+0x449*-0x3)]=_0xd1475c[-0x1953*0x1+0x2267+-0x7*0x14c],_0x1bcbd1[_0x24a283*(0x7*-0x355+0x1*0x16e5+-0x26*-0x3)+(0x1c31+-0x12fd+0x311*-0x3)]=_0x4524cc[0x4f+-0x14ad+0x145e]<<0x19a+-0x5ab+0x426|_0x4524cc[-0xfee+0x15cb+-0x5dc]<<0x10e+-0xc*-0x5c+0x2f*-0x1d|_0x4524cc[0x2*-0x7d0+-0x1897+0x7*0x5bf],_0x1bcbd1[_0x24a283*(-0x26d2+-0x1b77+0x607*0xb)+(-0xc6e*0x1+0xe20+0x4*-0x6c)]=_0x4524cc[-0x159d+-0xae2+0x92*0x39]<<-0xb+0x19a0+-0x1980|_0x4524cc[0xe8c+0x2199+-0x25*0x14d]<<0x1dc6+-0x1*-0x14de+-0x1*0x3299|_0x4524cc[-0x11*0x186+0x35*-0x47+-0xd8a*-0x3],_0x1bcbd1[_0x24a283*(-0xc76+-0x26ed+0x3367*0x1)+(-0x30b+-0xdf1+0x10ff)]=_0x4524cc[0x14f*-0x19+-0x53f*-0x1+-0x495*-0x6]<<-0x3*0xb1e+0x2342+-0x1d3*0x1|_0x4524cc[-0x211+0x16b5*0x1+-0x3*0x6df]<<0xd8b+-0x16d*-0x1+0x1*-0xeed|_0x4524cc[0x1*-0x193+-0x554*0x1+-0x5*-0x163],this['shBands']>-0x1e*0x13e+0x372+-0x7*-0x4d5&&(_0x4aa78f[_0x24a283*(-0x790+0xbd5+-0x3*0x16b)+(0x164d+-0x1*0x582+0x10cb*-0x1)]=_0x4524cc[0x2290+-0x3a1*0x7+0x92*-0x10]<<0x1*-0x9cd+-0x2334+0x2d16|_0x4524cc[0x3cb*-0x2+-0x7*-0x2b7+-0x3*0x3cb]<<0xa*-0x3a2+0x2fe*0x5+0x15*0x105|_0x4524cc[0x2535+0xb1*-0x8+-0xfd1*0x2],_0x4aa78f[_0x24a283*(0x1392+-0x1*0xb66+0x3a*-0x24)+(-0x1d73+-0x1011*-0x1+0xd63*0x1)]=_0x4524cc[0x1cc0+0xf7+0x1*-0x1dab]<<-0x887+0x6*-0x8b+0x1f*0x62|_0x4524cc[-0xe30+-0x2b*0x81+0x23e8]<<-0xa30+-0xc64+0x169f|_0x4524cc[-0x1168+0x8d5+0x2f*0x2f],_0x4aa78f[_0x24a283*(-0x8*-0x205+-0x2581+-0x71f*-0x3)+(-0x9b6+-0x53a+0xef2)]=_0x4524cc[0x1e5f+-0x116f*0x1+-0xce1]<<-0x21d2+0x13b*-0x8+0x2bbf|_0x4524cc[0x2*-0x19f+0x9d*0x39+-0x1fa7]<<0xea5+-0x8f+0x2cf*-0x5|_0x4524cc[-0x2005+-0x185d+0x3873],_0x4aa78f[_0x24a283*(-0x6b5*-0x1+0x177b+-0x1e2c)+(0x25*-0x38+-0x2*0x793+0x1741*0x1)]=_0x4524cc[0x1d*0xef+-0x1467+-0x69a]<<-0x1d6*-0x11+0x4*-0x581+-0x91d|_0x4524cc[0x23a8+-0x1044+0x73*-0x2b]<<-0x1*-0x1741+0x1*0xa65+-0x219b|_0x4524cc[-0x10*-0x80+-0xdda+0x8a*0xb],this['shBands']>-0x11b8+0x809+0x9b1?(_0x56989c[_0x24a283*(-0x3f0+0x3*-0x84e+0x1cde)+(-0x11*-0x125+0x1c50+-0x2fc5)]=_0x4524cc[0x7d*-0x2e+0x143f+0x24c]<<-0x3a1+0x1f23+-0x1b6d|_0x4524cc[-0x1*0x14f1+-0x104a+0x2551]<<-0xcc*-0x8+-0x371+0x14*-0x25|_0x4524cc[0x2111+0x62*-0xa+-0x1d26],_0x56989c[_0x24a283*(0x1*0x408+0x8b0+-0xcb4)+(-0x1a71+-0x1104+0x15bb*0x2)]=_0x4524cc[0x1*0x1d23+0x17e2+-0x34ed]<<-0x6e+0x21d*-0x8+0x116b|_0x4524cc[0x1*-0x1a73+-0xeee+-0x1*-0x297a]<<0x46f+-0x1b07+0x16a3|_0x4524cc[0x37*-0x55+0x3bc+0x1*0xea1],_0x56989c[_0x24a283*(0x6d*-0x52+-0x986+0x239*0x14)+(0x26b+-0xf65+0xcfc)]=_0x4524cc[0xc2b+0x111+-0x1*0xd21]<<0x1*-0x4ef+-0x158*0x11+-0x4*-0x6f7|_0x4524cc[-0x1*-0x1c13+-0xce*0x29+0x507]<<0x2*-0x1297+0x25e4+-0x9*0x13|_0x4524cc[-0xf1*-0x5+-0x201e+0x1b86],_0x56989c[_0x24a283*(0x28+-0x1*0xd81+-0x1*-0xd5d)+(0x1*-0x8f1+-0x2271+0x3*0xe77)]=_0x4524cc[-0x6e7+-0xfb4+0x16b9]<<0x3*-0xb8d+0x21ec+-0x8*-0x1a|_0x4524cc[-0x2*-0x1011+-0x47*0x7+-0x1e12]<<0x223f+-0x61*-0x13+-0x2967|_0x4524cc[0x5*0x52a+-0xd78+-0xc3a],_0x4e7cd5[_0x24a283*(0x125*0xa+0x1e69+0x1*-0x29d7)+(0x1411+0x4d7*-0x5+0x422)]=_0x4524cc[-0x1fb*-0x1+0x2023+-0x21fd]<<-0x2104*-0x1+-0x1141+-0xfae|_0x4524cc[-0x24fc+0xf2c*0x1+0x15f2]<<-0xa89+-0x67*-0x8+0xc*0x9d|_0x4524cc[0x1a29+0x2*0x78d+0x1490*-0x2],_0x4e7cd5[_0x24a283*(0x5*0x1f9+0x2239+-0x1609*0x2)+(0x121b+0x167*0xc+-0x22ee)]=_0x4524cc[-0x1*-0xfb3+0x216f+-0x30fe]<<-0xf99+-0xc1a+-0x6f2*-0x4|_0x4524cc[-0x1*0x10a3+-0x11b4+0x1*0x227c]<<-0x7cd*-0x2+-0x209*0x11+-0x130a*-0x1|_0x4524cc[0x2*-0x26a+0x4f5*0x1+0x5],_0x4e7cd5[_0x24a283*(0x1b54*0x1+0x8e3+-0x2433)+(0xcf*-0x25+0x76*-0x31+0x1*0x3483)]=_0x4524cc[-0x2569+0x1f2*0x1+0x239e]<<0x1704+-0x13*0xc4+-0x863|_0x4524cc[0x17bf*0x1+-0x17cb+0x1*0x34]<<-0x149d+-0x1d00+-0x4*-0xc6a|_0x4524cc[-0x1*0x217c+0x2655+0x96*-0x8],_0x4e7cd5[_0x24a283*(0x1d*-0x130+-0x1c7b+0x1*0x3eef)+(-0x53c+0x1de0+0x1e5*-0xd)]=_0x4524cc[-0x19a7+0x23d2+-0xa01]<<-0x2*-0x779+0x10c+0xfe9*-0x1|_0x4524cc[0x6bf+0x213f+0x7f7*-0x5]<<0x5*-0x223+0xca7+-0x1ed|_0x4524cc[0x140*0xe+-0x1cec+0xb98]):_0x56989c[_0x24a283]=_0x4524cc[0x1be+-0x395+0xc*0x29]<<0x89*-0xb+-0x2*-0x11cf+-0x42*0x73|_0x4524cc[0x16cb*-0x1+-0x125*-0x20+0x33*-0x45]<<0x19c*-0x1+-0xc6b+0xe12|_0x4524cc[0x1a46+0x5*0x76d+-0x3f50]);}}(_0x46aadc=this['sh1to3Text'+'ure2'])==null||_0x46aadc['unlock'](),(_0x491fe0=this['sh4to7Text'+'ure2'])==null||_0x491fe0['unlock'](),(_0x54cb89=this['sh8to11Tex'+'ture2'])==null||_0x54cb89['unlock'](),(_0x5a8969=this['sh12to15Te'+'xture2'])==null||_0x5a8969['unlock']();}async['updateSHDa'+'taByWorker'](_0x5016d9){var _0x47a87a,_0x36d053,_0x55fee1,_0x468f45,_0x1b9a2e;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'taByWorker'),this['isDestroye'+'d'])return;const _0x55394f={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']];let _0x57be92,_0x594012,_0x36100d,_0x3545a6;if((_0x47a87a=_0x5016d9['transformD'+'ata'])!=null&&_0x47a87a['sh1to3Data'])_0x57be92=(_0x36d053=_0x5016d9['transformD'+'ata'])==null?void(0xbf0+-0x7f3+-0x3fd):_0x36d053['sh1to3Data'],_0x594012=(_0x55fee1=_0x5016d9['transformD'+'ata'])==null?void(0x83c+0x112*0x9+-0x11de):_0x55fee1['sh4to7Data'],_0x36100d=(_0x468f45=_0x5016d9['transformD'+'ata'])==null?void(-0xc82*0x1+0x121*0xd+0x25*-0xf):_0x468f45['sh8to11Dat'+'a'],_0x3545a6=(_0x1b9a2e=_0x5016d9['transformD'+'ata'])==null?void(0x1682+-0xb5*0x22+0x188):_0x1b9a2e['sh12to15Da'+'ta'];else{const _0x163234=vg(_0x5016d9,_0x55394f*(0x1569+0xac3+-0x2029)),_0x3f4379=await this['updateData'+'Worker']['updateSHDa'+'ta1'](_0x5016d9['numSplats'],this['shBands'],_0x163234);_0x57be92=_0x3f4379['sh1to3Data'],_0x594012=_0x3f4379['sh4to7Data'],_0x36100d=_0x3f4379['sh8to11Dat'+'a'],_0x3545a6=_0x3f4379['sh12to15Da'+'ta'];}await this['idleUpdate'+'TexturePro'+'mise'](this['sh1to3Text'+'ure2'],_0x57be92),this['shBands']>0x2285+-0x24*-0x9d+-0x713*0x8&&(await this['idleUpdate'+'TexturePro'+'mise'](this['sh4to7Text'+'ure2'],_0x594012),this['shBands']>-0x1d0d+0x377+0x1998?(await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x36100d),await this['idleUpdate'+'TexturePro'+'mise'](this['sh12to15Te'+'xture2'],_0x3545a6)):await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x36100d));}}async function bC(){const _0x4f062c=new Float32Array(0xbaf*0x3+-0x294+-0x2078);new Int32Array(_0x4f062c['buffer']);let _0x14e3bd=null,_0x216996=null,_0x416ecc=null,_0x3dffd2=null,_0x4618f7=null,_0x2708cb=null,_0x31db78=null,_0x5ef25b=null;self['onmessage']=async _0x4b8959=>{const {data:_0x42478c}=_0x4b8959;switch(_0x42478c['type']){case'initWorker':break;case'updateSHDa'+'ta1':_0x2c350d(_0x42478c['numSplats'],_0x42478c['shBands'],_0x42478c['SHData']);break;case'updateTran'+'sformData':_0x2add46(_0x42478c['numSplats'],_0x42478c['is4D'],_0x42478c['position'],_0x42478c['rotation'],_0x42478c['motion'],_0x42478c['scale'],_0x42478c['muT'],_0x42478c['tScale']);break;case'destroyWor'+'ker':_0x12f909();break;}};const _0x2add46=(_0x28962d,_0x372491,_0x262ba1,_0x15e18d,_0x37d89b,_0x413623,_0x5756b6,_0x1625b9)=>{_0x12f909(),_0x372491&&(_0x216996=new Float32Array(_0x28962d*(-0x1*-0x1af+0x100e+0x8dd*-0x2)),_0x5ef25b=new Float32Array(_0x28962d),_0x4618f7=new Float32Array(_0x37d89b['buffer']['slice']()),_0x31db78=new Float32Array(_0x37d89b['buffer']['slice']())),_0x3dffd2=new Float32Array(_0x262ba1['buffer']['slice']()),_0x14e3bd=new Float32Array(_0x262ba1['buffer']['slice']()),_0x2708cb=new Uint16Array(_0x413623['buffer']['slice']()),_0x416ecc=new Float32Array(_0x15e18d['buffer']['slice']());for(let _0x16446e=-0x126+-0x8*0x14+0x1c6*0x1;_0x16446e<_0x28962d;_0x16446e++)_0x372491&&_0x216996&&(_0x5ef25b[_0x16446e]=_0x1625b9?Math['exp'](_0x1625b9[_0x16446e]):0x1d5e+-0xf79+-0xde5,_0x216996[_0x16446e*(-0xd70+-0x923+-0x1696*-0x1)+(-0x1559+0x2003+-0xaaa)]=_0x5756b6?_0x5756b6[_0x16446e]:0x17cc+-0x19*-0x3f+-0x1df3,_0x216996[_0x16446e*(-0x3*-0x7e1+-0xab*0x4+-0x6*0x37e)+(-0xcb8*-0x1+0x8*0x281+0x1*-0x20bf)]=_0x5ef25b[_0x16446e]);const _0x53cbac=[_0x14e3bd['buffer'],_0x3dffd2['buffer'],_0x2708cb['buffer'],_0x416ecc['buffer']];_0x372491&&_0x53cbac['push'](_0x4618f7['buffer'],_0x216996['buffer'],_0x31db78['buffer'],_0x5ef25b['buffer']),self['postMessag'+'e']({'type':'updatedTra'+'nsformData','centers':_0x14e3bd,'dataPosition':_0x3dffd2,'dataScale':_0x2708cb,'dataRotation':_0x416ecc,'dataMotion':_0x4618f7,'dataTime':_0x216996,'motion':_0x31db78,'tScaleArray':_0x5ef25b},_0x53cbac);},_0x2c350d=(_0x279613,_0x27917d,_0x235292)=>{const _0xa06710=new Uint32Array(_0x279613*(0xd93+0xb3b+0xc65*-0x2)),_0x185e19=new Uint32Array(_0x279613*(-0x188b+-0x15d3*0x1+0x2e62)),_0x2c5589=new Uint32Array(_0x279613*(0x3*-0x6ec+0x255a+0x2a*-0x65)),_0x3baa55=new Uint32Array(_0x279613*(0xecb*0x2+0x1b03+0x3895*-0x1)),_0x2f6710={0x1:0x3,0x2:0x8,0x3:0xf}[_0x27917d],_0x2b7ea2=_0x235292,_0xf15b91=-0x14b*0xb+-0x38f*-0x3+-0x3*-0x3d9,_0x12e5d5=-0x30f+-0xf*-0x7a+-0x18,_0x2cea5b=new Float32Array(0x5e5+0x3*0x625+-0x1*0x1853),_0x4dd6ea=new Uint32Array(_0x2cea5b['buffer']),_0x3c16ae=new Array(_0x2f6710*(0x1*-0x2112+0x2*0xaef+-0x9*-0x13f))['fill'](-0x2*0x7c3+0x269*-0x2+0x1458);for(let _0xacbd6e=0xd20+-0x18c4+-0x2e9*-0x4;_0xacbd6e<_0x279613;++_0xacbd6e){for(let _0x3f19b1=0x57*0x6f+-0x9a7+0x1c12*-0x1;_0x3f19b1<_0x2f6710;++_0x3f19b1)_0x3c16ae[_0x3f19b1*(-0xd*-0x6+0x6*0x469+-0x1ac1)]=_0x2b7ea2[_0x3f19b1][_0xacbd6e],_0x3c16ae[_0x3f19b1*(-0x2*-0xe6f+0x1*-0x1971+0x13*-0x2e)+(0xefb+-0x1*-0x22db+-0x1*0x31d5)]=_0x2b7ea2[_0x3f19b1+_0x2f6710][_0xacbd6e],_0x3c16ae[_0x3f19b1*(-0x1941+0x1f02+-0x5be)+(0x11d3+-0x1d55*0x1+0x2e1*0x4)]=_0x2b7ea2[_0x3f19b1+_0x2f6710*(0x1*-0x1f9f+-0x195+0x2136)][_0xacbd6e];let _0x3171cb=_0x3c16ae[-0x1dba+-0x37f+-0x3*-0xb13];for(let _0x43579b=0x15d*-0xa+0x1*0x1505+-0x762;_0x43579b<_0x2f6710*(-0x693+-0xada+0x1*0x1170);++_0x43579b)_0x3171cb=Math['max'](_0x3171cb,Math['abs'](_0x3c16ae[_0x43579b]));if(_0x3171cb!==-0xb85+-0x1798+0x65*0x59){for(let _0x24be91=-0x2109+-0x1c0b+0x3d14;_0x24be91<_0x2f6710;++_0x24be91)_0x3c16ae[_0x24be91*(-0x592+0x4*0x81b+0x1ad7*-0x1)+(-0x71*-0x4f+0x24f1+-0x1*0x47d0)]=Math['max'](0xcf2*-0x3+-0x15c+0x2832,Math['min'](_0xf15b91,Math['floor']((_0x3c16ae[_0x24be91*(-0xaf+0x96a+-0x8*0x117)+(0x1ca9+-0x1ddd+-0x4d*-0x4)]/_0x3171cb*(-0x50e*0x6+0x1*-0x1526+0x337a+0.5)+(0x25c6*0x1+-0x768+-0x1e5e+0.5))*_0xf15b91+(0x18d7+-0x2*0x8f5+0x9*-0xc5+0.5)))),_0x3c16ae[_0x24be91*(-0xc5*-0x31+-0x2320+-0x292)+(0x1a32+-0xd8*0x2+0x99*-0x29)]=Math['max'](-0x7b3+0x1e3d+-0x168a,Math['min'](_0x12e5d5,Math['floor']((_0x3c16ae[_0x24be91*(-0xf9*0x15+-0x7*0x3d+-0x161b*-0x1)+(-0x9*0x2e7+-0x8c3*0x1+-0xba1*-0x3)]/_0x3171cb*(-0xd26+-0x9*-0x29+0x1b*0x6f+0.5)+(0x18e*-0x16+-0x2*0xf7d+0x412e+0.5))*_0x12e5d5+(-0x12*-0x8e+0x1*-0xe83+0x1*0x487+0.5)))),_0x3c16ae[_0x24be91*(-0x2*0xf8c+0x2*-0x1277+0x4409)+(-0x35*0x1f+-0xc1*0x8+0xc75*0x1)]=Math['max'](0x3*-0x82d+0x39+0x3d*0x66,Math['min'](_0xf15b91,Math['floor']((_0x3c16ae[_0x24be91*(0x2a*-0xac+-0x1318+-0x1*-0x2f53)+(-0x1*-0x18df+-0x142d+0x64*-0xc)]/_0x3171cb*(-0x1be6+-0x1*-0x7d6+-0x6*-0x358+0.5)+(-0xf5f*-0x1+0x2*-0x209+-0xb4d+0.5))*_0xf15b91+(0x42d*-0x7+0x1bfd+0x9f*0x2+0.5))));_0x2cea5b[-0x52b+0x32*0x1f+-0xe3]=_0x3171cb,_0xa06710[_0xacbd6e*(0x153b+0xd16+-0x224d)+(-0xf6b+-0x1*0x1481+0x23ec)]=_0x4dd6ea[-0x2c5+0x1fda+-0x1d15],_0xa06710[_0xacbd6e*(0x23c3+-0x1957*-0x1+-0x45d*0xe)+(-0x16f7*0x1+0x233*-0x9+0x2ac3)]=_0x3c16ae[-0x86*-0x15+-0x133*0x17+-0x89*-0x1f]<<-0x12eb+0x1ab9*0x1+-0x7b9|_0x3c16ae[-0x1*0x18c1+-0x1a44+-0xe*-0x3a5]<<0x189b+0xd1b+-0x25ab|_0x3c16ae[0x36e+-0x159d+0x1231],_0xa06710[_0xacbd6e*(-0x5*-0x3a6+-0x21b3+0xf79)+(0x128f*0x1+-0x25a9+0x131c)]=_0x3c16ae[-0x1*0xdca+0x1bc+-0x1*-0xc11]<<-0x146b*-0x1+0x1877+-0x3*0xeef|_0x3c16ae[0xdc7*-0x1+0x6c8+-0x703*-0x1]<<-0x3d*-0x3d+0x227f+-0x30fd|_0x3c16ae[0x1fcf*-0x1+-0x787*-0x1+0x184d],_0xa06710[_0xacbd6e*(0x46*0x49+-0x23b*-0x2+-0x1868)+(0x1305+-0x2207+0xf05)]=_0x3c16ae[-0x391+-0x1*-0xa0f+-0x678]<<-0x4ed*-0x1+-0x14c7+-0xfef*-0x1|_0x3c16ae[0xbff*0x3+0x1*0x1a8c+-0x3e82]<<-0x14f+0x63*-0x39+0x1765|_0x3c16ae[0x8*-0x242+-0xb0+0x12c8],_0x27917d>0x2*-0xe2+0xe41+0x5e*-0x22&&(_0x185e19[_0xacbd6e*(-0x1406+-0x2*0x8b+-0x548*-0x4)+(0x4db*-0x3+0x221c+-0x138b*0x1)]=_0x3c16ae[0x419+-0x1e39+0x1a29]<<-0x1a0f+0xe0b+-0xa3*-0x13|_0x3c16ae[-0x1a7a+0x1f92+-0x50e]<<0x33f+0x139+-0xb*0x67|_0x3c16ae[0x14bb*0x1+0xbf*0x3+-0x16ed],_0x185e19[_0xacbd6e*(-0x2*0x742+0x5ef+-0x1*-0x899)+(-0xa4*-0x3b+0x1*0xab1+-0x307c)]=_0x3c16ae[0x14bf*-0x1+0x10*0x1df+-0x1*0x925]<<0x25cf*0x1+-0x836*-0x4+-0x4692|_0x3c16ae[-0x2452+-0x1341+0x37a0]<<-0x2681+-0x1e8d+-0x4519*-0x1|_0x3c16ae[0xc2f*0x1+-0x1*0x1823+0xc02],_0x185e19[_0xacbd6e*(-0x2e3*0x7+0x1*0xb89+-0x116*-0x8)+(0x116e+0x2084+-0x31f0)]=_0x3c16ae[0x1585*0x1+0x3*-0x91d+0x5e1]<<0xd87+-0x1432+0x4*0x1b0|_0x3c16ae[-0x1741*0x1+-0x12c0+0x79*0x59]<<-0x178b+-0xc0f+0x23a5|_0x3c16ae[0x1f63*0x1+-0x22da+-0x1c4*-0x2],_0x185e19[_0xacbd6e*(-0x18f4+0x1*-0x52f+0x1e27)+(-0x963+0x1d*-0x147+0x2e71)]=_0x3c16ae[-0x12ae+0x1427+-0x167]<<-0x9*0x385+0xe0*-0x13+0x233*0x16|_0x3c16ae[0x16f2+0x13*0x14c+-0x2f83]<<0x1*-0x2005+-0x14*-0x1dd+0x1bc*-0x3|_0x3c16ae[0x5*-0x353+-0x1998+-0x3*-0xe19],_0x27917d>0x2446+0x8b2+-0x8fe*0x5?(_0x2c5589[_0xacbd6e*(-0x3*-0x985+-0x1849+-0xda*0x5)+(-0x5d3+0x1df9+0x2*-0xc13)]=_0x3c16ae[-0x1*0x1ffa+0x2*-0x101a+0x1*0x4043]<<0xa3f+0x1f72+0x1*-0x299c|_0x3c16ae[0x4a*-0x3b+-0x1f51*-0x1+-0xe2d]<<0x279+-0x115+-0x3*0x73|_0x3c16ae[-0x5a2*-0x5+0x229+-0x1e3c],_0x2c5589[_0xacbd6e*(0x19*0x189+-0x8*-0x3dc+-0x453d)+(0x12*0x66+-0x17e4+0x10b9)]=_0x3c16ae[0x1016+-0x1*-0x259a+-0x3598]<<0x3fa+-0x26fc+0x2317|_0x3c16ae[0xb9c+-0x8*-0x4c0+-0xf*0x34d]<<0x236b+0x2*0xf4d+-0x41fa|_0x3c16ae[-0x1559+0xf47*0x1+0x62c],_0x2c5589[_0xacbd6e*(-0x1ac*0x1+-0x1e8f*0x1+0x203f)+(-0x1*-0x225a+0x48e*0x3+-0x3002)]=_0x3c16ae[-0x1ee*0x14+0xa09+0x1caa]<<0x138+-0x22e1+-0x10df*-0x2|_0x3c16ae[0xfa3+-0x4*0x124+-0xaf7*0x1]<<0x36d+0x64f+0x1*-0x9b1|_0x3c16ae[0x3d7+0x2609+-0x29c3],_0x2c5589[_0xacbd6e*(0x20d8*-0x1+-0x13d6+0x34b2)+(-0x2*-0x2da+-0xae7*0x3+0xe*0x1ee)]=_0x3c16ae[-0x231b+0x165d+-0x4*-0x337]<<0x1d7a+-0x1*-0x1811+-0x3576|_0x3c16ae[0x263+0x2*-0x5ba+0x930]<<-0x1c*0x79+-0x1f38+0x2c7f|_0x3c16ae[0x422*0x1+-0x23c0+0x1fbe],_0x3baa55[_0xacbd6e*(0x2b*0x8c+-0x24d3+0xd53*0x1)+(-0x163c+-0x3d*-0x5d+0x13*0x1)]=_0x3c16ae[-0x1a6e+-0x1c34+0x36c3]<<0x295*0x1+0x23d7+-0x2657|_0x3c16ae[0x1*0xa34+-0x206e+0xc*0x1dd]<<0x8b7*-0x3+-0x2db*0x1+0x1d0b|_0x3c16ae[-0x4bf+0x8a4+-0x1a*0x25],_0x3baa55[_0xacbd6e*(0x21f3+0x1a95+0x4*-0xf21)+(0x42+-0x11e2+0x11a1*0x1)]=_0x3c16ae[-0x1a77+0x7*0x89+0x16dc]<<-0xfd5+0x1*-0x270e+0x36f8|_0x3c16ae[0x1*0x1cbe+-0x605+-0x1694]<<-0x2467*0x1+-0x879+0x2ceb|_0x3c16ae[0x1*0x18a7+-0xd*0x257+0x5ea],_0x3baa55[_0xacbd6e*(0x1436*0x1+-0x18f2+0x4c0)+(0x193b+0x2313+-0xf13*0x4)]=_0x3c16ae[-0xd2*0x17+-0x13d0+0x26d5]<<-0xb*-0x1c9+0xa*-0xe2+0x2*-0x55d|_0x3c16ae[0x2*0x8ce+-0x7e7*0x2+-0x1a6*0x1]<<-0x2bb+0x1f6e+-0x1ca8|_0x3c16ae[0x1*-0x1c3d+-0x130d+-0x2f73*-0x1],_0x3baa55[_0xacbd6e*(0x1049+0x4*-0x37f+-0x249)+(0x969+-0x6d9*0x2+0x44c)]=_0x3c16ae[-0x122e+-0x6b*0x42+0x2dee]<<0x106f+-0x1*0x17ff+0x7a5|_0x3c16ae[-0x4*0x68c+-0x26*-0xb5+0x83*-0x1]<<0xd3d+0x4*-0x76f+0x108a|_0x3c16ae[0x1bf5+-0x131e+0x1*-0x8ab]):_0x2c5589[_0xacbd6e]=_0x3c16ae[-0x1dc6+0x172+0x1c69]<<0xf4*0x1c+0x1306+0x2da1*-0x1|_0x3c16ae[0x2335+-0x667*0x2+-0x1651]<<0x1958+0x15c4+0x1*-0x2f11|_0x3c16ae[0x268c+0x160f+-0x3c84]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata1','data':{'sh1to3Data':_0xa06710,'sh4to7Data':_0x185e19,'sh8to11Data':_0x2c5589,'sh12to15Data':_0x3baa55}},[_0xa06710['buffer'],_0x185e19['buffer'],_0x2c5589['buffer'],_0x3baa55['buffer']]);},_0x12f909=()=>{_0x14e3bd=null,_0x216996=null,_0x416ecc=null,_0x3dffd2=null,_0x4618f7=null,_0x2708cb=null,_0x31db78=null,_0x5ef25b=null;};}class AC extends me{constructor(){super(),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+bC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}['workerMess'+'ageFn'](_0x285c45,_0xce4db,_0x48c62d){_0x285c45['onmessage']=_0x1a6354=>{if(!this['worker'])return;const {data:_0x50103d}=_0x1a6354;if(_0x50103d['type']===_0xce4db)switch(_0xce4db){case'updatedSHD'+'ata1':_0x48c62d(_0x50103d['data']);break;case'updatedCol'+'orData':_0x48c62d(_0x50103d['data']);break;case'updatedTra'+'nsformData':_0x48c62d(_0x50103d);break;}};}['updateSHDa'+'ta1'](_0x5347b3,_0x38516b,_0x5e161d){var _0x2b7250;return(_0x2b7250=this['worker'])==null||_0x2b7250['postMessag'+'e']({'type':'updateSHDa'+'ta1','numSplats':_0x5347b3,'shBands':_0x38516b,'SHData':_0x5e161d}),new Promise(_0x56df3f=>{this['workerMess'+'ageFn'](this['worker'],'updatedSHD'+'ata1',_0x299ca8=>{_0x56df3f(_0x299ca8);});});}async['updateTran'+'sData'](_0x47a3b5,_0x1c250c,_0x1d41f6,_0x38a71e,_0x520817,_0x2f38d7,_0x2dea1e,_0x3c6bbf){var _0x1f9cda;return(_0x1f9cda=this['worker'])==null||_0x1f9cda['postMessag'+'e']({'type':'updateTran'+'sformData','numSplats':_0x47a3b5,'is4D':_0x1c250c,'position':_0x1d41f6,'rotation':_0x38a71e,'motion':_0x520817,'scale':_0x2f38d7,'muT':_0x2dea1e,'tScale':_0x3c6bbf}),new Promise(_0x29b114=>{const _0x4f95fb=_0xfd96e1=>{_0x29b114(_0xfd96e1);};this['workerMess'+'ageFn'](this['worker'],'updatedTra'+'nsformData',_0x4f95fb);});}['destroy'](){var _0x1739d0;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x1739d0=this['worker'])==null||_0x1739d0['terminate'](),this['worker']=null);}}const xg=(_0xf5a19b,_0x330a1e)=>{const _0x229b90=[];for(let _0x25c196=0x5a1+0x2667+-0x1*0x2c08;_0x25c196<_0x330a1e;++_0x25c196)_0x229b90['push'](_0xf5a19b['getProp']('f_rest_'+_0x25c196));return _0x229b90;};class CC extends Rv{constructor(_0x3f8755,_0x3c9dc4){super(_0x3f8755,_0x3c9dc4),h(this,'timeOption'),h(this,'appendQueu'+'e',[]),h(this,'isProcessi'+'ngQueue',!(-0x725+0x1174*-0x1+0x189a)),h(this,'muT'),h(this,'tScale'),h(this,'motion'),h(this,'timeIndex'),h(this,'colorTextu'+'re'),h(this,'transformA'+'Texture'),h(this,'transformB'+'Texture'),h(this,'transformR'+'Texture'),h(this,'transformM'+'otionTextu'+'re'),h(this,'transformL'+'ifecycleTe'+'xture'),h(this,'colorTextu'+'re2'),h(this,'transformA'+'Texture2'),h(this,'transformB'+'Texture2'),h(this,'transformR'+'Texture2'),h(this,'transformM'+'otionTextu'+'re2'),h(this,'transformL'+'ifecycleTe'+'xture2'),h(this,'is4D'),h(this,'shBands'),h(this,'sh1to3Text'+'ure'),h(this,'sh4to7Text'+'ure'),h(this,'sh8to11Tex'+'ture'),h(this,'sh12to15Te'+'xture'),h(this,'sh1to3Text'+'ure2'),h(this,'sh4to7Text'+'ure2'),h(this,'sh8to11Tex'+'ture2'),h(this,'sh12to15Te'+'xture2'),h(this,'updateData'+'Worker'),(this['updateData'+'Worker']=new AC(),this['assetsMana'+'gerLoadedT'+'ime']=0x1ee8+-0x103e+-0xea5);}['setSceneIn'+'fo'](_0x5cba24){this['sceneInfo']['duration']=_0x5cba24['duration'],this['sceneInfo']['fps']=_0x5cba24['fps'],this['sceneInfo']['totalGauss'+'ians']=_0x5cba24['totalGauss'+'ians'],this['sceneInfo']['globalBoun'+'dingBoxMin']=new D(_0x5cba24['globalBoun'+'dingBox']['min'][0x1e0b+-0x9b5+-0x1456],_0x5cba24['globalBoun'+'dingBox']['min'][-0x1422*-0x1+0x1*-0x2231+-0x6*-0x258],_0x5cba24['globalBoun'+'dingBox']['min'][-0xe56+0xb2d+-0x32b*-0x1]),this['sceneInfo']['globalBoun'+'dingBoxMax']=new D(_0x5cba24['globalBoun'+'dingBox']['max'][0x1fa6*0x1+0x634*-0x3+-0xd0a],_0x5cba24['globalBoun'+'dingBox']['max'][0x263e+0x47*-0x5e+-0xc2b],_0x5cba24['globalBoun'+'dingBox']['max'][-0x1c+0xddf*0x2+-0x68*0x44]);const _0x467371=_0x5cba24['globalBoun'+'dingBox']['min'][0x6*-0x175+-0x13bb+0x1c79],_0x1e63ac=_0x5cba24['globalBoun'+'dingBox']['min'][0x563+0x3df*-0x2+0x25c],_0x490acf=_0x5cba24['globalBoun'+'dingBox']['min'][0x16*0x67+-0x3e4+-0x4f4],_0x459d85=_0x5cba24['globalBoun'+'dingBox']['max'][-0x6a3+-0x4f9+0x5ce*0x2],_0x1cd19b=_0x5cba24['globalBoun'+'dingBox']['max'][-0x1c*-0xd7+0x17*-0xe+-0x1641],_0x123ad9=_0x5cba24['globalBoun'+'dingBox']['max'][-0x24e1*-0x1+0x1543*0x1+-0x3a22],_0x193811=new D((_0x467371+_0x459d85)*(0x1*-0x5b9+0x13*-0x39+0xc4*0xd+0.5),(_0x1e63ac+_0x1cd19b)*(-0x26de+-0x2*-0x130b+0xc8+0.5),(_0x490acf+_0x123ad9)*(-0x2b*-0xcb+-0x1b05*0x1+0x4*-0x1c5+0.5)),_0x4e1cee=new D((_0x459d85-_0x467371)*(0x3*-0x8f4+-0x2*-0x11a5+-0x86e+0.5),(_0x1cd19b-_0x1e63ac)*(-0x17bf+-0x4eb*-0x7+-0xaae*0x1+0.5),(_0x123ad9-_0x490acf)*(-0xaf3*0x3+-0xaee+0x2bc7*0x1+0.5)),_0x1ed8f0=new De(_0x193811,_0x4e1cee);this['sceneInfo']['globalBoun'+'dingBox']=_0x1ed8f0,this['aabb']=_0x1ed8f0;}async['updateData'](){var _0x4544ab,_0x40f405,_0x531ce9,_0x2c3ae4,_0x54677d,_0x4c2102,_0x189233,_0x1febce,_0x2c7b5f,_0x2b169a,_0x4dfeb7;await super['updateData']();const _0x289ef5=this['gsplatData'];if(!_0x289ef5)return;this['is4D']=_0x289ef5['is4D'];const _0x4a6968=await this['getTransfo'+'rmDataByWo'+'rker'](_0x289ef5);this['mesh']['aabb']['copy'](this['aabb']),this['centers']=_0x4a6968['centers'],this['motion']=_0x4a6968['motion'],this['tScale']=_0x4a6968['tScaleArra'+'y'],this['muT']=await _0x289ef5['getMuT'](),this['timeIndex']=await _0x289ef5['getTimeInd'+'ex']();const _0x5aa887=this['evalTextur'+'eSize'](_0x289ef5['numSplats']);this['colorTextu'+'re']?((_0x4544ab=this['colorTextu'+'re2'])==null||_0x4544ab['destroy'](),(_0x40f405=this['transformA'+'Texture2'])==null||_0x40f405['destroy'](),(_0x531ce9=this['transformB'+'Texture2'])==null||_0x531ce9['destroy'](),(_0x2c3ae4=this['transformR'+'Texture2'])==null||_0x2c3ae4['destroy'](),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x5aa887),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x5aa887),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x5aa887),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x5aa887),this['is4D']&&((_0x54677d=this['transformM'+'otionTextu'+'re2'])==null||_0x54677d['destroy'](),(_0x4c2102=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x4c2102['destroy'](),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x5aa887),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x5aa887))):(this['colorTextu'+'re']=this['createText'+'ure']('splatColor',nt,_0x5aa887),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x5aa887),this['transformA'+'Texture']=this['createText'+'ure']('transformA',Ye,_0x5aa887),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x5aa887),this['transformB'+'Texture']=this['createText'+'ure']('transformB',ui,_0x5aa887),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x5aa887),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ye,_0x5aa887),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x5aa887),this['is4D']&&(this['transformM'+'otionTextu'+'re']=this['createText'+'ure']('transformM'+'otion',Ye,_0x5aa887),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x5aa887),this['transformL'+'ifecycleTe'+'xture']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture',Ye,_0x5aa887),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x5aa887))),await this['updateColo'+'rData'](_0x289ef5),await this['updateTran'+'sformFromD'+'ata'](_0x4a6968),this['shBands']=_0x289ef5['shBands'],this['shBands']>0xe1d*-0x1+0x265d+-0x1840&&(this['sh1to3Text'+'ure']?((_0x189233=this['sh1to3Text'+'ure2'])==null||_0x189233['destroy'](),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x5aa887),this['shBands']>-0x59*-0x50+-0x12a8+-0x927&&((_0x1febce=this['sh4to7Text'+'ure2'])==null||_0x1febce['destroy'](),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x5aa887),this['shBands']>-0x1*0x5ad+0x2695+0x1073*-0x2?((_0x2c7b5f=this['sh8to11Tex'+'ture2'])==null||_0x2c7b5f['destroy'](),(_0x2b169a=this['sh12to15Te'+'xture2'])==null||_0x2b169a['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x5aa887),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x5aa887)):((_0x4dfeb7=this['sh8to11Tex'+'ture2'])==null||_0x4dfeb7['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x5aa887)))):(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x5aa887),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o32',Ue,_0x5aa887),this['shBands']>0x6af*0x5+-0x9f*0x3b+0x1*0x33b&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',Ue,_0x5aa887),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x5aa887),this['shBands']>0x25*-0xfe+-0x1*-0x1e9d+0x61b?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ue,_0x5aa887),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x5aa887),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',Ue,_0x5aa887),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x5aa887)):(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ki,_0x5aa887),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ki,_0x5aa887)))),await this['updateSHDa'+'taByWorker'](_0x289ef5));}['updateText'+'ure'](){this['isDestroye'+'d']||(super['updateText'+'ure'](),[this['colorTextu'+'re'],this['colorTextu'+'re2']]=[this['colorTextu'+'re2'],this['colorTextu'+'re']],[this['transformA'+'Texture'],this['transformA'+'Texture2']]=[this['transformA'+'Texture2'],this['transformA'+'Texture']],[this['transformB'+'Texture'],this['transformB'+'Texture2']]=[this['transformB'+'Texture2'],this['transformB'+'Texture']],[this['transformR'+'Texture'],this['transformR'+'Texture2']]=[this['transformR'+'Texture2'],this['transformR'+'Texture']],this['is4D']&&([this['transformM'+'otionTextu'+'re'],this['transformM'+'otionTextu'+'re2']]=[this['transformM'+'otionTextu'+'re2'],this['transformM'+'otionTextu'+'re']],[this['transformL'+'ifecycleTe'+'xture'],this['transformL'+'ifecycleTe'+'xture2']]=[this['transformL'+'ifecycleTe'+'xture2'],this['transformL'+'ifecycleTe'+'xture']]),[this['sh1to3Text'+'ure'],this['sh1to3Text'+'ure2']]=[this['sh1to3Text'+'ure2'],this['sh1to3Text'+'ure']],[this['sh4to7Text'+'ure'],this['sh4to7Text'+'ure2']]=[this['sh4to7Text'+'ure2'],this['sh4to7Text'+'ure']],[this['sh8to11Tex'+'ture'],this['sh8to11Tex'+'ture2']]=[this['sh8to11Tex'+'ture2'],this['sh8to11Tex'+'ture']],[this['sh12to15Te'+'xture'],this['sh12to15Te'+'xture2']]=[this['sh12to15Te'+'xture2'],this['sh12to15Te'+'xture']]);}['releaseGSp'+'latResourc'+'e'](_0x266694){this['appendQueu'+'e']['push']({'type':'release','taskId':new Date()['getTime'](),'data':{'index':_0x266694}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['releaseAll'+'GSplatReso'+'urce'](){this['isDestroye'+'d']||(this['appendQueu'+'e']=[],await this['gsplatData']['releaseAll'+'SeqData']());}['appendGSpl'+'atResource'](_0x598ee1,_0x56a03c,_0x499c31,_0x5781a1,_0x536fa9,_0x3a58a3){this['appendQueu'+'e']['push']({'type':'append','taskId':new Date()['getTime'](),'data':{'gsplatData':_0x598ee1,'timeOption':_0x56a03c,'loadedTime':_0x499c31,'asset':_0x5781a1,'events':_0x536fa9,'seekCB':_0x3a58a3}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['processQue'+'ue'](){if(!this['isProcessi'+'ngQueue']){this['isProcessi'+'ngQueue']=!(-0x1ad4+-0xd*-0x2f9+-0xbd1);try{for(;this['appendQueu'+'e']['length']>0x10cb+0xc9*0x6+-0x1581;){const _0xd0f638=this['appendQueu'+'e']['shift']();_0xd0f638['type']==='append'?await this['processApp'+'endTask'](_0xd0f638['data']):_0xd0f638['type']==='release'&&await this['processRel'+'easeTask'](_0xd0f638['data']);}}finally{this['isProcessi'+'ngQueue']=!(-0x25ab*0x1+-0x591+-0x1*-0x2b3d);}}}async['processRel'+'easeTask'](_0x35e994){const {index:_0x3fc968}=_0x35e994;this['isDestroye'+'d']||await this['gsplatData']['releaseSeq'+'Data'](_0x3fc968);}async['processApp'+'endTask'](_0x4e278e){var _0xd3f46c;const {gsplatData:_0x31fd6d,timeOption:_0x18c948,loadedTime:_0x3788d5,asset:_0x2e9fef,events:_0x30349d,seekCB:_0x2c12ec}=_0x4e278e;!this['gsplatData']||this['isDestroye'+'d']||(globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),console['log']('loadTime__'+'__','----------'+'----------'+'---'),this['timeOption']=_0x18c948,this['asset']=_0x2e9fef,this['assetsMana'+'gerLoadedT'+'ime']=_0x3788d5,this['events']=_0x30349d,await this['gsplatData']['appendGSpl'+'atData'](_0x31fd6d,_0x3788d5,_0x18c948),console['log']('loadTime__'+'__','gsplatDeco'+'dedResourc'+'e\x20gsplatDa'+'ta.appendG'+'SplatData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x224*0x9+-0xf9b+0x22e1),_0x31fd6d['numSplats'],((performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])/_0x31fd6d['numSplats'])['toFixed'](0x499+0x16e1+-0x1b77)),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await this['updateData'](),console['log']('loadTime__'+'__','GSplatDeco'+'dedResourc'+'e\x20this.upd'+'ateData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x1ab7+-0x243a+-0x985*-0x1),_0x31fd6d['numSplats']),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await((_0xd3f46c=this['gsplatInst'+'ance'])==null?void(0x1914+-0x28+-0x18ec):_0xd3f46c['updateInst'+'anceData'](this,_0x3788d5,_0x2c12ec)),console['log']('loadTime__'+'__','GSplatDeco'+'dedResourc'+'e\x20updateIn'+'stanceData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x256c+0x1*0xd1f+0x3289*-0x1),_0x31fd6d['numSplats']));}['fireAssets'+'ManagerTim'+'eIndex'](_0x2711e9,_0x47e424){var _0x14a9ad;const _0x430bfa=_0x2711e9||this['assetsMana'+'gerLoadedT'+'ime'];(_0x14a9ad=this['asset'])==null||_0x14a9ad['fire']('setAssetsL'+'oaded',_0x430bfa,_0x47e424);}['destroy'](){var _0x2c7b27,_0x54dfc7,_0x3cb50b,_0x3c7872,_0x2cdc2f,_0x5be865,_0x47d2a5,_0x25d3ac,_0x80aacb,_0x27dc0e,_0x7dad52,_0xd8ee17,_0x272f24,_0x1d5875,_0x4bb779,_0x5a3c2b,_0x4b4c80,_0x2de8a5,_0xfc38bf,_0x33ce6c,_0x2341ec;(_0x2c7b27=this['updateData'+'Worker'])==null||_0x2c7b27['destroy'](),this['updateData'+'Worker']=void(0x11*0x4e+-0x2*-0x1037+-0x259c),(_0x54dfc7=this['colorTextu'+'re'])==null||_0x54dfc7['destroy'](),(_0x3cb50b=this['transformA'+'Texture'])==null||_0x3cb50b['destroy'](),(_0x3c7872=this['transformB'+'Texture'])==null||_0x3c7872['destroy'](),(_0x2cdc2f=this['transformR'+'Texture'])==null||_0x2cdc2f['destroy'](),(_0x5be865=this['transformM'+'otionTextu'+'re'])==null||_0x5be865['destroy'](),(_0x47d2a5=this['transformL'+'ifecycleTe'+'xture'])==null||_0x47d2a5['destroy'](),(_0x25d3ac=this['sh1to3Text'+'ure'])==null||_0x25d3ac['destroy'](),(_0x80aacb=this['sh4to7Text'+'ure'])==null||_0x80aacb['destroy'](),(_0x27dc0e=this['sh8to11Tex'+'ture'])==null||_0x27dc0e['destroy'](),(_0x7dad52=this['sh12to15Te'+'xture'])==null||_0x7dad52['destroy'](),(_0xd8ee17=this['colorTextu'+'re2'])==null||_0xd8ee17['destroy'](),(_0x272f24=this['transformA'+'Texture2'])==null||_0x272f24['destroy'](),(_0x1d5875=this['transformB'+'Texture2'])==null||_0x1d5875['destroy'](),(_0x4bb779=this['transformR'+'Texture2'])==null||_0x4bb779['destroy'](),(_0x5a3c2b=this['transformM'+'otionTextu'+'re2'])==null||_0x5a3c2b['destroy'](),(_0x4b4c80=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x4b4c80['destroy'](),(_0x2de8a5=this['sh1to3Text'+'ure2'])==null||_0x2de8a5['destroy'](),(_0xfc38bf=this['sh4to7Text'+'ure2'])==null||_0xfc38bf['destroy'](),(_0x33ce6c=this['sh8to11Tex'+'ture2'])==null||_0x33ce6c['destroy'](),(_0x2341ec=this['sh12to15Te'+'xture2'])==null||_0x2341ec['destroy'](),this['releaseAll'+'GSplatReso'+'urce'](),super['destroy'](),this['aabb']=null,this['centers']=null,this['motion']=null,this['tScale']=null,this['muT']=null,this['timeIndex']=null,this['shBands']=null;}['configureM'+'aterial'](_0x3cb543){var _0x4af58b,_0x241c89,_0x325772,_0xbea61e,_0x45a78c,_0x1176c1,_0xcf18cf,_0x6367e8,_0x2dccff,_0x160b62,_0x522d94,_0x2d9f73,_0x1c176;if(console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.con'+'figureMate'+'rial'),this['isDestroye'+'d'])return;const _0x46a6ea=((_0x4af58b=_0x3cb543['getParamet'+'er']('pointCloud'+'ModeEnable'+'d'))==null?void(-0xfe7+0x21c3+0x8ee*-0x2):_0x4af58b['data'])??0x1*-0x1797+-0x1e65+0x35fc,_0x116f19=((_0x241c89=_0x3cb543['getParamet'+'er']('uSplatScal'+'e'))==null?void(0x1e56+0x1dd*0xd+0x1*-0x368f):_0x241c89['data'])??-0x4f*0x5e+-0x1*0x125d+-0x4*-0xbd8,_0x6354fa=((_0x325772=_0x3cb543['getParamet'+'er']('uSaturatio'+'n'))==null?void(-0x401+0xcc+0x335*0x1):_0x325772['data'])??-0x1960+0x1d3*0xf+-0x1fc,_0x3ed034=((_0xbea61e=_0x3cb543['getParamet'+'er']('uHueOffset'))==null?void(-0x3d*-0xa1+0x2210+0x1*-0x486d):_0xbea61e['data'])??0x230b*-0x1+0xb*0x8d+0x1cfc,_0x4f50e6=((_0x45a78c=_0x3cb543['getParamet'+'er']('uInvertOpa'+'city'))==null?void(0x1347+-0x712*0x5+0x337*0x5):_0x45a78c['data'])??-0x1d6c+-0x1*-0x2565+0x9d*-0xd,_0x39100a=((_0x1176c1=_0x3cb543['getParamet'+'er']('uOpacity'))==null?void(-0x1e5e+0x28b*0xf+0x1*-0x7c7):_0x1176c1['data'])??0x107*0x13+-0x1*-0x20ef+0x1*-0x3473,_0x27351e=((_0xcf18cf=_0x3cb543['getParamet'+'er']('clrOffset'))==null?void(-0xdb3+-0x49*-0x3+0xcd8):_0xcf18cf['data'])??[-0x16e1+-0xd4b*-0x1+0x996,0x2675+0x1db8+-0x442d,-0x3*-0x7e1+0x4*-0x5a2+-0x11b,0x1*0x1c35+-0x34a*0x1+-0x18ea],_0x60afd3=((_0x6367e8=_0x3cb543['getParamet'+'er']('clrScale'))==null?void(-0x7f*-0x15+-0x1*-0x1eff+-0x296a):_0x6367e8['data'])??[-0x13*0xa1+-0x13a2*0x1+0x1f96,0x1*-0x4e3+0x2086+-0x189*0x12,0x1afb+0xa3*-0x8+-0x1*0x15e2,0x301*-0x7+0xa*0x2cb+-0x2*0x373],_0x3f8f07=((_0x2dccff=_0x3cb543['getParamet'+'er']('uShapeN'))==null?void(0x515*0x2+-0x27*-0xca+0x28f*-0x10):_0x2dccff['data'])??-0x8db*0x2+0x1*-0x24c3+0xae5*0x5,_0x26e3c8=((_0x160b62=_0x3cb543['getParamet'+'er']('mode'))==null?void(0x7ef*0x2+0x10df*-0x1+-0x101*-0x1):_0x160b62['data'])??-0x1c7+-0x2556+0x271d,_0x2a24e1=((_0x522d94=_0x3cb543['getParamet'+'er']('ringSize'))==null?void(-0xcfb*-0x2+0xb*-0x179+-0x1*0x9c3):_0x522d94['data'])??-0x927*-0x4+0x2229+0x3d*-0x129,_0x4b81cb=((_0x2d9f73=_0x3cb543['defines'])==null?void(-0x332*0x4+0xfd*0x12+0x502*-0x1):_0x2d9f73['get']('uOpenAnim'))??'0',_0x1b3929=((_0x1c176=_0x3cb543['defines'])==null?void(-0x1051*-0x1+-0x262*0x6+-0x205):_0x1c176['get']('uControlCo'+'lorMode'))??'0';_0x3cb543['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x3cb543['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x3cb543['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x3cb543['setParamet'+'er']('transformR',this['transformR'+'Texture']),_0x3cb543['setParamet'+'er']('uSplatScal'+'e',_0x116f19),_0x3cb543['setParamet'+'er']('pointCloud'+'ModeEnable'+'d',_0x46a6ea),_0x3cb543['setParamet'+'er']('uSaturatio'+'n',_0x6354fa),_0x3cb543['setParamet'+'er']('uHueOffset',_0x3ed034),_0x3cb543['setParamet'+'er']('uInvertOpa'+'city',_0x4f50e6),_0x3cb543['setParamet'+'er']('uOpacity',_0x39100a),_0x3cb543['setParamet'+'er']('clrOffset',_0x27351e),_0x3cb543['setParamet'+'er']('clrScale',_0x60afd3),_0x3cb543['setParamet'+'er']('uShapeN',_0x3f8f07),_0x3cb543['setParamet'+'er']('mode',_0x26e3c8),_0x3cb543['setParamet'+'er']('ringSize',_0x2a24e1),_0x3cb543['setParamet'+'er']('prerenderC'+'Time',0x129a+0x25*-0x82+0x30),_0x3cb543['setParamet'+'er']('renderSpac'+'e',-0x1*-0x75a+0xd*-0xba+-0x1a*-0x15),_0x3cb543['setParamet'+'er']('endSpace',0xd*0x77+-0x1bab*0x1+0x15aa),_0x3cb543['setDefine']('uOpenAnim',_0x4b81cb),_0x3cb543['setDefine']('uControlCo'+'lorMode',_0x1b3929),this['transformM'+'otionTextu'+'re']&&_0x3cb543['setParamet'+'er']('transformM'+'otion',this['transformM'+'otionTextu'+'re']),this['transformL'+'ifecycleTe'+'xture']&&_0x3cb543['setParamet'+'er']('transformL'+'ifecycle',this['transformL'+'ifecycleTe'+'xture']),_0x3cb543['setDefine']('SH_BANDS',this['shBands']),_0x3cb543['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x3cb543['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x3cb543['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x3cb543['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x3cb543['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']);}['evalTextur'+'eSize'](_0x13c2be){const _0x3a547d=Math['ceil'](Math['sqrt'](_0x13c2be)),_0x441e62=Math['ceil'](_0x13c2be/_0x3a547d);return new J(_0x3a547d,_0x441e62);}async['updateColo'+'rData'](_0x24442d){var _0x1bd14c;console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x1cdfc3=this['colorTextu'+'re2'];if(!_0x1cdfc3||this['isDestroye'+'d'])return;let _0x14074d=(_0x1bd14c=_0x24442d['transformD'+'ata'])==null?void(0x1b25+-0x2669+0xb44):_0x1bd14c['dataColor'];if(!_0x14074d){const _0x4239ea=_0x24442d['getProp']('color_opac'+'ity');_0x14074d=new Uint16Array(_0x4239ea['buffer']['slice']());}await this['idleUpdate'+'TexturePro'+'mise'](_0x1cdfc3,_0x14074d);}async['getTransfo'+'rmDataByWo'+'rker'](_0x1915f9){var _0x2a54b9;if(console['log']('____\x20ENGIN'+'E\x20IVAN','getTransfo'+'rmDataByWo'+'rker'),(_0x2a54b9=_0x1915f9['transformD'+'ata'])!=null&&_0x2a54b9['dataCenter'+'s'])return{'centers':_0x1915f9['transformD'+'ata']['dataCenter'+'s'],'dataPosition':_0x1915f9['transformD'+'ata']['dataPositi'+'on'],'dataScale':_0x1915f9['transformD'+'ata']['dataScale'],'dataRotation':_0x1915f9['transformD'+'ata']['dataRotati'+'on'],'dataMotion':_0x1915f9['transformD'+'ata']['dataMotion'],'dataTime':_0x1915f9['transformD'+'ata']['dataTime'],'motion':_0x1915f9['transformD'+'ata']['motion'],'tScaleArray':_0x1915f9['transformD'+'ata']['tScaleArra'+'y']};const _0x14cc88=_0x1915f9['getProp']('position'),_0x587f56=_0x1915f9['getProp']('motion'),_0x14dba7=_0x1915f9['getProp']('rotation'),_0x45a6f3=_0x1915f9['getProp']('scale'),_0x4366c9=_0x1915f9['getProp']('t'),_0x3dc6f6=_0x1915f9['getProp']('t_scale');return await this['updateData'+'Worker']['updateTran'+'sData'](_0x1915f9['numSplats'],this['is4D'],_0x14cc88,_0x14dba7,_0x587f56,_0x45a6f3,_0x4366c9,_0x3dc6f6);}async['updateTran'+'sformFromD'+'ata'](_0x573970){console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformFromD'+'ata'),this['transformA'+'Texture2']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformA'+'Texture2'],_0x573970['dataPositi'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformR'+'Texture2'],_0x573970['dataRotati'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformB'+'Texture2'],_0x573970['dataScale']),this['is4D']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformM'+'otionTextu'+'re2'],_0x573970['dataMotion']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformL'+'ifecycleTe'+'xture2'],_0x573970['dataTime'])));}async['idleUpdate'+'TexturePro'+'mise'](_0x20f438,_0x3b663f){if(!this['isDestroye'+'d'])return new Promise(_0x593a37=>{requestIdleCallback(()=>{const _0xf10a4e=_0x20f438['lock']();_0xf10a4e==null||_0xf10a4e['set'](_0x3b663f),_0x20f438['unlock'](),_0x593a37(!(0x1*0x1f6a+-0x659+-0x1911));},{'timeout':0x12c});});}async['updateSHDa'+'ta'](_0x362d1a){var _0x85ac2f,_0x46881a,_0x184a6f,_0x352ab2,_0x300230,_0x481e39,_0x34a615,_0x226217;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta'),this['isDestroye'+'d'])return;const _0x17e96c=(_0x85ac2f=this['sh1to3Text'+'ure2'])==null?void(-0x16f*0x9+0x283*0xd+-0x13c0):_0x85ac2f['lock'](),_0x22c452=(_0x46881a=this['sh4to7Text'+'ure2'])==null?void(0xbee+-0x55*-0x3b+0x1*-0x1f85):_0x46881a['lock'](),_0x418bd9=(_0x184a6f=this['sh8to11Tex'+'ture2'])==null?void(0x13f*0x19+0x2d5*0x3+-0x27a6):_0x184a6f['lock'](),_0x34131b=(_0x352ab2=this['sh12to15Te'+'xture2'])==null?void(0x231e+-0x1c36+0xd*-0x88):_0x352ab2['lock'](),_0x424d91={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x3fddb1=xg(_0x362d1a,_0x424d91*(-0x10f*-0x11+0x3*-0x9d0+0xb74)),_0x1fb4e0=0x153c+0x23c*0xd+0x1b1*-0x19,_0x302ba5=-0x2ad*0xc+0x1a3+0x2278,_0x3995d3=new Float32Array(0xf98+-0x1*-0x21a4+0x313b*-0x1),_0x1ac42c=new Uint32Array(_0x3995d3['buffer']),_0x4f6453=new Array(_0x424d91*(0x1b6c+-0x1*0x1cce+0x165))['fill'](0xef*0x1e+0x1af+-0x1db1);for(let _0x20a275=-0x195a+-0xc9d+0x25f7;_0x20a275<_0x362d1a['numSplats'];++_0x20a275){for(let _0x4aa1d9=-0x2*-0xbb7+-0x1*0x2ef+0x247*-0x9;_0x4aa1d9<_0x424d91;++_0x4aa1d9)_0x4f6453[_0x4aa1d9*(-0x12f3+-0x6f3*0x5+0x1*0x35b5)]=_0x3fddb1[_0x4aa1d9][_0x20a275],_0x4f6453[_0x4aa1d9*(0x135+-0x1e25+0x1*0x1cf3)+(-0x1265*0x2+0x91e+-0x1bad*-0x1)]=_0x3fddb1[_0x4aa1d9+_0x424d91][_0x20a275],_0x4f6453[_0x4aa1d9*(0x1*0x5f3+0xd1a+0x2*-0x985)+(-0x1*-0x146b+-0x1278+-0x1f1)]=_0x3fddb1[_0x4aa1d9+_0x424d91*(-0x1b34+0xe67+-0x3*-0x445)][_0x20a275];let _0xf87a52=_0x4f6453[0x1508+0x2*0xa45+-0x2992];for(let _0x1a12b6=0x2*0xe62+-0x129*0x17+-0x214;_0x1a12b6<_0x424d91*(0xb2*0x37+-0x1*-0x23c5+-0x4a00);++_0x1a12b6)_0xf87a52=Math['max'](_0xf87a52,Math['abs'](_0x4f6453[_0x1a12b6]));if(_0xf87a52!==0x233d+-0x1*-0x1e3b+-0xd18*0x5){for(let _0x39024f=0x4f1+0x1d0a+-0x21fb;_0x39024f<_0x424d91;++_0x39024f)_0x4f6453[_0x39024f*(0x578+0x50+-0x5c5)+(0x221b*-0x1+0x1c4*-0x3+0x2767)]=Math['max'](-0xe12+-0xb57*-0x2+-0x89c,Math['min'](_0x1fb4e0,Math['floor']((_0x4f6453[_0x39024f*(-0xd*-0xc9+-0x1dce+0x139c*0x1)+(-0xb*-0x86+0x13*-0x1fd+0x2005)]/_0xf87a52*(-0x4cd+0xd*0x2bf+-0x1*0x1ee6+0.5)+(-0x1*-0xb23+-0xea5*0x2+0x1*0x1227+0.5))*_0x1fb4e0+(-0x13e4+0x8fe*0x4+0xe*-0x126+0.5)))),_0x4f6453[_0x39024f*(-0x13*0x1f9+-0xda1+0x331f)+(0x41c*-0x2+0x1f2b+-0x16f2)]=Math['max'](-0x5e*-0x5+-0x2130+0x1f5a,Math['min'](_0x302ba5,Math['floor']((_0x4f6453[_0x39024f*(-0x17e0+0x1153+0x690)+(-0xd4d*0x1+-0x150b+0x2259)]/_0xf87a52*(-0x8*0x23b+0x1*-0x257c+0x3754+0.5)+(0xa11+-0x168e*0x1+0xc7d+0.5))*_0x302ba5+(0x19*0x83+-0x1de*-0x2+-0x1087*0x1+0.5)))),_0x4f6453[_0x39024f*(0x185e*0x1+-0x5c1+-0x129a)+(-0x2342+0xf84+0x13c0)]=Math['max'](0x1a8d+0x1619+-0x30a6,Math['min'](_0x1fb4e0,Math['floor']((_0x4f6453[_0x39024f*(-0x1*-0x127+0x2222+-0x2346)+(-0x1*0xc00+-0x86e+0x1470)]/_0xf87a52*(-0xa13*0x1+-0x10c1+0x1ad4+0.5)+(-0xb06*0x2+-0x3*-0x9ee+-0x1*0x7be+0.5))*_0x1fb4e0+(0x1bca+0x15ce+-0xc*0x422+0.5))));_0x3995d3[-0x1*-0x2162+0x7*-0x361+0x1*-0x9bb]=_0xf87a52,_0x17e96c[_0x20a275*(-0x1bce*0x1+0xf67*0x2+0x17e*-0x2)+(-0xd*0x2f+0x1187+-0xf24)]=_0x1ac42c[-0x6*-0x564+-0x15d4+-0x1*0xa84],_0x17e96c[_0x20a275*(0x29*0x79+0x17*0x2b+0x3df*-0x6)+(0x23c1+0x1fa1+-0x16f*0x2f)]=_0x4f6453[0x1a78+-0x8*0x19b+-0xda0]<<-0xf47*-0x1+-0xb7f*0x1+-0x3b3|_0x4f6453[0xec3*-0x1+-0x19a5+-0x2869*-0x1]<<-0xbfc+0x11e5+0x2ef*-0x2|_0x4f6453[-0x188f*-0x1+-0x132d*0x1+-0x8*0xac],_0x17e96c[_0x20a275*(-0x2*0x49d+0x13b2+0x3*-0x37c)+(0x463*-0x3+0x2142+-0x1417)]=_0x4f6453[0x6*-0x19e+-0x4*-0x7ff+-0x1645]<<-0x8c8+0xa9b+-0x1be|_0x4f6453[-0x2*-0xbfe+-0x20bf*0x1+-0x15*-0x6b]<<-0x1*-0x7a1+0x1b11+-0x22a7|_0x4f6453[0x509*-0x1+0x20ea+-0xdee*0x2],_0x17e96c[_0x20a275*(0x2*-0xd0a+-0x91*-0x5+0x1*0x1743)+(-0x1*-0x676+-0xec9*0x1+-0x42b*-0x2)]=_0x4f6453[-0x1d57+0x81+0x1cdc]<<0x1db+-0x1*0x232+0x3*0x24|_0x4f6453[-0x2526+0x3*-0x48a+0x32cb]<<-0x2f9*0x9+0x2138*0x1+0x224*-0x3|_0x4f6453[-0x1*0x1786+0x2*0x120e+0xc8e*-0x1],this['shBands']>0x181f+0x489+-0x1*0x1ca7&&(_0x22c452[_0x20a275*(0x61d*-0x2+0x5f2+0x64c)+(0xaa9*-0x1+-0xc5d+-0x1a5*-0xe)]=_0x4f6453[0x59a+-0x2395*-0x1+-0x2926]<<-0x9*0x24e+-0x187a+0x1*0x2d4d|_0x4f6453[0x1ed3+-0x1*-0x1307+-0x8*0x63a]<<-0xcb3+-0x7*-0x173+-0x5f*-0x7|_0x4f6453[0x267b*-0x1+-0x949+-0x2fcf*-0x1],_0x22c452[_0x20a275*(0x486+-0x1a13+0x1591)+(0x14f*0x15+0xbc6+-0x2740)]=_0x4f6453[0x1*-0x14e1+-0x1c7d+-0xfd*-0x32]<<0x81a+0x2*0x962+-0x1ac9|_0x4f6453[-0x21ac+-0x1*0x827+-0xa*-0x430]<<-0x2b*-0xae+0xa*0x3b3+-0x422d|_0x4f6453[0x1d52+-0x5*0x1db+-0x13fd],_0x22c452[_0x20a275*(0xb19*0x3+-0x47*0x4f+0x1*-0xb5e)+(-0x2200+-0x189f+0x3aa1)]=_0x4f6453[-0x12a3+-0x29*-0x1+-0x49*-0x41]<<-0xa17+-0x3d*0x69+0x2331|_0x4f6453[-0x168e*0x1+0xf96+0x258*0x3]<<0x2029*-0x1+-0x1*0x1aed+0x3b21|_0x4f6453[-0xb49+0x1a10+-0xeb6],_0x22c452[_0x20a275*(0x1*-0x236d+-0x75e+0xe45*0x3)+(0x7*0x4b2+-0x17dd+-0x8fe)]=_0x4f6453[0x19e2+0x15b6*0x1+-0x2f86]<<-0x2*0x8bb+0xd20+0x46b|_0x4f6453[0x2342*-0x1+0x3*-0x52e+0x1*0x32df]<<-0x370*0x4+-0xe6c+0x1c37|_0x4f6453[0x39e*0xa+-0x11f6*-0x1+-0x2*0x1b07],this['shBands']>0x1afe+0x7*0x181+-0x2583?(_0x418bd9[_0x20a275*(0x26ab*-0x1+0xd10*-0x1+0x33bf)+(0x21a*-0xb+0x1*0x3fd+-0x3b*-0x53)]=_0x4f6453[0xb39+-0x23a9*-0x1+-0x1*0x2ecd]<<-0x463*-0x6+-0x1843+-0x1fa|_0x4f6453[-0xa*0x33e+0x1849*0x1+-0x1a5*-0x5]<<0x1*-0x2390+-0x77f*-0x3+0xd1e|_0x4f6453[0xd*-0x11+-0x557*0x1+0x64b],_0x418bd9[_0x20a275*(0x25c3+-0x1*0x1dfa+0x7c5*-0x1)+(-0x1b17+0x2630+-0xb18)]=_0x4f6453[-0xbc*0x8+-0x840+0x118*0xd]<<0xe*-0x283+-0x1555+-0x66*-0x8e|_0x4f6453[-0x23f3+-0x1e32+-0x2*-0x211f]<<-0x19*0x14e+0x168d+0xa1c|_0x4f6453[-0xa2e*-0x2+0x11a1+0xb7*-0x35],_0x418bd9[_0x20a275*(-0x259d+-0x1*0x1f4+0x1*0x2795)+(-0x1*-0x275+-0x1f*-0x1+-0x292)]=_0x4f6453[-0x16e9+0x83d+0xec7]<<0x8*-0x3f5+0x19c6+0x5f7|_0x4f6453[-0x1916+-0x47*-0x58+0x65*0x2]<<-0x1c9*-0x2+0x1c*-0x14e+0x2101|_0x4f6453[0x2*-0x5f3+-0x1*-0xe9a+-0x33*0xd],_0x418bd9[_0x20a275*(-0xedd+-0x4*0x62a+0x2789)+(-0x783+0x622*-0x1+0xda8)]=_0x4f6453[-0x1ce3+0x4*-0x781+-0x1d*-0x209]<<0x4bb*-0x8+0x4a*-0x12+-0x1*-0x2b21|_0x4f6453[0x1*0x73e+-0xae+-0x671]<<-0x3b*0x89+-0x13a*-0x7+-0x10c*-0x16|_0x4f6453[-0x3*0xad3+0x26af+-0x1*0x616],_0x34131b[_0x20a275*(0x102e+-0x529*-0x3+-0x1fa5)+(0x25a5+-0x17a3+-0xa3*0x16)]=_0x4f6453[0xa67+0x4*-0x645+-0x2*-0x767]<<0x1*0x1b47+0x22ea+-0xd4*0x4b|_0x4f6453[-0x1b4d+-0x1*-0x347+-0xc14*-0x2]<<0x1d18+-0x1b70+-0x19d|_0x4f6453[0x2e8+0x2fd*-0xb+-0x2*-0xf0d],_0x34131b[_0x20a275*(-0x139*0x13+-0x4*0x944+-0x3c4f*-0x1)+(0x175*0x10+-0xe3b*0x1+0x48a*-0x2)]=_0x4f6453[0x1924+-0x2*-0x84e+0xa67*-0x4]<<0xc24+-0x1*-0x1eb+-0xdfa|_0x4f6453[-0x190f+-0x782+0x20b6]<<-0x233a+-0x42*-0x7b+-0x38f*-0x1|_0x4f6453[-0x1e6e*0x1+0xae5+0x1*0x13af],_0x34131b[_0x20a275*(0x1*-0xd2+-0xfaa+0x1080)+(0x1ca1+0xcb3*-0x1+-0xfec)]=_0x4f6453[0x1*0x42d+0xac1*-0x1+0x6bb]<<-0xb1f+-0x1d8f+0x28c3|_0x4f6453[0x13*0x86+0x1cab+-0xb*0x37f]<<-0x4fb*0x1+-0x26d8+-0x1*-0x2bde|_0x4f6453[-0x156a+0xf*-0x1+-0x1aa*-0xd],_0x34131b[_0x20a275*(-0xdd2+-0x2339+-0x310f*-0x1)+(-0x5*-0x310+0x187a+-0x27c7)]=_0x4f6453[0x2383+-0x1*0x9bb+-0x199e]<<-0x1f6f+0x1*0xb81+0x6d*0x2f|_0x4f6453[0x2da*-0x7+0x4*-0x3+0x142d]<<0x195f*-0x1+0x14*-0x1cc+0x3d5a|_0x4f6453[0x19f5+0x1*-0x1acf+-0x106*-0x1]):_0x418bd9[_0x20a275]=_0x4f6453[0x1c51+-0x23c2+-0x12*-0x6b]<<-0x3*0xc17+-0x8f*-0x3+-0xb*-0x327|_0x4f6453[-0xb1b+0x1588*-0x1+0x20b9]<<-0x1*-0x1ea6+-0x1abd+0x2*-0x1ef|_0x4f6453[-0x1a51*-0x1+-0x1421*-0x1+-0x2e5b]);}}(_0x300230=this['sh1to3Text'+'ure2'])==null||_0x300230['unlock'](),(_0x481e39=this['sh4to7Text'+'ure2'])==null||_0x481e39['unlock'](),(_0x34a615=this['sh8to11Tex'+'ture2'])==null||_0x34a615['unlock'](),(_0x226217=this['sh12to15Te'+'xture2'])==null||_0x226217['unlock']();}async['updateSHDa'+'taByWorker'](_0x4f12b4){var _0x5dd584,_0x239eab,_0x1cc70c,_0x30e30d,_0x55f9ed;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'taByWorker'),this['isDestroye'+'d'])return;const _0xc432a3={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']];let _0x56c5d1,_0x558005,_0x34f301,_0x3b4cdc;if((_0x5dd584=_0x4f12b4['transformD'+'ata'])!=null&&_0x5dd584['sh1to3Data'])_0x56c5d1=(_0x239eab=_0x4f12b4['transformD'+'ata'])==null?void(-0xb47+0x138c+-0x845):_0x239eab['sh1to3Data'],_0x558005=(_0x1cc70c=_0x4f12b4['transformD'+'ata'])==null?void(0x1c*-0x76+0x74*0x30+-0x1*0x8d8):_0x1cc70c['sh4to7Data'],_0x34f301=(_0x30e30d=_0x4f12b4['transformD'+'ata'])==null?void(0xfd1*-0x1+-0x2390+0x3361):_0x30e30d['sh8to11Dat'+'a'],_0x3b4cdc=(_0x55f9ed=_0x4f12b4['transformD'+'ata'])==null?void(-0x18e*-0x2+-0x1*-0x251f+-0xd69*0x3):_0x55f9ed['sh12to15Da'+'ta'];else{const _0x3e3ec8=xg(_0x4f12b4,_0xc432a3*(0x1736+-0x13*0x8e+-0x1cf*0x7)),_0x164218=await this['updateData'+'Worker']['updateSHDa'+'ta1'](_0x4f12b4['numSplats'],this['shBands'],_0x3e3ec8);_0x56c5d1=_0x164218['sh1to3Data'],_0x558005=_0x164218['sh4to7Data'],_0x34f301=_0x164218['sh8to11Dat'+'a'],_0x3b4cdc=_0x164218['sh12to15Da'+'ta'];}await this['idleUpdate'+'TexturePro'+'mise'](this['sh1to3Text'+'ure2'],_0x56c5d1),this['shBands']>-0xf02+0x257*-0xd+0x2d6e*0x1&&(await this['idleUpdate'+'TexturePro'+'mise'](this['sh4to7Text'+'ure2'],_0x558005),this['shBands']>0x237*-0x5+0x1b1a+-0x1005?(await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x34f301),await this['idleUpdate'+'TexturePro'+'mise'](this['sh12to15Te'+'xture2'],_0x3b4cdc)):await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x34f301));}}const PC='FILL_WINDO'+'W',Tg='KEEP_ASPEC'+'T',wg='AUTO',MC='FIXED';let Ov;function Ms(){return Ov;}function _u(_0x39b085){Ov=_0x39b085;}class DC{constructor(){h(this,'renderPass'+'es',[]),h(this,'renderTarg'+'etMap',new Map());}['addRenderP'+'ass'](_0x4fc5da){w['assert'](_0x4fc5da),_0x4fc5da['frameUpdat'+'e']();const _0x23d711=_0x4fc5da['beforePass'+'es'];for(let _0x2df627=0x2431+0x4*0x5bd+-0x3b25;_0x2df627<_0x23d711['length'];_0x2df627++){const _0xe2e35c=_0x23d711[_0x2df627];_0xe2e35c['enabled']&&this['addRenderP'+'ass'](_0xe2e35c);}_0x4fc5da['enabled']&&this['renderPass'+'es']['push'](_0x4fc5da);const _0x484a3e=_0x4fc5da['afterPasse'+'s'];for(let _0x370c17=-0xb8*-0x1a+0x105*-0x1a+0x4d*0x1a;_0x370c17<_0x484a3e['length'];_0x370c17++){const _0x1e9bf5=_0x484a3e[_0x370c17];_0x1e9bf5['enabled']&&this['addRenderP'+'ass'](_0x1e9bf5);}}['reset'](){this['renderPass'+'es']['length']=0x174*-0x7+-0x1e78+0x28a4;}['compile'](){const _0x3acee1=this['renderTarg'+'etMap'],_0x4234b2=this['renderPass'+'es'];for(let _0x3e734a=0xad8+0xaa8+0x2b*-0x80;_0x3e734a<_0x4234b2['length'];_0x3e734a++){const _0x4929ad=_0x4234b2[_0x3e734a],_0x16083c=_0x4929ad['renderTarg'+'et'];if(_0x16083c!==void(-0x6da+-0x1*0x191f+0x1ff9)){const _0x232a6e=_0x3acee1['get'](_0x16083c);if(_0x232a6e){const _0x142782=_0x4929ad['colorArray'+'Ops']['length'];for(let _0x2bf48e=0x1*0x1471+-0x179*-0x13+-0x306c;_0x2bf48e<_0x142782;_0x2bf48e++)_0x4929ad['colorArray'+'Ops'][_0x2bf48e]['clear']||(_0x232a6e['colorArray'+'Ops'][_0x2bf48e]['store']=!(-0x2*0x761+-0xc33+0x1af5));_0x4929ad['depthStenc'+'ilOps']['clearDepth']||(_0x232a6e['depthStenc'+'ilOps']['storeDepth']=!(0x1223+-0x1f1+-0x566*0x3)),_0x4929ad['depthStenc'+'ilOps']['clearStenc'+'il']||(_0x232a6e['depthStenc'+'ilOps']['storeStenc'+'il']=!(0x4*0x4ae+-0x2635*0x1+0x137d));}_0x3acee1['set'](_0x16083c,_0x4929ad);}}for(let _0x4d534a=-0xbc6+0x1e19*0x1+0x1*-0x1253;_0x4d534a<_0x4234b2['length']-(0x727*0x5+0x125*0x1e+-0x1186*0x4);_0x4d534a++){const _0x58a914=_0x4234b2[_0x4d534a],_0x4f1595=_0x58a914['renderTarg'+'et'],_0x3545c5=_0x4234b2[_0x4d534a+(0x40*-0x42+-0x1cfe+0x2d7f)],_0x556a15=_0x3545c5['renderTarg'+'et'];_0x4f1595!==_0x556a15||_0x4f1595===void(-0xc31+0x1144+0x513*-0x1)||_0x3545c5['depthStenc'+'ilOps']['clearDepth']||_0x3545c5['depthStenc'+'ilOps']['clearStenc'+'il']||_0x3545c5['colorArray'+'Ops']['some'](_0x4bd2f6=>_0x4bd2f6['clear'])||_0x58a914['afterPasse'+'s']['length']>0x35*0xaa+0x19c*-0x11+0x1*-0x7d6||_0x3545c5['beforePass'+'es']['length']>0x16bf+0x1*0x917+-0x1fd6||(_0x58a914['_skipEnd']=!(0x1*0x16af+-0x26d3+0x1024*0x1),_0x3545c5['_skipStart']=!(-0x1fcf+0x19fd+0x5d2));}let _0x453dd2=null,_0x52dc3a=null;for(let _0x1d932f=0x21e*-0x8+0x50c+-0xbe4*-0x1;_0x1d932f<_0x4234b2['length'];_0x1d932f++){const _0xbc9cfa=_0x4234b2[_0x1d932f],_0x2a7c2d=_0xbc9cfa['renderTarg'+'et'],_0x4e99c7=_0x2a7c2d==null?void(0x175+0x11d3+-0x1348):_0x2a7c2d['colorBuffe'+'r'];if(_0x4e99c7!=null&&_0x4e99c7['cubemap']){if(_0x453dd2===_0x4e99c7){const _0x4f13fd=_0x52dc3a['colorArray'+'Ops']['length'];for(let _0x1492ba=-0x2b6*-0x5+-0x441*-0x6+-0x2714;_0x1492ba<_0x4f13fd;_0x1492ba++)_0x52dc3a['colorArray'+'Ops'][_0x1492ba]['mipmaps']=!(-0xd5a*-0x2+0x923*0x1+-0x23d6);}_0x453dd2=_0x2a7c2d['colorBuffe'+'r'],_0x52dc3a=_0xbc9cfa;}else _0xbc9cfa['requiresCu'+'bemaps']&&(_0x453dd2=null,_0x52dc3a=null);}_0x3acee1['clear']();}['render'](_0x5852e9){this['compile']();const _0x108ce4=this['renderPass'+'es'];for(let _0x5771d0=0x10a5*-0x2+0x120d*0x1+-0x2f*-0x53;_0x5771d0<_0x108ce4['length'];_0x5771d0++)_0x108ce4[_0x5771d0]['render']();}}class IC{constructor(_0x3ec9db,_0x2eea23){this['texture0']=_0x3ec9db,this['texture1']=_0x2eea23;}['destroy'](){var _0x3f21ee,_0x2821f8;(_0x3f21ee=this['texture0'])==null||_0x3f21ee['destroy'](),(_0x2821f8=this['texture1'])==null||_0x2821f8['destroy']();}}const Eg=new Kt();class ia{static['createText'+'ure'](_0x5301e7,_0x282182,_0x16a972,_0x3d36db=''){return new _e(_0x5301e7,{'name':'AreaLightL'+'UT'+_0x3d36db,'width':_0x16a972,'height':_0x16a972,'format':_0x282182,'addressU':ue,'addressV':ue,'type':Ds,'magFilter':vt,'minFilter':Te,'anisotropy':0x1,'mipmaps':!(-0x2429+0x82d*-0x4+0x44de)});}static['applyTextu'+'res'](_0x67675,_0xc00573,_0x32bf44){Eg['remove'](_0x67675),Eg['get'](_0x67675,()=>new IC(_0xc00573,_0xc00573===_0x32bf44?null:_0x32bf44)),_0x67675['scope']['resolve']('areaLights'+'LutTex1')['setValue'](_0xc00573),_0x67675['scope']['resolve']('areaLights'+'LutTex2')['setValue'](_0x32bf44);}static['createPlac'+'eholder'](_0x5a1868){const _0x50f06e=ia['createText'+'ure'](_0x5a1868,nt,0xfa9+0x6*-0x4d0+-0x1*-0xd39,'placeholde'+'r');_0x50f06e['lock']()['fill'](-0x8d2+0xcab*0x1+0x5*-0xc5),_0x50f06e['unlock'](),ia['applyTextu'+'res'](_0x5a1868,_0x50f06e,_0x50f06e);}static['set'](_0x595164,_0x576ed1,_0x3b59c7){function _0x3f989d(_0x3a071d,_0x55b35b,_0x578c6f){const _0x249d2d=ia['createText'+'ure'](_0x3a071d,_0x578c6f,0xbd9+-0x11ed+-0x1b*-0x3c);return _0x249d2d['lock']()['set'](_0x55b35b),_0x249d2d['unlock'](),_0x249d2d;}function _0x5d2aa7(_0x3e5145){const _0x496e65=_0x3e5145['length'],_0x2bf706=new Uint16Array(_0x496e65),_0x33452f=Mn['float2Half'];for(let _0x424612=0x2250+0x1233+-0x1181*0x3;_0x424612<_0x496e65;_0x424612++)_0x2bf706[_0x424612]=_0x33452f(_0x3e5145[_0x424612]);return _0x2bf706;}const _0x33fad0=_0x576ed1,_0x270139=_0x3b59c7,_0x19ca29=_0x5d2aa7(_0x33fad0),_0xf03686=_0x5d2aa7(_0x270139),_0x1bceef=_0x3f989d(_0x595164,_0x19ca29,nt),_0x472df8=_0x3f989d(_0x595164,_0xf03686,nt);ia['applyTextu'+'res'](_0x595164,_0x1bceef,_0x472df8);}}const Ph='en-US',Mh={'en':'en-US','es':'en-ES','zh':'zh-CN','zh-HK':'zh-TW','zh-TW':'zh-HK','zh-MO':'zh-HK','fr':'fr-FR','de':'de-DE','it':'it-IT','ru':'ru-RU','ja':'ja-JP'},Sm={};function Dr(_0x14124e,_0x45b140){for(let _0x54a3d5=0x156e*0x1+0xba*0x2f+-0x3794,_0x99c552=_0x14124e['length'];_0x54a3d5<_0x99c552;_0x54a3d5++)Sm[_0x14124e[_0x54a3d5]]=_0x45b140;}function Oi(_0x61a73f){const _0x3e9c76=_0x61a73f['indexOf']('-');return _0x3e9c76!==-(-0x7f6+0x6b7+0x140)?_0x61a73f['substring'](0x1414+-0x59*-0xd+-0x1899,_0x3e9c76):_0x61a73f;}function LC(_0x4ffb96,_0x16248b){const _0x47f56f=_0x4ffb96['indexOf']('-');return _0x47f56f!==-(0x20d4+-0x9e6+-0x16ed)?_0x16248b+_0x4ffb96['substring'](_0x47f56f):_0x16248b;}function Fv(_0xc94fb,_0x2abd24){if(_0x2abd24[_0xc94fb])return _0xc94fb;let _0x19951b=Mh[_0xc94fb];if(_0x19951b&&_0x2abd24[_0x19951b])return _0x19951b;const _0x492c3c=Oi(_0xc94fb);return _0x19951b=Mh[_0x492c3c],_0x2abd24[_0x19951b]?_0x19951b:_0x2abd24[_0x492c3c]?_0x492c3c:Ph;}Dr(['ja','ko','th','vi','zh','id'],_0x199f42=>0x1*-0xccd+0xc04*-0x1+-0x1*-0x18d1),Dr(['fa','hi'],_0x901719=>_0x901719>=0x1*0x1f+0x10de+-0x10fd&&_0x901719<=-0x12c+-0x18ed*-0x1+-0x17c0?-0x29*-0xbf+0x11ac+-0x3043:0x22b3+0x1e59+-0x410b),Dr(['fr','pt'],_0x2df2d6=>_0x2df2d6>=-0x371*-0x1+0x1001+-0x1372&&_0x2df2d6<-0x637+0x23*-0x25+0xb48?-0xe51+-0x5ab*-0x4+-0x1f*0x45:-0xbdd+-0x2*-0x9c3+0x1ea*-0x4),Dr(['da'],_0x467629=>_0x467629===-0x2043+-0x197+-0x1b*-0x141||!Number['isInteger'](_0x467629)&&_0x467629>=0x1*0x816+-0x21bd*0x1+0x19a7&&_0x467629<=-0x70b+-0xaec*0x2+0x1ce4?-0x88f+0x7c8+0xc7:-0x2196+-0x1eaa+0x156b*0x3),Dr(['de','en','it','el','es','tr','fi','sv','nb','no','ur'],_0x396de1=>_0x396de1===0x4fd*0x4+-0x1b12+0x71f*0x1?0x621+0xb6a+-0x5d9*0x3:0x2468+0x87c+-0x2ce3*0x1),Dr(['ru','uk'],_0x4f0596=>{if(Number['isInteger'](_0x4f0596)){const _0x5dd61f=_0x4f0596%(0x13*0x11+-0x6b*-0x2f+-0x14de),_0x32659e=_0x4f0596%(-0x247b*0x1+-0x2509+0x49e8);if(_0x5dd61f===-0x237e+-0x2471+0x4*0x11fc&&_0x32659e!==0x20ce+0x20*-0x61+0x1*-0x14a3)return 0x18df+-0x2032+0x19*0x4b;if(_0x5dd61f>=0x1*0x1d9f+-0x1f7b+0x1de&&_0x5dd61f<=0x1*-0x9da+-0x1*0x20cd+-0x3e1*-0xb&&(_0x32659e<-0x231e+0x11*0x1ed+0x26d||_0x32659e>0x836+-0x88*0x10+0x58))return-0x1904+-0x1*0xb15+-0x1*-0x241a;if(_0x5dd61f===0xc0d+-0x6b*-0x4b+-0x2b66||_0x5dd61f>=0x26a5+-0x1336+0x7*-0x2c6&&_0x5dd61f<=-0x1*0x1aa6+0x50f+-0x10*-0x15a||_0x32659e>=0xd*-0x2d7+0x1*0x5c1+0x1f35&&_0x32659e<=-0x652*-0x2+0x4*-0x6ae+0xe22)return-0x10d9+0x1*0x1c45+-0xb6a;}return-0x5*0x2eb+0xb2*0xd+-0xb2*-0x8;}),Dr(['pl'],_0x1372fe=>{if(Number['isInteger'](_0x1372fe)){if(_0x1372fe===-0x1137+-0x53*0x6f+0x3535)return-0xa*-0x18d+-0x221f+0x129d;const _0x2e80aa=_0x1372fe%(0x1d30+0x533+-0x2259),_0x41fe06=_0x1372fe%(0x15cb+-0x2437+0xed0);if(_0x2e80aa>=-0x64a+-0x3*-0x725+-0xf23*0x1&&_0x2e80aa<=-0x1*0x22+-0xbac+0xbd2*0x1&&(_0x41fe06<-0x115*-0x8+-0x2433+0x1b97||_0x41fe06>0x355+-0xe6b*0x1+0x17*0x7c))return 0x119c+0x1*0x893+-0x1a2e;if(_0x2e80aa>=-0x1e25+0x15d3*-0x1+-0x67f*-0x8&&_0x2e80aa<=0xcea+-0x1*0x1318+0x62f||_0x2e80aa>=0x1379*0x1+-0x86a*0x2+0x1c*-0x18&&_0x2e80aa<=0x233c+0x3de+-0x89*0x49||_0x41fe06>=0x13e4+0xd3*0xf+-0x2035&&_0x41fe06<=0x8fc+0x3*-0x10+-0x3*0x2ea)return-0x1808+0x1*0x1754+0x1a*0x7;}return 0x2613+-0xb*-0x3d+-0x28af;}),Dr(['ar'],_0x2b9340=>{if(_0x2b9340===-0x757*0x5+-0x1*0x2086+0x1713*0x3)return-0xec*-0x7+-0x10c9*0x2+-0x1b1e*-0x1;if(_0x2b9340===-0x178a*0x1+0x2072+-0x8e7)return 0x5e*0x20+0x1*0x41b+-0xfda*0x1;if(_0x2b9340===-0x25b*-0x2+-0x38*0x2f+0x6*0xee)return-0x5cb+0x158b*-0x1+0x1b58;if(Number['isInteger'](_0x2b9340)){const _0x3c0122=_0x2b9340%(-0x13*-0xc5+0x1*-0x1b9b+0xd60);if(_0x3c0122>=0x20*0x110+0xb*-0x265+-0x7a6&&_0x3c0122<=-0x55*-0x2f+-0xe50*0x1+-0x141)return-0x371*-0x1+-0x5*-0x30d+-0x12af;if(_0x3c0122>=-0xb*-0xa5+-0xa*0x221+0x71f*0x2&&_0x3c0122<=0x1006*-0x2+0x2423+-0xed*0x4)return-0x46*-0x6e+0x20a*-0x13+0x16*0x65;}return-0x136c+-0x9ea+0x1d5b;});const RC=Sm[Oi(Ph)];function Tf(_0x42a6cd){return Sm[_0x42a6cd]||RC;}const jn=new RegExp('^\x5cs*(?:(?:'+'[a-z]+[a-z'+'0-9\x5c-+.]*:'+')?//|data:'+'|blob:)','i');class OC{constructor(_0x741f48='',_0x4dfdb6='',_0x39833d=null,_0x3896a6=null,_0x37c0e7=null,_0x496e0e=null){this['url']=_0x741f48,this['filename']=_0x4dfdb6,this['hash']=_0x39833d,this['size']=_0x3896a6,this['opt']=_0x37c0e7,this['contents']=_0x496e0e;}['equals'](_0x3950f5){return this['url']===_0x3950f5['url']&&this['filename']===_0x3950f5['filename']&&this['hash']===_0x3950f5['hash']&&this['size']===_0x3950f5['size']&&this['opt']===_0x3950f5['opt']&&this['contents']===_0x3950f5['contents'];}}let FC=-(-0x2*-0xa81+-0xe25*-0x1+-0x2326);const NC={'pvr':'extCompres'+'sedTexture'+'PVRTC','dxt':'extCompres'+'sedTexture'+'S3TC','etc2':'extCompres'+'sedTexture'+'ETC','etc1':'extCompres'+'sedTexture'+'ETC1','basis':'canvas'},bg=['pvr','dxt','etc2','etc1','basis'];class pe extends me{constructor(_0x4b739f,_0x4d23cf,_0x3f543c,_0x41847c={},_0x30d2ea={}){super(),h(this,'_file',null),h(this,'_i18n',{}),h(this,'_preload',!(0x1aff+0x1ed5*0x1+0x39d3*-0x1)),h(this,'_resources',[]),h(this,'id',FC--),h(this,'loaded',!(-0x984+0x19b9+0x2*-0x81a)),h(this,'loading',!(-0xe5c+-0xd9*-0x27+-0x12b2*0x1)),h(this,'options',{}),h(this,'registry',null),h(this,'tags',new Oo(this)),h(this,'type'),h(this,'urlObject',null),(this['_name']=_0x4b739f||'',this['type']=_0x4d23cf,this['_data']=_0x41847c||{},this['options']=_0x30d2ea||{},_0x3f543c&&(this['file']=_0x3f543c));}set['name'](_0xe3d37c){if(this['_name']===_0xe3d37c)return;const _0x161c84=this['_name'];this['_name']=_0xe3d37c,this['fire']('name',this,this['_name'],_0x161c84);}get['name'](){return this['_name'];}set['file'](_0x208aa9){var _0x38b694,_0xb59982;if(_0x208aa9&&_0x208aa9['variants']&&['texture','textureatl'+'as','bundle']['indexOf'](this['type'])!==-(0x1a9+0x778+-0x920)){const _0x1fed7b=((_0xb59982=(_0x38b694=this['registry'])==null?void(-0x19*0x65+0x108b+-0x357*0x2):_0x38b694['_loader'])==null?void(-0x28d*0x1+0x1317+0x108a*-0x1):_0xb59982['_app'])||Ms(),_0x27a024=_0x1fed7b==null?void(0xd69+-0xcfa+-0x6f):_0x1fed7b['graphicsDe'+'vice'];if(_0x27a024)for(let _0x196342=0x6d2+-0x5*-0x5c6+-0x23b0,_0x39db84=bg['length'];_0x196342<_0x39db84;_0x196342++){const _0x1923a6=bg[_0x196342];if(_0x208aa9['variants'][_0x1923a6]&&_0x27a024[NC[_0x1923a6]]){_0x208aa9=_0x208aa9['variants'][_0x1923a6];break;}if(_0x1fed7b['enableBund'+'les']){const _0x21905d=_0x1fed7b['bundles']['listBundle'+'sForAsset'](this);if(_0x21905d&&_0x21905d['find'](_0x11dd4e=>{var _0x3a17f1;return(_0x3a17f1=_0x11dd4e==null?void(0x12b6+0x2*-0x605+-0x6ac):_0x11dd4e['file'])==null?void(0xb9*0x26+-0x1*-0x505+-0x207b):_0x3a17f1['variants'][_0x1923a6];}))break;}}}const _0x3efb31=this['_file'],_0xc0a965=_0x208aa9?new OC(_0x208aa9['url'],_0x208aa9['filename'],_0x208aa9['hash'],_0x208aa9['size'],_0x208aa9['opt'],_0x208aa9['contents']):null;(!!_0xc0a965!=!!_0x3efb31||_0xc0a965&&!_0xc0a965['equals'](_0x3efb31))&&(this['_file']=_0xc0a965,this['fire']('change',this,'file',_0xc0a965,_0x3efb31),this['reload']());}get['file'](){return this['_file'];}set['data'](_0xfe70d1){const _0x38131e=this['_data'];this['_data']=_0xfe70d1,_0xfe70d1!==_0x38131e&&(this['fire']('change',this,'data',_0xfe70d1,_0x38131e),this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['data'](){return this['_data'];}set['resource'](_0x493299){const _0x5be8b0=this['_resources'][-0x47f*-0x1+0x1f3b+-0x23ba];this['_resources'][0x25e8+-0xaad*-0x2+-0x3b42]=_0x493299,this['fire']('change',this,'resource',_0x493299,_0x5be8b0);}get['resource'](){return this['_resources'][-0x2159+-0x30b+0x1232*0x2];}set['resources'](_0x4385b5){const _0x49196a=this['_resources'];this['_resources']=_0x4385b5,this['fire']('change',this,'resources',_0x4385b5,_0x49196a);}get['resources'](){return this['_resources'];}set['preload'](_0x1b770f){_0x1b770f=!!_0x1b770f,this['_preload']!==_0x1b770f&&(this['_preload']=_0x1b770f,this['_preload']&&!this['loaded']&&!this['loading']&&this['registry']&&this['registry']['load'](this));}get['preload'](){return this['_preload'];}set['loadFaces'](_0x50388b){_0x50388b=!!_0x50388b,(!this['hasOwnProp'+'erty']('_loadFaces')||_0x50388b!==this['_loadFaces'])&&(this['_loadFaces']=_0x50388b,this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['loadFaces'](){return this['_loadFaces'];}['getFileUrl'](){const _0x2d2d49=this['file'];if(!_0x2d2d49||!_0x2d2d49['url'])return null;let _0x8dd87e=_0x2d2d49['url'];if(this['registry']&&this['registry']['prefix']&&!jn['test'](_0x8dd87e)&&(_0x8dd87e=this['registry']['prefix']+_0x8dd87e),this['type']!=='script'&&_0x2d2d49['hash']){const _0x3490ac=_0x8dd87e['indexOf']('?')!==-(0x2bb*-0x7+0xb*-0x38d+0x3a2d)?'&':'?';_0x8dd87e+=_0x3490ac+'t='+_0x2d2d49['hash'];}return _0x8dd87e;}['getAbsolut'+'eUrl'](_0x543c02){if(_0x543c02['startsWith']('blob:')||_0x543c02['startsWith']('data:'))return _0x543c02;const _0x5e611d=xe['getDirecto'+'ry'](this['file']['url']);return xe['join'](_0x5e611d,_0x543c02);}['getLocaliz'+'edAssetId'](_0x2320ad){return _0x2320ad=Fv(_0x2320ad,this['_i18n']),this['_i18n'][_0x2320ad]||null;}['addLocaliz'+'edAssetId'](_0x43d18e,_0x1ce83b){this['_i18n'][_0x43d18e]=_0x1ce83b,this['fire']('add:locali'+'zed',_0x43d18e,_0x1ce83b);}['removeLoca'+'lizedAsset'+'Id'](_0x594fda){const _0x71c14c=this['_i18n'][_0x594fda];_0x71c14c&&(delete this['_i18n'][_0x594fda],this['fire']('remove:loc'+'alized',_0x594fda,_0x71c14c));}['ready'](_0x3a7b5c,_0xc31184){_0xc31184=_0xc31184||this,this['loaded']?_0x3a7b5c['call'](_0xc31184,this):this['once']('load',_0x41acc3=>{_0x3a7b5c['call'](_0xc31184,_0x41acc3);});}['reload'](){this['loaded']&&(this['loaded']=!(0x43*0x4+-0x4*0x7db+0x1e61),this['registry']['load'](this));}['unload'](){if(!this['loaded']&&this['_resources']['length']===0xf*-0xb9+-0x1*-0xd69+0x149*-0x2)return;this['fire']('unload',this),this['registry']['fire']('unload:'+this['id'],this);const _0x247acb=this['_resources'];this['urlObject']&&(URL['revokeObje'+'ctURL'](this['urlObject']),this['urlObject']=null),this['resources']=[],this['loaded']=!(0x5*-0x617+-0x415+0x3*0xb83),this['file']&&this['registry']['_loader']['clearCache'](this['getFileUrl'](),this['type']);for(let _0x224828=-0x1*0x1e75+0x27*0x52+-0x11f7*-0x1;_0x224828<_0x247acb['length'];++_0x224828){const _0x2d6656=_0x247acb[_0x224828];_0x2d6656&&_0x2d6656['destroy']&&_0x2d6656['destroy']();}}static['fetchArray'+'Buffer'](_0x427964,_0x20cc20,_0x544e7a,_0x5d9411=0xdad*-0x2+0xca*-0x29+0x3bb4){var _0xda9fb6;(_0xda9fb6=_0x544e7a==null?void(-0x130d+0x977+-0x6*-0x199):_0x544e7a['file'])!=null&&_0xda9fb6['contents']?setTimeout(()=>{_0x20cc20(null,_0x544e7a['file']['contents']);}):ot['get'](_0x427964,{'cache':!(-0x1f52+0x1e44+-0x2d*-0x6),'responseType':'arraybuffe'+'r','retry':_0x5d9411>-0x1051+-0x264b+0x369c,'maxRetries':_0x5d9411},_0x20cc20);}}h(pe,'EVENT_LOAD','load'),h(pe,'EVENT_UNLO'+'AD','unload'),h(pe,'EVENT_REMO'+'VE','remove'),h(pe,'EVENT_ERRO'+'R','error'),h(pe,'EVENT_CHAN'+'GE','change'),h(pe,'EVENT_PROG'+'RESS','progress'),h(pe,'EVENT_ADDL'+'OCALIZED','add:locali'+'zed'),h(pe,'EVENT_REMO'+'VELOCALIZE'+'D','remove:loc'+'alized');class kC{constructor(_0xa6f78c=null){h(this,'_index',{}),h(this,'_key'),this['_key']=_0xa6f78c;}['addItem'](_0x3bfb74){const _0x150657=_0x3bfb74['tags']['_list'];for(const _0x5b3ff4 of _0x150657)this['add'](_0x5b3ff4,_0x3bfb74);}['removeItem'](_0x2c8684){const _0x535924=_0x2c8684['tags']['_list'];for(const _0xf9f7a2 of _0x535924)this['remove'](_0xf9f7a2,_0x2c8684);}['add'](_0x164cce,_0x1159ac){this['_index'][_0x164cce]&&this['_index'][_0x164cce]['list']['indexOf'](_0x1159ac)!==-(0x2d*-0x6b+0xbe3+-0xc5*-0x9)||(this['_index'][_0x164cce]||(this['_index'][_0x164cce]={'list':[]},this['_key']&&(this['_index'][_0x164cce]['keys']={})),this['_index'][_0x164cce]['list']['push'](_0x1159ac),this['_key']&&(this['_index'][_0x164cce]['keys'][_0x1159ac[this['_key']]]=_0x1159ac));}['remove'](_0x9cddba,_0xadee53){if(!this['_index'][_0x9cddba]||this['_key']&&!this['_index'][_0x9cddba]['keys'][_0xadee53[this['_key']]])return;const _0x5c3dc7=this['_index'][_0x9cddba]['list']['indexOf'](_0xadee53);_0x5c3dc7!==-(0x930+-0x3*0xae9+0x224*0xb)&&(this['_index'][_0x9cddba]['list']['splice'](_0x5c3dc7,0x515*-0x1+0x5df+-0x3*0x43),this['_key']&&delete this['_index'][_0x9cddba]['keys'][_0xadee53[this['_key']]],this['_index'][_0x9cddba]['list']['length']===-0xc12+0x1ecd+0x7*-0x2ad&&delete this['_index'][_0x9cddba]);}['find'](_0x4fcd8e){const _0x3bcb24={},_0x128533=[];let _0x277b60,_0x56772a,_0x529cb4,_0x3dfa3b,_0x21cbba;const _0x138896=(_0x1ddb2a,_0x27c493)=>this['_index'][_0x1ddb2a]['list']['length']-this['_index'][_0x27c493]['list']['length'];for(let _0x4e403a=0x26fd+-0x1875+-0xe88;_0x4e403a<_0x4fcd8e['length'];_0x4e403a++){if(_0x56772a=_0x4fcd8e[_0x4e403a],_0x56772a instanceof Array){if(_0x56772a['length']===0x22e1*-0x1+0x7*0x2e9+-0x4d6*-0x3)continue;if(_0x56772a['length']===-0x4cf+0x1*0x33e+0x43*0x6)_0x56772a=_0x56772a[0xc3+0x17fc+-0x389*0x7];else{_0x21cbba=!(-0x17af+-0x92*-0x3a+0x4b2*-0x2);for(let _0xb13c31=0xad7*-0x2+0x1*0x1da9+-0x1*0x7fb;_0xb13c31<_0x56772a['length'];_0xb13c31++)if(!this['_index'][_0x56772a[_0xb13c31]]){_0x21cbba=!(-0x32*0xab+0xf89+0x11dd);break;}if(_0x21cbba)continue;_0x529cb4=_0x56772a['slice'](0x3c+-0x12*-0xc5+-0xe16)['sort'](_0x138896),_0x3dfa3b=_0x529cb4['slice'](0x16c3+-0x270e+0x104c),_0x3dfa3b['length']===-0x26e0+-0x1*0x24e2+-0x1*-0x4bc3&&(_0x3dfa3b=_0x3dfa3b[-0x35f*0x8+0x1eec+-0x2c*0x17]);for(let _0x2ba377=0xd72+-0x2482+0x1710*0x1;_0x2ba377<this['_index'][_0x529cb4[-0x1935+0x22ad+-0x65*0x18]]['list']['length'];_0x2ba377++)_0x277b60=this['_index'][_0x529cb4[0x1de7*0x1+-0x1*0x211d+0x2*0x19b]]['list'][_0x2ba377],(this['_key']?!_0x3bcb24[_0x277b60[this['_key']]]:_0x128533['indexOf'](_0x277b60)===-(-0x17*-0x8d+0x62*0x43+-0x2650))&&_0x277b60['tags']['has'](_0x3dfa3b)&&(this['_key']&&(_0x3bcb24[_0x277b60[this['_key']]]=!(0x1*-0x2089+-0x3*0x5c9+-0x18f2*-0x2)),_0x128533['push'](_0x277b60));continue;}}if(_0x56772a&&typeof _0x56772a=='string'&&this['_index'][_0x56772a]){for(let _0x13e0dc=-0x1*0x7ed+0x53f+0x31*0xe;_0x13e0dc<this['_index'][_0x56772a]['list']['length'];_0x13e0dc++)_0x277b60=this['_index'][_0x56772a]['list'][_0x13e0dc],this['_key']?_0x3bcb24[_0x277b60[this['_key']]]||(_0x3bcb24[_0x277b60[this['_key']]]=!(0x2212+-0xf*-0xb5+-0x2cad),_0x128533['push'](_0x277b60)):_0x128533['indexOf'](_0x277b60)===-(0x4*0x8cb+-0x3*-0xc13+-0x4*0x11d9)&&_0x128533['push'](_0x277b60);}}return _0x128533;}}class mn extends me{constructor(_0x390b3d){super(),h(this,'_assets',new Set()),h(this,'_loader'),h(this,'_idToAsset',new Map()),h(this,'_urlToAsse'+'t',new Map()),h(this,'_nameToAss'+'et',new Map()),h(this,'_tags',new kC('id')),h(this,'prefix',null),h(this,'bundles',null),this['_loader']=_0x390b3d;}['list'](_0x48eef7={}){const _0x273356=Array['from'](this['_assets']);return _0x48eef7['preload']!==void(0x1e19+-0x12c+-0x1ced)?_0x273356['filter'](_0x30d010=>_0x30d010['preload']===_0x48eef7['preload']):_0x273356;}['add'](_0x36c803){var _0x5a4dd0,_0x10e4aa;this['_assets']['has'](_0x36c803)||(this['_assets']['add'](_0x36c803),this['_idToAsset']['set'](_0x36c803['id'],_0x36c803),(_0x5a4dd0=_0x36c803['file'])!=null&&_0x5a4dd0['url']&&this['_urlToAsse'+'t']['set'](_0x36c803['file']['url'],_0x36c803),this['_nameToAss'+'et']['has'](_0x36c803['name'])||this['_nameToAss'+'et']['set'](_0x36c803['name'],new Set()),this['_nameToAss'+'et']['get'](_0x36c803['name'])['add'](_0x36c803),_0x36c803['on']('name',this['_onNameCha'+'nge'],this),_0x36c803['registry']=this,this['_tags']['addItem'](_0x36c803),_0x36c803['tags']['on']('add',this['_onTagAdd'],this),_0x36c803['tags']['on']('remove',this['_onTagRemo'+'ve'],this),this['fire']('add',_0x36c803),this['fire']('add:'+_0x36c803['id'],_0x36c803),(_0x10e4aa=_0x36c803['file'])!=null&&_0x10e4aa['url']&&this['fire']('add:url:'+_0x36c803['file']['url'],_0x36c803),_0x36c803['preload']&&this['load'](_0x36c803));}['remove'](_0x4d9e34){var _0x40cd04,_0x5de315;if(!this['_assets']['has'](_0x4d9e34))return!(0xef6+-0x574+-0x981);if(this['_assets']['delete'](_0x4d9e34),this['_idToAsset']['delete'](_0x4d9e34['id']),(_0x40cd04=_0x4d9e34['file'])!=null&&_0x40cd04['url']&&this['_urlToAsse'+'t']['delete'](_0x4d9e34['file']['url']),_0x4d9e34['off']('name',this['_onNameCha'+'nge'],this),this['_nameToAss'+'et']['has'](_0x4d9e34['name'])){const _0x393909=this['_nameToAss'+'et']['get'](_0x4d9e34['name']);_0x393909['delete'](_0x4d9e34),_0x393909['size']===0x40f*0x7+0x17b7+-0x8*0x684&&this['_nameToAss'+'et']['delete'](_0x4d9e34['name']);}return this['_tags']['removeItem'](_0x4d9e34),_0x4d9e34['tags']['off']('add',this['_onTagAdd'],this),_0x4d9e34['tags']['off']('remove',this['_onTagRemo'+'ve'],this),_0x4d9e34['fire']('remove',_0x4d9e34),this['fire']('remove',_0x4d9e34),this['fire']('remove:'+_0x4d9e34['id'],_0x4d9e34),(_0x5de315=_0x4d9e34['file'])!=null&&_0x5de315['url']&&this['fire']('remove:url'+':'+_0x4d9e34['file']['url'],_0x4d9e34),!(0x136d+0x5c8+-0x1935);}['get'](_0x5a2d6c){return this['_idToAsset']['get'](Number(_0x5a2d6c));}['getByUrl'](_0x290eba){return this['_urlToAsse'+'t']['get'](_0x290eba);}['load'](_0x5c4598,_0x10bc06){if((_0x5c4598['loading']||_0x5c4598['loaded'])&&!(_0x10bc06!=null&&_0x10bc06['force']))return;const _0x2b5e8a=_0x5c4598['file'],_0x1f59dd=()=>{this['fire']('load',_0x5c4598),this['fire']('load:'+_0x5c4598['id'],_0x5c4598),_0x2b5e8a&&_0x2b5e8a['url']&&this['fire']('load:url:'+_0x2b5e8a['url'],_0x5c4598),_0x5c4598['fire']('load',_0x5c4598);},_0xbda846=_0x38afc5=>{if(_0x38afc5 instanceof Array?_0x5c4598['resources']=_0x38afc5:_0x5c4598['resource']=_0x38afc5,this['_loader']['patch'](_0x5c4598,this),_0x5c4598['type']==='bundle'){const _0x1b1490=_0x5c4598['data']['assets'];for(let _0x5cd52a=0x1*0x2006+0x1db8+-0x1*0x3dbe;_0x5cd52a<_0x1b1490['length'];_0x5cd52a++){const _0x50724d=this['_idToAsset']['get'](_0x1b1490[_0x5cd52a]);_0x50724d&&!_0x50724d['loaded']&&this['load'](_0x50724d,{'force':!(-0x1a34+-0x2*-0x526+0x4*0x3fa)});}_0x5c4598['resource']['loaded']?_0x1f59dd():(this['fire']('load:start',_0x5c4598),this['fire']('load:start'+':'+_0x5c4598['id'],_0x5c4598),_0x2b5e8a&&_0x2b5e8a['url']&&this['fire']('load:start'+':url:'+_0x2b5e8a['url'],_0x5c4598),_0x5c4598['fire']('load:start',_0x5c4598),_0x5c4598['resource']['on']('load',_0x1f59dd));}else _0x1f59dd();},_0x6b7337=(_0x48a6d1,_0x25fcad,_0x3e72c8)=>{if(_0x5c4598['loaded']=!(0x121*0x18+-0x827*-0x3+-0x338d),_0x5c4598['loading']=!(0x16ec+0x23ce+-0x3ab9),_0x48a6d1)this['fire']('error',_0x48a6d1,_0x5c4598),this['fire']('error:'+_0x5c4598['id'],_0x48a6d1,_0x5c4598),_0x5c4598['fire']('error',_0x48a6d1,_0x5c4598);else{if(_0x5c4598['type']==='script'){const _0x19e41f=this['_loader']['getHandler']('script');_0x19e41f['_cache'][_0x5c4598['id']]&&_0x19e41f['_cache'][_0x5c4598['id']]['parentNode']===document['head']&&document['head']['removeChil'+'d'](_0x19e41f['_cache'][_0x5c4598['id']]),_0x19e41f['_cache'][_0x5c4598['id']]=_0x3e72c8;}_0xbda846(_0x25fcad);}};if(_0x2b5e8a||_0x5c4598['type']==='cubemap'){this['fire']('load:start',_0x5c4598),this['fire']('load:'+_0x5c4598['id']+':start',_0x5c4598),_0x5c4598['loading']=!(0x2*0x94a+-0x98c*-0x1+-0x1c20);const _0x889692=_0x5c4598['getFileUrl']();if(_0x5c4598['type']==='bundle'){const _0x494763=_0x5c4598['data']['assets'];for(let _0x3b4867=0x58a+-0x1*-0x233+-0x7bd;_0x3b4867<_0x494763['length'];_0x3b4867++){const _0x1d2ea4=this['_idToAsset']['get'](_0x494763[_0x3b4867]);_0x1d2ea4&&(_0x1d2ea4['loaded']||_0x1d2ea4['resource']||_0x1d2ea4['loading']||(_0x1d2ea4['loading']=!(-0x639+-0x155d*-0x1+-0xf24)));}}this['_loader']['load'](_0x889692,_0x5c4598['type'],_0x6b7337,_0x5c4598,_0x10bc06);}else{const _0x3349b1=this['_loader']['open'](_0x5c4598['type'],_0x5c4598['data']);_0x5c4598['loaded']=!(-0x12cc+0x4*-0xeb+0x1678*0x1),_0xbda846(_0x3349b1);}}['reloadInde'+'x'](_0x2a8eec,_0x4f6964,_0x579c8b){const _0x9b732d=(_0xd6e912,_0x5941bd,_0x4d7d6f)=>{_0x4f6964['loaded']=!(-0x1*0x1c84+0x95*-0x34+0x3ac8),_0x4f6964['loading']=!(-0x10f*0xb+-0x9e6+0x158c);};return this['_loader']['load'](_0x2a8eec,_0x4f6964['type'],_0x9b732d,_0x4f6964,_0x579c8b),_0x4f6964;}['loadFromUr'+'l'](_0x4bdbc4,_0x4effaf,_0x25f9c8){this['loadFromUr'+'lAndFilena'+'me'](_0x4bdbc4,null,_0x4effaf,_0x25f9c8);}['loadFromUr'+'lAndFilena'+'me'](_0x19d9bd,_0x98e6ff,_0x550af8,_0x467428){const _0x5dc87e=xe['getBasenam'+'e'](_0x98e6ff||_0x19d9bd),_0x90740f={'filename':_0x98e6ff||_0x5dc87e,'url':_0x19d9bd};let _0x2181a2=this['getByUrl'](_0x19d9bd);if(!_0x2181a2)_0x2181a2=new pe(_0x5dc87e,_0x550af8,_0x90740f),this['add'](_0x2181a2);else{if(_0x2181a2['loaded']){_0x467428(_0x2181a2['loadFromUr'+'lError']||null,_0x2181a2);return;}}const _0x1d4e46=_0xdbe80c=>{_0xdbe80c['once']('load',_0x36dff0=>{_0x550af8==='material'?this['_loadTextu'+'res'](_0x36dff0,(_0x352838,_0x5e6835)=>{_0x467428(_0x352838,_0x36dff0);}):_0x467428(null,_0x36dff0);}),_0xdbe80c['once']('error',_0x11d417=>{_0x11d417&&(this['loadFromUr'+'lError']=_0x11d417),_0x467428(_0x11d417,_0xdbe80c);}),this['load'](_0xdbe80c);};_0x2181a2['resource']?_0x467428(null,_0x2181a2):_0x550af8==='model'?this['_loadModel'](_0x2181a2,_0x1d4e46):_0x1d4e46(_0x2181a2);}['_loadModel'](_0x399483,_0x769bd4){const _0x394ae8=_0x399483['getFileUrl'](),_0x1d3dd9=xe['getExtensi'+'on'](_0x394ae8);if(_0x1d3dd9==='.json'||_0x1d3dd9==='.glb'){const _0x1a58c0=xe['getDirecto'+'ry'](_0x394ae8),_0x140865=xe['getBasenam'+'e'](_0x394ae8),_0x114142=xe['join'](_0x1a58c0,_0x140865['replace'](_0x1d3dd9,'.mapping.j'+'son'));this['_loader']['load'](_0x114142,'json',(_0xac78a6,_0x4a4dda)=>{_0xac78a6?(_0x399483['data']={'mapping':[]},_0x769bd4(_0x399483)):this['_loadMater'+'ials'](_0x399483,_0x4a4dda,(_0x464ae7,_0x20292)=>{_0x399483['data']=_0x4a4dda,_0x769bd4(_0x399483);});});}else _0x769bd4(_0x399483);}['_loadMater'+'ials'](_0x25bf17,_0x1c52d2,_0x49b0d1){const _0xb4352a=[];let _0x468cce=-0x83f*-0x1+-0x74f+-0xf0*0x1;const _0x316d57=(_0x2982d3,_0x5a35e5)=>{this['_loadTextu'+'res'](_0x5a35e5,(_0x2de303,_0x68c6ac)=>{_0xb4352a['push'](_0x5a35e5),_0xb4352a['length']===_0x468cce&&_0x49b0d1(null,_0xb4352a);});};for(let _0x4122ab=0x1*-0x191b+0x1bb*0xa+0x7cd;_0x4122ab<_0x1c52d2['mapping']['length'];_0x4122ab++){const _0x2cfe22=_0x1c52d2['mapping'][_0x4122ab]['path'];if(_0x2cfe22){_0x468cce++;const _0x510516=_0x25bf17['getAbsolut'+'eUrl'](_0x2cfe22);this['loadFromUr'+'l'](_0x510516,'material',_0x316d57);}}_0x468cce===-0x2481+0x641+0x1e40&&_0x49b0d1(null,_0xb4352a);}['_loadTextu'+'res'](_0x5e71fa,_0x912823){const _0x369be2=[];let _0x35518d=-0x79*-0x39+0xd10+-0x2801;const _0x4df32d=_0x5e71fa['data'];if(_0x4df32d['mappingFor'+'mat']!=='path'){w['warn']('Skipping:\x20'+_0x5e71fa['name']+(',\x20material'+'\x20files\x20mus'+'t\x20be\x20mappi'+'ngFormat:\x20'+'\x22path\x22\x20to\x20'+'be\x20loaded\x20'+'from\x20URL')),_0x912823(null,_0x369be2);return;}const _0x57e5ed=(_0x2b6418,_0x1fdc16)=>{_0x2b6418&&console['error'](_0x2b6418),_0x369be2['push'](_0x1fdc16),_0x369be2['length']===_0x35518d&&_0x912823(null,_0x369be2);},_0x488ef1=Cd;for(let _0x3ffd59=0xbb+0x19*0x9b+0x1*-0xfde;_0x3ffd59<_0x488ef1['length'];_0x3ffd59++){const _0x25caed=_0x4df32d[_0x488ef1[_0x3ffd59]];if(_0x25caed&&typeof _0x25caed=='string'){_0x35518d++;const _0x5a56b9=_0x5e71fa['getAbsolut'+'eUrl'](_0x25caed);this['loadFromUr'+'l'](_0x5a56b9,'texture',_0x57e5ed);}}_0x35518d===-0x436+0x28a*0xe+-0x47a*0x7&&_0x912823(null,_0x369be2);}['_onTagAdd'](_0xd3533,_0x53f0ec){this['_tags']['add'](_0xd3533,_0x53f0ec);}['_onTagRemo'+'ve'](_0x193394,_0xc1de07){this['_tags']['remove'](_0x193394,_0xc1de07);}['_onNameCha'+'nge'](_0xd2efec,_0x30ea9a,_0x1895ef){if(this['_nameToAss'+'et']['has'](_0x1895ef)){const _0x388e94=this['_nameToAss'+'et']['get'](_0x1895ef);_0x388e94['delete'](_0xd2efec),_0x388e94['size']===-0xb*0x5a+-0xc*-0x8b+-0xe2*0x3&&this['_nameToAss'+'et']['delete'](_0x1895ef);}this['_nameToAss'+'et']['has'](_0xd2efec['name'])||this['_nameToAss'+'et']['set'](_0xd2efec['name'],new Set()),this['_nameToAss'+'et']['get'](_0xd2efec['name'])['add'](_0xd2efec);}['findByTag'](..._0x3ff435){return this['_tags']['find'](_0x3ff435);}['filter'](_0x41c965){return Array['from'](this['_assets'])['filter'](_0x22a41e=>_0x41c965(_0x22a41e));}['find'](_0x1db203,_0x3c8e75){const _0x40a631=this['_nameToAss'+'et']['get'](_0x1db203);if(!_0x40a631)return null;for(const _0x26cf6e of _0x40a631)if(!_0x3c8e75||_0x26cf6e['type']===_0x3c8e75)return _0x26cf6e;return null;}['findAll'](_0x3f52fb,_0x43fa25){const _0x2bfd18=this['_nameToAss'+'et']['get'](_0x3f52fb);if(!_0x2bfd18)return[];const _0x1f2db8=Array['from'](_0x2bfd18);return _0x43fa25?_0x1f2db8['filter'](_0x260b18=>_0x260b18['type']===_0x43fa25):_0x1f2db8;}}h(mn,'EVENT_LOAD','load'),h(mn,'EVENT_ADD','add'),h(mn,'EVENT_REMO'+'VE','remove'),h(mn,'EVENT_ERRO'+'R','error');class UC{constructor(_0x18c0f6){h(this,'_idToBundl'+'e',new Map()),h(this,'_assetToBu'+'ndles',new Map()),h(this,'_urlsToBun'+'dles',new Map()),h(this,'_fileReque'+'sts',new Map()),(this['_assets']=_0x18c0f6,this['_assets']['bundles']=this,this['_assets']['on']('add',this['_onAssetAd'+'d'],this),this['_assets']['on']('remove',this['_onAssetRe'+'move'],this));}['_onAssetAd'+'d'](_0x582b45){if(_0x582b45['type']==='bundle'){this['_idToBundl'+'e']['set'](_0x582b45['id'],_0x582b45),this['_assets']['on']('load:start'+':'+_0x582b45['id'],this['_onBundleL'+'oadStart'],this),this['_assets']['on']('load:'+_0x582b45['id'],this['_onBundleL'+'oad'],this),this['_assets']['on']('error:'+_0x582b45['id'],this['_onBundleE'+'rror'],this);const _0x3698c0=_0x582b45['data']['assets'];for(let _0x39464e=0xc5+-0x13*0x157+0x1*0x18b0;_0x39464e<_0x3698c0['length'];_0x39464e++)this['_indexAsse'+'tInBundle'](_0x3698c0[_0x39464e],_0x582b45);}else this['_assetToBu'+'ndles']['has'](_0x582b45['id'])&&this['_indexAsse'+'tFileUrls'](_0x582b45);}['_unbindAss'+'etEvents'](_0x25adb8){this['_assets']['off']('load:start'+':'+_0x25adb8,this['_onBundleL'+'oadStart'],this),this['_assets']['off']('load:'+_0x25adb8,this['_onBundleL'+'oad'],this),this['_assets']['off']('error:'+_0x25adb8,this['_onBundleE'+'rror'],this);}['_indexAsse'+'tInBundle'](_0x81a115,_0x40e97d){let _0x39bf87=this['_assetToBu'+'ndles']['get'](_0x81a115);_0x39bf87||(_0x39bf87=new Set(),this['_assetToBu'+'ndles']['set'](_0x81a115,_0x39bf87)),_0x39bf87['add'](_0x40e97d);const _0x1def80=this['_assets']['get'](_0x81a115);_0x1def80&&this['_indexAsse'+'tFileUrls'](_0x1def80);}['_indexAsse'+'tFileUrls'](_0x3e90a8){const _0x47e842=this['_getAssetF'+'ileUrls'](_0x3e90a8);if(_0x47e842)for(let _0x4fee79=-0x1*-0x1577+-0x1404+-0x173;_0x4fee79<_0x47e842['length'];_0x4fee79++){const _0x147520=this['_assetToBu'+'ndles']['get'](_0x3e90a8['id']);_0x147520&&this['_urlsToBun'+'dles']['set'](_0x47e842[_0x4fee79],_0x147520);}}['_getAssetF'+'ileUrls'](_0x3b6297){let _0x2aa4cf=_0x3b6297['getFileUrl']();if(!_0x2aa4cf)return null;_0x2aa4cf=_0x2aa4cf['split']('?')[0x128c+0x5c6+-0x1852];const _0x3483d9=[_0x2aa4cf];if(_0x3b6297['type']==='font'){const _0x454dcd=_0x3b6297['data']['info']['maps']['length'];for(let _0x54c07f=0x1*-0xf29+-0x2*0x9ef+0x2308;_0x54c07f<_0x454dcd;_0x54c07f++)_0x3483d9['push'](_0x2aa4cf['replace']('.png',_0x54c07f+'.png'));}return _0x3483d9;}['_onAssetRe'+'move'](_0x15584d){if(_0x15584d['type']==='bundle'){this['_idToBundl'+'e']['delete'](_0x15584d['id']),this['_unbindAss'+'etEvents'](_0x15584d['id']);const _0x142da7=_0x15584d['data']['assets'];for(let _0x3b7c55=0x323*0x3+-0x2077*-0x1+0x860*-0x5;_0x3b7c55<_0x142da7['length'];_0x3b7c55++){const _0x264718=this['_assetToBu'+'ndles']['get'](_0x142da7[_0x3b7c55]);if(_0x264718&&(_0x264718['delete'](_0x15584d),_0x264718['size']===0x1dab*0x1+-0x147b+-0x1*0x930)){this['_assetToBu'+'ndles']['delete'](_0x142da7[_0x3b7c55]);for(const [_0x2cc0bf,_0x1e9832]of this['_urlsToBun'+'dles'])_0x1e9832===_0x264718&&this['_urlsToBun'+'dles']['delete'](_0x2cc0bf);}}this['_onBundleE'+'rror']('Bundle\x20'+_0x15584d['id']+('\x20was\x20remov'+'ed'));}else{if(!this['_assetToBu'+'ndles']['get'](_0x15584d['id']))return;this['_assetToBu'+'ndles']['delete'](_0x15584d['id']);const _0x253f2=this['_getAssetF'+'ileUrls'](_0x15584d);if(!_0x253f2)return;for(let _0x5ee4bb=0x2d9*0x5+0x101*-0xb+-0x332;_0x5ee4bb<_0x253f2['length'];_0x5ee4bb++)this['_urlsToBun'+'dles']['delete'](_0x253f2[_0x5ee4bb]);}}['_onBundleL'+'oadStart'](_0x5c3cec){_0x5c3cec['resource']['on']('add',(_0x5cafbd,_0x61da2d)=>{const _0x49d19b=this['_fileReque'+'sts']['get'](_0x5cafbd);if(_0x49d19b){for(let _0x4e833f=-0x15bd+0x218e*-0x1+-0x1*-0x374b;_0x4e833f<_0x49d19b['length'];_0x4e833f++)_0x49d19b[_0x4e833f](null,_0x61da2d);this['_fileReque'+'sts']['delete'](_0x5cafbd);}});}['_onBundleL'+'oad'](_0x52eb55){if(!_0x52eb55['resource']){this['_onBundleE'+'rror']('Bundle\x20'+_0x52eb55['id']+('\x20failed\x20to'+'\x20load'));return;}if(this['_fileReque'+'sts'])for(const [_0x3d6cb6,_0xd8459b]of this['_fileReque'+'sts']){const _0x44d6a4=this['_urlsToBun'+'dles']['get'](_0x3d6cb6);if(!_0x44d6a4||!_0x44d6a4['has'](_0x52eb55))continue;const _0x4002d7=decodeURIComponent(_0x3d6cb6);let _0x1ef89f,_0x675ae8;if(_0x52eb55['resource']['has'](_0x4002d7))_0x675ae8=_0x52eb55['resource']['get'](_0x4002d7);else{if(_0x52eb55['resource']['loaded'])_0x1ef89f='Bundle\x20'+_0x52eb55['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x3d6cb6;else continue;}for(let _0x17f98b=-0xd14+-0x10cc+0x10*0x1de;_0x17f98b<_0xd8459b['length'];_0x17f98b++)_0xd8459b[_0x17f98b](_0x1ef89f,_0x1ef89f||_0x675ae8);this['_fileReque'+'sts']['delete'](_0x3d6cb6);}}['_onBundleE'+'rror'](_0x2700a0){for(const [_0x4f3f2e,_0x4455d5]of this['_fileReque'+'sts'])if(!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x4f3f2e)){for(let _0xde1e35=0x16b5+0xe56+0x57*-0x6d;_0xde1e35<_0x4455d5['length'];_0xde1e35++)_0x4455d5[_0xde1e35](_0x2700a0);this['_fileReque'+'sts']['delete'](_0x4f3f2e);}}['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x3fa48e){const _0x3d25aa=this['_urlsToBun'+'dles']['get'](_0x3fa48e);if(!_0x3d25aa)return null;let _0x58f8ae=null;for(const _0x173935 of _0x3d25aa){if(_0x173935['loaded']&&_0x173935['resource'])return _0x173935;_0x173935['loading']&&(_0x58f8ae=_0x173935);}return _0x58f8ae;}['listBundle'+'sForAsset'](_0x38cba5){const _0x4ad679=this['_assetToBu'+'ndles']['get'](_0x38cba5['id']);return _0x4ad679?Array['from'](_0x4ad679):null;}['list'](){return Array['from'](this['_idToBundl'+'e']['values']());}['hasUrl'](_0x31da75){return this['_urlsToBun'+'dles']['has'](_0x31da75);}['urlIsLoade'+'dOrLoading'](_0x55624b){return!!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x55624b);}['loadUrl'](_0x2633c7,_0x3d84f1){const _0x181e9f=this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x2633c7);if(!_0x181e9f){_0x3d84f1('URL\x20'+_0x2633c7+('\x20not\x20found'+'\x20in\x20any\x20bu'+'ndles'));return;}if(_0x181e9f['loaded']){const _0x27c224=decodeURIComponent(_0x2633c7);if(_0x181e9f['resource']['has'](_0x27c224)){_0x3d84f1(null,_0x181e9f['resource']['get'](_0x27c224));return;}else{if(_0x181e9f['resource']['loaded']){_0x3d84f1('Bundle\x20'+_0x181e9f['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x2633c7);return;}}}let _0x30b582=this['_fileReque'+'sts']['get'](_0x2633c7);_0x30b582||(_0x30b582=[],this['_fileReque'+'sts']['set'](_0x2633c7,_0x30b582)),_0x30b582['push'](_0x3d84f1);}['destroy'](){this['_assets']['off']('add',this['_onAssetAd'+'d'],this),this['_assets']['off']('remove',this['_onAssetRe'+'move'],this);for(const _0x353abd of this['_idToBundl'+'e']['keys']())this['_unbindAss'+'etEvents'](_0x353abd);this['_assets']=null,this['_idToBundl'+'e']['clear'](),this['_idToBundl'+'e']=null,this['_assetToBu'+'ndles']['clear'](),this['_assetToBu'+'ndles']=null,this['_urlsToBun'+'dles']['clear'](),this['_urlsToBun'+'dles']=null,this['_fileReque'+'sts']['clear'](),this['_fileReque'+'sts']=null;}}class BC extends me{constructor(){super(),h(this,'anim'),h(this,'animation'),h(this,'audioliste'+'ner'),h(this,'button'),h(this,'camera'),h(this,'collision'),h(this,'element'),h(this,'joint'),h(this,'layoutchil'+'d'),h(this,'layoutgrou'+'p'),h(this,'light'),h(this,'model'),h(this,'particlesy'+'stem'),h(this,'render'),h(this,'rigidbody'),h(this,'screen'),h(this,'script'),h(this,'scrollbar'),h(this,'scrollview'),h(this,'sound'),h(this,'sprite'),h(this,'zone'),this['list']=[];}['add'](_0x36b448){const _0x3c92dc=_0x36b448['id'];if(this[_0x3c92dc])throw new Error('ComponentS'+'ystem\x20name'+'\x20\x27'+_0x3c92dc+('\x27\x20already\x20'+'registered'+'\x20or\x20not\x20al'+'lowed'));this[_0x3c92dc]=_0x36b448,this['list']['push'](_0x36b448);}['remove'](_0x50f340){const _0x1b62f0=_0x50f340['id'];if(!this[_0x1b62f0])throw new Error('No\x20Compone'+'ntSystem\x20n'+'amed\x20\x27'+_0x1b62f0+('\x27\x20register'+'ed'));delete this[_0x1b62f0];const _0x4c80d4=this['list']['indexOf'](this[_0x1b62f0]);_0x4c80d4!==-(0x4*0x8a5+0x8*-0x8b+-0x1e3b)&&this['list']['splice'](_0x4c80d4,-0xd8f+0x11c4+0x10d*-0x4);}['destroy'](){this['off']();for(let _0x57f540=-0x7d0+-0x389+-0x23*-0x53;_0x57f540<this['list']['length'];_0x57f540++)this['list'][_0x57f540]['destroy']();}}class gu extends me{constructor(){super(...arguments),h(this,'_index',new Map()),h(this,'_loaded',!(0x1b47+-0xa2d+-0x1119));}['addFile'](_0x420661,_0x331561){this['_index']['has'](_0x420661)||(this['_index']['set'](_0x420661,_0x331561),this['fire']('add',_0x420661,_0x331561));}['has'](_0x29ab6f){return this['_index']['has'](_0x29ab6f);}['get'](_0x7b340c){return this['_index']['get'](_0x7b340c)||null;}['destroy'](){this['_index']['clear']();}set['loaded'](_0x11aeea){!_0x11aeea||this['_loaded']||(this['_loaded']=!(0x7*0xa8+-0x1f74+0x1adc),this['fire']('load'));}get['loaded'](){return this['_loaded'];}}h(gu,'EVENT_ADD','add'),h(gu,'EVENT_LOAD','load');class zC extends me{constructor(_0x5c747c,_0x2f6027=''){super(),h(this,'headerSize',-0x574+0xdc3+0x55*-0x13),h(this,'paddingSiz'+'e',-0x1586+0x1b97+-0x3*0x15b),h(this,'bytesRead',-0x761+-0x24ca+0x2c2b),h(this,'bytesRecei'+'ved',0x1*0x105b+-0xeca+-0x191),h(this,'headerRead',!(0x1c18+-0x1*0x26c7+0xab0)),h(this,'reader',null),h(this,'data',new Uint8Array(0x2*-0x24f+0xae+0x3f0)),h(this,'decoder',null),h(this,'prefix',''),h(this,'fileName',''),h(this,'fileSize',0x7c3*0x1+-0x6*-0x4bd+0x73d*-0x5),h(this,'fileType',''),h(this,'ustarForma'+'t',''),(this['prefix']=_0x2f6027||'',this['reader']=_0x5c747c['body']['getReader'](),this['reader']['read']()['then'](_0x4f0dbb=>{this['pump'](_0x4f0dbb['done'],_0x4f0dbb['value']);})['catch'](_0x5f3148=>{this['fire']('error',_0x5f3148);}));}['pump'](_0x4c376a,_0x17b806){if(_0x4c376a)return this['fire']('done'),null;this['bytesRecei'+'ved']+=_0x17b806['byteLength'];const _0x19adce=new Uint8Array(this['data']['length']+_0x17b806['length']);for(_0x19adce['set'](this['data']),_0x19adce['set'](_0x17b806,this['data']['length']),this['data']=_0x19adce;this['readFile'](););return this['reader']['read']()['then'](_0x596610=>{this['pump'](_0x596610['done'],_0x596610['value']);})['catch'](_0x5e50b9=>{this['fire']('error',_0x5e50b9);});}['readFile'](){if(!this['headerRead']&&this['bytesRecei'+'ved']>this['bytesRead']+this['headerSize']){this['headerRead']=!(-0x1ab1+-0x5*-0x584+-0x1*0xe3);const _0x133e50=new DataView(this['data']['buffer'],this['bytesRead'],this['headerSize']);this['decoder']??(this['decoder']=new TextDecoder('windows-12'+'52'));const _0x59f4f=this['decoder']['decode'](_0x133e50);if(this['fileName']=_0x59f4f['substring'](0x5*0x577+-0x17b4+-0x39f,0xa3*0x24+-0x229+-0x145f)['replace'](/\0/g,''),this['fileSize']=parseInt(_0x59f4f['substring'](-0x194b+-0x2b8+-0x1*-0x1c7f,0x1b12+0x6*-0x384+0x29*-0x22),0x16f*-0x13+0x13*0x74+-0x119*-0x11),this['fileType']=_0x59f4f['substring'](-0x2429+-0x230f+0x47d4,0x5cb+-0x4f5+-0x39),this['ustarForma'+'t']=_0x59f4f['substring'](0x1*-0x1348+0x211a*0x1+-0xcd1,0x24f5+-0x2207+-0x1*0x1e7),this['ustarForma'+'t']['indexOf']('ustar')!==-(0x1*-0x1c3+-0x1399+0x1*0x155d)){const _0x48c40d=_0x59f4f['substring'](0x36d*0x1+-0x8f+-0x185,0xdba+0x2*-0x1278+-0x1*-0x192a)['replace'](/\0/g,'');_0x48c40d['length']>0x15a2+0xd*0x103+0x1*-0x22c9&&(this['fileName']=_0x48c40d['trim']()+this['fileName']['trim']());}this['bytesRead']+=0x78d+-0x17f3+-0x5*-0x3ae;}if(this['headerRead']){if(this['bytesRecei'+'ved']<this['bytesRead']+this['fileSize'])return!(-0x1be*0xa+0x3*-0xa33+0x9*0x556);if(this['fileType']===''||this['fileType']==='0'){const _0x3beb5e=new DataView(this['data']['buffer'],this['bytesRead'],this['fileSize']),_0x3cc2f4={'name':this['prefix']+this['fileName'],'size':this['fileSize'],'data':_0x3beb5e};this['fire']('file',_0x3cc2f4);}this['bytesRead']+=this['fileSize'],this['headerRead']=!(0xb*0x241+-0x334+-0x1596);const _0x2eaea8=this['bytesRead']%this['paddingSiz'+'e'];return _0x2eaea8!==0x700+0x2322+-0x2a22&&(this['bytesRead']+=this['paddingSiz'+'e']-_0x2eaea8),!(-0x2459+0x1*-0x2223+0x467c);}return!(-0x9c*0x3b+0xa39+-0x894*-0x3);}}class Qe{constructor(_0x74bb1c,_0x20079b){h(this,'handlerTyp'+'e',''),h(this,'_app'),h(this,'_maxRetrie'+'s',0x152e+-0x1245+-0x95*0x5),(this['_app']=_0x74bb1c,this['handlerTyp'+'e']=_0x20079b);}set['maxRetries'](_0x4c50b6){this['_maxRetrie'+'s']=_0x4c50b6;}get['maxRetries'](){return this['_maxRetrie'+'s'];}['load'](_0x306313,_0x1ce696,_0x299377){}['open'](_0x5b884b,_0x211b14,_0x3d6185){return _0x211b14;}['patch'](_0x330464,_0x5c7b92){}}class VC extends Qe{constructor(_0x338aa1){super(_0x338aa1,'bundle'),this['_assets']=_0x338aa1['assets'];}['_fetchRetr'+'ies'](_0x2bd71d,_0x2e98e6,_0x18730c=0x208c+-0x815*0x1+-0x1877*0x1){return new Promise((_0x2753fb,_0x79b395)=>{const _0x411594=()=>{fetch(_0x2bd71d,_0x2e98e6)['then'](_0x2753fb)['catch'](_0x2b8238=>{_0x18730c++,_0x18730c<this['maxRetries']?(w['error']('Bundle\x20fai'+'led\x20to\x20loa'+'d\x20retrying'+'\x20(attempt\x20'+_0x18730c),_0x411594()):_0x79b395(_0x2b8238);});};_0x411594();});}['load'](_0x101ab9,_0x17c362){typeof _0x101ab9=='string'&&(_0x101ab9={'load':_0x101ab9,'original':_0x101ab9}),this['_fetchRetr'+'ies'](_0x101ab9['load'],{'mode':'cors'},this['maxRetries'])['then'](_0x28704a=>{const _0x2aa0fb=new gu();_0x17c362(null,_0x2aa0fb);const _0x1c6d6f=new zC(_0x28704a,this['_assets']['prefix']);_0x1c6d6f['on']('file',_0x3af951=>{_0x2aa0fb['addFile'](_0x3af951['name'],_0x3af951['data']);}),_0x1c6d6f['on']('done',()=>{_0x2aa0fb['loaded']=!(-0x742*-0x5+0x1*-0x1861+0xbe9*-0x1);}),_0x1c6d6f['on']('error',_0x3f24e6=>{w['error'](_0x3f24e6),_0x17c362(_0x3f24e6);});})['catch'](_0x44d61d=>{w['error'](_0x44d61d),_0x17c362(_0x44d61d);});}['open'](_0x440990,_0x186d9c){return _0x186d9c;}}class Cn{constructor(_0x4f201f){this['_handlers']={},this['_requests']={},this['_cache']={},this['_app']=_0x4f201f;}['addHandler'](_0x1fc74e,_0x4312e9){this['_handlers'][_0x1fc74e]=_0x4312e9,_0x4312e9['_loader']=this;}['removeHand'+'ler'](_0x25b951){delete this['_handlers'][_0x25b951];}['getHandler'](_0x515dcd){return this['_handlers'][_0x515dcd];}static['makeKey'](_0x116ae6,_0x4f4a75){return _0x116ae6+'-'+_0x4f4a75;}['load'](_0x52b05c,_0x44953d,_0x13d437,_0x3d425a,_0x5a1363){var _0xc7903d;const _0x86c4d6=this['_handlers'][_0x44953d];if(!_0x86c4d6){const _0x54847b='No\x20resourc'+'e\x20handler\x20'+'for\x20asset\x20'+'type:\x20\x27'+_0x44953d+('\x27\x20when\x20loa'+'ding\x20[')+_0x52b05c+']';w['errorOnce'](_0x54847b),_0x13d437(_0x54847b);return;}if(!_0x52b05c){this['_loadNull'](_0x86c4d6,_0x13d437,_0x3d425a);return;}const _0x339a94=Cn['makeKey'](_0x52b05c,_0x44953d);if(this['_requests'][_0x339a94])this['_requests'][_0x339a94]['push'](_0x13d437);else{this['_requests'][_0x339a94]=[_0x13d437];const _0x1c0552=this,_0x14a132=function(_0x5254ca,_0x14bc60){if(_0x5254ca){_0x1c0552['_onFailure'](_0x339a94,_0x5254ca);return;}if(_0x14bc60['load']instanceof DataView){if(_0x86c4d6['openBinary']){if(!_0x1c0552['_requests'][_0x339a94])return;try{const _0x2e8771=_0x86c4d6['openBinary'](_0x14bc60['load']);_0x1c0552['_onSuccess'](_0x339a94,_0x2e8771);}catch(_0x3431fc){_0x1c0552['_onFailure'](_0x339a94,_0x3431fc);}return;}_0x14bc60['load']=URL['createObje'+'ctURL'](new Blob([_0x14bc60['load']])),_0x3d425a&&(_0x3d425a['urlObject']&&URL['revokeObje'+'ctURL'](_0x3d425a['urlObject']),_0x3d425a['urlObject']=_0x14bc60['load']);}_0x86c4d6['load'](_0x14bc60,(_0x5836f7,_0xc76f5f,_0x2f38ee)=>{if(_0x1c0552['_requests'][_0x339a94]){if(_0x5836f7){_0x1c0552['_onFailure'](_0x339a94,_0x5836f7);return;}try{_0x1c0552['_onSuccess'](_0x339a94,_0x86c4d6['open'](_0x14bc60['original'],_0xc76f5f,_0x3d425a),_0x2f38ee);}catch(_0x104b14){_0x1c0552['_onFailure'](_0x339a94,_0x104b14);}}},_0x3d425a);},_0x27550c=_0x52b05c['split']('?')[-0x1*0x2314+-0x189e+0x3bb2*0x1];if(this['_app']['enableBund'+'les']&&this['_app']['bundles']['hasUrl'](_0x27550c)&&!(_0x5a1363&&_0x5a1363['bundlesIgn'+'ore'])){if(!this['_app']['bundles']['urlIsLoade'+'dOrLoading'](_0x27550c)){const _0x2dae1d=this['_app']['bundles']['listBundle'+'sForAsset'](_0x3d425a);let _0x15f06c;_0x5a1363&&_0x5a1363['bundlesFil'+'ter']&&(_0x15f06c=_0x5a1363['bundlesFil'+'ter'](_0x2dae1d)),_0x15f06c||(_0x2dae1d==null||_0x2dae1d['sort']((_0xd9d5c5,_0x543218)=>_0xd9d5c5['file']['size']-_0x543218['file']['size']),_0x15f06c=_0x2dae1d==null?void(-0x20a1*-0x1+-0x1710+-0x991):_0x2dae1d[0x2*-0x4d5+-0x1*-0x1645+-0xc9b]),_0x15f06c&&((_0xc7903d=this['_app']['assets'])==null||_0xc7903d['load'](_0x15f06c));}this['_app']['bundles']['loadUrl'](_0x27550c,(_0xa3350c,_0x4d0db0)=>{_0x14a132(_0xa3350c,{'load':_0x4d0db0,'original':_0x27550c});});}else _0x14a132(null,{'load':_0x52b05c,'original':_0x3d425a&&_0x3d425a['file']['filename']||_0x52b05c});}}['_loadNull'](_0x29a32a,_0x10e940,_0x38faed){const _0x1f655a=function(_0x241a80,_0x2eec20,_0x1e1ddb){if(_0x241a80)_0x10e940(_0x241a80);else try{_0x10e940(null,_0x29a32a['open'](null,_0x2eec20,_0x38faed),_0x1e1ddb);}catch(_0x12a503){_0x10e940(_0x12a503);}};_0x29a32a['load'](null,_0x1f655a,_0x38faed);}['_onSuccess'](_0x406203,_0x5b6a1d,_0x5d3164){for(let _0x15b225=0x419*0x3+-0x2*0x12fb+0x1*0x19ab;_0x15b225<this['_requests'][_0x406203]['length'];_0x15b225++)this['_requests'][_0x406203][_0x15b225](null,_0x5b6a1d,_0x5d3164);delete this['_requests'][_0x406203];}['_onFailure'](_0x3cca8a,_0x4ccc38){if(console['error'](_0x4ccc38),this['_requests'][_0x3cca8a]){for(let _0x1bb319=0x1497+-0x841+-0xc56;_0x1bb319<this['_requests'][_0x3cca8a]['length'];_0x1bb319++)this['_requests'][_0x3cca8a][_0x1bb319](_0x4ccc38);delete this['_requests'][_0x3cca8a];}}['open'](_0x23717e,_0x53ca88){const _0x4b0022=this['_handlers'][_0x23717e];return _0x4b0022?_0x4b0022['open'](null,_0x53ca88):(console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x23717e),_0x53ca88);}['patch'](_0x1df125,_0x4a9af1){const _0x3e7c19=this['_handlers'][_0x1df125['type']];if(!_0x3e7c19){console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x1df125['type']);return;}_0x3e7c19['patch']&&_0x3e7c19['patch'](_0x1df125,_0x4a9af1);}['clearCache'](_0x86580a,_0x55939a){const _0x479813=Cn['makeKey'](_0x86580a,_0x55939a);delete this['_cache'][_0x479813];}['getFromCac'+'he'](_0x157c26,_0x55707b){const _0x156bfd=Cn['makeKey'](_0x157c26,_0x55707b);if(this['_cache'][_0x156bfd])return this['_cache'][_0x156bfd];}['enableRetr'+'y'](_0x3fb5ad=-0x1344+0x2084+-0xd3b){_0x3fb5ad=Math['max'](0xb71+0x10e4+-0x1c55,_0x3fb5ad)||0x2283+-0x2*0xf65+-0x3b9*0x1;for(const _0x259dba in this['_handlers'])this['_handlers'][_0x259dba]['maxRetries']=_0x3fb5ad;}['disableRet'+'ry'](){for(const _0x20d326 in this['_handlers'])this['_handlers'][_0x20d326]['maxRetries']=-0x1*0x1017+0xe41+0x5*0x5e;}['destroyReq'+'uests'](){this['_requests']={};}['destroy'](){this['_handlers']={},this['_requests']={},this['_cache']={};}}class GC{['_validate'](_0xdbe8b4){if(!_0xdbe8b4['header'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er\x22\x20field');if(!_0xdbe8b4['header']['version'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er.version'+'\x22\x20field');if(_0xdbe8b4['header']['version']!==0xa5c+0x981+-0x9ee*0x2)throw new Error('pc.I18n#ad'+'dData:\x20Inv'+'alid\x20\x22head'+'er.version'+'\x22\x20field');if(_0xdbe8b4['data']){if(!Array['isArray'](_0xdbe8b4['data']))throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta\x22\x20field\x20'+'must\x20be\x20an'+'\x20array');}else throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22data'+'\x22\x20field');for(let _0x1ed08d=0x1f45+0xdba+-0x1*0x2cff,_0x40bf8c=_0xdbe8b4['data']['length'];_0x1ed08d<_0x40bf8c;_0x1ed08d++){const _0x209d96=_0xdbe8b4['data'][_0x1ed08d];if(!_0x209d96['info'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x1ed08d+('].info\x22\x20fi'+'eld'));if(!_0x209d96['info']['locale'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x1ed08d+('].info.loc'+'ale\x22\x20field'));if(typeof _0x209d96['info']['locale']!='string')throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta['+_0x1ed08d+('].info.loc'+'ale\x22\x20must\x20'+'be\x20a\x20strin'+'g'));if(!_0x209d96['messages'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x1ed08d+('].messages'+'\x22\x20field'));}}['parse'](_0x3b6dd4){return this['_validate'](_0x3b6dd4),_0x3b6dd4['data'];}}const Gh=class Gh extends me{constructor(_0x381181){super(),this['locale']=Ph,this['_translati'+'ons']={},this['_available'+'Langs']={},this['_app']=_0x381181,this['_assets']=[],this['_parser']=new GC();}set['assets'](_0x5c0c5e){const _0x291e32={};for(let _0x1f2a0b=-0x2095+-0x21b9+-0x12*-0x3af,_0x23916f=_0x5c0c5e['length'];_0x1f2a0b<_0x23916f;_0x1f2a0b++){const _0x362d21=_0x5c0c5e[_0x1f2a0b]instanceof pe?_0x5c0c5e[_0x1f2a0b]['id']:_0x5c0c5e[_0x1f2a0b];_0x291e32[_0x362d21]=!(-0x49b+0x1c97+-0x17fc);}let _0x227cc7=this['_assets']['length'];for(;_0x227cc7--;){const _0x2db3c0=this['_assets'][_0x227cc7];if(!_0x291e32[_0x2db3c0]){this['_app']['assets']['off']('add:'+_0x2db3c0,this['_onAssetAd'+'d'],this);const _0x52e640=this['_app']['assets']['get'](_0x2db3c0);_0x52e640&&this['_onAssetRe'+'move'](_0x52e640),this['_assets']['splice'](_0x227cc7,-0x1921+-0x1f97*0x1+0x38b9);}}for(const _0x53ddf8 in _0x291e32){const _0x5764bc=parseInt(_0x53ddf8,-0x25ab+-0xf41*0x1+0x34f6);if(this['_assets']['indexOf'](_0x5764bc)!==-(0x3cd*-0xa+0x1dac+0x857))continue;this['_assets']['push'](_0x5764bc);const _0x54e250=this['_app']['assets']['get'](_0x5764bc);_0x54e250?this['_onAssetAd'+'d'](_0x54e250):this['_app']['assets']['once']('add:'+_0x5764bc,this['_onAssetAd'+'d'],this);}}get['assets'](){return this['_assets'];}set['locale'](_0x252b4b){if(this['_locale']===_0x252b4b)return;let _0x13d443=Oi(_0x252b4b);if(_0x13d443==='in'&&(_0x13d443='id',_0x252b4b=LC(_0x252b4b,_0x13d443),this['_locale']===_0x252b4b))return;const _0x33ae31=this['_locale'];this['_locale']=_0x252b4b,this['_lang']=_0x13d443,this['_pluralFn']=Tf(this['_lang']),this['fire'](Gh['EVENT_CHAN'+'GE'],_0x252b4b,_0x33ae31);}get['locale'](){return this['_locale'];}static['findAvaila'+'bleLocale'](_0x221ce4,_0x56c35a){return Fv(_0x221ce4,_0x56c35a);}['findAvaila'+'bleLocale'](_0x18b878){if(this['_translati'+'ons'][_0x18b878])return _0x18b878;const _0x256d2e=Oi(_0x18b878);return this['_findFallb'+'ackLocale'](_0x18b878,_0x256d2e);}['getText'](_0xaf9cb1,_0x26f6cf){let _0x300c48=_0xaf9cb1,_0x491ccb;_0x26f6cf||(_0x26f6cf=this['_locale'],_0x491ccb=this['_lang']);let _0x22d4d7=this['_translati'+'ons'][_0x26f6cf];return _0x22d4d7||(_0x491ccb||(_0x491ccb=Oi(_0x26f6cf)),_0x26f6cf=this['_findFallb'+'ackLocale'](_0x26f6cf,_0x491ccb),_0x22d4d7=this['_translati'+'ons'][_0x26f6cf]),_0x22d4d7&&_0x22d4d7['hasOwnProp'+'erty'](_0xaf9cb1)&&(_0x300c48=_0x22d4d7[_0xaf9cb1],Array['isArray'](_0x300c48)&&(_0x300c48=_0x300c48[-0x1*0x1772+0x1660+0x112]),_0x300c48==null&&(_0x300c48=_0xaf9cb1)),_0x300c48;}['getPluralT'+'ext'](_0x3a29df,_0x4136b5,_0x5aabf2){let _0x572564=_0x3a29df,_0x418933,_0x1cbe5c;_0x5aabf2?(_0x418933=Oi(_0x5aabf2),_0x1cbe5c=Tf(_0x418933)):(_0x5aabf2=this['_locale'],_0x418933=this['_lang'],_0x1cbe5c=this['_pluralFn']);let _0xe41127=this['_translati'+'ons'][_0x5aabf2];if(_0xe41127||(_0x5aabf2=this['_findFallb'+'ackLocale'](_0x5aabf2,_0x418933),_0x418933=Oi(_0x5aabf2),_0x1cbe5c=Tf(_0x418933),_0xe41127=this['_translati'+'ons'][_0x5aabf2]),_0xe41127&&_0xe41127[_0x3a29df]&&_0x1cbe5c){const _0x598080=_0x1cbe5c(_0x4136b5);_0x572564=_0xe41127[_0x3a29df][_0x598080],_0x572564==null&&(_0x572564=_0x3a29df);}return _0x572564;}['addData'](_0x266738){let _0xd5baf6;try{_0xd5baf6=this['_parser']['parse'](_0x266738);}catch(_0x23db7b){console['error'](_0x23db7b);return;}for(let _0x4ad812=-0x1ef5+0x750+0x17a5,_0x373282=_0xd5baf6['length'];_0x4ad812<_0x373282;_0x4ad812++){const _0x45502e=_0xd5baf6[_0x4ad812],_0x4038fb=_0x45502e['info']['locale'],_0x4eb873=_0x45502e['messages'];if(!this['_translati'+'ons'][_0x4038fb]){this['_translati'+'ons'][_0x4038fb]={};const _0x8d0d0e=Oi(_0x4038fb);this['_available'+'Langs'][_0x8d0d0e]||(this['_available'+'Langs'][_0x8d0d0e]=_0x4038fb);}Object['assign'](this['_translati'+'ons'][_0x4038fb],_0x4eb873),this['fire']('data:add',_0x4038fb,_0x4eb873);}}['removeData'](_0xd01ca4){let _0x18b634;try{_0x18b634=this['_parser']['parse'](_0xd01ca4);}catch(_0x45002f){console['error'](_0x45002f);return;}for(let _0x4b5c71=0xbbc*-0x3+-0x2*-0xe82+0x630,_0x3f23ce=_0x18b634['length'];_0x4b5c71<_0x3f23ce;_0x4b5c71++){const _0x5e076c=_0x18b634[_0x4b5c71],_0x10e34f=_0x5e076c['info']['locale'],_0x537002=this['_translati'+'ons'][_0x10e34f];if(!_0x537002)continue;const _0x10208a=_0x5e076c['messages'];for(const _0x18ad8d in _0x10208a)delete _0x537002[_0x18ad8d];Object['keys'](_0x537002)['length']===-0x253e+0x2de+0x2260&&(delete this['_translati'+'ons'][_0x10e34f],delete this['_available'+'Langs'][Oi(_0x10e34f)]),this['fire']('data:remov'+'e',_0x10e34f,_0x10208a);}}['destroy'](){this['_translati'+'ons']=null,this['_available'+'Langs']=null,this['_assets']=null,this['_parser']=null,this['off']();}['_findFallb'+'ackLocale'](_0x414e62,_0x5a96bd){let _0x1eaa29=Mh[_0x414e62];return _0x1eaa29&&this['_translati'+'ons'][_0x1eaa29]||(_0x1eaa29=Mh[_0x5a96bd],_0x1eaa29&&this['_translati'+'ons'][_0x1eaa29])||(_0x1eaa29=this['_available'+'Langs'][_0x5a96bd],_0x1eaa29&&this['_translati'+'ons'][_0x1eaa29])?_0x1eaa29:Ph;}['_onAssetAd'+'d'](_0x2e301e){_0x2e301e['on']('load',this['_onAssetLo'+'ad'],this),_0x2e301e['on']('change',this['_onAssetCh'+'ange'],this),_0x2e301e['on']('remove',this['_onAssetRe'+'move'],this),_0x2e301e['on']('unload',this['_onAssetUn'+'load'],this),_0x2e301e['resource']&&this['_onAssetLo'+'ad'](_0x2e301e);}['_onAssetLo'+'ad'](_0x4bb51f){this['addData'](_0x4bb51f['resource']);}['_onAssetCh'+'ange'](_0x418415){_0x418415['resource']&&this['addData'](_0x418415['resource']);}['_onAssetRe'+'move'](_0xd2c21d){_0xd2c21d['off']('load',this['_onAssetLo'+'ad'],this),_0xd2c21d['off']('change',this['_onAssetCh'+'ange'],this),_0xd2c21d['off']('remove',this['_onAssetRe'+'move'],this),_0xd2c21d['off']('unload',this['_onAssetUn'+'load'],this),_0xd2c21d['resource']&&this['removeData'](_0xd2c21d['resource']),this['_app']['assets']['once']('add:'+_0xd2c21d['id'],this['_onAssetAd'+'d'],this);}['_onAssetUn'+'load'](_0x5e6e6d){_0x5e6e6d['resource']&&this['removeData'](_0x5e6e6d['resource']);}};h(Gh,'EVENT_CHAN'+'GE','change');let wa=Gh;class HC extends me{constructor(_0x2231b4){super(),h(this,'_scripts',{}),h(this,'_list',[]),h(this,'_scriptSch'+'emas',new Map()),this['app']=_0x2231b4;}['destroy'](){this['app']=null,this['off']();}['addSchema'](_0x16593f,_0x5eff65){_0x5eff65&&this['_scriptSch'+'emas']['set'](_0x16593f,_0x5eff65);}['getSchema'](_0x4c82f8){return this['_scriptSch'+'emas']['get'](_0x4c82f8);}['add'](_0x3d2cc6){const _0x52583b=_0x3d2cc6['__name'];return this['_scripts']['hasOwnProp'+'erty'](_0x52583b)?(setTimeout(()=>{if(_0x3d2cc6['prototype']['swap']){const _0x381a02=this['_scripts'][_0x52583b],_0x1cc607=this['_list']['indexOf'](_0x381a02);this['_list'][_0x1cc607]=_0x3d2cc6,this['_scripts'][_0x52583b]=_0x3d2cc6,this['fire']('swap',_0x52583b,_0x3d2cc6),this['fire']('swap:'+_0x52583b,_0x3d2cc6);}else console['warn']('script\x20reg'+'istry\x20alre'+'ady\x20has\x20\x27'+_0x52583b+('\x27\x20script,\x20'+'define\x20\x27sw'+'ap\x27\x20method'+'\x20for\x20new\x20s'+'cript\x20type'+'\x20to\x20enable'+'\x20code\x20hot\x20'+'swapping'));}),!(-0x2*-0xf5c+-0x3ac*-0x4+-0x2d67)):(this['_scripts'][_0x52583b]=_0x3d2cc6,this['_list']['push'](_0x3d2cc6),this['fire']('add',_0x52583b,_0x3d2cc6),this['fire']('add:'+_0x52583b,_0x3d2cc6),setTimeout(()=>{if(!this['_scripts']['hasOwnProp'+'erty'](_0x52583b)||!this['app']||!this['app']['systems']||!this['app']['systems']['script'])return;const _0x3f420e=this['app']['systems']['script']['_component'+'s'];let _0x5a901d;const _0x2165a6=[],_0x5b652c=[];for(_0x3f420e['loopIndex']=0x1918+0xffb+-0x2913;_0x3f420e['loopIndex']<_0x3f420e['length'];_0x3f420e['loopIndex']++){const _0x5c1102=_0x3f420e['items'][_0x3f420e['loopIndex']];if(_0x5c1102['_scriptsIn'+'dex'][_0x52583b]&&_0x5c1102['_scriptsIn'+'dex'][_0x52583b]['awaiting']){_0x5c1102['_scriptsDa'+'ta']&&_0x5c1102['_scriptsDa'+'ta'][_0x52583b]&&(_0x5a901d=_0x5c1102['_scriptsDa'+'ta'][_0x52583b]['attributes']);const _0x1605c8=_0x5c1102['create'](_0x52583b,{'preloading':!(0x7*-0x4a5+-0x75c+-0x27df*-0x1),'ind':_0x5c1102['_scriptsIn'+'dex'][_0x52583b]['ind'],'attributes':_0x5a901d});_0x1605c8&&_0x2165a6['push'](_0x1605c8);for(const _0x403f5b of _0x5c1102['scripts'])_0x5c1102['initialize'+'Attributes'](_0x403f5b);}}for(let _0x2f9288=-0x69f+0x17b1+0x1*-0x1112;_0x2f9288<_0x2165a6['length'];_0x2f9288++)_0x2165a6[_0x2f9288]['enabled']&&(_0x2165a6[_0x2f9288]['_initializ'+'ed']=!(0x2e6*-0x4+-0x292*0x1+-0x25*-0x62),_0x5b652c['push'](_0x2165a6[_0x2f9288]),_0x2165a6[_0x2f9288]['initialize']&&_0x2165a6[_0x2f9288]['initialize']());for(let _0x582a4f=-0x46*0x61+-0x1efd+0x3983;_0x582a4f<_0x5b652c['length'];_0x582a4f++)!_0x5b652c[_0x582a4f]['enabled']||_0x5b652c[_0x582a4f]['_postIniti'+'alized']||(_0x5b652c[_0x582a4f]['_postIniti'+'alized']=!(0x465*-0x4+-0x1f18*-0x1+-0x4*0x361),_0x5b652c[_0x582a4f]['postInitia'+'lize']&&_0x5b652c[_0x582a4f]['postInitia'+'lize']());}),!(0x1d2+0x4*0x709+0xa*-0x2ff));}['remove'](_0x287d3b){let _0x3ea78b=_0x287d3b,_0x179374=_0x287d3b;if(typeof _0x179374!='string'?_0x179374=_0x3ea78b['__name']:_0x3ea78b=this['get'](_0x179374),this['get'](_0x179374)!==_0x3ea78b)return!(0x971+-0x6*-0x5db+0xa3*-0x46);delete this['_scripts'][_0x179374];const _0x5d4936=this['_list']['indexOf'](_0x3ea78b);return this['_list']['splice'](_0x5d4936,0x1*0x243+-0xc86+0x9*0x124),this['fire']('remove',_0x179374,_0x3ea78b),this['fire']('remove:'+_0x179374,_0x3ea78b),!(-0x43*-0x4f+-0x19c3+-0x1f*-0x2a);}['get'](_0x4cbce4){return this['_scripts'][_0x4cbce4]||null;}['has'](_0xa71b0f){if(typeof _0xa71b0f=='string')return this['_scripts']['hasOwnProp'+'erty'](_0xa71b0f);if(!_0xa71b0f)return!(0x20ef+-0x353*0x2+-0x1a48);const _0x528ecc=_0xa71b0f['__name'];return this['_scripts'][_0x528ecc]===_0xa71b0f;}['list'](){return this['_list'];}}const WC=(_0x2412b3,_0x4b95a1)=>_0x2412b3['constructo'+'r']['order']-_0x4b95a1['constructo'+'r']['order'],$C=_0x3d04e3=>_0x3d04e3['sort'](WC),po=[],Nv=[],XC=()=>Nv['pop']()??[],Ag=_0x249591=>{_0x249591['length']=0x599+0x4f*-0x13+0x44,Nv['push'](_0x249591);},Hh=class Hh extends Ie{constructor(_0x3596d8,_0x360728=Ms()){super(_0x3596d8),h(this,'anim'),h(this,'animation'),h(this,'audioliste'+'ner'),h(this,'button'),h(this,'camera'),h(this,'collision'),h(this,'element'),h(this,'gsplat'),h(this,'layoutchil'+'d'),h(this,'layoutgrou'+'p'),h(this,'light'),h(this,'model'),h(this,'particlesy'+'stem'),h(this,'render'),h(this,'rigidbody'),h(this,'screen'),h(this,'script'),h(this,'scrollbar'),h(this,'scrollview'),h(this,'sound'),h(this,'sprite'),h(this,'c',{}),h(this,'_app'),h(this,'_destroyin'+'g',!(0x99a+-0x47*-0x1+0x4*-0x278)),h(this,'_guid',null),h(this,'_template',!(0x93a*-0x1+-0x1a3+-0x1*-0xade)),(w['assert'](_0x360728,'Could\x20not\x20'+'find\x20curre'+'nt\x20applica'+'tion'),this['_app']=_0x360728);}['addCompone'+'nt'](_0x4a31da,_0x56e24d){const _0x800664=this['_app']['systems'][_0x4a31da];return _0x800664?this['c'][_0x4a31da]?(w['warn']('addCompone'+'nt:\x20Entity'+'\x20already\x20h'+'as\x20\x27'+_0x4a31da+('\x27\x20componen'+'t')),null):_0x800664['addCompone'+'nt'](this,_0x56e24d):(w['error']('addCompone'+'nt:\x20System'+'\x20\x27'+_0x4a31da+('\x27\x20doesn\x27t\x20'+'exist')),null);}['removeComp'+'onent'](_0x359b78){const _0x186ad0=this['_app']['systems'][_0x359b78];if(!_0x186ad0){w['error']('removeComp'+'onent:\x20Sys'+'tem\x20\x27'+_0x359b78+('\x27\x20doesn\x27t\x20'+'exist'));return;}if(!this['c'][_0x359b78]){w['warn']('removeComp'+'onent:\x20Ent'+'ity\x20doesn\x27'+'t\x20have\x20\x27'+_0x359b78+('\x27\x20componen'+'t'));return;}_0x186ad0['removeComp'+'onent'](this);}['findCompon'+'ent'](_0x5bb4b3){const _0xa75110=this['findOne'](_0x544947=>{var _0x3a10a2;return(_0x3a10a2=_0x544947['c'])==null?void(-0x12d6*-0x1+-0x3*0x7d3+0x4a3):_0x3a10a2[_0x5bb4b3];});return _0xa75110&&_0xa75110['c'][_0x5bb4b3];}['findCompon'+'ents'](_0x473326){return this['find'](_0x4d92f3=>{var _0x3f36c6;return(_0x3f36c6=_0x4d92f3['c'])==null?void(0x1362+0x170b+-0x2a6d):_0x3f36c6[_0x473326];})['map'](_0x5f1062=>_0x5f1062['c'][_0x473326]);}['findScript'](_0x5123cd){const _0x5cd2a1=this['findOne'](_0x17e5c0=>{var _0x53c88f,_0x36681d;return(_0x36681d=(_0x53c88f=_0x17e5c0['c'])==null?void(0xda3+-0x973+-0x430):_0x53c88f['script'])==null?void(0xdf9+0x17*-0x26+-0xa8f):_0x36681d['has'](_0x5123cd);});return _0x5cd2a1==null?void(-0xe6c+-0xf8a+0x1df6):_0x5cd2a1['c']['script']['get'](_0x5123cd);}['findScript'+'s'](_0x4c7b4d){return this['find'](_0x13eda3=>{var _0xce4378,_0x4c7a13;return(_0x4c7a13=(_0xce4378=_0x13eda3['c'])==null?void(-0x1306+0x89f+0xa67):_0xce4378['script'])==null?void(-0x202f+-0xa16+0x2a45*0x1):_0x4c7a13['has'](_0x4c7b4d);})['map'](_0xe31cf2=>_0xe31cf2['c']['script']['get'](_0x4c7b4d));}['getGuid'](){return this['_guid']||this['setGuid'](Q0['create']()),this['_guid'];}['setGuid'](_0x57cfd){const _0x2f5978=this['_app']['_entityInd'+'ex'];this['_guid']&&delete _0x2f5978[this['_guid']],this['_guid']=_0x57cfd,_0x2f5978[this['_guid']]=this;}['_notifyHie'+'rarchyStat'+'eChanged'](_0x28ba71,_0x3e9473){let _0x2194aa=!(0x1e0d+-0x261d+0x811);_0x28ba71===this&&po['length']===-0x191d*-0x1+-0x1*-0x10d6+-0x29f3&&(_0x2194aa=!(0x1228+0x10*0x20b+-0x32d8*0x1)),_0x28ba71['_beingEnab'+'led']=!(-0x13*-0x9+-0x1d03+0x38b*0x8),_0x28ba71['_onHierarc'+'hyStateCha'+'nged'](_0x3e9473),_0x28ba71['_onHierarc'+'hyStatePos'+'tChanged']&&po['push'](_0x28ba71);const _0x4765ea=_0x28ba71['_children'];for(let _0x44eacf=0x6c3*-0x3+-0x1*0x1939+0x2d82,_0x490844=_0x4765ea['length'];_0x44eacf<_0x490844;_0x44eacf++)_0x4765ea[_0x44eacf]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x4765ea[_0x44eacf],_0x3e9473);if(_0x28ba71['_beingEnab'+'led']=!(0x9be+0x10c8+-0x8d7*0x3),_0x2194aa){for(let _0x38d0f5=0x23b0+-0xe28+-0x1588;_0x38d0f5<po['length'];_0x38d0f5++)po[_0x38d0f5]['_onHierarc'+'hyStatePos'+'tChanged']();po['length']=0x1c6f*0x1+-0x1*0xe7d+-0xdf2;}}['_onHierarc'+'hyStateCha'+'nged'](_0x3cf1dc){super['_onHierarc'+'hyStateCha'+'nged'](_0x3cf1dc);const _0x32cbc9=this['_getSorted'+'Components']();for(let _0x429f57=0x1021+-0x26ce+0x16ad;_0x429f57<_0x32cbc9['length'];_0x429f57++){const _0x5c8c90=_0x32cbc9[_0x429f57];_0x5c8c90['enabled']&&(_0x3cf1dc?_0x5c8c90['onEnable']():_0x5c8c90['onDisable']());}Ag(_0x32cbc9);}['_onHierarc'+'hyStatePos'+'tChanged'](){const _0x4ef8f3=this['_getSorted'+'Components']();for(let _0x140cc8=0x1*0x53+0x2*0x84f+-0x10f1;_0x140cc8<_0x4ef8f3['length'];_0x140cc8++)_0x4ef8f3[_0x140cc8]['onPostStat'+'eChange']();Ag(_0x4ef8f3);}['findByGuid'](_0x448595){if(this['_guid']===_0x448595)return this;const _0x5a3160=this['_app']['_entityInd'+'ex'][_0x448595];return _0x5a3160&&(_0x5a3160===this||_0x5a3160['isDescenda'+'ntOf'](this))?_0x5a3160:null;}['destroy'](){this['_destroyin'+'g']=!(-0xf95+-0x33*0x19+0x1490);for(const _0x2559ad in this['c'])this['c'][_0x2559ad]['enabled']=!(-0x73*0x4f+0x1618+0xd66);for(const _0x14f9e6 in this['c'])this['c'][_0x14f9e6]['system']['removeComp'+'onent'](this);super['destroy'](),this['_guid']&&delete this['_app']['_entityInd'+'ex'][this['_guid']],this['_destroyin'+'g']=!(0x111*0x17+-0x1eb*0x4+-0x10da);}['clone'](){const _0x1d8b28={},_0x5916c4=this['_cloneRecu'+'rsively'](_0x1d8b28);return _0x1d8b28[this['getGuid']()]=_0x5916c4,kv(this,this,_0x5916c4,_0x1d8b28),_0x5916c4;}['_getSorted'+'Components'](){const _0x398813=this['c'],_0x1456e4=XC();let _0x5b1f1e=-0xd*-0x1+-0x489+0x47c;for(const _0x21f5c2 in _0x398813)if(_0x398813['hasOwnProp'+'erty'](_0x21f5c2)){const _0x5807a5=_0x398813[_0x21f5c2];_0x5b1f1e|=_0x5807a5['constructo'+'r']['order']!==0x43*0x74+0x176*-0x7+-0x35b*0x6,_0x1456e4['push'](_0x5807a5);}return _0x5b1f1e&&_0x1456e4['length']>0xe*-0x215+0x9f7+0x1330*0x1&&$C(_0x1456e4),_0x1456e4;}['_cloneRecu'+'rsively'](_0x277b3c){const _0xd0e684=new this['constructo'+'r'](void(0x12d3*0x1+-0x89b*0x1+0x28e*-0x4),this['_app']);super['_cloneInte'+'rnal'](_0xd0e684);for(const _0x56b114 in this['c'])this['c'][_0x56b114]['system']['cloneCompo'+'nent'](this,_0xd0e684);for(let _0xf19e9=-0x776+-0x313*0x7+0x1cfb*0x1;_0xf19e9<this['_children']['length'];_0xf19e9++){const _0x226ec1=this['_children'][_0xf19e9];if(_0x226ec1 instanceof Hh){const _0x500bb8=_0x226ec1['_cloneRecu'+'rsively'](_0x277b3c);_0xd0e684['addChild'](_0x500bb8),_0x277b3c[_0x226ec1['getGuid']()]=_0x500bb8;}}return _0xd0e684;}};h(Hh,'EVENT_DEST'+'ROY','destroy');let lt=Hh;function kv(_0x1cfa23,_0x40dd6a,_0x3fc4fc,_0x3d4e5d){if(_0x40dd6a instanceof lt){const _0x105876=_0x40dd6a['c'];for(const _0xbb6393 in _0x105876){const _0x2afd99=_0x105876[_0xbb6393],_0x67f9a5=_0x2afd99['system']['getPropert'+'iesOfType']('entity');for(let _0x31b692=0x7*0x2d+-0x1d7*-0xf+-0x19a*0x12,_0x3ec595=_0x67f9a5['length'];_0x31b692<_0x3ec595;_0x31b692++){const _0x1dedac=_0x67f9a5[_0x31b692]['name'],_0xae1d81=_0x2afd99[_0x1dedac];if(!!_0x1cfa23['findByGuid'](_0xae1d81)){const _0x43bd29=_0x3d4e5d[_0xae1d81]['getGuid']();_0x43bd29?_0x3fc4fc['c'][_0xbb6393][_0x1dedac]=_0x43bd29:w['warn']('Could\x20not\x20'+'find\x20corre'+'sponding\x20e'+'ntity\x20id\x20w'+'hen\x20resolv'+'ing\x20duplic'+'ated\x20entit'+'y\x20referenc'+'es');}}}_0x105876['script']&&_0x3fc4fc['script']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x105876['script'],_0x3d4e5d),_0x105876['render']&&_0x3fc4fc['render']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x105876['render'],_0x3d4e5d),_0x105876['button']&&_0x3fc4fc['button']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x105876['button'],_0x3d4e5d),_0x105876['scrollview']&&_0x3fc4fc['scrollview']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x105876['scrollview'],_0x3d4e5d),_0x105876['scrollbar']&&_0x3fc4fc['scrollbar']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x105876['scrollbar'],_0x3d4e5d),_0x105876['anim']&&_0x3fc4fc['anim']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x105876['anim'],_0x3d4e5d);const _0x51f83b=_0x40dd6a['children']['filter'](_0xbaac89=>_0xbaac89 instanceof lt),_0x547d6d=_0x3fc4fc['children']['filter'](_0x98f64=>_0x98f64 instanceof lt);for(let _0x1870bc=-0x5ab*0x3+0x7c*-0x6+0x13e9,_0x3a81d9=_0x51f83b['length'];_0x1870bc<_0x3a81d9;_0x1870bc++)kv(_0x1cfa23,_0x51f83b[_0x1870bc],_0x547d6d[_0x1870bc],_0x3d4e5d);}}class Cg{constructor(_0x295e4c,_0x2aa406){h(this,'name'),h(this,'url'),h(this,'data',null),h(this,'_loading',!(-0x1ad7*0x1+0xd7*-0x25+0x1*0x39eb)),h(this,'_onLoadedC'+'allbacks',[]),(this['name']=_0x295e4c,this['url']=_0x2aa406);}get['loaded'](){return!!this['data'];}get['loading'](){return this['_loading'];}}class qC{constructor(_0xa7e286){h(this,'_app'),h(this,'_list',[]),h(this,'_index',{}),h(this,'_urlIndex',{}),this['_app']=_0xa7e286;}['destroy'](){this['_app']=null;}['list'](){return this['_list'];}['add'](_0x50ec05,_0xd91774){if(this['_index']['hasOwnProp'+'erty'](_0x50ec05))return w['warn']('pc.SceneRe'+'gistry:\x20tr'+'ying\x20to\x20ad'+'d\x20more\x20tha'+'n\x20one\x20scen'+'e\x20called:\x20'+_0x50ec05),!(-0x11*-0x1a6+-0x1*0x21af+-0x3a*-0x19);const _0x493523=new Cg(_0x50ec05,_0xd91774),_0x40b182=this['_list']['push'](_0x493523);return this['_index'][_0x493523['name']]=_0x40b182-(-0x6*-0x3ee+0x185c+-0x1*0x2fef),this['_urlIndex'][_0x493523['url']]=_0x40b182-(0x8*0x1d+0xcb4+-0xd9b),!(-0x24d0+0x14bd+-0x1013*-0x1);}['find'](_0x9dc10d){return this['_index']['hasOwnProp'+'erty'](_0x9dc10d)?this['_list'][this['_index'][_0x9dc10d]]:null;}['findByUrl'](_0x366910){return this['_urlIndex']['hasOwnProp'+'erty'](_0x366910)?this['_list'][this['_urlIndex'][_0x366910]]:null;}['remove'](_0x546fed){if(this['_index']['hasOwnProp'+'erty'](_0x546fed)){const _0x245829=this['_index'][_0x546fed];let _0x15564d=this['_list'][_0x245829];delete this['_urlIndex'][_0x15564d['url']],delete this['_index'][_0x546fed],this['_list']['splice'](_0x245829,-0x27a*0xa+-0x40c*-0x2+0x1*0x10ad);for(let _0xcd2d82=0xfa0+-0x7*-0x1f8+-0x8*0x3ad;_0xcd2d82<this['_list']['length'];_0xcd2d82++)_0x15564d=this['_list'][_0xcd2d82],this['_index'][_0x15564d['name']]=_0xcd2d82,this['_urlIndex'][_0x15564d['url']]=_0xcd2d82;}}['_loadScene'+'Data'](_0x42f8f9,_0x1b49b5,_0x1de7bd){const _0x2b742e=this['_app'];let _0x43aa07=_0x42f8f9;if(typeof _0x42f8f9=='string'&&(_0x42f8f9=this['findByUrl'](_0x43aa07)||this['find'](_0x43aa07)||new Cg('Untitled',_0x43aa07)),_0x43aa07=_0x42f8f9['url'],!_0x43aa07){_0x1de7bd('Cannot\x20fin'+'d\x20scene\x20to'+'\x20load');return;}if(_0x42f8f9['loaded']){_0x1de7bd(null,_0x42f8f9);return;}_0x2b742e['assets']&&_0x2b742e['assets']['prefix']&&!jn['test'](_0x43aa07)&&(_0x43aa07=xe['join'](_0x2b742e['assets']['prefix'],_0x43aa07)),_0x42f8f9['_onLoadedC'+'allbacks']['push'](_0x1de7bd),_0x42f8f9['_loading']||_0x2b742e['loader']['getHandler']('hierarchy')['load'](_0x43aa07,(_0xfa65c0,_0x103d3d)=>{_0x42f8f9['data']=_0x103d3d,_0x42f8f9['_loading']=!(0x2*0x1a2+0x225f*0x1+-0x12d1*0x2);for(let _0x1606ed=0x1*0xe87+0x2*0xfc4+-0x2e0f;_0x1606ed<_0x42f8f9['_onLoadedC'+'allbacks']['length'];_0x1606ed++)_0x42f8f9['_onLoadedC'+'allbacks'][_0x1606ed](_0xfa65c0,_0x42f8f9);_0x1b49b5||(_0x42f8f9['data']=null),_0x42f8f9['_onLoadedC'+'allbacks']['length']=-0x25d7+-0x37a*0x3+0x3045;}),_0x42f8f9['_loading']=!(-0x12*0x112+-0x408+-0x7c4*-0x3);}['loadSceneD'+'ata'](_0x2ea57c,_0x41eee7){this['_loadScene'+'Data'](_0x2ea57c,!(0x47*0x8+0x1a07*-0x1+0x73*0x35),_0x41eee7);}['unloadScen'+'eData'](_0x1edfb5){typeof _0x1edfb5=='string'&&(_0x1edfb5=this['findByUrl'](_0x1edfb5)),_0x1edfb5&&(_0x1edfb5['data']=null);}['_loadScene'+'Hierarchy'](_0x48ba8f,_0x1def38,_0x219c9e){this['_loadScene'+'Data'](_0x48ba8f,!(0x12be+-0x1d24+0xa67),(_0x154b1b,_0x4907f4)=>{if(_0x154b1b){_0x219c9e&&_0x219c9e(_0x154b1b);return;}_0x1def38&&_0x1def38(_0x4907f4);const _0x28e203=this['_app'],_0x9874f5=()=>{const _0x373f5a=_0x28e203['loader']['getHandler']('hierarchy');_0x28e203['systems']['script']['preloading']=!(0x5fb+-0x1ae7+0x14ec);const _0x400106=_0x373f5a['open'](_0x4907f4['url'],_0x4907f4['data']);_0x28e203['systems']['script']['preloading']=!(0x85c+0x1*-0x1bd0+-0x1375*-0x1),_0x28e203['loader']['clearCache'](_0x4907f4['url'],'hierarchy'),_0x28e203['root']['addChild'](_0x400106),_0x28e203['systems']['fire']('initialize',_0x400106),_0x28e203['systems']['fire']('postInitia'+'lize',_0x400106),_0x28e203['systems']['fire']('postPostIn'+'itialize',_0x400106),_0x219c9e&&_0x219c9e(null,_0x400106);};_0x28e203['_preloadSc'+'ripts'](_0x4907f4['data'],_0x9874f5);});}['loadSceneH'+'ierarchy'](_0xb0b0a4,_0x23608c){this['_loadScene'+'Hierarchy'](_0xb0b0a4,null,_0x23608c);}['loadSceneS'+'ettings'](_0x140e0d,_0x22d59f){this['_loadScene'+'Data'](_0x140e0d,!(0x3b*0x22+0x11d+0x8f2*-0x1),(_0x4671d7,_0x53ea8e)=>{_0x4671d7?_0x22d59f&&_0x22d59f(_0x4671d7):(this['_app']['applyScene'+'Settings'](_0x53ea8e['data']['settings']),_0x22d59f&&_0x22d59f(null));});}['changeScen'+'e'](_0x3f74a4,_0x41c59c){const _0xe0d141=this['_app'],_0x5b0bfc=_0x26f0b9=>{const {children:_0x454eda}=_0xe0d141['root'];for(;_0x454eda['length'];)_0x454eda[0x26aa+-0xcd8+-0x19d2]['destroy']();_0xe0d141['applyScene'+'Settings'](_0x26f0b9['data']['settings']);};this['_loadScene'+'Hierarchy'](_0x3f74a4,_0x5b0bfc,_0x41c59c);}['loadScene'](_0xa89b31,_0x2c13fa){const _0x4bcbee=this['_app'],_0x53c1db=_0x4bcbee['loader']['getHandler']('scene');_0x4bcbee['assets']&&_0x4bcbee['assets']['prefix']&&!jn['test'](_0xa89b31)&&(_0xa89b31=xe['join'](_0x4bcbee['assets']['prefix'],_0xa89b31)),_0x53c1db['load'](_0xa89b31,(_0x177805,_0x2703e2)=>{if(_0x177805)_0x2c13fa&&_0x2c13fa(_0x177805);else{const _0x17a820=()=>{_0x4bcbee['systems']['script']['preloading']=!(-0x16fb+-0x1cf9*-0x1+-0x5fe);const _0xae3b73=_0x53c1db['open'](_0xa89b31,_0x2703e2),_0x915459=this['findByUrl'](_0xa89b31);_0x915459&&!_0x915459['loaded']&&(_0x915459['data']=_0x2703e2),_0x4bcbee['systems']['script']['preloading']=!(-0x12fa*-0x2+0x2587+-0x4b7a),_0x4bcbee['loader']['clearCache'](_0xa89b31,'scene'),_0x4bcbee['loader']['patch']({'resource':_0xae3b73,'type':'scene'},_0x4bcbee['assets']),_0x4bcbee['root']['addChild'](_0xae3b73['root']),_0x4bcbee['systems']['rigidbody']&&typeof Ammo<'u'&&_0x4bcbee['systems']['rigidbody']['gravity']['set'](_0xae3b73['_gravity']['x'],_0xae3b73['_gravity']['y'],_0xae3b73['_gravity']['z']),_0x2c13fa&&_0x2c13fa(null,_0xae3b73);};_0x4bcbee['_preloadSc'+'ripts'](_0x2703e2,_0x17a820);}});}}class jC{constructor(_0x5d1b1d){this['frame']={'fps':0x0,'ms':0x0,'dt':0x0,'updateStart':0x0,'updateTime':0x0,'renderStart':0x0,'renderTime':0x0,'physicsStart':0x0,'physicsTime':0x0,'cullTime':0x0,'sortTime':0x0,'skinTime':0x0,'morphTime':0x0,'instancingTime':0x0,'triangles':0x0,'otherPrimitives':0x0,'shaders':0x0,'materials':0x0,'cameras':0x0,'shadowMapUpdates':0x0,'shadowMapTime':0x0,'depthMapTime':0x0,'forwardTime':0x0,'lightClustersTime':0x0,'lightClusters':0x0,'_timeToCountFrames':0x0,'_fpsAccum':0x0},this['drawCalls']={'forward':0x0,'depth':0x0,'shadow':0x0,'immediate':0x0,'misc':0x0,'total':0x0,'skinned':0x0,'instanced':0x0,'removedByInstancing':0x0},this['misc']={'renderTargetCreationTime':0x0},this['particles']={'updatesPerFrame':0x0,'_updatesPerFrame':0x0,'frameTime':0x0,'_frameTime':0x0},this['shaders']=_0x5d1b1d['_shaderSta'+'ts'],this['vram']=_0x5d1b1d['_vram'],Object['defineProp'+'erty'](this['vram'],'totalUsed',{'get':function(){return this['tex']+this['vb']+this['ib'];}}),Object['defineProp'+'erty'](this['vram'],'geom',{'get':function(){return this['vb']+this['ib'];}});}get['scene'](){return Ms()['scene']['_stats'];}get['lightmappe'+'r'](){var _0x1ed1fc;return(_0x1ed1fc=Ms()['lightmappe'+'r'])==null?void(-0x4c9+0x7eb*-0x1+0x65a*0x2):_0x1ed1fc['stats'];}get['batcher'](){const _0x1b78fb=Ms()['_batcher'];return _0x1b78fb?_0x1b78fb['_stats']:null;}}const YC='\x0auniform\x20f'+'loat\x20alpha'+'_ref;\x0a\x0avoi'+'d\x20alphaTes'+'t(float\x20a)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(a\x20<\x20alpha'+'_ref)\x20disc'+'ard;\x0a}\x0a',KC='\x0a\x0a#ifdef\x20L'+'IT_AMBIENT'+'_SOURCE\x20=='+'\x20AMBIENTSH'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20am'+'bientSH[9]'+';\x0a#endif\x0a\x0a'+'#if\x20LIT_AM'+'BIENT_SOUR'+'CE\x20==\x20ENVA'+'LATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'fndef\x20ENV_'+'ATLAS\x0a\x20\x20\x20\x20'+'#define\x20EN'+'V_ATLAS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20textur'+'e_envAtlas'+';\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_AMBIENT_'+'SOURCE\x20==\x20'+'AMBIENTSH\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20n\x20=\x20cu'+'beMapRotat'+'e(worldNor'+'mal);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20c'+'olor\x20=\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'mbientSH[0'+']\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ambi'+'entSH[1]\x20*'+'\x20n.x\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'mbientSH[2'+']\x20*\x20n.y\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[3]\x20*\x20n.z'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[4]\x20*\x20'+'n.x\x20*\x20n.z\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ambien'+'tSH[5]\x20*\x20n'+'.z\x20*\x20n.y\x20+'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ambient'+'SH[6]\x20*\x20n.'+'y\x20*\x20n.x\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[7]\x20*\x20(3.'+'0\x20*\x20n.z\x20*\x20'+'n.z\x20-\x201.0)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[8]\x20*\x20'+'(n.x\x20*\x20n.x'+'\x20-\x20n.y\x20*\x20n'+'.y);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20processEn'+'vironment('+'max(color,'+'\x20vec3(0.0)'+'));\x0a\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_A'+'MBIENT_SOU'+'RCE\x20==\x20ENV'+'ALATLAS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20dir\x20=\x20no'+'rmalize(cu'+'beMapRotat'+'e(worldNor'+'mal)\x20*\x20vec'+'3(-1.0,\x201.'+'0,\x201.0));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20ma'+'pUv(toSphe'+'ricalUv(di'+'r),\x20vec4(1'+('28.0,\x20256.'+'0\x20+\x20128.0,'+'\x2064.0,\x2032.'+'0)\x20/\x20atlas'+'Size);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20raw\x20=\x20tex'+'ture2D(tex'+'ture_envAt'+'las,\x20uv);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20linear\x20'+'=\x20{ambient'+'Decode}(ra'+'w);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20p'+'rocessEnvi'+'ronment(li'+'near);\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'T_AMBIENT_'+'SOURCE\x20==\x20'+'CONSTANT\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20light'+'_globalAmb'+'ient;\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),ZC='\x0a\x0a#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20materi'+'al_anisotr'+'opyIntensi'+'ty;\x0a\x20\x20\x20\x20un'+'iform\x20vec2'+'\x20material_'+'anisotropy'+'Rotation;\x0a'+'#endif\x0a\x0avo'+'id\x20getAnis'+'otropy()\x20{'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x200'+'.0;\x0a\x20\x20\x20\x20dA'+'nisotropyR'+'otation\x20=\x20'+'vec2(1.0,\x20'+'0.0);\x0a\x0a#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x20m'+'aterial_an'+'isotropyIn'+'tensity;\x0a\x20'+'\x20\x20\x20dAnisot'+'ropyRotati'+'on\x20=\x20mater'+'ial_anisot'+'ropyRotati'+'on;\x0a#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_ANI'+'SOTROPY_TE'+'XTURE\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropyTex\x20='+'\x20texture2D'+'Bias({STD_'+'ANISOTROPY'+'_TEXTURE_N'+'AME},\x20{STD'+'_ANISOTROP'+'Y_TEXTURE_'+'UV},\x20textu'+'reBias).rg'+'b;\x0a\x20\x20\x20\x20dAn'+'isotropy\x20*'+'=\x20anisotro'+'pyTex.b;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20a'+'nisotropyR'+'otationFro'+'mTex\x20=\x20ani'+'sotropyTex'+'.rg\x20*\x202.0\x20'+'-\x20vec2(1.0'+');\x0a\x20\x20\x20\x20mat'+'2\x20rotation'+'Matrix\x20=\x20m'+'at2(dAniso'+'tropyRotat'+'ion.x,\x20dAn'+'isotropyRo'+'tation.y,\x20'+'-dAnisotro'+'pyRotation'+'.y,\x20dAniso'+'tropyRotat'+'ion.x);\x0a\x20\x20'+'\x20\x20dAnisotr'+'opyRotatio'+'n\x20=\x20rotati'+'onMatrix\x20*'+'\x20anisotrop'+'yRotationF'+'romTex;\x0a\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20dA'+'nisotropy\x20'+'=\x20clamp(dA'+'nisotropy,'+'\x200.0,\x201.0)'+';\x0a}\x0a',QC='\x0a\x0a#if\x20defi'+'ned(STD_AO'+'_TEXTURE)\x20'+'||\x20defined'+'(STD_AO_VE'+'RTEX)\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20materi'+'al_aoInten'+'sity;\x0a#end'+'if\x0a\x0a#ifdef'+'\x20STD_AODET'+'AIL_TEXTUR'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22deta'+'ilModesPS\x22'+'\x0a#endif\x0a\x0av'+'oid\x20getAO('+')\x20{\x0a\x20\x20\x20\x20dA'+'o\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO_TE'+'XTURE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'aoBase\x20=\x20t'+'exture2DBi'+'as({STD_AO'+'_TEXTURE_N'+'AME},\x20{STD'+'_AO_TEXTUR'+'E_UV},\x20tex'+'tureBias).'+'{STD_AO_TE'+'XTURE_CHAN'+'NEL};\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AODE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20aoDetail\x20'+'=\x20texture2'+'DBias({STD'+'_AODETAIL_'+'TEXTURE_NA'+'ME},\x20{STD_'+'AODETAIL_T'+'EXTURE_UV}'+',\x20textureB'+'ias).{STD_'+'AODETAIL_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'oBase\x20=\x20de'+'tailMode_{'+'STD_AODETA'+'IL_DETAILM'+'ODE}(vec3('+'aoBase),\x20v'+'ec3(aoDeta'+'il)).r;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20a'+'oBase;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.{STD_AO_V'+'ERTEX_CHAN'+'NEL});\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20def'+'ined(STD_A'+'O_TEXTURE)'+'\x20||\x20define'+'d(STD_AO_V'+'ERTEX)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAo\x20='+'\x20mix(1.0,\x20'+'dAo,\x20mater'+'ial_aoInte'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',JC='\x0avoid\x20occl'+'udeDiffuse'+'(float\x20ao)'+'\x20{\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20ao;\x0a}\x0a',e1='\x0a\x0a#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'OCCLUDE_SP'+'ECULAR_FLO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0av'+'oid\x20occlud'+'eSpecular('+'float\x20glos'+'s,\x20float\x20a'+'o,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir)\x20{\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20==\x20'+'AO\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_OCCLUDE_'+'SPECULAR_F'+'LOAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20specOcc'+'\x20=\x20mix(1.0'+',\x20ao,\x20mate'+'rial_occlu'+'deSpecular'+'Intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20specOc'+'c\x20=\x20ao;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIT_OCC'+'LUDE_SPECU'+'LAR\x20==\x20GLO'+'SSDEPENDEN'+'T\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20approx'+'imated\x20spe'+'cular\x20occl'+'usion\x20from'+'\x20AO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20http:'+'//research'+'.tri-ace.c'+'om/Data/ce'+'dec2011_Re'+'altimePBR_'+'Implementa'+'tion_e.ppt'+'x\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01\x20'+'*\x20specPow)'+'\x20-\x201.0\x20+\x20a'+'o);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_OCCLUD'+'E_SPECULAR'+'_FLOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecOcc\x20=\x20m'+'ix(1.0,\x20sp'+'ecOcc,\x20mat'+'erial_occl'+'udeSpecula'+'rIntensity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'T_OCCLUDE_'+'SPECULAR\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'*=\x20specOcc'+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n\x20*=\x20specO'+'cc;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sSpecula'+'rLight\x20*=\x20'+'specOcc;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sReflecti'+'on\x20*=\x20spec'+'Occ;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a'),t1='\x0a\x20\x20\x20\x20vec4\x20'+'dirLm\x20=\x20te'+'xture2D(te'+'xture_dirL'+'ightMap,\x20v'+'Uv1);\x0a\x0a\x20\x20\x20'+'\x20if\x20(bakeD'+'ir\x20>\x200.5)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dAtten'+'\x20>\x200.00001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dirL'+'m.xyz\x20=\x20di'+'rLm.xyz\x20*\x20'+'2.0\x20-\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20sa'+'turate(dAt'+'ten);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20nor'+'malize(dLi'+'ghtDirNorm'+'W.xyz*dAtt'+'en\x20+\x20dirLm'+'.xyz*dirLm'+'.w)\x20*\x200.5\x20'+'+\x20vec3(0.5'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20dirLm.w\x20'+'+\x20dAtten;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.a\x20=\x20m'+'ax(gl_Frag'+'Color.a,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20dir'+'Lm;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20dirLm.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color.a\x20=\x20'+'max(dirLm.'+'w,\x20dAtten\x20'+'>\x200.00001\x20'+'?\x20(1.0/255'+'.0)\x20:\x200.0)'+';\x0a\x20\x20\x20\x20}\x0a',s1='\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20//\x20di'+'ffuse\x20ligh'+'t\x20stores\x20a'+'ccumulated'+'\x20AO,\x20apply'+'\x20contrast\x20'+'and\x20bright'+'ness\x20to\x20it'+'\x0a\x20\x20\x20\x20//\x20an'+'d\x20multiply'+'\x20ambient\x20l'+'ight\x20color'+'\x20by\x20the\x20AO'+'\x0a\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20((dDiffus'+'eLight\x20-\x200'+'.5)\x20*\x20max('+'ambientBak'+'eOcclusion'+'Contrast\x20+'+'\x201.0,\x200.0)'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20dDiffus'+'eLight\x20+=\x20'+'vec3(ambie'+'ntBakeOccl'+'usionBrigh'+'tness);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20sa'+'turate(dDi'+'ffuseLight'+');\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20dAmbie'+'ntLight;\x0a#'+'endif\x0a\x0a#if'+'def\x20LIGHTM'+'AP_RGBM\x0a\x20\x20'+'\x20\x20//\x20encod'+'e\x20to\x20RGBM\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.rgb'+'\x20=\x20dDiffus'+'eLight;\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor.rgb\x20='+'\x20pow(gl_Fr'+'agColor.rg'+'b,\x20vec3(0.'+'5));\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20/=\x208'+'.0;\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.a\x20=\x20clamp'+'(\x20max(\x20max'+'(\x20gl_FragC'+'olor.r,\x20gl'+'_FragColor'+'.g\x20),\x20max('+'\x20gl_FragCo'+'lor.b,\x201.0'+'\x20/\x20255.0\x20)'+'\x20),\x200.0,1.'+'0\x20);\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.a\x20=\x20ceil'+'(gl_FragCo'+'lor.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20/=\x20gl'+'_FragColor'+'.a;\x0a#else\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(dDiffu'+'seLight,\x201'+'.0);\x0a#endi'+'f\x0a',i1='\x0auniform\x20v'+'ec3\x20view_p'+'osition;\x0a\x0a'+'uniform\x20ve'+'c3\x20light_g'+'lobalAmbie'+'nt;\x0a\x0afloat'+'\x20square(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'x*x;\x0a}\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0ave'+'c3\x20saturat'+'e(vec3\x20x)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3(0.0'+'),\x20vec3(1.'+'0));\x0a}\x0a',r1='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a\x0avec2\x20'+'nineSliced'+'Uv;\x0a',a1='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vec2\x20vMa'+'sk;\x0avaryin'+'g\x20vec2\x20vTi'+'ledUv;\x0a\x0aun'+'iform\x20medi'+'ump\x20vec4\x20i'+'nnerOffset'+';\x0auniform\x20'+'mediump\x20ve'+'c2\x20outerSc'+'ale;\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20atla'+'sRect;\x0a\x0ave'+'c2\x20nineSli'+'cedUv;\x0a',n1='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afloat\x20'+'bayer2(vec'+'2\x20p)\x20{\x0a\x20\x20\x20'+'\x20return\x20mo'+'d(2.0\x20*\x20p.'+'y\x20+\x20p.x\x20+\x20'+'1.0,\x204.0);'+'\x0a}\x0a\x0a//\x204x4'+'\x20matrix,\x20p'+'\x20-\x20pixel\x20c'+'oordinate\x0a'+'float\x20baye'+'r4(vec2\x20p)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20p1\x20=\x20mod'+'(p,\x202.0);\x0a'+'\x20\x20\x20\x20vec2\x20p'+'2\x20=\x20floor('+'0.5\x20*\x20mod('+'p,\x204.0));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afloat\x20bay'+'er8(vec2\x20p'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20p1\x20=\x20mo'+'d(p,\x202.0);'+'\x0a\x20\x20\x20\x20vec2\x20'+'p2\x20=\x20floor'+'(0.5\x20*\x20mod'+'(p,\x204.0));'+'\x0a\x20\x20\x20\x20vec2\x20'+'p4\x20=\x20floor'+'(0.25\x20*\x20mo'+'d(p,\x208.0))'+';\x0a\x20\x20\x20\x20retu'+'rn\x204.0\x20*\x20('+'4.0\x20*\x20baye'+'r2(p1)\x20+\x20b'+'ayer2(p2))'+'\x20+\x20bayer2('+'p4);\x0a}\x0a',o1='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0auni'+'form\x20vec2\x20'+'pixelOffse'+'t;\x0a\x0a#ifdef'+'\x20GAUSS\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20weigh'+'t[{SAMPLES'+'}];\x0a#endif'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20m'+'oments\x20=\x20v'+'ec3(0.0);\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20vUv0\x20-'+'\x20pixelOffs'+'et\x20*\x20(floa'+'t({SAMPLES'+'})\x20*\x200.5);'+'\x0a\x20\x20\x20\x20for\x20('+'int\x20i\x20=\x200;'+'\x20i\x20<\x20{SAMP'+'LES};\x20i++)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20c\x20=\x20'+'texture2D('+'source,\x20uv'+'\x20+\x20pixelOf'+'fset\x20*\x20flo'+'at(i));\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20GAUSS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20moments\x20'+'+=\x20c.xyz\x20*'+'\x20weight[i]'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'ments\x20+=\x20c'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'GAUSS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20*=\x201.0\x20/'+'\x20float({SA'+'MPLES});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(momen'+'ts.x,\x20mome'+'nts.y,\x20mom'+'ents.z,\x201.'+'0);\x0a}\x0a',l1='\x0auniform\x20f'+'loat\x20mater'+'ial_clearC'+'oat;\x0a\x0avoid'+'\x20getClearC'+'oat()\x20{\x0a\x20\x20'+'\x20\x20ccSpecul'+'arity\x20=\x20ma'+'terial_cle'+'arCoat;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_CLEARC'+'OAT_TEXTUR'+'E\x0a\x20\x20\x20\x20ccSp'+'ecularity\x20'+'*=\x20texture'+'2DBias({ST'+'D_CLEARCOA'+'T_TEXTURE_'+'NAME},\x20{ST'+'D_CLEARCOA'+'T_TEXTURE_'+'UV},\x20textu'+'reBias).{S'+'TD_CLEARCO'+'AT_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_CL'+'EARCOAT_VE'+'RTEX\x0a\x20\x20\x20\x20c'+'cSpeculari'+'ty\x20*=\x20satu'+'rate(vVert'+'exColor.{S'+'TD_CLEARCO'+'AT_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',c1='\x0auniform\x20f'+'loat\x20mater'+'ial_clearC'+'oatGloss;\x0a'+'\x0avoid\x20getC'+'learCoatGl'+'ossiness()'+'\x20{\x0a\x20\x20\x20\x20ccG'+'lossiness\x20'+'=\x20material'+'_clearCoat'+'Gloss;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATGLOSS_TE'+'XTURE\x0a\x20\x20\x20\x20'+'ccGlossine'+'ss\x20*=\x20text'+'ure2DBias('+'{STD_CLEAR'+'COATGLOSS_'+'TEXTURE_NA'+'ME},\x20{STD_'+'CLEARCOATG'+'LOSS_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+'.{STD_CLEA'+'RCOATGLOSS'+'_TEXTURE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_CLEAR'+'COATGLOSS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_CLEAR'+'COATGLOSS_'+'INVERT\x0a\x20\x20\x20'+'\x20ccGlossin'+'ess\x20=\x201.0\x20'+'-\x20ccGlossi'+'ness;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20+=\x200.'+'0000001;\x0a}'+'\x0a',h1='\x0a#ifdef\x20ST'+'D_CLEARCOA'+'TNORMAL_TE'+'XTURE\x0aunif'+'orm\x20float\x20'+'material_c'+'learCoatBu'+'mpiness;\x0a#'+'endif\x0a\x0avoi'+'d\x20getClear'+'CoatNormal'+'()\x20{\x0a#ifde'+'f\x20STD_CLEA'+'RCOATNORMA'+'L_TEXTURE\x0a'+'\x20\x20\x20\x20vec3\x20n'+'ormalMap\x20='+'\x20{STD_CLEA'+'RCOATNORMA'+'L_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'_NAME},\x20{S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_UV}'+',\x20textureB'+'ias));\x0a\x20\x20\x20'+'\x20normalMap'+'\x20=\x20mix(vec'+'3(0.0,\x200.0'+',\x201.0),\x20no'+'rmalMap,\x20m'+'aterial_cl'+'earCoatBum'+'piness);\x0a\x20'+'\x20\x20\x20ccNorma'+'lW\x20=\x20norma'+'lize(dTBN\x20'+'*\x20normalMa'+'p);\x0a#else\x0a'+'\x20\x20\x20\x20ccNorm'+'alW\x20=\x20dVer'+'texNormalW'+';\x0a#endif\x0a}'+'\x0a',d1='\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0avec2\x20ge'+'tCubemapFa'+'ceCoordina'+'tes(const\x20'+'vec3\x20dir,\x20'+'out\x20float\x20'+'faceIndex,'+'\x20out\x20vec2\x20'+'tileOffset'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20vAbs\x20=\x20'+'abs(dir);\x0a'+'\x20\x20\x20\x20float\x20'+'ma;\x0a\x20\x20\x20\x20ve'+'c2\x20uv;\x0a\x20\x20\x20'+'\x20if\x20(vAbs.'+'z\x20>=\x20vAbs.'+'x\x20&&\x20vAbs.'+'z\x20>=\x20vAbs.'+'y)\x20{\x20\x20\x20//\x20'+'front\x20/\x20ba'+'ck\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20faceInde'+'x\x20=\x20dir.z\x20'+'<\x200.0\x20?\x205.'+'0\x20:\x204.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2(dir.z\x20'+'<\x200.0\x20?\x20-d'+'ir.x\x20:\x20dir'+'.x,\x20-dir.y'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20tileOffse'+'t.x\x20=\x202.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20t'+'ileOffset.'+'y\x20=\x20dir.z\x20'+'<\x200.0\x20?\x201.'+'0\x20:\x200.0;\x0a\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if(vAbs.y'+'\x20>=\x20vAbs.x'+')\x20{\x20\x20//\x20to'+'p\x20index\x202,'+'\x20bottom\x20in'+'dex\x203\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20faceI'+'ndex\x20=\x20dir'+'.y\x20<\x200.0\x20?'+'\x203.0\x20:\x202.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ma\x20=\x200.5\x20/'+'\x20vAbs.y;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uv\x20'+'=\x20vec2(dir'+'.x,\x20dir.y\x20'+'<\x200.0\x20?\x20-d'+'ir.z\x20:\x20dir'+'.z);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.x\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20tileOffse'+'t.y\x20=\x20dir.'+'y\x20<\x200.0\x20?\x20'+'1.0\x20:\x200.0;'+'\x0a\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x20\x20\x20\x20//'+'\x20left\x20/\x20ri'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20faceInd'+'ex\x20=\x20dir.x'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'\x20=\x200.5\x20/\x20v'+'Abs.x;\x0a\x20\x20\x20'+('\x20\x20\x20\x20\x20uv\x20=\x20'+'vec2(dir.x'+'\x20<\x200.0\x20?\x20d'+'ir.z\x20:\x20-di'+'r.z,\x20-dir.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20tileOffs'+'et.x\x20=\x200.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'tileOffset'+'.y\x20=\x20dir.x'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20uv'+'\x20*\x20ma\x20+\x200.'+'5;\x0a}\x0a\x0a//\x20c'+'onverts\x20un'+'normalized'+'\x20direction'+'\x20vector\x20to'+'\x20a\x20texture'+'\x20coordinat'+'e\x20for\x20a\x20cu'+'bemap\x20face'+'\x20stored\x20wi'+'thin\x20textu'+'re\x20atlas\x20d'+'escribed\x20b'+'y\x20the\x20view'+'port\x0avec2\x20'+'getCubemap'+'AtlasCoord'+'inates(con'+'st\x20vec3\x20om'+'niAtlasVie'+'wport,\x20flo'+'at\x20shadowE'+'dgePixels,'+'\x20float\x20sha'+'dowTexture'+'Resolution'+',\x20const\x20ve'+'c3\x20dir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20faceIndex'+';\x0a\x20\x20\x20\x20vec2'+'\x20tileOffse'+'t;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapFac'+'eCoordinat'+'es(dir,\x20fa'+'ceIndex,\x20t'+'ileOffset)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'move\x20uv\x20co'+'ordinates\x20'+'inwards\x20in'+'side\x20to\x20co'+'mpensate\x20f'+'or\x20larger\x20'+'fov\x20when\x20r'+'endering\x20s'+'hadow\x20into'+'\x20atlas\x0a\x20\x20\x20'+'\x20float\x20atl'+'asFaceSize'+'\x20=\x20omniAtl'+'asViewport'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20tileSi'+'ze\x20=\x20shado'+'wTextureRe'+'solution\x20*'+'\x20atlasFace'+'Size;\x0a\x20\x20\x20\x20'+'float\x20offs'+'et\x20=\x20shado'+'wEdgePixel'+'s\x20/\x20tileSi'+'ze;\x0a\x20\x20\x20\x20uv'+'\x20=\x20uv\x20*\x20ve'+'c2(1.0\x20-\x20o'+'ffset\x20*\x202.'+'0)\x20+\x20vec2('+'offset\x20*\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'//\x20scale\x20u'+'v\x20coordina'+'tes\x20to\x20cub'+'e\x20face\x20are'+'a\x20within\x20t'+'he\x20viewpor'+'t\x0a\x20\x20\x20\x20uv\x20*'+'=\x20atlasFac'+'eSize;\x0a\x0a\x20\x20'+'\x20\x20//\x20offse'+'t\x20into\x20fac'+'e\x20of\x20the\x20a')+('tlas\x20(3x3\x20'+'grid)\x0a\x20\x20\x20\x20'+'uv\x20+=\x20tile'+'Offset\x20*\x20a'+'tlasFaceSi'+'ze;\x0a\x0a\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nto\x20the\x20at'+'las\x20viewpo'+'rt\x0a\x20\x20\x20\x20uv\x20'+'+=\x20omniAtl'+'asViewport'+'.xy;\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a'),f1='\x0avec3\x20_get'+'CookieClus'+'tered(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20uv,\x20floa'+'t\x20intensit'+'y,\x20vec4\x20co'+'okieChanne'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20pixel\x20'+'=\x20mix(vec4'+'(1.0),\x20tex'+'ture2DLod('+'tex,\x20uv,\x200'+'.0),\x20inten'+'sity);\x0a\x20\x20\x20'+'\x20bool\x20isRg'+'b\x20=\x20dot(co'+'okieChanne'+'l.rgb,\x20vec'+'3(1.0))\x20=='+'\x203.0;\x0a\x20\x20\x20\x20'+'return\x20isR'+'gb\x20?\x20pixel'+'.rgb\x20:\x20vec'+'3(dot(pixe'+'l,\x20cookieC'+'hannel));\x0a'+'}\x0a\x0a//\x20getC'+'ookie2D\x20fo'+'r\x20clustere'+'d\x20lighting'+'\x20including'+'\x20channel\x20s'+'elector\x0ave'+'c3\x20getCook'+'ie2DCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20mat4\x20'+'transform,'+'\x20vec3\x20worl'+'dPosition,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieC'+'hannel)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20p'+'rojPos\x20=\x20t'+'ransform\x20*'+'\x20vec4(worl'+'dPosition,'+'\x201.0);\x0a\x20\x20\x20'+'\x20return\x20_g'+'etCookieCl'+'ustered(TE'+'XTURE_PASS'+'(tex),\x20pro'+'jPos.xy\x20/\x20'+'projPos.w,'+'\x20intensity'+',\x20cookieCh'+'annel);\x0a}\x0a'+'\x0a//\x20getCoo'+'kie\x20for\x20cl'+'ustered\x20om'+'ni\x20light\x20w'+'ith\x20the\x20co'+'okie\x20textu'+'re\x20being\x20s'+'tored\x20in\x20t'+'he\x20cookie\x20'+'atlas\x0avec3'+'\x20getCookie'+'CubeCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec3\x20'+'dir,\x20float'+'\x20intensity'+',\x20vec4\x20coo'+'kieChannel'+',\x20float\x20sh'+'adowTextur'+'eResolutio'+'n,\x20float\x20s'+'hadowEdgeP'+'ixels,\x20vec'+'3\x20omniAtla'+'sViewport)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+('tureResolu'+'tion,\x20dir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20_getCoo'+'kieCluster'+'ed(TEXTURE'+'_PASS(tex)'+',\x20uv,\x20inte'+'nsity,\x20coo'+'kieChannel'+');\x0a}\x0a'),u1='\x0a\x0avec3\x20_ge'+'tShadowCoo'+'rdPerspZbu'+'ffer(mat4\x20'+'shadowMatr'+'ix,\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20wP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20shado'+'wMatrix\x20*\x20'+'vec4(wPos,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'yz\x20/=\x20proj'+'Pos.w;\x0a\x20\x20\x20'+'\x20return\x20pr'+'ojPos.xyz;'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20bias\x20i'+'s\x20already\x20'+'applied\x20on'+'\x20render\x0a}\x0a'+'\x0avec3\x20getS'+'hadowCoord'+'PerspZbuff'+'erNormalOf'+'fset(mat4\x20'+'shadowMatr'+'ix,\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20no'+'rmal)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20wPo'+'s\x20=\x20vPosit'+'ionW\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowCoordPe'+'rspZbuffer'+'(shadowMat'+'rix,\x20shado'+'wParams,\x20w'+'Pos);\x0a}\x0a\x0av'+'ec3\x20normal'+'OffsetPoin'+'tShadow(ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20lightPos'+',\x20vec3\x20lig'+'htDir,\x20vec'+'3\x20lightDir'+'Norm,\x20vec3'+'\x20normal)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20distScale'+'\x20=\x20length('+'lightDir);'+'\x0a\x20\x20\x20\x20vec3\x20'+'wPos\x20=\x20vPo'+'sitionW\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y\x20*\x20clam'+'p(1.0\x20-\x20do'+'t(normal,\x20'+'-lightDirN'+'orm),\x200.0,'+'\x201.0)\x20*\x20di'+'stScale;\x20/'+'/0.02\x0a\x20\x20\x20\x20'+'vec3\x20dir\x20='+'\x20wPos\x20-\x20li'+'ghtPos;\x0a\x20\x20'+'\x20\x20return\x20d'+'ir;\x0a}\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x0afloa'+'t\x20getShado'+'wOmniClust'+'eredPCF1(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20omniAtla'+'sViewport,'+'\x20float\x20sha'+'dowEdgePix'+'els,\x20vec3\x20'+'lightDir)\x20'+'{\x0a\x0a\x20\x20\x20\x20flo'+'at\x20shadowT'+('extureReso'+'lution\x20=\x20s'+'hadowParam'+'s.x;\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etCubemapA'+'tlasCoordi'+'nates(omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20shadowT'+'extureReso'+'lution,\x20li'+'ghtDir);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'shadowZ\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20retu'+'rn\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(uv,\x20sha'+'dowZ));\x0a}\x0a'+'\x0a#endif\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x0afl'+'oat\x20getSha'+'dowOmniClu'+'steredPCF3'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t,\x20float\x20s'+'hadowEdgeP'+'ixels,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wTextureRe'+'solution\x20='+'\x20shadowPar'+'ams.x;\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20getCubema'+'pAtlasCoor'+'dinates(om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20shado'+'wTextureRe'+'solution,\x20'+'lightDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20shadowZ\x20'+'=\x20length(l'+'ightDir)\x20*'+'\x20shadowPar'+'ams.w\x20+\x20sh'+'adowParams'+'.z;\x0a\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20vec'+'3(uv,\x20shad'+'owZ);\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowPCF3'+'x3(SHADOWM'+'AP_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a}\x0a'+'\x0a#endif\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF5)\x0a\x0afl'+'oat\x20getSha'+'dowOmniClu'+'steredPCF5'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t,\x20float\x20s')+('hadowEdgeP'+'ixels,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wTextureRe'+'solution\x20='+'\x20shadowPar'+'ams.x;\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20getCubema'+'pAtlasCoor'+'dinates(om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20shado'+'wTextureRe'+'solution,\x20'+'lightDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20shadowZ\x20'+'=\x20length(l'+'ightDir)\x20*'+'\x20shadowPar'+'ams.w\x20+\x20sh'+'adowParams'+'.z;\x0a\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20vec'+'3(uv,\x20shad'+'owZ);\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowPCF5'+'x5(SHADOWM'+'AP_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a}\x0a'+'\x0a#endif\x0a\x0a/'+'/\x20Clustere'+'d\x20Spot\x20Sam'+'pling\x20usin'+'g\x20atlas\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF1)\x0a\x0afl'+'oat\x20getSha'+'dowSpotClu'+'steredPCF1'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec3\x20shado'+'wCoord,\x20ve'+'c4\x20shadowP'+'arams)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'textureSha'+'dow(shadow'+'Map,\x20shado'+'wCoord);\x0a}'+'\x0a\x0a#endif\x0a\x0a'+'#if\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x0af'+'loat\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(SHADOWMA'+'P_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20getShadow'+'SpotPCF3x3'+'(SHADOWMAP'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord,'+'\x20shadowPar'+'ams);\x0a}\x0a\x0a#'+'endif\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF5)\x0a\x0afloa'+'t\x20getShado'+'wSpotClust'+'eredPCF5(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC')+('oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_PASS(s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20shadow'+'Params);\x0a}'+'\x0a#endif\x0a'),p1='\x0a\x0a#include'+'\x20\x22lightBuf'+'ferDefines'+'PS\x22\x0a\x0a//\x20in'+'clude\x20this'+'\x20before\x20sh'+'adow\x20/\x20coo'+'kie\x20code\x0a#'+'include\x20\x22c'+'lusteredLi'+'ghtUtilsPS'+'\x22\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightCookie'+'sPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_SH'+'ADOWS\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightShadow'+'sPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20clu'+'sterWorldT'+'exture;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20lightsTe'+'xture;\x0a\x0a#i'+'fdef\x20CLUST'+'ER_SHADOWS'+'\x0a\x20\x20\x20\x20//\x20TO'+'DO:\x20when\x20V'+'SM\x20shadow\x20'+'is\x20support'+'ed,\x20it\x20nee'+'ds\x20to\x20use\x20'+'sampler2D\x20'+'in\x20webgl2\x0a'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'DShadow\x20sh'+'adowAtlasT'+'exture;\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20CLUSTER'+'_COOKIES\x0a\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20cookieAtl'+'asTexture;'+'\x0a#endif\x0a\x0au'+'niform\x20int'+'\x20clusterMa'+'xCells;\x0a\x0a/'+'/\x201.0\x20if\x20c'+'lustered\x20l'+'ighting\x20ca'+'n\x20be\x20skipp'+'ed\x20(0\x20ligh'+'ts\x20in\x20the\x20'+'clusters)\x0a'+'uniform\x20fl'+'oat\x20cluste'+'rSkip;\x0a\x0aun'+'iform\x20vec3'+'\x20clusterCe'+'llsCountBy'+'BoundsSize'+';\x0auniform\x20'+'vec3\x20clust'+'erTextureS'+'ize;\x0aunifo'+'rm\x20vec3\x20cl'+'usterBound'+'sMin;\x0aunif'+'orm\x20vec3\x20c'+'lusterBoun'+'dsDelta;\x0au'+'niform\x20vec'+'3\x20clusterC'+'ellsDot;\x0au'+'niform\x20vec'+'3\x20clusterC'+'ellsMax;\x0au'+'niform\x20vec'+'2\x20shadowAt'+'lasParams;'+'\x0a\x0a//\x20struc'+'ture\x20stori'+'ng\x20light\x20p'+'roperties\x20'+'of\x20a\x20clust'+'ered\x20light'+'\x0a//\x20it\x27s\x20s'+('orted\x20to\x20h'+'ave\x20all\x20ve'+'ctors\x20alig'+'ned\x20to\x204\x20f'+'loats\x20to\x20l'+'imit\x20paddi'+'ng\x0astruct\x20'+'ClusterLig'+'htData\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x2032b'+'it\x20of\x20flag'+'s\x0a\x20\x20\x20\x20uint'+'\x20flags;\x0a\x0a\x20'+'\x20\x20\x20//\x20area'+'\x20light\x20siz'+'es\x20/\x20orien'+'tation\x0a\x20\x20\x20'+'\x20vec3\x20half'+'Width;\x0a\x0a\x20\x20'+'\x20\x20bool\x20isS'+'pot;\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20sizes\x20'+'/\x20orientat'+'ion\x0a\x20\x20\x20\x20ve'+'c3\x20halfHei'+'ght;\x0a\x0a\x20\x20\x20\x20'+'//\x20light\x20i'+'ndex\x0a\x20\x20\x20\x20i'+'nt\x20lightIn'+'dex;\x0a\x0a\x20\x20\x20\x20'+'//\x20world\x20s'+'pace\x20posit'+'ion\x0a\x20\x20\x20\x20ve'+'c3\x20positio'+'n;\x0a\x0a\x20\x20\x20\x20//'+'\x20area\x20ligh'+'t\x20shape\x0a\x20\x20'+'\x20\x20uint\x20sha'+'pe;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20direct'+'ion\x20(spot\x20'+'light\x20only'+')\x0a\x20\x20\x20\x20vec3'+'\x20direction'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20foll'+'ow\x20mode\x0a\x20\x20'+'\x20\x20bool\x20fal'+'loffModeLi'+'near;\x0a\x0a\x20\x20\x20'+'\x20//\x20color\x0a'+'\x20\x20\x20\x20vec3\x20c'+'olor;\x0a\x0a\x20\x20\x20'+'\x20//\x200.0\x20if'+'\x20the\x20light'+'\x20doesn\x27t\x20c'+'ast\x20shadow'+'s\x0a\x20\x20\x20\x20floa'+'t\x20shadowIn'+'tensity;\x0a\x0a'+'\x20\x20\x20\x20//\x20atl'+'as\x20viewpor'+'t\x20for\x20omni'+'\x20light\x20sha'+'dow\x20and\x20co'+'okie\x20(.xy\x20'+'is\x20offset\x20'+'to\x20the\x20vie'+'wport\x20slot'+',\x20.z\x20is\x20si'+'ze\x20of\x20the\x20'+'face\x20in\x20th'+'e\x20atlas)\x0a\x20'+'\x20\x20\x20vec3\x20om'+'niAtlasVie'+'wport;\x0a\x0a\x20\x20'+'\x20\x20//\x20range'+'\x20of\x20the\x20li'+'ght\x0a\x20\x20\x20\x20fl'+'oat\x20range;'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'hannel\x20mas'+'k\x20-\x20one\x20of'+'\x20the\x20chann'+'els\x20has\x201,'+'\x20the\x20other'+'s\x20are\x200\x0a\x20\x20'+'\x20\x20vec4\x20coo'+'kieChannel'+'Mask;\x0a\x0a\x20\x20\x20'+'\x20//\x20compre'+'ssed\x20biase'+'s,\x20two\x20haf'+'-floats\x20st'+'ored\x20in\x20a\x20'+'float\x0a\x20\x20\x20\x20'+'float\x20bias'+'esData;\x0a\x0a\x20')+('\x20\x20\x20//\x20shad'+'ow\x20bias\x20va'+'lues\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wBias;\x0a\x20\x20\x20'+'\x20float\x20sha'+'dowNormalB'+'ias;\x0a\x0a\x20\x20\x20\x20'+'//\x20compres'+'sed\x20angles'+',\x20two\x20haf-'+'floats\x20sto'+'red\x20in\x20a\x20f'+'loat\x0a\x20\x20\x20\x20f'+'loat\x20angle'+'sData;\x0a\x0a\x20\x20'+'\x20\x20//\x20spot\x20'+'light\x20inne'+'r\x20and\x20oute'+'r\x20angle\x20co'+'sine\x0a\x20\x20\x20\x20f'+'loat\x20inner'+'ConeAngleC'+'os;\x0a\x20\x20\x20\x20fl'+'oat\x20outerC'+'oneAngleCo'+'s;\x0a\x0a\x20\x20\x20\x20//'+'\x20intensity'+'\x20of\x20the\x20co'+'okie\x0a\x20\x20\x20\x20f'+'loat\x20cooki'+'eIntensity'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20mask'+'\x0a\x20\x20\x20\x20//flo'+'at\x20mask;\x0a\x20'+'\x20\x20\x20bool\x20is'+'Dynamic;\x0a\x20'+'\x20\x20\x20bool\x20is'+'Lightmappe'+'d;\x0a};\x0a\x0a//\x20'+'Note:\x20on\x20s'+'ome\x20device'+'s\x20(tested\x20'+'on\x20Pixel\x203'+'A\x20XL),\x20thi'+'s\x20matrix\x20w'+'hen\x20stored'+'\x20inside\x20th'+'e\x20light\x20st'+'ruct\x20has\x20l'+'ower\x20preci'+'sion\x20compa'+'red\x20to\x0a//\x20'+'when\x20store'+'d\x20outside,'+'\x20so\x20we\x20sto'+'re\x20it\x20outs'+'ide\x20to\x20avo'+'id\x20spot\x20sh'+'adow\x20flick'+'ering.\x20Thi'+'s\x20might\x20ne'+'ed\x20to\x20be\x20d'+'one\x20to\x20oth'+'er\x20/\x20all\x20m'+'embers\x0a//\x20'+'of\x20the\x20str'+'ucture\x20if\x20'+'further\x20si'+'milar\x20issu'+'es\x20are\x20obs'+'erved.\x0a\x0a//'+'\x20shadow\x20(s'+'pot\x20light\x20'+'only)\x20/\x20co'+'okie\x20proje'+'ction\x20matr'+'ix\x0amat4\x20li'+'ghtProject'+'ionMatrix;'+'\x0a\x0avec4\x20sam'+'pleLightTe'+'xtureF(con'+'st\x20Cluster'+'LightData\x20'+'clusterLig'+'htData,\x20in'+'t\x20index)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20texelFet'+'ch(lightsT'+'exture,\x20iv'+'ec2(index,'+'\x20clusterLi'+'ghtData.li'+'ghtIndex),'+'\x200);\x0a}\x0a\x0avo'+'id\x20decodeC'+'lusterLigh')+('tCore(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData,\x20flo'+'at\x20lightIn'+'dex)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20light'+'\x20index\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.li'+'ghtIndex\x20='+'\x20int(light'+'Index);\x0a\x0a\x20'+'\x20\x20\x20//\x20samp'+'le\x20data\x20en'+'coding\x20hal'+'f-float\x20va'+'lues\x20into\x20'+'32bit\x20uint'+'s\x0a\x20\x20\x20\x20vec4'+'\x20halfData\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'{CLUSTER_T'+'EXTURE_COL'+'OR_ANGLES_'+'BIAS});\x0a\x0a\x20'+'\x20\x20\x20//\x20stor'+'e\x20floats\x20w'+'e\x20decode\x20l'+'ater\x20as\x20ne'+'eded\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.angl'+'esData\x20=\x20h'+'alfData.z;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.biasesDa'+'ta\x20=\x20halfD'+'ata.w;\x0a\x0a\x20\x20'+'\x20\x20//\x20decom'+'press\x20colo'+'r\x20half-flo'+'ats\x0a\x20\x20\x20\x20ve'+'c2\x20colorRG'+'\x20=\x20unpackH'+'alf2x16(fl'+'oatBitsToU'+'int(halfDa'+'ta.x));\x0a\x20\x20'+'\x20\x20vec2\x20col'+'orB_\x20=\x20unp'+'ackHalf2x1'+'6(floatBit'+'sToUint(ha'+'lfData.y))'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.color\x20='+'\x20vec3(colo'+'rRG,\x20color'+'B_.x)\x20*\x20{L'+'IGHT_COLOR'+'_DIVIDER};'+'\x0a\x0a\x20\x20\x20\x20//\x20p'+'osition\x20an'+'d\x20range,\x20f'+'ull\x20floats'+'\x0a\x20\x20\x20\x20vec4\x20'+'lightPosRa'+'nge\x20=\x20samp'+'leLightTex'+'tureF(clus'+'terLightDa'+'ta,\x20{CLUST'+'ER_TEXTURE'+'_POSITION_'+'RANGE});\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'position\x20='+'\x20lightPosR'+'ange.xyz;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.range\x20=\x20l'+'ightPosRan'+'ge.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20spot\x20d'+'irection\x20&'+'\x20flags\x20dat'+'a\x0a\x20\x20\x20\x20vec4'+'\x20lightDir_'+'Flags\x20=\x20sa'+'mpleLightT'+'extureF(cl')+('usterLight'+'Data,\x20{CLU'+'STER_TEXTU'+'RE_DIRECTI'+'ON_FLAGS})'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'spot\x20light'+'\x20direction'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.directio'+'n\x20=\x20lightD'+'ir_Flags.x'+'yz;\x0a\x0a\x20\x20\x20\x20/'+'/\x2032bit\x20fl'+'ags\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.flags'+'\x20=\x20floatBi'+'tsToUint(l'+'ightDir_Fl'+'ags.w);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sSpot\x20=\x20(c'+'lusterLigh'+'tData.flag'+'s\x20&\x20(1u\x20<<'+'\x2030u))\x20!=\x20'+'0u;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.shape'+'\x20=\x20(cluste'+'rLightData'+'.flags\x20>>\x20'+'28u)\x20&\x200x3'+'u;\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.fallof'+'fModeLinea'+'r\x20=\x20(clust'+'erLightDat'+'a.flags\x20&\x20'+'(1u\x20<<\x2027u'+'))\x20==\x200u;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.shadowInt'+'ensity\x20=\x20f'+'loat((clus'+'terLightDa'+'ta.flags\x20>'+'>\x200u)\x20&\x200x'+'FFu)\x20/\x20255'+'.0;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.cooki'+'eIntensity'+'\x20=\x20float(('+'clusterLig'+'htData.fla'+'gs\x20>>\x208u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0;\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sDynamic\x20='+'\x20(clusterL'+'ightData.f'+'lags\x20&\x20(1u'+'\x20<<\x2022u))\x20'+'!=\x200u;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.is'+'Lightmappe'+'d\x20=\x20(clust'+'erLightDat'+'a.flags\x20&\x20'+'(1u\x20<<\x2021u'+'))\x20!=\x200u;\x0a'+'}\x0a\x0avoid\x20de'+'codeCluste'+'rLightSpot'+'(inout\x20Clu'+'sterLightD'+'ata\x20cluste'+'rLightData'+')\x20{\x0a\x0a\x20\x20\x20\x20/'+'/\x20spot\x20lig'+'ht\x20cos\x20ang'+'les\x0a\x20\x20\x20\x20ve'+'c2\x20angles\x20'+'=\x20unpackHa'+'lf2x16(flo'+'atBitsToUi'+'nt(cluster'+'LightData.'+'anglesData'+'));\x0a\x20\x20\x20\x20cl'+'usterLight')+('Data.inner'+'ConeAngleC'+'os\x20=\x20angle'+'s.x;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20angl'+'es.y;\x0a}\x0a\x0av'+'oid\x20decode'+'ClusterLig'+'htOmniAtla'+'sViewport('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.omniAt'+'lasViewpor'+'t\x20=\x20sample'+'LightTextu'+'reF(cluste'+'rLightData'+',\x20{CLUSTER'+'_TEXTURE_P'+'ROJ_MAT_0}'+').xyz;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtAreaDat'+'a(inout\x20Cl'+'usterLight'+'Data\x20clust'+'erLightDat'+'a)\x20{\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.half'+'Width\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20{CLU'+'STER_TEXTU'+'RE_AREA_DA'+'TA_WIDTH})'+'.xyz;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.hal'+'fHeight\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData,\x20{C'+'LUSTER_TEX'+'TURE_AREA_'+'DATA_HEIGH'+'T}).xyz;\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightProje'+'ctionMatri'+'xData(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20m0\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData,\x20{CL'+'USTER_TEXT'+'URE_PROJ_M'+'AT_0});\x0a\x20\x20'+'\x20\x20vec4\x20m1\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'{CLUSTER_T'+'EXTURE_PRO'+'J_MAT_1});'+'\x0a\x20\x20\x20\x20vec4\x20'+'m2\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20{CLUSTE'+'R_TEXTURE_'+'PROJ_MAT_2'+'});\x0a\x20\x20\x20\x20ve'+'c4\x20m3\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight')+('Data,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_3});\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4('+'m0,\x20m1,\x20m2'+',\x20m3);\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtShadowD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20//\x20s'+'hadow\x20bias'+'es\x0a\x20\x20\x20\x20vec'+'2\x20biases\x20='+'\x20unpackHal'+'f2x16(floa'+'tBitsToUin'+'t(clusterL'+'ightData.b'+'iasesData)'+');\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.shadow'+'Bias\x20=\x20bia'+'ses.x;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.sh'+'adowNormal'+'Bias\x20=\x20bia'+'ses.y;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtCookieD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20extra'+'ct\x20channel'+'\x20mask\x20from'+'\x20flags\x0a\x20\x20\x20'+'\x20uint\x20cook'+'ieFlags\x20=\x20'+'(clusterLi'+'ghtData.fl'+'ags\x20>>\x2023u'+')\x20&\x200x0Fu;'+'\x20\x20//\x204bits'+',\x20each\x20bit'+'\x20enables\x20a'+'\x20channel\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'cookieChan'+'nelMask\x20=\x20'+'vec4(uvec4'+'(cookieFla'+'gs)\x20&\x20uvec'+'4(1u,\x202u,\x20'+'4u,\x208u));\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.cookieCha'+'nnelMask\x20='+'\x20step(1.0,'+'\x20clusterLi'+'ghtData.co'+'okieChanne'+'lMask);\x20\x20/'+'/\x20Normaliz'+'e\x20to\x200.0\x20o'+'r\x201.0\x0a}\x0a\x0av'+'oid\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20Cluster'+'LightData\x20'+'light,\x20\x0a\x20\x20'+'\x20\x20vec3\x20wor'+'ldNormal,\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'viewDir,\x20\x0a'+'\x20\x20\x20\x20vec3\x20r'+'eflectionD'+'ir,\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20vec3\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20')+('\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20mat3\x20tb'+'n,\x20\x0a#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20vec'+'3\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20vec3\x20cl'+'earcoat_wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20float'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20float\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce_intensi'+'ty\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20vec'+'3(1.0);\x0a\x20\x20'+'\x20\x20float\x20di'+'ffuseAtten'+'uation\x20=\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20fallof'+'fAttenuati'+'on\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20//\x20ev'+'aluate\x20omn'+'i\x20part\x20of\x20'+'the\x20light\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ightDirW\x20='+'\x20evalOmniL'+'ight(light'+'.position)'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'ormW\x20=\x20nor'+'malize(lig'+'htDirW);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_A'+'REALIGHTS\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'stance\x20att'+'enuation\x0a\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20!'+'=\x20{LIGHTSH'+'APE_PUNCTU'+'AL})\x20{\x20//\x20'+'area\x20light'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tAreaData('+'light);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'handle\x20lig'+'ht\x20shape\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcRectLig'+'htValues(l'+'ight.posit'+'ion,\x20light'+'.halfWidth'+',\x20light.ha'+'lfHeight);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcDiskLigh'+'tValues(li'+'ght.positi'+'on,\x20light.'+'halfWidth,'+'\x20light.hal'+'fHeight);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20')+('else\x20{\x20//\x20'+'sphere\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcSphereL'+'ightValues'+'(light.pos'+'ition,\x20lig'+'ht.halfWid'+'th,\x20light.'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20falloffA'+'ttenuation'+'\x20=\x20getFall'+'offWindow('+'light.rang'+'e,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.fallo'+'ffModeLine'+'ar)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fall'+'offAttenua'+'tion\x20=\x20get'+'FalloffLin'+'ear(light.'+'range,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20fallof'+'fAttenuati'+'on\x20=\x20getFa'+'lloffInvSq'+'uared(ligh'+'t.range,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20if\x20(fall'+'offAttenua'+'tion\x20>\x200.0'+'0001)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20CLUSTE'+'R_AREALIGH'+'TS\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'t.shape\x20!='+'\x20{LIGHTSHA'+'PE_PUNCTUA'+'L})\x20{\x20//\x20a'+'rea\x20light\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20hand'+'le\x20light\x20s'+'hape\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20diffuse'+'Attenuatio'+'n\x20=\x20getRec'+'tLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirW,\x20lig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(light.s'+'hape\x20==\x20{L'+'IGHTSHAPE_'+'DISK})\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20diffu'+'seAttenuat'+'ion\x20=\x20getD'+'iskLightDi'+'ffuse(worl'+'dNormal,\x20v'+'iewDir,\x20li'+'ghtDirW,\x20l'+'ightDirNor'+'mW)\x20*\x2016.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getSphereL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irW,\x20light'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fal'+'loffAttenu'+'ation\x20*=\x20g'+'etLightDif'+'fuse(world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+');\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spot'+'\x20light\x20fal'+'loff\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.isSpot)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtSpot(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20*=\x20'+'getSpotEff'+'ect(light.'+'direction,'+'\x20light.inn'+'erConeAngl'+'eCos,\x20ligh'+'t.outerCon'+'eAngleCos,'+'\x20lightDirN'+'ormW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_COOK'+'IES)\x20||\x20de'+'fined(CLUS'+'TER_SHADOW'+'S)\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(fall'+'offAttenua'+'tion\x20>\x200.0'+'0001)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20shadow'+'\x20/\x20cookie\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'t.shadowIn'+'tensity\x20>\x20'+'0.0\x20||\x20lig'+'ht.cookieI'+'ntensity\x20>'+'\x200.0)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'ared\x20shado'+'w\x20/\x20cookie'+'\x20data\x20depe'+'nds\x20on\x20lig'+'ht\x20type\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.isSpot'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20decode'+'ClusterLig'+'htProjecti'+'onMatrixDa'+'ta(light);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20deco'+'deClusterL'+'ightOmniAt'+'lasViewpor'+'t(light);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowAtlasPa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadowEdge'+'Pixels\x20=\x20s'+'hadowAtlas'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20CLUSTE'+'R_COOKIES\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'cookie\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.cookieI'+'ntensity\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20de'+'codeCluste'+'rLightCook'+'ieData(lig'+'ht);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.isSp'+'ot)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'cookieAtte'+'nuation\x20=\x20'+'getCookie2'+'DClustered'+'(TEXTURE_P'+'ASS(cookie'+'AtlasTextu'+'re),\x20light'+'Projection'+'Matrix,\x20vP'+'ositionW,\x20'+'light.cook'+'ieIntensit'+'y,\x20light.c'+'ookieChann'+'elMask);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20cookieAt'+'tenuation\x20'+'=\x20getCooki'+'eCubeClust'+'ered(TEXTU'+'RE_PASS(co'+'okieAtlasT'+'exture),\x20l'+'ightDirW,\x20'+'light.cook'+'ieIntensit'+'y,\x20light.c'+'ookieChann'+'elMask,\x20sh'+'adowTextur'+'eResolutio'+'n,\x20shadowE'+'dgePixels,'+'\x20light.omn'+'iAtlasView'+'port);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20CLUST'+'ER_SHADOWS'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20shadow\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.shadow'+'Intensity\x20'+'>\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d')+('ecodeClust'+'erLightSha'+'dowData(li'+'ght);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20shadowPa'+'rams\x20=\x20vec'+'4(shadowTe'+'xtureResol'+'ution,\x20lig'+'ht.shadowN'+'ormalBias,'+'\x20light.sha'+'dowBias,\x201'+'.0\x20/\x20light'+'.range);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(light.'+'isSpot)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ot\x20shadow\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(lightPro'+'jectionMat'+'rix,\x20shado'+'wParams,\x20g'+'eometricNo'+'rmal);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F1)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x20get'+'ShadowSpot'+'ClusteredP'+'CF1(SHADOW'+'MAP_PASS(s'+'hadowAtlas'+'Texture),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20de'+'fined(CLUS'+'TER_SHADOW'+'_TYPE_PCF3'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20shad'+'ow\x20=\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(SHADOWMA'+'P_PASS(sha'+'dowAtlasTe'+'xture),\x20sh'+'adowCoord,'+'\x20shadowPar'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#elif\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF5)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'\x20=\x20getShad'+'owSpotClus'+'teredPCF5('+'SHADOWMAP_'+'PASS(shado'+'wAtlasText'+'ure),\x20shad'+'owCoord,\x20s'+'hadowParam')+('s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCSS)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20shadow\x20='+'\x20getShadow'+'SpotCluste'+'redPCSS(SH'+'ADOWMAP_PA'+'SS(shadowA'+'tlasTextur'+'e),\x20shadow'+'Coord,\x20sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fal'+'loffAttenu'+'ation\x20*=\x20m'+'ix(1.0,\x20sh'+'adow,\x20ligh'+'t.shadowIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20om'+'ni\x20shadow\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20d'+'ir\x20=\x20norma'+'lOffsetPoi'+'ntShadow(s'+'hadowParam'+'s,\x20light.p'+'osition,\x20l'+'ightDirW,\x20'+'lightDirNo'+'rmW,\x20geome'+'tricNormal'+');\x20\x20//\x20nor'+'malBias\x20ad'+'justed\x20for'+'\x20distance\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'1)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dow\x20=\x20getS'+'hadowOmniC'+'lusteredPC'+'F1(SHADOWM'+'AP_PASS(sh'+'adowAtlasT'+'exture),\x20s'+'hadowParam'+'s,\x20light.o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20dir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF3)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowOm'+'niClustere'+'dPCF3(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20shadowPa'+'rams,\x20ligh'+'t.omniAtla'+'sViewport,')+('\x20shadowEdg'+'ePixels,\x20d'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF5)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20shadow\x20'+'=\x20getShado'+'wOmniClust'+'eredPCF5(S'+'HADOWMAP_P'+'ASS(shadow'+'AtlasTextu'+'re),\x20shado'+'wParams,\x20l'+'ight.omniA'+'tlasViewpo'+'rt,\x20shadow'+'EdgePixels'+',\x20dir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20*=\x20mix(1'+'.0,\x20shadow'+',\x20light.sh'+'adowIntens'+'ity);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'/\x20specular'+'\x20/\x20clearco'+'at\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_AREA'+'LIGHTS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.shap'+'e\x20!=\x20{LIGH'+'TSHAPE_PUN'+'CTUAL})\x20{\x20'+'//\x20area\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20diffuse\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20areaDi'+'ffuse\x20=\x20(d'+'iffuseAtte'+'nuation\x20*\x20'+'falloffAtt'+'enuation)\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_SP'+'ECULAR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaDiffuse\x20'+'=\x20mix(area'+'Diffuse,\x20v'+'ec3(0),\x20dL'+'TCSpecFres'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20area'+'\x20light\x20dif'+'fuse\x20-\x20it\x20'+'does\x20not\x20m'+'ix\x20diffuse'+'\x20lighting\x20')+('into\x20specu'+'lar\x20attenu'+'ation\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20a'+'reaDiffuse'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20and\x20clear'+'\x20coat\x20are\x20'+'material\x20s'+'ettings\x20an'+'d\x20get\x20incl'+'uded\x20by\x20a\x20'+'define\x20bas'+'ed\x20on\x20the\x20'+'material\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20area\x20ligh'+'t\x20specular'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20areaLig'+'htSpecular'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(light.s'+'hape\x20==\x20{L'+'IGHTSHAPE_'+'RECT})\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'reaLightSp'+'ecular\x20=\x20g'+'etRectLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20area'+'LightSpecu'+'lar\x20=\x20getD'+'iskLightSp'+'ecular(wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x20//\x20sp'+'here\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'ar\x20=\x20getSp'+'hereLightS'+'pecular(wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSpe'+'cularLight'+'\x20+=\x20dLTCSp'+'ecFres\x20*\x20a'+'reaLightSp'+'ecular\x20*\x20f'+'alloffAtte'+'nuation\x20*\x20'+'light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20spec'+'ular\x20clear'+'\x20coat\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20areaLigh'+'tSpecularC')+('C;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.shape\x20'+'==\x20{LIGHTS'+'HAPE_RECT}'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaLightSpe'+'cularCC\x20=\x20'+'getRectLig'+'htSpecular'+'(clearcoat'+'_worldNorm'+'al,\x20viewDi'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(light'+'.shape\x20==\x20'+'{LIGHTSHAP'+'E_DISK})\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'arCC\x20=\x20get'+'DiskLightS'+'pecular(cl'+'earcoat_wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x20'+'//\x20sphere\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaLi'+'ghtSpecula'+'rCC\x20=\x20getS'+'phereLight'+'Specular(c'+'learcoat_w'+'orldNormal'+',\x20viewDir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20+=\x20ccLTCS'+'pecFres\x20*\x20'+'areaLightS'+'pecularCC\x20'+'*\x20falloffA'+'ttenuation'+'\x20*\x20light.c'+'olor\x20\x20*\x20co'+'okieAttenu'+'ation;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20{\x20\x20\x20\x20//\x20'+'punctual\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20punctual\x20'+'light\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'unctualDif'+'fuse\x20=\x20fal'+'loffAttenu'+'ation\x20*\x20li'+'ght.color\x20'+'*\x20cookieAt'+'tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'CLUSTER_AR'+'EALIGHTS)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_SPECULAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20punctual')+('Diffuse\x20=\x20'+'mix(punctu'+'alDiffuse,'+'\x20vec3(0),\x20'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20punctu'+'alDiffuse;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'ar\x20and\x20cle'+'ar\x20coat\x20ar'+'e\x20material'+'\x20settings\x20'+'and\x20get\x20in'+'cluded\x20by\x20'+'a\x20define\x20b'+'ased\x20on\x20th'+'e\x20material'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20halfD'+'ir\x20=\x20norma'+'lize(-ligh'+'tDirNormW\x20'+'+\x20viewDir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ecular\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR_FRESNEL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20+=\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getLig'+'htSpecular'+'(halfDir,\x20'+'reflection'+'Dir,\x20world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+',\x20gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'viewDir,\x20h'+'alfDir),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecular('+'halfDir,\x20c'+'learcoatRe'+'flectionDi'+'r,\x20clearco'+'at_worldNo'+'rmal,\x20view'+'Dir,\x20light'+'DirNormW,\x20'+'clearcoat_'+'gloss,\x20tbn'+')\x20*\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation\x20*\x20g'+'etFresnelC'+'C(dot(view'+'Dir,\x20halfD'+'ir));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20+=\x20getLi'+'ghtSpecula'+'r(halfDir,'+'\x20clearcoat'+'Reflection'+'Dir,\x20clear'+'coat_world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+',\x20clearcoa'+'t_gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation;\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'HEEN\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sSpec')+('ularLight\x20'+'+=\x20getLigh'+'tSpecularS'+'heen(halfD'+'ir,\x20worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirNormW,'+'\x20sheen_glo'+'ss)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20Wri'+'te\x20to\x20glob'+'al\x20attenua'+'tion\x20value'+'s\x20(for\x20lig'+'htmapper)\x0a'+'\x20\x20\x20\x20dAtten'+'\x20=\x20falloff'+'Attenuatio'+'n;\x0a\x20\x20\x20\x20dLi'+'ghtDirNorm'+'W\x20=\x20lightD'+'irNormW;\x0a}'+'\x0a\x0avoid\x20eva'+'luateClust'+'erLight(\x0a\x20'+'\x20\x20\x20float\x20l'+'ightIndex,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20worldNorm'+'al,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20viewDi'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20reflect'+'ionDir,\x20\x0a#'+'if\x20defined'+'(LIT_CLEAR'+'COAT)\x0a\x20\x20\x20\x20'+'vec3\x20clear'+'coatReflec'+'tionDir,\x0a#'+'endif\x0a\x20\x20\x20\x20'+'float\x20glos'+'s,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20specula'+'rity,\x20\x0a\x20\x20\x20'+'\x20vec3\x20geom'+'etricNorma'+'l,\x20\x0a\x20\x20\x20\x20ma'+'t3\x20tbn,\x20\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x0a#en'+'dif\x0a\x20\x20\x20\x20ve'+'c3\x20clearco'+'at_worldNo'+'rmal,\x0a\x20\x20\x20\x20'+'float\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20flo'+'at\x20sheen_g'+'loss,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escence_in'+'tensity\x0a)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'decode\x20cor'+'e\x20light\x20da'+'ta\x20from\x20te'+'xtures\x0a\x20\x20\x20'+'\x20ClusterLi'+'ghtData\x20cl'+'usterLight'+'Data;\x0a\x20\x20\x20\x20'+'decodeClus'+'terLightCo'+'re(cluster'+'LightData,'+'\x20lightInde'+'x);\x0a\x0a\x20\x20\x20\x20/'+'/\x20evaluate'+'\x20light\x20if\x20'+'it\x20uses\x20ac'+'cepted\x20lig'+'ht\x20mask\x0a\x20\x20'+'\x20\x20#ifdef\x20C')+('LUSTER_MES'+'H_DYNAMIC_'+'LIGHTS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20bool\x20'+'acceptLigh'+'tMask\x20=\x20cl'+'usterLight'+'Data.isDyn'+'amic;\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20bool\x20a'+'cceptLight'+'Mask\x20=\x20clu'+'sterLightD'+'ata.isLigh'+'tmapped;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20if\x20(a'+'cceptLight'+'Mask)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clusterLi'+'ghtData,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vi'+'ewDir,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'reflection'+'Dir,\x20\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x20\x0a'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_worldNorm'+'al,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sheen'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a}\x0a\x0avoid'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20reflecti'+'onDir,\x20\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20v'+'ec3\x20clearc'+'oatReflect'+'ionDir,\x0a#e'+'ndif\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20mat'+'3\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a#end')+('if\x0a\x20\x20\x20\x20vec'+'3\x20clearcoa'+'t_worldNor'+'mal,\x0a\x20\x20\x20\x20f'+'loat\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20floa'+'t\x20sheen_gl'+'oss,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence_int'+'ensity\x0a)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'kip\x20lights'+'\x20if\x20no\x20lig'+'hts\x20at\x20all'+'\x0a\x20\x20\x20\x20if\x20(c'+'lusterSkip'+'\x20>\x200.5)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20positi'+'on\x20to\x203d\x20i'+'nteger\x20cel'+'l\x20cordinat'+'es\x20in\x20the\x20'+'cluster\x20st'+'ructure\x0a\x20\x20'+'\x20\x20vec3\x20cel'+'lCoords\x20=\x20'+'floor((vPo'+'sitionW\x20-\x20'+'clusterBou'+'ndsMin)\x20*\x20'+'clusterCel'+'lsCountByB'+'oundsSize)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'no\x20lightin'+'g\x20when\x20cel'+'l\x20coordina'+'te\x20is\x20out\x20'+'of\x20range\x0a\x20'+'\x20\x20\x20if\x20(!(a'+'ny(lessTha'+'n(cellCoor'+'ds,\x20vec3(0'+'.0)))\x20||\x20a'+'ny(greater'+'ThanEqual('+'cellCoords'+',\x20clusterC'+'ellsMax)))'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cell'+'\x20index\x20(ma'+'pping\x20from'+'\x203d\x20cell\x20c'+'oordinates'+'\x20to\x20linear'+'\x20memory)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20cellInd'+'ex\x20=\x20dot(c'+'lusterCell'+'sDot,\x20cell'+'Coords);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20convert\x20c'+'ell\x20index\x20'+'to\x20uv\x20coor'+'dinates\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20clusterV'+'\x20=\x20floor(c'+'ellIndex\x20*'+'\x20clusterTe'+'xtureSize.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20cl'+'usterU\x20=\x20c'+'ellIndex\x20-'+'\x20(clusterV'+'\x20*\x20cluster'+'TextureSiz'+'e.x);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20lo'+'op\x20over\x20ma'+'ximum\x20numb'+'er\x20of\x20ligh'+'t\x20cells\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20light'+'CellIndex\x20'+'=\x200;\x20light'+'CellIndex\x20'+'<\x20clusterM'+'axCells;\x20l'+'ightCellIn')+('dex++)\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20using'+'\x20a\x20single\x20'+'channel\x20te'+'xture\x20with'+'\x20data\x20in\x20r'+'ed\x20channel'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20l'+'ightIndex\x20'+'=\x20texelFet'+'ch(cluster'+'WorldTextu'+'re,\x20ivec2('+'int(cluste'+'rU)\x20+\x20ligh'+'tCellIndex'+',\x20clusterV'+'),\x200).x;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'tIndex\x20<=\x20'+'0.0)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20break;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20evaluateC'+'lusterLigh'+'t(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'ightIndex\x20'+'*\x20255.0,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20reflecti'+'onDir,\x0a#if'+'\x20defined(L'+'IT_CLEARCO'+'AT)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceFre'+'snel,\x0a#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'learcoat_w'+'orldNormal'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cl'+'earcoat_gl'+'oss,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sheen_glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),m1='\x0avec3\x20comb'+'ineColor(v'+'ec3\x20albedo'+',\x20vec3\x20she'+'enSpecular'+'ity,\x20float'+'\x20clearcoat'+'Specularit'+'y)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20ret\x20=\x20'+'vec3(0);\x0a#'+'ifdef\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20ret\x20'+'+=\x20(dDiffu'+'seLight\x20-\x20'+'light_glob'+'alAmbient)'+'\x20*\x20albedo\x20'+'+\x20material'+'_ambient\x20*'+'\x20light_glo'+'balAmbient'+';\x0a#else\x0a\x20\x20'+'\x20\x20ret\x20+=\x20a'+'lbedo\x20*\x20dD'+'iffuseLigh'+'t;\x0a#endif\x0a'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20ret\x20+='+'\x20dSpecular'+'Light;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_REFLE'+'CTIONS\x0a\x20\x20\x20'+'\x20ret\x20+=\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a;'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'float\x20shee'+'nScaling\x20='+'\x201.0\x20-\x20max'+'(max(sheen'+'Specularit'+'y.r,\x20sheen'+'Specularit'+'y.g),\x20shee'+'nSpeculari'+'ty.b)\x20*\x200.'+'157;\x0a\x20\x20\x20\x20r'+'et\x20=\x20ret\x20*'+'\x20sheenScal'+'ing\x20+\x20(sSp'+'ecularLigh'+'t\x20+\x20sRefle'+'ction.rgb)'+'\x20*\x20sheenSp'+'ecularity;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20float\x20c'+'learCoatSc'+'aling\x20=\x201.'+'0\x20-\x20ccFres'+'nel\x20*\x20clea'+'rcoatSpecu'+'larity;\x0a\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20clearC'+'oatScaling'+'\x20+\x20(ccSpec'+'ularLight\x20'+'+\x20ccReflec'+'tion)\x20*\x20cl'+'earcoatSpe'+'cularity;\x0a'+'#endif\x0a\x0a\x20\x20'+'\x20\x20return\x20r'+'et;\x0a}\x0a',_1='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blitT'+'exture;\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20texture'+'2D(blitTex'+'ture,\x20uv0)'+';\x0a\x20\x20\x20\x20}\x0a',g1='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'erCube\x20bli'+'tTexture;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20inv'+'ViewProj;\x0a'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20vec4('+'uv0\x20*\x202.0\x20'+'-\x201.0,\x200.5'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20worldPos\x20'+'=\x20invViewP'+'roj\x20*\x20proj'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20te'+'xtureCube('+'blitTextur'+'e,\x20worldPo'+'s.xyz);\x0a\x20\x20'+'\x20\x20}\x0a',S1='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uv0'+'.y\x20=\x201.0\x20-'+'\x20uv0.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20}\x0a',y1='\x0a//\x20light\x20'+'cookie\x20fun'+'ctionality'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0avec4'+'\x20getCookie'+'2D(sampler'+'2D\x20tex,\x20ma'+'t4\x20transfo'+'rm,\x20float\x20'+'intensity)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(v'+'PositionW,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'y\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'return\x20mix'+'(vec4(1.0)'+',\x20texture2'+'D(tex,\x20pro'+'jPos.xy),\x20'+'intensity)'+';\x0a}\x0a\x0avec4\x20'+'getCookie2'+'DClip(samp'+'ler2D\x20tex,'+'\x20mat4\x20tran'+'sform,\x20flo'+'at\x20intensi'+'ty)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20trans'+'form\x20*\x20vec'+'4(vPositio'+'nW,\x201.0);\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20/=\x20pr'+'ojPos.w;\x0a\x20'+'\x20\x20\x20if\x20(pro'+'jPos.x\x20<\x200'+'.0\x20||\x20proj'+'Pos.x\x20>\x201.'+'0\x20||\x20projP'+'os.y\x20<\x200.0'+'\x20||\x20projPo'+'s.y\x20>\x201.0\x20'+'||\x20projPos'+'.z\x20<\x200.0)\x20'+'return\x20vec'+'4(0.0);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(vec4(1.'+'0),\x20textur'+'e2D(tex,\x20p'+'rojPos.xy)'+',\x20intensit'+'y);\x0a}\x0a\x0avec'+'4\x20getCooki'+'e2DXform(s'+'ampler2D\x20t'+'ex,\x20mat4\x20t'+'ransform,\x20'+'float\x20inte'+'nsity,\x20vec'+'4\x20cookieMa'+'trix,\x20vec2'+'\x20cookieOff'+'set)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20proj'+'Pos\x20=\x20tran'+'sform\x20*\x20ve'+'c4(vPositi'+'onW,\x201.0);'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20/=\x20p'+'rojPos.w;\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20+=\x20co'+'okieOffset'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookie2D'+'ClipXform('+('sampler2D\x20'+'tex,\x20mat4\x20'+'transform,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieM'+'atrix,\x20vec'+'2\x20cookieOf'+'fset)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'jPos\x20=\x20tra'+'nsform\x20*\x20v'+'ec4(vPosit'+'ionW,\x201.0)'+';\x0a\x20\x20\x20\x20proj'+'Pos.xy\x20/=\x20'+'projPos.w;'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20+=\x20c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20if\x20'+'(projPos.x'+'\x20<\x200.0\x20||\x20'+'projPos.x\x20'+'>\x201.0\x20||\x20p'+'rojPos.y\x20<'+'\x200.0\x20||\x20pr'+'ojPos.y\x20>\x20'+'1.0\x20||\x20pro'+'jPos.z\x20<\x200'+'.0)\x20return'+'\x20vec4(0.0)'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookieCu'+'be(sampler'+'Cube\x20tex,\x20'+'mat4\x20trans'+'form,\x20floa'+'t\x20intensit'+'y)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'vec4(1.0),'+'\x20textureCu'+'be(tex,\x20dL'+'ightDirNor'+'mW\x20*\x20mat3('+'transform)'+'),\x20intensi'+'ty);\x0a}\x0a'),v1='\x0a\x0a#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20BOX\x0a\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20envBoxM'+'in;\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20envBoxMax'+';\x0a#endif\x0a\x0a'+'vec3\x20cubeM'+'apProject('+'vec3\x20nrdir'+')\x20{\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIT_CUB'+'EMAP_PROJE'+'CTION\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20c'+'ubeMapRota'+'te(nrdir);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20LIT_CUBEM'+'AP_PROJECT'+'ION\x20==\x20BOX'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'nrdir\x20=\x20cu'+'beMapRotat'+'e(nrdir);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20rbmax\x20'+'=\x20(envBoxM'+'ax\x20-\x20vPosi'+'tionW)\x20/\x20n'+'rdir;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20r'+'bmin\x20=\x20(en'+'vBoxMin\x20-\x20'+'vPositionW'+')\x20/\x20nrdir;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20rbmin'+'max\x20=\x20mix('+'rbmin,\x20rbm'+'ax,\x20vec3(g'+'reaterThan'+'(nrdir,\x20ve'+'c3(0.0))))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20fa\x20='+'\x20min(min(r'+'bminmax.x,'+'\x20rbminmax.'+'y),\x20rbminm'+'ax.z);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20posonbox\x20'+'=\x20vPositio'+'nW\x20+\x20nrdir'+'\x20*\x20fa;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'envBoxPos\x20'+'=\x20(envBoxM'+'in\x20+\x20envBo'+'xMax)\x20*\x200.'+'5;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20no'+'rmalize(po'+'sonbox\x20-\x20e'+'nvBoxPos);'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',x1='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20mat3\x20cu'+'beMapRotat'+'ionMatrix;'+'\x0a#endif\x0a\x0av'+'ec3\x20cubeMa'+'pRotate(ve'+'c3\x20refDir)'+'\x20{\x0a#ifdef\x20'+'CUBEMAP_RO'+'TATION\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ref'+'Dir;\x0a#endi'+'f\x0a}\x0a',T1='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0agl_FragCo'+'lor\x20=\x20vec4'+'(litArgs_a'+'lbedo\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_WORLD'+'_NORMAL_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(litArgs'+'_worldNorm'+'al\x20*\x200.5\x20+'+'\x200.5,\x201.0)'+';\x0a#endif\x0a\x0a'+'#ifdef\x20DEB'+'UG_OPACITY'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(vec3'+'(litArgs_o'+'pacity)\x20,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_SPE'+'CULARITY_P'+'ASS\x0agl_Fra'+'gColor\x20=\x20v'+'ec4(litArg'+'s_specular'+'ity,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_GLOSS_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(vec3(li'+'tArgs_glos'+'s)\x20,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_METALNES'+'S_PASS\x0agl_'+'FragColor\x20'+'=\x20vec4(vec'+'3(litArgs_'+'metalness)'+'\x20,\x201.0);\x0a#'+'endif\x0a\x0a#if'+'def\x20DEBUG_'+'AO_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ve'+'c3(litArgs'+'_ao)\x20,\x201.0'+');\x0a#endif\x0a'+'\x0a#ifdef\x20DE'+'BUG_EMISSI'+'ON_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ga'+'mmaCorrect'+'Output(lit'+'Args_emiss'+'ion),\x201.0)'+';\x0a#endif\x0a',w1='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0ali'+'tArgs_albe'+'do\x20=\x20vec3('+'0.5);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_UV0'+'_PASS\x0a#ifd'+'ef\x20VARYING'+'_VUV0\x0alitA'+'rgs_albedo'+'\x20=\x20vec3(vU'+'v0,\x200);\x0a#e'+'lse\x0alitArg'+'s_albedo\x20='+'\x20vec3(0);\x0a'+'#endif\x0a#en'+'dif\x0a',E1='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0avec3\x20'+'decodeLine'+'ar(vec4\x20ra'+'w)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw.'+'rgb;\x0a}\x0a\x0afl'+'oat\x20decode'+'Gamma(floa'+'t\x20raw)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow(raw,\x202'+'.2);\x0a}\x0a\x0ave'+'c3\x20decodeG'+'amma(vec3\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w(raw,\x20vec'+'3(2.2));\x0a}'+'\x0a\x0avec3\x20dec'+'odeGamma(v'+'ec4\x20raw)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(raw.'+'xyz,\x20vec3('+'2.2));\x0a}\x0a\x0a'+'vec3\x20decod'+'eRGBM(vec4'+'\x20raw)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20col'+'or\x20=\x20(8.0\x20'+'*\x20raw.a)\x20*'+'\x20raw.rgb;\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0av'+'ec3\x20decode'+'RGBP(vec4\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x20raw.rg'+'b\x20*\x20(-raw.'+'a\x20*\x207.0\x20+\x20'+'8.0);\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBE'+'(vec4\x20raw)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(raw.a\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec3(0.0'+',\x200.0,\x200.0'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20raw.xyz\x20*'+'\x20pow(2.0,\x20'+'raw.w\x20*\x2025'+'5.0\x20-\x20128.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0avec4\x20pa'+'ssThrough('+'vec4\x20raw)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20raw;\x0a}\x0a'+'\x0avec3\x20unpa'+'ckNormalXY'+'Z(vec4\x20nma'+'p)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20nmap'+'.xyz\x20*\x202.0'+'\x20-\x201.0;\x0a}\x0a'+'\x0avec3\x20unpa'+'ckNormalXY'+'(vec4\x20nmap'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20normal;'+'\x0a\x20\x20\x20\x20norma'+'l.xy\x20=\x20nma'+'p.wy\x20*\x202.0'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20normal.z'+'\x20=\x20sqrt(1.'+'0\x20-\x20clamp('+'dot(normal'+'.xy,\x20norma'+'l.xy),\x200.0'+',\x201.0));\x0a\x20'+'\x20\x20\x20return\x20'+'normal;\x0a}\x0a'+'\x0a#endif\x0a',b1='\x0a\x0a#ifndef\x20'+'_DETAILMOD'+'ES_INCLUDE'+'D_\x0a#define'+'\x20_DETAILMO'+'DES_INCLUD'+'ED_\x0a\x0avec3\x20'+'detailMode'+'_mul(vec3\x20'+'c1,\x20vec3\x20c'+'2)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20c1\x20*'+'\x20c2;\x0a}\x0a\x0ave'+'c3\x20detailM'+'ode_add(ve'+'c3\x20c1,\x20vec'+'3\x20c2)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'1\x20+\x20c2;\x0a}\x0a'+'\x0a//\x20https:'+'//en.wikip'+'edia.org/w'+'iki/Blend_'+'modes#Scre'+'en\x0avec3\x20de'+'tailMode_s'+'creen(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x201.0'+'\x20-\x20(1.0\x20-\x20'+'c1)*(1.0\x20-'+'\x20c2);\x0a}\x0a\x0a/'+'/\x20https://'+'en.wikiped'+'ia.org/wik'+'i/Blend_mo'+'des#Overla'+'y\x0avec3\x20det'+'ailMode_ov'+'erlay(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(1.0\x20-\x202.0'+'\x20*\x20(1.0\x20-\x20'+'c1)*(1.0\x20-'+'\x20c2),\x202.0\x20'+'*\x20c1\x20*\x20c2,'+'\x20step(c1,\x20'+'vec3(0.5))'+');\x0a}\x0a\x0avec3'+'\x20detailMod'+'e_min(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20min'+'(c1,\x20c2);\x0a'+'}\x0a\x0avec3\x20de'+'tailMode_m'+'ax(vec3\x20c1'+',\x20vec3\x20c2)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20max(c1'+',\x20c2);\x0a}\x0a\x0a'+'#endif\x0a',A1='\x0auniform\x20v'+'ec3\x20materi'+'al_diffuse'+';\x0a\x0a#ifdef\x20'+'STD_DIFFUS'+'EDETAIL_TE'+'XTURE\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'detailMode'+'sPS\x22\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20mate'+'rial_diffu'+'se.rgb;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_DIFFUS'+'E_TEXTURE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20albedoT'+'exture\x20=\x20{'+'STD_DIFFUS'+'E_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_DIF'+'FUSE_TEXTU'+'RE_NAME},\x20'+'{STD_DIFFU'+'SE_TEXTURE'+'_UV},\x20text'+'ureBias)).'+'{STD_DIFFU'+'SE_TEXTURE'+'_CHANNEL};'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSEDE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'albedoDeta'+'il\x20=\x20{STD_'+'DIFFUSEDET'+'AIL_TEXTUR'+'E_DECODE}('+'texture2DB'+'ias({STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_NAME},\x20{S'+'TD_DIFFUSE'+'DETAIL_TEX'+'TURE_UV},\x20'+'textureBia'+'s)).{STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20albedoT'+'exture\x20=\x20d'+'etailMode_'+'{STD_DIFFU'+'SEDETAIL_D'+'ETAILMODE}'+'(albedoTex'+'ture,\x20albe'+'doDetail);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAlbe'+'do\x20*=\x20albe'+'doTexture;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_DI'+'FFUSE_VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dAlbedo\x20*'+'=\x20gammaCor'+'rectInput('+'saturate(v'+'VertexColo'+'r.{STD_DIF'+'FUSE_VERTE'+'X_CHANNEL}'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',C1='\x0auniform\x20v'+'ec3\x20materi'+'al_emissiv'+'e;\x0auniform'+'\x20float\x20mat'+'erial_emis'+'siveIntens'+'ity;\x0a\x0avoid'+'\x20getEmissi'+'on()\x20{\x0a\x20\x20\x20'+'\x20dEmission'+'\x20=\x20materia'+'l_emissive'+'\x20*\x20materia'+'l_emissive'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_EMI'+'SSIVE_TEXT'+'URE\x0a\x20\x20\x20\x20dE'+'mission\x20*='+'\x20{STD_EMIS'+'SIVE_TEXTU'+'RE_DECODE}'+'(texture2D'+'Bias({STD_'+'EMISSIVE_T'+'EXTURE_NAM'+'E},\x20{STD_E'+'MISSIVE_TE'+'XTURE_UV},'+'\x20textureBi'+'as)).{STD_'+'EMISSIVE_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_EMISSI'+'VE_VERTEX\x0a'+'\x20\x20\x20\x20dEmiss'+'ion\x20*=\x20gam'+'maCorrectI'+'nput(satur'+'ate(vVerte'+'xColor.{ST'+'D_EMISSIVE'+'_VERTEX_CH'+'ANNEL}));\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',P1='\x0avec4\x20enco'+'deLinear(v'+'ec3\x20source'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'source,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeGa'+'mma(vec3\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(pow(s'+'ource\x20+\x200.'+'0000001,\x20v'+'ec3(1.0\x20/\x20'+'2.2)),\x201.0'+');\x0a}\x0a\x0avec4'+'\x20encodeRGB'+'M(vec3\x20sou'+'rce)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20result;'+'\x0a\x20\x20\x20\x20resul'+'t.rgb\x20=\x20po'+'w(source.r'+'gb,\x20vec3(0'+'.5));\x0a\x20\x20\x20\x20'+'result.rgb'+'\x20*=\x201.0\x20/\x20'+'8.0;\x0a\x0a\x20\x20\x20\x20'+'result.a\x20='+'\x20saturate('+'\x20max(\x20max('+'\x20result.r,'+'\x20result.g\x20'+'),\x20max(\x20re'+'sult.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20)\x20);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20ceil(res'+'ult.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x0a\x20\x20\x20\x20r'+'esult.rgb\x20'+'/=\x20result.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0avec4\x20'+'encodeRGBP'+'(vec3\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'//\x20convert'+'\x20incoming\x20'+'linear\x20to\x20'+'gamma(ish)'+'\x0a\x20\x20\x20\x20vec3\x20'+'gamma\x20=\x20po'+'w(source,\x20'+'vec3(0.5))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'the\x20maximu'+'m\x20componen'+'t\x20clamped\x20'+'to\x201..8\x0a\x20\x20'+'\x20\x20float\x20ma'+'xVal\x20=\x20min'+'(8.0,\x20max('+'1.0,\x20max(g'+'amma.x,\x20ma'+'x(gamma.y,'+'\x20gamma.z))'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20storage\x20'+'factor\x0a\x20\x20\x20'+'\x20float\x20v\x20='+'\x201.0\x20-\x20((m'+'axVal\x20-\x201.'+'0)\x20/\x207.0);'+'\x0a\x0a\x20\x20\x20\x20//\x20r'+'ound\x20the\x20v'+'alue\x20for\x20s'+'torage\x20in\x20'+'8bit\x20chann'+'el\x0a\x20\x20\x20\x20v\x20='+'\x20ceil(v\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(gamma\x20/'+'\x20(-v\x20*\x207.0'+'\x20+\x208.0),\x20v'+');\x20\x20\x20\x20\x0a}\x0a\x0a'+'vec4\x20encod'+'eRGBE(vec3'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20float'+('\x20maxVal\x20=\x20'+'max(source'+'.x,\x20max(so'+'urce.y,\x20so'+'urce.z));\x0a'+'\x20\x20\x20\x20if\x20(ma'+'xVal\x20<\x201e-'+'32)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec4(0,\x200'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20e\x20=\x20'+'ceil(log2('+'maxVal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec4('+'source\x20/\x20p'+'ow(2.0,\x20e)'+',\x20(e\x20+\x20128'+'.0)\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),M1='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20combin'+'eColor(lit'+'Args_albed'+'o,\x20litArgs'+'_sheen_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_sp'+'ecularity)'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20+=\x20lit'+'Args_emiss'+'ion;\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20=\x20ad'+'dFog(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20ton'+'eMap(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20gam'+'maCorrectO'+'utput(gl_F'+'ragColor.r'+'gb);\x0a',D1='\x0a\x0a#ifndef\x20'+'_ENVATLAS_'+'INCLUDED_\x0a'+'#define\x20_E'+'NVATLAS_IN'+'CLUDED_\x0a\x0a/'+'/\x20the\x20envA'+'tlas\x20is\x20fi'+'xed\x20at\x20512'+'\x20pixels.\x20e'+'very\x20equir'+'ect\x20is\x20gen'+'erated\x20wit'+'h\x201\x20pixel\x20'+'boundary.\x0a'+'const\x20floa'+'t\x20atlasSiz'+'e\x20=\x20512.0;'+'\x0aconst\x20flo'+'at\x20seamSiz'+'e\x20=\x201.0\x20/\x20'+'atlasSize;'+'\x0a\x0a//\x20map\x20a'+'\x20normalize'+'d\x20equirect'+'\x20UV\x20to\x20the'+'\x20given\x20rec'+'tangle\x20(ta'+'king\x201\x20pix'+'el\x20seam\x20in'+'to\x20account'+').\x0avec2\x20ma'+'pUv(vec2\x20u'+'v,\x20vec4\x20re'+'ct)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(mix(rect'+'.x\x20+\x20seamS'+'ize,\x20rect.'+'x\x20+\x20rect.z'+'\x20-\x20seamSiz'+'e,\x20uv.x),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mix('+'rect.y\x20+\x20s'+'eamSize,\x20r'+'ect.y\x20+\x20re'+'ct.w\x20-\x20sea'+'mSize,\x20uv.'+'y));\x0a}\x0a\x0a//'+'\x20map\x20a\x20nor'+'malized\x20eq'+'uirect\x20UV\x20'+'and\x20roughn'+'ess\x20level\x20'+'to\x20the\x20cor'+'rect\x20atlas'+'\x20rect.\x0avec'+'2\x20mapRough'+'nessUv(vec'+'2\x20uv,\x20floa'+'t\x20level)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20t\x20=\x201.0\x20/'+'\x20exp2(leve'+'l);\x0a\x20\x20\x20\x20re'+'turn\x20mapUv'+'(uv,\x20vec4('+'0,\x201.0\x20-\x20t'+',\x20t,\x20t\x20*\x200'+'.5));\x0a}\x0a\x0a/'+'/\x20map\x20shin'+'y\x20level\x20UV'+'\x0avec2\x20mapS'+'hinyUv(vec'+'2\x20uv,\x20floa'+'t\x20level)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20t\x20=\x201.0\x20/'+'\x20exp2(leve'+'l);\x0a\x20\x20\x20\x20re'+'turn\x20mapUv'+'(uv,\x20vec4('+'1.0\x20-\x20t,\x201'+'.0\x20-\x20t,\x20t,'+'\x20t\x20*\x200.5))'+';\x0a}\x0a\x0a#endi'+'f\x0a',I1='\x0a#ifdef\x20LI'+'T_SKYBOX_I'+'NTENSITY\x0a\x20'+'\x20\x20\x20uniform'+'\x20float\x20sky'+'boxIntensi'+'ty;\x0a#endif'+'\x0a\x0avec3\x20pro'+'cessEnviro'+'nment(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SKYBO'+'X_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20skybo'+'xIntensity'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or;\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',L1='\x0afloat\x20get'+'FalloffWin'+'dow(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20invRa'+'dius\x20=\x201.0'+'\x20/\x20lightRa'+'dius;\x0a\x20\x20\x20\x20'+'return\x20squ'+'are(satura'+'te(1.0\x20-\x20s'+'quare(sqrD'+'ist\x20*\x20squa'+'re(invRadi'+'us))));\x0a}\x0a'+'\x0afloat\x20get'+'FalloffInv'+'Squared(fl'+'oat\x20lightR'+'adius,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20sqrDis'+'t\x20=\x20dot(li'+'ghtDir,\x20li'+'ghtDir);\x0a\x20'+'\x20\x20\x20float\x20f'+'alloff\x20=\x201'+'.0\x20/\x20(sqrD'+'ist\x20+\x201.0)'+';\x0a\x20\x20\x20\x20floa'+'t\x20invRadiu'+'s\x20=\x201.0\x20/\x20'+'lightRadiu'+'s;\x0a\x0a\x20\x20\x20\x20fa'+'lloff\x20*=\x201'+'6.0;\x0a\x20\x20\x20\x20f'+'alloff\x20*=\x20'+'square(sat'+'urate(1.0\x20'+'-\x20square(s'+'qrDist\x20*\x20s'+'quare(invR'+'adius))));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20falloff'+';\x0a}\x0a',R1='\x0afloat\x20get'+'FalloffLin'+'ear(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20length'+'(lightDir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20max(((l'+'ightRadius'+'\x20-\x20d)\x20/\x20li'+'ghtRadius)'+',\x200.0);\x0a}\x0a',O1='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x0ave'+'c4\x20float2u'+'int(float\x20'+'value)\x20{\x0a\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20fl'+'oatBitsToU'+'int(value)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20vec4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((intBit'+'s\x20>>\x2024u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((intBits'+'\x20>>\x2016u)\x20&'+'\x200xFFu)\x20/\x20'+'255.0,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'((intBits\x20'+'>>\x208u)\x20&\x200'+'xFFu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(i'+'ntBits\x20&\x200'+'xFFu)\x20/\x2025'+'5.0\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0a//\x20dec'+'ode\x20RGBA8\x20'+'value\x20to\x20f'+'loat\x0afloat'+'\x20uint2floa'+'t(vec4\x20val'+'ue)\x20{\x0a\x20\x20\x20\x20'+'uint\x20intBi'+'ts\x20=\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20(uint('+'value.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(value.g\x20*'+'\x20255.0)\x20<<'+'\x2016u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20(uin'+'t(value.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uint'+'(value.a\x20*'+'\x20255.0);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20uintBitsT'+'oFloat(int'+'Bits);\x0a}\x0a\x0a'+'//\x20store\x20a'+'\x20single\x20fl'+'oat\x20value\x20'+'in\x20vec4,\x20a'+'ssuming\x20ei'+'ther\x20RGBA8'+'\x20or\x20float\x20'+'renderable'+'\x20texture\x0av'+'ec4\x20float2'+'vec4(float'+'\x20value)\x20{\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(CAPS'+'_TEXTURE_F'+'LOAT_RENDE'+'RABLE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4(val'+'ue,\x201.0,\x201'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20float'+'2uint(valu'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0a#e'+'ndif\x20//\x20FL'+'OAT_AS_UIN'+'T\x0a',F1='\x0a\x0afloat\x20dB'+'lendModeFo'+'gFactor\x20=\x20'+'1.0;\x0a\x0a#if\x20'+'(FOG\x20!=\x20NO'+'NE)\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20fog_color'+';\x0a\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20f'+'og_start;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20fog_end;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20fog_den'+'sity;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afloat'+'\x20getFogFac'+'tor()\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'epth\x20=\x20gl_'+'FragCoord.'+'z\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20float\x20'+'fogFactor\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20#if\x20(FOG'+'\x20==\x20LINEAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fogFactor\x20'+'=\x20(fog_end'+'\x20-\x20depth)\x20'+'/\x20(fog_end'+'\x20-\x20fog_sta'+'rt);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fogF'+'actor\x20=\x20ex'+'p(-depth\x20*'+'\x20fog_densi'+'ty);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP2)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fog'+'Factor\x20=\x20e'+'xp(-depth\x20'+'*\x20depth\x20*\x20'+'fog_densit'+'y\x20*\x20fog_de'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(fog'+'Factor,\x200.'+'0,\x201.0);\x0a}'+'\x0a\x0avec3\x20add'+'Fog(vec3\x20c'+'olor)\x20{\x0a\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'fog_color\x20'+'*\x20dBlendMo'+'deFogFacto'+'r,\x20color,\x20'+'getFogFact'+'or());\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',N1='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0ave'+'c3\x20getFres'+'nel(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20c'+'osTheta,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20specu'+'larity\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a\x20\x20\x20\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20fresnel\x20'+'=\x20pow(1.0\x20'+'-\x20saturate'+'(cosTheta)'+',\x205.0);\x0a\x20\x20'+'\x20\x20float\x20gl'+'ossSq\x20=\x20gl'+'oss\x20*\x20glos'+'s;\x0a\x20\x20\x20\x20vec'+'3\x20ret\x20=\x20sp'+'ecularity\x20'+'+\x20(max(vec'+'3(glossSq)'+',\x20specular'+'ity)\x20-\x20spe'+'cularity)\x20'+'*\x20fresnel;'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20return'+'\x20mix(ret,\x20'+'iridescenc'+'eFresnel,\x20'+'iridescenc'+'eIntensity'+');\x0a#else\x0a\x20'+'\x20\x20\x20return\x20'+'ret;\x0a#endi'+'f\x20\x20\x20\x20\x0a}\x0a\x0af'+'loat\x20getFr'+'esnelCC(fl'+'oat\x20cosThe'+'ta)\x20{\x0a\x20\x20\x20\x20'+'float\x20fres'+'nel\x20=\x20pow('+'1.0\x20-\x20satu'+'rate(cosTh'+'eta),\x205.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x200.04\x20+\x20'+'(1.0\x20-\x200.0'+'4)\x20*\x20fresn'+'el;\x0a}\x0a',k1='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0avaryin'+'g\x20vec2\x20vUv'+'0;\x0a\x0avoid\x20m'+'ain(void)\x0a'+'{\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'vec4(verte'+'x_position'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20vUv'+'0\x20=\x20vertex'+'_position.'+'xy\x20*\x200.5\x20+'+'\x200.5;\x0a}\x0a',U1='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(color)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ga'+'mmaCorrect'+'Input(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGamma(col'+'or);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20gammaCorr'+'ectInput(v'+'ec4\x20color)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4(decodeG'+'amma(color'+'.xyz),\x20col'+'or.w);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20gammaCo'+'rrectOutpu'+'t(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20pow(color'+'\x20+\x200.00000'+'01,\x20vec3(1'+'.0\x20/\x202.2))'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'else\x20//\x20NO'+'NE\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectInp'+'ut(vec3\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20gamma'+'CorrectInp'+'ut(vec4\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectOut'+'put(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20color;\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a',B1='\x0a#ifdef\x20ST'+'D_GLOSS_CO'+'NSTANT\x0auni'+'form\x20float'+'\x20material_'+'gloss;\x0a#en'+'dif\x0a\x0avoid\x20'+'getGlossin'+'ess()\x20{\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_GLO'+'SS_CONSTAN'+'T\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20*='+'\x20material_'+'gloss;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_GLOSS_'+'TEXTURE\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20*=\x20tex'+'ture2DBias'+'({STD_GLOS'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_GLOSS_TE'+'XTURE_UV},'+'\x20textureBi'+'as).{STD_G'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_VERT'+'EX\x0a\x20\x20\x20\x20dGl'+'ossiness\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.{STD_G'+'LOSS_VERTE'+'X_CHANNEL}'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_INVE'+'RT\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x201.0\x20-\x20dGl'+'ossiness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20+='+'\x200.0000001'+';\x0a}\x0a',z1='\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tion;\x0a\x0a//\x20'+'project\x20th'+'e\x20model\x20sp'+'ace\x20gaussi'+'an\x20center\x20'+'to\x20view\x20an'+'d\x20clip\x20spa'+'ce\x0abool\x20in'+'itCenter(v'+'ec3\x20modelC'+'enter,\x20out'+'\x20SplatCent'+'er\x20center)'+'\x20{\x0a\x20\x20\x20\x20mat'+'4\x20modelVie'+'w\x20=\x20matrix'+'_view\x20*\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20vec4'+'\x20centerVie'+'w\x20=\x20modelV'+'iew\x20*\x20vec4'+'(modelCent'+'er,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly\x20out\x20if'+'\x20splat\x20is\x20'+'behind\x20the'+'\x20camera\x0a\x20\x20'+'\x20\x20if\x20(cent'+'erView.z\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20false;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20cent'+'erProj\x20=\x20m'+'atrix_proj'+'ection\x20*\x20c'+'enterView;'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nsure\x20gaus'+'sians\x20are\x20'+'not\x20clippe'+'d\x20by\x20camer'+'a\x20near\x20and'+'\x20far\x0a\x20\x20\x20\x20#'+'if\x20WEBGPU\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ce'+'nterProj.z'+'\x20=\x20clamp(c'+'enterProj.'+'z,\x200,\x20abs('+'centerProj'+'.w));\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20center'+'Proj.z\x20=\x20c'+'lamp(cente'+'rProj.z,\x20-'+'abs(center'+'Proj.w),\x20a'+'bs(centerP'+'roj.w));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20cente'+'r.view\x20=\x20c'+'enterView.'+'xyz\x20/\x20cent'+'erView.w;\x0a'+'\x20\x20\x20\x20center'+'.proj\x20=\x20ce'+'nterProj;\x0a'+'\x20\x20\x20\x20center'+'.projMat00'+'\x20=\x20matrix_'+'projection'+'[0][0];\x0a\x20\x20'+'\x20\x20center.m'+'odelView\x20='+'\x20modelView'+';\x0a\x20\x20\x20\x20retu'+'rn\x20true;\x0a}'+'\x0a',V1='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latColor;\x0a'+'\x0a//\x20:\x200'+'.0\x20~\x201.0\x20'+'\x0afl'+'oat\x20comput'+'eAlpha(flo'+'at\x20muT,\x20fl'+'oat\x20uTime,'+'\x20float\x20uFa'+'deSpeed,\x20f'+'loat\x20life)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20age\x20=\x20('+'uTime\x20-\x20mu'+'T)\x20*\x202.0;\x20'+'//\x20'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'muT\x20>\x20uTim'+'e)\x20return\x20'+'0.0;\x0a\x0a\x20\x20\x20\x20'+'//\x20---\x20'+'\x20life\x20'+'---\x0a\x20\x20\x20\x20fl'+'oat\x20linear'+'Fade\x20=\x201.0'+'\x20-\x20age\x20/\x20l'+'ife;\x0a\x20\x20\x20\x20/'+'/\x20---\x20'+'\x20uFadeS'+'peed\x20---\x0a\x20'+'\x20\x20\x20float\x20e'+'xpFade\x20=\x20e'+'xp(-age\x20*\x20'+'uFadeSpeed'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20cl'+'amp(linear'+'Fade,\x200.0,'+'\x201.0);\x20\x0a\x20\x20'+'\x20\x20return\x20c'+'lamp(expFa'+'de,\x200.0,\x201'+'.0);\x0a}\x0a\x0a\x0av'+'ec4\x20readCo'+'lor(in\x20Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20uTime,\x20'+'bool\x20plusA'+',\x20int\x20poin'+'tCloudMode'+'Enabled)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'color\x20=\x20te'+'xelFetch(s'+'platColor,'+'\x20source.uv'+',\x200);\x0a\x20\x20\x20\x20'+'#ifdef\x20IS_'+'4D\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20tDat'+'a\x20=\x20texelF'+'etch(trans'+'formLifecy'+'cle,\x20sourc'+'e.uv,\x200).x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20muT'+'\x20=\x20tData.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20saveA'+'\x20=\x20pointCl'+'oudModeEna'+'bled\x20==\x201\x20'+'?\x201.0\x20:\x20co'+'lor.a;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20alpha\x20=\x20s'+'aveA;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(uOp'+'enAnim\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20alp'+'ha\x20=\x20alpha'+'\x20*\x20(muT\x20-\x20'+'uTime\x20+\x200.'+'05);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20age\x20=\x20u'+'Time\x20-\x20muT'+';\x20\x20\x20\x20//\x20'+'\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20uFad'+'eSpeed\x20=\x202'+('.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20life\x20=\x200'+'.1;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20alph'+'a\x20=\x20comput'+'eAlpha(muT'+',\x20uTime,\x20u'+'FadeSpeed,'+'\x20life);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'alpha\x20*=\x20a'+'lpha;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'olor.a\x20=\x20p'+'lusA\x20?\x20alp'+'ha\x20:\x20saveA'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20ret'+'urn\x20color;'+'\x0a}\x0a\x0a'),G1='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20uint\x20o'+'rder;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20uint\x20i'+'d;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'ivec2\x20uv;\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20vec2'+'\x20cornerUV;'+'\x20\x20\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a};\x0a'+'\x0a//\x20stores'+'\x20the\x20camer'+'a\x20and\x20clip'+'\x20space\x20pos'+'ition\x20of\x20t'+'he\x20gaussia'+'n\x20center\x0as'+'truct\x20Spla'+'tCenter\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iew;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cen'+'ter\x20in\x20vie'+'w\x20space\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'j;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'mat4\x20model'+'View;\x20\x20\x20\x20\x20'+'//\x20model-v'+'iew\x20matrix'+'\x0a\x20\x20\x20\x20float'+'\x20projMat00'+';\x20\x20\x20\x20//\x20el'+'ement\x20[0]['+'0]\x20of\x20the\x20'+'projection'+'\x20matrix\x0a};'+'\x0a\x0a//\x20store'+'s\x20the\x20offs'+'et\x20from\x20ce'+'nter\x20for\x20t'+'he\x20current'+'\x20gaussian\x0a'+'struct\x20Spl'+'atCorner\x20{'+'\x0a\x20\x20\x20\x20vec2\x20'+'offset;\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'rner\x20offse'+'t\x20from\x20cen'+'ter\x20in\x20cli'+'p\x20space\x0a\x20\x20'+'\x20\x20vec2\x20uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20aaF'+'actor;\x20//\x20'+'for\x20scenes'+'\x20generated'+'\x20with\x20anti'+'aliasing\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20vec2\x20'+'v;\x0a\x20\x20\x20\x20flo'+'at\x20dlen;\x0a\x20'+'\x20\x20\x20vec2\x20cS'+'ize;\x0a\x20\x20\x20\x20v'+'ec2\x20cUV;\x0a}'+';\x0a\x0a#includ'+'e\x20\x22gsplatE'+'valSHVS\x22\x0a#'+'include\x20\x22g'+'splatQuatT'+'oMat3VS\x22\x0a\x0a'+'#if\x20GSPLAT'+'_COMPRESSE'+('D_DATA\x20==\x20'+'true\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatCompr'+'essedDataV'+'S\x22\x0a\x20\x20\x20\x20#if'+'\x20SH_COEFFS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatC'+'ompressedS'+'HVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a#eli'+'f\x20GSPLAT_S'+'OGS_DATA\x20='+'=\x20true\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22gsplatSog'+'sDataVS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsColorVS'+'\x22\x0a\x20\x20\x20\x20#if\x20'+'SH_COEFFS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSo'+'gsSHVS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a#'+'else\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latColorVS'+'\x22\x0a\x20\x20\x20\x20#if\x20'+'SH_COEFFS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSH'+'VS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a#endi'+'f\x0a\x0a#includ'+'e\x20\x22gsplatS'+'ourceVS\x22\x0a#'+'include\x20\x22g'+'splatCente'+'rVS\x22\x0a#incl'+'ude\x20\x22gspla'+'tCornerVS\x22'+'\x0a#include\x20'+'\x22gsplatOut'+'putVS\x22\x0a\x0a//'+'\x20modify\x20th'+'e\x20gaussian'+'\x20corner\x20so'+'\x20it\x20exclud'+'es\x20gaussia'+'n\x20regions\x20'+'with\x20alpha'+'\x20less\x20than'+'\x201/255\x0avoi'+'d\x20clipCorn'+'er(inout\x20S'+'platCorner'+'\x20corner,\x20f'+'loat\x20alpha'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20clip\x20='+'\x20min(1.0,\x20'+'sqrt(-log('+'1.0\x20/\x20255.'+'0\x20/\x20alpha)'+')\x20/\x202.0);\x0a'+'\x20\x20\x20\x20corner'+'.offset\x20*='+'\x20clip;\x0a\x20\x20\x20'+'\x20corner.uv'+'\x20*=\x20clip;\x0a'+'}\x0a'),H1='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTimeText'+'ure;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20c'+'hunkTextur'+'e;\x0a\x0a//\x20wor'+'k\x20values\x0av'+'ec4\x20chunkD'+'ataA;\x20\x20\x20\x20/'+'/\x20x:\x20min_x'+',\x20y:\x20min_y'+',\x20z:\x20min_z'+',\x20w:\x20max_x'+'\x0avec4\x20chun'+'kDataB;\x20\x20\x20'+'\x20//\x20x:\x20max'+'_y,\x20y:\x20max'+'_z,\x20z:\x20sca'+'le_min_x,\x20'+'w:\x20scale_m'+'in_y\x0avec4\x20'+'chunkDataC'+';\x20\x20\x20\x20//\x20x:'+'\x20scale_min'+'_z,\x20y:\x20sca'+'le_max_x,\x20'+'z:\x20scale_m'+'ax_y,\x20w:\x20s'+'cale_max_z'+'\x0avec4\x20chun'+'kDataD;\x20\x20\x20'+'\x20//\x20x:\x20min'+'_r,\x20y:\x20min'+'_g,\x20z:\x20min'+'_b,\x20w:\x20max'+'_r\x0avec4\x20ch'+'unkDataE;\x20'+'\x20\x20\x20//\x20x:\x20m'+'ax_g,\x20y:\x20m'+'ax_b,\x20z:\x20m'+'in_motion_'+'x,\x20w:\x20min_'+'motion_y\x0av'+'ec4\x20chunkD'+'ataF;\x20\x20\x20\x20/'+'/\x20x:\x20min_m'+'otion_z,\x20y'+':\x20max_moti'+'on_x,\x20z:\x20m'+'ax_motion_'+'y,\x20w:\x20max_'+'motion_z\x0av'+'ec4\x20chunkD'+'ataT;\x20\x20\x20\x20/'+'/\x20x:\x20min_t'+'ime,\x20y:\x20ma'+'x_time,\x20z:'+'\x20min_time_'+'scale,\x20w:\x20'+'max_time_s'+'cale\x0auvec4'+'\x20packedDat'+'a;\x20\x20\x20//\x20x:'+'\x20position\x20'+'bits,\x20y:\x20r'+'otation\x20bi'+'ts,\x20z:\x20sca'+'le\x20bits,\x20w'+':\x20color\x20bi'+'ts\x0auvec2\x20p'+'ackedT;\x20\x20\x20'+'//\x20x:\x20moti'+'on\x20bits(x,'+'\x20y,\x20z),\x20y:'+'\x20time\x20bits'+'(t_scale,\x20'+'t,\x20unused)'+'\x0a\x0a//\x20tool\x20'+'for\x20comput'+'e\x20Marginal'+'\x20time\x0afloa'+'t\x20computeM'+'arginalT(f'+'loat\x20time,'+'\x20float\x20muT'+',\x20float\x20si'+'gmaT)\x20{\x0a\x20\x20'+'\x20\x20if\x20(muT\x20'+'<=\x20-10.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20float\x20re'+('sult\x20=\x20exp'+'(-0.5\x20*\x20(p'+'ow((time\x20-'+'\x20muT),\x202.0'+')\x20/\x20pow(si'+'gmaT,\x202.0)'+'));\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0avec3'+'\x20unpack111'+'011(uint\x20b'+'its)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float(bi'+'ts\x20>>\x2021u)'+'\x20/\x202047.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((bits'+'\x20>>\x2011u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at(bits\x20&\x20'+'0x7ffu)\x20/\x20'+'2047.0\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'4\x20unpack88'+'88(uint\x20bi'+'ts)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float(bit'+'s\x20>>\x2024u)\x20'+'/\x20255.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((bits\x20>'+'>\x2016u)\x20&\x200'+'xffu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(('+'bits\x20>>\x208u'+')\x20&\x200xffu)'+'\x20/\x20255.0,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat(bits\x20&'+'\x200xffu)\x20/\x20'+'255.0\x0a\x20\x20\x20\x20'+');\x0a}\x0a\x0acons'+'t\x20float\x20no'+'rm\x20=\x201.0\x20/'+'\x20(sqrt(2.0'+')\x20*\x200.5);\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20a\x20=\x20(f'+'loat((bits'+'\x20>>\x2020u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0\x20-\x20'+'0.5)\x20*\x20nor'+'m;\x0a\x20\x20\x20\x20flo'+'at\x20b\x20=\x20(fl'+'oat((bits\x20'+'>>\x2010u)\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20(flo'+'at(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x20sqrt'+'(1.0\x20-\x20(a\x20'+'*\x20a\x20+\x20b\x20*\x20'+'b\x20+\x20c\x20*\x20c)'+');\x0a\x0a\x20\x20\x20\x20ui'+'nt\x20mode\x20=\x20'+'bits\x20>>\x2030'+'u;\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x200'+'u)\x20return\x20'+'vec4(m,\x20a,'+'\x20b,\x20c);\x0a\x20\x20'+'\x20\x20if\x20(mode'+'\x20==\x201u)\x20re'+'turn\x20vec4('+'a,\x20m,\x20b,\x20c'+');\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x202'+'u)\x20return\x20'+'vec4(a,\x20b,'+'\x20m,\x20c);\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4(a,\x20b,\x20')+('c,\x20m);\x0a}\x0a\x0a'+'\x0a//\x20read\x20c'+'enter\x0avec3'+'\x20readCente'+'r(SplatSou'+'rce\x20source'+')\x20{\x0a\x20\x20\x20\x20ui'+'nt\x20w\x20=\x20uin'+'t(textureS'+'ize(chunkT'+'exture,\x200)'+'.x)\x20/\x205u;\x0a'+'\x20\x20\x20\x20uint\x20c'+'hunkId\x20=\x20s'+'ource.id\x20/'+'\x20256u;\x0a\x20\x20\x20'+'\x20ivec2\x20chu'+'nkUV\x20=\x20ive'+'c2((chunkI'+'d\x20%\x20w)\x20*\x205'+'u,\x20chunkId'+'\x20/\x20w);\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'chunk\x20and\x20'+'packed\x20com'+'pressed\x20da'+'ta\x0a\x20\x20\x20\x20chu'+'nkDataA\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV,\x200);\x0a\x20\x20'+'\x20\x20chunkDat'+'aB\x20=\x20texel'+'Fetch(chun'+'kTexture,\x20'+'chunkUV\x20+\x20'+'ivec2(1,\x200'+'),\x200);\x0a\x20\x20\x20'+'\x20chunkData'+'C\x20=\x20texelF'+'etch(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20i'+'vec2(2,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataD'+'\x20=\x20texelFe'+'tch(chunkT'+'exture,\x20ch'+'unkUV\x20+\x20iv'+'ec2(3,\x200),'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataE\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(4,\x200),\x20'+'0);\x0a\x20\x20\x20\x20pa'+'ckedData\x20='+'\x20texelFetc'+'h(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ch'+'unkDataA.x'+'yz,\x20vec3(c'+'hunkDataA.'+'w,\x20chunkDa'+'taB.xy),\x20u'+'npack11101'+'1(packedDa'+'ta.x));\x0a}\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'r\x20=\x20unpack'+'8888(packe'+'dData.w);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(mix('+'chunkDataD'+'.xyz,\x20vec3'+'(chunkData'+'D.w,\x20chunk'+'DataE.xy),'+'\x20r.rgb),\x20r'+'.w);\x0a}\x0a\x0ave'+'c4\x20getRota'+'tion()\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'unpackRota'+'tion(packe'+'dData.y);\x0a'+'}\x0a\x0avec3\x20ge'+'tScale()\x20{')+('\x0a\x20\x20\x20\x20retur'+'n\x20exp(mix('+'vec3(chunk'+'DataB.zw,\x20'+'chunkDataC'+'.x),\x20chunk'+'DataC.yzw,'+'\x20unpack111'+'011(packed'+'Data.z)));'+'\x0a}\x0a\x0a//\x20giv'+'en\x20a\x20rotat'+'ion\x20matrix'+'\x20and\x20scale'+'\x20vector,\x20c'+'ompute\x203d\x20'+'covariance'+'\x20A\x20and\x20B\x0av'+'oid\x20readCo'+'variance(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20covA,\x20out'+'\x20vec3\x20covB'+')\x20{\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'getRotatio'+'n());\x0a\x20\x20\x20\x20'+'vec3\x20scale'+'\x20=\x20getScal'+'e();\x0a\x0a\x20\x20\x20\x20'+'//\x20M\x20=\x20S\x20*'+'\x20R\x0a\x20\x20\x20\x20mat'+'3\x20M\x20=\x20tran'+'spose(mat3'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'scale.x\x20*\x20'+'rot[0],\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20scal'+'e.y\x20*\x20rot['+'1],\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale.z\x20'+'*\x20rot[2]\x0a\x20'+'\x20\x20\x20));\x0a\x0a\x20\x20'+'\x20\x20covA\x20=\x20v'+'ec3(dot(M['+'0],\x20M[0]),'+'\x20dot(M[0],'+'\x20M[1]),\x20do'+'t(M[0],\x20M['+'2]));\x0a\x20\x20\x20\x20'+'covB\x20=\x20vec'+'3(dot(M[1]'+',\x20M[1]),\x20d'+'ot(M[1],\x20M'+'[2]),\x20dot('+'M[2],\x20M[2]'+'));\x0a}\x0a\x0aflo'+'at\x20getMarg'+'inalT(in\x20S'+'platSource'+'\x20source,\x20i'+'n\x20float\x20ti'+'me)\x20{\x0a\x20\x20\x20\x20'+'float\x20marg'+'inal\x20=\x201.0'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20IS_4D\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20chu'+'nkDataT\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(6,\x200),\x200)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'packedT\x20=\x20'+'texelFetch'+'(packedTim'+'eTexture,\x20'+'source.uv,'+'\x200).xy;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20timeData\x20'+'=\x20mix(vec3'+'(chunkData'+'T.z,\x20chunk'+'DataT.x,\x200'+'),\x20vec3(ch'+'unkDataT.w'+',\x20chunkDat'+'aT.y,\x201),\x20'+'unpack1110'+'11(packedT'+'.y));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'tScale\x20=\x20e'+'xp(timeDat')+('a.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'muT\x20=\x20time'+'Data.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20marg'+'inal\x20=\x20com'+'puteMargin'+'alT(time,\x20'+'muT,\x20tScal'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20r'+'eturn\x20marg'+'inal;\x0a}\x0a\x0av'+'ec3\x20readCe'+'nter4D(Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20time)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(chunkText'+'ure,\x200).x)'+'\x20/\x207u;\x0a\x20\x20\x20'+'\x20uint\x20chun'+'kId\x20=\x20sour'+'ce.id\x20/\x2025'+'6u;\x0a\x20\x20\x20\x20iv'+'ec2\x20chunkU'+'V\x20=\x20ivec2('+'(chunkId\x20%'+'\x20w)\x20*\x207u,\x20'+'chunkId\x20/\x20'+'w);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20chu'+'nk\x20and\x20pac'+'ked\x20compre'+'ssed\x20data\x0a'+'\x20\x20\x20\x20chunkD'+'ataA\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV,'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataB\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(1,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataC\x20='+'\x20texelFetc'+'h(chunkTex'+'ture,\x20chun'+'kUV\x20+\x20ivec'+'2(2,\x200),\x200'+');\x0a\x20\x20\x20\x20chu'+'nkDataD\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(3,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataE\x20=\x20t'+'exelFetch('+'chunkTextu'+'re,\x20chunkU'+'V\x20+\x20ivec2('+'4,\x200),\x200);'+'\x0a\x20\x20\x20\x20chunk'+'DataF\x20=\x20te'+'xelFetch(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20ivec2(5'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataT\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV\x20'+'+\x20ivec2(6,'+'\x200),\x200);\x0a\x20'+'\x20\x20\x20packedD'+'ata\x20=\x20texe'+'lFetch(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20packedT\x20='+'\x20texelFetc'+'h(packedTi'+'meTexture,'+'\x20source.uv'+',\x200).xy;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20mix(chu')+('nkDataA.xy'+'z,\x20vec3(ch'+'unkDataA.w'+',\x20chunkDat'+'aB.xy),\x20un'+'pack111011'+'(packedDat'+'a.x));\x0a\x20\x20\x20'+'\x20#ifdef\x20IS'+'_4D\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20tim'+'e\x20=\x20mix(ve'+'c3(chunkDa'+'taT.z,\x20chu'+'nkDataT.x,'+'\x200),\x20vec3('+'chunkDataT'+'.w,\x20chunkD'+'ataT.y,\x201)'+',\x20unpack11'+'1011(packe'+'dT.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20muT\x20=\x20ti'+'me.y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'ovingSpeed'+'\x20=\x20mix(vec'+'3(chunkDat'+'aE.zw,\x20chu'+'nkDataF.x)'+',\x20chunkDat'+'aF.yzw,\x20un'+'pack111011'+'(packedT.x'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20spl'+'atOffset\x20='+'\x20movingSpe'+'ed\x20*\x20(time'+'\x20-\x20muT);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20spl'+'atCenter\x20+'+'=\x20splatOff'+'set;\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20spl'+'atCenter;\x0a'+'}\x0a'),W1='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20shText'+'ure0;\x0aunif'+'orm\x20highp\x20'+'usampler2D'+'\x20shTexture'+'1;\x0auniform'+'\x20highp\x20usa'+'mpler2D\x20sh'+'Texture2;\x0a'+'\x0avec4\x20unpa'+'ck8888s(in'+'\x20uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'(uvec4(bit'+'s)\x20>>\x20uvec'+'4(0u,\x208u,\x20'+'16u,\x2024u))'+'\x20&\x200xffu)\x20'+'*\x20(8.0\x20/\x202'+'55.0)\x20-\x204.'+'0;\x0a}\x0a\x0avoid'+'\x20readSHDat'+'a(in\x20Splat'+'Source\x20sou'+'rce,\x20out\x20v'+'ec3\x20sh[15]'+',\x20out\x20floa'+'t\x20scale)\x20{'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20the\x20sh\x20'+'coefficien'+'ts\x0a\x20\x20\x20\x20uve'+'c4\x20shData0'+'\x20=\x20texelFe'+'tch(shText'+'ure0,\x20sour'+'ce.uv,\x200);'+'\x0a\x20\x20\x20\x20uvec4'+'\x20shData1\x20='+'\x20texelFetc'+'h(shTextur'+'e1,\x20source'+'.uv,\x200);\x0a\x20'+'\x20\x20\x20uvec4\x20s'+'hData2\x20=\x20t'+'exelFetch('+'shTexture2'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20r0\x20'+'=\x20unpack88'+'88s(shData'+'0.x);\x0a\x20\x20\x20\x20'+'vec4\x20r1\x20=\x20'+'unpack8888'+'s(shData0.'+'y);\x0a\x20\x20\x20\x20ve'+'c4\x20r2\x20=\x20un'+'pack8888s('+'shData0.z)'+';\x0a\x20\x20\x20\x20vec4'+'\x20r3\x20=\x20unpa'+'ck8888s(sh'+'Data0.w);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'g0\x20=\x20unpac'+'k8888s(shD'+'ata1.x);\x0a\x20'+'\x20\x20\x20vec4\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20vec4\x20g2\x20='+'\x20unpack888'+'8s(shData1'+'.z);\x0a\x20\x20\x20\x20v'+'ec4\x20g3\x20=\x20u'+'npack8888s'+'(shData1.w'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20b0\x20=\x20un'+'pack8888s('+'shData2.x)'+';\x0a\x20\x20\x20\x20vec4'+'\x20b1\x20=\x20unpa'+'ck8888s(sh'+'Data2.y);\x0a'+'\x20\x20\x20\x20vec4\x20b'+'2\x20=\x20unpack'+'8888s(shDa'+'ta2.z);\x0a\x20\x20'+'\x20\x20vec4\x20b3\x20'+'=\x20unpack88'+'88s(shData'+'2.w);\x0a\x0a\x20\x20\x20'+('\x20sh[0]\x20=\x20\x20'+'vec3(r0.x,'+'\x20g0.x,\x20b0.'+'x);\x0a\x20\x20\x20\x20sh'+'[1]\x20=\x20\x20vec'+'3(r0.y,\x20g0'+'.y,\x20b0.y);'+'\x0a\x20\x20\x20\x20sh[2]'+'\x20=\x20\x20vec3(r'+'0.z,\x20g0.z,'+'\x20b0.z);\x0a\x20\x20'+'\x20\x20sh[3]\x20=\x20'+'\x20vec3(r0.w'+',\x20g0.w,\x20b0'+'.w);\x0a\x20\x20\x20\x20s'+'h[4]\x20=\x20\x20ve'+'c3(r1.x,\x20g'+'1.x,\x20b1.x)'+';\x0a\x20\x20\x20\x20sh[5'+']\x20=\x20\x20vec3('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3(r1.'+'z,\x20g1.z,\x20b'+'1.z);\x0a\x20\x20\x20\x20'+'sh[7]\x20=\x20\x20v'+'ec3(r1.w,\x20'+'g1.w,\x20b1.w'+');\x0a\x20\x20\x20\x20sh['+'8]\x20=\x20\x20vec3'+'(r2.x,\x20g2.'+'x,\x20b2.x);\x0a'+'\x20\x20\x20\x20sh[9]\x20'+'=\x20\x20vec3(r2'+'.y,\x20g2.y,\x20'+'b2.y);\x0a\x20\x20\x20'+'\x20sh[10]\x20=\x20'+'vec3(r2.z,'+'\x20g2.z,\x20b2.'+'z);\x0a\x20\x20\x20\x20sh'+'[11]\x20=\x20vec'+'3(r2.w,\x20g2'+'.w,\x20b2.w);'+'\x0a\x20\x20\x20\x20sh[12'+']\x20=\x20vec3(r'+'3.x,\x20g3.x,'+'\x20b3.x);\x0a\x20\x20'+'\x20\x20sh[13]\x20='+'\x20vec3(r3.y'+',\x20g3.y,\x20b3'+'.y);\x0a\x20\x20\x20\x20s'+'h[14]\x20=\x20ve'+'c3(r3.z,\x20g'+'3.z,\x20b3.z)'+';\x0a\x0a\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),$1='\x0a\x20\x20\x20\x20#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#define\x20S'+'H_COEFFS\x203'+'\x0a\x20\x20\x20\x20#elif'+'\x20SH_BANDS\x20'+'==\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#define'+'\x20SH_COEFFS'+'\x208\x0a\x20\x20\x20\x20#el'+'if\x20SH_BAND'+'S\x20==\x203\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20SH_COEF'+'FS\x2015\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#defin'+'e\x20SH_COEFF'+'S\x200\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20>\x200\x0a\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20SH_C1\x20'+'=\x200.488602'+'5119029199'+'f;\x0a\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x201\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20f'+'loat\x20SH_C2'+'_0\x20=\x201.092'+'5484305920'+'792f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'float\x20SH_C'+'2_1\x20=\x20-1.0'+'9254843059'+'20792f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C2_2\x20=\x200.'+'3153915652'+'5252005f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'nst\x20float\x20'+'SH_C2_3\x20=\x20'+'-1.0925484'+'305920792f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'const\x20floa'+'t\x20SH_C2_4\x20'+'=\x200.546274'+'2152960396'+'f;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x202\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'float\x20SH_C'+'3_0\x20=\x20-0.5'+'9004358992'+'66435f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C3_1\x20=\x202.'+'8906114426'+'40554f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C3_2\x20=\x20-0'+'.457045799'+'4644658f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'nst\x20float\x20'+'SH_C3_3\x20=\x20'+'0.37317633'+'25901154f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'onst\x20float'+'\x20SH_C3_4\x20='+'\x20-0.457045'+'7994644658'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20flo'+'at\x20SH_C3_5'+'\x20=\x201.44530'+'5721320277'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20flo'+'at\x20SH_C3_6'+'\x20=\x20-0.5900'+'4358992664'+'35f;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20see\x20ht'+'tps://gith'+'ub.com/gra'+'phdeco-inr'+('ia/gaussia'+'n-splattin'+'g/blob/mai'+'n/utils/sh'+'_utils.py\x0a'+'\x20\x20\x20\x20vec3\x20e'+'valSH(in\x20v'+'ec3\x20sh[SH_'+'COEFFS],\x20i'+'n\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20x\x20'+'=\x20dir.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20y\x20=\x20dir'+'.y;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20dir.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x201st\x20degre'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20resul'+'t\x20=\x20SH_C1\x20'+'*\x20(-sh[0]\x20'+'*\x20y\x20+\x20sh[1'+']\x20*\x20z\x20-\x20sh'+'[2]\x20*\x20x);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x201\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x202nd\x20degre'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xx\x20=\x20x\x20*\x20x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'yy\x20=\x20y\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'zz\x20=\x20z\x20*\x20z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xy\x20=\x20x\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'yz\x20=\x20y\x20*\x20z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xz\x20=\x20x\x20*\x20z'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[3]\x20*\x20('+'SH_C2_0\x20*\x20'+'xy)\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[4]\x20*\x20'+'(SH_C2_1\x20*'+'\x20yz)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[5]\x20*'+'\x20(SH_C2_2\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x20xx\x20-\x20y'+'y))\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[6]\x20*\x20'+'(SH_C2_3\x20*'+'\x20xz)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[7]\x20*'+'\x20(SH_C2_4\x20'+'*\x20(xx\x20-\x20yy'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'3rd\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20result\x20'+'+=\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[8]\x20\x20*\x20(S'+'H_C3_0\x20*\x20y'+'\x20*\x20(3.0\x20*\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[9]\x20\x20*\x20(SH'+'_C3_1\x20*\x20xy'+'\x20*\x20z)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[10]'+'\x20*\x20(SH_C3_'+'2\x20*\x20y\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20')+('xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[11]\x20*\x20(SH'+'_C3_3\x20*\x20z\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x203.0\x20*\x20'+'xx\x20-\x203.0\x20*'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[12]'+'\x20*\x20(SH_C3_'+'4\x20*\x20x\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[13]\x20*\x20(SH'+'_C3_5\x20*\x20z\x20'+'*\x20(xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[14]\x20*\x20'+'(SH_C3_6\x20*'+'\x20x\x20*\x20(xx\x20-'+'\x203.0\x20*\x20yy)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20#endif\x0a'),X1='\x0amat3\x20quat'+'ToMat3(vec'+'4\x20R)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20R2\x20='+'\x20R\x20+\x20R;\x0a\x20\x20'+'\x20\x20float\x20X\x20'+'=\x20R2.x\x20*\x20R'+'.w;\x0a\x20\x20\x20\x20ve'+'c4\x20Y\x20\x20=\x20R2'+'.y\x20*\x20R;\x0a\x20\x20'+'\x20\x20vec4\x20Z\x20\x20'+'=\x20R2.z\x20*\x20R'+';\x0a\x20\x20\x20\x20floa'+'t\x20W\x20=\x20R2.w'+'\x20*\x20R.w;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'mat3(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x201.0\x20-\x20'+'Z.z\x20-\x20W,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20Y.z\x20+\x20X'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20Y.w\x20'+'-\x20Z.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20Y.z\x20-\x20X,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x201.'+'0\x20-\x20Y.y\x20-\x20'+'W,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20Z.w'+'\x20+\x20Y.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20Y.w\x20+\x20Z.'+'x,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20Z.w'+'\x20-\x20Y.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x201.0\x20'+'-\x20Y.y\x20-\x20Z.'+'z\x0a\x20\x20\x20\x20);\x0a}'+'\x0a',q1='\x0auniform\x20m'+'ediump\x20sam'+'pler2D\x20sh0'+';\x0a\x0auniform'+'\x20vec4\x20sh0_'+'mins;\x0aunif'+'orm\x20vec4\x20s'+'h0_maxs;\x0a\x0a'+'float\x20SH_C'+'0\x20=\x200.2820'+'9479177387'+'814;\x0a\x0avec4'+'\x20readColor'+'(in\x20SplatS'+'ource\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20clr\x20='+'\x20mix(sh0_m'+'ins,\x20sh0_m'+'axs,\x20texel'+'Fetch(sh0,'+'\x20source.uv'+',\x200));\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(vec3(0.'+'5)\x20+\x20clr.x'+'yz\x20*\x20SH_C0'+',\x201.0\x20/\x20(1'+'.0\x20+\x20exp(-'+'clr.w)));\x0a'+'}\x0a',j1='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0a\x0auniform\x20'+'vec3\x20means'+'_mins;\x0auni'+'form\x20vec3\x20'+'means_maxs'+';\x0a\x0auniform'+'\x20vec3\x20scal'+'es_mins;\x0au'+'niform\x20vec'+'3\x20scales_m'+'axs;\x0a\x0avec4'+'\x20unpackU32'+'(uint\x20v)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20vec4(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((v\x20>>\x2024'+'u)\x20&\x200xFFu'+')\x20/\x20255.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((v\x20>>'+'\x2016u)\x20&\x200x'+'FFu)\x20/\x20255'+'.0,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float((v'+'\x20>>\x208u)\x20&\x20'+'0xFFu)\x20/\x202'+'55.0,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float('+'v\x20&\x200xFFu)'+'\x20/\x20255.0\x0a\x20'+'\x20\x20\x20);\x0a}\x0a\x0au'+'vec4\x20packe'+'dSample;\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x0a\x20\x20\x20\x20'+'//\x20read\x20th'+'e\x20packed\x20t'+'exture\x20sam'+'ple\x0a\x20\x20\x20\x20pa'+'ckedSample'+'\x20=\x20texelFe'+'tch(packed'+'Texture,\x20s'+'ource.uv,\x20'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20l\x20=\x20un'+'packU32(pa'+'ckedSample'+'.x).xyz;\x0a\x20'+'\x20\x20\x20vec3\x20u\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.y).xy'+'z;\x0a\x20\x20\x20\x20vec'+'3\x20n\x20=\x20(l\x20*'+'\x20255.0\x20+\x20u'+'\x20*\x20255.0\x20*'+'\x20256.0)\x20/\x20'+'65535.0;\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20mix(mean'+'s_mins,\x20me'+'ans_maxs,\x20'+'n);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20sign'+'(v)\x20*\x20(exp'+'(abs(v))\x20-'+'\x201.0);\x0a}\x0a\x0a'+'const\x20floa'+'t\x20norm\x20=\x202'+'.0\x20/\x20sqrt('+'2.0);\x0a\x0a//\x20'+'sample\x20cov'+'ariance\x20ve'+'ctors\x0avoid'+'\x20readCovar'+'iance(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20co'+'vA,\x20out\x20ve'+'c3\x20covB)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'qdata\x20=\x20un'+'packU32(pa'+'ckedSample'+'.z);\x0a\x20\x20\x20\x20v'+'ec3\x20sdata\x20'+('=\x20unpackU3'+'2(packedSa'+'mple.w).xy'+'z;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20abc\x20=\x20('+'qdata.xyz\x20'+'-\x200.5)\x20*\x20n'+'orm;\x0a\x20\x20\x20\x20f'+'loat\x20d\x20=\x20s'+'qrt(max(0.'+'0,\x201.0\x20-\x20d'+'ot(abc,\x20ab'+'c)));\x0a\x0a\x20\x20\x20'+'\x20uint\x20mode'+'\x20=\x20uint(qd'+'ata.w\x20*\x2025'+'5.0\x20+\x200.5)'+'\x20-\x20252u;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20q'+'uat\x20=\x20(mod'+'e\x20==\x200u)\x20?'+'\x20vec4(d,\x20a'+'bc)\x20:\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20((mode\x20='+'=\x201u)\x20?\x20ve'+'c4(abc.x,\x20'+'d,\x20abc.yz)'+'\x20:\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20('+'(mode\x20==\x202'+'u)\x20?\x20vec4('+'abc.xy,\x20d,'+'\x20abc.z)\x20:\x20'+'vec4(abc,\x20'+'d)));\x0a\x0a\x20\x20\x20'+'\x20mat3\x20rot\x20'+'=\x20quatToMa'+'t3(quat);\x0a'+'\x20\x20\x20\x20vec3\x20s'+'cale\x20=\x20exp'+'(mix(scale'+'s_mins,\x20sc'+'ales_maxs,'+'\x20sdata));\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20mat3\x20M\x20='+'\x20transpose'+'(mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20cov'+'A\x20=\x20vec3(d'+'ot(M[0],\x20M'+'[0]),\x20dot('+'M[0],\x20M[1]'+'),\x20dot(M[0'+'],\x20M[2]));'+'\x0a\x20\x20\x20\x20covB\x20'+'=\x20vec3(dot'+'(M[1],\x20M[1'+']),\x20dot(M['+'1],\x20M[2]),'+'\x20dot(M[2],'+'\x20M[2]));\x0a}'+'\x0a'),Y1='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20sh_ce'+'ntroids;\x0a\x0a'+'uniform\x20fl'+'oat\x20shN_mi'+'ns;\x0aunifor'+'m\x20float\x20sh'+'N_maxs;\x0a\x0a/'+'/\x20To\x20suppo'+'rt\x20each\x20SH'+'\x20degree,\x20r'+'eadSHData\x20'+'is\x20overloa'+'ded\x20based\x20'+'on\x20the\x20SH\x20'+'vector\x20dep'+'th\x20\x0a\x0avoid\x20'+'readSHData'+'(in\x20SplatS'+'ource\x20sour'+'ce,\x20out\x20ve'+'c3\x20sh[SH_C'+'OEFFS],\x20ou'+'t\x20float\x20sc'+'ale)\x20{\x0a\x20\x20\x20'+'\x20//\x20extrac'+'t\x20spherica'+'l\x20harmonic'+'s\x20palette\x20'+'index\x0a\x20\x20\x20\x20'+'ivec2\x20t\x20=\x20'+'ivec2(pack'+'edSample.x'+'\x20&\x20255u,\x20p'+'ackedSampl'+'e.y\x20&\x20255u'+');\x0a\x20\x20\x20\x20int'+'\x20n\x20=\x20t.x\x20+'+'\x20t.y\x20*\x20256'+';\x0a\x20\x20\x20\x20int\x20'+'u\x20=\x20(n\x20%\x206'+'4)\x20*\x20SH_CO'+'EFFS;\x0a\x20\x20\x20\x20'+'int\x20v\x20=\x20n\x20'+'/\x2064;\x0a\x0a\x20\x20\x20'+'\x20//\x20calcul'+'ate\x20offset'+'\x20into\x20the\x20'+'centroids\x20'+'texture\x20an'+'d\x20read\x20con'+'secutive\x20t'+'exels\x0a\x20\x20\x20\x20'+'for\x20(int\x20i'+'\x20=\x200;\x20i\x20<\x20'+'SH_COEFFS;'+'\x20i++)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[i'+']\x20=\x20mix(ve'+'c3(shN_min'+'s),\x20vec3(s'+'hN_maxs),\x20'+'texelFetch'+'(sh_centro'+'ids,\x20ivec2'+'(u\x20+\x20i,\x20v)'+',\x200).xyz);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20scale\x20=\x20'+'1.0;\x0a}\x0a',K1='\x0auniform\x20v'+'ec2\x20viewpo'+'rt;\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20viewpo'+'rt\x20dimensi'+'ons\x0aunifor'+'m\x20vec4\x20cam'+'era_params'+';\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x201\x20/'+'\x20far,\x20far,'+'\x20near,\x20isO'+'rtho\x0aunifo'+'rm\x20float\x20u'+'SplatScale'+';\x0auniform\x20'+'float\x20rend'+'erSpace;\x0au'+'niform\x20flo'+'at\x20endSpac'+'e;\x0auniform'+'\x20int\x20uShap'+'eN;\x0a\x0a//\x20ca'+'lculate\x20th'+'e\x20clip-spa'+'ce\x20offset\x20'+'from\x20the\x20c'+'enter\x20for\x20'+'this\x20gauss'+'ian\x0abool\x20i'+'nitCorner('+'SplatSourc'+'e\x20source,\x20'+'SplatCente'+'r\x20center,\x20'+'out\x20SplatC'+'orner\x20corn'+'er,\x20int\x20po'+'intCloudMo'+'deEnabled)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'get\x20covari'+'ance\x0a\x20\x20\x20\x20v'+'ec3\x20covA,\x20'+'covB;\x0a\x20\x20\x20\x20'+'readCovari'+'ance(sourc'+'e,\x20covA,\x20c'+'ovB);\x0a\x0a\x20\x20\x20'+'\x20mat3\x20Vrk\x20'+'=\x20mat3(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20covA'+'.x,\x20covA.y'+',\x20covA.z,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'vA.y,\x20covB'+'.x,\x20covB.y'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'covA.z,\x20co'+'vB.y,\x20covB'+'.z\x0a\x20\x20\x20\x20);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20focal\x20=\x20v'+'iewport.x\x20'+'*\x20center.p'+'rojMat00;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'v\x20=\x20camera'+'_params.w\x20'+'==\x201.0\x20?\x20v'+'ec3(0.0,\x200'+'.0,\x201.0)\x20:'+'\x20center.vi'+'ew.xyz;\x0a\x20\x20'+'\x20\x20float\x20J1'+'\x20=\x20focal\x20/'+'\x20v.z;\x0a\x20\x20\x20\x20'+'vec2\x20J2\x20=\x20'+'-J1\x20/\x20v.z\x20'+'*\x20v.xy;\x0a\x20\x20'+'\x20\x20mat3\x20J\x20='+'\x20mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20J1,\x200'+'.0,\x20J2.x,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x200.'+'0,\x20J1,\x20J2.'+'y,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x200.0,\x200.0,'+'\x200.0\x0a\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20mat'+'3\x20W\x20=\x20tran'+'spose(mat3'+'(center.mo'+'delView));'+'\x0a\x20\x20\x20\x20mat3\x20'+'T\x20=\x20W\x20*\x20J;'+'\x0a\x20\x20\x20\x20mat3\x20'+'cov\x20=\x20tran'+'spose(T)\x20*'+('\x20Vrk\x20*\x20T;\x0a'+'\x0a\x20\x20\x20\x20#if\x20G'+'SPLAT_AA\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'calculate\x20'+'AA\x20factor\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20detOri'+'g\x20=\x20cov[0]'+'[0]\x20*\x20cov['+'1][1]\x20-\x20co'+'v[0][1]\x20*\x20'+'cov[0][1];'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20detBl'+'ur\x20=\x20(cov['+'0][0]\x20+\x200.'+'3)\x20*\x20(cov['+'1][1]\x20+\x200.'+'3)\x20-\x20cov[0'+'][1]\x20*\x20cov'+'[0][1];\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20corn'+'er.aaFacto'+'r\x20=\x20sqrt(m'+'ax(detOrig'+'\x20/\x20detBlur'+',\x200.0));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20diagonal1'+'\x20=\x20cov[0]['+'0]\x20+\x200.3;\x0a'+'\x20\x20\x20\x20float\x20'+'offDiagona'+'l\x20=\x20cov[0]'+'[1];\x0a\x20\x20\x20\x20f'+'loat\x20diago'+'nal2\x20=\x20cov'+'[1][1]\x20+\x200'+'.3;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20mid\x20='+'\x200.5\x20*\x20(di'+'agonal1\x20+\x20'+'diagonal2)'+';\x0a\x20\x20\x20\x20floa'+'t\x20radius\x20='+'\x20length(ve'+'c2((diagon'+'al1\x20-\x20diag'+'onal2)\x20/\x202'+'.0,\x20offDia'+'gonal));\x0a\x20'+'\x20\x20\x20float\x20l'+'ambda1\x20=\x20m'+'id\x20+\x20radiu'+'s;\x0a\x20\x20\x20\x20flo'+'at\x20lambda2'+'\x20=\x20max(mid'+'\x20-\x20radius,'+'\x200.1);\x0a\x20\x20\x20'+'\x20if\x20(point'+'CloudModeE'+'nabled\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20l'+'ambda1\x20=\x20l'+'ambda2\x20=\x202'+'.0;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20Us'+'e\x20the\x20smal'+'ler\x20viewpo'+'rt\x20dimensi'+'on\x20to\x20limi'+'t\x20the\x20kern'+'el\x20size\x20re'+'lative\x20to\x20'+'the\x20screen'+'\x20resolutio'+'n.\x0a\x20\x20\x20\x20flo'+'at\x20vmin\x20=\x20'+'min(1024.0'+',\x20min(view'+'port.x,\x20vi'+'ewport.y))'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20l1\x20=\x202.'+'0\x20*\x20min(sq'+'rt(2.0\x20*\x20l'+'ambda1),\x20v'+'min);\x0a\x20\x20\x20\x20'+'float\x20l2\x20='+'\x202.0\x20*\x20min'+'(sqrt(2.0\x20'+'*\x20lambda2)'+',\x20vmin);\x0a\x0a'+'\x20\x20\x20\x20//\x20ear'+'ly-out\x20gau'+'ssians\x20sma'+'ller\x20than\x20'+'2\x20pixels\x0a\x20')+('\x20\x20\x20if\x20(l1\x20'+'<\x202.0\x20&&\x20l'+'2\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec2\x20c'+'\x20=\x20center.'+'proj.ww\x20/\x20'+'viewport;\x0a'+'\x0a\x20\x20\x20\x20//\x20cu'+'ll\x20against'+'\x20frustum\x20x'+'/y\x20axes\x0a\x20\x20'+'\x20\x20if\x20(any('+'greaterTha'+'n(abs(cent'+'er.proj.xy'+')\x20-\x20vec2(m'+'ax(l1,\x20l2)'+')\x20*\x20c,\x20cen'+'ter.proj.w'+'w)))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20false;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec2\x20diago'+'nalVector\x20'+'=\x20normaliz'+'e(vec2(off'+'Diagonal,\x20'+'lambda1\x20-\x20'+'diagonal1)'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20scale\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20bool\x20inRe'+'nderSpace\x20'+'=\x20(center.'+'view.x\x20>=\x20'+'-renderSpa'+'ce\x20&&\x20cent'+'er.view.x\x20'+'<=\x20renderS'+'pace)\x20&&\x20('+'center.vie'+'w.y\x20>=\x20-re'+'nderSpace\x20'+'&&\x20center.'+'view.y\x20<=\x20'+'renderSpac'+'e);\x0a\x20\x20\x20\x20bo'+'ol\x20openRen'+'derAnim\x20=\x20'+'renderSpac'+'e\x20<\x20endSpa'+'ce;\x0a\x20\x20\x20\x20bo'+'ol\x20inRende'+'r\x20=\x20render'+'Space\x20>=\x20e'+'ndSpace\x20||'+'\x20inRenderS'+'pace\x20||\x20po'+'intCloudMo'+'deEnabled\x20'+'==\x201;\x0a\x20\x20\x20\x20'+'if(!openRe'+'nderAnim\x20&'+'&\x20uSplatSc'+'ale\x20>\x200.0\x20'+'&&\x20uSplatS'+'cale\x20<=\x205.'+'0){\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale\x20=\x20'+'uSplatScal'+'e;\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(in'+'Render){\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(openR'+'enderAnim)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'scale\x20=\x20in'+'RenderSpac'+'e\x20?\x20uSplat'+'Scale\x20:\x200.'+'1;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20vec2\x20v1'+'\x20=\x20scale\x20*'+'\x20l1\x20*\x20diag'+'onalVector'+';\x0a\x20\x20\x20\x20vec2'+'\x20v2\x20=\x20scal'+'e\x20*\x20l2\x20*\x20v'+'ec2(diagon'+'alVector.y'+',\x20-diagona'+'lVector.x)')+(';\x0a\x0a\x20\x20\x20\x20cor'+'ner.offset'+'\x20=\x20(source'+'.cornerUV.'+'x\x20*\x20v1\x20+\x20s'+'ource.corn'+'erUV.y\x20*\x20v'+'2)\x20*\x20c;\x0a\x20\x20'+'\x20\x20//\x20corne'+'r.uv\x20=\x20sou'+'rce.corner'+'UV;\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20if\x20(uSh'+'apeN\x20<\x203)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'corner.uv\x20'+'=\x20source.c'+'ornerUV;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'corner.cSi'+'ze\x20=\x20(v1\x20+'+'\x20v2)\x20*\x20c;\x0a'+'\x20\x20\x20\x20corner'+'.cUV\x20=\x20sou'+'rce.corner'+'UV;\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20return\x20'+'true;\x0a}\x0a'),Z1='\x0a\x0auniform\x20'+'highp\x20samp'+'ler2D\x20tran'+'sformA;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20transfor'+'mB;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20tr'+'ansformR;\x0a'+'\x0a#ifdef\x20IS'+'_4D\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20tr'+'ansformMot'+'ion;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformLi'+'fecycle;\x0a#'+'endif\x0a\x0a//\x20'+'work\x20value'+'s\x0a//\x20uint\x20'+'tAw;\x0avec2\x20'+'sampledCov'+'4D;\x0afloat\x20'+'muT;\x0a\x0a//\x20t'+'ool\x20for\x20co'+'mpute\x20Marg'+'inal\x20time\x0a'+'float\x20comp'+'uteMargina'+'lT(float\x20t'+'ime,\x20float'+'\x20muT,\x20floa'+'t\x20sigmaT)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'muT\x20<=\x20-10'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20floa'+'t\x20result\x20='+'\x20exp(-0.5\x20'+'*\x20(pow((ti'+'me\x20-\x20muT),'+'\x202.0)\x20/\x20po'+'w(sigmaT,\x20'+'2.0)));\x0a\x20\x20'+'\x20\x20return\x20r'+'esult;\x0a}\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20retu'+'rn\x20texelFe'+'tch(transf'+'ormA,\x20sour'+'ce.uv,\x200).'+'xyz;\x0a}\x0a\x0ama'+'t3\x20quatToM'+'at3v2(vec4'+'\x20R)\x20{\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'R.w;\x0a\x20\x20\x20\x20f'+'loat\x20y\x20=\x20R'+'.x;\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20R.'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20w\x20=\x20R.z'+';\x0a\x20\x20\x20\x20retu'+'rn\x20mat3(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'z\x20*\x20z\x20+\x20w\x20'+'*\x20w),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'2.0\x20*\x20(y\x20*'+'\x20z\x20+\x20x\x20*\x20w'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x202.0'+'\x20*\x20(y\x20*\x20w\x20'+'-\x20x\x20*\x20z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20-\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x201.0\x20-'+'\x202.0\x20*\x20(y\x20'+'*\x20y\x20+\x20w\x20*\x20'+'w),\x0a\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(z\x20*\x20w'+'\x20+\x20x\x20*\x20y),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x202.0\x20*'+'\x20(y\x20*\x20w\x20+\x20'+'x\x20*\x20z),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20-\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.0\x20-\x202'+'.0\x20*\x20(y\x20*\x20'+'y\x20+\x20z\x20*\x20z)'+'\x0a\x20\x20\x20\x20);\x0a}\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(vec3\x20pack'+'ed)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(packed.x'+'yz,\x20sqrt(m'+'ax(0.0,\x201.'+'0\x20-\x20dot(pa'+'cked,\x20pack'+'ed))));\x0a}\x0a'+'\x0a//\x20sample'+'\x20covarianc'+'e\x20vectors\x0a'+'void\x20readC'+'ovariance('+'in\x20SplatSo'+'urce\x20sourc'+'e,\x20out\x20vec'+'3\x20covA,\x20ou'+'t\x20vec3\x20cov'+'B)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20tB\x20=\x20t'+'exelFetch('+'transformB'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20tR\x20'+'=\x20texelFet'+'ch(transfo'+'rmR,\x20sourc'+'e.uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3v'+'2(unpackRo'+'tation(tR)'+');\x0a\x20\x20\x20\x20vec'+'3\x20scale\x20=\x20'+'tB.xyz;\x0a\x0a\x20'+'\x20\x20\x20//\x20M\x20=\x20'+'S\x20*\x20R\x0a\x20\x20\x20\x20'+'mat3\x20M\x20=\x20t'+'ranspose(m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.x'+'\x20*\x20rot[0],'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'cale.y\x20*\x20r'+'ot[1],\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.z\x20*\x20rot[2'+']\x0a\x20\x20\x20\x20));\x0a'+'\x0a\x20\x20\x20\x20covA\x20'+'=\x20vec3(dot'+'(M[0],\x20M[0'+']),\x20dot(M['+'0],\x20M[1]),'+'\x20dot(M[0],'+'\x20M[2]));\x0a\x20'+'\x20\x20\x20covB\x20=\x20'+'vec3(dot(M'+'[1],\x20M[1])'+',\x20dot(M[1]'+',\x20M[2]),\x20d'+'ot(M[2],\x20M'+'[2]));\x0a}\x0a\x0a'+'//\x20sample\x20'+'4D\x20covaria'+'nce\x20vector'+'s\x0avoid\x20rea'+'dFTGSCovar'+'iance(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20co'+'vA,\x20out\x20ve'+'c3\x20covB,ou'+'t\x20vec4\x20cov'+'ariance4D)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20tB\x20=\x20tex'+'elFetch(tr'+'ansformB,\x20'+'source.uv,')+('\x200);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20tR\x20=\x20'+'texelFetch'+'(transform'+'R,\x20source.'+'uv,\x200).xyz'+';\x0a\x20\x20\x20\x20mat3'+'\x20rot\x20=\x20qua'+'tToMat3v2('+'unpackRota'+'tion(tR));'+'\x0a\x20\x20\x20\x20vec3\x20'+'scale\x20=\x20tB'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x20M\x20=\x20S\x20'+'*\x20R\x0a\x20\x20\x20\x20ma'+'t3\x20M\x20=\x20tra'+'nspose(mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20covA\x20=\x20'+'vec3(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20covB\x20=\x20ve'+'c3(dot(M[1'+'],\x20M[1]),\x20'+'dot(M[1],\x20'+'M[2]),\x20dot'+'(M[2],\x20M[2'+']));\x0a\x0a}\x0a\x0a\x0a'+'float\x20getM'+'arginalT(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20float'+'\x20time)\x20{\x0a\x20'+'\x20\x20\x20float\x20m'+'arginal\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20filter\x20'+'out\x20splats'+'\x20that\x20have'+'\x20too\x20littl'+'e\x20influenc'+'e\x20to\x20now\x20i'+'n\x20the\x20time'+'\x20dimension'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20tData'+'\x20=\x20texelFe'+'tch(transf'+'ormLifecyc'+'le,\x20source'+'.uv,\x200).xy'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'muT\x20=\x20tDat'+'a.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20t'+'Scale\x20=\x20tD'+'ata.y;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20margi'+'nal\x20=\x20comp'+'uteMargina'+'lT(time,\x20m'+'uT,\x20tScale'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20re'+'turn\x20margi'+'nal;\x0a}\x0a\x0ave'+'c3\x20readCen'+'ter4D(Spla'+'tSource\x20so'+'urce,\x20floa'+'t\x20time)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20texelFe'+'tch(transf'+'ormA,\x20sour'+'ce.uv,\x200).'+'xyz;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20if(m'+'uT\x20>\x20-5.0)'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20movin'+'gSpeed\x20=\x20t')+('exelFetch('+'transformM'+'otion,\x20sou'+'rce.uv,\x200)'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'platOffset'+'\x20=\x20movingS'+'peed\x20*\x20(ti'+'me\x20-\x20muT);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'platCenter'+'\x20+=\x20splatO'+'ffset;\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20spla'+'tCenter;\x0a}'+'\x0a'),Q1='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0avec'+'3\x20prepareO'+'utputFromG'+'amma(vec3\x20'+'gammaColor'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20TONEMAP\x20'+'==\x20NONE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'GAMMA\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onvert\x20to\x20'+'linear\x20spa'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20outp'+'ut\x20gamma\x20s'+'pace\x20color'+'\x20directly\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'ly\x20tonemap'+'ping\x20in\x20li'+'near\x20space'+'\x20and\x20outpu'+'t\x20to\x20linea'+'r\x20or\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20gamm'+'a\x20(which\x20i'+'s\x20handled\x20'+'by\x20gammaCo'+'rrectOutpu'+'t)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ga'+'mmaCorrect'+'Output(ton'+'eMap(decod'+'eGamma(gam'+'maColor)))'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',J1='\x0auniform\x20i'+'nt\x20mode;\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x200:\x20c'+'enters,\x201:'+'\x20rings\x0auni'+'form\x20float'+'\x20ringSize;'+'\x0auniform\x20i'+'nt\x20uShapeN'+';\x0a\x0a#ifndef'+'\x20DITHER_NO'+'NE\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bay'+'erPS\x22\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'opacityDit'+'herPS\x22\x0a\x20\x20\x20'+'\x20varying\x20f'+'loat\x20id;\x0a#'+'endif\x0a\x0a#if'+'def\x20PICK_P'+'ASS\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pi'+'ckPS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_PASS)\x20|'+'|\x20defined('+'PICK_PASS)'+'\x20||\x20define'+'d(PREPASS_'+'PASS)\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20alphaC'+'lip;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'PREPASS_PA'+'SS\x0a\x20\x20\x20\x20var'+'ying\x20float'+'\x20vLinearDe'+'pth;\x0a\x20\x20\x20\x20#'+'include\x20\x22f'+'loatAsUint'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20Fast\x20'+'approximat'+'e\x20e^x\x20base'+'d\x20on\x20https'+'://nic.sch'+'raudolph.o'+'rg/pubs/Sc'+'hraudolph9'+'9.pdf\x0acons'+'t\x20float\x20\x20E'+'XP_A\x20\x20\x20\x20\x20\x20'+'=\x2012102203'+'.0;\x20\x20\x20//\x20'+'\x202^23\x20/\x20ln'+'(2)\x0aconst\x20'+'int\x20\x20\x20\x20EXP'+'_BC_RMS\x20=\x20'+'1064866808'+';\x20\x20\x20//\x20(12'+'7\x20<<\x2023)\x20-'+'\x2060801\x20*\x208'+'\x0afloat\x20fas'+'tExp(float'+'\x20x)\x20{\x0a\x20\x20\x20\x20'+'int\x20i\x20=\x20in'+'t(EXP_A\x20*\x20'+'x)\x20+\x20EXP_B'+'C_RMS;\x0a\x20\x20\x20'+'\x20return\x20in'+'tBitsToFlo'+'at(i);\x0a}\x0a\x0a'+'varying\x20me'+'diump\x20vec2'+'\x20gaussianU'+'V;\x0avarying'+'\x20mediump\x20v'+'ec4\x20gaussi'+'anColor;\x0av'+'arying\x20med'+'iump\x20vec2\x20'+'gaussianSi'+'ze;\x0avaryin'+'g\x20mediump\x20'+'vec2\x20gauss'+'ianCUV;\x0ava'+'rying\x20medi'+'ump\x20float\x20'+'saveMargin'+'al;\x0a\x0a//\x20'+'\x20p\x20\x20N'+'\x20\x0a//\x20p:'+'\x20\x20(UV\x20'+')\x0a//'+'\x20N:\x20\x0a//\x20'+'r:\x20'+('1\x0a/'+'/\x20center:\x20'+'\x0abool\x20'+'insideRegu'+'larPolygon'+'(vec2\x20p,\x20i'+'nt\x20N,\x20floa'+'t\x20r,\x20vec2\x20'+'center)\x20{\x0a'+'\x20\x20\x20\x20//\x20'+'\x0a\x20'+'\x20\x20\x20vec2\x20d\x20'+'=\x20p\x20-\x20cent'+'er;\x0a\x20\x20\x20\x20fl'+'oat\x20theta\x20'+'=\x20atan(d.y'+',\x20d.x);\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20flo'+'at\x20len\x20=\x20l'+'ength(d);\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20float'+'\x20anglePerS'+'ide\x20=\x202.0\x20'+'*\x203.141592'+'65\x20/\x20float'+'(N);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x200\x20~'+'\x20anglePerS'+'ide\x20\x0a\x20\x20\x20'+'\x20float\x20loc'+'alAngle\x20=\x20'+'mod(theta,'+'\x20anglePerS'+'ide);\x0a\x0a\x20\x20\x20'+'\x20//\x20'+'\x20'+'N\x20\x0a\x20\x20'+'\x20\x20float\x20ma'+'xR\x20=\x20r\x20*\x20c'+'os(anglePe'+'rSide\x20/\x202.'+'0)\x20/\x20cos(l'+'ocalAngle\x20'+'-\x20anglePer'+'Side\x20/\x202.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20len\x20<'+'=\x20maxR;\x0a}\x0a'+'\x0a//\x20'+'N\x20soft\x20'+'mask\x0afloat'+'\x20polygonSo'+'ftMask(vec'+'2\x20p,\x20int\x20N'+',\x20float\x20ra'+'dius,\x20floa'+'t\x20edgeSoft'+'ness)\x20{\x0a\x20\x20'+'\x20\x20float\x20an'+'gle\x20=\x20atan'+'(p.y,\x20p.x)'+';\x0a\x20\x20\x20\x20floa'+'t\x20sector\x20='+'\x206.2831853'+'\x20/\x20float(N'+');\x20\x20//\x20'+'\x0a\x20\x20\x20\x20//'+'\x20\x20['+'-sector/2,'+'\x20sector/2]'+'\x0a\x20\x20\x20\x20float'+'\x20halfSecto'+'r\x20=\x20sector'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20float\x20lo'+'calAngle\x20='+'\x20mod(angle'+'\x20+\x20halfSec'+'tor,\x20secto'+'r)\x20-\x20halfS'+'ector;\x0a\x0a\x20\x20'+'\x20\x20//\x20'+'\x0a'+'\x20\x20\x20\x20float\x20'+'boundary\x20='+'\x20radius\x20*\x20'+'cos(halfSe'+'ctor)\x20/\x20co'+'s(localAng'+'le);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x20=\x20'+'\x0a\x20\x20\x20\x20'+'float\x20dist'+'\x20=\x20boundar'+'y\x20-\x20length'+'(p);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x20smoot')+('hstep\x20'+'\x20(edgeSof'+'tness\x20'+')\x0a\x20\x20\x20\x20'+'float\x20alph'+'a\x20=\x20smooth'+'step(0.0,\x20'+'edgeSoftne'+'ss,\x20dist);'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20alpha;\x20'+'//\x200~1\x0a}\x0a\x0a'+'void\x20main('+'void)\x20{\x0a\x20\x20'+'\x20\x20mediump\x20'+'float\x20A\x20=\x20'+'dot(gaussi'+'anUV,\x20gaus'+'sianUV);\x0a\x20'+'\x20\x20\x20if\x20(A\x20>'+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20disc'+'ard;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'valuate\x20al'+'pha\x0a\x20\x20\x20\x20me'+'diump\x20floa'+'t\x20alpha\x20=\x20'+'fastExp(-A'+'\x20*\x204.0)\x20*\x20'+'gaussianCo'+'lor.a;\x0a\x20\x20\x20'+'\x20//\x20TODO\x20u'+'ShapeN\x20alp'+'ha\x0a\x20\x20\x20\x20//\x20'+'float\x20dx\x20='+'\x20abs(gauss'+'ianCUV.x)\x20'+'/\x20gaussian'+'Size.x;\x0a\x20\x20'+'\x20\x20//\x20float'+'\x20dy\x20=\x20abs('+'gaussianCU'+'V.y)\x20/\x20gau'+'ssianSize.'+'y;\x0a\x20\x20\x20\x20//\x20'+'float\x20B\x20=\x20'+'max(dx,\x20dy'+');\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20'+'\x0a\x20\x20\x20\x20//\x20'+'mediump\x20fl'+'oat\x20alpha\x20'+'=\x20exp(-pow'+'(B,\x202.0)\x20*'+'\x204.0)\x20*\x20ga'+'ussianColo'+'r.a;\x0a\x0a\x20\x20\x20\x20'+'bool\x20openR'+'ingMode\x20=\x20'+'ringSize\x20>'+'\x200.0\x20&&\x20mo'+'de\x20==\x201;\x20/'+'/\x20&&\x20uCont'+'rolMode\x20=='+'\x201;\x20\x0a\x20\x20\x20\x20i'+'f\x20(openRin'+'gMode\x20&&\x20s'+'aveMargina'+'l\x20>=\x200.05)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(A\x20<\x201'+'.0\x20-\x20ringS'+'ize)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'lpha\x20=\x20max'+'(0.05,\x20alp'+'ha);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20alpha\x20'+'=\x200.6;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20bool\x20ope'+'nShapeMode'+'\x20=\x20uShapeN'+'\x20>\x202;\x20//\x20&'+'&\x20uControl'+'Mode\x20==\x201;'+'\x0a\x20\x20\x20\x20if\x20(o'+'penShapeMo'+'de)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20gaussi'+'anCUV\x20*\x202.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20rad'+'ius\x20=\x201.0;')+('\x20//\x201.0\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20edgeSoft'+'ness\x20=\x200.0'+'5;\x20//\x200.05'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v\x20*=\x201.0;/'+'/0.9;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20c'+'enter\x20=\x20ve'+'c2(0.0,\x200.'+'0);\x20\x20\x20//\x20'+''+'\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20alpha\x20'+'=\x20polygonS'+'oftMask(uv'+',\x20uShapeN,'+'\x20radius,\x20e'+'dgeSoftnes'+'s);\x20//\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(!insideR'+'egularPoly'+'gon(uv,\x20uS'+'hapeN,\x20rad'+'ius,\x20cente'+'r))\x20{\x20//'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20discard'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20#if'+'\x20defined(S'+'HADOW_PASS'+')\x20||\x20defin'+'ed(PICK_PA'+'SS)\x20||\x20def'+'ined(PREPA'+'SS_PASS)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(alpha\x20<\x20a'+'lphaClip)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20discar'+'d;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PICK'+'_PASS\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'getPickOut'+'put();\x0a\x0a\x20\x20'+'\x20\x20#elif\x20SH'+'ADOW_PASS\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(0'+'.0,\x200.0,\x200'+'.0,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20#elif'+'\x20PREPASS_P'+'ASS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20fl'+'oat2vec4(v'+'LinearDept'+'h);\x0a\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(alp'+'ha\x20<\x201.0\x20/'+'\x20255.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20discard;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20DI'+'THER_NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20opacityD'+'ither(alph'+'a,\x20id\x20*\x200.'+'013);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'gaussianCo'+'lor.xyz,\x20a'+'lpha);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),eP='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0avec3\x20unpa'+'ck111011s('+'uint\x20bits)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec3(('+'uvec3(bits'+')\x20>>\x20uvec3'+'(21u,\x2011u,'+'\x200u))\x20&\x20uv'+'ec3(0x7ffu'+',\x200x3ffu,\x20'+'0x7ffu))\x20/'+'\x20vec3(2047'+'.0,\x201023.0'+',\x202047.0)\x20'+'*\x202.0\x20-\x201.'+'0;\x0a}\x0a\x0a//\x20f'+'etch\x20quant'+'ized\x20spher'+'ical\x20harmo'+'nic\x20coeffi'+'cients\x0avoi'+'d\x20fetchSca'+'le(in\x20uvec'+'4\x20t,\x20out\x20f'+'loat\x20scale'+',\x20out\x20vec3'+'\x20a,\x20out\x20ve'+'c3\x20b,\x20out\x20'+'vec3\x20c)\x20{\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20uintBits'+'ToFloat(t.'+'x);\x0a\x20\x20\x20\x20a\x20'+'=\x20unpack11'+'1011s(t.y)'+';\x0a\x20\x20\x20\x20b\x20=\x20'+'unpack1110'+'11s(t.z);\x0a'+'\x20\x20\x20\x20c\x20=\x20un'+'pack111011'+'s(t.w);\x0a}\x0a'+'\x0a//\x20fetch\x20'+'quantized\x20'+'spherical\x20'+'harmonic\x20c'+'oefficient'+'s\x0avoid\x20fet'+'ch(in\x20uvec'+'4\x20t,\x20out\x20v'+'ec3\x20a,\x20out'+'\x20vec3\x20b,\x20o'+'ut\x20vec3\x20c,'+'\x20out\x20vec3\x20'+'d)\x20{\x0a\x20\x20\x20\x20a'+'\x20=\x20unpack1'+'11011s(t.x'+');\x0a\x20\x20\x20\x20b\x20='+'\x20unpack111'+'011s(t.y);'+'\x0a\x20\x20\x20\x20c\x20=\x20u'+'npack11101'+'1s(t.z);\x0a\x20'+'\x20\x20\x20d\x20=\x20unp'+'ack111011s'+'(t.w);\x0a}\x0a\x0a'+'void\x20fetch'+'(in\x20uint\x20t'+',\x20out\x20vec3'+'\x20a)\x20{\x0a\x20\x20\x20\x20'+'a\x20=\x20unpack'+'111011s(t)'+';\x0a}\x0a\x0a#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20splatSH_'+'1to3;\x0a\x20\x20\x20\x20'+'void\x20readS'+'HData(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20sh'+'[3],\x20out\x20f'+'loat\x20scale'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetchSca'+'le(texelFe'+'tch(splatS'+'H_1to3,\x20so'+'urce.uv,\x200'+'),\x20scale,\x20'+'sh[0],\x20sh['+'1],\x20sh[2])'+(';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20SH_BAN'+'DS\x20==\x202\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20usam'+'pler2D\x20spl'+'atSH_1to3;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20highp\x20u'+'sampler2D\x20'+'splatSH_4t'+'o7;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_8to11;\x0a\x20\x20'+'\x20\x20void\x20rea'+'dSHData(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'sh[8],\x20out'+'\x20float\x20sca'+'le)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetchS'+'cale(texel'+'Fetch(spla'+'tSH_1to3,\x20'+'source.uv,'+'\x200),\x20scale'+',\x20sh[0],\x20s'+'h[1],\x20sh[2'+']);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetch(te'+'xelFetch(s'+'platSH_4to'+'7,\x20source.'+'uv,\x200),\x20sh'+'[3],\x20sh[4]'+',\x20sh[5],\x20s'+'h[6]);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20fetch'+'(texelFetc'+'h(splatSH_'+'8to11,\x20sou'+'rce.uv,\x200)'+'.x,\x20sh[7])'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_1to3;\x0a\x20\x20\x20'+'\x20uniform\x20h'+'ighp\x20usamp'+'ler2D\x20spla'+'tSH_4to7;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20us'+'ampler2D\x20s'+'platSH_8to'+'11;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_12to15;\x0a\x20'+'\x20\x20\x20void\x20re'+'adSHData(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20sh[15],\x20o'+'ut\x20float\x20s'+'cale)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fetc'+'hScale(tex'+'elFetch(sp'+'latSH_1to3'+',\x20source.u'+'v,\x200),\x20sca'+'le,\x20sh[0],'+'\x20sh[1],\x20sh'+'[2]);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetch('+'texelFetch'+'(splatSH_4'+'to7,\x20sourc'+'e.uv,\x200),\x20'+'sh[3],\x20sh['+'4],\x20sh[5],'+'\x20sh[6]);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fet'+'ch(texelFe'+'tch(splatS'+'H_8to11,\x20s'+'ource.uv,\x20'+'0),\x20sh[7],'+'\x20sh[8],\x20sh'+'[9],\x20sh[10'+']);\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20fetch(te'+'xelFetch(s'+'platSH_12t'+'o15,\x20sourc'+'e.uv,\x200),\x20'+'sh[11],\x20sh'+'[12],\x20sh[1'+'3],\x20sh[14]'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0a#en'+'dif\x0a'),tP='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20xy:\x20co'+'rnerUV,\x20z:'+'\x20render\x20or'+'der\x20offset'+'\x0aattribute'+'\x20uint\x20vert'+'ex_id_attr'+'ib;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20render'+'\x20order\x20bas'+'e\x0a\x0auniform'+'\x20uint\x20numS'+'plats;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20tota'+'l\x20number\x20o'+'f\x20splats\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20splatO'+'rder;\x20\x20\x20\x20/'+'/\x20per-spla'+'t\x20index\x20to'+'\x20source\x20ga'+'ussian\x0a\x0a//'+'\x20initializ'+'e\x20the\x20spla'+'t\x20source\x20s'+'tructure\x0ab'+'ool\x20initSo'+'urce(out\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(splatOrde'+'r,\x200).x);\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20ui'+'nt(vertex_'+'position.z'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20if'+'\x20out\x20of\x20ra'+'nge\x20(since'+'\x20the\x20last\x20'+'block\x20of\x20s'+'plats\x20may\x20'+'be\x20partial'+'ly\x20full)\x0a\x20'+'\x20\x20\x20if\x20(sou'+'rce.order\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20order'+'UV\x20=\x20ivec2'+'(source.or'+'der\x20%\x20w,\x20s'+'ource.orde'+'r\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20splat\x20id\x0a'+'\x20\x20\x20\x20source'+'.id\x20=\x20texe'+'lFetch(spl'+'atOrder,\x20o'+'rderUV,\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20/'+'/\x20map\x20id\x20t'+'o\x20uv\x0a\x20\x20\x20\x20s'+'ource.uv\x20='+'\x20ivec2(sou'+'rce.id\x20%\x20w'+',\x20source.i'+'d\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a',sP='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0aun'+'iform\x20int\x20'+'pointCloud'+'ModeEnable'+'d;\x0auniform'+'\x20float\x20uTi'+'me;\x0aunifor'+'m\x20float\x20pr'+'erenderCTi'+'me;\x0aunifor'+'m\x20float\x20uS'+'aturation;'+'\x20//\x200.0-2.'+'01.0\x20'+'\x0auniform'+'\x20float\x20uHu'+'eOffset;\x20\x20'+'//\x20'+'360'+'\x0auniform\x20v'+'ec3\x20clrOff'+'set;\x0aunifo'+'rm\x20vec4\x20cl'+'rScale;\x0aun'+'iform\x20floa'+'t\x20uOpacity'+';\x0auniform\x20'+'int\x20uInver'+'tOpacity;\x0a'+'\x0avarying\x20m'+'ediump\x20vec'+'2\x20gaussian'+'UV;\x0avaryin'+'g\x20mediump\x20'+'vec4\x20gauss'+'ianColor;\x0a'+'varying\x20me'+'diump\x20vec2'+'\x20gaussianS'+'ize;\x0avaryi'+'ng\x20mediump'+'\x20vec2\x20gaus'+'sianCUV;\x0av'+'arying\x20med'+'iump\x20float'+'\x20saveMargi'+'nal;\x0a\x0a//\x20='+'====\x20\x20H'+'SV/RGB\x20\x20'+'=====\x0ahigh'+'p\x20vec3\x20rgb'+'2hsv(highp'+'\x20vec3\x20c)\x20{'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20cMa'+'x\x20=\x20max(ma'+'x(c.r,\x20c.g'+'),\x20c.b);\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20cMin\x20'+'=\x20min(min('+'c.r,\x20c.g),'+'\x20c.b);\x0a\x20\x20\x20'+'\x20highp\x20flo'+'at\x20delta\x20='+'\x20cMax\x20-\x20cM'+'in\x20+\x201e-10'+';\x20//\x200\x0a'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20h\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'if\x20(delta\x20'+'>\x201e-6)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(cMax\x20==\x20'+'c.r)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20h'+'\x20=\x20mod((c.'+'g\x20-\x20c.b)\x20/'+'\x20delta,\x206.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(cMax\x20=='+'\x20c.g)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'h\x20=\x20(c.b\x20-'+'\x20c.r)\x20/\x20de'+'lta\x20+\x202.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'h\x20=\x20(c.r\x20-'+'\x20c.g)\x20/\x20de'+'lta\x20+\x204.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20h'+'\x20/=\x206.0;\x20/'+'/\x20\x20[0,1]'+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(h\x20<\x200.0'+')\x20h\x20+=\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20s\x20=\x20('+'cMax\x20<\x201e-'+'6)\x20?\x200.0\x20:'+'\x20delta\x20/\x20c'+'Max;\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20v\x20=\x20cMax;'+'\x0a\x20\x20\x20\x20retur'+'n\x20vec3(h,\x20'+'s,\x20v);\x0a}\x0a\x0a'+'highp\x20vec3'+'\x20hsv2rgb(h'+'ighp\x20vec3\x20'+'c)\x20{\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20h\x20=\x20c.x\x20*'+'\x206.0;\x20//\x200'+'-6\x0a\x20\x20\x20\x20hig'+'hp\x20float\x20s'+'\x20=\x20c.y;\x0a\x20\x20'+'\x20\x20highp\x20fl'+'oat\x20v\x20=\x20c.'+'z;\x0a\x0a\x20\x20\x20\x20hi'+'ghp\x20int\x20i\x20'+'=\x20int(floo'+'r(h));\x0a\x20\x20\x20'+'\x20highp\x20flo'+'at\x20f\x20=\x20h\x20-'+'\x20float(i);'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20p\x20='+'\x20v\x20*\x20(1.0\x20'+'-\x20s);\x0a\x20\x20\x20\x20'+'highp\x20floa'+'t\x20q\x20=\x20v\x20*\x20'+'(1.0\x20-\x20s\x20*'+'\x20f);\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20t\x20=\x20v\x20*\x20('+'1.0\x20-\x20s\x20*\x20'+'(1.0\x20-\x20f))'+';\x0a\x0a\x20\x20\x20\x20if\x20'+'(i\x20==\x200)\x20r'+'eturn\x20vec3'+'(v,\x20t,\x20p);'+'\x0a\x20\x20\x20\x20else\x20'+'if\x20(i\x20==\x201'+')\x20return\x20v'+'ec3(q,\x20v,\x20'+'p);\x0a\x20\x20\x20\x20el'+'se\x20if\x20(i\x20='+'=\x202)\x20retur'+'n\x20vec3(p,\x20'+'v,\x20t);\x0a\x20\x20\x20'+'\x20else\x20if\x20('+'i\x20==\x203)\x20re'+'turn\x20vec3('+'p,\x20q,\x20v);\x0a'+'\x20\x20\x20\x20else\x20i'+'f\x20(i\x20==\x204)'+'\x20return\x20ve'+'c3(t,\x20p,\x20v'+');\x0a\x20\x20\x20\x20els'+'e\x20return\x20v'+'ec3(v,\x20p,\x20'+'q);\x20//\x20i=='+'5\x0a}\x0a\x0a#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20id;\x0a#en'+'dif\x0a\x0amediu'+'mp\x20vec4\x20di'+'scardVec\x20='+'\x20vec4(0.0,'+'\x200.0,\x202.0,'+'\x201.0);\x0a\x0a#i'+'fdef\x20PREPA'+'SS_PASS\x0a\x20\x20'+'\x20\x20varying\x20'+'float\x20vLin'+'earDepth;\x0a'+'#endif\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'//\x20read\x20ga'+'ussian\x20det'+'ails\x0a\x20\x20\x20\x20S'+'platSource'+'\x20source;\x0a\x20'+'\x20\x20\x20if\x20(!in'+'itSource(s'+'ource))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20')+('=\x20discardV'+'ec;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20saveMargi'+'nal\x20=\x20getM'+'arginalT(s'+'ource,\x20uTi'+'me);\x0a\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20float\x20'+'marginal\x20='+'\x20uOpenAnim'+'\x20==\x201\x20?\x201.'+'0\x20:\x20saveMa'+'rginal;\x0a\x20\x20'+'\x20\x20if\x20(marg'+'inal\x20<\x200.0'+'5)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20dis'+'cardVec;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20modelCent'+'er;\x0a\x20\x20\x20\x20bo'+'ol\x20isCente'+'r4D\x20=\x20save'+'Marginal\x20>'+'=\x200.05;\x0a\x20\x20'+'\x20\x20if\x20(isCe'+'nter4D)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'delCenter\x20'+'=\x20readCent'+'er4D(sourc'+'e,\x20uTime);'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20modelCen'+'ter\x20=\x20read'+'Center(sou'+'rce);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20Spl'+'atCenter\x20c'+'enter;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Center(mod'+'elCenter,\x20'+'center))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20discard'+'Vec;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return;'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20int\x20'+'showCloud\x20'+'=\x20pointClo'+'udModeEnab'+'led;\x0a\x20\x20\x20\x20i'+'f\x20(prerend'+'erCTime\x20=='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20show'+'Cloud\x20=\x20po'+'intCloudMo'+'deEnabled;'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if\x20(prer'+'enderCTime'+'\x20>=\x201.0\x20&&'+'\x20prerender'+'CTime\x20<\x202.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20showClo'+'ud\x20=\x201;\x0a\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(prerend'+'erCTime\x20>='+'\x202.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20show'+'Cloud\x20=\x20po'+'intCloudMo'+'deEnabled;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20proje'+'ct\x20center\x20'+'to\x20screen\x20'+'space\x0a\x20\x20\x20\x20'+'SplatCorne'+'r\x20corner;\x0a'+'\x20\x20\x20\x20if\x20(!i'+'nitCorner('+'source,\x20ce'+'nter,\x20corn'+'er,\x20showCl'+'oud))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_P'+'osition\x20=\x20')+('discardVec'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20col'+'or\x0a\x20\x20\x20\x20vec'+'4\x20clr\x20=\x20re'+'adColor(so'+'urce,\x20uTim'+'e,\x20!isCent'+'er4D,\x20poin'+'tCloudMode'+'Enabled);\x0a'+'\x0a\x20\x20\x20\x20#if\x20G'+'SPLAT_AA\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'apply\x20AA\x20c'+'ompensatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'clr.a\x20*=\x20c'+'orner.aaFa'+'ctor;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20if(margi'+'nal\x20>\x200.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20clr.w\x20*=\x20'+'marginal;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20//\x20\x0a\x20'+'\x20\x20\x20if\x20(uCo'+'ntrolColor'+'Mode\x20==\x201)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20apply\x20'+'tint/brigh'+'tness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20clr\x20=\x20'+'clr\x20*\x20clrS'+'cale\x20+\x20vec'+'4(clrOffse'+'t,\x200.0);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(uInvertO'+'pacity\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20clr'+'.a\x20=\x201.0\x20-'+'\x20clr.a;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20don\x27t\x20'+'allow\x20out-'+'of-range\x20a'+'lpha\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20clr\x20=\x20c'+'lamp(clr,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20evalu'+'ate\x20spheri'+'cal\x20harmon'+'ics\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20the\x20'+'model-spac'+'e\x20view\x20dir'+'ection\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20norm'+'alize(cent'+'er.view\x20*\x20'+'mat3(cente'+'r.modelVie'+'w));\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20rea'+'d\x20sh\x20coeff'+'icients\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sh[SH_COE'+'FFS];\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'scale;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20readS'+'HData(sour'+'ce,\x20sh,\x20sc'+'ale);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ev'+'aluate\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr.x'+'yz\x20+=\x20eval'+'SH(sh,\x20dir'+')\x20*\x20scale;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20cli'+'pCorner(co'+'rner,\x20clr.'+'w);\x0a\x0a\x20\x20\x20\x20/')+('/\x20pointClo'+'udMode\x0a\x20\x20\x20'+'\x20//\x20if\x20(po'+'intCloudMo'+'deEnabled\x20'+'==\x201)\x20{\x0a\x20\x20'+'\x20\x20//\x20\x20\x20\x20\x20c'+'lr.a\x20=\x201.0'+';\x0a\x20\x20\x20\x20//\x20}'+'\x0a\x20\x20\x20\x20highp'+'\x20vec3\x20colo'+'r\x20=\x20max(cl'+'r.xyz,\x200.0'+');\x0a\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20//\x20\x0a'+'\x20\x20\x20\x20if\x20(uC'+'ontrolColo'+'rMode\x20==\x201'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20\x20HSV'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20h'+'ighp\x20vec3\x20'+'hsv\x20=\x20rgb2'+'hsv(color)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20hsv.'+'y\x20*=\x20uSatu'+'ration;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20hsv.x\x20=\x20f'+'ract(hsv.x'+'\x20+\x20uHueOff'+'set\x20/\x20360.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20\x20RGB'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'olor\x20=\x20hsv'+'2rgb(hsv);'+'\x20\x20\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20wri'+'te\x20output\x0a'+'\x20\x20\x20\x20gl_Pos'+'ition\x20=\x20ce'+'nter.proj\x20'+'+\x20vec4(cor'+'ner.offset'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20gaussia'+'nUV\x20=\x20corn'+'er.uv;\x0a\x20\x20\x20'+'\x20gaussianC'+'UV\x20=\x20corne'+'r.cUV;\x0a\x20\x20\x20'+'\x20gaussianS'+'ize\x20=\x20corn'+'er.cSize;\x0a'+'\x20\x20\x20\x20gaussi'+'anColor\x20=\x20'+'vec4(prepa'+'reOutputFr'+'omGamma(co'+'lor),\x20clr.'+'w);\x0a\x20\x20\x20\x20ga'+'ussianColo'+'r\x20=\x20clamp('+'gaussianCo'+'lor,\x200.0,\x20'+'1.0);\x0a\x0a\x20\x20\x20'+'\x20#ifndef\x20D'+'ITHER_NONE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'d\x20=\x20float('+'source.id)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20PREPA'+'SS_PASS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vLin'+'earDepth\x20='+'\x20-center.v'+'iew.z;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),iP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'aPosition;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x0a\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(aPos'+'ition,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv0\x20'+'=\x20getImage'+'EffectUV(('+'aPosition.'+'xy\x20+\x201.0)\x20'+'*\x200.5);\x0a\x20\x20'+'\x20\x20}\x0a',rP='\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec4\x20c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(decodeG'+'amma(color'+'.rgb)),\x20co'+'lor.a);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a',aP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec4\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20attribute'+'\x20vec4\x20vert'+'ex_color;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec4\x20co'+'lor;\x0a\x20\x20\x20\x20v'+'oid\x20main(v'+'oid)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'\x20=\x20vertex_'+'color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20matrix_'+'model\x20*\x20ve'+'rtex_posit'+'ion;\x0a\x20\x20\x20\x20}'+'\x0a',nP='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceRefra'+'ctionIndex'+';\x0a\x0afloat\x20i'+'ridescence'+'_iorToFres'+'nel(float\x20'+'transmitte'+'dIor,\x20floa'+'t\x20incident'+'Ior)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w((transmi'+'ttedIor\x20-\x20'+'incidentIo'+'r)\x20/\x20(tran'+'smittedIor'+'\x20+\x20inciden'+'tIor),\x202.0'+');\x0a}\x0a\x0avec3'+'\x20iridescen'+'ce_iorToFr'+'esnel(vec3'+'\x20transmitt'+'edIor,\x20flo'+'at\x20inciden'+'tIor)\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow((transm'+'ittedIor\x20-'+'\x20vec3(inci'+'dentIor))\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'vec3(incid'+'entIor)),\x20'+'vec3(2.0))'+';\x0a}\x0a\x0avec3\x20'+'iridescenc'+'e_fresnelT'+'oIor(vec3\x20'+'f0)\x20{\x0a\x20\x20\x20\x20'+'vec3\x20sqrtF'+'0\x20=\x20sqrt(f'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20(vec3'+'(1.0)\x20+\x20sq'+'rtF0)\x20/\x20(v'+'ec3(1.0)\x20-'+'\x20sqrtF0);\x0a'+'}\x0a\x0avec3\x20ir'+'idescence_'+'sensitivit'+'y(float\x20op'+'d,\x20vec3\x20sh'+'ift)\x20{\x0a\x20\x20\x20'+'\x20float\x20PI\x20'+'=\x203.141592'+'653589793;'+'\x0a\x20\x20\x20\x20float'+'\x20phase\x20=\x202'+'.0\x20*\x20PI\x20*\x20'+'opd\x20*\x201.0e'+'-9;\x0a\x20\x20\x20\x20co'+'nst\x20vec3\x20v'+'al\x20=\x20vec3('+'5.4856e-13'+',\x204.4201e-'+'13,\x205.2481'+'e-13);\x0a\x20\x20\x20'+'\x20const\x20vec'+'3\x20pos\x20=\x20ve'+'c3(1.6810e'+'+06,\x201.795'+'3e+06,\x202.2'+'084e+06);\x0a'+'\x20\x20\x20\x20const\x20'+'vec3\x20var\x20='+'\x20vec3(4.32'+'78e+09,\x209.'+'3046e+09,\x20'+'6.6121e+09'+');\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20xyz\x20=\x20v'+'al\x20*\x20sqrt('+'2.0\x20*\x20PI\x20*'+'\x20var)\x20*\x20co'+'s(pos\x20*\x20ph'+'ase\x20+\x20shif'+'t)\x20*\x20exp(-'+'pow(phase,'+'\x202.0)\x20*\x20va'+'r);\x0a\x20\x20\x20\x20xy'+'z.x\x20+=\x209.7'+'470e-14\x20*\x20'+'sqrt(2.0\x20*'+'\x20PI\x20*\x204.52'+'82e+09)\x20*\x20'+('cos(2.2399'+'e+06\x20*\x20pha'+'se\x20+\x20shift'+'[0])\x20*\x20exp'+'(-4.5282e+'+'09\x20*\x20pow(p'+'hase,\x202.0)'+');\x0a\x20\x20\x20\x20xyz'+'\x20/=\x20vec3(1'+'.0685e-07)'+';\x0a\x0a\x20\x20\x20\x20con'+'st\x20mat3\x20XY'+'Z_TO_REC70'+'9\x20=\x20mat3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x203.'+'2404542,\x20-'+'0.9692660,'+'\x20\x200.055643'+'4,\x0a\x20\x20\x20\x20\x20\x20\x20'+'-1.5371385'+',\x20\x201.87601'+'08,\x20-0.204'+'0259,\x0a\x20\x20\x20\x20'+'\x20\x20\x20-0.4985'+'314,\x20\x200.04'+'15560,\x20\x201.'+'0572252\x0a\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'return\x20XYZ'+'_TO_REC709'+'\x20*\x20xyz;\x0a}\x0a'+'\x0afloat\x20iri'+'descence_f'+'resnel(flo'+'at\x20cosThet'+'a,\x20float\x20f'+'0)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20x\x20=\x20c'+'lamp(1.0\x20-'+'\x20cosTheta,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20floa'+'t\x20x2\x20=\x20x\x20*'+'\x20x;\x0a\x20\x20\x20\x20fl'+'oat\x20x5\x20=\x20x'+'\x20*\x20x2\x20*\x20x2'+';\x0a\x20\x20\x20\x20retu'+'rn\x20f0\x20+\x20(1'+'.0\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x20\x0a\x0av'+'ec3\x20irides'+'cence_fres'+'nel(float\x20'+'cosTheta,\x20'+'vec3\x20f0)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20clamp'+'(1.0\x20-\x20cos'+'Theta,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20float\x20x2'+'\x20=\x20x\x20*\x20x;\x0a'+'\x20\x20\x20\x20float\x20'+'x5\x20=\x20x\x20*\x20x'+'2\x20*\x20x2;\x20\x0a\x20'+'\x20\x20\x20return\x20'+'f0\x20+\x20(vec3'+'(1.0)\x20-\x20f0'+')\x20*\x20x5;\x0a}\x0a'+'\x0avec3\x20calc'+'Iridescenc'+'e(float\x20ou'+'tsideIor,\x20'+'float\x20cosT'+'heta,\x20vec3'+'\x20base_f0,\x20'+'float\x20irid'+'escenceThi'+'ckness)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'PI\x20=\x203.141'+'5926535897'+'93;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceIor\x20'+'=\x20mix(outs'+'ideIor,\x20ma'+'terial_iri'+'descenceRe'+'fractionIn'+'dex,\x20smoot'+'hstep(0.0,'+'\x200.03,\x20iri'+'descenceTh'+'ickness));'+'\x0a\x20\x20\x20\x20float'+'\x20sinTheta2'+'Sq\x20=\x20pow(o'+'utsideIor\x20'+'/\x20iridesce')+('nceIor,\x202.'+'0)\x20*\x20(1.0\x20'+'-\x20pow(cosT'+'heta,\x202.0)'+');\x0a\x20\x20\x20\x20flo'+'at\x20cosThet'+'a2Sq\x20=\x201.0'+'\x20-\x20sinThet'+'a2Sq;\x0a\x0a\x20\x20\x20'+'\x20if\x20(cosTh'+'eta2Sq\x20<\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec3(1.0)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20c'+'osTheta2\x20='+'\x20sqrt(cosT'+'heta2Sq);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20r0\x20=\x20irid'+'escence_io'+'rToFresnel'+'(iridescen'+'ceIor,\x20out'+'sideIor);\x0a'+'\x20\x20\x20\x20float\x20'+'r12\x20=\x20irid'+'escence_fr'+'esnel(cosT'+'heta,\x20r0);'+'\x0a\x20\x20\x20\x20float'+'\x20r21\x20=\x20r12'+';\x0a\x20\x20\x20\x20floa'+'t\x20t121\x20=\x201'+'.0\x20-\x20r12;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20phi12\x20=\x20i'+'ridescence'+'Ior\x20<\x20outs'+'ideIor\x20?\x20P'+'I\x20:\x200.0;\x0a\x20'+'\x20\x20\x20float\x20p'+'hi21\x20=\x20PI\x20'+'-\x20phi12;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20b'+'aseIor\x20=\x20i'+'ridescence'+'_fresnelTo'+'Ior(base_f'+'0\x20+\x20vec3(0'+'.0001));\x0a\x20'+'\x20\x20\x20vec3\x20r1'+'\x20=\x20iridesc'+'ence_iorTo'+'Fresnel(ba'+'seIor,\x20iri'+'descenceIo'+'r);\x0a\x20\x20\x20\x20ve'+'c3\x20r23\x20=\x20i'+'ridescence'+'_fresnel(c'+'osTheta2,\x20'+'r1);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20phi23'+'\x20=\x20vec3(0.'+'0);\x0a\x20\x20\x20\x20if'+'\x20(baseIor['+'0]\x20<\x20iride'+'scenceIor)'+'\x20phi23[0]\x20'+'=\x20PI;\x0a\x20\x20\x20\x20'+'if\x20(baseIo'+'r[1]\x20<\x20iri'+'descenceIo'+'r)\x20phi23[1'+']\x20=\x20PI;\x0a\x20\x20'+'\x20\x20if\x20(base'+'Ior[2]\x20<\x20i'+'ridescence'+'Ior)\x20phi23'+'[2]\x20=\x20PI;\x0a'+'\x20\x20\x20\x20float\x20'+'opd\x20=\x202.0\x20'+'*\x20iridesce'+'nceIor\x20*\x20i'+'ridescence'+'Thickness\x20'+'*\x20cosTheta'+'2;\x0a\x20\x20\x20\x20vec'+'3\x20phi\x20=\x20ve'+'c3(phi21)\x20'+'+\x20phi23;\x20\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'r123Sq\x20=\x20c'+'lamp(r12\x20*'+'\x20r23,\x201e-5'+',\x200.9999);'+'\x0a\x20\x20\x20\x20vec3\x20'+'r123\x20=\x20sqr')+('t(r123Sq);'+'\x0a\x20\x20\x20\x20vec3\x20'+'rs\x20=\x20pow(t'+'121,\x202.0)\x20'+'*\x20r23\x20/\x20(1'+'.0\x20-\x20r123S'+'q);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20c0\x20=\x20r'+'12\x20+\x20rs;\x0a\x20'+'\x20\x20\x20vec3\x20i\x20'+'=\x20c0;\x0a\x0a\x20\x20\x20'+'\x20vec3\x20cm\x20='+'\x20rs\x20-\x20t121'+';\x0a\x20\x20\x20\x20for\x20'+'(int\x20m\x20=\x201'+';\x20m\x20<=\x202;\x20'+'m++)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20cm\x20*='+'\x20r123;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'sm\x20=\x202.0\x20*'+'\x20iridescen'+'ce_sensiti'+'vity(float'+'(m)\x20*\x20opd,'+'\x20float(m)\x20'+'*\x20phi);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20i\x20+='+'\x20cm\x20*\x20sm;\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'return\x20max'+'(i,\x20vec3(0'+'.0));\x0a}\x0a\x0av'+'ec3\x20getIri'+'descence(f'+'loat\x20cosTh'+'eta,\x20vec3\x20'+'specularit'+'y,\x20float\x20i'+'ridescence'+'Thickness)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcIr'+'idescence('+'1.0,\x20cosTh'+'eta,\x20specu'+'larity,\x20ir'+'idescenceT'+'hickness);'+'\x0a}\x0a'),oP='\x0a#ifdef\x20ST'+'D_IRIDESCE'+'NCE_CONSTA'+'NT\x0auniform'+'\x20float\x20mat'+'erial_irid'+'escence;\x0a#'+'endif\x0a\x0avoi'+'d\x20getIride'+'scence()\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_IRID'+'ESCENCE_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20iridescen'+'ce\x20*=\x20mate'+'rial_iride'+'scence;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20*=\x20textur'+'e2DBias({S'+'TD_IRIDESC'+'ENCE_TEXTU'+'RE_NAME},\x20'+'{STD_IRIDE'+'SCENCE_TEX'+'TURE_UV},\x20'+'textureBia'+'s).{STD_IR'+'IDESCENCE_'+'TEXTURE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dIride'+'scence\x20=\x20i'+'ridescence'+';\x20\x0a}\x0a',lP='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceThick'+'nessMax;\x0a\x0a'+'#ifdef\x20STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_iridesc'+'enceThickn'+'essMin;\x0a#e'+'ndif\x0a\x0avoid'+'\x20getIrides'+'cenceThick'+'ness()\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'end\x20=\x20text'+'ure2DBias('+'{STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE_NAME},'+'\x20{STD_IRID'+'ESCENCETHI'+'CKNESS_TEX'+'TURE_UV},\x20'+'textureBia'+'s).{STD_IR'+'IDESCENCET'+'HICKNESS_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20iridescen'+'ceThicknes'+'s\x20=\x20mix(ma'+'terial_iri'+'descenceTh'+'icknessMin'+',\x20material'+'_iridescen'+'ceThicknes'+'sMax,\x20blen'+'d);\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20ir'+'idescenceT'+'hickness\x20='+'\x20material_'+'iridescenc'+'eThickness'+'Max;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dIridesce'+'nceThickne'+'ss\x20=\x20iride'+'scenceThic'+'kness;\x20\x0a}\x0a',cP='\x0a#ifdef\x20ST'+'D_IOR_CONS'+'TANT\x0aunifo'+'rm\x20float\x20m'+'aterial_re'+'fractionIn'+'dex;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tIor()\x20{\x0a#'+'ifdef\x20STD_'+'IOR_CONSTA'+'NT\x0a\x20\x20\x20\x20dIo'+'r\x20=\x20materi'+'al_refract'+'ionIndex;\x0a'+'#else\x0a\x20\x20\x20\x20'+'dIor\x20=\x201.0'+'\x20/\x201.5;\x0a#e'+'ndif\x0a}\x0a',hP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20light{i}_'+'color;\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec3\x20light'+'{i}_direct'+'ion;\x0a\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#defin'+'e\x20LIT_CODE'+'_LIGHTS_PO'+'INT\x20//\x20inc'+'lude\x20funct'+'ionality\x20f'+'or\x20point\x20l'+'ights\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20li'+'ght{i}_pos'+'ition;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20l'+'ight{i}_ra'+'dius;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20SPOT\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'LIGHTS_SPO'+'T\x20//\x20inclu'+'de\x20functio'+'nality\x20for'+'\x20spot\x20ligh'+'ts\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20l'+'ight{i}_di'+'rection;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20light'+'{i}_innerC'+'oneAngle;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'float\x20ligh'+'t{i}_outer'+'ConeAngle;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20area\x20'+'lights\x0a\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20inverse\x20'+'squared\x20fa'+'lloff\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'3\x20light{i}'+'_position;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20vec3\x20lig'+'ht{i}_half'+'Width;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20li'+'ght{i}_hal'+'fHeight;\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'FALLOFF\x20=='+'\x20LINEAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+('T_CODE_FAL'+'LOFF_LINEA'+'R\x20//\x20inclu'+'de\x20functio'+'nality\x20for'+'\x20linear\x20fa'+'lloff\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}FALLOFF\x20'+'==\x20INVERSE'+'SQUARED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20inverse\x20'+'squared\x20fa'+'lloff\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ca'+'sting\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'CASTSHADOW'+')\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20light{'+'i}_shadowM'+'atrix;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20l'+'ight{i}_sh'+'adowIntens'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20vec4\x20ligh'+'t{i}_shado'+'wParams;\x20/'+'/\x20width,\x20h'+'eight,\x20bia'+'s,\x20radius\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCSS_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'light{i}_s'+'hadowSearc'+'hArea;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20light{i}'+'_cameraPar'+'ams;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20DIR'+'ECTIONAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20li'+'ght{i}_sof'+'tShadowPar'+'ams;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20direction'+'al\x20(cascad'+'ed)\x20shadow'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20lig'+'ht{i}_shad'+'owMatrixPa'+'lette[4];\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec4\x20light'+'{i}_shadow'+'CascadeDis'+'tances;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20in'+'t\x20light{i}'+'_shadowCas')+('cadeCount;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20float\x20lig'+'ht{i}_shad'+'owCascadeB'+'lend;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'OMNI\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IGHT{i}SHA'+'DOW_PCF)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'CubeShadow'+'\x20light{i}_'+'shadowMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'Cube\x20light'+'{i}_shadow'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'SHADOW_PCF'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2DShado'+'w\x20light{i}'+'_shadowMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20light{'+'i}_shadowM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20co'+'okie\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(LIGHT{i}C'+'OOKIE)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_COOKIE\x20'+'//\x20include'+'\x20functiona'+'lity\x20for\x20c'+'ookies\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20OMNI'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20samplerCu'+'be\x20light{i'+'}_cookie;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'float\x20ligh'+'t{i}_cooki'+'eIntensity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20!d'+'efined(LIG'+'HT{i}CASTS'+'HADOW)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20mat4\x20ligh'+'t{i}_shado'+'wMatrix;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20SPOT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20lig')+('ht{i}_cook'+'ie;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'light{i}_c'+'ookieInten'+'sity;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20!defined'+'(LIGHT{i}C'+'ASTSHADOW)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'light{i}_s'+'hadowMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIGH'+'T{i}COOKIE'+'_TRANSFORM'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20light{i}_'+'cookieMatr'+'ix;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c2\x20light{i'+'}_cookieOf'+'fset;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a'),dP='\x0afloat\x20get'+'LightDiffu'+'se(vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'lightDirNo'+'rm)\x20{\x0a\x20\x20\x20\x20'+'return\x20max'+'(dot(world'+'Normal,\x20-l'+'ightDirNor'+'m),\x200.0);\x0a'+'}\x0a',fP='\x0avec3\x20eval'+'OmniLight('+'vec3\x20light'+'PosW)\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'PositionW\x20'+'-\x20lightPos'+'W;\x0a}\x0a',uP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x20\x20\x20\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20irides'+'cenceFresn'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20);\x0a#endi'+'f\x0a',pP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0avoid\x20e'+'valuateLig'+'ht{i}(\x0a\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20iridesc'+'enceFresne'+'l\x0a\x20\x20\x20\x20#end'+'if\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20light'+'\x20color\x0a\x20\x20\x20'+'\x20vec3\x20ligh'+'tColor\x20=\x20l'+'ight{i}_co'+'lor;\x0a\x0a\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x20&&\x20!defi'+'ned(LIT_SH'+'ADOW_CATCH'+'ER)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20early'+'\x20return\x20if'+'\x20the\x20light'+'\x20color\x20is\x20'+'black\x20(use'+'d\x20by\x20shado'+'w\x20catcher\x20'+'-\x20this\x20way'+'\x20this\x20ligh'+'t\x20is\x20very\x20'+'cheap)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(a'+'ll(equal(l'+'ightColor,'+'\x20vec3(0.0)'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x20//\x20dir'+'ectional\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dLight'+'DirNormW\x20='+'\x20light{i}_'+'direction;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#e'+'lse\x20//\x20omn'+'i\x20or\x20spot\x20'+'light\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'ghtDirW\x20=\x20'+'evalOmniLi'+'ght(light{'+'i}_positio'+'n);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dLightDi'+'rNormW\x20=\x20n'+'ormalize(l'+'ightDirW);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20cookie\x20'+'attenuatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'COOKIE)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}COO'+'KIE_FALLOF'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}COO'+'KIE_TRANSF'+'ORM\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20cookieA'+'ttenuation'+'\x20=\x20getCook'+'ie2DXform('+('light{i}_c'+'ookie,\x20lig'+'ht{i}_shad'+'owMatrix,\x20'+'light{i}_c'+'ookieInten'+'sity,\x20ligh'+'t{i}_cooki'+'eMatrix,\x20l'+'ight{i}_co'+'okieOffset'+').{LIGHT{i'+'}COOKIE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20cookieA'+'ttenuation'+'\x20=\x20getCook'+'ie2D(light'+'{i}_cookie'+',\x20light{i}'+'_shadowMat'+'rix,\x20light'+'{i}_cookie'+'Intensity)'+'.{LIGHT{i}'+'COOKIE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}COOKIE_TR'+'ANSFORM\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20get'+'Cookie2DCl'+'ipXform(li'+'ght{i}_coo'+'kie,\x20light'+'{i}_shadow'+'Matrix,\x20li'+'ght{i}_coo'+'kieIntensi'+'ty,\x20light{'+'i}_cookieM'+'atrix,\x20lig'+'ht{i}_cook'+'ieOffset).'+'{LIGHT{i}C'+'OOKIE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20cookieAtt'+'enuation\x20='+'\x20getCookie'+'2DClip(lig'+'ht{i}_cook'+'ie,\x20light{'+'i}_shadowM'+'atrix,\x20lig'+'ht{i}_cook'+'ieIntensit'+'y).{LIGHT{'+'i}COOKIE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20OMNI\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20get'+'CookieCube'+'(light{i}_'+'cookie,\x20li'+'ght{i}_sha')+('dowMatrix,'+'\x20light{i}_'+'cookieInte'+'nsity).{LI'+'GHT{i}COOK'+'IE_CHANNEL'+'};\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20mu'+'ltiply\x20lig'+'ht\x20color\x20b'+'y\x20the\x20cook'+'ie\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lig'+'htColor\x20*='+'\x20cookieAtt'+'enuation;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20di'+'stance\x20fal'+'loff\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20==\x20PUNCTU'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}FAL'+'LOFF\x20==\x20LI'+'NEAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dAtten\x20=\x20'+'getFalloff'+'Linear(lig'+'ht{i}_radi'+'us,\x20lightD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dAtten\x20=\x20g'+'etFalloffI'+'nvSquared('+'light{i}_r'+'adius,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20non'+'\x20punctual\x20'+'lights\x20onl'+'y\x20gets\x20the'+'\x20range\x20win'+'dow\x20here\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dAtten\x20=\x20'+'getFalloff'+'Window(lig'+'ht{i}_radi'+'us,\x20lightD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20angle\x20'+'falloff\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20SPOT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20!de'+'fined(LIGH'+'T{i}COOKIE'+')\x20||\x20defin'+'ed(LIGHT{i'+'}COOKIE_FA'+'LLOFF)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dAtten\x20'+'*=\x20getSpot'+'Effect(lig'+'ht{i}_dire'+'ction,\x20lig'+'ht{i}_inne'+'rConeAngle'+',\x20light{i}'+'_outerCone'+'Angle,\x20dLi'+'ghtDirNorm'+'W);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20if\x20(dA'+'tten\x20<\x200.0')+('0001)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ev'+'aluate\x20are'+'a\x20light\x20va'+'lues\x0a\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20!=\x20'+'PUNCTUAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20calcR'+'ectLightVa'+'lues(light'+'{i}_positi'+'on,\x20light{'+'i}_halfWid'+'th,\x20light{'+'i}_halfHei'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20DIS'+'K\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20calcDi'+'skLightVal'+'ues(light{'+'i}_positio'+'n,\x20light{i'+'}_halfWidt'+'h,\x20light{i'+'}_halfHeig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20L'+'IGHT{i}SHA'+'PE\x20==\x20SPHE'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20calcS'+'phereLight'+'Values(lig'+'ht{i}_posi'+'tion,\x20ligh'+'t{i}_halfW'+'idth,\x20ligh'+'t{i}_halfH'+'eight);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'lighting\x20-'+'\x20LTC\x20light'+'s\x20do\x20not\x20m'+'ix\x20diffuse'+'\x20lighting\x20'+'into\x20atten'+'uation\x20tha'+'t\x20affects\x20'+'specular\x0a\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20!=\x20PUNCTU'+'AL\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20atten'+'Diffuse\x20-\x20'+'separate\x20d'+'iffuse\x20att'+'enuation\x20f'+'or\x20non-pun'+'ctual\x20ligh'+'t\x20sources\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20D'+'IRECTIONAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20NB:\x20'+'A\x20better\x20a'+'pproximati'+'on\x20perhaps'+'\x20using\x20wra'+'p\x20lighting'+'\x20could\x20be\x20'+'implemente'+'d\x20here\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20atten'+'Diffuse\x20=\x20'+'getLightDi'+'ffuse(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20dL'+'ightDirNor'+'mW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20//\x2016.0\x20i'+'s\x20a\x20consta'+'nt\x20that\x20is'+'\x20in\x20getFal'+'loffInvSqu'+'ared()\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20==\x20'+'RECT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20att'+'enDiffuse\x20'+'=\x20getRectL'+'ightDiffus'+'e(litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW,\x20lightD'+'irW,\x20dLigh'+'tDirNormW)'+'\x20*\x2016.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20DISK\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20attenDiff'+'use\x20=\x20getD'+'iskLightDi'+'ffuse(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20li'+'ghtDirW,\x20d'+'LightDirNo'+'rmW)\x20*\x2016.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20LIGHT{i}S'+'HAPE\x20==\x20SP'+'HERE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20att'+'enDiffuse\x20'+'=\x20getSpher'+'eLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW,\x20ligh'+'tDirW,\x20dLi'+'ghtDirNorm'+'W)\x20*\x2016.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20one\x20'+'parameter\x20'+'is\x20unused\x20'+'for\x20punctu'+'al\x20lights\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dA'+'tten\x20*=\x20ge'+'tLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20vec3('+'0.0),\x20dLig'+'htDirNormW'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20apply\x20th'+'e\x20shadow\x20a'+'ttenuation'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'CASTSHADOW'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadow{i'+'}(vec3(0.0'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20shad'+'ow\x20=\x20getSh'+'adow{i}(li'+'ghtDirW);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20App')+('ly\x20shadow\x20'+'intensity\x20'+'to\x20the\x20sha'+'dow\x20value\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20=\x20mix'+'(1.0,\x20shad'+'ow,\x20light{'+'i}_shadowI'+'ntensity);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAtten\x20*=\x20'+'shadow;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_SHADOW_'+'CATCHER)\x20&'+'&\x20LIGHT{i}'+'TYPE\x20==\x20DI'+'RECTIONAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20accum'+'ulate\x20shad'+'ows\x20for\x20di'+'rectional\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ShadowCatc'+'her\x20*=\x20sha'+'dow;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20!=\x20'+'PUNCTUAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20-\x20they\x20do'+'\x20not\x20mix\x20d'+'iffuse\x20lig'+'hting\x20into'+'\x20specular\x20'+'attenuatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20('+'(attenDiff'+'use\x20*\x20dAtt'+'en)\x20*\x20ligh'+'tColor)\x20*\x20'+'(1.0\x20-\x20dLT'+'CSpecFres)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20(atte'+'nDiffuse\x20*'+'\x20dAtten)\x20*'+'\x20lightColo'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20punctua'+'l\x20light\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(AR'+'EA_LIGHTS)'+'\x20&&\x20define'+'d(LIT_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20(dAtt'+'en\x20*\x20light'+'Color)\x20*\x20('+'1.0\x20-\x20litA'+'rgs_specul'+'arity);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20spec'+'ular\x20light'+'ing\x0a\x20\x20\x20\x20#i'+'fdef\x20LIGHT')+('{i}AFFECT_'+'SPECULARIT'+'Y\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x20//\x20area\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'PE\x20==\x20RECT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccSpecula'+'rLight\x20+=\x20'+'ccLTCSpecF'+'res\x20*\x20getR'+'ectLightSp'+'ecular(lit'+'Args_clear'+'coat_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20+=\x20ccLTC'+'SpecFres\x20*'+'\x20getDiskLi'+'ghtSpecula'+'r(litArgs_'+'clearcoat_'+'worldNorma'+'l,\x20dViewDi'+'rW)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20L'+'IGHT{i}SHA'+'PE\x20==\x20SPHE'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20+'+'=\x20ccLTCSpe'+'cFres\x20*\x20ge'+'tSphereLig'+'htSpecular'+'(litArgs_c'+'learcoat_w'+'orldNormal'+',\x20dViewDir'+'W)\x20*\x20dAtte'+'n\x20*\x20lightC'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20dLTCSpecF'+'res\x20*\x20getR'+'ectLightSp'+'ecular(lit'+'Args_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSpe'+'cularLight'+'\x20+=\x20dLTCSp')+('ecFres\x20*\x20g'+'etDiskLigh'+'tSpecular('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+')\x20*\x20dAtten'+'\x20*\x20lightCo'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20SPHERE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20+=\x20d'+'LTCSpecFre'+'s\x20*\x20getSph'+'ereLightSp'+'ecular(lit'+'Args_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x20/'+'/\x20punctual'+'\x20light\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20is\x20fres'+'nel\x20needed'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}TYPE\x20'+'==\x20DIRECTI'+'ONAL\x20&&\x20LI'+'T_FRESNEL_'+'MODEL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'GHT{i}FRES'+'NEL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20hal'+'fDirW\x20=\x20no'+'rmalize(-d'+'LightDirNo'+'rmW\x20+\x20dVie'+'wDirW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20if\x20LTC\x20'+'lights\x20are'+'\x20present,\x20'+'specular\x20m'+'ust\x20be\x20acc'+'umulated\x20w'+'ith\x20specul'+'arity\x20(spe'+'cularity\x20i'+'s\x20pre\x20mult'+'iplied\x20by\x20'+'punctual\x20l'+'ight\x20fresn'+'el)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'ghtspecula'+'rCC\x20=\x20getL'+'ightSpecul'+'ar(halfDir'+'W,\x20ccReflD'+'irW,\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_clearcoat'+'_gloss,\x20dT'+'BN)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tspecularC'+'C\x20*=\x20getFr'+'esnelCC(do'+'t(dViewDir'+'W,\x20halfDir'+'W));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20lightsp'+'ecularCC;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecularS'+'heen(halfD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_sheen_glo'+'ss)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20lightSpec'+'ular\x20=\x20get'+'LightSpecu'+'lar(halfDi'+'rW,\x20dReflD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_gloss,\x20dT'+'BN)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'lightSpecu'+'lar\x20*=\x20get'+'Fresnel(do'+'t(dViewDir'+'W,\x20halfDir'+'W),\x20litArg'+'s_gloss,\x20l'+'itArgs_spe'+'cularity,\x20'+'iridescenc'+'eFresnel,\x20'+'litArgs_ir'+'idescence_'+'intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightSpe'+'cular\x20*=\x20g'+'etFresnel('+'dot(dViewD'+'irW,\x20halfD'+'irW),\x20litA'+'rgs_gloss,'+'\x20litArgs_s')+('pecularity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20lightSp'+'ecular\x20*=\x20'+'litArgs_sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20+=\x20light'+'Specular;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a#en'+'dif\x0a'),mP='\x0a\x0a//\x20shado'+'w\x20casting\x20'+'functional'+'ity\x0a#ifdef'+'\x20LIGHT{i}C'+'ASTSHADOW\x0a'+'\x0a\x20\x20\x20\x20//\x20ge'+'nerate\x20sha'+'dow\x20coordi'+'nates\x20func'+'tion,\x20base'+'d\x20on\x20per\x20l'+'ight\x20defin'+'es:\x0a\x20\x20\x20\x20//'+'\x20-\x20_SHADOW'+'_SAMPLE_NO'+'RMAL_OFFSE'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_POIN'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20vec3\x20'+'getShadowS'+'ampleCoord'+'{i}(mat4\x20s'+'hadowTrans'+'form,\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'worldPosit'+'ion,\x20vec3\x20'+'lightPos,\x20'+'inout\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'urfacePosi'+'tion\x20=\x20wor'+'ldPosition'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'GHT{i}_SHA'+'DOW_SAMPLE'+'_POINT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_N'+'ORMAL_OFFS'+'ET\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20distS'+'cale\x20=\x20len'+'gth(lightD'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+'\x20*\x20clamp(1'+'.0\x20-\x20dot(n'+'ormal,\x20-li'+'ghtDirNorm'+'),\x200.0,\x201.'+'0)\x20*\x20distS'+'cale;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightDir'+'\x20=\x20surface'+'Position\x20-'+'\x20lightPos;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20lightD'+'ir;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_S'+'OURCE_ZBUF'+'FER\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_SAMPLE_'+('NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20surfac'+'ePosition\x20'+'=\x20surfaceP'+'osition\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}_SH'+'ADOW_SAMPL'+'E_NORMAL_O'+'FFSET\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20distScal'+'e\x20=\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20distS'+'cale\x20=\x20abs'+'(dot(vPosi'+'tionW\x20-\x20li'+'ghtPos,\x20li'+'ghtDirNorm'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+'\x20*\x20clamp(1'+'.0\x20-\x20dot(n'+'ormal,\x20-li'+'ghtDirNorm'+'),\x200.0,\x201.'+'0)\x20*\x20distS'+'cale;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20posi'+'tionInShad'+'owSpace\x20=\x20'+'shadowTran'+'sform\x20*\x20ve'+'c4(surface'+'Position,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIGHT'+'{i}_SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'positionIn'+'ShadowSpac'+'e.z\x20=\x20satu'+'rate(posit'+'ionInShado'+'wSpace.z)\x20'+'-\x200.0001;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIGHT{i}_'+'SHADOW_SAM'+'PLE_SOURCE'+'_ZBUFFER\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20/=\x20po'+'sitionInSh'+'adowSpace.')+('w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20posit'+'ionInShado'+'wSpace.xy\x20'+'/=\x20positio'+'nInShadowS'+'pace.w;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20po'+'sitionInSh'+'adowSpace.'+'z\x20=\x20length'+'(lightDir)'+'\x20*\x20shadowP'+'arams.w;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20thi'+'s\x20is\x20curre'+'ntly\x20unuse'+'d\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SHADOW_SA'+'MPLE_Z_BIA'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20positionI'+'nShadowSpa'+'ce.z\x20+=\x20ge'+'tShadowBia'+'s(shadowPa'+'rams.x,\x20sh'+'adowParams'+'.z);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20positi'+'onInShadow'+'Space.xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20surfaceP'+'osition;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20shadow\x20'+'evaluation'+'\x20function\x0a'+'\x20\x20\x20\x20float\x20'+'getShadow{'+'i}(vec3\x20li'+'ghtDirW)\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20directi'+'onal\x20shado'+'w\x20cascades'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_CASCADES'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20sel'+'ect\x20shadow'+'\x20cascade\x20m'+'atrix\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20in'+'t\x20cascadeI'+'ndex\x20=\x20get'+'ShadowCasc'+'adeIndex(l'+'ight{i}_sh'+'adowCascad'+'eDistances'+',\x20light{i}'+'_shadowCas'+'cadeCount)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'_SHADOW_CA'+'SCADE_BLEN'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'scadeIndex'+'\x20=\x20ditherS'+'hadowCasca'+'deIndex(ca'+'scadeIndex'+',\x20light{i}'+'_shadowCas'+'cadeDistan'+'ces,\x20light')+('{i}_shadow'+'CascadeCou'+'nt,\x20light{'+'i}_shadowC'+'ascadeBlen'+'d);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mat4'+'\x20shadowMat'+'rix\x20=\x20ligh'+'t{i}_shado'+'wMatrixPal'+'ette[casca'+'deIndex];\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t4\x20shadowM'+'atrix\x20=\x20li'+'ght{i}_sha'+'dowMatrix;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20DIRE'+'CTIONAL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20directi'+'onal\x20light'+'\x20does\x20not\x20'+'have\x20a\x20pos'+'ition\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20get'+'ShadowSamp'+'leCoord{i}'+'(shadowMat'+'rix,\x20light'+'{i}_shadow'+'Params,\x20vP'+'ositionW,\x20'+'vec3(0.0),'+'\x20lightDirW'+',\x20dLightDi'+'rNormW,\x20dV'+'ertexNorma'+'lW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20shad'+'owCoord\x20=\x20'+'getShadowS'+'ampleCoord'+'{i}(shadow'+'Matrix,\x20li'+'ght{i}_sha'+'dowParams,'+'\x20vPosition'+'W,\x20light{i'+'}_position'+',\x20lightDir'+'W,\x20dLightD'+'irNormW,\x20d'+'VertexNorm'+'alW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Fade\x20di'+'rectional\x20'+'shadow\x20at\x20'+'the\x20far\x20di'+'stance\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'hadowCoord'+'\x20=\x20fadeSha'+'dow(shadow'+'Coord,\x20lig'+'ht{i}_shad'+'owCascadeD'+'istances);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20--'+'---\x20sample'+'\x20the\x20shado'+'w\x20-----\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20DIR'+'ECTIONAL\x20/'+'/\x20-----\x20di'+'rectional\x20'+'light\x20----')+('-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_16F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wVSM16(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x205'+'.54);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20VSM_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowVSM32('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+',\x2015.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCS'+'S_32F\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20!=\x20PUNCTU'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20sh'+'adowSearch'+'Area\x20=\x20vec'+'2(length(l'+'ight{i}_ha'+'lfWidth),\x20'+'length(lig'+'ht{i}_half'+'Height))\x20*'+'\x20light{i}_'+'shadowSear'+'chArea;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCSS(S'+'HADOWMAP_P'+'ASS(light{'+'i}_shadowM'+'ap),\x20shado'+'wCoord,\x20li'+'ght{i}_sha'+'dowParams,'+'\x20light{i}_'+'cameraPara'+'ms,\x20shadow'+'SearchArea'+',\x20lightDir'+'W);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCSS(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ight{i}_ca'+'meraParams'+',\x20light{i}'+'_softShado'+'wParams,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en')+('dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF1_16'+'F\x20||\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCF'+'1_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowPC'+'F1x1(SHADO'+'WMAP_PASS('+'light{i}_s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20light{'+'i}_shadowP'+'arams);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20PCF3'+'_16F\x20||\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCF3_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wPCF3x3(SH'+'ADOWMAP_PA'+'SS(light{i'+'}_shadowMa'+'p),\x20shadow'+'Coord,\x20lig'+'ht{i}_shad'+'owParams);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF5_16F\x20||'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF5_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCF5x5'+'(SHADOWMAP'+'_PASS(ligh'+'t{i}_shado'+'wMap),\x20sha'+'dowCoord,\x20'+'light{i}_s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20S'+'POT\x20//\x20---'+'--\x20spot\x20li'+'ght\x20-----\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20V'+'SM_16F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowS'+'potVSM16(S'+'HADOWMAP_P'+'ASS(light{'+'i}_shadowM'+'ap),\x20shado'+'wCoord,\x20li'+'ght{i}_sha'+'dowParams,'+'\x205.54,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20VSM'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ge'+'tShadowSpo')+('tVSM32(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x201'+'5.0,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCSS_'+'32F\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20shad'+'owSearchAr'+'ea\x20=\x20vec2('+'length(lig'+'ht{i}_half'+'Width),\x20le'+'ngth(light'+'{i}_halfHe'+'ight))\x20*\x20l'+'ight{i}_sh'+'adowSearch'+'Area;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shadowS'+'earchArea\x20'+'=\x20vec2(lig'+'ht{i}_shad'+'owSearchAr'+'ea);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotPCSS('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+',\x20light{i}'+'_cameraPar'+'ams,\x20shado'+'wSearchAre'+'a,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20PCF1_1'+'6F\x20||\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F1_32F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowS'+'potPCF1x1('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(SHA')+('DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F5_16F\x20||\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF5_32F'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowSpotPCF'+'5x5(SHADOW'+'MAP_PASS(l'+'ight{i}_sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20light{i'+'}_shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20OMNI\x20//\x20'+'-----\x20omni'+'\x20light\x20---'+'--\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCSS_32F'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHAPE\x20!=\x20P'+'UNCTUAL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shadowS'+'earchArea\x20'+'=\x20vec2(len'+'gth(light{'+'i}_halfWid'+'th),\x20lengt'+'h(light{i}'+'_halfHeigh'+'t))\x20*\x20ligh'+'t{i}_shado'+'wSearchAre'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'shadowSear'+'chArea\x20=\x20v'+'ec2(light{'+'i}_shadowS'+'earchArea)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCSS(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ight{i}_ca'+'meraParams'+',\x20shadowSe'+'archArea,\x20'+'lightDirW)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF1_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_')+('32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF1x1(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF3_16F\x20||'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF3_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowOmniPC'+'F3x3(SHADO'+'WMAP_PASS('+'light{i}_s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20light{'+'i}_shadowP'+'arams,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),_P='\x0a\x0a#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20//\x20all'+'\x20this\x20func'+'tionality\x20'+'that\x20needs'+'\x20to\x20be\x20inc'+'luded\x20for\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'FALLOFF_LI'+'NEAR\x0a\x20\x20\x20\x20#'+'define\x20LIT'+'_CODE_FALL'+'OFF_SQUARE'+'D\x0a\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_LIGHTS_'+'POINT\x0a\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a#'+'endif\x0a\x0a#if'+'def\x20AREA_L'+'IGHTS\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'1;\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20sampler2D'+'\x20areaLight'+'sLutTex2;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_L'+'IGHTING\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22lightDif'+'fuseLamber'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(AREA_LIGH'+'TS)\x20||\x20def'+'ined(LIT_C'+'LUSTERED_A'+'REA_LIGHTS'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'ltcPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20SHADOW_'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owCascades'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_KIND_PCF1'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCF1PS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20defined('+'SHADOW_KIN'+'D_PCF3)\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22shadowPC'+'F3PS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_KIND_PC'+'F5)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sh'+'adowPCF5PS'+'\x22\x0a#endif\x0a\x0a'+'#if\x20define'+'d(SHADOW_K'+'IND_PCSS)\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22linear'+'izeDepthPS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCSSPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22shadow'+'SoftPS\x22\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(SH'+'ADOW_KIND_'+'VSM)\x0a\x20\x20\x20\x20#'+'include\x20\x22s'+('hadowEVSMP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_FAL'+'LOFF_LINEA'+'R\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fall'+'offLinearP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22fal'+'loffInvSqu'+'aredPS\x22\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20LIT_COD'+'E_LIGHTS_P'+'OINT\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'ightDirPoi'+'ntPS\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIT_CODE_'+'LIGHTS_SPO'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22spot'+'PS\x22\x0a#endif'+'\x0a\x0a#ifdef\x20L'+'IT_CODE_CO'+'OKIE\x0a\x20\x20\x20\x20#'+'include\x20\x22c'+'ookiePS\x22\x0a#'+'endif\x0a\x0a//\x20'+'clustered\x20'+'lighting\x0a#'+'ifdef\x20LIT_'+'CLUSTERED_'+'LIGHTS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22clustered'+'LightPS\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIGHT_'+'COUNT\x20>\x200\x0a'+'\x20\x20\x20\x20//\x20LOO'+'P\x20-\x20genera'+'te\x20shadow\x20'+'evaluation'+'\x20functions'+'\x20for\x20all\x20n'+'on-cluster'+'ed\x20lights\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightF'+'unctionSha'+'dowPS,\x20LIG'+'HT_COUNT\x22\x0a'+'\x0a\x20\x20\x20\x20//\x20LO'+'OP\x20-\x20gener'+'ate\x20light\x20'+'evaluation'+'\x20functions'+'\x20for\x20all\x20n'+'on-cluster'+'ed\x20lights\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightF'+'unctionLig'+'htPS,\x20LIGH'+'T_COUNT\x22\x0a#'+'endif\x0a'),gP='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'rectional\x20'+'lightmap\x0a\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_S'+'PECULAR)\x20&'+'&\x20defined('+'LIT_DIR_LI'+'GHTMAP)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(dot(dir,\x20'+'dir)\x20<\x200.0'+'001)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20+=\x20'+'lightmap;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20vligh'+'t\x20=\x20satura'+'te(dot(dir'+',\x20-vertexN'+'ormal));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20fli'+'ght\x20=\x20satu'+'rate(dot(d'+'ir,\x20-world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20nl'+'ight\x20=\x20(fl'+'ight\x20/\x20max'+'(vlight,\x200'+'.01))\x20*\x200.'+'5;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'+=\x20lightma'+'p\x20*\x20nlight'+'\x20*\x202.0;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20half'+'Dir\x20=\x20norm'+'alize(-dir'+'\x20+\x20viewDir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'specularLi'+'ght\x20=\x20ligh'+'tmap\x20*\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20reflect'+'ionDir,\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'dir,\x20gloss'+',\x20tbn);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'_FRESNEL\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20getFre'+'snel(dot(v'+'iewDir,\x20ha'+'lfDir),\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20spe'+'cularity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceInt'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'+=\x20specula'+'rLight;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20#else\x20/'+'/\x20non-dire'+'ctional\x20li'+'ghtmap\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'+=\x20lightma'+'p;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a'),SP='\x0a\x0a#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20'+'vec3\x20dLigh'+'tmapDir;\x0a\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_d'+'irLightMap'+';\x0a#endif\x0a\x0a'+'void\x20getLi'+'ghtMap()\x20{'+'\x0a\x0a\x20\x20\x20\x20dLig'+'htmap\x20=\x20ve'+'c3(1.0);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_LIGHT'+'_TEXTURE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dLi'+'ghtmap\x20*=\x20'+'{STD_LIGHT'+'_TEXTURE_D'+'ECODE}(tex'+'ture2DBias'+'({STD_LIGH'+'T_TEXTURE_'+'NAME},\x20{ST'+'D_LIGHT_TE'+'XTURE_UV},'+'\x20textureBi'+'as)).{STD_'+'LIGHT_TEXT'+'URE_CHANNE'+'L};\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_LIGHTM'+'AP_DIR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20dir\x20=\x20'+'texture2DB'+'ias(textur'+'e_dirLight'+'Map,\x20{STD_'+'LIGHT_TEXT'+'URE_UV},\x20t'+'extureBias'+').xyz\x20*\x202.'+'0\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dir'+'Dot\x20=\x20dot('+'dir,\x20dir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dLightm'+'apDir\x20=\x20(d'+'irDot\x20>\x200.'+'001)\x20?\x20dir'+'\x20/\x20sqrt(di'+'rDot)\x20:\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_LIGHT_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dLightma'+'p\x20*=\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_LIGHT_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a}\x0a',yP='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'float\x20calc'+'LightSpecu'+'lar(float\x20'+'gloss,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20h,\x20vec'+'3\x20lightDir'+'Norm,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20float\x20PI'+'\x20=\x203.14159'+'2653589793'+';\x0a\x20\x20\x20\x20floa'+'t\x20roughnes'+'s\x20=\x20max((1'+'.0\x20-\x20gloss'+')\x20*\x20(1.0\x20-'+'\x20gloss),\x200'+'.001);\x0a\x20\x20\x20'+'\x20float\x20alp'+'haRoughnes'+'s\x20=\x20roughn'+'ess\x20*\x20roug'+'hness;\x0a\x20\x20\x20'+'\x20float\x20ani'+'sotropy\x20=\x20'+'dAnisotrop'+'y;\x0a\x20\x20\x20\x20vec'+'2\x20directio'+'n\x20=\x20dAniso'+'tropyRotat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'float\x20at\x20='+'\x20mix(alpha'+'Roughness,'+'\x201.0,\x20anis'+'otropy\x20*\x20a'+'nisotropy)'+';\x0a\x20\x20\x20\x20floa'+'t\x20ab\x20=\x20cla'+'mp(alphaRo'+'ughness,\x200'+'.001,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20anisotro'+'picT\x20=\x20nor'+'malize(tbn'+'\x20*\x20vec3(di'+'rection,\x200'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropicB\x20=\x20'+'normalize('+'cross(tbn['+'2],\x20anisot'+'ropicT));\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20NoH\x20=\x20dot'+'(worldNorm'+'al,\x20h);\x0a\x20\x20'+'\x20\x20float\x20To'+'H\x20=\x20dot(an'+'isotropicT'+',\x20h);\x0a\x20\x20\x20\x20'+'float\x20BoH\x20'+'=\x20dot(anis'+'otropicB,\x20'+'h);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20a2\x20=\x20'+'at\x20*\x20ab;\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20vec3(ab\x20'+'*\x20ToH,\x20at\x20'+'*\x20BoH,\x20a2\x20'+'*\x20NoH);\x0a\x20\x20'+'\x20\x20float\x20v2'+'\x20=\x20dot(v,\x20'+'v);\x0a\x20\x20\x20\x20fl'+'oat\x20w2\x20=\x20a'+'2\x20/\x20v2;\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20a2\x20*\x20w2\x20'+'*\x20w2\x20*\x20(1.'+'0\x20/\x20PI);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'ToV\x20=\x20dot('+'anisotropi'+'cT,\x20viewDi'+'r);\x0a\x20\x20\x20\x20fl'+'oat\x20BoV\x20=\x20'+'dot(anisot'+'ropicB,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20float\x20To'+'L\x20=\x20dot(an'+'isotropicT'+(',\x20-lightDi'+'rNorm);\x0a\x20\x20'+'\x20\x20float\x20Bo'+'L\x20=\x20dot(an'+'isotropicB'+',\x20-lightDi'+'rNorm);\x0a\x20\x20'+'\x20\x20float\x20No'+'V\x20=\x20dot(wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20float'+'\x20NoL\x20=\x20dot'+'(worldNorm'+'al,\x20-light'+'DirNorm);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20lambdaV\x20='+'\x20NoL\x20*\x20len'+'gth(vec3(a'+'t\x20*\x20ToV,\x20a'+'b\x20*\x20BoV,\x20N'+'oV));\x0a\x20\x20\x20\x20'+'float\x20lamb'+'daL\x20=\x20NoV\x20'+'*\x20length(v'+'ec3(at\x20*\x20T'+'oL,\x20ab\x20*\x20B'+'oL,\x20NoL));'+'\x0a\x20\x20\x20\x20float'+'\x20G\x20=\x200.5\x20/'+'\x20(lambdaV\x20'+'+\x20lambdaL)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20D\x20*\x20G;'+'\x0a}\x0a\x0afloat\x20'+'getLightSp'+'ecular(vec'+'3\x20h,\x20vec3\x20'+'reflDir,\x20v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'float\x20glos'+'s,\x20mat3\x20tb'+'n)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20calc'+'LightSpecu'+'lar(gloss,'+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20h,\x20ligh'+'tDirNorm,\x20'+'tbn);\x0a}\x0a'),vP='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afloa'+'t\x20calcLigh'+'tSpecular('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20h)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20nh\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20specPow\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x20//\x20gloss'+'iness\x20is\x20l'+'inear,\x20pow'+'er\x20is\x20not;'+'\x200\x20-\x202048\x0a'+'\x0a\x20\x20\x20\x20//\x20Ha'+'ck:\x20On\x20Mac'+'\x20OS\x20X,\x20cal'+'ling\x20pow\x20w'+'ith\x20zero\x20f'+'or\x20the\x20exp'+'onent\x20gene'+'rates\x20hide'+'ous\x20artifa'+'cts\x20so\x20bia'+'s\x20up\x20a\x20lit'+'tle\x0a\x20\x20\x20\x20sp'+'ecPow\x20=\x20ma'+'x(specPow,'+'\x200.0001);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(nh,\x20'+'specPow)\x20*'+'\x20(specPow\x20'+'+\x202.0)\x20/\x208'+'.0;\x0a}\x0a\x0aflo'+'at\x20getLigh'+'tSpecular('+'vec3\x20h,\x20ve'+'c3\x20reflDir'+',\x20vec3\x20wor'+'ldNormal,\x20'+'vec3\x20viewD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m,\x20float\x20g'+'loss,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',xP='\x0a\x0afloat\x20sh'+'eenD(vec3\x20'+'normal,\x20ve'+'c3\x20h,\x20floa'+'t\x20roughnes'+'s)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20PI\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20f'+'loat\x20invR\x20'+'=\x201.0\x20/\x20(r'+'oughness\x20*'+'\x20roughness'+');\x0a\x20\x20\x20\x20flo'+'at\x20cos2h\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20*=\x20'+'cos2h;\x0a\x20\x20\x20'+'\x20float\x20sin'+'2h\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'float\x20shee'+'nV(vec3\x20no'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20NoV\x20=\x20'+'max(dot(no'+'rmal,\x20view'+'Dir),\x200.00'+'0001);\x0a\x20\x20\x20'+'\x20float\x20NoL'+'\x20=\x20max(dot'+'(normal,\x20l'+'ight),\x200.0'+'00001);\x0a\x20\x20'+'\x20\x20return\x201'+'.0\x20/\x20(4.0\x20'+'*\x20(NoL\x20+\x20N'+'oV\x20-\x20NoL\x20*'+'\x20NoV));\x0a}\x0a'+'\x0afloat\x20get'+'LightSpecu'+'larSheen(v'+'ec3\x20h,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'irNorm,\x20fl'+'oat\x20sheenG'+'loss)\x20{\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20float\x20V\x20'+'=\x20sheenV(w'+'orldNormal'+',\x20viewDir,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20return\x20D\x20'+'*\x20V;\x0a}\x0a',TP='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afloat\x20lin'+'earizeDept'+'hWithParam'+'s(float\x20z,'+'\x20vec4\x20came'+'raParams)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'cameraPara'+'ms.w\x20==\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20(c'+'ameraParam'+'s.z\x20*\x20came'+'raParams.y'+')\x20/\x20(camer'+'aParams.y\x20'+'+\x20z\x20*\x20(cam'+'eraParams.'+'z\x20-\x20camera'+'Params.y))'+';\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20came'+'raParams.z'+'\x20+\x20z\x20*\x20(ca'+'meraParams'+'.y\x20-\x20camer'+'aParams.z)'+';\x0a}\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec4\x20ca'+'mera_param'+'s;\x20//\x20x:\x201'+'\x20/\x20camera_'+'far,\x20\x20\x20\x20\x20\x20'+'y:\x20camera_'+'far,\x20\x20\x20\x20\x20z'+':\x20camera_n'+'ear,\x20\x20\x20\x20\x20\x20'+'\x20\x20w:\x20is_or'+'tho\x0a#endif'+'\x0a\x0afloat\x20li'+'nearizeDep'+'th(float\x20z'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20linea'+'rizeDepthW'+'ithParams('+'z,\x20camera_'+'params);\x0a}'+'\x0a#endif\x0a',wP='\x0avoid\x20eval'+'uateBacken'+'d()\x20{\x0a\x0a\x20\x20\x20'+'\x20//\x20apply\x20'+'SSAO\x20durin'+'g\x20lighting'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_SSAO'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ao\x20'+'*=\x20texture'+'2DLod(ssao'+'Texture,\x20g'+'l_FragCoor'+'d.xy\x20*\x20ssa'+'oTextureSi'+'zeInv,\x200.0'+').r;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20transf'+'orm\x20tangen'+'t\x20space\x20no'+'rmals\x20to\x20w'+'orld\x20space'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_NEED'+'S_NORMAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etReflDir('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20litArgs_'+'gloss,\x20dTB'+'N);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccReflDir'+'W\x20=\x20normal'+'ize(-refle'+'ct(dViewDi'+'rW,\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULAR_OR'+'_REFLECTIO'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_METALNESS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20f'+'0\x20=\x201.0\x20/\x20'+'litArgs_io'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20f0\x20=\x20'+'(f0\x20-\x201.0)'+'\x20/\x20(f0\x20+\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20f0\x20'+'*=\x20f0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity\x20='+'\x20getSpecul'+'arModulate'+'(litArgs_s'+'pecularity'+',\x20litArgs_'+'albedo,\x20li'+'tArgs_meta'+'lness,\x20f0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20i'+'ridescence'+'Fresnel\x20=\x20'+'getIridesc'+('ence(satur'+'ate(dot(dV'+'iewDirW,\x20l'+'itArgs_wor'+'ldNormal))'+',\x20litArgs_'+'specularit'+'y,\x20litArgs'+'_iridescen'+'ce_thickne'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'mbient\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_ADD_AMBI'+'ENT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20addAmbie'+'nt(litArgs'+'_worldNorm'+'al);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'=\x20dDiffuse'+'Light\x20*\x20(1'+'.0\x20-\x20litAr'+'gs_specula'+'rity);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20move\x20a'+'mbient\x20col'+'or\x20out\x20of\x20'+'diffuse\x20(u'+'sed\x20by\x20Lig'+'htmapper,\x20'+'to\x20multipl'+'y\x20ambient\x20'+'color\x20by\x20a'+'ccumulated'+'\x20AO)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SEPARA'+'TE_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20dA'+'mbientLigh'+'t\x20=\x20dDiffu'+'seLight;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20vec'+'3(0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20LIT_O'+'LD_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'DiffuseLig'+'ht\x20*=\x20mate'+'rial_ambie'+'nt;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_AO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifndef\x20'+'LIT_OCCLUD'+'E_DIRECT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20occludeDi'+'ffuse(litA'+'rgs_ao);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_LIGHTMAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'dLightMap('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmap,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_lightmap'+'Dir,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dViewDir'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dRef'+'lDirW,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dVertexN'+'ormalW,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dTBN\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_LIGHTING\x20'+'||\x20LIT_REF'+'LECTIONS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20addReflec'+'tionCC(ccR'+'eflDirW,\x20l'+'itArgs_cle'+'arcoat_glo'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_FRESNE'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccFresne'+'l\x20=\x20getFre'+'snelCC(dot'+'(dViewDirW'+',\x20litArgs_'+'clearcoat_'+'worldNorma'+'l));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccRef'+'lection\x20*='+'\x20ccFresnel'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccFres'+'nel\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULARITY_F'+'ACTOR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccReflec'+'tion\x20*=\x20li'+'tArgs_spec'+'ularityFac'+'tor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SH'+'EEN\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'addReflect'+'ionSheen(l'+'itArgs_wor'+'ldNormal,\x20'+'dViewDirW,'+'\x20litArgs_s'+'heen_gloss'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Fr')+('esnel\x20has\x20'+'to\x20be\x20appl'+'ied\x20to\x20ref'+'lections\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20addReflec'+'tion(dRefl'+'DirW,\x20litA'+'rgs_gloss)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_FRES'+'NEL_MODEL\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dRe'+'flection.r'+'gb\x20*=\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'specularit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dReflecti'+'on.rgb\x20*=\x20'+'litArgs_sp'+'ecularity;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LARITY_FAC'+'TOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n.rgb\x20*=\x20l'+'itArgs_spe'+'cularityFa'+'ctor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20ARE'+'A_LIGHTS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'ar\x20has\x20to\x20'+'be\x20accumul'+'ated\x20diffe'+'rently\x20if\x20'+'we\x20want\x20ar'+'ea\x20lights\x20'+'to\x20look\x20co'+'rrect\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dS'+'pecularLig'+'ht\x20*=\x20litA'+'rgs_specul'+'arity;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20e'+'valuate\x20ma'+'terial\x20bas'+'ed\x20area\x20li'+'ghts\x20data,')+('\x20shared\x20by'+'\x20all\x20area\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20calcLTC'+'LightValue'+'s(litArgs_'+'gloss,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW,\x20l'+'itArgs_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_gl'+'oss,\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20litA'+'rgs_clearc'+'oat_specul'+'arity);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20LOOP\x20-\x20e'+'valuate\x20al'+'l\x20non-clus'+'tered\x20ligh'+'ts\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'GHT_COUNT\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tEvaluatio'+'nPS,\x20LIGHT'+'_COUNT\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20clust'+'ered\x20light'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20addClust'+'eredLights'+'(litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20dReflDi'+'rW,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_CLEA'+'RCOAT)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccReflDir'+'W,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20litAr'+'gs_specula'+'rity,\x20dVer'+'texNormalW'+',\x20dTBN,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceF'+'resnel,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20litA'+'rgs_clearc'+'oat_gloss,'+'\x20litArgs_s'+'heen_gloss'+',\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20AR'+'EA_LIGHTS\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'r\x20has\x20to\x20b'+'e\x20accumula'+'ted\x20differ'+'ently\x20if\x20w'+'e\x20want\x20are'+'a\x20lights\x20t'+'o\x20look\x20cor'+'rect\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_s'+'pecularity'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity\x20=\x20ve'+'c3(1);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_REFRACTI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dViewD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'thickness,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_albe'+'do,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_t'+'ransmissio'+'n,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ior'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_disp'+'ersion\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20,\x20irides'+'cenceFresn'+'el,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_iridesc'+'ence_inten'+'sity\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20app'+'ly\x20ambient'+'\x20occlusion'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_OC')+('CLUDE_DIRE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20occlu'+'deDiffuse('+'litArgs_ao'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIT_OCCLU'+'DE_SPECULA'+'R\x20!=\x20NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20occludeS'+'pecular(li'+'tArgs_glos'+'s,\x20litArgs'+'_ao,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULARIT'+'Y_FACTOR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20*=\x20litAr'+'gs_specula'+'rityFactor'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'f\x20!defined'+'(LIT_OPACI'+'TY_FADES_S'+'PECULAR)\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIT_BLEN'+'D_TYPE\x20==\x20'+'NORMAL\x20||\x20'+'LIT_BLEND_'+'TYPE\x20==\x20PR'+'EMULTIPLIE'+'D\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20specLum\x20='+'\x20dot((dSpe'+'cularLight'+'\x20+\x20dReflec'+'tion.rgb\x20*'+'\x20dReflecti'+'on.a),\x20vec'+'3(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecLum\x20+=\x20'+'dot(ccSpec'+'ularLight\x20'+'*\x20litArgs_'+'clearcoat_'+'specularit'+'y\x20+\x20ccRefl'+'ection\x20*\x20l'+'itArgs_cle'+'arcoat_spe'+'cularity,\x20'+'vec3(\x200.21'+'26,\x200.7152'+',\x200.0722\x20)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_opacity\x20'+'=\x20clamp(li'+'tArgs_opac'+'ity\x20+\x20gamm'+'aCorrectIn'+'put(specLu'+'m),\x200.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_op'+'acity\x20*=\x20m'+'aterial_al'+'phaFade;\x0a\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nd\x20chunks\x20'+'-\x20when\x20bak'+'ing\x20lightm'+'ap\x0a\x20\x20\x20\x20#if'+'def\x20LIT_LI')+('GHTMAP_BAK'+'ING\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22bak'+'eLmEndPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_LIGHTM'+'AP_BAKING_'+'DIR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22bake'+'DirLmEndPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20en'+'d\x20chunks\x20-'+'\x20in\x20all\x20ot'+'her\x20cases\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22en'+'dPS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22outputA'+'lphaPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_MSDF\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20applyMs'+'df(gl_Frag'+'Color);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22output'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22de'+'bugOutputP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'HADOW_CATC'+'HER\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20outpu'+'t\x20when\x20the'+'\x20shadow\x20ca'+'tcher\x20is\x20e'+'nabled\x20-\x20a'+'ccumulated'+'\x20shadows\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20=\x20vec3'+'(dShadowCa'+'tcher);\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a'),EP='\x0a\x0a//\x20globa'+'ls\x0avec3\x20sR'+'eflection;'+'\x0avec3\x20dVer'+'texNormalW'+';\x0avec3\x20dTa'+'ngentW;\x0ave'+'c3\x20dBinorm'+'alW;\x0avec3\x20'+'dViewDirW;'+'\x0avec3\x20dRef'+'lDirW;\x0avec'+'3\x20ccReflDi'+'rW;\x0a\x0a//\x20Pe'+'r-light\x20te'+'mporaries\x0a'+'vec3\x20dLigh'+'tDirNormW;'+'\x0afloat\x20dAt'+'ten;\x0a\x0a//\x20O'+'utputs\x0amat'+'3\x20dTBN;\x0ave'+'c4\x20dReflec'+'tion;\x0avec3'+'\x20dDiffuseL'+'ight;\x0avec3'+'\x20dSpecular'+'Light;\x0aflo'+'at\x20ccFresn'+'el;\x0avec3\x20c'+'cReflectio'+'n;\x0avec3\x20cc'+'SpecularLi'+'ght;\x0afloat'+'\x20ccSpecula'+'rityNoFres'+';\x0avec3\x20sSp'+'ecularLigh'+'t;\x0a\x0a//\x20FRA'+'GMENT\x20SHAD'+'ER\x20INPUTS:'+'\x20UNIFORMS\x0a'+'\x0a#ifdef\x20LI'+'T_DISPERSI'+'ON\x0a\x20\x20\x20\x20uni'+'form\x20float'+'\x20material_'+'dispersion'+';\x0a#endif\x0a\x0a'+'#ifndef\x20LI'+'T_OPACITY_'+'FADES_SPEC'+'ULAR\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20materia'+'l_alphaFad'+'e;\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_SSAO\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20s'+'saoTexture'+';\x0a\x20\x20\x20\x20unif'+'orm\x20vec2\x20s'+'saoTexture'+'SizeInv;\x0a#'+'endif\x0a\x0a//\x20'+'lighting\x20a'+'nd\x20shadowi'+'ng\x20declara'+'tions\x0a\x0a#if'+'def\x20LIT_SH'+'ADOW_CATCH'+'ER\x0a\x20\x20\x20\x20//\x20'+'a\x20variable'+'\x20to\x20accumu'+'late\x20shado'+'ws\x20for\x20sha'+'dow\x20catche'+'r\x20material'+'s\x0a\x20\x20\x20\x20floa'+'t\x20dShadowC'+'atcher\x20=\x201'+'.0;\x0a#endif'+'\x0a\x0a//\x20LOOP\x20'+'-\x20uniform\x20'+'declaratio'+'ns\x20for\x20all'+'\x20non-clust'+'ered\x20light'+'s\x0a#if\x20LIGH'+'T_COUNT\x20>\x20'+'0\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tDeclarati'+'onPS,\x20LIGH'+'T_COUNT\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+('\x20#if\x20LIT_F'+'RESNEL_MOD'+'EL\x20==\x20NONE'+'\x20&&\x20!defin'+'ed(LIT_REF'+'LECTIONS)\x20'+'&&\x20!define'+'d(LIT_DIFF'+'USE_MAP)\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0a//\x20lightm'+'ap\x20baking\x0a'+'#ifdef\x20STD'+'_LIGHTMAP_'+'DIR\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20bakeDir;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_L'+'IGHTMAP_BA'+'KING_ADD_A'+'MBIENT\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20ambie'+'ntBakeOccl'+'usionContr'+'ast;\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20ambient'+'BakeOcclus'+'ionBrightn'+'ess;\x0a#endi'+'f\x0a'),bP='\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4(0'+');\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ccS'+'pecularLig'+'ht\x20=\x20vec3('+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ccReflec'+'tion\x20=\x20vec'+'3(0);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'NONE_SLICE'+'_MODE\x20==\x20S'+'LICED\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22startN'+'ineSlicedP'+'S\x22\x0a\x20\x20\x20\x20#el'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20TILE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'startNineS'+'licedTiled'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_NEEDS_NOR'+'MAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dVertexN'+'ormalW\x20=\x20n'+'ormalize(v'+'NormalW);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'TANGENTS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_HEI'+'GHTS)\x20||\x20d'+'efined(LIT'+'_USE_NORMA'+'LS)\x20||\x20def'+'ined(LIT_U'+'SE_CLEARCO'+'AT_NORMALS'+')\x20||\x20defin'+'ed(LIT_GGX'+'_SPECULAR)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dTa'+'ngentW\x20=\x20v'+'TangentW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dBin'+'ormalW\x20=\x20v'+'BinormalW;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20getVie'+'wDir();\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_TB'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getTBN'+'(dTangentW'+',\x20dBinorma'+'lW,\x20dVerte'+'xNormalW);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_TWO_S'+'IDED_LIGHT'+'ING\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'handleTwoS'+'idedLighti'+'ng();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20i'+'nvoke\x20fron'+'tend\x20funct'+'ions\x0a\x20\x20\x20\x20e'+'valuateFro'+'ntend();\x0a\x0a'+('\x20\x20\x20\x20#inclu'+'de\x20\x22debugP'+'rocessFron'+'tendPS\x22\x0a\x0a\x20'+'\x20\x20\x20evaluat'+'eBackend()'+';\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'UserMainEn'+'dPS\x22\x0a}\x0a'),AP='\x0a\x0a#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'cubeMapRot'+'atePS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22cubeMapPr'+'ojectPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22envProc'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20-----'+'\x20specular\x20'+'or\x20reflect'+'ions\x20-----'+'\x0a#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'METALNESS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessMod'+'ulatePS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_FRESNEL'+'_MODEL\x20==\x20'+'SCHLICK\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22fres'+'nelSchlick'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_IRIDESCEN'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22iridescen'+'ceDiffract'+'ionPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a//\x20-'+'----\x20ambie'+'nt\x20occlusi'+'on\x20-----\x0a#'+'ifdef\x20LIT_'+'AO\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoD'+'iffuseOccP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoS'+'pecOccPS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20LIT_REFL'+'ECTION_SOU'+'RCE\x20==\x20ENV'+'ATLASHQ\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22envAtlas'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flectionEn'+'vHQPS\x22\x0a#el'+'if\x20LIT_REF'+'LECTION_SO'+'URCE\x20==\x20EN'+'VATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionEnv'+'PS\x22\x0a#elif\x20'+'LIT_REFLEC'+'TION_SOURC'+'E\x20==\x20CUBEM'+'AP\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionCub'+'ePS\x22\x0a#elif'+'\x20LIT_REFLE'+'CTION_SOUR'+'CE\x20==\x20SPHE'+'REMAP\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'reflection'+'SpherePS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_CLEA'+'RCOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22reflec'+'tionCCPS\x22\x0a'+'\x20\x20\x20\x20#endif'+('\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22reflectio'+'nSheenPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'REFRACTION'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_DYNAMIC_R'+'EFRACTION)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22r'+'efractionD'+'ynamicPS\x22\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(LI'+'T_REFLECTI'+'ONS)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22refract'+'ionCubePS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightShee'+'nPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20vec3\x20mate'+'rial_ambie'+'nt;\x0a\x0a#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'LIGHTING\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22lightSp'+'ecularAnis'+'oGGXPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightS'+'pecularBli'+'nnPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#include\x20\x22'+'combinePS\x22'+'\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tmapAddPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'ADD_AMBIEN'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ambi'+'entPS\x22\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20LIT_MSDF'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22msdfP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20#'+'include\x20\x22v'+'iewDirPS\x22\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flDirAniso'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'reflDirPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a//\x20li'+'ghting\x20fun'+'ctionality')+('\x0a#include\x20'+'\x22lightingP'+'S\x22\x0a\x0a'),CP='\x0a\x0a#include'+'\x20\x22basePS\x22\x0a'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a#includ'+'e\x20\x22decodeP'+'S\x22\x0a#includ'+'e\x20\x22gammaPS'+'\x22\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22fog'+'PS\x22\x0a\x0a//\x209-'+'slice\x20supp'+'ort\x20code\x0a#'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20SLIC'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bas'+'eNineSlice'+'dPS\x22\x0a#elif'+'\x20LIT_NONE_'+'SLICE_MODE'+'\x20==\x20TILED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22baseNi'+'neSlicedTi'+'ledPS\x22\x0a#en'+'dif\x0a\x0a//\x20TB'+'N\x0a#ifdef\x20L'+'IT_TBN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22TBNPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22twoSidedL'+'ightingPS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a',PP='\x0a\x0a#include'+'\x20\x22varyings'+'PS\x22\x0a#inclu'+'de\x20\x22litUse'+'rDeclarati'+'onPS\x22\x0a#inc'+'lude\x20\x22fron'+'tendDeclPS'+'\x22\x0a\x0a#if\x20def'+'ined(PICK_'+'PASS)\x20||\x20d'+'efined(PRE'+'PASS_PASS)'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fron'+'tendCodePS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serCodePS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litOt'+'herMainPS\x22'+'\x0a\x0a#elif\x20de'+'fined(SHAD'+'OW_PASS)\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fronte'+'ndCodePS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rCodePS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litShad'+'owMainPS\x22\x0a'+'\x0a#else\x20//\x20'+'FORWARD_PA'+'SS\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardDe'+'clarationP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ForwardPre'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22frontend'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdPostCode'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardBa'+'ckendPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdMainPS\x22\x0a'+'\x0a#endif\x0a\x0a',MP='\x0a\x0a#include'+'\x20\x22varyings'+'VS\x22\x0a\x0a#incl'+'ude\x20\x20\x22litU'+'serDeclara'+'tionVS\x22\x0a\x0a#'+'ifdef\x20VERT'+'EX_COLOR\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vec4\x20ve'+'rtex_color'+';\x0a#endif\x0a\x0a'+'#ifdef\x20NIN'+'ESLICED\x0a\x0a\x20'+'\x20\x20\x20varying'+'\x20vec2\x20vMas'+'k;\x0a\x20\x20\x20\x20var'+'ying\x20vec2\x20'+'vTiledUv;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0a\x20'+'\x20\x20\x20uniform'+'\x20mediump\x20v'+'ec2\x20outerS'+'cale;\x0a\x20\x20\x20\x20'+'uniform\x20me'+'diump\x20vec4'+'\x20atlasRect'+';\x0a\x0a#endif\x0a'+'\x0avec3\x20dPos'+'itionW;\x0ama'+'t4\x20dModelM'+'atrix;\x0a\x0a#i'+'nclude\x20\x22tr'+'ansformCor'+'eVS\x22\x0a\x0a#ifd'+'ef\x20UV0\x0a\x20\x20\x20'+'\x20attribute'+'\x20vec2\x20vert'+'ex_texCoor'+'d0;\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22uv'+'0VS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'UV1\x0a\x20\x20\x20\x20at'+'tribute\x20ve'+'c2\x20vertex_'+'texCoord1;'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22uv1VS'+'\x22\x0a#endif\x0a\x0a'+'\x0a#ifdef\x20LI'+'NEAR_DEPTH'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20VIEWMAT'+'RIX\x0a\x20\x20\x20\x20#d'+'efine\x20VIEW'+'MATRIX\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_view;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#include\x20\x22'+'transformV'+'S\x22\x0a\x0a#ifdef'+'\x20NORMALS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22normalC'+'oreVS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22normalVS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20TANG'+'ENTS\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_tangent;\x0a'+'#endif\x0a\x0a//'+'\x20expand\x20un'+'iforms\x20for'+'\x20uv\x20transf'+'orms\x0a#incl'+'ude\x20\x22uvTra'+'nsformUnif'+'ormsPS,\x20UV'+'_TRANSFORM'+'S_COUNT\x22\x0a\x0a'+'#ifdef\x20MSD'+'F\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22msdf'+'VS\x22\x0a#endif'+'\x0a\x0a#include'+'\x20\x20\x22litUser'+'CodeVS\x22\x0a\x0av'+'oid\x20main(v'+'oid)\x20{\x0a\x0a\x20\x20'+'\x20\x20#include'+('\x20\x22litUserM'+'ainStartVS'+'\x22\x0a\x0a\x20\x20\x20\x20//\x20'+'default\x20po'+'int\x20size\x20t'+'o\x201\x20in\x20cas'+'e\x20the\x20shad'+'er\x20is\x20used'+'\x20with\x20poin'+'ts\x0a\x20\x20\x20\x20gl_'+'PointSize\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20getP'+'osition();'+'\x0a\x20\x20\x20\x20vPosi'+'tionW\x20=\x20ge'+'tWorldPosi'+'tion();\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'NORMALS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vNor'+'malW\x20=\x20get'+'Normal();\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20TANGENT'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vTangentW\x20'+'=\x20normaliz'+'e(dNormalM'+'atrix\x20*\x20ve'+'rtex_tange'+'nt.xyz);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vBi'+'normalW\x20=\x20'+'cross(vNor'+'malW,\x20vTan'+'gentW)\x20*\x20v'+'ertex_tang'+'ent.w;\x0a\x20\x20\x20'+'\x20#elif\x20def'+'ined(GGX_S'+'PECULAR)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vOb'+'jectSpaceU'+'pW\x20=\x20norma'+'lize(dNorm'+'alMatrix\x20*'+'\x20vec3(0,\x201'+',\x200));\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV0\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20uv0'+'\x20=\x20getUv0('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20UV'+'0_UNMODIFI'+'ED\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vUv0\x20'+'=\x20uv0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20UV1\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv1\x20=\x20ge'+'tUv1();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20UV1_UNM'+'ODIFIED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vUv1\x20=\x20uv1'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20expa'+'nd\x20code\x20fo'+'r\x20uv\x20trans'+'forms\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'uvTransfor'+'mVS,\x20UV_TR'+'ANSFORMS_C'+'OUNT\x22\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20VE'+'RTEX_COLOR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'VertexColo'+'r\x20=\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LINEAR_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20linea'+'r\x20depth\x20fr'+'om\x20the\x20wor'+'ldPosition')+(',\x20see\x20getL'+'inearDepth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'LinearDept'+'h\x20=\x20-(matr'+'ix_view\x20*\x20'+'vec4(vPosi'+'tionW,\x201.0'+')).z;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'SDF\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20unpackMs'+'dfParams()'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tUserMainE'+'ndVS\x22\x0a}\x0a'),DP='\x0a\x0a#ifdef\x20P'+'ICK_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22pickPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22floatAs'+'UintPS\x22\x0a#e'+'ndif\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'itUserMain'+'StartPS\x22\x0a\x0a'+'\x20\x20\x20\x20evalua'+'teFrontend'+'();\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PICK'+'_PASS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20g'+'etPickOutp'+'ut();\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20P'+'REPASS_PAS'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20float'+'2vec4(vLin'+'earDepth);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'UserMainEn'+'dPS\x22\x0a}\x0a',IP='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avec3\x20litA'+'rgs_albedo'+';\x0a\x0a//\x20Tran'+'sparency\x0af'+'loat\x20litAr'+'gs_opacity'+';\x0a\x0a//\x20Emis'+'sion\x20color'+'\x0avec3\x20litA'+'rgs_emissi'+'on;\x0a\x0a//\x20No'+'rmal\x20direc'+'tion\x20in\x20wo'+'rld\x20space\x0a'+'vec3\x20litAr'+'gs_worldNo'+'rmal;\x0a\x0a//\x20'+'Ambient\x20oc'+'clusion\x20am'+'ount,\x20rang'+'e\x20[0..1]\x0af'+'loat\x20litAr'+'gs_ao;\x0a\x0a//'+'\x20Light\x20map'+'\x20color\x0avec'+'3\x20litArgs_'+'lightmap;\x0a'+'\x0a//\x20Light\x20'+'map\x20direct'+'ion\x0avec3\x20l'+'itArgs_lig'+'htmapDir;\x0a'+'\x0a//\x20Surfac'+'e\x20metalnes'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_met'+'alness;\x0a\x0a/'+'/\x20The\x20f0\x20s'+'pecularity'+'\x20factor\x0ave'+'c3\x20litArgs'+'_speculari'+'ty;\x0a\x0a//\x20Sp'+'ecularity\x20'+'intensity\x20'+'factor,\x20ra'+'nge\x20[0..1]'+'\x0afloat\x20lit'+'Args_specu'+'larityFact'+'or;\x0a\x0a//\x20Th'+'e\x20microfac'+'et\x20glossin'+'ess\x20factor'+',\x20range\x20[0'+'..1]\x0afloat'+'\x20litArgs_g'+'loss;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_sh'+'een_gloss;'+'\x0a\x0a//\x20The\x20c'+'olor\x20of\x20th'+'e\x20f0\x20specu'+'larity\x20fac'+'tor\x20for\x20th'+'e\x20sheen\x20la'+'yer\x0avec3\x20l'+'itArgs_she'+'en_specula'+'rity;\x0a\x0a//\x20'+'Transmissi'+'on\x20factor\x20'+'(refractio'+'n),\x20range\x20'+'[0..1]\x0aflo'+'at\x20litArgs'+'_transmiss'+'ion;\x0a\x0a//\x20U'+'niform\x20thi'+'ckness\x20of\x20'+'medium,\x20us'+'ed\x20by\x20tran'+'smission,\x20'+'range\x20[0..'+'inf]\x0afloat'+'\x20litArgs_t'+'hickness;\x0a'+'\x0a//\x20Index\x20'+'of\x20refract'+'ion\x0afloat\x20'+('litArgs_io'+'r;\x0a\x0a//\x20Dis'+'persion,\x20r'+'ange\x20[0..1'+']\x20typicall'+'y,\x20but\x20can'+'\x20be\x20higher'+'\x0afloat\x20lit'+'Args_dispe'+'rsion;\x0a\x0a//'+'\x20Iridescen'+'ce\x20effect\x20'+'intensity,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_ir'+'idescence_'+'intensity;'+'\x0a\x0a//\x20Thick'+'ness\x20of\x20th'+'e\x20iridesce'+'nt\x20microfi'+'lm\x20layer,\x20'+'value\x20is\x20i'+'n\x20nanomete'+'rs,\x20range\x20'+'[0..1000]\x0a'+'float\x20litA'+'rgs_irides'+'cence_thic'+'kness;\x0a\x0a//'+'\x20The\x20norma'+'l\x20used\x20for'+'\x20the\x20clear'+'coat\x20layer'+'\x0avec3\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal;\x0a\x0a//'+'\x20Intensity'+'\x20of\x20the\x20cl'+'earcoat\x20la'+'yer,\x20range'+'\x20[0..1]\x0afl'+'oat\x20litArg'+'s_clearcoa'+'t_specular'+'ity;\x0a\x0a//\x20G'+'lossiness\x20'+'of\x20clearco'+'at\x20layer,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_cle'+'arcoat_glo'+'ss;\x0a\x0a'),LP='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobal\x20text'+'ure\x20bias\x20f'+'or\x20standar'+'d\x20textures'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_NONE_SL'+'ICE_MODE\x20='+'=\x20TILED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20te'+'xtureBias\x20'+'=\x20-1000.0;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20texture'+'Bias;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litShade'+'rArgsPS\x22\x0a',RP='\x0a\x0a#if\x20LIGH'+'T_TYPE\x20!=\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20unif'+'orm\x20vec3\x20v'+'iew_positi'+'on;\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20light_ra'+'dius;\x0a#end'+'if\x0a\x0a#if\x20SH'+'ADOW_TYPE\x20'+'==\x20PCSS_32'+'F\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22line'+'arizeDepth'+'PS\x22\x0a#endif'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'evaluateFr'+'ontend();\x0a'+'\x0a\x20\x20\x20\x20//\x20us'+'ing\x20non-st'+'andard\x20dep'+'th,\x20i.e\x20gl'+'_FragCoord'+'.z\x0a\x20\x20\x20\x20#if'+'def\x20PERSPE'+'CTIVE_DEPT'+'H\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20gl_Fra'+'gCoord.z;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20SHADOW_'+'TYPE\x20==\x20PC'+'SS_32F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot/omn'+'i\x20shadows\x20'+'currently\x20'+'use\x20linear'+'\x20depth.\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20TODO:\x20u'+'se\x20perspec'+'tive\x20depth'+'\x20for\x20spot/'+'omni\x20the\x20s'+'ame\x20way\x20as'+'\x20direction'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT_TYPE\x20'+'!=\x20DIRECTI'+'ONAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20depth\x20=\x20l'+'inearizeDe'+'pthWithPar'+'ams(depth,'+'\x20camera_pa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20min(di'+'stance(vie'+'w_position'+',\x20vPositio'+'nW)\x20/\x20ligh'+'t_radius,\x20'+'0.99999);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20MODI'+'FIED_DEPTH'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20SHADOW_TY'+'PE\x20==\x20VSM_'+'16F\x20||\x20SHA'+'DOW_TYPE\x20='+'=\x20VSM_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SHADOW_T'+'YPE\x20==\x20VSM'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20exponen'+'t\x20=\x2015.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+('t\x20exponent'+'\x20=\x205.54;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20depth\x20=\x20'+'2.0\x20*\x20dept'+'h\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dep'+'th\x20=\x20\x20exp('+'exponent\x20*'+'\x20depth);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(dep'+'th,\x20depth*'+'depth,\x201.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'SHADOW_TYP'+'E\x20==\x20PCSS_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'tore\x20depth'+'\x20into\x20R32\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.r\x20=\x20d'+'epth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ODIFIED_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20If\x20we\x20e'+'nd\x20up\x20usin'+'g\x20modified'+'\x20depth,\x20it'+'\x20needs\x20to\x20'+'be\x20explici'+'tly\x20writte'+'n\x20to\x20gl_Fr'+'agDepth\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gDepth\x20=\x20d'+'epth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20just\x20the\x20'+'simplest\x20c'+'ode,\x20color'+'\x20is\x20not\x20wr'+'itten\x20anyw'+'ay\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(1.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litUserM'+'ainEndPS\x22\x0a'+'}\x0a'),OP='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0amat'+'3\x20transpos'+'eMat3(\x20con'+'st\x20in\x20mat3'+'\x20m\x20)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20tmp;'+'\x0a\x20\x20\x20\x20tmp[\x20'+'0\x20]\x20=\x20vec3'+'(\x20m[\x200\x20].x'+',\x20m[\x201\x20].x'+',\x20m[\x202\x20].x'+'\x20);\x0a\x20\x20\x20\x20tm'+'p[\x201\x20]\x20=\x20v'+'ec3(\x20m[\x200\x20'+'].y,\x20m[\x201\x20'+'].y,\x20m[\x202\x20'+'].y\x20);\x0a\x20\x20\x20'+'\x20tmp[\x202\x20]\x20'+'=\x20vec3(\x20m['+'\x200\x20].z,\x20m['+'\x201\x20].z,\x20m['+'\x202\x20].z\x20);\x0a'+'\x20\x20\x20\x20return'+'\x20tmp;\x0a}\x0a\x0av'+'ec2\x20LTC_Uv'+'(\x20const\x20in'+'\x20vec3\x20N,\x20c'+'onst\x20in\x20ve'+'c3\x20V,\x20cons'+'t\x20in\x20float'+'\x20roughness'+'\x20)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20LUT_SIZE\x20'+'=\x2064.0;\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20LUT_SC'+'ALE\x20=\x20(\x20LU'+'T_SIZE\x20-\x201'+'.0\x20)\x20/\x20LUT'+'_SIZE;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20LUT_BIA'+'S\x20=\x200.5\x20/\x20'+'LUT_SIZE;\x0a'+'\x20\x20\x20\x20float\x20'+'dotNV\x20=\x20sa'+'turate(\x20do'+'t(\x20N,\x20V\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'texture\x20pa'+'rameterize'+'d\x20by\x20sqrt('+'\x20GGX\x20alpha'+'\x20)\x20and\x20sqr'+'t(\x201\x20-\x20cos'+'(\x20theta\x20)\x20'+')\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20vec2'+'(\x20roughnes'+'s,\x20sqrt(\x201'+'.0\x20-\x20dotNV'+'\x20)\x20);\x0a\x20\x20\x20\x20'+'uv\x20=\x20uv\x20*\x20'+'LUT_SCALE\x20'+'+\x20LUT_BIAS'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'float\x20LTC_'+'ClippedSph'+'ereFormFac'+'tor(\x20const'+'\x20in\x20vec3\x20f'+'\x20)\x20{\x0a\x20\x20\x20\x20/'+'/\x20Real-Tim'+'e\x20Area\x20Lig'+'hting:\x20a\x20J'+'ourney\x20fro'+'m\x20Research'+'\x20to\x20Produc'+'tion\x20(p.10'+'2)\x0a\x20\x20\x20\x20//\x20'+('An\x20approxi'+'mation\x20of\x20'+'the\x20form\x20f'+'actor\x20of\x20a'+'\x20horizon-c'+'lipped\x20rec'+'tangle.\x0a\x20\x20'+'\x20\x20float\x20l\x20'+'=\x20length(\x20'+'f\x20);\x0a\x20\x20\x20\x20r'+'eturn\x20max('+'\x20(\x20l\x20*\x20l\x20+'+'\x20f.z\x20)\x20/\x20('+'\x20l\x20+\x201.0\x20)'+',\x200.0\x20);\x0a}'+'\x0a\x0avec3\x20LTC'+'_EdgeVecto'+'rFormFacto'+'r(\x20const\x20i'+'n\x20vec3\x20v1,'+'\x20const\x20in\x20'+'vec3\x20v2\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20dot('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20y\x20=\x20abs(\x20'+'x\x20);\x0a\x20\x20\x20\x20/'+'/\x20rational'+'\x20polynomia'+'l\x20approxim'+'ation\x20to\x20t'+'heta\x20/\x20sin'+'(\x20theta\x20)\x20'+'/\x202PI\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'0.8543985\x20'+'+\x20(\x200.4965'+'155\x20+\x200.01'+'45206\x20*\x20y\x20'+')\x20*\x20y;\x0a\x20\x20\x20'+'\x20float\x20b\x20='+'\x203.4175940'+'\x20+\x20(\x204.161'+'6724\x20+\x20y\x20)'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20v\x20=\x20'+'a\x20/\x20b;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta_sinthet'+'a\x20=\x20(\x20x\x20>\x20'+'0.0\x20)\x20?\x20v\x20'+':\x200.5\x20*\x20in'+'versesqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7\x20)\x20)\x20-\x20'+'v;\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'\x20v1,\x20v2\x20)\x20'+'*\x20theta_si'+'ntheta;\x0a}\x0a'+'\x0astruct\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'d0;\x0a\x20\x20\x20\x20ve'+'c3\x20coord1;'+'\x0a\x20\x20\x20\x20vec3\x20'+'coord2;\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'rd3;\x0a};\x0a\x0af'+'loat\x20LTC_E'+'valuateRec'+'t(\x20const\x20i'+'n\x20vec3\x20N,\x20'+'const\x20in\x20v'+'ec3\x20V,\x20con'+'st\x20in\x20vec3'+'\x20P,\x20const\x20'+'in\x20mat3\x20mI'+'nv,\x20const\x20'+'in\x20Coords\x20'+'rectCoords'+')\x20{\x0a\x20\x20\x20\x20//'+'\x20bail\x20if\x20p'+'oint\x20is\x20on'+'\x20back\x20side'+'\x20of\x20plane\x20'+'of\x20light\x0a\x20'+'\x20\x20\x20//\x20assu'+'mes\x20ccw\x20wi'+'nding\x20orde'+'r\x20of\x20light'+'\x20vertices\x0a'+'\x20\x20\x20\x20vec3\x20v'+'1\x20=\x20rectCo'+'ords.coord'+'1\x20-\x20rectCo'+'ords.coord'+'0;\x0a\x20\x20\x20\x20vec')+('3\x20v2\x20=\x20rec'+'tCoords.co'+'ord3\x20-\x20rec'+'tCoords.co'+'ord0;\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'lightNorma'+'l\x20=\x20cross('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20//\x20if'+'(\x20dot(\x20lig'+'htNormal,\x20'+'P\x20-\x20rectCo'+'ords.coord'+'0\x20)\x20<\x200.0\x20'+')\x20return\x200'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20factor'+'\x20=\x20sign(-d'+'ot(\x20lightN'+'ormal,\x20P\x20-'+'\x20rectCoord'+'s.coord0\x20)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20vec3\x20T1,'+'\x20T2;\x0a\x20\x20\x20\x20T'+'1\x20=\x20normal'+'ize(\x20V\x20-\x20N'+'\x20*\x20dot(\x20V,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20T2\x20=\x20\x20fa'+'ctor\x20*\x20cro'+'ss(\x20N,\x20T1\x20'+');\x20//\x20nega'+'ted\x20from\x20p'+'aper;\x20poss'+'ibly\x20due\x20t'+'o\x20a\x20differ'+'ent\x20handed'+'ness\x20of\x20wo'+'rld\x20coordi'+'nate\x20syste'+'m\x0a\x20\x20\x20\x20//\x20c'+'ompute\x20tra'+'nsform\x0a\x20\x20\x20'+'\x20mat3\x20mat\x20'+'=\x20mInv\x20*\x20t'+'ransposeMa'+'t3(\x20mat3(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20transfor'+'m\x20rect\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'ds[\x204\x20];\x0a\x20'+'\x20\x20\x20coords['+'\x200\x20]\x20=\x20mat'+'\x20*\x20(\x20rectC'+'oords.coor'+'d0\x20-\x20P\x20);\x0a'+'\x20\x20\x20\x20coords'+'[\x201\x20]\x20=\x20ma'+'t\x20*\x20(\x20rect'+'Coords.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20coord'+'s[\x202\x20]\x20=\x20m'+'at\x20*\x20(\x20rec'+'tCoords.co'+'ord2\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20coor'+'ds[\x203\x20]\x20=\x20'+'mat\x20*\x20(\x20re'+'ctCoords.c'+'oord3\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20//\x20'+'project\x20re'+'ct\x20onto\x20sp'+'here\x0a\x20\x20\x20\x20c'+'oords[\x200\x20]'+'\x20=\x20normali'+'ze(\x20coords'+'[\x200\x20]\x20);\x0a\x20'+'\x20\x20\x20coords['+'\x201\x20]\x20=\x20nor'+'malize(\x20co'+'ords[\x201\x20]\x20'+');\x0a\x20\x20\x20\x20coo'+'rds[\x202\x20]\x20='+'\x20normalize'+'(\x20coords[\x20'+'2\x20]\x20);\x0a\x20\x20\x20'+'\x20coords[\x203'+'\x20]\x20=\x20norma'+'lize(\x20coor'+'ds[\x203\x20]\x20);')+('\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20ve'+'ctor\x20form\x20'+'factor\x0a\x20\x20\x20'+'\x20vec3\x20vect'+'orFormFact'+'or\x20=\x20vec3('+'\x200.0\x20);\x0a\x20\x20'+'\x20\x20vectorFo'+'rmFactor\x20+'+'=\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[\x200\x20],'+'\x20coords[\x201'+'\x20]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20+=\x20'+'LTC_EdgeVe'+'ctorFormFa'+'ctor(\x20coor'+'ds[\x201\x20],\x20c'+'oords[\x202\x20]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa'+'ctor\x20+=\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[\x202\x20],\x20coo'+'rds[\x203\x20]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20+=\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[\x20'+'3\x20],\x20coord'+'s[\x200\x20]\x20);\x0a'+'\x20\x20\x20\x20//\x20adj'+'ust\x20for\x20ho'+'rizon\x20clip'+'ping\x0a\x20\x20\x20\x20f'+'loat\x20resul'+'t\x20=\x20LTC_Cl'+'ippedSpher'+'eFormFacto'+'r(\x20vectorF'+'ormFactor\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0aCoor'+'ds\x20dLTCCoo'+'rds;\x0aCoord'+'s\x20getLTCLi'+'ghtCoords('+'vec3\x20light'+'Pos,\x20vec3\x20'+'halfWidth,'+'\x20vec3\x20half'+'Height){\x0a\x20'+'\x20\x20\x20Coords\x20'+'coords;\x0a\x20\x20'+'\x20\x20coords.c'+'oord0\x20=\x20li'+'ghtPos\x20+\x20h'+'alfWidth\x20-'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord1'+'\x20=\x20lightPo'+'s\x20-\x20halfWi'+'dth\x20-\x20half'+'Height;\x0a\x20\x20'+'\x20\x20coords.c'+'oord2\x20=\x20li'+'ghtPos\x20-\x20h'+'alfWidth\x20+'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord3'+'\x20=\x20lightPo'+'s\x20+\x20halfWi'+'dth\x20+\x20half'+'Height;\x0a\x20\x20'+'\x20\x20return\x20c'+'oords;\x0a}\x0a\x0a'+'float\x20dSph'+'ereRadius;'+'\x0aCoords\x20ge'+'tSphereLig'+'htCoords(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight){\x0a\x20\x20'+'\x20\x20//\x20used\x20'+'for\x20simple'+'\x20sphere\x20li')+('ght\x20fallof'+'f\x0a\x20\x20\x20\x20//\x20a'+'lso,\x20the\x20c'+'ode\x20only\x20h'+'andles\x20a\x20s'+'pherical\x20l'+'ight,\x20it\x20c'+'annot\x20be\x20n'+'on-uniform'+'ly\x20scaled\x20'+'in\x20world\x20s'+'pace,\x20and\x20'+'so\x20we\x20enfo'+'rce\x20it\x20her'+'e\x0a\x20\x20\x20\x20dSph'+'ereRadius\x20'+'=\x20max(leng'+'th(halfWid'+'th),\x20lengt'+'h(halfHeig'+'ht));\x0a\x0a\x20\x20\x20'+'\x20//\x20Billbo'+'ard\x20the\x202d'+'\x20light\x20qua'+'d\x20to\x20refle'+'ction\x20vect'+'or,\x20as\x20it\x27'+'s\x20used\x20for'+'\x20specular.'+'\x20This\x20allo'+'ws\x20us\x20to\x20u'+'se\x20disk\x20ma'+'th\x20for\x20the'+'\x20sphere.\x0a\x20'+'\x20\x20\x20vec3\x20f\x20'+'=\x20reflect('+'normalize('+'lightPos\x20-'+'\x20view_posi'+'tion),\x20vNo'+'rmalW);\x0a\x20\x20'+'\x20\x20vec3\x20w\x20='+'\x20normalize'+'(cross(f,\x20'+'halfHeight'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20h\x20=\x20nor'+'malize(cro'+'ss(f,\x20w));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20getLTCL'+'ightCoords'+'(lightPos,'+'\x20w\x20*\x20dSphe'+'reRadius,\x20'+'h\x20*\x20dSpher'+'eRadius);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20LTC\x20L'+'UT\x20texture'+'\x20lookup\x0ave'+'c2\x20dLTCUV;'+'\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20vec2'+'\x20ccLTCUV;\x0a'+'#endif\x0a\x0ave'+'c2\x20getLTCL'+'ightUV(flo'+'at\x20gloss,\x20'+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+')\x0a{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20max('+'(1.0\x20-\x20glo'+'ss)\x20*\x20(1.0'+'\x20-\x20gloss),'+'\x200.001);\x0a\x20'+'\x20\x20\x20return\x20'+'LTC_Uv(\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'roughness\x20'+');\x0a}\x0a\x0a//\x20u'+'sed\x20for\x20en'+'ergy\x20conse'+'rvation\x20an'+'d\x20to\x20modul'+'ate\x20specul'+'ar\x0avec3\x20dL'+'TCSpecFres'+';\x0a#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20vec'+'3\x20ccLTCSpe'+'cFres;\x0a#en'+'dif\x0a\x0avec3\x20'+'getLTCLigh')+('tSpecFres('+'vec2\x20uv,\x20v'+'ec3\x20specul'+'arity)\x0a{\x0a\x20'+'\x20\x20\x20vec4\x20t2'+'\x20=\x20texture'+'2DLod(area'+'LightsLutT'+'ex2,\x20uv,\x200'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20spec'+'ularity\x20*\x20'+'t2.x\x20+\x20(\x20v'+'ec3(\x201.0\x20)'+'\x20-\x20specula'+'rity)\x20*\x20t2'+'.y;\x0a}\x0a\x0avoi'+'d\x20calcLTCL'+'ightValues'+'(float\x20glo'+'ss,\x20vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20speculari'+'ty,\x20float\x20'+'clearcoatG'+'loss,\x20vec3'+'\x20clearcoat'+'WorldNorma'+'l,\x20float\x20c'+'learcoatSp'+'ecularity)'+'\x0a{\x0a\x20\x20\x20\x20dLT'+'CUV\x20=\x20getL'+'TCLightUV('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20dLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(d'+'LTCUV,\x20spe'+'cularity);'+'\x20\x0a\x0a#ifdef\x20'+'LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20cc'+'LTCUV\x20=\x20ge'+'tLTCLightU'+'V(clearcoa'+'tGloss,\x20cl'+'earcoatWor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20ccLTCS'+'pecFres\x20=\x20'+'getLTCLigh'+'tSpecFres('+'ccLTCUV,\x20v'+'ec3(clearc'+'oatSpecula'+'rity));\x0a#e'+'ndif\x0a}\x0a\x0avo'+'id\x20calcRec'+'tLightValu'+'es(vec3\x20li'+'ghtPos,\x20ve'+'c3\x20halfWid'+'th,\x20vec3\x20h'+'alfHeight)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CCoords\x20=\x20'+'getLTCLigh'+'tCoords(li'+'ghtPos,\x20ha'+'lfWidth,\x20h'+'alfHeight)'+';\x0a}\x0avoid\x20c'+'alcDiskLig'+'htValues(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight)\x20{\x0a\x20'+'\x20\x20\x20calcRec'+'tLightValu'+'es(lightPo'+'s,\x20halfWid'+'th,\x20halfHe'+'ight);\x0a}\x0av'+'oid\x20calcSp'+'hereLightV'+'alues(vec3'+'\x20lightPos,'+'\x20vec3\x20half'+'Width,\x20vec'+'3\x20halfHeig'+'ht)\x20{\x0a\x20\x20\x20\x20')+('dLTCCoords'+'\x20=\x20getSphe'+'reLightCoo'+'rds(lightP'+'os,\x20halfWi'+'dth,\x20halfH'+'eight);\x0a}\x0a'+'\x0a//\x20An\x20ext'+'ended\x20vers'+'ion\x20of\x20the'+'\x20implement'+'ation\x20from'+'\x20\x22How\x20to\x20s'+'olve\x20a\x20cub'+'ic\x20equatio'+'n,\x20revisit'+'ed\x22\x0a//\x20htt'+'p://moment'+'singraphic'+'s.de/?p=10'+'5\x0avec3\x20Sol'+'veCubic(ve'+'c4\x20Coeffic'+'ient)\x0a{\x0a\x20\x20'+'\x20\x20float\x20pi'+'\x20=\x203.14159'+';\x0a\x20\x20\x20\x20//\x20N'+'ormalize\x20t'+'he\x20polynom'+'ial\x0a\x20\x20\x20\x20Co'+'efficient.'+'xyz\x20/=\x20Coe'+'fficient.w'+';\x0a\x20\x20\x20\x20//\x20D'+'ivide\x20midd'+'le\x20coeffic'+'ients\x20by\x20t'+'hree\x0a\x20\x20\x20\x20C'+'oefficient'+'.yz\x20/=\x203.0'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20A\x20=\x20Coe'+'fficient.w'+';\x0a\x20\x20\x20\x20floa'+'t\x20B\x20=\x20Coef'+'ficient.z;'+'\x0a\x20\x20\x20\x20float'+'\x20C\x20=\x20Coeff'+'icient.y;\x0a'+'\x20\x20\x20\x20float\x20'+'D\x20=\x20Coeffi'+'cient.x;\x0a\x0a'+'\x20\x20\x20\x20//\x20Com'+'pute\x20the\x20H'+'essian\x20and'+'\x20the\x20discr'+'iminant\x0a\x20\x20'+'\x20\x20vec3\x20Del'+'ta\x20=\x20vec3('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20-'+'Coefficien'+'t.z\x20*\x20Coef'+'ficient.z\x20'+'+\x20Coeffici'+'ent.y,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20-Coef'+'ficient.y\x20'+'*\x20Coeffici'+'ent.z\x20+\x20Co'+'efficient.'+'x,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dot(vec2('+'Coefficien'+'t.z,\x20-Coef'+'ficient.y)'+',\x20Coeffici'+'ent.xy)\x0a\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'float\x20Disc'+'riminant\x20='+'\x20dot(vec2('+'4.0\x20*\x20Delt'+'a.x,\x20-Delt'+'a.y),\x20Delt'+'a.zy);\x0a\x0a\x20\x20'+'\x20\x20vec2\x20xlc'+',\x20xsc;\x0a\x0a\x20\x20'+'\x20\x20//\x20Algor'+'ithm\x20A\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20A_a'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20C_a\x20=\x20De'+'lta.x;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20D_a\x20=\x20-2.'+'0\x20*\x20B\x20*\x20De'+'lta.x\x20+\x20De'+'lta.y;\x0a\x0a\x20\x20')+('\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20Theta\x20'+'=\x20atan(sqr'+'t(Discrimi'+'nant),\x20-D_'+'a)\x20/\x203.0;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20x_1a\x20'+'=\x202.0\x20*\x20sq'+'rt(-C_a)\x20*'+'\x20cos(Theta'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20x_3'+'a\x20=\x202.0\x20*\x20'+'sqrt(-C_a)'+'\x20*\x20cos(The'+'ta\x20+\x20(2.0\x20'+'/\x203.0)\x20*\x20p'+'i);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20x'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20((x_1a'+'\x20+\x20x_3a)\x20>'+'\x202.0\x20*\x20B)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20xl\x20=\x20x_1'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20xl'+'\x20=\x20x_3a;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20xl'+'c\x20=\x20vec2(x'+'l\x20-\x20B,\x20A);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20Algor'+'ithm\x20D\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20A_d'+'\x20=\x20D;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'C_d\x20=\x20Delt'+'a.z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20D'+'_d\x20=\x20-D\x20*\x20'+'Delta.y\x20+\x20'+'2.0\x20*\x20C\x20*\x20'+'Delta.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20Take\x20the\x20'+'cubic\x20root'+'\x20of\x20a\x20norm'+'alized\x20com'+'plex\x20numbe'+'r\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20Thet'+'a\x20=\x20atan(D'+'\x20*\x20sqrt(Di'+'scriminant'+'),\x20-D_d)\x20/'+'\x203.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20x_1d\x20=\x202.'+'0\x20*\x20sqrt(-'+'C_d)\x20*\x20cos'+'(Theta);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20x_3d\x20=\x20'+'2.0\x20*\x20sqrt'+'(-C_d)\x20*\x20c'+'os(Theta\x20+'+'\x20(2.0\x20/\x203.'+'0)\x20*\x20pi);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20xs;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(x_1d\x20+\x20x_'+'3d\x20<\x202.0\x20*'+'\x20C)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20xs\x20='+'\x20x_1d;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20xs\x20=\x20x_3'+'d;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20xsc\x20=\x20ve'+'c2(-D,\x20xs\x20'+'+\x20C);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20flo'+'at\x20E\x20=\x20\x20xl'+'c.y\x20*\x20xsc.'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20F\x20=\x20-xl'+'c.x\x20*\x20xsc.'+'y\x20-\x20xlc.y\x20')+('*\x20xsc.x;\x0a\x20'+'\x20\x20\x20float\x20G'+'\x20=\x20\x20xlc.x\x20'+'*\x20xsc.x;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20x'+'mc\x20=\x20vec2('+'C\x20*\x20F\x20-\x20B\x20'+'*\x20G,\x20-B\x20*\x20'+'F\x20+\x20C\x20*\x20E)'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20Root\x20=\x20v'+'ec3(xsc.x\x20'+'/\x20xsc.y,\x20x'+'mc.x\x20/\x20xmc'+'.y,\x20xlc.x\x20'+'/\x20xlc.y);\x0a'+'\x0a\x20\x20\x20\x20if\x20(R'+'oot.x\x20<\x20Ro'+'ot.y\x20&&\x20Ro'+'ot.x\x20<\x20Roo'+'t.z)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20Root.xy'+'z\x20=\x20Root.y'+'xz;\x0a\x20\x20\x20\x20el'+'se\x20if\x20(Roo'+'t.z\x20<\x20Root'+'.x\x20&&\x20Root'+'.z\x20<\x20Root.'+'y)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root.xyz\x20'+'=\x20Root.xzy'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20Root;\x0a'+'}\x0a\x0afloat\x20L'+'TC_Evaluat'+'eDisk(vec3'+'\x20N,\x20vec3\x20V'+',\x20vec3\x20P,\x20'+'mat3\x20Minv,'+'\x20Coords\x20po'+'ints)\x0a{\x0a\x20\x20'+'\x20\x20//\x20const'+'ruct\x20ortho'+'normal\x20bas'+'is\x20around\x20'+'N\x0a\x20\x20\x20\x20vec3'+'\x20T1\x20=\x20norm'+'alize(V\x20-\x20'+'N\x20*\x20dot(V,'+'\x20N));\x0a\x20\x20\x20\x20'+'vec3\x20T2\x20=\x20'+'cross(N,\x20T'+'1);\x0a\x0a\x20\x20\x20\x20/'+'/\x20rotate\x20a'+'rea\x20light\x20'+'in\x20(T1,\x20T2'+',\x20N)\x20basis'+'\x0a\x20\x20\x20\x20//mat'+'3\x20R\x20=\x20tran'+'spose(mat3'+'(T1,\x20T2,\x20N'+'));\x0a\x20\x20\x20\x20ma'+'t3\x20R\x20=\x20tra'+'nsposeMat3'+'(\x20mat3(\x20T1'+',\x20T2,\x20N\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'polygon\x20(a'+'llocate\x205\x20'+'vertices\x20f'+'or\x20clippin'+'g)\x0a\x20\x20\x20\x20vec'+'3\x20L_[\x203\x20];'+'\x0a\x20\x20\x20\x20L_[\x200'+'\x20]\x20=\x20R\x20*\x20('+'\x20points.co'+'ord0\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20L_[\x20'+'1\x20]\x20=\x20R\x20*\x20'+'(\x20points.c'+'oord1\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20L_['+'\x202\x20]\x20=\x20R\x20*'+'\x20(\x20points.'+'coord2\x20-\x20P'+'\x20);\x0a\x0a\x20\x20\x20\x20/'+'/\x20init\x20ell'+'ipse\x0a\x20\x20\x20\x20v'+'ec3\x20C\x20\x20=\x200'+'.5\x20*\x20(L_[0'+']\x20+\x20L_[2])'+';\x0a\x20\x20\x20\x20vec3'+'\x20V1\x20=\x200.5\x20'+'*\x20(L_[1]\x20-'+'\x20L_[2]);\x0a\x20'+'\x20\x20\x20vec3\x20V2'+'\x20=\x200.5\x20*\x20('+'L_[1]\x20-\x20L_'+'[0]);\x0a\x0a\x20\x20\x20'+'\x20C\x20\x20=\x20Minv')+('\x20*\x20C;\x0a\x20\x20\x20\x20'+'V1\x20=\x20Minv\x20'+'*\x20V1;\x0a\x20\x20\x20\x20'+'V2\x20=\x20Minv\x20'+'*\x20V2;\x0a\x0a\x20\x20\x20'+'\x20//if(dot('+'cross(V1,\x20'+'V2),\x20C)\x20>\x20'+'0.0)\x0a\x20\x20\x20\x20/'+'/\x20\x20\x20\x20retur'+'n\x200.0;\x0a\x0a\x20\x20'+'\x20\x20//\x20compu'+'te\x20eigenve'+'ctors\x20of\x20e'+'llipse\x0a\x20\x20\x20'+'\x20float\x20a,\x20'+'b;\x0a\x20\x20\x20\x20flo'+'at\x20d11\x20=\x20d'+'ot(V1,\x20V1)'+';\x0a\x20\x20\x20\x20floa'+'t\x20d22\x20=\x20do'+'t(V2,\x20V2);'+'\x0a\x20\x20\x20\x20float'+'\x20d12\x20=\x20dot'+'(V1,\x20V2);\x0a'+'\x20\x20\x20\x20if\x20(ab'+'s(d12)\x20/\x20s'+'qrt(d11\x20*\x20'+'d22)\x20>\x200.0'+'001)\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20tr\x20=\x20'+'d11\x20+\x20d22;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20det\x20='+'\x20-d12\x20*\x20d1'+'2\x20+\x20d11\x20*\x20'+'d22;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20use'+'\x20sqrt\x20matr'+'ix\x20to\x20solv'+'e\x20for\x20eige'+'nvalues\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20det\x20'+'=\x20sqrt(det'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20u\x20='+'\x200.5\x20*\x20sqr'+'t(tr\x20-\x202.0'+'\x20*\x20det);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20v\x20=\x200.5'+'\x20*\x20sqrt(tr'+'\x20+\x202.0\x20*\x20d'+'et);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20e'+'_max\x20=\x20(u\x20'+'+\x20v)\x20*\x20(u\x20'+'+\x20v);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'e_min\x20=\x20(u'+'\x20-\x20v)\x20*\x20(u'+'\x20-\x20v);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20V1_,\x20V2_;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(d11\x20>\x20'+'d22)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V1_'+'\x20=\x20d12\x20*\x20V'+'1\x20+\x20(e_max'+'\x20-\x20d11)\x20*\x20'+'V2;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20V2_\x20'+'=\x20d12\x20*\x20V1'+'\x20+\x20(e_min\x20'+'-\x20d11)\x20*\x20V'+'2;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20V1'+'_\x20=\x20d12*V2'+'\x20+\x20(e_max\x20'+'-\x20d22)*V1;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20V2_\x20=\x20d'+'12*V2\x20+\x20(e'+'_min\x20-\x20d22'+')*V1;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20e_max'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'b\x20=\x201.0\x20/\x20'+'e_min;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V1\x20=\x20'+'normalize('+'V1_);\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20V2\x20=\x20n'+'ormalize(V'+'2_);\x0a\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20a\x20=\x201.'+'0\x20/\x20dot(V1'+',\x20V1);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20b\x20=\x201'+'.0\x20/\x20dot(V'+'2,\x20V2);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V1\x20*'+'=\x20sqrt(a);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20V'+'2\x20*=\x20sqrt('+'b);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'V3\x20=\x20norma'+'lize(cross'+'(V1,\x20V2));'+'\x0a\x20\x20\x20\x20if\x20(d'+'ot(C,\x20V3)\x20'+'<\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V3\x20*='+'\x20-1.0;\x0a\x0a\x20\x20'+'\x20\x20float\x20L\x20'+'\x20=\x20dot(V3,'+'\x20C);\x0a\x20\x20\x20\x20f'+'loat\x20x0\x20=\x20'+'dot(V1,\x20C)'+'\x20/\x20L;\x0a\x20\x20\x20\x20'+'float\x20y0\x20='+'\x20dot(V2,\x20C'+')\x20/\x20L;\x0a\x0a\x20\x20'+'\x20\x20float\x20E1'+'\x20=\x20inverse'+'sqrt(a);\x0a\x20'+'\x20\x20\x20float\x20E'+'2\x20=\x20invers'+'esqrt(b);\x0a'+'\x0a\x20\x20\x20\x20a\x20*=\x20'+'L\x20*\x20L;\x0a\x20\x20\x20'+'\x20b\x20*=\x20L\x20*\x20'+'L;\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20c0\x20=\x20a'+'\x20*\x20b;\x0a\x20\x20\x20\x20'+'float\x20c1\x20='+'\x20a\x20*\x20b\x20*\x20('+'1.0\x20+\x20x0\x20*'+'\x20x0\x20+\x20y0\x20*'+'\x20y0)\x20-\x20a\x20-'+'\x20b;\x0a\x20\x20\x20\x20fl'+'oat\x20c2\x20=\x201'+'.0\x20-\x20a\x20*\x20('+'1.0\x20+\x20x0\x20*'+'\x20x0)\x20-\x20b\x20*'+'\x20(1.0\x20+\x20y0'+'\x20*\x20y0);\x0a\x20\x20'+'\x20\x20float\x20c3'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ro'+'ots\x20=\x20Solv'+'eCubic(vec'+'4(c0,\x20c1,\x20'+'c2,\x20c3));\x0a'+'\x20\x20\x20\x20float\x20'+'e1\x20=\x20roots'+'.x;\x0a\x20\x20\x20\x20fl'+'oat\x20e2\x20=\x20r'+'oots.y;\x0a\x20\x20'+'\x20\x20float\x20e3'+'\x20=\x20roots.z'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20avgDir\x20='+'\x20vec3(a\x20*\x20'+'x0\x20/\x20(a\x20-\x20'+'e2),\x20b\x20*\x20y'+'0\x20/\x20(b\x20-\x20e'+'2),\x201.0);\x0a'+'\x0a\x20\x20\x20\x20mat3\x20'+'rotate\x20=\x20m'+'at3(V1,\x20V2'+',\x20V3);\x0a\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20rotate\x20*\x20'+'avgDir;\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20normalize'+'(avgDir);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20L1\x20=\x20sqrt'+'(-e2\x20/\x20e3)'+';\x0a\x20\x20\x20\x20floa'+'t\x20L2\x20=\x20sqr'+'t(-e2\x20/\x20e1'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20formFa'+'ctor\x20=\x20max'+'(0.0,\x20L1\x20*'+'\x20L2\x20*\x20inve')+('rsesqrt((1'+'.0\x20+\x20L1\x20*\x20'+'L1)\x20*\x20(1.0'+'\x20+\x20L2\x20*\x20L2'+')));\x0a\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20const\x20'+'float\x20LUT_'+'SIZE\x20=\x2064.'+'0;\x0a\x20\x20\x20\x20con'+'st\x20float\x20L'+'UT_SCALE\x20='+'\x20(\x20LUT_SIZ'+'E\x20-\x201.0\x20)\x20'+'/\x20LUT_SIZE'+';\x0a\x20\x20\x20\x20cons'+'t\x20float\x20LU'+'T_BIAS\x20=\x200'+'.5\x20/\x20LUT_S'+'IZE;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20tab'+'ulated\x20hor'+'izon-clipp'+'ed\x20sphere\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20vec2(a'+'vgDir.z\x20*\x20'+'0.5\x20+\x200.5,'+'\x20formFacto'+'r);\x0a\x20\x20\x20\x20uv'+'\x20=\x20uv*LUT_'+'SCALE\x20+\x20LU'+'T_BIAS;\x0a\x0a\x20'+'\x20\x20\x20float\x20s'+'cale\x20=\x20tex'+'ture2DLod('+'areaLights'+'LutTex2,\x20u'+'v,\x200.0).w;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20formFac'+'tor*scale;'+'\x0a}\x0a\x0a//\x20LTC'+'_EvaluateD'+'isk\x20in\x20som'+'e\x20rare\x20cas'+'es\x20generea'+'tes\x20NaN\x20va'+'lues\x20in\x20a\x20'+'or\x20b,\x20just'+'\x20before\x20\x27f'+'loat\x20c0\x20=\x20'+'a\x20*\x20b;\x27\x0a//'+'\x20Get\x20rid\x20o'+'f\x20those\x20Na'+'n\x20values\x20b'+'efore\x20they'+'\x20propagate'+'\x20further,\x20'+'as\x20in\x20case'+'\x20of\x20bloom\x20'+'/\x20DOF\x20blur'+'s\x20they\x0a//\x20'+'propagate\x20'+'to\x20large\x20a'+'reas.\x20I\x20di'+'dn\x27t\x20find\x20'+'the\x20actual'+'\x20reason\x20wh'+'ere\x20those\x20'+'come\x20from,'+'\x20so\x20that\x20i'+'s\x20still\x20TO'+'DO.\x0a//\x20Not'+'e\x20that\x20onl'+'y\x20disk/sph'+'ere\x20lights'+'\x20are\x20causi'+'ng\x20it,\x20so\x20'+'only\x20handl'+'e\x20those.\x0af'+'loat\x20FixNa'+'n(float\x20va'+'lue)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'value\x20!=\x20v'+'alue\x20?\x200.0'+'\x20:\x20value;\x20'+'\x20//\x20isnan\x20'+'does\x20not\x20t'+'ranspile\x20c'+'orrectly,\x20'+'use\x20a\x20work'+'around\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20isnan(va'+'lue)\x20?\x200.0'+'\x20:\x20value;\x0a')+('\x20\x20\x20\x20#endif'+'\x0a}\x0a\x0afloat\x20'+'getRectLig'+'htDiffuse('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+',\x20vec3\x20lig'+'htDir,\x20vec'+'3\x20lightDir'+'Norm)\x20{\x0a\x20\x20'+'\x20\x20return\x20L'+'TC_Evaluat'+'eRect(\x20wor'+'ldNormal,\x20'+'viewDir,\x20v'+'PositionW,'+'\x20mat3(\x201.0'+'\x20),\x20dLTCCo'+'ords\x20);\x0a}\x0a'+'\x0afloat\x20get'+'DiskLightD'+'iffuse(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20FixN'+'an(LTC_Eva'+'luateDisk('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mat3('+'\x201.0\x20),\x20dL'+'TCCoords\x20)'+');\x0a}\x0a\x0afloa'+'t\x20getSpher'+'eLightDiff'+'use(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm)\x20'+'{\x0a\x20\x20\x20\x20//\x20N'+'B:\x20this\x20co'+'uld\x20be\x20imp'+'roved\x20furt'+'her\x20with\x20d'+'istance\x20ba'+'sed\x20wrap\x20l'+'ighting\x0a\x20\x20'+'\x20\x20float\x20fa'+'lloff\x20=\x20dS'+'phereRadiu'+'s\x20/\x20(dot(l'+'ightDir,\x20l'+'ightDir)\x20+'+'\x20dSphereRa'+'dius);\x0a\x20\x20\x20'+'\x20return\x20Fi'+'xNan(getLi'+'ghtDiffuse'+'(worldNorm'+'al,\x20viewDi'+'r,\x20lightDi'+'rNorm)\x20*\x20f'+'alloff);\x0a}'+'\x0a\x0amat3\x20get'+'LTCLightIn'+'vMat(vec2\x20'+'uv)\x0a{\x0a\x20\x20\x20\x20'+'vec4\x20t1\x20=\x20'+'texture2DL'+'od(areaLig'+'htsLutTex1'+',\x20uv,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mat3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3(\x20t1.x,\x20'+'0,\x20t1.y\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3(\x20\x20\x20\x200,'+'\x201,\x20\x20\x20\x200\x20)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3(\x20t1.z'+',\x200,\x20t1.w\x20'+')\x0a\x20\x20\x20\x20);\x0a}'+'\x0a\x0afloat\x20ca'+'lcRectLigh'+'tSpecular('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir')+(',\x20vec2\x20uv)'+'\x20{\x0a\x20\x20\x20\x20mat'+'3\x20mInv\x20=\x20g'+'etLTCLight'+'InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateRect('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afl'+'oat\x20getRec'+'tLightSpec'+'ular(vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'calcRectLi'+'ghtSpecula'+'r(worldNor'+'mal,\x20viewD'+'ir,\x20dLTCUV'+');\x0a}\x0a\x0afloa'+'t\x20calcDisk'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20mInv'+'\x20=\x20getLTCL'+'ightInvMat'+'(uv);\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_EvaluateD'+'isk(\x20world'+'Normal,\x20vi'+'ewDir,\x20vPo'+'sitionW,\x20m'+'Inv,\x20dLTCC'+'oords\x20);\x0a}'+'\x0a\x0afloat\x20ge'+'tDiskLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcDi'+'skLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir,\x20dL'+'TCUV);\x0a}\x0a\x0a'+'float\x20getS'+'phereLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcDi'+'skLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir,\x20dL'+'TCUV);\x0a}\x0a'),FP='\x0a#ifdef\x20ST'+'D_METALNES'+'S_CONSTANT'+'\x0auniform\x20f'+'loat\x20mater'+'ial_metaln'+'ess;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tMetalness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20metal'+'ness\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20metalness'+'\x20*=\x20materi'+'al_metalne'+'ss;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20metalne'+'ss\x20*=\x20text'+'ure2DBias('+'{STD_METAL'+'NESS_TEXTU'+'RE_NAME},\x20'+'{STD_METAL'+'NESS_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+'.{STD_META'+'LNESS_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_VERTEX\x0a\x20\x20'+'\x20\x20metalnes'+'s\x20*=\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_METALNES'+'S_VERTEX_C'+'HANNEL});\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dMet'+'alness\x20=\x20m'+'etalness;\x0a'+'}\x0a',NP='\x0auniform\x20s'+'ampler2D\x20t'+'exture_msd'+'fMap;\x0a\x0aflo'+'at\x20median('+'float\x20r,\x20f'+'loat\x20g,\x20fl'+'oat\x20b)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'max(min(r,'+'\x20g),\x20min(m'+'ax(r,\x20g),\x20'+'b));\x0a}\x0a\x0afl'+'oat\x20map\x20(f'+'loat\x20min,\x20'+'float\x20max,'+'\x20float\x20v)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20(v\x20-\x20mi'+'n)\x20/\x20(max\x20'+'-\x20min);\x0a}\x0a'+'\x0auniform\x20f'+'loat\x20font_'+'sdfIntensi'+'ty;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20float\x20f'+'ont_pxrang'+'e;\x20\x20\x20\x20\x20\x20//'+'\x20the\x20numbe'+'r\x20of\x20pixel'+'s\x20between\x20'+'inside\x20and'+'\x20outside\x20t'+'he\x20font\x20in'+'\x20SDF\x0aunifo'+'rm\x20float\x20f'+'ont_textur'+'eWidth;\x20//'+'\x20the\x20width'+'\x20of\x20the\x20te'+'xture\x20atla'+'s\x0a\x0a#ifndef'+'\x20LIT_MSDF_'+'TEXT_ATTRI'+'BUTE\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20outline_'+'color;\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20shadow_co'+'lor;\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20shadow_o'+'ffset;\x0a#el'+'se\x0a\x20\x20\x20\x20var'+'ying\x20vec4\x20'+'outline_co'+'lor;\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20outline'+'_thickness'+';\x0a\x20\x20\x20\x20vary'+'ing\x20vec4\x20s'+'hadow_colo'+'r;\x0a\x20\x20\x20\x20var'+'ying\x20vec2\x20'+'shadow_off'+'set;\x0a#endi'+'f\x0a\x0avec4\x20ap'+'plyMsdf(ve'+'c4\x20color)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'Convert\x20to'+'\x20linear\x20sp'+'ace\x20before'+'\x20processin'+'g\x0a\x20\x20\x20\x20//\x20T'+'ODO:\x20ideal'+'ly\x20this\x20wo'+'uld\x20receiv'+'e\x20the\x20colo'+'r\x20in\x20linea'+'r\x20space,\x20b'+'ut\x20that\x20wo'+'uld\x20requir'+'e\x20larger\x20c'+'hanges\x0a\x20\x20\x20'+('\x20//\x20on\x20the'+'\x20engine\x20si'+'de,\x20with\x20t'+'he\x20way\x20pre'+'multiplied'+'\x20alpha\x20is\x20'+'handled\x20as'+'\x20well.\x0a\x20\x20\x20'+'\x20color.rgb'+'\x20=\x20gammaCo'+'rrectInput'+'(color.rgb'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20sample\x20th'+'e\x20field\x0a\x20\x20'+'\x20\x20vec3\x20tsa'+'mple\x20=\x20tex'+'ture2D(tex'+'ture_msdfM'+'ap,\x20vUv0).'+'rgb;\x0a\x20\x20\x20\x20v'+'ec2\x20uvShdw'+'\x20=\x20vUv0\x20-\x20'+'shadow_off'+'set;\x0a\x20\x20\x20\x20v'+'ec3\x20ssampl'+'e\x20=\x20textur'+'e2D(textur'+'e_msdfMap,'+'\x20uvShdw).r'+'gb;\x0a\x0a\x20\x20\x20\x20/'+'/\x20get\x20the\x20'+'signed\x20dis'+'tance\x20valu'+'e\x0a\x20\x20\x20\x20floa'+'t\x20sigDist\x20'+'=\x20median(t'+'sample.r,\x20'+'tsample.g,'+'\x20tsample.b'+');\x0a\x20\x20\x20\x20flo'+'at\x20sigDist'+'Shdw\x20=\x20med'+'ian(ssampl'+'e.r,\x20ssamp'+'le.g,\x20ssam'+'ple.b);\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20limi'+'t\x20-\x20smalle'+'r\x20value\x20ma'+'kes\x20for\x20sh'+'arper\x20but\x20'+'more\x20alias'+'ed\x20text,\x20e'+'specially\x20'+'on\x20angles\x0a'+'\x20\x20\x20\x20//\x20too'+'\x20large\x20val'+'ue\x20(0.5)\x20c'+'reates\x20a\x20d'+'ark\x20glow\x20a'+'round\x20the\x20'+'letters\x0a\x20\x20'+'\x20\x20float\x20sm'+'oothingMax'+'\x20=\x200.2;\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20depe'+'nds\x20on\x20siz'+'e\x20of\x20textu'+'re\x20on\x20scre'+'en\x0a\x20\x20\x20\x20vec'+'2\x20w\x20=\x20fwid'+'th(vUv0);\x0a'+'\x20\x20\x20\x20float\x20'+'smoothing\x20'+'=\x20clamp(w.'+'x\x20*\x20font_t'+'extureWidt'+'h\x20/\x20font_p'+'xrange,\x200.'+'0,\x20smoothi'+'ngMax);\x0a\x0a\x20'+'\x20\x20\x20float\x20m'+'apMin\x20=\x200.'+'05;\x0a\x20\x20\x20\x20fl'+'oat\x20mapMax'+'\x20=\x20clamp(1'+'.0\x20-\x20font_'+'sdfIntensi'+'ty,\x20mapMin'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20rema'+'p\x20to\x20a\x20sma'+'ller\x20range'+'\x20(used\x20on\x20'+'smaller\x20fo'+'nt\x20sizes)\x0a'+'\x20\x20\x20\x20float\x20')+('sigDistInn'+'er\x20=\x20map(m'+'apMin,\x20map'+'Max,\x20sigDi'+'st);\x0a\x20\x20\x20\x20f'+'loat\x20sigDi'+'stOutline\x20'+'=\x20map(mapM'+'in,\x20mapMax'+',\x20sigDist\x20'+'+\x20outline_'+'thickness)'+';\x0a\x20\x20\x20\x20sigD'+'istShdw\x20=\x20'+'map(mapMin'+',\x20mapMax,\x20'+'sigDistShd'+'w\x20+\x20outlin'+'e_thicknes'+'s);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20cente'+'r\x20=\x200.5;\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20smoo'+'thing\x20and\x20'+'use\x20to\x20gen'+'erate\x20opac'+'ity\x0a\x20\x20\x20\x20fl'+'oat\x20inside'+'\x20=\x20smooths'+'tep(center'+'-smoothing'+',\x20center+s'+'moothing,\x20'+'sigDistInn'+'er);\x0a\x20\x20\x20\x20f'+'loat\x20outli'+'ne\x20=\x20smoot'+'hstep(cent'+'er-smoothi'+'ng,\x20center'+'+smoothing'+',\x20sigDistO'+'utline);\x0a\x20'+'\x20\x20\x20float\x20s'+'hadow\x20=\x20sm'+'oothstep(c'+'enter-smoo'+'thing,\x20cen'+'ter+smooth'+'ing,\x20sigDi'+'stShdw);\x0a\x0a'+'\x20\x20\x20\x20vec4\x20t'+'color\x20=\x20(o'+'utline\x20>\x20i'+'nside)\x20?\x20o'+'utline\x20*\x20v'+'ec4(outlin'+'e_color.a\x20'+'*\x20outline_'+'color.rgb,'+'\x20outline_c'+'olor.a)\x20:\x20'+'vec4(0.0);'+'\x0a\x20\x20\x20\x20tcolo'+'r\x20=\x20mix(tc'+'olor,\x20colo'+'r,\x20inside)'+';\x0a\x0a\x20\x20\x20\x20vec'+'4\x20scolor\x20='+'\x20(shadow\x20>'+'\x20outline)\x20'+'?\x20shadow\x20*'+'\x20vec4(shad'+'ow_color.a'+'\x20*\x20shadow_'+'color.rgb,'+'\x20shadow_co'+'lor.a)\x20:\x20t'+'color;\x0a\x20\x20\x20'+'\x20tcolor\x20=\x20'+'mix(scolor'+',\x20tcolor,\x20'+'outline);\x0a'+'\x0a\x20\x20\x20\x20//\x20Co'+'nvert\x20back'+'\x20to\x20gamma\x20'+'space\x20befo'+'re\x20returni'+'ng\x0a\x20\x20\x20\x20tco'+'lor.rgb\x20=\x20'+'gammaCorre'+'ctOutput(t'+'color.rgb)'+';\x0a\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20return\x20tc'+'olor;\x0a}\x0a'),kP='\x0a\x0avec3\x20get'+'SpecularMo'+'dulate(in\x20'+'vec3\x20specu'+'larity,\x20in'+'\x20vec3\x20albe'+'do,\x20in\x20flo'+'at\x20metalne'+'ss,\x20in\x20flo'+'at\x20f0)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20di'+'electricF0'+'\x20=\x20f0\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(diel'+'ectricF0,\x20'+'albedo,\x20me'+'talness);\x0a'+'}\x0a\x0avec3\x20ge'+'tAlbedoMod'+'ulate(in\x20v'+'ec3\x20albedo'+',\x20in\x20float'+'\x20metalness'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20albed'+'o\x20*\x20(1.0\x20-'+'\x20metalness'+');\x0a}\x0a',UP='\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20vec2\x20u'+'v0;\x0a\x0a\x20\x20\x20\x20u'+'niform\x20sam'+'pler2DArra'+'y\x20morphTex'+'ture;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20float\x20'+'morphFacto'+'r[{MORPH_T'+'EXTURE_MAX'+'_COUNT}];\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20ui'+'nt\x20morphIn'+'dex[{MORPH'+'_TEXTURE_M'+'AX_COUNT}]'+';\x0a\x20\x20\x20\x20unif'+'orm\x20int\x20co'+'unt;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PH_INT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20aa'+'bbSize;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20highp\x20vec'+'3\x20color\x20=\x20'+'vec3(0,\x200,'+'\x200);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'pixelCoord'+'s\x20=\x20ivec2('+'uv0\x20*\x20vec2'+'(textureSi'+'ze(morphTe'+'xture,\x200).'+'xy));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20count;\x20'+'i++)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'int\x20textur'+'eIndex\x20=\x20m'+'orphIndex['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20delta\x20=\x20t'+'exelFetch('+'morphTextu'+'re,\x20ivec3('+'pixelCoord'+'s,\x20int(tex'+'tureIndex)'+'),\x200).xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20color\x20+'+'=\x20morphFac'+'tor[i]\x20*\x20d'+'elta;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20MORPH_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20color\x20'+'=\x20(color\x20-'+'\x20aabbMin)\x20'+'/\x20aabbSize'+'\x20*\x2065535.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20u'+'vec4(color'+',\x201u);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20ve'+'c4(color,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20}\x0a',BP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20}\x0a',zP='\x0aattribute'+'\x20vec3\x20vert'+'ex_outline'+'Parameters'+';\x0aattribut'+'e\x20vec3\x20ver'+'tex_shadow'+'Parameters'+';\x0a\x0avarying'+'\x20vec4\x20outl'+'ine_color;'+'\x0avarying\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0avaryin'+'g\x20vec4\x20sha'+'dow_color;'+'\x0avarying\x20v'+'ec2\x20shadow'+'_offset;\x0a\x0a'+'void\x20unpac'+'kMsdfParam'+'s()\x20{\x0a\x20\x20\x20\x20'+'vec3\x20littl'+'e\x20=\x20mod(ve'+'rtex_outli'+'neParamete'+'rs,\x20256.);'+'\x0a\x20\x20\x20\x20vec3\x20'+'big\x20=\x20(ver'+'tex_outlin'+'eParameter'+'s\x20-\x20little'+')\x20/\x20256.;\x0a'+'\x0a\x20\x20\x20\x20outli'+'ne_color.r'+'b\x20=\x20little'+'.xy\x20/\x20255.'+';\x0a\x20\x20\x20\x20outl'+'ine_color.'+'ga\x20=\x20big.x'+'y\x20/\x20255.;\x0a'+'\x0a\x20\x20\x20\x20//\x20_o'+'utlineThic'+'knessScale'+'\x20===\x200.2\x0a\x20'+'\x20\x20\x20outline'+'_thickness'+'\x20=\x20little.'+'z\x20/\x20255.\x20*'+'\x200.2;\x0a\x0a\x20\x20\x20'+'\x20little\x20=\x20'+'mod(vertex'+'_shadowPar'+'ameters,\x202'+'56.);\x0a\x20\x20\x20\x20'+'big\x20=\x20(ver'+'tex_shadow'+'Parameters'+'\x20-\x20little)'+'\x20/\x20256.;\x0a\x0a'+'\x20\x20\x20\x20shadow'+'_color.rb\x20'+'=\x20little.x'+'y\x20/\x20255.;\x0a'+'\x20\x20\x20\x20shadow'+'_color.ga\x20'+'=\x20big.xy\x20/'+'\x20255.;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+'ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20shado'+'w_offset\x20='+'\x20(vec2(lit'+'tle.z,\x20big'+'.z)\x20/\x20127.'+'\x20-\x201.)\x20*\x200'+'.005;\x0a}\x0a',VP='\x0amat3\x20dNor'+'malMatrix;'+'\x0a\x0avec3\x20get'+'Normal()\x20{'+'\x0a\x20\x20\x20\x20dNorm'+'alMatrix\x20='+'\x20getNormal'+'Matrix(dMo'+'delMatrix)'+';\x0a\x20\x20\x20\x20vec3'+'\x20localNorm'+'al\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}\x0a',GP='\x0a\x0aattribut'+'e\x20vec3\x20ver'+'tex_normal'+';\x0a\x0auniform'+'\x20mat3\x20matr'+'ix_normal;'+'\x0a\x0a#ifdef\x20M'+'ORPHING_NO'+'RMAL\x0a\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20morphNor'+'malTex;\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'morphNorma'+'lTex;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0avec3\x20'+'getLocalNo'+'rmal(vec3\x20'+'vertexNorm'+'al)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20loca'+'lNormal\x20=\x20'+'vertex_nor'+'mal;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_NORM'+'AL\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ivec2\x20mo'+'rphUV\x20=\x20ge'+'tTextureMo'+'rphCoords('+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'orphNormal'+'\x20=\x20vec3(te'+'xelFetch(m'+'orphNormal'+'Tex,\x20ivec2'+'(morphUV),'+'\x200).xyz)\x20/'+'\x2065535.0\x20*'+'\x202.0\x20-\x201.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20morphNo'+'rmal\x20=\x20tex'+'elFetch(mo'+'rphNormalT'+'ex,\x20ivec2('+'morphUV),\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20localNor'+'mal\x20+=\x20mor'+'phNormal;\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20localN'+'ormal;\x0a}\x0a\x0a'+'#if\x20define'+'d(SKIN)\x20||'+'\x20defined(B'+'ATCH)\x0a\x20\x20\x20\x20'+'mat3\x20getNo'+'rmalMatrix'+'(mat4\x20mode'+'lMatrix)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mat3'+'(modelMatr'+'ix[0].xyz,'+'\x20modelMatr'+'ix[1].xyz,'+'\x20modelMatr'+'ix[2].xyz)'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20define'+'d(INSTANCI'+'NG)\x0a\x20\x20\x20\x20ma'+'t3\x20getNorm'+'alMatrix(m'+'at4\x20modelM'+'atrix)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20mat3(m'+'odelMatrix'+'[0].xyz,\x20m'+('odelMatrix'+'[1].xyz,\x20m'+'odelMatrix'+'[2].xyz);\x0a'+'\x20\x20\x20\x20}\x0a#els'+'e\x0a\x20\x20\x20\x20mat3'+'\x20getNormal'+'Matrix(mat'+'4\x20modelMat'+'rix)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_n'+'ormal;\x0a\x20\x20\x20'+'\x20}\x0a#endif\x0a'),HP='\x0a#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mater'+'ial_bumpin'+'ess;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'STD_NORMAL'+'DETAIL_TEX'+'TURE\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20materia'+'l_normalDe'+'tailMapBum'+'piness;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20bl'+'endNormals'+'(vec3\x20n1,\x20'+'vec3\x20n2)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20https://'+'blog.selfs'+'hadow.com/'+'publicatio'+'ns/blendin'+'g-in-detai'+'l/#detail-'+'oriented\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20n1\x20'+'+=\x20vec3(0,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20n2\x20*'+'=\x20vec3(-1,'+'\x20-1,\x201);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20n1\x20*\x20d'+'ot(n1,\x20n2)'+'\x20/\x20n1.z\x20-\x20'+'n2;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0avo'+'id\x20getNorm'+'al()\x20{\x0a#if'+'def\x20STD_NO'+'RMAL_TEXTU'+'RE\x0a\x20\x20\x20\x20vec'+'3\x20normalMa'+'p\x20=\x20{STD_N'+'ORMAL_TEXT'+'URE_DECODE'+'}(texture2'+'DBias({STD'+'_NORMAL_TE'+'XTURE_NAME'+'},\x20{STD_NO'+'RMAL_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+');\x0a\x20\x20\x20\x20nor'+'malMap\x20=\x20m'+'ix(vec3(0.'+'0,\x200.0,\x201.'+'0),\x20normal'+'Map,\x20mater'+'ial_bumpin'+'ess);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_NORMALDE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20norm'+'alDetailMa'+'p\x20=\x20{STD_N'+'ORMALDETAI'+'L_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_NOR'+'MALDETAIL_'+'TEXTURE_NA'+'ME},\x20{STD_'+'NORMALDETA'+'IL_TEXTURE'+'_UV},\x20text'+'ureBias));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20n'+'ormalDetai'+'lMap\x20=\x20mix'+'(vec3(0.0,'+'\x200.0,\x201.0)'+',\x20normalDe'+'tailMap,\x20m'+'aterial_no'+'rmalDetail'+'MapBumpine'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20normalM'+'ap\x20=\x20blend'+'Normals(no'+'rmalMap,\x20n'+('ormalDetai'+'lMap);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20normal'+'ize(dTBN\x20*'+'\x20normalMap'+');\x0a#else\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20dVerte'+'xNormalW;\x0a'+'#endif\x0a}\x0a'),WP='\x0auniform\x20f'+'loat\x20mater'+'ial_opacit'+'y;\x0a\x0avoid\x20g'+'etOpacity('+')\x20{\x0a\x20\x20\x20\x20dA'+'lpha\x20=\x20mat'+'erial_opac'+'ity;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_OPACITY_T'+'EXTURE\x0a\x20\x20\x20'+'\x20dAlpha\x20*='+'\x20texture2D'+'Bias({STD_'+'OPACITY_TE'+'XTURE_NAME'+'},\x20{STD_OP'+'ACITY_TEXT'+'URE_UV},\x20t'+'extureBias'+').{STD_OPA'+'CITY_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'OPACITY_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Alpha\x20*=\x20c'+'lamp(vVert'+'exColor.{S'+'TD_OPACITY'+'_VERTEX_CH'+'ANNEL},\x200.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a',$P='\x0a\x0a#if\x20STD_'+'OPACITY_DI'+'THER\x20==\x20BA'+'YER8\x0a\x20\x20\x20\x20#'+'include\x20\x22b'+'ayerPS\x22\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20vec4\x20b'+'lueNoiseJi'+'tter;\x0a\x0a#if'+'\x20STD_OPACI'+'TY_DITHER\x20'+'==\x20BLUENOI'+'SE\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blueN'+'oiseTex32;'+'\x0a#endif\x0a\x0av'+'oid\x20opacit'+'yDither(fl'+'oat\x20alpha,'+'\x20float\x20id)'+'\x20{\x0a\x20\x20\x20\x20#if'+'\x20STD_OPACI'+'TY_DITHER\x20'+'==\x20BAYER8\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20noise'+'\x20=\x20bayer8('+'floor(mod('+'gl_FragCoo'+'rd.xy\x20+\x20bl'+'ueNoiseJit'+'ter.xy\x20+\x20i'+'d,\x208.0)))\x20'+'/\x2064.0;\x0a\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20STD_OPAC'+'ITY_DITHER'+'\x20==\x20BLUENO'+'ISE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20frac'+'t(gl_FragC'+'oord.xy\x20/\x20'+'32.0\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20noise\x20=\x20t'+'exture2DLo'+'d(blueNois'+'eTex32,\x20uv'+',\x200.0).y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20ST'+'D_OPACITY_'+'DITHER\x20==\x20'+'IGNNOISE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20based\x20'+'on\x20https:/'+'/www.iryok'+'u.com/next'+'-generatio'+'n-post-pro'+'cessing-in'+'-call-of-d'+'uty-advanc'+'ed-warfare'+'/\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'agic\x20=\x20vec'+'3(0.067110'+'56,\x200.0058'+'3715,\x2052.9'+'829189);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20noi'+'se\x20=\x20fract'+'(magic.z\x20*'+'\x20fract(dot'+'(gl_FragCo'+'ord.xy\x20+\x20b'+'lueNoiseJi'+'tter.xy\x20+\x20'+'id,\x20magic.'+'xy)));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20convert\x20'+'the\x20noise\x20'+'to\x20linear\x20'+'space,\x20as\x20'+'that\x20is\x20sp'+'ecified\x20in'+('\x20sRGB\x20spac'+'e\x20(stores\x20'+'perceptual'+'\x20values)\x0a\x20'+'\x20\x20\x20noise\x20='+'\x20pow(noise'+',\x202.2);\x0a\x0a\x20'+'\x20\x20\x20if\x20(alp'+'ha\x20<\x20noise'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a}'+'\x0a'),XP='\x0a',qP='\x0a\x0a#if\x20LIT_'+'BLEND_TYPE'+'\x20==\x20NORMAL'+'\x20||\x20LIT_BL'+'END_TYPE\x20='+'=\x20ADDITIVE'+'ALPHA\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x0a'+'\x0a\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20litArgs_'+'opacity;\x0a\x0a'+'#elif\x20LIT_'+'BLEND_TYPE'+'\x20==\x20PREMUL'+'TIPLIED\x0a\x0a\x20'+'\x20\x20\x20gl_Frag'+'Color.rgb\x20'+'*=\x20litArgs'+'_opacity;\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.a\x20='+'\x20litArgs_o'+'pacity;\x0a\x0a#'+'else\x0a\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.a\x20=\x201.0'+';\x0a\x0a#endif\x0a',jP='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',YP='\x0a\x0auniform\x20'+'vec3\x20mater'+'ial_sheen;'+'\x0a\x0avoid\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'heenColor\x20'+'=\x20material'+'_sheen;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEEN_'+'TEXTURE\x0a\x20\x20'+'\x20\x20sheenCol'+'or\x20*=\x20{STD'+'_SHEEN_TEX'+'TURE_DECOD'+'E}(texture'+'2DBias({ST'+'D_SHEEN_TE'+'XTURE_NAME'+'},\x20{STD_SH'+'EEN_TEXTUR'+'E_UV},\x20tex'+'tureBias))'+'.{STD_SHEE'+'N_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_SHE'+'EN_VERTEX\x0a'+'\x20\x20\x20\x20sheenC'+'olor\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SHEEN'+'_VERTEX_CH'+'ANNEL});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20sSpec'+'ularity\x20=\x20'+'sheenColor'+';\x0a}\x0a',KP='\x0auniform\x20f'+'loat\x20mater'+'ial_sheenG'+'loss;\x0a\x0avoi'+'d\x20getSheen'+'Glossiness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20sheen'+'Glossiness'+'\x20=\x20materia'+'l_sheenGlo'+'ss;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20sheenGl'+'ossiness\x20*'+'=\x20texture2'+'DBias({STD'+'_SHEENGLOS'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_SHEENGLO'+'SS_TEXTURE'+'_UV},\x20text'+'ureBias).{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20sheenGlo'+'ssiness\x20*='+'\x20saturate('+'vVertexCol'+'or.{STD_SH'+'EENGLOSS_V'+'ERTEX_CHAN'+'NEL});\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEENG'+'LOSS_INVER'+'T\x0a\x20\x20\x20\x20shee'+'nGlossines'+'s\x20=\x201.0\x20-\x20'+'sheenGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20sGlossi'+'ness\x20=\x20she'+'enGlossine'+'ss\x20+\x200.000'+'0001;\x0a}\x0a',ZP='\x0auniform\x20f'+'loat\x20mater'+'ial_height'+'MapFactor;'+'\x0a\x0avoid\x20get'+'Parallax()'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20paralla'+'xScale\x20=\x20m'+'aterial_he'+'ightMapFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'float\x20heig'+'ht\x20=\x20textu'+'re2DBias({'+'STD_HEIGHT'+'_TEXTURE_N'+'AME},\x20{STD'+'_HEIGHT_TE'+'XTURE_UV},'+'\x20textureBi'+'as).{STD_H'+'EIGHT_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20he'+'ight\x20=\x20hei'+'ght\x20*\x20para'+'llaxScale\x20'+'-\x20parallax'+'Scale\x20*\x200.'+'5;\x0a\x20\x20\x20\x20vec'+'3\x20viewDirT'+'\x20=\x20dViewDi'+'rW\x20*\x20dTBN;'+'\x0a\x0a\x20\x20\x20\x20view'+'DirT.z\x20+=\x20'+'0.42;\x0a\x20\x20\x20\x20'+'dUvOffset\x20'+'=\x20height\x20*'+'\x20(viewDirT'+'.xy\x20/\x20view'+'DirT.z);\x0a}'+'\x0a',QP='\x0auniform\x20u'+'int\x20meshIn'+'stanceId;\x0a'+'\x0avec4\x20getP'+'ickOutput('+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20vec4\x20i'+'nv\x20=\x20vec4('+'1.0\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20co'+'nst\x20uvec4\x20'+'shifts\x20=\x20u'+'vec4(16,\x208'+',\x200,\x2024);\x0a'+'\x20\x20\x20\x20uvec4\x20'+'col\x20=\x20(uve'+'c4(meshIns'+'tanceId)\x20>'+'>\x20shifts)\x20'+'&\x20uvec4(0x'+'ff);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'(col)\x20*\x20in'+'v;\x0a}\x0a',JP='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20dR'+'eflDirW\x20=\x20'+'normalize('+'-reflect(v'+'iewDir,\x20wo'+'rldNormal)'+');\x0a}\x0a',e2='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20sqrt'+'(1.0\x20-\x20min'+'(gloss,\x201.'+'0));\x0a\x0a\x20\x20\x20\x20'+'vec2\x20direc'+'tion\x20=\x20dAn'+'isotropyRo'+'tation;\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicT\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3(directi'+'on,\x200.0));'+'\x0a\x20\x20\x20\x20vec3\x20'+'anisotropi'+'cB\x20=\x20norma'+'lize(cross'+'(tbn[2],\x20a'+'nisotropic'+'T));\x0a\x0a\x20\x20\x20\x20'+'float\x20anis'+'otropy\x20=\x20d'+'Anisotropy'+';\x0a\x20\x20\x20\x20vec3'+'\x20anisotrop'+'icDirectio'+'n\x20=\x20anisot'+'ropicB;\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicTa'+'ngent\x20=\x20cr'+'oss(anisot'+'ropicDirec'+'tion,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropicNorm'+'al\x20=\x20cross'+'(anisotrop'+'icTangent,'+'\x20anisotrop'+'icDirectio'+'n);\x0a\x20\x20\x20\x20fl'+'oat\x20bendFa'+'ctor\x20=\x201.0'+'\x20-\x20anisotr'+'opy\x20*\x20(1.0'+'\x20-\x20roughne'+'ss);\x0a\x20\x20\x20\x20f'+'loat\x20bendF'+'actor4\x20=\x20b'+'endFactor\x20'+'*\x20bendFact'+'or\x20*\x20bendF'+'actor\x20*\x20be'+'ndFactor;\x0a'+'\x20\x20\x20\x20vec3\x20b'+'entNormal\x20'+'=\x20normaliz'+'e(mix(norm'+'alize(anis'+'otropicNor'+'mal),\x20norm'+'alize(worl'+'dNormal),\x20'+'bendFactor'+'4));\x0a\x20\x20\x20\x20d'+'ReflDirW\x20='+'\x20reflect(-'+'viewDir,\x20b'+'entNormal)'+';\x0a}\x0a',t2='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avoid\x20add'+'Reflection'+'CC(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20ccRe'+'flection\x20+'+'=\x20calcRefl'+'ection(ref'+'lDir,\x20glos'+'s);\x0a}\x0a#end'+'if\x0a',s2='\x0auniform\x20s'+'amplerCube'+'\x20texture_c'+'ubeMap;\x0aun'+'iform\x20floa'+'t\x20material'+'_reflectiv'+'ity;\x0a\x0avec3'+'\x20calcRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20lookup'+'Vec\x20=\x20cube'+'MapProject'+'(reflDir);'+'\x0a\x20\x20\x20\x20looku'+'pVec.x\x20*=\x20'+'-1.0;\x0a\x20\x20\x20\x20'+'return\x20{re'+'flectionDe'+'code}(text'+'ureCube(te'+'xture_cube'+'Map,\x20looku'+'pVec));\x0a}\x0a'+'\x0avoid\x20addR'+'eflection('+'vec3\x20reflD'+'ir,\x20float\x20'+'gloss)\x20{\x20\x20'+'\x20\x0a\x20\x20\x20\x20dRef'+'lection\x20+='+'\x20vec4(calc'+'Reflection'+'(reflDir,\x20'+'gloss),\x20ma'+'terial_ref'+'lectivity)'+';\x0a}\x0a',i2='\x0a#ifndef\x20E'+'NV_ATLAS\x0a\x20'+'\x20\x20\x20#define'+'\x20ENV_ATLAS'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_envAtlas;'+'\x0a#endif\x0aun'+'iform\x20samp'+'lerCube\x20te'+'xture_cube'+'Map;\x0aunifo'+'rm\x20float\x20m'+'aterial_re'+'flectivity'+';\x0a\x0avec3\x20ca'+'lcReflecti'+'on(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20cub'+'eMapProjec'+'t(reflDir)'+'\x20*\x20vec3(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20t'+'oSpherical'+'Uv(dir);\x0a\x0a'+'\x20\x20\x20\x20//\x20cal'+'culate\x20rou'+'ghness\x20lev'+'el\x0a\x20\x20\x20\x20flo'+'at\x20level\x20='+'\x20saturate('+'1.0\x20-\x20glos'+'s)\x20*\x205.0;\x0a'+'\x20\x20\x20\x20float\x20'+'ilevel\x20=\x20f'+'loor(level'+');\x0a\x20\x20\x20\x20flo'+'at\x20flevel\x20'+'=\x20level\x20-\x20'+'ilevel;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20sh'+'arp\x20=\x20{ref'+'lectionCub'+'emapDecode'+'}(textureC'+'ube(textur'+'e_cubeMap,'+'\x20dir));\x0a\x20\x20'+'\x20\x20vec3\x20rou'+'ghA\x20=\x20{ref'+'lectionDec'+'ode}(textu'+'re2D(textu'+'re_envAtla'+'s,\x20mapRoug'+'hnessUv(uv'+',\x20ilevel))'+');\x0a\x20\x20\x20\x20vec'+'3\x20roughB\x20='+'\x20{reflecti'+'onDecode}('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(s'+'harp,\x20mix('+'roughA,\x20ro'+'ughB,\x20flev'+'el),\x20min(l'+'evel,\x201.0)'+'));\x0a}\x0a\x0avoi'+'d\x20addRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x20\x20\x20\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20+=\x20vec'+'4(calcRefl'+'ection(ref'+'lDir,\x20glos'+'s),\x20materi'+'al_reflect'+'ivity);\x0a}\x0a',r2='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_env'+'Atlas;\x0a#en'+'dif\x0aunifor'+'m\x20float\x20ma'+'terial_ref'+'lectivity;'+'\x0a\x0a//\x20calcu'+'late\x20mip\x20l'+'evel\x20for\x20s'+'hiny\x20refle'+'ction\x20give'+'n\x20equirect'+'\x20coords\x20uv'+'.\x0afloat\x20sh'+'inyMipLeve'+'l(vec2\x20uv)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20dx\x20=\x20dFd'+'x(uv);\x0a\x20\x20\x20'+'\x20vec2\x20dy\x20='+'\x20dFdy(uv);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20s'+'econd\x20dF\x20a'+'t\x20180\x20degr'+'ees\x0a\x20\x20\x20\x20ve'+'c2\x20uv2\x20=\x20v'+'ec2(fract('+'uv.x\x20+\x200.5'+'),\x20uv.y);\x0a'+'\x20\x20\x20\x20vec2\x20d'+'x2\x20=\x20dFdx('+'uv2);\x0a\x20\x20\x20\x20'+'vec2\x20dy2\x20='+'\x20dFdy(uv2)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'min\x20of\x20bot'+'h\x20sets\x20of\x20'+'dF\x20to\x20hand'+'le\x20discont'+'inuity\x20at\x20'+'the\x20azim\x20e'+'dge\x0a\x20\x20\x20\x20fl'+'oat\x20maxd\x20='+'\x20min(max(d'+'ot(dx,\x20dx)'+',\x20dot(dy,\x20'+'dy)),\x20max('+'dot(dx2,\x20d'+'x2),\x20dot(d'+'y2,\x20dy2)))'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'0.5\x20*\x20log2'+'(maxd)\x20-\x201'+'.0\x20+\x20textu'+'reBias,\x200.'+'0,\x205.0);\x0a}'+'\x0a\x0avec3\x20cal'+'cReflectio'+'n(vec3\x20ref'+'lDir,\x20floa'+'t\x20gloss)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20cube'+'MapProject'+'(reflDir)\x20'+'*\x20vec3(-1.'+'0,\x201.0,\x201.'+'0);\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20to'+'SphericalU'+'v(dir);\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20roug'+'hness\x20leve'+'l\x0a\x20\x20\x20\x20floa'+'t\x20level\x20=\x20'+'saturate(1'+'.0\x20-\x20gloss'+')\x20*\x205.0;\x0a\x20'+'\x20\x20\x20float\x20i'+'level\x20=\x20fl'+'oor(level)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'accessing\x20'+'the\x20shiny\x20'+'(top\x20level'+')\x20reflecti'+'on\x20-\x20perfo'+'rm\x20manual\x20'+'mipmap\x20loo'+'kup\x0a\x20\x20\x20\x20fl'+('oat\x20level2'+'\x20=\x20shinyMi'+'pLevel(uv\x20'+'*\x20atlasSiz'+'e);\x0a\x20\x20\x20\x20fl'+'oat\x20ilevel'+'2\x20=\x20floor('+'level2);\x0a\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v0,\x20uv1;\x0a\x20'+'\x20\x20\x20float\x20w'+'eight;\x0a\x20\x20\x20'+'\x20if\x20(ileve'+'l\x20==\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uv0\x20=\x20mapS'+'hinyUv(uv,'+'\x20ilevel2);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v1\x20=\x20mapSh'+'inyUv(uv,\x20'+'ilevel2\x20+\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20weight'+'\x20=\x20level2\x20'+'-\x20ilevel2;'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20acces'+'sing\x20rough'+'\x20reflectio'+'n\x20-\x20just\x20s'+'ample\x20the\x20'+'same\x20part\x20'+'twice\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'uv1\x20=\x20mapR'+'oughnessUv'+'(uv,\x20ileve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20weight\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'3\x20linearA\x20'+'=\x20{reflect'+'ionDecode}'+'(texture2D'+'(texture_e'+'nvAtlas,\x20u'+'v0));\x0a\x20\x20\x20\x20'+'vec3\x20linea'+'rB\x20=\x20{refl'+'ectionDeco'+'de}(textur'+'e2D(textur'+'e_envAtlas'+',\x20uv1));\x0a\x20'+'\x20\x20\x20vec3\x20li'+'near0\x20=\x20mi'+'x(linearA,'+'\x20linearB,\x20'+'weight);\x0a\x20'+'\x20\x20\x20vec3\x20li'+'near1\x20=\x20{r'+'eflectionD'+'ecode}(tex'+'ture2D(tex'+'ture_envAt'+'las,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+'\x20+\x201.0)));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20process'+'Environmen'+'t(mix(line'+'ar0,\x20linea'+'r1,\x20level\x20'+'-\x20ilevel))'+';\x0a}\x0a\x0avoid\x20'+'addReflect'+'ion(vec3\x20r'+'eflDir,\x20fl'+'oat\x20gloss)'+'\x20{\x20\x20\x20\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20+=\x20vec4('+'calcReflec'+'tion(reflD'+'ir,\x20gloss)'+',\x20material'+'_reflectiv'+'ity);\x0a}\x0a'),a2='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_vie'+'w;\x0a#endif\x0a'+'uniform\x20sa'+'mpler2D\x20te'+'xture_sphe'+'reMap;\x0auni'+'form\x20float'+'\x20material_'+'reflectivi'+'ty;\x0a\x0avec3\x20'+'calcReflec'+'tion(vec3\x20'+'reflDir,\x20f'+'loat\x20gloss'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20reflDir'+'V\x20=\x20(mat3('+'matrix_vie'+'w)\x20*\x20reflD'+'ir);\x0a\x0a\x20\x20\x20\x20'+'float\x20m\x20=\x20'+'2.0\x20*\x20sqrt'+'(dot(reflD'+'irV.xy,\x20re'+'flDirV.xy)'+'\x20+\x20(reflDi'+'rV.z\x20+\x201.0'+')\x20*\x20(reflD'+'irV.z\x20+\x201.'+'0));\x0a\x20\x20\x20\x20v'+'ec2\x20sphere'+'MapUv\x20=\x20re'+'flDirV.xy\x20'+'/\x20m\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(texture2'+'D(texture_'+'sphereMap,'+'\x20sphereMap'+'Uv));\x0a}\x0a\x0av'+'oid\x20addRef'+'lection(ve'+'c3\x20reflDir'+',\x20float\x20gl'+'oss)\x20{\x20\x20\x20\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20+=\x20v'+'ec4(calcRe'+'flection(r'+'eflDir,\x20gl'+'oss),\x20mate'+'rial_refle'+'ctivity);\x0a'+'}\x0a',n2='\x0a\x0avoid\x20add'+'Reflection'+'Sheen(vec3'+'\x20worldNorm'+'al,\x20vec3\x20v'+'iewDir,\x20fl'+'oat\x20gloss)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20alph'+'aG\x20=\x20gloss'+'\x20*\x20gloss;\x0a'+'\x0a\x20\x20\x20\x20//\x20Av'+'oid\x20using\x20'+'a\x20LUT\x20and\x20'+'approximat'+'e\x20the\x20valu'+'es\x20analyti'+'cally\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'gloss\x20<\x200.'+'25\x20?\x20-339.'+'2\x20*\x20alphaG'+'\x20+\x20161.4\x20*'+'\x20gloss\x20-\x202'+'5.9\x20:\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95;\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20gl'+'oss\x20<\x200.25'+'\x20?\x2044.0\x20*\x20'+'alphaG\x20-\x202'+'3.7\x20*\x20glos'+'s\x20+\x203.26\x20:'+'\x201.97\x20*\x20al'+'phaG\x20-\x203.2'+'7\x20*\x20gloss\x20'+'+\x200.72;\x0a\x20\x20'+'\x20\x20float\x20DG'+'\x20=\x20exp(\x20a\x20'+'*\x20NoV\x20+\x20b\x20'+')\x20+\x20(\x20glos'+'s\x20<\x200.25\x20?'+'\x200.0\x20:\x200.1'+'\x20*\x20(\x20gloss'+'\x20-\x200.25\x20)\x20'+');\x0a\x20\x20\x20\x20sRe'+'flection\x20+'+'=\x20calcRefl'+'ection(wor'+'ldNormal,\x20'+'0.0)\x20*\x20sat'+'urate(DG);'+'\x0a}\x0a',o2='\x0avec3\x20refr'+'act2(vec3\x20'+'viewVec,\x20v'+'ec3\x20normal'+',\x20float\x20IO'+'R)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20vn\x20=\x20'+'dot(viewVe'+'c,\x20normal)'+';\x0a\x20\x20\x20\x20floa'+'t\x20k\x20=\x201.0\x20'+'-\x20IOR\x20*\x20IO'+'R\x20*\x20(1.0\x20-'+'\x20vn\x20*\x20vn);'+'\x0a\x20\x20\x20\x20vec3\x20'+'refrVec\x20=\x20'+'IOR\x20*\x20view'+'Vec\x20-\x20(IOR'+'\x20*\x20vn\x20+\x20sq'+'rt(k))\x20*\x20n'+'ormal;\x0a\x20\x20\x20'+'\x20return\x20re'+'frVec;\x0a}\x0a\x0a'+'void\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20vec3\x20w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20viewDir,'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20thicknes'+'s,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20transmi'+'ssion,\x0a\x20\x20\x20'+'\x20float\x20ref'+'ractionInd'+'ex,\x0a\x20\x20\x20\x20fl'+'oat\x20disper'+'sion\x0a#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20,\x20'+'vec3\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceInte'+'nsity\x0a#end'+'if\x20\x0a)\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20s'+'ame\x20reflec'+'tion\x20code\x20'+'with\x20refra'+'ction\x20vect'+'or\x0a\x20\x20\x20\x20vec'+'4\x20tmpRefl\x20'+'=\x20dReflect'+'ion;\x0a\x20\x20\x20\x20v'+'ec3\x20reflec'+'tionDir\x20=\x20'+'refract2(-'+'viewDir,\x20w'+'orldNormal'+',\x20refracti'+'onIndex);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve'+'c4(0);\x0a\x20\x20\x20'+'\x20addReflec'+'tion(refle'+'ctionDir,\x20'+'gloss);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20dRe'+'flection.r'+'gb\x20*\x20albed'+'o,\x20transmi'+'ssion);\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20=\x20tmpR'+'efl;\x0a}\x0a',l2='\x0auniform\x20f'+'loat\x20mater'+'ial_invAtt'+'enuationDi'+'stance;\x0aun'+'iform\x20vec3'+'\x20material_'+'attenuatio'+'n;\x0a\x0avec3\x20e'+'valRefract'+'ionColor(v'+'ec3\x20refrac'+'tionVector'+',\x20float\x20gl'+'oss,\x20float'+'\x20refractio'+'nIndex)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20Th'+'e\x20refracti'+'on\x20point\x20i'+'s\x20the\x20entr'+'y\x20point\x20+\x20'+'vector\x20to\x20'+'exit\x20point'+'\x0a\x20\x20\x20\x20vec4\x20'+'pointOfRef'+'raction\x20=\x20'+'vec4(vPosi'+'tionW\x20+\x20re'+'fractionVe'+'ctor,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'Project\x20to'+'\x20texture\x20s'+'pace\x20so\x20we'+'\x20can\x20sampl'+'e\x20it\x0a\x20\x20\x20\x20v'+'ec4\x20projec'+'tionPoint\x20'+'=\x20matrix_v'+'iewProject'+'ion\x20*\x20poin'+'tOfRefract'+'ion;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20bui'+'lt-in\x20getG'+'rabScreenP'+'os\x20functio'+'n\x20to\x20conve'+'rt\x20screen\x20'+'position\x20t'+'o\x20grab\x20tex'+'ture\x20uv\x20co'+'ords\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etGrabScre'+'enPos(proj'+'ectionPoin'+'t);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Use\x20IOR\x20'+'and\x20roughn'+'ess\x20to\x20sel'+'ect\x20mip\x0a\x20\x20'+'\x20\x20float\x20io'+'rToRoughne'+'ss\x20=\x20(1.0\x20'+'-\x20gloss)\x20*'+'\x20clamp((1.'+'0\x20/\x20refrac'+'tionIndex)'+'\x20*\x202.0\x20-\x202'+'.0,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20refra'+'ctionLod\x20='+'\x20log2(uScr'+'eenSize.x)'+'\x20*\x20iorToRo'+'ughness;\x0a\x20'+'\x20\x20\x20vec3\x20re'+'fraction\x20='+'\x20texture2D'+'Lod(uScene'+'ColorMap,\x20'+'uv,\x20refrac'+'tionLod).r'+'gb;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20refr'+'action;\x0a}\x0a'+'\x0avoid\x20addR'+'efraction('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20thickne'+'ss,\x20\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+('3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20albed'+'o,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20transm'+'ission,\x0a\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dex,\x0a\x20\x20\x20\x20f'+'loat\x20dispe'+'rsion\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a)\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20Extr'+'act\x20scale\x20'+'from\x20the\x20m'+'odel\x20trans'+'form\x0a\x20\x20\x20\x20v'+'ec3\x20modelS'+'cale;\x0a\x20\x20\x20\x20'+'modelScale'+'.x\x20=\x20lengt'+'h(vec3(mat'+'rix_model['+'0].xyz));\x0a'+'\x20\x20\x20\x20modelS'+'cale.y\x20=\x20l'+'ength(vec3'+'(matrix_mo'+'del[1].xyz'+'));\x0a\x20\x20\x20\x20mo'+'delScale.z'+'\x20=\x20length('+'vec3(matri'+'x_model[2]'+'.xyz));\x0a\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20the\x20'+'refraction'+'\x20vector,\x20s'+'caled\x20by\x20t'+'he\x20thickne'+'ss\x20and\x20sca'+'le\x20of\x20the\x20'+'object\x0a\x20\x20\x20'+'\x20vec3\x20scal'+'e\x20=\x20thickn'+'ess\x20*\x20mode'+'lScale;\x0a\x20\x20'+'\x20\x20vec3\x20ref'+'ractionVec'+'tor\x20=\x20norm'+'alize(refr'+'act(-viewD'+'ir,\x20worldN'+'ormal,\x20ref'+'ractionInd'+'ex))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20ve'+'c3\x20refract'+'ion\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndex);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_DISPE'+'RSION\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20bas'+'ed\x20on\x20the\x20'+'dispersion'+'\x20material\x20'+'property,\x20'+'calculate\x20'+'modified\x20r'+'efraction\x20'+'index\x20valu'+'es\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20for\x20R\x20'+'and\x20B\x20chan'+'nels\x20and\x20e'+'valuate\x20th'+'e\x20refracti'+'on\x20color\x20f'+'or\x20them.\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20halfSpr'+'ead\x20=\x20(1.0'+'\x20/\x20refract'+'ionIndex\x20-')+('\x201.0)\x20*\x200.'+'025\x20*\x20disp'+'ersion;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20refract'+'ionIndexR\x20'+'=\x20refracti'+'onIndex\x20-\x20'+'halfSpread'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'refraction'+'Vector\x20=\x20n'+'ormalize(r'+'efract(-vi'+'ewDir,\x20wor'+'ldNormal,\x20'+'refraction'+'IndexR))\x20*'+'\x20scale;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20refr'+'action.r\x20='+'\x20evalRefra'+'ctionColor'+'(refractio'+'nVector,\x20g'+'loss,\x20refr'+'actionInde'+'xR).r;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20refracti'+'onIndexB\x20='+'\x20refractio'+'nIndex\x20+\x20h'+'alfSpread;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'efractionV'+'ector\x20=\x20no'+'rmalize(re'+'fract(-vie'+'wDir,\x20worl'+'dNormal,\x20r'+'efractionI'+'ndexB))\x20*\x20'+'scale;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20refra'+'ction.b\x20=\x20'+'evalRefrac'+'tionColor('+'refraction'+'Vector,\x20gl'+'oss,\x20refra'+'ctionIndex'+'B).b;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20Trans'+'mittance\x20i'+'s\x20our\x20fina'+'l\x20refracti'+'on\x20color\x0a\x20'+'\x20\x20\x20vec3\x20tr'+'ansmittanc'+'e;\x0a\x20\x20\x20\x20if\x20'+'(material_'+'invAttenua'+'tionDistan'+'ce\x20!=\x200.0)'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'attenuatio'+'n\x20=\x20-log(m'+'aterial_at'+'tenuation)'+'\x20*\x20materia'+'l_invAtten'+'uationDist'+'ance;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20transm'+'ittance\x20=\x20'+'exp(-atten'+'uation\x20*\x20l'+'ength(refr'+'actionVect'+'or));\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20trans'+'mittance\x20='+'\x20refractio'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20fresnel'+'\x20effect\x20on'+'\x20refractio'+'n\x0a\x20\x20\x20\x20vec3'+'\x20fresnel\x20='+'\x20vec3(1.0)'+'\x20-\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot(')+('viewDir,\x20w'+'orldNormal'+'),\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ceIntensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20ref'+'raction\x20*\x20'+'transmitta'+'nce\x20*\x20fres'+'nel,\x20trans'+'mission);\x0a'+'}\x0a'),c2='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0a//\x20sourc'+'e\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20un'+'iform\x20samp'+'lerCube\x20so'+'urceCube;\x0a'+'#else\x0a\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20so'+'urceTex;\x0a#'+'endif\x0a\x0a#if'+'def\x20USE_SA'+'MPLES_TEX\x0a'+'\x20\x20\x20\x20//\x20sam'+'ples\x0a\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20sam'+'plesTex;\x0a\x20'+'\x20\x20\x20uniform'+'\x20vec2\x20samp'+'lesTexInve'+'rseSize;\x0a#'+'endif\x0a\x0a//\x20'+'params:\x0a//'+'\x20x\x20-\x20targe'+'t\x20cubemap\x20'+'face\x200..6\x0a'+'//\x20y\x20-\x20tar'+'get\x20image\x20'+'total\x20pixe'+'ls\x0a//\x20z\x20-\x20'+'source\x20cub'+'emap\x20size\x0a'+'uniform\x20ve'+'c3\x20params;'+'\x0a\x0afloat\x20ta'+'rgetFace()'+'\x20{\x20return\x20'+'params.x;\x20'+'}\x0afloat\x20ta'+'rgetTotalP'+'ixels()\x20{\x20'+'return\x20par'+'ams.y;\x20}\x0af'+'loat\x20sourc'+'eTotalPixe'+'ls()\x20{\x20ret'+'urn\x20params'+'.z;\x20}\x0a\x0aflo'+'at\x20PI\x20=\x203.'+'1415926535'+'89793;\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0a#i'+'nclude\x20\x22de'+'codePS\x22\x0a#i'+'nclude\x20\x22en'+'codePS\x22\x0a\x0a/'+'/--\x20suppor'+'ted\x20projec'+'tions\x0a\x0avec'+'3\x20modifySe'+'ams(vec3\x20d'+'ir,\x20float\x20'+'scale)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20ad'+'ir\x20=\x20abs(d'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20M\x20=\x20m'+'ax(max(adi'+'r.x,\x20adir.'+'y),\x20adir.z'+');\x0a\x20\x20\x20\x20ret'+'urn\x20dir\x20/\x20'+'M\x20*\x20vec3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'ir.x\x20==\x20M\x20'+'?\x201.0\x20:\x20sc'+'ale,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20adir.y\x20'+'==\x20M\x20?\x201.0'+'\x20:\x20scale,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'ir.z\x20==\x20M\x20'+'?\x201.0\x20:\x20sc'+'ale\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0avec2\x20t'+'oSpherical'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(d'+'ir.xz\x20==\x20v'+'ec2(0.0)\x20?'+('\x200.0\x20:\x20ata'+'n(dir.x,\x20d'+'ir.z),\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0avec3\x20f'+'romSpheric'+'al(vec2\x20uv'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec3('+'cos(uv.y)\x20'+'*\x20sin(uv.x'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'in(uv.y),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20cos('+'uv.y)\x20*\x20co'+'s(uv.x));\x0a'+'}\x0a\x0avec3\x20ge'+'tDirection'+'Equirect()'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20fromSp'+'herical((v'+'ec2(vUv0.x'+',\x201.0\x20-\x20vU'+'v0.y)\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20vec2(PI,\x20'+'PI\x20*\x200.5))'+';\x0a}\x0a\x0a//\x20oc'+'tahedral\x20c'+'ode,\x20based'+'\x20on\x20https:'+'//jcgt.org'+'/published'+'/0003/02/0'+'1/\x0a//\x20\x22Sur'+'vey\x20of\x20Eff'+'icient\x20Rep'+'resentatio'+'ns\x20for\x20Ind'+'ependent\x20U'+'nit\x20Vector'+'s\x22\x20by\x20Cigo'+'lle,\x20Donow'+',\x20Evangela'+'kos,\x20Mara,'+'\x20McGuire,\x20'+'Meyer\x0a\x0aflo'+'at\x20signNot'+'Zero(float'+'\x20k){\x0a\x20\x20\x20\x20r'+'eturn(k\x20>='+'\x200.0)\x20?\x201.'+'0\x20:\x20-1.0;\x0a'+'}\x0a\x0avec2\x20si'+'gnNotZero('+'vec2\x20v)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vec2(sign'+'NotZero(v.'+'x),\x20signNo'+'tZero(v.y)'+');\x0a}\x0a\x0a//\x20R'+'eturns\x20a\x20u'+'nit\x20vector'+'.\x20Argument'+'\x20o\x20is\x20an\x20o'+'ctahedral\x20'+'vector\x20pac'+'ked\x20via\x20oc'+'tEncode,\x20o'+'n\x20the\x20[-1,'+'\x20+1]\x20squar'+'e\x0avec3\x20oct'+'Decode(vec'+'2\x20o)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20v\x20=\x20'+'vec3(o.x,\x20'+'1.0\x20-\x20abs('+'o.x)\x20-\x20abs'+'(o.y),\x20o.y'+');\x0a\x20\x20\x20\x20if\x20'+'(v.y\x20<\x200.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20v.xz\x20=\x20('+'1.0\x20-\x20abs('+'v.zx))\x20*\x20s'+'ignNotZero'+'(v.xz);\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20norma'+'lize(v);\x0a}'+'\x0a\x0avec3\x20get'+'DirectionO'+'ctahedral('+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20octDe'+'code(vec2(')+('vUv0.x,\x201.'+'0\x20-\x20vUv0.y'+')\x20*\x202.0\x20-\x20'+'1.0);\x0a}\x0a\x0a/'+'/\x20Assumes\x20'+'that\x20v\x20is\x20'+'a\x20unit\x20vec'+'tor.\x20The\x20r'+'esult\x20is\x20a'+'n\x20octahedr'+'al\x20vector\x20'+'on\x20the\x20[-1'+',\x20+1]\x20squa'+'re\x0avec2\x20oc'+'tEncode(in'+'\x20vec3\x20v)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20l1norm\x20=\x20'+'abs(v.x)\x20+'+'\x20abs(v.y)\x20'+'+\x20abs(v.z)'+';\x0a\x20\x20\x20\x20vec2'+'\x20result\x20=\x20'+'v.xz\x20*\x20(1.'+'0\x20/\x20l1norm'+');\x0a\x20\x20\x20\x20if\x20'+'(v.y\x20<\x200.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20result\x20='+'\x20(1.0\x20-\x20ab'+'s(result.y'+'x))\x20*\x20sign'+'NotZero(re'+'sult.xy);\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'return\x20res'+'ult;\x0a}\x0a\x0a//'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'///////\x0a\x0a#'+'ifdef\x20CUBE'+'MAP_SOURCE'+'\x0a\x20\x20\x20\x20vec4\x20'+'sampleCube'+'map(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20textureCu'+'be(sourceC'+'ube,\x20modif'+'ySeams(dir'+',\x201.0));\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20sampl'+'eCubemap(v'+'ec2\x20sph)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leCubemap('+'fromSpheri'+'cal(sph));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleCubemap'+'(vec3\x20dir,'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'eCubeLod(s'+'ourceCube,'+'\x20modifySea'+'ms(dir,\x201.'+'0),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20sampleCub'+'emap(vec2\x20'+'sph,\x20float'+'\x20mipLevel)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleCubema'+'p(fromSphe'+'rical(sph)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a#'+'else\x0a\x0a\x20\x20\x20\x20'+'vec4\x20sampl'+'eEquirect('+'vec2\x20sph)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'sph\x20/\x20vec2'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x200.5')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'ture2D(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleEquir'+'ect(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleEqu'+'irect(toSp'+'herical(di'+'r));\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20sampleEqu'+'irect(vec2'+'\x20sph,\x20floa'+'t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20sph\x20/\x20ve'+'c2(PI\x20*\x202.'+'0,\x20PI)\x20+\x200'+'.5;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'exture2DLo'+'d(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y),\x20mip'+'Level);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Equirect(v'+'ec3\x20dir,\x20f'+'loat\x20mipLe'+'vel)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20sampleEq'+'uirect(toS'+'pherical(d'+'ir),\x20mipLe'+'vel);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleOc'+'tahedral(v'+'ec3\x20dir)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20o'+'ctEncode(d'+'ir)\x20*\x200.5\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20texture2'+'D(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Octahedral'+'(vec2\x20sph)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleOctahe'+'dral(fromS'+'pherical(s'+'ph));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleOc'+'tahedral(v'+'ec3\x20dir,\x20f'+'loat\x20mipLe'+'vel)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20octEn'+'code(dir)\x20'+'*\x200.5\x20+\x200.'+'5;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20te'+'xture2DLod'+'(sourceTex'+',\x20vec2(uv.'+'x,\x201.0\x20-\x20u'+'v.y),\x20mipL'+'evel);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20sampleO'+'ctahedral('+'vec2\x20sph,\x20'+'float\x20mipL'+'evel)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleO'+'ctahedral('+'fromSpheri'+'cal(sph),\x20')+('mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0avec3'+'\x20getDirect'+'ionCubemap'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20st\x20=\x20v'+'Uv0\x20*\x202.0\x20'+'-\x201.0;\x0a\x20\x20\x20'+'\x20float\x20fac'+'e\x20=\x20target'+'Face();\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ve'+'c;\x0a\x20\x20\x20\x20if\x20'+'(face\x20==\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec\x20=\x20'+'vec3(1,\x20-s'+'t.y,\x20-st.x'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(fa'+'ce\x20==\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec\x20=\x20vec'+'3(-1,\x20-st.'+'y,\x20st.x);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(face\x20'+'==\x202.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c\x20=\x20vec3(s'+'t.x,\x201,\x20st'+'.y);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x203.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3(st.x,\x20'+'-1,\x20-st.y)'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(fac'+'e\x20==\x204.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec\x20=\x20vec3'+'(st.x,\x20-st'+'.y,\x201);\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec\x20=\x20vec3('+'-st.x,\x20-st'+'.y,\x20-1);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(mod'+'ifySeams(v'+'ec,\x201.0));'+'\x0a}\x0a\x0amat3\x20m'+'atrixFromV'+'ector(vec3'+'\x20n)\x20{\x20//\x20f'+'risvad\x0a\x20\x20\x20'+'\x20float\x20a\x20='+'\x201.0\x20/\x20(1.'+'0\x20+\x20n.z);\x0a'+'\x20\x20\x20\x20float\x20'+'b\x20=\x20-n.x\x20*'+'\x20n.y\x20*\x20a;\x0a'+'\x20\x20\x20\x20vec3\x20b'+'1\x20=\x20vec3(1'+'.0\x20-\x20n.x\x20*'+'\x20n.x\x20*\x20a,\x20'+'b,\x20-n.x);\x0a'+'\x20\x20\x20\x20vec3\x20b'+'2\x20=\x20vec3(b'+',\x201.0\x20-\x20n.'+'y\x20*\x20n.y\x20*\x20'+'a,\x20-n.y);\x0a'+'\x20\x20\x20\x20return'+'\x20mat3(b1,\x20'+'b2,\x20n);\x0a}\x0a'+'\x0amat3\x20matr'+'ixFromVect'+'orSlow(vec'+'3\x20n)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20up\x20='+'\x20(1.0\x20-\x20ab'+'s(n.y)\x20<=\x20'+'0.0000001)'+'\x20?\x20vec3(0.'+'0,\x200.0,\x20n.'+'y\x20>\x200.0\x20?\x20'+'1.0\x20:\x20-1.0'+')\x20:\x20vec3(0'+'.0,\x201.0,\x200'+'.0);\x0a\x20\x20\x20\x20v'+'ec3\x20x\x20=\x20no'+'rmalize(cr'+'oss(up,\x20n)'+');\x0a\x20\x20\x20\x20vec'+'3\x20y\x20=\x20cros')+('s(n,\x20x);\x0a\x20'+'\x20\x20\x20return\x20'+'mat3(x,\x20y,'+'\x20n);\x0a}\x0a\x0ave'+'c4\x20reproje'+'ct()\x20{\x0a\x20\x20\x20'+'\x20if\x20({NUM_'+'SAMPLES}\x20<'+'=\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20si'+'ngle\x20sampl'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20{EN'+'CODE_FUNC}'+'({DECODE_F'+'UNC}({SOUR'+'CE_FUNC}({'+'TARGET_FUN'+'C}())));\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20multi\x20s'+'ample\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20t'+'\x20=\x20{TARGET'+'_FUNC}();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20tu\x20=\x20dF'+'dx(t);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'tv\x20=\x20dFdy('+'t);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(float\x20u\x20='+'\x200.0;\x20u\x20<\x20'+'{NUM_SAMPL'+'ES_SQRT};\x20'+'++u)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(float\x20'+'v\x20=\x200.0;\x20v'+'\x20<\x20{NUM_SA'+'MPLES_SQRT'+'};\x20++v)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20{DEC'+'ODE_FUNC}('+'{SOURCE_FU'+'NC}(normal'+'ize(t\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20tu'+'\x20*\x20(u\x20/\x20{N'+'UM_SAMPLES'+'_SQRT}\x20-\x200'+'.5)\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20tv\x20*'+'\x20(v\x20/\x20{NUM'+'_SAMPLES_S'+'QRT}\x20-\x200.5'+'))));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}(r'+'esult\x20/\x20({'+'NUM_SAMPLE'+'S_SQRT}\x20*\x20'+'{NUM_SAMPL'+'ES_SQRT}))'+';\x0a\x20\x20\x20\x20}\x0a}\x0a'+'\x0avec4\x20unpa'+'ckFloat\x20=\x20'+'vec4(1.0,\x20'+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x206'+'5025.0,\x201.'+'0\x20/\x20165813'+'75.0);\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20void\x20'+'unpackSamp'+'le(int\x20i,\x20'+'out\x20vec3\x20L'+',\x20out\x20floa')+('t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20u\x20'+'=\x20(float(i'+'\x20*\x204)\x20+\x200.'+'5)\x20*\x20sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20v\x20=\x20(f'+'loor(u)\x20+\x20'+'0.5)\x20*\x20sam'+'plesTexInv'+'erseSize.y'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20raw;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'aw.x\x20=\x20dot'+'(texture2D'+'(samplesTe'+'x,\x20vec2(u,'+'\x20v)),\x20unpa'+'ckFloat);\x20'+'u\x20+=\x20sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ra'+'w.y\x20=\x20dot('+'texture2D('+'samplesTex'+',\x20vec2(u,\x20'+'v)),\x20unpac'+'kFloat);\x20u'+'\x20+=\x20sample'+'sTexInvers'+'eSize.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20raw'+'.z\x20=\x20dot(t'+'exture2D(s'+'amplesTex,'+'\x20vec2(u,\x20v'+')),\x20unpack'+'Float);\x20u\x20'+'+=\x20samples'+'TexInverse'+'Size.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20raw.'+'w\x20=\x20dot(te'+'xture2D(sa'+'mplesTex,\x20'+'vec2(u,\x20v)'+'),\x20unpackF'+'loat);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20L.xy'+'z\x20=\x20raw.xy'+'z\x20*\x202.0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mipLeve'+'l\x20=\x20raw.w\x20'+'*\x208.0;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20convolve\x20'+'an\x20environ'+'ment\x20given'+'\x20pre-gener'+'ated\x20sampl'+'es\x0a\x20\x20\x20\x20vec'+'4\x20prefilte'+'rSamples()'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20constr'+'uct\x20vector'+'\x20space\x20giv'+'en\x20target\x20'+'direction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t3\x20vecSpac'+'e\x20=\x20matrix'+'FromVector'+'Slow({TARG'+'ET_FUNC}()'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20L;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20mipLev'+'el;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20++i)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20unpackS'+'ample(i,\x20L')+(',\x20mipLevel'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20{DECO'+'DE_FUNC}({'+'SOURCE_FUN'+'C}(vecSpac'+'e\x20*\x20L,\x20mip'+'Level))\x20*\x20'+'L.z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20tot'+'alWeight\x20+'+'=\x20L.z;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20{ENCODE'+'_FUNC}(res'+'ult\x20/\x20tota'+'lWeight);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20//\x20unweig'+'hted\x20versi'+'on\x20of\x20pref'+'ilterSampl'+'es\x0a\x20\x20\x20\x20vec'+'4\x20prefilte'+'rSamplesUn'+'weighted()'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20constr'+'uct\x20vector'+'\x20space\x20giv'+'en\x20target\x20'+'direction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t3\x20vecSpac'+'e\x20=\x20matrix'+'FromVector'+'Slow({TARG'+'ET_FUNC}()'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20L;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20mipLev'+'el;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20++i)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20unpackS'+'ample(i,\x20L'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20{DECO'+'DE_FUNC}({'+'SOURCE_FUN'+'C}(vecSpac'+'e\x20*\x20L,\x20mip'+'Level));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}(r'+'esult\x20/\x20fl'+'oat({NUM_S'+'AMPLES}));'+'\x0a\x20\x20\x20\x20}\x0a#en'+'dif\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20{PROCESS'+'_FUNC}();\x0a'+'}\x0a'),h2='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0auniform'+'\x20vec4\x20uvMo'+'d;\x0avarying'+'\x20vec2\x20vUv0'+';\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20v'+'ec4(vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20vUv0'+'\x20=\x20getImag'+'eEffectUV('+'(vertex_po'+'sition.xy\x20'+'*\x200.5\x20+\x200.'+'5)\x20*\x20uvMod'+'.xy\x20+\x20uvMo'+'d.zw);\x0a}\x0a',d2='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20uScen'+'eDepthMap;'+'\x0a\x0a#ifndef\x20'+'SCREENSIZE'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SCREENS'+'IZE\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20VIEWMAT'+'RIX\x0a\x20\x20\x20\x20un'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a\x20\x20\x20\x20'+'#define\x20LI'+'NEARIZE_DE'+'PTH\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20#ifndef'+'\x20CAMERAPLA'+'NES\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'CAMERAPLAN'+'ES\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20v'+'ec4\x20camera'+'_params;\x20/'+'/\x20x:\x201\x20/\x20c'+'amera_far,'+'\x20\x20\x20\x20\x20\x20y:\x20c'+'amera_far,'+'\x20\x20\x20\x20\x20z:\x20ca'+'mera_near,'+'\x20\x20\x20\x20\x20\x20\x20\x20w:'+'\x20is_ortho\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20lineariz'+'eDepth(flo'+'at\x20z)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'camera_par'+'ams.w\x20==\x200'+'.0)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20(camera'+'_params.z\x20'+'*\x20camera_p'+'arams.y)\x20/'+'\x20(camera_p'+'arams.y\x20+\x20'+'z\x20*\x20(camer'+'a_params.z'+'\x20-\x20camera_'+'params.y))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20camera'+'_params.z\x20'+'+\x20z\x20*\x20(cam'+'era_params'+'.y\x20-\x20camer'+'a_params.z'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0aflo'+'at\x20delinea'+'rizeDepth('+'float\x20line'+'arDepth)\x20{'+'\x0a\x20\x20\x20\x20if\x20(c'+'amera_para'+'ms.w\x20==\x200.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'(camera_pa'+'rams.y\x20*\x20('+'camera_par'+'ams.z\x20-\x20li'+'nearDepth)'+')\x20/\x20(linea'+'rDepth\x20*\x20('+'camera_par'+'ams.z\x20-\x20ca'+'mera_param'+'s.y));\x0a\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(line'+'arDepth\x20-\x20'+'camera_par'+'ams.z)\x20/\x20('+('camera_par'+'ams.y\x20-\x20ca'+'mera_param'+'s.z);\x0a\x20\x20\x20\x20'+'}\x0a}\x0a\x0a//\x20Re'+'trieves\x20re'+'ndered\x20lin'+'ear\x20camera'+'\x20depth\x20by\x20'+'UV\x0afloat\x20g'+'etLinearSc'+'reenDepth('+'vec2\x20uv)\x20{'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SCENE_DE'+'PTHMAP_LIN'+'EAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'CENE_DEPTH'+'MAP_FLOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'exture2D(u'+'SceneDepth'+'Map,\x20uv).r'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20textu'+'reSize\x20=\x20t'+'extureSize'+'(uSceneDep'+'thMap,\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ivec2\x20t'+'exel\x20=\x20ive'+'c2(uv\x20*\x20ve'+'c2(texture'+'Size));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20data\x20'+'=\x20texelFet'+'ch(uSceneD'+'epthMap,\x20t'+'exel,\x200);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(data.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(uint(d'+'ata.g\x20*\x2025'+'5.0)\x20<<\x2016'+'u)\x20|\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(uint(dat'+'a.b\x20*\x20255.'+'0)\x20<<\x208u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ui'+'nt(data.a\x20'+'*\x20255.0);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'uintBitsTo'+'Float(intB'+'its);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20line'+'arizeDepth'+'(texture2D'+'(uSceneDep'+'thMap,\x20uv)'+'.r);\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a\x0a#'+'ifndef\x20VER'+'TEXSHADER\x0a'+'\x20\x20\x20\x20//\x20Ret'+'rieves\x20ren'+'dered\x20line'+'ar\x20camera\x20'+'depth\x20unde'+'r\x20the\x20curr'+'ent\x20pixel\x0a'+'\x20\x20\x20\x20float\x20'+'getLinearS'+'creenDepth'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20uv'+'\x20=\x20gl_Frag'+'Coord.xy\x20*'+'\x20uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur')+('n\x20getLinea'+'rScreenDep'+'th(uv);\x0a\x20\x20'+'\x20\x20}\x0a#endif'+'\x0a\x0a//\x20Gener'+'ates\x20linea'+'r\x20camera\x20d'+'epth\x20for\x20t'+'he\x20given\x20w'+'orld\x20posit'+'ion\x0afloat\x20'+'getLinearD'+'epth(vec3\x20'+'pos)\x20{\x0a\x20\x20\x20'+'\x20return\x20-('+'matrix_vie'+'w\x20*\x20vec4(p'+'os,\x201.0)).'+'z;\x0a}\x0a'),f2='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x20\x0ai'+'nt\x20getShad'+'owCascadeI'+'ndex(vec4\x20'+'shadowCasc'+'adeDistanc'+'es,\x20int\x20sh'+'adowCascad'+'eCount)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20in\x200\x20.'+'.\x20far\x20plan'+'e\x20range\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x0a\x20'+'\x20\x20\x20//\x201.0\x20'+'if\x20depth\x20>'+'=\x20distance'+',\x200.0\x20othe'+'rwise\x0a\x20\x20\x20\x20'+'vec4\x20compa'+'risons\x20=\x20s'+'tep(shadow'+'CascadeDis'+'tances,\x20ve'+'c4(depth))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'sum\x20is\x20the'+'\x20index\x0a\x20\x20\x20'+'\x20int\x20casca'+'deIndex\x20=\x20'+'int(dot(co'+'mparisons,'+'\x20vec4(1.0)'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20limit\x20to'+'\x20actual\x20nu'+'mber\x20of\x20us'+'ed\x20cascade'+'s\x0a\x20\x20\x20\x20retu'+'rn\x20min(cas'+'cadeIndex,'+'\x20shadowCas'+'cadeCount\x20'+'-\x201);\x0a}\x0a\x0a/'+'/\x20function'+'\x20which\x20mod'+'ifies\x20casc'+'ade\x20index\x20'+'to\x20dither\x20'+'between\x20ca'+'scades\x0aint'+'\x20ditherSha'+'dowCascade'+'Index(int\x20'+'cascadeInd'+'ex,\x20vec4\x20s'+'hadowCasca'+'deDistance'+'s,\x20int\x20sha'+'dowCascade'+'Count,\x20flo'+'at\x20blendFa'+'ctor)\x20{\x0a\x20\x0a'+'\x20\x20\x20\x20if\x20(ca'+'scadeIndex'+'\x20<\x20shadowC'+'ascadeCoun'+'t\x20-\x201)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20current'+'RangeEnd\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20transit'+'ionStart\x20='+'\x20blendFact'+'or\x20*\x20curre'+'ntRangeEnd'+';\x20//\x20Start'+'\x20overlap\x20f'+'actor\x20away'+'\x20from\x20the\x20'+'end\x20distan'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x201.0\x20/'+('\x20gl_FragCo'+'ord.w;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'depth\x20>\x20tr'+'ansitionSt'+'art)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Calculat'+'e\x20a\x20transi'+'tion\x20facto'+'r\x20(0.0\x20to\x20'+'1.0)\x20withi'+'n\x20the\x20over'+'lap\x20range\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20tr'+'ansitionFa'+'ctor\x20=\x20smo'+'othstep(tr'+'ansitionSt'+'art,\x20curre'+'ntRangeEnd'+',\x20depth);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Add\x20'+'pseudo-ran'+'dom\x20dither'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ODO:\x20repla'+'ce\x20by\x20user'+'\x20selectabl'+'e\x20ditherin'+'g\x20method\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dit'+'her\x20=\x20frac'+'t(sin(dot('+'gl_FragCoo'+'rd.xy,\x20vec'+'2(12.9898,'+'\x2078.233)))'+'\x20*\x2043758.5'+'453);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(dither\x20<'+'\x20transitio'+'nFactor)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cas'+'cadeIndex\x20'+'+=\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20return\x20ca'+'scadeIndex'+';\x0a}\x0a\x0avec3\x20'+'fadeShadow'+'(vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'CascadeDis'+'tances)\x20{\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20//\x20if\x20th'+'e\x20pixel\x20is'+'\x20past\x20the\x20'+'shadow\x20dis'+'tance,\x20rem'+'ove\x20shadow'+'\x0a\x20\x20\x20\x20//\x20th'+'is\x20enforce'+'s\x20straight'+'\x20line\x20inst'+'ead\x20of\x20cor'+'ner\x20of\x20sha'+'dow\x20which\x20'+'moves\x20when'+'\x20camera\x20ro'+'tates\x20\x20\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x20\x20'+'\x20\x20if\x20(dept'+'h\x20>\x20shadow'+'CascadeDis'+'tances.w)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'shadowCoor'+'d.z\x20=\x20-999'+'9999.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20shad'+'owCoord;\x0a}'+'\x0a'),u2='\x0a\x0a//\x20-----'+'-\x20VSM\x20Shar'+'ed\x20------\x0a'+'\x0afloat\x20lin'+'step(float'+'\x20a,\x20float\x20'+'b,\x20float\x20v'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20satur'+'ate((v\x20-\x20a'+')\x20/\x20(b\x20-\x20a'+'));\x0a}\x0a\x0aflo'+'at\x20reduceL'+'ightBleedi'+'ng(float\x20p'+'Max,\x20float'+'\x20amount)\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'float\x20cheb'+'yshevUpper'+'Bound(vec2'+'\x20moments,\x20'+'float\x20mean'+',\x20float\x20mi'+'nVariance,'+'\x20float\x20lig'+'htBleeding'+'Reduction)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'Compute\x20va'+'riance\x0a\x20\x20\x20'+'\x20float\x20var'+'iance\x20=\x20mo'+'ments.y\x20-\x20'+'(moments.x'+'\x20*\x20moments'+'.x);\x0a\x20\x20\x20\x20v'+'ariance\x20=\x20'+'max(varian'+'ce,\x20minVar'+'iance);\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20probab'+'ilistic\x20up'+'per\x20bound\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20mean\x20-'+'\x20moments.x'+';\x0a\x20\x20\x20\x20floa'+'t\x20pMax\x20=\x20v'+'ariance\x20/\x20'+'(variance\x20'+'+\x20(d\x20*\x20d))'+';\x0a\x0a\x20\x20\x20\x20pMa'+'x\x20=\x20reduce'+'LightBleed'+'ing(pMax,\x20'+'lightBleed'+'ingReducti'+'on);\x0a\x0a\x20\x20\x20\x20'+'//\x20One-tai'+'led\x20Chebys'+'hev\x0a\x20\x20\x20\x20re'+'turn\x20(mean'+'\x20<=\x20moment'+'s.x\x20?\x201.0\x20'+':\x20pMax);\x0a}'+'\x0a\x0afloat\x20ca'+'lculateEVS'+'M(vec3\x20mom'+'ents,\x20floa'+'t\x20Z,\x20float'+'\x20vsmBias,\x20'+'float\x20expo'+'nent)\x20{\x0a\x20\x20'+'\x20\x20Z\x20=\x202.0\x20'+'*\x20Z\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20warpedDep'+'th\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20m'+'oments.xy\x20'+'+=\x20vec2(wa'+'rpedDepth,'+'\x20warpedDep'+'th*warpedD'+'epth)\x20*\x20(1'+'.0\x20-\x20momen'+'ts.z);\x0a\x0a\x20\x20'+('\x20\x20float\x20VS'+'MBias\x20=\x20vs'+'mBias;//0.'+'01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20float'+'\x20depthScal'+'e\x20=\x20VSMBia'+'s\x20*\x20expone'+'nt\x20*\x20warpe'+'dDepth;\x0a\x20\x20'+'\x20\x20float\x20mi'+'nVariance1'+'\x20=\x20depthSc'+'ale\x20*\x20dept'+'hScale;\x0a\x20\x20'+'\x20\x20return\x20c'+'hebyshevUp'+'perBound(m'+'oments.xy,'+'\x20warpedDep'+'th,\x20minVar'+'iance1,\x200.'+'1);\x0a}\x0a\x0a//\x20'+'------\x20VSM'+'\x2016\x20------'+'\x0a\x0afloat\x20VS'+'M16(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec2\x20'+'texCoords,'+'\x20float\x20res'+'olution,\x20f'+'loat\x20Z,\x20fl'+'oat\x20vsmBia'+'s,\x20float\x20e'+'xponent)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'moments\x20=\x20'+'texture2DL'+'od(tex,\x20te'+'xCoords,\x200'+'.0).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM16('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20VSM16(T'+'EXTURE_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'VSM16(TEXT'+'URE_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams,\x20'+'float\x20expo'+'nent,\x20vec3'+'\x20lightDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20VSM16('+'TEXTURE_PA'+'SS(shadowM'+'ap),\x20shado'+'wCoord.xy,'+'\x20shadowPar'+'ams.x,\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z,\x20s'+'hadowParam'+'s.y,\x20expon'+'ent);\x0a}\x0a\x0a/'+'/\x20------\x20V'+'SM\x2032\x20----')+('--\x0a\x0afloat\x20'+'VSM32(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20texCoord'+'s,\x20float\x20r'+'esolution,'+'\x20float\x20Z,\x20'+'float\x20vsmB'+'ias,\x20float'+'\x20exponent)'+'\x20{\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20CAPS_'+'TEXTURE_FL'+'OAT_FILTER'+'ABLE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20te'+'xture2DLod'+'(tex,\x20texC'+'oords,\x200.0'+').xyz;\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ma'+'nual\x20bilin'+'ear\x20filter'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pi'+'xelSize\x20=\x20'+'1.0\x20/\x20reso'+'lution;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20texC'+'oords\x20-=\x20v'+'ec2(pixelS'+'ize);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'00\x20=\x20textu'+'re2DLod(te'+'x,\x20texCoor'+'ds,\x200.0).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20s10'+'\x20=\x20texture'+'2DLod(tex,'+'\x20texCoords'+'\x20+\x20vec2(pi'+'xelSize,\x200'+'),\x200.0).xy'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20s01\x20'+'=\x20texture2'+'DLod(tex,\x20'+'texCoords\x20'+'+\x20vec2(0,\x20'+'pixelSize)'+',\x200.0).xyz'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20s11\x20='+'\x20texture2D'+'Lod(tex,\x20t'+'exCoords\x20+'+'\x20vec2(pixe'+'lSize),\x200.'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20fr\x20=\x20frac'+'t(texCoord'+'s\x20*\x20resolu'+'tion);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'h0\x20=\x20mix(s'+'00,\x20s10,\x20f'+'r.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20h'+'1\x20=\x20mix(s0'+'1,\x20s11,\x20fr'+'.x);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20mi'+'x(h0,\x20h1,\x20'+'fr.y);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM32('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20VSM32(T')+('EXTURE_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'VSM32(TEXT'+'URE_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams,\x20'+'float\x20expo'+'nent,\x20vec3'+'\x20lightDir)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20Z\x20=\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20return\x20'+'VSM32(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20shadowCoo'+'rd.xy,\x20sha'+'dowParams.'+'x,\x20Z,\x20shad'+'owParams.y'+',\x20exponent'+');\x0a}\x0a'),p2='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20g'+'etShadowPC'+'F1x1(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20textur'+'eShadow(sh'+'adowMap,\x20s'+'hadowCoord'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wSpotPCF1x'+'1(SHADOWMA'+'P_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20textureSh'+'adow(shado'+'wMap,\x20shad'+'owCoord);\x0a'+'}\x0a\x0a//\x20----'+'-\x20Omni\x20Sam'+'pling\x20----'+'-\x0a\x0a#ifndef'+'\x20WEBGPU\x0a\x0af'+'loat\x20getSh'+'adowOmniPC'+'F1x1(sampl'+'erCubeShad'+'ow\x20shadowM'+'ap,\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20return'+'\x20texture(s'+'hadowMap,\x20'+'vec4(light'+'Dir,\x20shado'+'wZ));\x0a}\x0a\x0a#'+'endif\x0a',m2='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec3\x20sh'+'adowParams'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20sh'+'adowCoord.'+'z;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sha'+'dowCoord.x'+'y\x20*\x20shadow'+'Params.x;\x20'+'//\x201\x20unit\x20'+'-\x201\x20texel\x0a'+'\x20\x20\x20\x20float\x20'+'shadowMapS'+'izeInv\x20=\x201'+'.0\x20/\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'base_uv\x20=\x20'+'floor(uv\x20+'+'\x200.5);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20(uv.x\x20+\x200'+'.5\x20-\x20base_'+'uv.x);\x0a\x20\x20\x20'+'\x20float\x20t\x20='+'\x20(uv.y\x20+\x200'+'.5\x20-\x20base_'+'uv.y);\x20\x0a\x20\x20'+'\x20\x20base_uv\x20'+'-=\x20vec2(0.'+'5);\x0a\x20\x20\x20\x20ba'+'se_uv\x20*=\x20s'+'hadowMapSi'+'zeInv;\x0a\x0a\x20\x20'+'\x20\x20float\x20su'+'m\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'uw0\x20=\x20(3.0'+'\x20-\x202.0\x20*\x20s'+');\x0a\x20\x20\x20\x20flo'+'at\x20uw1\x20=\x20('+'1.0\x20+\x202.0\x20'+'*\x20s);\x0a\x0a\x20\x20\x20'+'\x20float\x20u0\x20'+'=\x20(2.0\x20-\x20s'+')\x20/\x20uw0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20f'+'loat\x20u1\x20=\x20'+'s\x20/\x20uw1\x20+\x20'+'1.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(3.0\x20-\x202'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x20(1.0\x20'+'+\x202.0\x20*\x20t)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20v0\x20=\x20(2'+'.0\x20-\x20t)\x20/\x20'+'vw0\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20v1\x20=\x20t\x20/\x20'+'vw1\x20+\x201.0;'+'\x0a\x0a\x20\x20\x20\x20u0\x20='+'\x20u0\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v0\x20=\x20v0\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u1\x20=\x20'+'u1\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'1\x20=\x20v1\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+('sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw0\x20*\x20v'+'w1\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u0,\x20v'+'1,\x20z));\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w1\x20*\x20vw1\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u1,\x20v1,\x20z'+'));\x0a\x0a\x20\x20\x20\x20s'+'um\x20*=\x201.0f'+'\x20/\x2016.0;\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowPCF3x3('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_PASS'+'(shadowMap'+'),\x20shadowC'+'oord,\x20shad'+'owParams.x'+'yz);\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowSpotPCF'+'3x3(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF3x3('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a\x0a//\x20-----'+'\x20Omni\x20Samp'+'ling\x20-----'+'\x0a\x0a#ifndef\x20'+'WEBGPU\x0a\x0afl'+'oat\x20getSha'+'dowOmniPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec4\x20sh'+'adowParams'+',\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Z\x20=\x20length'+'(dir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x0a\x20\x20\x20\x20'+'float\x20z\x20=\x20'+'1.0\x20/\x20floa'+'t(textureS'+'ize(shadow'+'Map,\x200));\x0a'+'\x20\x20\x20\x20vec3\x20t'+'c\x20=\x20normal'+'ize(dir);\x0a'+'\x0a\x20\x20\x20\x20//\x20av'+'erage\x204\x20sa'+'mples\x20-\x20no'+'t\x20a\x20strict')+('\x203x3\x20PCF\x20b'+'ut\x20that\x27s\x20'+'tricky\x20wit'+'h\x20cubemaps'+'\x0a\x20\x20\x20\x20mediu'+'mp\x20vec4\x20sh'+'adows;\x0a\x20\x20\x20'+'\x20shadows.x'+'\x20=\x20texture'+'(shadowMap'+',\x20vec4(tc\x20'+'+\x20vec3(\x20z,'+'\x20z,\x20z),\x20sh'+'adowZ));\x0a\x20'+'\x20\x20\x20shadows'+'.y\x20=\x20textu'+'re(shadowM'+'ap,\x20vec4(t'+'c\x20+\x20vec3(-'+'z,-z,\x20z),\x20'+'shadowZ));'+'\x0a\x20\x20\x20\x20shado'+'ws.z\x20=\x20tex'+'ture(shado'+'wMap,\x20vec4'+'(tc\x20+\x20vec3'+'(-z,\x20z,-z)'+',\x20shadowZ)'+');\x0a\x20\x20\x20\x20sha'+'dows.w\x20=\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(tc\x20+\x20ve'+'c3(\x20z,-z,-'+'z),\x20shadow'+'Z));\x0a\x0a\x20\x20\x20\x20'+'return\x20dot'+'(shadows,\x20'+'vec4(0.25)'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wOmniPCF3x'+'3(samplerC'+'ubeShadow\x20'+'shadowMap,'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20lightDi'+'r)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20getS'+'hadowOmniP'+'CF3x3(shad'+'owMap,\x20sha'+'dowParams,'+'\x20lightDir)'+';\x0a}\x0a\x0a#endi'+'f\x0a'),_2='\x0afloat\x20_ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec3\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20//\x20h'+'ttp://the-'+'witness.ne'+'t/news/201'+'3/09/shado'+'w-mapping-'+'summary-pa'+'rt-1/\x0a\x0a\x20\x20\x20'+'\x20float\x20z\x20='+'\x20shadowCoo'+'rd.z;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'shadowCoor'+'d.xy\x20*\x20sha'+'dowParams.'+'x;\x20//\x201\x20un'+'it\x20-\x201\x20tex'+'el\x0a\x20\x20\x20\x20flo'+'at\x20shadowM'+'apSizeInv\x20'+'=\x201.0\x20/\x20sh'+'adowParams'+'.x;\x0a\x20\x20\x20\x20ve'+'c2\x20base_uv'+'\x20=\x20floor(u'+'v\x20+\x200.5);\x0a'+'\x20\x20\x20\x20float\x20'+'s\x20=\x20(uv.x\x20'+'+\x200.5\x20-\x20ba'+'se_uv.x);\x0a'+'\x20\x20\x20\x20float\x20'+'t\x20=\x20(uv.y\x20'+'+\x200.5\x20-\x20ba'+'se_uv.y);\x0a'+'\x20\x20\x20\x20base_u'+'v\x20-=\x20vec2('+'0.5);\x0a\x20\x20\x20\x20'+'base_uv\x20*='+'\x20shadowMap'+'SizeInv;\x0a\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20uw0\x20=\x20(4.'+'0\x20-\x203.0\x20*\x20'+'s);\x0a\x20\x20\x20\x20fl'+'oat\x20uw1\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20f'+'loat\x20uw2\x20='+'\x20(1.0\x20+\x203.'+'0\x20*\x20s);\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'0\x20=\x20(3.0\x20-'+'\x202.0\x20*\x20s)\x20'+'/\x20uw0\x20-\x202.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20u1\x20=\x20(3'+'.0\x20+\x20s)\x20/\x20'+'uw1;\x0a\x20\x20\x20\x20f'+'loat\x20u2\x20=\x20'+'s\x20/\x20uw2\x20+\x20'+'2.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(4.0\x20-\x203'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x207.0;\x0a'+'\x20\x20\x20\x20float\x20'+'vw2\x20=\x20(1.0'+'\x20+\x203.0\x20*\x20t'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20v0\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20t)\x20/\x20vw0'+'\x20-\x202.0;\x0a\x20\x20'+'\x20\x20float\x20v1'+'\x20=\x20(3.0\x20+\x20'+'t)\x20/\x20vw1;\x0a'+'\x20\x20\x20\x20float\x20'+'v2\x20=\x20t\x20/\x20v'+'w2\x20+\x202.0;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20sum\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20u0\x20'+'=\x20u0\x20*\x20sha'+'dowMapSize'+'Inv\x20+\x20base'+'_uv.x;\x0a\x20\x20\x20'+'\x20v0\x20=\x20v0\x20*'+'\x20shadowMap'+'SizeInv\x20+\x20'+'base_uv.y;'+'\x0a\x0a\x20\x20\x20\x20u1\x20='+('\x20u1\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v1\x20=\x20v1\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u2\x20=\x20'+'u2\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'2\x20=\x20v2\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+'sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw2\x20*\x20v'+'w0\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u2,\x20v'+'0,\x20z));\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw1\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v1,\x20'+'z));\x0a\x20\x20\x20\x20s'+'um\x20+=\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v1,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw2\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u2,\x20v1'+',\x20z));\x0a\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w0\x20*\x20vw2\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u0,\x20v2,\x20z'+'));\x0a\x20\x20\x20\x20su'+'m\x20+=\x20uw1\x20*'+'\x20vw2\x20*\x20tex'+'tureShadow'+'(shadowMap'+',\x20vec3(u1,'+'\x20v2,\x20z));\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw2\x20*\x20vw2'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u2,\x20v2,'+'\x20z));\x0a\x0a\x20\x20\x20'+'\x20sum\x20*=\x201.'+'0f\x20/\x20144.0'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20saturate'+'(sum);\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'um;\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCF5x5(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20_g'+'etShadowPC'+'F5x5(SHADO'+'WMAP_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20shado')+('wParams.xy'+'z);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owSpotPCF5'+'x5(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getShad'+'owPCF5x5(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s.xyz);\x0a}\x0a'),g2='\x0a\x0a/**\x0a\x20*\x20P'+'CSS\x20is\x20a\x20s'+'hadow\x20samp'+'ling\x20metho'+'d\x20that\x20pro'+'vides\x20cont'+'act\x20harden'+'ing\x20soft\x20s'+'hadows,\x20us'+'ed\x20for\x20omn'+'i\x20and\x20spot'+'\x20lights.\x0a\x20'+'*\x20Based\x20on'+':\x20\x0a\x20*\x20-\x20ht'+'tps://www.'+'gamedev.ne'+'t/tutorial'+'s/programm'+'ing/graphi'+'cs/effect-'+'area-light'+'-shadows-p'+'art-1-pcss'+'-r4971/\x0a\x20*'+'\x20-\x20https:/'+'/github.co'+'m/pboechat'+'/PCSS\x20\x0a\x20*/'+'\x0a\x0a#define\x20'+'PCSS_SAMPL'+'E_COUNT\x2016'+'\x0a\x0auniform\x20'+'float\x20pcss'+'DiskSample'+'s[PCSS_SAM'+'PLE_COUNT]'+';\x0auniform\x20'+'float\x20pcss'+'SphereSamp'+'les[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x0avec2\x20'+'vogelDisk('+'int\x20sample'+'Index,\x20flo'+'at\x20count,\x20'+'float\x20phi,'+'\x20float\x20r)\x20'+'{\x0a\x20\x20\x20\x20cons'+'t\x20float\x20Go'+'ldenAngle\x20'+'=\x202.4;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta\x20=\x20float'+'(sampleInd'+'ex)\x20*\x20Gold'+'enAngle\x20+\x20'+'phi;\x0a\x0a\x20\x20\x20\x20'+'float\x20sine'+'\x20=\x20sin(the'+'ta);\x0a\x20\x20\x20\x20f'+'loat\x20cosin'+'e\x20=\x20cos(th'+'eta);\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(r\x20*\x20cosi'+'ne,\x20r\x20*\x20si'+'ne);\x0a}\x0a\x0ave'+'c3\x20vogelSp'+'here(int\x20s'+'ampleIndex'+',\x20float\x20co'+'unt,\x20float'+'\x20phi,\x20floa'+'t\x20r)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20GoldenA'+'ngle\x20=\x202.4'+';\x0a\x20\x20\x20\x20floa'+'t\x20theta\x20=\x20'+'float(samp'+'leIndex)\x20*'+'\x20GoldenAng'+'le\x20+\x20phi;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20weight\x20=\x20'+'float(samp'+'leIndex)\x20/'+'\x20count;\x0a\x20\x20'+'\x20\x20return\x20v'+'ec3(cos(th'+'eta)\x20*\x20r,\x20'+'weight,\x20si'+'n(theta)\x20*'+'\x20r);\x0a}\x0a\x0afl'+'oat\x20noise('+'vec2\x20scree'+'nPos)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PHI\x20=\x20'+('1.61803398'+'8749894848'+'20459;\x20\x20//'+'\x20\x20=\x20Golde'+'n\x20Ratio\x20\x20\x20'+'\x0a\x20\x20\x20\x20retur'+'n\x20fract(si'+'n(dot(scre'+'enPos\x20*\x20PH'+'I,\x20screenP'+'os))\x20*\x20scr'+'eenPos.x);'+'\x0a}\x0a\x0afloat\x20'+'viewSpaceD'+'epth(float'+'\x20depth,\x20ma'+'t4\x20invProj'+'ection)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'z\x20=\x20depth\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20vec'+'4\x20clipSpac'+'e\x20=\x20vec4(0'+'.0,\x200.0,\x20z'+',\x201.0);\x0a\x20\x20'+'\x20\x20vec4\x20vie'+'wSpace\x20=\x20i'+'nvProjecti'+'on\x20*\x20clipS'+'pace;\x0a\x20\x20\x20\x20'+'return\x20vie'+'wSpace.z;\x0a'+'}\x0a\x0afloat\x20P'+'CSSBlocker'+'Distance(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20sampleCoo'+'rds[PCSS_S'+'AMPLE_COUN'+'T],\x20vec2\x20s'+'hadowCoord'+'s,\x20vec2\x20se'+'archSize,\x20'+'float\x20z,\x20v'+'ec4\x20camera'+'Params)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20blockers\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20float\x20ave'+'rageBlocke'+'r\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20offset\x20='+'\x20sampleCoo'+'rds[i]\x20*\x20s'+'earchSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20sample'+'UV\x20=\x20shado'+'wCoords\x20+\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20blocker'+'\x20=\x20texture'+'2DLod(shad'+'owMap,\x20sam'+'pleUV,\x200.0'+').r;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20i'+'sBlocking\x20'+'=\x20step(blo'+'cker,\x20z);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20bl'+'ockers\x20+=\x20'+'isBlocking'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'averageBlo'+'cker\x20+=\x20bl'+'ocker\x20*\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20if\x20(block'+'ers\x20>\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20aver'+'ageBlocker'+'\x20/\x20blocker'+'s;\x0a\x20\x20\x20\x20ret'+'urn\x20-1.0;\x0a'+'}\x0a\x0afloat\x20P'+'CSS(TEXTUR')+('E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoords,\x20'+'vec4\x20camer'+'aParams,\x20v'+'ec2\x20shadow'+'SearchArea'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'linearizeD'+'epthWithPa'+'rams(shado'+'wCoords.z,'+'\x20cameraPar'+'ams);\x0a\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePoints[P'+'CSS_SAMPLE'+'_COUNT];\x0a\x20'+'\x20\x20\x20const\x20f'+'loat\x20PI\x20=\x20'+'3.14159265'+'3589793;\x0a\x20'+'\x20\x20\x20float\x20n'+'oise\x20=\x20noi'+'se(\x20gl_Fra'+'gCoord.xy\x20'+')\x20*\x202.0\x20*\x20'+'PI;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x200;\x20i\x20<\x20PC'+'SS_SAMPLE_'+'COUNT;\x20i++'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pc'+'ssPresampl'+'e\x20=\x20pcssDi'+'skSamples['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20samplePo'+'ints[i]\x20=\x20'+'vogelDisk('+'i,\x20float(P'+'CSS_SAMPLE'+'_COUNT),\x20n'+'oise,\x20pcss'+'Presample)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20a'+'verageBloc'+'ker\x20=\x20PCSS'+'BlockerDis'+'tance(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20samplePoi'+'nts,\x20shado'+'wCoords.xy'+',\x20shadowSe'+'archArea,\x20'+'receiverDe'+'pth,\x20camer'+'aParams);\x0a'+'\x20\x20\x20\x20if\x20(av'+'erageBlock'+'er\x20==\x20-1.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x201'+'.0;\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depthDiff'+'erence\x20=\x20('+'receiverDe'+'pth\x20-\x20aver'+'ageBlocker'+')\x20/\x203.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20filterRa'+'dius\x20=\x20dep'+'thDifferen'+'ce\x20*\x20shado'+'wSearchAre'+'a;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20PCSS_SAMP'+'LE_COUNT;\x20'+'i\x20++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20sampleU'+'V\x20=\x20sample'+'Points[i]\x20'+'*\x20filterRa')+('dius;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleUV\x20=\x20s'+'hadowCoord'+'s.xy\x20+\x20sam'+'pleUV;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20textur'+'e2DLod(sha'+'dowMap,\x20sa'+'mpleUV,\x200.'+'0).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20shadow\x20/\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT);\x0a\x20\x20\x20\x20'+'}\x20\x0a}\x0a\x0a#ifn'+'def\x20WEBGPU'+'\x0a\x0afloat\x20PC'+'SSCubeBloc'+'kerDistanc'+'e(samplerC'+'ube\x20shadow'+'Map,\x20vec3\x20'+'lightDirNo'+'rm,\x20vec3\x20s'+'amplePoint'+'s[PCSS_SAM'+'PLE_COUNT]'+',\x20float\x20z,'+'\x20float\x20sha'+'dowSearchA'+'rea)\x20{\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckers\x20=\x200.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20average'+'Blocker\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20P'+'CSS_SAMPLE'+'_COUNT;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sa'+'mpleDir\x20=\x20'+'lightDirNo'+'rm\x20+\x20sampl'+'ePoints[i]'+'\x20*\x20shadowS'+'earchArea;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'ampleDir\x20='+'\x20normalize'+'(sampleDir'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'ocker\x20=\x20te'+'xtureCubeL'+'od(shadowM'+'ap,\x20sample'+'Dir,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20isB'+'locking\x20=\x20'+'step(block'+'er,\x20z);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20bloc'+'kers\x20+=\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20av'+'erageBlock'+'er\x20+=\x20bloc'+'ker\x20*\x20isBl'+'ocking;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'f\x20(blocker'+'s\x20>\x200.0)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20averag'+'eBlocker\x20/'+'\x20blockers;'+'\x0a\x20\x20\x20\x20retur'+'n\x20-1.0;\x0a}\x0a'+'\x0afloat\x20PCS'+'SCube(samp'+'lerCube\x20sh'+'adowMap,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20shadowC'+'oords,\x20vec')+('4\x20cameraPa'+'rams,\x20floa'+'t\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20samplePoi'+'nts[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'PI\x20=\x203.141'+'5926535897'+'93;\x0a\x20\x20\x20\x20fl'+'oat\x20noise\x20'+'=\x20noise(\x20g'+'l_FragCoor'+'d.xy\x20)\x20*\x202'+'.0\x20*\x20PI;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20r\x20=\x20pcs'+'sSphereSam'+'ples[i];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sam'+'plePoints['+'i]\x20=\x20vogel'+'Sphere(i,\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT),\x20nois'+'e,\x20r);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'orm\x20=\x20norm'+'alize(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20averageB'+'locker\x20=\x20P'+'CSSCubeBlo'+'ckerDistan'+'ce(shadowM'+'ap,\x20lightD'+'irNorm,\x20sa'+'mplePoints'+',\x20receiver'+'Depth,\x20sha'+'dowSearchA'+'rea);\x0a\x20\x20\x20\x20'+'if\x20(averag'+'eBlocker\x20='+'=\x20-1.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20fi'+'lterRadius'+'\x20=\x20((recei'+'verDepth\x20-'+'\x20averageBl'+'ocker)\x20/\x20a'+'verageBloc'+'ker)\x20*\x20sha'+'dowSearchA'+'rea;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20PCSS_SAM'+'PLE_COUNT;'+'\x20i++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20offset\x20'+'=\x20samplePo'+'ints[i]\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sampleDir'+'\x20=\x20lightDi'+'rNorm\x20+\x20of'+'fset;\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleDir\x20=\x20'+'normalize('+'sampleDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depth\x20=\x20t'+'extureCube'+'Lod(shadow'+'Map,\x20sampl'+'eDir,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'ow\x20+=\x20step'+'(receiverD'+'epth,\x20dept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20s'+'hadow\x20/\x20fl'+'oat(PCSS_S'+'AMPLE_COUN'+'T);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0afloat\x20g'+'etShadowOm'+'niPCSS(sam'+'plerCube\x20s'+'hadowMap,\x20'+'vec3\x20shado'+'wCoord,\x20ve'+'c4\x20shadowP'+'arams,\x20vec'+'4\x20cameraPa'+'rams,\x20vec2'+'\x20shadowSea'+'rchArea,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20PCS'+'SCube(shad'+'owMap,\x20sha'+'dowParams,'+'\x20shadowCoo'+'rd,\x20camera'+'Params,\x20sh'+'adowSearch'+'Area.x,\x20li'+'ghtDir);\x0a}'+'\x0a\x0a#endif\x0a\x0a'+'float\x20getS'+'hadowSpotP'+'CSS(TEXTUR'+'E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c4\x20cameraP'+'arams,\x20vec'+'2\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20PC'+'SS(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord,'+'\x20cameraPar'+'ams,\x20shado'+'wSearchAre'+'a);\x0a}\x0a\x0a'),S2='\x0a\x0ahighp\x20fl'+'oat\x20fractS'+'inRand(con'+'st\x20in\x20vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20PI\x20=\x203.'+'1415926535'+'89793;\x0a\x20\x20\x20'+'\x20const\x20hig'+'hp\x20float\x20a'+'\x20=\x2012.9898'+',\x20b\x20=\x2078.2'+'33,\x20c\x20=\x2043'+'758.5453;\x0a'+'\x20\x20\x20\x20highp\x20'+'float\x20dt\x20='+'\x20dot(uv.xy'+',\x20vec2(a,\x20'+'b)),\x20sn\x20=\x20'+'mod(dt,\x20PI'+');\x0a\x20\x20\x20\x20ret'+'urn\x20fract('+'sin(sn)\x20*\x20'+'c);\x0a}\x0a\x0a//\x20'+'struct\x20to\x20'+'hold\x20preco'+'mputed\x20con'+'stants\x20and'+'\x20current\x20s'+'tate\x0astruc'+'t\x20VogelDis'+'kData\x20{\x0a\x20\x20'+'\x20\x20float\x20in'+'vNumSample'+'s;\x0a\x20\x20\x20\x20flo'+'at\x20initial'+'Angle;\x0a\x20\x20\x20'+'\x20float\x20cur'+'rentPointI'+'d;\x0a};\x0a\x0a//\x20'+'prepare\x20th'+'e\x20Vogel\x20di'+'sk\x20constan'+'ts\x20and\x20ini'+'tialize\x20th'+'e\x20current\x20'+'state\x20in\x20t'+'he\x20struct\x0a'+'void\x20prepa'+'reDiskCons'+'tants(out\x20'+'VogelDiskD'+'ata\x20data,\x20'+'int\x20sample'+'Count,\x20flo'+'at\x20randomS'+'eed)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20pi2\x20=\x206'+'.283185307'+'18;\x0a\x20\x20\x20\x20da'+'ta.invNumS'+'amples\x20=\x201'+'.0\x20/\x20float'+'(sampleCou'+'nt);\x0a\x20\x20\x20\x20d'+'ata.initia'+'lAngle\x20=\x20r'+'andomSeed\x20'+'*\x20pi2;\x0a\x20\x20\x20'+'\x20data.curr'+'entPointId'+'\x20=\x200.0;\x0a}\x0a'+'\x0a\x0avec2\x20gen'+'erateDiskS'+'ample(inou'+'t\x20VogelDis'+'kData\x20data'+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'GOLDEN_ANG'+'LE\x20=\x202.399'+'963;\x0a\x20\x20\x20\x20f'+'loat\x20r\x20=\x20s'+'qrt((data.'+'currentPoi'+'ntId\x20+\x200.5'+')\x20*\x20data.i'+'nvNumSampl'+'es);\x0a\x20\x20\x20\x20f'+'loat\x20theta'+'\x20=\x20data.cu'+'rrentPoint'+'Id\x20*\x20GOLDE'+'N_ANGLE\x20+\x20'+'data.initi'+'alAngle;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20o'+'ffset\x20=\x20ve'+('c2(cos(the'+'ta),\x20sin(t'+'heta))\x20*\x20p'+'ow(r,\x201.33'+');\x0a\x0a\x20\x20\x20\x20da'+'ta.current'+'PointId\x20+='+'\x201.0;\x0a\x20\x20\x20\x20'+'return\x20off'+'set;\x0a}\x0a\x0avo'+'id\x20PCSSFin'+'dBlocker(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20out\x20'+'float\x20avgB'+'lockerDept'+'h,\x20out\x20int'+'\x20numBlocke'+'rs,\x0a\x20\x20\x20\x20ve'+'c2\x20shadowC'+'oords,\x20flo'+'at\x20z,\x20int\x20'+'shadowBloc'+'kerSamples'+',\x20float\x20pe'+'numbraSize'+',\x20float\x20in'+'vShadowMap'+'Size,\x20floa'+'t\x20randomSe'+'ed)\x20{\x0a\x0a\x20\x20\x20'+'\x20VogelDisk'+'Data\x20diskD'+'ata;\x0a\x20\x20\x20\x20p'+'repareDisk'+'Constants('+'diskData,\x20'+'shadowBloc'+'kerSamples'+',\x20randomSe'+'ed);\x0a\x0a\x20\x20\x20\x20'+'float\x20sear'+'chWidth\x20=\x20'+'penumbraSi'+'ze\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x20\x20\x20\x20flo'+'at\x20blocker'+'Sum\x20=\x200.0;'+'\x0a\x20\x20\x20\x20numBl'+'ockers\x20=\x200'+';\x0a\x0a\x20\x20\x20\x20for'+'(\x20int\x20i\x20=\x20'+'0;\x20i\x20<\x20sha'+'dowBlocker'+'Samples;\x20+'+'+i\x20)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'diskUV\x20=\x20g'+'enerateDis'+'kSample(di'+'skData);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20sampleUV'+'\x20=\x20shadowC'+'oords\x20+\x20di'+'skUV\x20*\x20sea'+'rchWidth;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'MapDepth\x20='+'\x20texture2D'+'Lod(shadow'+'Map,\x20sampl'+'eUV,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(\x20shad'+'owMapDepth'+'\x20<\x20z\x20)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20blockerSu'+'m\x20+=\x20shado'+'wMapDepth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20numBloc'+'kers++;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20av'+'gBlockerDe'+'pth\x20=\x20bloc'+'kerSum\x20/\x20f'+'loat(numBl'+'ockers);\x0a}'+'\x0a\x0afloat\x20PC'+'SSFilter(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20uv,\x20float')+('\x20receiverD'+'epth,\x20int\x20'+'shadowSamp'+'les,\x20float'+'\x20filterRad'+'ius,\x20float'+'\x20randomSee'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'VogelDiskD'+'ata\x20diskDa'+'ta;\x0a\x20\x20\x20\x20pr'+'epareDiskC'+'onstants(d'+'iskData,\x20s'+'hadowSampl'+'es,\x20random'+'Seed);\x0a\x0a\x20\x20'+'\x20\x20float\x20su'+'m\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20shadowS'+'amples;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20of'+'fsetUV\x20=\x20g'+'enerateDis'+'kSample(di'+'skData)\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x20text'+'ure2DLod(s'+'hadowMap,\x20'+'uv\x20+\x20offse'+'tUV,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sum\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20retu'+'rn\x20sum\x20/\x20f'+'loat(shado'+'wSamples);'+'\x0a}\x0a\x0afloat\x20'+'getPenumbr'+'a(float\x20db'+'locker,\x20fl'+'oat\x20drecei'+'ver,\x20float'+'\x20penumbraS'+'ize,\x20float'+'\x20penumbraF'+'alloff)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'dist\x20=\x20dre'+'ceiver\x20-\x20d'+'blocker;\x0a\x20'+'\x20\x20\x20float\x20p'+'enumbra\x20=\x20'+'1.0\x20-\x20pow('+'1.0\x20-\x20dist'+',\x20penumbra'+'Falloff);\x0a'+'\x20\x20\x20\x20return'+'\x20penumbra\x20'+'*\x20penumbra'+'Size;\x0a}\x0a\x0af'+'loat\x20PCSSD'+'irectional'+'(TEXTURE_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oords,\x20vec'+'4\x20cameraPa'+'rams,\x20vec4'+'\x20softShado'+'wParams)\x20{'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20receiver'+'Depth\x20=\x20sh'+'adowCoords'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20random'+'Seed\x20=\x20fra'+'ctSinRand('+'gl_FragCoo'+'rd.xy);\x0a\x20\x20'+'\x20\x20int\x20shad'+'owSamples\x20'+'=\x20int(soft'+'ShadowPara'+'ms.x);\x0a\x20\x20\x20'+'\x20int\x20shado'+'wBlockerSa'+'mples\x20=\x20in'+'t(softShad')+('owParams.y'+');\x0a\x20\x20\x20\x20flo'+'at\x20penumbr'+'aSize\x20=\x20so'+'ftShadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20float\x20pe'+'numbraFall'+'off\x20=\x20soft'+'ShadowPara'+'ms.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20normal'+'ized\x20inver'+'se\x20shadow\x20'+'map\x20size\x20t'+'o\x20preserve'+'\x20the\x20shado'+'w\x20softness'+'\x20regardles'+'s\x20of\x20the\x20s'+'hadow\x20reso'+'lution\x0a\x20\x20\x20'+'\x20int\x20shado'+'wMapSize\x20='+'\x20textureSi'+'ze(shadowM'+'ap,\x200).x;\x0a'+'\x20\x20\x20\x20float\x20'+'invShadowM'+'apSize\x20=\x201'+'.0\x20/\x20float'+'(shadowMap'+'Size);\x0a\x20\x20\x20'+'\x20invShadow'+'MapSize\x20*='+'\x20float(sha'+'dowMapSize'+')\x20/\x202048.0'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20penumbr'+'a;\x0a\x0a\x20\x20\x20\x20//'+'\x20contact\x20h'+'ardening\x20p'+'ath\x0a\x20\x20\x20\x20if'+'\x20(shadowBl'+'ockerSampl'+'es\x20>\x200)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20find\x20ave'+'rage\x20block'+'er\x20depth\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20avgBloc'+'kerDepth\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20int\x20nu'+'mBlockers\x20'+'=\x200;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20PCSSFin'+'dBlocker(T'+'EXTURE_PAS'+'S(shadowMa'+'p),\x20avgBlo'+'ckerDepth,'+'\x20numBlocke'+'rs,\x20shadow'+'Coords.xy,'+'\x20receiverD'+'epth,\x20shad'+'owBlockerS'+'amples,\x20pe'+'numbraSize'+',\x20invShado'+'wMapSize,\x20'+'randomSeed'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20early'+'\x20out\x20when\x20'+'no\x20blocker'+'s\x20are\x20pres'+'ent\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(numB'+'lockers\x20<\x20'+'1)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x201.0f;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'penumbra\x20s'+'ize\x20is\x20bas'+'ed\x20on\x20the\x20'+'blocker\x20de'+'pth\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20penumbra'+'\x20=\x20getPenu'+'mbra(avgBl'+'ockerDepth'+',\x20shadowCo'+'ords.z,\x20pe'+'numbraSize'+',\x20penumbra')+('Falloff);\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cons'+'tant\x20filte'+'r\x20size,\x20no'+'\x20contact\x20h'+'ardening\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20pen'+'umbra\x20=\x20pe'+'numbraSize'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'ilterRadiu'+'s\x20=\x20penumb'+'ra\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20filtering'+'\x0a\x20\x20\x20\x20retur'+'n\x20PCSSFilt'+'er(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoords'+'.xy,\x20recei'+'verDepth,\x20'+'shadowSamp'+'les,\x20filte'+'rRadius,\x20r'+'andomSeed)'+';\x0a}\x0a\x0afloat'+'\x20getShadow'+'PCSS(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c4\x20softSha'+'dowParams,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20P'+'CSSDirecti'+'onal(TEXTU'+'RE_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20cameraP'+'arams,\x20sof'+'tShadowPar'+'ams);\x0a}\x0a\x0a'),y2='\x0aattribute'+'\x20float\x20ver'+'tex_boneIn'+'dices;\x0a\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20texture_'+'poseMap;\x0a\x0a'+'mat4\x20getBo'+'neMatrix(c'+'onst\x20in\x20fl'+'oat\x20indexF'+'loat)\x20{\x0a\x0a\x20'+'\x20\x20\x20int\x20wid'+'th\x20=\x20textu'+'reSize(tex'+'ture_poseM'+'ap,\x200).x;\x0a'+'\x20\x20\x20\x20int\x20in'+'dex\x20=\x20int('+'indexFloat'+'\x20+\x200.5)\x20*\x20'+'3;\x0a\x20\x20\x20\x20int'+'\x20iy\x20=\x20inde'+'x\x20/\x20width;'+'\x0a\x20\x20\x20\x20int\x20i'+'x\x20=\x20index\x20'+'%\x20width;\x0a\x0a'+'\x20\x20\x20\x20//\x20rea'+'d\x20elements'+'\x20of\x204x3\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20v1\x20=\x20t'+'exelFetch('+'texture_po'+'seMap,\x20ive'+'c2(ix\x20+\x200,'+'\x20iy),\x200);\x0a'+'\x20\x20\x20\x20vec4\x20v'+'2\x20=\x20texelF'+'etch(textu'+'re_poseMap'+',\x20ivec2(ix'+'\x20+\x201,\x20iy),'+'\x200);\x0a\x20\x20\x20\x20v'+'ec4\x20v3\x20=\x20t'+'exelFetch('+'texture_po'+'seMap,\x20ive'+'c2(ix\x20+\x202,'+'\x20iy),\x200);\x0a'+'\x0a\x20\x20\x20\x20//\x20tr'+'anspose\x20to'+'\x204x4\x20matri'+'x\x0a\x20\x20\x20\x20retu'+'rn\x20mat4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'x,\x20v2.x,\x20v'+'3.x,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.y'+',\x20v2.y,\x20v3'+'.y,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.z,'+'\x20v2.z,\x20v3.'+'z,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.w,\x20'+'v2.w,\x20v3.w'+',\x201\x0a\x20\x20\x20\x20);'+'\x0a}\x0a',v2='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_boneWe'+'ights;\x0aatt'+'ribute\x20vec'+'4\x20vertex_b'+'oneIndices'+';\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20tex'+'ture_poseM'+'ap;\x0a\x0avoid\x20'+'getBoneMat'+'rix(const\x20'+'in\x20int\x20wid'+'th,\x20const\x20'+'in\x20int\x20ind'+'ex,\x20out\x20ve'+'c4\x20v1,\x20out'+'\x20vec4\x20v2,\x20'+'out\x20vec4\x20v'+'3)\x20{\x0a\x0a\x20\x20\x20\x20'+'int\x20v\x20=\x20in'+'dex\x20/\x20widt'+'h;\x0a\x20\x20\x20\x20int'+'\x20u\x20=\x20index'+'\x20%\x20width;\x0a'+'\x0a\x20\x20\x20\x20v1\x20=\x20'+'texelFetch'+'(texture_p'+'oseMap,\x20iv'+'ec2(u\x20+\x200,'+'\x20v),\x200);\x0a\x20'+'\x20\x20\x20v2\x20=\x20te'+'xelFetch(t'+'exture_pos'+'eMap,\x20ivec'+'2(u\x20+\x201,\x20v'+'),\x200);\x0a\x20\x20\x20'+'\x20v3\x20=\x20texe'+'lFetch(tex'+'ture_poseM'+'ap,\x20ivec2('+'u\x20+\x202,\x20v),'+'\x200);\x0a}\x0a\x0ama'+'t4\x20getSkin'+'Matrix(con'+'st\x20in\x20vec4'+'\x20indicesFl'+'oat,\x20const'+'\x20in\x20vec4\x20w'+'eights)\x20{\x0a'+'\x0a\x20\x20\x20\x20int\x20w'+'idth\x20=\x20tex'+'tureSize(t'+'exture_pos'+'eMap,\x200).x'+';\x0a\x20\x20\x20\x20ivec'+'4\x20indices\x20'+'=\x20ivec4(in'+'dicesFloat'+'\x20+\x200.5)\x20*\x20'+'3;\x0a\x0a\x20\x20\x20\x20//'+'\x20get\x204\x20bon'+'e\x20matrices'+'\x0a\x20\x20\x20\x20vec4\x20'+'a1,\x20a2,\x20a3'+';\x0a\x20\x20\x20\x20getB'+'oneMatrix('+'width,\x20ind'+'ices.x,\x20a1'+',\x20a2,\x20a3);'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20b1,\x20b2,\x20b'+'3;\x0a\x20\x20\x20\x20get'+'BoneMatrix'+'(width,\x20in'+'dices.y,\x20b'+'1,\x20b2,\x20b3)'+';\x0a\x0a\x20\x20\x20\x20vec'+'4\x20c1,\x20c2,\x20'+'c3;\x0a\x20\x20\x20\x20ge'+'tBoneMatri'+'x(width,\x20i'+'ndices.z,\x20'+'c1,\x20c2,\x20c3'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20d1,\x20d2,'+'\x20d3;\x0a\x20\x20\x20\x20g'+'etBoneMatr'+'ix(width,\x20'+'indices.w,'+'\x20d1,\x20d2,\x20d'+'3);\x0a\x0a\x20\x20\x20\x20/'+'/\x20multiply'+'\x20them\x20by\x20w'+'eights\x20and'+'\x20add\x20up\x20to'+'\x20get\x20final'+'\x204x3\x20matri'+('x\x0a\x20\x20\x20\x20vec4'+'\x20v1\x20=\x20a1\x20*'+'\x20weights.x'+'\x20+\x20b1\x20*\x20we'+'ights.y\x20+\x20'+'c1\x20*\x20weigh'+'ts.z\x20+\x20d1\x20'+'*\x20weights.'+'w;\x0a\x20\x20\x20\x20vec'+'4\x20v2\x20=\x20a2\x20'+'*\x20weights.'+'x\x20+\x20b2\x20*\x20w'+'eights.y\x20+'+'\x20c2\x20*\x20weig'+'hts.z\x20+\x20d2'+'\x20*\x20weights'+'.w;\x0a\x20\x20\x20\x20ve'+'c4\x20v3\x20=\x20a3'+'\x20*\x20weights'+'.x\x20+\x20b3\x20*\x20'+'weights.y\x20'+'+\x20c3\x20*\x20wei'+'ghts.z\x20+\x20d'+'3\x20*\x20weight'+'s.w;\x0a\x0a\x20\x20\x20\x20'+'//\x20add\x20up\x20'+'weights\x0a\x20\x20'+'\x20\x20float\x20on'+'e\x20=\x20dot(we'+'ights,\x20vec'+'4(1.0));\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nspose\x20to\x20'+'4x4\x20matrix'+'\x0a\x20\x20\x20\x20retur'+'n\x20mat4(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.x'+',\x20v2.x,\x20v3'+'.x,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.y,'+'\x20v2.y,\x20v3.'+'y,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.z,\x20'+'v2.z,\x20v3.z'+',\x200,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20v1.w,\x20v'+'2.w,\x20v3.w,'+'\x20one\x0a\x20\x20\x20\x20)'+';\x0a}\x0a'),x2='\x0a\x20\x20\x20\x20#defi'+'ne\x20LIT_SKY'+'BOX_INTENS'+'ITY\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22e'+'nvProcPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20float\x20v'+'LinearDept'+'h;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22floatAsUi'+'ntPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20varying\x20'+'vec3\x20vView'+'Dir;\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20skyboxH'+'ighlightMu'+'ltiplier;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SKY_CUBE'+'MAP\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20samplerCu'+'be\x20texture'+'_cubeMap;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SKYM'+'ESH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec3\x20v'+'WorldPos;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'mat3\x20cubeM'+'apRotation'+'Matrix;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20project'+'edSkydomeC'+'enter;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#el'+'se\x20//\x20env-'+'atlas\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22spher'+'icalPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22envA'+'tlasPS\x22\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mipLe'+'vel;\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20outpu'+'t\x20linear\x20d'+'epth\x20durin'+'g\x20prepass\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20flo'+'at2vec4(vL'+'inearDepth'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20SK'+'Y_CUBEMAP\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SKYMES'+'H\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20get\x20'+'vector\x20fro'+'m\x20world\x20sp'+'ace\x20pos\x20to'+('\x20tripod\x20or'+'igin\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'envDir\x20=\x20n'+'ormalize(v'+'WorldPos\x20-'+'\x20projected'+'SkydomeCen'+'ter);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20env'+'Dir\x20*\x20cube'+'MapRotatio'+'nMatrix;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20vViewD'+'ir;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dir.x'+'\x20*=\x20-1.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20linear\x20=\x20'+'{SKYBOX_DE'+'CODE_FNC}('+'textureCub'+'e(texture_'+'cubeMap,\x20d'+'ir));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x20//\x20en'+'v-atlas\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20vVie'+'wDir\x20*\x20vec'+'3(-1.0,\x201.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20toSph'+'ericalUv(n'+'ormalize(d'+'ir));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'near\x20=\x20{SK'+'YBOX_DECOD'+'E_FNC}(tex'+'ture2D(tex'+'ture_envAt'+'las,\x20mapRo'+'ughnessUv('+'uv,\x20mipLev'+'el)));\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20our\x20HDR'+'\x20encodes\x20v'+'alues\x20up\x20t'+'o\x2064,\x20so\x20a'+'llow\x20extra'+'\x20brightnes'+'s\x20for\x20the\x20'+'clipped\x20va'+'lues\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(any(great'+'erThanEqua'+'l(linear,\x20'+'vec3(64.0)'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20linear\x20*'+'=\x20skyboxHi'+'ghlightMul'+'tiplier;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(toneM'+'ap(process'+'Environmen'+'t(linear))'+'),\x201.0);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20}'+'\x0a'),T2='\x0aattribute'+'\x20vec4\x20aPos'+'ition;\x0a\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tionSkybox'+';\x0auniform\x20'+'mat3\x20cubeM'+'apRotation'+'Matrix;\x0a\x0av'+'arying\x20vec'+'3\x20vViewDir'+';\x0a\x0a#ifdef\x20'+'PREPASS_PA'+'SS\x0a\x20\x20\x20\x20//\x20'+'when\x20skydo'+'me\x20renders'+'\x20depth\x20dur'+'ing\x20prepas'+'s,\x20generat'+'e\x20linear\x20d'+'epth\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20vLinear'+'Depth;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20SKYMESH\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec3\x20vW'+'orldPos;\x0a#'+'endif\x0a\x0avoi'+'d\x20main(voi'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'mat4\x20view\x20'+'=\x20matrix_v'+'iew;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20SKY'+'MESH\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec4\x20w'+'orldPos\x20=\x20'+'matrix_mod'+'el\x20*\x20aPosi'+'tion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vWorld'+'Pos\x20=\x20worl'+'dPos.xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20'+'=\x20matrix_p'+'rojectionS'+'kybox\x20*\x20(v'+'iew\x20*\x20worl'+'dPos);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20PREPASS'+'_PASS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20linear\x20de'+'pth\x20from\x20t'+'he\x20worldPo'+'sition,\x20se'+'e\x20getLinea'+'rDepth\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'LinearDept'+'h\x20=\x20-(matr'+'ix_view\x20*\x20'+'vec4(vWorl'+'dPos,\x201.0)'+').z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'view[3][0]'+'\x20=\x20view[3]'+'[1]\x20=\x20view'+'[3][2]\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20matr'+'ix_project'+'ionSkybox\x20'+'*\x20(view\x20*\x20'+'aPosition)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vViewDir\x20='+'\x20aPosition'+'.xyz\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20//\x20for\x20in'+'finite\x20sky'+'box,\x20use\x20n'+'egative\x20gl'+'_Position.'+'w\x20to\x20get\x20p'+'ositive\x20li'+'near\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vLinear'+'Depth\x20=\x20-g'+'l_Position'+'.w;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20Fo'+'rce\x20skybox'+'\x20to\x20far\x20Z,'+'\x20regardles'+'s\x20of\x20the\x20c'+'lip\x20planes'+'\x20on\x20the\x20ca'+'mera\x0a\x20\x20\x20\x20/'+'/\x20Subtract'+'\x20a\x20tiny\x20fu'+'dge\x20factor'+'\x20to\x20ensure'+'\x20floating\x20'+'point\x20erro'+'rs\x20don\x27t\x0a\x20'+'\x20\x20\x20//\x20stil'+'l\x20push\x20pix'+'els\x20beyond'+'\x20far\x20Z.\x20Se'+'e:\x0a\x20\x20\x20\x20//\x20'+'https://co'+'mmunity.kh'+'ronos.org/'+'t/skybox-p'+'roblem/618'+'57\x0a\x0a\x20\x20\x20\x20gl'+'_Position.'+'z\x20=\x20gl_Pos'+'ition.w\x20-\x20'+'1.0e-7;\x0a}\x0a'),w2='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'R_CONSTANT'+'\x0auniform\x20v'+'ec3\x20materi'+'al_specula'+'r;\x0a#endif\x0a'+'\x0avoid\x20getS'+'pecularity'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20specul'+'arColor\x20=\x20'+'vec3(1,1,1'+');\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20specularC'+'olor\x20*=\x20ma'+'terial_spe'+'cular;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SPECUL'+'AR_TEXTURE'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20{STD_SPE'+'CULAR_TEXT'+'URE_DECODE'+'}(texture2'+'DBias({STD'+'_SPECULAR_'+'TEXTURE_NA'+'ME},\x20{STD_'+'SPECULAR_T'+'EXTURE_UV}'+',\x20textureB'+'ias)).{STD'+'_SPECULAR_'+'TEXTURE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_SPECU'+'LAR_VERTEX'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.{STD_S'+'PECULAR_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20dSpecula'+'rity\x20=\x20spe'+'cularColor'+';\x0a}\x0a',E2='\x0a//\x20equire'+'ctangular\x20'+'helper\x20fun'+'ctions\x0avec'+'2\x20toSpheri'+'cal(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(dir.xz\x20='+'=\x20vec2(0.0'+')\x20?\x200.0\x20:\x20'+'atan(dir.x'+',\x20dir.z),\x20'+'asin(dir.y'+'));\x0a}\x0a\x0avec'+'2\x20toSpheri'+'calUv(vec3'+'\x20dir)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PI\x20=\x203'+'.141592653'+'589793;\x0a\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20toSpheri'+'cal(dir)\x20/'+'\x20vec2(PI\x20*'+'\x202.0,\x20PI)\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20return\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+';\x0a}\x0a',b2='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'RITYFACTOR'+'_CONSTANT\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_specula'+'rityFactor'+';\x0a#endif\x0a\x0a'+'void\x20getSp'+'ecularityF'+'actor()\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'specularit'+'yFactor\x20=\x20'+'1.0;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULARI'+'TYFACTOR_C'+'ONSTANT\x0a\x20\x20'+'\x20\x20specular'+'ityFactor\x20'+'*=\x20materia'+'l_specular'+'ityFactor;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_SP'+'ECULARITYF'+'ACTOR_TEXT'+'URE\x0a\x20\x20\x20\x20sp'+'ecularityF'+'actor\x20*=\x20t'+'exture2DBi'+'as({STD_SP'+'ECULARITYF'+'ACTOR_TEXT'+'URE_NAME},'+'\x20{STD_SPEC'+'ULARITYFAC'+'TOR_TEXTUR'+'E_UV},\x20tex'+'tureBias).'+'{STD_SPECU'+'LARITYFACT'+'OR_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_SP'+'ECULARITYF'+'ACTOR_VERT'+'EX\x0a\x20\x20\x20\x20spe'+'cularityFa'+'ctor\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SPECU'+'LARITYFACT'+'OR_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20dSp'+'ecularityF'+'actor\x20=\x20sp'+'ecularityF'+'actor;\x0a}\x0a',A2='\x0afloat\x20get'+'SpotEffect'+'(vec3\x20ligh'+'tSpotDir,\x20'+'float\x20ligh'+'tInnerCone'+'Angle,\x20flo'+'at\x20lightOu'+'terConeAng'+'le,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20cosAn'+'gle\x20=\x20dot('+'lightDirNo'+'rm,\x20lightS'+'potDir);\x0a\x20'+'\x20\x20\x20return\x20'+'smoothstep'+'(lightOute'+'rConeAngle'+',\x20lightInn'+'erConeAngl'+'e,\x20cosAngl'+'e);\x0a}\x0a',C2='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vec2(vUv0.'+'x,\x201.0\x20-\x20v'+'Uv0.y);\x0a',P2='\x0a\x20\x20\x20\x20vec2\x20'+'tileMask\x20='+'\x20step(vMas'+'k,\x20vec2(0.'+'99999));\x0a\x20'+'\x20\x20\x20vec2\x20ti'+'leSize\x20=\x200'+'.5\x20*\x20(inne'+'rOffset.xy'+'\x20+\x20innerOf'+'fset.zw);\x0a'+'\x20\x20\x20\x20vec2\x20t'+'ileScale\x20='+'\x20vec2(1.0)'+'\x20/\x20(vec2(1'+'.0)\x20-\x20tile'+'Size);\x0a\x20\x20\x20'+'\x20vec2\x20clam'+'pedUv\x20=\x20mi'+'x(innerOff'+'set.xy\x20*\x200'+'.5,\x20vec2(1'+'.0)\x20-\x20inne'+'rOffset.zw'+'\x20*\x200.5,\x20fr'+'act((vTile'+'dUv\x20-\x20tile'+'Size)\x20*\x20ti'+'leScale));'+'\x0a\x20\x20\x20\x20clamp'+'edUv\x20=\x20cla'+'mpedUv\x20*\x20a'+'tlasRect.z'+'w\x20+\x20atlasR'+'ect.xy;\x0a\x20\x20'+'\x20\x20nineSlic'+'edUv\x20=\x20vUv'+'0\x20*\x20tileMa'+'sk\x20+\x20clamp'+'edUv\x20*\x20(ve'+'c2(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x20\x20\x20\x20\x0a',M2='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobals\x0a\x20\x20\x20'+'\x20float\x20dAl'+'pha\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_OPAC'+'ITY_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_o'+'pacityMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20F'+'ORWARD_PAS'+'S\x20//\x20-----'+'----------'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20global'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dAlbe'+'do;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20dNo'+'rmalW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dSpeculari'+'ty\x20=\x20vec3('+'0.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'dGlossines'+'s\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFRACTION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20dT'+'ransmissio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20dThicknes'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SC'+'ENE_COLOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'uSceneColo'+'rMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SCREEN_SI'+'ZE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20uS'+'creenSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_TRAN'+'SFORMS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20mat'+'4\x20matrix_v'+'iewProject'+'ion;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_mod'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20parallax\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_H'+'EIGHT_MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20dUv'+'Offset;\x0a\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSE_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_he'+'ightMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20diffu'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSE_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20tex'+'ture_diffu'+'seMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSED'+'ETAIL_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_diffuseDe'+'tailMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_normal'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'NORMALDETA'+'IL_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_no'+'rmalDetail'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20refracti'+'on\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_THICKNES'+'S_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_thi'+'cknessMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_REFRA'+'CTION_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_refractio'+'nMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20iridesc'+'ence\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_IRIDES'+'CENCE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20dIride'+'scence;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dIri'+'descenceTh')+('ickness;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_IRIDESC'+'ENCE_THICK'+'NESS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_irides'+'cenceThick'+'nessMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_IRIDESCEN'+'CE_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20textur'+'e_iridesce'+'nceMap;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'ccSpecular'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20ccGloss'+'iness;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20ccNorm'+'alW;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20dAnisotro'+'py;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20dAnisotro'+'pyRotation'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20&\x20glossin'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_OR_REFLE'+'CTION\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20sheen\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sS'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20sGloss'+'iness;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_SHEEN'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_sheenM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_sh'+'eenGlossMa')+('p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20metalness'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dMet'+'alness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'dIor;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_METALN'+'ESS_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_met'+'alnessMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20dSpecula'+'rityFactor'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_speculari'+'tyFactorMa'+'p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20specular\x20'+'color\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_CO'+'LOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULAR_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20textu'+'re_specula'+'rMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20gloss\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_GLOSS_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_gl'+'ossMap;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20//\x20ao\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dAo'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_aoM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AODE'+'TAIL_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_aoDeta'+'ilMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dEmis'+'sion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_EMISS'+'IVE_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_e'+'missiveMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'learcoat\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_CL'+'EARCOAT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_CLEARCOAT'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20texture_'+'clearCoatM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20texture_'+'clearCoatG'+'lossMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_CLEARCOAT'+'NORMAL_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20te'+'xture_clea'+'rCoatNorma'+'lMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'anisotropy'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde')+('f\x20STD_ANIS'+'OTROPY_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20te'+'xture_anis'+'otropyMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20lig'+'htmap\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(STD_'+'LIGHTMAP)\x20'+'||\x20defined'+'(STD_LIGHT'+'_VERTEX_CO'+'LOR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20dLightma'+'p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_LIGH'+'T_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_lightMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20front\x20'+'end\x20output'+'s\x20to\x20lit\x20s'+'hader\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'litShaderC'+'orePS\x22\x0a'),D2='\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22opaci'+'tyPS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22alpha'+'TestPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dithe'+'ring\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20STD'+'_OPACITY_D'+'ITHER\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22opac'+'ityDitherP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20FORWARD_P'+'ASS\x20//\x20---'+'----------'+'---\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20para'+'llax\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_HEIGHT'+'_MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'allaxPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x20\x22diffuse'+'PS\x22\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malMapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ref'+'raction\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'RACTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'transmissi'+'onPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22th'+'icknessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_I'+'RIDESCENCE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22iridesc'+'encePS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'iridescenc'+'eThickness'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+('\x20speculari'+'ty\x20&\x20gloss'+'iness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_OR_REF'+'LECTION\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22sheen'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sheenGloss'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'etalness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_METALNES'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ior'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22spec'+'ularityFac'+'torPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22specularP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20voi'+'d\x20getSpecu'+'larity()\x20{'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rity\x20=\x20vec'+'3(1);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20g'+'loss\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22glo'+'ssPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20ao\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'aoPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'emissivePS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20clearc'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO')+('AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22clear'+'CoatPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'clearCoatG'+'lossPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'clearCoatN'+'ormalPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20anis'+'otropy\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_SPECULAR)'+'\x20&&\x20define'+'d(LIT_LIGH'+'TING)\x20&&\x20d'+'efined(LIT'+'_GGX_SPECU'+'LAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ani'+'sotropyPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20li'+'ghtmap\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(STD'+'_LIGHTMAP)'+'\x20||\x20define'+'d(STD_LIGH'+'T_VERTEX_C'+'OLOR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'ghtmapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20void\x20eval'+'uateFronte'+'nd()\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIT'+'_BLEND_TYP'+'E\x20!=\x20NONE\x20'+'||\x20defined'+'(LIT_ALPHA'+'_TEST)\x20||\x20'+'defined(LI'+'T_ALPHA_TO'+'_COVERAGE)'+'\x20||\x20STD_OP'+'ACITY_DITH'+'ER\x20!=\x20NONE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getOpac'+'ity();\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_ALPH'+'A_TEST)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20alphaT'+'est(dAlpha'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20S'+'TD_OPACITY'+'_DITHER\x20!='+'\x20NONE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20opacityD'+'ither(dAlp'+'ha,\x200.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'opacity\x20=\x20'+'dAlpha;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20F'+'ORWARD_PAS'+'S\x20//\x20-----'+'----------'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20pa'+'rallax\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'HEIGHT_MAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Parallax()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20dif'+'fuse\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Albedo();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'albedo\x20=\x20d'+'Albedo;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20normal'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_NEEDS_'+'NORMAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getNorm'+'al();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'worldNorma'+'l\x20=\x20dNorma'+'lW;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20r'+'efraction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_REFRACT'+'ION\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getRefract'+'ion();\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_transmiss'+'ion\x20=\x20dTra'+'nsmission;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tThickness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_th'+'ickness\x20=\x20'+'dThickness'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'DISPERSION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_d'+'ispersion\x20'+'=\x20material'+'_dispersio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20iridescen'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_IRID'+'ESCENCE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getIri'+'descence()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tIridescen'+'ceThicknes'+'s();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_i'+'ridescence'+'_intensity'+'\x20=\x20dIrides'+'cence;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_iridescen'+'ce_thickne'+'ss\x20=\x20dIrid'+'escenceThi'+'ckness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('//\x20specula'+'rity\x20&\x20glo'+'ssiness\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR_'+'OR_REFLECT'+'ION\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getShee'+'n();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_sheen_s'+'pecularity'+'\x20=\x20sSpecul'+'arity;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'SheenGloss'+'iness();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_she'+'en_gloss\x20='+'\x20sGlossine'+'ss;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20met'+'alness\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getMet'+'alness();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_me'+'talness\x20=\x20'+'dMetalness'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getIor()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'ior\x20=\x20dIor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20specu'+'larity\x20fac'+'tor\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSpecula'+'rityFactor'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_specular'+'ityFactor\x20'+'=\x20dSpecula'+'rityFactor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20gloss'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Glossiness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSpecula'+'rity();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20dSpe'+'cularity;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_gloss\x20'+'=\x20dGlossin')+('ess;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'ao\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getAO'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_ao'+'\x20=\x20dAo;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getEmi'+'ssion();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_e'+'mission\x20=\x20'+'dEmission;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cle'+'arcoat\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getC'+'learCoat()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tClearCoat'+'Glossiness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getClearCo'+'atNormal()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_clea'+'rcoat_spec'+'ularity\x20=\x20'+'ccSpecular'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_g'+'loss\x20=\x20ccG'+'lossiness;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_clear'+'coat_world'+'Normal\x20=\x20c'+'cNormalW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20aniso'+'tropy\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_SPECUL'+'AR)\x20&&\x20def'+'ined(LIT_L'+'IGHTING)\x20&'+'&\x20defined('+'LIT_GGX_SP'+'ECULAR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getAni'+'sotropy();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20ligh'+'tmap\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(S'+'TD_LIGHTMA'+'P)\x20||\x20defi'+'ned(STD_LI'+'GHT_VERTEX'+'_COLOR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getLig'+'htMap();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_lightma'+'p\x20=\x20dLight'+'map;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_lightm'+'apDir\x20=\x20dL'+'ightmapDir'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20}\x0a'),I2='\x0a\x0a#ifdef\x20L'+'IT_TANGENT'+'S\x0a\x20\x20\x20\x20#def'+'ine\x20TBN_TA'+'NGENTS\x0a#el'+'se\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_USE_NOR'+'MALS)\x20||\x20d'+'efined(LIT'+'_USE_CLEAR'+'COAT_NORMA'+'LS)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'TBN_DERIVA'+'TIVES\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(TBN'+'_DERIVATIV'+'ES)\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20tbnBasis'+';\x0a#endif\x0a\x0a'+'void\x20getTB'+'N(vec3\x20tan'+'gent,\x20vec3'+'\x20binormal,'+'\x20vec3\x20norm'+'al)\x20{\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20TB'+'N_TANGENTS'+'\x20//\x20tangen'+'ts\x20/\x20binor'+'mals\x20based'+'\x20TBN\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3(norm'+'alize(tang'+'ent),\x20norm'+'alize(bino'+'rmal),\x20nor'+'malize(nor'+'mal));\x0a\x0a\x20\x20'+'\x20\x20#elif\x20de'+'fined(TBN_'+'DERIVATIVE'+'S)\x20//\x20deri'+'vatives\x20ba'+'sed\x20TBN\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20{li'+'ghtingUv};'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20get\x20edg'+'e\x20vectors\x20'+'of\x20the\x20pix'+'el\x20triangl'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dp1\x20='+'\x20dFdx(\x20vPo'+'sitionW\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20dp2\x20=\x20'+'dFdy(\x20vPos'+'itionW\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20duv1\x20=\x20'+'dFdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20duv2\x20'+'=\x20dFdy(\x20uv'+'\x20);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20solv'+'e\x20the\x20line'+'ar\x20system\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20dp2perp'+'\x20=\x20cross(\x20'+'dp2,\x20norma'+'l\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20dp'+'1perp\x20=\x20cr'+'oss(\x20norma'+'l,\x20dp1\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20T\x20=\x20dp2'+'perp\x20*\x20duv'+'1.x\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20B\x20='+'\x20dp2perp\x20*'+'\x20duv1.y\x20+\x20'+'dp1perp\x20*\x20'+'duv2.y;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'construct\x20'+'a\x20scale-in'+'variant\x20fr'+('ame\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20de'+'nom\x20=\x20max('+'\x20dot(T,T),'+'\x20dot(B,B)\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20inv'+'max\x20=\x20(den'+'om\x20==\x200.0)'+'\x20?\x200.0\x20:\x20t'+'bnBasis\x20/\x20'+'sqrt(\x20deno'+'m\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3(T\x20*\x20i'+'nvmax,\x20-B\x20'+'*\x20invmax,\x20'+'normal\x20);\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x20//\x20object'+'\x20space\x20TBN'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20B\x20=\x20c'+'ross(norma'+'l,\x20vObject'+'SpaceUpW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20T\x20=\x20cr'+'oss(normal'+',\x20B);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(d'+'ot(B,B)==0'+'.0)\x20//\x20dea'+'l\x20with\x20cas'+'e\x20when\x20vOb'+'jectSpaceU'+'pW\x20normal\x20'+'are\x20parall'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20major=max'+'(max(norma'+'l.x,\x20norma'+'l.y),\x20norm'+'al.z);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(normal'+'.x\x20==\x20majo'+'r)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20B\x20=\x20cro'+'ss(normal,'+'\x20vec3(0,1,'+'0));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20T\x20=\x20cross'+'(normal,\x20B'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20e'+'lse\x20if\x20(no'+'rmal.y\x20==\x20'+'major)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B\x20='+'\x20cross(nor'+'mal,\x20vec3('+'0,0,1));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20T\x20=\x20c'+'ross(norma'+'l,\x20B);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x20if'+'\x20(normal.z'+'\x20==\x20major)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20B\x20=\x20cross'+'(normal,\x20v'+'ec3(1,0,0)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3(norm'+'alize(T),\x20'+'normalize('+'B),\x20normal'+'ize(normal'+'));\x0a\x0a\x20\x20\x20\x20#')+'endif\x0a}\x0a',L2='\x0a#ifdef\x20ST'+'D_THICKNES'+'S_CONSTANT'+'\x0auniform\x20f'+'loat\x20mater'+'ial_thickn'+'ess;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tThickness'+'()\x20{\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_THICKNE'+'SS_CONSTAN'+'T\x0a\x20\x20\x20\x20dThi'+'ckness\x20*=\x20'+'material_t'+'hickness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_THI'+'CKNESS_TEX'+'TURE\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'*=\x20texture'+'2DBias({ST'+'D_THICKNES'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_THICKNES'+'S_TEXTURE_'+'UV},\x20textu'+'reBias).{S'+'TD_THICKNE'+'SS_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_TH'+'ICKNESS_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'*=\x20saturat'+'e(vVertexC'+'olor.{STD_'+'THICKNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',R2='\x0a\x0a#if\x20(TON'+'EMAP\x20==\x20NO'+'NE)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22to'+'nemappingN'+'onePS\x22\x0a#el'+'if\x20TONEMAP'+'\x20==\x20FILMIC'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingFilm'+'icPS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20LINEAR\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingLinea'+'rPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20HEJL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngHejlPS\x22\x0a'+'#elif\x20TONE'+'MAP\x20==\x20ACE'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22tone'+'mappingAce'+'sPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20ACES2\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingAces2PS'+'\x22\x0a#elif\x20TO'+'NEMAP\x20==\x20N'+'EUTRAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngNeutralP'+'S\x22\x0a#endif\x0a'+'\x0a',O2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20tA\x20=\x202.'+'51;\x0a\x20\x20\x20\x20fl'+'oat\x20tB\x20=\x200'+'.03;\x0a\x20\x20\x20\x20f'+'loat\x20tC\x20=\x20'+'2.43;\x0a\x20\x20\x20\x20'+'float\x20tD\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20float\x20tE\x20'+'=\x200.14;\x0a\x20\x20'+'\x20\x20vec3\x20x\x20='+'\x20color\x20*\x20e'+'xposure;\x0a\x20'+'\x20\x20\x20return\x20'+'(x*(tA*x+t'+'B))/(x*(tC'+'*x+tD)+tE)'+';\x0a}\x0a',F2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0a//\x20A'+'CES\x20approx'+'imation\x20by'+'\x20Stephen\x20H'+'ill\x0a\x0a//\x20sR'+'GB\x20=>\x20XYZ\x20'+'=>\x20D65_2_D'+'60\x20=>\x20AP1\x20'+'=>\x20RRT_SAT'+'\x0aconst\x20mat'+'3\x20ACESInpu'+'tMat\x20=\x20mat'+'3(\x0a\x20\x20\x20\x200.5'+'9719,\x200.35'+'458,\x200.048'+'23,\x0a\x20\x20\x20\x200.'+'07600,\x200.9'+'0834,\x200.01'+'566,\x0a\x20\x20\x20\x200'+'.02840,\x200.'+'13383,\x200.8'+'3777\x0a);\x0a\x0a/'+'/\x20ODT_SAT\x20'+'=>\x20XYZ\x20=>\x20'+'D60_2_D65\x20'+'=>\x20sRGB\x0aco'+'nst\x20mat3\x20A'+'CESOutputM'+'at\x20=\x20mat3('+'\x0a\x20\x20\x20\x20\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367,\x0a\x20\x20\x20\x20-'+'0.10208,\x20\x20'+'1.10813,\x20-'+'0.00605,\x0a\x20'+'\x20\x20\x20-0.0032'+'7,\x20-0.0727'+'6,\x20\x201.0760'+'2\x0a);\x0a\x0avec3'+'\x20RRTAndODT'+'Fit(vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20a\x20=\x20v\x20*'+'\x20(v\x20+\x200.02'+'45786)\x20-\x200'+'.000090537'+';\x0a\x20\x20\x20\x20vec3'+'\x20b\x20=\x20v\x20*\x20('+'0.983729\x20*'+'\x20v\x20+\x200.432'+'9510)\x20+\x200.'+'238081;\x0a\x20\x20'+'\x20\x20return\x20a'+'\x20/\x20b;\x0a}\x0a\x0av'+'ec3\x20toneMa'+'p(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'color\x20*=\x20e'+'xposure\x20/\x20'+'0.6;\x0a\x20\x20\x20\x20c'+'olor\x20=\x20col'+'or\x20*\x20ACESI'+'nputMat;\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20RRT\x20and'+'\x20ODT\x0a\x20\x20\x20\x20c'+'olor\x20=\x20RRT'+'AndODTFit('+'color);\x0a\x20\x20'+'\x20\x20color\x20=\x20'+'color\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20color\x20=\x20c'+'lamp(color'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',N2='\x0aconst\x20flo'+'at\x20A\x20=\x20\x200.'+'15;\x0aconst\x20'+'float\x20B\x20=\x20'+'\x200.50;\x0acon'+'st\x20float\x20C'+'\x20=\x20\x200.10;\x0a'+'const\x20floa'+'t\x20D\x20=\x20\x200.2'+'0;\x0aconst\x20f'+'loat\x20E\x20=\x20\x20'+'0.02;\x0acons'+'t\x20float\x20F\x20'+'=\x20\x200.30;\x0ac'+'onst\x20float'+'\x20W\x20=\x20\x2011.2'+';\x0a\x0auniform'+'\x20float\x20exp'+'osure;\x0a\x0ave'+'c3\x20unchart'+'ed2Tonemap'+'(vec3\x20x)\x20{'+'\x0a\x20\x20\x20return'+'\x20((x*(A*x+'+'C*B)+D*E)/'+'(x*(A*x+B)'+'+D*F))-E/F'+';\x0a}\x0a\x0avec3\x20'+'toneMap(ve'+'c3\x20color)\x20'+'{\x0a\x20\x20\x20\x20colo'+'r\x20=\x20unchar'+'ted2Tonema'+'p(color\x20*\x20'+'exposure);'+'\x0a\x20\x20\x20\x20vec3\x20'+'whiteScale'+'\x20=\x201.0\x20/\x20u'+'ncharted2T'+'onemap(vec'+'3(W,W,W));'+'\x0a\x20\x20\x20\x20color'+'\x20=\x20color\x20*'+'\x20whiteScal'+'e;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',k2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20col'+'or\x20*=\x20expo'+'sure;\x0a\x20\x20\x20\x20'+'const\x20floa'+'t\x20\x20A\x20=\x200.2'+'2,\x20B\x20=\x200.3'+',\x20C\x20=\x20.1,\x20'+'D\x20=\x200.2,\x20E'+'\x20=\x20.01,\x20F\x20'+'=\x200.3;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20Scl\x20=\x201'+'.25;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20h\x20=\x20m'+'ax(\x20vec3(0'+'.0),\x20color'+'\x20-\x20vec3(0.'+'004)\x20);\x0a\x20\x20'+'\x20\x20return\x20('+'h*((Scl*A)'+'*h+Scl*vec'+'3(C*B,C*B,'+'C*B))+Scl*'+'vec3(D*E,D'+'*E,D*E))\x20/'+'\x20(h*(A*h+v'+'ec3(B,B,B)'+')+vec3(D*F'+',D*F,D*F))'+'\x20-\x20Scl*vec'+'3(E/F,E/F,'+'E/F);\x0a}\x0a',U2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20color\x20'+'*\x20exposure'+';\x0a}\x0a',B2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x0a\x20\x20\x20\x20co'+'lor\x20*=\x20exp'+'osure;\x0a\x0a\x20\x20'+'\x20\x20float\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20float\x20d'+'esaturatio'+'n\x20=\x200.15;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20min(c'+'olor.r,\x20mi'+'n(color.g,'+'\x20color.b))'+';\x0a\x20\x20\x20\x20floa'+'t\x20offset\x20='+'\x20x\x20<\x200.08\x20'+'?\x20x\x20-\x206.25'+'\x20*\x20x\x20*\x20x\x20:'+'\x200.04;\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20float\x20p'+'eak\x20=\x20max('+'color.r,\x20m'+'ax(color.g'+',\x20color.b)'+');\x0a\x20\x20\x20\x20if\x20'+'(peak\x20<\x20st'+'artCompres'+'sion)\x20retu'+'rn\x20color;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20d\x20=\x201.\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20float\x20ne'+'wPeak\x20=\x201.'+'\x20-\x20d\x20*\x20d\x20/'+'\x20(peak\x20+\x20d'+'\x20-\x20startCo'+'mpression)'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x20newPe'+'ak\x20/\x20peak;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20g\x20=\x201.\x20-'+'\x201.\x20/\x20(des'+'aturation\x20'+'*\x20(peak\x20-\x20'+'newPeak)\x20+'+'\x201.);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ne'+'wPeak\x20*\x20ve'+'c3(1,\x201,\x201'+'),\x20g);\x0a}\x0a',z2='\x0avec3\x20tone'+'Map(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'olor;\x0a}\x0a',V2='\x0a#ifdef\x20PI'+'XELSNAP\x0aun'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'CREENSPACE'+'\x0auniform\x20f'+'loat\x20proje'+'ctionFlipY'+';\x0a#endif\x0a\x0a'+'vec4\x20evalW'+'orldPositi'+'on(vec3\x20ve'+'rtexPositi'+'on,\x20mat4\x20m'+'odelMatrix'+')\x20{\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localP'+'os\x20=\x20getLo'+'calPositio'+'n(vertexPo'+'sition);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20NINESLICE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20outer\x20a'+'nd\x20inner\x20v'+'ertices\x20ar'+'e\x20at\x20the\x20s'+'ame\x20positi'+'on,\x20scale\x20'+'both\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s.xz\x20*=\x20ou'+'terScale;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nner\x20verti'+'ces\x20inside'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20(origina'+'l\x20vertices'+'\x20must\x20be\x20i'+'n\x20[-1;1]\x20r'+'ange)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20p'+'ositiveUni'+'tOffset\x20=\x20'+'clamp(vert'+'exPosition'+'.xz,\x20vec2('+'0.0),\x20vec2'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20negativeU'+'nitOffset\x20'+'=\x20clamp(-v'+'ertexPosit'+'ion.xz,\x20ve'+'c2(0.0),\x20v'+'ec2(1.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos.xz'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vTiledU'+'v\x20=\x20(local'+'Pos.xz\x20-\x20o'+'uterScale\x20'+'+\x20innerOff'+'set.xy)\x20*\x20'+'-0.5\x20+\x201.0'+';\x20//\x20uv\x20=\x20'+'local\x20pos\x20'+'-\x20inner\x20co'+'rner\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20localP'+'os.xz\x20*=\x20-'+'0.5;\x20//\x20mo'+'ve\x20from\x20-1'+';1\x20to\x20-0.5'+';0.5\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s\x20=\x20localP'+'os.xzy;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20vec4\x20p'+'osW\x20=\x20mode'+'lMatrix\x20*\x20'+'vec4(local'+('Pos,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREENS'+'PACE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20posW.zw'+'\x20=\x20vec2(0.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20posW;\x0a}\x0a'+'\x0avec4\x20getP'+'osition()\x20'+'{\x0a\x0a\x20\x20\x20\x20dMo'+'delMatrix\x20'+'=\x20getModel'+'Matrix();\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'posW\x20=\x20eva'+'lWorldPosi'+'tion(verte'+'x_position'+'.xyz,\x20dMod'+'elMatrix);'+'\x0a\x20\x20\x20\x20dPosi'+'tionW\x20=\x20po'+'sW.xyz;\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'reenPos;\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV1LAYOUT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sc'+'reenPos\x20=\x20'+'vec4(verte'+'x_texCoord'+'1.xy\x20*\x202.0'+'\x20-\x201.0,\x200.'+'5,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20WEBGPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20SCREENSP'+'ACE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos\x20=\x20po'+'sW;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.y\x20*='+'\x20projectio'+'nFlipY;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20matr'+'ix_viewPro'+'jection\x20*\x20'+'posW;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20PIX'+'ELSNAP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20snap\x20ver'+'tex\x20to\x20a\x20p'+'ixel\x20bound'+'ary\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.xy\x20='+'\x20(screenPo'+'s.xy\x20*\x200.5'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.xy\x20*=\x20uSc'+'reenSize.x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.xy\x20*=\x20u'+'ScreenSize'+'.zw;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos.xy\x20'+'=\x20(screenP'+'os.xy\x20*\x202.'+'0)\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20sc'+'reenPos;\x0a}')+('\x0a\x0avec3\x20get'+'WorldPosit'+'ion()\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'PositionW;'+'\x0a}\x0a'),G2='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_positi'+'on;\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0a\x0a#'+'ifdef\x20MORP'+'HING\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20morph_te'+'x_params;\x0a'+'\x20\x20\x20\x20attrib'+'ute\x20uint\x20m'+'orph_verte'+'x_id;\x0a\x0a\x20\x20\x20'+'\x20ivec2\x20get'+'TextureMor'+'phCoords()'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20turn\x20'+'morph_vert'+'ex_id\x20into'+'\x20int\x20grid\x20'+'coordinate'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ivec2\x20text'+'ureSize\x20=\x20'+'ivec2(morp'+'h_tex_para'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20int\x20mor'+'phGridV\x20=\x20'+'int(morph_'+'vertex_id)'+'\x20/\x20texture'+'Size.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20int\x20'+'morphGridU'+'\x20=\x20int(mor'+'ph_vertex_'+'id)\x20-\x20(mor'+'phGridV\x20*\x20'+'textureSiz'+'e.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20flipY\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20morphGrid'+'V\x20=\x20textur'+'eSize.y\x20-\x20'+'morphGridV'+'\x20-\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20ivec'+'2(morphGri'+'dU,\x20morphG'+'ridV);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_POSITI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_INT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20vec3\x20aabb'+'Size;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20aabbMin;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'usampler2D'+'\x20morphPosi'+'tionTex;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20highp\x20s'+'ampler2D\x20m'+'orphPositi'+'onTex;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0a#ifdef\x20de'+'fined(BATC'+'H)\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ski'+'nBatchVS\x22\x0a'+'\x0a\x20\x20\x20\x20mat4\x20'+'getModelMa'+'trix()\x20{\x0a\x20'+('\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getBon'+'eMatrix(ve'+'rtex_boneI'+'ndices);\x0a\x20'+'\x20\x20\x20}\x0a\x0a#eli'+'f\x20defined('+'SKIN)\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'skinVS\x22\x0a\x0a\x20'+'\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20get'+'SkinMatrix'+'(vertex_bo'+'neIndices,'+'\x20vertex_bo'+'neWeights)'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'elif\x20defin'+'ed(INSTANC'+'ING)\x0a\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'transformI'+'nstancingV'+'S\x22\x0a\x0a#else\x0a'+'\x0a\x20\x20\x20\x20mat4\x20'+'getModelMa'+'trix()\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20matrix'+'_model;\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a\x0avec3\x20ge'+'tLocalPosi'+'tion(vec3\x20'+'vertexPosi'+'tion)\x20{\x0a\x0a\x20'+'\x20\x20\x20vec3\x20lo'+'calPos\x20=\x20v'+'ertexPosit'+'ion;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_POSI'+'TION\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'morphUV\x20=\x20'+'getTexture'+'MorphCoord'+'s();\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20MORPHING_'+'INT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20morphPos\x20'+'=\x20vec3(tex'+'elFetch(mo'+'rphPositio'+'nTex,\x20ivec'+'2(morphUV)'+',\x200).xyz)\x20'+'/\x2065535.0\x20'+'*\x20aabbSize'+'\x20+\x20aabbMin'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20morphPo'+'s\x20=\x20texelF'+'etch(morph'+'PositionTe'+'x,\x20ivec2(m'+'orphUV),\x200'+').xyz;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20localPos\x20'+'+=\x20morphPo'+'s;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20loc'+'alPos;\x0a}\x0a\x0a'),H2='\x0a\x0aattribut'+'e\x20vec4\x20ins'+'tance_line'+'1;\x0aattribu'+'te\x20vec4\x20in'+'stance_lin'+'e2;\x0aattrib'+'ute\x20vec4\x20i'+'nstance_li'+'ne3;\x0aattri'+'bute\x20vec4\x20'+'instance_l'+'ine4;\x0a\x0amat'+'4\x20getModel'+'Matrix()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20mat'+'4(instance'+'_line1,\x20in'+'stance_lin'+'e2,\x20instan'+'ce_line3,\x20'+'instance_l'+'ine4);\x0a}\x0a',W2='\x0a\x0a#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0auniform'+'\x20float\x20mat'+'erial_refr'+'action;\x0a#e'+'ndif\x0a\x0avoid'+'\x20getRefrac'+'tion()\x20{\x0a\x20'+'\x20\x20\x20float\x20r'+'efraction\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0a\x20\x20\x20\x20ref'+'raction\x20=\x20'+'material_r'+'efraction;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_RE'+'FRACTION_T'+'EXTURE\x0a\x20\x20\x20'+'\x20refractio'+'n\x20*=\x20textu'+'re2DBias({'+'STD_REFRAC'+'TION_TEXTU'+'RE_NAME},\x20'+'{STD_REFRA'+'CTION_TEXT'+'URE_UV},\x20t'+'extureBias'+').{STD_REF'+'RACTION_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_REFRACT'+'ION_VERTEX'+'\x0a\x20\x20\x20\x20refra'+'ction\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.{STD_REFR'+'ACTION_VER'+'TEX_CHANNE'+'L});\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dTransmis'+'sion\x20=\x20ref'+'raction;\x0a}'+'\x0a',$2='\x0auniform\x20f'+'loat\x20twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0avoi'+'d\x20handleTw'+'oSidedLigh'+'ting()\x20{\x0a\x20'+'\x20\x20\x20dTBN[2]'+'\x20*=\x20gl_Fro'+'ntFacing\x20?'+'\x20twoSidedL'+'ightingNeg'+'ScaleFacto'+'r\x20:\x20-twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0a}\x0a',X2='\x0a#ifdef\x20NI'+'NESLICED\x0a\x20'+'\x20\x20\x20vec2\x20ge'+'tUv0()\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20ver'+'tex_positi'+'on.xz;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20o'+'ffset\x20inne'+'r\x20vertices'+'\x20inside\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20('+'original\x20v'+'ertices\x20mu'+'st\x20be\x20in\x20['+'-1;1]\x20rang'+'e)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20n'+'egativeUni'+'tOffset\x20=\x20'+'clamp(-ver'+'tex_positi'+'on.xz,\x20vec'+'2(0.0),\x20ve'+'c2(1.0));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20-0.5\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20atlasRe'+'ct.zw\x20+\x20at'+'lasRect.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vMask\x20=\x20v'+'ertex_texC'+'oord0.xy;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20uv;\x0a'+'\x20\x20\x20\x20}\x0a#els'+'e\x0a\x20\x20\x20\x20vec2'+'\x20getUv0()\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20ver'+'tex_texCoo'+'rd0;\x0a\x20\x20\x20\x20}'+'\x0a#endif\x0a',q2='\x0avec2\x20getU'+'v1()\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'rtex_texCo'+'ord1;\x0a}\x0a',j2='\x0avUV{TRANS'+'FORM_UV_{i'+'}}_{TRANSF'+'ORM_ID_{i}'+'}\x20=\x20vec2(\x0a'+'\x20\x20\x20\x20dot(ve'+'c3(uv{TRAN'+'SFORM_UV_{'+'i}},\x201),\x20{'+'TRANSFORM_'+'NAME_{i}}0'+'),\x0a\x20\x20\x20\x20dot'+'(vec3(uv{T'+'RANSFORM_U'+'V_{i}},\x201)'+',\x20{TRANSFO'+'RM_NAME_{i'+'}}1)\x0a);\x0a',Y2='\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20{T'+'RANSFORM_N'+'AME_{i}}0;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20{T'+'RANSFORM_N'+'AME_{i}}1;'+'\x0a',K2='\x0avoid\x20getV'+'iewDir()\x20{'+'\x0a\x20\x20\x20\x20dView'+'DirW\x20=\x20nor'+'malize(vie'+'w_position'+'\x20-\x20vPositi'+'onW);\x0a}\x0a',Z2={'alphaTestPS':YC,'ambientPS':KC,'anisotropyPS':ZC,'aoPS':QC,'aoDiffuseOccPS':JC,'aoSpecOccPS':e1,'bakeDirLmEndPS':t1,'bakeLmEndPS':s1,'basePS':i1,'baseNineSlicedPS':r1,'baseNineSlicedTiledPS':a1,'bayerPS':n1,'blurVSMPS':o1,'clearCoatPS':l1,'clearCoatGlossPS':c1,'clearCoatNormalPS':h1,'clusteredLightCookiesPS':f1,'clusteredLightShadowsPS':u1,'clusteredLightUtilsPS':d1,'clusteredLightPS':p1,'combinePS':m1,'cookieBlit2DPS':_1,'cookieBlitCubePS':g1,'cookieBlitVS':S1,'cookiePS':y1,'cubeMapProjectPS':v1,'cubeMapRotatePS':x1,'debugOutputPS':T1,'debugProcessFrontendPS':w1,'detailModesPS':b1,'diffusePS':A1,'decodePS':E1,'emissivePS':C1,'encodePS':P1,'endPS':M1,'envAtlasPS':D1,'envProcPS':I1,'falloffInvSquaredPS':L1,'falloffLinearPS':R1,'floatAsUintPS':O1,'fogPS':F1,'fresnelSchlickPS':N1,'frontendCodePS':'','frontendDeclPS':'','fullscreenQuadVS':k1,'gammaPS':U1,'gles3PS':Vy,'gles3VS':Gy,'glossPS':B1,'gsplatCenterVS':z1,'gsplatCornerVS':K1,'gsplatColorVS':V1,'gsplatCommonVS':G1,'gsplatCompressedDataVS':H1,'gsplatCompressedSHVS':W1,'gsplatEvalSHVS':$1,'gsplatQuatToMat3VS':X1,'gsplatSogsColorVS':q1,'gsplatSogsDataVS':j1,'gsplatSogsSHVS':Y1,'gsplatDataVS':Z1,'gsplatOutputVS':Q1,'gsplatPS':J1,'gsplatSHVS':eP,'gsplatSourceVS':tP,'gsplatVS':sP,'quadVS':iP,'immediateLinePS':rP,'immediateLineVS':aP,'iridescenceDiffractionPS':nP,'iridescencePS':oP,'iridescenceThicknessPS':lP,'iorPS':cP,'lightDeclarationPS':hP,'lightDiffuseLambertPS':dP,'lightDirPointPS':fP,'lightEvaluationPS':uP,'lightFunctionLightPS':pP,'lightFunctionShadowPS':mP,'lightingPS':_P,'lightmapAddPS':gP,'lightmapPS':SP,'lightSpecularAnisoGGXPS':yP,'lightSpecularBlinnPS':vP,'lightSheenPS':xP,'linearizeDepthPS':TP,'litForwardBackendPS':wP,'litForwardDeclarationPS':EP,'litForwardMainPS':bP,'litForwardPostCodePS':AP,'litForwardPreCodePS':CP,'litMainPS':PP,'litMainVS':MP,'litOtherMainPS':DP,'litShaderArgsPS':IP,'litShaderCorePS':LP,'litShadowMainPS':RP,'litUserDeclarationPS':'','litUserDeclarationVS':'','litUserCodePS':'','litUserCodeVS':'','litUserMainStartPS':'','litUserMainStartVS':'','litUserMainEndPS':'','litUserMainEndVS':'','ltcPS':OP,'metalnessPS':FP,'metalnessModulatePS':kP,'morphPS':UP,'morphVS':BP,'msdfPS':NP,'msdfVS':zP,'normalVS':VP,'normalCoreVS':GP,'normalMapPS':HP,'opacityPS':WP,'opacityDitherPS':$P,'outputPS':XP,'outputAlphaPS':qP,'outputTex2DPS':jP,'sheenPS':YP,'sheenGlossPS':KP,'parallaxPS':ZP,'pickPS':QP,'reflDirPS':JP,'reflDirAnisoPS':e2,'reflectionCCPS':t2,'reflectionCubePS':s2,'reflectionEnvHQPS':i2,'reflectionEnvPS':r2,'reflectionSpherePS':a2,'reflectionSheenPS':n2,'refractionCubePS':o2,'refractionDynamicPS':l2,'reprojectPS':c2,'reprojectVS':h2,'screenDepthPS':d2,'shadowCascadesPS':f2,'shadowEVSMPS':u2,'shadowPCF1PS':p2,'shadowPCF3PS':m2,'shadowPCF5PS':_2,'shadowPCSSPS':g2,'shadowSoftPS':S2,'skinBatchVS':y2,'skinVS':v2,'skyboxPS':x2,'skyboxVS':T2,'specularPS':w2,'sphericalPS':E2,'specularityFactorPS':b2,'spotPS':A2,'startNineSlicedPS':C2,'startNineSlicedTiledPS':P2,'stdDeclarationPS':M2,'stdFrontEndPS':D2,'TBNPS':I2,'thicknessPS':L2,'tonemappingPS':R2,'tonemappingAcesPS':O2,'tonemappingAces2PS':F2,'tonemappingFilmicPS':N2,'tonemappingHejlPS':k2,'tonemappingLinearPS':U2,'tonemappingNeutralPS':B2,'tonemappingNonePS':z2,'transformVS':V2,'transformCoreVS':G2,'transformInstancingVS':H2,'transmissionPS':W2,'twoSidedLightingPS':$2,'uv0VS':X2,'uv1VS':q2,'uvTransformVS':j2,'uvTransformUniformsPS':Y2,'viewDirPS':K2,'webgpuPS':Hy,'webgpuVS':Wy},Q2='\x0auniform\x20a'+'lpha_ref:\x20'+'f32;\x0a\x0afn\x20a'+'lphaTest(a'+':\x20f32)\x20{\x0a\x20'+'\x20\x20\x20if\x20(a\x20<'+'\x20uniform.a'+'lpha_ref)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',J2='\x0a\x0a#if\x20LIT_'+'AMBIENT_SO'+'URCE\x20==\x20AM'+'BIENTSH\x0a\x20\x20'+'\x20\x20uniform\x20'+'ambientSH:'+'\x20array<vec'+'3f,\x209>;\x0a#e'+'ndif\x0a\x0a#if\x20'+'LIT_AMBIEN'+'T_SOURCE\x20='+'=\x20ENVALATL'+'AS\x0a\x20\x20\x20\x20#in'+'clude\x20\x22env'+'AtlasPS\x22\x0a\x0a'+'\x20\x20\x20\x20#ifnde'+'f\x20ENV_ATLA'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20EN'+'V_ATLAS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_en'+'vAtlas:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_envAt'+'lasSampler'+':\x20sampler;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'fn\x20addAmbi'+'ent(worldN'+'ormal:\x20vec'+'3f)\x20{\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_AMBIENT_S'+'OURCE\x20==\x20A'+'MBIENTSH\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20n:\x20vec3f'+'\x20=\x20cubeMap'+'Rotate(wor'+'ldNormal);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20color:\x20'+'vec3f\x20=\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform.am'+'bientSH[0]'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.ambient'+'SH[1]\x20*\x20n.'+'x\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm.ambien'+'tSH[2]\x20*\x20n'+'.y\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form.ambie'+'ntSH[3]\x20*\x20'+'n.z\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform.ambi'+'entSH[4]\x20*'+'\x20n.x\x20*\x20n.z'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.ambient'+'SH[5]\x20*\x20n.'+'z\x20*\x20n.y\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform.'+'ambientSH['+'6]\x20*\x20n.y\x20*'+'\x20n.x\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform.amb'+'ientSH[7]\x20'+'*\x20(3.0\x20*\x20n'+'.z\x20*\x20n.z\x20-'+'\x201.0)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform.am'+'bientSH[8]'+'\x20*\x20(n.x\x20*\x20'+'n.x\x20-\x20n.y\x20'+'*\x20n.y);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20proces'+'sEnvironme'+'nt(max(col'+'or,\x20vec3f('+'0.0)));\x0a\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_AMBIENT'+'_SOURCE\x20=='+('\x20ENVALATLA'+'S\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20dir:\x20'+'vec3f\x20=\x20no'+'rmalize(cu'+'beMapRotat'+'e(worldNor'+'mal)\x20*\x20vec'+'3f(-1.0,\x201'+'.0,\x201.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20uv:\x20vec'+'2f\x20=\x20mapUv'+'(toSpheric'+'alUv(dir),'+'\x20vec4f(128'+'.0,\x20256.0\x20'+'+\x20128.0,\x206'+'4.0,\x2032.0)'+'\x20/\x20atlasSi'+'ze);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20ra'+'w:\x20vec4f\x20='+'\x20textureSa'+'mple(textu'+'re_envAtla'+'s,\x20texture'+'_envAtlasS'+'ampler,\x20uv'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20linea'+'r:\x20vec3f\x20='+'\x20{ambientD'+'ecode}(raw'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20pr'+'ocessEnvir'+'onment(lin'+'ear);\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20LIT'+'_AMBIENT_S'+'OURCE\x20==\x20C'+'ONSTANT\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20unifor'+'m.light_gl'+'obalAmbien'+'t;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a'),eM='\x0a#ifdef\x20LI'+'T_GGX_SPEC'+'ULAR\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'erial_anis'+'otropyInte'+'nsity:\x20f32'+';\x0a\x20\x20\x20\x20unif'+'orm\x20materi'+'al_anisotr'+'opyRotatio'+'n:\x20vec2f;\x0a'+'#endif\x0a\x0afn'+'\x20getAnisot'+'ropy()\x20{\x0a\x20'+'\x20\x20\x20dAnisot'+'ropy\x20=\x200.0'+';\x0a\x20\x20\x20\x20dAni'+'sotropyRot'+'ation\x20=\x20ve'+'c2f(1.0,\x200'+'.0);\x0a\x0a#ifd'+'ef\x20LIT_GGX'+'_SPECULAR\x0a'+'\x20\x20\x20\x20dAniso'+'tropy\x20=\x20un'+'iform.mate'+'rial_aniso'+'tropyInten'+'sity;\x0a\x20\x20\x20\x20'+'dAnisotrop'+'yRotation\x20'+'=\x20uniform.'+'material_a'+'nisotropyR'+'otation;\x0a#'+'endif\x0a\x0a#if'+'def\x20STD_AN'+'ISOTROPY_T'+'EXTURE\x0a\x20\x20\x20'+'\x20let\x20aniso'+'tropyTex:\x20'+'vec3f\x20=\x20te'+'xtureSampl'+'eBias({STD'+'_ANISOTROP'+'Y_TEXTURE_'+'NAME},\x20{ST'+'D_ANISOTRO'+'PY_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'ANISOTROPY'+'_TEXTURE_U'+'V},\x20unifor'+'m.textureB'+'ias).rgb;\x0a'+'\x20\x20\x20\x20dAniso'+'tropy\x20*=\x20a'+'nisotropyT'+'ex.b;\x0a\x0a\x20\x20\x20'+'\x20let\x20aniso'+'tropyRotat'+'ionFromTex'+':\x20vec2f\x20=\x20'+'anisotropy'+'Tex.rg\x20*\x202'+'.0\x20-\x20vec2f'+'(1.0);\x0a\x20\x20\x20'+'\x20let\x20rotat'+'ionMatrix:'+'\x20mat2x2f\x20='+'\x20mat2x2f(d'+'Anisotropy'+'Rotation.x'+',\x20dAnisotr'+'opyRotatio'+'n.y,\x20-dAni'+'sotropyRot'+'ation.y,\x20d'+'Anisotropy'+'Rotation.x'+');\x0a\x20\x20\x20\x20dAn'+'isotropyRo'+'tation\x20=\x20r'+'otationMat'+'rix\x20*\x20anis'+'otropyRota'+'tionFromTe'+'x;\x0a#endif\x0a'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x20c'+'lamp(dAnis'+'otropy,\x200.'+'0,\x201.0);\x0a}'+'\x0a',tM='\x0a\x0a#if\x20defi'+'ned(STD_AO'+'_TEXTURE)\x20'+'||\x20defined'+'(STD_AO_VE'+'RTEX)\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_aoI'+'ntensity:\x20'+'f32;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'STD_AODETA'+'IL_TEXTURE'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22detai'+'lModesPS\x22\x0a'+'#endif\x0a\x0afn'+'\x20getAO()\x20{'+'\x0a\x20\x20\x20\x20dAo\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_AO_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20aoBas'+'e:\x20f32\x20=\x20t'+'extureSamp'+'leBias({ST'+'D_AO_TEXTU'+'RE_NAME},\x20'+'{STD_AO_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_AO_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_AO_'+'TEXTURE_CH'+'ANNEL};\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_AO'+'DETAIL_TEX'+'TURE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20aoDetail:'+'\x20f32\x20=\x20tex'+'tureSample'+'Bias({STD_'+'AODETAIL_T'+'EXTURE_NAM'+'E},\x20{STD_A'+'ODETAIL_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_AODET'+'AIL_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_AODETAI'+'L_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20aoBase\x20='+'\x20detailMod'+'e_{STD_AOD'+'ETAIL_DETA'+'ILMODE}(ve'+'c3f(aoBase'+'),\x20vec3f(a'+'oDetail)).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dAo'+'\x20=\x20dAo\x20*\x20a'+'oBase;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20=\x20dA'+'o\x20*\x20satura'+'te(vVertex'+'Color.{STD'+'_AO_VERTEX'+'_CHANNEL})'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'STD_AO_TEX'+'TURE)\x20||\x20d'+'efined(STD'+'_AO_VERTEX'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAo\x20=\x20mix('+'1.0,\x20dAo,\x20'+'uniform.ma'+'terial_aoI'+'ntensity);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',sM='\x0afn\x20occlud'+'eDiffuse(a'+'o:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20*\x20ao;\x0a'+'}\x0a',iM='\x0a\x0a#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'OCCLUDE_SP'+'ECULAR_FLO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'aterial_oc'+'cludeSpecu'+'larIntensi'+'ty:\x20f32;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#endif\x0a\x0afn'+'\x20occludeSp'+'ecular(glo'+'ss:\x20f32,\x20a'+'o:\x20f32,\x20wo'+'rldNormal:'+'\x20vec3f,\x20vi'+'ewDir:\x20vec'+'3f)\x20{\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_O'+'CCLUDE_SPE'+'CULAR\x20==\x20A'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_OCCLUDE_S'+'PECULAR_FL'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'specOcc:\x20f'+'32\x20=\x20mix(1'+'.0,\x20ao,\x20un'+'iform.mate'+'rial_occlu'+'deSpecular'+'Intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20specOcc:'+'\x20f32\x20=\x20ao;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20==\x20'+'GLOSSDEPEN'+'DENT\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'roximated\x20'+'specular\x20o'+'cclusion\x20f'+'rom\x20AO\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ht'+'tp://resea'+'rch.tri-ac'+'e.com/Data'+'/cedec2011'+'_RealtimeP'+'BR_Impleme'+'ntation_e.'+'pptx\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20spe'+'cPow:\x20f32\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20specOc'+'c:\x20f32\x20=\x20s'+'aturate(po'+'w(dot(worl'+'dNormal,\x20v'+'iewDir)\x20+\x20'+'ao,\x200.01\x20*'+'\x20specPow)\x20'+'-\x201.0\x20+\x20ao'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_OCCLUDE'+'_SPECULAR_'+'FLOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecOcc\x20=\x20mi'+'x(1.0,\x20spe'+'cOcc,\x20unif'+'orm.materi'+'al_occlude'+'SpecularIn'+'tensity);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_O'+'CCLUDE_SPE'+'CULAR\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+('\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20*\x20spec'+'Occ;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20dRe'+'flection\x20*'+'\x20specOcc;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20=\x20sSpec'+'ularLight\x20'+'*\x20specOcc;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sReflec'+'tion\x20=\x20sRe'+'flection\x20*'+'\x20specOcc;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a'),rM='\x0a\x20\x20\x20\x20let\x20d'+'irLm\x20=\x20tex'+'tureSample'+'(texture_d'+'irLightMap'+',\x20texture_'+'dirLightMa'+'pSampler,\x20'+'vUv1);\x0a\x0a\x20\x20'+'\x20\x20if\x20(unif'+'orm.bakeDi'+'r\x20>\x200.5)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(dAtten\x20'+'>\x200.00001)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20u'+'npacked_di'+'r\x20=\x20dirLm.'+'xyz\x20*\x202.0\x20'+'-\x20vec3f(1.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dAtt'+'en\x20=\x20clamp'+'(dAtten,\x200'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20comb'+'ined_dir\x20='+'\x20dLightDir'+'NormW.xyz\x20'+'*\x20dAtten\x20+'+'\x20unpacked_'+'dir\x20*\x20dirL'+'m.w;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20finalRgb\x20'+'=\x20normaliz'+'e(combined'+'_dir)\x20*\x200.'+'5\x20+\x20vec3f('+'0.5);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20finalA\x20='+'\x20max(dirLm'+'.w\x20+\x20dAtte'+'n,\x201.0\x20/\x202'+'55.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'finalRgb,\x20'+'finalA);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.color'+'\x20=\x20dirLm;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20alpha'+'_min\x20=\x20sel'+'ect(0.0,\x201'+'.0\x20/\x20255.0'+',\x20dAtten\x20>'+'\x200.00001);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20finalA\x20'+'=\x20max(dirL'+'m.w,\x20alpha'+'_min);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'vec4f(dirL'+'m.rgb,\x20fin'+'alA);\x0a\x20\x20\x20\x20'+'}\x0a',aM='\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20//\x20di'+'ffuse\x20ligh'+'t\x20stores\x20a'+'ccumulated'+'\x20AO,\x20apply'+'\x20contrast\x20'+'and\x20bright'+'ness\x20to\x20it'+'\x0a\x20\x20\x20\x20//\x20an'+'d\x20multiply'+'\x20ambient\x20l'+'ight\x20color'+'\x20by\x20the\x20AO'+'\x0a\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20((dDiffus'+'eLight\x20-\x200'+'.5)\x20*\x20max('+'uniform.am'+'bientBakeO'+'cclusionCo'+'ntrast\x20+\x201'+'.0,\x200.0))\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20dDi'+'ffuseLight'+'\x20+\x20vec3f(u'+'niform.amb'+'ientBakeOc'+'clusionBri'+'ghtness);\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'saturate3('+'dDiffuseLi'+'ght);\x0a\x20\x20\x20\x20'+'dDiffuseLi'+'ght\x20=\x20dDif'+'fuseLight\x20'+'*\x20dAmbient'+'Light;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20LIGHTMAP'+'_RGBM\x0a\x20\x20\x20\x20'+'//\x20encode\x20'+'to\x20RGBM\x0a\x20\x20'+'\x20\x20var\x20temp'+'_color_rgb'+'m\x20=\x20vec4f('+'dDiffuseLi'+'ght,\x201.0);'+'\x0a\x20\x20\x20\x20temp_'+'color_rgbm'+'\x20=\x20vec4f(p'+'ow(temp_co'+'lor_rgbm.r'+'gb,\x20vec3f('+'0.5)),\x20tem'+'p_color_rg'+'bm.a);\x0a\x20\x20\x20'+'\x20temp_colo'+'r_rgbm\x20=\x20v'+'ec4f(temp_'+'color_rgbm'+'.rgb\x20/\x208.0'+',\x20temp_col'+'or_rgbm.a)'+';\x0a\x20\x20\x20\x20let\x20'+'max_g_b\x20=\x20'+'max(temp_c'+'olor_rgbm.'+'g,\x20max(tem'+'p_color_rg'+'bm.b,\x201.0\x20'+'/\x20255.0));'+'\x0a\x20\x20\x20\x20let\x20m'+'ax_rgb\x20=\x20m'+'ax(temp_co'+'lor_rgbm.r'+',\x20max_g_b)'+';\x0a\x20\x20\x20\x20temp'+'_color_rgb'+'m.a\x20=\x20clam'+'p(max_rgb,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20temp'+'_color_rgb'+'m.a\x20=\x20ceil'+'(temp_colo'+'r_rgbm.a\x20*'+'\x20255.0)\x20/\x20'+'255.0;\x0a\x20\x20\x20'+'\x20temp_colo'+'r_rgbm\x20=\x20v'+'ec4f(temp_'+('color_rgbm'+'.rgb\x20/\x20tem'+'p_color_rg'+'bm.a,\x20temp'+'_color_rgb'+'m.a);\x0a\x20\x20\x20\x20'+'output.col'+'or\x20=\x20temp_'+'color_rgbm'+';\x0a#else\x0a\x20\x20'+'\x20\x20output.c'+'olor\x20=\x20vec'+'4f(dDiffus'+'eLight,\x201.'+'0);\x0a#endif'+'\x0a'),nM='\x0auniform\x20v'+'iew_positi'+'on:\x20vec3f;'+'\x0a\x0auniform\x20'+'light_glob'+'alAmbient:'+'\x20vec3f;\x0a\x0af'+'n\x20square(x'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20x*x'+';\x0a}\x0a\x0afn\x20sa'+'turate(x:\x20'+'f32)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0afn'+'\x20saturate3'+'(x:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3f(0.'+'0),\x20vec3f('+'1.0));\x0a}\x0a',oM='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'Mask:\x20vec2'+'f;\x0avarying'+'\x20vTiledUv:'+'\x20vec2f;\x0a\x0au'+'niform\x20inn'+'erOffset:\x20'+'vec4f;\x0auni'+'form\x20outer'+'Scale:\x20vec'+'2f;\x0aunifor'+'m\x20atlasRec'+'t:\x20vec4f;\x0a'+'\x0avar<priva'+'te>\x20nineSl'+'icedUv:\x20ve'+'c2f;\x0a',lM='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vMask:\x20v'+'ec2f;\x0avary'+'ing\x20vTiled'+'Uv:\x20vec2f;'+'\x0a\x0auniform\x20'+'innerOffse'+'t:\x20vec4f;\x0a'+'uniform\x20ou'+'terScale:\x20'+'vec2f;\x0auni'+'form\x20atlas'+'Rect:\x20vec4'+'f;\x0a\x0avar<pr'+'ivate>\x20nin'+'eSlicedUv:'+'\x20vec2f;\x0a',cM='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afn\x20bay'+'er2(p:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(2.0\x20*'+'\x20p.y\x20+\x20p.x'+'\x20+\x201.0)\x20%\x20'+'4.0;\x0a}\x0a\x0a//'+'\x204x4\x20matri'+'x,\x20p\x20-\x20pix'+'el\x20coordin'+'ate\x0afn\x20bay'+'er4(p:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20p1:\x20vec2f'+'\x20=\x20p\x20%\x20vec'+'2f(2.0);\x0a\x20'+'\x20\x20\x20let\x20p2:'+'\x20vec2f\x20=\x20f'+'loor(0.5\x20*'+'\x20(p\x20%\x20vec2'+'f(4.0)));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afn\x20bayer8'+'(p:\x20vec2f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20p1'+':\x20vec2f\x20=\x20'+'p\x20%\x20vec2f('+'2.0);\x0a\x20\x20\x20\x20'+'let\x20p2:\x20ve'+'c2f\x20=\x20floo'+'r(0.5\x20*\x20(p'+'\x20%\x20vec2f(4'+'.0)));\x0a\x20\x20\x20'+'\x20let\x20p4:\x20v'+'ec2f\x20=\x20flo'+'or(0.25\x20*\x20'+'(p\x20%\x20vec2f'+'(8.0)));\x0a\x20'+'\x20\x20\x20return\x20'+'4.0\x20*\x20(4.0'+'\x20*\x20bayer2('+'p1)\x20+\x20baye'+'r2(p2))\x20+\x20'+'bayer2(p4)'+';\x0a}\x0a',hM='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0a\x0avar\x20sou'+'rce:\x20textu'+'re_2d<f32>'+';\x0avar\x20sour'+'ceSampler:'+'\x20sampler;\x0a'+'\x0a#ifdef\x20GA'+'USS\x0a\x20\x20\x20\x20un'+'iform\x20weig'+'ht:\x20array<'+'f32,\x20{SAMP'+'LES}>;\x0a#en'+'dif\x0aunifor'+'m\x20pixelOff'+'set:\x20vec2f'+';\x0a\x0a@fragme'+'nt\x0afn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20var\x20o'+'utput:\x20Fra'+'gmentOutpu'+'t;\x0a\x20\x20\x20\x20var'+'\x20moments:\x20'+'vec3f\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20let\x20uv'+':\x20vec2f\x20=\x20'+'input.vUv0'+'\x20-\x20uniform'+'.pixelOffs'+'et\x20*\x20(f32('+'{SAMPLES})'+'\x20*\x200.5);\x0a\x0a'+'\x20\x20\x20\x20for\x20(v'+'ar\x20i:\x20i32\x20'+'=\x200;\x20i\x20<\x20{'+'SAMPLES};\x20'+'i\x20=\x20i\x20+\x201)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20c:\x20ve'+'c4f\x20=\x20text'+'ureSample('+'source,\x20so'+'urceSample'+'r,\x20uv\x20+\x20un'+'iform.pixe'+'lOffset\x20*\x20'+'f32(i));\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20GAUSS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20moments'+'\x20=\x20moments'+'\x20+\x20c.xyz\x20*'+'\x20uniform.w'+'eight[i].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20=\x20moment'+'s\x20+\x20c.xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20GAUSS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20m'+'oments\x20=\x20m'+'oments\x20*\x20('+'1.0\x20/\x20f32('+'{SAMPLES})'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'moments,\x201'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a',dM='\x0auniform\x20m'+'aterial_cl'+'earCoat:\x20f'+'32;\x0a\x0afn\x20ge'+'tClearCoat'+'()\x20{\x0a\x20\x20\x20\x20c'+'cSpeculari'+'ty\x20=\x20unifo'+'rm.materia'+'l_clearCoa'+'t;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_C'+'LEARCOAT_T'+'EXTURE\x0a\x20\x20\x20'+'\x20ccSpecula'+'rity\x20=\x20ccS'+'pecularity'+'\x20*\x20texture'+'SampleBias'+'({STD_CLEA'+'RCOAT_TEXT'+'URE_NAME},'+'\x20{STD_CLEA'+'RCOAT_TEXT'+'URE_NAME}S'+'ampler,\x20{S'+'TD_CLEARCO'+'AT_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias).{ST'+'D_CLEARCOA'+'T_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_CLE'+'ARCOAT_VER'+'TEX\x0a\x20\x20\x20\x20cc'+'Specularit'+'y\x20=\x20ccSpec'+'ularity\x20*\x20'+'saturate(v'+'VertexColo'+'r.{STD_CLE'+'ARCOAT_VER'+'TEX_CHANNE'+'L});\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a',fM='\x0a\x20\x20\x20\x20unifo'+'rm\x20materia'+'l_clearCoa'+'tGloss:\x20f3'+'2;\x0a\x0afn\x20get'+'ClearCoatG'+'lossiness('+')\x20{\x0a\x20\x20\x20\x20cc'+'Glossiness'+'\x20=\x20uniform'+'.material_'+'clearCoatG'+'loss;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_CLEARCOA'+'TGLOSS_TEX'+'TURE\x0a\x20\x20\x20\x20c'+'cGlossines'+'s\x20=\x20ccGlos'+'siness\x20*\x20t'+'extureSamp'+'leBias({ST'+'D_CLEARCOA'+'TGLOSS_TEX'+'TURE_NAME}'+',\x20{STD_CLE'+'ARCOATGLOS'+'S_TEXTURE_'+'NAME}Sampl'+'er,\x20{STD_C'+'LEARCOATGL'+'OSS_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_CLEARCO'+'ATGLOSS_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATGLOSS_VE'+'RTEX\x0a\x20\x20\x20\x20c'+'cGlossines'+'s\x20=\x20ccGlos'+'siness\x20*\x20s'+'aturate(vV'+'ertexColor'+'.{STD_CLEA'+'RCOATGLOSS'+'_VERTEX_CH'+'ANNEL});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_INVERT\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20=\x201.0'+'\x20-\x20ccGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20ccGloss'+'iness\x20+=\x200'+'.0000001;\x0a'+'}\x0a',uM='\x0a#ifdef\x20ST'+'D_CLEARCOA'+'TNORMAL_TE'+'XTURE\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_cle'+'arCoatBump'+'iness:\x20f32'+';\x0a#endif\x0a\x0a'+'fn\x20getClea'+'rCoatNorma'+'l()\x20{\x0a#ifd'+'ef\x20STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'\x0a\x20\x20\x20\x20var\x20n'+'ormalMap:\x20'+'vec3f\x20=\x20{S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_DEC'+'ODE}(textu'+'reSampleBi'+'as({STD_CL'+'EARCOATNOR'+'MAL_TEXTUR'+'E_NAME},\x20{'+'STD_CLEARC'+'OATNORMAL_'+'TEXTURE_NA'+'ME}Sampler'+',\x20{STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias));\x0a\x20'+'\x20\x20\x20normalM'+'ap\x20=\x20mix(v'+'ec3f(0.0,\x20'+'0.0,\x201.0),'+'\x20normalMap'+',\x20uniform.'+'material_c'+'learCoatBu'+'mpiness);\x0a'+'\x20\x20\x20\x20ccNorm'+'alW\x20=\x20norm'+'alize(dTBN'+'\x20*\x20normalM'+'ap);\x0a#else'+'\x0a\x20\x20\x20\x20ccNor'+'malW\x20=\x20dVe'+'rtexNormal'+'W;\x0a#endif\x0a'+'}\x0a',pM='\x0astruct\x20Fa'+'ceCoords\x20{'+'\x0a\x20\x20\x20\x20uv:\x20v'+'ec2f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Or'+'iginal\x20ret'+'urn\x20value\x0a'+'\x20\x20\x20\x20faceIn'+'dex:\x20f32,\x20'+'\x20\x20\x20//\x20Was\x20'+'out\x20parame'+'ter\x0a\x20\x20\x20\x20ti'+'leOffset:\x20'+'vec2f,\x20//\x20'+'Was\x20out\x20pa'+'rameter\x0a}\x0a'+'\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0afn\x20getC'+'ubemapFace'+'Coordinate'+'s(dir:\x20vec'+'3f)\x20->\x20Fac'+'eCoords\x20{\x0a'+'\x20\x20\x20\x20var\x20fa'+'ceIndex:\x20f'+'32;\x0a\x20\x20\x20\x20va'+'r\x20tileOffs'+'et:\x20vec2f;'+'\x0a\x20\x20\x20\x20var\x20u'+'v:\x20vec2f;\x20'+'//\x20This\x20is'+'\x20the\x20face\x20'+'UV\x20[0..1]\x0a'+'\x20\x20\x20\x20let\x20vA'+'bs:\x20vec3f\x20'+'=\x20abs(dir)'+';\x0a\x20\x20\x20\x20var\x20'+'ma:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20if\x20(vA'+'bs.z\x20>=\x20vA'+'bs.x\x20&&\x20vA'+'bs.z\x20>=\x20vA'+'bs.y)\x20{\x20\x20\x20'+'//\x20front\x20/'+'\x20back\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20i'+'s_neg_z\x20=\x20'+'dir.z\x20<\x200.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20faceIndex'+'\x20=\x20select('+'4.0,\x205.0,\x20'+'is_neg_z);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20m'+'a\x20=\x200.5\x20/\x20'+'vAbs.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv\x20='+'\x20vec2f(sel'+'ect(dir.x,'+'\x20-dir.x,\x20i'+'s_neg_z),\x20'+'-dir.y);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20til'+'eOffset\x20=\x20'+'vec2f(2.0,'+'\x20select(0.'+'0,\x201.0,\x20is'+'_neg_z));\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if\x20(vAbs'+'.y\x20>=\x20vAbs'+'.x)\x20{\x20\x20//\x20'+'top\x20index\x20'+'2,\x20bottom\x20'+'index\x203\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20is_neg_y\x20'+'=\x20dir.y\x20<\x20'+'0.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20faceInd'+'ex\x20=\x20selec'+('t(2.0,\x203.0'+',\x20is_neg_y'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ma\x20=\x200.5\x20'+'/\x20vAbs.y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20=\x20vec2f(d'+'ir.x,\x20sele'+'ct(dir.z,\x20'+'-dir.z,\x20is'+'_neg_y));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ti'+'leOffset\x20='+'\x20vec2f(1.0'+',\x20select(0'+'.0,\x201.0,\x20i'+'s_neg_y));'+'\x0a\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x20\x20\x20\x20//'+'\x20left\x20/\x20ri'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20is_'+'neg_x\x20=\x20di'+'r.x\x20<\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'aceIndex\x20='+'\x20select(0.'+'0,\x201.0,\x20is'+'_neg_x);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2f(selec'+'t(-dir.z,\x20'+'dir.z,\x20is_'+'neg_x),\x20-d'+'ir.y);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset\x20=\x20ve'+'c2f(0.0,\x20s'+'elect(0.0,'+'\x201.0,\x20is_n'+'eg_x));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20u'+'v\x20=\x20uv\x20*\x20m'+'a\x20+\x200.5;\x0a\x20'+'\x20\x20\x20return\x20'+'FaceCoords'+'(uv,\x20faceI'+'ndex,\x20tile'+'Offset);\x0a}'+'\x0a\x0a//\x20conve'+'rts\x20unnorm'+'alized\x20dir'+'ection\x20vec'+'tor\x20to\x20a\x20t'+'exture\x20coo'+'rdinate\x20fo'+'r\x20a\x20cubema'+'p\x20face\x20sto'+'red\x20within'+'\x20texture\x20a'+'tlas\x20descr'+'ibed\x20by\x20th'+'e\x20viewport'+'\x0afn\x20getCub'+'emapAtlasC'+'oordinates'+'(omniAtlas'+'Viewport:\x20'+'vec3f,\x20sha'+'dowEdgePix'+'els:\x20f32,\x20'+'shadowText'+'ureResolut'+'ion:\x20f32,\x20'+'dir:\x20vec3f'+')\x20->\x20vec2f'+'\x20{\x0a\x0a\x20\x20\x20\x20le'+'t\x20faceData'+':\x20FaceCoor'+'ds\x20=\x20getCu'+'bemapFaceC'+'oordinates'+'(dir);\x0a\x20\x20\x20'+'\x20var\x20uv:\x20v'+'ec2f\x20=\x20fac'+'eData.uv;\x0a'+'\x20\x20\x20\x20let\x20ti'+'leOffset:\x20'+'vec2f\x20=\x20fa'+'ceData.til'+'eOffset;\x0a\x0a'+'\x20\x20\x20\x20//\x20mov'+'e\x20uv\x20coord'+'inates\x20inw'+'ards\x20insid'+'e\x20to\x20compe'+'nsate\x20for\x20')+('larger\x20fov'+'\x20when\x20rend'+'ering\x20shad'+'ow\x20into\x20at'+'las\x0a\x20\x20\x20\x20le'+'t\x20atlasFac'+'eSize:\x20f32'+'\x20=\x20omniAtl'+'asViewport'+'.z;\x0a\x20\x20\x20\x20le'+'t\x20tileSize'+':\x20f32\x20=\x20sh'+'adowTextur'+'eResolutio'+'n\x20*\x20atlasF'+'aceSize;\x0a\x20'+'\x20\x20\x20var\x20off'+'set:\x20f32\x20='+'\x20shadowEdg'+'ePixels\x20/\x20'+'tileSize;\x0a'+'\x20\x20\x20\x20uv\x20=\x20u'+'v\x20*\x20(1.0\x20-'+'\x20offset\x20*\x20'+'2.0)\x20+\x20off'+'set;\x0a\x0a\x20\x20\x20\x20'+'//\x20scale\x20u'+'v\x20coordina'+'tes\x20to\x20cub'+'e\x20face\x20are'+'a\x20within\x20t'+'he\x20viewpor'+'t\x0a\x20\x20\x20\x20uv\x20='+'\x20uv\x20*\x20atla'+'sFaceSize;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x20into'+'\x20face\x20of\x20t'+'he\x20atlas\x20('+'3x3\x20grid)\x0a'+'\x20\x20\x20\x20uv\x20=\x20u'+'v\x20+\x20tileOf'+'fset\x20*\x20atl'+'asFaceSize'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'offset\x20int'+'o\x20the\x20atla'+'s\x20viewport'+'\x0a\x20\x20\x20\x20uv\x20=\x20'+'uv\x20+\x20omniA'+'tlasViewpo'+'rt.xy;\x0a\x0a\x20\x20'+'\x20\x20return\x20u'+'v;\x0a}\x0a'),mM='\x0afn\x20_getCo'+'okieCluste'+'red(tex:\x20t'+'exture_2d<'+'f32>,\x20texS'+'ampler:\x20sa'+'mpler,\x20uv:'+'\x20vec2f,\x20in'+'tensity:\x20f'+'32,\x20cookie'+'Channel:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20pixel'+':\x20vec4f\x20=\x20'+'mix(vec4f('+'1.0),\x20text'+'ureSampleL'+'evel(tex,\x20'+'texSampler'+',\x20uv,\x200.0)'+',\x20intensit'+'y);\x0a\x20\x20\x20\x20le'+'t\x20isRgb:\x20b'+'ool\x20=\x20dot('+'cookieChan'+'nel.rgb,\x20v'+'ec3f(1.0))'+'\x20==\x203.0;\x0a\x20'+'\x20\x20\x20return\x20'+'select(vec'+'3f(dot(pix'+'el,\x20cookie'+'Channel)),'+'\x20pixel.rgb'+',\x20isRgb);\x0a'+'}\x0a\x0a//\x20getC'+'ookie2D\x20fo'+'r\x20clustere'+'d\x20lighting'+'\x20including'+'\x20channel\x20s'+'elector\x0afn'+'\x20getCookie'+'2DClustere'+'d(tex:\x20tex'+'ture_2d<f3'+'2>,\x20texSam'+'pler:\x20samp'+'ler,\x20trans'+'form:\x20mat4'+'x4f,\x20world'+'Position:\x20'+'vec3f,\x20int'+'ensity:\x20f3'+'2,\x20cookieC'+'hannel:\x20ve'+'c4f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20projPo'+'s:\x20vec4f\x20='+'\x20transform'+'\x20*\x20vec4f(w'+'orldPositi'+'on,\x201.0);\x0a'+'\x20\x20\x20\x20return'+'\x20_getCooki'+'eClustered'+'(tex,\x20texS'+'ampler,\x20pr'+'ojPos.xy\x20/'+'\x20projPos.w'+',\x20intensit'+'y,\x20cookieC'+'hannel);\x0a}'+'\x0a\x0a//\x20getCo'+'okie\x20for\x20c'+'lustered\x20o'+'mni\x20light\x20'+'with\x20the\x20c'+'ookie\x20text'+'ure\x20being\x20'+'stored\x20in\x20'+'the\x20cookie'+'\x20atlas\x0afn\x20'+'getCookieC'+'ubeCluster'+'ed(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20dir:'+'\x20vec3f,\x20in'+'tensity:\x20f'+'32,\x20cookie'+'Channel:\x20v'+'ec4f,\x20shad'+'owTextureR'+'esolution:'+'\x20f32,\x20shad'+('owEdgePixe'+'ls:\x20f32,\x20o'+'mniAtlasVi'+'ewport:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20uv:\x20ve'+'c2f\x20=\x20getC'+'ubemapAtla'+'sCoordinat'+'es(omniAtl'+'asViewport'+',\x20shadowEd'+'gePixels,\x20'+'shadowText'+'ureResolut'+'ion,\x20dir);'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getCook'+'ieClustere'+'d(tex,\x20tex'+'Sampler,\x20u'+'v,\x20intensi'+'ty,\x20cookie'+'Channel);\x0a'+'}\x0a'),_M='\x0a\x0afn\x20_getS'+'hadowCoord'+'PerspZbuff'+'er(shadowM'+'atrix:\x20mat'+'4x4f,\x20shad'+'owParams:\x20'+'vec4f,\x20wPo'+'s:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20var\x20p'+'rojPos\x20=\x20s'+'hadowMatri'+'x\x20*\x20vec4f('+'wPos,\x201.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20projPos'+'.xyz\x20/\x20pro'+'jPos.w;\x0a\x20\x20'+'\x20\x20//\x20depth'+'\x20bias\x20is\x20a'+'lready\x20app'+'lied\x20on\x20re'+'nder\x0a}\x0a\x0afn'+'\x20getShadow'+'CoordPersp'+'ZbufferNor'+'malOffset('+'shadowMatr'+'ix:\x20mat4x4'+'f,\x20shadowP'+'arams:\x20vec'+'4f,\x20normal'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20let\x20wP'+'os:\x20vec3f\x20'+'=\x20vPositio'+'nW\x20+\x20norma'+'l\x20*\x20shadow'+'Params.y;\x0a'+'\x20\x20\x20\x20return'+'\x20_getShado'+'wCoordPers'+'pZbuffer(s'+'hadowMatri'+'x,\x20shadowP'+'arams,\x20wPo'+'s);\x0a}\x0a\x0afn\x20'+'normalOffs'+'etPointSha'+'dow(shadow'+'Params:\x20ve'+'c4f,\x20light'+'Pos:\x20vec3f'+',\x20lightDir'+':\x20vec3f,\x20l'+'ightDirNor'+'m:\x20vec3f,\x20'+'normal:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20distSc'+'ale:\x20f32\x20='+'\x20length(li'+'ghtDir);\x0a\x20'+'\x20\x20\x20let\x20wPo'+'s:\x20vec3f\x20='+'\x20vPosition'+'W\x20+\x20normal'+'\x20*\x20shadowP'+'arams.y\x20*\x20'+'clamp(1.0\x20'+'-\x20dot(norm'+'al,\x20-light'+'DirNorm),\x20'+'0.0,\x201.0)\x20'+'*\x20distScal'+'e;\x20//0.02\x0a'+'\x20\x20\x20\x20let\x20di'+'r:\x20vec3f\x20='+'\x20wPos\x20-\x20li'+'ghtPos;\x0a\x20\x20'+'\x20\x20return\x20d'+'ir;\x0a}\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x0a\x20\x20\x20\x20'+'fn\x20getShad'+'owOmniClus'+'teredPCF1('+'shadowMap:'+'\x20texture_d'+'epth_2d,\x20s'+'hadowMapSa'+'mpler:\x20sam'+'pler_compa'+'rison,\x20sha'+'dowParams:'+('\x20vec4f,\x20om'+'niAtlasVie'+'wport:\x20vec'+'3f,\x20shadow'+'EdgePixels'+':\x20f32,\x20lig'+'htDir:\x20vec'+'3f)\x20->\x20f32'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20shad'+'owTextureR'+'esolution:'+'\x20f32\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadowZ:\x20f'+'32\x20=\x20lengt'+'h(lightDir'+')\x20*\x20shadow'+'Params.w\x20+'+'\x20shadowPar'+'ams.z;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20textureS'+'ampleCompa'+'reLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20uv,'+'\x20shadowZ);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F3)\x0a\x0a\x20\x20\x20\x20f'+'n\x20getShado'+'wOmniClust'+'eredPCF3(s'+'hadowMap:\x20'+'texture_de'+'pth_2d,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler_compar'+'ison,\x20shad'+'owParams:\x20'+'vec4f,\x20omn'+'iAtlasView'+'port:\x20vec3'+'f,\x20shadowE'+'dgePixels:'+'\x20f32,\x20ligh'+'tDir:\x20vec3'+'f)\x20->\x20f32\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20shado'+'wTextureRe'+'solution:\x20'+'f32\x20=\x20shad'+'owParams.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20uv:\x20ve'+'c2f\x20=\x20getC'+'ubemapAtla'+'sCoordinat'+'es(omniAtl'+'asViewport'+',\x20shadowEd'+'gePixels,\x20'+'shadowText'+'ureResolut'+'ion,\x20light'+'Dir);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hadowZ:\x20f3'+'2\x20=\x20length'+'(lightDir)'+'\x20*\x20shadowP'+'arams.w\x20+\x20'+'shadowPara'+'ms.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20sh'+'adowCoord:'+'\x20vec3f\x20=\x20v'+'ec3f(uv,\x20s'+'hadowZ);\x0a\x20')+('\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF3x3('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20}\x0a\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF5)\x0a'+'\x0a\x20\x20\x20\x20fn\x20ge'+'tShadowOmn'+'iClustered'+'PCF5(shado'+'wMap:\x20text'+'ure_depth_'+'2d,\x20shadow'+'MapSampler'+':\x20sampler_'+'comparison'+',\x20shadowPa'+'rams:\x20vec4'+'f,\x20omniAtl'+'asViewport'+':\x20vec3f,\x20s'+'hadowEdgeP'+'ixels:\x20f32'+',\x20lightDir'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20shadowTex'+'tureResolu'+'tion:\x20f32\x20'+'=\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'uv:\x20vec2f\x20'+'=\x20getCubem'+'apAtlasCoo'+'rdinates(o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20shad'+'owTextureR'+'esolution,'+'\x20lightDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20shado'+'wZ:\x20f32\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'Coord:\x20vec'+'3f\x20=\x20vec3f'+'(uv,\x20shado'+'wZ);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowP'+'CF5x5(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'#endif\x0a\x0a//'+'\x20Clustered'+'\x20Spot\x20Samp'+'ling\x20using'+'\x20atlas\x0a\x0a#i'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF1)\x0a\x0a\x20\x20\x20'+'\x20fn\x20getSha'+'dowSpotClu'+'steredPCF1'+'(shadowMap'+':\x20texture_'+'depth_2d,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu')+('rn\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20sh'+'adowCoord.'+'xy,\x20shadow'+'Coord.z);\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x0a\x20\x20'+'\x20\x20fn\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec4f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowSpotPCF'+'3x3(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20shad'+'owParams);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF5)\x0a\x0a\x20'+'\x20\x20\x20fn\x20getS'+'hadowSpotC'+'lusteredPC'+'F5(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCF5x5'+'(shadowMap'+',\x20shadowMa'+'pSampler,\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a'),gM='\x0a\x0a#include'+'\x20\x22lightBuf'+'ferDefines'+'PS\x22\x0a\x0a//\x20in'+'clude\x20this'+'\x20before\x20sh'+'adow\x20/\x20coo'+'kie\x20code\x0a#'+'include\x20\x22c'+'lusteredLi'+'ghtUtilsPS'+'\x22\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightCookie'+'sPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_SH'+'ADOWS\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightShadow'+'sPS\x22\x0a#endi'+'f\x0a\x0avar\x20clu'+'sterWorldT'+'exture:\x20te'+'xture_2d<f'+'32>;\x0avar\x20l'+'ightsTextu'+'re:\x20textur'+'e_2d<f32>;'+'\x0a\x0a#ifdef\x20C'+'LUSTER_SHA'+'DOWS\x0a\x20\x20\x20\x20/'+'/\x20TODO:\x20wh'+'en\x20VSM\x20sha'+'dow\x20is\x20sup'+'ported,\x20it'+'\x20needs\x20to\x20'+'use\x20sample'+'r2D\x20in\x20web'+'gl2\x0a\x20\x20\x20\x20va'+'r\x20shadowAt'+'lasTexture'+':\x20texture_'+'depth_2d;\x0a'+'\x20\x20\x20\x20var\x20sh'+'adowAtlasT'+'extureSamp'+'ler:\x20sampl'+'er_compari'+'son;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'var\x20cookie'+'AtlasTextu'+'re:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20c'+'ookieAtlas'+'TextureSam'+'pler:\x20samp'+'ler;\x0a#endi'+'f\x0a\x0auniform'+'\x20clusterMa'+'xCells:\x20i3'+'2;\x0a\x0a//\x201.0'+'\x20if\x20cluste'+'red\x20lighti'+'ng\x20can\x20be\x20'+'skipped\x20(0'+'\x20lights\x20in'+'\x20the\x20clust'+'ers)\x0aunifo'+'rm\x20cluster'+'Skip:\x20f32;'+'\x0a\x0auniform\x20'+'clusterCel'+'lsCountByB'+'oundsSize:'+'\x20vec3f;\x0aun'+'iform\x20clus'+'terTexture'+'Size:\x20vec3'+'f;\x0auniform'+'\x20clusterBo'+'undsMin:\x20v'+'ec3f;\x0aunif'+'orm\x20cluste'+'rBoundsDel'+'ta:\x20vec3f;'+'\x0auniform\x20c'+'lusterCell'+'sDot:\x20vec3'+'f;\x0auniform'+'\x20clusterCe'+'llsMax:\x20ve'+('c3f;\x0aunifo'+'rm\x20shadowA'+'tlasParams'+':\x20vec2f;\x0a\x0a'+'//\x20structu'+'re\x20storing'+'\x20light\x20pro'+'perties\x20of'+'\x20a\x20cluster'+'ed\x20light\x0a/'+'/\x20it\x27s\x20sor'+'ted\x20to\x20hav'+'e\x20all\x20vect'+'ors\x20aligne'+'d\x20to\x204\x20flo'+'ats\x20to\x20lim'+'it\x20padding'+'\x0astruct\x20Cl'+'usterLight'+'Data\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x2032bit'+'\x20of\x20flags\x0a'+'\x20\x20\x20\x20flags:'+'\x20u32,\x0a\x0a\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20sizes'+'\x20/\x20orienta'+'tion\x0a\x20\x20\x20\x20h'+'alfWidth:\x20'+'vec3f,\x0a\x0a\x20\x20'+'\x20\x20isSpot:\x20'+'bool,\x0a\x0a\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20sizes'+'\x20/\x20orienta'+'tion\x0a\x20\x20\x20\x20h'+'alfHeight:'+'\x20vec3f,\x0a\x0a\x20'+'\x20\x20\x20//\x20ligh'+'t\x20index\x0a\x20\x20'+'\x20\x20lightInd'+'ex:\x20i32,\x0a\x0a'+'\x20\x20\x20\x20//\x20wor'+'ld\x20space\x20p'+'osition\x0a\x20\x20'+'\x20\x20position'+':\x20vec3f,\x0a\x0a'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sh'+'ape\x0a\x20\x20\x20\x20sh'+'ape:\x20u32,\x0a'+'\x0a\x20\x20\x20\x20//\x20wo'+'rld\x20space\x20'+'direction\x20'+'(spot\x20ligh'+'t\x20only)\x0a\x20\x20'+'\x20\x20directio'+'n:\x20vec3f,\x0a'+'\x0a\x20\x20\x20\x20//\x20li'+'ght\x20follow'+'\x20mode\x0a\x20\x20\x20\x20'+'falloffMod'+'eLinear:\x20b'+'ool,\x0a\x0a\x20\x20\x20\x20'+'//\x20color\x0a\x20'+'\x20\x20\x20color:\x20'+'vec3f,\x0a\x0a\x20\x20'+'\x20\x20//\x200.0\x20i'+'f\x20the\x20ligh'+'t\x20doesn\x27t\x20'+'cast\x20shado'+'ws\x0a\x20\x20\x20\x20sha'+'dowIntensi'+'ty:\x20f32,\x0a\x0a'+'\x20\x20\x20\x20//\x20atl'+'as\x20viewpor'+'t\x20for\x20omni'+'\x20light\x20sha'+'dow\x20and\x20co'+'okie\x20(.xy\x20'+'is\x20offset\x20'+'to\x20the\x20vie'+'wport\x20slot'+',\x20.z\x20is\x20si'+'ze\x20of\x20the\x20'+'face\x20in\x20th'+'e\x20atlas)\x0a\x20'+'\x20\x20\x20omniAtl'+'asViewport'+':\x20vec3f,\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20of\x20the\x20'+'light\x0a\x20\x20\x20\x20'+'range:\x20f32'+',\x0a\x0a\x20\x20\x20\x20//\x20'+'channel\x20ma'+'sk\x20-\x20one\x20o'+'f\x20the\x20chan'+'nels\x20has\x201'+',\x20the\x20othe')+('rs\x20are\x200\x0a\x20'+'\x20\x20\x20cookieC'+'hannelMask'+':\x20vec4f,\x0a\x0a'+'\x20\x20\x20\x20//\x20com'+'pressed\x20bi'+'ases,\x20two\x20'+'haf-floats'+'\x20stored\x20in'+'\x20a\x20float\x0a\x20'+'\x20\x20\x20biasesD'+'ata:\x20f32,\x0a'+'\x0a\x20\x20\x20\x20//\x20sh'+'adow\x20bias\x20'+'values\x0a\x20\x20\x20'+'\x20shadowBia'+'s:\x20f32,\x0a\x20\x20'+'\x20\x20shadowNo'+'rmalBias:\x20'+'f32,\x0a\x0a\x20\x20\x20\x20'+'//\x20compres'+'sed\x20angles'+',\x20two\x20haf-'+'floats\x20sto'+'red\x20in\x20a\x20f'+'loat\x0a\x20\x20\x20\x20a'+'nglesData:'+'\x20f32,\x0a\x0a\x20\x20\x20'+'\x20//\x20spot\x20l'+'ight\x20inner'+'\x20and\x20outer'+'\x20angle\x20cos'+'ine\x0a\x20\x20\x20\x20in'+'nerConeAng'+'leCos:\x20f32'+',\x0a\x20\x20\x20\x20oute'+'rConeAngle'+'Cos:\x20f32,\x0a'+'\x0a\x20\x20\x20\x20//\x20in'+'tensity\x20of'+'\x20the\x20cooki'+'e\x0a\x20\x20\x20\x20cook'+'ieIntensit'+'y:\x20f32,\x0a\x0a\x20'+'\x20\x20\x20//\x20ligh'+'t\x20mask\x0a\x20\x20\x20'+'\x20//float\x20m'+'ask;\x0a\x20\x20\x20\x20i'+'sDynamic:\x20'+'bool,\x0a\x20\x20\x20\x20'+'isLightmap'+'ped:\x20bool\x0a'+'}\x0a\x0a//\x20Note'+':\x20on\x20some\x20'+'devices\x20(t'+'ested\x20on\x20P'+'ixel\x203A\x20XL'+'),\x20this\x20ma'+'trix\x20when\x20'+'stored\x20ins'+'ide\x20the\x20li'+'ght\x20struct'+'\x20has\x20lower'+'\x20precision'+'\x20compared\x20'+'to\x0a//\x20when'+'\x20stored\x20ou'+'tside,\x20so\x20'+'we\x20store\x20i'+'t\x20outside\x20'+'to\x20avoid\x20s'+'pot\x20shadow'+'\x20flickerin'+'g.\x20This\x20mi'+'ght\x20need\x20t'+'o\x20be\x20done\x20'+'to\x20other\x20/'+'\x20all\x20membe'+'rs\x0a//\x20of\x20t'+'he\x20structu'+'re\x20if\x20furt'+'her\x20simila'+'r\x20issues\x20a'+'re\x20observe'+'d.\x0a\x0a//\x20sha'+'dow\x20(spot\x20'+'light\x20only'+')\x20/\x20cookie'+'\x20projectio'+'n\x20matrix\x0av'+'ar<private'+'>\x20lightPro'+'jectionMat'+'rix:\x20mat4x'+'4f;\x0a\x0afn\x20sa'+'mpleLightT'+'extureF(li'+'ghtIndex:\x20'+'i32,\x20index'+':\x20i32)\x20->\x20')+('vec4f\x20{\x0a\x20\x20'+'\x20\x20return\x20t'+'extureLoad'+'(lightsTex'+'ture,\x20vec2'+'<i32>(inde'+'x,\x20lightIn'+'dex),\x200);\x0a'+'}\x0a\x0afn\x20deco'+'deClusterL'+'ightCore(c'+'lusterLigh'+'tData:\x20ptr'+'<function,'+'\x20ClusterLi'+'ghtData>,\x20'+'lightIndex'+':\x20f32)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20lig'+'ht\x20index\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'lightIndex'+'\x20=\x20i32(lig'+'htIndex);\x0a'+'\x0a\x20\x20\x20\x20//\x20sa'+'mple\x20data\x20'+'encoding\x20h'+'alf-float\x20'+'values\x20int'+'o\x2032bit\x20ui'+'nts\x0a\x20\x20\x20\x20le'+'t\x20halfData'+':\x20vec4f\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData.lig'+'htIndex,\x20{'+'CLUSTER_TE'+'XTURE_COLO'+'R_ANGLES_B'+'IAS});\x0a\x0a\x20\x20'+'\x20\x20//\x20store'+'\x20floats\x20we'+'\x20decode\x20la'+'ter\x20as\x20nee'+'ded\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.angle'+'sData\x20=\x20ha'+'lfData.z;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.biasesDat'+'a\x20=\x20halfDa'+'ta.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20decomp'+'ress\x20color'+'\x20half-floa'+'ts\x0a\x20\x20\x20\x20let'+'\x20colorRG:\x20'+'vec2f\x20=\x20un'+'pack2x16fl'+'oat(bitcas'+'t<u32>(hal'+'fData.x));'+'\x0a\x20\x20\x20\x20let\x20c'+'olorB_:\x20ve'+'c2f\x20=\x20unpa'+'ck2x16floa'+'t(bitcast<'+'u32>(halfD'+'ata.y));\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'color\x20=\x20ve'+'c3f(colorR'+'G,\x20colorB_'+'.x)\x20*\x20{LIG'+'HT_COLOR_D'+'IVIDER};\x0a\x0a'+'\x20\x20\x20\x20//\x20pos'+'ition\x20and\x20'+'range,\x20ful'+'l\x20floats\x0a\x20'+'\x20\x20\x20let\x20lig'+'htPosRange'+':\x20vec4f\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData.lig'+'htIndex,\x20{'+'CLUSTER_TE'+'XTURE_POSI'+'TION_RANGE'+'});\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.posit')+('ion\x20=\x20ligh'+'tPosRange.'+'xyz;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.rang'+'e\x20=\x20lightP'+'osRange.w;'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'pot\x20direct'+'ion\x20&\x20flag'+'s\x20data\x0a\x20\x20\x20'+'\x20let\x20light'+'Dir_Flags:'+'\x20vec4f\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData.ligh'+'tIndex,\x20{C'+'LUSTER_TEX'+'TURE_DIREC'+'TION_FLAGS'+'});\x0a\x0a\x20\x20\x20\x20/'+'/\x20spot\x20lig'+'ht\x20directi'+'on\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.direct'+'ion\x20=\x20ligh'+'tDir_Flags'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x2032bit\x20'+'flags\x0a\x20\x20\x20\x20'+'let\x20flags_'+'uint:\x20u32\x20'+'=\x20bitcast<'+'u32>(light'+'Dir_Flags.'+'w);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.flags'+'\x20=\x20flags_u'+'int;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.isSp'+'ot\x20=\x20(flag'+'s_uint\x20&\x20('+'1u\x20<<\x2030u)'+')\x20!=\x200u;\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'shape\x20=\x20(f'+'lags_uint\x20'+'>>\x2028u)\x20&\x20'+'0x3u;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.fal'+'loffModeLi'+'near\x20=\x20(fl'+'ags_uint\x20&'+'\x20(1u\x20<<\x2027'+'u))\x20==\x200u;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.shadowIn'+'tensity\x20=\x20'+'f32((flags'+'_uint\x20>>\x200'+'u)\x20&\x200xFFu'+')\x20/\x20255.0;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieIn'+'tensity\x20=\x20'+'f32((flags'+'_uint\x20>>\x208'+'u)\x20&\x200xFFu'+')\x20/\x20255.0;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.isDynami'+'c\x20=\x20(flags'+'_uint\x20&\x20(1'+'u\x20<<\x2022u))'+'\x20!=\x200u;\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sLightmapp'+'ed\x20=\x20(flag'+'s_uint\x20&\x20('+'1u\x20<<\x2021u)'+')\x20!=\x200u;\x0a}'+'\x0a\x0afn\x20decod'+'eClusterLi'+'ghtSpot(cl'+'usterLight'+'Data:\x20ptr<'+'function,\x20'+'ClusterLig'+'htData>)\x20{')+('\x0a\x20\x20\x20\x20//\x20sp'+'ot\x20light\x20c'+'os\x20angles\x0a'+'\x20\x20\x20\x20let\x20an'+'gles:\x20vec2'+'f\x20=\x20unpack'+'2x16float('+'bitcast<u3'+'2>(cluster'+'LightData.'+'anglesData'+'));\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.inner'+'ConeAngleC'+'os\x20=\x20angle'+'s.x;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20angl'+'es.y;\x0a}\x0a\x0af'+'n\x20decodeCl'+'usterLight'+'OmniAtlasV'+'iewport(cl'+'usterLight'+'Data:\x20ptr<'+'function,\x20'+'ClusterLig'+'htData>)\x20{'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.omniAtla'+'sViewport\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData.l'+'ightIndex,'+'\x20{CLUSTER_'+'TEXTURE_PR'+'OJ_MAT_0})'+'.xyz;\x0a}\x0a\x0af'+'n\x20decodeCl'+'usterLight'+'AreaData(c'+'lusterLigh'+'tData:\x20ptr'+'<function,'+'\x20ClusterLi'+'ghtData>)\x20'+'{\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.halfWid'+'th\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a.lightInd'+'ex,\x20{CLUST'+'ER_TEXTURE'+'_AREA_DATA'+'_WIDTH}).x'+'yz;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.halfH'+'eight\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data.light'+'Index,\x20{CL'+'USTER_TEXT'+'URE_AREA_D'+'ATA_HEIGHT'+'}).xyz;\x0a}\x0a'+'\x0afn\x20decode'+'ClusterLig'+'htProjecti'+'onMatrixDa'+'ta(cluster'+'LightData:'+'\x20ptr<funct'+'ion,\x20Clust'+'erLightDat'+'a>)\x20{\x0a\x20\x20\x20\x20'+'//\x20shadow\x20'+'matrix\x0a\x20\x20\x20'+'\x20let\x20m0:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_0});\x0a\x20\x20\x20'+'\x20let\x20m1:\x20v')+('ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_1});\x0a\x20\x20\x20'+'\x20let\x20m2:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_2});\x0a\x20\x20\x20'+'\x20let\x20m3:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_3});\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4x'+'4f(m0,\x20m1,'+'\x20m2,\x20m3);\x0a'+'}\x0a\x0afn\x20deco'+'deClusterL'+'ightShadow'+'Data(clust'+'erLightDat'+'a:\x20ptr<fun'+'ction,\x20Clu'+'sterLightD'+'ata>)\x20{\x0a\x20\x20'+'\x20\x20//\x20shado'+'w\x20biases\x0a\x20'+'\x20\x20\x20let\x20bia'+'ses:\x20vec2f'+'\x20=\x20unpack2'+'x16float(b'+'itcast<u32'+'>(clusterL'+'ightData.b'+'iasesData)'+');\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.shadow'+'Bias\x20=\x20bia'+'ses.x;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.sh'+'adowNormal'+'Bias\x20=\x20bia'+'ses.y;\x0a}\x0a\x0a'+'fn\x20decodeC'+'lusterLigh'+'tCookieDat'+'a(clusterL'+'ightData:\x20'+'ptr<functi'+'on,\x20Cluste'+'rLightData'+'>)\x20{\x0a\x0a\x20\x20\x20\x20'+'//\x20extract'+'\x20channel\x20m'+'ask\x20from\x20f'+'lags\x0a\x20\x20\x20\x20l'+'et\x20cookieF'+'lags:\x20u32\x20'+'=\x20(cluster'+'LightData.'+'flags\x20>>\x202'+'3u)\x20&\x200x0F'+'u;\x20\x20//\x204bi'+'ts,\x20each\x20b'+'it\x20enables'+'\x20a\x20channel'+'\x0a\x20\x20\x20\x20let\x20m'+'ask_uvec:\x20'+'vec4<u32>\x20'+'=\x20vec4<u32'+'>(cookieFl'+'ags)\x20&\x20vec'+'4<u32>(1u,'+'\x202u,\x204u,\x208'+'u);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.cooki'+'eChannelMa'+'sk\x20=\x20step('+'vec4f(1.0)')+(',\x20vec4f(ma'+'sk_uvec));'+'\x20//\x20Normal'+'ize\x20to\x200.0'+'\x20or\x201.0\x0a}\x0a'+'\x0afn\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20light:\x20'+'ptr<functi'+'on,\x20Cluste'+'rLightData'+'>,\x0a\x20\x20\x20\x20wor'+'ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20viewDir:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20reflectio'+'nDir:\x20vec3'+'f,\x0a#if\x20def'+'ined(LIT_C'+'LEARCOAT)\x0a'+'\x20\x20\x20\x20clearc'+'oatReflect'+'ionDir:\x20ve'+'c3f,\x0a#endi'+'f\x0a\x20\x20\x20\x20glos'+'s:\x20f32,\x0a\x20\x20'+'\x20\x20specular'+'ity:\x20vec3f'+',\x0a\x20\x20\x20\x20geom'+'etricNorma'+'l:\x20vec3f,\x0a'+'\x20\x20\x20\x20tbn:\x20m'+'at3x3f,\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20iridescen'+'ceFresnel:'+'\x20vec3f,\x0a#e'+'ndif\x0a\x20\x20\x20\x20c'+'learcoat_w'+'orldNormal'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20clearco'+'at_gloss:\x20'+'f32,\x0a\x20\x20\x20\x20s'+'heen_gloss'+':\x20f32,\x0a\x20\x20\x20'+'\x20iridescen'+'ce_intensi'+'ty:\x20f32\x0a)\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ve'+'c3f(1.0);\x0a'+'\x20\x20\x20\x20var\x20di'+'ffuseAtten'+'uation:\x20f3'+'2\x20=\x201.0;\x0a\x20'+'\x20\x20\x20var\x20fal'+'loffAttenu'+'ation:\x20f32'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20omni\x20'+'part\x20of\x20th'+'e\x20light\x0a\x20\x20'+'\x20\x20let\x20ligh'+'tDirW:\x20vec'+'3f\x20=\x20evalO'+'mniLight(l'+'ight.posit'+'ion);\x0a\x20\x20\x20\x20'+'let\x20lightD'+'irNormW:\x20v'+'ec3f\x20=\x20nor'+'malize(lig'+'htDirW);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_A'+'REALIGHTS\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'stance\x20att'+'enuation\x0a\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20!'+'=\x20{LIGHTSH'+'APE_PUNCTU'+'AL})\x20{\x20//\x20'+'area\x20light'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tAreaData('+'light);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20')+('handle\x20lig'+'ht\x20shape\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcRectLig'+'htValues(l'+'ight.posit'+'ion,\x20light'+'.halfWidth'+',\x20light.ha'+'lfHeight);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcDiskLigh'+'tValues(li'+'ght.positi'+'on,\x20light.'+'halfWidth,'+'\x20light.hal'+'fHeight);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x20//\x20'+'sphere\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcSphereL'+'ightValues'+'(light.pos'+'ition,\x20lig'+'ht.halfWid'+'th,\x20light.'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20falloffA'+'ttenuation'+'\x20=\x20getFall'+'offWindow('+'light.rang'+'e,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.fallo'+'ffModeLine'+'ar)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20=\x20g'+'etFalloffL'+'inear(ligh'+'t.range,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'falloffAtt'+'enuation\x20='+'\x20getFallof'+'fInvSquare'+'d(light.ra'+'nge,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20if'+'\x20(falloffA'+'ttenuation'+'\x20>\x200.00001'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'CLUSTER_AR'+'EALIGHTS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.sh'+'ape\x20!=\x20{LI'+'GHTSHAPE_P'+'UNCTUAL})\x20'+'{\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20handle\x20l'+'ight\x20shape'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20='+'=\x20{LIGHTSH'+'APE_RECT})'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getRectLig'+'htDiffuse('+'worldNorma'+'l,\x20viewDir'+',\x20lightDir'+'W,\x20lightDi'+'rNormW)\x20*\x20'+'16.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_DISK'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20diffuseAt'+'tenuation\x20'+'=\x20getDiskL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irW,\x20light'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x20{\x20/'+'/\x20sphere\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20diffu'+'seAttenuat'+'ion\x20=\x20getS'+'phereLight'+'Diffuse(wo'+'rldNormal,'+'\x20viewDir,\x20'+'lightDirW,'+'\x20lightDirN'+'ormW)\x20*\x2016'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20getLi'+'ghtDiffuse'+'(worldNorm'+'al,\x20viewDi'+'r,\x20lightDi'+'rNormW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.is'+'Spot)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'decodeClus'+'terLightSp'+'ot(light);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20getSp'+'otEffect(l'+'ight.direc'+'tion,\x20ligh'+'t.innerCon'+'eAngleCos,'+'\x20light.out'+'erConeAngl'+'eCos,\x20ligh'+'tDirNormW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(CLUSTER'+'_COOKIES)\x20'+'||\x20defined'+'(CLUSTER_S'+'HADOWS)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(falloffAt'+'tenuation\x20'+'>\x200.00001)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'hadow\x20/\x20co')+('okie\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'dowIntensi'+'ty\x20>\x200.0\x20|'+'|\x20light.co'+'okieIntens'+'ity\x20>\x200.0)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20shared\x20'+'shadow\x20/\x20c'+'ookie\x20data'+'\x20depends\x20o'+'n\x20light\x20ty'+'pe\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(light.i'+'sSpot)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ecodeClust'+'erLightPro'+'jectionMat'+'rixData(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20decodeClu'+'sterLightO'+'mniAtlasVi'+'ewport(lig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'TextureRes'+'olution:\x20f'+'32\x20=\x20unifo'+'rm.shadowA'+'tlasParams'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'EdgePixels'+':\x20f32\x20=\x20un'+'iform.shad'+'owAtlasPar'+'ams.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_C'+'OOKIES\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(light.'+'cookieInte'+'nsity\x20>\x200.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtCookieD'+'ata(light)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.isSpot)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'!!!!!!!!!!'+'!\x20TEXTURE_'+'PASS\x20likel'+'y\x20needs\x20sa'+'mpler.\x20Ass'+'uming\x20cook'+'ieAtlasTex'+'tureSample'+'r\x20exists.\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20cookie'+'Attenuatio'+'n\x20=\x20getCoo'+'kie2DClust'+'ered(cooki'+'eAtlasText'+'ure,\x20cooki'+'eAtlasText'+'ureSampler'+',\x20lightPro'+'jectionMat'+'rix,\x20vPosi'+'tionW,\x20lig')+('ht.cookieI'+'ntensity,\x20'+'light.cook'+'ieChannelM'+'ask);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20!!!!!!!!'+'!!!\x20TEXTUR'+'E_PASS\x20lik'+'ely\x20needs\x20'+'sampler.\x20A'+'ssuming\x20co'+'okieAtlasT'+'extureSamp'+'ler\x20exists'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20cook'+'ieAttenuat'+'ion\x20=\x20getC'+'ookieCubeC'+'lustered(c'+'ookieAtlas'+'Texture,\x20c'+'ookieAtlas'+'TextureSam'+'pler,\x20ligh'+'tDirW,\x20lig'+'ht.cookieI'+'ntensity,\x20'+'light.cook'+'ieChannelM'+'ask,\x20shado'+'wTextureRe'+'solution,\x20'+'shadowEdge'+'Pixels,\x20li'+'ght.omniAt'+'lasViewpor'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20CLUSTER_'+'SHADOWS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'adow\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(light'+'.shadowInt'+'ensity\x20>\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20deco'+'deClusterL'+'ightShadow'+'Data(light'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20sh'+'adowParams'+':\x20vec4f\x20=\x20'+'vec4f(shad'+'owTextureR'+'esolution,'+'\x20light.sha'+'dowNormalB'+'ias,\x20light'+'.shadowBia'+'s,\x201.0\x20/\x20l'+'ight.range'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.isSpot'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot\x20sha'+'dow\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20shadowCo'+'ord:\x20vec3f'+'\x20=\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(lightPro'+'jectionMat')+('rix,\x20shado'+'wParams,\x20g'+'eometricNo'+'rmal);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20!!!!!'+'!!!!!!\x20SHA'+'DOWMAP_PAS'+'S\x20needs\x20te'+'xture\x20and\x20'+'sampler_co'+'mparison.\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20!!!'+'!!!!!!!!\x20S'+'hadow\x20func'+'tions\x20need'+'\x20update\x20fo'+'r\x20WGSL\x20tex'+'tureSample'+'Compare\x20et'+'c.\x20Assumin'+'g\x20these\x20ar'+'e\x20handled\x20'+'in\x20include'+'s.\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sha'+'dow:\x20f32\x20='+'\x20getShadow'+'SpotCluste'+'redPCF1(sh'+'adowAtlasT'+'exture,\x20sh'+'adowAtlasT'+'extureSamp'+'ler,\x20shado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hadow:\x20f32'+'\x20=\x20getShad'+'owSpotClus'+'teredPCF3('+'shadowAtla'+'sTexture,\x20'+'shadowAtla'+'sTextureSa'+'mpler,\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF5)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20shadow:\x20f'+'32\x20=\x20getSh'+'adowSpotCl'+'usteredPCF'+'5(shadowAt'+'lasTexture'+',\x20shadowAt'+'lasTexture'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCSS)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l')+('et\x20shadow:'+'\x20f32\x20=\x20get'+'ShadowSpot'+'ClusteredP'+'CSS(shadow'+'AtlasTextu'+'re,\x20shadow'+'AtlasTextu'+'reSampler,'+'\x20shadowCoo'+'rd,\x20shadow'+'Params);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20fallof'+'fAttenuati'+'on\x20=\x20fallo'+'ffAttenuat'+'ion\x20*\x20mix('+'1.0,\x20shado'+'w,\x20light.s'+'hadowInten'+'sity);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20omni\x20'+'shadow\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20dir:\x20'+'vec3f\x20=\x20no'+'rmalOffset'+'PointShado'+'w(shadowPa'+'rams,\x20ligh'+'t.position'+',\x20lightDir'+'W,\x20lightDi'+'rNormW,\x20ge'+'ometricNor'+'mal);\x20\x20//\x20'+'normalBias'+'\x20adjusted\x20'+'for\x20distan'+'ce\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20!!!!!!!!!'+'!!\x20SHADOWM'+'AP_PASS\x20ne'+'eds\x20textur'+'e\x20and\x20samp'+'ler_compar'+'ison.\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20!!!!!!!'+'!!!!\x20Shado'+'w\x20function'+'s\x20need\x20upd'+'ate\x20for\x20WG'+'SL\x20texture'+'SampleComp'+'are\x20etc.\x20A'+'ssuming\x20th'+'ese\x20are\x20ha'+'ndled\x20in\x20i'+'ncludes.\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF1)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20shadow:'+'\x20f32\x20=\x20get'+'ShadowOmni'+'ClusteredP'+'CF1(shadow'+'AtlasTextu'+'re,\x20shadow'+'AtlasTextu'+'reSampler,'+'\x20shadowPar'+'ams,\x20light'+'.omniAtlas'+'Viewport,\x20'+'shadowEdge'+'Pixels,\x20di'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadow:\x20f3'+'2\x20=\x20getSha'+'dowOmniClu'+'steredPCF3'+'(shadowAtl'+'asTexture,'+'\x20shadowAtl'+'asTextureS'+'ampler,\x20sh'+'adowParams'+',\x20light.om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20dir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF5)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sha'+'dow:\x20f32\x20='+'\x20getShadow'+'OmniCluste'+'redPCF5(sh'+'adowAtlasT'+'exture,\x20sh'+'adowAtlasT'+'extureSamp'+'ler,\x20shado'+'wParams,\x20l'+'ight.omniA'+'tlasViewpo'+'rt,\x20shadow'+'EdgePixels'+',\x20dir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20mix(1'+'.0,\x20shadow'+',\x20light.sh'+'adowIntens'+'ity);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'/\x20specular'+'\x20/\x20clearco'+'at\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_AREA'+'LIGHTS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.shap'+'e\x20!=\x20{LIGH'+'TSHAPE_PUN'+'CTUAL})\x20{\x20'+'//\x20area\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20diffuse\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20areaDif'+'fuse:\x20vec3'+'f\x20=\x20(diffu'+'seAttenuat'+'ion\x20*\x20fall'+'offAttenua'+'tion)\x20*\x20li')+('ght.color\x20'+'*\x20cookieAt'+'tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_SPECUL'+'AR)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaDi'+'ffuse\x20=\x20mi'+'x(areaDiff'+'use,\x20vec3f'+'(0.0),\x20dLT'+'CSpecFres)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20diff'+'use\x20-\x20it\x20d'+'oes\x20not\x20mi'+'x\x20diffuse\x20'+'lighting\x20i'+'nto\x20specul'+'ar\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20dDi'+'ffuseLight'+'\x20+\x20areaDif'+'fuse;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spec'+'ular\x20and\x20c'+'lear\x20coat\x20'+'are\x20materi'+'al\x20setting'+'s\x20and\x20get\x20'+'included\x20b'+'y\x20a\x20define'+'\x20based\x20on\x20'+'the\x20materi'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20spec'+'ular\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20areaL'+'ightSpecul'+'ar:\x20f32;\x20/'+'/\x20Use\x20var\x20'+'because\x20as'+'signed\x20in\x20'+'if/else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_RECT'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'ar\x20=\x20getRe'+'ctLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20if\x20(ligh'+'t.shape\x20=='+'\x20{LIGHTSHA'+'PE_DISK})\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecular\x20'+'=\x20getDiskL'+'ightSpecul'+'ar(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x20//\x20sphere'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20areaLight'+'Specular\x20='+'\x20getSphere'+'LightSpecu')+('lar(worldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20+\x20dLTC'+'SpecFres\x20*'+'\x20areaLight'+'Specular\x20*'+'\x20falloffAt'+'tenuation\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sp'+'ecular\x20cle'+'ar\x20coat\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20areaLigh'+'tSpecularC'+'C:\x20f32;\x20//'+'\x20Use\x20var\x20b'+'ecause\x20ass'+'igned\x20in\x20i'+'f/else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.sh'+'ape\x20==\x20{LI'+'GHTSHAPE_R'+'ECT})\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecularC'+'C\x20=\x20getRec'+'tLightSpec'+'ular(clear'+'coat_world'+'Normal,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_DISK'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'reaLightSp'+'ecularCC\x20='+'\x20getDiskLi'+'ghtSpecula'+'r(clearcoa'+'t_worldNor'+'mal,\x20viewD'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20{\x20//\x20sph'+'ere\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaLightSpe'+'cularCC\x20=\x20'+'getSphereL'+'ightSpecul'+'ar(clearco'+'at_worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'cSpecularL'+'ight\x20=\x20ccS'+'pecularLig'+'ht\x20+\x20ccLTC'+'SpecFres\x20*'+'\x20areaLight'+'SpecularCC'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20\x20*\x20c'+'ookieAtten')+('uation;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x20\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20punctual'+'\x20light\x20dif'+'fuse\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20p'+'unctualDif'+'fuse:\x20vec3'+'f\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(CLU'+'STER_AREAL'+'IGHTS)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_S'+'PECULAR)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'unctualDif'+'fuse\x20=\x20mix'+'(punctualD'+'iffuse,\x20ve'+'c3f(0.0),\x20'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20=\x20dDiffus'+'eLight\x20+\x20p'+'unctualDif'+'fuse;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spec'+'ular\x20and\x20c'+'lear\x20coat\x20'+'are\x20materi'+'al\x20setting'+'s\x20and\x20get\x20'+'included\x20b'+'y\x20a\x20define'+'\x20based\x20on\x20'+'the\x20materi'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20half'+'Dir:\x20vec3f'+'\x20=\x20normali'+'ze(-lightD'+'irNormW\x20+\x20'+'viewDir);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specular\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR_FRESN'+'EL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20=\x20'+'dSpecularL'+'ight\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD')+('ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view'+'Dir,\x20halfD'+'ir),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecularity\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ce_intensi'+'ty\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20+'+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'=\x20ccSpecul'+'arLight\x20+\x20'+'getLightSp'+'ecular(hal'+'fDir,\x20clea'+'rcoatRefle'+'ctionDir,\x20'+'clearcoat_'+'worldNorma'+'l,\x20viewDir'+',\x20lightDir'+'NormW,\x20cle'+'arcoat_glo'+'ss,\x20tbn)\x20*'+'\x20falloffAt')+('tenuation\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion\x20*\x20getF'+'resnelCC(d'+'ot(viewDir'+',\x20halfDir)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20='+'\x20ccSpecula'+'rLight\x20+\x20g'+'etLightSpe'+'cular(half'+'Dir,\x20clear'+'coatReflec'+'tionDir,\x20c'+'learcoat_w'+'orldNormal'+',\x20viewDir,'+'\x20lightDirN'+'ormW,\x20clea'+'rcoat_glos'+'s,\x20tbn)\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20*\x20cooki'+'eAttenuati'+'on;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20=\x20sSpec'+'ularLight\x20'+'+\x20getLight'+'SpecularSh'+'een(halfDi'+'r,\x20worldNo'+'rmal,\x20view'+'Dir,\x20light'+'DirNormW,\x20'+'sheen_glos'+'s)\x20*\x20fallo'+'ffAttenuat'+'ion\x20*\x20ligh'+'t.color\x20*\x20'+'cookieAtte'+'nuation;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20Writ'+'e\x20to\x20globa'+'l\x20attenuat'+'ion\x20values'+'\x20(for\x20ligh'+'tmapper)\x0a\x20'+'\x20\x20\x20dAtten\x20'+'=\x20falloffA'+'ttenuation'+';\x0a\x20\x20\x20\x20dLig'+'htDirNormW'+'\x20=\x20lightDi'+'rNormW;\x0a}\x0a'+'\x0a\x0afn\x20evalu'+'ateCluster'+'Light(\x0a\x20\x20\x20'+'\x20lightInde'+'x:\x20f32,\x0a\x20\x20'+'\x20\x20worldNor'+'mal:\x20vec3f'+',\x0a\x20\x20\x20\x20view'+'Dir:\x20vec3f'+',\x0a\x20\x20\x20\x20refl'+'ectionDir:'+'\x20vec3f,\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20c'+'learcoatRe'+'flectionDi'+'r:\x20vec3f,\x0a'+'#endif\x0a\x20\x20\x20')+('\x20gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20spe'+'cularity:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20geometric'+'Normal:\x20ve'+'c3f,\x0a\x20\x20\x20\x20t'+'bn:\x20mat3x3'+'f,\x0a#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20irid'+'escenceFre'+'snel:\x20vec3'+'f,\x0a#endif\x0a'+'\x20\x20\x20\x20clearc'+'oat_worldN'+'ormal:\x20vec'+'3f,\x0a\x20\x20\x20\x20cl'+'earcoat_gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20sheen_'+'gloss:\x20f32'+',\x0a\x20\x20\x20\x20irid'+'escence_in'+'tensity:\x20f'+'32\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20decod'+'e\x20core\x20lig'+'ht\x20data\x20fr'+'om\x20texture'+'s\x0a\x20\x20\x20\x20var\x20'+'clusterLig'+'htData:\x20Cl'+'usterLight'+'Data;\x0a\x20\x20\x20\x20'+'decodeClus'+'terLightCo'+'re(&cluste'+'rLightData'+',\x20lightInd'+'ex);\x0a\x0a\x20\x20\x20\x20'+'//\x20evaluat'+'e\x20light\x20if'+'\x20it\x20uses\x20a'+'ccepted\x20li'+'ght\x20mask\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'CLUSTER_ME'+'SH_DYNAMIC'+'_LIGHTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'acceptLigh'+'tMask:\x20boo'+'l\x20=\x20cluste'+'rLightData'+'.isDynamic'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20accept'+'LightMask:'+'\x20bool\x20=\x20cl'+'usterLight'+'Data.isLig'+'htmapped;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'acceptLigh'+'tMask)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20eva'+'luateLight'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20&clust'+'erLightDat'+'a,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20world'+'Normal,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'viewDir,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20reflectio'+'nDir,\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x0a#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20spe'+'cularity,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20geometri'+'cNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20tbn,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE')+('NCE)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descenceFr'+'esnel,\x0a#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_worl'+'dNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'sheen_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20);\x0a\x20\x20'+'\x20\x20}\x0a}\x0a\x0a\x0afn'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20world'+'Normal:\x20ve'+'c3f,\x0a\x20\x20\x20\x20v'+'iewDir:\x20ve'+'c3f,\x0a\x20\x20\x20\x20r'+'eflectionD'+'ir:\x20vec3f,'+'\x0a#if\x20defin'+'ed(LIT_CLE'+'ARCOAT)\x0a\x20\x20'+'\x20\x20clearcoa'+'tReflectio'+'nDir:\x20vec3'+'f,\x0a#endif\x0a'+'\x20\x20\x20\x20gloss:'+'\x20f32,\x0a\x20\x20\x20\x20'+'specularit'+'y:\x20vec3f,\x0a'+'\x20\x20\x20\x20geomet'+'ricNormal:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20tbn:\x20mat'+'3x3f,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20i'+'ridescence'+'Fresnel:\x20v'+'ec3f,\x0a#end'+'if\x0a\x20\x20\x20\x20cle'+'arcoat_wor'+'ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20clearcoat'+'_gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20she'+'en_gloss:\x20'+'f32,\x0a\x20\x20\x20\x20i'+'ridescence'+'_intensity'+':\x20f32\x0a)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20sk'+'ip\x20lights\x20'+'if\x20no\x20ligh'+'ts\x20at\x20all\x0a'+'\x20\x20\x20\x20if\x20(un'+'iform.clus'+'terSkip\x20>\x20'+'0.5)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20wor'+'ld\x20space\x20p'+'osition\x20to'+'\x203d\x20intege'+'r\x20cell\x20cor'+'dinates\x20in'+'\x20the\x20clust'+'er\x20structu'+'re\x0a\x20\x20\x20\x20let'+'\x20cellCoord'+'s:\x20vec3f\x20='+'\x20floor((vP'+'ositionW\x20-'+'\x20uniform.c'+'lusterBoun'+'dsMin)\x20*\x20u'+'niform.clu'+'sterCellsC'+'ountByBoun'+'dsSize);\x0a\x0a'+'\x20\x20\x20\x20//\x20no\x20'+'lighting\x20w'+'hen\x20cell\x20c'+'oordinate\x20'+'is\x20out\x20of\x20'+'range\x0a\x20\x20\x20\x20'+'if\x20(!(any('+'cellCoords')+('\x20<\x20vec3f(0'+'.0))\x20||\x20an'+'y(cellCoor'+'ds\x20>=\x20unif'+'orm.cluste'+'rCellsMax)'+'))\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cel'+'l\x20index\x20(m'+'apping\x20fro'+'m\x203d\x20cell\x20'+'coordinate'+'s\x20to\x20linea'+'r\x20memory)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20cellInde'+'x:\x20f32\x20=\x20d'+'ot(uniform'+'.clusterCe'+'llsDot,\x20ce'+'llCoords);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20convert'+'\x20cell\x20inde'+'x\x20to\x20uv\x20co'+'ordinates\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20clusterV'+':\x20f32\x20=\x20fl'+'oor(cellIn'+'dex\x20*\x20unif'+'orm.cluste'+'rTextureSi'+'ze.y);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20c'+'lusterU:\x20f'+'32\x20=\x20cellI'+'ndex\x20-\x20(cl'+'usterV\x20*\x20u'+'niform.clu'+'sterTextur'+'eSize.x);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20loop\x20ove'+'r\x20maximum\x20'+'number\x20of\x20'+'light\x20cell'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'for\x20(var\x20l'+'ightCellIn'+'dex:\x20i32\x20='+'\x200;\x20lightC'+'ellIndex\x20<'+'\x20uniform.c'+'lusterMaxC'+'ells;\x20ligh'+'tCellIndex'+'\x20=\x20lightCe'+'llIndex\x20+\x20'+'1)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20using\x20a\x20s'+'ingle\x20chan'+'nel\x20textur'+'e\x20with\x20dat'+'a\x20in\x20red\x20c'+'hannel\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20lightIn'+'dexPacked:'+'\x20f32\x20=\x20tex'+'tureLoad(c'+'lusterWorl'+'dTexture,\x20'+'vec2<i32>('+'i32(cluste'+'rU)\x20+\x20ligh'+'tCellIndex'+',\x20i32(clus'+'terV)),\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(lightInde'+'xPacked\x20<='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20break;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ev'+'aluateClus'+'terLight(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tIndexPack'+'ed\x20*\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20vie'+'wDir,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20reflecti'+'onDir,\x0a#if'+'\x20defined(L'+'IT_CLEARCO'+'AT)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'specularit'+'y,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'eometricNo'+'rmal,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20tbn,\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coat_world'+'Normal,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20clearc'+'oat_gloss,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20she'+'en_gloss,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a}'),SM='\x0afn\x20combin'+'eColor(alb'+'edo:\x20vec3f'+',\x20sheenSpe'+'cularity:\x20'+'vec3f,\x20cle'+'arcoatSpec'+'ularity:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20ret:\x20ve'+'c3f\x20=\x20vec3'+'f(0.0);\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_OLD_AM'+'BIENT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ret\x20=\x20'+'ret\x20+\x20((dD'+'iffuseLigh'+'t\x20-\x20unifor'+'m.light_gl'+'obalAmbien'+'t)\x20*\x20albed'+'o\x20+\x20unifor'+'m.material'+'_ambient\x20*'+'\x20uniform.l'+'ight_globa'+'lAmbient);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20(albedo\x20*'+'\x20dDiffuseL'+'ight);\x0a\x20\x20\x20'+'\x20#endif\x20//'+'\x20LIT_OLD_A'+'MBIENT\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20dSpecular'+'Light;\x0a\x20\x20\x20'+'\x20#endif\x20//'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20(dReflect'+'ion.rgb\x20*\x20'+'dReflectio'+'n.a);\x0a\x20\x20\x20\x20'+'#endif\x20//\x20'+'LIT_REFLEC'+'TIONS\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'sheenScali'+'ng:\x20f32\x20=\x20'+'1.0\x20-\x20max('+'max(sheenS'+'pecularity'+'.r,\x20sheenS'+'pecularity'+'.g),\x20sheen'+'Specularit'+'y.b)\x20*\x200.1'+'57;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20sheenS'+'caling\x20+\x20('+'sSpecularL'+'ight\x20+\x20sRe'+'flection.r'+'gb)\x20*\x20shee'+'nSpeculari'+'ty;\x0a\x20\x20\x20\x20#e'+'ndif\x20//\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20clear'+'CoatScalin'+'g:\x20f32\x20=\x201'+'.0\x20-\x20ccFre'+'snel\x20*\x20cle'+'arcoatSpec'+'ularity;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'\x20=\x20ret\x20*\x20c'+'learCoatSc'+'aling\x20+\x20(c'+'cSpecularL'+'ight\x20+\x20ccR'+'eflection)'+('\x20*\x20clearco'+'atSpecular'+'ity;\x0a\x20\x20\x20\x20#'+'endif\x20//\x20L'+'IT_CLEARCO'+'AT\x0a\x0a\x20\x20\x20\x20re'+'turn\x20ret;\x0a'+'}\x0a'),yM='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c2f;\x0a\x0a\x20\x20\x20\x20'+'var\x20blitTe'+'xture:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20blitText'+'ureSampler'+'\x20:\x20sampler'+';\x0a\x0a\x20\x20\x20\x20@fr'+'agment\x0a\x20\x20\x20'+'\x20fn\x20fragme'+'ntMain(inp'+'ut\x20:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20output:\x20'+'FragmentOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20t'+'extureSamp'+'le(blitTex'+'ture,\x20blit'+'TextureSam'+'pler,\x20inpu'+'t.uv0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a\x20\x20\x20\x20}\x0a',vM='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c2f;\x0a\x20\x20\x20\x20u'+'niform\x20inv'+'ViewProj:\x20'+'mat4x4<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20blitTextu'+'re:\x20textur'+'e_cube<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20blitTextu'+'reSampler\x20'+':\x20sampler;'+'\x0a\x0a\x20\x20\x20\x20@fra'+'gment\x0a\x20\x20\x20\x20'+'fn\x20fragmen'+'tMain(inpu'+'t\x20:\x20Fragme'+'ntInput)\x20-'+'>\x20Fragment'+'Output\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20pro'+'jPos\x20=\x20vec'+'4f(input.u'+'v0\x20*\x202.0\x20-'+'\x201.0,\x200.5,'+'\x201.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20w'+'orldPos\x20=\x20'+'uniform.in'+'vViewProj\x20'+'*\x20projPos;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20textur'+'eSample(bl'+'itTexture,'+'\x20blitTextu'+'reSampler,'+'\x20worldPos.'+'xyz);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20output;\x0a\x20'+'\x20\x20\x20}\x0a',xM='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20varying'+'\x20uv0:\x20vec2'+'f;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input:'+'\x20VertexInp'+'ut)\x20->\x20Ver'+'texOutput\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20vec4f(in'+'put.vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.uv0'+'\x20=\x20input.v'+'ertex_posi'+'tion\x20*\x200.5'+'\x20+\x20vec2f(0'+'.5,\x200.5);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.uv0.y'+'\x20=\x201.0\x20-\x20o'+'utput.uv0.'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a',TM='\x0a\x0a#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20BOX\x0a\x20\x20\x20\x20'+'uniform\x20en'+'vBoxMin:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'uniform\x20en'+'vBoxMax:\x20v'+'ec3f;\x0a#end'+'if\x0a\x0afn\x20cub'+'eMapProjec'+'t(nrdir:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20cubeMapR'+'otate(nrdi'+'r);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20LIT_CU'+'BEMAP_PROJ'+'ECTION\x20==\x20'+'BOX\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20nrd'+'ir_rotated'+':\x20vec3f\x20=\x20'+'cubeMapRot'+'ate(nrdir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20rbmax'+':\x20vec3f\x20=\x20'+'(uniform.e'+'nvBoxMax\x20-'+'\x20vPosition'+'W)\x20/\x20nrdir'+'_rotated;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20rbmin:\x20v'+'ec3f\x20=\x20(un'+'iform.envB'+'oxMin\x20-\x20vP'+'ositionW)\x20'+'/\x20nrdir_ro'+'tated;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'rbminmax:\x20'+'vec3f\x20=\x20se'+'lect(rbmin'+',\x20rbmax,\x20n'+'rdir_rotat'+'ed\x20>\x20vec3f'+'(0.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'fa:\x20f32\x20=\x20'+'min(min(rb'+'minmax.x,\x20'+'rbminmax.y'+'),\x20rbminma'+'x.z);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20p'+'osonbox:\x20v'+'ec3f\x20=\x20vPo'+'sitionW\x20+\x20'+'nrdir_rota'+'ted\x20*\x20fa;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20envBoxPo'+'s:\x20vec3f\x20='+'\x20(uniform.'+'envBoxMin\x20'+'+\x20uniform.'+'envBoxMax)'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20normali'+'ze(posonbo'+'x\x20-\x20envBox'+'Pos);\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',wM='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20cubeMap'+'RotationMa'+'trix:\x20mat3'+'x3f;\x0a#endi'+'f\x0a\x0afn\x20cube'+'MapRotate('+'refDir:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a#ifd'+'ef\x20CUBEMAP'+'_ROTATION\x0a'+'\x20\x20\x20\x20return'+'\x20refDir\x20*\x20'+'uniform.cu'+'beMapRotat'+'ionMatrix;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir;\x0a#end'+'if\x0a}\x0a',EM='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0aoutp'+'ut.color\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0aoutput.co'+'lor\x20=\x20vec4'+'f(litArgs_'+'albedo\x20,\x201'+'.0);\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'DEBUG_WORL'+'D_NORMAL_P'+'ASS\x0aoutput'+'.color\x20=\x20v'+'ec4f(litAr'+'gs_worldNo'+'rmal\x20*\x200.5'+'\x20+\x200.5,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_OPACI'+'TY_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(v'+'ec3f(litAr'+'gs_opacity'+')\x20,\x201.0);\x0a'+'#endif\x0a\x0a#i'+'fdef\x20DEBUG'+'_SPECULARI'+'TY_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(l'+'itArgs_spe'+'cularity,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_GLO'+'SS_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(v'+'ec3f(litAr'+'gs_gloss)\x20'+',\x201.0);\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20DEBUG_M'+'ETALNESS_P'+'ASS\x0aoutput'+'.color\x20=\x20v'+'ec4f(vec3f'+'(litArgs_m'+'etalness)\x20'+',\x201.0);\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20DEBUG_A'+'O_PASS\x0aout'+'put.color\x20'+'=\x20vec4f(ve'+'c3f(litArg'+'s_ao)\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_EMISS'+'ION_PASS\x0ao'+'utput.colo'+'r\x20=\x20vec4f('+'gammaCorre'+'ctOutput(l'+'itArgs_emi'+'ssion),\x201.'+'0);\x0a#endif'+'\x0a',bM='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0a\x20\x20'+'\x20\x20litArgs_'+'albedo\x20=\x20v'+'ec3f(0.5);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0a#ifdef\x20VA'+'RYING_VUV0'+'\x0a\x20\x20\x20\x20litAr'+'gs_albedo\x20'+'=\x20vec3f(vU'+'v0,\x200.0);\x0a'+'#else\x0a\x20\x20\x20\x20'+'litArgs_al'+'bedo\x20=\x20vec'+'3f(0.0);\x0a#'+'endif\x0a#end'+'if\x0a',AM='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0afn\x20de'+'codeLinear'+'(raw:\x20vec4'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20raw.r'+'gb;\x0a}\x0a\x0afn\x20'+'decodeGamm'+'aFloat(raw'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20pow'+'(raw,\x202.2)'+';\x0a}\x0a\x0afn\x20de'+'codeGamma3'+'(raw:\x20vec3'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20pow(r'+'aw,\x20vec3f('+'2.2));\x0a}\x0a\x0a'+'fn\x20decodeG'+'amma(raw:\x20'+'vec4f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow(raw.xyz'+',\x20vec3f(2.'+'2));\x0a}\x0a\x0afn'+'\x20decodeRGB'+'M(raw:\x20vec'+'4f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20color\x20='+'\x20(8.0\x20*\x20ra'+'w.a)\x20*\x20raw'+'.rgb;\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0afn\x20de'+'codeRGBP(r'+'aw:\x20vec4f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'color\x20=\x20ra'+'w.rgb\x20*\x20(-'+'raw.a\x20*\x207.'+'0\x20+\x208.0);\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0af'+'n\x20decodeRG'+'BE(raw:\x20ve'+'c4f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20sel'+'ect(vec3f('+'0.0),\x20raw.'+'xyz\x20*\x20pow('+'2.0,\x20raw.w'+'\x20*\x20255.0\x20-'+'\x20128.0),\x20r'+'aw.a\x20!=\x200.'+'0);\x0a}\x0a\x0afn\x20'+'passThroug'+'h(raw:\x20vec'+'4f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw;'+'\x0a}\x0a\x0afn\x20unp'+'ackNormalX'+'YZ(nmap:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20nm'+'ap.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'}\x0a\x0afn\x20unpa'+'ckNormalXY'+'(nmap:\x20vec'+'4f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20xy\x20=\x20nm'+'ap.wy\x20*\x202.'+'0\x20-\x201.0;\x0a\x20'+'\x20\x20\x20return\x20'+'vec3f(xy,\x20'+'sqrt(1.0\x20-'+'\x20clamp(dot'+'(xy,\x20xy),\x20'+'0.0,\x201.0))'+');\x0a}\x0a\x0a#end'+'if\x0a',CM='\x0a\x0a#ifndef\x20'+'_DETAILMOD'+'ES_INCLUDE'+'D_\x0a#define'+'\x20_DETAILMO'+'DES_INCLUD'+'ED_\x0a\x0afn\x20de'+'tailMode_m'+'ul(c1:\x20vec'+'3f,\x20c2:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20c1\x20'+'*\x20c2;\x0a}\x0a\x0af'+'n\x20detailMo'+'de_add(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20c1\x20+\x20c2;\x0a'+'}\x0a\x0a//\x20http'+'s://en.wik'+'ipedia.org'+'/wiki/Blen'+'d_modes#Sc'+'reen\x0afn\x20de'+'tailMode_s'+'creen(c1:\x20'+'vec3f,\x20c2:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'1.0\x20-\x20(1.0'+'\x20-\x20c1)*(1.'+'0\x20-\x20c2);\x0a}'+'\x0a\x0a//\x20https'+'://en.wiki'+'pedia.org/'+'wiki/Blend'+'_modes#Ove'+'rlay\x0afn\x20de'+'tailMode_o'+'verlay(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20mix(1.0\x20-'+'\x202.0\x20*\x20(1.'+'0\x20-\x20c1)*(1'+'.0\x20-\x20c2),\x20'+'2.0\x20*\x20c1\x20*'+'\x20c2,\x20step('+'c1,\x20vec3f('+'0.5)));\x0a}\x0a'+'\x0afn\x20detail'+'Mode_min(c'+'1:\x20vec3f,\x20'+'c2:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20min(c1,'+'\x20c2);\x0a}\x0a\x0af'+'n\x20detailMo'+'de_max(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20max(c1,\x20c'+'2);\x0a}\x0a\x0a#en'+'dif\x0a',PM='\x0auniform\x20m'+'aterial_di'+'ffuse:\x20vec'+'3f;\x0a\x0a#ifde'+'f\x20STD_DIFF'+'USEDETAIL_'+'TEXTURE\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22detailMo'+'desPS\x22\x0a#en'+'dif\x0a\x0afn\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20unif'+'orm.materi'+'al_diffuse'+'.rgb;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSE_'+'TEXTURE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'albedoText'+'ure:\x20vec3f'+'\x20=\x20{STD_DI'+'FFUSE_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_DIFFU'+'SE_TEXTURE'+'_NAME},\x20{S'+'TD_DIFFUSE'+'_TEXTURE_N'+'AME}Sample'+'r,\x20{STD_DI'+'FFUSE_TEXT'+'URE_UV},\x20u'+'niform.tex'+'tureBias))'+'.{STD_DIFF'+'USE_TEXTUR'+'E_CHANNEL}'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSED'+'ETAIL_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'albedoDeta'+'il:\x20vec3f\x20'+'=\x20{STD_DIF'+'FUSEDETAIL'+'_TEXTURE_D'+'ECODE}(tex'+'tureSample'+'Bias({STD_'+'DIFFUSEDET'+'AIL_TEXTUR'+'E_NAME},\x20{'+'STD_DIFFUS'+'EDETAIL_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_DIFFU'+'SEDETAIL_T'+'EXTURE_UV}'+',\x20uniform.'+'textureBia'+'s)).{STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20albedoT'+'exture\x20=\x20d'+'etailMode_'+'{STD_DIFFU'+'SEDETAIL_D'+'ETAILMODE}'+'(albedoTex'+'ture,\x20albe'+'doDetail);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAlbe'+'do\x20=\x20dAlbe'+'do\x20*\x20albed'+'oTexture;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_DIF'+'FUSE_VERTE'+'X\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAlbedo\x20=\x20'+'dAlbedo\x20*\x20'+'gammaCorre'+'ctInputVec'+'3(saturate'+'3(vVertexC'+'olor.{STD_'+('DIFFUSE_VE'+'RTEX_CHANN'+'EL}));\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),MM='\x0auniform\x20m'+'aterial_em'+'issive:\x20ve'+'c3f;\x0aunifo'+'rm\x20materia'+'l_emissive'+'Intensity:'+'\x20f32;\x0a\x0afn\x20'+'getEmissio'+'n()\x20{\x0a\x20\x20\x20\x20'+'dEmission\x20'+'=\x20uniform.'+'material_e'+'missive\x20*\x20'+'uniform.ma'+'terial_emi'+'ssiveInten'+'sity;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_EMISSIVE'+'_TEXTURE\x0a\x20'+'\x20\x20\x20dEmissi'+'on\x20*=\x20{STD'+'_EMISSIVE_'+'TEXTURE_DE'+'CODE}(text'+'ureSampleB'+'ias({STD_E'+'MISSIVE_TE'+'XTURE_NAME'+'},\x20{STD_EM'+'ISSIVE_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_EMISSI'+'VE_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias)).{S'+'TD_EMISSIV'+'E_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_EMI'+'SSIVE_VERT'+'EX\x0a\x20\x20\x20\x20dEm'+'ission\x20=\x20d'+'Emission\x20*'+'\x20gammaCorr'+'ectInputVe'+'c3(saturat'+'e3(vVertex'+'Color.{STD'+'_EMISSIVE_'+'VERTEX_CHA'+'NNEL}));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a',DM='\x0afn\x20encode'+'Linear(sou'+'rce:\x20vec3f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec4f('+'source,\x201.'+'0);\x0a}\x0a\x0afn\x20'+'encodeGamm'+'a(source:\x20'+'vec3f)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4f(pow(s'+'ource\x20+\x20ve'+'c3f(0.0000'+'001),\x20vec3'+'f(1.0\x20/\x202.'+'2)),\x201.0);'+'\x0a}\x0a\x0afn\x20enc'+'odeRGBM(so'+'urce:\x20vec3'+'f)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20va'+'r\x20color:\x20v'+'ec3f\x20=\x20pow'+'(source,\x20v'+'ec3f(0.5))'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x201.0\x20/'+'\x208.0;\x0a\x0a\x20\x20\x20'+'\x20var\x20a:\x20f3'+'2\x20=\x20satura'+'te(max(max'+'(color.r,\x20'+'color.g),\x20'+'max(color.'+'b,\x201.0\x20/\x202'+'55.0)));\x0a\x20'+'\x20\x20\x20a\x20=\x20cei'+'l(a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20col'+'or\x20/=\x20a;\x0a\x20'+'\x20\x20\x20return\x20'+'vec4f(colo'+'r,\x20a);\x0a}\x0a\x0a'+'fn\x20encodeR'+'GBP(source'+':\x20vec3f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20//\x20con'+'vert\x20incom'+'ing\x20linear'+'\x20to\x20gamma('+'ish)\x0a\x20\x20\x20\x20v'+'ar\x20gamma:\x20'+'vec3f\x20=\x20po'+'w(source,\x20'+'vec3f(0.5)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20the\x20maxim'+'um\x20compone'+'nt\x20clamped'+'\x20to\x201..8\x0a\x20'+'\x20\x20\x20var\x20max'+'Val:\x20f32\x20='+'\x20min(8.0,\x20'+'max(1.0,\x20m'+'ax(gamma.x'+',\x20max(gamm'+'a.y,\x20gamma'+'.z))));\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20stor'+'age\x20factor'+'\x0a\x20\x20\x20\x20var\x20v'+':\x20f32\x20=\x201.'+'0\x20-\x20((maxV'+'al\x20-\x201.0)\x20'+'/\x207.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20roun'+'d\x20the\x20valu'+'e\x20for\x20stor'+'age\x20in\x208bi'+'t\x20channel\x0a'+'\x20\x20\x20\x20v\x20=\x20ce'+'il(v\x20*\x20255'+'.0)\x20/\x20255.'+'0;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20vec4f'+'(gamma\x20/\x20('+'-v\x20*\x207.0\x20+'+'\x208.0),\x20v);'+'\x0a}\x0a\x0afn\x20enc'+'odeRGBE(so'+'urce:\x20vec3'+'f)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20va'+('r\x20maxVal:\x20'+'f32\x20=\x20max('+'source.x,\x20'+'max(source'+'.y,\x20source'+'.z));\x0a\x20\x20\x20\x20'+'if\x20(maxVal'+'\x20<\x201e-32)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'4f(0.0,\x200.'+'0,\x200.0,\x200.'+'0);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20e'+':\x20f32\x20=\x20ce'+'il(log2(ma'+'xVal));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(s'+'ource\x20/\x20po'+'w(2.0,\x20e),'+'\x20(e\x20+\x20128.'+'0)\x20/\x20255.0'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a'),IM='\x0a\x20\x20\x20\x20var\x20f'+'inalRgb:\x20v'+'ec3f\x20=\x20com'+'bineColor('+'litArgs_al'+'bedo,\x20litA'+'rgs_sheen_'+'specularit'+'y,\x20litArgs'+'_clearcoat'+'_speculari'+'ty);\x0a\x0a\x20\x20\x20\x20'+'finalRgb\x20='+'\x20finalRgb\x20'+'+\x20litArgs_'+'emission;\x0a'+'\x20\x20\x20\x20finalR'+'gb\x20=\x20addFo'+'g(finalRgb'+');\x0a\x20\x20\x20\x20fin'+'alRgb\x20=\x20to'+'neMap(fina'+'lRgb);\x0a\x20\x20\x20'+'\x20finalRgb\x20'+'=\x20gammaCor'+'rectOutput'+'(finalRgb)'+';\x0a\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(fin'+'alRgb,\x20out'+'put.color.'+'a);\x0a',LM='\x0a\x0a#ifndef\x20'+'_ENVATLAS_'+'INCLUDED_\x0a'+'#define\x20_E'+'NVATLAS_IN'+'CLUDED_\x0a\x0a/'+'/\x20the\x20envA'+'tlas\x20is\x20fi'+'xed\x20at\x20512'+'\x20pixels.\x20e'+'very\x20equir'+'ect\x20is\x20gen'+'erated\x20wit'+'h\x201\x20pixel\x20'+'boundary.\x0a'+'const\x20atla'+'sSize\x20:\x20f3'+'2\x20=\x20512.0;'+'\x0aconst\x20sea'+'mSize\x20:\x20f3'+'2\x20=\x201.0\x20/\x20'+'atlasSize;'+'\x0a\x0a//\x20map\x20a'+'\x20normalize'+'d\x20equirect'+'\x20UV\x20to\x20the'+'\x20given\x20rec'+'tangle\x20(ta'+'king\x201\x20pix'+'el\x20seam\x20in'+'to\x20account'+').\x0afn\x20mapU'+'v(uv\x20:\x20vec'+'2f,\x20rect\x20:'+'\x20vec4f)\x20->'+'\x20vec2f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec2f(mix('+'rect.x\x20+\x20s'+'eamSize,\x20r'+'ect.x\x20+\x20re'+'ct.z\x20-\x20sea'+'mSize,\x20uv.'+'x),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20mix(rect.'+'y\x20+\x20seamSi'+'ze,\x20rect.y'+'\x20+\x20rect.w\x20'+'-\x20seamSize'+',\x20uv.y));\x0a'+'}\x0a\x0a//\x20map\x20'+'a\x20normaliz'+'ed\x20equirec'+'t\x20UV\x20and\x20r'+'oughness\x20l'+'evel\x20to\x20th'+'e\x20correct\x20'+'atlas\x20rect'+'.\x0afn\x20mapRo'+'ughnessUv('+'uv\x20:\x20vec2f'+',\x20level\x20:\x20'+'f32)\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'let\x20t\x20:\x20f3'+'2\x20=\x201.0\x20/\x20'+'exp2(level'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mapUv('+'uv,\x20vec4f('+'0.0,\x201.0\x20-'+'\x20t,\x20t,\x20t\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20map\x20sh'+'iny\x20level\x20'+'UV\x0afn\x20mapS'+'hinyUv(uv\x20'+':\x20vec2f,\x20l'+'evel\x20:\x20f32'+')\x20->\x20vec2f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20t\x20:\x20f32\x20='+'\x201.0\x20/\x20exp'+'2(level);\x0a'+'\x20\x20\x20\x20return'+'\x20mapUv(uv,'+'\x20vec4f(1.0'+'\x20-\x20t,\x201.0\x20'+'-\x20t,\x20t,\x20t\x20'+'*\x200.5));\x0a}'+'\x0a\x0a#endif\x0a',RM='\x0a#ifdef\x20LI'+'T_SKYBOX_I'+'NTENSITY\x0a\x20'+'\x20\x20\x20uniform'+'\x20skyboxInt'+'ensity\x20:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20proce'+'ssEnvironm'+'ent(color\x20'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SKYBO'+'X_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20unifo'+'rm.skyboxI'+'ntensity;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20color'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',OM='\x0afn\x20getFal'+'loffWindow'+'(lightRadi'+'us:\x20f32,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20sqrDist'+':\x20f32\x20=\x20do'+'t(lightDir'+',\x20lightDir'+');\x0a\x20\x20\x20\x20let'+'\x20invRadius'+':\x20f32\x20=\x201.'+'0\x20/\x20lightR'+'adius;\x0a\x20\x20\x20'+'\x20return\x20sq'+'uare(satur'+'ate(1.0\x20-\x20'+'square(sqr'+'Dist\x20*\x20squ'+'are(invRad'+'ius))));\x0a}'+'\x0a\x0afn\x20getFa'+'lloffInvSq'+'uared(ligh'+'tRadius:\x20f'+'32,\x20lightD'+'ir:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20sq'+'rDist:\x20f32'+'\x20=\x20dot(lig'+'htDir,\x20lig'+'htDir);\x0a\x20\x20'+'\x20\x20var\x20fall'+'off:\x20f32\x20='+'\x201.0\x20/\x20(sq'+'rDist\x20+\x201.'+'0);\x0a\x20\x20\x20\x20le'+'t\x20invRadiu'+'s:\x20f32\x20=\x201'+'.0\x20/\x20light'+'Radius;\x0a\x0a\x20'+'\x20\x20\x20falloff'+'\x20=\x20falloff'+'\x20*\x2016.0;\x0a\x20'+'\x20\x20\x20falloff'+'\x20=\x20falloff'+'\x20*\x20square('+'saturate(1'+'.0\x20-\x20squar'+'e(sqrDist\x20'+'*\x20square(i'+'nvRadius))'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20fall'+'off;\x0a}\x0a',FM='\x0afn\x20getFal'+'loffLinear'+'(lightRadi'+'us:\x20f32,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20d:\x20f32\x20'+'=\x20length(l'+'ightDir);\x0a'+'\x20\x20\x20\x20return'+'\x20max(((lig'+'htRadius\x20-'+'\x20d)\x20/\x20ligh'+'tRadius),\x20'+'0.0);\x0a}\x0a',NM='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x20re'+'presentati'+'on\x20(0.0-1.'+'0\x20range)\x0af'+'n\x20float2ui'+'nt(value:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'let\x20intBit'+'s\x20=\x20bitcas'+'t<u32>(val'+'ue);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20f32((intB'+'its\x20>>\x2024u'+')\x20&\x200xffu)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32((intBi'+'ts\x20>>\x2016u)'+'\x20&\x200xffu),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'32((intBit'+'s\x20>>\x208u)\x20&'+'\x200xffu),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20f32'+'(intBits\x20&'+'\x200xffu)\x0a\x20\x20'+'\x20\x20)\x20/\x20255.'+'0;\x0a}\x0a\x0a//\x20d'+'ecode\x20RGBA'+'8\x20value\x20to'+'\x20float\x0afn\x20'+'uint2float'+'(value:\x20ve'+'c4f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20le'+'t\x20rgba_u32'+'\x20=\x20vec4<u3'+'2>(value\x20*'+'\x20255.0);\x0a\x20'+'\x20\x20\x20let\x20int'+'Bits:\x20u32\x20'+'=\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'r\x20<<\x2024u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'g\x20<<\x2016u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'b\x20<<\x208u)\x20\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20rgba_u32.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20bitcas'+'t<f32>(int'+'Bits);\x0a}\x0a\x0a'+'//\x20store\x20a'+'\x20single\x20fl'+'oat\x20value\x20'+'in\x20vec4,\x20a'+'ssuming\x20ei'+'ther\x20RGBA8'+'\x20or\x20float\x20'+'renderable'+'\x20texture\x0af'+'n\x20float2ve'+'c4(value:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(CAPS_TEX'+'TURE_FLOAT'+'_RENDERABL'+'E)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4f(value,'+'\x201.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20float2ui'+'nt(value);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a#endi'+'f\x20//\x20FLOAT'+'_AS_UINT\x0a',kM='\x0a\x0avar<priv'+'ate>\x20dBlen'+'dModeFogFa'+'ctor\x20:\x20f32'+'\x20=\x201.0;\x0a\x0a#'+'if\x20(FOG\x20!='+'\x20NONE)\x0a\x20\x20\x20'+'\x20uniform\x20f'+'og_color\x20:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20fog_sta'+'rt\x20:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20fog_'+'end\x20:\x20f32;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20fog'+'_density\x20:'+'\x20f32;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afn\x20ge'+'tFogFactor'+'()\x20->\x20f32\x20'+'{\x0a\x0a\x20\x20\x20\x20let'+'\x20depth\x20=\x20p'+'cPosition.'+'z\x20/\x20pcPosi'+'tion.w;\x0a\x0a\x20'+'\x20\x20\x20var\x20fog'+'Factor\x20:\x20f'+'32\x20=\x200.0;\x0a'+'\x0a\x20\x20\x20\x20#if\x20('+'FOG\x20==\x20LIN'+'EAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20fogFact'+'or\x20=\x20(unif'+'orm.fog_en'+'d\x20-\x20depth)'+'\x20/\x20(unifor'+'m.fog_end\x20'+'-\x20uniform.'+'fog_start)'+';\x0a\x20\x20\x20\x20#eli'+'f\x20(FOG\x20==\x20'+'EXP)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20fogFact'+'or\x20=\x20exp(-'+'depth\x20*\x20un'+'iform.fog_'+'density);\x0a'+'\x20\x20\x20\x20#elif\x20'+'(FOG\x20==\x20EX'+'P2)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fogFacto'+'r\x20=\x20exp(-d'+'epth\x20*\x20dep'+'th\x20*\x20unifo'+'rm.fog_den'+'sity\x20*\x20uni'+'form.fog_d'+'ensity);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(fo'+'gFactor,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0afn\x20addF'+'og(color\x20:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'uniform.fo'+'g_color\x20*\x20'+'dBlendMode'+'FogFactor,'+'\x20color,\x20ge'+'tFogFactor'+'());\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'color;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',UM='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0afn'+'\x20getFresne'+'l(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20cosTheta:'+'\x20f32,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gloss:'+'\x20f32,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel:\x20vec3'+'f,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ceIntensit'+'y:\x20f32\x0a\x20\x20\x20'+'\x20#endif\x0a)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20f'+'resnel:\x20f3'+'2\x20=\x20pow(1.'+'0\x20-\x20satura'+'te(cosThet'+'a),\x205.0);\x0a'+'\x20\x20\x20\x20let\x20gl'+'ossSq:\x20f32'+'\x20=\x20gloss\x20*'+'\x20gloss;\x0a\x20\x20'+'\x20\x20let\x20ret:'+'\x20vec3f\x20=\x20s'+'pecularity'+'\x20+\x20(max(ve'+'c3f(glossS'+'q),\x20specul'+'arity)\x20-\x20s'+'pecularity'+')\x20*\x20fresne'+'l;\x0a\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20mix(ret,'+'\x20iridescen'+'ceFresnel,'+'\x20iridescen'+'ceIntensit'+'y);\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20r'+'et;\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0afn'+'\x20getFresne'+'lCC(cosThe'+'ta:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20fres'+'nel:\x20f32\x20='+'\x20pow(1.0\x20-'+'\x20saturate('+'cosTheta),'+'\x205.0);\x0a\x20\x20\x20'+'\x20return\x200.'+'04\x20+\x20(1.0\x20'+'-\x200.04)\x20*\x20'+'fresnel;\x0a}',BM='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0a\x0avary'+'ing\x20vUv0:\x20'+'vec2f;\x0a\x0a@v'+'ertex\x0afn\x20v'+'ertexMain('+'input:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Vertex'+'Output;\x0a\x20\x20'+'\x20\x20output.p'+'osition\x20=\x20'+'vec4f(inpu'+'t.vertex_p'+'osition,\x200'+'.5,\x201.0);\x0a'+'\x20\x20\x20\x20output'+'.vUv0\x20=\x20in'+'put.vertex'+'_position.'+'xy\x20*\x200.5\x20+'+'\x20vec2f(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',zM='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fn'+'\x20gammaCorr'+'ectInput(c'+'olor:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGammaFloa'+'t(color);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20fn\x20gammaC'+'orrectInpu'+'tVec3(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20deco'+'deGamma3(c'+'olor);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fn'+'\x20gammaCorr'+'ectInputVe'+'c4(color:\x20'+'vec4f)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(d'+'ecodeGamma'+'3(color.xy'+'z),\x20color.'+'w);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20fn\x20ga'+'mmaCorrect'+'Output(col'+'or:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20pow'+'(color\x20+\x200'+'.0000001,\x20'+'vec3f(1.0\x20'+'/\x202.2));\x0a\x20'+'\x20\x20\x20}\x0a\x0a#els'+'e\x20//\x20NONE\x0a'+'\x0a\x20\x20\x20\x20fn\x20ga'+'mmaCorrect'+'Input(colo'+'r:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'fn\x20gammaCo'+'rrectInput'+'Vec3(color'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20color'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20gamm'+'aCorrectIn'+'putVec4(co'+'lor:\x20vec4f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20g'+'ammaCorrec'+'tOutput(co'+'lor:\x20vec3f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a#endif\x0a',VM='\x0a#ifdef\x20ST'+'D_GLOSS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_gl'+'oss:\x20f32;\x0a'+'#endif\x0a\x0afn'+'\x20getGlossi'+'ness()\x20{\x0a\x20'+'\x20\x20\x20dGlossi'+'ness\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_GL'+'OSS_CONSTA'+'NT\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x20dGlossine'+'ss\x20*\x20unifo'+'rm.materia'+'l_gloss;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_GLOS'+'S_TEXTURE\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20=\x20dG'+'lossiness\x20'+'*\x20textureS'+'ampleBias('+'{STD_GLOSS'+'_TEXTURE_N'+'AME},\x20{STD'+'_GLOSS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_GLOSS_'+'TEXTURE_UV'+'},\x20uniform'+'.textureBi'+'as).{STD_G'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_VERT'+'EX\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x20dGlossine'+'ss\x20*\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_GLOSS_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_GLOSS_I'+'NVERT\x0a\x20\x20\x20\x20'+'dGlossines'+'s\x20=\x201.0\x20-\x20'+'dGlossines'+'s;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20d'+'Glossiness'+'\x20=\x20dGlossi'+'ness\x20+\x200.0'+'000001;\x0a}\x0a',GM='\x0auniform\x20m'+'atrix_mode'+'l:\x20mat4x4f'+';\x0auniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0auniform\x20'+'matrix_pro'+'jection:\x20m'+'at4x4f;\x0a\x0a/'+'/\x20project\x20'+'the\x20model\x20'+'space\x20gaus'+'sian\x20cente'+'r\x20to\x20view\x20'+'and\x20clip\x20s'+'pace\x0afn\x20in'+'itCenter(m'+'odelCenter'+':\x20vec3f,\x20c'+'enter:\x20ptr'+'<function,'+'\x20SplatCent'+'er>)\x20->\x20bo'+'ol\x20{\x0a\x20\x20\x20\x20l'+'et\x20modelVi'+'ew:\x20mat4x4'+'f\x20=\x20unifor'+'m.matrix_v'+'iew\x20*\x20unif'+'orm.matrix'+'_model;\x0a\x20\x20'+'\x20\x20let\x20cent'+'erView:\x20ve'+'c4f\x20=\x20mode'+'lView\x20*\x20ve'+'c4f(modelC'+'enter,\x201.0'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20early\x20out'+'\x20if\x20splat\x20'+'is\x20behind\x20'+'the\x20camera'+'\x0a\x20\x20\x20\x20if\x20(c'+'enterView.'+'z\x20>\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20var\x20ce'+'nterProj:\x20'+'vec4f\x20=\x20un'+'iform.matr'+'ix_project'+'ion\x20*\x20cent'+'erView;\x0a\x0a\x20'+'\x20\x20\x20//\x20ensu'+'re\x20gaussia'+'ns\x20are\x20not'+'\x20clipped\x20b'+'y\x20camera\x20n'+'ear\x20and\x20fa'+'r\x0a\x20\x20\x20\x20cent'+'erProj.z\x20='+'\x20clamp(cen'+'terProj.z,'+'\x200.0,\x20abs('+'centerProj'+'.w));\x0a\x0a\x20\x20\x20'+'\x20center.vi'+'ew\x20=\x20cente'+'rView.xyz\x20'+'/\x20centerVi'+'ew.w;\x0a\x20\x20\x20\x20'+'center.pro'+'j\x20=\x20center'+'Proj;\x0a\x20\x20\x20\x20'+'center.pro'+'jMat00\x20=\x20u'+'niform.mat'+'rix_projec'+'tion[0][0]'+';\x0a\x20\x20\x20\x20cent'+'er.modelVi'+'ew\x20=\x20model'+'View;\x0a\x20\x20\x20\x20'+'return\x20tru'+'e;\x0a}\x0a',HM='\x0a\x0avar\x20spla'+'tColor:\x20te'+'xture_2d<f'+'32>;\x0a\x0afn\x20r'+'eadColor(s'+'ource:\x20ptr'+'<function,'+'\x20SplatSour'+'ce>)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'return\x20tex'+'tureLoad(s'+'platColor,'+'\x20source.uv'+',\x200);\x0a}\x0a',WM='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20order:'+'\x20u32,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20id:\x20u3'+'2,\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'uv:\x20vec2<i'+'32>,\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20corn'+'erUV:\x20vec2'+'f,\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a}\x0a\x0a'+'//\x20stores\x20'+'the\x20camera'+'\x20and\x20clip\x20'+'space\x20posi'+'tion\x20of\x20th'+'e\x20gaussian'+'\x20center\x0ast'+'ruct\x20Splat'+'Center\x20{\x0a\x20'+'\x20\x20\x20view:\x20v'+'ec3f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ce'+'nter\x20in\x20vi'+'ew\x20space\x0a\x20'+'\x20\x20\x20proj:\x20v'+'ec4f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ce'+'nter\x20in\x20cl'+'ip\x20space\x0a\x20'+'\x20\x20\x20modelVi'+'ew:\x20mat4x4'+'f,\x20\x20\x20//\x20mo'+'del-view\x20m'+'atrix\x0a\x20\x20\x20\x20'+'projMat00:'+'\x20f32,\x20\x20\x20\x20\x20'+'\x20\x20//\x20eleme'+'mt\x20[0][0]\x20'+'of\x20the\x20pro'+'jection\x20ma'+'trix\x0a}\x0a\x0a//'+'\x20stores\x20th'+'e\x20offset\x20f'+'rom\x20center'+'\x20for\x20the\x20c'+'urrent\x20gau'+'ssian\x0astru'+'ct\x20SplatCo'+'rner\x20{\x0a\x20\x20\x20'+'\x20offset:\x20v'+'ec2f,\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20corn'+'er\x20offset\x20'+'from\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'uv:\x20vec2f,'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20aaFactor:'+'\x20f32,\x20//\x20f'+'or\x20scenes\x20'+'generated\x20'+'with\x20antia'+'liasing\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0a#include'+'\x20\x22gsplatEv'+'alSHVS\x22\x0a#i'+'nclude\x20\x22gs'+'platQuatTo'+'Mat3VS\x22\x0a\x0a#'+'if\x20GSPLAT_'+'COMPRESSED'+'_DATA\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'gsplatComp'+'ressedData'+'VS\x22\x0a\x20\x20\x20\x20#i'+('f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatC'+'ompressedS'+'HVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a#eli'+'f\x20GSPLAT_S'+'OGS_DATA\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsDataVS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tSogsColor'+'VS\x22\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsSHVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#else\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'gsplatData'+'VS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22gs'+'platColorV'+'S\x22\x0a\x20\x20\x20\x20#if'+'\x20SH_BANDS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSH'+'VS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a#endi'+'f\x0a\x0a#includ'+'e\x20\x22gsplatS'+'ourceVS\x22\x0a#'+'include\x20\x22g'+'splatCente'+'rVS\x22\x0a#incl'+'ude\x20\x22gspla'+'tCornerVS\x22'+'\x0a#include\x20'+'\x22gsplatOut'+'putVS\x22\x0a\x0a//'+'\x20modify\x20th'+'e\x20gaussian'+'\x20corner\x20so'+'\x20it\x20exclud'+'es\x20gaussia'+'n\x20regions\x20'+'with\x20alpha'+'\x20less\x20than'+'\x201/255\x0afn\x20'+'clipCorner'+'(corner:\x20p'+'tr<functio'+'n,\x20SplatCo'+'rner>,\x20alp'+'ha:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20let\x20c'+'lip:\x20f32\x20='+'\x20min(1.0,\x20'+'sqrt(-log('+'1.0\x20/\x20(255'+'.0\x20*\x20alpha'+')))\x20/\x202.0)'+';\x0a\x20\x20\x20\x20corn'+'er.offset\x20'+'=\x20corner.o'+'ffset\x20*\x20cl'+'ip;\x0a\x20\x20\x20\x20co'+'rner.uv\x20=\x20'+'corner.uv\x20'+'*\x20clip;\x0a}\x0a'+'\x0a'),$M='\x0avar\x20packe'+'dTexture:\x20'+'texture_2d'+'<u32>;\x0avar'+'\x20chunkText'+'ure:\x20textu'+'re_2d<f32>'+';\x0a\x0a//\x20work'+'\x20values\x0ava'+'r<private>'+'\x20chunkData'+'A:\x20vec4f;\x20'+'\x20\x20\x20//\x20x:\x20m'+'in_x,\x20y:\x20m'+'in_y,\x20z:\x20m'+'in_z,\x20w:\x20m'+'ax_x\x0avar<p'+'rivate>\x20ch'+'unkDataB:\x20'+'vec4f;\x20\x20\x20\x20'+'//\x20x:\x20max_'+'y,\x20y:\x20max_'+'z,\x20z:\x20scal'+'e_min_x,\x20w'+':\x20scale_mi'+'n_y\x0avar<pr'+'ivate>\x20chu'+'nkDataC:\x20v'+'ec4f;\x20\x20\x20\x20/'+'/\x20x:\x20scale'+'_min_z,\x20y:'+'\x20scale_max'+'_x,\x20z:\x20sca'+'le_max_y,\x20'+'w:\x20scale_m'+'ax_z\x0avar<p'+'rivate>\x20ch'+'unkDataD:\x20'+'vec4f;\x20\x20\x20\x20'+'//\x20x:\x20min_'+'r,\x20y:\x20min_'+'g,\x20z:\x20min_'+'b,\x20w:\x20max_'+'r\x0avar<priv'+'ate>\x20chunk'+'DataE:\x20vec'+'4f;\x20\x20\x20\x20//\x20'+'x:\x20max_g,\x20'+'y:\x20max_b,\x20'+'z:\x20unused,'+'\x20w:\x20unused'+'\x0avar<priva'+'te>\x20packed'+'Data:\x20vec4'+'u;\x20\x20\x20\x20//\x20x'+':\x20position'+'\x20bits,\x20y:\x20'+'rotation\x20b'+'its,\x20z:\x20sc'+'ale\x20bits,\x20'+'w:\x20color\x20b'+'its\x0a\x0afn\x20un'+'pack111011'+'(bits:\x20u32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(vec3f'+'((vec3<u32'+'>(bits)\x20>>'+'\x20vec3<u32>'+'(21u,\x2011u,'+'\x200u))\x20&\x20ve'+'c3<u32>(0x'+'7ffu,\x200x3f'+'fu,\x200x7ffu'+')))\x20/\x20vec3'+'f(2047.0,\x20'+'1023.0,\x2020'+'47.0);\x0a}\x0a\x0a'+'fn\x20unpack8'+'888(bits:\x20'+'u32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20f32((bit'+'s\x20>>\x2024u)\x20'+'&\x200xffu),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20f3'+'2((bits\x20>>'+'\x2016u)\x20&\x200x'+'ffu),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20f32((b'+'its\x20>>\x208u)'+'\x20\x20&\x200xffu)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32(bits\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20&\x200'+'xffu)\x0a\x20\x20\x20\x20'+')\x20/\x20255.0;'+('\x0a}\x0a\x0aconst\x20'+'norm_const'+':\x20f32\x20=\x201.'+'0\x20/\x20(sqrt('+'2.0)\x20*\x200.5'+');\x0a\x0afn\x20unp'+'ackRotatio'+'n(bits:\x20u3'+'2)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20a\x20=\x20(f32'+'((bits\x20>>\x20'+'20u)\x20&\x200x3'+'ffu)\x20/\x20102'+'3.0\x20-\x200.5)'+'\x20*\x20norm_co'+'nst;\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20(f3'+'2((bits\x20>>'+'\x2010u)\x20&\x200x'+'3ffu)\x20/\x2010'+'23.0\x20-\x200.5'+')\x20*\x20norm_c'+'onst;\x0a\x20\x20\x20\x20'+'let\x20c\x20=\x20(f'+'32(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+'_const;\x0a\x20\x20'+'\x20\x20let\x20m\x20=\x20'+'sqrt(1.0\x20-'+'\x20(a\x20*\x20a\x20+\x20'+'b\x20*\x20b\x20+\x20c\x20'+'*\x20c));\x0a\x0a\x20\x20'+'\x20\x20let\x20mode'+'\x20=\x20bits\x20>>'+'\x2030u;\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x200u)\x20{\x20re'+'turn\x20vec4f'+'(m,\x20a,\x20b,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x201u)\x20{\x20re'+'turn\x20vec4f'+'(a,\x20m,\x20b,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x202u)\x20{\x20re'+'turn\x20vec4f'+'(a,\x20b,\x20m,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(a,\x20b,\x20c'+',\x20m);\x0a}\x0a\x0a/'+'/\x20read\x20cen'+'ter\x0afn\x20rea'+'dCenter(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20tex_siz'+'e_u\x20=\x20text'+'ureDimensi'+'ons(chunkT'+'exture,\x200)'+';\x0a\x20\x20\x20\x20let\x20'+'w:\x20u32\x20=\x20t'+'ex_size_u.'+'x\x20/\x205u;\x0a\x20\x20'+'\x20\x20let\x20chun'+'kId:\x20u32\x20='+'\x20source.id'+'\x20/\x20256u;\x0a\x20'+'\x20\x20\x20let\x20chu'+'nkUV:\x20vec2'+'<i32>\x20=\x20ve'+'c2<i32>(i3'+'2((chunkId'+'\x20%\x20w)\x20*\x205u'+'),\x20i32(chu'+'nkId\x20/\x20w))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'read\x20chunk'+'\x20and\x20packe'+'d\x20compress'+'ed\x20data\x0a\x20\x20'+'\x20\x20chunkDat'+'aA\x20=\x20textu'+'reLoad(chu'+'nkTexture,'+'\x20chunkUV\x20+'+'\x20vec2<i32>'+'(0,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataB\x20=\x20t'+'extureLoad')+('(chunkText'+'ure,\x20chunk'+'UV\x20+\x20vec2<'+'i32>(1,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataC'+'\x20=\x20texture'+'Load(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20v'+'ec2<i32>(2'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataD\x20=\x20tex'+'tureLoad(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20vec2<i3'+'2>(3,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataE\x20='+'\x20textureLo'+'ad(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20vec'+'2<i32>(4,\x20'+'0),\x200);\x0a\x20\x20'+'\x20\x20packedDa'+'ta\x20=\x20textu'+'reLoad(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(chunkDa'+'taA.xyz,\x20v'+'ec3f(chunk'+'DataA.w,\x20c'+'hunkDataB.'+'xy),\x20unpac'+'k111011(pa'+'ckedData.x'+'));\x0a}\x0a\x0afn\x20'+'readColor('+'source:\x20pt'+'r<function'+',\x20SplatSou'+'rce>)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20let\x20r\x20=\x20u'+'npack8888('+'packedData'+'.w);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(mix(chun'+'kDataD.xyz'+',\x20vec3f(ch'+'unkDataD.w'+',\x20chunkDat'+'aE.xy),\x20r.'+'rgb),\x20r.w)'+';\x0a}\x0a\x0afn\x20ge'+'tRotation('+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20unpack'+'Rotation(p'+'ackedData.'+'y);\x0a}\x0a\x0afn\x20'+'getScale()'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20exp(mix'+'(vec3f(chu'+'nkDataB.zw'+',\x20chunkDat'+'aC.x),\x20chu'+'nkDataC.yz'+'w,\x20unpack1'+'11011(pack'+'edData.z))'+');\x0a}\x0a\x0a//\x20g'+'iven\x20a\x20rot'+'ation\x20matr'+'ix\x20and\x20sca'+'le\x20vector,'+'\x20compute\x203'+'d\x20covarian'+'ce\x20A\x20and\x20B'+'\x0afn\x20readCo'+'variance(s'+'ource:\x20ptr'+'<function,'+'\x20SplatSour'+'ce>,\x20covA_'+'ptr:\x20ptr<f'+'unction,\x20v'+'ec3f>,\x20cov'+'B_ptr:\x20ptr'+'<function,')+('\x20vec3f>)\x20{'+'\x0a\x20\x20\x20\x20let\x20r'+'ot\x20=\x20quatT'+'oMat3(getR'+'otation())'+';\x0a\x20\x20\x20\x20let\x20'+'scale\x20=\x20ge'+'tScale();\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20let\x20M\x20=\x20'+'transpose('+'mat3x3f(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.x\x20*\x20rot'+'[0],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.y'+'\x20*\x20rot[1],'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'cale.z\x20*\x20r'+'ot[2]\x0a\x20\x20\x20\x20'+'));\x0a\x0a\x20\x20\x20\x20*'+'covA_ptr\x20='+'\x20vec3f(dot'+'(M[0],\x20M[0'+']),\x20dot(M['+'0],\x20M[1]),'+'\x20dot(M[0],'+'\x20M[2]));\x0a\x20'+'\x20\x20\x20*covB_p'+'tr\x20=\x20vec3f'+'(dot(M[1],'+'\x20M[1]),\x20do'+'t(M[1],\x20M['+'2]),\x20dot(M'+'[2],\x20M[2])'+');\x0a}\x0a'),XM='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0av'+'ar\x20shTextu'+'re0:\x20textu'+'re_2d<u32>'+';\x0avar\x20shTe'+'xture1:\x20te'+'xture_2d<u'+'32>;\x0avar\x20s'+'hTexture2:'+'\x20texture_2'+'d<u32>;\x0a\x0af'+'n\x20unpack88'+'88s(bits:\x20'+'u32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'let\x20unpack'+'ed_u\x20=\x20(ve'+'c4<u32>(bi'+'ts)\x20>>\x20vec'+'4<u32>(0u,'+'\x208u,\x2016u,\x20'+'24u))\x20&\x20ve'+'c4<u32>(0x'+'ffu);\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(unpacke'+'d_u)\x20*\x20(8.'+'0\x20/\x20255.0)'+'\x20-\x204.0;\x0a}\x0a'+'\x0afn\x20readSH'+'Data(sourc'+'e:\x20ptr<fun'+'ction,\x20Spl'+'atSource>,'+'\x20sh:\x20ptr<f'+'unction,\x20a'+'rray<vec3f'+',\x2015>>,\x20sc'+'ale:\x20ptr<f'+'unction,\x20f'+'32>)\x20{\x0a\x20\x20\x20'+'\x20//\x20read\x20t'+'he\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20let\x20shD'+'ata0:\x20vec4'+'<u32>\x20=\x20te'+'xtureLoad('+'shTexture0'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20let\x20shDat'+'a1:\x20vec4<u'+'32>\x20=\x20text'+'ureLoad(sh'+'Texture1,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20l'+'et\x20shData2'+':\x20vec4<u32'+'>\x20=\x20textur'+'eLoad(shTe'+'xture2,\x20so'+'urce.uv,\x200'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20r0\x20=\x20unp'+'ack8888s(s'+'hData0.x);'+'\x0a\x20\x20\x20\x20let\x20r'+'1\x20=\x20unpack'+'8888s(shDa'+'ta0.y);\x0a\x20\x20'+'\x20\x20let\x20r2\x20='+'\x20unpack888'+'8s(shData0'+'.z);\x0a\x20\x20\x20\x20l'+'et\x20r3\x20=\x20un'+'pack8888s('+'shData0.w)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20g0\x20=\x20unpa'+'ck8888s(sh'+'Data1.x);\x0a'+'\x20\x20\x20\x20let\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20let\x20g2\x20=\x20'+'unpack8888'+'s(shData1.'+'z);\x0a\x20\x20\x20\x20le'+'t\x20g3\x20=\x20unp'+'ack8888s(s'+'hData1.w);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'b0\x20=\x20unpac'+'k8888s(shD'+'ata2.x);\x0a\x20'+'\x20\x20\x20let\x20b1\x20'+('=\x20unpack88'+'88s(shData'+'2.y);\x0a\x20\x20\x20\x20'+'let\x20b2\x20=\x20u'+'npack8888s'+'(shData2.z'+');\x0a\x20\x20\x20\x20let'+'\x20b3\x20=\x20unpa'+'ck8888s(sh'+'Data2.w);\x0a'+'\x0a\x20\x20\x20\x20sh[0]'+'\x20=\x20\x20vec3f('+'r0.x,\x20g0.x'+',\x20b0.x);\x0a\x20'+'\x20\x20\x20sh[1]\x20='+'\x20\x20vec3f(r0'+'.y,\x20g0.y,\x20'+'b0.y);\x0a\x20\x20\x20'+'\x20sh[2]\x20=\x20\x20'+'vec3f(r0.z'+',\x20g0.z,\x20b0'+'.z);\x0a\x20\x20\x20\x20s'+'h[3]\x20=\x20\x20ve'+'c3f(r0.w,\x20'+'g0.w,\x20b0.w'+');\x0a\x20\x20\x20\x20sh['+'4]\x20=\x20\x20vec3'+'f(r1.x,\x20g1'+'.x,\x20b1.x);'+'\x0a\x20\x20\x20\x20sh[5]'+'\x20=\x20\x20vec3f('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3f(r1'+'.z,\x20g1.z,\x20'+'b1.z);\x0a\x20\x20\x20'+'\x20sh[7]\x20=\x20\x20'+'vec3f(r1.w'+',\x20g1.w,\x20b1'+'.w);\x0a\x20\x20\x20\x20s'+'h[8]\x20=\x20\x20ve'+'c3f(r2.x,\x20'+'g2.x,\x20b2.x'+');\x0a\x20\x20\x20\x20sh['+'9]\x20=\x20\x20vec3'+'f(r2.y,\x20g2'+'.y,\x20b2.y);'+'\x0a\x20\x20\x20\x20sh[10'+']\x20=\x20vec3f('+'r2.z,\x20g2.z'+',\x20b2.z);\x0a\x20'+'\x20\x20\x20sh[11]\x20'+'=\x20vec3f(r2'+'.w,\x20g2.w,\x20'+'b2.w);\x0a\x20\x20\x20'+'\x20sh[12]\x20=\x20'+'vec3f(r3.x'+',\x20g3.x,\x20b3'+'.x);\x0a\x20\x20\x20\x20s'+'h[13]\x20=\x20ve'+'c3f(r3.y,\x20'+'g3.y,\x20b3.y'+');\x0a\x20\x20\x20\x20sh['+'14]\x20=\x20vec3'+'f(r3.z,\x20g3'+'.z,\x20b3.z);'+'\x0a\x0a\x20\x20\x20\x20*sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),qM='\x0a\x20\x20\x20\x20#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20SH_'+'COEFFS:\x20i3'+'2\x20=\x203;\x0a\x20\x20\x20'+'\x20#elif\x20SH_'+'BANDS\x20==\x202'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'onst\x20SH_CO'+'EFFS:\x20i32\x20'+'=\x208;\x0a\x20\x20\x20\x20#'+'elif\x20SH_BA'+'NDS\x20==\x203\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20con'+'st\x20SH_COEF'+'FS:\x20i32\x20=\x20'+'15;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20const\x20SH'+'_COEFFS:\x20i'+'32\x20=\x200;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20SH'+'_BANDS\x20>\x200'+'\x0a\x0a\x20\x20\x20\x20cons'+'t\x20SH_C1:\x20f'+'32\x20=\x200.488'+'6025119029'+'199;\x0a\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20>\x201\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20const'+'\x20SH_C2_0:\x20'+'f32\x20=\x201.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_1:\x20f'+'32\x20=\x20-1.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_2:\x20f'+'32\x20=\x200.315'+'3915652525'+'2005;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_3:\x20f'+'32\x20=\x20-1.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_4:\x20f'+'32\x20=\x200.546'+'2742152960'+'396;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20SH_BA'+'NDS\x20>\x202\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20SH_C3_0:'+'\x20f32\x20=\x20-0.'+'5900435899'+'266435;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20SH_C3_1:'+'\x20f32\x20=\x202.8'+'9061144264'+'0554;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C3_2:\x20f'+'32\x20=\x20-0.45'+'7045799464'+'4658;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C3_3:\x20f'+'32\x20=\x200.373'+'1763325901'+'154;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20S'+'H_C3_4:\x20f3'+'2\x20=\x20-0.457'+'0457994644'+'658;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20S'+'H_C3_5:\x20f3'+'2\x20=\x201.4453'+'0572132027'+'7;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20SH_'+'C3_6:\x20f32\x20'+'=\x20-0.59004'+'3589926643'+'5;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20see\x20http'+'s://github'+'.com/graph'+'deco-inria'+('/gaussian-'+'splatting/'+'blob/main/'+'utils/sh_u'+'tils.py\x0a\x20\x20'+'\x20\x20fn\x20evalS'+'H(sh:\x20ptr<'+'function,\x20'+'array<vec3'+'f,\x20SH_COEF'+'FS>>,\x20dir:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20x\x20=\x20dir.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20y\x20=\x20di'+'r.y;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20z\x20='+'\x20dir.z;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'1st\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20result\x20'+'=\x20SH_C1\x20*\x20'+'(-sh[0]\x20*\x20'+'y\x20+\x20sh[1]\x20'+'*\x20z\x20-\x20sh[2'+']\x20*\x20x);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20SH_BANDS\x20'+'>\x201\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x202'+'nd\x20degree\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20xx\x20='+'\x20x\x20*\x20x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20yy\x20=\x20y'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20zz\x20=\x20z\x20*'+'\x20z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'xy\x20=\x20x\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20yz'+'\x20=\x20y\x20*\x20z;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20xz\x20='+'\x20x\x20*\x20z;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20result\x20=\x20'+'result\x20+\x20('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'3]\x20*\x20(SH_C'+'2_0\x20*\x20xy)\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[4]\x20*\x20(SH_'+'C2_1\x20*\x20yz)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[5]\x20*\x20(SH'+'_C2_2\x20*\x20(2'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[6]\x20*\x20(SH_'+'C2_3\x20*\x20xz)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[7]\x20*\x20(SH'+'_C2_4\x20*\x20(x'+'x\x20-\x20yy))\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'3rd\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20result\x20'+'=\x20result\x20+'+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[8]\x20\x20*\x20(S'+'H_C3_0\x20*\x20y'+'\x20*\x20(3.0\x20*\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[9]\x20\x20*\x20(SH'+'_C3_1\x20*\x20xy'+'\x20*\x20z)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20sh[10]'+'\x20*\x20(SH_C3_'+'2\x20*\x20y\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[11]\x20*\x20(SH'+'_C3_3\x20*\x20z\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x203.0\x20*\x20'+'xx\x20-\x203.0\x20*'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[12]'+'\x20*\x20(SH_C3_'+'4\x20*\x20x\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[13]\x20*\x20(SH'+'_C3_5\x20*\x20z\x20'+'*\x20(xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[14]\x20*\x20'+'(SH_C3_6\x20*'+'\x20x\x20*\x20(xx\x20-'+'\x203.0\x20*\x20yy)'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20re'+'sult;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20#end'+'if\x0a'),jM='\x0afn\x20quatTo'+'Mat3(R:\x20ve'+'c4<f32>)\x20-'+'>\x20mat3x3<f'+'32>\x20{\x0a\x20\x20\x20\x20'+'let\x20R2:\x20ve'+'c4<f32>\x20=\x20'+'R\x20+\x20R;\x0a\x20\x20\x20'+'\x20let\x20X:\x20f3'+'2\x20\x20\x20\x20\x20\x20\x20=\x20'+'R2.x\x20*\x20R.w'+';\x0a\x20\x20\x20\x20let\x20'+'Y:\x20vec4<f3'+'2>\x20=\x20R2.y\x20'+'*\x20R;\x0a\x20\x20\x20\x20l'+'et\x20Z:\x20vec4'+'<f32>\x20=\x20R2'+'.z\x20*\x20R;\x0a\x20\x20'+'\x20\x20let\x20W:\x20f'+'32\x20\x20\x20\x20\x20\x20\x20='+'\x20R2.w\x20*\x20R.'+'w;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20mat3x'+'3<f32>(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x201.0\x20'+'-\x20Z.z\x20-\x20W,'+'\x20\x20Y.z\x20+\x20X,'+'\x20\x20\x20\x20\x20\x20Y.w\x20'+'-\x20Z.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20Y.z\x20-'+'\x20X,\x20\x20\x20\x20\x20\x20\x20'+'\x201.0\x20-\x20Y.y'+'\x20-\x20W,\x20Z.w\x20'+'+\x20Y.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20Y.w\x20+'+'\x20Z.x,\x20\x20\x20\x20\x20'+'\x20Z.w\x20-\x20Y.x'+',\x20\x20\x20\x20\x201.0\x20'+'-\x20Y.y\x20-\x20Z.'+'z\x0a\x20\x20\x20\x20);\x0a}'+'\x0a',YM='\x0avar\x20sh0:\x20'+'texture_2d'+'<f32>;\x0a\x0aun'+'iform\x20sh0_'+'mins:\x20vec4'+'f;\x0auniform'+'\x20sh0_maxs:'+'\x20vec4f;\x0a\x0ac'+'onst\x20SH_C0'+':\x20f32\x20=\x200.'+'2820947917'+'7387814;\x0a\x0a'+'fn\x20readCol'+'or(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20let\x20cl'+'r:\x20vec4f\x20='+'\x20mix(unifo'+'rm.sh0_min'+'s,\x20uniform'+'.sh0_maxs,'+'\x20textureLo'+'ad(sh0,\x20so'+'urce.uv,\x200'+'));\x0a\x20\x20\x20\x20re'+'turn\x20vec4f'+'(vec3f(0.5'+')\x20+\x20clr.xy'+'z\x20*\x20SH_C0,'+'\x201.0\x20/\x20(1.'+'0\x20+\x20exp(-c'+'lr.w)));\x0a}'+'\x0a',KM='\x0avar\x20packe'+'dTexture:\x20'+'texture_2d'+'<u32>;\x0a\x0aun'+'iform\x20mean'+'s_mins:\x20ve'+'c3f;\x0aunifo'+'rm\x20means_m'+'axs:\x20vec3f'+';\x0a\x0auniform'+'\x20scales_mi'+'ns:\x20vec3f;'+'\x0auniform\x20s'+'cales_maxs'+':\x20vec3f;\x0a\x0a'+'fn\x20unpackU'+'32(u:\x20u32)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20vec4f(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20f3'+'2((u\x20>>\x2024'+'u)\x20&\x200xFFu'+')\x20/\x20255.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'32((u\x20>>\x201'+'6u)\x20&\x200xFF'+'u)\x20/\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32((u\x20>>\x20'+'8u)\x20&\x200xFF'+'u)\x20/\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32(u\x20&\x200x'+'FFu)\x20/\x20255'+'.0\x0a\x20\x20\x20\x20);\x0a'+'}\x0a\x0avar<pri'+'vate>\x20pack'+'edSample:\x20'+'vec4<u32>;'+'\x0a\x0a//\x20read\x20'+'the\x20model-'+'space\x20cent'+'er\x20of\x20the\x20'+'gaussian\x0af'+'n\x20readCent'+'er(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>)\x20-'+'>\x20vec3f\x20{\x0a'+'\x0a\x20\x20\x20\x20packe'+'dSample\x20=\x20'+'textureLoa'+'d(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20l:\x20vec3f\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.x).xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20u:\x20vec3f\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.y).xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20n:\x20vec3f\x20'+'=\x20(l\x20*\x20255'+'.0\x20+\x20u\x20*\x202'+'55.0\x20*\x20256'+'.0)\x20/\x206553'+'5.0;\x0a\x20\x20\x20\x20l'+'et\x20v:\x20vec3'+'f\x20=\x20mix(un'+'iform.mean'+'s_mins,\x20un'+'iform.mean'+'s_maxs,\x20n)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20sign(v'+')\x20*\x20(exp(a'+'bs(v))\x20-\x201'+'.0);\x0a}\x0a\x0aco'+'nst\x20norm:\x20'+'f32\x20=\x202.0\x20'+'/\x20sqrt(2.0'+');\x0a\x0a//\x20sam'+'ple\x20covari'+'ance\x20vecto'+'rs\x0afn\x20read'+'Covariance'+'(source:\x20p'+'tr<functio'+'n,\x20SplatSo'+'urce>,\x20cov'+'A_ptr:\x20ptr'+'<function,'+'\x20vec3f>,\x20c'+('ovB_ptr:\x20p'+'tr<functio'+'n,\x20vec3f>)'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20qdata:\x20ve'+'c4f\x20=\x20unpa'+'ckU32(pack'+'edSample.z'+');\x0a\x20\x20\x20\x20let'+'\x20sdata:\x20ve'+'c3f\x20=\x20unpa'+'ckU32(pack'+'edSample.w'+').xyz;\x0a\x0a\x20\x20'+'\x20\x20let\x20abc:'+'\x20vec3f\x20=\x20('+'qdata.xyz\x20'+'-\x200.5)\x20*\x20n'+'orm;\x0a\x20\x20\x20\x20l'+'et\x20d:\x20f32\x20'+'=\x20sqrt(max'+'(0.0,\x201.0\x20'+'-\x20dot(abc,'+'\x20abc)));\x0a\x0a'+'\x20\x20\x20\x20let\x20mo'+'de:\x20u32\x20=\x20'+'u32(qdata.'+'w\x20*\x20255.0\x20'+'+\x200.5)\x20-\x202'+'52u;\x0a\x0a\x20\x20\x20\x20'+'var\x20quat:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20if\x20(mode\x20'+'==\x200u)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20qua'+'t\x20=\x20vec4f('+'d,\x20abc);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(mode\x20='+'=\x201u)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20quat'+'\x20=\x20vec4f(a'+'bc.x,\x20d,\x20a'+'bc.y,\x20abc.'+'z);\x0a\x20\x20\x20\x20}\x20'+'else\x20if\x20(m'+'ode\x20==\x202u)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20quat\x20=\x20ve'+'c4f(abc.x,'+'\x20abc.y,\x20d,'+'\x20abc.z);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'quat\x20=\x20vec'+'4f(abc.x,\x20'+'abc.y,\x20abc'+'.z,\x20d);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x0a\x20\x20\x20\x20'+'let\x20rot:\x20m'+'at3x3f\x20=\x20q'+'uatToMat3('+'quat);\x0a\x20\x20\x20'+'\x20let\x20scale'+':\x20vec3f\x20=\x20'+'exp(mix(un'+'iform.scal'+'es_mins,\x20u'+'niform.sca'+'les_maxs,\x20'+'sdata));\x0a\x0a'+'\x20\x20\x20\x20//\x20M\x20='+'\x20S\x20*\x20R\x0a\x20\x20\x20'+'\x20let\x20M:\x20ma'+'t3x3f\x20=\x20tr'+'anspose(ma'+'t3x3f(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20*co'+'vA_ptr\x20=\x20v'+'ec3f(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20*covB_ptr'+'\x20=\x20vec3f(d'+'ot(M[1],\x20M'+'[1]),\x20dot('+'M[1],\x20M[2]'+'),\x20dot(M[2'+'],\x20M[2]));')+'\x0a}\x0a',ZM='\x0avar\x20sh_ce'+'ntroids:\x20t'+'exture_2d<'+'f32>;\x0a\x0auni'+'form\x20shN_m'+'ins:\x20f32;\x0a'+'uniform\x20sh'+'N_maxs:\x20f3'+'2;\x0a\x0afn\x20rea'+'dSHData(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>,\x20sh:\x20pt'+'r<function'+',\x20array<ve'+'c3f,\x20SH_CO'+'EFFS>>,\x20sc'+'ale:\x20ptr<f'+'unction,\x20f'+'32>)\x20{\x0a\x20\x20\x20'+'\x20//\x20extrac'+'t\x20spherica'+'l\x20harmonic'+'s\x20palette\x20'+'index\x0a\x20\x20\x20\x20'+'let\x20t:\x20vec'+'2<i32>\x20=\x20v'+'ec2<i32>(i'+'32(packedS'+'ample.x\x20&\x20'+'255u),\x20i32'+'(packedSam'+'ple.y\x20&\x2025'+'5u));\x0a\x20\x20\x20\x20'+'let\x20n:\x20i32'+'\x20=\x20t.x\x20+\x20t'+'.y\x20*\x20256;\x0a'+'\x20\x20\x20\x20let\x20u:'+'\x20i32\x20=\x20(n\x20'+'%\x2064)\x20*\x20SH'+'_COEFFS;\x0a\x20'+'\x20\x20\x20let\x20v:\x20'+'i32\x20=\x20n\x20/\x20'+'64;\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20offset\x20i'+'nto\x20the\x20ce'+'ntroids\x20te'+'xture\x20and\x20'+'read\x20conse'+'cutive\x20tex'+'els\x0a\x20\x20\x20\x20fo'+'r\x20(var\x20i:\x20'+'i32\x20=\x200;\x20i'+'\x20<\x20SH_COEF'+'FS;\x20i\x20=\x20i\x20'+'+\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[i]'+'\x20=\x20mix(vec'+'3f(uniform'+'.shN_mins)'+',\x20vec3f(un'+'iform.shN_'+'maxs),\x20tex'+'tureLoad(s'+'h_centroid'+'s,\x20vec2<i3'+'2>(u\x20+\x20i,\x20'+'v),\x200).xyz'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20*scale'+'\x20=\x201.0;\x0a}\x0a',QM='\x0auniform\x20v'+'iewport:\x20v'+'ec2f;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20view'+'port\x20dimen'+'sions\x0aunif'+'orm\x20camera'+'_params:\x20v'+'ec4f;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x201\x20/\x20far,\x20'+'far,\x20near,'+'\x20isOrtho\x0a\x0a'+'//\x20calcula'+'te\x20the\x20cli'+'p-space\x20of'+'fset\x20from\x20'+'the\x20center'+'\x20for\x20this\x20'+'gaussian\x0af'+'n\x20initCorn'+'er(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>,\x20c'+'enter:\x20ptr'+'<function,'+'\x20SplatCent'+'er>,\x20corne'+'r:\x20ptr<fun'+'ction,\x20Spl'+'atCorner>)'+'\x20->\x20bool\x20{'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20covarian'+'ce\x0a\x20\x20\x20\x20var'+'\x20covA:\x20vec'+'3f;\x0a\x20\x20\x20\x20va'+'r\x20covB:\x20ve'+'c3f;\x0a\x20\x20\x20\x20r'+'eadCovaria'+'nce(source'+',\x20&covA,\x20&'+'covB);\x0a\x0a\x20\x20'+'\x20\x20let\x20Vrk\x20'+'=\x20mat3x3f('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3f(covA.'+'x,\x20covA.y,'+'\x20covA.z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(covA.y'+',\x20covB.x,\x20'+'covB.y),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(covA.z,'+'\x20covB.y,\x20c'+'ovB.z)\x0a\x20\x20\x20'+'\x20);\x0a\x0a\x20\x20\x20\x20l'+'et\x20focal\x20='+'\x20uniform.v'+'iewport.x\x20'+'*\x20center.p'+'rojMat00;\x0a'+'\x0a\x20\x20\x20\x20let\x20v'+'\x20=\x20select('+'center.vie'+'w.xyz,\x20vec'+'3f(0.0,\x200.'+'0,\x201.0),\x20u'+'niform.cam'+'era_params'+'.w\x20==\x201.0)'+';\x0a\x20\x20\x20\x20let\x20'+'J1\x20=\x20focal'+'\x20/\x20v.z;\x0a\x20\x20'+'\x20\x20let\x20J2\x20='+'\x20-J1\x20/\x20v.z'+'\x20*\x20v.xy;\x0a\x20'+'\x20\x20\x20let\x20J\x20='+'\x20mat3x3f(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(J1,\x200.'+'0,\x20J2.x),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(0.0,\x20J'+'1,\x20J2.y),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(0.0,\x200'+'.0,\x200.0)\x0a\x20'+'\x20\x20\x20);\x0a\x0a\x20\x20\x20'+'\x20let\x20W\x20=\x20t'+'ranspose(m'+'at3x3f(cen'+'ter.modelV'+'iew[0].xyz'+',\x20center.m'+'odelView[1'+'].xyz,\x20cen'+('ter.modelV'+'iew[2].xyz'+'));\x0a\x20\x20\x20\x20le'+'t\x20T\x20=\x20W\x20*\x20'+'J;\x0a\x20\x20\x20\x20let'+'\x20cov\x20=\x20tra'+'nspose(T)\x20'+'*\x20Vrk\x20*\x20T;'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'GSPLAT_AA\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20calculate'+'\x20AA\x20factor'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20detOrig'+'\x20=\x20cov[0]['+'0]\x20*\x20cov[1'+'][1]\x20-\x20cov'+'[0][1]\x20*\x20c'+'ov[1][0];\x20'+'//\x20Using\x20['+'0][1]\x20*\x20[1'+'][0]\x20as\x20ma'+'trix\x20might'+'\x20not\x20be\x20pe'+'rfectly\x20sy'+'mmetric\x20nu'+'merically\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20detBlur\x20'+'=\x20(cov[0]['+'0]\x20+\x200.3)\x20'+'*\x20(cov[1]['+'1]\x20+\x200.3)\x20'+'-\x20cov[0][1'+']\x20*\x20cov[1]'+'[0];\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20corner.'+'aaFactor\x20='+'\x20sqrt(detO'+'rig\x20/\x20detB'+'lur);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20let\x20diag'+'onal1\x20=\x20co'+'v[0][0]\x20+\x20'+'0.3;\x0a\x20\x20\x20\x20l'+'et\x20offDiag'+'onal\x20=\x20cov'+'[0][1];\x0a\x20\x20'+'\x20\x20let\x20diag'+'onal2\x20=\x20co'+'v[1][1]\x20+\x20'+'0.3;\x0a\x0a\x20\x20\x20\x20'+'let\x20mid\x20=\x20'+'0.5\x20*\x20(dia'+'gonal1\x20+\x20d'+'iagonal2);'+'\x0a\x20\x20\x20\x20let\x20r'+'adius\x20=\x20le'+'ngth(vec2f'+'((diagonal'+'1\x20-\x20diagon'+'al2)\x20/\x202.0'+',\x20offDiago'+'nal));\x0a\x20\x20\x20'+'\x20let\x20lambd'+'a1\x20=\x20mid\x20+'+'\x20radius;\x0a\x20'+'\x20\x20\x20let\x20lam'+'bda2\x20=\x20max'+'(mid\x20-\x20rad'+'ius,\x200.1);'+'\x0a\x0a\x20\x20\x20\x20//\x20U'+'se\x20the\x20sma'+'ller\x20viewp'+'ort\x20dimens'+'ion\x20to\x20lim'+'it\x20the\x20ker'+'nel\x20size\x20r'+'elative\x20to'+'\x20the\x20scree'+'n\x20resoluti'+'on.\x0a\x20\x20\x20\x20le'+'t\x20vmin\x20=\x20m'+'in(1024.0,'+'\x20min(unifo'+'rm.viewpor'+'t.x,\x20unifo'+'rm.viewpor'+'t.y));\x0a\x0a\x20\x20'+'\x20\x20let\x20l1\x20='+'\x202.0\x20*\x20min'+'(sqrt(2.0\x20'+'*\x20lambda1)'+',\x20vmin);\x0a\x20'+'\x20\x20\x20let\x20l2\x20'+'=\x202.0\x20*\x20mi'+'n(sqrt(2.0'+'\x20*\x20lambda2')+('),\x20vmin);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly-out\x20ga'+'ussians\x20sm'+'aller\x20than'+'\x202\x20pixels\x0a'+'\x20\x20\x20\x20if\x20(l1'+'\x20<\x202.0\x20&&\x20'+'l2\x20<\x202.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20fal'+'se;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20let\x20c'+'\x20=\x20center.'+'proj.ww\x20/\x20'+'uniform.vi'+'ewport;\x0a\x0a\x20'+'\x20\x20\x20//\x20cull'+'\x20against\x20f'+'rustum\x20x/y'+'\x20axes\x0a\x20\x20\x20\x20'+'if\x20(any((a'+'bs(center.'+'proj.xy)\x20-'+'\x20vec2f(max'+'(l1,\x20l2))\x20'+'*\x20c)\x20>\x20cen'+'ter.proj.w'+'w))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20l'+'et\x20diagona'+'lVector\x20=\x20'+'normalize('+'vec2f(offD'+'iagonal,\x20l'+'ambda1\x20-\x20d'+'iagonal1))'+';\x0a\x20\x20\x20\x20let\x20'+'v1\x20=\x20l1\x20*\x20'+'diagonalVe'+'ctor;\x0a\x20\x20\x20\x20'+'let\x20v2\x20=\x20l'+'2\x20*\x20vec2f('+'diagonalVe'+'ctor.y,\x20-d'+'iagonalVec'+'tor.x);\x20//'+'\x20Swizzle\x0a\x0a'+'\x20\x20\x20\x20corner'+'.offset\x20=\x20'+'(source.co'+'rnerUV.x\x20*'+'\x20v1\x20+\x20sour'+'ce.cornerU'+'V.y\x20*\x20v2)\x20'+'*\x20c;\x0a\x20\x20\x20\x20c'+'orner.uv\x20='+'\x20source.co'+'rnerUV;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'true;\x0a}\x0a'),JM='\x0avar\x20trans'+'formA:\x20tex'+'ture_2d<u3'+'2>;\x0avar\x20tr'+'ansformB:\x20'+'texture_2d'+'<f32>;\x0a\x0a//'+'\x20work\x20valu'+'es\x0avar<pri'+'vate>\x20tAw:'+'\x20u32;\x0a\x0a//\x20'+'read\x20the\x20m'+'odel-space'+'\x20center\x20of'+'\x20the\x20gauss'+'ian\x0afn\x20rea'+'dCenter(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20let\x20'+'tA:\x20vec4<u'+'32>\x20=\x20text'+'ureLoad(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20t'+'Aw\x20=\x20tA.w;'+'\x0a\x20\x20\x20\x20retur'+'n\x20bitcast<'+'vec3f>(tA.'+'xyz);\x0a}\x0a\x0af'+'n\x20unpackRo'+'tation(pac'+'ked:\x20vec3f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec4f('+'packed.xyz'+',\x20sqrt(max'+'(0.0,\x201.0\x20'+'-\x20dot(pack'+'ed,\x20packed'+'))));\x0a}\x0a\x0a/'+'/\x20sample\x20c'+'ovariance\x20'+'vectors\x0afn'+'\x20readCovar'+'iance(sour'+'ce:\x20ptr<fu'+'nction,\x20Sp'+'latSource>'+',\x20covA_ptr'+':\x20ptr<func'+'tion,\x20vec3'+'f>,\x20covB_p'+'tr:\x20ptr<fu'+'nction,\x20ve'+'c3f>)\x20{\x0a\x20\x20'+'\x20\x20let\x20tB:\x20'+'vec4f\x20=\x20te'+'xtureLoad('+'transformB'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20let\x20rot:'+'\x20mat3x3f\x20='+'\x20quatToMat'+'3(unpackRo'+'tation(vec'+'3f(unpack2'+'x16float(b'+'itcast<u32'+'>(tAw)),\x20t'+'B.w)).wxyz'+');\x0a\x20\x20\x20\x20let'+'\x20scale:\x20ve'+'c3f\x20=\x20tB.x'+'yz;\x0a\x0a\x20\x20\x20\x20/'+'/\x20M\x20=\x20S\x20*\x20'+'R\x0a\x20\x20\x20\x20let\x20'+'M\x20=\x20transp'+'ose(mat3x3'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20*covA_p'+'tr\x20=\x20vec3f'+'(dot(M[0],'+'\x20M[0]),\x20do'+('t(M[0],\x20M['+'1]),\x20dot(M'+'[0],\x20M[2])'+');\x0a\x20\x20\x20\x20*co'+'vB_ptr\x20=\x20v'+'ec3f(dot(M'+'[1],\x20M[1])'+',\x20dot(M[1]'+',\x20M[2]),\x20d'+'ot(M[2],\x20M'+'[2]));\x0a}\x0a'),eD='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0afn\x20'+'prepareOut'+'putFromGam'+'ma(gammaCo'+'lor:\x20vec3f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20#if'+'\x20TONEMAP\x20='+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20G'+'AMMA\x20==\x20NO'+'NE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'nvert\x20to\x20l'+'inear\x20spac'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20decodeGam'+'ma3(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20out'+'put\x20gamma\x20'+'space\x20colo'+'r\x20directly'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'gammaColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ap'+'ply\x20tonema'+'pping\x20in\x20l'+'inear\x20spac'+'e\x20and\x20outp'+'ut\x20to\x20line'+'ar\x20or\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20gam'+'ma\x20(which\x20'+'is\x20handled'+'\x20by\x20gammaC'+'orrectOutp'+'ut)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaCorrec'+'tOutput(to'+'neMap(deco'+'deGamma3(g'+'ammaColor)'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',tD='\x0a\x0a#ifndef\x20'+'DITHER_NON'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22baye'+'rPS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22o'+'pacityDith'+'erPS\x22\x0a\x20\x20\x20\x20'+'varying\x20id'+':\x20f32;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20PICK_PAS'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22pick'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_PASS)\x20||\x20'+'defined(PI'+'CK_PASS)\x20|'+'|\x20defined('+'PREPASS_PA'+'SS)\x0a\x20\x20\x20\x20un'+'iform\x20alph'+'aClip:\x20f32'+';\x0a#endif\x0a\x0a'+'#ifdef\x20PRE'+'PASS_PASS\x0a'+'\x20\x20\x20\x20varyin'+'g\x20vLinearD'+'epth:\x20f32;'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22float'+'AsUintPS\x22\x0a'+'#endif\x0a\x0a//'+'\x20Fast\x20appr'+'oximate\x20e^'+'x\x20based\x20on'+'\x20https://n'+'ic.schraud'+'olph.org/p'+'ubs/Schrau'+'dolph99.pd'+'f\x0aconst\x20EX'+'P_A:\x20f32\x20\x20'+'\x20\x20\x20\x20=\x201210'+'2203.0;\x20\x20\x20'+'//\x20\x202^23\x20'+'/\x20ln(2)\x0aco'+'nst\x20EXP_BC'+'_RMS:\x20i32\x20'+'=\x2010648668'+'08;\x20\x20\x20//\x20('+'127\x20<<\x2023)'+'\x20-\x2060801\x20*'+'\x208\x0afn\x20fast'+'Exp(x:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20var\x20i'+':\x20i32\x20=\x20i3'+'2(EXP_A\x20*\x20'+'x)\x20+\x20EXP_B'+'C_RMS;\x0a\x20\x20\x20'+'\x20return\x20bi'+'tcast<f32>'+'(i);\x0a}\x0a\x0ava'+'rying\x20gaus'+'sianUV:\x20ve'+'c2f;\x0avaryi'+'ng\x20gaussia'+'nColor:\x20ve'+'c4f;\x0a\x0a@fra'+'gment\x0afn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x20\x20\x20\x20va'+'r\x20output:\x20'+'FragmentOu'+'tput;\x0a\x0a\x20\x20\x20'+'\x20let\x20A:\x20f3'+'2\x20=\x20dot(ga'+'ussianUV,\x20'+'gaussianUV'+');\x0a\x20\x20\x20\x20if\x20'+'(A\x20>\x201.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20alpha'+'\x0a\x20\x20\x20\x20var\x20a'+'lpha:\x20f32\x20'+'=\x20fastExp('+'-A\x20*\x204.0)\x20'+'*\x20gaussian'+('Color.a;\x0a\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(SHAD'+'OW_PASS)\x20|'+'|\x20defined('+'PICK_PASS)'+'\x20||\x20define'+'d(PREPASS_'+'PASS)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(al'+'pha\x20<\x20unif'+'orm.alphaC'+'lip)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iscard;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20out'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20PI'+'CK_PASS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20getPickO'+'utput();\x0a\x0a'+'\x20\x20\x20\x20#elif\x20'+'SHADOW_PAS'+'S\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(0.0,\x200.0'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20#e'+'lif\x20PREPAS'+'S_PASS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20float2vec'+'4(vLinearD'+'epth);\x0a\x0a\x20\x20'+'\x20\x20#else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(alpha\x20<\x20('+'1.0\x20/\x20255.'+'0))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifndef'+'\x20DITHER_NO'+'NE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20opaci'+'tyDither(&'+'alpha,\x20id\x20'+'*\x200.013);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20v'+'ec4f(input'+'.gaussianC'+'olor.xyz,\x20'+'alpha);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20output;\x0a}'),sD='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0afn\x20unpack'+'111011s(bi'+'ts:\x20u32)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20(vec3f((v'+'ec3<u32>(b'+'its)\x20>>\x20ve'+'c3<u32>(21'+'u,\x2011u,\x200u'+'))\x20&\x20vec3<'+'u32>(0x7ff'+'u,\x200x3ffu,'+'\x200x7ffu))\x20'+'/\x20vec3f(20'+'47.0,\x201023'+'.0,\x202047.0'+'))\x20*\x202.0\x20-'+'\x201.0;\x0a}\x0a\x0as'+'truct\x20Scal'+'eAndSH\x20{\x0a\x20'+'\x20\x20\x20scale:\x20'+'f32,\x0a\x20\x20\x20\x20a'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20b:\x20vec3'+'f,\x0a\x20\x20\x20\x20c:\x20'+'vec3f\x0a};\x0a\x0a'+'//\x20fetch\x20q'+'uantized\x20s'+'pherical\x20h'+'armonic\x20co'+'efficients'+'\x0afn\x20fetchS'+'cale(t_in:'+'\x20vec4<u32>'+')\x20->\x20Scale'+'AndSH\x20{\x0a\x20\x20'+'\x20\x20var\x20resu'+'lt:\x20ScaleA'+'ndSH;\x0a\x20\x20\x20\x20'+'result.sca'+'le\x20=\x20bitca'+'st<f32>(t_'+'in.x);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20unpack11'+'1011s(t_in'+'.y);\x0a\x20\x20\x20\x20r'+'esult.b\x20=\x20'+'unpack1110'+'11s(t_in.z'+');\x0a\x20\x20\x20\x20res'+'ult.c\x20=\x20un'+'pack111011'+'s(t_in.w);'+'\x0a\x20\x20\x20\x20retur'+'n\x20result;\x0a'+'}\x0a\x0astruct\x20'+'SH\x20{\x0a\x20\x20\x20\x20a'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20b:\x20vec3'+'f,\x0a\x20\x20\x20\x20c:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20d:\x20vec3f\x0a'+'};\x0a\x0a//\x20fet'+'ch\x20quantiz'+'ed\x20spheric'+'al\x20harmoni'+'c\x20coeffici'+'ents\x0afn\x20fe'+'tch4(t_in:'+'\x20vec4<u32>'+')\x20->\x20SH\x20{\x0a'+'\x20\x20\x20\x20var\x20re'+'sult:\x20SH;\x0a'+'\x20\x20\x20\x20result'+'.a\x20=\x20unpac'+'k111011s(t'+'_in.x);\x0a\x20\x20'+'\x20\x20result.b'+'\x20=\x20unpack1'+'11011s(t_i'+'n.y);\x0a\x20\x20\x20\x20'+'result.c\x20='+'\x20unpack111'+'011s(t_in.'+'z);\x0a\x20\x20\x20\x20re'+'sult.d\x20=\x20u'+'npack11101'+'1s(t_in.w)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20result;'+'\x0a}\x0a\x0afn\x20fet'+'ch1(t_in:\x20'+'u32)\x20->\x20ve'+('c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20unp'+'ack111011s'+'(t_in);\x0a}\x0a'+'\x0a#if\x20SH_BA'+'NDS\x20==\x201\x0a\x20'+'\x20\x20\x20var\x20spl'+'atSH_1to3:'+'\x20texture_2'+'d<u32>;\x0a\x0a\x20'+'\x20\x20\x20fn\x20read'+'SHData(sou'+'rce:\x20ptr<f'+'unction,\x20S'+'platSource'+'>,\x20sh:\x20ptr'+'<function,'+'\x20array<vec'+'3f,\x203>>,\x20s'+'cale:\x20ptr<'+'function,\x20'+'f32>)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'result\x20=\x20f'+'etchScale('+'textureLoa'+'d(splatSH_'+'1to3,\x20sour'+'ce.uv,\x200))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'*scale\x20=\x20r'+'esult.scal'+'e;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[0]\x20=\x20r'+'esult.a;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'1]\x20=\x20resul'+'t.b;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[2]\x20='+'\x20result.c;'+'\x0a\x20\x20\x20\x20}\x0a#el'+'if\x20SH_BAND'+'S\x20==\x202\x0a\x20\x20\x20'+'\x20var\x20splat'+'SH_1to3:\x20t'+'exture_2d<'+'u32>;\x0a\x20\x20\x20\x20'+'var\x20splatS'+'H_4to7:\x20te'+'xture_2d<u'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20splatSH'+'_8to11:\x20te'+'xture_2d<u'+'32>;\x0a\x0a\x20\x20\x20\x20'+'fn\x20readSHD'+'ata(source'+':\x20ptr<func'+'tion,\x20Spla'+'tSource>,\x20'+'sh:\x20ptr<fu'+'nction,\x20ar'+'ray<vec3f,'+'\x208>>,\x20scal'+'e:\x20ptr<fun'+'ction,\x20f32'+'>)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fir'+'st:\x20ScaleA'+'ndSH\x20=\x20fet'+'chScale(te'+'xtureLoad('+'splatSH_1t'+'o3,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*s'+'cale\x20=\x20fir'+'st.scale;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[0]\x20=\x20firs'+'t.a;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[1]\x20='+'\x20first.b;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[2]\x20=\x20firs'+'t.c;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20se'+'cond:\x20SH\x20='+'\x20fetch4(te'+'xtureLoad('+'splatSH_4t'+'o7,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[3]\x20=\x20seco'+'nd.a;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[4]\x20'+'=\x20second.b'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[5]\x20=\x20se')+('cond.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[6'+']\x20=\x20second'+'.d;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[7]\x20='+'\x20fetch1(te'+'xtureLoad('+'splatSH_8t'+'o11,\x20sourc'+'e.uv,\x200).x'+');\x0a\x20\x20\x20\x20}\x0a#'+'else\x0a\x20\x20\x20\x20v'+'ar\x20splatSH'+'_1to3:\x20tex'+'ture_2d<u3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20splatSH_'+'4to7:\x20text'+'ure_2d<u32'+'>;\x0a\x20\x20\x20\x20var'+'\x20splatSH_8'+'to11:\x20text'+'ure_2d<u32'+'>;\x0a\x20\x20\x20\x20var'+'\x20splatSH_1'+'2to15:\x20tex'+'ture_2d<u3'+'2>;\x0a\x0a\x20\x20\x20\x20f'+'n\x20readSHDa'+'ta(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>,\x20s'+'h:\x20ptr<fun'+'ction,\x20arr'+'ay<vec3f,\x20'+'15>>,\x20scal'+'e:\x20ptr<fun'+'ction,\x20f32'+'>)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fir'+'st:\x20ScaleA'+'ndSH\x20=\x20fet'+'chScale(te'+'xtureLoad('+'splatSH_1t'+'o3,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*s'+'cale\x20=\x20fir'+'st.scale;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[0]\x20=\x20firs'+'t.a;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[1]\x20='+'\x20first.b;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[2]\x20=\x20firs'+'t.c;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20se'+'cond:\x20SH\x20='+'\x20fetch4(te'+'xtureLoad('+'splatSH_4t'+'o7,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[3]\x20=\x20seco'+'nd.a;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[4]\x20'+'=\x20second.b'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[5]\x20=\x20se'+'cond.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[6'+']\x20=\x20second'+'.d;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20thi'+'rd:\x20SH\x20=\x20f'+'etch4(text'+'ureLoad(sp'+'latSH_8to1'+'1,\x20source.'+'uv,\x200));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'7]\x20=\x20third'+'.a;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[8]\x20=\x20'+'third.b;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'9]\x20=\x20third'+'.c;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[10]\x20='+'\x20third.d;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20fourth:'+'\x20SH\x20=\x20fetc'+'h4(texture'+'Load(splat'+'SH_12to15,')+('\x20source.uv'+',\x200));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[11'+']\x20=\x20fourth'+'.a;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[12]\x20='+'\x20fourth.b;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[13]\x20=\x20fo'+'urth.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[1'+'4]\x20=\x20fourt'+'h.d;\x0a\x20\x20\x20\x20}'+'\x0a#endif\x0a\x0a#'+'endif\x0a'),iD='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c3f;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20xy:\x20'+'cornerUV,\x20'+'z:\x20render\x20'+'order\x20offs'+'et\x0aattribu'+'te\x20vertex_'+'id_attrib:'+'\x20u32;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'nder\x20order'+'\x20base\x0a\x0auni'+'form\x20numSp'+'lats:\x20u32;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20total\x20nu'+'mber\x20of\x20sp'+'lats\x0avar\x20s'+'platOrder:'+'\x20texture_2'+'d<u32>;\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'per-splat\x20'+'index\x20to\x20s'+'ource\x20gaus'+'sian\x0a\x0a//\x20i'+'nitialize\x20'+'the\x20splat\x20'+'source\x20str'+'ucture\x0afn\x20'+'initSource'+'(source:\x20p'+'tr<functio'+'n,\x20SplatSo'+'urce>)\x20->\x20'+'bool\x20{\x0a\x20\x20\x20'+'\x20let\x20w:\x20u3'+'2\x20=\x20textur'+'eDimension'+'s(splatOrd'+'er,\x200).x;\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20u3'+'2(vertex_p'+'osition.z)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'return\x20if\x20'+'out\x20of\x20ran'+'ge\x20(since\x20'+'the\x20last\x20b'+'lock\x20of\x20sp'+'lats\x20may\x20b'+'e\x20partiall'+'y\x20full)\x0a\x20\x20'+'\x20\x20if\x20(sour'+'ce.order\x20>'+'=\x20uniform.'+'numSplats)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20fa'+'lse;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'orderUV\x20=\x20'+'vec2i(vec2'+'u(source.o'+'rder\x20%\x20w,\x20'+'source.ord'+'er\x20/\x20w));\x0a'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20splat\x20i'+'d\x0a\x20\x20\x20\x20sour'+'ce.id\x20=\x20te'+'xtureLoad('+'splatOrder'+',\x20orderUV,'+'\x200).r;\x0a\x0a\x20\x20'+'\x20\x20//\x20map\x20i'+'d\x20to\x20uv\x0a\x20\x20'+'\x20\x20source.u'+'v\x20=\x20vec2i('+'vec2u(sour'+'ce.id\x20%\x20w,'+'\x20source.id'+'\x20/\x20w));\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+('turn\x20true;'+'\x0a}\x0a'),rD='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0ava'+'rying\x20gaus'+'sianUV:\x20ve'+'c2f;\x0avaryi'+'ng\x20gaussia'+'nColor:\x20ve'+'c4f;\x0a\x0a#ifn'+'def\x20DITHER'+'_NONE\x0a\x20\x20\x20\x20'+'varying\x20id'+':\x20f32;\x0a#en'+'dif\x0a\x0aconst'+'\x20discardVe'+'c:\x20vec4f\x20='+'\x20vec4f(0.0'+',\x200.0,\x202.0'+',\x201.0);\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20varying'+'\x20vLinearDe'+'pth:\x20f32;\x0a'+'#endif\x0a\x0a@v'+'ertex\x0afn\x20v'+'ertexMain('+'input:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Vertex'+'Output;\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20gaussian\x20'+'details\x0a\x20\x20'+'\x20\x20var\x20sour'+'ce:\x20SplatS'+'ource;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Source(&so'+'urce))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.positi'+'on\x20=\x20disca'+'rdVec;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20let\x20model'+'Center:\x20ve'+'c3f\x20=\x20read'+'Center(&so'+'urce);\x0a\x0a\x20\x20'+'\x20\x20var\x20cent'+'er:\x20SplatC'+'enter;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Center(mod'+'elCenter,\x20'+'&center))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20di'+'scardVec;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20pro'+'ject\x20cente'+'r\x20to\x20scree'+'n\x20space\x0a\x20\x20'+'\x20\x20var\x20corn'+'er:\x20SplatC'+'orner;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Corner(&so'+'urce,\x20&cen'+'ter,\x20&corn'+'er))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.position'+'\x20=\x20discard'+'Vec;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'output;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20col'+'or\x0a\x20\x20\x20\x20var'+'\x20clr:\x20vec4'+'f\x20=\x20readCo'+'lor(&sourc'+'e);\x0a\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20apply\x20'+'AA\x20compens'+'ation\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20clr.a\x20'+('=\x20clr.a\x20*\x20'+'corner.aaF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20spher'+'ical\x20harmo'+'nics\x0a\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x200\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cal'+'culate\x20the'+'\x20model-spa'+'ce\x20view\x20di'+'rection\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'modelView3'+'x3\x20=\x20mat3x'+'3f(center.'+'modelView['+'0].xyz,\x20ce'+'nter.model'+'View[1].xy'+'z,\x20center.'+'modelView['+'2].xyz);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20dir\x20=\x20nor'+'malize(mod'+'elView3x3\x20'+'*\x20center.v'+'iew);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'ad\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20sh:\x20array'+'<vec3f,\x20SH'+'_COEFFS>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20scale:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20readSHDa'+'ta(&source'+',\x20&sh,\x20&sc'+'ale);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ev'+'aluate\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr\x20='+'\x20vec4f(clr'+'.xyz\x20+\x20eva'+'lSH(&sh,\x20d'+'ir)\x20*\x20scal'+'e,\x20clr.a);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20cli'+'pCorner(&c'+'orner,\x20clr'+'.w);\x0a\x0a\x20\x20\x20\x20'+'//\x20write\x20o'+'utput\x0a\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20ce'+'nter.proj\x20'+'+\x20vec4f(co'+'rner.offse'+'t,\x200.0,\x200.'+'0);\x0a\x20\x20\x20\x20ou'+'tput.gauss'+'ianUV\x20=\x20co'+'rner.uv;\x0a\x20'+'\x20\x20\x20output.'+'gaussianCo'+'lor\x20=\x20vec4'+'f(prepareO'+'utputFromG'+'amma(max(c'+'lr.xyz,\x20ve'+'c3f(0.0)))'+',\x20clr.w);\x0a'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'id\x20=\x20f32(s'+'ource.id);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.vLinearD'+'epth\x20=\x20-ce'+'nter.view.'+'z;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a'),aD='\x0a\x20\x20\x20\x20attri'+'bute\x20aPosi'+'tion:\x20vec2'+'f;\x0a\x20\x20\x20\x20var'+'ying\x20uv0:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20@vertex\x20f'+'n\x20vertexMa'+'in(input:\x20'+'VertexInpu'+'t)\x20->\x20Vert'+'exOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20output:'+'\x20VertexOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'position\x20='+'\x20vec4f(inp'+'ut.aPositi'+'on,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'uv0\x20=\x20getI'+'mageEffect'+'UV((input.'+'aPosition\x20'+'+\x201.0)\x20*\x200'+'.5);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'output;\x0a\x20\x20'+'\x20\x20}\x0a',nD='\x0a//\x20Indire'+'ct\x20indexed'+'\x20draw\x20call'+'\x20parameter'+'s\x0astruct\x20D'+'rawIndexed'+'IndirectAr'+'gs\x20{\x0a\x20\x20\x20\x20i'+'ndexCount:'+'\x20u32,\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Numb'+'er\x20of\x20indi'+'ces\x20to\x20dra'+'w\x0a\x20\x20\x20\x20inst'+'anceCount:'+'\x20u32,\x20\x20\x20\x20\x20'+'//\x20Number\x20'+'of\x20instanc'+'es\x20to\x20draw'+'\x0a\x20\x20\x20\x20first'+'Index:\x20u32'+',\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Index\x20of'+'\x20the\x20first'+'\x20index\x20in\x20'+'the\x20index\x20'+'buffer\x0a\x20\x20\x20'+'\x20baseVerte'+'x:\x20i32,\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Of'+'fset\x20added'+'\x20to\x20each\x20i'+'ndex\x20befor'+'e\x20fetching'+'\x20vertex\x0a\x20\x20'+'\x20\x20firstIns'+'tance:\x20u32'+'\x20\x20\x20\x20\x20\x20//\x20F'+'irst\x20insta'+'nce\x20ID\x0a};\x0a'+'\x0a//\x20Indire'+'ct\x20non-ind'+'exed\x20draw\x20'+'call\x20param'+'eters\x0astru'+'ct\x20DrawInd'+'irectArgs\x20'+'{\x0a\x20\x20\x20\x20vert'+'exCount:\x20u'+'32,\x20\x20\x20\x20\x20\x20\x20'+'//\x20Number\x20'+'of\x20vertice'+'s\x20to\x20draw\x0a'+'\x20\x20\x20\x20instan'+'ceCount:\x20u'+'32,\x20\x20\x20\x20\x20//'+'\x20Number\x20of'+'\x20instances'+'\x20to\x20draw\x0a\x20'+'\x20\x20\x20firstVe'+'rtex:\x20u32,'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Index\x20of\x20t'+'he\x20first\x20v'+'ertex\x0a\x20\x20\x20\x20'+'firstInsta'+'nce:\x20u32,\x20'+'\x20\x20\x20\x20//\x20Fir'+'st\x20instanc'+'e\x20ID\x0a\x20\x20\x20\x20_'+'pad:\x20u32\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Padd'+'ing\x20to\x20mat'+'ch\x20indexed'+'\x20size\x20(unu'+'sed)\x0a};\x0a',oD='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gamma'+'PS\x22\x0a\x20\x20\x20\x20va'+'rying\x20colo'+'r:\x20vec4f;\x0a'+'\x20\x20\x20\x20@fragm'+'ent\x0a\x20\x20\x20\x20fn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utput:\x20Fra'+'gmentOutpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(gammaCor'+'rectOutput'+'(decodeGam'+'ma3(input.'+'color.rgb)'+'),\x20input.c'+'olor.a);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a\x20\x20\x20\x20}\x0a',lD='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vertex_'+'color:\x20vec'+'4f;\x0a\x20\x20\x20\x20un'+'iform\x20matr'+'ix_model:\x20'+'mat4x4f;\x0a\x20'+'\x20\x20\x20uniform'+'\x20matrix_vi'+'ewProjecti'+'on:\x20mat4x4'+'f;\x0a\x20\x20\x20\x20var'+'ying\x20color'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20@vertex'+'\x0a\x20\x20\x20\x20fn\x20ve'+'rtexMain(i'+'nput\x20:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'output\x20:\x20V'+'ertexOutpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20inpu'+'t.vertex_c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20uniform.'+'matrix_vie'+'wProjectio'+'n\x20*\x20unifor'+'m.matrix_m'+'odel\x20*\x20inp'+'ut.vertex_'+'position;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',cD='\x0auniform\x20m'+'aterial_ir'+'idescenceR'+'efractionI'+'ndex:\x20f32;'+'\x0a\x0afn\x20iride'+'scence_ior'+'ToFresnelS'+'calar(tran'+'smittedIor'+':\x20f32,\x20inc'+'identIor:\x20'+'f32)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20pow(('+'transmitte'+'dIor\x20-\x20inc'+'identIor)\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'incidentIo'+'r),\x202.0);\x0a'+'}\x0a\x0afn\x20irid'+'escence_io'+'rToFresnel'+'Vec3(trans'+'mittedIor:'+'\x20vec3f,\x20in'+'cidentIor:'+'\x20f32)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w((transmi'+'ttedIor\x20-\x20'+'vec3f(inci'+'dentIor))\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'vec3f(inci'+'dentIor)),'+'\x20vec3f(2.0'+'));\x0a}\x0a\x0afn\x20'+'iridescenc'+'e_fresnelT'+'oIor(f0:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20sqrtF'+'0:\x20vec3f\x20='+'\x20sqrt(f0);'+'\x0a\x20\x20\x20\x20retur'+'n\x20(vec3f(1'+'.0)\x20+\x20sqrt'+'F0)\x20/\x20(vec'+'3f(1.0)\x20-\x20'+'sqrtF0);\x0a}'+'\x0a\x0aconst\x20XY'+'Z_TO_REC70'+'9:\x20mat3x3f'+'\x20=\x20mat3x3f'+'(\x0a\x20\x20\x20\x20vec3'+'f(3.240454'+'2,\x20-1.5371'+'385,\x20-0.49'+'85314),\x0a\x20\x20'+'\x20\x20vec3f(-0'+'.9692660,\x20'+'\x201.8760108'+',\x20\x200.04155'+'60),\x0a\x20\x20\x20\x20v'+'ec3f(0.055'+'6434,\x20-0.2'+'040259,\x20\x201'+'.0572252)\x0a'+');\x0a\x0afn\x20iri'+'descence_s'+'ensitivity'+'(opd:\x20f32,'+'\x20shift:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x20\x20\x20\x20let'+'\x20phase:\x20f3'+'2\x20=\x202.0\x20*\x20'+'PI\x20*\x20opd\x20*'+'\x201.0e-9;\x0a\x20'+'\x20\x20\x20const\x20v'+'al:\x20vec3f\x20'+'=\x20vec3f(5.'+'4856e-13,\x20'+'4.4201e-13'+',\x205.2481e-'+'13);\x0a\x20\x20\x20\x20c'+'onst\x20pos:\x20'+'vec3f\x20=\x20ve'+'c3f(1.6810'+'e+06,\x201.79'+('53e+06,\x202.'+'2084e+06);'+'\x0a\x20\x20\x20\x20const'+'\x20var_:\x20vec'+'3f\x20=\x20vec3f'+'(4.3278e+0'+'9,\x209.3046e'+'+09,\x206.612'+'1e+09);\x0a\x0a\x20'+'\x20\x20\x20var\x20xyz'+':\x20vec3f\x20=\x20'+'val\x20*\x20sqrt'+'(2.0\x20*\x20PI\x20'+'*\x20var_)\x20*\x20'+'cos(pos\x20*\x20'+'phase\x20+\x20sh'+'ift)\x20*\x20exp'+'(-pow(phas'+'e,\x202.0)\x20*\x20'+'var_);\x0a\x20\x20\x20'+'\x20xyz.x\x20=\x20x'+'yz.x\x20+\x209.7'+'470e-14\x20*\x20'+'sqrt(2.0\x20*'+'\x20PI\x20*\x204.52'+'82e+09)\x20*\x20'+'cos(2.2399'+'e+06\x20*\x20pha'+'se\x20+\x20shift'+'[0])\x20*\x20exp'+'(-4.5282e+'+'09\x20*\x20pow(p'+'hase,\x202.0)'+');\x0a\x20\x20\x20\x20xyz'+'\x20=\x20xyz\x20/\x20v'+'ec3f(1.068'+'5e-07);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'XYZ_TO_REC'+'709\x20*\x20xyz;'+'\x0a}\x0a\x0afn\x20iri'+'descence_f'+'resnelScal'+'ar(cosThet'+'a:\x20f32,\x20f0'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'let\x20x:\x20f32'+'\x20=\x20clamp(1'+'.0\x20-\x20cosTh'+'eta,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'let\x20x2:\x20f3'+'2\x20=\x20x\x20*\x20x;'+'\x0a\x20\x20\x20\x20let\x20x'+'5:\x20f32\x20=\x20x'+'\x20*\x20x2\x20*\x20x2'+';\x0a\x20\x20\x20\x20retu'+'rn\x20f0\x20+\x20(1'+'.0\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x0a\x0afn'+'\x20iridescen'+'ce_fresnel'+'Vec3(cosTh'+'eta:\x20f32,\x20'+'f0:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'x:\x20f32\x20=\x20c'+'lamp(1.0\x20-'+'\x20cosTheta,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20let\x20'+'x2:\x20f32\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20let\x20x5:\x20f'+'32\x20=\x20x\x20*\x20x'+'2\x20*\x20x2;\x0a\x20\x20'+'\x20\x20return\x20f'+'0\x20+\x20(vec3f'+'(1.0)\x20-\x20f0'+')\x20*\x20x5;\x0a}\x0a'+'\x0afn\x20calcIr'+'idescence('+'outsideIor'+':\x20f32,\x20cos'+'Theta:\x20f32'+',\x20base_f0:'+'\x20vec3f,\x20ir'+'idescenceT'+'hickness:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x0a\x20\x20\x20\x20le'+'t\x20iridesce'+'nceIor:\x20f3'+'2\x20=\x20mix(ou')+('tsideIor,\x20'+'uniform.ma'+'terial_iri'+'descenceRe'+'fractionIn'+'dex,\x20smoot'+'hstep(0.0,'+'\x200.03,\x20iri'+'descenceTh'+'ickness));'+'\x0a\x20\x20\x20\x20let\x20s'+'inTheta2Sq'+':\x20f32\x20=\x20po'+'w(outsideI'+'or\x20/\x20iride'+'scenceIor,'+'\x202.0)\x20*\x20(1'+'.0\x20-\x20pow(c'+'osTheta,\x202'+'.0));\x0a\x20\x20\x20\x20'+'let\x20cosThe'+'ta2Sq:\x20f32'+'\x20=\x201.0\x20-\x20s'+'inTheta2Sq'+';\x0a\x0a\x20\x20\x20\x20if\x20'+'(cosTheta2'+'Sq\x20<\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'3f(1.0);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'let\x20cosThe'+'ta2:\x20f32\x20='+'\x20sqrt(cosT'+'heta2Sq);\x0a'+'\x0a\x20\x20\x20\x20let\x20r'+'0:\x20f32\x20=\x20i'+'ridescence'+'_iorToFres'+'nelScalar('+'iridescenc'+'eIor,\x20outs'+'ideIor);\x0a\x20'+'\x20\x20\x20let\x20r12'+':\x20f32\x20=\x20ir'+'idescence_'+'fresnelSca'+'lar(cosThe'+'ta,\x20r0);\x0a\x20'+'\x20\x20\x20let\x20r21'+':\x20f32\x20=\x20r1'+'2;\x0a\x20\x20\x20\x20let'+'\x20t121:\x20f32'+'\x20=\x201.0\x20-\x20r'+'12;\x0a\x0a\x20\x20\x20\x20l'+'et\x20phi12:\x20'+'f32\x20=\x20sele'+'ct(0.0,\x20PI'+',\x20iridesce'+'nceIor\x20<\x20o'+'utsideIor)'+';\x0a\x20\x20\x20\x20let\x20'+'phi21:\x20f32'+'\x20=\x20PI\x20-\x20ph'+'i12;\x0a\x0a\x20\x20\x20\x20'+'let\x20baseIo'+'r:\x20vec3f\x20='+'\x20iridescen'+'ce_fresnel'+'ToIor(base'+'_f0\x20+\x20vec3'+'f(0.0001))'+';\x0a\x20\x20\x20\x20let\x20'+'r1:\x20vec3f\x20'+'=\x20iridesce'+'nce_iorToF'+'resnelVec3'+'(baseIor,\x20'+'iridescenc'+'eIor);\x0a\x20\x20\x20'+'\x20let\x20r23:\x20'+'vec3f\x20=\x20ir'+'idescence_'+'fresnelVec'+'3(cosTheta'+'2,\x20r1);\x0a\x0a\x20'+'\x20\x20\x20let\x20phi'+'23:\x20vec3f\x20'+'=\x20select(v'+'ec3f(0.0),'+'\x20vec3f(PI)'+',\x20baseIor\x20'+'<\x20vec3f(ir'+'idescenceI'+'or));\x0a\x20\x20\x20\x20'+'let\x20opd:\x20f'+'32\x20=\x202.0\x20*'+'\x20iridescen'+'ceIor\x20*\x20ir'+'idescenceT')+('hickness\x20*'+'\x20cosTheta2'+';\x0a\x20\x20\x20\x20let\x20'+'phi:\x20vec3f'+'\x20=\x20vec3f(p'+'hi21)\x20+\x20ph'+'i23;\x20//\x20Pr'+'omote\x20scal'+'ar\x20phi21\x20t'+'o\x20vec3f\x0a\x0a\x20'+'\x20\x20\x20let\x20r12'+'3Sq:\x20vec3f'+'\x20=\x20clamp(v'+'ec3f(r12)\x20'+'*\x20r23,\x20vec'+'3f(1e-5),\x20'+'vec3f(0.99'+'99));\x0a\x20\x20\x20\x20'+'let\x20r123:\x20'+'vec3f\x20=\x20sq'+'rt(r123Sq)'+';\x0a\x20\x20\x20\x20let\x20'+'rs:\x20vec3f\x20'+'=\x20pow(vec3'+'f(t121),\x20v'+'ec3f(2.0))'+'\x20*\x20r23\x20/\x20('+'vec3f(1.0)'+'\x20-\x20r123Sq)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20c0:\x20vec3f'+'\x20=\x20vec3f(r'+'12)\x20+\x20rs;\x0a'+'\x20\x20\x20\x20var\x20i_'+'irid:\x20vec3'+'f\x20=\x20c0;\x0a\x0a\x20'+'\x20\x20\x20var\x20cm:'+'\x20vec3f\x20=\x20r'+'s\x20-\x20vec3f('+'t121);\x0a\x0a\x20\x20'+'\x20\x20cm\x20=\x20cm\x20'+'*\x20r123;\x0a\x20\x20'+'\x20\x20let\x20sm1:'+'\x20vec3f\x20=\x202'+'.0\x20*\x20iride'+'scence_sen'+'sitivity(1'+'.0\x20*\x20opd,\x20'+'1.0\x20*\x20phi)'+';\x0a\x20\x20\x20\x20i_ir'+'id\x20=\x20i_iri'+'d\x20+\x20cm\x20*\x20s'+'m1;\x0a\x0a\x20\x20\x20\x20c'+'m\x20=\x20cm\x20*\x20r'+'123;\x0a\x20\x20\x20\x20l'+'et\x20sm2:\x20ve'+'c3f\x20=\x202.0\x20'+'*\x20iridesce'+'nce_sensit'+'ivity(2.0\x20'+'*\x20opd,\x202.0'+'\x20*\x20phi);\x0a\x20'+'\x20\x20\x20i_irid\x20'+'=\x20i_irid\x20+'+'\x20cm\x20*\x20sm2;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20max(i_i'+'rid,\x20vec3f'+'(0.0));\x0a}\x0a'+'\x0afn\x20getIri'+'descenceDi'+'ffraction('+'cosTheta:\x20'+'f32,\x20specu'+'larity:\x20ve'+'c3f,\x20iride'+'scenceThic'+'kness:\x20f32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcIr'+'idescence('+'1.0,\x20cosTh'+'eta,\x20specu'+'larity,\x20ir'+'idescenceT'+'hickness);'+'\x0a}\x0a'),hD='\x0a#ifdef\x20ST'+'D_IRIDESCE'+'NCE_CONSTA'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20mater'+'ial_irides'+'cence:\x20f32'+';\x0a#endif\x0a\x0a'+'fn\x20getIrid'+'escence()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'iridescenc'+'e\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_CON'+'STANT\x0a\x20\x20\x20\x20'+'iridescenc'+'e\x20=\x20irides'+'cence\x20*\x20un'+'iform.mate'+'rial_iride'+'scence;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20=\x20iridesc'+'ence\x20*\x20tex'+'tureSample'+'Bias({STD_'+'IRIDESCENC'+'E_TEXTURE_'+'NAME},\x20{ST'+'D_IRIDESCE'+'NCE_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_IRIDESCEN'+'CE_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias).{ST'+'D_IRIDESCE'+'NCE_TEXTUR'+'E_CHANNEL}'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dI'+'ridescence'+'\x20=\x20iridesc'+'ence;\x20\x0a}\x0a',dD='\x0auniform\x20m'+'aterial_ir'+'idescenceT'+'hicknessMa'+'x:\x20f32;\x0a\x0a#'+'ifdef\x20STD_'+'IRIDESCENC'+'ETHICKNESS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20uniform'+'\x20material_'+'iridescenc'+'eThickness'+'Min:\x20f32;\x0a'+'#endif\x0a\x0afn'+'\x20getIrides'+'cenceThick'+'ness()\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20blen'+'d:\x20f32\x20=\x20t'+'extureSamp'+'leBias({ST'+'D_IRIDESCE'+'NCETHICKNE'+'SS_TEXTURE'+'_NAME},\x20{S'+'TD_IRIDESC'+'ENCETHICKN'+'ESS_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20iridesce'+'nceThickne'+'ss:\x20f32\x20=\x20'+'mix(unifor'+'m.material'+'_iridescen'+'ceThicknes'+'sMin,\x20unif'+'orm.materi'+'al_iridesc'+'enceThickn'+'essMax,\x20bl'+'end);\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ir'+'idescenceT'+'hickness:\x20'+'f32\x20=\x20unif'+'orm.materi'+'al_iridesc'+'enceThickn'+'essMax;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dIride'+'scenceThic'+'kness\x20=\x20ir'+'idescenceT'+'hickness;\x20'+'\x0a}\x0a',fD='\x0a#ifdef\x20ST'+'D_IOR_CONS'+'TANT\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'erial_refr'+'actionInde'+'x:\x20f32;\x0a#e'+'ndif\x0a\x0afn\x20g'+'etIor()\x20{\x0a'+'#ifdef\x20STD'+'_IOR_CONST'+'ANT\x0a\x20\x20\x20\x20dI'+'or\x20=\x20unifo'+'rm.materia'+'l_refracti'+'onIndex;\x0a#'+'else\x0a\x20\x20\x20\x20d'+'Ior\x20=\x201.0\x20'+'/\x201.5;\x0a#en'+'dif\x0a}\x0a',uD='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0a\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_color'+':\x20vec3f;\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_direction'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'CODE_LIGHT'+'S_POINT\x20//'+'\x20include\x20f'+'unctionali'+'ty\x20for\x20poi'+'nt\x20lights\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20lig'+'ht{i}_posi'+'tion:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_ra'+'dius:\x20f32;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'SPOT\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'CODE_LIGHT'+'S_SPOT\x20//\x20'+'include\x20fu'+'nctionalit'+'y\x20for\x20spot'+'\x20lights\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_di'+'rection:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_inner'+'ConeAngle:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_outer'+'ConeAngle:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20//\x20'+'area\x20light'+'s\x0a\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20!=\x20PUN'+'CTUAL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_COD'+'E_FALLOFF_'+'SQUARED\x20//'+'\x20include\x20f'+'unctionali'+'ty\x20for\x20inv'+'erse\x20squar'+'ed\x20falloff'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_position:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_ha'+'lfWidth:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_halfHeigh'+'t:\x20vec3f;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}FALLOFF\x20='+'=\x20LINEAR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20#define\x20L'+'IT_CODE_FA'+'LLOFF_LINE'+'AR\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20linear\x20f'+'alloff\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}FALLOFF'+'\x20==\x20INVERS'+'ESQUARED\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#define\x20L'+'IT_CODE_FA'+'LLOFF_SQUA'+'RED\x20//\x20inc'+'lude\x20funct'+'ionality\x20f'+'or\x20inverse'+'\x20squared\x20f'+'alloff\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20shadow\x20c'+'asting\x0a\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIGHT{i'+'}CASTSHADO'+'W)\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowMatri'+'x:\x20mat4x4f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20li'+'ght{i}_sha'+'dowIntensi'+'ty:\x20f32;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20light'+'{i}_shadow'+'Params:\x20ve'+'c4f;\x20//\x20wi'+'dth,\x20heigh'+'t,\x20bias,\x20r'+'adius\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCSS_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowSearc'+'hArea:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_cameraPar'+'ams:\x20vec4f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'oftShadowP'+'arams:\x20vec'+'4f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'directiona'+'l\x20(cascade'+'d)\x20shadows'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20D'+'IRECTIONAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20light{i}_'+'shadowMatr'+'ixPalette:'+'\x20array<mat'+'4x4f,\x204>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowCasca'+'deDistance'+'s:\x20vec4f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20uniform\x20'+'light{i}_s'+'hadowCasca'+'deCount:\x20i'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20light{'+'i}_shadowC'+'ascadeBlen'+'d:\x20f32;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20OMNI\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20N'+'OT\x20SUPPORT'+'ED\x0a/*\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IGHT{i}SHA'+'DOW_PCF)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'CubeShadow'+'\x20light{i}_'+'shadowMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'Cube\x20light'+'{i}_shadow'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a*/\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIG'+'HT{i}SHADO'+'W_PCF)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20lig'+'ht{i}_shad'+'owMap:\x20tex'+'ture_depth'+'_2d;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20light'+'{i}_shadow'+'MapSampler'+':\x20sampler_'+'comparison'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'light{i}_s'+'hadowMap:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20lig'+'ht{i}_shad'+'owMapSampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'LIGHT{i}CO'+'OKIE)\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_COD'+'E_COOKIE\x20/'+'/\x20include\x20'+'functional'+'ity\x20for\x20co'+'okies\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20OMNI\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20NOT\x20SUPP'+'ORTED\x0a/*\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'plerCube\x20l'+'ight{i}_co'+'okie;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un')+('iform\x20floa'+'t\x20light{i}'+'_cookieInt'+'ensity;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20!defin'+'ed(LIGHT{i'+'}CASTSHADO'+'W)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20mat'+'4\x20light{i}'+'_shadowMat'+'rix;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a*/\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20NO'+'T\x20SUPPORTE'+'D\x0a/*\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20light{'+'i}_cookie;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20float\x20lig'+'ht{i}_cook'+'ieIntensit'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20!'+'defined(LI'+'GHT{i}CAST'+'SHADOW)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20lig'+'ht{i}_shad'+'owMatrix;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIGHT{i'+'}COOKIE_TR'+'ANSFORM)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20li'+'ght{i}_coo'+'kieMatrix;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20vec2\x20'+'light{i}_c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a*/\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a'),pD='\x0afn\x20getLig'+'htDiffuse('+'worldNorma'+'l:\x20vec3f,\x20'+'viewDir:\x20v'+'ec3f,\x20ligh'+'tDirNorm:\x20'+'vec3f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20max'+'(dot(world'+'Normal,\x20-l'+'ightDirNor'+'m),\x200.0);\x0a'+'}\x0a',mD='\x0afn\x20evalOm'+'niLight(li'+'ghtPosW:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20vP'+'ositionW\x20-'+'\x20lightPosW'+';\x0a}\x0a',_D='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x20\x20\x20\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20irides'+'cenceFresn'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20);\x0a#endi'+'f\x0a',gD='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0afn\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceFre'+'snel:\x20vec3'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a)\x20{\x0a\x20\x20\x20'+'\x20//\x20light\x20'+'color\x0a\x20\x20\x20\x20'+'var\x20lightC'+'olor:\x20vec3'+'f\x20=\x20unifor'+'m.light{i}'+'_color;\x0a\x0a\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}TYPE\x20'+'==\x20DIRECTI'+'ONAL\x20&&\x20!d'+'efined(LIT'+'_SHADOW_CA'+'TCHER)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ea'+'rly\x20return'+'\x20if\x20the\x20li'+'ght\x20color\x20'+'is\x20black\x20('+'used\x20by\x20sh'+'adow\x20catch'+'er\x20-\x20this\x20'+'way\x20this\x20l'+'ight\x20is\x20ve'+'ry\x20cheap)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(all(ligh'+'tColor\x20==\x20'+'vec3f(0.0,'+'\x200.0,\x200.0)'+'))\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20DIRECTION'+'AL\x20//\x20dire'+'ctional\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dLightD'+'irNormW\x20=\x20'+'uniform.li'+'ght{i}_dir'+'ection;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dAtt'+'en\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x20//\x20omni\x20o'+'r\x20spot\x20lig'+'ht\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20ligh'+'tDirW:\x20vec'+'3f\x20=\x20evalO'+'mniLight(u'+'niform.lig'+'ht{i}_posi'+'tion);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dLigh'+'tDirNormW\x20'+'=\x20normaliz'+'e(lightDir'+'W);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cook'+'ie\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIGHT'+'{i}COOKIE)'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20SPOT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_FAL'+'LOFF\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_TRA'+'NSFORM\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+('eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DXform(u'+'niform.lig'+'ht{i}_cook'+'ie,\x20unifor'+'m.light{i}'+'_shadowMat'+'rix,\x20unifo'+'rm.light{i'+'}_cookieIn'+'tensity,\x20u'+'niform.lig'+'ht{i}_cook'+'ieMatrix,\x20'+'uniform.li'+'ght{i}_coo'+'kieOffset)'+'.{LIGHT{i}'+'COOKIE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ge'+'tCookie2D('+'uniform.li'+'ght{i}_coo'+'kie,\x20unifo'+'rm.light{i'+'}_shadowMa'+'trix,\x20unif'+'orm.light{'+'i}_cookieI'+'ntensity).'+'{LIGHT{i}C'+'OOKIE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_TRA'+'NSFORM\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+'eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DClipXfo'+'rm(uniform'+'.light{i}_'+'cookie,\x20un'+'iform.ligh'+'t{i}_shado'+'wMatrix,\x20u'+'niform.lig'+'ht{i}_cook'+'ieIntensit'+'y,\x20uniform'+'.light{i}_'+'cookieMatr'+'ix,\x20unifor'+'m.light{i}'+'_cookieOff'+'set).{LIGH'+'T{i}COOKIE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+'eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DClip(un'+'iform.ligh'+'t{i}_cooki'+'e,\x20uniform'+'.light{i}_'+'shadowMatr'+'ix,\x20unifor'+'m.light{i}'+'_cookieInt'+'ensity).{L'+'IGHT{i}COO'+'KIE_CHANNE'+'L};\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20OMNI'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ge'+'tCookieCub'+'e(uniform.'+'light{i}_c'+'ookie,\x20uni'+'form.light'+'{i}_shadow'+'Matrix,\x20un'+'iform.ligh'+'t{i}_cooki'+'eIntensity'+').{LIGHT{i'+'}COOKIE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20multipl'+'y\x20light\x20co'+'lor\x20by\x20the'+'\x20cookie\x20at'+'tenuation\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightCol'+'or\x20=\x20light'+'Color\x20*\x20co'+'okieAttenu'+'ation;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dista'+'nce\x20fallof'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHAPE\x20=='+'\x20PUNCTUAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}FALLOF'+'F\x20==\x20LINEA'+'R\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dA'+'tten\x20=\x20get'+'FalloffLin'+'ear(unifor'+'m.light{i}'+'_radius,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dAtte'+'n\x20=\x20getFal'+'loffInvSqu'+'ared(unifo'+'rm.light{i'+'}_radius,\x20'+'lightDirW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'non\x20punctu'+'al\x20lights\x20'+'only\x20gets\x20'+'the\x20range\x20'+'window\x20her'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offWindow('+'uniform.li'+'ght{i}_rad'+'ius,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20spot\x20l'+'ight\x20angle'+'\x20falloff\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20SPO'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20!d')+('efined(LIG'+'HT{i}COOKI'+'E)\x20||\x20defi'+'ned(LIGHT{'+'i}COOKIE_F'+'ALLOFF)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dAtten'+'\x20=\x20dAtten\x20'+'*\x20getSpotE'+'ffect(unif'+'orm.light{'+'i}_directi'+'on,\x20unifor'+'m.light{i}'+'_innerCone'+'Angle,\x20uni'+'form.light'+'{i}_outerC'+'oneAngle,\x20'+'dLightDirN'+'ormW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20if\x20'+'(dAtten\x20<\x20'+'0.00001)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20evaluate\x20'+'area\x20light'+'\x20values\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHAPE\x20=='+'\x20RECT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcRectLigh'+'tValues(un'+'iform.ligh'+'t{i}_posit'+'ion,\x20unifo'+'rm.light{i'+'}_halfWidt'+'h,\x20uniform'+'.light{i}_'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20DISK\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20calcDiskL'+'ightValues'+'(uniform.l'+'ight{i}_po'+'sition,\x20un'+'iform.ligh'+'t{i}_halfW'+'idth,\x20unif'+'orm.light{'+'i}_halfHei'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20SPH'+'ERE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20calc'+'SphereLigh'+'tValues(un'+'iform.ligh'+'t{i}_posit'+'ion,\x20unifo'+'rm.light{i'+'}_halfWidt'+'h,\x20uniform'+'.light{i}_'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20dif'+'fuse\x20light'+'ing\x20-\x20LTC\x20'+'lights\x20do\x20'+'not\x20mix\x20di'+'ffuse\x20ligh'+'ting\x20into\x20'+'attenuatio'+'n\x20that\x20aff'+'ects\x20specu'+'lar\x0a\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHAPE\x20!=\x20P')+('UNCTUAL\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'attenDiffu'+'se\x20-\x20separ'+'ate\x20diffus'+'e\x20attenuat'+'ion\x20for\x20no'+'n-punctual'+'\x20light\x20sou'+'rces\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20NB:\x20A\x20bet'+'ter\x20approx'+'imation\x20pe'+'rhaps\x20usin'+'g\x20wrap\x20lig'+'hting\x20coul'+'d\x20be\x20imple'+'mented\x20her'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20at'+'tenDiffuse'+':\x20f32\x20=\x20ge'+'tLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW,\x20dLig'+'htDirNormW'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x2016.0\x20is\x20'+'a\x20constant'+'\x20that\x20is\x20i'+'n\x20getFallo'+'ffInvSquar'+'ed()\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20attenDi'+'ffuse:\x20f32'+'\x20=\x20getRect'+'LightDiffu'+'se(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20light'+'DirW,\x20dLig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20LI'+'GHT{i}SHAP'+'E\x20==\x20DISK\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'attenDiffu'+'se:\x20f32\x20=\x20'+'getDiskLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20lightDir'+'W,\x20dLightD'+'irNormW)\x20*'+'\x2016.0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20LIGHT'+'{i}SHAPE\x20='+'=\x20SPHERE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20a'+'ttenDiffus'+'e:\x20f32\x20=\x20g'+'etSphereLi'+'ghtDiffuse'+'(litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20lightDi'+'rW,\x20dLight'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20one\x20par'+'ameter\x20is\x20'+'unused\x20for')+('\x20punctual\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAtte'+'n\x20=\x20dAtten'+'\x20*\x20getLigh'+'tDiffuse(l'+'itArgs_wor'+'ldNormal,\x20'+'vec3(0.0),'+'\x20dLightDir'+'NormW);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20app'+'ly\x20the\x20sha'+'dow\x20attenu'+'ation\x0a\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}CASTS'+'HADOW\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20shadow:'+'\x20f32\x20=\x20get'+'Shadow{i}('+'vec3(0.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20shadow:\x20'+'f32\x20=\x20getS'+'hadow{i}(l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Ap'+'ply\x20shadow'+'\x20intensity'+'\x20to\x20the\x20sh'+'adow\x20value'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'hadow\x20=\x20mi'+'x(1.0,\x20sha'+'dow,\x20unifo'+'rm.light{i'+'}_shadowIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20dA'+'tten\x20*\x20sha'+'dow;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'SHADOW_CAT'+'CHER)\x20&&\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20accumula'+'te\x20shadows'+'\x20for\x20direc'+'tional\x20lig'+'hts\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSha'+'dowCatcher'+'\x20=\x20dShadow'+'Catcher\x20*\x20'+'shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20-\x20they'+'\x20do\x20not\x20mi'+'x\x20diffuse\x20'+'lighting\x20i'+'nto\x20specul'+'ar\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20dDiffuseL'+'ight\x20+\x20((('+'attenDiffu'+'se\x20*\x20dAtte'+'n)\x20*\x20light'+'Color)\x20*\x20('+'1.0\x20-\x20dLTC'+'SpecFres))')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20dDiffu'+'seLight\x20+\x20'+'((attenDif'+'fuse\x20*\x20dAt'+'ten)\x20*\x20lig'+'htColor);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'punctual\x20l'+'ight\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(AREA_'+'LIGHTS)\x20&&'+'\x20defined(L'+'IT_SPECULA'+'R)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20dDiffuseL'+'ight\x20+\x20((d'+'Atten\x20*\x20li'+'ghtColor)\x20'+'*\x20(1.0\x20-\x20l'+'itArgs_spe'+'cularity))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20dDiffu'+'seLight\x20+\x20'+'(dAtten\x20*\x20'+'lightColor'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20spe'+'cular\x20ligh'+'ting\x0a\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}AFFECT'+'_SPECULARI'+'TY\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20==\x20REC'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccSpecul'+'arLight\x20=\x20'+'ccSpecular'+'Light\x20+\x20(c'+'cLTCSpecFr'+'es\x20*\x20getRe'+'ctLightSpe'+'cular(litA'+'rgs_clearc'+'oat_worldN'+'ormal,\x20dVi'+'ewDirW)\x20*\x20'+'dAtten\x20*\x20l'+'ightColor)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20=\x20ccSpec'+'ularLight\x20'+'+\x20(ccLTCSp'+'ecFres\x20*\x20g'+'etDiskLigh'+'tSpecular('+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20dViewDirW'+')\x20*\x20dAtten'+'\x20*\x20lightCo'+'lor);\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20LI'+'GHT{i}SHAP'+'E\x20==\x20SPHER'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccSpecul'+'arLight\x20=\x20'+'ccSpecular'+'Light\x20+\x20(c'+'cLTCSpecFr'+'es\x20*\x20getSp'+'hereLightS'+'pecular(li'+'tArgs_clea'+'rcoat_worl'+'dNormal,\x20d'+'ViewDirW)\x20'+'*\x20dAtten\x20*'+'\x20lightColo'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'PE\x20==\x20RECT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20=\x20dS'+'pecularLig'+'ht\x20+\x20(dLTC'+'SpecFres\x20*'+'\x20getRectLi'+'ghtSpecula'+'r(litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW)\x20*\x20dAtt'+'en\x20*\x20light'+'Color);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20DIS'+'K\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20+\x20(dLT'+'CSpecFres\x20'+'*\x20getDiskL'+'ightSpecul'+'ar(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW)\x20*\x20dAt'+'ten\x20*\x20ligh'+'tColor);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20LIGHT{i}S'+'HAPE\x20==\x20SP'+'HERE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'=\x20dSpecula'+'rLight\x20+\x20('+'dLTCSpecFr'+'es\x20*\x20getSp'+'hereLightS'+'pecular(li'+'tArgs_worl'+'dNormal,\x20d'+'ViewDirW)\x20'+'*\x20dAtten\x20*'+'\x20lightColo'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x20//\x20punctu'+'al\x20light\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20is\x20fr'+'esnel\x20need'+'ed\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC')+('TIONAL\x20&&\x20'+'LIT_FRESNE'+'L_MODEL\x20!='+'\x20NONE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ha'+'lfDirW:\x20ve'+'c3f\x20=\x20norm'+'alize(-dLi'+'ghtDirNorm'+'W\x20+\x20dViewD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20if\x20LTC\x20li'+'ghts\x20are\x20p'+'resent,\x20sp'+'ecular\x20mus'+'t\x20be\x20accum'+'ulated\x20wit'+'h\x20specular'+'ity\x20(specu'+'larity\x20is\x20'+'pre\x20multip'+'lied\x20by\x20pu'+'nctual\x20lig'+'ht\x20fresnel'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20light'+'specularCC'+':\x20vec3f\x20=\x20'+'getLightSp'+'ecular(hal'+'fDirW,\x20ccR'+'eflDirW,\x20l'+'itArgs_cle'+'arcoat_wor'+'ldNormal,\x20'+'dViewDirW,'+'\x20dLightDir'+'NormW,\x20lit'+'Args_clear'+'coat_gloss'+',\x20dTBN)\x20*\x20'+'dAtten\x20*\x20l'+'ightColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIGHT{'+'i}FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'lightspecu'+'larCC\x20=\x20li'+'ghtspecula'+'rCC\x20*\x20getF'+'resnelCC(d'+'ot(dViewDi'+'rW,\x20halfDi'+'rW));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20=\x20ccSpecu'+'larLight\x20+'+'\x20lightspec'+'ularCC;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sSpecul'+'arLight\x20=\x20'+'sSpecularL'+'ight\x20+\x20(ge'+'tLightSpec'+'ularSheen('+'halfDirW,\x20'+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi')+('rNormW,\x20li'+'tArgs_shee'+'n_gloss)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20ligh'+'tSpecular:'+'\x20vec3f\x20=\x20g'+'etLightSpe'+'cular(half'+'DirW,\x20dRef'+'lDirW,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW,\x20d'+'LightDirNo'+'rmW,\x20litAr'+'gs_gloss,\x20'+'dTBN)\x20*\x20dA'+'tten\x20*\x20lig'+'htColor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'FRESNEL\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightSpe'+'cular\x20=\x20li'+'ghtSpecula'+'r\x20*\x20getFre'+'snel(dot(d'+'ViewDirW,\x20'+'halfDirW),'+'\x20litArgs_g'+'loss,\x20litA'+'rgs_specul'+'arity,\x20iri'+'descenceFr'+'esnel,\x20lit'+'Args_iride'+'scence_int'+'ensity);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'ightSpecul'+'ar\x20=\x20light'+'Specular\x20*'+'\x20getFresne'+'l(dot(dVie'+'wDirW,\x20hal'+'fDirW),\x20li'+'tArgs_glos'+'s,\x20litArgs'+'_speculari'+'ty);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20light'+'Specular\x20='+'\x20lightSpec'+'ular\x20*\x20lit'+'Args_specu'+'larity;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20='+'\x20dSpecular'+'Light\x20+\x20li'+'ghtSpecula'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'#endif\x0a'),SD='\x0a\x0a//\x20shado'+'w\x20casting\x20'+'functional'+'ity\x0a#ifdef'+'\x20LIGHT{i}C'+'ASTSHADOW\x0a'+'\x0a\x20\x20\x20\x20//\x20ge'+'nerate\x20sha'+'dow\x20coordi'+'nates\x20func'+'tion,\x20base'+'d\x20on\x20per\x20l'+'ight\x20defin'+'es:\x0a\x20\x20\x20\x20//'+'\x20-\x20_SHADOW'+'_SAMPLE_NO'+'RMAL_OFFSE'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_POIN'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20fn\x20ge'+'tShadowSam'+'pleCoord{i'+'}(shadowTr'+'ansform:\x20m'+'at4x4f,\x20sh'+'adowParams'+':\x20vec4f,\x20w'+'orldPositi'+'on:\x20vec3f,'+'\x20lightPos:'+'\x20vec3f,\x20li'+'ghtDir:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'lightDirNo'+'rm:\x20vec3f,'+'\x20normal:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'surfacePos'+'ition\x20=\x20wo'+'rldPositio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}_SH'+'ADOW_SAMPL'+'E_POINT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_SAMPLE_'+'NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20distSc'+'ale:\x20f32\x20='+'\x20length(*l'+'ightDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20surfac'+'ePosition\x20'+'+\x20normal\x20*'+'\x20shadowPar'+'ams.y\x20*\x20cl'+'amp(1.0\x20-\x20'+'dot(normal'+',\x20-lightDi'+'rNorm),\x200.'+'0,\x201.0)\x20*\x20'+'distScale;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20*li'+'ghtDir\x20=\x20s'+'urfacePosi'+'tion\x20-\x20lig'+'htPos;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'*lightDir;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIGHT{'+'i}_SHADOW_'+'SAMPLE_NOR'+'MAL_OFFSET'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_N'+'ORMAL_OFFS'+'ET\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}_S'+'HADOW_SAMP'+'LE_ORTHO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20dis'+'tScale:\x20f3'+'2\x20=\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20distSca'+'le:\x20f32\x20=\x20'+'abs(dot(vP'+'ositionW\x20-'+'\x20lightPos,'+'\x20lightDirN'+'orm));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20surfac'+'ePosition\x20'+'=\x20surfaceP'+'osition\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y\x20*\x20clam'+'p(1.0\x20-\x20do'+'t(normal,\x20'+'-lightDirN'+'orm),\x200.0,'+'\x201.0)\x20*\x20di'+'stScale;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Use'+'\x20var\x20for\x20m'+'odificatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20po'+'sitionInSh'+'adowSpace:'+'\x20vec4f\x20=\x20s'+'hadowTrans'+'form\x20*\x20vec'+'4f(surface'+'Position,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIGHT'+'{i}_SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'positionIn'+'ShadowSpac'+'e.z\x20=\x20satu'+'rate(posit'+'ionInShado'+'wSpace.z)\x20'+'-\x200.0001;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIGHT{i}_'+'SHADOW_SAM')+('PLE_SOURCE'+'_ZBUFFER\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20=\x20pos'+'itionInSha'+'dowSpace.x'+'yz\x20/\x20posit'+'ionInShado'+'wSpace.w;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20position'+'InShadowSp'+'ace.xy\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xy\x20/\x20posi'+'tionInShad'+'owSpace.w;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20positionI'+'nShadowSpa'+'ce.z\x20=\x20len'+'gth(*light'+'Dir)\x20*\x20sha'+'dowParams.'+'w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20this\x20is\x20c'+'urrently\x20u'+'nused\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SHADO'+'W_SAMPLE_Z'+'_BIAS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20posit'+'ionInShado'+'wSpace.z\x20+'+'=\x20getShado'+'wBias(shad'+'owParams.x'+',\x20shadowPa'+'rams.z);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20sur'+'facePositi'+'on;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20sh'+'adow\x20evalu'+'ation\x20func'+'tion\x0a\x20\x20\x20\x20f'+'n\x20getShado'+'w{i}(light'+'DirW_in:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20dir'+'ectional\x20s'+'hadow\x20casc'+'ades\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}_S'+'HADOW_CASC'+'ADES\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20select\x20sh'+'adow\x20casca'+'de\x20matrix\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20casc'+'adeIndex:\x20'+'i32\x20=\x20getS'+'hadowCasca'+'deIndex(un'+'iform.ligh'+'t{i}_shado'+'wCascadeDi'+'stances,\x20u'+'niform.lig'+'ht{i}_shad')+('owCascadeC'+'ount);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_CASCADE'+'_BLEND\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20cascade'+'Index\x20=\x20di'+'therShadow'+'CascadeInd'+'ex(cascade'+'Index,\x20uni'+'form.light'+'{i}_shadow'+'CascadeDis'+'tances,\x20un'+'iform.ligh'+'t{i}_shado'+'wCascadeCo'+'unt,\x20unifo'+'rm.light{i'+'}_shadowCa'+'scadeBlend'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20s'+'hadowMatri'+'x:\x20mat4x4f'+'\x20=\x20uniform'+'.light{i}_'+'shadowMatr'+'ixPalette['+'cascadeInd'+'ex];\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20sha'+'dowMatrix:'+'\x20mat4x4f\x20='+'\x20uniform.l'+'ight{i}_sh'+'adowMatrix'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20lightDirA'+'rg\x20=\x20light'+'DirW_in;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'TYPE\x20==\x20DI'+'RECTIONAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20direc'+'tional\x20lig'+'ht\x20does\x20no'+'t\x20have\x20a\x20p'+'osition\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20shadow'+'Coord:\x20vec'+'3f\x20=\x20getSh'+'adowSample'+'Coord{i}(s'+'hadowMatri'+'x,\x20uniform'+'.light{i}_'+'shadowPara'+'ms,\x20vPosit'+'ionW,\x20vec3'+'f(0.0),\x20&l'+'ightDirArg'+',\x20dLightDi'+'rNormW,\x20dV'+'ertexNorma'+'lW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20shad'+'owCoord:\x20v'+'ec3f\x20=\x20get'+'ShadowSamp'+'leCoord{i}'+'(shadowMat'+'rix,\x20unifo'+'rm.light{i'+'}_shadowPa'+'rams,\x20vPos'+'itionW,\x20un'+'iform.ligh'+'t{i}_posit'+'ion,\x20&ligh'+'tDirArg,\x20d'+'LightDirNo'+'rmW,\x20dVert'+'exNormalW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20')+('#endif\x0a\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Fade\x20direc'+'tional\x20sha'+'dow\x20at\x20the'+'\x20far\x20dista'+'nce\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'owCoord\x20=\x20'+'fadeShadow'+'(shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowCas'+'cadeDistan'+'ces);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20-----\x20s'+'ample\x20the\x20'+'shadow\x20---'+'--\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x20//\x20---'+'--\x20directi'+'onal\x20light'+'\x20-----\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20VSM_'+'16F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowVSM1'+'6(light{i}'+'_shadowMap'+',\x20light{i}'+'_shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20uniform.'+'light{i}_s'+'hadowParam'+'s,\x205.54);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20VS'+'M_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowVS'+'M32(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams,\x2015.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCSS_32F\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20!=\x20PUN'+'CTUAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadowSear'+'chArea\x20=\x20v'+'ec2f(lengt'+'h(uniform.'+'light{i}_h'+'alfWidth),'+'\x20length(un'+'iform.ligh'+'t{i}_halfH'+'eight))\x20*\x20'+'uniform.li'+'ght{i}_sha'+'dowSearchA'+'rea;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wPCSS(ligh'+'t{i}_shado'+'wMap,\x20ligh'+'t{i}_shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20unif'+'orm.light{'+'i}_shadowP'+'arams,\x20uni'+'form.light'+'{i}_camera'+'Params,\x20sh'+'adowSearch'+'Area,\x20ligh'+'tDirW_in);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowP'+'CSS(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams,\x20unifo'+'rm.light{i'+'}_cameraPa'+'rams,\x20unif'+'orm.light{'+'i}_softSha'+'dowParams,'+'\x20lightDirW'+'_in);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F1_16F\x20||\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF1_32F'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF1x1('+'light{i}_s'+'hadowMap,\x20'+'light{i}_s'+'hadowMapSa'+'mpler,\x20sha'+'dowCoord,\x20'+'uniform.li'+'ght{i}_sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCF3_16F\x20|'+'|\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20PCF3_3'+'2F\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20getS'+'hadowPCF3x'+'3(light{i}'+'_shadowMap'+',\x20light{i}'+'_shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20uniform.'+'light{i}_s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF5_16F'+'\x20||\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20PCF5')+('_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ge'+'tShadowPCF'+'5x5(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x20//\x20-'+'----\x20spot\x20'+'light\x20----'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_16F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotVSM16'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x205.54,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotVSM32'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x2015.0,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCSS_32F\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20!=\x20PU'+'NCTUAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadowSea'+'rchArea:\x20v'+'ec2f\x20=\x20vec'+'2f(length('+'uniform.li'+'ght{i}_hal'+'fWidth),\x20l'+'ength(unif'+'orm.light{'+'i}_halfHei'+'ght))\x20*\x20un'+'iform.ligh'+'t{i}_shado'+'wSearchAre'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20s'+'hadowSearc'+'hArea:\x20vec')+('2f\x20=\x20vec2f'+'(uniform.l'+'ight{i}_sh'+'adowSearch'+'Area);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owSpotPCSS'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x20uniform.'+'light{i}_c'+'ameraParam'+'s,\x20shadowS'+'earchArea,'+'\x20lightDirW'+'_in);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_'+'16F\x20||\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF1_32F\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20getShadow'+'SpotPCF1x1'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCF'+'5_16F\x20||\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF5_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owSpotPCF5'+'x5(light{i'+'}_shadowMa'+'p,\x20light{i'+'}_shadowMa'+'pSampler,\x20'+'shadowCoor'+'d,\x20uniform'+'.light{i}_'+'shadowPara'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20')+('\x20\x20\x20#endif\x0a'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'OMNI\x20//\x20--'+'---\x20omni\x20l'+'ight\x20-----'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCSS_32F\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadowSea'+'rchArea:\x20v'+'ec2f;\x20//\x20U'+'se\x20var\x20bec'+'ause\x20assig'+'ned\x20in\x20if/'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20shad'+'owSearchAr'+'ea:\x20vec2f\x20'+'=\x20vec2f(le'+'ngth(unifo'+'rm.light{i'+'}_halfWidt'+'h),\x20length'+'(uniform.l'+'ight{i}_ha'+'lfHeight))'+'\x20*\x20uniform'+'.light{i}_'+'shadowSear'+'chArea;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20shadow'+'SearchArea'+':\x20vec2f\x20=\x20'+'vec2f(unif'+'orm.light{'+'i}_shadowS'+'earchArea)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCSS(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20un'+'iform.ligh'+'t{i}_camer'+'aParams,\x20s'+'hadowSearc'+'hArea,\x20lig'+'htDirW_in)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF1_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF1x1(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20li'+'ghtDirW_in')+(');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF3x3(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a'),yD='\x0a\x0a#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20//\x20all'+'\x20this\x20func'+'tionality\x20'+'that\x20needs'+'\x20to\x20be\x20inc'+'luded\x20for\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'FALLOFF_LI'+'NEAR\x0a\x20\x20\x20\x20#'+'define\x20LIT'+'_CODE_FALL'+'OFF_SQUARE'+'D\x0a\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_LIGHTS_'+'POINT\x0a\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a#'+'endif\x0a\x0a#if'+'def\x20AREA_L'+'IGHTS\x0a\x20\x20\x20\x20'+'var\x20areaLi'+'ghtsLutTex'+'1:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20ar'+'eaLightsLu'+'tTex1Sampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20var'+'\x20areaLight'+'sLutTex2:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20areaL'+'ightsLutTe'+'x2Sampler:'+'\x20sampler;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_L'+'IGHTING\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22lightDif'+'fuseLamber'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(AREA_LIGH'+'TS)\x20||\x20def'+'ined(LIT_C'+'LUSTERED_A'+'REA_LIGHTS'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'ltcPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20SHADOW_'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owCascades'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_KIND_PCF1'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCF1PS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20defined('+'SHADOW_KIN'+'D_PCF3)\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22shadowPC'+'F3PS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_KIND_PC'+'F5)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sh'+'adowPCF5PS'+'\x22\x0a#endif\x0a\x0a'+'#if\x20define'+'d(SHADOW_K'+'IND_PCSS)\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22linear'+'izeDepthPS'+'\x22\x0a\x0a\x20\x20\x20\x20//\x20'+'omni\x20/\x20spo'+'t\x20PCSS\x20is\x20'+('not\x20suppor'+'ted\x20on\x20Web'+'GPU\x20curren'+'tly,\x20as\x20th'+'is\x20is\x20only'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0a\x20\x20\x20\x20'+'//\x20#includ'+'e\x20\x22shadowP'+'CSSPS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22shadowSof'+'tPS\x22\x0a#endi'+'f\x0a\x0a#if\x20def'+'ined(SHADO'+'W_KIND_VSM'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owEVSMPS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_C'+'ODE_FALLOF'+'F_LINEAR\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22falloff'+'LinearPS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_C'+'ODE_FALLOF'+'F_SQUARED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fallof'+'fInvSquare'+'dPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'LIT_CODE_L'+'IGHTS_POIN'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tDirPointP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22spotPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'CODE_COOKI'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22cook'+'iePS\x22\x0a#end'+'if\x0a\x0a//\x20clu'+'stered\x20lig'+'hting\x0a#ifd'+'ef\x20LIT_CLU'+'STERED_LIG'+'HTS\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22cl'+'usteredLig'+'htPS\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIGHT_COU'+'NT\x20>\x200\x0a\x20\x20\x20'+'\x20//\x20LOOP\x20-'+'\x20generate\x20'+'shadow\x20eva'+'luation\x20fu'+'nctions\x20fo'+'r\x20all\x20non-'+'clustered\x20'+'lights\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightFunc'+'tionShadow'+'PS,\x20LIGHT_'+'COUNT\x22\x0a\x0a\x20\x20'+'\x20\x20//\x20LOOP\x20'+'-\x20generate'+'\x20light\x20eva'+'luation\x20fu'+'nctions\x20fo'+'r\x20all\x20non-'+'clustered\x20'+'lights\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightFunc'+'tionLightP'+'S,\x20LIGHT_C'+'OUNT\x22\x0a#end'+'if\x0a'),vD='\x0afn\x20addLig'+'htMap(\x0a\x20\x20\x20'+'\x20lightmap:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20dir:\x20vec'+'3f,\x0a\x20\x20\x20\x20wo'+'rldNormal:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20viewDir:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20reflecti'+'onDir:\x20vec'+'3f,\x0a\x20\x20\x20\x20gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f,\x0a\x20\x20\x20\x20ve'+'rtexNormal'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20tbn:\x20ma'+'t3x3f\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20iridesce'+'nceIntensi'+'ty:\x20f32\x0a#e'+'ndif\x0a)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20dir'+'ectional\x20l'+'ightmap\x0a\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_SP'+'ECULAR)\x20&&'+'\x20defined(L'+'IT_DIR_LIG'+'HTMAP)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'dot(dir,\x20d'+'ir)\x20<\x200.00'+'01)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20dD'+'iffuseLigh'+'t\x20+\x20lightm'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20vli'+'ght:\x20f32\x20='+'\x20saturate('+'dot(dir,\x20-'+'vertexNorm'+'al));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20flight:\x20'+'f32\x20=\x20satu'+'rate(dot(d'+'ir,\x20-world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20nlig'+'ht:\x20f32\x20=\x20'+'(flight\x20/\x20'+'max(vlight'+',\x200.01))\x20*'+'\x200.5;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'DiffuseLig'+'ht\x20=\x20dDiff'+'useLight\x20+'+'\x20lightmap\x20'+'*\x20nlight\x20*'+'\x202.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20halfDir'+':\x20vec3f\x20=\x20'+'normalize('+'-dir\x20+\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20specula'+'rLight:\x20ve'+'c3f\x20=\x20ligh'+'tmap\x20*\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20reflect'+'ionDir,\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'dir,\x20gloss'+',\x20tbn);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+('_FRESNEL\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'=\x20specular'+'Light\x20*\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(d'+'ot(viewDir'+',\x20halfDir)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gloss,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20,\x20ir'+'idescenceF'+'resnel,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceI'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20+'+'\x20specularL'+'ight;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20#else\x20//\x20'+'non-direct'+'ional\x20ligh'+'tmap\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20+\x20ligh'+'tmap;\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),xD='\x0a\x0a#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20'+'var<privat'+'e>\x20dLightm'+'apDir:\x20vec'+'3f;\x0a\x20\x20\x20\x20va'+'r\x20texture_'+'dirLightMa'+'p:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20te'+'xture_dirL'+'ightMapSam'+'pler:\x20samp'+'ler;\x0a#endi'+'f\x0a\x0afn\x20getL'+'ightMap()\x20'+'{\x0a\x0a\x20\x20\x20\x20dLi'+'ghtmap\x20=\x20v'+'ec3f(1.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_LIG'+'HT_TEXTURE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Lightmap\x20='+'\x20dLightmap'+'\x20*\x20{STD_LI'+'GHT_TEXTUR'+'E_DECODE}('+'textureSam'+'pleBias({S'+'TD_LIGHT_T'+'EXTURE_NAM'+'E},\x20{STD_L'+'IGHT_TEXTU'+'RE_NAME}Sa'+'mpler,\x20{ST'+'D_LIGHT_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+')).{STD_LI'+'GHT_TEXTUR'+'E_CHANNEL}'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_LIGHTMAP'+'_DIR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20dir:\x20vec3'+'f\x20=\x20textur'+'eSampleBia'+'s(texture_'+'dirLightMa'+'p,\x20texture'+'_dirLightM'+'apSampler,'+'\x20{STD_LIGH'+'T_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).xyz\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20d'+'irDot\x20=\x20do'+'t(dir,\x20dir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dLigh'+'tmapDir\x20=\x20'+'select(vec'+'3(0.0),\x20di'+'r\x20/\x20sqrt(d'+'irDot),\x20di'+'rDot\x20>\x200.0'+'01);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_LIG'+'HT_VERTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dL'+'ightmap\x20=\x20'+'dLightmap\x20'+'*\x20saturate'+'(vVertexCo'+'lor.{STD_L'+'IGHT_VERTE'+'X_CHANNEL}'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',TD='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'fn\x20calcLig'+'htSpecular'+'(gloss:\x20f3'+'2,\x20worldNo'+'rmal:\x20vec3'+'f,\x20viewDir'+':\x20vec3f,\x20h'+':\x20vec3f,\x20l'+'ightDirNor'+'m:\x20vec3f,\x20'+'tbn:\x20mat3x'+'3f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20PI:\x20f32\x20='+'\x203.1415926'+'53589793;\x0a'+'\x20\x20\x20\x20let\x20ro'+'ughness:\x20f'+'32\x20=\x20max(('+'1.0\x20-\x20glos'+'s)\x20*\x20(1.0\x20'+'-\x20gloss),\x20'+'0.001);\x0a\x20\x20'+'\x20\x20let\x20alph'+'aRoughness'+':\x20f32\x20=\x20ro'+'ughness\x20*\x20'+'roughness;'+'\x0a\x20\x20\x20\x20let\x20a'+'nisotropy:'+'\x20f32\x20=\x20dAn'+'isotropy;\x0a'+'\x20\x20\x20\x20let\x20di'+'rection:\x20v'+'ec2f\x20=\x20dAn'+'isotropyRo'+'tation;\x0a\x0a\x20'+'\x20\x20\x20let\x20at:'+'\x20f32\x20=\x20mix'+'(alphaRoug'+'hness,\x201.0'+',\x20anisotro'+'py\x20*\x20aniso'+'tropy);\x0a\x20\x20'+'\x20\x20let\x20ab:\x20'+'f32\x20=\x20clam'+'p(alphaRou'+'ghness,\x200.'+'001,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cT:\x20vec3f\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3f(direct'+'ion,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cB:\x20vec3f\x20'+'=\x20normaliz'+'e(cross(tb'+'n[2],\x20anis'+'otropicT))'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20NoH:\x20f32\x20'+'=\x20dot(worl'+'dNormal,\x20h'+');\x0a\x20\x20\x20\x20let'+'\x20ToH:\x20f32\x20'+'=\x20dot(anis'+'otropicT,\x20'+'h);\x0a\x20\x20\x20\x20le'+'t\x20BoH:\x20f32'+'\x20=\x20dot(ani'+'sotropicB,'+'\x20h);\x0a\x0a\x20\x20\x20\x20'+'let\x20a2:\x20f3'+'2\x20=\x20at\x20*\x20a'+'b;\x0a\x20\x20\x20\x20let'+'\x20v:\x20vec3f\x20'+'=\x20vec3f(ab'+'\x20*\x20ToH,\x20at'+'\x20*\x20BoH,\x20a2'+'\x20*\x20NoH);\x0a\x20'+'\x20\x20\x20let\x20v2:'+'\x20f32\x20=\x20dot'+'(v,\x20v);\x0a\x20\x20'+'\x20\x20let\x20w2:\x20'+'f32\x20=\x20a2\x20/'+'\x20v2;\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20a2\x20*\x20w2\x20'+'*\x20w2\x20*\x20(1.'+'0\x20/\x20PI);\x0a\x0a'+'\x20\x20\x20\x20let\x20To'+'V:\x20f32\x20=\x20d'+'ot(anisotr'+'opicT,\x20vie'+('wDir);\x0a\x20\x20\x20'+'\x20let\x20BoV:\x20'+'f32\x20=\x20dot('+'anisotropi'+'cB,\x20viewDi'+'r);\x0a\x20\x20\x20\x20le'+'t\x20ToL:\x20f32'+'\x20=\x20dot(ani'+'sotropicT,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20let\x20BoL:\x20'+'f32\x20=\x20dot('+'anisotropi'+'cB,\x20-light'+'DirNorm);\x0a'+'\x20\x20\x20\x20let\x20No'+'V:\x20f32\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'let\x20NoL:\x20f'+'32\x20=\x20dot(w'+'orldNormal'+',\x20-lightDi'+'rNorm);\x0a\x0a\x20'+'\x20\x20\x20let\x20lam'+'bdaV:\x20f32\x20'+'=\x20NoL\x20*\x20le'+'ngth(vec3f'+'(at\x20*\x20ToV,'+'\x20ab\x20*\x20BoV,'+'\x20NoV));\x0a\x20\x20'+'\x20\x20let\x20lamb'+'daL:\x20f32\x20='+'\x20NoV\x20*\x20len'+'gth(vec3f('+'at\x20*\x20ToL,\x20'+'ab\x20*\x20BoL,\x20'+'NoL));\x0a\x20\x20\x20'+'\x20let\x20G:\x20f3'+'2\x20=\x200.5\x20/\x20'+'(lambdaV\x20+'+'\x20lambdaL);'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20D\x20*\x20G;\x0a'+'}\x0a\x0afn\x20getL'+'ightSpecul'+'ar(h:\x20vec3'+'f,\x20reflDir'+':\x20vec3f,\x20w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20light'+'DirNorm:\x20v'+'ec3f,\x20glos'+'s:\x20f32,\x20tb'+'n:\x20mat3x3f'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20calcLigh'+'tSpecular('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir,\x20h'+',\x20lightDir'+'Norm,\x20tbn)'+';\x0a}\x0a'),wD='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afn\x20c'+'alcLightSp'+'ecular(glo'+'ss:\x20f32,\x20w'+'orldNormal'+':\x20vec3f,\x20h'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20nh:\x20'+'f32\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'specPow:\x20f'+'32\x20=\x20exp2('+'gloss\x20*\x2011'+'.0);\x20//\x20gl'+'ossiness\x20i'+'s\x20linear,\x20'+'power\x20is\x20n'+'ot;\x200\x20-\x2020'+'48\x0a\x0a\x20\x20\x20\x20//'+'\x20Hack:\x20On\x20'+'Mac\x20OS\x20X,\x20'+'calling\x20po'+'w\x20with\x20zer'+'o\x20for\x20the\x20'+'exponent\x20g'+'enerates\x20h'+'ideous\x20art'+'ifacts\x20so\x20'+'bias\x20up\x20a\x20'+'little\x0a\x20\x20\x20'+'\x20specPow\x20='+'\x20max(specP'+'ow,\x200.0001'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20pow(n'+'h,\x20specPow'+')\x20*\x20(specP'+'ow\x20+\x202.0)\x20'+'/\x208.0;\x0a}\x0a\x0a'+'fn\x20getLigh'+'tSpecular('+'h:\x20vec3f,\x20'+'reflDir:\x20v'+'ec3f,\x20worl'+'dNormal:\x20v'+'ec3f,\x20view'+'Dir:\x20vec3f'+',\x20lightDir'+'Norm:\x20vec3'+'f,\x20gloss:\x20'+'f32,\x20tbn:\x20'+'mat3x3f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',ED='\x0a\x0afn\x20sheen'+'D(normal:\x20'+'vec3f,\x20h:\x20'+'vec3f,\x20rou'+'ghness:\x20f3'+'2)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'PI:\x20f32\x20=\x20'+'3.14159265'+'3589793;\x0a\x20'+'\x20\x20\x20let\x20inv'+'R:\x20f32\x20=\x201'+'.0\x20/\x20(roug'+'hness\x20*\x20ro'+'ughness);\x0a'+'\x20\x20\x20\x20var\x20co'+'s2h:\x20f32\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20=\x20c'+'os2h\x20*\x20cos'+'2h;\x0a\x20\x20\x20\x20le'+'t\x20sin2h:\x20f'+'32\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'fn\x20sheenV('+'normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20light:\x20ve'+'c3f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20le'+'t\x20NoV:\x20f32'+'\x20=\x20max(dot'+'(normal,\x20v'+'iewDir),\x200'+'.000001);\x0a'+'\x20\x20\x20\x20let\x20No'+'L:\x20f32\x20=\x20m'+'ax(dot(nor'+'mal,\x20light'+'),\x200.00000'+'1);\x0a\x20\x20\x20\x20re'+'turn\x201.0\x20/'+'\x20(4.0\x20*\x20(N'+'oL\x20+\x20NoV\x20-'+'\x20NoL\x20*\x20NoV'+'));\x0a}\x0a\x0afn\x20'+'getLightSp'+'ecularShee'+'n(h:\x20vec3f'+',\x20worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f,\x20li'+'ghtDirNorm'+':\x20vec3f,\x20s'+'heenGloss:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20let\x20V:\x20f'+'32\x20=\x20sheen'+'V(worldNor'+'mal,\x20viewD'+'ir,\x20-light'+'DirNorm);\x0a'+'\x20\x20\x20\x20return'+'\x20D\x20*\x20V;\x0a}',bD='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afn\x20linear'+'izeDepthWi'+'thParams(z'+':\x20f32,\x20cam'+'eraParams:'+'\x20vec4f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20if\x20(camer'+'aParams.w\x20'+'==\x200.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(came'+'raParams.z'+'\x20*\x20cameraP'+'arams.y)\x20/'+'\x20(cameraPa'+'rams.y\x20+\x20z'+'\x20*\x20(camera'+'Params.z\x20-'+'\x20cameraPar'+'ams.y));\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20cam'+'eraParams.'+'z\x20+\x20z\x20*\x20(c'+'ameraParam'+'s.y\x20-\x20came'+'raParams.z'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a\x0a#ifndef\x20'+'CAMERAPLAN'+'ES\x0a\x20\x20\x20\x20#de'+'fine\x20CAMER'+'APLANES\x0a\x20\x20'+'\x20\x20uniform\x20'+'camera_par'+'ams:\x20vec4f'+';\x20\x20\x20//\x20x:\x20'+'1\x20/\x20camera'+'_far,\x20\x20\x20\x20\x20'+'\x20y:\x20camera'+'_far,\x20\x20\x20\x20\x20'+'z:\x20camera_'+'near,\x20\x20\x20\x20\x20'+'\x20\x20\x20w:\x20is_o'+'rtho\x0a#endi'+'f\x0a\x0afn\x20line'+'arizeDepth'+'(z:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20l'+'inearizeDe'+'pthWithPar'+'ams(z,\x20uni'+'form.camer'+'a_params);'+'\x0a}\x0a#endif\x20'+'//\x20LINEARI'+'ZE_DEPTH\x0a',AD='\x0afn\x20evalua'+'teBackend('+')\x20->\x20Fragm'+'entOutput\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'//\x20apply\x20S'+'SAO\x20during'+'\x20lighting\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SSAO\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_ao\x20='+'\x20litArgs_a'+'o\x20*\x20textur'+'eSampleLev'+'el(ssaoTex'+'ture,\x20ssao'+'TextureSam'+'pler,\x20pcPo'+'sition.xy\x20'+'*\x20uniform.'+'ssaoTextur'+'eSizeInv,\x20'+'0.0).r;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nsform\x20tan'+'gent\x20space'+'\x20normals\x20t'+'o\x20world\x20sp'+'ace\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_N'+'EEDS_NORMA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getReflD'+'ir(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20litAr'+'gs_gloss,\x20'+'dTBN);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccRefl'+'DirW\x20=\x20nor'+'malize(-re'+'flect(dVie'+'wDirW,\x20lit'+'Args_clear'+'coat_world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'f0:\x20f32\x20=\x20'+'1.0\x20/\x20litA'+'rgs_ior;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20f0\x20=\x20(f0\x20'+'-\x201.0)\x20/\x20('+'f0\x20+\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20f0\x20=\x20f0'+'\x20*\x20f0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity\x20='+'\x20getSpecul'+'arModulate'+'(litArgs_s'+'pecularity'+',\x20litArgs_'+'albedo,\x20li'+'tArgs_meta'+'lness,\x20f0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+('ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ir'+'idescenceF'+'resnel:\x20ve'+'c3f\x20=\x20getI'+'ridescence'+'Diffractio'+'n(saturate'+'(dot(dView'+'DirW,\x20litA'+'rgs_worldN'+'ormal)),\x20l'+'itArgs_spe'+'cularity,\x20'+'litArgs_ir'+'idescence_'+'thickness)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20ambi'+'ent\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ddAmbient('+'litArgs_wo'+'rldNormal)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20=\x20d'+'DiffuseLig'+'ht\x20*\x20(1.0\x20'+'-\x20litArgs_'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20move\x20ambi'+'ent\x20color\x20'+'out\x20of\x20dif'+'fuse\x20(used'+'\x20by\x20Lightm'+'apper,\x20to\x20'+'multiply\x20a'+'mbient\x20col'+'or\x20by\x20accu'+'mulated\x20AO'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SEPARATE_'+'AMBIENT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20dAmbie'+'ntLight:\x20v'+'ec3f\x20=\x20dDi'+'ffuseLight'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'LIT_OLD_AM'+'BIENT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20*\x20unif'+'orm.materi'+'al_ambient'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_A'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20LI'+'T_OCCLUDE_'+'DIRECT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'ccludeDiff'+'use(litArg'+'s_ao);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_L'+'IGHTMAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20litArgs_l'+'ightmap,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'lightmapDi'+'r,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dViewDirW,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dReflD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dVertexNor'+'malW,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dT'+'BN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20,\x20irides'+'cenceFresn'+'el,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_irides'+'cence_inte'+'nsity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_L'+'IGHTING\x20||'+'\x20LIT_REFLE'+'CTIONS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'LECTIONS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'ddReflecti'+'onCC(ccRef'+'lDirW,\x20lit'+'Args_clear'+'coat_gloss'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'ccFresnel\x20'+'=\x20getFresn'+'elCC(dot(d'+'ViewDirW,\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccRefle'+'ction\x20=\x20cc'+'Reflection'+'\x20*\x20ccFresn'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccFr'+'esnel\x20=\x200.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULARITY'+'_FACTOR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccRefl'+'ection\x20=\x20c'+'cReflectio'+'n\x20*\x20litArg'+'s_specular'+'ityFactor;')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20addR'+'eflectionS'+'heen(litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20lit'+'Args_sheen'+'_gloss);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20Fresne'+'l\x20has\x20to\x20b'+'e\x20applied\x20'+'to\x20reflect'+'ions\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20add'+'Reflection'+'(dReflDirW'+',\x20litArgs_'+'gloss);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_FRESNEL_'+'MODEL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4f(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dReflecti'+'on.a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4f('+'dReflectio'+'n.rgb\x20*\x20li'+'tArgs_spec'+'ularity,\x20d'+'Reflection'+'.a);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULARITY'+'_FACTOR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve')+('c4f(dRefle'+'ction.rgb\x20'+'*\x20litArgs_'+'specularit'+'yFactor,\x20d'+'Reflection'+'.a);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20AREA'+'_LIGHTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'r\x20has\x20to\x20b'+'e\x20accumula'+'ted\x20differ'+'ently\x20if\x20w'+'e\x20want\x20are'+'a\x20lights\x20t'+'o\x20look\x20cor'+'rect\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20*'+'\x20litArgs_s'+'pecularity'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20evalua'+'te\x20materia'+'l\x20based\x20ar'+'ea\x20lights\x20'+'data,\x20shar'+'ed\x20by\x20all\x20'+'area\x20light'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcLTCLight'+'Values(lit'+'Args_gloss'+',\x20litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW,\x20litArg'+'s_specular'+'ity,\x20litAr'+'gs_clearco'+'at_gloss,\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20litArgs_c'+'learcoat_s'+'pecularity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20LOO'+'P\x20-\x20evalua'+'te\x20all\x20non'+'-clustered'+'\x20lights\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT_C'+'OUNT\x20>\x200\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22lightEval'+'uationPS,\x20'+'LIGHT_COUN'+'T\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_CL'+'USTERED_LI'+'GHTS\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20add'+'ClusteredL'+'ights(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20dR'+'eflDirW,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_CLEARCOAT'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20ccRe'+'flDirW,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_gloss,\x20'+'litArgs_sp'+'ecularity,'+'\x20dVertexNo'+'rmalW,\x20dTB'+'N,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20litA'+'rgs_sheen_'+'gloss,\x20lit'+'Args_iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20AREA_LI'+'GHTS\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ecular\x20has'+'\x20to\x20be\x20acc'+'umulated\x20d'+'ifferently'+'\x20if\x20we\x20wan'+'t\x20area\x20lig'+'hts\x20to\x20loo'+'k\x20correct\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_clearc'+'oat_specul'+'arity\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'\x20=\x20vec3(1.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFRACTION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20addRefra'+'ction(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_worldNorm'+'al,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dViewDirW'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_thi'+'ckness,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_gloss,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_specu'+'larity,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr')+('gs_albedo,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_tran'+'smission,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_ior,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_dispers'+'ion\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20apply\x20'+'ambient\x20oc'+'clusion\x0a\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_AO\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_OCCLU'+'DE_DIRECT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20occludeD'+'iffuse(lit'+'Args_ao);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'T_OCCLUDE_'+'SPECULAR\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'ccludeSpec'+'ular(litAr'+'gs_gloss,\x20'+'litArgs_ao'+',\x20litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULARITY_F'+'ACTOR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20='+'\x20dSpecular'+'Light\x20*\x20li'+'tArgs_spec'+'ularityFac'+'tor;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20!defi'+'ned(LIT_OP'+'ACITY_FADE'+'S_SPECULAR'+')\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIT_B'+'LEND_TYPE\x20'+'==\x20NORMAL\x20'+'||\x20LIT_BLE'+'ND_TYPE\x20=='+'\x20PREMULTIP'+'LIED\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20specLum:'+'\x20f32\x20=\x20dot'+'((dSpecula'+'rLight\x20+\x20d'+'Reflection'+'.rgb\x20*\x20dRe'+'flection.a'+'),\x20vec3f(\x20'+'0.2126,\x200.'+'7152,\x200.07'+'22\x20));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'Lum\x20=\x20spec'+'Lum\x20+\x20dot('+'ccSpecular'+'Light\x20*\x20li'+'tArgs_clea'+'rcoat_spec'+'ularity\x20+\x20'+'ccReflecti'+'on\x20*\x20litAr'+'gs_clearco'+'at_specula'+'rity,\x20vec3'+'f(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_o'+'pacity\x20=\x20c'+'lamp(litAr'+'gs_opacity'+'\x20+\x20gammaCo'+'rrectInput'+'(specLum),'+'\x200.0,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_opaci'+'ty\x20=\x20litAr'+'gs_opacity'+'\x20*\x20uniform'+'.material_'+'alphaFade;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20end\x20chunk'+'s\x20-\x20when\x20b'+'aking\x20ligh'+'tmap\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'LIGHTMAP_B'+'AKING\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_LIGHT'+'MAP_BAKING'+'_COLOR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22b'+'akeLmEndPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_LIGH'+'TMAP_BAKIN'+'G_DIR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22ba'+'keDirLmEnd'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'end\x20chunks'+'\x20-\x20in\x20all\x20'+'other\x20case'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'endPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22outpu'+'tAlphaPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_MSD'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20apply'+'Msdf(outpu'+'t.color);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22outp'+'utPS\x22\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'debugOutpu'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHADOW_CA'+'TCHER\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20out'+'put\x20when\x20t'+'he\x20shadow\x20'+'catcher\x20is'+'\x20enabled\x20-'+'\x20accumulat'+'ed\x20shadows')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'vec3f(dSha'+'dowCatcher'+'),\x20output.'+'color.a);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a}\x0a'),CD='\x0a\x0a//\x20globa'+'ls\x0avar<pri'+'vate>\x20sRef'+'lection:\x20v'+'ec3f;\x0avar<'+'private>\x20d'+'VertexNorm'+'alW:\x20vec3f'+';\x0avar<priv'+'ate>\x20dTang'+'entW:\x20vec3'+'f;\x0avar<pri'+'vate>\x20dBin'+'ormalW:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20dV'+'iewDirW:\x20v'+'ec3f;\x0avar<'+'private>\x20d'+'ReflDirW:\x20'+'vec3f;\x0avar'+'<private>\x20'+'ccReflDirW'+':\x20vec3f;\x0a\x0a'+'//\x20Per-lig'+'ht\x20tempora'+'ries\x0avar<p'+'rivate>\x20dL'+'ightDirNor'+'mW:\x20vec3f;'+'\x0avar<priva'+'te>\x20dAtten'+':\x20f32;\x0a\x0a//'+'\x20Outputs\x0av'+'ar<private'+'>\x20dTBN:\x20ma'+'t3x3f;\x0avar'+'<private>\x20'+'dReflectio'+'n:\x20vec4f;\x0a'+'var<privat'+'e>\x20dDiffus'+'eLight:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20dS'+'pecularLig'+'ht:\x20vec3f;'+'\x0avar<priva'+'te>\x20ccFres'+'nel:\x20f32;\x0a'+'var<privat'+'e>\x20ccRefle'+'ction:\x20vec'+'3f;\x0avar<pr'+'ivate>\x20ccS'+'pecularLig'+'ht:\x20vec3f;'+'\x0avar<priva'+'te>\x20ccSpec'+'ularityNoF'+'res:\x20f32;\x0a'+'var<privat'+'e>\x20sSpecul'+'arLight:\x20v'+'ec3f;\x0a\x0a//\x20'+'FRAGMENT\x20S'+'HADER\x20INPU'+'TS:\x20UNIFOR'+'MS\x0a\x0a#ifdef'+'\x20LIT_DISPE'+'RSION\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_dis'+'persion:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LIT_OPACIT'+'Y_FADES_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_al'+'phaFade:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifdef\x20L'+'IT_SSAO\x0a\x20\x20'+'\x20\x20var\x20ssao'+'Texture\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20ssaoT'+'extureSamp'+'ler\x20:\x20samp'+'ler;\x0a\x20\x20\x20\x20u'+'niform\x20ssa'+'oTextureSi'+'zeInv:\x20vec'+'2f;\x0a#endif'+'\x0a\x0a//\x20light'+'ing\x20and\x20sh'+'adowing\x20de'+('clarations'+'\x0a\x0a#ifdef\x20L'+'IT_SHADOW_'+'CATCHER\x0a\x20\x20'+'\x20\x20//\x20a\x20var'+'iable\x20to\x20a'+'ccumulate\x20'+'shadows\x20fo'+'r\x20shadow\x20c'+'atcher\x20mat'+'erials\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dShado'+'wCatcher:\x20'+'f32\x20=\x201.0;'+'\x0a#endif\x0a\x0a/'+'/\x20LOOP\x20-\x20u'+'niform\x20dec'+'larations\x20'+'for\x20all\x20no'+'n-clustere'+'d\x20lights\x0a#'+'if\x20LIGHT_C'+'OUNT\x20>\x200\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22lightDe'+'clarationP'+'S,\x20LIGHT_C'+'OUNT\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20#i'+'f\x20LIT_FRES'+'NEL_MODEL\x20'+'==\x20NONE\x20&&'+'\x20!defined('+'LIT_REFLEC'+'TIONS)\x20&&\x20'+'!defined(L'+'IT_DIFFUSE'+'_MAP)\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_OLD'+'_AMBIENT\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#endif\x0a\x0a//'+'\x20lightmap\x20'+'baking\x0a#if'+'def\x20STD_LI'+'GHTMAP_DIR'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20bakeDir'+':\x20f32;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_LIGHT'+'MAP_BAKING'+'_ADD_AMBIE'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20ambie'+'ntBakeOccl'+'usionContr'+'ast:\x20f32;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20ambientB'+'akeOcclusi'+'onBrightne'+'ss:\x20f32;\x0a#'+'endif\x0a'),PD='\x0a\x0a@fragmen'+'t\x0afn\x20fragm'+'entMain(in'+'put:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4f('+'0.0);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ccSpecular'+'Light\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'Reflection'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_N'+'ONE_SLICE_'+'MODE\x20==\x20SL'+'ICED\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22startNi'+'neSlicedPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20LIT_NONE'+'_SLICE_MOD'+'E\x20==\x20TILED'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22s'+'tartNineSl'+'icedTiledP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'NEEDS_NORM'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dVertexNo'+'rmalW\x20=\x20no'+'rmalize(vN'+'ormalW);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_T'+'ANGENTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_HEIG'+'HTS)\x20||\x20de'+'fined(LIT_'+'USE_NORMAL'+'S)\x20||\x20defi'+'ned(LIT_US'+'E_CLEARCOA'+'T_NORMALS)'+'\x20||\x20define'+'d(LIT_GGX_'+'SPECULAR)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dTan'+'gentW\x20=\x20vT'+'angentW;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dBino'+'rmalW\x20=\x20vB'+'inormalW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20getView'+'Dir();\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_TBN'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getTBN('+'dTangentW,'+'\x20dBinormal'+'W,\x20dVertex'+'NormalW);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20h'+'andleTwoSi'+'dedLightin'+'g();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+('\x0a\x20\x20\x20\x20//\x20in'+'voke\x20front'+'end\x20functi'+'ons\x0a\x20\x20\x20\x20ev'+'aluateFron'+'tend();\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22debugPr'+'ocessFront'+'endPS\x22\x0a\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Fragme'+'ntOutput\x20='+'\x20evaluateB'+'ackend();\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainEndP'+'S\x22\x0a\x0a\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a}\x0a'),MD='\x0a\x0a#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'cubeMapRot'+'atePS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22cubeMapPr'+'ojectPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22envProc'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20-----'+'\x20specular\x20'+'or\x20reflect'+'ions\x20-----'+'\x0a#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'METALNESS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessMod'+'ulatePS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_FRESNEL'+'_MODEL\x20==\x20'+'SCHLICK\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22fres'+'nelSchlick'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_IRIDESCEN'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22iridescen'+'ceDiffract'+'ionPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a//\x20-'+'----\x20ambie'+'nt\x20occlusi'+'on\x20-----\x0a#'+'ifdef\x20LIT_'+'AO\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoD'+'iffuseOccP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoS'+'pecOccPS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20LIT_REFL'+'ECTION_SOU'+'RCE\x20==\x20ENV'+'ATLASHQ\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22envAtlas'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flectionEn'+'vHQPS\x22\x0a#el'+'if\x20LIT_REF'+'LECTION_SO'+'URCE\x20==\x20EN'+'VATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionEnv'+'PS\x22\x0a#elif\x20'+'LIT_REFLEC'+'TION_SOURC'+'E\x20==\x20CUBEM'+'AP\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionCub'+'ePS\x22\x0a#elif'+'\x20LIT_REFLE'+'CTION_SOUR'+'CE\x20==\x20SPHE'+'REMAP\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'reflection'+'SpherePS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_CLEA'+'RCOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22reflec'+'tionCCPS\x22\x0a'+'\x20\x20\x20\x20#endif'+('\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22reflectio'+'nSheenPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'REFRACTION'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_DYNAMIC_R'+'EFRACTION)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22r'+'efractionD'+'ynamicPS\x22\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(LI'+'T_REFLECTI'+'ONS)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22refract'+'ionCubePS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightShee'+'nPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20material_'+'ambient:\x20v'+'ec3f;\x0a\x0a#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_LIGHTING'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22light'+'SpecularAn'+'isoGGXPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tSpecularB'+'linnPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a#endif'+'\x0a\x0a#include'+'\x20\x22combineP'+'S\x22\x0a\x0a#ifdef'+'\x20LIT_LIGHT'+'MAP\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'ghtmapAddP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_ADD_AMBI'+'ENT\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22am'+'bientPS\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIT_MS'+'DF\x0a\x20\x20\x20\x20#in'+'clude\x20\x22msd'+'fPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'LIT_NEEDS_'+'NORMAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22viewDirPS'+'\x22\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_GGX_S'+'PECULAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'reflDirAni'+'soPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22reflDirP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a#'+'endif\x0a\x0a//\x20'+'lighting\x20f'+'unctionali')+('ty\x0a#includ'+'e\x20\x22lightin'+'gPS\x22\x0a\x0a'),DD='\x0a\x0a#include'+'\x20\x22basePS\x22\x0a'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a#includ'+'e\x20\x22decodeP'+'S\x22\x0a#includ'+'e\x20\x22gammaPS'+'\x22\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22fog'+'PS\x22\x0a\x0a//\x209-'+'slice\x20supp'+'ort\x20code\x0a#'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20SLIC'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bas'+'eNineSlice'+'dPS\x22\x0a#elif'+'\x20LIT_NONE_'+'SLICE_MODE'+'\x20==\x20TILED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22baseNi'+'neSlicedTi'+'ledPS\x22\x0a#en'+'dif\x0a\x0a//\x20TB'+'N\x0a#ifdef\x20L'+'IT_TBN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22TBNPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22twoSidedL'+'ightingPS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a',ID='\x0a\x0a#include'+'\x20\x22varyings'+'PS\x22\x0a#inclu'+'de\x20\x22litUse'+'rDeclarati'+'onPS\x22\x0a#inc'+'lude\x20\x22fron'+'tendDeclPS'+'\x22\x0a\x0a#if\x20def'+'ined(PICK_'+'PASS)\x20||\x20d'+'efined(PRE'+'PASS_PASS)'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fron'+'tendCodePS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serCodePS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litOt'+'herMainPS\x22'+'\x0a\x0a#elif\x20de'+'fined(SHAD'+'OW_PASS)\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fronte'+'ndCodePS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rCodePS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litShad'+'owMainPS\x22\x0a'+'\x0a#else\x20//\x20'+'FORWARD_PA'+'SS\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardDe'+'clarationP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ForwardPre'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22frontend'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdPostCode'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardBa'+'ckendPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdMainPS\x22\x0a'+'\x0a#endif\x0a\x0a',LD='\x0a\x0a#include'+'\x20\x22varyings'+'VS\x22\x0a\x0a#incl'+'ude\x20\x20\x22litU'+'serDeclara'+'tionVS\x22\x0a\x0a#'+'ifdef\x20VERT'+'EX_COLOR\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vertex_'+'color:\x20vec'+'4f;\x0a#endif'+'\x0a\x0a#ifdef\x20N'+'INESLICED\x0a'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vMask:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20varying\x20v'+'TiledUv:\x20v'+'ec2f;\x0a\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dMaskG'+'lobal:\x20vec'+'2f;\x0a\x20\x20\x20\x20va'+'r<private>'+'\x20dTiledUvG'+'lobal:\x20vec'+'2f;\x0a\x0a\x20\x20\x20\x20u'+'niform\x20inn'+'erOffset:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20uniform\x20o'+'uterScale:'+'\x20vec2f;\x0a\x20\x20'+'\x20\x20uniform\x20'+'atlasRect:'+'\x20vec4f;\x0a\x0a#'+'endif\x0a\x0avar'+'<private>\x20'+'dPositionW'+':\x20vec3f;\x0av'+'ar<private'+'>\x20dModelMa'+'trix:\x20mat4'+'x4f;\x0a\x0a#inc'+'lude\x20\x22tran'+'sformCoreV'+'S\x22\x0a\x0a#ifdef'+'\x20UV0\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ertex_texC'+'oord0:\x20vec'+'2f;\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22uv'+'0VS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'UV1\x0a\x20\x20\x20\x20at'+'tribute\x20ve'+'rtex_texCo'+'ord1:\x20vec2'+'f;\x0a\x20\x20\x20\x20#in'+'clude\x20\x22uv1'+'VS\x22\x0a#endif'+'\x0a\x0a\x0a#ifdef\x20'+'LINEAR_DEP'+'TH\x0a\x20\x20\x20\x20#if'+'ndef\x20VIEWM'+'ATRIX\x0a\x20\x20\x20\x20'+'#define\x20VI'+'EWMATRIX\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20matri'+'x_view:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#inc'+'lude\x20\x22tran'+'sformVS\x22\x0a\x0a'+'#ifdef\x20NOR'+'MALS\x0a\x20\x20\x20\x20#'+'include\x20\x22n'+'ormalCoreV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malVS\x22\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20TANGENTS'+'\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_tangent:'+'\x20vec4f;\x0a#e'+'ndif\x0a\x0a//\x20e'+'xpand\x20unif'+'orms\x20for\x20u'+'v\x20transfor'+'ms\x0a#includ'+'e\x20\x22uvTrans'+'formUnifor'+'msPS,\x20UV_T'+'RANSFORMS_'+('COUNT\x22\x0a\x0a#i'+'fdef\x20MSDF\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22msdfVS'+'\x22\x0a#endif\x0a\x0a'+'#include\x20\x20'+'\x22litUserCo'+'deVS\x22\x0a\x0a@ve'+'rtex\x0afn\x20ve'+'rtexMain(i'+'nput\x20:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'MainStartV'+'S\x22\x0a\x0a\x20\x20\x20\x20va'+'r\x20output\x20:'+'\x20VertexOut'+'put;\x0a\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20get'+'Position()'+';\x0a\x20\x20\x20\x20outp'+'ut.vPositi'+'onW\x20=\x20getW'+'orldPositi'+'on();\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20NO'+'RMALS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.vNormalW\x20'+'=\x20getNorma'+'l();\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20TA'+'NGENTS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.vTangent'+'W\x20=\x20normal'+'ize(dNorma'+'lMatrix\x20*\x20'+'vertex_tan'+'gent.xyz);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vBin'+'ormalW\x20=\x20c'+'ross(outpu'+'t.vNormalW'+',\x20output.v'+'TangentW)\x20'+'*\x20vertex_t'+'angent.w;\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(GG'+'X_SPECULAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.vOb'+'jectSpaceU'+'pW\x20=\x20norma'+'lize(dNorm'+'alMatrix\x20*'+'\x20vec3f(0.0'+',\x201.0,\x200.0'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20UV0'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20uv0:\x20ve'+'c2f\x20=\x20getU'+'v0();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20UV0_UNMOD'+'IFIED\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.vUv0\x20'+'=\x20uv0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20UV1\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20uv1:\x20vec2'+'f\x20=\x20getUv1'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20U'+'V1_UNMODIF'+'IED\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.vUv1\x20=\x20'+'uv1;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'xpand\x20code'+'\x20for\x20uv\x20tr'+'ansforms\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22uvTrans')+('formVS,\x20UV'+'_TRANSFORM'+'S_COUNT\x22\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20VERTEX_CO'+'LOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.v'+'VertexColo'+'r\x20=\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LINEAR_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20linea'+'r\x20depth\x20fr'+'om\x20the\x20wor'+'ldPosition'+',\x20see\x20getL'+'inearDepth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vLin'+'earDepth\x20='+'\x20-(uniform'+'.matrix_vi'+'ew\x20*\x20vec4f'+'(output.vP'+'ositionW,\x20'+'1.0)).z;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MSDF\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unpac'+'kMsdfParam'+'s();\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.outline_c'+'olor\x20=\x20dOu'+'tlineColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.out'+'line_thick'+'ness\x20=\x20dOu'+'tlineThick'+'ness;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.shadow_co'+'lor\x20=\x20dSha'+'dowColor;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.shado'+'w_offset\x20='+'\x20dShadowOf'+'fset;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'INESLICED\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.vMask'+'\x20=\x20dMaskGl'+'obal;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.vTiledUv\x20'+'=\x20dTiledUv'+'Global;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rMainEndVS'+'\x22\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a'),RD='\x0a\x0a#ifdef\x20P'+'ICK_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22pickPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22floatAs'+'UintPS\x22\x0a#e'+'ndif\x0a\x0a@fra'+'gment\x0afn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'itUserMain'+'StartPS\x22\x0a\x0a'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20evaluateF'+'rontend();'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20PICK_PA'+'SS\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20getP'+'ickOutput('+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20float2ve'+'c4(vLinear'+'Depth);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rMainEndPS'+'\x22\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',OD='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avar<priva'+'te>\x20litArg'+'s_albedo:\x20'+'vec3f;\x0a\x0a//'+'\x20Transpare'+'ncy\x0avar<pr'+'ivate>\x20lit'+'Args_opaci'+'ty:\x20f32;\x0a\x0a'+'//\x20Emissio'+'n\x20color\x0ava'+'r<private>'+'\x20litArgs_e'+'mission:\x20v'+'ec3f;\x0a\x0a//\x20'+'Normal\x20dir'+'ection\x20in\x20'+'world\x20spac'+'e\x0avar<priv'+'ate>\x20litAr'+'gs_worldNo'+'rmal:\x20vec3'+'f;\x0a\x0a//\x20Amb'+'ient\x20occlu'+'sion\x20amoun'+'t,\x20range\x20['+'0..1]\x0avar<'+'private>\x20l'+'itArgs_ao:'+'\x20f32;\x0a\x0a//\x20'+'Light\x20map\x20'+'color\x0avar<'+'private>\x20l'+'itArgs_lig'+'htmap:\x20vec'+'3f;\x0a\x0a//\x20Li'+'ght\x20map\x20di'+'rection\x0ava'+'r<private>'+'\x20litArgs_l'+'ightmapDir'+':\x20vec3f;\x0a\x0a'+'//\x20Surface'+'\x20metalness'+'\x20factor,\x20r'+'ange\x20[0..1'+']\x0avar<priv'+'ate>\x20litAr'+'gs_metalne'+'ss:\x20f32;\x0a\x0a'+'//\x20The\x20f0\x20'+'specularit'+'y\x20factor\x0av'+'ar<private'+'>\x20litArgs_'+'specularit'+'y:\x20vec3f;\x0a'+'\x0a//\x20Specul'+'arity\x20inte'+'nsity\x20fact'+'or,\x20range\x20'+'[0..1]\x0avar'+'<private>\x20'+'litArgs_sp'+'ecularityF'+'actor:\x20f32'+';\x0a\x0a//\x20The\x20'+'microfacet'+'\x20glossines'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0avar<pri'+'vate>\x20litA'+'rgs_gloss:'+'\x20f32;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0avar<pr'+'ivate>\x20lit'+'Args_sheen'+'_gloss:\x20f3'+'2;\x0a\x0a//\x20The'+'\x20color\x20of\x20'+'the\x20f0\x20spe'+'cularity\x20f'+'actor\x20for\x20'+'the\x20sheen\x20'+'layer\x0avar<'+'private>\x20l'+'itArgs_she'+'en_specula'+'rity:\x20vec3'+'f;\x0a\x0a//\x20Tra'+'nsmission\x20'+'factor\x20(re'+('fraction),'+'\x20range\x20[0.'+'.1]\x0avar<pr'+'ivate>\x20lit'+'Args_trans'+'mission:\x20f'+'32;\x0a\x0a//\x20Un'+'iform\x20thic'+'kness\x20of\x20m'+'edium,\x20use'+'d\x20by\x20trans'+'mission,\x20r'+'ange\x20[0..i'+'nf]\x0avar<pr'+'ivate>\x20lit'+'Args_thick'+'ness:\x20f32;'+'\x0a\x0a//\x20Index'+'\x20of\x20refrac'+'tion\x0avar<p'+'rivate>\x20li'+'tArgs_ior:'+'\x20f32;\x0a\x0a//\x20'+'Dispersion'+',\x20range\x20[0'+'..1]\x20typic'+'ally,\x20but\x20'+'can\x20be\x20hig'+'her\x0avar<pr'+'ivate>\x20lit'+'Args_dispe'+'rsion:\x20f32'+';\x0a\x0a//\x20Irid'+'escence\x20ef'+'fect\x20inten'+'sity,\x20rang'+'e\x20[0..1]\x0av'+'ar<private'+'>\x20litArgs_'+'iridescenc'+'e_intensit'+'y:\x20f32;\x0a\x0a/'+'/\x20Thicknes'+'s\x20of\x20the\x20i'+'ridescent\x20'+'microfilm\x20'+'layer,\x20val'+'ue\x20is\x20in\x20n'+'anometers,'+'\x20range\x20[0.'+'.1000]\x0avar'+'<private>\x20'+'litArgs_ir'+'idescence_'+'thickness:'+'\x20f32;\x0a\x0a//\x20'+'The\x20normal'+'\x20used\x20for\x20'+'the\x20clearc'+'oat\x20layer\x0a'+'var<privat'+'e>\x20litArgs'+'_clearcoat'+'_worldNorm'+'al:\x20vec3f;'+'\x0a\x0a//\x20Inten'+'sity\x20of\x20th'+'e\x20clearcoa'+'t\x20layer,\x20r'+'ange\x20[0..1'+']\x0avar<priv'+'ate>\x20litAr'+'gs_clearco'+'at_specula'+'rity:\x20f32;'+'\x0a\x0a//\x20Gloss'+'iness\x20of\x20c'+'learcoat\x20l'+'ayer,\x20rang'+'e\x20[0..1]\x0av'+'ar<private'+'>\x20litArgs_'+'clearcoat_'+'gloss:\x20f32'+';\x0a\x0a'),FD='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobal\x20text'+'ure\x20bias\x20f'+'or\x20standar'+'d\x20textures'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_NONE_SL'+'ICE_MODE\x20='+'=\x20TILED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20t'+'extureBias'+':\x20f32\x20=\x20-1'+'000.0;\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20texture'+'Bias:\x20f32;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ShaderArgs'+'PS\x22\x0a',ND='\x0a\x0a#if\x20LIGH'+'T_TYPE\x20!=\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20unif'+'orm\x20view_p'+'osition:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'uniform\x20li'+'ght_radius'+':\x20f32;\x0a#en'+'dif\x0a\x0a#if\x20S'+'HADOW_TYPE'+'\x20==\x20PCSS_3'+'2F\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lin'+'earizeDept'+'hPS\x22\x0a#endi'+'f\x0a\x0a@fragme'+'nt\x0afn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serMainSta'+'rtPS\x22\x0a\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20evalua'+'teFrontend'+'();\x0a\x0a\x20\x20\x20\x20/'+'/\x20using\x20no'+'n-standard'+'\x20depth,\x20i.'+'e\x20gl_FragC'+'oord.z\x0a\x20\x20\x20'+'\x20#ifdef\x20PE'+'RSPECTIVE_'+'DEPTH\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20de'+'pth:\x20f32\x20='+'\x20input.pos'+'ition.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SHADOW_T'+'YPE\x20==\x20PCS'+'S_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot/omni'+'\x20shadows\x20c'+'urrently\x20u'+'se\x20linear\x20'+'depth.\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20TODO:\x20us'+'e\x20perspect'+'ive\x20depth\x20'+'for\x20spot/o'+'mni\x20the\x20sa'+'me\x20way\x20as\x20'+'directiona'+'l\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT_TYPE\x20!'+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'depth\x20=\x20li'+'nearizeDep'+'thWithPara'+'ms(depth,\x20'+'camera_par'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20depth:\x20'+'f32\x20=\x20min('+'distance(u'+'niform.vie'+'w_position'+',\x20input.vP'+'ositionW)\x20'+'/\x20uniform.'+'light_radi'+'us,\x200.9999'+'9);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'MODIFIED_D'+'EPTH\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20SHADO'+'W_TYPE\x20==\x20'+'VSM_16F\x20||'+'\x20SHADOW_TY'+('PE\x20==\x20VSM_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20SHAD'+'OW_TYPE\x20=='+'\x20VSM_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20expon'+'ent:\x20f32\x20='+'\x2015.0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20exp'+'onent:\x20f32'+'\x20=\x205.54;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20dep'+'th_vsm\x20=\x202'+'.0\x20*\x20depth'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dept'+'h_vsm\x20=\x20ex'+'p(exponent'+'\x20*\x20depth_v'+'sm);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'color\x20=\x20ve'+'c4f(depth_'+'vsm,\x20depth'+'_vsm\x20*\x20dep'+'th_vsm,\x201.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20SHADOW_TY'+'PE\x20==\x20PCSS'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20vec4f(de'+'pth,\x200.0,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20MODIFI'+'ED_DEPTH\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20If'+'\x20we\x20end\x20up'+'\x20using\x20mod'+'ified\x20dept'+'h,\x20it\x20need'+'s\x20to\x20be\x20ex'+'plicitly\x20w'+'ritten\x20to\x20'+'gl_FragDep'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.frag'+'Depth\x20=\x20de'+'pth;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'just\x20the\x20s'+'implest\x20co'+'de,\x20color\x20'+'is\x20not\x20wri'+'tten\x20anywa'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20v'+'ec4f(1.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litUserM'+'ainEndPS\x22\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a'),kD='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0afn\x20'+'LTC_Uv(N:\x20'+'vec3f,\x20V:\x20'+'vec3f,\x20rou'+'ghness:\x20f3'+'2)\x20->\x20vec2'+'f\x20{\x0a\x20\x20\x20\x20co'+'nst\x20LUT_SI'+'ZE:\x20f32\x20=\x20'+'64.0;\x0a\x20\x20\x20\x20'+'const\x20LUT_'+'SCALE:\x20f32'+'\x20=\x20(LUT_SI'+'ZE\x20-\x201.0)\x20'+'/\x20LUT_SIZE'+';\x0a\x20\x20\x20\x20cons'+'t\x20LUT_BIAS'+':\x20f32\x20=\x200.'+'5\x20/\x20LUT_SI'+'ZE;\x0a\x20\x20\x20\x20le'+'t\x20dotNV:\x20f'+'32\x20=\x20satur'+'ate(dot(\x20N'+',\x20V\x20));\x0a\x20\x20'+'\x20\x20//\x20textu'+'re\x20paramet'+'erized\x20by\x20'+'sqrt(\x20GGX\x20'+'alpha\x20)\x20an'+'d\x20sqrt(\x201\x20'+'-\x20cos(\x20the'+'ta\x20)\x20)\x0a\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20vec'+'2f(\x20roughn'+'ess,\x20sqrt('+'\x201.0\x20-\x20dot'+'NV\x20)\x20);\x0a\x20\x20'+'\x20\x20return\x20u'+'v\x20*\x20LUT_SC'+'ALE\x20+\x20LUT_'+'BIAS;\x0a}\x0a\x0af'+'n\x20LTC_Clip'+'pedSphereF'+'ormFactor('+'\x20f:\x20vec3f\x20'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20//\x20Re'+'al-Time\x20Ar'+'ea\x20Lightin'+'g:\x20a\x20Journ'+'ey\x20from\x20Re'+'search\x20to\x20'+'Production'+'\x20(p.102)\x0a\x20'+'\x20\x20\x20//\x20An\x20a'+'pproximati'+'on\x20of\x20the\x20'+'form\x20facto'+'r\x20of\x20a\x20hor'+'izon-clipp'+'ed\x20rectang'+'le.\x0a\x20\x20\x20\x20le'+'t\x20l:\x20f32\x20='+'\x20length(\x20f'+'\x20);\x0a\x20\x20\x20\x20re'+'turn\x20max(\x20'+'(\x20l\x20*\x20l\x20+\x20'+'f.z\x20)\x20/\x20(\x20'+'l\x20+\x201.0\x20),'+'\x200.0\x20);\x0a}\x0a'+'\x0afn\x20LTC_Ed'+'geVectorFo'+'rmFactor(\x20'+'v1:\x20vec3f,'+'\x20v2:\x20vec3f'+'\x20)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20x:\x20f32\x20='+'\x20dot(\x20v1,\x20'+'v2\x20);\x0a\x20\x20\x20\x20'+'let\x20y:\x20f32'+('\x20=\x20abs(\x20x\x20'+');\x0a\x20\x20\x20\x20//\x20'+'rational\x20p'+'olynomial\x20'+'approximat'+'ion\x20to\x20the'+'ta\x20/\x20sin(\x20'+'theta\x20)\x20/\x20'+'2PI\x0a\x20\x20\x20\x20le'+'t\x20a:\x20f32\x20='+'\x200.8543985'+'\x20+\x20(\x200.496'+'5155\x20+\x200.0'+'145206\x20*\x20y'+'\x20)\x20*\x20y;\x0a\x20\x20'+'\x20\x20let\x20b:\x20f'+'32\x20=\x203.417'+'5940\x20+\x20(\x204'+'.1616724\x20+'+'\x20y\x20)\x20*\x20y;\x0a'+'\x20\x20\x20\x20let\x20v:'+'\x20f32\x20=\x20a\x20/'+'\x20b;\x0a\x20\x20\x20\x20le'+'t\x20inv_sqrt'+'_term\x20=\x20in'+'verseSqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7f\x20)\x20);\x0a'+'\x20\x20\x20\x20let\x20th'+'eta_sinthe'+'ta:\x20f32\x20=\x20'+'select(\x20(0'+'.5\x20*\x20inv_s'+'qrt_term\x20-'+'\x20v),\x20v,\x20x\x20'+'>\x200.0\x20);\x0a\x20'+'\x20\x20\x20return\x20'+'cross(\x20v1,'+'\x20v2\x20)\x20*\x20th'+'eta_sinthe'+'ta;\x0a}\x0a\x0astr'+'uct\x20Coords'+'\x20{\x0a\x20\x20\x20\x20coo'+'rd0:\x20vec3f'+',\x0a\x20\x20\x20\x20coor'+'d1:\x20vec3f,'+'\x0a\x20\x20\x20\x20coord'+'2:\x20vec3f,\x0a'+'\x20\x20\x20\x20coord3'+':\x20vec3f,\x0a}'+'\x0a\x0afn\x20LTC_E'+'valuateRec'+'t(\x20N:\x20vec3'+'f,\x20V:\x20vec3'+'f,\x20P:\x20vec3'+'f,\x20mInv:\x20m'+'at3x3f,\x20re'+'ctCoords:\x20'+'Coords)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20//\x20bail\x20i'+'f\x20point\x20is'+'\x20on\x20back\x20s'+'ide\x20of\x20pla'+'ne\x20of\x20ligh'+'t\x0a\x20\x20\x20\x20//\x20a'+'ssumes\x20ccw'+'\x20winding\x20o'+'rder\x20of\x20li'+'ght\x20vertic'+'es\x0a\x20\x20\x20\x20let'+'\x20v1:\x20vec3f'+'\x20=\x20rectCoo'+'rds.coord1'+'\x20-\x20rectCoo'+'rds.coord0'+';\x0a\x20\x20\x20\x20let\x20'+'v2:\x20vec3f\x20'+'=\x20rectCoor'+'ds.coord3\x20'+'-\x20rectCoor'+'ds.coord0;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'lightNorma'+'l:\x20vec3f\x20='+'\x20cross(\x20v1'+',\x20v2\x20);\x0a\x20\x20'+'\x20\x20let\x20fact'+'or:\x20f32\x20=\x20'+'sign(-dot('+'\x20lightNorm'+'al,\x20P\x20-\x20re'+'ctCoords.c'+'oord0\x20));\x0a'+'\x0a\x20\x20\x20\x20//\x20co'+'nstruct\x20or'+'thonormal\x20'+'basis\x20arou'+'nd\x20N\x0a\x20\x20\x20\x20l')+('et\x20T1:\x20vec'+'3f\x20=\x20norma'+'lize(\x20V\x20-\x20'+'N\x20*\x20dot(\x20V'+',\x20N\x20)\x20);\x0a\x20'+'\x20\x20\x20let\x20T2:'+'\x20vec3f\x20=\x20f'+'actor\x20*\x20cr'+'oss(\x20N,\x20T1'+'\x20);\x20//\x20neg'+'ated\x20from\x20'+'paper;\x20pos'+'sibly\x20due\x20'+'to\x20a\x20diffe'+'rent\x20hande'+'dness\x20of\x20w'+'orld\x20coord'+'inate\x20syst'+'em\x0a\x20\x20\x20\x20//\x20'+'compute\x20tr'+'ansform\x0a\x20\x20'+'\x20\x20let\x20mat:'+'\x20mat3x3f\x20='+'\x20mInv\x20*\x20tr'+'anspose(\x20m'+'at3x3f(\x20T1'+',\x20T2,\x20N\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'transform\x20'+'rect\x0a\x20\x20\x20\x20v'+'ar\x20coords:'+'\x20array<vec'+'3f,\x204>;\x0a\x20\x20'+'\x20\x20coords[0'+']\x20=\x20mat\x20*\x20'+'(\x20rectCoor'+'ds.coord0\x20'+'-\x20P\x20);\x0a\x20\x20\x20'+'\x20coords[1]'+'\x20=\x20mat\x20*\x20('+'\x20rectCoord'+'s.coord1\x20-'+'\x20P\x20);\x0a\x20\x20\x20\x20'+'coords[2]\x20'+'=\x20mat\x20*\x20(\x20'+'rectCoords'+'.coord2\x20-\x20'+'P\x20);\x0a\x20\x20\x20\x20c'+'oords[3]\x20='+'\x20mat\x20*\x20(\x20r'+'ectCoords.'+'coord3\x20-\x20P'+'\x20);\x0a\x20\x20\x20\x20//'+'\x20project\x20r'+'ect\x20onto\x20s'+'phere\x0a\x20\x20\x20\x20'+'coords[0]\x20'+'=\x20normaliz'+'e(\x20coords['+'0]\x20);\x0a\x20\x20\x20\x20'+'coords[1]\x20'+'=\x20normaliz'+'e(\x20coords['+'1]\x20);\x0a\x20\x20\x20\x20'+'coords[2]\x20'+'=\x20normaliz'+'e(\x20coords['+'2]\x20);\x0a\x20\x20\x20\x20'+'coords[3]\x20'+'=\x20normaliz'+'e(\x20coords['+'3]\x20);\x0a\x20\x20\x20\x20'+'//\x20calcula'+'te\x20vector\x20'+'form\x20facto'+'r\x0a\x20\x20\x20\x20var\x20'+'vectorForm'+'Factor:\x20ve'+'c3f\x20=\x20vec3'+'f(\x200.0\x20);\x0a'+'\x20\x20\x20\x20vector'+'FormFactor'+'\x20=\x20vectorF'+'ormFactor\x20'+'+\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[0],\x20c'+'oords[1]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20=\x20vecto'+'rFormFacto'+'r\x20+\x20LTC_Ed'+'geVectorFo'+'rmFactor(\x20'+'coords[1],'+'\x20coords[2]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa')+('ctor\x20=\x20vec'+'torFormFac'+'tor\x20+\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[2'+'],\x20coords['+'3]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20=\x20v'+'ectorFormF'+'actor\x20+\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[3],\x20coord'+'s[0]\x20);\x0a\x20\x20'+'\x20\x20//\x20adjus'+'t\x20for\x20hori'+'zon\x20clippi'+'ng\x0a\x20\x20\x20\x20let'+'\x20result:\x20f'+'32\x20=\x20LTC_C'+'lippedSphe'+'reFormFact'+'or(\x20vector'+'FormFactor'+'\x20);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20resu'+'lt;\x0a}\x0a\x0avar'+'<private>\x20'+'dLTCCoords'+':\x20Coords;\x0a'+'fn\x20getLTCL'+'ightCoords'+'(lightPos:'+'\x20vec3f,\x20ha'+'lfWidth:\x20v'+'ec3f,\x20half'+'Height:\x20ve'+'c3f)\x20->\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20var\x20coord'+'s:\x20Coords;'+'\x0a\x20\x20\x20\x20coord'+'s.coord0\x20='+'\x20lightPos\x20'+'+\x20halfWidt'+'h\x20-\x20halfHe'+'ight;\x0a\x20\x20\x20\x20'+'coords.coo'+'rd1\x20=\x20ligh'+'tPos\x20-\x20hal'+'fWidth\x20-\x20h'+'alfHeight;'+'\x0a\x20\x20\x20\x20coord'+'s.coord2\x20='+'\x20lightPos\x20'+'-\x20halfWidt'+'h\x20+\x20halfHe'+'ight;\x0a\x20\x20\x20\x20'+'coords.coo'+'rd3\x20=\x20ligh'+'tPos\x20+\x20hal'+'fWidth\x20+\x20h'+'alfHeight;'+'\x0a\x20\x20\x20\x20retur'+'n\x20coords;\x0a'+'}\x0a\x0avar<pri'+'vate>\x20dSph'+'ereRadius:'+'\x20f32;\x0afn\x20g'+'etSphereLi'+'ghtCoords('+'lightPos:\x20'+'vec3f,\x20hal'+'fWidth:\x20ve'+'c3f,\x20halfH'+'eight:\x20vec'+'3f)\x20->\x20Coo'+'rds\x20{\x0a\x20\x20\x20\x20'+'//\x20used\x20fo'+'r\x20simple\x20s'+'phere\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20//\x20als'+'o,\x20the\x20cod'+'e\x20only\x20han'+'dles\x20a\x20sph'+'erical\x20lig'+'ht,\x20it\x20can'+'not\x20be\x20non'+'-uniformly'+'\x20scaled\x20in'+'\x20world\x20spa'+'ce,\x20and\x20so'+'\x20we\x20enforc'+'e\x20it\x20here\x0a'+'\x20\x20\x20\x20dSpher'+'eRadius\x20=\x20')+('max(length'+'(halfWidth'+'),\x20length('+'halfHeight'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20Billboar'+'d\x20the\x202d\x20l'+'ight\x20quad\x20'+'to\x20reflect'+'ion\x20vector'+',\x20as\x20it\x27s\x20'+'used\x20for\x20s'+'pecular.\x20T'+'his\x20allows'+'\x20us\x20to\x20use'+'\x20disk\x20math'+'\x20for\x20the\x20s'+'phere.\x0a\x20\x20\x20'+'\x20let\x20f:\x20ve'+'c3f\x20=\x20refl'+'ect(normal'+'ize(lightP'+'os\x20-\x20unifo'+'rm.view_po'+'sition),\x20v'+'NormalW);\x0a'+'\x20\x20\x20\x20let\x20w:'+'\x20vec3f\x20=\x20n'+'ormalize(c'+'ross(f,\x20ha'+'lfHeight))'+';\x0a\x20\x20\x20\x20let\x20'+'h:\x20vec3f\x20='+'\x20normalize'+'(cross(f,\x20'+'w));\x0a\x0a\x20\x20\x20\x20'+'return\x20get'+'LTCLightCo'+'ords(light'+'Pos,\x20w\x20*\x20d'+'SphereRadi'+'us,\x20h\x20*\x20dS'+'phereRadiu'+'s);\x0a}\x0a\x0a//\x20'+'used\x20for\x20L'+'TC\x20LUT\x20tex'+'ture\x20looku'+'p\x0avar<priv'+'ate>\x20dLTCU'+'V:\x20vec2f;\x0a'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20\x20\x20\x20var<p'+'rivate>\x20cc'+'LTCUV:\x20vec'+'2f;\x0a#endif'+'\x0a\x0afn\x20getLT'+'CLightUV(g'+'loss:\x20f32,'+'\x20worldNorm'+'al:\x20vec3f,'+'\x20viewDir:\x20'+'vec3f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20let\x20roug'+'hness:\x20f32'+'\x20=\x20max((1.'+'0\x20-\x20gloss)'+'\x20*\x20(1.0\x20-\x20'+'gloss),\x200.'+'001);\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_Uv(\x20world'+'Normal,\x20vi'+'ewDir,\x20rou'+'ghness\x20);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20energ'+'y\x20conserva'+'tion\x20and\x20t'+'o\x20modulate'+'\x20specular\x0a'+'var<privat'+'e>\x20dLTCSpe'+'cFres:\x20vec'+'3f;\x0a#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20v'+'ar<private'+'>\x20ccLTCSpe'+'cFres:\x20vec'+'3f;\x0a#endif'+'\x0a\x0afn\x20getLT'+'CLightSpec'+'Fres(uv:\x20v'+'ec2f,\x20spec'+'ularity:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20t2:\x20v')+('ec4f\x20=\x20tex'+'tureSample'+'Level(area'+'LightsLutT'+'ex2,\x20areaL'+'ightsLutTe'+'x2Sampler,'+'\x20uv,\x200.0);'+'\x0a\x20\x20\x20\x20retur'+'n\x20specular'+'ity\x20*\x20t2.x'+'\x20+\x20(\x20vec3f'+'(\x201.0\x20)\x20-\x20'+'specularit'+'y)\x20*\x20t2.y;'+'\x0a}\x0a\x0afn\x20cal'+'cLTCLightV'+'alues(glos'+'s:\x20f32,\x20wo'+'rldNormal:'+'\x20vec3f,\x20vi'+'ewDir:\x20vec'+'3f,\x20specul'+'arity:\x20vec'+'3f,\x20clearc'+'oatGloss:\x20'+'f32,\x20clear'+'coatWorldN'+'ormal:\x20vec'+'3f,\x20clearc'+'oatSpecula'+'rity:\x20f32)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CUV\x20=\x20getL'+'TCLightUV('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20dLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(d'+'LTCUV,\x20spe'+'cularity);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ccLTC'+'UV\x20=\x20getLT'+'CLightUV(c'+'learcoatGl'+'oss,\x20clear'+'coatWorldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ccLTC'+'SpecFres\x20='+'\x20getLTCLig'+'htSpecFres'+'(ccLTCUV,\x20'+'vec3f(clea'+'rcoatSpecu'+'larity));\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a\x0afn\x20cal'+'cRectLight'+'Values(lig'+'htPos:\x20vec'+'3f,\x20halfWi'+'dth:\x20vec3f'+',\x20halfHeig'+'ht:\x20vec3f)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CCoords\x20=\x20'+'getLTCLigh'+'tCoords(li'+'ghtPos,\x20ha'+'lfWidth,\x20h'+'alfHeight)'+';\x0a}\x0afn\x20cal'+'cDiskLight'+'Values(lig'+'htPos:\x20vec'+'3f,\x20halfWi'+'dth:\x20vec3f'+',\x20halfHeig'+'ht:\x20vec3f)'+'\x20{\x0a\x20\x20\x20\x20cal'+'cRectLight'+'Values(lig'+'htPos,\x20hal'+'fWidth,\x20ha'+'lfHeight);'+'\x0a}\x0afn\x20calc'+'SphereLigh'+'tValues(li'+'ghtPos:\x20ve'+'c3f,\x20halfW'+'idth:\x20vec3'+'f,\x20halfHei')+('ght:\x20vec3f'+')\x20{\x0a\x20\x20\x20\x20dL'+'TCCoords\x20='+'\x20getSphere'+'LightCoord'+'s(lightPos'+',\x20halfWidt'+'h,\x20halfHei'+'ght);\x0a}\x0a\x0a/'+'/\x20An\x20exten'+'ded\x20versio'+'n\x20of\x20the\x20i'+'mplementat'+'ion\x20from\x20\x22'+'How\x20to\x20sol'+'ve\x20a\x20cubic'+'\x20equation,'+'\x20revisited'+'\x22\x0a//\x20http:'+'//momentsi'+'ngraphics.'+'de/?p=105\x0a'+'fn\x20SolveCu'+'bic(Coeffi'+'cient_in:\x20'+'vec4f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20pi:\x20'+'f32\x20=\x203.14'+'159;\x0a\x20\x20\x20\x20v'+'ar\x20Coeffic'+'ient\x20=\x20Coe'+'fficient_i'+'n;\x0a\x0a\x20\x20\x20\x20//'+'\x20Normalize'+'\x20the\x20polyn'+'omial\x0a\x20\x20\x20\x20'+'Coefficien'+'t\x20=\x20vec4f('+'Coefficien'+'t.xyz\x20/\x20Co'+'efficient.'+'w,\x20Coeffic'+'ient.w);\x0a\x0a'+'\x20\x20\x20\x20//\x20Div'+'ide\x20middle'+'\x20coefficie'+'nts\x20by\x20thr'+'ee\x0a\x20\x20\x20\x20let'+'\x20new_yz:\x20v'+'ec2f\x20=\x20Coe'+'fficient.y'+'z\x20/\x203.0;\x0a\x20'+'\x20\x20\x20Coeffic'+'ient\x20=\x20vec'+'4f(Coeffic'+'ient.x,\x20ne'+'w_yz.x,\x20ne'+'w_yz.y,\x20Co'+'efficient.'+'w);\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20let\x20A:\x20'+'f32\x20=\x20Coef'+'ficient.w;'+'\x0a\x20\x20\x20\x20let\x20B'+':\x20f32\x20=\x20Co'+'efficient.'+'z;\x0a\x20\x20\x20\x20let'+'\x20C:\x20f32\x20=\x20'+'Coefficien'+'t.y;\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20Coeffici'+'ent.x;\x0a\x0a\x20\x20'+'\x20\x20//\x20Compu'+'te\x20the\x20Hes'+'sian\x20and\x20t'+'he\x20discrim'+'inant\x0a\x20\x20\x20\x20'+'let\x20Delta:'+'\x20vec3f\x20=\x20v'+'ec3f(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20-Coeff'+'icient.z\x20*'+'\x20Coefficie'+'nt.z\x20+\x20Coe'+'fficient.y'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'-Coefficie'+'nt.y\x20*\x20Coe'+'fficient.z'+'\x20+\x20Coeffic'+'ient.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'vec2f(Coef'+'ficient.z,'+'\x20-Coeffici'+'ent.y),\x20Co'+'efficient.'+'xy)\x0a\x20\x20\x20\x20);')+('\x0a\x0a\x20\x20\x20\x20let\x20'+'Discrimina'+'nt:\x20f32\x20=\x20'+'dot(vec2f('+'4.0\x20*\x20Delt'+'a.x,\x20-Delt'+'a.y),\x20Delt'+'a.zy);\x0a\x0a\x20\x20'+'\x20\x20var\x20xlc:'+'\x20vec2f;\x0a\x20\x20'+'\x20\x20var\x20xsc:'+'\x20vec2f;\x0a\x0a\x20'+'\x20\x20\x20//\x20Algo'+'rithm\x20A\x0a\x20\x20'+'\x20\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20A_a:'+'\x20f32\x20=\x201.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20C_a:\x20f'+'32\x20=\x20Delta'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20D_a:'+'\x20f32\x20=\x20-2.'+'0\x20*\x20B\x20*\x20De'+'lta.x\x20+\x20De'+'lta.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20Theta:\x20f'+'32\x20=\x20atan2'+'(sqrt(Disc'+'riminant),'+'\x20-D_a)\x20/\x203'+'.0;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sqr'+'t_neg_Ca\x20='+'\x20sqrt(-C_a'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20x_1a:'+'\x20f32\x20=\x202.0'+'\x20*\x20sqrt_ne'+'g_Ca\x20*\x20cos'+'(Theta);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20x_3a:\x20f32'+'\x20=\x202.0\x20*\x20s'+'qrt_neg_Ca'+'\x20*\x20cos(The'+'ta\x20+\x20(2.0\x20'+'/\x203.0)\x20*\x20p'+'i);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20xl:'+'\x20f32\x20=\x20sel'+'ect(x_3a,\x20'+'x_1a,\x20(x_1'+'a\x20+\x20x_3a)\x20'+'>\x202.0\x20*\x20B)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'xlc\x20=\x20vec2'+'f(xl\x20-\x20B,\x20'+'A);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20Al'+'gorithm\x20D\x0a'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20A_'+'d:\x20f32\x20=\x20D'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20C_d:\x20f'+'32\x20=\x20Delta'+'.z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20D_d:'+'\x20f32\x20=\x20-D\x20'+'*\x20Delta.y\x20'+'+\x202.0\x20*\x20C\x20'+'*\x20Delta.z;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Take\x20th'+'e\x20cubic\x20ro'+'ot\x20of\x20a\x20no'+'rmalized\x20c'+'omplex\x20num'+'ber\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20Thet'+'a:\x20f32\x20=\x20a'+'tan2(D\x20*\x20s'+'qrt(Discri'+'minant),\x20-'+'D_d)\x20/\x203.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20sqrt_'+'neg_Cd\x20=\x20s'+'qrt(-C_d);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20x_1d:\x20f'+'32\x20=\x202.0\x20*')+('\x20sqrt_neg_'+'Cd\x20*\x20cos(T'+'heta);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20x'+'_3d:\x20f32\x20='+'\x202.0\x20*\x20sqr'+'t_neg_Cd\x20*'+'\x20cos(Theta'+'\x20+\x20(2.0\x20/\x20'+'3.0)\x20*\x20pi)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20xs:\x20f'+'32\x20=\x20selec'+'t(x_3d,\x20x_'+'1d,\x20x_1d\x20+'+'\x20x_3d\x20<\x202.'+'0\x20*\x20C);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20xsc\x20'+'=\x20vec2f(-D'+',\x20xs\x20+\x20C);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20let\x20E:\x20f'+'32\x20=\x20\x20xlc.'+'y\x20*\x20xsc.y;'+'\x0a\x20\x20\x20\x20let\x20F'+':\x20f32\x20=\x20-x'+'lc.x\x20*\x20xsc'+'.y\x20-\x20xlc.y'+'\x20*\x20xsc.x;\x0a'+'\x20\x20\x20\x20let\x20G:'+'\x20f32\x20=\x20\x20xl'+'c.x\x20*\x20xsc.'+'x;\x0a\x0a\x20\x20\x20\x20le'+'t\x20xmc:\x20vec'+'2f\x20=\x20vec2f'+'(C\x20*\x20F\x20-\x20B'+'\x20*\x20G,\x20-B\x20*'+'\x20F\x20+\x20C\x20*\x20E'+');\x0a\x0a\x20\x20\x20\x20va'+'r\x20Root:\x20ve'+'c3f\x20=\x20vec3'+'f(xsc.x\x20/\x20'+'xsc.y,\x20xmc'+'.x\x20/\x20xmc.y'+',\x20xlc.x\x20/\x20'+'xlc.y);\x0a\x0a\x20'+'\x20\x20\x20if\x20(Roo'+'t.x\x20<\x20Root'+'.y\x20&&\x20Root'+'.x\x20<\x20Root.'+'z)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20Root\x20=\x20'+'Root.yxz;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(Root.'+'z\x20<\x20Root.x'+'\x20&&\x20Root.z'+'\x20<\x20Root.y)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root\x20=\x20Ro'+'ot.xzy;\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20Root;'+'\x0a}\x0a\x0afn\x20LTC'+'_EvaluateD'+'isk(N:\x20vec'+'3f,\x20V:\x20vec'+'3f,\x20P:\x20vec'+'3f,\x20Minv:\x20'+'mat3x3f,\x20p'+'oints:\x20Coo'+'rds)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20let\x20T1:\x20'+'vec3f\x20=\x20no'+'rmalize(V\x20'+'-\x20N\x20*\x20dot('+'V,\x20N));\x0a\x20\x20'+'\x20\x20let\x20T2:\x20'+'vec3f\x20=\x20cr'+'oss(N,\x20T1)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'rotate\x20are'+'a\x20light\x20in'+'\x20(T1,\x20T2,\x20'+'N)\x20basis\x0a\x20'+'\x20\x20\x20let\x20R:\x20'+'mat3x3f\x20=\x20'+'transpose('+'\x20mat3x3f(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20polygon\x20'+'(allocate\x20'+'5\x20vertices'+'\x20for\x20clipp')+('ing\x0a\x20\x20\x20\x20va'+'r\x20L_:\x20arra'+'y<vec3f,\x203'+'>;\x0a\x20\x20\x20\x20L_['+'0]\x20=\x20R\x20*\x20('+'\x20points.co'+'ord0\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20L_[1'+']\x20=\x20R\x20*\x20(\x20'+'points.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20L_[2]'+'\x20=\x20R\x20*\x20(\x20p'+'oints.coor'+'d2\x20-\x20P\x20);\x0a'+'\x0a\x20\x20\x20\x20//\x20in'+'it\x20ellipse'+'\x0a\x20\x20\x20\x20let\x20C'+':\x20vec3f\x20\x20='+'\x200.5\x20*\x20(L_'+'[0]\x20+\x20L_[2'+']);\x0a\x20\x20\x20\x20va'+'r\x20V1:\x20vec3'+'f\x20=\x200.5\x20*\x20'+'(L_[1]\x20-\x20L'+'_[2]);\x0a\x20\x20\x20'+'\x20var\x20V2:\x20v'+'ec3f\x20=\x200.5'+'\x20*\x20(L_[1]\x20'+'-\x20L_[0]);\x0a'+'\x0a\x20\x20\x20\x20let\x20C'+'_Minv:\x20vec'+'3f\x20\x20=\x20Minv'+'\x20*\x20C;\x0a\x20\x20\x20\x20'+'let\x20V1_Min'+'v:\x20vec3f\x20='+'\x20Minv\x20*\x20V1'+';\x0a\x20\x20\x20\x20let\x20'+'V2_Minv:\x20v'+'ec3f\x20=\x20Min'+'v\x20*\x20V2;\x0a\x0a\x20'+'\x20\x20\x20//\x20comp'+'ute\x20eigenv'+'ectors\x20of\x20'+'ellipse\x0a\x20\x20'+'\x20\x20var\x20a:\x20f'+'32;\x0a\x20\x20\x20\x20va'+'r\x20b:\x20f32;\x0a'+'\x20\x20\x20\x20let\x20d1'+'1:\x20f32\x20=\x20d'+'ot(V1_Minv'+',\x20V1_Minv)'+';\x0a\x20\x20\x20\x20let\x20'+'d22:\x20f32\x20='+'\x20dot(V2_Mi'+'nv,\x20V2_Min'+'v);\x0a\x20\x20\x20\x20le'+'t\x20d12:\x20f32'+'\x20=\x20dot(V1_'+'Minv,\x20V2_M'+'inv);\x0a\x20\x20\x20\x20'+'if\x20(abs(d1'+'2)\x20/\x20sqrt('+'d11\x20*\x20d22)'+'\x20>\x200.0001)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20tr:\x20f'+'32\x20=\x20d11\x20+'+'\x20d22;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20de'+'t_inner:\x20f'+'32\x20=\x20-d12\x20'+'*\x20d12\x20+\x20d1'+'1\x20*\x20d22;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20det:\x20f32\x20'+'=\x20sqrt(det'+'_inner);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20u:\x20f32\x20=\x20'+'0.5\x20*\x20sqrt'+'(tr\x20-\x202.0\x20'+'*\x20det);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'v:\x20f32\x20=\x200'+'.5\x20*\x20sqrt('+'tr\x20+\x202.0\x20*'+'\x20det);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20e'+'_max:\x20f32\x20'+'=\x20(u\x20+\x20v)\x20'+'*\x20(u\x20+\x20v);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20e_min:\x20'+'f32\x20=\x20(u\x20-'+'\x20v)\x20*\x20(u\x20-'+'\x20v);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20V1'+'_:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va')+('r\x20V2_:\x20vec'+'3f;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(d11'+'\x20>\x20d22)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20V1_\x20=\x20d1'+'2\x20*\x20V1_Min'+'v\x20+\x20(e_max'+'\x20-\x20d11)\x20*\x20'+'V2_Minv;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20V2_\x20=\x20d12'+'\x20*\x20V1_Minv'+'\x20+\x20(e_min\x20'+'-\x20d11)\x20*\x20V'+'2_Minv;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V1_'+'\x20=\x20d12*V2_'+'Minv\x20+\x20(e_'+'max\x20-\x20d22)'+'*V1_Minv;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20V2_\x20=\x20d1'+'2*V2_Minv\x20'+'+\x20(e_min\x20-'+'\x20d22)*V1_M'+'inv;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20a\x20=\x201.'+'0\x20/\x20e_max;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20b'+'\x20=\x201.0\x20/\x20e'+'_min;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20V1\x20=\x20n'+'ormalize(V'+'1_);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20V2\x20=\x20no'+'rmalize(V2'+'_);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20dot(V'+'1_Minv,\x20V1'+'_Minv);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20b\x20=\x20'+'1.0\x20/\x20dot('+'V2_Minv,\x20V'+'2_Minv);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V1\x20'+'=\x20V1_Minv\x20'+'*\x20sqrt(a);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20V'+'2\x20=\x20V2_Min'+'v\x20*\x20sqrt(b'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20var\x20V3'+':\x20vec3f\x20=\x20'+'normalize('+'cross(V1,\x20'+'V2));\x0a\x20\x20\x20\x20'+'if\x20(dot(C_'+'Minv,\x20V3)\x20'+'<\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V3\x20'+'=\x20V3\x20*\x20-1.'+'0;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20let\x20L:'+'\x20f32\x20\x20=\x20do'+'t(V3,\x20C_Mi'+'nv);\x0a\x20\x20\x20\x20l'+'et\x20x0:\x20f32'+'\x20=\x20dot(V1,'+'\x20C_Minv)\x20/'+'\x20L;\x0a\x20\x20\x20\x20le'+'t\x20y0:\x20f32\x20'+'=\x20dot(V2,\x20'+'C_Minv)\x20/\x20'+'L;\x0a\x0a\x20\x20\x20\x20le'+'t\x20E1:\x20f32\x20'+'=\x20inverseS'+'qrt(a);\x0a\x20\x20'+'\x20\x20let\x20E2:\x20'+'f32\x20=\x20inve'+'rseSqrt(b)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20a_scaled\x20'+'=\x20a\x20*\x20L\x20*\x20'+'L;\x0a\x20\x20\x20\x20let'+'\x20b_scaled\x20'+'=\x20b\x20*\x20L\x20*\x20'+'L;\x0a\x0a\x20\x20\x20\x20le'+'t\x20c0:\x20f32\x20'+'=\x20a_scaled'+'\x20*\x20b_scale'+'d;\x0a\x20\x20\x20\x20let'+'\x20c1:\x20f32\x20='+'\x20a_scaled\x20'+'*\x20b_scaled')+('\x20*\x20(1.0\x20+\x20'+'x0\x20*\x20x0\x20+\x20'+'y0\x20*\x20y0)\x20-'+'\x20a_scaled\x20'+'-\x20b_scaled'+';\x0a\x20\x20\x20\x20let\x20'+'c2:\x20f32\x20=\x20'+'1.0\x20-\x20a_sc'+'aled\x20*\x20(1.'+'0\x20+\x20x0\x20*\x20x'+'0)\x20-\x20b_sca'+'led\x20*\x20(1.0'+'\x20+\x20y0\x20*\x20y0'+');\x0a\x20\x20\x20\x20let'+'\x20c3:\x20f32\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20let\x20roots'+':\x20vec3f\x20=\x20'+'SolveCubic'+'(vec4f(c0,'+'\x20c1,\x20c2,\x20c'+'3));\x0a\x20\x20\x20\x20l'+'et\x20e1:\x20f32'+'\x20=\x20roots.x'+';\x0a\x20\x20\x20\x20let\x20'+'e2:\x20f32\x20=\x20'+'roots.y;\x0a\x20'+'\x20\x20\x20let\x20e3:'+'\x20f32\x20=\x20roo'+'ts.z;\x0a\x0a\x20\x20\x20'+'\x20var\x20avgDi'+'r:\x20vec3f\x20='+'\x20vec3f(a_s'+'caled\x20*\x20x0'+'\x20/\x20(a_scal'+'ed\x20-\x20e2),\x20'+'b_scaled\x20*'+'\x20y0\x20/\x20(b_s'+'caled\x20-\x20e2'+'),\x201.0);\x0a\x0a'+'\x20\x20\x20\x20let\x20ro'+'tate:\x20mat3'+'x3f\x20=\x20mat3'+'x3f(V1,\x20V2'+',\x20V3);\x0a\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20rotate\x20*\x20'+'avgDir;\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20normalize'+'(avgDir);\x0a'+'\x0a\x20\x20\x20\x20let\x20L'+'1:\x20f32\x20=\x20s'+'qrt(-e2\x20/\x20'+'e3);\x0a\x20\x20\x20\x20l'+'et\x20L2:\x20f32'+'\x20=\x20sqrt(-e'+'2\x20/\x20e1);\x0a\x0a'+'\x20\x20\x20\x20let\x20fo'+'rmFactor:\x20'+'f32\x20=\x20max('+'0.0,\x20L1\x20*\x20'+'L2\x20*\x20inver'+'seSqrt((1.'+'0\x20+\x20L1\x20*\x20L'+'1)\x20*\x20(1.0\x20'+'+\x20L2\x20*\x20L2)'+'));\x0a\x0a\x20\x20\x20\x20c'+'onst\x20LUT_S'+'IZE_disk:\x20'+'f32\x20=\x2064.0'+';\x0a\x20\x20\x20\x20cons'+'t\x20LUT_SCAL'+'E_disk:\x20f3'+'2\x20=\x20(\x20LUT_'+'SIZE_disk\x20'+'-\x201.0\x20)\x20/\x20'+'LUT_SIZE_d'+'isk;\x0a\x20\x20\x20\x20c'+'onst\x20LUT_B'+'IAS_disk:\x20'+'f32\x20=\x200.5\x20'+'/\x20LUT_SIZE'+'_disk;\x0a\x0a\x20\x20'+'\x20\x20//\x20use\x20t'+'abulated\x20h'+'orizon-cli'+'pped\x20spher'+'e\x0a\x20\x20\x20\x20var\x20'+'uv:\x20vec2f\x20'+'=\x20vec2f(av'+'gDir.z\x20*\x200'+'.5\x20+\x200.5,\x20'+'formFactor'+');\x0a\x20\x20\x20\x20uv\x20'+'=\x20uv\x20*\x20LUT'+'_SCALE_dis'+'k\x20+\x20LUT_BI'+'AS_disk;\x0a\x0a'+'\x20\x20\x20\x20let\x20sc')+('ale:\x20f32\x20='+'\x20textureSa'+'mpleLevel('+'areaLights'+'LutTex2,\x20a'+'reaLightsL'+'utTex2Samp'+'ler,\x20uv,\x200'+'.0).w;\x0a\x0a\x20\x20'+'\x20\x20return\x20f'+'ormFactor\x20'+'*\x20scale;\x0a}'+'\x0a\x0a//\x20LTC_E'+'valuateDis'+'k\x20in\x20some\x20'+'rare\x20cases'+'\x20genereate'+'s\x20NaN\x20valu'+'es\x20in\x20a\x20or'+'\x20b,\x20just\x20b'+'efore\x20\x27flo'+'at\x20c0\x20=\x20a\x20'+'*\x20b;\x27\x0a//\x20G'+'et\x20rid\x20of\x20'+'those\x20Nan\x20'+'values\x20bef'+'ore\x20they\x20p'+'ropagate\x20f'+'urther,\x20as'+'\x20in\x20case\x20o'+'f\x20bloom\x20/\x20'+'DOF\x20blurs\x20'+'they\x0a//\x20pr'+'opagate\x20to'+'\x20large\x20are'+'as.\x20I\x20didn'+'\x27t\x20find\x20th'+'e\x20actual\x20r'+'eason\x20wher'+'e\x20those\x20co'+'me\x20from,\x20s'+'o\x20that\x20is\x20'+'still\x20TODO'+'.\x0a//\x20Note\x20'+'that\x20only\x20'+'disk/spher'+'e\x20lights\x20a'+'re\x20causing'+'\x20it,\x20so\x20on'+'ly\x20handle\x20'+'those.\x0afn\x20'+'FixNan(val'+'ue:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20v'+'alue\x20!=\x20va'+'lue\x20check\x20'+'for\x20NaN\x20as'+'\x20isnan()\x20i'+'s\x20not\x20avai'+'lable\x20in\x20W'+'GSL\x0a\x20\x20\x20\x20re'+'turn\x20selec'+'t(value,\x200'+'.0,\x20value\x20'+'!=\x20value);'+'\x0a}\x0a\x0afn\x20get'+'RectLightD'+'iffuse(wor'+'ldNormal:\x20'+'vec3f,\x20vie'+'wDir:\x20vec3'+'f,\x20lightDi'+'r:\x20vec3f,\x20'+'lightDirNo'+'rm:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20id'+'entityMat\x20'+'=\x20mat3x3f('+'vec3f(1.0,'+'\x200.0,\x200.0)'+',\x20vec3f(0.'+'0,\x201.0,\x200.'+'0),\x20vec3f('+'0.0,\x200.0,\x20'+'1.0));\x0a\x20\x20\x20'+'\x20return\x20LT'+'C_Evaluate'+'Rect(\x20worl'+'dNormal,\x20v'+'iewDir,\x20vP'+'ositionW,\x20'+'identityMa'+'t,\x20dLTCCoo'+'rds\x20);\x0a}\x0a\x0a'+'fn\x20getDisk'+'LightDiffu'+'se(worldNo'+'rmal:\x20vec3')+('f,\x20viewDir'+':\x20vec3f,\x20l'+'ightDir:\x20v'+'ec3f,\x20ligh'+'tDirNorm:\x20'+'vec3f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'let\x20identi'+'tyMat\x20=\x20ma'+'t3x3f(vec3'+'f(1.0,\x200.0'+',\x200.0),\x20ve'+'c3f(0.0,\x201'+'.0,\x200.0),\x20'+'vec3f(0.0,'+'\x200.0,\x201.0)'+');\x0a\x20\x20\x20\x20ret'+'urn\x20FixNan'+'(LTC_Evalu'+'ateDisk(\x20w'+'orldNormal'+',\x20viewDir,'+'\x20vPosition'+'W,\x20identit'+'yMat,\x20dLTC'+'Coords\x20));'+'\x0a}\x0a\x0afn\x20get'+'SphereLigh'+'tDiffuse(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20light'+'Dir:\x20vec3f'+',\x20lightDir'+'Norm:\x20vec3'+'f)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20//\x20N'+'B:\x20this\x20co'+'uld\x20be\x20imp'+'roved\x20furt'+'her\x20with\x20d'+'istance\x20ba'+'sed\x20wrap\x20l'+'ighting\x0a\x20\x20'+'\x20\x20let\x20fall'+'off:\x20f32\x20='+'\x20dSphereRa'+'dius\x20/\x20(do'+'t(lightDir'+',\x20lightDir'+')\x20+\x20dSpher'+'eRadius);\x0a'+'\x20\x20\x20\x20return'+'\x20FixNan(ge'+'tLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirNorm)\x20'+'*\x20falloff)'+';\x0a}\x0a\x0afn\x20ge'+'tLTCLightI'+'nvMat(uv:\x20'+'vec2f)\x20->\x20'+'mat3x3f\x20{\x0a'+'\x20\x20\x20\x20let\x20t1'+':\x20vec4f\x20=\x20'+'textureSam'+'pleLevel(a'+'reaLightsL'+'utTex1,\x20ar'+'eaLightsLu'+'tTex1Sampl'+'er,\x20uv,\x200.'+'0);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20mat3'+'x3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3f(\x20'+'t1.x,\x200.0,'+'\x20t1.y\x20),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(\x200.0,\x201'+'.0,\x200.0\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3f(\x20t1.z'+',\x200.0,\x20t1.'+'w\x20)\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0afn\x20cal'+'cRectLight'+'Specular(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20uv:\x20v'+'ec2f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20mInv:\x20m'+'at3x3f\x20=\x20g'+'etLTCLight')+('InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateRect('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afn'+'\x20getRectLi'+'ghtSpecula'+'r(worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20ca'+'lcRectLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+',\x20dLTCUV);'+'\x0a}\x0a\x0afn\x20cal'+'cDiskLight'+'Specular(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20uv:\x20v'+'ec2f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20mInv:\x20m'+'at3x3f\x20=\x20g'+'etLTCLight'+'InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateDisk('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afn'+'\x20getDiskLi'+'ghtSpecula'+'r(worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20ca'+'lcDiskLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+',\x20dLTCUV);'+'\x0a}\x0a\x0afn\x20get'+'SphereLigh'+'tSpecular('+'worldNorma'+'l:\x20vec3f,\x20'+'viewDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20calc'+'DiskLightS'+'pecular(wo'+'rldNormal,'+'\x20viewDir,\x20'+'dLTCUV);\x0a}'+'\x0a'),UD='\x0a#ifdef\x20ST'+'D_METALNES'+'S_CONSTANT'+'\x0auniform\x20m'+'aterial_me'+'talness:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20getMe'+'talness()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'metalness:'+'\x20f32\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20metal'+'ness\x20=\x20met'+'alness\x20*\x20u'+'niform.mat'+'erial_meta'+'lness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_METALN'+'ESS_TEXTUR'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'metalness\x20'+'=\x20metalnes'+'s\x20*\x20textur'+'eSampleBia'+'s({STD_MET'+'ALNESS_TEX'+'TURE_NAME}'+',\x20{STD_MET'+'ALNESS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_METALN'+'ESS_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_METALNE'+'SS_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_VE'+'RTEX\x0a\x20\x20\x20\x20m'+'etalness\x20='+'\x20metalness'+'\x20*\x20saturat'+'e(vVertexC'+'olor.{STD_'+'METALNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dMetal'+'ness\x20=\x20met'+'alness;\x0a}\x0a',BD='\x0avar\x20textu'+'re_msdfMap'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20texture'+'_msdfMapSa'+'mpler:\x20sam'+'pler;\x0a\x0afn\x20'+'median(r:\x20'+'f32,\x20g:\x20f3'+'2,\x20b:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20max(min(r'+',\x20g),\x20min('+'max(r,\x20g),'+'\x20b));\x0a}\x0a\x0af'+'n\x20map(min:'+'\x20f32,\x20max:'+'\x20f32,\x20v:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(v\x20-\x20m'+'in)\x20/\x20(max'+'\x20-\x20min);\x0a}'+'\x0a\x0auniform\x20'+'font_sdfIn'+'tensity:\x20f'+'32;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20font_px'+'range:\x20f32'+';\x20\x20\x20\x20\x20\x20//\x20'+'the\x20number'+'\x20of\x20pixels'+'\x20between\x20i'+'nside\x20and\x20'+'outside\x20th'+'e\x20font\x20in\x20'+'SDF\x0aunifor'+'m\x20font_tex'+'tureWidth:'+'\x20f32;\x20//\x20t'+'he\x20width\x20o'+'f\x20the\x20text'+'ure\x20atlas\x0a'+'\x0a#ifndef\x20L'+'IT_MSDF_TE'+'XT_ATTRIBU'+'TE\x0a\x20\x20\x20\x20uni'+'form\x20outli'+'ne_color:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20uniform\x20o'+'utline_thi'+'ckness:\x20f3'+'2;\x0a\x20\x20\x20\x20uni'+'form\x20shado'+'w_color:\x20v'+'ec4f;\x0a\x20\x20\x20\x20'+'uniform\x20sh'+'adow_offse'+'t:\x20vec2f;\x0a'+'#else\x0a\x20\x20\x20\x20'+'varying\x20ou'+'tline_colo'+'r:\x20vec4f;\x0a'+'\x20\x20\x20\x20varyin'+'g\x20outline_'+'thickness:'+'\x20f32;\x0a\x20\x20\x20\x20'+'varying\x20sh'+'adow_color'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20varying'+'\x20shadow_of'+'fset:\x20vec2'+'f;\x0a#endif\x0a'+'\x0afn\x20applyM'+'sdf(color_'+'in:\x20vec4f)'+'\x20->\x20vec4f\x20'+'{\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20LIT_M'+'SDF_TEXT_A'+'TTRIBUTE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20outline_c'+'olorValue\x20'+'=\x20uniform.'+'outline_co'+'lor;\x0a\x20\x20\x20\x20\x20'+('\x20\x20\x20var\x20out'+'line_thick'+'nessValue\x20'+'=\x20uniform.'+'outline_th'+'ickness;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadow_co'+'lorValue\x20='+'\x20uniform.s'+'hadow_colo'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20shado'+'w_offsetVa'+'lue\x20=\x20unif'+'orm.shadow'+'_offset;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20outline_c'+'olorValue\x20'+'=\x20outline_'+'color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utline_thi'+'cknessValu'+'e\x20=\x20outlin'+'e_thicknes'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20shado'+'w_colorVal'+'ue\x20=\x20shado'+'w_color;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadow_of'+'fsetValue\x20'+'=\x20shadow_o'+'ffset;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20Conv'+'ert\x20to\x20lin'+'ear\x20space\x20'+'before\x20pro'+'cessing\x0a\x20\x20'+'\x20\x20//\x20TODO:'+'\x20ideally\x20t'+'his\x20would\x20'+'receive\x20th'+'e\x20color\x20in'+'\x20linear\x20sp'+'ace,\x20but\x20t'+'hat\x20would\x20'+'require\x20la'+'rger\x20chang'+'es\x0a\x20\x20\x20\x20//\x20'+'on\x20the\x20eng'+'ine\x20side,\x20'+'with\x20the\x20w'+'ay\x20premult'+'iplied\x20alp'+'ha\x20is\x20hand'+'led\x20as\x20wel'+'l.\x0a\x20\x20\x20\x20var'+'\x20color\x20=\x20v'+'ec4f(gamma'+'CorrectInp'+'utVec3(col'+'or_in.rgb)'+',\x20color_in'+'.a);\x0a\x0a\x20\x20\x20\x20'+'//\x20sample\x20'+'the\x20field\x0a'+'\x20\x20\x20\x20let\x20ts'+'ample:\x20vec'+'3f\x20=\x20textu'+'reSample(t'+'exture_msd'+'fMap,\x20text'+'ure_msdfMa'+'pSampler,\x20'+'vUv0).rgb;'+'\x0a\x20\x20\x20\x20let\x20u'+'vShdw:\x20vec'+'2f\x20=\x20vUv0\x20'+'-\x20shadow_o'+'ffsetValue'+';\x0a\x20\x20\x20\x20let\x20'+'ssample:\x20v'+'ec3f\x20=\x20tex'+'tureSample'+'(texture_m'+'sdfMap,\x20te'+'xture_msdf'+'MapSampler'+',\x20uvShdw).'+'rgb;\x0a\x0a\x20\x20\x20\x20'+'//\x20get\x20the'+'\x20signed\x20di'+'stance\x20val'+'ue\x0a\x20\x20\x20\x20let')+('\x20sigDist:\x20'+'f32\x20=\x20medi'+'an(tsample'+'.r,\x20tsampl'+'e.g,\x20tsamp'+'le.b);\x0a\x20\x20\x20'+'\x20var\x20sigDi'+'stShdw:\x20f3'+'2\x20=\x20median'+'(ssample.r'+',\x20ssample.'+'g,\x20ssample'+'.b);\x0a\x0a\x20\x20\x20\x20'+'//\x20smoothi'+'ng\x20limit\x20-'+'\x20smaller\x20v'+'alue\x20makes'+'\x20for\x20sharp'+'er\x20but\x20mor'+'e\x20aliased\x20'+'text,\x20espe'+'cially\x20on\x20'+'angles\x0a\x20\x20\x20'+'\x20//\x20too\x20la'+'rge\x20value\x20'+'(0.5)\x20crea'+'tes\x20a\x20dark'+'\x20glow\x20arou'+'nd\x20the\x20let'+'ters\x0a\x20\x20\x20\x20l'+'et\x20smoothi'+'ngMax:\x20f32'+'\x20=\x200.2;\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20depe'+'nds\x20on\x20siz'+'e\x20of\x20textu'+'re\x20on\x20scre'+'en\x0a\x20\x20\x20\x20let'+'\x20w:\x20vec2f\x20'+'=\x20abs(dpdx'+'(vUv0))\x20+\x20'+'abs(dpdy(v'+'Uv0));\x0a\x20\x20\x20'+'\x20let\x20smoot'+'hing:\x20f32\x20'+'=\x20clamp(w.'+'x\x20*\x20unifor'+'m.font_tex'+'tureWidth\x20'+'/\x20uniform.'+'font_pxran'+'ge,\x200.0,\x20s'+'moothingMa'+'x);\x0a\x0a\x20\x20\x20\x20l'+'et\x20mapMin:'+'\x20f32\x20=\x200.0'+'5;\x0a\x20\x20\x20\x20let'+'\x20mapMax:\x20f'+'32\x20=\x20clamp'+'(1.0\x20-\x20uni'+'form.font_'+'sdfIntensi'+'ty,\x20mapMin'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20rema'+'p\x20to\x20a\x20sma'+'ller\x20range'+'\x20(used\x20on\x20'+'smaller\x20fo'+'nt\x20sizes)\x0a'+'\x20\x20\x20\x20let\x20si'+'gDistInner'+':\x20f32\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist);\x0a\x20\x20'+'\x20\x20let\x20sigD'+'istOutline'+':\x20f32\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist\x20+\x20ou'+'tline_thic'+'knessValue'+');\x0a\x20\x20\x20\x20sig'+'DistShdw\x20='+'\x20map(mapMi'+'n,\x20mapMax,'+'\x20sigDistSh'+'dw\x20+\x20outli'+'ne_thickne'+'ssValue);\x0a'+'\x0a\x20\x20\x20\x20let\x20c'+'enter:\x20f32'+'\x20=\x200.5;\x0a\x20\x20'+'\x20\x20//\x20calcu'+'late\x20smoot'+'hing\x20and\x20u'+'se\x20to\x20gene')+('rate\x20opaci'+'ty\x0a\x20\x20\x20\x20let'+'\x20inside:\x20f'+'32\x20=\x20smoot'+'hstep(cent'+'er\x20-\x20smoot'+'hing,\x20cent'+'er\x20+\x20smoot'+'hing,\x20sigD'+'istInner);'+'\x0a\x20\x20\x20\x20let\x20o'+'utline:\x20f3'+'2\x20=\x20smooth'+'step(cente'+'r\x20-\x20smooth'+'ing,\x20cente'+'r\x20+\x20smooth'+'ing,\x20sigDi'+'stOutline)'+';\x0a\x20\x20\x20\x20let\x20'+'shadow:\x20f3'+'2\x20=\x20smooth'+'step(cente'+'r\x20-\x20smooth'+'ing,\x20cente'+'r\x20+\x20smooth'+'ing,\x20sigDi'+'stShdw);\x0a\x0a'+'\x20\x20\x20\x20let\x20tc'+'olor_outli'+'ne:\x20vec4f\x20'+'=\x20outline\x20'+'*\x20vec4f(ou'+'tline_colo'+'rValue.a\x20*'+'\x20outline_c'+'olorValue.'+'rgb,\x20outli'+'ne_colorVa'+'lue.a);\x0a\x20\x20'+'\x20\x20var\x20tcol'+'or:\x20vec4f\x20'+'=\x20select(v'+'ec4f(0.0),'+'\x20tcolor_ou'+'tline,\x20out'+'line\x20>\x20ins'+'ide);\x0a\x20\x20\x20\x20'+'tcolor\x20=\x20m'+'ix(tcolor,'+'\x20color,\x20in'+'side);\x0a\x0a\x20\x20'+'\x20\x20let\x20scol'+'or_shadow:'+'\x20vec4f\x20=\x20s'+'hadow\x20*\x20ve'+'c4f(shadow'+'_colorValu'+'e.a\x20*\x20shad'+'ow_colorVa'+'lue.rgb,\x20s'+'hadow_colo'+'rValue.a);'+'\x0a\x20\x20\x20\x20let\x20s'+'color:\x20vec'+'4f\x20=\x20selec'+'t(tcolor,\x20'+'scolor_sha'+'dow,\x20shado'+'w\x20>\x20outlin'+'e);\x0a\x20\x20\x20\x20tc'+'olor\x20=\x20mix'+'(scolor,\x20t'+'color,\x20out'+'line);\x0a\x0a\x20\x20'+'\x20\x20//\x20Conve'+'rt\x20back\x20to'+'\x20gamma\x20spa'+'ce\x20before\x20'+'returning\x0a'+'\x20\x20\x20\x20tcolor'+'\x20=\x20vec4f(g'+'ammaCorrec'+'tOutput(tc'+'olor.rgb),'+'\x20tcolor.a)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20tcolor'+';\x0a}\x0a'),zD='\x0a\x0afn\x20getSp'+'ecularModu'+'late(specu'+'larity:\x20ve'+'c3f,\x20albed'+'o:\x20vec3f,\x20'+'metalness:'+'\x20f32,\x20f0:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20dielec'+'tricF0:\x20ve'+'c3f\x20=\x20f0\x20*'+'\x20speculari'+'ty;\x0a\x20\x20\x20\x20re'+'turn\x20mix(d'+'ielectricF'+'0,\x20albedo,'+'\x20metalness'+');\x0a}\x0a\x0afn\x20g'+'etAlbedoMo'+'dulate(alb'+'edo:\x20vec3f'+',\x20metalnes'+'s:\x20f32)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'albedo\x20*\x20('+'1.0\x20-\x20meta'+'lness);\x0a}\x0a',VD='\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec2f;\x0a\x0a\x20\x20\x20'+'\x20var\x20morph'+'Texture:\x20t'+'exture_2d_'+'array<f32>'+';\x0a\x20\x20\x20\x20unif'+'orm\x20morphF'+'actor:\x20arr'+'ay<f32,\x20{M'+'ORPH_TEXTU'+'RE_MAX_COU'+'NT}>;\x0a\x20\x20\x20\x20'+'uniform\x20mo'+'rphIndex:\x20'+'array<u32,'+'\x20{MORPH_TE'+'XTURE_MAX_'+'COUNT}>;\x0a\x20'+'\x20\x20\x20uniform'+'\x20count:\x20u3'+'2;\x0a\x0a\x20\x20\x20\x20@f'+'ragment\x0a\x20\x20'+'\x20\x20fn\x20fragm'+'entMain(in'+'put\x20:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20color\x20='+'\x20vec3f(0,\x20'+'0,\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20t'+'extureDims'+'\x20=\x20texture'+'Dimensions'+'(morphText'+'ure);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20pi'+'xelCoords\x20'+'=\x20vec2i(in'+'put.uv0\x20*\x20'+'vec2f(text'+'ureDims));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fo'+'r\x20(var\x20i:\x20'+'u32\x20=\x200;\x20i'+'\x20<\x20uniform'+'.count;\x20i\x20'+'=\x20i\x20+\x201)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'tureIndex:'+'\x20u32\x20=\x20uni'+'form.morph'+'Index[i].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20delta\x20'+'=\x20textureL'+'oad(morphT'+'exture,\x20pi'+'xelCoords,'+'\x20textureIn'+'dex,\x200).xy'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'\x20+=\x20unifor'+'m.morphFac'+'tor[i].ele'+'ment\x20*\x20del'+'ta;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20out'+'put:\x20Fragm'+'entOutput;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'color,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a',GD='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20varying'+'\x20uv0:\x20vec2'+'f;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input:'+'\x20VertexInp'+'ut)\x20->\x20Ver'+'texOutput\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20vec4f(in'+'put.vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.uv0'+'\x20=\x20input.v'+'ertex_posi'+'tion\x20*\x200.5'+'\x20+\x20vec2f(0'+'.5,\x200.5);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',HD='\x0aattribute'+'\x20vertex_ou'+'tlineParam'+'eters:\x20vec'+'3f;\x0aattrib'+'ute\x20vertex'+'_shadowPar'+'ameters:\x20v'+'ec3f;\x0a\x0avar'+'ying\x20outli'+'ne_color:\x20'+'vec4f;\x0avar'+'ying\x20outli'+'ne_thickne'+'ss:\x20f32;\x0av'+'arying\x20sha'+'dow_color:'+'\x20vec4f;\x0ava'+'rying\x20shad'+'ow_offset:'+'\x20vec2f;\x0a\x0av'+'ar<private'+'>\x20dOutline'+'Color:\x20vec'+'4f;\x0avar<pr'+'ivate>\x20dOu'+'tlineThick'+'ness:\x20f32;'+'\x0avar<priva'+'te>\x20dShado'+'wColor:\x20ve'+'c4f;\x0avar<p'+'rivate>\x20dS'+'hadowOffse'+'t:\x20vec2f;\x0a'+'\x0afn\x20unpack'+'MsdfParams'+'()\x20{\x0a\x20\x20\x20\x20l'+'et\x20little:'+'\x20vec3f\x20=\x20v'+'ertex_outl'+'ineParamet'+'ers\x20%\x20vec3'+'f(256.0);\x0a'+'\x20\x20\x20\x20let\x20bi'+'g:\x20vec3f\x20='+'\x20(vertex_o'+'utlinePara'+'meters\x20-\x20l'+'ittle)\x20/\x202'+'56.0;\x0a\x0a\x20\x20\x20'+'\x20dOutlineC'+'olor\x20=\x20vec'+'4f(little.'+'x,\x20big.x,\x20'+'little.y,\x20'+'big.y)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20//\x20_outli'+'neThicknes'+'sScale\x20==='+'\x200.2\x0a\x20\x20\x20\x20d'+'OutlineThi'+'ckness\x20=\x20l'+'ittle.z\x20/\x20'+'255.0\x20*\x200.'+'2;\x0a\x0a\x20\x20\x20\x20le'+'t\x20little_s'+'hadow\x20=\x20ve'+'rtex_shado'+'wParameter'+'s\x20%\x20vec3f('+'256.0);\x0a\x20\x20'+'\x20\x20let\x20big_'+'shadow\x20=\x20('+'vertex_sha'+'dowParamet'+'ers\x20-\x20litt'+'le_shadow)'+'\x20/\x20256.0;\x0a'+'\x0a\x20\x20\x20\x20dShad'+'owColor\x20=\x20'+'vec4f(litt'+'le_shadow.'+'x,\x20big_sha'+'dow.x,\x20lit'+'tle_shadow'+'.y,\x20big_sh'+'adow.y)\x20/\x20'+'255.0;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+('ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20dShad'+'owOffset\x20='+'\x20(vec2f(li'+'ttle_shado'+'w.z,\x20big_s'+'hadow.z)\x20/'+'\x20127.0\x20-\x201'+'.0)\x20*\x200.00'+'5;\x0a}\x0a'),WD='\x0avar<priva'+'te>\x20dNorma'+'lMatrix:\x20m'+'at3x3f;\x0a\x0af'+'n\x20getNorma'+'l()\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20d'+'NormalMatr'+'ix\x20=\x20getNo'+'rmalMatrix'+'(dModelMat'+'rix);\x0a\x20\x20\x20\x20'+'let\x20localN'+'ormal:\x20vec'+'3f\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}',$D='\x0a\x0aattribut'+'e\x20vertex_n'+'ormal:\x20vec'+'3f;\x0a\x0aunifo'+'rm\x20matrix_'+'normal:\x20ma'+'t3x3f;\x0a\x0a#i'+'fdef\x20MORPH'+'ING_NORMAL'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MORPHING'+'_INT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20mor'+'phNormalTe'+'x:\x20texture'+'_2d<u32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20morphNor'+'malTexSamp'+'ler:\x20sampl'+'er;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20morp'+'hNormalTex'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20morphNorm'+'alTexSampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20#en'+'dif\x0a#endif'+'\x0a\x0afn\x20getLo'+'calNormal('+'vertexNorm'+'al:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20localNorm'+'al:\x20vec3f\x20'+'=\x20vertexNo'+'rmal;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_NOR'+'MAL\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20mor'+'phUV:\x20vec2'+'i\x20=\x20getTex'+'tureMorphC'+'oords();\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_INT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20morphN'+'ormalInt:\x20'+'vec4u\x20=\x20te'+'xtureLoad('+'morphNorma'+'lTex,\x20morp'+'hUV,\x200);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20morph'+'NormalF:\x20v'+'ec3f\x20=\x20vec'+'3f(morphNo'+'rmalInt.xy'+'z)\x20/\x2065535'+'.0\x20*\x202.0\x20-'+'\x201.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20lo'+'calNormal\x20'+'=\x20localNor'+'mal\x20+\x20morp'+'hNormalF;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'morphNorma'+'l:\x20vec3f\x20='+'\x20textureLo'+'ad(morphNo'+'rmalTex,\x20m'+'orphUV,\x200)'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20lo'+'calNormal\x20'+'=\x20localNor'+'mal\x20+\x20morp'+'hNormal;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20lo'+'calNormal;'+'\x0a}\x0a\x0a#if\x20de'+'fined(SKIN'+')\x20||\x20defin'+'ed(BATCH)\x0a'+'\x20\x20\x20\x20fn\x20get'+('NormalMatr'+'ix(modelMa'+'trix:\x20mat4'+'x4f)\x20->\x20ma'+'t3x3f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20mat3x3f'+'(modelMatr'+'ix[0].xyz,'+'\x20modelMatr'+'ix[1].xyz,'+'\x20modelMatr'+'ix[2].xyz)'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20define'+'d(INSTANCI'+'NG)\x0a\x20\x20\x20\x20fn'+'\x20getNormal'+'Matrix(mod'+'elMatrix:\x20'+'mat4x4f)\x20-'+'>\x20mat3x3f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20mat'+'3x3f(model'+'Matrix[0].'+'xyz,\x20model'+'Matrix[1].'+'xyz,\x20model'+'Matrix[2].'+'xyz);\x0a\x20\x20\x20\x20'+'}\x0a#else\x0a\x20\x20'+'\x20\x20fn\x20getNo'+'rmalMatrix'+'(modelMatr'+'ix:\x20mat4x4'+'f)\x20->\x20mat3'+'x3f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uniform.m'+'atrix_norm'+'al;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),XD='\x0a#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_bu'+'mpiness:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'TD_NORMALD'+'ETAIL_TEXT'+'URE\x0a\x20\x20\x20\x20un'+'iform\x20mate'+'rial_norma'+'lDetailMap'+'Bumpiness:'+'\x20f32;\x0a\x0a\x20\x20\x20'+'\x20//\x20https:'+'//blog.sel'+'fshadow.co'+'m/publicat'+'ions/blend'+'ing-in-det'+'ail/#detai'+'l-oriented'+'\x0a\x20\x20\x20\x20fn\x20bl'+'endNormals'+'(inN1:\x20vec'+'3f,\x20inN2:\x20'+'vec3f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'n1:\x20vec3f\x20'+'=\x20inN1\x20+\x20v'+'ec3f(0.0,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20n2:\x20vec'+'3f\x20=\x20inN2\x20'+'*\x20vec3f(-1'+'.0,\x20-1.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20n1\x20*\x20dot('+'n1,\x20n2)\x20/\x20'+'n1.z\x20-\x20n2;'+'\x0a\x20\x20\x20\x20}\x0a#en'+'dif\x0a\x0afn\x20ge'+'tNormal()\x20'+'{\x0a#ifdef\x20S'+'TD_NORMAL_'+'TEXTURE\x0a\x20\x20'+'\x20\x20var\x20norm'+'alMap:\x20vec'+'3f\x20=\x20{STD_'+'NORMAL_TEX'+'TURE_DECOD'+'E}(texture'+'SampleBias'+'({STD_NORM'+'AL_TEXTURE'+'_NAME},\x20{S'+'TD_NORMAL_'+'TEXTURE_NA'+'ME}Sampler'+',\x20{STD_NOR'+'MAL_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias));\x0a'+'\x20\x20\x20\x20normal'+'Map\x20=\x20mix('+'vec3f(0.0,'+'\x200.0,\x201.0)'+',\x20normalMa'+'p,\x20uniform'+'.material_'+'bumpiness)'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_NO'+'RMALDETAIL'+'_TEXTURE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20normalDet'+'ailMap:\x20ve'+'c3f\x20=\x20{STD'+'_NORMALDET'+'AIL_TEXTUR'+'E_DECODE}('+'textureSam'+'pleBias({S'+'TD_NORMALD'+'ETAIL_TEXT'+'URE_NAME},'+'\x20{STD_NORM'+'ALDETAIL_T'+'EXTURE_NAM'+'E}Sampler,'+'\x20{STD_NORM'+'ALDETAIL_T'+'EXTURE_UV}'+(',\x20uniform.'+'textureBia'+'s));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20normalD'+'etailMap\x20='+'\x20mix(vec3f'+'(0.0,\x200.0,'+'\x201.0),\x20nor'+'malDetailM'+'ap,\x20unifor'+'m.material'+'_normalDet'+'ailMapBump'+'iness);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20norm'+'alMap\x20=\x20bl'+'endNormals'+'(normalMap'+',\x20normalDe'+'tailMap);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dNor'+'malW\x20=\x20nor'+'malize(dTB'+'N\x20*\x20normal'+'Map);\x0a#els'+'e\x0a\x20\x20\x20\x20dNor'+'malW\x20=\x20dVe'+'rtexNormal'+'W;\x0a#endif\x0a'+'}\x0a'),qD='\x0auniform\x20m'+'aterial_op'+'acity:\x20f32'+';\x0a\x0afn\x20getO'+'pacity()\x20{'+'\x0a\x20\x20\x20\x20dAlph'+'a\x20=\x20unifor'+'m.material'+'_opacity;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_OPAC'+'ITY_TEXTUR'+'E\x0a\x20\x20\x20\x20dAlp'+'ha\x20=\x20dAlph'+'a\x20*\x20textur'+'eSampleBia'+'s({STD_OPA'+'CITY_TEXTU'+'RE_NAME},\x20'+'{STD_OPACI'+'TY_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'OPACITY_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_OPA'+'CITY_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'OPACITY_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Alpha\x20=\x20dA'+'lpha\x20*\x20cla'+'mp(vVertex'+'Color.{STD'+'_OPACITY_V'+'ERTEX_CHAN'+'NEL},\x200.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',jD='\x0a\x0a#if\x20STD_'+'OPACITY_DI'+'THER\x20==\x20BA'+'YER8\x0a\x20\x20\x20\x20#'+'include\x20\x22b'+'ayerPS\x22\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20blueNo'+'iseJitter:'+'\x20vec4f;\x0a\x0a#'+'if\x20STD_OPA'+'CITY_DITHE'+'R\x20==\x20BLUEN'+'OISE\x0a\x20\x20\x20\x20v'+'ar\x20blueNoi'+'seTex32\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20blueN'+'oiseTex32S'+'ampler\x20:\x20s'+'ampler;\x0a#e'+'ndif\x0a\x0afn\x20o'+'pacityDith'+'er(alpha:\x20'+'f32,\x20id:\x20f'+'32)\x20{\x0a\x20\x20\x20\x20'+'#if\x20STD_OP'+'ACITY_DITH'+'ER\x20==\x20BAYE'+'R8\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20nois'+'e:\x20f32\x20=\x20b'+'ayer8(floo'+'r((pcPosit'+'ion.xy\x20+\x20u'+'niform.blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+')\x20%\x20vec2f('+'8.0)))\x20/\x206'+'4.0;\x0a\x0a\x20\x20\x20\x20'+'#else\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20S'+'TD_OPACITY'+'_DITHER\x20=='+'\x20BLUENOISE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uv\x20'+'=\x20fract(pc'+'Position.x'+'y\x20/\x2032.0\x20+'+'\x20uniform.b'+'lueNoiseJi'+'tter.xy\x20+\x20'+'id);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20noise:\x20f3'+'2\x20=\x20textur'+'eSampleLev'+'el(blueNoi'+'seTex32,\x20b'+'lueNoiseTe'+'x32Sampler'+',\x20uv,\x200.0)'+'.y;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20STD_OPAC'+'ITY_DITHER'+'\x20==\x20IGNNOI'+'SE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ba'+'sed\x20on\x20htt'+'ps://www.i'+'ryoku.com/'+'next-gener'+'ation-post'+'-processin'+'g-in-call-'+'of-duty-ad'+'vanced-war'+'fare/\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20magic\x20=\x20'+'vec3f(0.06'+'711056,\x200.'+'00583715,\x20'+'52.9829189'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20n'+'oise:\x20f32\x20'+'=\x20fract(ma'+'gic.z\x20*\x20fr'+'act(dot(pc'+'Position.x'+'y\x20+\x20unifor'+'m.blueNois'+'eJitter.xy'+'\x20+\x20id,\x20mag'+('ic.xy)));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20conve'+'rt\x20the\x20noi'+'se\x20to\x20line'+'ar\x20space,\x20'+'as\x20that\x20is'+'\x20specified'+'\x20in\x20sRGB\x20s'+'pace\x20(stor'+'es\x20percept'+'ual\x20values'+')\x0a\x20\x20\x20\x20nois'+'e\x20=\x20pow(no'+'ise,\x202.2);'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'alpha\x20<\x20no'+'ise)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20disca'+'rd;\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),YD='\x0a',KD='\x0a\x0a#if\x20LIT_'+'BLEND_TYPE'+'\x20==\x20NORMAL'+'\x20||\x20LIT_BL'+'END_TYPE\x20='+'=\x20ADDITIVE'+'ALPHA\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x0a'+'\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'vec4f(outp'+'ut.color.r'+'gb,\x20litArg'+'s_opacity)'+';\x0a\x0a#elif\x20L'+'IT_BLEND_T'+'YPE\x20==\x20PRE'+'MULTIPLIED'+'\x0a\x0a\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(out'+'put.color.'+'rgb\x20*\x20litA'+'rgs_opacit'+'y,\x20litArgs'+'_opacity);'+'\x0a\x0a#else\x0a\x0a\x20'+'\x20\x20\x20output.'+'color\x20=\x20ve'+'c4f(output'+'.color.rgb'+',\x201.0);\x0a\x0a#'+'endif\x0a',ZD='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0avar\x20sour'+'ce:\x20textur'+'e_2d<f32>;'+'\x0avar\x20sourc'+'eSampler:\x20'+'sampler;\x0a\x0a'+'@fragment\x20'+'fn\x20fragmen'+'tMain(inpu'+'t\x20:\x20Fragme'+'ntInput)\x20-'+'>\x20Fragment'+'Output\x20{\x0a\x20'+'\x20\x20\x20var\x20out'+'put:\x20Fragm'+'entOutput;'+'\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'textureSam'+'ple(source'+',\x20sourceSa'+'mpler,\x20inp'+'ut.vUv0);\x0a'+'\x20\x20\x20\x20return'+'\x20output;\x0a}'+'\x0a',QD='\x0a\x0auniform\x20'+'material_s'+'heen:\x20vec3'+'f;\x0a\x0afn\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20var\x20sh'+'eenColor\x20='+'\x20uniform.m'+'aterial_sh'+'een;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEEN_TEX'+'TURE\x0a\x20\x20\x20\x20s'+'heenColor\x20'+'=\x20sheenCol'+'or\x20*\x20{STD_'+'SHEEN_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_SHEEN'+'_TEXTURE_N'+'AME},\x20{STD'+'_SHEEN_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_SHEEN_'+'TEXTURE_UV'+'},\x20uniform'+'.textureBi'+'as)).{STD_'+'SHEEN_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEEN_VER'+'TEX\x0a\x20\x20\x20\x20sh'+'eenColor\x20='+'\x20sheenColo'+'r\x20*\x20satura'+'te3(vVerte'+'xColor.{ST'+'D_SHEEN_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20sSpecula'+'rity\x20=\x20she'+'enColor;\x0a}'+'\x0a',JD='\x0auniform\x20m'+'aterial_sh'+'eenGloss:\x20'+'f32;\x0a\x0afn\x20g'+'etSheenGlo'+'ssiness()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'sheenGloss'+'iness\x20=\x20un'+'iform.mate'+'rial_sheen'+'Gloss;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_SHEENGL'+'OSS_TEXTUR'+'E\x0a\x20\x20\x20\x20shee'+'nGlossines'+'s\x20=\x20sheenG'+'lossiness\x20'+'*\x20textureS'+'ampleBias('+'{STD_SHEEN'+'GLOSS_TEXT'+'URE_NAME},'+'\x20{STD_SHEE'+'NGLOSS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_UV},\x20un'+'iform.text'+'ureBias).{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20sheenGlo'+'ssiness\x20=\x20'+'sheenGloss'+'iness\x20*\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SHEEN'+'GLOSS_VERT'+'EX_CHANNEL'+'});\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEENGLOS'+'S_INVERT\x0a\x20'+'\x20\x20\x20sheenGl'+'ossiness\x20='+'\x201.0\x20-\x20she'+'enGlossine'+'ss;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'sGlossines'+'s\x20=\x20sheenG'+'lossiness\x20'+'+\x200.000000'+'1;\x0a}\x0a',eI='\x0auniform\x20m'+'aterial_he'+'ightMapFac'+'tor:\x20f32;\x0a'+'\x0afn\x20getPar'+'allax()\x20{\x0a'+'\x20\x20\x20\x20var\x20pa'+'rallaxScal'+'e\x20=\x20unifor'+'m.material'+'_heightMap'+'Factor;\x0a\x0a\x20'+'\x20\x20\x20var\x20hei'+'ght:\x20f32\x20='+'\x20textureSa'+'mpleBias({'+'STD_HEIGHT'+'_TEXTURE_N'+'AME},\x20{STD'+'_HEIGHT_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_HEIGH'+'T_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_HEIGHT_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'height\x20=\x20h'+'eight\x20*\x20pa'+'rallaxScal'+'e\x20-\x20parall'+'axScale\x20*\x20'+'0.5;\x0a\x20\x20\x20\x20v'+'ar\x20viewDir'+'T:\x20vec3f\x20='+'\x20dViewDirW'+'\x20*\x20dTBN;\x0a\x0a'+'\x20\x20\x20\x20viewDi'+'rT.z\x20=\x20vie'+'wDirT.z\x20+\x20'+'0.42;\x0a\x20\x20\x20\x20'+'dUvOffset\x20'+'=\x20height\x20*'+'\x20(viewDirT'+'.xy\x20/\x20view'+'DirT.z);\x0a}'+'\x0a',tI='\x0auniform\x20m'+'eshInstanc'+'eId:\x20u32;\x0a'+'\x0afn\x20getPic'+'kOutput()\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20let\x20i'+'nv:\x20vec4f\x20'+'=\x20vec4f(1.'+'0\x20/\x20255.0)'+';\x0a\x20\x20\x20\x20let\x20'+'shifts:\x20ve'+'c4u\x20=\x20vec4'+'u(16u,\x208u,'+'\x200u,\x2024u);'+'\x0a\x20\x20\x20\x20let\x20c'+'ol:\x20vec4u\x20'+'=\x20(vec4u(u'+'niform.mes'+'hInstanceI'+'d)\x20>>\x20shif'+'ts)\x20&\x20vec4'+'u(0xffu);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4f(col'+')\x20*\x20inv;\x0a}',sI='\x0afn\x20getRef'+'lDir(world'+'Normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2,\x20tbn:\x20ma'+'t3x3f)\x20{\x0a\x20'+'\x20\x20\x20dReflDi'+'rW\x20=\x20norma'+'lize(-refl'+'ect(viewDi'+'r,\x20worldNo'+'rmal));\x0a}\x0a',iI='\x0afn\x20getRef'+'lDir(world'+'Normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2,\x20tbn:\x20ma'+'t3x3f)\x20{\x0a\x20'+'\x20\x20\x20let\x20rou'+'ghness:\x20f3'+'2\x20=\x20sqrt(1'+'.0\x20-\x20min(g'+'loss,\x201.0)'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20directio'+'n:\x20vec2f\x20='+'\x20dAnisotro'+'pyRotation'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cT:\x20vec3f\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3f(direct'+'ion,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cB:\x20vec3f\x20'+'=\x20normaliz'+'e(cross(tb'+'n[2],\x20anis'+'otropicT))'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20anisotrop'+'y:\x20f32\x20=\x20d'+'Anisotropy'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cDirection'+':\x20vec3f\x20=\x20'+'anisotropi'+'cB;\x0a\x20\x20\x20\x20le'+'t\x20anisotro'+'picTangent'+':\x20vec3f\x20=\x20'+'cross(anis'+'otropicDir'+'ection,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20let\x20anis'+'otropicNor'+'mal:\x20vec3f'+'\x20=\x20cross(a'+'nisotropic'+'Tangent,\x20a'+'nisotropic'+'Direction)'+';\x0a\x20\x20\x20\x20let\x20'+'bendFactor'+':\x20f32\x20=\x201.'+'0\x20-\x20anisot'+'ropy\x20*\x20(1.'+'0\x20-\x20roughn'+'ess);\x0a\x20\x20\x20\x20'+'let\x20bendFa'+'ctor4:\x20f32'+'\x20=\x20bendFac'+'tor\x20*\x20bend'+'Factor\x20*\x20b'+'endFactor\x20'+'*\x20bendFact'+'or;\x0a\x20\x20\x20\x20le'+'t\x20bentNorm'+'al:\x20vec3f\x20'+'=\x20normaliz'+'e(mix(norm'+'alize(anis'+'otropicNor'+'mal),\x20norm'+'alize(worl'+'dNormal),\x20'+'bendFactor'+'4));\x0a\x20\x20\x20\x20d'+'ReflDirW\x20='+'\x20reflect(-'+'viewDir,\x20b'+'entNormal)'+';\x0a}',rI='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0afn\x20addRe'+'flectionCC'+'(reflDir:\x20'+'vec3f,\x20glo'+'ss:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20ccRef'+'lection\x20=\x20'+'ccReflecti'+'on\x20+\x20calcR'+'eflection('+'reflDir,\x20g'+'loss);\x0a}\x0a#'+'endif\x0a',aI='\x0avar\x20textu'+'re_cubeMap'+':\x20texture_'+'cube<f32>;'+'\x0avar\x20textu'+'re_cubeMap'+'Sampler:\x20s'+'ampler;\x0aun'+'iform\x20mate'+'rial_refle'+'ctivity:\x20f'+'32;\x0a\x0afn\x20ca'+'lcReflecti'+'on(reflDir'+':\x20vec3f,\x20g'+'loss:\x20f32)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'lookupVec:'+'\x20vec3f\x20=\x20c'+'ubeMapProj'+'ect(reflDi'+'r);\x0a\x20\x20\x20\x20lo'+'okupVec.x\x20'+'=\x20lookupVe'+'c.x\x20*\x20-1.0'+';\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(textureS'+'ample(text'+'ure_cubeMa'+'p,\x20texture'+'_cubeMapSa'+'mpler,\x20loo'+'kupVec));\x0a'+'}\x0a\x0afn\x20addR'+'eflection('+'reflDir:\x20v'+'ec3f,\x20glos'+'s:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20dR'+'eflection\x20'+'+\x20vec4f(ca'+'lcReflecti'+'on(reflDir'+',\x20gloss),\x20'+'uniform.ma'+'terial_ref'+'lectivity)'+';\x0a}\x0a',nI='\x0a#ifndef\x20E'+'NV_ATLAS\x0a\x20'+'\x20\x20\x20#define'+'\x20ENV_ATLAS'+'\x0a\x20\x20\x20\x20var\x20t'+'exture_env'+'Atlas:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20texture_'+'envAtlasSa'+'mpler:\x20sam'+'pler;\x0a#end'+'if\x0a\x0avar\x20te'+'xture_cube'+'Map:\x20textu'+'re_cube<f3'+'2>;\x0avar\x20te'+'xture_cube'+'MapSampler'+':\x20sampler;'+'\x0auniform\x20m'+'aterial_re'+'flectivity'+':\x20f32;\x0a\x0afn'+'\x20calcRefle'+'ction(refl'+'Dir:\x20vec3f'+',\x20gloss:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20dir:\x20ve'+'c3f\x20=\x20cube'+'MapProject'+'(reflDir)\x20'+'*\x20vec3f(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20uv:\x20vec'+'2f\x20=\x20toSph'+'ericalUv(d'+'ir);\x0a\x0a\x20\x20\x20\x20'+'//\x20calcula'+'te\x20roughne'+'ss\x20level\x0a\x20'+'\x20\x20\x20let\x20lev'+'el:\x20f32\x20=\x20'+'saturate(1'+'.0\x20-\x20gloss'+')\x20*\x205.0;\x0a\x20'+'\x20\x20\x20let\x20ile'+'vel:\x20f32\x20='+'\x20floor(lev'+'el);\x0a\x20\x20\x20\x20l'+'et\x20flevel:'+'\x20f32\x20=\x20lev'+'el\x20-\x20ileve'+'l;\x0a\x0a\x20\x20\x20\x20le'+'t\x20sharp:\x20v'+'ec3f\x20=\x20{re'+'flectionCu'+'bemapDecod'+'e}(texture'+'Sample(tex'+'ture_cubeM'+'ap,\x20textur'+'e_cubeMapS'+'ampler,\x20di'+'r));\x0a\x20\x20\x20\x20l'+'et\x20roughA:'+'\x20vec3f\x20=\x20{'+'reflection'+'Decode}(te'+'xtureSampl'+'e(texture_'+'envAtlas,\x20'+'texture_en'+'vAtlasSamp'+'ler,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+')));\x0a\x20\x20\x20\x20l'+'et\x20roughB:'+'\x20vec3f\x20=\x20{'+'reflection'+'Decode}(te'+'xtureSampl'+'e(texture_'+'envAtlas,\x20'+'texture_en'+'vAtlasSamp'+'ler,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+'\x20+\x201.0)));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20process'+'Environmen'+'t(mix(shar'+'p,\x20mix(rou'+('ghA,\x20rough'+'B,\x20flevel)'+',\x20min(leve'+'l,\x201.0)));'+'\x0a}\x0a\x0afn\x20add'+'Reflection'+'(reflDir:\x20'+'vec3f,\x20glo'+'ss:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20=\x20d'+'Reflection'+'\x20+\x20vec4f(c'+'alcReflect'+'ion(reflDi'+'r,\x20gloss),'+'\x20uniform.m'+'aterial_re'+'flectivity'+');\x0a}\x0a'),oI='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0a\x20\x20\x20'+'\x20var\x20textu'+'re_envAtla'+'s:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20te'+'xture_envA'+'tlasSample'+'r:\x20sampler'+';\x0a#endif\x0au'+'niform\x20mat'+'erial_refl'+'ectivity:\x20'+'f32;\x0a\x0a//\x20c'+'alculate\x20m'+'ip\x20level\x20f'+'or\x20shiny\x20r'+'eflection\x20'+'given\x20equi'+'rect\x20coord'+'s\x20uv.\x0afn\x20s'+'hinyMipLev'+'el(uv:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20dx:\x20vec2f'+'\x20=\x20dpdx(uv'+');\x0a\x20\x20\x20\x20let'+'\x20dy:\x20vec2f'+'\x20=\x20dpdy(uv'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20second\x20dF'+'\x20at\x20180\x20de'+'grees\x0a\x20\x20\x20\x20'+'let\x20uv2:\x20v'+'ec2f\x20=\x20vec'+'2f(fract(u'+'v.x\x20+\x200.5)'+',\x20uv.y);\x0a\x20'+'\x20\x20\x20let\x20dx2'+':\x20vec2f\x20=\x20'+'dpdx(uv2);'+'\x0a\x20\x20\x20\x20let\x20d'+'y2:\x20vec2f\x20'+'=\x20dpdy(uv2'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20min\x20of\x20bo'+'th\x20sets\x20of'+'\x20dF\x20to\x20han'+'dle\x20discon'+'tinuity\x20at'+'\x20the\x20azim\x20'+'edge\x0a\x20\x20\x20\x20l'+'et\x20maxd:\x20f'+'32\x20=\x20min(m'+'ax(dot(dx,'+'\x20dx),\x20dot('+'dy,\x20dy)),\x20'+'max(dot(dx'+'2,\x20dx2),\x20d'+'ot(dy2,\x20dy'+'2)));\x0a\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(0.5\x20*\x20'+'log2(maxd)'+'\x20-\x201.0\x20+\x20u'+'niform.tex'+'tureBias,\x20'+'0.0,\x205.0);'+'\x0a}\x0a\x0afn\x20cal'+'cReflectio'+'n(reflDir:'+'\x20vec3f,\x20gl'+'oss:\x20f32)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20d'+'ir:\x20vec3f\x20'+'=\x20cubeMapP'+'roject(ref'+'lDir)\x20*\x20ve'+'c3f(-1.0,\x20'+'1.0,\x201.0);'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20toSpheric'+'alUv(dir);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20r'+'oughness\x20l'+'evel\x0a\x20\x20\x20\x20l'+'et\x20level:\x20'+'f32\x20=\x20satu'+'rate(1.0\x20-'+'\x20gloss)\x20*\x20'+'5.0;\x0a\x20\x20\x20\x20l'+('et\x20ilevel:'+'\x20f32\x20=\x20flo'+'or(level);'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'ccessing\x20t'+'he\x20shiny\x20('+'top\x20level)'+'\x20reflectio'+'n\x20-\x20perfor'+'m\x20manual\x20m'+'ipmap\x20look'+'up\x0a\x20\x20\x20\x20let'+'\x20level2:\x20f'+'32\x20=\x20shiny'+'MipLevel(u'+'v\x20*\x20atlasS'+'ize);\x0a\x20\x20\x20\x20'+'let\x20ilevel'+'2:\x20f32\x20=\x20f'+'loor(level'+'2);\x0a\x0a\x20\x20\x20\x20v'+'ar\x20uv0:\x20ve'+'c2f;\x0a\x20\x20\x20\x20v'+'ar\x20uv1:\x20ve'+'c2f;\x0a\x20\x20\x20\x20v'+'ar\x20weight:'+'\x20f32;\x0a\x20\x20\x20\x20'+'if\x20(ilevel'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v0\x20=\x20mapSh'+'inyUv(uv,\x20'+'ilevel2);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'1\x20=\x20mapShi'+'nyUv(uv,\x20i'+'level2\x20+\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20weight\x20'+'=\x20level2\x20-'+'\x20ilevel2;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20access'+'ing\x20rough\x20'+'reflection'+'\x20-\x20just\x20sa'+'mple\x20the\x20s'+'ame\x20part\x20t'+'wice\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv0\x20=\x20m'+'apRoughnes'+'sUv(uv,\x20il'+'evel);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv1\x20='+'\x20uv0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20weight'+'\x20=\x200.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20l'+'et\x20linearA'+':\x20vec3f\x20=\x20'+'{reflectio'+'nDecode}(t'+'extureSamp'+'le(texture'+'_envAtlas,'+'\x20texture_e'+'nvAtlasSam'+'pler,\x20uv0)'+');\x0a\x20\x20\x20\x20let'+'\x20linearB:\x20'+'vec3f\x20=\x20{r'+'eflectionD'+'ecode}(tex'+'tureSample'+'(texture_e'+'nvAtlas,\x20t'+'exture_env'+'AtlasSampl'+'er,\x20uv1));'+'\x0a\x20\x20\x20\x20let\x20l'+'inear0:\x20ve'+'c3f\x20=\x20mix('+'linearA,\x20l'+'inearB,\x20we'+'ight);\x0a\x20\x20\x20'+'\x20let\x20linea'+'r1:\x20vec3f\x20'+'=\x20{reflect'+'ionDecode}'+'(textureSa'+'mple(textu'+'re_envAtla'+'s,\x20texture'+'_envAtlasS'+'ampler,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r')+('eturn\x20proc'+'essEnviron'+'ment(mix(l'+'inear0,\x20li'+'near1,\x20lev'+'el\x20-\x20ileve'+'l));\x0a}\x0a\x0afn'+'\x20addReflec'+'tion(reflD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2)\x20{\x0a\x20\x20\x20\x20d'+'Reflection'+'\x20=\x20dReflec'+'tion\x20+\x20vec'+'4f(calcRef'+'lection(re'+'flDir,\x20glo'+'ss),\x20unifo'+'rm.materia'+'l_reflecti'+'vity);\x0a}\x0a'),lI='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20matri'+'x_view:\x20ma'+'t4x4f;\x0a#en'+'dif\x0a\x0avar\x20t'+'exture_sph'+'ereMap:\x20te'+'xture_2d<f'+'32>;\x0avar\x20t'+'exture_sph'+'ereMapSamp'+'ler:\x20sampl'+'er;\x0aunifor'+'m\x20material'+'_reflectiv'+'ity:\x20f32;\x0a'+'\x0afn\x20calcRe'+'flection(r'+'eflDir:\x20ve'+'c3f,\x20gloss'+':\x20f32)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20view'+'RotationMa'+'trix\x20=\x20mat'+'3x3f(unifo'+'rm.matrix_'+'view[0].xy'+'z,\x20uniform'+'.matrix_vi'+'ew[1].xyz,'+'\x20uniform.m'+'atrix_view'+'[2].xyz);\x0a'+'\x20\x20\x20\x20let\x20re'+'flDirV:\x20ve'+'c3f\x20=\x20view'+'RotationMa'+'trix\x20*\x20ref'+'lDir;\x0a\x0a\x20\x20\x20'+'\x20let\x20m:\x20f3'+'2\x20=\x202.0\x20*\x20'+'sqrt(dot(r'+'eflDirV.xy'+',\x20reflDirV'+'.xy)\x20+\x20(re'+'flDirV.z\x20+'+'\x201.0)\x20*\x20(r'+'eflDirV.z\x20'+'+\x201.0));\x0a\x20'+'\x20\x20\x20let\x20sph'+'ereMapUv:\x20'+'vec2f\x20=\x20re'+'flDirV.xy\x20'+'/\x20m\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(textureS'+'ample(text'+'ure_sphere'+'Map,\x20textu'+'re_sphereM'+'apSampler,'+'\x20sphereMap'+'Uv));\x0a}\x0a\x0af'+'n\x20addRefle'+'ction(refl'+'Dir:\x20vec3f'+',\x20gloss:\x20f'+'32)\x20{\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20dRefle'+'ction\x20+\x20ve'+'c4f(calcRe'+'flection(r'+'eflDir,\x20gl'+'oss),\x20unif'+'orm.materi'+'al_reflect'+'ivity);\x0a}\x0a',cI='\x0a\x0afn\x20addRe'+'flectionSh'+'een(worldN'+'ormal:\x20vec'+'3f,\x20viewDi'+'r:\x20vec3f,\x20'+'gloss:\x20f32'+')\x20{\x0a\x20\x20\x20\x20le'+'t\x20NoV:\x20f32'+'\x20=\x20dot(wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20let\x20al'+'phaG:\x20f32\x20'+'=\x20gloss\x20*\x20'+'gloss;\x0a\x0a\x20\x20'+'\x20\x20//\x20Avoid'+'\x20using\x20a\x20L'+'UT\x20and\x20app'+'roximate\x20t'+'he\x20values\x20'+'analytical'+'ly\x0a\x20\x20\x20\x20let'+'\x20a:\x20f32\x20=\x20'+'select(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20-339.2\x20*'+'\x20alphaG\x20+\x20'+'161.4\x20*\x20gl'+'oss\x20-\x2025.9'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gloss\x20<\x200.'+'25\x0a\x20\x20\x20\x20);\x0a'+'\x20\x20\x20\x20let\x20b:'+'\x20f32\x20=\x20sel'+'ect(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.97\x20*\x20'+'alphaG\x20-\x203'+'.27\x20*\x20glos'+'s\x20+\x200.72,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x2044'+'.0\x20*\x20alpha'+'G\x20-\x2023.7\x20*'+'\x20gloss\x20+\x203'+'.26,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss\x20<'+'\x200.25\x0a\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20let'+'\x20dg_add:\x20f'+'32\x20=\x20selec'+'t(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x200.1\x20*\x20(\x20g'+'loss\x20-\x200.2'+'5\x20),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x200.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20glos'+'s\x20<\x200.25\x0a\x20'+'\x20\x20\x20);\x0a\x20\x20\x20\x20'+'let\x20dg:\x20f3'+'2\x20=\x20exp(\x20a'+'\x20*\x20NoV\x20+\x20b'+'\x20)\x20+\x20dg_ad'+'d;\x0a\x20\x20\x20\x20sRe'+'flection\x20='+'\x20sReflecti'+'on\x20+\x20(calc'+'Reflection'+'(worldNorm'+'al,\x200.0)\x20*'+'\x20saturate('+'dg));\x0a}',hI='\x0afn\x20refrac'+'t2(viewVec'+':\x20vec3f,\x20n'+'ormal:\x20vec'+'3f,\x20IOR:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20vn:\x20f32'+'\x20=\x20dot(vie'+'wVec,\x20norm'+'al);\x0a\x20\x20\x20\x20l'+'et\x20k:\x20f32\x20'+'=\x201.0\x20-\x20IO'+'R\x20*\x20IOR\x20*\x20'+'(1.0\x20-\x20vn\x20'+'*\x20vn);\x0a\x20\x20\x20'+'\x20let\x20refrV'+'ec:\x20vec3f\x20'+'=\x20IOR\x20*\x20vi'+'ewVec\x20-\x20(I'+'OR\x20*\x20vn\x20+\x20'+'sqrt(k))\x20*'+'\x20normal;\x0a\x20'+'\x20\x20\x20return\x20'+'refrVec;\x0a}'+'\x0a\x0afn\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20worldN'+'ormal:\x20vec'+'3f,\x0a\x20\x20\x20\x20vi'+'ewDir:\x20vec'+'3f,\x0a\x20\x20\x20\x20th'+'ickness:\x20f'+'32,\x0a\x20\x20\x20\x20gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f,\x0a\x20\x20\x20\x20al'+'bedo:\x20vec3'+'f,\x0a\x20\x20\x20\x20tra'+'nsmission:'+'\x20f32,\x0a\x20\x20\x20\x20'+'refraction'+'Index:\x20f32'+',\x0a\x20\x20\x20\x20disp'+'ersion:\x20f3'+'2\x0a#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20,\x20iri'+'descenceFr'+'esnel:\x20vec'+'3f,\x0a\x20\x20\x20\x20ir'+'idescenceI'+'ntensity:\x20'+'f32\x0a#endif'+'\x0a)\x20{\x0a\x20\x20\x20\x20/'+'/\x20use\x20same'+'\x20reflectio'+'n\x20code\x20wit'+'h\x20refracti'+'on\x20vector\x0a'+'\x20\x20\x20\x20let\x20tm'+'pRefl:\x20vec'+'4f\x20=\x20dRefl'+'ection;\x0a\x20\x20'+'\x20\x20let\x20refl'+'ectionDir:'+'\x20vec3f\x20=\x20r'+'efract2(-v'+'iewDir,\x20wo'+'rldNormal,'+'\x20refractio'+'nIndex);\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4f(0.0);\x0a\x20'+'\x20\x20\x20addRefl'+'ection(ref'+'lectionDir'+',\x20gloss);\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'mix(dDiffu'+'seLight,\x20d'+'Reflection'+'.rgb\x20*\x20alb'+'edo,\x20trans'+'mission);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20tm'+'pRefl;\x0a}\x0a',dI='\x0auniform\x20m'+'aterial_in'+'vAttenuati'+'onDistance'+':\x20f32;\x0auni'+'form\x20mater'+'ial_attenu'+'ation:\x20vec'+'3f;\x0a\x0afn\x20ev'+'alRefracti'+'onColor(re'+'fractionVe'+'ctor:\x20vec3'+'f,\x20gloss:\x20'+'f32,\x20refra'+'ctionIndex'+':\x20f32)\x20->\x20'+'vec3f\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20The\x20'+'refraction'+'\x20point\x20is\x20'+'the\x20entry\x20'+'point\x20+\x20ve'+'ctor\x20to\x20ex'+'it\x20point\x0a\x20'+'\x20\x20\x20let\x20poi'+'ntOfRefrac'+'tion:\x20vec4'+'f\x20=\x20vec4f('+'vPositionW'+'\x20+\x20refract'+'ionVector,'+'\x201.0);\x0a\x0a\x20\x20'+'\x20\x20//\x20Proje'+'ct\x20to\x20text'+'ure\x20space\x20'+'so\x20we\x20can\x20'+'sample\x20it\x0a'+'\x20\x20\x20\x20let\x20pr'+'ojectionPo'+'int:\x20vec4f'+'\x20=\x20uniform'+'.matrix_vi'+'ewProjecti'+'on\x20*\x20point'+'OfRefracti'+'on;\x0a\x0a\x20\x20\x20\x20/'+'/\x20use\x20buil'+'t-in\x20getGr'+'abScreenPo'+'s\x20function'+'\x20to\x20conver'+'t\x20screen\x20p'+'osition\x20to'+'\x20grab\x20text'+'ure\x20uv\x20coo'+'rds\x0a\x20\x20\x20\x20le'+'t\x20uv:\x20vec2'+'f\x20=\x20getGra'+'bScreenPos'+'(projectio'+'nPoint);\x0a\x0a'+'\x20\x20\x20\x20//\x20Use'+'\x20IOR\x20and\x20r'+'oughness\x20t'+'o\x20select\x20m'+'ip\x0a\x20\x20\x20\x20let'+'\x20iorToRoug'+'hness:\x20f32'+'\x20=\x20(1.0\x20-\x20'+'gloss)\x20*\x20c'+'lamp((1.0\x20'+'/\x20refracti'+'onIndex)\x20*'+'\x202.0\x20-\x202.0'+',\x200.0,\x201.0'+');\x0a\x20\x20\x20\x20let'+'\x20refractio'+'nLod:\x20f32\x20'+'=\x20log2(uni'+'form.uScre'+'enSize.x)\x20'+'*\x20iorToRou'+'ghness;\x0a\x20\x20'+'\x20\x20let\x20refr'+'action:\x20ve'+'c3f\x20=\x20text'+'ureSampleL'+'evel(uScen'+'eColorMap,'+'\x20uSceneCol'+'orMapSampl'+'er,\x20uv,\x20re'+'fractionLo'+'d).rgb;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'refraction'+';\x0a}\x0a\x0afn\x20ad'+'dRefractio'+'n(\x0a\x20\x20\x20\x20wor'+('ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20viewDir:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20thickness'+':\x20f32,\x0a\x20\x20\x20'+'\x20gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20spe'+'cularity:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20albedo:\x20v'+'ec3f,\x0a\x20\x20\x20\x20'+'transmissi'+'on:\x20f32,\x0a\x20'+'\x20\x20\x20refract'+'ionIndex:\x20'+'f32,\x0a\x20\x20\x20\x20d'+'ispersion:'+'\x20f32,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20i'+'ridescence'+'Fresnel:\x20v'+'ec3f,\x0a\x20\x20\x20\x20'+'iridescenc'+'eIntensity'+':\x20f32\x0a#end'+'if\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20Extra'+'ct\x20scale\x20f'+'rom\x20the\x20mo'+'del\x20transf'+'orm\x0a\x20\x20\x20\x20va'+'r\x20modelSca'+'le:\x20vec3f;'+'\x0a\x20\x20\x20\x20model'+'Scale.x\x20=\x20'+'length(uni'+'form.matri'+'x_model[0]'+'.xyz);\x0a\x20\x20\x20'+'\x20modelScal'+'e.y\x20=\x20leng'+'th(uniform'+'.matrix_mo'+'del[1].xyz'+');\x0a\x20\x20\x20\x20mod'+'elScale.z\x20'+'=\x20length(u'+'niform.mat'+'rix_model['+'2].xyz);\x0a\x0a'+'\x20\x20\x20\x20//\x20Cal'+'culate\x20the'+'\x20refractio'+'n\x20vector,\x20'+'scaled\x20by\x20'+'the\x20thickn'+'ess\x20and\x20sc'+'ale\x20of\x20the'+'\x20object\x0a\x20\x20'+'\x20\x20let\x20scal'+'e:\x20vec3f\x20='+'\x20thickness'+'\x20*\x20modelSc'+'ale;\x0a\x20\x20\x20\x20v'+'ar\x20refract'+'ionVector\x20'+'=\x20normaliz'+'e(refract('+'-viewDir,\x20'+'worldNorma'+'l,\x20refract'+'ionIndex))'+'\x20*\x20scale;\x0a'+'\x20\x20\x20\x20var\x20re'+'fraction\x20='+'\x20evalRefra'+'ctionColor'+'(refractio'+'nVector,\x20g'+'loss,\x20refr'+'actionInde'+'x);\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'DISPERSION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20based\x20on'+'\x20the\x20dispe'+'rsion\x20mate'+'rial\x20prope'+'rty,\x20calcu'+'late\x20modif'+'ied\x20refrac'+'tion\x20index'+'\x20values\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20f'+'or\x20R\x20and\x20B'+'\x20channels\x20')+('and\x20evalua'+'te\x20the\x20ref'+'raction\x20co'+'lor\x20for\x20th'+'em.\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20half'+'Spread:\x20f3'+'2\x20=\x20(1.0\x20/'+'\x20refractio'+'nIndex\x20-\x201'+'.0)\x20*\x200.02'+'5\x20*\x20disper'+'sion;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20r'+'efractionI'+'ndexR:\x20f32'+'\x20=\x20refract'+'ionIndex\x20-'+'\x20halfSprea'+'d;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20refractio'+'nVector\x20=\x20'+'normalize('+'refract(-v'+'iewDir,\x20wo'+'rldNormal,'+'\x20refractio'+'nIndexR))\x20'+'*\x20scale;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ref'+'raction.r\x20'+'=\x20evalRefr'+'actionColo'+'r(refracti'+'onVector,\x20'+'gloss,\x20ref'+'ractionInd'+'exR).r;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20refractio'+'nIndexB:\x20f'+'32\x20=\x20refra'+'ctionIndex'+'\x20+\x20halfSpr'+'ead;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20refract'+'ionVector\x20'+'=\x20normaliz'+'e(refract('+'-viewDir,\x20'+'worldNorma'+'l,\x20refract'+'ionIndexB)'+')\x20*\x20scale;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'efraction.'+'b\x20=\x20evalRe'+'fractionCo'+'lor(refrac'+'tionVector'+',\x20gloss,\x20r'+'efractionI'+'ndexB).b;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20T'+'ransmittan'+'ce\x20is\x20our\x20'+'final\x20refr'+'action\x20col'+'or\x0a\x20\x20\x20\x20var'+'\x20transmitt'+'ance:\x20vec3'+'f;\x0a\x20\x20\x20\x20if\x20'+'(uniform.m'+'aterial_in'+'vAttenuati'+'onDistance'+'\x20!=\x200.0)\x0a\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20att'+'enuation:\x20'+'vec3f\x20=\x20-l'+'og(uniform'+'.material_'+'attenuatio'+'n)\x20*\x20unifo'+'rm.materia'+'l_invAtten'+'uationDist'+'ance;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20transm'+'ittance\x20=\x20'+'exp(-atten'+'uation\x20*\x20l'+'ength(refr'+'actionVect'+'or));\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20trans')+('mittance\x20='+'\x20refractio'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20fresnel'+'\x20effect\x20on'+'\x20refractio'+'n\x0a\x20\x20\x20\x20let\x20'+'fresnel:\x20v'+'ec3f\x20=\x20vec'+'3f(1.0)\x20-\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view'+'Dir,\x20world'+'Normal),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'specularit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20iride'+'scenceInte'+'nsity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20dDif'+'fuseLight\x20'+'=\x20mix(dDif'+'fuseLight,'+'\x20refractio'+'n\x20*\x20transm'+'ittance\x20*\x20'+'fresnel,\x20t'+'ransmissio'+'n);\x0a}\x0a'),fI='\x0a\x0avarying\x20'+'vUv0:\x20vec2'+'f;\x0a\x0a#ifdef'+'\x20CUBEMAP_S'+'OURCE\x0a\x20\x20\x20\x20'+'var\x20source'+'Cube:\x20text'+'ure_cube<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20sourceC'+'ubeSampler'+'\x20:\x20sampler'+';\x0a#else\x0a\x20\x20'+'\x20\x20var\x20sour'+'ceTex:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20sourceTe'+'xSampler\x20:'+'\x20sampler;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20//\x20sa'+'mples\x0a\x20\x20\x20\x20'+'var\x20sample'+'sTex:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20samplesTe'+'xSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20samplesT'+'exInverseS'+'ize:\x20vec2f'+';\x0a#endif\x0a\x0a'+'//\x20params:'+'\x0a//\x20x\x20-\x20ta'+'rget\x20cubem'+'ap\x20face\x200.'+'.6\x0a//\x20y\x20-\x20'+'target\x20ima'+'ge\x20total\x20p'+'ixels\x0a//\x20z'+'\x20-\x20source\x20'+'cubemap\x20si'+'ze\x0auniform'+'\x20params:\x20v'+'ec3f;\x0a\x0afn\x20'+'targetFace'+'()\x20->\x20f32\x20'+'{\x20return\x20u'+'niform.par'+'ams.x;\x20}\x0af'+'n\x20targetTo'+'talPixels('+')\x20->\x20f32\x20{'+'\x20return\x20un'+'iform.para'+'ms.y;\x20}\x0afn'+'\x20sourceTot'+'alPixels()'+'\x20->\x20f32\x20{\x20'+'return\x20uni'+'form.param'+'s.z;\x20}\x0a\x0aco'+'nst\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x0afn\x20sat'+'urate(x:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22enc'+'odePS\x22\x0a\x0a//'+'--\x20support'+'ed\x20project'+'ions\x0a\x0afn\x20m'+'odifySeams'+'(dir:\x20vec3'+'f,\x20scale:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20adir\x20='+'\x20abs(dir);'+'\x0a\x20\x20\x20\x20let\x20M'+'\x20=\x20max(max'+'(adir.x,\x20a'+'dir.y),\x20ad'+'ir.z);\x0a\x20\x20\x20'+'\x20return\x20di'+'r\x20/\x20M\x20*\x20ve'+'c3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20select('+('scale,\x201.0'+',\x20adir.x\x20='+'=\x20M),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20select'+'(scale,\x201.'+'0,\x20adir.y\x20'+'==\x20M),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20selec'+'t(scale,\x201'+'.0,\x20adir.z'+'\x20==\x20M)\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0afn\x20'+'toSpherica'+'l(dir:\x20vec'+'3f)\x20->\x20vec'+'2f\x20{\x0a\x20\x20\x20\x20l'+'et\x20nonZero'+'XZ\x20=\x20any(d'+'ir.xz\x20!=\x20v'+'ec2f(0.0,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20return\x20ve'+'c2f(select'+'(0.0,\x20atan'+'2(dir.x,\x20d'+'ir.z),\x20non'+'ZeroXZ),\x20a'+'sin(dir.y)'+');\x0a}\x0a\x0afn\x20f'+'romSpheric'+'al(uv:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20vec3'+'f(cos(uv.y'+')\x20*\x20sin(uv'+'.x),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sin(uv.y)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'s(uv.y)\x20*\x20'+'cos(uv.x))'+';\x0a}\x0a\x0afn\x20ge'+'tDirection'+'Equirect(u'+'v:\x20vec2f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20fromSphe'+'rical((vec'+'2f(uv.x,\x201'+'.0\x20-\x20uv.y)'+'\x20*\x202.0\x20-\x201'+'.0)\x20*\x20vec2'+'f(PI,\x20PI\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20octahe'+'dral\x20code,'+'\x20based\x20on\x20'+'https://jc'+'gt.org/pub'+'lished/000'+'3/02/01/\x0a/'+'/\x20\x22Survey\x20'+'of\x20Efficie'+'nt\x20Represe'+'ntations\x20f'+'or\x20Indepen'+'dent\x20Unit\x20'+'Vectors\x22\x20b'+'y\x20Cigolle,'+'\x20Donow,\x20Ev'+'angelakos,'+'\x20Mara,\x20McG'+'uire,\x20Meye'+'r\x0a\x0afn\x20sign'+'NotZero(k:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20sele'+'ct(-1.0,\x201'+'.0,\x20k\x20>=\x200'+'.0);\x0a}\x0a\x0afn'+'\x20signNotZe'+'roVec2(v:\x20'+'vec2f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec2f(signN'+'otZero(v.x'+'),\x20signNot'+'Zero(v.y))'+';\x0a}\x0a\x0a//\x20Re'+'turns\x20a\x20un'+'it\x20vector.'+'\x20Argument\x20'+'o\x20is\x20an\x20oc'+'tahedral\x20v'+'ector\x20pack')+('ed\x20via\x20oct'+'Encode,\x20on'+'\x20the\x20[-1,\x20'+'+1]\x20square'+'\x0afn\x20octDec'+'ode(o:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20v\x20=\x20vec'+'3f(o.x,\x201.'+'0\x20-\x20abs(o.'+'x)\x20-\x20abs(o'+'.y),\x20o.y);'+'\x0a\x20\x20\x20\x20if\x20(v'+'.y\x20<\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20temp:\x20'+'vec2f\x20=\x20(1'+'.0\x20-\x20abs(v'+'.zx))\x20*\x20si'+'gnNotZeroV'+'ec2(v.xz);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'\x20=\x20vec3f(t'+'emp.x,\x20v.y'+',\x20temp.y);'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20no'+'rmalize(v)'+';\x0a}\x0a\x0afn\x20ge'+'tDirection'+'Octahedral'+'(uv:\x20vec2f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20octDec'+'ode(vec2f('+'uv.x,\x201.0\x20'+'-\x20uv.y)\x20*\x20'+'2.0\x20-\x201.0)'+';\x0a}\x0a\x0a//\x20As'+'sumes\x20that'+'\x20v\x20is\x20a\x20un'+'it\x20vector.'+'\x20The\x20resul'+'t\x20is\x20an\x20oc'+'tahedral\x20v'+'ector\x20on\x20t'+'he\x20[-1,\x20+1'+']\x20square\x0af'+'n\x20octEncod'+'e(v:\x20vec3f'+')\x20->\x20vec2f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20l1norm\x20=\x20'+'abs(v.x)\x20+'+'\x20abs(v.y)\x20'+'+\x20abs(v.z)'+';\x0a\x20\x20\x20\x20var\x20'+'result\x20=\x20v'+'.xz\x20*\x20(1.0'+'\x20/\x20l1norm)'+';\x0a\x20\x20\x20\x20if\x20('+'v.y\x20<\x200.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20result\x20=\x20'+'(1.0\x20-\x20abs'+'(result.yx'+'))\x20*\x20signN'+'otZeroVec2'+'(result.xy'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'+'\x0a/////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'\x0a\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20fn'+'\x20sampleCub'+'emapDir(di'+'r:\x20vec3f)\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20text'+'ureSample('+'sourceCube'+',\x20sourceCu'+'beSampler,'+'\x20modifySea'+'ms(dir,\x201.'+'0));\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20s'+'ampleCubem'+'apSph(sph:')+('\x20vec2f)\x20->'+'\x20vec4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20sample'+'CubemapDir'+'(fromSpher'+'ical(sph))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20samp'+'leCubemapD'+'irLod(dir:'+'\x20vec3f,\x20mi'+'pLevel:\x20f3'+'2)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'extureSamp'+'leLevel(so'+'urceCube,\x20'+'sourceCube'+'Sampler,\x20m'+'odifySeams'+'(dir,\x201.0)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleCubemap'+'SphLod(sph'+':\x20vec2f,\x20m'+'ipLevel:\x20f'+'32)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'sampleCube'+'mapDirLod('+'fromSpheri'+'cal(sph),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a#el'+'se\x0a\x0a\x20\x20\x20\x20fn'+'\x20sampleEqu'+'irectSph(s'+'ph:\x20vec2f)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20uv\x20=\x20s'+'ph\x20/\x20vec2f'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'tureSample'+'(sourceTex'+',\x20sourceTe'+'xSampler,\x20'+'vec2f(uv.x'+',\x201.0\x20-\x20uv'+'.y));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20fn\x20'+'sampleEqui'+'rectDir(di'+'r:\x20vec3f)\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leEquirect'+'Sph(toSphe'+'rical(dir)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleEquirec'+'tSphLod(sp'+'h:\x20vec2f,\x20'+'mipLevel:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20uv'+'\x20=\x20sph\x20/\x20v'+'ec2f(PI\x20*\x20'+'2.0,\x20PI)\x20+'+'\x200.5;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20textureSa'+'mpleLevel('+'sourceTex,'+'\x20sourceTex'+'Sampler,\x20v'+'ec2f(uv.x,'+'\x201.0\x20-\x20uv.'+'y),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20s'+'ampleEquir'+'ectDirLod('+'dir:\x20vec3f'+',\x20mipLevel'+':\x20f32)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleE')+('quirectSph'+'Lod(toSphe'+'rical(dir)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleOctahed'+'ralDir(dir'+':\x20vec3f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20uv\x20=\x20oct'+'Encode(dir'+')\x20*\x200.5\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'textureSam'+'ple(source'+'Tex,\x20sourc'+'eTexSample'+'r,\x20vec2f(u'+'v.x,\x201.0\x20-'+'\x20uv.y));\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'fn\x20sampleO'+'ctahedralS'+'ph(sph:\x20ve'+'c2f)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleOct'+'ahedralDir'+'(fromSpher'+'ical(sph))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20samp'+'leOctahedr'+'alDirLod(d'+'ir:\x20vec3f,'+'\x20mipLevel:'+'\x20f32)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20u'+'v\x20=\x20octEnc'+'ode(dir)\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'tureSample'+'Level(sour'+'ceTex,\x20sou'+'rceTexSamp'+'ler,\x20vec2f'+'(uv.x,\x201.0'+'\x20-\x20uv.y),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20fn\x20sampl'+'eOctahedra'+'lSphLod(sp'+'h:\x20vec2f,\x20'+'mipLevel:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleOct'+'ahedralDir'+'Lod(fromSp'+'herical(sp'+'h),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a#endif\x0a\x0a'+'fn\x20getDire'+'ctionCubem'+'ap(uv:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20st\x20=\x20uv'+'\x20*\x202.0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20le'+'t\x20face\x20=\x20t'+'argetFace('+');\x0a\x0a\x20\x20\x20\x20va'+'r\x20vec:\x20vec'+'3f;\x0a\x20\x20\x20\x20if'+'\x20(face\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(1,\x20'+'-st.y,\x20-st'+'.x);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x201.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3f(-1,\x20-'+'st.y,\x20st.x'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(fa'+'ce\x20==\x202.0)')+('\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec\x20=\x20vec'+'3f(st.x,\x201'+',\x20st.y);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(face\x20='+'=\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'\x20=\x20vec3f(s'+'t.x,\x20-1,\x20-'+'st.y);\x0a\x20\x20\x20'+'\x20}\x20else\x20if'+'\x20(face\x20==\x20'+'4.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(st.'+'x,\x20-st.y,\x20'+'1);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(-st'+'.x,\x20-st.y,'+'\x20-1);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20normal'+'ize(modify'+'Seams(vec,'+'\x201.0));\x0a}\x0a'+'\x0afn\x20matrix'+'FromVector'+'(n:\x20vec3f)'+'\x20->\x20mat3x3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20a\x20=\x201.0\x20'+'/\x20(1.0\x20+\x20n'+'.z);\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20-n.'+'x\x20*\x20n.y\x20*\x20'+'a;\x0a\x20\x20\x20\x20let'+'\x20b1\x20=\x20vec3'+'f(1.0\x20-\x20n.'+'x\x20*\x20n.x\x20*\x20'+'a,\x20b,\x20-n.x'+');\x0a\x20\x20\x20\x20let'+'\x20b2\x20=\x20vec3'+'f(b,\x201.0\x20-'+'\x20n.y\x20*\x20n.y'+'\x20*\x20a,\x20-n.y'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mat3x3'+'f(b1,\x20b2,\x20'+'n);\x0a}\x0a\x0afn\x20'+'matrixFrom'+'VectorSlow'+'(n:\x20vec3f)'+'\x20->\x20mat3x3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20up\x20=\x20sel'+'ect(vec3f('+'0.0,\x200.0,\x20'+'select(-1.'+'0,\x201.0,\x20n.'+'y\x20>\x200.0)),'+'\x20vec3f(0.0'+',\x201.0,\x200.0'+'),\x20abs(n.y'+')\x20>\x200.0000'+'001);\x0a\x20\x20\x20\x20'+'let\x20x\x20=\x20no'+'rmalize(cr'+'oss(up,\x20n)'+');\x0a\x20\x20\x20\x20let'+'\x20y\x20=\x20cross'+'(n,\x20x);\x0a\x20\x20'+'\x20\x20return\x20m'+'at3x3f(x,\x20'+'y,\x20n);\x0a}\x0a\x0a'+'fn\x20reproje'+'ct(uv:\x20vec'+'2f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20i'+'f\x20({NUM_SA'+'MPLES}\x20<=\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20sing'+'le\x20sample\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}({'+'DECODE_FUN'+'C}({SOURCE'+'_FUNC}Dir('+'{TARGET_FU'+'NC}(uv))))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20mult'+'i\x20sample\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20t\x20=\x20{TARG')+('ET_FUNC}(u'+'v);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20tu\x20='+'\x20dpdx(t);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20tv\x20=\x20dpd'+'y(t);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20r'+'esult\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fo'+'r\x20(var\x20u\x20='+'\x200.0;\x20u\x20<\x20'+'{NUM_SAMPL'+'ES_SQRT};\x20'+'u\x20+=\x201.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20for\x20(v'+'ar\x20v\x20=\x200.0'+';\x20v\x20<\x20{NUM'+'_SAMPLES_S'+'QRT};\x20v\x20+='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20result'+'\x20+=\x20{DECOD'+'E_FUNC}({S'+'OURCE_FUNC'+'}Dir(norma'+'lize(t\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20t'+'u\x20*\x20(u\x20/\x20{'+'NUM_SAMPLE'+'S_SQRT}\x20-\x20'+'0.5)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20tv\x20'+'*\x20(v\x20/\x20{NU'+'M_SAMPLES_'+'SQRT}\x20-\x200.'+'5))));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20{ENC'+'ODE_FUNC}('+'result\x20/\x20('+'{NUM_SAMPL'+'ES_SQRT}\x20*'+'\x20{NUM_SAMP'+'LES_SQRT})'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a\x0aconst\x20un'+'packFloat:'+'\x20vec4f\x20=\x20v'+'ec4f(1.0,\x20'+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x206'+'5025.0,\x201.'+'0\x20/\x20165813'+'75.0);\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20fn\x20un'+'packSample'+'(i:\x20i32,\x20L'+':\x20ptr<func'+'tion,\x20vec3'+'f>,\x20mipLev'+'el:\x20ptr<fu'+'nction,\x20f3'+'2>)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20u\x20'+'=\x20(f32(i\x20*'+'\x204)\x20+\x200.5)'+'\x20*\x20uniform'+'.samplesTe'+'xInverseSi'+'ze.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20v\x20'+'=\x20(floor(u'+')\x20+\x200.5)\x20*'+'\x20uniform.s'+'amplesTexI'+'nverseSize'+'.y;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20raw'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20raw'+'.x\x20=\x20dot(t'+'extureSamp')+('le(samples'+'Tex,\x20sampl'+'esTexSampl'+'er,\x20vec2f('+'u,\x20v)),\x20un'+'packFloat)'+';\x20u\x20+=\x20uni'+'form.sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ra'+'w.y\x20=\x20dot('+'textureSam'+'ple(sample'+'sTex,\x20samp'+'lesTexSamp'+'ler,\x20vec2f'+'(u,\x20v)),\x20u'+'npackFloat'+');\x20u\x20+=\x20un'+'iform.samp'+'lesTexInve'+'rseSize.x;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'aw.z\x20=\x20dot'+'(textureSa'+'mple(sampl'+'esTex,\x20sam'+'plesTexSam'+'pler,\x20vec2'+'f(u,\x20v)),\x20'+'unpackFloa'+'t);\x20u\x20+=\x20u'+'niform.sam'+'plesTexInv'+'erseSize.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'raw.w\x20=\x20do'+'t(textureS'+'ample(samp'+'lesTex,\x20sa'+'mplesTexSa'+'mpler,\x20vec'+'2f(u,\x20v)),'+'\x20unpackFlo'+'at);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20*L\x20=\x20r'+'aw.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*m'+'ipLevel\x20=\x20'+'raw.w\x20*\x208.'+'0;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20con'+'volve\x20an\x20e'+'nvironment'+'\x20given\x20pre'+'-generated'+'\x20samples\x0a\x20'+'\x20\x20\x20fn\x20pref'+'ilterSampl'+'es(uv:\x20vec'+'2f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cons'+'truct\x20vect'+'or\x20space\x20g'+'iven\x20targe'+'t\x20directio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20vecSpa'+'ce\x20=\x20matri'+'xFromVecto'+'rSlow({TAR'+'GET_FUNC}('+'uv));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20L'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20mipLevel:'+'\x20f32;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20r'+'esult\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(var\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20i\x20+=\x201'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unpa'+'ckSample(i'+',\x20&L,\x20&mip'+'Level);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'result\x20+=\x20'+'{DECODE_FU')+('NC}({SOURC'+'E_FUNC}Dir'+'Lod(vecSpa'+'ce\x20*\x20L,\x20mi'+'pLevel))\x20*'+'\x20L.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20to'+'talWeight\x20'+'+=\x20L.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20{ENCOD'+'E_FUNC}(re'+'sult\x20/\x20tot'+'alWeight);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20unwei'+'ghted\x20vers'+'ion\x20of\x20pre'+'filterSamp'+'les\x0a\x20\x20\x20\x20fn'+'\x20prefilter'+'SamplesUnw'+'eighted(uv'+':\x20vec2f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20construct'+'\x20vector\x20sp'+'ace\x20given\x20'+'target\x20dir'+'ection\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20v'+'ecSpace\x20=\x20'+'matrixFrom'+'VectorSlow'+'({TARGET_F'+'UNC}(uv));'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20L:\x20vec'+'3f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20mipL'+'evel:\x20f32;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20result'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20for\x20(va'+'r\x20i\x20=\x200;\x20i'+'\x20<\x20{NUM_SA'+'MPLES};\x20i\x20'+'+=\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'unpackSamp'+'le(i,\x20&L,\x20'+'&mipLevel)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20result'+'\x20+=\x20{DECOD'+'E_FUNC}({S'+'OURCE_FUNC'+'}DirLod(ve'+'cSpace\x20*\x20L'+',\x20mipLevel'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'{ENCODE_FU'+'NC}(result'+'\x20/\x20f32({NU'+'M_SAMPLES}'+'));\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0a@f'+'ragment\x0afn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x20'+'\x20\x20\x20output.'+'color\x20=\x20{P'+'ROCESS_FUN'+'C}(input.v'+'Uv0);\x0a\x20\x20\x20\x20'+'return\x20out'+'put;\x0a}\x0a'),uI='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0aunifo'+'rm\x20uvMod:\x20'+'vec4f;\x0avar'+'ying\x20vUv0:'+'\x20vec2f;\x0a\x0a@'+'vertex\x0afn\x20'+'vertexMain'+'(input:\x20Ve'+'rtexInput)'+'\x20->\x20Vertex'+'Output\x20{\x0a\x20'+'\x20var\x20outpu'+'t:\x20VertexO'+'utput;\x0a\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(input.v'+'ertex_posi'+'tion,\x200.5,'+'\x201.0);\x0a\x20\x20o'+'utput.vUv0'+'\x20=\x20getImag'+'eEffectUV('+'(input.ver'+'tex_positi'+'on\x20*\x200.5\x20+'+'\x20vec2f(0.5'+',\x200.5))\x20*\x20'+'uniform.uv'+'Mod.xy\x20+\x20u'+'niform.uvM'+'od.zw);\x0a\x20\x20'+'return\x20out'+'put;\x0a}\x0a',pI='\x0a\x0avar\x20uSce'+'neDepthMap'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20uSceneD'+'epthMapSam'+'pler:\x20samp'+'ler;\x0a\x0a#ifn'+'def\x20SCREEN'+'SIZE\x0a\x20\x20\x20\x20#'+'define\x20SCR'+'EENSIZE\x0a\x20\x20'+'\x20\x20uniform\x20'+'uScreenSiz'+'e:\x20vec4f;\x0a'+'#endif\x0a\x0a#i'+'fndef\x20VIEW'+'MATRIX\x0a\x20\x20\x20'+'\x20#define\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20unifor'+'m\x20matrix_v'+'iew:\x20mat4x'+'4f;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a\x20\x20\x20\x20'+'#define\x20LI'+'NEARIZE_DE'+'PTH\x0a\x0a\x20\x20\x20\x20#'+'ifndef\x20CAM'+'ERAPLANES\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20CAME'+'RAPLANES\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20camer'+'a_params:\x20'+'vec4f;\x20//\x20'+'x:\x201\x20/\x20cam'+'era_far,\x20\x20'+'\x20\x20\x20\x20y:\x20cam'+'era_far,\x20\x20'+'\x20\x20\x20z:\x20came'+'ra_near,\x20\x20'+'\x20\x20\x20\x20\x20\x20w:\x20i'+'s_ortho\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20fn\x20lin'+'earizeDept'+'h(z:\x20f32)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uniform.c'+'amera_para'+'ms.w\x20==\x200.'+'0)\x20{\x20//\x20Pe'+'rspective\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20('+'uniform.ca'+'mera_param'+'s.z\x20*\x20unif'+'orm.camera'+'_params.y)'+'\x20/\x20(unifor'+'m.camera_p'+'arams.y\x20+\x20'+'z\x20*\x20(unifo'+'rm.camera_'+'params.z\x20-'+'\x20uniform.c'+'amera_para'+'ms.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20unifor'+'m.camera_p'+'arams.z\x20+\x20'+'z\x20*\x20(unifo'+'rm.camera_'+'params.y\x20-'+'\x20uniform.c'+'amera_para'+'ms.z);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a#endif\x0a'+'\x0afn\x20deline'+'arizeDepth'+'(linearDep'+'th:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20if\x20(unif'+'orm.camera'+'_params.w\x20'+'==\x200.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(unif'+'orm.camera'+('_params.y\x20'+'*\x20(uniform'+'.camera_pa'+'rams.z\x20-\x20l'+'inearDepth'+'))\x20/\x20(line'+'arDepth\x20*\x20'+'(uniform.c'+'amera_para'+'ms.z\x20-\x20uni'+'form.camer'+'a_params.y'+'));\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20(linearD'+'epth\x20-\x20uni'+'form.camer'+'a_params.z'+')\x20/\x20(unifo'+'rm.camera_'+'params.y\x20-'+'\x20uniform.c'+'amera_para'+'ms.z);\x0a\x20\x20\x20'+'\x20}\x0a}\x0a\x0a//\x20R'+'etrieves\x20r'+'endered\x20li'+'near\x20camer'+'a\x20depth\x20by'+'\x20UV\x0afn\x20get'+'LinearScre'+'enDepth(uv'+':\x20vec2f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'CENE_DEPTH'+'MAP_LINEAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SCEN'+'E_DEPTHMAP'+'_FLOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20text'+'ureSample('+'uSceneDept'+'hMap,\x20uSce'+'neDepthMap'+'Sampler,\x20u'+'v).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20tex'+'tureSize\x20='+'\x20textureDi'+'mensions(u'+'SceneDepth'+'Map,\x200);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20texel'+':\x20vec2i\x20=\x20'+'vec2i(uv\x20*'+'\x20vec2f(tex'+'tureSize))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20da'+'ta:\x20vec4f\x20'+'=\x20textureL'+'oad(uScene'+'DepthMap,\x20'+'texel,\x200);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20da'+'ta_u32:\x20ve'+'c4u\x20=\x20vec4'+'u(data\x20*\x202'+'55.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20intBits'+':\x20u32\x20=\x20(d'+'ata_u32.r\x20'+'<<\x2024u)\x20|\x20'+'(data_u32.'+'g\x20<<\x2016u)\x20'+'|\x20(data_u3'+'2.b\x20<<\x208u)'+'\x20|\x20data_u3'+'2.a;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20bitca'+'st<f32>(in'+'tBits);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20l'+'inearizeDe'+'pth(textur'+'eSample(uS'+'ceneDepthM')+('ap,\x20uScene'+'DepthMapSa'+'mpler,\x20uv)'+'.r);\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a\x0a#'+'ifndef\x20VER'+'TEXSHADER\x0a'+'\x20\x20\x20\x20//\x20Ret'+'rieves\x20ren'+'dered\x20line'+'ar\x20camera\x20'+'depth\x20unde'+'r\x20the\x20curr'+'ent\x20pixel\x0a'+'\x20\x20\x20\x20fn\x20get'+'LinearScre'+'enDepthFra'+'g()\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20pcP'+'osition.xy'+'\x20*\x20uniform'+'.uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getLinea'+'rScreenDep'+'th(uv);\x0a\x20\x20'+'\x20\x20}\x0a#endif'+'\x0a\x0a//\x20Gener'+'ates\x20linea'+'r\x20camera\x20d'+'epth\x20for\x20t'+'he\x20given\x20w'+'orld\x20posit'+'ion\x0afn\x20get'+'LinearDept'+'h(pos:\x20vec'+'3f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20-(unif'+'orm.matrix'+'_view\x20*\x20ve'+'c4f(pos,\x201'+'.0)).z;\x0a}\x0a'),mI='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x0afn'+'\x20getShadow'+'CascadeInd'+'ex(shadowC'+'ascadeDist'+'ances:\x20vec'+'4f,\x20shadow'+'CascadeCou'+'nt:\x20i32)\x20-'+'>\x20i32\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20dept'+'h\x20in\x200\x20..\x20'+'far\x20plane\x20'+'range\x0a\x20\x20\x20\x20'+'let\x20depth:'+'\x20f32\x20=\x201.0'+'\x20/\x20pcPosit'+'ion.w;\x0a\x0a\x20\x20'+'\x20\x20//\x201.0\x20i'+'f\x20depth\x20>='+'\x20distance,'+'\x200.0\x20other'+'wise\x0a\x20\x20\x20\x20l'+'et\x20compari'+'sons:\x20vec4'+'f\x20=\x20step(s'+'hadowCasca'+'deDistance'+'s,\x20vec4f(d'+'epth));\x0a\x0a\x20'+'\x20\x20\x20//\x20sum\x20'+'is\x20the\x20ind'+'ex\x0a\x20\x20\x20\x20let'+'\x20cascadeIn'+'dex:\x20i32\x20='+'\x20i32(dot(c'+'omparisons'+',\x20vec4f(1.'+'0)));\x0a\x0a\x20\x20\x20'+'\x20//\x20limit\x20'+'to\x20actual\x20'+'number\x20of\x20'+'used\x20casca'+'des\x0a\x20\x20\x20\x20re'+'turn\x20min(c'+'ascadeInde'+'x,\x20shadowC'+'ascadeCoun'+'t\x20-\x201);\x0a}\x0a'+'\x0a//\x20functi'+'on\x20which\x20m'+'odifies\x20ca'+'scade\x20inde'+'x\x20to\x20dithe'+'r\x20between\x20'+'cascades\x0af'+'n\x20ditherSh'+'adowCascad'+'eIndex(cas'+'cadeIndex_'+'in:\x20i32,\x20s'+'hadowCasca'+'deDistance'+'s:\x20vec4f,\x20'+'shadowCasc'+'adeCount:\x20'+'i32,\x20blend'+'Factor:\x20f3'+'2)\x20->\x20i32\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'Use\x20var\x20as'+'\x20cascadeIn'+'dex\x20might\x20'+'be\x20modifie'+'d\x0a\x20\x20\x20\x20var\x20'+'cascadeInd'+'ex:\x20i32\x20=\x20'+'cascadeInd'+'ex_in;\x0a\x20\x20\x20'+'\x20if\x20(casca'+'deIndex\x20<\x20'+'shadowCasc'+'adeCount\x20-'+'\x201)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20cu'+'rrentRange'+'End:\x20f32\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+('\x20transitio'+'nStart:\x20f3'+'2\x20=\x20blendF'+'actor\x20*\x20cu'+'rrentRange'+'End;\x20//\x20St'+'art\x20overla'+'p\x20factor\x20a'+'way\x20from\x20t'+'he\x20end\x20dis'+'tance\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20de'+'pth:\x20f32\x20='+'\x201.0\x20/\x20pcP'+'osition.w;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(depth\x20'+'>\x20transiti'+'onStart)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20a\x20tr'+'ansition\x20f'+'actor\x20(0.0'+'\x20to\x201.0)\x20w'+'ithin\x20the\x20'+'overlap\x20ra'+'nge\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'transition'+'Factor:\x20f3'+'2\x20=\x20smooth'+'step(trans'+'itionStart'+',\x20currentR'+'angeEnd,\x20d'+'epth);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Add\x20pse'+'udo-random'+'\x20dithering'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20TODO'+':\x20replace\x20'+'by\x20user\x20se'+'lectable\x20d'+'ithering\x20m'+'ethod\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20dither:\x20'+'f32\x20=\x20frac'+'t(sin(dot('+'pcPosition'+'.xy,\x20vec2f'+'(12.9898,\x20'+'78.233)))\x20'+'*\x2043758.54'+'53);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(dither\x20<\x20'+'transition'+'Factor)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20casc'+'adeIndex\x20='+'\x20cascadeIn'+'dex\x20+\x201;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20cascadeIn'+'dex;\x0a}\x0a\x0afn'+'\x20fadeShado'+'w(shadowCo'+'ord_in:\x20ve'+'c3f,\x20shado'+'wCascadeDi'+'stances:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20//\x20if\x20the'+'\x20pixel\x20is\x20'+'past\x20the\x20s'+'hadow\x20dist'+'ance,\x20remo'+'ve\x20shadow\x0a'+'\x20\x20\x20\x20//\x20thi'+'s\x20enforces'+'\x20straight\x20'+'line\x20inste'+'ad\x20of\x20corn'+'er\x20of\x20shad'+'ow\x20which\x20m'+'oves\x20when\x20'+'camera\x20rot'+'ates\x0a\x20\x20\x20\x20v'+'ar\x20shadowC'+'oord:\x20vec3'+'f\x20=\x20shadow')+('Coord_in;\x0a'+'\x20\x20\x20\x20let\x20de'+'pth:\x20f32\x20='+'\x201.0\x20/\x20pcP'+'osition.w;'+'\x0a\x20\x20\x20\x20if\x20(d'+'epth\x20>\x20sha'+'dowCascade'+'Distances.'+'w)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20shadowC'+'oord.z\x20=\x20-'+'9999999.0;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'hadowCoord'+';\x0a}\x0a'),_I='\x0a\x0a//\x20-----'+'-\x20VSM\x20Shar'+'ed\x20------\x0a'+'\x0afn\x20linste'+'p(a:\x20f32,\x20'+'b:\x20f32,\x20v:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20/'+'/\x20WGSL\x20sat'+'urate\x20->\x20c'+'lamp\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p((v\x20-\x20a)\x20'+'/\x20(b\x20-\x20a),'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0afn\x20re'+'duceLightB'+'leeding(pM'+'ax:\x20f32,\x20a'+'mount:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'fn\x20chebysh'+'evUpperBou'+'nd(moments'+':\x20vec2f,\x20m'+'ean:\x20f32,\x20'+'minVarianc'+'e:\x20f32,\x20li'+'ghtBleedin'+'gReduction'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'//\x20Compute'+'\x20variance\x0a'+'\x20\x20\x20\x20var\x20va'+'riance:\x20f3'+'2\x20=\x20moment'+'s.y\x20-\x20(mom'+'ents.x\x20*\x20m'+'oments.x);'+'\x0a\x20\x20\x20\x20varia'+'nce\x20=\x20max('+'variance,\x20'+'minVarianc'+'e);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Compute\x20'+'probabilis'+'tic\x20upper\x20'+'bound\x0a\x20\x20\x20\x20'+'let\x20d:\x20f32'+'\x20=\x20mean\x20-\x20'+'moments.x;'+'\x0a\x20\x20\x20\x20var\x20p'+'Max:\x20f32\x20='+'\x20variance\x20'+'/\x20(varianc'+'e\x20+\x20(d\x20*\x20d'+'));\x0a\x0a\x20\x20\x20\x20p'+'Max\x20=\x20redu'+'ceLightBle'+'eding(pMax'+',\x20lightBle'+'edingReduc'+'tion);\x0a\x0a\x20\x20'+'\x20\x20//\x20One-t'+'ailed\x20Cheb'+'yshev\x0a\x20\x20\x20\x20'+'return\x20sel'+'ect(pMax,\x20'+'1.0,\x20mean\x20'+'<=\x20moments'+'.x);\x0a}\x0a\x0afn'+'\x20calculate'+'EVSM(momen'+'ts_in:\x20vec'+'3f,\x20Z_in:\x20'+'f32,\x20vsmBi'+'as:\x20f32,\x20e'+'xponent:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20Z:\x20f32\x20=\x20'+'2.0\x20*\x20Z_in'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20let\x20warp'+'edDepth:\x20f'+'32\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20l'+('et\x20moments'+':\x20vec2f\x20=\x20'+'moments_in'+'.xy\x20+\x20vec2'+'f(warpedDe'+'pth,\x20warpe'+'dDepth*war'+'pedDepth)\x20'+'*\x20(1.0\x20-\x20m'+'oments_in.'+'z);\x0a\x0a\x20\x20\x20\x20l'+'et\x20VSMBias'+':\x20f32\x20=\x20vs'+'mBias;//0.'+'01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20let\x20d'+'epthScale:'+'\x20f32\x20=\x20VSM'+'Bias\x20*\x20exp'+'onent\x20*\x20wa'+'rpedDepth;'+'\x0a\x20\x20\x20\x20let\x20m'+'inVariance'+'1:\x20f32\x20=\x20d'+'epthScale\x20'+'*\x20depthSca'+'le;\x0a\x20\x20\x20\x20re'+'turn\x20cheby'+'shevUpperB'+'ound(momen'+'ts,\x20warped'+'Depth,\x20min'+'Variance1,'+'\x200.1);\x0a}\x0a/'+'/\x20------\x20V'+'SM\x2016\x20----'+'--\x0a\x0afn\x20VSM'+'16(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20texC'+'oords:\x20vec'+'2f,\x20resolu'+'tion:\x20f32,'+'\x20Z:\x20f32,\x20v'+'smBias:\x20f3'+'2,\x20exponen'+'t:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20let\x20momen'+'ts:\x20vec3f\x20'+'=\x20textureS'+'ampleLevel'+'(tex,\x20texS'+'ampler,\x20te'+'xCoords,\x200'+'.0).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'n\x20getShado'+'wVSM16(sha'+'dowMap:\x20te'+'xture_2d<f'+'32>,\x20shado'+'wMapSample'+'r:\x20sampler'+',\x20shadowCo'+'ord:\x20vec3f'+',\x20shadowPa'+'rams:\x20vec4'+'f,\x20exponen'+'t:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20VS'+'M16(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord.xy,\x20s'+'hadowParam'+'s.x,\x20shado'+'wCoord.z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a\x0a'+'fn\x20getShad'+'owSpotVSM1'+'6(shadowMa'+'p:\x20texture'+'_2d<f32>,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler,\x20sha'+'dowCoord:\x20'+'vec3f,\x20sha')+('dowParams:'+'\x20vec4f,\x20ex'+'ponent:\x20f3'+'2,\x20lightDi'+'r:\x20vec3f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20let\x20Z:\x20'+'f32\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20V'+'SM16(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20Z,\x20s'+'hadowParam'+'s.y,\x20expon'+'ent);\x0a}\x0a\x0a/'+'/\x20------\x20V'+'SM\x2032\x20----'+'--\x0a\x0afn\x20VSM'+'32(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20texC'+'oords_in:\x20'+'vec2f,\x20res'+'olution:\x20f'+'32,\x20Z:\x20f32'+',\x20vsmBias:'+'\x20f32,\x20expo'+'nent:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20CAPS_TEX'+'TURE_FLOAT'+'_FILTERABL'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20moment'+'s:\x20vec3f\x20='+'\x20textureSa'+'mpleLevel('+'tex,\x20texSa'+'mpler,\x20tex'+'Coords_in,'+'\x200.0).xyz;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20manual\x20b'+'ilinear\x20fi'+'ltering\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'pixelSize\x20'+':\x20f32\x20=\x201.'+'0\x20/\x20resolu'+'tion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20te'+'xCoords:\x20v'+'ec2f\x20=\x20tex'+'Coords_in\x20'+'-\x20vec2f(pi'+'xelSize);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20s00:\x20vec'+'3f\x20=\x20textu'+'reSampleLe'+'vel(tex,\x20t'+'exSampler,'+'\x20texCoords'+',\x200.0).xyz'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20s10:\x20v'+'ec3f\x20=\x20tex'+'tureSample'+'Level(tex,'+'\x20texSample'+'r,\x20texCoor'+'ds\x20+\x20vec2f'+'(pixelSize'+',\x200.0),\x200.'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'s01:\x20vec3f'+'\x20=\x20texture'+'SampleLeve'+'l(tex,\x20tex'+'Sampler,\x20t'+'exCoords\x20+'+'\x20vec2f(0.0'+',\x20pixelSiz'+'e),\x200.0).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20s11:')+('\x20vec3f\x20=\x20t'+'extureSamp'+'leLevel(te'+'x,\x20texSamp'+'ler,\x20texCo'+'ords\x20+\x20vec'+'2f(pixelSi'+'ze),\x200.0).'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fr:'+'\x20vec2f\x20=\x20f'+'ract(texCo'+'ords\x20*\x20res'+'olution);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20h0:\x20vec3'+'f\x20=\x20mix(s0'+'0,\x20s10,\x20fr'+'.x);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20h1:'+'\x20vec3f\x20=\x20m'+'ix(s01,\x20s1'+'1,\x20fr.x);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20moments:'+'\x20vec3f\x20=\x20m'+'ix(h0,\x20h1,'+'\x20fr.y);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20calculate'+'EVSM(momen'+'ts,\x20Z,\x20vsm'+'Bias,\x20expo'+'nent);\x0a}\x0a\x0a'+'fn\x20getShad'+'owVSM32(sh'+'adowMap:\x20t'+'exture_2d<'+'f32>,\x20shad'+'owMapSampl'+'er:\x20sample'+'r,\x20shadowC'+'oord:\x20vec3'+'f,\x20shadowP'+'arams:\x20vec'+'4f,\x20expone'+'nt:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20V'+'SM32(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afn\x20getSha'+'dowSpotVSM'+'32(shadowM'+'ap:\x20textur'+'e_2d<f32>,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f,\x20e'+'xponent:\x20f'+'32,\x20lightD'+'ir:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20Z:'+'\x20f32\x20=\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20return\x20'+'VSM32(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord.xy,'+'\x20shadowPar'+'ams.x,\x20Z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a'),gI='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afn\x20getS'+'hadowPCF1x'+'1(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec4f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord.xy,'+'\x20shadowCoo'+'rd.z);\x0a}\x0a\x0a'+'fn\x20getShad'+'owSpotPCF1'+'x1(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20textureSa'+'mpleCompar'+'eLevel(sha'+'dowMap,\x20sh'+'adowMapSam'+'pler,\x20shad'+'owCoord.xy'+',\x20shadowCo'+'ord.z);\x0a}\x0a'+'\x0a//\x20-----\x20'+'Omni\x20Sampl'+'ing\x20-----\x0a'+'\x0a//\x20Not\x20su'+'pported\x20on'+'\x20WebGPU\x20de'+'vice\x0a//\x20fn'+'\x20getShadow'+'OmniPCF1x1'+'(shadowMap'+':\x20texture_'+'depth_cube'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f,'+'\x20lightDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a//\x20'+'\x20\x20\x20\x20let\x20sh'+'adowZ:\x20f32'+'\x20=\x20length('+'lightDir)\x20'+'*\x20shadowPa'+'rams.w\x20+\x20s'+'hadowParam'+'s.z;\x0a//\x20\x20\x20'+'\x20\x20return\x20t'+'extureSamp'+'leCompareL'+'evel(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20lightD'+'ir,\x20shadow'+'Z);\x0a//\x20}\x0a',SI='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0afn\x20_getS'+'hadowPCF3x'+'3(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec3f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20let\x20z:\x20'+'f32\x20=\x20shad'+'owCoord.z;'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20shadowCoo'+'rd.xy\x20*\x20sh'+'adowParams'+'.x;\x20//\x201\x20u'+'nit\x20-\x201\x20te'+'xel\x0a\x20\x20\x20\x20le'+'t\x20shadowMa'+'pSizeInv:\x20'+'f32\x20=\x201.0\x20'+'/\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20let\x20base'+'_uv_temp:\x20'+'vec2f\x20=\x20fl'+'oor(uv\x20+\x200'+'.5);\x0a\x20\x20\x20\x20l'+'et\x20s:\x20f32\x20'+'=\x20(uv.x\x20+\x20'+'0.5\x20-\x20base'+'_uv_temp.x'+');\x0a\x20\x20\x20\x20let'+'\x20t:\x20f32\x20=\x20'+'(uv.y\x20+\x200.'+'5\x20-\x20base_u'+'v_temp.y);'+'\x0a\x20\x20\x20\x20let\x20b'+'ase_uv:\x20ve'+'c2f\x20=\x20(bas'+'e_uv_temp\x20'+'-\x20vec2f(0.'+'5))\x20*\x20shad'+'owMapSizeI'+'nv;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20sum:\x20f3'+'2\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20let\x20uw'+'0:\x20f32\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20s);\x0a\x20\x20\x20\x20'+'let\x20uw1:\x20f'+'32\x20=\x20(1.0\x20'+'+\x202.0\x20*\x20s)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20u0_offset'+':\x20f32\x20=\x20(2'+'.0\x20-\x20s)\x20/\x20'+'uw0\x20-\x201.0;'+'\x0a\x20\x20\x20\x20let\x20u'+'1_offset:\x20'+'f32\x20=\x20s\x20/\x20'+'uw1\x20+\x201.0;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'vw0:\x20f32\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t);\x0a\x20\x20'+'\x20\x20let\x20vw1:'+'\x20f32\x20=\x20(1.'+'0\x20+\x202.0\x20*\x20'+'t);\x0a\x0a\x20\x20\x20\x20l'+'et\x20v0_offs'+'et:\x20f32\x20=\x20'+'(2.0\x20-\x20t)\x20'+'/\x20vw0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20let'+'\x20v1_offset'+':\x20f32\x20=\x20t\x20'+'/\x20vw1\x20+\x201.'+'0;\x0a\x0a\x20\x20\x20\x20le'+'t\x20u0:\x20f32\x20'+'=\x20u0_offse'+'t\x20*\x20shadow'+'MapSizeInv'+'\x20+\x20base_uv'+'.x;\x0a\x20\x20\x20\x20le'+'t\x20v0:\x20f32\x20'+'=\x20v0_offse'+'t\x20*\x20shadow'+('MapSizeInv'+'\x20+\x20base_uv'+'.y;\x0a\x0a\x20\x20\x20\x20l'+'et\x20u1:\x20f32'+'\x20=\x20u1_offs'+'et\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20l'+'et\x20v1:\x20f32'+'\x20=\x20v1_offs'+'et\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.y;\x0a\x0a\x20\x20\x20\x20'+'sum\x20=\x20sum\x20'+'+\x20uw0\x20*\x20vw'+'0\x20*\x20textur'+'eSampleCom'+'pareLevel('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20v'+'ec2f(u0,\x20v'+'0),\x20z);\x0a\x20\x20'+'\x20\x20sum\x20=\x20su'+'m\x20+\x20uw1\x20*\x20'+'vw0\x20*\x20text'+'ureSampleC'+'ompareLeve'+'l(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20vec2f(u1,'+'\x20v0),\x20z);\x0a'+'\x20\x20\x20\x20sum\x20=\x20'+'sum\x20+\x20uw0\x20'+'*\x20vw1\x20*\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20vec2f(u'+'0,\x20v1),\x20z)'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20+\x20uw'+'1\x20*\x20vw1\x20*\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20vec2f'+'(u1,\x20v1),\x20'+'z);\x0a\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20*'+'\x20(1.0\x20/\x2016'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20sum;'+'\x0a}\x0a\x0afn\x20get'+'ShadowPCF3'+'x3(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20_getShado'+'wPCF3x3(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a\x0afn\x20getSh'+'adowSpotPC'+'F3x3(shado'+'wMap:\x20text'+'ure_depth_'+'2d,\x20shadow'+'MapSampler'+':\x20sampler_'+'comparison'+',\x20shadowCo'+'ord:\x20vec3f'+',\x20shadowPa'+'rams:\x20vec4'+'f)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF3x3(')+('shadowMap,'+'\x20shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams.xyz);'+'\x0a}\x0a\x0a//\x20---'+'--\x20Omni\x20Sa'+'mpling\x20---'+'--\x0a\x0a//\x20Not'+'\x20currently'+'\x20supported'+'\x20on\x20WebGPU'+'\x20device\x0a//'+'\x20fn\x20getSha'+'dowOmniPCF'+'3x3(shadow'+'Map:\x20textu'+'re_depth_c'+'ube,\x20shado'+'wMapSample'+'r:\x20sampler'+'_compariso'+'n,\x20shadowP'+'arams:\x20vec'+'4f,\x20dir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x0a//\x20\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a//\x20\x20\x20\x20'+'\x20let\x20shado'+'wZ:\x20f32\x20=\x20'+'length(dir'+')\x20*\x20shadow'+'Params.w\x20+'+'\x20shadowPar'+'ams.z;\x0a\x0a//'+'\x20\x20\x20\x20\x20//\x20of'+'fset\x0a//\x20\x20\x20'+'\x20\x20let\x20texS'+'ize_i\x20=\x20te'+'xtureDimen'+'sions(shad'+'owMap,\x200);'+'\x0a//\x20\x20\x20\x20\x20le'+'t\x20z:\x20f32\x20='+'\x201.0\x20/\x20f32'+'(texSize_i'+'.x);\x0a//\x20\x20\x20'+'\x20\x20let\x20tc:\x20'+'vec3f\x20=\x20no'+'rmalize(di'+'r);\x0a\x0a//\x20\x20\x20'+'\x20\x20//\x20avera'+'ge\x204\x20sampl'+'es\x20-\x20not\x20a'+'\x20strict\x203x'+'3\x20PCF\x20but\x20'+'that\x27s\x20tri'+'cky\x20with\x20c'+'ubemaps\x0a//'+'\x20\x20\x20\x20\x20var\x20s'+'hadows:\x20ve'+'c4f;\x0a//\x20\x20\x20'+'\x20\x20shadows.'+'x\x20=\x20textur'+'eSampleCom'+'pareLevel('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20t'+'c\x20+\x20vec3f('+'\x20z,\x20\x20z,\x20\x20z'+'),\x20shadowZ'+');\x0a//\x20\x20\x20\x20\x20'+'shadows.y\x20'+'=\x20textureS'+'ampleCompa'+'reLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20tc\x20'+'+\x20vec3f(-z'+',\x20-z,\x20\x20z),'+'\x20shadowZ);'+'\x0a//\x20\x20\x20\x20\x20sh'+'adows.z\x20=\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20tc\x20+\x20'+'vec3f(-z,\x20'+'\x20z,\x20-z),\x20s'+'hadowZ);\x0a/')+('/\x20\x20\x20\x20\x20shad'+'ows.w\x20=\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20tc\x20+\x20ve'+'c3f(\x20z,\x20-z'+',\x20-z),\x20sha'+'dowZ);\x0a\x0a//'+'\x20\x20\x20\x20\x20retur'+'n\x20dot(shad'+'ows,\x20vec4f'+'(0.25));\x0a/'+'/\x20}\x0a\x0a//\x20fn'+'\x20getShadow'+'OmniPCF3x3'+'_Wrapper(s'+'hadowMap:\x20'+'texture_de'+'pth_cube,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a//\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCF3x3(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20sh'+'adowParams'+',\x20lightDir'+');\x0a//\x20}\x0a'),yI='\x0a//\x20http:/'+'/the-witne'+'ss.net/new'+'s/2013/09/'+'shadow-map'+'ping-summa'+'ry-part-1/'+'\x0afn\x20_getSh'+'adowPCF5x5'+'(shadowMap'+':\x20texture_'+'depth_2d,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20let\x20z:\x20'+'f32\x20=\x20shad'+'owCoord.z;'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20shadowCoo'+'rd.xy\x20*\x20sh'+'adowParams'+'.x;\x20//\x201\x20u'+'nit\x20-\x201\x20te'+'xel\x0a\x20\x20\x20\x20le'+'t\x20shadowMa'+'pSizeInv:\x20'+'f32\x20=\x201.0\x20'+'/\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20let\x20base'+'_uv_temp:\x20'+'vec2f\x20=\x20fl'+'oor(uv\x20+\x200'+'.5);\x0a\x20\x20\x20\x20l'+'et\x20s:\x20f32\x20'+'=\x20(uv.x\x20+\x20'+'0.5\x20-\x20base'+'_uv_temp.x'+');\x0a\x20\x20\x20\x20let'+'\x20t:\x20f32\x20=\x20'+'(uv.y\x20+\x200.'+'5\x20-\x20base_u'+'v_temp.y);'+'\x0a\x20\x20\x20\x20let\x20b'+'ase_uv:\x20ve'+'c2f\x20=\x20(bas'+'e_uv_temp\x20'+'-\x20vec2f(0.'+'5))\x20*\x20shad'+'owMapSizeI'+'nv;\x0a\x0a\x20\x20\x20\x20l'+'et\x20uw0:\x20f3'+'2\x20=\x20(4.0\x20-'+'\x203.0\x20*\x20s);'+'\x0a\x20\x20\x20\x20let\x20u'+'w1:\x20f32\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20l'+'et\x20uw2:\x20f3'+'2\x20=\x20(1.0\x20+'+'\x203.0\x20*\x20s);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'u0_offset:'+'\x20f32\x20=\x20(3.'+'0\x20-\x202.0\x20*\x20'+'s)\x20/\x20uw0\x20-'+'\x202.0;\x0a\x20\x20\x20\x20'+'let\x20u1_off'+'set:\x20f32\x20='+'\x20(3.0\x20+\x20s)'+'\x20/\x20uw1;\x0a\x20\x20'+'\x20\x20let\x20u2_o'+'ffset:\x20f32'+'\x20=\x20s\x20/\x20uw2'+'\x20+\x202.0;\x0a\x0a\x20'+'\x20\x20\x20let\x20vw0'+':\x20f32\x20=\x20(4'+'.0\x20-\x203.0\x20*'+'\x20t);\x0a\x20\x20\x20\x20l'+'et\x20vw1:\x20f3'+'2\x20=\x207.0;\x0a\x20'+'\x20\x20\x20let\x20vw2'+':\x20f32\x20=\x20(1'+'.0\x20+\x203.0\x20*'+'\x20t);\x0a\x0a\x20\x20\x20\x20'+'let\x20v0_off'+'set:\x20f32\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t)\x20/\x20v'+'w0\x20-\x202.0;\x0a'+'\x20\x20\x20\x20let\x20v1'+'_offset:\x20f'+'32\x20=\x20(3.0\x20'+('+\x20t)\x20/\x20vw1'+';\x0a\x20\x20\x20\x20let\x20'+'v2_offset:'+'\x20f32\x20=\x20t\x20/'+'\x20vw2\x20+\x202.0'+';\x0a\x0a\x20\x20\x20\x20var'+'\x20sum:\x20f32\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20let\x20u0:\x20'+'f32\x20=\x20u0_o'+'ffset\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.x;\x0a\x20\x20'+'\x20\x20let\x20v0:\x20'+'f32\x20=\x20v0_o'+'ffset\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.y;\x0a\x0a\x20'+'\x20\x20\x20let\x20u1:'+'\x20f32\x20=\x20u1_'+'offset\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.x;\x0a\x20'+'\x20\x20\x20let\x20v1:'+'\x20f32\x20=\x20v1_'+'offset\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20let\x20u2'+':\x20f32\x20=\x20u2'+'_offset\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.x;\x0a'+'\x20\x20\x20\x20let\x20v2'+':\x20f32\x20=\x20v2'+'_offset\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20sum\x20='+'\x20sum\x20+\x20uw0'+'\x20*\x20vw0\x20*\x20t'+'extureSamp'+'leCompareL'+'evel(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20vec2f('+'u0,\x20v0),\x20z'+');\x0a\x20\x20\x20\x20sum'+'\x20=\x20sum\x20+\x20u'+'w1\x20*\x20vw0\x20*'+'\x20textureSa'+'mpleCompar'+'eLevel(sha'+'dowMap,\x20sh'+'adowMapSam'+'pler,\x20vec2'+'f(u1,\x20v0),'+'\x20z);\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20+'+'\x20uw2\x20*\x20vw0'+'\x20*\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20ve'+'c2f(u2,\x20v0'+'),\x20z);\x0a\x0a\x20\x20'+'\x20\x20sum\x20=\x20su'+'m\x20+\x20uw0\x20*\x20'+'vw1\x20*\x20text'+'ureSampleC'+'ompareLeve'+'l(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20vec2f(u0,'+'\x20v1),\x20z);\x0a'+'\x20\x20\x20\x20sum\x20=\x20'+'sum\x20+\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20vec2f(u'+'1,\x20v1),\x20z)'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20+\x20uw'+'2\x20*\x20vw1\x20*\x20'+'textureSam'+'pleCompare')+('Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20vec2f'+'(u2,\x20v1),\x20'+'z);\x0a\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20+'+'\x20uw0\x20*\x20vw2'+'\x20*\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20ve'+'c2f(u0,\x20v2'+'),\x20z);\x0a\x20\x20\x20'+'\x20sum\x20=\x20sum'+'\x20+\x20uw1\x20*\x20v'+'w2\x20*\x20textu'+'reSampleCo'+'mpareLevel'+'(shadowMap'+',\x20shadowMa'+'pSampler,\x20'+'vec2f(u1,\x20'+'v2),\x20z);\x0a\x20'+'\x20\x20\x20sum\x20=\x20s'+'um\x20+\x20uw2\x20*'+'\x20vw2\x20*\x20tex'+'tureSample'+'CompareLev'+'el(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20vec2f(u2'+',\x20v2),\x20z);'+'\x0a\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20*\x20(1'+'.0\x20/\x20144.0'+');\x0a\x20\x20\x20\x20sum'+'\x20=\x20saturat'+'e(sum);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afn'+'\x20getShadow'+'PCF5x5(sha'+'dowMap:\x20te'+'xture_dept'+'h_2d,\x20shad'+'owMapSampl'+'er:\x20sample'+'r_comparis'+'on,\x20shadow'+'Coord:\x20vec'+'3f,\x20shadow'+'Params:\x20ve'+'c4f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20_getS'+'hadowPCF5x'+'5(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20shadow'+'Params.xyz'+');\x0a}\x0a\x0afn\x20g'+'etShadowSp'+'otPCF5x5(s'+'hadowMap:\x20'+'texture_de'+'pth_2d,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler_compar'+'ison,\x20shad'+'owCoord:\x20v'+'ec3f,\x20shad'+'owParams:\x20'+'vec4f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20_ge'+'tShadowPCF'+'5x5(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20shad'+'owParams.x'+'yz);\x0a}\x0a'),vI='\x0a\x0afn\x20fract'+'SinRand(uv'+':\x20vec2f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20PI:\x20'+'f32\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20l'+'et\x20a:\x20f32\x20'+'=\x2012.9898;'+'\x20let\x20b:\x20f3'+'2\x20=\x2078.233'+';\x20let\x20c:\x20f'+'32\x20=\x2043758'+'.5453;\x0a\x20\x20\x20'+'\x20let\x20dt:\x20f'+'32\x20=\x20dot(u'+'v.xy,\x20vec2'+'f(a,\x20b));\x0a'+'\x20\x20\x20\x20let\x20sn'+':\x20f32\x20=\x20dt'+'\x20%\x20PI;\x0a\x20\x20\x20'+'\x20return\x20fr'+'act(sin(sn'+')\x20*\x20c);\x0a}\x0a'+'\x0a//\x20struct'+'\x20to\x20hold\x20p'+'recomputed'+'\x20constants'+'\x20and\x20curre'+'nt\x20state\x0as'+'truct\x20Voge'+'lDiskData\x20'+'{\x0a\x20\x20\x20\x20invN'+'umSamples:'+'\x20f32,\x0a\x20\x20\x20\x20'+'initialAng'+'le:\x20f32,\x0a\x20'+'\x20\x20\x20current'+'PointId:\x20f'+'32,\x0a}\x0a\x0a//\x20'+'prepare\x20th'+'e\x20Vogel\x20di'+'sk\x20constan'+'ts\x20and\x20ini'+'tialize\x20th'+'e\x20current\x20'+'state\x20in\x20t'+'he\x20struct\x0a'+'fn\x20prepare'+'DiskConsta'+'nts(data:\x20'+'ptr<functi'+'on,\x20VogelD'+'iskData>,\x20'+'sampleCoun'+'t:\x20i32,\x20ra'+'ndomSeed:\x20'+'f32)\x20{\x0a\x20\x20\x20'+'\x20let\x20pi2:\x20'+'f32\x20=\x206.28'+'318530718;'+'\x0a\x20\x20\x20\x20data.'+'invNumSamp'+'les\x20=\x201.0\x20'+'/\x20f32(samp'+'leCount);\x0a'+'\x20\x20\x20\x20data.i'+'nitialAngl'+'e\x20=\x20random'+'Seed\x20*\x20pi2'+';\x0a\x20\x20\x20\x20data'+'.currentPo'+'intId\x20=\x200.'+'0;\x0a}\x0a\x0a\x0afn\x20'+'generateDi'+'skSample(d'+'ata:\x20ptr<f'+'unction,\x20V'+'ogelDiskDa'+'ta>)\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'let\x20GOLDEN'+'_ANGLE:\x20f3'+'2\x20=\x202.3999'+'63;\x0a\x20\x20\x20\x20le'+'t\x20r:\x20f32\x20='+'\x20sqrt((dat'+'a.currentP'+'ointId\x20+\x200'+'.5)\x20*\x20data'+'.invNumSam'+'ples);\x0a\x20\x20\x20'+'\x20let\x20theta'+':\x20f32\x20=\x20da'+'ta.current'+'PointId\x20*\x20'+'GOLDEN_ANG'+'LE\x20+\x20data.'+'initialAng'+('le;\x0a\x0a\x20\x20\x20\x20l'+'et\x20offset:'+'\x20vec2f\x20=\x20v'+'ec2f(cos(t'+'heta),\x20sin'+'(theta))\x20*'+'\x20pow(r,\x201.'+'33);\x0a\x0a\x20\x20\x20\x20'+'data.curre'+'ntPointId\x20'+'=\x20data.cur'+'rentPointI'+'d\x20+\x201.0;\x0a\x20'+'\x20\x20\x20return\x20'+'offset;\x0a}\x0a'+'\x0afn\x20PCSSFi'+'ndBlocker('+'shadowMap:'+'\x20texture_2'+'d<f32>,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler,\x20avgBl'+'ockerDepth'+':\x20ptr<func'+'tion,\x20f32>'+',\x20numBlock'+'ers:\x20ptr<f'+'unction,\x20i'+'32>,\x0a\x20\x20\x20\x20s'+'hadowCoord'+'s:\x20vec2f,\x20'+'z:\x20f32,\x20sh'+'adowBlocke'+'rSamples:\x20'+'i32,\x20penum'+'braSize:\x20f'+'32,\x20invSha'+'dowMapSize'+':\x20f32,\x20ran'+'domSeed:\x20f'+'32)\x20{\x0a\x0a\x20\x20\x20'+'\x20var\x20diskD'+'ata:\x20Vogel'+'DiskData;\x0a'+'\x20\x20\x20\x20prepar'+'eDiskConst'+'ants(&disk'+'Data,\x20shad'+'owBlockerS'+'amples,\x20ra'+'ndomSeed);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'searchWidt'+'h:\x20f32\x20=\x20p'+'enumbraSiz'+'e\x20*\x20invSha'+'dowMapSize'+';\x0a\x20\x20\x20\x20var\x20'+'blockerSum'+':\x20f32\x20=\x200.'+'0;\x0a\x20\x20\x20\x20var'+'\x20numBlocke'+'rs_local:\x20'+'i32\x20=\x200;\x0a\x0a'+'\x20\x20\x20\x20for(\x20v'+'ar\x20i:\x20i32\x20'+'=\x200;\x20i\x20<\x20s'+'hadowBlock'+'erSamples;'+'\x20i\x20=\x20i\x20+\x201'+'\x20)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20dis'+'kUV:\x20vec2f'+'\x20=\x20generat'+'eDiskSampl'+'e(&diskDat'+'a);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20samp'+'leUV:\x20vec2'+'f\x20=\x20shadow'+'Coords\x20+\x20d'+'iskUV\x20*\x20se'+'archWidth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20shadowM'+'apDepth:\x20f'+'32\x20=\x20textu'+'reSampleLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20sampleU'+'V,\x200.0).r;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(\x20shadow'+'MapDepth\x20<'+'\x20z\x20)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20b'+'lockerSum\x20')+('=\x20blockerS'+'um\x20+\x20shado'+'wMapDepth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20numBloc'+'kers_local'+'\x20=\x20numBloc'+'kers_local'+'\x20+\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20*avg'+'BlockerDep'+'th\x20=\x20block'+'erSum\x20/\x20f3'+'2(numBlock'+'ers_local)'+';\x0a\x20\x20\x20\x20*num'+'Blockers\x20='+'\x20numBlocke'+'rs_local;\x0a'+'}\x0a\x0afn\x20PCSS'+'Filter(sha'+'dowMap:\x20te'+'xture_2d<f'+'32>,\x20shado'+'wMapSample'+'r:\x20sampler'+',\x20uv:\x20vec2'+'f,\x20receive'+'rDepth:\x20f3'+'2,\x20shadowS'+'amples:\x20i3'+'2,\x20filterR'+'adius:\x20f32'+',\x20randomSe'+'ed:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20var\x20dis'+'kData:\x20Vog'+'elDiskData'+';\x0a\x20\x20\x20\x20prep'+'areDiskCon'+'stants(&di'+'skData,\x20sh'+'adowSample'+'s,\x20randomS'+'eed);\x0a\x0a\x20\x20\x20'+'\x20var\x20sum:\x20'+'f32\x20=\x200.0;'+'\x0a\x20\x20\x20\x20for\x20('+'var\x20i:\x20i32'+'\x20=\x200;\x20i\x20<\x20'+'shadowSamp'+'les;\x20i\x20=\x20i'+'\x20+\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'offsetUV:\x20'+'vec2f\x20=\x20ge'+'nerateDisk'+'Sample(&di'+'skData)\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20dept'+'h:\x20f32\x20=\x20t'+'extureSamp'+'leLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20uv\x20'+'+\x20offsetUV'+',\x200.0).r;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20su'+'m\x20=\x20sum\x20+\x20'+'step(recei'+'verDepth,\x20'+'depth);\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20sum\x20/'+'\x20f32(shado'+'wSamples);'+'\x0a}\x0a\x0afn\x20get'+'Penumbra(d'+'blocker:\x20f'+'32,\x20drecei'+'ver:\x20f32,\x20'+'penumbraSi'+'ze:\x20f32,\x20p'+'enumbraFal'+'loff:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20di'+'st:\x20f32\x20=\x20'+'dreceiver\x20'+'-\x20dblocker'+';\x0a\x20\x20\x20\x20let\x20'+'penumbra:\x20'+'f32\x20=\x201.0\x20'+'-\x20pow(1.0\x20'+'-\x20dist,\x20pe')+('numbraFall'+'off);\x0a\x20\x20\x20\x20'+'return\x20pen'+'umbra\x20*\x20pe'+'numbraSize'+';\x0a}\x0a\x0afn\x20PC'+'SSDirectio'+'nal(shadow'+'Map:\x20textu'+'re_2d<f32>'+',\x20shadowMa'+'pSampler:\x20'+'sampler,\x20s'+'hadowCoord'+'s:\x20vec3f,\x20'+'cameraPara'+'ms:\x20vec4f,'+'\x20softShado'+'wParams:\x20v'+'ec4f)\x20->\x20f'+'32\x20{\x0a\x0a\x20\x20\x20\x20'+'let\x20receiv'+'erDepth:\x20f'+'32\x20=\x20shado'+'wCoords.z;'+'\x0a\x20\x20\x20\x20let\x20r'+'andomSeed:'+'\x20f32\x20=\x20fra'+'ctSinRand('+'pcPosition'+'.xy);\x0a\x20\x20\x20\x20'+'let\x20shadow'+'Samples:\x20i'+'32\x20=\x20i32(s'+'oftShadowP'+'arams.x);\x0a'+'\x20\x20\x20\x20let\x20sh'+'adowBlocke'+'rSamples:\x20'+'i32\x20=\x20i32('+'softShadow'+'Params.y);'+'\x0a\x20\x20\x20\x20let\x20p'+'enumbraSiz'+'e:\x20f32\x20=\x20s'+'oftShadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20let\x20pen'+'umbraFallo'+'ff:\x20f32\x20=\x20'+'softShadow'+'Params.w;\x0a'+'\x0a\x20\x20\x20\x20let\x20s'+'hadowMapSi'+'ze:\x20i32\x20=\x20'+'i32(textur'+'eDimension'+'s(shadowMa'+'p,\x200).x);\x0a'+'\x20\x20\x20\x20var\x20in'+'vShadowMap'+'Size:\x20f32\x20'+'=\x201.0\x20/\x20f3'+'2(shadowMa'+'pSize);\x0a\x20\x20'+'\x20\x20invShado'+'wMapSize\x20='+'\x20invShadow'+'MapSize\x20*\x20'+'(f32(shado'+'wMapSize)\x20'+'/\x202048.0);'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'penumbra:\x20'+'f32;\x0a\x0a\x20\x20\x20\x20'+'//\x20contact'+'\x20hardening'+'\x20path\x0a\x20\x20\x20\x20'+'if\x20(shadow'+'BlockerSam'+'ples\x20>\x200)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20find\x20a'+'verage\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20avgBloc'+'kerDepth:\x20'+'f32\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20numBloc'+'kers:\x20i32\x20'+'=\x200;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20PCSSFin'+'dBlocker(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20&a'+'vgBlockerD'+'epth,\x20&num')+('Blockers,\x20'+'shadowCoor'+'ds.xy,\x20rec'+'eiverDepth'+',\x20shadowBl'+'ockerSampl'+'es,\x20penumb'+'raSize,\x20in'+'vShadowMap'+'Size,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20early\x20out'+'\x20when\x20no\x20b'+'lockers\x20ar'+'e\x20present\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(numBlock'+'ers\x20<\x201)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20pen'+'umbra\x20size'+'\x20is\x20based\x20'+'on\x20the\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20p'+'enumbra\x20=\x20'+'getPenumbr'+'a(avgBlock'+'erDepth,\x20s'+'hadowCoord'+'s.z,\x20penum'+'braSize,\x20p'+'enumbraFal'+'loff);\x0a\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20constan'+'t\x20filter\x20s'+'ize,\x20no\x20co'+'ntact\x20hard'+'ening\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20penumb'+'ra\x20=\x20penum'+'braSize;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'let\x20filter'+'Radius:\x20f3'+'2\x20=\x20penumb'+'ra\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20filtering'+'\x0a\x20\x20\x20\x20retur'+'n\x20PCSSFilt'+'er(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20shadowCo'+'ords.xy,\x20r'+'eceiverDep'+'th,\x20shadow'+'Samples,\x20f'+'ilterRadiu'+'s,\x20randomS'+'eed);\x0a}\x0a\x0af'+'n\x20getShado'+'wPCSS(shad'+'owMap:\x20tex'+'ture_2d<f3'+'2>,\x20shadow'+'MapSampler'+':\x20sampler,'+'\x20shadowCoo'+'rd:\x20vec3f,'+'\x20shadowPar'+'ams:\x20vec4f'+',\x20cameraPa'+'rams:\x20vec4'+'f,\x20softSha'+'dowParams:'+'\x20vec4f,\x20li'+'ghtDir:\x20ve'+'c3f)\x20->\x20f3'+'2\x20{\x20//\x20lig'+'htDir\x20unus'+'ed?\x20Kept\x20p'+'aram.\x0a\x20\x20\x20\x20'+'return\x20PCS'+'SDirection'+'al(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'oftShadowP')+'arams);\x0a}\x0a',xI='\x0aattribute'+'\x20vertex_bo'+'neIndices:'+'\x20f32;\x0a\x0avar'+'\x20texture_p'+'oseMap:\x20te'+'xture_2d<f'+'32>;\x0a\x0afn\x20g'+'etBoneMatr'+'ix(indexFl'+'oat:\x20f32)\x20'+'->\x20mat4x4f'+'\x20{\x0a\x0a\x20\x20\x20\x20le'+'t\x20width\x20=\x20'+'i32(textur'+'eDimension'+'s(texture_'+'poseMap).x'+');\x0a\x20\x20\x20\x20let'+'\x20index:\x20i3'+'2\x20=\x20i32(in'+'dexFloat\x20+'+'\x200.5)\x20*\x203;'+'\x0a\x20\x20\x20\x20let\x20i'+'y:\x20i32\x20=\x20i'+'ndex\x20/\x20wid'+'th;\x0a\x20\x20\x20\x20le'+'t\x20ix:\x20i32\x20'+'=\x20index\x20%\x20'+'width;\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'elements\x20o'+'f\x204x3\x20matr'+'ix\x0a\x20\x20\x20\x20let'+'\x20v1:\x20vec4f'+'\x20=\x20texture'+'Load(textu'+'re_poseMap'+',\x20vec2i(ix'+'\x20+\x200,\x20iy),'+'\x200);\x0a\x20\x20\x20\x20l'+'et\x20v2:\x20vec'+'4f\x20=\x20textu'+'reLoad(tex'+'ture_poseM'+'ap,\x20vec2i('+'ix\x20+\x201,\x20iy'+'),\x200);\x0a\x20\x20\x20'+'\x20let\x20v3:\x20v'+'ec4f\x20=\x20tex'+'tureLoad(t'+'exture_pos'+'eMap,\x20vec2'+'i(ix\x20+\x202,\x20'+'iy),\x200);\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nspose\x20to\x20'+'4x4\x20matrix'+'\x0a\x20\x20\x20\x20retur'+'n\x20mat4x4f('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.x,\x20v2.x,'+'\x20v3.x,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.y,\x20v2.y,\x20'+'v3.y,\x200,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'z,\x20v2.z,\x20v'+'3.z,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.w'+',\x20v2.w,\x20v3'+'.w,\x201.0\x0a\x20\x20'+'\x20\x20);\x0a}\x0a',TI='\x0a\x0aattribut'+'e\x20vertex_b'+'oneWeights'+':\x20vec4f;\x0aa'+'ttribute\x20v'+'ertex_bone'+'Indices:\x20v'+'ec4f;\x0a\x0avar'+'\x20texture_p'+'oseMap:\x20te'+'xture_2d<f'+'32>;\x0a\x0astru'+'ct\x20BoneMat'+'rix\x20{\x0a\x20\x20\x20\x20'+'v1:\x20vec4f,'+'\x0a\x20\x20\x20\x20v2:\x20v'+'ec4f,\x0a\x20\x20\x20\x20'+'v3:\x20vec4f,'+'\x0a}\x0a\x0afn\x20get'+'BoneMatrix'+'(width:\x20i3'+'2,\x20index:\x20'+'i32)\x20->\x20Bo'+'neMatrix\x20{'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'v\x20=\x20index\x20'+'/\x20width;\x0a\x20'+'\x20\x20\x20let\x20u\x20='+'\x20index\x20%\x20w'+'idth;\x0a\x0a\x20\x20\x20'+'\x20var\x20resul'+'t:\x20BoneMat'+'rix;\x0a\x20\x20\x20\x20r'+'esult.v1\x20='+'\x20textureLo'+'ad(texture'+'_poseMap,\x20'+'vec2i(u\x20+\x20'+'0,\x20v),\x200);'+'\x0a\x20\x20\x20\x20resul'+'t.v2\x20=\x20tex'+'tureLoad(t'+'exture_pos'+'eMap,\x20vec2'+'i(u\x20+\x201,\x20v'+'),\x200);\x0a\x20\x20\x20'+'\x20result.v3'+'\x20=\x20texture'+'Load(textu'+'re_poseMap'+',\x20vec2i(u\x20'+'+\x202,\x20v),\x200'+');\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0afn\x20ge'+'tSkinMatri'+'x(indicesF'+'loat:\x20vec4'+'f,\x20weights'+':\x20vec4f)\x20-'+'>\x20mat4x4f\x20'+'{\x0a\x0a\x20\x20\x20\x20let'+'\x20width\x20=\x20i'+'32(texture'+'Dimensions'+'(texture_p'+'oseMap).x)'+';\x0a\x20\x20\x20\x20var\x20'+'indices\x20=\x20'+'vec4i(indi'+'cesFloat\x20+'+'\x200.5)\x20*\x203;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'boneA\x20=\x20ge'+'tBoneMatri'+'x(width,\x20i'+'ndices.x);'+'\x0a\x20\x20\x20\x20let\x20b'+'oneB\x20=\x20get'+'BoneMatrix'+'(width,\x20in'+'dices.y);\x0a'+'\x20\x20\x20\x20let\x20bo'+'neC\x20=\x20getB'+'oneMatrix('+'width,\x20ind'+'ices.z);\x0a\x20'+'\x20\x20\x20let\x20bon'+'eD\x20=\x20getBo'+'neMatrix(w'+'idth,\x20indi'+'ces.w);\x0a\x0a\x20'+'\x20\x20\x20//\x20...\x20'+'rest\x20of\x20ge'+'tSkinMatri'+'x\x20remains\x20'+'the\x20same\x20.'+'..\x0a\x20\x20\x20\x20let'+'\x20v1\x20=\x20bone'+'A.v1\x20*\x20wei'+('ghts.x\x20+\x20b'+'oneB.v1\x20*\x20'+'weights.y\x20'+'+\x20boneC.v1'+'\x20*\x20weights'+'.z\x20+\x20boneD'+'.v1\x20*\x20weig'+'hts.w;\x0a\x20\x20\x20'+'\x20let\x20v2\x20=\x20'+'boneA.v2\x20*'+'\x20weights.x'+'\x20+\x20boneB.v'+'2\x20*\x20weight'+'s.y\x20+\x20bone'+'C.v2\x20*\x20wei'+'ghts.z\x20+\x20b'+'oneD.v2\x20*\x20'+'weights.w;'+'\x0a\x20\x20\x20\x20let\x20v'+'3\x20=\x20boneA.'+'v3\x20*\x20weigh'+'ts.x\x20+\x20bon'+'eB.v3\x20*\x20we'+'ights.y\x20+\x20'+'boneC.v3\x20*'+'\x20weights.z'+'\x20+\x20boneD.v'+'3\x20*\x20weight'+'s.w;\x0a\x0a\x20\x20\x20\x20'+'let\x20one\x20=\x20'+'dot(weight'+'s,\x20vec4f(1'+'.0,\x201.0,\x201'+'.0,\x201.0));'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'ranspose\x20t'+'o\x204x4\x20matr'+'ix\x0a\x20\x20\x20\x20ret'+'urn\x20mat4x4'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20v1.x,\x20v2.'+'x,\x20v3.x,\x200'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'v1.y,\x20v2.y'+',\x20v3.y,\x200,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.z,\x20v2.z,'+'\x20v3.z,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.w,\x20v2.w,\x20'+'v3.w,\x20one\x0a'+'\x20\x20\x20\x20);\x0a}\x0a'),wI='\x0a\x20\x20\x20\x20#defi'+'ne\x20LIT_SKY'+'BOX_INTENS'+'ITY\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22e'+'nvProcPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vLinear'+'Depth:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'floatAsUin'+'tPS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20Varyin'+'g\x20and\x20unif'+'orm\x20declar'+'ations\x0a\x20\x20\x20'+'\x20varying\x20v'+'ViewDir\x20:\x20'+'vec3f;\x0a\x20\x20\x20'+'\x20uniform\x20s'+'kyboxHighl'+'ightMultip'+'lier\x20:\x20f32'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20SKY_CU'+'BEMAP\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cub'+'eMap\x20:\x20tex'+'ture_cube<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_cube'+'Map_sample'+'r\x20:\x20sample'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'KYMESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vWo'+'rldPos\x20:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20cube'+'MapRotatio'+'nMatrix\x20:\x20'+'mat3x3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20p'+'rojectedSk'+'ydomeCente'+'r\x20:\x20vec3f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#else\x20//\x20'+'env-atlas\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22s'+'phericalPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'envAtlasPS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_envAtla'+'s\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_envAtlas_'+'sampler\x20:\x20'+'sampler;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20mipL'+'evel\x20:\x20f32'+';\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20@'+'fragment\x0a\x20'+'\x20\x20\x20fn\x20frag'+'mentMain(i'+'nput\x20:\x20Fra'+'gmentInput'+')\x20->\x20Fragm'+'entOutput\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20PREPA'+('SS_PASS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20output'+'\x20linear\x20de'+'pth\x20during'+'\x20prepass\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20floa'+'t2vec4(vLi'+'nearDepth)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20linear'+'\x20:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20dir\x20'+':\x20vec3f;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'KY_CUBEMAP'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SKYME'+'SH\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20get\x20'+'vector\x20fro'+'m\x20world\x20sp'+'ace\x20pos\x20to'+'\x20tripod\x20or'+'igin\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20e'+'nvDir\x20:\x20ve'+'c3f\x20=\x20norm'+'alize(inpu'+'t.vWorldPo'+'s\x20-\x20unifor'+'m.projecte'+'dSkydomeCe'+'nter);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dir'+'\x20=\x20envDir\x20'+'*\x20uniform.'+'cubeMapRot'+'ationMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dir\x20='+'\x20input.vVi'+'ewDir;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dir'+'.x\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'near\x20=\x20{SK'+'YBOX_DECOD'+'E_FNC}(tex'+'tureSample'+'(texture_c'+'ubeMap,\x20te'+'xture_cube'+'Map_sample'+'r,\x20dir));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x20/'+'/\x20env-atla'+'s\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ir\x20=\x20input'+'.vViewDir\x20'+'*\x20vec3f(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv\x20:\x20'+'vec2f\x20=\x20to'+'SphericalU'+'v(normaliz'+'e(dir));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20linea'+'r\x20=\x20{SKYBO'+'X_DECODE_F'+'NC}(textur'+'eSample(te'+'xture_envA'+'tlas,\x20text'+'ure_envAtl'+'as_sampler'+',\x20mapRough'+'nessUv(uv,')+('\x20uniform.m'+'ipLevel)))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ou'+'r\x20HDR\x20enco'+'des\x20values'+'\x20up\x20to\x2064,'+'\x20so\x20allow\x20'+'extra\x20brig'+'htness\x20for'+'\x20the\x20clipp'+'ed\x20values\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(any('+'linear\x20>=\x20'+'vec3f(64.0'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20linear\x20*'+'=\x20uniform.'+'skyboxHigh'+'lightMulti'+'plier;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(gam'+'maCorrectO'+'utput(tone'+'Map(proces'+'sEnvironme'+'nt(linear)'+')),\x201.0);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a'),EI='\x0a\x20\x20\x20\x20//\x20At'+'tribute\x0a\x20\x20'+'\x20\x20attribut'+'e\x20aPositio'+'n\x20:\x20vec4f;'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20matrix'+'_view\x20:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20uniform\x20m'+'atrix_proj'+'ectionSkyb'+'ox\x20:\x20mat4x'+'4f;\x0a\x20\x20\x20\x20un'+'iform\x20cube'+'MapRotatio'+'nMatrix\x20:\x20'+'mat3x3f;\x0a\x0a'+'\x20\x20\x20\x20varyin'+'g\x20vViewDir'+'\x20:\x20vec3f;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PREPASS_'+'PASS\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20when'+'\x20skydome\x20r'+'enders\x20dep'+'th\x20during\x20'+'prepass,\x20g'+'enerate\x20li'+'near\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vLi'+'nearDepth:'+'\x20f32;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'KYMESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'model\x20:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vWorldP'+'os\x20:\x20vec3f'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input\x20'+':\x20VertexIn'+'put)\x20->\x20Ve'+'rtexOutput'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20outp'+'ut\x20:\x20Verte'+'xOutput;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20view\x20:\x20ma'+'t4x4f\x20=\x20un'+'iform.matr'+'ix_view;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SKYME'+'SH\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'worldPos\x20:'+'\x20vec4f\x20=\x20u'+'niform.mat'+'rix_model\x20'+'*\x20input.aP'+'osition;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.vW'+'orldPos\x20=\x20'+'worldPos.x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.positio'+'n\x20=\x20unifor'+'m.matrix_p'+'rojectionS'+'kybox\x20*\x20(v'+'iew\x20*\x20worl'+'dPos);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20PRE'+'PASS_PASS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20l'+'inear\x20dept'+'h\x20from\x20the'+'\x20worldPosi'+'tion,\x20see\x20'+'getLinearD'+'epth\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.vL'+'inearDepth'+'\x20=\x20-(unifo'+('rm.matrix_'+'view\x20*\x20vec'+'4f(worldPo'+'s.xyz,\x201.0'+')).z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[0]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[1]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[2]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'position\x20='+'\x20uniform.m'+'atrix_proj'+'ectionSkyb'+'ox\x20*\x20(view'+'\x20*\x20input.a'+'Position);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'vViewDir\x20='+'\x20input.aPo'+'sition.xyz'+'\x20*\x20uniform'+'.cubeMapRo'+'tationMatr'+'ix;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20for\x20'+'infinite\x20s'+'kybox,\x20use'+'\x20negative\x20'+'gl_Positio'+'n.w\x20to\x20get'+'\x20positive\x20'+'linear\x20dep'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vLin'+'earDepth\x20='+'\x20-pcPositi'+'on.w;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Force\x20sk'+'ybox\x20to\x20fa'+'r\x20Z,\x20regar'+'dless\x20of\x20t'+'he\x20clip\x20pl'+'anes\x20on\x20th'+'e\x20camera\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Subtract\x20a'+'\x20tiny\x20fudg'+'e\x20factor\x20t'+'o\x20ensure\x20f'+'loating\x20po'+'int\x20errors'+'\x20don\x27t\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20st'+'ill\x20push\x20p'+'ixels\x20beyo'+'nd\x20far\x20Z.\x20'+'See:\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20http'+'s://commun'+'ity.khrono'+'s.org/t/sk'+'ybox-probl'+'em/61857\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.posit'+'ion.z\x20=\x20ou'+'tput.posit'+'ion.w\x20-\x201.'+'0e-7;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a'),bI='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'R_CONSTANT'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20materia'+'l_specular'+':\x20vec3f;\x0a#'+'endif\x0a\x0afn\x20'+'getSpecula'+'rity()\x20{\x0a\x20'+'\x20\x20\x20var\x20spe'+'cularColor'+'\x20=\x20vec3f(1'+'.0,\x201.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULAR_'+'CONSTANT\x0a\x20'+'\x20\x20\x20specula'+'rColor\x20=\x20s'+'pecularCol'+'or\x20*\x20unifo'+'rm.materia'+'l_specular'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_TE'+'XTURE\x0a\x20\x20\x20\x20'+'specularCo'+'lor\x20=\x20spec'+'ularColor\x20'+'*\x20{STD_SPE'+'CULAR_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_SPECU'+'LAR_TEXTUR'+'E_NAME},\x20{'+'STD_SPECUL'+'AR_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'SPECULAR_T'+'EXTURE_UV}'+',\x20uniform.'+'textureBia'+'s)).{STD_S'+'PECULAR_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_SPECULA'+'R_VERTEX\x0a\x20'+'\x20\x20\x20specula'+'rColor\x20=\x20s'+'pecularCol'+'or\x20*\x20satur'+'ate3(vVert'+'exColor.{S'+'TD_SPECULA'+'R_VERTEX_C'+'HANNEL});\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dSpe'+'cularity\x20='+'\x20specularC'+'olor;\x0a}\x0a',AI='\x0a\x0afn\x20toSph'+'erical(dir'+':\x20vec3f)\x20-'+'>\x20vec2f\x20{\x0a'+'\x20\x20\x20\x20let\x20an'+'gle_xz\x20=\x20s'+'elect(0.0,'+'\x20atan2(dir'+'.x,\x20dir.z)'+',\x20any(dir.'+'xz\x20!=\x20vec2'+'f(0.0)));\x0a'+'\x20\x20\x20\x20return'+'\x20vec2f(ang'+'le_xz,\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0afn\x20toS'+'phericalUv'+'(dir\x20:\x20vec'+'3f)\x20->\x20vec'+'2f\x20{\x0a\x20\x20\x20\x20c'+'onst\x20PI\x20:\x20'+'f32\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20l'+'et\x20uv\x20:\x20ve'+'c2f\x20=\x20toSp'+'herical(di'+'r)\x20/\x20vec2f'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x20vec'+'2f(0.5,\x200.'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20vec2f'+'(uv.x,\x201.0'+'\x20-\x20uv.y);\x0a'+'}\x0a',CI='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'RITYFACTOR'+'_CONSTANT\x0a'+'\x20\x20\x20\x20unifor'+'m\x20material'+'_speculari'+'tyFactor:\x20'+'f32;\x0a#endi'+'f\x0a\x0afn\x20getS'+'pecularity'+'Factor()\x20{'+'\x0a\x20\x20\x20\x20var\x20s'+'pecularity'+'Factor\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20speculari'+'tyFactor\x20='+'\x20speculari'+'tyFactor\x20*'+'\x20uniform.m'+'aterial_sp'+'ecularityF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SPECUL'+'ARITYFACTO'+'R_TEXTURE\x0a'+'\x20\x20\x20\x20specul'+'arityFacto'+'r\x20=\x20specul'+'arityFacto'+'r\x20*\x20textur'+'eSampleBia'+'s({STD_SPE'+'CULARITYFA'+'CTOR_TEXTU'+'RE_NAME},\x20'+'{STD_SPECU'+'LARITYFACT'+'OR_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'SPECULARIT'+'YFACTOR_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_SPE'+'CULARITYFA'+'CTOR_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_VE'+'RTEX\x0a\x20\x20\x20\x20s'+'pecularity'+'Factor\x20=\x20s'+'pecularity'+'Factor\x20*\x20s'+'aturate(vV'+'ertexColor'+'.{STD_SPEC'+'ULARITYFAC'+'TOR_VERTEX'+'_CHANNEL})'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dS'+'pecularity'+'Factor\x20=\x20s'+'pecularity'+'Factor;\x0a}\x0a',PI='\x0afn\x20getSpo'+'tEffect(li'+'ghtSpotDir'+':\x20vec3f,\x20l'+'ightInnerC'+'oneAngle:\x20'+'f32,\x20light'+'OuterConeA'+'ngle:\x20f32,'+'\x20lightDirN'+'orm:\x20vec3f'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20let\x20c'+'osAngle:\x20f'+'32\x20=\x20dot(l'+'ightDirNor'+'m,\x20lightSp'+'otDir);\x0a\x20\x20'+'\x20\x20return\x20s'+'moothstep('+'lightOuter'+'ConeAngle,'+'\x20lightInne'+'rConeAngle'+',\x20cosAngle'+');\x0a}',MI='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vec2f(vUv0'+'.x,\x201.0\x20-\x20'+'vUv0.y);\x0a',DI='\x0a\x20\x20\x20\x20let\x20t'+'ileMask:\x20v'+'ec2f\x20=\x20ste'+'p(vMask,\x20v'+'ec2f(0.999'+'99));\x0a\x20\x20\x20\x20'+'let\x20tileSi'+'ze:\x20vec2f\x20'+'=\x200.5\x20*\x20(i'+'nnerOffset'+'.xy\x20+\x20inne'+'rOffset.zw'+');\x0a\x20\x20\x20\x20let'+'\x20tileScale'+':\x20vec2f\x20=\x20'+'vec2f(1.0)'+'\x20/\x20(vec2f('+'1.0)\x20-\x20til'+'eSize);\x0a\x20\x20'+'\x20\x20var\x20clam'+'pedUv:\x20vec'+'2f\x20=\x20mix(i'+'nnerOffset'+'.xy\x20*\x200.5,'+'\x20vec2f(1.0'+')\x20-\x20innerO'+'ffset.zw\x20*'+'\x200.5,\x20frac'+'t((vTiledU'+'v\x20-\x20tileSi'+'ze)\x20*\x20tile'+'Scale));\x0a\x20'+'\x20\x20\x20clamped'+'Uv\x20=\x20clamp'+'edUv\x20*\x20atl'+'asRect.zw\x20'+'+\x20atlasRec'+'t.xy;\x0a\x20\x20\x20\x20'+'var\x20nineSl'+'icedUv:\x20ve'+'c2f\x20=\x20vUv0'+'\x20*\x20tileMas'+'k\x20+\x20clampe'+'dUv\x20*\x20(vec'+'2f(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x0a',II='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobals\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dAlpha'+':\x20f32\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20//'+'\x20all\x20passe'+'s\x20handle\x20o'+'pacity\x0a\x20\x20\x20'+'\x20#if\x20LIT_B'+'LEND_TYPE\x20'+'!=\x20NONE\x20||'+'\x20defined(L'+'IT_ALPHA_T'+'EST)\x20||\x20de'+'fined(LIT_'+'ALPHA_TO_C'+'OVERAGE)\x20|'+'|\x20STD_OPAC'+'ITY_DITHER'+'\x20!=\x20NONE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_OP'+'ACITY_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_opa'+'cityMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_opacityMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20FO'+'RWARD_PASS'+'\x20//\x20------'+'----------'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20globals'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dAlbedo:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'NormalW:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dSp'+'ecularity:'+'\x20vec3f\x20=\x20v'+'ec3f(0.0,\x20'+'0.0,\x200.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dGlossin'+'ess:\x20f32\x20='+'\x200.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_REFR'+'ACTION\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dTransmi'+'ssion:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dTh'+'ickness:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'CENE_COLOR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uSc'+'eneColorMa'+'p\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uSc'+'eneColorMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SCREE'+'N_SIZE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20uSc'+'reenSize:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+('f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_TRANSFOR'+'MS\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var<p'+'rivate>\x20ma'+'trix_viewP'+'rojection:'+'\x20mat4x4f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var<priv'+'ate>\x20matri'+'x_model:\x20m'+'at4x4f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20paral'+'lax\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_HEIGHT_'+'MAP\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'UvOffset:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'DIFFUSE_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_heightM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'heightMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20diffus'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSE_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'diffuseMap'+'\x20:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_diffus'+'eMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_DI'+'FFUSEDETAI'+'L_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_diffuse'+'DetailMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_diffuse'+'DetailMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20norma'+'l\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_NORMAL_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_n'+'ormalMap\x20:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_normalMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20#ifdef'+'\x20STD_NORMA'+'LDETAIL_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_n'+'ormalDetai'+'lMap\x20:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_no'+'rmalDetail'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20r'+'efraction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_T'+'HICKNESS_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'thicknessM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_thic'+'knessMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_REFRACTIO'+'N_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_refract'+'ionMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'refraction'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20i'+'ridescence'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dIr'+'idescence:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20dIridesce'+'nceThickne'+'ss:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_IRIDESC'+'ENCE_THICK'+'NESS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'iridescenc'+'eThickness'+'Map\x20:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_iridescen'+'ceThicknes'+'sMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur')+('e_iridesce'+'nceMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_irides'+'cenceMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20ccSp'+'ecularity:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20ccGlossin'+'ess:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var<priv'+'ate>\x20ccNor'+'malW:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20dAni'+'sotropy:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'Anisotropy'+'Rotation:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'arity\x20&\x20gl'+'ossiness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR_OR_'+'REFLECTION'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20she'+'en\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SHEE'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20sSpecular'+'ity:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20sGlossine'+'ss:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20STD_SHE'+'EN_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_sheenMap'+'\x20:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_sheenMap'+'Sampler\x20:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'HEENGLOSS_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_s'+'heenGlossM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_sheenG'+'lossMapSam'+'pler\x20:\x20sam'+'pler;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20metaln'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_MET'+'ALNESS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20dMet'+'alness:\x20f3'+'2;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dIor:\x20f3'+'2;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'metalnessM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_metaln'+'essMapSamp'+'ler\x20:\x20samp'+'ler;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'rity\x20facto'+'r\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LARITY_FAC'+'TOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var<privat'+'e>\x20dSpecul'+'arityFacto'+'r:\x20f32;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_SPEC'+'ULARITYFAC'+'TOR_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_specula'+'rityFactor'+'Map\x20:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_specu'+'larityFact'+'orMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_SPECULAR'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_')+('specularMa'+'p\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_specula'+'rMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20gloss\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_glossMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_glo'+'ssMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'ao\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_AO\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20<private>'+'\x20dAo:\x20f32;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_aoMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aoMap'+'Sampler\x20:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_AODETAIL_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aoDet'+'ailMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_aoDeta'+'ilMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'emission\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20<private>'+'\x20dEmission'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_EM'+'ISSIVE_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_em'+'issiveMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_emissiv'+'eMapSample'+'r\x20:\x20sample')+('r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'clearcoat\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_CLEARCOA'+'T_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cle'+'arCoatMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cle'+'arCoatMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'CLEARCOATG'+'LOSS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'clearCoatG'+'lossMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_clear'+'CoatGlossM'+'apSampler\x20'+':\x20sampler;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_clearC'+'oatNormalM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'clearCoatN'+'ormalMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20anisotr'+'opy\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_A'+'NISOTROPY_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aniso'+'tropyMap\x20:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_anis'+'otropyMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20lightm'+'ap\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(STD_LIG'+'HTMAP)\x20||\x20')+('defined(ST'+'D_LIGHT_VE'+'RTEX_COLOR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dLi'+'ghtmap:\x20ve'+'c3f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_LI'+'GHT_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_l'+'ightMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_light'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20front'+'\x20end\x20outpu'+'ts\x20to\x20lit\x20'+'shader\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22litShader'+'CorePS\x22\x0a'),LI='\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22opaci'+'tyPS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22alpha'+'TestPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dithe'+'ring\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20STD'+'_OPACITY_D'+'ITHER\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22opac'+'ityDitherP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20FORWARD_P'+'ASS\x20//\x20---'+'----------'+'---\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20para'+'llax\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_HEIGHT'+'_MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'allaxPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x20\x22diffuse'+'PS\x22\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malMapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ref'+'raction\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'RACTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'transmissi'+'onPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22th'+'icknessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_I'+'RIDESCENCE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22iridesc'+'encePS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'iridescenc'+'eThickness'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+('\x20speculari'+'ty\x20&\x20gloss'+'iness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_OR_REF'+'LECTION\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22sheen'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sheenGloss'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'etalness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_METALNES'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ior'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22spec'+'ularityFac'+'torPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22specularP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fn\x20'+'getSpecula'+'rity()\x20{\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dSpeculari'+'ty\x20=\x20vec3f'+'(1.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'gloss\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22gl'+'ossPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20ao\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22aoPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20emissi'+'on\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22emissiveP'+'S\x22\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20clear'+'coat\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20')+('LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22clea'+'rCoatPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22clearCoat'+'GlossPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22clearCoat'+'NormalPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ani'+'sotropy\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_SPECULAR'+')\x20&&\x20defin'+'ed(LIT_LIG'+'HTING)\x20&&\x20'+'defined(LI'+'T_GGX_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22an'+'isotropyPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20l'+'ightmap\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(ST'+'D_LIGHTMAP'+')\x20||\x20defin'+'ed(STD_LIG'+'HT_VERTEX_'+'COLOR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22l'+'ightmapPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20fn\x20evalu'+'ateFronten'+'d()\x20{\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20al'+'l\x20passes\x20h'+'andle\x20opac'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIT_'+'BLEND_TYPE'+'\x20!=\x20NONE\x20|'+'|\x20defined('+'LIT_ALPHA_'+'TEST)\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x20'+'||\x20STD_OPA'+'CITY_DITHE'+'R\x20!=\x20NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getOpaci'+'ty();\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_ALPHA'+'_TEST)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20alphaTe'+'st(dAlpha)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20ST'+'D_OPACITY_'+'DITHER\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20opacityDi'+'ther(dAlph'+'a,\x200.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_o'+'pacity\x20=\x20d'+'Alpha;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20FO'+'RWARD_PASS'+'\x20//\x20------'+'----------'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20par')+('allax\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_H'+'EIGHT_MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getP'+'arallax();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getA'+'lbedo();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_a'+'lbedo\x20=\x20dA'+'lbedo;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20normal\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getNorma'+'l();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_w'+'orldNormal'+'\x20=\x20dNormal'+'W;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'fraction\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_REFRACTI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etRefracti'+'on();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'transmissi'+'on\x20=\x20dTran'+'smission;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Thickness('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_thi'+'ckness\x20=\x20d'+'Thickness;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_D'+'ISPERSION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_di'+'spersion\x20='+'\x20uniform.m'+'aterial_di'+'spersion;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_IRIDESC'+'ENCE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getIrides'+'cence();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getIr'+'idescenceT'+'hickness()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x20=\x20'+'dIridescen'+'ce;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_ir'+'idescence_'+'thickness\x20'+'=\x20dIridesc'+'enceThickn'+'ess;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en')+('dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specularit'+'y\x20&\x20glossi'+'ness\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR_OR_'+'REFLECTION'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20sheen\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSheen()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'sheen_spec'+'ularity\x20=\x20'+'sSpeculari'+'ty;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getShe'+'enGlossine'+'ss();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_sheen_'+'gloss\x20=\x20sG'+'lossiness;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20metaln'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_METALNESS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getMetaln'+'ess();\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_metal'+'ness\x20=\x20dMe'+'talness;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etIor();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ior'+'\x20=\x20dIor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'ity\x20factor'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULARITY_'+'FACTOR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Specularit'+'yFactor();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'Factor\x20=\x20d'+'Specularit'+'yFactor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20gloss\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getGlo'+'ssiness();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Specularit'+'y();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'\x20=\x20dSpecul'+'arity;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs')+('_gloss\x20=\x20d'+'Glossiness'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ao\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_AO\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getAO();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_ao\x20=\x20'+'dAo;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'emission\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getEmissi'+'on();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_emis'+'sion\x20=\x20dEm'+'ission;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20clearc'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getClea'+'rCoat();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getCl'+'earCoatGlo'+'ssiness();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'ClearCoatN'+'ormal();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_clearco'+'at_specula'+'rity\x20=\x20ccS'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_clea'+'rcoat_glos'+'s\x20=\x20ccGlos'+'siness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal\x20=\x20ccNo'+'rmalW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20anisotro'+'py\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_SPECULAR)'+'\x20&&\x20define'+'d(LIT_LIGH'+'TING)\x20&&\x20d'+'efined(LIT'+'_GGX_SPECU'+'LAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getAnisot'+'ropy();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20lightma'+'p\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(STD_'+'LIGHTMAP)\x20'+'||\x20defined'+'(STD_LIGHT'+'_VERTEX_CO'+'LOR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getLightM'+'ap();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'lightmap\x20='+'\x20dLightmap'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_')+('LIGHTMAP_D'+'IR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmapD'+'ir\x20=\x20dLigh'+'tmapDir;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'}\x0a'),RI='\x0a\x0a#ifdef\x20L'+'IT_TANGENT'+'S\x0a\x20\x20\x20\x20#def'+'ine\x20TBN_TA'+'NGENTS\x0a#el'+'se\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_USE_NOR'+'MALS)\x20||\x20d'+'efined(LIT'+'_USE_CLEAR'+'COAT_NORMA'+'LS)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'TBN_DERIVA'+'TIVES\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(TBN'+'_DERIVATIV'+'ES)\x0a\x20\x20\x20\x20un'+'iform\x20tbnB'+'asis:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20getTBN(t'+'angent:\x20ve'+'c3f,\x20binor'+'mal:\x20vec3f'+',\x20normal:\x20'+'vec3f)\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20TBN_TANGE'+'NTS\x20//\x20tan'+'gents\x20/\x20bi'+'normals\x20ba'+'sed\x20TBN\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dTB'+'N\x20=\x20mat3x3'+'f(normaliz'+'e(tangent)'+',\x20normaliz'+'e(binormal'+'),\x20normali'+'ze(normal)'+');\x0a\x0a\x20\x20\x20\x20#e'+'lif\x20define'+'d(TBN_DERI'+'VATIVES)\x20/'+'/\x20derivati'+'ves\x20based\x20'+'TBN\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20uv:'+'\x20vec2f\x20=\x20{'+'lightingUv'+'};\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20get\x20e'+'dge\x20vector'+'s\x20of\x20the\x20p'+'ixel\x20trian'+'gle\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20dp1:'+'\x20vec3f\x20=\x20d'+'pdx(\x20vPosi'+'tionW\x20);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20dp2:\x20vec3'+'f\x20=\x20dpdy(\x20'+'vPositionW'+'\x20);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20duv1'+':\x20vec2f\x20=\x20'+'dpdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20duv2:\x20'+'vec2f\x20=\x20dp'+'dy(\x20uv\x20);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20solve\x20th'+'e\x20linear\x20s'+'ystem\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20dp'+'2perp:\x20vec'+'3f\x20=\x20cross'+'(\x20dp2,\x20nor'+'mal\x20);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20d'+'p1perp:\x20ve'+'c3f\x20=\x20cros'+'s(\x20normal,'+'\x20dp1\x20);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'T:\x20vec3f\x20='+'\x20dp2perp\x20*'+'\x20duv1.x\x20+\x20'+'dp1perp\x20*\x20'+'duv2.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'B:\x20vec3f\x20='+'\x20dp2perp\x20*'+'\x20duv1.y\x20+\x20'+('dp1perp\x20*\x20'+'duv2.y;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'construct\x20'+'a\x20scale-in'+'variant\x20fr'+'ame\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20deno'+'m:\x20f32\x20=\x20m'+'ax(\x20dot(T,'+'\x20T),\x20dot(B'+',\x20B)\x20);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'invmax:\x20f3'+'2\x20=\x20select'+'(uniform.t'+'bnBasis\x20/\x20'+'sqrt(\x20deno'+'m\x20),\x200.0,\x20'+'denom\x20==\x200'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3x3f(T\x20'+'*\x20invmax,\x20'+'-B\x20*\x20invma'+'x,\x20normal\x20'+');\x0a\x0a\x20\x20\x20\x20#e'+'lse\x20//\x20obj'+'ect\x20space\x20'+'TBN\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20B:\x20'+'vec3f\x20=\x20cr'+'oss(normal'+',\x20vObjectS'+'paceUpW);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20T:\x20vec3f'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dot(B,'+'B)\x20==\x200.0)'+'\x20//\x20deal\x20w'+'ith\x20case\x20w'+'hen\x20vObjec'+'tSpaceUpW\x20'+'normal\x20are'+'\x20parallel\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20majo'+'r:\x20f32\x20=\x20m'+'ax(max(nor'+'mal.x,\x20nor'+'mal.y),\x20no'+'rmal.z);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(norm'+'al.x\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20B\x20=\x20c'+'ross(norma'+'l,\x20vec3f(0'+'.0,\x201.0,\x200'+'.0));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20T\x20=\x20cros'+'s(normal,\x20'+'B);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x20if\x20(n'+'ormal.y\x20=='+'\x20major)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20B\x20'+'=\x20cross(no'+'rmal,\x20vec3'+'f(0.0,\x200.0'+',\x201.0));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20T\x20=\x20c'+'ross(norma'+'l,\x20B);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x20//'+'\x20removed\x20\x22'+'if\x20(normal'+'.z\x20==\x20majo'+'r)\x22\x20assumi'+'ng\x20it\x27s\x20th'+'e\x20only\x20rem'+'aining\x20cas'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20B\x20=\x20cros'+'s(normal,\x20'+'vec3f(1.0,'+'\x200.0,\x200.0)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3x3f(n'+'ormalize(T'+'),\x20normali'+'ze(B),\x20nor'+'malize(nor'+'mal));\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a}'),OI='\x0a#ifdef\x20ST'+'D_THICKNES'+'S_CONSTANT'+'\x0auniform\x20m'+'aterial_th'+'ickness:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20getTh'+'ickness()\x20'+'{\x0a\x20\x20\x20\x20dThi'+'ckness\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'THICKNESS_'+'CONSTANT\x0a\x20'+'\x20\x20\x20dThickn'+'ess\x20=\x20dThi'+'ckness\x20*\x20u'+'niform.mat'+'erial_thic'+'kness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_THICKN'+'ESS_TEXTUR'+'E\x0a\x20\x20\x20\x20dThi'+'ckness\x20=\x20d'+'Thickness\x20'+'*\x20textureS'+'ampleBias('+'{STD_THICK'+'NESS_TEXTU'+'RE_NAME},\x20'+'{STD_THICK'+'NESS_TEXTU'+'RE_NAME}Sa'+'mpler,\x20{ST'+'D_THICKNES'+'S_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_THICKNESS'+'_TEXTURE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_THIC'+'KNESS_VERT'+'EX\x0a\x20\x20\x20\x20dTh'+'ickness\x20=\x20'+'dThickness'+'\x20*\x20saturat'+'e(vVertexC'+'olor.{STD_'+'THICKNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',FI='\x0a#if\x20(TONE'+'MAP\x20==\x20NON'+'E)\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingNo'+'nePS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20FILMIC\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingFilmi'+'cPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20LINEAR\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22tonemap'+'pingLinear'+'PS\x22\x0a#elif\x20'+'TONEMAP\x20=='+'\x20HEJL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'tonemappin'+'gHejlPS\x22\x0a#'+'elif\x20TONEM'+'AP\x20==\x20ACES'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingAces'+'PS\x22\x0a#elif\x20'+'TONEMAP\x20=='+'\x20ACES2\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngAces2PS\x22'+'\x0a#elif\x20TON'+'EMAP\x20==\x20NE'+'UTRAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'tonemappin'+'gNeutralPS'+'\x22\x0a#endif\x0a',NI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20t'+'A:\x20f32\x20=\x202'+'.51;\x0a\x20\x20\x20\x20l'+'et\x20tB:\x20f32'+'\x20=\x200.03;\x0a\x20'+'\x20\x20\x20let\x20tC:'+'\x20f32\x20=\x202.4'+'3;\x0a\x20\x20\x20\x20let'+'\x20tD:\x20f32\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20let\x20tE:\x20f'+'32\x20=\x200.14;'+'\x0a\x20\x20\x20\x20let\x20x'+':\x20vec3f\x20=\x20'+'color\x20*\x20un'+'iform.expo'+'sure;\x0a\x20\x20\x20\x20'+'return\x20(x\x20'+'*\x20(tA\x20*\x20x\x20'+'+\x20tB))\x20/\x20('+'x\x20*\x20(tC\x20*\x20'+'x\x20+\x20tD)\x20+\x20'+'tE);\x0a}\x0a',kI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0a//\x20AC'+'ES\x20approxi'+'mation\x20by\x20'+'Stephen\x20Hi'+'ll\x0a\x0a//\x20sRG'+'B\x20=>\x20XYZ\x20='+'>\x20D65_2_D6'+'0\x20=>\x20AP1\x20='+'>\x20RRT_SAT\x0a'+'const\x20ACES'+'InputMat:\x20'+'mat3x3f\x20=\x20'+'mat3x3f(\x0a\x20'+'\x20\x20\x20vec3f(0'+'.59719,\x200.'+'35458,\x200.0'+'4823),\x0a\x20\x20\x20'+'\x20vec3f(0.0'+'7600,\x200.90'+'834,\x200.015'+'66),\x0a\x20\x20\x20\x20v'+'ec3f(0.028'+'40,\x200.1338'+'3,\x200.83777'+')\x0a);\x0a\x0a//\x20O'+'DT_SAT\x20=>\x20'+'XYZ\x20=>\x20D60'+'_2_D65\x20=>\x20'+'sRGB\x0aconst'+'\x20ACESOutpu'+'tMat:\x20mat3'+'x3f\x20=\x20mat3'+'x3f(\x0a\x20\x20\x20\x20v'+'ec3f(\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367),\x0a\x20\x20\x20\x20'+'vec3f(-0.1'+'0208,\x20\x201.1'+'0813,\x20-0.0'+'0605),\x0a\x20\x20\x20'+'\x20vec3f(-0.'+'00327,\x20-0.'+'07276,\x20\x201.'+'07602)\x0a);\x0a'+'\x0afn\x20RRTAnd'+'ODTFit(v:\x20'+'vec3f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20a:\x20v'+'ec3f\x20=\x20v\x20*'+'\x20(v\x20+\x20vec3'+'f(0.024578'+'6))\x20-\x20vec3'+'f(0.000090'+'537);\x0a\x20\x20\x20\x20'+'let\x20b:\x20vec'+'3f\x20=\x20v\x20*\x20('+'vec3f(0.98'+'3729)\x20*\x20v\x20'+'+\x20vec3f(0.'+'4329510))\x20'+'+\x20vec3f(0.'+'238081);\x0a\x20'+'\x20\x20\x20return\x20'+'a\x20/\x20b;\x0a}\x0a\x0a'+'fn\x20toneMap'+'(color:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'var\x20c:\x20vec'+'3f\x20=\x20color'+'\x20*\x20(unifor'+'m.exposure'+'\x20/\x200.6);\x0a\x20'+'\x20\x20\x20c\x20=\x20c\x20*'+'\x20ACESInput'+'Mat;\x0a\x0a\x20\x20\x20\x20'+'//\x20Apply\x20R'+'RT\x20and\x20ODT'+'\x0a\x20\x20\x20\x20c\x20=\x20R'+'RTAndODTFi'+'t(c);\x0a\x20\x20\x20\x20'+'c\x20=\x20c\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(c,\x20vec'+'3f(0.0),\x20v'+'ec3f(1.0))'+';\x0a}\x0a',UI='\x0aconst\x20A:\x20'+'f32\x20=\x200.15'+';\x0aconst\x20B:'+'\x20f32\x20=\x200.5'+'0;\x0aconst\x20C'+':\x20f32\x20=\x200.'+'10;\x0aconst\x20'+'D:\x20f32\x20=\x200'+'.20;\x0aconst'+'\x20E:\x20f32\x20=\x20'+'0.02;\x0acons'+'t\x20F:\x20f32\x20='+'\x200.30;\x0acon'+'st\x20W:\x20f32\x20'+'=\x2011.2;\x0a\x0au'+'niform\x20exp'+'osure:\x20f32'+';\x0a\x0afn\x20unch'+'arted2Tone'+'map(x:\x20vec'+'3f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20((x\x20'+'*\x20(A\x20*\x20x\x20+'+'\x20C\x20*\x20B)\x20+\x20'+'D\x20*\x20E)\x20/\x20('+'x\x20*\x20(A\x20*\x20x'+'\x20+\x20B)\x20+\x20D\x20'+'*\x20F))\x20-\x20ve'+'c3f(E\x20/\x20F)'+';\x0a}\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20var\x20c'+':\x20vec3f\x20=\x20'+'uncharted2'+'Tonemap(co'+'lor\x20*\x20unif'+'orm.exposu'+'re);\x0a\x20\x20\x20\x20l'+'et\x20whiteSc'+'ale:\x20vec3f'+'\x20=\x20vec3f(1'+'.0)\x20/\x20unch'+'arted2Tone'+'map(vec3f('+'W,\x20W,\x20W));'+'\x0a\x20\x20\x20\x20c\x20*=\x20'+'whiteScale'+';\x0a\x20\x20\x20\x20retu'+'rn\x20c;\x0a}\x0a',BI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20A'+':\x20f32\x20=\x200.'+'22;\x0a\x20\x20\x20\x20le'+'t\x20B:\x20f32\x20='+'\x200.3;\x0a\x20\x20\x20\x20'+'let\x20C:\x20f32'+'\x20=\x200.1;\x0a\x20\x20'+'\x20\x20let\x20D:\x20f'+'32\x20=\x200.2;\x0a'+'\x20\x20\x20\x20let\x20E:'+'\x20f32\x20=\x200.0'+'1;\x0a\x20\x20\x20\x20let'+'\x20F:\x20f32\x20=\x20'+'0.3;\x0a\x20\x20\x20\x20l'+'et\x20Scl:\x20f3'+'2\x20=\x201.25;\x0a'+'\x0a\x20\x20\x20\x20let\x20a'+'djusted_co'+'lor\x20=\x20colo'+'r\x20*\x20unifor'+'m.exposure'+';\x0a\x20\x20\x20\x20let\x20'+'h\x20=\x20max(ve'+'c3f(0.0),\x20'+'adjusted_c'+'olor\x20-\x20vec'+'3f(0.004))'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20(h\x20*\x20('+'(Scl\x20*\x20A)\x20'+'*\x20h\x20+\x20Scl\x20'+'*\x20vec3f(C\x20'+'*\x20B))\x20+\x20Sc'+'l\x20*\x20vec3f('+'D\x20*\x20E))\x20/\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(h\x20*\x20(A\x20*'+'\x20h\x20+\x20vec3f'+'(B))\x20+\x20vec'+'3f(D\x20*\x20F))'+'\x20-\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20Scl\x20*\x20'+'vec3f(E\x20/\x20'+'F);\x0a}\x0a',zI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20color\x20*\x20'+'uniform.ex'+'posure;\x0a}\x0a',VI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(col:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20var\x20col'+'or\x20=\x20col\x20*'+'\x20uniform.e'+'xposure;\x0a\x0a'+'\x20\x20\x20\x20let\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20let\x20des'+'aturation\x20'+'=\x200.15;\x0a\x0a\x20'+'\x20\x20\x20let\x20x\x20='+'\x20min(color'+'.r,\x20min(co'+'lor.g,\x20col'+'or.b));\x0a\x20\x20'+'\x20\x20let\x20offs'+'et\x20=\x20selec'+'t(0.04,\x20x\x20'+'-\x206.25\x20*\x20x'+'\x20*\x20x,\x20x\x20<\x20'+'0.08);\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'vec3f(offs'+'et);\x0a\x0a\x20\x20\x20\x20'+'let\x20peak\x20='+'\x20max(color'+'.r,\x20max(co'+'lor.g,\x20col'+'or.b));\x0a\x20\x20'+'\x20\x20if\x20(peak'+'\x20<\x20startCo'+'mpression)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'d\x20=\x201.0\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20let\x20newP'+'eak\x20=\x201.0\x20'+'-\x20d\x20*\x20d\x20/\x20'+'(peak\x20+\x20d\x20'+'-\x20startCom'+'pression);'+'\x0a\x20\x20\x20\x20color'+'\x20*=\x20newPea'+'k\x20/\x20peak;\x0a'+'\x0a\x20\x20\x20\x20let\x20g'+'\x20=\x201.0\x20-\x201'+'.0\x20/\x20(desa'+'turation\x20*'+'\x20(peak\x20-\x20n'+'ewPeak)\x20+\x20'+'1.0);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ve'+'c3f(newPea'+'k),\x20vec3f('+'g));\x0a}\x0a',GI='\x0afn\x20toneMa'+'p(color:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a}\x0a',HI='\x0a#ifdef\x20PI'+'XELSNAP\x0a\x20\x20'+'\x20\x20uniform\x20'+'uScreenSiz'+'e:\x20vec4f;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20SCREE'+'NSPACE\x0a\x20\x20\x20'+'\x20uniform\x20p'+'rojectionF'+'lipY:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20evalWorl'+'dPosition('+'vertexPosi'+'tion:\x20vec3'+'f,\x20modelMa'+'trix:\x20mat4'+'x4f)\x20->\x20ve'+'c4f\x20{\x0a\x0a\x20\x20\x20'+'\x20var\x20local'+'Pos:\x20vec3f'+'\x20=\x20getLoca'+'lPosition('+'vertexPosi'+'tion);\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'INESLICED\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20outer\x20and'+'\x20inner\x20ver'+'tices\x20are\x20'+'at\x20the\x20sam'+'e\x20position'+',\x20scale\x20bo'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20local'+'PosXZ:\x20vec'+'2f\x20=\x20local'+'Pos.xz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20loca'+'lPosXZ\x20=\x20l'+'ocalPosXZ\x20'+'*\x20uniform.'+'outerScale'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20offset'+'\x20inner\x20ver'+'tices\x20insi'+'de\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20(origi'+'nal\x20vertic'+'es\x20must\x20be'+'\x20in\x20[-1;1]'+'\x20range)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'positiveUn'+'itOffset:\x20'+'vec2f\x20=\x20cl'+'amp(vertex'+'Position.x'+'z,\x20vec2f(0'+'.0),\x20vec2f'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'negativeUn'+'itOffset:\x20'+'vec2f\x20=\x20cl'+'amp(-verte'+'xPosition.'+'xz,\x20vec2f('+'0.0),\x20vec2'+'f(1.0));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20loc'+'alPosXZ\x20=\x20'+'localPosXZ'+'\x20+\x20(-posit'+'iveUnitOff'+'set\x20*\x20unif'+'orm.innerO'+'ffset.xy\x20+'+'\x20negativeU'+'nitOffset\x20'+'*\x20uniform.'+'innerOffse'+'t.zw)\x20*\x20ve'+'rtex_texCo'+'ord0.xy;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dT'+'iledUvGlob'+'al\x20=\x20(loca'+'lPosXZ\x20-\x20u'+'niform.out'+'erScale\x20+\x20'+'uniform.in'+'nerOffset.'+'xy)\x20*\x20-0.5'+'\x20+\x201.0;\x20//'+'\x20uv\x20=\x20loca'+'l\x20pos\x20-\x20in'+('ner\x20corner'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'localPosXZ'+'\x20=\x20localPo'+'sXZ\x20*\x20-0.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'localPos\x20='+'\x20vec3f(loc'+'alPosXZ.x,'+'\x20localPosX'+'Z.y,\x20local'+'Pos.y);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20var\x20po'+'sW:\x20vec4f\x20'+'=\x20modelMat'+'rix\x20*\x20vec4'+'f(localPos'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREENSPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'posW\x20=\x20vec'+'4f(posW.xy'+',\x200.0,\x201.0'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20posW'+';\x0a}\x0a\x0afn\x20ge'+'tPosition('+')\x20->\x20vec4f'+'\x20{\x0a\x0a\x20\x20\x20\x20dM'+'odelMatrix'+'\x20=\x20getMode'+'lMatrix();'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'posW:\x20vec4'+'f\x20=\x20evalWo'+'rldPositio'+'n(vertex_p'+'osition.xy'+'z,\x20dModelM'+'atrix);\x0a\x20\x20'+'\x20\x20dPositio'+'nW\x20=\x20posW.'+'xyz;\x0a\x0a\x20\x20\x20\x20'+'var\x20screen'+'Pos:\x20vec4f'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20UV1LAYO'+'UT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'\x20=\x20vec4f(v'+'ertex_texC'+'oord1.xy\x20*'+'\x202.0\x20-\x201.0'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20SCR'+'EENSPACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'\x20=\x20posW;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20unif'+'orm.projec'+'tionFlipY;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos\x20=\x20u'+'niform.mat'+'rix_viewPr'+'ojection\x20*'+'\x20posW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20PI'+'XELSNAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20snap\x20ve'+'rtex\x20to\x20a\x20'+'pixel\x20boun'+'dary\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos.xy\x20'+'=\x20(screenP'+'os.xy\x20*\x200.'+'5)\x20+\x200.5;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20screenPo'+'s.xy\x20*=\x20un'+'iforms.uSc'+'reenSize.x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.xy\x20*=\x20u'+'niforms.uS'+'creenSize.'+'zw;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.xy\x20='+'\x20(screenPo'+'s.xy\x20*\x202.0'+')\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20scr'+'eenPos;\x0a}\x0a'+'\x0afn\x20getWor'+'ldPosition'+'()\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20dPosi'+'tionW;\x0a}\x0a'),WI='\x0a\x0a\x20\x20\x20\x20attr'+'ibute\x20vert'+'ex_positio'+'n:\x20vec4f;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'viewProjec'+'tion:\x20mat4'+'x4f;\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'rix_model:'+'\x20mat4x4f;\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20morph_te'+'x_params:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20attri'+'bute\x20morph'+'_vertex_id'+':\x20u32;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fn\x20g'+'etTextureM'+'orphCoords'+'()\x20->\x20vec2'+'i\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'turn\x20morph'+'_vertex_id'+'\x20into\x20int\x20'+'grid\x20coord'+'inates\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'Size:\x20vec2'+'i\x20=\x20vec2i('+'uniform.mo'+'rph_tex_pa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphGr'+'idV:\x20i32\x20='+'\x20i32(morph'+'_vertex_id'+')\x20/\x20textur'+'eSize.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20morph'+'GridU:\x20i32'+'\x20=\x20i32(mor'+'ph_vertex_'+'id)\x20-\x20(mor'+'phGridV\x20*\x20'+'textureSiz'+'e.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'rphGridV\x20='+'\x20textureSi'+'ze.y\x20-\x20mor'+'phGridV\x20-\x20'+'1;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec2i(mo'+'rphGridU,\x20'+'morphGridV'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_PO'+'SITION\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20aabbSiz'+'e:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20aabbMi'+'n:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'morphPosit'+'ionTex:\x20te'+'xture_2d<u'+'32>;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphPo'+'sitionTex:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+('if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20defin'+'ed(BATCH)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22sk'+'inBatchVS\x22'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fn\x20getMode'+'lMatrix()\x20'+'->\x20mat4x4f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getBoneM'+'atrix(vert'+'ex_boneInd'+'ices);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20#elif\x20de'+'fined(SKIN'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'skinVS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fn\x20g'+'etModelMat'+'rix()\x20->\x20m'+'at4x4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20un'+'iform.matr'+'ix_model\x20*'+'\x20getSkinMa'+'trix(verte'+'x_boneIndi'+'ces,\x20verte'+'x_boneWeig'+'hts);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20#elif\x20def'+'ined(INSTA'+'NCING)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22tran'+'sformInsta'+'ncingVS\x22\x0a\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'n\x20getModel'+'Matrix()\x20-'+'>\x20mat4x4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uniform.m'+'atrix_mode'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'fn\x20getLoca'+'lPosition('+'vertexPosi'+'tion:\x20vec3'+'f)\x20->\x20vec3'+'f\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20loc'+'alPos:\x20vec'+'3f\x20=\x20verte'+'xPosition;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_POSI'+'TION\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20morphUV:'+'\x20vec2i\x20=\x20g'+'etTextureM'+'orphCoords'+'();\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20MORPHI'+'NG_INT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Use\x20'+'textureLoa'+'d\x20instead\x20'+'of\x20texelFe'+'tch.\x20Coord'+'inates\x20mus'+'t\x20be\x20integ'+'er\x20type\x20(v'+'ec2i).\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20WGSL'+'\x20requires\x20'+'explicit\x20t'+'ype\x20conver'+'sion\x20for\x20v'+'ectors.\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Div'+'ision\x20by\x20f'+'loat\x20liter')+('al\x20ensures'+'\x20floating\x20'+'point\x20divi'+'sion.\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20morp'+'hPos:\x20vec3'+'f\x20=\x20vec3f('+'textureLoa'+'d(morphPos'+'itionTex,\x20'+'morphUV,\x200'+').xyz)\x20/\x206'+'5535.0\x20*\x20u'+'niform.aab'+'bSize\x20+\x20un'+'iform.aabb'+'Min;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Use\x20text'+'ureLoad\x20in'+'stead\x20of\x20t'+'exelFetch.'+'\x20Coordinat'+'es\x20must\x20be'+'\x20integer\x20t'+'ype\x20(vec2i'+').\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphPo'+'s:\x20vec3f\x20='+'\x20textureLo'+'ad(morphPo'+'sitionTex,'+'\x20morphUV,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'localPos\x20+'+'=\x20morphPos'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20localP'+'os;\x0a\x20\x20\x20\x20}\x0a'),$I='\x0a\x0aattribut'+'e\x20instance'+'_line1:\x20ve'+'c4f;\x0aattri'+'bute\x20insta'+'nce_line2:'+'\x20vec4f;\x0aat'+'tribute\x20in'+'stance_lin'+'e3:\x20vec4f;'+'\x0aattribute'+'\x20instance_'+'line4:\x20vec'+'4f;\x0a\x0afn\x20ge'+'tModelMatr'+'ix()\x20->\x20ma'+'t4x4f\x20{\x0a\x20\x20'+'\x20\x20return\x20u'+'niform.mat'+'rix_model\x20'+'*\x20mat4x4f('+'instance_l'+'ine1,\x20inst'+'ance_line2'+',\x20instance'+'_line3,\x20in'+'stance_lin'+'e4);\x0a}\x0a',XI='\x0a\x0a#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20mater'+'ial_refrac'+'tion:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20getRefra'+'ction()\x20{\x0a'+'\x20\x20\x20\x20var\x20re'+'fraction:\x20'+'f32\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_REF'+'RACTION_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20refractio'+'n\x20=\x20unifor'+'m.material'+'_refractio'+'n;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'REFRACTION'+'_TEXTURE\x0a\x20'+'\x20\x20\x20refract'+'ion\x20=\x20refr'+'action\x20*\x20t'+'extureSamp'+'leBias({ST'+'D_REFRACTI'+'ON_TEXTURE'+'_NAME},\x20{S'+'TD_REFRACT'+'ION_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_REFRACTIO'+'N_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_REFRACTIO'+'N_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_REF'+'RACTION_VE'+'RTEX\x0a\x20\x20\x20\x20r'+'efraction\x20'+'=\x20refracti'+'on\x20*\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_REFRACTI'+'ON_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20dTr'+'ansmission'+'\x20=\x20refract'+'ion;\x0a}\x0a',qI='\x0auniform\x20t'+'woSidedLig'+'htingNegSc'+'aleFactor:'+'\x20f32;\x0a\x0afn\x20'+'handleTwoS'+'idedLighti'+'ng()\x20{\x0a\x20\x20\x20'+'\x20dTBN[2]\x20='+'\x20dTBN[2]\x20*'+'\x20select(-u'+'niform.two'+'SidedLight'+'ingNegScal'+'eFactor,\x20u'+'niform.two'+'SidedLight'+'ingNegScal'+'eFactor,\x20p'+'cFrontFaci'+'ng);\x0a}\x0a',jI='\x0a#ifdef\x20NI'+'NESLICED\x0a\x20'+'\x20\x20\x20fn\x20getU'+'v0()\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20uv'+'\x20=\x20vertex_'+'position.x'+'z;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20offse'+'t\x20inner\x20ve'+'rtices\x20ins'+'ide\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2f(0'+'.0,\x200.0),\x20'+'vec2f(1.0,'+'\x201.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'negativeUn'+'itOffset\x20='+'\x20clamp(-ve'+'rtex_posit'+'ion.xz,\x20ve'+'c2f(0.0,\x200'+'.0),\x20vec2f'+'(1.0,\x201.0)'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uv\x20=\x20uv\x20'+'+\x20((-posit'+'iveUnitOff'+'set\x20*\x20unif'+'orm.innerO'+'ffset.xy)\x20'+'+\x20(negativ'+'eUnitOffse'+'t\x20*\x20unifor'+'m.innerOff'+'set.zw))\x20*'+'\x20vertex_te'+'xCoord0.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20-0.5\x20+\x20ve'+'c2f(0.5,\x200'+'.5);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20uniform'+'.atlasRect'+'.zw\x20+\x20unif'+'orm.atlasR'+'ect.xy;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dMa'+'skGlobal\x20='+'\x20vertex_te'+'xCoord0.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20uv'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20fn'+'\x20getUv0()\x20'+'->\x20vec2f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vert'+'ex_texCoor'+'d0;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a',YI='\x0afn\x20getUv1'+'()\x20->\x20vec2'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20verte'+'x_texCoord'+'1;\x0a}\x0a',KI='\x0aoutput.vU'+'V{TRANSFOR'+'M_UV_{i}}_'+'{TRANSFORM'+'_ID_{i}}\x20='+'\x20vec2f(\x0a\x20\x20'+'\x20\x20dot(vec3'+'f(uv{TRANS'+'FORM_UV_{i'+'}},\x201),\x20un'+'iform.{TRA'+'NSFORM_NAM'+'E_{i}}0),\x0a'+'\x20\x20\x20\x20dot(ve'+'c3f(uv{TRA'+'NSFORM_UV_'+'{i}},\x201),\x20'+'uniform.{T'+'RANSFORM_N'+'AME_{i}}1)'+'\x0a);\x0a',ZI='\x0a\x20\x20\x20\x20unifo'+'rm\x20{TRANSF'+'ORM_NAME_{'+'i}}0:\x20vec3'+'f;\x0a\x20\x20\x20\x20uni'+'form\x20{TRAN'+'SFORM_NAME'+'_{i}}1:\x20ve'+'c3f;\x0a',QI='\x0afn\x20getVie'+'wDir()\x20{\x0a\x20'+'\x20\x20\x20dViewDi'+'rW\x20=\x20norma'+'lize(unifo'+'rm.view_po'+'sition\x20-\x20v'+'PositionW)'+';\x0a}\x0a',JI={'alphaTestPS':Q2,'ambientPS':J2,'anisotropyPS':eM,'aoPS':tM,'aoDiffuseOccPS':sM,'aoSpecOccPS':iM,'bakeDirLmEndPS':rM,'bakeLmEndPS':aM,'basePS':nM,'baseNineSlicedPS':oM,'baseNineSlicedTiledPS':lM,'bayerPS':cM,'blurVSMPS':hM,'clearCoatPS':dM,'clearCoatGlossPS':fM,'clearCoatNormalPS':uM,'clusteredLightCookiesPS':mM,'clusteredLightShadowsPS':_M,'clusteredLightUtilsPS':pM,'clusteredLightPS':gM,'combinePS':SM,'cookieBlit2DPS':yM,'cookieBlitCubePS':vM,'cookieBlitVS':xM,'cubeMapProjectPS':TM,'cubeMapRotatePS':wM,'debugOutputPS':EM,'debugProcessFrontendPS':bM,'detailModesPS':CM,'diffusePS':PM,'decodePS':AM,'emissivePS':MM,'encodePS':DM,'endPS':IM,'envAtlasPS':LM,'envProcPS':RM,'falloffInvSquaredPS':OM,'falloffLinearPS':FM,'floatAsUintPS':NM,'fogPS':kM,'fresnelSchlickPS':UM,'frontendCodePS':'','frontendDeclPS':'','fullscreenQuadVS':BM,'gammaPS':zM,'glossPS':VM,'gsplatCenterVS':GM,'gsplatCornerVS':QM,'gsplatColorVS':HM,'gsplatCommonVS':WM,'gsplatCompressedDataVS':$M,'gsplatCompressedSHVS':XM,'gsplatEvalSHVS':qM,'gsplatQuatToMat3VS':jM,'gsplatSogsColorVS':YM,'gsplatSogsDataVS':KM,'gsplatSogsSHVS':ZM,'gsplatDataVS':JM,'gsplatOutputVS':eD,'gsplatPS':tD,'gsplatSHVS':sD,'gsplatSourceVS':iD,'gsplatVS':rD,'quadVS':aD,'indirectCoreCS':nD,'immediateLinePS':oD,'immediateLineVS':lD,'iridescenceDiffractionPS':cD,'iridescencePS':hD,'iridescenceThicknessPS':dD,'iorPS':fD,'lightDeclarationPS':uD,'lightDiffuseLambertPS':pD,'lightDirPointPS':mD,'lightEvaluationPS':_D,'lightFunctionLightPS':gD,'lightFunctionShadowPS':SD,'lightingPS':yD,'lightmapAddPS':vD,'lightmapPS':xD,'lightSpecularAnisoGGXPS':TD,'lightSpecularBlinnPS':wD,'lightSheenPS':ED,'linearizeDepthPS':bD,'litForwardBackendPS':AD,'litForwardDeclarationPS':CD,'litForwardMainPS':PD,'litForwardPostCodePS':MD,'litForwardPreCodePS':DD,'litMainPS':ID,'litMainVS':LD,'litOtherMainPS':RD,'litShaderArgsPS':OD,'litShaderCorePS':FD,'litShadowMainPS':ND,'litUserDeclarationPS':'','litUserDeclarationVS':'','litUserCodePS':'','litUserCodeVS':'','litUserMainStartPS':'','litUserMainStartVS':'','litUserMainEndPS':'','litUserMainEndVS':'','ltcPS':kD,'metalnessPS':UD,'metalnessModulatePS':zD,'morphPS':VD,'morphVS':GD,'msdfPS':BD,'msdfVS':HD,'normalVS':WD,'normalCoreVS':$D,'normalMapPS':XD,'opacityPS':qD,'opacityDitherPS':jD,'outputPS':YD,'outputAlphaPS':KD,'outputTex2DPS':ZD,'sheenPS':QD,'sheenGlossPS':JD,'parallaxPS':eI,'pickPS':tI,'reflDirPS':sI,'reflDirAnisoPS':iI,'reflectionCCPS':rI,'reflectionCubePS':aI,'reflectionEnvHQPS':nI,'reflectionEnvPS':oI,'reflectionSpherePS':lI,'reflectionSheenPS':cI,'refractionCubePS':hI,'refractionDynamicPS':dI,'reprojectPS':fI,'reprojectVS':uI,'screenDepthPS':pI,'shadowCascadesPS':mI,'shadowEVSMPS':_I,'shadowPCF1PS':gI,'shadowPCF3PS':SI,'shadowPCF5PS':yI,'shadowSoftPS':vI,'skinBatchVS':xI,'skinVS':TI,'skyboxPS':wI,'skyboxVS':EI,'specularPS':bI,'sphericalPS':AI,'specularityFactorPS':CI,'spotPS':PI,'startNineSlicedPS':MI,'startNineSlicedTiledPS':DI,'stdDeclarationPS':II,'stdFrontEndPS':LI,'TBNPS':RI,'thicknessPS':OI,'tonemappingPS':FI,'tonemappingAcesPS':NI,'tonemappingAces2PS':kI,'tonemappingFilmicPS':UI,'tonemappingHejlPS':BI,'tonemappingLinearPS':zI,'tonemappingNeutralPS':VI,'tonemappingNonePS':GI,'transformVS':HI,'transformCoreVS':WI,'transformInstancingVS':$I,'transmissionPS':XI,'twoSidedLightingPS':qI,'uv0VS':jI,'uv1VS':YI,'uvTransformVS':KI,'uvTransformUniformsPS':ZI,'viewDirPS':QI,'webgpuPS':$y,'webgpuVS':Xy},ea=class ea extends me{constructor(_0x3b67cf){super(),h(this,'_batcher',null),h(this,'_destroyRe'+'quested',!(0x904+-0x4fe*0x1+-0x405)),h(this,'_inFrameUp'+'date',!(-0x1986+-0x68b+0x2012)),h(this,'_libraries'+'Loaded',!(-0xc*0x223+0x1435+-0x30*-0x1d)),h(this,'_fillMode',Tg),h(this,'_resolutio'+'nMode',MC),h(this,'_allowResi'+'ze',!(-0x728*0x1+0x81*0x7+0x3a1*0x1)),h(this,'_skyboxAss'+'et',null),h(this,'_soundMana'+'ger'),h(this,'_visibilit'+'yChangeHan'+'dler'),h(this,'_entityInd'+'ex',{}),h(this,'_inTools',!(-0x13c0+0xdd3+0x5ee)),h(this,'_scriptPre'+'fix',''),h(this,'_time',-0x1165+0x1e1a+0xcb5*-0x1),h(this,'enableBund'+'les',typeof TextDecoder<'u'),h(this,'frameReque'+'stId'),h(this,'timeScale',-0x7f*-0x37+0x535+-0x207d*0x1),h(this,'maxDeltaTi'+'me',-0x1*-0x1ead+-0x2ae*0x7+-0x3f9*0x3+0.1),h(this,'frame',0x1*0xeef+0xef0*-0x1+0x1),h(this,'frameGraph',new DC()),h(this,'renderer'),h(this,'scriptsOrd'+'er',[]),h(this,'stats'),h(this,'autoRender',!(-0x1262+-0xb19+0x1d7b)),h(this,'renderNext'+'Frame',!(-0x2607+-0x14e5+0x5*0xbc9)),h(this,'graphicsDe'+'vice'),h(this,'root'),h(this,'scene'),h(this,'lightmappe'+'r',null),h(this,'loader',new Cn(this)),h(this,'assets'),h(this,'bundles'),h(this,'scenes',new qC(this)),h(this,'scripts',new HC(this)),h(this,'systems',new BC()),h(this,'i18n',new wa(this)),h(this,'keyboard',null),h(this,'mouse',null),h(this,'touch',null),h(this,'gamepads',null),h(this,'elementInp'+'ut',null),h(this,'xr',null),((hn==null?void(-0xe48+0x15ae+-0x766):hn['indexOf']('$'))<0x5*0x59f+0x24*-0x4b+0x1f*-0x91&&w['log']('Powered\x20by'+'\x20PlayCanva'+'s\x20'+hn+'\x20'+$S),ea['_applicati'+'ons'][_0x3b67cf['id']]=this,_u(this),this['root']=new lt(),this['root']['_enabledIn'+'Hierarchy']=!(0xd*-0x10d+-0x913+0x16bc));}['init'](_0x1c276f){const {assetPrefix:_0x13799e,batchManager:_0x911012,componentSystems:_0xe6ca36,elementInput:_0xffe84a,gamepads:_0xbc287d,graphicsDevice:_0x1f790c,keyboard:_0x1a5da5,lightmapper:_0x51f310,mouse:_0x5067a0,resourceHandlers:_0x4afacb,scriptsOrder:_0x4f31bd,scriptPrefix:_0x4e7526,soundManager:_0x4ab7ba,touch:_0x5b5a12,xr:_0x1da7aa}=_0x1c276f;w['assert'](_0x1f790c,'The\x20applic'+'ation\x20cann'+'ot\x20be\x20crea'+'ted\x20withou'+'t\x20a\x20valid\x20'+'GraphicsDe'+'vice'),this['graphicsDe'+'vice']=_0x1f790c,Pe['get'](_0x1f790c,Fe)['add'](Z2),Pe['get'](_0x1f790c,it)['add'](JI),this['_initDefau'+'ltMaterial'](),this['_initProgr'+'amLibrary'](),this['stats']=new jC(_0x1f790c),this['_soundMana'+'ger']=_0x4ab7ba,this['scene']=new Et(_0x1f790c),this['_registerS'+'ceneImmedi'+'ate'](this['scene']),this['assets']=new mn(this['loader']),_0x13799e&&(this['assets']['prefix']=_0x13799e),this['bundles']=new UC(this['assets']),this['scriptsOrd'+'er']=_0x4f31bd||[],this['defaultLay'+'erWorld']=new Ot({'name':'World','id':er}),this['defaultLay'+'erDepth']=new Ot({'name':'Depth','id':ps,'enabled':!(-0x1caf+0x106b+0xc45),'opaqueSortMode':Yc}),this['defaultLay'+'erSkybox']=new Ot({'name':'Skybox','id':Kp,'opaqueSortMode':Yc}),this['defaultLay'+'erUi']=new Ot({'name':'UI','id':Il,'transparentSortMode':jw}),this['defaultLay'+'erImmediat'+'e']=new Ot({'name':'Immediate','id':Zp,'opaqueSortMode':Yc});const _0x3e30a1=new du('default');_0x3e30a1['pushOpaque'](this['defaultLay'+'erWorld']),_0x3e30a1['pushOpaque'](this['defaultLay'+'erDepth']),_0x3e30a1['pushOpaque'](this['defaultLay'+'erSkybox']),_0x3e30a1['pushTransp'+'arent'](this['defaultLay'+'erWorld']),_0x3e30a1['pushOpaque'](this['defaultLay'+'erImmediat'+'e']),_0x3e30a1['pushTransp'+'arent'](this['defaultLay'+'erImmediat'+'e']),_0x3e30a1['pushTransp'+'arent'](this['defaultLay'+'erUi']),this['scene']['layers']=_0x3e30a1,ia['createPlac'+'eholder'](_0x1f790c),this['renderer']=new fl(_0x1f790c),this['renderer']['scene']=this['scene'],_0x51f310&&(this['lightmappe'+'r']=new _0x51f310(_0x1f790c,this['root'],this['scene'],this['renderer'],this['assets']),this['once']('prerender',this['_firstBake'],this)),_0x911012&&(this['_batcher']=new _0x911012(_0x1f790c,this['root'],this['scene']),this['once']('prerender',this['_firstBatc'+'h'],this)),this['keyboard']=_0x1a5da5||null,this['mouse']=_0x5067a0||null,this['touch']=_0x5b5a12||null,this['gamepads']=_0xbc287d||null,_0xffe84a&&(this['elementInp'+'ut']=_0xffe84a,this['elementInp'+'ut']['app']=this),this['xr']=_0x1da7aa?new _0x1da7aa(this):null,this['elementInp'+'ut']&&this['elementInp'+'ut']['attachSele'+'ctEvents'](),this['_scriptPre'+'fix']=_0x4e7526||'',this['enableBund'+'les']&&this['loader']['addHandler']('bundle',new VC(this)),_0x4afacb['forEach'](_0x128756=>{const _0x37eb3a=new _0x128756(this);this['loader']['addHandler'](_0x37eb3a['handlerTyp'+'e'],_0x37eb3a);}),_0xe6ca36['forEach'](_0x4600f4=>{this['systems']['add'](new _0x4600f4(this));}),this['_visibilit'+'yChangeHan'+'dler']=this['onVisibili'+'tyChange']['bind'](this),typeof document<'u'&&(document['hidden']!==void(0x18f1+0x1dd2+-0x1*0x36c3)?(this['_hiddenAtt'+'r']='hidden',document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x9*-0x1+0x3*-0x7f3+-0x1*-0x17d1))):document['mozHidden']!==void(-0x13d9*0x1+-0x486*-0x2+0xacd)?(this['_hiddenAtt'+'r']='mozHidden',document['addEventLi'+'stener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x976*0x1+0x1d24+0x29*-0xf1))):document['msHidden']!==void(0x61*0x47+-0x96b+0x175*-0xc)?(this['_hiddenAtt'+'r']='msHidden',document['addEventLi'+'stener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1bc6+0x219d+0x1*-0x5d6))):document['webkitHidd'+'en']!==void(-0x426*-0x3+-0x1*-0x61d+-0x128f)&&(this['_hiddenAtt'+'r']='webkitHidd'+'en',document['addEventLi'+'stener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(0x4b1*0x3+0xa09+0x181b*-0x1)))),this['tick']=eL(this);}static['getApplica'+'tion'](_0x4299d7){return _0x4299d7?ea['_applicati'+'ons'][_0x4299d7]:Ms();}['_initDefau'+'ltMaterial'](){const _0x5aca0c=new Ut();_0x5aca0c['name']='Default\x20Ma'+'terial',xE(this['graphicsDe'+'vice'],_0x5aca0c);}['_initProgr'+'amLibrary'](){const _0x55d70d=new qA(this['graphicsDe'+'vice'],new Ut());cE(this['graphicsDe'+'vice'],_0x55d70d);}get['soundManag'+'er'](){return this['_soundMana'+'ger'];}get['batcher'](){return w['assert'](this['_batcher'],'BatchManag'+'er\x20has\x20not'+'\x20been\x20crea'+'ted\x20and\x20is'+'\x20required\x20'+'for\x20correc'+'t\x20function'+'ality.'),this['_batcher'];}get['fillMode'](){return this['_fillMode'];}get['resolution'+'Mode'](){return this['_resolutio'+'nMode'];}['configure'](_0x6e025d,_0x2f21a7){ot['get'](_0x6e025d,(_0x5d1954,_0x56420b)=>{if(_0x5d1954){_0x2f21a7(_0x5d1954);return;}const _0x43a22c=_0x56420b['applicatio'+'n_properti'+'es'],_0x8901f7=_0x56420b['scenes'],_0xe17f9a=_0x56420b['assets'];this['_parseAppl'+'icationPro'+'perties'](_0x43a22c,_0x5879ce=>{this['_parseScen'+'es'](_0x8901f7),this['_parseAsse'+'ts'](_0xe17f9a),_0x2f21a7(_0x5879ce||null);});});}['preload'](_0x3b644f){this['fire']('preload:st'+'art');const _0x51b9b7=this['assets']['list']({'preload':!(0x1185+0x1*-0x1877+0x6f2)});if(_0x51b9b7['length']===-0x1*0x33+0x1*-0x194c+0x1*0x197f){this['fire']('preload:en'+'d'),_0x3b644f();return;}let _0x207310=-0x17*0xc4+0xc82+0x51a;const _0x19ecc3=()=>{_0x207310++,this['fire']('preload:pr'+'ogress',_0x207310/_0x51b9b7['length']),_0x207310===_0x51b9b7['length']&&(this['fire']('preload:en'+'d'),_0x3b644f());};_0x51b9b7['forEach'](_0x3a661f=>{_0x3a661f['loaded']?_0x19ecc3():(_0x3a661f['once']('load',_0x19ecc3),_0x3a661f['once']('error',_0x19ecc3),this['assets']['load'](_0x3a661f));});}['_preloadSc'+'ripts'](_0x24161a,_0x238550){_0x238550();}['_parseAppl'+'icationPro'+'perties'](_0x2cc56f,_0x1b310f){if(typeof _0x2cc56f['maxAssetRe'+'tries']=='number'&&_0x2cc56f['maxAssetRe'+'tries']>-0x1*-0x183b+-0x26ab+0xe70&&this['loader']['enableRetr'+'y'](_0x2cc56f['maxAssetRe'+'tries']),_0x2cc56f['useDeviceP'+'ixelRatio']||(_0x2cc56f['useDeviceP'+'ixelRatio']=_0x2cc56f['use_device'+'_pixel_rat'+'io']),_0x2cc56f['resolution'+'Mode']||(_0x2cc56f['resolution'+'Mode']=_0x2cc56f['resolution'+'_mode']),_0x2cc56f['fillMode']||(_0x2cc56f['fillMode']=_0x2cc56f['fill_mode']),this['_width']=_0x2cc56f['width'],this['_height']=_0x2cc56f['height'],_0x2cc56f['useDeviceP'+'ixelRatio']&&(this['graphicsDe'+'vice']['maxPixelRa'+'tio']=window['devicePixe'+'lRatio']),this['setCanvasR'+'esolution'](_0x2cc56f['resolution'+'Mode'],this['_width'],this['_height']),this['setCanvasF'+'illMode'](_0x2cc56f['fillMode'],this['_width'],this['_height']),_0x2cc56f['layers']&&_0x2cc56f['layerOrder']){const _0x77263b=new du('applicatio'+'n'),_0x522b5c={};for(const _0x317331 in _0x2cc56f['layers']){const _0x9a681f=_0x2cc56f['layers'][_0x317331];_0x9a681f['id']=parseInt(_0x317331,0xd0a+-0x11ad+0x4ad),_0x9a681f['enabled']=_0x9a681f['id']!==ps,_0x522b5c[_0x317331]=new Ot(_0x9a681f);}for(let _0x3efcc8=0xb*-0x2c7+-0x75*-0x17+0x1*0x140a,_0x3c735f=_0x2cc56f['layerOrder']['length'];_0x3efcc8<_0x3c735f;_0x3efcc8++){const _0x5a9798=_0x2cc56f['layerOrder'][_0x3efcc8],_0x5adec6=_0x522b5c[_0x5a9798['layer']];_0x5adec6&&(_0x5a9798['transparen'+'t']?_0x77263b['pushTransp'+'arent'](_0x5adec6):_0x77263b['pushOpaque'](_0x5adec6),_0x77263b['subLayerEn'+'abled'][_0x3efcc8]=_0x5a9798['enabled']);}this['scene']['layers']=_0x77263b;}if(_0x2cc56f['batchGroup'+'s']){const _0x24abcd=this['batcher'];if(_0x24abcd)for(let _0x274322=-0x1df8+0x23e2+0x2*-0x2f5,_0x44aae8=_0x2cc56f['batchGroup'+'s']['length'];_0x274322<_0x44aae8;_0x274322++){const _0x2103a1=_0x2cc56f['batchGroup'+'s'][_0x274322];_0x24abcd['addGroup'](_0x2103a1['name'],_0x2103a1['dynamic'],_0x2103a1['maxAabbSiz'+'e'],_0x2103a1['id'],_0x2103a1['layers']);}}_0x2cc56f['i18nAssets']&&(this['i18n']['assets']=_0x2cc56f['i18nAssets']),this['_loadLibra'+'ries'](_0x2cc56f['libraries'],_0x1b310f);}['_loadLibra'+'ries'](_0x10edae,_0x3dce73){const _0x4a83fa=_0x10edae['length'];let _0x6a405f=_0x4a83fa;const _0x4cae35=/^https?:\/\//;if(_0x4a83fa){const _0x1680db=(_0x4065e8,_0x3fbbdd)=>{_0x6a405f--,_0x4065e8?_0x3dce73(_0x4065e8):_0x6a405f===-0x4*0x45f+0x2578+-0x13fc&&(this['onLibrarie'+'sLoaded'](),_0x3dce73(null));};for(let _0x128f48=0x2154*0x1+0xa1a+0x2*-0x15b7;_0x128f48<_0x4a83fa;++_0x128f48){let _0xfc681e=_0x10edae[_0x128f48];!_0x4cae35['test'](_0xfc681e['toLowerCas'+'e']())&&this['_scriptPre'+'fix']&&(_0xfc681e=xe['join'](this['_scriptPre'+'fix'],_0xfc681e)),this['loader']['load'](_0xfc681e,'script',_0x1680db);}}else this['onLibrarie'+'sLoaded'](),_0x3dce73(null);}['_parseScen'+'es'](_0x561cdf){if(_0x561cdf){for(let _0x4e3b12=-0x1*-0x1589+-0x131f+-0x67*0x6;_0x4e3b12<_0x561cdf['length'];_0x4e3b12++)this['scenes']['add'](_0x561cdf[_0x4e3b12]['name'],_0x561cdf[_0x4e3b12]['url']);}}['_parseAsse'+'ts'](_0x1de8dc){const _0x3a8e1f=[],_0x5de062={},_0x3844cf={};for(let _0x5c7199=-0x1a7a+-0x4f*-0x53+0xdd;_0x5c7199<this['scriptsOrd'+'er']['length'];_0x5c7199++){const _0x385cc3=this['scriptsOrd'+'er'][_0x5c7199];_0x1de8dc[_0x385cc3]&&(_0x5de062[_0x385cc3]=!(0x17fb+-0x1c01+0xce*0x5),_0x3a8e1f['push'](_0x1de8dc[_0x385cc3]));}if(this['enableBund'+'les']){for(const _0x45b589 in _0x1de8dc)_0x1de8dc[_0x45b589]['type']==='bundle'&&(_0x3844cf[_0x45b589]=!(0x5*0x6c6+0x260c+-0x523*0xe),_0x3a8e1f['push'](_0x1de8dc[_0x45b589]));}for(const _0xcb800a in _0x1de8dc)_0x5de062[_0xcb800a]||_0x3844cf[_0xcb800a]||_0x3a8e1f['push'](_0x1de8dc[_0xcb800a]);for(let _0x41ea9b=0x427*0x7+0x1fd4+0x1*-0x3ce5;_0x41ea9b<_0x3a8e1f['length'];_0x41ea9b++){const _0x4b06e5=_0x3a8e1f[_0x41ea9b],_0x4f7a05=new pe(_0x4b06e5['name'],_0x4b06e5['type'],_0x4b06e5['file'],_0x4b06e5['data']);if(_0x4f7a05['id']=parseInt(_0x4b06e5['id'],0x4ab*-0x3+-0x1e6f+0x1*0x2c7a),_0x4f7a05['preload']=_0x4b06e5['preload']?_0x4b06e5['preload']:!(-0x741+-0x2603+0x1*0x2d45),_0x4f7a05['loaded']=_0x4b06e5['type']==='script'&&_0x4b06e5['data']&&_0x4b06e5['data']['loadingTyp'+'e']>-0xc41*0x3+0x3*0x80+0x2343,_0x4f7a05['tags']['add'](_0x4b06e5['tags']),_0x4b06e5['i18n']){for(const _0x30d5d5 in _0x4b06e5['i18n'])_0x4f7a05['addLocaliz'+'edAssetId'](_0x30d5d5,_0x4b06e5['i18n'][_0x30d5d5]);}this['assets']['add'](_0x4f7a05);}}['start'](){w['call'](()=>{w['assert'](!this['_alreadySt'+'arted'],'The\x20applic'+'ation\x20can\x20'+'be\x20started'+'\x20only\x20one\x20'+'time.'),this['_alreadySt'+'arted']=!(-0x23c7+-0x1046+-0x340d*-0x1);}),this['frame']=-0xa15+-0xa7b+0x149*0x10,this['fire']('start',{'timestamp':de(),'target':this}),this['_libraries'+'Loaded']||this['onLibrarie'+'sLoaded'](),this['systems']['fire']('initialize',this['root']),this['fire']('initialize'),this['systems']['fire']('postInitia'+'lize',this['root']),this['systems']['fire']('postPostIn'+'itialize',this['root']),this['fire']('postinitia'+'lize'),this['tick']();}['inputUpdat'+'e'](_0x36af40){this['controller']&&this['controller']['update'](_0x36af40),this['mouse']&&this['mouse']['update'](),this['keyboard']&&this['keyboard']['update'](),this['gamepads']&&this['gamepads']['update']();}['update'](_0x282d27){this['frame']++,this['graphicsDe'+'vice']['update'](),this['stats']['frame']['updateStar'+'t']=de(),this['systems']['fire'](this['_inTools']?'toolsUpdat'+'e':'update',_0x282d27),this['systems']['fire']('animationU'+'pdate',_0x282d27),this['systems']['fire']('postUpdate',_0x282d27),this['fire']('update',_0x282d27),this['inputUpdat'+'e'](_0x282d27),this['stats']['frame']['updateTime']=de()-this['stats']['frame']['updateStar'+'t'];}['render'](){this['updateCanv'+'asSize'](),this['graphicsDe'+'vice']['frameStart'](),this['stats']['frame']['renderStar'+'t']=de(),this['fire']('prerender'),this['root']['syncHierar'+'chy'](),this['_batcher']&&this['_batcher']['updateAll'](),fl['_skipRende'+'rCounter']=0xab7*-0x3+0x2*0x2ff+0x1a27,this['renderComp'+'osition'](this['scene']['layers']),this['fire']('postrender'),this['stats']['frame']['renderTime']=de()-this['stats']['frame']['renderStar'+'t'],this['graphicsDe'+'vice']['frameEnd']();}['renderComp'+'osition'](_0x1cac1e){Q['clearGpuMa'+'rkers'](),this['renderer']['update'](_0x1cac1e),this['renderer']['buildFrame'+'Graph'](this['frameGraph'],_0x1cac1e),this['frameGraph']['render'](this['graphicsDe'+'vice']);}['_fillFrame'+'StatsBasic'](_0x5e4167,_0x5411f5,_0xfa1a63){const _0x4869eb=this['stats']['frame'];_0x4869eb['dt']=_0x5411f5,_0x4869eb['ms']=_0xfa1a63,_0x5e4167>_0x4869eb['_timeToCou'+'ntFrames']?(_0x4869eb['fps']=_0x4869eb['_fpsAccum'],_0x4869eb['_fpsAccum']=-0x9df+-0x1*-0x1a7c+-0x109d*0x1,_0x4869eb['_timeToCou'+'ntFrames']=_0x5e4167+(0x3*0xc8f+-0x51*0x56+0x17*-0x49)):_0x4869eb['_fpsAccum']++,this['stats']['drawCalls']['total']=this['graphicsDe'+'vice']['_drawCalls'+'PerFrame'],this['graphicsDe'+'vice']['_drawCalls'+'PerFrame']=0x6af*-0x2+0xb3d+0x221*0x1;}['_fillFrame'+'Stats'](){let _0xb8cd59=this['stats']['frame'];_0xb8cd59['cameras']=this['renderer']['_camerasRe'+'ndered'],_0xb8cd59['materials']=this['renderer']['_materialS'+'witches'],_0xb8cd59['shaders']=this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame'],_0xb8cd59['shadowMapU'+'pdates']=this['renderer']['_shadowMap'+'Updates'],_0xb8cd59['shadowMapT'+'ime']=this['renderer']['_shadowMap'+'Time'],_0xb8cd59['depthMapTi'+'me']=this['renderer']['_depthMapT'+'ime'],_0xb8cd59['forwardTim'+'e']=this['renderer']['_forwardTi'+'me'];const _0x1245bb=this['graphicsDe'+'vice']['_primsPerF'+'rame'];_0xb8cd59['triangles']=_0x1245bb[js]/(0x1de4+0xb36+-0x2917*0x1)+Math['max'](_0x1245bb[Er]-(-0x12b9+0x10*-0x236+-0x361b*-0x1),-0x1*0x149f+0x4f4+-0x7*-0x23d)+Math['max'](_0x1245bb[oa]-(0x1*0xf0d+0x2*0x454+0x17b3*-0x1),0xa65+-0x12cb+0x866),_0xb8cd59['cullTime']=this['renderer']['_cullTime'],_0xb8cd59['sortTime']=this['renderer']['_sortTime'],_0xb8cd59['skinTime']=this['renderer']['_skinTime'],_0xb8cd59['morphTime']=this['renderer']['_morphTime'],_0xb8cd59['lightClust'+'ers']=this['renderer']['_lightClus'+'ters'],_0xb8cd59['lightClust'+'ersTime']=this['renderer']['_lightClus'+'tersTime'],_0xb8cd59['otherPrimi'+'tives']=0xb5*0xe+-0x4ec+-0x5b*0xe;for(let _0x5f2a2e=-0x2512+0x20ab*-0x1+-0x45bd*-0x1;_0x5f2a2e<_0x1245bb['length'];_0x5f2a2e++)_0x5f2a2e<js&&(_0xb8cd59['otherPrimi'+'tives']+=_0x1245bb[_0x5f2a2e]),_0x1245bb[_0x5f2a2e]=-0x749+-0x7*0x1eb+0x14b6*0x1;this['renderer']['_camerasRe'+'ndered']=0x180+-0x14df+0x135f,this['renderer']['_materialS'+'witches']=0x56*0x1d+0xc69*-0x1+0x2ab*0x1,this['renderer']['_shadowMap'+'Updates']=0x2580+-0x3*-0xd03+-0x4c89,this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame']=0x1b1*-0xb+0x97*-0xb+0x58*0x49,this['renderer']['_cullTime']=0x24ab+0x376+-0x2821,this['renderer']['_layerComp'+'ositionUpd'+'ateTime']=0x2492+-0x2d4*0x8+-0xdf2,this['renderer']['_lightClus'+'tersTime']=0x10b7+-0x21a*-0xf+-0x303d,this['renderer']['_sortTime']=-0xf*0x2b+-0x61*-0x29+0x682*-0x2,this['renderer']['_skinTime']=-0xc91*-0x2+0x43f+-0x1d61,this['renderer']['_morphTime']=0x16*0xed+0x1*-0x74f+-0xd0f,this['renderer']['_shadowMap'+'Time']=-0x9c7*-0x2+-0x12*-0x1bb+-0x6e*0x76,this['renderer']['_depthMapT'+'ime']=-0x165+0x204a+-0x1ee5,this['renderer']['_forwardTi'+'me']=0x1f8+-0x5f6+0x7*0x92,_0xb8cd59=this['stats']['drawCalls'],_0xb8cd59['forward']=this['renderer']['_forwardDr'+'awCalls'],_0xb8cd59['culled']=this['renderer']['_numDrawCa'+'llsCulled'],_0xb8cd59['depth']=0x1084+0xa5+-0x1129,_0xb8cd59['shadow']=this['renderer']['_shadowDra'+'wCalls'],_0xb8cd59['skinned']=this['renderer']['_skinDrawC'+'alls'],_0xb8cd59['immediate']=0x17*0x71+-0x2363+-0x17c*-0x11,_0xb8cd59['instanced']=-0x17b2+-0x9*-0x15d+0x5*0x249,_0xb8cd59['removedByI'+'nstancing']=-0xc*0x177+0x37e*0x7+0x2*-0x36f,_0xb8cd59['misc']=_0xb8cd59['total']-(_0xb8cd59['forward']+_0xb8cd59['shadow']),this['renderer']['_depthDraw'+'Calls']=-0x1*-0x21e9+0x2334+-0x451d,this['renderer']['_shadowDra'+'wCalls']=-0xf58+-0x12ce+0x2226,this['renderer']['_forwardDr'+'awCalls']=-0x2*-0x4d5+-0x1509+-0x1*-0xb5f,this['renderer']['_numDrawCa'+'llsCulled']=-0x2*-0x101c+-0x23b+-0x9ff*0x3,this['renderer']['_skinDrawC'+'alls']=0x1e91+0x9d2+-0x5c5*0x7,this['renderer']['_immediate'+'Rendered']=0x1161+-0x1*-0x185b+-0x29bc,this['renderer']['_instanced'+'DrawCalls']=-0x2cf+-0x17ca+0x1a99,this['stats']['misc']['renderTarg'+'etCreation'+'Time']=this['graphicsDe'+'vice']['renderTarg'+'etCreation'+'Time'],_0xb8cd59=this['stats']['particles'],_0xb8cd59['updatesPer'+'Frame']=_0xb8cd59['_updatesPe'+'rFrame'],_0xb8cd59['frameTime']=_0xb8cd59['_frameTime'],_0xb8cd59['_updatesPe'+'rFrame']=0x12*0x8+-0x1*-0x1147+0x11d7*-0x1,_0xb8cd59['_frameTime']=-0xd7f*-0x1+-0x104a+0x2cb;}['setCanvasF'+'illMode'](_0x5e5519,_0x474c7a,_0x5ade8f){this['_fillMode']=_0x5e5519,this['resizeCanv'+'as'](_0x474c7a,_0x5ade8f);}['setCanvasR'+'esolution'](_0x2abb48,_0x4e6067,_0x4cf026){this['_resolutio'+'nMode']=_0x2abb48,_0x2abb48===wg&&_0x4e6067===void(-0x1*0x2037+-0x1b8e+-0x6b*-0x8f)&&(_0x4e6067=this['graphicsDe'+'vice']['canvas']['clientWidt'+'h'],_0x4cf026=this['graphicsDe'+'vice']['canvas']['clientHeig'+'ht']),this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x4e6067,_0x4cf026);}['isHidden'](){return document[this['_hiddenAtt'+'r']];}['onVisibili'+'tyChange'](){this['isHidden']()?this['_soundMana'+'ger']&&this['_soundMana'+'ger']['suspend']():this['_soundMana'+'ger']&&this['_soundMana'+'ger']['resume']();}['resizeCanv'+'as'](_0x5b5075,_0x21df0b){if(!this['_allowResi'+'ze']||this['xr']&&this['xr']['session'])return;const _0x3bc287=window['innerWidth'],_0x150eac=window['innerHeigh'+'t'];if(this['_fillMode']===Tg){const _0xd6b8fb=this['graphicsDe'+'vice']['canvas']['width']/this['graphicsDe'+'vice']['canvas']['height'],_0x545581=_0x3bc287/_0x150eac;_0xd6b8fb>_0x545581?(_0x5b5075=_0x3bc287,_0x21df0b=_0x5b5075/_0xd6b8fb):(_0x21df0b=_0x150eac,_0x5b5075=_0x21df0b*_0xd6b8fb);}else this['_fillMode']===PC&&(_0x5b5075=_0x3bc287,_0x21df0b=_0x150eac);return this['graphicsDe'+'vice']['canvas']['style']['width']=_0x5b5075+'px',this['graphicsDe'+'vice']['canvas']['style']['height']=_0x21df0b+'px',this['updateCanv'+'asSize'](),{'width':_0x5b5075,'height':_0x21df0b};}['updateCanv'+'asSize'](){var _0x2d0b18;if(!(!this['_allowResi'+'ze']||(_0x2d0b18=this['xr'])!=null&&_0x2d0b18['active'])&&this['_resolutio'+'nMode']===wg){const _0x13a541=this['graphicsDe'+'vice']['canvas'];this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x13a541['clientWidt'+'h'],_0x13a541['clientHeig'+'ht']);}}['onLibrarie'+'sLoaded'](){this['_libraries'+'Loaded']=!(-0x120c+-0x8f5*-0x2+0x22),this['systems']['rigidbody']&&this['systems']['rigidbody']['onLibraryL'+'oaded']();}['applyScene'+'Settings'](_0x46fa04){let _0x2a1f22;if(this['systems']['rigidbody']&&typeof Ammo<'u'){const [_0x5907b8,_0x12efb2,_0x1a5c2f]=_0x46fa04['physics']['gravity'];this['systems']['rigidbody']['gravity']['set'](_0x5907b8,_0x12efb2,_0x1a5c2f);}this['scene']['applySetti'+'ngs'](_0x46fa04),_0x46fa04['render']['hasOwnProp'+'erty']('skybox')&&(_0x46fa04['render']['skybox']?(_0x2a1f22=this['assets']['get'](_0x46fa04['render']['skybox']),_0x2a1f22?this['setSkybox'](_0x2a1f22):this['assets']['once']('add:'+_0x46fa04['render']['skybox'],this['setSkybox'],this)):this['setSkybox'](null));}['setAreaLig'+'htLuts'](_0x47dcc4,_0x88b8d7){_0x47dcc4&&_0x88b8d7?ia['set'](this['graphicsDe'+'vice'],_0x47dcc4,_0x88b8d7):w['warn']('setAreaLig'+'htLuts:\x20LU'+'Ts\x20for\x20are'+'a\x20light\x20ar'+'e\x20not\x20vali'+'d');}['setSkybox'](_0x2d8d97){if(_0x2d8d97!==this['_skyboxAss'+'et']){const _0x2fd80e=()=>{this['setSkybox'](null);},_0x1812ce=()=>{this['scene']['setSkybox'](this['_skyboxAss'+'et']?this['_skyboxAss'+'et']['resources']:null);};this['_skyboxAss'+'et']&&(this['assets']['off']('load:'+this['_skyboxAss'+'et']['id'],_0x1812ce,this),this['assets']['off']('remove:'+this['_skyboxAss'+'et']['id'],_0x2fd80e,this),this['_skyboxAss'+'et']['off']('change',_0x1812ce,this)),this['_skyboxAss'+'et']=_0x2d8d97,this['_skyboxAss'+'et']&&(this['assets']['on']('load:'+this['_skyboxAss'+'et']['id'],_0x1812ce,this),this['assets']['once']('remove:'+this['_skyboxAss'+'et']['id'],_0x2fd80e,this),this['_skyboxAss'+'et']['on']('change',_0x1812ce,this),this['scene']['skyboxMip']===-0x1148+0x1246*-0x2+0x35d4&&!this['_skyboxAss'+'et']['loadFaces']&&(this['_skyboxAss'+'et']['loadFaces']=!(-0x858+-0x1e34+0x268c)),this['assets']['load'](this['_skyboxAss'+'et'])),_0x1812ce();}}['_firstBake'](){var _0x55ca4a;(_0x55ca4a=this['lightmappe'+'r'])==null||_0x55ca4a['bake'](null,this['scene']['lightmapMo'+'de']);}['_firstBatc'+'h'](){var _0x2a1ce5;(_0x2a1ce5=this['batcher'])==null||_0x2a1ce5['generate']();}['_processTi'+'mestamp'](_0xb4f3d1){return _0xb4f3d1;}['drawLine'](_0x5d1384,_0x1ca1ea,_0x5a4c82,_0x5df793,_0x306117){this['scene']['drawLine'](_0x5d1384,_0x1ca1ea,_0x5a4c82,_0x5df793,_0x306117);}['drawLines'](_0x5a6c34,_0x51687f,_0x5b46a7=!(-0x1bac+-0x333+0x1edf),_0x53fbc5=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLines'](_0x5a6c34,_0x51687f,_0x5b46a7,_0x53fbc5);}['drawLineAr'+'rays'](_0xa39469,_0x39e350,_0x51a2e9=!(-0x101*0x13+0x1640+-0x32d),_0x1829f0=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLineAr'+'rays'](_0xa39469,_0x39e350,_0x51a2e9,_0x1829f0);}['drawWireSp'+'here'](_0x71d254,_0x4a4a55,_0x477964=ie['WHITE'],_0x46b54a=0xeb2+0xaa*-0x5+-0xb4c,_0x986894=!(0x56c*0x4+0x2209*-0x1+0x6d*0x1d),_0x448eb7=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawWireSp'+'here'](_0x71d254,_0x4a4a55,_0x477964,_0x46b54a,_0x986894,_0x448eb7);}['drawWireAl'+'ignedBox'](_0x4d9c95,_0x5d2bd0,_0x1e1e64=ie['WHITE'],_0x28947e=!(-0x1d*0x95+-0x4cb+0x15ac),_0x57ead1=this['scene']['defaultDra'+'wLayer'],_0xb367e5){this['scene']['immediate']['drawWireAl'+'ignedBox'](_0x4d9c95,_0x5d2bd0,_0x1e1e64,_0x28947e,_0x57ead1,_0xb367e5);}['drawMeshIn'+'stance'](_0x6cfe82,_0x582dc5=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](null,null,null,_0x6cfe82,_0x582dc5);}['drawMesh'](_0x3176de,_0x3c06a1,_0x1d723d,_0x1ea189=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x3c06a1,_0x1d723d,_0x3176de,null,_0x1ea189);}['drawQuad'](_0x4b6bb5,_0x35cc63,_0x53c72d=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x35cc63,_0x4b6bb5,this['scene']['immediate']['getQuadMes'+'h'](),null,_0x53c72d);}['drawTextur'+'e'](_0x20d958,_0x527094,_0x2dcbcb,_0x204b2c,_0x1d7980,_0x5cd48e,_0x17b350=this['scene']['defaultDra'+'wLayer'],_0x2c3c1e=!(0x1*-0x1534+-0x5*0x6e0+0x3794)){if(_0x2c3c1e===!(0xd28+0x2505+-0x322c)&&!this['graphicsDe'+'vice']['isWebGPU'])return;const _0x3c3804=new te();_0x3c3804['setTRS'](new D(_0x20d958,_0x527094,-0x11*-0x79+-0x1dd2+0x15c9),le['IDENTITY'],new D(_0x2dcbcb,-_0x204b2c,0x416*0x5+-0x1311*0x2+0x11b4)),_0x5cd48e||(_0x5cd48e=new Xn(),_0x5cd48e['cull']=bt,_0x5cd48e['setParamet'+'er']('colorMap',_0x1d7980),_0x5cd48e['shaderDesc']=_0x2c3c1e?this['scene']['immediate']['getTexture'+'ShaderDesc'](_0x1d7980['encoding']):this['scene']['immediate']['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](),_0x5cd48e['update']()),this['drawQuad'](_0x3c3804,_0x5cd48e,_0x17b350);}['drawDepthT'+'exture'](_0x924e3a,_0x5bbaf6,_0x3f2183,_0x5ba7e6,_0x406c27=this['scene']['defaultDra'+'wLayer']){const _0x7d686c=new Xn();_0x7d686c['cull']=bt,_0x7d686c['shaderDesc']=this['scene']['immediate']['getDepthTe'+'xtureShade'+'rDesc'](),_0x7d686c['update'](),this['drawTextur'+'e'](_0x924e3a,_0x5bbaf6,_0x3f2183,_0x5ba7e6,null,_0x7d686c,_0x406c27);}['destroy'](){var _0x2e4f33,_0x4037f8,_0x312f39,_0x260a45;if(this['_inFrameUp'+'date']){this['_destroyRe'+'quested']=!(-0x5db*0x1+-0x34*0x38+0x113b);return;}const _0x4f89f2=this['graphicsDe'+'vice']['canvas']['id'];this['fire']('destroy',this),this['off']('librariesl'+'oaded'),typeof document<'u'&&(document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x3*-0xb8d+0x73d*0x3+-0x2f*0x133)),document['removeEven'+'tListener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x224e+0x1c89+-0x2fe*0x15)),document['removeEven'+'tListener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x204c+-0x1*0x16be+0x370b)),document['removeEven'+'tListener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(0x1ca8+-0x12c0+-0x5*0x1fb))),this['_visibilit'+'yChangeHan'+'dler']=null,this['root']['destroy'](),this['root']=null,this['mouse']&&(this['mouse']['off'](),this['mouse']['detach'](),this['mouse']=null),this['keyboard']&&(this['keyboard']['off'](),this['keyboard']['detach'](),this['keyboard']=null),this['touch']&&(this['touch']['off'](),this['touch']['detach'](),this['touch']=null),this['elementInp'+'ut']&&(this['elementInp'+'ut']['detach'](),this['elementInp'+'ut']=null),this['gamepads']&&(this['gamepads']['destroy'](),this['gamepads']=null),this['controller']&&(this['controller']=null),this['systems']['destroy'](),this['scene']['layers']&&this['scene']['layers']['destroy']();const _0xfb9857=this['assets']['list']();for(let _0x2688a8=-0x218+0x1*0xbad+-0x1*0x995;_0x2688a8<_0xfb9857['length'];_0x2688a8++)_0xfb9857[_0x2688a8]['unload'](),_0xfb9857[_0x2688a8]['off']();this['assets']['off'](),this['bundles']['destroy'](),this['bundles']=null,this['i18n']['destroy'](),this['i18n']=null;const _0x1eb52a=this['loader']['getHandler']('script');_0x1eb52a==null||_0x1eb52a['clearCache'](),this['loader']['destroy'](),this['loader']=null,this['scene']['destroy'](),this['scene']=null,this['systems']=null,this['context']=null,this['scripts']['destroy'](),this['scripts']=null,this['scenes']['destroy'](),this['scenes']=null,(_0x2e4f33=this['lightmappe'+'r'])==null||_0x2e4f33['destroy'](),this['lightmappe'+'r']=null,this['_batcher']&&(this['_batcher']['destroy'](),this['_batcher']=null),this['_entityInd'+'ex']={},this['defaultLay'+'erDepth']['onDisable']=null,this['defaultLay'+'erDepth']['onEnable']=null,this['defaultLay'+'erDepth']=null,this['defaultLay'+'erWorld']=null,(_0x4037f8=this['xr'])==null||_0x4037f8['end'](),(_0x312f39=this['xr'])==null||_0x312f39['destroy'](),this['renderer']['destroy'](),this['renderer']=null,this['graphicsDe'+'vice']['destroy'](),this['graphicsDe'+'vice']=null,this['tick']=null,this['off'](),(_0x260a45=this['_soundMana'+'ger'])==null||_0x260a45['destroy'](),this['_soundMana'+'ger']=null,ea['_applicati'+'ons'][_0x4f89f2]=null,Ms()===this&&_u(null),ea['cancelTick'](this);}static['cancelTick'](_0x3494ce){_0x3494ce['frameReque'+'stId']&&(window['cancelAnim'+'ationFrame'](_0x3494ce['frameReque'+'stId']),_0x3494ce['frameReque'+'stId']=void(0xd3c+-0x1*0x2453+-0x17*-0x101));}['getEntityF'+'romIndex'](_0x5cc5ce){return this['_entityInd'+'ex'][_0x5cc5ce];}['_registerS'+'ceneImmedi'+'ate'](_0x158686){this['on']('postrender',_0x158686['immediate']['onPostRend'+'er'],_0x158686['immediate']);}};h(ea,'_applicati'+'ons',{});let Ks=ea;const eL=function(_0x2af8fc){const _0x28d1b6=_0x2af8fc;return function(_0x42a9be,_0x575ace){var _0x42da9e,_0x3d4441,_0x1d8f52,_0xe28830;if(!_0x28d1b6['graphicsDe'+'vice'])return;_0x28d1b6['frameReque'+'stId']&&((_0x3d4441=(_0x42da9e=_0x28d1b6['xr'])==null?void(0x1f*-0xba+0x11*-0xc5+0x239b):_0x42da9e['session'])==null||_0x3d4441['cancelAnim'+'ationFrame'](_0x28d1b6['frameReque'+'stId']),cancelAnimationFrame(_0x28d1b6['frameReque'+'stId']),_0x28d1b6['frameReque'+'stId']=null),_0x28d1b6['_inFrameUp'+'date']=!(0x1ae1+0xb*0xda+0x407*-0x9),_u(_0x28d1b6);const _0x3c5292=_0x28d1b6['_processTi'+'mestamp'](_0x42a9be)||de(),_0x2896fc=_0x3c5292-(_0x28d1b6['_time']||_0x3c5292);let _0x3e0dc4=_0x2896fc/(0x21e8+0x21c2+-0x3fc2);if(_0x3e0dc4=Y['clamp'](_0x3e0dc4,-0x2085+0x2319+-0x5*0x84,_0x28d1b6['maxDeltaTi'+'me']),_0x3e0dc4*=_0x28d1b6['timeScale'],_0x28d1b6['_time']=_0x3c5292,(_0x1d8f52=_0x28d1b6['xr'])!=null&&_0x1d8f52['session']?_0x28d1b6['frameReque'+'stId']=_0x28d1b6['xr']['session']['requestAni'+'mationFram'+'e'](_0x28d1b6['tick']):_0x28d1b6['frameReque'+'stId']=Ae['browser']||Ae['worker']?requestAnimationFrame(_0x28d1b6['tick']):null,_0x28d1b6['graphicsDe'+'vice']['contextLos'+'t'])return;_0x28d1b6['_fillFrame'+'StatsBasic'](_0x3c5292,_0x3e0dc4,_0x2896fc),_0x28d1b6['_fillFrame'+'Stats'](),_0x28d1b6['fire']('frameupdat'+'e',_0x2896fc);let _0x5832f2=!(0x9a8+-0x1098+-0x1*-0x6f1);_0x575ace?(_0x5832f2=!((_0xe28830=_0x28d1b6['xr'])!=null&&_0xe28830['update'](_0x575ace)),_0x28d1b6['graphicsDe'+'vice']['defaultFra'+'mebuffer']=_0x575ace['session']['renderStat'+'e']['baseLayer']['framebuffe'+'r']):_0x28d1b6['graphicsDe'+'vice']['defaultFra'+'mebuffer']=null,!_0x5832f2&&!_0x28d1b6['stopSort']&&(w['trace'](W0,'----\x20Frame'+'\x20'+_0x28d1b6['frame']),w['trace'](Ld,'--\x20UpdateS'+'tart\x20'+de()['toFixed'](-0x1783+-0xb5c+0x22e1*0x1)+'ms'),_0x28d1b6['update'](_0x3e0dc4),_0x28d1b6['fire']('framerende'+'r'),(_0x28d1b6['autoRender']||_0x28d1b6['renderNext'+'Frame'])&&(w['trace'](Ld,'--\x20RenderS'+'tart\x20'+de()['toFixed'](0x21a6+-0x16f+-0x1*0x2035)+'ms'),_0x28d1b6['render'](),_0x28d1b6['renderNext'+'Frame']=!(0x1f63*-0x1+-0xef*-0x29+-0x6e3),w['trace'](Ld,'--\x20RenderE'+'nd\x20'+de()['toFixed'](0x623*-0x5+0x17e8+0x9*0xc1)+'ms')),_0x28d1b6['fire']('frameend')),_0x28d1b6['_inFrameUp'+'date']=!(-0x121*0xb+0x1ef7+-0x128b),_0x28d1b6['_destroyRe'+'quested']&&_0x28d1b6['destroy']();};};class tL{constructor(){h(this,'elementInp'+'ut'),h(this,'keyboard'),h(this,'mouse'),h(this,'touch'),h(this,'gamepads'),h(this,'scriptPref'+'ix'),h(this,'assetPrefi'+'x'),h(this,'scriptsOrd'+'er'),h(this,'soundManag'+'er'),h(this,'graphicsDe'+'vice'),h(this,'lightmappe'+'r'),h(this,'batchManag'+'er'),h(this,'xr'),h(this,'componentS'+'ystems',[]),h(this,'resourceHa'+'ndlers',[]);}}const mo=new sp();class Uv{constructor(_0x23c854,_0x15d292,_0x4554ac){this['scene']=_0x23c854,this['light']=_0x15d292,this['store'](),_0x15d292['numCascade'+'s']=-0x1c6b+-0x7*-0x392+-0x2*-0x1b7,this['scene']['clusteredL'+'ightingEna'+'bled']&&!_0x4554ac['shadowsEna'+'bled']&&(_0x15d292['castShadow'+'s']=!(-0x24cb+0x25bf+0x3*-0x51)),_0x15d292['type']!==ve&&(_0x15d292['_node']['getWorldTr'+'ansform'](),_0x15d292['getBoundin'+'gSphere'](mo),this['lightBound'+'s']=new De(),this['lightBound'+'s']['center']['copy'](mo['center']),this['lightBound'+'s']['halfExtent'+'s']['set'](mo['radius'],mo['radius'],mo['radius']));}['store'](){this['mask']=this['light']['mask'],this['shadowUpda'+'teMode']=this['light']['shadowUpda'+'teMode'],this['enabled']=this['light']['enabled'],this['intensity']=this['light']['intensity'],this['rotation']=this['light']['_node']['getLocalRo'+'tation']()['clone'](),this['numCascade'+'s']=this['light']['numCascade'+'s'],this['castShadow'+'s']=this['light']['_castShado'+'ws'];}['restore'](){const _0x527b4d=this['light'];_0x527b4d['mask']=this['mask'],_0x527b4d['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x527b4d['enabled']=this['enabled'],_0x527b4d['intensity']=this['intensity'],_0x527b4d['_node']['setLocalRo'+'tation'](this['rotation']),_0x527b4d['numCascade'+'s']=this['numCascade'+'s'],_0x527b4d['_castShado'+'ws']=this['castShadow'+'s'];}['startBake'](){this['light']['enabled']=!(-0xbb1+0x1b36+-0xf85),this['light']['_destroySh'+'adowMap'](),this['light']['beginFrame']();}['endBake'](_0x47135f){const _0x5b836b=this['light'];_0x5b836b['enabled']=!(0x73f*-0x4+-0x2*-0xc2e+0x4a1*0x1),_0x5b836b['shadowMap']&&(_0x5b836b['shadowMap']['cached']&&_0x47135f['add'](_0x5b836b,_0x5b836b['shadowMap']),_0x5b836b['shadowMap']=null);}}const yc=new J();class sL extends Uv{constructor(_0x2df047,_0xbff95){super(_0x2df047['scene'],_0xbff95,_0x2df047['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['type']===ve?this['light']['bakeNumSam'+'ples']:-0xea1+0xd9*-0x2d+0x34c7;}['prepareVir'+'tualLight'](_0x79202b,_0x51d6f0){const _0x45c154=this['light'];if(_0x45c154['_node']['setLocalRo'+'tation'](this['rotation']),_0x79202b>0x737*-0x1+0x2ef*0xd+0x2*-0xf76){const _0x492811=_0x45c154['bakeArea'];Nl['circlePoin'+'tDetermini'+'stic'](yc,_0x79202b,_0x51d6f0),yc['mulScalar'](_0x492811*(-0x136d+0x241d+0x590*-0x3+0.5)),_0x45c154['_node']['rotateLoca'+'l'](yc['x'],0x2*-0x2a1+0x107*0x26+-0x21c8,yc['y']);}_0x45c154['_node']['getWorldTr'+'ansform']();const _0x509ac9=0x4cc+0x1*-0x1105+0x1*0xc3b+0.20000000000000018,_0x49a7bc=Math['pow'](this['intensity'],_0x509ac9);_0x45c154['intensity']=Math['pow'](_0x49a7bc/_0x51d6f0,(0x1a53*0x1+0x6*0x4df+0x58e*-0xa)/_0x509ac9);}}const Pg=new D();class Mg extends Uv{constructor(_0x41fac5){const _0x571d9a=_0x41fac5['scene'],_0x28e70d=new lt('AmbientLig'+'ht');_0x28e70d['addCompone'+'nt']('light',{'type':'directiona'+'l','affectDynamic':!(0xe02+-0x1*0x19cf+0x9f*0x13),'affectLightmapped':!(-0x1df4+-0x80c+0x2601),'bake':!(-0x687*0x3+-0xa*0x62+0x1769),'bakeNumSamples':_0x571d9a['ambientBak'+'eNumSample'+'s'],'castShadows':!(0xdf3+-0x23a*-0x1+0x1*-0x102d),'normalOffsetBias':0.05,'shadowBias':0.2,'shadowDistance':0x1,'shadowResolution':0x800,'shadowType':$s,'color':ie['WHITE'],'intensity':0x1,'bakeDir':!(0x670+-0x8e9+-0x27a*-0x1)}),super(_0x571d9a,_0x28e70d['light']['light'],_0x41fac5['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['bakeNumSam'+'ples'];}['prepareVir'+'tualLight'](_0x263477,_0x4bd192){Nl['spherePoin'+'tDetermini'+'stic'](Pg,_0x263477,_0x4bd192,0x163d*0x1+0xb0*0x16+-0x5*0x779,this['scene']['ambientBak'+'eSpherePar'+'t']),this['light']['_node']['lookAt'](Pg['mulScalar'](-(0x21e2*0x1+0xbe1*0x3+-0x4584))),this['light']['_node']['rotateLoca'+'l'](-0xde9+-0x1d2b+0x2b6e,0x1*-0x2480+-0x5*-0x83+0x21f1,0x1*-0xe08+0x19ee*-0x1+0x27f6);const _0x1ef7de=-0xd*0x4f+0x26b9+0x22b4*-0x1+0.20000000000000018,_0x3dfcf9=(-0x1*-0x1d47+-0x5*0x62+-0x1b5b)*Math['PI']*this['scene']['ambientBak'+'eSpherePar'+'t'],_0x15a0a7=Math['pow'](_0x3dfcf9,_0x1ef7de);this['light']['intensity']=Math['pow'](_0x15a0a7/_0x4bd192,(-0x55*-0x22+0x24cc+-0x3*0x1007)/_0x1ef7de);}}class vc{constructor(_0x3a771d,_0x2b80e3=null){this['node']=_0x3a771d,this['component']=_0x3a771d['render']||_0x3a771d['model'],_0x2b80e3=_0x2b80e3||this['component']['meshInstan'+'ces'],this['store'](),this['meshInstan'+'ces']=_0x2b80e3,this['bounds']=null,this['renderTarg'+'ets']=[];}['store'](){this['castShadow'+'s']=this['component']['castShadow'+'s'];}['restore'](){this['component']['castShadow'+'s']=this['castShadow'+'s'];}}const iL='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afl'+'oat\x20normpd'+'f3(in\x20vec3'+'\x20v,\x20in\x20flo'+'at\x20sigma)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x200.39894'+'\x20*\x20exp(-0.'+'5\x20*\x20dot(v,'+'\x20v)\x20/\x20(sig'+'ma\x20*\x20sigma'+'))\x20/\x20sigma'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBM'+'(vec4\x20rgbm'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20color\x20='+'\x20(8.0\x20*\x20rg'+'bm.a)\x20*\x20rg'+'bm.rgb;\x0a\x20\x20'+'\x20\x20return\x20c'+'olor\x20*\x20col'+'or;\x0a}\x0a\x0aflo'+'at\x20saturat'+'e(float\x20x)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeRG'+'BM(vec3\x20co'+'lor)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20encoded'+';\x0a\x20\x20\x20\x20enco'+'ded.rgb\x20=\x20'+'pow(color.'+('rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20encoded.r'+'gb\x20*=\x201.0\x20'+'/\x208.0;\x0a\x0a\x20\x20'+'\x20\x20encoded.'+'a\x20=\x20satura'+'te(\x20max(\x20m'+'ax(\x20encode'+'d.r,\x20encod'+'ed.g\x20),\x20ma'+'x(\x20encoded'+'.b,\x201.0\x20/\x20'+'255.0\x20)\x20)\x20'+');\x0a\x20\x20\x20\x20enc'+'oded.a\x20=\x20c'+'eil(encode'+'d.a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20enc'+'oded.rgb\x20/'+'=\x20encoded.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20encode'+'d;\x0a}\x0a\x0avec3'+'\x20decode(ve'+'c4\x20pixel)\x20'+'{\x0a\x20\x20\x20\x20#if\x20'+'HDR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20p'+'ixel.rgb;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eRGBM(pixe'+'l);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0abo'+'ol\x20isUsed('+'vec4\x20pixel'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20HDR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20any(great'+'erThan(pix'+'el.rgb,\x20ve'+'c3(0.0)));'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20pixe'+'l.a\x20>\x200.0;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0avaryi'+'ng\x20vec2\x20vU'+'v0;\x0aunifor'+'m\x20sampler2'+'D\x20source;\x0a'+'uniform\x20ve'+'c2\x20pixelOf'+'fset;\x0aunif'+'orm\x20vec2\x20s'+'igmas;\x0auni'+'form\x20float'+'\x20bZnorm;\x0au'+'niform\x20flo'+'at\x20kernel['+'{MSIZE}];\x0a'+'\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20ve'+'c4\x20pixel\x20='+'\x20texture2D'+'Lod(source'+',\x20vUv0,\x200.'+'0);\x0a\x0a\x20\x20\x20\x20/'+'/\x20lightmap'+'\x20specific\x20'+'optimizati'+'on\x20-\x20skip\x20'+'pixels\x20tha'+'t\x20were\x20not'+'\x20baked\x0a\x20\x20\x20'+'\x20//\x20this\x20a'+'lso\x20allows'+'\x20dilate\x20fi'+'lter\x20that\x20'+'work\x20on\x20th'+'e\x20output\x20o'+'f\x20this\x20to\x20'+'work\x20corre'+'ctly,\x20as\x20i'+'t\x20depends\x20'+'on\x20.a\x20bein'+'g\x20zero\x0a\x20\x20\x20'+'\x20//\x20to\x20dil'+'ate,\x20which'+'\x20the\x20follo'+'wing\x20blur\x20'+'filter\x20wou'+'ld\x20otherwi'+'se\x20modify\x0a')+('\x20\x20\x20\x20if\x20(!i'+'sUsed(pixe'+'l))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20p'+'ixel;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20sigma\x20-'+'\x20controls\x20'+'blurriness'+'\x20based\x20on\x20'+'a\x20pixel\x20di'+'stance\x0a\x20\x20\x20'+'\x20float\x20sig'+'ma\x20=\x20sigma'+'s.x;\x0a\x0a\x20\x20\x20\x20'+'//\x20domain\x20'+'sigma\x20-\x20co'+'ntrols\x20blu'+'rriness\x20ba'+'sed\x20on\x20a\x20p'+'ixel\x20simil'+'arity\x20(to\x20'+'preserve\x20e'+'dges)\x0a\x20\x20\x20\x20'+'float\x20bSig'+'ma\x20=\x20sigma'+'s.y;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20pixel'+'Hdr\x20=\x20deco'+'de(pixel);'+'\x0a\x20\x20\x20\x20vec3\x20'+'accumulate'+'dHdr\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20float\x20ac'+'cumulatedF'+'actor\x20=\x200.'+'000001;\x20\x20/'+'/\x20avoid\x20di'+'vision\x20by\x20'+'zero\x0a\x0a\x20\x20\x20\x20'+'//\x20read\x20ou'+'t\x20the\x20texe'+'ls\x0a\x20\x20\x20\x20con'+'st\x20int\x20kSi'+'ze\x20=\x20({MSI'+'ZE}\x20-\x201)\x20/'+'\x202;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x20-kSize;\x20i'+'\x20<=\x20kSize;'+'\x20++i)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20j\x20=\x20-'+'kSize;\x20j\x20<'+'=\x20kSize;\x20+'+'+j)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sample'+'\x20the\x20pixel'+'\x20with\x20offs'+'et\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'coord\x20=\x20vU'+'v0\x20+\x20vec2('+'float(i),\x20'+'float(j))\x20'+'*\x20pixelOff'+'set;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20pix\x20=\x20te'+'xture2DLod'+'(source,\x20c'+'oord,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20li'+'ghtmap\x20-\x20o'+'nly\x20use\x20ba'+'ked\x20pixels'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isU'+'sed(pix))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20hdr\x20=\x20d'+'ecode(pix)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20bilatera'+'l\x20factors\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20factor\x20='+'\x20kernel[kS'+'ize\x20+\x20j]\x20*'+'\x20kernel[kS')+('ize\x20+\x20i];\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fact'+'or\x20*=\x20norm'+'pdf3(hdr\x20-'+'\x20pixelHdr,'+'\x20bSigma)\x20*'+'\x20bZnorm;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'ccumulate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20accu'+'mulatedHdr'+'\x20+=\x20factor'+'\x20*\x20hdr;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20accumu'+'latedFacto'+'r\x20+=\x20facto'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20finalHD'+'R\x20=\x20accumu'+'latedHdr\x20/'+'\x20accumulat'+'edFactor;\x0a'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(finalHDR,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'encodeRGBM'+'(finalHDR)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a'),rL='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0auniform\x20'+'sampler2D\x20'+'source;\x0aun'+'iform\x20vec2'+'\x20pixelOffs'+'et;\x0a\x0abool\x20'+'isUsed(vec'+'4\x20pixel)\x20{'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20an'+'y(greaterT'+'han(pixel.'+'rgb,\x20vec3('+'0.0)));\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20pixel.a'+'\x20>\x200.0;\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20c'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20vUv0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'c\x20=\x20isUsed'+'(c)\x20?\x20c\x20:\x20'+'texture2DL'+'od(source,'+'\x20vUv0\x20-\x20pi'+'xelOffset,'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20v'+'ec2(0,\x20-pi'+'xelOffset.'+'y),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(pix'+'elOffset.x'+',\x20-pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(-pixelOf'+'fset.x,\x200)'+',\x200.0);\x0a\x20\x20'+'\x20\x20c\x20=\x20isUs'+'ed(c)\x20?\x20c\x20'+':\x20texture2'+'DLod(sourc'+'e,\x20vUv0\x20+\x20'+'vec2(pixel'+'Offset.x,\x20'+'0),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(-pi'+'xelOffset.'+'x,\x20pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(0,\x20pixel'+'Offset.y),'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20p'+'ixelOffset'+',\x200.0);\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20c;\x0a'+'}\x0a',aL='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afn'+'\x20normpdf3('+'v:\x20vec3f,\x20'+'sigma:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x200.39894\x20'+'*\x20exp(-0.5'+'\x20*\x20dot(v,\x20'+'v)\x20/\x20(sigm'+'a\x20*\x20sigma)'+')\x20/\x20sigma;'+'\x0a}\x0a\x0afn\x20dec'+'odeRGBM(rg'+'bm:\x20vec4f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'color\x20=\x20(8'+'.0\x20*\x20rgbm.'+'a)\x20*\x20rgbm.'+'rgb;\x0a\x20\x20\x20\x20r'+'eturn\x20colo'+'r\x20*\x20color;'+'\x0a}\x0a\x0afn\x20sat'+'urate(x:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0afn\x20'+'encodeRGBM'+'(color:\x20ve'+'c3f)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'var\x20encode'+'d:\x20vec4f;\x0a'+'\x20\x20\x20\x20let\x20rg'+'b_processe'+('d\x20=\x20pow(co'+'lor.rgb,\x20v'+'ec3f(0.5))'+'\x20*\x20(1.0\x20/\x20'+'8.0);\x0a\x20\x20\x20\x20'+'encoded\x20=\x20'+'vec4f(rgb_'+'processed,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20let\x20max_'+'g_b\x20=\x20max('+'\x20encoded.g'+',\x20max(\x20enc'+'oded.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20);\x0a\x20\x20\x20\x20l'+'et\x20max_rgb'+'\x20=\x20max(\x20en'+'coded.r,\x20m'+'ax_g_b\x20);\x0a'+'\x20\x20\x20\x20encode'+'d.a\x20=\x20clam'+'p(max_rgb,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20enco'+'ded.a\x20=\x20ce'+'il(encoded'+'.a\x20*\x20255.0'+')\x20/\x20255.0;'+'\x0a\x0a\x20\x20\x20\x20enco'+'ded\x20=\x20vec4'+'f(encoded.'+'rgb\x20/\x20enco'+'ded.a,\x20enc'+'oded.a);\x0a\x20'+'\x20\x20\x20return\x20'+'encoded;\x0a}'+'\x0a\x0afn\x20decod'+'e(pixel:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20#if\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20pixel.'+'rgb;\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'decodeRGBM'+'(pixel);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a\x0afn\x20isUs'+'ed(pixel:\x20'+'vec4f)\x20->\x20'+'bool\x20{\x0a\x20\x20\x20'+'\x20#if\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20any(pi'+'xel.rgb\x20>\x20'+'vec3f(0.0)'+');\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20pi'+'xel.a\x20>\x200.'+'0;\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a\x0avar'+'ying\x20vUv0:'+'\x20vec2f;\x0ava'+'r\x20source:\x20'+'texture_2d'+'<f32>;\x0avar'+'\x20sourceSam'+'pler:\x20samp'+'ler;\x0aunifo'+'rm\x20kernel:'+'\x20array<f32'+',\x20{MSIZE}>'+';\x0auniform\x20'+'pixelOffse'+'t:\x20vec2f;\x0a'+'uniform\x20si'+'gmas:\x20vec2'+'f;\x0auniform'+'\x20bZnorm:\x20f'+'32;\x0a\x0a@frag'+'ment\x0afn\x20fr'+'agmentMain'+'(input:\x20Fr'+'agmentInpu'+'t)\x20->\x20Frag'+'mentOutput'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20pixel\x20'+'=\x20textureS'+'ampleLevel'+'(source,\x20s'+'ourceSampl'+'er,\x20input.')+('vUv0,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'lightmap\x20s'+'pecific\x20op'+'timization'+'\x20-\x20skip\x20pi'+'xels\x20that\x20'+'were\x20not\x20b'+'aked\x0a\x20\x20\x20\x20/'+'/\x20this\x20als'+'o\x20allows\x20d'+'ilate\x20filt'+'er\x20that\x20wo'+'rk\x20on\x20the\x20'+'output\x20of\x20'+'this\x20to\x20wo'+'rk\x20correct'+'ly,\x20as\x20it\x20'+'depends\x20on'+'\x20.a\x20being\x20'+'zero\x0a\x20\x20\x20\x20/'+'/\x20to\x20dilat'+'e,\x20which\x20t'+'he\x20followi'+'ng\x20blur\x20fi'+'lter\x20would'+'\x20otherwise'+'\x20modify\x0a\x20\x20'+'\x20\x20if\x20(!isU'+'sed(pixel)'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.c'+'olor\x20=\x20pix'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20o'+'utput;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20range\x20sig'+'ma\x20-\x20contr'+'ols\x20blurri'+'ness\x20based'+'\x20on\x20a\x20pixe'+'l\x20distance'+'\x0a\x20\x20\x20\x20let\x20s'+'igma\x20=\x20uni'+'form.sigma'+'s.x;\x0a\x0a\x20\x20\x20\x20'+'//\x20domain\x20'+'sigma\x20-\x20co'+'ntrols\x20blu'+'rriness\x20ba'+'sed\x20on\x20a\x20p'+'ixel\x20simil'+'arity\x20(to\x20'+'preserve\x20e'+'dges)\x0a\x20\x20\x20\x20'+'let\x20bSigma'+'\x20=\x20uniform'+'.sigmas.y;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'pixelHdr\x20='+'\x20decode(pi'+'xel);\x0a\x20\x20\x20\x20'+'var\x20accumu'+'latedHdr\x20='+'\x20vec3f(0.0'+');\x0a\x20\x20\x20\x20var'+'\x20accumulat'+'edFactor\x20='+'\x200.000001;'+'\x20\x20//\x20avoid'+'\x20division\x20'+'by\x20zero\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20out\x20the\x20t'+'exels\x0a\x20\x20\x20\x20'+'const\x20kSiz'+'e\x20=\x20({MSIZ'+'E}\x20-\x201)\x20/\x20'+'2;\x0a\x20\x20\x20\x20for'+'\x20(var\x20i:\x20i'+'32\x20=\x20-kSiz'+'e;\x20i\x20<=\x20kS'+'ize;\x20i\x20=\x20i'+'\x20+\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(var\x20j:\x20i3'+'2\x20=\x20-kSize'+';\x20j\x20<=\x20kSi'+'ze;\x20j\x20=\x20j\x20'+'+\x201)\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20sample\x20'+'the\x20pixel\x20'+'with\x20offse'+'t\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20co'+'ord\x20=\x20inpu'+'t.vUv0\x20+\x20v'+'ec2f(f32(i')+('),\x20f32(j))'+'\x20*\x20uniform'+'.pixelOffs'+'et;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'pix\x20=\x20text'+'ureSampleL'+'evel(sourc'+'e,\x20sourceS'+'ampler,\x20co'+'ord,\x200.0);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20lig'+'htmap\x20-\x20on'+'ly\x20use\x20bak'+'ed\x20pixels\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(isUs'+'ed(pix))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20hdr\x20=\x20dec'+'ode(pix);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'bilateral\x20'+'factors\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20fa'+'ctor\x20=\x20uni'+'form.kerne'+'l[u32(kSiz'+'e\x20+\x20j)].el'+'ement\x20*\x20un'+'iform.kern'+'el[u32(kSi'+'ze\x20+\x20i)].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20factor'+'\x20=\x20factor\x20'+'*\x20normpdf3'+'(hdr\x20-\x20pix'+'elHdr,\x20bSi'+'gma)\x20*\x20uni'+'form.bZnor'+'m;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20accumul'+'ate\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'accumulate'+'dHdr\x20=\x20acc'+'umulatedHd'+'r\x20+\x20factor'+'\x20*\x20hdr;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20accumu'+'latedFacto'+'r\x20=\x20accumu'+'latedFacto'+'r\x20+\x20factor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20let'+'\x20finalHDR\x20'+'=\x20accumula'+'tedHdr\x20/\x20a'+'ccumulated'+'Factor;\x0a\x0a\x20'+'\x20\x20\x20#if\x20HDR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'finalHDR,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20e'+'ncodeRGBM('+'finalHDR);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a'),nL='\x0a\x0avarying\x20'+'vUv0:\x20vec2'+'f;\x0a\x0avar\x20so'+'urce:\x20text'+'ure_2d<f32'+'>;\x0avar\x20sou'+'rceSampler'+':\x20sampler;'+'\x0auniform\x20p'+'ixelOffset'+':\x20vec2f;\x0a\x0a'+'fn\x20isUsed('+'pixel:\x20vec'+'4f)\x20->\x20boo'+'l\x20{\x0a\x20\x20\x20\x20#i'+'fdef\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20any(pi'+'xel.rgb\x20>\x20'+'vec3f(0.0)'+');\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20pi'+'xel.a\x20>\x200.'+'0;\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a\x0a@fr'+'agment\x0afn\x20'+'fragmentMa'+'in(input:\x20'+'FragmentIn'+'put)\x20->\x20Fr'+'agmentOutp'+'ut\x20{\x0a\x20\x20\x20\x20v'+'ar\x20c:\x20vec4'+'f\x20=\x20textur'+'eSampleLev'+'el(source,'+'\x20sourceSam'+'pler,\x20inpu'+'t.vUv0,\x200.'+'0);\x0a\x20\x20\x20\x20c\x20'+'=\x20select(t'+'extureSamp'+'leLevel(so'+'urce,\x20sour'+'ceSampler,'+'\x20input.vUv'+'0\x20-\x20unifor'+'m.pixelOff'+'set,\x200.0),'+'\x20c,\x20isUsed'+'(c));\x0a\x20\x20\x20\x20'+'c\x20=\x20select'+'(textureSa'+'mpleLevel('+'source,\x20so'+'urceSample'+'r,\x20input.v'+'Uv0\x20+\x20vec2'+'f(0.0,\x20-un'+'iform.pixe'+'lOffset.y)'+',\x200.0),\x20c,'+'\x20isUsed(c)'+');\x0a\x20\x20\x20\x20c\x20='+'\x20select(te'+'xtureSampl'+'eLevel(sou'+'rce,\x20sourc'+'eSampler,\x20'+'input.vUv0'+'\x20+\x20vec2f(u'+'niform.pix'+'elOffset.x'+',\x20-uniform'+'.pixelOffs'+'et.y),\x200.0'+'),\x20c,\x20isUs'+'ed(c));\x0a\x20\x20'+'\x20\x20c\x20=\x20sele'+'ct(texture'+'SampleLeve'+'l(source,\x20'+'sourceSamp'+'ler,\x20input'+'.vUv0\x20+\x20ve'+'c2f(-unifo'+'rm.pixelOf'+'fset.x,\x200.'+'0),\x200.0),\x20'+'c,\x20isUsed('+'c));\x0a\x20\x20\x20\x20c'+'\x20=\x20select('+'textureSam'+'pleLevel(s'+'ource,\x20sou'+'rceSampler'+',\x20input.vU'+'v0\x20+\x20vec2f'+'(uniform.p'+('ixelOffset'+'.x,\x200.0),\x20'+'0.0),\x20c,\x20i'+'sUsed(c));'+'\x0a\x20\x20\x20\x20c\x20=\x20s'+'elect(text'+'ureSampleL'+'evel(sourc'+'e,\x20sourceS'+'ampler,\x20in'+'put.vUv0\x20+'+'\x20vec2f(-un'+'iform.pixe'+'lOffset.x,'+'\x20uniform.p'+'ixelOffset'+'.y),\x200.0),'+'\x20c,\x20isUsed'+'(c));\x0a\x20\x20\x20\x20'+'c\x20=\x20select'+'(textureSa'+'mpleLevel('+'source,\x20so'+'urceSample'+'r,\x20input.v'+'Uv0\x20+\x20vec2'+'f(0.0,\x20uni'+'form.pixel'+'Offset.y),'+'\x200.0),\x20c,\x20'+'isUsed(c))'+';\x0a\x20\x20\x20\x20c\x20=\x20'+'select(tex'+'tureSample'+'Level(sour'+'ce,\x20source'+'Sampler,\x20i'+'nput.vUv0\x20'+'+\x20uniform.'+'pixelOffse'+'t,\x200.0),\x20c'+',\x20isUsed(c'+'));\x0a\x0a\x20\x20\x20\x20v'+'ar\x20output:'+'\x20FragmentO'+'utput;\x0a\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20c;\x0a\x20'+'\x20\x20\x20return\x20'+'output;\x0a}\x0a'),Dg=0x22d5+0x1*0x231d+-0x45e3,oL={'glslBilateralDeNoisePS':iL,'glslDilatePS':rL},lL={'wgslBilateralDeNoisePS':aL,'wgslDilatePS':nL};class cL{constructor(_0x2799ed){h(this,'shaderDila'+'te',[]),h(this,'shaderDeno'+'ise',[]),(this['device']=_0x2799ed,Pe['get'](this['device'],Fe)['add'](oL),Pe['get'](this['device'],it)['add'](lL),this['constantTe'+'xSource']=_0x2799ed['scope']['resolve']('source'),this['constantPi'+'xelOffset']=_0x2799ed['scope']['resolve']('pixelOffse'+'t'),this['pixelOffse'+'t']=new Float32Array(0x163*-0x13+-0xc*0xc+-0x3*-0x8f9),this['sigmas']=null,this['constantSi'+'gmas']=null,this['kernel']=null);}['setSourceT'+'exture'](_0x3030dd){this['constantTe'+'xSource']['setValue'](_0x3030dd);}['prepare'](_0x32ecd7,_0x6ac4c0){this['pixelOffse'+'t'][0x1*-0xc59+0x1db4+0x115b*-0x1]=(-0x4cb+0x9*0x2d4+-0x14a8)/_0x32ecd7,this['pixelOffse'+'t'][-0x1e43+0x2*-0x114f+0x40e2]=(0x4*-0x602+0x1*0x18be+-0x1*0xb5)/_0x6ac4c0,this['constantPi'+'xelOffset']['setValue'](this['pixelOffse'+'t']);}['prepareDen'+'oise'](_0x59627b,_0x2c3222,_0x49c204){const _0x301ad6=_0x49c204?-0xf57+0x187d+-0x926:0xfb*-0xf+-0x22eb+-0x25d*-0x15;if(!this['shaderDeno'+'ise'][_0x301ad6]){const _0x31cb95=new Map();_0x31cb95['set']('{MSIZE}',-0x1792+0x9e4+0xdbd),_0x49c204&&_0x31cb95['set']('HDR',''),this['shaderDeno'+'ise'][_0x301ad6]=$t['createShad'+'er'](this['device'],{'uniqueName':'lmBilatera'+'lDeNoise-'+(_0x49c204?'hdr':'rgbm'),'attributes':{'vertex_position':Me},'vertexGLSL':Pe['get'](this['device'],Fe)['get']('fullscreen'+'QuadVS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('fullscreen'+'QuadVS'),'fragmentGLSL':Pe['get'](this['device'],Fe)['get']('glslBilate'+'ralDeNoise'+'PS'),'fragmentWGSL':Pe['get'](this['device'],it)['get']('wgslBilate'+'ralDeNoise'+'PS'),'fragmentDefines':_0x31cb95}),this['sigmas']=new Float32Array(0x160*-0x6+0x957*-0x2+0x1af*0x10),this['constantSi'+'gmas']=this['device']['scope']['resolve']('sigmas'),this['constantKe'+'rnel']=this['device']['scope']['resolve']('kernel[0]'),this['bZnorm']=this['device']['scope']['resolve']('bZnorm');}this['sigmas'][-0x12c5*-0x1+0x4cd*-0x3+-0x45e]=_0x59627b,this['sigmas'][0x1*-0x15cb+0x341*-0x1+0x190d]=_0x2c3222,this['constantSi'+'gmas']['setValue'](this['sigmas']),this['evaluateDe'+'noiseUnifo'+'rms'](_0x59627b,_0x2c3222);}['getDenoise'](_0x2466f9){const _0xceb4e7=_0x2466f9?0x367+0x1fdd+-0x2344:0x61b+0x3*-0xcfb+0x1*0x20d7;return this['shaderDeno'+'ise'][_0xceb4e7];}['getDilate'](_0x2a0da0,_0x44defd){const _0x7af20d=_0x44defd?-0x1099+-0x7ce+0x1867:0x2444+0x12bc+-0xd*0x43b;if(!this['shaderDila'+'te'][_0x7af20d]){const _0x2c2d61=_0x44defd?'#define\x20HD'+'R\x0a':'';this['shaderDila'+'te'][_0x7af20d]=$t['createShad'+'er'](_0x2a0da0,{'uniqueName':'lmDilate-'+(_0x44defd?'hdr':'rgbm'),'attributes':{'vertex_position':Me},'vertexGLSL':Pe['get'](this['device'],Fe)['get']('fullscreen'+'QuadVS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('fullscreen'+'QuadVS'),'fragmentGLSL':_0x2c2d61+Pe['get'](this['device'],Fe)['get']('glslDilate'+'PS'),'fragmentWGSL':_0x2c2d61+Pe['get'](this['device'],it)['get']('wgslDilate'+'PS')});}return this['shaderDila'+'te'][_0x7af20d];}['evaluateDe'+'noiseUnifo'+'rms'](_0x5748ae,_0x3661b5){function _0xa47a38(_0xbc0e6d,_0x350745){return(0xa3f+0x180+0xbbf*-0x1+0.39894)*Math['exp'](-(0xa79+0xc5*-0x1+-0x1*0x9b4+0.5)*_0xbc0e6d*_0xbc0e6d/(_0x350745*_0x350745))/_0x350745;}this['kernel']=this['kernel']||new Float32Array(Dg);const _0xde19b9=this['kernel'],_0x3da216=Math['floor']((Dg-(-0x1*-0xf7+0x2a0+0x33*-0x12))/(0x3aa*-0x2+-0x1339+-0xd*-0x20b));for(let _0x308ab5=-0x7b9*-0x1+0xb60+0x1*-0x1319;_0x308ab5<=_0x3da216;++_0x308ab5){const _0x28ee27=_0xa47a38(_0x308ab5,_0x5748ae);_0xde19b9[_0x3da216+_0x308ab5]=_0x28ee27,_0xde19b9[_0x3da216-_0x308ab5]=_0x28ee27;}this['constantKe'+'rnel']['setValue'](this['kernel']);const _0x3834aa=(0x2299+-0x1b1*0x8+-0x1510)/_0xa47a38(0x221*0x2+0x25b3+-0x29f5,_0x3661b5);this['bZnorm']['setValue'](_0x3834aa);}}class hL extends ys{constructor(_0x24dea7,_0x47ce79,_0x29021c,_0x155bc5,_0xae2b29,_0x3e5c63){super(_0x24dea7),h(this,'viewBindGr'+'oups',[]),(this['renderer']=_0x47ce79,this['camera']=_0x29021c,this['worldClust'+'ers']=_0x155bc5,this['receivers']=_0xae2b29,this['lightArray']=_0x3e5c63);}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0xac41f4=>{_0xac41f4['defaultUni'+'formBuffer']['destroy'](),_0xac41f4['destroy']();}),this['viewBindGr'+'oups']['length']=-0x1*-0x79f+-0x2f2+-0x4ad;}['execute'](){const _0x4a62c0=this['device'];Q['pushGpuMar'+'ker'](_0x4a62c0,'Lightmappe'+'r');const {renderer:_0x5e41bf,camera:_0x16ddf5,receivers:_0x9235e3,renderTarget:_0x10a835,worldClusters:_0x4b47fc,lightArray:_0x4c79b9}=this;_0x5e41bf['renderForw'+'ardLayer'](_0x16ddf5,_0x10a835,null,void(-0x87*-0x3+0x1fe5+-0x217a),Aa,this['viewBindGr'+'oups'],{'meshInstances':_0x9235e3,'splitLights':_0x4c79b9,'lightClusters':_0x4b47fc}),Q['popGpuMark'+'er'](_0x4a62c0);}}const dL=0x243e+-0x1f98+0x35a,fL=-0x13b+0x103d+-0xf02,uL=0x1*-0x2b0+-0xea8+-0x1159*-0x1,xc=new D();class pL{constructor(_0x1e0617,_0x504858,_0x2f4daa,_0x476c47,_0xd6be86){this['device']=_0x1e0617,this['root']=_0x504858,this['scene']=_0x2f4daa,this['renderer']=_0x476c47,this['assets']=_0xd6be86,this['shadowMapC'+'ache']=_0x476c47['shadowMapC'+'ache'],this['_tempSet']=new Set(),this['_initCalle'+'d']=!(0x1a2*0x8+-0x4*0x1af+-0x653),this['passMateri'+'als']=[],this['ambientAOM'+'aterial']=null,this['fog']='',this['ambientLig'+'ht']=new ie(),this['renderTarg'+'ets']=new Map(),this['stats']={'renderPasses':0x0,'lightmapCount':0x0,'totalRenderTime':0x0,'forwardTime':0x0,'fboTime':0x0,'shadowMapTime':0x0,'compileTime':0x0,'shadersLinked':0x0};}['destroy'](){var _0x2b68ef;zi['decRef'](this['blackTex']),this['blackTex']=null,zi['destroy'](),this['device']=null,this['root']=null,this['scene']=null,this['renderer']=null,this['assets']=null,(_0x2b68ef=this['camera'])==null||_0x2b68ef['destroy'](),this['camera']=null;}['initBake'](_0x59964b){if(this['bakeHDR']=this['scene']['lightmapPi'+'xelFormat']!==Ne,!this['_initCalle'+'d']){this['_initCalle'+'d']=!(-0x34a+0x2f*0xb7+-0x1e4f),this['lightmapFi'+'lters']=new cL(_0x59964b),this['constantBa'+'keDir']=_0x59964b['scope']['resolve']('bakeDir'),this['materials']=[],this['blackTex']=new _e(this['device'],{'width':0x4,'height':0x4,'format':Ne,'type':Zi,'name':'lightmapBl'+'ack'}),zi['incRef'](this['blackTex']);const _0x4bad11=new Fl();_0x4bad11['clearColor']['set'](0x23dd+0x1b4*0x7+-0x2fc9,0x1cb0+-0x48*-0xb+0xfe4*-0x2,-0xf9*-0xf+-0x45a+0xa3d*-0x1,-0x1c73+0x999+0x12da),_0x4bad11['clearColor'+'Buffer']=!(0x1bd7*0x1+-0x123a+0x17*-0x6b),_0x4bad11['clearDepth'+'Buffer']=!(0x16*0x3e+-0xb*0x2ce+0x1987*0x1),_0x4bad11['clearStenc'+'ilBuffer']=!(0x10e*-0x21+0x135e+0xf71),_0x4bad11['frustumCul'+'ling']=!(0xa45*-0x3+-0x1*-0x16a1+-0x5*-0x1a3),_0x4bad11['projection']=En,_0x4bad11['aspectRati'+'o']=0x1a63+0x727+0x1f9*-0x11,_0x4bad11['node']=new Ie(),this['camera']=_0x4bad11,this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=Ll,this['camera']['shaderPara'+'ms']['toneMappin'+'g']=sm;}if(this['scene']['clusteredL'+'ightingEna'+'bled']){const _0x4fc30d=new Mv(_0x59964b['supportsAr'+'eaLights'],_0x59964b['maxTexture'+'Size'],()=>{});this['lightingPa'+'rams']=_0x4fc30d;const _0x2bd552=this['scene']['lighting'];_0x4fc30d['shadowsEna'+'bled']=_0x2bd552['shadowsEna'+'bled'],_0x4fc30d['shadowAtla'+'sResolutio'+'n']=_0x2bd552['shadowAtla'+'sResolutio'+'n'],_0x4fc30d['cookiesEna'+'bled']=_0x2bd552['cookiesEna'+'bled'],_0x4fc30d['cookieAtla'+'sResolutio'+'n']=_0x2bd552['cookieAtla'+'sResolutio'+'n'],_0x4fc30d['areaLights'+'Enabled']=_0x2bd552['areaLights'+'Enabled'],_0x4fc30d['cells']=new D(-0x4*-0x4cd+0x1021*0x2+-0x3373,-0x2e*0x5d+-0xc2d+0x4d1*0x6,-0x2642+0xd*-0x2bb+0x24e2*0x2),_0x4fc30d['maxLightsP'+'erCell']=-0x260*0xd+0x809+0x16db,this['worldClust'+'ers']=new cu(_0x59964b),this['worldClust'+'ers']['name']='ClusterLig'+'htmapper';}}['finishBake'](_0x3c7e20){this['materials']=[];function _0xbdbd6d(_0x17ea7d){zi['decRef'](_0x17ea7d['colorBuffe'+'r']),_0x17ea7d['destroy']();}this['renderTarg'+'ets']['forEach'](_0x56b3cb=>{_0xbdbd6d(_0x56b3cb);}),this['renderTarg'+'ets']['clear'](),_0x3c7e20['forEach'](_0x509ea6=>{_0x509ea6['renderTarg'+'ets']['forEach'](_0x51c846=>{_0xbdbd6d(_0x51c846);}),_0x509ea6['renderTarg'+'ets']['length']=0xbe5+0x20f9+0x2*-0x166f;}),this['ambientAOM'+'aterial']=null,this['worldClust'+'ers']&&(this['worldClust'+'ers']['destroy'](),this['worldClust'+'ers']=null);}['createMate'+'rialForPas'+'s'](_0xd00ead,_0x15c67a,_0x30e3ae){const _0x3da094=new Ut();return _0x3da094['name']='lmMaterial'+'-pass:'+_0x15c67a+'-ambient:'+_0x30e3ae,_0x3da094['setDefine']('UV1LAYOUT',''),_0x3da094['setDefine']('LIT_LIGHTM'+'AP_BAKING',''),_0x15c67a===fL?(_0x3da094['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'COLOR',''),_0x30e3ae?_0x3da094['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'ADD_AMBIEN'+'T',''):_0x3da094['ambient']=new ie(-0x2615*-0x1+-0x1943+-0xcd2,-0x75e+0x25ca+-0x1e6c,-0x118b*-0x2+-0xc1+-0x2255),this['bakeHDR']||_0x3da094['setDefine']('LIGHTMAP_R'+'GBM',''),_0x3da094['lightMap']=this['blackTex']):(_0x3da094['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'DIR',''),_0x3da094['setDefine']('STD_LIGHTM'+'AP_DIR','')),_0x3da094['cull']=bt,_0x3da094['forceUv1']=!(-0x9*-0xb0+0x107*0x19+-0xc7*0x29),_0x3da094['update'](),_0x3da094;}['createMate'+'rials'](_0x382a77,_0x206384,_0x572214){for(let _0x869c17=0xb89*-0x1+-0xef1+-0x1*-0x1a7a;_0x869c17<_0x572214;_0x869c17++)this['passMateri'+'als'][_0x869c17]||(this['passMateri'+'als'][_0x869c17]=this['createMate'+'rialForPas'+'s'](_0x206384,_0x869c17,!(0x279+0x19ef*0x1+0xb*-0x295)));this['ambientAOM'+'aterial']||(this['ambientAOM'+'aterial']=this['createMate'+'rialForPas'+'s'](_0x206384,0xd*-0x1ac+-0x6*0x5e+0x17f0,!(-0x2*-0xca4+0x20e7*-0x1+0x1*0x79f)),this['ambientAOM'+'aterial']['onUpdateSh'+'ader']=function(_0x1aaa13){return _0x1aaa13['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x3*-0xbaa+0x1*0x46b+0x3*0xa31),_0x1aaa13['litOptions']['separateAm'+'bient']=!(0x26c2+0x8b*0x6+0xa81*-0x4),_0x1aaa13;});}['createText'+'ure'](_0x30fb81,_0x140cdc){return new _e(this['device'],{'profilerHint':vy,'width':_0x30fb81,'height':_0x30fb81,'format':this['scene']['lightmapPi'+'xelFormat'],'mipmaps':!(-0xf6*0x5+-0x18ee+0x1*0x1dbd),'type':this['bakeHDR']?Ds:Zi,'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':_0x140cdc});}['collectMod'+'els'](_0x2bcc2f,_0x4e5267,_0x10ff10){var _0x1662fb,_0x550296,_0x2d495d;if(!_0x2bcc2f['enabled'])return;let _0x2b7556;if((_0x1662fb=_0x2bcc2f['model'])!=null&&_0x1662fb['model']&&((_0x550296=_0x2bcc2f['model'])!=null&&_0x550296['enabled'])&&(_0x10ff10&&_0x10ff10['push'](new vc(_0x2bcc2f)),_0x2bcc2f['model']['lightmappe'+'d']&&_0x4e5267&&(_0x2b7556=_0x2bcc2f['model']['model']['meshInstan'+'ces'])),(_0x2d495d=_0x2bcc2f['render'])!=null&&_0x2d495d['enabled']&&(_0x10ff10&&_0x10ff10['push'](new vc(_0x2bcc2f)),_0x2bcc2f['render']['lightmappe'+'d']&&_0x4e5267&&(_0x2b7556=_0x2bcc2f['render']['meshInstan'+'ces'])),_0x2b7556){let _0x4d31e3=!(0x17*-0x125+0xe*-0x98+0x22a3);for(let _0x254c6b=0x269b*0x1+0x1e1c+-0x31*0x167;_0x254c6b<_0x2b7556['length'];_0x254c6b++)if(!_0x2b7556[_0x254c6b]['mesh']['vertexBuff'+'er']['format']['hasUv1']){w['log']('Lightmappe'+'r\x20-\x20node\x20['+_0x2bcc2f['name']+(']\x20contains'+'\x20meshes\x20wi'+'thout\x20requ'+'ired\x20uv1,\x20'+'excluding\x20'+'it\x20from\x20ba'+'king.')),_0x4d31e3=!(-0x1*-0x1544+0x2379+-0x38bc);break;}if(_0x4d31e3){const _0x57d727=[];for(let _0x47539f=0x161c+-0x3*-0xcbc+0xa*-0x608;_0x47539f<_0x2b7556['length'];_0x47539f++){const _0x587789=_0x2b7556[_0x47539f]['mesh'];this['_tempSet']['has'](_0x587789)?_0x4e5267['push'](new vc(_0x2bcc2f,[_0x2b7556[_0x47539f]])):_0x57d727['push'](_0x2b7556[_0x47539f]),this['_tempSet']['add'](_0x587789);}this['_tempSet']['clear'](),_0x57d727['length']>-0xb*-0x10e+-0x5*-0x6d9+-0x2dd7&&_0x4e5267['push'](new vc(_0x2bcc2f,_0x57d727));}}for(let _0x562ade=0xfed+-0x1183+0xe*0x1d;_0x562ade<_0x2bcc2f['_children']['length'];_0x562ade++)this['collectMod'+'els'](_0x2bcc2f['_children'][_0x562ade],_0x4e5267,_0x10ff10);}['prepareSha'+'dowCasters'](_0x1a7ad3){const _0x37fd8a=[];for(let _0x5ce17f=0x1*-0x1342+-0x1ca5+0x2fe7*0x1;_0x5ce17f<_0x1a7ad3['length'];_0x5ce17f++){const _0x2f3800=_0x1a7ad3[_0x5ce17f]['component'];if(_0x2f3800['castShadow'+'s']=_0x2f3800['castShadow'+'sLightmap'],_0x2f3800['castShadow'+'sLightmap']){const _0x27c691=_0x1a7ad3[_0x5ce17f]['meshInstan'+'ces'];for(let _0x37423a=-0x521*-0x3+-0x45f+-0xb04;_0x37423a<_0x27c691['length'];_0x37423a++)_0x27c691[_0x37423a]['visibleThi'+'sFrame']=!(-0x17cf+-0xfb6*-0x1+-0x1*-0x819),_0x37fd8a['push'](_0x27c691[_0x37423a]);}}return _0x37fd8a;}['updateTran'+'sforms'](_0x377c09){for(let _0x21412c=-0x979+0x1950+-0x32b*0x5;_0x21412c<_0x377c09['length'];_0x21412c++){const _0x2f507f=_0x377c09[_0x21412c]['meshInstan'+'ces'];for(let _0xedd5c7=-0x26a3+0x16ff+0xfa4;_0xedd5c7<_0x2f507f['length'];_0xedd5c7++)_0x2f507f[_0xedd5c7]['node']['getWorldTr'+'ansform']();}}['calculateL'+'ightmapSiz'+'e'](_0x2f207a){let _0x273cc2;const _0x5a7421=this['scene']['lightmapSi'+'zeMultipli'+'er']||0x2388+0x2e*0xb7+0x445a*-0x1,_0x59e860=xc;let _0x1aaacf,_0x1c5c72;_0x2f207a['model']?(_0x1c5c72=_0x2f207a['model']['lightmapSi'+'zeMultipli'+'er'],_0x2f207a['model']['asset']?(_0x273cc2=this['assets']['get'](_0x2f207a['model']['asset'])['data'],_0x273cc2['area']&&(_0x1aaacf=_0x273cc2['area'])):_0x2f207a['model']['_area']&&(_0x273cc2=_0x2f207a['model'],_0x273cc2['_area']&&(_0x1aaacf=_0x273cc2['_area']))):_0x2f207a['render']&&(_0x1c5c72=_0x2f207a['render']['lightmapSi'+'zeMultipli'+'er'],_0x2f207a['render']['type']!=='asset'&&_0x2f207a['render']['_area']&&(_0x273cc2=_0x2f207a['render'],_0x273cc2['_area']&&(_0x1aaacf=_0x273cc2['_area'])));const _0x304b19={'x':0x1,'y':0x1,'z':0x1,'uv':0x1};_0x1aaacf&&(_0x304b19['x']=_0x1aaacf['x'],_0x304b19['y']=_0x1aaacf['y'],_0x304b19['z']=_0x1aaacf['z'],_0x304b19['uv']=_0x1aaacf['uv']);const _0x573526=_0x1c5c72||0x895+0x12f7+-0x1b8b;_0x304b19['x']*=_0x573526,_0x304b19['y']*=_0x573526,_0x304b19['z']*=_0x573526;const _0x18c9a8=_0x2f207a['render']||_0x2f207a['model'],_0x1b3db1=this['computeNod'+'eBounds'](_0x18c9a8['meshInstan'+'ces']);_0x59e860['copy'](_0x1b3db1['halfExtent'+'s']);let _0x582d86=_0x304b19['x']*_0x59e860['y']*_0x59e860['z']+_0x304b19['y']*_0x59e860['x']*_0x59e860['z']+_0x304b19['z']*_0x59e860['x']*_0x59e860['y'];return _0x582d86/=_0x304b19['uv'],_0x582d86=Math['sqrt'](_0x582d86),Math['min'](Y['nextPowerO'+'fTwo'](_0x582d86*_0x5a7421),this['scene']['lightmapMa'+'xResolutio'+'n']||dL);}['setLightma'+'pping'](_0x3c74f6,_0x45ab66,_0x27ceb,_0x3e2d4f){for(let _0x3df52e=-0x1578+-0x392*0x5+0x7*0x59e;_0x3df52e<_0x3c74f6['length'];_0x3df52e++){const _0xdf35e8=_0x3c74f6[_0x3df52e],_0x3ceffc=_0xdf35e8['meshInstan'+'ces'];for(let _0x56f4f8=0x1d7*-0x1+-0x753+-0x30e*-0x3;_0x56f4f8<_0x3ceffc['length'];_0x56f4f8++){const _0x5de3c1=_0x3ceffc[_0x56f4f8];if(_0x5de3c1['setLightma'+'pped'](_0x45ab66),_0x45ab66){_0x3e2d4f&&(_0x5de3c1['_shaderDef'+'s']|=_0x3e2d4f),_0x5de3c1['mask']=di;for(let _0x26a5d6=0x1*0xb7e+-0x13*0xcb+0x1*0x393;_0x26a5d6<_0x27ceb;_0x26a5d6++){const _0x3d4947=_0xdf35e8['renderTarg'+'ets'][_0x26a5d6]['colorBuffe'+'r'];_0x3d4947['minFilter']=vt,_0x3d4947['magFilter']=vt,_0x5de3c1['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][_0x26a5d6],_0x3d4947);}}}}}['bake'](_0x522aa9,_0x22651a=jc){const _0x380faa=this['device'],_0x40b205=de();this['scene']['_updateSky'+'Mesh'](),_0x380faa['fire']('lightmappe'+'r:start',{'timestamp':_0x40b205,'target':this}),this['stats']['renderPass'+'es']=0x1b95*-0x1+0xe12+-0x3*-0x481,this['stats']['shadowMapT'+'ime']=-0xbba+0x17f9+-0xc3f,this['stats']['forwardTim'+'e']=-0x121b+-0x9d9*-0x1+0x842;const _0x49f4ed=_0x380faa['_shaderSta'+'ts']['linked'],_0x1a0fdb=_0x380faa['_renderTar'+'getCreatio'+'nTime'],_0x572cf3=_0x380faa['_shaderSta'+'ts']['compileTim'+'e'],_0x5ca37b=[],_0x4107bc=[];if(_0x522aa9){for(let _0xb6b464=-0x4*0x6b2+-0x1df9+-0x1d*-0x1f5;_0xb6b464<_0x522aa9['length'];_0xb6b464++)this['collectMod'+'els'](_0x522aa9[_0xb6b464],_0x5ca37b,null);this['collectMod'+'els'](this['root'],null,_0x4107bc);}else this['collectMod'+'els'](this['root'],_0x5ca37b,_0x4107bc);if(Q['pushGpuMar'+'ker'](this['device'],'LMBake'),_0x5ca37b['length']>0x72f+-0xdee+0x6bf){this['renderer']['shadowRend'+'erer']['frameUpdat'+'e']();const _0x4d04d2=_0x22651a===jc?-0xe6b+0x10f7+-0x28a*0x1:0x78b*-0x1+0x1*0xc0b+-0x47f;this['setLightma'+'pping'](_0x5ca37b,!(-0xc29*-0x1+0x12a9*-0x1+0x681),_0x4d04d2),this['initBake'](_0x380faa),this['bakeIntern'+'al'](_0x4d04d2,_0x5ca37b,_0x4107bc);let _0x5d3990=ou;_0x22651a===jc&&(_0x5d3990|=uv),this['scene']['ambientBak'+'e']&&(_0x5d3990|=pv),this['setLightma'+'pping'](_0x5ca37b,!(0x1*0x158d+-0x1a69+0x4dc),_0x4d04d2,_0x5d3990),this['finishBake'](_0x5ca37b);}Q['popGpuMark'+'er'](this['device']);const _0x216332=de();this['stats']['totalRende'+'rTime']=_0x216332-_0x40b205,this['stats']['shadersLin'+'ked']=_0x380faa['_shaderSta'+'ts']['linked']-_0x49f4ed,this['stats']['compileTim'+'e']=_0x380faa['_shaderSta'+'ts']['compileTim'+'e']-_0x572cf3,this['stats']['fboTime']=_0x380faa['_renderTar'+'getCreatio'+'nTime']-_0x1a0fdb,this['stats']['lightmapCo'+'unt']=_0x5ca37b['length'],_0x380faa['fire']('lightmappe'+'r:end',{'timestamp':_0x216332,'target':this});}['allocateTe'+'xtures'](_0x545899,_0x2554a9){for(let _0x476ec2=-0x39*-0xaf+0xcfa*0x3+-0x11*0x495;_0x476ec2<_0x545899['length'];_0x476ec2++){const _0x4a74d7=_0x545899[_0x476ec2],_0x40fbdd=this['calculateL'+'ightmapSiz'+'e'](_0x4a74d7['node']);for(let _0xa5befa=-0xaab+0x18da+0x1*-0xe2f;_0xa5befa<_0x2554a9;_0xa5befa++){const _0x5b633a=this['createText'+'ure'](_0x40fbdd,'lightmappe'+'r_lightmap'+'_'+_0x476ec2);zi['incRef'](_0x5b633a),_0x4a74d7['renderTarg'+'ets'][_0xa5befa]=new gt({'colorBuffer':_0x5b633a,'depth':!(-0xf1d+0x1*-0x1899+0x27b7)});}if(!this['renderTarg'+'ets']['has'](_0x40fbdd)){const _0x244372=this['createText'+'ure'](_0x40fbdd,'lightmappe'+'r_temp_lig'+'htmap_'+_0x40fbdd);zi['incRef'](_0x244372),this['renderTarg'+'ets']['set'](_0x40fbdd,new gt({'colorBuffer':_0x244372,'depth':!(-0xb2a*-0x1+-0x10c6+0x1*0x59d)}));}}}['prepareLig'+'htsToBake'](_0x125c28,_0x4e1f26){if(this['scene']['ambientBak'+'e']){const _0x160e14=new Mg(this);_0x4e1f26['push'](_0x160e14);}const _0xbc616b=this['renderer']['lights'];for(let _0x435b79=0x35f*-0xa+-0x1*-0x2325+0x16f*-0x1;_0x435b79<_0xbc616b['length'];_0x435b79++){const _0x10e100=_0xbc616b[_0x435b79],_0x1a167d=new sL(this,_0x10e100);_0x125c28['push'](_0x1a167d),_0x10e100['enabled']&&(_0x10e100['mask']&fi)!==0x1d5*-0x15+-0x45b*0x5+0xf1*0x40&&(_0x10e100['mask']=fi|di|Ss,_0x10e100['shadowUpda'+'teMode']=_0x10e100['type']===ve?lm:xr,_0x4e1f26['push'](_0x1a167d));}_0x4e1f26['sort']();}['restoreLig'+'hts'](_0xa7b864){for(let _0x1eb6ed=0x23b1+-0x251*0x5+0x4*-0x607;_0x1eb6ed<_0xa7b864['length'];_0x1eb6ed++)_0xa7b864[_0x1eb6ed]['restore']();}['setupScene'](){this['ambientLig'+'ht']['copy'](this['scene']['ambientLig'+'ht']),this['scene']['ambientBak'+'e']||this['scene']['ambientLig'+'ht']['set'](0x2*0x9b2+0xb55+-0x8f*0x37,0x1*-0x246a+-0x1794+0x1*0x3bfe,0x1*-0x1817+0x1*0x1429+0x3ee),this['renderer']['setSceneCo'+'nstants'](),this['device']['scope']['resolve']('ambientBak'+'eOcclusion'+'Contrast')['setValue'](this['scene']['ambientBak'+'eOcclusion'+'Contrast']),this['device']['scope']['resolve']('ambientBak'+'eOcclusion'+'Brightness')['setValue'](this['scene']['ambientBak'+'eOcclusion'+'Brightness']);}['restoreSce'+'ne'](){this['scene']['ambientLig'+'ht']['copy'](this['ambientLig'+'ht']);}['computeNod'+'eBounds'](_0xe8d700){const _0xce3270=new De();if(_0xe8d700['length']>-0x1*0x1f21+-0x16a*0x14+0x1*0x3b69){_0xce3270['copy'](_0xe8d700[0x25d6+-0xf34+-0x16a2]['aabb']);for(let _0x43e9b2=-0x1*-0x226f+-0x784*0x3+-0xbe2;_0x43e9b2<_0xe8d700['length'];_0x43e9b2++)_0xce3270['add'](_0xe8d700[_0x43e9b2]['aabb']);}return _0xce3270;}['computeNod'+'esBounds'](_0x5bf780){for(let _0x38b714=0x574+0x269*-0xd+0x52d*0x5;_0x38b714<_0x5bf780['length'];_0x38b714++){const _0x356b2e=_0x5bf780[_0x38b714]['meshInstan'+'ces'];_0x5bf780[_0x38b714]['bounds']=this['computeNod'+'eBounds'](_0x356b2e);}}['computeBou'+'nds'](_0x1ea784){const _0x3deb58=new De();for(let _0x3cb2ed=0x3a1*-0x4+-0x6*-0x357+-0x586;_0x3cb2ed<_0x1ea784['length'];_0x3cb2ed++){_0x3deb58['copy'](_0x1ea784[-0x133*-0x13+-0xb*-0x2bb+0x2*-0x1a69]['aabb']);for(let _0x289da7=-0x22e8+-0x201b*-0x1+0x2ce;_0x289da7<_0x1ea784['length'];_0x289da7++)_0x3deb58['add'](_0x1ea784[_0x289da7]['aabb']);}return _0x3deb58;}['backupMate'+'rials'](_0x5a7f76){for(let _0x10635=0x4*-0xec+-0x2*0xf43+0x12e*0x1d;_0x10635<_0x5a7f76['length'];_0x10635++)this['materials'][_0x10635]=_0x5a7f76[_0x10635]['material'];}['restoreMat'+'erials'](_0x21cd34){for(let _0x1b1d87=0x8b*-0x4+-0x1277*0x2+0x11e*0x23;_0x1b1d87<_0x21cd34['length'];_0x1b1d87++)_0x21cd34[_0x1b1d87]['material']=this['materials'][_0x1b1d87];}['lightCamer'+'aPrepare'](_0x15fc3e,_0x4c1069){const _0x289cc2=_0x4c1069['light'];let _0x17158b;return _0x289cc2['type']===Ze&&(_0x17158b=_0x289cc2['getRenderD'+'ata'](null,0x1f1*-0x4+0x1*0x2012+0x40d*-0x6)['shadowCame'+'ra'],_0x17158b['_node']['setPositio'+'n'](_0x289cc2['_node']['getPositio'+'n']()),_0x17158b['_node']['setRotatio'+'n'](_0x289cc2['_node']['getRotatio'+'n']()),_0x17158b['_node']['rotateLoca'+'l'](-(0xf78+0x23a8+-0x43*0xc2),0xf*0x1cb+-0xf8*-0x14+-0x2e45,0x1263*0x2+0x2*-0x121f+-0x88),_0x17158b['projection']=ni,_0x17158b['nearClip']=_0x289cc2['attenuatio'+'nEnd']/(0x1b0+-0x1b92+0x1dca),_0x17158b['farClip']=_0x289cc2['attenuatio'+'nEnd'],_0x17158b['aspectRati'+'o']=0x1d87+0x1ec5+-0x3c4b,_0x17158b['fov']=_0x289cc2['_outerCone'+'Angle']*(0x1d06+-0x1d*-0xf3+-0x388b),this['renderer']['updateCame'+'raFrustum'](_0x17158b)),_0x17158b;}['lightCamer'+'aPrepareAn'+'dCull'](_0x4be3bb,_0x50646a,_0x5ca2a8,_0x5d42c1){const _0x4f0783=_0x4be3bb['light'];let _0x5e6d7b=!(-0x1198*-0x2+-0x1980+0x3e*-0x28);if(_0x4f0783['type']===ve){xc['copy'](_0x5d42c1['center']),xc['y']+=_0x5d42c1['halfExtent'+'s']['y'],this['camera']['node']['setPositio'+'n'](xc),this['camera']['node']['setEulerAn'+'gles'](-(-0x1e0c+-0xc99+0x2aff),0x1ff3+-0xc2*-0x2b+-0x4089,-0x50f+0x9bb+-0x256*0x2),this['camera']['nearClip']=0x59d+-0x1737+0x3*0x5de,this['camera']['farClip']=_0x5d42c1['halfExtent'+'s']['y']*(-0x3ea*-0x1+0x2b*0x73+0x1d*-0xcd);const _0x5df09a=Math['max'](_0x5d42c1['halfExtent'+'s']['x'],_0x5d42c1['halfExtent'+'s']['z']);this['camera']['orthoHeigh'+'t']=_0x5df09a;}else _0x4be3bb['lightBound'+'s']['intersects'](_0x50646a['bounds'])||(_0x5e6d7b=!(-0x1103+-0x2468+0x356c));if(_0x4f0783['type']===Ze){let _0x1983f3=!(-0x1*-0x16d9+0x1*-0x24e9+0xe11);const _0x4dd76a=_0x50646a['meshInstan'+'ces'];for(let _0x252dfd=0x43*-0x55+0x11*-0x155+0x2ce4;_0x252dfd<_0x4dd76a['length'];_0x252dfd++)if(_0x4dd76a[_0x252dfd]['_isVisible'](_0x5ca2a8)){_0x1983f3=!(-0x2685*-0x1+-0x1c5b+-0xa2a);break;}_0x1983f3||(_0x5e6d7b=!(-0xfcc+-0x6e9+0x16b6));}return _0x5e6d7b;}['setupLight'+'Array'](_0x2dff4e,_0x2ae121){_0x2dff4e[ve]['length']=-0xcd0+0x2c*-0x1f+-0x912*-0x2,_0x2dff4e[Ke]['length']=-0x16*-0x99+-0x22bf+0x1599,_0x2dff4e[Ze]['length']=-0x16f*0xa+-0x156d+-0x23c3*-0x1,_0x2dff4e[_0x2ae121['type']][0xb*0x2de+0x44*-0x58+-0x82a]=_0x2ae121,_0x2ae121['visibleThi'+'sFrame']=!(-0x208e+-0x17*0x197+-0x5*-0xdd3);}['renderShad'+'owMap'](_0x29d49e,_0x3f15e4,_0x3c0725,_0x4bb089){const _0x26ac39=_0x4bb089['light'],_0x33c470=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x2f89ad=_0x26ac39['castShadow'+'s']&&(!_0x33c470||this['scene']['lighting']['shadowsEna'+'bled']);if(!_0x3f15e4&&_0x2f89ad){if(!_0x26ac39['shadowMap']&&!_0x33c470&&(_0x26ac39['shadowMap']=this['shadowMapC'+'ache']['get'](this['device'],_0x26ac39)),_0x26ac39['type']===ve){this['renderer']['_shadowRen'+'dererDirec'+'tional']['cull'](_0x26ac39,_0x29d49e,this['camera'],_0x3c0725);const _0x5b678f=this['renderer']['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x26ac39,this['camera']);_0x5b678f==null||_0x5b678f['render']();}else{if(this['device']['isWebGPU'])return w['warnOnce']('Lightmappe'+'r\x20on\x20WebGP'+'U\x20does\x20not'+'\x20yet\x20suppo'+'rt\x20spot\x20an'+'d\x20omni\x20sha'+'dows.'),!(-0x1*-0x12c1+-0x1736+0x475);this['renderer']['_shadowRen'+'dererLocal']['cull'](_0x26ac39,_0x29d49e,_0x3c0725),this['renderer']['shadowRend'+'erer']['render'](_0x26ac39,this['camera'],!(-0x1359+0x4e1*-0x8+0x3a62));}}return!(0x1*-0x1f3+0x1de5+-0x1bf2);}['postproces'+'sTextures'](_0x2e2587,_0x36faad,_0x30b447){const _0x2ea80d=this['lightmapFi'+'lters']['getDilate'](_0x2e2587,this['bakeHDR']);let _0x14e03a;const _0x43a052=this['scene']['lightmapFi'+'lterEnable'+'d'];_0x43a052&&(this['lightmapFi'+'lters']['prepareDen'+'oise'](this['scene']['lightmapFi'+'lterRange'],this['scene']['lightmapFi'+'lterSmooth'+'ness'],this['bakeHDR']),_0x14e03a=this['lightmapFi'+'lters']['getDenoise'](this['bakeHDR'])),_0x2e2587['setBlendSt'+'ate'](pt['NOBLEND']),_0x2e2587['setDepthSt'+'ate'](Yt['NODEPTH']),_0x2e2587['setStencil'+'State'](null,null);for(let _0x52a77b=0x1a28+-0x192a+0xfe*-0x1;_0x52a77b<_0x36faad['length'];_0x52a77b++){const _0x1d307b=_0x36faad[_0x52a77b];Q['pushGpuMar'+'ker'](this['device'],'LMPost:'+_0x52a77b);for(let _0xf41257=-0x4*0x2bc+0x810+-0x17*-0x20;_0xf41257<_0x30b447;_0xf41257++){const _0x568605=_0x1d307b['renderTarg'+'ets'][_0xf41257],_0xec49fe=_0x568605['colorBuffe'+'r'],_0x1ad745=this['renderTarg'+'ets']['get'](_0xec49fe['width']),_0x21bb6b=_0x1ad745['colorBuffe'+'r'];this['lightmapFi'+'lters']['prepare'](_0xec49fe['width'],_0xec49fe['height']);for(let _0x3999f2=0x79d+-0xfe+-0x69f;_0x3999f2<0x189d+-0x4*0x2b6+-0xdc4;_0x3999f2++)this['lightmapFi'+'lters']['setSourceT'+'exture'](_0xec49fe),Ar(_0x2e2587,_0x1ad745,_0x43a052&&_0xf41257===0x1*-0x16bb+0x17fc+-0x141&&_0x3999f2===0x1d95*0x1+-0x13*-0x7+-0x1e1a?_0x14e03a:_0x2ea80d),this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x21bb6b),Ar(_0x2e2587,_0x568605,_0x2ea80d);}Q['popGpuMark'+'er'](this['device']);}}['bakeIntern'+'al'](_0x435d4e,_0x431ed4,_0x4a6d52){const _0x53a479=this['scene'],_0x16830b=_0x53a479['layers'],_0x4984d2=this['device'],_0x3974d1=_0x53a479['clusteredL'+'ightingEna'+'bled'];this['createMate'+'rials'](_0x4984d2,_0x53a479,_0x435d4e),this['setupScene'](),_0x16830b['_update'](),this['computeNod'+'esBounds'](_0x431ed4),this['allocateTe'+'xtures'](_0x431ed4,_0x435d4e),this['renderer']['collectLig'+'hts'](_0x16830b);const _0x2273b7=[],_0x20e954=[];this['prepareLig'+'htsToBake'](_0x2273b7,_0x20e954),this['updateTran'+'sforms'](_0x4a6d52);const _0x3e9330=this['prepareSha'+'dowCasters'](_0x4a6d52);this['renderer']['updateCpuS'+'kinMatrice'+'s'](_0x3e9330),this['renderer']['gpuUpdate'](_0x3e9330);const _0x520f62=this['computeBou'+'nds'](_0x3e9330);let _0x460965,_0x33fbbe,_0x1917a7,_0x39500f;for(_0x460965=0x1*0x6b6+-0x1b*-0x14f+-0x2a0b;_0x460965<_0x431ed4['length'];_0x460965++)for(_0x1917a7=_0x431ed4[_0x460965]['meshInstan'+'ces'],_0x33fbbe=-0x15*0x11d+0x1*0x8f3+-0x737*-0x2;_0x33fbbe<_0x1917a7['length'];_0x33fbbe++)_0x39500f=_0x1917a7[_0x33fbbe],_0x39500f['setLightma'+'pped'](!(0x33+-0xc9d+0xc6b)),_0x39500f['mask']=fi,_0x39500f['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][-0xff2*0x1+0x26b7+-0xc9*0x1d],this['blackTex']),_0x39500f['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][-0x1*-0x37a+-0x156e+0x11f5],this['blackTex']);for(_0x33fbbe=0x13ef+-0xe6+-0x1309;_0x33fbbe<_0x20e954['length'];_0x33fbbe++)_0x20e954[_0x33fbbe]['light']['enabled']=!(-0x562*-0x7+0x1ea2+-0x444f);const _0x3f55fd=[[],[],[]];let _0x4b0a60,_0xdc6de1,_0x1b6ecb=!(-0xc*0x64+-0x1*0x1216+0x16c7);for(_0x460965=0x49*-0x1f+0x9cb*-0x1+0x12a2;_0x460965<_0x20e954['length'];_0x460965++){const _0x5a48eb=_0x20e954[_0x460965],_0x2a8ddf=_0x5a48eb instanceof Mg,_0x22b5bb=_0x5a48eb['light']['type']===ve;let _0x165a48=_0x5a48eb['numVirtual'+'Lights'];_0x435d4e>-0x1*0x17+0x6b8+-0x6a0&&_0x165a48>0x4*0x7b3+-0x1175+-0xd56&&_0x5a48eb['light']['bakeDir']&&(_0x165a48=0x133*-0x1+-0x4f*0x34+0x1140,w['warn']('Lightmappe'+'r\x27s\x20BAKE_C'+'OLORDIR\x20mo'+'de\x20is\x20not\x20'+'compatible'+'\x20with\x20Ligh'+'t\x27s\x20bakeNu'+'mSamples\x20l'+'arger\x20than'+'\x20one.\x20Forc'+'ing\x20it\x20to\x20'+'one.'));for(let _0x4bfb52=0x106b*-0x1+0x1352+-0x1*0x2e7;_0x4bfb52<_0x165a48;_0x4bfb52++){Q['pushGpuMar'+'ker'](_0x4984d2,'Light:'+_0x5a48eb['light']['_node']['name']+':'+_0x4bfb52),_0x165a48>0x206d+0x250c+-0x4578&&_0x5a48eb['prepareVir'+'tualLight'](_0x4bfb52,_0x165a48),_0x5a48eb['startBake']();let _0x3c58b9=!(-0xb*0x331+-0x958+0x2c74);const _0x24aac7=this['lightCamer'+'aPrepare'](_0x4984d2,_0x5a48eb);for(_0xdc6de1=-0x8f4+-0x1*-0x197e+-0x108a;_0xdc6de1<_0x431ed4['length'];_0xdc6de1++){const _0x5f001c=_0x431ed4[_0xdc6de1];if(_0x1917a7=_0x5f001c['meshInstan'+'ces'],!this['lightCamer'+'aPrepareAn'+'dCull'](_0x5a48eb,_0x5f001c,_0x24aac7,_0x520f62))continue;this['setupLight'+'Array'](_0x3f55fd,_0x5a48eb['light']);const _0x3c2e06=_0x22b5bb?[]:[_0x5a48eb['light']];for(_0x3974d1&&this['renderer']['lightTextu'+'reAtlas']['update'](_0x3c2e06,this['lightingPa'+'rams']),_0x3c58b9=this['renderShad'+'owMap'](_0x16830b,_0x3c58b9,_0x3e9330,_0x5a48eb),_0x3974d1&&this['worldClust'+'ers']['update'](_0x3c2e06,this['lightingPa'+'rams']),this['backupMate'+'rials'](_0x1917a7),_0x4b0a60=0x147d+0xf0d+-0x1*0x238a;_0x4b0a60<_0x435d4e&&!(_0x4b0a60>0x1*-0x1966+0x5*-0x557+-0x1*-0x3419&&_0x4bfb52>0x2051*-0x1+-0xfdd+0x302e||_0x2a8ddf&&_0x4b0a60>0x1f34+-0x9*0x41c+0x172*0x4);_0x4b0a60++){Q['pushGpuMar'+'ker'](_0x4984d2,'LMPass:'+_0x4b0a60);const _0x1aa9b4=_0x5f001c['renderTarg'+'ets'][_0x4b0a60],_0x4190a2=_0x5f001c['renderTarg'+'ets'][_0x4b0a60]['colorBuffe'+'r']['width'],_0x5dd26e=this['renderTarg'+'ets']['get'](_0x4190a2),_0x3f877f=_0x5dd26e['colorBuffe'+'r'];_0x4b0a60===0x28b*0x6+0x21fe+0x628*-0x8?_0x1b6ecb=_0x53a479['updateShad'+'ers']:_0x1b6ecb&&(_0x53a479['updateShad'+'ers']=!(-0x1bf7+-0x13e7+0x16*0x22d));let _0x5a7eeb=this['passMateri'+'als'][_0x4b0a60];for(_0x2a8ddf&&_0x4bfb52+(-0x124b+0x5fa*-0x1+0x1*0x1846)===_0x165a48&&_0x4b0a60===0xcfd+-0x141d+0x720&&(_0x5a7eeb=this['ambientAOM'+'aterial']),_0x33fbbe=0x1ba6+0x216a+-0x3d10;_0x33fbbe<_0x1917a7['length'];_0x33fbbe++)_0x1917a7[_0x33fbbe]['material']=_0x5a7eeb;if(this['renderer']['updateShad'+'ers'](_0x1917a7),_0x4b0a60===uL&&this['constantBa'+'keDir']['setValue'](_0x5a48eb['light']['bakeDir']?0x2c*0xc9+0x7*-0x2d2+-0x9*0x1a5:0xad*-0x6+-0x1c59+0x2067),_0x4984d2['isWebGPU']){const _0x37dedd=new hL(_0x4984d2,this['renderer'],this['camera'],_0x3974d1?this['worldClust'+'ers']:null,_0x1917a7,_0x3f55fd);_0x37dedd['init'](_0x5dd26e),_0x37dedd['render'](),_0x37dedd['destroy']();}else this['renderer']['setCamera'](this['camera'],_0x5dd26e,!(-0x1*0x976+0x690+0x2e6)),_0x3974d1&&this['worldClust'+'ers']['activate'](),this['renderer']['_forwardTi'+'me']=-0x7*0x37f+-0x16ba*-0x1+0x1bf,this['renderer']['_shadowMap'+'Time']=0x1*-0x1d6b+0x1d8b+0x1*-0x20,this['renderer']['renderForw'+'ard'](this['camera'],_0x5dd26e,_0x1917a7,_0x3f55fd,Aa),_0x4984d2['updateEnd']();for(this['stats']['shadowMapT'+'ime']+=this['renderer']['_shadowMap'+'Time'],this['stats']['forwardTim'+'e']+=this['renderer']['_forwardTi'+'me'],this['stats']['renderPass'+'es']++,_0x5f001c['renderTarg'+'ets'][_0x4b0a60]=_0x5dd26e,this['renderTarg'+'ets']['set'](_0x4190a2,_0x1aa9b4),_0x33fbbe=0xe51*-0x1+0x185*-0x14+0x2cb5;_0x33fbbe<_0x1917a7['length'];_0x33fbbe++)_0x39500f=_0x1917a7[_0x33fbbe],_0x39500f['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][_0x4b0a60],_0x3f877f),_0x39500f['_shaderDef'+'s']|=ou;Q['popGpuMark'+'er'](_0x4984d2);}this['restoreMat'+'erials'](_0x1917a7);}_0x5a48eb['endBake'](this['shadowMapC'+'ache']),Q['popGpuMark'+'er'](_0x4984d2);}}for(this['postproces'+'sTextures'](_0x4984d2,_0x431ed4,_0x435d4e),_0xdc6de1=-0xb96+-0x10*0x4c+0x1056;_0xdc6de1<_0x4a6d52['length'];_0xdc6de1++)_0x4a6d52[_0xdc6de1]['restore']();this['restoreLig'+'hts'](_0x2273b7),this['restoreSce'+'ne'](),_0x3974d1||this['shadowMapC'+'ache']['clear']();}}const Wh=class Wh extends me{constructor(_0x2a8439,_0x4a4e7f){super(),h(this,'system'),h(this,'entity'),(this['system']=_0x2a8439,this['entity']=_0x4a4e7f,this['system']['schema']&&!this['_accessors'+'Built']&&this['buildAcces'+'sors'](this['system']['schema']),this['on']('set',function(_0x152a24,_0x3459ab,_0x2b64f8){this['fire']('set_'+_0x152a24,_0x152a24,_0x3459ab,_0x2b64f8);}),this['on']('set_enable'+'d',this['onSetEnabl'+'ed'],this));}static['_buildAcce'+'ssors'](_0xfd8c50,_0x4ae0f7){_0x4ae0f7['forEach'](_0x3a91eb=>{const _0x4038ab=typeof _0x3a91eb=='object'?_0x3a91eb['name']:_0x3a91eb;Object['defineProp'+'erty'](_0xfd8c50,_0x4038ab,{'get':function(){return this['data'][_0x4038ab];},'set':function(_0x491f8e){const _0x2538e0=this['data'],_0x452a5b=_0x2538e0[_0x4038ab];_0x2538e0[_0x4038ab]=_0x491f8e,this['fire']('set',_0x4038ab,_0x452a5b,_0x491f8e);},'configurable':!(0x5a9+0x2*0xc1a+-0x1ddd)});}),_0xfd8c50['_accessors'+'Built']=!(0x81b+-0x51f+0x1*-0x2fc);}['buildAcces'+'sors'](_0x1c3f9c){Wh['_buildAcce'+'ssors'](this,_0x1c3f9c);}['onSetEnabl'+'ed'](_0x45edab,_0x55bda1,_0x4bb9bc){_0x55bda1!==_0x4bb9bc&&this['entity']['enabled']&&(_0x4bb9bc?this['onEnable']():this['onDisable']());}['onEnable'](){}['onDisable'](){}['onPostStat'+'eChange'](){}get['data'](){const _0x3114b6=this['system']['store'][this['entity']['getGuid']()];return _0x3114b6?_0x3114b6['data']:null;}set['enabled'](_0x136f40){}get['enabled'](){return!(0x2*0x1237+-0xe5f+0x1*-0x160f);}};h(Wh,'order',-0x1c9b*-0x1+0x2*-0xc0a+0x1*-0x487);let we=Wh;class ct extends me{constructor(_0x2bfab0){super(),this['app']=_0x2bfab0,this['store']={},this['schema']=[];}['addCompone'+'nt'](_0x2c55d5,_0x3b6463={}){const _0x3e8b9c=new this['ComponentT'+'ype'](this,_0x2c55d5),_0xb050e5=new this['DataType']();return this['store'][_0x2c55d5['getGuid']()]={'entity':_0x2c55d5,'data':_0xb050e5},_0x2c55d5[this['id']]=_0x3e8b9c,_0x2c55d5['c'][this['id']]=_0x3e8b9c,this['initialize'+'ComponentD'+'ata'](_0x3e8b9c,_0x3b6463,[]),this['fire']('add',_0x2c55d5,_0x3e8b9c),_0x3e8b9c;}['removeComp'+'onent'](_0x2340f3){const _0x57d75a=this['id'],_0x51e5ce=this['store'][_0x2340f3['getGuid']()],_0x53ad18=_0x2340f3['c'][_0x57d75a];_0x53ad18['fire']('beforeremo'+'ve'),this['fire']('beforeremo'+'ve',_0x2340f3,_0x53ad18),delete this['store'][_0x2340f3['getGuid']()],_0x2340f3[_0x57d75a]=void(-0x1*-0x2095+-0x1f*-0x43+-0x2*0x1459),delete _0x2340f3['c'][_0x57d75a],this['fire']('remove',_0x2340f3,_0x51e5ce['data']);}['cloneCompo'+'nent'](_0x2ee043,_0x35316f){const _0x3c7657=this['store'][_0x2ee043['getGuid']()];return this['addCompone'+'nt'](_0x35316f,_0x3c7657['data']);}['initialize'+'ComponentD'+'ata'](_0x3e133a,_0x38ad46={},_0x3e9d52){for(let _0x37ae6c=0xb2a+0x7da+-0x1304,_0x34885b=_0x3e9d52['length'];_0x37ae6c<_0x34885b;_0x37ae6c++){const _0x73151a=_0x3e9d52[_0x37ae6c];let _0x2b27b4,_0x2bbb5f;typeof _0x73151a=='object'?(_0x2b27b4=_0x73151a['name'],_0x2bbb5f=_0x73151a['type']):(_0x2b27b4=_0x73151a,_0x2bbb5f=void(0x1223+-0x35*-0x47+-0x20d6));let _0x5208ec=_0x38ad46[_0x2b27b4];_0x5208ec!==void(0x23ad+0x6de+-0x2a8b)?(_0x2bbb5f!==void(-0xef5+0x1e2a+-0xf35)&&(_0x5208ec=mL(_0x5208ec,_0x2bbb5f)),_0x3e133a[_0x2b27b4]=_0x5208ec):_0x3e133a[_0x2b27b4]=_0x3e133a['data'][_0x2b27b4];}_0x3e133a['enabled']&&_0x3e133a['entity']['enabled']&&_0x3e133a['onEnable']();}['getPropert'+'iesOfType'](_0x56e602){const _0x5bf328=[];return(this['schema']||[])['forEach'](_0x3e798b=>{_0x3e798b&&typeof _0x3e798b=='object'&&_0x3e798b['type']===_0x56e602&&_0x5bf328['push'](_0x3e798b);}),_0x5bf328;}['destroy'](){this['off']();}}function mL(_0x14e7b2,_0x236713){if(!_0x14e7b2)return _0x14e7b2;switch(_0x236713){case'rgb':return _0x14e7b2 instanceof ie?_0x14e7b2['clone']():new ie(_0x14e7b2[-0x23fe+0x1575+0xe89*0x1],_0x14e7b2[-0x1bd3+-0x25a2*-0x1+-0x9ce],_0x14e7b2[0x111c+0x5*-0x734+0x2*0x975]);case'rgba':return _0x14e7b2 instanceof ie?_0x14e7b2['clone']():new ie(_0x14e7b2[0x2431+0x2cc*-0xa+0x1a5*-0x5],_0x14e7b2[0x150a+0x9*-0x247+-0x8a],_0x14e7b2[0xc65*-0x1+0x1*-0x8f4+0x155b],_0x14e7b2[0xb6c+0xddd+0x1946*-0x1]);case'vec2':return _0x14e7b2 instanceof J?_0x14e7b2['clone']():new J(_0x14e7b2[-0x1*0x439+-0x13ab+-0x22c*-0xb],_0x14e7b2[-0x43f*-0x8+0x1773+-0x1cb5*0x2]);case'vec3':return _0x14e7b2 instanceof D?_0x14e7b2['clone']():new D(_0x14e7b2[-0x11e8+-0x994+0x6df*0x4],_0x14e7b2[0x39c+0x8*0x38c+0xaa9*-0x3],_0x14e7b2[-0xed3+0x108f+-0x1ba]);case'vec4':return _0x14e7b2 instanceof re?_0x14e7b2['clone']():new re(_0x14e7b2[-0x3b5*-0x1+-0x3e5*0x5+-0x3f1*-0x4],_0x14e7b2[-0x1e10+0xd21+-0x10f0*-0x1],_0x14e7b2[-0x1*-0x2615+0x1*0x2671+-0x4c84],_0x14e7b2[0x1c07+0x987*0x1+-0x258b]);case'boolean':case'number':case'string':return _0x14e7b2;case'entity':return _0x14e7b2;default:throw new Error('Could\x20not\x20'+'convert\x20un'+'handled\x20ty'+'pe:\x20'+_0x236713);}}const Bv=0xdbf+0x350+-0x110f*0x1,Su=-0x26cf*0x1+0x734+0x1c*0x121,yu=-0xc75+-0x2*-0xf76+-0x1275;class _L{constructor(){this['_left']=(0x1c68+0x86b*-0x1+-0x13fc)/(-0x1*-0xa81+0x1056+0x1ad7*-0x1),this['_right']=-(0x3*-0x222+0x2224+-0x1bbd)/(-0x2559*0x1+0x1d3f+0x81a),this['_len']=-0x24b*-0xf+0x9*-0x43d+0x30*0x14,this['_recip']=0x23b4+0x22e2+0x234b*-0x2,this['_p0']=-0x5de+0x1*-0x12d1+-0x47*-0x59,this['_p1']=-0x1*-0x1d3f+-0x41e+-0x1921*0x1,this['_t']=0x1*0x169f+-0x2*0x1234+-0x1*-0xdc9,this['_hermite']={'valid':!(-0x1402+0x1116+0x2ed*0x1),'p0':0x0,'m0':0x0,'p1':0x0,'m1':0x0};}['update'](_0x2ce0a0,_0x27b2f2){if(_0x2ce0a0<this['_left']||_0x2ce0a0>=this['_right']){const _0x48cd15=_0x27b2f2['length'];if(!_0x48cd15)this['_left']=-(-0x3*0x485+0x10*-0xa7+0x1800)/(0x10ba+0x226e+0x2*-0x1994),this['_right']=(0x1119+0x21de+0xb*-0x4a2)/(0x1449+-0x7c5+0x59*-0x24),this['_len']=-0x89*-0x3b+-0x1445*-0x1+0x2a*-0x13c,this['_recip']=0x1ab*0x8+0x140f+-0x2167,this['_p0']=this['_p1']=0x116+0x1406+-0x151c;else{if(_0x2ce0a0<_0x27b2f2[0x13a4+-0x3a*-0x3b+0x34d*-0xa])this['_left']=-(-0x112d+0x1f84+-0x2*0x72b)/(-0x5*0xf1+0xd*0x4b+0xe6),this['_right']=_0x27b2f2[0x2*0x416+0x233*0x2+0x2*-0x649],this['_len']=0x453+0x993*-0x1+0x540,this['_recip']=-0x1*0x2ff+0x1fb6+-0x1cb7,this['_p0']=this['_p1']=0x3*0xbeb+0x1afe+-0x1*0x3ebf;else{if(_0x2ce0a0>=_0x27b2f2[_0x48cd15-(-0x3a0+0x56c*0x4+-0x17*0xc9)])this['_left']=_0x27b2f2[_0x48cd15-(0x4d*-0x2b+-0x2*-0x7f3+0x1*-0x2f6)],this['_right']=(0x1766+-0x1fcf+0x2ce*0x3)/(-0x25ac+-0x256f+0x4b1b),this['_len']=-0x48a+0x1638+-0x11ae,this['_recip']=-0x270f+0xf94+0x177b,this['_p0']=this['_p1']=_0x48cd15-(-0x1*-0x207a+0x3*0x2de+0x837*-0x5);else{const _0xce7bf7=this['_findKey'](_0x2ce0a0,_0x27b2f2);this['_left']=_0x27b2f2[_0xce7bf7],this['_right']=_0x27b2f2[_0xce7bf7+(-0x167*-0x13+-0x1b81+0xdd)],this['_len']=this['_right']-this['_left'];const _0x7a5fbd=(-0x19b9*-0x1+-0x61a+-0x139e)/this['_len'];this['_recip']=isFinite(_0x7a5fbd)?_0x7a5fbd:0x18d4+-0xec*-0x2+0x8e4*-0x3,this['_p0']=_0xce7bf7,this['_p1']=_0xce7bf7+(0xb*0x7a+0x96d*-0x4+0x1*0x2077);}}}}this['_t']=this['_recip']===-0x1b15*-0x1+0x2*-0xf35+0x355?-0x1*0x20f+-0x9e2*-0x2+-0x11b5:(_0x2ce0a0-this['_left'])*this['_recip'],this['_hermite']['valid']=!(-0xb70+0x29e+0x1*0x8d3);}['_findKey'](_0x12acc0,_0x82e5aa){let _0x28638c=-0x228b+0xa6*-0x39+0x4781;for(;_0x12acc0>=_0x82e5aa[_0x28638c+(0x139*0x4+0x266*0x3+-0xc15*0x1)];)_0x28638c++;return _0x28638c;}['eval'](_0x1e73c8,_0x1f47bf,_0x32145f){const _0x4f9a8e=_0x32145f['_data'],_0x4c562d=_0x32145f['_component'+'s'],_0x38c29b=this['_p0']*_0x4c562d;if(_0x1f47bf===Bv){for(let _0x25a26d=0x1d70+-0x157d+-0x7f3;_0x25a26d<_0x4c562d;++_0x25a26d)_0x1e73c8[_0x25a26d]=_0x4f9a8e[_0x38c29b+_0x25a26d];}else{const _0xd439ff=this['_t'],_0x30095e=this['_p1']*_0x4c562d;switch(_0x1f47bf){case Su:for(let _0x428481=-0x158*0x1a+-0x20b0*0x1+0x43a0;_0x428481<_0x4c562d;++_0x428481)_0x1e73c8[_0x428481]=Y['lerp'](_0x4f9a8e[_0x38c29b+_0x428481],_0x4f9a8e[_0x30095e+_0x428481],_0xd439ff);break;case yu:{const _0x3eeaa8=this['_hermite'];if(!_0x3eeaa8['valid']){const _0x4d8226=_0xd439ff*_0xd439ff,_0x10e8a3=_0xd439ff+_0xd439ff,_0x4ed74a=0x120b+0x1*-0xfdd+-0x22d-_0xd439ff,_0x441da8=_0x4ed74a*_0x4ed74a;_0x3eeaa8['valid']=!(0x1096+0x2016+-0x2*0x1856),_0x3eeaa8['p0']=(-0x13*0x142+-0x6e6*-0x1+0x1101*0x1+_0x10e8a3)*_0x441da8,_0x3eeaa8['m0']=_0xd439ff*_0x441da8,_0x3eeaa8['p1']=_0x4d8226*(-0x6*0x411+-0x17f*0xb+-0x28de*-0x1-_0x10e8a3),_0x3eeaa8['m1']=_0x4d8226*(_0xd439ff-(-0x25de+-0x8*-0x426+0x1*0x4af));}const _0x18af56=(this['_p0']*(-0xa71+-0x3*0xc6f+0x2fc1)+(0x24+0x1ff3*-0x1+0x1fd0))*_0x4c562d,_0x53651a=(this['_p0']*(-0x228e+0x25c7+-0x336)+(0x62*0x2b+0x14d5+-0x2549))*_0x4c562d,_0x45690f=(this['_p1']*(-0x1*0x24a5+-0x24bf+0x4967)+(-0x11*-0x9+0x1*0x180f+0x1*-0x18a7))*_0x4c562d,_0x528aa4=(this['_p1']*(-0x1ab+-0x4*-0x6d0+-0x1992)+(-0x21e0+-0x183*-0xb+0x113f))*_0x4c562d;for(let _0x5cb691=-0x22ba+-0xa1f*-0x2+-0x24*-0x67;_0x5cb691<_0x4c562d;++_0x5cb691)_0x1e73c8[_0x5cb691]=_0x3eeaa8['p0']*_0x4f9a8e[_0x18af56+_0x5cb691]+_0x3eeaa8['m0']*_0x4f9a8e[_0x53651a+_0x5cb691]*this['_len']+_0x3eeaa8['p1']*_0x4f9a8e[_0x45690f+_0x5cb691]+_0x3eeaa8['m1']*_0x4f9a8e[_0x528aa4+_0x5cb691]*this['_len'];break;}}}}}class Ig{constructor(_0x52b353){this['_name']=_0x52b353['name']+'Snapshot',this['_time']=-(-0x3d*0x67+0x1488+0x4*0x101),this['_cache']=[],this['_results']=[];for(let _0x3737a9=0x119*0x9+0x117f*0x1+-0x1b6*0x10;_0x3737a9<_0x52b353['_inputs']['length'];++_0x3737a9)this['_cache'][_0x3737a9]=new _L();const _0x503847=_0x52b353['_curves'],_0xea3135=_0x52b353['_outputs'];for(let _0x22c2ec=0x1afa+0x2a7+-0x25*0xcd;_0x22c2ec<_0x503847['length'];++_0x22c2ec){const _0x527ed0=_0x503847[_0x22c2ec],_0x3ee7ec=_0xea3135[_0x527ed0['_output']],_0x8ec6d=[];for(let _0x1825c1=0x1396+0x2361+0x36f7*-0x1;_0x1825c1<_0x3ee7ec['_component'+'s'];++_0x1825c1)_0x8ec6d[_0x1825c1]=-0x5*-0x52a+0x25f3+-0x3fc5;this['_results'][_0x22c2ec]=_0x8ec6d;}}}const qo=class qo{constructor(_0x4a8d9e,_0x15e540,_0x374ee0,_0x561c60,_0x3c0f11,_0x19ea9d){this['_name']=_0x4a8d9e['name'],this['_track']=_0x4a8d9e,this['_snapshot']=new Ig(_0x4a8d9e),this['_playing']=_0x561c60,this['_time']=_0x15e540,this['_speed']=_0x374ee0,this['_loop']=_0x3c0f11,this['_blendWeig'+'ht']=0x74*-0x3d+0x2332+-0x78d,this['_blendOrde'+'r']=0x20a8+-0x576+-0x1b32,this['_eventHand'+'ler']=_0x19ea9d,this['alignCurso'+'rToCurrent'+'Time']();}set['name'](_0x563ebc){this['_name']=_0x563ebc;}get['name'](){return this['_name'];}set['track'](_0x1da858){this['_track']=_0x1da858,this['_snapshot']=new Ig(_0x1da858);}get['track'](){return this['_track'];}get['snapshot'](){return this['_snapshot'];}set['time'](_0x47003a){this['_time']=_0x47003a,this['alignCurso'+'rToCurrent'+'Time']();}get['time'](){return this['_time'];}set['speed'](_0x25fe32){const _0x3e557c=Math['sign'](_0x25fe32)!==Math['sign'](this['_speed']);this['_speed']=_0x25fe32,_0x3e557c&&this['alignCurso'+'rToCurrent'+'Time']();}get['speed'](){return this['_speed'];}set['loop'](_0x24cb80){this['_loop']=_0x24cb80;}get['loop'](){return this['_loop'];}set['blendWeigh'+'t'](_0x3d6e52){this['_blendWeig'+'ht']=_0x3d6e52;}get['blendWeigh'+'t'](){return this['_blendWeig'+'ht'];}set['blendOrder'](_0x8a3ef8){this['_blendOrde'+'r']=_0x8a3ef8;}get['blendOrder'](){return this['_blendOrde'+'r'];}set['eventCurso'+'r'](_0x27c88d){this['_eventCurs'+'or']=_0x27c88d;}get['eventCurso'+'r'](){return this['_eventCurs'+'or'];}get['eventCurso'+'rEnd'](){return this['isReverse']?-0x2e2*-0x4+0x15a9*-0x1+0xa21:this['_track']['events']['length']-(-0x1*0x202+-0xb9*-0x7+-0x30c*0x1);}get['nextEvent'](){return this['_track']['events'][this['_eventCurs'+'or']];}get['isReverse'](){return this['_speed']<-0x10b*-0x3+-0x1891+0x38*0x62;}['nextEventA'+'headOfTime'](_0x2cf0db){return this['nextEvent']?this['isReverse']?this['nextEvent']['time']<=_0x2cf0db:this['nextEvent']['time']>=_0x2cf0db:!(-0x139c+-0x812*-0x2+-0x7*-0x7f);}['nextEventB'+'ehindTime'](_0x204996){return this['nextEvent']?_0x204996===this['track']['duration']?this['isReverse']?this['nextEvent']['time']>=_0x204996:this['nextEvent']['time']<=_0x204996:this['isReverse']?this['nextEvent']['time']>_0x204996:this['nextEvent']['time']<_0x204996:!(0x1949*0x1+-0x1f01+-0x5*-0x125);}['resetEvent'+'Cursor'](){this['_eventCurs'+'or']=this['isReverse']?this['_track']['events']['length']-(0x11*0xbb+-0x2*0x943+0x187*0x4):-0x19*0xa+-0x43*-0x76+-0x1de8;}['moveEventC'+'ursor'](){this['_eventCurs'+'or']+=this['isReverse']?-(-0x7a*0x41+-0x16dd+0x35d8*0x1):-0x10d2*-0x2+0x1218+-0x33bb,this['_eventCurs'+'or']>=this['track']['events']['length']?this['_eventCurs'+'or']=0x794+-0x8bb+0x127:this['_eventCurs'+'or']<-0x11c+0xf85+0x1f*-0x77&&(this['_eventCurs'+'or']=this['track']['events']['length']-(0x1bd9+-0x2*-0x187+-0x1ee6));}['clipFrameT'+'ime'](_0x2b81e9){const _0x5b6e8e=qo['eventFrame'];_0x5b6e8e['start']=-0x1b6*0xa+0xbe1+-0x67*-0xd,_0x5b6e8e['end']=_0x2b81e9,_0x5b6e8e['residual']=-0x412*0x5+-0x7e*0x39+0x60d*0x8,this['isReverse']?_0x2b81e9<0xe6+0x19db+-0x1ac1&&(_0x5b6e8e['start']=this['track']['duration'],_0x5b6e8e['end']=-0x1c7c+-0x37*-0x68+0x6*0x106,_0x5b6e8e['residual']=_0x2b81e9+this['track']['duration']):_0x2b81e9>this['track']['duration']&&(_0x5b6e8e['start']=0xf92+0x1*-0x25f3+-0x1661*-0x1,_0x5b6e8e['end']=this['track']['duration'],_0x5b6e8e['residual']=_0x2b81e9-this['track']['duration']);}['alignCurso'+'rToCurrent'+'Time'](){for(this['resetEvent'+'Cursor']();this['nextEventB'+'ehindTime'](this['_time'])&&this['_eventCurs'+'or']!==this['eventCurso'+'rEnd'];)this['moveEventC'+'ursor']();}['fireNextEv'+'ent'](){this['_eventHand'+'ler']['fire'](this['nextEvent']['name'],{'track':this['track'],...this['nextEvent']}),this['moveEventC'+'ursor']();}['fireNextEv'+'entInFrame'](_0x442547,_0x2ccaba){return this['nextEventA'+'headOfTime'](_0x442547)&&this['nextEventB'+'ehindTime'](_0x2ccaba)?(this['fireNextEv'+'ent'](),!(-0x348*-0x3+0x1e95+-0x286d)):!(0x1e8c+0x1200+0x1*-0x308b);}['activeEven'+'tsForFrame'](_0x44dbc7,_0x120e3c){const _0x2efe23=qo['eventFrame'];this['clipFrameT'+'ime'](_0x120e3c);const _0x4a0d8=this['eventCurso'+'r'];for(;this['fireNextEv'+'entInFrame'](_0x44dbc7,_0x2efe23['end'])&&_0x4a0d8!==this['eventCurso'+'r'];);this['loop']&&Math['abs'](_0x2efe23['residual'])>0xd85+-0x3*-0x205+0x2cc*-0x7&&this['activeEven'+'tsForFrame'](_0x2efe23['start'],_0x2efe23['residual']);}['progressFo'+'rTime'](_0x46777f){return _0x46777f*this['_speed']/this['_track']['duration'];}['_update'](_0x354cf7){if(this['_playing']){let _0x4cf7fe=this['_time'];const _0x2edcd9=this['_track']['duration'],_0x3a37ca=this['_speed'],_0x3f3ac7=this['_loop'];this['_track']['events']['length']>0x35*-0x35+-0x1*0x1319+0x1e12&&_0x2edcd9>-0x1da8*-0x1+-0x1cea+0x13*-0xa&&this['activeEven'+'tsForFrame'](_0x4cf7fe,_0x4cf7fe+_0x3a37ca*_0x354cf7),_0x4cf7fe+=_0x3a37ca*_0x354cf7,_0x3a37ca>=-0x158+0xa30+-0x8d8?_0x4cf7fe>_0x2edcd9&&(_0x3f3ac7?_0x4cf7fe=_0x4cf7fe%_0x2edcd9||0x1363+-0x6d7*0x3+0x122:(_0x4cf7fe=this['_track']['duration'],this['pause']())):_0x4cf7fe<-0x16dd+0x15d*0x2+0x1*0x1423&&(_0x3f3ac7?_0x4cf7fe=_0x2edcd9+(_0x4cf7fe%_0x2edcd9||-0x1*-0x12a4+-0x12f3+0x4f):(_0x4cf7fe=-0x1e88+-0x4ed*0x2+0x6*0x6bb,this['pause']())),this['_time']=_0x4cf7fe;}this['_time']!==this['_snapshot']['_time']&&this['_track']['eval'](this['_time'],this['_snapshot']);}['play'](){this['_playing']=!(0x23ac+0x43*-0x13+-0x1eb3),this['_time']=-0x1*0x20a1+-0xce3*-0x2+0x6db;}['stop'](){this['_playing']=!(-0x192+-0x238a+0x251d),this['_time']=-0xb05+-0x2*-0xaed+-0x1*0xad5;}['pause'](){this['_playing']=!(0x16d0+-0x15f8+-0xd7);}['resume'](){this['_playing']=!(-0x1*0x21e1+0x141*-0xb+0x2fac);}['reset'](){this['_time']=-0x75*0x30+-0x1*0xb49+-0x6a5*-0x5;}};h(qo,'eventFrame',{'start':0x0,'end':0x0,'residual':0x0});let Dh=qo;const zv='NONE',gL='PREV_STATE',SL='NEXT_STATE',yL='PREV_STATE'+'_NEXT_STAT'+'E',vL='NEXT_STATE'+'_PREV_STAT'+'E',xL='GREATER_TH'+'AN',TL='LESS_THAN',wL='GREATER_TH'+'AN_EQUAL_T'+'O',EL='LESS_THAN_'+'EQUAL_TO',bL='EQUAL_TO',AL='NOT_EQUAL_'+'TO',Lg='INTEGER',Rg='FLOAT',Og='BOOLEAN',Qc='TRIGGER',CL='1D',PL='2D_DIRECTI'+'ONAL',ML='2D_CARTESI'+'AN',DL='DIRECT',Co='START',vu='END',qr='ANY',Ih=[Co,vu,qr],Vv='OVERWRITE',IL='ADDITIVE';class Ht{static['dot'](_0x55d5f7,_0x564791){const _0xfc0675=_0x55d5f7['length'];let _0x3213a1=0x1e98+0xf85+-0x5*0x939;for(let _0xef4d5e=-0x2601+0x167+-0x752*-0x5;_0xef4d5e<_0xfc0675;++_0xef4d5e)_0x3213a1+=_0x55d5f7[_0xef4d5e]*_0x564791[_0xef4d5e];return _0x3213a1;}static['normalize'](_0x4cfaea){let _0x3aad62=Ht['dot'](_0x4cfaea,_0x4cfaea);if(_0x3aad62>-0x1cfd+-0x1616+-0x3313*-0x1){_0x3aad62=(0x79+0x25*0xb9+-0x1b35)/Math['sqrt'](_0x3aad62);const _0x2841b6=_0x4cfaea['length'];for(let _0x2fa13f=-0x271+0x3*0x23d+0x223*-0x2;_0x2fa13f<_0x2841b6;++_0x2fa13f)_0x4cfaea[_0x2fa13f]*=_0x3aad62;}}static['set'](_0xcac8f4,_0x4ec7dd,_0x39c657){const _0x48d745=_0xcac8f4['length'];if(_0x39c657==='quaternion'){let _0x32a7c5=Ht['dot'](_0x4ec7dd,_0x4ec7dd);_0x32a7c5>-0xc*0x6a+-0x25ae+0x2aa6&&(_0x32a7c5=(-0x5f8*-0x4+0x1f34+-0x3713*0x1)/Math['sqrt'](_0x32a7c5));for(let _0x1ea2a6=-0x28*0x71+0x1aed+-0x153*0x7;_0x1ea2a6<_0x48d745;++_0x1ea2a6)_0xcac8f4[_0x1ea2a6]=_0x4ec7dd[_0x1ea2a6]*_0x32a7c5;}else{for(let _0x3d6e99=-0x9*0x4b+0x19d6+-0x1*0x1733;_0x3d6e99<_0x48d745;++_0x3d6e99)_0xcac8f4[_0x3d6e99]=_0x4ec7dd[_0x3d6e99];}}static['blendVec'](_0x2da049,_0x20b8ed,_0x18ab5b,_0x3ee7d7){const _0x217660=_0x3ee7d7?0x13ca+-0x2235+0xe6c:-0x2153+-0x18fa+-0x11*-0x36e-_0x18ab5b,_0x487a2d=_0x2da049['length'];for(let _0x247443=-0x193*0xd+0x1dde+-0x967*0x1;_0x247443<_0x487a2d;++_0x247443)_0x2da049[_0x247443]=_0x2da049[_0x247443]*_0x217660+_0x20b8ed[_0x247443]*_0x18ab5b;}static['blendQuat'](_0xf79b9,_0xabe23e,_0x17cd9a,_0x34db93){const _0x24877c=_0xf79b9['length'],_0x35ae0e=_0x34db93?0xb3a+0x3c7+-0xf00:-0x1487+-0x3c1*-0x7+0x1*-0x5bf-_0x17cd9a;Ht['dot'](_0xf79b9,_0xabe23e)<0x18de+0x1*-0xc73+0xc6b*-0x1&&(_0x17cd9a=-_0x17cd9a);for(let _0x24c899=-0xcd7*-0x1+-0xef*-0x1f+-0xe*0x2fc;_0x24c899<_0x24877c;++_0x24c899)_0xf79b9[_0x24c899]=_0xf79b9[_0x24c899]*_0x35ae0e+_0xabe23e[_0x24c899]*_0x17cd9a;_0x34db93||Ht['normalize'](_0xf79b9);}static['blend'](_0x54cc83,_0x26dbd7,_0x4a18fe,_0x29adc0,_0x10c4a5){_0x29adc0==='quaternion'?Ht['blendQuat'](_0x54cc83,_0x26dbd7,_0x4a18fe,_0x10c4a5):Ht['blendVec'](_0x54cc83,_0x26dbd7,_0x4a18fe,_0x10c4a5);}static['stableSort'](_0x505322,_0x5a690e){const _0x2406a7=_0x505322['length'];for(let _0x30b446=-0x205f+-0x1198+0x31f7;_0x30b446<_0x2406a7-(0xcd*-0x1d+-0x13*-0x19b+0x17*-0x51);++_0x30b446)for(let _0x2f8025=_0x30b446+(-0x2059+-0x6f*0xf+-0x31*-0xcb);_0x2f8025<_0x2406a7;++_0x2f8025)if(_0x5a690e(_0x505322[_0x2f8025],_0x505322[_0x30b446])){const _0x3fa07e=_0x505322[_0x30b446];_0x505322[_0x30b446]=_0x505322[_0x2f8025],_0x505322[_0x2f8025]=_0x3fa07e;}}}const st=class st{constructor(_0x4c3479,_0x399ea2){this['_component']=_0x4c3479,this['mask']=new Int8Array(_0x4c3479['layers']['length']),this['weights']=new Float32Array(_0x4c3479['layers']['length']),this['totalWeigh'+'t']=-0x167*-0x14+-0x3b*0x5d+-0x1*0x69d,this['counter']=0x1e26+0x155f+0x79*-0x6d,this['layerCount'+'er']=-0x7*0x7+-0xb57+0xb88*0x1,this['valueType']=_0x399ea2,this['dirty']=!(-0x22c5*0x1+-0x1582+0x3847),this['value']=_0x399ea2===st['TYPE_QUAT']?[-0x1a1*-0x6+-0x4*-0x7f4+-0x2996,0x1a6c*0x1+-0x1c4*-0xd+0x4*-0xc58,0x1*0xd4f+0x9cd+-0x1*0x171c,-0x11*0xc7+-0xdf*-0x13+-0x1*0x355]:[0xad*-0x8+-0x17e9+0x1d51*0x1,0xb1*-0xe+0x3b*0x1+-0x3b*-0x29,-0x21*-0xc5+0xf66+0xb1*-0x3b],this['baseValue']=null,this['setter']=null;}get['_normalize'+'Weights'](){return this['_component']['normalizeW'+'eights'];}['getWeight'](_0x38dee5){return this['dirty']&&this['updateWeig'+'hts'](),this['_normalize'+'Weights']&&this['totalWeigh'+'t']===0x7e9+0xabb+-0x1*0x12a4||!this['mask'][_0x38dee5]?0x5*0x713+-0x20e+0x2151*-0x1:this['_normalize'+'Weights']?this['weights'][_0x38dee5]/this['totalWeigh'+'t']:Y['clamp'](this['weights'][_0x38dee5],-0x16d*-0x3+0x1557*0x1+-0x199e,0x1*0xd3a+-0x1df3+0x10ba);}['_layerBlen'+'dType'](_0x4837ab){return this['_component']['layers'][_0x4837ab]['blendType'];}['setMask'](_0x16d247,_0x103cf0){this['mask'][_0x16d247]=_0x103cf0,this['_normalize'+'Weights']&&(this['_component']['layers'][_0x16d247]['blendType']===Vv&&(this['mask']=this['mask']['fill'](-0x810+-0x6b6+-0x1f*-0x7a,-0x13a4+-0x5*0x26+0x1462,_0x16d247)),this['dirty']=!(-0x15ed+-0xa92+-0x3*-0xad5));}['updateWeig'+'hts'](){this['totalWeigh'+'t']=0x721+0x16a6+-0x1dc7*0x1;for(let _0x5f54aa=-0x1*0x1bb6+-0x2302+0x18*0x29d;_0x5f54aa<this['weights']['length'];_0x5f54aa++)this['weights'][_0x5f54aa]=this['_component']['layers'][_0x5f54aa]['weight'],this['totalWeigh'+'t']+=this['mask'][_0x5f54aa]*this['weights'][_0x5f54aa];this['dirty']=!(0x710+0x17a1*-0x1+0x1092);}['updateValu'+'e'](_0x1f15a6,_0x2b1681){if(this['counter']===-0x2372+0x1f*-0xef+-0x137*-0x35&&(Ht['set'](this['value'],st['IDENTITY_Q'+'UAT_ARR'],this['valueType']),this['_normalize'+'Weights']||Ht['blend'](this['value'],this['baseValue'],0x2d7+-0x1777*0x1+0x14a1,this['valueType'])),!(!this['mask'][_0x1f15a6]||this['getWeight'](_0x1f15a6)===-0x1d3*-0x13+-0x175e*-0x1+-0x5*0xb9b)){if(this['_layerBlen'+'dType'](_0x1f15a6)===IL&&!this['_normalize'+'Weights']){if(this['valueType']===st['TYPE_QUAT']){const _0x2a8e4b=st['q1']['set'](this['value'][-0x394*0x2+0x19ec+0x12c4*-0x1],this['value'][-0x253e+0x9f7*-0x1+0x2f36],this['value'][-0x1*-0x6d6+0x132*0x9+-0x1196],this['value'][0x1*-0xe11+-0x79*0xb+0x1347]),_0x21cf33=st['q2']['set'](this['baseValue'][0x219a+-0x2f5*0x7+-0xce7],this['baseValue'][-0x9*0x2ea+0x100f+0x1*0xa2c],this['baseValue'][-0x30*0x3f+0xe6c+0x25*-0x12],this['baseValue'][-0xbdf*-0x1+0x6ca+-0x12a6]),_0x730da1=st['q3']['set'](_0x2b1681[0x3*-0xae+-0x1348+-0x2*-0xaa9],_0x2b1681[0x1*-0xdd8+0x1db2+-0xfd9],_0x2b1681[0x1283*-0x1+-0x240a+0x368f],_0x2b1681[0x1*0xb9f+0x2542+-0x30de]),_0x5669a1=_0x21cf33['invert']()['mul'](_0x730da1);_0x5669a1['slerp'](le['IDENTITY'],_0x5669a1,this['getWeight'](_0x1f15a6)),_0x2a8e4b['mul'](_0x5669a1),st['quatArr'][0x1713+-0x2*-0x886+-0x281f*0x1]=_0x2a8e4b['x'],st['quatArr'][0x1440+-0xc3e+-0x3*0x2ab]=_0x2a8e4b['y'],st['quatArr'][-0x5*-0x7cd+-0xf8d*-0x1+0xda3*-0x4]=_0x2a8e4b['z'],st['quatArr'][0x25*-0x29+-0x2dc+0x8cc]=_0x2a8e4b['w'],Ht['set'](this['value'],st['quatArr'],this['valueType']);}else st['vecArr'][0x8f1+0x7*0x149+-0x11f0]=_0x2b1681[-0x133*0x15+0x2dd*0x4+0xdbb]-this['baseValue'][-0x1c4*-0xd+0x5f2+-0xe73*0x2],st['vecArr'][0x1d8b*0x1+0x1927+0x27*-0x167]=_0x2b1681[0xbe4*-0x2+0x25bc+-0xdf3]-this['baseValue'][-0x868*0x1+-0x2681+0x5*0x962],st['vecArr'][-0xf07+-0x1*-0x9bb+0xc2*0x7]=_0x2b1681[-0x1a1b+0x1f6b+-0x54e]-this['baseValue'][-0x167f+0x35*-0x6f+0x47*0xa4],Ht['blend'](this['value'],st['vecArr'],this['getWeight'](_0x1f15a6),this['valueType'],!(-0x7*0x424+-0x3a*0x2a+0x2680));}else Ht['blend'](this['value'],_0x2b1681,this['getWeight'](_0x1f15a6),this['valueType']);this['setter']&&this['setter'](this['value']);}}['unbind'](){this['setter']&&this['setter'](this['baseValue']);}};h(st,'TYPE_QUAT','quaternion'),h(st,'TYPE_VEC3','vector3'),h(st,'q1',new le()),h(st,'q2',new le()),h(st,'q3',new le()),h(st,'quatArr',[-0x823*0x1+-0x2568+-0x59*-0x83,0x4*0x6c3+0x1405*0x1+0x2f11*-0x1,-0x724+0x11c9*0x2+-0x1*0x1c6e,-0x11e8+0x6*0x17b+0x907]),h(st,'vecArr',[-0x24a1*-0x1+0xf33+0x6b*-0x7c,0x2e6+0x8d*0x26+-0x3d*0x64,-0x11d7*-0x2+0x737+-0x2ae5]),h(st,'IDENTITY_Q'+'UAT_ARR',[-0x597+-0x1e5a+-0x3*-0xbfb,0x235*0x2+-0xcd4+-0x435*-0x2,0x5*0x67f+0x1cb3+-0x3d2e,-0x1d4c+0x136*0xd+0xd*0x10b]);let Vo=st;class Gv{constructor(_0x4cb86b){this['_binder']=_0x4cb86b,this['_clips']=[],this['_inputs']=[],this['_outputs']=[],this['_targets']={};}get['clips'](){return this['_clips'];}['addClip'](_0x59f1bd){const _0x2955c8=this['_targets'],_0xf1aada=this['_binder'],_0x8c00d9=_0x59f1bd['track']['curves'],_0x2a51a2=_0x59f1bd['snapshot'],_0x4dfd71=[],_0x46d6fa=[];for(let _0xa28090=0x1c8e+-0x622+-0x166c;_0xa28090<_0x8c00d9['length'];++_0xa28090){const _0x3ee5d6=_0x8c00d9[_0xa28090]['paths'];for(let _0x32d286=0x22c2+0x1*-0xf17+-0x13ab;_0x32d286<_0x3ee5d6['length'];++_0x32d286){const _0x567e9f=_0x3ee5d6[_0x32d286],_0x31dfa7=_0xf1aada['resolve'](_0x567e9f);let _0x561f4a=_0x2955c8[_0x31dfa7&&_0x31dfa7['targetPath']||null];if(!_0x561f4a&&_0x31dfa7){_0x561f4a={'target':_0x31dfa7,'value':[],'curves':0x0,'blendCounter':0x0};for(let _0x308c77=-0x1886+0x8f1+-0x1*-0xf95;_0x308c77<_0x561f4a['target']['components'];++_0x308c77)_0x561f4a['value']['push'](-0x1f78+-0x1*0x15ed+0x3565);if(_0x2955c8[_0x31dfa7['targetPath']]=_0x561f4a,_0xf1aada['animCompon'+'ent']){if(!_0xf1aada['animCompon'+'ent']['targets'][_0x31dfa7['targetPath']]){let _0x405dcb;_0x31dfa7['targetPath']['substring'](_0x31dfa7['targetPath']['length']-(0x1efe+-0x1c9e+-0x253))==='localRotat'+'ion'?_0x405dcb=Vo['TYPE_QUAT']:_0x405dcb=Vo['TYPE_VEC3'],_0xf1aada['animCompon'+'ent']['targets'][_0x31dfa7['targetPath']]=new Vo(_0xf1aada['animCompon'+'ent'],_0x405dcb);}_0xf1aada['animCompon'+'ent']['targets'][_0x31dfa7['targetPath']]['layerCount'+'er']++,_0xf1aada['animCompon'+'ent']['targets'][_0x31dfa7['targetPath']]['setMask'](_0xf1aada['layerIndex'],0x10c8+0xdd7*0x1+0x1*-0x1e9e);}}_0x561f4a&&(_0x561f4a['curves']++,_0x4dfd71['push'](_0x2a51a2['_results'][_0xa28090]),_0x46d6fa['push'](_0x561f4a));}}this['_clips']['push'](_0x59f1bd),this['_inputs']['push'](_0x4dfd71),this['_outputs']['push'](_0x46d6fa);}['removeClip'](_0x20af41){const _0x496a2e=this['_targets'],_0x51b8e2=this['_binder'],_0x3246b7=this['_clips'],_0x32626a=_0x3246b7[_0x20af41]['track']['curves'];for(let _0x339714=0xce1+-0x69b+-0x646;_0x339714<_0x32626a['length'];++_0x339714){const _0x360a73=_0x32626a[_0x339714]['paths'];for(let _0xd81844=-0x1c34+0x25c5+-0x991;_0xd81844<_0x360a73['length'];++_0xd81844){const _0x3466dd=_0x360a73[_0xd81844],_0x4fb1d0=this['_binder']['resolve'](_0x3466dd);_0x4fb1d0&&(_0x4fb1d0['curves']--,_0x4fb1d0['curves']===-0x2cd+-0x53f*0x7+0x2786*0x1&&(_0x51b8e2['unresolve'](_0x3466dd),delete _0x496a2e[_0x4fb1d0['targetPath']],_0x51b8e2['animCompon'+'ent']&&_0x51b8e2['animCompon'+'ent']['targets'][_0x4fb1d0['targetPath']]['layerCount'+'er']--));}}_0x3246b7['splice'](_0x20af41,-0x1415+-0xc*0xa7+0x1bea),this['_inputs']['splice'](_0x20af41,-0x4f7+0x1809*0x1+-0x1311),this['_outputs']['splice'](_0x20af41,-0x7*-0x33+-0xfa*-0x13+-0x13f2);}['removeClip'+'s'](){for(;this['_clips']['length']>0x1f52+-0x1*0x1ea9+-0xa9;)this['removeClip'](-0x38d*0x8+-0x231d+0x1*0x3f85);}['updateClip'+'Track'](_0x8c01bb,_0x3b34ab){this['_clips']['forEach'](_0x1403d6=>{_0x1403d6['name']['includes'](_0x8c01bb)&&(_0x1403d6['track']=_0x3b34ab);}),this['rebind']();}['findClip'](_0x21891f){const _0x38d4ca=this['_clips'];for(let _0xab917a=0xbbe+-0x1020+0x462;_0xab917a<_0x38d4ca['length'];++_0xab917a){const _0xf67436=_0x38d4ca[_0xab917a];if(_0xf67436['name']===_0x21891f)return _0xf67436;}return null;}['rebind'](){this['_binder']['rebind'](),this['_targets']={};const _0x28bbcd=[...this['clips']];this['removeClip'+'s'](),_0x28bbcd['forEach'](_0x5f242b=>{this['addClip'](_0x5f242b);});}['assignMask'](_0x22ad73){return this['_binder']['assignMask'](_0x22ad73);}['update'](_0x135409,_0x5d8259=!(-0x57*0x28+0x24cd*-0x1+0x3265)){const _0x4c0800=this['_clips'],_0x402dfe=_0x4c0800['map']((_0x432c83,_0x170bce)=>_0x170bce);Ht['stableSort'](_0x402dfe,(_0x430ad7,_0x238531)=>_0x4c0800[_0x430ad7]['blendOrder']<_0x4c0800[_0x238531]['blendOrder']);for(let _0x5f17b1=0x25e9+-0x16cc+0x1*-0xf1d;_0x5f17b1<_0x402dfe['length'];++_0x5f17b1){const _0x8e7786=_0x402dfe[_0x5f17b1],_0xf9b9c8=_0x4c0800[_0x8e7786],_0x490b25=this['_inputs'][_0x8e7786],_0x4b5967=this['_outputs'][_0x8e7786],_0x2eb54a=_0xf9b9c8['blendWeigh'+'t'];if(_0x2eb54a>0x124*-0x10+0x1f00+-0xcc0&&_0xf9b9c8['_update'](_0x135409),!_0x5d8259)break;let _0x2f325c,_0x275a6e,_0x46303b;if(_0x2eb54a>=-0x542+-0x2c5*0xa+0x1*0x20f5){for(let _0x2cf62d=-0x1*-0x617+0x32f*-0x5+-0x94*-0x11;_0x2cf62d<_0x490b25['length'];++_0x2cf62d)_0x2f325c=_0x490b25[_0x2cf62d],_0x275a6e=_0x4b5967[_0x2cf62d],_0x46303b=_0x275a6e['value'],Ht['set'](_0x46303b,_0x2f325c,_0x275a6e['target']['type']),_0x275a6e['blendCount'+'er']++;}else{if(_0x2eb54a>-0x2219+0x1c2*-0xa+0x33ad){for(let _0x586889=-0x1659+-0x2317*0x1+0x3970;_0x586889<_0x490b25['length'];++_0x586889)_0x2f325c=_0x490b25[_0x586889],_0x275a6e=_0x4b5967[_0x586889],_0x46303b=_0x275a6e['value'],_0x275a6e['blendCount'+'er']===0x23d5*-0x1+-0x1*0x2054+0x4429?Ht['set'](_0x46303b,_0x2f325c,_0x275a6e['target']['type']):Ht['blend'](_0x46303b,_0x2f325c,_0x2eb54a,_0x275a6e['target']['type']),_0x275a6e['blendCount'+'er']++;}}}const _0x4b1461=this['_targets'],_0x30a6a1=this['_binder'];for(const _0x193631 in _0x4b1461)if(_0x4b1461['hasOwnProp'+'erty'](_0x193631)){const _0x5dd726=_0x4b1461[_0x193631];if(_0x30a6a1['animCompon'+'ent']&&_0x5dd726['target']['isTransfor'+'m']){const _0x5bdc6d=_0x30a6a1['animCompon'+'ent']['targets'][_0x193631];_0x5bdc6d['counter']===_0x5bdc6d['layerCount'+'er']&&(_0x5bdc6d['counter']=-0x1a0d+-0x4e9*-0x5+0x180),_0x5bdc6d['path']||(_0x5bdc6d['path']=_0x193631,_0x5bdc6d['baseValue']=_0x5dd726['target']['get'](),_0x5bdc6d['setter']=_0x5dd726['target']['set']),_0x5bdc6d['updateValu'+'e'](_0x30a6a1['layerIndex'],_0x5dd726['value']),_0x5bdc6d['counter']++;}else _0x5dd726['target']['set'](_0x5dd726['value']);_0x5dd726['blendCount'+'er']=-0xbcb+0x2680+-0x1ab5;}this['_binder']['update'](_0x135409);}}class Hv{constructor(_0x13aa59){this['_events']=[..._0x13aa59],this['_events']['sort']((_0x340a1c,_0x3320fc)=>_0x340a1c['time']-_0x3320fc['time']);}get['events'](){return this['_events'];}}const $h=class $h{constructor(_0x5dde26,_0x20c688,_0x55ca67,_0x44bdd9,_0x4577d1,_0x245610=new Hv([])){this['_name']=_0x5dde26,this['_duration']=_0x20c688,this['_inputs']=_0x55ca67,this['_outputs']=_0x44bdd9,this['_curves']=_0x4577d1,this['_animEvent'+'s']=_0x245610;}get['name'](){return this['_name'];}get['duration'](){return this['_duration'];}get['inputs'](){return this['_inputs'];}get['outputs'](){return this['_outputs'];}get['curves'](){return this['_curves'];}set['events'](_0x33d7fc){this['_animEvent'+'s']=_0x33d7fc;}get['events'](){return this['_animEvent'+'s']['events'];}['eval'](_0x14483f,_0x23394a){_0x23394a['_time']=_0x14483f;const _0x509549=this['_inputs'],_0x5f30d7=this['_outputs'],_0x24c061=this['_curves'],_0x25db21=_0x23394a['_cache'],_0xac5d1d=_0x23394a['_results'];for(let _0x473e2c=-0x1ceb*-0x1+-0x1*-0xeb1+-0x2b9c;_0x473e2c<_0x509549['length'];++_0x473e2c)_0x25db21[_0x473e2c]['update'](_0x14483f,_0x509549[_0x473e2c]['_data']);for(let _0x40950a=0x1*0x13f9+0x6*-0x49d+0x7b5;_0x40950a<_0x24c061['length'];++_0x40950a){const _0x19e9c9=_0x24c061[_0x40950a],_0x3024f7=_0x5f30d7[_0x19e9c9['_output']],_0x3d430=_0xac5d1d[_0x40950a];_0x25db21[_0x19e9c9['_input']]['eval'](_0x3d430,_0x19e9c9['_interpola'+'tion'],_0x3024f7);}}};h($h,'EMPTY',Object['freeze'](new $h('empty',Number['MAX_VALUE'],[],[],[])));let Qi=$h;class ra{static['joinPath'](_0x2b875d,_0x4819e7){_0x4819e7=_0x4819e7||'.';const _0x2c0654=function(_0x5c05f1){return _0x5c05f1['replace'](/\\/g,'\x5c\x5c')['replace'](new RegExp('\x5c'+_0x4819e7,'g'),'\x5c'+_0x4819e7);};return _0x2b875d['map'](_0x2c0654)['join'](_0x4819e7);}static['splitPath'](_0x3b74b9,_0x4483ee){_0x4483ee=_0x4483ee||'.';const _0x3ea6c7=[];let _0xc82361='',_0x41c8ee=0xb0e+-0xe86*-0x1+-0x1994;for(;_0x41c8ee<_0x3b74b9['length'];){let _0x226d81=_0x3b74b9[_0x41c8ee++];_0x226d81==='\x5c'&&_0x41c8ee<_0x3b74b9['length']?(_0x226d81=_0x3b74b9[_0x41c8ee++],_0x226d81==='\x5c'||_0x226d81===_0x4483ee?_0xc82361+=_0x226d81:_0xc82361+='\x5c'+_0x226d81):_0x226d81===_0x4483ee?(_0x3ea6c7['push'](_0xc82361),_0xc82361=''):_0xc82361+=_0x226d81;}return _0xc82361['length']>0xf08+-0x1ef4+0xfec&&_0x3ea6c7['push'](_0xc82361),_0x3ea6c7;}static['encode'](_0x33b9e6,_0x59f9ad,_0x480703){return(Array['isArray'](_0x33b9e6)?_0x33b9e6['join']('/'):_0x33b9e6)+'/'+_0x59f9ad+'/'+(Array['isArray'](_0x480703)?_0x480703['join']('/'):_0x480703);}['resolve'](_0x4d1020){return null;}['unresolve'](_0x491354){}['update'](_0x35d1e6){}}class xu{constructor(_0x21e59f,_0x526e82,_0x3e220d,_0x2458f1){_0x21e59f['set']?(this['_set']=_0x21e59f['set'],this['_get']=_0x21e59f['get']):this['_set']=_0x21e59f,this['_type']=_0x526e82,this['_component'+'s']=_0x3e220d,this['_targetPat'+'h']=_0x2458f1,this['_isTransfo'+'rm']=this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0xafc*-0x1+0x707+-0x11f6))==='localRotat'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x20cc+0x24dd+0x202*-0x2))==='localPosit'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x1*-0x10bb+0x1*0x178f+-0x2840))==='localScale';}get['set'](){return this['_set'];}get['get'](){return this['_get'];}get['type'](){return this['_type'];}get['components'](){return this['_component'+'s'];}get['targetPath'](){return this['_targetPat'+'h'];}get['isTransfor'+'m'](){return this['_isTransfo'+'rm'];}}class Sr{constructor(_0xaf8b88){h(this,'_isPathInM'+'ask',(_0x17bd22,_0x4efafc)=>{const _0x465156=this['_mask'][_0x17bd22];if(_0x465156){if(_0x465156['children']||_0x4efafc&&_0x465156['value']!==!(0x1*0x13c1+-0x4*0x14d+0x7*-0x214))return!(0x1a49*0x1+0x1*-0x71d+-0x132c);}else return!(0x196e+-0x8+-0x1965);return!(-0x4f*-0x17+-0x59*-0x3b+-0x1b9b);});if(this['graph']=_0xaf8b88,!_0xaf8b88)return;this['_mask']=null;const _0x5f1cbb={},_0x2107e8=function(_0x2f3c29){_0x5f1cbb[_0x2f3c29['name']]=_0x2f3c29;for(let _0x574fae=0x3*-0xba8+0x18fa+0x2*0x4ff;_0x574fae<_0x2f3c29['children']['length'];++_0x574fae)_0x2107e8(_0x2f3c29['children'][_0x574fae]);};_0x2107e8(_0xaf8b88),this['nodes']=_0x5f1cbb,this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={};const _0x8d438f=function(_0x4bcba8){let _0x2d7f05=_0x4bcba8;for(;_0x2d7f05&&!(_0x2d7f05 instanceof lt);)_0x2d7f05=_0x2d7f05['parent'];let _0x1b3108;return _0x2d7f05&&(_0x2d7f05['render']?_0x1b3108=_0x2d7f05['render']['meshInstan'+'ces']:_0x2d7f05['model']&&(_0x1b3108=_0x2d7f05['model']['meshInstan'+'ces'])),_0x1b3108;};this['nodeCounts']={},this['activeNode'+'s']=[],this['handlers']={'localPosition':function(_0x2d28d1){const _0x3bc9c1=_0x2d28d1['localPosit'+'ion'],_0x4f63b4=function(_0x2fd883){_0x3bc9c1['set'](..._0x2fd883);};return Sr['createAnim'+'Target'](_0x4f63b4,'vector',0x1c7+0x9d*-0xc+-0x166*-0x4,_0x2d28d1,'localPosit'+'ion');},'localRotation':function(_0x36a45b){const _0x53b9ca=_0x36a45b['localRotat'+'ion'],_0x401eb2=function(_0x45c7a7){_0x53b9ca['set'](..._0x45c7a7);};return Sr['createAnim'+'Target'](_0x401eb2,'quaternion',0x86*-0x12+-0x2259+0x1*0x2bc9,_0x36a45b,'localRotat'+'ion');},'localScale':function(_0x25a056){const _0xe1055c=_0x25a056['localScale'],_0x28307f=function(_0x37abf7){_0xe1055c['set'](..._0x37abf7);};return Sr['createAnim'+'Target'](_0x28307f,'vector',0x529*0x2+-0x68e+-0x3c1,_0x25a056,'localScale');},'weight':function(_0x45f991,_0x346c5a){_0x346c5a['indexOf']('name.')===-0xe69+0x1d02+0x25*-0x65?_0x346c5a=_0x346c5a['replace']('name.',''):_0x346c5a=Number(_0x346c5a);const _0x5b1752=_0x8d438f(_0x45f991);let _0x1b9628;if(_0x5b1752){for(let _0x40eb86=0x11*-0x11+0x4a2*-0x1+-0x5c3*-0x1;_0x40eb86<_0x5b1752['length'];++_0x40eb86)if(_0x5b1752[_0x40eb86]['node']['name']===_0x45f991['name']&&_0x5b1752[_0x40eb86]['morphInsta'+'nce']){const _0x45f434=_0x5b1752[_0x40eb86]['morphInsta'+'nce'],_0x204922=_0x469f3a=>{_0x45f434['setWeight'](_0x346c5a,_0x469f3a[-0xb47*-0x2+0x1f*-0x115+-0x1*-0xafd]);};_0x1b9628||(_0x1b9628=[]),_0x1b9628['push'](_0x204922);}}if(_0x1b9628){const _0x54b69e=_0x2a420a=>{for(let _0x324c69=0x3d*-0x7a+-0x9e1+-0xd*-0x2ff;_0x324c69<_0x1b9628['length'];++_0x324c69)_0x1b9628[_0x324c69](_0x2a420a);};return Sr['createAnim'+'Target'](_0x54b69e,'number',-0x241c+0xc19*0x3+0x17*-0x2,_0x45f991,'weight.'+_0x346c5a);}return null;},'materialTexture':(_0x565730,_0x20b058)=>{const _0x171c93=_0x8d438f(_0x565730);if(_0x171c93){let _0x4e5b0e;for(let _0x4c6b37=0x2db*-0x2+0x1*0x22a9+-0x1cf3;_0x4c6b37<_0x171c93['length'];++_0x4c6b37)if(_0x171c93[_0x4c6b37]['node']['name']===_0x565730['name']){_0x4e5b0e=_0x171c93[_0x4c6b37];break;}if(_0x4e5b0e){const _0x3c9d30=_0x86ee95=>{const _0x41389f=this['animCompon'+'ent']['system']['app']['assets']['get'](_0x86ee95[0x9a8+-0x56*0x1f+0x61*0x2]);_0x41389f&&_0x41389f['resource']&&_0x41389f['type']==='texture'&&(_0x4e5b0e['material'][_0x20b058]=_0x41389f['resource'],_0x4e5b0e['material']['update']());};return Sr['createAnim'+'Target'](_0x3c9d30,'vector',0x91e+0x5b1*-0x5+0x1358,_0x565730,'materialTe'+'xture','material');}}return null;}};}['_isPathAct'+'ive'](_0x51cce4){if(!this['_mask'])return!(-0x33*0x44+-0x1ea2+0xa*0x46b);const _0x384eb9=[_0x51cce4['entityPath'][0xa13*-0x1+0x5b3*-0x1+0xfc6],this['graph']['name']];for(let _0x514343=0xa83+0x261b+-0x7f*0x62;_0x514343<_0x384eb9['length'];++_0x514343){let _0x5d10d6=_0x384eb9[_0x514343];if(this['_isPathInM'+'ask'](_0x5d10d6,_0x51cce4['entityPath']['length']===0x14dd+-0x3*-0x997+-0x4d*0xa5))return!(0xd81*-0x2+-0xc4*-0x2a+-0x526);for(let _0x1774c1=-0xadd+0x2*0xef2+0x1e7*-0xa;_0x1774c1<_0x51cce4['entityPath']['length'];_0x1774c1++)if(_0x5d10d6+='/'+_0x51cce4['entityPath'][_0x1774c1],this['_isPathInM'+'ask'](_0x5d10d6,_0x1774c1===_0x51cce4['entityPath']['length']-(0xe17+0x461+-0x1277)))return!(-0x378+-0x1830+0x1ba8);}return!(-0x16ae*0x1+0x720+-0xf8f*-0x1);}['findNode'](_0x2e8298){if(!this['_isPathAct'+'ive'](_0x2e8298))return null;let _0x3c0bc3;if(this['graph']&&(_0x3c0bc3=this['graph']['findByPath'](_0x2e8298['entityPath']),_0x3c0bc3||(_0x3c0bc3=this['graph']['findByPath'](_0x2e8298['entityPath']['slice'](0x29*-0x3d+0x114*0x1c+-0x146a)))),!_0x3c0bc3){_0x3c0bc3=this['nodes'][_0x2e8298['entityPath'][_0x2e8298['entityPath']['length']-(0xf0d+-0x1d60+0xe54)]||''];const _0x42b065=ra['encode'](_0x2e8298['entityPath'][_0x2e8298['entityPath']['length']-(0x164e+-0x7d2+0x151*-0xb)]||'','graph',_0x2e8298['propertyPa'+'th']);this['visitedFal'+'lbackGraph'+'Paths'][_0x42b065]===-0x20e*-0xc+-0x15c*-0x1+-0x1a03&&w['warnOnce']('Anim\x20Binde'+'r:\x20Multipl'+'e\x20animatio'+'n\x20curves\x20w'+'ith\x20the\x20pa'+'th\x20'+_0x42b065+('\x20are\x20prese'+'nt\x20in\x20the\x20')+this['graph']['path']+('\x20graph\x20whi'+'ch\x20may\x20res'+'ult\x20in\x20the'+'\x20incorrect'+'\x20binding\x20o'+'f\x20animatio'+'ns')),Number['isFinite'](this['visitedFal'+'lbackGraph'+'Paths'][_0x42b065])?this['visitedFal'+'lbackGraph'+'Paths'][_0x42b065]++:this['visitedFal'+'lbackGraph'+'Paths'][_0x42b065]=0x16*-0x15a+-0x2036+0x1*0x3df2;}return _0x3c0bc3;}static['createAnim'+'Target'](_0x3e348e,_0x13d0db,_0x3c4bce,_0x21d48d,_0x473eff,_0xcafd70){const _0x3c0a60=ra['encode'](_0x21d48d['path'],_0xcafd70||'entity',_0x473eff);return new xu(_0x3e348e,_0x13d0db,_0x3c4bce,_0x3c0a60);}['resolve'](_0x3a3d4e){const _0x203e74=ra['encode'](_0x3a3d4e['entityPath'],_0x3a3d4e['component'],_0x3a3d4e['propertyPa'+'th']);let _0x2df9fa=this['targetCach'+'e'][_0x203e74];if(_0x2df9fa)return _0x2df9fa;const _0x3e1650=this['findNode'](_0x3a3d4e);if(!_0x3e1650)return null;const _0x3d2335=this['handlers'][_0x3a3d4e['propertyPa'+'th']];return!_0x3d2335||(_0x2df9fa=_0x3d2335(_0x3e1650),!_0x2df9fa)?null:(this['targetCach'+'e'][_0x203e74]=_0x2df9fa,this['nodeCounts'][_0x3e1650['path']]?this['nodeCounts'][_0x3e1650['path']]++:(this['activeNode'+'s']['push'](_0x3e1650),this['nodeCounts'][_0x3e1650['path']]=-0x1*0x17d2+0x4cf*-0x7+-0xd*-0x46c),_0x2df9fa);}['unresolve'](_0x33e07e){if(_0x33e07e['component']!=='graph')return;const _0xfcce8c=this['nodes'][_0x33e07e['entityPath'][_0x33e07e['entityPath']['length']-(0xf5a+-0x155a+0x601)]||''];if(this['nodeCounts'][_0xfcce8c['path']]--,this['nodeCounts'][_0xfcce8c['path']]===-0x4a1*-0x4+0x3a3+0x35*-0x6b){const _0x51297b=this['activeNode'+'s'],_0x1654e8=_0x51297b['indexOf'](_0xfcce8c['node']),_0x39256e=_0x51297b['length'];_0x1654e8<_0x39256e-(-0x1f*-0x1f+0x1716+-0x1ad6)&&(_0x51297b[_0x1654e8]=_0x51297b[_0x39256e-(0x996+0xe6f+0x1d*-0xd4)]),_0x51297b['pop']();}}['update'](_0x3bba28){const _0x1894dd=this['activeNode'+'s'];for(let _0x168d67=0x1d*-0x6a+-0x1f3+0x3*0x4a7;_0x168d67<_0x1894dd['length'];++_0x168d67)_0x1894dd[_0x168d67]['_dirtifyLo'+'cal']();}['assignMask'](_0xba6df2){return _0xba6df2!==this['_mask']?(this['_mask']=_0xba6df2,!(-0x2b9*0x2+0x1c68+-0x16f6)):!(0x2664+0x1776+0xdf*-0x47);}}class Wv extends we{constructor(){super(...arguments),h(this,'_animation'+'s',{}),h(this,'_assets',[]),h(this,'_loop',!(-0x153e+-0x7c*0x1c+0x129*0x1e)),h(this,'animEvalua'+'tor',null),h(this,'model',null),h(this,'skeleton',null),h(this,'fromSkel',null),h(this,'toSkel',null),h(this,'animations'+'Index',{}),h(this,'prevAnim',null),h(this,'currAnim',null),h(this,'blend',-0xa7f+-0x628+0x15*0xcb),h(this,'blending',!(-0x1*-0x1c99+0x5d2+-0x226a)),h(this,'blendSpeed',0x207a*0x1+0x12d2+-0x43*0xc4),h(this,'activate',!(0x624+-0x1348*-0x1+-0x196c)),h(this,'speed',-0xedc+-0xac1*0x2+0x1*0x245f);}set['animations'](_0x26c807){this['_animation'+'s']=_0x26c807,this['onSetAnima'+'tions']();}get['animations'](){return this['_animation'+'s'];}set['assets'](_0x54135c){const _0x244ba0=this['_assets'];if(_0x244ba0&&_0x244ba0['length']){for(let _0x4e6642=0xa65*-0x1+0x1*-0xf72+0x19d7;_0x4e6642<_0x244ba0['length'];_0x4e6642++)if(_0x244ba0[_0x4e6642]){const _0x525865=this['system']['app']['assets']['get'](_0x244ba0[_0x4e6642]);if(_0x525865){_0x525865['off']('change',this['onAssetCha'+'nged'],this),_0x525865['off']('remove',this['onAssetRem'+'oved'],this);const _0x3befb6=this['animations'+'Index'][_0x525865['id']];this['currAnim']===_0x3befb6&&this['_stopCurre'+'ntAnimatio'+'n'](),delete this['animations'][_0x3befb6],delete this['animations'+'Index'][_0x525865['id']];}}}this['_assets']=_0x54135c;const _0x46e478=_0x54135c['map'](_0x2d12e4=>_0x2d12e4 instanceof pe?_0x2d12e4['id']:_0x2d12e4);this['loadAnimat'+'ionAssets'](_0x46e478);}get['assets'](){return this['_assets'];}set['currentTim'+'e'](_0x3d8dbe){if(this['skeleton']&&(this['skeleton']['currentTim'+'e']=_0x3d8dbe,this['skeleton']['addTime'](-0xa*-0x57+-0x9*-0x3bb+-0x5*0x765),this['skeleton']['updateGrap'+'h']()),this['animEvalua'+'tor']){const _0x568646=this['animEvalua'+'tor']['clips'];for(let _0xd6517=0x12d*-0x1c+0x1dec+0x300;_0xd6517<_0x568646['length'];++_0xd6517)_0x568646[_0xd6517]['time']=_0x3d8dbe;}}get['currentTim'+'e'](){if(this['skeleton'])return this['skeleton']['_time'];if(this['animEvalua'+'tor']){const _0x1266d5=this['animEvalua'+'tor']['clips'];if(_0x1266d5['length']>0x198d+0xde5*-0x2+-0x1*-0x23d)return _0x1266d5[_0x1266d5['length']-(-0x1659+-0xad*0x10+0x212a)]['time'];}return 0x1689+0x1*-0xa1a+0x425*-0x3;}get['duration'](){return this['currAnim']?this['animations'][this['currAnim']]['duration']:(w['warn']('No\x20animati'+'on\x20is\x20play'+'ing\x20to\x20get'+'\x20a\x20duratio'+'n.\x20Returni'+'ng\x200.'),0x10*0xd7+-0x22c8+-0x8*-0x2ab);}set['loop'](_0x3b6cc6){if(this['_loop']=_0x3b6cc6,this['skeleton']&&(this['skeleton']['looping']=_0x3b6cc6),this['animEvalua'+'tor']){for(let _0x44519f=-0xb9*0x17+-0x1c3a*0x1+-0x3*-0xef3;_0x44519f<this['animEvalua'+'tor']['clips']['length'];++_0x44519f)this['animEvalua'+'tor']['clips'][_0x44519f]['loop']=_0x3b6cc6;}}get['loop'](){return this['_loop'];}['play'](_0x2e279c,_0x1afb5f=-0xfb8*-0x1+-0x8ab+-0x70d){if(!(!this['enabled']||!this['entity']['enabled'])){if(!this['animations'][_0x2e279c]){w['error']('Trying\x20to\x20'+'play\x20anima'+'tion\x20\x27'+_0x2e279c+('\x27\x20which\x20do'+'esn\x27t\x20exis'+'t'));return;}if(this['prevAnim']=this['currAnim'],this['currAnim']=_0x2e279c,this['model']){!this['skeleton']&&!this['animEvalua'+'tor']&&this['_createAni'+'mationCont'+'roller']();const _0xe39447=this['animations'][this['prevAnim']],_0x50a4ea=this['animations'][this['currAnim']];if(this['blending']=_0x1afb5f>-0x122+-0x4a5*0x6+-0xe80*-0x2&&!!this['prevAnim'],this['blending']&&(this['blend']=-0x1*0x3e3+0xd60+-0x97d,this['blendSpeed']=(-0x841*-0x1+0x1561+-0x1da1)/_0x1afb5f),this['skeleton']&&(this['blending']?(this['fromSkel']['animation']=_0xe39447,this['fromSkel']['addTime'](this['skeleton']['_time']),this['toSkel']['animation']=_0x50a4ea):this['skeleton']['animation']=_0x50a4ea),this['animEvalua'+'tor']){const _0x3b07eb=this['animEvalua'+'tor'];if(this['blending']){for(;_0x3b07eb['clips']['length']>0x1*-0x10b4+-0x14b2+-0x77b*-0x5;)_0x3b07eb['removeClip'](0x13d*0x1+-0x2c6*-0xd+-0x254b);}else this['animEvalua'+'tor']['removeClip'+'s']();const _0x8faa70=new Dh(this['animations'][this['currAnim']],-0x1a46+0x6c*0x41+-0x1*0x126,0x14f0+-0x2*-0xe8f+0x320d*-0x1,!(-0x1*-0x68c+-0x1*0xdc9+0x73d),this['loop']);_0x8faa70['name']=this['currAnim'],_0x8faa70['blendWeigh'+'t']=this['blending']?0x1*0x14e5+-0xdff+-0x6e6:-0x1*0x241c+-0x1*0x20b6+-0x15*-0x347,_0x8faa70['reset'](),this['animEvalua'+'tor']['addClip'](_0x8faa70);}}this['playing']=!(0x1f57+-0x3e5+0x493*-0x6);}}['getAnimati'+'on'](_0x3443d1){return this['animations'][_0x3443d1];}['setModel'](_0x349d08){_0x349d08!==this['model']&&(this['_resetAnim'+'ationContr'+'oller'](),this['model']=_0x349d08,this['animations']&&this['currAnim']&&this['animations'][this['currAnim']]&&this['play'](this['currAnim']));}['onSetAnima'+'tions'](){const _0x54499e=this['entity']['model'];if(_0x54499e){const _0xa3f39a=_0x54499e['model'];_0xa3f39a&&_0xa3f39a!==this['model']&&this['setModel'](_0xa3f39a);}if(!this['currAnim']&&this['activate']&&this['enabled']&&this['entity']['enabled']){const _0x52348f=Object['keys'](this['_animation'+'s']);_0x52348f['length']>-0x1e4*-0xe+0x1*-0x1883+-0x3*0xa7&&this['play'](_0x52348f[-0x240+-0x182f+-0x1*-0x1a6f]);}}['_resetAnim'+'ationContr'+'oller'](){this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['_createAni'+'mationCont'+'roller'](){const _0x327467=this['model'],_0x1d3782=this['animations'];let _0x4801af=!(0x17e*-0x19+0x20d4+0x25*0x1f),_0x300c38=!(0x2*0xa52+0x380+-0x1823);for(const _0x5a6eec in _0x1d3782)_0x1d3782['hasOwnProp'+'erty'](_0x5a6eec)&&(_0x1d3782[_0x5a6eec]['constructo'+'r']===Qi?_0x300c38=!(0x157e+0xcaf*-0x1+0x5*-0x1c3):_0x4801af=!(-0x232f*-0x1+0x1*0x6ce+-0x29fd));const _0x79ef71=_0x327467['getGraph']();_0x4801af?(this['fromSkel']=new Sf(_0x79ef71),this['toSkel']=new Sf(_0x79ef71),this['skeleton']=new Sf(_0x79ef71),this['skeleton']['looping']=this['loop'],this['skeleton']['setGraph'](_0x79ef71)):_0x300c38&&(this['animEvalua'+'tor']=new Gv(new Sr(this['entity'])));}['loadAnimat'+'ionAssets'](_0x505395){if(!_0x505395||!_0x505395['length'])return;const _0x176742=this['system']['app']['assets'],_0x5d9f62=_0xbc00be=>{if(_0xbc00be['resources']['length']>0x1aea+-0xc60+0x1*-0xe89){for(let _0x3aba28=0x127+0xcac+-0xdd3;_0x3aba28<_0xbc00be['resources']['length'];_0x3aba28++)this['animations'][_0xbc00be['resources'][_0x3aba28]['name']]=_0xbc00be['resources'][_0x3aba28],this['animations'+'Index'][_0xbc00be['id']]=_0xbc00be['resources'][_0x3aba28]['name'];}else this['animations'][_0xbc00be['name']]=_0xbc00be['resource'],this['animations'+'Index'][_0xbc00be['id']]=_0xbc00be['name'];this['animations']=this['animations'];},_0x5f458c=_0x262de1=>{_0x262de1['off']('change',this['onAssetCha'+'nged'],this),_0x262de1['on']('change',this['onAssetCha'+'nged'],this),_0x262de1['off']('remove',this['onAssetRem'+'oved'],this),_0x262de1['on']('remove',this['onAssetRem'+'oved'],this),_0x262de1['resource']?_0x5d9f62(_0x262de1):(_0x262de1['once']('load',_0x5d9f62,this),this['enabled']&&this['entity']['enabled']&&_0x176742['load'](_0x262de1));};for(let _0x379bd8=0x57+-0x1801+0x17aa,_0x322ad6=_0x505395['length'];_0x379bd8<_0x322ad6;_0x379bd8++){const _0x2120af=_0x176742['get'](_0x505395[_0x379bd8]);_0x2120af?_0x5f458c(_0x2120af):_0x176742['on']('add:'+_0x505395[_0x379bd8],_0x5f458c);}}['onAssetCha'+'nged'](_0x345102,_0x2828c3,_0x1d2a35,_0x381e45){if(_0x2828c3==='resource'||_0x2828c3==='resources'){if(_0x2828c3==='resources'&&_0x1d2a35&&_0x1d2a35['length']===-0xa7*0x2a+0xc19*0x1+-0x1*-0xf4d&&(_0x1d2a35=null),_0x1d2a35){let _0x4c3b85=!(0x25c+0x19fa+0x1c55*-0x1);if(_0x1d2a35['length']>-0x61*0x1a+-0x6d*0x1b+0x1*0x155a){if(_0x381e45&&_0x381e45['length']>-0x2f5*0x3+-0x201c+0x28fc){for(let _0x270928=0x1b26+0x1ebf+-0x39e5*0x1;_0x270928<_0x381e45['length'];_0x270928++)delete this['animations'][_0x381e45[_0x270928]['name']];}else delete this['animations'][_0x345102['name']];_0x4c3b85=!(-0x38*-0x48+0x1759+-0x4*0x9c6);for(let _0x109ea7=-0x194*0x10+-0x1a55+0x3395;_0x109ea7<_0x1d2a35['length'];_0x109ea7++)this['animations'][_0x1d2a35[_0x109ea7]['name']]=_0x1d2a35[_0x109ea7],!_0x4c3b85&&this['currAnim']===_0x1d2a35[_0x109ea7]['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x4c3b85=!(-0xbb*-0x29+-0x23b9+0x5c6),this['play'](_0x1d2a35[_0x109ea7]['name']));_0x4c3b85||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}else{if(_0x381e45&&_0x381e45['length']>0x12cc+0x6be*0x2+-0x2047){for(let _0x1a9020=-0x1924+0x9*-0x1c1+0x28ed;_0x1a9020<_0x381e45['length'];_0x1a9020++)delete this['animations'][_0x381e45[_0x1a9020]['name']];}this['animations'][_0x345102['name']]=_0x1d2a35[-0x63*0x1+0x45b+-0x1*0x3f8]||_0x1d2a35,_0x4c3b85=!(0x2130+0x338*-0x7+0x38d*-0x3),this['currAnim']===_0x345102['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x4c3b85=!(0x1a70+-0x7d1+-0x15*0xe3),this['play'](_0x345102['name'])),_0x4c3b85||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}this['animations'+'Index'][_0x345102['id']]=_0x345102['name'];}else{if(_0x381e45['length']>0x9ac+0x1bc4+0x1*-0x256f){for(let _0x13fe81=-0x1c21+-0x2*-0x1043+-0x177*0x3;_0x13fe81<_0x381e45['length'];_0x13fe81++)delete this['animations'][_0x381e45[_0x13fe81]['name']],this['currAnim']===_0x381e45[_0x13fe81]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x345102['name']],this['currAnim']===_0x345102['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x345102['id']];}}}['onAssetRem'+'oved'](_0x4205af){if(_0x4205af['off']('remove',this['onAssetRem'+'oved'],this),this['animations']){if(_0x4205af['resources']['length']>-0xffd*0x1+0x1eed+-0x1*0xeef){for(let _0x52859b=-0x15f2+0xc*-0x1c6+0x3ee*0xb;_0x52859b<_0x4205af['resources']['length'];_0x52859b++)delete this['animations'][_0x4205af['resources'][_0x52859b]['name']],this['currAnim']===_0x4205af['resources'][_0x52859b]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x4205af['name']],this['currAnim']===_0x4205af['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x4205af['id']];}}['_stopCurre'+'ntAnimatio'+'n'](){if(this['currAnim']=null,this['playing']=!(-0x1f7*-0xc+0xd8d+-0x8*0x4a4),this['skeleton']&&(this['skeleton']['currentTim'+'e']=-0x93b+0x1fce+-0x1693,this['skeleton']['animation']=null),this['animEvalua'+'tor']){for(let _0x551288=0x10aa+0x1a4f+0x13*-0x243;_0x551288<this['animEvalua'+'tor']['clips']['length'];++_0x551288)this['animEvalua'+'tor']['clips'][_0x551288]['stop']();this['animEvalua'+'tor']['update'](0x497+0x5e3*0x3+-0x1640),this['animEvalua'+'tor']['removeClip'+'s']();}}['onEnable'](){super['onEnable']();const _0xbf4ca7=this['assets'],_0x8e5a19=this['system']['app']['assets'];if(_0xbf4ca7)for(let _0x3fdd21=-0x1157+-0x1cf2+-0x2b9*-0x11,_0x2d5544=_0xbf4ca7['length'];_0x3fdd21<_0x2d5544;_0x3fdd21++){let _0x5bffb1=_0xbf4ca7[_0x3fdd21];_0x5bffb1 instanceof pe||(_0x5bffb1=_0x8e5a19['get'](_0x5bffb1)),_0x5bffb1&&!_0x5bffb1['resource']&&_0x8e5a19['load'](_0x5bffb1);}if(this['activate']&&!this['currAnim']){const _0x3921f3=Object['keys'](this['animations']);_0x3921f3['length']>-0x2*-0x64b+-0x1862+0xbcc&&this['play'](_0x3921f3[-0x7d2+-0x1641+-0x1e13*-0x1]);}}['onBeforeRe'+'move'](){for(let _0x123d3b=0x12*-0xfe+0xdce*-0x2+-0x4*-0xb5e;_0x123d3b<this['assets']['length'];_0x123d3b++){let _0x5b408e=this['assets'][_0x123d3b];typeof _0x5b408e=='number'&&(_0x5b408e=this['system']['app']['assets']['get'](_0x5b408e)),_0x5b408e&&(_0x5b408e['off']('change',this['onAssetCha'+'nged'],this),_0x5b408e['off']('remove',this['onAssetRem'+'oved'],this));}this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['update'](_0x27be43){if(this['blending']&&(this['blend']+=_0x27be43*this['blendSpeed'],this['blend']>=0x1770+0x7*-0x3f3+0x436&&(this['blend']=-0x9*-0x26+0x92*0x27+-0x1793)),this['playing']){const _0x42b6b2=this['skeleton'];if(_0x42b6b2!==null&&this['model']!==null){if(this['blending'])_0x42b6b2['blend'](this['fromSkel'],this['toSkel'],this['blend']);else{const _0x4d9c62=_0x27be43*this['speed'];_0x42b6b2['addTime'](_0x4d9c62),this['speed']>0x7*0x1ab+-0x2329+0x2*0xbbe&&_0x42b6b2['_time']===_0x42b6b2['animation']['duration']&&!this['loop']?this['playing']=!(-0x15e9+0x1d4f+-0x765):this['speed']<0x1*0x241+-0x1e0+-0x61&&_0x42b6b2['_time']===0x29d*-0x8+0x190c*0x1+-0x109*0x4&&!this['loop']&&(this['playing']=!(-0xa4d+0x147*0x13+-0xdf7));}this['blending']&&this['blend']===-0x1*-0x184+-0x24*-0xff+-0x255f&&(_0x42b6b2['animation']=this['toSkel']['animation']),_0x42b6b2['updateGrap'+'h']();}}const _0x9bc344=this['animEvalua'+'tor'];if(_0x9bc344){for(let _0x1d956e=0x21c9+-0x5*-0x25c+-0x7*0x683;_0x1d956e<_0x9bc344['clips']['length'];++_0x1d956e){const _0x38b8ba=_0x9bc344['clips'][_0x1d956e];_0x38b8ba['speed']=this['speed'],this['playing']?_0x38b8ba['resume']():_0x38b8ba['pause']();}this['blending']&&_0x9bc344['clips']['length']>0xf39*0x1+-0x1abf+0xb87&&(_0x9bc344['clips'][0xa18+-0x190f+0x1*0xef8]['blendWeigh'+'t']=this['blend']),_0x9bc344['update'](_0x27be43);}this['blending']&&this['blend']===-0x133*-0x19+0xd8*0x1d+-0x2*0x1b39&&(this['blending']=!(-0x60c+-0xb*-0x4c+0x1*0x2c9));}}class LL{constructor(){this['enabled']=!(0x120c+0x172f+-0x83f*0x5);}}const Tu=['enabled'];class RL extends ct{constructor(_0x3a46bb){super(_0x3a46bb),this['id']='animation',this['ComponentT'+'ype']=Wv,this['DataType']=LL,this['schema']=Tu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x292ac8,_0x389606,_0x4227ee){_0x4227ee=['activate','enabled','loop','speed','assets'];for(const _0x2bdc3d of _0x4227ee)_0x389606['hasOwnProp'+'erty'](_0x2bdc3d)&&(_0x292ac8[_0x2bdc3d]=_0x389606[_0x2bdc3d]);super['initialize'+'ComponentD'+'ata'](_0x292ac8,_0x389606,Tu);}['cloneCompo'+'nent'](_0x53a66b,_0x510c08){this['addCompone'+'nt'](_0x510c08,{}),_0x510c08['animation']['assets']=_0x53a66b['animation']['assets']['slice'](),_0x510c08['animation']['speed']=_0x53a66b['animation']['speed'],_0x510c08['animation']['loop']=_0x53a66b['animation']['loop'],_0x510c08['animation']['activate']=_0x53a66b['animation']['activate'],_0x510c08['animation']['enabled']=_0x53a66b['animation']['enabled'];const _0x437594={},_0x43a895=_0x53a66b['animation']['animations'];for(const _0x59c53b in _0x43a895)_0x43a895['hasOwnProp'+'erty'](_0x59c53b)&&(_0x437594[_0x59c53b]=_0x43a895[_0x59c53b]);_0x510c08['animation']['animations']=_0x437594;const _0x103d78={},_0x4ee9c9=_0x53a66b['animation']['animations'+'Index'];for(const _0x162e16 in _0x4ee9c9)_0x4ee9c9['hasOwnProp'+'erty'](_0x162e16)&&(_0x103d78[_0x162e16]=_0x4ee9c9[_0x162e16]);return _0x510c08['animation']['animations'+'Index']=_0x103d78,_0x510c08['animation'];}['onBeforeRe'+'move'](_0x5693bd,_0x26ade7){_0x26ade7['onBeforeRe'+'move']();}['onUpdate'](_0x35a47a){const _0x103b96=this['store'];for(const _0x2e4e92 in _0x103b96)if(_0x103b96['hasOwnProp'+'erty'](_0x2e4e92)){const _0x56576e=_0x103b96[_0x2e4e92];_0x56576e['data']['enabled']&&_0x56576e['entity']['enabled']&&_0x56576e['entity']['animation']['update'](_0x35a47a);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Wv['prototype'],Tu);class ml{constructor(_0x519b0f,_0x206ebe,_0x3e32ec,_0xf43b1,_0x36013c=-0x1*0xbb1+0x5e0+0x5d2){this['_state']=_0x519b0f,this['_parent']=_0x206ebe,this['_name']=_0x3e32ec,Array['isArray'](_0xf43b1)?(this['_point']=new J(_0xf43b1[-0x24a8+-0x203*-0x5+0x1a99],_0xf43b1[-0x8b*0x32+-0x3*0x82e+0x33b1]),this['_pointLeng'+'th']=this['_point']['length']()):(this['_point']=_0xf43b1,this['_pointLeng'+'th']=_0xf43b1),this['_speed']=_0x36013c,this['_weightedS'+'peed']=-0x7*0x435+0x2330+-0x5bc,this['_weight']=-0x1*-0x10ed+0x8*-0xc2+-0x5*0x22c,this['_animTrack']=null;}get['parent'](){return this['_parent'];}get['name'](){return this['_name'];}get['path'](){return this['_parent']?this['_parent']['path']+'.'+this['_name']:this['_name'];}get['point'](){return this['_point'];}get['pointLengt'+'h'](){return this['_pointLeng'+'th'];}set['weight'](_0x6341ef){this['_weight']=_0x6341ef;}get['weight'](){return this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['normalized'+'Weight'](){const _0x418be8=this['_state']['totalWeigh'+'t'];return _0x418be8===-0x1059+0x45*0x8b+-0x1*0x151e?-0x2469+0x6b*-0x5+-0x9a*-0x40:this['weight']/_0x418be8;}get['speed'](){return this['_weightedS'+'peed']*this['_speed'];}get['absoluteSp'+'eed'](){return Math['abs'](this['_speed']);}set['weightedSp'+'eed'](_0x2a91c1){this['_weightedS'+'peed']=_0x2a91c1;}get['weightedSp'+'eed'](){return this['_weightedS'+'peed'];}set['animTrack'](_0x4169f5){this['_animTrack']=_0x4169f5;}get['animTrack'](){return this['_animTrack'];}}class Jn extends ml{constructor(_0x53e79d,_0x4c6438,_0x195374,_0x2fa1c6,_0x42af41,_0x11e043,_0x144740,_0x54834f,_0x37620d){super(_0x53e79d,_0x4c6438,_0x195374,_0x2fa1c6),this['_parameter'+'s']=_0x42af41,this['_parameter'+'Values']=new Array(_0x42af41['length']),this['_children']=[],this['_findParam'+'eter']=_0x37620d,this['_syncAnima'+'tions']=_0x144740!==!(-0x25ae+0x2*-0x515+0x3*0xff3),this['_pointCach'+'e']={};for(let _0x57774a=-0x2162+0x1122+-0x4*-0x410;_0x57774a<_0x11e043['length'];_0x57774a++){const _0x4eda4f=_0x11e043[_0x57774a];_0x4eda4f['children']?this['_children']['push'](_0x54834f(_0x4eda4f['type'],_0x53e79d,this,_0x4eda4f['name'],0x262c+0x1030+-0x4f1*0xb,_0x4eda4f['parameter']?[_0x4eda4f['parameter']]:_0x4eda4f['parameters'],_0x4eda4f['children'],_0x4eda4f['syncAnimat'+'ions'],_0x54834f,_0x37620d)):this['_children']['push'](new ml(_0x53e79d,this,_0x4eda4f['name'],_0x4eda4f['point'],_0x4eda4f['speed']));}}get['weight'](){return this['calculateW'+'eights'](),this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['syncAnimat'+'ions'](){return this['_syncAnima'+'tions'];}['getChild'](_0x491dab){for(let _0x5c8725=0x11b8+0x1*0x893+-0x1a4b;_0x5c8725<this['_children']['length'];_0x5c8725++)if(this['_children'][_0x5c8725]['name']===_0x491dab)return this['_children'][_0x5c8725];return null;}['updatePara'+'meterValue'+'s'](){let _0x234ee9=!(-0x1e90+-0x2437*-0x1+-0x5a7);for(let _0xf116ca=-0x9*-0x14+0x5*0x724+-0x2468;_0xf116ca<this['_parameter'+'Values']['length'];_0xf116ca++){const _0x424de9=this['_findParam'+'eter'](this['_parameter'+'s'][_0xf116ca])['value'];this['_parameter'+'Values'][_0xf116ca]!==_0x424de9&&(this['_parameter'+'Values'][_0xf116ca]=_0x424de9,_0x234ee9=!(-0x2455+0x7*0x2bd+0x112b));}return _0x234ee9;}['getNodeWei'+'ghtedDurat'+'ion'](_0x4e01dc){return this['_children'][_0x4e01dc]['animTrack']['duration']/this['_children'][_0x4e01dc]['speedMulti'+'plier']*this['_children'][_0x4e01dc]['weight'];}['getNodeCou'+'nt'](){let _0x434653=-0xe27*0x2+0x71e+0x1530;for(let _0x31261c=0x1c28+0x1a*-0xb3+0x2*-0x4fd;_0x31261c<this['_children']['length'];_0x31261c++)this['_children'][_0x31261c]['constructo'+'r']===Jn?_0x434653+=this['_children'][_0x31261c]['getNodeCou'+'nt']():_0x434653++;return _0x434653;}}class OL extends Jn{constructor(_0x2cdc4f,_0x342019,_0x5eb859,_0x4869fd,_0x7469bb,_0x2f9f25,_0x1509da,_0x581707,_0x57c1ad){_0x2f9f25['sort']((_0x48e520,_0xcb5716)=>_0x48e520['point']-_0xcb5716['point']),super(_0x2cdc4f,_0x342019,_0x5eb859,_0x4869fd,_0x7469bb,_0x2f9f25,_0x1509da,_0x581707,_0x57c1ad);}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x4ddf93=0x11*-0x1d5+-0x1*0x1ca3+0x3bc8;this['_children'][0x6d7*0x1+0x76f*-0x1+-0x98*-0x1]['weight']=-0x1946+0x1*-0x18f3+0x3239;for(let _0x5f1b39=-0x1*0xf43+-0x2661+-0x35a4*-0x1;_0x5f1b39<this['_children']['length'];_0x5f1b39++){const _0x2b3d6f=this['_children'][_0x5f1b39];if(_0x5f1b39!==this['_children']['length']-(-0x9d*0xc+0x138*0xa+0x4d3*-0x1)){const _0x5ed99e=this['_children'][_0x5f1b39+(-0x2*-0x7e5+-0xebf+-0x10a)];if(_0x2b3d6f['point']===_0x5ed99e['point'])_0x2b3d6f['weight']=0x1d9*-0x1+-0x1e4+0x3bd+0.5,_0x5ed99e['weight']=-0x5*-0x1c5+-0xd1*0x29+0x18a0+0.5;else{if(Y['between'](this['_parameter'+'Values'][0xc01+-0x21a8+0x15a7],_0x2b3d6f['point'],_0x5ed99e['point'],!(-0x1b*-0xed+0x1*-0x17f+-0x20*0xbc))){const _0x8c364a=Math['abs'](_0x2b3d6f['point']-_0x5ed99e['point']),_0x5a3fc1=Math['abs'](_0x2b3d6f['point']-this['_parameter'+'Values'][-0xd57+0x2*-0x35+0xdc1]),_0x51a171=(_0x8c364a-_0x5a3fc1)/_0x8c364a;_0x2b3d6f['weight']=_0x51a171,_0x5ed99e['weight']=0x1668+0x13b9+-0x2a20-_0x51a171;}else _0x5ed99e['weight']=-0x20ce+-0x4*0x758+0x3e2e*0x1;}}this['_syncAnima'+'tions']&&(_0x4ddf93+=_0x2b3d6f['animTrack']['duration']/_0x2b3d6f['absoluteSp'+'eed']*_0x2b3d6f['weight']);}if(this['_syncAnima'+'tions'])for(let _0xe84025=0x2235*-0x1+-0x4ac+-0x26e1*-0x1;_0xe84025<this['_children']['length'];_0xe84025++){const _0xcefe0d=this['_children'][_0xe84025];_0xcefe0d['weightedSp'+'eed']=_0xcefe0d['animTrack']['duration']/_0xcefe0d['absoluteSp'+'eed']/_0x4ddf93;}}}const ki=class ki extends Jn{['pointDista'+'nceCache'](_0x4bb6d4,_0xbced7b){const _0x100835=''+_0x4bb6d4+_0xbced7b;return this['_pointCach'+'e'][_0x100835]||(this['_pointCach'+'e'][_0x100835]=this['_children'][_0xbced7b]['point']['clone']()['sub'](this['_children'][_0x4bb6d4]['point'])),this['_pointCach'+'e'][_0x100835];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x1b0a3c,_0x3eb9c1;ki['_p']['set'](...this['_parameter'+'Values']),_0x1b0a3c=0x5*0x4da+-0xe90+0x4d9*-0x2,_0x3eb9c1=0x179b+-0x1*-0xc6d+-0x2408;for(let _0x597892=-0xbdf+0x12*0x6b+0x3*0x173;_0x597892<this['_children']['length'];_0x597892++){const _0x769b74=this['_children'][_0x597892],_0x12484b=_0x769b74['point'];ki['_pip']['set'](ki['_p']['x'],ki['_p']['y'])['sub'](_0x12484b);let _0x249be3=Number['MAX_VALUE'];for(let _0x1a7474=-0x60a+0xe*-0xad+0xf80;_0x1a7474<this['_children']['length'];_0x1a7474++){if(_0x597892===_0x1a7474)continue;const _0x5f4134=this['pointDista'+'nceCache'](_0x597892,_0x1a7474),_0x29a458=Y['clamp'](-0x1af5+0x8*-0x2d5+0x1*0x319e-ki['_pip']['dot'](_0x5f4134)/_0x5f4134['lengthSq'](),0x1476+0x61e*-0x1+-0xe58,0x10a8+-0xbf2+-0x4b5);_0x29a458<_0x249be3&&(_0x249be3=_0x29a458);}_0x769b74['weight']=_0x249be3,_0x1b0a3c+=_0x249be3,this['_syncAnima'+'tions']&&(_0x3eb9c1+=_0x769b74['animTrack']['duration']/_0x769b74['absoluteSp'+'eed']*_0x769b74['weight']);}for(let _0x4b794c=-0x68*-0x12+-0x11*0x31+-0x40f*0x1;_0x4b794c<this['_children']['length'];_0x4b794c++){const _0x4173c7=this['_children'][_0x4b794c];_0x4173c7['weight']=_0x4173c7['_weight']/_0x1b0a3c,this['_syncAnima'+'tions']&&(_0x4173c7['weightedSp'+'eed']=_0x4173c7['animTrack']['duration']/_0x4173c7['absoluteSp'+'eed']/_0x3eb9c1);}}};h(ki,'_p',new J()),h(ki,'_pip',new J());let wu=ki;const Ui=class Ui extends Jn{['pointCache'](_0x31b255,_0x28ffa1){const _0x258720=''+_0x31b255+_0x28ffa1;return this['_pointCach'+'e'][_0x258720]||(this['_pointCach'+'e'][_0x258720]=new J((this['_children'][_0x28ffa1]['pointLengt'+'h']-this['_children'][_0x31b255]['pointLengt'+'h'])/((this['_children'][_0x28ffa1]['pointLengt'+'h']+this['_children'][_0x31b255]['pointLengt'+'h'])/(-0x457+-0x12c9*-0x2+0x5*-0x6a5)),J['angleRad'](this['_children'][_0x31b255]['point'],this['_children'][_0x28ffa1]['point'])*(0x252b+-0x23b0+-0xd*0x1d))),this['_pointCach'+'e'][_0x258720];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x596395,_0x24d7c0;Ui['_p']['set'](...this['_parameter'+'Values']);const _0x1d425c=Ui['_p']['length']();_0x596395=0x8*0x239+-0x56*-0x67+-0x3462,_0x24d7c0=-0x1b*-0x5d+0x2d2*0x5+-0x17e9;for(let _0x1df01d=-0xc03+0x73*-0x16+-0x15e5*-0x1;_0x1df01d<this['_children']['length'];_0x1df01d++){const _0x599a1=this['_children'][_0x1df01d],_0x232f6d=_0x599a1['point'],_0x1d04d0=_0x599a1['pointLengt'+'h'];let _0x21d759=Number['MAX_VALUE'];for(let _0x205f9c=0x2537+-0x238a+-0x1*0x1ad;_0x205f9c<this['_children']['length'];_0x205f9c++){if(_0x1df01d===_0x205f9c)continue;const _0x4963d2=this['pointCache'](_0x1df01d,_0x205f9c),_0xf65d46=this['_children'][_0x205f9c]['pointLengt'+'h'];Ui['_pip']['set']((_0x1d425c-_0x1d04d0)/((_0xf65d46+_0x1d04d0)/(-0x8c9*0x1+0x471+0x45a*0x1)),J['angleRad'](_0x232f6d,Ui['_p'])*(0x1*0x21ac+0x1*-0x208b+0x11f*-0x1));const _0x198193=Y['clamp'](-0x13b+-0x1*-0xee1+-0xda5-Math['abs'](Ui['_pip']['dot'](_0x4963d2)/_0x4963d2['lengthSq']()),-0x17a8+0x2418+-0xc70,0x234c+-0x3d*-0x80+0x41cb*-0x1);_0x198193<_0x21d759&&(_0x21d759=_0x198193);}_0x599a1['weight']=_0x21d759,_0x596395+=_0x21d759,this['_syncAnima'+'tions']&&(_0x24d7c0+=_0x599a1['animTrack']['duration']/_0x599a1['absoluteSp'+'eed']*_0x599a1['weight']);}for(let _0x2994ad=0x17f*-0x15+-0x240c+0x4377;_0x2994ad<this['_children']['length'];_0x2994ad++){const _0x33d459=this['_children'][_0x2994ad];if(_0x33d459['weight']=_0x33d459['_weight']/_0x596395,this['_syncAnima'+'tions']){const _0x434d5c=_0x33d459['animTrack']['duration']/_0x24d7c0*_0x596395;_0x33d459['weightedSp'+'eed']=_0x33d459['absoluteSp'+'eed']*_0x434d5c;}}}};h(Ui,'_p',new J()),h(Ui,'_pip',new J());let Eu=Ui;class FL extends Jn{['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x5c490d=0x1663+-0x5ba*-0x1+-0x3*0x95f,_0x354fcc=-0x2311+-0x868*-0x2+0x1*0x1241;for(let _0x5b1369=-0x752*-0x1+0x24c5+-0x2c17;_0x5b1369<this['_children']['length'];_0x5b1369++)if(_0x5c490d+=Math['max'](this['_parameter'+'Values'][_0x5b1369],-0x1d29+0x9f3+0x1*0x1336),this['_syncAnima'+'tions']){const _0x3e0a02=this['_children'][_0x5b1369];_0x354fcc+=_0x3e0a02['animTrack']['duration']/_0x3e0a02['absoluteSp'+'eed']*_0x3e0a02['weight'];}for(let _0x3fa756=0x9b*0x22+0x21*0xa1+-0x2957;_0x3fa756<this['_children']['length'];_0x3fa756++){const _0x3e589c=this['_children'][_0x3fa756],_0x366dcb=Math['max'](this['_parameter'+'Values'][_0x3fa756],-0x66*0x62+-0x131f+0x1*0x3a2b);_0x5c490d?(_0x3e589c['weight']=_0x366dcb/_0x5c490d,this['_syncAnima'+'tions']&&(_0x3e589c['weightedSp'+'eed']=_0x3e589c['animTrack']['duration']/_0x3e589c['absoluteSp'+'eed']/_0x354fcc)):(_0x3e589c['weight']=-0x269a+0x5d3*-0x4+-0x13*-0x342,this['_syncAnima'+'tions']&&(_0x3e589c['weightedSp'+'eed']=0xa9b*0x1+0x1f6b+-0xb*0x3d2));}}}class Fg{constructor(_0x24dfe9,_0x5519a0,_0x4b2b5c=-0xaea+0xb*-0x146+-0x18ed*-0x1,_0x7d7290=!(-0x52f+0xc9f*0x3+-0x20ae),_0x172fee){h(this,'_animation'+'s',{}),h(this,'_animation'+'List',[]),(this['_controlle'+'r']=_0x24dfe9,this['_name']=_0x5519a0,this['_speed']=_0x4b2b5c,this['_loop']=_0x7d7290,this['_hasAnimat'+'ions']=!(-0x18e*0xd+-0x209c+0x34d3),_0x172fee?this['_blendTree']=this['_createTre'+'e'](_0x172fee['type'],this,null,_0x5519a0,-0x410+-0x22f8+0x1*0x2709,_0x172fee['parameter']?[_0x172fee['parameter']]:_0x172fee['parameters'],_0x172fee['children'],_0x172fee['syncAnimat'+'ions'],this['_createTre'+'e'],this['_controlle'+'r']['findParame'+'ter']):this['_blendTree']=new ml(this,null,_0x5519a0,-0x212f+-0xd0b+0x2e3b,_0x4b2b5c));}['_createTre'+'e'](_0x35a9cb,_0x28692c,_0x189a06,_0x15c359,_0x903b5c,_0x2ca1e9,_0x4d6c68,_0x1f7188,_0x1d3f4c,_0x338d12){switch(_0x35a9cb){case CL:return new OL(_0x28692c,_0x189a06,_0x15c359,_0x903b5c,_0x2ca1e9,_0x4d6c68,_0x1f7188,_0x1d3f4c,_0x338d12);case ML:return new wu(_0x28692c,_0x189a06,_0x15c359,_0x903b5c,_0x2ca1e9,_0x4d6c68,_0x1f7188,_0x1d3f4c,_0x338d12);case PL:return new Eu(_0x28692c,_0x189a06,_0x15c359,_0x903b5c,_0x2ca1e9,_0x4d6c68,_0x1f7188,_0x1d3f4c,_0x338d12);case DL:return new FL(_0x28692c,_0x189a06,_0x15c359,_0x903b5c,_0x2ca1e9,_0x4d6c68,_0x1f7188,_0x1d3f4c,_0x338d12);}w['error']('Invalid\x20an'+'im\x20blend\x20t'+'ype:\x20'+_0x35a9cb);}['_getNodeFr'+'omPath'](_0x475725){let _0x357ed7=this['_blendTree'];for(let _0xba3a7=0x2f*-0x10+0x18f5+-0x1604;_0xba3a7<_0x475725['length'];_0xba3a7++)_0x357ed7=_0x357ed7['getChild'](_0x475725[_0xba3a7]);return _0x357ed7;}['addAnimati'+'on'](_0x52066c,_0x531eb4){const _0x31f5b9=_0x52066c['join']('.'),_0x429576=this['_animation'+'List']['findIndex'](_0x40e870=>_0x40e870['path']===_0x31f5b9);if(_0x429576>=-0x52*-0x35+0x4eb+-0x15e5*0x1)this['_animation'+'List'][_0x429576]['animTrack']=_0x531eb4;else{const _0x17c239=this['_getNodeFr'+'omPath'](_0x52066c);_0x17c239['animTrack']=_0x531eb4,this['_animation'+'List']['push'](_0x17c239);}this['_updateHas'+'Animations']();}['_updateHas'+'Animations'](){this['_hasAnimat'+'ions']=this['_animation'+'List']['length']>0x1ccb+0x1*-0xe59+0x2b*-0x56&&this['_animation'+'List']['every'](_0x2df3d4=>_0x2df3d4['animTrack']&&_0x2df3d4['animTrack']!==Qi['EMPTY']);}get['name'](){return this['_name'];}set['animations'](_0x536732){this['_animation'+'List']=_0x536732,this['_updateHas'+'Animations']();}get['animations'](){return this['_animation'+'List'];}get['hasAnimati'+'ons'](){return this['_hasAnimat'+'ions'];}set['speed'](_0x9f17f0){this['_speed']=_0x9f17f0;}get['speed'](){return this['_speed'];}set['loop'](_0x5f4b12){this['_loop']=_0x5f4b12;}get['loop'](){return this['_loop'];}get['nodeCount'](){return!this['_blendTree']||this['_blendTree']['constructo'+'r']===ml?-0x41b*-0x8+-0x1f46*0x1+-0x1*0x191:this['_blendTree']['getNodeCou'+'nt']();}get['playable'](){return Ih['indexOf'](this['name'])!==-(0x7*0xa3+-0x21c7*0x1+-0x1*-0x1d53)||this['animations']['length']===this['nodeCount'];}get['looping'](){if(this['animations']['length']>0x819+-0x4*0x240+0xe7){const _0x9e4799=this['name']+'.'+this['animations'][0x1*0x41+0xbcd+0xc0e*-0x1]['animTrack']['name'],_0x2a6fe4=this['_controlle'+'r']['animEvalua'+'tor']['findClip'](_0x9e4799);if(_0x2a6fe4)return _0x2a6fe4['loop'];}return!(-0x2190+-0x2369*0x1+0x16fe*0x3);}get['totalWeigh'+'t'](){let _0x59c953=0x1139+0x2382+-0x34bb;for(let _0x39bc81=0x7b*-0xe+0x878+-0x1be;_0x39bc81<this['animations']['length'];_0x39bc81++)_0x59c953+=this['animations'][_0x39bc81]['weight'];return _0x59c953;}get['timelineDu'+'ration'](){let _0x14f5fb=-0x2*0x641+-0x12ea+0x2*0xfb6;for(let _0x4cf870=-0x102b*-0x1+0x18*-0xa7+0x83*-0x1;_0x4cf870<this['animations']['length'];_0x4cf870++){const _0x1028af=this['animations'][_0x4cf870];_0x1028af['animTrack']['duration']>_0x14f5fb&&(_0x14f5fb=_0x1028af['animTrack']['duration']);}return _0x14f5fb;}}class Lh{constructor({from:_0xc703b8,to:_0x6e731b,time:_0x1e59b2=0x1be5+-0x7*-0x335+-0x3258,priority:_0x489a93=0x1520+-0x1782+0x262,conditions:_0x1d950=[],exitTime:_0x5563ca=null,transitionOffset:_0x303301=null,interruptionSource:_0x4c5d82=zv}){this['_from']=_0xc703b8,this['_to']=_0x6e731b,this['_time']=_0x1e59b2,this['_priority']=_0x489a93,this['_condition'+'s']=_0x1d950,this['_exitTime']=_0x5563ca,this['_transitio'+'nOffset']=_0x303301,this['_interrupt'+'ionSource']=_0x4c5d82;}get['from'](){return this['_from'];}set['to'](_0x5ac579){this['_to']=_0x5ac579;}get['to'](){return this['_to'];}get['time'](){return this['_time'];}get['priority'](){return this['_priority'];}get['conditions'](){return this['_condition'+'s'];}get['exitTime'](){return this['_exitTime'];}get['transition'+'Offset'](){return this['_transitio'+'nOffset'];}get['interrupti'+'onSource'](){return this['_interrupt'+'ionSource'];}get['hasExitTim'+'e'](){return!!this['exitTime'];}}class NL{constructor(_0x2cbeb1,_0x1de0df,_0x160759,_0x4218b3,_0x52c57e,_0x30fd51,_0x2b52f6){h(this,'_states',{}),h(this,'_stateName'+'s',[]),h(this,'_findTrans'+'itionsFrom'+'StateCache',{}),h(this,'_findTrans'+'itionsBetw'+'eenStatesC'+'ache',{}),h(this,'_previousS'+'tateName',null),h(this,'_activeSta'+'teName',Co),h(this,'_activeSta'+'teDuration',-0x11*-0xc2+0x5*0x3ee+0x56c*-0x6),h(this,'_activeSta'+'teDuration'+'Dirty',!(0x5*0x4d7+0xefb+-0x272e)),h(this,'_playing',!(-0x1022+-0x7*0xb5+0x1516)),h(this,'_activate'),h(this,'_transitio'+'ns'),h(this,'_currTrans'+'itionTime',-0x157*-0x17+-0x1*-0x139+-0x2009),h(this,'_totalTran'+'sitionTime',-0x336+0x24a4+-0x216d),h(this,'_isTransit'+'ioning',!(-0x10*0x19d+-0x18*0x12a+0x21*0x1a1)),h(this,'_transitio'+'nInterrupt'+'ionSource',zv),h(this,'_transitio'+'nPreviousS'+'tates',[]),h(this,'_timeInSta'+'te',0x20cb+0x26c9*0x1+-0x4794),h(this,'_timeInSta'+'teBefore',0x16d3+-0x2485+-0x6d9*-0x2),h(this,'findParame'+'ter',_0x1fea96=>this['_findParam'+'eter'](_0x1fea96)),(this['_animEvalu'+'ator']=_0x2cbeb1,this['_eventHand'+'ler']=_0x52c57e,this['_findParam'+'eter']=_0x30fd51,this['_consumeTr'+'igger']=_0x2b52f6);for(let _0x29c216=-0x1*-0x1795+0x1*-0x1b37+0x3a2;_0x29c216<_0x1de0df['length'];_0x29c216++)this['_states'][_0x1de0df[_0x29c216]['name']]=new Fg(this,_0x1de0df[_0x29c216]['name'],_0x1de0df[_0x29c216]['speed'],_0x1de0df[_0x29c216]['loop'],_0x1de0df[_0x29c216]['blendTree']),this['_stateName'+'s']['push'](_0x1de0df[_0x29c216]['name']);this['_transitio'+'ns']=_0x160759['map'](_0x843563=>new Lh({..._0x843563})),this['_activate']=_0x4218b3;}get['animEvalua'+'tor'](){return this['_animEvalu'+'ator'];}set['activeStat'+'e'](_0x33a776){this['_activeSta'+'teName']=_0x33a776;}get['activeStat'+'e'](){return this['_findState'](this['_activeSta'+'teName']);}get['activeStat'+'eName'](){return this['_activeSta'+'teName'];}get['activeStat'+'eAnimation'+'s'](){return this['activeStat'+'e']['animations'];}set['previousSt'+'ate'](_0x242f70){this['_previousS'+'tateName']=_0x242f70;}get['previousSt'+'ate'](){return this['_findState'](this['_previousS'+'tateName']);}get['previousSt'+'ateName'](){return this['_previousS'+'tateName'];}get['playable'](){let _0x26c507=!(0x3f7*0x5+0x97f+-0x1d52);for(let _0x47e3ff=-0x10f8+-0x2ef+0x13e7;_0x47e3ff<this['_stateName'+'s']['length'];_0x47e3ff++)this['_states'][this['_stateName'+'s'][_0x47e3ff]]['playable']||(_0x26c507=!(-0x1c4f+0x1253+0x9fd));return _0x26c507;}set['playing'](_0x15d9e0){this['_playing']=_0x15d9e0;}get['playing'](){return this['_playing'];}get['activeStat'+'eProgress'](){return this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);}get['activeStat'+'eDuration'](){if(this['_activeSta'+'teDuration'+'Dirty']){let _0x481f0d=0x211c+-0x3e1+-0x42d*0x7;for(let _0x506dbd=-0xf9*0x28+-0xa9*-0x18+0x1710;_0x506dbd<this['activeStat'+'eAnimation'+'s']['length'];_0x506dbd++){const _0x538ea7=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x506dbd]['name']);_0x538ea7&&(_0x481f0d=Math['max'](_0x481f0d,_0x538ea7['track']['duration']));}this['_activeSta'+'teDuration']=_0x481f0d,this['_activeSta'+'teDuration'+'Dirty']=!(-0x4aa+0x4a7*0x1+0x4*0x1);}return this['_activeSta'+'teDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x29ea50){this['_timeInSta'+'teBefore']=_0x29ea50,this['_timeInSta'+'te']=_0x29ea50;for(let _0x17368e=-0x4f*0x63+0x1*0x20b8+-0x22b;_0x17368e<this['activeStat'+'eAnimation'+'s']['length'];_0x17368e++){const _0x5cac71=this['animEvalua'+'tor']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x17368e]['name']);_0x5cac71&&(_0x5cac71['time']=_0x29ea50);}}get['activeStat'+'eCurrentTi'+'me'](){return this['_timeInSta'+'te'];}get['transition'+'ing'](){return this['_isTransit'+'ioning'];}get['transition'+'Progress'](){return this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime'];}get['states'](){return this['_stateName'+'s'];}['assignMask'](_0x1495fa){return this['_animEvalu'+'ator']['assignMask'](_0x1495fa);}['_findState'](_0x73b667){return this['_states'][_0x73b667];}['_getActive'+'StateProgr'+'essForTime'](_0x392b27){if(this['activeStat'+'eName']===Co||this['activeStat'+'eName']===vu||this['activeStat'+'eName']===qr)return-0x2146*0x1+0x43*0x85+0x1c*-0xe;const _0x174c80=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][-0x308+-0xf*0x15a+-0x26*-0x9d]['name']);return _0x174c80?_0x174c80['progressFo'+'rTime'](_0x392b27):null;}['_findTrans'+'itionsFrom'+'State'](_0x54716c){let _0x38e48a=this['_findTrans'+'itionsFrom'+'StateCache'][_0x54716c];return _0x38e48a||(_0x38e48a=this['_transitio'+'ns']['filter'](_0x553f9=>_0x553f9['from']===_0x54716c),ul(_0x38e48a),this['_findTrans'+'itionsFrom'+'StateCache'][_0x54716c]=_0x38e48a),_0x38e48a;}['_findTrans'+'itionsBetw'+'eenStates'](_0x45ff36,_0x13a583){let _0x406376=this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x45ff36+'->'+_0x13a583];return _0x406376||(_0x406376=this['_transitio'+'ns']['filter'](_0xff0db8=>_0xff0db8['from']===_0x45ff36&&_0xff0db8['to']===_0x13a583),ul(_0x406376),this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x45ff36+'->'+_0x13a583]=_0x406376),_0x406376;}['_transitio'+'nHasCondit'+'ionsMet'](_0x3eae00){const _0x35bc69=_0x3eae00['conditions'];for(let _0x4f9bd4=-0xd24*-0x1+-0x5e*0x1+0xda*-0xf;_0x4f9bd4<_0x35bc69['length'];_0x4f9bd4++){const _0x2ebba9=_0x35bc69[_0x4f9bd4],_0x73f188=this['_findParam'+'eter'](_0x2ebba9['parameterN'+'ame']);switch(_0x2ebba9['predicate']){case xL:if(!(_0x73f188['value']>_0x2ebba9['value']))return!(-0x20*0x22+-0x9*-0x1a6+-0xa95);break;case TL:if(!(_0x73f188['value']<_0x2ebba9['value']))return!(0x4*-0x35a+-0x1b1*0x13+0x2d8c);break;case wL:if(!(_0x73f188['value']>=_0x2ebba9['value']))return!(-0xaf8+0xe*-0xf3+0x1843);break;case EL:if(!(_0x73f188['value']<=_0x2ebba9['value']))return!(0x233d*0x1+0x1de+0x1*-0x251a);break;case bL:if(_0x73f188['value']!==_0x2ebba9['value'])return!(0x1f9e+-0x1*-0x1261+0x1b*-0x1da);break;case AL:if(_0x73f188['value']===_0x2ebba9['value'])return!(-0x67*-0x3d+0x13a8+0x2c32*-0x1);break;}}return!(-0x2448+0x1d0f+0x739);}['_findTrans'+'ition'](_0x162318,_0x422443){let _0x10f132=[];if(_0x162318&&_0x422443)_0x10f132=_0x10f132['concat'](this['_findTrans'+'itionsBetw'+'eenStates'](_0x162318,_0x422443));else{if(!this['_isTransit'+'ioning'])_0x10f132=_0x10f132['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x10f132=_0x10f132['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));else switch(this['_transitio'+'nInterrupt'+'ionSource']){case gL:_0x10f132=_0x10f132['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x10f132=_0x10f132['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case SL:_0x10f132=_0x10f132['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x10f132=_0x10f132['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case yL:_0x10f132=_0x10f132['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x10f132=_0x10f132['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x10f132=_0x10f132['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case vL:_0x10f132=_0x10f132['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x10f132=_0x10f132['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x10f132=_0x10f132['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;}}if(_0x10f132=_0x10f132['filter'](_0x1dbd8f=>{if(_0x1dbd8f['to']===this['activeStat'+'eName'])return!(-0x1cf5+0xf50+0xda6);if(_0x1dbd8f['hasExitTim'+'e']){let _0x3fe628=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'teBefore']),_0x377504=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);if(_0x1dbd8f['exitTime']<0x7*-0x11b+-0x817*0x3+0x1*0x2003&&this['activeStat'+'e']['loop']&&(_0x3fe628-=Math['floor'](_0x3fe628),_0x377504-=Math['floor'](_0x377504)),_0x377504===_0x3fe628){if(_0x377504!==_0x1dbd8f['exitTime'])return null;}else{if(!(_0x1dbd8f['exitTime']>_0x3fe628&&_0x1dbd8f['exitTime']<=_0x377504))return null;}}return this['_transitio'+'nHasCondit'+'ionsMet'](_0x1dbd8f);}),_0x10f132['length']>-0x1d0f+-0x1a*-0x112+0x13b){const _0x42c2a4=_0x10f132[0x1ec5+0x156c+-0x1af*0x1f];if(_0x42c2a4['to']===vu){const _0x5b560c=this['_findTrans'+'itionsFrom'+'State'](Co)[-0x4a3*-0x4+0xabd*-0x1+0x1*-0x7cf];_0x42c2a4['to']=_0x5b560c['to'];}return _0x42c2a4;}return null;}['updateStat'+'eFromTrans'+'ition'](_0x5e4041){let _0x22b59b,_0x417751,_0x1a9a1c;this['previousSt'+'ate']=_0x5e4041['from']?this['activeStat'+'eName']:null,this['activeStat'+'e']=_0x5e4041['to'],this['_activeSta'+'teDuration'+'Dirty']=!(0x3*0x2b3+-0x18e9+-0x10d0*-0x1);for(let _0x42c220=-0x2*-0xc6e+-0x2637+0xd5b*0x1;_0x42c220<_0x5e4041['conditions']['length'];_0x42c220++){const _0x19a366=_0x5e4041['conditions'][_0x42c220];this['_findParam'+'eter'](_0x19a366['parameterN'+'ame'])['type']===Qc&&this['_consumeTr'+'igger'](_0x19a366['parameterN'+'ame']);}if(this['previousSt'+'ate']){this['_isTransit'+'ioning']||(this['_transitio'+'nPreviousS'+'tates']=[]),this['_transitio'+'nPreviousS'+'tates']['push']({'name':this['_previousS'+'tateName'],'weight':0x1});const _0x76346d=Math['min'](this['_totalTran'+'sitionTime']!==0x189c+0x7a3+-0x203f?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x21ef*-0x1+0x301+0x1eef,0x1c04+0x17bf+0x33c2*-0x1);for(let _0x1f41f7=0x12*-0x41+-0x1965+0x1df7;_0x1f41f7<this['_transitio'+'nPreviousS'+'tates']['length'];_0x1f41f7++){this['_isTransit'+'ioning']?_0x1f41f7!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0xf*0x1c9+-0x19b4+0x4*0xd1f)?this['_transitio'+'nPreviousS'+'tates'][_0x1f41f7]['weight']*=0x21f1*-0x1+0xebf+0x1333-_0x76346d:this['_transitio'+'nPreviousS'+'tates'][_0x1f41f7]['weight']=_0x76346d:this['_transitio'+'nPreviousS'+'tates'][_0x1f41f7]['weight']=-0xf77*0x1+0x62*0x3b+-0x38f*0x2,_0x22b59b=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x1f41f7]['name']);for(let _0x29a802=-0x61f+-0x150a*0x1+0x11*0x199;_0x29a802<_0x22b59b['animations']['length'];_0x29a802++)_0x417751=_0x22b59b['animations'][_0x29a802],_0x1a9a1c=this['_animEvalu'+'ator']['findClip'](_0x417751['name']+'.previous.'+_0x1f41f7),_0x1a9a1c||(_0x1a9a1c=this['_animEvalu'+'ator']['findClip'](_0x417751['name']),_0x1a9a1c['name']=_0x417751['name']+'.previous.'+_0x1f41f7),_0x1f41f7!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0x2580+-0x1cc7+0x4248)&&_0x1a9a1c['pause']();}}this['_isTransit'+'ioning']=!(-0x14de+0x251b+0x103d*-0x1),this['_totalTran'+'sitionTime']=_0x5e4041['time'],this['_currTrans'+'itionTime']=-0x532*-0x3+0x1*0x2542+-0x34d8,this['_transitio'+'nInterrupt'+'ionSource']=_0x5e4041['interrupti'+'onSource'];const _0xe9584f=this['activeStat'+'e'],_0x5895fc=_0x5e4041['transition'+'Offset']&&_0x5e4041['transition'+'Offset']>-0x2578+0x142+-0x12*-0x203&&_0x5e4041['transition'+'Offset']<-0xe*0x281+-0x1*-0xc17+0x498*0x5;let _0x486d61=-0x3*-0x88b+-0xa9*0x17+-0xa72*0x1,_0x9105a6=-0x1c32+-0xef5*0x1+0x2b27*0x1;if(_0x5895fc){const _0x1bc59d=_0xe9584f['timelineDu'+'ration']*_0x5e4041['transition'+'Offset'];_0x486d61=_0x1bc59d,_0x9105a6=_0x1bc59d;}this['_timeInSta'+'te']=_0x486d61,this['_timeInSta'+'teBefore']=_0x9105a6;for(let _0x1e4683=-0x18fb+0x217*0xd+-0x50*0x7;_0x1e4683<_0xe9584f['animations']['length'];_0x1e4683++){if(_0x1a9a1c=this['_animEvalu'+'ator']['findClip'](_0xe9584f['animations'][_0x1e4683]['name']),_0x1a9a1c)_0x1a9a1c['reset']();else{const _0x1feb7c=Number['isFinite'](_0xe9584f['animations'][_0x1e4683]['speed'])?_0xe9584f['animations'][_0x1e4683]['speed']:_0xe9584f['speed'];_0x1a9a1c=new Dh(_0xe9584f['animations'][_0x1e4683]['animTrack'],this['_timeInSta'+'te'],_0x1feb7c,!(-0x1*-0x13ce+0x2590+-0x395e),_0xe9584f['loop'],this['_eventHand'+'ler']),_0x1a9a1c['name']=_0xe9584f['animations'][_0x1e4683]['name'],this['_animEvalu'+'ator']['addClip'](_0x1a9a1c);}if(_0x5e4041['time']>0x1879*0x1+0x1*0x16af+-0x2f28?_0x1a9a1c['blendWeigh'+'t']=-0x40*-0x47+-0x1*-0x240f+-0x227*0x19:_0x1a9a1c['blendWeigh'+'t']=_0xe9584f['animations'][_0x1e4683]['normalized'+'Weight'],_0x1a9a1c['play'](),_0x5895fc)_0x1a9a1c['time']=_0xe9584f['timelineDu'+'ration']*_0x5e4041['transition'+'Offset'];else{const _0x1f77d3=_0xe9584f['speed']>=0x21e1+0x143*-0x8+0x17c9*-0x1?-0x177d+-0x11*-0xb+-0xb61*-0x2:this['activeStat'+'eDuration'];_0x1a9a1c['time']=_0x1f77d3;}}}['_transitio'+'nToState'](_0x2b9806){if(!this['_findState'](_0x2b9806))return;let _0x2e4410=this['_findTrans'+'ition'](this['_activeSta'+'teName'],_0x2b9806);_0x2e4410||(this['_animEvalu'+'ator']['removeClip'+'s'](),_0x2e4410=new Lh({'from':null,'to':_0x2b9806})),this['updateStat'+'eFromTrans'+'ition'](_0x2e4410);}['assignAnim'+'ation'](_0x3ab4d3,_0x1e2ce6,_0x3db113,_0x9eeada){const _0x493988=_0x3ab4d3['split']('.');let _0x2cc885=this['_findState'](_0x493988[-0x57b+-0x644*0x1+0xbbf]);_0x2cc885||(_0x2cc885=new Fg(this,_0x493988[0x1ac1+0x23ab+-0x3e6c],_0x3db113),this['_states'][_0x493988[-0x19bd*-0x1+-0x1a32+0x75]]=_0x2cc885,this['_stateName'+'s']['push'](_0x493988[0xc*0x133+0x1*-0x76+-0xdee])),_0x2cc885['addAnimati'+'on'](_0x493988,_0x1e2ce6),this['_animEvalu'+'ator']['updateClip'+'Track'](_0x2cc885['name'],_0x1e2ce6),_0x3db113!==void(0x416*-0x2+-0xc8*-0x25+-0x14bc)&&(_0x2cc885['speed']=_0x3db113),_0x9eeada!==void(-0x7*0x45d+0x1783+0x708)&&(_0x2cc885['loop']=_0x9eeada),!this['_playing']&&this['_activate']&&this['playable']&&this['play'](),this['_activeSta'+'teDuration'+'Dirty']=!(0x10f5*0x1+-0x17*-0x109+0x28c4*-0x1);}['removeNode'+'Animations'](_0x32319f){if(Ih['indexOf'](_0x32319f)!==-(0x25bd*0x1+-0x1c2f+-0x98d))return!(-0x677*-0x5+0x24a+0x376*-0xa);const _0x2657a5=this['_findState'](_0x32319f);return _0x2657a5?(_0x2657a5['animations']=[],!(0x24c6*0x1+0xff9+0x7*-0x789)):(w['error']('Attempting'+'\x20to\x20unassi'+'gn\x20animati'+'on\x20tracks\x20'+'from\x20a\x20sta'+'te\x20that\x20do'+'es\x20not\x20exi'+'st.',_0x32319f),!(-0x1724+-0x1*-0x1b41+-0x41c));}['play'](_0x412711){_0x412711&&this['_transitio'+'nToState'](_0x412711),this['_playing']=!(-0x1ab*0x6+0x2497+-0x1a95*0x1);}['pause'](){this['_playing']=!(-0x3*-0x1ae+0x1*0xfbb+-0x14c4);}['reset'](){this['_previousS'+'tateName']=null,this['_activeSta'+'teName']=Co,this['_playing']=!(-0x56*0x25+0x1fb*0x1+0x1be*0x6),this['_currTrans'+'itionTime']=0x2*0xddf+-0x1f52+0x1*0x395,this['_totalTran'+'sitionTime']=0x249f+0x2*0xb33+-0x3*0x13ac,this['_isTransit'+'ioning']=!(-0x89c+0x19f5+-0x8ac*0x2),this['_timeInSta'+'te']=-0xcff*-0x1+0xe3*0x1+-0xde2,this['_timeInSta'+'teBefore']=0x84b*0x1+-0xa7*-0x26+-0x1*0x2115,this['_animEvalu'+'ator']['removeClip'+'s']();}['rebind'](){this['_animEvalu'+'ator']['rebind']();}['update'](_0x5e1162){if(!this['_playing'])return;let _0xfb2748,_0x21d2a6,_0x3e7aef;(this['activeStat'+'e']['loop']||this['_timeInSta'+'te']<this['activeStat'+'eDuration'])&&(this['_timeInSta'+'teBefore']=this['_timeInSta'+'te'],this['_timeInSta'+'te']+=_0x5e1162*this['activeStat'+'e']['speed'],!this['activeStat'+'e']['loop']&&this['_timeInSta'+'te']>this['activeStat'+'eDuration']&&(this['_timeInSta'+'te']=this['activeStat'+'eDuration'],_0x5e1162=this['activeStat'+'eDuration']-this['_timeInSta'+'teBefore']));const _0x53fed3=this['_findTrans'+'ition'](this['_activeSta'+'teName']);if(_0x53fed3&&this['updateStat'+'eFromTrans'+'ition'](_0x53fed3),this['_isTransit'+'ioning']){if(this['_currTrans'+'itionTime']+=_0x5e1162,this['_currTrans'+'itionTime']<=this['_totalTran'+'sitionTime']){const _0x22132a=this['_totalTran'+'sitionTime']!==0x4*0x44d+0x10c2+-0x21f6?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x10ad*0x2+-0x25b4+0xdf*0x5;for(let _0xc0bf9e=-0x1c76+0x5*-0x393+0x2e55*0x1;_0xc0bf9e<this['_transitio'+'nPreviousS'+'tates']['length'];_0xc0bf9e++){_0xfb2748=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0xc0bf9e]['name']);const _0x6e2049=this['_transitio'+'nPreviousS'+'tates'][_0xc0bf9e]['weight'];for(let _0x50b0ab=-0x1b7f+0x1b3*-0x16+0x40e1;_0x50b0ab<_0xfb2748['animations']['length'];_0x50b0ab++)_0x21d2a6=_0xfb2748['animations'][_0x50b0ab],_0x3e7aef=this['_animEvalu'+'ator']['findClip'](_0x21d2a6['name']+'.previous.'+_0xc0bf9e),_0x3e7aef&&(_0x3e7aef['blendWeigh'+'t']=(0x256f+-0x2509+-0x65*0x1-_0x22132a)*_0x21d2a6['normalized'+'Weight']*_0x6e2049);}_0xfb2748=this['activeStat'+'e'];for(let _0x1fbc46=0xc19+-0x1*0x4db+0x1*-0x73e;_0x1fbc46<_0xfb2748['animations']['length'];_0x1fbc46++)_0x21d2a6=_0xfb2748['animations'][_0x1fbc46],this['_animEvalu'+'ator']['findClip'](_0x21d2a6['name'])['blendWeigh'+'t']=_0x22132a*_0x21d2a6['normalized'+'Weight'];}else{this['_isTransit'+'ioning']=!(-0xa*0x21+-0x1123+0x126e);const _0x1c98fd=this['activeStat'+'eAnimation'+'s']['length'],_0x5466ef=this['_animEvalu'+'ator']['clips']['length'];for(let _0x15341d=-0x1*-0x100a+-0x13c3*-0x1+-0xeb*0x27;_0x15341d<_0x5466ef-_0x1c98fd;_0x15341d++)this['_animEvalu'+'ator']['removeClip'](-0x2f*0x3f+0x7d9*0x1+0xee*0x4);this['_transitio'+'nPreviousS'+'tates']=[],_0xfb2748=this['activeStat'+'e'];for(let _0x886c4e=0x138a+-0x2*-0x71b+-0x87*0x40;_0x886c4e<_0xfb2748['animations']['length'];_0x886c4e++)_0x21d2a6=_0xfb2748['animations'][_0x886c4e],_0x3e7aef=this['_animEvalu'+'ator']['findClip'](_0x21d2a6['name']),_0x3e7aef&&(_0x3e7aef['blendWeigh'+'t']=_0x21d2a6['normalized'+'Weight']);}}else{if(this['activeStat'+'e']['_blendTree']['constructo'+'r']!==ml){_0xfb2748=this['activeStat'+'e'];for(let _0x723170=-0xf0*-0xe+0x1c44+0xc*-0x373;_0x723170<_0xfb2748['animations']['length'];_0x723170++)_0x21d2a6=_0xfb2748['animations'][_0x723170],_0x3e7aef=this['_animEvalu'+'ator']['findClip'](_0x21d2a6['name']),_0x3e7aef&&(_0x3e7aef['blendWeigh'+'t']=_0x21d2a6['normalized'+'Weight'],_0x21d2a6['parent']['syncAnimat'+'ions']&&(_0x3e7aef['speed']=_0x21d2a6['speed']));}}this['_animEvalu'+'ator']['update'](_0x5e1162,this['activeStat'+'e']['hasAnimati'+'ons']);}}const wf=new J(),Tc=new D(),_o=new re(),go=new ie(),So=new le();class Fi extends Sr{constructor(_0x35ec29,_0x571cf6,_0x522b4b,_0x481af7,_0x36d2f4){super(_0x571cf6),this['animCompon'+'ent']=_0x35ec29,this['_mask']=_0x481af7,this['layerName']=_0x522b4b,this['layerIndex']=_0x36d2f4;}static['_packFloat'](_0x45df28){return _0x45df28[-0x84e*0x1+-0x314*-0xa+0x167a*-0x1];}static['_packBoole'+'an'](_0x241087){return!!_0x241087[0x1c8b*-0x1+-0x19f6+0x3*0x122b];}static['_packVec2'](_0x46de08){return wf['x']=_0x46de08[-0x11*0x223+0xa4c+0x3*0x8ad],wf['y']=_0x46de08[-0xc*-0x1df+-0x1b2*0xe+0x149*0x1],wf;}static['_packVec3'](_0x5bee84){return Tc['x']=_0x5bee84[0x2da+0x2bd*0x4+-0xdce],Tc['y']=_0x5bee84[0x19*0x18a+0x2126+-0x479f],Tc['z']=_0x5bee84[0x1fca+-0x26bb+0x6f3],Tc;}static['_packVec4'](_0x459780){return _o['x']=_0x459780[-0x15b*-0x1b+-0xe26+0x1673*-0x1],_o['y']=_0x459780[-0x22c2+0x10ea+0x11d9],_o['z']=_0x459780[-0x1876+-0xc5f+-0x24d7*-0x1],_o['w']=_0x459780[0x2*0xe4b+0x13ee+0x102b*-0x3],_o;}static['_packColor'](_0xf9c390){return go['r']=_0xf9c390[-0x1a18+-0x26ee+0x2083*0x2],go['g']=_0xf9c390[0x25eb+0x67c+-0x2c66],go['b']=_0xf9c390[-0x13*-0x1a5+0x9d7*0x3+0xca*-0x4d],go['a']=_0xf9c390[-0x7e*-0x42+-0x1*0x139a+-0xcdf*0x1],go;}static['_packQuat'](_0x1f75be){return So['x']=_0x1f75be[-0x1341+-0x1148+0x2489],So['y']=_0x1f75be[0x23e4+0x2b*0x7f+0x2*-0x1c9c],So['z']=_0x1f75be[-0x54*0x10+-0x379*0x3+0xfad],So['w']=_0x1f75be[-0x1bb8+-0x1742+0x32fd],So;}['resolve'](_0x30efa6){const _0x4377e0=ra['encode'](_0x30efa6['entityPath'],_0x30efa6['component'],_0x30efa6['propertyPa'+'th']);let _0x236016=this['targetCach'+'e'][_0x4377e0];if(_0x236016)return _0x236016;let _0x1d3b45,_0x200d7c,_0x563b66;switch(_0x30efa6['component']){case'entity':_0x1d3b45=this['_getEntity'+'FromHierar'+'chy'](_0x30efa6['entityPath']),_0x563b66=ra['encode'](_0x1d3b45['path'],'entity',_0x30efa6['propertyPa'+'th']),_0x200d7c=_0x1d3b45;break;case'graph':if(_0x200d7c=this['findNode'](_0x30efa6),!_0x200d7c)return null;_0x563b66=ra['encode'](_0x200d7c['path'],'graph',_0x30efa6['propertyPa'+'th']);break;default:if(_0x1d3b45=this['_getEntity'+'FromHierar'+'chy'](_0x30efa6['entityPath']),_0x200d7c=_0x1d3b45['findCompon'+'ent'](_0x30efa6['component']),!_0x200d7c)return null;_0x563b66=ra['encode'](_0x1d3b45['path'],_0x30efa6['component'],_0x30efa6['propertyPa'+'th']);break;}return _0x236016=this['_createAni'+'mTargetFor'+'Property'](_0x200d7c,_0x30efa6['propertyPa'+'th'],_0x563b66),this['targetCach'+'e'][_0x4377e0]=_0x236016,_0x236016;}['update'](_0x5ede1e){const _0x32bf7c=this['activeNode'+'s'];if(_0x32bf7c){for(let _0x125abf=0x7c9+-0x38e+-0x43b;_0x125abf<_0x32bf7c['length'];_0x125abf++)_0x32bf7c[_0x125abf]['_dirtifyLo'+'cal']();}}['_getEntity'+'FromHierar'+'chy'](_0x200360){if(!this['animCompon'+'ent']['entity']['name']===_0x200360[0x2*-0xb8a+-0x192*0xd+0x2*0x15bf])return null;const _0x51d2da=this['animCompon'+'ent']['entity'];return _0x200360['length']===0x17de+-0x31*0x53+0x7fa*-0x1?_0x51d2da:_0x51d2da['_parent']['findByPath'](_0x200360);}['_resolvePa'+'th'](_0xf9e5a4,_0xa1ac7f,_0x101741){const _0x198f6d=_0xa1ac7f['length']-(_0x101741?0x4*0xca+-0x5e6+0xd*0x36:0x2*-0xc6f+0x2265+-0x986*0x1);for(let _0x39bf93=0x270+0xa7*-0x21+0x1317*0x1;_0x39bf93<_0x198f6d;_0x39bf93++)_0xf9e5a4=_0xf9e5a4[_0xa1ac7f[_0x39bf93]];return _0xf9e5a4;}['_setter'](_0x1bad39,_0x5ca6cd,_0x25f89b){const _0x29aa9a=this['_resolvePa'+'th'](_0x1bad39,_0x5ca6cd),_0x20242c=_0x5ca6cd[_0x5ca6cd['length']-(-0xdc8+0x2d2*0xb+-0x113d)],_0x808c5b='set'+_0x20242c['substring'](-0x22d2+0x24e0+-0x20e,0x4*0xcd+0x2b*0x77+0x4*-0x5cc)['toUpperCas'+'e']()+_0x20242c['substring'](-0x590*-0x3+0x1*0x2035+-0x30e4);if(_0x29aa9a[_0x808c5b]){let _0x34aa16=_0x29aa9a['get'+_0x20242c['substring'](0x3*-0xb6b+0x299*0xa+0x847,-0xb8b+0x77b*0x5+-0x1*0x19db)['toUpperCas'+'e']()+_0x20242c['substring'](0x72*0xb+-0x3*-0x373+0x2*-0x79f)]['bind'](_0x29aa9a)();_0x34aa16=[_0x34aa16['x'],_0x34aa16['y'],_0x34aa16['z'],_0x34aa16['w']];const _0x25c34d=_0x29aa9a[_0x808c5b]['bind'](_0x29aa9a);return{'set':_0x323b7a=>{_0x25c34d(_0x25f89b(_0x323b7a));},'get':()=>_0x34aa16};}const _0x38c564=_0x29aa9a[_0x20242c];if(typeof _0x38c564=='object'&&_0x38c564['hasOwnProp'+'erty']('copy'))return function(_0x27041a){_0x38c564['copy'](_0x25f89b(_0x27041a));};if([J,D,re,ie,le]['indexOf'](_0x29aa9a['constructo'+'r'])!==-(0xe8f*-0x1+-0xc9+0xf59)&&_0x5ca6cd['length']>-0x1*0x14c2+0xef*0xc+-0x1*-0x98f){const _0x1b86a9=_0x5ca6cd['length']>-0x5*0x95+-0x168+-0x453*-0x1?this['_resolvePa'+'th'](_0x1bad39,_0x5ca6cd['slice'](0x37d*0x3+0x189b+-0x2312,-(-0x1591+0x8b5+-0xcdd*-0x1))):_0x1bad39,_0x1606c1=_0x5ca6cd[_0x5ca6cd['length']-(0x1*-0x19d7+-0x1fb6+0x1*0x398f)];return function(_0x1ed5ec){_0x29aa9a[_0x20242c]=_0x25f89b(_0x1ed5ec),_0x1b86a9[_0x1606c1]=_0x29aa9a;};}return function(_0x11b3ee){_0x29aa9a[_0x20242c]=_0x25f89b(_0x11b3ee);};}['_createAni'+'mTargetFor'+'Property'](_0x355840,_0x4d9517,_0x24714a){if(this['handlers']&&_0x4d9517[0x6e9*-0x1+-0x5*-0x51+-0x2*-0x2aa]['startsWith']('weight.'))return this['handlers']['weight'](_0x355840,_0x4d9517[0x25e*0x5+-0xa7*0x37+0x180b]['replace']('weight.',''));if(this['handlers']&&_0x4d9517[0x3b*0x45+0x1*0x1427+0x240e*-0x1]==='material'&&_0x4d9517['length']===-0x1664+0x26*-0xe1+-0x2*-0x1be6){const _0x1ac57c=_0x4d9517[-0x1d6b+0x7*0x6b+0x1a7f];if(_0x1ac57c['endsWith']('Map'))return this['handlers']['materialTe'+'xture'](_0x355840,_0x1ac57c);}const _0x515a27=this['_resolvePa'+'th'](_0x355840,_0x4d9517,!(-0x6c1*0x4+0x15eb+0x519));if(typeof _0x515a27>'u')return null;let _0x4866f2,_0x43ea0a,_0x44f34b;if(typeof _0x515a27=='number')_0x4866f2=this['_setter'](_0x355840,_0x4d9517,Fi['_packFloat']),_0x43ea0a='vector',_0x44f34b=0x10f*-0x16+-0x1027+0x132*0x21;else{if(typeof _0x515a27=='boolean')_0x4866f2=this['_setter'](_0x355840,_0x4d9517,Fi['_packBoole'+'an']),_0x43ea0a='vector',_0x44f34b=-0x143*0x4+-0x3f7+0x904;else{if(typeof _0x515a27=='object')switch(_0x515a27['constructo'+'r']){case J:_0x4866f2=this['_setter'](_0x355840,_0x4d9517,Fi['_packVec2']),_0x43ea0a='vector',_0x44f34b=0x1*0xa8+0x1ee*-0x2+-0x112*-0x3;break;case D:_0x4866f2=this['_setter'](_0x355840,_0x4d9517,Fi['_packVec3']),_0x43ea0a='vector',_0x44f34b=-0x1*0x3d5+-0x25c0+0x2998;break;case re:_0x4866f2=this['_setter'](_0x355840,_0x4d9517,Fi['_packVec4']),_0x43ea0a='vector',_0x44f34b=-0x515*0x7+-0x1d9+0x2570;break;case ie:_0x4866f2=this['_setter'](_0x355840,_0x4d9517,Fi['_packColor']),_0x43ea0a='vector',_0x44f34b=0x10f9*0x1+0x14b5+-0x25aa;break;case le:_0x4866f2=this['_setter'](_0x355840,_0x4d9517,Fi['_packQuat']),_0x43ea0a='quaternion',_0x44f34b=0x256d+-0xff1+-0x1578;break;default:return null;}}}return _0x4d9517['indexOf']('material')!==-(0xa4e+0x25d1+-0x301e)?new xu(_0x50c47d=>{_0x4866f2(_0x50c47d),_0x355840['material']['update']();},_0x43ea0a,_0x44f34b,_0x24714a):new xu(_0x4866f2,_0x43ea0a,_0x44f34b,_0x24714a);}['rebind'](){this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={},this['animCompon'+'ent']['rootBone']?this['graph']=this['animCompon'+'ent']['rootBone']:this['graph']=this['animCompon'+'ent']['entity'];const _0x235b8a={},_0x3821de=function(_0x4d2f67){_0x235b8a[_0x4d2f67['name']]=_0x4d2f67;for(let _0x3d0a00=-0x2*-0x345+0x26d7+-0x2d61;_0x3d0a00<_0x4d2f67['children']['length'];++_0x3d0a00)_0x3821de(_0x4d2f67['children'][_0x3d0a00]);};_0x3821de(this['graph']),this['nodes']=_0x235b8a;}}class kL{constructor(_0x1515ca,_0x394661,_0x1f7b89,_0x5b363f=-0x263b+0x6a6+0x137*0x1a,_0x3d1827=Vv){h(this,'_name'),h(this,'_controlle'+'r'),h(this,'_component'),h(this,'_weight'),h(this,'_blendType'),h(this,'_mask',null),h(this,'_blendTime',0x703+-0x7*0x31d+0xec8),h(this,'_blendTime'+'Elapsed',0x9da+-0xab4+0xda),h(this,'_startingW'+'eight',0xf73+0x1*0x7b5+-0x98*0x27),h(this,'_targetWei'+'ght',0x541+-0x19*0x169+0x6*0x500),(this['_name']=_0x1515ca,this['_controlle'+'r']=_0x394661,this['_component']=_0x1f7b89,this['_weight']=_0x5b363f,this['_blendType']=_0x3d1827);}get['name'](){return this['_name'];}set['playing'](_0x56583c){this['_controlle'+'r']['playing']=_0x56583c;}get['playing'](){return this['_controlle'+'r']['playing'];}get['playable'](){return this['_controlle'+'r']['playable'];}get['activeStat'+'e'](){return this['_controlle'+'r']['activeStat'+'eName'];}get['previousSt'+'ate'](){return this['_controlle'+'r']['previousSt'+'ateName'];}get['activeStat'+'eProgress'](){return this['_controlle'+'r']['activeStat'+'eProgress'];}get['activeStat'+'eDuration'](){return this['_controlle'+'r']['activeStat'+'eDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x37fd4b){const _0x17502a=this['_controlle'+'r'],_0x5a82d7=_0x17502a['playing'];_0x17502a['playing']=!(0xaa*-0x30+0x3*-0x6+0x553*0x6),_0x17502a['activeStat'+'eCurrentTi'+'me']=_0x37fd4b,_0x5a82d7||_0x17502a['update'](0x1777*-0x1+-0x28a*-0x5+-0x3*-0x397),_0x17502a['playing']=_0x5a82d7;}get['activeStat'+'eCurrentTi'+'me'](){return this['_controlle'+'r']['activeStat'+'eCurrentTi'+'me'];}get['transition'+'ing'](){return this['_controlle'+'r']['transition'+'ing'];}get['transition'+'Progress'](){return this['transition'+'ing']?this['_controlle'+'r']['transition'+'Progress']:null;}get['states'](){return this['_controlle'+'r']['states'];}set['weight'](_0x2bac91){this['_weight']=_0x2bac91,this['_component']['dirtifyTar'+'gets']();}get['weight'](){return this['_weight'];}set['blendType'](_0x3f838c){_0x3f838c!==this['_blendType']&&(this['_blendType']=_0x3f838c,this['_controlle'+'r']['normalizeW'+'eights']&&this['_component']['rebind']());}get['blendType'](){return this['_blendType'];}set['mask'](_0x1b38e4){this['_controlle'+'r']['assignMask'](_0x1b38e4)&&this['_component']['rebind'](),this['_mask']=_0x1b38e4;}get['mask'](){return this['_mask'];}['play'](_0x101113){this['_controlle'+'r']['play'](_0x101113);}['pause'](){this['_controlle'+'r']['pause']();}['reset'](){this['_controlle'+'r']['reset']();}['rebind'](){this['_controlle'+'r']['rebind']();}['update'](_0xa8e75e){this['_blendTime']&&(this['_blendTime'+'Elapsed']<this['_blendTime']?(this['weight']=Y['lerp'](this['_startingW'+'eight'],this['_targetWei'+'ght'],this['_blendTime'+'Elapsed']/this['_blendTime']),this['_blendTime'+'Elapsed']+=_0xa8e75e):(this['weight']=this['_targetWei'+'ght'],this['_blendTime']=0x2eb*-0x5+-0x1f21+0x2db8,this['_blendTime'+'Elapsed']=-0x620*-0x6+0x185b+0x3d1b*-0x1,this['_startingW'+'eight']=-0xfb5+0xb3*0x2b+-0xe5c,this['_targetWei'+'ght']=0x1*-0xbdf+0x4*0x8b7+-0x16fd)),this['_controlle'+'r']['update'](_0xa8e75e);}['blendToWei'+'ght'](_0x437590,_0x3134eb){this['_startingW'+'eight']=this['weight'],this['_targetWei'+'ght']=_0x437590,this['_blendTime']=Math['max'](-0xa20+0x152b+-0xb0b*0x1,_0x3134eb),this['_blendTime'+'Elapsed']=0x1777*0x1+0x5a9*-0x2+-0xc25*0x1;}['assignAnim'+'ation'](_0x5d9fa7,_0x1aceac,_0x11044c,_0x46af30){if(!(_0x1aceac instanceof Qi)){w['error']('assignAnim'+'ation:\x20ani'+'mTrack\x20sup'+'plied\x20to\x20f'+'unction\x20wa'+'s\x20not\x20of\x20t'+'ype\x20AnimTr'+'ack');return;}this['_controlle'+'r']['assignAnim'+'ation'](_0x5d9fa7,_0x1aceac,_0x11044c,_0x46af30),this['_controlle'+'r']['_transitio'+'ns']['length']===-0xb32+-0x1d86+0x28b8&&this['_controlle'+'r']['_transitio'+'ns']['push'](new Lh({'from':'START','to':_0x5d9fa7})),this['_component']['activate']&&this['_component']['playable']&&(this['_component']['playing']=!(-0x1bf7+-0x8*0x303+0x340f));}['removeNode'+'Animations'](_0xca517f){this['_controlle'+'r']['removeNode'+'Animations'](_0xca517f)&&(this['_component']['playing']=!(0x2*-0xaf3+0xed4+-0x1*-0x713));}['getAnimati'+'onAsset'](_0x25adde){return this['_component']['animationA'+'ssets'][this['name']+':'+_0x25adde];}['transition'](_0x176e18,_0x5ecf9b=0xe80+0x22b8+0x28*-0x13b,_0x4d35e8=null){this['_controlle'+'r']['updateStat'+'eFromTrans'+'ition'](new Lh({'from':this['_controlle'+'r']['activeStat'+'eName'],'to':_0x176e18,'time':_0x5ecf9b,'transitionOffset':_0x4d35e8}));}}class Jc{constructor(_0x5b1b8a){if(this['_layers']=[],this['_parameter'+'s']={},Array['isArray'](_0x5b1b8a['layers']))this['_layers']=_0x5b1b8a['layers'];else for(const _0x56ffa1 in _0x5b1b8a['layers']){const _0x42e4e7=_0x5b1b8a['layers'][_0x56ffa1],_0x190c22={'name':_0x42e4e7['name'],'blendType':_0x42e4e7['blendType'],'weight':_0x42e4e7['weight'],'states':[],'transitions':[]};for(let _0x38079f=0x100*-0x13+-0x1*0x1b35+0x2e35;_0x38079f<_0x42e4e7['states']['length'];_0x38079f++)_0x190c22['states']['push'](_0x5b1b8a['states'][_0x42e4e7['states'][_0x38079f]]);for(let _0x486a42=-0x14c6*0x1+-0x44b+-0x45*-0x5d;_0x486a42<_0x42e4e7['transition'+'s']['length'];_0x486a42++){const _0x37cbf5=_0x5b1b8a['transition'+'s'][_0x42e4e7['transition'+'s'][_0x486a42]];if(_0x37cbf5['conditions']&&!Array['isArray'](_0x37cbf5['conditions'])){const _0x22d94e=Object['keys'](_0x37cbf5['conditions']),_0x4d9b1f=[];for(let _0xfa710e=-0x2e5+0xe5f*-0x1+-0x451*-0x4;_0xfa710e<_0x22d94e['length'];_0xfa710e++){const _0x1d4a15=_0x37cbf5['conditions'][_0x22d94e[_0xfa710e]];_0x1d4a15['parameterN'+'ame']&&_0x4d9b1f['push'](_0x1d4a15);}_0x37cbf5['conditions']=_0x4d9b1f;}Number['isInteger'](_0x37cbf5['from'])&&(_0x37cbf5['from']=_0x5b1b8a['states'][_0x37cbf5['from']]['name']),Number['isInteger'](_0x37cbf5['to'])&&(_0x37cbf5['to']=_0x5b1b8a['states'][_0x37cbf5['to']]['name']),_0x190c22['transition'+'s']['push'](_0x37cbf5);}this['_layers']['push'](_0x190c22);}for(const _0x515465 in _0x5b1b8a['parameters']){const _0x102c7d=_0x5b1b8a['parameters'][_0x515465];this['_parameter'+'s'][_0x102c7d['name']]={'type':_0x102c7d['type'],'value':_0x102c7d['value']};}}get['parameters'](){return Object['assign']({},this['_parameter'+'s']);}get['layers'](){return this['_layers'];}}class $v extends we{constructor(){super(...arguments),h(this,'_stateGrap'+'hAsset',null),h(this,'_animation'+'Assets',{}),h(this,'_speed',-0x203e*0x1+-0x1*-0x169d+0x3*0x336),h(this,'_activate',!(-0x19fa+0x1b7a+-0x20*0xc)),h(this,'_playing',!(0x269*-0xd+-0x207d+0x3fd3)),h(this,'_rootBone',null),h(this,'_stateGrap'+'h',null),h(this,'_layers',[]),h(this,'_layerIndi'+'ces',{}),h(this,'_parameter'+'s',{}),h(this,'_targets',{}),h(this,'_consumedT'+'riggers',new Set()),h(this,'_normalize'+'Weights',!(0x53f*-0x1+0x1*0x784+-0x244)),h(this,'findParame'+'ter',_0x3000ae=>this['_parameter'+'s'][_0x3000ae]),h(this,'consumeTri'+'gger',_0x339da0=>{this['_consumedT'+'riggers']['add'](_0x339da0);});}set['stateGraph'+'Asset'](_0x221c12){if(_0x221c12===null){this['removeStat'+'eGraph']();return;}this['_stateGrap'+'hAsset']&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);let _0x1f5313,_0x275845;_0x221c12 instanceof pe?(_0x1f5313=_0x221c12['id'],_0x275845=this['system']['app']['assets']['get'](_0x1f5313),_0x275845||(this['system']['app']['assets']['add'](_0x221c12),_0x275845=this['system']['app']['assets']['get'](_0x1f5313))):(_0x1f5313=_0x221c12,_0x275845=this['system']['app']['assets']['get'](_0x1f5313)),!(!_0x275845||this['_stateGrap'+'hAsset']===_0x1f5313)&&(_0x275845['resource']?(this['_stateGrap'+'h']=_0x275845['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']),_0x275845['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this)):(_0x275845['once']('load',_0x4e54be=>{this['_stateGrap'+'h']=_0x4e54be['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']);}),_0x275845['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this),this['system']['app']['assets']['load'](_0x275845)),this['_stateGrap'+'hAsset']=_0x1f5313);}get['stateGraph'+'Asset'](){return this['_stateGrap'+'hAsset'];}set['normalizeW'+'eights'](_0x1d9d64){this['_normalize'+'Weights']=_0x1d9d64,this['unbind']();}get['normalizeW'+'eights'](){return this['_normalize'+'Weights'];}set['animationA'+'ssets'](_0x2e1090){this['_animation'+'Assets']=_0x2e1090,this['loadAnimat'+'ionAssets']();}get['animationA'+'ssets'](){return this['_animation'+'Assets'];}set['speed'](_0x2e1732){this['_speed']=_0x2e1732;}get['speed'](){return this['_speed'];}set['activate'](_0x134d1e){this['_activate']=_0x134d1e;}get['activate'](){return this['_activate'];}set['playing'](_0x3d18dd){this['_playing']=_0x3d18dd;}get['playing'](){return this['_playing'];}set['rootBone'](_0x58c61d){if(typeof _0x58c61d=='string'){const _0x456a00=this['entity']['root']['findByGuid'](_0x58c61d);w['assert'](_0x456a00,'rootBone\x20e'+'ntity\x20for\x20'+'supplied\x20g'+'uid:'+_0x58c61d+('\x20cannot\x20be'+'\x20found\x20in\x20'+'the\x20scene')),this['_rootBone']=_0x456a00;}else _0x58c61d instanceof lt?this['_rootBone']=_0x58c61d:this['_rootBone']=null;this['rebind']();}get['rootBone'](){return this['_rootBone'];}set['stateGraph'](_0x351c0b){this['_stateGrap'+'h']=_0x351c0b;}get['stateGraph'](){return this['_stateGrap'+'h'];}get['layers'](){return this['_layers'];}set['layerIndic'+'es'](_0x47222e){this['_layerIndi'+'ces']=_0x47222e;}get['layerIndic'+'es'](){return this['_layerIndi'+'ces'];}set['parameters'](_0x572afe){this['_parameter'+'s']=_0x572afe;}get['parameters'](){return this['_parameter'+'s'];}set['targets'](_0x5abd08){this['_targets']=_0x5abd08;}get['targets'](){return this['_targets'];}get['playable'](){for(let _0x4bbe4b=0x3*-0x35+-0x22e+0x2cd;_0x4bbe4b<this['_layers']['length'];_0x4bbe4b++)if(!this['_layers'][_0x4bbe4b]['playable'])return!(-0x1af3+-0x44a+0x1f3e);return!(-0x1453+-0xad3+0x1f26);}get['baseLayer'](){return this['_layers']['length']>0x1*0x1c+0x19e5+-0x1a01?this['_layers'][0x25c4+-0xe4f+-0x1775*0x1]:null;}['_onStateGr'+'aphAssetCh'+'angeEvent'](_0x136728){const _0x309b35=this['animationA'+'ssets'],_0x320de4=this['layers']['map'](_0x2adb21=>_0x2adb21['mask']);this['removeStat'+'eGraph'](),this['_stateGrap'+'h']=new Jc(_0x136728['_data']),this['loadStateG'+'raph'](this['_stateGrap'+'h']),this['animationA'+'ssets']=_0x309b35,this['loadAnimat'+'ionAssets'](),this['layers']['forEach']((_0x4144d9,_0x4be73e)=>{_0x4144d9['mask']=_0x320de4[_0x4be73e];}),this['rebind']();}['dirtifyTar'+'gets'](){const _0x173e48=Object['values'](this['_targets']);for(let _0x472cac=-0xc*-0x71+-0x164f*0x1+0xd*0x14f;_0x472cac<_0x173e48['length'];_0x472cac++)_0x173e48[_0x472cac]['dirty']=!(0x169c*-0x1+0x3*-0x819+0x2ee7);}['_addLayer']({name:_0x3eb7bd,states:_0x29fb5d,transitions:_0x2d57b8,weight:_0x177ec9,mask:_0x215e9b,blendType:_0x4cfcf3}){let _0x32a7e8;this['rootBone']?_0x32a7e8=this['rootBone']:_0x32a7e8=this['entity'];const _0x24afed=this['_layers']['length'],_0x16d153=new Fi(this,_0x32a7e8,_0x3eb7bd,_0x215e9b,_0x24afed),_0x3be8f7=new Gv(_0x16d153),_0x24379d=new NL(_0x3be8f7,_0x29fb5d,_0x2d57b8,this['_activate'],this,this['findParame'+'ter'],this['consumeTri'+'gger']);return this['_layers']['push'](new kL(_0x3eb7bd,_0x24379d,this,_0x177ec9,_0x4cfcf3)),this['_layerIndi'+'ces'][_0x3eb7bd]=_0x24afed,this['_layers'][_0x24afed];}['addLayer'](_0xa09636,_0x1db686,_0x15cd92,_0x16a320){const _0x1c3a95=this['findAnimat'+'ionLayer'](_0xa09636);if(_0x1c3a95)return _0x1c3a95;const _0x372aeb=[{'name':'START','speed':0x1}],_0x5563fd=[];return this['_addLayer']({'name':_0xa09636,'states':_0x372aeb,'transitions':_0x5563fd,'weight':_0x1db686,'mask':_0x15cd92,'blendType':_0x16a320});}['_assignPar'+'ameters'](_0x200937){this['_parameter'+'s']={};const _0x5ab3be=Object['keys'](_0x200937['parameters']);for(let _0x53b0e4=-0x93d+-0x2611+-0xa*-0x4bb;_0x53b0e4<_0x5ab3be['length'];_0x53b0e4++){const _0x3c7a9d=_0x5ab3be[_0x53b0e4];this['_parameter'+'s'][_0x3c7a9d]={'type':_0x200937['parameters'][_0x3c7a9d]['type'],'value':_0x200937['parameters'][_0x3c7a9d]['value']};}}['loadStateG'+'raph'](_0x3c6b72){this['_stateGrap'+'h']=_0x3c6b72,this['_assignPar'+'ameters'](_0x3c6b72),this['_layers']=[];let _0x477760=!(-0x5f*-0xa+0x3*0xb96+0xe5*-0x2b);for(let _0x5335c3=-0xc1*-0x31+-0x172+-0x3*0xbd5;_0x5335c3<_0x3c6b72['layers']['length'];_0x5335c3++){const _0x432bf4=_0x3c6b72['layers'][_0x5335c3];this['_addLayer']({..._0x432bf4}),_0x432bf4['states']['some'](_0x1f0f45=>_0x1f0f45['blendTree'])&&(_0x477760=!(-0x10cd+0x9df+0x377*0x2));}_0x477760||this['setupAnima'+'tionAssets']();}['setupAnima'+'tionAssets'](){for(let _0x3c5cdb=0x83c+-0x9ca+0x18e;_0x3c5cdb<this['_layers']['length'];_0x3c5cdb++){const _0x27a7f4=this['_layers'][_0x3c5cdb],_0x2811c3=_0x27a7f4['name'];for(let _0x439f04=-0x17*0x184+0xfc7*0x2+0x34e;_0x439f04<_0x27a7f4['states']['length'];_0x439f04++){const _0x15afb2=_0x27a7f4['states'][_0x439f04];if(Ih['indexOf'](_0x15afb2)===-(-0x38*0xa9+0x138d+0x1be*0xa)){const _0xca9197=_0x2811c3+':'+_0x15afb2;this['_animation'+'Assets'][_0xca9197]||(this['_animation'+'Assets'][_0xca9197]={'asset':null});}}}this['loadAnimat'+'ionAssets']();}['loadAnimat'+'ionAssets'](){for(let _0x5d0557=-0x12e*0x19+0x1b*0x71+0x1193;_0x5d0557<this['_layers']['length'];_0x5d0557++){const _0x1321c3=this['_layers'][_0x5d0557];for(let _0x3767ed=-0x215*-0xc+-0x23e2+0x3*0x3a2;_0x3767ed<_0x1321c3['states']['length'];_0x3767ed++){const _0x3ab5fc=_0x1321c3['states'][_0x3767ed];if(Ih['indexOf'](_0x3ab5fc)!==-(-0xc58+0x207a+-0x1*0x1421))continue;const _0x368f5a=this['_animation'+'Assets'][_0x1321c3['name']+':'+_0x3ab5fc];if(!_0x368f5a||!_0x368f5a['asset']){this['findAnimat'+'ionLayer'](_0x1321c3['name'])['assignAnim'+'ation'](_0x3ab5fc,Qi['EMPTY']);continue;}const _0x367c73=_0x368f5a['asset'],_0x3a2ae3=this['system']['app']['assets']['get'](_0x367c73);_0x3a2ae3&&(_0x3a2ae3['resource']?this['onAnimatio'+'nAssetLoad'+'ed'](_0x1321c3['name'],_0x3ab5fc,_0x3a2ae3):(_0x3a2ae3['once']('load',function(_0x2c2f8f,_0x5431d6){return function(_0x19f8d1){this['onAnimatio'+'nAssetLoad'+'ed'](_0x2c2f8f,_0x5431d6,_0x19f8d1);}['bind'](this);}['bind'](this)(_0x1321c3['name'],_0x3ab5fc)),this['system']['app']['assets']['load'](_0x3a2ae3)));}}}['onAnimatio'+'nAssetLoad'+'ed'](_0x17960b,_0x1ea043,_0x1f065a){this['findAnimat'+'ionLayer'](_0x17960b)['assignAnim'+'ation'](_0x1ea043,_0x1f065a['resource']);}['removeStat'+'eGraph'](){this['_stateGrap'+'h']=null,this['_stateGrap'+'hAsset']=null,this['_animation'+'Assets']={},this['_layers']=[],this['_layerIndi'+'ces']={},this['_parameter'+'s']={},this['_playing']=!(-0x2394+-0x1b2f+0x3ec4),this['unbind'](),this['_targets']={};}['reset'](){this['_assignPar'+'ameters'](this['_stateGrap'+'h']);for(let _0xfaa771=0x2*0x47d+-0x1*0x9bf+0x1*0xc5;_0xfaa771<this['_layers']['length'];_0xfaa771++){const _0x44a869=this['_layers'][_0xfaa771]['playing'];this['_layers'][_0xfaa771]['reset'](),this['_layers'][_0xfaa771]['playing']=_0x44a869;}}['unbind'](){this['_normalize'+'Weights']||Object['keys'](this['_targets'])['forEach'](_0x4bcc21=>{this['_targets'][_0x4bcc21]['unbind']();});}['rebind'](){this['_targets']={};for(let _0x3182e9=-0x188+0x277+0x1*-0xef;_0x3182e9<this['_layers']['length'];_0x3182e9++)this['_layers'][_0x3182e9]['rebind']();}['findAnimat'+'ionLayer'](_0x442eb8){const _0x51c055=this['_layerIndi'+'ces'][_0x442eb8];return this['_layers'][_0x51c055]||null;}['addAnimati'+'onState'](_0x2d004a,_0x1fba18,_0x44334d=0x4*-0x21d+0x25bb+-0x1d46,_0x293d6f=!(-0x1930+-0x116a+0x2a9a),_0x4ed60c='Base'){var _0x2d9aad;this['_stateGrap'+'h']||this['loadStateG'+'raph'](new Jc({'layers':[{'name':_0x4ed60c,'states':[{'name':'START','speed':0x1},{'name':_0x2d004a,'speed':_0x44334d,'loop':_0x293d6f,'defaultState':!(-0x3*0x664+0x207*0x6+-0x3*-0x256)}],'transitions':[{'from':'START','to':_0x2d004a}]}],'parameters':{}}));const _0xce04fe=this['findAnimat'+'ionLayer'](_0x4ed60c);_0xce04fe?_0xce04fe['assignAnim'+'ation'](_0x2d004a,_0x1fba18,_0x44334d,_0x293d6f):(_0x2d9aad=this['addLayer'](_0x4ed60c))==null||_0x2d9aad['assignAnim'+'ation'](_0x2d004a,_0x1fba18,_0x44334d,_0x293d6f);}['assignAnim'+'ation'](_0x497cdd,_0x37100d,_0x37c03c,_0x4b68f6=0x1*0x93b+0x3*0xb1e+-0x1b4*0x19,_0x1dff3b=!(0x238+0x1a14+-0x1c4c*0x1)){if(!this['_stateGrap'+'h']&&_0x497cdd['indexOf']('.')===-(0x1*0x21af+-0x3*0xaad+-0x1a7)){this['loadStateG'+'raph'](new Jc({'layers':[{'name':'Base','states':[{'name':'START','speed':0x1},{'name':_0x497cdd,'speed':_0x4b68f6,'loop':_0x1dff3b,'defaultState':!(-0x1*0x20f2+0x1787+0x96b)}],'transitions':[{'from':'START','to':_0x497cdd}]}],'parameters':{}})),this['baseLayer']['assignAnim'+'ation'](_0x497cdd,_0x37100d);return;}const _0x5b45e0=_0x37c03c?this['findAnimat'+'ionLayer'](_0x37c03c):this['baseLayer'];if(!_0x5b45e0){w['error']('assignAnim'+'ation:\x20Try'+'ing\x20to\x20ass'+'ign\x20an\x20ani'+'m\x20track\x20to'+'\x20a\x20layer\x20t'+'hat\x20doesn\x27'+'t\x20exist');return;}_0x5b45e0['assignAnim'+'ation'](_0x497cdd,_0x37100d,_0x4b68f6,_0x1dff3b);}['removeNode'+'Animations'](_0x4f755f,_0x129bbd){const _0x48dc83=_0x129bbd?this['findAnimat'+'ionLayer'](_0x129bbd):this['baseLayer'];if(!_0x48dc83){w['error']('removeStat'+'eAnimation'+'s:\x20Trying\x20'+'to\x20remove\x20'+'animation\x20'+'tracks\x20fro'+'m\x20a\x20state\x20'+'before\x20the'+'\x20state\x20gra'+'ph\x20has\x20bee'+'n\x20loaded.\x20'+'Have\x20you\x20c'+'alled\x20load'+'StateGraph'+'?');return;}_0x48dc83['removeNode'+'Animations'](_0x4f755f);}['getParamet'+'erValue'](_0x9f60f,_0x1f97d7){const _0x3015bf=this['_parameter'+'s'][_0x9f60f];if(_0x3015bf&&_0x3015bf['type']===_0x1f97d7)return _0x3015bf['value'];w['log']('Cannot\x20get'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x9f60f+('\x22\x20of\x20type\x20'+'\x22')+_0x1f97d7+'\x22');}['setParamet'+'erValue'](_0x5c5376,_0x572e4e,_0x537ee2){const _0x5c6017=this['_parameter'+'s'][_0x5c5376];if(_0x5c6017&&_0x5c6017['type']===_0x572e4e){_0x5c6017['value']=_0x537ee2;return;}w['log']('Cannot\x20set'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x5c5376+('\x22\x20of\x20type\x20'+'\x22')+_0x572e4e+'\x22');}['getFloat'](_0x2bd4fa){return this['getParamet'+'erValue'](_0x2bd4fa,Rg);}['setFloat'](_0x1b4a6a,_0x328be2){this['setParamet'+'erValue'](_0x1b4a6a,Rg,_0x328be2);}['getInteger'](_0x166a4d){return this['getParamet'+'erValue'](_0x166a4d,Lg);}['setInteger'](_0x5a51b6,_0x421e51){typeof _0x421e51=='number'&&_0x421e51%(-0x1b1*-0xd+0x1635+-0x2c31)===-0x29f*0xd+0x6b0+0x3*0x921?this['setParamet'+'erValue'](_0x5a51b6,Lg,_0x421e51):w['error']('Attempting'+'\x20to\x20assign'+'\x20non\x20integ'+'er\x20value\x20t'+'o\x20integer\x20'+'parameter',_0x5a51b6,_0x421e51);}['getBoolean'](_0x1f1dc1){return this['getParamet'+'erValue'](_0x1f1dc1,Og);}['setBoolean'](_0x5b5caf,_0xbd7633){this['setParamet'+'erValue'](_0x5b5caf,Og,!!_0xbd7633);}['getTrigger'](_0x515eb1){return this['getParamet'+'erValue'](_0x515eb1,Qc);}['setTrigger'](_0x12a957,_0x37b82e=!(-0x116c+-0x1196+0x2303)){this['setParamet'+'erValue'](_0x12a957,Qc,!(0x542+-0x10a7+-0xb65*-0x1)),_0x37b82e&&this['_consumedT'+'riggers']['add'](_0x12a957);}['resetTrigg'+'er'](_0x1c505a){this['setParamet'+'erValue'](_0x1c505a,Qc,!(0xf5c*-0x2+-0x158e*0x1+0x3447));}['onBeforeRe'+'move'](){Number['isFinite'](this['_stateGrap'+'hAsset'])&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);}['update'](_0x75eaea){for(let _0x11b6af=0x2b1*0xd+-0x2*0x1327+-0x351*-0x1;_0x11b6af<this['layers']['length'];_0x11b6af++)this['layers'][_0x11b6af]['update'](_0x75eaea*this['speed']);this['_consumedT'+'riggers']['forEach'](_0x8846d2=>{this['parameters'][_0x8846d2]['value']=!(0x353*-0x7+0x2*-0x11db+0x2*0x1d7e);}),this['_consumedT'+'riggers']['clear']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x295819,_0x468788){_0x295819['rootBone']&&_0x468788[_0x295819['rootBone']['getGuid']()]?this['rootBone']=_0x468788[_0x295819['rootBone']['getGuid']()]:this['rebind']();}}class UL{constructor(){this['enabled']=!(0x1416+-0xe2*0x2b+0x11e0);}}const bu=['enabled'];class BL extends ct{constructor(_0x4dc996){super(_0x4dc996),this['id']='anim',this['ComponentT'+'ype']=$v,this['DataType']=UL,this['schema']=bu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x48df1a,_0x54b544,_0xcaacdf){super['initialize'+'ComponentD'+'ata'](_0x48df1a,_0x54b544,bu);const _0x4db9c6=['animationA'+'ssets','stateGraph','layers','masks'];Object['keys'](_0x54b544)['forEach'](_0x289f66=>{_0x4db9c6['includes'](_0x289f66)||(_0x48df1a[_0x289f66]=_0x54b544[_0x289f66]);}),_0x54b544['stateGraph']&&(_0x48df1a['stateGraph']=_0x54b544['stateGraph'],_0x48df1a['loadStateG'+'raph'](_0x48df1a['stateGraph'])),_0x54b544['layers']&&_0x54b544['layers']['forEach']((_0x2ab303,_0x5db2f1)=>{_0x2ab303['_controlle'+'r']['states']['forEach'](_0x470404=>{_0x2ab303['_controlle'+'r']['_states'][_0x470404]['_animation'+'List']['forEach'](_0x2d670f=>{if(!_0x2d670f['animTrack']||_0x2d670f['animTrack']===Qi['EMPTY']){const _0x49acc7=this['app']['assets']['get'](_0x2ab303['_component']['_animation'+'Assets'][_0x2ab303['name']+':'+_0x2d670f['name']]['asset']);_0x49acc7&&!_0x49acc7['loaded']&&_0x49acc7['once']('load',()=>{_0x48df1a['layers'][_0x5db2f1]['assignAnim'+'ation'](_0x2d670f['name'],_0x49acc7['resource']);});}else _0x48df1a['layers'][_0x5db2f1]['assignAnim'+'ation'](_0x2d670f['name'],_0x2d670f['animTrack']);});});}),_0x54b544['animationA'+'ssets']&&(_0x48df1a['animationA'+'ssets']=Object['assign'](_0x48df1a['animationA'+'ssets'],_0x54b544['animationA'+'ssets'])),_0x54b544['masks']&&Object['keys'](_0x54b544['masks'])['forEach'](_0x1f5f92=>{if(_0x48df1a['layers'][_0x1f5f92]){const _0x3599ba=_0x54b544['masks'][_0x1f5f92]['mask'],_0x39857d={};Object['keys'](_0x3599ba)['forEach'](_0x33faa5=>{_0x39857d[decodeURI(_0x33faa5)]=_0x3599ba[_0x33faa5];}),_0x48df1a['layers'][_0x1f5f92]['mask']=_0x39857d;}});}['onAnimatio'+'nUpdate'](_0x1e430c){const _0x3b3a00=this['store'];for(const _0x1fb13b in _0x3b3a00)if(_0x3b3a00['hasOwnProp'+'erty'](_0x1fb13b)){const _0x37c01a=_0x3b3a00[_0x1fb13b]['entity']['anim'];_0x37c01a['data']['enabled']&&_0x37c01a['entity']['enabled']&&_0x37c01a['playing']&&_0x37c01a['update'](_0x1e430c);}}['cloneCompo'+'nent'](_0x1128f5,_0x3b35f8){let _0x1d6f11;(!_0x1128f5['anim']['rootBone']||_0x1128f5['anim']['rootBone']===_0x1128f5)&&(_0x1d6f11={},_0x1128f5['anim']['layers']['forEach']((_0x16beb5,_0x126c62)=>{if(_0x16beb5['mask']){const _0x40c8fe={};Object['keys'](_0x16beb5['mask'])['forEach'](_0x4268a7=>{const _0x1419d6=_0x4268a7['split']('/');_0x1419d6['shift']();const _0x11c8fb=[_0x3b35f8['name'],..._0x1419d6]['join']('/');_0x40c8fe[_0x11c8fb]=_0x16beb5['mask'][_0x4268a7];}),_0x1d6f11[_0x126c62]={'mask':_0x40c8fe};}}));const _0x2eac4c={'enabled':_0x1128f5['anim']['enabled'],'stateGraphAsset':_0x1128f5['anim']['stateGraph'+'Asset'],'animationAssets':_0x1128f5['anim']['animationA'+'ssets'],'speed':_0x1128f5['anim']['speed'],'activate':_0x1128f5['anim']['activate'],'playing':_0x1128f5['anim']['playing'],'rootBone':_0x1128f5['anim']['rootBone'],'stateGraph':_0x1128f5['anim']['stateGraph'],'layers':_0x1128f5['anim']['layers'],'layerIndices':_0x1128f5['anim']['layerIndic'+'es'],'parameters':_0x1128f5['anim']['parameters'],'normalizeWeights':_0x1128f5['anim']['normalizeW'+'eights'],'masks':_0x1d6f11};return this['addCompone'+'nt'](_0x3b35f8,_0x2eac4c);}['onBeforeRe'+'move'](_0x4b8943,_0x46acc5){_0x46acc5['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}}we['_buildAcce'+'ssors']($v['prototype'],bu);class Xv extends we{['setCurrent'+'Listener'](){if(this['enabled']&&this['entity']['audioliste'+'ner']&&this['entity']['enabled']){this['system']['current']=this['entity'];const _0xa0c6a2=this['system']['current']['getPositio'+'n']();this['system']['manager']['listener']['setPositio'+'n'](_0xa0c6a2);}}['onEnable'](){this['setCurrent'+'Listener']();}['onDisable'](){this['system']['current']===this['entity']&&(this['system']['current']=null);}}class zL{constructor(){this['enabled']=!(0x173*-0x9+-0x3ad*-0x1+0xda*0xb);}}const qv=['enabled'];class VL extends ct{constructor(_0x31701c){super(_0x31701c),this['id']='audioliste'+'ner',this['ComponentT'+'ype']=Xv,this['DataType']=zL,this['schema']=qv,this['manager']=_0x31701c['soundManag'+'er'],w['assert'](this['manager'],'AudioListe'+'nerCompone'+'ntSystem\x20c'+'annot\x20be\x20c'+'reated\x20wit'+'hout\x20sound'+'\x20manager'),this['current']=null,this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x49afc8,_0x14e702,_0x4dd87f){_0x4dd87f=['enabled'],super['initialize'+'ComponentD'+'ata'](_0x49afc8,_0x14e702,_0x4dd87f);}['onUpdate'](_0x1354dd){if(this['current']){const _0xbb0953=this['current']['getPositio'+'n']();this['manager']['listener']['setPositio'+'n'](_0xbb0953);const _0x3bc636=this['current']['getWorldTr'+'ansform']();this['manager']['listener']['setOrienta'+'tion'](_0x3bc636);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Xv['prototype'],qv);const Au=0x254*-0xc+-0x12*-0x104+0x9a8,Ng=0x10c2+0x157+-0x304*0x6,eh='group',Cu='image',jv='text',th='stretch',GL='contain',HL='cover',ft={'DEFAULT':'DEFAULT','HOVER':'HOVER','PRESSED':'PRESSED','INACTIVE':'INACTIVE'},kl={};kl[ft['DEFAULT']]='_defaultTi'+'nt',kl[ft['HOVER']]='hoverTint',kl[ft['PRESSED']]='pressedTin'+'t',kl[ft['INACTIVE']]='inactiveTi'+'nt';const Ul={};Ul[ft['DEFAULT']]='_defaultSp'+'riteAsset',Ul[ft['HOVER']]='hoverSprit'+'eAsset',Ul[ft['PRESSED']]='pressedSpr'+'iteAsset',Ul[ft['INACTIVE']]='inactiveSp'+'riteAsset';const Bl={};Bl[ft['DEFAULT']]='_defaultSp'+'riteFrame',Bl[ft['HOVER']]='hoverSprit'+'eFrame',Bl[ft['PRESSED']]='pressedSpr'+'iteFrame',Bl[ft['INACTIVE']]='inactiveSp'+'riteFrame';class It extends we{constructor(_0x53a784,_0x181f21){super(_0x53a784,_0x181f21),h(this,'_visualSta'+'te',ft['DEFAULT']),h(this,'_isHoverin'+'g',!(-0x1345*-0x1+-0x13be+0x7a)),h(this,'_hoveringC'+'ounter',0x2*0xa91+0x6df+0x43*-0x6b),h(this,'_isPressed',!(-0x197c+0x1*-0x80b+-0x4a*-0x74)),h(this,'_defaultTi'+'nt',new ie(0x1a13*-0x1+0xda+-0x193a*-0x1,-0x17b2+-0x260e*0x1+0x3dc1,-0x21b2+-0xd*-0x28d+0x2*0x45,0x1bd9*0x1+0x853+0x1*-0x242b)),h(this,'_defaultSp'+'riteAsset',null),h(this,'_defaultSp'+'riteFrame',0x1909+0xe0a*-0x2+0x30b),h(this,'_imageEnti'+'ty',null),h(this,'_evtElemen'+'tAdd',null),h(this,'_evtImageE'+'ntityEleme'+'ntAdd',null),h(this,'_evtImageE'+'ntityEleme'+'ntRemove',null),h(this,'_evtImageE'+'ntityEleme'+'ntColor',null),h(this,'_evtImageE'+'ntityEleme'+'ntOpacity',null),h(this,'_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set',null),h(this,'_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame',null),(this['_visualSta'+'te']=ft['DEFAULT'],this['_isHoverin'+'g']=!(-0x1dfa+0x1*0x1ba9+-0x252*-0x1),this['_hoveringC'+'ounter']=0xa75+-0x4c2+-0x5b3,this['_isPressed']=!(-0xfad+0x95*0x11+0x5c9),this['_defaultTi'+'nt']=new ie(-0x252a*0x1+-0x44d*0x3+-0x3a*-0xdd,0x1d85+0x2*0xdd3+-0x392a,-0x2347+0x3*-0x1eb+0x2909,-0x28d*-0x1+0xcc4+-0xf50),this['_defaultSp'+'riteAsset']=null,this['_defaultSp'+'riteFrame']=-0x1751*-0x1+0x2426+-0x3b77,this['_toggleLif'+'ecycleList'+'eners']('on',_0x53a784));}get['data'](){const _0xcc797c=this['system']['store'][this['entity']['getGuid']()];return _0xcc797c?_0xcc797c['data']:null;}set['enabled'](_0x28cefd){this['_setValue']('enabled',_0x28cefd);}get['enabled'](){return this['data']['enabled'];}set['active'](_0x1c6b8f){this['_setValue']('active',_0x1c6b8f);}get['active'](){return this['data']['active'];}set['imageEntit'+'y'](_0x19a215){if(this['_imageEnti'+'ty']!==_0x19a215){const _0x2e2117=typeof _0x19a215=='string';if(this['_imageEnti'+'ty']&&_0x2e2117&&this['_imageEnti'+'ty']['getGuid']()===_0x19a215)return;this['_imageEnti'+'ty']&&this['_imageEnti'+'tyUnsubscr'+'ibe'](),_0x19a215 instanceof Ie?this['_imageEnti'+'ty']=_0x19a215:_0x2e2117?this['_imageEnti'+'ty']=this['system']['app']['getEntityF'+'romIndex'](_0x19a215)||null:this['_imageEnti'+'ty']=null,this['_imageEnti'+'ty']&&this['_imageEnti'+'tySubscrib'+'e'](),this['_imageEnti'+'ty']?this['data']['imageEntit'+'y']=this['_imageEnti'+'ty']['getGuid']():_0x2e2117&&_0x19a215&&(this['data']['imageEntit'+'y']=_0x19a215);}}get['imageEntit'+'y'](){return this['_imageEnti'+'ty'];}set['hitPadding'](_0x2eb8e0){this['_setValue']('hitPadding',_0x2eb8e0);}get['hitPadding'](){return this['data']['hitPadding'];}set['transition'+'Mode'](_0x4ca02f){this['_setValue']('transition'+'Mode',_0x4ca02f);}get['transition'+'Mode'](){return this['data']['transition'+'Mode'];}set['hoverTint'](_0x1c16ce){this['_setValue']('hoverTint',_0x1c16ce);}get['hoverTint'](){return this['data']['hoverTint'];}set['pressedTin'+'t'](_0x2fcae8){this['_setValue']('pressedTin'+'t',_0x2fcae8);}get['pressedTin'+'t'](){return this['data']['pressedTin'+'t'];}set['inactiveTi'+'nt'](_0x5034ee){this['_setValue']('inactiveTi'+'nt',_0x5034ee);}get['inactiveTi'+'nt'](){return this['data']['inactiveTi'+'nt'];}set['fadeDurati'+'on'](_0x19cecf){this['_setValue']('fadeDurati'+'on',_0x19cecf);}get['fadeDurati'+'on'](){return this['data']['fadeDurati'+'on'];}set['hoverSprit'+'eAsset'](_0x350d12){this['_setValue']('hoverSprit'+'eAsset',_0x350d12);}get['hoverSprit'+'eAsset'](){return this['data']['hoverSprit'+'eAsset'];}set['hoverSprit'+'eFrame'](_0x31e720){this['_setValue']('hoverSprit'+'eFrame',_0x31e720);}get['hoverSprit'+'eFrame'](){return this['data']['hoverSprit'+'eFrame'];}set['pressedSpr'+'iteAsset'](_0x970b4c){this['_setValue']('pressedSpr'+'iteAsset',_0x970b4c);}get['pressedSpr'+'iteAsset'](){return this['data']['pressedSpr'+'iteAsset'];}set['pressedSpr'+'iteFrame'](_0x209a5a){this['_setValue']('pressedSpr'+'iteFrame',_0x209a5a);}get['pressedSpr'+'iteFrame'](){return this['data']['pressedSpr'+'iteFrame'];}set['inactiveSp'+'riteAsset'](_0x45394a){this['_setValue']('inactiveSp'+'riteAsset',_0x45394a);}get['inactiveSp'+'riteAsset'](){return this['data']['inactiveSp'+'riteAsset'];}set['inactiveSp'+'riteFrame'](_0x351797){this['_setValue']('inactiveSp'+'riteFrame',_0x351797);}get['inactiveSp'+'riteFrame'](){return this['data']['inactiveSp'+'riteFrame'];}['_setValue'](_0x2a03d4,_0x1d4e5c){const _0x586f42=this['data'],_0x2cc891=_0x586f42[_0x2a03d4];_0x586f42[_0x2a03d4]=_0x1d4e5c,this['fire']('set',_0x2a03d4,_0x2cc891,_0x1d4e5c);}['_toggleLif'+'ecycleList'+'eners'](_0x52807e,_0x1b951c){var _0x1070fb;this[_0x52807e]('set_active',this['_onSetActi'+'ve'],this),this[_0x52807e]('set_transi'+'tionMode',this['_onSetTran'+'sitionMode'],this),this[_0x52807e]('set_hoverT'+'int',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x52807e]('set_presse'+'dTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x52807e]('set_inacti'+'veTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x52807e]('set_hoverS'+'priteAsset',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x52807e]('set_hoverS'+'priteFrame',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x52807e]('set_presse'+'dSpriteAss'+'et',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x52807e]('set_presse'+'dSpriteFra'+'me',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x52807e]('set_inacti'+'veSpriteAs'+'set',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x52807e]('set_inacti'+'veSpriteFr'+'ame',this['_onSetTran'+'sitionValu'+'e'],this),_0x52807e==='on'?this['_evtElemen'+'tAdd']=this['entity']['on']('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this):((_0x1070fb=this['_evtElemen'+'tAdd'])==null||_0x1070fb['off'](),this['_evtElemen'+'tAdd']=null);}['_onSetActi'+'ve'](_0x4204fd,_0x3c7928,_0x383c20){_0x3c7928!==_0x383c20&&this['_updateVis'+'ualState']();}['_onSetTran'+'sitionMode'](_0x5c4d10,_0x950652,_0x5bb57a){_0x950652!==_0x5bb57a&&(this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](_0x950652),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetTran'+'sitionValu'+'e'](_0x2eafb9,_0x491e39,_0x110066){_0x491e39!==_0x110066&&this['_forceReap'+'plyVisualS'+'tate']();}['_imageEnti'+'tySubscrib'+'e'](){this['_evtImageE'+'ntityEleme'+'ntAdd']=this['_imageEnti'+'ty']['on']('element:ad'+'d',this['_onImageEl'+'ementGain'],this),this['_imageEnti'+'ty']['element']&&this['_onImageEl'+'ementGain']();}['_imageEnti'+'tyUnsubscr'+'ibe'](){var _0x2e6e40,_0x384261;(_0x2e6e40=this['_evtImageE'+'ntityEleme'+'ntAdd'])==null||_0x2e6e40['off'](),this['_evtImageE'+'ntityEleme'+'ntAdd']=null,(_0x384261=this['_imageEnti'+'ty'])!=null&&_0x384261['element']&&this['_onImageEl'+'ementLose']();}['_imageEnti'+'tyElementS'+'ubscribe'](){const _0x3d3df3=this['_imageEnti'+'ty']['element'];this['_evtImageE'+'ntityEleme'+'ntRemove']=_0x3d3df3['once']('beforeremo'+'ve',this['_onImageEl'+'ementLose'],this),this['_evtImageE'+'ntityEleme'+'ntColor']=_0x3d3df3['on']('set:color',this['_onSetColo'+'r'],this),this['_evtImageE'+'ntityEleme'+'ntOpacity']=_0x3d3df3['on']('set:opacit'+'y',this['_onSetOpac'+'ity'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=_0x3d3df3['on']('set:sprite'+'Asset',this['_onSetSpri'+'teAsset'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=_0x3d3df3['on']('set:sprite'+'Frame',this['_onSetSpri'+'teFrame'],this);}['_imageEnti'+'tyElementU'+'nsubscribe'](){var _0x1a855c,_0x1962c5,_0xd657b7,_0x47aa68,_0x5cf3b9;(_0x1a855c=this['_evtImageE'+'ntityEleme'+'ntRemove'])==null||_0x1a855c['off'](),this['_evtImageE'+'ntityEleme'+'ntRemove']=null,(_0x1962c5=this['_evtImageE'+'ntityEleme'+'ntColor'])==null||_0x1962c5['off'](),this['_evtImageE'+'ntityEleme'+'ntColor']=null,(_0xd657b7=this['_evtImageE'+'ntityEleme'+'ntOpacity'])==null||_0xd657b7['off'](),this['_evtImageE'+'ntityEleme'+'ntOpacity']=null,(_0x47aa68=this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set'])==null||_0x47aa68['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=null,(_0x5cf3b9=this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame'])==null||_0x5cf3b9['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=null;}['_onElement'+'ComponentR'+'emove'](){this['_toggleHit'+'ElementLis'+'teners']('off');}['_onElement'+'ComponentA'+'dd'](){this['_toggleHit'+'ElementLis'+'teners']('on');}['_onImageEl'+'ementLose'](){this['_imageEnti'+'tyElementU'+'nsubscribe'](),this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['_onImageEl'+'ementGain'](){this['_imageEnti'+'tyElementS'+'ubscribe'](),this['_storeDefa'+'ultVisualS'+'tate'](),this['_forceReap'+'plyVisualS'+'tate']();}['_toggleHit'+'ElementLis'+'teners'](_0x1c21cb){if(this['entity']['element']){const _0x204676=_0x1c21cb==='on';if(_0x204676&&this['_hasHitEle'+'mentListen'+'ers'])return;this['entity']['element'][_0x1c21cb]('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['entity']['element'][_0x1c21cb]('mouseenter',this['_onMouseEn'+'ter'],this),this['entity']['element'][_0x1c21cb]('mouseleave',this['_onMouseLe'+'ave'],this),this['entity']['element'][_0x1c21cb]('mousedown',this['_onMouseDo'+'wn'],this),this['entity']['element'][_0x1c21cb]('mouseup',this['_onMouseUp'],this),this['entity']['element'][_0x1c21cb]('touchstart',this['_onTouchSt'+'art'],this),this['entity']['element'][_0x1c21cb]('touchend',this['_onTouchEn'+'d'],this),this['entity']['element'][_0x1c21cb]('touchleave',this['_onTouchLe'+'ave'],this),this['entity']['element'][_0x1c21cb]('touchcance'+'l',this['_onTouchCa'+'ncel'],this),this['entity']['element'][_0x1c21cb]('selectstar'+'t',this['_onSelectS'+'tart'],this),this['entity']['element'][_0x1c21cb]('selectend',this['_onSelectE'+'nd'],this),this['entity']['element'][_0x1c21cb]('selectente'+'r',this['_onSelectE'+'nter'],this),this['entity']['element'][_0x1c21cb]('selectleav'+'e',this['_onSelectL'+'eave'],this),this['entity']['element'][_0x1c21cb]('click',this['_onClick'],this),this['_hasHitEle'+'mentListen'+'ers']=_0x204676;}}['_storeDefa'+'ultVisualS'+'tate'](){var _0x630390;const _0x4e45f=(_0x630390=this['_imageEnti'+'ty'])==null?void(-0x1f0+0xf16+-0x21*0x66):_0x630390['element'];!_0x4e45f||_0x4e45f['type']===eh||(this['_storeDefa'+'ultColor'](_0x4e45f['color']),this['_storeDefa'+'ultOpacity'](_0x4e45f['opacity']),this['_storeDefa'+'ultSpriteA'+'sset'](_0x4e45f['spriteAsse'+'t']),this['_storeDefa'+'ultSpriteF'+'rame'](_0x4e45f['spriteFram'+'e']));}['_storeDefa'+'ultColor'](_0x1f4b6c){this['_defaultTi'+'nt']['r']=_0x1f4b6c['r'],this['_defaultTi'+'nt']['g']=_0x1f4b6c['g'],this['_defaultTi'+'nt']['b']=_0x1f4b6c['b'];}['_storeDefa'+'ultOpacity'](_0x36c526){this['_defaultTi'+'nt']['a']=_0x36c526;}['_storeDefa'+'ultSpriteA'+'sset'](_0x444da3){this['_defaultSp'+'riteAsset']=_0x444da3;}['_storeDefa'+'ultSpriteF'+'rame'](_0x461cde){this['_defaultSp'+'riteFrame']=_0x461cde;}['_onSetColo'+'r'](_0x2c4f19){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultColor'](_0x2c4f19),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetOpac'+'ity'](_0x5713d4){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultOpacity'](_0x5713d4),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teAsset'](_0x330b6d){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteA'+'sset'](_0x330b6d),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teFrame'](_0x33bd21){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteF'+'rame'](_0x33bd21),this['_forceReap'+'plyVisualS'+'tate']());}['_onMouseEn'+'ter'](_0x3f9c39){this['_isHoverin'+'g']=!(-0x1836+0x187*0x1+-0x16af*-0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseenter',_0x3f9c39);}['_onMouseLe'+'ave'](_0x482c5b){this['_isHoverin'+'g']=!(0x35*-0x22+-0x18c+0x1*0x897),this['_isPressed']=!(-0x86e+0x1*0x2a3+0x2e6*0x2),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseleave',_0x482c5b);}['_onMouseDo'+'wn'](_0x1af5ab){this['_isPressed']=!(-0x7bc+0x18e6+0x1*-0x112a),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mousedown',_0x1af5ab);}['_onMouseUp'](_0x33cd6b){this['_isPressed']=!(0x2db+0x83e+-0xb18),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseup',_0x33cd6b);}['_onTouchSt'+'art'](_0x5ecb9b){this['_isPressed']=!(0x249a+0x2*0xf3f+0x1*-0x4318),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchstart',_0x5ecb9b);}['_onTouchEn'+'d'](_0xd7a48){_0xd7a48['event']['preventDef'+'ault'](),this['_isPressed']=!(0x1fe2+0x1*-0x119b+-0xe46*0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchend',_0xd7a48);}['_onTouchLe'+'ave'](_0x226a0c){this['_isPressed']=!(-0x821+0x5*0x769+-0x1ceb),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchleave',_0x226a0c);}['_onTouchCa'+'ncel'](_0x357a11){this['_isPressed']=!(-0x53*-0x33+0x1656+0xa*-0x3e3),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchcance'+'l',_0x357a11);}['_onSelectS'+'tart'](_0x5e72e6){this['_isPressed']=!(0x9dc+0x2*-0xcf5+0x100e),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectstar'+'t',_0x5e72e6);}['_onSelectE'+'nd'](_0x1514cf){this['_isPressed']=!(0x11db*-0x1+-0x5a7+0x1*0x1783),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectend',_0x1514cf);}['_onSelectE'+'nter'](_0x2d15ae){this['_hoveringC'+'ounter']++,this['_hoveringC'+'ounter']===-0x7e*0x45+0x167+0x2090&&(this['_isHoverin'+'g']=!(-0xe5+-0x3c1*0x1+0xe*0x55),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectente'+'r',_0x2d15ae);}['_onSelectL'+'eave'](_0x34d171){this['_hoveringC'+'ounter']--,this['_hoveringC'+'ounter']===-0x3*-0x787+0xdc4+-0x5*0x745&&(this['_isHoverin'+'g']=!(-0xd53+0x13b9+-0x665),this['_isPressed']=!(0x12b*-0x8+-0x1827+0x430*0x8),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectleav'+'e',_0x34d171);}['_onClick'](_0x2ee69c){this['_fireIfAct'+'ive']('click',_0x2ee69c);}['_fireIfAct'+'ive'](_0x1e24a9,_0x1de990){this['data']['active']&&this['fire'](_0x1e24a9,_0x1de990);}['_updateVis'+'ualState'](_0x2d0c7f){const _0x28c284=this['_visualSta'+'te'],_0x385e8d=this['_determine'+'VisualStat'+'e']();if((_0x28c284!==_0x385e8d||_0x2d0c7f)&&this['enabled'])switch(this['_visualSta'+'te']=_0x385e8d,_0x28c284===ft['HOVER']&&this['_fireIfAct'+'ive']('hoverend'),_0x28c284===ft['PRESSED']&&this['_fireIfAct'+'ive']('pressedend'),_0x385e8d===ft['HOVER']&&this['_fireIfAct'+'ive']('hoverstart'),_0x385e8d===ft['PRESSED']&&this['_fireIfAct'+'ive']('pressedsta'+'rt'),this['transition'+'Mode']){case Au:{const _0x186f23=kl[this['_visualSta'+'te']],_0x31d341=this[_0x186f23];this['_applyTint'](_0x31d341);break;}case Ng:{const _0x222a55=Ul[this['_visualSta'+'te']],_0x54158d=Bl[this['_visualSta'+'te']],_0x350436=this[_0x222a55],_0x53776a=this[_0x54158d];this['_applySpri'+'te'](_0x350436,_0x53776a);break;}}}['_forceReap'+'plyVisualS'+'tate'](){this['_updateVis'+'ualState'](!(0xc4+0xc45+-0xd09));}['_resetToDe'+'faultVisua'+'lState'](_0x128cc5){var _0x1a8c95;if((_0x1a8c95=this['_imageEnti'+'ty'])!=null&&_0x1a8c95['element'])switch(_0x128cc5){case Au:this['_cancelTwe'+'en'](),this['_applyTint'+'Immediatel'+'y'](this['_defaultTi'+'nt']);break;case Ng:this['_applySpri'+'te'](this['_defaultSp'+'riteAsset'],this['_defaultSp'+'riteFrame']);break;}}['_determine'+'VisualStat'+'e'](){if(this['active']){if(this['_isPressed'])return ft['PRESSED'];if(this['_isHoverin'+'g'])return ft['HOVER'];}else return ft['INACTIVE'];return ft['DEFAULT'];}['_applySpri'+'te'](_0x4526c8,_0x987079){var _0xa96263;const _0x50d7fd=(_0xa96263=this['_imageEnti'+'ty'])==null?void(0x2664+-0x51b*0x1+-0x2149):_0xa96263['element'];_0x50d7fd&&(_0x987079=_0x987079||0x216f+0x1eb1*0x1+-0x48*0xe4,this['_isApplyin'+'gSprite']=!(0x7*0x8c+-0x12d*-0x1c+0x188*-0x18),_0x50d7fd['spriteAsse'+'t']!==_0x4526c8&&(_0x50d7fd['spriteAsse'+'t']=_0x4526c8),_0x50d7fd['spriteFram'+'e']!==_0x987079&&(_0x50d7fd['spriteFram'+'e']=_0x987079),this['_isApplyin'+'gSprite']=!(0x1*-0x76d+-0x8*-0x2aa+-0xde2));}['_applyTint'](_0xa5c076){this['_cancelTwe'+'en'](),this['fadeDurati'+'on']===-0x1b11+0xf7a+0xb97?this['_applyTint'+'Immediatel'+'y'](_0xa5c076):this['_applyTint'+'WithTween'](_0xa5c076);}['_applyTint'+'Immediatel'+'y'](_0x13a35f){var _0x11a714;const _0x45c6de=(_0x11a714=this['_imageEnti'+'ty'])==null?void(0x27*-0x99+0x15d6+0x179*0x1):_0x11a714['element'];if(!_0x13a35f||!_0x45c6de||_0x45c6de['type']===eh)return;const _0x51ffad=kg(_0x13a35f);this['_isApplyin'+'gTint']=!(-0x8b+0xf8*0xb+-0xa1d),_0x51ffad['equals'](_0x45c6de['color'])||(_0x45c6de['color']=_0x51ffad),_0x45c6de['opacity']!==_0x13a35f['a']&&(_0x45c6de['opacity']=_0x13a35f['a']),this['_isApplyin'+'gTint']=!(-0x2*0x11e1+-0x2*0x1088+0x15*0x347);}['_applyTint'+'WithTween'](_0x297486){var _0x53ab1d;const _0x5f2b78=(_0x53ab1d=this['_imageEnti'+'ty'])==null?void(0x1fdc+-0x25*0x95+-0xa53):_0x53ab1d['element'];if(!_0x297486||!_0x5f2b78||_0x5f2b78['type']===eh)return;const _0x42ea76=kg(_0x297486),_0x48b270=_0x5f2b78['color'],_0x57dafb=_0x5f2b78['opacity'];_0x42ea76['equals'](_0x48b270)&&_0x297486['a']===_0x57dafb||(this['_tweenInfo']={'startTime':de(),'from':new ie(_0x48b270['r'],_0x48b270['g'],_0x48b270['b'],_0x57dafb),'to':_0x297486['clone'](),'lerpColor':new ie()});}['_updateTin'+'tTween'](){const _0x46e65b=de()-this['_tweenInfo']['startTime'];let _0x13c3d4=this['fadeDurati'+'on']===-0x1767*0x1+-0x447*0x4+0x2883?-0x24*-0xb+0x2367+0x1279*-0x2:_0x46e65b/this['fadeDurati'+'on'];if(_0x13c3d4=Y['clamp'](_0x13c3d4,-0x2e*-0x3f+-0x214f*0x1+0xd*0x1b1,-0x922+-0x524+0xe47),Math['abs'](_0x13c3d4-(0xd76*-0x1+-0x4f3*-0x3+-0x162))>0xf3b+0x9*0x31d+-0x2b40+0.00001){const _0x418ce3=this['_tweenInfo']['lerpColor'];_0x418ce3['lerp'](this['_tweenInfo']['from'],this['_tweenInfo']['to'],_0x13c3d4),this['_applyTint'+'Immediatel'+'y'](new ie(_0x418ce3['r'],_0x418ce3['g'],_0x418ce3['b'],_0x418ce3['a']));}else this['_applyTint'+'Immediatel'+'y'](this['_tweenInfo']['to']),this['_cancelTwe'+'en']();}['_cancelTwe'+'en'](){delete this['_tweenInfo'];}['onUpdate'](){this['_tweenInfo']&&this['_updateTin'+'tTween']();}['onEnable'](){this['_isHoverin'+'g']=!(-0x3e*-0x31+-0x4f*-0x47+-0x21c6),this['_hoveringC'+'ounter']=-0x1849+-0x29*-0xb7+-0x506*0x1,this['_isPressed']=!(-0x5*0x20c+0x50b*-0x4+-0x2d*-0xad),this['_toggleHit'+'ElementLis'+'teners']('on'),this['_forceReap'+'plyVisualS'+'tate']();}['onDisable'](){this['_toggleHit'+'ElementLis'+'teners']('off'),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['onRemove'](){this['_imageEnti'+'tyUnsubscr'+'ibe'](),this['_toggleLif'+'ecycleList'+'eners']('off',this['system']),this['onDisable']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x531719,_0x1aac3a){_0x531719['imageEntit'+'y']&&(this['imageEntit'+'y']=_0x1aac3a[_0x531719['imageEntit'+'y']['getGuid']()]);}}h(It,'EVENT_MOUS'+'EDOWN','mousedown'),h(It,'EVENT_MOUS'+'EUP','mouseup'),h(It,'EVENT_MOUS'+'EENTER','mouseenter'),h(It,'EVENT_MOUS'+'ELEAVE','mouseleave'),h(It,'EVENT_CLIC'+'K','click'),h(It,'EVENT_TOUC'+'HSTART','touchstart'),h(It,'EVENT_TOUC'+'HEND','touchend'),h(It,'EVENT_TOUC'+'HCANCEL','touchcance'+'l'),h(It,'EVENT_TOUC'+'HLEAVE','touchleave'),h(It,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(It,'EVENT_SELE'+'CTEND','selectend'),h(It,'EVENT_SELE'+'CTENTER','selectente'+'r'),h(It,'EVENT_SELE'+'CTLEAVE','selectleav'+'e'),h(It,'EVENT_HOVE'+'RSTART','hoverstart'),h(It,'EVENT_HOVE'+'REND','hoverend'),h(It,'EVENT_PRES'+'SEDSTART','pressedsta'+'rt'),h(It,'EVENT_PRES'+'SEDEND','pressedend');function kg(_0x283400){return new ie(_0x283400['r'],_0x283400['g'],_0x283400['b']);}class WL{constructor(){this['enabled']=!(0x5*-0x3e1+-0x85*-0x46+0xb*-0x18b),this['active']=!(-0x2*-0xda7+0x2631*-0x1+0xae3),this['imageEntit'+'y']=null,this['hitPadding']=new re(),this['transition'+'Mode']=Au,this['hoverTint']=new ie(0x22c2+-0x1*0x157f+0x1e5*-0x7+0.75,-0x1fa8+-0x39*-0x18+0x1a50+0.75,0x1a20+0x2270+-0x3c90+0.75),this['pressedTin'+'t']=new ie(-0x1d7a+0x17d4+0x2*0x2d3+0.5,-0x1689+0x1f02+0x2d3*-0x3+0.5,0x975*0x2+0x4*0x1d5+-0x1a3e+0.5),this['inactiveTi'+'nt']=new ie(-0x24+0xd3e+0x102*-0xd+0.25,0x5*-0x101+0x16ad+0x2*-0x8d4+0.25,-0x1b62+-0x1*0x4c1+0x2023+0.25),this['fadeDurati'+'on']=0xf*-0x1df+-0x3e*-0x1+-0x11*-0x1a3,this['hoverSprit'+'eAsset']=null,this['hoverSprit'+'eFrame']=0x26*-0x2c+0xe73*0x1+-0x7eb,this['pressedSpr'+'iteAsset']=null,this['pressedSpr'+'iteFrame']=-0x2448+-0x271*-0x1+0x21d7,this['inactiveSp'+'riteAsset']=null,this['inactiveSp'+'riteFrame']=-0xff*0xe+-0x231c+0x310e;}}const Ug=['enabled','active',{'name':'hitPadding','type':'vec4'},'transition'+'Mode',{'name':'hoverTint','type':'rgba'},{'name':'pressedTin'+'t','type':'rgba'},{'name':'inactiveTi'+'nt','type':'rgba'},'fadeDurati'+'on','hoverSprit'+'eAsset','hoverSprit'+'eFrame','pressedSpr'+'iteAsset','pressedSpr'+'iteFrame','inactiveSp'+'riteAsset','inactiveSp'+'riteFrame'];class $L extends ct{constructor(_0x5f049b){super(_0x5f049b),this['id']='button',this['ComponentT'+'ype']=It,this['DataType']=WL,this['schema']=Ug,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x44770e,_0x211ebc,_0x4d6f42){_0x44770e['imageEntit'+'y']=_0x211ebc['imageEntit'+'y'],super['initialize'+'ComponentD'+'ata'](_0x44770e,_0x211ebc,Ug);}['onUpdate'](_0x4556cd){const _0x1f362e=this['store'];for(const _0x1d558b in _0x1f362e){const _0x1c9311=_0x1f362e[_0x1d558b]['entity'],_0xfec0ba=_0x1c9311['button'];_0xfec0ba['enabled']&&_0x1c9311['enabled']&&_0xfec0ba['onUpdate']();}}['_onRemoveC'+'omponent'](_0x3662a1,_0x41e276){_0x41e276['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}const Bg=new D(),zg=new le();class rn extends we{constructor(_0x4a4f92,_0x3c53d9){super(_0x4a4f92,_0x3c53d9),h(this,'_compoundP'+'arent',null),h(this,'_hasOffset',!(-0x1172+-0x1201+0x2374)),(this['entity']['on']('insert',this['_onInsert'],this),this['on']('set_type',this['onSetType'],this),this['on']('set_convex'+'Hull',this['onSetModel'],this),this['on']('set_halfEx'+'tents',this['onSetHalfE'+'xtents'],this),this['on']('set_linear'+'Offset',this['onSetOffse'+'t'],this),this['on']('set_angula'+'rOffset',this['onSetOffse'+'t'],this),this['on']('set_radius',this['onSetRadiu'+'s'],this),this['on']('set_height',this['onSetHeigh'+'t'],this),this['on']('set_axis',this['onSetAxis'],this),this['on']('set_asset',this['onSetAsset'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_model',this['onSetModel'],this),this['on']('set_render',this['onSetRende'+'r'],this));}get['data'](){const _0x2bcac3=this['system']['store'][this['entity']['getGuid']()];return _0x2bcac3?_0x2bcac3['data']:null;}set['enabled'](_0xc6d560){this['_setValue']('enabled',_0xc6d560);}get['enabled'](){return this['data']['enabled'];}set['type'](_0x317292){this['_setValue']('type',_0x317292);}get['type'](){return this['data']['type'];}set['halfExtent'+'s'](_0x474634){this['_setValue']('halfExtent'+'s',_0x474634);}get['halfExtent'+'s'](){return this['data']['halfExtent'+'s'];}set['linearOffs'+'et'](_0x3833d5){this['_setValue']('linearOffs'+'et',_0x3833d5);}get['linearOffs'+'et'](){return this['data']['linearOffs'+'et'];}set['angularOff'+'set'](_0x743883){this['_setValue']('angularOff'+'set',_0x743883);}get['angularOff'+'set'](){return this['data']['angularOff'+'set'];}set['radius'](_0x4baf52){this['_setValue']('radius',_0x4baf52);}get['radius'](){return this['data']['radius'];}set['axis'](_0x5e3e32){this['_setValue']('axis',_0x5e3e32);}get['axis'](){return this['data']['axis'];}set['height'](_0x22d912){this['_setValue']('height',_0x22d912);}get['height'](){return this['data']['height'];}set['asset'](_0x55a085){this['_setValue']('asset',_0x55a085);}get['asset'](){return this['data']['asset'];}set['renderAsse'+'t'](_0x2a55ca){this['_setValue']('renderAsse'+'t',_0x2a55ca);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['convexHull'](_0x114b3d){this['_setValue']('convexHull',_0x114b3d);}get['convexHull'](){return this['data']['convexHull'];}set['shape'](_0x26806d){this['_setValue']('shape',_0x26806d);}get['shape'](){return this['data']['shape'];}set['model'](_0x1eabf8){this['_setValue']('model',_0x1eabf8);}get['model'](){return this['data']['model'];}set['render'](_0x35864e){this['_setValue']('render',_0x35864e);}get['render'](){return this['data']['render'];}set['checkVerte'+'xDuplicate'+'s'](_0x477c45){this['_setValue']('checkVerte'+'xDuplicate'+'s',_0x477c45);}get['checkVerte'+'xDuplicate'+'s'](){return this['data']['checkVerte'+'xDuplicate'+'s'];}['_setValue'](_0x5de437,_0x4970e4){const _0x3e360f=this['data'],_0x5eb485=_0x3e360f[_0x5de437];_0x3e360f[_0x5de437]=_0x4970e4,this['fire']('set',_0x5de437,_0x5eb485,_0x4970e4);}['onSetType'](_0x312ae1,_0x39aee4,_0x57ee7b){_0x39aee4!==_0x57ee7b&&this['system']['changeType'](this,_0x39aee4,_0x57ee7b);}['onSetHalfE'+'xtents'](_0x5c7c99,_0x654ea9,_0x576c72){const _0x433c6d=this['data']['type'];this['data']['initialize'+'d']&&_0x433c6d==='box'&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetOffse'+'t'](_0x537cf7,_0x57fe7a,_0x193c64){this['_hasOffset']=!this['data']['linearOffs'+'et']['equals'](D['ZERO'])||!this['data']['angularOff'+'set']['equals'](le['IDENTITY']),this['data']['initialize'+'d']&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetRadiu'+'s'](_0x4d36dc,_0x46e623,_0x484948){const _0x4b78f3=this['data']['type'];this['data']['initialize'+'d']&&(_0x4b78f3==='sphere'||_0x4b78f3==='capsule'||_0x4b78f3==='cylinder'||_0x4b78f3==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetHeigh'+'t'](_0x290744,_0x497d75,_0x4b4a86){const _0x55a48f=this['data']['type'];this['data']['initialize'+'d']&&(_0x55a48f==='capsule'||_0x55a48f==='cylinder'||_0x55a48f==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAxis'](_0x31c7c5,_0x595bdd,_0x3720fb){const _0x5ac38d=this['data']['type'];this['data']['initialize'+'d']&&(_0x5ac38d==='capsule'||_0x5ac38d==='cylinder'||_0x5ac38d==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAsset'](_0x260d12,_0xedcb50,_0x14ab7d){const _0x178cca=this['system']['app']['assets'];if(_0xedcb50){const _0x18f8cf=_0x178cca['get'](_0xedcb50);_0x18f8cf&&_0x18f8cf['off']('remove',this['onAssetRem'+'oved'],this);}if(_0x14ab7d){_0x14ab7d instanceof pe&&(this['data']['asset']=_0x14ab7d['id']);const _0x196c08=_0x178cca['get'](this['data']['asset']);_0x196c08&&(_0x196c08['off']('remove',this['onAssetRem'+'oved'],this),_0x196c08['on']('remove',this['onAssetRem'+'oved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x14ab7d||(this['data']['model']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetRende'+'rAsset'](_0x5029ca,_0x411a50,_0x19a069){const _0x10994f=this['system']['app']['assets'];if(_0x411a50){const _0x40a92d=_0x10994f['get'](_0x411a50);_0x40a92d&&_0x40a92d['off']('remove',this['onRenderAs'+'setRemoved'],this);}if(_0x19a069){_0x19a069 instanceof pe&&(this['data']['renderAsse'+'t']=_0x19a069['id']);const _0x185f53=_0x10994f['get'](this['data']['renderAsse'+'t']);_0x185f53&&(_0x185f53['off']('remove',this['onRenderAs'+'setRemoved'],this),_0x185f53['on']('remove',this['onRenderAs'+'setRemoved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x19a069||(this['data']['render']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetModel'](_0x460369,_0x46899f,_0x3c2783){this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&this['system']['implementa'+'tions']['mesh']['doRecreate'+'PhysicalSh'+'ape'](this);}['onSetRende'+'r'](_0x574a5d,_0x2b13e3,_0x5182e9){this['onSetModel'](_0x574a5d,_0x2b13e3,_0x5182e9);}['onAssetRem'+'oved'](_0xc82610){_0xc82610['off']('remove',this['onAssetRem'+'oved'],this),this['data']['asset']===_0xc82610['id']&&(this['asset']=null);}['onRenderAs'+'setRemoved'](_0x4f37d9){_0x4f37d9['off']('remove',this['onRenderAs'+'setRemoved'],this),this['data']['renderAsse'+'t']===_0x4f37d9['id']&&(this['renderAsse'+'t']=null);}['getCompoun'+'dChildShap'+'eIndex'](_0x493dc5){const _0x315d47=this['data']['shape'],_0x3387be=_0x315d47['getNumChil'+'dShapes']();for(let _0x33b527=-0x1*0x1cea+-0x7d0+-0x1*-0x24ba;_0x33b527<_0x3387be;_0x33b527++){const _0x350602=_0x315d47['getChildSh'+'ape'](_0x33b527);if(Ammo['getPointer'](_0x350602)===Ammo['getPointer'](_0x493dc5))return _0x33b527;}return null;}['_onInsert'](_0x238e7a){if(!(typeof Ammo>'u')){if(this['_compoundP'+'arent'])this['system']['recreatePh'+'ysicalShap'+'es'](this);else{if(!this['entity']['rigidbody']){let _0x3852ad=this['entity']['parent'];for(;_0x3852ad;){if(_0x3852ad['collision']&&_0x3852ad['collision']['type']==='compound'){_0x3852ad['collision']['shape']['getNumChil'+'dShapes']()===-0x1*-0x169f+-0xc8*-0x8+-0x185*0x13?this['system']['recreatePh'+'ysicalShap'+'es'](_0x3852ad['collision']):this['system']['recreatePh'+'ysicalShap'+'es'](this);break;}_0x3852ad=_0x3852ad['parent'];}}}}}['_updateCom'+'pound'](){const _0x2bc0e9=this['entity'];if(_0x2bc0e9['_dirtyWorl'+'d']){let _0x38d513=_0x2bc0e9['_dirtyLoca'+'l'],_0x56a686=_0x2bc0e9;for(;_0x56a686&&!_0x38d513&&!(_0x56a686['collision']&&_0x56a686['collision']===this['_compoundP'+'arent']);)_0x56a686['_dirtyLoca'+'l']&&(_0x38d513=!(-0x1c8c+0x1c30+0x5c)),_0x56a686=_0x56a686['parent'];if(_0x38d513){_0x2bc0e9['forEach'](this['system']['implementa'+'tions']['compound']['_updateEac'+'hDescendan'+'tTransform'],_0x2bc0e9);const _0x13535c=this['_compoundP'+'arent']['entity']['rigidbody'];_0x13535c&&_0x13535c['activate']();}}}['getShapePo'+'sition'](){const _0xab04d3=this['entity']['getPositio'+'n']();if(this['_hasOffset']){const _0x3bf416=this['entity']['getRotatio'+'n'](),_0x20990c=this['data']['linearOffs'+'et'];return zg['copy'](_0x3bf416)['transformV'+'ector'](_0x20990c,Bg),Bg['add'](_0xab04d3);}return _0xab04d3;}['getShapeRo'+'tation'](){const _0xcda809=this['entity']['getRotatio'+'n']();return this['_hasOffset']?zg['copy'](_0xcda809)['mul'](this['data']['angularOff'+'set']):_0xcda809;}['onEnable'](){if(this['data']['type']==='mesh'&&(this['data']['asset']||this['data']['renderAsse'+'t'])&&this['data']['initialize'+'d']){const _0x4c5e0f=this['system']['app']['assets']['get'](this['data']['asset']||this['data']['renderAsse'+'t']);if(_0x4c5e0f&&(!_0x4c5e0f['resource']||!this['data']['shape'])){this['system']['recreatePh'+'ysicalShap'+'es'](this);return;}}if(this['entity']['rigidbody'])this['entity']['rigidbody']['enabled']&&this['entity']['rigidbody']['enableSimu'+'lation']();else{if(this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']){if(this['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0x9*-0x87+-0xae*0x31+0x3*0xcaf)this['system']['recreatePh'+'ysicalShap'+'es'](this['_compoundP'+'arent']);else{const _0x3809ed=this['system']['_getNodeTr'+'ansform'](this['entity'],this['_compoundP'+'arent']['entity']);this['_compoundP'+'arent']['shape']['addChildSh'+'ape'](_0x3809ed,this['data']['shape']),Ammo['destroy'](_0x3809ed),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']();}}else this['entity']['trigger']&&this['entity']['trigger']['enable']();}}['onDisable'](){this['entity']['rigidbody']?this['entity']['rigidbody']['disableSim'+'ulation']():this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']?this['_compoundP'+'arent']['entity']['_destroyin'+'g']||(this['system']['_removeCom'+'poundChild'](this['_compoundP'+'arent'],this['data']['shape']),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']()):this['entity']['trigger']&&this['entity']['trigger']['disable']();}['onBeforeRe'+'move'](){this['asset']&&(this['asset']=null),this['renderAsse'+'t']&&(this['renderAsse'+'t']=null),this['entity']['off']('insert',this['_onInsert'],this),this['off']();}}h(rn,'EVENT_CONT'+'ACT','contact'),h(rn,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),h(rn,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),h(rn,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),h(rn,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve');class XL{constructor(){this['enabled']=!(0x1666+0x1*-0x857+0x3d*-0x3b),this['type']='box',this['halfExtent'+'s']=new D(-0x303*-0x5+-0x1b6*0x11+0x3f*0x39+0.5,-0x2454+0x1f26+0x1*0x52e+0.5,-0x169d+0x1*0x623+0x2*0x83d+0.5),this['linearOffs'+'et']=new D(),this['angularOff'+'set']=new le(),this['radius']=-0xc18*-0x1+-0x12e*-0x1+-0x1*0xd46+0.5,this['axis']=0x105b+-0x1b*-0x6b+-0x11b*0x19,this['height']=0x1100+-0x78b*-0x2+0x805*-0x4,this['convexHull']=!(-0xaeb+-0x1964+0x1c*0x14c),this['asset']=null,this['renderAsse'+'t']=null,this['checkVerte'+'xDuplicate'+'s']=!(0x1*0x1a36+0x2045+0xb*-0x551),this['shape']=null,this['model']=null,this['render']=null,this['initialize'+'d']=!(0x1582*0x1+0x21ee+0x376f*-0x1);}}const yo='static',ks='dynamic',Ha='kinematic',qL=0x1*0x945+-0x16f7+0xdb4,Po=-0x13dc+-0x175a+-0x3ee*-0xb,Pu=-0x1e8*-0x13+-0x1*0x1a46+-0x9f1,Vg=0x268e+0x628+-0x3*0xee6,Yv=-0x1e4b+0x17*-0x1a5+0x4423,jL=-0xd9+-0x53f+-0xdf*-0x7,Gg=-0x24c5*-0x1+0x1faa+-0x446d,YL=-0x15*-0xa8+-0x259f+0x17db,Hg=-0x249a+0x6c4+0x1de6,Wg=0x1255e+0x746*0x46+0x22283*-0x1,Mu=0x1b4f8+-0x2d7*0x93+0xec7a*0x1;let Us,zr,Wa;class Kv{constructor(_0x5be2f0,_0x261695,_0x313515){this['entity']=_0x261695['entity'],this['component']=_0x261695,this['app']=_0x5be2f0,typeof Ammo<'u'&&!Us&&(Us=new Ammo['btVector3'](),zr=new Ammo['btQuaterni'+'on'](),Wa=new Ammo['btTransfor'+'m']()),this['initialize'](_0x313515);}['initialize'](_0x17aa76){const _0x56587e=this['entity'],_0x26f93c=_0x17aa76['shape'];if(_0x26f93c&&typeof Ammo<'u'){_0x56587e['trigger']&&_0x56587e['trigger']['destroy']();const _0x24c29c=0x702*0x5+0x1fde+-0x42e7*0x1,_0x1cdae8=this['component'];if(_0x1cdae8){const _0x127f64=_0x1cdae8['getShapePo'+'sition'](),_0x1b55f1=_0x1cdae8['getShapeRo'+'tation']();Us['setValue'](_0x127f64['x'],_0x127f64['y'],_0x127f64['z']),zr['setValue'](_0x1b55f1['x'],_0x1b55f1['y'],_0x1b55f1['z'],_0x1b55f1['w']);}else{const _0x4c232d=_0x56587e['getPositio'+'n'](),_0x397c9d=_0x56587e['getRotatio'+'n']();Us['setValue'](_0x4c232d['x'],_0x4c232d['y'],_0x4c232d['z']),zr['setValue'](_0x397c9d['x'],_0x397c9d['y'],_0x397c9d['z'],_0x397c9d['w']);}Wa['setOrigin'](Us),Wa['setRotatio'+'n'](zr);const _0x120227=this['app']['systems']['rigidbody']['createBody'](_0x24c29c,_0x26f93c,Wa);_0x120227['setRestitu'+'tion'](0x26bc+-0x14a0+-0x121c),_0x120227['setFrictio'+'n'](-0x28d+0x102*0x13+0x1099*-0x1),_0x120227['setDamping'](-0x58*-0x41+-0x1bc3+0x56b,0x118f+-0x136f*0x1+0x1e0),Us['setValue'](0x3cc+-0x4*-0x11e+0x17*-0x5c,0xa30+-0x1c01+0x11d1,0x433+-0x3*0xabd+-0x4*-0x701),_0x120227['setLinearF'+'actor'](Us),_0x120227['setAngular'+'Factor'](Us),_0x120227['setCollisi'+'onFlags'](_0x120227['getCollisi'+'onFlags']()|Po),_0x120227['entity']=_0x56587e,this['body']=_0x120227,this['component']['enabled']&&_0x56587e['enabled']&&this['enable']();}}['destroy'](){this['body']&&(this['disable'](),this['app']['systems']['rigidbody']['destroyBod'+'y'](this['body']),this['body']=null);}['_getEntity'+'Transform'](_0xee18a1){const _0x16f91c=this['component'];if(_0x16f91c){const _0x181ce9=_0x16f91c['getShapePo'+'sition'](),_0x4aa066=_0x16f91c['getShapeRo'+'tation']();Us['setValue'](_0x181ce9['x'],_0x181ce9['y'],_0x181ce9['z']),zr['setValue'](_0x4aa066['x'],_0x4aa066['y'],_0x4aa066['z'],_0x4aa066['w']);}else{const _0x4dc811=this['entity']['getPositio'+'n'](),_0x5bafef=this['entity']['getRotatio'+'n']();Us['setValue'](_0x4dc811['x'],_0x4dc811['y'],_0x4dc811['z']),zr['setValue'](_0x5bafef['x'],_0x5bafef['y'],_0x5bafef['z'],_0x5bafef['w']);}_0xee18a1['setOrigin'](Us),_0xee18a1['setRotatio'+'n'](zr);}['updateTran'+'sform'](){this['_getEntity'+'Transform'](Wa);const _0x10ff6e=this['body'];_0x10ff6e['setWorldTr'+'ansform'](Wa),_0x10ff6e['activate']();}['enable'](){const _0x58884b=this['body'];if(!_0x58884b)return;const _0xdcfca9=this['app']['systems']['rigidbody'];_0xdcfca9['_triggers']['indexOf'](this)<-0x8*0x8c+-0x9c7+-0x1*-0xe27&&(_0xdcfca9['addBody'](_0x58884b,Hg,Mu^Hg),_0xdcfca9['_triggers']['push'](this)),_0x58884b['forceActiv'+'ationState'](Pu),this['updateTran'+'sform']();}['disable'](){const _0x4d5856=this['body'];if(!_0x4d5856)return;const _0x12c0bd=this['app']['systems']['rigidbody'],_0x35608c=_0x12c0bd['_triggers']['indexOf'](this);_0x35608c>-(-0x7*0x135+0x250d*0x1+-0x1c99*0x1)&&(_0x12c0bd['removeBody'](_0x4d5856),_0x12c0bd['_triggers']['splice'](_0x35608c,-0x583*-0x1+-0x1cd9*-0x1+0x1*-0x225b)),_0x4d5856['forceActiv'+'ationState'](Yv);}}const wc=new te(),KL=new D(),ZL=new D(),Vr=new le(),$g=new Ie(),QL=['enabled','type','halfExtent'+'s','linearOffs'+'et','angularOff'+'set','radius','axis','height','convexHull','asset','renderAsse'+'t','shape','model','render','checkVerte'+'xDuplicate'+'s'];class Ca{constructor(_0x35633d){this['system']=_0x35633d;}['beforeInit'+'ialize'](_0x14328e,_0x432059){_0x432059['shape']=null,_0x432059['model']=new sr(),_0x432059['model']['graph']=new Ie();}['afterIniti'+'alize'](_0x18f3ce,_0x5a6e1c){this['recreatePh'+'ysicalShap'+'es'](_0x18f3ce),_0x18f3ce['data']['initialize'+'d']=!(0x2*0x667+-0xe25*0x2+0xf7c);}['reset'](_0x305c56,_0x224c58){this['beforeInit'+'ialize'](_0x305c56,_0x224c58),this['afterIniti'+'alize'](_0x305c56,_0x224c58);}['recreatePh'+'ysicalShap'+'es'](_0x49c625){const _0x5d4fc1=_0x49c625['entity'],_0x3cbf43=_0x49c625['data'];if(typeof Ammo<'u'){_0x5d4fc1['trigger']&&(_0x5d4fc1['trigger']['destroy'](),delete _0x5d4fc1['trigger']),_0x3cbf43['shape']&&(_0x49c625['_compoundP'+'arent']&&(_0x49c625!==_0x49c625['_compoundP'+'arent']&&this['system']['_removeCom'+'poundChild'](_0x49c625['_compoundP'+'arent'],_0x3cbf43['shape']),_0x49c625['_compoundP'+'arent']['entity']['rigidbody']&&_0x49c625['_compoundP'+'arent']['entity']['rigidbody']['activate']()),this['destroySha'+'pe'](_0x3cbf43)),_0x3cbf43['shape']=this['createPhys'+'icalShape'](_0x49c625['entity'],_0x3cbf43);const _0x9afcb3=!_0x49c625['_compoundP'+'arent'];if(_0x3cbf43['type']==='compound'&&(!_0x49c625['_compoundP'+'arent']||_0x49c625===_0x49c625['_compoundP'+'arent']))_0x49c625['_compoundP'+'arent']=_0x49c625,_0x5d4fc1['forEach'](this['_addEachDe'+'scendant'],_0x49c625);else{if(_0x3cbf43['type']!=='compound'&&!_0x49c625['rigidbody']){_0x49c625['_compoundP'+'arent']=null;let _0x2e875f=_0x5d4fc1['parent'];for(;_0x2e875f;){if(_0x2e875f['collision']&&_0x2e875f['collision']['type']==='compound'){_0x49c625['_compoundP'+'arent']=_0x2e875f['collision'];break;}_0x2e875f=_0x2e875f['parent'];}}}_0x49c625['_compoundP'+'arent']&&_0x49c625!==_0x49c625['_compoundP'+'arent']&&(_0x9afcb3&&_0x49c625['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===-0x23fc+-0x1b94+0xfe4*0x4?this['system']['recreatePh'+'ysicalShap'+'es'](_0x49c625['_compoundP'+'arent']):(this['system']['updateComp'+'oundChildT'+'ransform'](_0x5d4fc1,!(-0x1a2d*0x1+-0xdcf+0x13fe*0x2)),_0x49c625['_compoundP'+'arent']['entity']['rigidbody']&&_0x49c625['_compoundP'+'arent']['entity']['rigidbody']['activate']())),_0x5d4fc1['rigidbody']?(_0x5d4fc1['rigidbody']['disableSim'+'ulation'](),_0x5d4fc1['rigidbody']['createBody'](),_0x5d4fc1['enabled']&&_0x5d4fc1['rigidbody']['enabled']&&_0x5d4fc1['rigidbody']['enableSimu'+'lation']()):_0x49c625['_compoundP'+'arent']||(_0x5d4fc1['trigger']?_0x5d4fc1['trigger']['initialize'](_0x3cbf43):_0x5d4fc1['trigger']=new Kv(this['system']['app'],_0x49c625,_0x3cbf43));}}['createPhys'+'icalShape'](_0x283927,_0x4e3cd2){}['updateTran'+'sform'](_0x2e3dc2,_0x54416f,_0x258189,_0x10a920){_0x2e3dc2['entity']['trigger']&&_0x2e3dc2['entity']['trigger']['updateTran'+'sform']();}['destroySha'+'pe'](_0x1b57f4){_0x1b57f4['shape']&&(Ammo['destroy'](_0x1b57f4['shape']),_0x1b57f4['shape']=null);}['beforeRemo'+'ve'](_0x866c11,_0x268a26){_0x268a26['data']['shape']&&(_0x268a26['_compoundP'+'arent']&&!_0x268a26['_compoundP'+'arent']['entity']['_destroyin'+'g']&&(this['system']['_removeCom'+'poundChild'](_0x268a26['_compoundP'+'arent'],_0x268a26['data']['shape']),_0x268a26['_compoundP'+'arent']['entity']['rigidbody']&&_0x268a26['_compoundP'+'arent']['entity']['rigidbody']['activate']()),_0x268a26['_compoundP'+'arent']=null,this['destroySha'+'pe'](_0x268a26['data']));}['remove'](_0x3c4e1e,_0x2d1cb7){_0x3c4e1e['rigidbody']&&_0x3c4e1e['rigidbody']['body']&&_0x3c4e1e['rigidbody']['disableSim'+'ulation'](),_0x3c4e1e['trigger']&&(_0x3c4e1e['trigger']['destroy'](),delete _0x3c4e1e['trigger']);}['clone'](_0x3dd86f,_0x577d45){const _0x3f678e=this['system']['store'][_0x3dd86f['getGuid']()],_0x3c3496={'enabled':_0x3f678e['data']['enabled'],'type':_0x3f678e['data']['type'],'halfExtents':[_0x3f678e['data']['halfExtent'+'s']['x'],_0x3f678e['data']['halfExtent'+'s']['y'],_0x3f678e['data']['halfExtent'+'s']['z']],'linearOffset':[_0x3f678e['data']['linearOffs'+'et']['x'],_0x3f678e['data']['linearOffs'+'et']['y'],_0x3f678e['data']['linearOffs'+'et']['z']],'angularOffset':[_0x3f678e['data']['angularOff'+'set']['x'],_0x3f678e['data']['angularOff'+'set']['y'],_0x3f678e['data']['angularOff'+'set']['z'],_0x3f678e['data']['angularOff'+'set']['w']],'radius':_0x3f678e['data']['radius'],'axis':_0x3f678e['data']['axis'],'height':_0x3f678e['data']['height'],'convexHull':_0x3f678e['data']['convexHull'],'asset':_0x3f678e['data']['asset'],'renderAsset':_0x3f678e['data']['renderAsse'+'t'],'model':_0x3f678e['data']['model'],'render':_0x3f678e['data']['render'],'checkVertexDuplicates':_0x3f678e['data']['checkVerte'+'xDuplicate'+'s']};return this['system']['addCompone'+'nt'](_0x577d45,_0x3c3496);}}class JL extends Ca{['createPhys'+'icalShape'](_0x2a84ba,_0x4b21e1){if(typeof Ammo<'u'){const _0x405f6b=_0x4b21e1['halfExtent'+'s'],_0x163fa5=new Ammo['btVector3'](_0x405f6b?_0x405f6b['x']:0x170*0x6+0x1*-0x2231+0x1991+0.5,_0x405f6b?_0x405f6b['y']:-0x2*0x57d+-0xd*-0x1a5+-0x1*0xa67+0.5,_0x405f6b?_0x405f6b['z']:-0x11cb*-0x1+0x1e2+-0x1*0x13ad+0.5),_0x1b786a=new Ammo['btBoxShape'](_0x163fa5);return Ammo['destroy'](_0x163fa5),_0x1b786a;}}}class eR extends Ca{['createPhys'+'icalShape'](_0x520070,_0x1f82e0){if(typeof Ammo<'u')return new Ammo['btSphereSh'+'ape'](_0x1f82e0['radius']);}}class tR extends Ca{['createPhys'+'icalShape'](_0x5d2af5,_0x4ae848){const _0x40457f=_0x4ae848['axis']??-0x64*0x49+0x2081*-0x1+-0x1*-0x3d06,_0x451724=_0x4ae848['radius']??0x2186+0x14f9+-0x367f*0x1+0.5,_0xf421af=Math['max']((_0x4ae848['height']??-0x2494+-0x2e9*-0x5+0x1609)-(0xb*0x2e1+-0x1c29+-0x380)*_0x451724,0x1745+0x45*0x2b+-0x2*0x116e);let _0xb723=null;if(typeof Ammo<'u')switch(_0x40457f){case 0x1*-0x19ef+-0xf8d+-0x297c*-0x1:_0xb723=new Ammo['btCapsuleS'+'hapeX'](_0x451724,_0xf421af);break;case-0x241c+-0x75*0x41+0x41d2:_0xb723=new Ammo['btCapsuleS'+'hape'](_0x451724,_0xf421af);break;case-0x377*0x1+0x16d5+0x7*-0x2c4:_0xb723=new Ammo['btCapsuleS'+'hapeZ'](_0x451724,_0xf421af);break;}return _0xb723;}}class sR extends Ca{['createPhys'+'icalShape'](_0x45e7f5,_0xe3bee9){const _0x1aa330=_0xe3bee9['axis']??-0x123*0x13+-0x864*0x3+0x2ec6,_0x4c7cd4=_0xe3bee9['radius']??0x1*-0x7cd+-0xe5d*-0x1+-0x150*0x5+0.5,_0x1d39bb=_0xe3bee9['height']??0x1277*-0x1+0xb37+-0x741*-0x1;let _0xf2cbc9=null,_0x2c58c9=null;if(typeof Ammo<'u')switch(_0x1aa330){case-0x1*0x1375+0x4*-0x92f+0x3831:_0xf2cbc9=new Ammo['btVector3'](_0x1d39bb*(-0x19cf+0x129e+0x1*0x731+0.5),_0x4c7cd4,_0x4c7cd4),_0x2c58c9=new Ammo['btCylinder'+'ShapeX'](_0xf2cbc9);break;case 0x1e2f+-0x3e5+-0x1a49:_0xf2cbc9=new Ammo['btVector3'](_0x4c7cd4,_0x1d39bb*(-0xb04+-0x1*0x62b+-0x1*-0x112f+0.5),_0x4c7cd4),_0x2c58c9=new Ammo['btCylinder'+'Shape'](_0xf2cbc9);break;case 0x5*-0xf7+0x2*-0xeb+0x239*0x3:_0xf2cbc9=new Ammo['btVector3'](_0x4c7cd4,_0x4c7cd4,_0x1d39bb*(0x23bd+-0x355*0xb+-0x75*-0x2+0.5)),_0x2c58c9=new Ammo['btCylinder'+'ShapeZ'](_0xf2cbc9);break;}return _0xf2cbc9&&Ammo['destroy'](_0xf2cbc9),_0x2c58c9;}}class iR extends Ca{['createPhys'+'icalShape'](_0x3823e9,_0x98d1b8){const _0x6ce30f=_0x98d1b8['axis']??-0xafe+-0x23eb+0x2eea,_0x105455=_0x98d1b8['radius']??0x6*-0x574+0x20b9+-0x1+0.5,_0x351da6=_0x98d1b8['height']??0x2150+0x173d+-0xbc*0x4d;let _0x5e9bb3=null;if(typeof Ammo<'u')switch(_0x6ce30f){case-0x24*0xd+-0x17f9+0x19cd:_0x5e9bb3=new Ammo['btConeShap'+'eX'](_0x105455,_0x351da6);break;case-0x1e0b*-0x1+-0x823+0x7*-0x321:_0x5e9bb3=new Ammo['btConeShap'+'e'](_0x105455,_0x351da6);break;case-0x1229*0x2+0x1005*0x1+0x144f:_0x5e9bb3=new Ammo['btConeShap'+'eZ'](_0x105455,_0x351da6);break;}return _0x5e9bb3;}}class rR extends Ca{['beforeInit'+'ialize'](_0x37620f,_0x29fbf2){}['createAmmo'+'Hull'](_0x380bf6,_0x44b278,_0x5df918,_0x560e22){const _0x53e60b=new Ammo['btConvexHu'+'llShape'](),_0x203b00=new Ammo['btVector3'](),_0x448e26=[];_0x380bf6['getPositio'+'ns'](_0x448e26);for(let _0xe149f1=0x449*0x7+-0x140+-0x29d*0xb;_0xe149f1<_0x448e26['length'];_0xe149f1+=-0x9d9+-0x133c+0x1d18)_0x203b00['setValue'](_0x448e26[_0xe149f1]*_0x560e22['x'],_0x448e26[_0xe149f1+(0x1c8e+0x7*-0x1b1+-0x3*0x592)]*_0x560e22['y'],_0x448e26[_0xe149f1+(-0x1*0x1039+0x1*0xc77+-0xf1*-0x4)]*_0x560e22['z']),_0x53e60b['addPoint'](_0x203b00,!(0x65*-0x4b+0x27+0x1d71));Ammo['destroy'](_0x203b00),_0x53e60b['recalcLoca'+'lAabb'](),_0x53e60b['setMargin'](-0x1d0e+-0x33*0x11+0x67d*0x5+0.01);const _0x1219d7=this['system']['_getNodeTr'+'ansform'](_0x44b278);_0x5df918['addChildSh'+'ape'](_0x1219d7,_0x53e60b),Ammo['destroy'](_0x1219d7);}['createAmmo'+'Mesh'](_0x53975b,_0x599a90,_0x524fdb,_0x3434ef,_0x19c404=!(-0x25*0x2+0x1814+-0x17ca)){const _0x3724dc=this['system'];let _0x37046f;if(_0x3724dc['_triMeshCa'+'che'][_0x53975b['id']])_0x37046f=_0x3724dc['_triMeshCa'+'che'][_0x53975b['id']];else{const _0x57799b=_0x53975b['vertexBuff'+'er'],_0x26a02b=_0x57799b['getFormat']();let _0x5d4f52,_0x3c31fd;for(let _0x361aae=0x215d+-0x1542*0x1+-0xc1b;_0x361aae<_0x26a02b['elements']['length'];_0x361aae++){const _0x3fc371=_0x26a02b['elements'][_0x361aae];if(_0x3fc371['name']===Me){_0x3c31fd=new Float32Array(_0x57799b['lock'](),_0x3fc371['offset']),_0x5d4f52=_0x3fc371['stride']/(0x82+0x2149+0x1*-0x21c7);break;}}const _0x33bc4c=[];_0x53975b['getIndices'](_0x33bc4c);const _0x374654=_0x53975b['primitive'][-0x7d*-0x13+0x127*-0x14+0xf*0xeb]['count']/(-0x186e+0x1*-0x399+0x1c0a),_0x73b2b1=new Ammo['btVector3']();let _0x471c9b,_0x214177,_0x3b7757;const _0x1ff307=_0x53975b['primitive'][-0x1*0x1a87+0x8*0x2aa+-0x537*-0x1]['base'];_0x37046f=new Ammo['btTriangle'+'Mesh'](),_0x3724dc['_triMeshCa'+'che'][_0x53975b['id']]=_0x37046f;const _0x2b41fa=new Map();w['assert'](typeof _0x37046f['getIndexed'+'MeshArray']=='function','Ammo.js\x20ve'+'rsion\x20is\x20t'+'oo\x20old,\x20pl'+'ease\x20updat'+'e\x20to\x20a\x20new'+'er\x20Ammo.');const _0xe93e01=_0x37046f['getIndexed'+'MeshArray']();_0xe93e01['at'](-0x89c+-0x660+0xefc)['m_numTrian'+'gles']=_0x374654;const _0x1afdef=_0x3434ef?_0x3434ef['x']:0x15a1+0x1*0x2653+-0x67*0x95,_0x57bfa8=_0x3434ef?_0x3434ef['y']:0x39e+-0x1635+0x1298,_0x4cc6b2=_0x3434ef?_0x3434ef['z']:-0x3*-0x277+0x81c+-0xf80,_0x3e7cf5=_0x5093c4=>{const _0x3af477=_0x3c31fd[_0x5093c4*_0x5d4f52]*_0x1afdef,_0x2b8842=_0x3c31fd[_0x5093c4*_0x5d4f52+(0x1*-0xa03+0xf81+-0x57d)]*_0x57bfa8,_0x1695b1=_0x3c31fd[_0x5093c4*_0x5d4f52+(0x898+0x5af*-0x3+0x877)]*_0x4cc6b2;let _0xd0f785;if(_0x19c404){const _0x5ea86d=_0x3af477+':'+_0x2b8842+':'+_0x1695b1;if(_0xd0f785=_0x2b41fa['get'](_0x5ea86d),_0xd0f785!==void(0x49*0x3f+-0x2d8*0x8+-0x19*-0x31))return _0xd0f785;_0x73b2b1['setValue'](_0x3af477,_0x2b8842,_0x1695b1),_0xd0f785=_0x37046f['findOrAddV'+'ertex'](_0x73b2b1,!(0x1b7*-0x14+-0x2a+-0x1*-0x2277)),_0x2b41fa['set'](_0x5ea86d,_0xd0f785);}else _0x73b2b1['setValue'](_0x3af477,_0x2b8842,_0x1695b1),_0xd0f785=_0x37046f['findOrAddV'+'ertex'](_0x73b2b1,!(0x1aa+-0x3*0xaf4+-0x31*-0xa3));return _0xd0f785;};for(let _0x2422d6=0x242+-0x129c*-0x2+-0x277a;_0x2422d6<_0x374654;_0x2422d6++)_0x471c9b=_0x3e7cf5(_0x33bc4c[_0x1ff307+_0x2422d6*(0x1*-0xb9d+-0xb*-0x347+-0x25*0xa9)]),_0x214177=_0x3e7cf5(_0x33bc4c[_0x1ff307+_0x2422d6*(-0x182f+-0x7*-0x425+-0x4d1)+(-0xe8+-0x3*0x727+0x165e)]),_0x3b7757=_0x3e7cf5(_0x33bc4c[_0x1ff307+_0x2422d6*(0x20*0x5+-0x1*0x269+0x1cc)+(-0x1*-0x20a9+-0x527*0x3+-0x1f*0x8e)]),_0x37046f['addIndex'](_0x471c9b),_0x37046f['addIndex'](_0x214177),_0x37046f['addIndex'](_0x3b7757);Ammo['destroy'](_0x73b2b1);}const _0x21c128=new Ammo['btBvhTrian'+'gleMeshSha'+'pe'](_0x37046f,!(-0xb4e+-0x2044+-0x2b92*-0x1));if(!_0x3434ef){const _0x195e46=_0x3724dc['_getNodeSc'+'aling'](_0x599a90);_0x21c128['setLocalSc'+'aling'](_0x195e46),Ammo['destroy'](_0x195e46);}const _0x4ebe07=_0x3724dc['_getNodeTr'+'ansform'](_0x599a90);_0x524fdb['addChildSh'+'ape'](_0x4ebe07,_0x21c128),Ammo['destroy'](_0x4ebe07);}['createPhys'+'icalShape'](_0x4154e7,_0xad5476){if(!(typeof Ammo>'u')&&(_0xad5476['model']||_0xad5476['render'])){const _0x5ada0f=new Ammo['btCompound'+'Shape'](),_0x2c896b=_0x4154e7['getWorldTr'+'ansform']()['getScale']();if(_0xad5476['render']){const _0x4b67c7=_0xad5476['render']['meshes'];for(let _0x549bdc=-0x1e42*0x1+0x1*-0xcd7+0x2b19;_0x549bdc<_0x4b67c7['length'];_0x549bdc++)_0xad5476['convexHull']?this['createAmmo'+'Hull'](_0x4b67c7[_0x549bdc],$g,_0x5ada0f,_0x2c896b):this['createAmmo'+'Mesh'](_0x4b67c7[_0x549bdc],$g,_0x5ada0f,_0x2c896b,_0xad5476['checkVerte'+'xDuplicate'+'s']);}else{if(_0xad5476['model']){const _0x36993a=_0xad5476['model']['meshInstan'+'ces'];for(let _0x55d16a=-0x17ef*-0x1+0x1*-0x2b4+-0x153b;_0x55d16a<_0x36993a['length'];_0x55d16a++)this['createAmmo'+'Mesh'](_0x36993a[_0x55d16a]['mesh'],_0x36993a[_0x55d16a]['node'],_0x5ada0f,null,_0xad5476['checkVerte'+'xDuplicate'+'s']);const _0x1bd38f=new Ammo['btVector3'](_0x2c896b['x'],_0x2c896b['y'],_0x2c896b['z']);_0x5ada0f['setLocalSc'+'aling'](_0x1bd38f),Ammo['destroy'](_0x1bd38f);}}return _0x5ada0f;}}['recreatePh'+'ysicalShap'+'es'](_0x512097){const _0x556f3e=_0x512097['data'];if((_0x556f3e['renderAsse'+'t']||_0x556f3e['asset'])&&_0x512097['enabled']&&_0x512097['entity']['enabled']){this['loadAsset'](_0x512097,_0x556f3e['renderAsse'+'t']||_0x556f3e['asset'],_0x556f3e['renderAsse'+'t']?'render':'model');return;}this['doRecreate'+'PhysicalSh'+'ape'](_0x512097);}['loadAsset'](_0x4f51a1,_0x5e90df,_0x14db0b){const _0x8cf2a5=_0x4f51a1['data'],_0xc1a90=this['system']['app']['assets'],_0x28f852=_0x8cf2a5[_0x14db0b],_0x5e4878=_0x55ebd6=>{_0x8cf2a5[_0x14db0b]===_0x28f852&&(_0x8cf2a5[_0x14db0b]=_0x55ebd6['resource'],this['doRecreate'+'PhysicalSh'+'ape'](_0x4f51a1));},_0x5b0a9c=_0x1d3f42=>{_0x1d3f42['ready'](_0x560b75=>{if(_0x560b75['data']['containerA'+'sset']){const _0x568f95=_0xc1a90['get'](_0x560b75['data']['containerA'+'sset']);_0x568f95['loaded']?_0x5e4878(_0x560b75):(_0x568f95['ready'](()=>{_0x5e4878(_0x560b75);}),_0xc1a90['load'](_0x568f95));}else _0x5e4878(_0x560b75);}),_0xc1a90['load'](_0x1d3f42);},_0x395395=_0xc1a90['get'](_0x5e90df);_0x395395?_0x5b0a9c(_0x395395):_0xc1a90['once']('add:'+_0x5e90df,_0x5b0a9c);}['doRecreate'+'PhysicalSh'+'ape'](_0x69ad5d){const _0x2200ac=_0x69ad5d['entity'],_0x5d7699=_0x69ad5d['data'];_0x5d7699['model']||_0x5d7699['render']?(this['destroySha'+'pe'](_0x5d7699),_0x5d7699['shape']=this['createPhys'+'icalShape'](_0x2200ac,_0x5d7699),_0x2200ac['rigidbody']?(_0x2200ac['rigidbody']['disableSim'+'ulation'](),_0x2200ac['rigidbody']['createBody'](),_0x2200ac['enabled']&&_0x2200ac['rigidbody']['enabled']&&_0x2200ac['rigidbody']['enableSimu'+'lation']()):_0x2200ac['trigger']?_0x2200ac['trigger']['initialize'](_0x5d7699):_0x2200ac['trigger']=new Kv(this['system']['app'],_0x69ad5d,_0x5d7699)):(this['beforeRemo'+'ve'](_0x2200ac,_0x69ad5d),this['remove'](_0x2200ac,_0x5d7699));}['updateTran'+'sform'](_0x22aa8f,_0xe53579,_0x3a2c25,_0xe3bd52){if(_0x22aa8f['shape']){const _0x35fbfc=_0x22aa8f['entity']['getWorldTr'+'ansform']()['getScale'](),_0x314efe=_0x22aa8f['shape']['getLocalSc'+'aling']();(_0x35fbfc['x']!==_0x314efe['x']()||_0x35fbfc['y']!==_0x314efe['y']()||_0x35fbfc['z']!==_0x314efe['z']())&&this['doRecreate'+'PhysicalSh'+'ape'](_0x22aa8f);}super['updateTran'+'sform'](_0x22aa8f,_0xe53579,_0x3a2c25,_0xe3bd52);}['destroySha'+'pe'](_0x4c91f1){if(!_0x4c91f1['shape'])return;const _0x299810=_0x4c91f1['shape']['getNumChil'+'dShapes']();for(let _0x1264bd=-0xdf*0x1d+-0x5*-0x603+-0x4cc;_0x1264bd<_0x299810;_0x1264bd++){const _0xab5c60=_0x4c91f1['shape']['getChildSh'+'ape'](_0x1264bd);Ammo['destroy'](_0xab5c60);}Ammo['destroy'](_0x4c91f1['shape']),_0x4c91f1['shape']=null;}}class aR extends Ca{['createPhys'+'icalShape'](_0x3a3320,_0xf353c8){if(typeof Ammo<'u')return new Ammo['btCompound'+'Shape']();}['_addEachDe'+'scendant'](_0x210be0){!_0x210be0['collision']||_0x210be0['rigidbody']||(_0x210be0['collision']['_compoundP'+'arent']=this,_0x210be0!==this['entity']&&_0x210be0['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x210be0['collision']));}['_updateEac'+'hDescendan'+'t'](_0x287fc4){_0x287fc4['collision']&&_0x287fc4['collision']['_compoundP'+'arent']===this&&(_0x287fc4['collision']['_compoundP'+'arent']=null,_0x287fc4!==this['entity']&&!_0x287fc4['rigidbody']&&_0x287fc4['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x287fc4['collision']));}['_updateEac'+'hDescendan'+'tTransform'](_0x4e4dbc){!_0x4e4dbc['collision']||_0x4e4dbc['collision']['_compoundP'+'arent']!==this['collision']['_compoundP'+'arent']||this['collision']['system']['updateComp'+'oundChildT'+'ransform'](_0x4e4dbc,!(0xf3a*0x1+0x3*0x643+0x1*-0x2202));}}class nR extends ct{constructor(_0xc17735){super(_0xc17735),this['id']='collision',this['ComponentT'+'ype']=rn,this['DataType']=XL,this['schema']=QL,this['implementa'+'tions']={},this['_triMeshCa'+'che']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['on']('remove',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x177426,_0x7a5a57,_0x2b1ba3){_0x2b1ba3=['type','halfExtent'+'s','radius','axis','height','convexHull','shape','model','asset','render','renderAsse'+'t','enabled','linearOffs'+'et','angularOff'+'set','checkVerte'+'xDuplicate'+'s'];const _0x43112e={};for(let _0x44efbe=0xd59+-0x23c4+0x166b,_0x25c616=_0x2b1ba3['length'];_0x44efbe<_0x25c616;_0x44efbe++){const _0x2b6070=_0x2b1ba3[_0x44efbe];_0x43112e[_0x2b6070]=_0x7a5a57[_0x2b6070];}let _0x310329;if(_0x7a5a57['hasOwnProp'+'erty']('asset')?(_0x310329=_0x2b1ba3['indexOf']('model'),_0x310329!==-(-0x511*-0x5+0x1d9a*-0x1+0x446)&&_0x2b1ba3['splice'](_0x310329,0x4*-0x94a+0x1da6+0x3*0x281),_0x310329=_0x2b1ba3['indexOf']('render'),_0x310329!==-(-0xe0d+-0x12ec+0xc9*0x2a)&&_0x2b1ba3['splice'](_0x310329,0x1774+-0x66*0x21+0x9*-0x125)):_0x7a5a57['hasOwnProp'+'erty']('model')&&(_0x310329=_0x2b1ba3['indexOf']('asset'),_0x310329!==-(-0x556+0x241*0x1+0x316)&&_0x2b1ba3['splice'](_0x310329,-0x14b4+-0x1*0x21f5+0x2*0x1b55)),_0x43112e['type']||(_0x43112e['type']=_0x177426['data']['type']),_0x177426['data']['type']=_0x43112e['type'],Array['isArray'](_0x43112e['halfExtent'+'s'])&&(_0x43112e['halfExtent'+'s']=new D(_0x43112e['halfExtent'+'s'])),Array['isArray'](_0x43112e['linearOffs'+'et'])&&(_0x43112e['linearOffs'+'et']=new D(_0x43112e['linearOffs'+'et'])),Array['isArray'](_0x43112e['angularOff'+'set'])){const _0x17e569=_0x43112e['angularOff'+'set'];_0x17e569['length']===-0x9*0x411+0x14*0x1+-0x538*-0x7?_0x43112e['angularOff'+'set']=new le()['setFromEul'+'erAngles'](_0x17e569[0x1ec8+0x1c5d+-0x3b25],_0x17e569[-0x2042+0x704+0x193f],_0x17e569[-0xd49+-0x7*-0x204+-0xd1]):_0x43112e['angularOff'+'set']=new le(_0x43112e['angularOff'+'set']);}const _0x591acb=this['_createImp'+'lementatio'+'n'](_0x43112e['type']);_0x591acb['beforeInit'+'ialize'](_0x177426,_0x43112e),super['initialize'+'ComponentD'+'ata'](_0x177426,_0x43112e,_0x2b1ba3),_0x591acb['afterIniti'+'alize'](_0x177426,_0x43112e);}['_createImp'+'lementatio'+'n'](_0x142242){if(this['implementa'+'tions'][_0x142242]===void(-0x8c6*0x1+0x512+0x1*0x3b4)){let _0x71b24e;switch(_0x142242){case'box':_0x71b24e=new JL(this);break;case'sphere':_0x71b24e=new eR(this);break;case'capsule':_0x71b24e=new tR(this);break;case'cylinder':_0x71b24e=new sR(this);break;case'cone':_0x71b24e=new iR(this);break;case'mesh':_0x71b24e=new rR(this);break;case'compound':_0x71b24e=new aR(this);break;default:w['error']('_createImp'+'lementatio'+'n:\x20Invalid'+'\x20collision'+'\x20system\x20ty'+'pe:\x20'+_0x142242);}this['implementa'+'tions'][_0x142242]=_0x71b24e;}return this['implementa'+'tions'][_0x142242];}['_getImplem'+'entation'](_0x24f75a){return this['implementa'+'tions'][_0x24f75a['collision']['data']['type']];}['cloneCompo'+'nent'](_0x256201,_0x8c3b3){return this['_getImplem'+'entation'](_0x256201)['clone'](_0x256201,_0x8c3b3);}['onBeforeRe'+'move'](_0x53f274,_0x251f9b){this['implementa'+'tions'][_0x251f9b['data']['type']]['beforeRemo'+'ve'](_0x53f274,_0x251f9b),_0x251f9b['onBeforeRe'+'move']();}['onRemove'](_0xd69ef7,_0x3b545d){this['implementa'+'tions'][_0x3b545d['type']]['remove'](_0xd69ef7,_0x3b545d);}['updateComp'+'oundChildT'+'ransform'](_0x59632f,_0xad7919){const _0x33a04b=_0x59632f['collision']['_compoundP'+'arent'];if(_0x33a04b!==_0x59632f['collision']&&_0x59632f['enabled']&&_0x59632f['collision']['enabled']&&(_0x59632f['_dirtyLoca'+'l']||_0xad7919)){const _0x1f8037=this['_getNodeTr'+'ansform'](_0x59632f,_0x33a04b['entity']),_0x20ba2d=_0x33a04b['getCompoun'+'dChildShap'+'eIndex'](_0x59632f['collision']['shape']);_0x20ba2d===null?_0x33a04b['shape']['addChildSh'+'ape'](_0x1f8037,_0x59632f['collision']['data']['shape']):_0x33a04b['shape']['updateChil'+'dTransform'](_0x20ba2d,_0x1f8037,!(0x22b6+-0x262b+0x375)),Ammo['destroy'](_0x1f8037);}}['_removeCom'+'poundChild'](_0x2910a1,_0x1556ee){if(_0x2910a1['shape']['getNumChil'+'dShapes']()!==0x3f9+0xfab+-0x13a4){if(_0x2910a1['shape']['removeChil'+'dShape'])_0x2910a1['shape']['removeChil'+'dShape'](_0x1556ee);else{const _0x3df9e8=_0x2910a1['getCompoun'+'dChildShap'+'eIndex'](_0x1556ee);_0x3df9e8!==null&&_0x2910a1['shape']['removeChil'+'dShapeByIn'+'dex'](_0x3df9e8);}}}['onTransfor'+'mChanged'](_0x4e7c93,_0x42f622,_0x10b52c,_0x44abf0){this['implementa'+'tions'][_0x4e7c93['data']['type']]['updateTran'+'sform'](_0x4e7c93,_0x42f622,_0x10b52c,_0x44abf0);}['changeType'](_0x3da618,_0x369d72,_0x1ae510){this['implementa'+'tions'][_0x369d72]['beforeRemo'+'ve'](_0x3da618['entity'],_0x3da618),this['implementa'+'tions'][_0x369d72]['remove'](_0x3da618['entity'],_0x3da618['data']),this['_createImp'+'lementatio'+'n'](_0x1ae510)['reset'](_0x3da618,_0x3da618['data']);}['recreatePh'+'ysicalShap'+'es'](_0x56bce9){this['implementa'+'tions'][_0x56bce9['data']['type']]['recreatePh'+'ysicalShap'+'es'](_0x56bce9);}['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x40ec0d,_0x52f63c){if(_0x40ec0d===_0x52f63c){const _0x1a1de2=_0x40ec0d['getWorldTr'+'ansform']()['getScale']();wc['setScale'](_0x1a1de2['x'],_0x1a1de2['y'],_0x1a1de2['z']);}else this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x40ec0d['parent'],_0x52f63c),wc['mul'](_0x40ec0d['getLocalTr'+'ansform']());}['_getNodeSc'+'aling'](_0x3c11b0){const _0x542040=_0x3c11b0['getWorldTr'+'ansform']()['getScale']();return new Ammo['btVector3'](_0x542040['x'],_0x542040['y'],_0x542040['z']);}['_getNodeTr'+'ansform'](_0x8c28d0,_0xb38829){let _0x4a864f,_0x35c780;_0xb38829?(this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x8c28d0,_0xb38829),_0x4a864f=KL,_0x35c780=Vr,wc['getTransla'+'tion'](_0x4a864f),_0x35c780['setFromMat'+'4'](wc)):(_0x4a864f=_0x8c28d0['getPositio'+'n'](),_0x35c780=_0x8c28d0['getRotatio'+'n']());const _0x649508=new Ammo['btQuaterni'+'on'](),_0x33d0e7=new Ammo['btTransfor'+'m']();_0x33d0e7['setIdentit'+'y']();const _0x1484a9=_0x33d0e7['getOrigin'](),_0x42eabc=_0x8c28d0['collision'];if(_0x42eabc&&_0x42eabc['_hasOffset']){const _0x8ebcab=_0x42eabc['data']['linearOffs'+'et'],_0x4acf15=_0x42eabc['data']['angularOff'+'set'],_0x1807b3=ZL;Vr['copy'](_0x35c780)['transformV'+'ector'](_0x8ebcab,_0x1807b3),_0x1807b3['add'](_0x4a864f),Vr['copy'](_0x35c780)['mul'](_0x4acf15),_0x1484a9['setValue'](_0x1807b3['x'],_0x1807b3['y'],_0x1807b3['z']),_0x649508['setValue'](Vr['x'],Vr['y'],Vr['z'],Vr['w']);}else _0x1484a9['setValue'](_0x4a864f['x'],_0x4a864f['y'],_0x4a864f['z']),_0x649508['setValue'](_0x35c780['x'],_0x35c780['y'],_0x35c780['z'],_0x35c780['w']);return _0x33d0e7['setRotatio'+'n'](_0x649508),Ammo['destroy'](_0x649508),_0x33d0e7;}['destroy'](){for(const _0x2b6e99 in this['_triMeshCa'+'che'])Ammo['destroy'](this['_triMeshCa'+'che'][_0x2b6e99]);this['_triMeshCa'+'che']=null,super['destroy']();}}const Ec=new ie(),oR=new Kt();class lR{constructor(_0xda561,_0xcc96bf,_0x19dae1){this['_entity']=_0xda561,this['_element']=_0xda561['element'],this['model']=new sr(),this['node']=new Ie(),this['model']['graph']=this['node'],this['mesh']=_0xcc96bf,this['meshInstan'+'ce']=new He(this['mesh'],_0x19dae1,this['node']),this['meshInstan'+'ce']['name']='ImageEleme'+'nt:\x20'+_0xda561['name'],this['meshInstan'+'ce']['castShadow']=!(0x2015+0x1*0x2f9+0xbaf*-0x3),this['meshInstan'+'ce']['receiveSha'+'dow']=!(-0x14b3+-0xc77+0x212b),this['_meshDirty']=!(0x5b*-0x55+0x2136+-0x2fe),this['model']['meshInstan'+'ces']['push'](this['meshInstan'+'ce']),this['_entity']['addChild'](this['model']['graph']),this['model']['_entity']=this['_entity'],this['unmaskMesh'+'Instance']=null;}['destroy'](){var _0x3013a3,_0x10b680;this['setMateria'+'l'](null),this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),this['model']['destroy'](),this['model']=null,this['node']=null,this['mesh']=null,(_0x3013a3=this['meshInstan'+'ce'])==null||_0x3013a3['destroy'](),this['meshInstan'+'ce']=null,(_0x10b680=this['unmaskMesh'+'Instance'])==null||_0x10b680['destroy'](),this['unmaskMesh'+'Instance']=null,this['_entity']=null,this['_element']=null;}['setMesh'](_0x21eb3e){this['meshInstan'+'ce']&&(this['mesh']=_0x21eb3e,this['meshInstan'+'ce']['mesh']=_0x21eb3e,this['meshInstan'+'ce']['visible']=!!_0x21eb3e,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['mesh']=_0x21eb3e),this['forceUpdat'+'eAabb']());}['setMask'](_0x4e6670){var _0x3dfac9;if(this['meshInstan'+'ce']){if(this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),_0x4e6670){this['unmaskMesh'+'Instance']=new He(this['mesh'],this['meshInstan'+'ce']['material'],this['node']),this['unmaskMesh'+'Instance']['name']='Unmask:\x20'+this['_entity']['name'],this['unmaskMesh'+'Instance']['castShadow']=!(-0x1c5a+-0x1*0x1b31+0x378c),this['unmaskMesh'+'Instance']['receiveSha'+'dow']=!(-0x204f*0x1+0x39b*-0x3+0x2b21),this['unmaskMesh'+'Instance']['pick']=!(-0x59f*-0x5+-0x6a*-0xa+0x2*-0x101f),this['model']['meshInstan'+'ces']['push'](this['unmaskMesh'+'Instance']);for(const _0x51f05a in this['meshInstan'+'ce']['parameters'])this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x51f05a,this['meshInstan'+'ce']['parameters'][_0x51f05a]['data']);}else{const _0x136142=this['model']['meshInstan'+'ces']['indexOf'](this['unmaskMesh'+'Instance']);_0x136142>=-0x222b+-0x67*0x1+-0x96*-0x3b&&this['model']['meshInstan'+'ces']['splice'](_0x136142,-0x6fd+0x1e*0x10a+-0x182e);}this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['addModelTo'+'Layers'](this['model']),_0x4e6670||((_0x3dfac9=this['unmaskMesh'+'Instance'])==null||_0x3dfac9['destroy'](),this['unmaskMesh'+'Instance']=null);}}['setMateria'+'l'](_0x3a3525){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x3a3525,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['material']=_0x3a3525));}['setParamet'+'er'](_0x5b3ca0,_0x4e32fb){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['setParamet'+'er'](_0x5b3ca0,_0x4e32fb),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x5b3ca0,_0x4e32fb));}['deletePara'+'meter'](_0x230d74){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['deletePara'+'meter'](_0x230d74),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['deletePara'+'meter'](_0x230d74));}['setUnmaskD'+'rawOrder'](){if(!this['meshInstan'+'ce'])return;const _0x5d3dcc=function(_0x29e83a){let _0x3369a3;const _0x3cec4d=_0x29e83a['children'],_0x3d7601=_0x3cec4d['length'];if(_0x3d7601){for(let _0x378d10=0x2*0x602+-0x807+-0x3fd;_0x378d10<_0x3d7601;_0x378d10++)_0x3cec4d[_0x378d10]['element']&&(_0x3369a3=_0x3cec4d[_0x378d10]);if(!_0x3369a3)return null;const _0x528482=_0x5d3dcc(_0x3369a3);return _0x528482||_0x3369a3;}return null;};if(this['unmaskMesh'+'Instance']){const _0x4cafa9=_0x5d3dcc(this['_entity']);_0x4cafa9&&_0x4cafa9['element']?this['unmaskMesh'+'Instance']['drawOrder']=_0x4cafa9['element']['drawOrder']+_0x4cafa9['element']['getMaskOff'+'set']():this['unmaskMesh'+'Instance']['drawOrder']=this['meshInstan'+'ce']['drawOrder']+this['_element']['getMaskOff'+'set'](),w['trace'](Vs,'setDrawOrd'+'er:\x20',this['unmaskMesh'+'Instance']['name'],this['unmaskMesh'+'Instance']['drawOrder']);}}['setDrawOrd'+'er'](_0x1a3d44){this['meshInstan'+'ce']&&(w['trace'](Vs,'setDrawOrd'+'er:\x20',this['meshInstan'+'ce']['name'],_0x1a3d44),this['meshInstan'+'ce']['drawOrder']=_0x1a3d44);}['setCull'](_0x2e8cf7){if(!this['meshInstan'+'ce'])return;const _0x4b9f67=this['_element'];let _0x3e1f1f=null;_0x2e8cf7&&_0x4b9f67['_isScreenS'+'pace']()&&(_0x3e1f1f=function(_0x285077){return _0x4b9f67['isVisibleF'+'orCamera'](_0x285077);}),this['meshInstan'+'ce']['cull']=_0x2e8cf7,this['meshInstan'+'ce']['isVisibleF'+'unc']=_0x3e1f1f,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['cull']=_0x2e8cf7,this['unmaskMesh'+'Instance']['isVisibleF'+'unc']=_0x3e1f1f);}['setScreenS'+'pace'](_0xb05060){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['screenSpac'+'e']=_0xb05060,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['screenSpac'+'e']=_0xb05060));}['setLayer'](_0x341492){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['layer']=_0x341492,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['layer']=_0x341492));}['forceUpdat'+'eAabb'](_0x5b58a0){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_aabbVer']=-(0x1cee+0x7f*0x1e+-0x2bcf),this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_aabbVer']=-(-0x106f+0x918+0x758)));}['setAabbFun'+'c'](_0x211c0c){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_updateAab'+'bFunc']=_0x211c0c,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_updateAab'+'bFunc']=_0x211c0c));}}class cR{constructor(_0x1816a4){h(this,'_evtSetMes'+'hes',null),(this['_element']=_0x1816a4,this['_entity']=_0x1816a4['entity'],this['_system']=_0x1816a4['system'],this['_textureAs'+'set']=null,this['_texture']=null,this['_materialA'+'sset']=null,this['_material']=null,this['_spriteAss'+'et']=null,this['_sprite']=null,this['_spriteFra'+'me']=-0x220b+-0x1b5f+0x3d6a,this['_pixelsPer'+'Unit']=null,this['_targetAsp'+'ectRatio']=-(-0xc72+0x1*-0x1fc5+-0x2*-0x161c),this['_rect']=new re(-0x210b+0x2*-0x69d+-0x73*-0x67,-0x9d*0x1+-0x771+0x80e,0x43*-0x35+0x977*-0x2+0x20ce,-0x1713+0x5*-0x67e+0x378a),this['_mask']=!(0x2685+0x146c+-0x3af0),this['_maskRef']=0x1*-0x1755+0xe0*0x19+0x175,this['_outerScal'+'e']=new J(),this['_outerScal'+'eUniform']=new Float32Array(-0x2*0x845+-0x1663+0x26ef*0x1),this['_innerOffs'+'et']=new re(),this['_innerOffs'+'etUniform']=new Float32Array(0x1fa+0x1*0x156c+-0x1*0x1762),this['_atlasRect']=new re(),this['_atlasRect'+'Uniform']=new Float32Array(0x2*-0x32c+0x19ef+-0x1393),this['_defaultMe'+'sh']=this['_createMes'+'h'](),this['_renderabl'+'e']=new lR(this['_entity'],this['_defaultMe'+'sh'],this['_material']),this['_color']=new ie(0x16*0x15c+-0x2485*-0x1+-0x426c,-0x3e4+-0xc89*0x3+0x2980,-0x1a5*-0x4+0x1d*-0xd+-0x51a*0x1,0x6d*0x3b+0x13ad+-0x1*0x2ccb),this['_colorUnif'+'orm']=new Float32Array([-0xc1a+-0x527+-0x1*-0x1142,-0x4c*-0x6c+-0x1*0x13ae+-0xc61,-0xac+0x100f+-0xb3*0x16]),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',-0x136*-0x13+0x13f0+-0x2af1),this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_onScreenC'+'hange'](this['_element']['screen']),this['_element']['on']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['on']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['on']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this));}['destroy'](){this['textureAss'+'et']=null,this['spriteAsse'+'t']=null,this['materialAs'+'set']=null,this['_renderabl'+'e']['setMesh'](this['_defaultMe'+'sh']),this['_renderabl'+'e']['destroy'](),this['_defaultMe'+'sh']=null,this['_element']['off']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this);}['_onResolut'+'ionChange'](_0x22ac53){}['_onParentR'+'esizeOrPiv'+'otChange'](){this['_renderabl'+'e']['mesh']&&this['_updateMes'+'h'](this['_renderabl'+'e']['mesh']);}['_onScreenS'+'paceChange'](_0x1add6d){this['_updateMat'+'erial'](_0x1add6d);}['_onScreenC'+'hange'](_0x1eecdd,_0x34c8a9){_0x1eecdd?this['_updateMat'+'erial'](_0x1eecdd['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0x1*-0x2579+-0x76c+-0xa04*0x3));}['_onDrawOrd'+'erChange'](_0x22a2f3){this['_renderabl'+'e']['setDrawOrd'+'er'](_0x22a2f3),this['mask']&&this['_element']['screen']&&this['_element']['screen']['screen']['once']('syncdrawor'+'der',function(){this['_renderabl'+'e']['setUnmaskD'+'rawOrder']();},this);}['_hasUserMa'+'terial'](){return!!this['_materialA'+'sset']||!!this['_material']&&this['_system']['defaultIma'+'geMaterial'+'s']['indexOf'](this['_material'])===-(-0x1*0x2205+0x2b3+-0x2d9*-0xb);}['_use9Slici'+'ng'](){return this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt);}['_updateMat'+'erial'](_0x39c792){const _0x57cc8b=!!this['_mask'],_0x19e17c=!!(this['sprite']&&this['sprite']['renderMode']===Pt),_0x4e4779=!!(this['sprite']&&this['sprite']['renderMode']===Mt);this['_hasUserMa'+'terial']()||(this['_material']=this['_system']['getImageEl'+'ementMater'+'ial'](_0x39c792,_0x57cc8b,_0x19e17c,_0x4e4779)),this['_renderabl'+'e']&&(this['_renderabl'+'e']['setCull'](!this['_element']['_isScreenS'+'pace']()||this['_element']['_isScreenC'+'ulled']()),this['_renderabl'+'e']['setMateria'+'l'](this['_material']),this['_renderabl'+'e']['setScreenS'+'pace'](_0x39c792),this['_renderabl'+'e']['setLayer'](_0x39c792?Ow:Ky));}['_createMes'+'h'](){const _0x14fdb6=this['_element'],_0x1065df=_0x14fdb6['calculated'+'Width'],_0x5dc64b=_0x14fdb6['calculated'+'Height'],_0x248bd0=this['_rect'],_0x11e6f2=this['_system']['app']['graphicsDe'+'vice'],_0x38eba3=new Float32Array([_0x1065df,-0x258*-0x7+-0x214d+0x10e5,0x146c+0x1e1+-0x76f*0x3,0x1*0x9+-0x25a*0x5+0xbb9,-0x194*-0x17+0x121*-0x20+-0xb*0x4,-0x1d0f+0x23de+-0x6ce,_0x248bd0['x']+_0x248bd0['z'],0x257a+0xb70+-0x30e9-_0x248bd0['y'],_0x1065df,_0x5dc64b,-0x3*0x97a+-0x2*0xe7d+0x3968,0x1138+-0x18*0xba+-0x1c*-0x2,-0x19a8+0x2394+-0x7f*0x14,-0xb0d+-0x2685+0x3193,_0x248bd0['x']+_0x248bd0['z'],-0x1d32+0xe71+0xec2-(_0x248bd0['y']+_0x248bd0['w']),0x13d2+0x1f*0x13e+-0x2*0x1d2a,-0x5e7*0x3+-0x9*-0x452+-0x152d,0x5cf*-0x5+-0x1e51+-0x3a*-0x106,-0x226b+-0xd*-0x260+0x38b,0x3d0*-0xa+-0x1dde+0x43fe,0x5*0x1f9+-0x169f+0xcc3,_0x248bd0['x'],0x1*0xa29+0x1a*-0x10b+0x10f6-_0x248bd0['y'],0x1a0e+-0x4*-0x913+-0x3e5a,_0x5dc64b,0x7*-0x54a+0x2144+-0x25*-0x1a,-0x1dbb+-0x154e+0x3309,0x1259+-0x1*0x269f+0x2*0xa23,-0x14b1*-0x1+0x1ad8+-0x2f88,_0x248bd0['x'],-0x39*-0x95+0x5f*0xb+-0x2541-(_0x248bd0['y']+_0x248bd0['w'])]),_0x2d95c6=oR['get'](_0x11e6f2,()=>new kt(_0x11e6f2,[{'semantic':Me,'components':0x3,'type':Ve},{'semantic':gs,'components':0x3,'type':Ve},{'semantic':is,'components':0x2,'type':Ve}])),_0x57674d=new Is(_0x11e6f2,_0x2d95c6,-0x824+0xc0f+0x9*-0x6f,{'data':_0x38eba3['buffer']}),_0x55cffd=new Ge(_0x11e6f2);return _0x55cffd['vertexBuff'+'er']=_0x57674d,_0x55cffd['primitive'][-0x85*0xd+-0x15*0xfd+0x1b82]['type']=Er,_0x55cffd['primitive'][-0x1*-0xfc6+-0xea2+-0x124]['base']=0x42f+-0xf1b*0x1+0xaec,_0x55cffd['primitive'][0x167*0xb+-0x717+-0x856]['count']=0xbf6+0x3*-0x36d+0x3d*-0x7,_0x55cffd['primitive'][-0x259*-0x1+0x5*-0x1fd+0x798]['indexed']=!(-0x1e*0x65+0x28d+0x94a),_0x55cffd['aabb']['setMinMax'](D['ZERO'],new D(_0x1065df,_0x5dc64b,0x2*0xf3f+0x1304+0x1*-0x3182)),this['_updateMes'+'h'](_0x55cffd),_0x55cffd;}['_updateMes'+'h'](_0x3c06d1){const _0x582445=this['_element'];let _0x2a1eae=_0x582445['calculated'+'Width'],_0x5a0e44=_0x582445['calculated'+'Height'];if(_0x582445['fitMode']!==th&&this['_targetAsp'+'ectRatio']>-0xd7+0x1aa8+0x19d1*-0x1){const _0x4a0562=_0x582445['calculated'+'Width']/_0x582445['calculated'+'Height'];_0x582445['fitMode']===GL&&_0x4a0562>this['_targetAsp'+'ectRatio']||_0x582445['fitMode']===HL&&_0x4a0562<this['_targetAsp'+'ectRatio']?_0x2a1eae=_0x582445['calculated'+'Height']*this['_targetAsp'+'ectRatio']:_0x5a0e44=_0x582445['calculated'+'Width']/this['_targetAsp'+'ectRatio'];}const _0x2465a6=_0x582445['_isScreenS'+'pace']();if(this['_updateMat'+'erial'](_0x2465a6),this['_renderabl'+'e']&&this['_renderabl'+'e']['forceUpdat'+'eAabb'](),this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){const _0x3fb361=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]],_0x5a0782=(0x29*0x43+0x1126+-0x1bdf)/_0x3fb361['rect']['z'],_0x4d8602=(-0x45e+-0x1*-0x2399+0x1*-0x1f39)/_0x3fb361['rect']['w'];this['_innerOffs'+'et']['set'](_0x3fb361['border']['x']*_0x5a0782,_0x3fb361['border']['y']*_0x4d8602,_0x3fb361['border']['z']*_0x5a0782,_0x3fb361['border']['w']*_0x4d8602);const _0x15a493=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x3fb361['rect']['x']/_0x15a493['width'],_0x3fb361['rect']['y']/_0x15a493['height'],_0x3fb361['rect']['z']/_0x15a493['width'],_0x3fb361['rect']['w']/_0x15a493['height']);const _0x589fd8=this['_pixelsPer'+'Unit']!==null?this['_pixelsPer'+'Unit']:this['sprite']['pixelsPerU'+'nit'],_0x47f483=_0x3fb361['rect']['z']/_0x589fd8,_0xb1f3ca=_0x3fb361['rect']['w']/_0x589fd8;this['_outerScal'+'e']['set'](Math['max'](_0x2a1eae,this['_innerOffs'+'et']['x']*_0x47f483),Math['max'](_0x5a0e44,this['_innerOffs'+'et']['y']*_0xb1f3ca));let _0x10d81f=_0x47f483,_0x3fa8f4=_0xb1f3ca;this['_outerScal'+'e']['x']/=_0x47f483,this['_outerScal'+'e']['y']/=_0xb1f3ca,_0x10d81f*=Y['clamp'](_0x2a1eae/(this['_innerOffs'+'et']['x']*_0x47f483),-0x171d+-0x314+0x1bf*0xf+0.0001,0x2573+-0x1a95*0x1+0x67*-0x1b),_0x3fa8f4*=Y['clamp'](_0x5a0e44/(this['_innerOffs'+'et']['y']*_0xb1f3ca),0x14a5+0x10*0xa7+-0x1f15+0.0001,0x63d*-0x1+-0x99*-0x10+-0x352*0x1),this['_renderabl'+'e']&&(this['_innerOffs'+'etUniform'][0x24a3+-0x1ad+-0x22f6]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][0x4b*0x5f+-0x16d+-0x1a67]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][0x23fb+0xf*-0x1b+-0x2264]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][-0x169f+0x85*0xf+0xed7]=this['_innerOffs'+'et']['w'],this['_renderabl'+'e']['setParamet'+'er']('innerOffse'+'t',this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][-0x179d+0x262a+-0xe8d]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][0x1*0x905+0x1d3d+0x577*-0x7]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0x2458+-0x3e3*0x2+-0x1c90]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0x18cb+-0x137f+0x2c4d]=this['_atlasRect']['w'],this['_renderabl'+'e']['setParamet'+'er']('atlasRect',this['_atlasRect'+'Uniform']),this['_outerScal'+'eUniform'][0x1f16*-0x1+0x109+0x1e0d]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0x6e0*0x5+0x1*0x141+0x474*-0x8]=this['_outerScal'+'e']['y'],this['_renderabl'+'e']['setParamet'+'er']('outerScale',this['_outerScal'+'eUniform']),this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']),this['_renderabl'+'e']['node']['setLocalSc'+'ale'](_0x10d81f,_0x3fa8f4,0x30*-0x3f+0xc5*-0x2f+0x4*0xbff),this['_renderabl'+'e']['node']['setLocalPo'+'sition']((-0x1578+0xe06+0x772*0x1+0.5-_0x582445['pivot']['x'])*_0x2a1eae,(0x672+-0x178f+0x111d+0.5-_0x582445['pivot']['y'])*_0x5a0e44,0x68d+-0xee8+0x85b));}else{const _0x1b3683=_0x3c06d1['vertexBuff'+'er'],_0x3ab954=new Float32Array(_0x1b3683['lock']()),_0x5c683d=_0x582445['pivot']['x'],_0x8a743=_0x582445['pivot']['y'];_0x3ab954[0x268f+0x2f*0x1+-0x26be]=_0x2a1eae-_0x5c683d*_0x2a1eae,_0x3ab954[0xe2b+-0x6b*0x1b+-0x2e1]=0x2146*0x1+0x1fb3+-0x1*0x40f9-_0x8a743*_0x5a0e44,_0x3ab954[-0x5b9+0x169d+-0x10dc]=_0x2a1eae-_0x5c683d*_0x2a1eae,_0x3ab954[0x25f8+0x1f9d+0x22c6*-0x2]=_0x5a0e44-_0x8a743*_0x5a0e44,_0x3ab954[-0x243*-0x1+0x1a*-0x131+0x1cc7]=-0xdf3+-0x151*-0x1+0xca2-_0x5c683d*_0x2a1eae,_0x3ab954[0x461+0x1*0x18b+0x1*-0x5db]=0x5*0x357+-0x13f6+0x343-_0x8a743*_0x5a0e44,_0x3ab954[0x18*0xb7+0x1*0x1fb0+-0x30c0]=0x108b*-0x2+0xa7*-0x3b+-0xfb*-0x49-_0x5c683d*_0x2a1eae,_0x3ab954[-0x3d8*0x2+0xbcd*0x3+-0x1b9e]=_0x5a0e44-_0x8a743*_0x5a0e44;let _0x43c715=-0x210d*0x1+0x15*-0x8f+0x2cc9*0x1,_0x1d18d6=-0x866+-0x1f7*-0x10+-0x1709,_0x3410e7=this['_rect'];if(this['_sprite']&&this['_sprite']['frameKeys'][this['_spriteFra'+'me']]&&this['_sprite']['atlas']){const _0x5df662=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];_0x5df662&&(_0x3410e7=_0x5df662['rect'],_0x43c715=this['_sprite']['atlas']['texture']['width'],_0x1d18d6=this['_sprite']['atlas']['texture']['height']);}_0x3ab954[0x185c+0x393+-0x1be9]=(_0x3410e7['x']+_0x3410e7['z'])/_0x43c715,_0x3ab954[-0xa03+-0x1268+-0xb*-0x296]=-0x768+-0x2*-0x506+0xe1*-0x3-_0x3410e7['y']/_0x1d18d6,_0x3ab954[-0xdcd+0x13*0x3e+0x1*0x941]=(_0x3410e7['x']+_0x3410e7['z'])/_0x43c715,_0x3ab954[-0x9f*-0x29+0x1*-0x1633+-0x335]=0x299*0xf+0x1*0x91e+0x44*-0xb5-(_0x3410e7['y']+_0x3410e7['w'])/_0x1d18d6,_0x3ab954[-0x9d+0x104e+0x5*-0x31f]=_0x3410e7['x']/_0x43c715,_0x3ab954[-0x3b*-0x4c+-0xc8d+-0x20*0x27]=0x2*-0x5db+0x1f2a*-0x1+-0x1*-0x2ae1-_0x3410e7['y']/_0x1d18d6,_0x3ab954[-0x1097+0x1*0x233b+-0x1286]=_0x3410e7['x']/_0x43c715,_0x3ab954[0xe01+-0xbce+-0x214]=0x221+0x1586+-0x17a6-(_0x3410e7['y']+_0x3410e7['w'])/_0x1d18d6,_0x1b3683['unlock']();const _0x284d71=new D(0xe7*-0x1+0x15ee*-0x1+-0xa7*-0x23-_0x5c683d*_0x2a1eae,0x26b0+0xc*0x25b+0x14*-0x359-_0x8a743*_0x5a0e44,-0x131e*-0x1+0x30a*-0x2+0x685*-0x2),_0x2ef2f0=new D(_0x2a1eae-_0x5c683d*_0x2a1eae,_0x5a0e44-_0x8a743*_0x5a0e44,-0x125b*0x1+-0x2*0xe05+0x2e65);_0x3c06d1['aabb']['setMinMax'](_0x284d71,_0x2ef2f0),this['_renderabl'+'e']&&(this['_renderabl'+'e']['node']['setLocalSc'+'ale'](-0x4a7+0x1015*0x1+-0xb6d,0x253+-0x2*-0xf61+-0x2114,-0x41*0x23+0x1113+0x5*-0x1a3),this['_renderabl'+'e']['node']['setLocalPo'+'sition'](-0x1c9e+0x20ed+-0x1*0x44f,-0x1423+0xc*-0x50+0x4c7*0x5,0xc*-0x135+0x1c94+-0xe18),this['_renderabl'+'e']['setAabbFun'+'c'](null));}this['_meshDirty']=!(0x10df+-0x7*-0x196+0xb3*-0x28);}['_updateSpr'+'ite'](){let _0x4a5049=!(0x22a9*-0x1+-0x134d+0x35f7),_0x5b74b7=null;if(this['_targetAsp'+'ectRatio']=-(0x1*-0x1f3+0x1c5+-0x1*-0x2f),this['_sprite']&&this['_sprite']['atlas']){_0x5b74b7=this['_sprite']['meshes'][this['spriteFram'+'e']],_0x4a5049=this['_sprite']['renderMode']===Pt||this['_sprite']['renderMode']===Mt;const _0x514522=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];(_0x514522==null?void(-0x3*-0x8cb+-0x18*0xb3+-0x999):_0x514522['rect']['w'])>-0x1f0+-0x4*-0x59f+0x523*-0x4&&(this['_targetAsp'+'ectRatio']=_0x514522['rect']['z']/_0x514522['rect']['w']);}this['mesh']=_0x4a5049?_0x5b74b7:this['_defaultMe'+'sh'],this['refreshMes'+'h']();}['refreshMes'+'h'](){this['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(-0x1704+0x269e+-0x1*0xf9a):this['_updateMes'+'h'](this['mesh']));}['_updateAab'+'b'](_0x13cf3d){return _0x13cf3d['center']['set'](-0x2549*0x1+-0x8ce*-0x1+0x1c7b,0x1bd9+0xf1*0xf+-0x29f8,-0x89*-0x45+0x1b3c+0xe1*-0x49),_0x13cf3d['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(-0x2e8+0x1ee4+0x6ff*-0x4+0.5),this['_outerScal'+'e']['y']*(-0x268+-0xb*0x4e+-0x86*-0xb+0.5),-0x7*-0x4c6+-0x139a+-0xdd0+0.001),_0x13cf3d['setFromTra'+'nsformedAa'+'bb'](_0x13cf3d,this['_renderabl'+'e']['node']['getWorldTr'+'ansform']()),_0x13cf3d;}['_toggleMas'+'k'](){this['_element']['_dirtifyMa'+'sk']();const _0x43cb66=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x43cb66),this['_renderabl'+'e']['setMask'](!!this['_mask']);}['_onMateria'+'lLoad'](_0x10ad0b){this['material']=_0x10ad0b['resource'];}['_onMateria'+'lAdded'](_0xcbeda3){this['_system']['app']['assets']['off']('add:'+_0xcbeda3['id'],this['_onMateria'+'lAdded'],this),this['_materialA'+'sset']===_0xcbeda3['id']&&this['_bindMater'+'ialAsset'](_0xcbeda3);}['_bindMater'+'ialAsset'](_0x4a0359){this['_entity']['enabled']&&(_0x4a0359['on']('load',this['_onMateria'+'lLoad'],this),_0x4a0359['on']('change',this['_onMateria'+'lChange'],this),_0x4a0359['on']('remove',this['_onMateria'+'lRemove'],this),_0x4a0359['resource']?this['_onMateria'+'lLoad'](_0x4a0359):this['_system']['app']['assets']['load'](_0x4a0359));}['_unbindMat'+'erialAsset'](_0x14dad5){_0x14dad5['off']('load',this['_onMateria'+'lLoad'],this),_0x14dad5['off']('change',this['_onMateria'+'lChange'],this),_0x14dad5['off']('remove',this['_onMateria'+'lRemove'],this);}['_onMateria'+'lChange'](){}['_onMateria'+'lRemove'](){}['_onTexture'+'Added'](_0x55cd64){this['_system']['app']['assets']['off']('add:'+_0x55cd64['id'],this['_onTexture'+'Added'],this),this['_textureAs'+'set']===_0x55cd64['id']&&this['_bindTextu'+'reAsset'](_0x55cd64);}['_bindTextu'+'reAsset'](_0x2ba7a1){this['_entity']['enabled']&&(_0x2ba7a1['on']('load',this['_onTexture'+'Load'],this),_0x2ba7a1['on']('change',this['_onTexture'+'Change'],this),_0x2ba7a1['on']('remove',this['_onTexture'+'Remove'],this),_0x2ba7a1['resource']?this['_onTexture'+'Load'](_0x2ba7a1):this['_system']['app']['assets']['load'](_0x2ba7a1));}['_unbindTex'+'tureAsset'](_0x59ce53){_0x59ce53['off']('load',this['_onTexture'+'Load'],this),_0x59ce53['off']('change',this['_onTexture'+'Change'],this),_0x59ce53['off']('remove',this['_onTexture'+'Remove'],this);}['_onTexture'+'Load'](_0x381bd0){this['texture']=_0x381bd0['resource'];}['_onTexture'+'Change'](_0x24794c){}['_onTexture'+'Remove'](_0x37d43b){}['_onSpriteA'+'ssetAdded'](_0x116c53){this['_system']['app']['assets']['off']('add:'+_0x116c53['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x116c53['id']&&this['_bindSprit'+'eAsset'](_0x116c53);}['_bindSprit'+'eAsset'](_0x31a185){this['_entity']['enabled']&&(_0x31a185['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x31a185['on']('change',this['_onSpriteA'+'ssetChange'],this),_0x31a185['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x31a185['resource']?this['_onSpriteA'+'ssetLoad'](_0x31a185):this['_system']['app']['assets']['load'](_0x31a185));}['_unbindSpr'+'iteAsset'](_0x56c4d9){_0x56c4d9['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x56c4d9['off']('change',this['_onSpriteA'+'ssetChange'],this),_0x56c4d9['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x56c4d9['data']['textureAtl'+'asAsset']&&this['_system']['app']['assets']['off']('load:'+_0x56c4d9['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this);}['_onSpriteA'+'ssetLoad'](_0x40e68c){if(!_0x40e68c||!_0x40e68c['resource'])this['sprite']=null;else{if(_0x40e68c['resource']['atlas'])this['sprite']=_0x40e68c['resource'];else{const _0x8af09a=_0x40e68c['data']['textureAtl'+'asAsset'];if(_0x8af09a){const _0x240c15=this['_system']['app']['assets'];_0x240c15['off']('load:'+_0x8af09a,this['_onTexture'+'AtlasLoad'],this),_0x240c15['once']('load:'+_0x8af09a,this['_onTexture'+'AtlasLoad'],this);}}}}['_onSpriteA'+'ssetChange'](_0x4ff5c1){this['_onSpriteA'+'ssetLoad'](_0x4ff5c1);}['_onSpriteA'+'ssetRemove'](_0x4c69ad){}['_bindSprit'+'e'](_0x1fa9dc){this['_evtSetMes'+'hes']=_0x1fa9dc['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),_0x1fa9dc['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x1fa9dc['on']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x1fa9dc['atlas']&&_0x1fa9dc['atlas']['on']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_unbindSpr'+'ite'](_0x16e462){var _0x4ef895;(_0x4ef895=this['_evtSetMes'+'hes'])==null||_0x4ef895['off'](),this['_evtSetMes'+'hes']=null,_0x16e462['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x16e462['off']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x16e462['atlas']&&_0x16e462['atlas']['off']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_onSpriteM'+'eshesChang'+'e'](){this['_sprite']&&(this['_spriteFra'+'me']=Y['clamp'](this['_spriteFra'+'me'],0x1*0x138f+-0x2*-0xdb7+-0x1*0x2efd,this['_sprite']['frameKeys']['length']-(0x1*-0x2627+-0x6*-0x141+0x1ea2))),this['_updateSpr'+'ite']();}['_onSpriteP'+'puChange'](){this['sprite']['renderMode']!==ci&&this['_pixelsPer'+'Unit']===null&&this['_updateSpr'+'ite']();}['_onAtlasTe'+'xtureChang'+'e'](){this['sprite']&&this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'));}['_onTexture'+'AtlasLoad'](_0x2c4a13){const _0x213047=this['_spriteAss'+'et'];_0x213047 instanceof pe?this['_onSpriteA'+'ssetLoad'](_0x213047):this['_onSpriteA'+'ssetLoad'](this['_system']['app']['assets']['get'](_0x213047));}['onEnable'](){if(this['_materialA'+'sset']){const _0x379c17=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);_0x379c17&&_0x379c17['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x379c17);}if(this['_textureAs'+'set']){const _0x44da33=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x44da33&&_0x44da33['resource']!==this['_texture']&&this['_bindTextu'+'reAsset'](_0x44da33);}if(this['_spriteAss'+'et']){const _0x379c90=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x379c90&&_0x379c90['resource']!==this['_sprite']&&this['_bindSprit'+'eAsset'](_0x379c90);}this['_element']['addModelTo'+'Layers'](this['_renderabl'+'e']['model']);}['onDisable'](){this['_element']['removeMode'+'lFromLayer'+'s'](this['_renderabl'+'e']['model']);}['_setStenci'+'l'](_0x37a224){this['_renderabl'+'e']['meshInstan'+'ce']['stencilFro'+'nt']=_0x37a224,this['_renderabl'+'e']['meshInstan'+'ce']['stencilBac'+'k']=_0x37a224;let _0x2c7292=0x1*0xdcb+0x445+-0x908*0x2;if(this['_element']['maskedBy']&&(_0x2c7292=this['_element']['maskedBy']['element']['_image']['_maskRef']),this['_renderabl'+'e']['unmaskMesh'+'Instance']){const _0x30ddb2=new pi({'ref':_0x2c7292+(-0x8af+0x1fda*0x1+-0x172a),'func':dh,'zpass':Bx});this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']=_0x30ddb2,this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k']=_0x30ddb2;}}['_updateRen'+'derableEmi'+'ssive'](){Ec['linear'](this['_color']),this['_colorUnif'+'orm'][0x1520+-0x11dd+-0x343]=Ec['r'],this['_colorUnif'+'orm'][-0x3*0x5d+-0x207+0x31f]=Ec['g'],this['_colorUnif'+'orm'][0x18*-0x192+-0x27*-0x23+-0x5*-0x679]=Ec['b'],this['_renderabl'+'e']['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}set['color'](_0x33efbd){this['_color']===_0x33efbd&&w['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t');const {r:_0x999f96,g:_0x39a507,b:_0xbfcee5}=_0x33efbd;(this['_color']['r']!==_0x999f96||this['_color']['g']!==_0x39a507||this['_color']['b']!==_0xbfcee5)&&(this['_color']['r']=_0x999f96,this['_color']['g']=_0x39a507,this['_color']['b']=_0xbfcee5,this['_updateRen'+'derableEmi'+'ssive']()),this['_element']&&this['_element']['fire']('set:color',this['_color']);}get['color'](){return this['_color'];}set['opacity'](_0x3ab810){_0x3ab810!==this['_color']['a']&&(this['_color']['a']=_0x3ab810,this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',_0x3ab810)),this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x3ab810);}get['opacity'](){return this['_color']['a'];}set['rect'](_0x4e519f){this['_rect']===_0x4e519f&&console['warn']('Setting\x20el'+'ement.rect'+'\x20to\x20itself'+'\x20will\x20have'+'\x20no\x20effect');let _0x509f8f,_0x3ee275,_0x3324ab,_0x5e633e;_0x4e519f instanceof re?(_0x509f8f=_0x4e519f['x'],_0x3ee275=_0x4e519f['y'],_0x3324ab=_0x4e519f['z'],_0x5e633e=_0x4e519f['w']):(_0x509f8f=_0x4e519f[0x1f15+0x215+-0x212a],_0x3ee275=_0x4e519f[-0x11f6+-0x1d09*-0x1+-0x6d*0x1a],_0x3324ab=_0x4e519f[-0x4f*0x2e+0x1d3+0xc61],_0x5e633e=_0x4e519f[0xd47+0x23*0xfb+0x1*-0x2f95]),!(_0x509f8f===this['_rect']['x']&&_0x3ee275===this['_rect']['y']&&_0x3324ab===this['_rect']['z']&&_0x5e633e===this['_rect']['w'])&&(this['_rect']['set'](_0x509f8f,_0x3ee275,_0x3324ab,_0x5e633e),this['_renderabl'+'e']['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0xcdb*0x2+0x6c2+-0x81e*0x4):this['_updateMes'+'h'](this['_renderabl'+'e']['mesh'])));}get['rect'](){return this['_rect'];}['_removeMat'+'erialAsset'+'Events'](){if(this['_materialA'+'sset']){const _0x341c6e=this['_system']['app']['assets'];_0x341c6e['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this);const _0x3f9656=_0x341c6e['get'](this['_materialA'+'sset']);_0x3f9656&&(_0x3f9656['off']('load',this['_onMateria'+'lLoad'],this),_0x3f9656['off']('change',this['_onMateria'+'lChange'],this),_0x3f9656['off']('remove',this['_onMateria'+'lRemove'],this));}}set['material'](_0x3f37d7){if(this['_material']!==_0x3f37d7){if(!_0x3f37d7){const _0x3c0f66=this['_element']['_isScreenS'+'pace']();this['mask']?_0x3f37d7=_0x3c0f66?this['_system']['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']:this['_system']['defaultIma'+'geMaskMate'+'rial']:_0x3f37d7=_0x3c0f66?this['_system']['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']:this['_system']['defaultIma'+'geMaterial'];}if(this['_material']=_0x3f37d7,this['_materialA'+'sset']){const _0x55b2bf=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);(!_0x55b2bf||_0x55b2bf['resource']!==_0x3f37d7)&&(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=null);}_0x3f37d7&&(this['_renderabl'+'e']['setMateria'+'l'](_0x3f37d7),this['_hasUserMa'+'terial']()?(this['_renderabl'+'e']['deletePara'+'meter']('material_o'+'pacity'),this['_renderabl'+'e']['deletePara'+'meter']('material_e'+'missive')):(this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a'])));}}get['material'](){return this['_material'];}set['materialAs'+'set'](_0x1571ed){const _0x4d72d0=this['_system']['app']['assets'];let _0x13d6de=_0x1571ed;if(_0x1571ed instanceof pe&&(_0x13d6de=_0x1571ed['id']),this['_materialA'+'sset']!==_0x13d6de){if(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=_0x13d6de,this['_materialA'+'sset']){const _0x30277c=_0x4d72d0['get'](this['_materialA'+'sset']);_0x30277c?this['_bindMater'+'ialAsset'](_0x30277c):(this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x13d6de,_0x4d72d0['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this));}else this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x13d6de;}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['texture'](_0x542ace){if(this['_texture']!==_0x542ace){if(this['_textureAs'+'set']){const _0x20dd3c=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x20dd3c&&_0x20dd3c['resource']!==_0x542ace&&(this['textureAss'+'et']=null);}if(this['_texture']=_0x542ace,_0x542ace){this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null),this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_texture']),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a']);const _0x38aef4=this['_texture']['width']/this['_texture']['height'];_0x38aef4!==this['_targetAsp'+'ectRatio']&&(this['_targetAsp'+'ectRatio']=_0x38aef4,this['_element']['fitMode']!==th&&this['refreshMes'+'h']());}else this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'),this['_targetAsp'+'ectRatio']=-(-0x1*-0xa25+-0x7*-0x137+-0x12a5),this['_element']['fitMode']!==th&&this['refreshMes'+'h']();}}get['texture'](){return this['_texture'];}set['textureAss'+'et'](_0x56708f){const _0x21a0c2=this['_system']['app']['assets'];let _0x3d909d=_0x56708f;if(_0x56708f instanceof pe&&(_0x3d909d=_0x56708f['id']),this['_textureAs'+'set']!==_0x3d909d){if(this['_textureAs'+'set']){_0x21a0c2['off']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this);const _0x518027=_0x21a0c2['get'](this['_textureAs'+'set']);_0x518027&&(_0x518027['off']('load',this['_onTexture'+'Load'],this),_0x518027['off']('change',this['_onTexture'+'Change'],this),_0x518027['off']('remove',this['_onTexture'+'Remove'],this));}if(this['_textureAs'+'set']=_0x3d909d,this['_textureAs'+'set']){const _0x458467=_0x21a0c2['get'](this['_textureAs'+'set']);_0x458467?this['_bindTextu'+'reAsset'](_0x458467):(this['texture']=null,_0x21a0c2['on']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this));}else this['texture']=null;}}get['textureAss'+'et'](){return this['_textureAs'+'set'];}set['spriteAsse'+'t'](_0xc80b10){const _0x17ec5c=this['_system']['app']['assets'];let _0x1717c4=_0xc80b10;if(_0xc80b10 instanceof pe&&(_0x1717c4=_0xc80b10['id']),this['_spriteAss'+'et']!==_0x1717c4){if(this['_spriteAss'+'et']){_0x17ec5c['off']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this);const _0x3e6a32=_0x17ec5c['get'](this['_spriteAss'+'et']);_0x3e6a32&&this['_unbindSpr'+'iteAsset'](_0x3e6a32);}if(this['_spriteAss'+'et']=_0x1717c4,this['_spriteAss'+'et']){const _0x11080c=_0x17ec5c['get'](this['_spriteAss'+'et']);_0x11080c?this['_bindSprit'+'eAsset'](_0x11080c):(this['sprite']=null,_0x17ec5c['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}this['_element']&&this['_element']['fire']('set:sprite'+'Asset',_0x1717c4);}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['sprite'](_0x55298d){if(this['_sprite']!==_0x55298d){if(this['_sprite']&&this['_unbindSpr'+'ite'](this['_sprite']),this['_spriteAss'+'et']){const _0x267180=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x267180&&_0x267180['resource']!==_0x55298d&&(this['spriteAsse'+'t']=null);}this['_sprite']=_0x55298d,this['_sprite']&&(this['_bindSprit'+'e'](this['_sprite']),this['_textureAs'+'set']&&(this['textureAss'+'et']=null)),this['_sprite']&&this['_sprite']['atlas']&&this['_sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap')),this['_sprite']&&(this['_spriteFra'+'me']=Y['clamp'](this['_spriteFra'+'me'],-0x20b1+0xbf3+0x213*0xa,this['_sprite']['frameKeys']['length']-(-0x16ad*-0x1+-0xa31+-0x9*0x163))),this['_updateSpr'+'ite']();}}get['sprite'](){return this['_sprite'];}set['spriteFram'+'e'](_0x481cb3){const _0x5f385d=this['_spriteFra'+'me'];this['_sprite']?this['_spriteFra'+'me']=Y['clamp'](_0x481cb3,0x2082+-0x1*-0x73d+-0x39d*0xb,this['_sprite']['frameKeys']['length']-(0x32e*0xb+0xd33+-0x302c)):this['_spriteFra'+'me']=_0x481cb3,this['_spriteFra'+'me']!==_0x5f385d&&this['_updateSpr'+'ite'](),this['_element']&&this['_element']['fire']('set:sprite'+'Frame',_0x481cb3);}get['spriteFram'+'e'](){return this['_spriteFra'+'me'];}set['mesh'](_0x15836e){this['_renderabl'+'e']['setMesh'](_0x15836e),this['_defaultMe'+'sh']===_0x15836e?this['_renderabl'+'e']['setAabbFun'+'c'](null):this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']);}get['mesh'](){return this['_renderabl'+'e']['mesh'];}set['mask'](_0x763d23){this['_mask']!==_0x763d23&&(this['_mask']=_0x763d23,this['_toggleMas'+'k']());}get['mask'](){return this['_mask'];}set['pixelsPerU'+'nit'](_0x4de871){this['_pixelsPer'+'Unit']!==_0x4de871&&(this['_pixelsPer'+'Unit']=_0x4de871,this['_sprite']&&(this['_sprite']['renderMode']===Pt||this['_sprite']['renderMode']===Mt)&&this['_updateSpr'+'ite']());}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}get['aabb'](){return this['_renderabl'+'e']['meshInstan'+'ce']?this['_renderabl'+'e']['meshInstan'+'ce']['aabb']:null;}}class hR extends me{constructor(_0x3aca45){super(),this['_app']=_0x3aca45,_0x3aca45['i18n']['on'](wa['EVENT_CHAN'+'GE'],this['_onSetLoca'+'le'],this),this['_autoLoad']=!(-0x1d*0xd1+0xb25+0x1*0xc89),this['_disableLo'+'calization']=!(-0x30b*-0xb+0x21ec+0x38c*-0x13),this['_defaultAs'+'set']=null,this['_localized'+'Asset']=null;}set['defaultAss'+'et'](_0x1811d0){const _0x2970b4=_0x1811d0 instanceof pe?_0x1811d0['id']:_0x1811d0;this['_defaultAs'+'set']!==_0x2970b4&&(this['_defaultAs'+'set']&&this['_unbindDef'+'aultAsset'](),this['_defaultAs'+'set']=_0x2970b4,this['_defaultAs'+'set']&&this['_bindDefau'+'ltAsset'](),this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['defaultAss'+'et'](){return this['_defaultAs'+'set'];}set['localizedA'+'sset'](_0x10ac3c){const _0x4cb21b=_0x10ac3c instanceof pe?_0x10ac3c['id']:_0x10ac3c;this['_localized'+'Asset']!==_0x4cb21b&&(this['_localized'+'Asset']&&(this['_app']['assets']['off']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this),this['_unbindLoc'+'alizedAsse'+'t']()),this['_localized'+'Asset']=_0x4cb21b,this['_localized'+'Asset']&&(this['_app']['assets']['get'](this['_localized'+'Asset'])?this['_bindLocal'+'izedAsset']():this['_app']['assets']['once']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this)));}get['localizedA'+'sset'](){return this['_localized'+'Asset'];}set['autoLoad'](_0x450ba1){this['_autoLoad']!==_0x450ba1&&(this['_autoLoad']=_0x450ba1,this['_autoLoad']&&this['_localized'+'Asset']&&(this['_unbindLoc'+'alizedAsse'+'t'](),this['_bindLocal'+'izedAsset']()));}get['autoLoad'](){return this['_autoLoad'];}set['disableLoc'+'alization'](_0x194a2f){this['_disableLo'+'calization']!==_0x194a2f&&(this['_disableLo'+'calization']=_0x194a2f,this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['disableLoc'+'alization'](){return this['_disableLo'+'calization'];}['_bindDefau'+'ltAsset'](){const _0x333abd=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x333abd?this['_onDefault'+'AssetAdd'](_0x333abd):this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);}['_unbindDef'+'aultAsset'](){if(!this['_defaultAs'+'set'])return;this['_app']['assets']['off']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);const _0x1a901b=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x1a901b&&(_0x1a901b['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x1a901b['off']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x1a901b['off']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetAdd'](_0x239a36){this['_defaultAs'+'set']===_0x239a36['id']&&(_0x239a36['on']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x239a36['on']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x239a36['once']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetRemov'+'e'](_0x54f53f){this['_defaultAs'+'set']===_0x54f53f['id']&&(_0x54f53f['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x54f53f['off']('remove:loc'+'alized',this['_onLocaleA'+'dd'],this),this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this));}['_bindLocal'+'izedAsset'](){if(!this['_autoLoad'])return;const _0x57ce58=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x57ce58&&(_0x57ce58['on']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x57ce58['on']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x57ce58['on']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this),_0x57ce58['resource']?this['_onLocaliz'+'edAssetLoa'+'d'](_0x57ce58):this['_app']['assets']['load'](_0x57ce58));}['_unbindLoc'+'alizedAsse'+'t'](){const _0x471a98=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x471a98&&(_0x471a98['off']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x471a98['off']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x471a98['off']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this));}['_onLocaliz'+'edAssetAdd'](_0x1bd053){this['_localized'+'Asset']===_0x1bd053['id']&&this['_bindLocal'+'izedAsset']();}['_onLocaliz'+'edAssetLoa'+'d'](_0x179c43){this['fire']('load',_0x179c43);}['_onLocaliz'+'edAssetCha'+'nge'](_0x27c35c,_0x595f76,_0x572be5,_0x969ecd){this['fire']('change',_0x27c35c,_0x595f76,_0x572be5,_0x969ecd);}['_onLocaliz'+'edAssetRem'+'ove'](_0x3851d0){this['_localized'+'Asset']===_0x3851d0['id']&&(this['localizedA'+'sset']=this['_defaultAs'+'set']),this['fire']('remove',_0x3851d0);}['_onLocaleA'+'dd'](_0x35714c,_0x411fea){this['_app']['i18n']['locale']===_0x35714c&&this['_onSetLoca'+'le'](_0x35714c);}['_onLocaleR'+'emove'](_0x2972c3,_0x5c3ef6){this['_app']['i18n']['locale']===_0x2972c3&&this['_onSetLoca'+'le'](_0x2972c3);}['_onSetLoca'+'le'](_0x4ff6c6){if(!this['_defaultAs'+'set']){this['localizedA'+'sset']=null;return;}const _0x18689e=this['_app']['assets']['get'](this['_defaultAs'+'set']);if(!_0x18689e||this['_disableLo'+'calization']){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}const _0x301f0=_0x18689e['getLocaliz'+'edAssetId'](_0x4ff6c6);if(!_0x301f0){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}this['localizedA'+'sset']=_0x301f0;}['destroy'](){this['defaultAss'+'et']=null,this['_app']['i18n']['off'](wa['EVENT_CHAN'+'GE'],this['_onSetLoca'+'le'],this),this['off']();}}const Rh='msdf',dR='bitmap',Mo=-0x1*-0x20bf+-0x24f9+0x43a,an=0x410+0x261+-0x670,Du=0x2606+-0x13d1+-0x1233,Zv=0x665*-0x5+0x153c+-0x8*-0x158,Iu=-0x1*-0x9e+-0x16*0x2d+-0x16*-0x26,Lu=0x1688+-0x1621+0xe*-0x7,Ru=-0x1*-0x272+0x12e5+-0x1551,Ou=0x4*0x5fb+-0x1f01+0x71c,Xg=-0x2a9*-0x2+-0xda*0x25+0x1a38,fR='\x20\x09\x0a\x0d\x0b\x0c',uR=/[\w|/]/;class pR{constructor(_0x313293){this['_symbols']=_0x313293,this['_index']=0x35*-0x5e+0x25f1+-0x1*0x127b,this['_last']=-0x1c41+-0x10f*-0xb+0x109c*0x1,this['_cur']=this['_symbols']['length']>0x1495+0x23e5+0x2*-0x1c3d?this['_symbols'][0xa17+0x1262+0x25*-0xc5]:null,this['_buf']=[],this['_mode']='text',this['_error']=null;}['read'](){let _0x328bb2=this['_read']();for(;_0x328bb2===Xg;)_0x328bb2=this['_read']();return _0x328bb2!==Mo&&_0x328bb2!==an&&(this['_last']=this['_index']),_0x328bb2;}['buf'](){return this['_buf'];}['last'](){return this['_last'];}['error'](){return this['_error'];}['debugPrint'](){const _0x24c1f4=['EOF','ERROR','TEXT','OPEN_BRACK'+'ET','CLOSE_BRAC'+'KET','EQUALS','STRING','IDENTIFIER','WHITESPACE'];let _0x8713cb=this['read'](),_0x2e8b1d='';for(;_0x2e8b1d+=(_0x2e8b1d['length']>0x1764+-0xea9+-0x8bb?'\x0a':'')+_0x24c1f4[_0x8713cb]+'\x20\x27'+this['buf']()['join']('')+'\x27',!(_0x8713cb===Mo||_0x8713cb===an);)_0x8713cb=this['read']();return _0x2e8b1d;}['_read'](){return this['_buf']=[],this['_eof']()?Mo:this['_mode']==='text'?this['_text']():this['_tag']();}['_text'](){for(;;)switch(this['_cur']){case null:return this['_buf']['length']>0x1*-0x11c5+-0x21a0+0x3365?Du:Mo;case'[':return this['_mode']='tag',this['_buf']['length']>-0x29c+-0xd67+0x1003?Du:this['_tag']();case'\x5c':switch(this['_next'](),this['_cur']){case'[':this['_store']();break;default:this['_output']('\x5c');break;}break;default:this['_store']();break;}}['_tag'](){switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20tag',an;case'[':return this['_store'](),Zv;case']':return this['_store'](),this['_mode']='text',Iu;case'=':return this['_store'](),Lu;case'\x20':case'\x09':case'\x0a':case'\x0d':case'\x0b':case'\x0c':return this['_whitespac'+'e']();case'\x22':return this['_string']();default:return this['_isIdentif'+'ierSymbol'](this['_cur'])?this['_identifie'+'r']():(this['_error']='unrecogniz'+'ed\x20charact'+'er',an);}}['_whitespac'+'e'](){for(this['_store']();fR['indexOf'](this['_cur'])!==-(0x1*0x132f+0x1698+-0x1*0x29c6);)this['_store']();return Xg;}['_string'](){for(this['_next']();;)switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20string',an;case'\x22':return this['_next'](),Ru;default:this['_store']();break;}}['_identifie'+'r'](){for(this['_store']();this['_cur']!==null&&this['_isIdentif'+'ierSymbol'](this['_cur']);)this['_store']();return Ou;}['_isIdentif'+'ierSymbol'](_0x554b37){return _0x554b37['length']===0x62f+-0xf10+0x6*0x17b&&_0x554b37['match'](uR)!==null;}['_eof'](){return this['_cur']===null;}['_next'](){return this['_eof']()||(this['_index']++,this['_cur']=this['_index']<this['_symbols']['length']?this['_symbols'][this['_index']]:null),this['_cur'];}['_store'](){return this['_buf']['push'](this['_cur']),this['_next']();}['_output'](_0x44b10a){this['_buf']['push'](_0x44b10a);}}class mR{constructor(_0x49e716){this['_scanner']=new pR(_0x49e716),this['_error']=null;}['parse'](_0x17b34b,_0x3d839b){for(;;)switch(this['_scanner']['read']()){case Mo:return!(-0x1e83*0x1+-0x16a*0x8+0x29d3);case an:return!(0x142a+0x191a+0x2d43*-0x1);case Du:Array['prototype']['push']['apply'](_0x17b34b,this['_scanner']['buf']());break;case Zv:if(!this['_parseTag'](_0x17b34b,_0x3d839b))return!(0xb59+0xf92*0x1+-0x1aea);break;default:return!(0x29*0xa4+0xd*-0x12+0x135*-0x15);}}['error'](){return'Error\x20eval'+'uating\x20mar'+'kup\x20at\x20#'+this['_scanner']['last']()['toString']()+'\x20('+(this['_scanner']['error']()||this['_error'])+')';}['_parseTag'](_0x2086b5,_0x377c5b){let _0x480856=this['_scanner']['read']();if(_0x480856!==Ou)return this['_error']='expected\x20i'+'dentifier',!(0x142f+-0x4a1+-0xf8d);const _0x4e2bb8=this['_scanner']['buf']()['join']('');if(_0x4e2bb8[0x1*0xb0a+-0x83d+-0x2cd]==='/'){for(let _0x2a84bc=_0x377c5b['length']-(-0x2d2+0xf79+-0xca6);_0x2a84bc>=-0x64*-0x5e+0x2*-0x58c+-0x52*0x50;--_0x2a84bc)if(_0x4e2bb8==='/'+_0x377c5b[_0x2a84bc]['name']&&_0x377c5b[_0x2a84bc]['end']===null)return _0x377c5b[_0x2a84bc]['end']=_0x2086b5['length'],_0x480856=this['_scanner']['read'](),_0x480856!==Iu?(this['_error']='expected\x20c'+'lose\x20brack'+'et',!(0x1*-0x1b1+-0x1018+0x11ca)):!(-0x8f5*0x4+-0x1a52+0x3e26);return this['_error']='failed\x20to\x20'+'find\x20match'+'ing\x20tag',!(0x12ef*-0x2+-0x17*-0xee+0x107d);}const _0x4a34ff={'name':_0x4e2bb8,'value':null,'attributes':{},'start':_0x2086b5['length'],'end':null};if(_0x480856=this['_scanner']['read'](),_0x480856===Lu){if(_0x480856=this['_scanner']['read'](),_0x480856!==Ru)return this['_error']='expected\x20s'+'tring',!(0xbf6+0xba1+-0x1796*0x1);_0x4a34ff['value']=this['_scanner']['buf']()['join'](''),_0x480856=this['_scanner']['read']();}for(;;){switch(_0x480856){case Iu:return _0x377c5b['push'](_0x4a34ff),!(-0x2*-0x12dc+-0x9*0x28a+-0xede);case Ou:{const _0x3b72ef=this['_scanner']['buf']()['join']('');if(_0x480856=this['_scanner']['read'](),_0x480856!==Lu)return this['_error']='expected\x20e'+'quals',!(0x41c*0x1+-0x5ed+0x1d2);if(_0x480856=this['_scanner']['read'](),_0x480856!==Ru)return this['_error']='expected\x20s'+'tring',!(0x1c49*-0x1+0x1*0xdff+0x1*0xe4b);const _0x2e74c9=this['_scanner']['buf']()['join']('');_0x4a34ff['attributes'][_0x3b72ef]=_0x2e74c9;break;}default:return this['_error']='expected\x20c'+'lose\x20brack'+'et\x20or\x20iden'+'tifier',!(-0x219a+-0x6aa+0x2845);}_0x480856=this['_scanner']['read']();}}}function Qv(_0xae19b,_0x916250){for(const _0x598a31 in _0x916250){if(!_0x916250['hasOwnProp'+'erty'](_0x598a31))continue;const _0x15af21=_0x916250[_0x598a31];_0x15af21 instanceof Object?(_0xae19b['hasOwnProp'+'erty'](_0x598a31)||(_0xae19b[_0x598a31]={}),Qv(_0xae19b[_0x598a31],_0x916250[_0x598a31])):_0xae19b[_0x598a31]=_0x15af21;}}function _R(_0x5846f3){if(_0x5846f3['length']===0x1ce4+-0xf10*0x1+-0xdd4)return null;const _0x372b79={};for(let _0x28ad5f=-0x6*0x33c+-0x247d*0x1+0x37e5;_0x28ad5f<_0x5846f3['length'];++_0x28ad5f){const _0x48857a=_0x5846f3[_0x28ad5f],_0x38560e={};_0x38560e[_0x48857a['name']]={'value':_0x48857a['value'],'attributes':_0x48857a['attributes']},Qv(_0x372b79,_0x38560e);}return _0x372b79;}function gR(_0x4743bd,_0xcaa739){if(_0x4743bd['length']===0x21*-0x115+0x14d1+-0x2*-0x772)return null;const _0xc7a6c9={};for(let _0x423f53=0x13ac+-0x1980+-0x2ea*-0x2;_0x423f53<_0x4743bd['length'];++_0x423f53){const _0x2f5e65=_0x4743bd[_0x423f53];_0xc7a6c9['hasOwnProp'+'erty'](_0x2f5e65['start'])?_0xc7a6c9[_0x2f5e65['start']]['open']===null?_0xc7a6c9[_0x2f5e65['start']]['open']=[_0x2f5e65]:_0xc7a6c9[_0x2f5e65['start']]['open']['push'](_0x2f5e65):_0xc7a6c9[_0x2f5e65['start']]={'open':[_0x2f5e65],'close':null},_0xc7a6c9['hasOwnProp'+'erty'](_0x2f5e65['end'])?_0xc7a6c9[_0x2f5e65['end']]['close']===null?_0xc7a6c9[_0x2f5e65['end']]['close']=[_0x2f5e65]:_0xc7a6c9[_0x2f5e65['end']]['close']['push'](_0x2f5e65):_0xc7a6c9[_0x2f5e65['end']]={'open':null,'close':[_0x2f5e65]};}let _0x5404ed=[];function _0x5599f0(_0x1dcef9){_0x5404ed=_0x5404ed['filter'](_0x14e195=>_0x1dcef9['find'](_0xafa2e7=>_0xafa2e7===_0x14e195)===void(-0x26c1*0x1+-0xb4+0x2775));}function _0x4b7889(_0x5b088a){for(let _0x4bd3d6=0x2458+-0xc82*0x1+-0x17d6;_0x4bd3d6<_0x5b088a['length'];++_0x4bd3d6)_0x5404ed['push'](_0x5b088a[_0x4bd3d6]);}const _0x2dede6=Object['keys'](_0xc7a6c9)['sort']((_0x1d130d,_0x191a80)=>_0x1d130d-_0x191a80),_0x432b36=[];for(let _0x3f7ac5=-0x433*0x9+0xc01+0x19ca;_0x3f7ac5<_0x2dede6['length'];++_0x3f7ac5){const _0x2244f7=_0xc7a6c9[_0x2dede6[_0x3f7ac5]];_0x2244f7['close']!==null&&_0x5599f0(_0x2244f7['close']),_0x2244f7['open']!==null&&_0x4b7889(_0x2244f7['open']),_0x432b36['push']({'start':_0x2dede6[_0x3f7ac5],'tags':_R(_0x5404ed)});}const _0x238026=[];let _0x179468=null;for(let _0x54d15b=-0x1222+0x1629+-0x407;_0x54d15b<_0x432b36['length'];++_0x54d15b){const _0x464703=_0x432b36[_0x54d15b];for(;_0x238026['length']<_0x464703['start'];)_0x238026['push'](_0x179468?_0x179468['tags']:null);_0x179468=_0x464703;}for(;_0x238026['length']<_0xcaa739;)_0x238026['push'](null);return _0x238026;}function SR(_0x408525){const _0x1fb2e7=new mR(_0x408525),_0x60aeb6=[],_0x559bb1=[];if(!_0x1fb2e7['parse'](_0x60aeb6,_0x559bb1))return console['warn'](_0x1fb2e7['error']()),{'symbols':_0x408525,'tags':null};const _0x5642df=_0x559bb1['find'](_0x1d9036=>_0x1d9036['end']===null);if(_0x5642df)return console['warn']('Markup\x20err'+'or:\x20found\x20'+'unclosed\x20t'+'ag=\x27'+_0x5642df['name']+'\x27'),{'symbols':_0x408525,'tags':null};const _0x4280e2=gR(_0x559bb1,_0x60aeb6['length']);return{'symbols':_0x60aeb6,'tags':_0x4280e2};}class yR{static['evaluate'](_0x1fc51e){return SR(_0x1fc51e);}}class vR{constructor(){this['count']=-0x45f+0x1038+-0xbd9,this['quad']=0xa69*-0x1+0x6d0+0x399*0x1,this['lines']={},this['positions']=[],this['normals']=[],this['uvs']=[],this['colors']=[],this['indices']=[],this['outlines']=[],this['shadows']=[],this['meshInstan'+'ce']=null;}}function xR(_0x1f78b1,_0x405ee4){const _0x13020a=new Ge(_0x1f78b1);return _0x13020a['setPositio'+'ns'](_0x405ee4['positions']),_0x13020a['setNormals'](_0x405ee4['normals']),_0x13020a['setColors3'+'2'](_0x405ee4['colors']),_0x13020a['setUvs'](0x2*-0xbfb+-0x2439+0x1f1*0x1f,_0x405ee4['uvs']),_0x13020a['setIndices'](_0x405ee4['indices']),_0x13020a['setVertexS'+'tream'](Ko,_0x405ee4['outlines'],0x1955*0x1+0x1548+-0x2e9a,void(0xc8*0x2b+0x5*-0x1cd+-0x1897),Ve,!(0x955*0x4+-0x1*0x7f1+0x1*-0x1d62)),_0x13020a['setVertexS'+'tream'](Zo,_0x405ee4['shadows'],-0xb*0xd7+0x15e6+0x2*-0x653,void(0x161c+-0x24*0xf9+0xce8),Ve,!(0x1*0xa6b+-0x1*0x194f+-0x5d*-0x29)),_0x13020a['update'](),_0x13020a;}const qg=/^[\r\n]$/,TR=/^[ \t]$/,jg=/^[ \t\-]|\u200b$/,wR=/^[a-z0-9]$/i,Yg=/^[\u1100-\u11ff]|[\u3000-\u9fff\ua960-\ua97f]|[\uac00-\ud7ff]$/,ER=/^[]$/,bR=['','','','','','','','','','','','',''],AR={'width':0x0,'height':0x0,'xadvance':0x0,'xoffset':0x0,'yoffset':0x0},Kg=new ie(),CR=new J(),We=new ie();class PR{constructor(_0x5db6e2){this['_element']=_0x5db6e2,this['_system']=_0x5db6e2['system'],this['_entity']=_0x5db6e2['entity'],this['_text']='',this['_symbols']=[],this['_colorPale'+'tte']=[],this['_outlinePa'+'lette']=[],this['_shadowPal'+'ette']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null,this['_i18nKey']=null,this['_fontAsset']=new hR(this['_system']['app']),this['_fontAsset']['disableLoc'+'alization']=!(0x39*-0x7f+0x2022*0x1+-0x3db),this['_fontAsset']['on']('load',this['_onFontLoa'+'d'],this),this['_fontAsset']['on']('change',this['_onFontCha'+'nge'],this),this['_fontAsset']['on']('remove',this['_onFontRem'+'ove'],this),this['_font']=null,this['_color']=new ie(0xa20+-0x1*0x2421+-0x1*-0x1a02,0x26d+0x2526+-0x3f5*0xa,0x4*0x77b+-0xa3e+-0x13ad,0xe6f+-0x4f*0x59+0xd09),this['_colorUnif'+'orm']=new Float32Array(0x239b+0x59*0x67+-0x2a5*0x1b),this['_spacing']=0x234b+0x1*-0x72b+-0x1c1f,this['_fontSize']=-0x355+0x1f68+-0x5*0x597,this['_fontMinY']=-0x1*0x5cf+-0x3*0x823+-0x3c7*-0x8,this['_fontMaxY']=0xe5*0x11+-0xca+-0xe6b,this['_originalF'+'ontSize']=-0x21*0x4b+0x2dc+-0x1*-0x6ef,this['_maxFontSi'+'ze']=-0x2093+-0xc8f*-0x1+0x1424,this['_minFontSi'+'ze']=0x1*-0x1da1+-0x43*0x95+-0x548*-0xd,this['_autoFitWi'+'dth']=!(0x132d+0xbaa+-0x1ed6),this['_autoFitHe'+'ight']=!(0x1*-0x230b+-0x175+0xc2b*0x3),this['_maxLines']=-(-0x84e*-0x2+-0x35*0x6d+0x5f6),this['_lineHeigh'+'t']=0x4ff*0x7+0x17*-0x10f+-0xa80,this['_scaledLin'+'eHeight']=-0x1957+-0x1903+0x327a,this['_wrapLines']=!(0xdd+-0xc11*0x1+0xb35),this['_drawOrder']=0x3*0xa63+0x2380+-0x42a9,this['_alignment']=new J(0x204e+0xdea*0x1+-0x2e38+0.5,-0x27*0x65+-0x265*0x5+-0x67*-0x44+0.5),this['_autoWidth']=!(0x2076+0xee*-0x1c+-0x66e),this['_autoHeigh'+'t']=!(-0x1*-0x718+0x1*0x2635+-0x2d4d),this['width']=0xb*-0x25f+0x1051+0x9c4,this['height']=0x1738+-0x11*0x219+0xc71,this['_node']=new Ie(),this['_model']=new sr(),this['_model']['graph']=this['_node'],this['_entity']['addChild'](this['_node']),this['_meshInfo']=[],this['_material']=null,this['_aabbDirty']=!(-0x7d0+0x4*0x705+-0x1444),this['_aabb']=new De(),this['_noResize']=!(-0x1106+0xfcb*0x1+0x13c),this['_currentMa'+'terialType']=null,this['_maskedMat'+'erialSrc']=null,this['_rtlReorde'+'r']=!(-0xc98+-0x5ea+0x1*0x1283),this['_unicodeCo'+'nverter']=!(-0x2162+-0x1c01+-0x1*-0x3d64),this['_rtl']=!(-0x98b+-0xdcd+0x1*0x1759),this['_outlineCo'+'lor']=new ie(-0x1087+0x14db*0x1+-0x454,-0x1fa7+-0x20d7+0x4f6*0xd,0x1ad8+0x67*0x16+-0x3*0xbe6,0x705*0x2+0x2*0x193+-0x112f),this['_outlineCo'+'lorUniform']=new Float32Array(0x1*0x7bf+0x26e9+-0x1e*0x18e),this['_outlineTh'+'icknessSca'+'le']=0xa*-0x9e+-0x1866+0xf49*0x2+0.2,this['_outlineTh'+'ickness']=-0x57*-0x2e+0x9a+-0x103c,this['_shadowCol'+'or']=new ie(-0x832+-0x7f*0x38+0x133*0x1e,-0x7*0x133+0x1*-0xa7e+0x5*0x3c7,-0x2203*-0x1+0x4ad*0x1+-0x26b0,-0x22f8+0xbfe+-0x7a9*-0x3),this['_shadowCol'+'orUniform']=new Float32Array(-0x71d*-0x3+-0x27b*-0x9+-0x2ba6*0x1),this['_shadowOff'+'setScale']=0xa*0x2ab+-0x7ad*0x4+0x406+0.005,this['_shadowOff'+'set']=new J(-0x5*0x33b+-0x1b2f+0x15ab*0x2,0xec6+-0x1aa5+-0xbdf*-0x1),this['_shadowOff'+'setUniform']=new Float32Array(0x1aec+0x1*0x9e7+-0x24d1),this['_enableMar'+'kup']=!(0x7*-0x3ec+0x4e8*-0x2+-0x553*-0x7),this['_onScreenC'+'hange'](this['_element']['screen']),_0x5db6e2['on']('resize',this['_onParentR'+'esize'],this),_0x5db6e2['on']('set:screen',this['_onScreenC'+'hange'],this),_0x5db6e2['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),_0x5db6e2['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),_0x5db6e2['on']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['on'](wa['EVENT_CHAN'+'GE'],this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['on']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['on']('data:remov'+'e',this['_onLocaliz'+'ationData'],this),this['_rangeStar'+'t']=-0x230d+-0x1*-0x674+0x1c99,this['_rangeEnd']=0x1*0x123a+-0xa*-0x36a+-0x345e;}['destroy'](){this['_setMateri'+'al'](null),this['_model']&&(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),this['_model']['destroy'](),this['_model']=null),this['_fontAsset']['destroy'](),this['font']=null,this['_element']['off']('resize',this['_onParentR'+'esize'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['off'](wa['EVENT_CHAN'+'GE'],this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['off']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['off']('data:remov'+'e',this['_onLocaliz'+'ationData'],this);}['_onParentR'+'esize'](_0x329349,_0x67fdae){this['_noResize']||this['_font']&&this['_updateTex'+'t']();}['_onScreenC'+'hange'](_0x2d77c6){_0x2d77c6?this['_updateMat'+'erial'](_0x2d77c6['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(0x2b*0x3d+0x17c5+-0x2203*0x1));}['_onScreenS'+'paceChange'](_0x2632d8){this['_updateMat'+'erial'](_0x2632d8);}['_onDrawOrd'+'erChange'](_0x255c79){if(this['_drawOrder']=_0x255c79,this['_model']){for(let _0x2f7c5a=-0x3f4+-0x1a87+0x1e7b,_0x59d56c=this['_model']['meshInstan'+'ces']['length'];_0x2f7c5a<_0x59d56c;_0x2f7c5a++)this['_model']['meshInstan'+'ces'][_0x2f7c5a]['drawOrder']=_0x255c79;}}['_onPivotCh'+'ange'](_0x1ebb64){this['_font']&&this['_updateTex'+'t']();}['_onLocaleS'+'et'](_0xfb78){if(this['_i18nKey']){if(this['fontAsset']){const _0x2d9a64=this['_system']['app']['assets']['get'](this['fontAsset']);(!_0x2d9a64||!_0x2d9a64['resource']||_0x2d9a64['resource']!==this['_font'])&&(this['font']=null);}this['_resetLoca'+'lizedText']();}}['_onLocaliz'+'ationData'](_0x5c83fc,_0x4ddf37){this['_i18nKey']&&_0x4ddf37[this['_i18nKey']]&&this['_resetLoca'+'lizedText']();}['_resetLoca'+'lizedText'](){this['_setText'](this['_system']['app']['i18n']['getText'](this['_i18nKey']));}['_setText'](_0x597988){if(this['unicodeCon'+'verter']){const _0x220479=this['_system']['getUnicode'+'Converter']();_0x220479?_0x597988=_0x220479(_0x597988):console['warn']('Element\x20cr'+'eated\x20with'+'\x20unicodeCo'+'nverter\x20op'+'tion\x20but\x20n'+'o\x20unicodeC'+'onverter\x20f'+'unction\x20re'+'gistered');}this['_text']!==_0x597988&&(this['_font']&&this['_updateTex'+'t'](_0x597988),this['_text']=_0x597988);}['_updateTex'+'t'](_0x5f01da){let _0x1304d0;if(_0x5f01da===void(0x577+-0x15c2+0x104b)&&(_0x5f01da=this['_text']),this['_symbols']=Hc['getSymbols'](_0x5f01da['normalize']?_0x5f01da['normalize']('NFC'):_0x5f01da),this['_symbols']['length']===0x7*0x19f+-0x23dd+0x1884&&(this['_symbols']=['\x20']),this['_enableMar'+'kup']){const _0x2694ff=yR['evaluate'](this['_symbols']);this['_symbols']=_0x2694ff['symbols'],_0x1304d0=_0x2694ff['tags']||[];}if(this['_rtlReorde'+'r']){const _0x2026d2=this['_system']['app']['systems']['element']['getRtlReor'+'der']();if(_0x2026d2){const _0x8731fd=_0x2026d2(this['_symbols']);this['_rtl']=_0x8731fd['rtl'],this['_symbols']=_0x8731fd['mapping']['map'](function(_0x1b2bc3){return this['_symbols'][_0x1b2bc3];},this),_0x1304d0&&(_0x1304d0=_0x8731fd['mapping']['map'](_0x30e5eb=>_0x1304d0[_0x30e5eb]));}else console['warn']('Element\x20cr'+'eated\x20with'+'\x20rtlReorde'+'r\x20option\x20b'+'ut\x20no\x20rtlR'+'eorder\x20fun'+'ction\x20regi'+'stered');}else this['_rtl']=!(-0x1385+0x1*0x4dd+0xea9*0x1);const _0x34e810=(_0x4f703f,_0x397370)=>_0x4f703f['toString'](!(-0x1637+-0x11c5+0x27fc))['toLowerCas'+'e']()+':'+_0x397370['toFixed'](-0x28*0x49+0x2012+-0x14a8),_0x2401f4=(_0x1a4114,_0x30bbd1)=>_0x1a4114['toString'](!(-0x6*0x41f+0x1*0x257d+-0xcc3))['toLowerCas'+'e']()+':'+_0x30bbd1['x']['toFixed'](0xa*0xbf+0x517*0x1+-0xc8b)+':'+_0x30bbd1['y']['toFixed'](0xa*-0x22c+0xb0c+0x1*0xaae);if(_0x1304d0){const _0x455344={},_0xe420bc={},_0x1c0ae6={};this['_colorPale'+'tte']=[Math['round'](this['_color']['r']*(-0x12e5+-0x1133+0x2517*0x1)),Math['round'](this['_color']['g']*(-0x2023*0x1+-0x1592+0x36b4)),Math['round'](this['_color']['b']*(-0x5*0x304+-0x10d7+-0x1075*-0x2))],this['_outlinePa'+'lette']=[Math['round'](this['_outlineCo'+'lor']['r']*(-0x2429+0x1d*0x61+0x1a2b)),Math['round'](this['_outlineCo'+'lor']['g']*(-0x1a11*-0x1+0xab7*-0x1+0x1*-0xe5b)),Math['round'](this['_outlineCo'+'lor']['b']*(0x8ad+0x7*-0x45f+0x16eb*0x1)),Math['round'](this['_outlineCo'+'lor']['a']*(0x2126+0x20cd+-0x40f4)),Math['round'](this['_outlineTh'+'ickness']*(-0x1861*0x1+0x1bf*0x1+0x17a1))],this['_shadowPal'+'ette']=[Math['round'](this['_shadowCol'+'or']['r']*(-0x1*-0x5c1+-0x1*-0xb96+0x2*-0x82c)),Math['round'](this['_shadowCol'+'or']['g']*(-0x18c2+0x204d+-0x68c)),Math['round'](this['_shadowCol'+'or']['b']*(-0x1*0x1e65+-0x3b7*-0x5+0xcd1)),Math['round'](this['_shadowCol'+'or']['a']*(-0x389+0x861+0x3d9*-0x1)),Math['round'](this['_shadowOff'+'set']['x']*(0x10ac+0x21c0+0x31ed*-0x1)),Math['round'](this['_shadowOff'+'set']['y']*(-0x78*-0x4e+0x1*-0x20a1+0x8*-0x6e))],this['_symbolCol'+'ors']=[],this['_symbolOut'+'lineParams']=[],this['_symbolSha'+'dowParams']=[],_0x455344[this['_color']['toString'](!(-0x5f3+0x1*0x2333+-0x1d3f))['toLowerCas'+'e']()]=-0xaf5+-0x13*-0x177+0x4*-0x438,_0xe420bc[_0x34e810(this['_outlineCo'+'lor'],this['_outlineTh'+'ickness'])]=0x112*-0x6+0x258d*0x1+-0x1f21,_0x1c0ae6[_0x2401f4(this['_shadowCol'+'or'],this['_shadowOff'+'set'])]=0x1c5c+0x1*0x5f3+0x1*-0x224f;for(let _0x38e2dd=0xf*0x22a+-0x323*-0x4+-0x337*0xe,_0x108be8=this['_symbols']['length'];_0x38e2dd<_0x108be8;++_0x38e2dd){const _0x1d4059=_0x1304d0[_0x38e2dd];let _0x488a00=-0x1*-0x16e5+-0x1af9+0x24*0x1d;if(_0x1d4059&&_0x1d4059['color']&&_0x1d4059['color']['value']){const _0x31125b=_0x1d4059['color']['value'];if(_0x31125b['length']===0x1*-0x907+-0x1*0x20c5+0x29d3&&_0x31125b[-0xd*0x82+0x9*0x2dd+-0x2bd*0x7]==='#'){const _0x307cac=_0x31125b['substring'](-0x14c*-0x2+-0x22d9+-0x1*-0x2042)['toLowerCas'+'e']();_0x455344['hasOwnProp'+'erty'](_0x307cac)?_0x488a00=_0x455344[_0x307cac]:/^[0-9a-f]{6}$/['test'](_0x307cac)&&(_0x488a00=this['_colorPale'+'tte']['length']/(-0x137+0xf*-0x1d+0x2ed),_0x455344[_0x307cac]=_0x488a00,this['_colorPale'+'tte']['push'](parseInt(_0x307cac['substring'](0x46d+-0x7a6+0x339,-0x1852+0x264d+-0xdf9),-0x65*-0x2b+0x2*0xffe+0x1*-0x30e3)),this['_colorPale'+'tte']['push'](parseInt(_0x307cac['substring'](-0x1*-0x15f2+-0x5a5*0x1+-0x104b,0x17e9*-0x1+-0x2*0xd33+-0xd*-0x3df),-0x1652+0x35*0x2b+0xd7b)),this['_colorPale'+'tte']['push'](parseInt(_0x307cac['substring'](0x2+-0x25fb+0x25fd,0xcac+-0x544+-0x69*0x12),-0x1b2e+-0xd74+-0x1*-0x28b2)));}}this['_symbolCol'+'ors']['push'](_0x488a00);let _0xc66ac9=0x19dd+-0x49b*0x3+-0xc0c;if(_0x1d4059&&_0x1d4059['outline']&&(_0x1d4059['outline']['attributes']['color']||_0x1d4059['outline']['attributes']['thickness'])){let _0x4bbc71=_0x1d4059['outline']['attributes']['color']?Kg['fromString'](_0x1d4059['outline']['attributes']['color']):this['_outlineCo'+'lor'],_0x37f9d2=Number(_0x1d4059['outline']['attributes']['thickness']);(Number['isNaN'](_0x4bbc71['r'])||Number['isNaN'](_0x4bbc71['g'])||Number['isNaN'](_0x4bbc71['b'])||Number['isNaN'](_0x4bbc71['a']))&&(_0x4bbc71=this['_outlineCo'+'lor']),Number['isNaN'](_0x37f9d2)&&(_0x37f9d2=this['_outlineTh'+'ickness']);const _0x22ced4=_0x34e810(_0x4bbc71,_0x37f9d2);_0xe420bc['hasOwnProp'+'erty'](_0x22ced4)?_0xc66ac9=_0xe420bc[_0x22ced4]:(_0xc66ac9=this['_outlinePa'+'lette']['length']/(-0x1493+0x73a+-0x3a*-0x3b),_0xe420bc[_0x22ced4]=_0xc66ac9,this['_outlinePa'+'lette']['push'](Math['round'](_0x4bbc71['r']*(0x1d4d+-0x13e*-0xe+-0x1*0x2db2)),Math['round'](_0x4bbc71['g']*(-0xa0*0x37+0x20d4+-0x7*-0x5d)),Math['round'](_0x4bbc71['b']*(0x1927*0x1+-0x3*-0x1bd+-0x1d5f)),Math['round'](_0x4bbc71['a']*(0x6c1+-0x49*-0x4+-0x6e6)),Math['round'](_0x37f9d2*(-0x21b3+0x33d*-0x2+0x292c))));}this['_symbolOut'+'lineParams']['push'](_0xc66ac9);let _0x57100e=-0x1*-0x2663+0xbd7*0x3+-0x49e8;if(_0x1d4059&&_0x1d4059['shadow']&&(_0x1d4059['shadow']['attributes']['color']||_0x1d4059['shadow']['attributes']['offset']||_0x1d4059['shadow']['attributes']['offsetX']||_0x1d4059['shadow']['attributes']['offsetY'])){let _0x2fe492=_0x1d4059['shadow']['attributes']['color']?Kg['fromString'](_0x1d4059['shadow']['attributes']['color']):this['_shadowCol'+'or'];const _0x54a980=Number(_0x1d4059['shadow']['attributes']['offset']),_0x399053=Number(_0x1d4059['shadow']['attributes']['offsetX']),_0x25019e=Number(_0x1d4059['shadow']['attributes']['offsetY']);(Number['isNaN'](_0x2fe492['r'])||Number['isNaN'](_0x2fe492['g'])||Number['isNaN'](_0x2fe492['b'])||Number['isNaN'](_0x2fe492['a']))&&(_0x2fe492=this['_shadowCol'+'or']);const _0x4b86ce=CR['set'](Number['isNaN'](_0x399053)?Number['isNaN'](_0x54a980)?this['_shadowOff'+'set']['x']:_0x54a980:_0x399053,Number['isNaN'](_0x25019e)?Number['isNaN'](_0x54a980)?this['_shadowOff'+'set']['y']:_0x54a980:_0x25019e),_0x3a80b1=_0x2401f4(_0x2fe492,_0x4b86ce);_0x1c0ae6['hasOwnProp'+'erty'](_0x3a80b1)?_0x57100e=_0x1c0ae6[_0x3a80b1]:(_0x57100e=this['_shadowPal'+'ette']['length']/(-0x14c3+-0x2044+0x350d),_0x1c0ae6[_0x3a80b1]=_0x57100e,this['_shadowPal'+'ette']['push'](Math['round'](_0x2fe492['r']*(0x2358+-0x1*-0x1e4f+0x1*-0x40a8)),Math['round'](_0x2fe492['g']*(0x1f*0xbf+-0x28*-0x21+-0x1b4a)),Math['round'](_0x2fe492['b']*(0x68*0x7+-0x1*-0x1cd7+0x3d6*-0x8)),Math['round'](_0x2fe492['a']*(0x1c68+-0x43e*0x6+0xa7*-0x3)),Math['round'](_0x4b86ce['x']*(0x14*-0xa3+0x14e9+-0x7ae)),Math['round'](_0x4b86ce['y']*(-0x1290+-0x1*0xc5f+0x1f6e))));}this['_symbolSha'+'dowParams']['push'](_0x57100e);}}else this['_colorPale'+'tte']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null;this['_updateMat'+'erialEmiss'+'ive'](),this['_updateMat'+'erialOutli'+'ne'](),this['_updateMat'+'erialShado'+'w']();const _0x6da169=this['_calculate'+'CharsPerTe'+'xture']();let _0x46df33=!(0x2*-0xc9f+-0x3*-0xb93+0x2*-0x4bd);const _0x5b79d2=this['_element'],_0x3221d3=_0x5b79d2['_isScreenS'+'pace'](),_0x14f43b=_0x5b79d2['_isScreenC'+'ulled'](),_0x50096d=function(_0x1f0dec){return _0x5b79d2['isVisibleF'+'orCamera'](_0x1f0dec);};for(let _0x2d9e9c=-0x1e6a+0x1934+-0x536*-0x1,_0xdecab6=this['_meshInfo']['length'];_0x2d9e9c<_0xdecab6;_0x2d9e9c++){const _0x5dd631=_0x6da169[_0x2d9e9c]||0x19d9+-0x222b+0x852,_0x38b53e=this['_meshInfo'][_0x2d9e9c];if(_0x38b53e['count']!==_0x5dd631){if(_0x46df33||(_0x5b79d2['removeMode'+'lFromLayer'+'s'](this['_model']),_0x46df33=!(-0x1*0x728+-0x1042+-0x25*-0xa2)),_0x38b53e['count']=_0x5dd631,_0x38b53e['positions']['length']=_0x38b53e['normals']['length']=_0x5dd631*(0x3*-0x691+0x617*0x3+0x171)*(0x1*-0x19e2+-0x15ac+0x2f92),_0x38b53e['indices']['length']=_0x5dd631*(-0x458+-0x10eb*-0x2+0x1d7b*-0x1)*(0x1cbd*-0x1+-0x1504+0x31c3),_0x38b53e['uvs']['length']=_0x5dd631*(0x1*-0x20e7+-0x1aa8*0x1+0x45*0xdd)*(0x1b*0x138+0xd51+-0x2e35),_0x38b53e['colors']['length']=_0x5dd631*(0x6e4+0x1c48+-0x2328)*(-0x3b*0x9f+0x132d+0x117c),_0x38b53e['outlines']['length']=_0x5dd631*(0x228b+0x1*0x1e63+-0x7*0x946)*(-0x296+0x1*0x258d+-0x22f4),_0x38b53e['shadows']['length']=_0x5dd631*(0x234f+-0x248e*-0x1+-0x3*0x17f3)*(-0x126*0x7+-0xceb*0x2+0x15b*0x19),_0x38b53e['meshInstan'+'ce']&&this['_removeMes'+'hInstance'](_0x38b53e['meshInstan'+'ce']),_0x5dd631===-0x2d4*-0x3+0x7b*-0x13+-0xa5*-0x1){_0x38b53e['meshInstan'+'ce']=null;continue;}for(let _0x4c4938=0x6*0x92+0x2d*-0x7f+0x12e7;_0x4c4938<_0x5dd631;_0x4c4938++)_0x38b53e['indices'][_0x4c4938*(-0x2340+-0x1f*0xa9+0x2*0x1bdd)*(-0x9f5+0xbf5+0x5*-0x66)+(0x240a+-0x1128+0x1*-0x12e2)]=_0x4c4938*(-0x871*-0x3+0x160a+0x20f*-0x17),_0x38b53e['indices'][_0x4c4938*(-0x10b*0x3+-0x19bc+0x1ce0)*(-0x1acb+-0x551*-0x1+-0x44c*-0x5)+(-0x206c+-0xbb9+0x2c26)]=_0x4c4938*(0x20ef+-0xdcb+-0x1320)+(-0x266d*0x1+0x2f5+0x1*0x2379),_0x38b53e['indices'][_0x4c4938*(0x1584+0x59*0x21+0x9*-0x3aa)*(0x122a+-0x1666+-0x1*-0x43e)+(-0x1f*-0x58+0x2*-0x655+0x56*0x6)]=_0x4c4938*(0x2400+-0xb*0x147+-0x15ef)+(-0x1*0x37c+0x3*0x7d3+0x1*-0x13fa),_0x38b53e['indices'][_0x4c4938*(0xe2c+0xd7+-0xf00)*(-0x15d7+-0x230+-0x1*-0x1809)+(-0x1*-0xb29+-0x7eb*-0x4+-0x2ad2)]=_0x4c4938*(-0x5*0x233+-0x36d+0xe70)+(-0xe2b+-0x11*-0x2f+-0xa*-0x11b),_0x38b53e['indices'][_0x4c4938*(0x330+0x17f3+0xd90*-0x2)*(0x51b*-0x1+0x1*0x14bc+-0xf9f)+(-0xb7*0x1+0x151*-0x4+0x5ff)]=_0x4c4938*(-0x4e*-0x50+0x1b1*-0x6+0x2*-0x71b)+(0x187d+-0x252+-0xb14*0x2),_0x38b53e['indices'][_0x4c4938*(0x89e+0x49c+-0xd37)*(-0x1438+-0x1ca3*0x1+-0x6fb*-0x7)+(-0xdb1*0x1+0x2*-0x217+0x1ca*0xa)]=_0x4c4938*(0x1*0x324+-0x20e7+-0x1dc7*-0x1)+(0x6ec+-0xa*0x1d3+0xb53),_0x38b53e['normals'][_0x4c4938*(-0x1dd6+-0x1*0x70d+0x24e7)*(0x1069*-0x1+-0x17*0x25+0x13bf)+(-0x12c8+-0x3fa+0x16c2)]=-0x21a+-0x2f*-0x2+0x1bc,_0x38b53e['normals'][_0x4c4938*(-0x2f5*0x5+0x19b8+0xd*-0xd7)*(-0xcb*-0x31+0x564+-0x2c3c)+(-0xbed+-0x1683+-0x2271*-0x1)]=-0x10a0+0x1b89+-0xae9,_0x38b53e['normals'][_0x4c4938*(-0xc6*0x1+0x19*0xda+-0x1480)*(-0x3*0x48e+0x219b*-0x1+0x2f48)+(-0x8e7+-0x10*0x241+0x2cf9)]=-(0x9*0x4c+-0x1020+0xd75),_0x38b53e['normals'][_0x4c4938*(-0x3*-0x9d7+-0x1d5b+-0x26)*(-0x2cf*-0xb+-0x8bd*-0x3+-0x3919)+(0x9f5*0x2+-0x134d+-0x9a)]=-0x2653*0x1+0xec6+0x178d,_0x38b53e['normals'][_0x4c4938*(-0x1*0x170f+-0x76c+0x1e7f)*(0x24c+0x26b2+-0x28fb)+(-0x16*-0x5c+0x1*0x506+0x1d*-0x72)]=0x433+-0x1242+-0x1*-0xe0f,_0x38b53e['normals'][_0x4c4938*(-0x10d6+-0x2b6*0x4+0x2*0xdd9)*(-0x181e+0x201a*-0x1+-0x5*-0xb3f)+(-0x7f8+-0x7f3+-0x2a8*-0x6)]=-(-0x113d+0x5*-0x51b+0x2ac5),_0x38b53e['normals'][_0x4c4938*(0x1193+-0x9ab+-0x7e4)*(0xb86+0x9a*0xe+0x1b*-0xbd)+(-0xd03+-0x2018+0x3*0xf0b)]=-0x1*-0xfef+0x1cde+-0x2ccd,_0x38b53e['normals'][_0x4c4938*(-0xd*-0x12a+-0x25f4+0xb6b*0x2)*(-0x6a9+0x201+-0x1*-0x4ab)+(-0x10*0x241+0x54b+0x1ecc)]=0x11f8+-0x1838+-0x140*-0x5,_0x38b53e['normals'][_0x4c4938*(0x1b56+0x1*0x295+-0x1de7)*(0x25*-0x71+-0x1*0x25a1+0x35f9)+(0x16d1+0x2290+-0x3959)]=-(0x1018+-0x623*0x5+0xe98),_0x38b53e['normals'][_0x4c4938*(0x14*-0x106+-0x29b+0x1717)*(0xfef+-0x15a3+0x5b7)+(0x19f*0x4+0x178f+-0x1e02)]=-0x1fdb+0x1e4f+0x18c,_0x38b53e['normals'][_0x4c4938*(-0x1a1a+0x25cd*0x1+-0x1*0xbaf)*(0xaf3+0x9*-0x87+-0x13d*0x5)+(-0x20*-0xe3+0x2546+0x3dc*-0x11)]=0x408*0x6+-0x1*0xdbe+-0x7*0x17e,_0x38b53e['normals'][_0x4c4938*(-0xb6c+-0x2681+0x31f1)*(-0xf*0x27d+-0x2328+-0x9*-0x80e)+(-0x146b*-0x1+0x979+-0x351*0x9)]=-(0x40+-0x1*-0x3df+-0x41e);const _0x24d47c=xR(this['_system']['app']['graphicsDe'+'vice'],_0x38b53e),_0x271f19=new He(_0x24d47c,this['_material'],this['_node']);if(_0x271f19['name']='Text\x20Eleme'+'nt:\x20'+this['_entity']['name'],_0x271f19['castShadow']=!(-0x1791*0x1+0x24bd*-0x1+0x3c4f*0x1),_0x271f19['receiveSha'+'dow']=!(-0x1a93+-0x7a*-0xb+-0xaab*-0x2),_0x271f19['cull']=!_0x3221d3,_0x271f19['screenSpac'+'e']=_0x3221d3,_0x271f19['drawOrder']=this['_drawOrder'],_0x14f43b&&(_0x271f19['cull']=!(-0xbf*0x24+-0x6e9+0x21c5),_0x271f19['isVisibleF'+'unc']=_0x50096d),this['_setTextur'+'eParams'](_0x271f19,this['_font']['textures'][_0x2d9e9c]),_0x271f19['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']),_0x271f19['setParamet'+'er']('material_o'+'pacity',this['_color']['a']),_0x271f19['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x271f19['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x271f19['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x2d9e9c]['width']),_0x271f19['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']),_0x271f19['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']),_0x271f19['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']),this['_symbolSha'+'dowParams'])this['_shadowOff'+'setUniform'][-0x2*-0x128b+-0x1f96+0x4*-0x160]=-0x4*0x985+-0xc0a*0x2+0x3e28,this['_shadowOff'+'setUniform'][-0x26ad+-0x1237*-0x2+0x240*0x1]=0x62*-0x55+-0x4*-0x5dd+0x48b*0x2;else{const _0x34d25a=-this['_font']['data']['info']['maps'][_0x2d9e9c]['width']/this['_font']['data']['info']['maps'][_0x2d9e9c]['height'];this['_shadowOff'+'setUniform'][0xc7*-0x15+0x1708+-0x65*0x11]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x26f8+0x62*0x3+-0x281d]=_0x34d25a*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'];}_0x271f19['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']),_0x38b53e['meshInstan'+'ce']=_0x271f19,this['_model']['meshInstan'+'ces']['push'](_0x271f19);}}this['_element']['maskedBy']&&this['_element']['_setMasked'+'By'](this['_element']['maskedBy']),_0x46df33&&this['_element']['enabled']&&this['_entity']['enabled']&&this['_element']['addModelTo'+'Layers'](this['_model']),this['_updateMes'+'hes'](),this['_rangeStar'+'t']=0x29b+0x1d47+-0xff1*0x2,this['_rangeEnd']=this['_symbols']['length'],this['_updateRen'+'derRange']();}['_removeMes'+'hInstance'](_0x573889){_0x573889['destroy']();const _0x54a5e7=this['_model']['meshInstan'+'ces']['indexOf'](_0x573889);_0x54a5e7!==-(-0x395*0x4+0x260+0xbf5)&&this['_model']['meshInstan'+'ces']['splice'](_0x54a5e7,0x1d54+-0xa7a+0x3c5*-0x5);}['_setMateri'+'al'](_0x191584){if(this['_material']=_0x191584,this['_model'])for(let _0xcc3bff=-0x79d*-0x4+0x26dc+0x1154*-0x4,_0x4870dc=this['_model']['meshInstan'+'ces']['length'];_0xcc3bff<_0x4870dc;_0xcc3bff++){const _0x2c17f3=this['_model']['meshInstan'+'ces'][_0xcc3bff];_0x2c17f3['material']=_0x191584;}}['_updateMat'+'erial'](_0x25a59d){const _0x4d4ccf=this['_element'],_0x232267=_0x4d4ccf['_isScreenC'+'ulled'](),_0x4e6313=function(_0x371a6b){return _0x4d4ccf['isVisibleF'+'orCamera'](_0x371a6b);},_0x4638e0=this['_font']&&this['_font']['type']===Rh;if(this['_material']=this['_system']['getTextEle'+'mentMateri'+'al'](_0x25a59d,_0x4638e0,this['_enableMar'+'kup']),this['_model'])for(let _0x361919=-0x211f*-0x1+0x566+-0x2685,_0x41f166=this['_model']['meshInstan'+'ces']['length'];_0x361919<_0x41f166;_0x361919++){const _0x3ee614=this['_model']['meshInstan'+'ces'][_0x361919];_0x3ee614['cull']=!_0x25a59d,_0x3ee614['material']=this['_material'],_0x3ee614['screenSpac'+'e']=_0x25a59d,_0x232267?(_0x3ee614['cull']=!(-0x1073+-0x2*0x11ad+-0x95*-0x59),_0x3ee614['isVisibleF'+'unc']=_0x4e6313):_0x3ee614['isVisibleF'+'unc']=null;}}['_updateMat'+'erialEmiss'+'ive'](){this['_symbolCol'+'ors']?(this['_colorUnif'+'orm'][-0x74*0x1c+-0xcc3*0x1+-0x1*-0x1973]=-0x26cc+0x7*-0x3d5+0x41a0,this['_colorUnif'+'orm'][0x1b8c+-0x161*0x8+-0x1*0x1083]=-0x498*0x4+-0xf8f+-0x6*-0x5a8,this['_colorUnif'+'orm'][0x1868+-0x43a+-0x142c*0x1]=-0x167*-0x16+-0x248d+0x5b4):(We['linear'](this['_color']),this['_colorUnif'+'orm'][-0x673+0x1100+-0xa8d]=We['r'],this['_colorUnif'+'orm'][-0x1bf4+-0x355+0xa6e*0x3]=We['g'],this['_colorUnif'+'orm'][-0x2316+0x3*-0x92b+0x3e99]=We['b']);}['_updateMat'+'erialOutli'+'ne'](){this['_symbolOut'+'lineParams']?(this['_outlineCo'+'lorUniform'][-0x1a2f+0x3*-0x8df+0x34cc*0x1]=-0x71*0x2e+-0x8ba+0x1d08,this['_outlineCo'+'lorUniform'][0x2520+-0x2*-0xaf1+-0x5*0xbcd]=0x2*-0xf59+-0x90d*-0x2+-0x1f*-0x68,this['_outlineCo'+'lorUniform'][0x5c6*0x1+0x53*0x3d+-0x198b]=-0x1*0x21f5+-0xf*0x22d+-0x214c*-0x2,this['_outlineCo'+'lorUniform'][0xd9f+0x20cf+-0x2e6b]=0x1*-0x898+-0x26*-0x42+-0x133):(We['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][0x3*-0x596+-0x21d9+0x329b]=We['r'],this['_outlineCo'+'lorUniform'][-0x23ad+-0x2*0x1107+0x45bc]=We['g'],this['_outlineCo'+'lorUniform'][0x1c6*0x3+0x1bc4+0x92*-0x3a]=We['b'],this['_outlineCo'+'lorUniform'][0x1af*0x7+0x2ea+0x50*-0x2f]=We['a']);}['_updateMat'+'erialShado'+'w'](){this['_symbolOut'+'lineParams']?(this['_shadowCol'+'orUniform'][0x2*0xfd3+0x12f5+0x1*-0x329b]=0x6db+-0xecd+0x7f2,this['_shadowCol'+'orUniform'][0x3*-0x86e+0x14df+0x46c]=-0xbba+0x1*-0x93+-0x1*-0xc4d,this['_shadowCol'+'orUniform'][-0x1*-0x803+0x1*0x241a+-0x2c1b]=0x39b*-0x1+-0x19f0+0x1d8b,this['_shadowCol'+'orUniform'][0x2028+0x1*-0x1c26+-0x3ff*0x1]=-0xe05+0x1*0x1b0f+-0x685*0x2):(We['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][-0x20db+0x18d5+0x9e*0xd]=We['r'],this['_shadowCol'+'orUniform'][0x23e5+-0x4eb*0x3+0x7*-0x305]=We['g'],this['_shadowCol'+'orUniform'][0x12d8+0xb20+-0x1df6]=We['b'],this['_shadowCol'+'orUniform'][-0x1*-0x1039+0x26+-0x105c]=We['a']);}['_isWordBou'+'ndary'](_0x1c19f9){return jg['test'](_0x1c19f9);}['_isValidNe'+'xtChar'](_0x1bc5da){return _0x1bc5da!==null&&!ER['test'](_0x1bc5da);}['_isNextCJK'+'Boundary'](_0x4cf03a,_0x57a2d6){return Yg['test'](_0x4cf03a)&&(jg['test'](_0x57a2d6)||wR['test'](_0x57a2d6));}['_isNextCJK'+'WholeWord'](_0x46bfed){return Yg['test'](_0x46bfed);}['_updateMes'+'hes'](){const _0x305bf5=this['_font']['data'],_0x326721=this,_0x3a70b0=Math['min'](this['_minFontSi'+'ze'],this['_maxFontSi'+'ze']),_0x3b68b4=this['_maxFontSi'+'ze'],_0x559ed9=this['_shouldAut'+'oFit']();_0x559ed9&&(this['_fontSize']=this['_maxFontSi'+'ze']);const _0x1f939d=-0xac8+-0x75+0x1*0xb5d,_0xa610e2=this['_symbols']['length'];let _0x194b2c=-0x51*0x1b+-0x1b5+0x52*0x20,_0x5350b6=-0x25*0xed+-0xe3*0x10+0x3071,_0x32681d=0x1*-0x10b5+0x1f1c+-0x4cd*0x3,_0x5a912e=0x934+0x963*-0x1+0x1*0x2f,_0xfe46f5=-0x1*0x1edd+-0x10b3+0xfdb*0x3,_0x1334e0=0xd*-0x1b+0x40*0x3+0x9f,_0xe1deae=0x26de+0x1e1*0x1+-0x28bf,_0x258c54=0xf07*0x1+0x121*-0x15+0x8ae,_0x1a0632=0x139*-0x19+0x18a5+0x5ec,_0x1f47be=0x2f*0x6a+0x1*-0x6d9+-0x1*0xc9d,_0x1b54ab=0x6d*0x3b+-0xcd4*0x3+0xd5d*0x1;const _0x488ac3=Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])>=0xa97+-0x1*-0x2de+-0xd75+0.0001;let _0x197e5d=this['_element']['calculated'+'Width'];(this['autoWidth']&&!_0x488ac3||!this['_wrapLines'])&&(_0x197e5d=Number['POSITIVE_I'+'NFINITY']);let _0x408d78=0x6f7*0x1+-0x1176+0xa7f*0x1,_0xa39ad8=0x2099*-0x1+-0x25f2+0x468b*0x1,_0x17b472,_0x5040a2,_0x504fdd,_0x140c69;function _0x46bd0e(_0x202267,_0x3618d3,_0x2d6f80){_0x326721['_lineWidth'+'s']['push'](Math['abs'](_0x2d6f80));const _0x780c40=_0x258c54>_0x3618d3?_0x3618d3+(-0x272*0xf+0x389+0x2*0x1093):_0x258c54,_0x37c6c0=_0x258c54>_0x3618d3?_0x258c54+(-0x173+-0x5*-0x5bf+0x1b47*-0x1):_0x3618d3,_0x12cac0=_0x202267['slice'](_0x780c40,_0x37c6c0);if(_0x1b54ab){let _0x1fe99c=_0x12cac0['length'];for(;_0x1fe99c--&&_0x1b54ab>-0x11*-0x189+0x128b+-0x1652*0x2;)qg['test'](_0x12cac0[_0x1fe99c])&&(_0x12cac0['splice'](_0x1fe99c,-0x361+-0x1d94+0x2*0x107b),_0x1b54ab--);}_0x326721['_lineConte'+'nts']['push'](_0x12cac0['join']('')),_0x194b2c=-0x5f6+0x1609+-0x1013,_0x5350b6-=_0x326721['_scaledLin'+'eHeight'],_0xfe46f5++,_0x1a0632=-0x75*0x1+-0x1189+-0x1*-0x11fe,_0x1f47be=0x703+-0x1d3e+-0x769*-0x3,_0x1b54ab=-0x36f*0x7+0xd8+0x1731,_0x1334e0=0x2e9*0x4+0x1199+-0x1d3d,_0x258c54=_0x3618d3;}let _0x2936df=!(-0x228c+-0x10d5+0x3361);for(;_0x2936df;){_0x2936df=!(-0x1a58+-0xe8e+-0x25*-0x11b),_0x559ed9?this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t']*this['_fontSize']/(this['_maxFontSi'+'ze']||0x124d+0x1*-0x1914+0x6c7+0.0001):this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t'],this['width']=0x1e2b+0x79d+0x972*-0x4,this['height']=0x1f*-0x59+0x16c*-0x6+-0x134f*-0x1,this['_lineWidth'+'s']=[],this['_lineConte'+'nts']=[],_0x194b2c=0xf92+0x5f2+-0xc*0x1cb,_0x5350b6=-0x2d0*-0x2+0x130a*-0x1+0xd6a,_0x32681d=0x1337+0x5a4*0x2+0xd3*-0x25,_0x5a912e=0x1bf4+-0x6ee+-0xcf*0x1a,_0xfe46f5=-0x234d+-0x1*0x5fb+0x2949,_0x1334e0=0x1*0x9b7+-0x24a5+-0x8fa*-0x3,_0xe1deae=-0x5*0x2c+0x22a7*-0x1+0x2383,_0x258c54=0x1120+0xa*0x2b7+0x2c46*-0x1,_0x1a0632=0x97*-0x17+0x24bf+-0x172e,_0x1f47be=-0x1e*-0xc4+0x1b7*-0x1+-0x1541*0x1,_0x1b54ab=0x25f7+-0x3*0xa82+-0x671;const _0x483bd8=this['_fontSize']/_0x1f939d;_0x408d78=this['_fontMinY']*_0x483bd8,_0xa39ad8=this['_fontMaxY']*_0x483bd8;for(let _0x40cd13=-0x24c9+0x4e*0x13+0x1eff;_0x40cd13<this['_meshInfo']['length'];_0x40cd13++)this['_meshInfo'][_0x40cd13]['quad']=-0x220f*0x1+0x1a+0x21f5*0x1,this['_meshInfo'][_0x40cd13]['lines']={};let _0x20accb=0x15d8+0xb2f+-0x2008,_0x359e76=0x2*-0xb71+-0xebe+0x269f,_0x58cb8d=0x206a*-0x1+0x8f5+-0x14*-0x139,_0x170354=0x1c1*0x1+-0x9af*-0x2+-0x17*0xe0+(0x2342+0x44d*0x6+0x1*-0x3c11)*(-0x15b+0x22db*0x1+0x14*-0x1a0),_0x108643=0x11d4+-0x208b*-0x1+-0x3160+(-0x1*0x269d+0x2*-0x981+0x3a9e)*(0x1708+0x9d9+-0x1fe1),_0xe5797e=0x1f8+-0x33*-0x87+0x3*-0x99f,_0x117832=0x15*0x92+0x2417*-0x1+-0x4*-0x647+(0xc9*-0x2a+0x185*-0x6+0x2b17)*(-0x1aa1+-0x2525+-0x2063*-0x2),_0x58803b=0x2299+0x265f+-0x47f9+(0xed6+-0x1328+0x551)*(-0x1*-0x227f+-0x125*0x1e+-0x5*-0x2b),_0x5d1db2=-0x1b86+-0x652+-0x3b*-0x95+(0x21a1*-0x1+-0x13+0x203*0x11)*(-0xbef+-0x23e2+0x30d1);for(let _0x5a2cb6=0x6e5+-0x1*-0x255+-0x93a;_0x5a2cb6<_0xa610e2;_0x5a2cb6++){if(_0x17b472=this['_symbols'][_0x5a2cb6],_0x140c69=_0x5a2cb6+(-0x7a+-0xdb*0x1f+0x1b00)>=_0xa610e2?null:this['_symbols'][_0x5a2cb6+(0x1b54+-0x2021+0x4ce)],qg['test'](_0x17b472)){_0x1b54ab++,(!this['_wrapLines']||this['_maxLines']<-0x12fd+-0x1367+-0x24*-0x111||_0xfe46f5<this['_maxLines'])&&(_0x46bd0e(this['_symbols'],_0x5a2cb6,_0x5a912e),_0xe1deae=_0x5a2cb6+(0x179*-0x17+0x4db+-0x187*-0x13),_0x258c54=_0x5a2cb6+(-0x11f5*-0x1+0x4*0x2fe+-0x1dec));continue;}let _0x3d12fe=-0x6b*0xb+-0x1c7b+0x2114,_0x348577=-0xd7*0x25+-0x1a40+-0x1*-0x3953,_0x4fa469=-0x9fe+0x1*-0x1b51+0x254f,_0x40267a=0x55e*-0x1+-0x6aa*0x1+0xd*0xed,_0x57f738,_0x44a520;if(_0x5040a2=_0x305bf5['chars'][_0x17b472],!_0x5040a2){if(bR['indexOf'](_0x17b472)!==-(-0xd*0x33+-0x1ae4+0x1d7c))_0x5040a2=AR;else{if(_0x305bf5['chars']['\x20'])_0x5040a2=_0x305bf5['chars']['\x20'];else for(const _0x5a6659 in _0x305bf5['chars']){_0x5040a2=_0x305bf5['chars'][_0x5a6659];break;}_0x305bf5['missingCha'+'rs']||(_0x305bf5['missingCha'+'rs']=new Set()),_0x305bf5['missingCha'+'rs']['has'](_0x17b472)||(console['warn']('Character\x20'+'\x27'+_0x17b472+('\x27\x20is\x20missi'+'ng\x20from\x20th'+'e\x20font\x20')+_0x305bf5['info']['face']),_0x305bf5['missingCha'+'rs']['add'](_0x17b472));}}if(_0x5040a2){let _0x513e74=0x1039*0x2+0x1*-0x9e1+-0x1691;if(_0x1f47be>-0x14b5*-0x1+-0x325*-0x4+-0x1*0x2149){const _0xc678e5=this['_font']['data']['kerning'];if(_0xc678e5){const _0xdad90c=_0xc678e5[Hc['getCodePoi'+'nt'](this['_symbols'][_0x5a2cb6-(-0x1b2f+-0x2*0x3e9+0x2302)])||0x223c+-0x505+-0x1d37];_0xdad90c&&(_0x513e74=_0xdad90c[Hc['getCodePoi'+'nt'](this['_symbols'][_0x5a2cb6])||-0x155+0x2db+-0x186]||-0x1cfb+0x1*-0x1aa5+0x37a0);}}_0x57f738=_0x5040a2['scale']||0x2*-0x581+-0x1d2b+0x282e,_0x44a520=(_0x5040a2['width']+_0x5040a2['height'])/(0x1d77+-0x353+-0x1*0x1a22),_0x40267a=_0x483bd8*_0x44a520/_0x57f738,_0x4fa469=(_0x5040a2['xadvance']+_0x513e74)*_0x483bd8,_0x3d12fe=(_0x5040a2['xoffset']-_0x513e74)*_0x483bd8,_0x348577=_0x5040a2['yoffset']*_0x483bd8;}else console['error']('Couldn\x27t\x20s'+'ubstitute\x20'+'missing\x20ch'+'aracter:\x20\x27'+_0x17b472+'\x27');const _0x28b55e=TR['test'](_0x17b472),_0x4f6603=_0x5040a2&&_0x5040a2['map']||0x124*0x1+0x6f+-0x193,_0x180807=-this['_font']['data']['info']['maps'][_0x4f6603]['width']/this['_font']['data']['info']['maps'][_0x4f6603]['height'],_0x298946=this['_meshInfo'][_0x4f6603],_0x35968e=_0x194b2c+this['_spacing']*_0x4fa469;if(_0x35968e>_0x197e5d&&_0x1f47be>0x21d3*0x1+-0x224*-0xb+-0x395f&&!_0x28b55e&&(this['_maxLines']<-0x24dc+-0x1d*-0x2+0x24a2||_0xfe46f5<this['_maxLines'])){if(_0x1a0632===-0x2119+0x2*-0xfd7+0x40c7)_0xe1deae=_0x5a2cb6,_0x46bd0e(this['_symbols'],_0x5a2cb6,_0x5a912e);else{const _0x1eb9fc=Math['max'](_0x5a2cb6-_0xe1deae,0x820+0x1*0x1933+-0x2153);if(this['_meshInfo']['length']<=-0x2af+0x232a+-0x1*0x207a)_0x298946['lines'][_0xfe46f5-(-0x88c+0x1cb7+-0x1d*0xb2)]-=_0x1eb9fc,_0x298946['quad']-=_0x1eb9fc;else{const _0x34412d=_0xe1deae,_0x27da88=_0x5a2cb6;for(let _0x3ab65e=_0x34412d;_0x3ab65e<_0x27da88;_0x3ab65e++){const _0x5a5e71=this['_symbols'][_0x3ab65e],_0x25947f=_0x305bf5['chars'][_0x5a5e71],_0x4e7e7d=this['_meshInfo'][_0x25947f&&_0x25947f['map']||-0x23e7+-0xcd5+0x30bc];_0x4e7e7d['lines'][_0xfe46f5-(0x283+0xa*-0x295+0x1750)]-=-0xbb2+0x1*-0x17d1+0x2384,_0x4e7e7d['quad']-=0xc31*0x1+0x400*0x6+-0x2430;}}_0x5a2cb6-=_0x1eb9fc+(-0x1*0x1e31+-0x1e2c+0x2*0x1e2f),_0x46bd0e(this['_symbols'],_0xe1deae,_0x1334e0);continue;}}_0x504fdd=_0x298946['quad'],_0x298946['lines'][_0xfe46f5-(-0x253b+-0x2269+0x1*0x47a5)]=_0x504fdd;let _0x209a01=_0x194b2c-_0x3d12fe,_0x37908b=_0x209a01+_0x40267a;const _0x2a2c10=_0x5350b6-_0x348577,_0x16cfd9=_0x2a2c10+_0x40267a;if(this['_rtl']){const _0x26a430=_0x40267a-_0x3d12fe-this['_spacing']*_0x4fa469-_0x3d12fe;_0x209a01-=_0x26a430,_0x37908b-=_0x26a430;}_0x298946['positions'][_0x504fdd*(-0x12a7+0x1*0x106a+0x241)*(0x143a+0x2688+-0x3abf)+(-0xef6+0xc66+-0x8*-0x52)]=_0x209a01,_0x298946['positions'][_0x504fdd*(0x1780+0xe5*0x3+-0x1a2b)*(-0x1204+0x201+0x1006)+(0x4d5+-0x4*0x8a0+0x1dac)]=_0x2a2c10,_0x298946['positions'][_0x504fdd*(-0x205f+0x55d+-0x1*-0x1b06)*(-0x527*0x5+0x12e*-0x2+0x1c22)+(-0x26fb+-0x2514+0x4c11*0x1)]=_0x32681d,_0x298946['positions'][_0x504fdd*(-0xb55*-0x1+0x156b*0x1+-0x2*0x105e)*(0x228*0xe+0xd3e+-0x2b6b)+(0x1908+-0x9b5*0x2+0x29*-0x23)]=_0x37908b,_0x298946['positions'][_0x504fdd*(0x15ef+-0xf81+-0x66a)*(-0x6b*0xf+-0x1*-0x176+0x1*0x4d2)+(-0x240c+-0x157a+0x132e*0x3)]=_0x2a2c10,_0x298946['positions'][_0x504fdd*(-0x1247+0x1033+0x218)*(-0xd*0x18f+-0x8e4*-0x4+-0xf4a)+(0x1482+0xb20+0x1f9d*-0x1)]=_0x32681d,_0x298946['positions'][_0x504fdd*(0x2*0xa5a+-0x5bc*-0x1+-0x1a6c)*(0x21c5*0x1+-0x11*-0x22f+-0x46e1)+(-0x1*-0x1d21+0x43c+-0x5*0x6ab)]=_0x37908b,_0x298946['positions'][_0x504fdd*(0x105d+-0x7*0xa7+-0xbc8)*(0x2*0x123a+-0x23e7+-0x8a)+(-0xd91+0x1d9+0xbbf)]=_0x16cfd9,_0x298946['positions'][_0x504fdd*(0x1*0xd12+-0x1*-0x16f1+0x5f*-0x61)*(0x9e7+0x8d*-0x6+-0x1*0x696)+(0x1771*-0x1+-0xb17*0x1+-0x4*-0x8a4)]=_0x32681d,_0x298946['positions'][_0x504fdd*(-0x263+-0x1*0xa33+-0xc9a*-0x1)*(0x33*-0x36+0x25f2+0x3*-0x90f)+(-0x86+0x67*0x5e+-0x1*0x2543)]=_0x209a01,_0x298946['positions'][_0x504fdd*(0x9da+-0x11f3+-0x1f*-0x43)*(0x47e+-0x991*0x1+-0x516*-0x1)+(-0x1*0x2624+0xd*-0x25f+0x4501)]=_0x16cfd9,_0x298946['positions'][_0x504fdd*(0x29d*0x1+0x829*0x3+0xd8a*-0x2)*(-0xf0+-0x1c5*0x1+0x74*0x6)+(-0x1467*0x1+0x83*0x43+-0xdd7)]=_0x32681d,this['width']=Math['max'](this['width'],_0x35968e);let _0x31ad41;if(this['_shouldAut'+'oFitWidth']()&&this['width']>this['_element']['calculated'+'Width']&&(_0x31ad41=Math['floor'](this['_element']['fontSize']*this['_element']['calculated'+'Width']/(this['width']||-0x2c3+-0x222c+0x24ef+0.0001)),_0x31ad41=Y['clamp'](_0x31ad41,_0x3a70b0,_0x3b68b4),_0x31ad41!==this['_element']['fontSize'])){this['_fontSize']=_0x31ad41,_0x2936df=!(0x7b+-0x7ad+0x732);break;}if(this['height']=Math['max'](this['height'],_0xa39ad8-(_0x5350b6+_0x408d78)),this['_shouldAut'+'oFitHeight']()&&this['height']>this['_element']['calculated'+'Height']&&(_0x31ad41=Y['clamp'](this['_fontSize']-(0x4*-0x53b+-0x1*-0x3ef+0x87f*0x2),_0x3a70b0,_0x3b68b4),_0x31ad41!==this['_element']['fontSize'])){this['_fontSize']=_0x31ad41,_0x2936df=!(0x2513+0xa3c+-0x2f4f*0x1);break;}_0x194b2c+=this['_spacing']*_0x4fa469,_0x28b55e||(_0x5a912e=_0x194b2c),(this['_isWordBou'+'ndary'](_0x17b472)||this['_isValidNe'+'xtChar'](_0x140c69)&&(this['_isNextCJK'+'Boundary'](_0x17b472,_0x140c69)||this['_isNextCJK'+'WholeWord'](_0x140c69)))&&(_0x1a0632++,_0x1334e0=_0x5a912e,_0xe1deae=_0x5a2cb6+(0x3af+0x1218+-0x3a1*0x6)),_0x1f47be++;const _0x570566=this['_getUv'](_0x17b472);if(_0x298946['uvs'][_0x504fdd*(0x1*0x2419+0x4*-0x71a+-0x7ad)*(0x763+0x13c7+-0x1b28)+(0x13*0x14f+-0x15dd*-0x1+-0x2eba)]=_0x570566[-0x666+-0x1*0x799+0xdff],_0x298946['uvs'][_0x504fdd*(-0x67*0x61+-0x1*-0xf5+-0xd*-0x2ee)*(0x1*-0x1690+-0x1f43+0x35d5)+(-0x2081+0x1*0xbc3+-0x14bf*-0x1)]=0x492+-0x2*0x42+-0x40d-_0x570566[0x4*0x397+0x529*-0x7+0x15c4],_0x298946['uvs'][_0x504fdd*(-0x15f9+-0x967+-0x4*-0x7d9)*(0x216e+0x74b+-0x28b7)+(0x213f+0x6*0x641+-0xe27*0x5)]=_0x570566[0x2*-0xaf3+0x1*-0x26ff+0x3ce7],_0x298946['uvs'][_0x504fdd*(-0x2265+0x18bb+-0x6*-0x19d)*(-0x7*0x339+0x48f+0x1202)+(-0xa01+-0x1*-0x28c+0x778)]=0xaeb+-0x1a69+0x1*0xf7f-_0x570566[0x2*-0x70d+0xa3d+-0x21*-0x1e],_0x298946['uvs'][_0x504fdd*(-0x25*0xb+-0x2273*-0x1+-0x20d8)*(-0x9*-0x6+0x19a8+-0x19dc)+(-0xe95+-0x7b7+0x1650)]=_0x570566[-0x175e+-0x2*-0xd62+-0x1b2*0x2],_0x298946['uvs'][_0x504fdd*(-0x17bb+0x25*0x1a+-0x11*-0x12d)*(0x75a*-0x1+0x1c40+-0x7*0x2fc)+(-0x5+0x1a47*-0x1+0x1a51)]=-0x1434+0x5*0x613+0xa2a*-0x1-_0x570566[-0x4f4*0x3+-0x1*0x10f+0x1*0xfee],_0x298946['uvs'][_0x504fdd*(-0xb68+0xc54+0x3a*-0x4)*(0x25f5+-0x583*-0x7+0xf8*-0x4f)+(-0x2*-0x3b9+-0xe3f+0x6d3)]=_0x570566[0x1a7c+-0x1*-0x1609+0x3085*-0x1],_0x298946['uvs'][_0x504fdd*(0x1875*-0x1+0xcac+0xbcd)*(0x100a*-0x1+-0x1*0x2111+-0x311d*-0x1)+(-0x1*0x1c1+0x1b93+0x1f*-0xd5)]=-0x1*0x24c1+-0x16d9*0x1+-0x1*-0x3b9b-_0x570566[0x141a+-0x1514+0xfd*0x1],this['_symbolCol'+'ors']){const _0x27dc40=this['_symbolCol'+'ors'][_0x5a2cb6]*(0x1bb7+0x2183+-0x3d37);_0x20accb=this['_colorPale'+'tte'][_0x27dc40],_0x359e76=this['_colorPale'+'tte'][_0x27dc40+(-0x2*-0x31a+-0x3*0xc77+-0xb*-0x2d6)],_0x58cb8d=this['_colorPale'+'tte'][_0x27dc40+(0x1807+0x175b*0x1+0x2*-0x17b0)];}if(_0x298946['colors'][_0x504fdd*(0x3d*0x46+0x2*-0x3d1+-0x908)*(0x456+-0x5*0x4a2+0x12d8)+(-0x1b*0x10b+0xad9+0x22a*0x8)]=_0x20accb,_0x298946['colors'][_0x504fdd*(-0xfc6*-0x2+0x103d*0x1+-0x1*0x2fc5)*(0x8c+-0x1849+-0x3*-0x7eb)+(-0x715+-0x21dd+0x28f3)]=_0x359e76,_0x298946['colors'][_0x504fdd*(-0x1*0x1c6f+0x1*-0x1543+0x3*0x1092)*(-0xb5*-0x29+0x1*-0x16b4+-0x645)+(-0x3af+0x2*0x100f+-0x1c6d)]=_0x58cb8d,_0x298946['colors'][_0x504fdd*(0x32d+0x24eb+-0x2814)*(-0x985+-0x24b1+0x2e3a)+(-0x1*-0x835+0x16ac+-0x1ede)]=0x1dde+-0x93d*-0x2+-0x1f*0x187,_0x298946['colors'][_0x504fdd*(-0x15a+-0xf1a+0x1078)*(-0x179f+-0x1*0x6de+0x1*0x1e81)+(0x1a3d+0x6*-0x13d+-0x12cb)]=_0x20accb,_0x298946['colors'][_0x504fdd*(-0x15e8+0x1*-0x158d+0x2b79)*(0x640+0x7d4*0x1+-0x168*0xa)+(0x1*-0x8ff+0x23e*0x3+0x24a)]=_0x359e76,_0x298946['colors'][_0x504fdd*(-0x1fe+0x3*0x99+0x37)*(-0x9*-0x1f5+-0x23e6+-0x3a9*-0x5)+(-0xf4d*-0x2+0x1d39+-0x3bcd)]=_0x58cb8d,_0x298946['colors'][_0x504fdd*(-0x10b9+-0x1*0xe3b+-0x2*-0xf7c)*(0xd7a+0x4*-0x31+-0xcb2)+(-0x1*0x1425+-0x5b5*0x1+0x19e1)]=-0x1319+-0x11f9+0x2611,_0x298946['colors'][_0x504fdd*(-0x24a3*-0x1+0x1398+0x27*-0x171)*(0x1754+0x2a9*-0xd+0x241*0x5)+(0x1523+0x1*0x22d+-0x4*0x5d2)]=_0x20accb,_0x298946['colors'][_0x504fdd*(-0x1*0xdfd+-0x64d*-0x2+0x167*0x1)*(-0x1*0x577+0x1*0x1967+-0x4b*0x44)+(-0x19d3+0x2b*0xc6+-0x2*0x3b3)]=_0x359e76,_0x298946['colors'][_0x504fdd*(0x4*-0x716+0x1*-0x1693+-0xdd*-0x3b)*(-0x13fd*-0x1+-0x904*-0x3+-0x2f05)+(0x1*0x2278+0x172*-0x13+-0x1be*0x4)]=_0x58cb8d,_0x298946['colors'][_0x504fdd*(0x5*-0xe0+-0x1*0x18e9+0x1d4d)*(0x40d+0x1d0c+-0x2115)+(0x7*0x1d3+-0x171d+0xa63)]=-0x1*0x13e5+-0x3bc+0x18a0,_0x298946['colors'][_0x504fdd*(-0x1805+-0x14df+0x2ce8)*(-0x168d+0x1e2b*0x1+-0x79a)+(0x1b07+-0x23ae+0x8b3)]=_0x20accb,_0x298946['colors'][_0x504fdd*(-0x37b*-0x4+-0x2c4+0x2e*-0x3e)*(-0x1*-0x2679+0x17*-0x1a5+-0xa2)+(-0x1*0x1933+0x9*-0x3e7+0xc13*0x5)]=_0x359e76,_0x298946['colors'][_0x504fdd*(0x316*-0xa+-0x2*0xda7+0x3a2e)*(-0x22c5+-0x7*0x29d+-0x4*-0xd45)+(-0xca9*0x3+-0xd*0x281+0x4696)]=_0x58cb8d,_0x298946['colors'][_0x504fdd*(0x6*0x5ae+0x5db*0x1+-0x27eb)*(-0x1b*0x119+0x2222+0x47b*-0x1)+(0x513+-0x1e2a+0x1926)]=-0x95*-0x16+-0x1*0xa57+-0x178,this['_symbolOut'+'lineParams']){const _0x5159df=this['_symbolOut'+'lineParams'][_0x5a2cb6]*(0x56b+-0x109+-0x45d);_0x170354=this['_outlinePa'+'lette'][_0x5159df]+this['_outlinePa'+'lette'][_0x5159df+(-0xe06+0x3*-0x121+0x116a)]*(-0x37c*0x4+-0xc1d+-0x115*-0x19),_0x108643=this['_outlinePa'+'lette'][_0x5159df+(0x13*-0x97+-0x1801+-0xe*-0x284)]+this['_outlinePa'+'lette'][_0x5159df+(0x18f5+-0xc21+-0xcd1)]*(-0x1f41+0x5b*0x4+0x1ed5),_0xe5797e=this['_outlinePa'+'lette'][_0x5159df+(0x6d*-0x59+-0x163*0x9+-0x5*-0xa14)];}if(_0x298946['outlines'][_0x504fdd*(0x24f0+0x1aaa+-0x1532*0x3)*(-0x1*0x20a1+-0x26f0+0x4794)+(-0x5a*0x56+0x286+0x1bb6)]=_0x170354,_0x298946['outlines'][_0x504fdd*(-0x4e4*0x4+-0x472+0x1806)*(0x1f98+-0x583+-0x1a12)+(0x2*0xb11+0x2243+0x3864*-0x1)]=_0x108643,_0x298946['outlines'][_0x504fdd*(-0xc7*-0x26+-0x9d*-0x17+-0x2ba1)*(-0xd24+0x14c9+-0x7a2*0x1)+(-0x60*0x4b+-0x1*-0x17cb+0x457)]=_0xe5797e,_0x298946['outlines'][_0x504fdd*(-0x1*-0x1c96+-0x580+0xb89*-0x2)*(-0x2*0xeea+-0x1a34+0x380b)+(0xab+0x20*0xd4+-0x1b28)]=_0x170354,_0x298946['outlines'][_0x504fdd*(0x175e+-0xe86+0x2*-0x46a)*(0x25c2+0xa3*-0x20+-0x115f)+(0x1f96+0x1a2f*0x1+-0x39c1)]=_0x108643,_0x298946['outlines'][_0x504fdd*(-0x1a*-0x160+-0x457+-0x1f65)*(-0xb96*-0x2+-0x2224+-0x3*-0x3a9)+(-0x14e9+0xcae+0x840)]=_0xe5797e,_0x298946['outlines'][_0x504fdd*(-0x1*-0xa53+0xcfb*-0x2+0x1*0xfa7)*(-0xbb8+0x1*0x43f+0x77c)+(0x1eea+-0x3*-0xb45+0x1591*-0x3)]=_0x170354,_0x298946['outlines'][_0x504fdd*(-0x219b+-0x1c*0x5d+-0x1*-0x2bcb)*(0x2*0xef8+0x13b4+0x69*-0x79)+(0x2*-0x1319+0x2ed*-0xd+-0x2621*-0x2)]=_0x108643,_0x298946['outlines'][_0x504fdd*(-0xa7*0x1a+-0x1*-0x225e+0x13e*-0xe)*(-0x142b*-0x1+-0xd3*0x1d+-0x1*-0x3bf)+(-0x22c0+-0x1c3*0x1+0x248b*0x1)]=_0xe5797e,_0x298946['outlines'][_0x504fdd*(0x9d*-0x1a+0xb0f*0x1+-0xfb*-0x5)*(-0x104d+0x1*0x24bb+-0x146b*0x1)+(0x235e*-0x1+-0x641+0x1*0x29a8)]=_0x170354,_0x298946['outlines'][_0x504fdd*(-0x5b8+-0x1cfc+-0x58*-0x65)*(-0x16ba+-0xca1*0x2+0xb*0x45d)+(-0x2462+-0x2*-0x904+0x1264)]=_0x108643,_0x298946['outlines'][_0x504fdd*(-0x2b1*-0x1+0x71e*0x2+0x14d*-0xd)*(-0x2067+0x467+0x1c03)+(-0x3*-0x1a6+-0xad*0x2+-0x38d)]=_0xe5797e,this['_symbolSha'+'dowParams']){const _0xb2819=this['_symbolSha'+'dowParams'][_0x5a2cb6]*(-0x147f+-0x12b3+0x2738);_0x117832=this['_shadowPal'+'ette'][_0xb2819]+this['_shadowPal'+'ette'][_0xb2819+(-0x48*0x8a+-0x254e+0x4c1f)]*(0x4c0+0x7ee+-0xd*0xe6),_0x58803b=this['_shadowPal'+'ette'][_0xb2819+(0x8*-0x259+-0xb61+0x1e2b)]+this['_shadowPal'+'ette'][_0xb2819+(-0x7*0x58a+-0x4d*-0x53+0x3a*0x3d)]*(0x1fa5+0x7*-0x2f5+0x86*-0x13),_0x5d1db2=this['_shadowPal'+'ette'][_0xb2819+(0x1*-0x10d3+0x397+0xd40)]+(0x22a4+0x1c5c+0x3e81*-0x1)+Math['round'](_0x180807*this['_shadowPal'+'ette'][_0xb2819+(-0x1d0e+-0x1*0x1e7d+-0x8*-0x772)]+(0x1*-0x1922+0x76d*0x3+0x35a))*(-0x9*-0x3f5+0x3f0+-0x268d*0x1);}_0x298946['shadows'][_0x504fdd*(-0x244a+0x11*0x112+0x121c)*(-0x16a*0x7+-0xacb*0x1+-0x64*-0x35)+(-0x1ca3+0x15cf+0x6d4*0x1)]=_0x117832,_0x298946['shadows'][_0x504fdd*(-0x1fd*0x5+-0x12a4*0x1+0x1c99)*(0x19d4+-0xd7d+-0xc54)+(-0x2a4*-0x5+-0x2*0x1165+0x1597)]=_0x58803b,_0x298946['shadows'][_0x504fdd*(-0x2*0x3ba+-0xbe2+0x135a)*(0xb11*-0x2+0xca+0x155b)+(0xf76+0xa9b+0x1a0f*-0x1)]=_0x5d1db2,_0x298946['shadows'][_0x504fdd*(0x1*0x1af3+0xaed*-0x3+0x5d8)*(0x265b+-0x5a6*-0x4+-0x3cf0)+(0x13e0+0x255a+-0x3937)]=_0x117832,_0x298946['shadows'][_0x504fdd*(-0xc42+0x1*-0x10e8+0x1d2e)*(0x1a4f+0x8d2+-0x231e)+(-0x13df*-0x1+-0x6df*-0x5+0x36*-0x101)]=_0x58803b,_0x298946['shadows'][_0x504fdd*(-0x1*0x974+0x584*0x1+0x3f4)*(-0x1c5b+-0x1b6a+0x37c8)+(0x1664+0x4c2+-0xf*0x1cf)]=_0x5d1db2,_0x298946['shadows'][_0x504fdd*(0x295*0x3+0x11f4*0x1+-0x19af)*(0x789+0xd84+-0x150a)+(-0x2*-0xffd+-0x19d3+-0x621)]=_0x117832,_0x298946['shadows'][_0x504fdd*(-0x1453+0x4*0x71b+-0x815*0x1)*(0x2231*-0x1+-0x21da+-0x2*-0x2207)+(-0x165a+-0x1*0x15f6+-0x1*-0x2c57)]=_0x58803b,_0x298946['shadows'][_0x504fdd*(0x58f+-0x1183*-0x1+-0x170e)*(-0x1b95+-0x18*0x161+0x3cb0)+(-0x6*-0x59d+0x1dd5+-0x3*0x1529)]=_0x5d1db2,_0x298946['shadows'][_0x504fdd*(-0x1*-0xe21+0x203*0x4+-0x1629*0x1)*(0xb*-0x337+0x1*0x172d+-0x9*-0x15b)+(0x4*0x6da+-0x36*0x6+0x1a1b*-0x1)]=_0x117832,_0x298946['shadows'][_0x504fdd*(-0x1384+0x1082*0x1+0x306)*(-0x20c5+-0x1d7a+-0x2*-0x1f21)+(-0x9f6*0x3+-0x90c+0x1d*0x158)]=_0x58803b,_0x298946['shadows'][_0x504fdd*(0x1*-0x26b6+0x26fe+-0x44)*(-0x1*-0x1e01+0x1ed9+-0x3cd7)+(-0x1*-0x1aad+0x8f*-0x11+-0x1123)]=_0x5d1db2,_0x298946['quad']++;}_0x2936df||_0x258c54<_0xa610e2&&_0x46bd0e(this['_symbols'],_0xa610e2,_0x194b2c);}this['_noResize']=!(0xf21*0x1+0x9*-0x331+0xd98),this['autoWidth']=this['_autoWidth'],this['autoHeight']=this['_autoHeigh'+'t'],this['_noResize']=!(-0x14a9+-0x2*0xe35+0x3114);const _0x18ca32=this['_element']['pivot']['x'],_0x14cf7a=this['_element']['pivot']['y'],_0x3d06d3=this['_alignment']['x'],_0xed2a9f=this['_alignment']['y'];for(let _0xb91cee=0x215e*0x1+-0x16a8+-0xab6;_0xb91cee<this['_meshInfo']['length'];_0xb91cee++){if(this['_meshInfo'][_0xb91cee]['count']===0x161*-0x1+0xdeb+-0x42e*0x3)continue;let _0x94d692=-0x12*0x1ca+-0x43c*0x1+-0xb0*-0x35;for(const _0xceaf13 in this['_meshInfo'][_0xb91cee]['lines']){const _0x1969e1=this['_meshInfo'][_0xb91cee]['lines'][_0xceaf13],_0x3267c1=this['_lineWidth'+'s'][parseInt(_0xceaf13,-0x1f1a*0x1+-0x2*-0x10b8+-0x1c*0x15)],_0x481fb8=-_0x18ca32*this['_element']['calculated'+'Width']+_0x3d06d3*(this['_element']['calculated'+'Width']-_0x3267c1)*(this['_rtl']?-(0x1d05+-0x982*0x1+-0x1382):0x24cc+0x18b1+-0x3d7c),_0x1d99f5=(-0x9fc+0x1508+-0xb*0x101-_0x14cf7a)*this['_element']['calculated'+'Height']-_0xa39ad8-(-0x18e*0x2+0xa*0x74+-0x16b*0x1-_0xed2a9f)*(this['_element']['calculated'+'Height']-this['height']);for(let _0x473acb=_0x94d692;_0x473acb<=_0x1969e1;_0x473acb++)this['_meshInfo'][_0xb91cee]['positions'][_0x473acb*(0x1e6c+0x1fcd+-0x41*0xf5)*(-0x3d*0x1d+-0x1c9d+-0x33b*-0xb)]+=_0x481fb8,this['_meshInfo'][_0xb91cee]['positions'][_0x473acb*(-0x8d4+-0x1e25+0xcff*0x3)*(0x55*0x23+-0x29c+-0x80*0x12)+(0xde1+-0x233b+0x155d)]+=_0x481fb8,this['_meshInfo'][_0xb91cee]['positions'][_0x473acb*(0xfe1+-0x31*-0xbb+-0x675*0x8)*(0x61*0x1a+0x3cb*-0x8+0xb5*0x1d)+(-0x20a3+0x19*-0x18d+0x476e)]+=_0x481fb8,this['_meshInfo'][_0xb91cee]['positions'][_0x473acb*(0x823+0x22c7*-0x1+0x1aa8)*(0xd20+0x1782+-0x249f)+(0x23ef+0x5*0x581+-0x3f6b)]+=_0x481fb8,this['_meshInfo'][_0xb91cee]['positions'][_0x473acb*(0x7*0x26a+-0x1b*0xa9+0xf1)*(0x11*0x133+-0x5af+-0xeb1)+(-0x177a+-0x1*0xf0b+0x2*0x1343)]+=_0x1d99f5,this['_meshInfo'][_0xb91cee]['positions'][_0x473acb*(-0xabc+0xf49+-0x489)*(0x1c7d+0x1f8f+0x3*-0x1403)+(-0x7*-0x3b9+-0x4*0x77+-0x182f)]+=_0x1d99f5,this['_meshInfo'][_0xb91cee]['positions'][_0x473acb*(-0xb*-0x26e+-0x1433*-0x1+-0x2ee9)*(-0x1d27+-0x218f+0x3eb9)+(0x10b5+0x5ee+-0x169c)]+=_0x1d99f5,this['_meshInfo'][_0xb91cee]['positions'][_0x473acb*(0x1*0x22a9+0x64f+0x147a*-0x2)*(0x1*-0xa0d+-0x67*-0x40+-0xfb0)+(-0xe4a+-0x1*-0xd34+0x120)]+=_0x1d99f5;if(this['_rtl'])for(let _0x3a4929=_0x94d692;_0x3a4929<=_0x1969e1;_0x3a4929++){const _0x466ac5=_0x3a4929*(0xf9d*0x1+0x10*-0xfe+0x47)*(-0x17*-0x7+0x1*0x182b+-0x18c9);for(let _0x4f24fa=-0x18b5+0x24cb*0x1+-0xc16;_0x4f24fa<0x327*-0x9+0x1b9e+0xc5;++_0x4f24fa)this['_meshInfo'][_0xb91cee]['positions'][_0x466ac5+_0x4f24fa*(0x11d5+0x1d27+-0x2ef9)]=this['_element']['calculated'+'Width']-this['_meshInfo'][_0xb91cee]['positions'][_0x466ac5+_0x4f24fa*(0x1c*-0x10f+0x10b1*0x1+-0x67b*-0x2)]+_0x481fb8*(-0x1cfe+0x1788+-0x23*-0x28);const _0x378888=this['_meshInfo'][_0xb91cee]['positions'][_0x466ac5+(-0x505*-0x4+0x94*-0x1a+-0x509)],_0x354660=this['_meshInfo'][_0xb91cee]['positions'][_0x466ac5+(-0x1*0xcdb+-0xbe4+0x18c5)];this['_meshInfo'][_0xb91cee]['positions'][_0x466ac5+(0x1ae7+-0x114*-0x11+-0x2d38)]=this['_meshInfo'][_0xb91cee]['positions'][_0x466ac5+(0x1*-0x2c6+0x26cb*-0x1+0x2991)],this['_meshInfo'][_0xb91cee]['positions'][_0x466ac5+(0x504+0xb*0x24+-0x68a)]=this['_meshInfo'][_0xb91cee]['positions'][_0x466ac5+(-0x8e9+-0x7*0x62+0xba0)],this['_meshInfo'][_0xb91cee]['positions'][_0x466ac5+(0x4df*0x1+-0x1*0xa13+-0xde*-0x6)]=_0x378888,this['_meshInfo'][_0xb91cee]['positions'][_0x466ac5+(-0x1e8b+-0x3*0x68d+-0x72d*-0x7)]=_0x354660;}_0x94d692=_0x1969e1+(0xe89+-0xedb+0x53);}const _0x2c426f=this['_meshInfo'][_0xb91cee]['count']*(-0x1221+-0x1*-0x20c3+-0xe9e),_0x61c092=this['_meshInfo'][_0xb91cee]['quad']*(-0x145*0x5+-0xf1c+-0x1579*-0x1),_0x496eb6=new Uo(this['_meshInfo'][_0xb91cee]['meshInstan'+'ce']['mesh']['vertexBuff'+'er']);for(let _0x55c192=0x9*-0xe3+-0x70d+0x2*0x784;_0x55c192<_0x2c426f;_0x55c192++)_0x55c192>=_0x61c092?(_0x496eb6['element'][Me]['set'](-0x3b1+0x2d2+0xdf,0x631*0x3+-0x140b*-0x1+-0x269e,0x1bc*0xa+0x2fb*-0xa+0x1d*0x6e),_0x496eb6['element'][is]['set'](-0xec4+-0xe48+0x1d0c,0x24d*-0xa+-0x531+0x1c33),_0x496eb6['element'][Wt]['set'](-0x1*-0x223c+-0x1*-0x89e+0xa*-0x449,-0x80*0x4+0xbce*-0x2+0x95*0x2c,0x473+0x35b*-0x9+0x19c0,0x56*-0x5+0x1*0xb3+0xfb),_0x496eb6['element'][Ko]['set'](-0x5*-0x1df+0x2*-0x6e1+0x467,0x22ea+0x24be+0x8f5*-0x8,-0x15*0x95+-0x269a+0x32d3,-0x2284+-0x2f*-0x20+0x1ca4),_0x496eb6['element'][Zo]['set'](0x2bd*-0xd+0x61*-0x60+0x47f9,-0x14fe*0x1+0x15*-0x173+-0x1*-0x336d,-0x4ae+0xe9b+0x7*-0x16b,-0x1713+0x176d+-0x5a)):(_0x496eb6['element'][Me]['set'](this['_meshInfo'][_0xb91cee]['positions'][_0x55c192*(0x21c+0x1cf7+0x7*-0x470)+(0xc2e+0x254*-0x3+-0x532)],this['_meshInfo'][_0xb91cee]['positions'][_0x55c192*(0x21dd*0x1+0x2129*-0x1+0xb1*-0x1)+(-0x6*-0x65b+0x2436+-0x4a57)],this['_meshInfo'][_0xb91cee]['positions'][_0x55c192*(0x1553+-0x1730+0x1e0)+(-0x15*0xef+-0x2601+-0x19*-0x24e)]),_0x496eb6['element'][is]['set'](this['_meshInfo'][_0xb91cee]['uvs'][_0x55c192*(-0x1363+0x1f67+-0xc02)+(0x16a8+0xcbf+-0x2367)],this['_meshInfo'][_0xb91cee]['uvs'][_0x55c192*(0x1218+-0x49*0x58+0x702*0x1)+(0x1227+-0x3f3*-0x1+-0x1619)]),_0x496eb6['element'][Wt]['set'](this['_meshInfo'][_0xb91cee]['colors'][_0x55c192*(0x846+0xbcc+0x97*-0x22)+(-0x1f9a+-0x13*0x3a+-0x6*-0x5fc)],this['_meshInfo'][_0xb91cee]['colors'][_0x55c192*(-0xf4+0x1*0x9c9+-0x1*0x8d1)+(-0x2629+0x1bb*0x14+0x38e)],this['_meshInfo'][_0xb91cee]['colors'][_0x55c192*(-0x2ab*-0xe+0x32b*-0x1+-0x1*0x222b)+(0x1*-0x19d3+-0x85d*0x1+-0x6*-0x5b3)],this['_meshInfo'][_0xb91cee]['colors'][_0x55c192*(-0x1c3d*0x1+0x2555+-0x7*0x14c)+(0x1615*0x1+0x1eaf*0x1+-0x34c1)]),_0x496eb6['element'][Ko]['set'](this['_meshInfo'][_0xb91cee]['outlines'][_0x55c192*(0x1279+0x17*0x49+0x5*-0x501)+(0xa*0x293+0x219d+-0x3b5b)],this['_meshInfo'][_0xb91cee]['outlines'][_0x55c192*(-0x25*-0x9d+0x9c6+-0x2074)+(0x531*-0x2+-0x2*0x279+0xf55)],this['_meshInfo'][_0xb91cee]['outlines'][_0x55c192*(-0x2138+-0xe4*0xa+0x2a23)+(-0x977*0x3+0x1*0x52a+0x173d)]),_0x496eb6['element'][Zo]['set'](this['_meshInfo'][_0xb91cee]['shadows'][_0x55c192*(-0xb*-0xc5+0x6*0x4a5+-0x2452)+(0x5*0x53f+0x25*-0x1f+-0x15c0)],this['_meshInfo'][_0xb91cee]['shadows'][_0x55c192*(0x1*0x23f8+0x23f8+-0x47ed*0x1)+(-0xc5*-0x2b+0x19f5+-0x3b0b)],this['_meshInfo'][_0xb91cee]['shadows'][_0x55c192*(0x22*-0x66+-0x18ec+-0x267b*-0x1)+(0xa81+0x1*-0x22e9+0x186a)])),_0x496eb6['next']();_0x496eb6['end'](),this['_meshInfo'][_0xb91cee]['meshInstan'+'ce']['mesh']['aabb']['compute'](this['_meshInfo'][_0xb91cee]['positions']),this['_meshInfo'][_0xb91cee]['meshInstan'+'ce']['_aabbVer']=-(-0x1*0x216d+0xd49*0x1+-0x6b7*-0x3);}this['_aabbDirty']=!(0x1b2e+-0x4*-0x178+-0x210e);}['_onFontRen'+'der'](){this['font']=this['_font'];}['_onFontLoa'+'d'](_0x5e9350){this['font']!==_0x5e9350['resource']&&(this['font']=_0x5e9350['resource']);}['_onFontCha'+'nge'](_0x45094e,_0x59ba5b,_0x161a74,_0x1f1bd1){if(_0x59ba5b==='data'){this['_font']['data']=_0x161a74;const _0x10505f=this['_font']['data']['info']['maps']['length'];for(let _0x1f36f9=-0xdd9*0x1+0x1*0x1841+-0xa68;_0x1f36f9<_0x10505f;_0x1f36f9++){if(!this['_meshInfo'][_0x1f36f9])continue;const _0xcfde59=this['_meshInfo'][_0x1f36f9]['meshInstan'+'ce'];_0xcfde59&&(_0xcfde59['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0xcfde59['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0xcfde59['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x1f36f9]['width']));}}}['_onFontRem'+'ove'](_0x1b29bb){}['_setTextur'+'eParams'](_0x491ada,_0x45e4df){this['_font']&&(this['_font']['type']===Rh?(_0x491ada['deletePara'+'meter']('texture_em'+'issiveMap'),_0x491ada['deletePara'+'meter']('texture_op'+'acityMap'),_0x491ada['setParamet'+'er']('texture_ms'+'dfMap',_0x45e4df)):this['_font']['type']===dR&&(_0x491ada['deletePara'+'meter']('texture_ms'+'dfMap'),_0x491ada['setParamet'+'er']('texture_em'+'issiveMap',_0x45e4df),_0x491ada['setParamet'+'er']('texture_op'+'acityMap',_0x45e4df)));}['_getPxRang'+'e'](_0x4b9767){const _0x2d207e=Object['keys'](this['_font']['data']['chars']);for(let _0x1c8808=0x17c1+0x43e*0x3+-0x247b;_0x1c8808<_0x2d207e['length'];_0x1c8808++){const _0x259fe8=this['_font']['data']['chars'][_0x2d207e[_0x1c8808]];if(_0x259fe8['range'])return(_0x259fe8['scale']||-0x10c0+-0xf8+0xd*0x15d)*_0x259fe8['range'];}return-0x266+0x1775+-0x150d;}['_getUv'](_0x207f40){const _0x1a243a=this['_font']['data'];if(!_0x1a243a['chars'][_0x207f40])return _0x1a243a['chars']['\x20']?this['_getUv']('\x20'):[0x23b1+0x1879+-0x3c2a,0x82f*0x2+-0xe51+-0x20d,-0x1*-0xf99+-0xffa+-0x1*-0x61,-0xd50+-0xcbb+-0x1*-0x1a0b];const _0x321927=_0x1a243a['chars'][_0x207f40]['map'],_0x18bda3=_0x1a243a['info']['maps'][_0x321927]['width'],_0x5f5828=_0x1a243a['info']['maps'][_0x321927]['height'],_0x17f58b=_0x1a243a['chars'][_0x207f40]['x'],_0x5d0828=_0x1a243a['chars'][_0x207f40]['y'],_0x30ef34=_0x17f58b,_0x396868=_0x5d0828,_0x411154=_0x17f58b+_0x1a243a['chars'][_0x207f40]['width'],_0x3b9e9a=_0x5d0828-_0x1a243a['chars'][_0x207f40]['height'],_0x5a72a9=0x3*-0x6d9+-0x1*0x2193+0xa3*0x55-_0x1a243a['chars'][_0x207f40]['height']/_0x5f5828;return[_0x30ef34/_0x18bda3,_0x5a72a9-_0x396868/_0x5f5828,_0x411154/_0x18bda3,_0x5a72a9-_0x3b9e9a/_0x5f5828];}['onEnable'](){this['_fontAsset']['autoLoad']=!(-0x10a3+0x6*-0x1f9+0x1c79),this['_model']&&this['_element']['addModelTo'+'Layers'](this['_model']);}['onDisable'](){this['_fontAsset']['autoLoad']=!(0x4ef+-0x1f0a+0x1a1c),this['_model']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']);}['_setStenci'+'l'](_0x23e66c){if(this['_model']){const _0x47a9e1=this['_model']['meshInstan'+'ces'];for(let _0x281dca=0x1b55+-0x48+0x1b0d*-0x1;_0x281dca<_0x47a9e1['length'];_0x281dca++)_0x47a9e1[_0x281dca]['stencilFro'+'nt']=_0x23e66c,_0x47a9e1[_0x281dca]['stencilBac'+'k']=_0x23e66c;}}['_shouldAut'+'oFitWidth'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth'];}['_shouldAut'+'oFitHeight'](){return this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_shouldAut'+'oFit'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth']||this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_calculate'+'CharsPerTe'+'xture'](_0x23e489){const _0x8d4bb8={};_0x23e489===void(-0x1*0x1912+-0x8*0x191+0x259a)&&(_0x23e489=this['_symbols']['length']);for(let _0x4d9733=0x8e5+-0x8c3+0x2*-0x11,_0xe05265=_0x23e489;_0x4d9733<_0xe05265;_0x4d9733++){const _0x59ec93=this['_symbols'][_0x4d9733];let _0x316b22=this['_font']['data']['chars'][_0x59ec93];_0x316b22||(_0x316b22=this['_font']['data']['chars']['\x20'],_0x316b22||(_0x316b22=this['_font']['data']['chars'][Object['keys'](this['_font']['data']['chars'])[-0x24b7+0x6e3+-0x1dd4*-0x1]]));const _0x34712d=_0x316b22['map'];_0x8d4bb8[_0x34712d]?_0x8d4bb8[_0x34712d]++:_0x8d4bb8[_0x34712d]=-0x3*-0x78d+0xaf5+-0x219b*0x1;}return _0x8d4bb8;}['_updateRen'+'derRange'](){const _0x1997c8=this['_rangeStar'+'t']===0x193e+0x257*0x8+-0x2bf6*0x1?0x1*0x20c+0x20f6+-0x1181*0x2:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeStar'+'t']),_0x216847=this['_rangeEnd']===0x7*0x27f+-0x17d8+0x65f?-0xcb4+0x146b*-0x1+0x211f:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeEnd']);for(let _0x15a6aa=-0x123d*0x1+0x51*-0xb+0x15b8,_0x17ada4=this['_meshInfo']['length'];_0x15a6aa<_0x17ada4;_0x15a6aa++){const _0x3b7c69=_0x1997c8[_0x15a6aa]||-0x1ea*-0x7+0x1124+0x6*-0x517,_0x4b4fd2=_0x216847[_0x15a6aa]||-0x35e*-0x2+-0xe1a*0x2+0x1578,_0x4c3d2a=this['_meshInfo'][_0x15a6aa]['meshInstan'+'ce'];if(_0x4c3d2a){const _0x276fd2=_0x4c3d2a['mesh'];_0x276fd2&&(_0x276fd2['primitive'][0x8*-0x422+-0x1fb2+0x1596*0x3]['base']=_0x3b7c69*(-0x1e9+-0x1d68+0x2*0xfaa)*(0x1*0x1f39+-0xa45*-0x1+0x3c*-0xb1),_0x276fd2['primitive'][0x1964+0x29*-0xad+0x251]['count']=(_0x4b4fd2-_0x3b7c69)*(0x5*-0x457+0xd56+0x1*0x860)*(0x1d*0xd3+0x222+0x8ad*-0x3));}}}set['text'](_0x4789bd){this['_i18nKey']=null;const _0x550bef=_0x4789bd!=null&&_0x4789bd['toString']()||'';this['_setText'](_0x550bef);}get['text'](){return this['_text'];}set['key'](_0x3a7bed){const _0x5d0710=_0x3a7bed!==null?_0x3a7bed['toString']():null;this['_i18nKey']!==_0x5d0710&&(this['_i18nKey']=_0x5d0710,_0x5d0710?(this['_fontAsset']['disableLoc'+'alization']=!(-0x1ee2+-0x1b25+0x3a08),this['_resetLoca'+'lizedText']()):this['_fontAsset']['disableLoc'+'alization']=!(0x1*0x1db3+-0x27*-0xf1+-0x426a));}get['key'](){return this['_i18nKey'];}set['color'](_0x4b3cf4){const _0x3418ab=_0x4b3cf4['r'],_0x38321f=_0x4b3cf4['g'],_0x435089=_0x4b3cf4['b'];if(this['_color']===_0x4b3cf4&&console['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t'),!(this['_color']['r']===_0x3418ab&&this['_color']['g']===_0x38321f&&this['_color']['b']===_0x435089)&&(this['_color']['r']=_0x3418ab,this['_color']['g']=_0x38321f,this['_color']['b']=_0x435089,!!this['_model'])){if(this['_symbolCol'+'ors'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_color']),this['_colorUnif'+'orm'][0x7*-0x281+-0x1*-0x14e1+0x42*-0xd]=We['r'],this['_colorUnif'+'orm'][0xbbd+-0x1*0x1f0c+0x6*0x338]=We['g'],this['_colorUnif'+'orm'][0x1*-0x15c6+0xd*0xb3+0xcb1]=We['b'];for(let _0x29161d=-0x3*0x38f+-0x883+0x1330,_0x44d2f3=this['_model']['meshInstan'+'ces']['length'];_0x29161d<_0x44d2f3;_0x29161d++)this['_model']['meshInstan'+'ces'][_0x29161d]['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}this['_element']&&this['_element']['fire']('set:color',this['_color']);}}get['color'](){return this['_color'];}set['opacity'](_0x1547d3){if(this['_color']['a']!==_0x1547d3&&(this['_color']['a']=_0x1547d3,this['_model'])){for(let _0x4f1e47=0x25*0xa7+-0x2*0x2e5+-0x1259,_0x388b1d=this['_model']['meshInstan'+'ces']['length'];_0x4f1e47<_0x388b1d;_0x4f1e47++)this['_model']['meshInstan'+'ces'][_0x4f1e47]['setParamet'+'er']('material_o'+'pacity',_0x1547d3);}this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x1547d3);}get['opacity'](){return this['_color']['a'];}set['lineHeight'](_0x26d654){const _0x3cc662=this['_lineHeigh'+'t'];this['_lineHeigh'+'t']=_0x26d654,this['_scaledLin'+'eHeight']=_0x26d654,_0x3cc662!==_0x26d654&&this['_font']&&this['_updateTex'+'t']();}get['lineHeight'](){return this['_lineHeigh'+'t'];}set['wrapLines'](_0x485ea9){const _0x2d9307=this['_wrapLines'];this['_wrapLines']=_0x485ea9,_0x2d9307!==_0x485ea9&&this['_font']&&this['_updateTex'+'t']();}get['wrapLines'](){return this['_wrapLines'];}get['lines'](){return this['_lineConte'+'nts'];}set['spacing'](_0x5363d1){const _0x4ba94e=this['_spacing'];this['_spacing']=_0x5363d1,_0x4ba94e!==_0x5363d1&&this['_font']&&this['_updateTex'+'t']();}get['spacing'](){return this['_spacing'];}set['fontSize'](_0x2d6c20){const _0x34bf9a=this['_fontSize'];this['_fontSize']=_0x2d6c20,this['_originalF'+'ontSize']=_0x2d6c20,_0x34bf9a!==_0x2d6c20&&this['_font']&&this['_updateTex'+'t']();}get['fontSize'](){return this['_fontSize'];}set['fontAsset'](_0x2ddaf3){this['_fontAsset']['defaultAss'+'et']=_0x2ddaf3;}get['fontAsset'](){return this['_fontAsset']['localizedA'+'sset'];}set['font'](_0x441c33){let _0x57e0bb;if(this['_font']&&(_0x57e0bb=this['_font']['type'],this['_font']['off']&&this['_font']['off']('render',this['_onFontRen'+'der'],this)),this['_font']=_0x441c33,this['_fontMinY']=-0x2eb*-0x5+0x251a+-0x33b1,this['_fontMaxY']=-0x2*-0x3bf+0x1f7b+-0x26f9,!_0x441c33)return;const _0x5bb92c=this['_font']['data'];for(const _0x15dbce in _0x5bb92c['chars']){const _0x38b112=_0x5bb92c['chars'][_0x15dbce];_0x38b112['bounds']&&(this['_fontMinY']=Math['min'](this['_fontMinY'],_0x38b112['bounds'][0x1*-0x1896+-0x179+0xd08*0x2]),this['_fontMaxY']=Math['max'](this['_fontMaxY'],_0x38b112['bounds'][0x469*0x6+-0xbf5*0x1+-0xe7e]));}if(this['_font']['on']&&this['_font']['on']('render',this['_onFontRen'+'der'],this),this['_fontAsset']['localizedA'+'sset']&&this['_system']['app']['assets']['get'](this['_fontAsset']['localizedA'+'sset'])['resource']!==this['_font']&&(this['_fontAsset']['defaultAss'+'et']=null),_0x441c33['type']!==_0x57e0bb){const _0x50bf62=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x50bf62);}for(let _0x15c823=-0x1*-0xbdd+-0x1c38+0x105b,_0x1aca61=this['_font']['textures']['length'];_0x15c823<_0x1aca61;_0x15c823++)if(!this['_meshInfo'][_0x15c823])this['_meshInfo'][_0x15c823]=new vR();else{const _0x1c13b2=this['_meshInfo'][_0x15c823]['meshInstan'+'ce'];_0x1c13b2&&(_0x1c13b2['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x1c13b2['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x1c13b2['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x15c823]['width']),this['_setTextur'+'eParams'](_0x1c13b2,this['_font']['textures'][_0x15c823]));}let _0x121a3a=!(-0x2*-0x570+0x527*0x6+0x13*-0x233);for(let _0x2ad08f=this['_font']['textures']['length'];_0x2ad08f<this['_meshInfo']['length'];_0x2ad08f++)this['_meshInfo'][_0x2ad08f]['meshInstan'+'ce']&&(_0x121a3a||(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),_0x121a3a=!(-0x1f5+-0x720*0x4+0x1e75)),this['_removeMes'+'hInstance'](this['_meshInfo'][_0x2ad08f]['meshInstan'+'ce']));this['_meshInfo']['length']>this['_font']['textures']['length']&&(this['_meshInfo']['length']=this['_font']['textures']['length']),this['_updateTex'+'t']();}get['font'](){return this['_font'];}set['alignment'](_0x3e2ad1){_0x3e2ad1 instanceof J?this['_alignment']['set'](_0x3e2ad1['x'],_0x3e2ad1['y']):this['_alignment']['set'](_0x3e2ad1[0x16aa*0x1+0x1f19+-0x35c3*0x1],_0x3e2ad1[0x1*-0xf17+-0x12e7+-0x21ff*-0x1]),this['_font']&&this['_updateTex'+'t']();}get['alignment'](){return this['_alignment'];}set['autoWidth'](_0x7f8446){const _0x3fcdbc=this['_autoWidth'];if(this['_autoWidth']=_0x7f8446,_0x7f8446&&Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])<0x2625*-0x1+0x1955*-0x1+-0x3f7a*-0x1+0.0001&&(this['_element']['width']=this['width']),_0x3fcdbc!==_0x7f8446){const _0x1337e9=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x1337e9!==this['_fontSize']&&(this['_fontSize']=_0x1337e9,this['_font']&&this['_updateTex'+'t']());}}get['autoWidth'](){return this['_autoWidth'];}set['autoHeight'](_0x2e012f){const _0x526204=this['_autoHeigh'+'t'];if(this['_autoHeigh'+'t']=_0x2e012f,_0x2e012f&&Math['abs'](this['_element']['anchor']['y']-this['_element']['anchor']['w'])<0x2*-0x38b+0x202a+-0xf*0x1ac+0.0001&&(this['_element']['height']=this['height']),_0x526204!==_0x2e012f){const _0x1cc569=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x1cc569!==this['_fontSize']&&(this['_fontSize']=_0x1cc569,this['_font']&&this['_updateTex'+'t']());}}get['autoHeight'](){return this['_autoHeigh'+'t'];}set['rtlReorder'](_0x3fb598){this['_rtlReorde'+'r']!==_0x3fb598&&(this['_rtlReorde'+'r']=_0x3fb598,this['_font']&&this['_updateTex'+'t']());}get['rtlReorder'](){return this['_rtlReorde'+'r'];}set['unicodeCon'+'verter'](_0x41d596){this['_unicodeCo'+'nverter']!==_0x41d596&&(this['_unicodeCo'+'nverter']=_0x41d596,this['_setText'](this['_text']));}get['unicodeCon'+'verter'](){return this['_unicodeCo'+'nverter'];}get['aabb'](){if(this['_aabbDirty']){let _0x3ee7d3=!(0x2*-0x485+0x23a4+0x1a99*-0x1);for(let _0x540294=-0xbf*0xd+0x2b*0xa7+-0x125a;_0x540294<this['_meshInfo']['length'];_0x540294++)this['_meshInfo'][_0x540294]['meshInstan'+'ce']&&(_0x3ee7d3?this['_aabb']['add'](this['_meshInfo'][_0x540294]['meshInstan'+'ce']['aabb']):(this['_aabb']['copy'](this['_meshInfo'][_0x540294]['meshInstan'+'ce']['aabb']),_0x3ee7d3=!(-0x11b0+0x104d+-0x47*-0x5)));this['_aabbDirty']=!(-0x3*0x807+-0x1*-0x1e7+-0x3*-0x765);}return this['_aabb'];}set['outlineCol'+'or'](_0xb533a4){const _0x1ba64f=_0xb533a4 instanceof ie?_0xb533a4['r']:_0xb533a4[0x2*0xb88+0x16b8+-0x2dc8],_0x551a19=_0xb533a4 instanceof ie?_0xb533a4['g']:_0xb533a4[-0x5*-0x7a9+0x25f*0x3+0x5*-0x915],_0x344ea1=_0xb533a4 instanceof ie?_0xb533a4['b']:_0xb533a4[-0x5*0xa+-0x600+0x634],_0x44399e=_0xb533a4 instanceof ie?_0xb533a4['a']:_0xb533a4[0x11cd+0x1026+-0x21f0];if(this['_outlineCo'+'lor']===_0xb533a4&&console['warn']('Setting\x20el'+'ement.outl'+'ineColor\x20t'+'o\x20itself\x20w'+'ill\x20have\x20n'+'o\x20effect'),!(this['_outlineCo'+'lor']['r']===_0x1ba64f&&this['_outlineCo'+'lor']['g']===_0x551a19&&this['_outlineCo'+'lor']['b']===_0x344ea1&&this['_outlineCo'+'lor']['a']===_0x44399e)&&(this['_outlineCo'+'lor']['r']=_0x1ba64f,this['_outlineCo'+'lor']['g']=_0x551a19,this['_outlineCo'+'lor']['b']=_0x344ea1,this['_outlineCo'+'lor']['a']=_0x44399e,!!this['_model'])){if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][-0x1701+0x9d1+0x1*0xd30]=We['r'],this['_outlineCo'+'lorUniform'][0x22d5*-0x1+0x1*-0x1e3b+-0x1*-0x4111]=We['g'],this['_outlineCo'+'lorUniform'][0x317*-0x1+-0x1428+-0x1741*-0x1]=We['b'],this['_outlineCo'+'lorUniform'][-0x2db+0xefa+-0xc1c]=We['a'];for(let _0x2c2a84=0xad0+-0x8b*-0x2f+-0x2455,_0x337b15=this['_model']['meshInstan'+'ces']['length'];_0x2c2a84<_0x337b15;_0x2c2a84++)this['_model']['meshInstan'+'ces'][_0x2c2a84]['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']);}this['_element']&&this['_element']['fire']('set:outlin'+'e',this['_color']);}}get['outlineCol'+'or'](){return this['_outlineCo'+'lor'];}set['outlineThi'+'ckness'](_0x30f99f){const _0x381cfe=this['_outlineTh'+'ickness'];if(this['_outlineTh'+'ickness']=_0x30f99f,_0x381cfe!==_0x30f99f&&this['_font']){if(!this['_model'])return;if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{for(let _0x4477c7=0xa81+-0x446*0x4+0x7*0xf1,_0x3385e2=this['_model']['meshInstan'+'ces']['length'];_0x4477c7<_0x3385e2;_0x4477c7++)this['_model']['meshInstan'+'ces'][_0x4477c7]['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']);}}}get['outlineThi'+'ckness'](){return this['_outlineTh'+'ickness'];}set['shadowColo'+'r'](_0x3dd150){const _0x5759e3=_0x3dd150 instanceof ie?_0x3dd150['r']:_0x3dd150[0x4*-0x846+-0x14ab+0x1*0x35c3],_0x263234=_0x3dd150 instanceof ie?_0x3dd150['g']:_0x3dd150[0x73*-0x4a+0x7*0x23c+0x119b*0x1],_0x37f431=_0x3dd150 instanceof ie?_0x3dd150['b']:_0x3dd150[-0x19d8+0x1f69+0x1*-0x58f],_0x2df7f9=_0x3dd150 instanceof ie?_0x3dd150['a']:_0x3dd150[0xb3*-0x2b+-0xde2+0x2bf6];if(this['_shadowCol'+'or']===_0x3dd150&&w['warn']('Setting\x20el'+'ement.shad'+'owColor\x20to'+'\x20itself\x20wi'+'ll\x20have\x20no'+'\x20effect'),!(this['_shadowCol'+'or']['r']===_0x5759e3&&this['_shadowCol'+'or']['g']===_0x263234&&this['_shadowCol'+'or']['b']===_0x37f431&&this['_shadowCol'+'or']['a']===_0x2df7f9)&&(this['_shadowCol'+'or']['r']=_0x5759e3,this['_shadowCol'+'or']['g']=_0x263234,this['_shadowCol'+'or']['b']=_0x37f431,this['_shadowCol'+'or']['a']=_0x2df7f9,!!this['_model'])){if(this['_symbolSha'+'dowParams'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][-0x20c*0x9+-0x503+0x176f]=We['r'],this['_shadowCol'+'orUniform'][0x1f73*-0x1+-0x214b+0x40bf]=We['g'],this['_shadowCol'+'orUniform'][-0x3c9+0x2318+-0x1f4d*0x1]=We['b'],this['_shadowCol'+'orUniform'][0xfdb+-0x1ada+0xb02]=We['a'];for(let _0x5b7ab=-0x1e43+0x193f+0x1ac*0x3,_0x15fd6a=this['_model']['meshInstan'+'ces']['length'];_0x5b7ab<_0x15fd6a;_0x5b7ab++)this['_model']['meshInstan'+'ces'][_0x5b7ab]['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']);}}}get['shadowColo'+'r'](){return this['_shadowCol'+'or'];}set['shadowOffs'+'et'](_0x53997c){const _0x2abb40=_0x53997c instanceof J?_0x53997c['x']:_0x53997c[-0x1*-0x12e6+0x5e6+-0x18cc],_0x3db2c7=_0x53997c instanceof J?_0x53997c['y']:_0x53997c[-0x119*0x5+-0x1a7b*0x1+0x1ff9];if(!(this['_shadowOff'+'set']['x']===_0x2abb40&&this['_shadowOff'+'set']['y']===_0x3db2c7)&&(this['_shadowOff'+'set']['set'](_0x2abb40,_0x3db2c7),this['_font']&&this['_model'])){if(this['_symbolSha'+'dowParams'])this['_updateTex'+'t']();else for(let _0x5d374c=0x2149+0x19*-0x19+-0x292*0xc,_0x12cb90=this['_model']['meshInstan'+'ces']['length'];_0x5d374c<_0x12cb90;_0x5d374c++){const _0x49ed66=-this['_font']['data']['info']['maps'][_0x5d374c]['width']/this['_font']['data']['info']['maps'][_0x5d374c]['height'];this['_shadowOff'+'setUniform'][-0xb*-0x8b+-0x1*-0x5f3+0x2*-0x5f6]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x1*0x185c+-0x11c2+-0x699]=_0x49ed66*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'],this['_model']['meshInstan'+'ces'][_0x5d374c]['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']);}}}get['shadowOffs'+'et'](){return this['_shadowOff'+'set'];}set['minFontSiz'+'e'](_0x3dd67d){this['_minFontSi'+'ze']!==_0x3dd67d&&(this['_minFontSi'+'ze']=_0x3dd67d,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['minFontSiz'+'e'](){return this['_minFontSi'+'ze'];}set['maxFontSiz'+'e'](_0x1c8ec4){this['_maxFontSi'+'ze']!==_0x1c8ec4&&(this['_maxFontSi'+'ze']=_0x1c8ec4,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['maxFontSiz'+'e'](){return this['_maxFontSi'+'ze'];}set['autoFitWid'+'th'](_0x3c2875){this['_autoFitWi'+'dth']!==_0x3c2875&&(this['_autoFitWi'+'dth']=_0x3c2875,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitWid'+'th'](){return this['_autoFitWi'+'dth'];}set['autoFitHei'+'ght'](_0x997490){this['_autoFitHe'+'ight']!==_0x997490&&(this['_autoFitHe'+'ight']=_0x997490,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitHei'+'ght'](){return this['_autoFitHe'+'ight'];}set['maxLines'](_0x49f86d){this['_maxLines']!==_0x49f86d&&(_0x49f86d===null&&this['_maxLines']===-(-0x1fd*0xd+0x2d*-0x8f+-0x1*-0x32fd)||(this['_maxLines']=_0x49f86d===null?-(0x970+-0x151*0x1d+0x1cbe):_0x49f86d,this['font']&&this['_wrapLines']&&this['_updateTex'+'t']()));}get['maxLines'](){return this['_maxLines'];}set['enableMark'+'up'](_0x372ea2){if(_0x372ea2=!!_0x372ea2,this['_enableMar'+'kup']===_0x372ea2)return;this['_enableMar'+'kup']=_0x372ea2,this['font']&&this['_updateTex'+'t']();const _0x17d7c1=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x17d7c1);}get['enableMark'+'up'](){return this['_enableMar'+'kup'];}get['symbols'](){return this['_symbols'];}get['symbolColo'+'rs'](){return this['_symbolCol'+'ors']===null?null:this['_symbolCol'+'ors']['map'](function(_0x144afc){return this['_colorPale'+'tte']['slice'](_0x144afc*(0x12*0x1cf+-0xd3d+0x2*-0x9a7),_0x144afc*(0x3cc+-0x5*0xb+0x392*-0x1)+(0x1*-0x263f+-0x7bf*-0x1+-0x1e83*-0x1));},this);}get['symbolOutl'+'ineParams'](){return this['_symbolOut'+'lineParams']===null?null:this['_symbolOut'+'lineParams']['map'](function(_0x1090d7){return this['_outlinePa'+'lette']['slice'](_0x1090d7*(-0x15e4+0x1*0x9f1+0xbf8),_0x1090d7*(-0x1d97+0xdb0+0xfec)+(0x1f2+-0x117f*-0x2+-0x24eb));},this);}get['symbolShad'+'owParams'](){return this['_symbolSha'+'dowParams']===null?null:this['_symbolSha'+'dowParams']['map'](function(_0x439df9){return this['_shadowPal'+'ette']['slice'](_0x439df9*(0xa13*0x3+0x9*-0x3f+-0x1bfc),_0x439df9*(0x243a*-0x1+-0x1*-0x1cee+0x752*0x1)+(-0x166*-0x1a+-0x202b+-0x42b));},this);}get['rtl'](){return this['_rtl'];}set['rangeStart'](_0x4f22e6){_0x4f22e6=Math['max'](-0x1*-0xb+0x1c55+-0x1c60,Math['min'](_0x4f22e6,this['_symbols']['length'])),_0x4f22e6!==this['_rangeStar'+'t']&&(this['_rangeStar'+'t']=_0x4f22e6,this['_updateRen'+'derRange']());}get['rangeStart'](){return this['_rangeStar'+'t'];}set['rangeEnd'](_0x4d21bc){_0x4d21bc=Math['max'](this['_rangeStar'+'t'],Math['min'](_0x4d21bc,this['_symbols']['length'])),_0x4d21bc!==this['_rangeEnd']&&(this['_rangeEnd']=_0x4d21bc,this['_updateRen'+'derRange']());}get['rangeEnd'](){return this['_rangeEnd'];}}const Ef=new D(),Zg=new te(),Pi=new D(),MR=new D(),ws=new te(),bc=new te(),Ac=new te(),$a=new te();class hs extends we{constructor(_0x5cffb3,_0x5da951){super(_0x5cffb3,_0x5da951),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_beingInit'+'ialized']=!(0x1e0b+0xd81+-0x2b8b),this['_anchor']=new re(),this['_localAnch'+'or']=new re(),this['_pivot']=new J(),this['_width']=this['_calculate'+'dWidth']=0x219e*0x1+-0x2180+-0x1*-0x2,this['_height']=this['_calculate'+'dHeight']=-0x1c0b+0x6a*0x11+-0x259*-0x9,this['_margin']=new re(-0x19e5*0x1+0x1*-0x5c4+0x1fa9,-0x185*-0xb+0x2645+-0x36fc,-(-0x616+0x196*-0x1+0x7cc),-(0x1*0x9c5+-0xce1+-0x33c*-0x1)),this['_modelTran'+'sform']=new te(),this['_screenToW'+'orld']=new te(),this['_anchorTra'+'nsform']=new te(),this['_anchorDir'+'ty']=!(0xcab+-0xa*-0x3d6+-0x3307*0x1),this['_parentWor'+'ldTransfor'+'m']=new te(),this['_screenTra'+'nsform']=new te(),this['_screenCor'+'ners']=[new D(),new D(),new D(),new D()],this['_canvasCor'+'ners']=[new J(),new J(),new J(),new J()],this['_worldCorn'+'ers']=[new D(),new D(),new D(),new D()],this['_cornersDi'+'rty']=!(-0x1929*0x1+-0x1*-0x1632+0x2f7),this['_canvasCor'+'nersDirty']=!(0x534*-0x2+-0x833*0x1+0x129b),this['_worldCorn'+'ersDirty']=!(-0x637*-0x1+0xeee+0x1525*-0x1),this['entity']['on']('insert',this['_onInsert'],this),this['_patch'](),this['screen']=null,this['_type']=eh,this['_image']=null,this['_text']=null,this['_group']=null,this['_drawOrder']=-0xa2f+-0x15ba+0x3*0xaa3,this['_fitMode']=th,this['_useInput']=!(-0x1*0x892+0x19a6+-0x1*0x1113),this['_layers']=[Il],this['_addedMode'+'ls']=[],this['_batchGrou'+'pId']=-(0xf03+-0x1*0xdc+-0xe26),this['_batchGrou'+'p']=null,this['_offsetRea'+'dAt']=-0x1*-0x1c31+-0x30*-0x50+-0x2b31*0x1,this['_maskOffse'+'t']=0x1246*0x1+0x11dd+-0x2423+0.5,this['_maskedBy']=null);}get['data'](){const _0x65dc5e=this['system']['store'][this['entity']['getGuid']()];return _0x65dc5e?_0x65dc5e['data']:null;}set['enabled'](_0x33cf60){const _0x317498=this['data'],_0x2c21d3=_0x317498['enabled'];_0x317498['enabled']=_0x33cf60,this['fire']('set','enabled',_0x2c21d3,_0x33cf60);}get['enabled'](){return this['data']['enabled'];}get['_absLeft'](){return this['_localAnch'+'or']['x']+this['_margin']['x'];}get['_absRight'](){return this['_localAnch'+'or']['z']-this['_margin']['z'];}get['_absTop'](){return this['_localAnch'+'or']['w']-this['_margin']['w'];}get['_absBottom'](){return this['_localAnch'+'or']['y']+this['_margin']['y'];}get['_hasSplitA'+'nchorsX'](){return Math['abs'](this['_anchor']['x']-this['_anchor']['z'])>0x1890*0x1+0x164*-0x11+0x2*-0x76+0.001;}get['_hasSplitA'+'nchorsY'](){return Math['abs'](this['_anchor']['y']-this['_anchor']['w'])>-0x449*0x4+-0x2236+0x335a+0.001;}get['aabb'](){return this['_image']?this['_image']['aabb']:this['_text']?this['_text']['aabb']:null;}set['anchor'](_0xc66273){_0xc66273 instanceof re?this['_anchor']['copy'](_0xc66273):this['_anchor']['set'](..._0xc66273),!this['entity']['_parent']&&!this['screen']?this['_calculate'+'LocalAncho'+'rs']():this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['_anchorDir'+'ty']=!(-0x1612+-0x3*0x4cf+0x247f),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:anchor',this['_anchor']);}get['anchor'](){return this['_anchor'];}set['batchGroup'+'Id'](_0x100fd6){var _0x17a15c,_0x13380f;this['_batchGrou'+'pId']!==_0x100fd6&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x20ea+-0x11*-0x1bb+-0x3e55*0x1&&((_0x17a15c=this['system']['app']['batcher'])==null||_0x17a15c['remove'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x100fd6>=0xc31+-0x1*-0xa+-0xc3b&&((_0x13380f=this['system']['app']['batcher'])==null||_0x13380f['insert'](St['ELEMENT'],_0x100fd6,this['entity'])),_0x100fd6<0x1e71*0x1+0xe91+-0x2d02&&this['_batchGrou'+'pId']>=-0x1*-0xa95+-0x17*-0xda+-0x1e2b*0x1&&this['enabled']&&this['entity']['enabled']&&(this['_image']&&this['_image']['_renderabl'+'e']['model']?this['addModelTo'+'Layers'](this['_image']['_renderabl'+'e']['model']):this['_text']&&this['_text']['_model']&&this['addModelTo'+'Layers'](this['_text']['_model'])),this['_batchGrou'+'pId']=_0x100fd6);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['bottom'](_0x3a30d0){this['_margin']['y']=_0x3a30d0;const _0x1591e3=this['entity']['getLocalPo'+'sition'](),_0x4cb170=this['_absTop'],_0x1cce05=this['_localAnch'+'or']['y']+_0x3a30d0;this['_setHeight'](_0x4cb170-_0x1cce05),_0x1591e3['y']=_0x3a30d0+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x1591e3);}get['bottom'](){return this['_margin']['y'];}set['calculated'+'Width'](_0x56ee2b){this['_setCalcul'+'atedWidth'](_0x56ee2b,!(0x132*-0x1b+0x5*-0x269+0x1*0x2c53));}get['calculated'+'Width'](){return this['_calculate'+'dWidth'];}set['calculated'+'Height'](_0x3cb9ca){this['_setCalcul'+'atedHeight'](_0x3cb9ca,!(-0xf*-0xd5+-0x3d1+-0x8aa));}get['calculated'+'Height'](){return this['_calculate'+'dHeight'];}get['canvasCorn'+'ers'](){if(!this['_canvasCor'+'nersDirty']||!this['screen']||!this['screen']['screen']['screenSpac'+'e'])return this['_canvasCor'+'ners'];const _0x1d0c4d=this['system']['app']['graphicsDe'+'vice'],_0xc5a661=this['screenCorn'+'ers'],_0x4e979a=_0x1d0c4d['canvas']['clientWidt'+'h']/_0x1d0c4d['width'],_0x3a0dec=_0x1d0c4d['canvas']['clientHeig'+'ht']/_0x1d0c4d['height'];for(let _0x12a587=0x8b0+-0xe86+0x5d6;_0x12a587<-0xa57*-0x3+0x1*-0x1ae2+-0x41f;_0x12a587++)this['_canvasCor'+'ners'][_0x12a587]['set'](_0xc5a661[_0x12a587]['x']*_0x4e979a,(_0x1d0c4d['height']-_0xc5a661[_0x12a587]['y'])*_0x3a0dec);return this['_canvasCor'+'nersDirty']=!(-0x12d1+-0x437*0x9+-0x38c1*-0x1),this['_canvasCor'+'ners'];}set['drawOrder'](_0x55d009){let _0x5727bc=0x5d*0x6a+0xda1+0x1161*-0x3;this['screen']&&(_0x5727bc=this['screen']['screen']['priority']),_0x55d009>0x12464*-0x173+0x37cf58+0x26fed93&&(w['warn']('Element.dr'+'awOrder\x20la'+'rger\x20than\x20'+'max\x20size\x20o'+'f:\x201677721'+'5'),_0x55d009=0x19bdd7+0x184b263+-0x9e703b),this['_drawOrder']=(_0x5727bc<<-0x2ed+0x2670+-0x236b*0x1)+_0x55d009,this['fire']('set:drawor'+'der',this['_drawOrder']);}get['drawOrder'](){return this['_drawOrder'];}set['height'](_0x560c9f){this['_height']=_0x560c9f,this['_hasSplitA'+'nchorsY']||this['_setCalcul'+'atedHeight'](_0x560c9f,!(-0xb2*0x31+-0x2*-0xea7+0x3d*0x14)),this['fire']('set:height',this['_height']);}get['height'](){return this['_height'];}set['layers'](_0x572891){if(this['_addedMode'+'ls']['length'])for(let _0x496adb=0x620+0x31*0x8f+-0x217f;_0x496adb<this['_layers']['length'];_0x496adb++){const _0x54042d=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x496adb]);if(_0x54042d){for(let _0x1b5032=0x41*0x1d+0x153a+-0x233*0xd;_0x1b5032<this['_addedMode'+'ls']['length'];_0x1b5032++)_0x54042d['removeMesh'+'Instances'](this['_addedMode'+'ls'][_0x1b5032]['meshInstan'+'ces']);}}if(this['_layers']=_0x572891,!(!this['enabled']||!this['entity']['enabled']||!this['_addedMode'+'ls']['length']))for(let _0x6712fe=0x2e*-0x2f+-0x7+-0x1*-0x879;_0x6712fe<this['_layers']['length'];_0x6712fe++){const _0x5cd68e=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x6712fe]);if(_0x5cd68e){for(let _0x4c2fe8=0x61f+0xc95+-0x12b4;_0x4c2fe8<this['_addedMode'+'ls']['length'];_0x4c2fe8++)_0x5cd68e['addMeshIns'+'tances'](this['_addedMode'+'ls'][_0x4c2fe8]['meshInstan'+'ces']);}}}get['layers'](){return this['_layers'];}set['left'](_0x4391be){this['_margin']['x']=_0x4391be;const _0x8b9caa=this['entity']['getLocalPo'+'sition'](),_0x3a5430=this['_absRight'],_0x1d890c=this['_localAnch'+'or']['x']+_0x4391be;this['_setWidth'](_0x3a5430-_0x1d890c),_0x8b9caa['x']=_0x4391be+this['_calculate'+'dWidth']*this['_pivot']['x'],this['entity']['setLocalPo'+'sition'](_0x8b9caa);}get['left'](){return this['_margin']['x'];}set['margin'](_0x262119){this['_margin']['copy'](_0x262119),this['_calculate'+'Size'](!(-0x2471*0x1+-0x1a09*-0x1+0xa68),!(0x1c8+-0x9a9+0x7e1)),this['fire']('set:margin',this['_margin']);}get['margin'](){return this['_margin'];}get['maskedBy'](){return this['_maskedBy'];}set['pivot'](_0x5cfdc0){const {pivot:_0x4be709,margin:_0xcca291}=this,_0x4efb1c=_0x4be709['x'],_0x5b48c6=_0x4be709['y'];_0x5cfdc0 instanceof J?_0x4be709['copy'](_0x5cfdc0):_0x4be709['set'](..._0x5cfdc0);const _0x4a0fcb=_0xcca291['x']+_0xcca291['z'],_0x37b0ce=_0x4be709['x']-_0x4efb1c;_0xcca291['x']+=_0x4a0fcb*_0x37b0ce,_0xcca291['z']-=_0x4a0fcb*_0x37b0ce;const _0x49d8cb=_0xcca291['y']+_0xcca291['w'],_0x1affc7=_0x4be709['y']-_0x5b48c6;_0xcca291['y']+=_0x49d8cb*_0x1affc7,_0xcca291['w']-=_0x49d8cb*_0x1affc7,this['_anchorDir'+'ty']=!(0x1606+-0x1*0x13f7+0x11*-0x1f),this['_cornersDi'+'rty']=!(-0x1d02+-0x1910+0x3612),this['_worldCorn'+'ersDirty']=!(0x10ca+-0x676*0x1+-0xa54),this['_calculate'+'Size'](!(0x1e44+-0x415+-0x1a2e),!(0x19*0x2e+0x8*-0x236+0xd33)),this['_flagChild'+'renAsDirty'](),this['fire']('set:pivot',_0x4be709);}get['pivot'](){return this['_pivot'];}set['right'](_0x19017e){this['_margin']['z']=_0x19017e;const _0x2cd377=this['entity']['getLocalPo'+'sition'](),_0x41ccbc=this['_absLeft'],_0x5df195=this['_localAnch'+'or']['z']-_0x19017e;this['_setWidth'](_0x5df195-_0x41ccbc),_0x2cd377['x']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-_0x19017e-this['_calculate'+'dWidth']*(-0xa64+-0xcf3*0x1+0x4*0x5d6-this['_pivot']['x']),this['entity']['setLocalPo'+'sition'](_0x2cd377);}get['right'](){return this['_margin']['z'];}get['screenCorn'+'ers'](){if(!this['_cornersDi'+'rty']||!this['screen'])return this['_screenCor'+'ners'];const _0x189b4c=this['entity']['parent']&&this['entity']['parent']['element']&&this['entity']['parent']['element']['screenCorn'+'ers'][0x8*-0x273+0x3e*-0x80+0x3298*0x1];this['_screenCor'+'ners'][0x4a2*0x1+-0x234a+-0x24*-0xda]['set'](this['_absLeft'],this['_absBottom'],0x1*-0x531+0x845*-0x1+0xd76),this['_screenCor'+'ners'][0x2234+0xd84+0x23*-0x15d]['set'](this['_absRight'],this['_absBottom'],0xbb3*-0x2+-0x95b+0x20c1),this['_screenCor'+'ners'][0x1022+-0x2089+0x1069]['set'](this['_absRight'],this['_absTop'],0x1cdd+-0x14f3+-0x2*0x3f5),this['_screenCor'+'ners'][0x1*0xc5+0xbb7*-0x1+0xaf5]['set'](this['_absLeft'],this['_absTop'],-0x9*0xef+-0x754+0xfbb);const _0x46bcc4=this['screen']['screen']['screenSpac'+'e'];for(let _0x57c83b=-0x9c7*0x3+-0x11a*-0x6+0x16b9;_0x57c83b<-0x3a0+0x1d99+-0x1bb*0xf;_0x57c83b++)this['_screenTra'+'nsform']['transformP'+'oint'](this['_screenCor'+'ners'][_0x57c83b],this['_screenCor'+'ners'][_0x57c83b]),_0x46bcc4&&this['_screenCor'+'ners'][_0x57c83b]['mulScalar'](this['screen']['screen']['scale']),_0x189b4c&&this['_screenCor'+'ners'][_0x57c83b]['add'](_0x189b4c);return this['_cornersDi'+'rty']=!(-0xe44+0xfd*-0x1d+-0x1577*-0x2),this['_canvasCor'+'nersDirty']=!(-0x40*-0x3f+-0x3*-0x4b1+0x5*-0x5f7),this['_worldCorn'+'ersDirty']=!(0x1f34+-0x1*-0x18fb+-0x382f),this['_screenCor'+'ners'];}get['textWidth'](){return this['_text']?this['_text']['width']:-0x53*-0xd+0x33b*0x2+-0xaad;}get['textHeight'](){return this['_text']?this['_text']['height']:-0x24d1+0x1*-0x12dd+0x1bd7*0x2;}set['top'](_0x585bac){this['_margin']['w']=_0x585bac;const _0x4c492e=this['entity']['getLocalPo'+'sition'](),_0x48623b=this['_absBottom'],_0x12256c=this['_localAnch'+'or']['w']-_0x585bac;this['_setHeight'](_0x12256c-_0x48623b),_0x4c492e['y']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-_0x585bac-this['_calculate'+'dHeight']*(0xb58*-0x1+-0x9a4*-0x4+0x1*-0x1b37-this['_pivot']['y']),this['entity']['setLocalPo'+'sition'](_0x4c492e);}get['top'](){return this['_margin']['w'];}set['type'](_0x5ed086){_0x5ed086!==this['_type']&&(this['_type']=_0x5ed086,this['_image']&&(this['_image']['destroy'](),this['_image']=null),this['_text']&&(this['_text']['destroy'](),this['_text']=null),_0x5ed086===Cu?this['_image']=new cR(this):_0x5ed086===jv&&(this['_text']=new PR(this)));}get['type'](){return this['_type'];}set['useInput'](_0xa25fcd){this['_useInput']!==_0xa25fcd&&(this['_useInput']=_0xa25fcd,this['system']['app']['elementInp'+'ut']?_0xa25fcd?this['enabled']&&this['entity']['enabled']&&this['system']['app']['elementInp'+'ut']['addElement'](this):this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this):this['_useInput']===!(-0x1*0x1b69+-0x2*0xeae+0x38c5*0x1)&&w['warn']('Elements\x20w'+'ill\x20not\x20ge'+'t\x20any\x20inpu'+'t\x20events\x20b'+'ecause\x20thi'+'s.system.a'+'pp.element'+'Input\x20is\x20n'+'ot\x20created'),this['fire']('set:useInp'+'ut',_0xa25fcd));}get['useInput'](){return this['_useInput'];}set['fitMode'](_0x5e61c7){this['_fitMode']=_0x5e61c7,this['_calculate'+'Size'](!(0x215e+0x1*0x24b1+-0x41f*0x11),!(0x152b*0x1+-0x1333+-0x1f8)),this['_image']&&this['_image']['refreshMes'+'h']();}get['fitMode'](){return this['_fitMode'];}set['width'](_0xaeae36){this['_width']=_0xaeae36,this['_hasSplitA'+'nchorsX']||this['_setCalcul'+'atedWidth'](_0xaeae36,!(-0x1b15*-0x1+0x35*-0x65+-0x62c)),this['fire']('set:width',this['_width']);}get['width'](){return this['_width'];}get['worldCorne'+'rs'](){if(!this['_worldCorn'+'ersDirty'])return this['_worldCorn'+'ers'];if(this['screen']){const _0x1d6980=this['screenCorn'+'ers'];if(!this['screen']['screen']['screenSpac'+'e']){ws['copy'](this['screen']['screen']['_screenMat'+'rix']),ws['data'][0x1*-0x17c9+-0x1*-0x2149+0x1*-0x973]=-ws['data'][-0xc*-0x2b6+0x1301+-0x337c],ws['mul2'](this['screen']['getWorldTr'+'ansform'](),ws);for(let _0x24862a=-0x188e+0x1860+0x2e;_0x24862a<-0xb*0x18e+0x1e39+-0xd1b;_0x24862a++)ws['transformP'+'oint'](_0x1d6980[_0x24862a],this['_worldCorn'+'ers'][_0x24862a]);}}else{const _0x2158cf=this['entity']['getLocalPo'+'sition']();ws['setTransla'+'te'](-_0x2158cf['x'],-_0x2158cf['y'],-_0x2158cf['z']),bc['setTRS'](D['ZERO'],this['entity']['getLocalRo'+'tation'](),this['entity']['getLocalSc'+'ale']()),Ac['setTransla'+'te'](_0x2158cf['x'],_0x2158cf['y'],_0x2158cf['z']);const _0x5676af=this['entity']['parent']?this['entity']['parent']:this['entity'];$a['copy'](_0x5676af['getWorldTr'+'ansform']()),$a['mul'](Ac)['mul'](bc)['mul'](ws),Pi['set'](_0x2158cf['x']-this['pivot']['x']*this['calculated'+'Width'],_0x2158cf['y']-this['pivot']['y']*this['calculated'+'Height'],_0x2158cf['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][0x18f3+-0x10d5+-0x81e]),Pi['set'](_0x2158cf['x']+(0xdfd*0x1+-0x13d*0x5+0x13*-0x69-this['pivot']['x'])*this['calculated'+'Width'],_0x2158cf['y']-this['pivot']['y']*this['calculated'+'Height'],_0x2158cf['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][0x11df*0x1+0xbbb+-0x1d99*0x1]),Pi['set'](_0x2158cf['x']+(0x1*0x1725+-0x2ac+0x51e*-0x4-this['pivot']['x'])*this['calculated'+'Width'],_0x2158cf['y']+(0x833+0x9*0x1e9+-0x1963-this['pivot']['y'])*this['calculated'+'Height'],_0x2158cf['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][0x1ad9+-0x1f5*0x13+0xa58]),Pi['set'](_0x2158cf['x']-this['pivot']['x']*this['calculated'+'Width'],_0x2158cf['y']+(-0xc9a*-0x2+-0x135c+-0x5d7-this['pivot']['y'])*this['calculated'+'Height'],_0x2158cf['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][0x1ed*0xd+0x1*-0x952+-0xfb4]);}return this['_worldCorn'+'ersDirty']=!(0x1920+-0x1a63+0x144),this['_worldCorn'+'ers'];}set['fontSize'](_0x34ee46){this['_setValue']('fontSize',_0x34ee46);}get['fontSize'](){return this['_text']?this['_text']['fontSize']:null;}set['minFontSiz'+'e'](_0x50380e){this['_setValue']('minFontSiz'+'e',_0x50380e);}get['minFontSiz'+'e'](){return this['_text']?this['_text']['minFontSiz'+'e']:null;}set['maxFontSiz'+'e'](_0xdba3e4){this['_setValue']('maxFontSiz'+'e',_0xdba3e4);}get['maxFontSiz'+'e'](){return this['_text']?this['_text']['maxFontSiz'+'e']:null;}set['maxLines'](_0x447a18){this['_setValue']('maxLines',_0x447a18);}get['maxLines'](){return this['_text']?this['_text']['maxLines']:null;}set['autoFitWid'+'th'](_0x4eea16){this['_setValue']('autoFitWid'+'th',_0x4eea16);}get['autoFitWid'+'th'](){return this['_text']?this['_text']['autoFitWid'+'th']:null;}set['autoFitHei'+'ght'](_0x4bfec4){this['_setValue']('autoFitHei'+'ght',_0x4bfec4);}get['autoFitHei'+'ght'](){return this['_text']?this['_text']['autoFitHei'+'ght']:null;}set['color'](_0x5ba588){this['_setValue']('color',_0x5ba588);}get['color'](){return this['_text']?this['_text']['color']:this['_image']?this['_image']['color']:null;}set['font'](_0x175ac9){this['_setValue']('font',_0x175ac9);}get['font'](){return this['_text']?this['_text']['font']:null;}set['fontAsset'](_0x3fc3fc){this['_setValue']('fontAsset',_0x3fc3fc);}get['fontAsset'](){return this['_text']&&typeof this['_text']['fontAsset']=='number'?this['_text']['fontAsset']:null;}set['spacing'](_0x108c4d){this['_setValue']('spacing',_0x108c4d);}get['spacing'](){return this['_text']?this['_text']['spacing']:null;}set['lineHeight'](_0x4b4350){this['_setValue']('lineHeight',_0x4b4350);}get['lineHeight'](){return this['_text']?this['_text']['lineHeight']:null;}set['wrapLines'](_0x1715b7){this['_setValue']('wrapLines',_0x1715b7);}get['wrapLines'](){return this['_text']?this['_text']['wrapLines']:null;}set['lines'](_0x2380d6){this['_setValue']('lines',_0x2380d6);}get['lines'](){return this['_text']?this['_text']['lines']:null;}set['alignment'](_0x1f0613){this['_setValue']('alignment',_0x1f0613);}get['alignment'](){return this['_text']?this['_text']['alignment']:null;}set['autoWidth'](_0x12c440){this['_setValue']('autoWidth',_0x12c440);}get['autoWidth'](){return this['_text']?this['_text']['autoWidth']:null;}set['autoHeight'](_0x19e133){this['_setValue']('autoHeight',_0x19e133);}get['autoHeight'](){return this['_text']?this['_text']['autoHeight']:null;}set['rtlReorder'](_0xdf502a){this['_setValue']('rtlReorder',_0xdf502a);}get['rtlReorder'](){return this['_text']?this['_text']['rtlReorder']:null;}set['unicodeCon'+'verter'](_0x23c5d9){this['_setValue']('unicodeCon'+'verter',_0x23c5d9);}get['unicodeCon'+'verter'](){return this['_text']?this['_text']['unicodeCon'+'verter']:null;}set['text'](_0xfaa233){this['_setValue']('text',_0xfaa233);}get['text'](){return this['_text']?this['_text']['text']:null;}set['key'](_0x54b703){this['_setValue']('key',_0x54b703);}get['key'](){return this['_text']?this['_text']['key']:null;}set['texture'](_0x484bb7){this['_setValue']('texture',_0x484bb7);}get['texture'](){return this['_image']?this['_image']['texture']:null;}set['textureAss'+'et'](_0x20dd41){this['_setValue']('textureAss'+'et',_0x20dd41);}get['textureAss'+'et'](){return this['_image']?this['_image']['textureAss'+'et']:null;}set['material'](_0x365c8a){this['_setValue']('material',_0x365c8a);}get['material'](){return this['_image']?this['_image']['material']:null;}set['materialAs'+'set'](_0x32062d){this['_setValue']('materialAs'+'set',_0x32062d);}get['materialAs'+'set'](){return this['_image']?this['_image']['materialAs'+'set']:null;}set['sprite'](_0x7f7037){this['_setValue']('sprite',_0x7f7037);}get['sprite'](){return this['_image']?this['_image']['sprite']:null;}set['spriteAsse'+'t'](_0x446df5){this['_setValue']('spriteAsse'+'t',_0x446df5);}get['spriteAsse'+'t'](){return this['_image']?this['_image']['spriteAsse'+'t']:null;}set['spriteFram'+'e'](_0x150b08){this['_setValue']('spriteFram'+'e',_0x150b08);}get['spriteFram'+'e'](){return this['_image']?this['_image']['spriteFram'+'e']:null;}set['pixelsPerU'+'nit'](_0x1f6821){this['_setValue']('pixelsPerU'+'nit',_0x1f6821);}get['pixelsPerU'+'nit'](){return this['_image']?this['_image']['pixelsPerU'+'nit']:null;}set['opacity'](_0x1cba9e){this['_setValue']('opacity',_0x1cba9e);}get['opacity'](){return this['_text']?this['_text']['opacity']:this['_image']?this['_image']['opacity']:null;}set['rect'](_0x5c50f6){this['_setValue']('rect',_0x5c50f6);}get['rect'](){return this['_image']?this['_image']['rect']:null;}set['mask'](_0x50720d){this['_setValue']('mask',_0x50720d);}get['mask'](){return this['_image']?this['_image']['mask']:null;}set['outlineCol'+'or'](_0x45e2b9){this['_setValue']('outlineCol'+'or',_0x45e2b9);}get['outlineCol'+'or'](){return this['_text']?this['_text']['outlineCol'+'or']:null;}set['outlineThi'+'ckness'](_0x3e3fb3){this['_setValue']('outlineThi'+'ckness',_0x3e3fb3);}get['outlineThi'+'ckness'](){return this['_text']?this['_text']['outlineThi'+'ckness']:null;}set['shadowColo'+'r'](_0x146aa7){this['_setValue']('shadowColo'+'r',_0x146aa7);}get['shadowColo'+'r'](){return this['_text']?this['_text']['shadowColo'+'r']:null;}set['shadowOffs'+'et'](_0x52d522){this['_setValue']('shadowOffs'+'et',_0x52d522);}get['shadowOffs'+'et'](){return this['_text']?this['_text']['shadowOffs'+'et']:null;}set['enableMark'+'up'](_0x27f094){this['_setValue']('enableMark'+'up',_0x27f094);}get['enableMark'+'up'](){return this['_text']?this['_text']['enableMark'+'up']:null;}set['rangeStart'](_0x22f135){this['_setValue']('rangeStart',_0x22f135);}get['rangeStart'](){return this['_text']?this['_text']['rangeStart']:null;}set['rangeEnd'](_0x5a9728){this['_setValue']('rangeEnd',_0x5a9728);}get['rangeEnd'](){return this['_text']?this['_text']['rangeEnd']:null;}['_setValue'](_0x468f95,_0x310355){this['_text']?(this['_text'][_0x468f95]!==_0x310355&&this['_dirtyBatc'+'h'](),this['_text'][_0x468f95]=_0x310355):this['_image']&&(this['_image'][_0x468f95]!==_0x310355&&this['_dirtyBatc'+'h'](),this['_image'][_0x468f95]=_0x310355);}['_patch'](){this['entity']['_sync']=this['_sync'],this['entity']['setPositio'+'n']=this['_setPositi'+'on'],this['entity']['setLocalPo'+'sition']=this['_setLocalP'+'osition'];}['_unpatch'](){this['entity']['_sync']=lt['prototype']['_sync'],this['entity']['setPositio'+'n']=lt['prototype']['setPositio'+'n'],this['entity']['setLocalPo'+'sition']=lt['prototype']['setLocalPo'+'sition'];}['_setPositi'+'on'](_0x21b288,_0x2ba783,_0x8e54b0){if(!this['element']['screen']){lt['prototype']['setPositio'+'n']['call'](this,_0x21b288,_0x2ba783,_0x8e54b0);return;}_0x21b288 instanceof D?Ef['copy'](_0x21b288):Ef['set'](_0x21b288,_0x2ba783,_0x8e54b0),this['getWorldTr'+'ansform'](),Zg['copy'](this['element']['_screenToW'+'orld'])['invert'](),Zg['transformP'+'oint'](Ef,this['localPosit'+'ion']),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_setLocalP'+'osition'](_0x519a78,_0x554e0a,_0x4ada18){_0x519a78 instanceof D?this['localPosit'+'ion']['copy'](_0x519a78):this['localPosit'+'ion']['set'](_0x519a78,_0x554e0a,_0x4ada18);const _0x204bf0=this['element'],_0x30a109=this['localPosit'+'ion'],_0x15e439=_0x204bf0['_pivot'];_0x204bf0['_margin']['x']=_0x30a109['x']-_0x204bf0['_calculate'+'dWidth']*_0x15e439['x'],_0x204bf0['_margin']['z']=_0x204bf0['_localAnch'+'or']['z']-_0x204bf0['_localAnch'+'or']['x']-_0x204bf0['_calculate'+'dWidth']-_0x204bf0['_margin']['x'],_0x204bf0['_margin']['y']=_0x30a109['y']-_0x204bf0['_calculate'+'dHeight']*_0x15e439['y'],_0x204bf0['_margin']['w']=_0x204bf0['_localAnch'+'or']['w']-_0x204bf0['_localAnch'+'or']['y']-_0x204bf0['_calculate'+'dHeight']-_0x204bf0['_margin']['y'],this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_sync'](){const _0x240b17=this['element'],_0x5e2699=_0x240b17['screen'];if(_0x5e2699){if(_0x240b17['_anchorDir'+'ty']){let _0x3f6f19=-0x920*0x1+-0x5c9+0xee9,_0x13172f=0xe62+0x1775+-0x25d7,_0x3a85d6=-0xfc2+-0xb*0x1a8+0x2*0x10fd,_0x89fff0=0x24dd+0x1ea7+-0x4383;if(this['_parent']&&this['_parent']['element'])_0x3f6f19=this['_parent']['element']['calculated'+'Width'],_0x13172f=this['_parent']['element']['calculated'+'Height'],_0x3a85d6=this['_parent']['element']['pivot']['x'],_0x89fff0=this['_parent']['element']['pivot']['y'];else{const _0x31099b=_0x5e2699['screen']['resolution'];_0x3f6f19=_0x31099b['x']/_0x5e2699['screen']['scale'],_0x13172f=_0x31099b['y']/_0x5e2699['screen']['scale'];}_0x240b17['_anchorTra'+'nsform']['setTransla'+'te'](_0x3f6f19*(_0x240b17['anchor']['x']-_0x3a85d6),-(_0x13172f*(_0x89fff0-_0x240b17['anchor']['y'])),-0x12b5*-0x1+0x1ff4+-0x32a9),_0x240b17['_anchorDir'+'ty']=!(0x2085+-0x1790+-0x8f4),_0x240b17['_calculate'+'LocalAncho'+'rs']();}_0x240b17['_sizeDirty']&&_0x240b17['_calculate'+'Size'](!(0x518+0x767+-0xc7e),!(-0x9a*-0x4+0x16*0xc1+-0x12fd));}if(this['_dirtyLoca'+'l']){this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']);const _0x4fcfeb=this['localPosit'+'ion'],_0xfcd57e=_0x240b17['_pivot'];_0x240b17['_margin']['x']=_0x4fcfeb['x']-_0x240b17['_calculate'+'dWidth']*_0xfcd57e['x'],_0x240b17['_margin']['z']=_0x240b17['_localAnch'+'or']['z']-_0x240b17['_localAnch'+'or']['x']-_0x240b17['_calculate'+'dWidth']-_0x240b17['_margin']['x'],_0x240b17['_margin']['y']=_0x4fcfeb['y']-_0x240b17['_calculate'+'dHeight']*_0xfcd57e['y'],_0x240b17['_margin']['w']=_0x240b17['_localAnch'+'or']['w']-_0x240b17['_localAnch'+'or']['y']-_0x240b17['_calculate'+'dHeight']-_0x240b17['_margin']['y'],this['_dirtyLoca'+'l']=!(0x19*0x19+-0x2*-0xca3+-0x1bb6);}if(!_0x5e2699){this['_dirtyWorl'+'d']&&(_0x240b17['_cornersDi'+'rty']=!(-0x2*0xeb+0x11b2+-0xfdc*0x1),_0x240b17['_canvasCor'+'nersDirty']=!(0xd7f*0x1+-0x380+0x9ff*-0x1),_0x240b17['_worldCorn'+'ersDirty']=!(0x2*-0x392+0x22c0+-0x1b9c)),lt['prototype']['_sync']['call'](this);return;}if(this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['_parent']['element']?_0x240b17['_screenToW'+'orld']['mul2'](this['_parent']['element']['_modelTran'+'sform'],_0x240b17['_anchorTra'+'nsform']):_0x240b17['_screenToW'+'orld']['copy'](_0x240b17['_anchorTra'+'nsform']),_0x240b17['_modelTran'+'sform']['mul2'](_0x240b17['_screenToW'+'orld'],this['localTrans'+'form']),_0x5e2699){_0x240b17['_screenToW'+'orld']['mul2'](_0x5e2699['screen']['_screenMat'+'rix'],_0x240b17['_screenToW'+'orld']),_0x5e2699['screen']['screenSpac'+'e']||_0x240b17['_screenToW'+'orld']['mul2'](_0x5e2699['worldTrans'+'form'],_0x240b17['_screenToW'+'orld']),this['worldTrans'+'form']['mul2'](_0x240b17['_screenToW'+'orld'],this['localTrans'+'form']);const _0x6f0037=_0x240b17['_parentWor'+'ldTransfor'+'m'];_0x6f0037['setIdentit'+'y']();const _0x310078=this['_parent'];_0x310078&&_0x310078['element']&&_0x310078!==_0x5e2699&&(ws['setTRS'](D['ZERO'],_0x310078['getLocalRo'+'tation'](),_0x310078['getLocalSc'+'ale']()),_0x6f0037['mul2'](_0x310078['element']['_parentWor'+'ldTransfor'+'m'],ws));const _0xf1a45=Pi;_0xf1a45['set'](0x180b+-0x10ce+-0x73d,0x2572+0x1b8a+-0x40fc,this['localPosit'+'ion']['z']);const _0xefcfc9=MR;_0xefcfc9['set'](_0x240b17['_absLeft']+_0x240b17['_pivot']['x']*_0x240b17['calculated'+'Width'],_0x240b17['_absBottom']+_0x240b17['_pivot']['y']*_0x240b17['calculated'+'Height'],-0x1415+0xd*0x13b+-0x416*-0x1),ws['setTransla'+'te'](-_0xefcfc9['x'],-_0xefcfc9['y'],-_0xefcfc9['z']),bc['setTRS'](_0xf1a45,this['getLocalRo'+'tation'](),this['getLocalSc'+'ale']()),Ac['setTransla'+'te'](_0xefcfc9['x'],_0xefcfc9['y'],_0xefcfc9['z']),_0x240b17['_screenTra'+'nsform']['mul2'](_0x240b17['_parentWor'+'ldTransfor'+'m'],Ac)['mul'](bc)['mul'](ws),_0x240b17['_cornersDi'+'rty']=!(-0x1*-0x515+0x23*-0x23+-0x4c),_0x240b17['_canvasCor'+'nersDirty']=!(0x1911+0xe0b*-0x1+-0x53*0x22),_0x240b17['_worldCorn'+'ersDirty']=!(0xf*0x90+0xf*0x285+-0x2e3b);}else this['worldTrans'+'form']['copy'](_0x240b17['_modelTran'+'sform']);}this['_dirtyWorl'+'d']=!(-0xd2e+-0x79*0x37+-0x22*-0x127);}}['_onInsert'](_0xe9bcbe){const _0x4b0d4e=this['_parseUpTo'+'Screen']();this['entity']['_dirtifyWo'+'rld'](),this['_updateScr'+'een'](_0x4b0d4e['screen']),this['_dirtifyMa'+'sk']();}['_dirtifyMa'+'sk'](){let _0x13142b=this['entity'];for(;_0x13142b;){const _0x41704e=_0x13142b['parent'];if((_0x41704e===null||_0x41704e['screen'])&&_0x13142b['element']){(!this['system']['_prerender']||!this['system']['_prerender']['length'])&&(this['system']['_prerender']=[],this['system']['app']['once']('prerender',this['_onPrerend'+'er'],this),w['trace'](Vs,'register\x20p'+'rerender'));const _0x4a87ce=this['system']['_prerender']['indexOf'](this['entity']);_0x4a87ce>=-0x1f91+-0x2a5*0x1+0x2236&&this['system']['_prerender']['splice'](_0x4a87ce,-0x1952+-0x3b9+0x1d0c),this['system']['_prerender']['indexOf'](_0x13142b)<0x43f*0x8+-0x1*0x1f91+-0x267&&this['system']['_prerender']['push'](_0x13142b),w['trace'](Vs,'set\x20preren'+'der\x20root\x20t'+'o:\x20'+_0x13142b['name']);}_0x13142b=_0x41704e;}}['_onPrerend'+'er'](){for(let _0x52ef53=-0x135d+-0x4ed+0x184a;_0x52ef53<this['system']['_prerender']['length'];_0x52ef53++){const _0x1f9c4a=this['system']['_prerender'][_0x52ef53];w['trace'](Vs,'prerender\x20'+'from:\x20'+_0x1f9c4a['name']),_0x1f9c4a['element']&&_0x1f9c4a['element']['syncMask'](0x2219+-0x8a1*-0x3+0x3bfb*-0x1);}this['system']['_prerender']['length']=0x1755+-0xa9*0x1b+-0xf*0x5e;}['_bindScree'+'n'](_0xaa0cf9){_0xaa0cf9['_bindEleme'+'nt'](this);}['_unbindScr'+'een'](_0x3224ff){_0x3224ff['_unbindEle'+'ment'](this);}['_updateScr'+'een'](_0x4bc291){this['screen']&&this['screen']!==_0x4bc291&&this['_unbindScr'+'een'](this['screen']['screen']);const _0x1a7803=this['screen'];this['screen']=_0x4bc291,this['screen']&&this['_bindScree'+'n'](this['screen']['screen']),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('set:screen',this['screen'],_0x1a7803),this['_anchorDir'+'ty']=!(0x4*0x932+0x1*0x815+-0x1*0x2cdd);const _0x48d477=this['entity']['children'];for(let _0x27136a=-0x1731+0x103*0x9+0x259*0x6,_0x13220c=_0x48d477['length'];_0x27136a<_0x13220c;_0x27136a++)_0x48d477[_0x27136a]['element']&&_0x48d477[_0x27136a]['element']['_updateScr'+'een'](_0x4bc291);this['screen']&&this['screen']['screen']['syncDrawOr'+'der']();}['syncMask'](_0x17a2c6){const _0x51ac91=this['_parseUpTo'+'Screen']();this['_updateMas'+'k'](_0x51ac91['mask'],_0x17a2c6);}['_setMasked'+'By'](_0x486a17){const _0x2875c1=this['_image']||this['_text'];if(_0x486a17){const _0x5286e5=_0x486a17['element']['_image']['_maskRef'];w['trace'](Vs,'masking:\x20'+this['entity']['name']+'\x20with\x20'+_0x5286e5),_0x2875c1==null||_0x2875c1['_setStenci'+'l'](new pi({'ref':_0x5286e5,'func':dh})),this['_maskedBy']=_0x486a17;}else w['trace'](Vs,'no\x20masking'+'\x20on:\x20'+this['entity']['name']),_0x2875c1==null||_0x2875c1['_setStenci'+'l'](null),this['_maskedBy']=null;}['_updateMas'+'k'](_0x23da55,_0x52f470){var _0x57e84d,_0x32c7e9;if(_0x23da55){if(this['_setMasked'+'By'](_0x23da55),this['mask']){const _0x1d69d1=_0x23da55['element']['_image']['_maskRef'],_0x44ac86=new pi({'ref':_0x1d69d1,'func':dh,'zpass':Ux});this['_image']['_setStenci'+'l'](_0x44ac86),this['_image']['_maskRef']=_0x52f470,_0x52f470++,w['trace'](Vs,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+(_0x44ac86['ref']+(0xace+0x3a6+-0x4d1*0x3))),w['trace'](Vs,'depth++\x20to'+':\x20',_0x52f470),_0x23da55=this['entity'];}const _0x5cbb8b=this['entity']['children'];for(let _0x4704f0=0x1af3*0x1+0x1a3*0x14+-0xb*0x56d,_0x4ba838=_0x5cbb8b['length'];_0x4704f0<_0x4ba838;_0x4704f0++)(_0x57e84d=_0x5cbb8b[_0x4704f0]['element'])==null||_0x57e84d['_updateMas'+'k'](_0x23da55,_0x52f470);this['mask']&&_0x52f470--;}else{if(this['_setMasked'+'By'](null),this['mask']){const _0x1b7cf1=new pi({'ref':_0x52f470,'func':Wi,'zpass':kx});this['_image']['_setStenci'+'l'](_0x1b7cf1),this['_image']['_maskRef']=_0x52f470,_0x52f470++,w['trace'](Vs,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+_0x1b7cf1['ref']),w['trace'](Vs,'depth++\x20to'+':\x20',_0x52f470),_0x23da55=this['entity'];}const _0x46a65e=this['entity']['children'];for(let _0x3cc19b=-0x16f7+0x6c7*-0x5+-0x2*-0x1c6d,_0x54bb73=_0x46a65e['length'];_0x3cc19b<_0x54bb73;_0x3cc19b++)(_0x32c7e9=_0x46a65e[_0x3cc19b]['element'])==null||_0x32c7e9['_updateMas'+'k'](_0x23da55,_0x52f470);this['mask']&&_0x52f470--;}}['_parseUpTo'+'Screen'](){const _0x532680={'screen':null,'mask':null};let _0x259e40=this['entity']['_parent'];for(;_0x259e40&&!_0x259e40['screen'];)_0x259e40['element']&&_0x259e40['element']['mask']&&(_0x532680['mask']||(_0x532680['mask']=_0x259e40)),_0x259e40=_0x259e40['parent'];return _0x259e40&&_0x259e40['screen']&&(_0x532680['screen']=_0x259e40),_0x532680;}['_onScreenR'+'esize'](_0x27bbf6){this['_anchorDir'+'ty']=!(0x6fc+0x2*0xa1a+-0x6cc*0x4),this['_cornersDi'+'rty']=!(-0x3*-0xb39+-0x2352+0x9*0x2f),this['_worldCorn'+'ersDirty']=!(0x22c8+-0x1*0x2701+0x439),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('screen:set'+':resolutio'+'n',_0x27bbf6);}['_onScreenS'+'paceChange'](){this['fire']('screen:set'+':screenspa'+'ce',this['screen']['screen']['screenSpac'+'e']);}['_onScreenR'+'emove'](){this['screen']&&(this['screen']['_destroyin'+'g']?this['screen']=null:this['_updateScr'+'een'](null));}['_calculate'+'LocalAncho'+'rs'](){let _0x7b9074=-0x1df1+-0x1*-0x653+0xdc3*0x2,_0xdf09b9=0x1c63+-0xe3*0x1+-0x1798;const _0x36e5b3=this['entity']['_parent'];if(_0x36e5b3&&_0x36e5b3['element'])_0x7b9074=_0x36e5b3['element']['calculated'+'Width'],_0xdf09b9=_0x36e5b3['element']['calculated'+'Height'];else{if(this['screen']){const _0x7e3aed=this['screen']['screen']['resolution'],_0x5327ef=this['screen']['screen']['scale'];_0x7b9074=_0x7e3aed['x']/_0x5327ef,_0xdf09b9=_0x7e3aed['y']/_0x5327ef;}}this['_localAnch'+'or']['set'](this['_anchor']['x']*_0x7b9074,this['_anchor']['y']*_0xdf09b9,this['_anchor']['z']*_0x7b9074,this['_anchor']['w']*_0xdf09b9);}['getOffsetP'+'osition'](_0x1ff423,_0x515a99){const _0x409c42=this['entity']['getLocalPo'+'sition']()['clone']();return _0x409c42['x']+=_0x1ff423,_0x409c42['y']+=_0x515a99,this['_screenToW'+'orld']['transformP'+'oint'](_0x409c42,_0x409c42),_0x409c42;}['onLayersCh'+'anged'](_0x374f5f,_0x4bd24){this['addModelTo'+'Layers'](this['_image']?this['_image']['_renderabl'+'e']['model']:this['_text']['_model']),_0x374f5f['off']('add',this['onLayerAdd'+'ed'],this),_0x374f5f['off']('remove',this['onLayerRem'+'oved'],this),_0x4bd24['on']('add',this['onLayerAdd'+'ed'],this),_0x4bd24['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x4d6596){this['layers']['indexOf'](_0x4d6596['id'])<0x1*0x313+0x2298+-0x1*0x25ab||(this['_image']?_0x4d6596['addMeshIns'+'tances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x4d6596['addMeshIns'+'tances'](this['_text']['_model']['meshInstan'+'ces']));}['onLayerRem'+'oved'](_0x2649a6){this['layers']['indexOf'](_0x2649a6['id'])<-0x380*-0xa+0x1c82*-0x1+0x33f*-0x2||(this['_image']?_0x2649a6['removeMesh'+'Instances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x2649a6['removeMesh'+'Instances'](this['_text']['_model']['meshInstan'+'ces']));}['onEnable'](){var _0x48ce84;const _0x3573e9=this['system']['app']['scene'],_0x518fcd=_0x3573e9['layers'];this['_image']&&this['_image']['onEnable'](),this['_text']&&this['_text']['onEnable'](),this['_group']&&this['_group']['onEnable'](),this['useInput']&&this['system']['app']['elementInp'+'ut']&&this['system']['app']['elementInp'+'ut']['addElement'](this),this['_evtLayers'+'Changed']=_0x3573e9['on']('set:layers',this['onLayersCh'+'anged'],this),_0x518fcd&&(this['_evtLayerA'+'dded']=_0x518fcd['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x518fcd['on']('remove',this['onLayerRem'+'oved'],this)),this['_batchGrou'+'pId']>=0x1694+0x1*0x7ea+-0x1e7e&&((_0x48ce84=this['system']['app']['batcher'])==null||_0x48ce84['insert'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('enableelem'+'ent');}['onDisable'](){var _0x1c0ed9,_0x3087c1,_0xe07f8d,_0x373f74;const _0x21429c=this['system']['app']['scene']['layers'];(_0x1c0ed9=this['_evtLayers'+'Changed'])==null||_0x1c0ed9['off'](),this['_evtLayers'+'Changed']=null,_0x21429c&&((_0x3087c1=this['_evtLayerA'+'dded'])==null||_0x3087c1['off'](),this['_evtLayerA'+'dded']=null,(_0xe07f8d=this['_evtLayerR'+'emoved'])==null||_0xe07f8d['off'](),this['_evtLayerR'+'emoved']=null),this['_image']&&this['_image']['onDisable'](),this['_text']&&this['_text']['onDisable'](),this['_group']&&this['_group']['onDisable'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['_batchGrou'+'pId']>=0x94+-0x3*-0xb7+-0x2b9&&((_0x373f74=this['system']['app']['batcher'])==null||_0x373f74['remove'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('disableele'+'ment');}['onRemove'](){this['entity']['off']('insert',this['_onInsert'],this),this['_unpatch'](),this['_image']&&this['_image']['destroy'](),this['_text']&&this['_text']['destroy'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['screen']&&this['screen']['screen']&&(this['_unbindScr'+'een'](this['screen']['screen']),this['screen']['screen']['syncDrawOr'+'der']()),this['off']();}['_calculate'+'Size'](_0x488b43,_0x26812c){if(!this['entity']['_parent']&&!this['screen'])return;this['_calculate'+'LocalAncho'+'rs']();const _0x3f3bfb=this['_absRight']-this['_absLeft'],_0x244907=this['_absTop']-this['_absBottom'];_0x488b43?this['_setWidth'](_0x3f3bfb):this['_setCalcul'+'atedWidth'](_0x3f3bfb,!(0xf68+0x1f24+-0x1*0x2e8b)),_0x26812c?this['_setHeight'](_0x244907):this['_setCalcul'+'atedHeight'](_0x244907,!(0x1*-0x24cb+-0x1d56*0x1+0x2111*0x2));const _0x40d910=this['entity']['getLocalPo'+'sition']();_0x40d910['x']=this['_margin']['x']+this['_calculate'+'dWidth']*this['_pivot']['x'],_0x40d910['y']=this['_margin']['y']+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x40d910),this['_sizeDirty']=!(0x2029+0x8*-0x172+-0x1498);}['_setWidth'](_0x394d13){this['_width']=_0x394d13,this['_setCalcul'+'atedWidth'](_0x394d13,!(0xc9*-0x15+-0x24a0+0x351e)),this['fire']('set:width',this['_width']);}['_setHeight'](_0x14ce2a){this['_height']=_0x14ce2a,this['_setCalcul'+'atedHeight'](_0x14ce2a,!(0x134a+0x1e08+-0x3151)),this['fire']('set:height',this['_height']);}['_setCalcul'+'atedWidth'](_0x4441dd,_0x3c6d57){if(!(Math['abs'](_0x4441dd-this['_calculate'+'dWidth'])<=0x1*-0x54b+0x118*-0x10+0x16cb+0.0001)){if(this['_calculate'+'dWidth']=_0x4441dd,this['entity']['_dirtifyLo'+'cal'](),_0x3c6d57){const _0x4172ef=this['entity']['getLocalPo'+'sition'](),_0x8c2f6f=this['_pivot'];this['_margin']['x']=_0x4172ef['x']-this['_calculate'+'dWidth']*_0x8c2f6f['x'],this['_margin']['z']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-this['_calculate'+'dWidth']-this['_margin']['x'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedWidth',this['_calculate'+'dWidth']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_setCalcul'+'atedHeight'](_0x13761d,_0x21b2a4){if(!(Math['abs'](_0x13761d-this['_calculate'+'dHeight'])<=0x6d6+0x1*-0x1a91+0x13bb+0.0001)){if(this['_calculate'+'dHeight']=_0x13761d,this['entity']['_dirtifyLo'+'cal'](),_0x21b2a4){const _0x3eabec=this['entity']['getLocalPo'+'sition'](),_0x6f5a18=this['_pivot'];this['_margin']['y']=_0x3eabec['y']-this['_calculate'+'dHeight']*_0x6f5a18['y'],this['_margin']['w']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-this['_calculate'+'dHeight']-this['_margin']['y'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedHeight',this['_calculate'+'dHeight']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_flagChild'+'renAsDirty'](){const _0x57013f=this['entity']['_children'];for(let _0x3807f8=0x13*0xaa+0x1*0xef9+-0x1b97,_0x45cd74=_0x57013f['length'];_0x3807f8<_0x45cd74;_0x3807f8++)_0x57013f[_0x3807f8]['element']&&(_0x57013f[_0x3807f8]['element']['_anchorDir'+'ty']=!(-0xce8+0xf8b+0xe1*-0x3),_0x57013f[_0x3807f8]['element']['_sizeDirty']=!(0x1aa0+0x2689+-0x94f*0x7));}['addModelTo'+'Layers'](_0x37f573){this['_addedMode'+'ls']['push'](_0x37f573);for(let _0x37d863=-0x5f0+0x14ae+-0xebe;_0x37d863<this['layers']['length'];_0x37d863++){const _0x44f632=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x37d863]);_0x44f632&&_0x44f632['addMeshIns'+'tances'](_0x37f573['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](_0x60ee7e){const _0x567788=this['_addedMode'+'ls']['indexOf'](_0x60ee7e);_0x567788>=0x20db+-0x2*-0xed9+0x1*-0x3e8d&&this['_addedMode'+'ls']['splice'](_0x567788,-0x332+-0x6*0x372+0x17df);for(let _0x4ee0de=0x5f9+-0xffd*0x1+0xa04*0x1;_0x4ee0de<this['layers']['length'];_0x4ee0de++){const _0x36a548=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x4ee0de]);_0x36a548&&_0x36a548['removeMesh'+'Instances'](_0x60ee7e['meshInstan'+'ces']);}}['getMaskOff'+'set'](){const _0x363238=this['system']['app']['frame'];this['_offsetRea'+'dAt']!==_0x363238&&(this['_maskOffse'+'t']=0xc5c+-0x2*-0xcfb+-0x3d5*0xa+0.5,this['_offsetRea'+'dAt']=_0x363238);const _0x4db085=this['_maskOffse'+'t'];return this['_maskOffse'+'t']-=-0x6*0x2de+-0x1*-0x217b+-0x1047+0.001,_0x4db085;}['isVisibleF'+'orCamera'](_0x1016ac){let _0x2b2e09,_0x57ce00,_0x3a6a03,_0x18fc67;if(this['maskedBy']){const _0x4c2bf8=this['maskedBy']['element']['screenCorn'+'ers'];_0x2b2e09=Math['min'](Math['min'](_0x4c2bf8[0x105*0x6+0x113c+-0x175a]['x'],_0x4c2bf8[-0xe94+0x650+0x845]['x']),Math['min'](_0x4c2bf8[-0x25*-0x3e+-0x4fd*-0x3+0x1*-0x17eb]['x'],_0x4c2bf8[-0x168*0x8+-0x221*0xe+0x2911]['x'])),_0x57ce00=Math['max'](Math['max'](_0x4c2bf8[0x3fe+0x1*0x29+-0x1*0x427]['x'],_0x4c2bf8[-0x12ed+-0x1559*0x1+0x2847]['x']),Math['max'](_0x4c2bf8[0x3*0xa1+-0x399*-0x5+-0x1*0x13de]['x'],_0x4c2bf8[0x1751*0x1+-0x9fa+-0xd54]['x'])),_0x18fc67=Math['min'](Math['min'](_0x4c2bf8[-0x8*-0x238+-0x2*0x5b5+-0x1*0x656]['y'],_0x4c2bf8[-0x78b*-0x1+-0xe14+0x68a]['y']),Math['min'](_0x4c2bf8[-0x26eb+-0x12e5+-0x1*-0x39d2]['y'],_0x4c2bf8[0x1d3d+-0x1657+-0x2b*0x29]['y'])),_0x3a6a03=Math['max'](Math['max'](_0x4c2bf8[-0x694*0x3+0x19a0+-0x74*0xd]['y'],_0x4c2bf8[-0xdf9+-0x150+0xf4a]['y']),Math['max'](_0x4c2bf8[-0x140*0xb+-0x1408+-0x15a*-0x19]['y'],_0x4c2bf8[-0x3*0xa21+-0x21*0x8+0x9*0x37e]['y']));}else{const _0x4e0a5e=this['system']['app']['graphicsDe'+'vice']['width'],_0x2d4524=this['system']['app']['graphicsDe'+'vice']['height'],_0x15dd15=_0x1016ac['_rect']['z']*_0x4e0a5e,_0x13a895=_0x1016ac['_rect']['w']*_0x2d4524;_0x2b2e09=_0x1016ac['_rect']['x']*_0x4e0a5e,_0x57ce00=_0x2b2e09+_0x15dd15,_0x3a6a03=(-0x12b7+-0xec3+-0x1*-0x217b-_0x1016ac['_rect']['y'])*_0x2d4524,_0x18fc67=_0x3a6a03-_0x13a895;}const _0x190398=this['screenCorn'+'ers'],_0x2949d4=Math['min'](Math['min'](_0x190398[0x2546+0x10e3+-0x1*0x3629]['x'],_0x190398[-0xc*-0x210+0x8a9+-0x2168]['x']),Math['min'](_0x190398[-0x1229+-0x1f59+0x3184]['x'],_0x190398[0x1*-0x1fed+-0x1feb+0x3*0x1549]['x'])),_0x137ce5=Math['max'](Math['max'](_0x190398[0x76*-0x6+-0x31*0x3b+0x1*0xe0f]['x'],_0x190398[-0x4*-0x5a6+-0x42a*-0x1+0x9*-0x2f9]['x']),Math['max'](_0x190398[-0xa*-0x177+-0x3*0x14e+0xaba*-0x1]['x'],_0x190398[0x2c1+0xc30+-0xeee]['x'])),_0x509e29=Math['min'](Math['min'](_0x190398[0x1283+0xa37+-0xe5d*0x2]['y'],_0x190398[-0x238d+-0xcf*0x21+0x8d*0x71]['y']),Math['min'](_0x190398[0x1b1a+-0x16b1+0x31*-0x17]['y'],_0x190398[-0x2037+0x12a2+0xd98]['y'])),_0x15a7a0=Math['max'](Math['max'](_0x190398[0x173f+-0x13*0x4+0x1*-0x16f3]['y'],_0x190398[-0x685*-0x2+-0x170f+0x1*0xa06]['y']),Math['max'](_0x190398[-0xcd8+-0x1*0x23c5+-0x1b*-0x1cd]['y'],_0x190398[0x93*0x3e+0x9c3+-0x306*0xf]['y']));return!(_0x137ce5<_0x2b2e09||_0x2949d4>_0x57ce00||_0x509e29>_0x3a6a03||_0x15a7a0<_0x18fc67);}['_isScreenS'+'pace'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['screenSpac'+'e']:!(-0x763*-0x5+0x137*0xf+-0x3727);}['_isScreenC'+'ulled'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['cull']:!(0x1e93*0x1+-0x1f17+0x13*0x7);}['_dirtyBatc'+'h'](){var _0x2a016e;this['batchGroup'+'Id']!==-(-0xd*0x13+-0x1*0x787+-0x4b*-0x1d)&&((_0x2a016e=this['system']['app']['batcher'])==null||_0x2a016e['markGroupD'+'irty'](this['batchGroup'+'Id']));}}h(hs,'EVENT_MOUS'+'EDOWN','mousedown'),h(hs,'EVENT_MOUS'+'EUP','mouseup'),h(hs,'EVENT_MOUS'+'EENTER','mouseenter'),h(hs,'EVENT_MOUS'+'ELEAVE','mouseleave'),h(hs,'EVENT_MOUS'+'EMOVE','mousemove'),h(hs,'EVENT_MOUS'+'EWHEEL','mousewheel'),h(hs,'EVENT_CLIC'+'K','click'),h(hs,'EVENT_TOUC'+'HSTART','touchstart'),h(hs,'EVENT_TOUC'+'HEND','touchend'),h(hs,'EVENT_TOUC'+'HMOVE','touchmove'),h(hs,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');class DR{constructor(){this['enabled']=!(-0x557*0x1+0x14a7+0x310*-0x5);}}const IR=['enabled'];class LR extends ct{constructor(_0x4bb92d){super(_0x4bb92d),this['id']='element',this['ComponentT'+'ype']=hs,this['DataType']=DR,this['schema']=IR,this['_unicodeCo'+'nverter']=null,this['_rtlReorde'+'r']=null,this['_defaultTe'+'xture']=new _e(_0x4bb92d['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':_s,'name':'element-sy'+'stem'});const _0x56d57a=this['_defaultTe'+'xture']['lock'](),_0x4559dc=new Uint8Array(-0x129f+0x1a7e+-0x7db);_0x4559dc[0x5da*0x5+0x6c3*-0x1+-0x167f]=-0xf2a+-0xe9*-0x29+-0x1528,_0x4559dc[-0x18c6+0xa3d*0x3+-0x13*0x50]=0x2173+0x25b*0xd+-0x43*0xf1,_0x4559dc[0x85c+-0x16*0x15d+0x15a4]=-0x1368+0x1146+0x9*0x59,_0x4559dc[0x161b+0x22f0+-0x3908]=0x1ee1*-0x1+-0xf76+0x2f56,_0x56d57a['set'](_0x4559dc),this['_defaultTe'+'xture']['unlock'](),this['defaultIma'+'geMaterial']=null,this['defaultIma'+'ge9SlicedM'+'aterial']=null,this['defaultIma'+'ge9TiledMa'+'terial']=null,this['defaultIma'+'geMaskMate'+'rial']=null,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=null,this['defaultIma'+'ge9TiledMa'+'skMaterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=null,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=null,this['_defaultTe'+'xtMaterial'+'s']={},this['defaultIma'+'geMaterial'+'s']=[],this['on']('add',this['onAddCompo'+'nent'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['destroy'](){super['destroy'](),this['_defaultTe'+'xture']['destroy']();}['initialize'+'ComponentD'+'ata'](_0x4232f9,_0x579aa6,_0x5090e9){_0x4232f9['_beingInit'+'ialized']=!(0x1cfe+0x3d*-0x43+0x5*-0x29b),_0x579aa6['anchor']!==void(-0xc30+-0x1131+-0x147*-0x17)&&(_0x579aa6['anchor']instanceof re?_0x4232f9['anchor']['copy'](_0x579aa6['anchor']):_0x4232f9['anchor']['set'](_0x579aa6['anchor'][0x163d+0x25f1*0x1+0x1e17*-0x2],_0x579aa6['anchor'][-0x8*0x272+-0x257d*0x1+-0xda*-0x43],_0x579aa6['anchor'][0x1*0x679+0x1cd1*-0x1+0x165a],_0x579aa6['anchor'][0x1*-0x236a+-0x1*0x8a1+0x1607*0x2])),_0x579aa6['pivot']!==void(0x708+-0x323+-0x3e5)&&(_0x579aa6['pivot']instanceof J?_0x4232f9['pivot']['copy'](_0x579aa6['pivot']):_0x4232f9['pivot']['set'](_0x579aa6['pivot'][-0x1*-0x1b88+-0x3b*0x71+-0x17d*0x1],_0x579aa6['pivot'][0x1*-0x199d+0x1e51+-0x4b3]));const _0x35ac7d=Math['abs'](_0x4232f9['anchor']['x']-_0x4232f9['anchor']['z'])>0xeeb+-0xc91+-0x25a+0.001,_0x481c9f=Math['abs'](_0x4232f9['anchor']['y']-_0x4232f9['anchor']['w'])>0x10b7+0xf32*-0x1+-0x185+0.001;let _0x1a1c2b=!(-0x2*-0xb2b+0xc86*-0x1+0x1f*-0x51),_0x272a53;_0x579aa6['margin']!==void(-0x133a+-0x1*0x269f+0x39d9)&&(_0x579aa6['margin']instanceof re?_0x4232f9['margin']['copy'](_0x579aa6['margin']):_0x4232f9['_margin']['set'](_0x579aa6['margin'][0x1298+-0x1569+0x2d1],_0x579aa6['margin'][0x15b0+0x1*-0x152e+-0x1*0x81],_0x579aa6['margin'][0x167c+0x1*0xbe9+-0x2263],_0x579aa6['margin'][-0x1*0x1cc7+0x1*-0x11b0+0x2e7a]),_0x1a1c2b=!(0xca*-0xd+0x17ba+0x2*-0x6bc)),_0x579aa6['left']!==void(-0x1f2b+0x96b+-0x30*-0x74)&&(_0x4232f9['_margin']['x']=_0x579aa6['left'],_0x1a1c2b=!(-0x1994+-0x1*0x1fd+-0x1b91*-0x1)),_0x579aa6['bottom']!==void(0xe1f+0x65b+-0x147a)&&(_0x4232f9['_margin']['y']=_0x579aa6['bottom'],_0x1a1c2b=!(0x49f*-0x8+0x1893+-0xa7*-0x13)),_0x579aa6['right']!==void(0x115a+-0xd1*-0x2c+-0x2*0x1aa3)&&(_0x4232f9['_margin']['z']=_0x579aa6['right'],_0x1a1c2b=!(0x2ed+-0x20*-0x81+-0x1*0x130d)),_0x579aa6['top']!==void(-0x15b*-0x9+0x211d+-0x2d50)&&(_0x4232f9['_margin']['w']=_0x579aa6['top'],_0x1a1c2b=!(-0x39*-0x7a+-0x1d98+0x26e)),_0x1a1c2b&&(_0x4232f9['margin']=_0x4232f9['_margin']);let _0x4e354b=!(-0x149a+-0xa*-0x95+0xec9*0x1);_0x579aa6['width']!==void(-0x1fe2+0x1eae+0x16*0xe)&&!_0x35ac7d?_0x4232f9['width']=_0x579aa6['width']:_0x35ac7d&&(_0x4e354b=!(0x617*0x1+-0x1*0xf6d+0x956)),_0x579aa6['height']!==void(0x218+0x11d9+-0x13f1)&&!_0x481c9f?_0x4232f9['height']=_0x579aa6['height']:_0x481c9f&&(_0x4e354b=!(0x1086+0x1309+-0x238f*0x1)),_0x4e354b&&(_0x4232f9['anchor']=_0x4232f9['anchor']),_0x579aa6['enabled']!==void(0x1de9+0x1271*0x2+-0x42cb)&&(_0x4232f9['enabled']=_0x579aa6['enabled']),_0x579aa6['useInput']!==void(0x2*0x292+-0x1718*0x1+-0xc*-0x17f)&&(_0x4232f9['useInput']=_0x579aa6['useInput']),_0x579aa6['fitMode']!==void(0xf19*-0x2+-0x517+-0x2349*-0x1)&&(_0x4232f9['fitMode']=_0x579aa6['fitMode']),_0x4232f9['batchGroup'+'Id']=_0x579aa6['batchGroup'+'Id']===void(0x13*0x1ff+0x7fa*-0x1+0x2b9*-0xb)||_0x579aa6['batchGroup'+'Id']===null?-(-0x1*-0x170f+-0x1c95+0x11b*0x5):_0x579aa6['batchGroup'+'Id'],_0x579aa6['layers']&&Array['isArray'](_0x579aa6['layers'])&&(_0x4232f9['layers']=_0x579aa6['layers']['slice'](0x1d38+-0x4d8+-0x28*0x9c)),_0x579aa6['type']!==void(0xaf2+-0x11*0xfb+0x5b9)&&(_0x4232f9['type']=_0x579aa6['type']),_0x4232f9['type']===Cu?(_0x579aa6['rect']!==void(0xfdd+0x1*0x315+0x61*-0x32)&&(_0x4232f9['rect']=_0x579aa6['rect']),_0x579aa6['color']!==void(0x72a+-0x7*0x133+-0x23*-0x9)&&(_0x272a53=_0x579aa6['color'],_0x272a53 instanceof ie||(_0x272a53=new ie(_0x579aa6['color'][-0x2123+0x1fc2+0x1*0x161],_0x579aa6['color'][-0x99e+-0x2042+-0x29e1*-0x1],_0x579aa6['color'][-0x5*-0x259+-0x1b5e+0x1*0xfa3])),_0x4232f9['color']=_0x272a53),_0x579aa6['opacity']!==void(-0x7bb*0x1+0x1145+-0x98a)&&(_0x4232f9['opacity']=_0x579aa6['opacity']),_0x579aa6['textureAss'+'et']!==void(-0x1046*-0x1+-0x2*-0xf48+-0x16*0x221)&&(_0x4232f9['textureAss'+'et']=_0x579aa6['textureAss'+'et']),_0x579aa6['texture']&&(_0x4232f9['texture']=_0x579aa6['texture']),_0x579aa6['spriteAsse'+'t']!==void(-0x6eb+0x5a*0x6+-0x1*-0x4cf)&&(_0x4232f9['spriteAsse'+'t']=_0x579aa6['spriteAsse'+'t']),_0x579aa6['sprite']&&(_0x4232f9['sprite']=_0x579aa6['sprite']),_0x579aa6['spriteFram'+'e']!==void(0xf*-0x8+0x1*-0x1318+0x1390)&&(_0x4232f9['spriteFram'+'e']=_0x579aa6['spriteFram'+'e']),_0x579aa6['pixelsPerU'+'nit']!==void(-0x24*-0x8e+-0xc7b+-0x1*0x77d)&&_0x579aa6['pixelsPerU'+'nit']!==null&&(_0x4232f9['pixelsPerU'+'nit']=_0x579aa6['pixelsPerU'+'nit']),_0x579aa6['materialAs'+'set']!==void(0x1b*0x137+0x8*-0x121+0x1*-0x17c5)&&(_0x4232f9['materialAs'+'set']=_0x579aa6['materialAs'+'set']),_0x579aa6['material']&&(_0x4232f9['material']=_0x579aa6['material']),_0x579aa6['mask']!==void(0x17*0x18e+0x2216+-0x45d8)&&(_0x4232f9['mask']=_0x579aa6['mask'])):_0x4232f9['type']===jv&&(_0x579aa6['autoWidth']!==void(-0x664+0x67*-0x59+-0x2a33*-0x1)&&(_0x4232f9['autoWidth']=_0x579aa6['autoWidth']),_0x579aa6['autoHeight']!==void(-0x7*0x26+-0x5*0xcb+0x501)&&(_0x4232f9['autoHeight']=_0x579aa6['autoHeight']),_0x579aa6['rtlReorder']!==void(0x270+-0x567*0x1+0x45*0xb)&&(_0x4232f9['rtlReorder']=_0x579aa6['rtlReorder']),_0x579aa6['unicodeCon'+'verter']!==void(0x1*-0x12df+0xc7b+-0x332*-0x2)&&(_0x4232f9['unicodeCon'+'verter']=_0x579aa6['unicodeCon'+'verter']),_0x579aa6['text']!==null&&_0x579aa6['text']!==void(-0x23bf+0x1d3*0x15+0xa4*-0x4)?_0x4232f9['text']=_0x579aa6['text']:_0x579aa6['key']!==null&&_0x579aa6['key']!==void(-0x1b*-0xcc+-0x864+0x8*-0x1a4)&&(_0x4232f9['key']=_0x579aa6['key']),_0x579aa6['color']!==void(0x1*-0x1b57+-0x1615*-0x1+0x2a1*0x2)&&(_0x272a53=_0x579aa6['color'],_0x272a53 instanceof ie||(_0x272a53=new ie(_0x272a53[0xf11+-0x21f5+-0x326*-0x6],_0x272a53[0x1f0f*-0x1+0x1731+0x1f*0x41],_0x272a53[0x7ca+-0x1665+0xe9d])),_0x4232f9['color']=_0x272a53),_0x579aa6['opacity']!==void(-0x239+0x11d7+-0x1*0xf9e)&&(_0x4232f9['opacity']=_0x579aa6['opacity']),_0x579aa6['spacing']!==void(0x26ed+-0x24fb*-0x1+0x2b6*-0x1c)&&(_0x4232f9['spacing']=_0x579aa6['spacing']),_0x579aa6['fontSize']!==void(0x12e3+0x1ba1+0x1742*-0x2)&&(_0x4232f9['fontSize']=_0x579aa6['fontSize'],_0x579aa6['lineHeight']||(_0x4232f9['lineHeight']=_0x579aa6['fontSize'])),_0x579aa6['lineHeight']!==void(-0x2029+-0x697+0x26c0)&&(_0x4232f9['lineHeight']=_0x579aa6['lineHeight']),_0x579aa6['maxLines']!==void(0x7d5+0x1361+-0x1b36)&&(_0x4232f9['maxLines']=_0x579aa6['maxLines']),_0x579aa6['wrapLines']!==void(0x22f7*-0x1+-0x1d0*-0x11+0x427)&&(_0x4232f9['wrapLines']=_0x579aa6['wrapLines']),_0x579aa6['minFontSiz'+'e']!==void(0x1d13+0x2173+-0x3e86)&&(_0x4232f9['minFontSiz'+'e']=_0x579aa6['minFontSiz'+'e']),_0x579aa6['maxFontSiz'+'e']!==void(0x20b7+0x3be+0xc27*-0x3)&&(_0x4232f9['maxFontSiz'+'e']=_0x579aa6['maxFontSiz'+'e']),_0x579aa6['autoFitWid'+'th']&&(_0x4232f9['autoFitWid'+'th']=_0x579aa6['autoFitWid'+'th']),_0x579aa6['autoFitHei'+'ght']&&(_0x4232f9['autoFitHei'+'ght']=_0x579aa6['autoFitHei'+'ght']),_0x579aa6['fontAsset']!==void(-0x1ef6+-0x7*0x322+0x34e4)&&(_0x4232f9['fontAsset']=_0x579aa6['fontAsset']),_0x579aa6['font']!==void(0x1cff+-0x14c6+-0x839)&&(_0x4232f9['font']=_0x579aa6['font']),_0x579aa6['alignment']!==void(0x10ae+0x157*-0x11+0x619)&&(_0x4232f9['alignment']=_0x579aa6['alignment']),_0x579aa6['outlineCol'+'or']!==void(-0x1*0x26c2+-0x66e+0x2d30)&&(_0x4232f9['outlineCol'+'or']=_0x579aa6['outlineCol'+'or']),_0x579aa6['outlineThi'+'ckness']!==void(0xe64+0x21+0x1*-0xe85)&&(_0x4232f9['outlineThi'+'ckness']=_0x579aa6['outlineThi'+'ckness']),_0x579aa6['shadowColo'+'r']!==void(-0x757+-0x9a3+0x10fa*0x1)&&(_0x4232f9['shadowColo'+'r']=_0x579aa6['shadowColo'+'r']),_0x579aa6['shadowOffs'+'et']!==void(0xad5+-0x18ce*0x1+0xdf9)&&(_0x4232f9['shadowOffs'+'et']=_0x579aa6['shadowOffs'+'et']),_0x579aa6['enableMark'+'up']!==void(-0x37*0x74+0x5b5*0x6+0x952*-0x1)&&(_0x4232f9['enableMark'+'up']=_0x579aa6['enableMark'+'up']));const _0x4691dc=_0x4232f9['_parseUpTo'+'Screen']();_0x4691dc['screen']&&_0x4232f9['_updateScr'+'een'](_0x4691dc['screen']),super['initialize'+'ComponentD'+'ata'](_0x4232f9,_0x579aa6,_0x5090e9),_0x4232f9['_beingInit'+'ialized']=!(-0xa*-0xc7+0xae3+-0x12a8),_0x4232f9['type']===Cu&&_0x4232f9['_image']['_meshDirty']&&_0x4232f9['_image']['_updateMes'+'h'](_0x4232f9['_image']['mesh']);}['onAddCompo'+'nent'](_0x40fc1c,_0xdf8100){_0x40fc1c['fire']('element:ad'+'d');}['onRemoveCo'+'mponent'](_0x231e5a,_0x17033f){_0x17033f['onRemove']();}['cloneCompo'+'nent'](_0x1a955c,_0x21dc26){const _0x1c5017=_0x1a955c['element'],_0x6ecae8={'enabled':_0x1c5017['enabled'],'width':_0x1c5017['width'],'height':_0x1c5017['height'],'anchor':_0x1c5017['anchor']['clone'](),'pivot':_0x1c5017['pivot']['clone'](),'margin':_0x1c5017['margin']['clone'](),'alignment':_0x1c5017['alignment']&&_0x1c5017['alignment']['clone']()||_0x1c5017['alignment'],'autoWidth':_0x1c5017['autoWidth'],'autoHeight':_0x1c5017['autoHeight'],'type':_0x1c5017['type'],'rect':_0x1c5017['rect']&&_0x1c5017['rect']['clone']()||_0x1c5017['rect'],'rtlReorder':_0x1c5017['rtlReorder'],'unicodeConverter':_0x1c5017['unicodeCon'+'verter'],'materialAsset':_0x1c5017['materialAs'+'set'],'material':_0x1c5017['material'],'color':_0x1c5017['color']&&_0x1c5017['color']['clone']()||_0x1c5017['color'],'opacity':_0x1c5017['opacity'],'textureAsset':_0x1c5017['textureAss'+'et'],'texture':_0x1c5017['texture'],'spriteAsset':_0x1c5017['spriteAsse'+'t'],'sprite':_0x1c5017['sprite'],'spriteFrame':_0x1c5017['spriteFram'+'e'],'pixelsPerUnit':_0x1c5017['pixelsPerU'+'nit'],'spacing':_0x1c5017['spacing'],'lineHeight':_0x1c5017['lineHeight'],'wrapLines':_0x1c5017['wrapLines'],'layers':_0x1c5017['layers'],'fontSize':_0x1c5017['fontSize'],'minFontSize':_0x1c5017['minFontSiz'+'e'],'maxFontSize':_0x1c5017['maxFontSiz'+'e'],'autoFitWidth':_0x1c5017['autoFitWid'+'th'],'autoFitHeight':_0x1c5017['autoFitHei'+'ght'],'maxLines':_0x1c5017['maxLines'],'fontAsset':_0x1c5017['fontAsset'],'font':_0x1c5017['font'],'useInput':_0x1c5017['useInput'],'fitMode':_0x1c5017['fitMode'],'batchGroupId':_0x1c5017['batchGroup'+'Id'],'mask':_0x1c5017['mask'],'outlineColor':_0x1c5017['outlineCol'+'or']&&_0x1c5017['outlineCol'+'or']['clone']()||_0x1c5017['outlineCol'+'or'],'outlineThickness':_0x1c5017['outlineThi'+'ckness'],'shadowColor':_0x1c5017['shadowColo'+'r']&&_0x1c5017['shadowColo'+'r']['clone']()||_0x1c5017['shadowColo'+'r'],'shadowOffset':_0x1c5017['shadowOffs'+'et']&&_0x1c5017['shadowOffs'+'et']['clone']()||_0x1c5017['shadowOffs'+'et'],'enableMarkup':_0x1c5017['enableMark'+'up']};return _0x1c5017['key']!==void(-0x79*-0x32+-0x2b8*-0x2+-0x1d12)&&_0x1c5017['key']!==null?_0x6ecae8['key']=_0x1c5017['key']:_0x6ecae8['text']=_0x1c5017['text'],this['addCompone'+'nt'](_0x21dc26,_0x6ecae8);}['getTextEle'+'mentMateri'+'al'](_0x275759,_0x4e4928,_0x3e3a83){const _0x4af106=(_0x275759&&-0x9f9+-0x486+0xe80)|(_0x4e4928&&-0x1ef9+0x2*0x1211+-0x527)|(_0x3e3a83&&0x5*-0x17d+-0x175a+0x1ecf);let _0x5609a1=this['_defaultTe'+'xtMaterial'+'s'][_0x4af106];if(_0x5609a1)return _0x5609a1;let _0x68210c='TextMateri'+'al';return _0x5609a1=new Ut(),_0x4e4928?(_0x5609a1['msdfMap']=this['_defaultTe'+'xture'],_0x5609a1['msdfTextAt'+'tribute']=_0x3e3a83,_0x5609a1['emissive']['set'](-0xcd3*0x3+0x5*-0x6bf+0x4835,-0x3*0xa3f+0x4*-0x279+-0xe*-0x2e7,-0x2195*-0x1+-0x1f99*0x1+-0xd*0x27)):(_0x68210c='Bitmap'+_0x68210c,_0x5609a1['emissive']['set'](-0x769*0x3+-0x1c4+0x4*0x600,0x981*-0x1+0x1d45+-0x13c3,-0xf44+0x93b+0x1*0x60a),_0x5609a1['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x5609a1['opacityMap']=this['_defaultTe'+'xture'],_0x5609a1['opacityMap'+'Channel']='a'),_0x275759&&(_0x68210c='ScreenSpac'+'e'+_0x68210c,_0x5609a1['depthTest']=!(-0x91*0x34+-0x2*-0x80e+0xd59*0x1)),_0x5609a1['name']='default'+_0x68210c,_0x5609a1['useLightin'+'g']=!(-0x753+-0x5b8+0xd0c),_0x5609a1['useTonemap']=!(-0x7*-0x391+-0x97+0x185f*-0x1),_0x5609a1['useFog']=!(0x2f1+-0x22b5+0x1fc5),_0x5609a1['useSkybox']=!(0x853+0xdff*-0x1+0x5ad),_0x5609a1['diffuse']['set'](0x1153+0xca1+-0x1df4,0x111f+-0x1eb6+-0xd97*-0x1,0x20ed*0x1+-0x17*0x101+-0x9d6),_0x5609a1['opacity']=0x2f7+-0x25d7+0x22e0+0.5,_0x5609a1['blendType']=Gn,_0x5609a1['depthWrite']=!(-0xb61*-0x1+-0x1195+0x7*0xe3),_0x5609a1['emissiveVe'+'rtexColor']=!(-0x357*0x5+0x2511+-0x21*0x9e),_0x5609a1['update'](),this['_defaultTe'+'xtMaterial'+'s'][_0x4af106]=_0x5609a1,_0x5609a1;}['_createBas'+'eImageMate'+'rial'](){const _0x1a1e21=new Ut();return _0x1a1e21['diffuse']['set'](-0x45*-0x2d+-0xa6b*0x1+-0x6*0x49,0x2327+0xc06+0x3a1*-0xd,-0x21b0+-0xb*-0x353+-0x2e1),_0x1a1e21['emissive']['set'](0xb36+0x2324+-0x2e59,-0x16a*-0x5+-0x13b9+0x288*0x5,-0x26*0x74+-0x2*-0xa06+-0x2d3),_0x1a1e21['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x1a1e21['opacityMap']=this['_defaultTe'+'xture'],_0x1a1e21['opacityMap'+'Channel']='a',_0x1a1e21['useLightin'+'g']=!(0xccb+-0x2d+-0x1*0xc9d),_0x1a1e21['useTonemap']=!(0x2c6+0x22fa+0x1*-0x25bf),_0x1a1e21['useFog']=!(0x1d63+0x3*-0xbe1+0x641),_0x1a1e21['useSkybox']=!(-0xf*0xcd+-0xd3*-0x1d+0x11*-0xb3),_0x1a1e21['blendType']=Gn,_0x1a1e21['depthWrite']=!(0x1be5+0xcb*0x25+-0x393b),_0x1a1e21;}['getImageEl'+'ementMater'+'ial'](_0x2b4d48,_0x44a69d,_0x418616,_0xb68c55){return _0x2b4d48?_0x44a69d?_0x418616?(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al',this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['nineSliced'+'Mode']=Pt,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['depthTest']=!(-0x1b*-0x6a+0x3b*0x42+-0x1a63),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaTest']=-0x1ceb+0x2287+-0x1*0x59b,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['redWrite']=!(0xb23*0x1+-0x26f0+0x1bce),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['greenWrite']=!(0x236*-0x9+0x7cd+0xc1a*0x1),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['blueWrite']=!(0x4d*0x5c+0x1124+0x1*-0x2ccf),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaWrite']=!(-0x497+0xd7b+-0x7*0x145),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']):_0xb68c55?(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['clone'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['nineSliced'+'Mode']=Mt,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['depthTest']=!(0xe*-0x156+-0x31*0x5e+0x24b3),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaTest']=0x263f+0xc5*0x1+-0x2703,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['redWrite']=!(0x17cb+-0x3b6+0x101*-0x14),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['greenWrite']=!(0xfd9*-0x1+-0xa11+0x19eb),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['blueWrite']=!(0x3e*0x29+-0x1*0x1261+0x874),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaWrite']=!(0x1c68+0x13f8+0x3d*-0xcb),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']):(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']||(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['name']='defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial',this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['depthTest']=!(-0x1*-0x1d31+0x241b+-0x414b),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaTest']=-0x1417+-0x1841*0x1+-0x1*-0x2c59,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['redWrite']=!(-0x1*0x7a2+-0x1*-0x22bd+-0x1b1a),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['greenWrite']=!(0x2*0xfd8+0x13*0x9d+0x3*-0xe72),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['blueWrite']=!(-0x15bc+-0x40c*-0x8+-0x185*0x7),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaWrite']=!(0x185e*0x1+0x20d2+-0x392f),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial'])),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']):_0x418616?(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']||(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['name']='defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material',this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['nineSliced'+'Mode']=Pt,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['depthTest']=!(0x2058+0x212b+-0x4182),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material'])),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']):_0xb68c55?(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']||(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['name']='defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial',this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['nineSliced'+'Mode']=Mt,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['depthTest']=!(0x1*-0x1a0c+0x1*-0x5e0+0xb*0x2e7),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial'])),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']):(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['depthTest']=!(-0x18a0+0xe03+0xa9e),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']):_0x44a69d?_0x418616?(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']||(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['name']='defaultIma'+'ge9SlicedM'+'askMateria'+'l',this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['nineSliced'+'Mode']=Pt,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaTest']=-0x21*0x115+0x2*0x9aa+0x2bb*0x6,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['redWrite']=!(-0x52f+0x18d9*0x1+-0x13a9),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['greenWrite']=!(0x67*-0x19+0x89c*0x1+0x5d*0x4),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['blueWrite']=!(0x4*0x655+0xe3f+-0x2792),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaWrite']=!(0x1*0x13b7+0xd7c+-0x7*0x4be),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'askMateria'+'l'])),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']):_0xb68c55?(this['defaultIma'+'ge9TiledMa'+'skMaterial']||(this['defaultIma'+'ge9TiledMa'+'skMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'skMaterial']['name']='defaultIma'+'ge9TiledMa'+'skMaterial',this['defaultIma'+'ge9TiledMa'+'skMaterial']['nineSliced'+'Mode']=Mt,this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaTest']=-0x246b+0x1106+0x1366,this['defaultIma'+'ge9TiledMa'+'skMaterial']['redWrite']=!(-0x175f+-0x1584+0x2ce4),this['defaultIma'+'ge9TiledMa'+'skMaterial']['greenWrite']=!(0xdb3+-0x129+0x1*-0xc89),this['defaultIma'+'ge9TiledMa'+'skMaterial']['blueWrite']=!(-0x3*0x41+0x1*0x472+-0x1*0x3ae),this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaWrite']=!(0x1*-0x1556+-0x5d1*0x2+0x20f9),this['defaultIma'+'ge9TiledMa'+'skMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'skMaterial'])),this['defaultIma'+'ge9TiledMa'+'skMaterial']):(this['defaultIma'+'geMaskMate'+'rial']||(this['defaultIma'+'geMaskMate'+'rial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaskMate'+'rial']['name']='defaultIma'+'geMaskMate'+'rial',this['defaultIma'+'geMaskMate'+'rial']['alphaTest']=0xe9*0x1e+-0x1ae+-0x199f,this['defaultIma'+'geMaskMate'+'rial']['redWrite']=!(-0x8*0x393+-0x1452+0x30eb),this['defaultIma'+'geMaskMate'+'rial']['greenWrite']=!(0x815*0x1+-0x88d*-0x1+0x58b*-0x3),this['defaultIma'+'geMaskMate'+'rial']['blueWrite']=!(0x4f3+-0x1817+0x1325),this['defaultIma'+'geMaskMate'+'rial']['alphaWrite']=!(-0x40e+0x196*-0x2+0x73b),this['defaultIma'+'geMaskMate'+'rial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaskMate'+'rial'])),this['defaultIma'+'geMaskMate'+'rial']):_0x418616?(this['defaultIma'+'ge9SlicedM'+'aterial']||(this['defaultIma'+'ge9SlicedM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'aterial']['name']='defaultIma'+'ge9SlicedM'+'aterial',this['defaultIma'+'ge9SlicedM'+'aterial']['nineSliced'+'Mode']=Pt,this['defaultIma'+'ge9SlicedM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'aterial'])),this['defaultIma'+'ge9SlicedM'+'aterial']):_0xb68c55?(this['defaultIma'+'ge9TiledMa'+'terial']||(this['defaultIma'+'ge9TiledMa'+'terial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'terial']['name']='defaultIma'+'ge9TiledMa'+'terial',this['defaultIma'+'ge9TiledMa'+'terial']['nineSliced'+'Mode']=Mt,this['defaultIma'+'ge9TiledMa'+'terial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'terial'])),this['defaultIma'+'ge9TiledMa'+'terial']):(this['defaultIma'+'geMaterial']||(this['defaultIma'+'geMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaterial']['name']='defaultIma'+'geMaterial',this['defaultIma'+'geMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaterial'])),this['defaultIma'+'geMaterial']);}['registerUn'+'icodeConve'+'rter'](_0x8cf2e){this['_unicodeCo'+'nverter']=_0x8cf2e;}['registerRt'+'lReorder'](_0x5dda4c){this['_rtlReorde'+'r']=_0x5dda4c;}['getUnicode'+'Converter'](){return this['_unicodeCo'+'nverter'];}['getRtlReor'+'der'](){return this['_rtlReorde'+'r'];}}const Xa='free',qa='limited',ja='locked',RR=['angularDam'+'pingX','angularDam'+'pingY','angularDam'+'pingZ','angularEqu'+'ilibriumX','angularEqu'+'ilibriumY','angularEqu'+'ilibriumZ','angularLim'+'itsX','angularLim'+'itsY','angularLim'+'itsZ','angularMot'+'ionX','angularMot'+'ionY','angularMot'+'ionZ','angularSpr'+'ingX','angularSpr'+'ingY','angularSpr'+'ingZ','angularSti'+'ffnessX','angularSti'+'ffnessY','angularSti'+'ffnessZ','breakForce','enableColl'+'ision','enabled','entityA','entityB','linearDamp'+'ingX','linearDamp'+'ingY','linearDamp'+'ingZ','linearEqui'+'libriumX','linearEqui'+'libriumY','linearEqui'+'libriumZ','linearLimi'+'tsX','linearLimi'+'tsY','linearLimi'+'tsZ','linearMoti'+'onX','linearMoti'+'onY','linearMoti'+'onZ','linearSpri'+'ngX','linearSpri'+'ngY','linearSpri'+'ngZ','linearStif'+'fnessX','linearStif'+'fnessY','linearStif'+'fnessZ'];class ym extends we{constructor(_0xb41c14,_0x42b4bf){super(_0xb41c14,_0x42b4bf),w['assert'](typeof Ammo<'u','ERROR:\x20Att'+'empting\x20to'+'\x20create\x20a\x20'+'pc.JointCo'+'mponent\x20bu'+'t\x20Ammo.js\x20'+'is\x20not\x20loa'+'ded'),this['_constrain'+'t']=null,this['_entityA']=null,this['_entityB']=null,this['_breakForc'+'e']=0xffc99e3c66fd68000000000000000000,this['_enableCol'+'lision']=!(0x12d4+-0x25f1+0x15*0xe9),this['_linearMot'+'ionX']=ja,this['_linearLim'+'itsX']=new J(0x4*0x96d+0x13+-0x25c7,-0x1007+-0x16a1*-0x1+-0x69a*0x1),this['_linearSpr'+'ingX']=!(-0x4*-0x2a8+0x1c9b*-0x1+0x2*0x8fe),this['_linearSti'+'ffnessX']=0x14ac+0x1a9*-0x2+0x8ad*-0x2,this['_linearDam'+'pingX']=-0xf*0xef+-0x2113+0x11*0x2c5,this['_linearEqu'+'ilibriumX']=0xafd*-0x1+0x3*-0x313+0x1436,this['_linearMot'+'ionY']=ja,this['_linearLim'+'itsY']=new J(-0x7*0x2b9+-0x262b*0x1+-0x5b9*-0xa,0x49*-0x53+0x3*-0x315+-0x1*-0x20ea),this['_linearSpr'+'ingY']=!(0xc*-0x7+-0x10c9+0x111e),this['_linearSti'+'ffnessY']=0x1*0x138a+0xae+0x4*-0x50e,this['_linearDam'+'pingY']=0xcbd*0x3+0x6*-0x421+0x2*-0x6b8,this['_linearEqu'+'ilibriumY']=0x1c0b*0x1+0x1834+-0xa73*0x5,this['_linearMot'+'ionZ']=ja,this['_linearLim'+'itsZ']=new J(0x2fc*-0x2+0x3*-0x729+0x1b73,0x151*-0xf+-0x73e+0x1afd),this['_linearSpr'+'ingZ']=!(0x22a1+-0xc65*-0x1+-0x2f05),this['_linearSti'+'ffnessZ']=-0x989*-0x1+0x10f3+0x1a7c*-0x1,this['_linearDam'+'pingZ']=0x1363+-0x29*-0x7c+-0x273e,this['_linearEqu'+'ilibriumZ']=-0x71*-0x1+0x2*0xc5f+0x399*-0x7,this['_angularMo'+'tionX']=ja,this['_angularLi'+'mitsX']=new J(0x82*0x1a+0x1aa+-0x15a*0xb,-0x10f4+-0x6d*-0x4b+0x41*-0x3b),this['_angularSp'+'ringX']=!(-0x416*-0x4+-0xf9f+-0xb8),this['_angularSt'+'iffnessX']=-0x443*0x9+-0x1f45*-0x1+0x716,this['_angularDa'+'mpingX']=0x13c1+0x15e0+-0x14d0*0x2,this['_angularEq'+'uilibriumX']=0x4b1*0x3+-0x2a*-0xe2+0xf*-0x369,this['_angularMo'+'tionY']=ja,this['_angularLi'+'mitsY']=new J(0x9*0xf9+-0x7*0x47e+0x16b1*0x1,0x1*0x1c8d+-0x1*0x1b6+-0x1*0x1ad7),this['_angularSp'+'ringY']=!(-0x117b+-0x1559+0x26d5),this['_angularSt'+'iffnessY']=-0x406+0xc92*0x1+-0x88c,this['_angularDa'+'mpingY']=-0x1*-0x1e3d+-0x1fec+0x1b0,this['_angularEq'+'uilibriumY']=-0x88*0x49+-0xb1d*0x2+0x3d02,this['_angularMo'+'tionZ']=ja,this['_angularLi'+'mitsZ']=new J(-0x22*-0x112+-0xf3a+-0x152a,-0x1583+-0xe9d+-0x121*-0x20),this['_angularSp'+'ringZ']=!(-0x35a+0x257+-0x4*-0x41),this['_angularEq'+'uilibriumZ']=0x6ae+-0x1566+0xeb8,this['_angularDa'+'mpingZ']=0xc81+-0xcb6+0x36,this['_angularSt'+'iffnessZ']=0x856*0x3+-0xc73+-0xc8f,this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['entityA'](_0x288263){this['_destroyCo'+'nstraint'](),this['_entityA']=_0x288263,this['_createCon'+'straint']();}get['entityA'](){return this['_entityA'];}set['entityB'](_0x2ff554){this['_destroyCo'+'nstraint'](),this['_entityB']=_0x2ff554,this['_createCon'+'straint']();}get['entityB'](){return this['_entityB'];}set['breakForce'](_0x403077){this['_constrain'+'t']&&this['_breakForc'+'e']!==_0x403077&&(this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](_0x403077),this['_breakForc'+'e']=_0x403077);}get['breakForce'](){return this['_breakForc'+'e'];}set['enableColl'+'ision'](_0x2da18f){this['_destroyCo'+'nstraint'](),this['_enableCol'+'lision']=_0x2da18f,this['_createCon'+'straint']();}get['enableColl'+'ision'](){return this['_enableCol'+'lision'];}set['angularLim'+'itsX'](_0x1b07f4){this['_angularLi'+'mitsX']['equals'](_0x1b07f4)||(this['_angularLi'+'mitsX']['copy'](_0x1b07f4),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsX'](){return this['_angularLi'+'mitsX'];}set['angularMot'+'ionX'](_0x50d0f1){this['_angularMo'+'tionX']!==_0x50d0f1&&(this['_angularMo'+'tionX']=_0x50d0f1,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionX'](){return this['_angularMo'+'tionX'];}set['angularLim'+'itsY'](_0x101bd6){this['_angularLi'+'mitsY']['equals'](_0x101bd6)||(this['_angularLi'+'mitsY']['copy'](_0x101bd6),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsY'](){return this['_angularLi'+'mitsY'];}set['angularMot'+'ionY'](_0x1b01fb){this['_angularMo'+'tionY']!==_0x1b01fb&&(this['_angularMo'+'tionY']=_0x1b01fb,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionY'](){return this['_angularMo'+'tionY'];}set['angularLim'+'itsZ'](_0x451086){this['_angularLi'+'mitsZ']['equals'](_0x451086)||(this['_angularLi'+'mitsZ']['copy'](_0x451086),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsZ'](){return this['_angularLi'+'mitsZ'];}set['angularMot'+'ionZ'](_0x4a8327){this['_angularMo'+'tionZ']!==_0x4a8327&&(this['_angularMo'+'tionZ']=_0x4a8327,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionZ'](){return this['_angularMo'+'tionZ'];}set['linearLimi'+'tsX'](_0x584fb0){this['_linearLim'+'itsX']['equals'](_0x584fb0)||(this['_linearLim'+'itsX']['copy'](_0x584fb0),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsX'](){return this['_linearLim'+'itsX'];}set['linearMoti'+'onX'](_0xb53665){this['_linearMot'+'ionX']!==_0xb53665&&(this['_linearMot'+'ionX']=_0xb53665,this['_updateLin'+'earLimits']());}get['linearMoti'+'onX'](){return this['_linearMot'+'ionX'];}set['linearLimi'+'tsY'](_0x26d290){this['_linearLim'+'itsY']['equals'](_0x26d290)||(this['_linearLim'+'itsY']['copy'](_0x26d290),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsY'](){return this['_linearLim'+'itsY'];}set['linearMoti'+'onY'](_0x2e8eb2){this['_linearMot'+'ionY']!==_0x2e8eb2&&(this['_linearMot'+'ionY']=_0x2e8eb2,this['_updateLin'+'earLimits']());}get['linearMoti'+'onY'](){return this['_linearMot'+'ionY'];}set['linearLimi'+'tsZ'](_0x17ddfe){this['_linearLim'+'itsZ']['equals'](_0x17ddfe)||(this['_linearLim'+'itsZ']['copy'](_0x17ddfe),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsZ'](){return this['_linearLim'+'itsZ'];}set['linearMoti'+'onZ'](_0x34702b){this['_linearMot'+'ionZ']!==_0x34702b&&(this['_linearMot'+'ionZ']=_0x34702b,this['_updateLin'+'earLimits']());}get['linearMoti'+'onZ'](){return this['_linearMot'+'ionZ'];}['_convertTr'+'ansform'](_0x23965c,_0x2f8347){const _0x389661=_0x23965c['getTransla'+'tion'](),_0x281ecf=new le();_0x281ecf['setFromMat'+'4'](_0x23965c);const _0x494c98=new Ammo['btVector3'](_0x389661['x'],_0x389661['y'],_0x389661['z']),_0x31fdc7=new Ammo['btQuaterni'+'on'](_0x281ecf['x'],_0x281ecf['y'],_0x281ecf['z'],_0x281ecf['w']);_0x2f8347['setOrigin'](_0x494c98),_0x2f8347['setRotatio'+'n'](_0x31fdc7),Ammo['destroy'](_0x494c98),Ammo['destroy'](_0x31fdc7);}['_updateAng'+'ularLimits'](){const _0x2658bf=this['_constrain'+'t'];if(_0x2658bf){let _0x33efeb,_0x4078f1,_0x2342b2,_0x4aaaa7,_0x4ca974,_0x1b6aa5;this['_angularMo'+'tionX']===qa?(_0x33efeb=this['_angularLi'+'mitsX']['x']*Y['DEG_TO_RAD'],_0x4aaaa7=this['_angularLi'+'mitsX']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionX']===Xa?(_0x33efeb=0x5*-0x28f+0x315*-0x4+-0x192*-0x10,_0x4aaaa7=0x99*0x24+0x1777*-0x1+-0x1*-0x1f3):_0x33efeb=_0x4aaaa7=0x1*-0x74c+0x255f+0x1e13*-0x1,this['_angularMo'+'tionY']===qa?(_0x4078f1=this['_angularLi'+'mitsY']['x']*Y['DEG_TO_RAD'],_0x4ca974=this['_angularLi'+'mitsY']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionY']===Xa?(_0x4078f1=0x26b3+0x4f*0x65+-0x45dd,_0x4ca974=0x1465+-0x222+0x5*-0x3a7):_0x4078f1=_0x4ca974=-0x1544*-0x1+0x6fb*-0x2+-0x74e,this['_angularMo'+'tionZ']===qa?(_0x2342b2=this['_angularLi'+'mitsZ']['x']*Y['DEG_TO_RAD'],_0x1b6aa5=this['_angularLi'+'mitsZ']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionZ']===Xa?(_0x2342b2=-0x2200+-0x1e03+0x4004,_0x1b6aa5=0x5b3+0x24f*-0x3+0x13a):_0x2342b2=_0x1b6aa5=0x1278+-0x1548+0x2d0;const _0x3de6e3=new Ammo['btVector3'](_0x33efeb,_0x4078f1,_0x2342b2);_0x2658bf['setAngular'+'LowerLimit'](_0x3de6e3),_0x3de6e3['setValue'](_0x4aaaa7,_0x4ca974,_0x1b6aa5),_0x2658bf['setAngular'+'UpperLimit'](_0x3de6e3),Ammo['destroy'](_0x3de6e3);}}['_updateLin'+'earLimits'](){const _0x200559=this['_constrain'+'t'];if(_0x200559){let _0x13fecc,_0x206cc2,_0x182f48,_0x5bb02b,_0x21c0f8,_0x350224;this['_linearMot'+'ionX']===qa?(_0x13fecc=this['_linearLim'+'itsX']['x'],_0x5bb02b=this['_linearLim'+'itsX']['y']):this['_linearMot'+'ionX']===Xa?(_0x13fecc=-0x1077*-0x1+-0x7*0x2ad+-0x53*-0x7,_0x5bb02b=0xa6e+-0x2*-0x5a7+-0x15bc):_0x13fecc=_0x5bb02b=0x4*0x8ab+0x1*0xb0f+-0x17*0x1fd,this['_linearMot'+'ionY']===qa?(_0x206cc2=this['_linearLim'+'itsY']['x'],_0x21c0f8=this['_linearLim'+'itsY']['y']):this['_linearMot'+'ionY']===Xa?(_0x206cc2=0x23e2+-0x1*-0xde5+-0x31c6,_0x21c0f8=0x679+0x634*0x6+-0x2bb1*0x1):_0x206cc2=_0x21c0f8=-0x22c4+0x687+0x1c3d*0x1,this['_linearMot'+'ionZ']===qa?(_0x182f48=this['_linearLim'+'itsZ']['x'],_0x350224=this['_linearLim'+'itsZ']['y']):this['_linearMot'+'ionZ']===Xa?(_0x182f48=0x2b6*0x2+0x61a+-0xb85,_0x350224=0x1*-0x58a+0x1*-0x336+0x8c0):_0x182f48=_0x350224=-0x7f*0x40+0xea6+0x111a;const _0x3b2c6b=new Ammo['btVector3'](_0x13fecc,_0x206cc2,_0x182f48);_0x200559['setLinearL'+'owerLimit'](_0x3b2c6b),_0x3b2c6b['setValue'](_0x5bb02b,_0x21c0f8,_0x350224),_0x200559['setLinearU'+'pperLimit'](_0x3b2c6b),Ammo['destroy'](_0x3b2c6b);}}['_createCon'+'straint'](){if(this['_entityA']&&this['_entityA']['rigidbody']){this['_destroyCo'+'nstraint']();const _0x2ea747=new te(),_0x502586=this['_entityA']['rigidbody']['body'];_0x502586['activate']();const _0x36e6c0=this['entity']['getWorldTr'+'ansform'](),_0x1faaf3=this['_entityA']['getWorldTr'+'ansform']()['clone']()['invert']();_0x2ea747['mul2'](_0x1faaf3,_0x36e6c0);const _0x171404=new Ammo['btTransfor'+'m']();if(this['_convertTr'+'ansform'](_0x2ea747,_0x171404),this['_entityB']&&this['_entityB']['rigidbody']){const _0x10a91f=this['_entityB']['rigidbody']['body'];_0x10a91f['activate']();const _0x553b5c=this['_entityB']['getWorldTr'+'ansform']()['clone']()['invert']();_0x2ea747['mul2'](_0x553b5c,_0x36e6c0);const _0x30a6fa=new Ammo['btTransfor'+'m']();this['_convertTr'+'ansform'](_0x2ea747,_0x30a6fa),this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x502586,_0x10a91f,_0x171404,_0x30a6fa,!this['_enableCol'+'lision']),Ammo['destroy'](_0x30a6fa);}else this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x502586,_0x171404,!this['_enableCol'+'lision']);Ammo['destroy'](_0x171404);const _0x3de787=['X','Y','Z','X','Y','Z'];for(let _0x262bd5=0xb1e+-0x78b+-0x393;_0x262bd5<-0x1a9*0x9+-0x19a3+0x289a;_0x262bd5++){const _0x4c798e=_0x262bd5<0x1195+-0x1f56+0xdc4?'_linear':'_angular';this['_constrain'+'t']['enableSpri'+'ng'](_0x262bd5,this[_0x4c798e+'Spring'+_0x3de787[_0x262bd5]]),this['_constrain'+'t']['setDamping'](_0x262bd5,this[_0x4c798e+'Damping'+_0x3de787[_0x262bd5]]),this['_constrain'+'t']['setEquilib'+'riumPoint'](_0x262bd5,this[_0x4c798e+('Equilibriu'+'m')+_0x3de787[_0x262bd5]]),this['_constrain'+'t']['setStiffne'+'ss'](_0x262bd5,this[_0x4c798e+'Stiffness'+_0x3de787[_0x262bd5]]);}this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](this['_breakForc'+'e']),this['_updateLin'+'earLimits'](),this['_updateAng'+'ularLimits'](),this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['addConstra'+'int'](this['_constrain'+'t'],!this['_enableCol'+'lision']);}}['_destroyCo'+'nstraint'](){this['_constrain'+'t']&&(this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['removeCons'+'traint'](this['_constrain'+'t']),Ammo['destroy'](this['_constrain'+'t']),this['_constrain'+'t']=null);}['initFromDa'+'ta'](_0x19bc34){for(const _0x20f38e of RR)_0x19bc34['hasOwnProp'+'erty'](_0x20f38e)&&(_0x19bc34[_0x20f38e]instanceof J?this['_'+_0x20f38e]['copy'](_0x19bc34[_0x20f38e]):this['_'+_0x20f38e]=_0x19bc34[_0x20f38e]);this['_createCon'+'straint']();}['onEnable'](){this['_createCon'+'straint']();}['onDisable'](){this['_destroyCo'+'nstraint']();}['_onSetEnab'+'led'](_0x47b0e8,_0x459748,_0x54bbf5){}['_onBeforeR'+'emove'](){this['fire']('remove');}}const OR={'Damping':'setDamping','Equilibrium':'setEquilib'+'riumPoint','Spring':'enableSpri'+'ng','Stiffness':'setStiffne'+'ss'};['linear','angular']['forEach'](_0x1faabb=>{['Damping','Equilibriu'+'m','Spring','Stiffness']['forEach'](_0x3cd12c=>{['X','Y','Z']['forEach'](_0x388f71=>{const _0x83f783=_0x1faabb+_0x3cd12c+_0x388f71,_0x1c1a4f='_'+_0x83f783;let _0x4f0a86=_0x1faabb==='linear'?0x2d7+0xb80+0x1*-0xe57:0x18ef+-0x2*-0x35b+0x2*-0xfd1;_0x388f71==='Y'&&(_0x4f0a86+=-0x5*-0x4c7+0xca*0x26+-0x35de),_0x388f71==='Z'&&(_0x4f0a86+=0x3b*0x1d+-0x175b+0x10ae),Object['defineProp'+'erty'](ym['prototype'],_0x83f783,{'get':function(){return this[_0x1c1a4f];},'set':function(_0x25fd77){this[_0x1c1a4f]!==_0x25fd77&&(this[_0x1c1a4f]=_0x25fd77,this['_constrain'+'t'][OR[_0x3cd12c]](_0x4f0a86,_0x25fd77));}});});});});class FR{constructor(){this['enabled']=!(-0x156b+-0x5*-0x5d3+-0x7b4);}}const Fu=['enabled'];class NR extends ct{constructor(_0x5a9e56){super(_0x5a9e56),this['id']='joint',this['app']=_0x5a9e56,this['ComponentT'+'ype']=ym,this['DataType']=FR,this['schema']=Fu;}['initialize'+'ComponentD'+'ata'](_0x378a12,_0x205a2e,_0xee4e5){_0x378a12['initFromDa'+'ta'](_0x205a2e),super['initialize'+'ComponentD'+'ata'](_0x378a12,_0x205a2e,Fu);}}we['_buildAcce'+'ssors'](ym['prototype'],Fu),(function(){let _0x165c80;try{const _0x4ae90b=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x165c80=_0x4ae90b();}catch(_0x317d53){_0x165c80=window;}_0x165c80['setInterva'+'l'](_0x546211,-0x1d2+-0x4*-0x153+0xc26);}());class Jv extends we{constructor(){super(...arguments),h(this,'_minWidth',0x833*0x1+-0x1*-0x273+-0x2*0x553),h(this,'_minHeight',-0x457*0x1+0x22a6+-0x1e4f),h(this,'_maxWidth',null),h(this,'_maxHeight',null),h(this,'_fitWidthP'+'roportion',-0x23bc*0x1+0xa8d+0x7*0x399),h(this,'_fitHeight'+'Proportion',-0x5e0+0x5*-0x17e+0xd56),h(this,'_excludeFr'+'omLayout',!(-0x2*-0x8bd+0x1*-0xd8a+-0x3ef));}set['minWidth'](_0x156969){_0x156969!==this['_minWidth']&&(this['_minWidth']=_0x156969,this['fire']('resize'));}get['minWidth'](){return this['_minWidth'];}set['minHeight'](_0x45f988){_0x45f988!==this['_minHeight']&&(this['_minHeight']=_0x45f988,this['fire']('resize'));}get['minHeight'](){return this['_minHeight'];}set['maxWidth'](_0x838bbd){_0x838bbd!==this['_maxWidth']&&(this['_maxWidth']=_0x838bbd,this['fire']('resize'));}get['maxWidth'](){return this['_maxWidth'];}set['maxHeight'](_0x4f4ceb){_0x4f4ceb!==this['_maxHeight']&&(this['_maxHeight']=_0x4f4ceb,this['fire']('resize'));}get['maxHeight'](){return this['_maxHeight'];}set['fitWidthPr'+'oportion'](_0x3b00b6){_0x3b00b6!==this['_fitWidthP'+'roportion']&&(this['_fitWidthP'+'roportion']=_0x3b00b6,this['fire']('resize'));}get['fitWidthPr'+'oportion'](){return this['_fitWidthP'+'roportion'];}set['fitHeightP'+'roportion'](_0x2b32f6){_0x2b32f6!==this['_fitHeight'+'Proportion']&&(this['_fitHeight'+'Proportion']=_0x2b32f6,this['fire']('resize'));}get['fitHeightP'+'roportion'](){return this['_fitHeight'+'Proportion'];}set['excludeFro'+'mLayout'](_0x1589ae){_0x1589ae!==this['_excludeFr'+'omLayout']&&(this['_excludeFr'+'omLayout']=_0x1589ae,this['fire']('resize'));}get['excludeFro'+'mLayout'](){return this['_excludeFr'+'omLayout'];}}class kR{constructor(){this['enabled']=!(-0x1916+0x1d7e*0x1+-0x468);}}const e0=['enabled'];class UR extends ct{constructor(_0x3aab6c){super(_0x3aab6c),this['id']='layoutchil'+'d',this['ComponentT'+'ype']=Jv,this['DataType']=kR,this['schema']=e0;}['initialize'+'ComponentD'+'ata'](_0x3e24d9,_0x72e290,_0x233250){_0x72e290['enabled']!==void(-0x12c7+0x1*0xdad+0x51a*0x1)&&(_0x3e24d9['enabled']=_0x72e290['enabled']),_0x72e290['minWidth']!==void(0x610+0x19*0x15b+0x15*-0x1e7)&&(_0x3e24d9['minWidth']=_0x72e290['minWidth']),_0x72e290['minHeight']!==void(-0x1*0x1675+0x5b*0x31+0x56*0xf)&&(_0x3e24d9['minHeight']=_0x72e290['minHeight']),_0x72e290['maxWidth']!==void(0x2459+0x205*-0x1+0x2254*-0x1)&&(_0x3e24d9['maxWidth']=_0x72e290['maxWidth']),_0x72e290['maxHeight']!==void(-0x234a+-0x2654+0x499e)&&(_0x3e24d9['maxHeight']=_0x72e290['maxHeight']),_0x72e290['fitWidthPr'+'oportion']!==void(0x139*-0x17+0x2287*-0x1+0x3ea6)&&(_0x3e24d9['fitWidthPr'+'oportion']=_0x72e290['fitWidthPr'+'oportion']),_0x72e290['fitHeightP'+'roportion']!==void(-0xe5+-0x7a1*-0x1+-0x6bc)&&(_0x3e24d9['fitHeightP'+'roportion']=_0x72e290['fitHeightP'+'roportion']),_0x72e290['excludeFro'+'mLayout']!==void(-0x1841*0x1+0x1*-0x1cbe+0x34ff)&&(_0x3e24d9['excludeFro'+'mLayout']=_0x72e290['excludeFro'+'mLayout']),super['initialize'+'ComponentD'+'ata'](_0x3e24d9,_0x72e290,_0x233250);}['cloneCompo'+'nent'](_0x1b2d0c,_0x1cbc3f){const _0x47bc56=_0x1b2d0c['layoutchil'+'d'];return this['addCompone'+'nt'](_0x1cbc3f,{'enabled':_0x47bc56['enabled'],'minWidth':_0x47bc56['minWidth'],'minHeight':_0x47bc56['minHeight'],'maxWidth':_0x47bc56['maxWidth'],'maxHeight':_0x47bc56['maxHeight'],'fitWidthProportion':_0x47bc56['fitWidthPr'+'oportion'],'fitHeightProportion':_0x47bc56['fitHeightP'+'roportion'],'excludeFromLayout':_0x47bc56['excludeFro'+'mLayout']});}}we['_buildAcce'+'ssors'](Jv['prototype'],e0);const Nu=-0x1a0+0x1af*0x15+0x6bf*-0x5,BR=-0x998+0x1*0x20b9+-0x1720,Qg=0x17*0xb3+-0xd3f+-0x2d4,zR=0x1cc*0x2+-0xf39+0xba4,Oh={};Oh[Ce]={'axis':'x','size':'width','calculatedSize':'calculated'+'Width','minSize':'minWidth','maxSize':'maxWidth','fitting':'widthFitti'+'ng','fittingProportion':'fitWidthPr'+'oportion'},Oh[je]={'axis':'y','size':'height','calculatedSize':'calculated'+'Height','minSize':'minHeight','maxSize':'maxHeight','fitting':'heightFitt'+'ing','fittingProportion':'fitHeightP'+'roportion'};const vm={};vm[Ce]=je,vm[je]=Ce;const VR={'minWidth':0x0,'minHeight':0x0,'maxWidth':Number['POSITIVE_I'+'NFINITY'],'maxHeight':Number['POSITIVE_I'+'NFINITY'],'width':null,'height':null,'fitWidthProportion':0x0,'fitHeightProportion':0x0},os={'NONE':'NONE','APPLY_STRETCHING':'APPLY_STRE'+'TCHING','APPLY_SHRINKING':'APPLY_SHRI'+'NKING'},ls=new J();function t0(_0x1146df){let _0x4d112b;const _0x3144f5=Oh[_0x1146df],_0x10939c=Oh[vm[_0x1146df]];function _0xf7b440(_0x3b4d8e,_0x3ceb6f){return-_0x3ceb6f[_0x3144f5['size']]*_0x3b4d8e['pivot'][_0x3144f5['axis']];}function _0xd9aa6e(_0x2cd764,_0x109843){return-_0x109843[_0x10939c['size']]*_0x2cd764['pivot'][_0x10939c['axis']];}function _0x17516b(_0x5742f4,_0x3e9c9e){return _0x3e9c9e[_0x3144f5['size']]*(0x10c7*0x2+-0x14c7+-0xcc6-_0x5742f4['pivot'][_0x3144f5['axis']]);}function _0x25168a(_0x3d70e6,_0x2f8fd5){_0x3d70e6=_0x3d70e6['filter'](_0x1f94ec),_0x4d112b=_0x2f8fd5,ls['x']=_0x4d112b['containerS'+'ize']['x']-_0x4d112b['padding']['x']-_0x4d112b['padding']['z'],ls['y']=_0x4d112b['containerS'+'ize']['y']-_0x4d112b['padding']['y']-_0x4d112b['padding']['w'],_0x222f78(_0x3d70e6);const _0x17392b=_0x416cb5(_0x2887ea(_0x3d70e6)),_0x16d501=_0x1201a1(_0x17392b,_0x581756(_0x17392b)),_0x1cbea5=_0x42e39d(_0x17392b,_0x16d501);return _0x174db3(_0x17392b,_0x16d501,_0x1cbea5),_0x24cfac(_0x17392b,_0x16d501,_0x1cbea5),_0x3b35ff(_0x17392b);}function _0x1f94ec(_0x15ae34){const _0x231aaf=_0x15ae34['entity']['layoutchil'+'d'];return!_0x231aaf||!_0x231aaf['enabled']||!_0x231aaf['excludeFro'+'mLayout'];}function _0x222f78(_0x525aa4){for(let _0x35c80e=0x5d4+0x205b+0x73*-0x55;_0x35c80e<_0x525aa4['length'];++_0x35c80e){const _0x506466=_0x525aa4[_0x35c80e],_0x4052ef=_0x506466['anchor'];(_0x4052ef['x']!==0x1de2+-0x19f4*-0x1+-0x37d6||_0x4052ef['y']!==0x8c5+0x4*0x8aa+0x1*-0x2b6d||_0x4052ef['z']!==0xe*0x67+0x1302+-0x18a4||_0x4052ef['w']!==0x17ce+-0x706+0x598*-0x3)&&(_0x506466['anchor']=re['ZERO']);}}function _0x2887ea(_0x172eed){if(!_0x4d112b['wrap'])return[_0x172eed];const _0x5cdbaa=[[]],_0x4f639a=_0x440801(_0x172eed);let _0x459ca8=0x1*0x2177+0x1067*0x2+-0x4245;const _0x113299=_0x4d112b[_0x3144f5['fitting']]===Qg;for(let _0x116136=0xb1d*0x1+0x203a+-0x2b57;_0x116136<_0x172eed['length'];++_0x116136){_0x5cdbaa[_0x5cdbaa['length']-(-0x1*-0xf1f+-0x103+-0x9d*0x17)]['length']>0x2507*0x1+0xb27+0xe*-0x371&&(_0x459ca8+=_0x4d112b['spacing'][_0x3144f5['axis']]);const _0x201cf7=_0x4f639a[_0x116136][_0x3144f5['size']];_0x459ca8+=_0x201cf7,!_0x113299&&_0x459ca8>ls[_0x3144f5['axis']]&&_0x5cdbaa[_0x5cdbaa['length']-(-0xfc6+-0x17c6+-0x2a3*-0xf)]['length']!==-0xfa2+-0x2092*-0x1+-0x10f0&&(_0x459ca8=_0x201cf7,_0x5cdbaa['push']([])),_0x5cdbaa[_0x5cdbaa['length']-(0x1077+-0xf35+-0x141)]['push'](_0x172eed[_0x116136]),_0x113299&&_0x459ca8>ls[_0x3144f5['axis']]&&_0x116136!==_0x172eed['length']-(-0x13*-0x35+-0x2a*0xa0+-0x1*-0x1652)&&(_0x459ca8=0x861+0x54d*0x7+-0x2d7c,_0x5cdbaa['push']([]));}return _0x5cdbaa;}function _0x416cb5(_0x241547){const _0x34a584=_0x4d112b['orientatio'+'n']===Ce&&_0x4d112b['reverseX']||_0x4d112b['orientatio'+'n']===je&&_0x4d112b['reverseY'],_0x4a1948=_0x4d112b['orientatio'+'n']===Ce&&_0x4d112b['reverseY']||_0x4d112b['orientatio'+'n']===je&&_0x4d112b['reverseX'];if(_0x34a584){for(let _0x523084=0x9*0xc7+0x1d84+0xd*-0x2cf;_0x523084<_0x241547['length'];++_0x523084)_0x34a584&&_0x241547[_0x523084]['reverse']();}return _0x4a1948&&_0x241547['reverse'](),_0x241547;}function _0x581756(_0x5ec538){const _0xd81228=[];for(let _0x240e1d=0x1f95+0x714*0x1+-0xce3*0x3;_0x240e1d<_0x5ec538['length'];++_0x240e1d){const _0x4497fc=_0x5ec538[_0x240e1d],_0x553626=_0x440801(_0x4497fc),_0x1fb31b=_0x527146(_0x553626,_0x3144f5),_0x581b22=_0x1b13e6(_0x4d112b[_0x3144f5['fitting']],_0x1fb31b,ls[_0x3144f5['axis']]);_0x581b22===os['APPLY_STRE'+'TCHING']?_0x2f38b3(_0x553626,_0x1fb31b,_0x3144f5):_0x581b22===os['APPLY_SHRI'+'NKING']&&_0x194bf4(_0x553626,_0x1fb31b,_0x3144f5),_0xd81228['push'](_0x553626);}return _0xd81228;}function _0x1201a1(_0x3581c4,_0x4e4863){const _0x5a1e6b=[],_0x3e5921=[];for(let _0x50c9a9=-0x5*0x6a4+0x23*0xaf+-0x1db*-0x5;_0x50c9a9<_0x3581c4['length'];++_0x50c9a9){const _0x3d9faa=_0x3581c4[_0x50c9a9];_0x3d9faa['largestEle'+'ment']=null,_0x3d9faa['largestSiz'+'e']={'width':Number['NEGATIVE_I'+'NFINITY'],'height':Number['NEGATIVE_I'+'NFINITY']};for(let _0x351d63=0x2*-0xf9e+0x11c0+0xd7c;_0x351d63<_0x3d9faa['length'];++_0x351d63){const _0x2554aa=_0x4e4863[_0x50c9a9][_0x351d63];_0x2554aa[_0x10939c['size']]>_0x3d9faa['largestSiz'+'e'][_0x10939c['size']]&&(_0x3d9faa['largestEle'+'ment']=_0x3d9faa[_0x351d63],_0x3d9faa['largestSiz'+'e']=_0x2554aa);}_0x5a1e6b['push'](_0x3d9faa['largestEle'+'ment']),_0x3e5921['push'](_0x3d9faa['largestSiz'+'e']);}const _0xaa9ada=_0x527146(_0x3e5921,_0x10939c),_0x200df0=_0x1b13e6(_0x4d112b[_0x10939c['fitting']],_0xaa9ada,ls[_0x10939c['axis']]);_0x200df0===os['APPLY_STRE'+'TCHING']?_0x2f38b3(_0x3e5921,_0xaa9ada,_0x10939c):_0x200df0===os['APPLY_SHRI'+'NKING']&&_0x194bf4(_0x3e5921,_0xaa9ada,_0x10939c);for(let _0x2b6411=0x152d+0x1e9a+-0x33c7;_0x2b6411<_0x3581c4['length'];++_0x2b6411){const _0x376c5e=_0x3581c4[_0x2b6411];for(let _0x5bd243=0x4f3+-0x85*0x43+-0x6*-0x4fa;_0x5bd243<_0x376c5e['length'];++_0x5bd243){const _0x46b11b=_0x4e4863[_0x2b6411][_0x5bd243],_0x848d1=_0x46b11b[_0x10939c['size']],_0x30439b=_0x3581c4['length']===-0x1*-0x1c77+0xd*-0xd+-0x1bcd?ls[_0x10939c['axis']]:_0x376c5e['largestSiz'+'e'][_0x10939c['size']],_0x3600f=_0x1b13e6(_0x4d112b[_0x10939c['fitting']],_0x848d1,_0x30439b);_0x3600f===os['APPLY_STRE'+'TCHING']?_0x46b11b[_0x10939c['size']]=Math['min'](_0x30439b,_0x46b11b[_0x10939c['maxSize']]):_0x3600f===os['APPLY_SHRI'+'NKING']&&(_0x46b11b[_0x10939c['size']]=Math['max'](_0x30439b,_0x46b11b[_0x10939c['minSize']]));}}return _0x4e4863;}function _0x1b13e6(_0x45d8e6,_0x54b6ef,_0x29e531){switch(_0x45d8e6){case Nu:return os['NONE'];case BR:return _0x54b6ef<_0x29e531?os['APPLY_STRE'+'TCHING']:os['NONE'];case Qg:return _0x54b6ef>=_0x29e531?os['APPLY_SHRI'+'NKING']:os['NONE'];case zR:return _0x54b6ef<_0x29e531?os['APPLY_STRE'+'TCHING']:os['APPLY_SHRI'+'NKING'];default:throw new Error('Unrecogniz'+'ed\x20fitting'+'\x20mode:\x20'+_0x45d8e6);}}function _0x527146(_0x3d53a9,_0x193c6d){const _0x2d752d=_0x65d52f(_0x3d53a9,_0x193c6d['size']),_0x110db9=(_0x3d53a9['length']-(-0x2016+0x2d7+0x40*0x75))*_0x4d112b['spacing'][_0x193c6d['axis']];return _0x2d752d+_0x110db9;}function _0x2f38b3(_0x4a10ee,_0x1e5d5f,_0x43f5ae){const _0x25f68b=_0x508611(_0x4a10ee,_0x43f5ae['maxSize']),_0x6fcf05=_0x5627ce(_0x4a10ee,_0x43f5ae['fittingPro'+'portion']),_0x2d41e9=_0xf81af(_0x6fcf05,_0x25f68b);let _0x56f05a=ls[_0x43f5ae['axis']]-_0x1e5d5f;for(let _0x3e3525=0x1*0x24af+-0x32f+0x10c0*-0x2;_0x3e3525<_0x4a10ee['length'];++_0x3e3525){const _0xc56e2f=_0x25f68b[_0x3e3525],_0xc551d3=_0x531e89(_0xc56e2f,_0x56f05a,_0x6fcf05,_0x2d41e9),_0x23632c=_0x4a10ee[_0xc56e2f][_0x43f5ae['size']]+_0xc551d3,_0x366fec=_0x4a10ee[_0xc56e2f][_0x43f5ae['maxSize']],_0x55f402=Math['min'](_0x23632c,_0x366fec);_0x4a10ee[_0xc56e2f][_0x43f5ae['size']]=_0x55f402;const _0x36e7de=Math['max'](_0x23632c-_0x55f402,0x9cf+0x2b2*-0x5+0x3ab),_0x300c34=_0xc551d3-_0x36e7de;_0x56f05a-=_0x300c34;}}function _0x194bf4(_0x5c69d9,_0x3ecf71,_0x3622ce){const _0xece6fe=_0x508611(_0x5c69d9,_0x3622ce['minSize'],!(-0x1a1b+0x12e5*0x2+0x3*-0x3e5)),_0x317c2a=_0x5627ce(_0x5c69d9,_0x3622ce['fittingPro'+'portion']),_0x20e839=_0xf124c2(_0x317c2a),_0x506d73=_0xf81af(_0x20e839,_0xece6fe);let _0x54ed88=_0x3ecf71-ls[_0x3622ce['axis']];for(let _0x1de41b=0x1e1f+-0x1b0+-0x1d*0xfb;_0x1de41b<_0x5c69d9['length'];++_0x1de41b){const _0x241ae4=_0xece6fe[_0x1de41b],_0x524ea8=_0x531e89(_0x241ae4,_0x54ed88,_0x20e839,_0x506d73),_0x298e7e=_0x5c69d9[_0x241ae4][_0x3622ce['size']]-_0x524ea8,_0x10d1bb=_0x5c69d9[_0x241ae4][_0x3622ce['minSize']],_0x5abd60=Math['max'](_0x298e7e,_0x10d1bb);_0x5c69d9[_0x241ae4][_0x3622ce['size']]=_0x5abd60;const _0x173977=Math['max'](_0x5abd60-_0x298e7e,0x9ff+-0x270a*-0x1+-0x1*0x3109),_0xafa6f7=_0x524ea8-_0x173977;_0x54ed88-=_0xafa6f7;}}function _0x531e89(_0x3b251f,_0x5af268,_0x5b4d0c,_0x29de71){const _0x4b4b53=_0x5b4d0c[_0x3b251f],_0x3fff25=_0x29de71[_0x3b251f];return Math['abs'](_0x4b4b53)<-0x16e1*0x1+-0x1ed*0x9+0x2836+0.00001&&Math['abs'](_0x3fff25)<-0xbd8*-0x2+-0x14f4+-0x2bc+0.00001?_0x5af268:_0x5af268*_0x4b4b53/_0x3fff25;}function _0x42e39d(_0x152c62,_0x16950e){const _0x1d5509={};_0x1d5509[_0x3144f5['axis']]=-0x4*0x757+-0x1281+0x2fdd*0x1,_0x1d5509[_0x10939c['axis']]=0x112d*0x1+-0x3e*-0x8b+-0x32d7,_0x152c62[_0x3144f5['size']]=Number['NEGATIVE_I'+'NFINITY'];const _0x260739=[];for(let _0xd2456a=-0x2679+-0x9*-0x243+0x121e;_0xd2456a<_0x152c62['length'];++_0xd2456a){const _0x435b29=_0x152c62[_0xd2456a];if(_0x435b29['length']===-0x19e3+0x237e+0x1*-0x99b){_0x260739['push']([]);continue;}const _0x4ef158=[],_0x8ea674=_0x16950e[_0xd2456a];for(let _0x129945=0x7*-0x279+-0x77e+-0x7*-0x38b;_0x129945<_0x435b29['length'];++_0x129945){const _0x5a069b=_0x435b29[_0x129945],_0x9b5bed=_0x8ea674[_0x129945];_0x1d5509[_0x10939c['axis']]-=_0xd9aa6e(_0x5a069b,_0x9b5bed),_0x1d5509[_0x3144f5['axis']]-=_0xf7b440(_0x5a069b,_0x9b5bed),_0x4ef158[_0x129945]={},_0x4ef158[_0x129945][_0x3144f5['axis']]=_0x1d5509[_0x3144f5['axis']],_0x4ef158[_0x129945][_0x10939c['axis']]=_0x1d5509[_0x10939c['axis']],_0x1d5509[_0x10939c['axis']]+=_0xd9aa6e(_0x5a069b,_0x9b5bed),_0x1d5509[_0x3144f5['axis']]+=_0x17516b(_0x5a069b,_0x9b5bed)+_0x4d112b['spacing'][_0x3144f5['axis']];}_0x435b29[_0x3144f5['size']]=_0x1d5509[_0x3144f5['axis']]-_0x4d112b['spacing'][_0x3144f5['axis']],_0x435b29[_0x10939c['size']]=_0x435b29['largestSiz'+'e'][_0x10939c['size']],_0x152c62[_0x3144f5['size']]=Math['max'](_0x152c62[_0x3144f5['size']],_0x435b29[_0x3144f5['size']]),_0x1d5509[_0x3144f5['axis']]=0x8f*-0x12+0x175*-0xd+-0x1*-0x1cff,_0x1d5509[_0x10939c['axis']]+=_0x435b29[_0x10939c['size']]+_0x4d112b['spacing'][_0x10939c['axis']],_0x260739['push'](_0x4ef158);}return _0x152c62[_0x10939c['size']]=_0x1d5509[_0x10939c['axis']]-_0x4d112b['spacing'][_0x10939c['axis']],_0x260739;}function _0x174db3(_0xc31581,_0x53ac9f,_0xf9eea9){const _0x1501f4=_0x4d112b['alignment'][_0x3144f5['axis']],_0x12f42e=_0x4d112b['alignment'][_0x10939c['axis']],_0x3ce60e=_0x4d112b['padding'][_0x3144f5['axis']],_0x44bdea=_0x4d112b['padding'][_0x10939c['axis']];for(let _0x20bcc2=0x7db+-0x1f4d+0x1*0x1772;_0x20bcc2<_0xc31581['length'];++_0x20bcc2){const _0x381975=_0xc31581[_0x20bcc2],_0x3405c8=_0x53ac9f[_0x20bcc2],_0x3dcefa=_0xf9eea9[_0x20bcc2],_0x2c676c=(ls[_0x3144f5['axis']]-_0x381975[_0x3144f5['size']])*_0x1501f4+_0x3ce60e,_0x1c58e5=(ls[_0x10939c['axis']]-_0xc31581[_0x10939c['size']])*_0x12f42e+_0x44bdea;for(let _0x154a13=-0x3*-0x60d+-0x58a+-0x1*0xc9d;_0x154a13<_0x381975['length'];++_0x154a13){const _0x4ca1e4=(_0x381975[_0x10939c['size']]-_0x3405c8[_0x154a13][_0x10939c['size']])*_0x4d112b['alignment'][_0x10939c['axis']];_0x3dcefa[_0x154a13][_0x3144f5['axis']]+=_0x2c676c,_0x3dcefa[_0x154a13][_0x10939c['axis']]+=_0x1c58e5+_0x4ca1e4;}}}function _0x24cfac(_0x50b58f,_0x26b90f,_0x407892){for(let _0x5510fb=0x500+-0xccf+-0x7cf*-0x1;_0x5510fb<_0x50b58f['length'];++_0x5510fb){const _0x3479e4=_0x50b58f[_0x5510fb],_0x5ae680=_0x26b90f[_0x5510fb],_0x4ce6c2=_0x407892[_0x5510fb];for(let _0x365768=-0x1369*-0x1+0x1951+-0x2cba;_0x365768<_0x3479e4['length'];++_0x365768){const _0x5d40a6=_0x3479e4[_0x365768];_0x5d40a6[_0x3144f5['calculated'+'Size']]=_0x5ae680[_0x365768][_0x3144f5['size']],_0x5d40a6[_0x10939c['calculated'+'Size']]=_0x5ae680[_0x365768][_0x10939c['size']],_0x4d112b['orientatio'+'n']===Ce?_0x5d40a6['entity']['setLocalPo'+'sition'](_0x4ce6c2[_0x365768][_0x3144f5['axis']],_0x4ce6c2[_0x365768][_0x10939c['axis']],_0x5d40a6['entity']['getLocalPo'+'sition']()['z']):_0x5d40a6['entity']['setLocalPo'+'sition'](_0x4ce6c2[_0x365768][_0x10939c['axis']],_0x4ce6c2[_0x365768][_0x3144f5['axis']],_0x5d40a6['entity']['getLocalPo'+'sition']()['z']);}}}function _0x3b35ff(_0x2696bf){const _0x2d4a16=_0x2696bf['width'],_0x4e5e1f=_0x2696bf['height'],_0x2192d1=(ls['x']-_0x2d4a16)*_0x4d112b['alignment']['x']+_0x4d112b['padding']['x'],_0x1da0dd=(ls['y']-_0x4e5e1f)*_0x4d112b['alignment']['y']+_0x4d112b['padding']['y'];return{'bounds':new re(_0x2192d1,_0x1da0dd,_0x2d4a16,_0x4e5e1f)};}function _0x440801(_0x5de400){const _0x568d8d=[];for(let _0x1a9526=0x4*0x6d4+-0x12d1*0x1+0xf*-0x91;_0x1a9526<_0x5de400['length'];++_0x1a9526){const _0x51979a=_0x5de400[_0x1a9526],_0xe3dd3f=Math['max'](_0x36471e(_0x51979a,'minWidth'),0xb6e+0x10f7+-0x1c65),_0x551afb=Math['max'](_0x36471e(_0x51979a,'minHeight'),0x1e88+0x461*-0x8+0x480),_0x3c7ef4=Math['max'](_0x36471e(_0x51979a,'maxWidth'),_0xe3dd3f),_0x4a4ede=Math['max'](_0x36471e(_0x51979a,'maxHeight'),_0x551afb),_0x431e58=_0x5ce8f0(_0x36471e(_0x51979a,'width'),_0xe3dd3f,_0x3c7ef4),_0x283e2c=_0x5ce8f0(_0x36471e(_0x51979a,'height'),_0x551afb,_0x4a4ede),_0x2db56f=_0x36471e(_0x51979a,'fitWidthPr'+'oportion'),_0x4ccc39=_0x36471e(_0x51979a,'fitHeightP'+'roportion');_0x568d8d['push']({'minWidth':_0xe3dd3f,'minHeight':_0x551afb,'maxWidth':_0x3c7ef4,'maxHeight':_0x4a4ede,'width':_0x431e58,'height':_0x283e2c,'fitWidthProportion':_0x2db56f,'fitHeightProportion':_0x4ccc39});}return _0x568d8d;}function _0x36471e(_0x5c0de0,_0x35f4ce){const _0x133fce=_0x5c0de0['entity']['layoutchil'+'d'];return _0x133fce&&_0x133fce['enabled']&&_0x133fce[_0x35f4ce]!==void(-0x2f*0x53+0x1c88+-0xd4b*0x1)&&_0x133fce[_0x35f4ce]!==null?_0x133fce[_0x35f4ce]:_0x5c0de0[_0x35f4ce]!==void(0x4e*-0x17+0x840+0x2*-0x9f)?_0x5c0de0[_0x35f4ce]:VR[_0x35f4ce];}function _0x5ce8f0(_0x322ced,_0x3192e0,_0x2cc8aa){return Math['min'](Math['max'](_0x322ced,_0x3192e0),_0x2cc8aa);}function _0x65d52f(_0x55ee9a,_0x39b73a){return _0x55ee9a['reduce']((_0x166ee9,_0x5497de)=>_0x166ee9+_0x5497de[_0x39b73a],-0xbc+-0x1f41+0x13*0x1af);}function _0x5627ce(_0x1a24f8,_0x43f6d8){const _0x19b204=_0x65d52f(_0x1a24f8,_0x43f6d8),_0x3ee34a=[],_0xd6792e=_0x1a24f8['length'];if(_0x19b204===-0xd19+-0x3f1+-0x110a*-0x1){for(let _0x52d350=0x3*-0x237+0x258f+0x1*-0x1eea;_0x52d350<_0xd6792e;++_0x52d350)_0x3ee34a['push']((0x73*0xa+-0x49*0x7d+0x1f28)/_0xd6792e);}else{for(let _0x5cefdf=-0x23f3+0x23*0x48+0x29*0xa3;_0x5cefdf<_0xd6792e;++_0x5cefdf)_0x3ee34a['push'](_0x1a24f8[_0x5cefdf][_0x43f6d8]/_0x19b204);}return _0x3ee34a;}function _0xf124c2(_0x25f739){if(_0x25f739['length']===-0x2e5*-0x6+-0x1c29+0xacc)return[0x1259+-0x14f4+-0x4*-0xa7];const _0x108560=[],_0x17d7d5=_0x25f739['length'];for(let _0x3e609d=0xb09+-0x14f+-0xa6*0xf;_0x3e609d<_0x17d7d5;++_0x3e609d)_0x108560['push']((-0x103*-0x15+-0x16e7+-0x5*-0x55-_0x25f739[_0x3e609d])/(_0x17d7d5-(-0x1ac1+-0x25af+0x4071)));return _0x108560;}function _0x508611(_0x5777b3,_0x450446,_0x3dc408){return _0x5777b3['forEach'](_0x1bdbc9),_0x5777b3['slice']()['sort']((_0x384a3a,_0x7b7df0)=>_0x3dc408?_0x7b7df0[_0x450446]-_0x384a3a[_0x450446]:_0x384a3a[_0x450446]-_0x7b7df0[_0x450446])['map'](_0x289ad6);}function _0x1bdbc9(_0x1f0047,_0x318e55){_0x1f0047['index']=_0x318e55;}function _0x289ad6(_0x53dade){return _0x53dade['index'];}function _0xf81af(_0x381c83,_0x40f9ba){const _0x5c4fa8=[];_0x5c4fa8[_0x40f9ba[_0x381c83['length']-(0x8f5*-0x2+0x2324+-0x1139*0x1)]]=_0x381c83[_0x40f9ba[_0x381c83['length']-(-0x203d+-0x1d2f+-0x25*-0x1a9)]];for(let _0x2aa444=_0x381c83['length']-(0x2266+-0x1*0x1ab9+-0x7ab);_0x2aa444>=0x2702+0x5*0x761+-0x4be7;--_0x2aa444)_0x5c4fa8[_0x40f9ba[_0x2aa444]]=_0x5c4fa8[_0x40f9ba[_0x2aa444+(0x1eee+-0x35b+-0x1b92*0x1)]]+_0x381c83[_0x40f9ba[_0x2aa444]];return _0x5c4fa8;}return _0x25168a;}const xm={};xm[Ce]=t0(Ce),xm[je]=t0(je);class GR{['calculateL'+'ayout'](_0x39659e,_0x97606c){const _0x342f8c=xm[_0x97606c['orientatio'+'n']];if(_0x342f8c)return _0x342f8c(_0x39659e,_0x97606c);throw new Error('Unrecogniz'+'ed\x20orienta'+'tion\x20value'+':\x20'+_0x97606c['orientatio'+'n']);}}function Jg(_0x4ebb33){return _0x4ebb33['element'];}function HR(_0x31f8e6){return _0x31f8e6['enabled']&&_0x31f8e6['element']&&_0x31f8e6['element']['enabled'];}class s0 extends we{constructor(_0x2d4032,_0x28b958){super(_0x2d4032,_0x28b958),h(this,'_orientati'+'on',Ce),h(this,'_reverseX',!(-0x37*-0x4f+-0x3e1+-0x1*0xd17)),h(this,'_reverseY',!(-0x36f*-0x7+-0x1d65+0x55c)),h(this,'_alignment',new J(-0xcd9+-0xebd+0x1b96,0x11e2*0x1+0x6e9+-0x18ca)),h(this,'_padding',new re()),h(this,'_spacing',new J()),h(this,'_widthFitt'+'ing',Nu),h(this,'_heightFit'+'ting',Nu),h(this,'_wrap',!(-0x435+-0xefa+-0x4*-0x4cc)),h(this,'_layoutCal'+'culator',new GR()),(this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'on'),this['entity']['children']['forEach'](_0x598430=>{this['_listenFor'+'ReflowEven'+'ts'](_0x598430,'on');}),this['entity']['on']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['on']('childremov'+'e',this['_onChildRe'+'move'],this),w['assert'](_0x2d4032['app']['systems']['element'],'System\x20\x27el'+'ement\x27\x20doe'+'sn\x27t\x20exist'),_0x2d4032['app']['systems']['element']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x2d4032['app']['systems']['element']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),w['assert'](_0x2d4032['app']['systems']['layoutchil'+'d'],'System\x20\x27la'+'youtchild\x27'+'\x20doesn\x27t\x20e'+'xist'),_0x2d4032['app']['systems']['layoutchil'+'d']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x2d4032['app']['systems']['layoutchil'+'d']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this));}set['orientatio'+'n'](_0x53f65b){_0x53f65b!==this['_orientati'+'on']&&(this['_orientati'+'on']=_0x53f65b,this['_scheduleR'+'eflow']());}get['orientatio'+'n'](){return this['_orientati'+'on'];}set['reverseX'](_0x20a1c7){_0x20a1c7!==this['_reverseX']&&(this['_reverseX']=_0x20a1c7,this['_scheduleR'+'eflow']());}get['reverseX'](){return this['_reverseX'];}set['reverseY'](_0x2cf4fc){_0x2cf4fc!==this['_reverseY']&&(this['_reverseY']=_0x2cf4fc,this['_scheduleR'+'eflow']());}get['reverseY'](){return this['_reverseY'];}set['alignment'](_0x4ed727){_0x4ed727['equals'](this['_alignment'])||(this['_alignment']['copy'](_0x4ed727),this['_scheduleR'+'eflow']());}get['alignment'](){return this['_alignment'];}set['padding'](_0x3f95e5){_0x3f95e5['equals'](this['_padding'])||(this['_padding']['copy'](_0x3f95e5),this['_scheduleR'+'eflow']());}get['padding'](){return this['_padding'];}set['spacing'](_0x29c1fa){_0x29c1fa['equals'](this['_spacing'])||(this['_spacing']['copy'](_0x29c1fa),this['_scheduleR'+'eflow']());}get['spacing'](){return this['_spacing'];}set['widthFitti'+'ng'](_0x2ac266){_0x2ac266!==this['_widthFitt'+'ing']&&(this['_widthFitt'+'ing']=_0x2ac266,this['_scheduleR'+'eflow']());}get['widthFitti'+'ng'](){return this['_widthFitt'+'ing'];}set['heightFitt'+'ing'](_0x55b030){_0x55b030!==this['_heightFit'+'ting']&&(this['_heightFit'+'ting']=_0x55b030,this['_scheduleR'+'eflow']());}get['heightFitt'+'ing'](){return this['_heightFit'+'ting'];}set['wrap'](_0x3cb697){_0x3cb697!==this['_wrap']&&(this['_wrap']=_0x3cb697,this['_scheduleR'+'eflow']());}get['wrap'](){return this['_wrap'];}['_isSelfOrC'+'hild'](_0x8f993c){return _0x8f993c===this['entity']||this['entity']['children']['indexOf'](_0x8f993c)!==-(-0xc1*-0x21+-0x211*0x2+-0x213*0xa);}['_listenFor'+'ReflowEven'+'ts'](_0x407f5a,_0x5eb818){_0x407f5a['element']&&(_0x407f5a['element'][_0x5eb818]('enableelem'+'ent',this['_scheduleR'+'eflow'],this),_0x407f5a['element'][_0x5eb818]('disableele'+'ment',this['_scheduleR'+'eflow'],this),_0x407f5a['element'][_0x5eb818]('resize',this['_scheduleR'+'eflow'],this),_0x407f5a['element'][_0x5eb818]('set:pivot',this['_scheduleR'+'eflow'],this)),_0x407f5a['layoutchil'+'d']&&(_0x407f5a['layoutchil'+'d'][_0x5eb818]('set_enable'+'d',this['_scheduleR'+'eflow'],this),_0x407f5a['layoutchil'+'d'][_0x5eb818]('resize',this['_scheduleR'+'eflow'],this));}['_onElement'+'OrLayoutCo'+'mponentAdd'](_0xa488b){this['_isSelfOrC'+'hild'](_0xa488b)&&(this['_listenFor'+'ReflowEven'+'ts'](_0xa488b,'on'),this['_scheduleR'+'eflow']());}['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'](_0xc10dd1){this['_isSelfOrC'+'hild'](_0xc10dd1)&&(this['_listenFor'+'ReflowEven'+'ts'](_0xc10dd1,'off'),this['_scheduleR'+'eflow']());}['_onChildIn'+'sert'](_0x4184d2){this['_listenFor'+'ReflowEven'+'ts'](_0x4184d2,'on'),this['_scheduleR'+'eflow']();}['_onChildRe'+'move'](_0x696d3a){this['_listenFor'+'ReflowEven'+'ts'](_0x696d3a,'off'),this['_scheduleR'+'eflow']();}['_scheduleR'+'eflow'](){this['enabled']&&this['entity']&&this['entity']['enabled']&&!this['_isPerform'+'ingReflow']&&this['system']['scheduleRe'+'flow'](this);}['reflow'](){const _0x4ad102=Jg(this['entity']),_0x1788b9=this['entity']['children']['filter'](HR)['map'](Jg);if(!_0x4ad102||_0x1788b9['length']===0x1*-0x8d2+-0x2057*-0x1+0x1785*-0x1)return;const _0x330117=Math['max'](_0x4ad102['calculated'+'Width'],0x2*-0x887+0x19a+-0xac*-0x17),_0x6dda5d=Math['max'](_0x4ad102['calculated'+'Height'],-0x1c26+-0x1*-0x39d+0x1889),_0x1758e4={'orientation':this['_orientati'+'on'],'reverseX':this['_reverseX'],'reverseY':this['_reverseY'],'alignment':this['_alignment'],'padding':this['_padding'],'spacing':this['_spacing'],'widthFitting':this['_widthFitt'+'ing'],'heightFitting':this['_heightFit'+'ting'],'wrap':this['_wrap'],'containerSize':new J(_0x330117,_0x6dda5d)};this['_isPerform'+'ingReflow']=!(0x1d24+0x5a1*-0x2+0x2*-0x8f1);const _0x36104c=this['_layoutCal'+'culator']['calculateL'+'ayout'](_0x1788b9,_0x1758e4);this['_isPerform'+'ingReflow']=!(-0x7*0x402+0x18a+0x1a85*0x1),this['fire']('reflow',_0x36104c);}['onEnable'](){this['_scheduleR'+'eflow']();}['onRemove'](){this['entity']['off']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['off']('childremov'+'e',this['_onChildRe'+'move'],this),this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'off'),this['entity']['children']['forEach'](_0x332987=>{this['_listenFor'+'ReflowEven'+'ts'](_0x332987,'off');}),this['system']['app']['systems']['element']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['element']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this);}}class WR{constructor(){this['enabled']=!(-0xe68+0xd4b+0x11d);}}const i0=['enabled'],$R=0x1e90+-0x1*-0x2595+-0x43c1;class XR extends ct{constructor(_0x56febb){super(_0x56febb),this['id']='layoutgrou'+'p',this['ComponentT'+'ype']=s0,this['DataType']=WR,this['schema']=i0,this['_reflowQue'+'ue']=[],this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x33bdf3,_0xe64897,_0x45bde0){_0xe64897['enabled']!==void(-0x2201+0x2e2+-0x1f1f*-0x1)&&(_0x33bdf3['enabled']=_0xe64897['enabled']),_0xe64897['orientatio'+'n']!==void(0x4f*-0x2+-0x1*0x1afb+0x1b99)&&(_0x33bdf3['orientatio'+'n']=_0xe64897['orientatio'+'n']),_0xe64897['reverseX']!==void(-0x5*0x90+-0x26a6+0x14bb*0x2)&&(_0x33bdf3['reverseX']=_0xe64897['reverseX']),_0xe64897['reverseY']!==void(-0x19ea+-0x35b*-0x4+0x27*0x52)&&(_0x33bdf3['reverseY']=_0xe64897['reverseY']),_0xe64897['alignment']!==void(0x648+0x6d9*-0x1+0x5*0x1d)&&(_0x33bdf3['alignment']=Array['isArray'](_0xe64897['alignment'])?new J(_0xe64897['alignment']):_0xe64897['alignment']),_0xe64897['padding']!==void(0x32*0x62+0x45d+-0x1*0x1781)&&(_0x33bdf3['padding']=Array['isArray'](_0xe64897['padding'])?new re(_0xe64897['padding']):_0xe64897['padding']),_0xe64897['spacing']!==void(-0x794+-0xf5a+-0x1*-0x16ee)&&(_0x33bdf3['spacing']=Array['isArray'](_0xe64897['spacing'])?new J(_0xe64897['spacing']):_0xe64897['spacing']),_0xe64897['widthFitti'+'ng']!==void(0x1ae9+0x3*0x549+-0x2ac4)&&(_0x33bdf3['widthFitti'+'ng']=_0xe64897['widthFitti'+'ng']),_0xe64897['heightFitt'+'ing']!==void(0x17*-0x127+0x872+0x120f)&&(_0x33bdf3['heightFitt'+'ing']=_0xe64897['heightFitt'+'ing']),_0xe64897['wrap']!==void(-0x4*-0xa+0x8b7*-0x1+0x88f)&&(_0x33bdf3['wrap']=_0xe64897['wrap']),super['initialize'+'ComponentD'+'ata'](_0x33bdf3,_0xe64897,_0x45bde0);}['cloneCompo'+'nent'](_0x7c5a00,_0x28ba4e){const _0x425798=_0x7c5a00['layoutgrou'+'p'];return this['addCompone'+'nt'](_0x28ba4e,{'enabled':_0x425798['enabled'],'orientation':_0x425798['orientatio'+'n'],'reverseX':_0x425798['reverseX'],'reverseY':_0x425798['reverseY'],'alignment':_0x425798['alignment'],'padding':_0x425798['padding'],'spacing':_0x425798['spacing'],'widthFitting':_0x425798['widthFitti'+'ng'],'heightFitting':_0x425798['heightFitt'+'ing'],'wrap':_0x425798['wrap']});}['scheduleRe'+'flow'](_0x3bda20){this['_reflowQue'+'ue']['indexOf'](_0x3bda20)===-(0x25f0+0x751+0x2d40*-0x1)&&this['_reflowQue'+'ue']['push'](_0x3bda20);}['_onPostUpd'+'ate'](){this['_processRe'+'flowQueue']();}['_processRe'+'flowQueue'](){if(this['_reflowQue'+'ue']['length']===0x11*0x1ba+0x2064+-0x3dbe)return;let _0x19171d=0x23b7+-0x167c+-0x3*0x469;for(;this['_reflowQue'+'ue']['length']>-0x1*-0x24d3+0x1dab+-0x427e;){const _0x30c4a2=this['_reflowQue'+'ue']['slice']();this['_reflowQue'+'ue']['length']=-0x11c4*-0x1+0x2*0xc4d+-0x2a5e,_0x30c4a2['sort']((_0x3718c9,_0x16ccd4)=>_0x3718c9['entity']['graphDepth']-_0x16ccd4['entity']['graphDepth']);for(let _0x597de9=0x173*0x19+-0x7d1+-0x1c6a*0x1;_0x597de9<_0x30c4a2['length'];++_0x597de9)_0x30c4a2[_0x597de9]['reflow']();if(++_0x19171d>=$R){console['warn']('Max\x20reflow'+'\x20iteration'+'s\x20limit\x20re'+'ached,\x20bai'+'ling.');break;}}}['_onRemoveC'+'omponent'](_0x25316c,_0xca67e8){_0xca67e8['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}we['_buildAcce'+'ssors'](s0['prototype'],i0);class qR{constructor(){h(this,'map',new Map());}['destroy'](_0x366325){this['map']['forEach'](_0x451607=>_0x451607['mesh']['destroy']());}}const jR=new Kt(),r0=(_0x5a057d,_0x184fb5)=>{const _0x4d5f1b=jR['get'](_0x5a057d,()=>new qR());let _0x3c2399=_0x4d5f1b['map']['get'](_0x184fb5);if(!_0x3c2399){let _0x41c3dd,_0xc58db;switch(_0x184fb5){case'box':_0x41c3dd=Ge['fromGeomet'+'ry'](_0x5a057d,new mu()),_0xc58db={'x':0x2,'y':0x2,'z':0x2,'uv':(0x2*-0x305+-0x1cd*0x5+-0xf0d*-0x1)/(0x1b3c+-0x695*0x2+-0xe0f)};break;case'capsule':_0x41c3dd=Ge['fromGeomet'+'ry'](_0x5a057d,new GA({'radius':0.5,'height':0x2})),_0xc58db={'x':Math['PI']*(-0xd78+-0x46e+0x18*0xbf),'y':Math['PI'],'z':Math['PI']*(-0x1*0x1cbf+0x236c+-0x1*0x6ab),'uv':(0x1*0x1c19+0x1ef7*0x1+-0x3b0f)/(-0x1*0x5b3+0x10dd+-0xb27)+(0x2041*0x1+-0x38c*0x8+-0x3e0)/(-0xb61+0xd8b+-0x227)/(0x1c71*-0x1+0x1*-0x1433+0x30a7*0x1)*(-0xb0b+-0x16*-0x6d+0x1*0x1af)};break;case'cone':_0x41c3dd=Ge['fromGeomet'+'ry'](_0x5a057d,new HA({'baseRadius':0.5,'peakRadius':0x0,'height':0x1})),_0xc58db={'x':2.54,'y':2.54,'z':2.54,'uv':(0x101a+-0x883+-0x796)/(-0x8fa+0x1d49+0x1*-0x144c)+(0x1*-0x124d+0x2ce+0x7c0*0x2)/(-0x1b57+0x697*0x1+-0x5*-0x427)/(0x1b*0xef+0x548+-0x1e7a)};break;case'cylinder':_0x41c3dd=Ge['fromGeomet'+'ry'](_0x5a057d,new WA({'radius':0.5,'height':0x1})),_0xc58db={'x':Math['PI'],'y':(-0xae0+-0x2a5*-0x2+0x16*0x41+0.79)*(-0xc97+0xd7f*-0x2+0x2797*0x1),'z':Math['PI'],'uv':(-0x2291+-0x22*0xe+0x246e)/(-0x55*0x65+-0x1d91+0x1*0x3f1d)+(0x91*-0x21+-0x26c6+0xe5e*0x4)/(-0x11be+0x1fa5+-0x379*0x4)/(0x1983+-0x1*0x106d+0x1*-0x913)*(0x2b*0x1+0x13ea+-0x1413)};break;case'plane':_0x41c3dd=Ge['fromGeomet'+'ry'](_0x5a057d,new $A({'halfExtents':new J(0xa08+-0x2*-0xc6+-0xb94+0.5,-0x233*0x5+0x129c+-0x79d*0x1+0.5),'widthSegments':0x1,'lengthSegments':0x1})),_0xc58db={'x':0x0,'y':0x1,'z':0x0,'uv':0x1};break;case'sphere':_0x41c3dd=Ge['fromGeomet'+'ry'](_0x5a057d,new _m({'radius':0.5})),_0xc58db={'x':Math['PI'],'y':Math['PI'],'z':Math['PI'],'uv':0x1};break;case'torus':_0x41c3dd=Ge['fromGeomet'+'ry'](_0x5a057d,new XA({'tubeRadius':0.2,'ringRadius':0.3})),_0xc58db={'x':Math['PI']*(0x1b13+0x2155+-0x3c68+0.5)*(-0x230*-0x11+-0x16*-0x18b+-0x4722+0.5)-Math['PI']*(0x1*-0x163d+0x4f*-0x71+0x391c+0.1)*(0x12ec+-0x73d+0x3*-0x3e5+0.1),'y':0.4,'z':0.4,'uv':0x1};break;default:throw new Error('Invalid\x20pr'+'imitive\x20ty'+'pe:\x20'+_0x184fb5);}_0x41c3dd['incRefCoun'+'t'](),_0x3c2399={'mesh':_0x41c3dd,'area':_0xc58db},_0x4d5f1b['map']['set'](_0x184fb5,_0x3c2399);}return _0x3c2399;};class Tm extends we{constructor(_0x519f4a,_0xb9d043){super(_0x519f4a,_0xb9d043),h(this,'_type','asset'),h(this,'_asset',null),h(this,'_model',null),h(this,'_mapping',{}),h(this,'_castShado'+'ws',!(0x2025+0x22ce+0xc5*-0x57)),h(this,'_receiveSh'+'adows',!(-0x1e+-0x1*-0x134b+-0x1*0x132d)),h(this,'_materialA'+'sset',null),h(this,'_material'),h(this,'_castShado'+'wsLightmap',!(0x146*0x15+-0x175e+-0x24*0x18)),h(this,'_lightmapp'+'ed',!(0x2*-0x713+0x17c8+-0x9a1)),h(this,'_lightmapS'+'izeMultipl'+'ier',-0xbb2+-0x1fc3+0x2b76),h(this,'isStatic',!(-0x1401+0x1*0x1266+0x19c*0x1)),h(this,'_layers',[er]),h(this,'_batchGrou'+'pId',-(0x15ae+0x15df+-0x2b8c)),h(this,'_customAab'+'b',null),h(this,'_area',null),h(this,'_materialE'+'vents',null),h(this,'_clonedMod'+'el',!(-0x2fd+0x2240+-0x1f42)),h(this,'_batchGrou'+'p',null),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_material']=_0x519f4a['defaultMat'+'erial'],_0xb9d043['on']('remove',this['onRemoveCh'+'ild'],this),_0xb9d043['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0xb9d043['on']('insert',this['onInsertCh'+'ild'],this),_0xb9d043['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['meshInstan'+'ces'](_0x1a4912){this['_model']&&(this['_model']['meshInstan'+'ces']=_0x1a4912);}get['meshInstan'+'ces'](){return this['_model']?this['_model']['meshInstan'+'ces']:null;}set['customAabb'](_0x10e8db){if(this['_customAab'+'b']=_0x10e8db,this['_model']){const _0x187280=this['_model']['meshInstan'+'ces'];if(_0x187280){for(let _0x5ba9f5=0x1b83*-0x1+-0x22a6+0x3e29;_0x5ba9f5<_0x187280['length'];_0x5ba9f5++)_0x187280[_0x5ba9f5]['setCustomA'+'abb'](this['_customAab'+'b']);}}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x2b7278){if(this['_type']!==_0x2b7278){if(this['_area']=null,this['_type']=_0x2b7278,_0x2b7278==='asset')this['_asset']!==null?this['_bindModel'+'Asset'](this['_asset']):this['model']=null;else{const _0x17abc1=r0(this['system']['app']['graphicsDe'+'vice'],_0x2b7278);this['_area']=_0x17abc1['area'];const _0x2a73a3=_0x17abc1['mesh'],_0x218e29=new Ie(),_0x4ddaa2=new sr();_0x4ddaa2['graph']=_0x218e29,_0x4ddaa2['meshInstan'+'ces']=[new He(_0x2a73a3,this['_material'],_0x218e29)],this['model']=_0x4ddaa2,this['_asset']=null;}}}get['type'](){return this['_type'];}set['asset'](_0x30a262){const _0x360f68=this['system']['app']['assets'];let _0x3c6a81=_0x30a262;if(_0x30a262 instanceof pe&&(_0x3c6a81=_0x30a262['id']),this['_asset']!==_0x3c6a81){if(this['_asset']){_0x360f68['off']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this);const _0x35514e=_0x360f68['get'](this['_asset']);_0x35514e&&this['_unbindMod'+'elAsset'](_0x35514e);}if(this['_asset']=_0x3c6a81,this['_asset']){const _0x59c43b=_0x360f68['get'](this['_asset']);_0x59c43b?this['_bindModel'+'Asset'](_0x59c43b):(this['model']=null,_0x360f68['on']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this));}else this['model']=null;}}get['asset'](){return this['_asset'];}set['model'](_0x2ccfa1){if(this['_model']!==_0x2ccfa1){if(_0x2ccfa1&&_0x2ccfa1['_immutable']){w['error']('Invalid\x20at'+'tempt\x20to\x20a'+'ssign\x20a\x20mo'+'del\x20to\x20mul'+'tiple\x20Mode'+'lComponent'+'s');return;}if(this['_model']&&(this['_model']['_immutable']=!(0xe*-0x235+-0xd*-0x1b2+0x8dd*0x1),this['removeMode'+'lFromLayer'+'s'](),this['_model']['getGraph']()['destroy'](),delete this['_model']['_entity'],this['_clonedMod'+'el']&&(this['_model']['destroy'](),this['_clonedMod'+'el']=!(-0x17f1*-0x1+-0x1971+-0x181*-0x1))),this['_model']=_0x2ccfa1,this['_model']){this['_model']['_immutable']=!(-0x7e9+0x1a9*0x4+0x145);const _0x482bfa=this['_model']['meshInstan'+'ces'];for(let _0x40ccc3=-0x9ff+-0x1f0f+0x290e;_0x40ccc3<_0x482bfa['length'];_0x40ccc3++)_0x482bfa[_0x40ccc3]['castShadow']=this['_castShado'+'ws'],_0x482bfa[_0x40ccc3]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x482bfa[_0x40ccc3]['setCustomA'+'abb'](this['_customAab'+'b']);this['lightmappe'+'d']=this['_lightmapp'+'ed'],this['entity']['addChild'](this['_model']['graph']),this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_model']['_entity']=this['entity'],this['entity']['animation']&&this['entity']['animation']['setModel'](this['_model']),this['entity']['anim']&&this['entity']['anim']['rebind'](),this['type']==='asset'?this['mapping']=this['_mapping']:this['_unsetMate'+'rialEvents']();}}}get['model'](){return this['_model'];}set['lightmappe'+'d'](_0x252255){if(_0x252255!==this['_lightmapp'+'ed']&&(this['_lightmapp'+'ed']=_0x252255,this['_model'])){const _0x7002c6=this['_model']['meshInstan'+'ces'];for(let _0x38e86c=-0x7a5+-0x1312+0x1ab7;_0x38e86c<_0x7002c6['length'];_0x38e86c++)_0x7002c6[_0x38e86c]['setLightma'+'pped'](_0x252255);}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x3235b8){if(this['_castShado'+'ws']===_0x3235b8)return;const _0x53abae=this['_model'];if(_0x53abae){const _0x31d7f1=this['layers'],_0x213c08=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x3235b8)for(let _0x58a924=-0x1bb+-0x1e52+0x200d;_0x58a924<_0x31d7f1['length'];_0x58a924++){const _0x15ec92=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x58a924]);_0x15ec92&&_0x15ec92['removeShad'+'owCasters'](_0x53abae['meshInstan'+'ces']);}const _0x4262b8=_0x53abae['meshInstan'+'ces'];for(let _0x45be26=-0x1813+0x2625+-0xe12;_0x45be26<_0x4262b8['length'];_0x45be26++)_0x4262b8[_0x45be26]['castShadow']=_0x3235b8;if(!this['_castShado'+'ws']&&_0x3235b8)for(let _0x17afaf=-0xcac+0xc63+0x49*0x1;_0x17afaf<_0x31d7f1['length'];_0x17afaf++){const _0x395ac8=_0x213c08['layers']['getLayerBy'+'Id'](_0x31d7f1[_0x17afaf]);_0x395ac8&&_0x395ac8['addShadowC'+'asters'](_0x53abae['meshInstan'+'ces']);}}this['_castShado'+'ws']=_0x3235b8;}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x37b3b8){if(this['_receiveSh'+'adows']!==_0x37b3b8&&(this['_receiveSh'+'adows']=_0x37b3b8,this['_model'])){const _0x2f60ac=this['_model']['meshInstan'+'ces'];for(let _0x3f1d05=-0x23*-0x8d+-0x5*0x30c+0xf*-0x45,_0x26d2cb=_0x2f60ac['length'];_0x3f1d05<_0x26d2cb;_0x3f1d05++)_0x2f60ac[_0x3f1d05]['receiveSha'+'dow']=_0x37b3b8;}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x210923){this['_castShado'+'wsLightmap']=_0x210923;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x28e320){this['_lightmapS'+'izeMultipl'+'ier']=_0x28e320;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x34cf05){const _0x393c98=this['system']['app']['scene']['layers'];if(this['meshInstan'+'ces'])for(let _0x57cae0=0x3*-0x6f8+-0x1374+-0x7e*-0x52;_0x57cae0<this['_layers']['length'];_0x57cae0++){const _0x42cf1e=_0x393c98['getLayerBy'+'Id'](this['_layers'][_0x57cae0]);_0x42cf1e&&_0x42cf1e['removeMesh'+'Instances'](this['meshInstan'+'ces']);}this['_layers']['length']=0x1dcb+-0x7*-0x467+0x1e4e*-0x2;for(let _0x3eb0d1=0x75+-0x1196*-0x1+-0x1f*0x95;_0x3eb0d1<_0x34cf05['length'];_0x3eb0d1++)this['_layers'][_0x3eb0d1]=_0x34cf05[_0x3eb0d1];if(!(!this['enabled']||!this['entity']['enabled']||!this['meshInstan'+'ces']))for(let _0x3ac568=-0x15a0+-0x1*-0x616+0x1*0xf8a;_0x3ac568<this['_layers']['length'];_0x3ac568++){const _0xcaae5b=_0x393c98['getLayerBy'+'Id'](this['_layers'][_0x3ac568]);_0xcaae5b&&_0xcaae5b['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x53d88d){var _0x3b93f4,_0x48f8df;this['_batchGrou'+'pId']!==_0x53d88d&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x61a*0x4+0x827*0x1+-0x1*-0x1041&&((_0x3b93f4=this['system']['app']['batcher'])==null||_0x3b93f4['remove'](St['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x53d88d>=0x186d+-0x9a*0x9+-0x9d*0x1f&&((_0x48f8df=this['system']['app']['batcher'])==null||_0x48f8df['insert'](St['MODEL'],_0x53d88d,this['entity'])),_0x53d88d<0xd*0x35+0x1d3d+-0x1fee&&this['_batchGrou'+'pId']>=0x2026+0x23*-0x105+0x389&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_batchGrou'+'pId']=_0x53d88d);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['materialAs'+'set'](_0x2b659a){let _0x5390bf=_0x2b659a;_0x2b659a instanceof pe&&(_0x5390bf=_0x2b659a['id']);const _0x38526c=this['system']['app']['assets'];if(_0x5390bf!==this['_materialA'+'sset']){if(this['_materialA'+'sset']){_0x38526c['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this);const _0x4e677a=_0x38526c['get'](this['_materialA'+'sset']);_0x4e677a&&this['_unbindMat'+'erialAsset'](_0x4e677a);}if(this['_materialA'+'sset']=_0x5390bf,this['_materialA'+'sset']){const _0x305dfa=_0x38526c['get'](this['_materialA'+'sset']);_0x305dfa?this['_bindMater'+'ialAsset'](_0x305dfa):(this['_setMateri'+'al'](this['system']['defaultMat'+'erial']),_0x38526c['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this));}else this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['material'](_0xf51a07){this['_material']!==_0xf51a07&&(this['materialAs'+'set']=null,this['_setMateri'+'al'](_0xf51a07));}get['material'](){return this['_material'];}set['mapping'](_0x4d535b){if(this['_type']!=='asset'||(this['_unsetMate'+'rialEvents'](),_0x4d535b||(_0x4d535b={}),this['_mapping']=_0x4d535b,!this['_model']))return;const _0x57e471=this['_model']['meshInstan'+'ces'],_0x1e0ff8=this['asset']?this['system']['app']['assets']['get'](this['asset']):null,_0x33cdae=_0x1e0ff8?_0x1e0ff8['data']['mapping']:null;let _0x41dc87=null;for(let _0xb580ba=0x1f99*-0x1+0x327+0xb*0x296,_0x3d3346=_0x57e471['length'];_0xb580ba<_0x3d3346;_0xb580ba++)if(_0x4d535b[_0xb580ba]!==void(-0x3bb+0x2499+-0x4b2*0x7))_0x4d535b[_0xb580ba]?(_0x41dc87=this['system']['app']['assets']['get'](_0x4d535b[_0xb580ba]),this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x41dc87,_0x57e471[_0xb580ba],_0xb580ba)):_0x57e471[_0xb580ba]['material']=this['system']['defaultMat'+'erial'];else{if(_0x33cdae){if(_0x33cdae[_0xb580ba]&&(_0x33cdae[_0xb580ba]['material']||_0x33cdae[_0xb580ba]['path'])){if(_0x33cdae[_0xb580ba]['material']!==void(-0x1a04+0x759+0x12ab))_0x41dc87=this['system']['app']['assets']['get'](_0x33cdae[_0xb580ba]['material']);else{if(_0x33cdae[_0xb580ba]['path']!==void(0x574*-0x4+0x151*0x3+0x11dd)){const _0x2413c8=this['_getMateri'+'alAssetUrl'](_0x33cdae[_0xb580ba]['path']);_0x2413c8&&(_0x41dc87=this['system']['app']['assets']['getByUrl'](_0x2413c8));}}this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x41dc87,_0x57e471[_0xb580ba],_0xb580ba);}else _0x57e471[_0xb580ba]['material']=this['system']['defaultMat'+'erial'];}}}get['mapping'](){return this['_mapping'];}['addModelTo'+'Layers'](){const _0x3e1901=this['system']['app']['scene']['layers'];for(let _0x32e1aa=-0x24e9+0x1531+0x7dc*0x2;_0x32e1aa<this['_layers']['length'];_0x32e1aa++){const _0x41eacc=_0x3e1901['getLayerBy'+'Id'](this['_layers'][_0x32e1aa]);_0x41eacc&&_0x41eacc['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](){const _0x31cdc9=this['system']['app']['scene']['layers'];for(let _0x1a24c4=-0x10e6+0x1d1e+0x17*-0x88;_0x1a24c4<this['_layers']['length'];_0x1a24c4++){const _0x1e8dd1=_0x31cdc9['getLayerBy'+'Id'](this['_layers'][_0x1a24c4]);_0x1e8dd1&&_0x1e8dd1['removeMesh'+'Instances'](this['meshInstan'+'ces']);}}['onRemoveCh'+'ild'](){this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['onInsertCh'+'ild'](){this['_model']&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers']();}['onRemove'](){this['asset']=null,this['model']=null,this['materialAs'+'set']=null,this['_unsetMate'+'rialEvents'](),this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x220891,_0x364466){this['addModelTo'+'Layers'](),_0x220891['off']('add',this['onLayerAdd'+'ed'],this),_0x220891['off']('remove',this['onLayerRem'+'oved'],this),_0x364466['on']('add',this['onLayerAdd'+'ed'],this),_0x364466['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x40fe3a){this['layers']['indexOf'](_0x40fe3a['id'])<0x1026+-0x3af+-0x1*0xc77||_0x40fe3a['addMeshIns'+'tances'](this['meshInstan'+'ces']);}['onLayerRem'+'oved'](_0x2929a7){this['layers']['indexOf'](_0x2929a7['id'])<0x40f*-0x3+-0x1f*-0xad+-0x8c6||_0x2929a7['removeMesh'+'Instances'](this['meshInstan'+'ces']);}['_setMateri'+'alEvent'](_0x2bf78f,_0x5e4e5f,_0x3d190b,_0x4b573a){const _0x4029e7=_0x5e4e5f+':'+_0x3d190b;this['system']['app']['assets']['on'](_0x4029e7,_0x4b573a,this),this['_materialE'+'vents']||(this['_materialE'+'vents']=[]),this['_materialE'+'vents'][_0x2bf78f]||(this['_materialE'+'vents'][_0x2bf78f]={}),this['_materialE'+'vents'][_0x2bf78f][_0x4029e7]={'id':_0x3d190b,'handler':_0x4b573a};}['_unsetMate'+'rialEvents'](){const _0xdc57c1=this['system']['app']['assets'],_0x49ce4f=this['_materialE'+'vents'];if(_0x49ce4f){for(let _0x2f1707=0x1*0x10b8+0x1a4d+-0x2b05,_0x35b0b7=_0x49ce4f['length'];_0x2f1707<_0x35b0b7;_0x2f1707++){if(!_0x49ce4f[_0x2f1707])continue;const _0x376994=_0x49ce4f[_0x2f1707];for(const _0x49e328 in _0x376994)_0xdc57c1['off'](_0x49e328,_0x376994[_0x49e328]['handler'],this);}this['_materialE'+'vents']=null;}}['_getAssetB'+'yIdOrPath'](_0x5473a2){let _0x326139=null;if(!isNaN(parseInt(_0x5473a2,0x100+-0x2587+0x2491)))_0x326139=this['system']['app']['assets']['get'](_0x5473a2);else{if(this['asset']){const _0x26a36a=this['_getMateri'+'alAssetUrl'](_0x5473a2);_0x26a36a&&(_0x326139=this['system']['app']['assets']['getByUrl'](_0x26a36a));}}return _0x326139;}['_getMateri'+'alAssetUrl'](_0x5eb1aa){if(!this['asset'])return null;const _0xda2a62=this['system']['app']['assets']['get'](this['asset']);return _0xda2a62?_0xda2a62['getAbsolut'+'eUrl'](_0x5eb1aa):null;}['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x418895,_0x3af7c1,_0x4776d3){const _0x416f4d=this['system']['app']['assets'];_0x418895&&(_0x418895['resource']?(_0x3af7c1['material']=_0x418895['resource'],this['_setMateri'+'alEvent'](_0x4776d3,'remove',_0x418895['id'],function(){_0x3af7c1['material']=this['system']['defaultMat'+'erial'];})):(this['_setMateri'+'alEvent'](_0x4776d3,'load',_0x418895['id'],function(_0x41e41d){_0x3af7c1['material']=_0x41e41d['resource'],this['_setMateri'+'alEvent'](_0x4776d3,'remove',_0x418895['id'],function(){_0x3af7c1['material']=this['system']['defaultMat'+'erial'];});}),this['enabled']&&this['entity']['enabled']&&_0x416f4d['load'](_0x418895)));}['onEnable'](){var _0x2f6f04;const _0x1a9425=this['system']['app'],_0x50940b=_0x1a9425['scene'],_0x29916e=_0x50940b==null?void(0x33e+-0x903+0x5c5):_0x50940b['layers'];this['_evtLayers'+'Changed']=_0x50940b['on']('set:layers',this['onLayersCh'+'anged'],this),_0x29916e&&(this['_evtLayerA'+'dded']=_0x29916e['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x29916e['on']('remove',this['onLayerRem'+'oved'],this));const _0x233ae1=this['_type']==='asset';let _0x5e1f50;if(this['_model']?this['addModelTo'+'Layers']():_0x233ae1&&this['_asset']&&(_0x5e1f50=_0x1a9425['assets']['get'](this['_asset']),_0x5e1f50&&_0x5e1f50['resource']!==this['_model']&&this['_bindModel'+'Asset'](_0x5e1f50)),this['_materialA'+'sset']&&(_0x5e1f50=_0x1a9425['assets']['get'](this['_materialA'+'sset']),_0x5e1f50&&_0x5e1f50['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x5e1f50)),_0x233ae1&&this['_mapping']){for(const _0x465eb0 in this['_mapping'])this['_mapping'][_0x465eb0]&&(_0x5e1f50=this['_getAssetB'+'yIdOrPath'](this['_mapping'][_0x465eb0]),_0x5e1f50&&!_0x5e1f50['resource']&&_0x1a9425['assets']['load'](_0x5e1f50));}this['_batchGrou'+'pId']>=-0x1*0x1b92+0x21d1*-0x1+0x3d63*0x1&&((_0x2f6f04=_0x1a9425['batcher'])==null||_0x2f6f04['insert'](St['MODEL'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x250271,_0xae34df,_0x3d9511,_0x595d12;const _0x116978=this['system']['app'],_0x2f6e71=_0x116978['scene']['layers'];(_0x250271=this['_evtLayers'+'Changed'])==null||_0x250271['off'](),this['_evtLayers'+'Changed']=null,_0x2f6e71&&((_0xae34df=this['_evtLayerA'+'dded'])==null||_0xae34df['off'](),this['_evtLayerA'+'dded']=null,(_0x3d9511=this['_evtLayerR'+'emoved'])==null||_0x3d9511['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0x116+0x1*-0xc68+0x5a9*0x2&&((_0x595d12=_0x116978['batcher'])==null||_0x595d12['remove'](St['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['hide'](){if(this['_model']){const _0x82ae4b=this['_model']['meshInstan'+'ces'];for(let _0x1bbbe1=0x2419+-0x937+-0x4a*0x5d,_0x50fda9=_0x82ae4b['length'];_0x1bbbe1<_0x50fda9;_0x1bbbe1++)_0x82ae4b[_0x1bbbe1]['visible']=!(-0x1*0x8c5+-0x165f+0x1f25);}}['show'](){if(this['_model']){const _0x31ae5d=this['_model']['meshInstan'+'ces'];for(let _0x705408=0x2*0xeea+-0x2514+0x740,_0x2a7d8d=_0x31ae5d['length'];_0x705408<_0x2a7d8d;_0x705408++)_0x31ae5d[_0x705408]['visible']=!(-0x21*-0xdf+0x10b1*0x2+0x3e21*-0x1);}}['_bindMater'+'ialAsset'](_0x174aec){if(_0x174aec['on']('load',this['_onMateria'+'lAssetLoad'],this),_0x174aec['on']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x174aec['on']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x174aec['on']('change',this['_onMateria'+'lAssetChan'+'ge'],this),_0x174aec['resource'])this['_onMateria'+'lAssetLoad'](_0x174aec);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x174aec);}}['_unbindMat'+'erialAsset'](_0x55cfd1){_0x55cfd1['off']('load',this['_onMateria'+'lAssetLoad'],this),_0x55cfd1['off']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x55cfd1['off']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x55cfd1['off']('change',this['_onMateria'+'lAssetChan'+'ge'],this);}['_onMateria'+'lAssetAdd'](_0x1b210e){this['system']['app']['assets']['off']('add:'+_0x1b210e['id'],this['_onMateria'+'lAssetAdd'],this),this['_materialA'+'sset']===_0x1b210e['id']&&this['_bindMater'+'ialAsset'](_0x1b210e);}['_onMateria'+'lAssetLoad'](_0x1c38f0){this['_setMateri'+'al'](_0x1c38f0['resource']);}['_onMateria'+'lAssetUnlo'+'ad'](_0xbd4fef){this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}['_onMateria'+'lAssetRemo'+'ve'](_0xe78fe5){this['_onMateria'+'lAssetUnlo'+'ad'](_0xe78fe5);}['_onMateria'+'lAssetChan'+'ge'](_0x4ba346){}['_bindModel'+'Asset'](_0x587cd3){if(this['_unbindMod'+'elAsset'](_0x587cd3),_0x587cd3['on']('load',this['_onModelAs'+'setLoad'],this),_0x587cd3['on']('unload',this['_onModelAs'+'setUnload'],this),_0x587cd3['on']('change',this['_onModelAs'+'setChange'],this),_0x587cd3['on']('remove',this['_onModelAs'+'setRemove'],this),_0x587cd3['resource'])this['_onModelAs'+'setLoad'](_0x587cd3);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x587cd3);}}['_unbindMod'+'elAsset'](_0x2d2ed4){_0x2d2ed4['off']('load',this['_onModelAs'+'setLoad'],this),_0x2d2ed4['off']('unload',this['_onModelAs'+'setUnload'],this),_0x2d2ed4['off']('change',this['_onModelAs'+'setChange'],this),_0x2d2ed4['off']('remove',this['_onModelAs'+'setRemove'],this);}['_onModelAs'+'setAdded'](_0x3fb2c6){this['system']['app']['assets']['off']('add:'+_0x3fb2c6['id'],this['_onModelAs'+'setAdded'],this),_0x3fb2c6['id']===this['_asset']&&this['_bindModel'+'Asset'](_0x3fb2c6);}['_onModelAs'+'setLoad'](_0x5a1d8d){this['model']=_0x5a1d8d['resource']['clone'](),this['_clonedMod'+'el']=!(0xd87+0x37*0x56+0x3*-0xaab);}['_onModelAs'+'setUnload'](_0x5b11ae){this['model']=null;}['_onModelAs'+'setChange'](_0x1eed51,_0x11af41,_0x4f20e1,_0x475794){_0x11af41==='data'&&(this['mapping']=this['_mapping']);}['_onModelAs'+'setRemove'](_0x4897bb){this['model']=null;}['_setMateri'+'al'](_0x54aeaf){if(this['_material']===_0x54aeaf)return;this['_material']=_0x54aeaf;const _0x5c6d7c=this['_model'];if(_0x5c6d7c&&this['_type']!=='asset'){const _0x308492=_0x5c6d7c['meshInstan'+'ces'];for(let _0x257513=-0x270e+-0xc25+-0x303*-0x11,_0x24149f=_0x308492['length'];_0x257513<_0x24149f;_0x257513++)_0x308492[_0x257513]['material']=_0x54aeaf;}}}class YR{constructor(){this['enabled']=!(0x3*-0x8d3+-0xe*0x171+0x2ea7);}}const a0=['enabled'];class KR extends ct{constructor(_0x20b764){super(_0x20b764),this['id']='model',this['ComponentT'+'ype']=Tm,this['DataType']=YR,this['schema']=a0,this['defaultMat'+'erial']=Qn(_0x20b764['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x481232,_0x11cf5d,_0x315d53){_0x315d53=['material','materialAs'+'set','asset','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','type','mapping','layers','isStatic','batchGroup'+'Id'],(_0x11cf5d['batchGroup'+'Id']===null||_0x11cf5d['batchGroup'+'Id']===void(0x2*-0x49f+0x194d+-0x100f))&&(_0x11cf5d['batchGroup'+'Id']=-(-0xc5e+0x1596+-0x1*0x937)),_0x11cf5d['layers']&&_0x11cf5d['layers']['length']&&(_0x11cf5d['layers']=_0x11cf5d['layers']['slice'](-0x15e3+-0xf*0x65+-0x2*-0xde7));for(let _0x88fb1c=0x8a9*0x2+0x2a*0xd0+-0x5*0xa4a;_0x88fb1c<_0x315d53['length'];_0x88fb1c++)_0x11cf5d['hasOwnProp'+'erty'](_0x315d53[_0x88fb1c])&&(_0x481232[_0x315d53[_0x88fb1c]]=_0x11cf5d[_0x315d53[_0x88fb1c]]);_0x11cf5d['aabbCenter']&&_0x11cf5d['aabbHalfEx'+'tents']&&(_0x481232['customAabb']=new De(new D(_0x11cf5d['aabbCenter']),new D(_0x11cf5d['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x481232,_0x11cf5d,['enabled']);}['cloneCompo'+'nent'](_0x26ffb7,_0x1d2c28){const _0x1a8ad6={'type':_0x26ffb7['model']['type'],'asset':_0x26ffb7['model']['asset'],'castShadows':_0x26ffb7['model']['castShadow'+'s'],'receiveShadows':_0x26ffb7['model']['receiveSha'+'dows'],'castShadowsLightmap':_0x26ffb7['model']['castShadow'+'sLightmap'],'lightmapped':_0x26ffb7['model']['lightmappe'+'d'],'lightmapSizeMultiplier':_0x26ffb7['model']['lightmapSi'+'zeMultipli'+'er'],'isStatic':_0x26ffb7['model']['isStatic'],'enabled':_0x26ffb7['model']['enabled'],'layers':_0x26ffb7['model']['layers'],'batchGroupId':_0x26ffb7['model']['batchGroup'+'Id'],'mapping':ah({},_0x26ffb7['model']['mapping'])};let _0x55b5e5=_0x26ffb7['model']['materialAs'+'set'];!(_0x55b5e5 instanceof pe)&&_0x55b5e5!=null&&(_0x55b5e5=this['app']['assets']['get'](_0x55b5e5));const _0x50be27=_0x26ffb7['model']['material'];(!_0x50be27||_0x50be27===this['defaultMat'+'erial']||!_0x55b5e5||_0x50be27===_0x55b5e5['resource'])&&(_0x1a8ad6['materialAs'+'set']=_0x55b5e5);const _0xa4a8de=this['addCompone'+'nt'](_0x1d2c28,_0x1a8ad6);if(_0x26ffb7['model']['model']&&_0x26ffb7['model']['type']==='asset'&&!_0x26ffb7['model']['asset']&&(_0xa4a8de['model']=_0x26ffb7['model']['model']['clone'](),_0xa4a8de['_clonedMod'+'el']=!(-0x158a+0x1549*-0x1+-0x2ad3*-0x1)),_0x1a8ad6['materialAs'+'set']||(_0xa4a8de['material']=_0x50be27),_0x26ffb7['model']['model']){const _0x213a03=_0x26ffb7['model']['model']['meshInstan'+'ces'],_0x5762d3=_0xa4a8de['model']['meshInstan'+'ces'];for(let _0x258b94=-0x9d*0x15+-0x1e71+0x2*0x15a9;_0x258b94<_0x213a03['length'];_0x258b94++)_0x5762d3[_0x258b94]['mask']=_0x213a03[_0x258b94]['mask'],_0x5762d3[_0x258b94]['material']=_0x213a03[_0x258b94]['material'],_0x5762d3[_0x258b94]['layer']=_0x213a03[_0x258b94]['layer'],_0x5762d3[_0x258b94]['receiveSha'+'dow']=_0x213a03[_0x258b94]['receiveSha'+'dow'];}return _0x26ffb7['model']['customAabb']&&(_0xa4a8de['customAabb']=_0x26ffb7['model']['customAabb']['clone']()),_0xa4a8de;}['onRemove'](_0x17109c,_0x314d3d){_0x314d3d['onRemove']();}}we['_buildAcce'+'ssors'](Tm['prototype'],a0);const ZR=['emitterExt'+'ents','emitterRad'+'ius','emitterExt'+'entsInner','emitterRad'+'iusInner','loop','initialVel'+'ocity','animSpeed','normalMap','particleNo'+'rmal'],QR=['numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','lighting','halfLamber'+'t','intensity','wrap','wrapBounds','depthWrite','noFog','sort','stretch','alignToMot'+'ion','preWarm','emitterSha'+'pe','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animLoop','colorMap','localSpace','screenSpac'+'e','orientatio'+'n'],JR=['scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','velocityGr'+'aph','velocityGr'+'aph2','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2'],Cc=['colorMapAs'+'set','normalMapA'+'sset','meshAsset','renderAsse'+'t'];let Ya;class e3 extends we{constructor(_0x5be7db,_0x24f50){super(_0x5be7db,_0x24f50),h(this,'_requested'+'Depth',!(0xc2e+-0x7b0+-0x47d*0x1)),h(this,'_drawOrder',-0x3*-0x185+0x25*0x70+-0x2f*0x71),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_evtSetMes'+'hes',null),(this['on']('set_colorM'+'apAsset',this['onSetColor'+'MapAsset'],this),this['on']('set_normal'+'MapAsset',this['onSetNorma'+'lMapAsset'],this),this['on']('set_meshAs'+'set',this['onSetMeshA'+'sset'],this),this['on']('set_mesh',this['onSetMesh'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_loop',this['onSetLoop'],this),this['on']('set_blendT'+'ype',this['onSetBlend'+'Type'],this),this['on']('set_depthS'+'oftening',this['onSetDepth'+'Softening'],this),this['on']('set_layers',this['onSetLayer'+'s'],this),ZR['forEach'](_0x43725d=>{this['on']('set_'+_0x43725d,this['onSetSimpl'+'eProperty'],this);}),QR['forEach'](_0x455751=>{this['on']('set_'+_0x455751,this['onSetCompl'+'exProperty'],this);}),JR['forEach'](_0x54aa66=>{this['on']('set_'+_0x54aa66,this['onSetGraph'+'Property'],this);}));}get['data'](){const _0x859f5c=this['system']['store'][this['entity']['getGuid']()];return _0x859f5c?_0x859f5c['data']:null;}set['enabled'](_0x5a4bba){this['_setValue']('enabled',_0x5a4bba);}get['enabled'](){return this['data']['enabled'];}set['autoPlay'](_0x298e1a){this['_setValue']('autoPlay',_0x298e1a);}get['autoPlay'](){return this['data']['autoPlay'];}set['numParticl'+'es'](_0x496ec2){this['_setValue']('numParticl'+'es',_0x496ec2);}get['numParticl'+'es'](){return this['data']['numParticl'+'es'];}set['lifetime'](_0x10c076){this['_setValue']('lifetime',_0x10c076);}get['lifetime'](){return this['data']['lifetime'];}set['rate'](_0x183449){this['_setValue']('rate',_0x183449);}get['rate'](){return this['data']['rate'];}set['rate2'](_0x4cd07d){this['_setValue']('rate2',_0x4cd07d);}get['rate2'](){return this['data']['rate2'];}set['startAngle'](_0x53f128){this['_setValue']('startAngle',_0x53f128);}get['startAngle'](){return this['data']['startAngle'];}set['startAngle'+'2'](_0x4359d1){this['_setValue']('startAngle'+'2',_0x4359d1);}get['startAngle'+'2'](){return this['data']['startAngle'+'2'];}set['loop'](_0x152175){this['_setValue']('loop',_0x152175);}get['loop'](){return this['data']['loop'];}set['preWarm'](_0x4d936c){this['_setValue']('preWarm',_0x4d936c);}get['preWarm'](){return this['data']['preWarm'];}set['lighting'](_0x1d4a41){this['_setValue']('lighting',_0x1d4a41);}get['lighting'](){return this['data']['lighting'];}set['halfLamber'+'t'](_0xed7851){this['_setValue']('halfLamber'+'t',_0xed7851);}get['halfLamber'+'t'](){return this['data']['halfLamber'+'t'];}set['intensity'](_0x5801b0){this['_setValue']('intensity',_0x5801b0);}get['intensity'](){return this['data']['intensity'];}set['depthWrite'](_0x2983c1){this['_setValue']('depthWrite',_0x2983c1);}get['depthWrite'](){return this['data']['depthWrite'];}set['noFog'](_0x2b139a){this['_setValue']('noFog',_0x2b139a);}get['noFog'](){return this['data']['noFog'];}set['depthSofte'+'ning'](_0x2b3c1c){this['_setValue']('depthSofte'+'ning',_0x2b3c1c);}get['depthSofte'+'ning'](){return this['data']['depthSofte'+'ning'];}set['sort'](_0x5a49b8){this['_setValue']('sort',_0x5a49b8);}get['sort'](){return this['data']['sort'];}set['blendType'](_0xd46025){this['_setValue']('blendType',_0xd46025);}get['blendType'](){return this['data']['blendType'];}set['stretch'](_0x3d89a8){this['_setValue']('stretch',_0x3d89a8);}get['stretch'](){return this['data']['stretch'];}set['alignToMot'+'ion'](_0x85a13d){this['_setValue']('alignToMot'+'ion',_0x85a13d);}get['alignToMot'+'ion'](){return this['data']['alignToMot'+'ion'];}set['emitterSha'+'pe'](_0x26e45a){this['_setValue']('emitterSha'+'pe',_0x26e45a);}get['emitterSha'+'pe'](){return this['data']['emitterSha'+'pe'];}set['emitterExt'+'ents'](_0x130e52){this['_setValue']('emitterExt'+'ents',_0x130e52);}get['emitterExt'+'ents'](){return this['data']['emitterExt'+'ents'];}set['emitterExt'+'entsInner'](_0x27101d){this['_setValue']('emitterExt'+'entsInner',_0x27101d);}get['emitterExt'+'entsInner'](){return this['data']['emitterExt'+'entsInner'];}set['emitterRad'+'ius'](_0x2cf8b0){this['_setValue']('emitterRad'+'ius',_0x2cf8b0);}get['emitterRad'+'ius'](){return this['data']['emitterRad'+'ius'];}set['emitterRad'+'iusInner'](_0x207cc6){this['_setValue']('emitterRad'+'iusInner',_0x207cc6);}get['emitterRad'+'iusInner'](){return this['data']['emitterRad'+'iusInner'];}set['initialVel'+'ocity'](_0x2ffd9f){this['_setValue']('initialVel'+'ocity',_0x2ffd9f);}get['initialVel'+'ocity'](){return this['data']['initialVel'+'ocity'];}set['wrap'](_0x111dde){this['_setValue']('wrap',_0x111dde);}get['wrap'](){return this['data']['wrap'];}set['wrapBounds'](_0x40757e){this['_setValue']('wrapBounds',_0x40757e);}get['wrapBounds'](){return this['data']['wrapBounds'];}set['localSpace'](_0x5c011f){this['_setValue']('localSpace',_0x5c011f);}get['localSpace'](){return this['data']['localSpace'];}set['screenSpac'+'e'](_0x99ad30){this['_setValue']('screenSpac'+'e',_0x99ad30);}get['screenSpac'+'e'](){return this['data']['screenSpac'+'e'];}set['colorMapAs'+'set'](_0x501182){this['_setValue']('colorMapAs'+'set',_0x501182);}get['colorMapAs'+'set'](){return this['data']['colorMapAs'+'set'];}set['normalMapA'+'sset'](_0x17efc9){this['_setValue']('normalMapA'+'sset',_0x17efc9);}get['normalMapA'+'sset'](){return this['data']['normalMapA'+'sset'];}set['mesh'](_0x562f5b){this['_setValue']('mesh',_0x562f5b);}get['mesh'](){return this['data']['mesh'];}set['meshAsset'](_0x467372){this['_setValue']('meshAsset',_0x467372);}get['meshAsset'](){return this['data']['meshAsset'];}set['renderAsse'+'t'](_0x57d5f8){this['_setValue']('renderAsse'+'t',_0x57d5f8);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['orientatio'+'n'](_0x436510){this['_setValue']('orientatio'+'n',_0x436510);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['particleNo'+'rmal'](_0x10c471){this['_setValue']('particleNo'+'rmal',_0x10c471);}get['particleNo'+'rmal'](){return this['data']['particleNo'+'rmal'];}set['localVeloc'+'ityGraph'](_0x291870){this['_setValue']('localVeloc'+'ityGraph',_0x291870);}get['localVeloc'+'ityGraph'](){return this['data']['localVeloc'+'ityGraph'];}set['localVeloc'+'ityGraph2'](_0x33665b){this['_setValue']('localVeloc'+'ityGraph2',_0x33665b);}get['localVeloc'+'ityGraph2'](){return this['data']['localVeloc'+'ityGraph2'];}set['velocityGr'+'aph'](_0x29fbad){this['_setValue']('velocityGr'+'aph',_0x29fbad);}get['velocityGr'+'aph'](){return this['data']['velocityGr'+'aph'];}set['velocityGr'+'aph2'](_0x3453ff){this['_setValue']('velocityGr'+'aph2',_0x3453ff);}get['velocityGr'+'aph2'](){return this['data']['velocityGr'+'aph2'];}set['rotationSp'+'eedGraph'](_0x3573c6){this['_setValue']('rotationSp'+'eedGraph',_0x3573c6);}get['rotationSp'+'eedGraph'](){return this['data']['rotationSp'+'eedGraph'];}set['rotationSp'+'eedGraph2'](_0x1bc8be){this['_setValue']('rotationSp'+'eedGraph2',_0x1bc8be);}get['rotationSp'+'eedGraph2'](){return this['data']['rotationSp'+'eedGraph2'];}set['radialSpee'+'dGraph'](_0x244825){this['_setValue']('radialSpee'+'dGraph',_0x244825);}get['radialSpee'+'dGraph'](){return this['data']['radialSpee'+'dGraph'];}set['radialSpee'+'dGraph2'](_0x94b91a){this['_setValue']('radialSpee'+'dGraph2',_0x94b91a);}get['radialSpee'+'dGraph2'](){return this['data']['radialSpee'+'dGraph2'];}set['scaleGraph'](_0x1bff79){this['_setValue']('scaleGraph',_0x1bff79);}get['scaleGraph'](){return this['data']['scaleGraph'];}set['scaleGraph'+'2'](_0x553a96){this['_setValue']('scaleGraph'+'2',_0x553a96);}get['scaleGraph'+'2'](){return this['data']['scaleGraph'+'2'];}set['colorGraph'](_0x465b77){this['_setValue']('colorGraph',_0x465b77);}get['colorGraph'](){return this['data']['colorGraph'];}set['colorGraph'+'2'](_0x39a5df){this['_setValue']('colorGraph'+'2',_0x39a5df);}get['colorGraph'+'2'](){return this['data']['colorGraph'+'2'];}set['alphaGraph'](_0x4d7903){this['_setValue']('alphaGraph',_0x4d7903);}get['alphaGraph'](){return this['data']['alphaGraph'];}set['alphaGraph'+'2'](_0x1b681f){this['_setValue']('alphaGraph'+'2',_0x1b681f);}get['alphaGraph'+'2'](){return this['data']['alphaGraph'+'2'];}set['colorMap'](_0x50112d){this['_setValue']('colorMap',_0x50112d);}get['colorMap'](){return this['data']['colorMap'];}set['normalMap'](_0x207973){this['_setValue']('normalMap',_0x207973);}get['normalMap'](){return this['data']['normalMap'];}set['animTilesX'](_0x1ed24b){this['_setValue']('animTilesX',_0x1ed24b);}get['animTilesX'](){return this['data']['animTilesX'];}set['animTilesY'](_0x5352ba){this['_setValue']('animTilesY',_0x5352ba);}get['animTilesY'](){return this['data']['animTilesY'];}set['animStartF'+'rame'](_0x9bc66d){this['_setValue']('animStartF'+'rame',_0x9bc66d);}get['animStartF'+'rame'](){return this['data']['animStartF'+'rame'];}set['animNumFra'+'mes'](_0xf9aa6){this['_setValue']('animNumFra'+'mes',_0xf9aa6);}get['animNumFra'+'mes'](){return this['data']['animNumFra'+'mes'];}set['animNumAni'+'mations'](_0x47449c){this['_setValue']('animNumAni'+'mations',_0x47449c);}get['animNumAni'+'mations'](){return this['data']['animNumAni'+'mations'];}set['animIndex'](_0x3bf07d){this['_setValue']('animIndex',_0x3bf07d);}get['animIndex'](){return this['data']['animIndex'];}set['randomizeA'+'nimIndex'](_0x46d0de){this['_setValue']('randomizeA'+'nimIndex',_0x46d0de);}get['randomizeA'+'nimIndex'](){return this['data']['randomizeA'+'nimIndex'];}set['animSpeed'](_0xa9c202){this['_setValue']('animSpeed',_0xa9c202);}get['animSpeed'](){return this['data']['animSpeed'];}set['animLoop'](_0x32110d){this['_setValue']('animLoop',_0x32110d);}get['animLoop'](){return this['data']['animLoop'];}set['layers'](_0x366a9b){this['_setValue']('layers',_0x366a9b);}get['layers'](){return this['data']['layers'];}set['drawOrder'](_0x434907){this['_drawOrder']=_0x434907,this['emitter']&&(this['emitter']['drawOrder']=_0x434907);}get['drawOrder'](){return this['_drawOrder'];}['_setValue'](_0x2c90b9,_0x58d938){const _0x6fbd2c=this['data'],_0x3963f3=_0x6fbd2c[_0x2c90b9];_0x6fbd2c[_0x2c90b9]=_0x58d938,this['fire']('set',_0x2c90b9,_0x3963f3,_0x58d938);}['addMeshIns'+'tanceToLay'+'ers'](){if(this['emitter'])for(let _0x19c258=0x4f*0x57+-0x344+-0x1795*0x1;_0x19c258<this['layers']['length'];_0x19c258++){const _0x330ed2=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x19c258]);_0x330ed2&&(_0x330ed2['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]),this['emitter']['_layer']=_0x330ed2);}}['removeMesh'+'InstanceFr'+'omLayers'](){if(this['emitter'])for(let _0x4eca85=0x33a+0x25c0+0x147d*-0x2;_0x4eca85<this['layers']['length'];_0x4eca85++){const _0x36a0d1=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x4eca85]);_0x36a0d1&&_0x36a0d1['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}}['onSetLayer'+'s'](_0x3bb80f,_0x2c2fa1,_0x5d1d76){if(this['emitter']){for(let _0x169a91=0x57a*0x1+0x5dd+-0xb57;_0x169a91<_0x2c2fa1['length'];_0x169a91++){const _0x8ac8f4=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x2c2fa1[_0x169a91]);_0x8ac8f4&&_0x8ac8f4['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}if(!(!this['enabled']||!this['entity']['enabled']))for(let _0x14b0e4=-0x904*-0x4+-0xbce+-0x6*0x40b;_0x14b0e4<_0x5d1d76['length'];_0x14b0e4++){const _0x8aa8f2=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x5d1d76[_0x14b0e4]);_0x8aa8f2&&_0x8aa8f2['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}}}['onLayersCh'+'anged'](_0x1dfca1,_0x324774){this['addMeshIns'+'tanceToLay'+'ers'](),_0x1dfca1['off']('add',this['onLayerAdd'+'ed'],this),_0x1dfca1['off']('remove',this['onLayerRem'+'oved'],this),_0x324774['on']('add',this['onLayerAdd'+'ed'],this),_0x324774['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x451a12){!this['emitter']||this['layers']['indexOf'](_0x451a12['id'])<-0x2*0x1+0xdf1+-0xdef||_0x451a12['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}['onLayerRem'+'oved'](_0x15adff){!this['emitter']||this['layers']['indexOf'](_0x15adff['id'])<-0x21b8+0x1*0x1775+0xa43||_0x15adff['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}['_bindColor'+'MapAsset'](_0x44d185){if(_0x44d185['on']('load',this['_onColorMa'+'pAssetLoad'],this),_0x44d185['on']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x44d185['on']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x44d185['on']('change',this['_onColorMa'+'pAssetChan'+'ge'],this),_0x44d185['resource'])this['_onColorMa'+'pAssetLoad'](_0x44d185);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x44d185);}}['_unbindCol'+'orMapAsset'](_0x491856){_0x491856['off']('load',this['_onColorMa'+'pAssetLoad'],this),_0x491856['off']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x491856['off']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x491856['off']('change',this['_onColorMa'+'pAssetChan'+'ge'],this);}['_onColorMa'+'pAssetLoad'](_0x4c82b8){this['colorMap']=_0x4c82b8['resource'];}['_onColorMa'+'pAssetUnlo'+'ad'](_0x3f717b){this['colorMap']=null;}['_onColorMa'+'pAssetRemo'+'ve'](_0xcbdd97){this['_onColorMa'+'pAssetUnlo'+'ad'](_0xcbdd97);}['_onColorMa'+'pAssetChan'+'ge'](_0xe596be){}['onSetColor'+'MapAsset'](_0x59049a,_0x535560,_0x187b45){const _0x434d7b=this['system']['app']['assets'];if(_0x535560){const _0x16cf7a=_0x434d7b['get'](_0x535560);_0x16cf7a&&this['_unbindCol'+'orMapAsset'](_0x16cf7a);}if(_0x187b45){_0x187b45 instanceof pe&&(this['data']['colorMapAs'+'set']=_0x187b45['id'],_0x187b45=_0x187b45['id']);const _0x157f1a=_0x434d7b['get'](_0x187b45);_0x157f1a?this['_bindColor'+'MapAsset'](_0x157f1a):_0x434d7b['once']('add:'+_0x187b45,_0x37fcf1=>{this['_bindColor'+'MapAsset'](_0x37fcf1);});}else this['colorMap']=null;}['_bindNorma'+'lMapAsset'](_0x5eb66f){if(_0x5eb66f['on']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x5eb66f['on']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x5eb66f['on']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x5eb66f['on']('change',this['_onNormalM'+'apAssetCha'+'nge'],this),_0x5eb66f['resource'])this['_onNormalM'+'apAssetLoa'+'d'](_0x5eb66f);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x5eb66f);}}['_unbindNor'+'malMapAsse'+'t'](_0x5e4e6c){_0x5e4e6c['off']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x5e4e6c['off']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x5e4e6c['off']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x5e4e6c['off']('change',this['_onNormalM'+'apAssetCha'+'nge'],this);}['_onNormalM'+'apAssetLoa'+'d'](_0x55db00){this['normalMap']=_0x55db00['resource'];}['_onNormalM'+'apAssetUnl'+'oad'](_0x5e4db7){this['normalMap']=null;}['_onNormalM'+'apAssetRem'+'ove'](_0xb3fecb){this['_onNormalM'+'apAssetUnl'+'oad'](_0xb3fecb);}['_onNormalM'+'apAssetCha'+'nge'](_0x4c50c2){}['onSetNorma'+'lMapAsset'](_0x5f37f9,_0x5010f6,_0x23a075){const _0x4ea441=this['system']['app']['assets'];if(_0x5010f6){const _0xd43d38=_0x4ea441['get'](_0x5010f6);_0xd43d38&&this['_unbindNor'+'malMapAsse'+'t'](_0xd43d38);}if(_0x23a075){_0x23a075 instanceof pe&&(this['data']['normalMapA'+'sset']=_0x23a075['id'],_0x23a075=_0x23a075['id']);const _0x30a06a=_0x4ea441['get'](_0x23a075);_0x30a06a?this['_bindNorma'+'lMapAsset'](_0x30a06a):_0x4ea441['once']('add:'+_0x23a075,_0x355415=>{this['_bindNorma'+'lMapAsset'](_0x355415);});}else this['normalMap']=null;}['_bindMeshA'+'sset'](_0x436689){if(_0x436689['on']('load',this['_onMeshAss'+'etLoad'],this),_0x436689['on']('unload',this['_onMeshAss'+'etUnload'],this),_0x436689['on']('remove',this['_onMeshAss'+'etRemove'],this),_0x436689['on']('change',this['_onMeshAss'+'etChange'],this),_0x436689['resource'])this['_onMeshAss'+'etLoad'](_0x436689);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x436689);}}['_unbindMes'+'hAsset'](_0x2b06df){_0x2b06df['off']('load',this['_onMeshAss'+'etLoad'],this),_0x2b06df['off']('unload',this['_onMeshAss'+'etUnload'],this),_0x2b06df['off']('remove',this['_onMeshAss'+'etRemove'],this),_0x2b06df['off']('change',this['_onMeshAss'+'etChange'],this);}['_onMeshAss'+'etLoad'](_0x18c951){this['_onMeshCha'+'nged'](_0x18c951['resource']);}['_onMeshAss'+'etUnload'](_0x224bfc){this['mesh']=null;}['_onMeshAss'+'etRemove'](_0x479191){this['_onMeshAss'+'etUnload'](_0x479191);}['_onMeshAss'+'etChange'](_0x5efd4e){}['onSetMeshA'+'sset'](_0x26fd03,_0x2e4de3,_0x4b285c){const _0xdf99ad=this['system']['app']['assets'];if(_0x2e4de3){const _0x5cfbf4=_0xdf99ad['get'](_0x2e4de3);_0x5cfbf4&&this['_unbindMes'+'hAsset'](_0x5cfbf4);}if(_0x4b285c){_0x4b285c instanceof pe&&(this['data']['meshAsset']=_0x4b285c['id'],_0x4b285c=_0x4b285c['id']);const _0x3c52d7=_0xdf99ad['get'](_0x4b285c);_0x3c52d7&&this['_bindMeshA'+'sset'](_0x3c52d7);}else this['_onMeshCha'+'nged'](null);}['onSetMesh'](_0x448cdb,_0x118494,_0x3ed797){!_0x3ed797||_0x3ed797 instanceof pe||typeof _0x3ed797=='number'?this['meshAsset']=_0x3ed797:this['_onMeshCha'+'nged'](_0x3ed797);}['_onMeshCha'+'nged'](_0x36bcf5){_0x36bcf5&&!(_0x36bcf5 instanceof Ge)&&(_0x36bcf5['meshInstan'+'ces'][-0x13db+-0x1*-0x9fa+0x9e1]?_0x36bcf5=_0x36bcf5['meshInstan'+'ces'][-0x17b*0x7+-0x2*0x12fd+-0x63*-0x7d]['mesh']:_0x36bcf5=null),this['data']['mesh']=_0x36bcf5,this['emitter']&&(this['emitter']['mesh']=_0x36bcf5,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['onSetRende'+'rAsset'](_0x1f853b,_0x16c4c0,_0x4c8a95){const _0x3795f3=this['system']['app']['assets'];if(_0x16c4c0){const _0x563c80=_0x3795f3['get'](_0x16c4c0);_0x563c80&&this['_unbindRen'+'derAsset'](_0x563c80);}if(_0x4c8a95){_0x4c8a95 instanceof pe&&(this['data']['renderAsse'+'t']=_0x4c8a95['id'],_0x4c8a95=_0x4c8a95['id']);const _0x384843=_0x3795f3['get'](_0x4c8a95);_0x384843&&this['_bindRende'+'rAsset'](_0x384843);}else this['_onRenderC'+'hanged'](null);}['_bindRende'+'rAsset'](_0x1a5da6){if(_0x1a5da6['on']('load',this['_onRenderA'+'ssetLoad'],this),_0x1a5da6['on']('unload',this['_onRenderA'+'ssetUnload'],this),_0x1a5da6['on']('remove',this['_onRenderA'+'ssetRemove'],this),_0x1a5da6['resource'])this['_onRenderA'+'ssetLoad'](_0x1a5da6);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x1a5da6);}}['_unbindRen'+'derAsset'](_0x47ef01){var _0x103594;_0x47ef01['off']('load',this['_onRenderA'+'ssetLoad'],this),_0x47ef01['off']('unload',this['_onRenderA'+'ssetUnload'],this),_0x47ef01['off']('remove',this['_onRenderA'+'ssetRemove'],this),(_0x103594=this['_evtSetMes'+'hes'])==null||_0x103594['off'](),this['_evtSetMes'+'hes']=null;}['_onRenderA'+'ssetLoad'](_0x41b435){this['_onRenderC'+'hanged'](_0x41b435['resource']);}['_onRenderA'+'ssetUnload'](_0x5270d3){this['_onRenderC'+'hanged'](null);}['_onRenderA'+'ssetRemove'](_0x27748a){this['_onRenderA'+'ssetUnload'](_0x27748a);}['_onRenderC'+'hanged'](_0x2f20be){var _0xfd10b0;if(!_0x2f20be){this['_onMeshCha'+'nged'](null);return;}(_0xfd10b0=this['_evtSetMes'+'hes'])==null||_0xfd10b0['off'](),this['_evtSetMes'+'hes']=_0x2f20be['on']('set:meshes',this['_onRenderS'+'etMeshes'],this),_0x2f20be['meshes']&&this['_onRenderS'+'etMeshes'](_0x2f20be['meshes']);}['_onRenderS'+'etMeshes'](_0x294fdf){this['_onMeshCha'+'nged'](_0x294fdf&&_0x294fdf[-0x257c+-0x4*-0x925+-0x8*-0x1d]);}['onSetLoop'](_0x5b21b8,_0xda6fb8,_0x261727){this['emitter']&&(this['emitter'][_0x5b21b8]=_0x261727,this['emitter']['resetTime']());}['onSetBlend'+'Type'](_0x4251e7,_0x261d5e,_0x510fbe){this['emitter']&&(this['emitter'][_0x4251e7]=_0x510fbe,this['emitter']['material']['blendType']=_0x510fbe,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['_requestDe'+'pth'](){this['_requested'+'Depth']||(Ya||(Ya=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](ps)),Ya&&(Ya['incrementC'+'ounter'](),this['_requested'+'Depth']=!(0xa62+-0x11b4+0x2*0x3a9)));}['_releaseDe'+'pth'](){this['_requested'+'Depth']&&Ya&&(Ya['decrementC'+'ounter'](),this['_requested'+'Depth']=!(0x1*0x1549+0x145+-0xfb*0x17));}['onSetDepth'+'Softening'](_0x1d6237,_0x451d0b,_0x175085){_0x451d0b!==_0x175085&&(_0x175085?(this['enabled']&&this['entity']['enabled']&&this['_requestDe'+'pth'](),this['emitter']&&(this['emitter'][_0x1d6237]=_0x175085)):(this['enabled']&&this['entity']['enabled']&&this['_releaseDe'+'pth'](),this['emitter']&&(this['emitter'][_0x1d6237]=_0x175085)),this['emitter']&&(this['reset'](),this['emitter']['resetMater'+'ial'](),this['rebuild']()));}['onSetSimpl'+'eProperty'](_0x34766d,_0x3466bb,_0x2f3b66){this['emitter']&&(this['emitter'][_0x34766d]=_0x2f3b66,this['emitter']['resetMater'+'ial']());}['onSetCompl'+'exProperty'](_0x172ded,_0x5bd8f9,_0x521379){this['emitter']&&(this['emitter'][_0x172ded]=_0x521379,this['emitter']['resetMater'+'ial'](),this['rebuild'](),this['reset']());}['onSetGraph'+'Property'](_0x43476a,_0xa93ecf,_0x51d6f5){this['emitter']&&(this['emitter'][_0x43476a]=_0x51d6f5,this['emitter']['rebuildGra'+'phs'](),this['emitter']['resetMater'+'ial']());}['onEnable'](){const _0x5c1589=this['system']['app']['scene'],_0x456612=_0x5c1589['layers'],_0x2a5c65=this['data'];for(let _0x436ce9=-0x1c99*0x1+0x2f9*-0x9+-0xda*-0x41,_0x99d379=Cc['length'];_0x436ce9<_0x99d379;_0x436ce9++){let _0x293e4b=_0x2a5c65[Cc[_0x436ce9]];if(_0x293e4b){if(!(_0x293e4b instanceof pe)){if(parseInt(_0x293e4b,-0x1e42+0xc96*0x3+-0x2*0x3bb)>=-0x135c+0x269a+-0x2*0x99f)_0x293e4b=this['system']['app']['assets']['get'](_0x293e4b);else continue;}_0x293e4b&&!_0x293e4b['resource']&&this['system']['app']['assets']['load'](_0x293e4b);}}if(!this['system']['app']['graphicsDe'+'vice']['disablePar'+'ticleSyste'+'m']){if(!this['emitter']){let _0x5ea39b=_0x2a5c65['mesh'];_0x5ea39b instanceof Ge||(_0x5ea39b=null),this['emitter']=new CA(this['system']['app']['graphicsDe'+'vice'],{'numParticles':_0x2a5c65['numParticl'+'es'],'emitterExtents':_0x2a5c65['emitterExt'+'ents'],'emitterExtentsInner':_0x2a5c65['emitterExt'+'entsInner'],'emitterRadius':_0x2a5c65['emitterRad'+'ius'],'emitterRadiusInner':_0x2a5c65['emitterRad'+'iusInner'],'emitterShape':_0x2a5c65['emitterSha'+'pe'],'initialVelocity':_0x2a5c65['initialVel'+'ocity'],'wrap':_0x2a5c65['wrap'],'localSpace':_0x2a5c65['localSpace'],'screenSpace':_0x2a5c65['screenSpac'+'e'],'wrapBounds':_0x2a5c65['wrapBounds'],'lifetime':_0x2a5c65['lifetime'],'rate':_0x2a5c65['rate'],'rate2':_0x2a5c65['rate2'],'orientation':_0x2a5c65['orientatio'+'n'],'particleNormal':_0x2a5c65['particleNo'+'rmal'],'animTilesX':_0x2a5c65['animTilesX'],'animTilesY':_0x2a5c65['animTilesY'],'animStartFrame':_0x2a5c65['animStartF'+'rame'],'animNumFrames':_0x2a5c65['animNumFra'+'mes'],'animNumAnimations':_0x2a5c65['animNumAni'+'mations'],'animIndex':_0x2a5c65['animIndex'],'randomizeAnimIndex':_0x2a5c65['randomizeA'+'nimIndex'],'animSpeed':_0x2a5c65['animSpeed'],'animLoop':_0x2a5c65['animLoop'],'startAngle':_0x2a5c65['startAngle'],'startAngle2':_0x2a5c65['startAngle'+'2'],'scaleGraph':_0x2a5c65['scaleGraph'],'scaleGraph2':_0x2a5c65['scaleGraph'+'2'],'colorGraph':_0x2a5c65['colorGraph'],'colorGraph2':_0x2a5c65['colorGraph'+'2'],'alphaGraph':_0x2a5c65['alphaGraph'],'alphaGraph2':_0x2a5c65['alphaGraph'+'2'],'localVelocityGraph':_0x2a5c65['localVeloc'+'ityGraph'],'localVelocityGraph2':_0x2a5c65['localVeloc'+'ityGraph2'],'velocityGraph':_0x2a5c65['velocityGr'+'aph'],'velocityGraph2':_0x2a5c65['velocityGr'+'aph2'],'rotationSpeedGraph':_0x2a5c65['rotationSp'+'eedGraph'],'rotationSpeedGraph2':_0x2a5c65['rotationSp'+'eedGraph2'],'radialSpeedGraph':_0x2a5c65['radialSpee'+'dGraph'],'radialSpeedGraph2':_0x2a5c65['radialSpee'+'dGraph2'],'colorMap':_0x2a5c65['colorMap'],'normalMap':_0x2a5c65['normalMap'],'loop':_0x2a5c65['loop'],'preWarm':_0x2a5c65['preWarm'],'sort':_0x2a5c65['sort'],'stretch':_0x2a5c65['stretch'],'alignToMotion':_0x2a5c65['alignToMot'+'ion'],'lighting':_0x2a5c65['lighting'],'halfLambert':_0x2a5c65['halfLamber'+'t'],'intensity':_0x2a5c65['intensity'],'depthSoftening':_0x2a5c65['depthSofte'+'ning'],'scene':this['system']['app']['scene'],'mesh':_0x5ea39b,'depthWrite':_0x2a5c65['depthWrite'],'noFog':_0x2a5c65['noFog'],'node':this['entity'],'blendType':_0x2a5c65['blendType']}),this['emitter']['meshInstan'+'ce']['node']=this['entity'],this['emitter']['drawOrder']=this['drawOrder'],_0x2a5c65['autoPlay']||(this['pause'](),this['emitter']['meshInstan'+'ce']['visible']=!(-0x827+0x1af+0x1*0x679));}this['emitter']['colorMap']&&this['addMeshIns'+'tanceToLay'+'ers'](),this['_evtLayers'+'Changed']=_0x5c1589['on']('set:layers',this['onLayersCh'+'anged'],this),_0x456612&&(this['_evtLayerA'+'dded']=_0x456612['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x456612['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&_0x2a5c65['depthSofte'+'ning']&&this['_requestDe'+'pth']();}}['onDisable'](){var _0xb3eb19,_0x4fea54,_0x1424af;const _0x13dbf9=this['system']['app']['scene']['layers'];(_0xb3eb19=this['_evtLayers'+'Changed'])==null||_0xb3eb19['off'](),this['_evtLayers'+'Changed']=null,_0x13dbf9&&((_0x4fea54=this['_evtLayerA'+'dded'])==null||_0x4fea54['off'](),this['_evtLayerA'+'dded']=null,(_0x1424af=this['_evtLayerR'+'emoved'])==null||_0x1424af['off'](),this['_evtLayerR'+'emoved']=null),this['emitter']&&(this['removeMesh'+'InstanceFr'+'omLayers'](),this['data']['depthSofte'+'ning']&&this['_releaseDe'+'pth'](),this['emitter']['camera']=null);}['onBeforeRe'+'move'](){this['enabled']&&(this['enabled']=!(-0x1*-0x60d+0x2b0+-0xd*0xac)),this['emitter']&&(this['emitter']['destroy'](),this['emitter']=null);for(let _0x2a6760=-0x8*0xd9+-0x195f+0x2027;_0x2a6760<Cc['length'];_0x2a6760++){const _0x6707d0=Cc[_0x2a6760];this['data'][_0x6707d0]&&(this[_0x6707d0]=null);}this['off']();}['reset'](){this['emitter']&&this['emitter']['reset']();}['stop'](){this['emitter']&&(this['emitter']['loop']=!(-0x16f4+-0x5*-0x1c9+0xe08*0x1),this['emitter']['resetTime'](),this['emitter']['addTime'](-0x1f82+-0x205a+0x3fdc*0x1,!(-0x4*-0xb0+-0x12cf+0x1*0x100f)));}['pause'](){this['data']['paused']=!(0x1cca+-0xd9*0x5+-0x188d);}['unpause'](){this['data']['paused']=!(0x2218+0x3*-0x99+-0xac4*0x3);}['play'](){this['data']['paused']=!(-0x817*-0x1+0x17*0x2f+0x1*-0xc4f),this['emitter']&&(this['emitter']['meshInstan'+'ce']['visible']=!(-0x2412+-0x222b*-0x1+0x1*0x1e7),this['emitter']['loop']=this['data']['loop'],this['emitter']['resetTime']());}['isPlaying'](){return this['data']['paused']?!(-0x65b*0x5+-0x1b23*-0x1+0x1d*0x29):this['emitter']&&this['emitter']['loop']?!(-0x10bd+0x1*-0xf86+-0x2043*-0x1):Date['now']()<=this['emitter']['endTime'];}['setInTools'](){const {emitter:_0x5a0fb8}=this;_0x5a0fb8&&!_0x5a0fb8['inTools']&&(_0x5a0fb8['inTools']=!(-0x880+-0x3*0x1d+0x8d7),this['rebuild']());}['rebuild'](){const _0x1c7dae=this['enabled'];this['enabled']=!(-0x1098+0x142+0xf57),this['emitter']&&this['emitter']['rebuild'](),this['enabled']=_0x1c7dae;}}class t3{constructor(){this['numParticl'+'es']=-0x328+-0x1*-0x272+0x1*0xb7,this['rate']=0x2f2+0x11a8+-0x1499,this['rate2']=null,this['startAngle']=0x23*-0x91+-0x13*0x3+0x140c,this['startAngle'+'2']=null,this['lifetime']=0x13f4+0x61b*0x5+0x1*-0x3249,this['emitterExt'+'ents']=new D(),this['emitterExt'+'entsInner']=new D(),this['emitterRad'+'ius']=0x516*-0x5+0x1a76+-0x4*0x42,this['emitterRad'+'iusInner']=-0xd7*0x1a+0x5e*-0x17+0x1e48,this['emitterSha'+'pe']=ai,this['initialVel'+'ocity']=-0x25a0+-0x1*-0x173+0x1b9*0x15,this['wrap']=!(-0xe6f*0x1+-0xf29*-0x2+-0xfe2),this['wrapBounds']=new D(),this['localSpace']=!(0x1ef+-0xb7*-0x8+-0x7a6),this['screenSpac'+'e']=!(-0x1059+-0x1dc+0x103*0x12),this['colorMap']=null,this['colorMapAs'+'set']=null,this['normalMap']=null,this['normalMapA'+'sset']=null,this['loop']=!(-0xfc8+0x2060+-0x1098),this['preWarm']=!(-0x2b*0x83+-0x16f0+0x2cf2),this['sort']=0x558+-0x1c04+0x16ac,this['mode']=rv,this['scene']=null,this['lighting']=!(0x10f*-0x17+0x1085+0x1*0x7d5),this['halfLamber'+'t']=!(-0x36c+0x135e+-0xff1),this['intensity']=0x12cb+-0x1*0x139d+-0xd3*-0x1,this['stretch']=-0x2244+-0x1*-0xc37+0x160d,this['alignToMot'+'ion']=!(-0xb8d*0x3+0x1*-0x13df+0x3*0x122d),this['depthSofte'+'ning']=-0x427*0x1+0x7*-0x565+0x29ea,this['renderAsse'+'t']=null,this['meshAsset']=null,this['mesh']=null,this['depthWrite']=!(-0x6c*0x4c+0x94*-0x5+0x22f5),this['noFog']=!(-0xf7+-0x1d2a*0x1+0x1e22),this['orientatio'+'n']=yh,this['particleNo'+'rmal']=new D(0x60*-0x13+0x1758+-0x1038,-0x14b5+-0x1a6*-0x1+0x1e8*0xa,0x532+0x1*-0x1184+0xc52),this['animTilesX']=0x24df+0xdd9+-0x32b7,this['animTilesY']=0x1*-0x1954+0x4*0x35+-0x33*-0x7b,this['animStartF'+'rame']=0x215d+0x1*0x15f+-0x22bc,this['animNumFra'+'mes']=-0x10c8*-0x1+0x37e+0x1445*-0x1,this['animNumAni'+'mations']=-0x12*0x74+0x22e8*-0x1+0x15*0x20d,this['animIndex']=0x2221+-0x1fcf+0x63*-0x6,this['randomizeA'+'nimIndex']=!(-0xa10+-0xf62+0x1973),this['animSpeed']=0x350*0xa+-0x95*0xc+-0x1a23,this['animLoop']=!(-0x1*-0xd46+0x22e5+0xd1*-0x3b),this['scaleGraph']=null,this['scaleGraph'+'2']=null,this['colorGraph']=null,this['colorGraph'+'2']=null,this['alphaGraph']=null,this['alphaGraph'+'2']=null,this['localVeloc'+'ityGraph']=null,this['localVeloc'+'ityGraph2']=null,this['velocityGr'+'aph']=null,this['velocityGr'+'aph2']=null,this['rotationSp'+'eedGraph']=null,this['rotationSp'+'eedGraph2']=null,this['radialSpee'+'dGraph']=null,this['radialSpee'+'dGraph2']=null,this['blendType']=Zs,this['enabled']=!(0x1a*-0x90+0x1e*-0x12+0x10bc),this['paused']=!(0x1b0e+-0xfe6+-0xb27),this['autoPlay']=!(-0x2619+0x53*-0x35+0x3748),this['layers']=[er];}}const s3='\x0avarying\x20v'+'ec4\x20texCoo'+'rdsAlphaLi'+'fe;\x0a\x0aunifo'+'rm\x20sampler'+'2D\x20colorMa'+'p;\x0auniform'+'\x20sampler2D'+'\x20colorPara'+'m;\x0auniform'+'\x20float\x20gra'+'phSampleSi'+'ze;\x0aunifor'+'m\x20float\x20gr'+'aphNumSamp'+'les;\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a\x20\x20\x20'+'\x20#define\x20C'+'AMERAPLANE'+'S\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'amera_para'+'ms;\x0a#endif'+'\x0a\x0auniform\x20'+'float\x20soft'+'ening;\x0auni'+'form\x20float'+'\x20colorMult'+';\x0a\x0afloat\x20s'+'aturate(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(x,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex\x20\x20=\x20tex'+'ture2D(col'+'orMap,\x20vec'+'2(texCoord'+'sAlphaLife'+'.x,\x201.0\x20-\x20'+'texCoordsA'+'lphaLife.y'+'));\x0a\x20\x20\x20\x20ve'+'c4\x20ramp\x20=\x20'+'texture2D('+'colorParam'+',\x20vec2(tex'+'CoordsAlph'+'aLife.w,\x200'+'.0));\x0a\x20\x20\x20\x20'+'ramp.rgb\x20*'+'=\x20colorMul'+'t;\x0a\x0a\x20\x20\x20\x20ra'+'mp.a\x20+=\x20te'+'xCoordsAlp'+'haLife.z;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'rgb\x20=\x20tex.'+'rgb\x20*\x20ramp'+'.rgb;\x0a\x20\x20\x20\x20'+'float\x20a\x20\x20='+'\x20tex.a\x20*\x20r'+'amp.a;\x0a',i3='\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0af'+'loat\x20satur'+'ate(float\x20'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p(x,\x200.0,\x20'+'1.0);\x0a}\x0a\x0av'+'ec4\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(\x20texture2'+'D(tex,tc),'+'\x20texture2D'+'(tex,tc\x20+\x20'+'graphSampl'+'eSize),\x20fr'+'act(tc.x*g'+'raphNumSam'+'ples)\x20);\x0a}'+'\x0a\x0avec4\x20tex'+'1Dlod_lerp'+'(TEXTURE_A'+'CCEPT_HIGH'+'P(tex),\x20ve'+'c2\x20tc,\x20out'+'\x20vec3\x20w)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'a\x20=\x20textur'+'e2D(tex,tc'+');\x0a\x20\x20\x20\x20vec'+'4\x20b\x20=\x20text'+'ure2D(tex,'+'tc\x20+\x20graph'+'SampleSize'+');\x0a\x20\x20\x20\x20flo'+'at\x20c\x20=\x20fra'+'ct(tc.x*gr'+'aphNumSamp'+'les);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20unpa'+'ckedA\x20=\x20un'+'pack3NFloa'+'ts(a.w);\x0a\x20'+'\x20\x20\x20vec3\x20un'+'packedB\x20=\x20'+'unpack3NFl'+'oats(b.w);'+'\x0a\x20\x20\x20\x20w\x20=\x20m'+'ix(unpacke'+'dA,\x20unpack'+'edB,\x20c);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20mix(a,\x20b,'+'\x20c);\x0a}\x0a\x0ave'+'c2\x20rotate('+'vec2\x20quadX'+'Y,\x20float\x20p'+'Rotation,\x20'+'out\x20mat2\x20r'+'otMatrix)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20cos('+'pRotation)'+';\x0a\x20\x20\x20\x20floa'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x0a\x20\x20\x20\x20mat'+'2\x20m\x20=\x20mat2'+'(c,\x20-s,\x20s,'+'\x20c);\x0a\x20\x20\x20\x20r'+'otMatrix\x20='+'\x20m;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20m\x20*\x20'+'quadXY;\x0a}\x0a'+'\x0avec3\x20bill'+'board(vec3'+'\x20InstanceC'+'oords,\x20vec'+'2\x20quadXY)\x20'+'{\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREEN_'+('SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'os\x20=\x20vec3('+'-1,\x200,\x200)\x20'+'*\x20quadXY.x'+'\x20+\x20vec3(0,'+'\x20-1,\x200)\x20*\x20'+'quadXY.y;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20pos;\x0a}\x0a\x0av'+'ec3\x20custom'+'Face(vec3\x20'+'InstanceCo'+'ords,\x20vec2'+'\x20quadXY)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'pos\x20=\x20face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20faceBinor'+'m\x20*\x20quadXY'+'.y;\x0a\x20\x20\x20\x20re'+'turn\x20pos;\x0a'+'}\x0a\x0avec2\x20sa'+'feNormaliz'+'e(vec2\x20v)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20l\x20=\x20leng'+'th(v);\x0a\x20\x20\x20'+'\x20return\x20(l'+'\x20>\x201e-06)\x20'+'?\x20v\x20/\x20l\x20:\x20'+'v;\x0a}\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20meshLoc'+'alPos\x20=\x20pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20id\x20=\x20fl'+'oor(partic'+'le_vertexD'+'ata.w);\x0a\x0a\x20'+'\x20\x20\x20float\x20r'+'ndFactor\x20='+'\x20fract(sin'+'(id\x20+\x201.0\x20'+'+\x20seed));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'ndFactor3\x20'+'=\x20vec3(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20float\x20uv\x20'+'=\x20id\x20/\x20num'+'ParticlesP'+'ot;\x0a\x20\x20\x20\x20re'+'adInput(uv'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20safeNorma'+'lize((mat3'+'(matrix_vi'+'ew)\x20*\x20inVe'+'l).xy);\x20//'+'\x20should\x20be'+'\x20removed\x20b'+'y\x20compiler'+'\x20if\x20align/'+'stretch\x20is'+'\x20not\x20used\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20particleL'+'ifetime\x20=\x20'+'lifetime;\x0a'+'\x0a\x20\x20\x20\x20if\x20(i')+('nLife\x20<=\x200'+'.0\x20||\x20inLi'+'fe\x20>\x20parti'+'cleLifetim'+'e\x20||\x20!inSh'+'ow)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20meshLoca'+'lPos\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20vec2\x20qua'+'dXY\x20=\x20mesh'+'LocalPos.x'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20nlife\x20='+'\x20clamp(inL'+'ife\x20/\x20part'+'icleLifeti'+'me,\x200.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20param'+'Div;\x0a\x20\x20\x20\x20v'+'ec4\x20params'+'\x20=\x20tex1Dlo'+'d_lerp(TEX'+'TURE_PASS('+'internalTe'+'x2),\x20vec2('+'nlife,\x200),'+'\x20paramDiv)'+';\x0a\x20\x20\x20\x20floa'+'t\x20scale\x20=\x20'+'params.y;\x0a'+'\x20\x20\x20\x20float\x20'+'scaleDiv\x20='+'\x20paramDiv.'+'x;\x0a\x20\x20\x20\x20flo'+'at\x20alphaDi'+'v\x20=\x20paramD'+'iv.z;\x0a\x0a\x20\x20\x20'+'\x20scale\x20+=\x20'+'(scaleDiv\x20'+'*\x202.0\x20-\x201.'+'0)\x20*\x20scale'+'DivMult\x20*\x20'+'fract(rndF'+'actor*1000'+'0.0);\x0a\x0a#if'+'ndef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(quadXY'+'\x20*\x20-0.5\x20+\x20'+'0.5,\x20(alph'+'aDiv\x20*\x202.0'+'\x20-\x201.0)\x20*\x20'+'alphaDivMu'+'lt\x20*\x20fract'+'(rndFactor'+'*1000.0),\x20'+'nlife);\x0a#e'+'lse\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(partic'+'le_uv,\x20(al'+'phaDiv\x20*\x202'+'.0\x20-\x201.0)\x20'+'*\x20alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'#endif\x0a\x0a\x20\x20'+'\x20\x20vec3\x20par'+'ticlePos\x20='+'\x20inPos;\x0a\x20\x20'+'\x20\x20vec3\x20par'+'ticlePosMo'+'ved\x20=\x20vec3'+'(0.0);\x0a\x0a\x20\x20'+'\x20\x20mat2\x20rot'+'Matrix;\x0a'),r3='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20min(flo'+'or(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y)\x20+\x20animT'+'exParams.x'+',\x20animTexP'+'arams.z);\x0a',a3='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20floor(m'+'od(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y\x20+\x20animTe'+'xParams.x,'+'\x20animTexPa'+'rams.z\x20+\x201'+'.0));\x0a',n3='\x0a\x20\x20\x20\x20float'+'\x20animation'+'Index;\x0a\x0a\x20\x20'+'\x20\x20if\x20(anim'+'TexIndexPa'+'rams.y\x20==\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20anima'+'tionIndex\x20'+'=\x20floor((a'+'nimTexPara'+'ms.w\x20+\x201.0'+')\x20*\x20rndFac'+'tor3.z)\x20*\x20'+'(animTexPa'+'rams.z\x20+\x201'+'.0);\x0a\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20animTex'+'IndexParam'+'s.x\x20*\x20(ani'+'mTexParams'+'.z\x20+\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20float\x20at'+'lasX\x20=\x20(an'+'imationInd'+'ex\x20+\x20animF'+'rame)\x20*\x20an'+'imTexTiles'+'Params.x;\x0a'+'\x20\x20\x20\x20float\x20'+'atlasY\x20=\x201'+'.0\x20-\x20floor'+'(atlasX\x20+\x20'+'1.0)\x20*\x20ani'+'mTexTilesP'+'arams.y;\x0a\x20'+'\x20\x20\x20atlasX\x20'+'=\x20fract(at'+'lasX);\x0a\x0a\x20\x20'+'\x20\x20texCoord'+'sAlphaLife'+'.xy\x20*=\x20ani'+'mTexTilesP'+'arams.xy;\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe.xy\x20+=\x20v'+'ec2(atlasX'+',\x20atlasY);'+'\x0a',o3='\x0avoid\x20read'+'Input(floa'+'t\x20uv)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'\x20=\x20texture'+'2D(particl'+'eTexIN,\x20ve'+'c2(uv,\x200.2'+'5));\x0a\x20\x20\x20\x20v'+'ec4\x20tex2\x20='+'\x20texture2D'+'(particleT'+'exIN,\x20vec2'+'(uv,\x200.75)'+');\x0a\x0a\x20\x20\x20\x20in'+'Pos\x20=\x20tex.'+'xyz;\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inAngle\x20='+'\x20(tex.w\x20<\x20'+'0.0?\x20-tex.'+'w\x20:\x20tex.w)'+'\x20-\x201000.0;'+'\x0a\x20\x20\x20\x20inSho'+'w\x20=\x20tex.w\x20'+'>=\x200.0;\x0a\x20\x20'+'\x20\x20inLife\x20='+'\x20tex2.w;\x0a}'+'\x0a',l3='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0a#'+'define\x20PI2'+'\x206.2831853'+'07179586\x0a\x0a'+'uniform\x20ve'+'c3\x20inBound'+'sSize;\x0auni'+'form\x20vec3\x20'+'inBoundsCe'+'nter;\x0a\x0auni'+'form\x20float'+'\x20maxVel;\x0a\x0a'+'float\x20deco'+'deFloatRG('+'vec2\x20rg)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20rg.y\x20*\x20('+'1.0\x20/\x20255.'+'0)\x20+\x20rg.x;'+'\x0a}\x0a\x0afloat\x20'+'decodeFloa'+'tRGBA(\x20vec'+'4\x20rgba\x20)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20dot(rgba'+',\x20vec4(1.0'+',\x201.0\x20/\x2025'+'5.0,\x201.0\x20/'+'\x2065025.0,\x20'+'1.0\x20/\x201605'+'81375.0));'+'\x0a}\x0a\x0avoid\x20r'+'eadInput(f'+'loat\x20uv)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex0\x20=\x20tex'+'ture2D(par'+'ticleTexIN'+',\x20vec2(uv,'+'\x200.125));\x0a'+'\x20\x20\x20\x20vec4\x20t'+'ex1\x20=\x20text'+'ure2D(part'+'icleTexIN,'+'\x20vec2(uv,\x20'+'0.375));\x0a\x20'+'\x20\x20\x20vec4\x20te'+'x2\x20=\x20textu'+'re2D(parti'+'cleTexIN,\x20'+'vec2(uv,\x200'+'.625));\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'3\x20=\x20textur'+'e2D(partic'+'leTexIN,\x20v'+'ec2(uv,\x200.'+'875));\x0a\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'vec3(decod'+'eFloatRG(t'+'ex0.rg),\x20d'+'ecodeFloat'+'RG(tex0.ba'+'),\x20decodeF'+'loatRG(tex'+'1.rg));\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'(inPos\x20-\x20v'+'ec3(0.5))\x20'+'*\x20inBounds'+'Size\x20+\x20inB'+'oundsCente'+'r;\x0a\x0a\x20\x20\x20\x20in'+'Vel\x20=\x20tex2'+'.xyz;\x0a\x20\x20\x20\x20'+'inVel\x20=\x20(i'+'nVel\x20-\x20vec'+'3(0.5))\x20*\x20'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20float\x20max'+'NegLife\x20=\x20'+'max(lifeti'+'me,\x20(numPa'+('rticles\x20-\x20'+'1.0)\x20*\x20(ra'+'te+rateDiv'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20maxPos'+'Life\x20=\x20lif'+'etime+1.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20inLife'+'\x20*\x20(maxNeg'+'Life\x20+\x20max'+'PosLife)\x20-'+'\x20maxNegLif'+'e;\x0a}\x0a'),c3='\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'gl_FragCoo'+'rd.y<1.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'outPos,\x20(o'+'utAngle\x20+\x20'+'1000.0)\x20*\x20'+'visMode);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(outVel,\x20o'+'utLife);\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',h3='\x0auniform\x20v'+'ec3\x20outBou'+'ndsMul;\x0aun'+'iform\x20vec3'+'\x20outBounds'+'Add;\x0a\x0avec2'+'\x20encodeFlo'+'atRG(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20enc'+'\x20=\x20vec2(1.'+'0,\x20255.0)\x20'+'*\x20v;\x0a\x20\x20\x20\x20e'+'nc\x20=\x20fract'+'(enc);\x0a\x20\x20\x20'+'\x20enc\x20-=\x20en'+'c.yy\x20*\x20vec'+'2(1.0/255.'+'0,\x201.0/255'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20enc;'+'\x0a}\x0a\x0avec4\x20e'+'ncodeFloat'+'RGBA(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20enc'+'\x20=\x20vec4(1.'+'0,\x20255.0,\x20'+'65025.0,\x201'+'60581375.0'+')\x20*\x20v;\x0a\x20\x20\x20'+'\x20enc\x20=\x20fra'+'ct(enc);\x0a\x20'+'\x20\x20\x20enc\x20-=\x20'+'enc.yzww\x20*'+'\x20vec4(1.0/'+'255.0,1.0/'+'255.0,1.0/'+'255.0,0.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20enc;\x0a}\x0a'+'\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20outP'+'os\x20=\x20outPo'+'s\x20*\x20outBou'+'ndsMul\x20+\x20o'+'utBoundsAd'+'d;\x0a\x20\x20\x20\x20out'+'Angle\x20=\x20fr'+'act(outAng'+'le\x20/\x20PI2);'+'\x0a\x0a\x20\x20\x20\x20outV'+'el\x20=\x20(outV'+'el\x20/\x20maxVe'+'l)\x20+\x20vec3('+'0.5);\x20//\x20T'+'ODO:\x20mul\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'maxNegLife'+'\x20=\x20max(lif'+'etime,\x20(nu'+'mParticles'+'\x20-\x201.0)\x20*\x20'+'(rate+rate'+'Div));\x0a\x20\x20\x20'+'\x20float\x20max'+'PosLife\x20=\x20'+'lifetime+1'+'.0;\x0a\x20\x20\x20\x20ou'+'tLife\x20=\x20(o'+'utLife\x20+\x20m'+'axNegLife)'+'\x20/\x20(maxNeg'+'Life\x20+\x20max'+'PosLife);\x0a'+'\x0a\x20\x20\x20\x20if\x20(g'+'l_FragCoor'+'d.y\x20<\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(encodeFlo'+'atRG(outPo'+'s.x),\x20enco'+'deFloatRG('+'outPos.y))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(gl_'+'FragCoord.'+'y\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(e'+'ncodeFloat'+'RG(outPos.'+'z),\x20encode'+'FloatRG(ou'+'tAngle));\x0a'+'\x20\x20\x20\x20}\x20else'+('\x20if\x20(gl_Fr'+'agCoord.y\x20'+'<\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(out'+'Vel,\x20visMo'+'de*0.5+0.5'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20e'+'ncodeFloat'+'RGBA(outLi'+'fe);\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),d3='\x0auniform\x20m'+'at3\x20spawnB'+'ounds;\x0auni'+'form\x20vec3\x20'+'spawnPosIn'+'nerRatio;\x0a'+'\x0avec3\x20calc'+'SpawnPosit'+'ion(vec3\x20i'+'nBounds,\x20f'+'loat\x20rndFa'+'ctor)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20inBound'+'s\x20-\x20vec3(0'+'.5);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20posAb'+'s\x20=\x20abs(po'+'s);\x0a\x20\x20\x20\x20ve'+'c3\x20maxPos\x20'+'=\x20vec3(max'+'(posAbs.x,'+'\x20max(posAb'+'s.y,\x20posAb'+'s.z)));\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ed'+'ge\x20=\x20maxPo'+'s\x20+\x20(vec3('+'0.5)\x20-\x20max'+'Pos)\x20*\x20spa'+'wnPosInner'+'Ratio;\x0a\x0a\x20\x20'+'\x20\x20pos.x\x20=\x20'+'edge.x\x20*\x20('+'maxPos.x\x20='+'=\x20posAbs.x'+'\x20?\x20sign(po'+'s.x)\x20:\x202.0'+'\x20*\x20pos.x);'+'\x0a\x20\x20\x20\x20pos.y'+'\x20=\x20edge.y\x20'+'*\x20(maxPos.'+'y\x20==\x20posAb'+'s.y\x20?\x20sign'+'(pos.y)\x20:\x20'+'2.0\x20*\x20pos.'+'y);\x0a\x20\x20\x20\x20po'+'s.z\x20=\x20edge'+'.z\x20*\x20(maxP'+'os.z\x20==\x20po'+'sAbs.z\x20?\x20s'+'ign(pos.z)'+'\x20:\x202.0\x20*\x20p'+'os.z);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20return\x20e'+'mitterPos\x20'+'+\x20spawnBou'+'nds\x20*\x20pos;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20sp'+'awnBounds\x20'+'*\x20pos;\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20addIniti'+'alVelocity'+'(inout\x20vec'+'3\x20localVel'+'ocity,\x20vec'+'3\x20inBounds'+')\x20{\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20-=\x20vec3('+'0,\x200,\x20init'+'ialVelocit'+'y);\x0a}\x0a',f3='\x0a\x20\x20\x20\x20write'+'Output();\x0a'+'}\x0a',u3='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20parti'+'cleTexIN;\x0a'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x2;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex3'+';\x0a\x0auniform'+'\x20mat3\x20emit'+'terMatrix;'+'\x0auniform\x20m'+'at3\x20emitte'+'rMatrixInv'+';\x0auniform\x20'+'vec3\x20emitt'+'erScale;\x0a\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Pos;\x0aunifo'+'rm\x20vec3\x20fr'+'ameRandom;'+'\x0auniform\x20v'+'ec3\x20localV'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20vec3\x20v'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20float\x20'+'delta;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20nu'+'mParticles'+';\x0auniform\x20'+'float\x20rotS'+'peedDivMul'+'t;\x0auniform'+'\x20float\x20rad'+'ialSpeedDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20startAngl'+'e;\x0auniform'+'\x20float\x20sta'+'rtAngle2;\x0a'+'uniform\x20fl'+'oat\x20initia'+'lVelocity;'+'\x0a\x0auniform\x20'+'float\x20grap'+'hSampleSiz'+'e;\x0auniform'+'\x20float\x20gra'+'phNumSampl'+'es;\x0a\x0avec3\x20'+'inPos;\x0avec'+'3\x20inVel;\x0af'+'loat\x20inAng'+'le;\x0abool\x20i'+'nShow;\x0aflo'+'at\x20inLife;'+'\x0afloat\x20vis'+'Mode;\x0a\x0avec'+'3\x20outPos;\x0a'+'vec3\x20outVe'+'l;\x0afloat\x20o'+'utAngle;\x0ab'+'ool\x20outSho'+'w;\x0afloat\x20o'+'utLife;\x0a',p3='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x20-1.0;\x0a\x20\x20\x20'+'\x20}\x0a',m3='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20outLi'+'fe\x20<\x200.0?\x20'+'-1.0:\x20visM'+'ode;\x0a',_3='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20visM'+'ode\x20=\x20outL'+'ife\x20<\x200.0?'+'\x201.0:\x20visM'+'ode;\x0a',g3='\x0auniform\x20f'+'loat\x20spawn'+'BoundsSphe'+'re;\x0aunifor'+'m\x20float\x20sp'+'awnBoundsS'+'phereInner'+'Ratio;\x0a\x0ave'+'c3\x20calcSpa'+'wnPosition'+'(vec3\x20inBo'+'unds,\x20floa'+'t\x20rndFacto'+'r)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20rnd4\x20'+'=\x20fract(rn'+'dFactor\x20*\x20'+'1000.0);\x0a\x20'+'\x20\x20\x20vec3\x20no'+'rm\x20=\x20norma'+'lize(inBou'+'nds.xyz\x20-\x20'+'vec3(0.5))'+';\x0a\x20\x20\x20\x20floa'+'t\x20r\x20=\x20rnd4'+'\x20*\x20(1.0\x20-\x20'+'spawnBound'+'sSphereInn'+'erRatio)\x20+'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio;\x0a'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20return'+'\x20emitterPo'+'s\x20+\x20norm\x20*'+'\x20r\x20*\x20spawn'+'BoundsSphe'+'re;\x0a#else\x0a'+'\x20\x20\x20\x20return'+'\x20norm\x20*\x20r\x20'+'*\x20spawnBou'+'ndsSphere;'+'\x0a#endif\x0a}\x0a'+'\x0avoid\x20addI'+'nitialVelo'+'city(inout'+'\x20vec3\x20loca'+'lVelocity,'+'\x20vec3\x20inBo'+'unds)\x20{\x0a\x20\x20'+'\x20\x20localVel'+'ocity\x20+=\x20n'+'ormalize(i'+'nBounds\x20-\x20'+'vec3(0.5))'+'\x20*\x20initial'+'Velocity;\x0a'+'}\x0a',S3='\x0afloat\x20sat'+'urate(floa'+'t\x20x)\x20{\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(x,\x200.0'+',\x201.0);\x0a}\x0a'+'\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0av'+'ec3\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc,\x20out\x20ve'+'c3\x20w)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20a\x20='+'\x20texture2D'+'(tex,\x20tc);'+'\x0a\x20\x20\x20\x20vec4\x20'+'b\x20=\x20textur'+'e2D(tex,\x20t'+'c\x20+\x20graphS'+'ampleSize)'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20g'+'raphNumSam'+'ples);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20unp'+'ackedA\x20=\x20u'+'npack3NFlo'+'ats(a.w);\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20w\x20=\x20'+'mix(unpack'+'edA,\x20unpac'+'kedB,\x20c);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(a.xy'+'z,\x20b.xyz,\x20'+'c);\x0a}\x0a\x0a#de'+'fine\x20HASHS'+'CALE4\x20vec4'+'(1031,\x20.10'+'30,\x20.0973,'+'\x20.1099)\x0ave'+'c4\x20hash41('+'float\x20p)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'p4\x20=\x20fract'+'(vec4(p)\x20*'+'\x20HASHSCALE'+'4);\x0a\x20\x20\x20\x20p4'+'\x20+=\x20dot(p4'+',\x20p4.wzxy+'+'19.19);\x0a\x20\x20'+'\x20\x20return\x20f'+'ract(vec4('+'(p4.x\x20+\x20p4'+'.y)*p4.z,\x20'+'(p4.x\x20+\x20p4'+'.z)*p4.y,\x20'+'(p4.y\x20+\x20p4'+'.z)*p4.w,\x20'+'(p4.z\x20+\x20p4'+'.w)*p4.x))'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(gl_FragCo'+'ord.x\x20>\x20nu'+'mParticles'+')\x20discard;'+'\x0a\x0a\x20\x20\x20\x20read'+'Input(vUv0'+'.x);\x0a\x20\x20\x20\x20v'+'isMode\x20=\x20i'+'nShow?\x201.0'+'\x20:\x20-1.0;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20r'+'ndFactor\x20='+'\x20hash41(gl'+'_FragCoord'+('.x\x20+\x20seed)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eRate\x20=\x20ra'+'te\x20+\x20rateD'+'iv\x20*\x20rndFa'+'ctor.x;\x0a\x0a\x20'+'\x20\x20\x20outLife'+'\x20=\x20inLife\x20'+'+\x20delta;\x0a\x20'+'\x20\x20\x20float\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20lifetim'+'e,\x200.0,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localV'+'elocityDiv'+';\x0a\x20\x20\x20\x20vec3'+'\x20velocityD'+'iv;\x0a\x20\x20\x20\x20ve'+'c3\x20paramDi'+'v;\x0a\x20\x20\x20\x20vec'+'3\x20localVel'+'ocity\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex0),\x20'+'vec2(nlife'+',\x200),\x20loca'+'lVelocityD'+'iv);\x0a\x20\x20\x20\x20v'+'ec3\x20veloci'+'ty\x20=\x20\x20\x20\x20\x20\x20'+'tex1Dlod_l'+'erp(TEXTUR'+'E_PASS(int'+'ernalTex1)'+',\x20vec2(nli'+'fe,\x200),\x20ve'+'locityDiv)'+';\x0a\x20\x20\x20\x20vec3'+'\x20params\x20=\x20'+'\x20\x20\x20\x20\x20\x20\x20tex'+'1Dlod_lerp'+'(TEXTURE_P'+'ASS(intern'+'alTex2),\x20v'+'ec2(nlife,'+'\x200),\x20param'+'Div);\x0a\x20\x20\x20\x20'+'float\x20rotS'+'peed\x20=\x20par'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rot'+'SpeedDiv\x20='+'\x20paramDiv.'+'y;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20radialP'+'arams\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex3),\x20'+'vec2(nlife'+',\x200),\x20para'+'mDiv);\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeed\x20='+'\x20radialPar'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeedDi'+'v\x20=\x20radial'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20bool\x20'+'respawn\x20=\x20'+'inLife\x20<=\x20'+'0.0\x20||\x20out'+'Life\x20>=\x20li'+'fetime;\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'respawn\x20?\x20'+'calcSpawnP'+'osition(rn'+'dFactor.xy'+'z,\x20rndFact'+'or.x)\x20:\x20in'+'Pos;\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20r'+'espawn\x20?\x20m'+'ix(startAn'+'gle,\x20start'+'Angle2,\x20rn'+'dFactor.x)'+'\x20:\x20inAngle'+';\x0a\x0a#ifndef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20vec')+('3\x20radialVe'+'l\x20=\x20inPos\x20'+'-\x20emitterP'+'os;\x0a#else\x0a'+'\x20\x20\x20\x20vec3\x20r'+'adialVel\x20='+'\x20inPos;\x0a#e'+'ndif\x0a\x20\x20\x20\x20r'+'adialVel\x20='+'\x20(dot(radi'+'alVel,\x20rad'+'ialVel)\x20>\x20'+'1.0E-8)\x20?\x20'+'radialSpee'+'d\x20*\x20normal'+'ize(radial'+'Vel)\x20:\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20+=\x20(radi'+'alSpeedDiv'+'\x20*\x20vec3(2.'+'0)\x20-\x20vec3('+'1.0))\x20*\x20ra'+'dialSpeedD'+'ivMult\x20*\x20r'+'ndFactor.x'+'yz;\x0a\x0a\x20\x20\x20\x20l'+'ocalVeloci'+'ty\x20+=\x20\x20\x20\x20('+'localVeloc'+'ityDiv\x20*\x20v'+'ec3(2.0)\x20-'+'\x20vec3(1.0)'+')\x20*\x20localV'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20velo'+'city\x20+=\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20(vel'+'ocityDiv\x20*'+'\x20vec3(2.0)'+'\x20-\x20vec3(1.'+'0))\x20*\x20velo'+'cityDivMul'+'t\x20*\x20rndFac'+'tor.xyz;\x0a\x20'+'\x20\x20\x20rotSpee'+'d\x20+=\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(rotSpe'+'edDiv\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20rotSpeedD'+'ivMult\x20*\x20r'+'ndFactor.y'+';\x0a\x0a\x20\x20\x20\x20add'+'InitialVel'+'ocity(loca'+'lVelocity,'+'\x20rndFactor'+'.xyz);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20em'+'itterScale'+';\x0a#else\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20(localVel'+'ocity\x20+\x20ra'+'dialVel)\x20/'+'\x20emitterSc'+'ale\x20+\x20emit'+'terMatrixI'+'nv\x20*\x20veloc'+'ity;\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20out'+'Pos\x20=\x20inPo'+'s\x20+\x20outVel'+'\x20*\x20delta;\x0a'+'\x20\x20\x20\x20outAng'+'le\x20=\x20inAng'+'le\x20+\x20rotSp'+'eed\x20*\x20delt'+'a;\x0a'),y3='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',v3='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'*=\x20saturat'+'e(gammaCor'+'rectInput('+'max(a,\x200.0'+')));\x0a\x20\x20\x20\x20i'+'f\x20((rgb.r\x20'+'+\x20rgb.g\x20+\x20'+'rgb.b)\x20<\x200'+'.000001)\x20d'+'iscard;\x0a',x3='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3('+'1.0),\x20rgb,'+'\x20vec3(a));'+'\x0a\x20\x20\x20\x20if\x20(r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+'\x20>\x202.99)\x20d'+'iscard;\x0a',T3='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20d'+'iscard;\x0a',w3='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20\x20\x20/'+'/\x20XYZ\x20=\x20wo'+'rld\x20pos,\x20W'+'\x20=\x20life\x0aat'+'tribute\x20ve'+'c4\x20particl'+'e_vertexDa'+'ta2;\x20\x20//\x20X'+'\x20=\x20angle,\x20'+'Y\x20=\x20scale,'+'\x20Z\x20=\x20alpha'+',\x20W\x20=\x20velo'+'city.x\x0aatt'+'ribute\x20vec'+'4\x20particle'+'_vertexDat'+'a3;\x20\x20//\x20XY'+'Z\x20=\x20partic'+'le\x20local\x20p'+'os,\x20W\x20=\x20ve'+'locity.y\x0aa'+'ttribute\x20f'+'loat\x20parti'+'cle_vertex'+'Data4;\x20//\x20'+'particle\x20i'+'d\x0a\x0a//\x20type'+'\x20depends\x20o'+'n\x20useMesh\x20'+'property.\x20'+'Start\x20with'+'\x20X\x20=\x20veloc'+'ity.z,\x20Y\x20='+'\x20particle\x20'+'ID\x20and\x20for'+'\x20mesh\x20part'+'icles\x20proc'+'eeds\x20with\x20'+'Z\x20=\x20mesh\x20U'+'V.x,\x20W\x20=\x20m'+'esh\x20UV.y\x0a/'+'/\x20Note:\x20Th'+'is\x20generat'+'es\x20a\x20dupli'+'cate\x20attri'+'bute\x20warni'+'ng,\x20as\x20the'+'\x20scanning\x20'+'we\x20do\x20is\x20v'+'ery\x20simple'+'.\x0a#ifndef\x20'+'USE_MESH\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vec2\x20pa'+'rticle_ver'+'texData5;\x0a'+'#else\x0a\x20\x20\x20\x20'+'attribute\x20'+'vec4\x20parti'+'cle_vertex'+'Data5;\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0a\x0a#'+'ifndef\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20#define\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_view;'+'\x0a#endif\x0a\x0au'+'niform\x20mat'+'3\x20matrix_n'+'ormal;\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wInverse;\x0a'+'\x0auniform\x20f'+'loat\x20numPa'+'rticles;\x0au'+'niform\x20flo'+'at\x20lifetim'+'e;\x0auniform'+'\x20float\x20str'+'etch;\x0aunif'+'orm\x20float\x20'+'seed;\x0aunif'+'orm\x20vec3\x20w'+'rapBounds;'+'\x0auniform\x20v'+'ec3\x20emitte'+'rScale;\x0aun'+('iform\x20vec3'+'\x20faceTange'+'nt;\x0aunifor'+'m\x20vec3\x20fac'+'eBinorm;\x0a\x0a'+'#ifdef\x20PAR'+'TICLE_GPU\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex0'+';\x0a\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x1;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex2;\x0a#end'+'if\x0auniform'+'\x20vec3\x20emit'+'terPos;\x0a\x0av'+'arying\x20vec'+'4\x20texCoord'+'sAlphaLife'+';\x0a\x0avec2\x20ro'+'tate(vec2\x20'+'quadXY,\x20fl'+'oat\x20pRotat'+'ion,\x20out\x20m'+'at2\x20rotMat'+'rix)\x0a{\x0a\x20\x20\x20'+'\x20float\x20c\x20='+'\x20cos(pRota'+'tion);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20sin(pRota'+'tion);\x0a\x20\x20\x20'+'\x20//vec4\x20ro'+'tationMatr'+'ix\x20=\x20vec4('+'c,\x20-s,\x20s,\x20'+'c);\x0a\x0a\x20\x20\x20\x20m'+'at2\x20m\x20=\x20ma'+'t2(c,\x20-s,\x20'+'s,\x20c);\x0a\x20\x20\x20'+'\x20rotMatrix'+'\x20=\x20m;\x0a\x0a\x20\x20\x20'+'\x20return\x20m\x20'+'*\x20quadXY;\x0a'+'}\x0a\x0avec3\x20bi'+'llboard(ve'+'c3\x20Instanc'+'eCoords,\x20v'+'ec2\x20quadXY'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20return\x20p'+'os;\x0a}\x0a\x0avec'+'3\x20customFa'+'ce(vec3\x20In'+'stanceCoor'+'ds,\x20vec2\x20q'+'uadXY)\x0a{\x0a\x20'+'\x20\x20\x20vec3\x20po'+'s\x20=\x20faceTa'+'ngent\x20*\x20qu'+'adXY.x\x20+\x20f'+'aceBinorm\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0avoid\x20main'+'(void)\x0a{\x0a\x20'+'\x20\x20\x20vec3\x20pa'+'rticlePos\x20'+'=\x20particle'+'_vertexDat'+'a.xyz;\x0a\x20\x20\x20'+'\x20vec3\x20inPo'+'s\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20vec3\x20vert'+'Pos\x20=\x20part'+'icle_verte'+'xData3.xyz'+';\x0a\x20\x20\x20\x20vec3'+'\x20inVel\x20=\x20v'+'ec3(partic'+'le_vertexD'+'ata2.w,\x20pa')+('rticle_ver'+'texData3.w'+',\x20particle'+'_vertexDat'+'a5.x);\x0a\x0a\x20\x20'+'\x20\x20float\x20id'+'\x20=\x20floor(p'+'article_ve'+'rtexData4)'+';\x0a\x20\x20\x20\x20floa'+'t\x20rndFacto'+'r\x20=\x20fract('+'sin(id\x20+\x201'+'.0\x20+\x20seed)'+');\x0a\x20\x20\x20\x20vec'+'3\x20rndFacto'+'r3\x20=\x20vec3('+'rndFactor,'+'\x20fract(rnd'+'Factor*10.'+'0),\x20fract('+'rndFactor*'+'100.0));\x0a\x0a'+'#ifdef\x20LOC'+'AL_SPACE\x0a\x20'+'\x20\x20\x20inVel\x20='+'\x20mat3(matr'+'ix_model)\x20'+'*\x20inVel;\x0a#'+'endif\x0a\x20\x20\x20\x20'+'vec2\x20veloc'+'ityV\x20=\x20nor'+'malize((ma'+'t3(matrix_'+'view)\x20*\x20in'+'Vel).xy);\x20'+'//\x20should\x20'+'be\x20removed'+'\x20by\x20compil'+'er\x20if\x20alig'+'n/stretch\x20'+'is\x20not\x20use'+'d\x0a\x0a\x20\x20\x20\x20vec'+'2\x20quadXY\x20='+'\x20vertPos.x'+'y;\x0a\x0a#ifdef'+'\x20USE_MESH\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe\x20=\x20vec4('+'particle_v'+'ertexData5'+'.zw,\x20parti'+'cle_vertex'+'Data2.z,\x20p'+'article_ve'+'rtexData.w'+');\x0a#else\x0a\x20'+'\x20\x20\x20texCoor'+'dsAlphaLif'+'e\x20=\x20vec4(q'+'uadXY\x20*\x20-0'+'.5\x20+\x200.5,\x20'+'particle_v'+'ertexData2'+'.z,\x20partic'+'le_vertexD'+'ata.w);\x0a#e'+'ndif\x0a\x20\x20\x20\x20m'+'at2\x20rotMat'+'rix;\x0a\x0a\x20\x20\x20\x20'+'float\x20inAn'+'gle\x20=\x20part'+'icle_verte'+'xData2.x;\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'Moved\x20=\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20vec3\x20me'+'shLocalPos'+'\x20=\x20particl'+'e_vertexDa'+'ta3.xyz;\x0a'),E3='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20par'+'ticle_vert'+'exData2.y\x20'+'*\x20emitterS'+'cale;\x0a\x20\x20\x20\x20'+'localPos\x20+'+'=\x20particle'+'Pos;\x0a\x0a\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_viewProje'+'ction\x20*\x20ve'+'c4(localPo'+'s,\x201.0);\x0a',b3='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20quadXY'+');\x0a',A3='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(rgb'+',\x20a);\x0a}\x0a',C3='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20sca'+'le\x20*\x20emitt'+'erScale;\x0a\x20'+'\x20\x20\x20localPo'+'s\x20+=\x20parti'+'clePos;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREEN_SPA'+'CE\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(loca'+'lPos.x,\x20lo'+'calPos.y,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20vec4(lo'+'calPos.xyz'+',\x201.0);\x0a\x20\x20'+'\x20\x20#endif\x0a',P3='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20normal\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20vec3'+'\x20posNormal'+'\x20=\x20-normal'+'\x20*\x200.5\x20+\x200'+'.5;\x0a\x20\x20\x20\x20ne'+'gNormal\x20*='+'\x20negNormal'+';\x0a\x20\x20\x20\x20posN'+'ormal\x20*=\x20p'+'osNormal;\x0a',M3='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20//\x20'+'XYZ\x20=\x20part'+'icle\x20posit'+'ion,\x20W\x20=\x20p'+'article\x20ID'+'\x20+\x20random\x20'+'factor\x0a\x0a#i'+'f\x20defined('+'USE_MESH)\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(USE_'+'MESH_UV)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20att'+'ribute\x20vec'+'2\x20particle'+'_uv;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20mesh'+'\x20UV\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20par'+'ticle_uv\x20='+'\x20vec2(0.0,'+'\x200.0);\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20mat4\x20m'+'atrix_view'+'Projection'+';\x0auniform\x20'+'mat4\x20matri'+'x_model;\x0au'+'niform\x20mat'+'3\x20matrix_n'+'ormal;\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wInverse;\x0a'+'\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_vie'+'w;\x0a#endif\x0a'+'\x0auniform\x20f'+'loat\x20numPa'+'rticles;\x0au'+'niform\x20flo'+'at\x20numPart'+'iclesPot;\x0a'+'uniform\x20fl'+'oat\x20graphS'+'ampleSize;'+'\x0auniform\x20f'+'loat\x20graph'+'NumSamples'+';\x0auniform\x20'+'float\x20stre'+'tch;\x0aunifo'+'rm\x20vec3\x20wr'+'apBounds;\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Scale;\x0auni'+'form\x20vec3\x20'+'emitterPos'+';\x0auniform\x20'+'vec3\x20faceT'+'angent;\x0aun'+'iform\x20vec3'+'\x20faceBinor'+'m;\x0auniform'+'\x20float\x20rat'+'e;\x0auniform'+'\x20float\x20rat'+'eDiv;\x0aunif'+'orm\x20float\x20'+'lifetime;\x0a'+'uniform\x20fl'+'oat\x20deltaR'+'andomnessS'+'tatic;\x0auni'+'form\x20float'+'\x20scaleDivM'+'ult;\x0aunifo'+'rm\x20float\x20a'+'lphaDivMul'+'t;\x0auniform'+'\x20float\x20see'+'d;\x0auniform'+'\x20float\x20del'+'ta;\x0aunifor'+'m\x20sampler2'+'D\x20particle'+'TexOUT;\x0aun'+'iform\x20samp'+('ler2D\x20part'+'icleTexIN;'+'\x0a\x0a#ifdef\x20P'+'ARTICLE_GP'+'U\x0a\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x0;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex2;\x0a#e'+'ndif\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a\x20\x20\x20'+'\x20#define\x20C'+'AMERAPLANE'+'S\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'amera_para'+'ms;\x0a#endif'+'\x0a\x0avarying\x20'+'vec4\x20texCo'+'ordsAlphaL'+'ife;\x0a\x0avec3'+'\x20inPos;\x0ave'+'c3\x20inVel;\x0a'+'float\x20inAn'+'gle;\x0abool\x20'+'inShow;\x0afl'+'oat\x20inLife'+';\x0a'),D3='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20max(norm'+'al,\x20vec3(0'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20posNo'+'rmal\x20=\x20max'+'(-normal,\x20'+'vec3(0.0))'+';\x0a',I3='\x0a\x20\x20\x20\x20vec3\x20'+'light\x20=\x20ne'+'gNormal.x*'+'lightCube['+'0]\x20+\x20posNo'+'rmal.x*lig'+'htCube[1]\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20negN'+'ormal.y*li'+'ghtCube[2]'+'\x20+\x20posNorm'+'al.y*light'+'Cube[3]\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20negNor'+'mal.z*ligh'+'tCube[4]\x20+'+'\x20posNormal'+'.z*lightCu'+'be[5];\x0a\x0a\x20\x20'+'\x20\x20rgb\x20*=\x20l'+'ight;\x0a',L3='\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20('+'matrix_mod'+'el\x20*\x20vec4('+'particlePo'+'s,\x201.0)).x'+'yz;\x0a',R3='\x0a\x20\x20\x20\x20vec3\x20'+'localPos\x20='+'\x20meshLocal'+'Pos;\x0a\x20\x20\x20\x20l'+'ocalPos.xy'+'\x20=\x20rotate('+'localPos.x'+'y,\x20inAngle'+',\x20rotMatri'+'x);\x0a\x20\x20\x20\x20lo'+'calPos.yz\x20'+'=\x20rotate(l'+'ocalPos.yz'+',\x20inAngle,'+'\x20rotMatrix'+');\x0a\x0a\x20\x20\x20\x20bi'+'llboard(pa'+'rticlePos,'+'\x20quadXY);\x0a',O3='\x0a\x20\x20\x20\x20Norma'+'l\x20=\x20normal'+'ize(localP'+'os\x20+\x20matri'+'x_viewInve'+'rse[2].xyz'+');\x0a',F3='\x0a\x20\x20\x20\x20vec3\x20'+'normalMap\x20'+'=\x20normaliz'+'e(texture2'+'D(normalMa'+'p,\x20vec2(te'+'xCoordsAlp'+'haLife.x,\x20'+'1.0\x20-\x20texC'+'oordsAlpha'+'Life.y)).x'+'yz\x20*\x202.0\x20-'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec3\x20norm'+'al\x20=\x20Parti'+'cleMat\x20*\x20n'+'ormalMap;\x0a',N3='\x0a\x20\x20\x20\x20//\x20no'+'t\x20the\x20fast'+'est\x20way,\x20b'+'ut\x20easier\x20'+'to\x20plug\x20in'+';\x20TODO:\x20cr'+'eate\x20rot\x20m'+'atrix\x20righ'+'t\x20from\x20vec'+'tors\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20a'+'tan(veloci'+'tyV.x,\x20vel'+'ocityV.y);'+'\x0a\x0a',k3='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'InitPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'PACK8\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leInputRgb'+'a8PS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leOutputRg'+'ba8PS\x22\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleInputFl'+'oatPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleOutputF'+'loatPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20EMITTERSH'+'APE_BOX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rAABBPS\x22\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticleUpdat'+'erSpherePS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terStartPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20RESPAW'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleUp'+'daterRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'O_RESPAWN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terNoRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20O'+'N_STOP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'OnStopPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rEndPS\x22\x0a',U3='\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vec3\x20No'+'rmal;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20==\x20MAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ma'+'t3\x20Particl'+'eMat;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20lightCu'+'be[6];\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20float\x20vDe'+'pth;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fogP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'f\x20NORMAL\x20='+'=\x20MAP\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20normalMa'+'p;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22p'+'articlePS\x22'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SOFT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_softP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20NORMAL\x20'+'==\x20VERTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20normal\x20'+'=\x20Normal;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'NORMAL\x20==\x20'+'MAP\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_normalMap'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20!=\x20NONE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20HALF_L'+'AMBERT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_ha'+'lflambertP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_la'+'mbertPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_lighting'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20BLEND\x20'+'==\x20NORMAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_ble'+'ndNormalPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20BLEND\x20=='+('\x20ADDITIVE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_ble'+'ndAddPS\x22\x0a\x20'+'\x20\x20\x20#elif\x20B'+'LEND\x20==\x20MU'+'LTIPLICATI'+'VE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendMulti'+'plyPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_endPS\x22\x0a'),B3='\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec2'+'\x20animTexTi'+'lesParams;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20animTexP'+'arams;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec2\x20an'+'imTexIndex'+'Params;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20NO'+'RMAL\x20==\x20MA'+'P\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ma'+'t3\x20Particl'+'eMat;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec3\x20Normal'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20SOFT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'rying\x20floa'+'t\x20vDepth;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_initVS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20PA'+'CK8\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleInputR'+'gba8PS\x22\x20\x20\x20'+'\x20\x20//\x20why\x20a'+'re\x20these\x20P'+'S\x20and\x20not\x20'+'VS?\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x20'+'\x22particleI'+'nputFloatP'+'S\x22\x20\x20\x20\x20//\x20w'+'hy\x20are\x20the'+'se\x20PS\x20and\x20'+'not\x20VS?\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'OFT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22scre'+'enDepthPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleVS\x22\x0a\x0a\x20\x20'+'\x20\x20#else\x20//'+'\x20PARTICLE_'+'CPU\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22scr'+'eenDepthPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_cpuVS'+'\x22\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_local'+'ShiftVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20ANIMT'+'EX_LOOP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('#include\x20\x22'+'particleAn'+'imFrameLoo'+'pVS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particleA'+'nimFrameCl'+'ampVS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleAn'+'imTexVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20wr'+'ap\x20is\x20not\x20'+'used\x20on\x20CP'+'U,\x20it\x20was\x20'+'commented\x20'+'out.\x20TODO:'+'\x20investiga'+'te\x20why\x0a\x20\x20\x20'+'\x20#ifdef\x20PA'+'RTICLE_GPU'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20WRAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_wrapVS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20AL'+'IGN_TO_MOT'+'ION\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_pointAlon'+'gVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20US'+'E_MESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_meshVS'+'\x22\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20CUS'+'TOM_FACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'customFace'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_b'+'illboardVS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20==\x20VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_normalVS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20NORMAL\x20=='+'\x20MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_TBNVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STRETCH\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_str'+'etchVS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PARTICLE'+'_GPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_endVS\x22\x0a\x20'+'\x20\x20\x20#else\x20/'+'/\x20PARTICLE'+'_CPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_cpu_endV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#')+('ifdef\x20SOFT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_so'+'ftVS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20}\x0a'),z3='\x0a\x20\x20\x20\x20float'+'\x20depth\x20=\x20g'+'etLinearSc'+'reenDepth('+');\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eDepth\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20float\x20dep'+'thDiff\x20=\x20s'+'aturate(ab'+'s(particle'+'Depth\x20-\x20de'+'pth)\x20*\x20sof'+'tening);\x0a\x20'+'\x20\x20\x20a\x20*=\x20de'+'pthDiff;\x0a',V3='\x0a\x20\x20\x20\x20vDept'+'h\x20=\x20getLin'+'earDepth(l'+'ocalPos);\x0a',G3='\x0a\x20\x20\x20\x20vec3\x20'+'moveDir\x20=\x20'+'inVel\x20*\x20st'+'retch;\x0a\x20\x20\x20'+'\x20vec3\x20posP'+'rev\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20+=\x20partic'+'lePosMoved'+';\x0a\x0a\x20\x20\x20\x20vec'+'2\x20centerTo'+'VertexV\x20=\x20'+'normalize('+'(mat3(matr'+'ix_view)\x20*'+'\x20localPos)'+'.xy);\x0a\x0a\x20\x20\x20'+'\x20float\x20int'+'erpolation'+'\x20=\x20dot(-ve'+'locityV,\x20c'+'enterToVer'+'texV)\x20*\x200.'+'5\x20+\x200.5;\x0a\x0a'+'\x20\x20\x20\x20partic'+'lePos\x20=\x20mi'+'x(particle'+'Pos,\x20posPr'+'ev,\x20interp'+'olation);\x0a',H3='\x0a\x20\x20\x20\x20mat3\x20'+'rot3\x20=\x20mat'+'3(rotMatri'+'x[0][0],\x20r'+'otMatrix[0'+'][1],\x200.0,'+'\x20rotMatrix'+'[1][0],\x20ro'+'tMatrix[1]'+'[1],\x200.0,\x20'+'0.0,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'ParticleMa'+'t\x20=\x20mat3(-'+'matrix_vie'+'wInverse[0'+'].xyz,\x20-ma'+'trix_viewI'+'nverse[1].'+'xyz,\x20matri'+'x_viewInve'+'rse[2].xyz'+')\x20*\x20rot3;\x0a',W3='\x0a\x20\x20\x20\x20vec3\x20'+'origPartic'+'lePos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20-=\x20'+'matrix_mod'+'el[3].xyz;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20m'+'od(particl'+'ePos,\x20wrap'+'Bounds)\x20-\x20'+'wrapBounds'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20+=\x20mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'PosMoved\x20='+'\x20particleP'+'os\x20-\x20origP'+'articlePos'+';\x0a',$3={'particlePS':s3,'particleVS':i3,'particleAnimFrameClampVS':r3,'particleAnimFrameLoopVS':a3,'particleAnimTexVS':n3,'particleInputFloatPS':o3,'particleInputRgba8PS':l3,'particleOutputFloatPS':c3,'particleOutputRgba8PS':h3,'particleUpdaterAABBPS':d3,'particleUpdaterEndPS':f3,'particleUpdaterInitPS':u3,'particleUpdaterNoRespawnPS':p3,'particleUpdaterOnStopPS':m3,'particleUpdaterRespawnPS':_3,'particleUpdaterSpherePS':g3,'particleUpdaterStartPS':S3,'particle_billboardVS':y3,'particle_blendAddPS':v3,'particle_blendMultiplyPS':x3,'particle_blendNormalPS':T3,'particle_cpuVS':w3,'particle_cpu_endVS':E3,'particle_customFaceVS':b3,'particle_endPS':A3,'particle_endVS':C3,'particle_halflambertPS':P3,'particle_initVS':M3,'particle_lambertPS':D3,'particle_lightingPS':I3,'particle_localShiftVS':L3,'particle_meshVS':R3,'particle_normalVS':O3,'particle_normalMapPS':F3,'particle_pointAlongVS':N3,'particle_simulationPS':k3,'particle_shaderPS':U3,'particle_shaderVS':B3,'particle_softPS':z3,'particle_softVS':V3,'particle_stretchVS':G3,'particle_TBNVS':H3,'particle_wrapVS':W3},X3='\x0avarying\x20t'+'exCoordsAl'+'phaLife:\x20v'+'ec4f;\x0a\x0avar'+'\x20colorMap:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20colorMap'+'Sampler:\x20s'+'ampler;\x0ava'+'r\x20colorPar'+'am:\x20textur'+'e_2d<f32>;'+'\x0avar\x20color'+'ParamSampl'+'er:\x20sample'+'r;\x0a\x0aunifor'+'m\x20graphSam'+'pleSize:\x20f'+'32;\x0aunifor'+'m\x20graphNum'+'Samples:\x20f'+'32;\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20camera_'+'params:\x20ve'+'c4f;\x0a#endi'+'f\x0a\x0auniform'+'\x20softening'+':\x20f32;\x0auni'+'form\x20color'+'Mult:\x20f32;'+'\x0a\x0afn\x20satur'+'ate(x:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(x,'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0a@frag'+'ment\x0afn\x20fr'+'agmentMain'+'(input:\x20Fr'+'agmentInpu'+'t)\x20->\x20Frag'+'mentOutput'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20tex:\x20v'+'ec4f\x20\x20=\x20te'+'xtureSampl'+'e(colorMap'+',\x20colorMap'+'Sampler,\x20v'+'ec2f(input'+'.texCoords'+'AlphaLife.'+'x,\x201.0\x20-\x20i'+'nput.texCo'+'ordsAlphaL'+'ife.y));\x0a\x20'+'\x20\x20\x20var\x20ram'+'p:\x20vec4f\x20='+'\x20textureSa'+'mple(color'+'Param,\x20col'+'orParamSam'+'pler,\x20vec2'+'f(input.te'+'xCoordsAlp'+'haLife.w,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20ramp\x20=\x20ve'+'c4f(ramp.r'+'gb\x20*\x20unifo'+'rm.colorMu'+'lt,\x20ramp.a'+');\x0a\x0a\x20\x20\x20\x20ra'+'mp.a\x20=\x20ram'+'p.a\x20+\x20inpu'+'t.texCoord'+'sAlphaLife'+'.z;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20rgb:\x20ve'+'c3f\x20=\x20tex.'+'rgb\x20*\x20ramp'+'.rgb;\x0a\x20\x20\x20\x20'+'var\x20a:\x20f32'+'\x20=\x20tex.a\x20*'+'\x20ramp.a;\x0a',q3='\x0afn\x20unpack'+'3NFloats(s'+'rc:\x20f32)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20let\x20r\x20'+'=\x20fract(sr'+'c);\x0a\x20\x20\x20\x20le'+'t\x20g\x20=\x20frac'+'t(src\x20*\x2025'+'6.0);\x0a\x20\x20\x20\x20'+'let\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3f(r,\x20'+'g,\x20b);\x0a}\x0a\x0a'+'fn\x20saturat'+'e(x:\x20f32)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(x,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0astruct\x20'+'TexLerpUnp'+'ackResult\x20'+'{\x0a\x20\x20\x20\x20resu'+'lt:\x20vec4f,'+'\x0a\x20\x20\x20\x20unpac'+'ked:\x20vec3f'+'\x0a}\x0a\x0afn\x20tex'+'1Dlod_lerp'+'_simple(te'+'x:\x20texture'+'_2d<f32>,\x20'+'texSampler'+':\x20sampler,'+'\x20tc:\x20vec2f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20tc_next\x20='+'\x20tc\x20+\x20vec2'+'f(uniform.'+'graphSampl'+'eSize);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(\x20textur'+'eSample(te'+'x,\x20texSamp'+'ler,\x20tc),\x20'+'textureSam'+'ple(tex,\x20t'+'exSampler,'+'\x20tc_next),'+'\x20fract(tc.'+'x\x20*\x20unifor'+'m.graphNum'+'Samples)\x20)'+';\x0a}\x0a\x0afn\x20te'+'x1Dlod_ler'+'p_unpack(t'+'ex:\x20textur'+'e_2d<f32>,'+'\x20texSample'+'r:\x20sampler'+',\x20tc:\x20vec2'+'f)\x20->\x20TexL'+'erpUnpackR'+'esult\x20{\x0a\x20\x20'+'\x20\x20let\x20tc_n'+'ext\x20=\x20tc\x20+'+'\x20vec2f(uni'+'form.graph'+'SampleSize'+');\x0a\x20\x20\x20\x20let'+'\x20a\x20=\x20textu'+'reSampleLe'+'vel(tex,\x20t'+'exSampler,'+'\x20tc,\x200.0);'+'\x0a\x20\x20\x20\x20let\x20b'+'\x20=\x20texture'+'SampleLeve'+'l(tex,\x20tex'+'Sampler,\x20t'+'c_next,\x200.'+'0);\x0a\x20\x20\x20\x20le'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20u'+'niform.gra'+'phNumSampl'+'es);\x0a\x20\x20\x20\x20l'+'et\x20unpacke'+'dA\x20=\x20unpac'+'k3NFloats('+'a.w);\x0a\x20\x20\x20\x20'+'let\x20unpack'+'edB\x20=\x20unpa'+'ck3NFloats'+'(b.w);\x0a\x20\x20\x20'+'\x20let\x20w_out'+('\x20=\x20mix(unp'+'ackedA,\x20un'+'packedB,\x20c'+');\x0a\x20\x20\x20\x20ret'+'urn\x20TexLer'+'pUnpackRes'+'ult(mix(a,'+'\x20b,\x20c),\x20w_'+'out);\x0a}\x0a\x0as'+'truct\x20Rota'+'teResult\x20{'+'\x0a\x20\x20\x20\x20rotat'+'edVec:\x20vec'+'2f,\x0a\x20\x20\x20\x20ma'+'trix:\x20mat2'+'x2f\x0a}\x0a\x0afn\x20'+'rotateWith'+'Matrix(qua'+'dXY:\x20vec2f'+',\x20pRotatio'+'n:\x20f32)\x20->'+'\x20RotateRes'+'ult\x20{\x0a\x20\x20\x20\x20'+'let\x20c\x20=\x20co'+'s(pRotatio'+'n);\x0a\x20\x20\x20\x20le'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x20\x20\x20\x20let\x20'+'m\x20=\x20mat2x2'+'f(vec2f(c,'+'\x20s),\x20vec2f'+'(-s,\x20c));\x0a'+'\x20\x20\x20\x20return'+'\x20RotateRes'+'ult(m\x20*\x20qu'+'adXY,\x20m);\x0a'+'}\x0a\x0afn\x20bill'+'board(Inst'+'anceCoords'+':\x20vec3f,\x20q'+'uadXY:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20pos:\x20ve'+'c3f;\x0a\x20\x20\x20\x20#'+'ifdef\x20SCRE'+'EN_SPACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20pos'+'\x20=\x20vec3f(-'+'1.0,\x200.0,\x20'+'0.0)\x20*\x20qua'+'dXY.x\x20+\x20ve'+'c3f(0.0,\x20-'+'1.0,\x200.0)\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'pos\x20=\x20-uni'+'form.matri'+'x_viewInve'+'rse[0].xyz'+'\x20*\x20quadXY.'+'x\x20+\x20-unifo'+'rm.matrix_'+'viewInvers'+'e[1].xyz\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0afn\x20custom'+'Face(Insta'+'nceCoords:'+'\x20vec3f,\x20qu'+'adXY:\x20vec2'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20pos\x20=\x20un'+'iform.face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20uniform.f'+'aceBinorm\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0afn\x20safeNo'+'rmalize(v:'+'\x20vec2f)\x20->'+'\x20vec2f\x20{\x0a\x20'+'\x20\x20\x20let\x20l\x20='+'\x20length(v)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20select('+'v,\x20v\x20/\x20l,\x20'+'l\x20>\x201e-06)'+';\x0a}\x0a\x0a@vert'+'ex\x0afn\x20vert'+'exMain(inp')+('ut:\x20Vertex'+'Input)\x20->\x20'+'VertexOutp'+'ut\x20{\x0a\x20\x20\x20\x20v'+'ar\x20output:'+'\x20VertexOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20meshLo'+'calPos_in\x20'+'=\x20input.pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20id\x20=\x20floo'+'r(input.pa'+'rticle_ver'+'texData.w)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20rndFactor'+'\x20=\x20fract(s'+'in(id\x20+\x201.'+'0\x20+\x20unifor'+'m.seed));\x0a'+'\x20\x20\x20\x20let\x20rn'+'dFactor3\x20='+'\x20vec3f(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20let\x20uv\x20=\x20'+'id\x20/\x20unifo'+'rm.numPart'+'iclesPot;\x0a'+'\x20\x20\x20\x20readIn'+'put(uv);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20model'+'Rotation\x20='+'\x20mat3x3f(u'+'niform.mat'+'rix_model['+'0].xyz,\x20un'+'iform.matr'+'ix_model[1'+'].xyz,\x20uni'+'form.matri'+'x_model[2]'+'.xyz);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20inVel'+'\x20=\x20modelRo'+'tation\x20*\x20i'+'nVel;\x0a\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20let\x20viewR'+'otation\x20=\x20'+'mat3x3f(un'+'iform.matr'+'ix_view[0]'+'.xyz,\x20unif'+'orm.matrix'+'_view[1].x'+'yz,\x20unifor'+'m.matrix_v'+'iew[2].xyz'+');\x0a\x20\x20\x20\x20let'+'\x20velocityV'+'\x20=\x20safeNor'+'malize((vi'+'ewRotation'+'\x20*\x20inVel).'+'xy);\x0a\x0a\x20\x20\x20\x20'+'let\x20partic'+'leLifetime'+'\x20=\x20uniform'+'.lifetime;'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'meshLocalP'+'os\x20=\x20meshL'+'ocalPos_in'+';\x0a\x20\x20\x20\x20if\x20('+'inLife\x20<=\x20'+'0.0\x20||\x20inL'+'ife\x20>\x20part'+'icleLifeti'+'me\x20||\x20!inS'+'how)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mesh'+'LocalPos\x20='+'\x20vec3f(0.0'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20let\x20qua'+'dXY\x20=\x20mesh'+'LocalPos.x'+'y;\x0a\x20\x20\x20\x20let'+'\x20nlife\x20=\x20c')+('lamp(inLif'+'e\x20/\x20partic'+'leLifetime'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20lerp_res'+'ult\x20=\x20tex1'+'Dlod_lerp_'+'unpack(int'+'ernalTex2,'+'\x20internalT'+'ex2Sampler'+',\x20vec2f(nl'+'ife,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'params\x20=\x20l'+'erp_result'+'.result;\x0a\x20'+'\x20\x20\x20let\x20par'+'amDiv\x20=\x20le'+'rp_result.'+'unpacked;\x0a'+'\x0a\x20\x20\x20\x20var\x20s'+'cale\x20=\x20par'+'ams.y;\x0a\x20\x20\x20'+'\x20let\x20scale'+'Div\x20=\x20para'+'mDiv.x;\x0a\x20\x20'+'\x20\x20let\x20alph'+'aDiv\x20=\x20par'+'amDiv.z;\x0a\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20scale\x20+\x20'+'(scaleDiv\x20'+'*\x202.0\x20-\x201.'+'0)\x20*\x20unifo'+'rm.scaleDi'+'vMult\x20*\x20fr'+'act(rndFac'+'tor*10000.'+'0);\x0a\x0a\x20\x20\x20\x20#'+'ifndef\x20USE'+'_MESH\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.texCoords'+'AlphaLife\x20'+'=\x20vec4f(qu'+'adXY\x20*\x20-0.'+'5\x20+\x200.5,\x20('+'alphaDiv\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20unifor'+'m.alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife\x20=\x20vec4'+'f(particle'+'_uv,\x20(alph'+'aDiv\x20*\x202.0'+'\x20-\x201.0)\x20*\x20'+'uniform.al'+'phaDivMult'+'\x20*\x20fract(r'+'ndFactor*1'+'000.0),\x20nl'+'ife);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20var\x20part'+'iclePos\x20=\x20'+'inPos;\x0a\x20\x20\x20'+'\x20var\x20parti'+'clePosMove'+'d\x20=\x20vec3f('+'0.0);\x0a\x0a\x20\x20\x20'+'\x20var\x20rotMa'+'trix:\x20mat2'+'x2f;\x0a'),j3='\x0a\x20\x20\x20\x20let\x20a'+'nimFrame:\x20'+'f32\x20=\x20min('+'floor(inpu'+'t.texCoord'+'sAlphaLife'+'.w\x20*\x20unifo'+'rm.animTex'+'Params.y)\x20'+'+\x20uniform.'+'animTexPar'+'ams.x,\x20uni'+'form.animT'+'exParams.z'+');\x0a',Y3='\x0a\x20\x20\x20\x20let\x20a'+'nimFrame:\x20'+'f32\x20=\x20floo'+'r((output.'+'texCoordsA'+'lphaLife.w'+'\x20*\x20uniform'+'.animTexPa'+'rams.y\x20+\x20u'+'niform.ani'+'mTexParams'+'.x)\x20%\x20(uni'+'form.animT'+'exParams.z'+'\x20+\x201.0));\x20'+'\x20\x20\x20\x0a',K3='\x0a\x20\x20\x20\x20var\x20a'+'nimationIn'+'dex:\x20f32;\x0a'+'\x0a\x20\x20\x20\x20if\x20(u'+'niform.ani'+'mTexIndexP'+'arams.y\x20=='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20floor(('+'uniform.an'+'imTexParam'+'s.w\x20+\x201.0)'+'\x20*\x20rndFact'+'or3.z)\x20*\x20('+'uniform.an'+'imTexParam'+'s.z\x20+\x201.0)'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20animati'+'onIndex\x20=\x20'+'uniform.an'+'imTexIndex'+'Params.x\x20*'+'\x20(uniform.'+'animTexPar'+'ams.z\x20+\x201.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20var\x20a'+'tlasX:\x20f32'+'\x20=\x20(animat'+'ionIndex\x20+'+'\x20animFrame'+')\x20*\x20unifor'+'m.animTexT'+'ilesParams'+'.x;\x0a\x20\x20\x20\x20le'+'t\x20atlasY:\x20'+'f32\x20=\x201.0\x20'+'-\x20floor(at'+'lasX\x20+\x201.0'+')\x20*\x20unifor'+'m.animTexT'+'ilesParams'+'.y;\x0a\x20\x20\x20\x20at'+'lasX\x20=\x20fra'+'ct(atlasX)'+';\x20//\x20Reass'+'ign\x20atlasX'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'current_tc'+'al_xy\x20=\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife.xy;\x0a\x20\x20'+'\x20\x20let\x20scal'+'ed_tcal_xy'+'\x20=\x20current'+'_tcal_xy\x20*'+'\x20uniform.a'+'nimTexTile'+'sParams.xy'+';\x0a\x20\x20\x20\x20let\x20'+'final_tcal'+'_xy\x20=\x20scal'+'ed_tcal_xy'+'\x20+\x20vec2f(a'+'tlasX,\x20atl'+'asY);\x0a\x20\x20\x20\x20'+'output.tex'+'CoordsAlph'+'aLife\x20=\x20ve'+'c4f(final_'+'tcal_xy,\x20o'+'utput.texC'+'oordsAlpha'+'Life.z,\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife.w);\x0a',Z3='\x0afn\x20readIn'+'put(uv:\x20f3'+'2)\x20{\x0a\x20\x20\x20\x20l'+'et\x20tex:\x20ve'+'c4f\x20=\x20text'+'ureSampleL'+'evel(parti'+'cleTexIN,\x20'+'particleTe'+'xINSampler'+',\x20vec2f(uv'+',\x200.25),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex2:\x20v'+'ec4f\x20=\x20tex'+'tureSample'+'Level(part'+'icleTexIN,'+'\x20particleT'+'exINSample'+'r,\x20vec2f(u'+'v,\x200.75),\x20'+'0.0);\x0a\x0a\x20\x20\x20'+'\x20inPos\x20=\x20t'+'ex.xyz;\x0a\x20\x20'+'\x20\x20inVel\x20=\x20'+'tex2.xyz;\x0a'+'\x20\x20\x20\x20inAngl'+'e\x20=\x20abs(te'+'x.w)\x20-\x20100'+'0.0;\x0a\x20\x20\x20\x20i'+'nShow\x20=\x20te'+'x.w\x20>=\x200.0'+';\x0a\x20\x20\x20\x20inLi'+'fe\x20=\x20tex2.'+'w;\x0a}\x0a',Q3='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0ac'+'onst\x20PI2:\x20'+'f32\x20=\x206.28'+'3185307179'+'586;\x0a\x0aunif'+'orm\x20inBoun'+'dsSize:\x20ve'+'c3f;\x0aunifo'+'rm\x20inBound'+'sCenter:\x20v'+'ec3f;\x0a\x0auni'+'form\x20maxVe'+'l:\x20f32;\x0a\x0af'+'n\x20decodeFl'+'oatRG(rg:\x20'+'vec2f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20rg.'+'y\x20*\x20(1.0\x20/'+'\x20255.0)\x20+\x20'+'rg.x;\x0a}\x0a\x0af'+'n\x20decodeFl'+'oatRGBA(\x20r'+'gba:\x20vec4f'+'\x20)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20dot(rgb'+'a,\x20vec4f(1'+'.0,\x201.0\x20/\x20'+'255.0,\x201.0'+'\x20/\x2065025.0'+',\x201.0\x20/\x2016'+'0581375.0)'+');\x0a}\x0a\x0afn\x20r'+'eadInput(u'+'v:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20let\x20te'+'x0\x20=\x20textu'+'reSampleLe'+'vel(partic'+'leTexIN,\x20p'+'articleTex'+'INSampler,'+'\x20vec2f(uv,'+'\x200.125),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex1\x20=\x20'+'textureSam'+'pleLevel(p'+'articleTex'+'IN,\x20partic'+'leTexINSam'+'pler,\x20vec2'+'f(uv,\x200.37'+'5),\x200.0);\x0a'+'\x20\x20\x20\x20let\x20te'+'x2\x20=\x20textu'+'reSampleLe'+'vel(partic'+'leTexIN,\x20p'+'articleTex'+'INSampler,'+'\x20vec2f(uv,'+'\x200.625),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex3\x20=\x20'+'textureSam'+'pleLevel(p'+'articleTex'+'IN,\x20partic'+'leTexINSam'+'pler,\x20vec2'+'f(uv,\x200.87'+'5),\x200.0);\x0a'+'\x0a\x20\x20\x20\x20inPos'+'\x20=\x20vec3f(d'+'ecodeFloat'+'RG(tex0.rg'+'),\x20decodeF'+'loatRG(tex'+'0.ba),\x20dec'+'odeFloatRG'+'(tex1.rg))'+';\x0a\x20\x20\x20\x20inPo'+'s\x20=\x20(inPos'+'\x20-\x20vec3f(0'+'.5))\x20*\x20uni'+'form.inBou'+'ndsSize\x20+\x20'+'uniform.in'+'BoundsCent'+'er;\x0a\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inVel\x20=\x20('+('inVel\x20-\x20ve'+'c3f(0.5))\x20'+'*\x20uniform.'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20let\x20l'+'ife_decode'+'d\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20let\x20maxNe'+'gLife\x20=\x20ma'+'x(uniform.'+'lifetime,\x20'+'(uniform.n'+'umParticle'+'s\x20-\x201.0)\x20*'+'\x20(uniform.'+'rate\x20+\x20uni'+'form.rateD'+'iv));\x0a\x20\x20\x20\x20'+'let\x20maxPos'+'Life\x20=\x20uni'+'form.lifet'+'ime\x20+\x201.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20life_d'+'ecoded\x20*\x20('+'maxNegLife'+'\x20+\x20maxPosL'+'ife)\x20-\x20max'+'NegLife;\x0a}'),J3='\x0afn\x20getOut'+'put()\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20if\x20(pcPos'+'ition.y\x20<\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4f(ou'+'tPos,\x20(out'+'Angle\x20+\x2010'+'00.0)\x20*\x20vi'+'sMode);\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(outVel,\x20'+'outLife);\x0a'+'\x20\x20\x20\x20}\x0a}\x0a',eO='\x0auniform\x20o'+'utBoundsMu'+'l:\x20vec3f;\x0a'+'uniform\x20ou'+'tBoundsAdd'+':\x20vec3f;\x0a\x0a'+'fn\x20encodeF'+'loatRG(\x20v:'+'\x20f32\x20)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20var\x20enc:'+'\x20vec2f\x20=\x20v'+'ec2f(1.0,\x20'+'255.0)\x20*\x20v'+';\x0a\x20\x20\x20\x20enc\x20'+'=\x20fract(en'+'c);\x0a\x20\x20\x20\x20en'+'c\x20=\x20enc\x20-\x20'+'enc.yy\x20*\x20('+'1.0\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20enc;\x0a'+'}\x0a\x0afn\x20enco'+'deFloatRGB'+'A(\x20v:\x20f32\x20'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20factors\x20='+'\x20vec4f(1.0'+',\x20255.0,\x206'+'5025.0,\x2016'+'0581375.0)'+';\x0a\x20\x20\x20\x20var\x20'+'enc:\x20vec4f'+'\x20=\x20factors'+'\x20*\x20v;\x0a\x20\x20\x20\x20'+'enc\x20=\x20frac'+'t(enc);\x0a\x20\x20'+'\x20\x20enc\x20=\x20en'+'c\x20-\x20enc.yz'+'ww\x20*\x20vec4f'+'(1.0\x20/\x20255'+'.0,\x201.0\x20/\x20'+'255.0,\x201.0'+'\x20/\x20255.0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'return\x20enc'+';\x0a}\x0a\x0afn\x20ge'+'tOutput()\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20outPo'+'s\x20=\x20outPos'+'\x20*\x20uniform'+'.outBounds'+'Mul\x20+\x20unif'+'orm.outBou'+'ndsAdd;\x0a\x20\x20'+'\x20\x20outAngle'+'\x20=\x20fract(o'+'utAngle\x20/\x20'+'PI2);\x0a\x0a\x20\x20\x20'+'\x20outVel\x20=\x20'+'(outVel\x20/\x20'+'uniform.ma'+'xVel)\x20+\x20ve'+'c3f(0.5);\x20'+'//\x20TODO:\x20m'+'ul\x0a\x0a\x20\x20\x20\x20le'+'t\x20maxNegLi'+'fe\x20=\x20max(u'+'niform.lif'+'etime,\x20(un'+'iform.numP'+'articles\x20-'+'\x201.0)\x20*\x20(u'+'niform.rat'+'e\x20+\x20unifor'+'m.rateDiv)'+');\x0a\x20\x20\x20\x20let'+'\x20maxPosLif'+'e\x20=\x20unifor'+'m.lifetime'+'\x20+\x201.0;\x0a\x20\x20'+'\x20\x20outLife\x20'+'=\x20(outLife'+'\x20+\x20maxNegL'+'ife)\x20/\x20(ma'+'xNegLife\x20+'+'\x20maxPosLif'+'e);\x0a\x0a\x20\x20\x20\x20i'+'f\x20(pcPosit'+'ion.y\x20<\x201.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'vec4f(enco'+'deFloatRG('+'outPos.x),'+'\x20encodeFlo'+'atRG(outPo'+'s.y));\x0a\x20\x20\x20'+('\x20}\x20else\x20if'+'\x20(pcPositi'+'on.y\x20<\x202.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20v'+'ec4f(encod'+'eFloatRG(o'+'utPos.z),\x20'+'encodeFloa'+'tRG(outAng'+'le));\x0a\x20\x20\x20\x20'+'}\x20else\x20if\x20'+'(pcPositio'+'n.y\x20<\x203.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4f(outVel'+',\x20visMode\x20'+'*\x200.5\x20+\x200.'+'5);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20encodeFl'+'oatRGBA(ou'+'tLife);\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),tO='\x0auniform\x20s'+'pawnBounds'+':\x20mat3x3f;'+'\x0auniform\x20s'+'pawnPosInn'+'erRatio:\x20v'+'ec3f;\x0a\x0afn\x20'+'calcSpawnP'+'osition(in'+'Bounds:\x20ve'+'c3f,\x20rndFa'+'ctor:\x20f32)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'pos\x20=\x20inBo'+'unds\x20-\x20vec'+'3f(0.5);\x0a\x0a'+'\x20\x20\x20\x20let\x20po'+'sAbs\x20=\x20abs'+'(pos);\x0a\x20\x20\x20'+'\x20let\x20maxCo'+'mp\x20=\x20max(p'+'osAbs.x,\x20m'+'ax(posAbs.'+'y,\x20posAbs.'+'z));\x0a\x20\x20\x20\x20l'+'et\x20maxPos\x20'+'=\x20vec3f(ma'+'xComp);\x0a\x0a\x20'+'\x20\x20\x20let\x20edg'+'e\x20=\x20maxPos'+'\x20+\x20(vec3f('+'0.5)\x20-\x20max'+'Pos)\x20*\x20uni'+'form.spawn'+'PosInnerRa'+'tio;\x0a\x0a\x20\x20\x20\x20'+'pos.x\x20=\x20ed'+'ge.x\x20*\x20sel'+'ect(2.0\x20*\x20'+'pos.x,\x20sig'+'n(pos.x),\x20'+'maxPos.x\x20='+'=\x20posAbs.x'+');\x0a\x20\x20\x20\x20pos'+'.y\x20=\x20edge.'+'y\x20*\x20select'+'(2.0\x20*\x20pos'+'.y,\x20sign(p'+'os.y),\x20max'+'Pos.y\x20==\x20p'+'osAbs.y);\x0a'+'\x20\x20\x20\x20pos.z\x20'+'=\x20edge.z\x20*'+'\x20select(2.'+'0\x20*\x20pos.z,'+'\x20sign(pos.'+'z),\x20maxPos'+'.z\x20==\x20posA'+'bs.z);\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'LOCAL_SPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20uni'+'form.emitt'+'erPos\x20+\x20un'+'iform.spaw'+'nBounds\x20*\x20'+'pos;\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'uniform.sp'+'awnBounds\x20'+'*\x20pos;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'\x0afn\x20addIni'+'tialVeloci'+'ty(localVe'+'locity:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'inBounds:\x20'+'vec3f)\x20{\x0a\x20'+'\x20\x20\x20*localV'+'elocity\x20=\x20'+'*localVelo'+'city\x20-\x20vec'+'3f(0.0,\x200.'+'0,\x20uniform'+'.initialVe'+'locity);\x0a}'+'\x0a',sO='\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'getOutput('+');\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',iO='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0a\x0avar\x20par'+'ticleTexIN'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20particl'+'eTexINSamp'+'ler:\x20sampl'+'er;\x0avar\x20in'+'ternalTex0'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20interna'+'lTex0Sampl'+'er:\x20sample'+'r;\x0avar\x20int'+'ernalTex1:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20internal'+'Tex1Sample'+'r:\x20sampler'+';\x0avar\x20inte'+'rnalTex2:\x20'+'texture_2d'+'<f32>;\x0avar'+'\x20internalT'+'ex2Sampler'+':\x20sampler;'+'\x0avar\x20inter'+'nalTex3:\x20t'+'exture_2d<'+'f32>;\x0avar\x20'+'internalTe'+'x3Sampler:'+'\x20sampler;\x0a'+'\x0auniform\x20e'+'mitterMatr'+'ix:\x20mat3x3'+'f;\x0auniform'+'\x20emitterMa'+'trixInv:\x20m'+'at3x3f;\x0aun'+'iform\x20emit'+'terScale:\x20'+'vec3f;\x0a\x0aun'+'iform\x20emit'+'terPos:\x20ve'+'c3f;\x0aunifo'+'rm\x20frameRa'+'ndom:\x20vec3'+'f;\x0auniform'+'\x20localVelo'+'cityDivMul'+'t:\x20vec3f;\x0a'+'uniform\x20ve'+'locityDivM'+'ult:\x20vec3f'+';\x0auniform\x20'+'delta:\x20f32'+';\x0auniform\x20'+'rate:\x20f32;'+'\x0auniform\x20r'+'ateDiv:\x20f3'+'2;\x0auniform'+'\x20lifetime:'+'\x20f32;\x0aunif'+'orm\x20numPar'+'ticles:\x20f3'+'2;\x0auniform'+'\x20rotSpeedD'+'ivMult:\x20f3'+'2;\x0auniform'+'\x20radialSpe'+'edDivMult:'+'\x20f32;\x0aunif'+'orm\x20seed:\x20'+'f32;\x0aunifo'+'rm\x20startAn'+'gle:\x20f32;\x0a'+'uniform\x20st'+'artAngle2:'+'\x20f32;\x0aunif'+'orm\x20initia'+'lVelocity:'+'\x20f32;\x0a\x0auni'+'form\x20graph'+'SampleSize'+':\x20f32;\x0auni'+'form\x20graph'+'NumSamples'+':\x20f32;\x0a\x0ava'+'r<private>'+'\x20inPos:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20in'+'Vel:\x20vec3f'+';\x0avar<priv'+'ate>\x20inAng'+('le:\x20f32;\x0av'+'ar<private'+'>\x20inShow:\x20'+'bool;\x0avar<'+'private>\x20i'+'nLife:\x20f32'+';\x0avar<priv'+'ate>\x20visMo'+'de:\x20f32;\x0a\x0a'+'var<privat'+'e>\x20outPos:'+'\x20vec3f;\x0ava'+'r<private>'+'\x20outVel:\x20v'+'ec3f;\x0avar<'+'private>\x20o'+'utAngle:\x20f'+'32;\x0avar<pr'+'ivate>\x20out'+'Show:\x20bool'+';\x0avar<priv'+'ate>\x20outLi'+'fe:\x20f32;\x0a'),rO='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'uniform.li'+'fetime)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tLife\x20=\x20ou'+'tLife\x20-\x20ma'+'x(uniform.'+'lifetime,\x20'+'(uniform.n'+'umParticle'+'s\x20-\x201.0)\x20*'+'\x20particleR'+'ate);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20visMod'+'e\x20=\x20-1.0;\x0a'+'\x20\x20\x20\x20}\x0a',aO='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20selec'+'t(visMode,'+'\x20-1.0,\x20out'+'Life\x20<\x200.0'+');\x0a',nO='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'uniform.li'+'fetime)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20subtract'+'Amount\x20=\x20m'+'ax(uniform'+'.lifetime,'+'\x20(uniform.'+'numParticl'+'es\x20-\x201.0)\x20'+'*\x20particle'+'Rate);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outLi'+'fe\x20=\x20outLi'+'fe\x20-\x20subtr'+'actAmount;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'isMode\x20=\x201'+'.0;\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20visMod'+'e\x20=\x20select'+'(visMode,\x20'+'1.0,\x20outLi'+'fe\x20<\x200.0);'+'\x0a',oO='\x0auniform\x20s'+'pawnBounds'+'Sphere:\x20f3'+'2;\x0auniform'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio:\x20'+'f32;\x0a\x0afn\x20c'+'alcSpawnPo'+'sition(inB'+'ounds:\x20vec'+'3f,\x20rndFac'+'tor:\x20f32)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20r'+'nd4:\x20f32\x20='+'\x20fract(rnd'+'Factor\x20*\x201'+'000.0);\x0a\x20\x20'+'\x20\x20let\x20norm'+':\x20vec3f\x20=\x20'+'normalize('+'inBounds.x'+'yz\x20-\x20vec3f'+'(0.5));\x0a\x20\x20'+'\x20\x20let\x20r:\x20f'+'32\x20=\x20rnd4\x20'+'*\x20(1.0\x20-\x20u'+'niform.spa'+'wnBoundsSp'+'hereInnerR'+'atio)\x20+\x20un'+'iform.spaw'+'nBoundsSph'+'ereInnerRa'+'tio;\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20unifo'+'rm.emitter'+'Pos\x20+\x20norm'+'\x20*\x20r\x20*\x20uni'+'form.spawn'+'BoundsSphe'+'re;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20n'+'orm\x20*\x20r\x20*\x20'+'uniform.sp'+'awnBoundsS'+'phere;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'\x0afn\x20addIni'+'tialVeloci'+'ty(localVe'+'locity:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'inBounds:\x20'+'vec3f)\x20{\x0a\x20'+'\x20\x20\x20let\x20ini'+'tialVelOff'+'set:\x20vec3f'+'\x20=\x20normali'+'ze(inBound'+'s\x20-\x20vec3f('+'0.5))\x20*\x20un'+'iform.init'+'ialVelocit'+'y;\x0a\x20\x20\x20\x20*lo'+'calVelocit'+'y\x20=\x20*local'+'Velocity\x20+'+'\x20initialVe'+'lOffset;\x0a}'+'\x0a',lO='\x0afn\x20satura'+'te(x:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(x,\x20'+'0.0,\x201.0);'+'\x0a}\x0a\x0afn\x20unp'+'ack3NFloat'+'s(src:\x20f32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20r\x20=\x20fract'+'(src);\x0a\x20\x20\x20'+'\x20let\x20g\x20=\x20f'+'ract(src\x20*'+'\x20256.0);\x0a\x20'+'\x20\x20\x20let\x20b\x20='+'\x20fract(src'+'\x20*\x2065536.0'+');\x0a\x20\x20\x20\x20ret'+'urn\x20vec3f('+'r,\x20g,\x20b);\x0a'+'}\x0a\x0a//\x20Stru'+'ct\x20to\x20hand'+'le\x20multipl'+'e\x20return\x20v'+'alues\x20from'+'\x20tex1Dlod_'+'lerp\x0astruc'+'t\x20TexLerpU'+'npackResul'+'t\x20{\x0a\x20\x20\x20\x20re'+'sult:\x20vec3'+'f,\x0a\x20\x20\x20\x20unp'+'acked:\x20vec'+'3f\x0a}\x0a\x0afn\x20t'+'ex1Dlod_le'+'rp(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20tc:\x20'+'vec2f)\x20->\x20'+'TexLerpUnp'+'ackResult\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'tc_next\x20=\x20'+'tc\x20+\x20vec2f'+'(uniform.g'+'raphSample'+'Size);\x0a\x20\x20\x20'+'\x20let\x20a\x20=\x20t'+'extureSamp'+'leLevel(te'+'x,\x20texSamp'+'ler,\x20tc,\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20tex'+'tureSample'+'Level(tex,'+'\x20texSample'+'r,\x20tc_next'+',\x200.0);\x0a\x20\x20'+'\x20\x20let\x20c\x20=\x20'+'fract(tc.x'+'\x20*\x20uniform'+'.graphNumS'+'amples);\x0a\x0a'+'\x20\x20\x20\x20let\x20un'+'packedA\x20=\x20'+'unpack3NFl'+'oats(a.w);'+'\x0a\x20\x20\x20\x20let\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20let\x20'+'w_out\x20=\x20mi'+'x(unpacked'+'A,\x20unpacke'+'dB,\x20c);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'TexLerpUnp'+'ackResult('+'mix(a.xyz,'+'\x20b.xyz,\x20c)'+',\x20w_out);\x0a'+'}\x0a\x0aconst\x20H'+'ASHSCALE4:'+'\x20vec4f\x20=\x20v'+'ec4f(1031.'+'0,\x200.1030,'+'\x200.0973,\x200'+'.1099);\x0afn'+'\x20hash41(p:'+'\x20f32)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20var\x20p4\x20=\x20'+'fract(vec4'+'f(p)\x20*\x20HAS'+('HSCALE4);\x0a'+'\x20\x20\x20\x20p4\x20=\x20p'+'4\x20+\x20dot(p4'+',\x20p4.wzxy\x20'+'+\x2019.19);\x0a'+'\x20\x20\x20\x20return'+'\x20fract(vec'+'4f((p4.x\x20+'+'\x20p4.y)*p4.'+'z,\x20(p4.x\x20+'+'\x20p4.z)*p4.'+'y,\x20(p4.y\x20+'+'\x20p4.z)*p4.'+'w,\x20(p4.z\x20+'+'\x20p4.w)*p4.'+'x));\x0a}\x0a\x0a@f'+'ragment\x0afn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20if\x20(pc'+'Position.x'+'\x20>\x20uniform'+'.numPartic'+'les)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20disca'+'rd;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20o'+'utput;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20re'+'adInput(in'+'put.vUv0.x'+');\x0a\x20\x20\x20\x20vis'+'Mode\x20=\x20sel'+'ect(-1.0,\x20'+'1.0,\x20inSho'+'w);\x0a\x0a\x20\x20\x20\x20l'+'et\x20rndFact'+'or\x20=\x20hash4'+'1(pcPositi'+'on.x\x20+\x20uni'+'form.seed)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20particleR'+'ate\x20=\x20unif'+'orm.rate\x20+'+'\x20uniform.r'+'ateDiv\x20*\x20r'+'ndFactor.x'+';\x0a\x0a\x20\x20\x20\x20out'+'Life\x20=\x20inL'+'ife\x20+\x20unif'+'orm.delta;'+'\x0a\x20\x20\x20\x20let\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20uniform'+'.lifetime,'+'\x200.0,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20lerpResul'+'t0\x20=\x20tex1D'+'lod_lerp(i'+'nternalTex'+'0,\x20interna'+'lTex0Sampl'+'er,\x20vec2f('+'nlife,\x200.0'+'));\x0a\x20\x20\x20\x20va'+'r\x20localVel'+'ocity\x20=\x20le'+'rpResult0.'+'result;\x0a\x20\x20'+'\x20\x20let\x20loca'+'lVelocityD'+'iv\x20=\x20lerpR'+'esult0.unp'+'acked;\x0a\x0a\x20\x20'+'\x20\x20let\x20lerp'+'Result1\x20=\x20'+'tex1Dlod_l'+'erp(intern'+'alTex1,\x20in'+'ternalTex1'+'Sampler,\x20v'+'ec2f(nlife'+',\x200.0));\x0a\x20'+'\x20\x20\x20var\x20vel'+'ocity\x20=\x20le'+'rpResult1.'+'result;\x0a\x20\x20'+'\x20\x20let\x20velo'+'cityDiv\x20=\x20'+'lerpResult')+('1.unpacked'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20lerpResul'+'t2\x20=\x20tex1D'+'lod_lerp(i'+'nternalTex'+'2,\x20interna'+'lTex2Sampl'+'er,\x20vec2f('+'nlife,\x200.0'+'));\x0a\x20\x20\x20\x20le'+'t\x20params\x20='+'\x20lerpResul'+'t2.result;'+'\x0a\x20\x20\x20\x20let\x20p'+'aramDiv\x20=\x20'+'lerpResult'+'2.unpacked'+';\x0a\x20\x20\x20\x20var\x20'+'rotSpeed\x20='+'\x20params.x;'+'\x0a\x20\x20\x20\x20let\x20r'+'otSpeedDiv'+'\x20=\x20paramDi'+'v.y;\x0a\x0a\x20\x20\x20\x20'+'let\x20lerpRe'+'sult3\x20=\x20te'+'x1Dlod_ler'+'p(internal'+'Tex3,\x20inte'+'rnalTex3Sa'+'mpler,\x20vec'+'2f(nlife,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20let\x20radia'+'lParams\x20=\x20'+'lerpResult'+'3.result;\x0a'+'\x20\x20\x20\x20let\x20ra'+'dialParamD'+'iv\x20=\x20lerpR'+'esult3.unp'+'acked;\x0a\x20\x20\x20'+'\x20let\x20radia'+'lSpeed\x20=\x20r'+'adialParam'+'s.x;\x0a\x20\x20\x20\x20l'+'et\x20radialS'+'peedDiv\x20=\x20'+'radialPara'+'mDiv.y;\x0a\x0a\x20'+'\x20\x20\x20let\x20res'+'pawn\x20=\x20inL'+'ife\x20<=\x200.0'+'\x20||\x20outLif'+'e\x20>=\x20unifo'+'rm.lifetim'+'e;\x0a\x20\x20\x20\x20inP'+'os\x20=\x20selec'+'t(inPos,\x20c'+'alcSpawnPo'+'sition(rnd'+'Factor.xyz'+',\x20rndFacto'+'r.x),\x20resp'+'awn);\x0a\x20\x20\x20\x20'+'inAngle\x20=\x20'+'select(inA'+'ngle,\x20mix('+'uniform.st'+'artAngle,\x20'+'uniform.st'+'artAngle2,'+'\x20rndFactor'+'.x),\x20respa'+'wn);\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20radialVe'+'l:\x20vec3f\x20='+'\x20inPos\x20-\x20u'+'niform.emi'+'tterPos;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20radialVel'+':\x20vec3f\x20=\x20'+'inPos;\x0a\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20=\x20select'+'(vec3f(0.0'+'),\x20radialS'+'peed\x20*\x20nor'+'malize(rad'+'ialVel),\x20d'+'ot(radialV'+'el,\x20radial'+'Vel)\x20>\x201.0')+('E-8);\x0a\x20\x20\x20\x20'+'radialVel\x20'+'=\x20radialVe'+'l\x20+\x20(radia'+'lSpeedDiv\x20'+'*\x20vec3f(2.'+'0)\x20-\x20vec3f'+'(1.0))\x20*\x20u'+'niform.rad'+'ialSpeedDi'+'vMult\x20*\x20rn'+'dFactor.xy'+'z;\x0a\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20=\x20localV'+'elocity\x20+\x20'+'(localVelo'+'cityDiv\x20*\x20'+'vec3f(2.0)'+'\x20-\x20vec3f(1'+'.0))\x20*\x20uni'+'form.local'+'VelocityDi'+'vMult\x20*\x20rn'+'dFactor.xy'+'z;\x0a\x20\x20\x20\x20vel'+'ocity\x20=\x20ve'+'locity\x20+\x20('+'velocityDi'+'v\x20*\x20vec3f('+'2.0)\x20-\x20vec'+'3f(1.0))\x20*'+'\x20uniform.v'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20rotS'+'peed\x20=\x20rot'+'Speed\x20+\x20(r'+'otSpeedDiv'+'\x20*\x202.0\x20-\x201'+'.0)\x20*\x20unif'+'orm.rotSpe'+'edDivMult\x20'+'*\x20rndFacto'+'r.y;\x0a\x0a\x20\x20\x20\x20'+'addInitial'+'Velocity(&'+'localVeloc'+'ity,\x20rndFa'+'ctor.xyz);'+'\x0a\x0a\x20\x20\x20\x20#ifn'+'def\x20LOCAL_'+'SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20outVel'+'\x20=\x20uniform'+'.emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20un'+'iform.emit'+'terScale;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tVel\x20=\x20(lo'+'calVelocit'+'y\x20+\x20radial'+'Vel)\x20/\x20uni'+'form.emitt'+'erScale\x20+\x20'+'uniform.em'+'itterMatri'+'xInv\x20*\x20vel'+'ocity;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20outPos\x20'+'=\x20inPos\x20+\x20'+'outVel\x20*\x20u'+'niform.del'+'ta;\x0a\x20\x20\x20\x20ou'+'tAngle\x20=\x20i'+'nAngle\x20+\x20r'+'otSpeed\x20*\x20'+'uniform.de'+'lta;\x0a'),cO='\x0a\x20\x20\x20\x20let\x20r'+'otationRes'+'ult\x20=\x20rota'+'teWithMatr'+'ix(quadXY,'+'\x20inAngle);'+'\x0a\x20\x20\x20\x20let\x20r'+'otatedQuad'+'XY\x20=\x20rotat'+'ionResult.'+'rotatedVec'+';\x0a\x20\x20\x20\x20rotM'+'atrix\x20=\x20ro'+'tationResu'+'lt.matrix;'+'\x0a\x20\x20\x20\x20var\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20rotated'+'QuadXY);\x0a',hO='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'=\x20rgb\x20*\x20sa'+'turate(gam'+'maCorrectI'+'nput(max(a'+',\x200.0)));\x0a'+'\x20\x20\x20\x20if\x20((r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+')\x20<\x200.0000'+'01)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20discar'+'d;\x0a\x20\x20\x20\x20}\x20\x20'+'\x20\x20\x0a',dO='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3f'+'(1.0),\x20rgb'+',\x20a);\x0a\x20\x20\x20\x20'+'if\x20((rgb.r'+'\x20+\x20rgb.g\x20+'+'\x20rgb.b)\x20>\x20'+'2.99)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20disc'+'ard;\x0a\x20\x20\x20\x20}'+'\x0a',fO='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'iscard;\x0a\x20\x20'+'\x20\x20}\x0a',uO='\x0aattribute'+'\x20particle_'+'vertexData'+':\x20vec4f;\x20\x20'+'\x20//\x20XYZ\x20=\x20'+'world\x20pos,'+'\x20W\x20=\x20life\x0a'+'attribute\x20'+'particle_v'+'ertexData2'+':\x20vec4f;\x20\x20'+'//\x20X\x20=\x20ang'+'le,\x20Y\x20=\x20sc'+'ale,\x20Z\x20=\x20a'+'lpha,\x20W\x20=\x20'+'velocity.x'+'\x0aattribute'+'\x20particle_'+'vertexData'+'3:\x20vec4f;\x20'+'\x20//\x20XYZ\x20=\x20'+'particle\x20l'+'ocal\x20pos,\x20'+'W\x20=\x20veloci'+'ty.y\x0aattri'+'bute\x20parti'+'cle_vertex'+'Data4:\x20f32'+';\x20\x20\x20\x20//\x20pa'+'rticle\x20id\x0a'+'\x0a//\x20type\x20d'+'epends\x20on\x20'+'useMesh\x20pr'+'operty.\x20St'+'art\x20with\x20X'+'\x20=\x20velocit'+'y.z,\x20Y\x20=\x20p'+'article\x20ID'+'\x20and\x20for\x20m'+'esh\x20partic'+'les\x20procee'+'ds\x20with\x20Z\x20'+'=\x20mesh\x20UV.'+'x,\x20W\x20=\x20mes'+'h\x20UV.y\x0a#if'+'ndef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20at'+'tribute\x20pa'+'rticle_ver'+'texData5:\x20'+'vec2f;\x0a#el'+'se\x0a\x20\x20\x20\x20att'+'ribute\x20par'+'ticle_vert'+'exData5:\x20v'+'ec4f;\x0a#end'+'if\x0a\x0aunifor'+'m\x20matrix_v'+'iewProject'+'ion:\x20mat4x'+'4f;\x0aunifor'+'m\x20matrix_m'+'odel:\x20mat4'+'x4f;\x0a\x0a#ifn'+'def\x20VIEWMA'+'TRIX\x0a\x20\x20\x20\x20#'+'define\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20uniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0a#endif\x0a\x0a'+'uniform\x20ma'+'trix_norma'+'l:\x20mat3x3f'+';\x0auniform\x20'+'matrix_vie'+'wInverse:\x20'+'mat4x4f;\x0a\x0a'+'uniform\x20nu'+'mParticles'+':\x20f32;\x0auni'+'form\x20lifet'+'ime:\x20f32;\x0a'+'uniform\x20st'+'retch:\x20f32'+';\x0auniform\x20'+'seed:\x20f32;'+'\x0auniform\x20w'+'rapBounds:'+'\x20vec3f;\x0aun'+'iform\x20emit'+'terScale:\x20'+'vec3f;\x0auni'+'form\x20faceT'+'angent:\x20ve'+'c3f;\x0aunifo'+'rm\x20faceBin'+'orm:\x20vec3f'+';\x0a\x0a#ifdef\x20'+('PARTICLE_G'+'PU\x0a\x20\x20\x20\x20var'+'\x20internalT'+'ex0:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20var\x20'+'internalTe'+'x0Sampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20var\x20in'+'ternalTex1'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20int'+'ernalTex1S'+'ampler:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20var\x20inter'+'nalTex2:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'var\x20intern'+'alTex2Samp'+'ler:\x20sampl'+'er;\x0a#endif'+'\x0auniform\x20e'+'mitterPos:'+'\x20vec3f;\x0a\x0av'+'arying\x20tex'+'CoordsAlph'+'aLife:\x20vec'+'4f;\x0a\x0astruc'+'t\x20RotateRe'+'sult\x20{\x0a\x20\x20\x20'+'\x20rotatedVe'+'c:\x20vec2f,\x0a'+'\x20\x20\x20\x20matrix'+':\x20mat2x2f\x0a'+'}\x0a\x0afn\x20rota'+'teWithMatr'+'ix(quadXY:'+'\x20vec2f,\x20pR'+'otation:\x20f'+'32)\x20->\x20Rot'+'ateResult\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'c\x20=\x20cos(pR'+'otation);\x0a'+'\x20\x20\x20\x20let\x20s\x20'+'=\x20sin(pRot'+'ation);\x0a\x20\x20'+'\x20\x20let\x20m\x20=\x20'+'mat2x2f(ve'+'c2f(c,\x20s),'+'\x20vec2f(-s,'+'\x20c));\x0a\x20\x20\x20\x20'+'return\x20Rot'+'ateResult('+'m\x20*\x20quadXY'+',\x20m);\x0a}\x0a\x0a\x0a'+'fn\x20billboa'+'rd(Instanc'+'eCoords:\x20v'+'ec3f,\x20quad'+'XY:\x20vec2f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'pos\x20=\x20-uni'+'form.matri'+'x_viewInve'+'rse[0].xyz'+'\x20*\x20quadXY.'+'x\x20+\x20-unifo'+'rm.matrix_'+'viewInvers'+'e[1].xyz\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20retur'+'n\x20pos;\x0a}\x0a\x0a'+'fn\x20customF'+'ace(Instan'+'ceCoords:\x20'+'vec3f,\x20qua'+'dXY:\x20vec2f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20pos\x20=\x20uni'+'form.faceT'+'angent\x20*\x20q'+'uadXY.x\x20+\x20'+'uniform.fa'+'ceBinorm\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20retur'+'n\x20pos;\x0a}\x0a\x0a'+'fn\x20safeNor'+'malize(v:\x20'+'vec2f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20let\x20l\x20=\x20')+('length(v);'+'\x0a\x20\x20\x20\x20retur'+'n\x20select(v'+',\x20v\x20/\x20l,\x20l'+'\x20>\x201e-06);'+'\x0a}\x0a\x0a@verte'+'x\x0afn\x20verte'+'xMain(inpu'+'t:\x20VertexI'+'nput)\x20->\x20V'+'ertexOutpu'+'t\x20{\x0a\x20\x20\x20\x20va'+'r\x20output:\x20'+'VertexOutp'+'ut;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20particl'+'ePos\x20=\x20inp'+'ut.particl'+'e_vertexDa'+'ta.xyz;\x0a\x20\x20'+'\x20\x20let\x20inPo'+'s\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20let\x20vertP'+'os\x20=\x20input'+'.particle_'+'vertexData'+'3.xyz;\x0a\x20\x20\x20'+'\x20var\x20inVel'+'\x20=\x20vec3f(i'+'nput.parti'+'cle_vertex'+'Data2.w,\x20i'+'nput.parti'+'cle_vertex'+'Data3.w,\x20i'+'nput.parti'+'cle_vertex'+'Data5.x);\x0a'+'\x0a\x20\x20\x20\x20let\x20i'+'d\x20=\x20floor('+'input.part'+'icle_verte'+'xData4);\x0a\x20'+'\x20\x20\x20let\x20rnd'+'Factor\x20=\x20f'+'ract(sin(i'+'d\x20+\x201.0\x20+\x20'+'uniform.se'+'ed));\x0a\x20\x20\x20\x20'+'let\x20rndFac'+'tor3\x20=\x20vec'+'3f(rndFact'+'or,\x20fract('+'rndFactor*'+'10.0),\x20fra'+'ct(rndFact'+'or*100.0))'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20LOCAL_'+'SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20mo'+'delRotatio'+'n\x20=\x20mat3x3'+'f(uniform.'+'matrix_mod'+'el[0].xyz,'+'\x20uniform.m'+'atrix_mode'+'l[1].xyz,\x20'+'uniform.ma'+'trix_model'+'[2].xyz);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20in'+'Vel\x20=\x20mode'+'lRotation\x20'+'*\x20inVel;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20let\x20ve'+'locityV\x20=\x20'+'safeNormal'+'ize((mat3x'+'3f(uniform'+'.matrix_vi'+'ew[0].xyz,'+'\x20uniform.m'+'atrix_view'+'[1].xyz,\x20u'+'niform.mat'+'rix_view[2'+'].xyz)\x20*\x20i'+'nVel).xy);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'quadXY\x20=\x20v'+'ertPos.xy;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20USE_MES'+'H\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.tex'+'CoordsAlph')+('aLife\x20=\x20ve'+'c4f(input.'+'particle_v'+'ertexData5'+'.zw,\x20input'+'.particle_'+'vertexData'+'2.z,\x20input'+'.particle_'+'vertexData'+'.w);\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'texCoordsA'+'lphaLife\x20='+'\x20vec4f(qua'+'dXY\x20*\x20-0.5'+'\x20+\x200.5,\x20in'+'put.partic'+'le_vertexD'+'ata2.z,\x20in'+'put.partic'+'le_vertexD'+'ata.w);\x0a\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20var\x20rot'+'Matrix:\x20ma'+'t2x2f;\x0a\x0a\x20\x20'+'\x20\x20var\x20inAn'+'gle\x20=\x20inpu'+'t.particle'+'_vertexDat'+'a2.x;\x0a\x20\x20\x20\x20'+'var\x20partic'+'lePosMoved'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20meshLoc'+'alPos\x20=\x20in'+'put.partic'+'le_vertexD'+'ata3.xyz;\x0a'),pO='\x0a\x20\x20\x20\x20local'+'Pos\x20=\x20loca'+'lPos\x20*\x20inp'+'ut.particl'+'e_vertexDa'+'ta2.y\x20*\x20un'+'iform.emit'+'terScale;\x0a'+'\x20\x20\x20\x20localP'+'os\x20=\x20local'+'Pos\x20+\x20part'+'iclePos;\x0a\x0a'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20uniform.'+'matrix_vie'+'wProjectio'+'n\x20*\x20vec4f('+'localPos,\x20'+'1.0);\x0a',mO='\x0a\x20\x20\x20\x20let\x20r'+'otationRes'+'ult\x20=\x20rota'+'teWithMatr'+'ix(quadXY,'+'\x20inAngle);'+'\x0a\x20\x20\x20\x20let\x20r'+'otatedQuad'+'XY\x20=\x20rotat'+'ionResult.'+'rotatedVec'+';\x0a\x20\x20\x20\x20rotM'+'atrix\x20=\x20ro'+'tationResu'+'lt.matrix;'+'\x0a\x20\x20\x20\x20var\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20rotate'+'dQuadXY);\x0a',_O='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20out'+'put.color\x20'+'=\x20vec4f(rg'+'b,\x20a);\x0a\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a}\x0a',gO='\x0a\x20\x20\x20\x20local'+'Pos\x20=\x20loca'+'lPos\x20*\x20sca'+'le\x20*\x20unifo'+'rm.emitter'+'Scale;\x0a\x20\x20\x20'+'\x20localPos\x20'+'=\x20localPos'+'\x20+\x20particl'+'ePos;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20SC'+'REEN_SPACE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(localPo'+'s.x,\x20local'+'Pos.y,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.positio'+'n\x20=\x20unifor'+'m.matrix_v'+'iewProject'+'ion\x20*\x20vec4'+'f(localPos'+'.xyz,\x201.0)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a',SO='\x0a\x20\x20\x20\x20var\x20n'+'egNormal:\x20'+'vec3f\x20=\x20no'+'rmal\x20*\x200.5'+'\x20+\x200.5;\x0a\x20\x20'+'\x20\x20var\x20posN'+'ormal:\x20vec'+'3f\x20=\x20-norm'+'al\x20*\x200.5\x20+'+'\x200.5;\x0a\x20\x20\x20\x20'+'negNormal\x20'+'=\x20negNorma'+'l\x20*\x20negNor'+'mal;\x0a\x20\x20\x20\x20p'+'osNormal\x20='+'\x20posNormal'+'\x20*\x20posNorm'+'al;\x0a',yO='\x0aattribute'+'\x20particle_'+'vertexData'+':\x20vec4f;\x20/'+'/\x20XYZ\x20=\x20pa'+'rticle\x20pos'+'ition,\x20W\x20='+'\x20particle\x20'+'ID\x20+\x20rando'+'m\x20factor\x0a#'+'if\x20defined'+'(USE_MESH)'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(USE'+'_MESH_UV)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20at'+'tribute\x20pa'+'rticle_uv:'+'\x20vec2f;\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'esh\x20UV\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var<p'+'rivate>\x20pa'+'rticle_uv:'+'\x20vec2f\x20=\x20v'+'ec2f(0.0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20matrix_'+'viewProjec'+'tion:\x20mat4'+'x4f;\x0aunifo'+'rm\x20matrix_'+'model:\x20mat'+'4x4f;\x0aunif'+'orm\x20matrix'+'_normal:\x20m'+'at3x3f;\x0aun'+'iform\x20matr'+'ix_viewInv'+'erse:\x20mat4'+'x4f;\x0a\x0a#ifn'+'def\x20VIEWMA'+'TRIX\x0a\x20\x20\x20\x20#'+'define\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20uniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0a#endif\x0a\x0a'+'uniform\x20nu'+'mParticles'+':\x20f32;\x0auni'+'form\x20numPa'+'rticlesPot'+':\x20f32;\x0auni'+'form\x20graph'+'SampleSize'+':\x20f32;\x0auni'+'form\x20graph'+'NumSamples'+':\x20f32;\x0auni'+'form\x20stret'+'ch:\x20f32;\x0au'+'niform\x20wra'+'pBounds:\x20v'+'ec3f;\x0aunif'+'orm\x20emitte'+'rScale:\x20ve'+'c3f;\x0aunifo'+'rm\x20emitter'+'Pos:\x20vec3f'+';\x0auniform\x20'+'faceTangen'+'t:\x20vec3f;\x0a'+'uniform\x20fa'+'ceBinorm:\x20'+'vec3f;\x0auni'+'form\x20rate:'+'\x20f32;\x0aunif'+'orm\x20rateDi'+'v:\x20f32;\x0aun'+'iform\x20life'+'time:\x20f32;'+'\x0auniform\x20d'+'eltaRandom'+'nessStatic'+':\x20f32;\x0auni'+'form\x20scale'+'DivMult:\x20f'+'32;\x0aunifor'+'m\x20alphaDiv'+'Mult:\x20f32;'+'\x0auniform\x20s'+'eed:\x20f32;\x0a'+'uniform\x20de'+'lta:\x20f32;\x0a'+'\x0avar\x20parti'+('cleTexOUT:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20particle'+'TexOUTSamp'+'ler:\x20sampl'+'er;\x0avar\x20pa'+'rticleTexI'+'N:\x20texture'+'_2d<f32>;\x0a'+'var\x20partic'+'leTexINSam'+'pler:\x20samp'+'ler;\x0a\x0a#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x20\x20\x20\x20'+'var\x20intern'+'alTex0:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20interna'+'lTex0Sampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20var'+'\x20internalT'+'ex1:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20var\x20'+'internalTe'+'x1Sampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20var\x20in'+'ternalTex2'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20int'+'ernalTex2S'+'ampler:\x20sa'+'mpler;\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20camera_'+'params:\x20ve'+'c4f;\x0a#endi'+'f\x0a\x0avarying'+'\x20texCoords'+'AlphaLife:'+'\x20vec4f;\x0a\x0av'+'ar<private'+'>\x20inPos:\x20v'+'ec3f;\x0avar<'+'private>\x20i'+'nVel:\x20vec3'+'f;\x0avar<pri'+'vate>\x20inAn'+'gle:\x20f32;\x0a'+'var<privat'+'e>\x20inShow:'+'\x20bool;\x0avar'+'<private>\x20'+'inLife:\x20f3'+'2;\x0a'),vO='\x0a\x20\x20\x20\x20var\x20n'+'egNormal:\x20'+'vec3f\x20=\x20ma'+'x(normal,\x20'+'vec3(0.0))'+';\x0a\x20\x20\x20\x20var\x20'+'posNormal:'+'\x20vec3f\x20=\x20m'+'ax(-normal'+',\x20vec3(0.0'+'));\x0a',xO='\x0a\x20\x20\x20\x20let\x20l'+'ight:\x20vec3'+'f\x20=\x20negNor'+'mal.x\x20*\x20un'+'iform.ligh'+'tCube[0]\x20+'+'\x20posNormal'+'.x\x20*\x20unifo'+'rm.lightCu'+'be[1]\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20negNormal'+'.y\x20*\x20unifo'+'rm.lightCu'+'be[2]\x20+\x20po'+'sNormal.y\x20'+'*\x20uniform.'+'lightCube['+'3]\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ne'+'gNormal.z\x20'+'*\x20uniform.'+'lightCube['+'4]\x20+\x20posNo'+'rmal.z\x20*\x20u'+'niform.lig'+'htCube[5];'+'\x0a\x0a\x20\x20\x20\x20rgb\x20'+'=\x20rgb\x20*\x20li'+'ght;\x0a',TO='\x0aparticleP'+'os\x20=\x20(unif'+'orm.matrix'+'_model\x20*\x20v'+'ec4f(parti'+'clePos,\x201.'+'0)).xyz;\x0a',wO='\x0avar\x20local'+'Pos\x20=\x20mesh'+'LocalPos;\x0a'+'let\x20rotRes'+'ultXY\x20=\x20ro'+'tateWithMa'+'trix(local'+'Pos.xy,\x20in'+'Angle);\x0alo'+'calPos\x20=\x20v'+'ec3f(rotRe'+'sultXY.rot'+'atedVec,\x20l'+'ocalPos.z)'+';\x0arotMatri'+'x\x20=\x20rotRes'+'ultXY.matr'+'ix;\x0a\x0alet\x20r'+'otResultYZ'+'\x20=\x20rotateW'+'ithMatrix('+'localPos.y'+'z,\x20inAngle'+');\x0alocalPo'+'s\x20=\x20vec3f('+'localPos.x'+',\x20rotResul'+'tYZ.rotate'+'dVec);\x0arot'+'Matrix\x20=\x20r'+'otResultYZ'+'.matrix;\x0a\x0a'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',EO='\x0aoutput.No'+'rmal\x20=\x20nor'+'malize(loc'+'alPos\x20+\x20un'+'iform.matr'+'ix_viewInv'+'erse[2].xy'+'z);\x0a',bO='\x0a\x20\x20\x20\x20let\x20s'+'ampledNorm'+'al:\x20vec4f\x20'+'=\x20textureS'+'ample(norm'+'alMap,\x20nor'+'malMapSamp'+'ler,\x20vec2f'+'(input.tex'+'CoordsAlph'+'aLife.x,\x201'+'.0\x20-\x20input'+'.texCoords'+'AlphaLife.'+'y));\x0a\x20\x20\x20\x20l'+'et\x20normalM'+'ap:\x20vec3f\x20'+'=\x20normaliz'+'e(sampledN'+'ormal.xyz\x20'+'*\x202.0\x20-\x201.'+'0);\x0a\x0a\x20\x20\x20\x20l'+'et\x20Particl'+'eMat\x20=\x20mat'+'3x3<f32>(P'+'articleMat'+'0,\x20Particl'+'eMat1,\x20Par'+'ticleMat2)'+';\x0a\x20\x20\x20\x20let\x20'+'normal:\x20ve'+'c3f\x20=\x20Part'+'icleMat\x20*\x20'+'normalMap;'+'\x0a',AO='\x0a\x20\x20\x20\x20//\x20no'+'t\x20the\x20fast'+'est\x20way,\x20b'+'ut\x20easier\x20'+'to\x20plug\x20in'+';\x20TODO:\x20cr'+'eate\x20rot\x20m'+'atrix\x20righ'+'t\x20from\x20vec'+'tors\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20a'+'tan2(veloc'+'ityV.x,\x20ve'+'locityV.y)'+';\x0a',CO='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'InitPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'PACK8\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leInputRgb'+'a8PS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leOutputRg'+'ba8PS\x22\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleInputFl'+'oatPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleOutputF'+'loatPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20EMITTERSH'+'APE_BOX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rAABBPS\x22\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticleUpdat'+'erSpherePS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terStartPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20RESPAW'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleUp'+'daterRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'O_RESPAWN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terNoRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20O'+'N_STOP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'OnStopPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rEndPS\x22\x0a',PO='\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20Normal:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20varying\x20'+'ParticleMa'+'t0:\x20vec3f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20ParticleM'+'at1:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20Particle'+'Mat2:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20light'+'Cube:\x20arra'+'y<vec3f,\x206'+'>;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20SOFT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vDe'+'pth:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22sc'+'reenDepthP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22fogPS\x22\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20==\x20MAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20normalM'+'ap:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20normalM'+'apSampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'iclePS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_softPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'NORMAL\x20==\x20'+'VERTEX\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20n'+'ormal:\x20vec'+'3f\x20=\x20Norma'+'l;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20NORMAL\x20'+'==\x20MAP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_normal'+'MapPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20!=\x20NON'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20HAL'+'F_LAMBERT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_halflambe'+'rtPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_lambertPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+('#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_light'+'ingPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20BLE'+'ND\x20==\x20NORM'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendNorma'+'lPS\x22\x0a\x20\x20\x20\x20#'+'elif\x20BLEND'+'\x20==\x20ADDITI'+'VE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendAddPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20BLEND\x20=='+'\x20MULTIPLIC'+'ATIVE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'le_blendMu'+'ltiplyPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_endPS'+'\x22\x0a'),MO='\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20anim'+'TexTilesPa'+'rams:\x20vec2'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20a'+'nimTexPara'+'ms:\x20vec4f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20ani'+'mTexIndexP'+'arams:\x20vec'+'2f;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20==\x20MAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20Partic'+'leMat0:\x20ve'+'c3f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20ParticleM'+'at1:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20Pa'+'rticleMat2'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20==\x20V'+'ERTEX\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20Normal:\x20'+'vec3f;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vDepth:\x20f'+'32;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20PAR'+'TICLE_GPU\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_in'+'itVS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20PACK8\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleIn'+'putRgba8PS'+'\x22\x20\x20\x20\x20\x20//\x20w'+'hy\x20are\x20the'+'se\x20PS\x20and\x20'+'not\x20VS?\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x20\x22parti'+'cleInputFl'+'oatPS\x22\x20\x20\x20\x20'+'//\x20why\x20are'+'\x20these\x20PS\x20'+'and\x20not\x20VS'+'?\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20SOFT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'screenDept'+'hPS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'articleVS\x22'+'\x0a\x0a\x20\x20\x20\x20#els'+'e\x20//\x20PARTI'+'CLE_CPU\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SOFT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22screenDep'+'thPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_c'+'puVS\x22\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LOCAL_SPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_l'+('ocalShiftV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20ANIM'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20A'+'NIMTEX_LOO'+'P\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leAnimFram'+'eLoopVS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleAnimFra'+'meClampVS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leAnimTexV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20wrap\x20is\x20'+'not\x20used\x20o'+'n\x20CPU,\x20it\x20'+'was\x20commen'+'ted\x20out.\x20T'+'ODO:\x20inves'+'tigate\x20why'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PARTICLE'+'_GPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'WRAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_wrap'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20ALIGN_TO'+'_MOTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_point'+'AlongVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20USE_MESH'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_me'+'shVS\x22\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CUSTOM_FA'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_custom'+'FaceVS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'le_billboa'+'rdVS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20NORMAL\x20=='+'\x20VERTEX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_norma'+'lVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20NORMA'+'L\x20==\x20MAP\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_TBNV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STRE'+'TCH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_stretchVS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PART'+'ICLE_GPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_endV')+('S\x22\x0a\x20\x20\x20\x20#el'+'se\x20//\x20PART'+'ICLE_CPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_cpu_'+'endVS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_softVS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a}\x0a'),DO='\x0a\x20\x20\x20\x20var\x20d'+'epth:\x20f32\x20'+'=\x20getLinea'+'rScreenDep'+'thFrag();\x0a'+'\x20\x20\x20\x20var\x20pa'+'rticleDept'+'h:\x20f32\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20var\x20depth'+'Diff:\x20f32\x20'+'=\x20saturate'+'(abs(parti'+'cleDepth\x20-'+'\x20depth)\x20*\x20'+'uniform.so'+'ftening);\x0a'+'\x20\x20\x20\x20a\x20=\x20a\x20'+'*\x20depthDif'+'f;\x0a',IO='\x0a\x20\x20\x20\x20outpu'+'t.vDepth\x20='+'\x20getLinear'+'Depth(loca'+'lPos);\x0a',LO='\x0a\x20\x20\x20\x20let\x20m'+'oveDir:\x20ve'+'c3f\x20=\x20inVe'+'l\x20*\x20unifor'+'m.stretch;'+'\x0a\x20\x20\x20\x20var\x20p'+'osPrev:\x20ve'+'c3f\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20=\x20posPrev'+'\x20+\x20particl'+'ePosMoved;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'viewRotati'+'onTemp:\x20ma'+'t3x3f\x20=\x20ma'+'t3x3f(unif'+'orm.matrix'+'_view[0].x'+'yz,\x20unifor'+'m.matrix_v'+'iew[1].xyz'+',\x20uniform.'+'matrix_vie'+'w[2].xyz);'+'\x0a\x20\x20\x20\x20let\x20c'+'enterToVer'+'texV:\x20vec2'+'f\x20=\x20normal'+'ize((viewR'+'otationTem'+'p\x20*\x20localP'+'os).xy);\x0a\x0a'+'\x20\x20\x20\x20let\x20in'+'terpolatio'+'n:\x20f32\x20=\x20d'+'ot(-veloci'+'tyV,\x20cente'+'rToVertexV'+')\x20*\x200.5\x20+\x20'+'0.5;\x0a\x0a\x20\x20\x20\x20'+'particlePo'+'s\x20=\x20mix(pa'+'rticlePos,'+'\x20posPrev,\x20'+'interpolat'+'ion);\x0a',RO='\x0a\x20\x20\x20\x20let\x20r'+'ot3\x20=\x20mat3'+'x3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3f(r'+'otMatrix[0'+'][0],\x20rotM'+'atrix[1][0'+'],\x200.0),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(rotMatr'+'ix[0][1],\x20'+'rotMatrix['+'1][1],\x200.0'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3f(0.0'+',\x200.0,\x201.0'+')\x0a\x20\x20\x20\x20);\x0a\x0a'+'\x20\x20\x20\x20let\x20vi'+'ewBasis\x20=\x20'+'mat3x3f(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20-un'+'iform.matr'+'ix_viewInv'+'erse[0].xy'+'z,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20-uniform.'+'matrix_vie'+'wInverse[1'+'].xyz,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.matrix_'+'viewInvers'+'e[2].xyz\x0a\x20'+'\x20\x20\x20);\x0a\x0a\x20\x20\x20'+'\x20let\x20tempM'+'at\x20=\x20viewB'+'asis\x20*\x20rot'+'3;\x0a\x0a\x20\x20\x20\x20//'+'\x20WGSL\x20does'+'\x20not\x20suppo'+'rt\x20matrix\x20'+'varyings,\x20'+'decompose\x20'+'it\x20to\x20vec3'+'s\x0a\x20\x20\x20\x20outp'+'ut.Particl'+'eMat0\x20=\x20te'+'mpMat[0];\x0a'+'\x20\x20\x20\x20output'+'.ParticleM'+'at1\x20=\x20temp'+'Mat[1];\x0a\x20\x20'+'\x20\x20output.P'+'articleMat'+'2\x20=\x20tempMa'+'t[2];\x0a',OO='\x0a\x20\x20\x20\x20let\x20o'+'rigParticl'+'ePos:\x20vec3'+'f\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20particleP'+'os\x20=\x20parti'+'clePos\x20-\x20u'+'niform.mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20=\x20(par'+'ticlePos\x20%'+'\x20uniform.w'+'rapBounds)'+'\x20-\x20uniform'+'.wrapBound'+'s\x20*\x200.5;\x0a\x20'+'\x20\x20\x20particl'+'ePos\x20=\x20par'+'ticlePos\x20+'+'\x20uniform.m'+'atrix_mode'+'l[3].xyz;\x0a'+'\x20\x20\x20\x20partic'+'lePosMoved'+'\x20=\x20particl'+'ePos\x20-\x20ori'+'gParticleP'+'os;\x0a',FO={'particlePS':X3,'particleVS':q3,'particleAnimFrameClampVS':j3,'particleAnimFrameLoopVS':Y3,'particleAnimTexVS':K3,'particleInputFloatPS':Z3,'particleInputRgba8PS':Q3,'particleOutputFloatPS':J3,'particleOutputRgba8PS':eO,'particleUpdaterAABBPS':tO,'particleUpdaterEndPS':sO,'particleUpdaterInitPS':iO,'particleUpdaterNoRespawnPS':rO,'particleUpdaterOnStopPS':aO,'particleUpdaterRespawnPS':nO,'particleUpdaterSpherePS':oO,'particleUpdaterStartPS':lO,'particle_billboardVS':cO,'particle_blendAddPS':hO,'particle_blendMultiplyPS':dO,'particle_blendNormalPS':fO,'particle_cpuVS':uO,'particle_cpu_endVS':pO,'particle_customFaceVS':mO,'particle_endPS':_O,'particle_endVS':gO,'particle_halflambertPS':SO,'particle_initVS':yO,'particle_lambertPS':vO,'particle_lightingPS':xO,'particle_localShiftVS':TO,'particle_meshVS':wO,'particle_normalVS':EO,'particle_normalMapPS':bO,'particle_pointAlongVS':AO,'particle_simulationPS':CO,'particle_shaderPS':PO,'particle_shaderVS':MO,'particle_softPS':DO,'particle_softVS':IO,'particle_stretchVS':LO,'particle_TBNVS':RO,'particle_wrapVS':OO},NO=['enabled','autoPlay','numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','loop','preWarm','lighting','halfLamber'+'t','intensity','depthWrite','noFog','depthSofte'+'ning','sort','blendType','stretch','alignToMot'+'ion','emitterSha'+'pe','emitterExt'+'ents','emitterExt'+'entsInner','emitterRad'+'ius','emitterRad'+'iusInner','initialVel'+'ocity','wrap','wrapBounds','localSpace','screenSpac'+'e','colorMapAs'+'set','normalMapA'+'sset','mesh','meshAsset','renderAsse'+'t','orientatio'+'n','particleNo'+'rmal','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','velocityGr'+'aph','velocityGr'+'aph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2','scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','colorMap','normalMap','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animSpeed','animLoop','layers'];class kO extends ct{constructor(_0x40b8ac){super(_0x40b8ac),this['id']='particlesy'+'stem',this['ComponentT'+'ype']=e3,this['DataType']=t3,this['schema']=NO,this['propertyTy'+'pes']={'emitterExtents':'vec3','emitterExtentsInner':'vec3','particleNormal':'vec3','wrapBounds':'vec3','localVelocityGraph':'curveset','localVelocityGraph2':'curveset','velocityGraph':'curveset','velocityGraph2':'curveset','colorGraph':'curveset','colorGraph2':'curveset','alphaGraph':'curve','alphaGraph2':'curve','rotationSpeedGraph':'curve','rotationSpeedGraph2':'curve','radialSpeedGraph':'curve','radialSpeedGraph2':'curve','scaleGraph':'curve','scaleGraph2':'curve'},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this),Pe['get'](_0x40b8ac['graphicsDe'+'vice'],Fe)['add']($3),Pe['get'](_0x40b8ac['graphicsDe'+'vice'],it)['add'](FO);}['initialize'+'ComponentD'+'ata'](_0x421c99,_0x226f21,_0x103298){const _0x402126={};_0x103298=[];const _0x152358=this['propertyTy'+'pes'];(_0x226f21['mesh']instanceof pe||typeof _0x226f21['mesh']=='number')&&(_0x226f21['meshAsset']=_0x226f21['mesh'],delete _0x226f21['mesh']);for(const _0x34c1ee in _0x226f21){if(_0x226f21['hasOwnProp'+'erty'](_0x34c1ee)&&(_0x103298['push'](_0x34c1ee),_0x402126[_0x34c1ee]=_0x226f21[_0x34c1ee]),_0x152358[_0x34c1ee]==='vec3')Array['isArray'](_0x402126[_0x34c1ee])&&(_0x402126[_0x34c1ee]=new D(_0x402126[_0x34c1ee][0x9d4+-0x1*0xf17+0x543],_0x402126[_0x34c1ee][-0x1539+-0x3ee*0x7+-0x1*-0x30bc],_0x402126[_0x34c1ee][-0x2c1+0x1*-0x1539+0x17fc]));else{if(_0x152358[_0x34c1ee]==='curve'){if(!(_0x402126[_0x34c1ee]instanceof qs)){const _0x327008=_0x402126[_0x34c1ee]['type'];_0x402126[_0x34c1ee]=new qs(_0x402126[_0x34c1ee]['keys']),_0x402126[_0x34c1ee]['type']=_0x327008;}}else{if(_0x152358[_0x34c1ee]==='curveset'&&!(_0x402126[_0x34c1ee]instanceof na)){const _0x476349=_0x402126[_0x34c1ee]['type'];_0x402126[_0x34c1ee]=new na(_0x402126[_0x34c1ee]['keys']),_0x402126[_0x34c1ee]['type']=_0x476349;}}}_0x402126['layers']&&Array['isArray'](_0x402126['layers'])&&(_0x402126['layers']=_0x402126['layers']['slice'](0x198e+-0x13e+-0x614*0x4));}super['initialize'+'ComponentD'+'ata'](_0x421c99,_0x402126,_0x103298);}['cloneCompo'+'nent'](_0x1ad4c6,_0x168d15){const _0x49c3d3=_0x1ad4c6['particlesy'+'stem']['data'],_0x1b5daf=this['schema'],_0x4c3ad8={};for(let _0x407da3=-0x1*-0x222f+-0xbc*-0x32+0x7*-0xa21,_0x22c5d9=_0x1b5daf['length'];_0x407da3<_0x22c5d9;_0x407da3++){const _0x12a40a=_0x1b5daf[_0x407da3];let _0x10f4b4=_0x49c3d3[_0x12a40a];_0x10f4b4 instanceof D||_0x10f4b4 instanceof qs||_0x10f4b4 instanceof na?(_0x10f4b4=_0x10f4b4['clone'](),_0x4c3ad8[_0x12a40a]=_0x10f4b4):_0x12a40a==='layers'?_0x4c3ad8['layers']=_0x49c3d3['layers']['slice'](0x1594+0x1a60+-0x2ff4):_0x10f4b4!=null&&(_0x4c3ad8[_0x12a40a]=_0x10f4b4);}return this['addCompone'+'nt'](_0x168d15,_0x4c3ad8);}['onUpdate'](_0x37a187){const _0x5b0e5e=this['store'],_0x4ff139=this['app']['stats']['particles'],_0xf7889e=this['app']['scene']['layers'];for(let _0x4d0d41=0x21c8+-0x8f6*0x2+-0xfdc;_0x4d0d41<_0xf7889e['layerList']['length'];_0x4d0d41++)_0xf7889e['layerList'][_0x4d0d41]['requiresLi'+'ghtCube']=!(-0x107+-0x21b3*0x1+0x22bb);for(const _0x245118 in _0x5b0e5e)if(_0x5b0e5e['hasOwnProp'+'erty'](_0x245118)){const _0x39a856=_0x5b0e5e[_0x245118],_0x5b9f30=_0x39a856['entity'],_0x3824cc=_0x39a856['data'];if(_0x3824cc['enabled']&&_0x5b9f30['enabled']){const _0x594113=_0x5b9f30['particlesy'+'stem']['emitter'];if(!(_0x594113!=null&&_0x594113['meshInstan'+'ce']['visible']))continue;if(_0x594113['lighting']){const _0x1dbd31=_0x3824cc['layers'];for(let _0x4ff3c4=-0xc24+-0x12cd+0x1*0x1ef1;_0x4ff3c4<_0x1dbd31['length'];_0x4ff3c4++){const _0x4cccda=_0xf7889e['getLayerBy'+'Id'](_0x1dbd31[_0x4ff3c4]);_0x4cccda&&(_0x4cccda['requiresLi'+'ghtCube']=!(0x1*-0x1bc4+0x6e1*-0x3+-0x3067*-0x1));}}if(!_0x3824cc['paused']){let _0x2bb5d4=-0xe5+-0x83e+0x923;if(_0x594113['simTime']+=_0x37a187,_0x594113['simTime']>=_0x594113['fixedTimeS'+'tep']&&(_0x2bb5d4=Math['floor'](_0x594113['simTime']/_0x594113['fixedTimeS'+'tep']),_0x594113['simTime']-=_0x2bb5d4*_0x594113['fixedTimeS'+'tep']),_0x2bb5d4){_0x2bb5d4=Math['min'](_0x2bb5d4,_0x594113['maxSubStep'+'s']);for(let _0x27dd8b=-0xd8c+0x2f*-0x9e+0x2a8e;_0x27dd8b<_0x2bb5d4;_0x27dd8b++)_0x594113['addTime'](_0x594113['fixedTimeS'+'tep'],!(0x21*-0x79+0x1145*0x1+-0x1ab));_0x4ff139['_updatesPe'+'rFrame']+=_0x2bb5d4,_0x4ff139['_frameTime']+=_0x594113['_addTimeTi'+'me'],_0x594113['_addTimeTi'+'me']=-0x171*0x19+0xcb0*0x3+-0x207;}_0x594113['finishFram'+'e']();}}}}['onBeforeRe'+'move'](_0xcf72e,_0x327b48){_0x327b48['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class UO extends wd{constructor(_0x2cf140,_0x528f30){super(),this['skin']=_0x2cf140,this['skinInstan'+'ce']=_0x528f30;}}const Gs=class Gs{static['logCachedS'+'kinInstanc'+'es'](){console['log']('CachedSkin'+'Instances'),Gs['_skinInsta'+'nceCache']['forEach']((_0x468a64,_0x4a58cd)=>{console['log'](_0x4a58cd['name']+':\x20Array('+_0x468a64['length']+')');for(let _0x21bd4d=-0x1f03+0x21d6*-0x1+0x40d9;_0x21bd4d<_0x468a64['length'];_0x21bd4d++)console['log']('\x20\x20'+_0x21bd4d+(':\x20RefCount'+'\x20')+_0x468a64[_0x21bd4d]['refCount']);});}static['createCach'+'edSkinInst'+'ance'](_0x1d9fe3,_0x25f1bc,_0x2b6829){let _0x1b8e31=Gs['getCachedS'+'kinInstanc'+'e'](_0x1d9fe3,_0x25f1bc);return _0x1b8e31||(_0x1b8e31=new Ol(_0x1d9fe3),_0x1b8e31['resolve'](_0x25f1bc,_0x2b6829),Gs['addCachedS'+'kinInstanc'+'e'](_0x1d9fe3,_0x25f1bc,_0x1b8e31)),_0x1b8e31;}static['getCachedS'+'kinInstanc'+'e'](_0x3b8f47,_0x232c00){let _0x5ace2a=null;const _0x401430=Gs['_skinInsta'+'nceCache']['get'](_0x232c00);if(_0x401430){const _0x22ee63=_0x401430['find'](_0x25686f=>_0x25686f['skin']===_0x3b8f47);_0x22ee63&&(_0x22ee63['incRefCoun'+'t'](),_0x5ace2a=_0x22ee63['skinInstan'+'ce']);}return _0x5ace2a;}static['addCachedS'+'kinInstanc'+'e'](_0x39b77a,_0x20f15c,_0x56cfff){let _0x2973ea=Gs['_skinInsta'+'nceCache']['get'](_0x20f15c);_0x2973ea||(_0x2973ea=[],Gs['_skinInsta'+'nceCache']['set'](_0x20f15c,_0x2973ea));let _0x4f56ae=_0x2973ea['find'](_0x2cf47b=>_0x2cf47b['skin']===_0x39b77a);_0x4f56ae||(_0x4f56ae=new UO(_0x39b77a,_0x56cfff),_0x2973ea['push'](_0x4f56ae)),_0x4f56ae['incRefCoun'+'t']();}static['removeCach'+'edSkinInst'+'ance'](_0x570f71){if(_0x570f71){const _0x3adb93=_0x570f71['rootBone'];if(_0x3adb93){const _0x3656b8=Gs['_skinInsta'+'nceCache']['get'](_0x3adb93);if(_0x3656b8){const _0x438b6c=_0x3656b8['findIndex'](_0x47b2b0=>_0x47b2b0['skinInstan'+'ce']===_0x570f71);if(_0x438b6c>=0x5*0x683+-0x225b*0x1+0x1cc){const _0x1306d4=_0x3656b8[_0x438b6c];_0x1306d4['decRefCoun'+'t'](),_0x1306d4['refCount']===0x19ff+-0x1d*0xc7+-0x374&&(_0x3656b8['splice'](_0x438b6c,-0x177c+0x22cf+0x7*-0x19e),_0x3656b8['length']||Gs['_skinInsta'+'nceCache']['delete'](_0x3adb93),_0x570f71&&(_0x570f71['destroy'](),_0x1306d4['skinInstan'+'ce']=null));}}}}}};h(Gs,'_skinInsta'+'nceCache',new Map());let _l=Gs;class gl{constructor(_0x1815b4,_0x3c2f7b,_0x31dda3,_0x149479,_0x345c19){h(this,'_evtLoadBy'+'Id',null),h(this,'_evtUnload'+'ById',null),h(this,'_evtAddByI'+'d',null),h(this,'_evtRemove'+'ById',null),h(this,'_evtLoadBy'+'Url',null),h(this,'_evtAddByU'+'rl',null),h(this,'_evtRemove'+'ByUrl',null),(this['propertyNa'+'me']=_0x1815b4,this['parent']=_0x3c2f7b,this['_scope']=_0x345c19,this['_registry']=_0x31dda3,this['id']=null,this['url']=null,this['asset']=null,this['_onAssetLo'+'ad']=_0x149479['load'],this['_onAssetAd'+'d']=_0x149479['add'],this['_onAssetRe'+'move']=_0x149479['remove'],this['_onAssetUn'+'load']=_0x149479['unload']);}set['id'](_0x48fb42){if(this['url'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_id']=_0x48fb42,this['asset']=this['_registry']['get'](this['_id']),this['_bind']();}get['id'](){return this['_id'];}set['url'](_0x5d2998){if(this['id'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_url']=_0x5d2998,this['asset']=this['_registry']['getByUrl'](this['_url']),this['_bind']();}get['url'](){return this['_url'];}['_bind'](){this['id']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Id']=this['_registry']['on']('load:'+this['id'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByI'+'d']=this['_registry']['once']('add:'+this['id'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ById']=this['_registry']['on']('remove:'+this['id'],this['_onRemove'],this)),this['_onAssetUn'+'load']&&(this['_evtUnload'+'ById']=this['_registry']['on']('unload:'+this['id'],this['_onUnload'],this))),this['url']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Url']=this['_registry']['on']('load:url:'+this['url'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByU'+'rl']=this['_registry']['once']('add:url:'+this['url'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ByUrl']=this['_registry']['on']('remove:url'+':'+this['url'],this['_onRemove'],this)));}['_unbind'](){var _0x5ea7cf,_0x19e06e,_0xe9a88b,_0x376a3a,_0x46bc03,_0x5863b7,_0x5b3f9f;this['id']&&((_0x5ea7cf=this['_evtLoadBy'+'Id'])==null||_0x5ea7cf['off'](),this['_evtLoadBy'+'Id']=null,(_0x19e06e=this['_evtAddByI'+'d'])==null||_0x19e06e['off'](),this['_evtAddByI'+'d']=null,(_0xe9a88b=this['_evtRemove'+'ById'])==null||_0xe9a88b['off'](),this['_evtRemove'+'ById']=null,(_0x376a3a=this['_evtUnload'+'ById'])==null||_0x376a3a['off'](),this['_evtUnload'+'ById']=null),this['url']&&((_0x46bc03=this['_evtLoadBy'+'Url'])==null||_0x46bc03['off'](),this['_evtLoadBy'+'Url']=null,(_0x5863b7=this['_evtAddByU'+'rl'])==null||_0x5863b7['off'](),this['_evtAddByU'+'rl']=null,(_0x5b3f9f=this['_evtRemove'+'ByUrl'])==null||_0x5b3f9f['off'](),this['_evtRemove'+'ByUrl']=null);}['_onLoad'](_0x422921){this['_onAssetLo'+'ad']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x422921);}['_onAdd'](_0x59c2b5){this['asset']=_0x59c2b5,this['_onAssetAd'+'d']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x59c2b5);}['_onRemove'](_0x3fd4e8){this['_onAssetRe'+'move']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x3fd4e8),this['asset']=null;}['_onUnload'](_0x5983b2){this['_onAssetUn'+'load']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x5983b2);}}class n0 extends we{constructor(_0x2e7950,_0x4b1795){super(_0x2e7950,_0x4b1795),h(this,'_type','asset'),h(this,'_castShado'+'ws',!(0x2180+-0x64f+-0x1b31)),h(this,'_receiveSh'+'adows',!(-0x24af+0x2047*-0x1+0x44f6)),h(this,'_castShado'+'wsLightmap',!(-0x1931+0x2673*-0x1+-0x4*-0xfe9)),h(this,'_lightmapp'+'ed',!(-0x78*-0x3f+0x1*-0x1af+-0x18*0x129)),h(this,'_lightmapS'+'izeMultipl'+'ier',0x9e8*-0x3+-0x7d5+-0x12c7*-0x2),h(this,'isStatic',!(-0x1623+0x246d+0x3*-0x4c3)),h(this,'_batchGrou'+'pId',-(0x3b*0x4+-0x14ac+0xd*0x185)),h(this,'_layers',[er]),h(this,'_renderSty'+'le',un),h(this,'_meshInsta'+'nces',[]),h(this,'_customAab'+'b',null),h(this,'_area',null),h(this,'_assetRefe'+'rence'),h(this,'_materialR'+'eferences',[]),h(this,'_material'),h(this,'_rootBone',null),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_evtSetMes'+'hes',null),(this['_assetRefe'+'rence']=new gl('asset',this,_0x2e7950['app']['assets'],{'add':this['_onRenderA'+'ssetAdded'],'load':this['_onRenderA'+'ssetLoad'],'remove':this['_onRenderA'+'ssetRemove'],'unload':this['_onRenderA'+'ssetUnload']},this),this['_material']=_0x2e7950['defaultMat'+'erial'],_0x4b1795['on']('remove',this['onRemoveCh'+'ild'],this),_0x4b1795['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x4b1795['on']('insert',this['onInsertCh'+'ild'],this),_0x4b1795['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['renderStyl'+'e'](_0x4252d4){this['_renderSty'+'le']!==_0x4252d4&&(this['_renderSty'+'le']=_0x4252d4,He['_prepareRe'+'nderStyleF'+'orArray'](this['_meshInsta'+'nces'],_0x4252d4));}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['customAabb'](_0x13a6d1){this['_customAab'+'b']=_0x13a6d1;const _0x3dbeb2=this['_meshInsta'+'nces'];if(_0x3dbeb2){for(let _0x3acbb5=0x1ec5+-0xf45+-0xf80;_0x3acbb5<_0x3dbeb2['length'];_0x3acbb5++)_0x3dbeb2[_0x3acbb5]['setCustomA'+'abb'](this['_customAab'+'b']);}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x264744){if(this['_type']!==_0x264744&&(this['_area']=null,this['_type']=_0x264744,this['destroyMes'+'hInstances'](),_0x264744!=='asset')){let _0x4a162f=this['_material'];(!_0x4a162f||_0x4a162f===this['system']['defaultMat'+'erial'])&&(_0x4a162f=this['_materialR'+'eferences'][-0x1*0xb08+0x1*-0x772+-0x16*-0xd7]&&this['_materialR'+'eferences'][-0x2650+-0x22cf+0x491f*0x1]['asset']&&this['_materialR'+'eferences'][-0x3db*0x9+-0x12b3+-0x1*-0x3566]['asset']['resource']);const _0x37bf29=r0(this['system']['app']['graphicsDe'+'vice'],_0x264744);this['_area']=_0x37bf29['area'],this['meshInstan'+'ces']=[new He(_0x37bf29['mesh'],_0x4a162f||this['system']['defaultMat'+'erial'],this['entity'])];}}get['type'](){return this['_type'];}set['meshInstan'+'ces'](_0x377500){if(w['assert'](Array['isArray'](_0x377500),'MeshInstan'+'ces\x20set\x20to'+'\x20a\x20Render\x20'+'component\x20'+'must\x20be\x20an'+'\x20array.'),this['destroyMes'+'hInstances'](),this['_meshInsta'+'nces']=_0x377500,this['_meshInsta'+'nces']){const _0x3da6ee=this['_meshInsta'+'nces'];for(let _0x507811=-0x314*0x1+0x650+-0x33c;_0x507811<_0x3da6ee['length'];_0x507811++)_0x3da6ee[_0x507811]['node']||(_0x3da6ee[_0x507811]['node']=this['entity']),_0x3da6ee[_0x507811]['castShadow']=this['_castShado'+'ws'],_0x3da6ee[_0x507811]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x3da6ee[_0x507811]['renderStyl'+'e']=this['_renderSty'+'le'],_0x3da6ee[_0x507811]['setLightma'+'pped'](this['_lightmapp'+'ed']),_0x3da6ee[_0x507811]['setCustomA'+'abb'](this['_customAab'+'b']);this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['meshInstan'+'ces'](){return this['_meshInsta'+'nces'];}set['lightmappe'+'d'](_0x325b5d){if(_0x325b5d!==this['_lightmapp'+'ed']){this['_lightmapp'+'ed']=_0x325b5d;const _0x1f5f2a=this['_meshInsta'+'nces'];if(_0x1f5f2a){for(let _0x3d0867=0x23d6+-0x11f5+-0x11e1;_0x3d0867<_0x1f5f2a['length'];_0x3d0867++)_0x1f5f2a[_0x3d0867]['setLightma'+'pped'](_0x325b5d);}}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x5c4568){if(this['_castShado'+'ws']!==_0x5c4568){const _0x234b56=this['_meshInsta'+'nces'];if(_0x234b56){const _0x50e3ec=this['layers'],_0x477673=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x5c4568)for(let _0x368f8e=-0x1*-0x60d+0x54a+-0x1*0xb57;_0x368f8e<_0x50e3ec['length'];_0x368f8e++){const _0x1eb89c=_0x477673['layers']['getLayerBy'+'Id'](this['layers'][_0x368f8e]);_0x1eb89c&&_0x1eb89c['removeShad'+'owCasters'](_0x234b56);}for(let _0x3a90d8=0x104+0x6b5+-0x7b9;_0x3a90d8<_0x234b56['length'];_0x3a90d8++)_0x234b56[_0x3a90d8]['castShadow']=_0x5c4568;if(!this['_castShado'+'ws']&&_0x5c4568)for(let _0xdda479=0x7ff+-0x26da+0xa49*0x3;_0xdda479<_0x50e3ec['length'];_0xdda479++){const _0x5a5fb9=_0x477673['layers']['getLayerBy'+'Id'](_0x50e3ec[_0xdda479]);_0x5a5fb9&&_0x5a5fb9['addShadowC'+'asters'](_0x234b56);}}this['_castShado'+'ws']=_0x5c4568;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x533d78){if(this['_receiveSh'+'adows']!==_0x533d78){this['_receiveSh'+'adows']=_0x533d78;const _0x41148c=this['_meshInsta'+'nces'];if(_0x41148c){for(let _0x27f660=0x1*0x1dc2+-0x2581*-0x1+-0x1*0x4343;_0x27f660<_0x41148c['length'];_0x27f660++)_0x41148c[_0x27f660]['receiveSha'+'dow']=_0x533d78;}}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x3691cc){this['_castShado'+'wsLightmap']=_0x3691cc;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x1ab164){this['_lightmapS'+'izeMultipl'+'ier']=_0x1ab164;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x5c174a){const _0x1a9da9=this['system']['app']['scene']['layers'];let _0x296783;if(this['_meshInsta'+'nces']){for(let _0x38ef5a=-0x1638+-0x841*-0x3+-0xd9*0x3;_0x38ef5a<this['_layers']['length'];_0x38ef5a++)_0x296783=_0x1a9da9['getLayerBy'+'Id'](this['_layers'][_0x38ef5a]),_0x296783&&_0x296783['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}this['_layers']['length']=-0xf*-0x4+-0x7c3*-0x1+-0x7ff;for(let _0x164b57=-0x2*-0x6a6+-0x8eb*-0x3+-0x280d;_0x164b57<_0x5c174a['length'];_0x164b57++)this['_layers'][_0x164b57]=_0x5c174a[_0x164b57];if(!(!this['enabled']||!this['entity']['enabled']||!this['_meshInsta'+'nces'])){for(let _0x59ad68=0x14ed+-0xe86+0x95*-0xb;_0x59ad68<this['_layers']['length'];_0x59ad68++)_0x296783=_0x1a9da9['getLayerBy'+'Id'](this['_layers'][_0x59ad68]),_0x296783&&_0x296783['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0xa8ccc9){var _0x4b07df,_0x32ff02;this['_batchGrou'+'pId']!==_0xa8ccc9&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x2*-0xc8e+-0x1*0x26da+0xdbe&&((_0x4b07df=this['system']['app']['batcher'])==null||_0x4b07df['remove'](St['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0xa8ccc9>=-0x15*-0x17b+-0x9e4+-0x25b*0x9&&((_0x32ff02=this['system']['app']['batcher'])==null||_0x32ff02['insert'](St['RENDER'],_0xa8ccc9,this['entity'])),_0xa8ccc9<0xda9+-0x3bf+-0x9ea&&this['_batchGrou'+'pId']>=-0x22b*0x12+0x1223+0x14e3&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s'](),this['_batchGrou'+'pId']=_0xa8ccc9);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['material'](_0x42b50f){if(this['_material']!==_0x42b50f&&(this['_material']=_0x42b50f,this['_meshInsta'+'nces']&&this['_type']!=='asset')){for(let _0x184f5b=0xaa1+-0x6*0x9d+-0x3*0x251;_0x184f5b<this['_meshInsta'+'nces']['length'];_0x184f5b++)this['_meshInsta'+'nces'][_0x184f5b]['material']=_0x42b50f;}}get['material'](){return this['_material'];}set['materialAs'+'sets'](_0x31f5a1=[]){if(this['_materialR'+'eferences']['length']>_0x31f5a1['length']){for(let _0x594189=_0x31f5a1['length'];_0x594189<this['_materialR'+'eferences']['length'];_0x594189++)this['_materialR'+'eferences'][_0x594189]['id']=null;this['_materialR'+'eferences']['length']=_0x31f5a1['length'];}for(let _0x4bb7e5=-0x1919+-0x2*0x123e+0x5*0xc51;_0x4bb7e5<_0x31f5a1['length'];_0x4bb7e5++)if(this['_materialR'+'eferences'][_0x4bb7e5]||this['_materialR'+'eferences']['push'](new gl(_0x4bb7e5,this,this['system']['app']['assets'],{'add':this['_onMateria'+'lAdded'],'load':this['_onMateria'+'lLoad'],'remove':this['_onMateria'+'lRemove'],'unload':this['_onMateria'+'lUnload']},this)),_0x31f5a1[_0x4bb7e5]){const _0x5a7c02=_0x31f5a1[_0x4bb7e5]instanceof pe?_0x31f5a1[_0x4bb7e5]['id']:_0x31f5a1[_0x4bb7e5];this['_materialR'+'eferences'][_0x4bb7e5]['id']!==_0x5a7c02&&(this['_materialR'+'eferences'][_0x4bb7e5]['id']=_0x5a7c02),this['_materialR'+'eferences'][_0x4bb7e5]['asset']&&this['_onMateria'+'lAdded'](_0x4bb7e5,this,this['_materialR'+'eferences'][_0x4bb7e5]['asset']);}else this['_materialR'+'eferences'][_0x4bb7e5]['id']=null,this['_meshInsta'+'nces'][_0x4bb7e5]&&(this['_meshInsta'+'nces'][_0x4bb7e5]['material']=this['system']['defaultMat'+'erial']);}get['materialAs'+'sets'](){return this['_materialR'+'eferences']['map'](_0x1be705=>_0x1be705['id']);}set['asset'](_0x32ea0d){const _0x191604=_0x32ea0d instanceof pe?_0x32ea0d['id']:_0x32ea0d;this['_assetRefe'+'rence']['id']!==_0x191604&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onRenderA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x191604,this['_assetRefe'+'rence']['asset']&&this['_onRenderA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x43ece8){const _0x3c3b67=_0x43ece8 instanceof pe?_0x43ece8['id']:_0x43ece8;this['_assetRefe'+'rence']['id']=_0x3c3b67;}set['rootBone'](_0x21514d){if(this['_rootBone']!==_0x21514d){const _0x6f8e4=typeof _0x21514d=='string';if(this['_rootBone']&&_0x6f8e4&&this['_rootBone']['getGuid']()===_0x21514d)return;this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x21514d instanceof Ie?this['_rootBone']=_0x21514d:_0x6f8e4?(this['_rootBone']=this['system']['app']['getEntityF'+'romIndex'](_0x21514d)||null,this['_rootBone']||w['warn']('Failed\x20to\x20'+'find\x20rootB'+'one\x20Entity'+'\x20by\x20GUID')):this['_rootBone']=null,this['_rootBone']&&this['_cloneSkin'+'Instances']();}}get['rootBone'](){return this['_rootBone'];}['destroyMes'+'hInstances'](){const _0x17d675=this['_meshInsta'+'nces'];if(_0x17d675){this['removeFrom'+'Layers'](),this['_clearSkin'+'Instances']();for(let _0x2c3428=-0x79d*0x2+0x1161+0x13*-0x1d;_0x2c3428<_0x17d675['length'];_0x2c3428++)_0x17d675[_0x2c3428]['destroy']();this['_meshInsta'+'nces']['length']=-0x25d9*0x1+-0x4b*0x1d+-0x2e58*-0x1;}}['addToLayer'+'s'](){const _0x40d606=this['system']['app']['scene']['layers'];for(let _0x314e99=-0xa64+-0x22ac+0x67*0x70;_0x314e99<this['_layers']['length'];_0x314e99++){const _0x54089b=_0x40d606['getLayerBy'+'Id'](this['_layers'][_0x314e99]);_0x54089b&&_0x54089b['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}['removeFrom'+'Layers'](){if(this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']){const _0x809baf=this['system']['app']['scene']['layers'];for(let _0x2d4479=-0x15*0x1a5+0x171*-0x17+0x43b0;_0x2d4479<this['_layers']['length'];_0x2d4479++){const _0xa053da=_0x809baf['getLayerBy'+'Id'](this['_layers'][_0x2d4479]);_0xa053da&&_0xa053da['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_meshInsta'+'nces']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyMes'+'hInstances'](),this['asset']=null,this['materialAs'+'set']=null,this['_assetRefe'+'rence']['id']=null;for(let _0x5bde99=-0xe81*-0x1+-0xf*0x61+0x1*-0x8d2;_0x5bde99<this['_materialR'+'eferences']['length'];_0x5bde99++)this['_materialR'+'eferences'][_0x5bde99]['id']=null;this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x42e914,_0x2877c4){this['addToLayer'+'s'](),_0x42e914['off']('add',this['onLayerAdd'+'ed'],this),_0x42e914['off']('remove',this['onLayerRem'+'oved'],this),_0x2877c4['on']('add',this['onLayerAdd'+'ed'],this),_0x2877c4['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x5d941b){this['layers']['indexOf'](_0x5d941b['id'])<-0xe65+-0x637+0x1*0x149c||_0x5d941b['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}['onLayerRem'+'oved'](_0x456303){this['layers']['indexOf'](_0x456303['id'])<-0x1231+0x19*0x14b+0x43*-0x36||_0x456303['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}['onEnable'](){var _0x5a29e0;const _0x385945=this['system']['app'],_0x521b65=_0x385945['scene'],_0x367b6a=_0x521b65['layers'];this['_rootBone']&&this['_cloneSkin'+'Instances'](),this['_evtLayers'+'Changed']=_0x521b65['on']('set:layers',this['onLayersCh'+'anged'],this),_0x367b6a&&(this['_evtLayerA'+'dded']=_0x367b6a['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x367b6a['on']('remove',this['onLayerRem'+'oved'],this));const _0x5c3e51=this['_type']==='asset';this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']?this['addToLayer'+'s']():_0x5c3e51&&this['asset']&&this['_onRenderA'+'ssetAdded']();for(let _0x3bae0f=-0xf4*-0x1c+0x191*0xd+-0x2f0d;_0x3bae0f<this['_materialR'+'eferences']['length'];_0x3bae0f++)this['_materialR'+'eferences'][_0x3bae0f]['asset']&&this['system']['app']['assets']['load'](this['_materialR'+'eferences'][_0x3bae0f]['asset']);this['_batchGrou'+'pId']>=-0x4*-0x89f+-0x2503+0x287&&((_0x5a29e0=_0x385945['batcher'])==null||_0x5a29e0['insert'](St['RENDER'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x511394,_0x3af760,_0x2321a2,_0x1bb36e;const _0x57064d=this['system']['app'],_0x1e1eea=_0x57064d['scene']['layers'];(_0x511394=this['_evtLayers'+'Changed'])==null||_0x511394['off'](),this['_evtLayers'+'Changed']=null,this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x1e1eea&&((_0x3af760=this['_evtLayerA'+'dded'])==null||_0x3af760['off'](),this['_evtLayerA'+'dded']=null,(_0x2321a2=this['_evtLayerR'+'emoved'])==null||_0x2321a2['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0x1981*0x1+0x1*-0x1945+-0x3c&&((_0x1bb36e=_0x57064d['batcher'])==null||_0x1bb36e['remove'](St['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['removeFrom'+'Layers']();}['hide'](){if(this['_meshInsta'+'nces']){for(let _0x53c976=0x218a+-0x21b8+0x2e;_0x53c976<this['_meshInsta'+'nces']['length'];_0x53c976++)this['_meshInsta'+'nces'][_0x53c976]['visible']=!(0x233f*-0x1+0x1*0xa55+0x1*0x18eb);}}['show'](){if(this['_meshInsta'+'nces']){for(let _0xe98f18=-0x171d+0xd*-0xa1+0x1f4a;_0xe98f18<this['_meshInsta'+'nces']['length'];_0xe98f18++)this['_meshInsta'+'nces'][_0xe98f18]['visible']=!(0x2600+0xa*-0x1+-0x2*0x12fb);}}['_onRenderA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onRenderA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onRenderA'+'ssetLoad'](){var _0x4e4848;if(this['destroyMes'+'hInstances'](),this['_assetRefe'+'rence']['asset']){const _0x556aff=this['_assetRefe'+'rence']['asset']['resource'];(_0x4e4848=this['_evtSetMes'+'hes'])==null||_0x4e4848['off'](),this['_evtSetMes'+'hes']=_0x556aff['on']('set:meshes',this['_onSetMesh'+'es'],this),_0x556aff['meshes']&&this['_onSetMesh'+'es'](_0x556aff['meshes']);}}['_onSetMesh'+'es'](_0x1ece51){this['_cloneMesh'+'es'](_0x1ece51);}['_clearSkin'+'Instances'](){for(let _0x387117=-0x993+-0x2011+-0x1*-0x29a4;_0x387117<this['_meshInsta'+'nces']['length'];_0x387117++){const _0x36806c=this['_meshInsta'+'nces'][_0x387117];_l['removeCach'+'edSkinInst'+'ance'](_0x36806c['skinInstan'+'ce']),_0x36806c['skinInstan'+'ce']=null;}}['_cloneSkin'+'Instances'](){if(this['_meshInsta'+'nces']['length']&&this['_rootBone']instanceof Ie)for(let _0x3b8518=-0x1369*-0x1+0x3*0x54f+-0x2356;_0x3b8518<this['_meshInsta'+'nces']['length'];_0x3b8518++){const _0x1ef8ce=this['_meshInsta'+'nces'][_0x3b8518],_0x342d60=_0x1ef8ce['mesh'];_0x342d60['skin']&&!_0x1ef8ce['skinInstan'+'ce']&&(_0x1ef8ce['skinInstan'+'ce']=_l['createCach'+'edSkinInst'+'ance'](_0x342d60['skin'],this['_rootBone'],this['entity']));}}['_cloneMesh'+'es'](_0x58488b){if(_0x58488b&&_0x58488b['length']){const _0x226041=[];for(let _0x42674e=0x10*-0xf1+-0x25c5+0x34d5;_0x42674e<_0x58488b['length'];_0x42674e++){const _0x52431b=_0x58488b[_0x42674e],_0x159fd7=this['_materialR'+'eferences'][_0x42674e]&&this['_materialR'+'eferences'][_0x42674e]['asset']&&this['_materialR'+'eferences'][_0x42674e]['asset']['resource'],_0x54ced6=new He(_0x52431b,_0x159fd7||this['system']['defaultMat'+'erial'],this['entity']);_0x226041['push'](_0x54ced6),_0x52431b['morph']&&(_0x54ced6['morphInsta'+'nce']=new xa(_0x52431b['morph']));}this['meshInstan'+'ces']=_0x226041,this['_cloneSkin'+'Instances']();}}['_onRenderA'+'ssetUnload'](){this['_type']==='asset'&&this['destroyMes'+'hInstances']();}['_onRenderA'+'ssetRemove'](){var _0x5da514;(_0x5da514=this['_evtSetMes'+'hes'])==null||_0x5da514['off'](),this['_evtSetMes'+'hes']=null,this['_onRenderA'+'ssetUnload']();}['_onMateria'+'lAdded'](_0x308566,_0xffcea3,_0x4ac0cb){_0x4ac0cb['resource']?this['_onMateria'+'lLoad'](_0x308566,_0xffcea3,_0x4ac0cb):this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](_0x4ac0cb);}['_updateMai'+'nMaterial'](_0x2663b9,_0xc5bea8){_0x2663b9===0x5*0x371+0x19fb+-0x2b30&&(this['material']=_0xc5bea8);}['_onMateria'+'lLoad'](_0x4ba9f7,_0x30d9c9,_0x186509){this['_meshInsta'+'nces'][_0x4ba9f7]&&(this['_meshInsta'+'nces'][_0x4ba9f7]['material']=_0x186509['resource']),this['_updateMai'+'nMaterial'](_0x4ba9f7,_0x186509['resource']);}['_onMateria'+'lRemove'](_0x2905b2,_0x41f74c,_0x2e8df8){this['_meshInsta'+'nces'][_0x2905b2]&&(this['_meshInsta'+'nces'][_0x2905b2]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x2905b2,this['system']['defaultMat'+'erial']);}['_onMateria'+'lUnload'](_0x28d055,_0x1b5ca3,_0x1e7550){this['_meshInsta'+'nces'][_0x28d055]&&(this['_meshInsta'+'nces'][_0x28d055]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x28d055,this['system']['defaultMat'+'erial']);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4a9485,_0x3f3642){_0x4a9485['rootBone']&&(this['rootBone']=_0x3f3642[_0x4a9485['rootBone']['getGuid']()]);}}class BO{constructor(){this['enabled']=!(-0xbe5+0xc1*0x25+-0x4*0x400);}}const ku=['enabled'],Gr=['material','meshInstan'+'ces','asset','materialAs'+'sets','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','renderStyl'+'e','type','layers','isStatic','batchGroup'+'Id','rootBone'];class zO extends ct{constructor(_0x3e09c1){super(_0x3e09c1),this['id']='render',this['ComponentT'+'ype']=n0,this['DataType']=BO,this['schema']=ku,this['defaultMat'+'erial']=Qn(_0x3e09c1['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x327d1d,_0x56e90a,_0x489b0c){(_0x56e90a['batchGroup'+'Id']===null||_0x56e90a['batchGroup'+'Id']===void(-0x1*0x137b+0x21bb+-0x260*0x6))&&(_0x56e90a['batchGroup'+'Id']=-(-0x2530+0x57+0x24da)),_0x56e90a['layers']&&_0x56e90a['layers']['length']&&(_0x56e90a['layers']=_0x56e90a['layers']['slice'](-0x1712*0x1+-0xd03+0x2415));for(let _0x327852=0x1a7a+0xab+-0x1b25;_0x327852<Gr['length'];_0x327852++)_0x56e90a['hasOwnProp'+'erty'](Gr[_0x327852])&&(_0x327d1d[Gr[_0x327852]]=_0x56e90a[Gr[_0x327852]]);_0x56e90a['aabbCenter']&&_0x56e90a['aabbHalfEx'+'tents']&&(_0x327d1d['customAabb']=new De(new D(_0x56e90a['aabbCenter']),new D(_0x56e90a['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x327d1d,_0x56e90a,ku);}['cloneCompo'+'nent'](_0x4f3af2,_0x34b152){const _0x23a00d={};for(let _0x302fed=0xf7*0x19+0x10f*0x1a+-0x33a5;_0x302fed<Gr['length'];_0x302fed++)_0x23a00d[Gr[_0x302fed]]=_0x4f3af2['render'][Gr[_0x302fed]];_0x23a00d['enabled']=_0x4f3af2['render']['enabled'],delete _0x23a00d['meshInstan'+'ces'];const _0xa51340=this['addCompone'+'nt'](_0x34b152,_0x23a00d),_0x3edf25=_0x4f3af2['render']['meshInstan'+'ces'],_0x10889f=_0x3edf25['map'](_0x275073=>_0x275073['mesh']);_0xa51340['_onSetMesh'+'es'](_0x10889f);for(let _0x530e63=0xcaf+0x819+-0x26*0x8c;_0x530e63<_0x3edf25['length'];_0x530e63++)_0xa51340['meshInstan'+'ces'][_0x530e63]['material']=_0x3edf25[_0x530e63]['material'];return _0x4f3af2['render']['customAabb']&&(_0xa51340['customAabb']=_0x4f3af2['render']['customAabb']['clone']()),_0xa51340;}['onRemove'](_0xb61421,_0x586dfe){_0x586dfe['onRemove']();}}we['_buildAcce'+'ssors'](n0['prototype'],ku);class bf{constructor(_0x582149,_0x3e8446){h(this,'_construct'+'or'),h(this,'_pool',[]),h(this,'_count',-0x19e6*-0x1+0x31*0x73+0x37*-0xdf),(this['_construct'+'or']=_0x582149,this['_resize'](_0x3e8446));}['_resize'](_0x32ef85){if(_0x32ef85>this['_pool']['length']){for(let _0x895434=this['_pool']['length'];_0x895434<_0x32ef85;_0x895434++)this['_pool'][_0x895434]=new this['_construct'+'or']();}}['allocate'](){return this['_count']>=this['_pool']['length']&&this['_resize'](this['_pool']['length']*(-0x1499+0x75*0x43+-0x4*0x281)),this['_pool'][this['_count']++];}['freeAll'](){this['_count']=0x332*-0x5+-0x66d+0x1667;}}let cs,Re,Bs,Ka;const VO=new le(),GO=new le(),Pc=new D();class bs extends we{constructor(){super(...arguments),h(this,'_angularDa'+'mping',0x2148+0x2554*-0x1+0x25*0x1c),h(this,'_angularFa'+'ctor',new D(0x21*0x44+0x3e2+0x3*-0x437,0x3a9*-0x3+0x4*0xd4+0x1eb*0x4,-0x1651+-0x1*-0x757+-0x1*-0xefb)),h(this,'_angularVe'+'locity',new D()),h(this,'_body',null),h(this,'_friction',-0x2*-0x469+0x608+-0x1*0xeda+0.5),h(this,'_group',Gg),h(this,'_linearDam'+'ping',-0xa6d+-0x7*0x3ec+0x25e1),h(this,'_linearFac'+'tor',new D(0x67*-0x31+0x19d7+0x1*-0x61f,0xbc2+-0x185b+0xc9a,0x1ddb*-0x1+-0x394+0x2170)),h(this,'_linearVel'+'ocity',new D()),h(this,'_mask',Mu),h(this,'_mass',-0x802*0x4+-0x1fe4+0x443*0xf),h(this,'_restituti'+'on',-0xe0e+0x1*-0xca9+0x1*0x1ab7),h(this,'_rollingFr'+'iction',0x144e+-0x2*0x3f6+0x1*-0xc62),h(this,'_simulatio'+'nEnabled',!(-0x1af+-0x17eb+0x199b)),h(this,'_type',yo);}static['onLibraryL'+'oaded'](){typeof Ammo<'u'&&(cs=new Ammo['btTransfor'+'m'](),Re=new Ammo['btVector3'](),Bs=new Ammo['btVector3'](),Ka=new Ammo['btQuaterni'+'on']());}static['onAppDestr'+'oy'](){Ammo['destroy'](cs),Ammo['destroy'](Re),Ammo['destroy'](Bs),Ammo['destroy'](Ka),cs=null,Re=null,Bs=null,Ka=null;}set['angularDam'+'ping'](_0x4f9cc3){this['_angularDa'+'mping']!==_0x4f9cc3&&(this['_angularDa'+'mping']=_0x4f9cc3,this['_body']&&this['_body']['setDamping'](this['_linearDam'+'ping'],_0x4f9cc3));}get['angularDam'+'ping'](){return this['_angularDa'+'mping'];}set['angularFac'+'tor'](_0x250160){this['_angularFa'+'ctor']['equals'](_0x250160)||(this['_angularFa'+'ctor']['copy'](_0x250160),this['_body']&&this['_type']===ks&&(Re['setValue'](_0x250160['x'],_0x250160['y'],_0x250160['z']),this['_body']['setAngular'+'Factor'](Re)));}get['angularFac'+'tor'](){return this['_angularFa'+'ctor'];}set['angularVel'+'ocity'](_0x33dd4d){this['_body']&&this['_type']===ks&&(this['_body']['activate'](),Re['setValue'](_0x33dd4d['x'],_0x33dd4d['y'],_0x33dd4d['z']),this['_body']['setAngular'+'Velocity'](Re),this['_angularVe'+'locity']['copy'](_0x33dd4d));}get['angularVel'+'ocity'](){if(this['_body']&&this['_type']===ks){const _0x309177=this['_body']['getAngular'+'Velocity']();this['_angularVe'+'locity']['set'](_0x309177['x'](),_0x309177['y'](),_0x309177['z']());}return this['_angularVe'+'locity'];}set['body'](_0x16076a){this['_body']!==_0x16076a&&(this['_body']=_0x16076a,_0x16076a&&this['_simulatio'+'nEnabled']&&_0x16076a['activate']());}get['body'](){return this['_body'];}set['friction'](_0xeb38c2){this['_friction']!==_0xeb38c2&&(this['_friction']=_0xeb38c2,this['_body']&&this['_body']['setFrictio'+'n'](_0xeb38c2));}get['friction'](){return this['_friction'];}set['group'](_0xf8e9d3){this['_group']!==_0xf8e9d3&&(this['_group']=_0xf8e9d3,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['group'](){return this['_group'];}set['linearDamp'+'ing'](_0xd8295b){this['_linearDam'+'ping']!==_0xd8295b&&(this['_linearDam'+'ping']=_0xd8295b,this['_body']&&this['_body']['setDamping'](_0xd8295b,this['_angularDa'+'mping']));}get['linearDamp'+'ing'](){return this['_linearDam'+'ping'];}set['linearFact'+'or'](_0x56a683){this['_linearFac'+'tor']['equals'](_0x56a683)||(this['_linearFac'+'tor']['copy'](_0x56a683),this['_body']&&this['_type']===ks&&(Re['setValue'](_0x56a683['x'],_0x56a683['y'],_0x56a683['z']),this['_body']['setLinearF'+'actor'](Re)));}get['linearFact'+'or'](){return this['_linearFac'+'tor'];}set['linearVelo'+'city'](_0x24ebc8){this['_body']&&this['_type']===ks&&(this['_body']['activate'](),Re['setValue'](_0x24ebc8['x'],_0x24ebc8['y'],_0x24ebc8['z']),this['_body']['setLinearV'+'elocity'](Re),this['_linearVel'+'ocity']['copy'](_0x24ebc8));}get['linearVelo'+'city'](){if(this['_body']&&this['_type']===ks){const _0xb778c4=this['_body']['getLinearV'+'elocity']();this['_linearVel'+'ocity']['set'](_0xb778c4['x'](),_0xb778c4['y'](),_0xb778c4['z']());}return this['_linearVel'+'ocity'];}set['mask'](_0x49f9e2){this['_mask']!==_0x49f9e2&&(this['_mask']=_0x49f9e2,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['mask'](){return this['_mask'];}set['mass'](_0x4d49e8){if(this['_mass']!==_0x4d49e8&&(this['_mass']=_0x4d49e8,this['_body']&&this['_type']===ks)){const _0x5b88fd=this['enabled']&&this['entity']['enabled'];_0x5b88fd&&this['disableSim'+'ulation'](),this['_body']['getCollisi'+'onShape']()['calculateL'+'ocalInerti'+'a'](_0x4d49e8,Re),this['_body']['setMassPro'+'ps'](_0x4d49e8,Re),this['_body']['updateIner'+'tiaTensor'](),_0x5b88fd&&this['enableSimu'+'lation']();}}get['mass'](){return this['_mass'];}set['restitutio'+'n'](_0x44c105){this['_restituti'+'on']!==_0x44c105&&(this['_restituti'+'on']=_0x44c105,this['_body']&&this['_body']['setRestitu'+'tion'](_0x44c105));}get['restitutio'+'n'](){return this['_restituti'+'on'];}set['rollingFri'+'ction'](_0x5587b0){this['_rollingFr'+'iction']!==_0x5587b0&&(this['_rollingFr'+'iction']=_0x5587b0,this['_body']&&this['_body']['setRolling'+'Friction'](_0x5587b0));}get['rollingFri'+'ction'](){return this['_rollingFr'+'iction'];}set['type'](_0x48eb00){if(this['_type']!==_0x48eb00){switch(this['_type']=_0x48eb00,this['disableSim'+'ulation'](),_0x48eb00){case ks:this['_group']=jL,this['_mask']=Wg;break;case Ha:this['_group']=YL,this['_mask']=Wg;break;case yo:default:this['_group']=Gg,this['_mask']=Mu;break;}this['createBody']();}}get['type'](){return this['_type'];}['createBody'](){const _0x5d43d1=this['entity'];let _0x4db8d4;if(_0x5d43d1['collision']&&(_0x4db8d4=_0x5d43d1['collision']['shape'],_0x5d43d1['trigger']&&(_0x5d43d1['trigger']['destroy'](),delete _0x5d43d1['trigger'])),_0x4db8d4){this['_body']&&(this['system']['removeBody'](this['_body']),this['system']['destroyBod'+'y'](this['_body']),this['_body']=null);const _0x344725=this['_type']===ks?this['_mass']:0x659+-0x237+-0x2*0x211;this['_getEntity'+'Transform'](cs);const _0x332cdc=this['system']['createBody'](_0x344725,_0x4db8d4,cs);if(_0x332cdc['setRestitu'+'tion'](this['_restituti'+'on']),_0x332cdc['setFrictio'+'n'](this['_friction']),_0x332cdc['setRolling'+'Friction'](this['_rollingFr'+'iction']),_0x332cdc['setDamping'](this['_linearDam'+'ping'],this['_angularDa'+'mping']),this['_type']===ks){const _0x232af5=this['_linearFac'+'tor'];Re['setValue'](_0x232af5['x'],_0x232af5['y'],_0x232af5['z']),_0x332cdc['setLinearF'+'actor'](Re);const _0x5c7e3b=this['_angularFa'+'ctor'];Re['setValue'](_0x5c7e3b['x'],_0x5c7e3b['y'],_0x5c7e3b['z']),_0x332cdc['setAngular'+'Factor'](Re);}else this['_type']===Ha&&(_0x332cdc['setCollisi'+'onFlags'](_0x332cdc['getCollisi'+'onFlags']()|qL),_0x332cdc['setActivat'+'ionState'](Vg));_0x332cdc['entity']=_0x5d43d1,this['body']=_0x332cdc,this['enabled']&&_0x5d43d1['enabled']&&this['enableSimu'+'lation']();}}['isActive'](){return this['_body']?this['_body']['isActive']():!(-0x2*0x1377+0x139e+0x1351);}['activate'](){this['_body']&&this['_body']['activate']();}['enableSimu'+'lation'](){const _0x1bad91=this['entity'];if(_0x1bad91['collision']&&_0x1bad91['collision']['enabled']&&!this['_simulatio'+'nEnabled']){const _0x79d5e1=this['_body'];if(_0x79d5e1){switch(this['system']['addBody'](_0x79d5e1,this['_group'],this['_mask']),this['_type']){case ks:this['system']['_dynamic']['push'](this),_0x79d5e1['forceActiv'+'ationState'](Pu),this['syncEntity'+'ToBody']();break;case Ha:this['system']['_kinematic']['push'](this),_0x79d5e1['forceActiv'+'ationState'](Vg);break;case yo:_0x79d5e1['forceActiv'+'ationState'](Pu),this['syncEntity'+'ToBody']();break;}_0x1bad91['collision']['type']==='compound'&&this['system']['_compounds']['push'](_0x1bad91['collision']),_0x79d5e1['activate'](),this['_simulatio'+'nEnabled']=!(0xd2a*-0x1+0xec3+-0x1*0x199);}}}['disableSim'+'ulation'](){const _0x2712bd=this['_body'];if(_0x2712bd&&this['_simulatio'+'nEnabled']){const _0x3b4477=this['system'];let _0x2c1fef=_0x3b4477['_compounds']['indexOf'](this['entity']['collision']);_0x2c1fef>-(-0xdf5+0x43*-0xd+0x115d)&&_0x3b4477['_compounds']['splice'](_0x2c1fef,-0xa45+0x5b3+0x493),_0x2c1fef=_0x3b4477['_dynamic']['indexOf'](this),_0x2c1fef>-(-0x1627+0x1df8+-0x14*0x64)&&_0x3b4477['_dynamic']['splice'](_0x2c1fef,0x898+0x8dd*-0x3+0x300*0x6),_0x2c1fef=_0x3b4477['_kinematic']['indexOf'](this),_0x2c1fef>-(0x3*-0xe9+-0x11d*0x11+0x455*0x5)&&_0x3b4477['_kinematic']['splice'](_0x2c1fef,0xb40+0x56+0xb95*-0x1),_0x3b4477['removeBody'](_0x2712bd),_0x2712bd['forceActiv'+'ationState'](Yv),this['_simulatio'+'nEnabled']=!(-0x116d+-0x263*-0x8+-0x1aa);}}['applyForce'](_0x1231dc,_0x57489a,_0x17897c,_0x3002d9,_0x187dec,_0x1b56e9){const _0x570d6a=this['_body'];_0x570d6a&&(_0x570d6a['activate'](),_0x1231dc instanceof D?Re['setValue'](_0x1231dc['x'],_0x1231dc['y'],_0x1231dc['z']):Re['setValue'](_0x1231dc,_0x57489a,_0x17897c),_0x57489a instanceof D?Bs['setValue'](_0x57489a['x'],_0x57489a['y'],_0x57489a['z']):_0x3002d9!==void(-0x576*-0x1+-0xabd*0x1+-0x547*-0x1)?Bs['setValue'](_0x3002d9,_0x187dec,_0x1b56e9):Bs['setValue'](-0x249+-0xb*0x89+0x82c,-0x1adf*0x1+-0x15*0x175+-0x1cbc*-0x2,-0x2*0x141+0x1fd3+-0x13*0x18b),_0x570d6a['applyForce'](Re,Bs));}['applyTorqu'+'e'](_0xf9e83b,_0x33b201,_0x1fde4b){const _0x33c7f6=this['_body'];_0x33c7f6&&(_0x33c7f6['activate'](),_0xf9e83b instanceof D?Re['setValue'](_0xf9e83b['x'],_0xf9e83b['y'],_0xf9e83b['z']):Re['setValue'](_0xf9e83b,_0x33b201,_0x1fde4b),_0x33c7f6['applyTorqu'+'e'](Re));}['applyImpul'+'se'](_0x313763,_0x40182c,_0x27babc,_0x59e0fd,_0x322dc5,_0x562891){const _0x549438=this['_body'];_0x549438&&(_0x549438['activate'](),_0x313763 instanceof D?Re['setValue'](_0x313763['x'],_0x313763['y'],_0x313763['z']):Re['setValue'](_0x313763,_0x40182c,_0x27babc),_0x40182c instanceof D?Bs['setValue'](_0x40182c['x'],_0x40182c['y'],_0x40182c['z']):_0x59e0fd!==void(0x22d1+-0x1a*-0x10f+0x3e57*-0x1)?Bs['setValue'](_0x59e0fd,_0x322dc5,_0x562891):Bs['setValue'](-0x186e+-0x2143+-0x3*-0x133b,-0x21f3+-0x1*0x1931+-0xec9*-0x4,0x47*0x4a+-0x21*0x6+-0x13c0),_0x549438['applyImpul'+'se'](Re,Bs));}['applyTorqu'+'eImpulse'](_0x416a47,_0x242a0a,_0x1eaba4){const _0x1bc707=this['_body'];_0x1bc707&&(_0x1bc707['activate'](),_0x416a47 instanceof D?Re['setValue'](_0x416a47['x'],_0x416a47['y'],_0x416a47['z']):Re['setValue'](_0x416a47,_0x242a0a,_0x1eaba4),_0x1bc707['applyTorqu'+'eImpulse'](Re));}['isStatic'](){return this['_type']===yo;}['isStaticOr'+'Kinematic'](){return this['_type']===yo||this['_type']===Ha;}['isKinemati'+'c'](){return this['_type']===Ha;}['_getEntity'+'Transform'](_0x2bd3a9){const _0x4b94dc=this['entity'],_0x858f49=_0x4b94dc['collision'];if(_0x858f49){const _0x1df07f=_0x858f49['getShapePo'+'sition'](),_0x36f04d=_0x858f49['getShapeRo'+'tation']();Re['setValue'](_0x1df07f['x'],_0x1df07f['y'],_0x1df07f['z']),Ka['setValue'](_0x36f04d['x'],_0x36f04d['y'],_0x36f04d['z'],_0x36f04d['w']);}else{const _0x5113ae=_0x4b94dc['getPositio'+'n'](),_0x55424a=_0x4b94dc['getRotatio'+'n']();Re['setValue'](_0x5113ae['x'],_0x5113ae['y'],_0x5113ae['z']),Ka['setValue'](_0x55424a['x'],_0x55424a['y'],_0x55424a['z'],_0x55424a['w']);}_0x2bd3a9['setOrigin'](Re),_0x2bd3a9['setRotatio'+'n'](Ka);}['syncEntity'+'ToBody'](){const _0x240e44=this['_body'];if(_0x240e44){if(this['_getEntity'+'Transform'](cs),_0x240e44['setWorldTr'+'ansform'](cs),this['_type']===Ha){const _0x3efdcc=_0x240e44['getMotionS'+'tate']();_0x3efdcc&&_0x3efdcc['setWorldTr'+'ansform'](cs);}_0x240e44['activate']();}}['_updateDyn'+'amic'](){const _0x15d1cb=this['_body'];if(_0x15d1cb['isActive']()){const _0x319eb1=_0x15d1cb['getMotionS'+'tate']();if(_0x319eb1){const _0x418c20=this['entity'];_0x319eb1['getWorldTr'+'ansform'](cs);const _0x450c00=cs['getOrigin'](),_0x1e4b12=cs['getRotatio'+'n'](),_0x417df5=_0x418c20['collision'];if(_0x417df5&&_0x417df5['_hasOffset']){const _0x506f6a=_0x417df5['data']['linearOffs'+'et'],_0x1a9e3f=_0x417df5['data']['angularOff'+'set'],_0x4b6b27=GO['copy'](_0x1a9e3f)['invert'](),_0x11b771=VO['set'](_0x1e4b12['x'](),_0x1e4b12['y'](),_0x1e4b12['z'](),_0x1e4b12['w']())['mul'](_0x4b6b27);_0x11b771['transformV'+'ector'](_0x506f6a,Pc),_0x418c20['setPositio'+'n'](_0x450c00['x']()-Pc['x'],_0x450c00['y']()-Pc['y'],_0x450c00['z']()-Pc['z']),_0x418c20['setRotatio'+'n'](_0x11b771);}else _0x418c20['setPositio'+'n'](_0x450c00['x'](),_0x450c00['y'](),_0x450c00['z']()),_0x418c20['setRotatio'+'n'](_0x1e4b12['x'](),_0x1e4b12['y'](),_0x1e4b12['z'](),_0x1e4b12['w']());}}}['_updateKin'+'ematic'](){const _0x83c621=this['_body']['getMotionS'+'tate']();_0x83c621&&(this['_getEntity'+'Transform'](cs),_0x83c621['setWorldTr'+'ansform'](cs));}['teleport'](_0x353f1e,_0x398c37,_0x3e39f2,_0x4c3761,_0x1231f5,_0x5cac30){_0x353f1e instanceof D?this['entity']['setPositio'+'n'](_0x353f1e):this['entity']['setPositio'+'n'](_0x353f1e,_0x398c37,_0x3e39f2),_0x398c37 instanceof le?this['entity']['setRotatio'+'n'](_0x398c37):_0x398c37 instanceof D?this['entity']['setEulerAn'+'gles'](_0x398c37):_0x4c3761!==void(-0xeab+-0x36d*-0xa+-0x1397)&&this['entity']['setEulerAn'+'gles'](_0x4c3761,_0x1231f5,_0x5cac30),this['syncEntity'+'ToBody']();}['onEnable'](){this['_body']||this['createBody'](),this['enableSimu'+'lation']();}['onDisable'](){this['disableSim'+'ulation']();}}h(bs,'EVENT_CONT'+'ACT','contact'),h(bs,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),h(bs,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),h(bs,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),h(bs,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve'),h(bs,'order',-(-0x2e0+-0x126d+0x154e));class HO{constructor(){this['enabled']=!(0xa87+0x10d5+0x1b5c*-0x1);}}let Mi,Di;class eS{constructor(_0x663646,_0x2532b2,_0x310709,_0x39564d){h(this,'entity'),h(this,'point'),h(this,'normal'),h(this,'hitFractio'+'n'),(this['entity']=_0x663646,this['point']=_0x2532b2,this['normal']=_0x310709,this['hitFractio'+'n']=_0x39564d);}}class WO{constructor(_0x362d0a,_0x5c5fc3,_0x155cf1){h(this,'a'),h(this,'b'),h(this,'impulse'),h(this,'localPoint'+'A'),h(this,'localPoint'+'B'),h(this,'pointA'),h(this,'pointB'),h(this,'normal'),arguments['length']!==-0xa*-0x109+0x19cc+-0x2426?(this['a']=_0x362d0a,this['b']=_0x5c5fc3,this['impulse']=_0x155cf1['impulse'],this['localPoint'+'A']=_0x155cf1['localPoint'],this['localPoint'+'B']=_0x155cf1['localPoint'+'Other'],this['pointA']=_0x155cf1['point'],this['pointB']=_0x155cf1['pointOther'],this['normal']=_0x155cf1['normal']):(this['a']=null,this['b']=null,this['impulse']=0x242c+-0xd66+-0x247*0xa,this['localPoint'+'A']=new D(),this['localPoint'+'B']=new D(),this['pointA']=new D(),this['pointB']=new D(),this['normal']=new D());}}class $O{constructor(_0x51de1e=new D(),_0x2cfe06=new D(),_0x1e6f45=new D(),_0x39699f=new D(),_0x5cf220=new D(),_0x268d5f=0x11f7+-0x1*0x2417+-0x910*-0x2){h(this,'localPoint'),h(this,'localPoint'+'Other'),h(this,'point'),h(this,'pointOther'),h(this,'normal'),h(this,'impulse'),(this['localPoint']=_0x51de1e,this['localPoint'+'Other']=_0x2cfe06,this['point']=_0x1e6f45,this['pointOther']=_0x39699f,this['normal']=_0x5cf220,this['impulse']=_0x268d5f);}}class XO{constructor(_0x4febf1,_0x25eee0){h(this,'other'),h(this,'contacts'),(this['other']=_0x4febf1,this['contacts']=_0x25eee0);}}const o0=['enabled'];class wm extends ct{constructor(_0x55fa39){super(_0x55fa39),h(this,'maxSubStep'+'s',0x13c1*0x1+0x135e+-0x2715),h(this,'fixedTimeS'+'tep',(-0x2309+0x7f*-0x21+0x3369)/(0x1049+-0xb*0x225+-0x182*-0x5)),h(this,'gravity',new D(-0x6f2*0x1+-0x25b1+-0x1*-0x2ca3,-(0x178b+0x65*0x15+0x1fcb*-0x1+0.8100000000000005),0x106b+-0x20b6+0x104b)),h(this,'_gravityFl'+'oat32',new Float32Array(0x23be+-0x1*0x1d99+-0x622)),h(this,'_dynamic',[]),h(this,'_kinematic',[]),h(this,'_triggers',[]),h(this,'_compounds',[]),(this['id']='rigidbody',this['_stats']=_0x55fa39['stats']['frame'],this['ComponentT'+'ype']=bs,this['DataType']=HO,this['contactPoi'+'ntPool']=null,this['contactRes'+'ultPool']=null,this['singleCont'+'actResultP'+'ool']=null,this['schema']=o0,this['collisions']={},this['frameColli'+'sions']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this));}['onLibraryL'+'oaded'](){if(typeof Ammo<'u'){if(this['collisionC'+'onfigurati'+'on']=new Ammo['btDefaultC'+'ollisionCo'+'nfiguratio'+'n'](),this['dispatcher']=new Ammo['btCollisio'+'nDispatche'+'r'](this['collisionC'+'onfigurati'+'on']),this['overlappin'+'gPairCache']=new Ammo['btDbvtBroa'+'dphase'](),this['solver']=new Ammo['btSequenti'+'alImpulseC'+'onstraintS'+'olver'](),this['dynamicsWo'+'rld']=new Ammo['btDiscrete'+'DynamicsWo'+'rld'](this['dispatcher'],this['overlappin'+'gPairCache'],this['solver'],this['collisionC'+'onfigurati'+'on']),this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']){const _0x52780d=Ammo['addFunctio'+'n'](this['_checkForC'+'ollisions']['bind'](this),'vif');this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack'](_0x52780d);}else w['warn']('WARNING:\x20T'+'his\x20versio'+'n\x20of\x20ammo.'+'js\x20can\x20pot'+'entially\x20f'+'ail\x20to\x20rep'+'ort\x20contac'+'ts.\x20Please'+'\x20update\x20it'+'\x20to\x20the\x20la'+'test\x20versi'+'on.');Mi=new Ammo['btVector3'](),Di=new Ammo['btVector3'](),bs['onLibraryL'+'oaded'](),this['contactPoi'+'ntPool']=new bf($O,-0x2585+0x19*-0xa6+0x35bc),this['contactRes'+'ultPool']=new bf(XO,-0xc0f+-0x11*-0xb9+0x1*-0x39),this['singleCont'+'actResultP'+'ool']=new bf(WO,0x26ad+-0x1b11+-0xb9b*0x1),this['app']['systems']['on']('update',this['onUpdate'],this);}else this['app']['systems']['off']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x830110,_0x5c67b1,_0x36e027){const _0x169f71=['mass','linearDamp'+'ing','angularDam'+'ping','linearFact'+'or','angularFac'+'tor','friction','rollingFri'+'ction','restitutio'+'n','type','group','mask'];for(const _0x321364 of _0x169f71)if(_0x5c67b1['hasOwnProp'+'erty'](_0x321364)){const _0x28b131=_0x5c67b1[_0x321364];Array['isArray'](_0x28b131)?_0x830110[_0x321364]=new D(_0x28b131[0x3*-0xa93+0x1672+0x947],_0x28b131[-0x2*0xbad+0x18c0+-0x33*0x7],_0x28b131[0xbf*0x32+0x1*0x1213+-0x375f]):_0x830110[_0x321364]=_0x28b131;}super['initialize'+'ComponentD'+'ata'](_0x830110,_0x5c67b1,['enabled']);}['cloneCompo'+'nent'](_0x3c7a46,_0x21b8a7){const _0x5c0588=_0x3c7a46['rigidbody'],_0x3c37a4={'enabled':_0x5c0588['enabled'],'mass':_0x5c0588['mass'],'linearDamping':_0x5c0588['linearDamp'+'ing'],'angularDamping':_0x5c0588['angularDam'+'ping'],'linearFactor':[_0x5c0588['linearFact'+'or']['x'],_0x5c0588['linearFact'+'or']['y'],_0x5c0588['linearFact'+'or']['z']],'angularFactor':[_0x5c0588['angularFac'+'tor']['x'],_0x5c0588['angularFac'+'tor']['y'],_0x5c0588['angularFac'+'tor']['z']],'friction':_0x5c0588['friction'],'rollingFriction':_0x5c0588['rollingFri'+'ction'],'restitution':_0x5c0588['restitutio'+'n'],'type':_0x5c0588['type'],'group':_0x5c0588['group'],'mask':_0x5c0588['mask']};return this['addCompone'+'nt'](_0x21b8a7,_0x3c37a4);}['onBeforeRe'+'move'](_0x2a351f,_0x2abcf0){_0x2abcf0['enabled']&&(_0x2abcf0['enabled']=!(0x2430+0x6*0x41c+-0x1*0x3cd7)),_0x2abcf0['body']&&(this['destroyBod'+'y'](_0x2abcf0['body']),_0x2abcf0['body']=null);}['addBody'](_0x476313,_0x3819ba,_0x17f678){_0x3819ba!==void(0x15e4+-0x1*-0x1d23+-0x3307)&&_0x17f678!==void(-0x219*-0x4+0x14c7+0x39*-0x83)?this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x476313,_0x3819ba,_0x17f678):this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x476313);}['removeBody'](_0x3b6bf0){this['dynamicsWo'+'rld']['removeRigi'+'dBody'](_0x3b6bf0);}['createBody'](_0x39510c,_0x2272f7,_0x360e37){const _0x47a63e=new Ammo['btVector3'](0x1*0x683+-0xc87*0x2+0x128b,0x1dda*-0x1+-0x1*0x731+0x1*0x250b,0x2457+-0x16d6+-0xd81);_0x39510c!==-0x105b+-0x2*-0xba2+-0x6e9&&_0x2272f7['calculateL'+'ocalInerti'+'a'](_0x39510c,_0x47a63e);const _0x196871=new Ammo['btDefaultM'+'otionState'](_0x360e37),_0x268204=new Ammo['btRigidBod'+'yConstruct'+'ionInfo'](_0x39510c,_0x196871,_0x2272f7,_0x47a63e),_0x1be9a4=new Ammo['btRigidBod'+'y'](_0x268204);return Ammo['destroy'](_0x268204),Ammo['destroy'](_0x47a63e),_0x1be9a4;}['destroyBod'+'y'](_0x3b2960){const _0x1abaed=_0x3b2960['getMotionS'+'tate']();_0x1abaed&&Ammo['destroy'](_0x1abaed),Ammo['destroy'](_0x3b2960);}['raycastFir'+'st'](_0x381994,_0x2b2325,_0xd390a6={}){if(_0xd390a6['filterTags']||_0xd390a6['filterCall'+'back'])return _0xd390a6['sort']=!(-0x78*-0x2+0x20d2+-0x21c2),this['raycastAll'](_0x381994,_0x2b2325,_0xd390a6)[-0x2e*0x2f+-0x1073+0x18e5*0x1]||null;let _0x31bee9=null;Mi['setValue'](_0x381994['x'],_0x381994['y'],_0x381994['z']),Di['setValue'](_0x2b2325['x'],_0x2b2325['y'],_0x2b2325['z']);const _0x1ebf6a=new Ammo['ClosestRay'+'ResultCall'+'back'](Mi,Di);if(typeof _0xd390a6['filterColl'+'isionGroup']=='number'&&_0x1ebf6a['set_m_coll'+'isionFilte'+'rGroup'](_0xd390a6['filterColl'+'isionGroup']),typeof _0xd390a6['filterColl'+'isionMask']=='number'&&_0x1ebf6a['set_m_coll'+'isionFilte'+'rMask'](_0xd390a6['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](Mi,Di,_0x1ebf6a),_0x1ebf6a['hasHit']()){const _0x5ad47e=_0x1ebf6a['get_m_coll'+'isionObjec'+'t'](),_0x196df9=Ammo['castObject'](_0x5ad47e,Ammo['btRigidBod'+'y']);if(_0x196df9){const _0x129027=_0x1ebf6a['get_m_hitP'+'ointWorld'](),_0x39ff7c=_0x1ebf6a['get_m_hitN'+'ormalWorld']();_0x31bee9=new eS(_0x196df9['entity'],new D(_0x129027['x'](),_0x129027['y'](),_0x129027['z']()),new D(_0x39ff7c['x'](),_0x39ff7c['y'](),_0x39ff7c['z']()),_0x1ebf6a['get_m_clos'+'estHitFrac'+'tion']());}}return Ammo['destroy'](_0x1ebf6a),_0x31bee9;}['raycastAll'](_0x5d820a,_0x540388,_0x286aa0={}){w['assert'](Ammo['AllHitsRay'+'ResultCall'+'back'],'pc.RigidBo'+'dyComponen'+'tSystem#ra'+'ycastAll:\x20'+'Your\x20versi'+'on\x20of\x20ammo'+'.js\x20does\x20n'+'ot\x20expose\x20'+'Ammo.AllHi'+'tsRayResul'+'tCallback.'+'\x20Update\x20it'+'\x20to\x20latest'+'.');const _0x10e3ed=[];Mi['setValue'](_0x5d820a['x'],_0x5d820a['y'],_0x5d820a['z']),Di['setValue'](_0x540388['x'],_0x540388['y'],_0x540388['z']);const _0x36bb4d=new Ammo['AllHitsRay'+'ResultCall'+'back'](Mi,Di);if(typeof _0x286aa0['filterColl'+'isionGroup']=='number'&&_0x36bb4d['set_m_coll'+'isionFilte'+'rGroup'](_0x286aa0['filterColl'+'isionGroup']),typeof _0x286aa0['filterColl'+'isionMask']=='number'&&_0x36bb4d['set_m_coll'+'isionFilte'+'rMask'](_0x286aa0['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](Mi,Di,_0x36bb4d),_0x36bb4d['hasHit']()){const _0x35b5e2=_0x36bb4d['get_m_coll'+'isionObjec'+'ts'](),_0x273aac=_0x36bb4d['get_m_hitP'+'ointWorld'](),_0x5a52fa=_0x36bb4d['get_m_hitN'+'ormalWorld'](),_0x13b4cf=_0x36bb4d['get_m_hitF'+'ractions'](),_0x5cb177=_0x35b5e2['size']();for(let _0x15fba0=0x1df+-0x139d+0x11be;_0x15fba0<_0x5cb177;_0x15fba0++){const _0x1ef593=Ammo['castObject'](_0x35b5e2['at'](_0x15fba0),Ammo['btRigidBod'+'y']);if(_0x1ef593&&_0x1ef593['entity']){if(_0x286aa0['filterTags']&&!_0x1ef593['entity']['tags']['has'](..._0x286aa0['filterTags'])||_0x286aa0['filterCall'+'back']&&!_0x286aa0['filterCall'+'back'](_0x1ef593['entity']))continue;const _0x6af96a=_0x273aac['at'](_0x15fba0),_0x406a58=_0x5a52fa['at'](_0x15fba0),_0x22271d=new eS(_0x1ef593['entity'],new D(_0x6af96a['x'](),_0x6af96a['y'](),_0x6af96a['z']()),new D(_0x406a58['x'](),_0x406a58['y'](),_0x406a58['z']()),_0x13b4cf['at'](_0x15fba0));_0x10e3ed['push'](_0x22271d);}}_0x286aa0['sort']&&_0x10e3ed['sort']((_0x24c53c,_0x2f48e2)=>_0x24c53c['hitFractio'+'n']-_0x2f48e2['hitFractio'+'n']);}return Ammo['destroy'](_0x36bb4d),_0x10e3ed;}['_storeColl'+'ision'](_0x562a56,_0xeeb775){let _0x39cbee=!(0x61*0x67+0x305*-0x1+-0x2401);const _0x4863fc=_0x562a56['getGuid']();return this['collisions'][_0x4863fc]=this['collisions'][_0x4863fc]||{'others':[],'entity':_0x562a56},this['collisions'][_0x4863fc]['others']['indexOf'](_0xeeb775)<-0xdb2+0xb50*-0x1+0x1902&&(this['collisions'][_0x4863fc]['others']['push'](_0xeeb775),_0x39cbee=!(0x1026+0x416*-0x2+-0x7fa)),this['frameColli'+'sions'][_0x4863fc]=this['frameColli'+'sions'][_0x4863fc]||{'others':[],'entity':_0x562a56},this['frameColli'+'sions'][_0x4863fc]['others']['push'](_0xeeb775),_0x39cbee;}['_createCon'+'tactPointF'+'romAmmo'](_0x41d558){const _0x5f37c8=_0x41d558['get_m_loca'+'lPointA'](),_0x1924f4=_0x41d558['get_m_loca'+'lPointB'](),_0x2d3a8e=_0x41d558['getPositio'+'nWorldOnA'](),_0x3c4c09=_0x41d558['getPositio'+'nWorldOnB'](),_0x41f3d8=_0x41d558['get_m_norm'+'alWorldOnB'](),_0x5b4646=this['contactPoi'+'ntPool']['allocate']();return _0x5b4646['localPoint']['set'](_0x5f37c8['x'](),_0x5f37c8['y'](),_0x5f37c8['z']()),_0x5b4646['localPoint'+'Other']['set'](_0x1924f4['x'](),_0x1924f4['y'](),_0x1924f4['z']()),_0x5b4646['point']['set'](_0x2d3a8e['x'](),_0x2d3a8e['y'](),_0x2d3a8e['z']()),_0x5b4646['pointOther']['set'](_0x3c4c09['x'](),_0x3c4c09['y'](),_0x3c4c09['z']()),_0x5b4646['normal']['set'](_0x41f3d8['x'](),_0x41f3d8['y'](),_0x41f3d8['z']()),_0x5b4646['impulse']=_0x41d558['getApplied'+'Impulse'](),_0x5b4646;}['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x10c313){const _0x4cbf65=_0x10c313['get_m_loca'+'lPointA'](),_0x2b1eaf=_0x10c313['get_m_loca'+'lPointB'](),_0x3dca40=_0x10c313['getPositio'+'nWorldOnA'](),_0x2e1b34=_0x10c313['getPositio'+'nWorldOnB'](),_0x26007f=_0x10c313['get_m_norm'+'alWorldOnB'](),_0x2bfad=this['contactPoi'+'ntPool']['allocate']();return _0x2bfad['localPoint'+'Other']['set'](_0x4cbf65['x'](),_0x4cbf65['y'](),_0x4cbf65['z']()),_0x2bfad['localPoint']['set'](_0x2b1eaf['x'](),_0x2b1eaf['y'](),_0x2b1eaf['z']()),_0x2bfad['pointOther']['set'](_0x3dca40['x'](),_0x3dca40['y'](),_0x3dca40['z']()),_0x2bfad['point']['set'](_0x2e1b34['x'](),_0x2e1b34['y'](),_0x2e1b34['z']()),_0x2bfad['normal']['set'](_0x26007f['x'](),_0x26007f['y'](),_0x26007f['z']()),_0x2bfad['impulse']=_0x10c313['getApplied'+'Impulse'](),_0x2bfad;}['_createSin'+'gleContact'+'Result'](_0x690797,_0x23b06d,_0xdd54e2){const _0x3513e7=this['singleCont'+'actResultP'+'ool']['allocate']();return _0x3513e7['a']=_0x690797,_0x3513e7['b']=_0x23b06d,_0x3513e7['localPoint'+'A']=_0xdd54e2['localPoint'],_0x3513e7['localPoint'+'B']=_0xdd54e2['localPoint'+'Other'],_0x3513e7['pointA']=_0xdd54e2['point'],_0x3513e7['pointB']=_0xdd54e2['pointOther'],_0x3513e7['normal']=_0xdd54e2['normal'],_0x3513e7['impulse']=_0xdd54e2['impulse'],_0x3513e7;}['_createCon'+'tactResult'](_0x49d0fc,_0x2e1a9c){const _0x535840=this['contactRes'+'ultPool']['allocate']();return _0x535840['other']=_0x49d0fc,_0x535840['contacts']=_0x2e1a9c,_0x535840;}['_cleanOldC'+'ollisions'](){for(const _0x5b4ddf in this['collisions'])if(this['collisions']['hasOwnProp'+'erty'](_0x5b4ddf)){const _0xba37cc=this['frameColli'+'sions'][_0x5b4ddf],_0x2a3389=this['collisions'][_0x5b4ddf],_0x45ca93=_0x2a3389['entity'],_0x1da4c2=_0x45ca93['collision'],_0x17b2d6=_0x45ca93['rigidbody'],_0x457766=_0x2a3389['others'];let _0x1581ee=_0x457766['length'];for(;_0x1581ee--;){const _0x3f12dc=_0x457766[_0x1581ee];(!_0xba37cc||_0xba37cc['others']['indexOf'](_0x3f12dc)<0x35*-0x5+0x2*0x102b+-0x1f4d)&&(_0x457766['splice'](_0x1581ee,-0x47b*0x8+-0xc*0x3f+0xcef*0x3),_0x45ca93['trigger']?(_0x1da4c2&&_0x1da4c2['fire']('triggerlea'+'ve',_0x3f12dc),_0x3f12dc['rigidbody']&&_0x3f12dc['rigidbody']['fire']('triggerlea'+'ve',_0x45ca93)):_0x3f12dc['trigger']||(_0x17b2d6&&_0x17b2d6['fire']('collisione'+'nd',_0x3f12dc),_0x1da4c2&&_0x1da4c2['fire']('collisione'+'nd',_0x3f12dc)));}_0x457766['length']===0x1f07+0x1*-0x24cf+0x5c8&&delete this['collisions'][_0x5b4ddf];}}['_hasContac'+'tEvent'](_0x4a6663){const _0x2c6f3b=_0x4a6663['collision'];if(_0x2c6f3b&&(_0x2c6f3b['hasEvent']('collisions'+'tart')||_0x2c6f3b['hasEvent']('collisione'+'nd')||_0x2c6f3b['hasEvent']('contact')))return!(-0x1*-0xf5b+-0x24c7+0x156c);const _0x52a1a4=_0x4a6663['rigidbody'];return _0x52a1a4&&(_0x52a1a4['hasEvent']('collisions'+'tart')||_0x52a1a4['hasEvent']('collisione'+'nd')||_0x52a1a4['hasEvent']('contact'));}['_checkForC'+'ollisions'](_0x53115a,_0x16fea1){const _0x61826d=Ammo['wrapPointe'+'r'](_0x53115a,Ammo['btDynamics'+'World'])['getDispatc'+'her'](),_0x15d208=_0x61826d['getNumMani'+'folds']();this['frameColli'+'sions']={};for(let _0x17619d=0x271*0x2+0x47*0x5c+-0x1e66;_0x17619d<_0x15d208;_0x17619d++){const _0x602d77=_0x61826d['getManifol'+'dByIndexIn'+'ternal'](_0x17619d),_0xfeafd5=_0x602d77['getBody0'](),_0x5e11ab=_0x602d77['getBody1'](),_0x201da6=Ammo['castObject'](_0xfeafd5,Ammo['btRigidBod'+'y']),_0x3e8214=Ammo['castObject'](_0x5e11ab,Ammo['btRigidBod'+'y']),_0x5d9a39=_0x201da6['entity'],_0x581c09=_0x3e8214['entity'];if(!_0x5d9a39||!_0x581c09)continue;const _0x3c399c=_0x201da6['getCollisi'+'onFlags'](),_0x33c6ff=_0x3e8214['getCollisi'+'onFlags'](),_0x47aa3f=_0x602d77['getNumCont'+'acts'](),_0x3e3928=[],_0x3af88a=[];let _0x137c17;if(_0x47aa3f>-0x1067+0x1330+-0x2c9){if(_0x3c399c&Po||_0x33c6ff&Po){const _0x173133=_0x5d9a39['collision']&&(_0x5d9a39['collision']['hasEvent']('triggerent'+'er')||_0x5d9a39['collision']['hasEvent']('triggerlea'+'ve')),_0xbe0c22=_0x581c09['collision']&&(_0x581c09['collision']['hasEvent']('triggerent'+'er')||_0x581c09['collision']['hasEvent']('triggerlea'+'ve')),_0x343721=_0x5d9a39['rigidbody']&&(_0x5d9a39['rigidbody']['hasEvent']('triggerent'+'er')||_0x5d9a39['rigidbody']['hasEvent']('triggerlea'+'ve')),_0x58151a=_0x581c09['rigidbody']&&(_0x581c09['rigidbody']['hasEvent']('triggerent'+'er')||_0x581c09['rigidbody']['hasEvent']('triggerlea'+'ve'));_0x173133&&(_0x137c17=this['_storeColl'+'ision'](_0x5d9a39,_0x581c09),_0x137c17&&!(_0x33c6ff&Po)&&_0x5d9a39['collision']['fire']('triggerent'+'er',_0x581c09)),_0xbe0c22&&(_0x137c17=this['_storeColl'+'ision'](_0x581c09,_0x5d9a39),_0x137c17&&!(_0x3c399c&Po)&&_0x581c09['collision']['fire']('triggerent'+'er',_0x5d9a39)),_0x343721&&(_0x137c17||(_0x137c17=this['_storeColl'+'ision'](_0x581c09,_0x5d9a39)),_0x137c17&&_0x5d9a39['rigidbody']['fire']('triggerent'+'er',_0x581c09)),_0x58151a&&(_0x137c17||(_0x137c17=this['_storeColl'+'ision'](_0x5d9a39,_0x581c09)),_0x137c17&&_0x581c09['rigidbody']['fire']('triggerent'+'er',_0x5d9a39));}else{const _0x18e0e2=this['_hasContac'+'tEvent'](_0x5d9a39),_0xbc4f76=this['_hasContac'+'tEvent'](_0x581c09),_0x171fec=this['hasEvent']('contact');if(_0x171fec||_0x18e0e2||_0xbc4f76){for(let _0x176dfd=0x7d*-0x1f+0x217d+-0x125a;_0x176dfd<_0x47aa3f;_0x176dfd++){const _0x516980=_0x602d77['getContact'+'Point'](_0x176dfd),_0x349d78=this['_createCon'+'tactPointF'+'romAmmo'](_0x516980);if(_0x18e0e2||_0xbc4f76){_0x3e3928['push'](_0x349d78);const _0x3855c8=this['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x516980);_0x3af88a['push'](_0x3855c8);}if(_0x171fec){const _0x1c6f71=this['_createSin'+'gleContact'+'Result'](_0x5d9a39,_0x581c09,_0x349d78);this['fire']('contact',_0x1c6f71);}}if(_0x18e0e2){const _0x22d61a=this['_createCon'+'tactResult'](_0x581c09,_0x3e3928);_0x137c17=this['_storeColl'+'ision'](_0x5d9a39,_0x581c09),_0x5d9a39['collision']&&(_0x5d9a39['collision']['fire']('contact',_0x22d61a),_0x137c17&&_0x5d9a39['collision']['fire']('collisions'+'tart',_0x22d61a)),_0x5d9a39['rigidbody']&&(_0x5d9a39['rigidbody']['fire']('contact',_0x22d61a),_0x137c17&&_0x5d9a39['rigidbody']['fire']('collisions'+'tart',_0x22d61a));}if(_0xbc4f76){const _0x1bd457=this['_createCon'+'tactResult'](_0x5d9a39,_0x3af88a);_0x137c17=this['_storeColl'+'ision'](_0x581c09,_0x5d9a39),_0x581c09['collision']&&(_0x581c09['collision']['fire']('contact',_0x1bd457),_0x137c17&&_0x581c09['collision']['fire']('collisions'+'tart',_0x1bd457)),_0x581c09['rigidbody']&&(_0x581c09['rigidbody']['fire']('contact',_0x1bd457),_0x137c17&&_0x581c09['rigidbody']['fire']('collisions'+'tart',_0x1bd457));}}}}}this['_cleanOldC'+'ollisions'](),this['contactPoi'+'ntPool']['freeAll'](),this['contactRes'+'ultPool']['freeAll'](),this['singleCont'+'actResultP'+'ool']['freeAll']();}['onUpdate'](_0x27289f){let _0x24001c,_0x577b06;this['_stats']['physicsSta'+'rt']=de(),this['_gravityFl'+'oat32'][0x3*-0x6d9+0x81*-0x3b+0x861*0x6]=this['gravity']['x'],this['_gravityFl'+'oat32'][-0x2185*-0x1+-0x219a+0x16]=this['gravity']['y'],this['_gravityFl'+'oat32'][0x805*0x4+0x57*-0x28+0x1d9*-0xa]=this['gravity']['z'];const _0x13c2fc=this['dynamicsWo'+'rld']['getGravity']();(_0x13c2fc['x']()!==this['_gravityFl'+'oat32'][0x5*-0x715+-0xc9d+-0x2*-0x1803]||_0x13c2fc['y']()!==this['_gravityFl'+'oat32'][-0x59d+-0x1204+0x17a2]||_0x13c2fc['z']()!==this['_gravityFl'+'oat32'][0x26de+0x13*0x5+-0x273b])&&(_0x13c2fc['setValue'](this['gravity']['x'],this['gravity']['y'],this['gravity']['z']),this['dynamicsWo'+'rld']['setGravity'](_0x13c2fc));const _0x46e67f=this['_triggers'];for(_0x24001c=-0x24d5+-0x2b2+0xd2d*0x3,_0x577b06=_0x46e67f['length'];_0x24001c<_0x577b06;_0x24001c++)_0x46e67f[_0x24001c]['updateTran'+'sform']();const _0x1ea108=this['_compounds'];for(_0x24001c=0x21bb*-0x1+0x16ee+-0x229*-0x5,_0x577b06=_0x1ea108['length'];_0x24001c<_0x577b06;_0x24001c++)_0x1ea108[_0x24001c]['_updateCom'+'pound']();const _0x5a80c7=this['_kinematic'];for(_0x24001c=-0x1ed2+0x1f66+-0x94,_0x577b06=_0x5a80c7['length'];_0x24001c<_0x577b06;_0x24001c++)_0x5a80c7[_0x24001c]['_updateKin'+'ematic']();this['dynamicsWo'+'rld']['stepSimula'+'tion'](_0x27289f,this['maxSubStep'+'s'],this['fixedTimeS'+'tep']);const _0x3cd27b=this['_dynamic'];for(_0x24001c=0x189*-0x3+0x1*0x1c49+-0x17ae,_0x577b06=_0x3cd27b['length'];_0x24001c<_0x577b06;_0x24001c++)_0x3cd27b[_0x24001c]['_updateDyn'+'amic']();this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']||this['_checkForC'+'ollisions'](Ammo['getPointer'](this['dynamicsWo'+'rld']),_0x27289f),this['_stats']['physicsTim'+'e']=de()-this['_stats']['physicsSta'+'rt'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),typeof Ammo<'u'&&(Ammo['destroy'](this['dynamicsWo'+'rld']),Ammo['destroy'](this['solver']),Ammo['destroy'](this['overlappin'+'gPairCache']),Ammo['destroy'](this['dispatcher']),Ammo['destroy'](this['collisionC'+'onfigurati'+'on']),Ammo['destroy'](Mi),Ammo['destroy'](Di),this['dynamicsWo'+'rld']=null,this['solver']=null,this['overlappin'+'gPairCache']=null,this['dispatcher']=null,this['collisionC'+'onfigurati'+'on']=null,Mi=null,Di=null,bs['onAppDestr'+'oy']());}}h(wm,'EVENT_CONT'+'ACT','contact'),we['_buildAcce'+'ssors'](bs['prototype'],o0);const Za='none',qO='blend',tS=new te();class l0 extends we{constructor(_0x48bbce,_0x49464b){super(_0x48bbce,_0x49464b),this['_resolutio'+'n']=new J(-0x217c+0xb85*-0x3+0x468b,0x1*0x252a+0x1524+-0x390e),this['_reference'+'Resolution']=new J(0x1*0x1fff+0x2*-0xbae+-0x623,-0x1c*0x79+-0x141a*-0x1+0x2cf*-0x2),this['_scaleMode']=Za,this['scale']=-0x25*0xef+0x2*-0xc9c+0x3bc4,this['_scaleBlen'+'d']=-0x1*0x17d+0x58d+0x34*-0x14+0.5,this['_priority']=-0x1b8e*0x1+0x1*0x403+0x11f*0x15,this['_screenSpa'+'ce']=!(-0x16*-0x3b+-0xd6*-0x5+-0x93f),this['cull']=this['_screenSpa'+'ce'],this['_screenMat'+'rix']=new te(),this['_elements']=new Set(),_0x48bbce['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this);}['syncDrawOr'+'der'](){this['system']['queueDrawO'+'rderSync'](this['entity']['getGuid'](),this['_processDr'+'awOrderSyn'+'c'],this);}['_recurseDr'+'awOrderSyn'+'c'](_0x4669fb,_0xed8799){var _0xee216d;if(!(_0x4669fb instanceof lt))return _0xed8799;if(_0x4669fb['element']){const _0x103932=_0x4669fb['element']['drawOrder'];_0x4669fb['element']['drawOrder']=_0xed8799++,_0x4669fb['element']['_batchGrou'+'pId']>=0x34d+-0x12e3+0xf96&&_0x103932!==_0x4669fb['element']['drawOrder']&&((_0xee216d=this['system']['app']['batcher'])==null||_0xee216d['markGroupD'+'irty'](_0x4669fb['element']['_batchGrou'+'pId']));}_0x4669fb['particlesy'+'stem']&&(_0x4669fb['particlesy'+'stem']['drawOrder']=_0xed8799++);const _0x37c197=_0x4669fb['children'];for(let _0x22118c=-0x2148+-0x37*-0x11+0x1da1;_0x22118c<_0x37c197['length'];_0x22118c++)_0xed8799=this['_recurseDr'+'awOrderSyn'+'c'](_0x37c197[_0x22118c],_0xed8799);return _0xed8799;}['_processDr'+'awOrderSyn'+'c'](){this['_recurseDr'+'awOrderSyn'+'c'](this['entity'],0xc8f+-0x12be+0x630),this['fire']('syncdrawor'+'der');}['_calcProje'+'ctionMatri'+'x'](){const _0x3b0b56=this['_resolutio'+'n']['x']/this['scale'],_0x13c79c=this['_resolutio'+'n']['y']/this['scale'],_0x48c6dd=0xeed*0x1+0xe4+-0xfd1,_0x3bb276=_0x3b0b56,_0x161793=-_0x13c79c;this['_screenMat'+'rix']['setOrtho'](_0x48c6dd,_0x3bb276,_0x161793,0x5c6+0x1a1a*-0x1+-0x2*-0xa2a,0x1ce2+0x1*0x574+-0x2255,-(-0xfa5+-0x1813+0x27b9)),this['_screenSpa'+'ce']||(tS['setScale']((-0xa1*0x29+0x257d+-0xbb4+0.5)*_0x3b0b56,(-0x1628+-0x1134+0x275c+0.5)*_0x13c79c,-0x14ed+0x1db5+-0x1*0x8c7),this['_screenMat'+'rix']['mul2'](tS,this['_screenMat'+'rix']));}['_updateSca'+'le'](){this['scale']=this['_calcScale'](this['_resolutio'+'n'],this['referenceR'+'esolution']);}['_calcScale'](_0x3c141e,_0x3e566b){const _0x5b5d82=Math['log2']((_0x3c141e['x']||-0x1178+0x184d+-0x6d4)/_0x3e566b['x']),_0x44d3b5=Math['log2']((_0x3c141e['y']||-0xe34+-0x8d*0x11+0x1792)/_0x3e566b['y']);return Math['pow'](0x3e3+0x1*-0x3d6+-0xb,_0x5b5d82*(0x2f0+-0x2*0xed6+0x1abd-this['_scaleBlen'+'d'])+_0x44d3b5*this['_scaleBlen'+'d']);}['_onResize'](_0x2c30f1,_0xdb362c){this['_screenSpa'+'ce']&&(this['_resolutio'+'n']['set'](_0x2c30f1,_0xdb362c),this['resolution']=this['_resolutio'+'n']);}['_bindEleme'+'nt'](_0x2bcdfd){this['_elements']['add'](_0x2bcdfd);}['_unbindEle'+'ment'](_0x174bef){this['_elements']['delete'](_0x174bef);}['onRemove'](){this['system']['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['fire']('remove'),this['_elements']['forEach'](_0x363427=>_0x363427['_onScreenR'+'emove']()),this['_elements']['clear'](),this['off']();}set['resolution'](_0x3b7bab){this['_screenSpa'+'ce']?this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']):this['_resolutio'+'n']['set'](_0x3b7bab['x'],_0x3b7bab['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:resolu'+'tion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x536df8=>_0x536df8['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['resolution'](){return this['_resolutio'+'n'];}set['referenceR'+'esolution'](_0x58d4c2){this['_reference'+'Resolution']['set'](_0x58d4c2['x'],_0x58d4c2['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:refere'+'nceresolut'+'ion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x18d3ae=>_0x18d3ae['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['referenceR'+'esolution'](){return this['_scaleMode']===Za?this['_resolutio'+'n']:this['_reference'+'Resolution'];}set['screenSpac'+'e'](_0x3f8a92){this['_screenSpa'+'ce']=_0x3f8a92,this['_screenSpa'+'ce']&&this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']),this['resolution']=this['_resolutio'+'n'],this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:screen'+'space',this['_screenSpa'+'ce']),this['_elements']['forEach'](_0x40b31a=>_0x40b31a['_onScreenS'+'paceChange']());}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['scaleMode'](_0x5ab2f3){_0x5ab2f3!==Za&&_0x5ab2f3!==qO&&(_0x5ab2f3=Za),!this['_screenSpa'+'ce']&&_0x5ab2f3!==Za&&(_0x5ab2f3=Za),this['_scaleMode']=_0x5ab2f3,this['resolution']=this['_resolutio'+'n'],this['fire']('set:scalem'+'ode',this['_scaleMode']);}get['scaleMode'](){return this['_scaleMode'];}set['scaleBlend'](_0x199abc){this['_scaleBlen'+'d']=_0x199abc,this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:scaleb'+'lend',this['_scaleBlen'+'d']),this['_elements']['forEach'](_0x340119=>_0x340119['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['scaleBlend'](){return this['_scaleBlen'+'d'];}set['priority'](_0x515afc){_0x515afc>0x10b*0x4+-0x60a+0x1*0x2dd&&(w['warn']('Clamping\x20s'+'creen\x20prio'+'rity\x20from\x20'+_0x515afc+'\x20to\x20255'),_0x515afc=-0x520+0x20*-0xd7+0x20ff),this['_priority']!==_0x515afc&&(this['_priority']=_0x515afc,this['syncDrawOr'+'der']());}get['priority'](){return this['_priority'];}}class jO{constructor(){this['enabled']=!(-0xb7a*0x2+0x13cc+0x2*0x194);}}const Uu=['enabled'];class YO extends ct{constructor(_0x551f5b){super(_0x551f5b),this['id']='screen',this['ComponentT'+'ype']=l0,this['DataType']=jO,this['schema']=Uu,this['windowReso'+'lution']=new J(),this['_drawOrder'+'SyncQueue']=new fx(),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['initialize'+'ComponentD'+'ata'](_0x1ebe21,_0x515ad0,_0x1a82f6){_0x515ad0['priority']!==void(0x1*-0x269e+-0x18a5+-0x4f*-0xcd)&&(_0x1ebe21['priority']=_0x515ad0['priority']),_0x515ad0['screenSpac'+'e']!==void(-0x17f2+0x148a+0x368)&&(_0x1ebe21['screenSpac'+'e']=_0x515ad0['screenSpac'+'e']),_0x1ebe21['cull']=_0x1ebe21['screenSpac'+'e'],_0x515ad0['scaleMode']!==void(0x5*0x587+-0x2ef*0xb+0x4a2)&&(_0x1ebe21['scaleMode']=_0x515ad0['scaleMode']),_0x515ad0['scaleBlend']!==void(0x1f8c+0x1d7e+-0x3d0a)&&(_0x1ebe21['scaleBlend']=_0x515ad0['scaleBlend']),_0x515ad0['resolution']!==void(-0x16f4+-0x173f+0x2e33)&&(_0x515ad0['resolution']instanceof J?_0x1ebe21['_resolutio'+'n']['copy'](_0x515ad0['resolution']):_0x1ebe21['_resolutio'+'n']['set'](_0x515ad0['resolution'][0x2*-0x130c+-0xc4e+0x3266],_0x515ad0['resolution'][0x19f*-0xb+0x1*-0x1361+0x7*0x551]),_0x1ebe21['resolution']=_0x1ebe21['_resolutio'+'n']),_0x515ad0['referenceR'+'esolution']!==void(-0xbee*0x3+0x1*0x1349+-0xa9*-0x19)&&(_0x515ad0['referenceR'+'esolution']instanceof J?_0x1ebe21['_reference'+'Resolution']['copy'](_0x515ad0['referenceR'+'esolution']):_0x1ebe21['_reference'+'Resolution']['set'](_0x515ad0['referenceR'+'esolution'][0x2*-0xbbd+0x1ece+-0x43*0x1c],_0x515ad0['referenceR'+'esolution'][0xf8*0x16+-0x111b+0x1*-0x434]),_0x1ebe21['referenceR'+'esolution']=_0x1ebe21['_reference'+'Resolution']),_0x1ebe21['syncDrawOr'+'der'](),super['initialize'+'ComponentD'+'ata'](_0x1ebe21,_0x515ad0,Uu);}['destroy'](){super['destroy'](),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this);}['_onUpdate'](_0x50f19b){const _0x6a71fb=this['store'];for(const _0xd4142f in _0x6a71fb)_0x6a71fb[_0xd4142f]['entity']['screen']['update']&&_0x6a71fb[_0xd4142f]['entity']['screen']['update'](_0x50f19b);}['_onResize'](_0x406ded,_0x45ad0b){this['windowReso'+'lution']['x']=_0x406ded,this['windowReso'+'lution']['y']=_0x45ad0b;}['cloneCompo'+'nent'](_0x412a9b,_0x35755d){const _0xb86376=_0x412a9b['screen'];return this['addCompone'+'nt'](_0x35755d,{'enabled':_0xb86376['enabled'],'screenSpace':_0xb86376['screenSpac'+'e'],'scaleMode':_0xb86376['scaleMode'],'resolution':_0xb86376['resolution']['clone'](),'referenceResolution':_0xb86376['referenceR'+'esolution']['clone']()});}['onRemoveCo'+'mponent'](_0x5df0a8,_0x1f9a93){_0x1f9a93['onRemove']();}['processDra'+'wOrderSync'+'Queue'](){const _0x1d8145=this['_drawOrder'+'SyncQueue']['list']();for(let _0x49ca4e=0x240b+-0x279+-0x2192;_0x49ca4e<_0x1d8145['length'];_0x49ca4e++){const _0x5ec566=_0x1d8145[_0x49ca4e];_0x5ec566['callback']['call'](_0x5ec566['scope']);}this['_drawOrder'+'SyncQueue']['clear']();}['queueDrawO'+'rderSync'](_0x1b61f7,_0x4e93c3,_0x765419){this['_drawOrder'+'SyncQueue']['list']()['length']||this['app']['once']('prerender',this['processDra'+'wOrderSync'+'Queue'],this),this['_drawOrder'+'SyncQueue']['has'](_0x1b61f7)||this['_drawOrder'+'SyncQueue']['push'](_0x1b61f7,{'callback':_0x4e93c3,'scope':_0x765419});}}we['_buildAcce'+'ssors'](l0['prototype'],Uu);const lr=new J(),sS=new D(),Hr=new Dn(),iS=new QS(),rS=new D(),vo=new D(),KO=new le(),ZO={'x':'y','y':'x'};class Go extends me{constructor(_0x35bc3e,_0x471cec){if(super(),!_0x35bc3e||!(_0x35bc3e instanceof hs))throw new Error('Element\x20wa'+'s\x20null\x20or\x20'+'not\x20an\x20Ele'+'mentCompon'+'ent');if(_0x471cec&&_0x471cec!=='x'&&_0x471cec!=='y')throw new Error('Unrecogniz'+'ed\x20axis:\x20'+_0x471cec);this['_element']=_0x35bc3e,this['_app']=_0x35bc3e['system']['app'],this['_axis']=_0x471cec||null,this['_enabled']=!(0x15d8+0x1*-0x15f7+0x1f),this['_dragScale']=new D(),this['_dragStart'+'MousePosit'+'ion']=new D(),this['_dragStart'+'HandlePosi'+'tion']=new D(),this['_deltaMous'+'ePosition']=new D(),this['_deltaHand'+'lePosition']=new D(),this['_isDraggin'+'g']=!(-0x1217+-0x1*-0x1fa1+0xe7*-0xf),this['_toggleLif'+'ecycleList'+'eners']('on');}['_toggleLif'+'ecycleList'+'eners'](_0x2ff359){this['_element'][_0x2ff359]('mousedown',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x2ff359]('touchstart',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x2ff359]('selectstar'+'t',this['_onMouseDo'+'wnOrTouchS'+'tart'],this);}['_toggleDra'+'gListeners'](_0x523cd6){const _0xe1e28a=_0x523cd6==='on';this['_hasDragLi'+'steners']&&_0xe1e28a||(this['_app']['mouse']&&(this['_element'][_0x523cd6]('mousemove',this['_onMove'],this),this['_element'][_0x523cd6]('mouseup',this['_onMouseUp'+'OrTouchEnd'],this)),Ae['touch']&&(this['_element'][_0x523cd6]('touchmove',this['_onMove'],this),this['_element'][_0x523cd6]('touchend',this['_onMouseUp'+'OrTouchEnd'],this),this['_element'][_0x523cd6]('touchcance'+'l',this['_onMouseUp'+'OrTouchEnd'],this)),this['_element'][_0x523cd6]('selectmove',this['_onMove'],this),this['_element'][_0x523cd6]('selectend',this['_onMouseUp'+'OrTouchEnd'],this),this['_hasDragLi'+'steners']=_0xe1e28a);}['_onMouseDo'+'wnOrTouchS'+'tart'](_0x4f7b9f){if(this['_element']&&!this['_isDraggin'+'g']&&this['enabled']){this['_dragCamer'+'a']=_0x4f7b9f['camera'],this['_calculate'+'DragScale']();const _0x4c9c01=this['_screenToL'+'ocal'](_0x4f7b9f);_0x4c9c01&&(this['_toggleDra'+'gListeners']('on'),this['_isDraggin'+'g']=!(0x19a3+0x33b*-0x5+-0x25f*0x4),this['_dragStart'+'MousePosit'+'ion']['copy'](_0x4c9c01),this['_dragStart'+'HandlePosi'+'tion']['copy'](this['_element']['entity']['getLocalPo'+'sition']()),this['fire']('drag:start'));}}['_onMouseUp'+'OrTouchEnd'](){this['_isDraggin'+'g']&&(this['_isDraggin'+'g']=!(0x1f*0x4f+0xc1*0x1d+-0x649*0x5),this['_toggleDra'+'gListeners']('off'),this['fire']('drag:end'));}['_screenToL'+'ocal'](_0x4fcc65){return _0x4fcc65['inputSourc'+'e']?Hr['set'](_0x4fcc65['inputSourc'+'e']['getOrigin'](),_0x4fcc65['inputSourc'+'e']['getDirecti'+'on']()):(this['_determine'+'InputPosit'+'ion'](_0x4fcc65),this['_chooseRay'+'OriginAndD'+'irection']()),rS['copy'](this['_element']['entity']['forward'])['mulScalar'](-(0x1*-0x473+0x1979*-0x1+-0xa3*-0x2f)),iS['setFromPoi'+'ntNormal'](this['_element']['entity']['getPositio'+'n'](),rS),iS['intersects'+'Ray'](Hr,vo)?(KO['copy'](this['_element']['entity']['getRotatio'+'n']())['invert']()['transformV'+'ector'](vo,vo),vo['mul'](this['_dragScale']),vo):null;}['_determine'+'InputPosit'+'ion'](_0x1b8813){const _0x490879=this['_app']['graphicsDe'+'vice']['maxPixelRa'+'tio'];typeof _0x1b8813['x']<'u'&&typeof _0x1b8813['y']<'u'?(lr['x']=_0x1b8813['x']*_0x490879,lr['y']=_0x1b8813['y']*_0x490879):_0x1b8813['changedTou'+'ches']?(lr['x']=_0x1b8813['changedTou'+'ches'][0xfa3+0x61f*-0x5+0x4*0x3be]['x']*_0x490879,lr['y']=_0x1b8813['changedTou'+'ches'][0x291+-0x36*0x79+0x16f5]['y']*_0x490879):console['warn']('Could\x20not\x20'+'determine\x20'+'position\x20f'+'rom\x20input\x20'+'event');}['_chooseRay'+'OriginAndD'+'irection'](){this['_element']['screen']&&this['_element']['screen']['screen']['screenSpac'+'e']?(Hr['origin']['set'](lr['x'],-lr['y'],-0xf56+-0x622*-0x4+0x1*-0x932),Hr['direction']['copy'](D['FORWARD'])):(sS['copy'](this['_dragCamer'+'a']['screenToWo'+'rld'](lr['x'],lr['y'],-0x62f+-0x1*0x1619+0x1c49)),Hr['origin']['copy'](this['_dragCamer'+'a']['entity']['getPositio'+'n']()),Hr['direction']['copy'](sS)['sub'](Hr['origin'])['normalize']());}['_calculate'+'DragScale'](){let _0x4c060e=this['_element']['entity']['parent'];const _0x28dc14=this['_element']['screen']&&this['_element']['screen']['screen'],_0x37e799=_0x28dc14&&_0x28dc14['screenSpac'+'e'],_0x2d0d15=_0x37e799?_0x28dc14['scale']:0x2*-0x7c1+-0x911+0x1894,_0x365619=this['_dragScale'];for(_0x365619['set'](_0x2d0d15,_0x2d0d15,_0x2d0d15);_0x4c060e&&(_0x365619['mul'](_0x4c060e['getLocalSc'+'ale']()),_0x4c060e=_0x4c060e['parent'],!(_0x37e799&&_0x4c060e['screen'])););_0x365619['x']=(-0x2*0xc4b+-0x17b*0x1+0x47*0x5e)/_0x365619['x'],_0x365619['y']=(0x22e*-0x2+-0x1*0x12c1+0x2*0xb8f)/_0x365619['y'],_0x365619['z']=-0x165b*0x1+-0x10e5+0x2740;}['_onMove'](_0x16eb87){const {_element:_0x458bf6,_deltaMousePosition:_0x400d64,_deltaHandlePosition:_0x278222,_axis:_0x57fdd3}=this;if(_0x458bf6&&this['_isDraggin'+'g']&&this['enabled']&&_0x458bf6['enabled']&&_0x458bf6['entity']['enabled']){const _0x20dc31=this['_screenToL'+'ocal'](_0x16eb87);if(_0x20dc31){if(_0x400d64['sub2'](_0x20dc31,this['_dragStart'+'MousePosit'+'ion']),_0x278222['add2'](this['_dragStart'+'HandlePosi'+'tion'],_0x400d64),_0x57fdd3){const _0x2d9201=_0x458bf6['entity']['getLocalPo'+'sition'](),_0x502cd1=ZO[_0x57fdd3];_0x278222[_0x502cd1]=_0x2d9201[_0x502cd1];}_0x458bf6['entity']['setLocalPo'+'sition'](_0x278222),this['fire']('drag:move',_0x278222);}}}['destroy'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleDra'+'gListeners']('off');}set['enabled'](_0x4d0c7c){this['_enabled']=_0x4d0c7c;}get['enabled'](){return this['_enabled'];}get['isDragging'](){return this['_isDraggin'+'g'];}}h(Go,'EVENT_DRAG'+'START','drag:start'),h(Go,'EVENT_DRAG'+'END','drag:end'),h(Go,'EVENT_DRAG'+'MOVE','drag:move');const QO=0x1*0x29+0x16e*0x17+-0x210b,aS=0x1655+-0x588+-0x10cc,JO=-0xb86+-0x39*-0x17+0x669,eF=0x2*0xa1+-0x65*0x13+-0x1*-0x63d,tF=-0x387*0x1+0x43*0x15+0x1f7*-0x1,xo=new J();class c0 extends we{constructor(_0x19de82,_0x2a21fe){super(_0x19de82,_0x2a21fe),h(this,'_viewportE'+'ntity',null),h(this,'_contentEn'+'tity',null),h(this,'_horizonta'+'lScrollbar'+'Entity',null),h(this,'_verticalS'+'crollbarEn'+'tity',null),h(this,'_evtElemen'+'tRemove',null),h(this,'_evtViewpo'+'rtElementR'+'emove',null),h(this,'_evtViewpo'+'rtResize',null),h(this,'_evtConten'+'tEntityEle'+'mentAdd',null),h(this,'_evtConten'+'tElementRe'+'move',null),h(this,'_evtConten'+'tResize',null),h(this,'_evtHorizo'+'ntalScroll'+'barAdd',null),h(this,'_evtHorizo'+'ntalScroll'+'barRemove',null),h(this,'_evtHorizo'+'ntalScroll'+'barValue',null),h(this,'_evtVertic'+'alScrollba'+'rAdd',null),h(this,'_evtVertic'+'alScrollba'+'rRemove',null),h(this,'_evtVertic'+'alScrollba'+'rValue',null),(this['_scrollbar'+'UpdateFlag'+'s']={},this['_scrollbar'+'Entities']={},this['_prevConte'+'ntSizes']={},this['_prevConte'+'ntSizes'][Ce]=null,this['_prevConte'+'ntSizes'][je]=null,this['_scroll']=new J(),this['_velocity']=new D(),this['_dragStart'+'Position']=new D(),this['_disabledC'+'ontentInpu'+'t']=!(0x13f*-0x2+0x6c4+-0x445),this['_disabledC'+'ontentInpu'+'tEntities']=[],this['_toggleLif'+'ecycleList'+'eners']('on'),this['_toggleEle'+'mentListen'+'ers']('on'));}get['data'](){const _0x42ec99=this['system']['store'][this['entity']['getGuid']()];return _0x42ec99?_0x42ec99['data']:null;}set['enabled'](_0x4971be){this['_setValue']('enabled',_0x4971be);}get['enabled'](){return this['data']['enabled'];}set['horizontal'](_0x1789c5){this['_setValue']('horizontal',_0x1789c5);}get['horizontal'](){return this['data']['horizontal'];}set['vertical'](_0x4e4509){this['_setValue']('vertical',_0x4e4509);}get['vertical'](){return this['data']['vertical'];}set['scrollMode'](_0x252358){this['_setValue']('scrollMode',_0x252358);}get['scrollMode'](){return this['data']['scrollMode'];}set['bounceAmou'+'nt'](_0x34690f){this['_setValue']('bounceAmou'+'nt',_0x34690f);}get['bounceAmou'+'nt'](){return this['data']['bounceAmou'+'nt'];}set['friction'](_0x4937a2){this['_setValue']('friction',_0x4937a2);}get['friction'](){return this['data']['friction'];}set['dragThresh'+'old'](_0x4872f8){this['_setValue']('dragThresh'+'old',_0x4872f8);}get['dragThresh'+'old'](){return this['data']['dragThresh'+'old'];}set['useMouseWh'+'eel'](_0x1d8182){this['_setValue']('useMouseWh'+'eel',_0x1d8182);}get['useMouseWh'+'eel'](){return this['data']['useMouseWh'+'eel'];}set['mouseWheel'+'Sensitivit'+'y'](_0x405784){this['_setValue']('mouseWheel'+'Sensitivit'+'y',_0x405784);}get['mouseWheel'+'Sensitivit'+'y'](){return this['data']['mouseWheel'+'Sensitivit'+'y'];}set['horizontal'+'ScrollbarV'+'isibility'](_0x1b980e){this['_setValue']('horizontal'+'ScrollbarV'+'isibility',_0x1b980e);}get['horizontal'+'ScrollbarV'+'isibility'](){return this['data']['horizontal'+'ScrollbarV'+'isibility'];}set['verticalSc'+'rollbarVis'+'ibility'](_0x58f5f5){this['_setValue']('verticalSc'+'rollbarVis'+'ibility',_0x58f5f5);}get['verticalSc'+'rollbarVis'+'ibility'](){return this['data']['verticalSc'+'rollbarVis'+'ibility'];}set['viewportEn'+'tity'](_0xd0dbbc){if(this['_viewportE'+'ntity']===_0xd0dbbc)return;const _0x36d933=typeof _0xd0dbbc=='string';this['_viewportE'+'ntity']&&_0x36d933&&this['_viewportE'+'ntity']['getGuid']()===_0xd0dbbc||(this['_viewportE'+'ntity']&&this['_viewportE'+'ntityUnsub'+'scribe'](),_0xd0dbbc instanceof Ie?this['_viewportE'+'ntity']=_0xd0dbbc:_0x36d933?this['_viewportE'+'ntity']=this['system']['app']['getEntityF'+'romIndex'](_0xd0dbbc)||null:this['_viewportE'+'ntity']=null,this['_viewportE'+'ntity']&&this['_viewportE'+'ntitySubsc'+'ribe'](),this['_viewportE'+'ntity']?this['data']['viewportEn'+'tity']=this['_viewportE'+'ntity']['getGuid']():_0x36d933&&_0xd0dbbc&&(this['data']['viewportEn'+'tity']=_0xd0dbbc));}get['viewportEn'+'tity'](){return this['_viewportE'+'ntity'];}set['contentEnt'+'ity'](_0x3f960b){if(this['_contentEn'+'tity']===_0x3f960b)return;const _0x4e0849=typeof _0x3f960b=='string';this['_contentEn'+'tity']&&_0x4e0849&&this['_contentEn'+'tity']['getGuid']()===_0x3f960b||(this['_contentEn'+'tity']&&this['_contentEn'+'tityUnsubs'+'cribe'](),_0x3f960b instanceof Ie?this['_contentEn'+'tity']=_0x3f960b:_0x4e0849?this['_contentEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x3f960b)||null:this['_contentEn'+'tity']=null,this['_contentEn'+'tity']&&this['_contentEn'+'titySubscr'+'ibe'](),this['_contentEn'+'tity']?this['data']['contentEnt'+'ity']=this['_contentEn'+'tity']['getGuid']():_0x4e0849&&_0x3f960b&&(this['data']['contentEnt'+'ity']=_0x3f960b));}get['contentEnt'+'ity'](){return this['_contentEn'+'tity'];}set['horizontal'+'ScrollbarE'+'ntity'](_0x3bf9b1){if(this['_horizonta'+'lScrollbar'+'Entity']===_0x3bf9b1)return;const _0x369eb7=typeof _0x3bf9b1=='string';this['_horizonta'+'lScrollbar'+'Entity']&&_0x369eb7&&this['_horizonta'+'lScrollbar'+'Entity']['getGuid']()===_0x3bf9b1||(this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](),_0x3bf9b1 instanceof Ie?this['_horizonta'+'lScrollbar'+'Entity']=_0x3bf9b1:_0x369eb7?this['_horizonta'+'lScrollbar'+'Entity']=this['system']['app']['getEntityF'+'romIndex'](_0x3bf9b1)||null:this['_horizonta'+'lScrollbar'+'Entity']=null,this['_scrollbar'+'Entities'][Ce]=this['_horizonta'+'lScrollbar'+'Entity'],this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](),this['_horizonta'+'lScrollbar'+'Entity']?this['data']['horizontal'+'ScrollbarE'+'ntity']=this['_horizonta'+'lScrollbar'+'Entity']['getGuid']():_0x369eb7&&_0x3bf9b1&&(this['data']['horizontal'+'ScrollbarE'+'ntity']=_0x3bf9b1));}get['horizontal'+'ScrollbarE'+'ntity'](){return this['_horizonta'+'lScrollbar'+'Entity'];}set['verticalSc'+'rollbarEnt'+'ity'](_0x24889c){if(this['_verticalS'+'crollbarEn'+'tity']===_0x24889c)return;const _0x501a07=typeof _0x24889c=='string';this['_verticalS'+'crollbarEn'+'tity']&&_0x501a07&&this['_verticalS'+'crollbarEn'+'tity']['getGuid']()===_0x24889c||(this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](),_0x24889c instanceof Ie?this['_verticalS'+'crollbarEn'+'tity']=_0x24889c:_0x501a07?this['_verticalS'+'crollbarEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x24889c)||null:this['_verticalS'+'crollbarEn'+'tity']=null,this['_scrollbar'+'Entities'][je]=this['_verticalS'+'crollbarEn'+'tity'],this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](),this['_verticalS'+'crollbarEn'+'tity']?this['data']['verticalSc'+'rollbarEnt'+'ity']=this['_verticalS'+'crollbarEn'+'tity']['getGuid']():_0x501a07&&_0x24889c&&(this['data']['verticalSc'+'rollbarEnt'+'ity']=_0x24889c));}get['verticalSc'+'rollbarEnt'+'ity'](){return this['_verticalS'+'crollbarEn'+'tity'];}set['scroll'](_0xaf19b9){this['_onSetScro'+'ll'](_0xaf19b9['x'],_0xaf19b9['y']);}get['scroll'](){return this['_scroll'];}['_setValue'](_0x783153,_0x312de1){const _0x398b81=this['data'],_0x3b097f=_0x398b81[_0x783153];_0x398b81[_0x783153]=_0x312de1,this['fire']('set',_0x783153,_0x3b097f,_0x312de1);}['_toggleLif'+'ecycleList'+'eners'](_0x1403b6){this[_0x1403b6]('set_horizo'+'ntal',this['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'],this),this[_0x1403b6]('set_vertic'+'al',this['_onSetVert'+'icalScroll'+'ingEnabled'],this),this['entity'][_0x1403b6]('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this);}['_toggleEle'+'mentListen'+'ers'](_0x2c131d){if(this['entity']['element']){if(_0x2c131d==='on'&&this['_hasElemen'+'tListeners'])return;this['entity']['element'][_0x2c131d]('resize',this['_syncAll'],this),this['entity']['element'][_0x2c131d]('mousewheel',this['_onMouseWh'+'eel'],this),this['_hasElemen'+'tListeners']=_0x2c131d==='on';}}['_onElement'+'ComponentA'+'dd'](_0x204df8){this['_evtElemen'+'tRemove']=this['entity']['element']['once']('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['_toggleEle'+'mentListen'+'ers']('on');}['_onElement'+'ComponentR'+'emove'](_0x1ae496){var _0xe54bb3;(_0xe54bb3=this['_evtElemen'+'tRemove'])==null||_0xe54bb3['off'](),this['_evtElemen'+'tRemove']=null,this['_toggleEle'+'mentListen'+'ers']('off');}['_viewportE'+'ntitySubsc'+'ribe'](){this['_evtViewpo'+'rtEntityEl'+'ementAdd']=this['_viewportE'+'ntity']['on']('element:ad'+'d',this['_onViewpor'+'tElementGa'+'in'],this),this['_viewportE'+'ntity']['element']&&this['_onViewpor'+'tElementGa'+'in']();}['_viewportE'+'ntityUnsub'+'scribe'](){var _0x42d6c2,_0x7121ae;(_0x42d6c2=this['_evtViewpo'+'rtEntityEl'+'ementAdd'])==null||_0x42d6c2['off'](),this['_evtViewpo'+'rtEntityEl'+'ementAdd']=null,(_0x7121ae=this['_viewportE'+'ntity'])!=null&&_0x7121ae['element']&&this['_onViewpor'+'tElementLo'+'se']();}['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](){const _0x3c9814=this['_viewportE'+'ntity']['element'];this['_evtViewpo'+'rtElementR'+'emove']=_0x3c9814['once']('beforeremo'+'ve',this['_onViewpor'+'tElementLo'+'se'],this),this['_evtViewpo'+'rtResize']=_0x3c9814['on']('resize',this['_syncAll'],this);}['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe'](){var _0x2c6738,_0x1a4a8a;(_0x2c6738=this['_evtViewpo'+'rtElementR'+'emove'])==null||_0x2c6738['off'](),this['_evtViewpo'+'rtElementR'+'emove']=null,(_0x1a4a8a=this['_evtViewpo'+'rtResize'])==null||_0x1a4a8a['off'](),this['_evtViewpo'+'rtResize']=null;}['_onViewpor'+'tElementGa'+'in'](){this['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](),this['_syncAll']();}['_onViewpor'+'tElementLo'+'se'](){this['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe']();}['_contentEn'+'titySubscr'+'ibe'](){this['_evtConten'+'tEntityEle'+'mentAdd']=this['_contentEn'+'tity']['on']('element:ad'+'d',this['_onContent'+'ElementGai'+'n'],this),this['_contentEn'+'tity']['element']&&this['_onContent'+'ElementGai'+'n']();}['_contentEn'+'tityUnsubs'+'cribe'](){var _0x43e861,_0x4e3084;(_0x43e861=this['_evtConten'+'tEntityEle'+'mentAdd'])==null||_0x43e861['off'](),this['_evtConten'+'tEntityEle'+'mentAdd']=null,(_0x4e3084=this['_contentEn'+'tity'])!=null&&_0x4e3084['element']&&this['_onContent'+'ElementLos'+'e']();}['_contentEn'+'tityElemen'+'tSubscribe'](){const _0x400633=this['_contentEn'+'tity']['element'];this['_evtConten'+'tElementRe'+'move']=_0x400633['once']('beforeremo'+'ve',this['_onContent'+'ElementLos'+'e'],this),this['_evtConten'+'tResize']=_0x400633['on']('resize',this['_syncAll'],this);}['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](){var _0x4230ca,_0x3f0de7;(_0x4230ca=this['_evtConten'+'tElementRe'+'move'])==null||_0x4230ca['off'](),this['_evtConten'+'tElementRe'+'move']=null,(_0x3f0de7=this['_evtConten'+'tResize'])==null||_0x3f0de7['off'](),this['_evtConten'+'tResize']=null;}['_onContent'+'ElementGai'+'n'](){this['_contentEn'+'tityElemen'+'tSubscribe'](),this['_destroyDr'+'agHelper'](),this['_contentDr'+'agHelper']=new Go(this['_contentEn'+'tity']['element']),this['_contentDr'+'agHelper']['on']('drag:start',this['_onContent'+'DragStart'],this),this['_contentDr'+'agHelper']['on']('drag:end',this['_onContent'+'DragEnd'],this),this['_contentDr'+'agHelper']['on']('drag:move',this['_onContent'+'DragMove'],this),this['_prevConte'+'ntSizes'][Ce]=null,this['_prevConte'+'ntSizes'][je]=null,this['_syncAll']();}['_onContent'+'ElementLos'+'e'](){this['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](),this['_destroyDr'+'agHelper']();}['_onContent'+'DragStart'](){this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&this['_dragStart'+'Position']['copy'](this['_contentEn'+'tity']['getLocalPo'+'sition']());}['_onContent'+'DragEnd'](){this['_prevConte'+'ntDragPosi'+'tion']=null,this['_enableCon'+'tentInput']();}['_onContent'+'DragMove'](_0x3e921f){if(this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&(this['_wasDragge'+'d']=!(0x4df+-0x1f25+0x1a46),this['_setScroll'+'FromConten'+'tPosition'](_0x3e921f),this['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x3e921f),!this['_disabledC'+'ontentInpu'+'t'])){const _0x48b615=_0x3e921f['x']-this['_dragStart'+'Position']['x'],_0x2239b4=_0x3e921f['y']-this['_dragStart'+'Position']['y'];(Math['abs'](_0x48b615)>this['dragThresh'+'old']||Math['abs'](_0x2239b4)>this['dragThresh'+'old'])&&this['_disableCo'+'ntentInput']();}}['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](){this['_evtHorizo'+'ntalScroll'+'barAdd']=this['_horizonta'+'lScrollbar'+'Entity']['on']('scrollbar:'+'add',this['_onHorizon'+'talScrollb'+'arGain'],this),this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arGain']();}['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](){this['_evtVertic'+'alScrollba'+'rAdd']=this['_verticalS'+'crollbarEn'+'tity']['on']('scrollbar:'+'add',this['_onVertica'+'lScrollbar'+'Gain'],this),this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Gain']();}['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](){var _0xa1194f;(_0xa1194f=this['_evtHorizo'+'ntalScroll'+'barAdd'])==null||_0xa1194f['off'](),this['_evtHorizo'+'ntalScroll'+'barAdd']=null,this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arLose']();}['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](){var _0x1978f7;(_0x1978f7=this['_evtVertic'+'alScrollba'+'rAdd'])==null||_0x1978f7['off'](),this['_evtVertic'+'alScrollba'+'rAdd']=null,this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Lose']();}['_onSetHori'+'zontalScro'+'llbarValue'](_0x9254d){!this['_scrollbar'+'UpdateFlag'+'s'][Ce]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](_0x9254d,null);}['_onSetVert'+'icalScroll'+'barValue'](_0x309666){!this['_scrollbar'+'UpdateFlag'+'s'][je]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](null,_0x309666);}['_onHorizon'+'talScrollb'+'arGain'](){var _0x3548ad;const _0x3930e1=(_0x3548ad=this['_horizonta'+'lScrollbar'+'Entity'])==null?void(-0x74a+0x31d*0x5+-0x847):_0x3548ad['scrollbar'];this['_evtHorizo'+'ntalScroll'+'barRemove']=_0x3930e1['on']('beforeremo'+'ve',this['_onHorizon'+'talScrollb'+'arLose'],this),this['_evtHorizo'+'ntalScroll'+'barValue']=_0x3930e1['on']('set:value',this['_onSetHori'+'zontalScro'+'llbarValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarPositi'+'on'](Ce);}['_onVertica'+'lScrollbar'+'Gain'](){var _0x516c95;const _0x1541de=(_0x516c95=this['_verticalS'+'crollbarEn'+'tity'])==null?void(-0x2323+-0x1d18+0x30f*0x15):_0x516c95['scrollbar'];this['_evtVertic'+'alScrollba'+'rRemove']=_0x1541de['on']('beforeremo'+'ve',this['_onVertica'+'lScrollbar'+'Lose'],this),this['_evtVertic'+'alScrollba'+'rValue']=_0x1541de['on']('set:value',this['_onSetVert'+'icalScroll'+'barValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](je),this['_syncScrol'+'lbarPositi'+'on'](je);}['_onHorizon'+'talScrollb'+'arLose'](){var _0x1cac8c,_0x24b3dd;(_0x1cac8c=this['_evtHorizo'+'ntalScroll'+'barRemove'])==null||_0x1cac8c['off'](),this['_evtHorizo'+'ntalScroll'+'barRemove']=null,(_0x24b3dd=this['_evtHorizo'+'ntalScroll'+'barValue'])==null||_0x24b3dd['off'](),this['_evtHorizo'+'ntalScroll'+'barValue']=null;}['_onVertica'+'lScrollbar'+'Lose'](){var _0x119a91,_0x3230ac;(_0x119a91=this['_evtVertic'+'alScrollba'+'rRemove'])==null||_0x119a91['off'](),this['_evtVertic'+'alScrollba'+'rRemove']=null,(_0x3230ac=this['_evtVertic'+'alScrollba'+'rValue'])==null||_0x3230ac['off'](),this['_evtVertic'+'alScrollba'+'rValue']=null;}['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'](){this['_syncScrol'+'lbarEnable'+'dState'](Ce);}['_onSetVert'+'icalScroll'+'ingEnabled'](){this['_syncScrol'+'lbarEnable'+'dState'](je);}['_onSetScro'+'ll'](_0xe69b8a,_0x4caaf4,_0x5e28d8){_0x5e28d8!==!(-0x218e+0x277*0xe+0xf3*-0x1)&&this['_velocity']['set'](0x2*-0x723+-0x1b29+-0x1*-0x296f,-0x102+-0x44*0x1+0x146,0x54*-0x11+0xd79*-0x1+0x1*0x130d);const _0x1da631=this['_updateAxi'+'s'](_0xe69b8a,'x',Ce),_0x4b0a23=this['_updateAxi'+'s'](_0x4caaf4,'y',je);(_0x1da631||_0x4b0a23)&&this['fire']('set:scroll',this['_scroll']);}['_updateAxi'+'s'](_0x577a77,_0x86415d,_0x40ebb4){const _0x3f472e=_0x577a77!==null&&Math['abs'](_0x577a77-this['_scroll'][_0x86415d])>0x16*0x6f+0x772+-0x10fc+0.00001;return(_0x3f472e||this['_isDraggin'+'g']()||_0x577a77===-0x2*0x8c9+-0x728+0x18ba)&&(this['_scroll'][_0x86415d]=this['_determine'+'NewScrollV'+'alue'](_0x577a77,_0x86415d,_0x40ebb4),this['_syncConte'+'ntPosition'](_0x40ebb4),this['_syncScrol'+'lbarPositi'+'on'](_0x40ebb4)),_0x3f472e;}['_determine'+'NewScrollV'+'alue'](_0x5f2067,_0x20e511,_0x330efe){if(!this['_getScroll'+'ingEnabled'](_0x330efe))return this['_scroll'][_0x20e511];switch(this['scrollMode']){case QO:return Y['clamp'](_0x5f2067,-0x776+0x643*0x3+0xd*-0xdf,this['_getMaxScr'+'ollValue'](_0x330efe));case aS:return this['_setVeloci'+'tyFromOver'+'shoot'](_0x5f2067,_0x20e511,_0x330efe),_0x5f2067;case JO:return _0x5f2067;default:return console['warn']('Unhandled\x20'+'scroll\x20mod'+'e:'+this['scrollMode']),_0x5f2067;}}['_syncAll'](){this['_syncConte'+'ntPosition'](Ce),this['_syncConte'+'ntPosition'](je),this['_syncScrol'+'lbarPositi'+'on'](Ce),this['_syncScrol'+'lbarPositi'+'on'](je),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarEnable'+'dState'](je);}['_syncConte'+'ntPosition'](_0x24189c){if(!this['_contentEn'+'tity'])return;const _0x2796b5=this['_getAxis'](_0x24189c),_0x1976d1=this['_getSign'](_0x24189c),_0x1b6e52=this['_prevConte'+'ntSizes'][_0x24189c],_0x4dd118=this['_getConten'+'tSize'](_0x24189c);if(_0x1b6e52!==null&&Math['abs'](_0x1b6e52-_0x4dd118)>0x9*-0x251+-0x4e*-0x18+0x1ef*0x7+0.0001){const _0x51fcff=this['_getMaxOff'+'set'](_0x24189c,_0x1b6e52),_0x3aa9ae=this['_getMaxOff'+'set'](_0x24189c,_0x4dd118);_0x3aa9ae===-0x445*0x3+-0x6*-0x305+-0x54f?this['_scroll'][_0x2796b5]=-0x2693+0x3*-0xa12+0x44ca:this['_scroll'][_0x2796b5]=Y['clamp'](this['_scroll'][_0x2796b5]*_0x51fcff/_0x3aa9ae,0xaec*-0x3+-0xbf*0x27+0x3ddd,-0x10a6*-0x2+0x2f3+-0x243e);}const _0x54c9f9=this['_scroll'][_0x2796b5]*this['_getMaxOff'+'set'](_0x24189c),_0xa5db4c=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0xa5db4c[_0x2796b5]=_0x54c9f9*_0x1976d1,this['_contentEn'+'tity']['setLocalPo'+'sition'](_0xa5db4c),this['_prevConte'+'ntSizes'][_0x24189c]=_0x4dd118;}['_syncScrol'+'lbarPositi'+'on'](_0xbac5da){const _0x6c0ed9=this['_scrollbar'+'Entities'][_0xbac5da];if(!(_0x6c0ed9!=null&&_0x6c0ed9['scrollbar']))return;const _0x4c5a6b=this['_getAxis'](_0xbac5da);this['_scrollbar'+'UpdateFlag'+'s'][_0xbac5da]=!(-0xbcc+-0x25e6+0x31b2),_0x6c0ed9['scrollbar']['value']=this['_scroll'][_0x4c5a6b],_0x6c0ed9['scrollbar']['handleSize']=this['_getScroll'+'barHandleS'+'ize'](_0x4c5a6b,_0xbac5da),this['_scrollbar'+'UpdateFlag'+'s'][_0xbac5da]=!(-0x6d3*0x1+-0xa*0x355+0x2826);}['_syncScrol'+'lbarEnable'+'dState'](_0x23bb2a){const _0x22c840=this['_scrollbar'+'Entities'][_0x23bb2a];if(!_0x22c840)return;const _0x4f947a=this['_getScroll'+'ingEnabled'](_0x23bb2a),_0x1471ea=this['_getScroll'+'barVisibil'+'ity'](_0x23bb2a);switch(_0x1471ea){case eF:_0x22c840['enabled']=_0x4f947a;return;case tF:_0x22c840['enabled']=_0x4f947a&&this['_contentIs'+'LargerThan'+'Viewport'](_0x23bb2a);return;default:console['warn']('Unhandled\x20'+'scrollbar\x20'+'visibility'+':'+_0x1471ea),_0x22c840['enabled']=_0x4f947a;}}['_contentIs'+'LargerThan'+'Viewport'](_0x20ca83){return this['_getConten'+'tSize'](_0x20ca83)>this['_getViewpo'+'rtSize'](_0x20ca83);}['_contentPo'+'sitionToSc'+'rollValue'](_0x20ef46){const _0xddde9b=this['_getMaxOff'+'set'](Ce),_0x5c95ba=this['_getMaxOff'+'set'](je);return _0xddde9b===-0x1*-0x1b1b+0x8fa+0xc07*-0x3?xo['x']=0x1470+-0x14d*0x9+-0x8bb:xo['x']=_0x20ef46['x']/_0xddde9b,_0x5c95ba===0x92*0x27+-0x11*-0xef+-0x261d?xo['y']=0x11a*-0x22+0x292*0xb+0x2f*0x32:xo['y']=_0x20ef46['y']/-_0x5c95ba,xo;}['_getMaxOff'+'set'](_0x40a6f5,_0x51f010){_0x51f010=_0x51f010===void(0x12c6+-0x65b+0xc6b*-0x1)?this['_getConten'+'tSize'](_0x40a6f5):_0x51f010;const _0x5b4978=this['_getViewpo'+'rtSize'](_0x40a6f5);return _0x51f010<_0x5b4978?-this['_getViewpo'+'rtSize'](_0x40a6f5):_0x5b4978-_0x51f010;}['_getMaxScr'+'ollValue'](_0x6402a3){return this['_contentIs'+'LargerThan'+'Viewport'](_0x6402a3)?-0x12a*0x1+-0x123*0x6+0x7fd:0x7*-0x2fe+0x1260+-0x2*-0x149;}['_getScroll'+'barHandleS'+'ize'](_0x44ba48,_0x38c023){const _0x1f4aa6=this['_getViewpo'+'rtSize'](_0x38c023),_0x383425=this['_getConten'+'tSize'](_0x38c023);if(Math['abs'](_0x383425)<0x1cab+-0x20df+0x1*0x434+0.001)return-0xfb5*0x1+-0x6fb*-0x2+0x1c0;const _0x1b76f8=Math['min'](_0x1f4aa6/_0x383425,0x1e5e+-0x1*-0x1f8f+0x529*-0xc),_0x40ffb1=this['_toOversho'+'ot'](this['_scroll'][_0x44ba48],_0x38c023);return _0x40ffb1===0x147+0x19e5+-0x1b2c?_0x1b76f8:_0x1b76f8/(0x6e3*0x4+-0x1ab9+-0x3*0x46+Math['abs'](_0x40ffb1));}['_getViewpo'+'rtSize'](_0x3b3514){return this['_getSize'](_0x3b3514,this['_viewportE'+'ntity']);}['_getConten'+'tSize'](_0x1c69ed){return this['_getSize'](_0x1c69ed,this['_contentEn'+'tity']);}['_getSize'](_0x24c23e,_0x5a26e2){return _0x5a26e2!=null&&_0x5a26e2['element']?_0x5a26e2['element'][this['_getCalcul'+'atedDimens'+'ion'](_0x24c23e)]:0x204d*-0x1+-0x2460+0x1*0x44ad;}['_getScroll'+'ingEnabled'](_0x365a72){if(_0x365a72===Ce)return this['horizontal'];if(_0x365a72===je)return this['vertical'];w['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x365a72);}['_getScroll'+'barVisibil'+'ity'](_0x4512c7){if(_0x4512c7===Ce)return this['horizontal'+'ScrollbarV'+'isibility'];if(_0x4512c7===je)return this['verticalSc'+'rollbarVis'+'ibility'];w['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x4512c7);}['_getSign'](_0x4e41c9){return _0x4e41c9===Ce?-0x1*-0x1ec5+0x2445+-0x4309:-(-0x6b*-0x1+0x777+-0x1*0x7e1);}['_getAxis'](_0x20f643){return _0x20f643===Ce?'x':'y';}['_getCalcul'+'atedDimens'+'ion'](_0x17e881){return _0x17e881===Ce?'calculated'+'Width':'calculated'+'Height';}['_destroyDr'+'agHelper'](){this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['destroy']();}['onUpdate'](){this['_contentEn'+'tity']&&(this['_updateVel'+'ocity'](),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarEnable'+'dState'](je));}['_updateVel'+'ocity'](){if(!this['_isDraggin'+'g']()){if(this['scrollMode']===aS&&(this['_hasOversh'+'oot']('x',Ce)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['x'],'x',Ce),this['_hasOversh'+'oot']('y',je)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['y'],'y',je)),Math['abs'](this['_velocity']['x'])>-0x1*0x397+-0x37*0x80+0x1f17*0x1+0.0001||Math['abs'](this['_velocity']['y'])>0x9f*0x2b+-0xb8f+-0x1*0xf26+0.0001){const _0x3d2aa3=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x3d2aa3['x']+=this['_velocity']['x'],_0x3d2aa3['y']+=this['_velocity']['y'],this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x3d2aa3),this['_setScroll'+'FromConten'+'tPosition'](_0x3d2aa3);}this['_velocity']['x']*=0x897+-0x12ef+0x1*0xa59-this['friction'],this['_velocity']['y']*=-0x2681+-0x827*-0x1+0x13*0x199-this['friction'];}}['_hasOversh'+'oot'](_0x28880e,_0x583c7d){return Math['abs'](this['_toOversho'+'ot'](this['scroll'][_0x28880e],_0x583c7d))>-0x7*-0x297+-0x98f*0x1+-0x892+0.001;}['_toOversho'+'ot'](_0x570cb8,_0x485392){const _0x3040be=this['_getMaxScr'+'ollValue'](_0x485392);return _0x570cb8<-0x48d*-0x6+0x1ba5+-0x36f3?_0x570cb8:_0x570cb8>_0x3040be?_0x570cb8-_0x3040be:0x24d+-0x1c*0x10a+0x169*0x13;}['_setVeloci'+'tyFromOver'+'shoot'](_0x446afc,_0x1e600f,_0x4fe6be){const _0x3f221a=this['_toOversho'+'ot'](_0x446afc,_0x4fe6be)*this['_getMaxOff'+'set'](_0x4fe6be)*this['_getSign'](_0x4fe6be);Math['abs'](_0x3f221a)>-0x25a7+-0xa1+0x2648&&(this['_velocity'][_0x1e600f]=-_0x3f221a/(this['bounceAmou'+'nt']*(-0x1*-0x1914+-0x233f+0x7*0x17b)+(0x1a6+0xd08+0xdd*-0x11)));}['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x247f8a){this['_prevConte'+'ntDragPosi'+'tion']?(this['_velocity']['sub2'](_0x247f8a,this['_prevConte'+'ntDragPosi'+'tion']),this['_prevConte'+'ntDragPosi'+'tion']['copy'](_0x247f8a)):(this['_velocity']['set'](0x9d5+-0x11bd*-0x1+0x1*-0x1b92,-0xe9*-0x7+0x1933*-0x1+0x12d4,0x1be1+0x1953+0xa*-0x552),this['_prevConte'+'ntDragPosi'+'tion']=_0x247f8a['clone']());}['_setScroll'+'FromConten'+'tPosition'](_0x54a035){let _0x326403=this['_contentPo'+'sitionToSc'+'rollValue'](_0x54a035);this['_isDraggin'+'g']()&&(_0x326403=this['_applyScro'+'llValueTen'+'sion'](_0x326403)),this['_onSetScro'+'ll'](_0x326403['x'],_0x326403['y'],!(-0xf99*0x1+-0x173a*0x1+0x26d4));}['_applyScro'+'llValueTen'+'sion'](_0x558b13){let _0x2011e0=this['_getMaxScr'+'ollValue'](Ce),_0x242b5d=this['_toOversho'+'ot'](_0x558b13['x'],Ce);return _0x242b5d>-0x2503+0x60e+0x1ef5?_0x558b13['x']=_0x2011e0+(-0x9*-0x319+-0x1*-0x1bb7+-0x3797)*Math['log10'](-0x117d+-0x1*-0xeae+0x2d0+_0x242b5d):_0x242b5d<-0x21f4+-0x20ff+-0x57*-0xc5&&(_0x558b13['x']=-(-0xd37*-0x1+-0x1376+-0x40*-0x19)*Math['log10'](0xc7f+-0x534+-0x6*0x137-_0x242b5d)),_0x2011e0=this['_getMaxScr'+'ollValue'](je),_0x242b5d=this['_toOversho'+'ot'](_0x558b13['y'],je),_0x242b5d>0x19e2+0x179f*0x1+-0x3181?_0x558b13['y']=_0x2011e0+(-0x50d+0x2c2+0xe*0x2a)*Math['log10'](-0x2086+-0x2549*0x1+0x2*0x22e8+_0x242b5d):_0x242b5d<-0x233d+-0xe7e+0x31bb&&(_0x558b13['y']=-(0x1e4c+-0x1174*-0x1+0x11*-0x2cf)*Math['log10'](0x1561+0x91*-0x29+0x1d9-_0x242b5d)),_0x558b13;}['_isDraggin'+'g'](){return this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['isDragging'];}['_setScroll'+'barCompone'+'ntsEnabled'](_0x3fd644){var _0x1175ea,_0x464dca;(_0x1175ea=this['_horizonta'+'lScrollbar'+'Entity'])!=null&&_0x1175ea['scrollbar']&&(this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']['enabled']=_0x3fd644),(_0x464dca=this['_verticalS'+'crollbarEn'+'tity'])!=null&&_0x464dca['scrollbar']&&(this['_verticalS'+'crollbarEn'+'tity']['scrollbar']['enabled']=_0x3fd644);}['_setConten'+'tDraggingE'+'nabled'](_0x5609a0){this['_contentDr'+'agHelper']&&(this['_contentDr'+'agHelper']['enabled']=_0x5609a0);}['_onMouseWh'+'eel'](_0x560724){var _0x3548a8;if(!this['useMouseWh'+'eel']||!((_0x3548a8=this['_contentEn'+'tity'])!=null&&_0x3548a8['element']))return;const _0x1e07dd=_0x560724['event'],_0x202f33=_0x1e07dd['deltaX']/this['_contentEn'+'tity']['element']['calculated'+'Width']*this['mouseWheel'+'Sensitivit'+'y']['x'],_0x1bc416=_0x1e07dd['deltaY']/this['_contentEn'+'tity']['element']['calculated'+'Height']*this['mouseWheel'+'Sensitivit'+'y']['y'],_0x198ad1=Y['clamp'](this['_scroll']['x']+_0x202f33,-0x16dd+-0xe18+0x24f5,this['_getMaxScr'+'ollValue'](Ce)),_0x1ac1be=Y['clamp'](this['_scroll']['y']+_0x1bc416,-0x2c5*0x2+0x2*0x524+-0x4be,this['_getMaxScr'+'ollValue'](je));this['scroll']=new J(_0x198ad1,_0x1ac1be);}['_enableCon'+'tentInput'](){for(;this['_disabledC'+'ontentInpu'+'tEntities']['length'];){const _0x2deb4c=this['_disabledC'+'ontentInpu'+'tEntities']['pop']();_0x2deb4c['element']&&(_0x2deb4c['element']['useInput']=!(0x17f2+0xb*0x269+-0x3275));}this['_disabledC'+'ontentInpu'+'t']=!(0x57b*-0x4+-0x23eb*0x1+0x4*0xe76);}['_disableCo'+'ntentInput'](){const _0xc8783a=_0x280093=>{_0x280093['element']&&_0x280093['element']['useInput']&&(this['_disabledC'+'ontentInpu'+'tEntities']['push'](_0x280093),_0x280093['element']['useInput']=!(0x475+0x4*-0x30e+-0x7c4*-0x1));const _0x473f3a=_0x280093['children'];for(let _0x351716=0x1efd*0x1+0x2b2+-0x1*0x21af,_0x39f829=_0x473f3a['length'];_0x351716<_0x39f829;_0x351716++)_0xc8783a(_0x473f3a[_0x351716]);};if(this['_contentEn'+'tity']){const _0x4ac1e8=this['_contentEn'+'tity']['children'];for(let _0x49534e=0x52a*0x7+-0xb48+-0x18de,_0x19b1bf=_0x4ac1e8['length'];_0x49534e<_0x19b1bf;_0x49534e++)_0xc8783a(_0x4ac1e8[_0x49534e]);}this['_disabledC'+'ontentInpu'+'t']=!(-0x21*0x9+0x211d+-0x1ff4);}['onEnable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(0xd3*0x2+0x24a9+0x1*-0x264f)),this['_setConten'+'tDraggingE'+'nabled'](!(-0x1c0a+0x2143+-0x539)),this['_syncAll']();}['onDisable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(0x51d+-0x3e*-0x56+-0x19f0)),this['_setConten'+'tDraggingE'+'nabled'](!(-0x407+-0x164d+0x1a55));}['onRemove'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleEle'+'mentListen'+'ers']('off'),this['_destroyDr'+'agHelper']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x6f3e46,_0x865469){_0x6f3e46['viewportEn'+'tity']&&(this['viewportEn'+'tity']=_0x865469[_0x6f3e46['viewportEn'+'tity']['getGuid']()]),_0x6f3e46['contentEnt'+'ity']&&(this['contentEnt'+'ity']=_0x865469[_0x6f3e46['contentEnt'+'ity']['getGuid']()]),_0x6f3e46['horizontal'+'ScrollbarE'+'ntity']&&(this['horizontal'+'ScrollbarE'+'ntity']=_0x865469[_0x6f3e46['horizontal'+'ScrollbarE'+'ntity']['getGuid']()]),_0x6f3e46['verticalSc'+'rollbarEnt'+'ity']&&(this['verticalSc'+'rollbarEnt'+'ity']=_0x865469[_0x6f3e46['verticalSc'+'rollbarEnt'+'ity']['getGuid']()]);}}h(c0,'EVENT_SETS'+'CROLL','set:scroll');const sF=-0x1d67+-0x2ab*-0x3+0x2ae*0x8;class iF{constructor(){h(this,'enabled',!(0x1456+0x2200+-0x6b*0x82)),h(this,'horizontal'),h(this,'vertical'),h(this,'scrollMode'),h(this,'bounceAmou'+'nt'),h(this,'friction'),h(this,'dragThresh'+'old',sF),h(this,'useMouseWh'+'eel',!(0xdd*0x12+-0x1855+0x1*0x8cb)),h(this,'mouseWheel'+'Sensitivit'+'y',new J(-0x161c+-0x1*0x1967+0x4*0xbe1,-0x2651+0xc3d*-0x3+-0x1903*-0x3)),h(this,'horizontal'+'ScrollbarV'+'isibility',-0x1fb6+0x59+-0x47b*-0x7),h(this,'verticalSc'+'rollbarVis'+'ibility',0x23*0x88+0x24b6+0x1*-0x374e),h(this,'viewportEn'+'tity',null),h(this,'contentEnt'+'ity',null),h(this,'horizontal'+'ScrollbarE'+'ntity',null),h(this,'verticalSc'+'rollbarEnt'+'ity',null);}}const nS=[{'name':'enabled','type':'boolean'},{'name':'horizontal','type':'boolean'},{'name':'vertical','type':'boolean'},{'name':'scrollMode','type':'number'},{'name':'bounceAmou'+'nt','type':'number'},{'name':'friction','type':'number'},{'name':'dragThresh'+'old','type':'number'},{'name':'useMouseWh'+'eel','type':'boolean'},{'name':'mouseWheel'+'Sensitivit'+'y','type':'vec2'},{'name':'horizontal'+'ScrollbarV'+'isibility','type':'number'},{'name':'verticalSc'+'rollbarVis'+'ibility','type':'number'}],rF=0x435+-0xa7*-0xc+-0xbff*0x1;class aF extends ct{constructor(_0x3538fa){super(_0x3538fa),this['id']='scrollview',this['ComponentT'+'ype']=c0,this['DataType']=iF,this['schema']=nS,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x3cd174,_0x4f37e2,_0x1424ec){_0x4f37e2['dragThresh'+'old']===void(-0x269d+-0x107a*-0x1+0x1*0x1623)&&(_0x4f37e2['dragThresh'+'old']=rF),_0x4f37e2['useMouseWh'+'eel']===void(0x3d6+0x20dd+-0x1*0x24b3)&&(_0x4f37e2['useMouseWh'+'eel']=!(-0x259*-0xa+-0x511*0x4+-0x336)),_0x4f37e2['mouseWheel'+'Sensitivit'+'y']===void(0x14b8+0x203*0x9+0x26d3*-0x1)&&(_0x4f37e2['mouseWheel'+'Sensitivit'+'y']=new J(0x1d0f+-0x49*0x36+-0x8*0x1b5,0x2010+0x161d+-0x362c)),super['initialize'+'ComponentD'+'ata'](_0x3cd174,_0x4f37e2,nS),_0x3cd174['viewportEn'+'tity']=_0x4f37e2['viewportEn'+'tity'],_0x3cd174['contentEnt'+'ity']=_0x4f37e2['contentEnt'+'ity'],_0x3cd174['horizontal'+'ScrollbarE'+'ntity']=_0x4f37e2['horizontal'+'ScrollbarE'+'ntity'],_0x3cd174['verticalSc'+'rollbarEnt'+'ity']=_0x4f37e2['verticalSc'+'rollbarEnt'+'ity'];}['onUpdate'](_0x4fd2b4){const _0x4e4705=this['store'];for(const _0x538b7f in _0x4e4705){const _0x2291af=_0x4e4705[_0x538b7f]['entity'],_0x43174d=_0x2291af['scrollview'];_0x43174d['enabled']&&_0x2291af['enabled']&&_0x43174d['onUpdate']();}}['_onRemoveC'+'omponent'](_0x1dd3a2,_0x32c1f8){_0x32c1f8['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class h0 extends we{constructor(_0x1f4718,_0x53e175){super(_0x1f4718,_0x53e175),h(this,'_handleEnt'+'ity',null),h(this,'_evtHandle'+'EntityElem'+'entAdd',null),h(this,'_evtHandle'+'EntityChan'+'ges',[]),this['_toggleLif'+'ecycleList'+'eners']('on');}get['data'](){const _0x3eac73=this['system']['store'][this['entity']['getGuid']()];return _0x3eac73?_0x3eac73['data']:null;}set['enabled'](_0x3ef658){this['_setValue']('enabled',_0x3ef658);}get['enabled'](){return this['data']['enabled'];}set['orientatio'+'n'](_0x4fcf5d){this['_setValue']('orientatio'+'n',_0x4fcf5d);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['value'](_0x4b87fe){this['_setValue']('value',_0x4b87fe);}get['value'](){return this['data']['value'];}set['handleSize'](_0x217e08){this['_setValue']('handleSize',_0x217e08);}get['handleSize'](){return this['data']['handleSize'];}set['handleEnti'+'ty'](_0x5260d0){if(this['_handleEnt'+'ity']===_0x5260d0)return;const _0x43d5e1=typeof _0x5260d0=='string';this['_handleEnt'+'ity']&&_0x43d5e1&&this['_handleEnt'+'ity']['getGuid']()===_0x5260d0||(this['_handleEnt'+'ity']&&this['_handleEnt'+'ityUnsubsc'+'ribe'](),_0x5260d0 instanceof Ie?this['_handleEnt'+'ity']=_0x5260d0:_0x43d5e1?this['_handleEnt'+'ity']=this['system']['app']['getEntityF'+'romIndex'](_0x5260d0)||null:this['_handleEnt'+'ity']=null,this['_handleEnt'+'ity']&&this['_handleEnt'+'itySubscri'+'be'](),this['_handleEnt'+'ity']?this['data']['handleEnti'+'ty']=this['_handleEnt'+'ity']['getGuid']():_0x43d5e1&&_0x5260d0&&(this['data']['handleEnti'+'ty']=_0x5260d0));}get['handleEnti'+'ty'](){return this['_handleEnt'+'ity'];}['_setValue'](_0x11ecaf,_0x11b632){const _0x2cd114=this['data'],_0x1763fb=_0x2cd114[_0x11ecaf];_0x2cd114[_0x11ecaf]=_0x11b632,this['fire']('set',_0x11ecaf,_0x1763fb,_0x11b632);}['_toggleLif'+'ecycleList'+'eners'](_0x274cfa){this[_0x274cfa]('set_value',this['_onSetValu'+'e'],this),this[_0x274cfa]('set_handle'+'Size',this['_onSetHand'+'leSize'],this),this[_0x274cfa]('set_orient'+'ation',this['_onSetOrie'+'ntation'],this);}['_handleEnt'+'itySubscri'+'be'](){this['_evtHandle'+'EntityElem'+'entAdd']=this['_handleEnt'+'ity']['on']('element:ad'+'d',this['_onHandleE'+'lementGain'],this),this['_handleEnt'+'ity']['element']&&this['_onHandleE'+'lementGain']();}['_handleEnt'+'ityUnsubsc'+'ribe'](){var _0x4f87f9,_0x34737d;(_0x4f87f9=this['_evtHandle'+'EntityElem'+'entAdd'])==null||_0x4f87f9['off'](),this['_evtHandle'+'EntityElem'+'entAdd']=null,(_0x34737d=this['_handleEnt'+'ity'])!=null&&_0x34737d['element']&&this['_onHandleE'+'lementLose']();}['_handleEnt'+'ityElement'+'Subscribe'](){const _0x49ff6c=this['_handleEnt'+'ity']['element'],_0x2b2245=this['_evtHandle'+'EntityChan'+'ges'];_0x2b2245['push'](_0x49ff6c['once']('beforeremo'+'ve',this['_onHandleE'+'lementLose'],this)),_0x2b2245['push'](_0x49ff6c['on']('set:anchor',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x2b2245['push'](_0x49ff6c['on']('set:margin',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x2b2245['push'](_0x49ff6c['on']('set:pivot',this['_onSetHand'+'leAlignmen'+'t'],this));}['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](){for(let _0x436fac=0x199a+0x2*0x4fc+-0x2392;_0x436fac<this['_evtHandle'+'EntityChan'+'ges']['length'];_0x436fac++)this['_evtHandle'+'EntityChan'+'ges'][_0x436fac]['off']();this['_evtHandle'+'EntityChan'+'ges']['length']=0x1de8+-0x1*-0xa9+-0x1e91;}['_onHandleE'+'lementGain'](){this['_handleEnt'+'ityElement'+'Subscribe'](),this['_destroyDr'+'agHelper'](),this['_handleDra'+'gHelper']=new Go(this['_handleEnt'+'ity']['element'],this['_getAxis']()),this['_handleDra'+'gHelper']['on']('drag:move',this['_onHandleD'+'rag'],this),this['_updateHan'+'dlePositio'+'nAndSize']();}['_onHandleE'+'lementLose'](){this['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](),this['_destroyDr'+'agHelper']();}['_onHandleD'+'rag'](_0x2d39f2){this['_handleEnt'+'ity']&&this['enabled']&&this['entity']['enabled']&&(this['value']=this['_handlePos'+'itionToScr'+'ollValue'](_0x2d39f2[this['_getAxis']()]));}['_onSetValu'+'e'](_0x483525,_0x395d2b,_0x543462){Math['abs'](_0x543462-_0x395d2b)>-0x117e+0x206b+0xeed*-0x1+0.00001&&(this['data']['value']=Y['clamp'](_0x543462,0x167c+0x9db+0x1*-0x2057,0x995+0x597+-0xf2b),this['_updateHan'+'dlePositio'+'nAndSize'](),this['fire']('set:value',this['data']['value']));}['_onSetHand'+'leSize'](_0x38c64c,_0x132d3c,_0x4103bf){Math['abs'](_0x4103bf-_0x132d3c)>0x181e+0x1*-0xab1+-0xd6d+0.00001&&(this['data']['handleSize']=Y['clamp'](_0x4103bf,-0xf*-0xef+0x7a*0x2e+-0x23ed*0x1,-0xd1c+-0xd75+-0x166*-0x13),this['_updateHan'+'dlePositio'+'nAndSize']());}['_onSetHand'+'leAlignmen'+'t'](){this['_updateHan'+'dlePositio'+'nAndSize']();}['_onSetOrie'+'ntation'](_0x3fab99,_0x39b5d0,_0x21ab9c){var _0x52e1ff;_0x21ab9c!==_0x39b5d0&&((_0x52e1ff=this['_handleEnt'+'ity'])!=null&&_0x52e1ff['element'])&&(this['_handleEnt'+'ity']['element'][this['_getOpposi'+'teDimensio'+'n']()]=-0x53*-0x9+-0x63e+0x353);}['_updateHan'+'dlePositio'+'nAndSize'](){const _0x4bd330=this['_handleEnt'+'ity'],_0xb87dd7=_0x4bd330==null?void(-0x13ad+-0xd75+0x2122):_0x4bd330['element'];if(_0x4bd330){const _0x3b17e0=_0x4bd330['getLocalPo'+'sition']();_0x3b17e0[this['_getAxis']()]=this['_getHandle'+'Position'](),_0x4bd330['setLocalPo'+'sition'](_0x3b17e0);}_0xb87dd7&&(_0xb87dd7[this['_getDimens'+'ion']()]=this['_getHandle'+'Length']());}['_handlePos'+'itionToScr'+'ollValue'](_0x54072d){return _0x54072d*this['_getSign']()/this['_getUsable'+'TrackLengt'+'h']();}['_scrollVal'+'ueToHandle'+'Position'](_0x4f1fc3){return _0x4f1fc3*this['_getSign']()*this['_getUsable'+'TrackLengt'+'h']();}['_getUsable'+'TrackLengt'+'h'](){return Math['max'](this['_getTrackL'+'ength']()-this['_getHandle'+'Length'](),0xa9*-0x1+0x1*-0x1573+-0x46c*-0x5+0.001);}['_getTrackL'+'ength'](){return this['entity']['element']?this['orientatio'+'n']===Ce?this['entity']['element']['calculated'+'Width']:this['entity']['element']['calculated'+'Height']:0x24bb*0x1+-0xc9*0x2d+-0x166;}['_getHandle'+'Length'](){return this['_getTrackL'+'ength']()*this['handleSize'];}['_getHandle'+'Position'](){return this['_scrollVal'+'ueToHandle'+'Position'](this['value']);}['_getSign'](){return this['orientatio'+'n']===Ce?-0x40a+0x2b0*-0x9+0x1c3b:-(0x8*0x259+0x445*-0x1+-0xe82);}['_getAxis'](){return this['orientatio'+'n']===Ce?'x':'y';}['_getDimens'+'ion'](){return this['orientatio'+'n']===Ce?'width':'height';}['_getOpposi'+'teDimensio'+'n'](){return this['orientatio'+'n']===Ce?'height':'width';}['_destroyDr'+'agHelper'](){this['_handleDra'+'gHelper']&&this['_handleDra'+'gHelper']['destroy']();}['_setHandle'+'DraggingEn'+'abled'](_0x3cfeb9){this['_handleDra'+'gHelper']&&(this['_handleDra'+'gHelper']['enabled']=_0x3cfeb9);}['onEnable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0x45*-0x71+-0x49*0x1f+-0x159e));}['onDisable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0x1*0x19b8+0x1*-0x121d+0x16a*0x1f));}['onRemove'](){this['_destroyDr'+'agHelper'](),this['_toggleLif'+'ecycleList'+'eners']('off');}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x5aa0ea,_0x3dfadb){_0x5aa0ea['handleEnti'+'ty']&&(this['handleEnti'+'ty']=_0x3dfadb[_0x5aa0ea['handleEnti'+'ty']['getGuid']()]);}}h(h0,'EVENT_SETV'+'ALUE','set:value');class nF{constructor(){h(this,'enabled',!(-0x238f+0x12b5*-0x1+0x3644)),h(this,'orientatio'+'n',Ce),h(this,'value',-0x1*-0x14f5+-0xc1f+0x8d6*-0x1),h(this,'handleSize',-0x13*-0xf9+0x2301+-0x357c),h(this,'handleEnti'+'ty',null);}}const oS=[{'name':'enabled','type':'boolean'},{'name':'orientatio'+'n','type':'number'},{'name':'value','type':'number'},{'name':'handleSize','type':'number'}];class oF extends ct{constructor(_0x8c4f8b){super(_0x8c4f8b),this['id']='scrollbar',this['ComponentT'+'ype']=h0,this['DataType']=nF,this['schema']=oS,this['on']('add',this['_onAddComp'+'onent'],this),this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x2b7626,_0x5337ad,_0x1c5fa4){super['initialize'+'ComponentD'+'ata'](_0x2b7626,_0x5337ad,oS),_0x2b7626['handleEnti'+'ty']=_0x5337ad['handleEnti'+'ty'];}['_onAddComp'+'onent'](_0x5af584){_0x5af584['fire']('scrollbar:'+'add');}['_onRemoveC'+'omponent'](_0x42a079,_0x5efb1b){_0x5efb1b['onRemove']();}}const lF={'volume':0x0,'pitch':0x0,'loop':!(-0x4ff+-0xa22*0x2+-0x126*-0x16),'startTime':0x0,'duration':0x0,'position':new D(),'maxDistance':0x0,'refDistance':0x0,'rollOffFactor':0x0,'distanceModel':0x0,'onPlay':null,'onPause':null,'onResume':null,'onStop':null,'onEnd':null};class Gi extends me{constructor(_0x2152ca,_0x3dee0e='Untitled',_0x37d911={}){super(),h(this,'name'),h(this,'instances',[]),(this['_component']=_0x2152ca,this['_assets']=_0x2152ca['system']['app']['assets'],this['_manager']=_0x2152ca['system']['manager'],this['name']=_0x3dee0e,this['_volume']=_0x37d911['volume']!==void(-0x16a0+-0x16e6+-0x2d86*-0x1)?Y['clamp'](Number(_0x37d911['volume'])||0xa6e*0x3+0x1d90+0x1*-0x3cda,-0x2e*0x7e+0x25c6*0x1+-0xf22,0xf6e+0x10d2+-0x203f):-0x1b57*-0x1+-0x14b+-0x71*0x3b,this['_pitch']=_0x37d911['pitch']!==void(-0x5e5+0x1f28+-0x1943)?Math['max'](0xf52+0x77b*0x3+-0x25c3*0x1+0.01,Number(_0x37d911['pitch'])||0x1*-0x16f6+0x3b9+0x133d):-0xb27*-0x3+-0x1715+-0x3b*0x2d,this['_loop']=!!(_0x37d911['loop']!==void(-0x1*-0x121e+0x3b*0x9d+0x364d*-0x1)&&_0x37d911['loop']),this['_duration']=_0x37d911['duration']>-0x1a87+0xd4d+0xd3a?_0x37d911['duration']:null,this['_startTime']=Math['max'](0x1f8b+0x1bfb*0x1+-0x3b86,Number(_0x37d911['startTime'])||0x3b*0x17+0x1*0x23c2+0x1c9*-0x17),this['_overlap']=!!_0x37d911['overlap'],this['_autoPlay']=!!_0x37d911['autoPlay'],this['_firstNode']=null,this['_lastNode']=null,this['_asset']=_0x37d911['asset'],this['_asset']instanceof pe&&(this['_asset']=this['_asset']['id']),this['_onInstanc'+'ePlayHandl'+'er']=this['_onInstanc'+'ePlay']['bind'](this),this['_onInstanc'+'ePauseHand'+'ler']=this['_onInstanc'+'ePause']['bind'](this),this['_onInstanc'+'eResumeHan'+'dler']=this['_onInstanc'+'eResume']['bind'](this),this['_onInstanc'+'eStopHandl'+'er']=this['_onInstanc'+'eStop']['bind'](this),this['_onInstanc'+'eEndHandle'+'r']=this['_onInstanc'+'eEnd']['bind'](this));}['play'](_0x3e5ecd){if(this['overlap']||this['stop'](),!this['isLoaded']&&!this['_hasAsset']()){w['warn']('Trying\x20to\x20'+'play\x20Sound'+'Slot\x20'+this['name']+('\x20but\x20it\x20is'+'\x20not\x20loade'+'d\x20and\x20does'+'n\x27t\x20have\x20a'+'n\x20asset.'));return;}let _0x233998=_0x3e5ecd;if(_0x233998||(_0x233998=this['_createIns'+'tance'](),this['instances']['push'](_0x233998)),this['isLoaded'])_0x233998['play']();else{const _0x4a1f9b=function(_0x389f36){const _0x59e710=_0x233998['_playWhenL'+'oaded'];_0x233998['sound']=_0x389f36,_0x59e710&&_0x233998['play']();};this['off']('load',_0x4a1f9b),this['once']('load',_0x4a1f9b),this['load']();}return _0x233998;}['pause'](){let _0x25378c=!(-0x178a*0x1+0x1385+0x406);const _0x5eb471=this['instances'];for(let _0x53a252=-0x3e2+0x26*0x2e+-0x2f2,_0x5b98bd=_0x5eb471['length'];_0x53a252<_0x5b98bd;_0x53a252++)_0x5eb471[_0x53a252]['pause']()&&(_0x25378c=!(0x298+0x1450+-0x16e8));return _0x25378c;}['resume'](){let _0x24860b=!(0x7*-0x22a+-0xb32*-0x2+-0x73d);const _0x80c4ed=this['instances'];for(let _0x1c175b=0x4d0+-0x8*0x13+-0x438,_0x19ce0a=_0x80c4ed['length'];_0x1c175b<_0x19ce0a;_0x1c175b++)_0x80c4ed[_0x1c175b]['resume']()&&(_0x24860b=!(-0xeb*0x25+0x1c96+-0x1*-0x561));return _0x24860b;}['stop'](){let _0x2babab=!(0x1fd8+-0x1*-0x1ba+-0x2191);const _0x1352a4=this['instances'];let _0x253c9d=_0x1352a4['length'];for(;_0x253c9d--;)_0x1352a4[_0x253c9d]['stop'](),_0x2babab=!(0x23af+-0x1a71+-0xe*0xa9);return _0x1352a4['length']=-0x7dd+0x1*-0x1dbc+0xaf*0x37,_0x2babab;}['load'](){if(!this['_hasAsset']())return;const _0x3679d9=this['_assets']['get'](this['_asset']);if(!_0x3679d9){this['_assets']['off']('add:'+this['_asset'],this['_onAssetAd'+'d'],this),this['_assets']['once']('add:'+this['_asset'],this['_onAssetAd'+'d'],this);return;}if(_0x3679d9['off']('remove',this['_onAssetRe'+'moved'],this),_0x3679d9['on']('remove',this['_onAssetRe'+'moved'],this),!_0x3679d9['resource']){_0x3679d9['off']('load',this['_onAssetLo'+'ad'],this),_0x3679d9['once']('load',this['_onAssetLo'+'ad'],this),this['_assets']['load'](_0x3679d9);return;}this['fire']('load',_0x3679d9['resource']);}['setExterna'+'lNodes'](_0x57bc69,_0x3dd9dc){if(!_0x57bc69){console['error']('The\x20firstN'+'ode\x20must\x20h'+'ave\x20a\x20vali'+'d\x20AudioNod'+'e');return;}if(_0x3dd9dc||(_0x3dd9dc=_0x57bc69),this['_firstNode']=_0x57bc69,this['_lastNode']=_0x3dd9dc,!this['_overlap']){const _0x3bf814=this['instances'];for(let _0x4338e1=-0x11*-0xb5+0xca0+0x837*-0x3,_0x39fbe2=_0x3bf814['length'];_0x4338e1<_0x39fbe2;_0x4338e1++)_0x3bf814[_0x4338e1]['setExterna'+'lNodes'](_0x57bc69,_0x3dd9dc);}}['clearExter'+'nalNodes'](){if(this['_firstNode']=null,this['_lastNode']=null,!this['_overlap']){const _0x43f98d=this['instances'];for(let _0x560910=-0x1*0x24f+0x1*-0x1e67+0x20b6,_0x1f30b1=_0x43f98d['length'];_0x560910<_0x1f30b1;_0x560910++)_0x43f98d[_0x560910]['clearExter'+'nalNodes']();}}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_hasAsset'](){return this['_asset']!=null;}['_createIns'+'tance'](){let _0xc325dd=null;const _0x56cb11=this['_component'];let _0x3b4e57=null;if(this['_hasAsset']()){const _0x2b6f00=this['_assets']['get'](this['_asset']);_0x2b6f00&&(_0x3b4e57=_0x2b6f00['resource']);}const _0x3224c8=lF;return _0x3224c8['volume']=this['_volume']*_0x56cb11['volume'],_0x3224c8['pitch']=this['_pitch']*_0x56cb11['pitch'],_0x3224c8['loop']=this['_loop'],_0x3224c8['startTime']=this['_startTime'],_0x3224c8['duration']=this['_duration'],_0x3224c8['onPlay']=this['_onInstanc'+'ePlayHandl'+'er'],_0x3224c8['onPause']=this['_onInstanc'+'ePauseHand'+'ler'],_0x3224c8['onResume']=this['_onInstanc'+'eResumeHan'+'dler'],_0x3224c8['onStop']=this['_onInstanc'+'eStopHandl'+'er'],_0x3224c8['onEnd']=this['_onInstanc'+'eEndHandle'+'r'],_0x56cb11['positional']?(_0x3224c8['position']['copy'](_0x56cb11['entity']['getPositio'+'n']()),_0x3224c8['maxDistanc'+'e']=_0x56cb11['maxDistanc'+'e'],_0x3224c8['refDistanc'+'e']=_0x56cb11['refDistanc'+'e'],_0x3224c8['rollOffFac'+'tor']=_0x56cb11['rollOffFac'+'tor'],_0x3224c8['distanceMo'+'del']=_0x56cb11['distanceMo'+'del'],_0xc325dd=new sn(this['_manager'],_0x3b4e57,_0x3224c8)):_0xc325dd=new As(this['_manager'],_0x3b4e57,_0x3224c8),this['_firstNode']&&_0xc325dd['setExterna'+'lNodes'](this['_firstNode'],this['_lastNode']),_0xc325dd;}['_onInstanc'+'ePlay'](_0x160830){this['fire']('play',_0x160830),this['_component']['fire']('play',this,_0x160830);}['_onInstanc'+'ePause'](_0x984492){this['fire']('pause',_0x984492),this['_component']['fire']('pause',this,_0x984492);}['_onInstanc'+'eResume'](_0x3c05fe){this['fire']('resume',_0x3c05fe),this['_component']['fire']('resume',this,_0x3c05fe);}['_onInstanc'+'eStop'](_0x1360dd){const _0x292a9d=this['instances']['indexOf'](_0x1360dd);_0x292a9d!==-(-0x262a+-0x1f*0xa+0x2761)&&this['instances']['splice'](_0x292a9d,0x2*0x198+0x128e+-0x73f*0x3),this['fire']('stop',_0x1360dd),this['_component']['fire']('stop',this,_0x1360dd);}['_onInstanc'+'eEnd'](_0x16890e){const _0x1f3fed=this['instances']['indexOf'](_0x16890e);_0x1f3fed!==-(0x196+0x21f2+-0x2387)&&this['instances']['splice'](_0x1f3fed,-0xa6f+0x1e6b+-0x5d*0x37),this['fire']('end',_0x16890e),this['_component']['fire']('end',this,_0x16890e);}['_onAssetAd'+'d'](_0x2560dd){this['load']();}['_onAssetLo'+'ad'](_0x8ad769){this['load']();}['_onAssetRe'+'moved'](_0x280250){_0x280250['off']('remove',this['_onAssetRe'+'moved'],this),this['_assets']['off']('add:'+_0x280250['id'],this['_onAssetAd'+'d'],this),this['stop']();}['updatePosi'+'tion'](_0x321b8e){const _0x159794=this['instances'];for(let _0x1a7708=-0x240d+-0x2069*0x1+0x4476,_0x5a3e92=_0x159794['length'];_0x1a7708<_0x5a3e92;_0x1a7708++)_0x159794[_0x1a7708]['position']=_0x321b8e;}set['asset'](_0x3274db){const _0x3d6894=this['_asset'];if(_0x3d6894){this['_assets']['off']('add:'+_0x3d6894,this['_onAssetAd'+'d'],this);const _0xb76d0e=this['_assets']['get'](_0x3d6894);_0xb76d0e&&_0xb76d0e['off']('remove',this['_onAssetRe'+'moved'],this);}this['_asset']=_0x3274db,this['_asset']instanceof pe&&(this['_asset']=this['_asset']['id']),this['_hasAsset']()&&this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['load']();}get['asset'](){return this['_asset'];}set['autoPlay'](_0x384ddb){this['_autoPlay']=!!_0x384ddb;}get['autoPlay'](){return this['_autoPlay'];}set['duration'](_0x1e313a){if(this['_duration']=Math['max'](-0x2506+0x1039+0x14cd,Number(_0x1e313a)||-0x1*0x18d+-0x223c+0x23c9*0x1)||null,!this['_overlap']){const _0x55d29d=this['instances'];for(let _0x809734=-0x15*0x160+0x5*-0x585+0x3879,_0x31414c=_0x55d29d['length'];_0x809734<_0x31414c;_0x809734++)_0x55d29d[_0x809734]['duration']=this['_duration'];}}get['duration'](){let _0x26f21e=0x1*0xde0+0x5*0x27f+-0x1a5b;if(this['_hasAsset']()){const _0xe09941=this['_assets']['get'](this['_asset']);_0x26f21e=_0xe09941!=null&&_0xe09941['resource']?_0xe09941['resource']['duration']:0x2691*0x1+0x12*-0x106+-0x6b7*0x3;}return this['_duration']!=null?this['_duration']%(_0x26f21e||-0x3*-0x8f5+0x16fb+-0x31d9):_0x26f21e;}get['isLoaded'](){if(this['_hasAsset']()){const _0x4d6685=this['_assets']['get'](this['_asset']);if(_0x4d6685)return!!_0x4d6685['resource'];}return!(-0x50e+-0x3*0x72e+0x1a99);}get['isPaused'](){const _0x461434=this['instances'],_0x5b5b0c=_0x461434['length'];if(_0x5b5b0c===0x1*0x25ba+0x14*-0xe2+0x7*-0x2de)return!(0x2234+0x3*-0x5e5+-0x1084);for(let _0x2ed5c9=-0xdd1+-0x1*-0x2325+0xf*-0x16c;_0x2ed5c9<_0x5b5b0c;_0x2ed5c9++)if(!_0x461434[_0x2ed5c9]['isPaused'])return!(-0xd56+-0x2016+0x2d6d);return!(0x1c0+-0x452*0x7+-0x2*-0xe3f);}get['isPlaying'](){const _0x165964=this['instances'];for(let _0x57634d=-0x1b9d+0x5*-0x40e+0x2fe3,_0x4b2dce=_0x165964['length'];_0x57634d<_0x4b2dce;_0x57634d++)if(_0x165964[_0x57634d]['isPlaying'])return!(0x84a*-0x1+0xb52+-0x308);return!(-0x1d4c+-0x154+0x1ea1);}get['isStopped'](){const _0x1a1cb0=this['instances'];for(let _0x3bff73=0xa92*-0x1+-0xbd0+0x1662,_0x1a1dd0=_0x1a1cb0['length'];_0x3bff73<_0x1a1dd0;_0x3bff73++)if(!_0x1a1cb0[_0x3bff73]['isStopped'])return!(0x1538+0x979*-0x1+-0x12*0xa7);return!(-0x19d7+-0x6d3*0x5+0x3bf6);}set['loop'](_0x1ea5cc){this['_loop']=!!_0x1ea5cc;const _0x3b6d0f=this['instances'];for(let _0x22b218=0xe*0x289+0x1*0x26c4+-0x2521*0x2,_0xdddd9d=_0x3b6d0f['length'];_0x22b218<_0xdddd9d;_0x22b218++)_0x3b6d0f[_0x22b218]['loop']=this['_loop'];}get['loop'](){return this['_loop'];}set['overlap'](_0x46985f){this['_overlap']=!!_0x46985f;}get['overlap'](){return this['_overlap'];}set['pitch'](_0x59a91f){if(this['_pitch']=Math['max'](Number(_0x59a91f)||-0xc4f+-0x4c7*-0x1+0x788,-0xd5*-0x2b+-0x2f3+0x106a*-0x2+0.01),!this['_overlap']){const _0x49d763=this['instances'];for(let _0x52a1c6=0xe7b*-0x1+-0x1c16+0x2a91,_0x213f5b=_0x49d763['length'];_0x52a1c6<_0x213f5b;_0x52a1c6++)_0x49d763[_0x52a1c6]['pitch']=this['pitch']*this['_component']['pitch'];}}get['pitch'](){return this['_pitch'];}set['startTime'](_0x2f2e29){if(this['_startTime']=Math['max'](0x24ef+0x34e+-0x283d,Number(_0x2f2e29)||-0x2*0x10d7+-0x271+-0x1*-0x241f),!this['_overlap']){const _0x43c2b5=this['instances'];for(let _0x17a33a=0x1d*-0xe8+-0x5e3*-0x2+-0xe82*-0x1,_0x3411ed=_0x43c2b5['length'];_0x17a33a<_0x3411ed;_0x17a33a++)_0x43c2b5[_0x17a33a]['startTime']=this['_startTime'];}}get['startTime'](){return this['_startTime'];}set['volume'](_0x49d8cf){if(this['_volume']=Y['clamp'](Number(_0x49d8cf)||0x1e2+0x46*-0x1e+0x652,0x375+-0x341*-0xb+-0x2740,-0x2*-0x1df+-0xc68+0x8ab),!this['_overlap']){const _0x2c60bf=this['instances'];for(let _0x877b96=-0x86*0x4+-0x84e+0xa66,_0x4820af=_0x2c60bf['length'];_0x877b96<_0x4820af;_0x877b96++)_0x2c60bf[_0x877b96]['volume']=this['_volume']*this['_component']['volume'];}}get['volume'](){return this['_volume'];}}h(Gi,'EVENT_PLAY','play'),h(Gi,'EVENT_PAUS'+'E','pause'),h(Gi,'EVENT_RESU'+'ME','resume'),h(Gi,'EVENT_STOP','stop'),h(Gi,'EVENT_END','end'),h(Gi,'EVENT_LOAD','load');class Kr extends we{constructor(){super(...arguments),h(this,'_volume',0x4f3+0x748+0x1*-0xc3a),h(this,'_pitch',-0x1438+0xa13*-0x2+0x285f),h(this,'_positiona'+'l',!(-0x2596+0x7*-0x125+0x511*0x9)),h(this,'_refDistan'+'ce',-0x12fa+0x10f9*0x1+0x1*0x202),h(this,'_maxDistan'+'ce',0x164e+-0x3508+-0x22e5*-0x2),h(this,'_rollOffFa'+'ctor',0xe6f+-0x1*0x2f+-0xe3f*0x1),h(this,'_distanceM'+'odel',Vp),h(this,'_slots',{}),h(this,'_playingBe'+'foreDisabl'+'e',{});}['_updateSou'+'ndInstance'+'s'](_0x2b3743,_0x901bb9,_0x206007){const _0x5e72d4=this['_slots'];for(const _0x5db0f5 in _0x5e72d4){const _0x116143=_0x5e72d4[_0x5db0f5];if(!_0x116143['overlap']){const _0x6b6d2f=_0x116143['instances'];for(let _0x1faea0=-0x22e0+0x591+0x1d4f,_0x378635=_0x6b6d2f['length'];_0x1faea0<_0x378635;_0x1faea0++)_0x6b6d2f[_0x1faea0][_0x2b3743]=_0x206007?_0x116143[_0x2b3743]*_0x901bb9:_0x901bb9;}}}set['distanceMo'+'del'](_0x5f5185){this['_distanceM'+'odel']=_0x5f5185,this['_updateSou'+'ndInstance'+'s']('distanceMo'+'del',_0x5f5185,!(-0xf35+0x1be5*-0x1+0x2b1b));}get['distanceMo'+'del'](){return this['_distanceM'+'odel'];}set['maxDistanc'+'e'](_0x152606){this['_maxDistan'+'ce']=_0x152606,this['_updateSou'+'ndInstance'+'s']('maxDistanc'+'e',_0x152606,!(-0x1d53*0x1+-0xa7b*-0x1+0x12d9));}get['maxDistanc'+'e'](){return this['_maxDistan'+'ce'];}set['refDistanc'+'e'](_0x45b0fd){this['_refDistan'+'ce']=_0x45b0fd,this['_updateSou'+'ndInstance'+'s']('refDistanc'+'e',_0x45b0fd,!(0x25b4+-0x629+-0xfc5*0x2));}get['refDistanc'+'e'](){return this['_refDistan'+'ce'];}set['rollOffFac'+'tor'](_0x57460d){this['_rollOffFa'+'ctor']=_0x57460d,this['_updateSou'+'ndInstance'+'s']('rollOffFac'+'tor',_0x57460d,!(0x1*0x3ed+0x1a2c+0xc*-0x282));}get['rollOffFac'+'tor'](){return this['_rollOffFa'+'ctor'];}set['pitch'](_0x4545e4){this['_pitch']=_0x4545e4,this['_updateSou'+'ndInstance'+'s']('pitch',_0x4545e4,!(-0x10*0xda+0x1cf*0x15+0x91*-0x2b));}get['pitch'](){return this['_pitch'];}set['volume'](_0x42ca2d){this['_volume']=_0x42ca2d,this['_updateSou'+'ndInstance'+'s']('volume',_0x42ca2d,!(0x1b2+0x22ac+-0x245e));}get['volume'](){return this['_volume'];}set['positional'](_0x358046){this['_positiona'+'l']=_0x358046;const _0x52ebae=this['_slots'];for(const _0x487f56 in _0x52ebae){const _0x16eace=_0x52ebae[_0x487f56];if(!_0x16eace['overlap']){const _0x26dc77=_0x16eace['instances'],_0x4117d1=_0x26dc77['length'];for(let _0x4f7bfa=_0x4117d1-(0x113a+0x1f*0x95+-0x2344);_0x4f7bfa>=0x1456+0x1ab6+-0x2f0c;_0x4f7bfa--){const _0x39d01e=_0x26dc77[_0x4f7bfa]['isPlaying']||_0x26dc77[_0x4f7bfa]['isSuspende'+'d'],_0xa19340=_0x26dc77[_0x4f7bfa]['currentTim'+'e'];_0x39d01e&&_0x26dc77[_0x4f7bfa]['stop']();const _0x4b6828=_0x16eace['_createIns'+'tance']();_0x39d01e&&(_0x4b6828['play'](),_0x4b6828['currentTim'+'e']=_0xa19340),_0x26dc77['push'](_0x4b6828);}}}}get['positional'](){return this['_positiona'+'l'];}set['slots'](_0x536b66){const _0x33cef3=this['_slots'];if(_0x33cef3){for(const _0x17f226 in _0x33cef3)_0x33cef3[_0x17f226]['stop']();}const _0xbb7acc={};for(const _0x21486a in _0x536b66)_0x536b66[_0x21486a]instanceof Gi?_0xbb7acc[_0x536b66[_0x21486a]['name']]=_0x536b66[_0x21486a]:_0x536b66[_0x21486a]['name']&&(_0xbb7acc[_0x536b66[_0x21486a]['name']]=new Gi(this,_0x536b66[_0x21486a]['name'],_0x536b66[_0x21486a]));this['_slots']=_0xbb7acc,this['enabled']&&this['entity']['enabled']&&this['onEnable']();}get['slots'](){return this['_slots'];}['onEnable'](){if(this['system']['_inTools'])return;const _0x399815=this['_slots'],_0x4b0cc3=this['_playingBe'+'foreDisabl'+'e'];for(const _0x11530c in _0x399815){const _0xeec8bf=_0x399815[_0x11530c];_0xeec8bf['autoPlay']&&_0xeec8bf['isStopped']?_0xeec8bf['play']():_0x4b0cc3[_0x11530c]?_0xeec8bf['resume']():_0xeec8bf['isLoaded']||_0xeec8bf['load']();}}['onDisable'](){const _0x8b77a3=this['_slots'],_0x27cad0={};for(const _0x30393f in _0x8b77a3)_0x8b77a3[_0x30393f]['overlap']||_0x8b77a3[_0x30393f]['isPlaying']&&(_0x8b77a3[_0x30393f]['pause'](),_0x27cad0[_0x30393f]=!(-0x1251+-0x1*-0x1f30+-0x5*0x293));this['_playingBe'+'foreDisabl'+'e']=_0x27cad0;}['onRemove'](){this['off']();}['addSlot'](_0x23a69d,_0x2d2cc6){const _0x4005f9=this['_slots'];if(_0x4005f9[_0x23a69d])return w['warn']('A\x20sound\x20sl'+'ot\x20with\x20na'+'me\x20'+_0x23a69d+('\x20already\x20e'+'xists\x20on\x20E'+'ntity\x20')+this['entity']['path']),null;const _0x4ee0c5=new Gi(this,_0x23a69d,_0x2d2cc6);return _0x4005f9[_0x23a69d]=_0x4ee0c5,_0x4ee0c5['autoPlay']&&this['enabled']&&this['entity']['enabled']&&_0x4ee0c5['play'](),_0x4ee0c5;}['removeSlot'](_0x261edc){const _0x4dff34=this['_slots'];_0x4dff34[_0x261edc]&&(_0x4dff34[_0x261edc]['stop'](),delete _0x4dff34[_0x261edc]);}['slot'](_0x6a61ea){return this['_slots'][_0x6a61ea];}['_getSlotPr'+'operty'](_0x4c7923,_0x637da5){if(!this['enabled']||!this['entity']['enabled'])return;const _0x22f902=this['_slots'][_0x4c7923];if(!_0x22f902){w['warn']('Trying\x20to\x20'+'get\x20'+_0x637da5+('\x20from\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20')+_0x4c7923+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}return _0x22f902[_0x637da5];}['isPlaying'](_0x5a0164){return this['_getSlotPr'+'operty'](_0x5a0164,'isPlaying')||!(-0x590+0x3bd+0x3*0x9c);}['isLoaded'](_0x42703b){return this['_getSlotPr'+'operty'](_0x42703b,'isLoaded')||!(0x19a2+0xf06+-0x28a7);}['isPaused'](_0x4ced91){return this['_getSlotPr'+'operty'](_0x4ced91,'isPaused')||!(0x18df+0x5*-0x4c5+0x3*-0x57);}['isStopped'](_0x387495){return this['_getSlotPr'+'operty'](_0x387495,'isStopped')||!(0x1e55+-0x7f4*-0x2+-0x2e3c);}['play'](_0x29b27e){if(!this['enabled']||!this['entity']['enabled'])return null;const _0x67bb54=this['_slots'][_0x29b27e];return _0x67bb54?_0x67bb54['play']():(w['warn']('Trying\x20to\x20'+'play\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x29b27e+('\x20which\x20doe'+'s\x20not\x20exis'+'t')),null);}['pause'](_0x53b326){const _0x33d956=this['_slots'];if(_0x53b326){const _0x219e9f=_0x33d956[_0x53b326];if(!_0x219e9f){w['warn']('Trying\x20to\x20'+'pause\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20'+_0x53b326+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x219e9f['pause']();}else{for(const _0x167758 in _0x33d956)_0x33d956[_0x167758]['pause']();}}['resume'](_0x55f93e){const _0x48efb3=this['_slots'];if(_0x55f93e){const _0xb51a65=_0x48efb3[_0x55f93e];if(!_0xb51a65){w['warn']('Trying\x20to\x20'+'resume\x20sou'+'nd\x20slot\x20wi'+'th\x20name\x20'+_0x55f93e+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0xb51a65['isPaused']&&_0xb51a65['resume']();}else{for(const _0x402de7 in _0x48efb3)_0x48efb3[_0x402de7]['resume']();}}['stop'](_0x474166){const _0xda0423=this['_slots'];if(_0x474166){const _0x259ab4=_0xda0423[_0x474166];if(!_0x259ab4){w['warn']('Trying\x20to\x20'+'stop\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x474166+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x259ab4['stop']();}else{for(const _0x127052 in _0xda0423)_0xda0423[_0x127052]['stop']();}}}h(Kr,'EVENT_PLAY','play'),h(Kr,'EVENT_PAUS'+'E','pause'),h(Kr,'EVENT_RESU'+'ME','resume'),h(Kr,'EVENT_STOP','stop'),h(Kr,'EVENT_END','end');class cF{constructor(){this['enabled']=!(0x1171+0x2537+0x4f8*-0xb);}}const d0=['enabled'];class hF extends ct{constructor(_0x1ef72d){super(_0x1ef72d),this['id']='sound',this['ComponentT'+'ype']=Kr,this['DataType']=cF,this['schema']=d0,this['manager']=_0x1ef72d['soundManag'+'er'],w['assert'](this['manager'],'SoundCompo'+'nentSystem'+'\x20cannot\x20be'+'\x20created\x20w'+'ithout\x20sou'+'nd\x20manager'),this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['volume'](_0x255b28){this['manager']['volume']=_0x255b28;}get['volume'](){return this['manager']['volume'];}get['context'](){return Dl()?this['manager']['context']:(w['warn']('WARNING:\x20A'+'udio\x20conte'+'xt\x20is\x20not\x20'+'supported\x20'+'on\x20this\x20br'+'owser'),null);}['initialize'+'ComponentD'+'ata'](_0x5d8a6c,_0x10fb31,_0x16c3f6){_0x16c3f6=['volume','pitch','positional','refDistanc'+'e','maxDistanc'+'e','rollOffFac'+'tor','distanceMo'+'del','slots'];for(let _0x2ed2c2=-0x2*-0x345+-0x1*0x1999+0x130f;_0x2ed2c2<_0x16c3f6['length'];_0x2ed2c2++)_0x10fb31['hasOwnProp'+'erty'](_0x16c3f6[_0x2ed2c2])&&(_0x5d8a6c[_0x16c3f6[_0x2ed2c2]]=_0x10fb31[_0x16c3f6[_0x2ed2c2]]);super['initialize'+'ComponentD'+'ata'](_0x5d8a6c,_0x10fb31,['enabled']);}['cloneCompo'+'nent'](_0x260dfd,_0x38f1a6){const _0x32aff6=_0x260dfd['sound'],_0x4bfd37=_0x32aff6['slots'],_0x532423={};for(const _0x3d9f07 in _0x4bfd37){const _0x1c80f0=_0x4bfd37[_0x3d9f07];_0x532423[_0x3d9f07]={'name':_0x1c80f0['name'],'volume':_0x1c80f0['volume'],'pitch':_0x1c80f0['pitch'],'loop':_0x1c80f0['loop'],'duration':_0x1c80f0['duration'],'startTime':_0x1c80f0['startTime'],'overlap':_0x1c80f0['overlap'],'autoPlay':_0x1c80f0['autoPlay'],'asset':_0x1c80f0['asset']};}const _0x3944d1={'distanceModel':_0x32aff6['distanceMo'+'del'],'enabled':_0x32aff6['enabled'],'maxDistance':_0x32aff6['maxDistanc'+'e'],'pitch':_0x32aff6['pitch'],'positional':_0x32aff6['positional'],'refDistance':_0x32aff6['refDistanc'+'e'],'rollOffFactor':_0x32aff6['rollOffFac'+'tor'],'slots':_0x532423,'volume':_0x32aff6['volume']};return this['addCompone'+'nt'](_0x38f1a6,_0x3944d1);}['onUpdate'](_0x87e9b4){const _0x15f4e1=this['store'];for(const _0x188160 in _0x15f4e1)if(_0x15f4e1['hasOwnProp'+'erty'](_0x188160)){const _0x9dd5f3=_0x15f4e1[_0x188160]['entity'];if(_0x9dd5f3['enabled']){const _0x13d259=_0x9dd5f3['sound'];if(_0x13d259['enabled']&&_0x13d259['positional']){const _0x1d2155=_0x9dd5f3['getPositio'+'n'](),_0x2bca93=_0x13d259['slots'];for(const _0x443741 in _0x2bca93)_0x2bca93[_0x443741]['updatePosi'+'tion'](_0x1d2155);}}}}['onBeforeRe'+'move'](_0x58f06e,_0x5344f3){const _0x478051=_0x5344f3['slots'];for(const _0xbe9b04 in _0x478051)_0x478051[_0xbe9b04]['overlap']||_0x478051[_0xbe9b04]['stop']();_0x5344f3['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Kr['prototype'],d0);const lS='simple',cS='animated';class Hi extends me{constructor(_0x3217fc,_0x4d5b3c){super(),h(this,'_evtSetMes'+'hes',null),(this['_component']=_0x3217fc,this['_frame']=-0x1*-0x604+0xb99+-0x119d,this['_sprite']=null,this['_spriteAss'+'et']=null,this['spriteAsse'+'t']=_0x4d5b3c['spriteAsse'+'t'],this['name']=_0x4d5b3c['name'],this['fps']=_0x4d5b3c['fps']||0x2657+-0x1f77+-0x6e0,this['loop']=_0x4d5b3c['loop']||!(0x76f*-0x1+-0xa*-0xb3+0x6*0x13),this['_playing']=!(-0x23a7+0x305+-0x687*-0x5),this['_paused']=!(-0x18c1+0x1049*0x1+0x879),this['_time']=0x178f+-0x239c+0xc0d);}get['duration'](){if(this['_sprite']){const _0x2ce43a=this['fps']||Number['MIN_VALUE'];return this['_sprite']['frameKeys']['length']/Math['abs'](_0x2ce43a);}return 0x10e8+-0x1d69+0xc81;}set['frame'](_0x4439b6){this['_setFrame'](_0x4439b6);const _0x19bb93=this['fps']||Number['MIN_VALUE'];this['_setTime'](this['_frame']/_0x19bb93);}get['frame'](){return this['_frame'];}get['isPaused'](){return this['_paused'];}get['isPlaying'](){return this['_playing'];}set['sprite'](_0x41d23f){var _0x5c1627;if(this['_sprite']&&((_0x5c1627=this['_evtSetMes'+'hes'])==null||_0x5c1627['off'](),this['_evtSetMes'+'hes']=null,this['_sprite']['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['off']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['off']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_sprite']=_0x41d23f,this['_sprite']&&(this['_evtSetMes'+'hes']=this['_sprite']['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['on']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['on']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_component']['currentCli'+'p']===this){let _0x424b5a;!_0x41d23f||!_0x41d23f['atlas']?(_0x424b5a=this['_component']['_meshInsta'+'nce'],_0x424b5a&&(_0x424b5a['deletePara'+'meter']('texture_em'+'issiveMap'),_0x424b5a['deletePara'+'meter']('texture_op'+'acityMap')),this['_component']['_hideModel']()):(_0x41d23f['atlas']['texture']&&(_0x424b5a=this['_component']['_meshInsta'+'nce'],_0x424b5a&&(_0x424b5a['setParamet'+'er']('texture_em'+'issiveMap',_0x41d23f['atlas']['texture']),_0x424b5a['setParamet'+'er']('texture_op'+'acityMap',_0x41d23f['atlas']['texture'])),this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['_component']['_showModel']()),this['time']&&this['fps']?this['time']=this['time']:this['frame']=this['frame']);}}get['sprite'](){return this['_sprite'];}set['spriteAsse'+'t'](_0x254741){const _0x47fb9f=this['_component']['system']['app']['assets'];let _0x2f58cb=_0x254741;if(_0x254741 instanceof pe&&(_0x2f58cb=_0x254741['id']),this['_spriteAss'+'et']!==_0x2f58cb){if(this['_spriteAss'+'et']){const _0x385eb9=_0x47fb9f['get'](this['_spriteAss'+'et']);_0x385eb9&&this['_unbindSpr'+'iteAsset'](_0x385eb9);}if(this['_spriteAss'+'et']=_0x2f58cb,this['_spriteAss'+'et']){const _0x4fc60c=_0x47fb9f['get'](this['_spriteAss'+'et']);_0x4fc60c?this['_bindSprit'+'eAsset'](_0x4fc60c):(this['sprite']=null,_0x47fb9f['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['time'](_0x412454){this['_setTime'](_0x412454),this['_sprite']?this['frame']=Math['min'](this['_sprite']['frameKeys']['length']-(0xa5e+0x11*-0x17f+-0x789*-0x2),Math['floor'](this['_time']*Math['abs'](this['fps']))):this['frame']=0x2370+0x1f6d+-0x42dd;}get['time'](){return this['_time'];}['_onSpriteA'+'ssetAdded'](_0x932cba){this['_component']['system']['app']['assets']['off']('add:'+_0x932cba['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x932cba['id']&&this['_bindSprit'+'eAsset'](_0x932cba);}['_bindSprit'+'eAsset'](_0x5d52c1){_0x5d52c1['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x5d52c1['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x5d52c1['resource']?this['_onSpriteA'+'ssetLoad'](_0x5d52c1):this['_component']['system']['app']['assets']['load'](_0x5d52c1);}['_unbindSpr'+'iteAsset'](_0x37990a){_0x37990a&&(_0x37990a['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x37990a['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x37990a['resource']&&!_0x37990a['resource']['atlas']&&this['_component']['system']['app']['assets']['off']('load:'+_0x37990a['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this));}['_onSpriteA'+'ssetLoad'](_0x2c58a4){if(!_0x2c58a4['resource'])this['sprite']=null;else{if(_0x2c58a4['resource']['atlas'])this['sprite']=_0x2c58a4['resource'];else{const _0x414f8d=_0x2c58a4['data']['textureAtl'+'asAsset'],_0x3866b5=this['_component']['system']['app']['assets'];_0x3866b5['off']('load:'+_0x414f8d,this['_onTexture'+'AtlasLoad'],this),_0x3866b5['once']('load:'+_0x414f8d,this['_onTexture'+'AtlasLoad'],this);}}}['_onTexture'+'AtlasLoad'](_0x16c9d7){const _0x4bac89=this['_spriteAss'+'et'];_0x4bac89 instanceof pe?this['_onSpriteA'+'ssetLoad'](_0x4bac89):this['_onSpriteA'+'ssetLoad'](this['_component']['system']['app']['assets']['get'](_0x4bac89));}['_onSpriteA'+'ssetRemove'](_0x377301){this['sprite']=null;}['_onSpriteM'+'eshesChang'+'e'](){this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['frame']);}['_onSpriteP'+'puChanged'](){this['_component']['currentCli'+'p']===this&&this['sprite']['renderMode']!==ci&&this['_component']['_showFrame'](this['frame']);}['_update'](_0x7f2807){if(this['fps']===-0x5ff*0x2+-0xdd5+-0xb*-0x259||!this['_playing']||this['_paused']||!this['_sprite'])return;const _0x4b99e3=this['fps']<0x1303*-0x1+-0x611+0x1914?-(0x199e*0x1+0x356+-0x1cf3):0xf2*0x13+0x1dc*-0x6+-0x6cd,_0x61ceb=this['_time']+_0x7f2807*this['_component']['speed']*_0x4b99e3,_0x98f8e0=this['duration'],_0x496c9e=_0x61ceb>_0x98f8e0||_0x61ceb<-0x25a5+0x1*-0x68c+0x3*0xebb;this['_setTime'](_0x61ceb);let _0xe75825=this['frame'];this['_sprite']?_0xe75825=Math['floor'](this['_sprite']['frameKeys']['length']*this['_time']/_0x98f8e0):_0xe75825=0x1c94+0x212b+-0x3dbf,_0xe75825!==this['_frame']&&this['_setFrame'](_0xe75825),_0x496c9e&&(this['loop']?(this['fire']('loop'),this['_component']['fire']('loop',this)):(this['_playing']=!(0x1af*-0x1+0x1c18+-0x1a68),this['_paused']=!(-0x497*0x3+-0x1e97+0x2c5d),this['fire']('end'),this['_component']['fire']('end',this)));}['_setTime'](_0x27e2bb){this['_time']=_0x27e2bb;const _0x38927c=this['duration'];this['_time']<-0x5*-0x642+-0x1*0x2263+0x319?this['loop']?this['_time']=this['_time']%_0x38927c+_0x38927c:this['_time']=-0x1cc+0xa61*0x1+-0x895:this['_time']>_0x38927c&&(this['loop']?this['_time']%=_0x38927c:this['_time']=_0x38927c);}['_setFrame'](_0x4aa94e){this['_sprite']?this['_frame']=Y['clamp'](_0x4aa94e,-0x426+-0x7b4+0xbda,this['_sprite']['frameKeys']['length']-(0x19e4+0x3*0x2c2+-0x2229)):this['_frame']=_0x4aa94e,this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['_frame']);}['_destroy'](){if(this['_spriteAss'+'et']){const _0x2391d6=this['_component']['system']['app']['assets'];this['_unbindSpr'+'iteAsset'](_0x2391d6['get'](this['_spriteAss'+'et']));}this['_sprite']&&(this['sprite']=null),this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null);}['play'](){this['_playing']||(this['_playing']=!(0x255f+-0x1e78+-0x6e7),this['_paused']=!(0x1*0x6c8+0x3*0x832+-0x1f5d),this['frame']=0x1a1f+0x215b*-0x1+-0x2*-0x39e,this['fire']('play'),this['_component']['fire']('play',this));}['pause'](){!this['_playing']||this['_paused']||(this['_paused']=!(-0x1*0xb65+0x3a+0xb2b*0x1),this['fire']('pause'),this['_component']['fire']('pause',this));}['resume'](){this['_paused']&&(this['_paused']=!(0x924+-0x4c7*0x4+-0x9f9*-0x1),this['fire']('resume'),this['_component']['fire']('resume',this));}['stop'](){this['_playing']&&(this['_playing']=!(0x1bed+-0xb*-0x2ab+-0x3945),this['_paused']=!(0xfad+-0x1*0x727+-0x885*0x1),this['_time']=0x29*0x89+-0x23f9+0xe08,this['frame']=-0x1ada+0x1*-0x1aff+0x35d9,this['fire']('stop'),this['_component']['fire']('stop',this));}}h(Hi,'EVENT_PLAY','play'),h(Hi,'EVENT_PAUS'+'E','pause'),h(Hi,'EVENT_RESU'+'ME','resume'),h(Hi,'EVENT_STOP','stop'),h(Hi,'EVENT_END','end'),h(Hi,'EVENT_LOOP','loop');const hS='texture_em'+'issiveMap',dS='texture_op'+'acityMap',fS='material_e'+'missive',uS='material_o'+'pacity',dF='innerOffse'+'t',fF='outerScale',uF='atlasRect';class ur extends we{constructor(_0x27e380,_0x5dfd00){super(_0x27e380,_0x5dfd00),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_type']=lS,this['_material']=_0x27e380['defaultMat'+'erial'],this['_color']=new ie(-0x1*-0x17d6+-0xbca*0x2+-0x41,-0xf92+-0x1fd8+0x2f6b,0x1bc*0x3+0xea6+-0x13d9,0x1787+-0xcf8+-0xa8e),this['_colorUnif'+'orm']=new Float32Array(0x1e8f+-0x2273+-0x1*-0x3e7),this['_speed']=0x97*0x41+0x1ea7+-0x349*0x15,this['_flipX']=!(0x22d2+-0x1a66+-0x5*0x1af),this['_flipY']=!(-0x1874+0x2304+0x385*-0x3),this['_width']=-0x245f+-0x9b*0x23+-0x3991*-0x1,this['_height']=-0x616*0x3+0x13e3+-0x8*0x34,this['_drawOrder']=-0xc2*-0x1e+0x1ee+-0x52*0x4d,this['_layers']=[er],this['_outerScal'+'e']=new J(-0x137f+-0x1*0xb17+0x1e97,0x17d*0xd+-0x4df+0x2e5*-0x5),this['_outerScal'+'eUniform']=new Float32Array(-0x39a+0x139b+-0xfff),this['_innerOffs'+'et']=new re(),this['_innerOffs'+'etUniform']=new Float32Array(0x229a+-0x3f2*-0x4+-0x325e),this['_atlasRect']=new re(),this['_atlasRect'+'Uniform']=new Float32Array(-0x2d*-0x81+0x24e3+-0xce*0x4a),this['_batchGrou'+'pId']=-(0x1281*-0x2+-0xd37+0x2*0x191d),this['_batchGrou'+'p']=null,this['_node']=new Ie(),this['_model']=new sr(),this['_model']['graph']=this['_node'],this['_meshInsta'+'nce']=null,_0x5dfd00['addChild'](this['_model']['graph']),this['_model']['_entity']=_0x5dfd00,this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_addedMode'+'l']=!(0x26be+0x126*-0x7+-0x1*0x1eb3),this['_autoPlayC'+'lip']=null,this['_clips']={},this['_defaultCl'+'ip']=new Hi(this,{'name':this['entity']['name'],'fps':0x0,'loop':!(-0x400+0x24ac+0x1*-0x20ab),'spriteAsset':null}),this['_currentCl'+'ip']=this['_defaultCl'+'ip']);}set['type'](_0x420301){this['_type']!==_0x420301&&(this['_type']=_0x420301,this['_type']===lS?(this['stop'](),this['_currentCl'+'ip']=this['_defaultCl'+'ip'],this['enabled']&&this['entity']['enabled']&&(this['_currentCl'+'ip']['frame']=this['frame'],this['_currentCl'+'ip']['sprite']?this['_showModel']():this['_hideModel']())):this['_type']===cS&&(this['stop'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_currentCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['enabled']&&this['entity']['enabled']?this['_showModel']():this['_hideModel']()));}get['type'](){return this['_type'];}set['frame'](_0xa9ac0a){this['_currentCl'+'ip']['frame']=_0xa9ac0a;}get['frame'](){return this['_currentCl'+'ip']['frame'];}set['spriteAsse'+'t'](_0x9a6853){this['_defaultCl'+'ip']['spriteAsse'+'t']=_0x9a6853;}get['spriteAsse'+'t'](){return this['_defaultCl'+'ip']['_spriteAss'+'et'];}set['sprite'](_0x5a2b54){this['_currentCl'+'ip']['sprite']=_0x5a2b54;}get['sprite'](){return this['_currentCl'+'ip']['sprite'];}set['material'](_0x291b5e){this['_material']=_0x291b5e,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=_0x291b5e);}get['material'](){return this['_material'];}set['color'](_0xece314){this['_color']['r']=_0xece314['r'],this['_color']['g']=_0xece314['g'],this['_color']['b']=_0xece314['b'],this['_meshInsta'+'nce']&&(this['_colorUnif'+'orm'][-0x1b*-0x9c+0x1173+-0x21e7]=this['_color']['r'],this['_colorUnif'+'orm'][-0x12f+-0x264c+-0x2*-0x13be]=this['_color']['g'],this['_colorUnif'+'orm'][-0x10b7+-0x10*0x9f+-0xaf*-0x27]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](fS,this['_colorUnif'+'orm']));}get['color'](){return this['_color'];}set['opacity'](_0x42ccd8){this['_color']['a']=_0x42ccd8,this['_meshInsta'+'nce']&&this['_meshInsta'+'nce']['setParamet'+'er'](uS,_0x42ccd8);}get['opacity'](){return this['_color']['a'];}set['clips'](_0x4b7fcc){if(!_0x4b7fcc){for(const _0x3c7913 in this['_clips'])this['removeClip'](_0x3c7913);return;}for(const _0x1b0a9e in this['_clips']){let _0x61bbf2=!(0x1d4e+0x1d*-0x44+-0x1599);for(const _0x599c7a in _0x4b7fcc)if(_0x4b7fcc[_0x599c7a]['name']===_0x1b0a9e){_0x61bbf2=!(0x2128+-0xb99*0x3+-0x1*-0x1a3),this['_clips'][_0x1b0a9e]['fps']=_0x4b7fcc[_0x599c7a]['fps'],this['_clips'][_0x1b0a9e]['loop']=_0x4b7fcc[_0x599c7a]['loop'],_0x4b7fcc[_0x599c7a]['hasOwnProp'+'erty']('sprite')?this['_clips'][_0x1b0a9e]['sprite']=_0x4b7fcc[_0x599c7a]['sprite']:_0x4b7fcc[_0x599c7a]['hasOwnProp'+'erty']('spriteAsse'+'t')&&(this['_clips'][_0x1b0a9e]['spriteAsse'+'t']=_0x4b7fcc[_0x599c7a]['spriteAsse'+'t']);break;}_0x61bbf2||this['removeClip'](_0x1b0a9e);}for(const _0x20aabc in _0x4b7fcc)this['_clips'][_0x4b7fcc[_0x20aabc]['name']]||this['addClip'](_0x4b7fcc[_0x20aabc]);this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['sprite'])&&this['_hideModel']();}get['clips'](){return this['_clips'];}get['currentCli'+'p'](){return this['_currentCl'+'ip'];}set['speed'](_0xe3bd4c){this['_speed']=_0xe3bd4c;}get['speed'](){return this['_speed'];}set['flipX'](_0x266cc4){this['_flipX']!==_0x266cc4&&(this['_flipX']=_0x266cc4,this['_updateTra'+'nsform']());}get['flipX'](){return this['_flipX'];}set['flipY'](_0x59d13c){this['_flipY']!==_0x59d13c&&(this['_flipY']=_0x59d13c,this['_updateTra'+'nsform']());}get['flipY'](){return this['_flipY'];}set['width'](_0xc498fd){_0xc498fd!==this['_width']&&(this['_width']=_0xc498fd,this['_outerScal'+'e']['x']=this['_width'],this['sprite']&&(this['sprite']['renderMode']===Mt||this['sprite']['renderMode']===Pt)&&this['_updateTra'+'nsform']());}get['width'](){return this['_width'];}set['height'](_0x3f4b6f){_0x3f4b6f!==this['_height']&&(this['_height']=_0x3f4b6f,this['_outerScal'+'e']['y']=this['height'],this['sprite']&&(this['sprite']['renderMode']===Mt||this['sprite']['renderMode']===Pt)&&this['_updateTra'+'nsform']());}get['height'](){return this['_height'];}set['batchGroup'+'Id'](_0x53b747){var _0x23b363,_0x56c8bb;if(this['_batchGrou'+'pId']===_0x53b747)return;const _0x4ee277=this['_batchGrou'+'pId'];this['_batchGrou'+'pId']=_0x53b747,this['entity']['enabled']&&_0x4ee277>=-0x22d6+0x1173+0x1163&&((_0x23b363=this['system']['app']['batcher'])==null||_0x23b363['remove'](St['SPRITE'],_0x4ee277,this['entity'])),this['entity']['enabled']&&_0x53b747>=0x108*-0x2+0x4b4+0x34*-0xd?(_0x56c8bb=this['system']['app']['batcher'])==null||_0x56c8bb['insert'](St['SPRITE'],_0x53b747,this['entity']):_0x4ee277>=0x3e*-0x5e+0xe7e+0x161*0x6&&this['_currentCl'+'ip']&&this['_currentCl'+'ip']['sprite']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['autoPlayCl'+'ip'](_0xe135c0){this['_autoPlayC'+'lip']=_0xe135c0 instanceof Hi?_0xe135c0['name']:_0xe135c0,this['_tryAutoPl'+'ay']();}get['autoPlayCl'+'ip'](){return this['_autoPlayC'+'lip'];}set['drawOrder'](_0x5035a4){this['_drawOrder']=_0x5035a4,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['drawOrder']=_0x5035a4);}get['drawOrder'](){return this['_drawOrder'];}set['layers'](_0x2a3739){this['_addedMode'+'l']&&this['_hideModel'](),this['_layers']=_0x2a3739,this['_meshInsta'+'nce']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['layers'](){return this['_layers'];}get['aabb'](){return this['_meshInsta'+'nce']?this['_meshInsta'+'nce']['aabb']:null;}['onEnable'](){var _0x3b4f8c;const _0x526e95=this['system']['app'],_0x45adb2=_0x526e95['scene'],_0xa04aa8=_0x45adb2['layers'];this['_evtLayers'+'Changed']=_0x45adb2['on']('set:layers',this['_onLayersC'+'hanged'],this),_0xa04aa8&&(this['_evtLayerA'+'dded']=_0xa04aa8['on']('add',this['_onLayerAd'+'ded'],this),this['_evtLayerR'+'emoved']=_0xa04aa8['on']('remove',this['_onLayerRe'+'moved'],this)),this['_showModel'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_batchGrou'+'pId']>=0x1c5e+0x269+-0x1*0x1ec7&&((_0x3b4f8c=_0x526e95['batcher'])==null||_0x3b4f8c['insert'](St['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDisable'](){var _0x31029a,_0x5ebf84,_0x13b9ff,_0x4afa52;const _0x703792=this['system']['app'],_0x238bc5=_0x703792['scene']['layers'];(_0x31029a=this['_evtLayers'+'Changed'])==null||_0x31029a['off'](),this['_evtLayers'+'Changed']=null,_0x238bc5&&((_0x5ebf84=this['_evtLayerA'+'dded'])==null||_0x5ebf84['off'](),this['_evtLayerA'+'dded']=null,(_0x13b9ff=this['_evtLayerR'+'emoved'])==null||_0x13b9ff['off'](),this['_evtLayerR'+'emoved']=null),this['stop'](),this['_hideModel'](),this['_batchGrou'+'pId']>=0x12*-0x83+-0x2*-0xcc8+-0x105a&&((_0x4afa52=_0x703792['batcher'])==null||_0x4afa52['remove'](St['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDestroy'](){var _0x3f5e95;this['_currentCl'+'ip']=null,this['_defaultCl'+'ip']&&(this['_defaultCl'+'ip']['_destroy'](),this['_defaultCl'+'ip']=null);for(const _0x488a03 in this['_clips'])this['_clips'][_0x488a03]['_destroy']();this['_clips']=null,this['_hideModel'](),this['_model']=null,(_0x3f5e95=this['_node'])==null||_0x3f5e95['remove'](),this['_node']=null,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=null,this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']=null);}['_showModel'](){if(this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x8c89f=[this['_meshInsta'+'nce']];for(let _0x388c8c=-0x24cd*0x1+0x169*-0x7+0x2eac,_0x1b6b93=this['_layers']['length'];_0x388c8c<_0x1b6b93;_0x388c8c++){const _0x326357=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x388c8c]);_0x326357&&_0x326357['addMeshIns'+'tances'](_0x8c89f);}this['_addedMode'+'l']=!(0x2*-0x10c0+-0x1*-0x1c97+0x1a3*0x3);}['_hideModel'](){if(!this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x17a8e7=[this['_meshInsta'+'nce']];for(let _0x37a9a0=0xc43*-0x2+0x1e9a+0x2*-0x30a,_0x58532f=this['_layers']['length'];_0x37a9a0<_0x58532f;_0x37a9a0++){const _0x5b1a50=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x37a9a0]);_0x5b1a50&&_0x5b1a50['removeMesh'+'Instances'](_0x17a8e7);}this['_addedMode'+'l']=!(0x5*0x5a4+0x13d*-0x17+0x24*0x2);}['_showFrame'](_0x3116bb){if(!this['sprite'])return;const _0x5bf977=this['sprite']['meshes'][_0x3116bb];if(!_0x5bf977){this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']['visible']=!(-0x2414+-0x1f98+0x43ad));return;}let _0x35847c;if(this['sprite']['renderMode']===Pt?_0x35847c=this['system']['default9Sl'+'icedMateri'+'alSlicedMo'+'de']:this['sprite']['renderMode']===Mt?_0x35847c=this['system']['default9Sl'+'icedMateri'+'alTiledMod'+'e']:_0x35847c=this['system']['defaultMat'+'erial'],this['_meshInsta'+'nce']||(this['_meshInsta'+'nce']=new He(_0x5bf977,this['_material'],this['_node']),this['_meshInsta'+'nce']['castShadow']=!(0x1657+0x1b7f*0x1+-0x31d5),this['_meshInsta'+'nce']['receiveSha'+'dow']=!(-0x6*0x4c1+0x16*-0x67+0x2561),this['_meshInsta'+'nce']['drawOrder']=this['_drawOrder'],this['_model']['meshInstan'+'ces']['push'](this['_meshInsta'+'nce']),this['_colorUnif'+'orm'][-0x1*-0x160d+-0x17*-0x18d+-0x39b8]=this['_color']['r'],this['_colorUnif'+'orm'][-0xb79+0x890+0x2ea]=this['_color']['g'],this['_colorUnif'+'orm'][-0x231a+-0x9*-0xbb+0x1c89]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](fS,this['_colorUnif'+'orm']),this['_meshInsta'+'nce']['setParamet'+'er'](uS,this['_color']['a']),this['enabled']&&this['entity']['enabled']&&this['_showModel']()),this['_meshInsta'+'nce']['material']!==_0x35847c&&(this['_meshInsta'+'nce']['material']=_0x35847c),this['_meshInsta'+'nce']['mesh']!==_0x5bf977&&(this['_meshInsta'+'nce']['mesh']=_0x5bf977,this['_meshInsta'+'nce']['visible']=!(0xdd*-0xd+-0x1*0x189d+-0x42*-0x8b),this['_meshInsta'+'nce']['_aabbVer']=-(0x2390+-0xd*0x2ed+0x27a)),this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_meshInsta'+'nce']['setParamet'+'er'](hS,this['sprite']['atlas']['texture']),this['_meshInsta'+'nce']['setParamet'+'er'](dS,this['sprite']['atlas']['texture'])):(this['_meshInsta'+'nce']['deletePara'+'meter'](hS),this['_meshInsta'+'nce']['deletePara'+'meter'](dS)),this['sprite']['atlas']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){this['_meshInsta'+'nce']['_updateAab'+'bFunc']=this['_updateAab'+'bFunc'];const _0x497e54=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][_0x3116bb]];if(_0x497e54){const _0x1237d7=(0x1ca1+0x2db*0xb+0x71*-0x88)/_0x497e54['rect']['z'],_0x287123=(-0x1a9*-0x5+0x344+0x10d*-0xb)/_0x497e54['rect']['w'];this['_innerOffs'+'et']['set'](_0x497e54['border']['x']*_0x1237d7,_0x497e54['border']['y']*_0x287123,_0x497e54['border']['z']*_0x1237d7,_0x497e54['border']['w']*_0x287123);const _0x3c3fc1=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x497e54['rect']['x']/_0x3c3fc1['width'],_0x497e54['rect']['y']/_0x3c3fc1['height'],_0x497e54['rect']['z']/_0x3c3fc1['width'],_0x497e54['rect']['w']/_0x3c3fc1['height']);}else this['_innerOffs'+'et']['set'](0x173d*-0x1+0x65+0x16d8,0x209*-0x6+0x24e2+-0x18ac,-0x3*0x1b9+-0x103c*0x1+0x1*0x1567,0x17e+0x198b+0x3*-0x903);this['_innerOffs'+'etUniform'][-0x25*0xbf+-0xb04+0x1*0x269f]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][0x74f*-0x1+-0x3*-0x2cf+-0x13*0xf]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][0x95*0x2f+-0x7c2+-0x11*0x127]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0x7*-0x20b+0xb*-0x254+0x3fe*0xa]=this['_innerOffs'+'et']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](dF,this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][-0xc*0x32e+0x2547+0xe1]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][0xd*-0x43+0x41*-0x95+0x26d*0x11]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][-0x43*-0x7+0x1ba4+-0x1d77]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0x74d*0x1+0x1a7d*-0x1+0x1fd*0x11]=this['_atlasRect']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](uF,this['_atlasRect'+'Uniform']);}else this['_meshInsta'+'nce']['_updateAab'+'bFunc']=null;this['_updateTra'+'nsform']();}['_updateTra'+'nsform'](){let _0x1dbb15=this['flipX']?-(-0xf8b*0x1+-0xd*0x106+-0x1*-0x1cda):-0x317+-0x2119+0x1*0x2431,_0x11cb65=this['flipY']?-(0x1510+-0x266*-0xc+-0x31d7):0x67*-0x33+0xb4+0x3b*0x56,_0x5a50eb=0x421*0x1+0x24b5+-0x28d6,_0x157b7e=-0x1792+-0xb5c+0x1177*0x2;if(this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){let _0x194454=0x442+-0x1082+0xc41*0x1,_0x361572=-0xc01+0x1719+-0x11*0xa7;if(this['sprite']['atlas']){const _0x4c9e8e=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][this['frame']]];_0x4c9e8e&&(_0x194454=_0x4c9e8e['rect']['z'],_0x361572=_0x4c9e8e['rect']['w'],_0x5a50eb=(-0xbf*-0x26+0x175*-0x13+-0xab+0.5-_0x4c9e8e['pivot']['x'])*this['_width'],_0x157b7e=(0x9*-0xb0+-0x1c88+0x22b8+0.5-_0x4c9e8e['pivot']['y'])*this['_height']);}const _0xc421cc=_0x194454/this['sprite']['pixelsPerU'+'nit'],_0x539d5d=_0x361572/this['sprite']['pixelsPerU'+'nit'];this['_outerScal'+'e']['set'](Math['max'](this['_width'],this['_innerOffs'+'et']['x']*_0xc421cc),Math['max'](this['_height'],this['_innerOffs'+'et']['y']*_0x539d5d)),_0x1dbb15*=_0xc421cc,_0x11cb65*=_0x539d5d,this['_outerScal'+'e']['x']/=_0xc421cc,this['_outerScal'+'e']['y']/=_0x539d5d,_0x1dbb15*=Y['clamp'](this['_width']/(this['_innerOffs'+'et']['x']*_0xc421cc),0x119+0x29*-0x1+0x28*-0x6+0.0001,-0x14c0+-0x23cf+0x3890),_0x11cb65*=Y['clamp'](this['_height']/(this['_innerOffs'+'et']['y']*_0x539d5d),0x1aa8+-0x1f9b+0x4f3+0.0001,0x1a69+0x258+-0x1cc0),this['_meshInsta'+'nce']&&(this['_outerScal'+'eUniform'][-0x131e*0x1+-0x1*0x14cb+-0x259*-0x11]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0x7b1*-0x1+-0x24ba+0x2c6c]=this['_outerScal'+'e']['y'],this['_meshInsta'+'nce']['setParamet'+'er'](fF,this['_outerScal'+'eUniform']));}this['_node']['setLocalSc'+'ale'](_0x1dbb15,_0x11cb65,-0x243e+-0x2015+0x4454),this['_node']['setLocalPo'+'sition'](_0x5a50eb,_0x157b7e,-0x9c*-0x13+-0x25c*-0x1+-0x1be*0x8);}['_updateAab'+'b'](_0x3cbfb0){return _0x3cbfb0['center']['set'](-0xce9+0x14e8+-0x7ff,-0x2448+0x1674+0x162*0xa,0x1*-0x719+0x8*-0x11b+0x4d*0x35),_0x3cbfb0['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(-0x3*-0xb1d+0x3*-0xb4e+0x93+0.5),this['_outerScal'+'e']['y']*(-0xa1*-0x15+-0x8cb*-0x1+-0x1600+0.5),-0xd6*0x29+0x46b+0x1ddb+0.001),_0x3cbfb0['setFromTra'+'nsformedAa'+'bb'](_0x3cbfb0,this['_node']['getWorldTr'+'ansform']()),_0x3cbfb0;}['_tryAutoPl'+'ay'](){if(!this['_autoPlayC'+'lip']||this['type']!==cS)return;const _0x1a568e=this['_clips'][this['_autoPlayC'+'lip']];_0x1a568e&&!_0x1a568e['isPlaying']&&(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['isPlaying'])&&this['enabled']&&this['entity']['enabled']&&this['play'](_0x1a568e['name']);}['_onLayersC'+'hanged'](_0x170cbf,_0x19944f){_0x170cbf['off']('add',this['onLayerAdd'+'ed'],this),_0x170cbf['off']('remove',this['onLayerRem'+'oved'],this),_0x19944f['on']('add',this['onLayerAdd'+'ed'],this),_0x19944f['on']('remove',this['onLayerRem'+'oved'],this),this['enabled']&&this['entity']['enabled']&&this['_showModel']();}['_onLayerAd'+'ded'](_0x4d5fd0){this['layers']['indexOf'](_0x4d5fd0['id'])<-0x170b*0x1+0x1*0x15d7+0x134||this['_addedMode'+'l']&&this['enabled']&&this['entity']['enabled']&&this['_meshInsta'+'nce']&&_0x4d5fd0['addMeshIns'+'tances']([this['_meshInsta'+'nce']]);}['_onLayerRe'+'moved'](_0x2b59be){!this['_meshInsta'+'nce']||this['layers']['indexOf'](_0x2b59be['id'])<-0x23b*-0x7+0x7d9+-0x1776||_0x2b59be['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}['removeMode'+'lFromLayer'+'s'](){for(let _0x2faaa4=0x1*0xe5d+0x1*0x1ec7+-0x2d24;_0x2faaa4<this['layers']['length'];_0x2faaa4++){const _0x3493fc=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x2faaa4]);_0x3493fc&&_0x3493fc['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}}['addClip'](_0x491fdd){const _0x1197c2=new Hi(this,{'name':_0x491fdd['name'],'fps':_0x491fdd['fps'],'loop':_0x491fdd['loop'],'spriteAsset':_0x491fdd['spriteAsse'+'t']});return this['_clips'][_0x491fdd['name']]=_0x1197c2,_0x1197c2['name']&&_0x1197c2['name']===this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),_0x1197c2;}['removeClip'](_0x5c1b1c){delete this['_clips'][_0x5c1b1c];}['clip'](_0x268c2d){return this['_clips'][_0x268c2d];}['play'](_0x538378){const _0x4a4059=this['_clips'][_0x538378],_0x985275=this['_currentCl'+'ip'];return _0x985275&&_0x985275!==_0x4a4059&&(_0x985275['_playing']=!(-0x7c7*-0x4+0x20ed+-0x1*0x4008)),this['_currentCl'+'ip']=_0x4a4059,this['_currentCl'+'ip']?(this['_currentCl'+'ip']=_0x4a4059,this['_currentCl'+'ip']['play']()):w['warn']('Trying\x20to\x20'+'play\x20sprit'+'e\x20animatio'+'n\x20'+_0x538378+('\x20which\x20doe'+'s\x20not\x20exis'+'t.')),_0x4a4059;}['pause'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['_currentCl'+'ip']['pause']();}['resume'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPaused']&&this['_currentCl'+'ip']['resume']();}['stop'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['stop']();}}h(ur,'EVENT_PLAY','play'),h(ur,'EVENT_PAUS'+'E','pause'),h(ur,'EVENT_RESU'+'ME','resume'),h(ur,'EVENT_STOP','stop'),h(ur,'EVENT_END','end'),h(ur,'EVENT_LOOP','loop');class pF{constructor(){this['enabled']=!(0x7*-0x25+-0x22ea+0x23ed);}}const f0=['enabled'];class mF extends ct{constructor(_0xa003e){super(_0xa003e),this['id']='sprite',this['ComponentT'+'ype']=ur,this['DataType']=pF,this['schema']=f0,this['_defaultTe'+'xture']=null,this['_defaultMa'+'terial']=null,this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=null,this['_default9S'+'licedMater'+'ialTiledMo'+'de']=null,this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['defaultMat'+'erial'](_0x1819d3){this['_defaultMa'+'terial']=_0x1819d3;}get['defaultMat'+'erial'](){if(!this['_defaultMa'+'terial']){const _0x44dacd=new _e(this['app']['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':_s,'name':'sprite'}),_0x40f035=new Uint8Array(_0x44dacd['lock']());_0x40f035[0x72*0x7+-0x2*-0xce5+-0x39d*0x8]=_0x40f035[0x135e+0x13*-0x25+-0x2*0x84f]=_0x40f035[-0xb5*-0x1b+-0x110d+0x5*-0x68]=_0x40f035[-0x2*0x10d0+0x2*0x83c+0x112b]=-0x653+-0x2165+0x28b7,_0x44dacd['unlock']();const _0x5d8a05=new Ut();_0x5d8a05['diffuse']['set'](0x1*0x1110+0x4*-0x76f+0x32b*0x4,-0x2271+0x25e9+-0x4*0xde,-0x1f*0x131+-0x1efd+0x43ec),_0x5d8a05['emissive']['set'](0x5*-0x54+0x301*-0x7+-0x4*-0x5ab,0x1ab1*-0x1+-0x1199+0x2c4b,-0x406*0x7+-0xf6b*0x2+-0x39*-0x109),_0x5d8a05['emissiveMa'+'p']=_0x44dacd,_0x5d8a05['opacityMap']=_0x44dacd,_0x5d8a05['opacityMap'+'Channel']='a',_0x5d8a05['useLightin'+'g']=!(0x6c1+-0x2a7+0x1*-0x419),_0x5d8a05['useTonemap']=!(-0x14ee+0x3d*0x3d+0x666),_0x5d8a05['useFog']=!(-0x1a02*-0x1+0x1d5*-0x5+-0x62*0x2c),_0x5d8a05['useSkybox']=!(-0x25bf+-0x929+-0x2ee9*-0x1),_0x5d8a05['blendType']=Gn,_0x5d8a05['depthWrite']=!(-0xc36+0x2069*0x1+-0x40a*0x5),_0x5d8a05['pixelSnap']=!(0x1365*-0x1+0x1*0x171f+-0x3b9),_0x5d8a05['cull']=bt,_0x5d8a05['update'](),this['_defaultTe'+'xture']=_0x44dacd,this['_defaultMa'+'terial']=_0x5d8a05;}return this['_defaultMa'+'terial'];}set['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](_0x4d64fa){this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x4d64fa;}get['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](){if(!this['_default9S'+'licedMater'+'ialSlicedM'+'ode']){const _0x210c0d=this['defaultMat'+'erial']['clone']();_0x210c0d['nineSliced'+'Mode']=Pt,_0x210c0d['update'](),this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x210c0d;}return this['_default9S'+'licedMater'+'ialSlicedM'+'ode'];}set['default9Sl'+'icedMateri'+'alTiledMod'+'e'](_0x30033e){this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x30033e;}get['default9Sl'+'icedMateri'+'alTiledMod'+'e'](){if(!this['_default9S'+'licedMater'+'ialTiledMo'+'de']){const _0x176c0f=this['defaultMat'+'erial']['clone']();_0x176c0f['nineSliced'+'Mode']=Mt,_0x176c0f['update'](),this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x176c0f;}return this['_default9S'+'licedMater'+'ialTiledMo'+'de'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),this['_defaultTe'+'xture']&&(this['_defaultTe'+'xture']['destroy'](),this['_defaultTe'+'xture']=null);}['initialize'+'ComponentD'+'ata'](_0x411d19,_0x534225,_0x682341){if(_0x534225['enabled']!==void(-0x845+-0xf1f+0x1f3*0xc)&&(_0x411d19['enabled']=_0x534225['enabled']),_0x411d19['type']=_0x534225['type'],_0x534225['layers']&&Array['isArray'](_0x534225['layers'])&&(_0x411d19['layers']=_0x534225['layers']['slice'](-0x1905+-0x508+0x1e0d)),_0x534225['drawOrder']!==void(-0x1b0e+-0x1000+0x21*0x14e)&&(_0x411d19['drawOrder']=_0x534225['drawOrder']),_0x534225['color']!==void(0x12a5+-0x72*0x2f+0x41*0x9)&&(_0x534225['color']instanceof ie?_0x411d19['color']['set'](_0x534225['color']['r'],_0x534225['color']['g'],_0x534225['color']['b'],_0x534225['opacity']??0x2689+-0x1e2e*-0x1+-0x44b6):_0x411d19['color']['set'](_0x534225['color'][0x9c8+-0x1f2+-0x7d6],_0x534225['color'][-0x177d*-0x1+0x24bd+0x1413*-0x3],_0x534225['color'][-0x2*-0x1a+-0xfe9*-0x1+-0x101b],_0x534225['opacity']??0x166b+-0x25ec+0xf82),_0x411d19['color']=_0x411d19['color']),_0x534225['opacity']!==void(0x43*0x4a+-0x116+-0x1248)&&(_0x411d19['opacity']=_0x534225['opacity']),_0x534225['flipX']!==void(0x32c*0x4+-0x1303+0x653)&&(_0x411d19['flipX']=_0x534225['flipX']),_0x534225['flipY']!==void(-0x233c+0x260*0x1+-0x2*-0x106e)&&(_0x411d19['flipY']=_0x534225['flipY']),_0x534225['width']!==void(-0x265+-0xe*-0xbb+-0x1*0x7d5)&&(_0x411d19['width']=_0x534225['width']),_0x534225['height']!==void(0xc76*0x1+-0x1f91*0x1+0x131b)&&(_0x411d19['height']=_0x534225['height']),_0x534225['spriteAsse'+'t']!==void(0x3d*0x9d+-0xb*0x1af+0x4e*-0x3e)&&(_0x411d19['spriteAsse'+'t']=_0x534225['spriteAsse'+'t']),_0x534225['sprite']&&(_0x411d19['sprite']=_0x534225['sprite']),_0x534225['frame']!==void(0x25*-0x37+0x1e02+-0x160f)&&(_0x411d19['frame']=_0x534225['frame']),_0x534225['clips']){for(const _0xeea49a in _0x534225['clips'])_0x411d19['addClip'](_0x534225['clips'][_0xeea49a]);}_0x534225['speed']!==void(-0x8d7+-0x7dd*0x1+0x10b4)&&(_0x411d19['speed']=_0x534225['speed']),_0x534225['autoPlayCl'+'ip']&&(_0x411d19['autoPlayCl'+'ip']=_0x534225['autoPlayCl'+'ip']),_0x411d19['batchGroup'+'Id']=_0x534225['batchGroup'+'Id']===void(-0x10cd+0xa00+-0x1*-0x6cd)||_0x534225['batchGroup'+'Id']===null?-(-0x1*-0x6a3+0x1*0x200a+-0x26ac):_0x534225['batchGroup'+'Id'],super['initialize'+'ComponentD'+'ata'](_0x411d19,_0x534225,_0x682341);}['cloneCompo'+'nent'](_0x59d6ed,_0x29249f){const _0x201cf2=_0x59d6ed['sprite'];return this['addCompone'+'nt'](_0x29249f,{'enabled':_0x201cf2['enabled'],'type':_0x201cf2['type'],'spriteAsset':_0x201cf2['spriteAsse'+'t'],'sprite':_0x201cf2['sprite'],'width':_0x201cf2['width'],'height':_0x201cf2['height'],'frame':_0x201cf2['frame'],'color':_0x201cf2['color']['clone'](),'opacity':_0x201cf2['opacity'],'flipX':_0x201cf2['flipX'],'flipY':_0x201cf2['flipY'],'speed':_0x201cf2['speed'],'clips':_0x201cf2['clips'],'autoPlayClip':_0x201cf2['autoPlayCl'+'ip'],'batchGroupId':_0x201cf2['batchGroup'+'Id'],'drawOrder':_0x201cf2['drawOrder'],'layers':_0x201cf2['layers']['slice'](0x1f7f+-0x8b*-0x43+-0x43e0)});}['onUpdate'](_0x2183b4){const _0x541e93=this['store'];for(const _0x35d2c2 in _0x541e93)if(_0x541e93['hasOwnProp'+'erty'](_0x35d2c2)){const _0x35c89e=_0x541e93[_0x35d2c2];if(_0x35c89e['data']['enabled']&&_0x35c89e['entity']['enabled']){const _0x4f85e7=_0x35c89e['entity']['sprite'];_0x4f85e7['_currentCl'+'ip']&&_0x4f85e7['_currentCl'+'ip']['_update'](_0x2183b4);}}}['onBeforeRe'+'move'](_0xc0aa57,_0x104df8){_0x104df8['onDestroy']();}}we['_buildAcce'+'ssors'](ur['prototype'],f0);class _n extends we{constructor(_0x558146,_0x52034e){super(_0x558146,_0x52034e),this['_oldState']=!(0x16d+0x1c90+-0x1dfd),this['_size']=new D(),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['size'](_0x4f5c2c){_0x4f5c2c instanceof D?this['_size']['copy'](_0x4f5c2c):_0x4f5c2c instanceof Array&&_0x4f5c2c['length']>=0x1f*0xbc+0x1*-0x20c8+-0x11*-0x97&&this['size']['set'](_0x4f5c2c[-0x10a9+0x2ea*-0x5+0x1f3b],_0x4f5c2c[0x1d7d+0x1ed4+-0x3c50],_0x4f5c2c[0x41*0x59+0xb0e*0x1+-0x21a5]);}get['size'](){return this['_size'];}['onEnable'](){this['_checkStat'+'e']();}['onDisable'](){this['_checkStat'+'e']();}['_onSetEnab'+'led'](_0x47f37a,_0x1f8822,_0x469db2){this['_checkStat'+'e']();}['_checkStat'+'e'](){const _0x7930da=this['enabled']&&this['entity']['enabled'];_0x7930da!==this['_oldState']&&(this['_oldState']=_0x7930da,this['fire']('enable'),this['fire']('state',this['enabled']));}['_onBeforeR'+'emove'](){this['fire']('remove');}}h(_n,'EVENT_ENAB'+'LE','enable'),h(_n,'EVENT_DISA'+'BLE','disable'),h(_n,'EVENT_STAT'+'E','state'),h(_n,'EVENT_REMO'+'VE','remove');class _F{constructor(){this['enabled']=!(-0x1*-0x789+0x4*0x66d+0x43*-0x7f);}}const u0=['enabled'];class gF extends ct{constructor(_0x6a0a8b){super(_0x6a0a8b),this['id']='zone',this['ComponentT'+'ype']=_n,this['DataType']=_F,this['schema']=u0,this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this);}['initialize'+'ComponentD'+'ata'](_0x2de96b,_0x53f751,_0x387a03){_0x2de96b['enabled']=_0x53f751['hasOwnProp'+'erty']('enabled')?!!_0x53f751['enabled']:!(0x1675+-0xafd+-0x1*0xb78),_0x53f751['size']&&(_0x53f751['size']instanceof D?_0x2de96b['size']['copy'](_0x53f751['size']):_0x53f751['size']instanceof Array&&_0x53f751['size']['length']>=0xdd4+-0x1*0x1b64+0xd93&&_0x2de96b['size']['set'](_0x53f751['size'][-0x689*-0x1+0x20a9+0x2732*-0x1],_0x53f751['size'][0x80e+-0x1*0xd17+0x50a],_0x53f751['size'][-0x6d6+-0xabe+-0x1*-0x1196]));}['cloneCompo'+'nent'](_0x1d4cb4,_0x4352ab){const _0x12b2a1={'enabled':_0x1d4cb4['zone']['enabled'],'size':_0x1d4cb4['zone']['size']};return this['addCompone'+'nt'](_0x4352ab,_0x12b2a1);}['_onBeforeR'+'emove'](_0x215b3f,_0x5b42da){_0x5b42da['_onBeforeR'+'emove']();}}we['_buildAcce'+'ssors'](_n['prototype'],u0);class SF{constructor(_0x186151,_0x484353){this['effect']=_0x186151,this['inputTarge'+'t']=_0x484353,this['outputTarg'+'et']=null,this['name']=_0x186151['constructo'+'r']['name'];}}class yF{constructor(_0x3fc4bc,_0x4e29c5){this['app']=_0x3fc4bc,this['camera']=_0x4e29c5,this['destinatio'+'nRenderTar'+'get']=null,this['effects']=[],this['enabled']=!(-0xdb7+-0x17ea*-0x1+-0xa32),this['depthTarge'+'t']=null,_0x4e29c5['on']('set:rect',this['onCameraRe'+'ctChanged'],this);}['_allocateC'+'olorBuffer'](_0x136d2c,_0x51b533){const _0x1fd2a8=this['camera']['rect'],_0x5868ce=this['destinatio'+'nRenderTar'+'get'],_0x5310f7=this['app']['graphicsDe'+'vice'],_0x28c2b7=Math['floor'](_0x1fd2a8['z']*((_0x5868ce==null?void(-0x5df+0x1e7d+-0x189e):_0x5868ce['width'])??_0x5310f7['width'])),_0x311966=Math['floor'](_0x1fd2a8['w']*((_0x5868ce==null?void(-0x5*-0x43f+-0xf*-0x1c2+-0x2f99):_0x5868ce['height'])??_0x5310f7['height']));return new _e(_0x5310f7,{'name':_0x51b533,'format':_0x136d2c,'width':_0x28c2b7,'height':_0x311966,'mipmaps':!(0x787+-0x216f+-0x2e1*-0x9),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue});}['_createOff'+'screenTarg'+'et'](_0x5ad31f,_0x2ee5dd){const _0x30a585=this['app']['graphicsDe'+'vice'],_0x5c6e79=(this['destinatio'+'nRenderTar'+'get']??_0x30a585['backBuffer'])['isColorBuf'+'ferSrgb'](-0x997+-0x1d*0x6a+0x1599),_0x94fd85=(_0x2ee5dd&&_0x30a585['getRendera'+'bleHdrForm'+'at']([nt,Xt],!(-0x1d98+-0x1471+0x1*0x3209)))??(_0x5c6e79?_s:Ne),_0x577bc7=this['camera']['entity']['name']+('-posteffec'+'t-')+this['effects']['length'],_0x58b9a9=this['_allocateC'+'olorBuffer'](_0x94fd85,_0x577bc7);return new gt({'colorBuffer':_0x58b9a9,'depth':_0x5ad31f,'stencil':_0x5ad31f&&this['app']['graphicsDe'+'vice']['supportsSt'+'encil'],'samples':_0x5ad31f?_0x30a585['samples']:-0x1d37+-0x1d9d+-0x3ad5*-0x1});}['_resizeOff'+'screenTarg'+'et'](_0x5624f3){const _0x1a48c3=_0x5624f3['colorBuffe'+'r']['format'],_0x278659=_0x5624f3['colorBuffe'+'r']['name'];_0x5624f3['destroyFra'+'meBuffers'](),_0x5624f3['destroyTex'+'tureBuffer'+'s'](),_0x5624f3['_colorBuff'+'er']=this['_allocateC'+'olorBuffer'](_0x1a48c3,_0x278659),_0x5624f3['_colorBuff'+'ers']=[_0x5624f3['_colorBuff'+'er']];}['_destroyOf'+'fscreenTar'+'get'](_0x150608){_0x150608['destroyTex'+'tureBuffer'+'s'](),_0x150608['destroy']();}['addEffect'](_0x582740){const _0x108f1a=this['effects'],_0x123684=_0x108f1a['length']===0xaf2*-0x3+0x17fb*-0x1+0x38d1,_0xc28272=this['_createOff'+'screenTarg'+'et'](_0x123684,_0x582740['hdr']),_0x3310cc=new SF(_0x582740,_0xc28272);_0x108f1a['push'](_0x3310cc),this['_sourceTar'+'get']=_0x3310cc['inputTarge'+'t'],_0x108f1a['length']>0x1*-0x117b+-0x16*-0xba+0x180&&(_0x108f1a[_0x108f1a['length']-(-0x2a5+0xce*0x2a+-0x1f25)]['outputTarg'+'et']=_0x3310cc['inputTarge'+'t']),this['_newPostEf'+'fect']=_0x582740,_0x582740['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap'](),this['enable'](),this['_newPostEf'+'fect']=void(-0x12c1+0x42c*0x8+-0xe9f*0x1);}['removeEffe'+'ct'](_0x33712d){let _0x5347c8=-(-0x2*0x10af+0x4fc*0x2+0x3*0x7cd);for(let _0x446a6e=0x1*0xe8f+0x232+-0x1*0x10c1,_0x1f6dc0=this['effects']['length'];_0x446a6e<_0x1f6dc0;_0x446a6e++)if(this['effects'][_0x446a6e]['effect']===_0x33712d){_0x5347c8=_0x446a6e;break;}_0x5347c8>=0x1167+0x232c*-0x1+-0x11c5*-0x1&&(_0x5347c8>-0x1*0x1b8b+0x41e+-0x176d*-0x1?this['effects'][_0x5347c8-(0x1*-0x1d7+0x3*-0x552+0x2b*0x6a)]['outputTarg'+'et']=_0x5347c8+(-0x1*-0x8f9+0x1*0x241+-0xb39)<this['effects']['length']?this['effects'][_0x5347c8+(0x9f0+0xc93+-0x1682)]['inputTarge'+'t']:null:this['effects']['length']>0x2*-0x2a5+-0x1*0x8cb+0xe16&&(this['effects'][-0x25a8+-0x1*0x5ad+-0x6*-0x739]['inputTarge'+'t']['_depth']||(this['_destroyOf'+'fscreenTar'+'get'](this['effects'][-0x654+-0x1a88+-0x2f*-0xb3]['inputTarge'+'t']),this['effects'][-0xd6*0x13+-0x1f97+0x2f7a]['inputTarge'+'t']=this['_createOff'+'screenTarg'+'et'](!(0x9b*-0x3a+0x1*-0x86+0x2*0x11d2),this['effects'][-0x23c6+0x1716+-0x169*-0x9]['hdr']),this['_sourceTar'+'get']=this['effects'][-0x77c*0x1+0x5*-0x31d+0x170e]['inputTarge'+'t']),this['camera']['renderTarg'+'et']=this['effects'][-0x1*0x11b9+-0x2*-0xc05+-0x650]['inputTarge'+'t']),this['_destroyOf'+'fscreenTar'+'get'](this['effects'][_0x5347c8]['inputTarge'+'t']),this['effects']['splice'](_0x5347c8,0x38a+-0xce3*0x1+0x2a*0x39)),this['enabled']&&_0x33712d['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap'](),this['effects']['length']===-0x4*-0x752+-0x216d+0x425&&this['disable']();}['_requestDe'+'pthMaps'](){for(let _0x2abc4a=0xc7*0x6+-0x2656+0x21ac,_0x591eec=this['effects']['length'];_0x2abc4a<_0x591eec;_0x2abc4a++){const _0x4ca767=this['effects'][_0x2abc4a]['effect'];this['_newPostEf'+'fect']!==_0x4ca767&&_0x4ca767['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap']();}}['_releaseDe'+'pthMaps'](){for(let _0x3b746b=0xec6+-0x1*0x698+-0x82e,_0x43c2b7=this['effects']['length'];_0x3b746b<_0x43c2b7;_0x3b746b++)this['effects'][_0x3b746b]['effect']['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap']();}['_requestDe'+'pthMap'](){const _0x3c4221=this['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x3c4221&&(_0x3c4221['incrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(-0xd44+-0x18d8+0x32d*0xc)));}['_releaseDe'+'pthMap'](){const _0x36ca3c=this['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x36ca3c&&(_0x36ca3c['decrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0xc71+-0x1da2+0x1f*0x8e)));}['destroy'](){for(let _0x18f4ae=0x15*-0x6d+-0x10bb+0x19ac,_0x550b11=this['effects']['length'];_0x18f4ae<_0x550b11;_0x18f4ae++)this['effects'][_0x18f4ae]['inputTarge'+'t']['destroy']();this['effects']['length']=-0x491+0x159f+-0x110e,this['disable']();}['enable'](){!this['enabled']&&this['effects']['length']&&(this['enabled']=!(-0x1b0b+-0x444+0x1f4f),this['_requestDe'+'pthMaps'](),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['destinatio'+'nRenderTar'+'get']=this['camera']['renderTarg'+'et'],this['camera']['renderTarg'+'et']=this['effects'][-0x1*0x1c0b+0x1240+-0x6d*-0x17]['inputTarge'+'t'],this['camera']['onPostproc'+'essing']=()=>{if(this['enabled']){let _0xe6f50e=null;const _0x405f80=this['effects']['length'];if(_0x405f80)for(let _0x4e3c44=0x4*-0x41b+0xd49+0x323;_0x4e3c44<_0x405f80;_0x4e3c44++){const _0x4e1cfe=this['effects'][_0x4e3c44];let _0x51afb4=_0x4e1cfe['outputTarg'+'et'];_0x4e3c44===_0x405f80-(-0xb*-0x1f6+0xf99*-0x1+0x8*-0xbf)&&(_0xe6f50e=this['camera']['rect'],this['destinatio'+'nRenderTar'+'get']&&(_0x51afb4=this['destinatio'+'nRenderTar'+'get'])),Q['pushGpuMar'+'ker'](this['app']['graphicsDe'+'vice'],_0x4e1cfe['name']),_0x4e1cfe['effect']['render'](_0x4e1cfe['inputTarge'+'t'],_0x51afb4,_0xe6f50e),Q['popGpuMark'+'er'](this['app']['graphicsDe'+'vice']);}}});}['disable'](){this['enabled']&&(this['enabled']=!(0x192*0x18+-0x2485*0x1+-0x12a),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['_releaseDe'+'pthMaps'](),this['_destroyOf'+'fscreenTar'+'get'](this['_sourceTar'+'get']),this['camera']['renderTarg'+'et']=this['destinatio'+'nRenderTar'+'get'],this['camera']['onPostproc'+'essing']=null);}['_onCanvasR'+'esized'](_0xeccc50,_0x4f98da){const _0x3f7938=this['camera']['rect'],_0x29ab54=this['destinatio'+'nRenderTar'+'get'];_0xeccc50=(_0x29ab54==null?void(0xe45*0x1+0x226f*-0x1+-0xb2*-0x1d):_0x29ab54['width'])??_0xeccc50,_0x4f98da=(_0x29ab54==null?void(0x8ad*0x4+0x5*0x195+-0x2a9d):_0x29ab54['height'])??_0x4f98da,this['camera']['camera']['aspectRati'+'o']=_0xeccc50*_0x3f7938['z']/(_0x4f98da*_0x3f7938['w']),this['resizeRend'+'erTargets']();}['resizeRend'+'erTargets'](){const _0x13a2c3=this['app']['graphicsDe'+'vice'],_0x3f59ba=this['destinatio'+'nRenderTar'+'get'],_0xfb96e5=(_0x3f59ba==null?void(0x16ef+0x1*0x4fd+-0x1bec):_0x3f59ba['width'])??_0x13a2c3['width'],_0x2a7ef6=(_0x3f59ba==null?void(0xe*-0xfa+0x411+-0x99b*-0x1):_0x3f59ba['height'])??_0x13a2c3['height'],_0x1c2757=this['camera']['rect'],_0x366818=Math['floor'](_0x1c2757['z']*_0xfb96e5),_0x1090a6=Math['floor'](_0x1c2757['w']*_0x2a7ef6),_0x590834=this['effects'];for(let _0x325bdd=-0x26*-0x5+0x1b93+-0x293*0xb,_0x57bdb4=_0x590834['length'];_0x325bdd<_0x57bdb4;_0x325bdd++){const _0x56c3c7=_0x590834[_0x325bdd];(_0x56c3c7['inputTarge'+'t']['width']!==_0x366818||_0x56c3c7['inputTarge'+'t']['height']!==_0x1090a6)&&this['_resizeOff'+'screenTarg'+'et'](_0x56c3c7['inputTarge'+'t']);}}['onCameraRe'+'ctChanged'](_0x32326a,_0x182b52,_0x5c4090){this['enabled']&&this['resizeRend'+'erTargets']();}}class Ir extends we{constructor(_0x25e346,_0x373b4a){super(_0x25e346,_0x373b4a),h(this,'onPostproc'+'essing',null),h(this,'_renderSce'+'neDepthMap',0x11*-0x8f+-0x7ab*0x1+-0x895*-0x2),h(this,'_renderSce'+'neColorMap',-0x1*-0x23c+0x87a+-0x55b*0x2),h(this,'_sceneDept'+'hMapReques'+'ted',!(-0x1f91+-0x1c*-0x17+0xe87*0x2)),h(this,'_sceneColo'+'rMapReques'+'ted',!(0x386*-0x5+0x180*0x12+-0x961)),h(this,'_priority',-0x3*0xaba+0x665+0x7*0x3af),h(this,'_disablePo'+'stEffectsL'+'ayer',Il),h(this,'_camera',new Fl()),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_camera']['node']=_0x373b4a,this['_postEffec'+'ts']=new yF(_0x25e346['app'],this));}['setShaderP'+'ass'](_0x11933a){const _0x5bb678=Si['get'](this['system']['app']['graphicsDe'+'vice']),_0x50b5d2=_0x11933a?_0x5bb678['allocate'](_0x11933a,{'isForward':!(-0x2329*0x1+0x571*-0x5+-0xa65*-0x6)}):null;return this['_camera']['shaderPass'+'Info']=_0x50b5d2,_0x50b5d2['index'];}['getShaderP'+'ass'](){var _0x2767a4;return(_0x2767a4=this['_camera']['shaderPass'+'Info'])==null?void(-0xde5*-0x1+-0xb26+0x1*-0x2bf):_0x2767a4['name'];}set['renderPass'+'es'](_0x2ae2d9){this['_camera']['renderPass'+'es']=_0x2ae2d9||[],this['dirtyLayer'+'Compositio'+'nCameras'](),this['system']['app']['scene']['updateShad'+'ers']=!(0x279*0xf+-0x1c55+0x13*-0x76);}get['renderPass'+'es'](){return this['_camera']['renderPass'+'es'];}get['shaderPara'+'ms'](){return this['_camera']['shaderPara'+'ms'];}set['gammaCorre'+'ction'](_0x1d729a){this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=_0x1d729a;}get['gammaCorre'+'ction'](){return this['camera']['shaderPara'+'ms']['gammaCorre'+'ction'];}set['toneMappin'+'g'](_0x13ea71){this['camera']['shaderPara'+'ms']['toneMappin'+'g']=_0x13ea71;}get['toneMappin'+'g'](){return this['camera']['shaderPara'+'ms']['toneMappin'+'g'];}set['fog'](_0x103473){this['_camera']['fogParams']=_0x103473;}get['fog'](){return this['_camera']['fogParams'];}set['aperture'](_0x147b8c){this['_camera']['aperture']=_0x147b8c;}get['aperture'](){return this['_camera']['aperture'];}set['aspectRati'+'o'](_0x514753){this['_camera']['aspectRati'+'o']=_0x514753;}get['aspectRati'+'o'](){return this['_camera']['aspectRati'+'o'];}set['aspectRati'+'oMode'](_0x93803b){this['_camera']['aspectRati'+'oMode']=_0x93803b;}get['aspectRati'+'oMode'](){return this['_camera']['aspectRati'+'oMode'];}set['calculateP'+'rojection'](_0x37e5c4){this['_camera']['calculateP'+'rojection']=_0x37e5c4;}get['calculateP'+'rojection'](){return this['_camera']['calculateP'+'rojection'];}set['calculateT'+'ransform'](_0x415365){this['_camera']['calculateT'+'ransform']=_0x415365;}get['calculateT'+'ransform'](){return this['_camera']['calculateT'+'ransform'];}get['camera'](){return this['_camera'];}set['clearColor'](_0x463223){this['_camera']['clearColor']=_0x463223;}get['clearColor'](){return this['_camera']['clearColor'];}set['clearColor'+'Buffer'](_0x260881){this['_camera']['clearColor'+'Buffer']=_0x260881,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearColor'+'Buffer'](){return this['_camera']['clearColor'+'Buffer'];}set['clearDepth'+'Buffer'](_0x4f6460){this['_camera']['clearDepth'+'Buffer']=_0x4f6460,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearDepth'+'Buffer'](){return this['_camera']['clearDepth'+'Buffer'];}set['clearStenc'+'ilBuffer'](_0x1bbcd7){this['_camera']['clearStenc'+'ilBuffer']=_0x1bbcd7,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearStenc'+'ilBuffer'](){return this['_camera']['clearStenc'+'ilBuffer'];}set['cullFaces'](_0x5d9c39){this['_camera']['cullFaces']=_0x5d9c39;}get['cullFaces'](){return this['_camera']['cullFaces'];}set['disablePos'+'tEffectsLa'+'yer'](_0x113636){this['_disablePo'+'stEffectsL'+'ayer']=_0x113636,this['dirtyLayer'+'Compositio'+'nCameras']();}get['disablePos'+'tEffectsLa'+'yer'](){return this['_disablePo'+'stEffectsL'+'ayer'];}set['farClip'](_0x3ce7c8){this['_camera']['farClip']=_0x3ce7c8;}get['farClip'](){return this['_camera']['farClip'];}set['flipFaces'](_0x4744ea){this['_camera']['flipFaces']=_0x4744ea;}get['flipFaces'](){return this['_camera']['flipFaces'];}set['fov'](_0x44804a){this['_camera']['fov']=_0x44804a;}get['fov'](){return this['_camera']['fov'];}get['frustum'](){return this['_camera']['frustum'];}set['frustumCul'+'ling'](_0xbed7f1){this['_camera']['frustumCul'+'ling']=_0xbed7f1;}get['frustumCul'+'ling'](){return this['_camera']['frustumCul'+'ling'];}set['horizontal'+'Fov'](_0x329ac3){this['_camera']['horizontal'+'Fov']=_0x329ac3;}get['horizontal'+'Fov'](){return this['_camera']['horizontal'+'Fov'];}set['layers'](_0x46fa95){const _0x56dac9=this['_camera']['layers'],_0x4379f9=this['system']['app']['scene'];_0x56dac9['forEach'](_0x474f80=>{const _0x1f242d=_0x4379f9['layers']['getLayerBy'+'Id'](_0x474f80);_0x1f242d==null||_0x1f242d['removeCame'+'ra'](this);}),this['_camera']['layers']=_0x46fa95,this['enabled']&&this['entity']['enabled']&&_0x46fa95['forEach'](_0x103200=>{const _0x164686=_0x4379f9['layers']['getLayerBy'+'Id'](_0x103200);_0x164686==null||_0x164686['addCamera'](this);}),this['fire']('set:layers');}get['layers'](){return this['_camera']['layers'];}get['layersSet'](){return this['_camera']['layersSet'];}set['jitter'](_0x3fc23b){this['_camera']['jitter']=_0x3fc23b;}get['jitter'](){return this['_camera']['jitter'];}set['nearClip'](_0x4f9659){this['_camera']['nearClip']=_0x4f9659;}get['nearClip'](){return this['_camera']['nearClip'];}set['orthoHeigh'+'t'](_0xc35df3){this['_camera']['orthoHeigh'+'t']=_0xc35df3;}get['orthoHeigh'+'t'](){return this['_camera']['orthoHeigh'+'t'];}get['postEffect'+'s'](){return this['_postEffec'+'ts'];}get['postEffect'+'sEnabled'](){return this['_postEffec'+'ts']['enabled'];}set['priority'](_0x22a89d){this['_priority']=_0x22a89d,this['dirtyLayer'+'Compositio'+'nCameras']();}get['priority'](){return this['_priority'];}set['projection'](_0x40d04d){this['_camera']['projection']=_0x40d04d;}get['projection'](){return this['_camera']['projection'];}get['projection'+'Matrix'](){return this['_camera']['projection'+'Matrix'];}set['rect'](_0x475de5){this['_camera']['rect']=_0x475de5,this['fire']('set:rect',this['_camera']['rect']);}get['rect'](){return this['_camera']['rect'];}set['renderScen'+'eColorMap'](_0x38de47){_0x38de47&&!this['_sceneColo'+'rMapReques'+'ted']?(this['requestSce'+'neColorMap'](!(0x25e8+0x1*0x1d3b+-0x4323)),this['_sceneColo'+'rMapReques'+'ted']=!(-0x1*-0x1461+0xe4b+0x1*-0x22ac)):this['_sceneColo'+'rMapReques'+'ted']&&(this['requestSce'+'neColorMap'](!(0xb19*-0x1+-0x6d*0x43+0x27a1)),this['_sceneColo'+'rMapReques'+'ted']=!(0x1ad3+0x1754+-0x3226));}get['renderScen'+'eColorMap'](){return this['_renderSce'+'neColorMap']>0x323*0x1+-0x1387+-0x419*-0x4;}set['renderScen'+'eDepthMap'](_0x1b3b55){_0x1b3b55&&!this['_sceneDept'+'hMapReques'+'ted']?(this['requestSce'+'neDepthMap'](!(-0x1*-0xd01+-0x4cb+-0x1*0x836)),this['_sceneDept'+'hMapReques'+'ted']=!(-0x22+-0x4*0x543+0x152e)):this['_sceneDept'+'hMapReques'+'ted']&&(this['requestSce'+'neDepthMap'](!(-0x20fb*-0x1+-0x112b+-0xfcf)),this['_sceneDept'+'hMapReques'+'ted']=!(-0x1*0x1416+0xa0*-0x14+0x39f*0x9));}get['renderScen'+'eDepthMap'](){return this['_renderSce'+'neDepthMap']>0x15db+-0xb32+-0xaa9;}set['renderTarg'+'et'](_0x1d8669){w['call'](()=>{this['_camera']['renderPass'+'es']['length']>-0x28a+-0x211*0xd+0x1d67&&w['warn']('Setting\x20a\x20'+'render\x20tar'+'get\x20on\x20the'+'\x20camera\x20'+this['entity']['name']+('\x20after\x20the'+'\x20render\x20pa'+'sses\x20is\x20no'+'t\x20supporte'+'d,\x20set\x20it\x20'+'up\x20first.'));}),this['_camera']['renderTarg'+'et']=_0x1d8669,this['dirtyLayer'+'Compositio'+'nCameras']();}get['renderTarg'+'et'](){return this['_camera']['renderTarg'+'et'];}set['scissorRec'+'t'](_0x20216d){this['_camera']['scissorRec'+'t']=_0x20216d;}get['scissorRec'+'t'](){return this['_camera']['scissorRec'+'t'];}set['sensitivit'+'y'](_0x54ca79){this['_camera']['sensitivit'+'y']=_0x54ca79;}get['sensitivit'+'y'](){return this['_camera']['sensitivit'+'y'];}set['shutter'](_0x2f7886){this['_camera']['shutter']=_0x2f7886;}get['shutter'](){return this['_camera']['shutter'];}get['viewMatrix'](){return this['_camera']['viewMatrix'];}['_enableDep'+'thLayer'](_0x20118b){if(this['layers']['find'](_0x4f7533=>_0x4f7533===ps)){const _0x55dd16=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x20118b?_0x55dd16==null||_0x55dd16['incrementC'+'ounter']():_0x55dd16==null||_0x55dd16['decrementC'+'ounter']();}else{if(_0x20118b)return!(0x14f3+-0x1ed7+0x95*0x11);}return!(0x89e*-0x3+-0x1*-0x1119+-0x3*-0x2eb);}['requestSce'+'neColorMap'](_0x3a6e0f){this['_renderSce'+'neColorMap']+=_0x3a6e0f?-0x1c9c*0x1+0x64*-0xb+0x20e9:-(-0x1*-0x183b+0x21f6+-0x3a30),w['assert'](this['_renderSce'+'neColorMap']>=0x242a+0x686+-0x2ab*0x10),this['_enableDep'+'thLayer'](_0x3a6e0f)||w['warnOnce']('CameraComp'+'onent.requ'+'estSceneCo'+'lorMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassCol'+'orGrab'](this['system']['app']['graphicsDe'+'vice'],this['renderScen'+'eColorMap']),this['system']['app']['scene']['layers']['markDirty']();}['requestSce'+'neDepthMap'](_0x109650){this['_renderSce'+'neDepthMap']+=_0x109650?0x15*-0x156+-0x3ad*-0x9+-0x506:-(0x106f+-0x14b5+0x447),w['assert'](this['_renderSce'+'neDepthMap']>=0x1*0x1433+-0x2*0x696+0x707*-0x1),this['_enableDep'+'thLayer'](_0x109650)||w['warnOnce']('CameraComp'+'onent.requ'+'estSceneDe'+'pthMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassDep'+'thGrab'](this['system']['app']['graphicsDe'+'vice'],this['system']['app']['renderer'],this['renderScen'+'eDepthMap']),this['system']['app']['scene']['layers']['markDirty']();}['dirtyLayer'+'Compositio'+'nCameras'](){const _0x19c73f=this['system']['app']['scene']['layers'];_0x19c73f['_dirty']=!(0x1*0xb6b+0x2*0x1016+-0x2b97);}['screenToWo'+'rld'](_0x34d6fd,_0x448314,_0x760b8f,_0x20b6af){const _0x29b06b=this['system']['app']['graphicsDe'+'vice'],{width:_0x5cecc9,height:_0x1fb7eb}=_0x29b06b['clientRect'];return this['_camera']['screenToWo'+'rld'](_0x34d6fd,_0x448314,_0x760b8f,_0x5cecc9,_0x1fb7eb,_0x20b6af);}['worldToScr'+'een'](_0x4bd817,_0x298a81){const _0x2b0008=this['system']['app']['graphicsDe'+'vice'],{width:_0x16ebf7,height:_0x11769b}=_0x2b0008['clientRect'];return this['_camera']['worldToScr'+'een'](_0x4bd817,_0x16ebf7,_0x11769b,_0x298a81);}['onAppPrere'+'nder'](){this['_camera']['_viewMatDi'+'rty']=!(0x3f*-0x45+0x8c2+-0x839*-0x1),this['_camera']['_viewProjM'+'atDirty']=!(-0x872+0x2*0xb3f+-0x2*0x706);}['addCameraT'+'oLayers'](){const _0x13b678=this['layers'];for(let _0x3f31dc=-0x1*-0x322+-0xc*-0x23d+-0x1dfe;_0x3f31dc<_0x13b678['length'];_0x3f31dc++){const _0x4c109c=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x13b678[_0x3f31dc]);_0x4c109c&&_0x4c109c['addCamera'](this);}}['removeCame'+'raFromLaye'+'rs'](){const _0x12011d=this['layers'];for(let _0x2856c7=-0x1*-0x26f3+0x3*0x173+-0x2b4c;_0x2856c7<_0x12011d['length'];_0x2856c7++){const _0x521c07=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x12011d[_0x2856c7]);_0x521c07&&_0x521c07['removeCame'+'ra'](this);}}['onLayersCh'+'anged'](_0xc6652,_0x21fc2d){this['addCameraT'+'oLayers'](),_0xc6652['off']('add',this['onLayerAdd'+'ed'],this),_0xc6652['off']('remove',this['onLayerRem'+'oved'],this),_0x21fc2d['on']('add',this['onLayerAdd'+'ed'],this),_0x21fc2d['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x5e3b60){this['layers']['indexOf'](_0x5e3b60['id'])<-0x1386+-0x1*-0x2d7+0x10af||_0x5e3b60['addCamera'](this);}['onLayerRem'+'oved'](_0x2c832f){this['layers']['indexOf'](_0x2c832f['id'])<-0xb*0x343+-0x1825+-0x1*-0x3c06||_0x2c832f['removeCame'+'ra'](this);}['onEnable'](){var _0x49124e,_0x5353d8,_0x4a7201;const _0x251816=this['system']['app']['scene'],_0x26dc93=_0x251816['layers'];this['system']['addCamera'](this),(_0x49124e=this['_evtLayers'+'Changed'])==null||_0x49124e['off'](),this['_evtLayers'+'Changed']=_0x251816['on']('set:layers',this['onLayersCh'+'anged'],this),_0x26dc93&&((_0x5353d8=this['_evtLayerA'+'dded'])==null||_0x5353d8['off'](),this['_evtLayerA'+'dded']=_0x26dc93['on']('add',this['onLayerAdd'+'ed'],this),(_0x4a7201=this['_evtLayerR'+'emoved'])==null||_0x4a7201['off'](),this['_evtLayerR'+'emoved']=_0x26dc93['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addCameraT'+'oLayers'](),this['postEffect'+'s']['enable']();}['onDisable'](){var _0x25328d,_0x289164,_0x4bc6b1;const _0x102cb7=this['system']['app']['scene']['layers'];this['postEffect'+'s']['disable'](),this['removeCame'+'raFromLaye'+'rs'](),(_0x25328d=this['_evtLayers'+'Changed'])==null||_0x25328d['off'](),this['_evtLayers'+'Changed']=null,_0x102cb7&&((_0x289164=this['_evtLayerA'+'dded'])==null||_0x289164['off'](),this['_evtLayerA'+'dded']=null,(_0x4bc6b1=this['_evtLayerR'+'emoved'])==null||_0x4bc6b1['off'](),this['_evtLayerR'+'emoved']=null),this['system']['removeCame'+'ra'](this);}['onRemove'](){this['onDisable'](),this['off'](),this['camera']['destroy']();}['calculateA'+'spectRatio'](_0x4b76c7){const _0x59a526=this['system']['app']['graphicsDe'+'vice'],_0x385e28=_0x4b76c7?_0x4b76c7['width']:_0x59a526['width'],_0xec94ff=_0x4b76c7?_0x4b76c7['height']:_0x59a526['height'];return _0x385e28*this['rect']['z']/(_0xec94ff*this['rect']['w']);}['frameUpdat'+'e'](_0x36338b){this['aspectRati'+'oMode']===hm&&(this['aspectRati'+'o']=this['calculateA'+'spectRatio'](_0x36338b));}['startXr'](_0x4f4f13,_0x5c1bf9,_0x3701a8){this['system']['app']['xr']['start'](this,_0x4f4f13,_0x5c1bf9,_0x3701a8);}['endXr'](_0xedaf8f){if(!this['_camera']['xr']){_0xedaf8f&&_0xedaf8f(new Error('Camera\x20is\x20'+'not\x20in\x20XR'));return;}this['_camera']['xr']['end'](_0xedaf8f);}['copy'](_0xb66186){this['aperture']=_0xb66186['aperture'],this['aspectRati'+'o']=_0xb66186['aspectRati'+'o'],this['aspectRati'+'oMode']=_0xb66186['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0xb66186['calculateP'+'rojection'],this['calculateT'+'ransform']=_0xb66186['calculateT'+'ransform'],this['clearColor']=_0xb66186['clearColor'],this['clearColor'+'Buffer']=_0xb66186['clearColor'+'Buffer'],this['clearDepth'+'Buffer']=_0xb66186['clearDepth'+'Buffer'],this['clearStenc'+'ilBuffer']=_0xb66186['clearStenc'+'ilBuffer'],this['cullFaces']=_0xb66186['cullFaces'],this['disablePos'+'tEffectsLa'+'yer']=_0xb66186['disablePos'+'tEffectsLa'+'yer'],this['farClip']=_0xb66186['farClip'],this['flipFaces']=_0xb66186['flipFaces'],this['fov']=_0xb66186['fov'],this['frustumCul'+'ling']=_0xb66186['frustumCul'+'ling'],this['horizontal'+'Fov']=_0xb66186['horizontal'+'Fov'],this['layers']=_0xb66186['layers'],this['nearClip']=_0xb66186['nearClip'],this['orthoHeigh'+'t']=_0xb66186['orthoHeigh'+'t'],this['priority']=_0xb66186['priority'],this['projection']=_0xb66186['projection'],this['rect']=_0xb66186['rect'],this['renderTarg'+'et']=_0xb66186['renderTarg'+'et'],this['scissorRec'+'t']=_0xb66186['scissorRec'+'t'],this['sensitivit'+'y']=_0xb66186['sensitivit'+'y'],this['shutter']=_0xb66186['shutter'];}}class vF{constructor(){this['enabled']=!(0x23+0x16f8+-0x171b);}}const p0=['enabled'];class xF extends ct{constructor(_0x128c46){super(_0x128c46),h(this,'cameras',[]),(this['id']='camera',this['ComponentT'+'ype']=Ir,this['DataType']=vF,this['schema']=p0,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['on']('prerender',this['onAppPrere'+'nder'],this));}['initialize'+'ComponentD'+'ata'](_0x1ef89b,_0x171eeb,_0x5aa138){_0x5aa138=['aspectRati'+'o','aspectRati'+'oMode','calculateP'+'rojection','calculateT'+'ransform','clearColor','clearColor'+'Buffer','clearDepth'+'Buffer','clearStenc'+'ilBuffer','renderScen'+'eColorMap','renderScen'+'eDepthMap','cullFaces','farClip','flipFaces','fog','fov','frustumCul'+'ling','horizontal'+'Fov','layers','renderTarg'+'et','nearClip','orthoHeigh'+'t','projection','priority','rect','scissorRec'+'t','aperture','shutter','sensitivit'+'y','gammaCorre'+'ction','toneMappin'+'g'];for(let _0x4b2414=0x3ec*-0x1+0x2406+-0x201a;_0x4b2414<_0x5aa138['length'];_0x4b2414++){const _0xc9703e=_0x5aa138[_0x4b2414];if(_0x171eeb['hasOwnProp'+'erty'](_0xc9703e)){const _0x2e5bb1=_0x171eeb[_0xc9703e];switch(_0xc9703e){case'rect':case'scissorRec'+'t':Array['isArray'](_0x2e5bb1)?_0x1ef89b[_0xc9703e]=new re(_0x2e5bb1[0x1e8+0x1cf2+-0x167*0x16],_0x2e5bb1[-0x1ce0+0x355*-0x1+-0x24d*-0xe],_0x2e5bb1[-0x1852+-0x2ea+0x1b3e],_0x2e5bb1[-0xe2e+0x3a4+0xa8d]):_0x1ef89b[_0xc9703e]=_0x2e5bb1;break;case'clearColor':Array['isArray'](_0x2e5bb1)?_0x1ef89b[_0xc9703e]=new ie(_0x2e5bb1[-0x1add+0x1*0x249+-0xb*-0x23c],_0x2e5bb1[0x595*-0x6+-0x1d4+0x2353],_0x2e5bb1[-0x1*0x2d+0x1478+-0x1449],_0x2e5bb1[-0x8*0x201+-0xa*0x17b+0x95*0x35]):_0x1ef89b[_0xc9703e]=_0x2e5bb1;break;default:_0x1ef89b[_0xc9703e]=_0x2e5bb1;break;}}}super['initialize'+'ComponentD'+'ata'](_0x1ef89b,_0x171eeb,['enabled']);}['cloneCompo'+'nent'](_0x37e536,_0x24fa71){const _0x19a1ae=_0x37e536['camera'];return this['addCompone'+'nt'](_0x24fa71,{'aspectRatio':_0x19a1ae['aspectRati'+'o'],'aspectRatioMode':_0x19a1ae['aspectRati'+'oMode'],'calculateProjection':_0x19a1ae['calculateP'+'rojection'],'calculateTransform':_0x19a1ae['calculateT'+'ransform'],'clearColor':_0x19a1ae['clearColor'],'clearColorBuffer':_0x19a1ae['clearColor'+'Buffer'],'clearDepthBuffer':_0x19a1ae['clearDepth'+'Buffer'],'clearStencilBuffer':_0x19a1ae['clearStenc'+'ilBuffer'],'renderSceneDepthMap':_0x19a1ae['renderScen'+'eDepthMap'],'renderSceneColorMap':_0x19a1ae['renderScen'+'eColorMap'],'cullFaces':_0x19a1ae['cullFaces'],'enabled':_0x19a1ae['enabled'],'farClip':_0x19a1ae['farClip'],'flipFaces':_0x19a1ae['flipFaces'],'fov':_0x19a1ae['fov'],'frustumCulling':_0x19a1ae['frustumCul'+'ling'],'horizontalFov':_0x19a1ae['horizontal'+'Fov'],'layers':_0x19a1ae['layers'],'renderTarget':_0x19a1ae['renderTarg'+'et'],'nearClip':_0x19a1ae['nearClip'],'orthoHeight':_0x19a1ae['orthoHeigh'+'t'],'projection':_0x19a1ae['projection'],'priority':_0x19a1ae['priority'],'rect':_0x19a1ae['rect'],'scissorRect':_0x19a1ae['scissorRec'+'t'],'aperture':_0x19a1ae['aperture'],'sensitivity':_0x19a1ae['sensitivit'+'y'],'shutter':_0x19a1ae['shutter'],'gammaCorrection':_0x19a1ae['gammaCorre'+'ction'],'toneMapping':_0x19a1ae['toneMappin'+'g']});}['onBeforeRe'+'move'](_0x5cea98,_0x52c005){this['removeCame'+'ra'](_0x52c005),_0x52c005['onRemove']();}['onAppPrere'+'nder'](){for(let _0x3e624b=0x35*-0x31+0x1*0x18ab+-0xe86,_0x1cbb2b=this['cameras']['length'];_0x3e624b<_0x1cbb2b;_0x3e624b++)this['cameras'][_0x3e624b]['onAppPrere'+'nder']();}['addCamera'](_0x866576){this['cameras']['push'](_0x866576),ul(this['cameras']);}['removeCame'+'ra'](_0x3d34a0){const _0x351ea5=this['cameras']['indexOf'](_0x3d34a0);_0x351ea5>=0x2be*0xd+-0x9*-0x20+-0x416*0x9&&(this['cameras']['splice'](_0x351ea5,-0x17*-0x150+-0x1cd*0x1+-0x976*0x3),ul(this['cameras']));}['destroy'](){this['app']['off']('prerender',this['onAppPrere'+'nder'],this),super['destroy']();}}we['_buildAcce'+'ssors'](Ir['prototype'],p0);class m0{constructor(){h(this,'enabled',!(0x28b+0x167f+-0x190a)),h(this,'light'),h(this,'type','directiona'+'l'),h(this,'color',new ie(-0x1d1f+0xc*0x153+-0x1e4*-0x7,-0x2646+-0x10ee+0x2a1*0x15,0xaa5+0xf76+-0x1a*0x101)),h(this,'intensity',-0xde7+-0x1446+0x222e),h(this,'luminance',0x1243+0x20e+0x1451*-0x1),h(this,'shape',Ys),h(this,'affectSpec'+'ularity',!(0x10b2+0xcb3*0x3+-0x36cb)),h(this,'castShadow'+'s',!(0x22dd+-0xa81+-0x185b)),h(this,'shadowDist'+'ance',0x5*0x5e0+-0x1db1*-0x1+-0x3ae9),h(this,'shadowInte'+'nsity',-0x996+0x995*-0x4+-0x8d*-0x57),h(this,'shadowReso'+'lution',-0x3f2*-0x2+-0x5*-0x605+0x21fd*-0x1),h(this,'shadowBias',0x20fa+0x1a33+0x3b2d*-0x1+0.05),h(this,'numCascade'+'s',0xda2+0x1d13*-0x1+0xf72),h(this,'cascadeBle'+'nd',0x24f3*-0x1+-0x2*0x7f6+0x34df),h(this,'bakeNumSam'+'ples',0x1*0x419+0x24cb+-0x28e3),h(this,'bakeArea',-0x2f*0x5b+-0x1cbc+-0x2d71*-0x1),h(this,'cascadeDis'+'tribution',-0x8cd*-0x3+0x1481+-0x2ee8+0.5),h(this,'normalOffs'+'etBias',0x1b7f+0x23*0x3b+0x239*-0x10),h(this,'range',-0x6*0x1f3+-0x17f4+0x23b0),h(this,'innerConeA'+'ngle',-0x401+-0x98f*-0x2+-0x7*0x223),h(this,'outerConeA'+'ngle',0x125c+-0x20ca+-0x1*-0xe9b),h(this,'falloffMod'+'e',Qp),h(this,'shadowType',$s),h(this,'vsmBlurSiz'+'e',-0x2482+0x2473+0x1a),h(this,'vsmBlurMod'+'e',em),h(this,'vsmBias',(-0x8a0+-0x33b+0xbdb+0.01)*(-0x127f+0x1db+-0x10a4*-0x1+0.25)),h(this,'cookieAsse'+'t',null),h(this,'cookie',null),h(this,'cookieInte'+'nsity',-0x137*-0x1+0xa*0x30d+-0x1fb8),h(this,'cookieFall'+'off',!(0x16f9*-0x1+0xa3*0x1d+0x482)),h(this,'cookieChan'+'nel','rgb'),h(this,'cookieAngl'+'e',0x1561+-0x1*0x13a+0x1427*-0x1),h(this,'cookieScal'+'e',null),h(this,'cookieOffs'+'et',null),h(this,'shadowUpda'+'teMode',lm),h(this,'mask',-0xa32+-0x1*-0x23c9+-0x1996),h(this,'affectDyna'+'mic',!(-0x3*-0x2d4+0x3*-0x36d+-0x1b*-0x11)),h(this,'affectLigh'+'tmapped',!(-0x4*-0xfb+0x1555+-0x1940)),h(this,'bake',!(0xf2b*-0x1+0x850+0x6dc)),h(this,'bakeDir',!(-0x2004+0x105d+0xfa7)),h(this,'isStatic',!(0x4*-0x124+-0x17fb+0x1c8c)),h(this,'layers',[er]),h(this,'penumbraSi'+'ze',0x1*-0x19e4+0x1ab2+0x29*-0x5),h(this,'penumbraFa'+'lloff',-0x1d*-0x82+0x925*-0x1+0x4*-0x165),h(this,'shadowSamp'+'les',-0x13d5+-0xe*-0x261+-0x1*0xd69),h(this,'shadowBloc'+'kerSamples',0xb1c+0x1*0x1d19+-0x2825);}}const Ho=Object['keys'](new m0());class TF extends we{constructor(){super(...arguments),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_cookieAss'+'et',null),h(this,'_cookieAss'+'etId',null),h(this,'_cookieAss'+'etAdd',!(-0xb58+-0x20c3*0x1+0x2c1c)),h(this,'_cookieMat'+'rix',null);}get['data'](){const _0x59cf2c=this['system']['store'][this['entity']['getGuid']()];return _0x59cf2c?_0x59cf2c['data']:null;}set['enabled'](_0x24e58a){this['_setValue']('enabled',_0x24e58a,function(_0x2585f1,_0x16f3e9){this['onSetEnabl'+'ed'](null,_0x16f3e9,_0x2585f1);});}get['enabled'](){return this['data']['enabled'];}set['light'](_0x470b54){this['_setValue']('light',_0x470b54);}get['light'](){return this['data']['light'];}set['type'](_0x3b54ce){this['_setValue']('type',_0x3b54ce,function(_0x1787c2,_0x556171){this['system']['changeType'](this,_0x556171,_0x1787c2),this['refreshPro'+'perties']();});}get['type'](){return this['data']['type'];}set['color'](_0x5a6072){this['_setValue']('color',_0x5a6072,function(_0x515ceb,_0x78d2b0){this['light']['setColor'](_0x515ceb);},!(0x1407*0x1+0xa3+-0xe6*0x17));}get['color'](){return this['data']['color'];}set['intensity'](_0xa95e19){this['_setValue']('intensity',_0xa95e19,function(_0x731acb,_0x2770e9){this['light']['intensity']=_0x731acb;});}get['intensity'](){return this['data']['intensity'];}set['luminance'](_0x1d1271){this['_setValue']('luminance',_0x1d1271,function(_0x3de1e6,_0x4bbdb0){this['light']['luminance']=_0x3de1e6;});}get['luminance'](){return this['data']['luminance'];}set['shape'](_0x32abe4){this['_setValue']('shape',_0x32abe4,function(_0x4a2d02,_0x57b7e5){this['light']['shape']=_0x4a2d02;});}get['shape'](){return this['data']['shape'];}set['affectSpec'+'ularity'](_0x5cb42a){this['_setValue']('affectSpec'+'ularity',_0x5cb42a,function(_0x21ec33,_0x1c03cc){this['light']['affectSpec'+'ularity']=_0x21ec33;});}get['affectSpec'+'ularity'](){return this['data']['affectSpec'+'ularity'];}set['castShadow'+'s'](_0x574fd7){this['_setValue']('castShadow'+'s',_0x574fd7,function(_0x56e8d0,_0xb20cae){this['light']['castShadow'+'s']=_0x56e8d0;});}get['castShadow'+'s'](){return this['data']['castShadow'+'s'];}set['shadowDist'+'ance'](_0x49896d){this['_setValue']('shadowDist'+'ance',_0x49896d,function(_0x3904a5,_0x2f6f62){this['light']['shadowDist'+'ance']=_0x3904a5;});}get['shadowDist'+'ance'](){return this['data']['shadowDist'+'ance'];}set['shadowInte'+'nsity'](_0x466e12){this['_setValue']('shadowInte'+'nsity',_0x466e12,function(_0x339946,_0x1718f8){this['light']['shadowInte'+'nsity']=_0x339946;});}get['shadowInte'+'nsity'](){return this['data']['shadowInte'+'nsity'];}set['shadowReso'+'lution'](_0x4718d7){this['_setValue']('shadowReso'+'lution',_0x4718d7,function(_0x4d2740,_0xb6d8fb){this['light']['shadowReso'+'lution']=_0x4d2740;});}get['shadowReso'+'lution'](){return this['data']['shadowReso'+'lution'];}set['shadowBias'](_0x16929c){this['_setValue']('shadowBias',_0x16929c,function(_0x550ffc,_0x2679f7){this['light']['shadowBias']=-(-0x4*0x66c+0x13*-0xe5+0x2aaf+0.01)*Y['clamp'](_0x550ffc,-0x1a47+-0x11*0x169+-0x1*-0x3240,0x494*-0x8+0x1af1+0x9b0);});}get['shadowBias'](){return this['data']['shadowBias'];}set['numCascade'+'s'](_0x370290){this['_setValue']('numCascade'+'s',_0x370290,function(_0x16bfb2,_0x155074){this['light']['numCascade'+'s']=Y['clamp'](Math['floor'](_0x16bfb2),-0x25da+0x209f*-0x1+0x6*0xbbf,-0x9*0x16+0xde+-0x14);});}get['numCascade'+'s'](){return this['data']['numCascade'+'s'];}set['cascadeBle'+'nd'](_0x1ced23){this['_setValue']('cascadeBle'+'nd',_0x1ced23,function(_0x17e691,_0x58a32e){this['light']['cascadeBle'+'nd']=Y['clamp'](_0x17e691,0x1976+0x707+0x207d*-0x1,-0x4*0x7a6+0x1f8f*-0x1+0x3e28);});}get['cascadeBle'+'nd'](){return this['data']['cascadeBle'+'nd'];}set['bakeNumSam'+'ples'](_0x24d161){this['_setValue']('bakeNumSam'+'ples',_0x24d161,function(_0x22f81b,_0x4b9d5f){this['light']['bakeNumSam'+'ples']=Y['clamp'](Math['floor'](_0x22f81b),0x206b+0x96+-0x42*0x80,-0x443+-0xbb*-0xf+-0x5b3);});}get['bakeNumSam'+'ples'](){return this['data']['bakeNumSam'+'ples'];}set['bakeArea'](_0x380c8d){this['_setValue']('bakeArea',_0x380c8d,function(_0x1cadf9,_0x4bb9f1){this['light']['bakeArea']=Y['clamp'](_0x1cadf9,0xb1b+-0x1*0x217d+0x1662,-0xdc1+-0x2388+0x31fd);});}get['bakeArea'](){return this['data']['bakeArea'];}set['cascadeDis'+'tribution'](_0x9e99e6){this['_setValue']('cascadeDis'+'tribution',_0x9e99e6,function(_0x535652,_0x4605cb){this['light']['cascadeDis'+'tribution']=Y['clamp'](_0x535652,0x11db+-0x146b*0x1+0x290,0x8d0*-0x2+-0x2*-0xc2+0x101d);});}get['cascadeDis'+'tribution'](){return this['data']['cascadeDis'+'tribution'];}set['normalOffs'+'etBias'](_0x1e58e8){this['_setValue']('normalOffs'+'etBias',_0x1e58e8,function(_0x4816d0,_0x272d64){this['light']['normalOffs'+'etBias']=Y['clamp'](_0x4816d0,-0x35*-0x45+-0xd68+-0xe1,-0x1*0xaa8+0x9*0x3e7+0xc3b*-0x2);});}get['normalOffs'+'etBias'](){return this['data']['normalOffs'+'etBias'];}set['range'](_0xd9bba){this['_setValue']('range',_0xd9bba,function(_0x55c001,_0x49714b){this['light']['attenuatio'+'nEnd']=_0x55c001;});}get['range'](){return this['data']['range'];}set['innerConeA'+'ngle'](_0x435aad){this['_setValue']('innerConeA'+'ngle',_0x435aad,function(_0x579f77,_0x28f4ae){this['light']['innerConeA'+'ngle']=_0x579f77;});}get['innerConeA'+'ngle'](){return this['data']['innerConeA'+'ngle'];}set['outerConeA'+'ngle'](_0x9a9d5f){this['_setValue']('outerConeA'+'ngle',_0x9a9d5f,function(_0x22614d,_0xf975c3){this['light']['outerConeA'+'ngle']=_0x22614d;});}get['outerConeA'+'ngle'](){return this['data']['outerConeA'+'ngle'];}set['falloffMod'+'e'](_0x3e25ee){this['_setValue']('falloffMod'+'e',_0x3e25ee,function(_0x303e56,_0x42910d){this['light']['falloffMod'+'e']=_0x303e56;});}get['falloffMod'+'e'](){return this['data']['falloffMod'+'e'];}set['shadowType'](_0x364bd9){this['_setValue']('shadowType',_0x364bd9,function(_0x5339c2,_0x1f3872){this['light']['shadowType']=_0x5339c2;});}get['shadowType'](){return this['data']['shadowType'];}set['vsmBlurSiz'+'e'](_0x939c9d){this['_setValue']('vsmBlurSiz'+'e',_0x939c9d,function(_0x5d775e,_0x317fa9){this['light']['vsmBlurSiz'+'e']=_0x5d775e;});}get['vsmBlurSiz'+'e'](){return this['data']['vsmBlurSiz'+'e'];}set['vsmBlurMod'+'e'](_0x578118){this['_setValue']('vsmBlurMod'+'e',_0x578118,function(_0x2ed2c6,_0x3b09e2){this['light']['vsmBlurMod'+'e']=_0x2ed2c6;});}get['vsmBlurMod'+'e'](){return this['data']['vsmBlurMod'+'e'];}set['vsmBias'](_0x8caaa5){this['_setValue']('vsmBias',_0x8caaa5,function(_0x2b271d,_0x407082){this['light']['vsmBias']=Y['clamp'](_0x2b271d,0x408+-0x25c5+-0x1*-0x21bd,0x1*-0x10a3+0x748*-0x1+0x17ec);});}get['vsmBias'](){return this['data']['vsmBias'];}set['cookieAsse'+'t'](_0x4ad96e){this['_setValue']('cookieAsse'+'t',_0x4ad96e,function(_0x37357b,_0x5c638f){if(!(this['_cookieAss'+'etId']&&(_0x37357b instanceof pe&&_0x37357b['id']===this['_cookieAss'+'etId']||_0x37357b===this['_cookieAss'+'etId']))){if(this['onCookieAs'+'setRemove'](),this['_cookieAss'+'etId']=null,_0x37357b instanceof pe)this['data']['cookieAsse'+'t']=_0x37357b['id'],this['_cookieAss'+'etId']=_0x37357b['id'],this['onCookieAs'+'setAdd'](_0x37357b);else{if(typeof _0x37357b=='number'){this['_cookieAss'+'etId']=_0x37357b;const _0x2e1761=this['system']['app']['assets']['get'](_0x37357b);_0x2e1761?this['onCookieAs'+'setAdd'](_0x2e1761):(this['_cookieAss'+'etAdd']=!(0x1fa+0x25b3+-0x27ad),this['system']['app']['assets']['on']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this));}}}});}get['cookieAsse'+'t'](){return this['data']['cookieAsse'+'t'];}set['cookie'](_0x21b556){this['_setValue']('cookie',_0x21b556,function(_0x354d15,_0x5cd262){this['light']['cookie']=_0x354d15;});}get['cookie'](){return this['data']['cookie'];}set['cookieInte'+'nsity'](_0x153579){this['_setValue']('cookieInte'+'nsity',_0x153579,function(_0x19f0de,_0x5c9648){this['light']['cookieInte'+'nsity']=Y['clamp'](_0x19f0de,-0x19d3+-0x161b*0x1+0x2fee,0x49+0x18d2+0x11*-0x17a);});}get['cookieInte'+'nsity'](){return this['data']['cookieInte'+'nsity'];}set['cookieFall'+'off'](_0x32d5ba){this['_setValue']('cookieFall'+'off',_0x32d5ba,function(_0x6c28e7,_0x30ce0d){this['light']['cookieFall'+'off']=_0x6c28e7;});}get['cookieFall'+'off'](){return this['data']['cookieFall'+'off'];}set['cookieChan'+'nel'](_0x1210b8){this['_setValue']('cookieChan'+'nel',_0x1210b8,function(_0x438ff9,_0x35fa7c){this['light']['cookieChan'+'nel']=_0x438ff9;});}get['cookieChan'+'nel'](){return this['data']['cookieChan'+'nel'];}set['cookieAngl'+'e'](_0x55b478){this['_setValue']('cookieAngl'+'e',_0x55b478,function(_0x38d9f0,_0x36cd33){if(_0x38d9f0!==-0x1e71+-0x7*-0x8+0x1e39||this['cookieScal'+'e']!==null){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new re());let _0x4bfef1=0x13e8+0x1c27*0x1+-0x1*0x300e,_0x3ddb02=-0x1840+0x1dab+-0x6*0xe7;this['cookieScal'+'e']&&(_0x4bfef1=this['cookieScal'+'e']['x'],_0x3ddb02=this['cookieScal'+'e']['y']);const _0x35dbf7=Math['cos'](_0x38d9f0*Y['DEG_TO_RAD']),_0x226d2e=Math['sin'](_0x38d9f0*Y['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x35dbf7/_0x4bfef1,-_0x226d2e/_0x4bfef1,_0x226d2e/_0x3ddb02,_0x35dbf7/_0x3ddb02),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;});}get['cookieAngl'+'e'](){return this['data']['cookieAngl'+'e'];}set['cookieScal'+'e'](_0x333750){this['_setValue']('cookieScal'+'e',_0x333750,function(_0x2559e3,_0x175332){if(_0x2559e3!==null||this['cookieAngl'+'e']!==-0x25*-0x2b+-0x1663+0x5*0x33c){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new re());const _0x40f8c7=_0x2559e3['x'],_0x1ee83f=_0x2559e3['y'],_0x5c7bd8=Math['cos'](this['cookieAngl'+'e']*Y['DEG_TO_RAD']),_0x2f05c8=Math['sin'](this['cookieAngl'+'e']*Y['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x5c7bd8/_0x40f8c7,-_0x2f05c8/_0x40f8c7,_0x2f05c8/_0x1ee83f,_0x5c7bd8/_0x1ee83f),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;},!(-0x21f*0xe+0x198*-0x2+0x2*0x1071));}get['cookieScal'+'e'](){return this['data']['cookieScal'+'e'];}set['cookieOffs'+'et'](_0xa548b0){this['_setValue']('cookieOffs'+'et',_0xa548b0,function(_0x50bf54,_0xd8d3d5){this['light']['cookieOffs'+'et']=_0x50bf54;},!(-0x3*0x1fd+0x1dbe+-0x17c7));}get['cookieOffs'+'et'](){return this['data']['cookieOffs'+'et'];}set['shadowUpda'+'teMode'](_0x10dc5b){this['_setValue']('shadowUpda'+'teMode',_0x10dc5b,function(_0xabd26c,_0x261d41){this['light']['shadowUpda'+'teMode']=_0xabd26c;},!(0x1e34+-0x20ae+0x27a*0x1));}get['shadowUpda'+'teMode'](){return this['data']['shadowUpda'+'teMode'];}set['mask'](_0x5ccf63){this['_setValue']('mask',_0x5ccf63,function(_0x3de154,_0x4ced56){this['light']['mask']=_0x3de154;});}get['mask'](){return this['data']['mask'];}set['affectDyna'+'mic'](_0x461788){this['_setValue']('affectDyna'+'mic',_0x461788,function(_0xc5ebd6,_0x5d5684){_0xc5ebd6?this['light']['mask']|=Ss:this['light']['mask']&=~Ss,this['light']['layersDirt'+'y']();});}get['affectDyna'+'mic'](){return this['data']['affectDyna'+'mic'];}set['affectLigh'+'tmapped'](_0x14a6f9){this['_setValue']('affectLigh'+'tmapped',_0x14a6f9,function(_0x2a4eb9,_0x4e21b8){_0x2a4eb9?(this['light']['mask']|=di,this['bake']&&(this['light']['mask']&=~fi)):(this['light']['mask']&=~di,this['bake']&&(this['light']['mask']|=fi));});}get['affectLigh'+'tmapped'](){return this['data']['affectLigh'+'tmapped'];}set['bake'](_0x3cc886){this['_setValue']('bake',_0x3cc886,function(_0x4f8538,_0x397924){_0x4f8538?(this['light']['mask']|=fi,this['affectLigh'+'tmapped']&&(this['light']['mask']&=~di)):(this['light']['mask']&=~fi,this['affectLigh'+'tmapped']&&(this['light']['mask']|=di)),this['light']['layersDirt'+'y']();});}get['bake'](){return this['data']['bake'];}set['bakeDir'](_0x2ec446){this['_setValue']('bakeDir',_0x2ec446,function(_0x599ed8,_0x4da40b){this['light']['bakeDir']=_0x599ed8;});}get['bakeDir'](){return this['data']['bakeDir'];}set['isStatic'](_0x3fd83c){this['_setValue']('isStatic',_0x3fd83c,function(_0x375699,_0x10c2e0){this['light']['isStatic']=_0x375699;});}get['isStatic'](){return this['data']['isStatic'];}set['layers'](_0x4dee11){this['_setValue']('layers',_0x4dee11,function(_0x16a57d,_0x1c7d1c){for(let _0x539c89=-0x2*-0xabd+-0xb9*0x3+0x1*-0x134f;_0x539c89<_0x1c7d1c['length'];_0x539c89++){const _0x57e5a1=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x1c7d1c[_0x539c89]);_0x57e5a1&&(_0x57e5a1['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x57e5a1));}for(let _0x174d65=-0x155a+0x2029*0x1+-0x1*0xacf;_0x174d65<_0x16a57d['length'];_0x174d65++){const _0x58f122=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x16a57d[_0x174d65]);_0x58f122&&this['enabled']&&this['entity']['enabled']&&(_0x58f122['addLight'](this),this['light']['addLayer'](_0x58f122));}});}get['layers'](){return this['data']['layers'];}set['shadowUpda'+'teOverride'+'s'](_0x38d81e){this['light']['shadowUpda'+'teOverride'+'s']=_0x38d81e;}get['shadowUpda'+'teOverride'+'s'](){return this['light']['shadowUpda'+'teOverride'+'s'];}set['shadowSamp'+'les'](_0x114931){this['light']['shadowSamp'+'les']=_0x114931;}get['shadowSamp'+'les'](){return this['light']['shadowSamp'+'les'];}set['shadowBloc'+'kerSamples'](_0x5a54a2){this['light']['shadowBloc'+'kerSamples']=_0x5a54a2;}get['shadowBloc'+'kerSamples'](){return this['light']['shadowBloc'+'kerSamples'];}set['penumbraSi'+'ze'](_0xd49fbc){this['light']['penumbraSi'+'ze']=_0xd49fbc;}get['penumbraSi'+'ze'](){return this['light']['penumbraSi'+'ze'];}set['penumbraFa'+'lloff'](_0x7bbec4){this['light']['penumbraFa'+'lloff']=_0x7bbec4;}get['penumbraFa'+'lloff'](){return this['light']['penumbraFa'+'lloff'];}['_setValue'](_0x2e0db9,_0x2e3339,_0x3cc1aa,_0x2f606c){const _0x568a58=this['data'],_0x2bf6ac=_0x568a58[_0x2e0db9];!_0x2f606c&&_0x2bf6ac===_0x2e3339||(_0x568a58[_0x2e0db9]=_0x2e3339,_0x3cc1aa&&_0x3cc1aa['call'](this,_0x2e3339,_0x2bf6ac));}['addLightTo'+'Layers'](){for(let _0x3219ee=0x1877+0x142+-0x893*0x3;_0x3219ee<this['layers']['length'];_0x3219ee++){const _0x2312fa=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x3219ee]);_0x2312fa&&(_0x2312fa['addLight'](this),this['light']['addLayer'](_0x2312fa));}}['removeLigh'+'tFromLayer'+'s'](){for(let _0x307edb=-0x2260+-0x1588+0x37e8;_0x307edb<this['layers']['length'];_0x307edb++){const _0x588d34=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x307edb]);_0x588d34&&(_0x588d34['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x588d34));}}['onLayersCh'+'anged'](_0x459bd9,_0x5d56e3){this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),_0x459bd9['off']('add',this['onLayerAdd'+'ed'],this),_0x459bd9['off']('remove',this['onLayerRem'+'oved'],this),_0x5d56e3['on']('add',this['onLayerAdd'+'ed'],this),_0x5d56e3['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0xe4f94f){this['layers']['indexOf'](_0xe4f94f['id'])>=0x809+-0x26c6+0x1ebd&&this['enabled']&&this['entity']['enabled']&&(_0xe4f94f['addLight'](this),this['light']['addLayer'](_0xe4f94f));}['onLayerRem'+'oved'](_0x46a333){this['layers']['indexOf'](_0x46a333['id'])>=-0xf41+0x258c+-0x164b*0x1&&(_0x46a333['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x46a333));}['refreshPro'+'perties'](){for(let _0x482668=-0x1cb2+0x3d*-0x2+0x1d2c;_0x482668<Ho['length'];_0x482668++){const _0x21fce4=Ho[_0x482668];this[_0x21fce4]=this[_0x21fce4];}this['enabled']&&this['entity']['enabled']&&this['onEnable']();}['onCookieAs'+'setSet'](){let _0x2982f9=!(-0x24bb+-0x13*0xdd+0x3d*0xdf);this['_cookieAss'+'et']['type']==='cubemap'&&!this['_cookieAss'+'et']['loadFaces']&&(this['_cookieAss'+'et']['loadFaces']=!(-0x1a11+-0x1e52*-0x1+-0x441*0x1),_0x2982f9=!(0x194c*-0x1+-0x1f*-0x52+0x232*0x7)),(!this['_cookieAss'+'et']['resource']||_0x2982f9)&&this['system']['app']['assets']['load'](this['_cookieAss'+'et']),this['_cookieAss'+'et']['resource']&&this['onCookieAs'+'setLoad']();}['onCookieAs'+'setAdd'](_0x589d1e){this['_cookieAss'+'etId']===_0x589d1e['id']&&(this['_cookieAss'+'et']=_0x589d1e,this['light']['enabled']&&this['onCookieAs'+'setSet'](),this['_cookieAss'+'et']['on']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['on']('remove',this['onCookieAs'+'setRemove'],this));}['onCookieAs'+'setLoad'](){!this['_cookieAss'+'et']||!this['_cookieAss'+'et']['resource']||(this['cookie']=this['_cookieAss'+'et']['resource']);}['onCookieAs'+'setRemove'](){this['_cookieAss'+'etId']&&(this['_cookieAss'+'etAdd']&&(this['system']['app']['assets']['off']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this),this['_cookieAss'+'etAdd']=!(-0x2*-0x1d2+0x2268+-0x260b*0x1)),this['_cookieAss'+'et']&&(this['_cookieAss'+'et']['off']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['off']('remove',this['onCookieAs'+'setRemove'],this),this['_cookieAss'+'et']=null),this['cookie']=null);}['onEnable'](){const _0x1e12ba=this['system']['app']['scene'],_0x51cc16=_0x1e12ba['layers'];this['light']['enabled']=!(-0x10f8+-0xb47+0x1c3f*0x1),this['_evtLayers'+'Changed']=_0x1e12ba['on']('set:layers',this['onLayersCh'+'anged'],this),_0x51cc16&&(this['_evtLayerA'+'dded']=_0x51cc16['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x51cc16['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),this['_cookieAss'+'et']&&!this['cookie']&&this['onCookieAs'+'setSet']();}['onDisable'](){var _0x362191,_0x390019,_0x5012fd;const _0x181bc2=this['system']['app']['scene']['layers'];this['light']['enabled']=!(0x12c9+-0x637+-0xc91),(_0x362191=this['_evtLayers'+'Changed'])==null||_0x362191['off'](),this['_evtLayers'+'Changed']=null,_0x181bc2&&((_0x390019=this['_evtLayerA'+'dded'])==null||_0x390019['off'](),this['_evtLayerA'+'dded']=null,(_0x5012fd=this['_evtLayerR'+'emoved'])==null||_0x5012fd['off'](),this['_evtLayerR'+'emoved']=null),this['removeLigh'+'tFromLayer'+'s']();}['onRemove'](){this['onDisable'](),this['light']['destroy'](),this['cookieAsse'+'t']=null;}}class wF extends ct{constructor(_0x58d955){super(_0x58d955),this['id']='light',this['ComponentT'+'ype']=TF,this['DataType']=m0,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x1c0860,_0x4f09b8){const _0x1fe92a={..._0x4f09b8};_0x1fe92a['type']||(_0x1fe92a['type']=_0x1c0860['data']['type']),_0x1c0860['data']['type']=_0x1fe92a['type'],_0x1fe92a['layers']&&Array['isArray'](_0x1fe92a['layers'])&&(_0x1fe92a['layers']=_0x1fe92a['layers']['slice'](0x1*-0x12af+0x22b5+-0x1006)),_0x1fe92a['color']&&Array['isArray'](_0x1fe92a['color'])&&(_0x1fe92a['color']=new ie(_0x1fe92a['color'][-0x4f+-0xccd+0xd1c],_0x1fe92a['color'][0xe*-0x6d+0x95f*0x2+-0xcc7],_0x1fe92a['color'][0x1fb7+-0xa83+0xa99*-0x2])),_0x1fe92a['cookieOffs'+'et']&&_0x1fe92a['cookieOffs'+'et']instanceof Array&&(_0x1fe92a['cookieOffs'+'et']=new J(_0x1fe92a['cookieOffs'+'et'][-0x12cc+0x1b56+0x2*-0x445],_0x1fe92a['cookieOffs'+'et'][0x1*-0xd+-0x1817*0x1+-0x373*-0x7])),_0x1fe92a['cookieScal'+'e']&&_0x1fe92a['cookieScal'+'e']instanceof Array&&(_0x1fe92a['cookieScal'+'e']=new J(_0x1fe92a['cookieScal'+'e'][0x97d+0x2*0xc22+-0x21c1],_0x1fe92a['cookieScal'+'e'][0x24df+0x1*0x1031+0x1*-0x350f])),_0x1fe92a['enable']&&(console['warn']('WARNING:\x20e'+'nable:\x20Pro'+'perty\x20is\x20d'+'eprecated.'+'\x20Set\x20enabl'+'ed\x20propert'+'y\x20instead.'),_0x1fe92a['enabled']=_0x1fe92a['enable']),_0x1fe92a['shape']||(_0x1fe92a['shape']=Ys);const _0x304b12=new pl(this['app']['graphicsDe'+'vice'],this['app']['scene']['clusteredL'+'ightingEna'+'bled']);_0x304b12['type']=fu[_0x1fe92a['type']],_0x304b12['_node']=_0x1c0860['entity'],_0x1c0860['data']['light']=_0x304b12,super['initialize'+'ComponentD'+'ata'](_0x1c0860,_0x1fe92a,Ho);}['_onRemoveC'+'omponent'](_0x4ccfac,_0x5b9f0a){_0x5b9f0a['onRemove']();}['cloneCompo'+'nent'](_0x5df2d0,_0x57c07f){const _0x545a6f=_0x5df2d0['light'],_0x5cf54c=[];let _0x10b63e;for(let _0x5ca6e8=0x1884+-0x65*-0x2e+-0x1*0x2aaa;_0x5ca6e8<Ho['length'];_0x5ca6e8++)_0x10b63e=Ho[_0x5ca6e8],_0x10b63e!=='light'&&(_0x545a6f[_0x10b63e]&&_0x545a6f[_0x10b63e]['clone']?_0x5cf54c[_0x10b63e]=_0x545a6f[_0x10b63e]['clone']():_0x5cf54c[_0x10b63e]=_0x545a6f[_0x10b63e]);return this['addCompone'+'nt'](_0x57c07f,_0x5cf54c);}['changeType'](_0x57ef28,_0x430aab,_0x48be6a){_0x430aab!==_0x48be6a&&(_0x57ef28['light']['type']=fu[_0x48be6a]);}}const EF=['x','y','z','w'],bF=[void(0x24*0x7a+0x56e*-0x6+0x11a*0xe),void(0x4*-0x1de+-0x2fa+0xe*0xbf),J,D,re];function Yn(_0x46552f,_0x38399f,_0x54130e,_0x4517ef){switch(_0x38399f['type']){case'boolean':return!!_0x54130e;case'number':if(typeof _0x54130e=='number')return _0x54130e;if(typeof _0x54130e=='string'){const _0x13d005=parseInt(_0x54130e,0x4*0x185+-0x3*-0x5b1+-0x171d);return isNaN(_0x13d005)?null:_0x13d005;}else{if(typeof _0x54130e=='boolean')return 0x8aa*-0x4+0xa3b+-0xd*-0x1e1+_0x54130e;}return null;case'json':{const _0x4b7f06={};if(Array['isArray'](_0x38399f['schema'])){(!_0x54130e||typeof _0x54130e!='object')&&(_0x54130e={});for(let _0x371066=-0x1e12+0xf*-0xad+0x2835;_0x371066<_0x38399f['schema']['length'];_0x371066++){const _0xccdaf0=_0x38399f['schema'][_0x371066];if(_0xccdaf0['name']){if(_0xccdaf0['array']){_0x4b7f06[_0xccdaf0['name']]=[];const _0x3c4bab=Array['isArray'](_0x54130e[_0xccdaf0['name']])?_0x54130e[_0xccdaf0['name']]:[];for(let _0x116f2b=-0x6b+0x141*0x3+-0x358;_0x116f2b<_0x3c4bab['length'];_0x116f2b++)_0x4b7f06[_0xccdaf0['name']]['push'](Yn(_0x46552f,_0xccdaf0,_0x3c4bab[_0x116f2b]));}else{const _0x2846bf=_0x54130e['hasOwnProp'+'erty'](_0xccdaf0['name'])?_0x54130e[_0xccdaf0['name']]:_0xccdaf0['default'];_0x4b7f06[_0xccdaf0['name']]=Yn(_0x46552f,_0xccdaf0,_0x2846bf);}}}}return _0x4b7f06;}case'asset':return _0x54130e instanceof pe?_0x54130e:typeof _0x54130e=='number'?_0x46552f['assets']['get'](_0x54130e)||null:typeof _0x54130e=='string'&&_0x46552f['assets']['get'](parseInt(_0x54130e,-0x12df*0x1+0x726+-0x1*-0xbc3))||null;case'entity':return _0x54130e instanceof Ie?_0x54130e:typeof _0x54130e=='string'?_0x46552f['getEntityF'+'romIndex'](_0x54130e):null;case'rgb':case'rgba':if(_0x54130e instanceof ie)return _0x4517ef instanceof ie?(_0x4517ef['copy'](_0x54130e),_0x4517ef):_0x54130e['clone']();if(_0x54130e instanceof Array&&_0x54130e['length']>=-0x2*-0x449+0x1*0x1d41+0x1e4*-0x14&&_0x54130e['length']<=-0x1*-0x1ab1+-0x1f6+-0x18b7*0x1){for(let _0x193bd0=-0x1e87+0x2*-0x1121+0x40c9;_0x193bd0<_0x54130e['length'];_0x193bd0++)if(typeof _0x54130e[_0x193bd0]!='number')return null;return _0x4517ef||(_0x4517ef=new ie()),_0x4517ef['r']=_0x54130e[0xd8f+-0x7*-0x581+-0x3b*0xe2],_0x4517ef['g']=_0x54130e[0x2*0x126a+-0x2347+-0x18c*0x1],_0x4517ef['b']=_0x54130e[-0x7d5+0x1*-0x1749+0x1f20],_0x4517ef['a']=_0x54130e['length']===0x1c1e+-0x444+0x11*-0x167?-0x1c03*-0x1+-0x1*-0x205f+-0x29*0x179:_0x54130e[0x5a7*-0x3+-0x266e+0x3766],_0x4517ef;}else{if(typeof _0x54130e=='string'&&/#(?:[0-9a-f]{2}){3,4}/i['test'](_0x54130e))return _0x4517ef||(_0x4517ef=new ie()),_0x4517ef['fromString'](_0x54130e),_0x4517ef;}return null;case'vec2':case'vec3':case'vec4':{const _0x26a685=parseInt(_0x38399f['type']['slice'](-0x58*-0x48+0x7fe+-0x13*0x1b9),0x397+-0x1c9*-0x1+-0x556),_0x6340ae=bF[_0x26a685];if(_0x54130e instanceof _0x6340ae)return _0x4517ef instanceof _0x6340ae?(_0x4517ef['copy'](_0x54130e),_0x4517ef):_0x54130e['clone']();if(_0x54130e instanceof Array&&_0x54130e['length']===_0x26a685){for(let _0x4aab63=0x96e*-0x3+-0x121d+-0x1*-0x2e67;_0x4aab63<_0x54130e['length'];_0x4aab63++)if(typeof _0x54130e[_0x4aab63]!='number')return null;_0x4517ef||(_0x4517ef=new _0x6340ae());for(let _0x5bcdae=0x286+0x1b2e+-0x1db4;_0x5bcdae<_0x26a685;_0x5bcdae++)_0x4517ef[EF[_0x5bcdae]]=_0x54130e[_0x5bcdae];return _0x4517ef;}return null;}case'curve':if(_0x54130e){let _0x249735;if(_0x54130e instanceof qs||_0x54130e instanceof na)_0x249735=_0x54130e['clone']();else{const _0x3f413b=_0x54130e['keys'][-0x1*-0x1b6f+0x23a4+0xf1*-0x43]instanceof Array?na:qs;_0x249735=new _0x3f413b(_0x54130e['keys']),_0x249735['type']=_0x54130e['type'];}return _0x249735;}break;}return _0x54130e;}function _0(_0x436cd8,_0x3df048,_0x6356b4,_0x34eda3){return _0x3df048['array']?_0x6356b4['map']((_0x5842a3,_0x34a12b)=>Yn(_0x436cd8,_0x3df048,_0x5842a3,_0x34eda3?_0x34eda3[_0x34a12b]:null)):Yn(_0x436cd8,_0x3df048,_0x6356b4,_0x34eda3);}function g0(_0x12d8b8,_0x2b5d55,_0x2616ad,_0x36a8bc){if(_0x2616ad)for(const _0x294f7d in _0x2b5d55){const _0x21769e=_0x2b5d55[_0x294f7d],_0x35eb68=_0x2616ad[_0x294f7d];_0x35eb68!==void(0x2c*-0x2e+0x26c5*-0x1+0x2ead)&&(_0x36a8bc[_0x294f7d]=_0(_0x12d8b8,_0x21769e,_0x35eb68,_0x36a8bc[_0x294f7d]));}}const yn=class yn{constructor(_0x2c9d23){this['scriptType']=_0x2c9d23,this['index']={};}['add'](_0x170379,_0x8d3e89){if(this['index'][_0x170379]){w['warn']('attribute\x20'+'\x27'+_0x170379+('\x27\x20is\x20alrea'+'dy\x20defined'+'\x20for\x20scrip'+'t\x20type\x20\x27')+this['scriptType']['name']+'\x27');return;}else{if(yn['reservedNa'+'mes']['has'](_0x170379)){w['warn']('attribute\x20'+'\x27'+_0x170379+('\x27\x20is\x20a\x20res'+'erved\x20attr'+'ibute\x20name'));return;}}this['index'][_0x170379]=_0x8d3e89,Object['defineProp'+'erty'](this['scriptType']['prototype'],_0x170379,{'get':function(){return this['__attribut'+'es'][_0x170379];},'set':function(_0x201a6b){const _0x4fed8f='attr',_0x567e5f='attr:'+_0x170379,_0x27298b=this['__attribut'+'es'][_0x170379];let _0x120c3b=_0x27298b;if(_0x27298b&&_0x8d3e89['type']!=='json'&&_0x8d3e89['type']!=='entity'&&_0x27298b['clone']&&(this['hasEvent'](_0x4fed8f)||this['hasEvent'](_0x567e5f))&&(_0x120c3b=_0x27298b['clone']()),_0x8d3e89['array']){if(this['__attribut'+'es'][_0x170379]=[],_0x201a6b){for(let _0x238e95=-0x1*0x105e+0x1c0c+-0xbae,_0x3ac4e9=_0x201a6b['length'];_0x238e95<_0x3ac4e9;_0x238e95++)this['__attribut'+'es'][_0x170379]['push'](Yn(this['app'],_0x8d3e89,_0x201a6b[_0x238e95],_0x27298b?_0x27298b[_0x238e95]:null));}}else this['__attribut'+'es'][_0x170379]=Yn(this['app'],_0x8d3e89,_0x201a6b,_0x27298b);this['fire'](_0x4fed8f,_0x170379,this['__attribut'+'es'][_0x170379],_0x120c3b),this['fire'](_0x567e5f,this['__attribut'+'es'][_0x170379],_0x120c3b);}});}['remove'](_0x56f14e){return this['index'][_0x56f14e]?(delete this['index'][_0x56f14e],delete this['scriptType']['prototype'][_0x56f14e],!(-0x5fc+0x106*-0x8+0x38b*0x4)):!(-0xee1+-0x1*0x1b57+0x2a39*0x1);}['has'](_0x5af55d){return!!this['index'][_0x5af55d];}['get'](_0x5a2da5){return this['index'][_0x5a2da5]||null;}};h(yn,'assignAttr'+'ibutesToSc'+'ript',g0),h(yn,'attributeT'+'oValue',_0),h(yn,'reservedNa'+'mes',new Set(['app','entity','enabled','_enabled','_enabledOl'+'d','_destroyed','__attribut'+'es','__attribut'+'esRaw','__scriptTy'+'pe','__executio'+'nOrder','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']));let Sl=yn;const Bu='initialize',zu='postInitia'+'lize',AF='update',CF='postUpdate',PF='swap';class ts extends me{constructor(_0xc899db){super(),h(this,'app'),h(this,'entity'),h(this,'_enabled'),h(this,'_enabledOl'+'d'),h(this,'_initializ'+'ed'),h(this,'_postIniti'+'alized'),h(this,'__destroye'+'d'),h(this,'__scriptTy'+'pe'),h(this,'__executio'+'nOrder'),this['initScript'](_0xc899db);}set['enabled'](_0x258eed){this['_enabled']=!!_0x258eed,this['enabled']!==this['_enabledOl'+'d']&&(this['_enabledOl'+'d']=this['enabled'],this['fire'](this['enabled']?'enable':'disable'),this['fire']('state',this['enabled']),!this['_initializ'+'ed']&&this['enabled']&&(this['_initializ'+'ed']=!(0x71*-0x4+-0x1d05+0xa43*0x3),this['fire']('preInitial'+'ize'),this['initialize']&&this['entity']['script']['_scriptMet'+'hod'](this,Bu)),this['_initializ'+'ed']&&!this['_postIniti'+'alized']&&this['enabled']&&!this['entity']['script']['_beingEnab'+'led']&&(this['_postIniti'+'alized']=!(-0x14ef+-0x72b*0x1+0x1c1a),this['postInitia'+'lize']&&this['entity']['script']['_scriptMet'+'hod'](this,zu)));}get['enabled'](){return this['_enabled']&&!this['_destroyed']&&this['entity']['script']['enabled']&&this['entity']['enabled'];}['initScript'](_0x59d2a3){const _0x538c0c=this['constructo'+'r'];w['assert'](_0x59d2a3&&_0x59d2a3['app']&&_0x59d2a3['entity'],'script\x20['+_0x538c0c['__name']+(']\x20has\x20miss'+'ing\x20argume'+'nts\x20in\x20con'+'structor')),this['app']=_0x59d2a3['app'],this['entity']=_0x59d2a3['entity'],this['_enabled']=typeof _0x59d2a3['enabled']=='boolean'?_0x59d2a3['enabled']:!(0x9e2+0x878+-0x2*0x92d),this['_enabledOl'+'d']=this['enabled'],this['__destroye'+'d']=!(-0x567*0x6+0x63a+-0x1a31*-0x1),this['__scriptTy'+'pe']=_0x538c0c,this['__executio'+'nOrder']=-(0x1*0x14b6+0x1dd*0xb+-0x2934);}static get['scriptName'](){return this['__name'];}}h(ts,'EVENT_ENAB'+'LE','enable'),h(ts,'EVENT_DISA'+'BLE','disable'),h(ts,'EVENT_STAT'+'E','state'),h(ts,'EVENT_DEST'+'ROY','destroy'),h(ts,'EVENT_ATTR','attr'),h(ts,'EVENT_ERRO'+'R','error'),h(ts,'__name',null),h(ts,'__getScrip'+'tName',S0);const MF=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s\/]*)\s*/;function S0(_0x3d83a3){if(typeof _0x3d83a3!='function')return;if(_0x3d83a3['scriptName'])return _0x3d83a3['scriptName'];if('name'in Function['prototype'])return _0x3d83a3['name'];if(_0x3d83a3===Function||_0x3d83a3===Function['prototype']['constructo'+'r'])return'Function';const _0x202771=(''+_0x3d83a3)['match'](MF);return _0x202771?_0x202771[-0x2*-0x3a+-0x935+0x8c2]:void(0x105*0x8+-0x987+-0x1*-0x15f);}class Wo extends ts{constructor(_0x24e12b){super(_0x24e12b),h(this,'__attribut'+'es'),h(this,'__attribut'+'esRaw'),this['initScript'+'Type'](_0x24e12b);}static get['attributes'](){return this['hasOwnProp'+'erty']('__attribut'+'es')||(this['__attribut'+'es']=new Sl(this)),this['__attribut'+'es'];}['initScript'](_0x3c77bc){ts['prototype']['initScript']['call'](this,_0x3c77bc),this['__attribut'+'es']={},this['__attribut'+'esRaw']=_0x3c77bc['attributes']||{};}['initScript'+'Type'](_0x3b30f2){this['initScript'](_0x3b30f2);}['__initiali'+'zeAttribut'+'es'](_0x371272){if(!(!_0x371272&&!this['__attribut'+'esRaw'])){for(const _0x525b8c in this['__scriptTy'+'pe']['attributes']['index'])this['__attribut'+'esRaw']&&this['__attribut'+'esRaw']['hasOwnProp'+'erty'](_0x525b8c)?this[_0x525b8c]=this['__attribut'+'esRaw'][_0x525b8c]:this['__attribut'+'es']['hasOwnProp'+'erty'](_0x525b8c)||(this['__scriptTy'+'pe']['attributes']['index'][_0x525b8c]['hasOwnProp'+'erty']('default')?this[_0x525b8c]=this['__scriptTy'+'pe']['attributes']['index'][_0x525b8c]['default']:this[_0x525b8c]=null);this['__attribut'+'esRaw']=null;}}static['extend'](_0x4c0328){for(const _0x3371ab in _0x4c0328)_0x4c0328['hasOwnProp'+'erty'](_0x3371ab)&&(this['prototype'][_0x3371ab]=_0x4c0328[_0x3371ab]);}}const DF=_0x5b6564=>_0x5b6564[-0x1e4d*-0x1+0x43*-0x55+-0x80e]['toLowerCas'+'e']()+_0x5b6564['substring'](-0xec0*-0x1+0xbce+-0x1a8d);class Ii extends we{constructor(_0x4c73a0,_0x4dcc6b){super(_0x4c73a0,_0x4dcc6b),h(this,'_attribute'+'DataMap',new Map()),(this['_scripts']=[],this['_updateLis'+'t']=new oh({'sortBy':'__executio'+'nOrder'}),this['_postUpdat'+'eList']=new oh({'sortBy':'__executio'+'nOrder'}),this['_scriptsIn'+'dex']={},this['_destroyed'+'Scripts']=[],this['_destroyed']=!(0x1f45+0x210a+0x2*-0x2027),this['_scriptsDa'+'ta']=null,this['_oldState']=!(-0x1*0x110a+0x17*0x7+0x1069),this['_enabled']=!(0x2685+-0x2657+-0x2e),this['_beingEnab'+'led']=!(0x6*-0x40e+-0x15cc+-0xf1*-0x31),this['_isLooping'+'ThroughScr'+'ipts']=!(0x17ec+0x1eba+0x36a5*-0x1),this['_execution'+'Order']=-(0x8d8+0xb*0xdb+-0x1240),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this));}set['scripts'](_0x1d9b65){this['_scriptsDa'+'ta']=_0x1d9b65;for(const _0x397e24 in _0x1d9b65){if(!_0x1d9b65['hasOwnProp'+'erty'](_0x397e24))continue;const _0x268c47=this['_scriptsIn'+'dex'][_0x397e24];if(_0x268c47){if(typeof _0x1d9b65[_0x397e24]['enabled']=='boolean'&&(_0x268c47['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x268c47);}),_0x268c47['enabled']=!!_0x1d9b65[_0x397e24]['enabled']),typeof _0x1d9b65[_0x397e24]['attributes']=='object'){for(const _0x25e309 in _0x1d9b65[_0x397e24]['attributes'])if(!Sl['reservedNa'+'mes']['has'](_0x25e309)){if(!_0x268c47['__attribut'+'es']['hasOwnProp'+'erty'](_0x25e309)){const _0x463fd9=this['system']['app']['scripts']['get'](_0x397e24);_0x463fd9&&_0x463fd9['attributes']['add'](_0x25e309,{});}_0x268c47[_0x25e309]=_0x1d9b65[_0x397e24]['attributes'][_0x25e309];}}}else console['log'](this['order']);}}get['scripts'](){return this['_scripts'];}set['enabled'](_0x359890){const _0x3300e0=this['_enabled'];this['_enabled']=_0x359890,this['fire']('set','enabled',_0x3300e0,_0x359890);}get['enabled'](){return this['_enabled'];}['onEnable'](){this['_beingEnab'+'led']=!(0x1b18+0x14*-0x43+-0x15dc),this['_checkStat'+'e'](),this['entity']['_beingEnab'+'led']||this['onPostStat'+'eChange'](),this['_beingEnab'+'led']=!(0xb83+-0x1*-0x703+-0x1285);}['onDisable'](){this['_checkStat'+'e']();}['onPostStat'+'eChange'](){const _0x564f76=this['_beginLoop'+'ing']();for(let _0xb060fb=-0x11*0x18f+-0x1c13+0x3692,_0x354c47=this['scripts']['length'];_0xb060fb<_0x354c47;_0xb060fb++){const _0xe081ad=this['scripts'][_0xb060fb];_0xe081ad['_initializ'+'ed']&&!_0xe081ad['_postIniti'+'alized']&&_0xe081ad['enabled']&&(_0xe081ad['_postIniti'+'alized']=!(0x3*0x192+0xc60*0x3+-0x29d6),_0xe081ad['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0xe081ad,zu));}this['_endLoopin'+'g'](_0x564f76);}['_beginLoop'+'ing'](){const _0x45696d=this['_isLooping'+'ThroughScr'+'ipts'];return this['_isLooping'+'ThroughScr'+'ipts']=!(-0x31*-0x95+0x285*0x8+-0x30ad),_0x45696d;}['_endLoopin'+'g'](_0x125c70){this['_isLooping'+'ThroughScr'+'ipts']=_0x125c70,this['_isLooping'+'ThroughScr'+'ipts']||this['_removeDes'+'troyedScri'+'pts']();}['_onSetEnab'+'led'](_0x8eb797,_0x1dff6b,_0xa7ee6c){this['_beingEnab'+'led']=!(0x26fe+-0x317*0x5+-0x178b),this['_checkStat'+'e'](),this['_beingEnab'+'led']=!(0xce6*-0x2+0x1*-0x263b+-0xaac*-0x6);}['_checkStat'+'e'](){const _0x56c50f=this['enabled']&&this['entity']['enabled'];if(_0x56c50f===this['_oldState'])return;this['_oldState']=_0x56c50f,this['fire'](_0x56c50f?'enable':'disable'),this['fire']('state',_0x56c50f),_0x56c50f?this['system']['_addCompon'+'entToEnabl'+'ed'](this):this['system']['_removeCom'+'ponentFrom'+'Enabled'](this);const _0x1ddcc0=this['_beginLoop'+'ing']();for(let _0x2c3958=0x49*-0x23+-0x4cf*-0x2+0x5d,_0x2589ea=this['scripts']['length'];_0x2c3958<_0x2589ea;_0x2c3958++){const _0x25b5a6=this['scripts'][_0x2c3958];_0x25b5a6['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x25b5a6);}),_0x25b5a6['enabled']=_0x25b5a6['_enabled'];}this['_endLoopin'+'g'](_0x1ddcc0);}['_onBeforeR'+'emove'](){this['fire']('remove');const _0x1f15ca=this['_beginLoop'+'ing']();for(let _0x3043c4=0x585+0x1ee2+0x1*-0x2467;_0x3043c4<this['scripts']['length'];_0x3043c4++){const _0xdbd0f2=this['scripts'][_0x3043c4];_0xdbd0f2&&this['destroy'](_0xdbd0f2['__scriptTy'+'pe']['__name']);}this['_endLoopin'+'g'](_0x1f15ca);}['_removeDes'+'troyedScri'+'pts'](){const _0x309a62=this['_destroyed'+'Scripts']['length'];if(_0x309a62){for(let _0x34c0cf=0x5*0x72d+-0xdad+-0x4*0x58d;_0x34c0cf<_0x309a62;_0x34c0cf++){const _0x473547=this['_destroyed'+'Scripts'][_0x34c0cf];this['_removeScr'+'iptInstanc'+'e'](_0x473547);}this['_destroyed'+'Scripts']['length']=0x225a+0x497+-0x26f1,this['_resetExec'+'utionOrder'](0x2*-0xdbd+-0x1fe2+0x3b5c,this['_scripts']['length']);}}['_onInitial'+'izeAttribu'+'tes'](){for(let _0x27cfc9=0x97b+0x2694+0x1005*-0x3,_0x6e681e=this['scripts']['length'];_0x27cfc9<_0x6e681e;_0x27cfc9++){const _0x4753fb=this['scripts'][_0x27cfc9];this['initialize'+'Attributes'](_0x4753fb);}}['initialize'+'Attributes'](_0x1e0b8c){var _0x1f75cc;if(_0x1e0b8c instanceof Wo)_0x1e0b8c['__initiali'+'zeAttribut'+'es']();else{const _0x3a3ebc=_0x1e0b8c['__scriptTy'+'pe']['__name'],_0x393238=this['_attribute'+'DataMap']['get'](_0x3a3ebc);if(!_0x393238)return;const _0x541830=(_0x1f75cc=this['system']['app']['scripts'])==null?void(0x3d2+-0x16cf*-0x1+-0x1aa1):_0x1f75cc['getSchema'](_0x3a3ebc);_0x541830||w['warnOnce']('No\x20schema\x20'+'exists\x20for'+'\x20the\x20scrip'+'t\x20\x27'+_0x3a3ebc+('\x27.\x20A\x20schem'+'a\x20must\x20exi'+'st\x20for\x20dat'+'a\x20to\x20be\x20in'+'stantiated'+'\x20on\x20the\x20sc'+'ript.')),g0(this['system']['app'],_0x541830['attributes'],_0x393238,_0x1e0b8c);}}['_scriptMet'+'hod'](_0x4d0900,_0x5ade22,_0x3add49){try{_0x4d0900[_0x5ade22](_0x3add49);}catch(_0x583782){_0x4d0900['enabled']=!(0x21a6+-0x1a2e+-0x7*0x111),_0x4d0900['hasEvent']('error')||(console['warn']('unhandled\x20'+'exception\x20'+'while\x20call'+'ing\x20\x22'+_0x5ade22+'\x22\x20for\x20\x22'+_0x4d0900['__scriptTy'+'pe']['__name']+'\x22\x20script:\x20',_0x583782),console['error'](_0x583782)),_0x4d0900['fire']('error',_0x583782,_0x5ade22),this['fire']('error',_0x4d0900,_0x583782,_0x5ade22);}}['_onInitial'+'ize'](){const _0x41b775=this['_scripts'],_0x8c8ad6=this['_beginLoop'+'ing']();for(let _0x12f17a=0x1*-0x751+0xc5*-0xa+0xf03,_0x93dcb6=_0x41b775['length'];_0x12f17a<_0x93dcb6;_0x12f17a++){const _0x174ba4=_0x41b775[_0x12f17a];!_0x174ba4['_initializ'+'ed']&&_0x174ba4['enabled']&&(_0x174ba4['_initializ'+'ed']=!(-0x32a+-0x1f79+0x1*0x22a3),_0x174ba4['initialize']&&this['_scriptMet'+'hod'](_0x174ba4,Bu));}this['_endLoopin'+'g'](_0x8c8ad6);}['_onPostIni'+'tialize'](){this['onPostStat'+'eChange']();}['_onUpdate'](_0x415b1d){const _0x3dab2f=this['_updateLis'+'t'];if(!_0x3dab2f['length'])return;const _0x56946a=this['_beginLoop'+'ing']();for(_0x3dab2f['loopIndex']=-0x14*0x1a7+0xe2*-0x2a+-0x6*-0xbb0;_0x3dab2f['loopIndex']<_0x3dab2f['length'];_0x3dab2f['loopIndex']++){const _0x19b8ab=_0x3dab2f['items'][_0x3dab2f['loopIndex']];_0x19b8ab['enabled']&&this['_scriptMet'+'hod'](_0x19b8ab,AF,_0x415b1d);}this['_endLoopin'+'g'](_0x56946a);}['_onPostUpd'+'ate'](_0x1acbcf){const _0x579734=this['_postUpdat'+'eList'];if(!_0x579734['length'])return;const _0x334f19=this['_beginLoop'+'ing']();for(_0x579734['loopIndex']=-0xc62+0x67a*0x5+-0x1400;_0x579734['loopIndex']<_0x579734['length'];_0x579734['loopIndex']++){const _0x588766=_0x579734['items'][_0x579734['loopIndex']];_0x588766['enabled']&&this['_scriptMet'+'hod'](_0x588766,CF,_0x1acbcf);}this['_endLoopin'+'g'](_0x334f19);}['_insertScr'+'iptInstanc'+'e'](_0x4c5860,_0x1134fb,_0x206628){_0x1134fb===-(-0x698+-0x2*0x360+0xd59)?(this['_scripts']['push'](_0x4c5860),_0x4c5860['__executio'+'nOrder']=_0x206628,_0x4c5860['update']&&this['_updateLis'+'t']['append'](_0x4c5860),_0x4c5860['postUpdate']&&this['_postUpdat'+'eList']['append'](_0x4c5860)):(this['_scripts']['splice'](_0x1134fb,0x1d*0xbb+-0x10d2*-0x1+-0x2601,_0x4c5860),_0x4c5860['__executio'+'nOrder']=_0x1134fb,this['_resetExec'+'utionOrder'](_0x1134fb+(-0x1f0a+-0xccd+0xf4*0x2e),_0x206628+(0x598+-0xf1*-0x27+-0x2a4e)),_0x4c5860['update']&&this['_updateLis'+'t']['insert'](_0x4c5860),_0x4c5860['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x4c5860));}['_removeScr'+'iptInstanc'+'e'](_0x5a4f03){const _0x3b35e5=this['_scripts']['indexOf'](_0x5a4f03);return _0x3b35e5===-(-0x2e*-0xd3+0x1bcd+0x41b6*-0x1)||(this['_scripts']['splice'](_0x3b35e5,-0x75d+-0x255a+0x2cb8),_0x5a4f03['update']&&this['_updateLis'+'t']['remove'](_0x5a4f03),_0x5a4f03['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x5a4f03)),_0x3b35e5;}['_resetExec'+'utionOrder'](_0x4e0448,_0xe5e1b9){for(let _0x5d1327=_0x4e0448;_0x5d1327<_0xe5e1b9;_0x5d1327++)this['_scripts'][_0x5d1327]['__executio'+'nOrder']=_0x5d1327;}['_resolveEn'+'tityScript'+'Attribute'](_0x301169,_0x3581bf,_0x1766e1,_0x7d55ee,_0x383732,_0x56412c){if(_0x301169['array']){const _0x1f6cde=_0x1766e1['length'];if(!_0x1f6cde)return;const _0x5eb462=_0x1766e1['slice']();for(let _0x50e55e=-0xd58+-0x1*-0xcb1+-0xa7*-0x1;_0x50e55e<_0x1f6cde;_0x50e55e++){const _0x372e51=_0x5eb462[_0x50e55e]instanceof lt?_0x5eb462[_0x50e55e]['getGuid']():_0x5eb462[_0x50e55e];_0x56412c[_0x372e51]&&(_0x5eb462[_0x50e55e]=_0x7d55ee?_0x56412c[_0x372e51]['getGuid']():_0x56412c[_0x372e51]);}_0x383732[_0x3581bf]=_0x5eb462;}else{if(_0x1766e1 instanceof lt)_0x1766e1=_0x1766e1['getGuid']();else{if(typeof _0x1766e1!='string')return;}_0x56412c[_0x1766e1]&&(_0x383732[_0x3581bf]=_0x56412c[_0x1766e1]);}}['has'](_0x4c455f){if(typeof _0x4c455f=='string')return!!this['_scriptsIn'+'dex'][_0x4c455f];if(!_0x4c455f)return!(-0x54*-0x59+0x1*-0x20ab+0x6f*0x8);const _0x4d7285=_0x4c455f,_0x43e373=_0x4d7285['__name'],_0x7be21b=this['_scriptsIn'+'dex'][_0x43e373];return(_0x7be21b&&_0x7be21b['instance'])instanceof _0x4d7285;}['get'](_0x70eef3){if(typeof _0x70eef3=='string'){const _0x369417=this['_scriptsIn'+'dex'][_0x70eef3];return _0x369417?_0x369417['instance']:null;}if(!_0x70eef3)return null;const _0x449589=_0x70eef3,_0x1f9831=_0x449589['__name'],_0x55fa25=this['_scriptsIn'+'dex'][_0x1f9831],_0x1bb041=_0x55fa25&&_0x55fa25['instance'];return _0x1bb041 instanceof _0x449589?_0x1bb041:null;}['create'](_0x4142cd,_0x40ac68={}){const _0x3cc7da=this;let _0x3dcb94=_0x4142cd,_0x41f95f=_0x4142cd;if(typeof _0x3dcb94=='string')_0x3dcb94=this['system']['app']['scripts']['get'](_0x3dcb94);else{if(_0x3dcb94){const _0x1eb2ff=S0(_0x3dcb94),_0x5dceca=DF(_0x1eb2ff);!(_0x3dcb94['prototype']instanceof Wo)&&!_0x3dcb94['scriptName']&&w['warnOnce']('The\x20Script'+'\x20class\x20\x22'+_0x1eb2ff+('\x22\x20must\x20hav'+'e\x20a\x20static'+'\x20\x22scriptNa'+'me\x22\x20proper'+'ty:\x20`')+_0x1eb2ff+('.scriptNam'+'e\x20=\x20\x22')+_0x5dceca+('\x22;`.\x20This\x20'+'will\x20be\x20an'+'\x20error\x20in\x20'+'future\x20ver'+'sions\x20of\x20P'+'layCanvas.')),_0x3dcb94['__name']??(_0x3dcb94['__name']=_0x3dcb94['scriptName']??_0x5dceca),_0x41f95f=_0x3dcb94['__name'];}}if(_0x3dcb94){if(!this['_scriptsIn'+'dex'][_0x41f95f]||!this['_scriptsIn'+'dex'][_0x41f95f]['instance']){const _0x357d71=new _0x3dcb94({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x40ac68['hasOwnProp'+'erty']('enabled')?_0x40ac68['enabled']:!(0x4d9+-0x4c2+-0x17*0x1),'attributes':_0x40ac68['attributes']||{}});_0x40ac68['properties']&&typeof _0x40ac68['properties']=='object'&&Object['assign'](_0x357d71,_0x40ac68['properties']),_0x357d71 instanceof Wo||this['_attribute'+'DataMap']['set'](_0x41f95f,_0x40ac68['attributes']);const _0x29c929=this['_scripts']['length'];let _0x5aee3e=-(-0x373*0xa+0xf3e+0x1f*0x9f);return typeof _0x40ac68['ind']=='number'&&_0x40ac68['ind']!==-(-0x23*-0x52+0x25f8+-0x312d*0x1)&&_0x29c929>_0x40ac68['ind']&&(_0x5aee3e=_0x40ac68['ind']),this['_insertScr'+'iptInstanc'+'e'](_0x357d71,_0x5aee3e,_0x29c929),this['_scriptsIn'+'dex'][_0x41f95f]={'instance':_0x357d71,'onSwap':function(){_0x3cc7da['swap'](_0x41f95f);}},this[_0x41f95f]=_0x357d71,_0x40ac68['preloading']||this['initialize'+'Attributes'](_0x357d71),this['fire']('create',_0x41f95f,_0x357d71),this['fire']('create:'+_0x41f95f,_0x357d71),this['system']['app']['scripts']['on']('swap:'+_0x41f95f,this['_scriptsIn'+'dex'][_0x41f95f]['onSwap']),_0x40ac68['preloading']||(_0x357d71['enabled']&&!_0x357d71['_initializ'+'ed']&&(_0x357d71['_initializ'+'ed']=!(0x1184+-0x418+-0x35b*0x4),_0x357d71['initialize']&&this['_scriptMet'+'hod'](_0x357d71,Bu)),_0x357d71['enabled']&&!_0x357d71['_postIniti'+'alized']&&(_0x357d71['_postIniti'+'alized']=!(-0x22f8+0x599*0x3+0x122d),_0x357d71['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x357d71,zu))),_0x357d71;}w['warn']('script\x20\x27'+_0x41f95f+('\x27\x20is\x20alrea'+'dy\x20added\x20t'+'o\x20entity\x20\x27')+this['entity']['name']+'\x27');}else this['_scriptsIn'+'dex'][_0x41f95f]={'awaiting':!(-0x14ff+0x2*-0x12a+-0x355*-0x7),'ind':this['_scripts']['length']},w['warn']('script\x20\x27'+_0x41f95f+('\x27\x20is\x20not\x20f'+'ound,\x20awai'+'ting\x20it\x20to'+'\x20be\x20added\x20'+'to\x20registr'+'y'));return null;}['destroy'](_0x84ccf7){let _0x5c52e2=_0x84ccf7,_0x2a9a44=_0x84ccf7;typeof _0x2a9a44=='string'?_0x2a9a44=this['system']['app']['scripts']['get'](_0x2a9a44):_0x2a9a44&&(_0x5c52e2=_0x2a9a44['__name']);const _0x2e1bee=this['_scriptsIn'+'dex'][_0x5c52e2];if(delete this['_scriptsIn'+'dex'][_0x5c52e2],!_0x2e1bee)return!(0x4c1+0x888+-0xd48);this['_attribute'+'DataMap']['delete'](_0x5c52e2);const _0x287ab2=_0x2e1bee['instance'];if(_0x287ab2&&!_0x287ab2['_destroyed']){if(_0x287ab2['enabled']=!(-0x782*-0x2+0x141e+-0x2321),_0x287ab2['_destroyed']=!(0x2605+-0x2*-0x608+-0x3215*0x1),this['_isLooping'+'ThroughScr'+'ipts'])this['_destroyed'+'Scripts']['push'](_0x287ab2);else{const _0xff89f2=this['_removeScr'+'iptInstanc'+'e'](_0x287ab2);_0xff89f2>=-0x1ffb+-0xe78+0x2e73&&this['_resetExec'+'utionOrder'](_0xff89f2,this['_scripts']['length']);}}return this['system']['app']['scripts']['off']('swap:'+_0x5c52e2,_0x2e1bee['onSwap']),delete this[_0x5c52e2],this['fire']('destroy',_0x5c52e2,_0x287ab2||null),this['fire']('destroy:'+_0x5c52e2,_0x287ab2||null),_0x287ab2&&_0x287ab2['fire']('destroy'),!(0x232c+-0xcc7*-0x1+-0x2ff3);}['swap'](_0x2bff28){let _0x298123=_0x2bff28,_0x3c709b=_0x2bff28;typeof _0x3c709b=='string'?_0x3c709b=this['system']['app']['scripts']['get'](_0x3c709b):_0x3c709b&&(_0x298123=_0x3c709b['__name']);const _0x274896=this['_scriptsIn'+'dex'][_0x298123];if(!_0x274896||!_0x274896['instance'])return!(-0x1b01+0x152*0xa+0xdce);const _0x45eb57=_0x274896['instance'],_0x1ca979=this['_scripts']['indexOf'](_0x45eb57),_0x5e1b9d=new _0x3c709b({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x45eb57['enabled'],'attributes':_0x45eb57['__attribut'+'es']});return _0x5e1b9d['swap']?(this['initialize'+'Attributes'](_0x5e1b9d),this['_scripts'][_0x1ca979]=_0x5e1b9d,this['_scriptsIn'+'dex'][_0x298123]['instance']=_0x5e1b9d,this[_0x298123]=_0x5e1b9d,_0x5e1b9d['__executio'+'nOrder']=_0x1ca979,_0x45eb57['update']&&this['_updateLis'+'t']['remove'](_0x45eb57),_0x45eb57['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x45eb57),_0x5e1b9d['update']&&this['_updateLis'+'t']['insert'](_0x5e1b9d),_0x5e1b9d['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x5e1b9d),this['_scriptMet'+'hod'](_0x5e1b9d,PF,_0x45eb57),this['fire']('swap',_0x298123,_0x5e1b9d),this['fire']('swap:'+_0x298123,_0x5e1b9d),!(-0x36b*0x9+0x2b1*-0xd+0x41c0)):!(0xa*-0x2c2+-0x2398+0x3f2d);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0xa78f3a,_0x36c71b){var _0x40c4aa,_0x520aad,_0x407b17;const _0x4bad10=this['entity']['script'];for(const _0xdf5d59 in _0xa78f3a['_scriptsIn'+'dex']){const _0x4a7a04=this['system']['app']['scripts']['get'](_0xdf5d59);if(!_0x4a7a04)continue;const _0x4d32f9=_0xa78f3a['_scriptsIn'+'dex'][_0xdf5d59];if(!_0x4d32f9||!_0x4d32f9['instance'])continue;const _0xe00028=_0x4bad10[_0xdf5d59]['__attribut'+'esRaw']??_0x4bad10['_attribute'+'DataMap']['get'](_0xdf5d59),_0x266b0d=_0x4bad10[_0xdf5d59]['__attribut'+'es'];if(!_0xe00028&&!_0x266b0d)continue;const _0x430e12=!!_0xe00028,_0x20d4b8=_0x4d32f9['instance']['__attribut'+'es']??_0x4bad10['_attribute'+'DataMap']['get'](_0xdf5d59);for(const _0x194b51 in _0x20d4b8){if(!_0x20d4b8[_0x194b51])continue;const _0x5ae067=((_0x40c4aa=_0x4a7a04['attributes'])==null?void(0x22b2+-0x24b*-0x2+-0x2*0x13a4):_0x40c4aa['get'](_0x194b51))??((_0x407b17=(_0x520aad=this['system']['app']['scripts']['getSchema'](_0xdf5d59))==null?void(0x356*0x7+0x1de4+0x553*-0xa):_0x520aad['attributes'])==null?void(-0x1f80+-0x295*-0x5+0x1*0x1297):_0x407b17[_0x194b51]);if(_0x5ae067){if(_0x5ae067['type']==='entity')this['_resolveEn'+'tityScript'+'Attribute'](_0x5ae067,_0x194b51,_0x20d4b8[_0x194b51],_0x430e12,_0xe00028||_0x266b0d,_0x36c71b);else{if(_0x5ae067['type']==='json'&&Array['isArray'](_0x5ae067['schema'])){const _0x36c1c3=_0x20d4b8[_0x194b51],_0x1e4e67=_0xe00028?_0xe00028[_0x194b51]:_0x266b0d[_0x194b51];for(let _0x1e8de3=-0x1*0x1465+-0xc*0x2cc+-0x1*-0x35f5;_0x1e8de3<_0x5ae067['schema']['length'];_0x1e8de3++){const _0x35510f=_0x5ae067['schema'][_0x1e8de3];if(_0x35510f['type']==='entity'){if(_0x5ae067['array']){for(let _0x5d65ac=-0x73e+0x15f+0x9*0xa7;_0x5d65ac<_0x36c1c3['length'];_0x5d65ac++)this['_resolveEn'+'tityScript'+'Attribute'](_0x35510f,_0x35510f['name'],_0x36c1c3[_0x5d65ac][_0x35510f['name']],_0x430e12,_0x1e4e67[_0x5d65ac],_0x36c71b);}else this['_resolveEn'+'tityScript'+'Attribute'](_0x35510f,_0x35510f['name'],_0x36c1c3[_0x35510f['name']],_0x430e12,_0x1e4e67,_0x36c71b);}}}}}}}}['move'](_0x1b1e97,_0x27c4b9){const _0x31686f=this['_scripts']['length'];if(_0x27c4b9>=_0x31686f||_0x27c4b9<0x243b+-0x1*-0x20ef+0x552*-0xd)return!(-0x67*-0x31+0x21e+-0xb*0x1fc);let _0x3612c3=_0x1b1e97,_0x51c7df=_0x1b1e97;typeof _0x51c7df!='string'?_0x51c7df=_0x1b1e97['__name']:_0x3612c3=null;const _0x7c11d5=this['_scriptsIn'+'dex'][_0x51c7df];if(!_0x7c11d5||!_0x7c11d5['instance'])return!(-0x2*-0xc10+0xb9d+0x1*-0x23bc);const _0x2a8391=_0x7c11d5['instance'];if(_0x3612c3&&!(_0x2a8391 instanceof _0x3612c3))return!(0xbb9+-0x1612+-0x1*-0xa5a);const _0x564e59=this['_scripts']['indexOf'](_0x2a8391);return _0x564e59===-(0x1274+0x309+-0x157c)||_0x564e59===_0x27c4b9?!(0x1*0x8f9+0xf93+-0x188b):(this['_scripts']['splice'](_0x27c4b9,0x2571+-0x14*-0x182+-0x4399,this['_scripts']['splice'](_0x564e59,-0x11ac+0xd29+0x2*0x242)[-0xc88*0x3+-0x19cb+0x70b*0x9]),this['_resetExec'+'utionOrder'](0x4*-0x8a2+0x1289+-0x15*-0xc3,_0x31686f),this['_updateLis'+'t']['sort'](),this['_postUpdat'+'eList']['sort'](),this['fire']('move',_0x51c7df,_0x2a8391,_0x27c4b9,_0x564e59),this['fire']('move:'+_0x51c7df,_0x2a8391,_0x27c4b9,_0x564e59),!(0x78a+-0x6c2+-0xc8));}}h(Ii,'EVENT_CREA'+'TE','create'),h(Ii,'EVENT_DEST'+'ROY','destroy'),h(Ii,'EVENT_ENAB'+'LE','enable'),h(Ii,'EVENT_DISA'+'BLE','disable'),h(Ii,'EVENT_REMO'+'VE','remove'),h(Ii,'EVENT_STAT'+'E','state'),h(Ii,'EVENT_MOVE','move'),h(Ii,'EVENT_ERRO'+'R','error');class IF{constructor(){this['enabled']=!(0x68e+0x1e0b+-0x2499);}}const LF='_onInitial'+'izeAttribu'+'tes',RF='_onInitial'+'ize',OF='_onPostIni'+'tialize',FF='_onUpdate',NF='_onPostUpd'+'ate';let Mc=0x1727+-0x5*0x62d+0x7ba;class kF extends ct{constructor(_0x42e9d3){super(_0x42e9d3),this['id']='script',this['ComponentT'+'ype']=Ii,this['DataType']=IF,this['_component'+'s']=new oh({'sortBy':'_execution'+'Order'}),this['_enabledCo'+'mponents']=new oh({'sortBy':'_execution'+'Order'}),this['preloading']=!(-0x1*0x19c4+-0x1*-0x1e5d+-0x499),this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this),this['app']['systems']['on']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['on']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x58e600,_0x431c16){if(_0x58e600['_execution'+'Order']=Mc++,this['_component'+'s']['append'](_0x58e600),Mc>Number['MAX_SAFE_I'+'NTEGER']&&this['_resetExec'+'utionOrder'](),_0x58e600['enabled']=_0x431c16['hasOwnProp'+'erty']('enabled')?!!_0x431c16['enabled']:!(-0x25e2*0x1+0x21b*0x5+0x1b5b),_0x58e600['enabled']&&_0x58e600['entity']['enabled']&&this['_enabledCo'+'mponents']['append'](_0x58e600),_0x431c16['hasOwnProp'+'erty']('order')&&_0x431c16['hasOwnProp'+'erty']('scripts')){_0x58e600['_scriptsDa'+'ta']=_0x431c16['scripts'];for(let _0x1cfd73=-0x1*0x10d+0x481+0x374*-0x1;_0x1cfd73<_0x431c16['order']['length'];_0x1cfd73++)_0x58e600['create'](_0x431c16['order'][_0x1cfd73],{'enabled':_0x431c16['scripts'][_0x431c16['order'][_0x1cfd73]]['enabled'],'attributes':_0x431c16['scripts'][_0x431c16['order'][_0x1cfd73]]['attributes'],'preloading':this['preloading']});}}['cloneCompo'+'nent'](_0x1bd921,_0x516b59){var _0x5bcfee;const _0x2954c1=[],_0x211d0e={};for(let _0x4a0dba=-0x9b6+-0x1*0x2636+0x2fec;_0x4a0dba<_0x1bd921['script']['_scripts']['length'];_0x4a0dba++){const _0xe2834c=_0x1bd921['script']['_scripts'][_0x4a0dba],_0x19c741=_0xe2834c['__scriptTy'+'pe']['__name'];_0x2954c1['push'](_0x19c741);const _0x516494=((_0x5bcfee=_0x1bd921['script']['_attribute'+'DataMap'])==null?void(0xf1c+-0x60*0x51+0xf44):_0x5bcfee['get'](_0x19c741))||{};for(const _0x5143a0 in _0xe2834c['__attribut'+'es'])_0x516494[_0x5143a0]=_0xe2834c['__attribut'+'es'][_0x5143a0];_0x211d0e[_0x19c741]={'enabled':_0xe2834c['_enabled'],'attributes':_0x516494};}for(const _0x1d8f39 in _0x1bd921['script']['_scriptsIn'+'dex'])_0x1d8f39['awaiting']&&_0x2954c1['splice'](_0x1d8f39['ind'],0x2254+-0xff9+-0x125b*0x1,_0x1d8f39);const _0x275788={'enabled':_0x1bd921['script']['enabled'],'order':_0x2954c1,'scripts':_0x211d0e};return this['addCompone'+'nt'](_0x516b59,_0x275788);}['_resetExec'+'utionOrder'](){Mc=0x1e82+0x1ecc+-0x3d4e;for(let _0x81314e=0x11*-0xdf+-0x997+-0x3*-0x822,_0x3cf1ce=this['_component'+'s']['length'];_0x81314e<_0x3cf1ce;_0x81314e++)this['_component'+'s']['items'][_0x81314e]['_execution'+'Order']=Mc++;}['_callCompo'+'nentMethod'](_0x17cef9,_0x3fe7f6,_0x43651f){for(_0x17cef9['loopIndex']=-0x1*0x6+0x492+0x184*-0x3;_0x17cef9['loopIndex']<_0x17cef9['length'];_0x17cef9['loopIndex']++)_0x17cef9['items'][_0x17cef9['loopIndex']][_0x3fe7f6](_0x43651f);}['_onInitial'+'ize'](){this['preloading']=!(-0x1*-0xd99+-0x20d8+0x1340),this['_callCompo'+'nentMethod'](this['_component'+'s'],LF),this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],RF);}['_onPostIni'+'tialize'](){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],OF);}['_onUpdate'](_0x5c9f83){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],FF,_0x5c9f83);}['_onPostUpd'+'ate'](_0x55369d){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],NF,_0x55369d);}['_addCompon'+'entToEnabl'+'ed'](_0x300987){this['_enabledCo'+'mponents']['insert'](_0x300987);}['_removeCom'+'ponentFrom'+'Enabled'](_0x42a1d7){this['_enabledCo'+'mponents']['remove'](_0x42a1d7);}['_onBeforeR'+'emove'](_0x5153aa,_0x4ff949){this['_component'+'s']['items']['indexOf'](_0x4ff949)>=-0x801+-0xbe*0x2a+0x272d&&_0x4ff949['_onBeforeR'+'emove'](),this['_removeCom'+'ponentFrom'+'Enabled'](_0x4ff949),this['_component'+'s']['remove'](_0x4ff949);}['destroy'](){super['destroy'](),this['app']['systems']['off']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['off']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}class y0 extends we{constructor(_0x3569c5,_0x2a8190){super(_0x3569c5,_0x2a8190),h(this,'_layers',[er]),h(this,'_instance',null),h(this,'_materialT'+'mp',null),h(this,'_highQuali'+'tySH',!(-0x9b3+0x1ab7+-0x1104*0x1)),h(this,'_customAab'+'b',null),h(this,'_assetRefe'+'rence'),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_castShado'+'ws',!(-0x220+0x419+-0xe*0x24)),(this['_assetRefe'+'rence']=new gl('asset',this,_0x3569c5['app']['assets'],{'add':this['_onGSplatA'+'ssetAdded'],'load':this['_onGSplatA'+'ssetLoad'],'remove':this['_onGSplatA'+'ssetRemove'],'unload':this['_onGSplatA'+'ssetUnload']},this),_0x2a8190['on']('remove',this['onRemoveCh'+'ild'],this),_0x2a8190['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x2a8190['on']('insert',this['onInsertCh'+'ild'],this),_0x2a8190['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['customAabb'](_0x5a8679){var _0x471322,_0x2a0ec1;this['_customAab'+'b']=_0x5a8679,(_0x2a0ec1=(_0x471322=this['_instance'])==null?void(0x2519*0x1+0x1ad8+-0x1*0x3ff1):_0x471322['meshInstan'+'ce'])==null||_0x2a0ec1['setCustomA'+'abb'](this['_customAab'+'b']);}get['customAabb'](){return this['_customAab'+'b'];}set['instance'](_0x166890){if(this['destroyIns'+'tance'](),this['_instance']=_0x166890,this['_instance']){const _0x509c77=this['_instance']['meshInstan'+'ce'];_0x509c77['node']||(_0x509c77['node']=this['entity']),_0x509c77['castShadow']=this['_castShado'+'ws'],_0x509c77['setCustomA'+'abb'](this['_customAab'+'b']),this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['instance'](){return this['_instance'];}set['material'](_0x35a9a2){this['_instance']?this['_instance']['material']=_0x35a9a2:this['_materialT'+'mp']=_0x35a9a2;}get['material'](){var _0x1baba0;return((_0x1baba0=this['_instance'])==null?void(-0xc3e+-0x10a6*0x1+0x1ce4):_0x1baba0['material'])??this['_materialT'+'mp']??null;}set['highQualit'+'ySH'](_0x242dc2){_0x242dc2!==this['_highQuali'+'tySH']&&(this['_highQuali'+'tySH']=_0x242dc2,this['_instance']&&this['_instance']['setHighQua'+'litySH'](_0x242dc2));}get['highQualit'+'ySH'](){return this['_highQuali'+'tySH'];}set['castShadow'+'s'](_0x483519){var _0x1002e1;if(this['_castShado'+'ws']!==_0x483519){const _0x47907c=(_0x1002e1=this['instance'])==null?void(0x8a8+-0x6f*0x1+-0x839):_0x1002e1['meshInstan'+'ce'];if(_0x47907c){const _0xd9ab5b=this['layers'],_0x11af2a=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x483519)for(let _0x5b4fdf=0x8e7+0x1043+-0x192a;_0x5b4fdf<_0xd9ab5b['length'];_0x5b4fdf++){const _0x1b351d=_0x11af2a['layers']['getLayerBy'+'Id'](this['layers'][_0x5b4fdf]);_0x1b351d&&_0x1b351d['removeShad'+'owCasters']([_0x47907c]);}if(_0x47907c['castShadow']=_0x483519,!this['_castShado'+'ws']&&_0x483519)for(let _0x2e7c5e=0x1*-0x1a1b+-0x2198+-0x1*-0x3bb3;_0x2e7c5e<_0xd9ab5b['length'];_0x2e7c5e++){const _0x3c1802=_0x11af2a['layers']['getLayerBy'+'Id'](_0xd9ab5b[_0x2e7c5e]);_0x3c1802&&_0x3c1802['addShadowC'+'asters']([_0x47907c]);}}this['_castShado'+'ws']=_0x483519;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['layers'](_0x5ddad1){this['removeFrom'+'Layers'](),this['_layers']['length']=-0x6*0x531+0x4*0x5de+0x2*0x3d7;for(let _0xdc306b=-0x8*-0x1c4+-0x26fd+-0x5f*-0x43;_0xdc306b<_0x5ddad1['length'];_0xdc306b++)this['_layers'][_0xdc306b]=_0x5ddad1[_0xdc306b];!this['enabled']||!this['entity']['enabled']||this['addToLayer'+'s']();}get['layers'](){return this['_layers'];}set['asset'](_0x901e75){const _0xa54be7=_0x901e75 instanceof pe?_0x901e75['id']:_0x901e75;this['_assetRefe'+'rence']['id']!==_0xa54be7&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onGSplatA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0xa54be7,this['_assetRefe'+'rence']['asset']&&this['_onGSplatA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['destroyIns'+'tance'](){var _0x41836c;this['_instance']&&(this['removeFrom'+'Layers'](),(_0x41836c=this['_instance'])==null||_0x41836c['destroy'](),this['_instance']=null);}['addToLayer'+'s'](){var _0x19ba45,_0x71df54;const _0x58211d=(_0x19ba45=this['instance'])==null?void(-0x5*-0x3c4+0x26ee+0x39c2*-0x1):_0x19ba45['meshInstan'+'ce'];if(_0x58211d){const _0x2dce57=this['system']['app']['scene']['layers'];for(let _0x2180c2=0x265+-0x55b+-0x2*-0x17b;_0x2180c2<this['_layers']['length'];_0x2180c2++)(_0x71df54=_0x2dce57['getLayerBy'+'Id'](this['_layers'][_0x2180c2]))==null||_0x71df54['addMeshIns'+'tances']([_0x58211d]);}}['removeFrom'+'Layers'](){var _0x26583a,_0xdee2f1;const _0x112f8b=(_0x26583a=this['instance'])==null?void(-0x1f7c+-0x1a76+0x39f2):_0x26583a['meshInstan'+'ce'];if(_0x112f8b){const _0x270a2f=this['system']['app']['scene']['layers'];for(let _0x4bf958=0x980+0x317*0x5+0x18f3*-0x1;_0x4bf958<this['_layers']['length'];_0x4bf958++)(_0xdee2f1=_0x270a2f['getLayerBy'+'Id'](this['_layers'][_0x4bf958]))==null||_0xdee2f1['removeMesh'+'Instances']([_0x112f8b]);}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_instance']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyIns'+'tance'](),this['asset']=null,this['_assetRefe'+'rence']['id']=null,this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x22f849,_0x1c80a6){this['addToLayer'+'s'](),_0x22f849['off']('add',this['onLayerAdd'+'ed'],this),_0x22f849['off']('remove',this['onLayerRem'+'oved'],this),_0x1c80a6['on']('add',this['onLayerAdd'+'ed'],this),_0x1c80a6['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x2f1576){this['layers']['indexOf'](_0x2f1576['id'])<-0x10fc+0x52f*-0x1+0x162b||this['_instance']&&_0x2f1576['addMeshIns'+'tances'](this['_instance']['meshInstan'+'ce']);}['onLayerRem'+'oved'](_0x4e60c4){this['layers']['indexOf'](_0x4e60c4['id'])<-0x4f*0x6b+0x12b9+0x3c*0x3d||this['_instance']&&_0x4e60c4['removeMesh'+'Instances'](this['_instance']['meshInstan'+'ce']);}['onEnable'](){const _0x28140b=this['system']['app']['scene'],_0x50a417=_0x28140b['layers'];this['_evtLayers'+'Changed']=_0x28140b['on']('set:layers',this['onLayersCh'+'anged'],this),_0x50a417&&(this['_evtLayerA'+'dded']=_0x50a417['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x50a417['on']('remove',this['onLayerRem'+'oved'],this)),this['_instance']?this['addToLayer'+'s']():this['asset']&&this['_onGSplatA'+'ssetAdded']();}['onDisable'](){var _0x24cb11,_0x5942b8,_0x207352;const _0x4e4403=this['system']['app']['scene']['layers'];(_0x24cb11=this['_evtLayers'+'Changed'])==null||_0x24cb11['off'](),this['_evtLayers'+'Changed']=null,_0x4e4403&&((_0x5942b8=this['_evtLayerA'+'dded'])==null||_0x5942b8['off'](),this['_evtLayerA'+'dded']=null,(_0x207352=this['_evtLayerR'+'emoved'])==null||_0x207352['off'](),this['_evtLayerR'+'emoved']=null),this['removeFrom'+'Layers']();}['hide'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(-0xb2*-0x5+-0x268d+-0x1c1*-0x14));}['show'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0x172d+-0x18d5+0x1a8));}['_onGSplatA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onGSplatA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onGSplatA'+'ssetLoad'](){this['destroyIns'+'tance']();const _0x35b943=this['_assetRefe'+'rence']['asset'];_0x35b943&&(this['instance']=_0x35b943['resource']['createInst'+'ance'](_0x35b943['resource'],{'material':this['_materialT'+'mp'],'highQualitySH':this['_highQuali'+'tySH']}),this['_materialT'+'mp']=null,this['customAabb']=this['instance']['resource']['aabb']['clone']());}['_onGSplatA'+'ssetUnload'](){this['destroyIns'+'tance']();}['_onGSplatA'+'ssetRemove'](){this['_onGSplatA'+'ssetUnload']();}}class UF{constructor(){this['enabled']=!(-0x1f*-0x95+0x2*-0x1109+0xb*0x175);}}const Vu=['enabled'],To=['castShadow'+'s','material','highQualit'+'ySH','asset','layers'];class BF extends ct{constructor(_0x5c2a91){super(_0x5c2a91),this['id']='gsplat',this['ComponentT'+'ype']=y0,this['DataType']=UF,this['schema']=Vu,this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x1fa03f,_0x5e9bf4,_0x5bea2b){_0x5e9bf4['layers']&&_0x5e9bf4['layers']['length']&&(_0x5e9bf4['layers']=_0x5e9bf4['layers']['slice'](-0x3bb*-0xa+0x2047+0x4595*-0x1));for(let _0x34dd09=-0x67f+-0x5e9*0x3+0x183a;_0x34dd09<To['length'];_0x34dd09++)_0x5e9bf4['hasOwnProp'+'erty'](To[_0x34dd09])&&(_0x1fa03f[To[_0x34dd09]]=_0x5e9bf4[To[_0x34dd09]]);_0x5e9bf4['aabbCenter']&&_0x5e9bf4['aabbHalfEx'+'tents']&&(_0x1fa03f['customAabb']=new De(new D(_0x5e9bf4['aabbCenter']),new D(_0x5e9bf4['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x1fa03f,_0x5e9bf4,Vu);}['cloneCompo'+'nent'](_0x5ba0c7,_0x3c8d53){const _0x5783b8=_0x5ba0c7['gsplat'],_0xdfef2b={};To['forEach'](_0x65fcaf=>{_0x65fcaf==='material'?_0xdfef2b[_0x65fcaf]=_0x5783b8[_0x65fcaf]['clone']():_0xdfef2b[_0x65fcaf]=_0x5783b8[_0x65fcaf];}),_0xdfef2b['enabled']=_0x5783b8['enabled'];const _0x327490=this['addCompone'+'nt'](_0x3c8d53,_0xdfef2b);return _0x5783b8['customAabb']&&(_0x327490['customAabb']=_0x5783b8['customAabb']['clone']()),_0x327490;}['onRemove'](_0x13127c,_0x597a2f){_0x597a2f['onRemove']();}}we['_buildAcce'+'ssors'](y0['prototype'],Vu);class Em extends me{constructor(){super(...arguments),h(this,'_meshes',null);}set['meshes'](_0x54941c){this['decRefMesh'+'es'](),this['_meshes']=_0x54941c,this['incRefMesh'+'es'](),this['fire']('set:meshes',_0x54941c);}get['meshes'](){return this['_meshes'];}['destroy'](){this['meshes']=null;}['decRefMesh'+'es'](){var _0x21b79f;(_0x21b79f=this['_meshes'])==null||_0x21b79f['forEach']((_0x2af279,_0x13bbc2)=>{_0x2af279&&(_0x2af279['decRefCoun'+'t'](),_0x2af279['refCount']<-0x161d+0x4f2*0x2+0xc3a&&(_0x2af279['destroy'](),this['_meshes'][_0x13bbc2]=null));});}['incRefMesh'+'es'](){var _0x5da63d;(_0x5da63d=this['_meshes'])==null||_0x5da63d['forEach'](_0x37803d=>{_0x37803d==null||_0x37803d['incRefCoun'+'t']();});}}h(Em,'EVENT_SETM'+'ESHES','set:meshes');function sh(_0x472190){const _0x424ff1=this;if(!_0x424ff1['resource'])return;const _0x5d1dc9=_0x472190['resource'],_0x3d2518=_0x5d1dc9['renders']&&_0x5d1dc9['renders'][_0x424ff1['data']['renderInde'+'x']];_0x3d2518&&(_0x424ff1['resource']['meshes']=_0x3d2518['resource']['meshes']);}function pS(_0x175052){const _0x5aacc3=this;_0x5aacc3['registry']['off']('load:'+_0x175052['id'],sh,_0x5aacc3),_0x5aacc3['registry']['on']('load:'+_0x175052['id'],sh,_0x5aacc3),_0x5aacc3['registry']['off']('remove:'+_0x175052['id'],mS,_0x5aacc3),_0x5aacc3['registry']['once']('remove:'+_0x175052['id'],mS,_0x5aacc3),_0x175052['resource']?sh['call'](_0x5aacc3,_0x175052):_0x5aacc3['registry']['load'](_0x175052);}function mS(_0x330ed9){const _0x254b2c=this;_0x254b2c['registry']['off']('load:'+_0x330ed9['id'],sh,_0x254b2c),_0x254b2c['resource']&&_0x254b2c['resource']['destroy']();}class zF extends Qe{constructor(_0x4487ce){super(_0x4487ce,'render'),this['_registry']=_0x4487ce['assets'];}['open'](_0x414ae5,_0x3be2cc){return new Em();}['patch'](_0x4137f0,_0x5e9472){if(!_0x4137f0['data']['containerA'+'sset'])return;const _0x3afbad=_0x5e9472['get'](_0x4137f0['data']['containerA'+'sset']);if(!_0x3afbad){_0x5e9472['once']('add:'+_0x4137f0['data']['containerA'+'sset'],pS,_0x4137f0);return;}pS['call'](_0x4137f0,_0x3afbad);}}class v0{constructor(_0x4728ad,_0x4f2061,_0x2e1ecf,_0x44bf98){this['_paths']=_0x4728ad,this['_input']=_0x4f2061,this['_output']=_0x2e1ecf,this['_interpola'+'tion']=_0x44bf98;}get['paths'](){return this['_paths'];}get['input'](){return this['_input'];}get['output'](){return this['_output'];}get['interpolat'+'ion'](){return this['_interpola'+'tion'];}}class Fh{constructor(_0xb40d81,_0x18379e){this['_component'+'s']=_0xb40d81,this['_data']=_0x18379e;}get['components'](){return this['_component'+'s'];}get['data'](){return this['_data'];}}function VF(_0x13ddbd,_0x34cd50){let _0x611f8a;const _0x44c797=(_0x5974a8,_0x94b26f)=>{switch(_0x94b26f){case _0x611f8a['DT_INT8']:return new Int8Array(_0x5974a8['buffer'],_0x5974a8['byteOffset'],_0x5974a8['byteLength']);case _0x611f8a['DT_INT16']:return new Int16Array(_0x5974a8['buffer'],_0x5974a8['byteOffset'],_0x5974a8['byteLength']/(0x11ef+0x1*-0xbc2+-0x62b));case _0x611f8a['DT_INT32']:return new Int32Array(_0x5974a8['buffer'],_0x5974a8['byteOffset'],_0x5974a8['byteLength']/(0xb*-0x32b+-0x1ca8+0x3f85));case _0x611f8a['DT_UINT8']:return new Uint8Array(_0x5974a8['buffer'],_0x5974a8['byteOffset'],_0x5974a8['byteLength']);case _0x611f8a['DT_UINT16']:return new Uint16Array(_0x5974a8['buffer'],_0x5974a8['byteOffset'],_0x5974a8['byteLength']/(0x5*0x2d5+0x1ed3+-0x2cfa));case _0x611f8a['DT_UINT32']:return new Uint32Array(_0x5974a8['buffer'],_0x5974a8['byteOffset'],_0x5974a8['byteLength']/(0x835+-0x2c*-0x71+-0x1b9d));case _0x611f8a['DT_FLOAT32']:return new Float32Array(_0x5974a8['buffer'],_0x5974a8['byteOffset'],_0x5974a8['byteLength']/(-0x4f*-0x4a+0x33*0xa3+0x374b*-0x1));}return null;},_0xa71f68=_0x262e44=>{switch(_0x262e44){case _0x611f8a['DT_INT8']:return 0x1ea3+-0xa3*0x2d+-0xa9*0x3;case _0x611f8a['DT_INT16']:return-0x5e6*-0x2+-0x8b*-0x45+-0x3141;case _0x611f8a['DT_INT32']:return-0xb9a+0x2*-0xaf3+0x14a*0x1a;case _0x611f8a['DT_UINT8']:return-0x1d2b+0x1a*0x6c+-0x1*-0x1234;case _0x611f8a['DT_UINT16']:return 0x14c4*0x1+-0x1ac5+0x603;case _0x611f8a['DT_UINT32']:return 0x18a8+-0x1be2+-0x19f*-0x2;case _0x611f8a['DT_FLOAT32']:return-0x2209+-0x1e71*-0x1+-0x4d*-0xc;}return-0xcbf+-0xcb6+0x1976;},_0x1e4557=_0x446baf=>_0x446baf['num_compon'+'ents']()*_0xa71f68(_0x446baf['data_type']()),_0x280808={0x0:0x0,0x1:0x1,0x5:0x2,0x2:0x3,0x7:0x4,0x8:0x5,0x4:0x6,0x3:0x7},_0x3c473e=(_0x5a19c5,_0x264142)=>{const _0x23f8c8=(_0x334d4d,_0x2ad5db,_0x262228)=>{_0x334d4d[0x1a3f*0x1+0x2c*-0x2a+-0x1307*0x1]=_0x2ad5db[0x1334+0x107e+-0x23b2]-_0x262228[-0x5*-0x35d+0x6f5*-0x1+-0x9dc],_0x334d4d[-0x199*-0x14+-0x109f+0x7aa*-0x2]=_0x2ad5db[0xd9f+0x1*0x2383+-0x3121]-_0x262228[0x1152+0x1724*0x1+-0x1*0x2875],_0x334d4d[-0x1*-0x9ce+0x19e2*-0x1+-0x3a*-0x47]=_0x2ad5db[0x10*-0x29+-0xf2b*-0x1+-0xc99]-_0x262228[0x183e*0x1+-0x369+0x6f1*-0x3];},_0xcc11f2=(_0x1707f7,_0x46922e,_0x147bb7)=>{_0x1707f7[-0x109f+0x838+0x867*0x1]=_0x46922e[-0x1f*-0x8a+0xa69+-0x59*0x4e]*_0x147bb7[-0x49*0x86+-0xecf+0x1*0x3507]-_0x147bb7[-0x17dd+-0x65b+-0x1e39*-0x1]*_0x46922e[-0x12f*0xd+0x3*-0x893+0x291e],_0x1707f7[-0xe69+0x1c88*-0x1+0x2af2]=_0x46922e[-0x182*0x4+0xd83*-0x1+0x1c7*0xb]*_0x147bb7[-0x2*0xa8+0x206a+0x6*-0x52f]-_0x147bb7[-0x4b7*0x5+0x1329+0x46c]*_0x46922e[0x641*-0x5+-0xd70+-0x663*-0x7],_0x1707f7[0x13*-0x4d+0x116e+0x9*-0x14d]=_0x46922e[-0x1*-0x17cb+-0x1e75+0x6aa]*_0x147bb7[-0xe7b*0x2+0x56*0x18+0x14e7]-_0x147bb7[0x1d2e+-0x1*0x1f9+-0x1b35]*_0x46922e[-0x65*0x1a+-0x2f2+0xd35];},_0x120f79=(_0x16989a,_0x5bb576)=>{const _0xd9a8a1=_0x16989a[_0x5bb576+(-0x581+-0x3*-0x8a5+-0x146e)],_0x7405ef=_0x16989a[_0x5bb576+(-0x2*-0xb50+0x52*-0x5c+0x6d9)],_0x4922c9=_0x16989a[_0x5bb576+(-0xa*0xa3+0x154a+-0xeea)],_0x188803=(0x1a12+-0x31a+-0x16f7)/Math['sqrt'](_0xd9a8a1*_0xd9a8a1+_0x7405ef*_0x7405ef+_0x4922c9*_0x4922c9);_0x16989a[_0x5bb576+(0x2*-0x996+0x172*-0x11+-0x2*-0x15df)]*=_0x188803,_0x16989a[_0x5bb576+(0x20*0xca+-0x1*0x6cd+0x2*-0x939)]*=_0x188803,_0x16989a[_0x5bb576+(-0xa40+0x16*0xd1+-0x4*0x1ed)]*=_0x188803;},_0x54de0c=(_0x314835,_0x18b4c4,_0x55fd2e)=>{for(let _0x49fab8=0xe7e+0x2*0xa6e+-0x5*0x712;_0x49fab8<0x1b*-0x8a+0x2c9*0x5+0xa4;++_0x49fab8)_0x314835[_0x49fab8]=_0x18b4c4[_0x55fd2e+_0x49fab8];},_0x10d0c6=_0x264142['length']/(-0x1026+0x205e+0x1cd*-0x9),_0x42601c=_0x5a19c5['length']/(0x235b+-0x1b6+-0x21a2),_0x1151bb=new Float32Array(_0x5a19c5['length']),_0x1c3a98=[-0xab*0x3a+0x5*-0x79+0x291b,0x1a78+-0x1dde+-0xae*-0x5,-0x11d2+-0x1ad3+-0x1*-0x2ca5],_0x34f93b=[0x2*0x854+-0x727+-0x981,0x1f55+0x75+-0x1fca,0x1ff2+-0x1*0x727+-0xb*0x241],_0x52de3c=[0x34*-0x44+-0x5b*0x43+0x1fb*0x13,0x2545+0x1*-0x1ef8+-0x64d,0x27d*-0xd+0x1273+0xde6],_0x5b5aa9=[0x196*-0x2+-0x71*-0xb+-0x1af,-0x66e+0x1*-0x191f+-0x1*-0x1f8d,0x51e+-0x756+-0x2*-0x11c],_0x2915a1=[0x2bd*-0x2+0x1238+-0xcbe,0x9*0x14e+-0x463+0x75b*-0x1,0xe1c+-0x1*-0x1d78+0x1*-0x2b94],_0x54607d=[-0x1b5+0x1*-0x8ec+0xaa1,-0x2700+-0xe9f+0x359f*0x1,0x66d*-0x6+-0x11b+0x27a9];for(let _0x355578=-0x4cc+0xa53*0x1+0x5*-0x11b;_0x355578<_0x10d0c6;++_0x355578){const _0x511e9d=_0x264142[_0x355578*(-0x190b+0x18b7*0x1+0x1*0x57)+(0x3d7+0xb6d+-0xf44)]*(-0x1c1*0x1+-0x1181+0x1345),_0x53041f=_0x264142[_0x355578*(-0x4*0x866+-0x138+0x22d3*0x1)+(0x117e+-0x161b*0x1+0x49e)]*(0xfa7*-0x2+-0x1ca6+0x3bf7),_0x48a951=_0x264142[_0x355578*(0x2*-0x1313+-0x288+-0x3b3*-0xb)+(0x1*-0x1375+0x185a+-0x4e3)]*(-0x1146+-0x147a+0x25c3);_0x54de0c(_0x1c3a98,_0x5a19c5,_0x511e9d),_0x54de0c(_0x34f93b,_0x5a19c5,_0x53041f),_0x54de0c(_0x52de3c,_0x5a19c5,_0x48a951),_0x23f8c8(_0x5b5aa9,_0x34f93b,_0x1c3a98),_0x23f8c8(_0x2915a1,_0x52de3c,_0x1c3a98),_0xcc11f2(_0x54607d,_0x5b5aa9,_0x2915a1),_0x120f79(_0x54607d,-0x1b5f+-0x7ea*0x1+-0x3*-0xbc3);for(let _0x27fa77=0x1f7c+0x56c+0x2*-0x1274;_0x27fa77<0x83b+-0x1d74+0x25c*0x9;++_0x27fa77)_0x1151bb[_0x511e9d+_0x27fa77]+=_0x54607d[_0x27fa77],_0x1151bb[_0x53041f+_0x27fa77]+=_0x54607d[_0x27fa77],_0x1151bb[_0x48a951+_0x27fa77]+=_0x54607d[_0x27fa77];}for(let _0x12c12d=0x1af1+-0x16*0x12e+-0xfd*0x1;_0x12c12d<_0x42601c;++_0x12c12d)_0x120f79(_0x1151bb,_0x12c12d*(0x115b+-0x2d4*-0x3+-0x15c*0x13));return new Uint8Array(_0x1151bb['buffer']);},_0x55e5e2=_0x5501fa=>{const _0xedf924={},_0x169b27=new _0x611f8a['DecoderBuf'+'fer']();_0x169b27['Init'](_0x5501fa,_0x5501fa['length']);const _0x2f53cc=new _0x611f8a['Decoder']();if(_0x2f53cc['GetEncoded'+'GeometryTy'+'pe'](_0x169b27)!==_0x611f8a['TRIANGULAR'+'_MESH'])return _0xedf924['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20mesh:\x20n'+'ot\x20a\x20mesh',_0xedf924;const _0x7d9e75=new _0x611f8a['Mesh'](),_0x233bc7=_0x2f53cc['DecodeBuff'+'erToMesh'](_0x169b27,_0x7d9e75);if(!_0x233bc7||!_0x233bc7['ok']()||_0x611f8a['getPointer'](_0x7d9e75)===0x1845+0x2674+-0x3eb9)return _0xedf924['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20asset',_0xedf924;const _0x5d7dd9=_0x7d9e75['num_faces']()*(0x1*0x1d5d+-0x50*-0x14+0x2a*-0xd9),_0x2f78c2=_0x7d9e75['num_points']()<=-0x9a85+0x1*-0xc1f6+0x25c7a,_0x4184e4=_0x5d7dd9*(_0x2f78c2?-0x8a*-0xc+0x1437*0x1+-0x1aad:0x255+0x1955+-0x1ba6),_0x38c1a5=_0x611f8a['_malloc'](_0x4184e4);_0x2f78c2?(_0x2f53cc['GetTriangl'+'esUInt16Ar'+'ray'](_0x7d9e75,_0x4184e4,_0x38c1a5),_0xedf924['indices']=new Uint16Array(_0x611f8a['HEAPU16']['buffer'],_0x38c1a5,_0x5d7dd9)['slice']()['buffer']):(_0x2f53cc['GetTriangl'+'esUInt32Ar'+'ray'](_0x7d9e75,_0x4184e4,_0x38c1a5),_0xedf924['indices']=new Uint32Array(_0x611f8a['HEAPU32']['buffer'],_0x38c1a5,_0x5d7dd9)['slice']()['buffer']),_0x611f8a['_free'](_0x38c1a5);const _0x595d8d=[];for(let _0x554142=-0xf33+-0x16b3+0x25e6;_0x554142<_0x7d9e75['num_attrib'+'utes']();++_0x554142)_0x595d8d['push'](_0x2f53cc['GetAttribu'+'te'](_0x7d9e75,_0x554142));_0x595d8d['sort']((_0x45f61d,_0x146ca7)=>(_0x280808[_0x45f61d['attribute_'+'type']()]??_0x280808['length'])-(_0x280808[_0x146ca7['attribute_'+'type']()]??_0x280808['length'])),_0xedf924['attributes']=_0x595d8d['map'](_0x5e1a03=>_0x5e1a03['unique_id']());let _0x5f4347=0x12f5*-0x1+0xa66*-0x1+0x1d5b;const _0x4a4554=_0x595d8d['map'](_0x5e2e95=>{const _0x227bd5=_0x5f4347;return _0x5f4347+=Math['ceil'](_0x1e4557(_0x5e2e95)/(-0x4*-0x6e9+-0x26ad*-0x1+-0x424d))*(-0x326+0x1bd7+0x18ad*-0x1),_0x227bd5;}),_0x500fff=_0x595d8d['some'](_0x41de22=>_0x41de22['attribute_'+'type']()===-0x14f8+-0x894+-0x5e9*-0x5),_0x5e179c=_0x4a4554[-0x102b+-0x137e+-0x2*-0x11d5];if(!_0x500fff){for(let _0xf53bd8=-0x4d*-0x27+0xe9b*0x1+-0x1a55;_0xf53bd8<_0x4a4554['length'];++_0xf53bd8)_0x4a4554[_0xf53bd8]+=-0x140c+-0x10a9+0x24c1;_0x5f4347+=-0x917+-0xaec+0x140f;}_0xedf924['vertices']=new ArrayBuffer(_0x7d9e75['num_points']()*_0x5f4347);const _0x3d58ca=new Uint8Array(_0xedf924['vertices']);for(let _0x53e64b=0xf4*0x12+0x2*-0x12f5+0x14c2;_0x53e64b<_0x7d9e75['num_attrib'+'utes']();++_0x53e64b){const _0x56b9ba=_0x595d8d[_0x53e64b],_0x9fea0e=_0x1e4557(_0x56b9ba),_0x423e1d=_0x7d9e75['num_points']()*_0x9fea0e,_0x303d6a=_0x611f8a['_malloc'](_0x423e1d);_0x2f53cc['GetAttribu'+'teDataArra'+'yForAllPoi'+'nts'](_0x7d9e75,_0x56b9ba,_0x56b9ba['data_type'](),_0x423e1d,_0x303d6a);const _0x41f680=new Uint8Array(_0x611f8a['HEAPU8']['buffer'],_0x303d6a,_0x423e1d);for(let _0x1a38b1=0x731*0x1+0x95d+-0x108e;_0x1a38b1<_0x7d9e75['num_points']();++_0x1a38b1)for(let _0x448404=0x278+-0x49*0x7a+-0xc5*-0x2a;_0x448404<_0x9fea0e;++_0x448404)_0x3d58ca[_0x1a38b1*_0x5f4347+_0x4a4554[_0x53e64b]+_0x448404]=_0x41f680[_0x1a38b1*_0x9fea0e+_0x448404];if(!_0x500fff&&_0x56b9ba['attribute_'+'type']()===-0x15c0+-0x1bdc+-0xfe*-0x32){const _0x12dc32=_0x3c473e(_0x44c797(_0x41f680,_0x56b9ba['data_type']()),_0x2f78c2?new Uint16Array(_0xedf924['indices']):new Uint32Array(_0xedf924['indices']));for(let _0x165e7f=0xc5*-0x14+0x4*-0x896+0x31bc;_0x165e7f<_0x7d9e75['num_points']();++_0x165e7f)for(let _0x2979bf=-0x1c52*-0x1+0x4*-0x1d3+0x256*-0x9;_0x2979bf<-0x1bf7+0x19*0x13a+-0x2a7;++_0x2979bf)_0x3d58ca[_0x165e7f*_0x5f4347+_0x5e179c+_0x2979bf]=_0x12dc32[_0x165e7f*(0x6d*-0x7+-0x3*0x8f4+0x7*0x445)+_0x2979bf];}_0x611f8a['_free'](_0x303d6a);}return _0x611f8a['destroy'](_0x7d9e75),_0x611f8a['destroy'](_0x2f53cc),_0x611f8a['destroy'](_0x169b27),_0xedf924;},_0x46bdcf=_0x2f414f=>{const _0x1fedd8=_0x55e5e2(new Uint8Array(_0x2f414f['buffer']));self['postMessag'+'e']({'jobId':_0x2f414f['jobId'],'error':_0x1fedd8['error'],'indices':_0x1fedd8['indices'],'vertices':_0x1fedd8['vertices'],'attributes':_0x1fedd8['attributes']},[_0x1fedd8['indices'],_0x1fedd8['vertices']]['filter'](_0x18a5bc=>_0x18a5bc!=null));},_0x2aa8d3=[];self['onmessage']=_0x6394dd=>{const _0x27ecb9=_0x6394dd['data'];switch(_0x27ecb9['type']){case'init':self['DracoDecod'+'erModule']({'instantiateWasm':(_0x317fff,_0x9ec004)=>(WebAssembly['instantiat'+'e'](_0x27ecb9['module'],_0x317fff)['then'](_0x8615a1=>_0x9ec004(_0x8615a1))['catch'](_0x28b43e=>console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x28b43e)),{})})['then'](_0x2264c1=>{_0x611f8a=_0x2264c1,_0x2aa8d3['forEach'](_0x207964=>_0x46bdcf(_0x207964));});break;case'decodeMesh':_0x611f8a?_0x46bdcf(_0x27ecb9):_0x2aa8d3['push'](_0x27ecb9);break;}};}const _S=0xc15*-0x3+-0x2*0xd91+0x3f64;class GF{constructor(){this['workers']=[[],[],[]],this['jobId']=0x22f*0x11+0x10+-0x252f,this['jobQueue']=[],this['jobCallbac'+'ks']=new Map(),this['run']=(_0x31f850,_0x38ae56)=>{_0x31f850['postMessag'+'e']({'type':'decodeMesh','jobId':_0x38ae56['jobId'],'buffer':_0x38ae56['buffer']},[_0x38ae56['buffer']]);};}['init'](_0x52381c){for(_0x52381c['forEach'](_0x4dfe80=>{_0x4dfe80['addEventLi'+'stener']('message',_0x20554a=>{const _0x3e3796=_0x20554a['data'],_0x999497=this['jobCallbac'+'ks']['get'](_0x3e3796['jobId']);if(_0x999497&&_0x999497(_0x3e3796['error'],{'indices':_0x3e3796['indices'],'vertices':_0x3e3796['vertices'],'attributes':_0x3e3796['attributes']}),this['jobCallbac'+'ks']['delete'](_0x3e3796['jobId']),this['jobQueue']['length']>0x1*0x15b5+-0xe8d+-0x1*0x728){const _0x1a96ff=this['jobQueue']['shift']();this['run'](_0x4dfe80,_0x1a96ff);}else{const _0x334378=this['workers'][0x1163+-0x38b+-0xdd6]['indexOf'](_0x4dfe80);if(_0x334378!==-(-0x22e4+0x1f3a+0x3ab))this['workers'][0x109+-0x9e0*0x2+0x12b9*0x1]['splice'](_0x334378,-0x1d10+-0xb5a+0x3*0xd79),this['workers'][0x1d*0x151+0x14e3*-0x1+-0x1149]['push'](_0x4dfe80);else{const _0x2fb243=this['workers'][-0x1*0x31c+-0x2313+-0x1a*-0x178]['indexOf'](_0x4dfe80);_0x2fb243!==-(0x6de+-0x7b+-0x662)?(this['workers'][0x15*-0x139+-0x1*-0xcbf+-0xcef*-0x1]['splice'](_0x2fb243,-0x213d+-0xa*0x1a+-0x2*-0x1121),this['workers'][-0x3*-0x343+0x12b4+-0x1c7d]['push'](_0x4dfe80)):w['error']('logical\x20er'+'ror');}}});}),this['workers'][0x1e74+0x2135*0x1+-0x2b*0x17b]=_0x52381c;this['jobQueue']['length']&&(this['workers'][0x1*0xa81+-0x25bd+0x1b3c]['length']||this['workers'][0x103d+-0x2c*0x2f+0x1*-0x828]['length']);){const _0xd941ff=this['jobQueue']['shift']();if(this['workers'][0x1d96+-0x2604+-0xd*-0xa6]['length']>0x120+0x1*-0x1d23+0x65*0x47){const _0x474370=this['workers'][-0x34*0x20+0x1a7f+-0x13ff]['shift']();this['workers'][-0x6b8+-0x11*-0x2b+-0x14a*-0x3]['push'](_0x474370),this['run'](_0x474370,_0xd941ff);}else{const _0x39f162=this['workers'][-0xa11+-0x1897*0x1+0x22a9]['shift']();this['workers'][-0x10dd*0x1+0xca6*-0x3+0x36d1]['push'](_0x39f162),this['run'](_0x39f162,_0xd941ff);}}}['enqueueJob'](_0x3d57b9,_0x3b5f7f){const _0x534057={'jobId':this['jobId']++,'buffer':_0x3d57b9};if(this['jobCallbac'+'ks']['set'](_0x534057['jobId'],_0x3b5f7f),this['workers'][-0x1ac2+-0x1b63+0x3625]['length']>0x3a6+0x23aa+-0x2750){const _0x2498c1=this['workers'][0x9c0+-0x26f3+0x1d33]['shift']();this['workers'][-0x1*0x1e01+-0x151f*0x1+0x3321]['push'](_0x2498c1),this['run'](_0x2498c1,_0x534057);}else{if(this['workers'][-0x2324+0xcf0+0x1635]['length']>0x1513+0x20*-0x137+0x11cd){const _0x5d69fb=this['workers'][0xfb+0x21db+-0x25*0xf1]['shift']();this['workers'][-0x10fb+-0x22f6+0x33f3]['push'](_0x5d69fb),this['run'](_0x5d69fb,_0x534057);}else this['jobQueue']['push'](_0x534057);}}}const HF=_0x1e7393=>new Promise((_0x3bf1cc,_0x4d0414)=>{const _0x552b6e={'cache':!(-0x1*0x1c09+-0x117*-0xc+0xef5),'responseType':'text','retry':_S>0x1941+0x171d*-0x1+-0x89*0x4,'maxRetries':_S};ot['get'](_0x1e7393,_0x552b6e,(_0x5eb9c4,_0x169849)=>{_0x5eb9c4?_0x4d0414(_0x5eb9c4):_0x3bf1cc(_0x169849);});}),WF=_0x105bb9=>{const _0xef5de7=()=>fetch(_0x105bb9)['then'](_0x1f2384=>_0x1f2384['arrayBuffe'+'r']())['then'](_0x4a1369=>WebAssembly['compile'](_0x4a1369)),_0x10a80b=()=>WebAssembly['compileStr'+'eaming'](fetch(_0x105bb9))['catch'](_0x3d7a85=>(w['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x105bb9+'\x20('+_0x3d7a85+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0xef5de7()));return WebAssembly['compileStr'+'eaming']?_0x10a80b():_0xef5de7();},gS=0x757+0x1e08+0x1*-0x255e;let ih;const $F=_0x5bc264=>{if(ih)return!(0x143b*-0x1+-0x172a+0xe77*0x3);if(!_0x5bc264){const _0x1aeb3d=YS['getConfig']('DracoDecod'+'erModule');_0x1aeb3d?_0x5bc264={'jsUrl':_0x1aeb3d['glueUrl'],'wasmUrl':_0x1aeb3d['wasmUrl'],'numWorkers':_0x1aeb3d['numWorkers']}:_0x5bc264={'jsUrl':'draco.wasm'+'.js','wasmUrl':'draco.wasm'+'.wasm','numWorkers':gS};}return!_0x5bc264['jsUrl']||!_0x5bc264['wasmUrl']?!(-0x2*0x74b+-0x426+0x12bd):(ih=new GF(),Promise['all']([HF(_0x5bc264['jsUrl']),WF(_0x5bc264['wasmUrl'])])['then'](([_0x1dddcc,_0x1b226b])=>{const _0x1e492c=['/*\x20draco\x20*'+'/',_0x1dddcc,'/*\x20worker\x20'+'*/','(\x0a'+VF['toString']()+'\x0a)()\x0a\x0a']['join']('\x0a'),_0x11dea1=new Blob([_0x1e492c],{'type':'applicatio'+'n/javascri'+'pt'}),_0x4f255a=URL['createObje'+'ctURL'](_0x11dea1),_0x424e49=Math['max'](0x1*-0x71b+0x1*-0x252a+0x2c46,Math['min'](-0x1*0x259d+0x605*0x2+0x19a3*0x1,_0x5bc264['numWorkers']||gS)),_0x111afe=[];for(let _0x4f6936=0x34*0x4b+0x1e8e+-0x2dca;_0x4f6936<_0x424e49;++_0x4f6936){const _0x3a2335=new Worker(_0x4f255a);_0x3a2335['postMessag'+'e']({'type':'init','module':_0x1b226b}),_0x111afe['push'](_0x3a2335);}ih['init'](_0x111afe);}),!(-0xa9*0x1+0x75*-0x52+0x2623));},XF=(_0x3c20b9,_0x28bbfe)=>$F()?(ih['enqueueJob'](_0x3c20b9,_0x28bbfe),!(-0x1*0xfa3+0x13*0x14b+-0x8ee*0x1)):!(0x66c+-0x1f18+0x18ad);class qF{constructor(){h(this,'gltf'),h(this,'nodes'),h(this,'scenes'),h(this,'animations'),h(this,'textures'),h(this,'materials'),h(this,'variants'),h(this,'meshVarian'+'ts'),h(this,'meshDefaul'+'tMaterials'),h(this,'renders'),h(this,'skins'),h(this,'lights'),h(this,'cameras'),h(this,'nodeInstan'+'cingMap');}['destroy'](){this['renders']&&this['renders']['forEach'](_0x47667c=>{_0x47667c['meshes']=null;});}}const x0=_0x17a68a=>/^data:[^\n\r,\u2028\u2029]*,.*$/i['test'](_0x17a68a),jF=_0x358720=>_0x358720['substring'](_0x358720['indexOf'](':')+(0x19*0x6b+0x20*0x3d+-0x909*0x2),_0x358720['indexOf'](';')),yl=_0x385b3a=>{switch(_0x385b3a){case'SCALAR':return-0xb36+-0x10a7+0x1bde;case'VEC2':return-0x74f+-0x97*-0x35+0x265*-0xa;case'VEC3':return-0x19*0x142+-0x7c9*-0x1+0x17ac;case'VEC4':return 0x2662+0x18f9+-0x73*0x8d;case'MAT2':return-0x38*0x32+-0xc34+0x1ee*0xc;case'MAT3':return-0x1e28+0x16ec+0x745;case'MAT4':return 0x1297*-0x1+0x21d4+-0x22b*0x7;default:return-0x1*0x18e+-0x1dd8+0x1f69;}},Dd=_0x350b32=>{switch(_0x350b32){case 0x1*-0x1ef3+0xe14+0x24df:return dd;case-0x6*-0x5a4+-0x2*0x5d4+-0x22f:return la;case 0x1531+0xb*-0x133+0xc02:return fd;case-0x10de+-0x5a1+0x2*0x1541:return Ml;case 0x4*-0x568+0x1*-0x36d+0x53*0x8b:return Ty;case-0x1*-0x94f+-0x1ec7+-0xd*-0x331:return el;case 0x111b+-0x1061+-0xf7*-0x14:return Ve;default:return-0x18db+-0x1c*0x86+-0x5a5*-0x7;}},YF=_0x5baa88=>{switch(_0x5baa88){case-0x5e9*0x1+0x1*0x26a4+0x1*-0xcbb:return-0x1e3*-0xd+-0x894+0x1a*-0x9d;case 0x2cc+0x1*-0xb69+0x1*0x1c9e:return-0x7d4*0x3+0x83c+0xf41;case 0x11dd*-0x1+0x1914+-0x1*-0xccb:return 0x246f+0x1732+-0x1*0x3b9f;case-0x14f8+0x213*-0x3+0x2f34:return-0x907+0x1*-0xcdf+0x15e8;case 0x27b8+-0x1ee0+0xb2c:return 0x3d*0x3d+0x1f6e+-0x2df3;case 0x1*-0x283+0x16bb+-0x33*0x1:return 0x1cb4+0x1*0x1fd9+-0x3c89;case 0x25b9+0x1242+-0x23f5:return 0x3*0x259+0x64*0x3f+-0x1fa3;default:return 0x73*0x45+0x2c*0x43+0x2a83*-0x1;}},KF=_0x767b1=>{switch(_0x767b1){case-0x766+-0x3d1*-0x6+0x480:return Int8Array;case 0x2*0xd57+-0x201e+0x1971:return Uint8Array;case-0x1*-0xd46+-0x5a0+0xc5c:return Int16Array;case 0x1411*0x1+-0x1185*0x1+0x1177*0x1:return Uint16Array;case-0x12a2+0x1*0x240b+0x1d*0x17:return Int32Array;case-0xe1f*-0x2+0x305*0x1+-0xb3e:return Uint32Array;case 0x143e+-0x5f2+-0x2dd*-0x2:return Float32Array;default:return null;}},Nh={'POSITION':Me,'NORMAL':gs,'TANGENT':yi,'COLOR_0':Wt,'JOINTS_0':us,'WEIGHTS_0':gi,'TEXCOORD_0':is,'TEXCOORD_1':ba,'TEXCOORD_2':wl,'TEXCOORD_3':El,'TEXCOORD_4':bl,'TEXCOORD_5':Al,'TEXCOORD_6':Cl,'TEXCOORD_7':Pl},SS={[Me]:0x5*-0x64e+-0x1*0x2078+-0x1fff*-0x2,[gs]:0x1b*-0xe2+-0x6*0x323+-0xa3*-0x43,[yi]:0x80*0x21+-0x23ed+0x136f,[Wt]:0x47*0x35+0x735*-0x1+-0x77b,[us]:-0x9a+0x1*-0x9a8+0xa46,[gi]:0x30d+0xc*-0x2b9+-0x2*-0xed2,[is]:0x1526+-0xff4*-0x2+-0x3508,[ba]:0x7c3+-0x4*-0x3d2+0x4*-0x5c1,[wl]:0xea4*-0x2+-0x1*-0x1a69+0x2e7,[El]:0xcae+-0x220b+0x1f2*0xb,[bl]:0x1*-0x10a6+0x33d*-0xb+-0x7*-0x779,[Al]:-0x1c6a+-0x19*-0x33+-0x2*-0xbbd,[Cl]:0x1214+-0x433*-0x9+-0x37d3,[Pl]:0x43e+0x352+-0x783},ZF=_0x716a9d=>{switch(_0x716a9d){case dd:return _0x54c6fe=>Math['max'](_0x54c6fe/(-0x128f*0x2+-0x1*0x108c+-0x3629*-0x1),-(0xb*0x71+-0x1*-0x701+-0xbdb));case la:return _0x1b796f=>_0x1b796f/(0x23bd+0xef1+-0x31af);case fd:return _0x4ff743=>Math['max'](_0x4ff743/(0x5*-0x29f5+0xe3cc+0x36fe*0x2),-(0x83*0xb+-0x649+0xd*0xd));case Ml:return _0x35c66a=>_0x35c66a/(-0x3049*-0x3+0x3f1f*0x5+-0x11*0xc07);default:return _0x1f6509=>_0x1f6509;}},Gu=(_0x5d003f,_0x179099,_0x634909)=>{const _0x8298ec=ZF(_0x634909),_0xe29162=_0x179099['length'];for(let _0x5b67ac=0x260b+0x3*-0x32d+0x32*-0x92;_0x5b67ac<_0xe29162;++_0x5b67ac)_0x5d003f[_0x5b67ac]=_0x8298ec(_0x179099[_0x5b67ac]);return _0x5d003f;},ua=(_0x15cde1,_0x37ad5c,_0x4bf02a=!(0x6*0x133+-0x133*0x1d+0x1b96))=>{const _0x402ce6=yl(_0x15cde1['type']),_0x3643a4=KF(_0x15cde1['componentT'+'ype']);if(!_0x3643a4)return null;let _0x77ef65;if(_0x15cde1['sparse']){const _0x34216e=_0x15cde1['sparse'],_0x1c81df={'count':_0x34216e['count'],'type':'SCALAR'},_0x44ef01=ua(Object['assign'](_0x1c81df,_0x34216e['indices']),_0x37ad5c,!(0xff8+0xac9+-0x1ac1)),_0x1d9c88={'count':_0x34216e['count'],'type':_0x15cde1['type'],'componentType':_0x15cde1['componentT'+'ype']},_0x2daf38=ua(Object['assign'](_0x1d9c88,_0x34216e['values']),_0x37ad5c,!(-0x21bb+0x1b*-0xa3+-0xcbb*-0x4));if(_0x15cde1['hasOwnProp'+'erty']('bufferView')){const _0x1691db={'bufferView':_0x15cde1['bufferView'],'byteOffset':_0x15cde1['byteOffset'],'componentType':_0x15cde1['componentT'+'ype'],'count':_0x15cde1['count'],'type':_0x15cde1['type']};_0x77ef65=ua(_0x1691db,_0x37ad5c,!(-0x1*0x30a+0x3*0x3fb+-0x1*0x8e7))['slice']();}else _0x77ef65=new _0x3643a4(_0x15cde1['count']*_0x402ce6);for(let _0xd0a248=-0x347+0x62*0xb+-0xef;_0xd0a248<_0x34216e['count'];++_0xd0a248){const _0xc5ad0a=_0x44ef01[_0xd0a248];for(let _0x2986aa=0xbd9+0x1a18+-0x1*0x25f1;_0x2986aa<_0x402ce6;++_0x2986aa)_0x77ef65[_0xc5ad0a*_0x402ce6+_0x2986aa]=_0x2daf38[_0xd0a248*_0x402ce6+_0x2986aa];}}else{if(_0x15cde1['hasOwnProp'+'erty']('bufferView')){const _0x588aea=_0x37ad5c[_0x15cde1['bufferView']];if(_0x4bf02a&&_0x588aea['hasOwnProp'+'erty']('byteStride')){const _0x40cadd=_0x402ce6*_0x3643a4['BYTES_PER_'+'ELEMENT'],_0x593095=new ArrayBuffer(_0x15cde1['count']*_0x40cadd),_0x970d7f=new Uint8Array(_0x593095);let _0x50be87=-0x4*-0x656+-0x71d+0x167*-0xd;for(let _0x45d85d=0x5*-0x46c+0x191d+-0x301;_0x45d85d<_0x15cde1['count'];++_0x45d85d){let _0x41b920=(_0x15cde1['byteOffset']||-0x1*0xb2b+-0x2a7+0xdd2)+_0x45d85d*_0x588aea['byteStride'];for(let _0x32b702=-0x13*0x113+0x2*-0xf60+-0x3329*-0x1;_0x32b702<_0x40cadd;++_0x32b702)_0x970d7f[_0x50be87++]=_0x588aea[_0x41b920++];}_0x77ef65=new _0x3643a4(_0x593095);}else _0x77ef65=new _0x3643a4(_0x588aea['buffer'],_0x588aea['byteOffset']+(_0x15cde1['byteOffset']||0x1a04+-0x1*-0x1165+0x2b69*-0x1),_0x15cde1['count']*_0x402ce6);}else _0x77ef65=new _0x3643a4(_0x15cde1['count']*_0x402ce6);}return _0x77ef65;},Pn=(_0x169fd3,_0x34580b)=>{const _0x3f4792=ua(_0x169fd3,_0x34580b,!(0x33*-0x85+-0xbe3*-0x3+-0x92a));if(_0x3f4792 instanceof Float32Array||!_0x169fd3['normalized'])return _0x3f4792;const _0x861b4c=new Float32Array(_0x3f4792['length']);return Gu(_0x861b4c,_0x3f4792,Dd(_0x169fd3['componentT'+'ype'])),_0x861b4c;},Hu=_0x1c6763=>{let _0xa31ee1=_0x1c6763['min'],_0x8357df=_0x1c6763['max'];if(!_0xa31ee1||!_0x8357df)return null;if(_0x1c6763['normalized']){const _0x3a156e=Dd(_0x1c6763['componentT'+'ype']);_0xa31ee1=Gu([],_0xa31ee1,_0x3a156e),_0x8357df=Gu([],_0x8357df,_0x3a156e);}return new De(new D((_0x8357df[0x2*0xbb9+0xcaf+-0x2421]+_0xa31ee1[0x1560+-0x2292+0xd32*0x1])*(-0x25cd*0x1+0xe01+-0x1*-0x17cc+0.5),(_0x8357df[-0x9*-0xe9+0x25a9+-0x2dd9]+_0xa31ee1[-0x31*0xb3+0x961*-0x1+0x2ba5])*(-0x75*0x4f+-0x1*0xad3+0x2eee+0.5),(_0x8357df[0x7b*0xd+0x26c4+-0x2d01*0x1]+_0xa31ee1[0x3e8+0x674+-0xa5a])*(-0x1*0x5a4+-0x25a+0x7fe+0.5)),new D((_0x8357df[0x2*-0x3d0+0x7b5+-0x15]-_0xa31ee1[-0x2*0x108d+-0xf2*-0x1c+0x6a2])*(-0x181d+-0x14c7+-0x2a4*-0x11+0.5),(_0x8357df[-0xf*0x41+-0x3*-0x35d+-0x1*0x647]-_0xa31ee1[0x22ba+0x1d*-0x7f+0x112*-0x13])*(-0x65*0x47+0x25d6+-0x9d3+0.5),(_0x8357df[-0x91+-0x1*0x64d+-0x5*-0x160]-_0xa31ee1[0x3*0x1eb+-0xe4*0x8+-0x161*-0x1])*(-0x1fe4*0x1+-0x1f*0x125+0x435f+0.5)));},T0=_0x14fdd3=>{if(!_0x14fdd3['hasOwnProp'+'erty']('mode'))return js;switch(_0x14fdd3['mode']){case 0x221b+0x1bb+0xb*-0x342:return cd;case 0x298+-0x45f*0x6+0x17a3:return hd;case 0x248c+-0x2341+0x7*-0x2f:return _y;case 0x17f*-0xd+-0x697+0x1a0d:return gy;case 0x1fcc+0x2*-0x6ca+-0x1234:return js;case 0x243c*-0x1+0x7*0x3aa+-0xf*-0xb5:return Er;case 0x7*-0x3d1+-0x1c1f+0x36dc:return oa;default:return js;}},QF=_0x19bf21=>{const _0x33b747=new Uint16Array(_0x19bf21);for(let _0x51f0e7=0x11b*0xf+0x1*0x2323+-0xcee*0x4;_0x51f0e7<_0x19bf21;_0x51f0e7++)_0x33b747[_0x51f0e7]=_0x51f0e7;return _0x33b747;},JF=(_0xa55624,_0x7c495d)=>{const _0x464c7e=_0xa55624[Me];if(!_0x464c7e||_0x464c7e['components']!==0x1291*-0x1+0xe4f+0x445)return;let _0x49ca7d;if(_0x464c7e['size']!==_0x464c7e['stride']){const _0x2dbd9d=_0x464c7e['stride']/No[_0x464c7e['type']],_0x1c5d3c=new wn[_0x464c7e['type']](_0x464c7e['buffer'],_0x464c7e['offset'],_0x464c7e['count']*_0x2dbd9d);_0x49ca7d=new wn[_0x464c7e['type']](_0x464c7e['count']*(0x719+0x1*-0xc8+-0x64e));for(let _0x3b4459=0xd4b*-0x2+-0x22e7+-0x3d7d*-0x1;_0x3b4459<_0x464c7e['count'];++_0x3b4459)_0x49ca7d[_0x3b4459*(-0x1*-0xb8c+-0x1f*-0x9+-0x328*0x4)+(0x928+-0x5*-0x4a3+-0x2057)]=_0x1c5d3c[_0x3b4459*_0x2dbd9d+(0x4a6+0x6cf+-0x1*0xb75)],_0x49ca7d[_0x3b4459*(-0x1a75*-0x1+-0x1*-0x112f+-0x1*0x2ba1)+(-0x1eb2+0xb91+0x1322)]=_0x1c5d3c[_0x3b4459*_0x2dbd9d+(-0x55c+-0x503*-0x1+0x5a)],_0x49ca7d[_0x3b4459*(0xf2+-0x416*-0x4+-0x1147)+(-0xa*-0x67+0x1169+0x449*-0x5)]=_0x1c5d3c[_0x3b4459*_0x2dbd9d+(0x87d+0x1e73+-0x26ee)];}else _0x49ca7d=new wn[_0x464c7e['type']](_0x464c7e['buffer'],_0x464c7e['offset'],_0x464c7e['count']*(0x58a*0x7+0xff+-0x27c2));const _0x346d15=_0x464c7e['count'];_0x7c495d||(_0x7c495d=QF(_0x346d15));const _0xc709c0=Iv(_0x49ca7d,_0x7c495d),_0x566059=new Float32Array(_0xc709c0['length']);_0x566059['set'](_0xc709c0),_0xa55624[gs]={'buffer':_0x566059['buffer'],'size':0xc,'offset':0x0,'stride':0xc,'count':_0x346d15,'components':0x3,'type':Ve};},eN=_0x3883b4=>{const _0x592f53=_0x31310e=>{const _0x4dfc7f=[];for(let _0x2c46e2=0x1*0x1366+0x2293*-0x1+0x25*0x69;_0x2c46e2<_0x31310e['_levels']['length'];++_0x2c46e2){let _0xd18ddc=[];if(_0x31310e['cubemap']){for(let _0x5a04fd=-0x295*-0x7+-0x1*-0x25f9+-0x380c;_0x5a04fd<-0x189d+0x19db*0x1+-0x138;++_0x5a04fd)_0xd18ddc['push'](_0x31310e['_levels'][_0x2c46e2][_0x5a04fd]);}else _0xd18ddc=_0x31310e['_levels'][_0x2c46e2];_0x4dfc7f['push'](_0xd18ddc);}return _0x4dfc7f;},_0x8f03d4=new _e(_0x3883b4['device'],_0x3883b4);return _0x8f03d4['_levels']=_0x592f53(_0x3883b4),_0x8f03d4;},tN=_0xaba33=>{const _0x13a4a2=new pe(_0xaba33['name']+'_clone',_0xaba33['type'],_0xaba33['file'],_0xaba33['data'],_0xaba33['options']);return _0x13a4a2['loaded']=!(-0x3b9+-0x3f8+0x7b1),_0x13a4a2['resource']=eN(_0xaba33['resource']),_0xaba33['registry']['add'](_0x13a4a2),_0x13a4a2;},sN=(_0x5d683b,_0x133c2d)=>{const _0x2c4048=_0x133c2d[Me];if(!_0x2c4048)return null;const _0xb9566d=_0x2c4048['count'],_0x77b4fd=[];for(const _0x4e0ee5 in _0x133c2d)if(_0x133c2d['hasOwnProp'+'erty'](_0x4e0ee5)){const _0x1ae37b={'semantic':_0x4e0ee5,'components':_0x133c2d[_0x4e0ee5]['components'],'type':_0x133c2d[_0x4e0ee5]['type'],'normalize':!!_0x133c2d[_0x4e0ee5]['normalize']};kt['isElementV'+'alid'](_0x5d683b,_0x1ae37b)||_0x1ae37b['components']++,_0x77b4fd['push'](_0x1ae37b);}_0x77b4fd['sort']((_0x26880a,_0x51dcd4)=>SS[_0x26880a['semantic']]-SS[_0x51dcd4['semantic']]);let _0x1af025,_0x48417b,_0x55c0f8,_0x1e59ed,_0x2ce6b1,_0x41fc3c;const _0x3ea4c5=new kt(_0x5d683b,_0x77b4fd);let _0x155f27=!(-0x1d0b*0x1+0x7c9*-0x2+-0x1b*-0x1a7);for(_0x1af025=0x9d9*-0x2+-0x1*0x1ff3+0x33a5;_0x1af025<_0x3ea4c5['elements']['length'];++_0x1af025)if(_0x2ce6b1=_0x3ea4c5['elements'][_0x1af025],_0x1e59ed=_0x133c2d[_0x2ce6b1['name']],_0x41fc3c=_0x1e59ed['offset']-_0x2c4048['offset'],_0x1e59ed['buffer']!==_0x2c4048['buffer']||_0x1e59ed['stride']!==_0x2ce6b1['stride']||_0x1e59ed['size']!==_0x2ce6b1['size']||_0x41fc3c!==_0x2ce6b1['offset']){_0x155f27=!(-0x651*0x1+-0x16cd+0x1d1f);break;}const _0x177809=new Is(_0x5d683b,_0x3ea4c5,_0xb9566d),_0x5169db=_0x177809['lock'](),_0x2dd0d4=new Uint32Array(_0x5169db);let _0x2dc56a;if(_0x155f27)_0x2dc56a=new Uint32Array(_0x2c4048['buffer'],_0x2c4048['offset'],_0xb9566d*_0x177809['format']['size']/(-0x1d*-0x49+-0x1a94+0x1253)),_0x2dd0d4['set'](_0x2dc56a);else{let _0x2d6247,_0x554ba5;for(_0x1af025=0x258e+0x12b*-0x1+-0x2463;_0x1af025<_0x177809['format']['elements']['length'];++_0x1af025){_0x2ce6b1=_0x177809['format']['elements'][_0x1af025],_0x2d6247=_0x2ce6b1['stride']/(0x4c7*0x6+0x1*0x653+0x22f9*-0x1),_0x1e59ed=_0x133c2d[_0x2ce6b1['name']],_0x554ba5=_0x1e59ed['stride']/(0x607*0x6+0x259d+-0x17*0x335),_0x2dc56a=new Uint32Array(_0x1e59ed['buffer'],_0x1e59ed['offset'],(_0x1e59ed['count']-(-0x1*0x24c4+0xfb2+-0x437*-0x5))*_0x554ba5+(_0x1e59ed['size']+(0x152d+-0x3a*-0x89+-0x3434))/(0x89*0x1d+0x1d61+0xef6*-0x3));let _0x54a044=-0x1*-0x70b+0x480+-0xb8b,_0x75569d=_0x2ce6b1['offset']/(0xaa0+0x64*-0x3d+-0x8d*-0x18);const _0x2f384a=Math['floor']((_0x1e59ed['size']+(-0x2354+-0x3*0x614+0x3593))/(-0x511*-0x3+0x1d80+0x29*-0x117));for(_0x48417b=-0x2508+-0x1189+0x3691;_0x48417b<_0xb9566d;++_0x48417b){for(_0x55c0f8=0x117d*-0x1+0xb*-0x22b+0x2*0x14ab;_0x55c0f8<_0x2f384a;++_0x55c0f8)_0x2dd0d4[_0x75569d+_0x55c0f8]=_0x2dc56a[_0x54a044+_0x55c0f8];_0x54a044+=_0x554ba5,_0x75569d+=_0x2d6247;}}}return _0x177809['unlock'](),_0x177809;},iN=(_0xbdeb2a,_0x4e7094,_0x2a5501,_0xd2b3b4,_0x15c04c,_0x538e3a)=>{const _0x3c72a2={},_0x5d33d9=[];for(const _0x3deb2d in _0x4e7094)_0x4e7094['hasOwnProp'+'erty'](_0x3deb2d)&&Nh['hasOwnProp'+'erty'](_0x3deb2d)&&(_0x3c72a2[_0x3deb2d]=_0x4e7094[_0x3deb2d],_0x5d33d9['push'](_0x3deb2d+':'+_0x4e7094[_0x3deb2d]));_0x5d33d9['sort']();const _0x43d788=_0x5d33d9['join']();let _0x54dcaa=_0x538e3a[_0x43d788];if(!_0x54dcaa){const _0x856fb8={};for(const _0x47bdd7 in _0x3c72a2){const _0x299fa6=_0xd2b3b4[_0x4e7094[_0x47bdd7]],_0x3d9fe7=ua(_0x299fa6,_0x15c04c),_0x13b990=_0x15c04c[_0x299fa6['bufferView']],_0x5405a2=Nh[_0x47bdd7],_0x490e3c=yl(_0x299fa6['type'])*YF(_0x299fa6['componentT'+'ype']),_0x430739=_0x13b990&&_0x13b990['hasOwnProp'+'erty']('byteStride')?_0x13b990['byteStride']:_0x490e3c;_0x856fb8[_0x5405a2]={'buffer':_0x3d9fe7['buffer'],'size':_0x490e3c,'offset':_0x3d9fe7['byteOffset'],'stride':_0x430739,'count':_0x299fa6['count'],'components':yl(_0x299fa6['type']),'type':Dd(_0x299fa6['componentT'+'ype']),'normalize':_0x299fa6['normalized']};}_0x856fb8['hasOwnProp'+'erty'](gs)||JF(_0x856fb8,_0x2a5501),_0x54dcaa=sN(_0xbdeb2a,_0x856fb8),_0x538e3a[_0x43d788]=_0x54dcaa;}return _0x54dcaa;},rN=(_0x4f44eb,_0x26b278,_0x4f9e23,_0x7156df,_0x457f38,_0x563db5)=>{let _0x37f5a2,_0x250692,_0x3a2a8a;const _0x23e6c1=_0x26b278['joints'],_0x5dde49=_0x23e6c1['length'],_0x591fa0=[];if(_0x26b278['hasOwnProp'+'erty']('inverseBin'+'dMatrices')){const _0x55f2a2=_0x26b278['inverseBin'+'dMatrices'],_0x4fdc5f=ua(_0x4f9e23[_0x55f2a2],_0x7156df,!(-0xeb7+-0x1f9+-0x2*-0x858)),_0x282ecc=[];for(_0x37f5a2=-0x1b1a+0xd*-0x1f7+0x34a5;_0x37f5a2<_0x5dde49;_0x37f5a2++){for(_0x250692=0x177f+0x16a1+-0x2e20;_0x250692<-0x2*0xa0f+-0x147f+-0x9*-0x485;_0x250692++)_0x282ecc[_0x250692]=_0x4fdc5f[_0x37f5a2*(0x1419+-0xe5b+-0x2*0x2d7)+_0x250692];_0x3a2a8a=new te(),_0x3a2a8a['set'](_0x282ecc),_0x591fa0['push'](_0x3a2a8a);}}else{for(_0x37f5a2=-0x145a+-0x1023+0x247d;_0x37f5a2<_0x5dde49;_0x37f5a2++)_0x3a2a8a=new te(),_0x591fa0['push'](_0x3a2a8a);}const _0x5edc43=[];for(_0x37f5a2=0x6*0x34a+-0x6b*0x2f+-0x17;_0x37f5a2<_0x5dde49;_0x37f5a2++)_0x5edc43[_0x37f5a2]=_0x457f38[_0x23e6c1[_0x37f5a2]]['name'];const _0x599721=_0x5edc43['join']('#');let _0x1517f9=_0x563db5['get'](_0x599721);return _0x1517f9||(_0x1517f9=new Lv(_0x4f44eb,_0x591fa0,_0x5edc43),_0x563db5['set'](_0x599721,_0x1517f9)),_0x1517f9;},aN=(_0x44b69e,_0x2e0df3,_0x30172d,_0x10728f,_0xfd2379,_0x2f96b1,_0xad636e)=>{var _0x233b89;const _0x360be6=new Ge(_0x44b69e);_0x360be6['aabb']=Hu(_0x30172d[_0x2e0df3['attributes']['POSITION']]);const _0x538a9f=[];for(const [_0x3f3da2,_0x3b5c93]of Object['entries'](_0x2e0df3['attributes'])){const _0x21e363=_0x30172d[_0x3b5c93],_0x4e3458=Nh[_0x3f3da2],_0x29ea29=Dd(_0x21e363['componentT'+'ype']);_0x538a9f['push']({'semantic':_0x4e3458,'components':yl(_0x21e363['type']),'type':_0x29ea29,'normalize':_0x21e363['normalized']??(_0x4e3458===Wt&&(_0x29ea29===la||_0x29ea29===Ml))});}if(_0xad636e['push'](new Promise((_0x4dadf5,_0x360196)=>{const _0x241332=_0x2e0df3['extensions']['KHR_draco_'+'mesh_compr'+'ession'];XF(_0x10728f[_0x241332['bufferView']]['slice']()['buffer'],(_0x443928,_0x4c6f46)=>{var _0x3410ad;if(_0x443928)console['log'](_0x443928),_0x360196(_0x443928);else{const _0x104e08={};for(const [_0x13cac0,_0x4ee1f4]of Object['entries'](_0x241332['attributes']))_0x104e08[Nh[_0x13cac0]]=_0x4c6f46['attributes']['indexOf'](_0x4ee1f4);_0x538a9f['sort']((_0x54311e,_0x16ff1c)=>_0x104e08[_0x54311e['semantic']]-_0x104e08[_0x16ff1c['semantic']]),(_0x3410ad=_0x2e0df3['attributes'])!=null&&_0x3410ad['NORMAL']||_0x538a9f['splice'](0x19e2+0x9a*0x37+0xbcb*-0x5,0xb9e+0x1933*0x1+-0x1d*0x145,{'semantic':'NORMAL','components':0x3,'type':Ve});const _0x55a43f=new kt(_0x44b69e,_0x538a9f),_0x4c42ce=_0x4c6f46['vertices']['byteLength']/_0x55a43f['size'],_0x4e45e7=_0x4c42ce<=-0x1f0b2+-0x42e5+0x33396?Yi:wr,_0x442ec8=_0x4c6f46['indices']['byteLength']/(_0x4c42ce<=0x97*0x171+0x36e9*0x1+-0x1*0x1091?-0x38b*0x3+0x13db+-0x938:0x122f+-0x12a8+0x7d);w['call'](()=>{_0x4c42ce!==_0x30172d[_0x2e0df3['attributes']['POSITION']]['count']&&w['warn']('mesh\x20has\x20i'+'nvalid\x20ver'+'tex\x20count'),_0x442ec8!==_0x30172d[_0x2e0df3['indices']]['count']&&w['warn']('mesh\x20has\x20i'+'nvalid\x20ind'+'ex\x20count');});const _0x57af9b=new Is(_0x44b69e,_0x55a43f,_0x4c42ce,{'data':_0x4c6f46['vertices']}),_0x2ff30f=new br(_0x44b69e,_0x4e45e7,_0x442ec8,ms,_0x4c6f46['indices']);_0x360be6['vertexBuff'+'er']=_0x57af9b,_0x360be6['indexBuffe'+'r'][-0x1b47+-0x1a8a*0x1+-0x257*-0x17]=_0x2ff30f,_0x360be6['primitive'][0x1a7*-0x3+0x2*-0x14b+0x78b]['type']=T0(_0x2e0df3),_0x360be6['primitive'][0x1c1*0x5+0xa93*-0x1+0xb*0x2a]['base']=0x1*-0x108d+0x3df+0xcae,_0x360be6['primitive'][0x1*-0x2c5+0xca+0x1fb]['count']=_0x2ff30f?_0x442ec8:_0x4c42ce,_0x360be6['primitive'][0x3*0x511+-0x21b4+0x1281]['indexed']=!!_0x2ff30f,_0x4dadf5();}});})),(_0x233b89=_0x2e0df3==null?void(-0x1b*0x16e+0xc3a+-0x1*-0x1a60):_0x2e0df3['extensions'])!=null&&_0x233b89['KHR_materi'+'als_varian'+'ts']){const _0x2aaa97=_0x2e0df3['extensions']['KHR_materi'+'als_varian'+'ts'],_0x13a891={};_0x2aaa97['mappings']['forEach'](_0x3552f4=>{_0x3552f4['variants']['forEach'](_0x103ba1=>{_0x13a891[_0x103ba1]=_0x3552f4['material'];});}),_0xfd2379[_0x360be6['id']]=_0x13a891;}return _0x2f96b1[_0x360be6['id']]=_0x2e0df3['material'],_0x360be6;},nN=(_0x434d44,_0x537c25,_0x44400e,_0x5bf6fd,_0x393607,_0x2186b0,_0x3cbea1,_0x5deb43,_0xbcea16)=>{const _0x41a522=[];return _0x537c25['primitives']['forEach'](_0x2a522a=>{var _0x17a44b;if((_0x17a44b=_0x2a522a['extensions'])!=null&&_0x17a44b['KHR_draco_'+'mesh_compr'+'ession'])_0x41a522['push'](aN(_0x434d44,_0x2a522a,_0x44400e,_0x5bf6fd,_0x2186b0,_0x3cbea1,_0xbcea16));else{let _0xb5a3bc=_0x2a522a['hasOwnProp'+'erty']('indices')?ua(_0x44400e[_0x2a522a['indices']],_0x5bf6fd,!(0x275+0xe*-0x2e+0xf)):null;const _0x15446f=iN(_0x434d44,_0x2a522a['attributes'],_0xb5a3bc,_0x44400e,_0x5bf6fd,_0x393607),_0x43d9c6=T0(_0x2a522a),_0x3065f4=new Ge(_0x434d44);if(_0x3065f4['vertexBuff'+'er']=_0x15446f,_0x3065f4['primitive'][-0xe66+-0x1*0x136d+0x21d3*0x1]['type']=_0x43d9c6,_0x3065f4['primitive'][0xf08+0x500+-0x1408]['base']=0x3*-0x2bb+0x7be+0x73,_0x3065f4['primitive'][0xa01+-0x8*-0x44f+-0x2c79]['indexed']=_0xb5a3bc!==null,_0xb5a3bc!==null){let _0x2ecdc5;_0xb5a3bc instanceof Uint8Array?_0x2ecdc5=$f:_0xb5a3bc instanceof Uint16Array?_0x2ecdc5=Yi:_0x2ecdc5=wr,_0x2ecdc5===$f&&_0x434d44['isWebGPU']&&(_0x2ecdc5=Yi,_0xb5a3bc=new Uint16Array(_0xb5a3bc));const _0x325a3=new br(_0x434d44,_0x2ecdc5,_0xb5a3bc['length'],ms,_0xb5a3bc);_0x3065f4['indexBuffe'+'r'][-0x2342+-0x49*-0x59+0x9e1]=_0x325a3,_0x3065f4['primitive'][0x107+0xb9c+0x1*-0xca3]['count']=_0xb5a3bc['length'];}else _0x3065f4['primitive'][0x5*0x3fd+0x1f0f*-0x1+-0x58f*-0x2]['count']=_0x15446f['numVertice'+'s'];if(_0x2a522a['hasOwnProp'+'erty']('extensions')&&_0x2a522a['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts')){const _0x5e301d=_0x2a522a['extensions']['KHR_materi'+'als_varian'+'ts'],_0x9e1f14={};_0x5e301d['mappings']['forEach'](_0x13b907=>{_0x13b907['variants']['forEach'](_0x4d30ce=>{_0x9e1f14[_0x4d30ce]=_0x13b907['material'];});}),_0x2186b0[_0x3065f4['id']]=_0x9e1f14;}_0x3cbea1[_0x3065f4['id']]=_0x2a522a['material'];let _0x524eca=_0x44400e[_0x2a522a['attributes']['POSITION']];if(_0x3065f4['aabb']=Hu(_0x524eca),_0x2a522a['hasOwnProp'+'erty']('targets')){const _0x4768dc=[];_0x2a522a['targets']['forEach']((_0x399a38,_0x1b97de)=>{const _0x392bd7={};_0x399a38['hasOwnProp'+'erty']('POSITION')&&(_0x524eca=_0x44400e[_0x399a38['POSITION']],_0x392bd7['deltaPosit'+'ions']=Pn(_0x524eca,_0x5bf6fd),_0x392bd7['aabb']=Hu(_0x524eca)),_0x399a38['hasOwnProp'+'erty']('NORMAL')&&(_0x524eca=_0x44400e[_0x399a38['NORMAL']],_0x392bd7['deltaNorma'+'ls']=Pn(_0x524eca,_0x5bf6fd)),_0x537c25['hasOwnProp'+'erty']('extras')&&_0x537c25['extras']['hasOwnProp'+'erty']('targetName'+'s')?_0x392bd7['name']=_0x537c25['extras']['targetName'+'s'][_0x1b97de]:_0x392bd7['name']=_0x1b97de['toString'](0x2551*0x1+0x1641+-0x3b88),_0x537c25['hasOwnProp'+'erty']('weights')&&(_0x392bd7['defaultWei'+'ght']=_0x537c25['weights'][_0x1b97de]),_0x392bd7['preserveDa'+'ta']=_0x5deb43['morphPrese'+'rveData'],_0x4768dc['push'](new Md(_0x392bd7));}),_0x3065f4['morph']=new mm(_0x4768dc,_0x434d44,{'preferHighPrecision':_0x5deb43['morphPrefe'+'rHighPreci'+'sion']});}_0x41a522['push'](_0x3065f4);}}),_0x41a522;},Dt=(_0x23c730,_0x284098,_0x6d3dc8)=>{var _0x47f4f3;let _0x6cb885;const _0x16cba2=_0x23c730['texCoord'];if(_0x16cba2){for(_0x6cb885=0x20e7*-0x1+-0xd93+-0x7bf*-0x6;_0x6cb885<_0x6d3dc8['length'];++_0x6cb885)_0x284098[_0x6d3dc8[_0x6cb885]+'MapUv']=_0x16cba2;}const _0x5c5494=[-0xddf+0x1*-0x226f+0x304e,0x1*-0x36d+0x460+-0xf3],_0xf69766=[-0x2cd*-0x3+0x4*0x674+0x1*-0x2236,-0xab5+-0x72f+0x11e5*0x1],_0x34a946=(_0x47f4f3=_0x23c730['extensions'])==null?void(-0x1*-0x2572+0x2279+-0x47eb):_0x47f4f3['KHR_textur'+'e_transfor'+'m'];if(_0x34a946){const _0x211f3a=_0x34a946['offset']||_0x5c5494,_0x51eef1=_0x34a946['scale']||_0xf69766,_0x500332=_0x34a946['rotation']?-_0x34a946['rotation']*Y['RAD_TO_DEG']:-0xca*-0x5+-0xbd2*-0x2+-0x21*0xd6,_0x5d9bd5=new J(_0x51eef1[0x1e45+-0x16d1+-0x774],_0x51eef1[0xcb9*-0x2+-0x97*0x13+0x24a8]),_0x559f0d=new J(_0x211f3a[-0x191+0x71e+-0x31*0x1d],-0x1*-0x1df+-0x20bc+0x1ede-_0x51eef1[0x1*-0x5ee+0x16*-0xa3+0x13f1*0x1]-_0x211f3a[-0x97d+-0x155f+0x1edd]);for(_0x6cb885=0x2f*0x21+-0x13af*-0x1+-0x19be;_0x6cb885<_0x6d3dc8['length'];++_0x6cb885)_0x284098[_0x6d3dc8[_0x6cb885]+'MapTiling']=_0x5d9bd5,_0x284098[_0x6d3dc8[_0x6cb885]+'MapOffset']=_0x559f0d,_0x284098[_0x6d3dc8[_0x6cb885]+('MapRotatio'+'n')]=_0x500332;}},oN=(_0x1e7b77,_0x4c1d79,_0x1b9e93)=>{let _0x326823,_0x54dd67;if(_0x1e7b77['hasOwnProp'+'erty']('diffuseFac'+'tor')?(_0x326823=_0x1e7b77['diffuseFac'+'tor'],_0x4c1d79['diffuse']['set'](Math['pow'](_0x326823[0x12*0x223+-0x138d+-0x67*0x2f],(0x8d2*-0x2+-0x1*0x268f+-0x51c*-0xb)/(0x1ab5+-0x236a+-0x17*-0x61+0.20000000000000018)),Math['pow'](_0x326823[0x403*0x1+-0x723+-0x1*-0x321],(-0x2027+0xcdd+-0xb*-0x1c1)/(0x1c76+-0x1a2e+-0x6*0x61+0.20000000000000018)),Math['pow'](_0x326823[0x261b+0x3cb*-0x5+-0x1322],(-0x153*-0x2+-0x3d5+0x26*0x8)/(-0x96a*0x2+-0x6e*-0x3+-0x4*-0x463+0.20000000000000018))),_0x4c1d79['opacity']=_0x326823[0x1bb7+-0x18e2+-0x2d2]):(_0x4c1d79['diffuse']['set'](-0x2268+-0x1a4f*0x1+-0xe8*-0x43,0x1809+0x142*0x17+-0x34f6,0xea0+-0x2000+0x1161),_0x4c1d79['opacity']=0x19ab+-0x1*0x17f3+-0x1b7),_0x1e7b77['hasOwnProp'+'erty']('diffuseTex'+'ture')){const _0x385d54=_0x1e7b77['diffuseTex'+'ture'];_0x54dd67=_0x1b9e93[_0x385d54['index']],_0x4c1d79['diffuseMap']=_0x54dd67,_0x4c1d79['diffuseMap'+'Channel']='rgb',_0x4c1d79['opacityMap']=_0x54dd67,_0x4c1d79['opacityMap'+'Channel']='a',Dt(_0x385d54,_0x4c1d79,['diffuse','opacity']);}if(_0x4c1d79['useMetalne'+'ss']=!(0x1ddf*-0x1+-0x110c+-0x2c*-0x111),_0x1e7b77['hasOwnProp'+'erty']('specularFa'+'ctor')?(_0x326823=_0x1e7b77['specularFa'+'ctor'],_0x4c1d79['specular']['set'](Math['pow'](_0x326823[0x819*-0x1+-0x85e*0x1+0x1077*0x1],(-0x1b5a+0x2*-0x12b5+-0x1*-0x40c5)/(-0x1967+-0xb*-0x209+0x306+0.20000000000000018)),Math['pow'](_0x326823[0x46d*-0x7+0x15b*-0x13+0x38bd],(0x469+-0x34b+-0x11d)/(-0x1*0xe45+-0x15cf+-0x12a*-0x1f+0.20000000000000018)),Math['pow'](_0x326823[-0x85*0x1a+-0xa8*-0x1f+-0x26*0x2e],(-0x1d64+-0xd41+0x2aa6)/(0x52*0x49+-0x16f*0xd+-0x4bd*0x1+0.20000000000000018)))):_0x4c1d79['specular']['set'](0x1ce1*-0x1+-0x1*0xbe1+0x1*0x28c3,-0x19f9+0x5*0x2fa+-0x4*-0x2c6,0x10fb+-0xd*-0x1a+-0x124c),_0x1e7b77['hasOwnProp'+'erty']('glossiness'+'Factor')?_0x4c1d79['gloss']=_0x1e7b77['glossiness'+'Factor']:_0x4c1d79['gloss']=-0xf2f+-0xd*-0x22d+-0xd19*0x1,_0x1e7b77['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x1aa193=_0x1e7b77['specularGl'+'ossinessTe'+'xture'];_0x4c1d79['specularMa'+'p']=_0x4c1d79['glossMap']=_0x1b9e93[_0x1aa193['index']],_0x4c1d79['specularMa'+'pChannel']='rgb',_0x4c1d79['glossMapCh'+'annel']='a',Dt(_0x1aa193,_0x4c1d79,['gloss','metalness']);}},lN=(_0x5ad614,_0x57b0f6,_0x5f3818)=>{if(_0x5ad614['hasOwnProp'+'erty']('clearcoatF'+'actor')?_0x57b0f6['clearCoat']=_0x5ad614['clearcoatF'+'actor']*(-0x567+0x149a+-0xf33+0.25):_0x57b0f6['clearCoat']=-0x1*-0x154+0x136+-0x28a,_0x5ad614['hasOwnProp'+'erty']('clearcoatT'+'exture')){const _0xe582d0=_0x5ad614['clearcoatT'+'exture'];_0x57b0f6['clearCoatM'+'ap']=_0x5f3818[_0xe582d0['index']],_0x57b0f6['clearCoatM'+'apChannel']='r',Dt(_0xe582d0,_0x57b0f6,['clearCoat']);}if(_0x5ad614['hasOwnProp'+'erty']('clearcoatR'+'oughnessFa'+'ctor')?_0x57b0f6['clearCoatG'+'loss']=_0x5ad614['clearcoatR'+'oughnessFa'+'ctor']:_0x57b0f6['clearCoatG'+'loss']=-0xa6a+0xb67+-0xfd,_0x5ad614['hasOwnProp'+'erty']('clearcoatR'+'oughnessTe'+'xture')){const _0x1c829f=_0x5ad614['clearcoatR'+'oughnessTe'+'xture'];_0x57b0f6['clearCoatG'+'lossMap']=_0x5f3818[_0x1c829f['index']],_0x57b0f6['clearCoatG'+'lossMapCha'+'nnel']='g',Dt(_0x1c829f,_0x57b0f6,['clearCoatG'+'loss']);}if(_0x5ad614['hasOwnProp'+'erty']('clearcoatN'+'ormalTextu'+'re')){const _0xe2ca5a=_0x5ad614['clearcoatN'+'ormalTextu'+'re'];_0x57b0f6['clearCoatN'+'ormalMap']=_0x5f3818[_0xe2ca5a['index']],Dt(_0xe2ca5a,_0x57b0f6,['clearCoatN'+'ormal']),_0xe2ca5a['hasOwnProp'+'erty']('scale')?_0x57b0f6['clearCoatB'+'umpiness']=_0xe2ca5a['scale']:_0x57b0f6['clearCoatB'+'umpiness']=0x64f+-0x1*-0x1846+-0x1e94;}_0x57b0f6['clearCoatG'+'lossInvert']=!(-0x1956+0x1e67+-0x1*0x511);},cN=(_0x37189f,_0x139873,_0x31f22e)=>{_0x139873['useLightin'+'g']=!(0x56f*-0x3+-0x10e+0xb*0x194),_0x139873['emissive']['copy'](_0x139873['diffuse']),_0x139873['emissiveMa'+'p']=_0x139873['diffuseMap'],_0x139873['emissiveMa'+'pUv']=_0x139873['diffuseMap'+'Uv'],_0x139873['emissiveMa'+'pTiling']['copy'](_0x139873['diffuseMap'+'Tiling']),_0x139873['emissiveMa'+'pOffset']['copy'](_0x139873['diffuseMap'+'Offset']),_0x139873['emissiveMa'+'pRotation']=_0x139873['diffuseMap'+'Rotation'],_0x139873['emissiveMa'+'pChannel']=_0x139873['diffuseMap'+'Channel'],_0x139873['emissiveVe'+'rtexColor']=_0x139873['diffuseVer'+'texColor'],_0x139873['emissiveVe'+'rtexColorC'+'hannel']=_0x139873['diffuseVer'+'texColorCh'+'annel'],_0x139873['useLightin'+'g']=!(0x21a9*0x1+0x38*0xa1+-0x44e0),_0x139873['useSkybox']=!(-0x1*-0x783+0x1e8f+0x79d*-0x5),_0x139873['diffuse']['set'](-0xf54+-0x7f3*-0x4+-0x1077,-0x22a4+0x195a+0x94b,-0x105e+-0x1c12+-0x1*-0x2c71),_0x139873['diffuseMap']=null,_0x139873['diffuseVer'+'texColor']=!(-0x2*0x9c7+-0x25*0xa7+0x2bb2*0x1);},hN=(_0x10e090,_0x520ce7,_0x6fc6f6)=>{if(_0x520ce7['useMetalne'+'ssSpecular'+'Color']=!(0x2fd*-0xa+0xe*0x2c8+-0x13*0x7a),_0x10e090['hasOwnProp'+'erty']('specularCo'+'lorTexture')&&(_0x520ce7['specularMa'+'p']=_0x6fc6f6[_0x10e090['specularCo'+'lorTexture']['index']],_0x520ce7['specularMa'+'pChannel']='rgb',Dt(_0x10e090['specularCo'+'lorTexture'],_0x520ce7,['specular'])),_0x10e090['hasOwnProp'+'erty']('specularCo'+'lorFactor')){const _0xd58771=_0x10e090['specularCo'+'lorFactor'];_0x520ce7['specular']['set'](Math['pow'](_0xd58771[0x2527*0x1+-0x1*0x5c6+-0x1*0x1f61],(0x1a22+-0xa55*0x2+0x577*-0x1)/(-0xbef+-0xb45*0x3+0x2dc0+0.20000000000000018)),Math['pow'](_0xd58771[-0x1f11+-0x496*-0x3+0x1150],(-0x1670+-0xb32+0x6d*0x4f)/(0x15bb+-0x1f7d+0x9c4+0.20000000000000018)),Math['pow'](_0xd58771[-0x45*-0x6b+0x43*0x8b+-0x4136],(-0x11c5+0x2063+-0xe9d)/(-0x1edd+0x147b+0xa64+0.20000000000000018)));}else _0x520ce7['specular']['set'](-0x1e17+0xba*-0x2e+0xc*0x54b,-0xf5*-0x9+0x2009*-0x1+-0x7cf*-0x3,0x1af9+0x2521*0x1+-0x3d*0x10d);_0x10e090['hasOwnProp'+'erty']('specularFa'+'ctor')?_0x520ce7['specularit'+'yFactor']=_0x10e090['specularFa'+'ctor']:_0x520ce7['specularit'+'yFactor']=0x459+-0x8b7*-0x2+0x6*-0x3a1,_0x10e090['hasOwnProp'+'erty']('specularTe'+'xture')&&(_0x520ce7['specularit'+'yFactorMap'+'Channel']='a',_0x520ce7['specularit'+'yFactorMap']=_0x6fc6f6[_0x10e090['specularTe'+'xture']['index']],Dt(_0x10e090['specularTe'+'xture'],_0x520ce7,['specularit'+'yFactor']));},dN=(_0x15f0ca,_0x43c9a9,_0x7fb2e0)=>{_0x15f0ca['hasOwnProp'+'erty']('ior')&&(_0x43c9a9['refraction'+'Index']=(-0x2f6*-0xb+0x16af*-0x1+-0x9e2)/_0x15f0ca['ior']);},fN=(_0x207db8,_0x3f8d20,_0x2cbe5a)=>{_0x207db8['hasOwnProp'+'erty']('dispersion')&&(_0x3f8d20['dispersion']=_0x207db8['dispersion']);},uN=(_0x162c47,_0x78ee9c,_0x6691ea)=>{_0x78ee9c['blendType']=Zs,_0x78ee9c['useDynamic'+'Refraction']=!(0x669+0x133b*0x1+-0x19a4),_0x162c47['hasOwnProp'+'erty']('transmissi'+'onFactor')&&(_0x78ee9c['refraction']=_0x162c47['transmissi'+'onFactor']),_0x162c47['hasOwnProp'+'erty']('transmissi'+'onTexture')&&(_0x78ee9c['refraction'+'MapChannel']='r',_0x78ee9c['refraction'+'Map']=_0x6691ea[_0x162c47['transmissi'+'onTexture']['index']],Dt(_0x162c47['transmissi'+'onTexture'],_0x78ee9c,['refraction']));},pN=(_0x2d0df5,_0x24509e,_0x3149d6)=>{if(_0x24509e['useSheen']=!(0x112c+0x1ba7+-0x2cd3),_0x2d0df5['hasOwnProp'+'erty']('sheenColor'+'Factor')){const _0x37f9f7=_0x2d0df5['sheenColor'+'Factor'];_0x24509e['sheen']['set'](Math['pow'](_0x37f9f7[0x3*-0x6c3+-0x1*-0x1d6a+-0x921],(0x2001+0x1*0x2671+-0x1*0x4671)/(0x7*0x471+0x5*-0x5b9+-0x13c*0x2+0.20000000000000018)),Math['pow'](_0x37f9f7[-0x2eb*0x1+0x1149+-0x1*0xe5d],(-0x2507*-0x1+0x141c+-0x3922)/(0x1c99+0x1f76+-0x3c0d+0.20000000000000018)),Math['pow'](_0x37f9f7[0x17bc+0x8*0x2a5+-0x2*0x1671],(-0x22c3+0x14e8+-0x6ee*-0x2)/(-0xb6b*-0x2+0x21*0x6+-0x35*0x72+0.20000000000000018)));}else _0x24509e['sheen']['set'](-0x1f4f+0x11ae+0xda2,0x1223*-0x1+0x19e+0x1086,-0x85*-0xb+0x288*0x5+-0x125e);_0x2d0df5['hasOwnProp'+'erty']('sheenColor'+'Texture')&&(_0x24509e['sheenMap']=_0x3149d6[_0x2d0df5['sheenColor'+'Texture']['index']],Dt(_0x2d0df5['sheenColor'+'Texture'],_0x24509e,['sheen'])),_0x24509e['sheenGloss']=_0x2d0df5['hasOwnProp'+'erty']('sheenRough'+'nessFactor')?_0x2d0df5['sheenRough'+'nessFactor']:0x1886+-0x203b+0x1*0x7b5,_0x2d0df5['hasOwnProp'+'erty']('sheenRough'+'nessTextur'+'e')&&(_0x24509e['sheenGloss'+'Map']=_0x3149d6[_0x2d0df5['sheenRough'+'nessTextur'+'e']['index']],_0x24509e['sheenGloss'+'MapChannel']='a',Dt(_0x2d0df5['sheenRough'+'nessTextur'+'e'],_0x24509e,['sheenGloss'])),_0x24509e['sheenGloss'+'Invert']=!(0x2322+0x2568+-0x488a);},mN=(_0x4ed080,_0x22ebd4,_0x20cf1a)=>{if(_0x22ebd4['blendType']=Zs,_0x22ebd4['useDynamic'+'Refraction']=!(0x3fc+-0x1018+0xc1c),_0x4ed080['hasOwnProp'+'erty']('thicknessF'+'actor')&&(_0x22ebd4['thickness']=_0x4ed080['thicknessF'+'actor']),_0x4ed080['hasOwnProp'+'erty']('thicknessT'+'exture')&&(_0x22ebd4['thicknessM'+'ap']=_0x20cf1a[_0x4ed080['thicknessT'+'exture']['index']],_0x22ebd4['thicknessM'+'apChannel']='g',Dt(_0x4ed080['thicknessT'+'exture'],_0x22ebd4,['thickness'])),_0x4ed080['hasOwnProp'+'erty']('attenuatio'+'nDistance')&&(_0x22ebd4['attenuatio'+'nDistance']=_0x4ed080['attenuatio'+'nDistance']),_0x4ed080['hasOwnProp'+'erty']('attenuatio'+'nColor')){const _0x22e9b9=_0x4ed080['attenuatio'+'nColor'];_0x22ebd4['attenuatio'+'n']['set'](Math['pow'](_0x22e9b9[0xfac+0x21c6+0x18b9*-0x2],(-0x51f+-0x4c*-0x26+-0x628)/(0x25e*0xc+0xb0d+-0x2773*0x1+0.20000000000000018)),Math['pow'](_0x22e9b9[0x6*-0xdf+-0x2*0x41d+0xd75],(0xad5*0x2+0x65*0x3b+0x2*-0x1678)/(0x15b*-0x3+0x2171+0x9ca*-0x3+0.20000000000000018)),Math['pow'](_0x22e9b9[-0x141d+-0x3*-0x376+0x9bd],(-0x1087*-0x2+-0x20*-0x82+0x106f*-0x3)/(0xa1b*-0x2+0x1a27+-0x5ef+0.20000000000000018)));}},_N=(_0x32147e,_0x2690ff,_0x37ee3e)=>{_0x32147e['hasOwnProp'+'erty']('emissiveSt'+'rength')&&(_0x2690ff['emissiveIn'+'tensity']=_0x32147e['emissiveSt'+'rength']);},gN=(_0x5cc67b,_0x47d5c0,_0xf0745e)=>{_0x47d5c0['useIridesc'+'ence']=!(0x7*-0x219+0x89*-0x3d+0x2f54),_0x5cc67b['hasOwnProp'+'erty']('iridescenc'+'eFactor')&&(_0x47d5c0['iridescenc'+'e']=_0x5cc67b['iridescenc'+'eFactor']),_0x5cc67b['hasOwnProp'+'erty']('iridescenc'+'eTexture')&&(_0x47d5c0['iridescenc'+'eMapChanne'+'l']='r',_0x47d5c0['iridescenc'+'eMap']=_0xf0745e[_0x5cc67b['iridescenc'+'eTexture']['index']],Dt(_0x5cc67b['iridescenc'+'eTexture'],_0x47d5c0,['iridescenc'+'e'])),_0x5cc67b['hasOwnProp'+'erty']('iridescenc'+'eIor')&&(_0x47d5c0['iridescenc'+'eRefractio'+'nIndex']=_0x5cc67b['iridescenc'+'eIor']),_0x5cc67b['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Minimum')&&(_0x47d5c0['iridescenc'+'eThickness'+'Min']=_0x5cc67b['iridescenc'+'eThickness'+'Minimum']),_0x5cc67b['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Maximum')&&(_0x47d5c0['iridescenc'+'eThickness'+'Max']=_0x5cc67b['iridescenc'+'eThickness'+'Maximum']),_0x5cc67b['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Texture')&&(_0x47d5c0['iridescenc'+'eThickness'+'MapChannel']='g',_0x47d5c0['iridescenc'+'eThickness'+'Map']=_0xf0745e[_0x5cc67b['iridescenc'+'eThickness'+'Texture']['index']],Dt(_0x5cc67b['iridescenc'+'eThickness'+'Texture'],_0x47d5c0,['iridescenc'+'eThickness']));},SN=(_0x12184f,_0x567e55,_0x3d9445)=>{if(_0x567e55['enableGGXS'+'pecular']=!(-0x2527+-0x1b1e+0x4045),_0x12184f['hasOwnProp'+'erty']('anisotropy'+'Strength')?_0x567e55['anisotropy'+'Intensity']=_0x12184f['anisotropy'+'Strength']:_0x567e55['anisotropy'+'Intensity']=0x262f+-0x1f1+-0x243e,_0x12184f['hasOwnProp'+'erty']('anisotropy'+'Texture')){const _0x3b1bb9=_0x12184f['anisotropy'+'Texture'];_0x567e55['anisotropy'+'Map']=_0x3d9445[_0x3b1bb9['index']],Dt(_0x3b1bb9,_0x567e55,['anisotropy']);}_0x12184f['hasOwnProp'+'erty']('anisotropy'+'Rotation')?_0x567e55['anisotropy'+'Rotation']=_0x12184f['anisotropy'+'Rotation']*Y['RAD_TO_DEG']:_0x567e55['anisotropy'+'Rotation']=0x145a+0x2079+-0x34d3;},w0=(_0xa8d85a,_0x1e64b9)=>{const _0xe6601b=new Ut();_0xa8d85a['hasOwnProp'+'erty']('name')&&(_0xe6601b['name']=_0xa8d85a['name']),_0xe6601b['occludeSpe'+'cular']=bd,_0xe6601b['diffuseVer'+'texColor']=!(0x1*0x245d+-0x8de+-0x1b7f),_0xe6601b['specularTi'+'nt']=!(-0x1*0xdfd+-0x9a1+0x179e),_0xe6601b['specularVe'+'rtexColor']=!(0x9ad+-0xb*0xbf+-0x4*0x5e),_0xe6601b['specular']['set'](-0x16*0x1af+-0x7d2*-0x2+0x1567,-0x1b0e+-0x25*0x57+-0x6*-0x69b,0x2311+0x4b*-0x17+-0x1c53),_0xe6601b['gloss']=0x424*0x2+-0xb*0x2f1+-0x1*-0x1814,_0xe6601b['glossInver'+'t']=!(-0x1b53*-0x1+0x1*-0x3b7+-0x179c),_0xe6601b['useMetalne'+'ss']=!(0x198+0x9e7+-0xb7f);let _0x17cff5,_0x5774f0;if(_0xa8d85a['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0xe91964=_0xa8d85a['pbrMetalli'+'cRoughness'];if(_0xe91964['hasOwnProp'+'erty']('baseColorF'+'actor')&&(_0x17cff5=_0xe91964['baseColorF'+'actor'],_0xe6601b['diffuse']['set'](Math['pow'](_0x17cff5[0x53*0x1f+0x4f*0x6d+-0x1*0x2bb0],(-0x1*-0x25bf+0x67d+-0xa9*0x43)/(-0x4ba+-0x6a*0x59+-0x2996*-0x1+0.20000000000000018)),Math['pow'](_0x17cff5[-0x1e22+0x185c+0x5c7],(0x3a*0x91+0xa*0x2a5+-0x3b4b)/(-0xfa*0x23+0x1*0x19fd+0x833+0.20000000000000018)),Math['pow'](_0x17cff5[0x626*0x2+0xe52*-0x1+0x208],(0x2f5*-0x9+-0x4bd*0x1+0x1*0x1f5b)/(0x3c5+0x3d*-0x2+-0x349*0x1+0.20000000000000018))),_0xe6601b['opacity']=_0x17cff5[0xca*-0xb+-0x1042*0x2+-0x89*-0x4d]),_0xe91964['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x2fe27b=_0xe91964['baseColorT'+'exture'];_0x5774f0=_0x1e64b9[_0x2fe27b['index']],_0xe6601b['diffuseMap']=_0x5774f0,_0xe6601b['diffuseMap'+'Channel']='rgb',_0xe6601b['opacityMap']=_0x5774f0,_0xe6601b['opacityMap'+'Channel']='a',Dt(_0x2fe27b,_0xe6601b,['diffuse','opacity']);}if(_0xe91964['hasOwnProp'+'erty']('metallicFa'+'ctor')&&(_0xe6601b['metalness']=_0xe91964['metallicFa'+'ctor']),_0xe91964['hasOwnProp'+'erty']('roughnessF'+'actor')&&(_0xe6601b['gloss']=_0xe91964['roughnessF'+'actor']),_0xe91964['hasOwnProp'+'erty']('metallicRo'+'ughnessTex'+'ture')){const _0x3a34aa=_0xe91964['metallicRo'+'ughnessTex'+'ture'];_0xe6601b['metalnessM'+'ap']=_0xe6601b['glossMap']=_0x1e64b9[_0x3a34aa['index']],_0xe6601b['metalnessM'+'apChannel']='b',_0xe6601b['glossMapCh'+'annel']='g',Dt(_0x3a34aa,_0xe6601b,['gloss','metalness']);}}if(_0xa8d85a['hasOwnProp'+'erty']('normalText'+'ure')){const _0x216d10=_0xa8d85a['normalText'+'ure'];_0xe6601b['normalMap']=_0x1e64b9[_0x216d10['index']],Dt(_0x216d10,_0xe6601b,['normal']),_0x216d10['hasOwnProp'+'erty']('scale')&&(_0xe6601b['bumpiness']=_0x216d10['scale']);}if(_0xa8d85a['hasOwnProp'+'erty']('occlusionT'+'exture')){const _0x2cc7e4=_0xa8d85a['occlusionT'+'exture'];_0xe6601b['aoMap']=_0x1e64b9[_0x2cc7e4['index']],_0xe6601b['aoMapChann'+'el']='r',Dt(_0x2cc7e4,_0xe6601b,['ao']);}if(_0xa8d85a['hasOwnProp'+'erty']('emissiveFa'+'ctor')&&(_0x17cff5=_0xa8d85a['emissiveFa'+'ctor'],_0xe6601b['emissive']['set'](Math['pow'](_0x17cff5[-0xb84+-0x3a1+0xf25],(0x1eac+-0x1452+-0xa59)/(-0x2*0x31f+0x576*0x5+0x46*-0x4d+0.20000000000000018)),Math['pow'](_0x17cff5[-0x21cb+-0x12c3+0x348f],(-0x140a+0x16c*-0x15+0x31e7)/(0x1*0x1886+0x159*-0x3+-0x1479*0x1+0.20000000000000018)),Math['pow'](_0x17cff5[0x22c7+0x22de+-0x45a3],(0x7fd*-0x4+-0x375+-0xbce*-0x3)/(0x817+-0x4*-0x7c+-0xa05+0.20000000000000018)))),_0xa8d85a['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x4f78bb=_0xa8d85a['emissiveTe'+'xture'];_0xe6601b['emissiveMa'+'p']=_0x1e64b9[_0x4f78bb['index']],Dt(_0x4f78bb,_0xe6601b,['emissive']);}if(_0xa8d85a['hasOwnProp'+'erty']('alphaMode'))switch(_0xa8d85a['alphaMode']){case'MASK':_0xe6601b['blendType']=Cs,_0xa8d85a['hasOwnProp'+'erty']('alphaCutof'+'f')?_0xe6601b['alphaTest']=_0xa8d85a['alphaCutof'+'f']:_0xe6601b['alphaTest']=0x23cf*-0x1+0x20a5+0x32a+0.5;break;case'BLEND':_0xe6601b['blendType']=Zs,_0xe6601b['depthWrite']=!(0x81c+0xf48+-0x1763*0x1);break;default:case'OPAQUE':_0xe6601b['blendType']=Cs;break;}else _0xe6601b['blendType']=Cs;_0xa8d85a['hasOwnProp'+'erty']('doubleSide'+'d')?(_0xe6601b['twoSidedLi'+'ghting']=_0xa8d85a['doubleSide'+'d'],_0xe6601b['cull']=_0xa8d85a['doubleSide'+'d']?bt:pa):(_0xe6601b['twoSidedLi'+'ghting']=!(-0x15b+0x93a+-0x7de),_0xe6601b['cull']=pa);const _0x3e0b6a={'KHR_materials_clearcoat':lN,'KHR_materials_emissive_strength':_N,'KHR_materials_ior':dN,'KHR_materials_dispersion':fN,'KHR_materials_iridescence':gN,'KHR_materials_pbrSpecularGlossiness':oN,'KHR_materials_sheen':pN,'KHR_materials_specular':hN,'KHR_materials_transmission':uN,'KHR_materials_unlit':cN,'KHR_materials_volume':mN,'KHR_materials_anisotropy':SN};if(_0xa8d85a['hasOwnProp'+'erty']('extensions'))for(const _0x44f444 in _0xa8d85a['extensions']){const _0x2b99d5=_0x3e0b6a[_0x44f444];_0x2b99d5!==void(0x4f*0x4f+-0xa98+-0xdc9)&&_0x2b99d5(_0xa8d85a['extensions'][_0x44f444],_0xe6601b,_0x1e64b9);}return _0xe6601b['update'](),_0xe6601b;},yN=(_0x4bd439,_0xd37a23,_0x5f5581,_0x23fff8,_0x53a934,_0x48e5a2,_0x1d13f5)=>{const _0x1930db=_0x4e14a2=>new Fh(yl(_0x4e14a2['type']),Pn(_0x4e14a2,_0x23fff8)),_0x43cdbe={'STEP':Bv,'LINEAR':Su,'CUBICSPLINE':yu},_0x1314b8={},_0x297ae0={},_0x3aeac1={};let _0xd9da72=-0x3*0x1fa+0x5e6+0x9,_0x5ac435;for(_0x5ac435=0x1dc5*0x1+0x2212+-0x3fd7;_0x5ac435<_0x4bd439['samplers']['length'];++_0x5ac435){const _0x58d7b3=_0x4bd439['samplers'][_0x5ac435];_0x1314b8['hasOwnProp'+'erty'](_0x58d7b3['input'])||(_0x1314b8[_0x58d7b3['input']]=_0x1930db(_0x5f5581[_0x58d7b3['input']])),_0x297ae0['hasOwnProp'+'erty'](_0x58d7b3['output'])||(_0x297ae0[_0x58d7b3['output']]=_0x1930db(_0x5f5581[_0x58d7b3['output']]));const _0x3b4c0f=_0x58d7b3['hasOwnProp'+'erty']('interpolat'+'ion')&&_0x43cdbe['hasOwnProp'+'erty'](_0x58d7b3['interpolat'+'ion'])?_0x43cdbe[_0x58d7b3['interpolat'+'ion']]:Su,_0x4869ec={'paths':[],'input':_0x58d7b3['input'],'output':_0x58d7b3['output'],'interpolation':_0x3b4c0f};_0x3aeac1[_0x5ac435]=_0x4869ec;}const _0x19fa70=[],_0x321608={'translation':'localPosit'+'ion','rotation':'localRotat'+'ion','scale':'localScale'},_0x4aed28=_0x43482e=>{const _0x56af08=[];for(;_0x43482e;)_0x56af08['unshift'](_0x43482e['name']),_0x43482e=_0x43482e['parent'];return _0x56af08;},_0x121ae0=(_0x2c5bcb,_0x4b06a1,_0x478661)=>{const _0x397a35=_0x297ae0[_0x2c5bcb['output']];if(!_0x397a35){w['warn']('glb-parser'+':\x20No\x20outpu'+'t\x20data\x20is\x20'+'available\x20'+'for\x20the\x20mo'+'rph\x20target'+'\x20curve\x20('+_0x478661+('/graph/wei'+'ghts).\x20Ski'+'pping.'));return;}let _0xea367;if(_0x48e5a2&&_0x48e5a2[_0x4b06a1['mesh']]){const _0x14c24b=_0x48e5a2[_0x4b06a1['mesh']];_0x14c24b['hasOwnProp'+'erty']('extras')&&_0x14c24b['extras']['hasOwnProp'+'erty']('targetName'+'s')&&(_0xea367=_0x14c24b['extras']['targetName'+'s']);}const _0x3334ba=_0x397a35['data'],_0xbe9a50=_0x3334ba['length']/_0x1314b8[_0x2c5bcb['input']]['data']['length'],_0x193a75=_0x3334ba['length']/_0xbe9a50,_0x49c37c=_0x193a75*(-0x544+0x1b28+0x2bc*-0x8),_0x556802=new ArrayBuffer(_0x49c37c*_0xbe9a50);for(let _0x2535b1=-0x74e*-0x3+-0x21bb+0xbd1;_0x2535b1<_0xbe9a50;_0x2535b1++){const _0x5f3beb=new Float32Array(_0x556802,_0x49c37c*_0x2535b1,_0x193a75);for(let _0x4969cb=-0xed0+0x702+0x7ce;_0x4969cb<_0x193a75;_0x4969cb++)_0x5f3beb[_0x4969cb]=_0x3334ba[_0x4969cb*_0xbe9a50+_0x2535b1];const _0x561168=new Fh(0x17*0x130+-0x84*0x21+-0x55*0x1f,_0x5f3beb),_0x593900=_0xea367!=null&&_0xea367[_0x2535b1]?'name.'+_0xea367[_0x2535b1]:_0x2535b1;_0x297ae0[-_0xd9da72]=_0x561168;const _0x12bca={'paths':[{'entityPath':_0x478661,'component':'graph','propertyPath':['weight.'+_0x593900]}],'input':_0x2c5bcb['input'],'output':-_0xd9da72,'interpolation':_0x2c5bcb['interpolat'+'ion']};_0xd9da72++,_0x3aeac1['morphCurve'+'-'+_0x5ac435+'-'+_0x2535b1]=_0x12bca;}};for(_0x5ac435=0x146d+-0x13dd+-0xc*0xc;_0x5ac435<_0x4bd439['channels']['length'];++_0x5ac435){const _0x416907=_0x4bd439['channels'][_0x5ac435],_0x3d45a2=_0x416907['target'],_0x3e02b8=_0x3aeac1[_0x416907['sampler']],_0x1e396f=_0x53a934[_0x3d45a2['node']],_0x516e44=_0x1d13f5[_0x3d45a2['node']],_0x31ea0f=_0x4aed28(_0x1e396f);_0x3d45a2['path']['startsWith']('weights')?(_0x121ae0(_0x3e02b8,_0x516e44,_0x31ea0f),_0x3aeac1[_0x416907['sampler']]['morphCurve']=!(-0x160+0x210d+0xa8f*-0x3)):_0x3e02b8['paths']['push']({'entityPath':_0x31ea0f,'component':'graph','propertyPath':[_0x321608[_0x3d45a2['path']]]});}const _0x38133c=[],_0x25c529=[],_0x247602=[];for(const _0x17f4b0 in _0x1314b8)_0x38133c['push'](_0x1314b8[_0x17f4b0]),_0x1314b8[_0x17f4b0]=_0x38133c['length']-(0x2*0x1013+0xa9*0x2+-0xd*0x293);for(const _0x1960b5 in _0x297ae0)_0x25c529['push'](_0x297ae0[_0x1960b5]),_0x297ae0[_0x1960b5]=_0x25c529['length']-(0x1*-0x23c3+0x1*0x1999+0x89*0x13);for(const _0x14ca2d in _0x3aeac1){const _0x2cf617=_0x3aeac1[_0x14ca2d];_0x2cf617['morphCurve']||(_0x247602['push'](new v0(_0x2cf617['paths'],_0x1314b8[_0x2cf617['input']],_0x297ae0[_0x2cf617['output']],_0x2cf617['interpolat'+'ion'])),_0x2cf617['paths']['length']>-0xd99+-0x1d1c+0x2ab5&&_0x2cf617['paths'][-0x201d+-0x256a+0x11*0x417]['propertyPa'+'th'][-0x1835+0x1934+-0x55*0x3]==='localRotat'+'ion'&&_0x2cf617['interpolat'+'ion']!==yu&&_0x19fa70['push'](_0x247602[_0x247602['length']-(0x120d*-0x1+-0xa0d+0x1c1b)]['output']));}_0x19fa70['sort']();let _0x3d8549=null,_0x2f0633;for(_0x5ac435=-0x1304*-0x1+0x243*0x1+-0xd*0x1a3;_0x5ac435<_0x19fa70['length'];++_0x5ac435){const _0x6858f2=_0x19fa70[_0x5ac435];if(_0x5ac435===-0x1753*0x1+0x44a+0x1309||_0x6858f2!==_0x3d8549){if(_0x2f0633=_0x25c529[_0x6858f2],_0x2f0633['components']===0x1d*-0x12c+0x3*0x5de+0x1066*0x1){const _0x4c4c3f=_0x2f0633['data'],_0x394e33=_0x4c4c3f['length']-(-0x11b*-0xf+-0x91c+-0x17*0x53);for(let _0x57647a=0x19b8+-0x1ff8+-0x4*-0x190;_0x57647a<_0x394e33;_0x57647a+=0x900+0x507*0x2+-0x130a)_0x4c4c3f[_0x57647a+(0x1640+0x307*-0x5+-0x3*0x25f)]*_0x4c4c3f[_0x57647a+(0x2107+-0x1*-0x1a64+-0x3b67)]+_0x4c4c3f[_0x57647a+(0x1a0d+-0x732+0x7f*-0x26)]*_0x4c4c3f[_0x57647a+(0x1*-0x627+-0x2*-0xb02+-0xfd8)]+_0x4c4c3f[_0x57647a+(-0x70f+0xb41*0x3+-0x1ab2)]*_0x4c4c3f[_0x57647a+(0xe80*-0x1+-0xef6+0x75f*0x4)]+_0x4c4c3f[_0x57647a+(0x190f+0x189*0x9+0x1*-0x26dd)]*_0x4c4c3f[_0x57647a+(-0x215c+-0x24f4+-0x665*-0xb)]<0x2*0xa43+0x1669*-0x1+0x1e3&&(_0x4c4c3f[_0x57647a+(0x1d76+-0x1*0x19d6+0x9a*-0x6)]*=-(0x4d*0x1f+-0x34b+0x607*-0x1),_0x4c4c3f[_0x57647a+(0x1dd3+0x1eb2+0x2c*-0x160)]*=-(-0x225+-0x5*0xc5+0x5ff),_0x4c4c3f[_0x57647a+(-0xf*-0x1eb+-0x16*0x156+-0x1*-0xa5)]*=-(0xb*-0xad+-0xc30+0x13a*0x10),_0x4c4c3f[_0x57647a+(0x174e+-0x1*0x20e7+0x9a0)]*=-(0x20c7+0xba9+-0x2c6f));}_0x3d8549=_0x6858f2;}}let _0xfcac51=-0xb96+0x17c4+-0x1*0xc2e;for(_0x5ac435=-0x1*0xec3+-0x22*0xd4+-0x1*-0x2aeb;_0x5ac435<_0x38133c['length'];_0x5ac435++)_0x2f0633=_0x38133c[_0x5ac435]['_data'],_0xfcac51=Math['max'](_0xfcac51,_0x2f0633['length']===0xbd3*-0x3+0x27a*-0x3+0x2ae7?0x1014+-0x22*0xd3+0x16*0x8b:_0x2f0633[_0x2f0633['length']-(0x1*-0x1df+0x10ac+0x3b3*-0x4)]);return new Qi(_0x4bd439['hasOwnProp'+'erty']('name')?_0x4bd439['name']:'animation_'+_0xd37a23,_0xfcac51,_0x38133c,_0x25c529,_0x247602);},Dc=new te(),Qa=new D(),vN=(_0x462119,_0x49a528,_0x3989ff)=>{const _0x1e5b39=new Ie();if(_0x462119['hasOwnProp'+'erty']('name')&&_0x462119['name']['length']>0xb*0xf8+-0x6*0x42d+-0x2*-0x733?_0x1e5b39['name']=_0x462119['name']:_0x1e5b39['name']='node_'+_0x49a528,_0x462119['hasOwnProp'+'erty']('matrix')&&(Dc['data']['set'](_0x462119['matrix']),Dc['getTransla'+'tion'](Qa),_0x1e5b39['setLocalPo'+'sition'](Qa),Dc['getEulerAn'+'gles'](Qa),_0x1e5b39['setLocalEu'+'lerAngles'](Qa),Dc['getScale'](Qa),_0x1e5b39['setLocalSc'+'ale'](Qa)),_0x462119['hasOwnProp'+'erty']('rotation')){const _0xf32eb=_0x462119['rotation'];_0x1e5b39['setLocalRo'+'tation'](_0xf32eb[0x354*-0xb+-0x173+0x260f*0x1],_0xf32eb[-0x1*0x1565+0x9f3+0x1*0xb73],_0xf32eb[0xd94+0x48*-0x5c+-0x1e*-0x69],_0xf32eb[0x1545+-0x16e*-0x2+-0x7*0x372]);}if(_0x462119['hasOwnProp'+'erty']('translatio'+'n')){const _0x56e57c=_0x462119['translatio'+'n'];_0x1e5b39['setLocalPo'+'sition'](_0x56e57c[-0x559+-0x5a1+-0x2*-0x57d],_0x56e57c[0x1c3*-0x7+-0x1a6c+0x26c2],_0x56e57c[0xb57+0x182c+-0x1*0x2381]);}if(_0x462119['hasOwnProp'+'erty']('scale')){const _0x5b2e17=_0x462119['scale'];_0x1e5b39['setLocalSc'+'ale'](_0x5b2e17[-0x1746+0x1b2*-0x4+0x1e0e*0x1],_0x5b2e17[-0x727+0x174b+-0x1023],_0x5b2e17[0x19bf+0x1ed9+-0x3896]);}return _0x462119['hasOwnProp'+'erty']('extensions')&&_0x462119['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']&&_0x3989ff['set'](_0x462119,{'ext':_0x462119['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']}),_0x1e5b39;},xN=(_0x5aff1e,_0x11730)=>{const _0x3be6ce=_0x5aff1e['type']==='orthograph'+'ic'?En:ni,_0x15cd78=_0x3be6ce===En?_0x5aff1e['orthograph'+'ic']:_0x5aff1e['perspectiv'+'e'],_0x533d37={'enabled':!(-0x17b8+0xf2a+-0x7*-0x139),'projection':_0x3be6ce,'nearClip':_0x15cd78['znear'],'aspectRatioMode':hm};_0x15cd78['zfar']&&(_0x533d37['farClip']=_0x15cd78['zfar']),_0x3be6ce===En?(_0x533d37['orthoHeigh'+'t']=(-0x3*0xabb+-0x235+0x2266+0.5)*_0x15cd78['ymag'],_0x15cd78['ymag']&&(_0x533d37['aspectRati'+'oMode']=lu,_0x533d37['aspectRati'+'o']=_0x15cd78['xmag']/_0x15cd78['ymag'])):(_0x533d37['fov']=_0x15cd78['yfov']*Y['RAD_TO_DEG'],_0x15cd78['aspectRati'+'o']&&(_0x533d37['aspectRati'+'oMode']=lu,_0x533d37['aspectRati'+'o']=_0x15cd78['aspectRati'+'o']));const _0x5e1bc1=new lt(_0x5aff1e['name']);return _0x5e1bc1['addCompone'+'nt']('camera',_0x533d37),_0x5e1bc1;},TN=(_0x48b5c6,_0xa1320a)=>{const _0x512f4a={'enabled':!(0xafd+-0x11a6+0x6aa),'type':_0x48b5c6['type']==='point'?'omni':_0x48b5c6['type'],'color':_0x48b5c6['hasOwnProp'+'erty']('color')?new ie(_0x48b5c6['color']):ie['WHITE'],'range':_0x48b5c6['hasOwnProp'+'erty']('range')?_0x48b5c6['range']:-0x25b0+0x16f7+0x1ae4*0x2,'falloffMode':ev,'intensity':_0x48b5c6['hasOwnProp'+'erty']('intensity')?Y['clamp'](_0x48b5c6['intensity'],-0x254+0x2*-0xc0e+-0x2*-0xd38,-0x9*0x406+-0x1fdf*-0x1+0x459):0x2487+0xa07+0x1*-0x2e8d};_0x48b5c6['hasOwnProp'+'erty']('spot')&&(_0x512f4a['innerConeA'+'ngle']=_0x48b5c6['spot']['hasOwnProp'+'erty']('innerConeA'+'ngle')?_0x48b5c6['spot']['innerConeA'+'ngle']*Y['RAD_TO_DEG']:-0x53*-0x65+-0x821+0x89*-0x2e,_0x512f4a['outerConeA'+'ngle']=_0x48b5c6['spot']['hasOwnProp'+'erty']('outerConeA'+'ngle')?_0x48b5c6['spot']['outerConeA'+'ngle']*Y['RAD_TO_DEG']:Math['PI']/(-0x749+-0x20e*-0x10+0x1*-0x1993)),_0x48b5c6['hasOwnProp'+'erty']('intensity')&&(_0x512f4a['luminance']=_0x48b5c6['intensity']*pl['getLightUn'+'itConversi'+'on'](fu[_0x512f4a['type']],_0x512f4a['outerConeA'+'ngle'],_0x512f4a['innerConeA'+'ngle']));const _0x562cb3=new lt(_0xa1320a['name']);return _0x562cb3['rotateLoca'+'l'](0x2ce+-0x36*-0x3b+-0x773*0x2,0x1f77+0x1*0x238+-0x1*0x21af,-0x28a+0x9e2+-0x5*0x178),_0x562cb3['addCompone'+'nt']('light',_0x512f4a),_0x562cb3;},wN=(_0x2bae67,_0x261504,_0x3c75f,_0x310518)=>{if(!_0x261504['hasOwnProp'+'erty']('skins')||_0x261504['skins']['length']===-0x1501+0x12fe+0x203)return[];const _0x4a071b=new Map();return _0x261504['skins']['map'](_0x279e34=>rN(_0x2bae67,_0x279e34,_0x261504['accessors'],_0x310518,_0x3c75f,_0x4a071b));},EN=(_0x40644d,_0xae8188,_0xe904b5,_0x2b0efc)=>{var _0x50c246,_0x4c736d,_0x59878a;const _0x3799be={},_0x2034ac={},_0x11c5a4={},_0x554824=[];return{'meshes':!_0x2b0efc['skipMeshes']&&((_0x50c246=_0xae8188==null?void(-0x3b*-0xd+-0x7b5*0x3+0x1420):_0xae8188['meshes'])==null?void(-0x1b02*-0x1+-0x2a5*0x2+-0x15b8*0x1):_0x50c246['length'])&&((_0x4c736d=_0xae8188==null?void(0x1*-0x1525+-0xec3+0x3*0xbf8):_0xae8188['accessors'])==null?void(-0x143*-0x1b+0x236*0x8+-0x33c1):_0x4c736d['length'])&&((_0x59878a=_0xae8188==null?void(-0x53*-0x3+-0xa09*0x3+0x1d22):_0xae8188['bufferView'+'s'])==null?void(0x1461+-0x26*0x97+-0x209*-0x1):_0x59878a['length'])?_0xae8188['meshes']['map'](_0x2c36ce=>nN(_0x40644d,_0x2c36ce,_0xae8188['accessors'],_0xe904b5,_0x3799be,_0x2034ac,_0x11c5a4,_0x2b0efc,_0x554824)):[],'meshVariants':_0x2034ac,'meshDefaultMaterials':_0x11c5a4,'promises':_0x554824};},bN=(_0x5e41e5,_0x418e74,_0x2d6f20)=>{var _0x37dac6,_0x22ff02,_0x2182a0;if(!_0x5e41e5['hasOwnProp'+'erty']('materials')||_0x5e41e5['materials']['length']===0x2142+0xd0*-0x20+-0x1*0x742)return[];const _0x1a3904=(_0x37dac6=_0x2d6f20==null?void(0x16fa*0x1+-0x1*0x125+-0x15d5):_0x2d6f20['material'])==null?void(-0xde2*-0x2+-0xad*0x19+-0x17*0x79):_0x37dac6['preprocess'],_0x590bc3=((_0x22ff02=_0x2d6f20==null?void(-0x669*-0x3+0x48b*-0x7+0xc92):_0x2d6f20['material'])==null?void(-0x80e+0x18df*-0x1+0x20ed):_0x22ff02['process'])??w0,_0x55871b=(_0x2182a0=_0x2d6f20==null?void(-0x1*-0x168e+-0x205e+-0x2*-0x4e8):_0x2d6f20['material'])==null?void(-0x8cf+-0x264b+-0x2*-0x178d):_0x2182a0['postproces'+'s'];return _0x5e41e5['materials']['map'](_0x11c09c=>{_0x1a3904&&_0x1a3904(_0x11c09c);const _0x4ed5d6=_0x590bc3(_0x11c09c,_0x418e74);return _0x55871b&&_0x55871b(_0x11c09c,_0x4ed5d6),_0x4ed5d6;});},AN=_0x2ed024=>{if(!_0x2ed024['hasOwnProp'+'erty']('extensions')||!_0x2ed024['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts'))return null;const _0xe5b743=_0x2ed024['extensions']['KHR_materi'+'als_varian'+'ts']['variants'],_0x287d8c={};for(let _0xe0fb31=0x21*-0x91+-0x1*-0xbb6+0x6fb;_0xe0fb31<_0xe5b743['length'];_0xe0fb31++)_0x287d8c[_0xe5b743[_0xe0fb31]['name']]=_0xe0fb31;return _0x287d8c;},CN=(_0x20b8a2,_0x1a579b,_0x31d868,_0x4226de)=>{var _0x1006f3,_0x59f508;if(!_0x20b8a2['hasOwnProp'+'erty']('animations')||_0x20b8a2['animations']['length']===0x1ba2+0x14b7*0x1+-0x3059)return[];const _0x4e7b75=(_0x1006f3=_0x4226de==null?void(0x1d25+-0x74+-0x5bd*0x5):_0x4226de['animation'])==null?void(-0x5fd*-0x1+-0xd25+0x4*0x1ca):_0x1006f3['preprocess'],_0x2b2194=(_0x59f508=_0x4226de==null?void(0xb4*-0xd+0x1be6+-0x12c2):_0x4226de['animation'])==null?void(-0x73c+-0x124c*0x1+-0x2*-0xcc4):_0x59f508['postproces'+'s'];return _0x20b8a2['animations']['map']((_0x4323d0,_0x27be7d)=>{_0x4e7b75&&_0x4e7b75(_0x4323d0);const _0x53e9c0=yN(_0x4323d0,_0x27be7d,_0x20b8a2['accessors'],_0x31d868,_0x1a579b,_0x20b8a2['meshes'],_0x20b8a2['nodes']);return _0x2b2194&&_0x2b2194(_0x4323d0,_0x53e9c0),_0x53e9c0;});},PN=(_0x1b8ac1,_0x21680a,_0x1099ec,_0x49d9da)=>{const _0x4a4a86=_0x21680a['accessors'];_0x1099ec['forEach']((_0x597c61,_0x451334)=>{const _0x2a7133=_0x597c61['ext']['attributes'];let _0x3ed1c2;if(_0x2a7133['hasOwnProp'+'erty']('TRANSLATIO'+'N')){const _0x570a72=_0x4a4a86[_0x2a7133['TRANSLATIO'+'N']];_0x3ed1c2=Pn(_0x570a72,_0x49d9da);}let _0x5346fe;if(_0x2a7133['hasOwnProp'+'erty']('ROTATION')){const _0x56fbf7=_0x4a4a86[_0x2a7133['ROTATION']];_0x5346fe=Pn(_0x56fbf7,_0x49d9da);}let _0x40af8c;if(_0x2a7133['hasOwnProp'+'erty']('SCALE')){const _0x1b1265=_0x4a4a86[_0x2a7133['SCALE']];_0x40af8c=Pn(_0x1b1265,_0x49d9da);}const _0x5e2798=(_0x3ed1c2?_0x3ed1c2['length']/(0x575*0x3+0x1b3b+0x2b97*-0x1):0x2*0x2ea+0xa*-0x30e+-0x388*-0x7)||(_0x5346fe?_0x5346fe['length']/(-0x10d4+-0x45*0xe+0x149e):0x1001+0xbb6+-0x81*0x37)||(_0x40af8c?_0x40af8c['length']/(0x119a+-0x81*0x7+-0xe10):0x1*-0x11d1+-0x2337+-0x4*-0xd42);if(_0x5e2798){const _0x18e5d8=new Float32Array(_0x5e2798*(-0x1feb+0xb*-0x43+-0x61*-0x5c)),_0xc95e24=new D(),_0x175953=new le(),_0x41562a=new D(0x1f95+-0x10f*0x3+-0x1c67,0x15ac+0x103a+-0x25e5,-0x1f8a+-0x1cec+0x3c77),_0x4aeca0=new te();let _0x477ff8=0x1e61+0x10d1+0x7*-0x6be;for(let _0x3f439e=0x23d*-0x3+0x1*0x26e1+0x2*-0x1015;_0x3f439e<_0x5e2798;_0x3f439e++){const _0x508f22=_0x3f439e*(-0x1504+-0x1*0xf0f+0x2416);if(_0x3ed1c2&&_0xc95e24['set'](_0x3ed1c2[_0x508f22],_0x3ed1c2[_0x508f22+(0x1*0x1c5+0x9d*-0x9+0x3c1)],_0x3ed1c2[_0x508f22+(-0x25aa+0xb*-0xd+0x1*0x263b)]),_0x5346fe){const _0x59db29=_0x3f439e*(-0x106*-0xc+-0xe24+0x1e0);_0x175953['set'](_0x5346fe[_0x59db29],_0x5346fe[_0x59db29+(0x703*-0x5+0x90b+-0x1*-0x1a05)],_0x5346fe[_0x59db29+(-0x49*-0x78+-0x2468+0x232)],_0x5346fe[_0x59db29+(0x1*0x124c+-0x1*0x1feb+0xda2)]);}_0x40af8c&&_0x41562a['set'](_0x40af8c[_0x508f22],_0x40af8c[_0x508f22+(-0x1bc5+-0x577+0x213d)],_0x40af8c[_0x508f22+(0x218e*-0x1+-0x1f8e*-0x1+0x202*0x1)]),_0x4aeca0['setTRS'](_0xc95e24,_0x175953,_0x41562a);for(let _0x175860=-0x1e4f*0x1+-0x1d34+0x3b83;_0x175860<0x5*-0x178+0x1b18+-0x13b0;_0x175860++)_0x18e5d8[_0x477ff8++]=_0x4aeca0['data'][_0x175860];}_0x597c61['matrices']=_0x18e5d8;}});},MN=(_0x974164,_0x4deb5a,_0x2314f9)=>{var _0x70e1aa,_0x21c03e,_0x34e146;if(!_0x974164['hasOwnProp'+'erty']('nodes')||_0x974164['nodes']['length']===-0x12*-0x1f7+0xa03*-0x1+-0x195b*0x1)return[];const _0x2c42d6=(_0x70e1aa=_0x4deb5a==null?void(0xc3a+0x1b94+-0x27ce):_0x4deb5a['node'])==null?void(0x68b*0x2+-0x11a2+0x48c):_0x70e1aa['preprocess'],_0x11e323=((_0x21c03e=_0x4deb5a==null?void(0xbf*0x15+0x4*0x782+0x1*-0x2db3):_0x4deb5a['node'])==null?void(0x5*-0x6a7+-0x1*-0xd1f+0xa12*0x2):_0x21c03e['process'])??vN,_0x210601=(_0x34e146=_0x4deb5a==null?void(-0x24ee+-0xeb9+0x33a7):_0x4deb5a['node'])==null?void(-0x269b+-0x154+0x27ef):_0x34e146['postproces'+'s'],_0x222c91=_0x974164['nodes']['map']((_0x1cc180,_0x424a7c)=>{_0x2c42d6&&_0x2c42d6(_0x1cc180);const _0x2c1ebb=_0x11e323(_0x1cc180,_0x424a7c,_0x2314f9);return _0x210601&&_0x210601(_0x1cc180,_0x2c1ebb),_0x2c1ebb;});for(let _0x3b40ca=-0xf0+-0x914*0x4+0x2540;_0x3b40ca<_0x974164['nodes']['length'];++_0x3b40ca){const _0x119c34=_0x974164['nodes'][_0x3b40ca];if(_0x119c34['hasOwnProp'+'erty']('children')){const _0x19d998=_0x222c91[_0x3b40ca],_0x2860e5={};for(let _0xc16137=0x4*-0x573+-0x1da5+-0x1*-0x3371;_0xc16137<_0x119c34['children']['length'];++_0xc16137){const _0x52804c=_0x222c91[_0x119c34['children'][_0xc16137]];_0x52804c['parent']||(_0x2860e5['hasOwnProp'+'erty'](_0x52804c['name'])?_0x52804c['name']+=_0x2860e5[_0x52804c['name']]++:_0x2860e5[_0x52804c['name']]=0x1*-0x165d+0xcdd+0x981,_0x19d998['addChild'](_0x52804c));}}}return _0x222c91;},DN=(_0x12aac5,_0x1ddfbb)=>{var _0x2e8fc8;const _0x3e428e=[],_0x7112ca=_0x12aac5['scenes']['length'];if(_0x7112ca===-0x1*-0x1cf9+0x9*0x17d+-0xf*0x2d3&&((_0x2e8fc8=_0x12aac5['scenes'][0x221b+-0x1178*-0x1+-0x1131*0x3]['nodes'])==null?void(0x1*0x10d9+-0x1da4+0xccb):_0x2e8fc8['length'])===0x1*-0x1c61+0xa1a*0x1+0x1248){const _0x42000d=_0x12aac5['scenes'][-0xf4c+-0x24*0xa3+0x2638]['nodes'][-0x18d2+-0x576+-0x792*-0x4];_0x3e428e['push'](_0x1ddfbb[_0x42000d]);}else for(let _0x31de8b=0x9f9+0x19d9+-0x23d2;_0x31de8b<_0x7112ca;_0x31de8b++){const _0x18f79d=_0x12aac5['scenes'][_0x31de8b];if(_0x18f79d['nodes']){const _0x5ad994=new Ie(_0x18f79d['name']);for(let _0x306797=0x1289+-0x1d*0x72+-0x59f;_0x306797<_0x18f79d['nodes']['length'];_0x306797++){const _0x35c466=_0x1ddfbb[_0x18f79d['nodes'][_0x306797]];_0x5ad994['addChild'](_0x35c466);}_0x3e428e['push'](_0x5ad994);}}return _0x3e428e;},IN=(_0x573c75,_0xd713da,_0x4ad532)=>{var _0x17cca8,_0x1cec5a,_0x134597;let _0x1b5e8f=null;if(_0x573c75['hasOwnProp'+'erty']('nodes')&&_0x573c75['hasOwnProp'+'erty']('cameras')&&_0x573c75['cameras']['length']>-0x1*0x26d1+0x246e*-0x1+-0x3*-0x1915){const _0x595215=(_0x17cca8=_0x4ad532==null?void(0x98*0x15+-0x1079*-0x2+-0x2*0x16b5):_0x4ad532['camera'])==null?void(-0x246c+-0x1*0xd39+0x31a5):_0x17cca8['preprocess'],_0x5b0cd1=((_0x1cec5a=_0x4ad532==null?void(0x1507+-0xb81*-0x2+-0x2c09):_0x4ad532['camera'])==null?void(0x21fd+-0xa84+-0x1779):_0x1cec5a['process'])??xN,_0x2ef2ce=(_0x134597=_0x4ad532==null?void(-0x81a+-0x188e+0x20a8):_0x4ad532['camera'])==null?void(-0xf36+-0x11cb*-0x1+-0x295):_0x134597['postproces'+'s'];_0x573c75['nodes']['forEach']((_0x5ca390,_0x210b94)=>{if(_0x5ca390['hasOwnProp'+'erty']('camera')){const _0xfb667f=_0x573c75['cameras'][_0x5ca390['camera']];if(_0xfb667f){_0x595215&&_0x595215(_0xfb667f);const _0x2f7d54=_0x5b0cd1(_0xfb667f,_0xd713da[_0x210b94]);_0x2ef2ce&&_0x2ef2ce(_0xfb667f,_0x2f7d54),_0x2f7d54&&(_0x1b5e8f||(_0x1b5e8f=new Map()),_0x1b5e8f['set'](_0x5ca390,_0x2f7d54));}}});}return _0x1b5e8f;},LN=(_0x1b20f9,_0x496298,_0x5b2e56)=>{var _0x22dc4d,_0x3533ca,_0x245963;let _0x405019=null;if(_0x1b20f9['hasOwnProp'+'erty']('nodes')&&_0x1b20f9['hasOwnProp'+'erty']('extensions')&&_0x1b20f9['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x1b20f9['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('lights')){const _0x5199d0=_0x1b20f9['extensions']['KHR_lights'+'_punctual']['lights'];if(_0x5199d0['length']){const _0x37ad73=(_0x22dc4d=_0x5b2e56==null?void(0x1*0x2349+-0xb*-0x349+-0x28d*0x1c):_0x5b2e56['light'])==null?void(-0x3*0x902+-0x9*-0x191+0xced):_0x22dc4d['preprocess'],_0x459a67=((_0x3533ca=_0x5b2e56==null?void(-0x1bf7*0x1+-0x19ef+-0x1af3*-0x2):_0x5b2e56['light'])==null?void(-0x81*0x1a+0xd*0x295+-0xd*0x193):_0x3533ca['process'])??TN,_0x5c4771=(_0x245963=_0x5b2e56==null?void(0x18f*0x2+-0x19a3+-0x481*-0x5):_0x5b2e56['light'])==null?void(-0x2*0xed5+0x17ad+-0x49*-0x15):_0x245963['postproces'+'s'];_0x1b20f9['nodes']['forEach']((_0x3bd32,_0x5ccbd0)=>{if(_0x3bd32['hasOwnProp'+'erty']('extensions')&&_0x3bd32['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x3bd32['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('light')){const _0x10534e=_0x3bd32['extensions']['KHR_lights'+'_punctual']['light'],_0x432639=_0x5199d0[_0x10534e];if(_0x432639){_0x37ad73&&_0x37ad73(_0x432639);const _0x45b537=_0x459a67(_0x432639,_0x496298[_0x5ccbd0]);_0x5c4771&&_0x5c4771(_0x432639,_0x45b537),_0x45b537&&(_0x405019||(_0x405019=new Map()),_0x405019['set'](_0x3bd32,_0x45b537));}}});}}return _0x405019;},RN=(_0x13b070,_0x1562b6,_0x2f99af)=>{_0x13b070['nodes']['forEach'](_0x286750=>{_0x286750['hasOwnProp'+'erty']('mesh')&&_0x286750['hasOwnProp'+'erty']('skin')&&_0x1562b6[_0x286750['mesh']]['meshes']['forEach'](_0x42785c=>{_0x42785c['skin']=_0x2f99af[_0x286750['skin']];});});},ON=async(_0x61bf56,_0xd48f1,_0x4701d8,_0x379019,_0x44d84f)=>{var _0x533c8a,_0x276af9;const _0x5d256b=(_0x533c8a=_0x44d84f==null?void(-0x281*-0x2+0xd36+-0x1238):_0x44d84f['global'])==null?void(0x1*0x1b0d+-0x1aec*0x1+0xb*-0x3):_0x533c8a['preprocess'],_0x12ec33=(_0x276af9=_0x44d84f==null?void(0x164*-0xd+-0xe*0x2b1+0xb7*0x4e):_0x44d84f['global'])==null?void(0xfd1+0x1b4+-0x3*0x5d7):_0x276af9['postproces'+'s'];_0x5d256b&&_0x5d256b(_0xd48f1),_0xd48f1['asset']&&_0xd48f1['asset']['generator']==='PlayCanvas'&&w['warn']('glTF\x20model'+'\x20may\x20have\x20'+'been\x20gener'+'ated\x20with\x20'+'flipped\x20UV'+'s.\x20Please\x20'+'reconvert.');const _0x2093a3=new Map(),_0xf6a75f=MN(_0xd48f1,_0x44d84f,_0x2093a3),_0xdd6185=DN(_0xd48f1,_0xf6a75f),_0x30c1b6=LN(_0xd48f1,_0xf6a75f,_0x44d84f),_0x216d3f=IN(_0xd48f1,_0xf6a75f,_0x44d84f),_0x4d8fb6=AN(_0xd48f1),_0x3763e8=await Promise['all'](_0x4701d8),{meshes:_0x1bffdf,meshVariants:_0x366b9b,meshDefaultMaterials:_0x1d01b1,promises:_0x461b79}=EN(_0x61bf56,_0xd48f1,_0x3763e8,_0x44d84f),_0x447c77=CN(_0xd48f1,_0xf6a75f,_0x3763e8,_0x44d84f);PN(_0x61bf56,_0xd48f1,_0x2093a3,_0x3763e8);const _0x3c046d=await Promise['all'](_0x379019),_0x41e1d0=_0x3c046d['map'](_0x264e23=>_0x264e23['resource']),_0xe35e8d=bN(_0xd48f1,_0x41e1d0,_0x44d84f),_0x243c69=wN(_0x61bf56,_0xd48f1,_0xf6a75f,_0x3763e8),_0x3c8e4b=[];for(let _0x3aff3d=-0x1d78+-0x1e29*-0x1+-0x1*0xb1;_0x3aff3d<_0x1bffdf['length'];_0x3aff3d++)_0x3c8e4b[_0x3aff3d]=new Em(),_0x3c8e4b[_0x3aff3d]['meshes']=_0x1bffdf[_0x3aff3d];RN(_0xd48f1,_0x3c8e4b,_0x243c69);const _0x178ec3=new qF();return _0x178ec3['gltf']=_0xd48f1,_0x178ec3['nodes']=_0xf6a75f,_0x178ec3['scenes']=_0xdd6185,_0x178ec3['animations']=_0x447c77,_0x178ec3['textures']=_0x3c046d,_0x178ec3['materials']=_0xe35e8d,_0x178ec3['variants']=_0x4d8fb6,_0x178ec3['meshVarian'+'ts']=_0x366b9b,_0x178ec3['meshDefaul'+'tMaterials']=_0x1d01b1,_0x178ec3['renders']=_0x3c8e4b,_0x178ec3['skins']=_0x243c69,_0x178ec3['lights']=_0x30c1b6,_0x178ec3['cameras']=_0x216d3f,_0x178ec3['nodeInstan'+'cingMap']=_0x2093a3,_0x12ec33&&_0x12ec33(_0xd48f1,_0x178ec3),await Promise['all'](_0x461b79),_0x178ec3;},FN=(_0x3c7a20,_0x26f891)=>{const _0x33b5e7=(_0x45fd95,_0x5d0395)=>{switch(_0x45fd95){case 0x47a1*-0x1+0x1e39*0x1+0x4f68:return Te;case-0x2f34+0x2fa5*-0x1+0x84da:return vt;case-0x1db3*-0x1+-0x3f88+0x48d5:return Kh;case-0x9*0x7bd+0x295+0x6a11:return Qh;case-0xbc5+-0x4583+0x784a:return Zh;case-0x2a3d+-0x2043+0x7183:return ma;default:return _0x5d0395;}},_0x2c5894=(_0x173fea,_0x5d7df2)=>{switch(_0x173fea){case-0x1*-0x45bf+0x306a*-0x5+-0x2*-0x96c1:return ue;case 0xd3c7+-0xfe7e+-0x21*-0x547:return ip;case 0x30a+0x1*-0x2d61+0x5358:return yt;default:return _0x5d7df2;}};_0x3c7a20&&(_0x26f891=_0x26f891??{},_0x3c7a20['minFilter']=_0x33b5e7(_0x26f891['minFilter'],ma),_0x3c7a20['magFilter']=_0x33b5e7(_0x26f891['magFilter'],vt),_0x3c7a20['addressU']=_0x2c5894(_0x26f891['wrapS'],yt),_0x3c7a20['addressV']=_0x2c5894(_0x26f891['wrapT'],yt));};let NN=-0x15ed+0xab5*0x1+0xb38;const nn=_0x5dfc21=>{var _0x1608cd,_0x1d67be,_0x273702,_0x1b8aa6;return((_0x1d67be=(_0x1608cd=_0x5dfc21['extensions'])==null?void(0x8a4+0x156f+0x1e13*-0x1):_0x1608cd['KHR_textur'+'e_basisu'])==null?void(-0x1286*0x1+0x34*-0x4f+0x2292):_0x1d67be['source'])??((_0x1b8aa6=(_0x273702=_0x5dfc21['extensions'])==null?void(0x1c5*-0x4+-0x7*0x373+0x1f39):_0x273702['EXT_textur'+'e_webp'])==null?void(-0x1c7e+-0x19d3+0x3651):_0x1b8aa6['source'])??_0x5dfc21['source'];},kN=(_0x1d390c,_0x219f7c,_0x427b69,_0x279ab0,_0x5ebe67)=>{var _0x5374b3,_0x306ecd,_0x2d34f0;if(!_0x1d390c['images']||_0x1d390c['images']['length']===-0x1*0xd64+0x3c*-0x27+-0xb44*-0x2)return[];const _0x288f05=(_0x5374b3=_0x5ebe67==null?void(0x1fd2+0x151b+-0x34ed):_0x5ebe67['image'])==null?void(-0x2186*-0x1+0x258a+-0x4710):_0x5374b3['preprocess'],_0x1848ea=(_0x306ecd=_0x5ebe67==null?void(0x1*-0x2236+0x1*-0x2079+0x42af):_0x5ebe67['image'])==null?void(-0x1*-0x1d53+-0x269f+0x14*0x77):_0x306ecd['processAsy'+'nc'],_0x2ade18=(_0x2d34f0=_0x5ebe67==null?void(0x755*-0x2+0xa33+0x477):_0x5ebe67['image'])==null?void(-0x2f9*-0xb+-0x21c2+-0x10f*-0x1):_0x2d34f0['postproces'+'s'],_0x5db963={'image/png':'png','image/jpeg':'jpg','image/basis':'basis','image/ktx':'ktx','image/ktx2':'ktx2','image/vnd-ms.dds':'dds'},_0x37f6cc=_0xc58a48=>{const _0x317582=new Set();return _0xc58a48['hasOwnProp'+'erty']('materials')&&_0xc58a48['materials']['forEach'](_0x21d12f=>{if(_0x21d12f['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x5ec0f1=_0x21d12f['pbrMetalli'+'cRoughness'];if(_0x5ec0f1['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x27d8c1=_0xc58a48['textures'][_0x5ec0f1['baseColorT'+'exture']['index']];_0x317582['add'](nn(_0x27d8c1));}}if(_0x21d12f['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x8d918b=_0xc58a48['textures'][_0x21d12f['emissiveTe'+'xture']['index']];_0x317582['add'](nn(_0x8d918b));}if(_0x21d12f['hasOwnProp'+'erty']('extensions')){const _0x332c99=_0x21d12f['extensions']['KHR_materi'+'als_sheen'];if(_0x332c99&&_0x332c99['hasOwnProp'+'erty']('sheenColor'+'Texture')){const _0x3e35f1=_0xc58a48['textures'][_0x332c99['sheenColor'+'Texture']['index']];_0x317582['add'](nn(_0x3e35f1));}const _0x3a265a=_0x21d12f['extensions']['KHR_materi'+'als_pbrSpe'+'cularGloss'+'iness'];if(_0x3a265a&&_0x3a265a['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x54f0a5=_0xc58a48['textures'][_0x3a265a['specularGl'+'ossinessTe'+'xture']['index']];_0x317582['add'](nn(_0x54f0a5));}const _0x59e34a=_0x21d12f['extensions']['KHR_materi'+'als_specul'+'ar'];if(_0x59e34a&&_0x59e34a['hasOwnProp'+'erty']('specularCo'+'lorTexture')){const _0xcc32e9=_0xc58a48['textures'][_0x59e34a['specularCo'+'lorTexture']['index']];_0x317582['add'](nn(_0xcc32e9));}}}),_0x317582;},_0x47edbd=(_0x25c1e9,_0x1b6f3f,_0x57f99f,_0xb6a030,_0x4ce88d,_0x208059)=>new Promise((_0x407324,_0x364f2c)=>{const _0x3e6c44=_0x2a89bf=>{const _0x14bda4=(_0x25c1e9['name']||'gltf-textu'+'re')+'-'+NN++,_0x6d4c66={'url':_0x1b6f3f||_0x14bda4};if(_0x2a89bf&&(_0x6d4c66['contents']=_0x2a89bf['slice'](0xb*0x287+0x7a0+-0x1*0x236d)['buffer']),_0xb6a030){const _0x7c386b=_0x5db963[_0xb6a030];_0x7c386b&&(_0x6d4c66['filename']=_0x6d4c66['url']+'.'+_0x7c386b);}const _0x458f2a={'srgb':_0x208059},_0x2fdc85=new pe(_0x14bda4,'texture',_0x6d4c66,_0x458f2a,_0x4ce88d);_0x2fdc85['on']('load',_0x55ffc4=>_0x407324(_0x55ffc4)),_0x2fdc85['on']('error',_0x4c2ec9=>_0x364f2c(_0x4c2ec9)),_0x279ab0['add'](_0x2fdc85),_0x279ab0['load'](_0x2fdc85);};_0x57f99f?_0x57f99f['then'](_0x5e9c36=>_0x3e6c44(_0x5e9c36)):_0x3e6c44(null);}),_0xd45eab=_0x37f6cc(_0x1d390c);return _0x1d390c['images']['map']((_0x1e6903,_0xe19b91)=>{_0x288f05&&_0x288f05(_0x1e6903);let _0x2230c2;return _0x1848ea?_0x2230c2=new Promise((_0x1505a1,_0x2b22f7)=>{_0x1848ea(_0x1e6903,(_0x5fceda,_0x54ef0d)=>{_0x5fceda?_0x2b22f7(_0x5fceda):_0x1505a1(_0x54ef0d);});}):_0x2230c2=new Promise(_0x22c0cf=>{_0x22c0cf(null);}),_0x2230c2=_0x2230c2['then'](_0x4a19de=>{const _0x26e0af=_0xd45eab['has'](_0xe19b91);return _0x4a19de||(_0x1e6903['hasOwnProp'+'erty']('uri')?x0(_0x1e6903['uri'])?_0x47edbd(_0x1e6903,_0x1e6903['uri'],null,jF(_0x1e6903['uri']),null,_0x26e0af):_0x47edbd(_0x1e6903,jn['test'](_0x1e6903['uri'])?_0x1e6903['uri']:xe['join'](_0x427b69,_0x1e6903['uri']),null,null,{'crossOrigin':'anonymous'},_0x26e0af):_0x1e6903['hasOwnProp'+'erty']('bufferView')&&_0x1e6903['hasOwnProp'+'erty']('mimeType')?_0x47edbd(_0x1e6903,null,_0x219f7c[_0x1e6903['bufferView']],_0x1e6903['mimeType'],null,_0x26e0af):Promise['reject'](new Error('Invalid\x20im'+'age\x20found\x20'+'in\x20gltf\x20(n'+'either\x20uri'+'\x20or\x20buffer'+'View\x20found'+').\x20index='+_0xe19b91)));}),_0x2ade18&&(_0x2230c2=_0x2230c2['then'](_0x25d936=>(_0x2ade18(_0x1e6903,_0x25d936),_0x25d936))),_0x2230c2;});},UN=(_0x1c2000,_0xcab4e5,_0x5a77fe)=>{var _0x5d2ebd,_0x52b111,_0x1aa7c7,_0xd13d15,_0x544ebf;if(!((_0x5d2ebd=_0x1c2000==null?void(0x2585+-0x244a+-0x13b):_0x1c2000['images'])!=null&&_0x5d2ebd['length'])||!((_0x52b111=_0x1c2000==null?void(0x26*-0x7f+-0xf38+0x1*0x2212):_0x1c2000['textures'])!=null&&_0x52b111['length']))return[];const _0x3b35cd=(_0x1aa7c7=_0x5a77fe==null?void(0x5ff+-0x25*-0x47+0x1042*-0x1):_0x5a77fe['texture'])==null?void(-0x1*0x2039+0x134f+0xcea):_0x1aa7c7['preprocess'],_0x227e78=(_0xd13d15=_0x5a77fe==null?void(-0x493*0x1+0xf9*0x10+-0xafd):_0x5a77fe['texture'])==null?void(-0x7*0x3e+-0x1d*-0x116+-0x1dcc):_0xd13d15['processAsy'+'nc'],_0x17512a=(_0x544ebf=_0x5a77fe==null?void(0x10c9*0x1+-0x164*-0xa+-0x1eb1):_0x5a77fe['texture'])==null?void(-0x1*-0x32b+0x269f*0x1+0x29ca*-0x1):_0x544ebf['postproces'+'s'],_0x2584c2=new Set();return _0x1c2000['textures']['map'](_0x5e5fdd=>{_0x3b35cd&&_0x3b35cd(_0x5e5fdd);let _0x589210;return _0x227e78?_0x589210=new Promise((_0x47d570,_0x35c597)=>{_0x227e78(_0x5e5fdd,_0x1c2000['images'],(_0x256899,_0x2da19d)=>{_0x256899?_0x35c597(_0x256899):_0x47d570(_0x2da19d);});}):_0x589210=new Promise(_0x94c585=>{_0x94c585(null);}),_0x589210=_0x589210['then'](_0xc28aa8=>{_0xc28aa8=_0xc28aa8??nn(_0x5e5fdd);const _0x54237d=_0x2584c2['has'](_0xc28aa8);return _0x2584c2['add'](_0xc28aa8),_0xcab4e5[_0xc28aa8]['then'](_0x31ae39=>{const _0x15569e=_0x54237d?tN(_0x31ae39):_0x31ae39;return FN(_0x15569e['resource'],(_0x1c2000['samplers']??[])[_0x5e5fdd['sampler']]),_0x15569e;});}),_0x17512a&&(_0x589210=_0x589210['then'](_0x3482cb=>(_0x17512a(_0x5e5fdd,_0x3482cb),_0x3482cb))),_0x589210;});},BN=(_0x1ef262,_0x3c450a,_0x2d2881,_0x6feac4)=>{var _0x25ec23,_0x3181ab,_0x5d4ccf;if(!_0x1ef262['buffers']||_0x1ef262['buffers']['length']===-0x1152+0x1fba*0x1+-0x1cd*0x8)return[];const _0xca054c=(_0x25ec23=_0x6feac4==null?void(-0x842+-0xcb3*0x1+0x14f5):_0x6feac4['buffer'])==null?void(0x21cf+0x8*-0x2+-0xa3*0x35):_0x25ec23['preprocess'],_0x85b75c=(_0x3181ab=_0x6feac4==null?void(0x1e30+-0x20ca*0x1+-0x6f*-0x6):_0x6feac4['buffer'])==null?void(-0x7d2+-0x5b9+0xd8b*0x1):_0x3181ab['processAsy'+'nc'],_0x5941be=(_0x5d4ccf=_0x6feac4==null?void(0x19*0x56+-0x304*-0x1+-0xb6a):_0x6feac4['buffer'])==null?void(0x1d3c+0x2bb+-0x1ff7):_0x5d4ccf['postproces'+'s'];return _0x1ef262['buffers']['map']((_0x479838,_0x4ea486)=>{_0xca054c&&_0xca054c(_0x479838);let _0x2813d0;return _0x85b75c?_0x2813d0=new Promise((_0x26696e,_0x557258)=>{_0x85b75c(_0x479838,(_0x5e7bae,_0x45b67e)=>{_0x5e7bae?_0x557258(_0x5e7bae):_0x26696e(_0x45b67e);});}):_0x2813d0=new Promise(_0x5e143e=>{_0x5e143e(null);}),_0x2813d0=_0x2813d0['then'](_0x1a55db=>{if(_0x1a55db)return _0x1a55db;if(_0x479838['hasOwnProp'+'erty']('uri')){if(x0(_0x479838['uri'])){const _0x3e528f=atob(_0x479838['uri']['split'](',')[0xb9*0xb+-0xb6e+0xdf*0x4]),_0x39a902=new Uint8Array(_0x3e528f['length']);for(let _0xc9730d=0xa7c+0xe5b+-0x18d7;_0xc9730d<_0x3e528f['length'];_0xc9730d++)_0x39a902[_0xc9730d]=_0x3e528f['charCodeAt'](_0xc9730d);return _0x39a902;}return new Promise((_0x348e8f,_0x255a9d)=>{ot['get'](jn['test'](_0x479838['uri'])?_0x479838['uri']:xe['join'](_0x2d2881,_0x479838['uri']),{'cache':!(0xc52*0x3+-0x1cda+-0x81c),'responseType':'arraybuffe'+'r','retry':!(-0xb08+0x5*-0xb3+0xe88)},(_0x331300,_0x279b21)=>{_0x331300?_0x255a9d(_0x331300):_0x348e8f(new Uint8Array(_0x279b21));});});}return _0x3c450a;}),_0x5941be&&(_0x2813d0=_0x2813d0['then'](_0x2f8080=>(_0x5941be(_0x1ef262['buffers'][_0x4ea486],_0x2f8080),_0x2f8080))),_0x2813d0;});},zN=(_0x2a80ca,_0x471e5c)=>{const _0x3083f5=JSON['parse']((_0x23953f=>{if(typeof TextDecoder<'u')return new TextDecoder()['decode'](_0x23953f);let _0x175d42='';for(let _0xe68675=0x1232+0x10f*0x13+0x264f*-0x1;_0xe68675<_0x23953f['length'];_0xe68675++)_0x175d42+=String['fromCharCo'+'de'](_0x23953f[_0xe68675]);return decodeURIComponent(escape(_0x175d42));})(_0x2a80ca));if(_0x3083f5['asset']&&_0x3083f5['asset']['version']&&parseFloat(_0x3083f5['asset']['version'])<0x93+-0x65*-0x33+-0x14b0){_0x471e5c('Invalid\x20gl'+'tf\x20version'+'.\x20Expected'+'\x20version\x202'+'.0\x20or\x20abov'+'e\x20but\x20foun'+'d\x20version\x20'+'\x27'+_0x3083f5['asset']['version']+'\x27.');return;}_0x471e5c(null,_0x3083f5);},VN=(_0x24f32d,_0xca7cef)=>{const _0x533435=_0x24f32d instanceof ArrayBuffer?new DataView(_0x24f32d):new DataView(_0x24f32d['buffer'],_0x24f32d['byteOffset'],_0x24f32d['byteLength']),_0x107bfe=_0x533435['getUint32'](-0x2*0x91c+0x28f*0x5+-0x1cf*-0x3,!(-0xf9d*0x1+0x1*-0x166a+0x2607)),_0x2ceacb=_0x533435['getUint32'](0x1*-0x20db+0x1f8+-0x1b*-0x125,!(0x212d+0x859+-0x2986)),_0x4e53c9=_0x533435['getUint32'](-0x44b*-0x9+-0x176c+0xa9*-0x17,!(-0x24db+-0x190c+0x3de7));if(_0x107bfe!==-0x163c9*0xda4+-0xc*0x828d42d+0xbb338047){_0xca7cef('Invalid\x20ma'+'gic\x20number'+'\x20found\x20in\x20'+'glb\x20header'+'.\x20Expected'+'\x200x46546C6'+'7,\x20found\x200'+'x'+_0x107bfe['toString'](-0x622*-0x1+0x65*-0x9+0xd7*-0x3));return;}if(_0x2ceacb!==-0x11*-0x24a+0x18e*-0xb+-0x15ce){_0xca7cef('Invalid\x20ve'+'rsion\x20numb'+'er\x20found\x20i'+'n\x20glb\x20head'+'er.\x20Expect'+'ed\x202,\x20foun'+'d\x20'+_0x2ceacb);return;}if(_0x4e53c9<=-0x1e1*0x7+0x2*-0xeb0+0x2a87||_0x4e53c9>_0x533435['byteLength']){_0xca7cef('Invalid\x20le'+'ngth\x20found'+'\x20in\x20glb\x20he'+'ader.\x20Foun'+'d\x20'+_0x4e53c9);return;}const _0x4801fc=[];let _0x49d014=-0xbdd*-0x3+0x3e*0x33+-0x2fe5;for(;_0x49d014<_0x4e53c9;){const _0x1b6a9e=_0x533435['getUint32'](_0x49d014,!(-0x4*0xa2+-0x1552*0x1+-0x1*-0x17da));_0x49d014+_0x1b6a9e+(0x1*0x14bf+0x4*0x111+-0x18fb)>_0x533435['byteLength']&&_0xca7cef('Invalid\x20ch'+'unk\x20length'+'\x20found\x20in\x20'+'glb.\x20Found'+'\x20'+_0x1b6a9e);const _0xd615a2=_0x533435['getUint32'](_0x49d014+(-0x1*0x163b+-0x122b+0x286a),!(0x11ce+-0x1*0x2231+0x1063)),_0x1c9408=new Uint8Array(_0x533435['buffer'],_0x533435['byteOffset']+_0x49d014+(0x73*-0x47+0x161b+0x9d2),_0x1b6a9e);_0x4801fc['push']({'length':_0x1b6a9e,'type':_0xd615a2,'data':_0x1c9408}),_0x49d014+=_0x1b6a9e+(-0x22c7+0x2c6+0x2009*0x1);}if(_0x4801fc['length']!==-0xe9e*-0x2+-0x31*-0xb5+-0x3fe0&&_0x4801fc['length']!==0x16a5+-0xc31+0x7*-0x17e){_0xca7cef('Invalid\x20nu'+'mber\x20of\x20ch'+'unks\x20found'+'\x20in\x20glb\x20fi'+'le.');return;}if(_0x4801fc[0x1ac1+-0x4c4+-0x15fd]['type']!==0x1*0x2eebd6a7+-0xdcc58ea*0x5+0x2f*0x222bfdb){_0xca7cef('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x4'+'E4F534A,\x20f'+'ound\x200x'+_0x4801fc[-0x1a7*0xf+0x11ce*0x1+-0x1*-0x6fb]['type']['toString'](0x192f+0x8d2*-0x4+0xa29));return;}if(_0x4801fc['length']>-0x350+0x1a+0x337&&_0x4801fc[-0x108f+0x197c+-0x1*0x8ec]['type']!==0x979ab9+-0x31e*0x2e25+0x4685df){_0xca7cef('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x0'+'04E4942,\x20f'+'ound\x200x'+_0x4801fc[-0x23ec+0x122a+0x11c3]['type']['toString'](0x4b8*-0x4+0x11*0x47+0xe39));return;}_0xca7cef(null,{'gltfChunk':_0x4801fc[0x1c6*0x8+0x371*0xa+0x309a*-0x1]['data'],'binaryChunk':_0x4801fc['length']===-0x1909*0x1+-0x1e76+-0xd*-0x445?_0x4801fc[-0x1f4c*0x1+-0x11*-0x17f+0x1*0x5de]['data']:null});},GN=(_0x39b8ba,_0x197022,_0x5d8867)=>{const _0x331340=()=>{const _0xa31158=new Uint8Array(_0x197022);return _0xa31158[0x12b4+-0x1*0xff8+-0x2bc]===-0xe9f+-0x1057+0x1f5d&&_0xa31158[0xb5e+-0x1ba6+0x1049]===-0x15*-0xe3+-0x47c+-0xdb7&&_0xa31158[-0x20a3+-0x469+0xba*0x33]===0x26bf+-0x22cb+-0x20*0x1d&&_0xa31158[-0x1963+0x1f46*0x1+0x4*-0x178]===-0x25a4+0xcc7*0x3+-0x6b;};_0x39b8ba&&_0x39b8ba['toLowerCas'+'e']()['endsWith']('.glb')||_0x331340()?VN(_0x197022,_0x5d8867):_0x5d8867(null,{'gltfChunk':_0x197022,'binaryChunk':null});},HN=(_0xbc1c69,_0x568abc,_0x5247c7)=>{var _0x21627a,_0x194d9e,_0x530b79,_0x426b85;const _0x1f9e42=[],_0x243528=(_0x21627a=_0x5247c7==null?void(0xe17+-0xc26+-0x1f1):_0x5247c7['bufferView'])==null?void(0xdd*0x13+-0x1f67*-0x1+-0x1*0x2fce):_0x21627a['preprocess'],_0x14e608=(_0x194d9e=_0x5247c7==null?void(0x26c4+0x104*-0x14+-0x49d*0x4):_0x5247c7['bufferView'])==null?void(-0x10cf+0xd2c+0x3a3*0x1):_0x194d9e['processAsy'+'nc'],_0x257e0b=(_0x530b79=_0x5247c7==null?void(0x193d*-0x1+-0x1f1d+-0x2*-0x1c2d):_0x5247c7['bufferView'])==null?void(-0x189a+-0x173c+0x1a*0x1d7):_0x530b79['postproces'+'s'];if(!((_0x426b85=_0xbc1c69['bufferView'+'s'])!=null&&_0x426b85['length']))return _0x1f9e42;for(let _0x2a676f=-0x1c*0x91+-0x1*-0x145e+-0x241*0x2;_0x2a676f<_0xbc1c69['bufferView'+'s']['length'];++_0x2a676f){const _0xe83de3=_0xbc1c69['bufferView'+'s'][_0x2a676f];_0x243528&&_0x243528(_0xe83de3);let _0x15f431;_0x14e608?_0x15f431=new Promise((_0x4fbdc2,_0x1cd148)=>{_0x14e608(_0xe83de3,_0x568abc,(_0x581a1c,_0x51cde2)=>{_0x581a1c?_0x1cd148(_0x581a1c):_0x4fbdc2(_0x51cde2);});}):_0x15f431=new Promise(_0x2dd0c8=>{_0x2dd0c8(null);}),_0x15f431=_0x15f431['then'](_0x77077b=>_0x77077b||_0x568abc[_0xe83de3['buffer']]['then'](_0x34e46c=>new Uint8Array(_0x34e46c['buffer'],_0x34e46c['byteOffset']+(_0xe83de3['byteOffset']||0x3*-0x517+-0x207d+0x2fc2),_0xe83de3['byteLength']))),_0xe83de3['hasOwnProp'+'erty']('byteStride')&&(_0x15f431=_0x15f431['then'](_0x449999=>(_0x449999['byteStride']=_0xe83de3['byteStride'],_0x449999))),_0x257e0b&&(_0x15f431=_0x15f431['then'](_0x2c67e4=>(_0x257e0b(_0xe83de3,_0x2c67e4),_0x2c67e4))),_0x1f9e42['push'](_0x15f431);}return _0x1f9e42;};class kh{static['parse'](_0x1177d9,_0x5b463f,_0x3104b1,_0x3f76fa,_0x22859c,_0x56b86d,_0x5e10fb){GN(_0x1177d9,_0x3104b1,(_0x1ee27f,_0x52aa7b)=>{if(_0x1ee27f){_0x5e10fb(_0x1ee27f);return;}zN(_0x52aa7b['gltfChunk'],(_0x4f30a7,_0x13ffe1)=>{if(_0x4f30a7){_0x5e10fb(_0x4f30a7);return;}const _0x50b674=BN(_0x13ffe1,_0x52aa7b['binaryChun'+'k'],_0x5b463f,_0x56b86d),_0x55fb00=HN(_0x13ffe1,_0x50b674,_0x56b86d),_0x36722a=kN(_0x13ffe1,_0x55fb00,_0x5b463f,_0x22859c,_0x56b86d),_0x14a72b=UN(_0x13ffe1,_0x36722a,_0x56b86d);ON(_0x3f76fa,_0x13ffe1,_0x55fb00,_0x14a72b,_0x56b86d)['then'](_0x3db46e=>_0x5e10fb(null,_0x3db46e))['catch'](_0x1310d0=>_0x5e10fb(_0x1310d0));});});}static['createDefa'+'ultMateria'+'l'](){return w0({'name':'defaultGlb'+'Material'},[]);}}class WN extends Qe{constructor(_0x23a0e3){super(_0x23a0e3,'animation'),this['device']=_0x23a0e3['graphicsDe'+'vice'],this['assets']=_0x23a0e3['assets'];}['load'](_0x4a6262,_0x4ae46b,_0x349628){typeof _0x4a6262=='string'&&(_0x4a6262={'load':_0x4a6262,'original':_0x4a6262});const _0xc70b03={'retry':this['maxRetries']>0x4e1*0x1+-0x2100+0x1c1f,'maxRetries':this['maxRetries']};(_0x4a6262['load']['startsWith']('blob:')||_0x4a6262['load']['startsWith']('data:'))&&(xe['getExtensi'+'on'](_0x4a6262['original'])['toLowerCas'+'e']()==='.glb'?_0xc70b03['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0xc70b03['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x4a6262['load'],_0xc70b03,(_0x235212,_0x6c62b4)=>{_0x235212?_0x4ae46b('Error\x20load'+'ing\x20animat'+'ion\x20resour'+'ce:\x20'+_0x4a6262['original']+'\x20['+_0x235212+']'):xe['getExtensi'+'on'](_0x4a6262['original'])['toLowerCas'+'e']()==='.glb'?kh['parse']('filename.g'+'lb','',_0x6c62b4,this['device'],this['assets'],(_0x349628==null?void(0x1*0x1934+-0x917+0x4b*-0x37):_0x349628['options'])??{},(_0x4c50ca,_0x3ff8ec)=>{var _0x49696a;if(_0x4c50ca)_0x4ae46b(_0x4c50ca);else{const _0x5d0958=_0x3ff8ec['animations'];if((_0x49696a=_0x349628==null?void(-0x277*-0x4+-0x1*-0xdf6+-0x17d2):_0x349628['data'])!=null&&_0x49696a['events']){for(let _0x3e7670=0x2339+0x13ec+0x13*-0x2e7;_0x3e7670<_0x5d0958['length'];_0x3e7670++)_0x5d0958[_0x3e7670]['events']=new Hv(Object['values'](_0x349628['data']['events']));}_0x3ff8ec['destroy'](),_0x4ae46b(null,_0x5d0958);}}):_0x4ae46b(null,this['_parseAnim'+'ationV'+_0x6c62b4['animation']['version']](_0x6c62b4));});}['open'](_0x4534f5,_0x38ee2c,_0x1eca72){return _0x38ee2c;}['_parseAnim'+'ationV3'](_0x22dbb0){const _0x5458ae=_0x22dbb0['animation'],_0x803dd4=new ug();_0x803dd4['name']=_0x5458ae['name'],_0x803dd4['duration']=_0x5458ae['duration'];for(let _0x16d9e9=-0x1*0xe95+-0xd54+-0x1be9*-0x1;_0x16d9e9<_0x5458ae['nodes']['length'];_0x16d9e9++){const _0x583eb6=new fg(),_0x4224d7=_0x5458ae['nodes'][_0x16d9e9];_0x583eb6['_name']=_0x4224d7['name'];for(let _0x130b27=0x1*-0xa22+-0x107c+0x2*0xd4f;_0x130b27<_0x4224d7['keys']['length'];_0x130b27++){const _0xf13a45=_0x4224d7['keys'][_0x130b27],_0x583afc=_0xf13a45['time'],_0x1833e9=_0xf13a45['pos'],_0x41585d=_0xf13a45['rot'],_0x46dc03=_0xf13a45['scale'],_0x7c4799=new D(_0x1833e9[0x1b77+0x5*0x2f3+-0x2a36],_0x1833e9[-0xaed+-0x1098+-0x1*-0x1b86],_0x1833e9[-0x7fe+0x1*-0x58f+-0xd8f*-0x1]),_0x5009b3=new le()['setFromEul'+'erAngles'](_0x41585d[-0x1a21+0xe*0x63+0x14b7*0x1],_0x41585d[-0x1cf8*-0x1+0x1178+-0x2e6f],_0x41585d[0x188d+0x1f3e+-0x1*0x37c9]),_0x43fcf5=new D(_0x46dc03[0xb*0x1cf+0x2025+-0x340a*0x1],_0x46dc03[0x18f7*0x1+0x5b6*0x5+0x2ad*-0x14],_0x46dc03[0x1424+-0x150+-0x1*0x12d2]),_0x1cc945=new dg(_0x583afc,_0x7c4799,_0x5009b3,_0x43fcf5);_0x583eb6['_keys']['push'](_0x1cc945);}_0x803dd4['addNode'](_0x583eb6);}return _0x803dd4;}['_parseAnim'+'ationV4'](_0x2be111){const _0x358936=_0x2be111['animation'],_0x1196bd=new ug();_0x1196bd['name']=_0x358936['name'],_0x1196bd['duration']=_0x358936['duration'];for(let _0xba0254=0xceb+0x93a+0x1*-0x1625;_0xba0254<_0x358936['nodes']['length'];_0xba0254++){const _0x281d17=new fg(),_0x458edf=_0x358936['nodes'][_0xba0254];_0x281d17['_name']=_0x458edf['name'];const _0x1b00c8=_0x458edf['defaults']['p'],_0x3a42b2=_0x458edf['defaults']['r'],_0x5e7b5a=_0x458edf['defaults']['s'];for(let _0x41205c=-0x2*-0x7dd+-0xd*-0x241+-0x2d07;_0x41205c<_0x458edf['keys']['length'];_0x41205c++){const _0x1267aa=_0x458edf['keys'][_0x41205c],_0x3b2172=_0x1267aa['t'],_0x49667f=_0x1b00c8||_0x1267aa['p'],_0x28c9d7=_0x3a42b2||_0x1267aa['r'],_0x3cbe93=_0x5e7b5a||_0x1267aa['s'],_0x8effe7=new D(_0x49667f[0x68*0x2f+0x1d02+-0x301a*0x1],_0x49667f[0x1a90+-0x14*-0xbb+-0x292b],_0x49667f[-0x40*0x40+-0x48*-0x26+0x552]),_0x203eaf=new le()['setFromEul'+'erAngles'](_0x28c9d7[-0x17c+0x1*-0x1d72+-0x6b*-0x4a],_0x28c9d7[-0x1706+0x1f79*-0x1+0x40*0xda],_0x28c9d7[-0x327+-0x229f*-0x1+0x1f76*-0x1]),_0x23aafd=new D(_0x3cbe93[0xd50+-0x1*-0x50b+-0x125b],_0x3cbe93[-0x1*-0x2431+0x1088+-0x34b8],_0x3cbe93[0xc5*0x24+-0x4d*-0x37+0x2c3d*-0x1]),_0x1c36cd=new dg(_0x3b2172,_0x8effe7,_0x203eaf,_0x23aafd);_0x281d17['_keys']['push'](_0x1c36cd);}_0x1196bd['addNode'](_0x281d17);}return _0x1196bd;}}class $N extends Qe{constructor(_0x5a6e47){super(_0x5a6e47,'animclip');}['load'](_0x1c16fe,_0x589caa){typeof _0x1c16fe=='string'&&(_0x1c16fe={'load':_0x1c16fe,'original':_0x1c16fe});const _0xc8725f={'retry':this['maxRetries']>-0x15*0x1b5+0xa9+0x2330,'maxRetries':this['maxRetries']};_0x1c16fe['load']['startsWith']('blob:')&&(_0xc8725f['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x1c16fe['load'],_0xc8725f,(_0x10e0b3,_0x189680)=>{_0x10e0b3?_0x589caa('Error\x20load'+'ing\x20animat'+'ion\x20clip\x20r'+'esource:\x20'+_0x1c16fe['original']+'\x20['+_0x10e0b3+']'):_0x589caa(null,_0x189680);});}['open'](_0x2dc54b,_0x3bf17d){const _0xee0a9d=_0x3bf17d['name'],_0x1f0d23=_0x3bf17d['duration'],_0x2c9ad8=_0x3bf17d['inputs']['map'](_0x3050d1=>new Fh(0x720+-0x923*-0x2+-0x1965,_0x3050d1)),_0x331dc1=_0x3bf17d['outputs']['map'](_0xa9030=>new Fh(_0xa9030['components'],_0xa9030['data'])),_0xe0e3d1=_0x3bf17d['curves']['map'](_0x1aace1=>new v0([_0x1aace1['path']],_0x1aace1['inputIndex'],_0x1aace1['outputInde'+'x'],_0x1aace1['interpolat'+'ion']));return new Qi(_0xee0a9d,_0x1f0d23,_0x2c9ad8,_0x331dc1,_0xe0e3d1);}}class XN extends Qe{constructor(_0x388594){super(_0x388594,'animstateg'+'raph');}['load'](_0x340ceb,_0x5164d1){typeof _0x340ceb=='string'&&(_0x340ceb={'load':_0x340ceb,'original':_0x340ceb});const _0x606539={'retry':this['maxRetries']>-0x1352+-0x680+0x19d2,'maxRetries':this['maxRetries']};_0x340ceb['load']['startsWith']('blob:')&&(_0x606539['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x340ceb['load'],_0x606539,(_0x226d13,_0x4b8315)=>{_0x226d13?_0x5164d1('Error\x20load'+'ing\x20animat'+'ion\x20state\x20'+'graph\x20reso'+'urce:\x20'+_0x340ceb['original']+'\x20['+_0x226d13+']'):_0x5164d1(null,_0x4b8315);});}['open'](_0xe4e834,_0x1429df){return new Jc(_0x1429df);}}const Af=(function(){if(typeof window>'u')return!(0x1a02+-0x156+0x1a5*-0xf);const _0x194d2b=window['navigator']['userAgent'],_0xec4800=_0x194d2b['indexOf']('MSIE\x20');if(_0xec4800>0x719+0x61b+-0xd34)return parseInt(_0x194d2b['substring'](_0xec4800+(0x1e9a+-0x59*0x5e+0x219),_0x194d2b['indexOf']('.',_0xec4800)),-0x2*0xc1c+0x1bef+-0x3ad);if(_0x194d2b['indexOf']('Trident/')>0x2d*0x5c+0x266e+0x369a*-0x1){const _0x49f346=_0x194d2b['indexOf']('rv:');return parseInt(_0x194d2b['substring'](_0x49f346+(0x1*0xaa9+-0x58*-0x25+-0x175e),_0x194d2b['indexOf']('.',_0x49f346)),0xdb3+-0x1*0x901+-0x4a8);}return!(-0x182e+-0x22*0x1d+-0x1*-0x1c09);}()),qN=['.ogg','.mp3','.wav','.mp4a','.m4a','.mp4','.aac','.opus'];class jN extends Qe{constructor(_0x311a8a){super(_0x311a8a,'audio'),this['manager']=_0x311a8a['soundManag'+'er'],w['assert'](this['manager'],'AudioHandl'+'er\x20cannot\x20'+'be\x20created'+'\x20without\x20s'+'ound\x20manag'+'er');}['_isSupport'+'ed'](_0x4e9d53){const _0x5ca4fc=xe['getExtensi'+'on'](_0x4e9d53);return qN['indexOf'](_0x5ca4fc)>-(-0x1a3b+-0x985*0x2+-0x2d46*-0x1)||_0x4e9d53['startsWith']('blob:');}['load'](_0x5bf56f,_0x431ee1){typeof _0x5bf56f=='string'&&(_0x5bf56f={'load':_0x5bf56f,'original':_0x5bf56f});const _0x4db511=function(_0x68f6d4){_0x431ee1(null,new Mw(_0x68f6d4));},_0x491e6e=function(_0x1d54f2){let _0x4a57c2='Error\x20load'+'ing\x20audio\x20'+'url:\x20'+_0x5bf56f['original'];_0x1d54f2&&(_0x4a57c2+=':\x20'+(_0x1d54f2['message']||_0x1d54f2)),console['warn'](_0x4a57c2),_0x431ee1(_0x4a57c2);};if(this['_createSou'+'nd']){if(!this['_isSupport'+'ed'](_0x5bf56f['original'])){_0x491e6e('Audio\x20form'+'at\x20for\x20'+_0x5bf56f['original']+('\x20not\x20suppo'+'rted'));return;}this['_createSou'+'nd'](_0x5bf56f['load'],_0x4db511,_0x491e6e);}else _0x491e6e(null);}['_createSou'+'nd'](_0x2b0641,_0x540b3b,_0x21f314){if(Dl()){const _0x5e49a1=this['manager'];if(!_0x5e49a1['context']){_0x21f314('Audio\x20mana'+'ger\x20has\x20no'+'\x20audio\x20con'+'text');return;}const _0x5aba02={'retry':this['maxRetries']>-0xd56*0x1+-0x1*-0x1957+-0x7*0x1b7,'maxRetries':this['maxRetries']};(_0x2b0641['startsWith']('blob:')||_0x2b0641['startsWith']('data:'))&&(_0x5aba02['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']),ot['get'](_0x2b0641,_0x5aba02,(_0x1a7f2f,_0x80e45)=>{if(_0x1a7f2f){_0x21f314(_0x1a7f2f);return;}_0x5e49a1['context']['decodeAudi'+'oData'](_0x80e45,_0x540b3b,_0x21f314);});}else{let _0x20bf74=null;try{_0x20bf74=new Audio();}catch{_0x21f314('No\x20support'+'\x20for\x20Audio'+'\x20element');return;}Af&&document['body']['appendChil'+'d'](_0x20bf74);const _0x12f0df=function(){_0x20bf74['removeEven'+'tListener']('canplaythr'+'ough',_0x12f0df),Af&&document['body']['removeChil'+'d'](_0x20bf74),_0x540b3b(_0x20bf74);};_0x20bf74['onerror']=function(){_0x20bf74['onerror']=null,Af&&document['body']['removeChil'+'d'](_0x20bf74),_0x21f314();},_0x20bf74['addEventLi'+'stener']('canplaythr'+'ough',_0x12f0df),_0x20bf74['src']=_0x2b0641;}}}class YN extends Qe{constructor(_0x237949){super(_0x237949,'binary');}['load'](_0x45df03,_0x549a83){typeof _0x45df03=='string'&&(_0x45df03={'load':_0x45df03,'original':_0x45df03}),ot['get'](_0x45df03['load'],{'responseType':Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER'],'retry':this['maxRetries']>0x19b2+0xd13+0x19*-0x18d,'maxRetries':this['maxRetries']},(_0x1770f8,_0x112d6e)=>{_0x1770f8?_0x549a83('Error\x20load'+'ing\x20binary'+'\x20resource:'+'\x20'+_0x45df03['original']+'\x20['+_0x1770f8+']'):_0x549a83(null,_0x112d6e);});}['openBinary'](_0x16d63f){return _0x16d63f['buffer'];}}class yr{constructor(_0x5e59e5,_0x5681ce,_0x4a9e47,_0x2f89bd){const _0x3a1dc0=function(_0x5764f6,_0xe4eb8d,_0x32da9a){const _0x44bb99=yr['createAsse'+'t'](_0x5681ce['name'],_0x5764f6,_0xe4eb8d,_0x32da9a);return _0x4a9e47['add'](_0x44bb99),_0x44bb99;},_0x1b11a5=[];for(let _0x27ea40=0x1*-0x2531+-0x22e7*0x1+0x4818;_0x27ea40<_0x5e59e5['renders']['length'];++_0x27ea40)_0x1b11a5['push'](_0x3a1dc0('render',_0x5e59e5['renders'][_0x27ea40],_0x27ea40));const _0x3bcb74=[];for(let _0x23446c=-0x737+0x260e+-0x62b*0x5;_0x23446c<_0x5e59e5['materials']['length'];++_0x23446c)_0x3bcb74['push'](_0x3a1dc0('material',_0x5e59e5['materials'][_0x23446c],_0x23446c));const _0x30da6d=[];for(let _0x369c5e=0x32*-0x9f+0x11e7+0xd27;_0x369c5e<_0x5e59e5['animations']['length'];++_0x369c5e)_0x30da6d['push'](_0x3a1dc0('animation',_0x5e59e5['animations'][_0x369c5e],_0x369c5e));this['data']=_0x5e59e5,this['_model']=null,this['_assetName']=_0x5681ce['name'],this['_assets']=_0x4a9e47,this['_defaultMa'+'terial']=_0x2f89bd,this['renders']=_0x1b11a5,this['materials']=_0x3bcb74,this['textures']=_0x5e59e5['textures'],this['animations']=_0x30da6d;}get['model'](){if(!this['_model']){const _0x42fa3a=yr['createMode'+'l'](this['data'],this['_defaultMa'+'terial']),_0x6e784e=yr['createAsse'+'t'](this['_assetName'],'model',_0x42fa3a,-0x2444+-0x1*0x25c7+-0x11*-0x45b);this['_assets']['add'](_0x6e784e),this['_model']=_0x6e784e;}return this['_model'];}static['createAsse'+'t'](_0x37f62e,_0x2d040e,_0x3cbba5,_0x162a63){const _0x137d61=new pe(_0x37f62e+'/'+_0x2d040e+'/'+_0x162a63,_0x2d040e,{'url':''});return _0x137d61['resource']=_0x3cbba5,_0x137d61['loaded']=!(0xad8*0x2+-0x245*0x5+-0xa57),_0x137d61;}['instantiat'+'eModelEnti'+'ty'](_0x5f400b){const _0x412383=new lt(void(0x4*-0x89b+0x1*0x2051+0x21b),this['_assets']['_loader']['_app']);return _0x412383['addCompone'+'nt']('model',Object['assign']({'type':'asset','asset':this['model']},_0x5f400b)),_0x412383;}['instantiat'+'eRenderEnt'+'ity'](_0xce13f1){const _0x2a0113=this['_defaultMa'+'terial'],_0x2f8e0a=[],_0x5010a0=function(_0x38d692,_0x2191ae,_0x3176d9,_0x283385,_0x5994d7,_0x19c863,_0x37a0ac,_0x3b44b7){const _0x3041b4=_0x5994d7[_0x3176d9['id']],_0x584d8b=_0x3041b4===void(-0x976+0x24a6+-0x1b30)?_0x2a0113:_0x283385[_0x3041b4],_0x23b1fc=new He(_0x3176d9,_0x584d8b);_0x3176d9['morph']&&(_0x23b1fc['morphInsta'+'nce']=new xa(_0x3176d9['morph'])),_0x37a0ac['hasOwnProp'+'erty']('skin')&&_0x2f8e0a['push']({'meshInstance':_0x23b1fc,'rootBone':_0x38d692,'entity':_0x2191ae});const _0x5b7497=_0x3b44b7['get'](_0x37a0ac);if(_0x5b7497){const _0x398d6b=_0x5b7497['matrices'],_0x116a30=kt['getDefault'+'Instancing'+'Format'](_0x3176d9['device']),_0x4c1d49=new Is(_0x3176d9['device'],_0x116a30,_0x398d6b['length']/(-0x1e16+0xe5*-0x1c+-0x12*-0x311),{'data':_0x398d6b});_0x23b1fc['setInstanc'+'ing'](_0x4c1d49),_0x23b1fc['instancing'+'Data']['_destroyVe'+'rtexBuffer']=!(0x14ea+0x7a*-0x3+0x3a*-0x56);}return _0x23b1fc;},_0x201b35=(_0x43bc34,_0x3b59b3,_0x2dcd9a)=>{const _0x305104=new lt(void(0x49d+-0x329*-0x9+-0x210e),this['_assets']['_loader']['_app']);_0x3b59b3['_cloneInte'+'rnal'](_0x305104),_0x43bc34||(_0x43bc34=_0x305104);let _0x582bb3=null,_0x24929c=null;for(let _0x9adb1=0x26f5+0x7d7+-0x2*0x1766;_0x9adb1<_0x2dcd9a['nodes']['length'];_0x9adb1++)if(_0x2dcd9a['nodes'][_0x9adb1]===_0x3b59b3){const _0x59ba7f=_0x2dcd9a['gltf']['nodes'][_0x9adb1];if(_0x59ba7f['hasOwnProp'+'erty']('mesh')){const _0x3207f2=_0x2dcd9a['renders'][_0x59ba7f['mesh']]['meshes'];_0x24929c=this['renders'][_0x59ba7f['mesh']];for(let _0x414272=-0x24d7+0x18a9+-0xc2e*-0x1;_0x414272<_0x3207f2['length'];_0x414272++){const _0x491a17=_0x3207f2[_0x414272];if(_0x491a17){const _0x40249f=_0x5010a0(_0x43bc34,_0x305104,_0x491a17,_0x2dcd9a['materials'],_0x2dcd9a['meshDefaul'+'tMaterials'],_0x2dcd9a['skins'],_0x59ba7f,_0x2dcd9a['nodeInstan'+'cingMap']);_0x582bb3||(_0x582bb3=[]),_0x582bb3['push'](_0x40249f);}}}if(_0x2dcd9a['lights']){const _0x347a13=_0x2dcd9a['lights']['get'](_0x59ba7f);_0x347a13&&_0x305104['addChild'](_0x347a13['clone']());}if(_0x2dcd9a['cameras']){const _0x137aa7=_0x2dcd9a['cameras']['get'](_0x59ba7f);_0x137aa7&&_0x137aa7['camera']['system']['cloneCompo'+'nent'](_0x137aa7,_0x305104);}}_0x582bb3&&(_0x305104['addCompone'+'nt']('render',Object['assign']({'type':'asset','meshInstances':_0x582bb3},_0xce13f1)),_0x305104['render']['assignAsse'+'t'](_0x24929c));const _0x421960=_0x3b59b3['children'];for(let _0x588360=-0x813+-0xa31+-0x922*-0x2;_0x588360<_0x421960['length'];_0x588360++){const _0x3c078a=_0x201b35(_0x43bc34,_0x421960[_0x588360],_0x2dcd9a);_0x305104['addChild'](_0x3c078a);}return _0x305104;},_0x2f254d=[];for(const _0xb88f9c of this['data']['scenes'])_0x2f254d['push'](_0x201b35(null,_0xb88f9c,this['data']));return _0x2f8e0a['forEach'](_0x43367f=>{_0x43367f['meshInstan'+'ce']['skinInstan'+'ce']=_l['createCach'+'edSkinInst'+'ance'](_0x43367f['meshInstan'+'ce']['mesh']['skin'],_0x43367f['rootBone'],_0x43367f['entity']),_0x43367f['meshInstan'+'ce']['node']['render']['rootBone']=_0x43367f['rootBone'];}),yr['createScen'+'eHierarchy'](_0x2f254d,lt);}['getMateria'+'lVariants'](){return this['data']['variants']?Object['keys'](this['data']['variants']):[];}['applyMater'+'ialVariant'](_0x1c2d49,_0xf35010){const _0x3e090e=_0xf35010?this['data']['variants'][_0xf35010]:null;if(_0x3e090e===void(0x1064+0x1fde+0x3042*-0x1)){w['warn']('No\x20variant'+'\x20named\x20'+_0xf35010+('\x20exists\x20in'+'\x20resource'));return;}const _0x2902b7=_0x1c2d49['findCompon'+'ents']('render');for(let _0xd20c90=-0x3df*-0xa+0x261b*-0x1+0x1f*-0x5;_0xd20c90<_0x2902b7['length'];_0xd20c90++){const _0x2b3c74=_0x2902b7[_0xd20c90];this['_applyMate'+'rialVarian'+'t'](_0x3e090e,_0x2b3c74['meshInstan'+'ces']);}}['applyMater'+'ialVariant'+'Instances'](_0x1d7a1d,_0x26c239){const _0x49c201=_0x26c239?this['data']['variants'][_0x26c239]:null;if(_0x49c201===void(-0x314+0x1*0x9d5+-0x6c1)){w['warn']('No\x20variant'+'\x20named\x20'+_0x26c239+('\x20exists\x20in'+'\x20resource'));return;}this['_applyMate'+'rialVarian'+'t'](_0x49c201,_0x1d7a1d);}['_applyMate'+'rialVarian'+'t'](_0x1c5ee8,_0x20f16a){_0x20f16a['forEach'](_0x11f001=>{if(_0x1c5ee8===null)_0x11f001['material']=this['_defaultMa'+'terial'];else{const _0x3226b2=this['data']['meshVarian'+'ts'][_0x11f001['mesh']['id']];_0x3226b2&&(_0x11f001['material']=this['data']['materials'][_0x3226b2[_0x1c5ee8]]);}w['assert'](_0x11f001['material']);});}static['createScen'+'eHierarchy'](_0xf88f6c,_0x5a57e1){let _0x630464=null;if(_0xf88f6c['length']===-0x7c9*0x1+0x1*-0x14a1+0x1c6b*0x1)_0x630464=_0xf88f6c[-0x1e3+0x1f3e+0x5*-0x5df];else{_0x630464=new _0x5a57e1('SceneGroup');for(const _0x58d556 of _0xf88f6c)_0x630464['addChild'](_0x58d556);}return _0x630464;}static['createMode'+'l'](_0x4db1ba,_0x2478f3){const _0x19eadd=function(_0x3ae804,_0x25ccfa,_0x32b743,_0x1e107e,_0x2d3ad2,_0x159d5f,_0x3e804a){const _0x4c9a00=_0x4db1ba['meshDefaul'+'tMaterials'][_0x25ccfa['id']],_0x4aff86=_0x4c9a00===void(0x14*-0x8b+0x23e+-0x2*-0x44f)?_0x2478f3:_0x2d3ad2[_0x4c9a00],_0x1abeb6=new He(_0x25ccfa,_0x4aff86,_0x159d5f);if(_0x25ccfa['morph']){const _0x12e5d7=new xa(_0x25ccfa['morph']);_0x1abeb6['morphInsta'+'nce']=_0x12e5d7,_0x3ae804['morphInsta'+'nces']['push'](_0x12e5d7);}if(_0x3e804a['hasOwnProp'+'erty']('skin')){const _0x533cb1=_0x3e804a['skin'],_0x37c214=_0x32b743[_0x533cb1];_0x25ccfa['skin']=_0x37c214;const _0x436c6f=_0x1e107e[_0x533cb1];_0x1abeb6['skinInstan'+'ce']=_0x436c6f,_0x3ae804['skinInstan'+'ces']['push'](_0x436c6f);}_0x3ae804['meshInstan'+'ces']['push'](_0x1abeb6);},_0x5acfcb=new sr(),_0x52924d=[];for(const _0x29012d of _0x4db1ba['skins']){const _0x28590e=new Ol(_0x29012d);_0x28590e['bones']=_0x29012d['bones'],_0x52924d['push'](_0x28590e);}_0x5acfcb['graph']=yr['createScen'+'eHierarchy'](_0x4db1ba['scenes'],Ie);for(let _0x32195a=0x24fc+-0xe62+-0x169a;_0x32195a<_0x4db1ba['nodes']['length'];_0x32195a++){const _0x359f4d=_0x4db1ba['nodes'][_0x32195a];if(_0x359f4d['root']===_0x5acfcb['graph']){const _0xa1ab79=_0x4db1ba['gltf']['nodes'][_0x32195a];if(_0xa1ab79['hasOwnProp'+'erty']('mesh')){const _0xb6a8b3=_0x4db1ba['renders'][_0xa1ab79['mesh']]['meshes'];for(let _0x103775=-0x2*-0xdfd+-0x21c3+-0x1*-0x5c9;_0x103775<_0xb6a8b3['length'];_0x103775++){const _0xe8e127=_0xb6a8b3[_0x103775];_0xe8e127&&_0x19eadd(_0x5acfcb,_0xe8e127,_0x4db1ba['skins'],_0x52924d,_0x4db1ba['materials'],_0x359f4d,_0xa1ab79);}}}}return _0x5acfcb;}['destroy'](){const _0x154990=this['_assets'],_0x454d50=function(_0x1757ca){_0x154990['remove'](_0x1757ca),_0x1757ca['unload']();},_0x5542a2=function(_0xd2d598){_0xd2d598['forEach'](_0x2617fc=>{_0x454d50(_0x2617fc);});};this['animations']&&(_0x5542a2(this['animations']),this['animations']=null),this['textures']&&(_0x5542a2(this['textures']),this['textures']=null),this['materials']&&(_0x5542a2(this['materials']),this['materials']=null),this['renders']&&(_0x5542a2(this['renders']),this['renders']=null),this['_model']&&(_0x454d50(this['_model']),this['_model']=null),this['data']=null,this['assets']=null;}}class KN{constructor(_0x583f09,_0x3f5150,_0x752fc4){this['_device']=_0x583f09,this['_assets']=_0x3f5150,this['_defaultMa'+'terial']=kh['createDefa'+'ultMateria'+'l'](),this['maxRetries']=_0x752fc4;}['_getUrlWit'+'houtParams'](_0x2ce700){return _0x2ce700['indexOf']('?')>=-0x4df+0x1930+-0x1451?_0x2ce700['split']('?')[-0x1ff2+0x1a06+0x5ec]:_0x2ce700;}['load'](_0x53a9dc,_0x538d08,_0x37662a){pe['fetchArray'+'Buffer'](_0x53a9dc['load'],(_0x16b5b1,_0x1d26ab)=>{_0x16b5b1?_0x538d08(_0x16b5b1):kh['parse'](this['_getUrlWit'+'houtParams'](_0x53a9dc['original']),xe['extractPat'+'h'](_0x53a9dc['load']),_0x1d26ab,this['_device'],_0x37662a['registry'],_0x37662a['options'],(_0x2fb868,_0x21d522)=>{_0x2fb868?_0x538d08(_0x2fb868):_0x538d08(null,new yr(_0x21d522,_0x37662a,this['_assets'],this['_defaultMa'+'terial']));});},_0x37662a,this['maxRetries']);}['open'](_0xa347ce,_0x460c8f,_0x825e7d){return _0x460c8f;}['patch'](_0x32c19e,_0x3b6561){}}class ZN extends Qe{constructor(_0xbd8704){super(_0xbd8704,'container'),this['glbContain'+'erParser']=new KN(_0xbd8704['graphicsDe'+'vice'],_0xbd8704['assets'],0x6d9*-0x1+-0x1*-0x1ea2+-0x17c9),this['parsers']={};}set['maxRetries'](_0x53bf78){this['glbContain'+'erParser']['maxRetries']=_0x53bf78;for(const _0x12d49 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x12d49)&&(this['parsers'][_0x12d49]['maxRetries']=_0x53bf78);}get['maxRetries'](){return this['glbContain'+'erParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x31d421){return _0x31d421['indexOf']('?')>=-0x42*0x82+0xe4c+0xc*0x19a?_0x31d421['split']('?')[-0x4*-0x7b+-0x1acf+-0x18e3*-0x1]:_0x31d421;}['_getParser'](_0x31e946){const _0x1db4b2=_0x31e946?xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x31e946))['toLowerCas'+'e']()['replace']('.',''):null;return this['parsers'][_0x1db4b2]||this['glbContain'+'erParser'];}['load'](_0x2f68e7,_0x54b99e,_0x114742){typeof _0x2f68e7=='string'&&(_0x2f68e7={'load':_0x2f68e7,'original':_0x2f68e7}),this['_getParser'](_0x2f68e7['original'])['load'](_0x2f68e7,_0x54b99e,_0x114742);}['open'](_0x5690db,_0x14cd52,_0x166421){return this['_getParser'](_0x5690db)['open'](_0x5690db,_0x14cd52,_0x166421);}}class QN extends Qe{constructor(_0x13978b){super(_0x13978b,'css'),h(this,'decoder',null);}['load'](_0x3fd4a5,_0x8592b2){typeof _0x3fd4a5=='string'&&(_0x3fd4a5={'load':_0x3fd4a5,'original':_0x3fd4a5}),ot['get'](_0x3fd4a5['load'],{'retry':this['maxRetries']>-0xce3*0x2+-0x19b9+0x337f,'maxRetries':this['maxRetries']},(_0x58f2e4,_0x31bf25)=>{_0x58f2e4?_0x8592b2('Error\x20load'+'ing\x20css\x20re'+'source:\x20'+_0x3fd4a5['original']+'\x20['+_0x58f2e4+']'):_0x8592b2(null,_0x31bf25);});}['openBinary'](_0x4aca9f){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x4aca9f);}}class JN extends Qe{constructor(_0x5a833b){super(_0x5a833b,'cubemap'),this['_device']=_0x5a833b['graphicsDe'+'vice'],this['_registry']=_0x5a833b['assets'],this['_loader']=_0x5a833b['loader'];}['load'](_0x15867c,_0xc89142,_0x1dcaf7){this['loadAssets'](_0x1dcaf7,_0xc89142);}['open'](_0x537050,_0x2456e3,_0x5064de){return _0x5064de?_0x5064de['resource']:null;}['patch'](_0x3f9fce,_0x46f7e4){this['loadAssets'](_0x3f9fce,(_0x399928,_0x5d6c08)=>{_0x399928&&(_0x46f7e4['fire']('error',_0x3f9fce),_0x46f7e4['fire']('error:'+_0x3f9fce['id'],_0x399928,_0x3f9fce),_0x3f9fce['fire']('error',_0x3f9fce));});}['getAssetId'+'s'](_0x34e687){const _0x461693=[];if(_0x461693[-0xf60+-0x1b*-0x132+0xce*-0x15]=_0x34e687['file'],(_0x34e687['loadFaces']||!_0x34e687['file'])&&_0x34e687['data']&&_0x34e687['data']['textures']){for(let _0x393f5a=-0x14*-0x16d+0x1070+-0x2cf4;_0x393f5a<-0x5b*-0x52+-0x389+-0x1997*0x1;++_0x393f5a)_0x461693[_0x393f5a+(-0x13e*0x13+-0x1e1b+0x35b6)]=_0x34e687['data']['textures'][_0x393f5a];}else _0x461693[0x1db9*-0x1+0x67c+0x173e]=_0x461693[-0x3*0x5e4+0x17d6+-0x628]=_0x461693[0x1222*0x1+-0x9*0x351+0xbba]=_0x461693[0x13f+0x159b*0x1+-0x16d6]=_0x461693[0xdaf+-0x1b*0x13a+0x1374]=_0x461693[-0x1dda*0x1+0x11c5+0x3*0x409]=null;return _0x461693;}['compareAss'+'etIds'](_0x3b20fe,_0x3e52d3){return _0x3b20fe&&_0x3e52d3?parseInt(_0x3b20fe,0x1874+-0x1*0xf17+-0x155*0x7)===_0x3b20fe||typeof _0x3b20fe=='string'?_0x3b20fe===_0x3e52d3:_0x3b20fe['url']===_0x3e52d3['url']:_0x3b20fe!==null==(_0x3e52d3!==null);}['update'](_0x7ffc9a,_0x415c42,_0x281323){const _0x5dd4a8=_0x7ffc9a['data']||{},_0xff3695=_0x7ffc9a['_handlerSt'+'ate']['assets'],_0xe69569=_0x7ffc9a['_resources'];let _0x3ee010,_0x3ff1e9,_0x16d5b6;const _0x186b2e=[null,null,null,null,null,null,null],_0x5ae46a=function(){return _0x5dd4a8['hasOwnProp'+'erty']('type')?_0x5dd4a8['type']:_0x5dd4a8['hasOwnProp'+'erty']('rgbm')?_0x5dd4a8['rgbm']?Zi:Ds:null;};if(!_0x7ffc9a['loaded']||_0x281323[-0x1b5+0x7*0x1d7+0x4*-0x2cb]!==_0xff3695[-0x6b*-0x3d+-0x2*-0xd53+-0x3425]){if(_0x281323[0x3a3+0x15d5+-0x1978]){if(_0x3ee010=_0x281323[0x2e1*-0x3+0xe9*-0x13+0x19ee]['resource'],_0x3ee010['cubemap']){for(_0x16d5b6=-0x884+-0x2383*-0x1+0x1aff*-0x1;_0x16d5b6<0x1e25*-0x1+-0xd*0x14c+0x2f07;++_0x16d5b6)_0x186b2e[_0x16d5b6+(0x1d5d*-0x1+-0x11*0x133+0x1*0x31c1)]=new _e(this['_device'],{'name':_0x7ffc9a['name']+('_prelitCub'+'emap')+(_0x3ee010['width']>>_0x16d5b6),'cubemap':!(-0x39b*-0x2+-0x1474+0xd3e),'type':_0x5ae46a()||_0x3ee010['type'],'width':_0x3ee010['width']>>_0x16d5b6,'height':_0x3ee010['height']>>_0x16d5b6,'format':_0x3ee010['format'],'levels':[_0x3ee010['_levels'][_0x16d5b6]],'addressU':ue,'addressV':ue,'mipmaps':_0x16d5b6===0x255f+0x4a*0x61+-0x11*0x3d9});}else _0x186b2e[0x1793+-0x1e5+-0x15ad]=_0x3ee010;}}else _0x186b2e[0xda7*-0x1+0x1*0x755+0x653]=_0xe69569[0x13ab+0x235c+-0x1*0x3706]||null,_0x186b2e[0x2336+0x1b11*0x1+-0x13*0x347]=_0xe69569[0x1*0x167c+0x68*0x5+0x1882*-0x1]||null,_0x186b2e[0x568*-0x4+-0x16e1*-0x1+-0x13e]=_0xe69569[0x262e+-0x1c35*-0x1+0x588*-0xc]||null,_0x186b2e[0x126c+0x2563+-0xcf*0x45]=_0xe69569[0x49*-0x29+-0x1d83+0x2938]||null,_0x186b2e[-0x1*0xc1a+-0x1ba5+-0x1*-0x27c4]=_0xe69569[-0x64e+-0x1*-0x193b+-0x12e8]||null,_0x186b2e[0x1349*-0x1+0x8b*-0x2f+0x2cd4]=_0xe69569[0x1*0x205+0x1455+0x1654*-0x1]||null;const _0x11e2dc=_0x281323['slice'](-0x25c*-0x1+0x155e+-0x17b9);if(!_0x7ffc9a['loaded']||!this['cmpArrays'](_0x11e2dc,_0xff3695['slice'](0x325*0x9+-0x2f*-0x14+-0x1ff8))){if(_0x11e2dc['indexOf'](null)===-(-0x19d+0x859+0x6bb*-0x1)){const _0x4f2fa2=_0x11e2dc['map'](_0x5350c9=>_0x5350c9['resource']),_0x3ec9f6=[];for(_0x3ff1e9=0x1f*-0x95+0x6b9+0x17*0x7e;_0x3ff1e9<_0x4f2fa2[-0xdb2*0x1+-0x5b0+0x1362]['_levels']['length'];++_0x3ff1e9)_0x3ec9f6['push'](_0x4f2fa2['map'](_0x4f3715=>_0x4f3715['_levels'][_0x3ff1e9]));const _0x53ae06=_0x4f2fa2[0x91*-0x5+-0x207c+0x2351*0x1]['format'],_0x25e10e=new _e(this['_device'],{'name':_0x7ffc9a['name']+'_faces','cubemap':!(-0x1b6e+0x2529+-0x9bb),'type':_0x5ae46a()||_0x4f2fa2[-0x1da2+-0x8*0x1b6+0x2b52]['type'],'width':_0x4f2fa2[-0x16a7+-0x2631+0x3cd8]['width'],'height':_0x4f2fa2[-0xece+-0x428*-0x8+-0x1272*0x1]['height'],'format':_0x53ae06===Cr?Ne:_0x53ae06,'mipmaps':_0x5dd4a8['mipmaps']??!(-0x1c7c*-0x1+0x19b4+0x11*-0x330),'levels':_0x3ec9f6,'minFilter':_0x5dd4a8['hasOwnProp'+'erty']('minFilter')?_0x5dd4a8['minFilter']:_0x4f2fa2[0x123c+-0xea7*-0x1+0x20e3*-0x1]['minFilter'],'magFilter':_0x5dd4a8['hasOwnProp'+'erty']('magFilter')?_0x5dd4a8['magFilter']:_0x4f2fa2[-0x17bf+0x92a+0xe95*0x1]['magFilter'],'anisotropy':_0x5dd4a8['hasOwnProp'+'erty']('anisotropy')?_0x5dd4a8['anisotropy']:-0x2*0x1187+0xd5b+0x15b4*0x1,'addressU':ue,'addressV':ue});_0x186b2e[0x2025+0x2*0x727+-0x2e73]=_0x25e10e;}}else _0x186b2e[0x6*-0x31+-0x2*-0xf97+-0x1e08]=_0xe69569[-0x25d3+-0x1bb4+0x37*0x131]||null;if(!this['cmpArrays'](_0x186b2e,_0xe69569)){for(_0x7ffc9a['resources']=_0x186b2e,_0x7ffc9a['_handlerSt'+'ate']['assetIds']=_0x415c42,_0x7ffc9a['_handlerSt'+'ate']['assets']=_0x281323,_0x16d5b6=0x2194+-0x1d*-0xe7+-0x3bbf;_0x16d5b6<_0xe69569['length'];++_0x16d5b6)_0xe69569[_0x16d5b6]!==null&&_0x186b2e['indexOf'](_0xe69569[_0x16d5b6])===-(0x2471+0xc45+-0x25*0x151)&&_0xe69569[_0x16d5b6]['destroy']();}for(_0x16d5b6=-0xb41+-0x1*-0x21c4+-0x1*0x1683;_0x16d5b6<_0xff3695['length'];++_0x16d5b6)_0xff3695[_0x16d5b6]!==null&&_0x281323['indexOf'](_0xff3695[_0x16d5b6])===-(-0x95e+-0x223e+-0x91*-0x4d)&&_0xff3695[_0x16d5b6]['unload']();}['cmpArrays'](_0x393772,_0x12eeda){if(_0x393772['length']!==_0x12eeda['length'])return!(-0x2426+-0xe06+0x322d);for(let _0x3377ff=0x6*-0x668+0x18dc+0xd94;_0x3377ff<_0x393772['length'];++_0x3377ff)if(_0x393772[_0x3377ff]!==_0x12eeda[_0x3377ff])return!(0x1c84+-0x27*0xb3+-0x9f*0x2);return!(0x453+0x1*0x1c8d+-0x20e0);}['resolveId'](_0xc8c238){const _0x326783=parseInt(_0xc8c238,-0x2148+-0x21d*-0x2+-0x13*-0x188);return _0x326783===_0xc8c238||_0x326783['toString']()===_0xc8c238?_0x326783:_0xc8c238;}['loadAssets'](_0x4ba312,_0x1e5e05){_0x4ba312['hasOwnProp'+'erty']('_handlerSt'+'ate')||(_0x4ba312['_handlerSt'+'ate']={'assetIds':[null,null,null,null,null,null,null],'assets':[null,null,null,null,null,null,null]});const _0x4dfee6=this,_0x28d07b=_0x4dfee6['getAssetId'+'s'](_0x4ba312),_0x356e0f=[null,null,null,null,null,null,null],_0x31381e=_0x4ba312['_handlerSt'+'ate']['assetIds'],_0x322f81=_0x4ba312['_handlerSt'+'ate']['assets'],_0x428af9=_0x4dfee6['_registry'];let _0x354886=0x11a1*-0x2+-0x1066+-0x1*-0x33af;const _0x41b5c9=function(_0x4a18f3,_0x1a1a05){_0x356e0f[_0x4a18f3]=_0x1a1a05,_0x354886--,_0x354886===-0x1450+-0x530+-0x30*-0x88&&(_0x4dfee6['update'](_0x4ba312,_0x28d07b,_0x356e0f),_0x1e5e05(null,_0x4ba312['resources']));},_0x3897b2=function(_0x139e12,_0x46d062,_0x37a96a){_0x1e5e05(_0x46d062);},_0x3cfbb9=function(_0x243966,_0x44ade9){_0x44ade9['loaded']?_0x41b5c9(_0x243966,_0x44ade9):(_0x428af9['once']('load:'+_0x44ade9['id'],_0x41b5c9['bind'](_0x4dfee6,_0x243966)),_0x428af9['once']('error:'+_0x44ade9['id'],_0x3897b2['bind'](_0x4dfee6,_0x243966)),_0x44ade9['loading']||_0x428af9['load'](_0x44ade9));};let _0x402573;for(let _0xc45a12=0xdce+0xf57+0x3*-0x9b7;_0xc45a12<0x2329+-0xc6f*-0x2+-0xc*0x500;++_0xc45a12){const _0x4e34dd=this['resolveId'](_0x28d07b[_0xc45a12]);if(!_0x4e34dd)_0x41b5c9(_0xc45a12,null);else{if(_0x4dfee6['compareAss'+'etIds'](_0x4e34dd,_0x31381e[_0xc45a12]))_0x3cfbb9(_0xc45a12,_0x322f81[_0xc45a12]);else{if(parseInt(_0x4e34dd,0x1319*0x2+-0xc1*-0xc+-0x2f34)===_0x4e34dd)_0x402573=_0x428af9['get'](_0x4e34dd),_0x402573?_0x3cfbb9(_0xc45a12,_0x402573):setTimeout(((_0x2795c4,_0x5a7dd6)=>{const _0x1225c1=_0x428af9['get'](_0x5a7dd6);_0x1225c1?_0x3cfbb9(_0x2795c4,_0x1225c1):_0x3897b2(_0x2795c4,'failed\x20to\x20'+'find\x20depen'+'dent\x20cubem'+'ap\x20asset='+_0x5a7dd6);})['bind'](null,_0xc45a12,_0x4e34dd));else{const _0x7437d2=typeof _0x4e34dd=='string'?{'url':_0x4e34dd,'filename':_0x4e34dd}:_0x4e34dd,_0x1a4d1f=_0x7437d2['url']['search']('.dds')===-(-0x5*-0x45d+0x581+-0x1b51)?{'type':'rgbp','addressu':'clamp','addressv':'clamp','mipmaps':!(0x1c14+-0x38*0x5f+-0x74b)}:null;_0x402573=new pe(_0x4ba312['name']+'_part_'+_0xc45a12,'texture',_0x7437d2,_0x1a4d1f),_0x428af9['add'](_0x402573),_0x3cfbb9(_0xc45a12,_0x402573);}}}}}}class ek extends Qe{constructor(_0x3ba650){super(_0x3ba650,'folder');}['load'](_0x28b1b1,_0x2a1a88){_0x2a1a88(null,null);}}class yS{constructor(_0x113bd1,_0x13374){this['type']=_0x13374&&_0x13374['type']||Rh,this['em']=0x93b*0x1+-0x2f6*-0x1+-0xc30,this['textures']=_0x113bd1,this['intensity']=0x31*0xad+-0x371+-0x1dac,this['_data']=null,this['data']=_0x13374;}set['data'](_0x2f1e18){if(this['_data']=_0x2f1e18,!!_0x2f1e18&&(this['_data']['intensity']!==void(0xf17+0x1*0x21e9+0x188*-0x20)&&(this['intensity']=this['_data']['intensity']),this['_data']['info']||(this['_data']['info']={}),(!this['_data']['version']||this['_data']['version']<0x1130+0x2d*0x86+-0x28bc)&&(this['_data']['info']['maps']=[{'width':this['_data']['info']['width'],'height':this['_data']['info']['height']}],this['_data']['chars']))){for(const _0x2bddaf in this['_data']['chars'])this['_data']['chars'][_0x2bddaf]['map']=-0x917*0x3+0x1ec5+-0x1c*0x20;}}get['data'](){return this['_data'];}}function Cf(_0x83a258){return _0x83a258['version']<-0x1*0x85+-0x469*-0x7+-0x1*0x1e57&&(_0x83a258['version']<0x625+-0x24a4+0x1e81&&(_0x83a258['info']['maps']=_0x83a258['info']['maps']||[{'width':_0x83a258['info']['width'],'height':_0x83a258['info']['height']}]),_0x83a258['chars']=Object['keys'](_0x83a258['chars']||{})['reduce']((_0x4779cb,_0x132d40)=>{const _0x1adada=_0x83a258['chars'][_0x132d40],_0x4c8b9a=_0x1adada['letter']!==void(0x1*-0x1d4f+0x28*-0xc2+0x3b9f)?_0x1adada['letter']:Hc['fromCodePo'+'int'](_0x132d40);return _0x83a258['version']<0x1*-0x26f3+0x87f+0x45a*0x7&&(_0x1adada['map']=_0x1adada['map']||-0x18a6+-0x2fe*-0x8+0xb6),_0x4779cb[_0x4c8b9a]=_0x1adada,_0x4779cb;},{}),_0x83a258['version']=0x7d3*0x1+0x3d*-0x98+0x1c68),_0x83a258;}class tk extends Qe{constructor(_0x35723e){super(_0x35723e,'font'),this['_loader']=_0x35723e['loader'],this['maxRetries']=0x30a*-0x9+0x1083+-0xb9*-0xf;}['load'](_0x4f5918,_0x543f6f,_0x34fdec){typeof _0x4f5918=='string'&&(_0x4f5918={'load':_0x4f5918,'original':_0x4f5918});const _0x2528cd=this;xe['getExtensi'+'on'](_0x4f5918['original'])==='.json'?ot['get'](_0x4f5918['load'],{'retry':this['maxRetries']>-0xa78+-0x269b+0x3113*0x1,'maxRetries':this['maxRetries']},(_0x9e27cf,_0x3bf261)=>{if(_0x9e27cf)_0x543f6f('Error\x20load'+'ing\x20font\x20r'+'esource:\x20'+_0x4f5918['original']+'\x20['+_0x9e27cf+']');else{const _0x586ff5=Cf(_0x3bf261);_0x2528cd['_loadTextu'+'res'](_0x4f5918['load']['replace']('.json','.png'),_0x586ff5,(_0x1f25e4,_0x2adb57)=>{_0x1f25e4?_0x543f6f(_0x1f25e4):_0x543f6f(null,{'data':_0x586ff5,'textures':_0x2adb57});});}}):(_0x34fdec&&_0x34fdec['data']&&(_0x34fdec['data']=Cf(_0x34fdec['data'])),this['_loadTextu'+'res'](_0x4f5918['load'],_0x34fdec&&_0x34fdec['data'],_0x543f6f));}['_loadTextu'+'res'](_0x31322d,_0x300bfc,_0x5497e1){const _0x15adb0=_0x300bfc['info']['maps']['length'];let _0x1d5ad0=-0x4*-0x68+0x1962+0xd81*-0x2,_0x27d00f=null;const _0x4b1969=new Array(_0x15adb0),_0x3f8412=this['_loader'],_0x595d08=function(_0x20adf4){const _0x11e9c6=function(_0x4d4f09,_0x32396e){if(!_0x27d00f){if(_0x4d4f09){_0x27d00f=_0x4d4f09,_0x5497e1(_0x4d4f09);return;}_0x32396e['upload'](),_0x4b1969[_0x20adf4]=_0x32396e,_0x1d5ad0++,_0x1d5ad0===_0x15adb0&&_0x5497e1(null,_0x4b1969);}};_0x20adf4===0x2*-0x7f4+0x2ba*-0x3+0x1816?_0x3f8412['load'](_0x31322d,'texture',_0x11e9c6):_0x3f8412['load'](_0x31322d['replace']('.png',_0x20adf4+'.png'),'texture',_0x11e9c6);};for(let _0x4af7d6=0x44+0x18cc*-0x1+0x1888;_0x4af7d6<_0x15adb0;_0x4af7d6++)_0x595d08(_0x4af7d6);}['open'](_0x4b3379,_0xd2f68d,_0x594663){let _0x208e13;return _0xd2f68d['textures']?_0x208e13=new yS(_0xd2f68d['textures'],_0xd2f68d['data']):_0x208e13=new yS(_0xd2f68d,null),_0x208e13;}['patch'](_0x1748f3,_0x198838){const _0x3ef128=_0x1748f3['resource'];!_0x3ef128['data']&&_0x1748f3['data']?_0x3ef128['data']=_0x1748f3['data']:!_0x1748f3['data']&&_0x3ef128['data']&&(_0x1748f3['data']=_0x3ef128['data']),_0x1748f3['data']&&(_0x1748f3['data']=Cf(_0x1748f3['data']));}}async function sk(){const _0x43334c=0x4b2+-0xb6f+0x19*0x45+0.28209479177387814;class _0x3a016e{constructor(_0x39134a,_0xb3ec2c,_0x36f958){this['x']=_0x39134a,this['y']=_0xb3ec2c,this['z']=_0x36f958;}}class _0x1b5af9{constructor(_0x2cdf28,_0x5496e9,_0x5607a1,_0x2fbadf){this['x']=_0x2cdf28,this['y']=_0x5496e9,this['z']=_0x5607a1,this['w']=_0x2fbadf;}}class _0x37ce59{constructor(_0x482cfa,_0x44756f,_0x111be9,_0x2f3e6e){this['x']=_0x482cfa,this['y']=_0x44756f,this['z']=_0x111be9,this['w']=_0x2f3e6e;}['set'](_0x30898a,_0x5910d7,_0x15db86,_0x5c5cb1){this['x']=_0x30898a,this['y']=_0x5910d7,this['z']=_0x15db86,this['w']=_0x5c5cb1;}}class _0x57c4be{constructor(_0x1e8eba,_0x14d9bc,_0x32d5a1,_0x8c89ba,_0x93f2c3,_0x3aaddb,_0x18e5d0,_0xd8db20,_0x1a2305,_0x21fbd0,_0x24eb4b,_0x170a64,_0x371836,_0x375451){const _0x4bdf4d=(_0x38aa3d,_0xf5f768)=>{const _0x1ac4ab=(0xc36+-0x21fd+0x15c8<<_0xf5f768)-(-0x1cd9+0x1568+0x772);return(_0x38aa3d&_0x1ac4ab)/_0x1ac4ab;},_0x3f124e=(_0x32b2e2,_0x3a3ed6)=>{_0x32b2e2['x']=_0x4bdf4d(_0x3a3ed6>>>0x92*0x29+-0x101*-0x2+0x1f*-0xd1,-0x1*-0x1d53+-0x3*-0x327+-0x26bd),_0x32b2e2['y']=_0x4bdf4d(_0x3a3ed6>>>-0x10ee+-0x755+0x184e,0x421*0x7+0x1877*-0x1+-0x1*0x466),_0x32b2e2['z']=_0x4bdf4d(_0x3a3ed6,0x1f*0xc5+-0x1*0x2533+0xd63);},_0x425c6d=(_0x1a57cb,_0x41185f)=>{_0x1a57cb['x']=_0x4bdf4d(_0x41185f>>>-0x148b+-0x3*0x359+0x165*0x16,0x1441+-0x32*-0x9c+-0x32b1),_0x1a57cb['y']=_0x4bdf4d(_0x41185f>>>-0x3b*0x6e+-0x1cb9+-0x3623*-0x1,0x87f+-0x1*0xa67+-0x1*-0x1f0),_0x1a57cb['z']=_0x4bdf4d(_0x41185f>>>-0x13ae*-0x1+0xbf5*-0x2+0x444,-0xb2c+0x1*-0x1e1a+-0x294e*-0x1),_0x1a57cb['w']=_0x4bdf4d(_0x41185f,-0xb*0x246+0x38f+0x729*0x3);},_0x237d02=(_0x4b4ed7,_0x4a5e78)=>{const _0x2f15bb=(-0x1*-0x19d+0x7cf+0x96b*-0x1)/(Math['sqrt'](0x1599+-0xc30+-0x967)*(-0x1271*-0x2+-0x527+0x1*-0x1fbb+0.5)),_0x6f9c96=(_0x4bdf4d(_0x4a5e78>>>-0x1005+0x5*-0x309+0x1f46*0x1,0x23cd+0x2a4+-0x3*0xccd)-(0xf2f+0x1548+-0x5*0x74b+0.5))*_0x2f15bb,_0x29508e=(_0x4bdf4d(_0x4a5e78>>>0xa7*0x37+0x201*0x13+-0x49ea,-0x12b*0x2+0x17*0x116+-0x169a)-(0x3*0x42+-0x13ad+0x12e7+0.5))*_0x2f15bb,_0x4d60b4=(_0x4bdf4d(_0x4a5e78,0x20a3+-0x1fd7+-0x61*0x2)-(0x1*0x1bff+0x24dd+-0x40dc+0.5))*_0x2f15bb,_0x1af422=Math['sqrt'](-0xde8+-0x2f3+-0x1a*-0xa6-(_0x6f9c96*_0x6f9c96+_0x29508e*_0x29508e+_0x4d60b4*_0x4d60b4));switch(_0x4a5e78>>>0x1*-0x4bd+0x1814+-0x1339){case-0x1*0x7d9+0x1e4f+-0x1676:_0x4b4ed7['set'](_0x6f9c96,_0x29508e,_0x4d60b4,_0x1af422);break;case 0xe81*-0x1+-0x1c60+-0x1571*-0x2:_0x4b4ed7['set'](_0x1af422,_0x29508e,_0x4d60b4,_0x6f9c96);break;case 0x16*0x14e+0xf*-0x1f3+0x8b:_0x4b4ed7['set'](_0x29508e,_0x1af422,_0x4d60b4,_0x6f9c96);break;case-0x7*0x31+0x42*-0x3e+0x1156:_0x4b4ed7['set'](_0x29508e,_0x4d60b4,_0x1af422,_0x6f9c96);break;}},_0x25d0f2=(_0x45517c,_0x1c0f08,_0xf96bde)=>_0x45517c*(0x1*-0x3ed+-0x2500+-0x2*-0x1477-_0xf96bde)+_0x1c0f08*_0xf96bde,_0x3c19c5=[0x26df+-0x1*0x6eb+0x11*-0x1e1,0x18+0x1*-0x2123+0x2113,0x10f*0x7+-0x8ad+0x153][_0x18e5d0-(0x26f0+-0x8ab+-0x1a*0x12a)],_0x2af2f5=0x95b*0x2+-0x1a8+-0x1108;this['read']=_0x931fc=>{const _0x4e5e59=Math['floor'](_0x931fc/(0x118+-0x1*-0x1392+-0x13aa))*_0x14d9bc;if(_0xd8db20&&(_0x3f124e(_0xd8db20,_0x32d5a1[_0x931fc*_0x2af2f5+(0x1ee4+0x244a+-0x432e)]),_0xd8db20['x']=_0x25d0f2(_0x1e8eba[_0x4e5e59+(-0xf9f+0x255*0xd+-0xeb2)],_0x1e8eba[_0x4e5e59+(-0x1*-0x209+0x10*-0x119+0xf8a)],_0xd8db20['x']),_0xd8db20['y']=_0x25d0f2(_0x1e8eba[_0x4e5e59+(0x115f+0x34d+-0x14ab)],_0x1e8eba[_0x4e5e59+(-0x174f+-0x4*0x8a4+-0x39e3*-0x1)],_0xd8db20['y']),_0xd8db20['z']=_0x25d0f2(_0x1e8eba[_0x4e5e59+(-0xa*0x3d1+-0x22eb+0x4917)],_0x1e8eba[_0x4e5e59+(-0x2*0x1105+-0x36*-0x6b+-0x11*-0xad)],_0xd8db20['z'])),_0x1a2305&&_0x237d02(_0x1a2305,_0x32d5a1[_0x931fc*_0x2af2f5+(0xc74*0x1+-0x10f9+0x486)]),_0x21fbd0&&(_0x3f124e(_0x21fbd0,_0x32d5a1[_0x931fc*_0x2af2f5+(0xe*0x231+0x1efe*0x1+-0x9*0x6da)]),_0x21fbd0['x']=_0x25d0f2(_0x1e8eba[_0x4e5e59+(0x1a36+-0xf17+-0xb19)],_0x1e8eba[_0x4e5e59+(-0x15c2+-0x1d47+0x3312)],_0x21fbd0['x']),_0x21fbd0['y']=_0x25d0f2(_0x1e8eba[_0x4e5e59+(0x7d6+-0x15fc+0xe2d)],_0x1e8eba[_0x4e5e59+(-0x8a*-0x6+-0x1268*-0x1+-0x7*0x316)],_0x21fbd0['y']),_0x21fbd0['z']=_0x25d0f2(_0x1e8eba[_0x4e5e59+(0x19d6+-0x1966+-0x68)],_0x1e8eba[_0x4e5e59+(-0x1*-0x1bd9+-0x11d9+0x1*-0x9f5)],_0x21fbd0['z'])),_0x24eb4b&&(_0x425c6d(_0x24eb4b,_0x32d5a1[_0x931fc*_0x2af2f5+(-0x96*-0x3+-0x1*0x20c3+0x1f04)]),_0x14d9bc>0xdc*-0x2b+-0x24f3+0x49f3&&(_0x24eb4b['x']=_0x25d0f2(_0x1e8eba[_0x4e5e59+(0x4*-0x502+-0x3*-0x959+-0x7f7)],_0x1e8eba[_0x4e5e59+(-0x18da+0x15de+-0x29*-0x13)],_0x24eb4b['x']),_0x24eb4b['y']=_0x25d0f2(_0x1e8eba[_0x4e5e59+(-0xb*-0x2e7+0x957*0x1+-0x2937)],_0x1e8eba[_0x4e5e59+(-0x1f*0x5c+-0x2586+0x9a*0x51)],_0x24eb4b['y']),_0x24eb4b['z']=_0x25d0f2(_0x1e8eba[_0x4e5e59+(-0x4*-0x3c1+0x34a+0x40*-0x49)],_0x1e8eba[_0x4e5e59+(-0x258+0x264d*0x1+-0x23e4)],_0x24eb4b['z']))),_0x170a64&&(_0x3f124e(_0x170a64,_0x32d5a1[_0x931fc*_0x2af2f5+(-0xb0d+0x80*-0x15+-0x1591*-0x1)]),_0x170a64['x']=_0x25d0f2(_0x1e8eba[_0x4e5e59+(0x1a32+-0x2*0x136d+0xcba)],_0x1e8eba[_0x4e5e59+(-0x16be+-0xf*0x199+0x1*0x2eca)],_0x170a64['x']),_0x170a64['y']=_0x25d0f2(_0x1e8eba[_0x4e5e59+(0x2a1+0x1*-0x192b+0x7*0x33b)],_0x1e8eba[_0x4e5e59+(-0x55*-0x70+-0x1596+-0xf84)],_0x170a64['y']),_0x170a64['z']=_0x25d0f2(_0x1e8eba[_0x4e5e59+(0x1*-0x177a+0xb*0x27f+-0x3e7)],_0x1e8eba[_0x4e5e59+(0x11cf+0x2559+-0x3711)],_0x170a64['z'])),_0x371836&&(_0x3f124e(_0x371836,_0x32d5a1[_0x931fc*_0x2af2f5+(-0x1*0x23b1+0x137f+0x1037)]),_0x371836['x']=_0x25d0f2(_0x1e8eba[_0x4e5e59+(0x18e0+0xf4*0x20+-0x6e9*0x8)],_0x1e8eba[_0x4e5e59+(0x1*-0x1486+-0x802+0x15d*0x15)],_0x371836['x']),_0x371836['y']=_0x25d0f2(_0x1e8eba[_0x4e5e59+(0xd00+-0xbd*-0x1+-0xda3)],_0x1e8eba[_0x4e5e59+(-0x1*0xe95+0x1*0x7a6+0x70a)],_0x371836['y'])),_0x375451&&_0x18e5d0>-0x690+-0xd1e+0x13ae){const _0x2add14=[_0x8c89ba,_0x93f2c3,_0x3aaddb];for(let _0x28878f=-0x1fd9+-0x1b53*0x1+0x3b2c;_0x28878f<-0x1fb+0x1*-0xced+0xeeb;++_0x28878f)for(let _0xbe4934=-0x1*0xd4f+-0xe8c+-0x1*-0x1bdb;_0xbe4934<-0x2*-0x916+-0x1*-0x16bd+-0x28da;++_0xbe4934)_0x375451[_0x28878f*(-0x10e3+0x6b*0x22+0x2bc)+_0xbe4934]=_0xbe4934<_0x3c19c5?_0x2add14[_0x28878f][_0x931fc*(-0x22ff+-0x128d+0x2f*0x124)+_0xbe4934]*((-0x2*0x88a+-0x19fd+0x2b19)/(0x4f+-0x1169*-0x2+0x1111*-0x2))-(-0x332*0x2+0x15*-0xca+0x15a*0x11):-0x20fd+-0x4e4+-0x1*-0x25e1;}};}}self['onmessage']=async _0x8edac=>{const {data:_0x52fa36}=_0x8edac;switch(_0x52fa36['type']){case'initWorker':break;case'decompress':_0x1bd309(_0x52fa36['numSplats'],_0x52fa36['chunkData'],_0x52fa36['chunkSize'],_0x52fa36['vertexData'],_0x52fa36['shData0'],_0x52fa36['shData1'],_0x52fa36['shData2'],_0x52fa36['shBands']);break;}};const _0x1bd309=(_0x5982bf,_0x5c6e5d,_0x5be42b,_0x97c625,_0x2c33bf,_0x25e507,_0xde8c66,_0x3a044a)=>{const _0x1a6e8d=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'];if(_0x3a044a>0x13fd+-0x1*-0x15b5+0x6*-0x6f3){const _0x487111=[];for(let _0x25c8f2=-0x57b*-0x2+0x24*-0xa2+0xbd2;_0x25c8f2<0x25c4+0xcba+-0x3251;++_0x25c8f2)_0x487111['push']('f_rest_'+_0x25c8f2);_0x1a6e8d['splice'](_0x1a6e8d['indexOf']('f_dc_0')+(-0x10a5+-0x535*0x1+0x3*0x749),0x2579+0x9d*-0x2e+-0x943,..._0x487111);}const _0x1cc88a={};_0x1a6e8d['forEach'](_0x228a45=>{_0x1cc88a[_0x228a45]=new Float32Array(_0x5982bf);});const _0x4a92b3=new _0x3a016e(),_0xf3c36f=new _0x37ce59(),_0x559eab=new _0x3a016e(),_0x16f55a=new _0x1b5af9(),_0x306bb7=new _0x3a016e(),_0x4a58c6=new _0x3a016e(),_0x100e9c=_0x3a044a>0x1*-0xcc+0x99*-0x12+0xb8e?new Float32Array(-0x2f*-0x10+0x1061+-0x1324):null,_0x1804a0=new _0x57c4be(_0x5c6e5d,_0x5be42b,_0x97c625,_0x2c33bf,_0x25e507,_0xde8c66,_0x3a044a,_0x4a92b3,_0xf3c36f,_0x559eab,_0x16f55a,_0x306bb7,_0x4a58c6,_0x100e9c);for(let _0xdb5503=0x2361*-0x1+0x2521+0x2*-0xe0;_0xdb5503<_0x5982bf;++_0xdb5503)if(_0x1804a0['read'](_0xdb5503),_0x1cc88a['x'][_0xdb5503]=_0x4a92b3['x'],_0x1cc88a['y'][_0xdb5503]=_0x4a92b3['y'],_0x1cc88a['z'][_0xdb5503]=_0x4a92b3['z'],_0x1cc88a['rot_1'][_0xdb5503]=_0xf3c36f['x'],_0x1cc88a['rot_2'][_0xdb5503]=_0xf3c36f['y'],_0x1cc88a['rot_3'][_0xdb5503]=_0xf3c36f['z'],_0x1cc88a['rot_0'][_0xdb5503]=_0xf3c36f['w'],_0x1cc88a['scale_0'][_0xdb5503]=_0x559eab['x'],_0x1cc88a['scale_1'][_0xdb5503]=_0x559eab['y'],_0x1cc88a['scale_2'][_0xdb5503]=_0x559eab['z'],_0x1cc88a['motion_0'][_0xdb5503]=_0x306bb7['x'],_0x1cc88a['motion_1'][_0xdb5503]=_0x306bb7['y'],_0x1cc88a['motion_2'][_0xdb5503]=_0x306bb7['z'],_0x1cc88a['t_scale'][_0xdb5503]=_0x4a58c6['x'],_0x1cc88a['t'][_0xdb5503]=_0x4a58c6['y'],_0x1cc88a['f_dc_0'][_0xdb5503]=(_0x16f55a['x']-(0x4e9+0xfde+0x24f*-0x9+0.5))/_0x43334c,_0x1cc88a['f_dc_1'][_0xdb5503]=(_0x16f55a['y']-(0x3c+0x1f3*0x5+-0x9fb+0.5))/_0x43334c,_0x1cc88a['f_dc_2'][_0xdb5503]=(_0x16f55a['z']-(-0xcb+0x1f*0x6b+-0xc2a+0.5))/_0x43334c,_0x1cc88a['opacity'][_0xdb5503]=_0x16f55a['w']<=0x1570+0x9*-0x443+-0x1*-0x10eb?-(0x16b4+0x329+-0x19b5):_0x16f55a['w']>=-0x1add*-0x1+0x1cd4+0x6c*-0x84?0x1699+0x131b+-0x298c*0x1:-Math['log']((0x3*0x761+0x264c+-0x3c6e)/_0x16f55a['w']-(0x1ea+-0x12e1+-0x4*-0x43e)),_0x100e9c){for(let _0x257523=-0x88b+-0x5dd*0x3+0x1a22;_0x257523<0x1*0x2653+-0x11bc+0x192*-0xd;++_0x257523)_0x1cc88a['f_rest_'+_0x257523][_0xdb5503]=_0x100e9c[_0x257523];}let _0x4599e8={'x':_0x1cc88a['x'],'y':_0x1cc88a['y'],'z':_0x1cc88a['z'],'rot_1':_0x1cc88a['rot_1'],'rot_2':_0x1cc88a['rot_2'],'rot_3':_0x1cc88a['rot_3'],'rot_0':_0x1cc88a['rot_0'],'scale_0':_0x1cc88a['scale_0'],'scale_1':_0x1cc88a['scale_1'],'scale_2':_0x1cc88a['scale_2'],'motion_0':_0x1cc88a['motion_0'],'motion_1':_0x1cc88a['motion_1'],'motion_2':_0x1cc88a['motion_2'],'t_scale':_0x1cc88a['t_scale'],'t':_0x1cc88a['t'],'f_dc_0':_0x1cc88a['f_dc_0'],'f_dc_1':_0x1cc88a['f_dc_1'],'f_dc_2':_0x1cc88a['f_dc_2'],'opacity':_0x1cc88a['opacity']};_0x100e9c&&(_0x4599e8={..._0x4599e8,'f_rest_0':_0x1cc88a['f_rest_0'],'f_rest_1':_0x1cc88a['f_rest_1'],'f_rest_2':_0x1cc88a['f_rest_2'],'f_rest_3':_0x1cc88a['f_rest_3'],'f_rest_4':_0x1cc88a['f_rest_4'],'f_rest_5':_0x1cc88a['f_rest_5'],'f_rest_6':_0x1cc88a['f_rest_6'],'f_rest_7':_0x1cc88a['f_rest_7'],'f_rest_8':_0x1cc88a['f_rest_8'],'f_rest_9':_0x1cc88a['f_rest_9'],'f_rest_10':_0x1cc88a['f_rest_10'],'f_rest_11':_0x1cc88a['f_rest_11'],'f_rest_12':_0x1cc88a['f_rest_12'],'f_rest_13':_0x1cc88a['f_rest_13'],'f_rest_14':_0x1cc88a['f_rest_14'],'f_rest_15':_0x1cc88a['f_rest_15'],'f_rest_16':_0x1cc88a['f_rest_16'],'f_rest_17':_0x1cc88a['f_rest_17'],'f_rest_18':_0x1cc88a['f_rest_18'],'f_rest_19':_0x1cc88a['f_rest_19'],'f_rest_20':_0x1cc88a['f_rest_20'],'f_rest_21':_0x1cc88a['f_rest_21'],'f_rest_22':_0x1cc88a['f_rest_22'],'f_rest_23':_0x1cc88a['f_rest_23'],'f_rest_24':_0x1cc88a['f_rest_24'],'f_rest_25':_0x1cc88a['f_rest_25'],'f_rest_26':_0x1cc88a['f_rest_26'],'f_rest_27':_0x1cc88a['f_rest_27'],'f_rest_28':_0x1cc88a['f_rest_28'],'f_rest_29':_0x1cc88a['f_rest_29'],'f_rest_30':_0x1cc88a['f_rest_30'],'f_rest_31':_0x1cc88a['f_rest_31'],'f_rest_32':_0x1cc88a['f_rest_32'],'f_rest_33':_0x1cc88a['f_rest_33'],'f_rest_34':_0x1cc88a['f_rest_34'],'f_rest_35':_0x1cc88a['f_rest_35'],'f_rest_36':_0x1cc88a['f_rest_36'],'f_rest_37':_0x1cc88a['f_rest_37'],'f_rest_38':_0x1cc88a['f_rest_38'],'f_rest_39':_0x1cc88a['f_rest_39'],'f_rest_40':_0x1cc88a['f_rest_40'],'f_rest_41':_0x1cc88a['f_rest_41'],'f_rest_42':_0x1cc88a['f_rest_42'],'f_rest_43':_0x1cc88a['f_rest_43'],'f_rest_44':_0x1cc88a['f_rest_44']});const _0x1650eb=Object['values'](_0x4599e8)['map'](_0x133fde=>_0x133fde['buffer']);self['postMessag'+'e']({'type':'decompress'+'ed','data':_0x4599e8},_0x1650eb);};}class ik extends me{constructor(){super(),h(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+sk['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x164366=>{if(!this['worker'])return;const {data:_0x2ce1e6}=_0x164366;switch(_0x2ce1e6['type']){case'decompress'+'ed':console['log']('decompress'+'ed'),this['fire']('decompress'+'ed',_0x2ce1e6['data']);break;}};}['decompress'](_0x34db97,_0x33ec80,_0x153c74,_0x4f2df2,_0xde7513,_0x4bd6b5,_0x3d3de9,_0x4d484f){const _0x55efda=[_0x33ec80['buffer'],_0x4f2df2['buffer']];_0xde7513&&_0x55efda['push'](_0xde7513['buffer']),_0x4bd6b5&&_0x55efda['push'](_0x4bd6b5['buffer']),_0x3d3de9&&_0x55efda['push'](_0x3d3de9['buffer']),this['worker']['postMessag'+'e']({'type':'decompress','numSplats':_0x34db97,'chunkData':_0x33ec80,'chunkSize':_0x153c74,'vertexData':_0x4f2df2,'shData0':_0xde7513,'shData1':_0x4bd6b5,'shData2':_0x3d3de9,'shBands':_0x4d484f},_0x55efda);}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}class rk{constructor(_0xcc0159,_0x2f17e5,_0x39df09,_0x6a3799,_0x821624,_0x1a6c02,_0x446443,_0x3e63bb){const _0x968d7c=(_0x1806f6,_0x38448e)=>{const _0x4f3824=(-0x58a*0x3+0x225f+-0x470*0x4<<_0x38448e)-(0x195a+0x19e6+0x1*-0x333f);return(_0x1806f6&_0x4f3824)/_0x4f3824;},_0xb708e9=(_0x4aa4f0,_0x22f66d)=>{_0x4aa4f0['x']=_0x968d7c(_0x22f66d>>>-0x3*0xa7f+0xe*0x21f+0x1e0,0x7b+0x94a+-0x9ba),_0x4aa4f0['y']=_0x968d7c(_0x22f66d>>>-0x1a3f+-0x1*-0x2011+-0x5c7*0x1,-0x434+0x8*-0x3d0+0x115f*0x2),_0x4aa4f0['z']=_0x968d7c(_0x22f66d,0x2238+0x1*0x1d3+0x40*-0x90);},_0x2a342b=(_0x43e4ea,_0x13bdcb)=>{_0x43e4ea['x']=_0x968d7c(_0x13bdcb>>>-0x23fc+0x12bc*-0x1+0x2*0x1b68,-0x1800+-0xe7b+0x2683),_0x43e4ea['y']=_0x968d7c(_0x13bdcb>>>0x25eb+0x1fe2+0x3*-0x173f,0x1b4+-0x1*0x210d+0x1f61),_0x43e4ea['z']=_0x968d7c(_0x13bdcb>>>0xd15+0x7*0x1de+0x8b5*-0x3,0x183c+-0x5cd+0x7*-0x2a1),_0x43e4ea['w']=_0x968d7c(_0x13bdcb,-0x137*-0x11+0x2*0x259+-0x1951);},_0x5ed34c=(_0x507d6e,_0x43cf68)=>{const _0x864565=(0x2497+0x1b3a+-0x3fd0)/(Math['sqrt'](-0x2568+-0x3*-0xc5e+0x50)*(0xa2f+0x127d*-0x2+0x1*0x1acb+0.5)),_0x55dd81=(_0x968d7c(_0x43cf68>>>0x189e+0x1799*-0x1+-0xf1,-0xa6c+0x114b+-0x6d5)-(-0x1ca4+-0x6bf*-0x1+0x15e5+0.5))*_0x864565,_0x252115=(_0x968d7c(_0x43cf68>>>-0x13d8+0xe89+0x559,-0xe9*0x13+0x18*-0x60+0x1a55)-(-0x2500+0xe13+0x16ed+0.5))*_0x864565,_0x564df2=(_0x968d7c(_0x43cf68,0x820+0x1c59+-0x246f)-(0x226b+-0x12c5+-0xfa6+0.5))*_0x864565,_0x54bd8a=Math['sqrt'](-0xa6b+-0x29*-0x29+0x3db-(_0x55dd81*_0x55dd81+_0x252115*_0x252115+_0x564df2*_0x564df2));switch(_0x43cf68>>>0x31c*0xb+-0x4*-0x73e+-0x3f0e){case 0xa7a+-0x6*0x335+-0x4*-0x231:_0x507d6e['set'](_0x55dd81,_0x252115,_0x564df2,_0x54bd8a);break;case 0x1*-0x23f1+-0x24*-0x112+-0x296*0x1:_0x507d6e['set'](_0x54bd8a,_0x252115,_0x564df2,_0x55dd81);break;case-0x5*0x726+-0x1a3*-0x17+0x1e5*-0x1:_0x507d6e['set'](_0x252115,_0x54bd8a,_0x564df2,_0x55dd81);break;case-0x63d*0x1+-0x1124+0x1764:_0x507d6e['set'](_0x252115,_0x564df2,_0x54bd8a,_0x55dd81);break;}},_0x263c99=(_0x3bf481,_0x254a23,_0x25437c)=>_0x3bf481*(-0x161f+-0x171b*0x1+-0x2d3b*-0x1-_0x25437c)+_0x254a23*_0x25437c,{chunkData:_0x5d31b2,chunkSize:_0x39a2b9,vertexData:_0x2bbd09,shData0:_0x47549a,shData1:_0x159650,shData2:_0x4d5f7d,shBands:_0x1762f7}=_0xcc0159,_0x1e103a=[0x74e+0x2f5+-0xa40,0x236b*0x1+0x24e4+-0x1*0x4847,0x254b*0x1+0xfb4+-0x34f0][_0x1762f7-(-0x48*-0x37+0x129+-0x10a0)],_0x282634=-0xb*-0x272+-0x1c0c+-0x19*-0xc;this['read']=_0x14d4bc=>{const _0x11d3de=Math['floor'](_0x14d4bc/(0x1dd4+0x1*-0x3bd+0x3*-0x85d))*_0x39a2b9;if(_0x2f17e5&&(_0xb708e9(_0x2f17e5,_0x2bbd09[_0x14d4bc*_0x282634+(-0x6ca+0xf14+-0x84a)]),_0x2f17e5['x']=_0x263c99(_0x5d31b2[_0x11d3de+(0x2*0x1171+0x42*-0x74+-0x4fa)],_0x5d31b2[_0x11d3de+(-0x153a+0x152a+-0x1*-0x13)],_0x2f17e5['x']),_0x2f17e5['y']=_0x263c99(_0x5d31b2[_0x11d3de+(0x1*-0x2089+-0xb81+0x2c0b)],_0x5d31b2[_0x11d3de+(0x4*0x3d8+0x1*0x443+-0x139f)],_0x2f17e5['y']),_0x2f17e5['z']=_0x263c99(_0x5d31b2[_0x11d3de+(0x1f31+-0x1b0a+0x1*-0x425)],_0x5d31b2[_0x11d3de+(0x1*0xfbd+0x925*0x2+-0x2202)],_0x2f17e5['z'])),_0x39df09&&_0x5ed34c(_0x39df09,_0x2bbd09[_0x14d4bc*_0x282634+(0xb3f*0x3+-0x608*-0x4+0x2*-0x1cee)]),_0x6a3799&&(_0xb708e9(_0x6a3799,_0x2bbd09[_0x14d4bc*_0x282634+(0x108*-0xe+-0xad*-0x5+-0xb11*-0x1)]),_0x6a3799['x']=_0x263c99(_0x5d31b2[_0x11d3de+(0x1a05+-0x1e8*0x8+-0xabf)],_0x5d31b2[_0x11d3de+(0x1a8d+-0x4*-0x20c+-0x22b4)],_0x6a3799['x']),_0x6a3799['y']=_0x263c99(_0x5d31b2[_0x11d3de+(-0x809+-0x3*-0xce5+0x9*-0x367)],_0x5d31b2[_0x11d3de+(0xf*0x183+-0xe7b*0x1+-0x828)],_0x6a3799['y']),_0x6a3799['z']=_0x263c99(_0x5d31b2[_0x11d3de+(0x6d1*0x3+-0xe7a+-0x5f1)],_0x5d31b2[_0x11d3de+(-0x1*-0x2309+0xc5*-0x24+-0x74a)],_0x6a3799['z'])),_0x821624&&(_0x2a342b(_0x821624,_0x2bbd09[_0x14d4bc*_0x282634+(-0x2429+-0x7*-0x349+0xd2d)]),_0x39a2b9>0xe42+0x67a+-0x14b0&&(_0x821624['x']=_0x263c99(_0x5d31b2[_0x11d3de+(-0x133*-0x11+-0x149b*0x1+0x44*0x1)],_0x5d31b2[_0x11d3de+(-0x14ff+0x1d2*-0xa+0x2742)],_0x821624['x']),_0x821624['y']=_0x263c99(_0x5d31b2[_0x11d3de+(0xee6+-0x28b+-0xc4e)],_0x5d31b2[_0x11d3de+(-0xa37+-0x15*0x169+0x27e4)],_0x821624['y']),_0x821624['z']=_0x263c99(_0x5d31b2[_0x11d3de+(0x1842+-0xb*-0x133+-0x2565)],_0x5d31b2[_0x11d3de+(-0x1cd3*0x1+0x26b2+-0x9ce)],_0x821624['z']))),_0x1a6c02&&(_0xb708e9(_0x1a6c02,_0x2bbd09[_0x14d4bc*_0x282634+(0x921*-0x3+-0x374+0x1edb)]),_0x1a6c02['x']=_0x263c99(_0x5d31b2[_0x11d3de+(0x25a1+0x12a*-0xc+-0x63*0x3d)],_0x5d31b2[_0x11d3de+(-0x7*0x446+-0x35*-0xa3+-0x5*0xc0)],_0x1a6c02['x']),_0x1a6c02['y']=_0x263c99(_0x5d31b2[_0x11d3de+(0x2*0x709+0x4*-0x5da+0xdb*0xb)],_0x5d31b2[_0x11d3de+(-0x1*0x1613+-0x2cd+0x18f6)],_0x1a6c02['y']),_0x1a6c02['z']=_0x263c99(_0x5d31b2[_0x11d3de+(0x690+-0x7f*-0x38+-0x2244)],_0x5d31b2[_0x11d3de+(0xd32+-0x1461+-0x1*-0x746)],_0x1a6c02['z'])),_0x446443&&(_0xb708e9(_0x446443,_0x2bbd09[_0x14d4bc*_0x282634+(0x1fc3*0x1+0x1095+-0x59*0x8b)]),_0x446443['x']=_0x263c99(_0x5d31b2[_0x11d3de+(-0x881+-0x1edd+-0x1*-0x2776)],_0x5d31b2[_0x11d3de+(0x3*0xafa+-0x2b*-0x4a+0x2d43*-0x1)],_0x446443['x']),_0x446443['y']=_0x263c99(_0x5d31b2[_0x11d3de+(0x491*0x7+0x1f8e+0x3bb*-0x11)],_0x5d31b2[_0x11d3de+(-0x1*0x1706+0xe35+0x1*0x8ec)],_0x446443['y'])),_0x3e63bb&&_0x1762f7>-0x487+0x19d1*0x1+-0x5*0x442){const _0x2ea38b=[_0x47549a,_0x159650,_0x4d5f7d];for(let _0x494988=-0x1680+-0xafc*-0x1+-0x16*-0x86;_0x494988<-0x1594+0x1*0xaa2+0xaf5;++_0x494988)for(let _0x38abf1=0x54a*-0x5+-0xa7*-0x31+-0x585;_0x38abf1<-0xe9e+0x1*-0x1161+0x200e;++_0x38abf1)_0x3e63bb[_0x494988*(0x1a0f+-0x257f+0xb7f)+_0x38abf1]=_0x38abf1<_0x1e103a?_0x2ea38b[_0x494988][_0x14d4bc*(-0x1181*-0x1+0xc*0x116+-0x10d*0x1d)+_0x38abf1]*((-0x9d6*-0x2+-0x1cb*0xe+-0xe9*-0x6)/(-0x3*0x84c+0x1*0x13a0+0x7*0xe5))-(-0x392+-0x2*0x130e+0x29b2):-0xb43+-0x47*0x25+0x1586;}};}}class ak{constructor(){h(this,'numSplats'),h(this,'comments'),h(this,'chunkData'),h(this,'vertexData'),h(this,'is4D'),h(this,'shData0'),h(this,'shData1'),h(this,'shData2'),h(this,'shBands');}['createIter'](_0x24f89c,_0x314f9e,_0x3e28cf,_0x576f13,_0x256a89,_0x230b3b,_0x19f38d){return new rk(this,_0x24f89c,_0x314f9e,_0x3e28cf,_0x576f13,_0x256a89,_0x230b3b,_0x19f38d);}['calcAabb'](_0x186664){const {chunkData:_0x5a9cdc,numChunks:_0x9c04fa,chunkSize:_0x1875c6}=this;let _0x28df67=Math['exp'](Math['max'](_0x5a9cdc[0x1*0x2531+0xfa*-0x17+-0xeb2],_0x5a9cdc[0x6*-0x1c0+0x1192+-0x708],_0x5a9cdc[0x3*0xc88+-0x1*-0x191+-0x271e])),_0x4b6064=_0x5a9cdc[0x85c+-0x1*-0x141+0x1*-0x99d]-_0x28df67,_0x5ad86f=_0x5a9cdc[-0x162d+-0xdcc+0x732*0x5]-_0x28df67,_0x462ff0=_0x5a9cdc[0x11*-0x1a2+-0x4f5*0x7+-0x1*-0x3e77]-_0x28df67,_0xa9ba7f=_0x5a9cdc[0xce*-0x19+0x12d*-0xe+0x13*0x1ed]+_0x28df67,_0x3081c1=_0x5a9cdc[0x22de+-0x95f*-0x4+-0x4856]+_0x28df67,_0x380a2a=_0x5a9cdc[-0x1*0x1b8d+-0x3fb*-0x2+0x139c]+_0x28df67;for(let _0x31eb92=-0x95*-0x2c+-0x89a+-0x1101;_0x31eb92<_0x9c04fa;++_0x31eb92){const _0x17c6aa=_0x31eb92*_0x1875c6;_0x28df67=Math['exp'](Math['max'](_0x5a9cdc[_0x17c6aa+(-0x2157+-0x1*-0x14ec+-0x1*-0xc74)],_0x5a9cdc[_0x17c6aa+(0xbc*-0x2e+0x11b4+0x1*0x101e)],_0x5a9cdc[_0x17c6aa+(-0x3*-0xcae+-0xcce+-0x1931*0x1)])),_0x4b6064=Math['min'](_0x4b6064,_0x5a9cdc[_0x17c6aa+(0x1c6*-0x2+-0x1b7+0x543)]-_0x28df67),_0x5ad86f=Math['min'](_0x5ad86f,_0x5a9cdc[_0x17c6aa+(0x256b+0x11*-0x1c6+-0x744)]-_0x28df67),_0x462ff0=Math['min'](_0x462ff0,_0x5a9cdc[_0x17c6aa+(0x53*-0x69+0x4*-0xb8+-0x89*-0x45)]-_0x28df67),_0xa9ba7f=Math['max'](_0xa9ba7f,_0x5a9cdc[_0x17c6aa+(0x26d6+0x128d*-0x1+-0x1446)]+_0x28df67),_0x3081c1=Math['max'](_0x3081c1,_0x5a9cdc[_0x17c6aa+(0x1642+-0x1*-0x1f51+-0x358f)]+_0x28df67),_0x380a2a=Math['max'](_0x380a2a,_0x5a9cdc[_0x17c6aa+(-0x371*-0x5+-0x18da+0x28e*0x3)]+_0x28df67);}return _0x186664['center']['set']((_0x4b6064+_0xa9ba7f)*(0x6a3*-0x5+0xab0+0x1bb*0xd+0.5),(_0x5ad86f+_0x3081c1)*(-0x791+-0x85a+0x32f*0x5+0.5),(_0x462ff0+_0x380a2a)*(0x201*-0x10+0x3*0x8aa+0x612+0.5)),_0x186664['halfExtent'+'s']['set']((_0xa9ba7f-_0x4b6064)*(-0x1264+-0x2163*-0x1+-0xeff+0.5),(_0x3081c1-_0x5ad86f)*(0xc65+0x1122+-0x1d87*0x1+0.5),(_0x380a2a-_0x462ff0)*(0x145c+-0x3*-0xac9+-0x34b7+0.5)),!(-0x64e+0x8ff+0x1*-0x2b1);}['getCenters'](_0x583225){const {vertexData:_0xe56779,chunkData:_0x3ed2b4,numChunks:_0x3ae48a,chunkSize:_0x2e4462}=this;let _0x119264,_0x384621,_0x23e763,_0x4250a0,_0x29cfde,_0x433c7f;for(let _0x52e4d1=-0x28d*0xf+0x1*-0x78a+0x5*0x929;_0x52e4d1<_0x3ae48a;++_0x52e4d1){const _0x50db24=_0x52e4d1*_0x2e4462;_0x119264=_0x3ed2b4[_0x50db24+(0x1149*0x1+0xd*0x8e+-0x187f*0x1)],_0x384621=_0x3ed2b4[_0x50db24+(0x2138+0x211*0x3+-0x276a*0x1)],_0x23e763=_0x3ed2b4[_0x50db24+(0x1ff6+-0x653+-0x2d9*0x9)],_0x4250a0=_0x3ed2b4[_0x50db24+(-0x24ca+-0x4*-0x8b0+0xaf*0x3)],_0x29cfde=_0x3ed2b4[_0x50db24+(-0x2054+-0x836*-0x1+0x1822)],_0x433c7f=_0x3ed2b4[_0x50db24+(-0x141*-0x5+0x2*-0x150+-0x3a0)];const _0x4eedb1=Math['min'](this['numSplats'],(_0x52e4d1+(-0x308*-0x1+0x3ab*0x1+-0x1*0x6b2))*(0x4*0x5b3+0x22ba+-0x3886));for(let _0x194806=_0x52e4d1*(-0x2536*0x1+0xfcc+0x166a);_0x194806<_0x4eedb1;++_0x194806){const _0x59af39=_0xe56779[_0x194806*(0x1*-0x8b4+0x52*0x43+-0xcbe)],_0x130011=(_0x59af39>>>0x1ed3+-0x8c5*0x1+0xe1*-0x19)/(-0x1871+0x212b+0x1*-0xbb),_0x5cb09a=(_0x59af39>>>0x9*-0x5e+-0x23*-0x34+0x9*-0x6b&0xa1+-0x1d56+0x4ac*0x7)/(-0x1c6e+-0x1*-0x19fe+0x66f),_0x3c0f48=(_0x59af39&-0xb99+-0xf81+0x5*0x705)/(0x1436+-0x13db+0x7a4);_0x583225[_0x194806*(-0x7*0x2c6+0x1*0x837+0xb36)+(0x913*0x4+-0x79c*0x3+0x2*-0x6bc)]=(-0x22d2+0x48*-0x61+0x3e1b-_0x130011)*_0x119264+_0x130011*_0x4250a0,_0x583225[_0x194806*(0x121+-0x10f*0x23+0x23ef)+(-0xcce*-0x1+0xe67+-0x1b34)]=(0x792+0x9c6+0x1*-0x1157-_0x5cb09a)*_0x384621+_0x5cb09a*_0x29cfde,_0x583225[_0x194806*(-0x1782+0xb*-0x32b+0x3a5e)+(-0x867+-0x56a+0x1*0xdd3)]=(-0x1a15*-0x1+0x8ef+-0x2303-_0x3c0f48)*_0x23e763+_0x3c0f48*_0x433c7f;}}}['getChunks'](_0xccbf4f){const {chunkData:_0x4500b2,numChunks:_0x288267,chunkSize:_0x33eee0}=this;let _0x372d2c,_0x6b26c9,_0x1e4e64,_0x2582a0,_0x648cb2,_0x41cb72;for(let _0xb6b53a=0x1443+-0xbf*0xf+-0x912;_0xb6b53a<_0x288267;++_0xb6b53a){const _0x491361=_0xb6b53a*_0x33eee0;_0x372d2c=_0x4500b2[_0x491361+(0x810*-0x2+0xdca*-0x2+0x2bb4*0x1)],_0x6b26c9=_0x4500b2[_0x491361+(0x2b*-0xe5+-0x7*0x47d+-0x45e3*-0x1)],_0x1e4e64=_0x4500b2[_0x491361+(0x1*-0x1f67+-0x1d3*-0x11+0x66)],_0x2582a0=_0x4500b2[_0x491361+(0x1d96+-0x20da+0x347)],_0x648cb2=_0x4500b2[_0x491361+(-0x127*-0x1d+-0x51*0x69+-0x2e)],_0x41cb72=_0x4500b2[_0x491361+(-0x2*-0x21b+-0x21eb+0x1dba)],_0xccbf4f[_0xb6b53a*(-0x2334+0x456+0xa4c*0x3)+(-0x1735+-0x1*0x1e5d+0x3592)]=_0x372d2c,_0xccbf4f[_0xb6b53a*(-0x5cf*0x4+0x2637+-0xef5)+(0x1046*0x2+0x1b7*0x11+-0x3db2)]=_0x6b26c9,_0xccbf4f[_0xb6b53a*(-0x22c+-0x1*0xf6b+0x9*0x1f5)+(0x3*-0x475+-0x130*0x2+-0x25*-0x6d)]=_0x1e4e64,_0xccbf4f[_0xb6b53a*(0xb83+-0x3a3*0x4+0x30f)+(-0x2bd*0xd+-0x58*-0x2c+0x36a*0x6)]=_0x2582a0,_0xccbf4f[_0xb6b53a*(0x2fc*-0x6+-0x5*0x175+0x1937)+(0x7*0x75+-0x260e+-0x1*-0x22df)]=_0x648cb2,_0xccbf4f[_0xb6b53a*(-0x1c6a+-0x984+0x25f4)+(-0x56e+-0x51e+-0x1*-0xa91)]=_0x41cb72;}}['calcFocalP'+'oint'](_0x53d67f){const {chunkData:_0x2a50e2,numChunks:_0x16f37e,chunkSize:_0x28c50b}=this;_0x53d67f['x']=-0x215*0x2+0x1941+-0x1517,_0x53d67f['y']=0xcf1+0xe0b+-0x1afc*0x1,_0x53d67f['z']=0x23b8+-0x19f6+0x2*-0x4e1;for(let _0x31dd7b=0x1c1*0x8+0x14a6*-0x1+0x69e;_0x31dd7b<_0x16f37e;++_0x31dd7b){const _0x51ae3a=_0x31dd7b*_0x28c50b;_0x53d67f['x']+=_0x2a50e2[_0x51ae3a+(-0x1ab*-0x6+0x1335+-0x1d37)]+_0x2a50e2[_0x51ae3a+(-0xdfc+0xc71+0x1*0x18e)],_0x53d67f['y']+=_0x2a50e2[_0x51ae3a+(0x15*-0xe3+-0x4*0x425+0x2334)]+_0x2a50e2[_0x51ae3a+(0x2*-0x82c+-0x1*0x1273+0x22cf)],_0x53d67f['z']+=_0x2a50e2[_0x51ae3a+(0xced+-0x9*0x2cf+0xc5c)]+_0x2a50e2[_0x51ae3a+(0x1fed+-0x3*0x59c+-0x182*0xa)];}_0x53d67f['mulScalar']((-0x235f+0x1e5d+0x2*0x281+0.5)/_0x16f37e);}get['isCompress'+'ed'](){return!(-0x1*0x26d5+0x44f*0x7+0x8ac);}get['numChunks'](){return Math['ceil'](this['numSplats']/(0x43f*-0x3+0xc5a+0x163));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}async['decompress'](){const _0x1448e0=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'],{shBands:_0x259901}=this;if(_0x259901>-0x1*-0x1661+-0xb*-0x106+-0x21a3){const _0x2c012d=[];for(let _0x3fea12=0x1335*-0x2+-0xbd*0x1b+0x3a59;_0x3fea12<-0x242e+-0x2b*0xe3+0xc*0x635;++_0x3fea12)_0x2c012d['push']('f_rest_'+_0x3fea12);_0x1448e0['splice'](_0x1448e0['indexOf']('f_dc_0')+(-0x1acf*-0x1+-0x445*-0x2+0xc*-0x2f2),0x1d0c+0x3*0x801+-0x350f,..._0x2c012d);}const _0x241c51=new ik();return _0x241c51['decompress'](this['numSplats'],this['chunkData'],this['chunkSize'],this['vertexData'],this['shData0'],this['shData1'],this['shData2'],this['shBands']),new Promise((_0x552799,_0xa58d2c)=>{_0x241c51['on']('decompress'+'ed',_0x41f242=>{_0x241c51['destroy'](),_0x552799(new qn([{'name':'vertex','count':this['numSplats'],'properties':_0x1448e0['map'](_0x4a8c0a=>({'type':'float','name':_0x4a8c0a,'storage':_0x41f242[_0x4a8c0a],'byteSize':0x4}))}],this['comments']));});});}}async function nk(){const _0x188611='super4d-ca'+'che-v1',_0x30c3e9={'maxAge':0x9a7ec800,'maxSize':0x280000000},_0x2b9d79=new Uint8Array([-0x3ad+-0x1119*-0x1+-0xcfc,-0x17b8+0x15dd+-0x1*-0x247,-0x1a40+-0xfbc+0x2a75,0x241e+0x839+-0x2c4d]),_0x69ed12=new Uint8Array([-0x13d*0x4+-0xb*-0x205+-0x1139,0x26d9+0x2117*-0x1+-0x55d*0x1,-0x2223+0x1d*0xef+-0x7*-0x112,0xd*-0x1bb+0x202b+-0x948,-0x5f3*0x4+-0x1267+-0x1*-0x2a92,0x277*-0x5+0xa21*-0x3+-0x158f*-0x2,0x1da9+0x410+-0x2154,-0x1f01+0x2c9*-0x3+0x27bd,-0x2025+0x3*-0x55e+0x30a3*0x1,0x23fd+-0xccb*-0x1+0x1021*-0x3,0x1f42*0x1+-0x13f8+-0x1*0xad8,-0x11c*0x18+-0x2183+0x4f*0xc3]),_0x483a08=0x8c1*-0x4+0xbf9+0x170b+0.28209479177387814,_0x513613=new Map([['char',Int8Array],['uchar',Uint8Array],['short',Int16Array],['ushort',Uint16Array],['int',Int32Array],['uint',Uint32Array],['float',Float32Array],['double',Float64Array]]);class _0x1c258e{constructor(_0x232551={}){this['options']={..._0x30c3e9,..._0x232551},this['cache']=null,this['lruList']=[],this['cacheSizes']=new Map(),this['currentSiz'+'e']=-0x25f6+-0x1bd8+0x1*0x41ce,this['initialize'+'d']=!(0xdda+-0x1*-0x1c03+0x39*-0xbc);}async['init'](){if(!this['initialize'+'d']){try{this['cache']=await caches['open'](_0x188611);const _0x251809=await this['cache']['keys'](),_0x3463ad=[];for(const _0x52bd68 of _0x251809){const _0x3f92af=_0x52bd68['url'],_0x597f8b=await this['cache']['match'](_0x3f92af);if(_0x597f8b){const _0x5c3a38=(await _0x597f8b['blob']())['size'],_0x18486d=_0x597f8b['headers']['get']('x-cache-ti'+'me');_0x18486d&&_0x3463ad['push']({'url':_0x3f92af,'size':_0x5c3a38,'cacheTime':parseInt(_0x18486d)});}}_0x3463ad['sort']((_0x955bd1,_0x13d5b4)=>_0x955bd1['cacheTime']-_0x13d5b4['cacheTime']);for(const _0x31f823 of _0x3463ad)this['cacheSizes']['set'](_0x31f823['url'],_0x31f823['size']),this['currentSiz'+'e']+=_0x31f823['size'],this['lruList']['push'](_0x31f823['url']);}catch(_0x44dde0){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0x44dde0);}this['initialize'+'d']=!(-0x6bc+0x23d3+-0x1d17*0x1);}}async['get'](_0x461a3d){if(await this['init'](),!this['cache'])return null;try{const _0x11a393=await this['cache']['match'](_0x461a3d);if(!_0x11a393)return null;const _0x4ffef8=_0x11a393['headers']['get']('x-cache-ti'+'me');return _0x4ffef8&&Date['now']()-parseInt(_0x4ffef8)>this['options']['maxAge']?(await this['delete'](_0x461a3d),null):(this['updateLRU'](_0x461a3d),_0x11a393);}catch{return null;}}async['set'](_0x972962,_0x5cd2e3){if(!(!this['cache']||_0x972962['startsWith']('blob:')))try{const _0x1327cd=_0x5cd2e3['clone'](),_0x41718c=await _0x1327cd['blob'](),_0x511dd1=_0x41718c['size'];this['currentSiz'+'e']+_0x511dd1>this['options']['maxSize']&&await this['cleanupSpa'+'ce'](_0x511dd1);const _0x211f2d=new Headers(_0x1327cd['headers']);_0x211f2d['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0x4a8727=new Response(_0x41718c,{'status':_0x1327cd['status'],'statusText':_0x1327cd['statusText'],'headers':_0x211f2d});await this['cache']['put'](_0x972962,_0x4a8727),this['cacheSizes']['set'](_0x972962,_0x511dd1),this['currentSiz'+'e']+=_0x511dd1,this['updateLRU'](_0x972962);}catch(_0x4ca24c){console['error']('Cache\x20set\x20'+'error:',_0x4ca24c);}}['updateLRU'](_0x24f996){const _0x5e01bd=this['lruList']['indexOf'](_0x24f996);_0x5e01bd>-(-0xd89+-0x23b+0xfc5)&&this['lruList']['splice'](_0x5e01bd,-0x9*-0x351+-0x209a+0x1*0x2c2),this['lruList']['push'](_0x24f996);}async['cleanupSpa'+'ce'](_0x3fddd5){const _0x56a209=this['options']['maxSize']*(-0x115d+0x1e2*-0x14+0x3705+0.9);if(!(this['currentSiz'+'e']<=_0x56a209))for(;this['lruList']['length']>0x1733+0x1f2c+-0x365f&&this['currentSiz'+'e']>_0x56a209;){const _0x1c408e=this['lruList']['shift']();_0x1c408e&&await this['delete'](_0x1c408e);}}async['delete'](_0x25676e){if(this['cache'])try{await this['cache']['delete'](_0x25676e);const _0x1c710c=this['cacheSizes']['get'](_0x25676e)||0x42d*0x9+-0x16cf*0x1+-0x1f*0x7a;this['currentSiz'+'e']-=_0x1c710c,this['cacheSizes']['delete'](_0x25676e);const _0x24984a=this['lruList']['indexOf'](_0x25676e);_0x24984a>-(-0xd9b+-0x238b+0x1*0x3127)&&this['lruList']['splice'](_0x24984a,-0x33*-0x57+-0x151*0x4+-0x608*0x2);}catch(_0xf96603){console['error']('Cache\x20dele'+'te\x20error:',_0xf96603);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0x2559ab=>Promise['all'](_0x2559ab['map'](_0x4e9bb9=>{var _0x3f01dd;return(_0x3f01dd=this['cache'])==null?void(-0x1905+-0x1377+0x3*0xed4):_0x3f01dd['delete'](_0x4e9bb9);}))),this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=0xbcf*-0x1+0xf38*-0x2+-0x135*-0x23;}catch(_0xaead8){console['error']('Cache\x20clea'+'r\x20error:',_0xaead8);}}['destroy'](){this['cache']=null,this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=0x1b0a*-0x1+0x1*-0x1a18+0x3522;}}class _0x58874a{constructor(_0x243705=[],_0x4df420={}){this['cacheManag'+'er']=new _0x1c258e(_0x4df420['cache']),this['retryCount']=_0x4df420['retryCount']||-0x1ad2*0x1+0x25cd*0x1+0x75*-0x18,this['retryDelay']=_0x4df420['retryDelay']||0x1b3c+-0x10ea+-0x3*0x2ca,this['maxConcurr'+'ency']=_0x4df420['maxConcurr'+'ency']||0x5*0x49b+-0x1c*0x162+-0xfb3*-0x1,this['downloadQu'+'eue']=_0x243705,this['isProcessi'+'ngDownload'+'Queue']=!(0x2037+-0x670+0xce3*-0x2),this['pendingRes'+'ponses']=new Map(),this['processDow'+'nloadQueue']();}async['processDow'+'nloadQueue'](){if(!this['isProcessi'+'ngDownload'+'Queue']){for(this['isProcessi'+'ngDownload'+'Queue']=!(-0x648*0x4+-0x4*-0x617+0xc4);this['downloadQu'+'eue']['length']>-0x15*-0xae+-0x897+0x1*-0x5af;)try{const _0x5cc63=this['downloadQu'+'eue']['splice'](-0xea4*-0x2+0x677+-0x1*0x23bf,this['maxConcurr'+'ency'])['map'](_0x14fbdb=>{if(!this['pendingRes'+'ponses']['has'](_0x14fbdb)){const _0x2c907c=this['download'](_0x14fbdb);return this['pendingRes'+'ponses']['set'](_0x14fbdb,_0x2c907c),_0x2c907c['then'](()=>{this['pendingRes'+'ponses']['delete'](_0x14fbdb);});}return Promise['resolve']();});await Promise['all'](_0x5cc63);}catch(_0x337155){console['error']('Download\x20e'+'rror:',_0x337155);}finally{this['isProcessi'+'ngDownload'+'Queue']=!(-0x1dac+-0x1237+-0x2*-0x17f2);}}}async['fetch'](_0x2b2f7e,_0x35337f={}){if(this['pendingRes'+'ponses']['has'](_0x2b2f7e))return this['pendingRes'+'ponses']['get'](_0x2b2f7e);const {forceRefresh:_0x51e017=!(-0x7a8+-0x2c7*-0x6+0x1cd*-0x5),..._0xba99a1}=_0x35337f;this['pendingRes'+'ponses']['set'](_0x2b2f7e,this['download'](_0x2b2f7e,_0xba99a1));const _0x41d71a=await this['pendingRes'+'ponses']['get'](_0x2b2f7e);return this['pendingRes'+'ponses']['delete'](_0x2b2f7e),_0x41d71a;}async['download'](_0x2c1bb4,_0x19da96={}){var _0x48ed1b;await((_0x48ed1b=this['cacheManag'+'er'])==null?void(0x1*-0x23e6+-0x243*0x6+0x3178):_0x48ed1b['init']());const {forceRefresh:_0xd72327=!(0x16*-0x1c4+-0x40d*-0x7+0x11*0x9e),..._0x1d3366}=_0x19da96;_0xd72327&&await this['cacheManag'+'er']['delete'](_0x2c1bb4);const _0xcfc381=await this['cacheManag'+'er']['get'](_0x2c1bb4);if(_0xcfc381)return _0xcfc381;let _0x174126;for(let _0x38ea2e=-0x22d4+-0x1*-0x1b34+0x7a0;_0x38ea2e<this['retryCount'];_0x38ea2e++)try{const _0xd8f89d=await fetch(_0x2c1bb4,_0x1d3366);if(!_0xd8f89d['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0xd8f89d['status']);return await this['cacheManag'+'er']['set'](_0x2c1bb4,_0xd8f89d),_0xd8f89d;}catch(_0x1174c6){console['error']('Download\x20e'+'rror:',_0x1174c6),_0x174126=_0x1174c6,_0x38ea2e<this['retryCount']-(0x469+-0x1b47*0x1+-0x493*-0x5)&&await new Promise(_0x37e052=>setTimeout(_0x37e052,this['retryDelay']*(_0x38ea2e+(-0x2482*-0x1+0x3*-0x753+-0x28*0x5d))));}throw _0x174126;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}['destroy'](){this['cacheManag'+'er']['destroy'](),this['cacheManag'+'er']=null,this['downloadQu'+'eue']=[],this['isProcessi'+'ngDownload'+'Queue']=!(0xadb+0xb5d+-0x1637),this['pendingRes'+'ponses']=new Map(),this['pendingRes'+'ponses']['clear']();}}class _0x1c4264{constructor(){this['numSplats']=-0x1692+-0x15cb+0x2c5d,this['comments']=[],this['chunkData']=new Float32Array(0x1bec+0xa5f+-0x264b),this['vertexData']=new Uint32Array(0xc1b*-0x3+0x124c+-0x1*-0x1205),this['is4D']=!(0x9ff+-0x5e*0x5+-0x829),this['shBands']=0x1730+0x1*0x35f+-0x20b*0xd,this['shData0']=new Uint8Array(-0xd43+0x1abc+-0xd79),this['shData1']=new Uint8Array(0x19b2+-0x337*-0x9+-0x36a1),this['shData2']=new Uint8Array(0x2399+-0x1*-0x24f3+-0x488c),this['elements']=[],this['isCompress'+'ed']=!(0x45b+-0x6*-0x2b3+-0x148d);}get['numChunks'](){return Math['ceil'](this['numSplats']/(-0x1293+-0x13*0x13f+0x2b40));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}}class _0x4c3620{constructor(_0x41e74c,_0x356d58=[]){this['elements']=_0x41e74c,this['comments']=_0x356d58,this['isCompress'+'ed']=!(-0xcb8+-0x1*-0x1489+-0xa*0xc8);}}class _0x4a6ac8{constructor(_0x529f7d,_0x4437b8){this['reader']=_0x529f7d,this['progressFu'+'nc']=_0x4437b8,this['head']=-0x22b5+-0x4*0x926+0x474d,this['tail']=0x1dba+0x1583*0x1+-0x333d*0x1;}async['read'](){var _0x849f54;const {value:_0x4c46fa,done:_0x4536b6}=await this['reader']['read']();if(_0x4536b6)throw new Error('Stream\x20fin'+'ished\x20befo'+'re\x20end\x20of\x20'+'header');this['push'](_0x4c46fa),(_0x849f54=this['progressFu'+'nc'])==null||_0x849f54['call'](this,_0x4c46fa['byteLength']);}['push'](_0x2fe0c4){if(!this['data'])this['data']=_0x2fe0c4,this['view']=new DataView(this['data']['buffer']),this['tail']=_0x2fe0c4['length'];else{const _0xce24f7=this['tail']-this['head'],_0xac109b=_0xce24f7+_0x2fe0c4['length'];if(this['data']['length']>=_0xac109b)this['head']>-0x2623*-0x1+0xf3b+-0x355e?(this['data']['copyWithin'](-0x33*0x3d+-0x10bd+0x1ce4,this['head'],this['tail']),this['data']['set'](_0x2fe0c4,_0xce24f7),this['head']=-0x1*0x2045+-0x1f9a+0x3fdf,this['tail']=_0xac109b):(this['data']['set'](_0x2fe0c4,this['tail']),this['tail']+=_0x2fe0c4['length']);else{const _0x475730=new Uint8Array(_0xac109b);this['head']>-0x1*-0x115f+0xec0+-0x201f*0x1||this['tail']<this['data']['length']?_0x475730['set'](this['data']['subarray'](this['head'],this['tail']),-0x1*-0x959+0x689+-0xfe2):_0x475730['set'](this['data'],-0x1*-0x1cf+-0xb28+0x1*0x959),_0x475730['set'](_0x2fe0c4,_0xce24f7),this['data']=_0x475730,this['view']=new DataView(this['data']['buffer']),this['head']=0x1*-0x18de+-0xf08+0x1*0x27e6,this['tail']=_0xac109b;}}}['compact'](){this['head']>-0x2449+-0x1676+0x3abf&&(this['data']['copyWithin'](0x1*-0x13ac+0x234d+-0xfa1,this['head'],this['tail']),this['tail']-=this['head'],this['head']=-0xeb*-0x21+0x200+0x1*-0x204b);}get['remaining'](){return this['tail']-this['head'];}['getInt8'](){const _0x320d42=this['view']['getInt8'](this['head']);return this['head']++,_0x320d42;}['getUint8'](){const _0x43b62b=this['view']['getUint8'](this['head']);return this['head']++,_0x43b62b;}['getInt16'](){const _0x493ee2=this['view']['getInt16'](this['head'],!(-0x11ec+-0x3c4*0xa+0x1*0x3794));return this['head']+=-0x2681*0x1+-0x1f*-0xe5+0xac8,_0x493ee2;}['getUint16'](){const _0x319801=this['view']['getUint16'](this['head'],!(0x3f*0x66+-0x30*0x71+-0x3ea*0x1));return this['head']+=0x3a*0x81+0xe5+-0x1*0x1e1d,_0x319801;}['getInt32'](){const _0x2a9d3d=this['view']['getInt32'](this['head'],!(0x199*0x10+-0x1b8e+0xf*0x22));return this['head']+=-0x225a+-0x4b*-0x59+0x84b,_0x2a9d3d;}['getUint32'](){const _0x2e4ca0=this['view']['getUint32'](this['head'],!(0x16da+0x8*0x35b+-0x31b2));return this['head']+=0x1c8a+0x583+-0x2209,_0x2e4ca0;}['getFloat32'](){const _0x4ff4e3=this['view']['getFloat32'](this['head'],!(0x24ed*-0x1+0x1643*-0x1+0x3b30));return this['head']+=-0x1da*0xd+-0x14d3+0x2ce9*0x1,_0x4ff4e3;}['getFloat64'](){const _0x2f5a85=this['view']['getFloat64'](this['head'],!(0x16ed*0x1+0xe*0x19d+-0x1*0x2d83));return this['head']+=0x7a6+0x13a3+-0x1b41,_0x2f5a85;}}class _0x58be68{constructor(_0xdc5248,_0x4096a6,_0x50e054){this['x']=_0xdc5248,this['y']=_0x4096a6,this['z']=_0x50e054;}}class _0x1c899a{constructor(_0x122a32,_0x3ed984,_0x203c61,_0x443165){this['x']=_0x122a32,this['y']=_0x3ed984,this['z']=_0x203c61,this['w']=_0x443165;}}class _0xf37fa{constructor(_0x5d5c7c,_0x138029,_0x3e73d8,_0x231256){this['x']=_0x5d5c7c,this['y']=_0x138029,this['z']=_0x3e73d8,this['w']=_0x231256;}['set'](_0x2b3d14,_0x2c5dd3,_0xad5309,_0x14127d){this['x']=_0x2b3d14,this['y']=_0x2c5dd3,this['z']=_0xad5309,this['w']=_0x14127d;}}class _0x4371f1{constructor(_0x3ed00e,_0x55dda4,_0x511e68,_0x1c473f,_0x80e682,_0xb4cb96,_0x5e00c8,_0x4ba3fb,_0x4cd828,_0x464123,_0x5b5fae,_0x4fae1f,_0x3c2be7,_0x207d84){const _0x5b1437=(_0x24b0fc,_0x5eea6c)=>{const _0x22ef12=(-0x5a7*-0x2+-0x2524+0x19d7<<_0x5eea6c)-(-0x19fd+0x1cd*-0x4+0x2132);return(_0x24b0fc&_0x22ef12)/_0x22ef12;},_0x141fc4=(_0x202323,_0x278713)=>{_0x202323['x']=_0x5b1437(_0x278713>>>0x1*0x745+-0x4*-0x874+-0x2900,-0x1b0b+-0x1*-0xe04+0xd12),_0x202323['y']=_0x5b1437(_0x278713>>>-0x1f3c+0xaaf*0x3+-0x16*0x9,0x33b*-0x8+-0x2a*-0xe5+0x4*-0x2ec),_0x202323['z']=_0x5b1437(_0x278713,0xec*0x18+-0x8d1+0x6a2*-0x2);},_0x972487=(_0x5bede8,_0x1ac095)=>{_0x5bede8['x']=_0x5b1437(_0x1ac095>>>-0x2598+0x20b*0x9+0x134d,-0xc85+-0x999+0xa2*0x23),_0x5bede8['y']=_0x5b1437(_0x1ac095>>>-0x21fe+-0xe*-0x1af+0x7a*0x16,0x1989+-0x39d+-0x15e4),_0x5bede8['z']=_0x5b1437(_0x1ac095>>>-0x75a+0x1d9c+-0x163a,0x3*0x27c+-0xb79+0x3d*0x11),_0x5bede8['w']=_0x5b1437(_0x1ac095,-0x29*0xa0+0x11dd*-0x1+0x359*0xd);},_0x2615ac=(_0x15d544,_0x587608)=>{const _0x4dd08f=(0x19*-0x29+-0x1703+0x1b05)/(Math['sqrt'](0x3b*0x31+-0x7*-0xc4+-0x10a5)*(-0x18*0xe1+0x139a+0x17e+0.5)),_0x5eae31=(_0x5b1437(_0x587608>>>-0xd64+0x3fb+0x15b*0x7,0x22c1+0x14ad+-0x1bb2*0x2)-(-0x269c+-0x9da+0x3076+0.5))*_0x4dd08f,_0x18981b=(_0x5b1437(_0x587608>>>-0x95b+0x8*-0x2a3+0x1e7d,0x69*0x41+0x27d*-0x8+-0x6b7)-(0x1*-0xa31+0xb34+-0x103*0x1+0.5))*_0x4dd08f,_0x274f9a=(_0x5b1437(_0x587608,-0x5*0x495+-0x1*0x959+0x204c)-(-0x4d9+-0x25d7+0x2ab0+0.5))*_0x4dd08f,_0x5830a3=Math['sqrt'](-0x1d*-0xe9+-0x1*-0x2ba+-0x1d1e-(_0x5eae31*_0x5eae31+_0x18981b*_0x18981b+_0x274f9a*_0x274f9a));switch(_0x587608>>>0x6a6+0x1b11+-0x2199){case 0x13*-0x5b+0x1*0x1c72+0x1*-0x15b1:_0x15d544['set'](_0x5eae31,_0x18981b,_0x274f9a,_0x5830a3);break;case 0x1*0x195b+-0x1ebf+0x565:_0x15d544['set'](_0x5830a3,_0x18981b,_0x274f9a,_0x5eae31);break;case-0x191+-0x24f4+0x1*0x2687:_0x15d544['set'](_0x18981b,_0x5830a3,_0x274f9a,_0x5eae31);break;case-0x16c+0x3d6*0x2+-0x1*0x63d:_0x15d544['set'](_0x18981b,_0x274f9a,_0x5830a3,_0x5eae31);break;}},_0x547d33=(_0x13b52f,_0x154d33,_0x155815)=>_0x13b52f*(-0x90f+0x11d*0x17+-0x108b-_0x155815)+_0x154d33*_0x155815,_0x3749c3=[0x2582+0x1f0b+0x1*-0x448a,-0x5*0x3cd+-0x1*-0x1d5d+-0x2*0x52a,0x1*-0x617+-0xceb+0x3*0x65b][_0x5e00c8-(-0x24*-0x6a+-0x27c*0xa+0x9f1)],_0x4411cc=-0x2*-0xba6+0xe3*-0x1a+-0x38;this['read']=_0x205fb5=>{const _0x2d690e=Math['floor'](_0x205fb5/(0x4*-0x20b+-0x1a3b+-0x3ef*-0x9))*_0x55dda4;if(_0x4ba3fb&&(_0x141fc4(_0x4ba3fb,_0x511e68[_0x205fb5*_0x4411cc+(0x1d9e+-0x1*0x1eba+0x1*0x11c)]),_0x4ba3fb['x']=_0x547d33(_0x3ed00e[_0x2d690e+(0x1502*0x1+-0x113+-0x13ef)],_0x3ed00e[_0x2d690e+(-0x1*-0x684+-0x2d*-0xa1+-0x195*0x16)],_0x4ba3fb['x']),_0x4ba3fb['y']=_0x547d33(_0x3ed00e[_0x2d690e+(0x166c+-0x1*0x6d3+-0xf98)],_0x3ed00e[_0x2d690e+(-0x3*-0x9c8+-0x328+-0x43*0x64)],_0x4ba3fb['y']),_0x4ba3fb['z']=_0x547d33(_0x3ed00e[_0x2d690e+(0x23f*-0x2+0x1ec*-0x2+0x2c8*0x3)],_0x3ed00e[_0x2d690e+(-0x25fb+0x28*0x98+0xe40)],_0x4ba3fb['z'])),_0x4cd828&&_0x2615ac(_0x4cd828,_0x511e68[_0x205fb5*_0x4411cc+(0xaab+-0x3*-0x3c2+0x1*-0x15f0)]),_0x464123&&(_0x141fc4(_0x464123,_0x511e68[_0x205fb5*_0x4411cc+(-0x1f0*0x12+0x8*0x271+0xf5a)]),_0x464123['x']=_0x547d33(_0x3ed00e[_0x2d690e+(0x18*-0x3+-0x6b3*-0x2+-0xd18)],_0x3ed00e[_0x2d690e+(0x10c0+0x1917+-0x2*0x14e7)],_0x464123['x']),_0x464123['y']=_0x547d33(_0x3ed00e[_0x2d690e+(0x2411+0x1e14*0x1+-0x421e)],_0x3ed00e[_0x2d690e+(0x22b0+-0x1d30+-0x576)],_0x464123['y']),_0x464123['z']=_0x547d33(_0x3ed00e[_0x2d690e+(-0x1bd3+0x1f33+-0x358)],_0x3ed00e[_0x2d690e+(0x2425*-0x1+-0xf86+0x33b6)],_0x464123['z'])),_0x5b5fae&&(_0x972487(_0x5b5fae,_0x511e68[_0x205fb5*_0x4411cc+(0x2*0xf5b+-0x2394+0x4e1)]),_0x55dda4>0x2238+0x1*-0x222a+-0x2&&(_0x5b5fae['x']=_0x547d33(_0x3ed00e[_0x2d690e+(-0x16ab+-0x192+0x1*0x1849)],_0x3ed00e[_0x2d690e+(0x510+-0x81b+0x31a)],_0x5b5fae['x']),_0x5b5fae['y']=_0x547d33(_0x3ed00e[_0x2d690e+(-0x1eb*-0xd+-0x1bc8+0x2e6)],_0x3ed00e[_0x2d690e+(0xf*-0x221+0x2598+-0x599)],_0x5b5fae['y']),_0x5b5fae['z']=_0x547d33(_0x3ed00e[_0x2d690e+(0x370+-0x145f+0x10fd)],_0x3ed00e[_0x2d690e+(0xb97+0xd*0x24d+-0x296f)],_0x5b5fae['z']))),_0x4fae1f&&(_0x141fc4(_0x4fae1f,_0x511e68[_0x205fb5*_0x4411cc+(-0x231f+0x1fe5+0x33e)]),_0x4fae1f['x']=_0x547d33(_0x3ed00e[_0x2d690e+(-0x1*0x527+-0x2178+0x26b1)],_0x3ed00e[_0x2d690e+(0x25e5+0x1c*0xb7+0x4*-0xe75)],_0x4fae1f['x']),_0x4fae1f['y']=_0x547d33(_0x3ed00e[_0x2d690e+(-0x1cf*-0x9+0x1ac6+0x1*-0x2afa)],_0x3ed00e[_0x2d690e+(0x14b8+-0x21*0x10f+0x20b*0x7)],_0x4fae1f['y']),_0x4fae1f['z']=_0x547d33(_0x3ed00e[_0x2d690e+(-0x43*-0x59+0x6*0x64+-0x2d7*0x9)],_0x3ed00e[_0x2d690e+(-0xad3+0x23e9+-0x51*0x4f)],_0x4fae1f['z'])),_0x3c2be7&&(_0x141fc4(_0x3c2be7,_0x511e68[_0x205fb5*_0x4411cc+(-0x1*-0xfc6+0x855+-0x1816)]),_0x3c2be7['x']=_0x547d33(_0x3ed00e[_0x2d690e+(-0x2619+-0x1*0x528+0x2b59)],_0x3ed00e[_0x2d690e+(-0x43f*0x1+0x34b*0x6+-0x1*0xf6a)],_0x3c2be7['x']),_0x3c2be7['y']=_0x547d33(_0x3ed00e[_0x2d690e+(0x37d+0x70e+-0xa71)],_0x3ed00e[_0x2d690e+(-0x2*-0xa5b+-0x115f+-0x3*0x114)],_0x3c2be7['y'])),_0x207d84&&_0x5e00c8>0x2*0x221+-0x1*0x1222+-0x378*-0x4){const _0x2762a4=[_0x1c473f,_0x80e682,_0xb4cb96];for(let _0xd8fd62=-0x5*0x22d+-0x551*0x2+0x1583;_0xd8fd62<0xb3*0x13+-0x1111+0x3cb;++_0xd8fd62)for(let _0x51b74f=-0x17aa+-0x2*0x379+0x4*0x7a7;_0x51b74f<0xf32*-0x2+-0x14ec+0x335f;++_0x51b74f)_0x207d84[_0xd8fd62*(0x16c6+0x1894+-0x2f4b)+_0x51b74f]=_0x51b74f<_0x3749c3?_0x2762a4[_0xd8fd62][_0x205fb5*(0x4*-0x94e+0x13d7+0x37d*0x5)+_0x51b74f]*((-0x2*0x315+0x22*0xd6+-0x239*0xa)/(-0x19b*-0x6+0x1968+-0x220b))-(-0x3*-0x5f0+-0x5b2*0x6+0x10*0x106):-0x2414+0xa6f+0x1*0x19a5;}};}}self['onmessage']=async _0x297e08=>{var _0x3edef0,_0x203415,_0x19b17e;const {data:_0x269331}=_0x297e08;switch(_0x269331['type']){case'initWorker':globalThis['loadUrlLis'+'t']=_0x269331['loadUrlLis'+'t'],globalThis['fetchWorke'+'r']=new _0x58874a(globalThis['loadUrlLis'+'t']);break;case'destroyWor'+'ker':(_0x3edef0=globalThis['fetchWorke'+'r'])==null||_0x3edef0['destroy'](),globalThis['fetchWorke'+'r']=null,globalThis['loadUrlLis'+'t']=[];break;case'loadPly':const {url:_0x1dd056,decompress:_0x23aa3c}=_0x269331;try{globalThis['fetchWorke'+'r']||(globalThis['fetchWorke'+'r']=new _0x58874a(globalThis['loadUrlLis'+'t']));const _0x1cca34=await globalThis['fetchWorke'+'r']['fetch'](_0x1dd056);if(!_0x1cca34||!_0x1cca34['body'])self['postMessag'+'e']({'type':'error','data':'Error\x20load'+'ing\x20resour'+'ce','url':_0x1dd056});else{const _0x22a194=parseInt(_0x1cca34['headers']['get']('content-le'+'ngth')??'0',0x22e8+0x13a7+-0x3685);self['postMessag'+'e']({'type':'totalLengt'+'h','totalLength':_0x22a194,'bytes':0x0,'url':_0x1dd056});let _0x2876b6=await _0x38d1ed(_0x1cca34['body']['getReader'](),_0x5d7146=>{self['postMessag'+'e']({'type':'progress','bytes':_0x5d7146,'totalLength':_0x22a194,'url':_0x1dd056});});if(_0x23aa3c&&_0x2876b6['isCompress'+'ed']){const _0x412840=_0x2ac918(_0x2876b6),_0x2aa838=(_0x203415=_0x412840==null?void(-0x1a77*0x1+0x2397*0x1+-0x920):_0x412840['elements'][-0x19ec+0xd34+0x2c*0x4a])==null?void(-0xc91*0x3+-0xf2*0xa+0x2f27):_0x203415['properties']['map'](_0x47d70d=>_0x47d70d['storage']['buffer']);self['postMessag'+'e']({'type':'splatData','data':_0x412840,'url':_0x1dd056},_0x2aa838);}else{if(_0x2876b6['isCompress'+'ed']){const _0x4dabbe=['chunkData','vertexData'];_0x2876b6['shData0']&&_0x4dabbe['push']('shData0','shData1','shData2');const _0x59088e=_0x4dabbe['map'](_0x3760eb=>{var _0x289cd8;return(_0x289cd8=_0x2876b6[_0x3760eb])==null?void(0x503*0x7+-0xa3e*-0x1+-0x1*0x2d53):_0x289cd8['buffer'];});self['postMessag'+'e']({'type':'splatData','data':_0x2876b6,'url':_0x1dd056},_0x59088e);}else{_0x2876b6=_0xffbda2(_0x2876b6);const _0x24f80f=(_0x19b17e=_0x2876b6==null?void(0x21*0x6+-0x2b*0x3a+-0x47c*-0x2):_0x2876b6['elements'][0x1dd5+-0x1af*0x11+-0x1f*0xa])==null?void(0x1217*-0x1+0x22f*-0x5+0x1d02):_0x19b17e['properties']['map'](_0x2c2deb=>_0x2c2deb['storage']['buffer']);self['postMessag'+'e']({'type':'splatData','data':_0x2876b6,'url':_0x1dd056},_0x24f80f);}}}}catch(_0x571514){self['postMessag'+'e']({'type':'error','data':_0x571514['message'],'url':_0x1dd056});}break;}};const _0xffbda2=_0x4738a6=>{var _0x25589e;const _0x484f24=(_0x25589e=_0x4738a6==null?void(-0x6a*-0x7+0x6f1+0x9d7*-0x1):_0x4738a6['elements'][-0x1c89*-0x1+0x25+0x2*-0xe57])==null?void(0x1156+-0x3c2+-0xd94):_0x25589e['properties']['find'](_0x23dca4=>_0x23dca4['name']==='opacity');if(_0x484f24){for(let _0x15af9d=0x6*0x67d+-0x52*-0x4a+-0x3ea2;_0x15af9d<_0x484f24['storage']['length'];_0x15af9d++)_0x484f24['storage'][_0x15af9d]=(-0x2199+-0x1ce4*-0x1+-0x192*-0x3)/(-0x21e9*0x1+0xf63+0x1f*0x99+Math['exp'](-_0x484f24['storage'][_0x15af9d]));}return _0x4738a6;},_0x357ab0=_0x698ca=>{const _0x3173fc=[],_0xd0f729=[];let _0x18335b;for(let _0x4a3ff4=-0xc8+-0x8b5+0x97e;_0x4a3ff4<_0x698ca['length'];++_0x4a3ff4){const _0x15eb4e=_0x698ca[_0x4a3ff4]['split']('\x20');switch(_0x15eb4e[0x540+0x10f*-0x1f+0x1b91]){case'comment':_0xd0f729['push'](_0x15eb4e['slice'](-0x3*-0xb5b+0xd25*-0x2+0xc7*-0xa)['join']('\x20'));break;case'format':_0x18335b=_0x15eb4e[-0x4*-0x3f3+-0x3bb+-0xc10];break;case'element':_0x3173fc['push']({'name':_0x15eb4e[-0xf76*0x2+0x1b55+0x398],'count':parseInt(_0x15eb4e[0x349*-0x1+-0xc5b+-0x2*-0x7d3],0x2*0x117d+0x7e3*-0x1+-0x1b0d),'properties':[]});break;case'property':{if(!_0x513613['has'](_0x15eb4e[0x15c4+0x1*-0x373+0x4*-0x494]))throw new Error('Unrecogniz'+'ed\x20propert'+'y\x20data\x20typ'+'e\x20\x27'+_0x15eb4e[0x122a+-0x42b*-0x5+-0x2700]+('\x27\x20in\x20ply\x20h'+'eader'));_0x3173fc[_0x3173fc['length']-(0x2381*-0x1+0x1*0x5fb+-0x1d87*-0x1)]['properties']['push']({'type':_0x15eb4e[-0x65f+0x161c+-0xfbc],'name':_0x15eb4e[0x1b04+-0x5*0x3e5+-0x789],'storage':null,'byteSize':_0x513613['get'](_0x15eb4e[-0x1*0x1767+0xd9a+0x9ce])['BYTES_PER_'+'ELEMENT']});break;}default:throw new Error('Unrecogniz'+'ed\x20header\x20'+'value\x20\x27'+_0x15eb4e[0xf10+-0x9fc+-0x514]+('\x27\x20in\x20ply\x20h'+'eader'));}}return{'elements':_0x3173fc,'format':_0x18335b,'comments':_0xd0f729};},_0x30306b=_0x1f24b7=>{const _0x274942=['min_x','min_y','min_z','max_x','max_y','max_z','min_scale_'+'x','min_scale_'+'y','min_scale_'+'z','max_scale_'+'x','max_scale_'+'y','max_scale_'+'z','min_r','min_g','min_b','max_r','max_g','max_b','min_motion'+'_x','min_motion'+'_y','min_motion'+'_z','max_motion'+'_x','max_motion'+'_y','max_motion'+'_z','min_time_s'+'cale','max_time_s'+'cale','min_time','max_time'],_0x387e45=['packed_pos'+'ition','packed_rot'+'ation','packed_sca'+'le','packed_col'+'or','packed_mot'+'ion','packed_tim'+'e'],_0x5c8e2b=new Array(0xb9*0x29+0x134d+0x6f7*-0x7)['fill']('')['map']((_0x215809,_0x910f1c)=>'f_rest_'+_0x910f1c),_0x604fee=()=>_0x1f24b7[0x1d56+0x9*0x3f5+-0x40f3]['name']==='chunk'&&_0x1f24b7[0xc1*-0x8+0x120e*-0x1+0x1816]['properties']['every']((_0x5d191e,_0x50a2c2)=>_0x5d191e['name']===_0x274942[_0x50a2c2]&&_0x5d191e['type']==='float')&&_0x1f24b7[0x40d+0x17*-0x39+0x113]['name']==='vertex'&&_0x1f24b7[0x3*-0x645+-0x1a84+0x2d54]['properties']['every']((_0x5c3b57,_0x444a99)=>_0x5c3b57['name']===_0x387e45[_0x444a99]&&_0x5c3b57['type']==='uint'),_0x58a8c6=()=>_0x1f24b7[0xbb6+-0x2012+-0xa2f*-0x2]['name']==='sh'&&[0x1349+0x21fe+-0x353e,0x18*0x67+0x25e9+-0x3*0xfd3,0xf41*0x2+0x67*0x1c+0x17*-0x1cf]['indexOf'](_0x1f24b7[-0x1*0xbf5+0xdf6+-0x1ff]['properties']['length'])!==-(0x91*0x2c+0x3*0x23+-0x1954)&&_0x1f24b7[-0xf32+-0x9e3*0x1+-0x1*-0x1917]['properties']['every']((_0x4218d4,_0x937f57)=>_0x4218d4['name']===_0x5c8e2b[_0x937f57]&&_0x4218d4['type']==='uchar');return _0x1f24b7['length']===-0x5*0x366+-0x91a+-0x1*-0x1a1a&&_0x604fee()||_0x1f24b7['length']===-0x95b*-0x4+0x7b*-0x5+-0x2302&&_0x604fee()&&_0x58a8c6();},_0x580aa0=_0x4125b2=>_0x4125b2['length']===0x1530+0x1a5a+0x11b*-0x2b&&_0x4125b2[-0xac2+0x24be+-0x19fc]['name']==='vertex'&&_0x4125b2[0x2212+-0x2675+0x463]['properties']['every'](_0x3345cb=>_0x3345cb['type']==='float'),_0x400d16=async(_0x55a2b6,_0x3c1db4,_0x441630)=>{const _0x19cb3a=new _0x1c4264();_0x19cb3a['comments']=_0x441630;const _0x349434=_0x3c1db4[0xc5b+0x3*-0x5f3+-0x2*-0x2bf]['count'],_0x5d38f0=_0x3c1db4[-0x1214*-0x2+0x8*-0xa6+-0x4*0x7be]['properties']['length'],_0x520178=_0x3c1db4[-0x1292*0x1+-0x5*0x1e9+0x1c20]['count'],_0x55b181=_0x3c1db4[0x679*0x2+-0x64b*0x5+-0x943*-0x2]['properties']['some'](_0x262f8f=>_0x262f8f['name']==='packed_tim'+'e'),_0x53f64f=(_0xeffb59=>{const _0xfbf683=Math['ceil'](Math['sqrt'](_0xeffb59)),_0x524a5b=Math['ceil'](_0xeffb59/_0xfbf683);return _0xfbf683*_0x524a5b;})(_0x520178);_0x19cb3a['numSplats']=_0x520178,_0x19cb3a['is4D']=_0x55b181,_0x19cb3a['chunkData']=new Float32Array(_0x349434*_0x5d38f0),_0x19cb3a['vertexData']=new Uint32Array(_0x53f64f*(0xa*0x2e0+-0x78d+-0x27*0x8b));const _0x5981d2=async(_0x4377f0,_0x16472a)=>{const _0x4f376a=new Uint8Array(_0x4377f0);let _0x3bbc86=-0x3*-0x7e3+0x853*-0x1+0x97*-0x1a;for(;_0x3bbc86<_0x16472a;){for(;_0x55a2b6['remaining']===0x1b67+0x11f*-0x1f+-0x2*-0x3ad;)await _0x55a2b6['read']();const _0x3a84f6=Math['min'](_0x16472a-_0x3bbc86,_0x55a2b6['remaining']),_0x10ae89=_0x55a2b6['data'];for(let _0x27972d=-0x1bde+-0x1c6*0xb+0x2f60;_0x27972d<_0x3a84f6;++_0x27972d)_0x4f376a[_0x3bbc86++]=_0x10ae89[_0x55a2b6['head']++];}};if(await _0x5981d2(_0x19cb3a['chunkData']['buffer'],_0x349434*_0x5d38f0*(0x1c99+0x1*0x182e+0x34c3*-0x1)),await _0x5981d2(_0x19cb3a['vertexData']['buffer'],_0x520178*(-0x2*-0xe9b+0x1*0x2543+-0x4273)*(-0x9de+-0x6*-0x2ba+-0x67a)),_0x3c1db4['length']===0x20d6+-0x72a+0x1*-0x19a9){const _0x533512=_0x53f64f*(-0xa55+-0x275*-0xb+-0x1*0x10a2),_0x496831=new Uint8Array(_0x533512),_0xf6ecf7=new Uint8Array(_0x533512),_0x272c5f=new Uint8Array(_0x533512),_0x5282a1=0x2b3*-0x9+-0x24a6+0x40f1,_0xba7657=_0x3c1db4[-0x1edf*-0x1+-0x6*0x36d+0x5b*-0x1d]['properties']['length']/(-0xeab+0x75*-0x7+0x11e1),_0x5a2170=new Uint8Array(_0x5282a1*_0xba7657*(0x1*-0xdf9+0x5*-0x28e+0x1*0x1ac2));for(let _0xe20596=0x2362+-0x22a9*0x1+-0xb9;_0xe20596<_0x19cb3a['numSplats'];_0xe20596+=_0x5282a1){const _0x277499=Math['min'](_0x5282a1,_0x19cb3a['numSplats']-_0xe20596);await _0x5981d2(_0x5a2170['buffer'],_0x277499*_0xba7657*(0x10c1+-0x1*-0x2615+-0x23*0x191));for(let _0xe09c4=0x1bc4+-0x2*-0x3fe+-0x23c*0x10;_0xe09c4<_0x277499;++_0xe09c4)for(let _0x1d7e41=-0x216f+-0x247c+0x45eb;_0x1d7e41<0x26a+-0x10db+0xe80;++_0x1d7e41){const _0x4895a8=(_0xe20596+_0xe09c4)*(-0x17d9+-0x1a7e+0x495*0xb)+_0x1d7e41;_0x1d7e41<_0xba7657?(_0x496831[_0x4895a8]=_0x5a2170[(_0xe09c4*(-0x1cb7+-0xdbe+-0xe28*-0x3)+(-0x113e+-0x6be+0x17fc))*_0xba7657+_0x1d7e41],_0xf6ecf7[_0x4895a8]=_0x5a2170[(_0xe09c4*(-0xed7*-0x1+0x2ad+-0x1181)+(-0xa96+-0x114d+0x1be4))*_0xba7657+_0x1d7e41],_0x272c5f[_0x4895a8]=_0x5a2170[(_0xe09c4*(0xdd4+-0x116f+0x39e)+(-0x407*-0x1+0x1337*-0x1+0x2*0x799))*_0xba7657+_0x1d7e41]):(_0x496831[_0x4895a8]=0x572*-0x1+-0xebe+-0x6e5*-0x3,_0xf6ecf7[_0x4895a8]=-0xb*-0x32e+0x1*-0x12e1+-0x1*0xf9a,_0x272c5f[_0x4895a8]=-0x1da9*0x1+-0x302*0x8+0x3638);}}_0x19cb3a['shData0']=_0x496831,_0x19cb3a['shData1']=_0xf6ecf7,_0x19cb3a['shData2']=_0x272c5f,_0x19cb3a['shBands']={0x3:0x1,0x8:0x2,0xf:0x3}[_0xba7657];}else _0x19cb3a['shBands']=0x371*0x1+-0x41f+0xae;return _0x19cb3a;},_0x33746b=async(_0x153a6c,_0x36b50d,_0x2294ef)=>{const _0x2c8443=_0x36b50d[0x1eb1+-0x4*-0x807+-0x3ecd],_0x55fe15=_0x2c8443['properties'],_0xf0e268=_0x55fe15['length'],_0x461597=_0x55fe15['map'](_0xa2f663=>_0xa2f663['storage']),_0x2eed39=_0x55fe15['reduce']((_0x221154,_0x3d3112)=>_0x221154+_0x3d3112['byteSize'],0x236d+0x836+-0x1*0x2ba3);let _0x57f883=0xf19*-0x1+-0x54e+0x1467,_0x1986f7;const _0x49867a=()=>{const _0x4870e0=_0x153a6c['data']['buffer'];(_0x1986f7==null?void(0x175*0x6+0x1a07+0x81*-0x45):_0x1986f7['buffer'])!==_0x4870e0&&(_0x1986f7=new Float32Array(_0x4870e0,0x1f1a+-0x139d*-0x1+-0x1*0x32b7,_0x4870e0['byteLength']/(0x4aa+-0x3*-0xa23+-0x230f)));};for(_0x49867a();_0x57f883<_0x2c8443['count'];){for(;_0x153a6c['remaining']<_0x2eed39;)await _0x153a6c['read'](),_0x49867a();const _0x52ebfb=Math['min'](_0x2c8443['count']-_0x57f883,Math['floor'](_0x153a6c['remaining']/_0x2eed39));for(let _0x3391d3=0x1c0f+0x1252+0x1f*-0x17f;_0x3391d3<_0xf0e268;++_0x3391d3){const _0x233b98=_0x461597[_0x3391d3];for(let _0x595e53=0x1*-0x1e31+0x1e4+0x3*0x96f;_0x595e53<_0x52ebfb;++_0x595e53)_0x233b98[_0x595e53+_0x57f883]=_0x1986f7[_0x595e53*_0xf0e268+_0x3391d3];}_0x57f883+=_0x52ebfb,_0x153a6c['head']+=_0x52ebfb*_0x2eed39;}return new _0x4c3620(_0x36b50d,_0x2294ef);},_0x5b763f=async(_0xe0cfa5,_0x1ccb40,_0x5cc439)=>{for(let _0x448284=0x462+0x2*0xb27+0x2*-0xd58;_0x448284<_0x1ccb40['length'];++_0x448284){const _0x405ae0=_0x1ccb40[_0x448284],_0x1df8c7=_0x405ae0['properties']['reduce']((_0x4c3af6,_0x5460c7)=>_0x4c3af6+_0x5460c7['byteSize'],-0x1169*0x1+-0x17f*-0xb+-0x4*-0x3d),_0x140226=_0x405ae0['properties']['map'](_0x43793e=>{if(_0x43793e['storage'])switch(_0x43793e['type']){case'char':return(_0xa6aa9e,_0x1deb70)=>{_0x43793e['storage'][_0x1deb70]=_0xa6aa9e['getInt8']();};case'uchar':return(_0x2680b1,_0x2c702f)=>{_0x43793e['storage'][_0x2c702f]=_0x2680b1['getUint8']();};case'short':return(_0xb52fce,_0x160400)=>{_0x43793e['storage'][_0x160400]=_0xb52fce['getInt16']();};case'ushort':return(_0x251992,_0xb0da87)=>{_0x43793e['storage'][_0xb0da87]=_0x251992['getUint16']();};case'int':return(_0x4d089c,_0x135a21)=>{_0x43793e['storage'][_0x135a21]=_0x4d089c['getInt32']();};case'uint':return(_0x16e954,_0x300944)=>{_0x43793e['storage'][_0x300944]=_0x16e954['getUint32']();};case'float':return(_0x475f80,_0x1f6db8)=>{_0x43793e['storage'][_0x1f6db8]=_0x475f80['getFloat32']();};case'double':return(_0x15af33,_0x201032)=>{_0x43793e['storage'][_0x201032]=_0x15af33['getFloat64']();};default:throw new Error('Unsupporte'+'d\x20property'+'\x20data\x20type'+'\x20\x27'+_0x43793e['type']+('\x27\x20in\x20ply\x20h'+'eader'));}else return _0x4c66f2=>{_0x4c66f2['head']+=_0x43793e['byteSize'];};});let _0x33ecd9=-0x7*0x3c1+0x1232+0x815;for(;_0x33ecd9<_0x405ae0['count'];){for(;_0xe0cfa5['remaining']<_0x1df8c7;)await _0xe0cfa5['read']();const _0x36c2dd=Math['min'](_0x405ae0['count']-_0x33ecd9,Math['floor'](_0xe0cfa5['remaining']/_0x1df8c7));for(let _0x4d252a=0x15*-0xc6+-0x1fac+0x2*0x17f5;_0x4d252a<_0x36c2dd;++_0x4d252a){for(let _0x305da8=-0x17*0x138+-0x1c20+0x4ae*0xc;_0x305da8<_0x405ae0['properties']['length'];++_0x305da8)_0x140226[_0x305da8](_0xe0cfa5,_0x33ecd9);_0x33ecd9++;}}}return new _0x4c3620(_0x1ccb40,_0x5cc439);},_0x38d1ed=async(_0x400eae,_0x4e7a65=null)=>{const _0x41a3f9=(_0x151731,_0x2612df)=>{const _0x476c46=_0x151731['length']-_0x2612df['length'];let _0x5ddba6,_0x1fbbe2;for(_0x5ddba6=-0x1a5b+-0x1*-0x23c9+-0x8e*0x11;_0x5ddba6<=_0x476c46;++_0x5ddba6){for(_0x1fbbe2=-0x1a5c+-0x1*-0x7b4+0x8*0x255;_0x1fbbe2<_0x2612df['length']&&_0x151731[_0x5ddba6+_0x1fbbe2]===_0x2612df[_0x1fbbe2];++_0x1fbbe2);if(_0x1fbbe2===_0x2612df['length'])return _0x5ddba6;}return-(0xf*-0x22e+-0x1b87+0x4a2*0xd);},_0x142bfa=(_0x2848f3,_0x39b071)=>{if(_0x2848f3['length']<_0x39b071['length'])return!(-0x57a*-0x1+-0x1*-0x20ed+0x2666*-0x1);for(let _0x4046d0=-0x1*0xf5e+-0x1*-0x2105+-0x11a7*0x1;_0x4046d0<_0x39b071['length'];++_0x4046d0)if(_0x2848f3[_0x4046d0]!==_0x39b071[_0x4046d0])return!(-0x3*-0x62f+0x2583+-0x71*0x7f);return!(0x1*0x14e1+-0x3*0x6b1+-0x67*0x2);},_0x728f5f=new _0x4a6ac8(_0x400eae,_0x4e7a65);let _0xd971dc;for(;;){if(await _0x728f5f['read'](),_0x728f5f['tail']>=_0x2b9d79['length']&&!_0x142bfa(_0x728f5f['data'],_0x2b9d79))throw new Error('Invalid\x20pl'+'y\x20header');if(_0xd971dc=_0x41a3f9(_0x728f5f['data'],_0x69ed12),_0xd971dc!==-(0x1*0x1bc5+-0x3bd+-0x1807))break;}const _0x2a4cca=new TextDecoder('ascii')['decode'](_0x728f5f['data']['subarray'](0xd*-0xac+-0x36d*-0x1+-0x9*-0x97,_0xd971dc))['split']('\x0a'),{elements:_0x29580c,format:_0x54285b,comments:_0x59acaf}=_0x357ab0(_0x2a4cca);if(_0x54285b!=='binary_lit'+'tle_endian')throw new Error('Unsupporte'+'d\x20ply\x20form'+'at');return _0x728f5f['head']=_0xd971dc+_0x69ed12['length'],_0x728f5f['compact'](),await((async()=>_0x30306b(_0x29580c)?await _0x400d16(_0x728f5f,_0x29580c,_0x59acaf):(_0x29580c['forEach'](_0x234201=>{_0x234201['properties']['forEach'](_0x4283ad=>{const _0x2b0ef8=_0x513613['get'](_0x4283ad['type']);if(_0x2b0ef8){const _0x326a75=new _0x2b0ef8(_0x234201['count']);_0x4283ad['storage']=_0x326a75;}});}),_0x580aa0(_0x29580c)?await _0x33746b(_0x728f5f,_0x29580c,_0x59acaf):await _0x5b763f(_0x728f5f,_0x29580c,_0x59acaf)))());},_0x2ac918=_0x11d3ca=>{const {numSplats:_0x2b7ec4,chunkData:_0x595f68,chunkSize:_0x4af7f3,vertexData:_0x1f2f34,shData0:_0xe7e530,shData1:_0x3da644,shData2:_0x53b28f,shBands:_0x4cb85f,comments:_0x5245bd,is4D:_0x142c78}=_0x11d3ca,_0x54331e=['x','y','z','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','f_dc_0','f_dc_1','f_dc_2','opacity'];if(_0x142c78&&_0x54331e['push']('t','t_scale','motion_0','motion_1','motion_2'),_0x4cb85f>-0x3d7*0x1+0x13*0x56+0x3*-0xd9){const _0x41aab6=[];for(let _0x104df5=0x2e2+0x25fa+0xa37*-0x4;_0x104df5<0x22cb+-0x1058+-0x1246;++_0x104df5)_0x41aab6['push']('f_rest_'+_0x104df5);_0x54331e['splice'](_0x54331e['indexOf']('f_dc_0')+(-0x16d3+0x959*-0x3+0x32df),0x1a17+-0x1*-0x100d+-0x2a24,..._0x41aab6);}const _0x55174e={};_0x54331e['forEach'](_0x2b4a72=>{_0x55174e[_0x2b4a72]=new Float32Array(_0x2b7ec4);});const _0x20a450=new _0x58be68(),_0x36f805=new _0xf37fa(),_0x4fee24=new _0x58be68(),_0x429a04=new _0x1c899a(),_0x36236f=new _0x58be68(),_0x4dc269=new _0x58be68(),_0x5ecdbe=_0x4cb85f>0x1*0x1a52+-0x1817+0x23b*-0x1?new Float32Array(0xa77+-0x27*0x5f+0x11*0x3f):null,_0x16f64c=new _0x4371f1(_0x595f68,_0x4af7f3,_0x1f2f34,_0xe7e530,_0x3da644,_0x53b28f,_0x4cb85f,_0x20a450,_0x36f805,_0x4fee24,_0x429a04,_0x36236f,_0x4dc269,_0x5ecdbe);for(let _0x23058f=0xa*0x131+0x1*0x287+0x1*-0xe71;_0x23058f<_0x2b7ec4;++_0x23058f){_0x16f64c['read'](_0x23058f),_0x55174e['x'][_0x23058f]=_0x20a450['x'],_0x55174e['y'][_0x23058f]=_0x20a450['y'],_0x55174e['z'][_0x23058f]=_0x20a450['z'],_0x55174e['rot_1'][_0x23058f]=_0x36f805['x'],_0x55174e['rot_2'][_0x23058f]=_0x36f805['y'],_0x55174e['rot_3'][_0x23058f]=_0x36f805['z'],_0x55174e['rot_0'][_0x23058f]=_0x36f805['w'],_0x55174e['scale_0'][_0x23058f]=_0x4fee24['x'],_0x55174e['scale_1'][_0x23058f]=_0x4fee24['y'],_0x55174e['scale_2'][_0x23058f]=_0x4fee24['z'],_0x55174e['motion_0'][_0x23058f]=_0x36236f['x'],_0x55174e['motion_1'][_0x23058f]=_0x36236f['y'],_0x55174e['motion_2'][_0x23058f]=_0x36236f['z'],_0x55174e['t_scale'][_0x23058f]=_0x4dc269['x'],_0x55174e['t'][_0x23058f]=_0x4dc269['y'],_0x55174e['f_dc_0'][_0x23058f]=(_0x429a04['x']-(-0x89a*0x3+0x3*0xb2d+-0x7b9+0.5))/_0x483a08,_0x55174e['f_dc_1'][_0x23058f]=(_0x429a04['y']-(0x281*-0x9+0x6*0xa0+0x12c9+0.5))/_0x483a08,_0x55174e['f_dc_2'][_0x23058f]=(_0x429a04['z']-(0x1869+-0x1b07+0x5*0x86+0.5))/_0x483a08;const _0x5efe06=_0x429a04['w']<=0x14bf+0xd95+-0x2a4*0xd?-(0xad1+-0x1*-0x1dc1+0xe*-0x2e3):_0x429a04['w']>=0x1*-0x12f7+-0x213b+0x3433?0x1ced+-0x715*-0x3+-0x3204:-Math['log']((0x3fd*0x5+-0x695+-0xd5b)/_0x429a04['w']-(-0x3e7+-0x1*0x24fc+0x28e4));if(_0x55174e['opacity'][_0x23058f]=(0x1885+-0x3b*-0x6a+0x1879*-0x2)/(-0x2184+0x250e+-0x5*0xb5+Math['exp'](-_0x5efe06)),_0x5ecdbe){for(let _0x48d2a7=0x5*-0x377+0x1*-0x1bc5+0x2d18;_0x48d2a7<-0x1cb1+-0xb51*-0x1+-0x118d*-0x1;++_0x48d2a7)_0x55174e['f_rest_'+_0x48d2a7][_0x23058f]=_0x5ecdbe[_0x48d2a7];}}const _0x37ca39=[{'count':_0x2b7ec4,'name':'vertex','properties':_0x54331e['map'](_0x4b19d4=>({'byteSize':0x4,'name':_0x4b19d4,'type':'float','storage':_0x55174e[_0x4b19d4]}))}];return new _0x4c3620(_0x37ca39,_0x5245bd);};}class ok extends me{constructor(_0x4f6b2a){super(),h(this,'worker'),h(this,'loadUrlLis'+'t'),(this['loadUrlLis'+'t']=_0x4f6b2a,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+nk['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['postMessag'+'e']({'type':'initWorker','loadUrlList':this['loadUrlLis'+'t']});}['loadPly'](_0x3747cd,_0x48e972,_0x452902=(_0x52b7d0,_0x35d0ce)=>{},_0x3ef568=(_0x1afa0e,_0x1756d3,_0x479947)=>{},_0xb3634e=(_0x5533ab,_0x425d5e)=>{}){var _0x4f7953;return(_0x4f7953=this['worker'])==null||_0x4f7953['postMessag'+'e']({'type':'loadPly','url':_0x3747cd,'decompress':_0x48e972}),new Promise((_0x317e12,_0x230a39)=>{if(!this['worker']){_0x230a39(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x3a256f=>{if(!this['worker'])return;const {data:_0x44bc99}=_0x3a256f;if(_0x3747cd===_0x44bc99['url'])switch(_0x44bc99['type']){case'totalLengt'+'h':_0x452902==null||_0x452902(_0x44bc99['totalLengt'+'h'],_0x44bc99['url']);break;case'progress':_0x3ef568==null||_0x3ef568(_0x44bc99['bytes'],_0x44bc99['totalLengt'+'h'],_0x44bc99['url']);break;case'splatData':_0x317e12(_0x44bc99['data']);break;case'error':_0xb3634e==null||_0xb3634e(_0x44bc99['data'],_0x44bc99['url']);break;}};});}['destroy'](){this['loadUrl']='',this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),this['worker']['terminate'](),this['worker']=void(0xa7*0x39+0xa57*0x1+-0x2f86));}}class lk{constructor(_0x3d6d2c,_0x13113e){h(this,'urlList'),h(this,'app'),h(this,'maxRetries'),h(this,'gsplatReso'+'urce'),h(this,'onlyOneAss'+'et'),h(this,'readWorker'),(console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','Register\x20P'+'lyParser.c'+'onstructor'),this['app']=_0x3d6d2c,this['maxRetries']=_0x13113e,this['urlList']=[],this['gsplatReso'+'urce']=null,this['readWorker']=null,this['totalRecei'+'ved']=0x1be3*0x1+-0x14ef+-0x59*0x14);}async['load'](_0x2341c5,_0x19972d,_0x433d3a){var _0x2c3b93,_0x51cf1d,_0x50fe48;console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','PlyParser.'+'load'),this['urlList']=[],_0x2341c5['load']['includes'](',')?this['urlList']=_0x2341c5['load']['split'](','):this['urlList']['push'](_0x2341c5['load']);const _0x408445=_0x433d3a['data']['createTime']!==((_0x51cf1d=(_0x2c3b93=this['onlyOneAss'+'et'])==null?void(-0x588+0x1a5b+-0x1*0x14d3):_0x2c3b93['data'])==null?void(-0x167+0x1165+-0xffe):_0x51cf1d['createTime']);(!this['readWorker']||_0x408445)&&((_0x50fe48=this['readWorker'])==null||_0x50fe48['destroy'](),this['readWorker']=new ok(this['urlList']));const _0x79fa29=_0x433d3a['data']['loadIndex']>=0x83*0x41+-0x3f3*-0x2+-0x2929?_0x433d3a['data']['loadIndex']:0x1cee+-0x1a4e+-0x2a0,_0xfff6ef=_0x433d3a['data']['loadMode']==='all'?this['urlList']['length']-_0x79fa29:_0x79fa29+(-0x1*-0xd06+-0x1d38+-0x1033*-0x1),_0x1a247e=_0x433d3a['data']['timeOption'],_0x427fd6=_0x433d3a['data']['events'];for(let _0x1a8f2c=_0x79fa29;_0x1a8f2c<_0xfff6ef;_0x1a8f2c++)await this['loadGsplat'+'Data'](this['urlList'],_0x19972d,_0x433d3a,_0x1a8f2c,_0x1a247e,_0x427fd6,_0xfff6ef);_0x427fd6['fire']('loadAllAss'+'etsDone');}async['loadGsplat'+'Data'](_0x470df5,_0x44b19c,_0x114668,_0x3e4b5f,_0x5761dd,_0xe11da3,_0x157afb){var _0x289505,_0xf8550a,_0x4bad61;console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','loadGsplat'+'Data',_0x470df5[_0x3e4b5f]['trim'](),_0x3e4b5f);const _0x1ceffd=_0x5761dd[(0x1*0xf07+-0x2113+-0x1*-0x120e)*_0x3e4b5f]+_0x5761dd[(-0xbdf+-0x2623+0x3204)*_0x3e4b5f+(-0x21c6+0x68f+0x1b38)],_0x4e5f28=_0x470df5[_0x3e4b5f]['trim']();globalThis['loadGsplat'+'DataStartT'+'ime']=performance['now'](),console['log']('loadTime','=========='+'=========='+'=========='+'=========='+'=========='+'====='),console['log']('loadTime','start\x20load'+'\x20ply\x20data',((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/(0xd46+0x6b*-0x49+-0x1*-0x24c5))['toFixed'](0x4*0x784+0xfd9*-0x1+0xe35*-0x1));try{const _0x4b614f=await((_0x289505=this['readWorker'])==null?void(0x21e0+0x2*-0x1+-0x21de):_0x289505['loadPly'](_0x4e5f28,_0x114668['data']['decompress'],()=>{this['totalRecei'+'ved']=0x17*0x1a3+-0xb47+-0x1a5e;},(_0x1d5a23,_0xfcc7c2)=>{this['totalRecei'+'ved']+=_0x1d5a23,_0x114668&&_0xe11da3['fire']('progress',_0xfcc7c2*_0x3e4b5f/_0x157afb+this['totalRecei'+'ved']/_0x157afb,_0xfcc7c2);},(_0x344f31,_0xdd37ec)=>{debugger;console['warn']('ERROE\x20Load'+'\x20Ply',_0xdd37ec,_0x344f31);}));let _0x152e35;console['log']('loadTime','load\x20ply\x20d'+'ata\x20done',((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/(-0x468+-0x2dd+0x1acd))['toFixed'](0x403*0x6+-0x7*-0xdf+-0x7*0x44f)),_0x4b614f['isCompress'+'ed']?(_0x152e35=new ak(),_0x152e35['comments']=_0x4b614f['comments'],_0x152e35['numSplats']=_0x4b614f['numSplats'],_0x152e35['is4D']=_0x4b614f['is4D'],_0x152e35['chunkData']=_0x4b614f['chunkData'],_0x152e35['vertexData']=_0x4b614f['vertexData'],_0x152e35['shData0']=_0x4b614f['shData0'],_0x152e35['shData1']=_0x4b614f['shData1'],_0x152e35['shData2']=_0x4b614f['shData2'],_0x152e35['shBands']=_0x4b614f['shBands']):_0x152e35=new qn(_0x4b614f['elements'],_0x4b614f['comments']),_0x114668['fire']('load:data',_0x152e35),_0x152e35['isCompress'+'ed']||_0x114668['data']['reorder'];const _0x48dc7d=_0x114668['data']['createTime']!==((_0x4bad61=(_0xf8550a=this['onlyOneAss'+'et'])==null?void(-0x1*0x1e0d+0xa43+0x13ca):_0xf8550a['data'])==null?void(-0x16be+-0x2*0x7ca+-0x12*-0x221):_0x4bad61['createTime']);this['gsplatReso'+'urce']&&!_0x48dc7d?this['gsplatReso'+'urce']['appendGSpl'+'atResource'](_0x152e35['isCompress'+'ed']?await _0x152e35['decompress']():_0x152e35,_0x5761dd,_0x1ceffd,_0x114668,_0xe11da3):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['gsplatReso'+'urce']=new EC(this['app']['graphicsDe'+'vice'],_0x152e35['isCompress'+'ed']?await _0x152e35['decompress']():_0x152e35),await this['gsplatReso'+'urce']['updateData'](),await this['gsplatReso'+'urce']['updateText'+'ure'](),this['gsplatReso'+'urce']['timeOption']=_0x5761dd,this['onlyOneAss'+'et']=_0x114668),_0x44b19c(null,this['gsplatReso'+'urce']);}catch(_0x2ebf5c){_0x44b19c(_0x2ebf5c,null);}}['open'](_0x18ba68,_0x1617cd){return _0x1617cd;}}async function ck(){const _0x44ab72='super4d-ca'+'che-v1',_0x317836={'maxAge':0x202fbf000,'maxSize':0x280000000},_0xb7290c=0x1406*0x1+0xbbb+-0x1fc1+0.28209479177387814;class _0x460247{constructor(_0x866f20={}){this['options']={..._0x317836,..._0x866f20},this['cache']=null,this['lruList']=[],this['cacheSizes']=new Map(),this['currentSiz'+'e']=-0x1*0x2495+0x2*0xa5d+0xfdb,this['initialize'+'d']=!(0x7f*-0x5+-0x21bf+-0x7*-0x52d);}async['init'](){if(!this['initialize'+'d']){try{this['cache']=await caches['open'](_0x44ab72);const _0xdbefb4=await this['cache']['keys'](),_0x278b93=[];for(const _0x3f2983 of _0xdbefb4){const _0x51a428=_0x3f2983['url'],_0x2e2d09=await this['cache']['match'](_0x51a428);if(_0x2e2d09){const _0x2ce091=(await _0x2e2d09['blob']())['size'],_0x23c05d=_0x2e2d09['headers']['get']('x-cache-ti'+'me');_0x23c05d&&_0x278b93['push']({'url':_0x51a428,'size':_0x2ce091,'cacheTime':parseInt(_0x23c05d)});}}_0x278b93['sort']((_0x545b75,_0x92f83e)=>_0x545b75['cacheTime']-_0x92f83e['cacheTime']);for(const _0x15a884 of _0x278b93)this['cacheSizes']['set'](_0x15a884['url'],_0x15a884['size']),this['currentSiz'+'e']+=_0x15a884['size'],this['lruList']['push'](_0x15a884['url']);}catch(_0xb87b95){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0xb87b95);}this['initialize'+'d']=!(0x1a2c*-0x1+-0x27*-0xed+0x9ef*-0x1);}}async['get'](_0x3b2fbd){if(await this['init'](),!this['cache'])return null;try{const _0x46cc63=await this['cache']['match'](_0x3b2fbd);if(!_0x46cc63)return null;const _0x576f49=_0x46cc63['headers']['get']('x-cache-ti'+'me');return _0x576f49&&Date['now']()-parseInt(_0x576f49)>this['options']['maxAge']?(await this['delete'](_0x3b2fbd),null):(this['updateLRU'](_0x3b2fbd),_0x46cc63);}catch{return null;}}async['set'](_0x5aa14a,_0x5b07a4){if(!(!this['cache']||_0x5aa14a['startsWith']('blob:')))try{const _0x262b33=_0x5b07a4['clone'](),_0x33a993=await _0x262b33['blob'](),_0x373900=_0x33a993['size'];this['currentSiz'+'e']+_0x373900>this['options']['maxSize']&&await this['cleanupSpa'+'ce'](_0x373900);const _0x54a050=new Headers(_0x262b33['headers']);_0x54a050['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0x38ce46=new Response(_0x33a993,{'status':_0x262b33['status'],'statusText':_0x262b33['statusText'],'headers':_0x54a050});await this['cache']['put'](_0x5aa14a,_0x38ce46),this['cacheSizes']['set'](_0x5aa14a,_0x373900),this['currentSiz'+'e']+=_0x373900,this['updateLRU'](_0x5aa14a);}catch(_0x14bf07){console['error']('Cache\x20set\x20'+'error:',_0x14bf07);}}['updateLRU'](_0x451330){const _0x53c06d=this['lruList']['indexOf'](_0x451330);_0x53c06d>-(-0x15ea+0x2*0x891+-0x19*-0x31)&&this['lruList']['splice'](_0x53c06d,0x85*0x1+-0x1*0x4e1+0x45d),this['lruList']['push'](_0x451330);}async['cleanupSpa'+'ce'](_0x3e5be1){const _0x48b978=this['options']['maxSize']*(0x1*0x1601+0x15d*-0x11+0x5*0x3c+0.9);if(!(this['currentSiz'+'e']<=_0x48b978))for(;this['lruList']['length']>-0xff*0xd+0x2b*0x95+0xc14*-0x1&&this['currentSiz'+'e']>_0x48b978;){const _0x1c9632=this['lruList']['shift']();_0x1c9632&&await this['delete'](_0x1c9632);}}async['delete'](_0x1ceeb8){if(this['cache'])try{await this['cache']['delete'](_0x1ceeb8);const _0x350a30=this['cacheSizes']['get'](_0x1ceeb8)||0x4f*0xd+-0xd7d+-0x1*-0x97a;this['currentSiz'+'e']-=_0x350a30,this['cacheSizes']['delete'](_0x1ceeb8);const _0x661348=this['lruList']['indexOf'](_0x1ceeb8);_0x661348>-(-0x1747+-0x3f1+-0x17*-0x12f)&&this['lruList']['splice'](_0x661348,-0x14eb+0x1*-0x2155+0x3641);}catch(_0x3f5263){console['error']('Cache\x20dele'+'te\x20error:',_0x3f5263);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0x1c5f41=>Promise['all'](_0x1c5f41['map'](_0x3d0086=>{var _0x351260;return(_0x351260=this['cache'])==null?void(0x22ca+-0x7bc+-0x1b0e*0x1):_0x351260['delete'](_0x3d0086);}))),this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=0x1*0x1ad4+0x1*0xdbb+0xd85*-0x3;}catch(_0xbf5538){console['error']('Cache\x20clea'+'r\x20error:',_0xbf5538);}}['destroy'](){this['cache']=null,this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=0x307+0x3*0x885+-0x1c96;}}class _0x34d6d1{constructor(_0x2aaec4=[],_0x5b0fe3={}){this['cacheManag'+'er']=new _0x460247(_0x5b0fe3['cache']),this['retryCount']=_0x5b0fe3['retryCount']||0x6bc*0x2+-0x1238+0x4c3,this['retryDelay']=_0x5b0fe3['retryDelay']||0x17*-0x44+-0x351*-0x7+-0x1af*0x9,this['maxConcurr'+'ency']=_0x5b0fe3['maxConcurr'+'ency']||0x1441+-0xdc2+-0x679*0x1,this['downloadQu'+'eue']=_0x2aaec4,this['isProcessi'+'ngDownload'+'Queue']=!(0x8fe*-0x1+-0x1153+0x1a52),this['pendingRes'+'ponses']=new Map(),this['processDow'+'nloadQueue']();}async['processDow'+'nloadQueue'](){if(!this['isProcessi'+'ngDownload'+'Queue']){for(this['isProcessi'+'ngDownload'+'Queue']=!(0x13a1+-0x26*-0x3a+-0x1*0x1c3d);this['downloadQu'+'eue']['length']>-0x945+-0x13c2+0x1d07;)try{const _0x362888=this['downloadQu'+'eue']['splice'](-0x1*-0xb8f+0x7*0xfd+-0x127a,this['maxConcurr'+'ency'])['map'](_0x1d3292=>{if(!this['pendingRes'+'ponses']['has'](_0x1d3292)){const _0x3597d6=this['download'](_0x1d3292);return this['pendingRes'+'ponses']['set'](_0x1d3292,_0x3597d6),_0x3597d6['then'](()=>{this['pendingRes'+'ponses']['delete'](_0x1d3292);});}return Promise['resolve']();});await Promise['all'](_0x362888);}catch(_0x4a11c2){console['error']('Download\x20e'+'rror:',_0x4a11c2);}finally{this['isProcessi'+'ngDownload'+'Queue']=!(0x724+-0x1*-0x80e+0xf31*-0x1);}}}async['fetch'](_0x50502e,_0x777a3a={}){if(this['pendingRes'+'ponses']['has'](_0x50502e))return this['pendingRes'+'ponses']['get'](_0x50502e);const {forceRefresh:_0x3caee0=!(-0x2*-0x109d+-0x1d05*-0x1+0x101*-0x3e),..._0x32bbfc}=_0x777a3a;this['pendingRes'+'ponses']['set'](_0x50502e,this['download'](_0x50502e,_0x32bbfc));const _0x4e52f5=await this['pendingRes'+'ponses']['get'](_0x50502e);return this['pendingRes'+'ponses']['delete'](_0x50502e),_0x4e52f5;}async['download'](_0x1a6af6,_0x45a9dd={}){var _0x2ed51c;await((_0x2ed51c=this['cacheManag'+'er'])==null?void(0x889+0xa08+0x1*-0x1291):_0x2ed51c['init']());const {forceRefresh:_0x1f5436=!(0xb8a*-0x1+-0x10a2+-0x1*-0x1c2d),..._0x10adaf}=_0x45a9dd;_0x1f5436&&await this['cacheManag'+'er']['delete'](_0x1a6af6);const _0x192a8f=await this['cacheManag'+'er']['get'](_0x1a6af6);if(_0x192a8f)return _0x192a8f;let _0x52c89a;for(let _0x57b9b4=-0x1691+-0x2f5+0x63*0x42;_0x57b9b4<this['retryCount'];_0x57b9b4++)try{const _0x253de8=await fetch(_0x1a6af6,_0x10adaf);if(!_0x253de8['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0x253de8['status']);return await this['cacheManag'+'er']['set'](_0x1a6af6,_0x253de8),_0x253de8;}catch(_0x7d30f2){console['error']('Download\x20e'+'rror:',_0x7d30f2),_0x52c89a=_0x7d30f2,_0x57b9b4<this['retryCount']-(0x256*-0x1+-0x204d+-0xc*-0x2e3)&&await new Promise(_0x4e072c=>setTimeout(_0x4e072c,this['retryDelay']*(_0x57b9b4+(0x1*-0x1efd+0x3a*-0x6d+0x37b0))));}throw _0x52c89a;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}['destroy'](){var _0x4c7864;(_0x4c7864=this['cacheManag'+'er'])==null||_0x4c7864['destroy'](),this['cacheManag'+'er']=null,this['downloadQu'+'eue']=[],this['isProcessi'+'ngDownload'+'Queue']=!(0x8*0x62+-0xd2d*-0x1+-0x103c),this['pendingRes'+'ponses']=new Map(),this['pendingRes'+'ponses']['clear']();}}class _0x347eae{constructor(_0xf727b2,_0x3b27de=[]){this['elements']=_0xf727b2,this['comments']=_0x3b27de,this['isCompress'+'ed']=!(0x1908+-0x203e+0x737*0x1);}}class _0x5a629f{constructor(_0x504a4d){this['url']=_0x504a4d;}async['readFragme'+'nt'](){globalThis['fetchWorke'+'r']||(globalThis['fetchWorke'+'r']=new _0x34d6d1(globalThis['downloadQu'+'eueUrlList']));const _0x7085b3=await globalThis['fetchWorke'+'r']['fetch'](this['url']);if(!_0x7085b3['ok'])throw new Error('Failed\x20to\x20'+'fetch\x20'+this['url']+':\x20'+_0x7085b3['statusText']);const _0x5e4626=await _0x7085b3['arrayBuffe'+'r'](),_0xf8f2f2=new Uint8Array(_0x5e4626);let _0xdee9ef=-0x1*-0x1183+0x1*-0x228b+0x1108,{size:_0x79531e,type:_0x81fd14}=this['_readBoxHe'+'ader'](_0xf8f2f2,_0xdee9ef);if(_0x81fd14!=='moof')throw new Error('Not\x20a\x20moof');_0xdee9ef+=0xe3f+0x1*0x31d+-0x455*0x4;const _0xe1925a=_0xdee9ef+_0x79531e-(-0x2484+-0x7b9+0x2c45);let _0x1d435d=null;for(;_0xdee9ef<_0xe1925a;){const {size:_0x5fa8c7,type:_0x3280c8}=this['_readBoxHe'+'ader'](_0xf8f2f2,_0xdee9ef);_0xdee9ef+=0x665+-0x65*-0x33+0xa*-0x2a6;const _0x1fc80b=_0xf8f2f2['slice'](_0xdee9ef,_0xdee9ef+_0x5fa8c7-(-0x1ebf+0x237b*0x1+-0x25a*0x2));_0xdee9ef+=_0x5fa8c7-(0xa*-0x102+-0x1a15+-0x1*-0x2431),_0x3280c8==='emsg'&&(_0x1d435d=this['_parseEmsg'](_0x1fc80b));}if(!_0x1d435d)throw new Error('Incomplete'+'\x20moof');const {size:_0x47d01c,type:_0x1ae1d1}=this['_readBoxHe'+'ader'](_0xf8f2f2,_0xdee9ef);if(_0x1ae1d1!=='mdat')throw new Error('Expected\x20m'+'dat\x20box\x20af'+'ter\x20moof');_0xdee9ef+=-0x2c3*0xb+0x1*0x13a8+0xac1;const _0x853e3e=_0xf8f2f2['slice'](_0xdee9ef,_0xdee9ef+(_0x47d01c-(0xfa9+0x21d2+0x1*-0x3173)));return{'metadata':_0x1d435d,'segmentData':_0x853e3e};}['_readBoxHe'+'ader'](_0x195654,_0x15f132){if(_0x15f132+(-0x176e*-0x1+0x1d0+-0x1936)>_0x195654['length'])throw new Error('EOF');const _0x647b59=_0x195654[_0x15f132]<<0x943+0x2d2*0x5+-0x17*0x103|_0x195654[_0x15f132+(0x20d9+0x22c9+-0x43a1)]<<-0x1*0x39e+-0x25d9+0x2987|_0x195654[_0x15f132+(0x1*0x5cb+-0x229b+0x1cd2)]<<-0x18be*-0x1+0xb*-0x125+-0xc1f|_0x195654[_0x15f132+(0x6f*0x9+0x22e6+-0x1365*0x2)],_0x3e494d=String['fromCharCo'+'de'](_0x195654[_0x15f132+(0x2f7*-0x9+-0xf60+0x1*0x2a13)],_0x195654[_0x15f132+(0x2273*-0x1+-0x1e0c+0x4084)],_0x195654[_0x15f132+(-0x1d3e*0x1+0x24d0+-0x78c)],_0x195654[_0x15f132+(0x7b3+0x1654+-0x1*0x1e00)]);return{'size':_0x647b59,'type':_0x3e494d};}['_parseEmsg'](_0x1ccf7f){let _0x18075d=0x171*0x8+-0xb*-0x265+-0x25df;_0x18075d=_0x1ccf7f['indexOf'](-0x2*-0x18d+0x2128*0x1+-0x2442,_0x18075d)+(-0x91c+-0x6b*0x58+0x2de5),_0x18075d=_0x1ccf7f['indexOf'](0x1*-0x641+-0x2012+-0x1*-0x2653,_0x18075d)+(-0x119f+-0x58*-0x5e+-0xeb0),_0x18075d+=-0x1890+-0x1*0x137+0x19d7;const _0xbe9ddb=_0x1ccf7f['slice'](_0x18075d);return globalThis['CBOR']['decode'](_0xbe9ddb);}}class _0xf8cf83{constructor(_0x2a2246=0xca+0x5*-0x3d5+0x125f,_0x5e3efe=-0x38b*0x7+0xdbd+-0x10*-0xb1,_0x23aa82=-0x1941+0xa79*-0x1+0x22*0x10d,_0x23b3e5=0x21a9+-0x1c7a+-0x52e){this['x']=_0x2a2246,this['y']=_0x5e3efe,this['z']=_0x23aa82,this['w']=_0x23b3e5;}['set'](_0x45188a,_0x375ad8,_0x2842fd,_0x30f27d){return this['x']=_0x45188a,this['y']=_0x375ad8,this['z']=_0x2842fd,this['w']=_0x30f27d,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x255523=this){let _0x5ca411=_0x255523['length']();return _0x5ca411===0x17*-0x17+0x8a6+-0x695?(this['x']=this['y']=this['z']=-0x2*0x21f+0x254a+-0x210c,this['w']=-0x24a4+0x1*-0xb08+0x2fad):(_0x5ca411=(0x58f*0x2+0x1*-0x1472+0x955)/_0x5ca411,this['x']=_0x255523['x']*_0x5ca411,this['y']=_0x255523['y']*_0x5ca411,this['z']=_0x255523['z']*_0x5ca411,this['w']=_0x255523['w']*_0x5ca411),this;}['mulScalar'](_0xc9350b,_0x377aa4=this){return this['x']=_0x377aa4['x']*_0xc9350b,this['y']=_0x377aa4['y']*_0xc9350b,this['z']=_0x377aa4['z']*_0xc9350b,this['w']=_0x377aa4['w']*_0xc9350b,this;}}self['onmessage']=async _0xe1728b=>{var _0x902d7e,_0x51e4fa;const {data:_0x212891}=_0xe1728b;switch(_0x212891['type']){case'initWorker':importScripts(_0x212891['cborXUrl']);break;case'destroyWor'+'ker':_0x7b03e1();break;case'loadGsdMan'+'ifest':const {manifestUrl:_0x5c4b81,loadRepresentation:_0x15029e}=_0x212891,_0x2c25c5=await _0x48df93(_0x5c4b81,_0x15029e);globalThis['manifestUr'+'l']=_0x5c4b81,globalThis['manifest']=_0x2c25c5,globalThis['resentatio'+'n']=_0x2c25c5['representa'+'tion'],globalThis['downloadQu'+'eueUrlList']=_0x48782e(),globalThis['fetchWorke'+'r']=new _0x34d6d1(globalThis['downloadQu'+'eueUrlList']),self['postMessag'+'e']({'type':'onloadMani'+'fest','data':_0x2c25c5,'url':_0x5c4b81,'representation':_0x15029e});break;case'loadGsdSeg'+'ments':try{const _0x327174=_0x57c363(globalThis['manifest'],globalThis['resentatio'+'n']),_0x44484d=await _0x1059e2(globalThis['manifest'],_0x327174),_0x838ad9=(_0x902d7e=_0x44484d==null?void(0x4*-0x457+0x20*0x10e+-0x1064):_0x44484d['elements'][-0x1f*0x8b+-0xc81*0x1+0x5de*0x5])==null?void(0x7d*0x40+0x5a6+-0x2*0x1273):_0x902d7e['properties']['map'](_0x45d25a=>_0x45d25a['storage']['buffer']);self['postMessag'+'e']({'type':'loadGsdSeg'+'mentsDone','data':_0x44484d,'url':globalThis['manifestUr'+'l'],'representation':globalThis['resentatio'+'n']},_0x838ad9);}catch(_0x18e0b5){console['error']('Error\x20load'+'ing\x20GSD:',_0x18e0b5),self['postMessag'+'e']({'type':'error','data':_0x18e0b5['message'],'url':globalThis['manifestUr'+'l']});}break;case'loadTimeli'+'neIndexSeg'+'ments':const {timelineIndexs:_0x45b864}=_0x212891;try{const _0x57c39b=_0x57c363(globalThis['manifest'],globalThis['resentatio'+'n']),_0x720a27=await _0x26e9e9(globalThis['manifest'],_0x57c39b,_0x45b864),_0x3ad1cc=(_0x51e4fa=_0x720a27==null?void(0x1d*0x79+-0x52c+-0x889):_0x720a27['elements'][-0xc3f+-0x900*-0x2+-0x3*0x1eb])==null?void(0xed7+-0x239*-0x1+-0x1110):_0x51e4fa['properties']['map'](_0x30f3b8=>_0x30f3b8['storage']['buffer']);self['postMessag'+'e']({'type':'loadTimeli'+'neIndexSeg'+'mentsDone','data':_0x720a27,'timelineIndexs':_0x45b864,'url':globalThis['manifestUr'+'l'],'representation':globalThis['resentatio'+'n']},_0x3ad1cc);}catch(_0x5741cd){console['error']('Error\x20load'+'ing\x20GSD:',_0x5741cd),self['postMessag'+'e']({'type':'error','data':_0x5741cd['message'],'url':globalThis['manifestUr'+'l']});}break;}};const _0x7b03e1=()=>{var _0x552253;globalThis['manifestUr'+'l']=null,globalThis['manifest']=null,globalThis['resentatio'+'n']=null,(_0x552253=globalThis['fetchWorke'+'r'])==null||_0x552253['destroy'](),globalThis['fetchWorke'+'r']=null,globalThis['downloadQu'+'eueUrlList']=[],globalThis['loadedSegm'+'ents']=[],globalThis['currentLoa'+'dSg']=null;},_0x48782e=()=>{const _0x3f6c06=new Set(),_0x1a9ef7=_0x57c363(globalThis['manifest'],globalThis['resentatio'+'n']),_0x57ad35=globalThis['manifest']['baseUrl'],_0x1d62c8=_0x1a9ef7['segmentTem'+'plate'][-0xd*-0x1bc+0x239*-0x5+-0xb6f];for(const _0x245745 of _0x1d62c8['segmentTim'+'eline'])for(const _0xb536c8 of _0x245745['nl']){const _0x33d58a=''+_0x57ad35+_0x1d62c8['media']['replace']('$SegGroupI'+'ndex$',String(_0x245745['sg']))['replace']('$NodeIndex'+'$',String(_0xb536c8));_0x3f6c06['add'](_0x33d58a);}return Array['from'](_0x3f6c06);},_0x48df93=async(_0x58c68f,_0x5aad2d)=>{const _0x492b84=await(await fetch(_0x58c68f))['text'](),_0xc63a68=JSON['parse'](_0x492b84);_0xc63a68['baseUrl']=_0x58c68f['replace'](/\/[^\/]*$/,'/');const {schemas:_0x4f4d9d,gsiUrl:_0x3f403a,repId:_0x3f1d45}=await _0x4625e0(_0xc63a68,_0x5aad2d);return _0xc63a68['schemas']=_0x4f4d9d,_0xc63a68['gsiUrl']=_0x3f403a,_0xc63a68['representa'+'tion']=_0x3f1d45,_0xc63a68;},_0x4625e0=async(_0x1eb949,_0x3bf3c6)=>{let _0x6754e3=null,_0x24b19a=null;for(const _0x2f411c of _0x1eb949['adaptation'+'Sets'])if(_0x2f411c['contentTyp'+'e']==='4dgs'){_0x24b19a=_0x2f411c;for(const _0x2cdac2 of _0x2f411c['representa'+'tions'])if(_0x2cdac2['id']===_0x3bf3c6){_0x6754e3=_0x2cdac2;break;}break;}_0x6754e3||(_0x6754e3=_0x24b19a['representa'+'tions'][0x1ec*0x2+-0x1744+0x136c],console['warn']('Representa'+'tion\x20\x27'+_0x3bf3c6+('\x27\x20not\x20foun'+'d,\x20use\x20the'+'\x20first\x20rep'+'resentatio'+'n\x20instead')));const _0x1ed1a2=_0x6754e3['id'],_0x409bff=_0x1eb949['baseUrl']+_0x1ed1a2+('/init.gsi.'+'json'),_0x59cd9a=await(await fetch(_0x409bff))['text'](),_0x47d7c2=JSON['parse'](_0x59cd9a),_0x406290={};return _0x406290[_0x1ed1a2]=_0x47d7c2,{'schemas':_0x406290,'gsiUrl':_0x409bff,'repId':_0x1ed1a2};},_0x57c363=(_0x210a52,_0x220b67='high-quant'+'ized')=>{let _0x309d01=null;for(const _0x15ac14 of _0x210a52['adaptation'+'Sets'])if(_0x15ac14['contentTyp'+'e']==='4dgs'){for(const _0x5d6a51 of _0x15ac14['representa'+'tions'])if(_0x5d6a51['id']===_0x220b67){_0x309d01=_0x5d6a51;break;}break;}if(!_0x309d01)throw new Error('Representa'+'tion\x20\x27'+_0x220b67+('\x27\x20not\x20foun'+'d'));return _0x309d01;},_0x1059e2=async(_0x1129c1,_0x2f7fca)=>{const _0x39d841=_0x2f7fca['id'],_0x1c07d4=_0x1129c1['schemas'][_0x39d841]['attributes'],_0xceeea0=_0x2f7fca['segmentTem'+'plate'][-0x915+0x47c*-0x3+0x9*0x281];globalThis['loadedSegm'+'ents']=[];const _0x5bfbf0=[],_0x301c34=[];for(const _0x48b70b of _0xceeea0['segmentTim'+'eline'])for(const _0x51eaaa of _0x48b70b['nl']){if(globalThis['loadedSegm'+'ents']['includes'](_0x48b70b['sg']+'_'+_0x51eaaa))continue;globalThis['loadedSegm'+'ents']['push'](_0x48b70b['sg']+'_'+_0x51eaaa);const _0x5d71f4=await _0x3d0d64(_0x1129c1,_0x2f7fca,_0x1c07d4,_0x48b70b['sg'],_0x51eaaa);_0x301c34['push'](_0x5d71f4['decoded']),_0x5bfbf0['push'](_0x5d71f4['metadata']);}return _0x33939d(_0x301c34,_0x1c07d4,_0x1129c1['comments']);},_0x26e9e9=async(_0x4241de,_0x1e1a5c,_0xb6bd17)=>{if(!_0xb6bd17||_0xb6bd17['length']===-0x1*-0x156e+0xd*0x2d7+-0x3*0x1373)return{'decoded':[],'metadata':[]};const _0x389846=_0x1e1a5c['id'],_0xc7c055=_0x4241de['schemas'][_0x389846]['attributes'],_0x3f459d=_0x1e1a5c['segmentTem'+'plate'][-0xdc1+-0xd1c+0x1add];globalThis['loadedSegm'+'ents']||(globalThis['loadedSegm'+'ents']=[]);const _0x3e7a2a=_0x3f459d['segmentTim'+'eline'][_0xb6bd17[0x101*-0x25+0xe9*0x2a+-0x1*0x115]];globalThis['currentLoa'+'dSg']!==_0x3e7a2a['sg']&&(globalThis['loadedSegm'+'ents']=globalThis['loadedSegm'+'ents']['filter'](_0x44fbe6=>!_0x44fbe6['startsWith'](globalThis['currentLoa'+'dSg'])),globalThis['currentLoa'+'dSg']=_0x3e7a2a['sg']);let _0x2c119e;const _0x2b1b9f=[];for(const _0x4b66e8 of _0xb6bd17){_0x2c119e=_0x3f459d['segmentTim'+'eline'][_0x4b66e8];for(const _0x3bd20 of _0x2c119e['nl'])globalThis['loadedSegm'+'ents']['includes'](_0x2c119e['sg']+'_'+_0x3bd20)||(globalThis['loadedSegm'+'ents']['push'](_0x2c119e['sg']+'_'+_0x3bd20),_0x2b1b9f['push'](_0x3bd20));}const _0x1de3ee=await _0x3d0d64(_0x4241de,_0x1e1a5c,_0xc7c055,_0x2c119e['sg'],_0x2b1b9f);_0x1de3ee['metadata'];const _0x3c34e0=_0x1de3ee['decoded'];return _0x33939d(_0x3c34e0,_0xc7c055,_0x4241de['comments']);},_0x3d0d64=async(_0x295d19,_0x396198,_0x4bcedb,_0x21f17f,_0x2829c4)=>{const _0x4f6e9e=_0x295d19['baseUrl'],_0x21ab0f=_0x396198['segmentTem'+'plate'][-0x8f3+-0xd61+0x1654]['media'],_0x3744d3=_0x2829c4['map'](_0x4f41fd=>''+_0x4f6e9e+_0x21ab0f['replace']('$SegGroupI'+'ndex$',String(_0x21f17f))['replace']('$NodeIndex'+'$',String(_0x4f41fd))),_0x554e90=await Promise['all'](_0x3744d3['map'](async _0xcc06cc=>{const _0x3fbd98=await _0x16b9e8(_0xcc06cc),_0x4d7408=_0x3fbd98['metadata'],_0x36dd69=_0x3fbd98['segmentDat'+'a'],_0x2540c8=_0x4d7408['gaussianCo'+'unt'];console['log']('loadSegmen'+'t\x20'+_0xcc06cc),console['log']('loadSegmen'+'t\x20timeStar'+'t:',_0x4d7408['timeStart'],'segment\x20ti'+'meEnd:',_0x4d7408['timeEnd'],'segment\x20ga'+'ussianCoun'+'t:',_0x2540c8);let _0x3258ee;if(_0x396198['id']['includes']('quantized')){const _0x27cfe5=_0x4d7408['chunk_boun'+'ds'];_0x3258ee=_0x1fb33a(_0x36dd69,_0x2540c8,_0x4bcedb,_0x21f17f,_0x27cfe5);}else _0x3258ee=_0x568c5e(_0x36dd69,_0x2540c8,_0x4bcedb,_0x21f17f);return{'decoded':_0x3258ee,'metadata':_0x4d7408};})),_0x1ed1b5=_0x554e90['map'](_0x4329a4=>_0x4329a4['decoded']),_0x11cb29=_0x554e90['map'](_0x4a6d93=>_0x4a6d93['metadata']);return{'decoded':_0x1ed1b5,'metadata':_0x11cb29};},_0x33939d=(_0x4e467e,_0x1f028e,_0x2478a8)=>{if(_0x4e467e['length']===-0x1*0x20ea+-0x320+0x240a)return new _0x347eae([{'name':'vertex','count':0x0,'properties':[{'name':'position','type':'float','storage':new Float32Array(-0xeeb*-0x1+-0x2193+0x8*0x255),'byteSize':0x4},{'name':'color_opac'+'ity','type':'uint16','storage':new Uint16Array(-0x815+-0x8c*-0x31+-0x12b7),'byteSize':0x2},{'name':'t','type':'float','storage':new Float32Array(-0x135b+0xf39+-0x211*-0x2),'byteSize':0x4},{'name':'t_scale','type':'float','storage':new Float32Array(-0x1eca+-0x51*0x59+0x3af3),'byteSize':0x4},{'name':'cutoff','type':'float','storage':new Float32Array(-0x1b05*-0x1+-0x719+-0x33*0x64),'byteSize':0x4},{'name':'motion','type':'float','storage':new Float32Array(0x12ac+-0x1a86+0x2*0x3ed),'byteSize':0x4},{'name':'rotation','type':'float','storage':new Float32Array(0x971*0x1+0x2*0x47+-0x355*0x3),'byteSize':0x4},{'name':'scale','type':'uint16','storage':new Uint16Array(-0x1ca0+0x133*-0x8+0x8*0x4c7),'byteSize':0x2},{'name':'time_index','type':'float','storage':new Float32Array(0x33*0xab+0x65*-0x2e+-0xfeb),'byteSize':0x4}]}],_0x2478a8);const _0x11d409=_0x2d6dc7(_0x4e467e),[_0x51f48b,_0x34e159,_0x523b72]=_0x1fc168(_0x11d409['lifecycle'],0x25d+-0x1bcd+0x1973,Float32Array),_0xc08ab=_0x11d409['time_index'],_0x50f39a=_0x1f028e['find'](_0x2bed2c=>_0x2bed2c['name']==='feature_re'+'st'),_0x3c65ca=[];if(_0x50f39a&&_0x11d409['feature_re'+'st']){const _0xe30e04=_0x50f39a['dataType']['split'](',')[0xd6f*0x1+-0x7ea*-0x2+0x217*-0xe]['trim']()['replace']('>',''),_0x50c2b9=_0x1fc168(_0x11d409['feature_re'+'st'],0xa*0x218+0x2600+0x3aed*-0x1,Float32Array);for(const _0x345e26 of _0x50c2b9){const _0x4e88e3=_0x1fc168(_0x345e26,_0xe30e04/(-0x98+-0x4c0+0x55b),Float32Array);for(let _0x1c2634=-0x250c+0x71f+0xa3*0x2f;_0x1c2634<_0x4e88e3['length'];_0x1c2634++)_0x3c65ca['push']({'name':'f_rest_'+_0x1c2634,'type':'float','storage':_0x4e88e3[_0x1c2634],'byteSize':0x4});}}return new _0x347eae([{'name':'vertex','count':_0x11d409['position']['length']/(0x1d34+0x166a+-0x339b),'properties':[{'name':'position','type':'float','storage':_0x11d409['position'],'byteSize':0x4},{'name':'color_opac'+'ity','type':'uint16','storage':_0x11d409['color_opac'+'ity'],'byteSize':0x2},{'name':'t','type':'float','storage':_0x34e159,'byteSize':0x4},{'name':'t_scale','type':'float','storage':_0x51f48b,'byteSize':0x4},{'name':'cutoff','type':'float','storage':_0x523b72,'byteSize':0x4},{'name':'motion','type':'float','storage':_0x11d409['motion'],'byteSize':0x4},{'name':'rotation','type':'float','storage':_0x11d409['rotation'],'byteSize':0x4},{'name':'scale','type':'uint16','storage':_0x11d409['scale'],'byteSize':0x2},{'name':'time_index','type':'float','storage':_0xc08ab,'byteSize':0x4},..._0x3c65ca]}],_0x2478a8);},_0x1fc168=(_0x2c9b9b,_0x120a43,_0x23bc2d)=>{const _0xf2d6f2=new Array(_0x120a43),_0x45e9be=Math['floor'](_0x2c9b9b['length']/_0x120a43),_0x3107a1=_0x2c9b9b['length']%_0x120a43;for(let _0x331321=-0x2*-0x2c2+-0x13ee+-0x5a*-0x29;_0x331321<_0x120a43;_0x331321++){const _0x47f846=_0x331321<_0x3107a1?_0x45e9be+(0x409*0x6+-0x1a82+0x24d*0x1):_0x45e9be;_0xf2d6f2[_0x331321]=new _0x23bc2d(_0x47f846);}for(let _0x2e8342=-0x1fc+0x7*-0x3df+0x1d15;_0x2e8342<_0x2c9b9b['length'];_0x2e8342++){const _0x1b2098=_0x2e8342%_0x120a43,_0x239017=Math['floor'](_0x2e8342/_0x120a43);_0xf2d6f2[_0x1b2098][_0x239017]=_0x2c9b9b[_0x2e8342];}return _0xf2d6f2;},_0x16b9e8=async _0x2a9cc6=>{const _0x302ba7=new _0x5a629f(_0x2a9cc6),{metadata:_0x54e4a6,segmentData:_0x404e86}=await _0x302ba7['readFragme'+'nt']();return{'metadata':_0x54e4a6,'segmentData':_0x404e86};},_0x18b0d0=(_0x3d0921,_0x343b80)=>{let _0x2c5503,_0x1e771f,_0x40fb17=-(0x190b+0xe*-0x202+0x312);if(_0x3d0921['encoding']){const _0x58c969=_0x3d0921['encoding']['storageTyp'+'e'];if(_0x58c969==='uint32')_0x1e771f=Uint32Array,_0x2c5503=Uint32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x58c969['startsWith']('array<ucha'+'r')){_0x1e771f=Uint8Array;const _0x179ebe=_0x58c969['split'](',')[-0x2200+-0x1452+0x3653*0x1]['trim']()['replace']('>','');_0x40fb17=parseInt(_0x179ebe),_0x2c5503=_0x40fb17*Uint8Array['BYTES_PER_'+'ELEMENT'];}else throw new Error('Unsupporte'+'d\x20storage\x20'+'type:\x20'+_0x58c969);}}else{if(_0x1e771f=Float32Array,_0x3d0921['dataType']==='vec3f')_0x2c5503=(-0x77a+-0x1*-0x1f90+-0x1*0x1813)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x3d0921['dataType']==='vec4f')_0x2c5503=(-0x2*-0x1066+-0x22a0+0x1d8)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x3d0921['dataType']==='vec2f')_0x2c5503=(-0x2421+0x1*-0x73b+-0x1a*-0x1ab)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x3d0921['dataType']['startsWith']('array<floa'+'t')){const _0x50101a=_0x3d0921['dataType']['split'](',')[0x2a9*-0x2+-0xa3*-0x5+-0x89*-0x4]['trim']()['replace']('>','');_0x40fb17=parseInt(_0x50101a),_0x2c5503=_0x40fb17*Float32Array['BYTES_PER_'+'ELEMENT'];}else throw new Error('Unsupporte'+'d\x20data\x20typ'+'e:\x20'+_0x3d0921['dataType']);}}}}return{'dataSize':_0x343b80*_0x2c5503,'datatype':_0x1e771f,'arraySize':_0x40fb17};},_0x50fb4b=(_0x4caae6,_0x35e4c9)=>{const _0x56ff3b=(-0x1503+0x2293+-0xd8f<<_0x35e4c9)-(-0x1*0xaa3+0x1a1f+-0xf7b);return(_0x4caae6&_0x56ff3b)/_0x56ff3b;},_0x11cc94=_0x93ad2=>{const _0x4770a4=new Float32Array(_0x93ad2['length']*(0x1d9d+0x575+-0x1*0x230f));for(let _0x58c37a=-0x1637+-0xbb*-0x2+0x14c1;_0x58c37a<_0x93ad2['length'];_0x58c37a++)_0x4770a4[_0x58c37a*(0xcae+-0x9*-0x24d+-0x3*0xb20)]=_0x50fb4b(_0x93ad2[_0x58c37a]>>>-0x103e*-0x2+-0x16f*0x4+-0x1aab,0x1193+0x1069*-0x2+-0x67*-0x26),_0x4770a4[_0x58c37a*(0x2b9+-0x1e8d+0x1bd7*0x1)+(0x951+-0x8c7*0x2+-0xa*-0xd3)]=_0x50fb4b(_0x93ad2[_0x58c37a]>>>-0x9bb+0xf15*-0x1+0x18db,-0xbd6+0x1*0x21c1+-0x15e1),_0x4770a4[_0x58c37a*(-0x43*-0x11+0x1e8d+-0x22fd)+(0x2*0x313+-0xa*-0x8e+-0x2ec*0x4)]=_0x50fb4b(_0x93ad2[_0x58c37a],0x1*0xec5+0x3ef*-0x9+0x14ad);return _0x4770a4;},_0x1bfaae=_0x3bbcb6=>{const _0x71fe2f=new Float32Array(_0x3bbcb6['length']*(-0x1d57*-0x1+0x1*-0x92d+0x1*-0x1426));for(let _0x5712eb=0x1*-0x15dc+-0xa24+0x2000;_0x5712eb<_0x3bbcb6['length'];_0x5712eb++)_0x71fe2f[_0x5712eb*(-0x636+-0xb4*0x2e+0x2692)]=_0x50fb4b(_0x3bbcb6[_0x5712eb]>>>-0x2c5*-0xd+-0x3ba+-0x202f,-0x208f+-0x1*0x1f30+0x3fc7),_0x71fe2f[_0x5712eb*(0x13*-0x35+-0x2b6+-0x9b*-0xb)+(-0x200b+0x1ec7+0x145)]=_0x50fb4b(_0x3bbcb6[_0x5712eb]>>>-0xbe3+-0xe4f+-0x2*-0xd21,-0x1c43+-0x1306+0x1*0x2f51),_0x71fe2f[_0x5712eb*(-0x224e+-0xd3c+0x1*0x2f8e)+(-0x386+-0x3*0x64d+-0x1*-0x166f)]=_0x50fb4b(_0x3bbcb6[_0x5712eb]>>>0x2*0xcc4+0x71e*-0x5+0xa16,-0x1*0x13d9+0x2509+-0x1128),_0x71fe2f[_0x5712eb*(0x68c*-0x1+-0x24*-0x40+-0x3*0xd0)+(0x8fc+-0x1c5b+-0x9b1*-0x2)]=_0x50fb4b(_0x3bbcb6[_0x5712eb],-0x26e7+0x5ab+0x1*0x2144);return _0x71fe2f;},_0x25d2dc=_0x27a5f2=>{const _0x314639=new Float32Array(_0x27a5f2['length']*(0x1b5+-0x2*-0x56f+-0xc90)),_0x2c70a1=(-0x7*0xc1+-0x4eb*-0x1+0x5d)/(Math['sqrt'](-0x1f*0x9f+0xb2f+0x814)*(-0xb6*-0x1f+0x2*-0x87d+-0x51*0x10+0.5));for(let _0x425b33=-0x784*-0x2+-0x138e+0x486;_0x425b33<_0x27a5f2['length'];_0x425b33++){const _0x26b086=(_0x50fb4b(_0x27a5f2[_0x425b33]>>>-0x94*0x26+0x29e+0x136e,0x1a1+0x4d8+-0x3d*0x1b)-(0x20e8+0x12d9*-0x1+-0xe0f+0.5))*_0x2c70a1,_0x349f1a=(_0x50fb4b(_0x27a5f2[_0x425b33]>>>0x2c*0xb9+0x1*0x10cf+-0x3091*0x1,0x1d46*-0x1+-0x891*-0x1+0x14bf)-(-0x5cb*0x1+-0x33*0x5d+-0x236*-0xb+0.5))*_0x2c70a1,_0x465463=(_0x50fb4b(_0x27a5f2[_0x425b33],-0x67e+0x1a2b+0x13a3*-0x1)-(0x1586+0x1bc9+0x1*-0x314f+0.5))*_0x2c70a1,_0x4c29bf=Math['sqrt'](0x6d8*0x1+0x1847+-0x1f1e-(_0x26b086*_0x26b086+_0x349f1a*_0x349f1a+_0x465463*_0x465463));let _0x54ef85=0x17be+-0xff+-0x16bf,_0x28929c=0x76*-0x4a+-0x1893+0x3aaf,_0x3aed47=0xfe4+-0xd06+-0x2de,_0x4ae898=0x3b*-0x30+-0x1*0x1f21+0x2a31;switch(_0x27a5f2[_0x425b33]>>>-0x3*-0xbbd+0x5c3*0x4+-0xe5*0x41){case 0x80e+-0x1a46+0xb*0x1a8:_0x54ef85=_0x4c29bf,_0x28929c=_0x26b086,_0x3aed47=_0x349f1a,_0x4ae898=_0x465463;break;case-0xc8e+0x85e+0x1*0x431:_0x54ef85=_0x4c29bf,_0x28929c=_0x349f1a,_0x3aed47=_0x465463,_0x4ae898=_0x26b086;break;case-0xe4d+-0x1*0x24f2+0x3341:_0x54ef85=_0x349f1a,_0x28929c=_0x4c29bf,_0x3aed47=_0x465463,_0x4ae898=_0x26b086;break;case-0x39*0x83+0x155*0xb+0xe87:_0x54ef85=_0x349f1a,_0x28929c=_0x465463,_0x3aed47=_0x4c29bf,_0x4ae898=_0x26b086;break;}const _0x27378a=_0x408457(_0x54ef85,_0x28929c,_0x3aed47,_0x4ae898);_0x314639[_0x425b33*(-0x209b*0x1+-0xeb9+0x2f57)]=_0x27378a['x'],_0x314639[_0x425b33*(-0x1663+0xf61+0x3*0x257)+(-0x1ada+0x1c72+-0x197)]=_0x27378a['y'],_0x314639[_0x425b33*(0x1*0xcd7+0x4*0x873+-0x8*0x5d4)+(0x19c7+0x1e5b+0x382*-0x10)]=_0x27378a['z'];}return _0x314639;},_0x55ff17=(_0x2d4a32,_0x4d88cd,_0x189302)=>{const _0x4ad38c=_0x189302-_0x4d88cd,_0x53cb0f=new Float32Array(_0x2d4a32['length']);for(let _0x229e23=-0x33*-0x67+-0x171a+0x295*0x1;_0x229e23<_0x2d4a32['length'];_0x229e23++)_0x53cb0f[_0x229e23]=_0x2d4a32[_0x229e23]/(0x6fd*0x2+0x7*0x304+-0x2217*0x1)*_0x4ad38c+_0x4d88cd;return _0x53cb0f;},_0x5b4a11=new Float32Array(0x1782+-0x37*-0x26+-0x79*0x43),_0x56d9dd=new Int32Array(_0x5b4a11['buffer']),_0x4d5fe5=_0x315b80=>{_0x5b4a11[-0x2511+-0xd95+-0x10e2*-0x3]=_0x315b80;const _0x3fcb2c=_0x56d9dd[-0x157*-0x19+-0x21*-0xaa+-0x3769];let _0x2425d6=_0x3fcb2c>>0x1*-0x1139+0x23a0+-0x1257&-0x5*0x98b+-0xe255+0x1920c,_0x285627=_0x3fcb2c>>-0xa1*-0xb+-0x233b+0x1c5c&0x142b*-0x1+-0x1a5*-0xd+-0x243*-0x3;const _0x4c4d8e=_0x3fcb2c>>0x15c*-0x10+-0x961+0x7ce*0x4&0x22bb+0x4af+0x266b*-0x1;return _0x4c4d8e<0x7*-0x332+0xed5+0x7f0?_0x2425d6:_0x4c4d8e>-0x42+-0x208f+0x1*0x215f?(_0x2425d6|=0x9934+0xeadd+-0x10811,_0x2425d6|=(_0x4c4d8e===0x17a1+0x1fbb*-0x1+0x919?0x14a6+-0x23e3+-0xf3d*-0x1:0x1bbe+0xc56+-0x2813)&&_0x3fcb2c&-0x9a69f8+-0x75211d+0xc*0x214b97,_0x2425d6):_0x4c4d8e<-0xe94+0x1ae8+-0x1*0xbe3?(_0x285627|=-0x2639+0x28+-0x1*-0x2e11,_0x2425d6|=(_0x285627>>0x200f*0x1+0x1f*0x128+-0x4375-_0x4c4d8e)+(_0x285627>>0x36f*-0x1+0x1*0x1+0x1*0x3df-_0x4c4d8e&0x1973+0x1b90+0xa9a*-0x5),_0x2425d6):(_0x2425d6|=_0x4c4d8e-(-0x70a*0x4+-0x1*0x6b2+0x2*0x11a5)<<0x11*-0xc1+-0x8f*0xb+-0x260*-0x8|_0x285627>>0xaab*-0x2+-0x132b+0x2882*0x1,_0x2425d6+=_0x285627&-0x11ab*-0x1+0xa4*0x2+0x979*-0x2,_0x2425d6);},_0x3d4273=_0x2c2211=>{const _0x53e496=new Uint16Array(_0x2c2211['length']);for(let _0x1a6ae1=0x2656+-0x263d+0x1*-0x19;_0x1a6ae1<_0x2c2211['length']/(-0x5b2+0x2*0xf33+-0x18b0);++_0x1a6ae1)_0x53e496[_0x1a6ae1*(-0x863+-0x7*0x2db+0x17*0x13c)]=_0x4d5fe5(_0x2c2211[_0x1a6ae1*(0x33c+-0x16*-0x112+0x476*-0x6)]*_0xb7290c+(-0x9c*-0x19+0x23ad*0x1+0x32e9*-0x1+0.5)),_0x53e496[_0x1a6ae1*(0x2*0x812+-0xce*-0x28+0x10*-0x305)+(-0xd2b+0x7ae+0x57e)]=_0x4d5fe5(_0x2c2211[_0x1a6ae1*(-0x21c1+0x328+0x1*0x1e9d)+(0x37*-0xad+-0x169c*0x1+0x8*0x779)]*_0xb7290c+(0x4*-0x14f+0x9d*0x13+-0x35*0x1f+0.5)),_0x53e496[_0x1a6ae1*(0x1*0x12cb+-0x1*-0x907+-0x1bce)+(-0xf00+0x1f72+-0x2*0x838)]=_0x4d5fe5(_0x2c2211[_0x1a6ae1*(-0x26bd+-0x21fb*0x1+-0x1*-0x48bc)+(0x11f4+-0x1f+-0x11d3)]*_0xb7290c+(-0xe4d+0x13d7+-0x2c5*0x2+0.5)),_0x53e496[_0x1a6ae1*(0x37*-0x17+-0x4aa+0x99f)+(0x439*-0x3+0x4ff+0x7af)]=_0x4d5fe5(_0x2c2211[_0x1a6ae1*(-0xa0c+0x1bdf+-0x1*0x11cf)+(0x2cd*0xd+-0x2710+0x2aa)]);return _0x53e496;},_0x143589=new _0xf8cf83(0x2cb*-0x4+0x111*0xb+-0x8f,0x2114+0x1*-0xa07+-0x170d,-0x222+0x3d*0x88+0x9b*-0x32,-0x17c9+-0x22cd+0x2*0x1d4b),_0x408457=(_0x154af3,_0x44070b,_0x5123af,_0x401bc4)=>(_0x143589['set'](_0x44070b,_0x5123af,_0x401bc4,_0x154af3),_0x143589['normalize'](),_0x143589['w']<-0x765+0x1eb*0x5+0x232*-0x1&&_0x143589['mulScalar'](-(-0x17cc+0x1ecb+-0x6fe)),_0x143589);function _0x1fb33a(_0x1d6cd4,_0x4ade68,_0x2dfea6,_0x242626,_0x44b786){const _0x33b1a1=_0x44b786[Object['keys'](_0x44b786)[-0x4*-0x88f+-0x89*0x1b+-0x13c9]]['length'],_0x2e875d=-0x1237+0x2f9+0x103e;let _0x38d7de=[],_0x13dc1f=_0x4ade68;for(let _0xae2935=0x1569*-0x1+0x8*-0x1fe+0x2559*0x1;_0xae2935<_0x33b1a1;_0xae2935++){const _0x4aea80=Math['min'](_0x2e875d,_0x13dc1f);_0x38d7de['push'](_0x4aea80),_0x13dc1f-=_0x4aea80;}let _0x3f8c5a=0x1*-0x6c5+0x698+0x3*0xf,_0x19b73f={};for(let _0x47785a of _0x2dfea6){const _0x5692e7=_0x47785a['name'],{dataSize:_0x10fe57,datatype:_0x3d8058}=_0x18b0d0(_0x47785a,_0x4ade68);let _0x2a82e5=_0x1d6cd4['buffer']['slice'](_0x3f8c5a,_0x3f8c5a+_0x10fe57),_0x5940de=new _0x3d8058(_0x2a82e5);_0x19b73f[_0x5692e7]=_0x5940de,_0x3f8c5a+=_0x10fe57;}let _0x198501=[],_0x58f1a9=0xab7+-0x1bd8+0x1121;for(let _0x3b4228=0x25ea+0xf73*-0x1+-0x1677;_0x3b4228<_0x33b1a1;_0x3b4228++){const _0x2202a6=_0x53b398(_0x19b73f,_0x44b786,_0x3b4228,_0x38d7de,_0x58f1a9,_0x2dfea6),_0x4d9bf5=_0x2202a6['chunkDecom'+'pressed'];_0x198501['push'](_0x4d9bf5),_0x58f1a9=_0x2202a6['chunkStart'+'Idx'];}let _0xdc1857={};for(let _0x498bec of Object['keys'](_0x198501[0x1*0x16a9+0x13ed*0x1+-0x2a96])){let _0x556ae2=-0xf7a+0x10f+0xe6b*0x1;for(let _0x4498b0=0xbb9+-0x22aa+0x16f1;_0x4498b0<_0x198501['length'];_0x4498b0++)_0x556ae2+=_0x198501[_0x4498b0][_0x498bec]['length'];_0x498bec==='color_opac'+'ity'||_0x498bec==='scale'?_0xdc1857[_0x498bec]=new Uint16Array(_0x556ae2):_0xdc1857[_0x498bec]=new Float32Array(_0x556ae2);let _0x50e512=-0x1*0x2281+0x1*0x225+0x205c;for(let _0x4332d3=-0x2021+0x1*-0x9a4+-0x1*-0x29c5;_0x4332d3<_0x198501['length'];_0x4332d3++)_0xdc1857[_0x498bec]['set'](_0x198501[_0x4332d3][_0x498bec],_0x50e512),_0x50e512+=_0x198501[_0x4332d3][_0x498bec]['length'];}return _0x2dfea6['some'](_0x29fd34=>_0x29fd34['name']==='feature_re'+'st')&&(_0xdc1857['feature_re'+'st']=_0x49ed1c(_0x19b73f,_0x2dfea6)),_0xdc1857['time_index']=new Float32Array(_0x4ade68),_0xdc1857['time_index']['fill'](_0x242626-(0x1*-0x187f+0x1795+-0x5*-0x2f)),_0xdc1857;}const _0x53b398=(_0x168580,_0x28d78b,_0x7a8473,_0x5f5a5a,_0x284285,_0x2b8e23)=>{const _0x42f998=_0x5f5a5a[_0x7a8473],_0x3daa51=_0x284285+_0x42f998,_0x35549e=(_0x3a9f05,_0x412ecf,_0x29ebf7)=>_0x3a9f05*(0x405+-0x7*-0x24d+-0x1*0x141f-_0x29ebf7)+_0x412ecf*_0x29ebf7;let _0x519fb5={};for(let _0x5193e9 of _0x2b8e23){const _0xf53756=_0x5193e9['name'],_0x2510c3=_0x5193e9['encoding']['codec'],_0x1b858a=_0x168580[_0xf53756]['slice'](_0x284285,_0x3daa51);if(_0x2510c3==='pack_11_10'+'_11'){if(_0xf53756==='scale'){const _0x1e7034=_0x28d78b['min_scales'][_0x7a8473],_0x29a7b0=_0x28d78b['max_scales'][_0x7a8473],_0x37be21=_0x11cc94(_0x1b858a),_0x145ac8=_0x37be21['length'],_0x2e8bd0=new Uint16Array(_0x145ac8);for(let _0x44fc06=0x1c3e+-0x1*-0x1274+-0x2eb2;_0x44fc06<_0x145ac8;_0x44fc06++)_0x2e8bd0[_0x44fc06]=_0x4d5fe5(Math['exp'](_0x35549e(_0x1e7034[_0x44fc06%(0x253c+-0x24a1+-0x98)],_0x29a7b0[_0x44fc06%(0x1be7+0x90d*0x3+-0x3*0x1259)],_0x37be21[_0x44fc06])));_0x519fb5[_0xf53756]=_0x2e8bd0;}else{const _0x1a7417=_0x11cc94(_0x1b858a);let _0x57d7e7,_0x3ad3a0;if(_0xf53756==='position')_0x57d7e7=_0x28d78b['min_means'][_0x7a8473],_0x3ad3a0=_0x28d78b['max_means'][_0x7a8473];else{if(_0xf53756==='motion')_0x57d7e7=_0x28d78b['min_motion'][_0x7a8473],_0x3ad3a0=_0x28d78b['max_motion'][_0x7a8473];else{if(_0xf53756==='lifecycle'){const _0x222833=_0x28d78b['min_t_scal'+'e'][_0x7a8473],_0x353550=_0x28d78b['max_t_scal'+'e'][_0x7a8473],_0x20566f=_0x28d78b['min_time'][_0x7a8473],_0x4bd97d=_0x28d78b['max_time'][_0x7a8473],_0x455479=_0x28d78b['min_cutoff'][_0x7a8473],_0x4f256f=_0x28d78b['max_cutoff'][_0x7a8473];_0x57d7e7=[_0x222833[-0x198e+0x289+-0x1*-0x1705],_0x20566f[0xf70*0x1+-0x6d6+-0x89a],_0x455479[-0x1276+0x8e*-0xe+0x1a3a]],_0x3ad3a0=[_0x353550[-0x12+0x22c*0x5+-0xaca],_0x4bd97d[-0x293+0x2323+-0x2090],_0x4f256f[0xc9d+-0x291*0x3+-0x275*0x2]];}else throw new Error('Unknown\x20at'+'tribute\x20fo'+'r\x20pack_11_'+'10_11:\x20'+_0xf53756);}}for(let _0x12b742=0xca+-0x1*-0x1755+0x1db*-0xd;_0x12b742<_0x1a7417['length'];_0x12b742++)_0x1a7417[_0x12b742]=_0x35549e(_0x57d7e7[_0x12b742%(-0xfcd+0xa22*0x3+-0xe96)],_0x3ad3a0[_0x12b742%(-0x13*-0x1e7+-0x25ed*-0x1+-0x4a0f)],_0x1a7417[_0x12b742]);_0x519fb5[_0xf53756]=_0x1a7417;}}else{if(_0x2510c3==='pack_8888'){let _0x2ac05e=_0x1bfaae(_0x1b858a);const _0x90107e=_0x28d78b['min_colors'][_0x7a8473],_0x3456f3=_0x28d78b['max_colors'][_0x7a8473],_0x2709f1=new Uint16Array(_0x2ac05e['length']);for(let _0x21834f=0x12ac+0x1*0x1e2+-0x6*0x36d;_0x21834f<_0x2ac05e['length'];_0x21834f++){const _0x31535c=_0x21834f*(0x1*-0x25ff+-0x2621+0x4*0x1309);_0x2709f1[_0x31535c]=_0x4d5fe5(_0x35549e(_0x90107e[-0x1*0xc2d+0x2*0x121d+-0x180d],_0x3456f3[0x14b*0x3+-0x10a*-0x8+-0xc31],_0x2ac05e[_0x31535c])),_0x2709f1[_0x31535c+(-0x11c+0x195c+-0x183f)]=_0x4d5fe5(_0x35549e(_0x90107e[0x1961+-0xc04*0x2+-0x158],_0x3456f3[0x1491+-0x1463+-0x2d],_0x2ac05e[_0x31535c+(-0x30d*-0x9+0x1d17+-0x1*0x388b)])),_0x2709f1[_0x31535c+(-0xd5c+-0x2a8*0xa+0x27ee*0x1)]=_0x4d5fe5(_0x35549e(_0x90107e[0x18+-0x1e4b+-0x13*-0x197],_0x3456f3[-0x3fd*-0x1+-0x12e*-0x3+-0x785],_0x2ac05e[_0x31535c+(0x1*0x11c3+0x1c*-0x34+-0xc11*0x1)])),_0x2709f1[_0x31535c+(-0x1933*-0x1+-0xe8e+0xaa2*-0x1)]=_0x4d5fe5(_0x2ac05e[_0x31535c+(-0x2e8+0x10ad*-0x1+0x1398)]);}_0x519fb5[_0xf53756]=_0x2709f1;}else{if(_0x2510c3==='pack_rotat'+'ion_32'){const _0xe06c7a=_0x25d2dc(_0x1b858a);_0x519fb5[_0xf53756]=_0xe06c7a;}else{if(_0x2510c3==='range_quan'+'t_u8'){if(_0xf53756==='feature_re'+'st')continue;throw new Error('Unknown\x20co'+'dec:\x20'+_0x2510c3);}}}}}return{'chunkDecompressed':_0x519fb5,'chunkStartIdx':_0x3daa51};},_0x49ed1c=(_0x513530,_0x1c3ae5)=>{const _0x19973d='feature_re'+'st',_0x3a9425=_0x1c3ae5['find'](_0x5c2f33=>_0x5c2f33['name']===_0x19973d);let _0xbafc69;const _0x57de1b=_0x3a9425['encoding']['codec'],_0x3fefb9=_0x513530[_0x19973d];if(_0x57de1b==='range_quan'+'t_u8'){const [_0x415871,_0x530acd]=_0x3a9425['encoding']['range'];_0xbafc69=_0x55ff17(_0x3fefb9,_0x415871,_0x530acd);}else throw new Error('Unknown\x20co'+'dec:\x20'+_0x57de1b);return _0xbafc69;},_0x568c5e=(_0x5f5a76,_0x33743c,_0x17f516,_0x212399)=>{let _0x223b07=0x7*0x2d7+0x102e+-0x240f;const _0x246e3b={};for(const _0x2fdd19 of _0x17f516){const {dataSize:_0x2b9359}=_0x18b0d0(_0x2fdd19,_0x33743c);if(['vec3f','vec4f','vec2f']['includes'](_0x2fdd19['dataType']))_0x246e3b[_0x2fdd19['name']]=new Float32Array(_0x5f5a76['buffer']['slice'](_0x223b07,_0x223b07+_0x2b9359));else{if(_0x2fdd19['dataType']['startsWith']('array<floa'+'t'))_0x246e3b[_0x2fdd19['name']]=new Float32Array(_0x5f5a76['buffer']['slice'](_0x223b07,_0x223b07+_0x2b9359));else throw new Error('Unsupporte'+'d\x20data\x20typ'+'e:\x20'+_0x2fdd19['dataType']);}_0x223b07+=_0x2b9359;}const _0x47d47c=new Uint16Array(_0x246e3b['scale']['length']);for(let _0xb3c001=0x388+-0x150b*0x1+0x1183;_0xb3c001<_0x246e3b['scale']['length'];_0xb3c001++)_0x47d47c[_0xb3c001]=_0x4d5fe5(Math['exp'](_0x246e3b['scale'][_0xb3c001]));_0x246e3b['scale']=_0x47d47c;const _0x568bc9=_0x246e3b['rotation']['length']/(-0x1575*0x1+-0x1*-0x18dd+-0x364),_0x261242=new Float32Array(_0x568bc9*(-0xb4d+0xc9+0xa87));for(let _0x16521a=-0x1*-0x9c2+0x24*0xcf+0x5*-0x7c6;_0x16521a<_0x568bc9;_0x16521a++){const _0x57b52e=_0x408457(_0x246e3b['rotation'][_0x16521a*(0x1*0xe4a+0x1764+0x25aa*-0x1)],_0x246e3b['rotation'][_0x16521a*(-0x1*0x2245+0x1*-0x98a+0xd*0x35f)+(-0x986*0x1+0x1ce0+0x1*-0x1359)],_0x246e3b['rotation'][_0x16521a*(0x14f4+0x67f+-0x1b6f)+(-0x277*0xd+-0x1*0x13+0x2020)],_0x246e3b['rotation'][_0x16521a*(0x109d*0x1+0xd*-0xe3+-0x512)+(-0x1c5e+0x2*0xae7+-0x11*-0x63)]);_0x261242[_0x16521a*(0x2300+-0x1*0x789+0xe*-0x1f6)]=_0x57b52e['x'],_0x261242[_0x16521a*(0xd5e+-0x765*0x3+0x8d4)+(-0x113c+0x1967+-0x1*0x82a)]=_0x57b52e['y'],_0x261242[_0x16521a*(0x22*0x2+0x12*0x224+-0x26c9*0x1)+(0xbda+-0x217*0xd+-0x1*-0xf53)]=_0x57b52e['z'];}return _0x246e3b['rotation']=_0x261242,_0x246e3b['color_opac'+'ity']=_0x3d4273(_0x246e3b['color_opac'+'ity']),_0x246e3b['time_index']=new Float32Array(_0x33743c),_0x246e3b['time_index']['fill'](_0x212399-(-0x23dd*-0x1+-0x16b4+0x34a*-0x4)),_0x246e3b;},_0x2d6dc7=(_0x4c025e,_0x56b46b)=>{const _0xdfda10={};if(_0x4c025e['length']===-0x1*0x1c9c+-0x10ad*0x1+0x20f*0x16)return _0x4c025e[-0x704+-0x421*-0x1+0x1*0x2e3];for(const _0x82a22b of Object['keys'](_0x4c025e[-0x49*0x53+-0x1*0x24c2+0x1f3*0x1f]))if(_0x4c025e[-0x72+-0x819+-0x1b*-0x51][_0x82a22b]instanceof Float32Array||_0x4c025e[-0x1b34+-0x26ca+0x41fe][_0x82a22b]instanceof Uint16Array){const _0x549cd5=_0x4c025e['reduce']((_0x329049,_0xb3997f)=>_0x329049+_0xb3997f[_0x82a22b]['length'],-0x15b2+0x1*-0xd4f+0x2301);let _0x570f52;_0x4c025e[-0x601*0x3+0x60a*0x6+-0x1239][_0x82a22b]instanceof Uint16Array?_0x570f52=new Uint16Array(_0x549cd5):_0x570f52=new Float32Array(_0x549cd5);let _0x59ab78=0x1*0x87c+-0x1*0x90b+0x8f*0x1;for(const _0x2e31cf of _0x4c025e)_0x570f52['set'](_0x2e31cf[_0x82a22b],_0x59ab78),_0x59ab78+=_0x2e31cf[_0x82a22b]['length'];_0xdfda10[_0x82a22b]=_0x570f52;}else Array['isArray'](_0x4c025e[-0x12ff+-0x147+0x40e*0x5][_0x82a22b])?_0xdfda10[_0x82a22b]=_0x4c025e['flatMap'](_0x211a9f=>Array['from'](_0x211a9f[_0x82a22b])):_0xdfda10[_0x82a22b]=_0x4c025e['map'](_0x2007f1=>_0x2007f1[_0x82a22b])['flat']();return _0xdfda10;};}class hk extends me{constructor(_0x24034d){super(),h(this,'manifestUr'+'l'),h(this,'worker'),(this['manifestUr'+'l']=_0x24034d,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+ck['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['postMessag'+'e']({'type':'initWorker','cborXUrl':'https://fr'+'ontend.4dv'+'-intellige'+'nce.com/vi'+'ewer-stati'+'c/cbor-x@1'+'.6.0.min.j'+'s'});}['loadGsdMan'+'ifest'](_0x1cf10a){var _0x1f178d;return(_0x1f178d=this['worker'])==null||_0x1f178d['postMessag'+'e']({'type':'loadGsdMan'+'ifest','manifestUrl':this['manifestUr'+'l'],'loadRepresentation':_0x1cf10a}),new Promise((_0x28cc4f,_0x19e1d1)=>{if(!this['worker']){_0x19e1d1(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x854c77=>{if(!this['worker'])return;const {data:_0x4bbfca}=_0x854c77;if(this['manifestUr'+'l']===_0x4bbfca['url'])switch(_0x4bbfca['type']){case'onloadMani'+'fest':_0x28cc4f({'manifest':_0x4bbfca['data'],'url':_0x4bbfca['url'],'representation':_0x4bbfca['representa'+'tion']});break;case'error':_0x19e1d1(_0x4bbfca['data']);break;}};});}['loadGsdSeg'+'ments'](_0x31d609,_0x1a8422){var _0x5f3698;return(_0x5f3698=this['worker'])==null||_0x5f3698['postMessag'+'e']({'type':'loadGsdSeg'+'ments'}),new Promise((_0x3bec0a,_0x458a30)=>{if(!this['worker']){_0x458a30(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x28d93e=>{if(!this['worker'])return;const {data:_0x4b4788}=_0x28d93e;if(this['manifestUr'+'l']===_0x4b4788['url'])switch(_0x4b4788['type']){case'progress':_0x31d609==null||_0x31d609(_0x4b4788['bytes'],_0x4b4788['totalLengt'+'h'],_0x4b4788['url']);break;case'loadGsdSeg'+'mentsDone':_0x3bec0a(_0x4b4788['data']);break;case'error':_0x1a8422==null||_0x1a8422(_0x4b4788['data'],_0x4b4788['url']);break;}};});}['loadGsdSeg'+'mentsByTim'+'elineIndex'](_0x4feae3,_0x2755b4,_0x2ec80a){var _0x1bdfc3;return(_0x1bdfc3=this['worker'])==null||_0x1bdfc3['postMessag'+'e']({'type':'loadTimeli'+'neIndexSeg'+'ments','timelineIndexs':_0x4feae3}),new Promise((_0x24540e,_0x35eaa7)=>{if(!this['worker']){_0x35eaa7(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x5a9230=>{if(!this['worker'])return;const {data:_0x23842d}=_0x5a9230;if(this['manifestUr'+'l']===_0x23842d['url'])switch(_0x23842d['type']){case'progress':_0x2755b4==null||_0x2755b4(_0x23842d['bytes'],_0x23842d['totalLengt'+'h'],_0x23842d['url']);break;case'loadTimeli'+'neIndexSeg'+'mentsDone':_0x24540e(_0x23842d);break;case'error':_0x2ec80a==null||_0x2ec80a(_0x23842d['data'],_0x23842d['url']);break;}};});}['destroy'](){this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),this['worker']['terminate'](),this['worker']=void(0xcb1+-0x1c39+-0x8e*-0x1c));}}const Xh=class Xh{constructor(_0x2ebb4e,_0x142272,_0x1e0ddc){h(this,'lastLoadIn'+'dex',-0x2425*-0x1+-0x1f64+-0x4c1),h(this,'gsdAssetPa'+'rser'),(this['manifest']=_0x2ebb4e,this['representa'+'tion']=_0x142272,this['gsdAssetPa'+'rser']=_0x1e0ddc,this['segmentTim'+'elines']=this['getSegment'+'Timeline'](_0x2ebb4e,_0x142272));}['getSegment'+'Timeline'](_0x36f9ac,_0x25e84b){let _0x2fc92e=null;for(const _0x9fc79e of _0x36f9ac['adaptation'+'Sets'])if(_0x9fc79e['contentTyp'+'e']==='4dgs'){for(const _0x440a66 of _0x9fc79e['representa'+'tions'])if(_0x440a66['id']===_0x25e84b){_0x2fc92e=_0x440a66;break;}break;}if(!_0x2fc92e)throw new Error('Representa'+'tion\x20\x27'+_0x25e84b+('\x27\x20not\x20foun'+'d'));return _0x2fc92e['segmentTem'+'plate'][-0x256c+0x60f*0x1+-0x25*-0xd9]['segmentTim'+'eline'];}['onTimeChan'+'ged'](_0x5666f0){const _0x3fb72d=this['findSegmen'+'tTimeline'](_0x5666f0);if(!_0x3fb72d)return;const _0x2f78bd=_0x3fb72d['timelineIn'+'dex']<this['segmentTim'+'elines']['length']-(-0x16f6*0x1+-0x25*-0x13+0x1438)?_0x3fb72d['timelineIn'+'dex']+(0x1*-0x835+-0xd4f+0x1585):0x218*-0x12+0x1ff3+-0x5bd*-0x1;this['lastLoadIn'+'dex']!==_0x2f78bd&&(this['lastLoadIn'+'dex']=_0x2f78bd,this['loadNextSe'+'gment'](_0x2f78bd));}async['loadNextSe'+'gment'](_0xfece63){const _0x1f76af=[];for(let _0x30f9ac=-0x8ad+-0xb77*-0x1+0x3*-0xee;_0x30f9ac<Xh['CACHE_COUN'+'T'];_0x30f9ac++)_0x1f76af['push']((_0xfece63+_0x30f9ac)%this['segmentTim'+'elines']['length']);const _0x4af27f=_0x1f76af[_0x1f76af['length']-(0x56*-0x3+-0xb*-0x105+0x2*-0x51a)],_0x227cc9=this['segmentTim'+'elines'][_0x4af27f]['t']+this['segmentTim'+'elines'][_0x4af27f]['d'];this['gsdAssetPa'+'rser']['appendload'+'DataTask'](_0x1f76af,_0x227cc9);}['findSegmen'+'tTimeline'](_0x3eb6e9){let _0x5f2a50=-0x1*0xe3b+0x17e*-0x1+0x23f*0x7,_0x1b1d58=this['segmentTim'+'elines']['length']-(-0x1*0x24fe+0x1*0x409+-0x1*-0x20f6);for(;_0x5f2a50<=_0x1b1d58;){const _0xd21043=_0x5f2a50+_0x1b1d58>>-0x24f7+-0x1ce6+0x41de,{t:_0x235552,d:_0x55fc1c}=this['segmentTim'+'elines'][_0xd21043];if(_0x3eb6e9<_0x235552)_0x1b1d58=_0xd21043-(-0x15ec+-0x1f7*0xb+0x15c5*0x2);else{if(_0x3eb6e9>=_0x235552+_0x55fc1c)_0x5f2a50=_0xd21043+(0x1*-0x2034+0x460*-0x6+0x3a75);else return{'timeline':this['segmentTim'+'elines'][_0xd21043],'timelineIndex':_0xd21043};}}return null;}};h(Xh,'CACHE_COUN'+'T',-0x4e1+-0x2296+0x277d*0x1);let Wu=Xh;class dk{constructor(_0x303b84,_0x881872){h(this,'urlList'),h(this,'app'),h(this,'maxRetries'),h(this,'gsplatReso'+'urce'),h(this,'onlyOneAss'+'et'),h(this,'manifest'),h(this,'schedule'),h(this,'readWorker'),h(this,'loadDataTa'+'skQueue',[]),h(this,'isProcessi'+'ngLoadTask'+'Queue',!(-0xd2b+0x1303+-0x5d7)),(console['log']('____\x20GSDJS'+'\x20ENGINE\x20IV'+'AN','Register\x20G'+'sdParser.c'+'onstructor'),this['app']=_0x303b84,this['maxRetries']=_0x881872,this['urlList']=[],this['gsplatReso'+'urce']=null,this['totalRecei'+'ved']=0x4*-0x2ea+0x217+0x991,this['manifest']={});}async['load'](_0x12aefa,_0x3c0f79,_0x563bb6){console['log']('____\x20GSDJS'+'\x20ENGINE\x20IV'+'AN','GsdParser.'+'load',_0x12aefa['load']);const _0x49864d=_0x563bb6['data']['events'];this['events']=_0x49864d,this['asset']=_0x563bb6,this['callback']=_0x3c0f79,this['timeOption']=_0x563bb6['data']['timeOption'];let _0x1de00d=_0x563bb6['data']['representa'+'tion']||'high-raw';this['readWorker']=new hk(_0x12aefa['load']);const _0x56e1db=await this['readWorker']['loadGsdMan'+'ifest'](_0x1de00d);this['manifest']=_0x56e1db['manifest'],_0x1de00d=_0x56e1db['manifest']['representa'+'tion']||_0x1de00d,this['schedule']=new Wu(this['manifest'],_0x1de00d,this),this['totalRecei'+'vedCount']=-0x97*-0xf+0x1b6b*-0x1+-0x1292*-0x1;const _0x4b726a=this['getSegment'+'Timeline'](this['manifest'],_0x1de00d),_0x28bdf5=_0x4b726a[-0x8f1+-0x1*-0x1a4b+-0x115a]['t']+_0x4b726a[-0xb08+-0x1900+-0x902*-0x4]['d'];this['appendload'+'DataTask']([-0x8c2+0x3b*-0x6d+-0x15*-0x19d,0x1b19+-0xc8e+-0x745*0x2],_0x28bdf5),_0x49864d['on']('timeChange'+'d',_0x2efec2=>{var _0x5da62a;(_0x5da62a=this['schedule'])==null||_0x5da62a['onTimeChan'+'ged'](_0x2efec2);});}['getSegment'+'Timeline'](_0x3bd4f1,_0x79ba83){let _0x162a05=null;for(const _0x118b45 of _0x3bd4f1['adaptation'+'Sets'])if(_0x118b45['contentTyp'+'e']==='4dgs'){for(const _0x386274 of _0x118b45['representa'+'tions'])if(_0x386274['id']===_0x79ba83){_0x162a05=_0x386274;break;}break;}if(!_0x162a05)throw new Error('Representa'+'tion\x20\x27'+_0x79ba83+('\x27\x20not\x20foun'+'d'));return _0x162a05['segmentTem'+'plate'][0x64*0x4+-0x1608+0x1478]['segmentTim'+'eline'];}['appendload'+'DataTask'](_0x152620,_0x1fe514){this['loadDataTa'+'skQueue']['push']({'segmentIndexs':_0x152620,'loadedTime':_0x1fe514}),this['isProcessi'+'ngLoadTask'+'Queue']||Promise['resolve']()['then'](()=>this['processLoa'+'dQueue']());}async['processLoa'+'dQueue'](){if(!this['isProcessi'+'ngLoadTask'+'Queue']){this['isProcessi'+'ngLoadTask'+'Queue']=!(-0x1526*-0x1+-0x5*-0x6be+0x1b6e*-0x2);try{for(;this['loadDataTa'+'skQueue']['length']>-0xa64+-0x2ff+0xd63;){const _0x420548=this['loadDataTa'+'skQueue']['shift']();await this['loadGsplat'+'Data'](_0x420548);}}finally{this['isProcessi'+'ngLoadTask'+'Queue']=!(-0xd68+0x1904*0x1+0xb9b*-0x1);}}}async['loadGsplat'+'Data'](_0x261915){var _0x4e9b96,_0x50c54e;const {segmentIndexs:_0x33fccb,loadedTime:_0x14567f}=_0x261915,_0xc0992c=this['events'],_0xcfa266=this['asset'],_0x1582c3=this['callback'],_0x282ebe=this['timeOption'];globalThis['loadGsplat'+'DataStartT'+'ime']=performance['now'](),console['log']('____loadTi'+'me','gsd\x20======'+'=========='+'=========='+'=========='+'=========='+'========='),console['log']('____loadTi'+'me','gsd\x20start\x20'+'loadGsplat'+'Data',_0x33fccb,(performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])['toFixed'](0xd69*-0x2+0x14*-0x1e6+-0x179*-0x2c));try{const _0x50bd32=await this['readWorker']['loadGsdSeg'+'mentsByTim'+'elineIndex'](_0x33fccb,(_0x441493,_0x5ceada)=>{this['totalRecei'+'ved']+=_0x441493,_0xcfa266&&_0xc0992c['fire']('progress',this['totalRecei'+'ved'],_0x5ceada);},(_0x20f0cd,_0x2ce9ff)=>{debugger;console['warn']('ERROE\x20Load'+'\x20GSD',_0x2ce9ff,_0x20f0cd);});console['log']('____loadTi'+'me','gsd\x20end\x20lo'+'adGsplatDa'+'ta',(performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])['toFixed'](-0x12e*0xb+-0x2ae+0xfaa),_0x50bd32['data']['elements'][-0x185*-0x11+-0x29*-0x2b+-0x8*0x417]['count'],((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/_0x50bd32['data']['elements'][-0xf98+0x1*0xc87+0x9d*0x5]['count']*(-0x43*0xa7+0xf*0x4fc+0x801))['toFixed'](0x3a*-0x6b+-0x23*0xa7+0x2f15));const _0x30fb56=_0x50bd32['data'];if(_0x30fb56['elements'][-0x256b+0x62e+0x1f3d]['count']===-0x22ca+-0x1*0xc28+0x2ef2)return;this['totalRecei'+'vedCount']+=_0x30fb56['elements'][-0x1b1+-0x2*0xa7b+0x16a7]['count'];const _0x592766=new iC(_0x30fb56['elements'],_0x30fb56['comments']);_0xcfa266['fire']('load:data',_0x592766);const _0x42dbd5=_0xcfa266['data']['createTime']!==((_0x50c54e=(_0x4e9b96=this['onlyOneAss'+'et'])==null?void(-0x23b8+0x17bf*-0x1+-0x493*-0xd):_0x4e9b96['data'])==null?void(0x81+0x1*0x227f+-0x2300):_0x50c54e['createTime']);this['gsplatReso'+'urce']&&!_0x42dbd5?(console['log']('____\x20ENGIN'+'E\x20IVAN','appendGSpl'+'atDecodedR'+'esource'),this['gsplatReso'+'urce']['appendGSpl'+'atResource'](_0x592766,_0x282ebe,_0x14567f,_0xcfa266)):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'DecodedRes'+'ource'),this['gsplatReso'+'urce']=new CC(this['app']['graphicsDe'+'vice'],_0x592766),this['gsplatReso'+'urce']['setSceneIn'+'fo'](this['manifest']['sceneInfo']),await this['gsplatReso'+'urce']['updateData'](),await this['gsplatReso'+'urce']['updateText'+'ure'](),this['gsplatReso'+'urce']['timeOption']=_0x282ebe,this['onlyOneAss'+'et']=_0xcfa266,_0x1582c3&&_0x1582c3(null,this['gsplatReso'+'urce']),_0xc0992c['fire']('loadAllAss'+'etsDone'));}catch(_0x4b6224){console['error']('loadGsplat'+'Data','error',_0x4b6224),_0x1582c3&&_0x1582c3(_0x4b6224,null);}}['open'](_0x554f90,_0x4fae1c){return _0x4fae1c;}}class fk extends Qe{constructor(_0x3e18cc){console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20G'+'SplatHandl'+'er.constru'+'ctor\x20by\x20ap'+'plication\x20'+'addResourc'+'eHandles'),super(_0x3e18cc,'gsplat'),this['parsers']={'ply':new lk(_0x3e18cc,-0xc1*-0x11+-0x1899+-0xbcb*-0x1),'json':new dk(_0x3e18cc,0x197b+0xfca*-0x1+-0x9ae)};}['_getUrlWit'+'houtParams'](_0x3970f3){return _0x3970f3['indexOf']('?')>=0x1842+0x3e3+-0x83*0x37?_0x3970f3['split']('?')[-0xbb0+-0x1a2*-0x1+0xa0e]:_0x3970f3;}['_getParser'](_0x521943){const _0x5648c1=xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x521943))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x5648c1]||this['parsers']['ply'];}['load'](_0x546491,_0x4414b7,_0x5392a5){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.load'),typeof _0x546491=='string'&&(_0x546491={'load':_0x546491,'original':_0x546491}),this['_getParser'](_0x546491['original'])['load'](_0x546491,_0x4414b7,_0x5392a5);}['open'](_0x16f8cc,_0x1a0e14,_0xc515bd){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.open'),_0x1a0e14;}}class $u{static['setCompres'+'sedPRS'](_0x23b8e5,_0x5a14a6,_0x4932c7){const _0x461654=_0x4932c7['singleVecs'];let _0x3a0d26,_0x5c6d9d;const _0xf7845d=_0x5a14a6['___1'];_0xf7845d||(_0x3a0d26=_0x4932c7['tripleVecs'],_0x5c6d9d=_0x5a14a6['___2']);let _0x17a100=_0xf7845d?_0xf7845d[-0xc17+-0x196e+0x2585]:_0x3a0d26[_0x5c6d9d];_0x23b8e5['setLocalPo'+'sition'](_0x461654[_0x17a100],_0x461654[_0x17a100+(0x16e0+-0x263*-0x9+-0x2c5a)],_0x461654[_0x17a100+(-0x165+-0x23f6+-0x1*-0x255d)]),_0x17a100=_0xf7845d?_0xf7845d[-0x11*0x42+-0x4dc+0x93f]:_0x3a0d26[_0x5c6d9d+(0xf27*-0x1+-0x25c*-0xe+-0x11e0*0x1)],_0x23b8e5['setLocalEu'+'lerAngles'](_0x461654[_0x17a100],_0x461654[_0x17a100+(-0x1*0x189d+0x16f2+0x1ac)],_0x461654[_0x17a100+(-0x1fe9*0x1+-0x10f*0xe+0x2ebd)]),_0x17a100=_0xf7845d?_0xf7845d[-0xb*-0x47+-0x1797+0x148c]:_0x3a0d26[_0x5c6d9d+(-0x2303+-0xb*-0x5d+-0x1*-0x1f06)],_0x23b8e5['setLocalSc'+'ale'](_0x461654[_0x17a100],_0x461654[_0x17a100+(-0x10b2+-0x13a5+-0x122c*-0x2)],_0x461654[_0x17a100+(0x31f*-0x5+-0x2544+0x34e1*0x1)]);}static['oneCharToK'+'ey'](_0x524eea,_0x3b2604){const _0x157546=_0x524eea['charCodeAt'](0x1*-0x1be+-0x15e8*-0x1+0x142a*-0x1)-_0x3b2604['fieldFirst'+'Code'];return _0x3b2604['fieldArray'][_0x157546];}static['multCharTo'+'Key'](_0x447029,_0x362d02){let _0x394d44=0x4*0x420+0x1b*-0x8f+-0x79*0x3;for(let _0x121c2b=-0x1418+0x1e7b+-0xa63;_0x121c2b<_0x447029['length'];_0x121c2b++)_0x394d44=_0x394d44*_0x362d02['fieldCodeB'+'ase']+_0x447029['charCodeAt'](_0x121c2b)-_0x362d02['fieldFirst'+'Code'];return _0x362d02['fieldArray'][_0x394d44];}}class Uh{constructor(_0x5f24d3,_0x10ecfc){this['_node']=_0x5f24d3,this['_data']=_0x10ecfc;}['run'](){const _0x5e115a=Object['prototype']['toString']['call'](this['_node']);return _0x5e115a==='[object\x20Ob'+'ject]'?this['_handleMap']():_0x5e115a==='[object\x20Ar'+'ray]'?this['_handleArr'+'ay']():this['_result']=this['_node'],this['_result'];}['_handleMap'](){this['_result']={},Object['keys'](this['_node'])['forEach'](this['_handleKey'],this);}['_handleKey'](_0x2d53ce){let _0x22e00b=_0x2d53ce;const _0x2c6bc2=_0x2d53ce['length'];_0x2c6bc2===-0x2187+0x2292+-0x7*0x26?_0x22e00b=$u['oneCharToK'+'ey'](_0x2d53ce,this['_data']):_0x2c6bc2===0x20f5+-0x1782+-0x1*0x971&&(_0x22e00b=$u['multCharTo'+'Key'](_0x2d53ce,this['_data'])),this['_result'][_0x22e00b]=new Uh(this['_node'][_0x2d53ce],this['_data'])['run']();}['_handleArr'+'ay'](){this['_result']=[],this['_node']['forEach'](this['_handleArE'+'lt'],this);}['_handleArE'+'lt'](_0x20bd05){const _0x5622e6=new Uh(_0x20bd05,this['_data'])['run']();this['_result']['push'](_0x5622e6);}}class bm{constructor(_0xff3f41,_0x38b6cd){this['_app']=_0xff3f41,this['_isTemplat'+'e']=_0x38b6cd;}['parse'](_0xf8b541){const _0x3e7482={};let _0x199740=null;const _0x5322b7=_0xf8b541['compressed'+'Format'];_0x5322b7&&!_0xf8b541['entDecompr'+'essed']&&(_0xf8b541['entDecompr'+'essed']=!(-0x133d*-0x1+-0x8a9*0x2+-0x1eb),_0xf8b541['entities']=new Uh(_0xf8b541['entities'],_0x5322b7)['run']());for(const _0x284ade in _0xf8b541['entities']){const _0x16872a=_0xf8b541['entities'][_0x284ade],_0x3ffba9=this['_createEnt'+'ity'](_0x16872a,_0x5322b7);_0x3e7482[_0x284ade]=_0x3ffba9,_0x16872a['parent']===null&&(_0x199740=_0x3ffba9);}for(const _0x143159 in _0xf8b541['entities']){const _0xa80056=_0x3e7482[_0x143159],_0x4928a8=_0xf8b541['entities'][_0x143159]['children'],_0x3afc2d=_0x4928a8['length'];for(let _0x4ba742=0x1*-0x158e+0x35d+0x1231;_0x4ba742<_0x3afc2d;_0x4ba742++){const _0x29f58f=_0x3e7482[_0x4928a8[_0x4ba742]];_0x29f58f&&_0xa80056['addChild'](_0x29f58f);}}return this['_openCompo'+'nentData'](_0x199740,_0xf8b541['entities']),_0x199740;}['_createEnt'+'ity'](_0x26fc0f,_0x36066d){const _0x5662d8=new lt(_0x26fc0f['name'],this['_app']);if(_0x5662d8['setGuid'](_0x26fc0f['resource_i'+'d']),this['_setPosRot'+'Scale'](_0x5662d8,_0x26fc0f,_0x36066d),_0x5662d8['_enabled']=_0x26fc0f['enabled']??!(0x7a+-0x2*-0x65c+-0x233*0x6),this['_isTemplat'+'e']?_0x5662d8['_template']=!(-0xa46*-0x3+0x6b*-0x23+-0x1031):_0x5662d8['_enabledIn'+'Hierarchy']=_0x5662d8['_enabled'],_0x5662d8['template']=_0x26fc0f['template'],_0x26fc0f['tags']){for(let _0xb739a2=0x21e1+-0x512+-0x1ccf;_0xb739a2<_0x26fc0f['tags']['length'];_0xb739a2++)_0x5662d8['tags']['add'](_0x26fc0f['tags'][_0xb739a2]);}return _0x5662d8;}['_setPosRot'+'Scale'](_0x54854a,_0x8f0714,_0x243002){if(_0x243002)$u['setCompres'+'sedPRS'](_0x54854a,_0x8f0714,_0x243002);else{const _0x878cc1=_0x8f0714['position'],_0x21ce9b=_0x8f0714['rotation'],_0x4650b1=_0x8f0714['scale'];_0x54854a['setLocalPo'+'sition'](_0x878cc1[-0x362*0x3+0x70b+0x31b],_0x878cc1[-0x7f7*-0x1+0xcb2+-0x14a8],_0x878cc1[-0x1*0xf13+0x207a+-0x1165]),_0x54854a['setLocalEu'+'lerAngles'](_0x21ce9b[-0x1ace+0x17*-0x126+0x3538],_0x21ce9b[-0x367*-0xb+0x1377*0x1+-0x1*0x38e3],_0x21ce9b[-0x25e9+-0xa35+0x4d*0xa0]),_0x54854a['setLocalSc'+'ale'](_0x4650b1[-0x67a*0x5+0x2584+-0x522],_0x4650b1[0x25c5+-0x140c+-0x11b8],_0x4650b1[0x1*0x1951+-0x2219+0x7d*0x12]);}}['_openCompo'+'nentData'](_0x534f13,_0x537bb4){const _0x48be73=this['_app']['systems']['list'];let _0x180187=_0x48be73['length'];const _0x40b093=_0x537bb4[_0x534f13['getGuid']()];for(let _0x57847a=0x2345+-0x465+-0x34*0x98;_0x57847a<_0x180187;_0x57847a++){const _0x24ddc3=_0x48be73[_0x57847a],_0x24234e=_0x40b093['components'][_0x24ddc3['id']];_0x24234e&&_0x24ddc3['addCompone'+'nt'](_0x534f13,_0x24234e);}_0x180187=_0x40b093['children']['length'];const _0x4dbd5d=_0x534f13['_children'];for(let _0x3d90c1=0x1ad3+-0xbc3*0x2+-0x34d;_0x3d90c1<_0x180187;_0x3d90c1++)_0x4dbd5d[_0x3d90c1]?_0x4dbd5d[_0x3d90c1]=this['_openCompo'+'nentData'](_0x4dbd5d[_0x3d90c1],_0x537bb4):w['warn']('Scene\x20data'+'\x20is\x20invali'+'d\x20where\x20a\x20'+'child\x20unde'+'r\x20\x22'+_0x534f13['name']+('\x22\x20Entity\x20d'+'oesn\x27t\x20exi'+'st.\x20Please'+'\x20check\x20the'+'\x20scene\x20dat'+'a.'));return _0x534f13;}}class E0{static['load'](_0x37ab2b,_0xe69353,_0x22ee57){typeof _0x37ab2b=='string'&&(_0x37ab2b={'load':_0x37ab2b,'original':_0x37ab2b}),ot['get'](_0x37ab2b['load'],{'retry':_0xe69353>0x1*0x1aa3+-0x3b*0x17+-0x1556,'maxRetries':_0xe69353},(_0x5874c4,_0x4b8cc2)=>{if(!_0x5874c4)_0x22ee57(_0x5874c4,_0x4b8cc2);else{let _0x10457c='Error\x20whil'+'e\x20loading\x20'+'scene\x20JSON'+'\x20'+_0x37ab2b['original'];_0x5874c4['message']?(_0x10457c+=':\x20'+_0x5874c4['message'],_0x5874c4['stack']&&(_0x10457c+='\x0a'+_0x5874c4['stack'])):_0x10457c+=':\x20'+_0x5874c4,_0x22ee57(_0x10457c);}});}}class uk extends Qe{constructor(_0x517a5b){super(_0x517a5b,'hierarchy');}['load'](_0x5ef0c4,_0xb5bac9){E0['load'](_0x5ef0c4,this['maxRetries'],_0xb5bac9);}['open'](_0x24691c,_0x26d197){this['_app']['systems']['script']['preloading']=!(0x20f3+0x3*0x373+0xa3*-0x44);const _0x174081=new bm(this['_app'],!(-0xa62*0x3+-0x17f*0x17+-0x1064*-0x4))['parse'](_0x26d197);return this['_app']['systems']['script']['preloading']=!(-0x156c+-0x1abc+-0x3029*-0x1),_0x174081;}}class pk extends Qe{constructor(_0x29e90e){super(_0x29e90e,'html'),h(this,'decoder',null);}['load'](_0x4173ff,_0x21a659){typeof _0x4173ff=='string'&&(_0x4173ff={'load':_0x4173ff,'original':_0x4173ff}),ot['get'](_0x4173ff['load'],{'retry':this['maxRetries']>0x16d1+0x12*0x75+-0x1f0b,'maxRetries':this['maxRetries']},(_0x67cdca,_0x5797c2)=>{_0x67cdca?_0x21a659('Error\x20load'+'ing\x20html\x20r'+'esource:\x20'+_0x4173ff['original']+'\x20['+_0x67cdca+']'):_0x21a659(null,_0x5797c2);});}['openBinary'](_0x20fa70){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x20fa70);}}class mk extends Qe{constructor(_0x1094b7){super(_0x1094b7,'json'),h(this,'decoder',null);}['load'](_0x2aa8d1,_0x3ce0c1){typeof _0x2aa8d1=='string'&&(_0x2aa8d1={'load':_0x2aa8d1,'original':_0x2aa8d1});const _0x55ec6a={'retry':this['maxRetries']>0x9f0*-0x3+0x1*-0x1bd3+0x1*0x39a3,'maxRetries':this['maxRetries']};_0x2aa8d1['load']['startsWith']('blob:')&&(_0x55ec6a['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x2aa8d1['load'],_0x55ec6a,(_0x24abc3,_0x1dbc60)=>{_0x24abc3?_0x3ce0c1('Error\x20load'+'ing\x20JSON\x20r'+'esource:\x20'+_0x2aa8d1['original']+'\x20['+_0x24abc3+']'):_0x3ce0c1(null,_0x1dbc60);});}['openBinary'](_0x397b80){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),JSON['parse'](this['decoder']['decode'](_0x397b80));}}class _k{constructor(){this['removeInva'+'lid']=!(0x1b*0xee+-0x1f3f+-0x625*-0x1),this['valid']=!(-0x2*0x4ed+-0x345+0xd1f),this['enumValida'+'tors']={'occludeSpecular':this['_createEnu'+'mValidator']([lv,bd,cv]),'cull':this['_createEnu'+'mValidator']([bt,pa,Fo,Ax]),'blendType':this['_createEnu'+'mValidator']([Gp,Hp,Zs,Cs,Gn,Wp,Ed,$p,Xp,qp,jp]),'depthFunc':this['_createEnu'+'mValidator']([Cx,hh,dh,Wf,Px,Mx,Dx,Wi])};}['setInvalid'](_0x512710,_0x2322e2){this['valid']=!(-0xb5e+0x1283*-0x1+0x1de2),w['warn']('Ignoring\x20i'+'nvalid\x20Sta'+'ndardMater'+'ial\x20proper'+'ty:\x20'+_0x512710,_0x2322e2[_0x512710]),this['removeInva'+'lid']&&delete _0x2322e2[_0x512710];}['validate'](_0x6721f2){const _0x49dda7=$n,_0x38c696=gb,_0x1382d7=_0x6721f2['mappingFor'+'mat']==='path';for(const _0x516f50 in _0x6721f2){const _0x1ddf7f=_0x49dda7[_0x516f50];if(!_0x1ddf7f){_0x38c696[_0x516f50]?delete _0x6721f2[_0x516f50]:(w['warnOnce']('Ignoring\x20u'+'nsupported'+'\x20input\x20pro'+'perty\x20to\x20s'+'tandard\x20ma'+'terial:\x20'+_0x516f50),this['valid']=!(0x157a+0x264*-0xb+0x4d3));continue;}if(_0x1ddf7f['startsWith']('enum')){const _0xd187ea=_0x1ddf7f['split'](':')[-0x19be*0x1+-0x1297+0x8de*0x5];this['enumValida'+'tors'][_0xd187ea]&&(this['enumValida'+'tors'][_0xd187ea](_0x6721f2[_0x516f50])||this['setInvalid'](_0x516f50,_0x6721f2));}else{if(_0x1ddf7f==='number')typeof _0x6721f2[_0x516f50]!='number'&&this['setInvalid'](_0x516f50,_0x6721f2);else{if(_0x1ddf7f==='boolean')typeof _0x6721f2[_0x516f50]!='boolean'&&this['setInvalid'](_0x516f50,_0x6721f2);else{if(_0x1ddf7f==='string')typeof _0x6721f2[_0x516f50]!='string'&&this['setInvalid'](_0x516f50,_0x6721f2);else{if(_0x1ddf7f==='vec2')_0x6721f2[_0x516f50]instanceof Array&&_0x6721f2[_0x516f50]['length']===-0x97*-0xb+0xbd4+0x6d*-0x2b||this['setInvalid'](_0x516f50,_0x6721f2);else{if(_0x1ddf7f==='rgb')_0x6721f2[_0x516f50]instanceof Array&&_0x6721f2[_0x516f50]['length']===-0x674+-0x2431+0x2aa8||this['setInvalid'](_0x516f50,_0x6721f2);else{if(_0x1ddf7f==='texture')_0x1382d7?typeof _0x6721f2[_0x516f50]=='string'||_0x6721f2[_0x516f50]===null||_0x6721f2[_0x516f50]instanceof _e||this['setInvalid'](_0x516f50,_0x6721f2):typeof _0x6721f2[_0x516f50]=='number'||_0x6721f2[_0x516f50]===null||_0x6721f2[_0x516f50]instanceof _e||this['setInvalid'](_0x516f50,_0x6721f2);else{if(_0x1ddf7f==='boundingbo'+'x')_0x6721f2[_0x516f50]['center']&&_0x6721f2[_0x516f50]['center']instanceof Array&&_0x6721f2[_0x516f50]['center']['length']===-0x1cd+0x4db*-0x5+-0x1*-0x1a17||this['setInvalid'](_0x516f50,_0x6721f2),_0x6721f2[_0x516f50]['halfExtent'+'s']&&_0x6721f2[_0x516f50]['halfExtent'+'s']instanceof Array&&_0x6721f2[_0x516f50]['halfExtent'+'s']['length']===0x165c+0x254f+0x1dd4*-0x2||this['setInvalid'](_0x516f50,_0x6721f2);else{if(_0x1ddf7f==='cubemap')typeof _0x6721f2[_0x516f50]=='number'||_0x6721f2[_0x516f50]===null||_0x6721f2[_0x516f50]===void(0x6ca+-0x229*-0x5+0x3*-0x5dd)||_0x6721f2[_0x516f50]instanceof _e&&_0x6721f2[_0x516f50]['cubemap']||this['setInvalid'](_0x516f50,_0x6721f2);else{if(_0x1ddf7f==='chunks'){const _0x15c91c=Object['keys'](_0x6721f2[_0x516f50]);for(let _0x47e039=0x7*-0x2df+-0xd18+-0x2131*-0x1;_0x47e039<_0x15c91c['length'];_0x47e039++)typeof _0x6721f2[_0x516f50][_0x15c91c[_0x47e039]]!='string'&&this['setInvalid'](_0x15c91c[_0x47e039],_0x6721f2[_0x516f50]);}else console['error']('Unknown\x20ma'+'terial\x20typ'+'e:\x20'+_0x1ddf7f);}}}}}}}}}}return _0x6721f2['validated']=!(0x7e9+-0x77*0x7+-0x12a*0x4),this['valid'];}['_createEnu'+'mValidator'](_0x110908){return function(_0x29ca52){return _0x110908['indexOf'](_0x29ca52)>=0x1791+-0x5*-0x727+-0x1daa*0x2;};}}class gk{constructor(){this['_validator']=null;}['parse'](_0x2ebf3a){const _0x3f990c=this['migrate'](_0x2ebf3a),_0xecaeca=this['_validate'](_0x3f990c),_0x2cc000=new Ut();return this['initialize'](_0x2cc000,_0xecaeca),_0x2cc000;}['initialize'](_0x3eb55a,_0x54b2ab){if(_0x54b2ab['validated']||(_0x54b2ab=this['_validate'](_0x54b2ab)),_0x54b2ab['chunks']&&_0x54b2ab['chunks']&&Object['keys'](_0x54b2ab['chunks'])['length']>-0x9*0x42f+0x5*0x53f+-0x22*-0x56){const _0x1d555e=_0x3eb55a['shaderChun'+'ks']['glsl'];Object['entries'](_0x54b2ab['chunks'])['forEach'](([_0x56f009,_0x975242])=>_0x1d555e['set'](_0x56f009,_0x975242));}for(const _0x32d2ae in _0x54b2ab){const _0x3f05dc=$n[_0x32d2ae],_0x3723d8=_0x54b2ab[_0x32d2ae];if(_0x3f05dc==='vec2')_0x3eb55a[_0x32d2ae]=new J(_0x3723d8[-0x1*0x216e+-0x55*-0x61+-0x139*-0x1],_0x3723d8[0x5*0x647+0x110b*-0x2+-0xad*-0x4]);else{if(_0x3f05dc==='rgb')_0x3eb55a[_0x32d2ae]=new ie(_0x3723d8[0xfdd+0xe1*0x28+-0x3305],_0x3723d8[-0x1*-0x1a4d+0x703+0x1*-0x214f],_0x3723d8[0x1a8e+0xa65+-0x24f1]);else{if(_0x3f05dc==='texture')_0x3723d8 instanceof _e?_0x3eb55a[_0x32d2ae]=_0x3723d8:_0x3eb55a[_0x32d2ae]instanceof _e&&typeof _0x3723d8=='number'&&_0x3723d8>-0x1cf8+-0x835*-0x2+0xc8e||(_0x3eb55a[_0x32d2ae]=null);else{if(_0x3f05dc==='cubemap')_0x3723d8 instanceof _e?_0x3eb55a[_0x32d2ae]=_0x3723d8:_0x3eb55a[_0x32d2ae]instanceof _e&&typeof _0x3723d8=='number'&&_0x3723d8>0x228e*0x1+-0x39*-0x9b+-0x4511*0x1||(_0x3eb55a[_0x32d2ae]=null),_0x32d2ae==='cubeMap'&&!_0x3723d8&&(_0x3eb55a['prefiltere'+'dCubemaps']=null);else{if(_0x3f05dc==='boundingbo'+'x'){const _0x1ea49a=new D(_0x3723d8['center'][0x24d1+-0x3af*-0x8+-0x4249],_0x3723d8['center'][-0x1*-0x837+0x168+-0x99e],_0x3723d8['center'][-0x2*0x74b+0x6b7*0x3+-0x58d]),_0x29aa9f=new D(_0x3723d8['halfExtent'+'s'][0x128a*0x1+-0x1e1d+0xb93*0x1],_0x3723d8['halfExtent'+'s'][0x443*-0x1+0xef1+0x3*-0x38f],_0x3723d8['halfExtent'+'s'][0x327*-0x3+0x656*-0x1+0xfcd]);_0x3eb55a[_0x32d2ae]=new De(_0x1ea49a,_0x29aa9f);}else _0x3eb55a[_0x32d2ae]=_0x54b2ab[_0x32d2ae];}}}}}_0x3eb55a['update']();}['migrate'](_0xfdba1){_0xfdba1['shader']&&delete _0xfdba1['shader'],_0xfdba1['mapping_fo'+'rmat']&&(_0xfdba1['mappingFor'+'mat']=_0xfdba1['mapping_fo'+'rmat'],delete _0xfdba1['mapping_fo'+'rmat']);let _0x3e16c6;const _0x204b67=[['bumpMapFac'+'tor','bumpiness'],['aoUvSet','aoMapUv'],['aoMapVerte'+'xColor','aoVertexCo'+'lor'],['diffuseMap'+'VertexColo'+'r','diffuseVer'+'texColor'],['emissiveMa'+'pVertexCol'+'or','emissiveVe'+'rtexColor'],['specularMa'+'pVertexCol'+'or','specularVe'+'rtexColor'],['metalnessM'+'apVertexCo'+'lor','metalnessV'+'ertexColor'],['opacityMap'+'VertexColo'+'r','opacityVer'+'texColor'],['glossMapVe'+'rtexColor','glossVerte'+'xColor'],['lightMapVe'+'rtexColor','lightVerte'+'xColor'],['specularMa'+'pTint','specularTi'+'nt'],['metalnessM'+'apTint','metalnessT'+'int'],['clearCoatG'+'lossiness','clearCoatG'+'loss']];for(_0x3e16c6=-0x1*0x295+0x1f63+-0x1cce;_0x3e16c6<_0x204b67['length'];_0x3e16c6++){const _0x2f2465=_0x204b67[_0x3e16c6][0x27*-0xda+0x91d*-0x1+-0x877*-0x5],_0x2a7e91=_0x204b67[_0x3e16c6][0x7*0xec+-0x3f5*-0x4+-0x1647];_0xfdba1[_0x2f2465]!==void(-0xc2a+-0x2*0x35a+-0x96f*-0x2)&&(_0xfdba1[_0x2a7e91]===void(0x1d1a+0xb96+-0x28b0)&&(_0xfdba1[_0x2a7e91]=_0xfdba1[_0x2f2465]),delete _0xfdba1[_0x2f2465]);}const _0x271c41=['fresnelFac'+'tor','shadowSamp'+'leType'];for(_0x3e16c6=0x4a7*0x1+0x115a*0x1+0x2b*-0x83;_0x3e16c6<_0x271c41['length'];_0x3e16c6++){const _0x47ef6=_0x271c41[_0x3e16c6];_0xfdba1['hasOwnProp'+'erty'](_0x47ef6)&&delete _0xfdba1[_0x47ef6];}return _0xfdba1;}['_validate'](_0x27235){return _0x27235['validated']||(this['_validator']||(this['_validator']=new _k()),this['_validator']['validate'](_0x27235)),_0x27235;}}const Sk={'aoMap':'white','aoDetailMap':'white','diffuseMap':'gray','diffuseDetailMap':'gray','specularMap':'gray','specularityFactorMap':'white','metalnessMap':'black','glossMap':'gray','sheenMap':'black','sheenGlossMap':'gray','clearCoatMap':'black','clearCoatGlossMap':'gray','clearCoatNormalMap':'normal','refractionMap':'white','emissiveMap':'gray','normalMap':'normal','normalDetailMap':'normal','heightMap':'gray','opacityMap':'gray','sphereMap':'gray','lightMap':'white','thicknessMap':'black','iridescenceMap':'black','iridescenceThicknessMap':'black','envAtlas':'black','anisotropyMap':'black'};class yk extends Qe{constructor(_0x54fa38){super(_0x54fa38,'material'),this['_assets']=_0x54fa38['assets'],this['_device']=_0x54fa38['graphicsDe'+'vice'],this['_parser']=new gk();}['load'](_0x309bf5,_0x337dbc){typeof _0x309bf5=='string'&&(_0x309bf5={'load':_0x309bf5,'original':_0x309bf5}),ot['get'](_0x309bf5['load'],{'retry':this['maxRetries']>-0xda6+-0x1318+0x20be,'maxRetries':this['maxRetries']},(_0x57c670,_0x4dc6ba)=>{_0x57c670?_0x337dbc&&_0x337dbc('Error\x20load'+'ing\x20materi'+'al:\x20'+_0x309bf5['original']+'\x20['+_0x57c670+']'):_0x337dbc&&(_0x4dc6ba['_engine']=!(-0x572+0x2ba*0x1+0x2b8),_0x337dbc(null,_0x4dc6ba));});}['open'](_0x3097de,_0x2c03a3){const _0x1e76c8=this['_parser']['parse'](_0x2c03a3);return _0x2c03a3['_engine']&&(_0x1e76c8['_data']=_0x2c03a3,delete _0x2c03a3['_engine']),_0x1e76c8;}['patch'](_0xe11791,_0x3ba4a0){_0xe11791['resource']['_data']&&(_0xe11791['_data']=_0xe11791['resource']['_data'],delete _0xe11791['resource']['_data']),_0xe11791['data']['name']=_0xe11791['name'],_0xe11791['resource']['name']=_0xe11791['name'],this['_bindAndAs'+'signAssets'](_0xe11791,_0x3ba4a0),_0xe11791['off']('unload',this['_onAssetUn'+'load'],this),_0xe11791['on']('unload',this['_onAssetUn'+'load'],this);}['_onAssetUn'+'load'](_0x3bb393){delete _0x3bb393['data']['parameters'],delete _0x3bb393['data']['chunks'],delete _0x3bb393['data']['name'];}['_assignTex'+'ture'](_0x3c5ff8,_0x3ec04e,_0x1fa121){_0x3ec04e['resource'][_0x3c5ff8]=_0x1fa121;}['_getPlaceh'+'olderTextu'+'re'](_0x18e302){const _0x3389dd=Sk[_0x18e302];return w['assert'](_0x3389dd,'No\x20placeho'+'lder\x20textu'+'re\x20found\x20f'+'or\x20paramet'+'er:\x20'+_0x18e302),fa(this['_device'],_0x3389dd);}['_assignPla'+'ceholderTe'+'xture'](_0x1dde7c,_0x5e1878){_0x5e1878['resource'][_0x1dde7c]=this['_getPlaceh'+'olderTextu'+'re'](_0x1dde7c);}['_onTexture'+'Load'](_0x5790a4,_0x56165f,_0x13ad5e){this['_assignTex'+'ture'](_0x5790a4,_0x56165f,_0x13ad5e['resource']),_0x56165f['resource']['update']();}['_onTexture'+'Add'](_0x32262b,_0x151ace,_0x5c2b5a){this['_assets']['load'](_0x5c2b5a);}['_onTexture'+'RemoveOrUn'+'load'](_0x4331a8,_0x34759a,_0x5a093c){const _0x1124d1=_0x34759a['resource'];_0x1124d1&&_0x34759a['resource'][_0x4331a8]===_0x5a093c['resource']&&(this['_assignPla'+'ceholderTe'+'xture'](_0x4331a8,_0x34759a),_0x1124d1['update']());}['_assignCub'+'emap'](_0x23c50d,_0x2e77a6,_0x64debc){if(_0x2e77a6['resource'][_0x23c50d]=_0x64debc[0x1318+-0x1de4+-0xacc*-0x1],_0x23c50d==='cubeMap'){const _0x4567aa=_0x64debc['slice'](0xb2e+-0x2*-0x10a4+-0x257*0x13);_0x4567aa['every'](_0x2e31ce=>_0x2e31ce)?_0x2e77a6['resource']['prefiltere'+'dCubemaps']=_0x4567aa:_0x4567aa[0x519+0x8*0x23c+0x1*-0x16f9]&&(_0x2e77a6['resource']['envAtlas']=_0x4567aa[0x2644+-0x26e2+0x9e]);}}['_onCubemap'+'Load'](_0x19f060,_0xb17fc2,_0x2666ee){this['_assignCub'+'emap'](_0x19f060,_0xb17fc2,_0x2666ee['resources']),this['_parser']['initialize'](_0xb17fc2['resource'],_0xb17fc2['data']);}['_onCubemap'+'Add'](_0x43c6e0,_0x4ef2d9,_0x34b2e6){this['_assets']['load'](_0x34b2e6);}['_onCubemap'+'RemoveOrUn'+'load'](_0x1e810b,_0x46406d,_0x19357d){const _0x3a3f0e=_0x46406d['resource'];_0x46406d['data']['prefiltere'+'dCubeMap12'+'8']===_0x19357d['resources'][-0x1bd8+-0x1c*-0x8+0x1af9]&&(this['_assignCub'+'emap'](_0x1e810b,_0x46406d,[null,null,null,null,null,null,null]),_0x3a3f0e['update']());}['_bindAndAs'+'signAssets'](_0x35fe5e,_0x5b0001){const _0x6983a2=this['_parser']['migrate'](_0x35fe5e['data']),_0x12fb3b=_0x35fe5e['resource'],_0x3f1bb7=_0x6983a2['mappingFor'+'mat']==='path',_0x2a5ea2=Cd;let _0x5acdc6,_0x273638,_0x13e6ea;for(_0x5acdc6=0x1*0x2d2+0x1fd9+-0x5*0x6ef;_0x5acdc6<_0x2a5ea2['length'];_0x5acdc6++){_0x273638=_0x2a5ea2[_0x5acdc6],_0x13e6ea=_0x12fb3b['_assetRefe'+'rences'][_0x273638];const _0x429214=_0x6983a2[_0x273638],_0x38d922=_0x12fb3b[_0x273638],_0x380461=_0x38d922===this['_getPlaceh'+'olderTextu'+'re'](_0x273638),_0xd96565=_0x6983a2['validated'];_0x429214&&(!_0x38d922||!_0xd96565||_0x380461)?(_0x13e6ea||(_0x13e6ea=new gl(_0x273638,_0x35fe5e,_0x5b0001,{'load':this['_onTexture'+'Load'],'add':this['_onTexture'+'Add'],'remove':this['_onTexture'+'RemoveOrUn'+'load'],'unload':this['_onTexture'+'RemoveOrUn'+'load']},this),_0x12fb3b['_assetRefe'+'rences'][_0x273638]=_0x13e6ea),_0x3f1bb7?_0x13e6ea['url']=_0x35fe5e['getAbsolut'+'eUrl'](_0x429214):_0x13e6ea['id']=_0x429214,_0x13e6ea['asset']&&(_0x13e6ea['asset']['resource']?this['_assignTex'+'ture'](_0x273638,_0x35fe5e,_0x13e6ea['asset']['resource']):this['_assignPla'+'ceholderTe'+'xture'](_0x273638,_0x35fe5e),_0x5b0001['load'](_0x13e6ea['asset']))):_0x13e6ea&&(_0x3f1bb7?_0x13e6ea['url']=null:_0x13e6ea['id']=null);}const _0x5763d7=fm;for(_0x5acdc6=-0xb45*0x2+0xa*0x3ba+-0xeba;_0x5acdc6<_0x5763d7['length'];_0x5acdc6++)_0x273638=_0x5763d7[_0x5acdc6],_0x13e6ea=_0x12fb3b['_assetRefe'+'rences'][_0x273638],_0x6983a2[_0x273638]&&!_0x35fe5e['data']['prefiltere'+'dCubeMap12'+'8']&&(_0x13e6ea||(_0x13e6ea=new gl(_0x273638,_0x35fe5e,_0x5b0001,{'load':this['_onCubemap'+'Load'],'add':this['_onCubemap'+'Add'],'remove':this['_onCubemap'+'RemoveOrUn'+'load'],'unload':this['_onCubemap'+'RemoveOrUn'+'load']},this),_0x12fb3b['_assetRefe'+'rences'][_0x273638]=_0x13e6ea),_0x3f1bb7?_0x13e6ea['url']=_0x6983a2[_0x273638]:_0x13e6ea['id']=_0x6983a2[_0x273638],_0x13e6ea['asset']&&(_0x13e6ea['asset']['loaded']&&this['_assignCub'+'emap'](_0x273638,_0x35fe5e,_0x13e6ea['asset']['resources']),_0x5b0001['load'](_0x13e6ea['asset'])));this['_parser']['initialize'](_0x12fb3b,_0x6983a2);}}class vk{constructor(_0x546e73){this['_device']=_0x546e73['device'],this['_defaultMa'+'terial']=_0x546e73['defaultMat'+'erial'],this['_assets']=_0x546e73['assets'];}['parse'](_0x57f31a,_0x210fcc,_0x128f05){kh['parse']('filename.g'+'lb','',_0x57f31a,this['_device'],this['_assets'],(_0x128f05==null?void(0x1*0x2455+-0x235a+-0xfb):_0x128f05['options'])??{},(_0x403d35,_0x4cf9f9)=>{if(_0x403d35)_0x210fcc(_0x403d35);else{const _0x19e7e2=yr['createMode'+'l'](_0x4cf9f9,this['_defaultMa'+'terial']);_0x4cf9f9['destroy'](),_0x210fcc(null,_0x19e7e2);}});}}const xk={'points':cd,'lines':hd,'lineloop':_y,'linestrip':gy,'triangles':js,'trianglestrip':Er,'trianglefan':oa},Tk={'int8':dd,'uint8':la,'int16':fd,'uint16':Ml,'int32':Ty,'uint32':el,'float32':Ve};class wk{constructor(_0x4bf78b){this['_device']=_0x4bf78b['device'],this['_defaultMa'+'terial']=_0x4bf78b['defaultMat'+'erial'];}['parse'](_0x182391,_0x44f5aa){const _0x162c53=_0x182391['model'];if(!_0x162c53){_0x44f5aa(null,null);return;}if(_0x162c53['version']<=-0x2475+-0x1260+0x36d6){_0x44f5aa('JsonModelP'+'arser#pars'+'e:\x20Trying\x20'+'to\x20parse\x20u'+'nsupported'+'\x20model\x20for'+'mat.');return;}const _0x4c4663=this['_parseNode'+'s'](_0x182391),_0x56ee71=this['_parseSkin'+'s'](_0x182391,_0x4c4663),_0x5d9258=this['_parseVert'+'exBuffers'](_0x182391),_0x49a57a=this['_parseInde'+'xBuffers'](_0x182391,_0x5d9258),_0xfb044=this['_parseMorp'+'hs'](_0x182391,_0x4c4663,_0x5d9258),_0x290cff=this['_parseMesh'+'es'](_0x182391,_0x56ee71['skins'],_0xfb044['morphs'],_0x5d9258,_0x49a57a['buffer'],_0x49a57a['data']),_0x4938c4=this['_parseMesh'+'Instances'](_0x182391,_0x4c4663,_0x290cff,_0x56ee71['skins'],_0x56ee71['instances'],_0xfb044['morphs'],_0xfb044['instances']),_0x38043a=new sr();_0x38043a['graph']=_0x4c4663[0xa3*-0x1+-0x1*-0x1039+-0xf96],_0x38043a['meshInstan'+'ces']=_0x4938c4,_0x38043a['skinInstan'+'ces']=_0x56ee71['instances'],_0x38043a['morphInsta'+'nces']=_0xfb044['instances'],_0x38043a['getGraph']()['syncHierar'+'chy'](),_0x44f5aa(null,_0x38043a);}['_parseNode'+'s'](_0x233a79){const _0x2924f5=_0x233a79['model'],_0x5edf0c=[];let _0x30de84;for(_0x30de84=-0x1*0x484+0x49*0x35+-0xa99;_0x30de84<_0x2924f5['nodes']['length'];_0x30de84++){const _0x3541ff=_0x2924f5['nodes'][_0x30de84],_0x58ac5f=new Ie(_0x3541ff['name']);_0x58ac5f['setLocalPo'+'sition'](_0x3541ff['position'][-0x2*-0x37d+-0x2*0x9+0x88*-0xd],_0x3541ff['position'][-0x1075+-0x1243+-0x1*-0x22b9],_0x3541ff['position'][0x1*-0x1aa7+0x110a+0x99f]),_0x58ac5f['setLocalEu'+'lerAngles'](_0x3541ff['rotation'][-0x17*-0x112+-0x1046*-0x1+0xa39*-0x4],_0x3541ff['rotation'][0x1*-0xa1f+-0x237d+-0x1*-0x2d9d],_0x3541ff['rotation'][-0x951+0x4*-0x6a0+-0x23d3*-0x1]),_0x58ac5f['setLocalSc'+'ale'](_0x3541ff['scale'][0x16bd+0x19dc+0x21*-0x179],_0x3541ff['scale'][0x14*-0x151+0x1*0x685+0x13d0],_0x3541ff['scale'][-0x2539*0x1+0x344+0x21f7]),_0x58ac5f['scaleCompe'+'nsation']=!!_0x3541ff['scaleCompe'+'nsation'],_0x5edf0c['push'](_0x58ac5f);}for(_0x30de84=0x2315+0x77c+-0x2a90;_0x30de84<_0x2924f5['parents']['length'];_0x30de84++)_0x5edf0c[_0x2924f5['parents'][_0x30de84]]['addChild'](_0x5edf0c[_0x30de84]);return _0x5edf0c;}['_parseSkin'+'s'](_0x2e5de0,_0x2bb202){const _0xc2abaa=_0x2e5de0['model'],_0x5dbaab=[],_0x51518f=[];let _0x4e22c9,_0xb39975;for(_0x4e22c9=0x324+0x11a9+-0x14cd;_0x4e22c9<_0xc2abaa['skins']['length'];_0x4e22c9++){const _0x3eeb5b=_0xc2abaa['skins'][_0x4e22c9],_0x2fc351=[];for(_0xb39975=0x11*0x5d+0x5*-0x285+0x66c;_0xb39975<_0x3eeb5b['inverseBin'+'dMatrices']['length'];_0xb39975++){const _0x5a8a48=_0x3eeb5b['inverseBin'+'dMatrices'][_0xb39975];_0x2fc351[_0xb39975]=new te()['set'](_0x5a8a48);}const _0x3ca7a8=new Lv(this['_device'],_0x2fc351,_0x3eeb5b['boneNames']);_0x5dbaab['push'](_0x3ca7a8);const _0x47a41d=new Ol(_0x3ca7a8),_0x49c4bd=[];for(_0xb39975=0x8e1*0x1+0x14ce+0x1daf*-0x1;_0xb39975<_0x3ca7a8['boneNames']['length'];_0xb39975++){const _0x19d658=_0x3ca7a8['boneNames'][_0xb39975],_0x3e6e82=_0x2bb202[0x1b4+-0x280+-0xcc*-0x1]['findByName'](_0x19d658);_0x49c4bd['push'](_0x3e6e82);}_0x47a41d['bones']=_0x49c4bd,_0x51518f['push'](_0x47a41d);}return{'skins':_0x5dbaab,'instances':_0x51518f};}['_getMorphV'+'ertexCount'](_0x33a207,_0x46796d,_0x29d6b7){for(let _0x2d6f8d=0x12d9*0x1+0x13e0+-0x26b9;_0x2d6f8d<_0x33a207['meshes']['length'];_0x2d6f8d++){const _0x3cd493=_0x33a207['meshes'][_0x2d6f8d];if(_0x3cd493['morph']===_0x46796d)return _0x29d6b7[_0x3cd493['vertices']]['numVertice'+'s'];}}['_parseMorp'+'hs'](_0x11d84b,_0x53be2a,_0x5f205d){const _0x793342=_0x11d84b['model'],_0x3b506f=[],_0x1bf5ff=[];let _0x19c1f7,_0x3e65cc,_0x4dc0d6,_0x3e0399,_0xc7059a,_0x450ce5;if(_0x793342['morphs']){const _0x5c5304=function(_0x3e99e0,_0x6c824,_0x4bfffd){const _0x2451c1=new Float32Array(_0x4bfffd*(0x8a3*-0x1+0x1da1+-0x14fb));for(let _0x47ca4e=-0x1a3d*-0x1+0x22d1+-0x3d0e;_0x47ca4e<_0x6c824['length'];_0x47ca4e++){const _0x40bf63=_0x6c824[_0x47ca4e]*(0x1*-0x238f+-0xf58+0x32ea);_0x2451c1[_0x40bf63]=_0x3e99e0[_0x47ca4e*(-0x25e0+-0x26f5*-0x1+0x112*-0x1)],_0x2451c1[_0x40bf63+(-0x8d1+-0x4*0x962+0x2*0x172d)]=_0x3e99e0[_0x47ca4e*(0x14d9+-0xe5*0x5+-0x105d)+(0x1a89+0x12*-0x225+0x203*0x6)],_0x2451c1[_0x40bf63+(0x106*-0x5+0x2*0xd2a+0x76*-0x2e)]=_0x3e99e0[_0x47ca4e*(0x1*0x252d+0x6af+-0x2bd9)+(0x25dc+0x1d1*0x5+-0x2eef)];}return _0x2451c1;};for(_0x19c1f7=0x16cd+0x2389*0x1+-0x3a56;_0x19c1f7<_0x793342['morphs']['length'];_0x19c1f7++){for(_0x3e0399=_0x793342['morphs'][_0x19c1f7]['targets'],_0x450ce5=[],_0x4dc0d6=this['_getMorphV'+'ertexCount'](_0x793342,_0x19c1f7,_0x5f205d),_0x3e65cc=-0x24e*0xd+0x1795*0x1+0x1*0x661;_0x3e65cc<_0x3e0399['length'];_0x3e65cc++){const _0x3a667b=_0x3e0399[_0x3e65cc]['aabb'],_0x2ea195=_0x3a667b['min'],_0x310b81=_0x3a667b['max'],_0x5473cf=new De(new D((_0x310b81[0x262c+-0x1095+-0x1597]+_0x2ea195[-0x1*-0xa13+-0x470+-0xd*0x6f])*(-0x5ed*-0x5+0xfac+0x2d4d*-0x1+0.5),(_0x310b81[-0x9bc+0x9de*0x2+0x1*-0x9ff]+_0x2ea195[-0x1e98+0x4a9+0x530*0x5])*(-0x1fa9+-0x1823+-0x1*-0x37cc+0.5),(_0x310b81[0x6d2+-0x303*0x7+-0x119*-0xd]+_0x2ea195[-0x1bea+-0x22a3*-0x1+-0x6b7])*(-0xa*0x34c+0x1*-0x1e3b+-0x3*-0x1511+0.5)),new D((_0x310b81[0x2281+0x7*0x51e+-0x33*0x161]-_0x2ea195[-0x270e+-0x19dc*0x1+0x40ea])*(0x215d+-0x239c+-0x1*-0x23f+0.5),(_0x310b81[0x33c+-0x7*-0x341+-0x1a02]-_0x2ea195[0x1147+0x1*-0x8a8+-0x89e])*(-0x115+-0x68*0x3e+0x1a45+0.5),(_0x310b81[-0x1fc8+0x1530+-0x2*-0x54d]-_0x2ea195[-0x1202+-0x1*0x1e6b+-0x1*-0x306f])*(0x141e+0x1600+-0x2a1e+0.5))),_0x53877e=_0x3e0399[_0x3e65cc]['indices'];let _0x451a7a=_0x3e0399[_0x3e65cc]['deltaPosit'+'ions'],_0x130f04=_0x3e0399[_0x3e65cc]['deltaNorma'+'ls'];_0x53877e&&(_0x451a7a=_0x5c5304(_0x451a7a,_0x53877e,_0x4dc0d6),_0x130f04=_0x5c5304(_0x130f04,_0x53877e,_0x4dc0d6)),_0xc7059a=new Md({'deltaPositions':_0x451a7a,'deltaNormals':_0x130f04,'name':_0x3e0399[_0x3e65cc]['name'],'aabb':_0x5473cf}),_0x450ce5['push'](_0xc7059a);}const _0x2f6919=new mm(_0x450ce5,this['_device']);_0x3b506f['push'](_0x2f6919);const _0x551a7e=new xa(_0x2f6919);_0x1bf5ff['push'](_0x551a7e);}}return{'morphs':_0x3b506f,'instances':_0x1bf5ff};}['_parseVert'+'exBuffers'](_0x1264b2){const _0x3cd03c=_0x1264b2['model'],_0xfd6eb6=[],_0x103ae3={'position':Me,'normal':gs,'tangent':yi,'blendWeight':gi,'blendIndices':us,'color':Wt,'texCoord0':is,'texCoord1':ba,'texCoord2':wl,'texCoord3':El,'texCoord4':bl,'texCoord5':Al,'texCoord6':Cl,'texCoord7':Pl};for(let _0x23682d=-0x1*-0x11f1+-0x83b+0x4db*-0x2;_0x23682d<_0x3cd03c['vertices']['length'];_0x23682d++){const _0x57ba59=_0x3cd03c['vertices'][_0x23682d],_0x19c58d=[];for(const _0x30e6de in _0x57ba59){const _0x26ef48=_0x57ba59[_0x30e6de];_0x19c58d['push']({'semantic':_0x103ae3[_0x30e6de],'components':_0x26ef48['components'],'type':Tk[_0x26ef48['type']],'normalize':_0x103ae3[_0x30e6de]===Wt});}const _0x1f066f=new kt(this['_device'],_0x19c58d),_0x362b30=_0x57ba59['position']['data']['length']/_0x57ba59['position']['components'],_0x340286=new Is(this['_device'],_0x1f066f,_0x362b30),_0x4c0992=new Uo(_0x340286);for(let _0x36e2d8=0x45f*0x1+0x653+-0xab2;_0x36e2d8<_0x362b30;_0x36e2d8++){for(const _0x13b517 in _0x57ba59){const _0x2ae45f=_0x57ba59[_0x13b517];switch(_0x2ae45f['components']){case 0x25aa+-0x4cb+-0xe*0x259:_0x4c0992['element'][_0x103ae3[_0x13b517]]['set'](_0x2ae45f['data'][_0x36e2d8]);break;case 0x2*-0x3a1+0xf60+0x2*-0x40e:_0x4c0992['element'][_0x103ae3[_0x13b517]]['set'](_0x2ae45f['data'][_0x36e2d8*(-0x1e31+-0x1*0x1e17+0x3c4a*0x1)],0xc00+0x1*-0x213d+0x153e-_0x2ae45f['data'][_0x36e2d8*(0x1ee6+-0x1*-0x607+-0x24eb)+(0x660+-0x2332+0x1cd3)]);break;case 0xed3+-0xa1*-0x2b+0x85f*-0x5:_0x4c0992['element'][_0x103ae3[_0x13b517]]['set'](_0x2ae45f['data'][_0x36e2d8*(-0xac7+0x13b+0x98f)],_0x2ae45f['data'][_0x36e2d8*(0x1*-0x69e+-0x1cd5+0x2376)+(-0x26d5*0x1+-0xa72+0xa6*0x4c)],_0x2ae45f['data'][_0x36e2d8*(-0x4be+-0x2029*0x1+0x24ea)+(-0x14d4+0x15b6+-0x1c*0x8)]);break;case 0x1*-0x1532+0x1f19+-0x9e3:_0x4c0992['element'][_0x103ae3[_0x13b517]]['set'](_0x2ae45f['data'][_0x36e2d8*(-0x1217+-0x14ae+-0x26c9*-0x1)],_0x2ae45f['data'][_0x36e2d8*(-0x1a3d+-0x1b*-0x166+-0xb81)+(-0x1c1e+0xd0b+0xf14)],_0x2ae45f['data'][_0x36e2d8*(0x1b8b+0x26c2+-0x4249*0x1)+(-0x1081+-0x31d*-0xa+0xc5*-0x13)],_0x2ae45f['data'][_0x36e2d8*(0x1*-0x1ad5+-0x489+-0x67*-0x4e)+(-0xe92+0xb27+-0x36e*-0x1)]);break;}}_0x4c0992['next']();}_0x4c0992['end'](),_0xfd6eb6['push'](_0x340286);}return _0xfd6eb6;}['_parseInde'+'xBuffers'](_0xd489ab,_0x43da06){const _0x23c22a=_0xd489ab['model'];let _0x424c60=null,_0x47a93b=null,_0x33ca98,_0xe725f7=-0x4e2+0x38*0x5+-0x3ca*-0x1;for(_0x33ca98=-0x6*-0x22a+-0x4*-0x1c6+-0xa*0x202;_0x33ca98<_0x23c22a['meshes']['length'];_0x33ca98++){const _0x532b0e=_0x23c22a['meshes'][_0x33ca98];_0x532b0e['indices']!==void(0x24c0+-0x2180+-0x340)&&(_0xe725f7+=_0x532b0e['indices']['length']);}let _0x8cd861=0xad*-0x29+-0x541+-0x2*-0x107b;for(_0x33ca98=-0xd9f+-0x4*-0x502+-0x669;_0x33ca98<_0x43da06['length'];_0x33ca98++)_0x8cd861=Math['max'](_0x8cd861,_0x43da06[_0x33ca98]['numVertice'+'s']);return _0xe725f7>0x1ad6+0x214f+-0xad*0x59&&(_0x8cd861>-0x19f6*-0x8+0x1*0x1770d+0x12*-0x1227?(_0x424c60=new br(this['_device'],wr,_0xe725f7),_0x47a93b=new Uint32Array(_0x424c60['lock']())):(_0x424c60=new br(this['_device'],Yi,_0xe725f7),_0x47a93b=new Uint16Array(_0x424c60['lock']()))),{'buffer':_0x424c60,'data':_0x47a93b};}['_parseMesh'+'es'](_0x36dadf,_0x4a7bc0,_0x2d3684,_0xc3fc85,_0x208e5c,_0x2636a1){const _0x3408ba=_0x36dadf['model'],_0xcd99ce=[];let _0x4f6ee1=-0x179d+-0x15ab+0x2d48;for(let _0x1eda26=0x160e+0xd3*-0x2f+0x10af;_0x1eda26<_0x3408ba['meshes']['length'];_0x1eda26++){const _0x269c20=_0x3408ba['meshes'][_0x1eda26],_0xfefa46=_0x269c20['aabb'],_0x51f2fe=_0xfefa46['min'],_0x178890=_0xfefa46['max'],_0x207a1b=new De(new D((_0x178890[-0x3f*0x53+0x1fbb+-0xb4e]+_0x51f2fe[-0xca9+-0xc3d*0x1+0x1*0x18e6])*(0xc29+-0xf21+0x5f*0x8+0.5),(_0x178890[0x18d2+0x15a+-0x1a2b]+_0x51f2fe[-0x63*-0x5d+0x38b+-0x2781*0x1])*(0x1852+0x27*0x2b+-0x1*0x1edf+0.5),(_0x178890[0xba0+-0x1*0x24b5+-0x1917*-0x1]+_0x51f2fe[0x35f*0x1+-0x2381+-0x2*-0x1012])*(-0x186+-0x751+-0x1f*-0x49+0.5)),new D((_0x178890[0xf66+-0x38f+0x1*-0xbd7]-_0x51f2fe[-0x3*-0x779+-0x1a20+0x3b5])*(-0x1*0xd37+0x2*0x361+-0x39*-0x1d+0.5),(_0x178890[-0x243d+-0xd29*0x2+-0x3e90*-0x1]-_0x51f2fe[-0x2438+0x242a+-0x1*-0xf])*(0x1dd3+0xcfc+-0x2acf+0.5),(_0x178890[-0x277*0xc+0x1541*0x1+-0x2c7*-0x3]-_0x51f2fe[-0x1dbf+0xfc5+0xdfc*0x1])*(-0x1736+-0x2309*0x1+0x3a3f+0.5))),_0x38d6b8=_0x269c20['indices']!==void(-0x20a2+-0x121c+0x32be),_0x456458=new Ge(this['_device']);_0x456458['vertexBuff'+'er']=_0xc3fc85[_0x269c20['vertices']],_0x456458['indexBuffe'+'r'][-0x7c9+0x1f81+-0x17b8]=_0x38d6b8?_0x208e5c:null,_0x456458['primitive'][-0x1*-0x733+0x63d*0x3+-0x1f*0xd6]['type']=xk[_0x269c20['type']],_0x456458['primitive'][-0xbb1*-0x1+-0x18c+0x173*-0x7]['base']=_0x38d6b8?_0x269c20['base']+_0x4f6ee1:_0x269c20['base'],_0x456458['primitive'][0xd12*-0x2+0x2*0xf6b+-0x259*0x2]['count']=_0x269c20['count'],_0x456458['primitive'][0x1*-0x16f9+-0x1bf9+0x32f2]['indexed']=_0x38d6b8,_0x456458['skin']=_0x269c20['skin']!==void(-0x90*-0x36+0x2*-0x47+-0xb*0x2b6)?_0x4a7bc0[_0x269c20['skin']]:null,_0x456458['morph']=_0x269c20['morph']!==void(-0x1098+0x1e01+0x1*-0xd69)?_0x2d3684[_0x269c20['morph']]:null,_0x456458['aabb']=_0x207a1b,_0x38d6b8&&(_0x2636a1['set'](_0x269c20['indices'],_0x4f6ee1),_0x4f6ee1+=_0x269c20['indices']['length']),_0xcd99ce['push'](_0x456458);}return _0x208e5c!==null&&_0x208e5c['unlock'](),_0xcd99ce;}['_parseMesh'+'Instances'](_0x4f218e,_0xf76a3b,_0x10466a,_0x148fd5,_0x191ae4,_0x2551f9,_0x59cdca){const _0x95265b=_0x4f218e['model'],_0xbbb4b6=[];let _0x3373ea;for(_0x3373ea=0x189b+-0x13cf+-0x4cc;_0x3373ea<_0x95265b['meshInstan'+'ces']['length'];_0x3373ea++){const _0x24f2aa=_0x95265b['meshInstan'+'ces'][_0x3373ea],_0x4709fb=_0xf76a3b[_0x24f2aa['node']],_0x270182=_0x10466a[_0x24f2aa['mesh']],_0x47c39b=new He(_0x270182,this['_defaultMa'+'terial'],_0x4709fb);if(_0x270182['skin']){const _0x4effff=_0x148fd5['indexOf'](_0x270182['skin']);if(_0x4effff===-(-0x1b07+-0x1*-0x547+0x15c1*0x1))throw new Error('Mesh\x27s\x20ski'+'n\x20does\x20not'+'\x20appear\x20in'+'\x20skin\x20arra'+'y.');_0x47c39b['skinInstan'+'ce']=_0x191ae4[_0x4effff];}if(_0x270182['morph']){const _0x51ae89=_0x2551f9['indexOf'](_0x270182['morph']);if(_0x51ae89===-(0x2*-0x589+0xc9d*0x3+-0x1ac4))throw new Error('Mesh\x27s\x20mor'+'ph\x20does\x20no'+'t\x20appear\x20i'+'n\x20morph\x20ar'+'ray.');_0x47c39b['morphInsta'+'nce']=_0x59cdca[_0x51ae89];}_0xbbb4b6['push'](_0x47c39b);}return _0xbbb4b6;}}class Ek extends Qe{constructor(_0x24422c){super(_0x24422c,'model'),this['_parsers']=[],this['device']=_0x24422c['graphicsDe'+'vice'],this['assets']=_0x24422c['assets'],this['defaultMat'+'erial']=Qn(this['device']),this['addParser'](new wk(this),(_0x348f0f,_0x2bc783)=>xe['getExtensi'+'on'](_0x348f0f)==='.json'),this['addParser'](new vk(this),(_0x2ff6c3,_0x33f3a9)=>xe['getExtensi'+'on'](_0x2ff6c3)==='.glb');}['load'](_0x173e7c,_0x4a8f1f,_0x26bd50){typeof _0x173e7c=='string'&&(_0x173e7c={'load':_0x173e7c,'original':_0x173e7c});const _0x584449={'retry':this['maxRetries']>-0x996+-0x30f+0xca5,'maxRetries':this['maxRetries']};(_0x173e7c['load']['startsWith']('blob:')||_0x173e7c['load']['startsWith']('data:'))&&(xe['getExtensi'+'on'](_0x173e7c['original'])['toLowerCas'+'e']()==='.glb'?_0x584449['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x584449['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x173e7c['load'],_0x584449,(_0x547498,_0x257f94)=>{if(_0x4a8f1f){if(_0x547498)_0x4a8f1f('Error\x20load'+'ing\x20model:'+'\x20'+_0x173e7c['original']+'\x20['+_0x547498+']');else{for(let _0x36cdec=0x332*0x3+0xa5d*-0x3+0x1581;_0x36cdec<this['_parsers']['length'];_0x36cdec++){const _0x495786=this['_parsers'][_0x36cdec];if(_0x495786['decider'](_0x173e7c['original'],_0x257f94)){_0x495786['parser']['parse'](_0x257f94,(_0x450323,_0x20720d)=>{_0x450323?_0x4a8f1f(_0x450323):_0x4a8f1f(null,_0x20720d);},_0x26bd50);return;}}_0x4a8f1f('No\x20parsers'+'\x20found');}}});}['open'](_0x2d84d1,_0x2bd603){return _0x2bd603;}['patch'](_0x410e6d,_0x451123){if(!_0x410e6d['resource'])return;const _0x3e56c1=_0x410e6d['data'],_0x3e1a36=this;_0x410e6d['resource']['meshInstan'+'ces']['forEach']((_0x448a2c,_0x5893d1)=>{if(_0x3e56c1['mapping']){const _0x448981=function(_0x544beb){_0x544beb['resource']?_0x448a2c['material']=_0x544beb['resource']:(_0x544beb['once']('load',_0x448981),_0x451123['load'](_0x544beb)),_0x544beb['once']('remove',_0x223ece=>{_0x448a2c['material']===_0x223ece['resource']&&(_0x448a2c['material']=_0x3e1a36['defaultMat'+'erial']);});};if(!_0x3e56c1['mapping'][_0x5893d1]){_0x448a2c['material']=_0x3e1a36['defaultMat'+'erial'];return;}const _0xa5f136=_0x3e56c1['mapping'][_0x5893d1]['material'],_0x34711c=_0x3e56c1['mapping'][_0x5893d1]['path'];let _0x20dddc;if(_0xa5f136!==void(0x1444*0x1+-0x19*-0x6a+-0x1*0x1e9e))_0xa5f136?(_0x20dddc=_0x451123['get'](_0xa5f136),_0x20dddc?_0x448981(_0x20dddc):_0x451123['once']('add:'+_0xa5f136,_0x448981)):_0x448a2c['material']=_0x3e1a36['defaultMat'+'erial'];else{if(_0x34711c){const _0x3f0693=_0x410e6d['getAbsolut'+'eUrl'](_0x3e56c1['mapping'][_0x5893d1]['path']);_0x20dddc=_0x451123['getByUrl'](_0x3f0693),_0x20dddc?_0x448981(_0x20dddc):_0x451123['once']('add:url:'+_0x3f0693,_0x448981);}}}});}['addParser'](_0x579145,_0x32b040){this['_parsers']['push']({'parser':_0x579145,'decider':_0x32b040});}}class bk extends Qe{constructor(_0x52f643){super(_0x52f643,'scene');}['load'](_0xb87145,_0x31827a){E0['load'](_0xb87145,this['maxRetries'],_0x31827a);}['open'](_0x4dd565,_0x50ee1f){this['_app']['systems']['script']['preloading']=!(0x16b+0x3*-0x6ac+0x1299);const _0x482806=new bm(this['_app'],!(-0xcbe+-0xb5*0x7+0x11b2))['parse'](_0x50ee1f),_0x555850=this['_app']['scene'];return _0x555850['root']=_0x482806,this['_app']['applyScene'+'Settings'](_0x50ee1f['settings']),this['_app']['systems']['script']['preloading']=!(0x3*-0xa7f+0x3bf+0x1bbf),_0x555850;}}const qh=class qh{static['push'](_0x52f3c8){qh['_types']['push'](_0x52f3c8);}};h(qh,'_types',[]);let aa=qh;const Ak=new Set(['system','entity','create','destroy','swap','move','data','scripts','_scripts','_scriptsIn'+'dex','_scriptsDa'+'ta','enabled','_oldState','onEnable','onDisable','onPostStat'+'eChange','_onSetEnab'+'led','_checkStat'+'e','_onBeforeR'+'emove','_onInitial'+'izeAttribu'+'tes','_onInitial'+'ize','_onPostIni'+'tialize','_onUpdate','_onPostUpd'+'ate','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']),Ck={};Sl['reservedNa'+'mes']['forEach']((_0x54397a,_0x27c989,_0x361258)=>{Ck[_0x54397a]=0x698*0x2+-0xf80+0x251;});function Pk(_0x2fc0e3,_0x1d851d,_0x569925){if(typeof _0x2fc0e3!='function')throw new Error('script\x20cla'+'ss:\x20\x27'+_0x2fc0e3+('\x27\x20must\x20be\x20'+'a\x20construc'+'tor\x20functi'+'on\x20(i.e.\x20c'+'lass).'));if(!(_0x2fc0e3['prototype']instanceof ts))throw new Error('script\x20cla'+'ss:\x20\x27'+Wo['__getScrip'+'tName'](_0x2fc0e3)+('\x27\x20does\x20not'+'\x20extend\x20pc'+'.Script.'));if(_0x1d851d=_0x1d851d||_0x2fc0e3['__name']||Wo['__getScrip'+'tName'](_0x2fc0e3),Ak['has'](_0x1d851d))throw new Error('script\x20nam'+'e:\x20\x27'+_0x1d851d+('\x27\x20is\x20reser'+'ved,\x20pleas'+'e\x20change\x20s'+'cript\x20name'));_0x2fc0e3['__name']=_0x1d851d,Ks['getApplica'+'tion']()['scripts']['add'](_0x2fc0e3),aa['push'](_0x2fc0e3);}const Mk=_0x17fb29=>_0x17fb29[-0x7*0x427+-0xa8a+0x279b]['toLowerCas'+'e']()+_0x17fb29['substring'](0x2*-0x1000+-0x1b20+0x1*0x3b21);class Dk extends Qe{constructor(_0x5c091a){super(_0x5c091a,'script'),this['_scripts']={},this['_cache']={};}['clearCache'](){for(const _0x339a9e in this['_cache']){const _0x1cdaca=this['_cache'][_0x339a9e],_0x49e64b=_0x1cdaca['parentNode'];_0x49e64b&&_0x49e64b['removeChil'+'d'](_0x1cdaca);}this['_cache']={};}['load'](_0x3935dd,_0x4f8bac){typeof _0x3935dd=='string'&&(_0x3935dd={'load':_0x3935dd,'original':_0x3935dd});const _0x4294d6=this;this['_app'];const _0x1cf22d=(_0x3935dd['load'],(_0x3fe836,_0x4dae94,_0x34b92a)=>{if(_0x3fe836)_0x4f8bac(_0x3fe836);else{const _0x280762={};for(let _0x488f2c=-0x1*-0x17ec+0x2424+0x8*-0x782;_0x488f2c<aa['_types']['length'];_0x488f2c++)_0x280762[aa['_types'][_0x488f2c]['name']]=aa['_types'][_0x488f2c];aa['_types']['length']=-0x2167*0x1+0x33d*0x3+-0x4*-0x5ec,_0x4f8bac(null,_0x280762,_0x34b92a);const _0x456c05=_0x4dae94['split']('&hash=')[0x13ac+0x9ed+0x1d99*-0x1];delete _0x4294d6['_loader']['_cache'][Cn['makeKey'](_0x456c05,'script')];}}),[_0x52f849]=_0x3935dd['load']['split']('?');_0x52f849['endsWith']('.mjs')?this['_loadModul'+'e'](_0x52f849,_0x1cf22d):this['_loadScrip'+'t'](_0x3935dd['load'],_0x1cf22d);}['open'](_0x2917c9,_0x411459){return _0x411459;}['patch'](_0x526c29,_0x1f5374){}['_loadScrip'+'t'](_0x15d577,_0x24ed8f){const _0x2b3ce1=document['head'],_0x2b34d5=document['createElem'+'ent']('script');this['_cache'][_0x15d577]=_0x2b34d5,_0x2b34d5['async']=!(-0x2a*0x6e+0x1e0b+-0xbfe),_0x2b34d5['addEventLi'+'stener']('error',_0x1aad52=>{_0x24ed8f('Script:\x20'+_0x1aad52['target']['src']+('\x20failed\x20to'+'\x20load'));},!(-0x1543+0xb*-0x22b+-0x1*-0x2d1d));let _0x1c204a=!(0x1*0xb5f+0x90a+-0x1468);_0x2b34d5['onload']=_0x2b34d5['onreadysta'+'techange']=function(){!_0x1c204a&&(!this['readyState']||this['readyState']==='loaded'||this['readyState']==='complete')&&(_0x1c204a=!(0x9*-0x3aa+0x1*0x23ab+-0x2b1),_0x24ed8f(null,_0x15d577,_0x2b34d5));},_0x2b34d5['src']=_0x15d577,_0x2b3ce1['appendChil'+'d'](_0x2b34d5);}['_loadModul'+'e'](_0x477467,_0x21d484){const _0x42bdad=Ae['browser']&&window['location']['origin']!=='null'?window['location']['origin']+window['location']['pathname']:import.meta['url'],_0x69f517=new URL(_0x477467,_0x42bdad);import(_0x69f517['toString']())['then'](_0x3f0222=>{var _0x659d8d,_0x302b1f;const _0x51a4dc=_0x69f517['pathname']['split']('/')['pop'](),_0x2bf9a7=(_0x302b1f=(_0x659d8d=this['_app']['assets']['find'](_0x51a4dc,'script'))==null?void(0x8d*0x43+0x41*-0x87+-0x2a0):_0x659d8d['data'])==null?void(0x4b2*-0x4+0x17c5+-0x4fd):_0x302b1f['scripts'];for(const _0x5db7c6 in _0x3f0222){const _0x505d14=_0x3f0222[_0x5db7c6];if(_0x505d14['prototype']instanceof ts){const _0x5d00ce=Mk(_0x505d14['name']);_0x505d14['scriptName']||w['warnOnce']('The\x20Script'+'\x20class\x20\x22'+_0x505d14['name']+('\x22\x20must\x20hav'+'e\x20a\x20static'+'\x20\x22scriptNa'+'me\x22\x20proper'+'ty:\x20`')+_0x505d14['name']+('.scriptNam'+'e\x20=\x20\x22')+_0x5d00ce+('\x22;`.\x20This\x20'+'will\x20be\x20an'+'\x20error\x20in\x20'+'future\x20ver'+'sions\x20of\x20P'+'layCanvas.'));const _0x2b169d=_0x505d14['scriptName']??_0x5d00ce;Pk(_0x505d14,_0x2b169d),_0x2bf9a7&&this['_app']['scripts']['addSchema'](_0x2b169d,_0x2bf9a7[_0x2b169d]);}}_0x21d484(null,_0x477467,null);})['catch'](_0x545482=>{_0x21d484(_0x545482);});}}class Ik extends Qe{constructor(_0x436aac){super(_0x436aac,'shader'),h(this,'decoder',null);}['load'](_0x2d700a,_0x401b93){typeof _0x2d700a=='string'&&(_0x2d700a={'load':_0x2d700a,'original':_0x2d700a}),ot['get'](_0x2d700a['load'],{'retry':this['maxRetries']>-0xd7*0x14+-0x1a05+0x61*0x71,'maxRetries':this['maxRetries']},(_0x41b5f4,_0x2a3e31)=>{_0x41b5f4?_0x401b93('Error\x20load'+'ing\x20shader'+'\x20resource:'+'\x20'+_0x2d700a['original']+'\x20['+_0x41b5f4+']'):_0x401b93(null,_0x2a3e31);});}['openBinary'](_0x51fe68){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x51fe68);}}function Pf(_0x3b109c){const _0x36cb02=this;_0x36cb02['resource']&&(_0x36cb02['resource']['atlas']=_0x3b109c['resource']);}function Mf(_0x33cd41){this['registry']['load'](_0x33cd41);}class Lk extends Qe{constructor(_0x3ed889){super(_0x3ed889,'sprite'),this['_assets']=_0x3ed889['assets'],this['_device']=_0x3ed889['graphicsDe'+'vice'];}['load'](_0xe0793a,_0x41bc11){typeof _0xe0793a=='string'&&(_0xe0793a={'load':_0xe0793a,'original':_0xe0793a}),xe['getExtensi'+'on'](_0xe0793a['original'])==='.json'&&ot['get'](_0xe0793a['load'],{'retry':this['maxRetries']>-0x1*-0x1d78+0xd7+-0x1e4f,'maxRetries':this['maxRetries']},(_0x5c0427,_0x125257)=>{_0x5c0427?_0x41bc11(_0x5c0427):_0x41bc11(null,_0x125257);});}['open'](_0x598e8c,_0x37e935){const _0x1cc29e=new BA(this['_device']);return _0x598e8c&&(_0x1cc29e['__data']=_0x37e935),_0x1cc29e;}['patch'](_0x124089,_0x3b4b4d){const _0xcc2dfe=_0x124089['resource'];if(_0xcc2dfe['__data']&&(_0x124089['data']['pixelsPerU'+'nit']=_0xcc2dfe['__data']['pixelsPerU'+'nit'],_0x124089['data']['renderMode']=_0xcc2dfe['__data']['renderMode'],_0x124089['data']['frameKeys']=_0xcc2dfe['__data']['frameKeys'],_0xcc2dfe['__data']['textureAtl'+'asAsset'])){const _0x4530d0=_0x3b4b4d['getByUrl'](_0xcc2dfe['__data']['textureAtl'+'asAsset']);_0x4530d0?_0x124089['data']['textureAtl'+'asAsset']=_0x4530d0['id']:console['warn']('Could\x20not\x20'+'find\x20textu'+'reatlas\x20wi'+'th\x20url:\x20'+_0xcc2dfe['__data']['textureAtl'+'asAsset']);}_0xcc2dfe['startUpdat'+'e'](),_0xcc2dfe['renderMode']=_0x124089['data']['renderMode'],_0xcc2dfe['pixelsPerU'+'nit']=_0x124089['data']['pixelsPerU'+'nit'],_0xcc2dfe['frameKeys']=_0x124089['data']['frameKeys'],this['_updateAtl'+'as'](_0x124089),_0xcc2dfe['endUpdate'](),_0x124089['off']('change',this['_onAssetCh'+'ange'],this),_0x124089['on']('change',this['_onAssetCh'+'ange'],this);}['_updateAtl'+'as'](_0x4dd1d9){const _0x32d7f1=_0x4dd1d9['resource'];if(!_0x4dd1d9['data']['textureAtl'+'asAsset']){_0x32d7f1['atlas']=null;return;}this['_assets']['off']('load:'+_0x4dd1d9['data']['textureAtl'+'asAsset'],Pf,_0x4dd1d9),this['_assets']['on']('load:'+_0x4dd1d9['data']['textureAtl'+'asAsset'],Pf,_0x4dd1d9);const _0x1ced46=this['_assets']['get'](_0x4dd1d9['data']['textureAtl'+'asAsset']);_0x1ced46&&_0x1ced46['resource']?_0x32d7f1['atlas']=_0x1ced46['resource']:_0x1ced46?this['_assets']['load'](_0x1ced46):(this['_assets']['off']('add:'+_0x4dd1d9['data']['textureAtl'+'asAsset'],Mf,_0x4dd1d9),this['_assets']['on']('add:'+_0x4dd1d9['data']['textureAtl'+'asAsset'],Mf,_0x4dd1d9));}['_onAssetCh'+'ange'](_0x5894bf,_0x3a8e5b,_0x31a901,_0x47f838){_0x3a8e5b==='data'&&_0x31a901&&_0x31a901['textureAtl'+'asAsset']&&_0x47f838&&_0x31a901['textureAtl'+'asAsset']!==_0x47f838['textureAtl'+'asAsset']&&(this['_assets']['off']('load:'+_0x47f838['textureAtl'+'asAsset'],Pf,_0x5894bf),this['_assets']['off']('add:'+_0x47f838['textureAtl'+'asAsset'],Mf,_0x5894bf));}}class vS{constructor(_0x27ccce,_0x1f82d1){h(this,'_app'),h(this,'_data'),h(this,'_templateR'+'oot',null),(this['_app']=_0x27ccce,this['_data']=_0x1f82d1);}['instantiat'+'e'](){return this['_templateR'+'oot']||this['_parseTemp'+'late'](),this['_templateR'+'oot']['clone']();}['_parseTemp'+'late'](){const _0x18bdf1=new bm(this['_app'],!(-0x7f7*-0x1+0x206d*-0x1+0x1876));this['_templateR'+'oot']=_0x18bdf1['parse'](this['_data']);}}class Rk extends Qe{constructor(_0x2b0115){super(_0x2b0115,'template'),h(this,'decoder',null);}['load'](_0x208705,_0x3caf7a){typeof _0x208705=='string'&&(_0x208705={'load':_0x208705,'original':_0x208705});const _0x64a2f9={'retry':this['maxRetries']>0x3*-0x48b+-0x14*-0x18d+-0x1163,'maxRetries':this['maxRetries']};ot['get'](_0x208705['load'],_0x64a2f9,(_0x199200,_0x5b5c14)=>{_0x199200?_0x3caf7a('Error\x20requ'+'esting\x20tem'+'plate:\x20'+_0x208705['original']):_0x3caf7a(_0x199200,_0x5b5c14);});}['open'](_0x4f7e16,_0x4b72d0){return new vS(this['_app'],_0x4b72d0);}['openBinary'](_0x414721){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),new vS(this['_app'],JSON['parse'](this['decoder']['decode'](_0x414721)));}}class Ok extends Qe{constructor(_0x351b7d){super(_0x351b7d,'text'),h(this,'decoder',null);}['load'](_0x1ad14b,_0x262237){typeof _0x1ad14b=='string'&&(_0x1ad14b={'load':_0x1ad14b,'original':_0x1ad14b}),ot['get'](_0x1ad14b['load'],{'retry':this['maxRetries']>-0xc*0x1eb+-0x4*-0x4cd+0x3d0,'maxRetries':this['maxRetries']},(_0x3870aa,_0xeeab33)=>{_0x3870aa?_0x262237('Error\x20load'+'ing\x20text\x20r'+'esource:\x20'+_0x1ad14b['original']+'\x20['+_0x3870aa+']'):_0x262237(null,_0xeeab33);});}['openBinary'](_0x109530){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x109530);}}const Ic={'repeat':yt,'clamp':ue,'mirror':ip},Lc={'nearest':Te,'linear':vt,'nearest_mip_nearest':Kh,'linear_mip_nearest':Qh,'nearest_mip_linear':Zh,'linear_mip_linear':ma},Fk=/^data\.frames\.(\d+)$/;class Nk extends Qe{constructor(_0x107815){super(_0x107815,'textureatl'+'as'),this['_loader']=_0x107815['loader'];}['load'](_0x2e27aa,_0x1d1f87){typeof _0x2e27aa=='string'&&(_0x2e27aa={'load':_0x2e27aa,'original':_0x2e27aa});const _0x53a0e1=this,_0xa7ac28=this['_loader']['getHandler']('texture');xe['getExtensi'+'on'](_0x2e27aa['original'])==='.json'?ot['get'](_0x2e27aa['load'],{'retry':this['maxRetries']>0x7ec+0x589*0x4+-0x1a*0x128,'maxRetries':this['maxRetries']},(_0x968694,_0x3df2a7)=>{if(_0x968694)_0x1d1f87(_0x968694);else{const _0x2a2e38=_0x2e27aa['original']['replace']('.json','.png');_0x53a0e1['_loader']['load'](_0x2a2e38,'texture',(_0x3e0596,_0x50b691)=>{_0x3e0596?_0x1d1f87(_0x3e0596):_0x1d1f87(null,{'data':_0x3df2a7,'texture':_0x50b691});});}}):_0xa7ac28['load'](_0x2e27aa,_0x1d1f87);}['open'](_0x21c778,_0x4f7776,_0xfa6d94){const _0x148ce1=new zA();if(_0x4f7776['texture']&&_0x4f7776['data'])_0x148ce1['texture']=_0x4f7776['texture'],_0x148ce1['__data']=_0x4f7776['data'];else{const _0x3828dc=this['_loader']['getHandler']('texture')['open'](_0x21c778,_0x4f7776,_0xfa6d94);if(!_0x3828dc)return null;_0x148ce1['texture']=_0x3828dc;}return _0x148ce1;}['patch'](_0x440a82,_0x4a6a4d){if(!_0x440a82['resource'])return;_0x440a82['resource']['__data']&&(_0x440a82['resource']['__data']['minfilter']!==void(-0x1b65*0x1+0x28*-0x81+0x2f8d)&&(_0x440a82['data']['minfilter']=_0x440a82['resource']['__data']['minfilter']),_0x440a82['resource']['__data']['magfilter']!==void(0x930+-0x28*0x1f+-0x22c*0x2)&&(_0x440a82['data']['magfilter']=_0x440a82['resource']['__data']['magfilter']),_0x440a82['resource']['__data']['addressu']!==void(-0x3*-0x2a9+0x3*0x66b+-0x1c*0xf9)&&(_0x440a82['data']['addressu']=_0x440a82['resource']['__data']['addressu']),_0x440a82['resource']['__data']['addressv']!==void(-0x13e4+0x8e9+-0x3a9*-0x3)&&(_0x440a82['data']['addressv']=_0x440a82['resource']['__data']['addressv']),_0x440a82['resource']['__data']['mipmaps']!==void(-0x20e9+-0xbc6+0x2caf)&&(_0x440a82['data']['mipmaps']=_0x440a82['resource']['__data']['mipmaps']),_0x440a82['resource']['__data']['anisotropy']!==void(0x1887+-0x1f4d+0x6c6)&&(_0x440a82['data']['anisotropy']=_0x440a82['resource']['__data']['anisotropy']),_0x440a82['resource']['__data']['rgbm']!==void(-0x14bd+0x1f*0x83+0x9c*0x8)&&(_0x440a82['data']['rgbm']=!!_0x440a82['resource']['__data']['rgbm']),_0x440a82['data']['frames']=_0x440a82['resource']['__data']['frames'],delete _0x440a82['resource']['__data']);const _0x46db76=_0x440a82['resource']['texture'];if(_0x46db76&&(_0x46db76['name']=_0x440a82['name'],_0x440a82['data']['hasOwnProp'+'erty']('minfilter')&&_0x46db76['minFilter']!==Lc[_0x440a82['data']['minfilter']]&&(_0x46db76['minFilter']=Lc[_0x440a82['data']['minfilter']]),_0x440a82['data']['hasOwnProp'+'erty']('magfilter')&&_0x46db76['magFilter']!==Lc[_0x440a82['data']['magfilter']]&&(_0x46db76['magFilter']=Lc[_0x440a82['data']['magfilter']]),_0x440a82['data']['hasOwnProp'+'erty']('addressu')&&_0x46db76['addressU']!==Ic[_0x440a82['data']['addressu']]&&(_0x46db76['addressU']=Ic[_0x440a82['data']['addressu']]),_0x440a82['data']['hasOwnProp'+'erty']('addressv')&&_0x46db76['addressV']!==Ic[_0x440a82['data']['addressv']]&&(_0x46db76['addressV']=Ic[_0x440a82['data']['addressv']]),_0x440a82['data']['hasOwnProp'+'erty']('mipmaps')&&_0x46db76['mipmaps']!==_0x440a82['data']['mipmaps']&&(_0x46db76['mipmaps']=_0x440a82['data']['mipmaps']),_0x440a82['data']['hasOwnProp'+'erty']('anisotropy')&&_0x46db76['anisotropy']!==_0x440a82['data']['anisotropy']&&(_0x46db76['anisotropy']=_0x440a82['data']['anisotropy']),_0x440a82['data']['hasOwnProp'+'erty']('rgbm'))){const _0x1c49a9=_0x440a82['data']['rgbm']?Zi:Ds;_0x46db76['type']!==_0x1c49a9&&(_0x46db76['type']=_0x1c49a9);}_0x440a82['resource']['texture']=_0x46db76;const _0x2a95cd={};for(const _0x3e7a00 in _0x440a82['data']['frames']){const _0x4d1342=_0x440a82['data']['frames'][_0x3e7a00];_0x2a95cd[_0x3e7a00]={'rect':new re(_0x4d1342['rect']),'pivot':new J(_0x4d1342['pivot']),'border':new re(_0x4d1342['border'])};}_0x440a82['resource']['frames']=_0x2a95cd,_0x440a82['off']('change',this['_onAssetCh'+'ange'],this),_0x440a82['on']('change',this['_onAssetCh'+'ange'],this);}['_onAssetCh'+'ange'](_0x342d9c,_0x5881a1,_0x2c3b97){let _0x1dc31a;if(_0x5881a1==='data'||_0x5881a1==='data.frame'+'s'){const _0x27a25b={};for(const _0xcccbd2 in _0x2c3b97['frames'])_0x1dc31a=_0x2c3b97['frames'][_0xcccbd2],_0x27a25b[_0xcccbd2]={'rect':new re(_0x1dc31a['rect']),'pivot':new J(_0x1dc31a['pivot']),'border':new re(_0x1dc31a['border'])};_0x342d9c['resource']['frames']=_0x27a25b;}else{const _0x95b8cf=_0x5881a1['match'](Fk);if(_0x95b8cf){const _0x2b7f48=_0x95b8cf[-0x21d4*0x1+-0x11c+-0x1*-0x22f1];_0x2c3b97?(_0x342d9c['resource']['frames'][_0x2b7f48]?(_0x1dc31a=_0x342d9c['resource']['frames'][_0x2b7f48],_0x1dc31a['rect']['set'](_0x2c3b97['rect'][0x7e*-0x4f+0x1e31+0x1*0x8b1],_0x2c3b97['rect'][0x56b*-0x7+-0x463*-0x1+-0x1*-0x218b],_0x2c3b97['rect'][-0xa0*-0x2e+-0x2510+0x852],_0x2c3b97['rect'][-0x1bc7+-0x2667+0x4231]),_0x1dc31a['pivot']['set'](_0x2c3b97['pivot'][0x238e+0x1728+-0x3ab6],_0x2c3b97['pivot'][0x141b+-0xa9b*0x2+0x8e*0x2]),_0x1dc31a['border']['set'](_0x2c3b97['border'][-0x2*-0x80e+-0xc1*-0x22+-0x29be],_0x2c3b97['border'][0x4*-0x6ff+0x2*-0x110e+-0x1*-0x3e19],_0x2c3b97['border'][-0x44+0x1811+-0x17cb],_0x2c3b97['border'][0x1a0a+-0x1*-0x1d73+-0x377a])):_0x342d9c['resource']['frames'][_0x2b7f48]={'rect':new re(_0x2c3b97['rect']),'pivot':new J(_0x2c3b97['pivot']),'border':new re(_0x2c3b97['border'])},_0x342d9c['resource']['fire']('set:frame',_0x2b7f48,_0x342d9c['resource']['frames'][_0x2b7f48])):_0x342d9c['resource']['frames'][_0x2b7f48]&&(delete _0x342d9c['resource']['frames'][_0x2b7f48],_0x342d9c['resource']['fire']('remove:fra'+'me',_0x2b7f48));}}}}function kk(){const _0x22e12f={'cTFETC1':0x0,'cTFETC2':0x1,'cTFBC1':0x2,'cTFBC3':0x3,'cTFPVRTC1_4_RGB':0x8,'cTFPVRTC1_4_RGBA':0x9,'cTFASTC_4x4':0xa,'cTFATC_RGB':0xb,'cTFATC_RGBA_INTERPOLATED_ALPHA':0xc,'cTFRGBA32':0xd,'cTFRGB565':0xe,'cTFRGBA4444':0x10},_0x25fbee={'astc':_0x22e12f['cTFASTC_4x'+'4'],'dxt':_0x22e12f['cTFBC1'],'etc1':_0x22e12f['cTFETC1'],'etc2':_0x22e12f['cTFETC1'],'pvr':_0x22e12f['cTFPVRTC1_'+'4_RGB'],'atc':_0x22e12f['cTFATC_RGB'],'none':_0x22e12f['cTFRGB565']},_0xf73e9a={'astc':_0x22e12f['cTFASTC_4x'+'4'],'dxt':_0x22e12f['cTFBC3'],'etc1':_0x22e12f['cTFRGBA444'+'4'],'etc2':_0x22e12f['cTFETC2'],'pvr':_0x22e12f['cTFPVRTC1_'+'4_RGBA'],'atc':_0x22e12f['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA'],'none':_0x22e12f['cTFRGBA444'+'4']},_0x237b0a={'ETC1':0x15,'ETC2_RGB':0x16,'ETC2_RGBA':0x17,'DXT1':0x8,'DXT5':0xa,'PVRTC_4BPP_RGB_1':0x1a,'PVRTC_4BPP_RGBA_1':0x1b,'ASTC_4x4':0x1c,'ATC_RGB':0x1d,'ATC_RGBA':0x1e,'R8_G8_B8_A8':0x7,'R5_G6_B5':0x3,'R4_G4_B4_A4':0x5},_0x3e5f83=(_0x1851a9,_0x32d52b)=>{switch(_0x1851a9){case _0x22e12f['cTFETC1']:return _0x32d52b['formats']['etc2']?_0x237b0a['ETC2_RGB']:_0x237b0a['ETC1'];case _0x22e12f['cTFETC2']:return _0x237b0a['ETC2_RGBA'];case _0x22e12f['cTFBC1']:return _0x237b0a['DXT1'];case _0x22e12f['cTFBC3']:return _0x237b0a['DXT5'];case _0x22e12f['cTFPVRTC1_'+'4_RGB']:return _0x237b0a['PVRTC_4BPP'+'_RGB_1'];case _0x22e12f['cTFPVRTC1_'+'4_RGBA']:return _0x237b0a['PVRTC_4BPP'+'_RGBA_1'];case _0x22e12f['cTFASTC_4x'+'4']:return _0x237b0a['ASTC_4x4'];case _0x22e12f['cTFATC_RGB']:return _0x237b0a['ATC_RGB'];case _0x22e12f['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return _0x237b0a['ATC_RGBA'];case _0x22e12f['cTFRGBA32']:return _0x237b0a['R8_G8_B8_A'+'8'];case _0x22e12f['cTFRGB565']:return _0x237b0a['R5_G6_B5'];case _0x22e12f['cTFRGBA444'+'4']:return _0x237b0a['R4_G4_B4_A'+'4'];}},_0x2db8e5=_0x2654ec=>{const _0x51317d=function(_0x2c1568,_0xb4a08e){const _0x3ed84d=_0x2c1568*(0x22*-0x52+0x2685+0x283*-0xb+0.00784313725490196)-(0xd*-0xf7+0xdca*0x2+-0x34*0x4a),_0x39f36a=_0xb4a08e*((-0x10*-0xcb+-0x29*0x1b+-0x17*0x5d)/(-0x17a8*-0x1+-0x15d+0xbc*-0x1d))-(-0x63e*-0x5+-0x121*0xb+0xd*-0x172),_0x17db8d=Math['sqrt'](-0x1ece+-0x3f9*0x8+0x14dd*0x3-Math['min'](0x2532+0xcdc+-0x3*0x10af,_0x3ed84d*_0x3ed84d+_0x39f36a*_0x39f36a));return Math['max'](0x11*-0x189+0x1948+0xb*0x13,Math['min'](0x1467+-0xdb1*0x1+0xd1*-0x7,Math['floor']((_0x17db8d+(0x9eb*-0x1+0x225c+-0x1870))*(-0x2664+0x8b*-0x2a+0x3d32+0.5)*(-0x216e+0x5a5+0x1cc8))));};for(let _0x213048=0x176a+-0xc*0x6d+0x2*-0x927;_0x213048<_0x2654ec['length'];_0x213048+=0x535*0x2+-0xe2d+0x3c7){const _0x381be2=_0x2654ec[_0x213048+(-0x17ae+0xb*0xfe+0xcc7)],_0x5b5097=_0x2654ec[_0x213048+(0x2*-0x3a4+-0x1*0x260d+0x2d56)];_0x2654ec[_0x213048+(-0x23cb+-0x1bf7*0x1+0x3fc2)]=_0x381be2,_0x2654ec[_0x213048+(-0x1b93+0xb0*0x25+0x225*0x1)]=_0x51317d(_0x381be2,_0x5b5097),_0x2654ec[_0x213048+(0x1b23+-0x463*-0x4+0x2cac*-0x1)]=-0x22b0+-0x35b*0x1+0x26*0x107;}return _0x2654ec;},_0x3c5469=_0x5ecffd=>{const _0xb178b8=new Uint16Array(_0x5ecffd['length']/(-0xca*-0x14+0x24c9+0x348d*-0x1));for(let _0x23fe6f=0x1391+0x2565+0x17*-0x27a;_0x23fe6f<_0x5ecffd['length'];_0x23fe6f+=0x3c2+-0x2*-0x28f+-0x8dc){const _0x1fa6a4=_0x5ecffd[_0x23fe6f+(0x7*-0xc5+-0xca5+0x1208)],_0x497107=_0x5ecffd[_0x23fe6f+(0xb*0x15a+0x14*-0x19f+0x118f)],_0x1c871e=_0x5ecffd[_0x23fe6f+(-0x60*0x2+0x1578+-0x14b6)];_0xb178b8[_0x23fe6f/(-0x220b+-0x352+-0x1*-0x2561)]=(_0x1fa6a4&-0x142*-0x1+-0x2*0x199+0x7c*0x6)<<-0x20da+-0xd27+0x935*0x5|(_0x497107&-0x577*0x3+-0x4c1*0x1+0x1622)<<-0x1dfb*-0x1+-0x3e3+0x25f*-0xb|_0x1c871e>>-0x9*-0x174+0x48a+0x1*-0x119b;}return _0xb178b8;},_0x3fad43=(_0x503c0a,_0x19450a)=>(_0x503c0a&_0x503c0a-(-0xdb+0x148e+-0x13b2))===0xb*0x24d+-0x1677*-0x1+0x17e3*-0x2&&(_0x19450a&_0x19450a-(0x1c05+0x1e27+0x3a2b*-0x1))===0x6d4+0x282*-0x2+-0x1d0,_0x1b84e3=()=>typeof performance<'u'?performance['now']():0x28*-0x61+0xd*-0x146+0x1fb6;let _0x39035b,_0x2c3d2e,_0x291c53;const _0x404394=(_0x599a58,_0x13f6ef,_0x45204b)=>{if(_0x45204b){if(_0x599a58['formats']['astc'])return'astc';}else{if(_0x13f6ef){if(_0x599a58['formats']['etc2'])return'etc2';}else{if(_0x599a58['formats']['etc2'])return'etc2';if(_0x599a58['formats']['etc1'])return'etc1';}}return(_0x45f32f=>{for(let _0x4b8673=0x1*-0x1c4b+0x11f5*-0x1+0x2e40;_0x4b8673<_0x45f32f['length'];++_0x4b8673){const _0x1236a9=_0x45f32f[_0x4b8673];if(_0x599a58['formats'][_0x1236a9])return _0x1236a9;}return'none';})(_0x13f6ef?_0x291c53:_0x2c3d2e);},_0x7904dc=(_0x2ef605,_0x168fbf,_0x1c7d5f)=>{switch(_0x1c7d5f){case _0x22e12f['cTFETC1']:case _0x22e12f['cTFETC2']:return!(-0x9ef+0x62b*-0x4+0x229b);case _0x22e12f['cTFBC1']:case _0x22e12f['cTFBC3']:return(_0x2ef605&0x1f2*0x14+0x29d+-0x2982)===0x611+-0x179*0xf+0xe*0x125&&(_0x168fbf&-0x8cb+0xa7*0x23+-0xe07)===-0x26b*0x5+0x1*-0x85a+0x1471;case _0x22e12f['cTFPVRTC1_'+'4_RGB']:case _0x22e12f['cTFPVRTC1_'+'4_RGBA']:return _0x3fad43(_0x2ef605,_0x168fbf);case _0x22e12f['cTFASTC_4x'+'4']:return!(0x10*-0x166+-0x2191*0x1+0x37f1);case _0x22e12f['cTFATC_RGB']:case _0x22e12f['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return!(-0x4*-0x6f3+0xd0a*-0x2+-0x1b8);}return!(-0x1e2f*0x1+0x103*-0x14+0x39a*0xe);},_0x2acacd=(_0x1cce90,_0x509eb0,_0x2b8786)=>{if(!_0x39035b['KTX2File'])throw new Error('Basis\x20tran'+'scoder\x20mod'+'ule\x20does\x20n'+'ot\x20include'+'\x20support\x20f'+'or\x20KTX2.');const _0x4d9679=_0x1b84e3(),_0x24b43b=new _0x39035b['KTX2File'](new Uint8Array(_0x509eb0)),_0x24fffe=_0x24b43b['getWidth'](),_0x192647=_0x24b43b['getHeight'](),_0x2db343=_0x24b43b['getLevels'](),_0x1986ce=!!_0x24b43b['getHasAlph'+'a'](),_0x32a38b=_0x24b43b['isUASTC']&&_0x24b43b['isUASTC']();if(!_0x24fffe||!_0x192647||!_0x2db343)throw _0x24b43b['close'](),_0x24b43b['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x1cce90+'\x20width='+_0x24fffe+'\x20height='+_0x192647+'\x20levels='+_0x2db343);const _0x4ce77e=_0x404394(_0x2b8786['deviceDeta'+'ils'],_0x1986ce,_0x32a38b),_0x5eb3ef=!!_0x2b8786['isGGGR']&&_0x4ce77e==='pvr';let _0xf0a4b7;if(_0x5eb3ef?_0xf0a4b7=_0x22e12f['cTFRGBA32']:(_0xf0a4b7=_0x1986ce?_0xf73e9a[_0x4ce77e]:_0x25fbee[_0x4ce77e],_0x7904dc(_0x24fffe,_0x192647,_0xf0a4b7)||(_0xf0a4b7=_0x1986ce?_0x22e12f['cTFRGBA32']:_0x22e12f['cTFRGB565'])),!_0x24b43b['startTrans'+'coding']())throw _0x24b43b['close'](),_0x24b43b['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x1cce90);let _0x5187f3;const _0x3197ae=[];for(let _0x5a34c9=-0x12d6*0x2+0x1*0x18c5+0xce7;_0x5a34c9<_0x2db343;++_0x5a34c9){const _0x2f53a0=_0x24b43b['getImageTr'+'anscodedSi'+'zeInBytes'](_0x5a34c9,0x199+-0x1bca*-0x1+0x1*-0x1d63,-0x1266+0x3*-0x4b7+-0x1*-0x208b,_0xf0a4b7),_0x2bb7ec=new Uint8Array(_0x2f53a0);if(!_0x24b43b['transcodeI'+'mage'](_0x2bb7ec,_0x5a34c9,-0x1b6a+-0x847*-0x1+-0x1*-0x1323,-0x20c*0x2+0x1795+-0x137d*0x1,_0xf0a4b7,-0x1c0f+0x7b6+0x1459,-(-0x80f+0xf01+0x1*-0x6f1),-(0x17*-0x1a6+0x76f*0x3+0xf9e)))throw _0x24b43b['close'](),_0x24b43b['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x1cce90);const _0x533484=_0xf0a4b7===_0x22e12f['cTFRGB565']||_0xf0a4b7===_0x22e12f['cTFRGBA444'+'4'];_0x3197ae['push'](_0x533484?new Uint16Array(_0x2bb7ec['buffer']):_0x2bb7ec);}if(_0x24b43b['close'](),_0x24b43b['delete'](),_0x5eb3ef){for(_0xf0a4b7=_0x22e12f['cTFRGB565'],_0x5187f3=-0x18b2+0x2489*0x1+-0x7*0x1b1;_0x5187f3<_0x3197ae['length'];++_0x5187f3)_0x3197ae[_0x5187f3]=_0x3c5469(_0x2db8e5(_0x3197ae[_0x5187f3]));}return{'format':_0x3e5f83(_0xf0a4b7,_0x2b8786['deviceDeta'+'ils']),'width':_0x24fffe,'height':_0x192647,'levels':_0x3197ae,'cubemap':!(-0x63c+0x91*-0x20+0x185d),'transcodeTime':_0x1b84e3()-_0x4d9679,'url':_0x1cce90,'unswizzledGGGR':_0x5eb3ef};},_0x3730f7=(_0xea6200,_0x888748,_0x52eccb)=>{const _0x32089d=_0x1b84e3(),_0x6affb0=new _0x39035b['BasisFile'](new Uint8Array(_0x888748)),_0x320114=_0x6affb0['getImageWi'+'dth'](-0x1098+-0x146b+0x2503,0x1df1+-0x1ff+-0x1ff*0xe),_0x582869=_0x6affb0['getImageHe'+'ight'](-0x49*0x53+0x6c6*-0x4+0x32c3,-0xe46+0xb8f+-0x5*-0x8b),_0x2da6ea=_0x6affb0['getNumImag'+'es'](),_0x2c2f78=_0x6affb0['getNumLeve'+'ls'](0x1*0x116f+-0x241*-0x7+-0x4e*0x6d),_0x5aaa76=!!_0x6affb0['getHasAlph'+'a'](),_0xc48e1e=_0x6affb0['isUASTC']&&_0x6affb0['isUASTC']();if(!_0x320114||!_0x582869||!_0x2da6ea||!_0x2c2f78)throw _0x6affb0['close'](),_0x6affb0['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0xea6200+'\x20width='+_0x320114+'\x20height='+_0x582869+'\x20images='+_0x2da6ea+'\x20levels='+_0x2c2f78);const _0x1c2c70=_0x404394(_0x52eccb['deviceDeta'+'ils'],_0x5aaa76,_0xc48e1e),_0x5cb7bd=!!_0x52eccb['isGGGR']&&_0x1c2c70==='pvr';let _0x5b6873;if(_0x5cb7bd?_0x5b6873=_0x22e12f['cTFRGBA32']:(_0x5b6873=_0x5aaa76?_0xf73e9a[_0x1c2c70]:_0x25fbee[_0x1c2c70],_0x7904dc(_0x320114,_0x582869,_0x5b6873)||(_0x5b6873=_0x5aaa76?_0x22e12f['cTFRGBA32']:_0x22e12f['cTFRGB565'])),!_0x6affb0['startTrans'+'coding']())throw _0x6affb0['close'](),_0x6affb0['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0xea6200);let _0x45a3b4;const _0xd0d501=[];for(let _0xc72c3e=0x2*-0x1251+0x20d7+0x3cb*0x1;_0xc72c3e<_0x2c2f78;++_0xc72c3e){const _0x53ba28=_0x6affb0['getImageTr'+'anscodedSi'+'zeInBytes'](0x2070+-0x4*0x538+-0xb90,_0xc72c3e,_0x5b6873),_0xbebb6e=new Uint8Array(_0x53ba28);if(!_0x6affb0['transcodeI'+'mage'](_0xbebb6e,-0x18ca+0x176e+0x4*0x57,_0xc72c3e,_0x5b6873,-0x43*-0x65+-0xa72+0xffd*-0x1,0x11fe+-0x170a+0x50c)){if(_0xc72c3e===_0x2c2f78-(0x1a82+0x168a+-0x310b)&&_0x53ba28===_0xd0d501[_0xc72c3e-(-0x7b*-0x26+-0x14f5*-0x1+-0x2736)]['buffer']['byteLength'])_0xbebb6e['set'](new Uint8Array(_0xd0d501[_0xc72c3e-(-0x139e+0x932+0x1*0xa6d)]['buffer'])),console['warn']('Failed\x20to\x20'+'transcode\x20'+'last\x20mipma'+'p\x20level,\x20u'+'sing\x20previ'+'ous\x20level\x20'+'instead\x20ur'+'l='+_0xea6200);else throw _0x6affb0['close'](),_0x6affb0['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0xea6200);}const _0x23e0ae=_0x5b6873===_0x22e12f['cTFRGB565']||_0x5b6873===_0x22e12f['cTFRGBA444'+'4'];_0xd0d501['push'](_0x23e0ae?new Uint16Array(_0xbebb6e['buffer']):_0xbebb6e);}if(_0x6affb0['close'](),_0x6affb0['delete'](),_0x5cb7bd){for(_0x5b6873=_0x22e12f['cTFRGB565'],_0x45a3b4=0x1*0x12+-0x738+0x726*0x1;_0x45a3b4<_0xd0d501['length'];++_0x45a3b4)_0xd0d501[_0x45a3b4]=_0x3c5469(_0x2db8e5(_0xd0d501[_0x45a3b4]));}return{'format':_0x3e5f83(_0x5b6873,_0x52eccb['deviceDeta'+'ils']),'width':_0x320114,'height':_0x582869,'levels':_0xd0d501,'cubemap':!(0x21b0+-0x184c+-0x963),'transcodeTime':_0x1b84e3()-_0x32089d,'url':_0xea6200,'unswizzledGGGR':_0x5cb7bd};},_0x395730=(_0x42b7a2,_0x229117,_0x21536c)=>_0x21536c['isKTX2']?_0x2acacd(_0x42b7a2,_0x229117,_0x21536c):_0x3730f7(_0x42b7a2,_0x229117,_0x21536c),_0x3e1ca9=(_0x3ca949,_0x4eb0c3,_0x4a8cee)=>{try{const _0x367722=_0x395730(_0x3ca949,_0x4eb0c3,_0x4a8cee);_0x367722['levels']=_0x367722['levels']['map'](_0x26f1fa=>_0x26f1fa['buffer']),self['postMessag'+'e']({'url':_0x3ca949,'data':_0x367722},_0x367722['levels']);}catch(_0x2b5830){self['postMessag'+'e']({'url':_0x3ca949,'err':_0x2b5830},null);}},_0x3f33fa=(_0x2933b3,_0x48e873)=>{const _0x1381e8=(_0x14d8ff,_0x5a7e57)=>(WebAssembly['instantiat'+'e'](_0x2933b3['module'],_0x14d8ff)['then'](_0x3a0554=>{_0x5a7e57(_0x3a0554);})['catch'](_0x30cc4c=>{console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x30cc4c);}),{});self['BASIS'](_0x2933b3['module']?{'instantiateWasm':_0x1381e8}:null)['then'](_0x42f7c4=>{_0x42f7c4['initialize'+'Basis'](),_0x39035b=_0x42f7c4,_0x2c3d2e=_0x2933b3['rgbPriorit'+'y'],_0x291c53=_0x2933b3['rgbaPriori'+'ty'],_0x48e873(null);});},_0x5b93cc=[];self['onmessage']=_0x54a2ad=>{const _0x567f85=_0x54a2ad['data'];switch(_0x567f85['type']){case'init':_0x3f33fa(_0x567f85['config'],()=>{for(let _0x59d96a=-0x1*-0xd49+0x7fa*-0x4+0x129f*0x1;_0x59d96a<_0x5b93cc['length'];++_0x59d96a)_0x3e1ca9(_0x5b93cc[_0x59d96a]['url'],_0x5b93cc[_0x59d96a]['data'],_0x5b93cc[_0x59d96a]['options']);_0x5b93cc['length']=-0xf94+-0x409*-0x3+-0x7f*-0x7;});break;case'transcode':_0x39035b?_0x3e1ca9(_0x567f85['url'],_0x567f85['data'],_0x567f85['options']):_0x5b93cc['push'](_0x567f85);break;}};}const Uk=_0x2752bd=>({'astc':!!_0x2752bd['extCompres'+'sedTexture'+'ASTC'],'atc':!!_0x2752bd['extCompres'+'sedTexture'+'ATC'],'dxt':!!_0x2752bd['extCompres'+'sedTexture'+'S3TC'],'etc1':!!_0x2752bd['extCompres'+'sedTexture'+'ETC1'],'etc2':!!_0x2752bd['extCompres'+'sedTexture'+'ETC'],'pvr':!!_0x2752bd['extCompres'+'sedTexture'+'PVRTC']}),Bk=(_0x2c5ec1,_0xae7c87)=>{const _0x2baf18=_0x3beccf=>{const _0x148ff2=['/*\x20basis\x20*'+'/',_0x3beccf,'','('+kk['toString']()+')()\x0a\x0a']['join']('\x0a');return new Blob([_0x148ff2],{'type':'applicatio'+'n/javascri'+'pt'});},_0x361d0d=()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x2a971e=new WebAssembly['Module'](Uint8Array['of'](0x9ad+0x1c1e+-0x25cb,0x16*0xd0+0x26a6+-0x3825,0xe30+0x23*0x29+-0x1358,-0x24da+0xc8*-0xe+0x3037*0x1,0x2*-0x123b+-0x1*-0x216+-0xd*-0x2a5,0xa0e+-0x8cc*-0x1+0x1*-0x12da,0x5a+0x52d+-0x587,-0x1f12+0x1d22+0x1f0));if(_0x2a971e instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x2a971e)instanceof WebAssembly['Instance'];}}catch{}return!(-0x1479*0x1+0x9d*0x21+0x3d);},_0x145dad=(_0x42df29,_0x5e2105)=>{_0xae7c87(null,{'workerUrl':URL['createObje'+'ctURL'](_0x2baf18(_0x42df29)),'module':_0x5e2105,'rgbPriority':_0x2c5ec1['rgbPriorit'+'y'],'rgbaPriority':_0x2c5ec1['rgbaPriori'+'ty']});},_0x245bd5={'cache':!(0x1e8b+-0x17*-0x16f+0x6*-0xa96),'responseType':'text','retry':_0x2c5ec1['maxRetries']>0x11*-0xff+-0xb59+-0x5a8*-0x5,'maxRetries':_0x2c5ec1['maxRetries']};if(_0x2c5ec1['glueUrl']&&_0x2c5ec1['wasmUrl']&&_0x361d0d()){let _0x4cf0f1=null,_0x4c1258=null;ot['get'](_0x2c5ec1['glueUrl'],_0x245bd5,(_0x2ea3fa,_0x54dfa9)=>{_0x2ea3fa?_0xae7c87(_0x2ea3fa):_0x4c1258?_0x145dad(_0x54dfa9,_0x4c1258):_0x4cf0f1=_0x54dfa9;});const _0x5d941a=fetch(_0x2c5ec1['wasmUrl']),_0x38960e=()=>{_0x5d941a['then'](_0x4efac7=>_0x4efac7['arrayBuffe'+'r']())['then'](_0x464e3c=>WebAssembly['compile'](_0x464e3c))['then'](_0x9c232b=>{_0x4cf0f1?_0x145dad(_0x4cf0f1,_0x9c232b):_0x4c1258=_0x9c232b;})['catch'](_0x58d804=>{_0xae7c87(_0x58d804,null);});};WebAssembly['compileStr'+'eaming']?WebAssembly['compileStr'+'eaming'](_0x5d941a)['then'](_0x318e10=>{_0x4cf0f1?_0x145dad(_0x4cf0f1,_0x318e10):_0x4c1258=_0x318e10;})['catch'](_0x2764b2=>{w['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x2c5ec1['wasmUrl']+'\x20('+_0x2764b2+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x38960e();}):_0x38960e();}else ot['get'](_0x2c5ec1['fallbackUr'+'l'],_0x245bd5,(_0x77fa8,_0x347ce7)=>{_0x77fa8?_0xae7c87(_0x77fa8,null):_0x145dad(_0x347ce7,null);});};class zk{constructor(){this['callbacks']={},this['queue']=[],this['clients']=[];}['enqueueJob'](_0x53397b,_0x4a9bfa,_0x49dfd2,_0x39b95a){if(this['callbacks']['hasOwnProp'+'erty'](_0x53397b))this['callbacks'][_0x53397b]['push'](_0x49dfd2);else{this['callbacks'][_0x53397b]=[_0x49dfd2];const _0x41893d={'url':_0x53397b,'data':_0x4a9bfa,'options':_0x39b95a};this['clients']['length']>-0x21c7+0xfd3*-0x1+0x319a?this['clients']['shift']()['run'](_0x41893d):this['queue']['push'](_0x41893d);}}['enqueueCli'+'ent'](_0x325235){this['queue']['length']>-0x983*0x4+0xab6+0x1b56?_0x325235['run'](this['queue']['shift']()):this['clients']['push'](_0x325235);}['handleResp'+'onse'](_0x371b4f,_0x41b790,_0x4f670d){const _0x38a131=this['callbacks'][_0x371b4f];if(_0x41b790){for(let _0x3c2c73=-0x2*0xeff+0xa1*-0x2d+0x1*0x3a4b;_0x3c2c73<_0x38a131['length'];++_0x3c2c73)_0x38a131[_0x3c2c73](_0x41b790);}else{_0x4f670d['format']===Jh||_0x4f670d['format']===ed?_0x4f670d['levels']=_0x4f670d['levels']['map'](_0x5157d1=>new Uint16Array(_0x5157d1)):_0x4f670d['levels']=_0x4f670d['levels']['map'](_0x592484=>new Uint8Array(_0x592484));for(let _0x57df28=-0xe9a+0x52f+-0x96b*-0x1;_0x57df28<_0x38a131['length'];++_0x57df28)_0x38a131[_0x57df28](null,_0x4f670d);}delete this['callbacks'][_0x371b4f];}}class Vk{constructor(_0x27a94d,_0x5be2c2,_0x3313bc){this['queue']=_0x27a94d,this['worker']=new Worker(_0x5be2c2['workerUrl']),this['worker']['addEventLi'+'stener']('message',_0x52cd74=>{const _0x599340=_0x52cd74['data'];this['queue']['handleResp'+'onse'](_0x599340['url'],_0x599340['err'],_0x599340['data']),this['eager']||this['queue']['enqueueCli'+'ent'](this);}),this['worker']['postMessag'+'e']({'type':'init','config':_0x5be2c2}),this['eager']=_0x3313bc;}['run'](_0x2e9633){const _0x4dc470=[];_0x2e9633['data']instanceof ArrayBuffer&&_0x4dc470['push'](_0x2e9633['data']),this['worker']['postMessag'+'e']({'type':'transcode','url':_0x2e9633['url'],'format':_0x2e9633['format'],'data':_0x2e9633['data'],'options':_0x2e9633['options']},_0x4dc470),this['eager']&&this['queue']['enqueueCli'+'ent'](this);}}const Gk=-0x21cb*-0x1+0x829+-0x29f3,Hk=['etc2','etc1','astc','dxt','pvr','atc'],Wk=['astc','dxt','etc2','pvr','atc'],$k=-0x2251+-0x1cd7+0x3f2d,Xu=new zk();let xS=null,qu=!(-0x2e*-0xa4+0x10c*0x24+-0x4327);function Xk(_0xa02754){if(!qu){if(!_0xa02754)_0xa02754=xS||{};else{if(_0xa02754['lazyInit']){xS=_0xa02754;return;}}if(!_0xa02754['glueUrl']||!_0xa02754['wasmUrl']||!_0xa02754['fallbackUr'+'l']){const _0x5274d0=YS['getConfig']('BASIS');_0x5274d0&&(_0xa02754={'glueUrl':_0x5274d0['glueUrl'],'wasmUrl':_0x5274d0['wasmUrl'],'fallbackUrl':_0x5274d0['fallbackUr'+'l'],'numWorkers':_0x5274d0['numWorkers']});}if(_0xa02754['glueUrl']||_0xa02754['wasmUrl']||_0xa02754['fallbackUr'+'l']){qu=!(-0x1d01+-0x5*0x4b5+-0x541*-0xa);const _0x33fef0=Math['max'](0x149a+-0x965+-0xb34,Math['min'](-0x1f8e+0x18ce+0x4*0x1b4,_0xa02754['numWorkers']||Gk)),_0x2cc081=_0xa02754['numWorkers']===-0x1d3f+0xc3b+-0x1*-0x1105||(_0xa02754['hasOwnProp'+'erty']('eagerWorke'+'rs')?_0xa02754['eagerWorke'+'rs']:!(0x24a3+-0x1*0x67f+-0x1e24));_0xa02754['rgbPriorit'+'y']=_0xa02754['rgbPriorit'+'y']||Hk,_0xa02754['rgbaPriori'+'ty']=_0xa02754['rgbaPriori'+'ty']||Wk,_0xa02754['maxRetries']=_0xa02754['hasOwnProp'+'erty']('maxRetries')?_0xa02754['maxRetries']:$k,Bk(_0xa02754,(_0x3f7291,_0x303594)=>{if(_0x3f7291)console['error']('failed\x20to\x20'+'initialize'+'\x20basis\x20wor'+'ker:\x20'+_0x3f7291);else{for(let _0x23ecb0=0x1337+0x11*-0x1a3+0x89c;_0x23ecb0<_0x33fef0;++_0x23ecb0)Xu['enqueueCli'+'ent'](new Vk(Xu,_0x303594,_0x2cc081));}});}}}let Df=null;function b0(_0x26c5c8,_0xe5f0e0,_0x8c7e04,_0xb25683,_0x26a6f2){return Xk(),Df||(Df={'formats':Uk(_0x26c5c8)}),Xu['enqueueJob'](_0xe5f0e0,_0x8c7e04,_0xb25683,{'deviceDetails':Df,'isGGGR':!!(_0x26a6f2!=null&&_0x26a6f2['isGGGR']),'isKTX2':!!(_0x26a6f2!=null&&_0x26a6f2['isKTX2'])}),qu;}class eo{['load'](_0x1906b6,_0x3d323d,_0x449d17){throw new Error('not\x20implem'+'ented');}['open'](_0x2e536f,_0x28c4ef,_0x5e3744){throw new Error('not\x20implem'+'ented');}}class qk extends eo{constructor(_0x1312e6,_0x4be77d){super(),this['device']=_0x4be77d,this['maxRetries']=-0x41+0x2b*-0x4+0xed;}['load'](_0x58dd3b,_0x41e524,_0x2e09a5){const _0x35636e=this['device'],_0x30706a=_0x433054=>{var _0x2df686,_0x463f61,_0x295d76;b0(_0x35636e,_0x58dd3b['load'],_0x433054,_0x41e524,{'isGGGR':(((_0x295d76=(_0x463f61=(_0x2df686=_0x2e09a5==null?void(-0x13a9+-0x490+0x1839):_0x2e09a5['file'])==null?void(0x14f1+-0x109f+-0x452):_0x2df686['variants'])==null?void(0x5*-0x4fd+-0xcbc+-0x789*-0x5):_0x463f61['basis'])==null?void(0x1e7*0x11+-0x2640+0x5e9):_0x295d76['opt'])&-0x24a5*-0x1+-0x47d+-0x2020)!==-0x198d+0x166+0x1827})||_0x41e524('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x2e09a5['name']+']('+_0x2e09a5['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.'));};pe['fetchArray'+'Buffer'](_0x58dd3b['load'],(_0x56057a,_0xc6506)=>{_0x56057a?_0x41e524(_0x56057a):_0x30706a(_0xc6506);},_0x2e09a5,this['maxRetries']);}['open'](_0x7f51ce,_0x37f772,_0x7410db,_0x28d1e1={}){const _0x1e6668=_0x28d1e1['srgb']?ld(_0x37f772['format']):_0x37f772['format'],_0x47edb1=new _e(_0x7410db,{'name':_0x7f51ce,'profilerHint':Pr,'addressU':_0x37f772['cubemap']?ue:yt,'addressV':_0x37f772['cubemap']?ue:yt,'width':_0x37f772['width'],'height':_0x37f772['height'],'format':_0x1e6668,'cubemap':_0x37f772['cubemap'],'levels':_0x37f772['levels'],..._0x28d1e1});return _0x47edb1['upload'](),_0x47edb1;}}const A0=new Uint8Array([-0x1114+-0x1ab0+0x407*0xb,0x1c6d*0x1+0x2574+-0x4191,-0x4*-0x80d+-0x109c+-0xf4a,0x1da+-0x1254+0x10c1,-0x151*0x15+-0x1b7b+0x5*0xb09,0x5b4+-0x1b57+0x15ad,-0xbf*0xb+0x1*-0x39a+0xbe9,-0x1*0x112d+0x1*-0x1d75+0x2eac,0x110a+-0x63*0x15+-0x1*0x8eb,-0x120a*-0x2+-0x1*-0xd85+-0x3199,-0x1ada+-0x116*-0x22+0x509*-0x2,-0x157f*-0x1+0x13c3+-0x2935,-0xbe9+0x1*-0x371+-0xfa3*-0x1,-0x1*-0x739+-0x17a4+0x10b3,0xc25*-0x2+-0xb*-0x15+0x17a7,0x1*0x1087+-0x4*0x1c7+0x1*-0x919,0xa93*-0x1+-0x232f+-0x16e1*-0x2,0x1a60+-0x810+-0x1250,-0x1*-0xc41+-0x2e4*-0x1+0x1*-0xf25,-0x700*-0x1+0xa7f*-0x2+-0x1*-0xdff,0x12b4+0x3df*0xa+0x1*-0x396a,0xc*-0x61+0x1760+-0x12d4,-0x1be7+0x2129+-0x542,0x103f+0x89*0x1+-0x10c7,0x1*0x1fed+-0x141f+-0xbc6,-0x45*0x30+0x2f6+0x20*0x50,-0x2*0x290+0x232c+0x6*-0x502,-0x8c4+0x213+0x6b1,-0x15d*-0x11+-0x2389*0x1+-0xc5c*-0x1,0x42e*-0x9+0x58f*0x2+0x1a9f,-0x52*-0x13+0x35+-0x636,0x217c+0x26d3+-0x7f3*0x9,-0xbb5*-0x1+-0x1*-0xe8f+0x3ad*-0x7,-0x1a*-0xf5+-0x1eda+0x5f8,0x2627+0xfcb+-0x35f2*0x1,-0x255+-0xd89+-0x3*-0x54a,0xd42*-0x2+0x1766*-0x1+0x1*0x31f7,-0x11f7+-0xf55*0x2+0x30ea,-0x84c+-0x1b55+0xbf7*0x3,-0x108c+0xa*0xb2+0x9d9,0x1346+0x6a1*0x5+0x379*-0xf,0x1*-0x20b7+-0x1*-0x1a4d+0x6e2,0x4ec+0x13f6+-0x1808,-0x342*-0x1+-0x1fe*-0x3+-0x8d9,-0xc14+0x11*-0x101+-0x1d89*-0x1,-0x2521+-0x20f9+-0xa12*-0x7,0x13d5*-0x1+0xb59+0x8de,-0x1304*-0x2+-0x204d+0x5*-0x101,-0x25a+-0x4b4+0x7*0x103,0x35*0x22+0x1*-0x239c+-0x2*-0xe49,-0x1891+-0x4a9*-0x7+0x1*-0x80e,-0x10ee*0x1+-0x25aa+-0x1*-0x36f1,0x1*0x100d+-0x928+-0x6e5,-0x21f9+-0x25e*-0x6+-0x503*-0x4,-0x24a4+0x2*0x84d+0x144d,0x1*0x17c7+0x5*-0x6b+0x152b*-0x1,-0x2219+-0x52*-0x4c+0x1*0xa55,0x2*0xcf5+-0x18ee+-0xf,-0x2de*-0x7+-0x10f+0x1*-0x1303,-0xd+0x597+-0x2c5*0x2,0xe14+0xdfd*-0x1+0x1*-0x17,-0xbf*0x13+0x180e+-0x9e1,-0x173d+-0xca2*0x1+0x4*0x90a,-0x1d7b+-0x1b3d+0x38fd,-0x1*-0x165e+0x929+-0x1f39,-0x2673*-0x1+-0x22a7+-0x388,0x2*0x245+-0x1c71+0x1895,-0xefc+-0x7df*-0x4+-0x9*0x1ce,-0x1*-0x186b+-0x8a8+-0xf63,0x128e+0xbf6*0x2+-0x29f8]),C0=(_0x3486b6,_0x4e8ada)=>{const _0x5cef45=new _e(_0x3486b6,{'width':0x1,'height':0x1,'format':Ne,'mipmaps':!(-0x109e+-0x1b34+0x2bd3),'levels':[_0x4e8ada]}),_0x365fd2=new gt({'colorBuffer':_0x5cef45,'depth':!(-0x25a4*-0x1+0x1896+-0x3e39)});_0x3486b6['setFramebu'+'ffer'](_0x365fd2['impl']['_glFrameBu'+'ffer']),_0x3486b6['initRender'+'Target'](_0x365fd2);const _0xfb655e=new Uint8ClampedArray(-0x3*0xbf6+0x13c9+0x7d*0x21);return _0x3486b6['gl']['readPixels'](0xddb+-0x4c*-0x33+-0x1cff,0x5d*0x52+0x79*-0x14+0x1*-0x1456,0x1e*-0x10b+0x1d2*-0x1+0x211d,0x2b*0xaf+0x44*-0x6+-0x1bcc,_0x3486b6['gl']['RGBA'],_0x3486b6['gl']['UNSIGNED_B'+'YTE'],_0xfb655e),_0x365fd2['destroy'](),_0x5cef45['destroy'](),_0xfb655e[0x1*-0x2089+-0xa7*0xe+0x29ab]===-0x2611+0x5f*-0x12+0x2cc0&&_0xfb655e[0xc*-0x254+-0x1e1*-0x4+0x15*0xf9]===0x12ac+0x123b+-0x761*0x5&&_0xfb655e[-0x103c+-0x2670+-0x123a*-0x3]===-0x155b+0x3*-0xa4e+0x3448&&_0xfb655e[-0x1*-0x527+0x5c6+-0x1*0xaea]===-0x2457+-0x8*-0x1f9+0x14ce;},jk=_0x3f13e=>createImageBitmap(new Blob([A0],{'type':'image/png'}),{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x12b99e=>C0(_0x3f13e,_0x12b99e))['catch'](_0x4d3abe=>!(-0x2216+0x1e4d*-0x1+-0x1a*-0x27a)),Yk=_0x301729=>new Promise((_0x1d79ff,_0xc2f7bd)=>{const _0x71b9cf=new Image();_0x71b9cf['src']=URL['createObje'+'ctURL'](new Blob([A0])),_0x71b9cf['onload']=()=>{_0x1d79ff(C0(_0x301729,_0x71b9cf));};});class Kk{static['run'](_0x3fa995){jk(_0x3fa995)['then'](_0x5888fb=>{console['log']('imageBitma'+'pIsCorrect'+'='+_0x5888fb);}),Yk(_0x3fa995)['then'](_0x8311f3=>{console['log']('imgElement'+'IsCorrect='+_0x8311f3);});}}class Zk extends eo{constructor(_0x59f8db,_0x124d75){super(),this['crossOrigi'+'n']=_0x59f8db['prefix']?'anonymous':null,this['maxRetries']=-0xfe+-0x120e*-0x1+0x8*-0x222,this['device']=_0x124d75,mi['get']('IMG_ALPHA_'+'TEST')&&Kk['run'](this['device']);}['load'](_0x55f926,_0x19e9ff,_0x156ff0){var _0x53bb3e;const _0x1e075f=!!((_0x53bb3e=_0x156ff0==null?void(-0x1*0x12f1+-0xa9*0x6+0x16e7):_0x156ff0['file'])!=null&&_0x53bb3e['contents']);if(_0x1e075f){if(this['device']['supportsIm'+'ageBitmap']){this['_loadImage'+'BitmapFrom'+'Blob'](new Blob([_0x156ff0['file']['contents']]),_0x19e9ff);return;}_0x55f926={'load':URL['createObje'+'ctURL'](new Blob([_0x156ff0['file']['contents']])),'original':_0x55f926['original']};}const _0xb3ccc0=(_0x48ba5d,_0x3a5016)=>{_0x1e075f&&URL['revokeObje'+'ctURL'](_0x55f926['load']),_0x19e9ff(_0x48ba5d,_0x3a5016);};let _0x5e8f8e;_0x156ff0&&_0x156ff0['options']&&_0x156ff0['options']['hasOwnProp'+'erty']('crossOrigi'+'n')?_0x5e8f8e=_0x156ff0['options']['crossOrigi'+'n']:jn['test'](_0x55f926['load'])&&(_0x5e8f8e=this['crossOrigi'+'n']),this['device']['supportsIm'+'ageBitmap']?this['_loadImage'+'Bitmap'](_0x55f926['load'],_0x55f926['original'],_0x5e8f8e,_0xb3ccc0,_0x156ff0):this['_loadImage'](_0x55f926['load'],_0x55f926['original'],_0x5e8f8e,_0xb3ccc0);}['open'](_0x2fe261,_0x41e9ef,_0x3b2d85,_0x13d803={}){const _0x23a499=new _e(_0x3b2d85,{'name':_0x2fe261,'profilerHint':Pr,'width':_0x41e9ef['width'],'height':_0x41e9ef['height'],'format':_0x13d803['srgb']?_s:Ne,..._0x13d803});return _0x23a499['setSource'](_0x41e9ef),_0x23a499;}['_loadImage'](_0x114c1f,_0x380132,_0x44e5d7,_0x1793f5){const _0x53b4a9=new Image();_0x44e5d7&&(_0x53b4a9['crossOrigi'+'n']=_0x44e5d7);let _0x1c4c46=0x2329+0x296*0xd+-0x44c7;const _0x34d0f5=this['maxRetries'];let _0x260524;_0x53b4a9['onload']=function(){_0x1793f5(null,_0x53b4a9);},_0x53b4a9['onerror']=function(){if(!_0x260524){if(_0x34d0f5>-0x9df+-0x1c4f+0x262e&&++_0x1c4c46<=_0x34d0f5){const _0x2b8472=Math['pow'](-0x88d+0x3*0x2de+0x1*-0xb,_0x1c4c46)*(0x154a+-0xfda*0x1+-0x50c);console['log']('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x380132+('\x27\x20-\x20Retryi'+'ng\x20in\x20')+_0x2b8472+'ms...');const _0x249d2f=_0x114c1f['indexOf']('?')>=-0x44*-0x3c+-0x143c+0x44c?'&':'?';_0x260524=setTimeout(()=>{_0x53b4a9['src']=_0x114c1f+_0x249d2f+'retry='+Date['now'](),_0x260524=null;},_0x2b8472);}else _0x1793f5('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x380132+'\x27');}},_0x53b4a9['src']=_0x114c1f;}['_loadImage'+'Bitmap'](_0x42cc24,_0x46b107,_0xdec3c8,_0x183fac,_0xfe144e){const _0x2c0893={'cache':!(0x240d+-0x2*0x7c3+-0x1487),'responseType':'blob','retry':this['maxRetries']>-0x6f3+-0x227c+0x296f*0x1,'maxRetries':this['maxRetries'],'progress':_0xfe144e};ot['get'](_0x42cc24,_0x2c0893,(_0x47f6f7,_0x48198c)=>{_0x47f6f7?_0x183fac(_0x47f6f7):this['_loadImage'+'BitmapFrom'+'Blob'](_0x48198c,_0x183fac);});}['_loadImage'+'BitmapFrom'+'Blob'](_0x40a6ec,_0x473cc9){createImageBitmap(_0x40a6ec,{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x2cffd0=>_0x473cc9(null,_0x2cffd0))['catch'](_0x191e33=>_0x473cc9(_0x191e33));}}const If=[0x79*0x86b307+0xdb9f*0x40d+0x1*0x15300a49,0x6fe233ab+-0x16856141f+0x1b3a51194,0xd0af86d+-0x14a931c+-0x1a65b44],Qk={0x83f0:td,0x83f2:op,0x83f3:vl,0x8d64:id,0x9274:cp,0x9278:hp,0x8c00:rd,0x8c01:xl,0x8c02:ad,0x8c03:Tl,0x8051:Cr,0x8058:Ne,0x8c41:lp,0x8c43:_s,0x8c3a:In,0x881b:ui,0x881a:nt};function Jk(_0x5d87c7,_0x4d2fe8,_0x4fbb31,_0x1a651f){return _0x5d87c7===In?new Uint32Array(_0x4d2fe8,_0x4fbb31,_0x1a651f/(0x17*0xdf+-0x18a6+0x4a1)):new Uint8Array(_0x4d2fe8,_0x4fbb31,_0x1a651f);}class eU extends eo{constructor(_0x3b9869){super(),this['maxRetries']=0x20e9+-0x1e4e+0x29b*-0x1;}['load'](_0xd8ac7b,_0x5b1705,_0x4275ab){pe['fetchArray'+'Buffer'](_0xd8ac7b['load'],_0x5b1705,_0x4275ab,this['maxRetries']);}['open'](_0x10a36d,_0x890941,_0x21d652,_0x1dcce6={}){const _0x349707=this['parse'](_0x890941);if(!_0x349707)return null;const _0x571cc5=_0x1dcce6['srgb']?ld(_0x349707['format']):_0x349707['format'],_0x4c724e=new _e(_0x21d652,{'name':_0x10a36d,'profilerHint':Pr,'addressU':_0x349707['cubemap']?ue:yt,'addressV':_0x349707['cubemap']?ue:yt,'width':_0x349707['width'],'height':_0x349707['height'],'format':_0x571cc5,'cubemap':_0x349707['cubemap'],'levels':_0x349707['levels'],..._0x1dcce6});return _0x4c724e['upload'](),_0x4c724e;}['parse'](_0x55821c){const _0x210d02=new Uint32Array(_0x55821c);if(If[0x1fb8*0x1+-0x7*0x1+-0x13*0x1ab]!==_0x210d02[-0xd*-0x18f+-0x86e*-0x1+-0x5bd*0x5]||If[0x148d+0x2*-0x12ff+0x1172]!==_0x210d02[-0x1f0d+0x12*-0x14d+0x3678]||If[-0x8c*-0x2+-0x73b*-0x4+0xa7*-0x2e]!==_0x210d02[-0x143b+0x16f5+0x1*-0x2b8])return w['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX\x20f'+'ile.\x20Expec'+'ted\x200xAB4B'+'5458,\x200x20'+'3131BB,\x200x'+'0D0A1A0A'),null;const _0x3b0682={'endianness':_0x210d02[0xfd2+0x1a97+-0x2*0x1533],'glType':_0x210d02[0x1*0x325+0x18c*0x18+0x80d*-0x5],'glTypeSize':_0x210d02[-0x43*-0x61+0xcab*0x1+-0x1*0x2609],'glFormat':_0x210d02[0x23b9+-0x1c27+0x2e*-0x2a],'glInternalFormat':_0x210d02[0x35f*0x7+-0xe47+-0x94b],'glBaseInternalFormat':_0x210d02[0x10dd+0x43*0x95+-0x37d4],'pixelWidth':_0x210d02[0xb89*-0x2+0x1b7*0x11+-0x60c],'pixelHeight':_0x210d02[-0x2e*-0x3+0xe35+-0x3*0x4e7],'pixelDepth':_0x210d02[0x1*0x1477+0xf24+0x2*-0x11c8],'numberOfArrayElements':_0x210d02[-0x12*0x1c6+-0x3b*0x7f+0x3d3d],'numberOfFaces':_0x210d02[0x1ef1+0x103b+-0x2f1f],'numberOfMipmapLevels':_0x210d02[-0x59*-0x4f+-0x1*-0x11ab+-0x5*0x904],'bytesOfKeyValueData':_0x210d02[0x86+-0x1c*-0x54+-0x9a7]};if(_0x3b0682['pixelDepth']>-0x2*0x1193+0x1*0x12d6+0x1051)return w['warn']('More\x20than\x20'+'1\x20pixel\x20de'+'pth\x20not\x20su'+'pported!'),null;if(_0x3b0682['numberOfAr'+'rayElement'+'s']!==-0x1a03+0x1e36*0x1+-0x433)return w['warn']('Array\x20text'+'ure\x20not\x20su'+'pported!'),null;const _0x12433e=Qk[_0x3b0682['glInternal'+'Format']];if(_0x12433e===void(0xa8*0x3+-0x4f4+0x2fc))return w['warn']('Unknown\x20gl'+'InternalFo'+'rmat:\x20'+_0x3b0682['glInternal'+'Format']),null;let _0x2b6729=-0x1d3a+-0x3*0xa2f+0x1*0x3bd7+_0x3b0682['bytesOfKey'+'ValueData']/(-0x1931+-0x149b+0x10*0x2dd);const _0x46f458=_0x3b0682['numberOfFa'+'ces']>-0xe56+-0xf2a+0x1d81,_0x386c38=[];for(let _0x3f7844=0x6c7+0xa81*-0x1+0x3ba;_0x3f7844<(_0x3b0682['numberOfMi'+'pmapLevels']||-0x2374*0x1+0x1129+0x1*0x124c);_0x3f7844++){const _0x2ed75c=_0x210d02[_0x2b6729++];_0x46f458&&_0x386c38['push']([]);const _0x4fa953=_0x46f458?_0x386c38[_0x3f7844]:_0x386c38;for(let _0x7a213e=0x229f*-0x1+-0x22+0x29*0xd9;_0x7a213e<(_0x46f458?0x1fd*0xb+0x1f7*-0x2+-0x11eb:0xa3+0x217*0x2+-0x268*0x2);++_0x7a213e)_0x4fa953['push'](Jk(_0x12433e,_0x55821c,_0x2b6729*(-0x1b*0x105+0x204a+-0x4bf),_0x2ed75c)),_0x2b6729+=_0x2ed75c+(-0x52*-0x4b+-0x26bc*0x1+0xeb9)>>0x661+-0x22fc+-0x19*-0x125;}return{'format':_0x12433e,'width':_0x3b0682['pixelWidth'],'height':_0x3b0682['pixelHeigh'+'t'],'levels':_0x386c38,'cubemap':_0x46f458};}}const tU={'KHR_DF_MODEL_UASTC':0xa6};class sU extends eo{constructor(_0xace41e,_0x1e96c4){super(),this['maxRetries']=-0x6f2+0x8*0x121+-0x216,this['device']=_0x1e96c4;}['load'](_0x2166af,_0x4ae9f6,_0x212179){pe['fetchArray'+'Buffer'](_0x2166af['load'],(_0x148fe3,_0x5171dc)=>{_0x148fe3?_0x4ae9f6(_0x148fe3,_0x5171dc):this['parse'](_0x5171dc,_0x2166af,_0x4ae9f6,_0x212179);},_0x212179,this['maxRetries']);}['open'](_0x104e69,_0x2f20a7,_0x126bb3,_0x3b131a={}){const _0x1c1996=_0x3b131a['srgb']?ld(_0x2f20a7['format']):_0x2f20a7['format'],_0x5f54ae=new _e(_0x126bb3,{'name':_0x104e69,'profilerHint':Pr,'addressU':_0x2f20a7['cubemap']?ue:yt,'addressV':_0x2f20a7['cubemap']?ue:yt,'width':_0x2f20a7['width'],'height':_0x2f20a7['height'],'format':_0x1c1996,'cubemap':_0x2f20a7['cubemap'],'levels':_0x2f20a7['levels'],..._0x3b131a});return _0x5f54ae['upload'](),_0x5f54ae;}['parse'](_0x1573fd,_0x1f3244,_0x434c1c,_0x6c2ab7){var _0x2ad995,_0x18eb32,_0x323471;const _0x100d9d=new KS(_0x1573fd),_0x5854e8=[_0x100d9d['readU32be'](),_0x100d9d['readU32be'](),_0x100d9d['readU32be']()];if(_0x5854e8[-0x23f4+-0x4f*0x6d+-0xdeb*-0x5]!==-0xd07*-0xbc5ae+0x8cdd8175+0x1*-0x7aee6adf||_0x5854e8[-0x166b+0x23d6+-0x6b5*0x2]!==0x12b6e3b3+0x1bb7d4a4+-0xe3c879c||_0x5854e8[0x1*0x2467+0x1*-0x4e1+-0x1*0x1f84]!==-0x65e5f81*-0x3+0x15fad334+-0x1c0bd7ad)return w['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX2\x20'+'file.\x20Expe'+'cted\x200xAB4'+'B5458,\x200x2'+'03131BB,\x200'+'x0D0A1A0A'),null;const _0x1d830a={'vkFormat':_0x100d9d['readU32'](),'typeSize':_0x100d9d['readU32'](),'pixelWidth':_0x100d9d['readU32'](),'pixelHeight':_0x100d9d['readU32'](),'pixelDepth':_0x100d9d['readU32'](),'layerCount':_0x100d9d['readU32'](),'faceCount':_0x100d9d['readU32'](),'levelCount':_0x100d9d['readU32'](),'supercompressionScheme':_0x100d9d['readU32']()},_0x253116={'dfdByteOffset':_0x100d9d['readU32'](),'dfdByteLength':_0x100d9d['readU32'](),'kvdByteOffset':_0x100d9d['readU32'](),'kvdByteLength':_0x100d9d['readU32'](),'sgdByteOffset':_0x100d9d['readU64'](),'sgdByteLength':_0x100d9d['readU64']()},_0x1c245e=[];for(let _0x5c4614=0x1*0x43a+0x1e5*0x4+0xbce*-0x1;_0x5c4614<Math['max'](-0xc01+0x5*-0x11b+-0x1*-0x1189,_0x1d830a['levelCount']);++_0x5c4614)_0x1c245e['push']({'byteOffset':_0x100d9d['readU64'](),'byteLength':_0x100d9d['readU64'](),'uncompressedByteLength':_0x100d9d['readU64']()});if(_0x100d9d['readU32']()!==_0x253116['kvdByteOff'+'set']-_0x253116['dfdByteOff'+'set'])return w['warn']('Invalid\x20fi'+'le\x20data\x20en'+'countered.'),null;_0x100d9d['skip'](0xa1*0x8+0x1fe4+-0x24e4);const _0xfcb8bd=_0x100d9d['readU8']();_0x100d9d['skip'](_0x253116['dfdByteLen'+'gth']-(-0x1727*-0x1+-0x1395*-0x1+-0x2ab3)),_0x100d9d['skip'](_0x253116['kvdByteLen'+'gth']),_0x1d830a['supercompr'+'essionSche'+'me']===0x1437+-0xb*-0x7f+-0x19ab||_0xfcb8bd===tU['KHR_DF_MOD'+'EL_UASTC']?b0(this['device'],_0x1f3244['load'],_0x1573fd,_0x434c1c,{'isGGGR':(((_0x323471=(_0x18eb32=(_0x2ad995=_0x6c2ab7==null?void(0x138a+0x1acc+-0x2e56*0x1):_0x6c2ab7['file'])==null?void(-0x1*-0x1d53+0x1*0x103d+0x51*-0x90):_0x2ad995['variants'])==null?void(0x17ee+-0xca*0x9+-0x10d4):_0x18eb32['basis'])==null?void(-0x1*-0x1ebb+0x246*-0x2+0x1*-0x1a2f):_0x323471['opt'])&-0x1db7+0xeca+-0xef5*-0x1)!==0x1f32+0xad*-0x1b+-0x1*0xcf3,'isKTX2':!(0x1d*0x8f+-0x8c*0x15+-0x4b7)})||_0x434c1c('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x6c2ab7['name']+']('+_0x6c2ab7['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.')):_0x434c1c('unsupporte'+'d\x20KTX2\x20pix'+'el\x20format');}}class iU extends eo{constructor(_0x42d602){super(),this['maxRetries']=0x10ff+-0x2116+-0x3*-0x55d;}['load'](_0x16635c,_0x163b88,_0x5bd525){pe['fetchArray'+'Buffer'](_0x16635c['load'],_0x163b88,_0x5bd525,this['maxRetries']);}['open'](_0x2e5135,_0x3a7a06,_0x151522,_0x4b1c07={}){const _0x1cc82f=new Uint32Array(_0x3a7a06,-0x261d+-0x12*-0x4d+0x20b3,0x4*-0x36c+-0x2007+0x2dd7),_0x488365=_0x1cc82f[-0x213d+0x495+0x1cac],_0x36024e=_0x1cc82f[-0x19a0+0x16*-0xe2+-0x5*-0x903],_0x31be31=Math['max'](_0x1cc82f[-0x1fbb+0x3*0xa85+-0x1*-0x33],0x49*-0x67+-0x17a+0x1eda),_0x14b820=_0x1cc82f[0xf1e+-0x1e81+0xf77]===0x13ae+0x9d9*-0x3+0x9e1,_0x75353=_0x1cc82f[0x1*-0xdb8+-0x1*-0x1d47+-0xf7a],_0x1937ed=_0x1cc82f[0x1c8d*-0x1+-0x10f3*0x1+-0x2d96*-0x1],_0x20210f=_0x1cc82f[0x2f*0x6e+0x1183*0x1+-0x36b*0xb]===0x1d*0x53b+-0x2*-0x7736+-0x881b,_0x1a1d5a=0x1*-0x1ddb633b+-0x371d8c29+0x864d47a8,_0xf59f5e=-0x4a6e7*0x169+-0x9537197+0x3124a*0x1689,_0x1d8934=-0x989+0x146b*-0x1+0x1*0x1e65,_0x43567c=-0x1423+0x1*0xce5+-0x1*-0x7b2,_0x3d512d=-0x1*0x3725cad+-0x12eac566+-0x2*-0x23d03b2c,_0x1d8255=-0x171*0xe5d57+-0x4eb6293d*0x1+-0x6eb82*-0x157a,_0x270595=-0xa7bf*0x1f39+0x1*-0x2fb84f99+-0x1*-0x7561fc70,_0x91ee4=-0x27b9518+-0x3178d76a+0x6527a0d2,_0x42d1cc=0x4d7fe849*-0x1+0x2c0eac62+0x52a57037*0x1;let _0x2130cd=!(0x66d+0x26f0+-0x2d5c),_0x28d4f5=!(-0x5*0x36f+0x2*0xa7+0x2a5*0x6),_0x30c617=!(-0x1*0x155f+0x39d+0x11c3),_0x36db25=!(-0x171*-0x5+0x1554+-0x1c88*0x1),_0x46575f=null,_0x2f727f=0x9bc+0x1772+-0x212d,_0x304b51;if(_0x14b820?_0x75353===_0x1a1d5a?(_0x46575f=td,_0x2130cd=!(0x2*-0x27b+-0x1bbe*-0x1+-0x16c8)):_0x75353===_0xf59f5e?(_0x46575f=vl,_0x2130cd=!(0x1b14+-0x1fc1+-0x18f*-0x3)):_0x75353===_0x1d8934?(_0x46575f=nt,_0x2f727f=0x1cde+0x1e40+0x184*-0x27):_0x75353===_0x43567c?(_0x46575f=Xt,_0x2f727f=0x1*-0x21d3+0xf68+-0xd*-0x16b):_0x75353===_0x3d512d?(_0x46575f=id,_0x2130cd=!(0xb4a+-0x46a+-0x6e0),_0x28d4f5=!(-0x1*-0x907+-0x25ac+-0x1ca5*-0x1)):_0x75353===_0x1d8255||_0x75353===_0x270595?(_0x46575f=_0x75353===_0x1d8255?xl:Tl,_0x2130cd=!(-0x251+-0x1222+-0xf*-0x15d),_0x30c617=!(0x181d+0x37d+-0x2*0xdcd)):(_0x75353===_0x91ee4||_0x75353===_0x42d1cc)&&(_0x46575f=_0x75353===_0x91ee4?rd:ad,_0x2130cd=!(0x33b+-0x5ad*-0x4+-0x19ef),_0x36db25=!(-0x138a+0x15e*-0x14+0x2ee2)):_0x1937ed===0x1b51+-0x1b8d+-0x1*-0x5c&&(_0x46575f=Ne),!_0x46575f)return w['error']('This\x20DDS\x20p'+'ixel\x20forma'+'t\x20is\x20curre'+'ntly\x20unsup'+'ported.\x20Em'+'pty\x20textur'+'e\x20will\x20be\x20'+'created\x20in'+'stead\x20of\x20'+_0x2e5135+'.'),_0x304b51=new _e(_0x151522,{'width':0x4,'height':0x4,'format':Cr,'name':'dds-legacy'+'-empty'}),_0x304b51;_0x304b51=new _e(_0x151522,{'name':_0x2e5135,'profilerHint':Pr,'addressU':_0x20210f?ue:yt,'addressV':_0x20210f?ue:yt,'width':_0x488365,'height':_0x36024e,'format':_0x46575f,'cubemap':_0x20210f,'mipmaps':_0x31be31>-0xebc+-0x22e1+0x319e,..._0x4b1c07});let _0x54358e=0x1*-0xca1+-0x1166*-0x2+-0x1*0x15ab;const _0x3f23b9=_0x20210f?-0x1b02+0x210a+-0x602:-0x1c62+-0x1*0xf43+0x2ba6;let _0x203fd8;const _0x5fcec0=0xfb7+0xc8f+-0x1c42,_0x2ed765=0x1dd0+-0xb*0x1d+-0x1c8d*0x1,_0x2adb5d=_0x75353===_0x1a1d5a?-0x175f+0xb6*0x8+0x11b7:0x10b5+-0x1e*0x2c+0x1*-0xb7d;let _0x56dab6,_0x5013a7,_0x19fa08;for(let _0x4b2d2a=-0x28*0x4+0x7*-0x164+0xa5c;_0x4b2d2a<_0x3f23b9;_0x4b2d2a++){let _0x5ccfcc=_0x488365,_0x2593e8=_0x36024e;for(let _0xd13a96=0x25c3*-0x1+0x1*-0x2617+0x4bda*0x1;_0xd13a96<_0x31be31;_0xd13a96++){_0x2130cd?_0x28d4f5?_0x203fd8=Math['floor']((_0x5ccfcc+(-0xebc+0xa41+0x47e))/(0x1*-0xa49+-0x100c+0x1*0x1a59))*Math['floor']((_0x2593e8+(0x88+0x8e1+-0x966))/(-0x5*0x5+-0x6b5*0x4+-0x1*-0x1af1))*(0xed*0x24+0x11b+0x1*-0x2267):_0x30c617?_0x203fd8=Math['max'](_0x5ccfcc,0xe8b+-0x609+-0x2e*0x2f)*Math['max'](_0x2593e8,0x12e5+0x12*0x225+-0x3977)/(0x8ae*0x2+0x23b6+-0x350e):_0x36db25?_0x203fd8=Math['max'](_0x5ccfcc,-0x1cf*0x1+0xaf9*0x2+-0x141b)*Math['max'](_0x2593e8,0x1beb+-0x109c+0x1*-0xb47)/(-0x5*-0x214+-0x92*0x2+0x49f*-0x2):(_0x56dab6=Math['floor']((_0x5ccfcc+_0x5fcec0-(0x7*-0x29d+0x4*0x9af+-0x6*0x368))/_0x5fcec0),_0x5013a7=Math['floor']((_0x2593e8+_0x2ed765-(0x6*0x95+-0x226c+-0x1eef*-0x1))/_0x2ed765),_0x19fa08=_0x56dab6*_0x5013a7,_0x203fd8=_0x19fa08*_0x2adb5d):_0x203fd8=_0x5ccfcc*_0x2593e8*(-0x140+0xf5a+-0xe16);const _0x2382a5=_0x46575f===Xt?new Float32Array(_0x3a7a06,_0x54358e,_0x203fd8):_0x46575f===nt?new Uint16Array(_0x3a7a06,_0x54358e,_0x203fd8):new Uint8Array(_0x3a7a06,_0x54358e,_0x203fd8);_0x20210f?(_0x304b51['_levels'][_0xd13a96]||(_0x304b51['_levels'][_0xd13a96]=[]),_0x304b51['_levels'][_0xd13a96][_0x4b2d2a]=_0x2382a5):_0x304b51['_levels'][_0xd13a96]=_0x2382a5,_0x54358e+=_0x203fd8*_0x2f727f,_0x5ccfcc=Math['max'](_0x5ccfcc*(-0xf1e+0xba+-0x2*-0x732+0.5),-0xb*0x33+0x1ada+-0x18a8),_0x2593e8=Math['max'](_0x2593e8*(0xa18+-0x30d*0x4+0x21c+0.5),0x1bb4*-0x1+0x10b*0x2+0x1*0x199f);}}return _0x304b51['upload'](),_0x304b51;}}class rU extends eo{constructor(_0x59927f){super(),this['maxRetries']=-0x2042+-0x37b+0x1*0x23bd;}['load'](_0x396312,_0x1f4efa,_0x224929){pe['fetchArray'+'Buffer'](_0x396312['load'],_0x1f4efa,_0x224929,this['maxRetries']),_0x224929['data']&&!_0x224929['data']['type']&&(_0x224929['data']['type']=mh);}['open'](_0x49f80a,_0x21ea31,_0x4a33d5,_0xbed92d={}){const _0x864492=this['parse'](_0x21ea31);if(!_0x864492)return null;const _0x4c5f3d=new _e(_0x4a33d5,{'name':_0x49f80a,'profilerHint':Pr,'addressU':yt,'addressV':ue,'minFilter':Te,'magFilter':Te,'width':_0x864492['width'],'height':_0x864492['height'],'levels':_0x864492['levels'],'format':Ne,'type':mh,'mipmaps':!(0x1a4f+-0x503*0x2+-0x1048),..._0xbed92d});return _0x4c5f3d['upload'](),_0x4c5f3d;}['parse'](_0x2a0a08){const _0x21b99a=new KS(_0x2a0a08);if(!_0x21b99a['readLine']()['startsWith']('#?RADIANCE'))return w['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20ma'+'gic'),null;const _0x1ff2c2={};for(;;){const _0x44eefe=_0x21b99a['readLine']();if(_0x44eefe['length']===0x10fd*0x1+0x995+-0x1*0x1a92)break;{const _0x5f3b8d=_0x44eefe['split']('=');_0x5f3b8d['length']===0x53c*0x5+-0x2b*-0xa9+-0x18f*0x23&&(_0x1ff2c2[_0x5f3b8d[0x16b5*0x1+0x1*0x1247+-0x28fc]]=_0x5f3b8d[0x1814+-0x3b*0x7a+-0x2d*-0x17]);}}if(!_0x1ff2c2['hasOwnProp'+'erty']('FORMAT'))return w['error']('radiance\x20h'+'eader\x20miss'+'ing\x20FORMAT'+'\x20variable'),null;const _0x1a4349=_0x21b99a['readLine']()['split']('\x20');if(_0x1a4349['length']!==0x78f+0x4af*0x8+-0x1*0x2d03)return w['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20re'+'solution'),null;const _0x3dcad9=parseInt(_0x1a4349[0x5*0x5ae+0xf*0x13a+0x441*-0xb],-0xb*-0x14b+-0x1*-0x103+0x30a*-0x5),_0xbe03b8=parseInt(_0x1a4349[0x203a+0x16d7+0x92d*-0x6],0x1c3*0xd+0x4*0x7d3+0x3629*-0x1),_0x2e5673=this['_readPixel'+'s'](_0x21b99a,_0xbe03b8,_0x3dcad9,_0x1a4349[0x2677+-0xd16+-0x1961]==='-Y');return _0x2e5673?{'width':_0xbe03b8,'height':_0x3dcad9,'levels':[_0x2e5673]}:null;}['_readPixel'+'s'](_0x4f85b5,_0x58351d,_0x537120,_0x50eda7){if(_0x58351d<-0x1*0xadd+0x5d5*0x4+-0x425*0x3||_0x58351d>-0x5f48+0xb754+0x27f3)return this['_readPixel'+'sFlat'](_0x4f85b5,_0x58351d,_0x537120);const _0x296abf=[-0xf*0x14e+0x1c6f*0x1+-0x1*0x8dd,0x137*0xd+-0x25cf*0x1+-0x2*-0xb02,0x1*-0x223f+-0x20e3*0x1+0x4322,-0x765+0x23b8+0x1*-0x1c53];if(_0x4f85b5['readArray'](_0x296abf),_0x296abf[0x1*0x1c79+0x8f3*-0x3+0x2*-0xd0]!==0xe28+-0xe48+0x2*0x11||_0x296abf[-0x2d2+0x10be+0x7*-0x1fd]!==0x26*0xba+0xf98+-0x2b32||(_0x296abf[0x5b2+0xbe1*0x3+-0x2953]&-0x13*-0x125+0x1e21+-0x3360)!==-0x10d1+-0x702+-0x141*-0x13)return _0x4f85b5['skip'](-(0x1*0xc77+0x1fe1*0x1+-0x1*0x2c54)),this['_readPixel'+'sFlat'](_0x4f85b5,_0x58351d,_0x537120);const _0x3a6dc1=new ArrayBuffer(_0x58351d*_0x537120*(0x5*0x250+0x685*-0x4+0x1d1*0x8)),_0x539626=new Uint8Array(_0x3a6dc1);let _0x33cf54=_0x50eda7?-0x1ddb+-0x2*0x825+-0x2e25*-0x1:_0x58351d*(0xfa3+0xd*0x18d+-0x23c8)*(_0x537120-(-0x25cd+0x1*-0x2a5+0x2873)),_0x11f95b,_0xb2aa8d,_0x90fad5,_0x1b2ab2,_0x19631a,_0x572d85;for(_0xb2aa8d=0xd3*0x8+-0xd1*-0x2d+-0x1*0x2b55;_0xb2aa8d<_0x537120;++_0xb2aa8d){if(_0xb2aa8d&&_0x4f85b5['readArray'](_0x296abf),(_0x296abf[0x1*-0xf43+0x3*0x108+-0x3*-0x40f]<<0x8d8+0x1fb*0x1+-0xacb)+_0x296abf[-0x1b2f+0x26e5+-0xbb3]!==_0x58351d)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'width'),null;for(_0x1b2ab2=-0xa1c+-0x8d+0xaa9;_0x1b2ab2<0x2141+0x482*-0x1+0x1*-0x1cbb;++_0x1b2ab2)for(_0x11f95b=-0x31*-0xc7+0x1f62+-0x4579;_0x11f95b<_0x58351d;)if(_0x19631a=_0x4f85b5['readU8'](),_0x19631a>-0x1*0x1855+-0xc67+-0x253c*-0x1){if(_0x19631a-=0x145c+0x2*0x59a+0x1f1*-0x10,_0x11f95b+_0x19631a>_0x58351d)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x572d85=_0x4f85b5['readU8'](),_0x90fad5=0x1645*-0x1+-0x61*-0x65+-0x1000;_0x90fad5<_0x19631a;++_0x90fad5)_0x539626[_0x33cf54+_0x1b2ab2+(0xd*-0x8a+0x1658+-0xf52)*_0x11f95b++]=_0x572d85;}else{if(_0x19631a===-0x1dd+0xa21+-0x844||_0x11f95b+_0x19631a>_0x58351d)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x90fad5=0x1b*0xe9+-0x2266+0x9d3;_0x90fad5<_0x19631a;++_0x90fad5)_0x539626[_0x33cf54+_0x1b2ab2+(0x1*-0x44d+0x1*0x2294+-0x1e43)*_0x11f95b++]=_0x4f85b5['readU8']();}_0x33cf54+=_0x58351d*(0x1958+0x1450+-0x7f*0x5c)*(_0x50eda7?-0x1703+0x2389+-0xc85:-(-0x1*0x22ca+-0x5d*-0x13+0x1be4));}return _0x539626;}['_readPixel'+'sFlat'](_0x7a06d7,_0xe1a3b4,_0x56e229){return _0x7a06d7['remainingB'+'ytes']===_0xe1a3b4*_0x56e229*(-0x324*0x7+-0x1dad*0x1+0x33ad)?new Uint8Array(_0x7a06d7['arraybuffe'+'r'],_0x7a06d7['offset']):null;}}const TS={'repeat':yt,'clamp':ue,'mirror':ip},wS={'nearest':Te,'linear':vt,'nearest_mip_nearest':Kh,'linear_mip_nearest':Qh,'nearest_mip_linear':Zh,'linear_mip_linear':ma},aU={'default':Ds,'rgbm':Zi,'rgbe':mh,'rgbp':Qo,'swizzleGGGR':Jo},nU=function(_0x46df7c){const _0x13f54f=Xi['calcMipLev'+'elsCount'](_0x46df7c['_width'],_0x46df7c['_height']),_0x2d569a=function(_0x22fa97){return _0x22fa97 instanceof HTMLCanvasElement||_0x22fa97 instanceof HTMLImageElement||_0x22fa97 instanceof HTMLVideoElement;};if(!(_0x46df7c['_format']===Ne||_0x46df7c['_format']===Xt)||_0x46df7c['_volume']||_0x46df7c['_compresse'+'d']||_0x46df7c['_levels']['length']===0x1*0x2149+0x1b7a+0x457*-0xe||_0x46df7c['_levels']['length']===_0x13f54f||_0x2d569a(_0x46df7c['_cubemap']?_0x46df7c['_levels'][-0x8*0x293+-0x26cb+0x1*0x3b63][-0x26fa+0x4*-0x5c5+0x2*0x1f07]:_0x46df7c['_levels'][0x6c4+-0x2403+0x1d3f]))return;const _0x5a1006=function(_0x154914,_0x2ba5c7,_0x1b3dd2){const _0x34ade1=Math['max'](-0x453*-0x2+-0x2*0x118a+0x1*0x1a6f,_0x154914>>-0x15e9*-0x1+-0x2*0x1c4+0x188*-0xc),_0x52d25f=Math['max'](0xc9b*0x1+-0x2*-0xa10+-0x20ba,_0x2ba5c7>>-0x475+0x5fc+0xf*-0x1a),_0x10165d=new _0x1b3dd2['constructo'+'r'](_0x34ade1*_0x52d25f*(0x5b9*0x1+0x2*0x1187+-0x28c3*0x1)),_0x2cc0d2=Math['floor'](_0x154914/_0x34ade1),_0x1ad396=Math['floor'](_0x2ba5c7/_0x52d25f),_0xdcd496=_0x2cc0d2*_0x1ad396;for(let _0x4526ed=0x1*0x4dd+-0x1*-0x4a3+-0x980;_0x4526ed<_0x52d25f;++_0x4526ed)for(let _0x3c8385=-0xa30+0x11d8+-0x7a8;_0x3c8385<_0x34ade1;++_0x3c8385)for(let _0x42c46e=0x1*-0x23f9+0x3cf+-0x2e*-0xb3;_0x42c46e<-0x2309*-0x1+-0x25df+0x2da*0x1;++_0x42c46e){let _0x4c0095=-0xa6b+-0x190a*0x1+-0x139*-0x1d;for(let _0x2cc359=-0x2307+0x1fb2+0x355;_0x2cc359<_0x1ad396;++_0x2cc359)for(let _0x5b2a40=0x1fe1+-0x21*-0x7e+0x61*-0x7f;_0x5b2a40<_0x2cc0d2;++_0x5b2a40)_0x4c0095+=_0x1b3dd2[(_0x3c8385*_0x2cc0d2+_0x5b2a40+(_0x4526ed*_0x1ad396+_0x2cc359)*_0x154914)*(-0x1f45+0x293+0x4b*0x62)+_0x42c46e];_0x10165d[(_0x3c8385+_0x4526ed*_0x34ade1)*(0xd7*0x4+0x21*0xdb+-0x3b*0x89)+_0x42c46e]=_0x4c0095/_0xdcd496;}return _0x10165d;};for(let _0x4586ab=_0x46df7c['_levels']['length'];_0x4586ab<_0x13f54f;++_0x4586ab){const _0x180139=Math['max'](0xfd0+0x1b47+-0x5*0x89e,_0x46df7c['_width']>>_0x4586ab-(-0x5dd+0x124a+0x3*-0x424)),_0x58ff02=Math['max'](-0x9*0x174+-0x26f*-0x2+0x1*0x837,_0x46df7c['_height']>>_0x4586ab-(0x270d*-0x1+0x1e23+0x8eb));if(_0x46df7c['_cubemap']){const _0x472e77=[];for(let _0x2a928d=-0x305*0xb+0x3f*0x13+0x1c8a;_0x2a928d<-0x1a90+-0x7+0x1a9d;++_0x2a928d)_0x472e77['push'](_0x5a1006(_0x180139,_0x58ff02,_0x46df7c['_levels'][_0x4586ab-(-0xa*-0x7f+0x21b*-0x6+0x7ad)][_0x2a928d]));_0x46df7c['_levels']['push'](_0x472e77);}else _0x46df7c['_levels']['push'](_0x5a1006(_0x180139,_0x58ff02,_0x46df7c['_levels'][_0x4586ab-(0x1*0xf0b+-0x8cd+-0x63d)]));}_0x46df7c['_levelsUpd'+'ated']=_0x46df7c['_cubemap']?[[!(0x4a*0x26+-0x1*-0x2485+-0x1*0x2f81),!(0x867+-0x1bc5+0x135e*0x1),!(0xa93*-0x1+-0x1db6+0x2849),!(-0x2*0x9f5+-0x2*-0x118d+0x288*-0x6),!(0x2027*0x1+-0xab7*0x1+-0x1570),!(-0x1*0xa99+-0x718*-0x1+-0x1*-0x381)]]:[!(-0xbee+0x1ed1+-0x12e3)];};class oU extends Qe{constructor(_0x415898){super(_0x415898,'texture');const _0x4f2267=_0x415898['assets'],_0x1f0b08=_0x415898['graphicsDe'+'vice'];this['_device']=_0x1f0b08,this['_assets']=_0x4f2267,this['imgParser']=new Zk(_0x4f2267,_0x1f0b08),this['parsers']={'dds':new iU(_0x4f2267),'ktx':new eU(_0x4f2267),'ktx2':new sU(_0x4f2267,_0x1f0b08),'basis':new qk(_0x4f2267,_0x1f0b08),'hdr':new rU(_0x4f2267)};}set['crossOrigi'+'n'](_0xd148ce){this['imgParser']['crossOrigi'+'n']=_0xd148ce;}get['crossOrigi'+'n'](){return this['imgParser']['crossOrigi'+'n'];}set['maxRetries'](_0x108714){this['imgParser']['maxRetries']=_0x108714;for(const _0x19c357 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x19c357)&&(this['parsers'][_0x19c357]['maxRetries']=_0x108714);}get['maxRetries'](){return this['imgParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x4de6ec){return _0x4de6ec['indexOf']('?')>=0xd8e+0x340+-0x10ce?_0x4de6ec['split']('?')[0x1cb2+-0x33*0x33+-0x1289]:_0x4de6ec;}['_getParser'](_0x31d052){const _0x199d6e=xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x31d052))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x199d6e]||this['imgParser'];}['_getTextur'+'eOptions'](_0x50dda6){var _0x50ef12;const _0x2ee333={'profilerHint':Pr};if(_0x50dda6){((_0x50ef12=_0x50dda6['name'])==null?void(-0x217*-0x2+0x7c3*0x5+-0x9b*0x47):_0x50ef12['length'])>0x59b+-0x6cf+0x134&&(_0x2ee333['name']=_0x50dda6['name']);const _0x149e29=_0x50dda6['data'];_0x149e29['hasOwnProp'+'erty']('minfilter')&&(_0x2ee333['minFilter']=wS[_0x149e29['minfilter']]),_0x149e29['hasOwnProp'+'erty']('magfilter')&&(_0x2ee333['magFilter']=wS[_0x149e29['magfilter']]),_0x149e29['hasOwnProp'+'erty']('addressu')&&(_0x2ee333['addressU']=TS[_0x149e29['addressu']]),_0x149e29['hasOwnProp'+'erty']('addressv')&&(_0x2ee333['addressV']=TS[_0x149e29['addressv']]),_0x149e29['hasOwnProp'+'erty']('mipmaps')&&(_0x2ee333['mipmaps']=_0x149e29['mipmaps']),_0x149e29['hasOwnProp'+'erty']('anisotropy')&&(_0x2ee333['anisotropy']=_0x149e29['anisotropy']),_0x149e29['hasOwnProp'+'erty']('flipY')&&(_0x2ee333['flipY']=!!_0x149e29['flipY']),_0x149e29['hasOwnProp'+'erty']('srgb')&&(_0x2ee333['srgb']=!!_0x149e29['srgb']),_0x2ee333['type']=Ds,_0x149e29['hasOwnProp'+'erty']('type')?_0x2ee333['type']=aU[_0x149e29['type']]:_0x149e29['hasOwnProp'+'erty']('rgbm')&&_0x149e29['rgbm']?_0x2ee333['type']=Zi:_0x50dda6['file']&&(_0x50dda6['file']['opt']&0x5b7+-0xb*0xb8+0x239)!==0x266d+0x873+-0x2ee0&&(_0x2ee333['type']=Jo);}return _0x2ee333;}['load'](_0x1d1abe,_0x4d6ff4,_0x45fa0c){typeof _0x1d1abe=='string'&&(_0x1d1abe={'load':_0x1d1abe,'original':_0x1d1abe}),this['_getParser'](_0x1d1abe['original'])['load'](_0x1d1abe,_0x4d6ff4,_0x45fa0c);}['open'](_0x2e7eb2,_0x5c4896,_0x34a6c0){if(!_0x2e7eb2)return;const _0x42ee29=this['_getTextur'+'eOptions'](_0x34a6c0);let _0x325353=this['_getParser'](_0x2e7eb2)['open'](_0x2e7eb2,_0x5c4896,this['_device'],_0x42ee29);return _0x325353===null?_0x325353=new _e(this['_device'],{'width':0x4,'height':0x4,'format':Cr}):(nU(_0x325353),_0x5c4896['unswizzled'+'GGGR']&&(_0x34a6c0['file']['variants']['basis']['opt']&=-(-0xf89+-0x2f3*0x4+0x1b5e))),_0x325353;}['patch'](_0x215ed7,_0x1e458f){const _0x1ca810=_0x215ed7['resource'];if(!_0x1ca810)return;const _0x785e39=this['_getTextur'+'eOptions'](_0x215ed7);for(const _0x488421 of Object['keys'](_0x785e39))_0x1ca810[_0x488421]=_0x785e39[_0x488421];}}const lU='inline',cU='immersive-'+'vr',$o='immersive-'+'ar',ES='viewer',hU='left',dU='cpu-optimi'+'zed',P0='gpu-optimi'+'zed',M0='luminance-'+'alpha',D0='unsigned-s'+'hort',I0='float32';class fU{constructor(_0x1ba102){h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRDOMOverl'+'ayState']),h(this,'_root',null),this['_manager']=_0x1ba102;}get['supported'](){return this['_supported'];}get['available'](){return this['_supported']&&this['_manager']['active']&&this['_manager']['_session']['domOverlay'+'State']!==null;}get['state'](){return!this['_supported']||!this['_manager']['active']||!this['_manager']['_session']['domOverlay'+'State']?null:this['_manager']['_session']['domOverlay'+'State']['type'];}set['root'](_0x1117e7){!this['_supported']||this['_manager']['active']||(this['_root']=_0x1117e7);}get['root'](){return this['_root'];}}const Rc=[],bS=[];class ju extends me{constructor(_0x2c6bfc,_0x4efd1b,_0x10d6f7,_0x906569=null){super(),h(this,'manager'),h(this,'_xrHitTest'+'Source'),h(this,'_transient'),h(this,'_inputSour'+'ce'),(this['manager']=_0x2c6bfc,this['_xrHitTest'+'Source']=_0x4efd1b,this['_transient']=_0x10d6f7,this['_inputSour'+'ce']=_0x906569);}['remove'](){if(!this['_xrHitTest'+'Source'])return;const _0x2dced4=this['manager']['hitTest']['sources'],_0x5dc70f=_0x2dced4['indexOf'](this);_0x5dc70f!==-(-0x1e1+-0x1e65+-0x1*-0x2047)&&_0x2dced4['splice'](_0x5dc70f,0x2*-0xa7b+0x85d+0xc9a),this['onStop']();}['onStop'](){this['_xrHitTest'+'Source']['cancel'](),this['_xrHitTest'+'Source']=null,this['fire']('remove'),this['manager']['hitTest']['fire']('remove',this);}['update'](_0x1b13fd){if(this['_transient']){const _0x3c97ab=_0x1b13fd['getHitTest'+'ResultsFor'+'TransientI'+'nput'](this['_xrHitTest'+'Source']);for(let _0x1f4360=-0x818+0x86c+-0x54;_0x1f4360<_0x3c97ab['length'];_0x1f4360++){const _0xb88ef5=_0x3c97ab[_0x1f4360];if(!_0xb88ef5['results']['length'])continue;let _0x2fa193;_0xb88ef5['inputSourc'+'e']&&(_0x2fa193=this['manager']['input']['_getByInpu'+'tSource'](_0xb88ef5['inputSourc'+'e'])),this['updateHitR'+'esults'](_0xb88ef5['results'],_0x2fa193);}}else{const _0x3d6edb=_0x1b13fd['getHitTest'+'Results'](this['_xrHitTest'+'Source']);if(!_0x3d6edb['length'])return;this['updateHitR'+'esults'](_0x3d6edb);}}['updateHitR'+'esults'](_0x1da42d,_0x49d09d){if(this['_inputSour'+'ce']&&this['_inputSour'+'ce']!==_0x49d09d)return;const _0x5004ec=Rc['pop']()??new D();_0x49d09d?_0x5004ec['copy'](_0x49d09d['getOrigin']()):_0x5004ec['copy'](this['manager']['camera']['getPositio'+'n']());let _0x3f1f76=(0x1700+-0x29*0x89+-0x36*0x5)/(-0x7*0x3da+-0x21b1+0x3ca7),_0x276632=null;const _0x4fa443=Rc['pop']()??new D(),_0x3926da=bS['pop']()??new le();for(let _0x4a802a=-0xf0f+-0x7*0x1b1+-0x1ae6*-0x1;_0x4a802a<_0x1da42d['length'];_0x4a802a++){const _0x23c3b3=_0x1da42d[_0x4a802a]['getPose'](this['manager']['_reference'+'Space']),_0x4a63a0=_0x5004ec['distance'](_0x23c3b3['transform']['position']);_0x4a63a0>=_0x3f1f76||(_0x3f1f76=_0x4a63a0,_0x276632=_0x1da42d[_0x4a802a],_0x4fa443['copy'](_0x23c3b3['transform']['position']),_0x3926da['copy'](_0x23c3b3['transform']['orientatio'+'n']));}this['fire']('result',_0x4fa443,_0x3926da,_0x49d09d||this['_inputSour'+'ce'],_0x276632),this['manager']['hitTest']['fire']('result',this,_0x4fa443,_0x3926da,_0x49d09d||this['_inputSour'+'ce'],_0x276632),Rc['push'](_0x5004ec),Rc['push'](_0x4fa443),bS['push'](_0x3926da);}}h(ju,'EVENT_REMO'+'VE','remove'),h(ju,'EVENT_RESU'+'LT','result');class jr extends me{constructor(_0x2f6be1){super(),h(this,'manager'),h(this,'_supported',Ae['browser']&&!!(window['XRSession']&&window['XRSession']['prototype']['requestHit'+'TestSource'])),h(this,'_available',!(-0x2415+0x2588+-0x5*0x4a)),h(this,'_checkingA'+'vailabilit'+'y',!(0x2584+-0xf97+-0x15ec)),h(this,'sources',[]),(this['manager']=_0x2f6be1,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){if(this['manager']['session']['enabledFea'+'tures']){const _0x569c7e=this['manager']['session']['enabledFea'+'tures']['indexOf']('hit-test')!==-(-0x2030+0x835*0x1+-0x2*-0xbfe);if(!_0x569c7e)return;this['_available']=_0x569c7e,this['fire']('available');}else this['_checkingA'+'vailabilit'+'y']||(this['_checkingA'+'vailabilit'+'y']=!(-0x1*-0x1183+-0x281+-0x781*0x2),this['manager']['session']['requestRef'+'erenceSpac'+'e'](ES)['then'](_0x588de2=>{this['manager']['session']['requestHit'+'TestSource']({'space':_0x588de2})['then'](_0x1afe9f=>{_0x1afe9f['cancel'](),this['manager']['active']&&(this['_available']=!(0x3c*0x6a+-0x4d0*-0x5+-0x30e8),this['fire']('available'));})['catch'](()=>{});})['catch'](()=>{}));}['_onSession'+'End'](){if(this['_available']){this['_available']=!(-0x186a+0x25f5*-0x1+0x3e60);for(let _0x1c60f0=0x79f*-0x2+-0x1*0x20ab+0x2fe9;_0x1c60f0<this['sources']['length'];_0x1c60f0++)this['sources'][_0x1c60f0]['onStop']();this['sources']=[],this['fire']('unavailabl'+'e');}}['start'](_0x258dd6={}){var _0x26851e,_0x5dc1bc;if(!this['_supported']){(_0x26851e=_0x258dd6['callback'])==null||_0x26851e['call'](_0x258dd6,new Error('XR\x20HitTest'+'\x20is\x20not\x20su'+'pported'),null);return;}if(!this['_available']){(_0x5dc1bc=_0x258dd6['callback'])==null||_0x5dc1bc['call'](_0x258dd6,new Error('XR\x20HitTest'+'\x20is\x20not\x20av'+'ailable'),null);return;}!_0x258dd6['profile']&&!_0x258dd6['spaceType']&&(_0x258dd6['spaceType']=ES);let _0x421d73;const _0x3746b8=_0x258dd6['offsetRay'];if(_0x3746b8){const _0x495f5b=new DOMPoint(_0x3746b8['origin']['x'],_0x3746b8['origin']['y'],_0x3746b8['origin']['z'],0x175d+0xb*-0x34b+0xcdd),_0x258c84=new DOMPoint(_0x3746b8['direction']['x'],_0x3746b8['direction']['y'],_0x3746b8['direction']['z'],0x2377+-0x15b*-0x16+0x15c3*-0x3);_0x421d73=new XRRay(_0x495f5b,_0x258c84);}const _0x1e715a=_0x258dd6['callback'];_0x258dd6['spaceType']?this['manager']['session']['requestRef'+'erenceSpac'+'e'](_0x258dd6['spaceType'])['then'](_0x57d56f=>{if(!this['manager']['session']){const _0x19552f=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(2)');_0x1e715a&&_0x1e715a(_0x19552f),this['fire']('error',_0x19552f);return;}this['manager']['session']['requestHit'+'TestSource']({'space':_0x57d56f,'entityTypes':_0x258dd6['entityType'+'s']||void(-0x5*0x63f+-0x1358+0xb*0x499),'offsetRay':_0x421d73})['then'](_0x13ba4c=>{this['_onHitTest'+'Source'](_0x13ba4c,!(0x2185*0x1+0x2303+-0x4487),_0x258dd6['inputSourc'+'e'],_0x1e715a);})['catch'](_0x1f2d41=>{_0x1e715a&&_0x1e715a(_0x1f2d41),this['fire']('error',_0x1f2d41);});})['catch'](_0x5e66b1=>{_0x1e715a&&_0x1e715a(_0x5e66b1),this['fire']('error',_0x5e66b1);}):this['manager']['session']['requestHit'+'TestSource'+'ForTransie'+'ntInput']({'profile':_0x258dd6['profile'],'entityTypes':_0x258dd6['entityType'+'s']||void(-0x1c36+0x117*-0xc+0x294a),'offsetRay':_0x421d73})['then'](_0x2f06b2=>{this['_onHitTest'+'Source'](_0x2f06b2,!(-0x4*0x493+-0x5*0x351+0x22e1),_0x258dd6['inputSourc'+'e'],_0x1e715a);})['catch'](_0x977962=>{_0x1e715a&&_0x1e715a(_0x977962),this['fire']('error',_0x977962);});}['_onHitTest'+'Source'](_0x1e1826,_0x52f69d,_0x25cf55,_0x1d0386){if(!this['manager']['session']){_0x1e1826['cancel']();const _0xcc2e72=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(3)');_0x1d0386&&_0x1d0386(_0xcc2e72),this['fire']('error',_0xcc2e72);return;}const _0x3e521d=new ju(this['manager'],_0x1e1826,_0x52f69d,_0x25cf55??null);this['sources']['push'](_0x3e521d),_0x1d0386&&_0x1d0386(null,_0x3e521d),this['fire']('add',_0x3e521d);}['update'](_0x4f6b54){if(this['_available']){for(let _0x57d377=0x8*-0x2a1+0x12e*0x13+-0x162;_0x57d377<this['sources']['length'];_0x57d377++)this['sources'][_0x57d377]['update'](_0x4f6b54);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}}h(jr,'EVENT_AVAI'+'LABLE','available'),h(jr,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(jr,'EVENT_ADD','add'),h(jr,'EVENT_REMO'+'VE','remove'),h(jr,'EVENT_RESU'+'LT','result'),h(jr,'EVENT_ERRO'+'R','error');class Yu extends me{constructor(_0x49ca94,_0x461d7f){super(),h(this,'_image'),h(this,'_width'),h(this,'_bitmap',null),h(this,'_measuredW'+'idth',-0xad8+0x20f6+0x12a*-0x13),h(this,'_trackable',!(-0x10f*-0x17+-0x15b*-0x18+0x1c*-0x208)),h(this,'_tracking',!(-0x12*-0x94+-0x46+-0xa21)),h(this,'_emulated',!(0x1006*-0x1+-0x1111+0x846*0x4)),h(this,'_pose',null),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_image']=_0x49ca94,this['_width']=_0x461d7f);}get['image'](){return this['_image'];}set['width'](_0x58c48a){this['_width']=_0x58c48a;}get['width'](){return this['_width'];}get['trackable'](){return this['_trackable'];}get['tracking'](){return this['_tracking'];}get['emulated'](){return this['_emulated'];}['prepare'](){return this['_bitmap']?{'image':this['_bitmap'],'widthInMeters':this['_width']}:createImageBitmap(this['_image'])['then'](_0x1c086f=>(this['_bitmap']=_0x1c086f,{'image':this['_bitmap'],'widthInMeters':this['_width']}));}['destroy'](){this['_image']=null,this['_pose']=null,this['_bitmap']&&(this['_bitmap']['close'](),this['_bitmap']=null);}['getPositio'+'n'](){return this['_pose']&&this['_position']['copy'](this['_pose']['transform']['position']),this['_position'];}['getRotatio'+'n'](){return this['_pose']&&this['_rotation']['copy'](this['_pose']['transform']['orientatio'+'n']),this['_rotation'];}}h(Yu,'EVENT_TRAC'+'KED','tracked'),h(Yu,'EVENT_UNTR'+'ACKED','untracked');class L0 extends me{constructor(_0x19d139){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRImageTra'+'ckingResul'+'t']),h(this,'_available',!(-0xf3+0x1*-0x1aeb+0x1bdf)),h(this,'_images',[]),(this['_manager']=_0x19d139,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['add'](_0x25f887,_0x5f2d8f){if(!this['_supported']||this['_manager']['active'])return null;const _0x47b9af=new Yu(_0x25f887,_0x5f2d8f);return this['_images']['push'](_0x47b9af),_0x47b9af;}['remove'](_0x54674c){if(this['_manager']['active'])return;const _0x588119=this['_images']['indexOf'](_0x54674c);_0x588119!==-(-0x2401+-0x1984*0x1+0x3d86)&&(_0x54674c['destroy'](),this['_images']['splice'](_0x588119,-0x20b9+-0x137+0x21f1));}['_onSession'+'Start'](){this['_manager']['session']['getTracked'+'ImageScore'+'s']()['then'](_0x48097e=>{this['_available']=!(-0x1e23+-0x2541+-0x13*-0x38c);for(let _0x4afe7c=0x1*0x1b3d+0x1e3f+-0x397c;_0x4afe7c<_0x48097e['length'];_0x4afe7c++)this['_images'][_0x4afe7c]['_trackable']=_0x48097e[_0x4afe7c]==='trackable';})['catch'](_0x2cd935=>{this['_available']=!(0xd46+0x132*0x10+-0x2065),this['fire']('error',_0x2cd935);});}['_onSession'+'End'](){this['_available']=!(0x43b+-0x50d*0x1+0xd3);for(let _0x4afec3=-0x1*0x155f+-0xe99+-0x8*-0x47f;_0x4afec3<this['_images']['length'];_0x4afec3++){const _0x5023e2=this['_images'][_0x4afec3];_0x5023e2['_pose']=null,_0x5023e2['_measuredW'+'idth']=0x3*0x19b+-0x1*0x1cff+0x182e,_0x5023e2['_tracking']&&(_0x5023e2['_tracking']=!(0x20d3+0x1142+-0x3214),_0x5023e2['fire']('untracked'));}}['prepareIma'+'ges'](_0x3b3299){this['_images']['length']?Promise['all'](this['_images']['map'](_0x14324f=>_0x14324f['prepare']()))['then'](_0x484f83=>{_0x3b3299(null,_0x484f83);})['catch'](_0x4ee56b=>{_0x3b3299(_0x4ee56b,null);}):_0x3b3299(null,null);}['update'](_0x2e424a){if(!this['_available'])return;const _0x1ad6d4=_0x2e424a['getImageTr'+'ackingResu'+'lts'](),_0x32e3ed={};for(let _0x3aafe1=-0x1*-0x16f7+-0xba7+-0xb50;_0x3aafe1<_0x1ad6d4['length'];_0x3aafe1++){_0x32e3ed[_0x1ad6d4[_0x3aafe1]['index']]=_0x1ad6d4[_0x3aafe1];const _0xe061d4=this['_images'][_0x1ad6d4[_0x3aafe1]['index']];_0xe061d4['_emulated']=_0x1ad6d4[_0x3aafe1]['trackingSt'+'ate']==='emulated',_0xe061d4['_measuredW'+'idth']=_0x1ad6d4[_0x3aafe1]['measuredWi'+'dthInMeter'+'s'],_0xe061d4['_pose']=_0x2e424a['getPose'](_0x1ad6d4[_0x3aafe1]['imageSpace'],this['_manager']['_reference'+'Space']);}for(let _0x41f45e=-0x13c1+0x457*0x2+-0x51*-0x23;_0x41f45e<this['_images']['length'];_0x41f45e++)this['_images'][_0x41f45e]['_tracking']&&!_0x32e3ed[_0x41f45e]?(this['_images'][_0x41f45e]['_tracking']=!(0x1011+-0xd*0x4a+-0xc4e),this['_images'][_0x41f45e]['fire']('untracked')):!this['_images'][_0x41f45e]['_tracking']&&_0x32e3ed[_0x41f45e]&&(this['_images'][_0x41f45e]['_tracking']=!(0x1d79+0x2*0xc30+-0x35d9),this['_images'][_0x41f45e]['fire']('tracked'));}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['images'](){return this['_images'];}}h(L0,'EVENT_ERRO'+'R','error');class uU{constructor(_0x31dbd9,_0x37dea5){h(this,'_index'),h(this,'_hand'),h(this,'_joints',[]),h(this,'_tip',null),(this['_index']=_0x31dbd9,this['_hand']=_0x37dea5,this['_hand']['_fingers']['push'](this));}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['joints'](){return this['_joints'];}get['tip'](){return this['_tip'];}}const AS=Ae['browser']&&window['XRHand']?['thumb-tip','index-fing'+'er-tip','middle-fin'+'ger-tip','ring-finge'+'r-tip','pinky-fing'+'er-tip']:[],R0={};for(let l=-0x1*-0x1de7+0x2597*0x1+-0x437e;l<AS['length'];l++)R0[AS[l]]=!(0x222f*-0x1+0x1ca7+0x76*0xc);class CS{constructor(_0x14a6f4,_0x569331,_0x3b1f51,_0x1f07ca=null){h(this,'_index'),h(this,'_id'),h(this,'_hand'),h(this,'_finger'),h(this,'_wrist'),h(this,'_tip'),h(this,'_radius',null),h(this,'_localTran'+'sform',new te()),h(this,'_worldTran'+'sform',new te()),h(this,'_localPosi'+'tion',new D()),h(this,'_localRota'+'tion',new le()),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_dirtyLoca'+'l',!(0x623*-0x6+-0x112c*0x1+0x35fe)),(this['_index']=_0x14a6f4,this['_id']=_0x569331,this['_hand']=_0x3b1f51,this['_finger']=_0x1f07ca,this['_wrist']=_0x569331==='wrist',this['_tip']=this['_finger']&&!!R0[_0x569331]);}['update'](_0x470612){this['_dirtyLoca'+'l']=!(-0x139*0x1f+0x11b+0x24cc),this['_radius']=_0x470612['radius'],this['_localPosi'+'tion']['copy'](_0x470612['transform']['position']),this['_localRota'+'tion']['copy'](_0x470612['transform']['orientatio'+'n']);}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0xe6c+-0x268e+0x9*0x5e3),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],D['ONE']));const _0x44f0b8=this['_hand']['_manager']['camera']['parent'];_0x44f0b8?this['_worldTran'+'sform']['mul2'](_0x44f0b8['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['getPositio'+'n'](){return this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position'];}['getRotatio'+'n'](){return this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation'];}get['id'](){return this['_id'];}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['finger'](){return this['_finger'];}get['wrist'](){return this['_wrist'];}get['tip'](){return this['_tip'];}get['radius'](){return this['_radius']||0x8b0+-0x12f4+0xa44+0.005;}}let rh=[];const Wr=new D(),Oc=new D(),PS=new D();Ae['browser']&&window['XRHand']&&(rh=[['thumb-meta'+'carpal','thumb-phal'+'anx-proxim'+'al','thumb-phal'+'anx-distal','thumb-tip'],['index-fing'+'er-metacar'+'pal','index-fing'+'er-phalanx'+'-proximal','index-fing'+'er-phalanx'+'-intermedi'+'ate','index-fing'+'er-phalanx'+'-distal','index-fing'+'er-tip'],['middle-fin'+'ger-metaca'+'rpal','middle-fin'+'ger-phalan'+'x-proximal','middle-fin'+'ger-phalan'+'x-intermed'+'iate','middle-fin'+'ger-phalan'+'x-distal','middle-fin'+'ger-tip'],['ring-finge'+'r-metacarp'+'al','ring-finge'+'r-phalanx-'+'proximal','ring-finge'+'r-phalanx-'+'intermedia'+'te','ring-finge'+'r-phalanx-'+'distal','ring-finge'+'r-tip'],['pinky-fing'+'er-metacar'+'pal','pinky-fing'+'er-phalanx'+'-proximal','pinky-fing'+'er-phalanx'+'-intermedi'+'ate','pinky-fing'+'er-phalanx'+'-distal','pinky-fing'+'er-tip']]);class Ku extends me{constructor(_0x13ca68){super(),h(this,'_manager'),h(this,'_inputSour'+'ce'),h(this,'_tracking',!(0x174f+-0x1062+0x6ec*-0x1)),h(this,'_fingers',[]),h(this,'_joints',[]),h(this,'_jointsByI'+'d',{}),h(this,'_tips',[]),h(this,'_wrist',null);const _0x425e6b=_0x13ca68['_xrInputSo'+'urce']['hand'];if(this['_manager']=_0x13ca68['_manager'],this['_inputSour'+'ce']=_0x13ca68,_0x425e6b['get']('wrist')){const _0x1c761d=new CS(-0x72+-0x13*0x30+-0x201*-0x2,'wrist',this,null);this['_wrist']=_0x1c761d,this['_joints']['push'](_0x1c761d),this['_jointsByI'+'d']['wrist']=_0x1c761d;}for(let _0x131aba=0x120e*0x1+-0x1*-0x8db+-0x1ae9*0x1;_0x131aba<rh['length'];_0x131aba++){const _0x4b873d=new uU(_0x131aba,this);for(let _0x2c5b6a=0x23b2+0x174*-0x18+0x1*-0xd2;_0x2c5b6a<rh[_0x131aba]['length'];_0x2c5b6a++){const _0x383e87=rh[_0x131aba][_0x2c5b6a];if(!_0x425e6b['get'](_0x383e87))continue;const _0x3df236=new CS(_0x2c5b6a,_0x383e87,this,_0x4b873d);this['_joints']['push'](_0x3df236),this['_jointsByI'+'d'][_0x383e87]=_0x3df236,_0x3df236['tip']&&(this['_tips']['push'](_0x3df236),_0x4b873d['_tip']=_0x3df236),_0x4b873d['_joints']['push'](_0x3df236);}}}['update'](_0x53bfad){const _0x196297=this['_inputSour'+'ce']['_xrInputSo'+'urce'];for(let _0x4b36bd=0x3f1*0x6+0x1*0x6e3+-0x1*0x1e89;_0x4b36bd<this['_joints']['length'];_0x4b36bd++){const _0x4ddb59=this['_joints'][_0x4b36bd],_0x272cfa=_0x196297['hand']['get'](_0x4ddb59['_id']);if(_0x272cfa){let _0x3db0e3;if(_0x53bfad['session']['visibility'+'State']!=='hidden'&&(_0x3db0e3=_0x53bfad['getJointPo'+'se'](_0x272cfa,this['_manager']['_reference'+'Space'])),_0x3db0e3)_0x4ddb59['update'](_0x3db0e3),_0x4ddb59['wrist']&&!this['_tracking']&&(this['_tracking']=!(-0x6*-0x10f+-0x2ba*-0x4+-0x1142),this['fire']('tracking'));else{if(_0x4ddb59['wrist']){this['_tracking']&&(this['_tracking']=!(0x5e9+-0x1*-0x1831+-0x1e19*0x1),this['fire']('trackinglo'+'st'));break;}}}}const _0xb15e89=this['_jointsByI'+'d']['thumb-meta'+'carpal'],_0x3ca1d0=this['_jointsByI'+'d']['thumb-tip'],_0x10867a=this['_jointsByI'+'d']['index-fing'+'er-phalanx'+'-proximal'],_0x314245=this['_jointsByI'+'d']['index-fing'+'er-tip'],_0x545103=this['_jointsByI'+'d']['ring-finge'+'r-phalanx-'+'proximal'],_0x50595f=this['_jointsByI'+'d']['pinky-fing'+'er-phalanx'+'-proximal'];if(_0xb15e89&&_0x3ca1d0&&_0x10867a&&_0x314245&&_0x545103&&_0x50595f){this['_inputSour'+'ce']['_dirtyRay']=!(0x98b*-0x2+-0xdac+0x20c2),this['_inputSour'+'ce']['_rayLocal']['origin']['lerp'](_0x3ca1d0['_localPosi'+'tion'],_0x314245['_localPosi'+'tion'],-0x2a0*-0x7+0xc5*-0x17+-0xad+0.5);let _0x36ca48=_0xb15e89,_0x42d625=_0x50595f;if(this['_inputSour'+'ce']['handedness']===hU){const _0x5e6551=_0x36ca48;_0x36ca48=_0x42d625,_0x42d625=_0x5e6551;}Wr['sub2'](_0x36ca48['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),Oc['sub2'](_0x42d625['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),PS['cross'](Wr,Oc)['normalize'](),Wr['lerp'](_0x10867a['_localPosi'+'tion'],_0x545103['_localPosi'+'tion'],-0x47*-0x68+-0x14f0*0x1+0x16*-0x5c+0.5),Wr['sub'](this['_wrist']['_localPosi'+'tion'])['normalize'](),this['_inputSour'+'ce']['_rayLocal']['direction']['lerp'](PS,Wr,-0x737*-0x3+0xaad+-0x2052+0.5)['normalize']();}this['_fingerIsC'+'losed'](-0x23*-0x4+0x1af0+-0x57f*0x5)&&this['_fingerIsC'+'losed'](0x1d46+-0xa85+-0x12bf*0x1)&&this['_fingerIsC'+'losed'](-0x1f0+0x1*-0x10aa+-0x129d*-0x1)&&this['_fingerIsC'+'losed'](0xe9b*0x2+0x4*-0x495+0xd6*-0xd)?this['_inputSour'+'ce']['_squeezing']||(this['_inputSour'+'ce']['_squeezing']=!(0x18af+0x13d1+0x2c80*-0x1),this['_inputSour'+'ce']['fire']('squeezesta'+'rt'),this['_manager']['input']['fire']('squeezesta'+'rt',this['_inputSour'+'ce'])):this['_inputSour'+'ce']['_squeezing']&&(this['_inputSour'+'ce']['_squeezing']=!(-0xa7f+0xb7b+-0xfb),this['_inputSour'+'ce']['fire']('squeeze'),this['_manager']['input']['fire']('squeeze',this['_inputSour'+'ce']),this['_inputSour'+'ce']['fire']('squeezeend'),this['_manager']['input']['fire']('squeezeend',this['_inputSour'+'ce']));}['_fingerIsC'+'losed'](_0x4127f0){const _0x4544b5=this['_fingers'][_0x4127f0];return Wr['sub2'](_0x4544b5['joints'][-0x1*-0x13ba+-0x196d+0x5b3]['_localPosi'+'tion'],_0x4544b5['joints'][0x8*-0x2e6+0x3e0+-0x5*-0x3dd]['_localPosi'+'tion'])['normalize'](),Oc['sub2'](_0x4544b5['joints'][0x1f7e+0x13*-0xdf+0x1*-0xeef]['_localPosi'+'tion'],_0x4544b5['joints'][0xaa9*0x3+-0x2386+0xd*0x46]['_localPosi'+'tion'])['normalize'](),Wr['dot'](Oc)<-(0x1*-0x10d7+-0x15cd+0x1*0x26a4+0.8);}['getJointBy'+'Id'](_0x53d8b8){return this['_jointsByI'+'d'][_0x53d8b8]||null;}get['fingers'](){return this['_fingers'];}get['joints'](){return this['_joints'];}get['tips'](){return this['_tips'];}get['wrist'](){return this['_wrist'];}get['tracking'](){return this['_tracking'];}}h(Ku,'EVENT_TRAC'+'KING','tracking'),h(Ku,'EVENT_TRAC'+'KINGLOST','trackinglo'+'st');const MS=new D(),DS=new le();let pU=0x27*-0x56+0x1*-0x17f5+-0x250f*-0x1;class Qt extends me{constructor(_0x55bb13,_0x5c02dd){super(),h(this,'_id'),h(this,'_manager'),h(this,'_xrInputSo'+'urce'),h(this,'_ray',new Dn()),h(this,'_rayLocal',new Dn()),h(this,'_grip',!(0x1*0x6af+-0x8dd*-0x3+0x2145*-0x1)),h(this,'_hand',null),h(this,'_velocitie'+'sAvailable',!(0x213d+-0xd*-0x28f+-0x427f*0x1)),h(this,'_velocitie'+'sTimestamp',de()),h(this,'_localTran'+'sform',null),h(this,'_worldTran'+'sform',null),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_localPosi'+'tion',null),h(this,'_localPosi'+'tionLast',null),h(this,'_localRota'+'tion',null),h(this,'_linearVel'+'ocity',null),h(this,'_dirtyLoca'+'l',!(-0xf05+0x1f42*0x1+-0x103d)),h(this,'_dirtyRay',!(0x2*-0x26a+-0x1*-0x8cb+-0x152*0x3)),h(this,'_selecting',!(0x1ce+-0xb5*-0x2b+0x55e*-0x6)),h(this,'_squeezing',!(-0x715+0x12f*-0x9+-0x13*-0xef)),h(this,'_elementIn'+'put',!(-0x2*-0xc34+-0x1809+-0x5f)),h(this,'_elementEn'+'tity',null),h(this,'_hitTestSo'+'urces',[]),(this['_id']=++pU,this['_manager']=_0x55bb13,this['_xrInputSo'+'urce']=_0x5c02dd,_0x5c02dd['hand']&&(this['_hand']=new Ku(this)));}get['id'](){return this['_id'];}get['inputSourc'+'e'](){return this['_xrInputSo'+'urce'];}get['targetRayM'+'ode'](){return this['_xrInputSo'+'urce']['targetRayM'+'ode'];}get['handedness'](){return this['_xrInputSo'+'urce']['handedness'];}get['profiles'](){return this['_xrInputSo'+'urce']['profiles'];}get['grip'](){return this['_grip'];}get['hand'](){return this['_hand'];}get['gamepad'](){return this['_xrInputSo'+'urce']['gamepad']||null;}get['selecting'](){return this['_selecting'];}get['squeezing'](){return this['_squeezing'];}set['elementInp'+'ut'](_0x2f77e8){this['_elementIn'+'put']!==_0x2f77e8&&(this['_elementIn'+'put']=_0x2f77e8,this['_elementIn'+'put']||(this['_elementEn'+'tity']=null));}get['elementInp'+'ut'](){return this['_elementIn'+'put'];}get['elementEnt'+'ity'](){return this['_elementEn'+'tity'];}get['hitTestSou'+'rces'](){return this['_hitTestSo'+'urces'];}['update'](_0x45b70a){if(this['_hand'])this['_hand']['update'](_0x45b70a);else{const _0x5eb02a=this['_xrInputSo'+'urce']['gripSpace'];if(_0x5eb02a){const _0x397bbc=_0x45b70a['getPose'](_0x5eb02a,this['_manager']['_reference'+'Space']);if(_0x397bbc){this['_grip']||(this['_grip']=!(0x72*0x7+-0x18a4+-0x44e*-0x5),this['_localTran'+'sform']=new te(),this['_worldTran'+'sform']=new te(),this['_localPosi'+'tionLast']=new D(),this['_localPosi'+'tion']=new D(),this['_localRota'+'tion']=new le(),this['_linearVel'+'ocity']=new D());const _0x40630e=de(),_0x13945b=(_0x40630e-this['_velocitie'+'sTimestamp'])/(0x3fa*-0x8+-0x264c+0x4a04);this['_velocitie'+'sTimestamp']=_0x40630e,this['_dirtyLoca'+'l']=!(0x2f*0x8f+0x23*0x39+0x4*-0x883),this['_localPosi'+'tionLast']['copy'](this['_localPosi'+'tion']),this['_localPosi'+'tion']['copy'](_0x397bbc['transform']['position']),this['_localRota'+'tion']['copy'](_0x397bbc['transform']['orientatio'+'n']),this['_velocitie'+'sAvailable']=!(-0x1f7b+0xfc3+0xfb8),this['_manager']['input']['velocities'+'Supported']&&_0x397bbc['linearVelo'+'city']?this['_linearVel'+'ocity']['copy'](_0x397bbc['linearVelo'+'city']):_0x13945b>-0x27*-0xb3+0x1661+-0x31a6&&(MS['sub2'](this['_localPosi'+'tion'],this['_localPosi'+'tionLast'])['divScalar'](_0x13945b),this['_linearVel'+'ocity']['lerp'](this['_linearVel'+'ocity'],MS,-0x6*-0x2c3+0xb51*-0x3+-0x5cb*-0x3+0.15));}else this['_velocitie'+'sAvailable']=!(-0x36*0x94+-0x19b0+0x38e9);}const _0x10542e=_0x45b70a['getPose'](this['_xrInputSo'+'urce']['targetRayS'+'pace'],this['_manager']['_reference'+'Space']);_0x10542e&&(this['_dirtyRay']=!(0x2440+0x3*-0x1b7+0x1f1b*-0x1),this['_rayLocal']['origin']['copy'](_0x10542e['transform']['position']),this['_rayLocal']['direction']['set'](-0xe5*-0xf+-0xe86+0x1*0x11b,-0x3+-0x174e+0x1751,-(-0xf20+-0x394*-0x5+0x7*-0x65)),DS['copy'](_0x10542e['transform']['orientatio'+'n']),DS['transformV'+'ector'](this['_rayLocal']['direction'],this['_rayLocal']['direction']));}}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(0x6e2+-0x1fc+-0x4e5),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],D['ONE']));const _0x142034=this['_manager']['camera']['parent'];_0x142034?this['_worldTran'+'sform']['mul2'](_0x142034['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['_updateRay'+'Transforms'](){const _0x3673de=this['_dirtyRay'];if(this['_dirtyRay']=!(0x1eee+0x1b8a+-0x3a77),this['_manager']['camera']['parent']){const _0x50dc81=this['_manager']['camera']['parent']['getWorldTr'+'ansform']();_0x50dc81['getTransla'+'tion'](this['_position']),this['_rotation']['setFromMat'+'4'](_0x50dc81),this['_rotation']['transformV'+'ector'](this['_rayLocal']['origin'],this['_ray']['origin']),this['_ray']['origin']['add'](this['_position']),this['_rotation']['transformV'+'ector'](this['_rayLocal']['direction'],this['_ray']['direction']);}else _0x3673de&&(this['_ray']['origin']['copy'](this['_rayLocal']['origin']),this['_ray']['direction']['copy'](this['_rayLocal']['direction']));}['getPositio'+'n'](){return this['_position']?(this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position']):null;}['getLocalPo'+'sition'](){return this['_localPosi'+'tion'];}['getRotatio'+'n'](){return this['_rotation']?(this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation']):null;}['getLocalRo'+'tation'](){return this['_localRota'+'tion'];}['getLinearV'+'elocity'](){return this['_velocitie'+'sAvailable']?this['_linearVel'+'ocity']:null;}['getOrigin'](){return this['_updateRay'+'Transforms'](),this['_ray']['origin'];}['getDirecti'+'on'](){return this['_updateRay'+'Transforms'](),this['_ray']['direction'];}['hitTestSta'+'rt'](_0x4cde20={}){_0x4cde20['inputSourc'+'e']=this,_0x4cde20['profile']=this['_xrInputSo'+'urce']['profiles'][-0x10b0+0xaed+0x5c3];const _0x253f13=_0x4cde20['callback'];_0x4cde20['callback']=(_0x3d3338,_0x1a2561)=>{_0x1a2561&&this['onHitTestS'+'ourceAdd'](_0x1a2561),_0x253f13&&_0x253f13(_0x3d3338,_0x1a2561);},this['_manager']['hitTest']['start'](_0x4cde20);}['onHitTestS'+'ourceAdd'](_0x493269){this['_hitTestSo'+'urces']['push'](_0x493269),this['fire']('hittest:ad'+'d',_0x493269),_0x493269['on']('result',(_0x10068c,_0x5a9c67,_0x381d2c,_0x5b10cb)=>{_0x381d2c===this&&this['fire']('hittest:re'+'sult',_0x493269,_0x10068c,_0x5a9c67,_0x5b10cb);}),_0x493269['once']('remove',()=>{this['onHitTestS'+'ourceRemov'+'e'](_0x493269),this['fire']('hittest:re'+'move',_0x493269);});}['onHitTestS'+'ourceRemov'+'e'](_0x281882){const _0x13299d=this['_hitTestSo'+'urces']['indexOf'](_0x281882);_0x13299d!==-(-0x1*0x6fe+0x6*0x3b7+-0x30f*0x5)&&this['_hitTestSo'+'urces']['splice'](_0x13299d,0x212*0x5+0x61f*0x6+-0x2f13*0x1);}}h(Qt,'EVENT_REMO'+'VE','remove'),h(Qt,'EVENT_SELE'+'CT','select'),h(Qt,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(Qt,'EVENT_SELE'+'CTEND','selectend'),h(Qt,'EVENT_SQUE'+'EZE','squeeze'),h(Qt,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),h(Qt,'EVENT_SQUE'+'EZEEND','squeezeend'),h(Qt,'EVENT_HITT'+'ESTADD','hittest:ad'+'d'),h(Qt,'EVENT_HITT'+'ESTREMOVE','hittest:re'+'move'),h(Qt,'EVENT_HITT'+'ESTRESULT','hittest:re'+'sult');class Li extends me{constructor(_0x380611){var _0x51a911,_0x5d2b9d;super(),h(this,'manager'),h(this,'_inputSour'+'ces',[]),h(this,'_onInputSo'+'urcesChang'+'eEvt'),h(this,'velocities'+'Supported',!(0x1279+0x66e+0xc73*-0x2)),(this['manager']=_0x380611,this['velocities'+'Supported']=!!(Ae['browser']&&((_0x5d2b9d=(_0x51a911=window['XRPose'])==null?void(-0x1283*0x1+-0x287*0xe+0x5fd*0x9):_0x51a911['prototype'])!=null&&_0x5d2b9d['hasOwnProp'+'erty']('linearVelo'+'city'))),this['_onInputSo'+'urcesChang'+'eEvt']=_0x4f447e=>{this['_onInputSo'+'urcesChang'+'e'](_0x4f447e);},this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){const _0x13bbf1=this['manager']['session'];_0x13bbf1['addEventLi'+'stener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']),_0x13bbf1['addEventLi'+'stener']('select',_0x3703df=>{const _0x50f892=this['_getByInpu'+'tSource'](_0x3703df['inputSourc'+'e']);_0x50f892['update'](_0x3703df['frame']),_0x50f892['fire']('select',_0x3703df),this['fire']('select',_0x50f892,_0x3703df);}),_0x13bbf1['addEventLi'+'stener']('selectstar'+'t',_0x2e5a6c=>{const _0x4ada9d=this['_getByInpu'+'tSource'](_0x2e5a6c['inputSourc'+'e']);_0x4ada9d['_selecting']||(_0x4ada9d['update'](_0x2e5a6c['frame']),_0x4ada9d['_selecting']=!(-0x585+-0x8*0x487+0x29bd),_0x4ada9d['fire']('selectstar'+'t',_0x2e5a6c),this['fire']('selectstar'+'t',_0x4ada9d,_0x2e5a6c));}),_0x13bbf1['addEventLi'+'stener']('selectend',_0xcf9841=>{const _0x1a8f16=this['_getByInpu'+'tSource'](_0xcf9841['inputSourc'+'e']);_0x1a8f16['update'](_0xcf9841['frame']),_0x1a8f16['_selecting']=!(0x52*0x67+0x9df*-0x3+-0x18*0x24),_0x1a8f16['fire']('selectend',_0xcf9841),this['fire']('selectend',_0x1a8f16,_0xcf9841);}),_0x13bbf1['addEventLi'+'stener']('squeeze',_0x5c9cae=>{const _0x3ca3fe=this['_getByInpu'+'tSource'](_0x5c9cae['inputSourc'+'e']);_0x3ca3fe['update'](_0x5c9cae['frame']),_0x3ca3fe['fire']('squeeze',_0x5c9cae),this['fire']('squeeze',_0x3ca3fe,_0x5c9cae);}),_0x13bbf1['addEventLi'+'stener']('squeezesta'+'rt',_0x23c42c=>{const _0x221468=this['_getByInpu'+'tSource'](_0x23c42c['inputSourc'+'e']);_0x221468['update'](_0x23c42c['frame']),_0x221468['_squeezing']=!(-0x925*0x1+0x1d48*-0x1+0x3*0xccf),_0x221468['fire']('squeezesta'+'rt',_0x23c42c),this['fire']('squeezesta'+'rt',_0x221468,_0x23c42c);}),_0x13bbf1['addEventLi'+'stener']('squeezeend',_0x40c6cb=>{const _0x3adc63=this['_getByInpu'+'tSource'](_0x40c6cb['inputSourc'+'e']);_0x3adc63['update'](_0x40c6cb['frame']),_0x3adc63['_squeezing']=!(-0x161f+-0x62d*0x1+0x1c4d),_0x3adc63['fire']('squeezeend',_0x40c6cb),this['fire']('squeezeend',_0x3adc63,_0x40c6cb);});const _0x429da5=_0x13bbf1['inputSourc'+'es'];for(let _0x36a681=-0xd87+0x1f92+-0x120b*0x1;_0x36a681<_0x429da5['length'];_0x36a681++)this['_addInputS'+'ource'](_0x429da5[_0x36a681]);}['_onSession'+'End'](){let _0x32b948=this['_inputSour'+'ces']['length'];for(;_0x32b948--;){const _0x311378=this['_inputSour'+'ces'][_0x32b948];this['_inputSour'+'ces']['splice'](_0x32b948,0xc13+-0x1*-0x16f+-0xd81),_0x311378['fire']('remove'),this['fire']('remove',_0x311378);}this['fire']('removeall'),this['manager']['session']['removeEven'+'tListener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']);}['_onInputSo'+'urcesChang'+'e'](_0x482cba){for(let _0x4d8e18=0x1c1*0xd+0xe39+-0x1283*0x2;_0x4d8e18<_0x482cba['removed']['length'];_0x4d8e18++)this['_removeInp'+'utSource'](_0x482cba['removed'][_0x4d8e18]);for(let _0x2eeebe=0x2b+0x2197+-0x21c2;_0x2eeebe<_0x482cba['added']['length'];_0x2eeebe++)this['_addInputS'+'ource'](_0x482cba['added'][_0x2eeebe]);}['_getByInpu'+'tSource'](_0x29b9d7){for(let _0x3c0b5c=0x1a5f+-0x1*-0x18b9+-0x3318;_0x3c0b5c<this['_inputSour'+'ces']['length'];_0x3c0b5c++)if(this['_inputSour'+'ces'][_0x3c0b5c]['inputSourc'+'e']===_0x29b9d7)return this['_inputSour'+'ces'][_0x3c0b5c];return null;}['_removeApp'+'Entity'](_0x2567e9){const _0x47f334=this['manager']['app']['root']['findByName']('Armature_'+_0x2567e9);_0x47f334&&this['manager']['app']['root']['removeChil'+'d'](_0x47f334);}['_addInputS'+'ource'](_0x146521){if(this['_removeApp'+'Entity'](_0x146521['handedness']),this['_getByInpu'+'tSource'](_0x146521))return;const _0x5c702c=new Qt(this['manager'],_0x146521);this['_inputSour'+'ces']['push'](_0x5c702c),this['fire']('add',_0x5c702c);}['_removeInp'+'utSource'](_0x3e876a){for(let _0x5414e9=-0x7*0x1c5+-0x1d53+0x119*0x26;_0x5414e9<this['_inputSour'+'ces']['length'];_0x5414e9++){if(this['_inputSour'+'ces'][_0x5414e9]['inputSourc'+'e']!==_0x3e876a)continue;const _0x9a3503=this['_inputSour'+'ces'][_0x5414e9];this['_inputSour'+'ces']['splice'](_0x5414e9,-0x7c4+-0x14a7+0x1c6c);let _0x3cbd36=_0x9a3503['hitTestSou'+'rces']['length'];for(;_0x3cbd36--;)_0x9a3503['hitTestSou'+'rces'][_0x3cbd36]['remove']();this['_removeApp'+'Entity'](_0x9a3503['handedness']),_0x9a3503['fire']('remove'),this['fire']('remove',_0x9a3503);return;}}['update'](_0x3fe66c){for(let _0x223c6a=-0xb4f+0x4*-0x61f+-0x7*-0x51d;_0x223c6a<this['_inputSour'+'ces']['length'];_0x223c6a++)this['_inputSour'+'ces'][_0x223c6a]['update'](_0x3fe66c);}get['inputSourc'+'es'](){return this['_inputSour'+'ces'];}}h(Li,'EVENT_ADD','add'),h(Li,'EVENT_REMO'+'VE','remove'),h(Li,'EVENT_SELE'+'CT','select'),h(Li,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(Li,'EVENT_SELE'+'CTEND','selectend'),h(Li,'EVENT_SQUE'+'EZE','squeeze'),h(Li,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),h(Li,'EVENT_SQUE'+'EZEEND','squeezeend');const Ja=new D(),IS=new D(),Lf=new te(),LS=new te();class Zu extends me{constructor(_0x6ef9a6){super(),h(this,'_manager'),h(this,'_supported',!(-0x2342+0x1d9*0x2+0x1f91)),h(this,'_available',!(0x6*-0x539+-0x5*-0x41e+0x1*0xac1)),h(this,'_lightProb'+'eRequested',!(0x35e*0x5+0xea2+-0x1f77)),h(this,'_lightProb'+'e',null),h(this,'_intensity',0x199*0x11+0x1798*0x1+-0x32c1),h(this,'_rotation',new le()),h(this,'_color',new ie()),h(this,'_spherical'+'Harmonics',new Float32Array(0xc5+0x534+-0x5de)),(this['_manager']=_0x6ef9a6,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){this['_manager']['session']['requestLig'+'htProbe']&&(this['_supported']=!(-0x161*0x10+-0x1*-0x1589+0x87*0x1));}['_onSession'+'End'](){this['_supported']=!(0x18f3*-0x1+-0x6*0x657+0x3efe),this['_available']=!(-0x37f+0x425*0x2+-0x2*0x265),this['_lightProb'+'eRequested']=!(0xc1b+-0x1*0x163d+0xa23),this['_lightProb'+'e']=null;}['start'](){let _0x8cbcea;if(this['_manager']['session']||(_0x8cbcea=new Error('XR\x20session'+'\x20is\x20not\x20ru'+'nning')),!_0x8cbcea&&this['_manager']['type']!==$o&&(_0x8cbcea=new Error('XR\x20session'+'\x20type\x20is\x20n'+'ot\x20AR')),!_0x8cbcea&&!this['_supported']&&(_0x8cbcea=new Error('light-esti'+'mation\x20is\x20'+'not\x20suppor'+'ted')),(!_0x8cbcea&&this['_lightProb'+'e']||this['_lightProb'+'eRequested'])&&(_0x8cbcea=new Error('light\x20esti'+'mation\x20is\x20'+'already\x20re'+'quested')),_0x8cbcea){this['fire']('error',_0x8cbcea);return;}this['_lightProb'+'eRequested']=!(-0x1*-0x20ab+-0x22b3+0x208),this['_manager']['session']['requestLig'+'htProbe']()['then'](_0x162c72=>{const _0x417700=this['_lightProb'+'eRequested'];this['_lightProb'+'eRequested']=!(0x96b+-0xa7a*0x2+-0xd3*-0xe),this['_manager']['active']?_0x417700&&(this['_lightProb'+'e']=_0x162c72):this['fire']('error',new Error('XR\x20session'+'\x20is\x20not\x20ac'+'tive'));})['catch'](_0x46ab2c=>{this['_lightProb'+'eRequested']=!(0x1f3*-0xf+0x1b5c+-0x1*-0x1e2),this['fire']('error',_0x46ab2c);});}['end'](){this['_lightProb'+'eRequested']=!(0x26e7+-0x4*0x193+-0x6b*0x4e),this['_lightProb'+'e']=null,this['_available']=!(-0x1816+0x1*0x392+0x1485);}['update'](_0x37034b){if(!this['_lightProb'+'e'])return;const _0xc86a43=_0x37034b['getLightEs'+'timate'](this['_lightProb'+'e']);if(!_0xc86a43)return;this['_available']||(this['_available']=!(0x1d7e+-0x2022+0x2*0x152),this['fire']('available'));const _0x48fac1=_0xc86a43['primaryLig'+'htIntensit'+'y'];this['_intensity']=Math['max'](0x11c9*0x1+0x1*0x1285+-0x244d,Math['max'](_0x48fac1['x'],Math['max'](_0x48fac1['y'],_0x48fac1['z']))),Ja['copy'](_0x48fac1)['mulScalar']((0x1*-0xe19+0x1*-0x2703+0x1*0x351d)/this['_intensity']),this['_color']['set'](Ja['x'],Ja['y'],Ja['z']),Ja['set'](0x1d7c+-0x17c4+-0x5b8,-0x1*-0x2137+-0xd*-0x2ab+-0x43e6,-0x1862+-0x32*-0x8d+-0x328),IS['copy'](_0xc86a43['primaryLig'+'htDirectio'+'n']),Lf['setLookAt'](IS,Ja,D['UP']),LS['setFromAxi'+'sAngle'](D['RIGHT'],-0x253b+-0x2661+0x4bf6),Lf['mul'](LS),this['_rotation']['setFromMat'+'4'](Lf),this['_spherical'+'Harmonics']['set'](_0xc86a43['sphericalH'+'armonicsCo'+'efficients']);}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['intensity'](){return this['_available']?this['_intensity']:null;}get['color'](){return this['_available']?this['_color']:null;}get['rotation'](){return this['_available']?this['_rotation']:null;}get['sphericalH'+'armonics'](){return this['_available']?this['_spherical'+'Harmonics']:null;}}h(Zu,'EVENT_AVAI'+'LABLE','available'),h(Zu,'EVENT_ERRO'+'R','error');let mU=-0x11e6+-0x13b2*0x1+0x2598;class Qu extends me{constructor(_0x5588ba,_0x502d3b){super(),h(this,'_id'),h(this,'_planeDete'+'ction'),h(this,'_xrPlane'),h(this,'_lastChang'+'edTime'),h(this,'_orientati'+'on'),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_id']=++mU,this['_planeDete'+'ction']=_0x5588ba,this['_xrPlane']=_0x502d3b,this['_lastChang'+'edTime']=_0x502d3b['lastChange'+'dTime'],this['_orientati'+'on']=_0x502d3b['orientatio'+'n']);}['destroy'](){this['_xrPlane']&&(this['_xrPlane']=null,this['fire']('remove'));}['update'](_0x512388){const _0x44ad50=this['_planeDete'+'ction']['_manager'],_0x3e7096=_0x512388['getPose'](this['_xrPlane']['planeSpace'],_0x44ad50['_reference'+'Space']);_0x3e7096&&(this['_position']['copy'](_0x3e7096['transform']['position']),this['_rotation']['copy'](_0x3e7096['transform']['orientatio'+'n'])),this['_lastChang'+'edTime']!==this['_xrPlane']['lastChange'+'dTime']&&(this['_lastChang'+'edTime']=this['_xrPlane']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}get['id'](){return this['_id'];}get['orientatio'+'n'](){return this['_orientati'+'on'];}get['points'](){return this['_xrPlane']['polygon'];}get['label'](){return this['_xrPlane']['semanticLa'+'bel']||'';}}h(Qu,'EVENT_REMO'+'VE','remove'),h(Qu,'EVENT_CHAN'+'GE','change');class Do extends me{constructor(_0x2a3467){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRPlane']),h(this,'_available',!(0x1*-0x22b7+-0xf0b*-0x1+-0x17*-0xdb)),h(this,'_planesInd'+'ex',new Map()),h(this,'_planes',[]),(this['_manager']=_0x2a3467,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){this['_manager']['session']['enabledFea'+'tures']&&this['_manager']['session']['enabledFea'+'tures']['indexOf']('plane-dete'+'ction')!==-(0x2483+0x2456*0x1+0x14d*-0x38)&&(this['_available']=!(0x223a+0x2*-0x8dd+-0x80*0x21),this['fire']('available'));}['_onSession'+'End'](){for(let _0x3f608c=0x9b3*-0x1+0x1*0x5c4+0x35*0x13;_0x3f608c<this['_planes']['length'];_0x3f608c++)this['_planes'][_0x3f608c]['destroy'](),this['fire']('remove',this['_planes'][_0x3f608c]);this['_planesInd'+'ex']['clear'](),this['_planes']['length']=0x5e7*0x6+-0x8e1+-0x1a89,this['_available']&&(this['_available']=!(-0x10cb+0x286+-0x12*-0xcb),this['fire']('unavailabl'+'e'));}['update'](_0x1782cf){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x1782cf['detectedPl'+'anes']['size'])this['_available']=!(-0xc5*-0x24+-0x1*-0x229f+-0xc77*0x5),this['fire']('available');else return;}const _0x3ee97c=_0x1782cf['detectedPl'+'anes'];for(const [_0x5d7cd7,_0x3b7cc6]of this['_planesInd'+'ex'])_0x3ee97c['has'](_0x5d7cd7)||(this['_planesInd'+'ex']['delete'](_0x5d7cd7),this['_planes']['splice'](this['_planes']['indexOf'](_0x3b7cc6),-0x1652+-0x16f9*0x1+-0x1*-0x2d4c),_0x3b7cc6['destroy'](),this['fire']('remove',_0x3b7cc6));for(const _0x5a5cf8 of _0x3ee97c){let _0x36aa07=this['_planesInd'+'ex']['get'](_0x5a5cf8);_0x36aa07?_0x36aa07['update'](_0x1782cf):(_0x36aa07=new Qu(this,_0x5a5cf8),this['_planesInd'+'ex']['set'](_0x5a5cf8,_0x36aa07),this['_planes']['push'](_0x36aa07),_0x36aa07['update'](_0x1782cf),this['fire']('add',_0x36aa07));}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['planes'](){return this['_planes'];}}h(Do,'EVENT_AVAI'+'LABLE','available'),h(Do,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(Do,'EVENT_ADD','add'),h(Do,'EVENT_REMO'+'VE','remove');class Io extends me{constructor(_0x7c790c,_0x556ad2,_0x1ca390=null){super(),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_uuid',null),h(this,'_uuidReque'+'sts',null),(this['_anchors']=_0x7c790c,this['_xrAnchor']=_0x556ad2,this['_uuid']=_0x1ca390);}['destroy'](){if(!this['_xrAnchor'])return;const _0x24165d=this['_xrAnchor'];this['_xrAnchor']['delete'](),this['_xrAnchor']=null,this['fire']('destroy',_0x24165d,this);}['update'](_0x214698){if(!this['_xrAnchor'])return;const _0x1544cf=_0x214698['getPose'](this['_xrAnchor']['anchorSpac'+'e'],this['_anchors']['manager']['_reference'+'Space']);if(_0x1544cf){if(this['_position']['equals'](_0x1544cf['transform']['position'])&&this['_rotation']['equals'](_0x1544cf['transform']['orientatio'+'n']))return;this['_position']['copy'](_0x1544cf['transform']['position']),this['_rotation']['copy'](_0x1544cf['transform']['orientatio'+'n']),this['fire']('change');}}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}['persist'](_0x2f051e){if(!this['_anchors']['persistenc'+'e']){_0x2f051e==null||_0x2f051e(new Error('Persistent'+'\x20Anchors\x20a'+'re\x20not\x20sup'+'ported'),null);return;}if(this['_uuid']){_0x2f051e==null||_0x2f051e(null,this['_uuid']);return;}if(this['_uuidReque'+'sts']){_0x2f051e&&this['_uuidReque'+'sts']['push'](_0x2f051e);return;}this['_uuidReque'+'sts']=[],this['_xrAnchor']['requestPer'+'sistentHan'+'dle']()['then'](_0x509699=>{this['_uuid']=_0x509699,this['_anchors']['_indexByUu'+'id']['set'](this['_uuid'],this),_0x2f051e==null||_0x2f051e(null,_0x509699);for(const _0x4bc01b of this['_uuidReque'+'sts'])_0x4bc01b(null,_0x509699);this['_uuidReque'+'sts']=null,this['fire']('persist',_0x509699);})['catch'](_0x45659c=>{_0x2f051e==null||_0x2f051e(_0x45659c,null);for(const _0x1e46a4 of this['_uuidReque'+'sts'])_0x1e46a4(_0x45659c,null);this['_uuidReque'+'sts']=null;});}['forget'](_0x4d69b1){if(!this['_uuid']){_0x4d69b1==null||_0x4d69b1(new Error('Anchor\x20is\x20'+'not\x20persis'+'tent'));return;}this['_anchors']['forget'](this['_uuid'],_0x16af35=>{this['_uuid']=null,_0x4d69b1==null||_0x4d69b1(_0x16af35),this['fire']('forget');});}get['uuid'](){return this['_uuid'];}get['persistent'](){return!!this['_uuid'];}}h(Io,'EVENT_DEST'+'ROY','destroy'),h(Io,'EVENT_CHAN'+'GE','change'),h(Io,'EVENT_PERS'+'IST','persist'),h(Io,'EVENT_FORG'+'ET','forget');var VS;class on extends me{constructor(_0x5bee26){super(),h(this,'manager'),h(this,'_supported',Ae['browser']&&!!window['XRAnchor']),h(this,'_available',!(0x1e02*-0x1+0x1f6f*0x1+-0x16c)),h(this,'_checkingA'+'vailabilit'+'y',!(0x2285*0x1+0x40*-0x3b+-0x1fa*0xa)),h(this,'_persisten'+'ce',Ae['browser']&&!!((VS=window==null?void(-0x2c*0x76+0x1d75+-0x92d):window['XRSession'])!=null&&VS['prototype']['restorePer'+'sistentAnc'+'hor'])),h(this,'_creationQ'+'ueue',[]),h(this,'_index',new Map()),h(this,'_indexByUu'+'id',new Map()),h(this,'_list',[]),h(this,'_callbacks'+'Anchors',new Map()),(this['manager']=_0x5bee26,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){var _0x5b8eff;const _0x1ddfee=((_0x5b8eff=this['manager']['session']['enabledFea'+'tures'])==null?void(0x1*-0x15d+-0x11c5*0x1+0x1322):_0x5b8eff['indexOf']('anchors'))>=0x10c4+-0x1*-0xf62+-0x1013*0x2;_0x1ddfee&&(this['_available']=_0x1ddfee,this['fire']('available'));}['_onSession'+'End'](){if(!this['_available'])return;this['_available']=!(0x1*-0x1bc7+0x1971+0x257);for(let _0x5af38f=-0x7de*0x1+-0x6f6+0x3b5*0x4;_0x5af38f<this['_creationQ'+'ueue']['length'];_0x5af38f++)this['_creationQ'+'ueue'][_0x5af38f]['callback']&&this['_creationQ'+'ueue'][_0x5af38f]['callback'](new Error('session\x20en'+'ded'),null);this['_creationQ'+'ueue']['length']=-0x1*-0x4e3+0xe1c+-0x12ff,this['_index']['clear'](),this['_indexByUu'+'id']['clear']();let _0x5939d4=this['_list']['length'];for(;_0x5939d4--;)this['_list'][_0x5939d4]['destroy']();this['_list']['length']=0x265d+-0x295+-0x14*0x1ca,this['fire']('unavailabl'+'e');}['_createAnc'+'hor'](_0x25eca5,_0x1fe1d2=null){const _0x41688e=new Io(this,_0x25eca5,_0x1fe1d2);return this['_index']['set'](_0x25eca5,_0x41688e),_0x1fe1d2&&this['_indexByUu'+'id']['set'](_0x1fe1d2,_0x41688e),this['_list']['push'](_0x41688e),_0x41688e['once']('destroy',this['_onAnchorD'+'estroy'],this),_0x41688e;}['_onAnchorD'+'estroy'](_0x58add3,_0x256db1){this['_index']['delete'](_0x58add3),_0x256db1['uuid']&&this['_indexByUu'+'id']['delete'](_0x256db1['uuid']);const _0x54d5d4=this['_list']['indexOf'](_0x256db1);_0x54d5d4!==-(0x4c1*0x7+-0xf7e*0x1+-0x11c8)&&this['_list']['splice'](_0x54d5d4,-0x593+-0x1f2d+-0x61*-0x61),this['fire']('destroy',_0x256db1);}['create'](_0x471a63,_0x43bb3a,_0x104475){if(!this['_available']){_0x104475==null||_0x104475(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(window['XRHitTestR'+'esult']&&_0x471a63 instanceof XRHitTestResult){const _0x554cb2=_0x471a63;if(_0x104475=_0x43bb3a,!this['_supported']){_0x104475==null||_0x104475(new Error('Anchors\x20AP'+'I\x20is\x20not\x20s'+'upported'),null);return;}if(!_0x554cb2['createAnch'+'or']){_0x104475==null||_0x104475(new Error('Creating\x20A'+'nchor\x20from'+'\x20Hit\x20Test\x20'+'is\x20not\x20sup'+'ported'),null);return;}_0x554cb2['createAnch'+'or']()['then'](_0x187062=>{const _0x29d56a=this['_createAnc'+'hor'](_0x187062);_0x104475==null||_0x104475(null,_0x29d56a),this['fire']('add',_0x29d56a);})['catch'](_0x11b1b7=>{_0x104475==null||_0x104475(_0x11b1b7,null),this['fire']('error',_0x11b1b7);});}else this['_creationQ'+'ueue']['push']({'transform':new XRRigidTransform(_0x471a63,_0x43bb3a),'callback':_0x104475});}['restore'](_0x5478f4,_0x1a7a2c){if(!this['_available']){_0x1a7a2c==null||_0x1a7a2c(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(!this['_persisten'+'ce']){_0x1a7a2c==null||_0x1a7a2c(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'),null);return;}if(!this['manager']['active']){_0x1a7a2c==null||_0x1a7a2c(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'),null);return;}this['manager']['session']['restorePer'+'sistentAnc'+'hor'](_0x5478f4)['then'](_0x549cc2=>{const _0x374b53=this['_createAnc'+'hor'](_0x549cc2,_0x5478f4);_0x1a7a2c==null||_0x1a7a2c(null,_0x374b53),this['fire']('add',_0x374b53);})['catch'](_0x369673=>{_0x1a7a2c==null||_0x1a7a2c(_0x369673,null),this['fire']('error',_0x369673);});}['forget'](_0x4e969a,_0x45c25e){if(!this['_available']){_0x45c25e==null||_0x45c25e(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'));return;}if(!this['_persisten'+'ce']){_0x45c25e==null||_0x45c25e(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'));return;}if(!this['manager']['active']){_0x45c25e==null||_0x45c25e(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'));return;}this['manager']['session']['deletePers'+'istentAnch'+'or'](_0x4e969a)['then'](()=>{_0x45c25e==null||_0x45c25e(null);})['catch'](_0x4b2b71=>{_0x45c25e==null||_0x45c25e(_0x4b2b71),this['fire']('error',_0x4b2b71);});}['update'](_0x1528d1){if(!this['_available']){!this['manager']['session']['enabledFea'+'tures']&&!this['_checkingA'+'vailabilit'+'y']&&(this['_checkingA'+'vailabilit'+'y']=!(-0x2583+-0x956+0x2ed9),_0x1528d1['createAnch'+'or'](new XRRigidTransform(),this['manager']['_reference'+'Space'])['then'](_0x3c7d51=>{_0x3c7d51['delete'](),this['manager']['active']&&(this['_available']=!(0xf72+-0x177*0xb+0x3*0x39),this['fire']('available'));})['catch'](()=>{}));return;}if(this['_creationQ'+'ueue']['length']){for(let _0x323024=-0x677*-0x5+-0x78a*0x5+0x55f;_0x323024<this['_creationQ'+'ueue']['length'];_0x323024++){const _0x18c22e=this['_creationQ'+'ueue'][_0x323024];_0x1528d1['createAnch'+'or'](_0x18c22e['transform'],this['manager']['_reference'+'Space'])['then'](_0x2f0e0f=>{_0x18c22e['callback']&&this['_callbacks'+'Anchors']['set'](_0x2f0e0f,_0x18c22e['callback']);})['catch'](_0x120ee6=>{_0x18c22e['callback']&&_0x18c22e['callback'](_0x120ee6,null),this['fire']('error',_0x120ee6);});}this['_creationQ'+'ueue']['length']=0x8*0x211+-0x22de+0x1*0x1256;}for(const [_0x4ee6f2,_0x39dc7c]of this['_index'])_0x1528d1['trackedAnc'+'hors']['has'](_0x4ee6f2)||(this['_index']['delete'](_0x4ee6f2),_0x39dc7c['destroy']());for(let _0x2c97bd=-0x1ef7+-0x15d0+0x34c7;_0x2c97bd<this['_list']['length'];_0x2c97bd++)this['_list'][_0x2c97bd]['update'](_0x1528d1);for(const _0xf73740 of _0x1528d1['trackedAnc'+'hors']){if(this['_index']['has'](_0xf73740))continue;try{const _0x1d0339=_0xf73740['anchorSpac'+'e'];}catch{continue;}const _0x5b391c=this['_createAnc'+'hor'](_0xf73740);_0x5b391c['update'](_0x1528d1);const _0x41827c=this['_callbacks'+'Anchors']['get'](_0xf73740);_0x41827c&&(this['_callbacks'+'Anchors']['delete'](_0xf73740),_0x41827c(null,_0x5b391c)),this['fire']('add',_0x5b391c);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['persistenc'+'e'](){return this['_persisten'+'ce'];}get['uuids'](){return!this['_available']||!this['_persisten'+'ce']||!this['manager']['active']?null:this['manager']['session']['persistent'+'Anchors'];}get['list'](){return this['_list'];}}h(on,'EVENT_AVAI'+'LABLE','available'),h(on,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(on,'EVENT_ERRO'+'R','error'),h(on,'EVENT_ADD','add'),h(on,'EVENT_DEST'+'ROY','destroy');class Ju extends me{constructor(_0x587701,_0xd7d235){super(),h(this,'_meshDetec'+'tion'),h(this,'_xrMesh'),h(this,'_lastChang'+'ed',0x191d+-0x4a*-0x32+-0x2791),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_meshDetec'+'tion']=_0x587701,this['_xrMesh']=_0xd7d235,this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime']);}get['xrMesh'](){return this['_xrMesh'];}get['label'](){return this['_xrMesh']['semanticLa'+'bel']||'';}get['vertices'](){return this['_xrMesh']['vertices'];}get['indices'](){return this['_xrMesh']['indices'];}['destroy'](){this['_xrMesh']&&(this['_xrMesh']=null,this['fire']('remove'));}['update'](_0x1c7721){const _0x2fb88c=this['_meshDetec'+'tion']['_manager'],_0x19d9bb=_0x1c7721['getPose'](this['_xrMesh']['meshSpace'],_0x2fb88c['_reference'+'Space']);_0x19d9bb&&(this['_position']['copy'](_0x19d9bb['transform']['position']),this['_rotation']['copy'](_0x19d9bb['transform']['orientatio'+'n'])),this['_lastChang'+'ed']!==this['_xrMesh']['lastChange'+'dTime']&&(this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}}h(Ju,'EVENT_REMO'+'VE','remove'),h(Ju,'EVENT_CHAN'+'GE','change');class Lo extends me{constructor(_0x10a323){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRMesh']),h(this,'_available',!(-0x2090+-0x1*-0x18e8+0x7a9)),h(this,'_index',new Map()),h(this,'_list',[]),(this['_manager']=_0x10a323,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['update'](_0x2c9a11){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x2c9a11['detectedMe'+'shes']['size'])this['_available']=!(-0x5d9+-0x1*0x1b6f+-0x2*-0x10a4),this['fire']('available');else return;}for(const _0x35dbea of _0x2c9a11['detectedMe'+'shes']){let _0x44f4d4=this['_index']['get'](_0x35dbea);_0x44f4d4?_0x44f4d4['update'](_0x2c9a11):(_0x44f4d4=new Ju(this,_0x35dbea),this['_index']['set'](_0x35dbea,_0x44f4d4),this['_list']['push'](_0x44f4d4),_0x44f4d4['update'](_0x2c9a11),this['fire']('add',_0x44f4d4));}for(const _0x5e4926 of this['_index']['values']())_0x2c9a11['detectedMe'+'shes']['has'](_0x5e4926['xrMesh'])||this['_removeMes'+'h'](_0x5e4926);}['_removeMes'+'h'](_0xda5616){this['_index']['delete'](_0xda5616['xrMesh']),this['_list']['splice'](this['_list']['indexOf'](_0xda5616),0xea3*0x1+-0xe13+0xd*-0xb),_0xda5616['destroy'](),this['fire']('remove',_0xda5616);}['_onSession'+'Start'](){if(this['_manager']['session']['enabledFea'+'tures']){const _0x484707=this['_manager']['session']['enabledFea'+'tures']['indexOf']('mesh-detec'+'tion')!==-(-0x1672+0x1073+0xc0*0x8);if(!_0x484707)return;this['_available']=_0x484707,this['fire']('available');}}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0x151e+-0x15*0x9d+-0x83c);for(const _0x4f71da of this['_index']['values']())this['_removeMes'+'h'](_0x4f71da);this['fire']('unavailabl'+'e');}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['meshes'](){return this['_list'];}}h(Lo,'EVENT_AVAI'+'LABLE','available'),h(Lo,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(Lo,'EVENT_ADD','add'),h(Lo,'EVENT_REMO'+'VE','remove');class O0 extends me{constructor(_0xfb1d0,_0x4e5d66,_0x33bf85){super(),h(this,'_manager'),h(this,'_xrView'),h(this,'_positionD'+'ata',new Float32Array(0x21a5+0x483+-0x9b*0x3f)),h(this,'_viewport',new re()),h(this,'_projMat',new te()),h(this,'_projViewO'+'ffMat',new te()),h(this,'_viewMat',new te()),h(this,'_viewOffMa'+'t',new te()),h(this,'_viewMat3',new _i()),h(this,'_viewInvMa'+'t',new te()),h(this,'_viewInvOf'+'fMat',new te()),h(this,'_xrCamera',null),h(this,'_textureCo'+'lor',null),h(this,'_textureDe'+'pth',null),h(this,'_depthInfo',null),h(this,'_emptyDept'+'hBuffer',new Uint8Array(0xf70+0x1236+-0x1*0x2186)),h(this,'_depthMatr'+'ix',new te()),(this['_manager']=_0xfb1d0,this['_xrView']=_0x4e5d66);const _0x56db1d=this['_manager']['app']['graphicsDe'+'vice'];if(this['_manager']['views']['supportedC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera'],this['_manager']['views']['availableC'+'olor']&&this['_xrCamera']&&(this['_textureCo'+'lor']=new _e(_0x56db1d,{'format':Cr,'mipmaps':!(-0x824+0x17c0+-0xf9b),'addressU':ue,'addressV':ue,'minFilter':vt,'magFilter':vt,'width':this['_xrCamera']['width'],'height':this['_xrCamera']['height'],'name':'XrView-'+this['_xrView']['eye']+'-Color'}))),this['_manager']['views']['supportedD'+'epth']&&this['_manager']['views']['availableD'+'epth']){const _0x2673f0=this['_manager']['views']['depthGpuOp'+'timized']?Te:vt;this['_textureDe'+'pth']=new _e(_0x56db1d,{'format':this['_manager']['views']['depthPixel'+'Format'],'arrayLength':_0x33bf85===0xa53*0x2+0x53*0x17+-0x1c1a?-0x52c+0x2386+-0x1e5a:_0x33bf85,'mipmaps':!(0x1d49+-0x1*-0x1bcd+-0x3*0x1307),'addressU':ue,'addressV':ue,'minFilter':_0x2673f0,'magFilter':_0x2673f0,'width':0x4,'height':0x4,'name':'XrView-'+this['_xrView']['eye']+'-Depth'});for(let _0x139930=0x2647+-0x1fff+-0xc9*0x8;_0x139930<this['_textureDe'+'pth']['_levels']['length'];_0x139930++)this['_textureDe'+'pth']['_levels'][_0x139930]=this['_emptyDept'+'hBuffer'];this['_textureDe'+'pth']['upload']();}(this['_textureCo'+'lor']||this['_textureDe'+'pth'])&&_0x56db1d['on']('devicelost',this['_onDeviceL'+'ost'],this);}get['textureCol'+'or'](){return this['_textureCo'+'lor'];}get['textureDep'+'th'](){return this['_textureDe'+'pth'];}get['depthUvMat'+'rix'](){return this['_depthMatr'+'ix'];}get['depthValue'+'ToMeters'](){var _0x1f6ded;return((_0x1f6ded=this['_depthInfo'])==null?void(0x7*0x3cd+-0x61a+-0xb5*0x1d):_0x1f6ded['rawValueTo'+'Meters'])||-0x2029*-0x1+0xe3*0xb+-0x29ea;}get['eye'](){return this['_xrView']['eye'];}get['viewport'](){return this['_viewport'];}get['projMat'](){return this['_projMat'];}get['projViewOf'+'fMat'](){return this['_projViewO'+'ffMat'];}get['viewOffMat'](){return this['_viewOffMa'+'t'];}get['viewInvOff'+'Mat'](){return this['_viewInvOf'+'fMat'];}get['viewMat3'](){return this['_viewMat3'];}get['positionDa'+'ta'](){return this['_positionD'+'ata'];}['update'](_0x4dfd51,_0x5bc22b){this['_xrView']=_0x5bc22b,this['_manager']['views']['availableC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera']);const _0x210cdb=_0x4dfd51['session']['renderStat'+'e']['baseLayer']['getViewpor'+'t'](this['_xrView']);this['_viewport']['x']=_0x210cdb['x'],this['_viewport']['y']=_0x210cdb['y'],this['_viewport']['z']=_0x210cdb['width'],this['_viewport']['w']=_0x210cdb['height'],this['_projMat']['set'](this['_xrView']['projection'+'Matrix']),this['_viewMat']['set'](this['_xrView']['transform']['inverse']['matrix']),this['_viewInvMa'+'t']['set'](this['_xrView']['transform']['matrix']),this['_updateTex'+'tureColor'](),this['_updateDep'+'th'](_0x4dfd51);}['_updateTex'+'tureColor'](){if(!this['_manager']['views']['availableC'+'olor']||!this['_xrCamera']||!this['_textureCo'+'lor'])return;const _0x3105f3=this['_manager']['webglBindi'+'ng'];if(!_0x3105f3)return;const _0x5e91ec=_0x3105f3['getCameraI'+'mage'](this['_xrCamera']);if(!_0x5e91ec)return;const _0x430259=this['_manager']['app']['graphicsDe'+'vice'],_0x71b860=_0x430259['gl'];if(!this['_frameBuff'+'erSource'])this['_frameBuff'+'erSource']=_0x71b860['createFram'+'ebuffer'](),this['_frameBuff'+'er']=_0x71b860['createFram'+'ebuffer']();else{const _0x363896=_0x71b860['COLOR_ATTA'+'CHMENT0'],_0x555195=this['_xrCamera']['width'],_0x50ffea=this['_xrCamera']['height'];_0x430259['setFramebu'+'ffer'](this['_frameBuff'+'erSource']),_0x71b860['framebuffe'+'rTexture2D'](_0x71b860['FRAMEBUFFE'+'R'],_0x363896,_0x71b860['TEXTURE_2D'],_0x5e91ec,0xb39+0x1168+0x15*-0x15d),_0x430259['setFramebu'+'ffer'](this['_frameBuff'+'er']),_0x71b860['framebuffe'+'rTexture2D'](_0x71b860['FRAMEBUFFE'+'R'],_0x363896,_0x71b860['TEXTURE_2D'],this['_textureCo'+'lor']['impl']['_glTexture'],0x1c5c+0xec0+-0x2b1c),_0x71b860['bindFrameb'+'uffer'](_0x71b860['READ_FRAME'+'BUFFER'],this['_frameBuff'+'erSource']),_0x71b860['bindFrameb'+'uffer'](_0x71b860['DRAW_FRAME'+'BUFFER'],this['_frameBuff'+'er']),_0x71b860['blitFrameb'+'uffer'](0x695+0x16a0+0x1*-0x1d35,_0x50ffea,_0x555195,-0x1ab3+0x9*0x42b+0x2*-0x568,-0x358+0x1ce9+-0x1991,0x1b08+-0x3*0x637+-0x863,_0x555195,_0x50ffea,_0x71b860['COLOR_BUFF'+'ER_BIT'],_0x71b860['NEAREST']);}}['_updateDep'+'th'](_0x1ee92b){var _0x27aaaf,_0xef067f;if(!this['_manager']['views']['availableD'+'epth']||!this['_textureDe'+'pth'])return;const _0x17799e=this['_manager']['views']['depthGpuOp'+'timized'],_0x29d569=_0x17799e?this['_manager']['webglBindi'+'ng']:_0x1ee92b;if(!_0x29d569){this['_depthInfo']=null;return;}const _0x17a8c7=_0x29d569['getDepthIn'+'formation'](this['_xrView']);if(!_0x17a8c7){this['_depthInfo']=null;return;}let _0xca47d0=!this['_depthInfo']!=!_0x17a8c7;this['_depthInfo']=_0x17a8c7;const _0x5aa621=((_0x27aaaf=this['_depthInfo'])==null?void(0x1cbf+-0x1*-0x69b+-0x1*0x235a):_0x27aaaf['width'])||0x203e+-0x1f*0x1f+0x1*-0x1c79,_0x436b25=((_0xef067f=this['_depthInfo'])==null?void(-0x1d8*0x6+-0x7*-0x161+0x1*0x169):_0xef067f['height'])||0x15*-0x1a1+0x149f*0x1+0x2*0x6cd;let _0x46a822=!(-0x25b3*-0x1+-0x5d2+-0x1fe0*0x1);if((this['_textureDe'+'pth']['width']!==_0x5aa621||this['_textureDe'+'pth']['height']!==_0x436b25)&&(this['_textureDe'+'pth']['_width']=_0x5aa621,this['_textureDe'+'pth']['_height']=_0x436b25,_0xca47d0=!(-0x1d62+0x1*0x1c4b+-0x9*-0x1f),_0x46a822=!(0xbb*0x30+0x5*-0x554+-0x1c*0x4d)),_0xca47d0&&(this['_depthInfo']?this['_depthMatr'+'ix']['data']['set'](this['_depthInfo']['normDepthB'+'ufferFromN'+'ormView']['matrix']):this['_depthMatr'+'ix']['setIdentit'+'y']()),this['_depthInfo']){if(_0x17799e){if(this['_depthInfo']['texture']){const _0x8edd8d=this['_manager']['app']['graphicsDe'+'vice']['gl'];switch(this['_textureDe'+'pth']['impl']['_glTexture']=this['_depthInfo']['texture'],this['_depthInfo']['textureTyp'+'e']==='texture-ar'+'ray'?this['_textureDe'+'pth']['impl']['_glTarget']=_0x8edd8d['TEXTURE_2D'+'_ARRAY']:this['_textureDe'+'pth']['impl']['_glTarget']=_0x8edd8d['TEXTURE_2D'],this['_manager']['views']['depthPixel'+'Format']){case Ji:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x8edd8d['R32F'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x8edd8d['FLOAT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x8edd8d['RED'];break;case $i:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x8edd8d['DEPTH_COMP'+'ONENT16'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x8edd8d['UNSIGNED_S'+'HORT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x8edd8d['DEPTH_COMP'+'ONENT'];break;}this['_textureDe'+'pth']['impl']['_glCreated']=!(0x1b9+-0x15c4+0x140b);}}else this['_textureDe'+'pth']['_levels'][-0x2*-0x73d+0x1b70*-0x1+0xcf6]=new Uint8Array(this['_depthInfo']['data']),this['_textureDe'+'pth']['upload']();}else this['_textureDe'+'pth']['_levels'][0x12b0+-0xd7*0x1a+-0x2*-0x193]=this['_emptyDept'+'hBuffer'],this['_textureDe'+'pth']['upload']();_0x46a822&&this['fire']('depth:resi'+'ze',_0x5aa621,_0x436b25);}['updateTran'+'sforms'](_0x334019){_0x334019?(this['_viewInvOf'+'fMat']['mul2'](_0x334019,this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewInvOf'+'fMat'])['invert']()):(this['_viewInvOf'+'fMat']['copy'](this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewMat'])),this['_viewMat3']['setFromMat'+'4'](this['_viewOffMa'+'t']),this['_projViewO'+'ffMat']['mul2'](this['_projMat'],this['_viewOffMa'+'t']),this['_positionD'+'ata'][-0xd83+-0x6fb*-0x4+-0x7*0x20f]=this['_viewInvOf'+'fMat']['data'][-0x6c4*0x1+-0x1622+0x1cf2],this['_positionD'+'ata'][-0x1d55+0x94*0x12+0x12ee]=this['_viewInvOf'+'fMat']['data'][0x3e6+-0x79b+0x3c2],this['_positionD'+'ata'][-0x3*-0x6e8+-0x1be2+0x72c]=this['_viewInvOf'+'fMat']['data'][-0xe*0x140+0x103d+0x1*0x151];}['_onDeviceL'+'ost'](){this['_frameBuff'+'erSource']=null,this['_frameBuff'+'er']=null,this['_depthInfo']=null;}['getDepth'](_0x39bdc5,_0x2f7a33){var _0x341a99;return this['_manager']['views']['depthGpuOp'+'timized']?null:((_0x341a99=this['_depthInfo'])==null?void(0x16bd*-0x1+-0x3e*-0x25+0xdc7):_0x341a99['getDepthIn'+'Meters'](_0x39bdc5,_0x2f7a33))??null;}['destroy'](){if(this['_depthInfo']=null,this['_textureCo'+'lor']&&(this['_textureCo'+'lor']['destroy'](),this['_textureCo'+'lor']=null),this['_textureDe'+'pth']&&(this['_textureDe'+'pth']['destroy'](),this['_textureDe'+'pth']=null),this['_frameBuff'+'erSource']){const _0x56b36f=this['_manager']['app']['graphicsDe'+'vice']['gl'];_0x56b36f['deleteFram'+'ebuffer'](this['_frameBuff'+'erSource']),this['_frameBuff'+'erSource']=null,_0x56b36f['deleteFram'+'ebuffer'](this['_frameBuff'+'er']),this['_frameBuff'+'er']=null;}}}h(O0,'EVENT_DEPT'+'HRESIZE','depth:resi'+'ze');class Bh extends me{constructor(_0x1743b3){super(),h(this,'_manager'),h(this,'_index',new Map()),h(this,'_indexTmp',new Map()),h(this,'_list',[]),h(this,'_supported'+'Color',Ae['browser']&&!!window['XRCamera']&&!!window['XRWebGLBin'+'ding']),h(this,'_supported'+'Depth',Ae['browser']&&!!window['XRDepthInf'+'ormation']),h(this,'_available'+'Color',!(0x12d3+0x3eb+0x1*-0x16bd)),h(this,'_available'+'Depth',!(-0x24e7+-0x1775+0x3c5d)),h(this,'_depthUsag'+'e',''),h(this,'_depthForm'+'at',''),h(this,'_depthForm'+'ats',{[M0]:ap,[D0]:$i,[I0]:Ji}),(this['_manager']=_0x1743b3,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}get['list'](){return this['_list'];}get['supportedC'+'olor'](){return this['_supported'+'Color'];}get['supportedD'+'epth'](){return this['_supported'+'Depth'];}get['availableC'+'olor'](){return this['_available'+'Color'];}get['availableD'+'epth'](){return this['_available'+'Depth'];}get['depthUsage'](){return this['_depthUsag'+'e'];}get['depthGpuOp'+'timized'](){return this['_depthUsag'+'e']===P0;}get['depthForma'+'t'](){return this['_depthForm'+'at'];}get['depthPixel'+'Format'](){return this['_depthForm'+'ats'][this['_depthForm'+'at']]??null;}['update'](_0x11e70d,_0x191d6d){for(let _0x2a6b76=-0x1ce7+-0x440*0x1+0x2127*0x1;_0x2a6b76<_0x191d6d['length'];_0x2a6b76++)this['_indexTmp']['set'](_0x191d6d[_0x2a6b76]['eye'],_0x191d6d[_0x2a6b76]);for(const [_0x2bff3c,_0x16234a]of this['_indexTmp']){let _0x1867a6=this['_index']['get'](_0x2bff3c);_0x1867a6?_0x1867a6['update'](_0x11e70d,_0x16234a):(_0x1867a6=new O0(this['_manager'],_0x16234a,_0x191d6d['length']),this['_index']['set'](_0x2bff3c,_0x1867a6),this['_list']['push'](_0x1867a6),_0x1867a6['update'](_0x11e70d,_0x16234a),this['fire']('add',_0x1867a6));}for(const [_0x387bd9,_0x17f334]of this['_index']){if(this['_indexTmp']['has'](_0x387bd9))continue;_0x17f334['destroy'](),this['_index']['delete'](_0x387bd9);const _0x2bd992=this['_list']['indexOf'](_0x17f334);_0x2bd992!==-(0xc92+0xdc+-0xd6d)&&this['_list']['splice'](_0x2bd992,-0x26d+0x49d*0x4+-0x7*0x24a),this['fire']('remove',_0x17f334);}this['_indexTmp']['clear']();}['get'](_0x485399){return this['_index']['get'](_0x485399)||null;}['_onSession'+'Start'](){if(this['_manager']['type']===$o&&this['_manager']['session']['enabledFea'+'tures']&&(this['_available'+'Color']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('camera-acc'+'ess')!==-(-0x235+-0x1391+-0x15c7*-0x1),this['_available'+'Depth']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('depth-sens'+'ing')!==-(0x1e7a*-0x1+0x66*-0x53+-0x5c7*-0xb),this['_available'+'Depth'])){const _0x402cdc=this['_manager']['session'];this['_depthUsag'+'e']=_0x402cdc['depthUsage'],this['_depthForm'+'at']=_0x402cdc['depthDataF'+'ormat'];}}['_onSession'+'End'](){for(const _0x5b15ce of this['_index']['values']())_0x5b15ce['destroy']();this['_index']['clear'](),this['_available'+'Color']=!(-0x12d5+0x2*-0x1329+0x3928*0x1),this['_available'+'Depth']=!(0x1*0x211a+0x8*-0x467+0x21f),this['_depthUsag'+'e']='',this['_depthForm'+'at']='',this['_list']['length']=-0x1c1+-0x3c6+0x587;}}h(Bh,'EVENT_ADD','add'),h(Bh,'EVENT_REMO'+'VE','remove');class ln extends me{constructor(_0x17d9be){super(),h(this,'app'),h(this,'_supported',Ae['browser']&&!!navigator['xr']),h(this,'_available',{}),h(this,'_type',null),h(this,'_spaceType',null),h(this,'_session',null),h(this,'_baseLayer',null),h(this,'webglBindi'+'ng',null),h(this,'_reference'+'Space',null),h(this,'domOverlay'),h(this,'hitTest'),h(this,'imageTrack'+'ing'),h(this,'planeDetec'+'tion'),h(this,'meshDetect'+'ion'),h(this,'input'),h(this,'lightEstim'+'ation'),h(this,'views'),h(this,'anchors'),h(this,'_camera',null),h(this,'_localPosi'+'tion',new D()),h(this,'_localRota'+'tion',new le()),h(this,'_depthNear',0x1ac6+0x917+-0x23dd*0x1+0.1),h(this,'_depthFar',-0xf71+0x964+0x9f5*0x1),h(this,'_supported'+'FrameRates',null),h(this,'_width',-0x2183+0x1838*0x1+0x94b),h(this,'_height',0x57e+-0xba1+-0x1*-0x623),h(this,'_framebuff'+'erScaleFac'+'tor',0x99e*0x4+-0xb7+-0x25c0),(this['app']=_0x17d9be,this['_available'][lU]=!(-0xb3e+-0x1ce1+0x2820),this['_available'][cU]=!(0x3a3+-0x1*0x26dd+0x1*0x233b),this['_available'][$o]=!(-0x22bf+0x57a+0x3*0x9c2),this['views']=new Bh(this),this['domOverlay']=new fU(this),this['hitTest']=new jr(this),this['imageTrack'+'ing']=new L0(this),this['planeDetec'+'tion']=new Do(this),this['meshDetect'+'ion']=new Lo(this),this['input']=new Li(this),this['lightEstim'+'ation']=new Zu(this),this['anchors']=new on(this),this['views']=new Bh(this),this['_supported']&&(navigator['xr']['addEventLi'+'stener']('devicechan'+'ge',()=>{this['_deviceAva'+'ilabilityC'+'heck']();}),this['_deviceAva'+'ilabilityC'+'heck'](),this['app']['graphicsDe'+'vice']['on']('devicelost',this['_onDeviceL'+'ost'],this),this['app']['graphicsDe'+'vice']['on']('devicerest'+'ored',this['_onDeviceR'+'estored'],this)),this['isPC']=z0());}['destroy'](){}['start'](_0x2f9d04,_0x1bb490,_0x2e248a,_0x5697ba){let _0x143599=_0x5697ba;if(typeof _0x5697ba=='object'&&(_0x143599=_0x5697ba['callback']),!this['_available'][_0x1bb490]){_0x143599&&_0x143599(new Error('XR\x20is\x20not\x20'+'available'));return;}if(this['_session']){_0x143599&&_0x143599(new Error('XR\x20session'+'\x20is\x20alread'+'y\x20started'));return;}this['_camera']=_0x2f9d04,this['_camera']['camera']['xr']=this,this['_type']=_0x1bb490,this['_spaceType']=_0x2e248a,this['_framebuff'+'erScaleFac'+'tor']=(_0x5697ba==null?void(-0xa*0xca+0x12e*0x8+-0xb*0x24):_0x5697ba['framebuffe'+'rScaleFact'+'or'])??0x5f8*-0x1+0x1*0xb5+-0x2a2*-0x2,this['_setClipPl'+'anes'](_0x2f9d04['nearClip'],_0x2f9d04['farClip']);const _0x1b1374={'requiredFeatures':[_0x2e248a],'optionalFeatures':[]},_0x5c29cd=this['app']['graphicsDe'+'vice'];_0x5c29cd!=null&&_0x5c29cd['isWebGPU']&&_0x1b1374['requiredFe'+'atures']['push']('webgpu');const _0x6295b4=_0x5c29cd==null?void(-0x10ba+0x1b7e+-0xac4):_0x5c29cd['isWebGL2'];if(_0x1bb490===$o){if(_0x1b1374['optionalFe'+'atures']['push']('light-esti'+'mation'),_0x1b1374['optionalFe'+'atures']['push']('hit-test'),_0x5697ba&&(_0x5697ba['imageTrack'+'ing']&&this['imageTrack'+'ing']['supported']&&_0x1b1374['optionalFe'+'atures']['push']('image-trac'+'king'),_0x5697ba['planeDetec'+'tion']&&_0x1b1374['optionalFe'+'atures']['push']('plane-dete'+'ction'),_0x5697ba['meshDetect'+'ion']&&_0x1b1374['optionalFe'+'atures']['push']('mesh-detec'+'tion')),this['domOverlay']['supported']&&this['domOverlay']['root']&&(_0x1b1374['optionalFe'+'atures']['push']('dom-overla'+'y'),_0x1b1374['domOverlay']={'root':this['domOverlay']['root']}),_0x5697ba&&_0x5697ba['anchors']&&this['anchors']['supported']&&_0x1b1374['optionalFe'+'atures']['push']('anchors'),_0x5697ba&&_0x5697ba['depthSensi'+'ng']&&this['views']['supportedD'+'epth']){_0x1b1374['optionalFe'+'atures']['push']('depth-sens'+'ing');const _0x11fc03=[],_0x57ad8d=[];if(_0x11fc03['push'](P0,dU),_0x57ad8d['push'](I0,M0,D0),_0x5697ba['depthSensi'+'ng']['usagePrefe'+'rence']){const _0x414693=_0x11fc03['indexOf'](_0x5697ba['depthSensi'+'ng']['usagePrefe'+'rence']);_0x414693!==-(-0x1ae3+-0x1*-0x1151+0x993)&&_0x11fc03['splice'](_0x414693,0x1*0x2371+-0x250b+0x89*0x3),_0x11fc03['unshift'](_0x5697ba['depthSensi'+'ng']['usagePrefe'+'rence']);}if(_0x5697ba['depthSensi'+'ng']['dataFormat'+'Preference']){const _0x4498d8=_0x57ad8d['indexOf'](_0x5697ba['depthSensi'+'ng']['dataFormat'+'Preference']);_0x4498d8!==-(-0x533*-0x1+0x1978+0xf55*-0x2)&&_0x57ad8d['splice'](_0x4498d8,-0x1681+-0xdc6+0x2448),_0x57ad8d['unshift'](_0x5697ba['depthSensi'+'ng']['dataFormat'+'Preference']);}_0x1b1374['depthSensi'+'ng']={'usagePreference':_0x11fc03,'dataFormatPreference':_0x57ad8d};}_0x6295b4&&_0x5697ba&&_0x5697ba['cameraColo'+'r']&&this['views']['supportedC'+'olor']&&_0x1b1374['optionalFe'+'atures']['push']('camera-acc'+'ess');}_0x1b1374['optionalFe'+'atures']['push']('hand-track'+'ing'),_0x5697ba&&_0x5697ba['optionalFe'+'atures']&&(_0x1b1374['optionalFe'+'atures']=_0x1b1374['optionalFe'+'atures']['concat'](_0x5697ba['optionalFe'+'atures'])),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['images']['length']?this['imageTrack'+'ing']['prepareIma'+'ges']((_0x45027f,_0xe607ec)=>{if(_0x45027f){_0x143599&&_0x143599(_0x45027f),this['fire']('error',_0x45027f);return;}_0xe607ec!==null&&(_0x1b1374['trackedIma'+'ges']=_0xe607ec),this['_onStartOp'+'tionsReady'](_0x1bb490,_0x2e248a,_0x1b1374,_0x143599);}):this['_onStartOp'+'tionsReady'](_0x1bb490,_0x2e248a,_0x1b1374,_0x143599);}['_onStartOp'+'tionsReady'](_0x4a5252,_0x30c569,_0x23dce2,_0x5719f1){const _0x93fbd0=this['isPC']?{'requiredFeatures':['local-floo'+'r']}:_0x23dce2;navigator['xr']['requestSes'+'sion'](_0x4a5252,_0x93fbd0)['then'](_0x33dc76=>{this['_onSession'+'Start'](_0x33dc76,_0x30c569,_0x5719f1);})['catch'](_0x1186b9=>{this['_camera']['camera']['xr']=null,this['_camera']=null,this['_type']=null,this['_spaceType']=null,_0x5719f1&&_0x5719f1(_0x1186b9),this['fire']('error',_0x1186b9);});}['end'](_0x4cbc9c){if(!this['_session']){_0x4cbc9c&&_0x4cbc9c(new Error('XR\x20Session'+'\x20is\x20not\x20in'+'itialized'));return;}this['webglBindi'+'ng']=null,_0x4cbc9c&&this['once']('end',_0x4cbc9c),this['_session']['end']();}['isAvailabl'+'e'](_0x7b8636){return this['_available'][_0x7b8636];}['_deviceAva'+'ilabilityC'+'heck'](){for(const _0x5083f5 in this['_available'])this['_sessionSu'+'pportCheck'](_0x5083f5);}['initiateRo'+'omCapture'](_0x50aafd){if(!this['_session']){_0x50aafd(new Error('Session\x20is'+'\x20not\x20activ'+'e'));return;}if(!this['_session']['initiateRo'+'omCapture']){_0x50aafd(new Error('Session\x20do'+'es\x20not\x20sup'+'port\x20manua'+'l\x20room\x20cap'+'ture'));return;}this['_session']['initiateRo'+'omCapture']()['then'](()=>{_0x50aafd&&_0x50aafd(null);})['catch'](_0x4cfdad=>{_0x50aafd&&_0x50aafd(_0x4cfdad);});}['updateTarg'+'etFrameRat'+'e'](_0x56bd2a,_0x30e83d){var _0x54924d;if(!((_0x54924d=this['_session'])!=null&&_0x54924d['updateTarg'+'etFrameRat'+'e'])){_0x30e83d==null||_0x30e83d(new Error('unable\x20to\x20'+'update\x20fra'+'meRate'));return;}this['_session']['updateTarg'+'etFrameRat'+'e'](_0x56bd2a)['then'](()=>{_0x30e83d==null||_0x30e83d();})['catch'](_0x9693a5=>{_0x30e83d==null||_0x30e83d(_0x9693a5);});}['_sessionSu'+'pportCheck'](_0x2c08b8){navigator['xr']['isSessionS'+'upported'](_0x2c08b8)['then'](_0x505b2d=>{this['_available'][_0x2c08b8]!==_0x505b2d&&(this['_available'][_0x2c08b8]=_0x505b2d,this['fire']('available',_0x2c08b8,_0x505b2d),this['fire']('available:'+_0x2c08b8,_0x505b2d));})['catch'](_0x4c7c0a=>{this['fire']('error',_0x4c7c0a);});}['_onSession'+'Start'](_0x132d5e,_0x5c2846,_0x3b9b7c){let _0x1527b0=!(0x1*0x688+-0x81b+0x194);this['_session']=_0x132d5e;const _0x4f5c86=()=>{this['fire']('visibility'+':change',_0x132d5e['visibility'+'State']);},_0x2c16c6=()=>{this['_setClipPl'+'anes'](this['_camera']['nearClip'],this['_camera']['farClip']);},_0xb4d701=()=>{this['_camera']&&(this['_camera']['off']('set_nearCl'+'ip',_0x2c16c6),this['_camera']['off']('set_farCli'+'p',_0x2c16c6),this['_camera']['camera']['xr']=null,this['_camera']=null),_0x132d5e['removeEven'+'tListener']('end',_0xb4d701),_0x132d5e['removeEven'+'tListener']('visibility'+'change',_0x4f5c86),_0x1527b0||this['fire']('end'),this['_session']=null,this['_reference'+'Space']=null,this['_width']=-0x3*-0xa7e+0x1d44+-0x3cbe,this['_height']=-0x2175+-0x9ea+0x2b5f*0x1,this['_type']=null,this['_spaceType']=null,this['app']['systems']&&this['app']['tick']();};_0x132d5e['addEventLi'+'stener']('end',_0xb4d701),_0x132d5e['addEventLi'+'stener']('visibility'+'change',_0x4f5c86),this['_camera']['on']('set_nearCl'+'ip',_0x2c16c6),this['_camera']['on']('set_farCli'+'p',_0x2c16c6),w['assert'](window,'window\x20is\x20'+'needed\x20to\x20'+'scale\x20the\x20'+'XR\x20framebu'+'ffer.\x20Are\x20'+'you\x20runnin'+'g\x20XR\x20headl'+'ess?'),this['_createBas'+'eLayer'](),this['session']['supportedF'+'rameRates']?this['_supported'+'FrameRates']=Array['from'](this['session']['supportedF'+'rameRates']):this['_supported'+'FrameRates']=null,this['_session']['addEventLi'+'stener']('frameratec'+'hange',()=>{var _0x5044ee;this['fire']('frameratec'+'hange',(_0x5044ee=this['_session'])==null?void(-0x1e5b*-0x1+-0xacd+-0x138e):_0x5044ee['frameRate']);}),_0x132d5e['requestRef'+'erenceSpac'+'e'](_0x5c2846)['then'](_0x35ea39=>{this['_reference'+'Space']=_0x35ea39,this['app']['tick'](),_0x3b9b7c&&_0x3b9b7c(null),this['fire']('start');})['catch'](_0x337930=>{_0x1527b0=!(0x1c89+-0x1e0b*0x1+0x182),_0x132d5e['end'](),_0x3b9b7c&&_0x3b9b7c(_0x337930),this['fire']('error',_0x337930);});}['_setClipPl'+'anes'](_0x4115f8,_0x1d8803){this['_depthNear']===_0x4115f8&&this['_depthFar']===_0x1d8803||(this['_depthNear']=_0x4115f8,this['_depthFar']=_0x1d8803,this['_session']&&this['_session']['updateRend'+'erState']({'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_createBas'+'eLayer'](){const _0x405469=this['app']['graphicsDe'+'vice'],_0x322a0e=_0x405469['maxPixelRa'+'tio']/window['devicePixe'+'lRatio']*this['_framebuff'+'erScaleFac'+'tor'];if(this['_baseLayer']=new XRWebGLLayer(this['_session'],_0x405469['gl'],{'alpha':!(0x1*0x771+-0xb5*0x12+0x549*0x1),'depth':!(-0x7*0xda+0x1*0x1983+-0x138d),'stencil':!(-0x1c32+0xcca*-0x2+-0x2*-0x1ae3),'framebufferScaleFactor':_0x322a0e,'antialias':!(-0x24*-0xa1+0x18d2+-0x2f75)}),_0x405469!=null&&_0x405469['isWebGL2']&&window['XRWebGLBin'+'ding'])try{this['webglBindi'+'ng']=new XRWebGLBinding(this['_session'],_0x405469['gl']);}catch(_0x3819da){this['fire']('error',_0x3819da);}this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']});}['_onDeviceL'+'ost'](){this['_session']&&(this['webglBindi'+'ng']&&(this['webglBindi'+'ng']=null),this['_baseLayer']=null,this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_onDeviceR'+'estored'](){this['_session']&&setTimeout(()=>{this['app']['graphicsDe'+'vice']['gl']['makeXRComp'+'atible']()['then'](()=>{this['_createBas'+'eLayer']();})['catch'](_0x1330bc=>{this['fire']('error',_0x1330bc);});},-0x1a*-0x13b+0xc*0x106+-0x761*0x6);}['update'](_0x3908ba){if(!this['_session'])return!(-0x1df4+0x117b+0xc7a);const _0x43e397=_0x3908ba['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rWidth'],_0x124a84=_0x3908ba['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rHeight'];(this['_width']!==_0x43e397||this['_height']!==_0x124a84)&&(this['_width']=_0x43e397,this['_height']=_0x124a84,this['app']['graphicsDe'+'vice']['setResolut'+'ion'](_0x43e397,_0x124a84));const _0x2f533d=_0x3908ba['getViewerP'+'ose'](this['_reference'+'Space']);if(!_0x2f533d)return!(-0x2d1+-0x1*0xa4a+-0x347*-0x4);const _0x1cff1b=this['views']['list']['length'];this['views']['update'](_0x3908ba,_0x2f533d['views']);const _0x395e7f=_0x2f533d['transform']['position'],_0x127470=_0x2f533d['transform']['orientatio'+'n'];if(this['_localPosi'+'tion']['set'](_0x395e7f['x'],_0x395e7f['y'],_0x395e7f['z']),this['_localRota'+'tion']['set'](_0x127470['x'],_0x127470['y'],_0x127470['z'],_0x127470['w']),_0x1cff1b===0x57+-0x1ab1+0x1a5a&&this['views']['list']['length']>-0x118e+0x1*-0xce0+0x1e6e){const _0x44210e=new te(),_0x3fcb12=this['views']['list'][0x1971+0x127*0x21+-0x3f78];_0x44210e['copy'](_0x3fcb12['projMat']);const _0x2992ff=_0x44210e['data'],_0xc1518b=(0x1768+0x1*0x1edf+-0x3645)*Math['atan']((-0x1*0x17c1+-0x1c65+-0xa9*-0x4f)/_0x2992ff[-0xed7*0x1+0x172b+0x3*-0x2c5])*(0xa69+0x1539+0x6b*-0x4a)/Math['PI'],_0x4c929a=_0x2992ff[-0x3d*0x29+-0x19e6+-0x23b*-0x10]/_0x2992ff[0xc63+-0x1ac7+-0xc*-0x133],_0x56c8ee=_0x2992ff[-0x9*0x61+0x20d7*0x1+0x1*-0x1d60]/(_0x2992ff[0x93*0x5+-0x2*0xd01+0x172d]+(-0x10b1+0x1d+-0x3*-0x587)),_0x49f023=_0x2992ff[0xf62+-0x2*-0x103+-0x115a]/(_0x2992ff[0xe2c+0xf*-0x21f+0x11af]-(-0x336+-0xe*-0x107+0x1*-0xb2b));this['_camera']['camera']['setXrPrope'+'rties']({'aspectRatio':_0x4c929a,'farClip':_0x56c8ee,'fov':_0xc1518b,'horizontalFov':!(-0x1bfb*-0x1+-0x9*0x225+-0x1*0x8ad),'nearClip':_0x49f023});}return this['_camera']['camera']['_node']['setLocalPo'+'sition'](this['_localPosi'+'tion']),this['_camera']['camera']['_node']['setLocalRo'+'tation'](this['_localRota'+'tion']),this['input']['update'](_0x3908ba),this['_type']===$o&&(this['hitTest']['supported']&&this['hitTest']['update'](_0x3908ba),this['lightEstim'+'ation']['supported']&&this['lightEstim'+'ation']['update'](_0x3908ba),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['update'](_0x3908ba),this['anchors']['supported']&&this['anchors']['update'](_0x3908ba),this['planeDetec'+'tion']['supported']&&this['planeDetec'+'tion']['update'](_0x3908ba),this['meshDetect'+'ion']['supported']&&this['meshDetect'+'ion']['update'](_0x3908ba)),this['fire']('update',_0x3908ba),!(-0x16e8+0x9c0+0xd28);}get['supported'](){return this['_supported'];}get['active'](){return!!this['_session'];}get['type'](){return this['_type'];}get['spaceType'](){return this['_spaceType'];}get['session'](){return this['_session'];}get['frameRate'](){var _0x224f8c;return((_0x224f8c=this['_session'])==null?void(0x152c*-0x1+0x8*-0x284+0x294c):_0x224f8c['frameRate'])??null;}get['supportedF'+'rameRates'](){return this['_supported'+'FrameRates'];}get['framebuffe'+'rScaleFact'+'or'](){return this['_framebuff'+'erScaleFac'+'tor'];}set['fixedFovea'+'tion'](_0x39d10f){var _0x43a01d;(((_0x43a01d=this['_baseLayer'])==null?void(-0xa*-0x353+-0x56*-0x6d+-0x45dc):_0x43a01d['fixedFovea'+'tion'])??null)!==null&&(this['app']['graphicsDe'+'vice']['samples']>0xafb*0x3+0x1cf4+-0x3de4&&w['warn']('Fixed\x20Fove'+'ation\x20is\x20i'+'gnored.\x20Di'+'sable\x20anti'+'-aliasing\x20'+'for\x20it\x20to\x20'+'be\x20effecti'+'ve.'),this['_baseLayer']['fixedFovea'+'tion']=_0x39d10f);}get['fixedFovea'+'tion'](){var _0x40ba5b;return((_0x40ba5b=this['_baseLayer'])==null?void(0x1f80+0xac*-0xe+0x4*-0x586):_0x40ba5b['fixedFovea'+'tion'])??null;}get['camera'](){return this['_camera']?this['_camera']['entity']:null;}get['visibility'+'State'](){return this['_session']?this['_session']['visibility'+'State']:null;}}h(ln,'EVENT_AVAI'+'LABLE','available'),h(ln,'EVENT_STAR'+'T','start'),h(ln,'EVENT_END','end'),h(ln,'EVENT_UPDA'+'TE','update'),h(ln,'EVENT_ERRO'+'R','error');class $U extends Ks{constructor(_0x10df47,_0x4ca9ec={}){super(_0x10df47);const _0x3f813b=new tL();_0x3f813b['graphicsDe'+'vice']=_0x4ca9ec['graphicsDe'+'vice']??this['createDevi'+'ce'](_0x10df47,_0x4ca9ec),this['addCompone'+'ntSystems'](_0x3f813b),this['addResourc'+'eHandles'](_0x3f813b),_0x3f813b['elementInp'+'ut']=_0x4ca9ec['elementInp'+'ut'],_0x3f813b['keyboard']=_0x4ca9ec['keyboard'],_0x3f813b['mouse']=_0x4ca9ec['mouse'],_0x3f813b['touch']=_0x4ca9ec['touch'],_0x3f813b['gamepads']=_0x4ca9ec['gamepads'],_0x3f813b['scriptPref'+'ix']=_0x4ca9ec['scriptPref'+'ix'],_0x3f813b['assetPrefi'+'x']=_0x4ca9ec['assetPrefi'+'x'],_0x3f813b['scriptsOrd'+'er']=_0x4ca9ec['scriptsOrd'+'er'],_0x3f813b['soundManag'+'er']=new Pw(),_0x3f813b['lightmappe'+'r']=pL,_0x3f813b['batchManag'+'er']=IE,_0x3f813b['xr']=ln,this['init'](_0x3f813b);}['createDevi'+'ce'](_0x918b13,_0x19cc9c){return _0x19cc9c['graphicsDe'+'viceOption'+'s']||(_0x19cc9c['graphicsDe'+'viceOption'+'s']={}),Ae['browser']&&navigator['xr']&&(_0x19cc9c['graphicsDe'+'viceOption'+'s']['xrCompatib'+'le']=!(-0x1*0x184d+0x2*-0xea5+0x3597)),_0x19cc9c['graphicsDe'+'viceOption'+'s']['alpha']=_0x19cc9c['graphicsDe'+'viceOption'+'s']['alpha']||!(-0x6cf*0x3+0x2477+-0x1009),new aw(_0x918b13,_0x19cc9c['graphicsDe'+'viceOption'+'s']);}['addCompone'+'ntSystems'](_0x508c8c){_0x508c8c['componentS'+'ystems']=[wm,nR,NR,RL,BL,KR,zO,xF,wF,kF,hF,VL,kO,YO,LR,$L,aF,oF,mF,XR,UR,gF,BF];}['addResourc'+'eHandles'](_0xa9b5a5){_0xa9b5a5['resourceHa'+'ndlers']=[zF,WN,$N,XN,Ek,yk,oU,Ok,mk,jN,Dk,bk,JN,pk,QN,Ik,uk,ek,tk,YN,Nk,Lk,Rk,ZN,fk];}}class XU extends me{constructor(_0x1fb72a,_0xc9d399){super(),h(this,'_assets',new Set()),h(this,'_loadingAs'+'sets',new Set()),h(this,'_waitingAs'+'sets',new Set()),h(this,'_loading',!(-0xe11+-0x2170+0x2f82)),h(this,'_loaded',!(-0xae1+-0x1528*0x1+-0x557*-0x6)),h(this,'_failed',[]),(this['_registry']=_0xc9d399,_0x1fb72a['forEach'](_0x25b824=>{if(_0x25b824 instanceof pe)_0x25b824['registry']||(_0x25b824['registry']=_0xc9d399),this['_assets']['add'](_0x25b824);else{const _0x5754cd=_0xc9d399['get'](_0x25b824);_0x5754cd?this['_assets']['add'](_0x5754cd):this['_waitForAs'+'set'](_0x25b824);}}));}['destroy'](){this['_registry']['off']('load',this['_onLoad']),this['_registry']['off']('error',this['_onError']),this['_waitingAs'+'sets']['forEach'](_0x45aea3=>{this['_registry']['off']('add:'+_0x45aea3,this['_onAddAsse'+'t']);}),this['off']('progress'),this['off']('load');}['_assetHasD'+'ependencie'+'s'](_0x4f458a){var _0xc003a4;return _0x4f458a['type']==='model'&&((_0xc003a4=_0x4f458a['file'])==null?void(-0x1*-0x25b9+0x233c+-0x48f5):_0xc003a4['url'])&&_0x4f458a['file']['url']&&_0x4f458a['file']['url']['match'](/.json$/g);}['load'](_0x28f695,_0xd2dd50){if(this['_loading']){console['debug']('AssetListL'+'oader:\x20Loa'+'d\x20function'+'\x20called\x20mu'+'ltiple\x20tim'+'es.');return;}this['_loading']=!(-0x1*0x1631+0x1*-0x20eb+0x4*0xdc7),this['_callback']=_0x28f695,this['_scope']=_0xd2dd50,this['_registry']['on']('load',this['_onLoad'],this),this['_registry']['on']('error',this['_onError'],this);let _0x54df17=!(0x58d*0x2+0x26*0x1+0x1*-0xb3f);this['_assets']['forEach'](_0x15df70=>{_0x15df70['loaded']||(_0x54df17=!(0xc4+-0x7*-0x362+-0x95*0x2a),this['_assetHasD'+'ependencie'+'s'](_0x15df70)&&this['_registry']['loadFromUr'+'l'](_0x15df70['file']['url'],_0x15df70['type'],(_0x5d6de1,_0x3b3c79)=>{if(_0x5d6de1){this['_onError'](_0x5d6de1,_0x15df70);return;}this['_onLoad'](_0x15df70);}),this['_loadingAs'+'sets']['add'](_0x15df70),this['_registry']['add'](_0x15df70));}),this['_loadingAs'+'sets']['forEach'](_0x19ce1e=>{this['_assetHasD'+'ependencie'+'s'](_0x19ce1e)||this['_registry']['load'](_0x19ce1e);}),!_0x54df17&&this['_waitingAs'+'sets']['size']===0x11e0+0x3da*-0x2+-0xa2c&&this['_loadingCo'+'mplete']();}['ready'](_0x664274,_0x10ba51=this){this['_loaded']?_0x664274['call'](_0x10ba51,Array['from'](this['_assets'])):this['once']('load',_0xe73a28=>{_0x664274['call'](_0x10ba51,_0xe73a28);});}['_loadingCo'+'mplete'](){this['_loaded']||(this['_loaded']=!(-0x2414+0x955*-0x1+-0x1f*-0x177),this['_registry']['off']('load',this['_onLoad'],this),this['_registry']['off']('error',this['_onError'],this),this['_failed']['length']?(this['_callback']&&this['_callback']['call'](this['_scope'],'Failed\x20to\x20'+'load\x20some\x20'+'assets',this['_failed']),this['fire']('error',this['_failed'])):(this['_callback']&&this['_callback']['call'](this['_scope']),this['fire']('load',Array['from'](this['_assets']))));}['_onLoad'](_0x3e3cce){this['_loadingAs'+'sets']['has'](_0x3e3cce)&&(this['fire']('progress',_0x3e3cce),this['_loadingAs'+'sets']['delete'](_0x3e3cce)),this['_loadingAs'+'sets']['size']===-0x43*-0x3+0x1*-0x16e5+-0x1*-0x161c&&setTimeout(()=>{this['_loadingCo'+'mplete']();},0x14a8+0xb22+0x1*-0x1fca);}['_onError'](_0x2230af,_0x161544){this['_loadingAs'+'sets']['has'](_0x161544)&&(this['_failed']['push'](_0x161544),this['_loadingAs'+'sets']['delete'](_0x161544)),this['_loadingAs'+'sets']['size']===0x73c+-0x1feb*-0x1+-0x2727&&setTimeout(()=>{this['_loadingCo'+'mplete']();},0x1ee+0x227e*0x1+-0x246c);}['_onAddAsse'+'t'](_0x58bf26){this['_waitingAs'+'sets']['delete'](_0x58bf26),this['_assets']['add'](_0x58bf26),_0x58bf26['loaded']||(this['_loadingAs'+'sets']['add'](_0x58bf26),this['_registry']['load'](_0x58bf26));}['_waitForAs'+'set'](_0x1df300){this['_waitingAs'+'sets']['add'](_0x1df300),this['_registry']['once']('add:'+_0x1df300,this['_onAddAsse'+'t'],this);}}const Fc=[],_U=[[],[],[]];class gU extends ys{constructor(_0x297f41,_0x187c8b){super(_0x297f41),h(this,'viewBindGr'+'oups',[]),this['renderer']=_0x187c8b;}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x2af6c1=>{_0x2af6c1['defaultUni'+'formBuffer']['destroy'](),_0x2af6c1['destroy']();}),this['viewBindGr'+'oups']['length']=0x17*-0x133+-0x1439+-0xd3*-0x3a;}['update'](_0x2aab93,_0xb9f93c,_0x3f166a,_0x5528ce){this['camera']=_0x2aab93,this['scene']=_0xb9f93c,this['layers']=_0x3f166a,this['mapping']=_0x5528ce;}['execute'](){const _0x130a3e=this['device'],{renderer:_0x20ad96,camera:_0x2f2bb7,scene:_0x5891e3,layers:_0x1f85de,mapping:_0x34e4f0,renderTarget:_0x57a15d}=this,_0x67958d=_0x5891e3['layers']['layerList'],_0x2d1eac=_0x5891e3['layers']['subLayerEn'+'abled'],_0x33a8c1=_0x5891e3['layers']['subLayerLi'+'st'];for(let _0x571a6d=0x10df+-0xf23+-0x1bc;_0x571a6d<_0x67958d['length'];_0x571a6d++){const _0x2712d1=_0x67958d[_0x571a6d];if(!(_0x1f85de&&_0x1f85de['indexOf'](_0x2712d1)<-0x13*0x1c+-0x2248+0x245c)&&_0x2712d1['enabled']&&_0x2d1eac[_0x571a6d]&&_0x2712d1['camerasSet']['has'](_0x2f2bb7['camera'])){const _0x469587=_0x33a8c1[_0x571a6d];Q['pushGpuMar'+'ker'](_0x130a3e,_0x2712d1['name']+'('+(_0x469587?'TRANSP':'OPAQUE')+')'),_0x2712d1['_clearDept'+'hBuffer']&&_0x20ad96['clear'](_0x2f2bb7['camera'],!(-0xaf2+0x15+0x56f*0x2),!(0x1*0x457+0x2353*-0x1+0xf7e*0x2),!(0x18f*0x11+-0x1*-0xa89+0x2507*-0x1));const _0x4d29ea=_0x2712d1['meshInstan'+'ces'];for(let _0x7fd5fe=-0xaff+-0x251*-0x2+0x9*0xb5;_0x7fd5fe<_0x4d29ea['length'];_0x7fd5fe++){const _0x1127bb=_0x4d29ea[_0x7fd5fe];_0x1127bb['pick']&&_0x1127bb['transparen'+'t']===_0x469587&&(Fc['push'](_0x1127bb),_0x34e4f0['set'](_0x1127bb['id'],_0x1127bb));}Fc['length']>0x3a2+0x40*0x1+-0x3e2&&(_0x5891e3['clusteredL'+'ightingEna'+'bled']&&_0x20ad96['worldClust'+'ersAllocat'+'or']['empty']['activate'](),_0x20ad96['setCameraU'+'niforms'](_0x2f2bb7['camera'],_0x57a15d),_0x130a3e['supportsUn'+'iformBuffe'+'rs']&&_0x20ad96['setupViewU'+'niformBuff'+'ers'](this['viewBindGr'+'oups'],_0x20ad96['viewUnifor'+'mFormat'],_0x20ad96['viewBindGr'+'oupFormat'],null),_0x20ad96['renderForw'+'ard'](_0x2f2bb7['camera'],_0x57a15d,Fc,_U,Zn,_0x1ae809=>{_0x130a3e['setBlendSt'+'ate'](pt['NOBLEND']);}),Fc['length']=-0x2677*0x1+0x22dd+-0x2*-0x1cd),Q['popGpuMark'+'er'](_0x130a3e);}}}}const Rf=new Set(),SU=new re();let qU=class{constructor(_0x2d89c8,_0x1a007d,_0x1d78fc){h(this,'renderTarg'+'et',null),h(this,'mapping',new Map()),h(this,'deviceVali'+'d',!(-0x1ca6+0x12b6+0x6a*0x18)),(w['assert'](_0x2d89c8),this['renderer']=_0x2d89c8['renderer'],this['device']=_0x2d89c8['graphicsDe'+'vice'],this['renderPass']=new gU(this['device'],_0x2d89c8['renderer']),this['width']=-0xc2*-0x7+-0x15aa+0x105c,this['height']=0xf6c+0xbca*0x2+-0x2700,this['resize'](_0x1a007d,_0x1d78fc),this['device']['on']('destroy',()=>{this['deviceVali'+'d']=!(-0x1012+-0x1bb4+0x2bc7);}));}['getSelecti'+'on'](_0x37ce9d,_0x556815,_0x3e5d18=0x162d+0xd6*-0x2+-0x1480,_0x3ebdca=0x3*0x647+-0x1f*0x6b+-0x5df){const _0x465e49=this['device'];if(_0x465e49['isWebGPU'])return w['errorOnce']('pc.Picker#'+'getSelecti'+'on\x20is\x20not\x20'+'supported\x20'+'on\x20WebGPU,'+'\x20use\x20pc.Pi'+'cker#getSe'+'lectionAsy'+'nc\x20instead'+'.'),[];w['assert'](typeof _0x37ce9d!='object','Picker.get'+'Selection:'+'param\x20\x27rec'+'t\x27\x20is\x20depr'+'ecated,\x20us'+'e\x20\x27x,\x20y,\x20w'+'idth,\x20heig'+'ht\x27\x20instea'+'d.'),_0x556815=this['renderTarg'+'et']['height']-(_0x556815+_0x3ebdca);const _0x4938e9=this['sanitizeRe'+'ct'](_0x37ce9d,_0x556815,_0x3e5d18,_0x3ebdca);_0x465e49['setRenderT'+'arget'](this['renderTarg'+'et']),_0x465e49['updateBegi'+'n']();const _0x41c9f0=new Uint8Array((-0x5b*0x4+-0xe*0x1d4+0x1b08)*_0x4938e9['z']*_0x4938e9['w']);return _0x465e49['readPixels'](_0x4938e9['x'],_0x4938e9['y'],_0x4938e9['z'],_0x4938e9['w'],_0x41c9f0),_0x465e49['updateEnd'](),this['decodePixe'+'ls'](_0x41c9f0,this['mapping']);}['getSelecti'+'onAsync'](_0x150605,_0x3bd8a0,_0x2448f5=0x1a09+0xb36+0x7*-0x552,_0x51188c=0x710*-0x2+0x4a*0x22+0x44d){var _0x1d3479;(_0x1d3479=this['device'])!=null&&_0x1d3479['isWebGL2']&&(_0x3bd8a0=this['renderTarg'+'et']['height']-(_0x3bd8a0+_0x51188c));const _0x52a09d=this['sanitizeRe'+'ct'](_0x150605,_0x3bd8a0,_0x2448f5,_0x51188c);return this['renderTarg'+'et']['colorBuffe'+'r']['read'](_0x52a09d['x'],_0x52a09d['y'],_0x52a09d['z'],_0x52a09d['w'],{'renderTarget':this['renderTarg'+'et'],'immediate':!(-0x47*-0x59+0x1*0x1b7+0x1a66*-0x1)})['then'](_0x34d797=>this['decodePixe'+'ls'](_0x34d797,this['mapping']));}['sanitizeRe'+'ct'](_0x579cbd,_0x3d92e8,_0x479cdb,_0xc41a97){const _0x4ca18e=this['renderTarg'+'et']['width'],_0xd758de=this['renderTarg'+'et']['height'];return _0x579cbd=Y['clamp'](Math['floor'](_0x579cbd),-0x1*0x2649+-0x1*0x716+0x2d5f,_0x4ca18e-(-0xf42+0xf*-0x221+0x2f32)),_0x3d92e8=Y['clamp'](Math['floor'](_0x3d92e8),0xb24+0x4e5+-0x1009,_0xd758de-(-0x80*0x4b+-0x1b2f*-0x1+0xa52)),_0x479cdb=Math['floor'](Math['max'](_0x479cdb,-0x44f+-0x19c7*-0x1+-0x1577)),_0x479cdb=Math['min'](_0x479cdb,_0x4ca18e-_0x579cbd),_0xc41a97=Math['floor'](Math['max'](_0xc41a97,-0x5*-0x2db+-0xd*-0x266+-0x2d74)),_0xc41a97=Math['min'](_0xc41a97,_0xd758de-_0x3d92e8),SU['set'](_0x579cbd,_0x3d92e8,_0x479cdb,_0xc41a97);}['decodePixe'+'ls'](_0x209f32,_0x175fd9){const _0x1fcd96=[];if(this['deviceVali'+'d']){const _0x208e29=_0x209f32['length'];for(let _0x27f1a4=0x21d0+-0x168b+0x1*-0xb45;_0x27f1a4<_0x208e29;_0x27f1a4+=0xf91*-0x2+0x1009+0xf1d){const _0x34000d=_0x209f32[_0x27f1a4+(0x58d+-0x21b8+0x1c2b)],_0x2f2021=_0x209f32[_0x27f1a4+(-0x51*0x6+0x1*0x41b+-0x234)],_0xa90def=_0x209f32[_0x27f1a4+(-0x1b9a+0xe+-0xdc7*-0x2)],_0x121703=(_0x209f32[_0x27f1a4+(0x2cf*0xa+0x18f+-0x1da2)]<<-0x74*0x48+0x11a5*-0x2+0xa*0x6cd|_0x34000d<<0x20*-0x57+0x14d4*-0x1+-0x7f1*-0x4|_0x2f2021<<-0x11c6+0xa7b*0x1+-0x753*-0x1|_0xa90def)>>>-0x4*-0x5e9+-0x73*0x40+-0xda*-0x6;_0x121703!==-0x19ed13*0xa1d+0xb56*-0xc6238+0x1129619*0x266&&Rf['add'](_0x175fd9['get'](_0x121703));}Rf['forEach'](_0x59edad=>{_0x59edad&&_0x1fcd96['push'](_0x59edad);}),Rf['clear']();}return _0x1fcd96;}['allocateRe'+'nderTarget'](){const _0x3ba9f9=new _e(this['device'],{'format':Ne,'width':this['width'],'height':this['height'],'mipmaps':!(0x2e*0x1d+-0xb6c+0x637*0x1),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':'pick'});this['renderTarg'+'et']=new gt({'colorBuffer':_0x3ba9f9,'depth':!(0x1f2e+0x1015*-0x1+-0x305*0x5)});}['releaseRen'+'derTarget'](){this['renderTarg'+'et']&&(this['renderTarg'+'et']['destroyTex'+'tureBuffer'+'s'](),this['renderTarg'+'et']['destroy'](),this['renderTarg'+'et']=null);}['prepare'](_0x4731f6,_0x4fb6a1,_0x407f62){_0x407f62 instanceof Ot&&(_0x407f62=[_0x407f62]),(!this['renderTarg'+'et']||this['width']!==this['renderTarg'+'et']['width']||this['height']!==this['renderTarg'+'et']['height'])&&(this['releaseRen'+'derTarget'](),this['allocateRe'+'nderTarget']()),this['mapping']['clear']();const _0x1c382b=this['renderPass'];_0x1c382b['init'](this['renderTarg'+'et']),_0x1c382b['colorOps']['clearValue']=ie['WHITE'],_0x1c382b['colorOps']['clear']=!(-0x1ecb+-0x1b1a*-0x1+0x3b1),_0x1c382b['depthStenc'+'ilOps']['clearDepth']=!(0x1*0x5a1+0x41*-0x7b+0x199a),_0x1c382b['update'](_0x4731f6,_0x4fb6a1,_0x407f62,this['mapping']),_0x1c382b['render']();}['resize'](_0x579b6e,_0x559fda){this['width']=Math['floor'](_0x579b6e),this['height']=Math['floor'](_0x559fda);}},cr,hr;const Of=new D(),RS=new D(),Ri=new Dn(),Ro=new Dn(),ep=new Dn();Ri['end']=new D(),Ro['end']=new D(),ep['end']=new D();const en=new D(),Nc=new D(),Ff=new D(),OS=new D(),Nf=new D(),kc=new D(),Uc=new D(),Bc=new D(),zc=new D(),kf=new D(),yU=new D(),tn=new D(),wo=new D(),Vc=new D(),Gc=new D(),Eo=new D(),FS=new D(),NS=new D(),kS=new D(),US=new D(),vU=new re();function BS(_0x4539f6,_0x564e3a,_0x4b73c4){return yU['cross'](_0x4539f6,_0x564e3a)['dot'](_0x4b73c4);}function xU(_0x1568b0,_0x140b6a,_0x4083ca){en['sub2'](_0x140b6a,_0x1568b0),Nc['sub2'](_0x4083ca[-0x10e0+0x2671*-0x1+0x3751],_0x1568b0),Ff['sub2'](_0x4083ca[0x1*0x17f8+0x138*-0x3+-0x144f],_0x1568b0),OS['sub2'](_0x4083ca[-0x17fe+-0xe30+0x2630],_0x1568b0),kc['cross'](OS,en);let _0xd18907=Nc['dot'](kc),_0x35db3e,_0x1586a7;if(_0xd18907>=-0x4c*0x29+-0x786+-0x2*-0x9d9){if(_0x35db3e=-Ff['dot'](kc),_0x35db3e<-0xe73*0x1+0x1101+-0x28e||(_0x1586a7=BS(en,Ff,Nc),_0x1586a7<0x179c+-0x831*0x3+0xf7*0x1))return-(0x1fa4+-0x1*-0x92b+-0x28ce);const _0x3d3899=(0x4db*0x1+0x17f*0x13+-0x2147)/(_0x35db3e+_0xd18907+_0x1586a7);Uc['copy'](_0x4083ca[0x1a1b+-0x1e74+0x459])['mulScalar'](_0x35db3e*_0x3d3899),Bc['copy'](_0x4083ca[-0x1810+-0x163b+0x2e4c])['mulScalar'](_0xd18907*_0x3d3899),zc['copy'](_0x4083ca[-0x1f*-0xf+0x1ff5+-0x21c4*0x1])['mulScalar'](_0x1586a7*_0x3d3899),kf['copy'](Uc)['add'](Bc)['add'](zc);}else{if(Nf['sub2'](_0x4083ca[0xff5*0x1+0x9*-0x404+0x1432],_0x1568b0),_0x35db3e=Nf['dot'](kc),_0x35db3e<-0x1009*0x2+0x75*0xa+-0xdc0*-0x2||(_0x1586a7=BS(en,Nc,Nf),_0x1586a7<-0x1*-0x105d+0x1f31+0x1*-0x2f8e))return-(0x61d+-0xfb+0xd*-0x65);_0xd18907=-_0xd18907;const _0x524893=(-0x1919*0x1+-0x1bbb+-0x19*-0x21d)/(_0x35db3e+_0xd18907+_0x1586a7);Uc['copy'](_0x4083ca[0x2561+-0x256c+0xb])['mulScalar'](_0x35db3e*_0x524893),Bc['copy'](_0x4083ca[-0x739*-0x2+0x1c93+-0x2b02])['mulScalar'](_0xd18907*_0x524893),zc['copy'](_0x4083ca[-0xd32+-0xa7b+0x17af])['mulScalar'](_0x1586a7*_0x524893),kf['copy'](Uc)['add'](Bc)['add'](zc);}return en['sub2'](_0x4083ca[-0x24ae+0xbd3+0x18db],_0x4083ca[0x25*-0x7d+0x213c+-0xf29])['lengthSq']()<(-0x19*-0x10d+0x455*0x5+0xa*-0x4cb+0.0001)*(0x2*-0x10f1+0x82*-0x3d+-0x2*-0x206e+0.0001)||en['sub2'](_0x4083ca[-0x1666+0x1f68+-0x901],_0x4083ca[-0x2f5*-0x2+0x556*-0x6+0x1a1d])['lengthSq']()<(-0x1*-0xae7+0x4*-0x9b3+-0x1be5*-0x1+0.0001)*(-0x616+-0x2*-0x38b+0x8*-0x20+0.0001)?-(-0x1*0x1408+0x1*0x13df+-0x2a*-0x1):kf['sub'](_0x1568b0)['lengthSq']();}class Am{constructor(_0x1faac6,_0x4a89e8,_0x391fa8){this['event']=_0x1faac6,this['element']=_0x4a89e8,this['camera']=_0x391fa8,this['_stopPropa'+'gation']=!(-0xdd2*0x1+-0x6*0x454+-0x1*-0x27cb);}['stopPropag'+'ation'](){this['_stopPropa'+'gation']=!(0xa36*-0x3+-0xb4b+0x29ed),this['event']&&(this['event']['stopImmedi'+'atePropaga'+'tion'](),this['event']['stopPropag'+'ation']());}}class bo extends Am{constructor(_0x3015af,_0x55e137,_0x4a8f67,_0x3c5925,_0x29f93a,_0x304cc8,_0x18fe7e){super(_0x3015af,_0x55e137,_0x4a8f67),this['x']=_0x3c5925,this['y']=_0x29f93a,this['ctrlKey']=_0x3015af['ctrlKey']||!(0x7ee+0x2*0x618+-0x141d),this['altKey']=_0x3015af['altKey']||!(0x7*-0x43f+0x14a5+-0x5d*-0x19),this['shiftKey']=_0x3015af['shiftKey']||!(0x1562+-0x1074+-0x4ed),this['metaKey']=_0x3015af['metaKey']||!(-0x47+0xca8+-0xc60),this['button']=_0x3015af['button'],sa['isPointerL'+'ocked']()?(this['dx']=_0x3015af['movementX']||_0x3015af['webkitMove'+'mentX']||_0x3015af['mozMovemen'+'tX']||-0x17d+-0x1*0x22e1+0x245e,this['dy']=_0x3015af['movementY']||_0x3015af['webkitMove'+'mentY']||_0x3015af['mozMovemen'+'tY']||0x37c*-0x2+0x21c1+-0x1ac9):(this['dx']=_0x3c5925-_0x304cc8,this['dy']=_0x29f93a-_0x18fe7e),this['wheelDelta']=0x1fb1+-0x64d*-0x4+-0x3*0x12f7,_0x3015af['type']==='wheel'&&(_0x3015af['deltaY']>-0xbf5*0x1+-0x13f0+-0x17*-0x163?this['wheelDelta']=-0xe68+-0xecc+0x1d35:_0x3015af['deltaY']<-0x5a7+-0xd6a+0x3*0x65b&&(this['wheelDelta']=-(0xd29*-0x2+-0xd6d+0x27c0)));}}class Ao extends Am{constructor(_0x428233,_0x570f5a,_0x44f866,_0x148e18,_0x52f1a1,_0x30b986){super(_0x428233,_0x570f5a,_0x44f866),this['touches']=_0x428233['touches'],this['changedTou'+'ches']=_0x428233['changedTou'+'ches'],this['x']=_0x148e18,this['y']=_0x52f1a1,this['touch']=_0x30b986;}}class dr extends Am{constructor(_0x1a3bca,_0x3a7a2f,_0x7d48ca,_0x13cd00){super(_0x1a3bca,_0x3a7a2f,_0x7d48ca),this['inputSourc'+'e']=_0x13cd00;}}class Xo{constructor(_0x321b71,_0x1b1378){this['_app']=null,this['_attached']=!(0x5*-0x315+0x1*-0x269f+-0x601*-0x9),this['_target']=null,this['_enabled']=!(-0x11c7+0xff2+0x1d5),this['_lastX']=-0x2677+-0x115b*-0x1+0x151c,this['_lastY']=-0x2466+-0x1*0xaa9+0x2f0f,this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_touchstar'+'tHandler']=this['_handleTou'+'chStart']['bind'](this),this['_touchendH'+'andler']=this['_handleTou'+'chEnd']['bind'](this),this['_touchcanc'+'elHandler']=this['_touchendH'+'andler'],this['_touchmove'+'Handler']=this['_handleTou'+'chMove']['bind'](this),this['_sortHandl'+'er']=this['_sortEleme'+'nts']['bind'](this),this['_elements']=[],this['_hoveredEl'+'ement']=null,this['_pressedEl'+'ement']=null,this['_touchedEl'+'ements']={},this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired']={},this['_selectedE'+'lements']={},this['_selectedP'+'ressedElem'+'ents']={},this['_useMouse']=!_0x1b1378||_0x1b1378['useMouse']!==!(-0x94a+-0x2*0x4af+0x12a9),this['_useTouch']=!_0x1b1378||_0x1b1378['useTouch']!==!(0x2182+0x1253*0x1+-0x33d4),this['_useXr']=!_0x1b1378||_0x1b1378['useXr']!==!(0x9b*0x23+0x27*-0x75+-0x35d),this['_selectEve'+'ntsAttache'+'d']=!(0x87b*-0x3+0x10*-0xd+-0x1*-0x1a42),Ae['touch']&&(this['_clickedEn'+'tities']={}),this['attach'](_0x321b71);}set['enabled'](_0x11665a){this['_enabled']=_0x11665a;}get['enabled'](){return this['_enabled'];}set['app'](_0x1201f2){this['_app']=_0x1201f2;}get['app'](){return this['_app']||Ms();}['attach'](_0x12a391){this['_attached']&&(this['_attached']=!(-0x696*0x4+0x1724+0x335),this['detach']()),this['_target']=_0x12a391,this['_attached']=!(-0x132d*0x1+0x1*-0x1a5+0x82*0x29);const _0x31b1bd=Ae['passiveEve'+'nts']?{'passive':!(0x93b+-0x224*-0x3+-0xfa7)}:!(0x42a*-0x8+-0x1922+0xd*0x47f);this['_useMouse']&&(window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x31b1bd),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x31b1bd),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x31b1bd),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x31b1bd)),this['_useTouch']&&Ae['touch']&&(this['_target']['addEventLi'+'stener']('touchstart',this['_touchstar'+'tHandler'],_0x31b1bd),this['_target']['addEventLi'+'stener']('touchend',this['_touchendH'+'andler'],!(-0xd68+0x1*-0xc43+0x4*0x66b)),this['_target']['addEventLi'+'stener']('touchmove',this['_touchmove'+'Handler'],!(0xb51+-0x52b+-0x625)),this['_target']['addEventLi'+'stener']('touchcance'+'l',this['_touchcanc'+'elHandler'],!(-0xc3b*0x3+0x1*-0xca4+0x3156*0x1))),this['attachSele'+'ctEvents']();}['attachSele'+'ctEvents'](){!this['_selectEve'+'ntsAttache'+'d']&&this['_useXr']&&this['app']&&this['app']['xr']&&this['app']['xr']['supported']&&(this['_clickedEn'+'tities']||(this['_clickedEn'+'tities']={}),this['_selectEve'+'ntsAttache'+'d']=!(0x48b+0x10c0+-0x154b),this['app']['xr']['on']('start',this['_onXrStart'],this));}['detach'](){if(!this['_attached'])return;this['_attached']=!(-0xd3a+0x43*0x5+0xbec);const _0x15e376=Ae['passiveEve'+'nts']?{'passive':!(-0xd*-0x163+0x6*0x5d3+0xbf*-0x47)}:!(0x2665*-0x1+-0xe83*-0x2+0x960);this['_useMouse']&&(window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x15e376),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x15e376),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x15e376),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x15e376)),this['_useTouch']&&(this['_target']['removeEven'+'tListener']('touchstart',this['_touchstar'+'tHandler'],_0x15e376),this['_target']['removeEven'+'tListener']('touchend',this['_touchendH'+'andler'],!(0x1859+-0x947+-0xf11)),this['_target']['removeEven'+'tListener']('touchmove',this['_touchmove'+'Handler'],!(0xd9e+0x1*0x172f+-0x4*0x933)),this['_target']['removeEven'+'tListener']('touchcance'+'l',this['_touchcanc'+'elHandler'],!(-0x3*0x37f+-0x10de+-0x1b5c*-0x1))),this['_selectEve'+'ntsAttache'+'d']&&(this['_selectEve'+'ntsAttache'+'d']=!(0x6a0+-0x6*-0x151+0x1*-0xe85),this['app']['xr']['off']('start',this['_onXrStart'],this),this['app']['xr']['off']('end',this['_onXrEnd'],this),this['app']['xr']['off']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['off']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['off']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['off']('remove',this['_onXrInput'+'Remove'],this)),this['_target']=null;}['addElement'](_0x1a21de){this['_elements']['indexOf'](_0x1a21de)===-(0xfb8+-0x108*0x1+0x4e5*-0x3)&&this['_elements']['push'](_0x1a21de);}['removeElem'+'ent'](_0x4ef4d8){const _0x44fc8b=this['_elements']['indexOf'](_0x4ef4d8);_0x44fc8b!==-(-0x842*-0x4+0x24f*-0x7+-0x10de)&&this['_elements']['splice'](_0x44fc8b,0x1760+0x506*-0x1+-0x29f*0x7);}['_handleUp'](_0x369643){this['_enabled']&&(sa['isPointerL'+'ocked']()||(this['_calcMouse'+'Coords'](_0x369643),this['_onElement'+'MouseEvent']('mouseup',_0x369643)));}['_handleDow'+'n'](_0x46e338){this['_enabled']&&(sa['isPointerL'+'ocked']()||(this['_calcMouse'+'Coords'](_0x46e338),this['_onElement'+'MouseEvent']('mousedown',_0x46e338)));}['_handleMov'+'e'](_0x29a768){this['_enabled']&&(this['_calcMouse'+'Coords'](_0x29a768),this['_onElement'+'MouseEvent']('mousemove',_0x29a768),this['_lastX']=cr,this['_lastY']=hr);}['_handleWhe'+'el'](_0x4c03f5){this['_enabled']&&(this['_calcMouse'+'Coords'](_0x4c03f5),this['_onElement'+'MouseEvent']('mousewheel',_0x4c03f5));}['_determine'+'TouchedEle'+'ments'](_0x49c3ee){const _0x11dd83={},_0x486431=this['app']['systems']['camera']['cameras'];for(let _0x113cdb=_0x486431['length']-(-0x21*-0xf+0x1*0x61b+0xbb*-0xb);_0x113cdb>=-0x638+-0xfe8+0x8*0x2c4;_0x113cdb--){const _0x4d2372=_0x486431[_0x113cdb];let _0x269fba=0x4*-0x1b+-0xc05+0xf5*0xd;const _0x19b4c9=_0x49c3ee['changedTou'+'ches']['length'];for(let _0x5c2edd=-0x1*0x445+0xec8+0xcf*-0xd;_0x5c2edd<_0x19b4c9;_0x5c2edd++){if(_0x11dd83[_0x49c3ee['changedTou'+'ches'][_0x5c2edd]['identifier']]){_0x269fba++;continue;}const _0x531023=Wc(_0x49c3ee['changedTou'+'ches'][_0x5c2edd]),_0x5d45da=this['_getTarget'+'ElementByC'+'oords'](_0x4d2372,_0x531023['x'],_0x531023['y']);_0x5d45da&&(_0x269fba++,_0x11dd83[_0x49c3ee['changedTou'+'ches'][_0x5c2edd]['identifier']]={'element':_0x5d45da,'camera':_0x4d2372,'x':_0x531023['x'],'y':_0x531023['y']});}if(_0x269fba===_0x19b4c9)break;}return _0x11dd83;}['_handleTou'+'chStart'](_0x3d0375){if(!this['_enabled'])return;const _0x531379=this['_determine'+'TouchedEle'+'ments'](_0x3d0375);for(let _0x57e8f1=0x4d8+0x148a+-0x1962,_0x5e1edb=_0x3d0375['changedTou'+'ches']['length'];_0x57e8f1<_0x5e1edb;_0x57e8f1++){const _0x1ffb19=_0x3d0375['changedTou'+'ches'][_0x57e8f1],_0x157b45=_0x531379[_0x1ffb19['identifier']],_0x16dce5=this['_touchedEl'+'ements'][_0x1ffb19['identifier']];_0x157b45&&(!_0x16dce5||_0x157b45['element']!==_0x16dce5['element'])&&(this['_fireEvent'](_0x3d0375['type'],new Ao(_0x3d0375,_0x157b45['element'],_0x157b45['camera'],_0x157b45['x'],_0x157b45['y'],_0x1ffb19)),this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x1ffb19['identifier']]=!(-0x228d*0x1+-0x2097+0x4325));}for(const _0x55404d in _0x531379)this['_touchedEl'+'ements'][_0x55404d]=_0x531379[_0x55404d];}['_handleTou'+'chEnd'](_0x1fd044){if(!this['_enabled'])return;const _0x3f4c1a=this['app']['systems']['camera']['cameras'];for(const _0x8f44ca in this['_clickedEn'+'tities'])delete this['_clickedEn'+'tities'][_0x8f44ca];for(let _0x1e0a96=0x5*-0xa4+0x1cf4+0x10*-0x19c,_0x36c9b1=_0x1fd044['changedTou'+'ches']['length'];_0x1e0a96<_0x36c9b1;_0x1e0a96++){const _0x580420=_0x1fd044['changedTou'+'ches'][_0x1e0a96],_0x109e9a=this['_touchedEl'+'ements'][_0x580420['identifier']];if(!_0x109e9a)continue;const _0x3ebb66=_0x109e9a['element'],_0x2146bc=_0x109e9a['camera'],_0x449979=_0x109e9a['x'],_0x11b91e=_0x109e9a['y'];delete this['_touchedEl'+'ements'][_0x580420['identifier']],delete this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x580420['identifier']];const _0x303985=Wc(_0x580420);for(let _0x2fa3d5=_0x3f4c1a['length']-(-0x7*-0xf5+0xc05*0x1+0x1*-0x12b7);_0x2fa3d5>=-0x1a8f+0x35*-0x3e+0x2765*0x1;_0x2fa3d5--)this['_getTarget'+'ElementByC'+'oords'](_0x3f4c1a[_0x2fa3d5],_0x303985['x'],_0x303985['y'])===_0x3ebb66&&(this['_clickedEn'+'tities'][_0x3ebb66['entity']['getGuid']()]||(this['_fireEvent']('click',new Ao(_0x1fd044,_0x3ebb66,_0x2146bc,_0x449979,_0x11b91e,_0x580420)),this['_clickedEn'+'tities'][_0x3ebb66['entity']['getGuid']()]=Date['now']()));this['_fireEvent'](_0x1fd044['type'],new Ao(_0x1fd044,_0x3ebb66,_0x2146bc,_0x449979,_0x11b91e,_0x580420));}}['_handleTou'+'chMove'](_0x4860eb){if(_0x4860eb['preventDef'+'ault'](),!this['_enabled'])return;const _0x415155=this['_determine'+'TouchedEle'+'ments'](_0x4860eb);for(let _0x28d9e8=-0xb3*-0x11+0x21e3+-0x2dc6,_0xa005ed=_0x4860eb['changedTou'+'ches']['length'];_0x28d9e8<_0xa005ed;_0x28d9e8++){const _0xbb7eb=_0x4860eb['changedTou'+'ches'][_0x28d9e8],_0x5b6b1b=_0x415155[_0xbb7eb['identifier']],_0x492235=this['_touchedEl'+'ements'][_0xbb7eb['identifier']];if(_0x492235){const _0xe4f267=Wc(_0xbb7eb);(!_0x5b6b1b||_0x5b6b1b['element']!==_0x492235['element'])&&!this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0xbb7eb['identifier']]&&(this['_fireEvent']('touchleave',new Ao(_0x4860eb,_0x492235['element'],_0x492235['camera'],_0xe4f267['x'],_0xe4f267['y'],_0xbb7eb)),this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0xbb7eb['identifier']]=!(0x513*-0x7+0x3a*-0x24+0x1*0x2bad)),this['_fireEvent']('touchmove',new Ao(_0x4860eb,_0x492235['element'],_0x492235['camera'],_0xe4f267['x'],_0xe4f267['y'],_0xbb7eb));}}}['_onElement'+'MouseEvent'](_0x4aab9b,_0x4911c8){let _0x3fa4e4=null;const _0xa11e59=this['_hoveredEl'+'ement'];this['_hoveredEl'+'ement']=null;const _0xf61ea1=this['app']['systems']['camera']['cameras'];let _0x237180;for(let _0x4d906e=_0xf61ea1['length']-(0x2*0xe6d+-0xbd3+-0x1106);_0x4d906e>=0x1502+0x403+-0x1905&&(_0x237180=_0xf61ea1[_0x4d906e],_0x3fa4e4=this['_getTarget'+'ElementByC'+'oords'](_0x237180,cr,hr),!_0x3fa4e4);_0x4d906e--);if(this['_hoveredEl'+'ement']=_0x3fa4e4,(_0x4aab9b==='mousemove'||_0x4aab9b==='mouseup')&&this['_pressedEl'+'ement']?this['_fireEvent'](_0x4aab9b,new bo(_0x4911c8,this['_pressedEl'+'ement'],_0x237180,cr,hr,this['_lastX'],this['_lastY'])):_0x3fa4e4&&(this['_fireEvent'](_0x4aab9b,new bo(_0x4911c8,_0x3fa4e4,_0x237180,cr,hr,this['_lastX'],this['_lastY'])),_0x4aab9b==='mousedown'&&(this['_pressedEl'+'ement']=_0x3fa4e4)),_0xa11e59!==this['_hoveredEl'+'ement']&&(_0xa11e59&&this['_fireEvent']('mouseleave',new bo(_0x4911c8,_0xa11e59,_0x237180,cr,hr,this['_lastX'],this['_lastY'])),this['_hoveredEl'+'ement']&&this['_fireEvent']('mouseenter',new bo(_0x4911c8,this['_hoveredEl'+'ement'],_0x237180,cr,hr,this['_lastX'],this['_lastY']))),_0x4aab9b==='mouseup'&&this['_pressedEl'+'ement']){if(this['_pressedEl'+'ement']===this['_hoveredEl'+'ement']){const _0x1a61d2=this['_hoveredEl'+'ement']['entity']['getGuid']();let _0x3b52af=!this['_clickedEn'+'tities'];if(this['_clickedEn'+'tities']){const _0x3a946f=this['_clickedEn'+'tities'][_0x1a61d2]||-0x1ff0*0x1+0xd42+0x12ae;_0x3b52af=Date['now']()-_0x3a946f>-0x48+-0x109*-0x3+0x2f*-0x9,delete this['_clickedEn'+'tities'][_0x1a61d2];}_0x3b52af&&this['_fireEvent']('click',new bo(_0x4911c8,this['_hoveredEl'+'ement'],_0x237180,cr,hr,this['_lastX'],this['_lastY']));}this['_pressedEl'+'ement']=null;}}['_onXrStart'](){this['app']['xr']['on']('end',this['_onXrEnd'],this),this['app']['xr']['on']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['on']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['on']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['on']('remove',this['_onXrInput'+'Remove'],this);}['_onXrEnd'](){this['app']['xr']['off']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['off']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['off']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['off']('remove',this['_onXrInput'+'Remove'],this);}['_onXrUpdat'+'e'](){if(!this['_enabled'])return;const _0x1c7c69=this['app']['xr']['input']['inputSourc'+'es'];for(let _0x15fa95=0x2656+0x1d*-0x2d+0x43*-0x7f;_0x15fa95<_0x1c7c69['length'];_0x15fa95++)this['_onElement'+'SelectEven'+'t']('selectmove',_0x1c7c69[_0x15fa95],null);}['_onXrInput'+'Remove'](_0x117352){const _0x4989ef=this['_selectedE'+'lements'][_0x117352['id']];_0x4989ef&&(_0x117352['_elementEn'+'tity']=null,this['_fireEvent']('selectleav'+'e',new dr(null,_0x4989ef,null,_0x117352))),delete this['_selectedE'+'lements'][_0x117352['id']],delete this['_selectedP'+'ressedElem'+'ents'][_0x117352['id']];}['_onSelectS'+'tart'](_0x5d11a1,_0x44d5ba){this['_enabled']&&this['_onElement'+'SelectEven'+'t']('selectstar'+'t',_0x5d11a1,_0x44d5ba);}['_onSelectE'+'nd'](_0x1012a1,_0x26e1ea){this['_enabled']&&this['_onElement'+'SelectEven'+'t']('selectend',_0x1012a1,_0x26e1ea);}['_onElement'+'SelectEven'+'t'](_0x3dd3e0,_0x5395f2,_0x5cf398){let _0x270a99;const _0x3d9b90=this['_selectedE'+'lements'][_0x5395f2['id']];let _0x2ea43b;const _0x29f2d7=this['app']['systems']['camera']['cameras'];let _0x149ecf;if(_0x5395f2['elementInp'+'ut']){ep['set'](_0x5395f2['getOrigin'](),_0x5395f2['getDirecti'+'on']());for(let _0x52847d=_0x29f2d7['length']-(0x11*-0x2c+0x1*-0xd51+-0x103e*-0x1);_0x52847d>=0x2*0x1042+0xa06*0x1+0x6*-0x717&&(_0x149ecf=_0x29f2d7[_0x52847d],_0x270a99=this['_getTarget'+'ElementByR'+'ay'](ep,_0x149ecf),!_0x270a99);_0x52847d--);}_0x5395f2['_elementEn'+'tity']=_0x270a99||null,_0x270a99?(this['_selectedE'+'lements'][_0x5395f2['id']]=_0x270a99,_0x2ea43b=_0x270a99):delete this['_selectedE'+'lements'][_0x5395f2['id']],_0x3d9b90!==_0x2ea43b&&(_0x3d9b90&&this['_fireEvent']('selectleav'+'e',new dr(_0x5cf398,_0x3d9b90,_0x149ecf,_0x5395f2)),_0x2ea43b&&this['_fireEvent']('selectente'+'r',new dr(_0x5cf398,_0x2ea43b,_0x149ecf,_0x5395f2)));const _0x42cbd4=this['_selectedP'+'ressedElem'+'ents'][_0x5395f2['id']];_0x3dd3e0==='selectmove'&&_0x42cbd4&&this['_fireEvent']('selectmove',new dr(_0x5cf398,_0x42cbd4,_0x149ecf,_0x5395f2)),_0x3dd3e0==='selectstar'+'t'&&(this['_selectedP'+'ressedElem'+'ents'][_0x5395f2['id']]=_0x2ea43b,_0x2ea43b&&this['_fireEvent']('selectstar'+'t',new dr(_0x5cf398,_0x2ea43b,_0x149ecf,_0x5395f2))),!_0x5395f2['elementInp'+'ut']&&_0x42cbd4&&(delete this['_selectedP'+'ressedElem'+'ents'][_0x5395f2['id']],_0x3d9b90&&this['_fireEvent']('selectend',new dr(_0x5cf398,_0x42cbd4,_0x149ecf,_0x5395f2))),_0x3dd3e0==='selectend'&&_0x5395f2['elementInp'+'ut']&&(delete this['_selectedP'+'ressedElem'+'ents'][_0x5395f2['id']],_0x42cbd4&&this['_fireEvent']('selectend',new dr(_0x5cf398,_0x42cbd4,_0x149ecf,_0x5395f2)),_0x42cbd4&&_0x42cbd4===_0x3d9b90&&this['_fireEvent']('click',new dr(_0x5cf398,_0x42cbd4,_0x149ecf,_0x5395f2)));}['_fireEvent'](_0xc957c5,_0x14bd10){let _0x3206af=_0x14bd10['element'];for(;_0x3206af['fire'](_0xc957c5,_0x14bd10),!(_0x14bd10['_stopPropa'+'gation']||!_0x3206af['entity']['parent']||(_0x3206af=_0x3206af['entity']['parent']['element'],!_0x3206af)););}['_calcMouse'+'Coords'](_0x100379){const _0x59126d=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x5db8de=Math['floor'](_0x59126d['left']),_0x496718=Math['floor'](_0x59126d['top']);cr=_0x100379['clientX']-_0x5db8de,hr=_0x100379['clientY']-_0x496718;}['_sortEleme'+'nts'](_0x3d1ae2,_0x416acc){const _0x3361ed=this['app']['scene']['layers']['sortTransp'+'arentLayer'+'s'](_0x3d1ae2['layers'],_0x416acc['layers']);return _0x3361ed!==0xe54+0x2239*-0x1+-0xb*-0x1cf?_0x3361ed:_0x3d1ae2['screen']&&!_0x416acc['screen']?-(0x199d*0x1+-0x1a*0x132+0x578):!_0x3d1ae2['screen']&&_0x416acc['screen']?-0x2c5*-0x8+-0x12*-0x109+-0x28c9:!_0x3d1ae2['screen']&&!_0x416acc['screen']?-0x9*-0x67+-0xbe8+0x849:_0x3d1ae2['screen']['screen']['screenSpac'+'e']&&!_0x416acc['screen']['screen']['screenSpac'+'e']?-(0x1*-0x1baa+-0x21c3+0x3d6e):_0x416acc['screen']['screen']['screenSpac'+'e']&&!_0x3d1ae2['screen']['screen']['screenSpac'+'e']?0x1*0x1937+-0xa34+-0xf02:_0x416acc['drawOrder']-_0x3d1ae2['drawOrder'];}['_getTarget'+'ElementByC'+'oords'](_0x19ff3d,_0x4c182e,_0xb872a7){const _0x1652c1=this['_calculate'+'RayScreen'](_0x4c182e,_0xb872a7,_0x19ff3d,Ri)?Ri:null,_0x1e86ae=this['_calculate'+'Ray3d'](_0x4c182e,_0xb872a7,_0x19ff3d,Ro)?Ro:null;return this['_getTarget'+'Element'](_0x19ff3d,_0x1652c1,_0x1e86ae);}['_getTarget'+'ElementByR'+'ay'](_0x13258d,_0x36d83e){Ri['origin']['copy'](_0x13258d['origin']),Ri['direction']['copy'](_0x13258d['direction']),Ri['end']['copy'](Ri['direction'])['mulScalar'](_0x36d83e['farClip']*(0x13e9+-0x15d6+0x1ef))['add'](Ri['origin']);const _0x121096=Ri,_0x4cc7df=_0x36d83e['worldToScr'+'een'](_0x121096['origin'],Of),_0x584331=this['_calculate'+'RayScreen'](_0x4cc7df['x'],_0x4cc7df['y'],_0x36d83e,Ro)?Ro:null;return this['_getTarget'+'Element'](_0x36d83e,_0x584331,_0x121096);}['_getTarget'+'Element'](_0xa1dde5,_0x3e1556,_0x3fbb84){let _0x361150=null,_0x26209a=(-0x126+-0x6*0x408+0x1957)/(-0x491*-0x1+0x1561+0x29*-0xa2);this['_elements']['sort'](this['_sortHandl'+'er']);for(let _0x1fb973=0x83*0x3d+-0x3*-0x504+0x38f*-0xd,_0xca3180=this['_elements']['length'];_0x1fb973<_0xca3180;_0x1fb973++){const _0x14ad32=this['_elements'][_0x1fb973];if(_0x14ad32['layers']['some'](_0x196b70=>_0xa1dde5['layersSet']['has'](_0x196b70))){if(_0x14ad32['screen']&&_0x14ad32['screen']['screen']['screenSpac'+'e']){if(!_0x3e1556)continue;if(this['_checkElem'+'ent'](_0x3e1556,_0x14ad32,!(0x5*-0x33f+0x6b*-0x45+0x2d12))>=0x104a+0x126a+-0x22b4){_0x361150=_0x14ad32;break;}}else{if(!_0x3fbb84)continue;const _0x583d92=this['_checkElem'+'ent'](_0x3fbb84,_0x14ad32,!(-0x4da+-0x955*0x1+0xe30));if(_0x583d92>=-0x3ed*-0x3+0x16*-0x10c+-0xb41*-0x1&&(_0x583d92<_0x26209a&&(_0x361150=_0x14ad32,_0x26209a=_0x583d92),_0x14ad32['screen'])){_0x361150=_0x14ad32;break;}}}}return _0x361150;}['_calculate'+'RayScreen'](_0x61f00,_0x11afcc,_0x3d6798,_0x53fb69){const _0x554cb0=this['app']['graphicsDe'+'vice']['width'],_0x582583=this['app']['graphicsDe'+'vice']['height'],_0x5b8dee=_0x3d6798['rect']['z']*_0x554cb0,_0xc6347d=_0x3d6798['rect']['w']*_0x582583,_0x1d2bcd=_0x3d6798['rect']['x']*_0x554cb0,_0x3cac0b=_0x1d2bcd+_0x5b8dee,_0x11e10e=(0x16f4+0x99+-0x178c-_0x3d6798['rect']['y'])*_0x582583,_0x1c3032=_0x11e10e-_0xc6347d;let _0x40fb0f=_0x61f00*_0x554cb0/this['_target']['clientWidt'+'h'],_0x27a486=_0x11afcc*_0x582583/this['_target']['clientHeig'+'ht'];return _0x40fb0f>=_0x1d2bcd&&_0x40fb0f<=_0x3cac0b&&_0x27a486<=_0x11e10e&&_0x27a486>=_0x1c3032?(_0x40fb0f=_0x554cb0*(_0x40fb0f-_0x1d2bcd)/_0x5b8dee,_0x27a486=_0x582583*(_0x27a486-_0x1c3032)/_0xc6347d,_0x27a486=_0x582583-_0x27a486,_0x53fb69['origin']['set'](_0x40fb0f,_0x27a486,0x2363+-0x1671+-0x1*0xcf1),_0x53fb69['direction']['set'](0x191c+-0x17ad+0x16f*-0x1,-0xbca+-0xfdf+0x1ba9,-(-0x1a1b+0x25d5+-0xbb9)),_0x53fb69['end']['copy'](_0x53fb69['direction'])['mulScalar'](-0x1*0x156a+-0x397*0x7+0x2e8d)['add'](_0x53fb69['origin']),!(-0xd5c+-0xb5d*-0x3+0x3d*-0x57)):!(0x26ce+-0x1236+0x1*-0x1497);}['_calculate'+'Ray3d'](_0x55c665,_0x239de8,_0x35eb16,_0x1a0e0e){const _0xee9216=this['_target']['clientWidt'+'h'],_0x33453e=this['_target']['clientHeig'+'ht'],_0x231521=_0x35eb16['rect']['z']*_0xee9216,_0x5abf2e=_0x35eb16['rect']['w']*_0x33453e,_0x1c8e8f=_0x35eb16['rect']['x']*_0xee9216,_0x29232c=_0x1c8e8f+_0x231521,_0x438079=(0x5*-0x19f+0xf43+0x727*-0x1-_0x35eb16['rect']['y'])*_0x33453e,_0x1293ac=_0x438079-_0x5abf2e;let _0x41cd16=_0x55c665,_0x120a2e=_0x239de8;return _0x55c665>=_0x1c8e8f&&_0x55c665<=_0x29232c&&_0x239de8<=_0x438079&&_0x120a2e>=_0x1293ac?(_0x41cd16=_0xee9216*(_0x41cd16-_0x1c8e8f)/_0x231521,_0x120a2e=_0x33453e*(_0x120a2e-_0x1293ac)/_0x5abf2e,_0x35eb16['screenToWo'+'rld'](_0x41cd16,_0x120a2e,_0x35eb16['nearClip'],Of),_0x35eb16['screenToWo'+'rld'](_0x41cd16,_0x120a2e,_0x35eb16['farClip'],RS),_0x1a0e0e['origin']['copy'](Of),_0x1a0e0e['direction']['set'](-0x1ae7+0x1104*-0x1+0x1*0x2beb,0x38b*0x7+-0x1*0x823+-0x10aa,-(0x1*-0x17f5+-0x1*-0x37b+0x2ed*0x7)),_0x1a0e0e['end']['copy'](RS),!(-0x9a1+-0x6*-0x1a3+-0x31)):!(0x183d+-0x1fdf+0x17*0x55);}['_checkElem'+'ent'](_0xb45596,_0x1c8fab,_0x1e59e0){if(_0x1c8fab['maskedBy']&&this['_checkElem'+'ent'](_0xb45596,_0x1c8fab['maskedBy']['element'],_0x1e59e0)<0x4e8+0x34d+0x835*-0x1)return-(-0x1a11*-0x1+-0x13c3*-0x1+-0x2dd3);let _0x592905;_0x1e59e0?_0x592905=Xo['calculateS'+'caleToScre'+'en'](_0x1c8fab):_0x592905=Xo['calculateS'+'caleToWorl'+'d'](_0x1c8fab);const _0x58ce3e=Xo['buildHitCo'+'rners'](_0x1c8fab,_0x1e59e0?_0x1c8fab['screenCorn'+'ers']:_0x1c8fab['worldCorne'+'rs'],_0x592905);return xU(_0xb45596['origin'],_0xb45596['end'],_0x58ce3e);}static['buildHitCo'+'rners'](_0x13d807,_0x3d7fbf,_0x43bf93){let _0x135d2e=_0x3d7fbf;if(_0x13d807['entity']&&_0x13d807['entity']['button']){const _0x1fe00c=_0x13d807['entity']['button']['hitPadding']||vU;wo['copy'](_0x13d807['entity']['up']),Vc['copy'](wo)['mulScalar'](-(0x1a0b+0x2618+-0x2011*0x2)),Eo['copy'](_0x13d807['entity']['right']),Gc['copy'](Eo)['mulScalar'](-(0x1*0xc29+0x12e+-0xd56)),wo['mulScalar'](_0x1fe00c['w']*_0x43bf93['y']),Vc['mulScalar'](_0x1fe00c['y']*_0x43bf93['y']),Eo['mulScalar'](_0x1fe00c['z']*_0x43bf93['x']),Gc['mulScalar'](_0x1fe00c['x']*_0x43bf93['x']),FS['copy'](_0x135d2e[0x1236+0x97d+-0x1bb3])['add'](Vc)['add'](Gc),NS['copy'](_0x135d2e[0x1aea+-0x1767+0x382*-0x1])['add'](Vc)['add'](Eo),kS['copy'](_0x135d2e[-0x1abe*0x1+-0x1ec7+-0x3*-0x132d])['add'](wo)['add'](Eo),US['copy'](_0x135d2e[-0x3*0x991+0x13e6+0x8d0])['add'](wo)['add'](Gc),_0x135d2e=[FS,NS,kS,US];}if(_0x43bf93['x']<0x101a*0x1+0x1f42+-0x1*0x2f5c){const _0x1a2bf8=_0x135d2e[-0x23*0xef+0xedb+0x146*0xe]['x'],_0x181ea2=_0x135d2e[-0xc8b*0x1+-0x975+0x200*0xb]['x'];_0x135d2e[-0x1f95+0x20c8+-0x133]['x']=_0x1a2bf8,_0x135d2e[0x6a2*0x1+-0x19d2+0x1331]['x']=_0x181ea2,_0x135d2e[-0x3ee+-0x8*0x244+0x1610]['x']=_0x181ea2,_0x135d2e[-0xa18*-0x3+-0x24d8+0x693]['x']=_0x1a2bf8;}if(_0x43bf93['y']<0x2*0xd46+0xf*-0x10f+-0xaab){const _0xf408e8=_0x135d2e[0x15*0x5+-0x13f4+-0x5*-0x3e9]['y'],_0x1df153=_0x135d2e[0xc07+-0x62*0x2a+0x40d]['y'];_0x135d2e[-0xd*0x1cd+0x1da6+-0x1*0x63d]['y']=_0xf408e8,_0x135d2e[-0x66*-0x1b+-0x14b*0x5+-0x12*0x3d]['y']=_0xf408e8,_0x135d2e[0x12c4*0x2+0x898+-0x2e1e]['y']=_0x1df153,_0x135d2e[-0x703+0x103c*0x1+0x49b*-0x2]['y']=_0x1df153;}if(_0x43bf93['z']<0x23a8+-0xb*0x2c7+-0x51b){const _0x583a5e=_0x135d2e[0x423+0x97b+-0xd9c]['x'],_0x47682a=_0x135d2e[-0xbb1*0x3+0xfed+0x1328]['y'],_0x2ab9da=_0x135d2e[-0x6d*0x6+0x16cd+-0x143d]['z'];_0x135d2e[-0x1*-0x44b+0x15f*-0x2+-0x5*0x4f]['x']=_0x135d2e[-0x158f+-0x1387+0x2916]['x'],_0x135d2e[-0xd*0x95+-0x7ab*0x1+0xf3e]['y']=_0x135d2e[-0x2ba*-0x2+-0x3bb*0x1+0x9*-0x31]['y'],_0x135d2e[-0x35*0x1d+0x1*-0x1a9f+-0x20a2*-0x1]['z']=_0x135d2e[0x20d3+0x9*0x32c+-0x3d5f]['z'],_0x135d2e[-0xf1*0x1c+-0x2311+-0xb9*-0x55]['x']=_0x583a5e,_0x135d2e[0xb*0x175+-0xefd+-0x10a]['y']=_0x47682a,_0x135d2e[-0x7ba+-0x1*0x277+0xa31]['z']=_0x2ab9da;}return _0x135d2e;}static['calculateS'+'caleToScre'+'en'](_0xc1d04a){let _0x3f5977=_0xc1d04a['entity'];const _0x383684=_0xc1d04a['screen']['screen']['scale'];for(tn['set'](_0x383684,_0x383684,_0x383684);_0x3f5977&&!_0x3f5977['screen'];)tn['mul'](_0x3f5977['getLocalSc'+'ale']()),_0x3f5977=_0x3f5977['parent'];return tn;}static['calculateS'+'caleToWorl'+'d'](_0x5f1358){let _0x1f5cbc=_0x5f1358['entity'];for(tn['set'](0x264*0x10+0x261f+-0x4c5e,0x147e*-0x1+0x4dd*-0x7+0x122e*0x3,-0x1*-0x248e+-0x47*-0x89+0x1a*-0x2de);_0x1f5cbc;)tn['mul'](_0x1f5cbc['getLocalSc'+'ale']()),_0x1f5cbc=_0x1f5cbc['parent'];return tn;}}J['prototype']['scale']=J['prototype']['mulScalar'],D['prototype']['scale']=D['prototype']['mulScalar'],re['prototype']['scale']=re['prototype']['mulScalar'],new re();function YU(_0x12a084,_0x3eb45b){return w['deprecated']('pc.createS'+'phere\x20is\x20d'+'eprecated.'+'\x20Use\x20\x27pc.M'+'esh.fromGe'+'ometry(dev'+'ice,\x20new\x20S'+'phereGeome'+'try(option'+'s);\x27\x20forma'+'t\x20instead.'),Ge['fromGeomet'+'ry'](_0x12a084,new _m(_0x3eb45b));}Object['defineProp'+'erties'](gt['prototype'],{'_glFrameBuffer':{'get':function(){return w['deprecated']('pc.RenderT'+'arget#_glF'+'rameBuffer'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RenderT'+'arget.impl'+'#_glFrameB'+'uffer\x20inst'+'ead.'),this['impl']['_glFrameBu'+'ffer'];},'set':function(_0x72bee7){w['deprecated']('pc.RenderT'+'arget#_glF'+'rameBuffer'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RenderT'+'arget.impl'+'#_glFrameB'+'uffer\x20inst'+'ead.');}}}),Object['defineProp'+'erty'](kt,'defaultIns'+'tancingFor'+'mat',{'get':function(){return w['assert']('pc.VertexF'+'ormat.defa'+'ultInstanc'+'ingFormat\x20'+'is\x20depreca'+'ted,\x20use\x20p'+'c.VertexFo'+'rmat.getDe'+'faultInsta'+'ncingForma'+'t(graphics'+'Device).'),null;}}),Object['defineProp'+'erties'](_e['prototype'],{'rgbm':{'get':function(){return w['deprecated']('pc.Texture'+'#rgbm\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Te'+'xture#type'+'\x20instead.'),this['type']===Zi;},'set':function(_0x339851){w['deprecated']('pc.Texture'+'#rgbm\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Te'+'xture#type'+'\x20instead.'),this['type']=_0x339851?Zi:Ds;}},'swizzleGGGR':{'get':function(){return w['deprecated']('pc.Texture'+'#swizzleGG'+'GR\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Textu'+'re#type\x20in'+'stead.'),this['type']===Jo;},'set':function(_0x3ce0b1){w['deprecated']('pc.Texture'+'#swizzleGG'+'GR\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Textu'+'re#type\x20in'+'stead.'),this['type']=_0x3ce0b1?Jo:Ds;}},'_glTexture':{'get':function(){return w['deprecated']('pc.Texture'+'#_glTextur'+'e\x20is\x20no\x20lo'+'nger\x20avail'+'able,\x20use\x20'+'Use\x20pc.Tex'+'ture.impl.'+'_glTexture'+'\x20instead.'),this['impl']['_glTexture'];}}}),Object['defineProp'+'erty']($e['prototype'],'boneLimit',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#bo'+'neLimit\x20is'+'\x20deprecate'+'d\x20and\x20the\x20'+'limit\x20has\x20'+'been\x20remov'+'ed.'),-0x18ac*-0x1+-0x12af*0x1+0x1*-0x1fd;}}),Object['defineProp'+'erty']($e['prototype'],'webgl2',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#we'+'bgl2\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e#isWebGL2'+'\x20instead.'),this['isWebGL2'];}}),Object['defineProp'+'erty']($e['prototype'],'textureFlo'+'atHighPrec'+'ision',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureFloat'+'HighPrecis'+'ion\x20is\x20dep'+'recated\x20an'+'d\x20always\x20r'+'eturns\x20tru'+'e.'),!(-0x3*-0x5e6+0x19*0x10f+-0x2c29);}}),Object['defineProp'+'erty']($e['prototype'],'extBlendMi'+'nmax',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tBlendMinm'+'ax\x20is\x20depr'+'ecated\x20as\x20'+'it\x20is\x20alwa'+'ys\x20true.'),!(-0x67*-0x45+-0x1600+-0x5c3);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'HalfFloat',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureHa'+'lfFloat\x20is'+'\x20deprecate'+'d\x20as\x20it\x20is'+'\x20always\x20tr'+'ue.'),!(-0xef*0x21+-0x20fa+0x3fc9);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'Lod',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureLo'+'d\x20is\x20depre'+'cated\x20as\x20i'+'t\x20is\x20alway'+'s\x20true.'),!(0x4*-0x192+0x1c13+-0x15cb);}}),Object['defineProp'+'erty']($e['prototype'],'textureHal'+'fFloatFilt'+'erable',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureHalfF'+'loatFilter'+'able\x20is\x20de'+'precated\x20a'+'s\x20it\x20is\x20al'+'ways\x20true.'),!(0x175e*0x1+-0xd43+-0x1*0xa1b);}}),Object['defineProp'+'erty']($e['prototype'],'supportsMr'+'t',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsMrt\x20'+'is\x20depreca'+'ted\x20as\x20it\x20'+'is\x20always\x20'+'true.'),!(0x5ba*-0x5+0x6*0x4cc+-0x1*0x26);}}),Object['defineProp'+'erty']($e['prototype'],'supportsVo'+'lumeTextur'+'es',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsVolu'+'meTextures'+'\x20is\x20deprec'+'ated\x20as\x20it'+'\x20is\x20always'+'\x20true.'),!(-0x1c60+-0xdc1+0x2a21);}}),Object['defineProp'+'erty']($e['prototype'],'supportsIn'+'stancing',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsInst'+'ancing\x20is\x20'+'deprecated'+'\x20as\x20it\x20is\x20'+'always\x20tru'+'e.'),!(-0x2*0xaaa+-0x2*-0xe3a+-0x30*0x26);}}),Object['defineProp'+'erty']($e['prototype'],'textureHal'+'fFloatUpda'+'table',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureHalfF'+'loatUpdata'+'ble\x20is\x20dep'+'recated\x20as'+'\x20it\x20is\x20alw'+'ays\x20true.'),!(-0x20af*0x1+-0x541*-0x4+0xbab);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'Float',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureFl'+'oat\x20is\x20dep'+'recated\x20as'+'\x20it\x20is\x20alw'+'ays\x20true'),!(0x22*0x86+0x1f14+-0x2*0x1870);}}),Object['defineProp'+'erty']($e['prototype'],'extStandar'+'dDerivativ'+'es',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tStandardD'+'erivatives'+'\x20is\x20deprec'+'ated\x20as\x20it'+'\x20is\x20always'+'\x20true.'),!(0x1d69+-0x15e8*0x1+-0x781);}}),pt['DEFAULT']=Object['freeze'](new pt());const ut=new pt(),ji=new Yt();$e['prototype']['setBlendFu'+'nction']=function(_0x408b4a,_0x479a69){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendFunc'+'tion\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e.setBlend'+'State\x20inst'+'ead.');const _0x43ff81=this['blendState'];ut['copy'](_0x43ff81),ut['setColorBl'+'end'](_0x43ff81['colorOp'],_0x408b4a,_0x479a69),ut['setAlphaBl'+'end'](_0x43ff81['alphaOp'],_0x408b4a,_0x479a69),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendFu'+'nctionSepa'+'rate']=function(_0x137057,_0x5bfbf4,_0x188de0,_0x61baf0){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendFunc'+'tionSepara'+'te\x20is\x20depr'+'ecated,\x20us'+'e\x20pc.Graph'+'icsDevice.'+'setBlendSt'+'ate\x20instea'+'d.');const _0x5074af=this['blendState'];ut['copy'](_0x5074af),ut['setColorBl'+'end'](_0x5074af['colorOp'],_0x137057,_0x5bfbf4),ut['setAlphaBl'+'end'](_0x5074af['alphaOp'],_0x188de0,_0x61baf0),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendEq'+'uation']=function(_0x2b05fa){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendEqua'+'tion\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e.setBlend'+'State\x20inst'+'ead.');const _0x166f2d=this['blendState'];ut['copy'](_0x166f2d),ut['setColorBl'+'end'](_0x2b05fa,_0x166f2d['colorSrcFa'+'ctor'],_0x166f2d['colorDstFa'+'ctor']),ut['setAlphaBl'+'end'](_0x2b05fa,_0x166f2d['alphaSrcFa'+'ctor'],_0x166f2d['alphaDstFa'+'ctor']),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendEq'+'uationSepa'+'rate']=function(_0xa193b8,_0x30d253){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendEqua'+'tionSepara'+'te\x20is\x20depr'+'ecated,\x20us'+'e\x20pc.Graph'+'icsDevice.'+'setBlendSt'+'ate\x20instea'+'d.');const _0x43e81e=this['blendState'];ut['copy'](_0x43e81e),ut['setColorBl'+'end'](_0xa193b8,_0x43e81e['colorSrcFa'+'ctor'],_0x43e81e['colorDstFa'+'ctor']),ut['setAlphaBl'+'end'](_0x30d253,_0x43e81e['alphaSrcFa'+'ctor'],_0x43e81e['alphaDstFa'+'ctor']),this['setBlendSt'+'ate'](ut);},$e['prototype']['setColorWr'+'ite']=function(_0x3b525d,_0x1a817a,_0x7f3448,_0x15fa87){w['deprecated']('pc.Graphic'+'sDevice#se'+'tColorWrit'+'e\x20is\x20depre'+'cated,\x20use'+'\x20pc.Graphi'+'csDevice.s'+'etBlendSta'+'te\x20instead'+'.');const _0x1e1335=this['blendState'];ut['copy'](_0x1e1335),ut['setColorWr'+'ite'](_0x3b525d,_0x1a817a,_0x7f3448,_0x15fa87),this['setBlendSt'+'ate'](ut);},$e['prototype']['getBlendin'+'g']=function(){return this['blendState']['blend'];},$e['prototype']['setBlendin'+'g']=function(_0x37fab9){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlending\x20'+'is\x20depreca'+'ted,\x20use\x20p'+'c.Graphics'+'Device.set'+'BlendState'+'\x20instead.'),ut['copy'](this['blendState']),ut['blend']=_0x37fab9,this['setBlendSt'+'ate'](ut);},$e['prototype']['setDepthWr'+'ite']=function(_0x4b6872){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthWrit'+'e\x20is\x20depre'+'cated,\x20use'+'\x20pc.Graphi'+'csDevice.s'+'etDepthSta'+'te\x20instead'+'.'),ji['copy'](this['depthState']),ji['write']=_0x4b6872,this['setDepthSt'+'ate'](ji);},$e['prototype']['setDepthFu'+'nc']=function(_0xae89fe){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthFunc'+'\x20is\x20deprec'+'ated,\x20use\x20'+'pc.Graphic'+'sDevice.se'+'tDepthStat'+'e\x20instead.'),ji['copy'](this['depthState']),ji['func']=_0xae89fe,this['setDepthSt'+'ate'](ji);},$e['prototype']['setDepthTe'+'st']=function(_0x4b8dce){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthTest'+'\x20is\x20deprec'+'ated,\x20use\x20'+'pc.Graphic'+'sDevice.se'+'tDepthStat'+'e\x20instead.'),ji['copy'](this['depthState']),ji['test']=_0x4b8dce,this['setDepthSt'+'ate'](ji);},$e['prototype']['getCullMod'+'e']=function(){return this['cullMode'];},new Proxy({},{'get'(_0x145920,_0x41657b){return w['deprecated']('Using\x20pc.s'+'haderChunk'+'s\x20to\x20acces'+'s\x20global\x20s'+'hader\x20chun'+'ks\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Shade'+'rChunks.ge'+'t\x20instead,'+'\x20for\x20examp'+'le:\x20pc.Sha'+'derChunks.'+'get(this.a'+'pp.graphic'+'sDevice,\x20p'+'c.SHADERLA'+'NGUAGE_GLS'+'L).get(\x27'+_0x41657b+'\x27);'),Pe['get'](Ms()['graphicsDe'+'vice'],Fe)['get'](_0x41657b);},'set'(_0x160a14,_0x185aa6,_0x482e85){return w['deprecated']('Using\x20pc.s'+'haderChunk'+'s\x20to\x20overr'+'ide\x20global'+'\x20shader\x20ch'+'unks\x20is\x20de'+'precated.\x20'+'Use\x20pc.Sha'+'derChunks.'+'get\x20instea'+'d,\x20for\x20exa'+'mple:\x20pc.S'+'haderChunk'+'s.get(this'+'.app.graph'+'icsDevice,'+'\x20pc.SHADER'+'LANGUAGE_G'+'LSL).set(\x27'+_0x185aa6+'\x27);'),Pe['get'](Ms()['graphicsDe'+'vice'],Fe)['set'](_0x185aa6,_0x482e85),!(-0x18f9*0x1+0x2a*0x18+-0xf*-0x167);}}),Object['defineProp'+'erty'](Et['prototype'],'defaultMat'+'erial',{'get':function(){return w['deprecated']('pc.Scene#d'+'efaultMate'+'rial\x20is\x20de'+'precated.'),Qn(Ms()['graphicsDe'+'vice']);}}),Object['defineProp'+'erty'](Et['prototype'],'fogColor',{'set':function(_0x3fff30){w['deprecated']('Scene#fogC'+'olor\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.color\x20'+'instead.'),this['fog']['color']=_0x3fff30;},'get':function(){return w['deprecated']('Scene#fogC'+'olor\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.color\x20'+'instead.'),this['fog']['color'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogEnd',{'set':function(_0x5e7dd1){w['deprecated']('Scene#fogE'+'nd\x20is\x20depr'+'ecated.\x20Us'+'e\x20Scene#fo'+'g.end\x20inst'+'ead.'),this['fog']['end']=_0x5e7dd1;},'get':function(){return w['deprecated']('Scene#fogE'+'nd\x20is\x20depr'+'ecated.\x20Us'+'e\x20Scene#fo'+'g.end\x20inst'+'ead.'),this['fog']['end'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogStart',{'set':function(_0x3b5273){w['deprecated']('Scene#fogS'+'tart\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.start\x20'+'instead.'),this['fog']['start']=_0x3b5273;},'get':function(){return w['deprecated']('Scene#fogS'+'tart\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.start\x20'+'instead.'),this['fog']['start'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogDensity',{'set':function(_0x3b9290){w['deprecated']('Scene#fogD'+'ensity\x20is\x20'+'deprecated'+'.\x20Use\x20Scen'+'e#fog.dens'+'ity\x20instea'+'d.'),this['fog']['density']=_0x3b9290;},'get':function(){return w['deprecated']('Scene#fogD'+'ensity\x20is\x20'+'deprecated'+'.\x20Use\x20Scen'+'e#fog.dens'+'ity\x20instea'+'d.'),this['fog']['density'];}}),Object['defineProp'+'erty'](Et['prototype'],'toneMappin'+'g',{'set':function(_0x4f43d5){w['removed']('Scene#tone'+'Mapping\x20is'+'\x20removed.\x20'+'Use\x20Camera'+'Component#'+'toneMappin'+'g\x20instead.');},'get':function(){w['removed']('Scene#tone'+'Mapping\x20is'+'\x20removed.\x20'+'Use\x20Camera'+'Component#'+'toneMappin'+'g\x20instead.');}}),Object['defineProp'+'erty'](Et['prototype'],'gammaCorre'+'ction',{'set':function(_0x169b8a){w['removed']('Scene#gamm'+'aCorrectio'+'n\x20is\x20remov'+'ed.\x20Use\x20Ca'+'meraCompon'+'ent#gammaC'+'orrection\x20'+'instead.');},'get':function(){w['removed']('Scene#gamm'+'aCorrectio'+'n\x20is\x20remov'+'ed.\x20Use\x20Ca'+'meraCompon'+'ent#gammaC'+'orrection\x20'+'instead.');}}),Object['defineProp'+'erty'](Et['prototype'],'rendering',{'set':function(_0x2277fe){w['removed']('Scene#rend'+'ering\x20is\x20r'+'emoved.\x20Us'+'e\x20Scene#fo'+'g\x20or\x20Camer'+'aComponent'+'#gammaCorr'+'ection\x20or\x20'+'CameraComp'+'onent#tone'+'Mapping\x20in'+'stead.');},'get':function(){w['removed']('Scene#rend'+'ering\x20is\x20r'+'emoved.\x20Us'+'e\x20Scene#fo'+'g\x20or\x20Camer'+'aComponent'+'#gammaCorr'+'ection\x20or\x20'+'CameraComp'+'onent#tone'+'Mapping\x20in'+'stead.');}}),Object['defineProp'+'erty'](du['prototype'],'_meshInsta'+'nces',{'get':function(){return w['deprecated']('pc.LayerCo'+'mposition#'+'_meshInsta'+'nces\x20is\x20de'+'precated.'),null;}}),Object['defineProp'+'erty'](Et['prototype'],'drawCalls',{'get':function(){return w['deprecated']('pc.Scene#d'+'rawCalls\x20i'+'s\x20deprecat'+'ed\x20and\x20no\x20'+'longer\x20pro'+'vides\x20mesh'+'\x20instances'+'.'),null;}}),['128','64','32','16','8','4']['forEach']((_0x3f47f7,_0x2d5ce2)=>{Object['defineProp'+'erty'](Et['prototype'],'skyboxPref'+'iltered'+_0x3f47f7,{'get':function(){return w['deprecated']('pc.Scene#s'+'kyboxPrefi'+'ltered'+_0x3f47f7+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Scene#p'+'refiltered'+'Cubemaps\x20i'+'nstead.')),this['_prefilter'+'edCubemaps'][_0x2d5ce2];},'set':function(_0x2adb73){w['deprecated']('pc.Scene#s'+'kyboxPrefi'+'ltered'+_0x3f47f7+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Scene#p'+'refiltered'+'Cubemaps\x20i'+'nstead.')),this['_prefilter'+'edCubemaps'][_0x2d5ce2]=_0x2adb73,this['updateShad'+'ers']=!(-0x16*0x1f+-0xd1*-0x5+-0x16b);}});}),Object['defineProp'+'erty'](Et['prototype'],'models',{'get':function(){return this['_models']||(this['_models']=[]),this['_models'];}});function Bt(_0x466ac6,_0x417da5,_0x1d4d92=''){Object['defineProp'+'erty'](_0x466ac6['prototype'],_0x417da5,{'set':function(_0x4db54e){w['errorOnce'](_0x466ac6['name']+'#'+_0x417da5+('\x20has\x20been\x20'+'removed.\x20')+_0x1d4d92);},'get':function(){w['errorOnce'](_0x466ac6['name']+'#'+_0x417da5+('\x20has\x20been\x20'+'removed.\x20')+_0x1d4d92);}});}Bt(Ot,'renderTarg'+'et'),Bt(Ot,'onPreCull'),Bt(Ot,'onPreRende'+'r'),Bt(Ot,'onPreRende'+'rOpaque'),Bt(Ot,'onPreRende'+'rTranspare'+'nt'),Bt(Ot,'onPostCull'),Bt(Ot,'onPostRend'+'er'),Bt(Ot,'onPostRend'+'erOpaque'),Bt(Ot,'onPostRend'+'erTranspar'+'ent'),Bt(Ot,'onDrawCall'),Bt(Ot,'layerRefer'+'ence'),Bt(Ir,'onPreCull','Use\x20Scene#'+'EVENT_PREC'+'ULL\x20event\x20'+'instead.'),Bt(Ir,'onPostCull','Use\x20Scene#'+'EVENT_POST'+'CULL\x20event'+'\x20instead.'),Bt(Ir,'onPreRende'+'r','Use\x20Scene#'+'EVENT_PRER'+'ENDER\x20even'+'t\x20instead.'),Bt(Ir,'onPostRend'+'er','Use\x20Scene#'+'EVENT_POST'+'RENDER\x20eve'+'nt\x20instead'+'.'),Bt(Ir,'onPreRende'+'rLayer','Use\x20Scene#'+'EVENT_PRER'+'ENDER_LAYE'+'R\x20event\x20in'+'stead.'),Bt(Ir,'onPostRend'+'erLayer','Use\x20Scene#'+'EVENT_POST'+'RENDER_LAY'+'ER\x20event\x20i'+'nstead.'),fl['prototype']['renderComp'+'osition']=function(_0x319292){w['deprecated']('pc.Forward'+'Renderer#r'+'enderCompo'+'sition\x20is\x20'+'deprecated'+'.\x20Use\x20pc.A'+'ppBase.ren'+'derComposi'+'tion\x20inste'+'ad.'),Ms()['renderComp'+'osition'](_0x319292);},He['prototype']['syncAabb']=function(){w['deprecated']('pc.MeshIns'+'tance#sync'+'Aabb\x20is\x20de'+'precated.');},mm['prototype']['getTarget']=function(_0x5e5dfc){return w['deprecated']('pc.Morph#g'+'etTarget\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.Morph#tar'+'gets\x20inste'+'ad.'),this['targets'][_0x5e5dfc];},Ie['prototype']['getChildre'+'n']=function(){return w['deprecated']('pc.GraphNo'+'de#getChil'+'dren\x20is\x20de'+'precated.\x20'+'Use\x20pc.Gra'+'phNode#chi'+'ldren\x20inst'+'ead.'),this['children'];},Ie['prototype']['getName']=function(){return w['deprecated']('pc.GraphNo'+'de#getName'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#name\x20in'+'stead.'),this['name'];},Ie['prototype']['getPath']=function(){return w['deprecated']('pc.GraphNo'+'de#getPath'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#path\x20in'+'stead.'),this['path'];},Ie['prototype']['getRoot']=function(){return w['deprecated']('pc.GraphNo'+'de#getRoot'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#root\x20in'+'stead.'),this['root'];},Ie['prototype']['getParent']=function(){return w['deprecated']('pc.GraphNo'+'de#getPare'+'nt\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Graph'+'Node#paren'+'t\x20instead.'),this['parent'];},Ie['prototype']['setName']=function(_0x14de6f){w['deprecated']('pc.GraphNo'+'de#setName'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#name\x20in'+'stead.'),this['name']=_0x14de6f;},Object['defineProp'+'erty'](tr['prototype'],'shader',{'set':function(_0x188f22){w['deprecated']('pc.Materia'+'l#shader\x20i'+'s\x20deprecat'+'ed,\x20use\x20pc'+'.ShaderMat'+'erial\x20inst'+'ead.');},'get':function(){return w['deprecated']('pc.Materia'+'l#shader\x20i'+'s\x20deprecat'+'ed,\x20use\x20pc'+'.ShaderMat'+'erial\x20inst'+'ead.'),null;}}),Object['defineProp'+'erty'](tr['prototype'],'blend',{'set':function(_0x396717){w['deprecated']('pc.Materia'+'l#blend\x20is'+'\x20deprecate'+'d,\x20use\x20pc.'+'Material.b'+'lendState.'),this['blendState']['blend']=_0x396717;},'get':function(){return this['blendState']['blend'];}}),Object['defineProp'+'erty'](Ut['prototype'],'shininess',{'get':function(){return this['gloss']*(-0x196a*0x1+-0xbfa+0x25c8);},'set':function(_0x2e2506){this['gloss']=_0x2e2506*(-0x3b*-0xa7+0x1b27+0x41a4*-0x1+0.01);}}),Object['defineProp'+'erty'](Ut['prototype'],'useGammaTo'+'nemap',{'get':function(){return this['useTonemap'];},'set':function(_0x4b632b){this['useTonemap']=_0x4b632b;}}),Object['defineProp'+'erty'](Ut['prototype'],'anisotropy',{'get':function(){w['deprecated']('pc.Standar'+'dMaterial#'+'anisotropy'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#'+'anisotropy'+'Intensity\x20'+'and\x20pc.Sta'+'ndardMater'+'ial#anisot'+'ropyRotati'+'on\x20instead'+'.');const _0x136431=Math['sign'](Math['cos'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD']*(-0x343*0x8+-0x24f3+0x3f0d)));return this['anisotropy'+'Intensity']*_0x136431;},'set':function(_0x24fe57){w['deprecated']('pc.Standar'+'dMaterial#'+'anisotropy'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#'+'anisotropy'+'Intensity\x20'+'and\x20pc.Sta'+'ndardMater'+'ial#anisot'+'ropyRotati'+'on\x20instead'+'.'),this['anisotropy'+'Intensity']=Math['abs'](_0x24fe57),_0x24fe57>=-0xcf9+-0x7b+-0x2*-0x6ba?this['anisotropy'+'Rotation']=0xed7+0x11*0x1b1+-0x2b98:this['anisotropy'+'Rotation']=-0x1f70+0x1b96+0x434;}});function Qs(_0x3420e1,_0x172ff0){Object['defineProp'+'erty'](Ut['prototype'],_0x172ff0,{'get':function(){return w['deprecated']('pc.Standar'+'dMaterial#'+_0x172ff0+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#')+_0x3420e1+'\x20instead.'),this[_0x3420e1];},'set':function(_0x4e8cd6){w['deprecated']('pc.Standar'+'dMaterial#'+_0x172ff0+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#')+_0x3420e1+'\x20instead.'),this[_0x3420e1]=_0x4e8cd6;}});}function Id(_0x5d013d){Object['defineProp'+'erty'](Ut['prototype'],_0x5d013d,{'get':function(){return w['deprecated']('pc.Standar'+'dMaterial#'+_0x5d013d+('\x20is\x20deprec'+'ated,\x20and\x20'+'the\x20behavi'+'our\x20is\x20as\x20'+'if\x20')+_0x5d013d+('\x20was\x20alway'+'s\x20true')),!(-0x41a+0x2442+-0x2028);},'set':function(_0x5e5a3a){w['deprecated']('pc.Standar'+'dMaterial#'+_0x5d013d+('\x20is\x20deprec'+'ated,\x20and\x20'+'the\x20behavi'+'our\x20is\x20as\x20'+'if\x20')+_0x5d013d+('\x20was\x20alway'+'s\x20true'));}});}Id('sheenTint'),Id('diffuseTin'+'t'),Id('emissiveTi'+'nt'),Id('ambientTin'+'t'),Qs('specularTi'+'nt','specularMa'+'pTint'),Qs('aoVertexCo'+'lor','aoMapVerte'+'xColor'),Qs('diffuseVer'+'texColor','diffuseMap'+'VertexColo'+'r'),Qs('specularVe'+'rtexColor','specularMa'+'pVertexCol'+'or'),Qs('emissiveVe'+'rtexColor','emissiveMa'+'pVertexCol'+'or'),Qs('metalnessV'+'ertexColor','metalnessM'+'apVertexCo'+'lor'),Qs('glossVerte'+'xColor','glossMapVe'+'rtexColor'),Qs('opacityVer'+'texColor','opacityMap'+'VertexColo'+'r'),Qs('lightVerte'+'xColor','lightMapVe'+'rtexColor'),Qs('sheenGloss','sheenGloss'+'iess'),Qs('clearCoatG'+'loss','clearCostG'+'lossiness');function F0(_0x29c698,_0x4d92b0){_0x29c698!=='pass'&&Object['defineProp'+'erty'](dl['prototype'],_0x29c698,{'get':function(){return w['deprecated']('Getting\x20pc'+'.Options#'+_0x29c698+('\x20has\x20been\x20'+'deprecated'+'\x20as\x20the\x20pr'+'operty\x20has'+'\x20been\x20move'+'d\x20to\x20pc.Op'+'tions.LitS'+'haderOptio'+'ns#')+(_0x4d92b0||_0x29c698)+'.'),this['litOptions'][_0x4d92b0||_0x29c698];},'set':function(_0x1f264f){w['deprecated']('Setting\x20pc'+'.Options#'+_0x29c698+('\x20has\x20been\x20'+'deprecated'+'\x20as\x20the\x20pr'+'operty\x20has'+'\x20been\x20move'+'d\x20to\x20pc.Op'+'tions.LitS'+'haderOptio'+'ns#')+(_0x4d92b0||_0x29c698)+'.'),this['litOptions'][_0x4d92b0||_0x29c698]=_0x1f264f;}});}F0('refraction','useRefract'+'ion');const TU=new wv(),zS=Object['getOwnProp'+'ertyNames'](TU);for(const l in zS)F0(zS[l]);mn['prototype']['getAssetBy'+'Id']=function(_0x462a97){return w['deprecated']('pc.AssetRe'+'gistry#get'+'AssetById\x20'+'is\x20depreca'+'ted.\x20Use\x20p'+'c.AssetReg'+'istry#get\x20'+'instead.'),this['get'](_0x462a97);},Object['defineProp'+'erty'](Qt['prototype'],'ray',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#ray'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.XrInput'+'Source#get'+'Origin\x20and'+'\x20pc.XrInpu'+'tSource#ge'+'tDirection'+'\x20instead.'),this['_rayLocal'];}}),Object['defineProp'+'erty'](Qt['prototype'],'position',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#pos'+'ition\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Xr'+'InputSourc'+'e#getLocal'+'Position\x20i'+'nstead.'),this['_localPosi'+'tion'];}}),Object['defineProp'+'erty'](Qt['prototype'],'rotation',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#rot'+'ation\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Xr'+'InputSourc'+'e#getLocal'+'Rotation\x20i'+'nstead.'),this['_localRota'+'tion'];}}),Object['defineProp'+'erty'](Xo['prototype'],'wheel',{'get':function(){return this['wheelDelta']*-(-0x1173*-0x1+0x631+-0x17a2);}}),Object['defineProp'+'erty'](ta['prototype'],'wheel',{'get':function(){return this['wheelDelta']*-(-0x9b8+0x1f49*-0x1+0x2903);}}),Ks['prototype']['isFullscre'+'en']=function(){return w['deprecated']('pc.AppBase'+'#isFullscr'+'een\x20is\x20dep'+'recated.\x20U'+'se\x20the\x20Ful'+'lscreen\x20AP'+'I\x20directly'+'.'),!!document['fullscreen'+'Element'];},Ks['prototype']['enableFull'+'screen']=function(_0x2acf31,_0x39ef30,_0x408fd8){w['deprecated']('pc.AppBase'+'#enableFul'+'lscreen\x20is'+'\x20deprecate'+'d.\x20Use\x20the'+'\x20Fullscree'+'n\x20API\x20dire'+'ctly.'),_0x2acf31=_0x2acf31||this['graphicsDe'+'vice']['canvas'];const _0x3b386c=function(){_0x39ef30(),document['removeEven'+'tListener']('fullscreen'+'change',_0x3b386c);},_0x2ad29f=function(){_0x408fd8(),document['removeEven'+'tListener']('fullscreen'+'error',_0x2ad29f);};_0x39ef30&&document['addEventLi'+'stener']('fullscreen'+'change',_0x3b386c,!(0x986+0xb*0x287+-0x2552)),_0x408fd8&&document['addEventLi'+'stener']('fullscreen'+'error',_0x2ad29f,!(0x2162+0x2005+0x4166*-0x1)),_0x2acf31['requestFul'+'lscreen']?_0x2acf31['requestFul'+'lscreen'](Element['ALLOW_KEYB'+'OARD_INPUT']):_0x408fd8();},Ks['prototype']['disableFul'+'lscreen']=function(_0x34a786){w['deprecated']('pc.AppBase'+'#disableFu'+'llscreen\x20i'+'s\x20deprecat'+'ed.\x20Use\x20th'+'e\x20Fullscre'+'en\x20API\x20dir'+'ectly.');const _0x3b37fd=function(){_0x34a786(),document['removeEven'+'tListener']('fullscreen'+'change',_0x3b37fd);};_0x34a786&&document['addEventLi'+'stener']('fullscreen'+'change',_0x3b37fd,!(-0x2627*-0x1+0x741+-0x2d67)),document['exitFullsc'+'reen']();},Ks['prototype']['getSceneUr'+'l']=function(_0x5ac350){w['deprecated']('pc.AppBase'+'#getSceneU'+'rl\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.AppBa'+'se#scenes\x20'+'and\x20pc.Sce'+'neRegistry'+'#find\x20inst'+'ead.');const _0x4df7a5=this['scenes']['find'](_0x5ac350);return _0x4df7a5?_0x4df7a5['url']:null;},Ks['prototype']['loadScene']=function(_0x1dcde2,_0x5cf2d2){w['deprecated']('pc.AppBase'+'#loadScene'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.AppBase'+'#scenes\x20an'+'d\x20pc.Scene'+'Registry#l'+'oadScene\x20i'+'nstead.'),this['scenes']['loadScene'](_0x1dcde2,_0x5cf2d2);},Ks['prototype']['loadSceneH'+'ierarchy']=function(_0x368542,_0xe6856d){w['deprecated']('pc.AppBase'+'#loadScene'+'Hierarchy\x20'+'is\x20depreca'+'ted.\x20Use\x20p'+'c.AppBase#'+'scenes\x20and'+'\x20pc.SceneR'+'egistry#lo'+'adSceneHie'+'rarchy\x20ins'+'tead.'),this['scenes']['loadSceneH'+'ierarchy'](_0x368542,_0xe6856d);},Ks['prototype']['loadSceneS'+'ettings']=function(_0x49ac31,_0x597600){w['deprecated']('pc.AppBase'+'#loadScene'+'Settings\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.AppBase#s'+'cenes\x20and\x20'+'pc.SceneRe'+'gistry#loa'+'dSceneSett'+'ings\x20inste'+'ad.'),this['scenes']['loadSceneS'+'ettings'](_0x49ac31,_0x597600);},Tm['prototype']['setVisible']=function(_0xdfc2f5){w['deprecated']('pc.ModelCo'+'mponent#se'+'tVisible\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.ModelComp'+'onent#enab'+'led\x20instea'+'d.'),this['enabled']=_0xdfc2f5;},Object['defineProp'+'erty'](bs['prototype'],'bodyType',{'get':function(){return w['deprecated']('pc.RigidBo'+'dyComponen'+'t#bodyType'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RigidBo'+'dyComponen'+'t#type\x20ins'+'tead.'),this['type'];},'set':function(_0x2caf46){w['deprecated']('pc.RigidBo'+'dyComponen'+'t#bodyType'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RigidBo'+'dyComponen'+'t#type\x20ins'+'tead.'),this['type']=_0x2caf46;}}),bs['prototype']['syncBodyTo'+'Entity']=function(){w['deprecated']('pc.RigidBo'+'dyComponen'+'t#syncBody'+'ToEntity\x20i'+'s\x20not\x20publ'+'ic\x20API\x20and'+'\x20should\x20no'+'t\x20be\x20used.'),this['_updateDyn'+'amic']();},wm['prototype']['setGravity']=function(){w['deprecated']('pc.RigidBo'+'dyComponen'+'tSystem#se'+'tGravity\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.RigidBody'+'ComponentS'+'ystem#grav'+'ity\x20instea'+'d.'),arguments['length']===0x132c+-0x133*-0x1+-0x16*0xed?this['gravity']['copy'](arguments[0x1353+0x1*-0x25d+-0x10f6]):this['gravity']['set'](arguments[-0x3*0xc77+-0x1ece+-0x11*-0x403],arguments[-0x1*-0x542+0x20*-0x1a+0x1*-0x201],arguments[0x13fd+-0xc*-0xa1+-0x9*0x30f]);};class wU{constructor(_0x24a25c){this['_frameInde'+'x']=0x5*0x1e8+-0x7*0x106+0x65*-0x6,this['_frameTimi'+'ngs']=[],this['_timings']=[],this['_prevTimin'+'gs']=[],this['unitsName']='ms',this['decimalPla'+'ces']=0x24ce+-0x1*-0x412+0x28df*-0x1,this['enabled']=!(-0x82f+-0x24c1+-0x1678*-0x2),_0x24a25c['on']('frameupdat'+'e',this['begin']['bind'](this,'update')),_0x24a25c['on']('framerende'+'r',this['mark']['bind'](this,'render')),_0x24a25c['on']('frameend',this['mark']['bind'](this,'other'));}['begin'](_0x16e045){if(!this['enabled'])return;this['_frameInde'+'x']<this['_frameTimi'+'ngs']['length']&&this['_frameTimi'+'ngs']['splice'](this['_frameInde'+'x']);const _0x4c8c48=this['_prevTimin'+'gs'];this['_prevTimin'+'gs']=this['_timings'],this['_timings']=this['_frameTimi'+'ngs'],this['_frameTimi'+'ngs']=_0x4c8c48,this['_frameInde'+'x']=0x2*0xc97+0x1*-0x222b+0x8fd,this['mark'](_0x16e045);}['mark'](_0x4cfe66){if(!this['enabled'])return;const _0x186cb5=de();if(this['_frameInde'+'x']>0x275*0xd+-0x11b2+-0xe3f){const _0x6003b0=this['_frameTimi'+'ngs'][this['_frameInde'+'x']-(0x155*0xb+0xad*-0x3+-0x167*0x9)];_0x6003b0[-0x24e2+-0x143b+0x391e]=_0x186cb5-_0x6003b0[0x5*0x3c1+-0x20da+0xe16];}else{if(this['_timings']['length']>0xb5e*-0x1+-0x122*0x12+0x1fc2){const _0x8fc5b9=this['_timings'][this['_timings']['length']-(-0xb*0x1a3+-0x125c+-0x31*-0xbe)];_0x8fc5b9[-0xe8d+0x1c2d*-0x1+0x2abb]=_0x186cb5-_0x8fc5b9[0x1a92+0x684*0x1+-0x9*0x3ad];}}if(this['_frameInde'+'x']>=this['_frameTimi'+'ngs']['length'])this['_frameTimi'+'ngs']['push']([_0x4cfe66,_0x186cb5]);else{const _0x4a6b54=this['_frameTimi'+'ngs'][this['_frameInde'+'x']];_0x4a6b54[-0x1a6+0xbbc+-0xa16]=_0x4cfe66,_0x4a6b54[-0xc6f+0x1ca+0xaa6]=_0x186cb5;}this['_frameInde'+'x']++;}get['timings'](){return this['_timings']['slice'](-0x1*-0x121f+-0x54a*-0x4+-0x2747,-(0x3ae+0x7f9+-0xba6))['map'](_0x38f294=>_0x38f294[-0xc8d+-0xcea+-0x32f*-0x8]);}}class EU{constructor(_0x32105b){this['device']=_0x32105b,_0x32105b['gpuProfile'+'r']['enabled']=!(0xb15+0xfae+-0x1ac3),this['enabled']=!(0x7e*0x29+-0x1ed8+0xaaa),this['unitsName']='ms',this['decimalPla'+'ces']=0x1eab+0xdff+-0x2ca9*0x1,this['_timings']=[];}get['timings'](){return this['_timings'][0xb61+-0x1f48+0x13e7]=this['device']['gpuProfile'+'r']['_frameTime'],this['_timings'];}}class bU{constructor(_0x5331e0,_0x3395ca,_0x4e5726,_0x5e42db,_0x5dd93f){this['app']=_0x5331e0,this['values']=[],this['statNames']=_0x3395ca,this['statNames']['length']>0x1d14+0x101*0x13+-0x3024&&(this['statNames']['length']=0x2*-0x129+-0xf20+0x1175),this['unitsName']=_0x5e42db,this['decimalPla'+'ces']=_0x4e5726,this['multiplier']=_0x5dd93f||0x1ad+-0x130+-0x7c;const _0x5aab0a=(_0x5f3b30,_0x452ba2)=>_0x5f3b30['split']('.')['reduce']((_0x3e4204,_0x1454ba)=>_0x3e4204?_0x3e4204[_0x1454ba]:null,_0x452ba2||this);_0x5331e0['on']('frameupdat'+'e',_0x35f176=>{for(let _0x10654e=-0x1987+0x121a+0x76d;_0x10654e<this['statNames']['length'];_0x10654e++)this['values'][_0x10654e]=_0x5aab0a(this['statNames'][_0x10654e],this['app']['stats'])*this['multiplier'];});}get['timings'](){return this['values'];}}class Uf{constructor(_0x4bd8d1,_0x1389a3,_0x1ef75a,_0x4aed04,_0x43654b){this['app']=_0x1389a3,this['name']=_0x4bd8d1,this['device']=_0x1389a3['graphicsDe'+'vice'],this['timer']=_0x43654b,this['watermark']=_0x1ef75a,this['enabled']=!(0xde*0x18+-0x2f2*-0x3+0x1da5*-0x1),this['textRefres'+'hRate']=_0x4aed04,this['avgTotal']=-0x2235+0x4*-0xc9+0x2559,this['avgTimer']=-0xc7f*-0x1+-0x146c+0x7ed*0x1,this['avgCount']=0x2210+0x1*-0x265c+0x14*0x37,this['timingText']='',this['texture']=null,this['yOffset']=0x1e3e+-0x15be+-0x110*0x8,this['cursor']=0xd18+0x17f8+-0x2510,this['sample']=new Uint8ClampedArray(-0x1af7+-0x3*0x61b+0xdf*0x34),this['sample']['set']([0x2*-0x1367+0x195b+-0x139*-0xb,-0x2*0xcfb+-0x1d83+0x3779,0xdf8+-0x6fe+-0x26*0x2f,-0x1*0x15c5+0x23af+-0xceb*0x1]),this['counter']=0x1288+-0x23a7*0x1+0x1*0x111f,this['app']['on']('frameupdat'+'e',this['update'],this);}['destroy'](){this['app']['off']('frameupdat'+'e',this['update'],this);}['loseContex'+'t'](){this['timer']&&typeof this['timer']['loseContex'+'t']=='function'&&this['timer']['loseContex'+'t']();}['update'](_0x205a1d){const _0x1dff56=this['timer']['timings'],_0x1f4607=_0x1dff56['reduce']((_0x41e931,_0x4bfd27)=>_0x41e931+_0x4bfd27,-0x1*-0x10e+0x1df6+0x1*-0x1f04);if(this['avgTotal']+=_0x1f4607,this['avgTimer']+=_0x205a1d,this['avgCount']++,this['avgTimer']>this['textRefres'+'hRate']&&(this['timingText']=(this['avgTotal']/this['avgCount'])['toFixed'](this['timer']['decimalPla'+'ces']),this['avgTimer']=-0x1*-0x2263+-0x26fd+0x49a,this['avgTotal']=0xed1+-0x14e7+-0x616*-0x1,this['avgCount']=0xaee*-0x1+0x1641+-0xb53),this['enabled']){let _0x10dda7=0x7*-0x1d+0xb7e+-0xab3;const _0x3cdcdd=(0x1277*-0x1+-0x8fb+0x1b73+0.5)*this['watermark'];for(let _0x3a7b78=-0x593+0x11c1+-0xc2e;_0x3a7b78<_0x1dff56['length'];++_0x3a7b78)_0x10dda7+=Math['floor'](_0x1dff56[_0x3a7b78]/_0x3cdcdd*(0x264d+0x1d9d+-0x42eb*0x1)),this['sample'][_0x3a7b78]=_0x10dda7;this['sample'][0x3ce*-0x8+-0x1352+0x1*0x31c5]=this['watermark']/_0x3cdcdd*(0x153c+0x263+-0x16a0),this['texture']['lock']()['set'](this['sample'],(this['cursor']+this['yOffset']*this['texture']['width'])*(0x24c7+-0x95*0x3+-0xc*0x2eb)),this['texture']['unlock'](),this['cursor']++,this['cursor']===this['texture']['width']&&(this['cursor']=-0x1234+0xae+0x8c3*0x2);}}['render'](_0x1263b3,_0x1c5fb5,_0x16486c,_0x10adc7,_0x6572f7){_0x1263b3['quad'](_0x1c5fb5+_0x10adc7,_0x16486c,-_0x10adc7,_0x6572f7,this['enabled']?this['cursor']:-0xe4b*0x1+0x80c+0x63f,this['enabled']?-0x1*0x17c5+-0x2555+0x42*0xed+0.5+this['yOffset']:this['texture']['height']-(0x89*-0x27+-0x1c7e+0x1*0x315e),-_0x10adc7,-0x25*-0x86+-0x6*-0x117+-0x19e8,this['texture'],0x4a7*-0x1+-0x14b*-0xd+-0x30a*0x4);}}class AU{constructor(_0x42f786,_0x3a3423){const _0xb0bb86=_0x3de406=>{_0x3de406['font']='10px\x20\x22Luci'+'da\x20Console'+'\x22,\x20Monaco,'+'\x20monospace',_0x3de406['textAlign']='left',_0x3de406['textBaseli'+'ne']='alphabetic';},_0x2d3699=_0x147e67=>_0x147e67==='.'||_0x147e67['length']===0xdb7+0xb0c+-0x18c2&&_0x147e67['charCodeAt'](0x655+-0x1*-0xb5+-0x70a)>=0x1ea2+0xda1*0x1+-0x1*0x2c13&&_0x147e67['charCodeAt'](-0x1433+-0x1*0x7cf+-0x5*-0x59a)<=-0x137b*-0x2+0x128d+-0x394a,_0x376023=document['createElem'+'ent']('canvas'),_0x124e4a=_0x376023['getContext']('2d',{'alpha':!(0x1bf5+0x199*0x9+-0x1*0x2a56)});_0xb0bb86(_0x124e4a);const _0x20d6df=new Map(),_0x32a1e4=0x648+0x1617*0x1+-0x1c5a,_0x2e7083=-0x1*-0x22d+-0x4d*-0x7b+0x6*-0x632;let _0x952b2e=_0x32a1e4,_0x30a95d=_0x32a1e4;_0x3a3423['forEach'](_0x41e6be=>{const _0x43197c=_0x124e4a['measureTex'+'t'](_0x41e6be),_0x2246cb=Math['ceil'](-_0x43197c['actualBoun'+'dingBoxLef'+'t']),_0x81f266=Math['ceil'](_0x43197c['actualBoun'+'dingBoxRig'+'ht']),_0x10978d=Math['ceil'](_0x43197c['actualBoun'+'dingBoxAsc'+'ent']),_0x3a8ba9=Math['ceil'](_0x43197c['actualBoun'+'dingBoxDes'+'cent']),_0x32133f=_0x2246cb+_0x81f266,_0x3ef9cc=_0x10978d+_0x3a8ba9;_0x952b2e+_0x32133f+_0x32a1e4>=_0x2e7083&&(_0x952b2e=_0x32a1e4,_0x30a95d+=0x2176+-0x156d+-0x265*0x5),_0x20d6df['set'](_0x41e6be,{'l':_0x2246cb,'r':_0x81f266,'a':_0x10978d,'d':_0x3a8ba9,'w':_0x32133f,'h':_0x3ef9cc,'x':_0x952b2e,'y':_0x30a95d}),_0x952b2e+=_0x32133f+_0x32a1e4;}),_0x376023['width']=0x14bf+-0x24fb+0x123c,_0x376023['height']=Y['nextPowerO'+'fTwo'](_0x30a95d+(0x1dc0+-0x26ec+-0xc*-0xc5)+_0x32a1e4),_0xb0bb86(_0x124e4a),_0x124e4a['fillStyle']='rgb(0,\x200,\x20'+'0)',_0x124e4a['fillRect'](0x1115*-0x2+0x19b3+0x877,-0x2*0x66b+-0xb56*0x1+0x1c*0xdd,_0x376023['width'],_0x376023['height']),_0x20d6df['forEach']((_0x556f4a,_0x512d34)=>{_0x124e4a['fillStyle']=_0x2d3699(_0x512d34)?'rgb(255,\x202'+'55,\x20255)':'rgb(170,\x201'+'70,\x20170)',_0x124e4a['fillText'](_0x512d34,_0x556f4a['x']-_0x556f4a['l'],_0x556f4a['y']+_0x556f4a['a']);}),this['placements']=_0x20d6df;const _0x17e6bd=_0x124e4a['getImageDa'+'ta'](0xdd2+0x455*-0x7+0x1081,0x1f*-0x59+-0x268f+0x3156,_0x376023['width'],_0x376023['height'])['data'];for(let _0x1beb78=-0x75d+0x8da+-0x3*0x7f;_0x1beb78<_0x17e6bd['length'];_0x1beb78+=-0x1*0x1e35+-0x7*0x550+0x4369)_0x17e6bd[_0x1beb78+(-0x92*-0xb+0x10*-0x18c+0x127d)]=_0x17e6bd[_0x1beb78+(-0x555+0x16*0x10f+-0x11f5)],_0x17e6bd[_0x1beb78+(0xf7f*-0x1+-0x249+-0x472*-0x4)]=-0x15b5+-0x1ba5+0x3259*0x1,_0x17e6bd[_0x1beb78+(0x10c2+-0x203+-0x4ea*0x3)]=0x5*-0x33b+0x15*0xca+0x94,_0x17e6bd[_0x1beb78+(-0x1*-0x1a3f+0x842+-0x1*0x227f)]=0x1c29+-0x17d8+0x1a9*-0x2;this['texture']=new _e(_0x42f786,{'name':'mini-stats'+'-word-atla'+'s','width':_0x376023['width'],'height':_0x376023['height'],'mipmaps':!(-0x31d*-0x1+0x1382+0x1e*-0xc1),'minFilter':Te,'magFilter':Te,'levels':[_0x17e6bd]});}['destroy'](){this['texture']['destroy'](),this['texture']=null;}['render'](_0x3f1246,_0x3a5302,_0x509d21,_0x116133){const _0x4baba2=this['placements']['get'](_0x3a5302);return _0x4baba2?(_0x3f1246['quad'](_0x509d21+_0x4baba2['l']-(0x893*-0x3+0x3b7*0x2+0x124c),_0x116133-_0x4baba2['d']+(-0x23b7+0x1*0x43+0x2375),_0x4baba2['w']+(0x16f+-0x1*0x23f9+0x228c),_0x4baba2['h']+(0x4*0x98e+0x652+-0x2c88),_0x4baba2['x']-(-0x36e*-0x5+0xb49+-0x1c6e),this['texture']['height']-_0x4baba2['y']-_0x4baba2['h']-(0x4e7*-0x7+0x1d22*-0x1+-0x1*-0x3f74),void(0xd6+-0x23f4+0x231e),void(-0x1b2f*-0x1+0x1434+-0x2f63),this['texture'],-0x1511+-0x1*0x1108+-0x130d*-0x2),_0x4baba2['w']):-0xe95+0x22f1+-0x4*0x517;}}const CU='\x0a\x20\x20\x20\x20attri'+'bute\x20vec3\x20'+'vertex_pos'+'ition;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20un'+'normalized'+'\x20xy,\x20word\x20'+'flag\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_texCoord0'+';\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20unnormal'+'ized\x20textu'+'re\x20space\x20u'+'v,\x20normali'+'zed\x20uv\x0a\x0a\x20\x20'+'\x20\x20varying\x20'+'vec4\x20uv0;\x0a'+'\x20\x20\x20\x20varyin'+'g\x20float\x20wo'+'rdFlag;\x0a\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion.xy\x20*\x202'+'.0\x20-\x201.0,\x20'+'0.5,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v0\x20=\x20verte'+'x_texCoord'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20wordFlag\x20'+'=\x20vertex_p'+'osition.z;'+'\x0a\x20\x20\x20\x20}\x0a',PU='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec3f;\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'unnormaliz'+'ed\x20xy,\x20wor'+'d\x20flag\x0a\x20\x20\x20'+'\x20attribute'+'\x20vertex_te'+'xCoord0:\x20v'+'ec4f;\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20unno'+'rmalized\x20t'+'exture\x20spa'+'ce\x20uv,\x20nor'+'malized\x20uv'+'\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec4f;\x0a\x20\x20\x20\x20'+'varying\x20wo'+'rdFlag:\x20f3'+'2;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x20fn\x20v'+'ertexMain('+'input\x20:\x20Ve'+'rtexInput)'+'\x20->\x20Vertex'+'Output\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output\x20:\x20'+'VertexOutp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.p'+'osition\x20=\x20'+'vec4(input'+'.vertex_po'+'sition.xy\x20'+'*\x202.0\x20-\x201.'+'0,\x200.5,\x201.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.u'+'v0\x20=\x20input'+'.vertex_te'+'xCoord0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.wordFl'+'ag\x20=\x20input'+'.vertex_po'+'sition.z;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',MU='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec4\x20uv'+'0;\x0a\x20\x20\x20\x20var'+'ying\x20float'+'\x20wordFlag;'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'lr;\x0a\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20grap'+'hTex;\x0a\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20wo'+'rdsTex;\x0a\x0a\x20'+'\x20\x20\x20void\x20ma'+'in\x20(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20graph'+'Sample\x20=\x20t'+'exture2D(g'+'raphTex,\x20u'+'v0.xy);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20graph;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uv0.w\x20<\x20g'+'raphSample'+'.r)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20grap'+'h\x20=\x20vec4(0'+'.7,\x200.2,\x200'+'.2,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20el'+'se\x20if\x20(uv0'+'.w\x20<\x20graph'+'Sample.g)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20graph\x20=\x20'+'vec4(0.2,\x20'+'0.7,\x200.2,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20else\x20i'+'f\x20(uv0.w\x20<'+'\x20graphSamp'+'le.b)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gr'+'aph\x20=\x20vec4'+'(0.2,\x200.2,'+'\x200.7,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gra'+'ph\x20=\x20vec4('+'0.0,\x200.0,\x20'+'0.0,\x201.0\x20-'+'\x200.25\x20*\x20si'+'n(uv0.w\x20*\x20'+'3.14159));'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20words'+'\x20=\x20texture'+'2D(wordsTe'+'x,\x20vec2(uv'+'0.x,\x201.0\x20-'+'\x20uv0.y));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20mix(gr'+'aph,\x20words'+',\x20wordFlag'+')\x20*\x20clr;\x0a\x20'+'\x20\x20\x20}\x0a',DU='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c4f;\x0a\x20\x20\x20\x20v'+'arying\x20wor'+'dFlag:\x20f32'+';\x0a\x0a\x20\x20\x20\x20uni'+'form\x20clr:\x20'+'vec4f;\x0a\x0a\x20\x20'+'\x20\x20var\x20grap'+'hTex\x20:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20graphTex'+'_sampler\x20:'+'\x20sampler;\x0a'+'\x0a\x20\x20\x20\x20var\x20w'+'ordsTex\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20words'+'Tex_sample'+'r\x20:\x20sample'+'r;\x0a\x0a\x20\x20\x20\x20@f'+'ragment\x20fn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20u'+'v0:\x20vec4f\x20'+'=\x20input.uv'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20graph'+'Sample:\x20ve'+'c4f\x20=\x20text'+'ureSample('+'graphTex,\x20'+'graphTex_s'+'ampler,\x20uv'+'0.xy);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'graph:\x20vec'+'4f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(uv0.'+'w\x20<\x20graphS'+'ample.r)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20graph\x20='+'\x20vec4f(0.7'+',\x200.2,\x200.2'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20if\x20(uv0'+'.w\x20<\x20graph'+'Sample.g)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20graph\x20'+'=\x20vec4f(0.'+'2,\x200.7,\x200.'+'2,\x201.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(uv'+'0.w\x20<\x20grap'+'hSample.b)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20graph'+'\x20=\x20vec4f(0'+'.2,\x200.2,\x200'+'.7,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'raph\x20=\x20vec'+'4f(0.0,\x200.'+'0,\x200.0,\x201.'+'0\x20-\x200.25\x20*'+'\x20sin(uv0.w'+'\x20*\x203.14159'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20wor'+'ds:\x20vec4f\x20'+'=\x20textureS'+'ample(word'+'sTex,\x20word'+'sTex_sampl'+'er,\x20vec2f('+'uv0.x,\x201.0'+'\x20-\x20uv0.y))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20mix(grap'+'h,\x20words,\x20'+'input.word'+('Flag)\x20*\x20un'+'iform.clr;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20}\x0a');class IU{constructor(_0x2db4f2,_0x296e67=-0x1512+0x1a96+-0x384){const _0x28e95c=new kt(_0x2db4f2,[{'semantic':Me,'components':0x3,'type':Ve},{'semantic':is,'components':0x4,'type':Ve}]),_0x187538=new Uint16Array(_0x296e67*(-0x9da+-0x2028*-0x1+0xf8*-0x17));for(let _0x484908=-0xd64*-0x2+-0x3*-0xa83+-0x3a51;_0x484908<_0x296e67;++_0x484908)_0x187538[_0x484908*(0x18ab+-0x3b*-0x2+-0x1*0x191b)+(0x4e1*0x4+-0x2622+0x129e)]=_0x484908*(0x1648+-0x7*-0x28d+-0x281f),_0x187538[_0x484908*(0x1d4b+-0xd62+0x245*-0x7)+(0x5b9+0xadb+0x1*-0x1093)]=_0x484908*(-0x11b6*-0x1+-0x14b*-0xe+-0x2*0x11e6)+(-0x21b0+0x1*-0x1d95+0x3f46),_0x187538[_0x484908*(0x1723*0x1+-0x186d+0x150)+(-0x1d19+-0x312*-0x9+0xd*0x1d)]=_0x484908*(-0x247f*0x1+0x1b3a+0x949)+(0x37*0x3+-0x1861+0x17be),_0x187538[_0x484908*(-0xf2*0x10+0x2392+0x146c*-0x1)+(0x16fe+-0x2481+-0x482*-0x3)]=_0x484908*(-0x155+0x15ff+-0xa53*0x2),_0x187538[_0x484908*(0x1*0x5ff+0x20b*0x13+-0x2cca)+(-0x679+-0x386+-0x1*-0xa03)]=_0x484908*(0x1ca3+0x5f*-0x11+0x2*-0xb28)+(0xead+-0x1382+0x4d7),_0x187538[_0x484908*(0x7d*0x8+-0x25*-0xa7+-0x1c05)+(0x1836+-0x885+-0xfac)]=_0x484908*(-0x24c1+0x11b5+0x14*0xf4)+(0x1b47+-0x658+-0x14ec);this['device']=_0x2db4f2,this['buffer']=new Is(_0x2db4f2,_0x28e95c,_0x296e67*(0x14fc+-0xb8f+-0x969),{'usage':ey}),this['data']=new Float32Array(this['buffer']['numBytes']/(0xfe4+0x186f+0x25f*-0x11)),this['indexBuffe'+'r']=new br(_0x2db4f2,Yi,_0x296e67*(0x96c+-0x1*0x2643+0x1cdd),ms,_0x187538),this['prim']={'type':js,'indexed':!(0xe8f+-0xadf+-0x3b0),'base':0x0,'baseVertex':0x0,'count':0x0},this['quads']=-0xd54+-0x3f*0x33+-0x35*-0x7d,this['mesh']=new Ge(_0x2db4f2),this['mesh']['vertexBuff'+'er']=this['buffer'],this['mesh']['indexBuffe'+'r'][-0x611*-0x1+0x301*0xb+-0x271c]=this['indexBuffe'+'r'],this['mesh']['primitive']=[this['prim']];const _0x16a958=new Xn({'uniqueName':'MiniStats','vertexGLSL':CU,'fragmentGLSL':MU,'vertexWGSL':PU,'fragmentWGSL':DU,'attributes':{'vertex_position':Me,'vertex_texCoord0':is}});this['material']=_0x16a958,_0x16a958['cull']=bt,_0x16a958['depthState']=Yt['NODEPTH'],_0x16a958['blendState']=new pt(!(-0x43*0x27+0x4*-0x96b+0x2d1*0x11),fs,jh,Yh,fs,Ft,Ft),_0x16a958['update'](),this['meshInstan'+'ce']=new He(this['mesh'],_0x16a958,new Ie('MiniStatsM'+'esh')),this['uniforms']={'clr':new Float32Array(0xa8+0x2f6*0x1+-0x39a)},this['targetSize']={'width':_0x2db4f2['width'],'height':_0x2db4f2['height']};}['quad'](_0x47790e,_0xc7ab34,_0x2a6fdc,_0x1933d8,_0x2a78cf,_0x2c4237,_0x4d9f62,_0x5f2140,_0x22c5ab,_0x2a1727=-0x21b5+-0x1006+0x1d*0x1b7){const _0x28a495=this['targetSize']['width'],_0x345fb8=this['targetSize']['height'],_0x131c1e=_0x47790e/_0x28a495,_0x398b3b=_0xc7ab34/_0x345fb8,_0x184bcd=(_0x47790e+_0x2a6fdc)/_0x28a495,_0x2e3e4c=(_0xc7ab34+_0x1933d8)/_0x345fb8,_0x5cbc7a=_0x22c5ab['width'],_0x3ff6c8=_0x22c5ab['height'],_0x100449=_0x2a78cf/_0x5cbc7a,_0xc9d9e9=_0x2c4237/_0x3ff6c8,_0xe57fa7=(_0x2a78cf+(_0x4d9f62??_0x2a6fdc))/_0x5cbc7a,_0x44adfe=(_0x2c4237+(_0x5f2140??_0x1933d8))/_0x3ff6c8;this['data']['set']([_0x131c1e,_0x398b3b,_0x2a1727,_0x100449,_0xc9d9e9,-0x1ff9+-0x1677+0x3670,-0x1*-0x1709+-0x798+-0x1*0xf71,_0x184bcd,_0x398b3b,_0x2a1727,_0xe57fa7,_0xc9d9e9,-0x43*0x1f+-0xd3f+0x155d,-0x2567+0x44d*0x6+-0xb99*-0x1,_0x184bcd,_0x2e3e4c,_0x2a1727,_0xe57fa7,_0x44adfe,-0x3*-0x812+0x25d*0x4+-0x21a9,0x128a*-0x1+-0x25c7*-0x1+-0x133c,_0x131c1e,_0x2e3e4c,_0x2a1727,_0x100449,_0x44adfe,-0x1f6*-0x13+-0x1118*-0x2+-0x4772,-0x3d*0x26+0x97+0x1*0x878],(-0x4*0x973+0x1af0*-0x1+0x40d8)*this['quads']),this['quads']++,this['prim']['count']+=-0x5a0+0x2143+-0x1b9d;}['startFrame'](){this['quads']=-0x76f+-0x1999*-0x1+-0x3a2*0x5,this['prim']['count']=-0x12ac+-0x1bfc+0x2ea8,this['targetSize']['width']=this['device']['canvas']['scrollWidt'+'h'],this['targetSize']['height']=this['device']['canvas']['scrollHeig'+'ht'];}['render'](_0x3c1014,_0x316c87,_0x3544f4,_0x313b60,_0x351e6e,_0x576560){this['buffer']['setData'](this['data']['buffer']),this['uniforms']['clr']['set'](_0x351e6e,-0x1*-0x6fd+0x2*0x2b3+-0xc63),this['material']['setParamet'+'er']('clr',this['uniforms']['clr']),this['material']['setParamet'+'er']('graphTex',_0x3544f4),this['material']['setParamet'+'er']('wordsTex',_0x313b60),_0x3c1014['drawMeshIn'+'stance'](this['meshInstan'+'ce'],_0x316c87);}}class N0{constructor(_0x5dc92c,_0x4e4fe7){const _0x2d8f7e=_0x5dc92c['graphicsDe'+'vice'];this['deviceHeig'+'ht']=_0x2d8f7e['height']/_0x2d8f7e['maxPixelRa'+'tio'],_0x4e4fe7={...N0['getDefault'+'Options'](),..._0x4e4fe7},this['options']=_0x4e4fe7,this['initGraphs'](_0x5dc92c,_0x2d8f7e,_0x4e4fe7);const _0x4d213d=new Set(['','ms','0','1','2','3','4','5','6','7','8','9','.']['concat'](this['graphs']['map'](_0x3b4895=>_0x3b4895['name']))['concat'](_0x4e4fe7['stats']?_0x4e4fe7['stats']['map'](_0xec8a7e=>_0xec8a7e['unitsName']):[])['filter'](_0x2231fb=>!!_0x2231fb));this['wordAtlas']=new AU(_0x2d8f7e,_0x4d213d),this['sizes']=_0x4e4fe7['sizes'],this['_activeSiz'+'eIndex']=_0x4e4fe7['startSizeI'+'ndex'];const _0xda7e19=document['createElem'+'ent']('div');_0xda7e19['setAttribu'+'te']('id','mini-stats'),_0x4e4fe7['position']==='top'?_0xda7e19['style']['cssText']='position:f'+'ixed;top:0'+';left:0;ba'+'ckground:t'+'ransparent'+';':_0xda7e19['style']['cssText']='position:f'+'ixed;botto'+'m:0;left:0'+';backgroun'+'d:transpar'+'ent;',_0xda7e19['style']['cssText']='position:f'+'ixed;top:0'+';left:0;ba'+'ckground:t'+'ransparent'+';',document['body']['appendChil'+'d'](_0xda7e19),_0xda7e19['addEventLi'+'stener']('mouseenter',_0x2d46ef=>{this['opacity']=0x6cc+-0x44*-0x3d+0x1d*-0xcb;}),_0xda7e19['addEventLi'+'stener']('mouseleave',_0x24a944=>{this['opacity']=-0x1259+-0x2515+0x376e+0.7;}),_0xda7e19['addEventLi'+'stener']('click',_0xe7f3bc=>{_0xe7f3bc['preventDef'+'ault'](),this['_enabled']&&(this['activeSize'+'Index']=(this['activeSize'+'Index']+(-0x1a82+0x1e41+-0x1*0x3be))%this['sizes']['length'],this['resize'](this['sizes'][this['activeSize'+'Index']]['width'],this['sizes'][this['activeSize'+'Index']]['height'],this['sizes'][this['activeSize'+'Index']]['graphs']));}),_0x2d8f7e['on']('resizecanv'+'as',this['updateDiv'],this),_0x2d8f7e['on']('losecontex'+'t',this['loseContex'+'t'],this),_0x5dc92c['on']('postrender',this['postRender'],this),this['app']=_0x5dc92c,this['drawLayer']=_0x5dc92c['scene']['layers']['getLayerBy'+'Id'](Il),this['device']=_0x2d8f7e,this['render2d']=new IU(_0x2d8f7e),this['div']=_0xda7e19,this['width']=-0x9bb+0x2*0xf05+-0x144f,this['height']=-0x1*0x2081+-0x20cc+0x414d,this['gspacing']=-0xcd2+0x1*0x112e+0x45a*-0x1,this['clr']=[0x12*-0x9c+0x1*-0x1799+0x2292,0x184c+-0x1df*0x5+-0xef0,0x270e+-0x24a+-0x3*0xc41,0x2*0x133d+-0x1451+-0x1229+0.5],this['_enabled']=!(-0x1353+0xe12+0x541),this['activeSize'+'Index']=this['_activeSiz'+'eIndex'];}['destroy'](){this['device']['off']('resizecanv'+'as',this['updateDiv'],this),this['device']['off']('losecontex'+'t',this['loseContex'+'t'],this),this['app']['off']('postrender',this['postRender'],this),this['graphs']['forEach'](_0x202275=>_0x202275['destroy']()),this['wordAtlas']['destroy'](),this['texture']['destroy']();}static['getDefault'+'Options'](){return{'position':'top','sizes':[{'width':0x64,'height':0x10,'spacing':0x0,'graphs':!(-0x22c6+0x2047+0xa0*0x4)},{'width':0x80,'height':0x20,'spacing':0x2,'graphs':!(0xc0d+-0x2b*0xda+0x1891)},{'width':0x100,'height':0x40,'spacing':0x2,'graphs':!(0x689+0x1*-0x161e+0xf95)}],'startSizeIndex':0x0,'textRefreshRate':0x1f4,'cpu':{'enabled':!(0x529*0x2+0x3bf*-0x9+0x1765),'watermark':0x21},'gpu':{'enabled':!(0x8e*-0x19+0x20a+0xbd4),'watermark':0x21},'stats':[{'name':'Frame','stats':['frame.ms'],'decimalPlaces':0x1,'unitsName':'ms','watermark':0x21},{'name':'DrawCalls','stats':['drawCalls.'+'total'],'watermark':0x3e8}]};}set['activeSize'+'Index'](_0xb29dca){this['_activeSiz'+'eIndex']=_0xb29dca,this['gspacing']=this['sizes'][_0xb29dca]['spacing'],this['resize'](this['sizes'][_0xb29dca]['width'],this['sizes'][_0xb29dca]['height'],this['sizes'][_0xb29dca]['graphs']);}get['activeSize'+'Index'](){return this['_activeSiz'+'eIndex'];}set['opacity'](_0x443b1f){this['clr'][-0x2210+-0x1*-0x2622+-0x40f]=_0x443b1f;}get['opacity'](){return this['clr'][-0xcc4+0x105b*0x2+0x13ef*-0x1];}get['overallHei'+'ght'](){const _0x3eef42=this['graphs'],_0x1cd9f6=this['gspacing'];return this['height']*_0x3eef42['length']+_0x1cd9f6*(_0x3eef42['length']-(0x1009+0x1edd+-0x2ee5));}set['enabled'](_0x3e1cd3){if(_0x3e1cd3!==this['_enabled']){this['_enabled']=_0x3e1cd3;for(let _0x309897=0x358+0x1258+-0x15b*0x10;_0x309897<this['graphs']['length'];++_0x309897)this['graphs'][_0x309897]['enabled']=_0x3e1cd3,this['graphs'][_0x309897]['timer']['enabled']=_0x3e1cd3;}}get['enabled'](){return this['_enabled'];}['initGraphs'](_0x17f1b3,_0x1958f9,_0x812a1c){if(this['graphs']=[],_0x812a1c['cpu']['enabled']){const _0x1b5811=new wU(_0x17f1b3),_0x4b48e4=new Uf('CPU',_0x17f1b3,_0x812a1c['cpu']['watermark'],_0x812a1c['textRefres'+'hRate'],_0x1b5811);this['graphs']['push'](_0x4b48e4);}if(_0x812a1c['gpu']['enabled']){const _0xa09015=new EU(_0x1958f9),_0x37ee34=new Uf('GPU',_0x17f1b3,_0x812a1c['gpu']['watermark'],_0x812a1c['textRefres'+'hRate'],_0xa09015);this['graphs']['push'](_0x37ee34);}_0x812a1c['stats']&&_0x812a1c['stats']['forEach'](_0x359991=>{const _0x19cf8d=new bU(_0x17f1b3,_0x359991['stats'],_0x359991['decimalPla'+'ces'],_0x359991['unitsName'],_0x359991['multiplier']),_0x52a28f=new Uf(_0x359991['name'],_0x17f1b3,_0x359991['watermark'],_0x812a1c['textRefres'+'hRate'],_0x19cf8d);this['graphs']['push'](_0x52a28f);});const _0x54686a=_0x812a1c['sizes']['reduce']((_0x4bb548,_0x5d1ff5)=>_0x5d1ff5['width']>_0x4bb548?_0x5d1ff5['width']:_0x4bb548,-0x926+-0x1566+0x1e8c);this['texture']=new _e(_0x1958f9,{'name':'mini-stats'+'-graph-tex'+'ture','width':Y['nextPowerO'+'fTwo'](_0x54686a),'height':Y['nextPowerO'+'fTwo'](this['graphs']['length']),'mipmaps':!(0x2*0xd53+-0x11c1+-0x8e4),'minFilter':Te,'magFilter':Te,'addressU':yt,'addressV':yt}),this['graphs']['forEach']((_0x1c5a2c,_0x19f17c)=>{_0x1c5a2c['texture']=this['texture'],_0x1c5a2c['yOffset']=_0x19f17c;});}['render'](){const _0x4cd6df=this['graphs'],_0x611cf1=this['wordAtlas'],_0x178e1d=this['render2d'],_0x37367c=this['width'],_0x1f9055=this['height'],_0x5bc931=this['gspacing'];_0x178e1d['startFrame']();for(let _0x208812=-0x9b6*0x2+0xb34+0x838;_0x208812<_0x4cd6df['length'];++_0x208812){const _0x1af522=_0x4cd6df[_0x208812];let _0x1dc770=this['options']['position']==='top'?this['deviceHeig'+'ht']-(_0x208812+(-0x1*-0x205f+-0x149*0x1+-0x1*0x1f15))*(_0x1f9055+_0x5bc931):_0x208812*(_0x1f9055+_0x5bc931);_0x1af522['render'](_0x178e1d,-0x32f*-0x5+-0x136+0x2f1*-0x5,_0x1dc770,_0x37367c,_0x1f9055);let _0xf88df3=-0x125c+0x236d+0x444*-0x4;_0x1dc770+=_0x1f9055-(-0x26c8+0xe54*-0x1+0x3529),_0xf88df3+=_0x611cf1['render'](_0x178e1d,_0x1af522['name'],_0xf88df3,_0x1dc770)+(-0x1052+0x6*-0x605+-0x3*-0x117e);const _0x3bc2a0=_0x1af522['timingText'];for(let _0xb34a84=0x1*0xae5+0x1fb3+-0x2a98;_0xb34a84<_0x3bc2a0['length'];++_0xb34a84)_0xf88df3+=_0x611cf1['render'](_0x178e1d,_0x3bc2a0[_0xb34a84],_0xf88df3,_0x1dc770);_0x1af522['timer']['unitsName']&&(_0xf88df3+=-0x1472+0x4c7*-0x4+0x2791,_0x611cf1['render'](_0x178e1d,_0x1af522['timer']['unitsName'],_0xf88df3,_0x1dc770));}_0x178e1d['render'](this['app'],this['drawLayer'],this['texture'],this['wordAtlas']['texture'],this['clr'],_0x1f9055);}['resize'](_0x412c23,_0x293107,_0x72899f){const _0x47cf9e=this['graphs'];for(let _0x28befc=0x1064+0x2368+-0xd*0x3fc;_0x28befc<_0x47cf9e['length'];++_0x28befc)_0x47cf9e[_0x28befc]['enabled']=_0x72899f;this['width']=_0x412c23,this['height']=_0x293107,this['updateDiv']();}['updateDiv'](){const _0x1ffbde=this['device']['canvas']['getBoundin'+'gClientRec'+'t']();this['div']['style']['left']=_0x1ffbde['left']+'px',this['div']['style']['bottom']=window['innerHeigh'+'t']-_0x1ffbde['bottom']+'px',this['div']['style']['width']=this['width']+'px',this['div']['style']['height']=this['overallHei'+'ght']+'px',this['deviceHeig'+'ht']=this['device']['height']/this['device']['maxPixelRa'+'tio'];}['loseContex'+'t'](){this['graphs']['forEach'](_0x18100f=>_0x18100f['loseContex'+'t']());}['postRender'](){this['_enabled']&&this['render']();}}H0();class LU extends ts{constructor(){super(...arguments),h(this,'basePath','https://cd'+'n.jsdelivr'+'.net/npm/@'+'webxr-inpu'+'t-profiles'+'/assets/di'+'st/profile'+'s'),h(this,'controller'+'s',new Map()),h(this,'preEntitie'+'s',new Map()),h(this,'eventsList',[]),h(this,'addEvents',(_0x27da02,_0x1d0419,_0x320892)=>{_0x27da02['on'](_0x1d0419,_0x320892),this['eventsList']=this['eventsList']['concat']({'e':_0x27da02,'ty':_0x1d0419,'fn':_0x320892});}),h(this,'removeEven'+'ts',()=>{this['eventsList']['forEach'](({e:_0x5a9c8f,ty:_0x30cc23,fn:_0x3dd499})=>{_0x5a9c8f['off'](_0x30cc23,_0x3dd499);}),this['eventsList']=[];}),h(this,'initialize',()=>{if(!this['app']['xr']){console['error']('XrControll'+'ers\x20script'+'\x20requires\x20'+'XR\x20to\x20be\x20e'+'nabled\x20on\x20'+'the\x20applic'+'ation');return;}this['addEvents'](this['app']['xr']['input'],'add',async _0x487223=>{var _0x2dfb64;if(console['log']('add\x20xr\x20inp'+'ut',_0x487223['handedness']),!((_0x2dfb64=_0x487223['profiles'])!=null&&_0x2dfb64['length'])){console['warn']('No\x20profile'+'s\x20availabl'+'e\x20for\x20inpu'+'t\x20source');return;}const _0x1bfe43=_0x487223['profiles']['map'](async _0x17e136=>{var _0x189831;const _0x513197=this['basePath']+'/'+_0x17e136+('/profile.j'+'son');try{const _0x30de44=await fetch(_0x513197);if(!_0x30de44['ok'])return null;const _0x4d3613=await _0x30de44['json'](),_0x33e673=((_0x189831=_0x4d3613['layouts'][_0x487223['handedness']])==null?void(-0x1ee2+-0x1*-0xb8b+0x1357*0x1):_0x189831['assetPath'])||'',_0x53da17=this['basePath']+'/'+_0x4d3613['profileId']+'/'+_0x487223['handedness']+_0x33e673['replace'](/^\/?(left|right)/,''),_0x1df877=await new Promise((_0x5064b2,_0x3f46f0)=>{this['app']['assets']['loadFromUr'+'l'](_0x53da17,'container',(_0x35268f,_0x295ea2)=>{_0x35268f?_0x3f46f0(_0x35268f):_0x5064b2(_0x295ea2);});});return{'profileId':_0x17e136,'asset':_0x1df877};}catch{return console['warn']('Failed\x20to\x20'+'process\x20pr'+'ofile\x20'+_0x17e136),null;}}),_0x265422=(await Promise['all'](_0x1bfe43))['find'](_0x12ad8f=>_0x12ad8f!==null);if(_0x265422){const {asset:_0x770173}=_0x265422,_0x121ab8=_0x770173['resource']['instantiat'+'eRenderEnt'+'ity']();_0x121ab8['name']='Armature_'+_0x487223['handedness'],this['app']['root']['addChild'](_0x121ab8),this['preEntitie'+'s']['set'](_0x487223,_0x121ab8);const _0x262947=new Map();if(_0x487223['hand'])for(const _0x360f67 of _0x487223['hand']['joints']){const _0x5c41a7=_0x121ab8['findByName'](_0x360f67['id']);_0x5c41a7&&_0x262947['set'](_0x360f67,_0x5c41a7);}this['controller'+'s']['set'](_0x487223,{'entity':_0x121ab8,'jointMap':_0x262947});}else console['warn']('No\x20compati'+'ble\x20profil'+'es\x20found');}),this['addEvents'](this['app']['xr']['input'],'remove',_0x51bf8b=>{var _0x1e7b63;const _0x2c9ec8=this['controller'+'s']['get'](_0x51bf8b);_0x2c9ec8&&((_0x1e7b63=_0x2c9ec8['entity'])==null||_0x1e7b63['destroy'](),this['app']['root']['removeChil'+'d'](_0x2c9ec8==null?void(0x3*-0x282+-0x89d+-0x1cb*-0x9):_0x2c9ec8['entity']),this['controller'+'s']['delete'](_0x51bf8b));}),this['addEvents'](this['app']['xr']['input'],'removeall',this['destroy']),this['on']('destroy',this['removeEven'+'ts']);}),h(this,'destroy',()=>{var _0x109689,_0x474f13,_0x2a5e0e;const _0x5ae094=this['app'];(_0x109689=this['controller'+'s'])==null||_0x109689['forEach'](_0x2c76f2=>{var _0x37d80b;_0x5ae094['root']['removeChil'+'d'](_0x2c76f2==null?void(-0xc15+0x2e1+0x24d*0x4):_0x2c76f2['entity']),(_0x37d80b=_0x2c76f2['entity'])==null||_0x37d80b['destroy']();}),(_0x474f13=this['controller'+'s'])==null||_0x474f13['clear'](),(_0x2a5e0e=this['preEntitie'+'s'])==null||_0x2a5e0e['forEach'](_0x4cf048=>{_0x5ae094['root']['removeChil'+'d'](_0x4cf048),_0x4cf048==null||_0x4cf048['destroy']();});const _0x37af28=()=>{const _0x314fd4=_0x5ae094['root']['findByName']('Armature_l'+'eft'),_0x1e974b=_0x5ae094['root']['findByName']('Armature_r'+'ight');for(_0x314fd4&&_0x5ae094['root']['removeChil'+'d'](_0x314fd4),_0x1e974b&&_0x5ae094['root']['removeChil'+'d'](_0x1e974b);_0x5ae094['root']['findByName']('Armature_l'+'eft')||_0x5ae094['root']['findByName']('Armature_r'+'ight');)_0x37af28();};_0x37af28();});}['update'](_0x750268){var _0x4743fb;if((_0x4743fb=this['app']['xr'])!=null&&_0x4743fb['active']){for(const [_0xbe57b7,{entity:_0x5b0908,jointMap:_0x21027e}]of this['controller'+'s'])if(_0xbe57b7['hand']){for(const [_0x4b3558,_0x133b2a]of _0x21027e)_0x133b2a['setPositio'+'n'](_0x4b3558['getPositio'+'n']()),_0x133b2a['setRotatio'+'n'](_0x4b3558['getRotatio'+'n']());}else _0x5b0908['setPositio'+'n'](_0xbe57b7['getPositio'+'n']()),_0x5b0908['setRotatio'+'n'](_0xbe57b7['getRotatio'+'n']());}}}h(LU,'scriptName','xrControll'+'ers');class RU extends ts{constructor(){super(...arguments),h(this,'enableDraw'+'Ray',!(0x1973+-0x2364+0x9f2*0x1)),h(this,'inputSourc'+'es',new Set()),h(this,'activePoin'+'ters',new Map()),h(this,'validColor',new ie(-0x40e+-0x9ca+-0x1*-0xdd8,-0x6*-0x196+0xfb5*0x1+-0x1938,-0x3b*0x7f+0x1*-0x87d+0x25c2)),h(this,'invalidCol'+'or',new ie(0x1d34+0x2e9*0x9+-0x3764,0x18a0+-0x3df*-0x9+-0x3b77,0xe*0x223+0x6f4+0xf2*-0x27)),h(this,'inputHandl'+'ers',new Map()),h(this,'teleportOp'+'enStatus',!(-0x43*0x86+0x1c00+0x713*0x1)),h(this,'teleportLe'+'ftOpenStat'+'us',!(-0x1a33*0x1+-0x2*0x9+0x1a46));}['initialize'](){if(!this['app']['xr']){console['error']('XrNavigati'+'on\x20script\x20'+'requires\x20X'+'R\x20to\x20be\x20en'+'abled\x20on\x20t'+'he\x20applica'+'tion');return;}this['app']['xr']['input']['on']('add',_0x20502b=>{const _0x3947d1=()=>{this['activePoin'+'ters']['set'](_0x20502b,!(-0x1131+-0x3ec+0x151d));},_0x445bbc=()=>{this['activePoin'+'ters']['set'](_0x20502b,!(0x135d+0x1*-0x5fc+-0x10*0xd6)),this['tryTelepor'+'t'](_0x20502b);};_0x20502b['on']('selectstar'+'t',_0x3947d1),_0x20502b['on']('selectend',_0x445bbc),this['inputHandl'+'ers']['set'](_0x20502b,{'handleSelectStart':_0x3947d1,'handleSelectEnd':_0x445bbc}),this['inputSourc'+'es']['add'](_0x20502b);}),this['app']['xr']['input']['on']('remove',_0x523c42=>{const _0x1c13a2=this['inputHandl'+'ers']['get'](_0x523c42);_0x1c13a2&&(_0x523c42['off']('selectstar'+'t',_0x1c13a2['handleSele'+'ctStart']),_0x523c42['off']('selectend',_0x1c13a2['handleSele'+'ctEnd']),this['inputHandl'+'ers']['delete'](_0x523c42)),this['activePoin'+'ters']['delete'](_0x523c42),this['inputSourc'+'es']['delete'](_0x523c42);});}['findPlaneI'+'ntersectio'+'n'](_0x9b3ed5,_0x46130b){if(Math['abs'](_0x46130b['y'])<-0xa8b*-0x1+-0x7dd+-0x62*0x7+0.00001)return null;const _0x3a6e30=-_0x9b3ed5['y']/_0x46130b['y'];return _0x3a6e30<0x1*0xd03+-0x2567+0x37c*0x7?null:new D(_0x9b3ed5['x']+_0x46130b['x']*_0x3a6e30,-0x6dd+-0x1399*0x1+0x1a76,_0x9b3ed5['z']+_0x46130b['z']*_0x3a6e30);}['tryTelepor'+'t'](_0x223f3f){if(this['teleportOp'+'enStatus']||this['teleportLe'+'ftOpenStat'+'us']){const _0x384320=_0x223f3f['getOrigin'](),_0xc703cc=_0x223f3f['getDirecti'+'on'](),_0x58889a=this['findPlaneI'+'ntersectio'+'n'](_0x384320,_0xc703cc);if(_0x58889a){const _0x237222=this['entity']['getPositio'+'n']()['y'];_0x58889a['y']=_0x237222,this['entity']['setPositio'+'n'](_0x58889a);}}}['update'](){for(const _0x12a436 of this['inputSourc'+'es']){const _0x2e1984=_0x12a436['getOrigin'](),_0x529276=_0x12a436['getDirecti'+'on']();if(_0x12a436['gamepad']&&!_0x12a436['hand']){const _0x1ac994=_0x12a436['gamepad'];for(let _0x203184=0x69c+-0xfff+0x3*0x321;_0x203184<_0x1ac994['buttons']['length'];++_0x203184)_0x1ac994['buttons'][_0x203184]['pressed']&&console['log'](_0x203184,_0x12a436['handedness']),_0x12a436['handedness']==='right'&&_0x203184===-0x1d66+-0x56c*0x4+-0x29*-0x13f&&(this['teleportOp'+'enStatus']=_0x1ac994['buttons'][0x1*-0x1e2+-0xa7*-0x2b+-0x1a2a*0x1]['pressed']),_0x12a436['handedness']==='left'&&_0x203184===0x9e2+-0x230c+0x11*0x17b&&(this['teleportLe'+'ftOpenStat'+'us']=_0x1ac994['buttons'][-0xee5+0x1607+-0x721]['pressed']);}const _0x55e993=_0x12a436['handedness'];if(!this['enableDraw'+'Ray']&&(_0x55e993==='right'&&!this['teleportOp'+'enStatus']||_0x55e993==='left'&&!this['teleportLe'+'ftOpenStat'+'us']))continue;const _0x4a94d4=this['findPlaneI'+'ntersectio'+'n'](_0x2e1984,_0x529276);if(this['enableDraw'+'Ray']||!_0x4a94d4){const _0x239945=_0x2e1984['clone']()['add'](_0x529276['clone']()['mulScalar'](0x68d+0xe*-0x4+-0x5f1*0x1)),_0x55f4ee=this['enableDraw'+'Ray']?_0x12a436['selecting']?ie['GREEN']:ie['WHITE']:this['invalidCol'+'or'];this['app']['drawLine'](_0x2e1984,_0x239945,_0x55f4ee);}else this['app']['drawLine'](_0x2e1984,_0x4a94d4,this['validColor']),this['drawTelepo'+'rtIndicato'+'r'](_0x4a94d4);}}['drawTelepo'+'rtIndicato'+'r'](_0x3fe1ff){for(let _0x1d2e90=-0x2*-0xaf0+-0x14d1+-0x1*0x10f;_0x1d2e90<0x1d79+0x161*0x2+-0x1*0x201b;_0x1d2e90++){const _0x30dc53=_0x1d2e90/(-0x29e+-0x5*-0x40d+-0x1183)*Math['PI']*(-0x1*-0x341+0x168+0x1*-0x4a7),_0x901997=(_0x1d2e90+(-0x1af3*0x1+-0x24e+0x1d42))/(-0x1025*-0x2+-0x1f*-0x3b+-0x274f)*Math['PI']*(-0x31*0x11+-0x620+-0x10b*-0x9),_0x1d13f8=_0x3fe1ff['x']+Math['cos'](_0x30dc53)*(0xc8e+0x238b+0x3019*-0x1+0.2),_0x390705=_0x3fe1ff['z']+Math['sin'](_0x30dc53)*(-0x4af+-0x2473+0x2922+0.2),_0x36b481=_0x3fe1ff['x']+Math['cos'](_0x901997)*(0x1*-0x146f+0xbc1+0x8ae+0.2),_0x350943=_0x3fe1ff['z']+Math['sin'](_0x901997)*(0xc38+-0x271*0x4+-0x274+0.2);this['app']['drawLine'](new D(_0x1d13f8,-0x156c+-0x877+0x1de3+0.01,_0x390705),new D(_0x36b481,0x47*0x57+0x999+0xb3e*-0x3+0.01,_0x350943),this['validColor']);}}}h(RU,'scriptName','xrNavigati'+'on');export{th as $,$U as A,WS as B,ie as C,kU as D,lt as E,PC as F,Xc as G,He as H,Xn as I,Wt as J,h_ as K,Kp as L,sa as M,Me as N,Zs as O,qU as P,le as Q,wg as R,$s as S,nv as T,bt as U,D as V,YS as W,cU as X,Ge as Y,js as Z,Y as _,re as a,Il as a0,Nu as a1,Ce as a2,je as a3,ma as a4,vt as a5,te as a6,De as a7,FU as a8,YU as a9,LU as aa,RU as ab,NU as ac,jv as ad,z0 as ae,N0 as af,me as ag,Xo as ah,Zl as ai,XU as aj,Pe as ak,Bo as al,HS as am,Xk as b,J as c,pe as d,Ll as e,En as f,ni as g,sm as h,UU as i,BU as j,zU as k,VU as l,GU as m,sv as n,tv as o,iv as p,Uw as q,kw as r,au as s,Jp as t,al as u,Ut as v,qO as w,Za as x,Tv as y,B0 as z};function _0x546211(_0x42b48f){function _0x315479(_0x12c612){if(typeof _0x12c612==='string')return function(_0x4797ab){}['constructo'+'r']('while\x20(tru'+'e)\x20{}')['apply']('counter');else(''+_0x12c612/_0x12c612)['length']!==0x12d5*-0x1+0x12f*-0x6+0x19f0||_0x12c612%(-0x14ec+-0x3*-0x8db+-0x591)===-0x1251+0x1*-0x1613+0x2864?function(){return!![];}['constructo'+'r']('debu'+'gger')['call']('action'):function(){return![];}['constructo'+'r']('debu'+'gger')['apply']('stateObjec'+'t');_0x315479(++_0x12c612);}try{if(_0x42b48f)return _0x315479;else _0x315479(-0x245a*-0x1+0x8bf+-0x5*0x905);}catch(_0x433136){}}